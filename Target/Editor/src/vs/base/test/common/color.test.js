import e from"assert";import{Color as n,HSLA as a,HSVA as r,RGBA as t}from"../../common/color.js";import{ensureNoDisposablesAreLeakedInTestSuite as l}from"./utils.js";suite("Color",()=>{l(),test("isLighterColor",()=>{const w=new n(new a(60,1,.5,1)),S=new n(new a(0,0,.753,1));e.ok(w.isLighterThan(S)),e.ok(n.fromHex("#770811").isLighterThan(n.fromHex("#000c18")))}),test("getLighterColor",()=>{const w=new n(new a(60,1,.5,1)),S=new n(new a(0,0,.753,1));e.deepStrictEqual(w.hsla,n.getLighterColor(w,S).hsla),e.deepStrictEqual(new a(0,0,.916,1),n.getLighterColor(S,w).hsla),e.deepStrictEqual(new a(0,0,.851,1),n.getLighterColor(S,w,.3).hsla),e.deepStrictEqual(new a(0,0,.981,1),n.getLighterColor(S,w,.7).hsla),e.deepStrictEqual(new a(0,0,1,1),n.getLighterColor(S,w,1).hsla)}),test("isDarkerColor",()=>{const w=new n(new a(60,1,.5,1)),S=new n(new a(0,0,.753,1));e.ok(S.isDarkerThan(w))}),test("getDarkerColor",()=>{const w=new n(new a(60,1,.5,1)),S=new n(new a(0,0,.753,1));e.deepStrictEqual(S.hsla,n.getDarkerColor(S,w).hsla),e.deepStrictEqual(new a(60,1,.392,1),n.getDarkerColor(w,S).hsla),e.deepStrictEqual(new a(60,1,.435,1),n.getDarkerColor(w,S,.3).hsla),e.deepStrictEqual(new a(60,1,.349,1),n.getDarkerColor(w,S,.7).hsla),e.deepStrictEqual(new a(60,1,.284,1),n.getDarkerColor(w,S,1).hsla),e.deepStrictEqual(new a(355,.874,.157,1),n.getDarkerColor(n.fromHex("#770811"),n.fromHex("#000c18"),.4).hsla)}),test("luminance",()=>{e.deepStrictEqual(0,new n(new t(0,0,0,1)).getRelativeLuminance()),e.deepStrictEqual(1,new n(new t(255,255,255,1)).getRelativeLuminance()),e.deepStrictEqual(.2126,new n(new t(255,0,0,1)).getRelativeLuminance()),e.deepStrictEqual(.7152,new n(new t(0,255,0,1)).getRelativeLuminance()),e.deepStrictEqual(.0722,new n(new t(0,0,255,1)).getRelativeLuminance()),e.deepStrictEqual(.9278,new n(new t(255,255,0,1)).getRelativeLuminance()),e.deepStrictEqual(.7874,new n(new t(0,255,255,1)).getRelativeLuminance()),e.deepStrictEqual(.2848,new n(new t(255,0,255,1)).getRelativeLuminance()),e.deepStrictEqual(.5271,new n(new t(192,192,192,1)).getRelativeLuminance()),e.deepStrictEqual(.2159,new n(new t(128,128,128,1)).getRelativeLuminance()),e.deepStrictEqual(.0459,new n(new t(128,0,0,1)).getRelativeLuminance()),e.deepStrictEqual(.2003,new n(new t(128,128,0,1)).getRelativeLuminance()),e.deepStrictEqual(.1544,new n(new t(0,128,0,1)).getRelativeLuminance()),e.deepStrictEqual(.0615,new n(new t(128,0,128,1)).getRelativeLuminance()),e.deepStrictEqual(.17,new n(new t(0,128,128,1)).getRelativeLuminance()),e.deepStrictEqual(.0156,new n(new t(0,0,128,1)).getRelativeLuminance())}),test("blending",()=>{e.deepStrictEqual(new n(new t(0,0,0,0)).blend(new n(new t(243,34,43))),new n(new t(243,34,43))),e.deepStrictEqual(new n(new t(255,255,255)).blend(new n(new t(243,34,43))),new n(new t(255,255,255))),e.deepStrictEqual(new n(new t(122,122,122,.7)).blend(new n(new t(243,34,43))),new n(new t(158,95,98))),e.deepStrictEqual(new n(new t(0,0,0,.58)).blend(new n(new t(255,255,255,.33))),new n(new t(49,49,49,.719)))}),suite("HSLA",()=>{test("HSLA.toRGBA",()=>{e.deepStrictEqual(a.toRGBA(new a(0,0,0,0)),new t(0,0,0,0)),e.deepStrictEqual(a.toRGBA(new a(0,0,0,1)),new t(0,0,0,1)),e.deepStrictEqual(a.toRGBA(new a(0,0,1,1)),new t(255,255,255,1)),e.deepStrictEqual(a.toRGBA(new a(0,1,.5,1)),new t(255,0,0,1)),e.deepStrictEqual(a.toRGBA(new a(120,1,.5,1)),new t(0,255,0,1)),e.deepStrictEqual(a.toRGBA(new a(240,1,.5,1)),new t(0,0,255,1)),e.deepStrictEqual(a.toRGBA(new a(60,1,.5,1)),new t(255,255,0,1)),e.deepStrictEqual(a.toRGBA(new a(180,1,.5,1)),new t(0,255,255,1)),e.deepStrictEqual(a.toRGBA(new a(300,1,.5,1)),new t(255,0,255,1)),e.deepStrictEqual(a.toRGBA(new a(0,0,.753,1)),new t(192,192,192,1)),e.deepStrictEqual(a.toRGBA(new a(0,0,.502,1)),new t(128,128,128,1)),e.deepStrictEqual(a.toRGBA(new a(0,1,.251,1)),new t(128,0,0,1)),e.deepStrictEqual(a.toRGBA(new a(60,1,.251,1)),new t(128,128,0,1)),e.deepStrictEqual(a.toRGBA(new a(120,1,.251,1)),new t(0,128,0,1)),e.deepStrictEqual(a.toRGBA(new a(300,1,.251,1)),new t(128,0,128,1)),e.deepStrictEqual(a.toRGBA(new a(180,1,.251,1)),new t(0,128,128,1)),e.deepStrictEqual(a.toRGBA(new a(240,1,.251,1)),new t(0,0,128,1))}),test("HSLA.fromRGBA",()=>{e.deepStrictEqual(a.fromRGBA(new t(0,0,0,0)),new a(0,0,0,0)),e.deepStrictEqual(a.fromRGBA(new t(0,0,0,1)),new a(0,0,0,1)),e.deepStrictEqual(a.fromRGBA(new t(255,255,255,1)),new a(0,0,1,1)),e.deepStrictEqual(a.fromRGBA(new t(255,0,0,1)),new a(0,1,.5,1)),e.deepStrictEqual(a.fromRGBA(new t(0,255,0,1)),new a(120,1,.5,1)),e.deepStrictEqual(a.fromRGBA(new t(0,0,255,1)),new a(240,1,.5,1)),e.deepStrictEqual(a.fromRGBA(new t(255,255,0,1)),new a(60,1,.5,1)),e.deepStrictEqual(a.fromRGBA(new t(0,255,255,1)),new a(180,1,.5,1)),e.deepStrictEqual(a.fromRGBA(new t(255,0,255,1)),new a(300,1,.5,1)),e.deepStrictEqual(a.fromRGBA(new t(192,192,192,1)),new a(0,0,.753,1)),e.deepStrictEqual(a.fromRGBA(new t(128,128,128,1)),new a(0,0,.502,1)),e.deepStrictEqual(a.fromRGBA(new t(128,0,0,1)),new a(0,1,.251,1)),e.deepStrictEqual(a.fromRGBA(new t(128,128,0,1)),new a(60,1,.251,1)),e.deepStrictEqual(a.fromRGBA(new t(0,128,0,1)),new a(120,1,.251,1)),e.deepStrictEqual(a.fromRGBA(new t(128,0,128,1)),new a(300,1,.251,1)),e.deepStrictEqual(a.fromRGBA(new t(0,128,128,1)),new a(180,1,.251,1)),e.deepStrictEqual(a.fromRGBA(new t(0,0,128,1)),new a(240,1,.251,1))})}),suite("HSVA",()=>{test("HSVA.toRGBA",()=>{e.deepStrictEqual(r.toRGBA(new r(0,0,0,0)),new t(0,0,0,0)),e.deepStrictEqual(r.toRGBA(new r(0,0,0,1)),new t(0,0,0,1)),e.deepStrictEqual(r.toRGBA(new r(0,0,1,1)),new t(255,255,255,1)),e.deepStrictEqual(r.toRGBA(new r(0,1,1,1)),new t(255,0,0,1)),e.deepStrictEqual(r.toRGBA(new r(120,1,1,1)),new t(0,255,0,1)),e.deepStrictEqual(r.toRGBA(new r(240,1,1,1)),new t(0,0,255,1)),e.deepStrictEqual(r.toRGBA(new r(60,1,1,1)),new t(255,255,0,1)),e.deepStrictEqual(r.toRGBA(new r(180,1,1,1)),new t(0,255,255,1)),e.deepStrictEqual(r.toRGBA(new r(300,1,1,1)),new t(255,0,255,1)),e.deepStrictEqual(r.toRGBA(new r(0,0,.753,1)),new t(192,192,192,1)),e.deepStrictEqual(r.toRGBA(new r(0,0,.502,1)),new t(128,128,128,1)),e.deepStrictEqual(r.toRGBA(new r(0,1,.502,1)),new t(128,0,0,1)),e.deepStrictEqual(r.toRGBA(new r(60,1,.502,1)),new t(128,128,0,1)),e.deepStrictEqual(r.toRGBA(new r(120,1,.502,1)),new t(0,128,0,1)),e.deepStrictEqual(r.toRGBA(new r(300,1,.502,1)),new t(128,0,128,1)),e.deepStrictEqual(r.toRGBA(new r(180,1,.502,1)),new t(0,128,128,1)),e.deepStrictEqual(r.toRGBA(new r(240,1,.502,1)),new t(0,0,128,1)),e.deepStrictEqual(r.toRGBA(new r(360,0,0,0)),new t(0,0,0,0)),e.deepStrictEqual(r.toRGBA(new r(360,0,0,1)),new t(0,0,0,1)),e.deepStrictEqual(r.toRGBA(new r(360,0,1,1)),new t(255,255,255,1)),e.deepStrictEqual(r.toRGBA(new r(360,1,1,1)),new t(255,0,0,1)),e.deepStrictEqual(r.toRGBA(new r(360,0,.753,1)),new t(192,192,192,1)),e.deepStrictEqual(r.toRGBA(new r(360,0,.502,1)),new t(128,128,128,1)),e.deepStrictEqual(r.toRGBA(new r(360,1,.502,1)),new t(128,0,0,1))}),test("HSVA.fromRGBA",()=>{e.deepStrictEqual(r.fromRGBA(new t(0,0,0,0)),new r(0,0,0,0)),e.deepStrictEqual(r.fromRGBA(new t(0,0,0,1)),new r(0,0,0,1)),e.deepStrictEqual(r.fromRGBA(new t(255,255,255,1)),new r(0,0,1,1)),e.deepStrictEqual(r.fromRGBA(new t(255,0,0,1)),new r(0,1,1,1)),e.deepStrictEqual(r.fromRGBA(new t(0,255,0,1)),new r(120,1,1,1)),e.deepStrictEqual(r.fromRGBA(new t(0,0,255,1)),new r(240,1,1,1)),e.deepStrictEqual(r.fromRGBA(new t(255,255,0,1)),new r(60,1,1,1)),e.deepStrictEqual(r.fromRGBA(new t(0,255,255,1)),new r(180,1,1,1)),e.deepStrictEqual(r.fromRGBA(new t(255,0,255,1)),new r(300,1,1,1)),e.deepStrictEqual(r.fromRGBA(new t(192,192,192,1)),new r(0,0,.753,1)),e.deepStrictEqual(r.fromRGBA(new t(128,128,128,1)),new r(0,0,.502,1)),e.deepStrictEqual(r.fromRGBA(new t(128,0,0,1)),new r(0,1,.502,1)),e.deepStrictEqual(r.fromRGBA(new t(128,128,0,1)),new r(60,1,.502,1)),e.deepStrictEqual(r.fromRGBA(new t(0,128,0,1)),new r(120,1,.502,1)),e.deepStrictEqual(r.fromRGBA(new t(128,0,128,1)),new r(300,1,.502,1)),e.deepStrictEqual(r.fromRGBA(new t(0,128,128,1)),new r(180,1,.502,1)),e.deepStrictEqual(r.fromRGBA(new t(0,0,128,1)),new r(240,1,.502,1))}),test("Keep hue value when saturation is 0",()=>{e.deepStrictEqual(r.toRGBA(new r(10,0,0,0)),r.toRGBA(new r(20,0,0,0))),e.deepStrictEqual(new n(new r(10,0,0,0)).rgba,new n(new r(20,0,0,0)).rgba),e.notDeepStrictEqual(new n(new r(10,0,0,0)).hsva,new n(new r(20,0,0,0)).hsva)}),test("bug#36240",()=>{e.deepStrictEqual(r.fromRGBA(new t(92,106,196,1)),new r(232,.531,.769,1)),e.deepStrictEqual(r.toRGBA(r.fromRGBA(new t(92,106,196,1))),new t(92,106,196,1))})}),suite("Format",()=>{suite("CSS",()=>{test("parseHex",()=>{e.deepStrictEqual(n.Format.CSS.parseHex(""),null),e.deepStrictEqual(n.Format.CSS.parseHex("#"),null),e.deepStrictEqual(n.Format.CSS.parseHex("#0102030"),null),e.deepStrictEqual(n.Format.CSS.parseHex("#FFFFG0").rgba,new t(255,255,0,1)),e.deepStrictEqual(n.Format.CSS.parseHex("#FFFFg0").rgba,new t(255,255,0,1)),e.deepStrictEqual(n.Format.CSS.parseHex("#-FFF00").rgba,new t(15,255,0,1)),e.deepStrictEqual(n.Format.CSS.parseHex("#000000").rgba,new t(0,0,0,1)),e.deepStrictEqual(n.Format.CSS.parseHex("#FFFFFF").rgba,new t(255,255,255,1)),e.deepStrictEqual(n.Format.CSS.parseHex("#FF0000").rgba,new t(255,0,0,1)),e.deepStrictEqual(n.Format.CSS.parseHex("#00FF00").rgba,new t(0,255,0,1)),e.deepStrictEqual(n.Format.CSS.parseHex("#0000FF").rgba,new t(0,0,255,1)),e.deepStrictEqual(n.Format.CSS.parseHex("#FFFF00").rgba,new t(255,255,0,1)),e.deepStrictEqual(n.Format.CSS.parseHex("#00FFFF").rgba,new t(0,255,255,1)),e.deepStrictEqual(n.Format.CSS.parseHex("#FF00FF").rgba,new t(255,0,255,1)),e.deepStrictEqual(n.Format.CSS.parseHex("#C0C0C0").rgba,new t(192,192,192,1)),e.deepStrictEqual(n.Format.CSS.parseHex("#808080").rgba,new t(128,128,128,1)),e.deepStrictEqual(n.Format.CSS.parseHex("#800000").rgba,new t(128,0,0,1)),e.deepStrictEqual(n.Format.CSS.parseHex("#808000").rgba,new t(128,128,0,1)),e.deepStrictEqual(n.Format.CSS.parseHex("#008000").rgba,new t(0,128,0,1)),e.deepStrictEqual(n.Format.CSS.parseHex("#800080").rgba,new t(128,0,128,1)),e.deepStrictEqual(n.Format.CSS.parseHex("#008080").rgba,new t(0,128,128,1)),e.deepStrictEqual(n.Format.CSS.parseHex("#000080").rgba,new t(0,0,128,1)),e.deepStrictEqual(n.Format.CSS.parseHex("#010203").rgba,new t(1,2,3,1)),e.deepStrictEqual(n.Format.CSS.parseHex("#040506").rgba,new t(4,5,6,1)),e.deepStrictEqual(n.Format.CSS.parseHex("#070809").rgba,new t(7,8,9,1)),e.deepStrictEqual(n.Format.CSS.parseHex("#0a0A0a").rgba,new t(10,10,10,1)),e.deepStrictEqual(n.Format.CSS.parseHex("#0b0B0b").rgba,new t(11,11,11,1)),e.deepStrictEqual(n.Format.CSS.parseHex("#0c0C0c").rgba,new t(12,12,12,1)),e.deepStrictEqual(n.Format.CSS.parseHex("#0d0D0d").rgba,new t(13,13,13,1)),e.deepStrictEqual(n.Format.CSS.parseHex("#0e0E0e").rgba,new t(14,14,14,1)),e.deepStrictEqual(n.Format.CSS.parseHex("#0f0F0f").rgba,new t(15,15,15,1)),e.deepStrictEqual(n.Format.CSS.parseHex("#a0A0a0").rgba,new t(160,160,160,1)),e.deepStrictEqual(n.Format.CSS.parseHex("#CFA").rgba,new t(204,255,170,1)),e.deepStrictEqual(n.Format.CSS.parseHex("#CFA8").rgba,new t(204,255,170,.533))})})})});
