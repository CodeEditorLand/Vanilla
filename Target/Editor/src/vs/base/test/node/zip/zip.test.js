import*as m from"fs";import p from"assert";import{tmpdir as c}from"os";import{createCancelablePromise as f}from"../../../common/async.js";import{FileAccess as n}from"../../../common/network.js";import*as e from"../../../common/path.js";import{Promises as s}from"../../../node/pfs.js";import{extract as d}from"../../../node/zip.js";import{ensureNoDisposablesAreLeakedInTestSuite as u}from"../../common/utils.js";import{getRandomTestPath as x}from"../testUtils.js";suite("Zip",()=>{u(),test("extract should handle directories",async()=>{const t=x(c(),"vsctests","zip");await m.promises.mkdir(t,{recursive:!0});const r=n.asFileUri("vs/base/test/node/zip/fixtures").fsPath,i=e.join(r,"extract.zip");await f(a=>d(i,t,{},a));const o=await s.exists(e.join(t,"extension"));p(o),await s.rm(t)})});
