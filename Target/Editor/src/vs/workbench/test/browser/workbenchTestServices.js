var tt=Object.defineProperty;var rt=Object.getOwnPropertyDescriptor;var M=(i,e,t,r)=>{for(var s=r>1?void 0:r?rt(e,t):e,a=i.length-1,d;a>=0;a--)(d=i[a])&&(s=(r?d(e,t,s):d(s))||s);return r&&s&&tt(e,t,s),s},n=(i,e)=>(t,r)=>e(t,r,i);import{FileEditorInput as O}from"../../contrib/files/browser/editors/fileEditorInput.js";import{TestInstantiationService as it}from"../../../platform/instantiation/test/common/instantiationServiceMock.js";import{basename as me,isEqual as ot}from"../../../base/common/resources.js";import{URI as h}from"../../../base/common/uri.js";import{ITelemetryService as nt}from"../../../platform/telemetry/common/telemetry.js";import{NullTelemetryService as Ie}from"../../../platform/telemetry/common/telemetryUtils.js";import{EditorInput as z}from"../../common/editor/editorInput.js";import{EditorExtensions as ve,EditorExtensions as _,EditorInputCapabilities as Ee}from"../../common/editor.js";import{DEFAULT_EDITOR_PART_OPTIONS as st}from"../../browser/parts/editor/editor.js";import{Event as o,Emitter as l}from"../../../base/common/event.js";import{IWorkingCopyBackupService as he}from"../../services/workingCopy/common/workingCopyBackup.js";import{IConfigurationService as fe}from"../../../platform/configuration/common/configuration.js";import{IWorkbenchLayoutService as at,Parts as ge}from"../../services/layout/browser/layoutService.js";import{TextModelResolverService as dt}from"../../services/textmodelResolver/common/textModelResolverService.js";import{ITextModelService as Se}from"../../../editor/common/services/resolverService.js";import"../../../platform/editor/common/editor.js";import{IUntitledTextEditorService as W,UntitledTextEditorService as we}from"../../services/untitled/common/untitledTextEditorService.js";import{IWorkspaceContextService as Pe}from"../../../platform/workspace/common/workspace.js";import{ILifecycleService as Q,ShutdownReason as J,LifecyclePhase as I}from"../../services/lifecycle/common/lifecycle.js";import{ServiceCollection as lt}from"../../../platform/instantiation/common/serviceCollection.js";import{IFileService as j,FileSystemProviderCapabilities as x}from"../../../platform/files/common/files.js";import{IModelService as q}from"../../../editor/common/services/model.js";import{LanguageService as ct}from"../../../editor/common/services/languageService.js";import{ModelService as ut}from"../../../editor/common/services/modelService.js";import{ITextFileService as ye}from"../../services/textfile/common/textfiles.js";import{ILanguageService as Z}from"../../../editor/common/languages/language.js";import{IHistoryService as pt}from"../../services/history/common/history.js";import{IInstantiationService as X}from"../../../platform/instantiation/common/instantiation.js";import{TestConfigurationService as be}from"../../../platform/configuration/test/common/testConfigurationService.js";import"../../../platform/window/common/window.js";import{TestWorkspace as Ce}from"../../../platform/workspace/test/common/testWorkspace.js";import{IEnvironmentService as mt}from"../../../platform/environment/common/environment.js";import{IThemeService as It}from"../../../platform/theme/common/themeService.js";import"../../../base/common/themables.js";import{TestThemeService as xe}from"../../../platform/theme/test/common/testThemeService.js";import{ITextResourceConfigurationService as Te,ITextResourcePropertiesService as vt}from"../../../editor/common/services/textResourceConfiguration.js";import{Position as Et}from"../../../editor/common/core/position.js";import{IMenuService as ht}from"../../../platform/actions/common/actions.js";import{IContextKeyService as ft}from"../../../platform/contextkey/common/contextkey.js";import{MockContextKeyService as Re,MockKeybindingService as gt}from"../../../platform/keybinding/test/common/mockKeybindingService.js";import{DefaultEndOfLine as St,EndOfLinePreference as wt}from"../../../editor/common/model.js";import{Range as Pt}from"../../../editor/common/core/range.js";import{IDialogService as Y,IFileDialogService as $}from"../../../platform/dialogs/common/dialogs.js";import{INotificationService as Fe}from"../../../platform/notification/common/notification.js";import{TestNotificationService as yt}from"../../../platform/notification/test/common/testNotificationService.js";import{IExtensionService as bt}from"../../services/extensions/common/extensions.js";import{IKeybindingService as Ct}from"../../../platform/keybinding/common/keybinding.js";import{IDecorationsService as ee}from"../../services/decorations/common/decorations.js";import{toDisposable as De,Disposable as m,DisposableStore as f}from"../../../base/common/lifecycle.js";import{IEditorGroupsService as te,GroupOrientation as xt}from"../../services/editor/common/editorGroupsService.js";import{IEditorService as ke}from"../../services/editor/common/editorService.js";import{ICodeEditorService as Me}from"../../../editor/browser/services/codeEditorService.js";import{EditorPaneDescriptor as G}from"../../browser/editor.js";import"../../../base/browser/dom.js";import{ILoggerService as Tt,ILogService as re,NullLogService as Oe}from"../../../platform/log/common/log.js";import{ILabelService as _e}from"../../../platform/label/common/label.js";import{DeferredPromise as L,timeout as ie}from"../../../base/common/async.js";import"../../browser/panecomposite.js";import{IStorageService as Rt,StorageScope as We,StorageTarget as Ge}from"../../../platform/storage/common/storage.js";import{isLinux as Ft,isWindows as Dt}from"../../../base/common/platform.js";import{LabelService as kt}from"../../services/label/common/labelService.js";import"../../browser/part.js";import{bufferToStream as Mt,VSBuffer as U}from"../../../base/common/buffer.js";import{Schemas as v}from"../../../base/common/network.js";import{IProductService as Ot}from"../../../platform/product/common/productService.js";import _t from"../../../platform/product/common/product.js";import{IHostService as Le}from"../../services/host/browser/host.js";import{IWorkingCopyService as oe,WorkingCopyService as Wt}from"../../services/workingCopy/common/workingCopyService.js";import"../../services/workingCopy/common/workingCopy.js";import{IFilesConfigurationService as ne,FilesConfigurationService as Gt}from"../../services/filesConfiguration/common/filesConfigurationService.js";import{IAccessibilityService as Lt}from"../../../platform/accessibility/common/accessibility.js";import{BrowserWorkbenchEnvironmentService as Ut}from"../../services/environment/browser/environmentService.js";import{BrowserTextFileService as Ue}from"../../services/textfile/browser/browserTextFileService.js";import{IWorkbenchEnvironmentService as se}from"../../services/environment/common/environmentService.js";import{createTextBufferFactoryFromStream as At}from"../../../editor/common/model/textModel.js";import{IPathService as A}from"../../services/path/common/pathService.js";import"../../../base/browser/ui/grid/grid.js";import{IProgressService as Ae,Progress as Bt}from"../../../platform/progress/common/progress.js";import{IWorkingCopyFileService as ae,WorkingCopyFileService as Vt}from"../../services/workingCopy/common/workingCopyFileService.js";import{UndoRedoService as Nt}from"../../../platform/undoRedo/common/undoRedoService.js";import{IUndoRedoService as Ht}from"../../../platform/undoRedo/common/undoRedo.js";import{TextFileEditorModel as Kt}from"../../services/textfile/common/textFileEditorModel.js";import{Registry as g}from"../../../platform/registry/common/platform.js";import{EditorPane as zt}from"../../browser/parts/editor/editorPane.js";import{CancellationToken as Be}from"../../../base/common/cancellation.js";import{SyncDescriptor as B}from"../../../platform/instantiation/common/descriptors.js";import{TestDialogService as Qt}from"../../../platform/dialogs/test/common/testDialogService.js";import{CodeEditorService as Jt}from"../../services/editor/browser/codeEditorService.js";import{MainEditorPart as jt}from"../../browser/parts/editor/editorPart.js";import"../../../editor/browser/editorBrowser.js";import"../../../editor/common/editorCommon.js";import{IQuickInputService as Ve}from"../../../platform/quickinput/common/quickInput.js";import{QuickInputService as qt}from"../../services/quickinput/browser/quickInputService.js";import{IListService as Zt}from"../../../platform/list/browser/listService.js";import{win32 as Xt,posix as Yt}from"../../../base/common/path.js";import{TestContextService as Ne,TestStorageService as He,TestTextResourcePropertiesService as $t,TestExtensionService as er,TestProductService as Ke,createFileStat as V,TestLoggerService as tr,TestWorkspaceTrustManagementService as rr,TestWorkspaceTrustRequestService as ir,TestMarkerService as or,TestHistoryService as nr}from"../common/workbenchTestServices.js";import{ViewContainerLocation as S}from"../../common/views.js";import"../../services/views/common/viewsService.js";import"../../common/panecomposite.js";import{IUriIdentityService as de}from"../../../platform/uriIdentity/common/uriIdentity.js";import{UriIdentityService as sr}from"../../../platform/uriIdentity/common/uriIdentityService.js";import{InMemoryFileSystemProvider as le}from"../../../platform/files/common/inMemoryFilesystemProvider.js";import{newWriteableStream as ar}from"../../../base/common/stream.js";import{EncodingOracle as dr}from"../../services/textfile/browser/textFileService.js";import{UTF16le as lr,UTF16be as cr,UTF8_with_bom as ur}from"../../services/textfile/common/encoding.js";import{ColorScheme as pr}from"../../../platform/theme/common/theme.js";import{Iterable as mr}from"../../../base/common/iterator.js";import{InMemoryWorkingCopyBackupService as Ir}from"../../services/workingCopy/common/workingCopyBackupService.js";import{BrowserWorkingCopyBackupService as vr}from"../../services/workingCopy/browser/workingCopyBackupService.js";import{FileService as Er}from"../../../platform/files/common/fileService.js";import{TextResourceEditor as hr}from"../../browser/parts/editor/textResourceEditor.js";import{TestCodeEditor as ze}from"../../../editor/test/browser/testCodeEditor.js";import{TextFileEditor as fr}from"../../contrib/files/browser/editors/textFileEditor.js";import{TextResourceEditorInput as gr}from"../../common/editor/textResourceEditorInput.js";import{UntitledTextEditorInput as Sr}from"../../services/untitled/common/untitledTextEditorInput.js";import{SideBySideEditor as Qe}from"../../browser/parts/editor/sideBySideEditor.js";import{IWorkspacesService as wr}from"../../../platform/workspaces/common/workspaces.js";import{IWorkspaceTrustManagementService as Pr,IWorkspaceTrustRequestService as Je}from"../../../platform/workspace/common/workspaceTrust.js";import{ITerminalLogService as yr}from"../../../platform/terminal/common/terminal.js";import{ITerminalConfigurationService as br,ITerminalEditorService as Cr,ITerminalGroupService as xr,ITerminalInstanceService as Tr}from"../../contrib/terminal/browser/terminal.js";import{assertIsDefined as Rr,upcast as Fr}from"../../../base/common/types.js";import{ITerminalProfileResolverService as Dr,ITerminalProfileService as kr}from"../../contrib/terminal/common/terminal.js";import{EditorResolverService as Mr}from"../../services/editor/browser/editorResolverService.js";import{FILE_EDITOR_INPUT_ID as Or}from"../../contrib/files/common/files.js";import{IEditorResolverService as je}from"../../services/editor/common/editorResolverService.js";import{IWorkingCopyEditorService as qe,WorkingCopyEditorService as _r}from"../../services/workingCopy/common/workingCopyEditorService.js";import{IElevatedFileService as ce}from"../../services/files/common/elevatedFileService.js";import{BrowserElevatedFileService as Wr}from"../../services/files/browser/elevatedFileService.js";import{IEditorWorkerService as Gr}from"../../../editor/common/services/editorWorker.js";import{ResourceMap as Lr}from"../../../base/common/map.js";import{SideBySideEditorInput as Ur}from"../../common/editor/sideBySideEditorInput.js";import{ITextEditorService as Ze,TextEditorService as Ar}from"../../services/textfile/common/textEditorService.js";import{IPaneCompositePartService as Br}from"../../services/panecomposite/browser/panecomposite.js";import"../../browser/parts/paneCompositePart.js";import{ILanguageConfigurationService as Vr}from"../../../editor/common/languages/languageConfigurationRegistry.js";import{TestLanguageConfigurationService as Nr}from"../../../editor/test/common/modes/testLanguageConfigurationService.js";import"../../contrib/terminal/browser/terminalEditorInput.js";import"../../common/editor/editorGroupModel.js";import{env as Hr}from"../../../base/common/process.js";import{isValidBasename as Xe}from"../../../base/common/extpath.js";import{TestAccessibilityService as Kr}from"../../../platform/accessibility/test/common/testAccessibilityService.js";import{ILanguageFeatureDebounceService as zr,LanguageFeatureDebounceService as Qr}from"../../../editor/common/services/languageFeatureDebounce.js";import{ILanguageFeaturesService as Jr}from"../../../editor/common/services/languageFeatures.js";import{LanguageFeaturesService as jr}from"../../../editor/common/services/languageFeaturesService.js";import{TextEditorPaneSelection as qr}from"../../browser/parts/editor/textEditor.js";import{Selection as Zr}from"../../../editor/common/core/selection.js";import"../../../platform/backup/common/backup.js";import{TestEditorWorkerService as Xr}from"../../../editor/test/common/services/testEditorWorkerService.js";import{IRemoteAgentService as Yr}from"../../services/remote/common/remoteAgentService.js";import{ILanguageDetectionService as $r}from"../../services/languageDetection/common/languageDetectionWorkerService.js";import"../../../platform/diagnostics/common/diagnostics.js";import{TargetPlatform as ei}from"../../../platform/extensions/common/extensions.js";import"../../../platform/remote/common/remoteAgentEnvironment.js";import"../../../platform/layout/browser/layoutService.js";import{IUserDataProfilesService as ti,toUserDataProfile as ri,UserDataProfilesService as ii}from"../../../platform/userDataProfile/common/userDataProfile.js";import{UserDataProfileService as oi}from"../../services/userDataProfile/common/userDataProfileService.js";import{IUserDataProfileService as ni}from"../../services/userDataProfile/common/userDataProfile.js";import{EnablementState as si}from"../../services/extensionManagement/common/extensionManagement.js";import"../../../platform/extensionManagement/common/extensionManagement.js";import{Codicon as ai}from"../../../base/common/codicons.js";import"../../../platform/remote/common/remoteExtensionsScanner.js";import{IRemoteSocketFactoryService as di,RemoteSocketFactoryService as li}from"../../../platform/remote/common/remoteSocketFactoryService.js";import{EditorParts as ci}from"../../browser/parts/editor/editorParts.js";import{mainWindow as w}from"../../../base/browser/window.js";import{IMarkerService as ui}from"../../../platform/markers/common/markers.js";import{IAccessibilitySignalService as pi}from"../../../platform/accessibilitySignal/browser/accessibilitySignalService.js";import{IEditorPaneService as Ye}from"../../services/editor/common/editorPaneService.js";import{EditorPaneService as mi}from"../../services/editor/browser/editorPaneService.js";import{IContextMenuService as Ii,IContextViewService as vi}from"../../../platform/contextview/browser/contextView.js";import{ContextViewService as Ei}from"../../../platform/contextview/browser/contextViewService.js";import{CustomEditorLabelService as hi,ICustomEditorLabelService as fi}from"../../services/editor/common/customEditorLabelService.js";import{TerminalConfigurationService as gi}from"../../contrib/terminal/browser/terminalConfigurationService.js";import{TerminalLogService as Si}from"../../../platform/terminal/common/terminalLogService.js";import{IEnvironmentVariableService as wi}from"../../contrib/terminal/common/environmentVariable.js";import{EnvironmentVariableService as Pi}from"../../contrib/terminal/common/environmentVariableService.js";import{ContextMenuService as yi}from"../../../platform/contextview/browser/contextMenuService.js";import{IHoverService as bi}from"../../../platform/hover/browser/hover.js";import{NullHoverService as Ci}from"../../../platform/hover/test/browser/nullHoverService.js";function Ju(i,e){return i.createInstance(O,e,void 0,void 0,void 0,void 0,void 0,void 0)}g.as(ve.EditorFactory).registerFileEditorFactory({typeId:Or,createFileEditor:(i,e,t,r,s,a,d,c)=>c.createInstance(O,i,e,t,r,s,a,d),isFileEditor:i=>i instanceof O});class $e extends hr{createEditorControl(e,t){this.editorControl=this._register(this.instantiationService.createInstance(ze,e,t,{}))}}class et extends fr{createEditorControl(e,t){this.editorControl=this._register(this.instantiationService.createInstance(ze,e,t,{contributions:[]}))}setSelection(e,t){this._options=e?Fr({selection:e}):void 0,this._onDidChangeSelection.fire({reason:t})}getSelection(){const e=this.options;if(!e)return;const t=e.selection;if(t)return new qr(new Zr(t.startLineNumber,t.startColumn,t.endLineNumber??t.startLineNumber,t.endColumn??t.startColumn))}}class xi extends Wt{testUnregisterWorkingCopy(e){return super.unregisterWorkingCopy(e)}}function ju(i,e=new f){const t=e.add(new it(new lt([Q,e.add(new Ni)])));t.stub(Ot,Ke),t.stub(Gr,new Xr),t.stub(oe,e.add(new xi));const r=i?.environmentService?i.environmentService(t):ue;t.stub(mt,r),t.stub(se,r),t.stub(re,new Oe);const s=i?.contextKeyService?i.contextKeyService(t):t.createInstance(Re);t.stub(ft,s),t.stub(Ae,new Fi);const a=new Ne(Ce);t.stub(Pe,a);const d=i?.configurationService?i.configurationService(t):new be({files:{participants:{timeout:6e4}}});t.stub(fe,d);const c=new Hi(d);t.stub(Te,c),t.stub(W,e.add(t.createInstance(we))),t.stub(Rt,e.add(new He)),t.stub(Yr,new no),t.stub($r,new oo),t.stub(A,i?.pathService?i.pathService(t):new Zi);const u=new Mi;t.stub(at,u),t.stub(Y,new Qt);const p=new Kr;t.stub(Lt,p),t.stub(pi,{playSignal:async()=>{},isSoundEnabled(K){return!1}}),t.stub($,t.createInstance(R)),t.stub(Z,e.add(t.createInstance(ct))),t.stub(Jr,new jr),t.stub(zr,t.createInstance(Qr)),t.stub(pt,new nr),t.stub(vt,new $t(d)),t.stub(Ht,t.createInstance(Nt));const E=new xe;t.stub(It,E),t.stub(Vr,e.add(new Nr)),t.stub(q,e.add(t.createInstance(ut)));const P=i?.fileService?i.fileService(t):e.add(new Ai);t.stub(j,P),t.stub(de,e.add(new sr(P)));const F=new or;t.stub(ui,F),t.stub(ne,e.add(t.createInstance(zi)));const D=t.stub(ti,e.add(t.createInstance(ii)));t.stub(ni,e.add(new oi(D.defaultProfile))),t.stub(he,i?.workingCopyBackupService?i?.workingCopyBackupService(t):e.add(new Bi)),t.stub(nt,Ie),t.stub(Fe,new yt),t.stub(W,e.add(t.createInstance(we))),t.stub(ht,new ki);const y=new gt;t.stub(Ct,y),t.stub(ee,new Di),t.stub(bt,new er),t.stub(ae,e.add(t.createInstance(Vt))),t.stub(ye,i?.textFileService?i.textFileService(t):e.add(t.createInstance(T))),t.stub(Le,t.createInstance(Ki)),t.stub(Se,e.add(t.createInstance(dt))),t.stub(Tt,e.add(new tr(ue.logsHome)));const b=new Gi([new Li(0)]);t.stub(te,b),t.stub(_e,e.add(t.createInstance(kt)));const C=i?.editorService?i.editorService(t):e.add(new Ui(b));t.stub(ke,C),t.stub(Ye,new mi),t.stub(qe,e.add(t.createInstance(_r))),t.stub(je,e.add(t.createInstance(Mr)));const k=i?.textEditorService?i.textEditorService(t):e.add(t.createInstance(Ar));return t.stub(Ze,k),t.stub(Me,e.add(new Jt(C,E,d))),t.stub(Br,e.add(new Oi)),t.stub(Zt,new qi),t.stub(vi,e.add(t.createInstance(Ei))),t.stub(Ii,e.add(t.createInstance(yi))),t.stub(Ve,e.add(new qt(d,t,y,s,E,u))),t.stub(wr,new Xi),t.stub(Pr,e.add(new rr)),t.stub(Je,e.add(new ir(!1))),t.stub(Tr,new Yi),t.stub(Cr,new $i),t.stub(xr,new eo),t.stub(kr,new to),t.stub(Dr,new ro),t.stub(br,e.add(t.createInstance(io))),t.stub(yr,e.add(t.createInstance(Si))),t.stub(wi,e.add(t.createInstance(Pi))),t.stub(ce,new Wr),t.stub(di,new li),t.stub(fi,e.add(new hi(d,a))),t.stub(bi,Ci),t}let N=class{constructor(e,t,r,s,a,d,c,u,p,E,P,F,D,y,b,C,k,K,so,ao,lo,co,uo,po,mo,Io,vo,Eo,ho,fo,go,So,wo,Po,yo){this.lifecycleService=e;this.textFileService=t;this.textEditorService=r;this.workingCopyFileService=s;this.filesConfigurationService=a;this.contextService=d;this.modelService=c;this.fileService=u;this.fileDialogService=p;this.dialogService=E;this.workingCopyService=P;this.editorService=F;this.editorPaneService=D;this.environmentService=y;this.pathService=b;this.editorGroupService=C;this.editorResolverService=k;this.languageService=K;this.textModelResolverService=so;this.untitledTextEditorService=ao;this.testConfigurationService=lo;this.workingCopyBackupService=co;this.hostService=uo;this.quickInputService=po;this.labelService=mo;this.logService=Io;this.uriIdentityService=vo;this.instantitionService=Eo;this.notificationService=ho;this.workingCopyEditorService=fo;this.instantiationService=go;this.elevatedFileService=So;this.workspaceTrustRequestService=wo;this.decorationsService=Po;this.progressService=yo}};N=M([n(0,Q),n(1,ye),n(2,Ze),n(3,ae),n(4,ne),n(5,Pe),n(6,q),n(7,j),n(8,$),n(9,Y),n(10,oe),n(11,ke),n(12,Ye),n(13,se),n(14,A),n(15,te),n(16,je),n(17,Z),n(18,Se),n(19,W),n(20,fe),n(21,he),n(22,Le),n(23,Ve),n(24,_e),n(25,re),n(26,de),n(27,X),n(28,Fe),n(29,qe),n(30,X),n(31,ce),n(32,Je),n(33,ee),n(34,Ae)],N);let T=class extends Ue{readStreamError=void 0;writeError=void 0;constructor(e,t,r,s,a,d,c,u,p,E,P,F,D,y,b,C,k,K){super(e,t,r,s,a,d,c,u,p,E,P,F,D,y,b,k,C,K)}setReadStreamErrorOnce(e){this.readStreamError=e}async readStream(e,t){if(this.readStreamError){const s=this.readStreamError;throw this.readStreamError=void 0,s}const r=await this.fileService.readFileStream(e,t);return{resource:r.resource,name:r.name,mtime:r.mtime,ctime:r.ctime,etag:r.etag,encoding:"utf8",value:await At(r.value),size:10,readonly:!1,locked:!1}}setWriteErrorOnce(e){this.writeError=e}async write(e,t,r){if(this.writeError){const s=this.writeError;throw this.writeError=void 0,s}return super.write(e,t,r)}};T=M([n(0,j),n(1,W),n(2,Q),n(3,X),n(4,q),n(5,se),n(6,Y),n(7,$),n(8,Te),n(9,ne),n(10,Me),n(11,A),n(12,ae),n(13,de),n(14,Z),n(15,re),n(16,ce),n(17,ee)],T);class qu extends Ue{_testEncoding;get encoding(){return this._testEncoding||(this._testEncoding=this._register(this.instantiationService.createInstance(Ti))),this._testEncoding}}class Ti extends dr{get encodingOverrides(){return[{extension:"utf16le",encoding:lr},{extension:"utf16be",encoding:cr},{extension:"utf8bom",encoding:ur}]}set encodingOverrides(e){}}class Ri extends Ut{args=[]}const ue=new Ri("",h.file("tests").with({scheme:"vscode-tests"}),Object.create(null),Ke);class Fi{withProgress(e,t,r){return t(Bt.None)}}class Di{onDidChangeDecorations=o.None;registerDecorationsProvider(e){return m.None}getDecoration(e,t,r){}}class ki{createMenu(e,t){return{onDidChange:o.None,dispose:()=>{},getActions:()=>[]}}getMenuActions(e,t,r){throw new Error("Method not implemented.")}getMenuContexts(e){throw new Error("Method not implemented.")}resetHiddenStates(){}}let R=class{constructor(e){this.pathService=e}confirmResult;async defaultFilePath(e){return this.pathService.userHome()}async defaultFolderPath(e){return this.pathService.userHome()}async defaultWorkspacePath(e){return this.pathService.userHome()}async preferredHome(e){return this.pathService.userHome()}pickFileFolderAndOpen(e){return Promise.resolve(0)}pickFileAndOpen(e){return Promise.resolve(0)}pickFolderAndOpen(e){return Promise.resolve(0)}pickWorkspaceAndOpen(e){return Promise.resolve(0)}fileToSave;setPickFileToSave(e){this.fileToSave=e}pickFileToSave(e,t){return Promise.resolve(this.fileToSave)}showSaveDialog(e){return Promise.resolve(void 0)}showOpenDialog(e){return Promise.resolve(void 0)}setConfirmResult(e){this.confirmResult=e}showSaveConfirm(e){return Promise.resolve(this.confirmResult)}};R=M([n(0,A)],R);class Mi{openedDefaultEditors=!1;mainContainerDimension={width:800,height:600};activeContainerDimension={width:800,height:600};mainContainerOffset={top:0,quickPickTop:0};activeContainerOffset={top:0,quickPickTop:0};mainContainer=w.document.body;containers=[w.document.body];activeContainer=w.document.body;onDidChangeZenMode=o.None;onDidChangeMainEditorCenteredLayout=o.None;onDidChangeWindowMaximized=o.None;onDidChangePanelPosition=o.None;onDidChangePanelAlignment=o.None;onDidChangePartVisibility=o.None;onDidLayoutMainContainer=o.None;onDidLayoutActiveContainer=o.None;onDidLayoutContainer=o.None;onDidChangeNotificationsVisibility=o.None;onDidAddContainer=o.None;onDidChangeActiveContainer=o.None;layout(){}isRestored(){return!0}whenReady=Promise.resolve(void 0);whenRestored=Promise.resolve(void 0);hasFocus(e){return!1}focusPart(e){}hasMainWindowBorder(){return!1}getMainWindowBorderRadius(){}isVisible(e){return!0}getContainer(){return null}whenContainerStylesLoaded(){}isTitleBarHidden(){return!1}isStatusBarHidden(){return!1}isActivityBarHidden(){return!1}setActivityBarHidden(e){}setBannerHidden(e){}isSideBarHidden(){return!1}async setEditorHidden(e){}async setSideBarHidden(e){}async setAuxiliaryBarHidden(e){}async setPartHidden(e,t){}isPanelHidden(){return!1}async setPanelHidden(e){}toggleMaximizedPanel(){}isPanelMaximized(){return!1}getMenubarVisibility(){throw new Error("not implemented")}toggleMenuBar(){}getSideBarPosition(){return 0}getPanelPosition(){return 0}getPanelAlignment(){return"center"}async setPanelPosition(e){}async setPanelAlignment(e){}addClass(e){}removeClass(e){}getMaximumEditorDimensions(){throw new Error("not implemented")}toggleZenMode(){}isMainEditorLayoutCentered(){return!1}centerMainEditorLayout(e){}resizePart(e,t,r){}registerPart(e){return m.None}isWindowMaximized(e){return!1}updateWindowMaximizedState(e,t){}getVisibleNeighborPart(e,t){}focus(){}}const pe={};class Oi extends m{onDidPaneCompositeOpen;onDidPaneCompositeClose;parts=new Map;constructor(){super(),this.parts.set(S.Panel,new Wi),this.parts.set(S.Sidebar,new _i),this.onDidPaneCompositeOpen=o.any(...[S.Panel,S.Sidebar].map(e=>o.map(this.parts.get(e).onDidPaneCompositeOpen,t=>({composite:t,viewContainerLocation:e})))),this.onDidPaneCompositeClose=o.any(...[S.Panel,S.Sidebar].map(e=>o.map(this.parts.get(e).onDidPaneCompositeClose,t=>({composite:t,viewContainerLocation:e}))))}openPaneComposite(e,t,r){return this.getPartByLocation(t).openPaneComposite(e,r)}getActivePaneComposite(e){return this.getPartByLocation(e).getActivePaneComposite()}getPaneComposite(e,t){return this.getPartByLocation(t).getPaneComposite(e)}getPaneComposites(e){return this.getPartByLocation(e).getPaneComposites()}getProgressIndicator(e,t){return this.getPartByLocation(t).getProgressIndicator(e)}hideActivePaneComposite(e){this.getPartByLocation(e).hideActivePaneComposite()}getLastActivePaneCompositeId(e){return this.getPartByLocation(e).getLastActivePaneCompositeId()}getPinnedPaneCompositeIds(e){throw new Error("Method not implemented.")}getVisiblePaneCompositeIds(e){throw new Error("Method not implemented.")}getPartByLocation(e){return Rr(this.parts.get(e))}}class _i{onDidViewletRegisterEmitter=new l;onDidViewletDeregisterEmitter=new l;onDidViewletOpenEmitter=new l;onDidViewletCloseEmitter=new l;partId=ge.SIDEBAR_PART;element=void 0;minimumWidth=0;maximumWidth=0;minimumHeight=0;maximumHeight=0;onDidChange=o.None;onDidPaneCompositeOpen=this.onDidViewletOpenEmitter.event;onDidPaneCompositeClose=this.onDidViewletCloseEmitter.event;openPaneComposite(e,t){return Promise.resolve(void 0)}getPaneComposites(){return[]}getAllViewlets(){return[]}getActivePaneComposite(){return pe}getDefaultViewletId(){return"workbench.view.explorer"}getPaneComposite(e){}getProgressIndicator(e){}hideActivePaneComposite(){}getLastActivePaneCompositeId(){}dispose(){}getPinnedPaneCompositeIds(){return[]}getVisiblePaneCompositeIds(){return[]}layout(e,t,r,s){}}class Wi{element=void 0;minimumWidth=0;maximumWidth=0;minimumHeight=0;maximumHeight=0;onDidChange=o.None;onDidPaneCompositeOpen=new l().event;onDidPaneCompositeClose=new l().event;partId=ge.AUXILIARYBAR_PART;async openPaneComposite(e,t){}getPaneComposite(e){return pe}getPaneComposites(){return[]}getPinnedPaneCompositeIds(){return[]}getVisiblePaneCompositeIds(){return[]}getActivePaneComposite(){return pe}setPanelEnablement(e,t){}dispose(){}getProgressIndicator(e){return null}hideActivePaneComposite(){}getLastActivePaneCompositeId(){}layout(e,t,r,s){}}class Zu{onDidChangeViewContainerVisibility=new l().event;isViewContainerVisible(e){return!0}isViewContainerActive(e){return!0}getVisibleViewContainer(){return null}openViewContainer(e,t){return Promise.resolve(null)}closeViewContainer(e){}onDidChangeViewVisibilityEmitter=new l;onDidChangeViewVisibility=this.onDidChangeViewVisibilityEmitter.event;onDidChangeFocusedViewEmitter=new l;onDidChangeFocusedView=this.onDidChangeFocusedViewEmitter.event;isViewVisible(e){return!0}getActiveViewWithId(e){return null}getViewWithId(e){return null}openView(e,t){return Promise.resolve(null)}closeView(e){}getViewProgressIndicator(e){return null}getActiveViewPaneContainerWithId(e){return null}getFocusedViewName(){return""}}class Gi{constructor(e=[]){this.groups=e}parts=[this];windowId=w.vscodeWindowId;onDidCreateAuxiliaryEditorPart=o.None;onDidChangeActiveGroup=o.None;onDidActivateGroup=o.None;onDidAddGroup=o.None;onDidRemoveGroup=o.None;onDidMoveGroup=o.None;onDidChangeGroupIndex=o.None;onDidChangeGroupLabel=o.None;onDidChangeGroupLocked=o.None;onDidChangeGroupMaximized=o.None;onDidLayout=o.None;onDidChangeEditorPartOptions=o.None;onDidScroll=o.None;onWillDispose=o.None;orientation=xt.HORIZONTAL;isReady=!0;whenReady=Promise.resolve(void 0);whenRestored=Promise.resolve(void 0);hasRestorableState=!1;contentDimension={width:800,height:600};get activeGroup(){return this.groups[0]}get sideGroup(){return this.groups[0]}get count(){return this.groups.length}getPart(e){return this}saveWorkingSet(e){throw new Error("Method not implemented.")}getWorkingSets(){throw new Error("Method not implemented.")}applyWorkingSet(e,t){throw new Error("Method not implemented.")}deleteWorkingSet(e){throw new Error("Method not implemented.")}getGroups(e){return this.groups}getGroup(e){return this.groups.find(t=>t.id===e)}getLabel(e){return"Group 1"}findGroup(e,t,r){throw new Error("not implemented")}activateGroup(e){throw new Error("not implemented")}restoreGroup(e){throw new Error("not implemented")}getSize(e){return{width:100,height:100}}setSize(e,t){}arrangeGroups(e){}toggleMaximizeGroup(){}hasMaximizedGroup(){throw new Error("not implemented")}toggleExpandGroup(){}applyLayout(e){}getLayout(){throw new Error("not implemented")}setGroupOrientation(e){}addGroup(e,t){throw new Error("not implemented")}removeGroup(e){}moveGroup(e,t,r){throw new Error("not implemented")}mergeGroup(e,t,r){throw new Error("not implemented")}mergeAllGroups(e){throw new Error("not implemented")}copyGroup(e,t,r){throw new Error("not implemented")}centerLayout(e){}isLayoutCentered(){return!1}createEditorDropTarget(e,t){return m.None}registerContextKeyProvider(e){throw new Error("not implemented")}getScopedInstantiationService(e){throw new Error("Method not implemented.")}partOptions;enforcePartOptions(e){return m.None}mainPart=this;registerEditorPart(e){return m.None}createAuxiliaryEditorPart(){throw new Error("Method not implemented.")}}class Li{constructor(e){this.id=e}windowId=w.vscodeWindowId;groupsView=void 0;activeEditorPane;activeEditor;selectedEditors=[];previewEditor;count;stickyCount;disposed;editors=[];label;isLocked;ariaLabel;index;whenRestored=Promise.resolve(void 0);element;minimumWidth;maximumWidth;minimumHeight;maximumHeight;titleHeight;isEmpty=!0;onWillDispose=o.None;onDidModelChange=o.None;onWillCloseEditor=o.None;onDidCloseEditor=o.None;onDidOpenEditorFail=o.None;onDidFocus=o.None;onDidChange=o.None;onWillMoveEditor=o.None;onWillOpenEditor=o.None;onDidActiveEditorChange=o.None;getEditors(e){return[]}findEditors(e){return[]}getEditorByIndex(e){throw new Error("not implemented")}getIndexOfEditor(e){return-1}isFirst(e){return!1}isLast(e){return!1}openEditor(e,t){throw new Error("not implemented")}openEditors(e){throw new Error("not implemented")}isPinned(e){return!1}isSticky(e){return!1}isTransient(e){return!1}isActive(e){return!1}setSelection(e,t){throw new Error("not implemented")}isSelected(e){return!1}contains(e){return!1}moveEditor(e,t,r){return!0}moveEditors(e,t){return!0}copyEditor(e,t,r){}copyEditors(e,t){}async closeEditor(e,t){return!0}async closeEditors(e,t){return!0}async closeAllEditors(e){return!0}async replaceEditors(e){}pinEditor(e){}stickEditor(e){}unstickEditor(e){}lock(e){}focus(){}get scopedContextKeyService(){throw new Error("not implemented")}setActive(e){}notifyIndexChanged(e){}notifyLabelChanged(e){}dispose(){}toJSON(){return Object.create(null)}layout(e,t){}relayout(){}createEditorActions(e){throw new Error("not implemented")}}class Xu{label="";windowId=w.vscodeWindowId;groups=[];activeGroup;partOptions={...st};onDidChangeEditorPartOptions=o.None;onDidVisibilityChange=o.None;getGroup(e){throw new Error("Method not implemented.")}getGroups(e){throw new Error("Method not implemented.")}activateGroup(e){throw new Error("Method not implemented.")}restoreGroup(e){throw new Error("Method not implemented.")}addGroup(e,t){throw new Error("Method not implemented.")}mergeGroup(e,t,r){throw new Error("Method not implemented.")}moveGroup(e,t,r){throw new Error("Method not implemented.")}copyGroup(e,t,r){throw new Error("Method not implemented.")}removeGroup(e){throw new Error("Method not implemented.")}arrangeGroups(e,t){throw new Error("Method not implemented.")}toggleMaximizeGroup(e){throw new Error("Method not implemented.")}toggleExpandGroup(e){throw new Error("Method not implemented.")}}class Ui extends m{constructor(t){super();this.editorGroupService=t}onDidActiveEditorChange=o.None;onDidVisibleEditorsChange=o.None;onDidEditorsChange=o.None;onWillOpenEditor=o.None;onDidCloseEditor=o.None;onDidOpenEditorFail=o.None;onDidMostRecentlyActiveEditorsChange=o.None;_activeTextEditorControl;get activeTextEditorControl(){return this._activeTextEditorControl}set activeTextEditorControl(t){this._activeTextEditorControl=t}activeEditorPane;activeTextEditorLanguageId;_activeEditor;get activeEditor(){return this._activeEditor}set activeEditor(t){this._activeEditor=t}editors=[];mostRecentlyActiveEditors=[];visibleEditorPanes=[];visibleTextEditorControls=[];visibleEditors=[];count=this.editors.length;createScoped(t){return this}getEditors(){return[]}findEditors(){return[]}async openEditor(t,r,s){"dispose"in t&&this._register(t)}async closeEditor(t,r){}async closeEditors(t,r){}doResolveEditorOpenRequest(t){if(this.editorGroupService)return[this.editorGroupService.activeGroup,t,void 0]}openEditors(t,r){throw new Error("not implemented")}isOpened(t){return!1}isVisible(t){return!1}replaceEditors(t,r){return Promise.resolve(void 0)}save(t,r){throw new Error("Method not implemented.")}saveAll(t){throw new Error("Method not implemented.")}revert(t,r){throw new Error("Method not implemented.")}revertAll(t){throw new Error("Method not implemented.")}}class Ai{_onDidFilesChange=new l;get onDidFilesChange(){return this._onDidFilesChange.event}fireFileChanges(e){this._onDidFilesChange.fire(e)}_onDidRunOperation=new l;get onDidRunOperation(){return this._onDidRunOperation.event}fireAfterOperation(e){this._onDidRunOperation.fire(e)}_onDidChangeFileSystemProviderCapabilities=new l;get onDidChangeFileSystemProviderCapabilities(){return this._onDidChangeFileSystemProviderCapabilities.event}fireFileSystemProviderCapabilitiesChangeEvent(e){this._onDidChangeFileSystemProviderCapabilities.fire(e)}_onWillActivateFileSystemProvider=new l;onWillActivateFileSystemProvider=this._onWillActivateFileSystemProvider.event;onDidWatchError=o.None;content="Hello Html";lastReadFileUri;readonly=!1;setContent(e){this.content=e}getContent(){return this.content}getLastReadFileUri(){return this.lastReadFileUri}async resolve(e,t){return V(e,this.readonly)}stat(e){return this.resolve(e,{resolveMetadata:!0})}async resolveAll(e){return(await Promise.all(e.map(r=>this.resolve(r.resource,r.options)))).map(r=>({stat:r,success:!0}))}notExistsSet=new Lr;async exists(e){return!this.notExistsSet.has(e)}readShouldThrowError=void 0;async readFile(e,t){if(this.readShouldThrowError)throw this.readShouldThrowError;return this.lastReadFileUri=e,{...V(e,this.readonly),value:U.fromString(this.content)}}async readFileStream(e,t){if(this.readShouldThrowError)throw this.readShouldThrowError;return this.lastReadFileUri=e,{...V(e,this.readonly),value:Mt(U.fromString(this.content))}}writeShouldThrowError=void 0;async writeFile(e,t,r){if(await ie(0),this.writeShouldThrowError)throw this.writeShouldThrowError;return V(e,this.readonly)}move(e,t,r){return Promise.resolve(null)}copy(e,t,r){return Promise.resolve(null)}async cloneFile(e,t){}createFile(e,t,r){return Promise.resolve(null)}createFolder(e){return Promise.resolve(null)}onDidChangeFileSystemProviderRegistrations=o.None;providers=new Map;registerProvider(e,t){return this.providers.set(e,t),De(()=>this.providers.delete(e))}getProvider(e){return this.providers.get(e)}async activateProvider(e){this._onWillActivateFileSystemProvider.fire({scheme:e,join:()=>{}})}async canHandleResource(e){return this.hasProvider(e)}hasProvider(e){return e.scheme===v.file||this.providers.has(e.scheme)}listCapabilities(){return[{scheme:v.file,capabilities:x.FileOpenReadWriteClose},...mr.map(this.providers,([e,t])=>({scheme:e,capabilities:t.capabilities}))]}hasCapability(e,t){if(t===x.PathCaseSensitive&&Ft)return!0;const r=this.getProvider(e.scheme);return!!(r&&r.capabilities&t)}async del(e,t){}createWatcher(e,t){return{onDidChange:o.None,dispose:()=>{}}}watches=[];watch(e){return this.watches.push(e),De(()=>this.watches.splice(this.watches.indexOf(e),1))}getWriteEncoding(e){return{encoding:"utf8",hasBOM:!1}}dispose(){}async canCreateFile(e,t){return!0}async canMove(e,t,r){return!0}async canCopy(e,t,r){return!0}async canDelete(e,t){return!0}}class Bi extends Ir{resolved=new Set;constructor(){super()}parseBackupContent(e){const t=e.create(St.LF).textBuffer,r=t.getLineCount(),s=new Pt(1,1,r,t.getLineLength(r)+1);return t.getValueInRange(s,wt.TextDefined)}async resolve(e){return this.resolved.add(e),super.resolve(e)}}function Yu(i){return Vi(i,"")}function Vi(i,e="testBackupTypeId"){return{typeId:e,resource:i}}class $u extends vr{backupResourceJoiners;discardBackupJoiners;discardedBackups;constructor(){const e=new f,t=ue,r=new Oe,s=e.add(new Er(r));e.add(s.registerProvider(v.file,e.add(new le))),e.add(s.registerProvider(v.vscodeUserData,e.add(new le))),super(new Ne(Ce),t,s,r),this.backupResourceJoiners=[],this.discardBackupJoiners=[],this.discardedBackups=[],this._register(e)}testGetFileService(){return this.fileService}joinBackupResource(){return new Promise(e=>this.backupResourceJoiners.push(e))}joinDiscardBackup(){return new Promise(e=>this.discardBackupJoiners.push(e))}async backup(e,t,r,s,a){for(await super.backup(e,t,r,s,a);this.backupResourceJoiners.length;)this.backupResourceJoiners.pop()()}async discardBackup(e){for(await super.discardBackup(e),this.discardedBackups.push(e);this.discardBackupJoiners.length;)this.discardBackupJoiners.pop()()}async getBackupContents(e){const t=this.toBackupResource(e);return(await this.fileService.readFile(t)).value.toString()}}class Ni extends m{usePhases=!1;_phase;get phase(){return this._phase}set phase(e){this._phase=e,e===I.Starting?this.whenStarted.complete():e===I.Ready?this.whenReady.complete():e===I.Restored?this.whenRestored.complete():e===I.Eventually&&this.whenEventually.complete()}whenStarted=new L;whenReady=new L;whenRestored=new L;whenEventually=new L;async when(e){this.usePhases&&(e===I.Starting?await this.whenStarted.p:e===I.Ready?await this.whenReady.p:e===I.Restored?await this.whenRestored.p:e===I.Eventually&&await this.whenEventually.p)}startupKind;_onBeforeShutdown=this._register(new l);get onBeforeShutdown(){return this._onBeforeShutdown.event}_onBeforeShutdownError=this._register(new l);get onBeforeShutdownError(){return this._onBeforeShutdownError.event}_onShutdownVeto=this._register(new l);get onShutdownVeto(){return this._onShutdownVeto.event}_onWillShutdown=this._register(new l);get onWillShutdown(){return this._onWillShutdown.event}_onDidShutdown=this._register(new l);get onDidShutdown(){return this._onDidShutdown.event}shutdownJoiners=[];fireShutdown(e=J.QUIT){this.shutdownJoiners=[],this._onWillShutdown.fire({join:t=>{this.shutdownJoiners.push(typeof t=="function"?t():t)},joiners:()=>[],force:()=>{},token:Be.None,reason:e})}fireBeforeShutdown(e){this._onBeforeShutdown.fire(e)}fireWillShutdown(e){this._onWillShutdown.fire(e)}async shutdown(){this.fireShutdown()}}class ep{value;finalValue;reason=J.CLOSE;veto(e){this.value=e}finalVeto(e){this.value=e(),this.finalValue=e}}class tp{value=[];joiners=()=>[];reason=J.CLOSE;token=Be.None;join(e,t){this.value.push(typeof e=="function"?e():e)}force(){}}class Hi{constructor(e=new be){this.configurationService=e}onDidChangeConfiguration(){return{dispose(){}}}getValue(e,t,r){const a=(Et.isIPosition(t)?t:null)?typeof r=="string"?r:void 0:typeof t=="string"?t:void 0;return this.configurationService.getValue(a,{resource:e})}inspect(e,t,r){return this.configurationService.inspect(r,{resource:e})}updateValue(e,t,r,s){return this.configurationService.updateValue(t,r)}}class rp{constructor(e,t){this.wrappedFsp=e;this.remoteAuthority=t}capabilities=this.wrappedFsp.capabilities;onDidChangeCapabilities=this.wrappedFsp.onDidChangeCapabilities;onDidChangeFile=o.map(this.wrappedFsp.onDidChangeFile,e=>e.map(t=>({type:t.type,resource:t.resource.with({scheme:v.vscodeRemote,authority:this.remoteAuthority})})));watch(e,t){return this.wrappedFsp.watch(this.toFileResource(e),t)}stat(e){return this.wrappedFsp.stat(this.toFileResource(e))}mkdir(e){return this.wrappedFsp.mkdir(this.toFileResource(e))}readdir(e){return this.wrappedFsp.readdir(this.toFileResource(e))}delete(e,t){return this.wrappedFsp.delete(this.toFileResource(e),t)}rename(e,t,r){return this.wrappedFsp.rename(this.toFileResource(e),this.toFileResource(t),r)}copy(e,t,r){return this.wrappedFsp.copy(this.toFileResource(e),this.toFileResource(t),r)}readFile(e){return this.wrappedFsp.readFile(this.toFileResource(e))}writeFile(e,t,r){return this.wrappedFsp.writeFile(this.toFileResource(e),t,r)}open(e,t){return this.wrappedFsp.open(this.toFileResource(e),t)}close(e){return this.wrappedFsp.close(e)}read(e,t,r,s,a){return this.wrappedFsp.read(e,t,r,s,a)}write(e,t,r,s,a){return this.wrappedFsp.write(e,t,r,s,a)}readFileStream(e,t,r){return this.wrappedFsp.readFileStream(this.toFileResource(e),t,r)}toFileResource(e){return e.with({scheme:v.file,authority:""})}}class ip extends le{get capabilities(){return x.FileReadWrite|x.PathCaseSensitive|x.FileReadStream}readFileStream(e){const r=ar(s=>U.concat(s.map(a=>U.wrap(a))).buffer);return(async()=>{try{const s=await this.readFile(e);let a=0;for(;a<s.length;)await ie(0),await r.write(s.subarray(a,a+65536)),a+=65536;await ie(0),r.end()}catch(s){r.end(s)}})(),r}}const op={_serviceBrand:void 0,..._t};class Ki{_hasFocus=!0;get hasFocus(){return this._hasFocus}async hadLastFocus(){return this._hasFocus}_onDidChangeFocus=new l;onDidChangeFocus=this._onDidChangeFocus.event;_onDidChangeWindow=new l;onDidChangeActiveWindow=this._onDidChangeWindow.event;onDidChangeFullScreen=o.None;setFocus(e){this._hasFocus=e,this._onDidChangeFocus.fire(this._hasFocus)}async restart(){}async reload(){}async close(){}async withExpectedShutdown(e){return await e()}async focus(){}async moveTop(){}async getCursorScreenPoint(){}async openWindow(e,t){}async toggleFullScreen(){}colorScheme=pr.DARK;onDidChangeColorScheme=o.None;getPathForFile(e){}}class zi extends Gt{testOnFilesConfigurationChange(e){super.onFilesConfigurationChange(e,!0)}}class np extends Kt{isReadonly(){return!0}}class sp extends z{constructor(t,r){super();this.resource=t;this._typeId=r}get typeId(){return this._typeId}get editorId(){return this._typeId}resolve(){return Promise.resolve(null)}}function ap(i,e,t){const r=new f;class s extends zt{_scopedContextKeyService;constructor(d){super(i,d,Ie,new xe,r.add(new He)),this._scopedContextKeyService=new Re}async setInput(d,c,u,p){super.setInput(d,c,u,p),await d.resolve()}getId(){return i}layout(){}createEditor(){}get scopedContextKeyService(){return this._scopedContextKeyService}}if(r.add(g.as(_.EditorPane).registerEditorPane(G.create(s,i,"Test Editor Control"),e)),t){class a{canSerialize(c){return!0}serialize(c){const p={resource:c.resource.toString()};return JSON.stringify(p)}deserialize(c,u){const p=JSON.parse(u);return new H(h.parse(p.resource),t)}}r.add(g.as(ve.EditorFactory).registerEditorSerializer(t,a))}return r}function dp(){const i=new f;return i.add(g.as(_.EditorPane).registerEditorPane(G.create(et,et.ID,"Text File Editor"),[new B(O)])),i}function lp(){const i=new f;return i.add(g.as(_.EditorPane).registerEditorPane(G.create($e,$e.ID,"Text Editor"),[new B(Sr),new B(gr)])),i}function cp(){const i=new f;return i.add(g.as(_.EditorPane).registerEditorPane(G.create(Qe,Qe.ID,"Text Editor"),[new B(Ur)])),i}class H extends z{constructor(t,r){super();this.resource=t;this._typeId=r}preferredResource=this.resource;gotDisposed=!1;gotSaved=!1;gotSavedAs=!1;gotReverted=!1;dirty=!1;modified;fails=!1;disableToUntyped=!1;get typeId(){return this._typeId}get editorId(){return this._typeId}_capabilities=Ee.None;get capabilities(){return this._capabilities}set capabilities(t){this._capabilities!==t&&(this._capabilities=t,this._onDidChangeCapabilities.fire())}resolve(){return this.fails?Promise.reject(new Error("fails")):Promise.resolve(null)}matches(t){return super.matches(t)?!0:t instanceof z?!!(t?.resource&&this.resource.toString()===t.resource.toString()&&t instanceof H&&t.typeId===this.typeId):ot(this.resource,t.resource)&&(this.editorId===t.options?.override||t.options?.override===void 0)}setPreferredResource(t){}async setEncoding(t){}getEncoding(){}setPreferredName(t){}setPreferredDescription(t){}setPreferredEncoding(t){}setPreferredContents(t){}setLanguageId(t,r){}setPreferredLanguageId(t){}setForceOpenAsBinary(){}setFailToOpen(){this.fails=!0}async save(t,r){return this.gotSaved=!0,this.dirty=!1,this}async saveAs(t,r){return this.gotSavedAs=!0,this}async revert(t,r){this.gotReverted=!0,this.gotSaved=!1,this.gotSavedAs=!1,this.dirty=!1}toUntyped(){if(!this.disableToUntyped)return{resource:this.resource}}setModified(){this.modified=!0}isModified(){return this.modified===void 0?this.dirty:this.modified}setDirty(){this.dirty=!0}isDirty(){return this.dirty}isResolved(){return!1}dispose(){super.dispose(),this.gotDisposed=!0}movedEditor=void 0;async rename(){return this.movedEditor}moveDisabledReason=void 0;setMoveDisabled(t){this.moveDisabledReason=t}canMove(t,r){return typeof this.moveDisabledReason=="string"?this.moveDisabledReason:super.canMove(t,r)}}class up extends H{get capabilities(){return Ee.Singleton}}class Qi extends jt{mainPart=this;parts=[this];onDidCreateAuxiliaryEditorPart=o.None;testSaveState(){return super.saveState()}clearState(){const e=this.getMemento(We.WORKSPACE,Ge.MACHINE);for(const r of Object.keys(e))delete e[r];const t=this.getMemento(We.PROFILE,Ge.MACHINE);for(const r of Object.keys(t))delete t[r]}registerEditorPart(e){return m.None}createAuxiliaryEditorPart(){throw new Error("Method not implemented.")}getScopedInstantiationService(e){throw new Error("Method not implemented.")}getPart(e){return this}saveWorkingSet(e){throw new Error("Method not implemented.")}getWorkingSets(){throw new Error("Method not implemented.")}applyWorkingSet(e,t){throw new Error("Method not implemented.")}deleteWorkingSet(e){throw new Error("Method not implemented.")}registerContextKeyProvider(e){throw new Error("Method not implemented.")}}class Ji extends ci{testMainPart;createMainEditorPart(){return this.testMainPart=this.instantiationService.createInstance(Qi,this),this.testMainPart}}async function ji(i,e){const t=i.createInstance(Ji),r=e.add(t).testMainPart;return r.create(document.createElement("div")),r.layout(1080,800,0,0),await t.whenReady,t}async function pp(i,e){return(await ji(i,e)).testMainPart}class qi{lastFocusedList=void 0;register(){return m.None}}class Zi{constructor(e=h.from({scheme:v.file,path:"/"}),t=v.file){this.fallbackUserHome=e;this.defaultUriScheme=t}hasValidBasename(e,t,r){return typeof t=="string"||typeof t>"u"?Xe(t??me(e)):Xe(r??me(e))}get path(){return Promise.resolve(Dt?Xt:Yt)}userHome(e){return e?.preferLocal?this.fallbackUserHome:Promise.resolve(this.fallbackUserHome)}get resolvedUserHome(){return this.fallbackUserHome}async fileURI(e){return h.file(e)}}function mp(i){return i?.lastResolvedFileStat}class Xi{_serviceBrand;onDidChangeRecentlyOpened=o.None;async createUntitledWorkspace(e,t){throw new Error("Method not implemented.")}async deleteUntitledWorkspace(e){}async addRecentlyOpened(e){}async removeRecentlyOpened(e){}async clearRecentlyOpened(){}async getRecentlyOpened(){return{files:[],workspaces:[]}}async getDirtyWorkspaces(){return[]}async enterWorkspace(e){throw new Error("Method not implemented.")}async getWorkspaceIdentifier(e){throw new Error("Method not implemented.")}}class Yi{onDidCreateInstance=o.None;convertProfileToShellLaunchConfig(e,t){throw new Error("Method not implemented.")}preparePathForTerminalAsync(e,t,r,s,a){throw new Error("Method not implemented.")}createInstance(e,t){throw new Error("Method not implemented.")}async getBackend(e){throw new Error("Method not implemented.")}didRegisterBackend(e){throw new Error("Method not implemented.")}getRegisteredBackends(){throw new Error("Method not implemented.")}}class $i{_serviceBrand;activeInstance;instances=[];onDidDisposeInstance=o.None;onDidFocusInstance=o.None;onDidChangeInstanceCapability=o.None;onDidChangeActiveInstance=o.None;onDidChangeInstances=o.None;openEditor(e,t){throw new Error("Method not implemented.")}detachInstance(e){throw new Error("Method not implemented.")}splitInstance(e,t){throw new Error("Method not implemented.")}revealActiveEditor(e){throw new Error("Method not implemented.")}resolveResource(e){throw new Error("Method not implemented.")}reviveInput(e){throw new Error("Method not implemented.")}getInputFromResource(e){throw new Error("Method not implemented.")}setActiveInstance(e){throw new Error("Method not implemented.")}focusActiveInstance(){throw new Error("Method not implemented.")}focusInstance(e){throw new Error("Method not implemented.")}getInstanceFromResource(e){throw new Error("Method not implemented.")}focusFindWidget(){throw new Error("Method not implemented.")}hideFindWidget(){throw new Error("Method not implemented.")}findNext(){throw new Error("Method not implemented.")}findPrevious(){throw new Error("Method not implemented.")}}class eo{_serviceBrand;activeInstance;instances=[];groups=[];activeGroup;activeGroupIndex=0;lastAccessedMenu="inline-tab";onDidChangeActiveGroup=o.None;onDidDisposeGroup=o.None;onDidShow=o.None;onDidChangeGroups=o.None;onDidChangePanelOrientation=o.None;onDidDisposeInstance=o.None;onDidFocusInstance=o.None;onDidChangeInstanceCapability=o.None;onDidChangeActiveInstance=o.None;onDidChangeInstances=o.None;createGroup(e){throw new Error("Method not implemented.")}getGroupForInstance(e){throw new Error("Method not implemented.")}moveGroup(e,t){throw new Error("Method not implemented.")}moveGroupToEnd(e){throw new Error("Method not implemented.")}moveInstance(e,t,r){throw new Error("Method not implemented.")}unsplitInstance(e){throw new Error("Method not implemented.")}joinInstances(e){throw new Error("Method not implemented.")}instanceIsSplit(e){throw new Error("Method not implemented.")}getGroupLabels(){throw new Error("Method not implemented.")}setActiveGroupByIndex(e){throw new Error("Method not implemented.")}setActiveGroupToNext(){throw new Error("Method not implemented.")}setActiveGroupToPrevious(){throw new Error("Method not implemented.")}setActiveInstanceByIndex(e){throw new Error("Method not implemented.")}setContainer(e){throw new Error("Method not implemented.")}showPanel(e){throw new Error("Method not implemented.")}hidePanel(){throw new Error("Method not implemented.")}focusTabs(){throw new Error("Method not implemented.")}focusHover(){throw new Error("Method not implemented.")}setActiveInstance(e){throw new Error("Method not implemented.")}focusActiveInstance(){throw new Error("Method not implemented.")}focusInstance(e){throw new Error("Method not implemented.")}getInstanceFromResource(e){throw new Error("Method not implemented.")}focusFindWidget(){throw new Error("Method not implemented.")}hideFindWidget(){throw new Error("Method not implemented.")}findNext(){throw new Error("Method not implemented.")}findPrevious(){throw new Error("Method not implemented.")}updateVisibility(){throw new Error("Method not implemented.")}}class to{_serviceBrand;availableProfiles=[];contributedProfiles=[];profilesReady=Promise.resolve();onDidChangeAvailableProfiles=o.None;getPlatformKey(){throw new Error("Method not implemented.")}refreshAvailableProfiles(){throw new Error("Method not implemented.")}getDefaultProfileName(){throw new Error("Method not implemented.")}getDefaultProfile(){throw new Error("Method not implemented.")}getContributedDefaultProfile(e){throw new Error("Method not implemented.")}registerContributedProfile(e){throw new Error("Method not implemented.")}getContributedProfileProvider(e,t){throw new Error("Method not implemented.")}registerTerminalProfileProvider(e,t,r){throw new Error("Method not implemented.")}}class ro{_serviceBrand;defaultProfileName="";resolveIcon(e){}async resolveShellLaunchConfig(e,t){}async getDefaultProfile(e){return{path:"/default",profileName:"Default",isDefault:!0}}async getDefaultShell(e){return"/default"}async getDefaultShellArgs(e){return[]}getDefaultIcon(){return ai.terminal}async getEnvironment(){return Hr}getSafeConfigValue(e,t){}getSafeConfigValueFullKey(e){}createProfileFromShellAndShellArgs(e,t){throw new Error("Method not implemented.")}}class io extends gi{get fontMetrics(){return this._fontMetrics}setConfig(e){this._config=e}}class Ip{onShow=o.None;onHide=o.None;currentQuickInput=void 0;quickAccess=void 0;backButton;async pick(e,t,r){if(Array.isArray(e))return{label:"selectedPick",description:"pick description",value:"selectedPick"}}async input(e,t){return e?"resolved"+e.prompt:"resolved"}createQuickPick(){throw new Error("not implemented.")}createInputBox(){throw new Error("not implemented.")}createQuickWidget(){throw new Error("Method not implemented.")}focus(){throw new Error("not implemented.")}toggle(){throw new Error("not implemented.")}navigate(e,t){throw new Error("not implemented.")}accept(){throw new Error("not implemented.")}back(){throw new Error("not implemented.")}cancel(){throw new Error("not implemented.")}}class oo{isEnabledForLanguage(e){return!1}async detectLanguage(e,t){}}class no{getConnection(){return null}async getEnvironment(){return null}async getRawEnvironment(){return null}async getExtensionHostExitInfo(e){return null}async getDiagnosticInfo(e){}async updateTelemetryLevel(e){}async logTelemetry(e,t){}async flushTelemetry(){}async getRoundTripTime(){}async endConnection(){}}class vp{async whenExtensionsReady(){}scanExtensions(){throw new Error("Method not implemented.")}}class Ep{_serviceBrand;onEnablementChanged=o.None;getEnablementState(e){return si.EnabledGlobally}getEnablementStates(e,t){return[]}getDependenciesEnablementStates(e){return[]}canChangeEnablement(e){return!0}canChangeWorkspaceEnablement(e){return!0}isEnabled(e){return!0}isEnabledEnablementState(e){return!0}isDisabledGlobally(e){return!1}async setEnablement(e,t){return[]}async updateExtensionsEnablementsWhenWorkspaceTrustChanges(){}}class hp{_serviceBrand;onInstallExtension=o.None;onDidInstallExtensions=o.None;onUninstallExtension=o.None;onDidUninstallExtension=o.None;onDidUpdateExtensionMetadata=o.None;onProfileAwareInstallExtension=o.None;onProfileAwareDidInstallExtensions=o.None;onProfileAwareUninstallExtension=o.None;onProfileAwareDidUninstallExtension=o.None;onDidChangeProfile=o.None;onDidEnableExtensions=o.None;installVSIX(e,t,r){throw new Error("Method not implemented.")}installFromLocation(e){throw new Error("Method not implemented.")}installGalleryExtensions(e){throw new Error("Method not implemented.")}async updateFromGallery(e,t,r){return t}zip(e){throw new Error("Method not implemented.")}getManifest(e){throw new Error("Method not implemented.")}install(e,t){throw new Error("Method not implemented.")}async canInstall(e){return!1}installFromGallery(e,t){throw new Error("Method not implemented.")}uninstall(e,t){throw new Error("Method not implemented.")}uninstallExtensions(e){throw new Error("Method not implemented.")}async reinstallFromGallery(e){throw new Error("Method not implemented.")}async getInstalled(e){return[]}getExtensionsControlManifest(){throw new Error("Method not implemented.")}async updateMetadata(e,t){return e}registerParticipant(e){}async getTargetPlatform(){return ei.UNDEFINED}async cleanUp(){}download(){throw new Error("Method not implemented.")}copyExtensions(){throw new Error("Not Supported")}toggleAppliationScope(){throw new Error("Not Supported")}installExtensionsFromProfile(){throw new Error("Not Supported")}whenProfileChanged(e,t){throw new Error("Not Supported")}getInstalledWorkspaceExtensionLocations(){throw new Error("Method not implemented.")}getInstalledWorkspaceExtensions(){throw new Error("Method not implemented.")}installResourceExtension(){throw new Error("Method not implemented.")}getExtensions(){throw new Error("Method not implemented.")}resetPinnedStateForAllUserExtensions(e){throw new Error("Method not implemented.")}}class fp{_serviceBrand;onDidChangeCurrentProfile=o.None;currentProfile=ri("test","test",h.file("tests").with({scheme:"vscode-tests"}),h.file("tests").with({scheme:"vscode-tests"}));async updateCurrentProfile(){}getShortName(e){return e.shortName??e.name}}class gp{_serviceBrand;onDidChangeProfile=o.None;async scanSystemExtensions(){return[]}async scanUserExtensions(){return[]}async scanExtensionsUnderDevelopment(){return[]}async copyExtensions(){throw new Error("Method not implemented.")}scanExistingExtension(e,t){throw new Error("Method not implemented.")}addExtension(e,t){throw new Error("Method not implemented.")}addExtensionFromGallery(e,t){throw new Error("Method not implemented.")}removeExtension(){throw new Error("Method not implemented.")}updateMetadata(e,t,r){throw new Error("Method not implemented.")}scanExtensionManifest(e){throw new Error("Method not implemented.")}}async function Sp(i){return i.invokeFunction(async e=>{const t=e.get(oe),r=e.get(te);for(const s of t.workingCopies)await s.revert();for(const s of r.groups)await s.closeAllEditors();for(const s of r.groups)r.removeGroup(s)})}export{$u as InMemoryTestWorkingCopyBackupService,rp as RemoteFileSystemProvider,ep as TestBeforeShutdownEvent,qu as TestBrowserTextFileServiceWithEncodingOverrides,Di as TestDecorationsService,Xu as TestEditorGroupAccessor,Li as TestEditorGroupView,Gi as TestEditorGroupsService,sp as TestEditorInput,Qi as TestEditorPart,Ji as TestEditorParts,Ui as TestEditorService,Ti as TestEncodingOracle,ue as TestEnvironmentService,R as TestFileDialogService,H as TestFileEditorInput,Ai as TestFileService,zi as TestFilesConfigurationService,Ki as TestHostService,ip as TestInMemoryFileSystemProvider,Mi as TestLayoutService,Ni as TestLifecycleService,qi as TestListService,ki as TestMenuService,Oi as TestPaneCompositeService,Wi as TestPanelPart,Zi as TestPathService,Fi as TestProgressService,Ip as TestQuickInputService,np as TestReadonlyTextFileEditorModel,no as TestRemoteAgentService,vp as TestRemoteExtensionsScannerService,N as TestServiceAccessor,_i as TestSideBarPart,up as TestSingletonFileEditorInput,io as TestTerminalConfigurationService,$i as TestTerminalEditorService,eo as TestTerminalGroupService,Yi as TestTerminalInstanceService,ro as TestTerminalProfileResolverService,to as TestTerminalProfileService,et as TestTextFileEditor,T as TestTextFileService,Hi as TestTextResourceConfigurationService,$e as TestTextResourceEditor,fp as TestUserDataProfileService,Zu as TestViewsService,gp as TestWebExtensionsScannerService,tp as TestWillShutdownEvent,Ep as TestWorkbenchExtensionEnablementService,hp as TestWorkbenchExtensionManagementService,Bi as TestWorkingCopyBackupService,xi as TestWorkingCopyService,Xi as TestWorkspacesService,pp as createEditorPart,ji as createEditorParts,Ju as createFileEditorInput,mp as getLastResolvedFileStat,op as productService,ap as registerTestEditor,dp as registerTestFileEditor,lp as registerTestResourceEditor,cp as registerTestSideBySideEditor,Vi as toTypedWorkingCopyId,Yu as toUntypedWorkingCopyId,ju as workbenchInstantiationService,Sp as workbenchTeardown};
