import t from"assert";import{ensureNoDisposablesAreLeakedInTestSuite as e}from"../../../../base/test/common/utils.js";import{parseAuthorityWithOptionalPort as a,parseAuthorityWithPort as o}from"../../common/remoteHosts.js";suite("remoteHosts",()=>{e(),test("parseAuthority hostname",()=>{t.deepStrictEqual(o("localhost:8080"),{host:"localhost",port:8080})}),test("parseAuthority ipv4",()=>{t.deepStrictEqual(o("127.0.0.1:8080"),{host:"127.0.0.1",port:8080})}),test("parseAuthority ipv6",()=>{t.deepStrictEqual(o("[2001:0db8:85a3:0000:0000:8a2e:0370:7334]:8080"),{host:"[2001:0db8:85a3:0000:0000:8a2e:0370:7334]",port:8080})}),test("parseAuthorityWithOptionalPort hostname",()=>{t.deepStrictEqual(a("localhost:8080",123),{host:"localhost",port:8080}),t.deepStrictEqual(a("localhost",123),{host:"localhost",port:123})}),test("parseAuthorityWithOptionalPort ipv4",()=>{t.deepStrictEqual(a("127.0.0.1:8080",123),{host:"127.0.0.1",port:8080}),t.deepStrictEqual(a("127.0.0.1",123),{host:"127.0.0.1",port:123})}),test("parseAuthorityWithOptionalPort ipv6",()=>{t.deepStrictEqual(a("[2001:0db8:85a3:0000:0000:8a2e:0370:7334]:8080",123),{host:"[2001:0db8:85a3:0000:0000:8a2e:0370:7334]",port:8080}),t.deepStrictEqual(a("[2001:0db8:85a3:0000:0000:8a2e:0370:7334]",123),{host:"[2001:0db8:85a3:0000:0000:8a2e:0370:7334]",port:123})}),test("issue #151748: Error: Remote authorities containing '+' need to be resolved!",()=>{t.deepStrictEqual(a("codespaces+aaaaa-aaaaa-aaaa-aaaaa-a111aa111",123),{host:"codespaces+aaaaa-aaaaa-aaaa-aaaaa-a111aa111",port:123})})});
