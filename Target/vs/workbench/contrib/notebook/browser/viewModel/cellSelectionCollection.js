import{Emitter as s}from"../../../../../base/common/event.js";import{Disposable as o}from"../../../../../base/common/lifecycle.js";import"../../common/notebookRange.js";function a(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;e++)if(n[e].start!==t[e].start||n[e].end!==t[e].end)return!1;return!0}class u extends o{_onDidChangeSelection=this._register(new s);get onDidChangeSelection(){return this._onDidChangeSelection.event}_primary=null;_selections=[];get selections(){return this._selections}get focus(){return this._primary??{start:0,end:0}}setState(t,e,l,i){const r=t!==this._primary||!a(this._selections,e);this._primary=t,this._selections=e,(r||l)&&this._onDidChangeSelection.fire(i)}setSelections(t,e,l){this.setState(this._primary,t,e,l)}}export{u as NotebookCellSelectionCollection};
