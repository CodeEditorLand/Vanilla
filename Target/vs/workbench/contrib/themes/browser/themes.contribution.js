var me=Object.defineProperty;var he=Object.getOwnPropertyDescriptor;var H=(n,e,t,o)=>{for(var r=o>1?void 0:o?he(e,t):e,s=n.length-1,m;s>=0;s--)(m=n[s])&&(r=(o?m(e,t,r):m(r))||r);return o&&r&&me(e,t,r),r},T=(n,e)=>(t,o)=>e(t,o,n);import{localize as c,localize2 as w}from"../../../../nls.js";import{KeyMod as U,KeyChord as de,KeyCode as V}from"../../../../base/common/keyCodes.js";import{MenuRegistry as x,MenuId as W,Action2 as _,registerAction2 as E}from"../../../../platform/actions/common/actions.js";import{equalsIgnoreCase as Y}from"../../../../base/common/strings.js";import{Registry as z}from"../../../../platform/registry/common/platform.js";import{Categories as P}from"../../../../platform/action/common/actionCommonCategories.js";import{IWorkbenchThemeService as v,ThemeSettings as k,ThemeSettingDefaults as C}from"../../../services/themes/common/workbenchThemeService.js";import{VIEWLET_ID as ue}from"../../extensions/common/extensions.js";import{IExtensionGalleryService as N,IExtensionManagementService as ge}from"../../../../platform/extensionManagement/common/extensionManagement.js";import{Extensions as pe}from"../../../../platform/theme/common/colorRegistry.js";import{IEditorService as Te}from"../../../services/editor/common/editorService.js";import{Color as X}from"../../../../base/common/color.js";import{ColorScheme as I,isHighContrast as Ie}from"../../../../platform/theme/common/theme.js";import{colorThemeSchemaId as fe}from"../../../services/themes/common/colorThemeSchema.js";import{isCancellationError as Se,onUnexpectedError as Q}from"../../../../base/common/errors.js";import{IQuickInputService as j}from"../../../../platform/quickinput/common/quickInput.js";import{DEFAULT_PRODUCT_ICON_THEME_ID as ke,ProductIconThemeData as ye}from"../../../services/themes/browser/productIconThemeData.js";import{IPaneCompositePartService as J}from"../../../services/panecomposite/browser/panecomposite.js";import{ViewContainerLocation as ve}from"../../../common/views.js";import{ThrottledDelayer as Ce}from"../../../../base/common/async.js";import{CancellationTokenSource as be}from"../../../../base/common/cancellation.js";import{ILogService as we}from"../../../../platform/log/common/log.js";import{IProgressService as _e,ProgressLocation as Ee}from"../../../../platform/progress/common/progress.js";import{Codicon as K}from"../../../../base/common/codicons.js";import{registerIcon as Pe}from"../../../../platform/theme/common/iconRegistry.js";import{ThemeIcon as Re}from"../../../../base/common/themables.js";import{Emitter as Me}from"../../../../base/common/event.js";import{IExtensionResourceLoaderService as Z}from"../../../../platform/extensionResourceLoader/common/extensionResourceLoader.js";import{IInstantiationService as O}from"../../../../platform/instantiation/common/instantiation.js";import{KeybindingWeight as De}from"../../../../platform/keybinding/common/keybindingsRegistry.js";import{CommandsRegistry as xe,ICommandService as Oe}from"../../../../platform/commands/common/commands.js";import{FileIconThemeData as Le}from"../../../services/themes/browser/fileIconThemeData.js";import{IConfigurationService as Ae}from"../../../../platform/configuration/common/configuration.js";import{IDialogService as He}from"../../../../platform/dialogs/common/dialogs.js";import{Extensions as Ge}from"../../../common/contributions.js";import{LifecyclePhase as We}from"../../../services/lifecycle/common/lifecycle.js";import{INotificationService as ee,Severity as F}from"../../../../platform/notification/common/notification.js";import{IStorageService as Ne,StorageScope as B,StorageTarget as Qe}from"../../../../platform/storage/common/storage.js";import{isWeb as Ke}from"../../../../base/common/platform.js";import{ITelemetryService as Fe}from"../../../../platform/telemetry/common/telemetry.js";import{IHostService as Be}from"../../../services/host/browser/host.js";import{mainWindow as te}from"../../../../base/browser/window.js";import{IPreferencesService as oe}from"../../../services/preferences/common/preferences.js";import{Toggle as ie}from"../../../../base/browser/ui/toggle/toggle.js";import{defaultToggleStyles as ne}from"../../../../platform/theme/browser/defaultStyles.js";import{DisposableStore as re}from"../../../../base/common/lifecycle.js";const $e=Pe("theme-selection-manage-extension",K.gear,c("manageExtensionIcon","Icon for the 'Manage' action in the theme selection quick pick."));var qe=(o=>(o.BROWSE_GALLERY="marketplace",o.EXTENSIONS_VIEW="extensions",o.CUSTOM_TOP_ENTRY="customTopEntry",o))(qe||{});let R=class{constructor(e,t,o,r,s,m,d,i,h){this.getMarketplaceColorThemes=e;this.marketplaceQuery=t;this.extensionGalleryService=o;this.extensionManagementService=r;this.quickInputService=s;this.logService=m;this.progressService=d;this.paneCompositeService=i;this.dialogService=h;this._installedExtensions=r.getInstalled().then(l=>{const g=new Set;for(const u of l)g.add(u.identifier.id);return g})}_installedExtensions;_marketplaceExtensions=new Set;_marketplaceThemes=[];_searchOngoing=!1;_searchError=void 0;_onDidChange=new Me;_tokenSource;_queryDelayer=new Ce(200);get themes(){return this._marketplaceThemes}get onDidChange(){return this._onDidChange.event}trigger(e){this._tokenSource&&(this._tokenSource.cancel(),this._tokenSource=void 0),this._queryDelayer.trigger(()=>(this._tokenSource=new be,this.doSearch(e,this._tokenSource.token)))}async doSearch(e,t){this._searchOngoing=!0,this._onDidChange.fire();try{const o=await this._installedExtensions,r={text:`${this.marketplaceQuery} ${e}`,pageSize:20},s=await this.extensionGalleryService.query(r,t);for(let m=0;m<s.total&&m<1&&!t.isCancellationRequested;m++){const d=this._marketplaceThemes.length,i=m===0?s.firstPage:await s.getPage(m,t),h=[],l=[];for(let u=0;u<i.length&&!t.isCancellationRequested;u++){const a=i[u];!o.has(a.identifier.id)&&!this._marketplaceExtensions.has(a.identifier.id)&&(this._marketplaceExtensions.add(a.identifier.id),h.push(this.getMarketplaceColorThemes(a.publisher,a.name,a.version)),l.push(a))}const g=await Promise.all(h);for(let u=0;u<g.length;u++){const a=l[u];for(const p of g[u])this._marketplaceThemes.push({id:p.id,theme:p,label:p.label,description:`${a.displayName} \xB7 ${a.publisherDisplayName}`,galleryExtension:a,buttons:[q]})}d!==this._marketplaceThemes.length&&(this._marketplaceThemes.sort((u,a)=>u.label.localeCompare(a.label)),this._onDidChange.fire())}}catch(o){Se(o)||(this.logService.error("Error while searching for themes:",o),this._searchError="message"in o?o.message:String(o))}finally{this._searchOngoing=!1,this._onDidChange.fire()}}openQuickPick(e,t,o){let r;const s=new re;return new Promise((m,d)=>{const i=s.add(this.quickInputService.createQuickPick());i.items=[],i.sortByLabel=!1,i.matchOnDescription=!0,i.buttons=[this.quickInputService.backButton],i.title="Marketplace Themes",i.placeholder=c("themes.selectMarketplaceTheme","Type to Search More. Select to Install. Up/Down Keys to Preview"),i.canSelectMany=!1,s.add(i.onDidChangeValue(()=>this.trigger(i.value))),s.add(i.onDidAccept(async h=>{const l=i.selectedItems[0];if(l?.galleryExtension){r="selected",i.hide();const g=await this.installExtension(l.galleryExtension);o(g?l.theme:t,!0)}})),s.add(i.onDidTriggerItemButton(h=>{if(G(h.item)){const l=h.item.theme?.extensionData?.extensionId;l?M(this.paneCompositeService,`@id:${l}`):M(this.paneCompositeService,`${this.marketplaceQuery} ${i.value}`)}})),s.add(i.onDidChangeActive(h=>{r===void 0&&o(h[0]?.theme,!1)})),s.add(i.onDidHide(()=>{r===void 0&&(o(t,!0),r="cancelled"),m(r)})),s.add(i.onDidTriggerButton(h=>{h===this.quickInputService.backButton&&(r="back",i.hide())})),s.add(this.onDidChange(()=>{let h=this.themes;this._searchOngoing?h=h.concat({label:"$(sync~spin) Searching for themes...",id:void 0,alwaysShow:!0}):h.length===0&&this._searchError&&(h=[{label:`$(error) ${c("search.error","Error while searching for themes: {0}",this._searchError)}`,id:void 0,alwaysShow:!0}]);const l=i.activeItems[0]?.id,g=l?h.find(u=>G(u)&&u.id===l):void 0;i.items=h,g&&(i.activeItems=[g])})),this.trigger(e),i.show()}).finally(()=>{s.dispose()})}async installExtension(e){if(M(this.paneCompositeService,`@id:${e.identifier.id}`),!(await this.dialogService.confirm({message:c("installExtension.confirm","This will install extension '{0}' published by '{1}'. Do you want to continue?",e.displayName,e.publisherDisplayName),primaryButton:c("installExtension.button.ok","OK")})).confirmed)return!1;try{return await this.progressService.withProgress({location:Ee.Notification,title:c("installing extensions","Installing Extension {0}...",e.displayName)},async()=>{await this.extensionManagementService.installFromGallery(e,{isMachineScoped:!1})}),!0}catch(o){return this.logService.error(`Problem installing extension ${e.identifier.id}`,o),!1}}dispose(){this._tokenSource&&(this._tokenSource.cancel(),this._tokenSource=void 0),this._queryDelayer.dispose(),this._marketplaceExtensions.clear(),this._marketplaceThemes.length=0}};R=H([T(2,N),T(3,ge),T(4,j),T(5,we),T(6,_e),T(7,J),T(8,He)],R);let b=class{constructor(e,t,o,r,s,m,d,i){this.options=e;this.setTheme=t;this.getMarketplaceColorThemes=o;this.quickInputService=r;this.extensionGalleryService=s;this.paneCompositeService=m;this.extensionResourceLoaderService=d;this.instantiationService=i}async openQuickPick(e,t){let o;this.extensionGalleryService.isEnabled()&&(this.extensionResourceLoaderService.supportsExtensionGalleryResources&&this.options.browseMessage?(o=this.instantiationService.createInstance(R,this.getMarketplaceColorThemes.bind(this),this.options.marketplaceTag),e=[ce(this.options.browseMessage,"marketplace"),...e]):e=[...e,{type:"separator"},ce(this.options.installMessage,"extensions")]);let r;const s=(d,i)=>{r&&clearTimeout(r),r=te.setTimeout(()=>{r=void 0;const h=d??t;this.setTheme(h,i?"auto":"preview").then(void 0,l=>{Q(l),this.setTheme(t,void 0)})},i?0:200)},m=d=>{const i=new re;return new Promise((h,l)=>{let g=!1;const u=e.findIndex(p=>G(p)&&p.id===d),a=i.add(this.quickInputService.createQuickPick({useSeparators:!0}));a.items=e,a.title=this.options.title,a.description=this.options.description,a.placeholder=this.options.placeholderMessage,a.activeItems=[e[u]],a.canSelectMany=!1,a.toggles=this.options.toggles,a.toggles?.forEach(p=>{i.add(p.onChange(()=>this.options.onToggle?.(p,a)))}),a.matchOnDescription=!0,i.add(a.onDidAccept(async p=>{g=!0;const f=a.selectedItems[0];!f||f.configureItem?!f||f.configureItem==="extensions"?M(this.paneCompositeService,`${this.options.marketplaceTag} ${a.value}`):f.configureItem==="marketplace"&&o&&await o.openQuickPick(a.value,t,s)==="back"&&await m(void 0):s(f.theme,!0),a.hide(),h()})),i.add(a.onDidChangeActive(p=>s(p[0]?.theme,!1))),i.add(a.onDidHide(()=>{g||(s(t,!0),h()),a.dispose()})),i.add(a.onDidTriggerItemButton(p=>{if(G(p.item)){const f=p.item.theme?.extensionData?.extensionId;f?M(this.paneCompositeService,`@id:${f}`):M(this.paneCompositeService,`${this.options.marketplaceTag} ${a.value}`)}})),a.show()}).finally(()=>{i.dispose()})};await m(t.id),o?.dispose()}};b=H([T(3,j),T(4,N),T(5,J),T(6,Z),T(7,O)],b);const $="workbench.action.selectTheme";E(class extends _{constructor(){super({id:$,title:w("selectTheme.label","Color Theme"),category:P.Preferences,f1:!0,keybinding:{weight:De.WorkbenchContrib,primary:de(U.CtrlCmd|V.KeyK,U.CtrlCmd|V.KeyT)}})}getTitle(n){switch(n){case I.DARK:return c("themes.selectTheme.darkScheme","Select Color Theme for System Dark Mode");case I.LIGHT:return c("themes.selectTheme.lightScheme","Select Color Theme for System Light Mode");case I.HIGH_CONTRAST_DARK:return c("themes.selectTheme.darkHC","Select Color Theme for High Contrast Dark Mode");case I.HIGH_CONTRAST_LIGHT:return c("themes.selectTheme.lightHC","Select Color Theme for High Contrast Light Mode");default:return c("themes.selectTheme.default","Select Color Theme (detect system color mode disabled)")}}async run(n){const e=n.get(v),t=n.get(oe),o=e.getPreferredColorScheme();let r;o?r=new ie({title:c("themes.configure.switchingEnabled","Detect system color mode enabled. Click to configure."),icon:K.colorMode,isChecked:!1,...ne}):r=new ie({title:c("themes.configure.switchingDisabled","Detect system color mode disabled. Click to configure."),icon:K.colorMode,isChecked:!1,...ne});const s={installMessage:c("installColorThemes","Install Additional Color Themes..."),browseMessage:"$(plus) "+c("browseColorThemes","Browse Additional Color Themes..."),placeholderMessage:this.getTitle(o),marketplaceTag:"category:themes",toggles:[r],onToggle:async(S,D)=>{D.hide(),await t.openSettings({query:k.DETECT_COLOR_SCHEME})}},m=(S,D)=>e.setColorTheme(S,D),d=(S,D,le)=>e.getMarketplaceColorThemes(S,D,le),h=n.get(O).createInstance(b,s,m,d),l=await e.getColorThemes(),g=e.getColorTheme(),u=L(l.filter(S=>S.type===I.LIGHT),c("themes.category.light","light themes")),a=L(l.filter(S=>S.type===I.DARK),c("themes.category.dark","dark themes")),p=L(l.filter(S=>Ie(S.type)),c("themes.category.hc","high contrast themes"));let f;switch(o){case I.DARK:f=[...a,...u,...p];break;case I.HIGH_CONTRAST_DARK:case I.HIGH_CONTRAST_LIGHT:f=[...p,...u,...a];break;case I.LIGHT:default:f=[...u,...a,...p];break}await h.openQuickPick(f,g)}});const se="workbench.action.selectIconTheme";E(class extends _{constructor(){super({id:se,title:w("selectIconTheme.label","File Icon Theme"),category:P.Preferences,f1:!0})}async run(n){const e=n.get(v),t={installMessage:c("installIconThemes","Install Additional File Icon Themes..."),placeholderMessage:c("themes.selectIconTheme","Select File Icon Theme (Up/Down Keys to Preview)"),marketplaceTag:"tag:icon-theme"},o=(i,h)=>e.setFileIconTheme(i,h),r=(i,h,l)=>e.getMarketplaceFileIconThemes(i,h,l),m=n.get(O).createInstance(b,t,o,r),d=[{type:"separator",label:c("fileIconThemeCategory","file icon themes")},{id:"",theme:Le.noIconTheme,label:c("noIconThemeLabel","None"),description:c("noIconThemeDesc","Disable File Icons")},...L(await e.getFileIconThemes())];await m.openQuickPick(d,e.getFileIconTheme())}});const ae="workbench.action.selectProductIconTheme";E(class extends _{constructor(){super({id:ae,title:w("selectProductIconTheme.label","Product Icon Theme"),category:P.Preferences,f1:!0})}async run(n){const e=n.get(v),t={installMessage:c("installProductIconThemes","Install Additional Product Icon Themes..."),browseMessage:"$(plus) "+c("browseProductIconThemes","Browse Additional Product Icon Themes..."),placeholderMessage:c("themes.selectProductIconTheme","Select Product Icon Theme (Up/Down Keys to Preview)"),marketplaceTag:"tag:product-icon-theme"},o=(i,h)=>e.setProductIconTheme(i,h),r=(i,h,l)=>e.getMarketplaceProductIconThemes(i,h,l),m=n.get(O).createInstance(b,t,o,r),d=[{type:"separator",label:c("productIconThemeCategory","product icon themes")},{id:ke,theme:ye.defaultTheme,label:c("defaultProductIconThemeLabel","Default")},...L(await e.getProductIconThemes())];await m.openQuickPick(d,e.getProductIconTheme())}}),xe.registerCommand("workbench.action.previewColorTheme",async function(n,e,t){const o=n.get(v);let r=Ue(await o.getColorThemes(),e);r.length===0&&(r=await o.getMarketplaceColorThemes(e.publisher,e.name,e.version));for(const s of r)if(!t||s.settingsId===t)return await o.setColorTheme(s,"preview"),s.settingsId});function Ue(n,e){return n.filter(({extensionData:t})=>t&&t.extensionIsBuiltin&&Y(t.extensionPublisher,e.publisher)&&Y(t.extensionName,e.name))}function ce(n,e){return{id:void 0,label:n,alwaysShow:!0,buttons:[q],configureItem:e}}function M(n,e){return n.openPaneComposite(ue,ve.Sidebar,!0).then(t=>{t&&((t?.getViewPaneContainer()).search(e),t.focus())})}function G(n){return n.type!=="separator"}function Ve(n){const e=n.settingsId??void 0,t={id:n.id,theme:n,label:n.label,description:n.description||(n.label===e?void 0:e)};return n.extensionData&&(t.buttons=[q]),t}function L(n,e){const t=(r,s)=>r.label.localeCompare(s.label),o=n.map(Ve).sort(t);return o.length>0&&e&&o.unshift({type:"separator",label:e}),o}const q={iconClass:Re.asClassName($e),tooltip:c("manage extension","Manage Extension")};E(class extends _{constructor(){super({id:"workbench.action.generateColorTheme",title:w("generateColorTheme.label","Generate Color Theme From Current Settings"),category:P.Developer,f1:!0})}run(n){const t=n.get(v).getColorTheme(),r=z.as(pe.ColorContribution).getColors().map(l=>l.id).sort(),s={},m=[];for(const l of r){const g=t.getColor(l,!1);g?s[l]=X.Format.CSS.formatHexA(g,!0):m.push(l)}const d=[];for(const l of m){const g=t.getColor(l);g?s["__"+l]=X.Format.CSS.formatHexA(g,!0):d.push(l)}for(const l of d)s["__"+l]=null;let i=JSON.stringify({$schema:fe,type:t.type,colors:s,tokenColors:t.tokenColors.filter(l=>!!l.scope)},null,"	");return i=i.replace(/\"__/g,'//"'),n.get(Te).openEditor({resource:void 0,contents:i,languageId:"jsonc",options:{pinned:!0}})}});const Ye="workbench.action.toggleLightDarkThemes";E(class extends _{constructor(){super({id:Ye,title:w("toggleLightDarkThemes.label","Toggle between Light/Dark Themes"),category:P.Preferences,f1:!0})}async run(n){const e=n.get(v),t=n.get(Ae),o=n.get(ee),r=n.get(oe);if(t.getValue(k.DETECT_COLOR_SCHEME)){const i=c({key:"cannotToggle",comment:["{0} is a setting name"]},"Cannot toggle between light and dark themes when `{0}` is enabled in settings.",k.DETECT_COLOR_SCHEME);o.prompt(F.Info,i,[{label:c("goToSetting","Open Settings"),run:()=>r.openUserSettings({query:k.DETECT_COLOR_SCHEME})}]);return}const s=e.getColorTheme();let m=k.PREFERRED_DARK_THEME;switch(s.type){case I.LIGHT:m=k.PREFERRED_DARK_THEME;break;case I.DARK:m=k.PREFERRED_LIGHT_THEME;break;case I.HIGH_CONTRAST_LIGHT:m=k.PREFERRED_HC_DARK_THEME;break;case I.HIGH_CONTRAST_DARK:m=k.PREFERRED_HC_LIGHT_THEME;break}const d=t.getValue(m);if(d&&typeof d=="string"){const i=(await e.getColorThemes()).find(h=>h.settingsId===d);i&&e.setColorTheme(i.id,"auto")}}});const ze="workbench.action.browseColorThemesInMarketplace";E(class extends _{constructor(){super({id:ze,title:w("browseColorThemeInMarketPlace.label","Browse Color Themes in Marketplace"),category:P.Preferences,f1:!0})}async run(n){const e="category:themes",t=n.get(v),o=n.get(N),r=n.get(Z),s=n.get(O);if(!o.isEnabled()||!r.supportsExtensionGalleryResources)return;const m=t.getColorTheme(),d=(g,u,a)=>t.getMarketplaceColorThemes(g,u,a);let i;const h=(g,u)=>{i&&clearTimeout(i),i=te.setTimeout(()=>{i=void 0;const a=g??m;t.setColorTheme(a,u?"auto":"preview").then(void 0,p=>{Q(p),t.setColorTheme(m,void 0)})},u?0:200)};await s.createInstance(R,d,e).openQuickPick("",t.getColorTheme(),h).then(void 0,Q)}});const A=new W("ThemesSubMenu");x.appendMenuItem(W.GlobalActivity,{title:c("themes","Themes"),submenu:A,group:"2_configuration",order:7}),x.appendMenuItem(W.MenubarPreferencesMenu,{title:c({key:"miSelectTheme",comment:["&& denotes a mnemonic"]},"&&Theme"),submenu:A,group:"2_configuration",order:7}),x.appendMenuItem(A,{command:{id:$,title:c("selectTheme.label","Color Theme")},order:1}),x.appendMenuItem(A,{command:{id:se,title:c("themes.selectIconTheme.label","File Icon Theme")},order:2}),x.appendMenuItem(A,{command:{id:ae,title:c("themes.selectProductIconTheme.label","Product Icon Theme")},order:3});let y=class{constructor(e,t,o,r,s,m){this._notificationService=e;this._workbenchThemeService=t;this._storageService=o;this._commandService=r;this._telemetryService=s;this._hostService=m;o.getBoolean(y.STORAGE_KEY,B.APPLICATION)||setTimeout(async()=>{if(!o.getBoolean(y.STORAGE_KEY,B.APPLICATION)&&await this._hostService.hadLastFocus())if(this._storageService.store(y.STORAGE_KEY,!0,B.APPLICATION,Qe.USER),this._workbenchThemeService.hasUpdatedDefaultThemes())this._showYouGotMigratedNotification();else{const d=this._workbenchThemeService.getColorTheme().settingsId;(d===C.COLOR_THEME_LIGHT_OLD||d===C.COLOR_THEME_DARK_OLD)&&this._tryNewThemeNotification()}},3e3)}static STORAGE_KEY="themeUpdatedNotificationShown";async _showYouGotMigratedNotification(){const e=this._workbenchThemeService.getColorTheme().type===I.LIGHT,t=e?C.COLOR_THEME_LIGHT:C.COLOR_THEME_DARK,o=(await this._workbenchThemeService.getColorThemes()).find(r=>r.settingsId===t);if(o){const r=[{label:c("button.keep","Keep New Theme"),run:()=>{this._writeTelemetry("keepNew")}},{label:c("button.browse","Browse Themes"),run:()=>{this._writeTelemetry("browse"),this._commandService.executeCommand($)}},{label:c("button.revert","Revert"),run:async()=>{this._writeTelemetry("keepOld");const s=e?C.COLOR_THEME_LIGHT_OLD:C.COLOR_THEME_DARK_OLD,m=(await this._workbenchThemeService.getColorThemes()).find(d=>d.settingsId===s);m&&this._workbenchThemeService.setColorTheme(m,"auto")}}];await this._notificationService.prompt(F.Info,c({key:"themeUpdatedNotification",comment:["{0} is the name of the new default theme"]},"Visual Studio Code now ships with a new default theme '{0}'. If you prefer, you can switch back to the old theme or try one of the many other color themes available.",o.label),r,{onCancel:()=>this._writeTelemetry("cancel")})}}async _tryNewThemeNotification(){const e=this._workbenchThemeService.getColorTheme().type===I.LIGHT?C.COLOR_THEME_LIGHT:C.COLOR_THEME_DARK,t=(await this._workbenchThemeService.getColorThemes()).find(o=>o.settingsId===e);if(t){const o=[{label:c("button.tryTheme","Try New Theme"),run:()=>{this._writeTelemetry("tryNew"),this._workbenchThemeService.setColorTheme(t,"auto")}},{label:c("button.cancel","Cancel"),run:()=>{this._writeTelemetry("cancel")}}];await this._notificationService.prompt(F.Info,c({key:"newThemeNotification",comment:["{0} is the name of the new default theme"]},"Visual Studio Code now ships with a new default theme '{0}'. Do you want to give it a try?",t.label),o,{onCancel:()=>this._writeTelemetry("cancel")})}}_writeTelemetry(e){this._telemetryService.publicLog2("themeUpdatedNotication",{web:Ke,reaction:e})}};y=H([T(0,ee),T(1,v),T(2,Ne),T(3,Oe),T(4,Fe),T(5,Be)],y);const Xe=z.as(Ge.Workbench);Xe.registerWorkbenchContribution(y,We.Eventually);export{$e as manageExtensionIcon};
