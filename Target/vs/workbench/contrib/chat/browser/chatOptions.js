var f=Object.defineProperty;var u=Object.getOwnPropertyDescriptor;var s=(n,r,o,e)=>{for(var i=e>1?void 0:e?u(r,o):r,a=n.length-1,d;a>=0;a--)(d=n[a])&&(i=(e?d(r,o,i):d(i))||i);return e&&i&&f(r,o,i),i},g=(n,r)=>(o,e)=>r(o,e,n);import"../../../../base/common/color.js";import{Emitter as h}from"../../../../base/common/event.js";import{Disposable as p}from"../../../../base/common/lifecycle.js";import"../../../../editor/common/config/editorOptions.js";import{IConfigurationService as C}from"../../../../platform/configuration/common/configuration.js";import{IThemeService as y}from"../../../../platform/theme/common/themeService.js";import{IViewDescriptorService as m}from"../../../common/views.js";let t=class extends p{constructor(o,e,i,a,d,v,S){super();this.foreground=e;this.inputEditorBackgroundColor=i;this.resultEditorBackgroundColor=a;this.configurationService=d;this.themeService=v;this.viewDescriptorService=S;this._register(this.themeService.onDidColorThemeChange(l=>this.update())),this._register(this.viewDescriptorService.onDidChangeLocation(l=>{l.views.some(c=>c.id===o)&&this.update()})),this._register(this.configurationService.onDidChangeConfiguration(l=>{t.relevantSettingIds.some(c=>l.affectsConfiguration(c))&&this.update()})),this.update()}static lineHeightEm=1.4;_onDidChange=this._register(new h);onDidChange=this._onDidChange.event;_config;get configuration(){return this._config}static relevantSettingIds=["chat.editor.lineHeight","chat.editor.fontSize","chat.editor.fontFamily","chat.editor.fontWeight","chat.editor.wordWrap","editor.cursorBlinking","editor.fontLigatures","editor.accessibilitySupport","editor.bracketPairColorization.enabled","editor.bracketPairColorization.independentColorPoolPerBracketType"];update(){const o=this.configurationService.getValue("editor"),e=this.configurationService.getValue("chat")?.editor,i=this.configurationService.getValue("editor.accessibilitySupport");this._config={foreground:this.themeService.getColorTheme().getColor(this.foreground),inputEditor:{backgroundColor:this.themeService.getColorTheme().getColor(this.inputEditorBackgroundColor),accessibilitySupport:i},resultEditor:{backgroundColor:this.themeService.getColorTheme().getColor(this.resultEditorBackgroundColor),fontSize:e.fontSize,fontFamily:e.fontFamily==="default"?o.fontFamily:e.fontFamily,fontWeight:e.fontWeight,lineHeight:e.lineHeight?e.lineHeight:t.lineHeightEm*e.fontSize,bracketPairColorization:{enabled:this.configurationService.getValue("editor.bracketPairColorization.enabled"),independentColorPoolPerBracketType:this.configurationService.getValue("editor.bracketPairColorization.independentColorPoolPerBracketType")},wordWrap:e.wordWrap,fontLigatures:o.fontLigatures}},this._onDidChange.fire()}};t=s([g(4,C),g(5,y),g(6,m)],t);export{t as ChatEditorOptions};
