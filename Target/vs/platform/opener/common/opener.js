import"../../../base/common/cancellation.js";import"../../../base/common/lifecycle.js";import"../../../base/common/uri.js";import"../../editor/common/editor.js";import{createDecorator as o}from"../../instantiation/common/instantiation.js";const m=o("openerService");function c(r,e){return r.with({fragment:`${e.startLineNumber},${e.startColumn}${e.endLineNumber?`-${e.endLineNumber}${e.endColumn?`,${e.endColumn}`:""}`:""}`})}function u(r){let e;const n=/^L?(\d+)(?:,(\d+))?(-L?(\d+)(?:,(\d+))?)?/.exec(r.fragment);return n&&(e={startLineNumber:parseInt(n[1]),startColumn:n[2]?parseInt(n[2]):1,endLineNumber:n[4]?parseInt(n[4]):void 0,endColumn:n[4]?n[5]?parseInt(n[5]):1:void 0},r=r.with({fragment:""})),{selection:e,uri:r}}export{m as IOpenerService,u as extractSelection,c as withSelection};
