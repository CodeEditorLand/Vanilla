import i from"assert";import{ensureNoDisposablesAreLeakedInTestSuite as c}from"../../../../../base/test/common/utils.js";import{DenseKeyProvider as o,SmallImmutableSet as l}from"../../../../common/model/bracketPairsTextModelPart/bracketPairsTree/smallImmutableSet.js";suite("Bracket Pair Colorizer - ImmutableSet",()=>{c(),test("Basic",()=>{const e=new o,s=l.getEmpty(),t=s.add("item1",e),r=t.add("item2",e),a=s.add("item2",e),m=a.add("item1",e),n=s.add("item3",e);i.strictEqual(r.intersects(t),!0),i.strictEqual(r.has("item1",e),!0),i.strictEqual(r.intersects(n),!1),i.strictEqual(r.has("item3",e),!1),i.strictEqual(m.equals(r),!0),i.strictEqual(m.equals(a),!1)}),test("Many Elements",()=>{const e=new o;let s=l.getEmpty();for(let t=0;t<100;t++)e.getKey(`item${t}`),t%2===0&&(s=s.add(`item${t}`,e));for(let t=0;t<100;t++)i.strictEqual(s.has(`item${t}`,e),t%2===0)})});
