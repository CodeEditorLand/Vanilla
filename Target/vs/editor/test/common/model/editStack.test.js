import n from"assert";import{ensureNoDisposablesAreLeakedInTestSuite as s}from"../../../../base/test/common/utils.js";import{Selection as t}from"../../../common/core/selection.js";import{TextChange as c}from"../../../common/core/textChange.js";import{EndOfLineSequence as i}from"../../../common/model.js";import{SingleModelEditStackData as o}from"../../../common/model/editStack.js";suite("EditStack",()=>{s(),test("issue #118041: unicode character undo bug",()=>{const e=new o(1,2,i.LF,i.LF,[new t(10,2,10,2)],[new t(10,1,10,1)],[new c(428,"\uFEFF",428,"")]),r=e.serialize(),a=o.deserialize(r);n.deepStrictEqual(a,e)})});
