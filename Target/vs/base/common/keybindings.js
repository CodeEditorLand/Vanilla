import{illegalArgument as p}from"./errors.js";import{KeyCode as r,ScanCode as n}from"./keyCodes.js";import{OperatingSystem as u}from"./platform.js";var f=(s=>(s[s.CtrlCmd=2048]="CtrlCmd",s[s.Shift=1024]="Shift",s[s.Alt=512]="Alt",s[s.WinCtrl=256]="WinCtrl",s[s.KeyCode=255]="KeyCode",s))(f||{});function S(o,e){if(typeof o=="number"){if(o===0)return null;const t=(o&65535)>>>0,l=(o&4294901760)>>>16;return l!==0?new c([a(t,e),a(l,e)]):new c([a(t,e)])}else{const t=[];for(let l=0;l<o.length;l++)t.push(a(o[l],e));return new c(t)}}function a(o,e){const t=!!(o&2048),l=!!(o&256),i=e===u.Macintosh?l:t,s=!!(o&1024),d=!!(o&512),b=e===u.Macintosh?t:l,C=o&255;return new h(i,s,d,b,C)}class h{constructor(e,t,l,i,s){this.ctrlKey=e;this.shiftKey=t;this.altKey=l;this.metaKey=i;this.keyCode=s}equals(e){return e instanceof h&&this.ctrlKey===e.ctrlKey&&this.shiftKey===e.shiftKey&&this.altKey===e.altKey&&this.metaKey===e.metaKey&&this.keyCode===e.keyCode}getHashCode(){const e=this.ctrlKey?"1":"0",t=this.shiftKey?"1":"0",l=this.altKey?"1":"0",i=this.metaKey?"1":"0";return`K${e}${t}${l}${i}${this.keyCode}`}isModifierKey(){return this.keyCode===r.Unknown||this.keyCode===r.Ctrl||this.keyCode===r.Meta||this.keyCode===r.Alt||this.keyCode===r.Shift}toKeybinding(){return new c([this])}isDuplicateModifierCase(){return this.ctrlKey&&this.keyCode===r.Ctrl||this.shiftKey&&this.keyCode===r.Shift||this.altKey&&this.keyCode===r.Alt||this.metaKey&&this.keyCode===r.Meta}}class y{constructor(e,t,l,i,s){this.ctrlKey=e;this.shiftKey=t;this.altKey=l;this.metaKey=i;this.scanCode=s}equals(e){return e instanceof y&&this.ctrlKey===e.ctrlKey&&this.shiftKey===e.shiftKey&&this.altKey===e.altKey&&this.metaKey===e.metaKey&&this.scanCode===e.scanCode}getHashCode(){const e=this.ctrlKey?"1":"0",t=this.shiftKey?"1":"0",l=this.altKey?"1":"0",i=this.metaKey?"1":"0";return`S${e}${t}${l}${i}${this.scanCode}`}isDuplicateModifierCase(){return this.ctrlKey&&(this.scanCode===n.ControlLeft||this.scanCode===n.ControlRight)||this.shiftKey&&(this.scanCode===n.ShiftLeft||this.scanCode===n.ShiftRight)||this.altKey&&(this.scanCode===n.AltLeft||this.scanCode===n.AltRight)||this.metaKey&&(this.scanCode===n.MetaLeft||this.scanCode===n.MetaRight)}}class c{chords;constructor(e){if(e.length===0)throw p("chords");this.chords=e}getHashCode(){let e="";for(let t=0,l=this.chords.length;t<l;t++)t!==0&&(e+=";"),e+=this.chords[t].getHashCode();return e}equals(e){if(e===null||this.chords.length!==e.chords.length)return!1;for(let t=0;t<this.chords.length;t++)if(!this.chords[t].equals(e.chords[t]))return!1;return!0}}class x{constructor(e,t,l,i,s,d){this.ctrlKey=e;this.shiftKey=t;this.altKey=l;this.metaKey=i;this.keyLabel=s;this.keyAriaLabel=d}}class M{}export{h as KeyCodeChord,c as Keybinding,x as ResolvedChord,M as ResolvedKeybinding,y as ScanCodeChord,a as createSimpleKeybinding,S as decodeKeybinding};
