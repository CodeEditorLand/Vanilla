var ve=Object.create;var M=Object.defineProperty;var _e=Object.getOwnPropertyDescriptor;var Ee=Object.getOwnPropertyNames;var Oe=Object.getPrototypeOf,Ne=Object.prototype.hasOwnProperty;var be=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Pe=(e,t)=>{for(var r in t)M(e,r,{get:t[r],enumerable:!0})},Ce=(e,t,r,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of Ee(t))!Ne.call(e,a)&&a!==r&&M(e,a,{get:()=>t[a],enumerable:!(o=_e(t,a))||o.enumerable});return e};var xe=(e,t,r)=>(r=e!=null?ve(Oe(e)):{},Ce(t||!e||!e.__esModule?M(r,"default",{value:e,enumerable:!0}):r,e));var z=be((Qe,q)=>{"use strict";function De(e,t){var r=e;t.slice(0,-1).forEach(function(a){r=r[a]||{}});var o=t[t.length-1];return o in r}function H(e){return typeof e=="number"||/^0x[0-9a-f]+$/i.test(e)?!0:/^[-+]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(e)}function W(e,t){return t==="constructor"&&typeof e[t]=="function"||t==="__proto__"}q.exports=function(e,t){t||(t={});var r={bools:{},strings:{},unknownFn:null};typeof t.unknown=="function"&&(r.unknownFn=t.unknown),typeof t.boolean=="boolean"&&t.boolean?r.allBools=!0:[].concat(t.boolean).filter(Boolean).forEach(function(f){r.bools[f]=!0});var o={};function a(f){return o[f].some(function(g){return r.bools[g]})}Object.keys(t.alias||{}).forEach(function(f){o[f]=[].concat(t.alias[f]),o[f].forEach(function(g){o[g]=[f].concat(o[f].filter(function(O){return g!==O}))})}),[].concat(t.string).filter(Boolean).forEach(function(f){r.strings[f]=!0,o[f]&&[].concat(o[f]).forEach(function(g){r.strings[g]=!0})});var s=t.default||{},l={_:[]};function E(f,g){return r.allBools&&/^--[^=]+$/.test(g)||r.strings[f]||r.bools[f]||o[f]}function h(f,g,O){for(var p=f,A=0;A<g.length-1;A++){var N=g[A];if(W(p,N))return;p[N]===void 0&&(p[N]={}),(p[N]===Object.prototype||p[N]===Number.prototype||p[N]===String.prototype)&&(p[N]={}),p[N]===Array.prototype&&(p[N]=[]),p=p[N]}var P=g[g.length-1];W(p,P)||((p===Object.prototype||p===Number.prototype||p===String.prototype)&&(p={}),p===Array.prototype&&(p=[]),p[P]===void 0||r.bools[P]||typeof p[P]=="boolean"?p[P]=O:Array.isArray(p[P])?p[P].push(O):p[P]=[p[P],O])}function m(f,g,O){if(!(O&&r.unknownFn&&!E(f,O)&&r.unknownFn(O)===!1)){var p=!r.strings[f]&&H(g)?Number(g):g;h(l,f.split("."),p),(o[f]||[]).forEach(function(A){h(l,A.split("."),p)})}}Object.keys(r.bools).forEach(function(f){m(f,s[f]===void 0?!1:s[f])});var S=[];e.indexOf("--")!==-1&&(S=e.slice(e.indexOf("--")+1),e=e.slice(0,e.indexOf("--")));for(var i=0;i<e.length;i++){var n=e[i],u,c;if(/^--.+=/.test(n)){var d=n.match(/^--([^=]+)=([\s\S]*)$/);u=d[1];var b=d[2];r.bools[u]&&(b=b!=="false"),m(u,b,n)}else if(/^--no-.+/.test(n))u=n.match(/^--no-(.+)/)[1],m(u,!1,n);else if(/^--.+/.test(n))u=n.match(/^--(.+)/)[1],c=e[i+1],c!==void 0&&!/^(-|--)[^-]/.test(c)&&!r.bools[u]&&!r.allBools&&(!o[u]||!a(u))?(m(u,c,n),i+=1):/^(true|false)$/.test(c)?(m(u,c==="true",n),i+=1):m(u,r.strings[u]?"":!0,n);else if(/^-[^-]+/.test(n)){for(var v=n.slice(1,-1).split(""),x=!1,_=0;_<v.length;_++){if(c=n.slice(_+2),c==="-"){m(v[_],c,n);continue}if(/[A-Za-z]/.test(v[_])&&c[0]==="="){m(v[_],c.slice(1),n),x=!0;break}if(/[A-Za-z]/.test(v[_])&&/-?\d+(\.\d*)?(e-?\d+)?$/.test(c)){m(v[_],c,n),x=!0;break}if(v[_+1]&&v[_+1].match(/\W/)){m(v[_],n.slice(_+2),n),x=!0;break}else m(v[_],r.strings[v[_]]?"":!0,n)}u=n.slice(-1)[0],!x&&u!=="-"&&(e[i+1]&&!/^(-|--)[^-]/.test(e[i+1])&&!r.bools[u]&&(!o[u]||!a(u))?(m(u,e[i+1],n),i+=1):e[i+1]&&/^(true|false)$/.test(e[i+1])?(m(u,e[i+1]==="true",n),i+=1):m(u,r.strings[u]?"":!0,n))}else if((!r.unknownFn||r.unknownFn(n)!==!1)&&l._.push(r.strings._||!H(n)?n:Number(n)),t.stopEarly){l._.push.apply(l._,e.slice(i+1));break}}return Object.keys(s).forEach(function(f){De(l,f.split("."))||(h(l,f.split("."),s[f]),(o[f]||[]).forEach(function(g){h(l,g.split("."),s[f])}))}),t["--"]?l["--"]=S.slice():S.forEach(function(f){l._.push(f)}),l}});delete process.env.ELECTRON_RUN_AS_NODE;var ce=xe(z());import*as j from"path";import*as J from"http";import*as se from"os";import*as ie from"readline";import{performance as ae}from"perf_hooks";import{fileURLToPath as Ke}from"url";import*as L from"path";import*as U from"fs";import{fileURLToPath as we}from"url";import{createRequire as Ae}from"node:module";var Z=Ae(import.meta.url),D={exports:{}},Le=L.dirname(we(import.meta.url));Error.stackTraceLimit=100;if(!process.env.VSCODE_HANDLES_SIGPIPE){let e=!1;process.on("SIGPIPE",()=>{e||(e=!0,console.error(new Error("Unexpected SIGPIPE")))})}function Ie(){try{typeof process.env.VSCODE_CWD!="string"&&(process.env.VSCODE_CWD=process.cwd()),process.platform==="win32"&&process.chdir(L.dirname(process.execPath))}catch(e){console.error(e)}}Ie();D.exports.devInjectNodeModuleLookupPath=function(e){if(!process.env.VSCODE_DEV)return;if(!e)throw new Error("Missing injectPath");Z("node:module").register("./bootstrap-import.js",{parentURL:import.meta.url,data:e})};D.exports.removeGlobalNodeJsModuleLookupPaths=function(){if(typeof process?.versions?.electron=="string")return;let e=Z("module"),t=e.globalPaths,r=e._resolveLookupPaths;e._resolveLookupPaths=function(o,a){let s=r(o,a);if(Array.isArray(s)){let l=0;for(;l<s.length&&s[s.length-1-l]===t[t.length-1-l];)l++;return s.slice(0,s.length-l)}return s}};D.exports.configurePortable=function(e){let t=L.dirname(Le);function r(h){return process.env.VSCODE_DEV?t:process.platform==="darwin"?h.dirname(h.dirname(h.dirname(t))):h.dirname(h.dirname(t))}function o(h){if(process.env.VSCODE_PORTABLE)return process.env.VSCODE_PORTABLE;if(process.platform==="win32"||process.platform==="linux")return h.join(r(h),"data");let m=e.portable||`${e.applicationName}-portable-data`;return h.join(h.dirname(r(h)),m)}let a=o(L),s=!("target"in e)&&U.existsSync(a),l=L.join(a,"tmp"),E=s&&U.existsSync(l);return s?process.env.VSCODE_PORTABLE=a:delete process.env.VSCODE_PORTABLE,E&&(process.platform==="win32"?(process.env.TMP=l,process.env.TEMP=l):process.env.TMPDIR=l),{portableDataPath:a,isPortable:s}};D.exports.enableASARSupport=function(){};D.exports.fileUriFromPath=function(e,t){let r=e.replace(/\\/g,"/");r.length>0&&r.charAt(0)!=="/"&&(r=`/${r}`);let o;return t.isWindows&&r.startsWith("//")?o=encodeURI(`${t.scheme||"file"}:${r}`):o=encodeURI(`${t.scheme||"file"}://${t.fallbackAuthority||""}${r}`),o.replace(/#/g,"%23")};var Y=D.exports.devInjectNodeModuleLookupPath,rr=D.exports.removeGlobalNodeJsModuleLookupPaths,tr=D.exports.configurePortable,or=D.exports.enableASARSupport,nr=D.exports.fileUriFromPath;import*as ee from"path";import*as R from"fs";import{fileURLToPath as Fe}from"url";import{createRequire as je,register as Me}from"node:module";import{createRequire as ye}from"node:module";var Q=ye(import.meta.url),y={exports:{}},V={BUILD_INSERT_PRODUCT_CONFIGURATION:"BUILD_INSERT_PRODUCT_CONFIGURATION"};V.BUILD_INSERT_PRODUCT_CONFIGURATION&&(V=Q("../product.json"));var k={BUILD_INSERT_PACKAGE_CONFIGURATION:"BUILD_INSERT_PACKAGE_CONFIGURATION"};k.BUILD_INSERT_PACKAGE_CONFIGURATION&&(k=Q("../package.json"));y.exports.product=V;y.exports.pkg=k;var C=y.exports.product,X=y.exports.pkg;var T={};Pe(T,{getMarks:()=>Re,mark:()=>w});var I={exports:{}};(function(){function t(s){let l=[];typeof s=="number"&&l.push("code/timeOrigin",s);function E(m){l.push(m,Date.now())}function h(){let m=[];for(let S=0;S<l.length;S+=2)m.push({name:l[S],startTime:l[S+1]});return m}return{mark:E,getMarks:h}}function r(){if(typeof performance=="object"&&typeof performance.mark=="function"&&!performance.nodeTiming)return typeof performance.timeOrigin!="number"&&!performance.timing?t():{mark(s){performance.mark(s)},getMarks(){let s=performance.timeOrigin;typeof s!="number"&&(s=performance.timing.navigationStart||performance.timing.redirectStart||performance.timing.fetchStart);let l=[{name:"code/timeOrigin",startTime:Math.round(s)}];for(let E of performance.getEntriesByType("mark"))l.push({name:E.name,startTime:Math.round(s+E.startTime)});return l}};if(typeof process=="object"){let s=performance?.timeOrigin;return t(s)}else return console.trace("perf-util loaded in UNKNOWN environment"),t()}function o(s){return s.MonacoPerformanceMarks||(s.MonacoPerformanceMarks=r()),s.MonacoPerformanceMarks}var a;typeof global=="object"?a=global:typeof self=="object"?a=self:a={},typeof I=="object"&&typeof I.exports=="object"?I.exports=o(a):(console.trace("perf-util defined in UNKNOWN context (neither requirejs or commonjs)"),a.perf=o(a))})();var w=I.exports.mark,Re=I.exports.getMarks;var Ue=je(import.meta.url),re={exports:{}},Ve=ee.dirname(Fe(import.meta.url));(process.env.ELECTRON_RUN_AS_NODE||process.versions.electron)&&Me(`data:text/javascript;base64,${Buffer.from(`
	export async function resolve(specifier, context, nextResolve) {
		if (specifier === 'fs') {
			return {
				format: 'builtin',
				shortCircuit: true,
				url: 'node:original-fs'
			};
		}

		// Defer to the next hook in the chain, which would be the
		// Node.js default resolve if this is the last user-specified loader.
		return nextResolve(specifier, context);
	}`).toString("base64")}`,import.meta.url);globalThis._VSCODE_PRODUCT_JSON={...C};if(process.env.VSCODE_DEV)try{let e=Ue("../product.overrides.json");globalThis._VSCODE_PRODUCT_JSON=Object.assign(globalThis._VSCODE_PRODUCT_JSON,e)}catch{}globalThis._VSCODE_PACKAGE_JSON={...X};globalThis._VSCODE_FILE_ROOT=Ve;var $;function ke(){return $||($=$e()),$}async function $e(){w("code/amd/willLoadNls");let e,t;if(process.env.VSCODE_NLS_CONFIG)try{e=JSON.parse(process.env.VSCODE_NLS_CONFIG),e?.languagePack?.messagesFile?t=e.languagePack.messagesFile:e?.defaultMessagesFile&&(t=e.defaultMessagesFile),globalThis._VSCODE_NLS_LANGUAGE=e?.resolvedLanguage}catch(r){console.error(`Error reading VSCODE_NLS_CONFIG from environment: ${r}`)}if(!(process.env.VSCODE_DEV||!t)){try{globalThis._VSCODE_NLS_MESSAGES=JSON.parse((await R.promises.readFile(t)).toString())}catch(r){if(console.error(`Error reading NLS messages file ${t}: ${r}`),e?.languagePack?.corruptMarkerFile)try{await R.promises.writeFile(e.languagePack.corruptMarkerFile,"corrupted")}catch(o){console.error(`Error writing corrupted NLS marker file: ${o}`)}if(e?.defaultMessagesFile&&e.defaultMessagesFile!==t)try{globalThis._VSCODE_NLS_MESSAGES=JSON.parse((await R.promises.readFile(e.defaultMessagesFile)).toString())}catch(o){console.error(`Error reading default NLS messages file ${e.defaultMessagesFile}: ${o}`)}}return w("code/amd/didLoadNls"),e}}re.exports.load=function(e,t,r){e&&(e=`./${e}.js`,t=t||function(){},r=r||function(o){console.error(o)},ke().then(()=>{w("code/fork/willLoadCode"),import(e).then(t,r)}))};var te=re.exports.load;import*as Je from"path";import*as Be from"fs";var F={exports:{}};(function(){function t(r,o,a){async function s(i){try{return await o.promises.access(i),!0}catch{return!1}}function l(i){let n=new Date;return o.promises.utimes(i,n,n)}async function E(i){let n=r.join(i,"languagepacks.json");try{return JSON.parse(await o.promises.readFile(n,"utf-8"))}catch{return}}function h(i,n){try{for(;n;){if(i[n])return n;let u=n.lastIndexOf("-");if(u>0)n=n.substring(0,u);else return}}catch(u){console.error("Resolving language pack configuration failed.",u)}}function m(i,n,u){return a.mark("code/didGenerateNls"),{userLocale:i,osLocale:n,resolvedLanguage:"en",defaultMessagesFile:r.join(u,"nls.messages.json"),locale:i,availableLanguages:{}}}async function S({userLocale:i,osLocale:n,userDataPath:u,commit:c,nlsMetadataPath:d}){if(a.mark("code/willGenerateNls"),process.env.VSCODE_DEV||i==="pseudo"||i.startsWith("en")||!c||!u)return m(i,n,d);try{let b=await E(u);if(!b)return m(i,n,d);let v=h(b,i);if(!v)return m(i,n,d);let x=b[v],_=x?.translations?.vscode;if(!x||typeof x.hash!="string"||!x.translations||typeof _!="string"||!await s(_))return m(i,n,d);let f=`${x.hash}.${v}`,g=r.join(u,"clp",f),O=r.join(g,c),p=r.join(O,"nls.messages.json"),A=r.join(g,"tcf.json"),N=r.join(g,"corrupted.info");await s(N)&&await o.promises.rm(g,{recursive:!0,force:!0,maxRetries:3});let P={userLocale:i,osLocale:n,resolvedLanguage:v,defaultMessagesFile:r.join(d,"nls.messages.json"),languagePack:{translationsConfigFile:A,messagesFile:p,corruptMarkerFile:N},locale:i,availableLanguages:{"*":v},_languagePackId:f,_languagePackSupport:!0,_translationsConfigFile:A,_cacheRoot:g,_resolvedLanguagePackCoreLocation:O,_corruptedFile:N};if(await s(O))return l(O).catch(()=>{}),a.mark("code/didGenerateNls"),P;let[,ue,pe,me]=await Promise.all([o.promises.mkdir(O,{recursive:!0}),JSON.parse(await o.promises.readFile(r.join(d,"nls.keys.json"),"utf-8")),JSON.parse(await o.promises.readFile(r.join(d,"nls.messages.json"),"utf-8")),JSON.parse(await o.promises.readFile(_,"utf-8"))]),B=[],K=0;for(let[de,ge]of ue){let he=me.contents[de];for(let Se of ge)B.push(he?.[Se]||pe[K]),K++}return await Promise.all([o.promises.writeFile(p,JSON.stringify(B),"utf-8"),o.promises.writeFile(A,JSON.stringify(x.translations),"utf-8")]),a.mark("code/didGenerateNls"),P}catch(b){console.error("Generating translation files failed.",b)}return m(i,n,d)}return{resolveNLSConfiguration:S}}if(typeof F=="object"&&typeof F.exports=="object")F.exports=t(Je,Be,T);else throw new Error("vs/base/node/nls defined in UNKNOWN context (neither requirejs or commonjs)")})();var oe=F.exports.resolveNLSConfiguration;var le=j.dirname(Ke(import.meta.url));w("code/server/start");global.vscodeServerStartTime=ae.now();async function He(){let e=(0,ce.default)(process.argv.slice(2),{boolean:["start-server","list-extensions","print-ip-address","help","version","accept-server-license-terms","update-extensions"],string:["install-extension","install-builtin-extension","uninstall-extension","locate-extension","socket-path","host","port","compatibility"],alias:{help:"h",version:"v"}});["host","port","accept-server-license-terms"].forEach(c=>{if(!e[c]){let d=process.env[`VSCODE_SERVER_${c.toUpperCase().replace("-","_")}`];d&&(e[c]=d)}});let t=["list-extensions","locate-extension"],r=["install-extension","install-builtin-extension","uninstall-extension","update-extensions"],o=e.help||e.version||t.some(c=>!!e[c])||r.some(c=>!!e[c])&&!e["start-server"],a=await oe({userLocale:"en",osLocale:"en",commit:C.commit,userDataPath:"",nlsMetadataPath:le});if(o){ne(a).then(c=>{c.spawnCli()});return}let s=null,l=null,E=()=>(l||(l=ne(a).then(async c=>{let d=await c.createServer(S);return s=d,d})),l);if(Array.isArray(C.serverLicense)&&C.serverLicense.length&&(console.log(C.serverLicense.join(`
`)),C.serverLicensePrompt&&e["accept-server-license-terms"]!==!0)){Ze()&&(console.log("To accept the license terms, start the server with --accept-server-license-terms"),process.exit(1));try{await fe(C.serverLicensePrompt)||process.exit(1)}catch(c){console.log(c),process.exit(1)}}let h=!0,m=!0,S=null,i=J.createServer(async(c,d)=>(h&&(h=!1,w("code/server/firstRequest")),(await E()).handleRequest(c,d)));i.on("upgrade",async(c,d)=>(m&&(m=!1,w("code/server/firstWebSocket")),(await E()).handleUpgrade(c,d))),i.on("error",async c=>(await E()).handleServerError(c));let n=G(e.host)||(e.compatibility!=="1.63"?"localhost":void 0),u=e["socket-path"]?{path:G(e["socket-path"])}:{host:n,port:await We(n,G(e.port))};i.listen(u,async()=>{let c=Array.isArray(C.serverGreeting)&&C.serverGreeting.length?`

${C.serverGreeting.join(`
`)}

`:"";if(typeof u.port=="number"&&e["print-ip-address"]){let d=se.networkInterfaces();Object.keys(d).forEach(function(b){d[b]?.forEach(function(v){!v.internal&&v.family==="IPv4"&&(c+=`IP Address: ${v.address}
`)})})}if(S=i.address(),S===null)throw new Error("Unexpected server address");c+=`Server bound to ${typeof S=="string"?S:`${S.address}:${S.port} (${S.family})`}
`,c+=`Extension host agent listening on ${typeof S=="string"?S:S.port}
`,console.log(c),w("code/server/started"),global.vscodeServerListenTime=ae.now(),await E()}),process.on("exit",()=>{i.close(),s&&s.dispose()})}function G(e){return Array.isArray(e)&&(e=e.pop()),typeof e=="string"?e:void 0}async function We(e,t){if(t){let r;if(t.match(/^\d+$/))return parseInt(t,10);if(r=qe(t)){let o=await ze(e,r.start,r.end);if(o!==void 0)return o;console.warn(`--port: Could not find free port in range: ${r.start} - ${r.end} (inclusive).`),process.exit(1)}else console.warn(`--port "${t}" is not a valid number or range. Ranges must be in the form 'from-to' with 'from' an integer larger than 0 and not larger than 'end'.`),process.exit(1)}return 8e3}function qe(e){let t=e.match(/^(\d+)-(\d+)$/);if(t){let r=parseInt(t[1],10),o=parseInt(t[2],10);if(r>0&&r<=o&&o<=65535)return{start:r,end:o}}}async function ze(e,t,r){let o=a=>new Promise(s=>{let l=J.createServer();l.listen(a,e,()=>{l.close(),s(!0)}).on("error",()=>{s(!1)})});for(let a=t;a<=r;a++)if(await o(a))return a}function ne(e){return new Promise((t,r)=>{process.env.VSCODE_NLS_CONFIG=JSON.stringify(e),process.env.VSCODE_HANDLES_SIGPIPE="true",process.env.VSCODE_DEV?(process.env.VSCODE_DEV_INJECT_NODE_MODULE_LOOKUP_PATH=process.env.VSCODE_DEV_INJECT_NODE_MODULE_LOOKUP_PATH||j.join(le,"..","remote","node_modules"),Y(process.env.VSCODE_DEV_INJECT_NODE_MODULE_LOOKUP_PATH)):delete process.env.VSCODE_DEV_INJECT_NODE_MODULE_LOOKUP_PATH,te("vs/server/node/server.main",t,r)})}function Ze(){try{return!process.stdin.isTTY}catch{}return!1}function fe(e){let t=ie.createInterface({input:process.stdin,output:process.stdout});return new Promise((r,o)=>{t.question(e+" ",async function(a){t.close();let s=a.toString().trim().toLowerCase();s===""||s==="y"||s==="yes"?r(!0):s==="n"||s==="no"?r(!1):(process.stdout.write(`
Invalid Response. Answer either yes (y, yes) or no (n, no)
`),r(await fe(e)))})})}He();
