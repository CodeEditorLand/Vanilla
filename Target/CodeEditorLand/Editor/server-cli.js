var ne=Object.defineProperty;var ie=(e,o)=>{for(var r in o)ne(e,r,{get:o[r],enumerable:!0})};delete process.env.ELECTRON_RUN_AS_NODE;import*as L from"path";import{fileURLToPath as De}from"url";import*as g from"path";import*as j from"fs";import{fileURLToPath as ae}from"url";import{createRequire as ce}from"node:module";var $=ce(import.meta.url),p={exports:{}},le=g.dirname(ae(import.meta.url));Error.stackTraceLimit=100;if(!process.env.VSCODE_HANDLES_SIGPIPE){let e=!1;process.on("SIGPIPE",()=>{e||(e=!0,console.error(new Error("Unexpected SIGPIPE")))})}function fe(){try{typeof process.env.VSCODE_CWD!="string"&&(process.env.VSCODE_CWD=process.cwd()),process.platform==="win32"&&process.chdir(g.dirname(process.execPath))}catch(e){console.error(e)}}fe();p.exports.devInjectNodeModuleLookupPath=function(e){if(!process.env.VSCODE_DEV)return;if(!e)throw new Error("Missing injectPath");$("node:module").register("./bootstrap-import.js",{parentURL:import.meta.url,data:e})};p.exports.removeGlobalNodeJsModuleLookupPaths=function(){if(typeof process?.versions?.electron=="string")return;let e=$("module"),o=e.globalPaths,r=e._resolveLookupPaths;e._resolveLookupPaths=function(s,c){let t=r(s,c);if(Array.isArray(t)){let n=0;for(;n<t.length&&t[t.length-1-n]===o[o.length-1-n];)n++;return t.slice(0,t.length-n)}return t}};p.exports.configurePortable=function(e){let o=g.dirname(le);function r(l){return process.env.VSCODE_DEV?o:process.platform==="darwin"?l.dirname(l.dirname(l.dirname(o))):l.dirname(l.dirname(o))}function s(l){if(process.env.VSCODE_PORTABLE)return process.env.VSCODE_PORTABLE;if(process.platform==="win32"||process.platform==="linux")return l.join(r(l),"data");let f=e.portable||`${e.applicationName}-portable-data`;return l.join(l.dirname(r(l)),f)}let c=s(g),t=!("target"in e)&&j.existsSync(c),n=g.join(c,"tmp"),m=t&&j.existsSync(n);return t?process.env.VSCODE_PORTABLE=c:delete process.env.VSCODE_PORTABLE,m&&(process.platform==="win32"?(process.env.TMP=n,process.env.TEMP=n):process.env.TMPDIR=n),{portableDataPath:c,isPortable:t}};p.exports.enableASARSupport=function(){};p.exports.fileUriFromPath=function(e,o){let r=e.replace(/\\/g,"/");r.length>0&&r.charAt(0)!=="/"&&(r=`/${r}`);let s;return o.isWindows&&r.startsWith("//")?s=encodeURI(`${o.scheme||"file"}:${r}`):s=encodeURI(`${o.scheme||"file"}://${o.fallbackAuthority||""}${r}`),s.replace(/#/g,"%23")};var K=p.exports.devInjectNodeModuleLookupPath,Le=p.exports.removeGlobalNodeJsModuleLookupPaths,Te=p.exports.configurePortable,Ie=p.exports.enableASARSupport,ye=p.exports.fileUriFromPath;import*as q from"path";import*as b from"fs";import{fileURLToPath as de}from"url";import{createRequire as ge,register as _e}from"node:module";import{createRequire as pe}from"node:module";var B=pe(import.meta.url),D={exports:{}},R={BUILD_INSERT_PRODUCT_CONFIGURATION:"BUILD_INSERT_PRODUCT_CONFIGURATION"};R.BUILD_INSERT_PRODUCT_CONFIGURATION&&(R=B("../product.json"));var M={BUILD_INSERT_PACKAGE_CONFIGURATION:"BUILD_INSERT_PACKAGE_CONFIGURATION"};M.BUILD_INSERT_PACKAGE_CONFIGURATION&&(M=B("../package.json"));D.exports.product=R;D.exports.pkg=M;var k=D.exports.product,W=D.exports.pkg;var v={};ie(v,{getMarks:()=>me,mark:()=>C});var P={exports:{}};(function(){function o(t){let n=[];typeof t=="number"&&n.push("code/timeOrigin",t);function m(f){n.push(f,Date.now())}function l(){let f=[];for(let _=0;_<n.length;_+=2)f.push({name:n[_],startTime:n[_+1]});return f}return{mark:m,getMarks:l}}function r(){if(typeof performance=="object"&&typeof performance.mark=="function"&&!performance.nodeTiming)return typeof performance.timeOrigin!="number"&&!performance.timing?o():{mark(t){performance.mark(t)},getMarks(){let t=performance.timeOrigin;typeof t!="number"&&(t=performance.timing.navigationStart||performance.timing.redirectStart||performance.timing.fetchStart);let n=[{name:"code/timeOrigin",startTime:Math.round(t)}];for(let m of performance.getEntriesByType("mark"))n.push({name:m.name,startTime:Math.round(t+m.startTime)});return n}};if(typeof process=="object"){let t=performance?.timeOrigin;return o(t)}else return console.trace("perf-util loaded in UNKNOWN environment"),o()}function s(t){return t.MonacoPerformanceMarks||(t.MonacoPerformanceMarks=r()),t.MonacoPerformanceMarks}var c;typeof global=="object"?c=global:typeof self=="object"?c=self:c={},typeof P=="object"&&typeof P.exports=="object"?P.exports=s(c):(console.trace("perf-util defined in UNKNOWN context (neither requirejs or commonjs)"),c.perf=s(c))})();var C=P.exports.mark,me=P.exports.getMarks;var Oe=ge(import.meta.url),H={exports:{}},Se=q.dirname(de(import.meta.url));(process.env.ELECTRON_RUN_AS_NODE||process.versions.electron)&&_e(`data:text/javascript;base64,${Buffer.from(`
	export async function resolve(specifier, context, nextResolve) {
		if (specifier === 'fs') {
			return {
				format: 'builtin',
				shortCircuit: true,
				url: 'node:original-fs'
			};
		}

		// Defer to the next hook in the chain, which would be the
		// Node.js default resolve if this is the last user-specified loader.
		return nextResolve(specifier, context);
	}`).toString("base64")}`,import.meta.url);globalThis._VSCODE_PRODUCT_JSON={...k};if(process.env.VSCODE_DEV)try{let e=Oe("../product.overrides.json");globalThis._VSCODE_PRODUCT_JSON=Object.assign(globalThis._VSCODE_PRODUCT_JSON,e)}catch{}globalThis._VSCODE_PACKAGE_JSON={...W};globalThis._VSCODE_FILE_ROOT=Se;var F;function Ne(){return F||(F=Ee()),F}async function Ee(){C("code/amd/willLoadNls");let e,o;if(process.env.VSCODE_NLS_CONFIG)try{e=JSON.parse(process.env.VSCODE_NLS_CONFIG),e?.languagePack?.messagesFile?o=e.languagePack.messagesFile:e?.defaultMessagesFile&&(o=e.defaultMessagesFile),globalThis._VSCODE_NLS_LANGUAGE=e?.resolvedLanguage}catch(r){console.error(`Error reading VSCODE_NLS_CONFIG from environment: ${r}`)}if(!(process.env.VSCODE_DEV||!o)){try{globalThis._VSCODE_NLS_MESSAGES=JSON.parse((await b.promises.readFile(o)).toString())}catch(r){if(console.error(`Error reading NLS messages file ${o}: ${r}`),e?.languagePack?.corruptMarkerFile)try{await b.promises.writeFile(e.languagePack.corruptMarkerFile,"corrupted")}catch(s){console.error(`Error writing corrupted NLS marker file: ${s}`)}if(e?.defaultMessagesFile&&e.defaultMessagesFile!==o)try{globalThis._VSCODE_NLS_MESSAGES=JSON.parse((await b.promises.readFile(e.defaultMessagesFile)).toString())}catch(s){console.error(`Error reading default NLS messages file ${e.defaultMessagesFile}: ${s}`)}}return C("code/amd/didLoadNls"),e}}H.exports.load=function(e,o,r){e&&(e=`./${e}.js`,o=o||function(){},r=r||function(s){console.error(s)},Ne().then(()=>{C("code/fork/willLoadCode"),import(e).then(o,r)}))};var z=H.exports.load;import*as Pe from"path";import*as Ce from"fs";var x={exports:{}};(function(){function o(r,s,c){async function t(i){try{return await s.promises.access(i),!0}catch{return!1}}function n(i){let a=new Date;return s.promises.utimes(i,a,a)}async function m(i){let a=r.join(i,"languagepacks.json");try{return JSON.parse(await s.promises.readFile(a,"utf-8"))}catch{return}}function l(i,a){try{for(;a;){if(i[a])return a;let u=a.lastIndexOf("-");if(u>0)a=a.substring(0,u);else return}}catch(u){console.error("Resolving language pack configuration failed.",u)}}function f(i,a,u){return c.mark("code/didGenerateNls"),{userLocale:i,osLocale:a,resolvedLanguage:"en",defaultMessagesFile:r.join(u,"nls.messages.json"),locale:i,availableLanguages:{}}}async function _({userLocale:i,osLocale:a,userDataPath:u,commit:A,nlsMetadataPath:d}){if(c.mark("code/willGenerateNls"),process.env.VSCODE_DEV||i==="pseudo"||i.startsWith("en")||!A||!u)return f(i,a,d);try{let S=await m(u);if(!S)return f(i,a,d);let N=l(S,i);if(!N)return f(i,a,d);let O=S[N],T=O?.translations?.vscode;if(!O||typeof O.hash!="string"||!O.translations||typeof T!="string"||!await t(T))return f(i,a,d);let U=`${O.hash}.${N}`,E=r.join(u,"clp",U),h=r.join(E,A),w=r.join(h,"nls.messages.json"),I=r.join(E,"tcf.json"),y=r.join(E,"corrupted.info");await t(y)&&await s.promises.rm(E,{recursive:!0,force:!0,maxRetries:3});let V={userLocale:i,osLocale:a,resolvedLanguage:N,defaultMessagesFile:r.join(d,"nls.messages.json"),languagePack:{translationsConfigFile:I,messagesFile:w,corruptMarkerFile:y},locale:i,availableLanguages:{"*":N},_languagePackId:U,_languagePackSupport:!0,_translationsConfigFile:I,_cacheRoot:E,_resolvedLanguagePackCoreLocation:h,_corruptedFile:y};if(await t(h))return n(h).catch(()=>{}),c.mark("code/didGenerateNls"),V;let[,Y,Z,ee]=await Promise.all([s.promises.mkdir(h,{recursive:!0}),JSON.parse(await s.promises.readFile(r.join(d,"nls.keys.json"),"utf-8")),JSON.parse(await s.promises.readFile(r.join(d,"nls.messages.json"),"utf-8")),JSON.parse(await s.promises.readFile(T,"utf-8"))]),G=[],J=0;for(let[re,oe]of Y){let te=ee.contents[re];for(let se of oe)G.push(te?.[se]||Z[J]),J++}return await Promise.all([s.promises.writeFile(w,JSON.stringify(G),"utf-8"),s.promises.writeFile(I,JSON.stringify(O.translations),"utf-8")]),c.mark("code/didGenerateNls"),V}catch(S){console.error("Generating translation files failed.",S)}return f(i,a,d)}return{resolveNLSConfiguration:_}}if(typeof x=="object"&&typeof x.exports=="object")x.exports=o(Pe,Ce,v);else throw new Error("vs/base/node/nls defined in UNKNOWN context (neither requirejs or commonjs)")})();var Q=x.exports.resolveNLSConfiguration;var X=L.dirname(De(import.meta.url));async function ke(){let e=await Q({userLocale:"en",osLocale:"en",commit:k.commit,userDataPath:"",nlsMetadataPath:X});process.env.VSCODE_NLS_CONFIG=JSON.stringify(e),process.env.VSCODE_DEV?(process.env.VSCODE_DEV_INJECT_NODE_MODULE_LOOKUP_PATH=process.env.VSCODE_DEV_INJECT_NODE_MODULE_LOOKUP_PATH||L.join(X,"..","remote","node_modules"),K(process.env.VSCODE_DEV_INJECT_NODE_MODULE_LOOKUP_PATH)):delete process.env.VSCODE_DEV_INJECT_NODE_MODULE_LOOKUP_PATH,z("vs/server/node/server.cli")}ke();
