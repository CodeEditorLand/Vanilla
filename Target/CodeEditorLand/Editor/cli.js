var ne=Object.defineProperty;var ie=(e,o)=>{for(var r in o)ne(e,r,{get:o[r],enumerable:!0})};delete process.env.VSCODE_CWD;import*as X from"path";import{fileURLToPath as Ce}from"url";import*as g from"path";import*as R from"fs";import{fileURLToPath as ae}from"url";import{createRequire as ce}from"node:module";var J=ce(import.meta.url),p={exports:{}},le=g.dirname(ae(import.meta.url));Error.stackTraceLimit=100;if(!process.env.VSCODE_HANDLES_SIGPIPE){let e=!1;process.on("SIGPIPE",()=>{e||(e=!0,console.error(new Error("Unexpected SIGPIPE")))})}function fe(){try{typeof process.env.VSCODE_CWD!="string"&&(process.env.VSCODE_CWD=process.cwd()),process.platform==="win32"&&process.chdir(g.dirname(process.execPath))}catch(e){console.error(e)}}fe();p.exports.devInjectNodeModuleLookupPath=function(e){if(!process.env.VSCODE_DEV)return;if(!e)throw new Error("Missing injectPath");J("node:module").register("./bootstrap-import.js",{parentURL:import.meta.url,data:e})};p.exports.removeGlobalNodeJsModuleLookupPaths=function(){if(typeof process?.versions?.electron=="string")return;let e=J("module"),o=e.globalPaths,r=e._resolveLookupPaths;e._resolveLookupPaths=function(s,c){let t=r(s,c);if(Array.isArray(t)){let n=0;for(;n<t.length&&t[t.length-1-n]===o[o.length-1-n];)n++;return t.slice(0,t.length-n)}return t}};p.exports.configurePortable=function(e){let o=g.dirname(le);function r(l){return process.env.VSCODE_DEV?o:process.platform==="darwin"?l.dirname(l.dirname(l.dirname(o))):l.dirname(l.dirname(o))}function s(l){if(process.env.VSCODE_PORTABLE)return process.env.VSCODE_PORTABLE;if(process.platform==="win32"||process.platform==="linux")return l.join(r(l),"data");let f=e.portable||`${e.applicationName}-portable-data`;return l.join(l.dirname(r(l)),f)}let c=s(g),t=!("target"in e)&&R.existsSync(c),n=g.join(c,"tmp"),m=t&&R.existsSync(n);return t?process.env.VSCODE_PORTABLE=c:delete process.env.VSCODE_PORTABLE,m&&(process.platform==="win32"?(process.env.TMP=n,process.env.TEMP=n):process.env.TMPDIR=n),{portableDataPath:c,isPortable:t}};p.exports.enableASARSupport=function(){};p.exports.fileUriFromPath=function(e,o){let r=e.replace(/\\/g,"/");r.length>0&&r.charAt(0)!=="/"&&(r=`/${r}`);let s;return o.isWindows&&r.startsWith("//")?s=encodeURI(`${o.scheme||"file"}:${r}`):s=encodeURI(`${o.scheme||"file"}://${o.fallbackAuthority||""}${r}`),s.replace(/#/g,"%23")};var Le=p.exports.devInjectNodeModuleLookupPath,Ie=p.exports.removeGlobalNodeJsModuleLookupPaths,$=p.exports.configurePortable,B=p.exports.enableASARSupport,Re=p.exports.fileUriFromPath;import*as q from"path";import*as x from"fs";import{fileURLToPath as de}from"url";import{createRequire as ge,register as Se}from"node:module";import{createRequire as pe}from"node:module";var K=pe(import.meta.url),b={exports:{}},T={BUILD_INSERT_PRODUCT_CONFIGURATION:"BUILD_INSERT_PRODUCT_CONFIGURATION"};T.BUILD_INSERT_PRODUCT_CONFIGURATION&&(T=K("../product.json"));var j={BUILD_INSERT_PACKAGE_CONFIGURATION:"BUILD_INSERT_PACKAGE_CONFIGURATION"};j.BUILD_INSERT_PACKAGE_CONFIGURATION&&(j=K("../package.json"));b.exports.product=T;b.exports.pkg=j;var E=b.exports.product,W=b.exports.pkg;var v={};ie(v,{getMarks:()=>me,mark:()=>C});var k={exports:{}};(function(){function o(t){let n=[];typeof t=="number"&&n.push("code/timeOrigin",t);function m(f){n.push(f,Date.now())}function l(){let f=[];for(let S=0;S<n.length;S+=2)f.push({name:n[S],startTime:n[S+1]});return f}return{mark:m,getMarks:l}}function r(){if(typeof performance=="object"&&typeof performance.mark=="function"&&!performance.nodeTiming)return typeof performance.timeOrigin!="number"&&!performance.timing?o():{mark(t){performance.mark(t)},getMarks(){let t=performance.timeOrigin;typeof t!="number"&&(t=performance.timing.navigationStart||performance.timing.redirectStart||performance.timing.fetchStart);let n=[{name:"code/timeOrigin",startTime:Math.round(t)}];for(let m of performance.getEntriesByType("mark"))n.push({name:m.name,startTime:Math.round(t+m.startTime)});return n}};if(typeof process=="object"){let t=performance?.timeOrigin;return o(t)}else return console.trace("perf-util loaded in UNKNOWN environment"),o()}function s(t){return t.MonacoPerformanceMarks||(t.MonacoPerformanceMarks=r()),t.MonacoPerformanceMarks}var c;typeof global=="object"?c=global:typeof self=="object"?c=self:c={},typeof k=="object"&&typeof k.exports=="object"?k.exports=s(c):(console.trace("perf-util defined in UNKNOWN context (neither requirejs or commonjs)"),c.perf=s(c))})();var C=k.exports.mark,me=k.exports.getMarks;var Ne=ge(import.meta.url),H={exports:{}},_e=q.dirname(de(import.meta.url));(process.env.ELECTRON_RUN_AS_NODE||process.versions.electron)&&Se(`data:text/javascript;base64,${Buffer.from(`
	export async function resolve(specifier, context, nextResolve) {
		if (specifier === 'fs') {
			return {
				format: 'builtin',
				shortCircuit: true,
				url: 'node:original-fs'
			};
		}

		// Defer to the next hook in the chain, which would be the
		// Node.js default resolve if this is the last user-specified loader.
		return nextResolve(specifier, context);
	}`).toString("base64")}`,import.meta.url);globalThis._VSCODE_PRODUCT_JSON={...E};if(process.env.VSCODE_DEV)try{let e=Ne("../product.overrides.json");globalThis._VSCODE_PRODUCT_JSON=Object.assign(globalThis._VSCODE_PRODUCT_JSON,e)}catch{}globalThis._VSCODE_PACKAGE_JSON={...W};globalThis._VSCODE_FILE_ROOT=_e;var F;function he(){return F||(F=Oe()),F}async function Oe(){C("code/amd/willLoadNls");let e,o;if(process.env.VSCODE_NLS_CONFIG)try{e=JSON.parse(process.env.VSCODE_NLS_CONFIG),e?.languagePack?.messagesFile?o=e.languagePack.messagesFile:e?.defaultMessagesFile&&(o=e.defaultMessagesFile),globalThis._VSCODE_NLS_LANGUAGE=e?.resolvedLanguage}catch(r){console.error(`Error reading VSCODE_NLS_CONFIG from environment: ${r}`)}if(!(process.env.VSCODE_DEV||!o)){try{globalThis._VSCODE_NLS_MESSAGES=JSON.parse((await x.promises.readFile(o)).toString())}catch(r){if(console.error(`Error reading NLS messages file ${o}: ${r}`),e?.languagePack?.corruptMarkerFile)try{await x.promises.writeFile(e.languagePack.corruptMarkerFile,"corrupted")}catch(s){console.error(`Error writing corrupted NLS marker file: ${s}`)}if(e?.defaultMessagesFile&&e.defaultMessagesFile!==o)try{globalThis._VSCODE_NLS_MESSAGES=JSON.parse((await x.promises.readFile(e.defaultMessagesFile)).toString())}catch(s){console.error(`Error reading default NLS messages file ${e.defaultMessagesFile}: ${s}`)}}return C("code/amd/didLoadNls"),e}}H.exports.load=function(e,o,r){e&&(e=`./${e}.js`,o=o||function(){},r=r||function(s){console.error(s)},he().then(()=>{C("code/fork/willLoadCode"),import(e).then(o,r)}))};var z=H.exports.load;import*as Ee from"path";import*as ke from"fs";var D={exports:{}};(function(){function o(r,s,c){async function t(i){try{return await s.promises.access(i),!0}catch{return!1}}function n(i){let a=new Date;return s.promises.utimes(i,a,a)}async function m(i){let a=r.join(i,"languagepacks.json");try{return JSON.parse(await s.promises.readFile(a,"utf-8"))}catch{return}}function l(i,a){try{for(;a;){if(i[a])return a;let u=a.lastIndexOf("-");if(u>0)a=a.substring(0,u);else return}}catch(u){console.error("Resolving language pack configuration failed.",u)}}function f(i,a,u){return c.mark("code/didGenerateNls"),{userLocale:i,osLocale:a,resolvedLanguage:"en",defaultMessagesFile:r.join(u,"nls.messages.json"),locale:i,availableLanguages:{}}}async function S({userLocale:i,osLocale:a,userDataPath:u,commit:w,nlsMetadataPath:d}){if(c.mark("code/willGenerateNls"),process.env.VSCODE_DEV||i==="pseudo"||i.startsWith("en")||!w||!u)return f(i,a,d);try{let _=await m(u);if(!_)return f(i,a,d);let h=l(_,i);if(!h)return f(i,a,d);let N=_[h],y=N?.translations?.vscode;if(!N||typeof N.hash!="string"||!N.translations||typeof y!="string"||!await t(y))return f(i,a,d);let A=`${N.hash}.${h}`,O=r.join(u,"clp",A),P=r.join(O,w),M=r.join(P,"nls.messages.json"),L=r.join(O,"tcf.json"),I=r.join(O,"corrupted.info");await t(I)&&await s.promises.rm(O,{recursive:!0,force:!0,maxRetries:3});let U={userLocale:i,osLocale:a,resolvedLanguage:h,defaultMessagesFile:r.join(d,"nls.messages.json"),languagePack:{translationsConfigFile:L,messagesFile:M,corruptMarkerFile:I},locale:i,availableLanguages:{"*":h},_languagePackId:A,_languagePackSupport:!0,_translationsConfigFile:L,_cacheRoot:O,_resolvedLanguagePackCoreLocation:P,_corruptedFile:I};if(await t(P))return n(P).catch(()=>{}),c.mark("code/didGenerateNls"),U;let[,Y,Z,ee]=await Promise.all([s.promises.mkdir(P,{recursive:!0}),JSON.parse(await s.promises.readFile(r.join(d,"nls.keys.json"),"utf-8")),JSON.parse(await s.promises.readFile(r.join(d,"nls.messages.json"),"utf-8")),JSON.parse(await s.promises.readFile(y,"utf-8"))]),V=[],G=0;for(let[re,oe]of Y){let te=ee.contents[re];for(let se of oe)V.push(te?.[se]||Z[G]),G++}return await Promise.all([s.promises.writeFile(M,JSON.stringify(V),"utf-8"),s.promises.writeFile(L,JSON.stringify(N.translations),"utf-8")]),c.mark("code/didGenerateNls"),U}catch(_){console.error("Generating translation files failed.",_)}return f(i,a,d)}return{resolveNLSConfiguration:S}}if(typeof D=="object"&&typeof D.exports=="object")D.exports=o(Ee,ke,v);else throw new Error("vs/base/node/nls defined in UNKNOWN context (neither requirejs or commonjs)")})();var Q=D.exports.resolveNLSConfiguration;var be=X.dirname(Ce(import.meta.url));async function ve(){let e=await Q({userLocale:"en",osLocale:"en",commit:E.commit,userDataPath:"",nlsMetadataPath:be});process.env.VSCODE_NLS_CONFIG=JSON.stringify(e),$(E),B(),process.env.VSCODE_CLI="1",z("vs/code/node/cli")}ve();
