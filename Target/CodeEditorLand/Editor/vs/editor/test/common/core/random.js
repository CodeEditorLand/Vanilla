import{numberComparator as m}from"../../../../base/common/arrays.js";import{OffsetRange as u}from"../../../common/core/offsetRange.js";import"../../../common/core/position.js";import{PositionOffsetTransformer as f}from"../../../common/core/positionToOffset.js";import{Range as a}from"../../../common/core/range.js";import{SingleTextEdit as l,TextEdit as b}from"../../../common/core/textEdit.js";class r{static basicAlphabet="      abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";static basicAlphabetMultiline=`      


abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789`;static create(t){return new h(t)}nextString(t,e=r.basicAlphabet){let n="";for(let i=0;i<t;i++){const s=this.nextIntRange(0,e.length);n+=e.charAt(s)}return n}nextMultiLineString(t,e,n=r.basicAlphabet){const i=[];for(let s=0;s<t;s++){const o=this.nextIntRange(e.start,e.endExclusive);i.push(this.nextString(o,n))}return i.join(`
`)}nextConsecutivePositions(t,e){const n=new f(t.getValue()),i=u.ofLength(e).map(()=>this.nextIntRange(0,n.text.length));return i.sort(m),i.map(s=>n.getPosition(s))}nextRange(t){const[e,n]=this.nextConsecutivePositions(t,2);return a.fromPositions(e,n)}nextTextEdit(t,e){const n=[],i=this.nextConsecutivePositions(t,e*2);for(let s=0;s<e;s++){const o=i[s*2],c=i[s*2+1],x=this.nextString(c.column-o.column,r.basicAlphabetMultiline);n.push(new l(a.fromPositions(o,c),x))}return new b(n).normalize()}}class h extends r{mt=new Array(624);index=0;constructor(t){super(),this.mt[0]=t>>>0;for(let e=1;e<624;e++){const n=this.mt[e-1]^this.mt[e-1]>>>30;this.mt[e]=(((n&4294901760)>>>16)*1812433253<<16)+(n&65535)*1812433253+e>>>0}}_nextInt(){this.index===0&&this.generateNumbers();let t=this.mt[this.index];return t=t^t>>>11,t=t^t<<7&2636928640,t=t^t<<15&4022730752,t=t^t>>>18,this.index=(this.index+1)%624,t>>>0}nextIntRange(t,e){const n=e-t;return Math.floor(this._nextInt()/(4294967296/n))+t}generateNumbers(){for(let t=0;t<624;t++){const e=(this.mt[t]&2147483648)+(this.mt[(t+1)%624]&2147483647);this.mt[t]=this.mt[(t+397)%624]^e>>>1,e%2!==0&&(this.mt[t]=this.mt[t]^2567483615)}}}export{r as Random};
