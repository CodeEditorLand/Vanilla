import e from"assert";import{ensureNoDisposablesAreLeakedInTestSuite as u}from"../../../../../base/test/common/utils.js";import"../../../../common/core/range.js";import{BracketsUtils as a}from"../../../../common/languages/supports/richEditBrackets.js";suite("richEditBrackets",()=>{u();function r(t,s,l,o){return a.findPrevBracketInRange(t,1,s,l,o)}function n(t,s,l,o){return a.findNextBracketInRange(t,1,s,l,o)}test("findPrevBracketInToken one char 1",()=>{const t=r(/(\{)|(\})/i,"{",0,1);e.strictEqual(t.startColumn,1),e.strictEqual(t.endColumn,2)}),test("findPrevBracketInToken one char 2",()=>{const t=r(/(\{)|(\})/i,"{{",0,1);e.strictEqual(t.startColumn,1),e.strictEqual(t.endColumn,2)}),test("findPrevBracketInToken one char 3",()=>{const t=r(/(\{)|(\})/i,"{hello world!",0,13);e.strictEqual(t.startColumn,1),e.strictEqual(t.endColumn,2)}),test("findPrevBracketInToken more chars 1",()=>{const t=r(/(olleh)/i,"hello world!",0,12);e.strictEqual(t.startColumn,1),e.strictEqual(t.endColumn,6)}),test("findPrevBracketInToken more chars 2",()=>{const t=r(/(olleh)/i,"hello world!",0,5);e.strictEqual(t.startColumn,1),e.strictEqual(t.endColumn,6)}),test("findPrevBracketInToken more chars 3",()=>{const t=r(/(olleh)/i," hello world!",0,6);e.strictEqual(t.startColumn,2),e.strictEqual(t.endColumn,7)}),test("findNextBracketInToken one char",()=>{const t=n(/(\{)|(\})/i,"{",0,1);e.strictEqual(t.startColumn,1),e.strictEqual(t.endColumn,2)}),test("findNextBracketInToken more chars",()=>{const t=n(/(world)/i,"hello world!",0,12);e.strictEqual(t.startColumn,7),e.strictEqual(t.endColumn,12)}),test("findNextBracketInToken with emoty result",()=>{const t=n(/(\{)|(\})/i,"",0,0);e.strictEqual(t,null)}),test("issue #3894: [Handlebars] Curly braces edit issues",()=>{const t=r(/(\-\-!<)|(>\-\-)|(\{\{)|(\}\})/i,"{{asd}}",0,2);e.strictEqual(t.startColumn,1),e.strictEqual(t.endColumn,3)})});
