{
  "version": 3,
  "sources": ["../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/editor/browser/config/migrateOptions.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport type { IEditorOptions } from \"../../common/config/editorOptions.js\";\n\nexport interface ISettingsReader {\n\t(key: string): any;\n}\n\nexport interface ISettingsWriter {\n\t(key: string, value: any): void;\n}\n\nexport class EditorSettingMigration {\n\tpublic static items: EditorSettingMigration[] = [];\n\n\tconstructor(\n\t\tpublic readonly key: string,\n\t\tpublic readonly migrate: (\n\t\t\tvalue: any,\n\t\t\tread: ISettingsReader,\n\t\t\twrite: ISettingsWriter,\n\t\t) => void,\n\t) {}\n\n\tapply(options: any): void {\n\t\tconst value = EditorSettingMigration._read(options, this.key);\n\t\tconst read = (key: string) =>\n\t\t\tEditorSettingMigration._read(options, key);\n\t\tconst write = (key: string, value: any) =>\n\t\t\tEditorSettingMigration._write(options, key, value);\n\t\tthis.migrate(value, read, write);\n\t}\n\n\tprivate static _read(source: any, key: string): any {\n\t\tif (typeof source === \"undefined\") {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tconst firstDotIndex = key.indexOf(\".\");\n\t\tif (firstDotIndex >= 0) {\n\t\t\tconst firstSegment = key.substring(0, firstDotIndex);\n\t\t\treturn this._read(\n\t\t\t\tsource[firstSegment],\n\t\t\t\tkey.substring(firstDotIndex + 1),\n\t\t\t);\n\t\t}\n\t\treturn source[key];\n\t}\n\n\tprivate static _write(target: any, key: string, value: any): void {\n\t\tconst firstDotIndex = key.indexOf(\".\");\n\t\tif (firstDotIndex >= 0) {\n\t\t\tconst firstSegment = key.substring(0, firstDotIndex);\n\t\t\ttarget[firstSegment] = target[firstSegment] || {};\n\t\t\tthis._write(\n\t\t\t\ttarget[firstSegment],\n\t\t\t\tkey.substring(firstDotIndex + 1),\n\t\t\t\tvalue,\n\t\t\t);\n\t\t\treturn;\n\t\t}\n\t\ttarget[key] = value;\n\t}\n}\n\nfunction registerEditorSettingMigration(\n\tkey: string,\n\tmigrate: (\n\t\tvalue: any,\n\t\tread: ISettingsReader,\n\t\twrite: ISettingsWriter,\n\t) => void,\n): void {\n\tEditorSettingMigration.items.push(new EditorSettingMigration(key, migrate));\n}\n\nfunction registerSimpleEditorSettingMigration(\n\tkey: string,\n\tvalues: [any, any][],\n): void {\n\tregisterEditorSettingMigration(key, (value, read, write) => {\n\t\tif (typeof value !== \"undefined\") {\n\t\t\tfor (const [oldValue, newValue] of values) {\n\t\t\t\tif (value === oldValue) {\n\t\t\t\t\twrite(key, newValue);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n}\n\n/**\n * Compatibility with old options\n */\nexport function migrateOptions(options: IEditorOptions): void {\n\tEditorSettingMigration.items.forEach((migration) =>\n\t\tmigration.apply(options),\n\t);\n}\n\nregisterSimpleEditorSettingMigration(\"wordWrap\", [\n\t[true, \"on\"],\n\t[false, \"off\"],\n]);\nregisterSimpleEditorSettingMigration(\"lineNumbers\", [\n\t[true, \"on\"],\n\t[false, \"off\"],\n]);\nregisterSimpleEditorSettingMigration(\"cursorBlinking\", [[\"visible\", \"solid\"]]);\nregisterSimpleEditorSettingMigration(\"renderWhitespace\", [\n\t[true, \"boundary\"],\n\t[false, \"none\"],\n]);\nregisterSimpleEditorSettingMigration(\"renderLineHighlight\", [\n\t[true, \"line\"],\n\t[false, \"none\"],\n]);\nregisterSimpleEditorSettingMigration(\"acceptSuggestionOnEnter\", [\n\t[true, \"on\"],\n\t[false, \"off\"],\n]);\nregisterSimpleEditorSettingMigration(\"tabCompletion\", [\n\t[false, \"off\"],\n\t[true, \"onlySnippets\"],\n]);\nregisterSimpleEditorSettingMigration(\"hover\", [\n\t[true, { enabled: true }],\n\t[false, { enabled: false }],\n]);\nregisterSimpleEditorSettingMigration(\"parameterHints\", [\n\t[true, { enabled: true }],\n\t[false, { enabled: false }],\n]);\nregisterSimpleEditorSettingMigration(\"autoIndent\", [\n\t[false, \"advanced\"],\n\t[true, \"full\"],\n]);\nregisterSimpleEditorSettingMigration(\"matchBrackets\", [\n\t[true, \"always\"],\n\t[false, \"never\"],\n]);\nregisterSimpleEditorSettingMigration(\"renderFinalNewline\", [\n\t[true, \"on\"],\n\t[false, \"off\"],\n]);\nregisterSimpleEditorSettingMigration(\"cursorSmoothCaretAnimation\", [\n\t[true, \"on\"],\n\t[false, \"off\"],\n]);\nregisterSimpleEditorSettingMigration(\"occurrencesHighlight\", [\n\t[true, \"singleFile\"],\n\t[false, \"off\"],\n]);\nregisterSimpleEditorSettingMigration(\"wordBasedSuggestions\", [\n\t[true, \"matchingDocuments\"],\n\t[false, \"off\"],\n]);\n\nregisterEditorSettingMigration(\"autoClosingBrackets\", (value, read, write) => {\n\tif (value === false) {\n\t\twrite(\"autoClosingBrackets\", \"never\");\n\t\tif (typeof read(\"autoClosingQuotes\") === \"undefined\") {\n\t\t\twrite(\"autoClosingQuotes\", \"never\");\n\t\t}\n\t\tif (typeof read(\"autoSurround\") === \"undefined\") {\n\t\t\twrite(\"autoSurround\", \"never\");\n\t\t}\n\t}\n});\n\nregisterEditorSettingMigration(\"renderIndentGuides\", (value, read, write) => {\n\tif (typeof value !== \"undefined\") {\n\t\twrite(\"renderIndentGuides\", undefined);\n\t\tif (typeof read(\"guides.indentation\") === \"undefined\") {\n\t\t\twrite(\"guides.indentation\", !!value);\n\t\t}\n\t}\n});\n\nregisterEditorSettingMigration(\n\t\"highlightActiveIndentGuide\",\n\t(value, read, write) => {\n\t\tif (typeof value !== \"undefined\") {\n\t\t\twrite(\"highlightActiveIndentGuide\", undefined);\n\t\t\tif (\n\t\t\t\ttypeof read(\"guides.highlightActiveIndentation\") === \"undefined\"\n\t\t\t) {\n\t\t\t\twrite(\"guides.highlightActiveIndentation\", !!value);\n\t\t\t}\n\t\t}\n\t},\n);\n\nconst suggestFilteredTypesMapping: Record<string, string> = {\n\tmethod: \"showMethods\",\n\tfunction: \"showFunctions\",\n\tconstructor: \"showConstructors\",\n\tdeprecated: \"showDeprecated\",\n\tfield: \"showFields\",\n\tvariable: \"showVariables\",\n\tclass: \"showClasses\",\n\tstruct: \"showStructs\",\n\tinterface: \"showInterfaces\",\n\tmodule: \"showModules\",\n\tproperty: \"showProperties\",\n\tevent: \"showEvents\",\n\toperator: \"showOperators\",\n\tunit: \"showUnits\",\n\tvalue: \"showValues\",\n\tconstant: \"showConstants\",\n\tenum: \"showEnums\",\n\tenumMember: \"showEnumMembers\",\n\tkeyword: \"showKeywords\",\n\ttext: \"showWords\",\n\tcolor: \"showColors\",\n\tfile: \"showFiles\",\n\treference: \"showReferences\",\n\tfolder: \"showFolders\",\n\ttypeParameter: \"showTypeParameters\",\n\tsnippet: \"showSnippets\",\n};\n\nregisterEditorSettingMigration(\n\t\"suggest.filteredTypes\",\n\t(value, read, write) => {\n\t\tif (value && typeof value === \"object\") {\n\t\t\tfor (const entry of Object.entries(suggestFilteredTypesMapping)) {\n\t\t\t\tconst v = value[entry[0]];\n\t\t\t\tif (v === false) {\n\t\t\t\t\tif (typeof read(`suggest.${entry[1]}`) === \"undefined\") {\n\t\t\t\t\t\twrite(`suggest.${entry[1]}`, false);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\twrite(\"suggest.filteredTypes\", undefined);\n\t\t}\n\t},\n);\n\nregisterEditorSettingMigration(\"quickSuggestions\", (input, read, write) => {\n\tif (typeof input === \"boolean\") {\n\t\tconst value = input ? \"on\" : \"off\";\n\t\tconst newValue = { comments: value, strings: value, other: value };\n\t\twrite(\"quickSuggestions\", newValue);\n\t}\n});\n\n// Sticky Scroll\n\nregisterEditorSettingMigration(\n\t\"experimental.stickyScroll.enabled\",\n\t(value, read, write) => {\n\t\tif (typeof value === \"boolean\") {\n\t\t\twrite(\"experimental.stickyScroll.enabled\", undefined);\n\t\t\tif (typeof read(\"stickyScroll.enabled\") === \"undefined\") {\n\t\t\t\twrite(\"stickyScroll.enabled\", value);\n\t\t\t}\n\t\t}\n\t},\n);\n\nregisterEditorSettingMigration(\n\t\"experimental.stickyScroll.maxLineCount\",\n\t(value, read, write) => {\n\t\tif (typeof value === \"number\") {\n\t\t\twrite(\"experimental.stickyScroll.maxLineCount\", undefined);\n\t\t\tif (typeof read(\"stickyScroll.maxLineCount\") === \"undefined\") {\n\t\t\t\twrite(\"stickyScroll.maxLineCount\", value);\n\t\t\t}\n\t\t}\n\t},\n);\n\n// Code Actions on Save\nregisterEditorSettingMigration(\"codeActionsOnSave\", (value, read, write) => {\n\tif (value && typeof value === \"object\") {\n\t\tlet toBeModified = false;\n\t\tconst newValue = {} as any;\n\t\tfor (const entry of Object.entries(value)) {\n\t\t\tif (typeof entry[1] === \"boolean\") {\n\t\t\t\ttoBeModified = true;\n\t\t\t\tnewValue[entry[0]] = entry[1] ? \"explicit\" : \"never\";\n\t\t\t} else {\n\t\t\t\tnewValue[entry[0]] = entry[1];\n\t\t\t}\n\t\t}\n\t\tif (toBeModified) {\n\t\t\twrite(`codeActionsOnSave`, newValue);\n\t\t}\n\t}\n});\n\n// Migrate Quick Fix Settings\nregisterEditorSettingMigration(\n\t\"codeActionWidget.includeNearbyQuickfixes\",\n\t(value, read, write) => {\n\t\tif (typeof value === \"boolean\") {\n\t\t\twrite(\"codeActionWidget.includeNearbyQuickfixes\", undefined);\n\t\t\tif (\n\t\t\t\ttypeof read(\"codeActionWidget.includeNearbyQuickFixes\") ===\n\t\t\t\t\"undefined\"\n\t\t\t) {\n\t\t\t\twrite(\"codeActionWidget.includeNearbyQuickFixes\", value);\n\t\t\t}\n\t\t}\n\t},\n);\n\n// Migrate the lightbulb settings\nregisterEditorSettingMigration(\"lightbulb.enabled\", (value, read, write) => {\n\tif (typeof value === \"boolean\") {\n\t\twrite(\"lightbulb.enabled\", value ? undefined : \"off\");\n\t}\n});\n"],
  "mappings": "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",
  "names": ["value"]
}
