{
  "version": 3,
  "sources": ["../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/editor/browser/view.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as dom from \"../../base/browser/dom.js\";\nimport {\n\ttype FastDomNode,\n\tcreateFastDomNode,\n} from \"../../base/browser/fastDomNode.js\";\nimport type { IMouseWheelEvent } from \"../../base/browser/mouseEvent.js\";\nimport { inputLatency } from \"../../base/browser/performance.js\";\nimport type { CodeWindow } from \"../../base/browser/window.js\";\nimport {\n\tBugIndicatingError,\n\tonUnexpectedError,\n} from \"../../base/common/errors.js\";\nimport type { IDisposable } from \"../../base/common/lifecycle.js\";\nimport { IInstantiationService } from \"../../platform/instantiation/common/instantiation.js\";\nimport {\n\ttype IColorTheme,\n\tgetThemeTypeSelector,\n} from \"../../platform/theme/common/themeService.js\";\nimport type { IEditorConfiguration } from \"../common/config/editorConfiguration.js\";\nimport { EditorOption } from \"../common/config/editorOptions.js\";\nimport { Position } from \"../common/core/position.js\";\nimport { Range } from \"../common/core/range.js\";\nimport { Selection } from \"../common/core/selection.js\";\nimport { ScrollType } from \"../common/editorCommon.js\";\nimport {\n\tGlyphMarginLane,\n\ttype IGlyphMarginLanesModel,\n} from \"../common/model.js\";\nimport { ViewEventHandler } from \"../common/viewEventHandler.js\";\nimport type * as viewEvents from \"../common/viewEvents.js\";\nimport { ViewportData } from \"../common/viewLayout/viewLinesViewportData.js\";\nimport type { IViewModel } from \"../common/viewModel.js\";\nimport { ViewContext } from \"../common/viewModel/viewContext.js\";\nimport type { AbstractEditContext } from \"./controller/editContext/editContextUtils.js\";\nimport { NativeEditContext } from \"./controller/editContext/native/nativeEditContext.js\";\nimport {\n\ttype IVisibleRangeProvider,\n\tTextAreaEditContext,\n} from \"./controller/editContext/textArea/textAreaEditContext.js\";\nimport type { IPointerHandlerHelper } from \"./controller/mouseHandler.js\";\nimport { PointerHandlerLastRenderData } from \"./controller/mouseTarget.js\";\nimport { PointerHandler } from \"./controller/pointerHandler.js\";\nimport type {\n\tIContentWidget,\n\tIContentWidgetPosition,\n\tIEditorAriaOptions,\n\tIGlyphMarginWidget,\n\tIGlyphMarginWidgetPosition,\n\tIMouseTarget,\n\tIOverlayWidget,\n\tIOverlayWidgetPosition,\n\tIViewZoneChangeAccessor,\n} from \"./editorBrowser.js\";\nimport { ViewGpuContext } from \"./gpu/viewGpuContext.js\";\nimport {\n\tRenderingContext,\n\ttype RestrictedRenderingContext,\n} from \"./view/renderingContext.js\";\nimport {\n\ttype ICommandDelegate,\n\tViewController,\n} from \"./view/viewController.js\";\nimport {\n\tContentViewOverlays,\n\tMarginViewOverlays,\n} from \"./view/viewOverlays.js\";\nimport {\n\tPartFingerprint,\n\tPartFingerprints,\n\ttype ViewPart,\n} from \"./view/viewPart.js\";\nimport { ViewUserInputEvents } from \"./view/viewUserInputEvents.js\";\nimport { BlockDecorations } from \"./viewParts/blockDecorations/blockDecorations.js\";\nimport { ViewContentWidgets } from \"./viewParts/contentWidgets/contentWidgets.js\";\nimport {\n\tCurrentLineHighlightOverlay,\n\tCurrentLineMarginHighlightOverlay,\n} from \"./viewParts/currentLineHighlight/currentLineHighlight.js\";\nimport { DecorationsOverlay } from \"./viewParts/decorations/decorations.js\";\nimport { EditorScrollbar } from \"./viewParts/editorScrollbar/editorScrollbar.js\";\nimport { GlyphMarginWidgets } from \"./viewParts/glyphMargin/glyphMargin.js\";\nimport { IndentGuidesOverlay } from \"./viewParts/indentGuides/indentGuides.js\";\nimport { LineNumbersOverlay } from \"./viewParts/lineNumbers/lineNumbers.js\";\nimport { ViewLines } from \"./viewParts/lines/viewLines.js\";\nimport { LinesDecorationsOverlay } from \"./viewParts/linesDecorations/linesDecorations.js\";\nimport { ViewLinesGpu } from \"./viewParts/linesGpu/viewLinesGpu.js\";\nimport { Margin } from \"./viewParts/margin/margin.js\";\nimport { MarginViewLineDecorationsOverlay } from \"./viewParts/marginDecorations/marginDecorations.js\";\nimport { Minimap } from \"./viewParts/minimap/minimap.js\";\nimport { ViewOverlayWidgets } from \"./viewParts/overlayWidgets/overlayWidgets.js\";\nimport { DecorationsOverviewRuler } from \"./viewParts/overviewRuler/decorationsOverviewRuler.js\";\nimport { OverviewRuler } from \"./viewParts/overviewRuler/overviewRuler.js\";\nimport { Rulers } from \"./viewParts/rulers/rulers.js\";\nimport { ScrollDecorationViewPart } from \"./viewParts/scrollDecoration/scrollDecoration.js\";\nimport { SelectionsOverlay } from \"./viewParts/selections/selections.js\";\nimport { ViewCursors } from \"./viewParts/viewCursors/viewCursors.js\";\nimport { ViewZones } from \"./viewParts/viewZones/viewZones.js\";\nimport { WhitespaceOverlay } from \"./viewParts/whitespace/whitespace.js\";\n\nexport interface IContentWidgetData {\n\twidget: IContentWidget;\n\tposition: IContentWidgetPosition | null;\n}\n\nexport interface IOverlayWidgetData {\n\twidget: IOverlayWidget;\n\tposition: IOverlayWidgetPosition | null;\n}\n\nexport interface IGlyphMarginWidgetData {\n\twidget: IGlyphMarginWidget;\n\tposition: IGlyphMarginWidgetPosition;\n}\n\nexport class View extends ViewEventHandler {\n\tprivate readonly _scrollbar: EditorScrollbar;\n\tprivate readonly _context: ViewContext;\n\tprivate readonly _viewGpuContext?: ViewGpuContext;\n\tprivate _selections: Selection[];\n\n\t// The view lines\n\tprivate readonly _viewLines: ViewLines;\n\tprivate readonly _viewLinesGpu?: ViewLinesGpu;\n\n\t// These are parts, but we must do some API related calls on them, so we keep a reference\n\tprivate readonly _viewZones: ViewZones;\n\tprivate readonly _contentWidgets: ViewContentWidgets;\n\tprivate readonly _overlayWidgets: ViewOverlayWidgets;\n\tprivate readonly _glyphMarginWidgets: GlyphMarginWidgets;\n\tprivate readonly _viewCursors: ViewCursors;\n\tprivate readonly _viewParts: ViewPart[];\n\tprivate readonly _viewController: ViewController;\n\n\tprivate _experimentalEditContextEnabled: boolean;\n\tprivate _editContext: AbstractEditContext;\n\tprivate readonly _pointerHandler: PointerHandler;\n\n\t// Dom nodes\n\tprivate readonly _linesContent: FastDomNode<HTMLElement>;\n\tpublic readonly domNode: FastDomNode<HTMLElement>;\n\tprivate readonly _overflowGuardContainer: FastDomNode<HTMLElement>;\n\n\t// Actual mutable state\n\tprivate _shouldRecomputeGlyphMarginLanes = false;\n\tprivate _renderAnimationFrame: IDisposable | null;\n\n\tconstructor(\n\t\tcommandDelegate: ICommandDelegate,\n\t\tconfiguration: IEditorConfiguration,\n\t\tcolorTheme: IColorTheme,\n\t\tmodel: IViewModel,\n\t\tuserInputEvents: ViewUserInputEvents,\n\t\toverflowWidgetsDomNode: HTMLElement | undefined,\n\t\t@IInstantiationService private readonly _instantiationService: IInstantiationService\n\t) {\n\t\tsuper();\n\t\tthis._selections = [new Selection(1, 1, 1, 1)];\n\t\tthis._renderAnimationFrame = null;\n\n\t\tthis._viewController = new ViewController(configuration, model, userInputEvents, commandDelegate);\n\n\t\t// The view context is passed on to most classes (basically to reduce param. counts in ctors)\n\t\tthis._context = new ViewContext(configuration, colorTheme, model);\n\n\t\t// Ensure the view is the first event handler in order to update the layout\n\t\tthis._context.addEventHandler(this);\n\n\t\tthis._viewParts = [];\n\n\t\t// Keyboard handler\n\t\tthis._experimentalEditContextEnabled = this._context.configuration.options.get(EditorOption.experimentalEditContextEnabled);\n\t\tthis._editContext = this._instantiateEditContext(this._experimentalEditContextEnabled);\n\n\t\tthis._viewParts.push(this._editContext);\n\n\t\t// These two dom nodes must be constructed up front, since references are needed in the layout provider (scrolling & co.)\n\t\tthis._linesContent = createFastDomNode(document.createElement('div'));\n\t\tthis._linesContent.setClassName('lines-content' + ' monaco-editor-background');\n\t\tthis._linesContent.setPosition('absolute');\n\n\t\tthis.domNode = createFastDomNode(document.createElement('div'));\n\t\tthis.domNode.setClassName(this._getEditorClassName());\n\t\t// Set role 'code' for better screen reader support https://github.com/microsoft/vscode/issues/93438\n\t\tthis.domNode.setAttribute('role', 'code');\n\n\t\tif (this._context.configuration.options.get(EditorOption.experimentalGpuAcceleration) === 'on') {\n\t\t\tthis._viewGpuContext = new ViewGpuContext();\n\t\t}\n\n\t\tthis._overflowGuardContainer = createFastDomNode(document.createElement('div'));\n\t\tPartFingerprints.write(this._overflowGuardContainer, PartFingerprint.OverflowGuard);\n\t\tthis._overflowGuardContainer.setClassName('overflow-guard');\n\n\t\tthis._scrollbar = new EditorScrollbar(this._context, this._linesContent, this.domNode, this._overflowGuardContainer);\n\t\tthis._viewParts.push(this._scrollbar);\n\n\t\t// View Lines\n\t\tthis._viewLines = new ViewLines(this._context, this._linesContent);\n\t\tif (this._viewGpuContext) {\n\t\t\tthis._viewLinesGpu = this._instantiationService.createInstance(ViewLinesGpu, this._context, this._viewGpuContext);\n\t\t}\n\n\t\t// View Zones\n\t\tthis._viewZones = new ViewZones(this._context);\n\t\tthis._viewParts.push(this._viewZones);\n\n\t\t// Decorations overview ruler\n\t\tconst decorationsOverviewRuler = new DecorationsOverviewRuler(this._context);\n\t\tthis._viewParts.push(decorationsOverviewRuler);\n\n\n\t\tconst scrollDecoration = new ScrollDecorationViewPart(this._context);\n\t\tthis._viewParts.push(scrollDecoration);\n\n\t\tconst contentViewOverlays = new ContentViewOverlays(this._context);\n\t\tthis._viewParts.push(contentViewOverlays);\n\t\tcontentViewOverlays.addDynamicOverlay(new CurrentLineHighlightOverlay(this._context));\n\t\tcontentViewOverlays.addDynamicOverlay(new SelectionsOverlay(this._context));\n\t\tcontentViewOverlays.addDynamicOverlay(new IndentGuidesOverlay(this._context));\n\t\tcontentViewOverlays.addDynamicOverlay(new DecorationsOverlay(this._context));\n\t\tcontentViewOverlays.addDynamicOverlay(new WhitespaceOverlay(this._context));\n\n\t\tconst marginViewOverlays = new MarginViewOverlays(this._context);\n\t\tthis._viewParts.push(marginViewOverlays);\n\t\tmarginViewOverlays.addDynamicOverlay(new CurrentLineMarginHighlightOverlay(this._context));\n\t\tmarginViewOverlays.addDynamicOverlay(new MarginViewLineDecorationsOverlay(this._context));\n\t\tmarginViewOverlays.addDynamicOverlay(new LinesDecorationsOverlay(this._context));\n\t\tmarginViewOverlays.addDynamicOverlay(new LineNumbersOverlay(this._context));\n\n\t\t// Glyph margin widgets\n\t\tthis._glyphMarginWidgets = new GlyphMarginWidgets(this._context);\n\t\tthis._viewParts.push(this._glyphMarginWidgets);\n\n\t\tconst margin = new Margin(this._context);\n\t\tmargin.getDomNode().appendChild(this._viewZones.marginDomNode);\n\t\tmargin.getDomNode().appendChild(marginViewOverlays.getDomNode());\n\t\tmargin.getDomNode().appendChild(this._glyphMarginWidgets.domNode);\n\t\tthis._viewParts.push(margin);\n\n\t\t// Content widgets\n\t\tthis._contentWidgets = new ViewContentWidgets(this._context, this.domNode);\n\t\tthis._viewParts.push(this._contentWidgets);\n\n\t\tthis._viewCursors = new ViewCursors(this._context);\n\t\tthis._viewParts.push(this._viewCursors);\n\n\t\t// Overlay widgets\n\t\tthis._overlayWidgets = new ViewOverlayWidgets(this._context, this.domNode);\n\t\tthis._viewParts.push(this._overlayWidgets);\n\n\t\tconst rulers = new Rulers(this._context);\n\t\tthis._viewParts.push(rulers);\n\n\t\tconst blockOutline = new BlockDecorations(this._context);\n\t\tthis._viewParts.push(blockOutline);\n\n\t\tconst minimap = new Minimap(this._context);\n\t\tthis._viewParts.push(minimap);\n\n\t\t// -------------- Wire dom nodes up\n\n\t\tif (decorationsOverviewRuler) {\n\t\t\tconst overviewRulerData = this._scrollbar.getOverviewRulerLayoutInfo();\n\t\t\toverviewRulerData.parent.insertBefore(decorationsOverviewRuler.getDomNode(), overviewRulerData.insertBefore);\n\t\t}\n\n\t\tthis._linesContent.appendChild(contentViewOverlays.getDomNode());\n\t\tthis._linesContent.appendChild(rulers.domNode);\n\t\tthis._linesContent.appendChild(this._viewZones.domNode);\n\t\tthis._linesContent.appendChild(this._viewLines.getDomNode());\n\t\tthis._linesContent.appendChild(this._contentWidgets.domNode);\n\t\tthis._linesContent.appendChild(this._viewCursors.getDomNode());\n\t\tthis._overflowGuardContainer.appendChild(margin.getDomNode());\n\t\tthis._overflowGuardContainer.appendChild(this._scrollbar.getDomNode());\n\t\tif (this._viewGpuContext) {\n\t\t\tthis._overflowGuardContainer.appendChild(this._viewGpuContext.canvas);\n\t\t}\n\t\tthis._overflowGuardContainer.appendChild(scrollDecoration.getDomNode());\n\t\tthis._editContext.appendTo(this._overflowGuardContainer);\n\t\tthis._overflowGuardContainer.appendChild(this._overlayWidgets.getDomNode());\n\t\tthis._overflowGuardContainer.appendChild(minimap.getDomNode());\n\t\tthis._overflowGuardContainer.appendChild(blockOutline.domNode);\n\t\tthis.domNode.appendChild(this._overflowGuardContainer);\n\n\t\tif (overflowWidgetsDomNode) {\n\t\t\toverflowWidgetsDomNode.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode.domNode);\n\t\t\toverflowWidgetsDomNode.appendChild(this._overlayWidgets.overflowingOverlayWidgetsDomNode.domNode);\n\t\t} else {\n\t\t\tthis.domNode.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode);\n\t\t\tthis.domNode.appendChild(this._overlayWidgets.overflowingOverlayWidgetsDomNode);\n\t\t}\n\n\t\tthis._applyLayout();\n\n\t\t// Pointer handler\n\t\tthis._pointerHandler = this._register(new PointerHandler(this._context, this._viewController, this._createPointerHandlerHelper()));\n\t}\n\n\tprivate _instantiateEditContext(\n\t\texperimentalEditContextEnabled: boolean,\n\t): AbstractEditContext {\n\t\treturn experimentalEditContextEnabled\n\t\t\t? this._instantiationService.createInstance(\n\t\t\t\t\tNativeEditContext,\n\t\t\t\t\tthis._context,\n\t\t\t\t\tthis._viewController,\n\t\t\t\t)\n\t\t\t: this._instantiationService.createInstance(\n\t\t\t\t\tTextAreaEditContext,\n\t\t\t\t\tthis._context,\n\t\t\t\t\tthis._viewController,\n\t\t\t\t\tthis._createTextAreaHandlerHelper(),\n\t\t\t\t);\n\t}\n\n\tprivate _updateEditContext(): void {\n\t\tconst experimentalEditContextEnabled =\n\t\t\tthis._context.configuration.options.get(\n\t\t\t\tEditorOption.experimentalEditContextEnabled,\n\t\t\t);\n\t\tif (\n\t\t\tthis._experimentalEditContextEnabled ===\n\t\t\texperimentalEditContextEnabled\n\t\t) {\n\t\t\treturn;\n\t\t}\n\t\tthis._experimentalEditContextEnabled = experimentalEditContextEnabled;\n\t\tthis._editContext.dispose();\n\t\tthis._editContext = this._instantiateEditContext(\n\t\t\texperimentalEditContextEnabled,\n\t\t);\n\t\tthis._editContext.appendTo(this._overflowGuardContainer);\n\t\t// Replace the view parts with the new edit context\n\t\tconst indexOfEditContextHandler = this._viewParts.indexOf(\n\t\t\tthis._editContext,\n\t\t);\n\t\tif (indexOfEditContextHandler !== -1) {\n\t\t\tthis._viewParts.splice(\n\t\t\t\tindexOfEditContextHandler,\n\t\t\t\t1,\n\t\t\t\tthis._editContext,\n\t\t\t);\n\t\t}\n\t}\n\n\tprivate _computeGlyphMarginLanes(): IGlyphMarginLanesModel {\n\t\tconst model = this._context.viewModel.model;\n\t\tconst laneModel = this._context.viewModel.glyphLanes;\n\t\ttype Glyph = { range: Range; lane: GlyphMarginLane; persist?: boolean };\n\t\tlet glyphs: Glyph[] = [];\n\t\tlet maxLineNumber = 0;\n\n\t\t// Add all margin decorations\n\t\tglyphs = glyphs.concat(\n\t\t\tmodel.getAllMarginDecorations().map((decoration) => {\n\t\t\t\tconst lane =\n\t\t\t\t\tdecoration.options.glyphMargin?.position ??\n\t\t\t\t\tGlyphMarginLane.Center;\n\t\t\t\tmaxLineNumber = Math.max(\n\t\t\t\t\tmaxLineNumber,\n\t\t\t\t\tdecoration.range.endLineNumber,\n\t\t\t\t);\n\t\t\t\treturn {\n\t\t\t\t\trange: decoration.range,\n\t\t\t\t\tlane,\n\t\t\t\t\tpersist: decoration.options.glyphMargin?.persistLane,\n\t\t\t\t};\n\t\t\t}),\n\t\t);\n\n\t\t// Add all glyph margin widgets\n\t\tglyphs = glyphs.concat(\n\t\t\tthis._glyphMarginWidgets.getWidgets().map((widget) => {\n\t\t\t\tconst range = model.validateRange(widget.preference.range);\n\t\t\t\tmaxLineNumber = Math.max(maxLineNumber, range.endLineNumber);\n\t\t\t\treturn { range, lane: widget.preference.lane };\n\t\t\t}),\n\t\t);\n\n\t\t// Sorted by their start position\n\t\tglyphs.sort((a, b) => Range.compareRangesUsingStarts(a.range, b.range));\n\n\t\tlaneModel.reset(maxLineNumber);\n\t\tfor (const glyph of glyphs) {\n\t\t\tlaneModel.push(glyph.lane, glyph.range, glyph.persist);\n\t\t}\n\n\t\treturn laneModel;\n\t}\n\n\tprivate _createPointerHandlerHelper(): IPointerHandlerHelper {\n\t\treturn {\n\t\t\tviewDomNode: this.domNode.domNode,\n\t\t\tlinesContentDomNode: this._linesContent.domNode,\n\t\t\tviewLinesDomNode: this._viewLines.getDomNode().domNode,\n\n\t\t\tfocusTextArea: () => {\n\t\t\t\tthis.focus();\n\t\t\t},\n\n\t\t\tdispatchTextAreaEvent: (event: CustomEvent) => {\n\t\t\t\tthis._editContext.domNode.domNode.dispatchEvent(event);\n\t\t\t},\n\n\t\t\tgetLastRenderData: (): PointerHandlerLastRenderData => {\n\t\t\t\tconst lastViewCursorsRenderData =\n\t\t\t\t\tthis._viewCursors.getLastRenderData() || [];\n\t\t\t\tconst lastTextareaPosition =\n\t\t\t\t\tthis._editContext.getLastRenderData();\n\t\t\t\treturn new PointerHandlerLastRenderData(\n\t\t\t\t\tlastViewCursorsRenderData,\n\t\t\t\t\tlastTextareaPosition,\n\t\t\t\t);\n\t\t\t},\n\t\t\trenderNow: (): void => {\n\t\t\t\tthis.render(true, false);\n\t\t\t},\n\t\t\tshouldSuppressMouseDownOnViewZone: (viewZoneId: string) => {\n\t\t\t\treturn this._viewZones.shouldSuppressMouseDownOnViewZone(\n\t\t\t\t\tviewZoneId,\n\t\t\t\t);\n\t\t\t},\n\t\t\tshouldSuppressMouseDownOnWidget: (widgetId: string) => {\n\t\t\t\treturn this._contentWidgets.shouldSuppressMouseDownOnWidget(\n\t\t\t\t\twidgetId,\n\t\t\t\t);\n\t\t\t},\n\t\t\tgetPositionFromDOMInfo: (spanNode: HTMLElement, offset: number) => {\n\t\t\t\tthis._flushAccumulatedAndRenderNow();\n\t\t\t\treturn this._viewLines.getPositionFromDOMInfo(spanNode, offset);\n\t\t\t},\n\n\t\t\tvisibleRangeForPosition: (lineNumber: number, column: number) => {\n\t\t\t\tthis._flushAccumulatedAndRenderNow();\n\t\t\t\treturn this._viewLines.visibleRangeForPosition(\n\t\t\t\t\tnew Position(lineNumber, column),\n\t\t\t\t);\n\t\t\t},\n\n\t\t\tgetLineWidth: (lineNumber: number) => {\n\t\t\t\tthis._flushAccumulatedAndRenderNow();\n\t\t\t\treturn this._viewLines.getLineWidth(lineNumber);\n\t\t\t},\n\t\t};\n\t}\n\n\tprivate _createTextAreaHandlerHelper(): IVisibleRangeProvider {\n\t\treturn {\n\t\t\tvisibleRangeForPosition: (position: Position) => {\n\t\t\t\tthis._flushAccumulatedAndRenderNow();\n\t\t\t\treturn this._viewLines.visibleRangeForPosition(position);\n\t\t\t},\n\t\t};\n\t}\n\n\tprivate _applyLayout(): void {\n\t\tconst options = this._context.configuration.options;\n\t\tconst layoutInfo = options.get(EditorOption.layoutInfo);\n\n\t\tthis.domNode.setWidth(layoutInfo.width);\n\t\tthis.domNode.setHeight(layoutInfo.height);\n\n\t\tthis._overflowGuardContainer.setWidth(layoutInfo.width);\n\t\tthis._overflowGuardContainer.setHeight(layoutInfo.height);\n\n\t\t// https://stackoverflow.com/questions/38905916/content-in-google-chrome-larger-than-16777216-px-not-being-rendered\n\t\tthis._linesContent.setWidth(16777216);\n\t\tthis._linesContent.setHeight(16777216);\n\t}\n\n\tprivate _getEditorClassName() {\n\t\tconst focused = this._editContext.isFocused() ? \" focused\" : \"\";\n\t\treturn (\n\t\t\tthis._context.configuration.options.get(\n\t\t\t\tEditorOption.editorClassName,\n\t\t\t) +\n\t\t\t\" \" +\n\t\t\tgetThemeTypeSelector(this._context.theme.type) +\n\t\t\tfocused\n\t\t);\n\t}\n\n\t// --- begin event handlers\n\tpublic override handleEvents(events: viewEvents.ViewEvent[]): void {\n\t\tsuper.handleEvents(events);\n\t\tthis._scheduleRender();\n\t}\n\tpublic override onConfigurationChanged(\n\t\te: viewEvents.ViewConfigurationChangedEvent,\n\t): boolean {\n\t\tthis.domNode.setClassName(this._getEditorClassName());\n\t\tthis._updateEditContext();\n\t\tthis._applyLayout();\n\t\treturn false;\n\t}\n\tpublic override onCursorStateChanged(\n\t\te: viewEvents.ViewCursorStateChangedEvent,\n\t): boolean {\n\t\tthis._selections = e.selections;\n\t\treturn false;\n\t}\n\tpublic override onDecorationsChanged(\n\t\te: viewEvents.ViewDecorationsChangedEvent,\n\t): boolean {\n\t\tif (e.affectsGlyphMargin) {\n\t\t\tthis._shouldRecomputeGlyphMarginLanes = true;\n\t\t}\n\t\treturn false;\n\t}\n\tpublic override onFocusChanged(\n\t\te: viewEvents.ViewFocusChangedEvent,\n\t): boolean {\n\t\tthis.domNode.setClassName(this._getEditorClassName());\n\t\treturn false;\n\t}\n\tpublic override onThemeChanged(\n\t\te: viewEvents.ViewThemeChangedEvent,\n\t): boolean {\n\t\tthis._context.theme.update(e.theme);\n\t\tthis.domNode.setClassName(this._getEditorClassName());\n\t\treturn false;\n\t}\n\n\t// --- end event handlers\n\n\tpublic override dispose(): void {\n\t\tif (this._renderAnimationFrame !== null) {\n\t\t\tthis._renderAnimationFrame.dispose();\n\t\t\tthis._renderAnimationFrame = null;\n\t\t}\n\n\t\tthis._contentWidgets.overflowingContentWidgetsDomNode.domNode.remove();\n\n\t\tthis._context.removeEventHandler(this);\n\t\tthis._viewGpuContext?.dispose();\n\n\t\tthis._viewLines.dispose();\n\t\tthis._viewLinesGpu?.dispose();\n\n\t\t// Destroy view parts\n\t\tfor (const viewPart of this._viewParts) {\n\t\t\tviewPart.dispose();\n\t\t}\n\n\t\tsuper.dispose();\n\t}\n\n\tprivate _scheduleRender(): void {\n\t\tif (this._store.isDisposed) {\n\t\t\tthrow new BugIndicatingError();\n\t\t}\n\t\tif (this._renderAnimationFrame === null) {\n\t\t\tconst rendering = this._createCoordinatedRendering();\n\t\t\tthis._renderAnimationFrame =\n\t\t\t\tEditorRenderingCoordinator.INSTANCE.scheduleCoordinatedRendering(\n\t\t\t\t\t{\n\t\t\t\t\t\twindow: dom.getWindow(this.domNode?.domNode),\n\t\t\t\t\t\tprepareRenderText: () => {\n\t\t\t\t\t\t\tif (this._store.isDisposed) {\n\t\t\t\t\t\t\t\tthrow new BugIndicatingError();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\treturn rendering.prepareRenderText();\n\t\t\t\t\t\t\t} finally {\n\t\t\t\t\t\t\t\tthis._renderAnimationFrame = null;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\trenderText: () => {\n\t\t\t\t\t\t\tif (this._store.isDisposed) {\n\t\t\t\t\t\t\t\tthrow new BugIndicatingError();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn rendering.renderText();\n\t\t\t\t\t\t},\n\t\t\t\t\t\tprepareRender: (\n\t\t\t\t\t\t\tviewParts: ViewPart[],\n\t\t\t\t\t\t\tctx: RenderingContext,\n\t\t\t\t\t\t) => {\n\t\t\t\t\t\t\tif (this._store.isDisposed) {\n\t\t\t\t\t\t\t\tthrow new BugIndicatingError();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn rendering.prepareRender(viewParts, ctx);\n\t\t\t\t\t\t},\n\t\t\t\t\t\trender: (\n\t\t\t\t\t\t\tviewParts: ViewPart[],\n\t\t\t\t\t\t\tctx: RestrictedRenderingContext,\n\t\t\t\t\t\t) => {\n\t\t\t\t\t\t\tif (this._store.isDisposed) {\n\t\t\t\t\t\t\t\tthrow new BugIndicatingError();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn rendering.render(viewParts, ctx);\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t);\n\t\t}\n\t}\n\n\tprivate _flushAccumulatedAndRenderNow(): void {\n\t\tconst rendering = this._createCoordinatedRendering();\n\t\tsafeInvokeNoArg(() => rendering.prepareRenderText());\n\t\tconst data = safeInvokeNoArg(() => rendering.renderText());\n\t\tif (data) {\n\t\t\tconst [viewParts, ctx] = data;\n\t\t\tsafeInvokeNoArg(() => rendering.prepareRender(viewParts, ctx));\n\t\t\tsafeInvokeNoArg(() => rendering.render(viewParts, ctx));\n\t\t}\n\t}\n\n\tprivate _getViewPartsToRender(): ViewPart[] {\n\t\tconst result: ViewPart[] = [];\n\t\tlet resultLen = 0;\n\t\tfor (const viewPart of this._viewParts) {\n\t\t\tif (viewPart.shouldRender()) {\n\t\t\t\tresult[resultLen++] = viewPart;\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tprivate _createCoordinatedRendering() {\n\t\treturn {\n\t\t\tprepareRenderText: () => {\n\t\t\t\tif (this._shouldRecomputeGlyphMarginLanes) {\n\t\t\t\t\tthis._shouldRecomputeGlyphMarginLanes = false;\n\t\t\t\t\tconst model = this._computeGlyphMarginLanes();\n\t\t\t\t\tthis._context.configuration.setGlyphMarginDecorationLaneCount(\n\t\t\t\t\t\tmodel.requiredLanes,\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tinputLatency.onRenderStart();\n\t\t\t},\n\t\t\trenderText: (): [ViewPart[], RenderingContext] | null => {\n\t\t\t\tif (!this.domNode.domNode.isConnected) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\tlet viewPartsToRender = this._getViewPartsToRender();\n\t\t\t\tif (\n\t\t\t\t\t!this._viewLines.shouldRender() &&\n\t\t\t\t\tviewPartsToRender.length === 0\n\t\t\t\t) {\n\t\t\t\t\t// Nothing to render\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\tconst partialViewportData =\n\t\t\t\t\tthis._context.viewLayout.getLinesViewportData();\n\t\t\t\tthis._context.viewModel.setViewport(\n\t\t\t\t\tpartialViewportData.startLineNumber,\n\t\t\t\t\tpartialViewportData.endLineNumber,\n\t\t\t\t\tpartialViewportData.centeredLineNumber,\n\t\t\t\t);\n\n\t\t\t\tconst viewportData = new ViewportData(\n\t\t\t\t\tthis._selections,\n\t\t\t\t\tpartialViewportData,\n\t\t\t\t\tthis._context.viewLayout.getWhitespaceViewportData(),\n\t\t\t\t\tthis._context.viewModel,\n\t\t\t\t);\n\n\t\t\t\tif (this._contentWidgets.shouldRender()) {\n\t\t\t\t\t// Give the content widgets a chance to set their max width before a possible synchronous layout\n\t\t\t\t\tthis._contentWidgets.onBeforeRender(viewportData);\n\t\t\t\t}\n\n\t\t\t\tif (this._viewLines.shouldRender()) {\n\t\t\t\t\tthis._viewLines.renderText(viewportData);\n\t\t\t\t\tthis._viewLines.onDidRender();\n\n\t\t\t\t\t// Rendering of viewLines might cause scroll events to occur, so collect view parts to render again\n\t\t\t\t\tviewPartsToRender = this._getViewPartsToRender();\n\t\t\t\t}\n\n\t\t\t\tif (this._viewLinesGpu?.shouldRender()) {\n\t\t\t\t\tthis._viewLinesGpu.renderText(viewportData);\n\t\t\t\t\tthis._viewLinesGpu.onDidRender();\n\t\t\t\t}\n\n\t\t\t\treturn [\n\t\t\t\t\tviewPartsToRender,\n\t\t\t\t\tnew RenderingContext(\n\t\t\t\t\t\tthis._context.viewLayout,\n\t\t\t\t\t\tviewportData,\n\t\t\t\t\t\tthis._viewLines,\n\t\t\t\t\t),\n\t\t\t\t];\n\t\t\t},\n\t\t\tprepareRender: (\n\t\t\t\tviewPartsToRender: ViewPart[],\n\t\t\t\tctx: RenderingContext,\n\t\t\t) => {\n\t\t\t\tfor (const viewPart of viewPartsToRender) {\n\t\t\t\t\tviewPart.prepareRender(ctx);\n\t\t\t\t}\n\t\t\t},\n\t\t\trender: (\n\t\t\t\tviewPartsToRender: ViewPart[],\n\t\t\t\tctx: RestrictedRenderingContext,\n\t\t\t) => {\n\t\t\t\tfor (const viewPart of viewPartsToRender) {\n\t\t\t\t\tviewPart.render(ctx);\n\t\t\t\t\tviewPart.onDidRender();\n\t\t\t\t}\n\t\t\t},\n\t\t};\n\t}\n\n\t// --- BEGIN CodeEditor helpers\n\n\tpublic delegateVerticalScrollbarPointerDown(\n\t\tbrowserEvent: PointerEvent,\n\t): void {\n\t\tthis._scrollbar.delegateVerticalScrollbarPointerDown(browserEvent);\n\t}\n\n\tpublic delegateScrollFromMouseWheelEvent(browserEvent: IMouseWheelEvent) {\n\t\tthis._scrollbar.delegateScrollFromMouseWheelEvent(browserEvent);\n\t}\n\n\tpublic restoreState(scrollPosition: {\n\t\tscrollLeft: number;\n\t\tscrollTop: number;\n\t}): void {\n\t\tthis._context.viewModel.viewLayout.setScrollPosition(\n\t\t\t{\n\t\t\t\tscrollTop: scrollPosition.scrollTop,\n\t\t\t\tscrollLeft: scrollPosition.scrollLeft,\n\t\t\t},\n\t\t\tScrollType.Immediate,\n\t\t);\n\t\tthis._context.viewModel.visibleLinesStabilized();\n\t}\n\n\tpublic getOffsetForColumn(\n\t\tmodelLineNumber: number,\n\t\tmodelColumn: number,\n\t): number {\n\t\tconst modelPosition = this._context.viewModel.model.validatePosition({\n\t\t\tlineNumber: modelLineNumber,\n\t\t\tcolumn: modelColumn,\n\t\t});\n\t\tconst viewPosition =\n\t\t\tthis._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(\n\t\t\t\tmodelPosition,\n\t\t\t);\n\t\tthis._flushAccumulatedAndRenderNow();\n\t\tconst visibleRange = this._viewLines.visibleRangeForPosition(\n\t\t\tnew Position(viewPosition.lineNumber, viewPosition.column),\n\t\t);\n\t\tif (!visibleRange) {\n\t\t\treturn -1;\n\t\t}\n\t\treturn visibleRange.left;\n\t}\n\n\tpublic getTargetAtClientPoint(\n\t\tclientX: number,\n\t\tclientY: number,\n\t): IMouseTarget | null {\n\t\tconst mouseTarget = this._pointerHandler.getTargetAtClientPoint(\n\t\t\tclientX,\n\t\t\tclientY,\n\t\t);\n\t\tif (!mouseTarget) {\n\t\t\treturn null;\n\t\t}\n\t\treturn ViewUserInputEvents.convertViewToModelMouseTarget(\n\t\t\tmouseTarget,\n\t\t\tthis._context.viewModel.coordinatesConverter,\n\t\t);\n\t}\n\n\tpublic createOverviewRuler(cssClassName: string): OverviewRuler {\n\t\treturn new OverviewRuler(this._context, cssClassName);\n\t}\n\n\tpublic change(\n\t\tcallback: (changeAccessor: IViewZoneChangeAccessor) => any,\n\t): void {\n\t\tthis._viewZones.changeViewZones(callback);\n\t\tthis._scheduleRender();\n\t}\n\n\tpublic render(now: boolean, everything: boolean): void {\n\t\tif (everything) {\n\t\t\t// Force everything to render...\n\t\t\tthis._viewLines.forceShouldRender();\n\t\t\tfor (const viewPart of this._viewParts) {\n\t\t\t\tviewPart.forceShouldRender();\n\t\t\t}\n\t\t}\n\t\tif (now) {\n\t\t\tthis._flushAccumulatedAndRenderNow();\n\t\t} else {\n\t\t\tthis._scheduleRender();\n\t\t}\n\t}\n\n\tpublic writeScreenReaderContent(reason: string): void {\n\t\tthis._editContext.writeScreenReaderContent(reason);\n\t}\n\n\tpublic focus(): void {\n\t\tthis._editContext.focus();\n\t}\n\n\tpublic isFocused(): boolean {\n\t\treturn this._editContext.isFocused();\n\t}\n\n\tpublic refreshFocusState() {\n\t\tthis._editContext.refreshFocusState();\n\t}\n\n\tpublic setAriaOptions(options: IEditorAriaOptions): void {\n\t\tthis._editContext.setAriaOptions(options);\n\t}\n\n\tpublic addContentWidget(widgetData: IContentWidgetData): void {\n\t\tthis._contentWidgets.addWidget(widgetData.widget);\n\t\tthis.layoutContentWidget(widgetData);\n\t\tthis._scheduleRender();\n\t}\n\n\tpublic layoutContentWidget(widgetData: IContentWidgetData): void {\n\t\tthis._contentWidgets.setWidgetPosition(\n\t\t\twidgetData.widget,\n\t\t\twidgetData.position?.position ?? null,\n\t\t\twidgetData.position?.secondaryPosition ?? null,\n\t\t\twidgetData.position?.preference ?? null,\n\t\t\twidgetData.position?.positionAffinity ?? null,\n\t\t);\n\t\tthis._scheduleRender();\n\t}\n\n\tpublic removeContentWidget(widgetData: IContentWidgetData): void {\n\t\tthis._contentWidgets.removeWidget(widgetData.widget);\n\t\tthis._scheduleRender();\n\t}\n\n\tpublic addOverlayWidget(widgetData: IOverlayWidgetData): void {\n\t\tthis._overlayWidgets.addWidget(widgetData.widget);\n\t\tthis.layoutOverlayWidget(widgetData);\n\t\tthis._scheduleRender();\n\t}\n\n\tpublic layoutOverlayWidget(widgetData: IOverlayWidgetData): void {\n\t\tconst shouldRender = this._overlayWidgets.setWidgetPosition(\n\t\t\twidgetData.widget,\n\t\t\twidgetData.position,\n\t\t);\n\t\tif (shouldRender) {\n\t\t\tthis._scheduleRender();\n\t\t}\n\t}\n\n\tpublic removeOverlayWidget(widgetData: IOverlayWidgetData): void {\n\t\tthis._overlayWidgets.removeWidget(widgetData.widget);\n\t\tthis._scheduleRender();\n\t}\n\n\tpublic addGlyphMarginWidget(widgetData: IGlyphMarginWidgetData): void {\n\t\tthis._glyphMarginWidgets.addWidget(widgetData.widget);\n\t\tthis._shouldRecomputeGlyphMarginLanes = true;\n\t\tthis._scheduleRender();\n\t}\n\n\tpublic layoutGlyphMarginWidget(widgetData: IGlyphMarginWidgetData): void {\n\t\tconst newPreference = widgetData.position;\n\t\tconst shouldRender = this._glyphMarginWidgets.setWidgetPosition(\n\t\t\twidgetData.widget,\n\t\t\tnewPreference,\n\t\t);\n\t\tif (shouldRender) {\n\t\t\tthis._shouldRecomputeGlyphMarginLanes = true;\n\t\t\tthis._scheduleRender();\n\t\t}\n\t}\n\n\tpublic removeGlyphMarginWidget(widgetData: IGlyphMarginWidgetData): void {\n\t\tthis._glyphMarginWidgets.removeWidget(widgetData.widget);\n\t\tthis._shouldRecomputeGlyphMarginLanes = true;\n\t\tthis._scheduleRender();\n\t}\n\n\t// --- END CodeEditor helpers\n}\n\nfunction safeInvokeNoArg<T>(func: () => T): T | null {\n\ttry {\n\t\treturn func();\n\t} catch (e) {\n\t\tonUnexpectedError(e);\n\t\treturn null;\n\t}\n}\n\ninterface ICoordinatedRendering {\n\treadonly window: CodeWindow;\n\tprepareRenderText(): void;\n\trenderText(): [ViewPart[], RenderingContext] | null;\n\tprepareRender(viewParts: ViewPart[], ctx: RenderingContext): void;\n\trender(viewParts: ViewPart[], ctx: RestrictedRenderingContext): void;\n}\n\nclass EditorRenderingCoordinator {\n\tpublic static INSTANCE = new EditorRenderingCoordinator();\n\n\tprivate _coordinatedRenderings: ICoordinatedRendering[] = [];\n\tprivate _animationFrameRunners = new Map<CodeWindow, IDisposable>();\n\n\tprivate constructor() {}\n\n\tscheduleCoordinatedRendering(\n\t\trendering: ICoordinatedRendering,\n\t): IDisposable {\n\t\tthis._coordinatedRenderings.push(rendering);\n\t\tthis._scheduleRender(rendering.window);\n\t\treturn {\n\t\t\tdispose: () => {\n\t\t\t\tconst renderingIndex =\n\t\t\t\t\tthis._coordinatedRenderings.indexOf(rendering);\n\t\t\t\tif (renderingIndex === -1) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis._coordinatedRenderings.splice(renderingIndex, 1);\n\n\t\t\t\tif (this._coordinatedRenderings.length === 0) {\n\t\t\t\t\t// There are no more renderings to coordinate => cancel animation frames\n\t\t\t\t\tfor (const [_, disposable] of this._animationFrameRunners) {\n\t\t\t\t\t\tdisposable.dispose();\n\t\t\t\t\t}\n\t\t\t\t\tthis._animationFrameRunners.clear();\n\t\t\t\t}\n\t\t\t},\n\t\t};\n\t}\n\n\tprivate _scheduleRender(window: CodeWindow): void {\n\t\tif (!this._animationFrameRunners.has(window)) {\n\t\t\tconst runner = () => {\n\t\t\t\tthis._animationFrameRunners.delete(window);\n\t\t\t\tthis._onRenderScheduled();\n\t\t\t};\n\t\t\tthis._animationFrameRunners.set(\n\t\t\t\twindow,\n\t\t\t\tdom.runAtThisOrScheduleAtNextAnimationFrame(\n\t\t\t\t\twindow,\n\t\t\t\t\trunner,\n\t\t\t\t\t100,\n\t\t\t\t),\n\t\t\t);\n\t\t}\n\t}\n\n\tprivate _onRenderScheduled(): void {\n\t\tconst coordinatedRenderings = this._coordinatedRenderings.slice(0);\n\t\tthis._coordinatedRenderings = [];\n\n\t\tfor (const rendering of coordinatedRenderings) {\n\t\t\tsafeInvokeNoArg(() => rendering.prepareRenderText());\n\t\t}\n\n\t\tconst datas: ([ViewPart[], RenderingContext] | null)[] = [];\n\t\tfor (let i = 0, len = coordinatedRenderings.length; i < len; i++) {\n\t\t\tconst rendering = coordinatedRenderings[i];\n\t\t\tdatas[i] = safeInvokeNoArg(() => rendering.renderText());\n\t\t}\n\n\t\tfor (let i = 0, len = coordinatedRenderings.length; i < len; i++) {\n\t\t\tconst rendering = coordinatedRenderings[i];\n\t\t\tconst data = datas[i];\n\t\t\tif (!data) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tconst [viewParts, ctx] = data;\n\t\t\tsafeInvokeNoArg(() => rendering.prepareRender(viewParts, ctx));\n\t\t}\n\n\t\tfor (let i = 0, len = coordinatedRenderings.length; i < len; i++) {\n\t\t\tconst rendering = coordinatedRenderings[i];\n\t\t\tconst data = datas[i];\n\t\t\tif (!data) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tconst [viewParts, ctx] = data;\n\t\t\tsafeInvokeNoArg(() => rendering.render(viewParts, ctx));\n\t\t}\n\t}\n}\n"],
  "mappings": "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",
  "names": []
}
