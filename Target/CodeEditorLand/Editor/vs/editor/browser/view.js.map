{
  "version": 3,
  "sources": ["../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/editor/browser/view.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as dom from '../../base/browser/dom.js';\nimport { FastDomNode, createFastDomNode } from '../../base/browser/fastDomNode.js';\nimport { IMouseWheelEvent } from '../../base/browser/mouseEvent.js';\nimport { inputLatency } from '../../base/browser/performance.js';\nimport { CodeWindow } from '../../base/browser/window.js';\nimport { BugIndicatingError, onUnexpectedError } from '../../base/common/errors.js';\nimport { IDisposable } from '../../base/common/lifecycle.js';\nimport { IPointerHandlerHelper } from './controller/mouseHandler.js';\nimport { PointerHandlerLastRenderData } from './controller/mouseTarget.js';\nimport { PointerHandler } from './controller/pointerHandler.js';\nimport { IContentWidget, IContentWidgetPosition, IEditorAriaOptions, IGlyphMarginWidget, IGlyphMarginWidgetPosition, IMouseTarget, IOverlayWidget, IOverlayWidgetPosition, IViewZoneChangeAccessor } from './editorBrowser.js';\nimport { RenderingContext, RestrictedRenderingContext } from './view/renderingContext.js';\nimport { ICommandDelegate, ViewController } from './view/viewController.js';\nimport { ContentViewOverlays, MarginViewOverlays } from './view/viewOverlays.js';\nimport { PartFingerprint, PartFingerprints, ViewPart } from './view/viewPart.js';\nimport { ViewUserInputEvents } from './view/viewUserInputEvents.js';\nimport { BlockDecorations } from './viewParts/blockDecorations/blockDecorations.js';\nimport { ViewContentWidgets } from './viewParts/contentWidgets/contentWidgets.js';\nimport { CurrentLineHighlightOverlay, CurrentLineMarginHighlightOverlay } from './viewParts/currentLineHighlight/currentLineHighlight.js';\nimport { DecorationsOverlay } from './viewParts/decorations/decorations.js';\nimport { EditorScrollbar } from './viewParts/editorScrollbar/editorScrollbar.js';\nimport { GlyphMarginWidgets } from './viewParts/glyphMargin/glyphMargin.js';\nimport { IndentGuidesOverlay } from './viewParts/indentGuides/indentGuides.js';\nimport { LineNumbersOverlay } from './viewParts/lineNumbers/lineNumbers.js';\nimport { ViewLines } from './viewParts/lines/viewLines.js';\nimport { LinesDecorationsOverlay } from './viewParts/linesDecorations/linesDecorations.js';\nimport { Margin } from './viewParts/margin/margin.js';\nimport { MarginViewLineDecorationsOverlay } from './viewParts/marginDecorations/marginDecorations.js';\nimport { Minimap } from './viewParts/minimap/minimap.js';\nimport { ViewOverlayWidgets } from './viewParts/overlayWidgets/overlayWidgets.js';\nimport { DecorationsOverviewRuler } from './viewParts/overviewRuler/decorationsOverviewRuler.js';\nimport { OverviewRuler } from './viewParts/overviewRuler/overviewRuler.js';\nimport { Rulers } from './viewParts/rulers/rulers.js';\nimport { ScrollDecorationViewPart } from './viewParts/scrollDecoration/scrollDecoration.js';\nimport { SelectionsOverlay } from './viewParts/selections/selections.js';\nimport { ViewCursors } from './viewParts/viewCursors/viewCursors.js';\nimport { ViewZones } from './viewParts/viewZones/viewZones.js';\nimport { WhitespaceOverlay } from './viewParts/whitespace/whitespace.js';\nimport { IEditorConfiguration } from '../common/config/editorConfiguration.js';\nimport { EditorOption } from '../common/config/editorOptions.js';\nimport { Position } from '../common/core/position.js';\nimport { Range } from '../common/core/range.js';\nimport { Selection } from '../common/core/selection.js';\nimport { ScrollType } from '../common/editorCommon.js';\nimport { GlyphMarginLane, IGlyphMarginLanesModel } from '../common/model.js';\nimport { ViewEventHandler } from '../common/viewEventHandler.js';\nimport * as viewEvents from '../common/viewEvents.js';\nimport { ViewportData } from '../common/viewLayout/viewLinesViewportData.js';\nimport { IViewModel } from '../common/viewModel.js';\nimport { ViewContext } from '../common/viewModel/viewContext.js';\nimport { IInstantiationService } from '../../platform/instantiation/common/instantiation.js';\nimport { IColorTheme, getThemeTypeSelector } from '../../platform/theme/common/themeService.js';\nimport { ViewGpuContext } from './gpu/viewGpuContext.js';\nimport { ViewLinesGpu } from './viewParts/linesGpu/viewLinesGpu.js';\nimport { AbstractEditContext } from './controller/editContext/editContextUtils.js';\nimport { IVisibleRangeProvider, TextAreaEditContext } from './controller/editContext/textArea/textAreaEditContext.js';\nimport { NativeEditContext } from './controller/editContext/native/nativeEditContext.js';\n\n\nexport interface IContentWidgetData {\n\twidget: IContentWidget;\n\tposition: IContentWidgetPosition | null;\n}\n\nexport interface IOverlayWidgetData {\n\twidget: IOverlayWidget;\n\tposition: IOverlayWidgetPosition | null;\n}\n\nexport interface IGlyphMarginWidgetData {\n\twidget: IGlyphMarginWidget;\n\tposition: IGlyphMarginWidgetPosition;\n}\n\nexport class View extends ViewEventHandler {\n\n\tprivate readonly _scrollbar: EditorScrollbar;\n\tprivate readonly _context: ViewContext;\n\tprivate readonly _viewGpuContext?: ViewGpuContext;\n\tprivate _selections: Selection[];\n\n\t// The view lines\n\tprivate readonly _viewLines: ViewLines;\n\tprivate readonly _viewLinesGpu?: ViewLinesGpu;\n\n\t// These are parts, but we must do some API related calls on them, so we keep a reference\n\tprivate readonly _viewZones: ViewZones;\n\tprivate readonly _contentWidgets: ViewContentWidgets;\n\tprivate readonly _overlayWidgets: ViewOverlayWidgets;\n\tprivate readonly _glyphMarginWidgets: GlyphMarginWidgets;\n\tprivate readonly _viewCursors: ViewCursors;\n\tprivate readonly _viewParts: ViewPart[];\n\tprivate readonly _viewController: ViewController;\n\n\tprivate _experimentalEditContextEnabled: boolean;\n\tprivate _editContext: AbstractEditContext;\n\tprivate readonly _pointerHandler: PointerHandler;\n\n\t// Dom nodes\n\tprivate readonly _linesContent: FastDomNode<HTMLElement>;\n\tpublic readonly domNode: FastDomNode<HTMLElement>;\n\tprivate readonly _overflowGuardContainer: FastDomNode<HTMLElement>;\n\n\t// Actual mutable state\n\tprivate _shouldRecomputeGlyphMarginLanes: boolean = false;\n\tprivate _renderAnimationFrame: IDisposable | null;\n\n\tconstructor(\n\t\tcommandDelegate: ICommandDelegate,\n\t\tconfiguration: IEditorConfiguration,\n\t\tcolorTheme: IColorTheme,\n\t\tmodel: IViewModel,\n\t\tuserInputEvents: ViewUserInputEvents,\n\t\toverflowWidgetsDomNode: HTMLElement | undefined,\n\t\t@IInstantiationService private readonly _instantiationService: IInstantiationService\n\t) {\n\t\tsuper();\n\t\tthis._selections = [new Selection(1, 1, 1, 1)];\n\t\tthis._renderAnimationFrame = null;\n\n\t\tthis._viewController = new ViewController(configuration, model, userInputEvents, commandDelegate);\n\n\t\t// The view context is passed on to most classes (basically to reduce param. counts in ctors)\n\t\tthis._context = new ViewContext(configuration, colorTheme, model);\n\n\t\t// Ensure the view is the first event handler in order to update the layout\n\t\tthis._context.addEventHandler(this);\n\n\t\tthis._viewParts = [];\n\n\t\t// Keyboard handler\n\t\tthis._experimentalEditContextEnabled = this._context.configuration.options.get(EditorOption.experimentalEditContextEnabled);\n\t\tthis._editContext = this._instantiateEditContext(this._experimentalEditContextEnabled);\n\n\t\tthis._viewParts.push(this._editContext);\n\n\t\t// These two dom nodes must be constructed up front, since references are needed in the layout provider (scrolling & co.)\n\t\tthis._linesContent = createFastDomNode(document.createElement('div'));\n\t\tthis._linesContent.setClassName('lines-content' + ' monaco-editor-background');\n\t\tthis._linesContent.setPosition('absolute');\n\n\t\tthis.domNode = createFastDomNode(document.createElement('div'));\n\t\tthis.domNode.setClassName(this._getEditorClassName());\n\t\t// Set role 'code' for better screen reader support https://github.com/microsoft/vscode/issues/93438\n\t\tthis.domNode.setAttribute('role', 'code');\n\n\t\tif (this._context.configuration.options.get(EditorOption.experimentalGpuAcceleration) === 'on') {\n\t\t\tthis._viewGpuContext = new ViewGpuContext();\n\t\t}\n\n\t\tthis._overflowGuardContainer = createFastDomNode(document.createElement('div'));\n\t\tPartFingerprints.write(this._overflowGuardContainer, PartFingerprint.OverflowGuard);\n\t\tthis._overflowGuardContainer.setClassName('overflow-guard');\n\n\t\tthis._scrollbar = new EditorScrollbar(this._context, this._linesContent, this.domNode, this._overflowGuardContainer);\n\t\tthis._viewParts.push(this._scrollbar);\n\n\t\t// View Lines\n\t\tthis._viewLines = new ViewLines(this._context, this._linesContent);\n\t\tif (this._viewGpuContext) {\n\t\t\tthis._viewLinesGpu = this._instantiationService.createInstance(ViewLinesGpu, this._context, this._viewGpuContext);\n\t\t}\n\n\t\t// View Zones\n\t\tthis._viewZones = new ViewZones(this._context);\n\t\tthis._viewParts.push(this._viewZones);\n\n\t\t// Decorations overview ruler\n\t\tconst decorationsOverviewRuler = new DecorationsOverviewRuler(this._context);\n\t\tthis._viewParts.push(decorationsOverviewRuler);\n\n\n\t\tconst scrollDecoration = new ScrollDecorationViewPart(this._context);\n\t\tthis._viewParts.push(scrollDecoration);\n\n\t\tconst contentViewOverlays = new ContentViewOverlays(this._context);\n\t\tthis._viewParts.push(contentViewOverlays);\n\t\tcontentViewOverlays.addDynamicOverlay(new CurrentLineHighlightOverlay(this._context));\n\t\tcontentViewOverlays.addDynamicOverlay(new SelectionsOverlay(this._context));\n\t\tcontentViewOverlays.addDynamicOverlay(new IndentGuidesOverlay(this._context));\n\t\tcontentViewOverlays.addDynamicOverlay(new DecorationsOverlay(this._context));\n\t\tcontentViewOverlays.addDynamicOverlay(new WhitespaceOverlay(this._context));\n\n\t\tconst marginViewOverlays = new MarginViewOverlays(this._context);\n\t\tthis._viewParts.push(marginViewOverlays);\n\t\tmarginViewOverlays.addDynamicOverlay(new CurrentLineMarginHighlightOverlay(this._context));\n\t\tmarginViewOverlays.addDynamicOverlay(new MarginViewLineDecorationsOverlay(this._context));\n\t\tmarginViewOverlays.addDynamicOverlay(new LinesDecorationsOverlay(this._context));\n\t\tmarginViewOverlays.addDynamicOverlay(new LineNumbersOverlay(this._context));\n\n\t\t// Glyph margin widgets\n\t\tthis._glyphMarginWidgets = new GlyphMarginWidgets(this._context);\n\t\tthis._viewParts.push(this._glyphMarginWidgets);\n\n\t\tconst margin = new Margin(this._context);\n\t\tmargin.getDomNode().appendChild(this._viewZones.marginDomNode);\n\t\tmargin.getDomNode().appendChild(marginViewOverlays.getDomNode());\n\t\tmargin.getDomNode().appendChild(this._glyphMarginWidgets.domNode);\n\t\tthis._viewParts.push(margin);\n\n\t\t// Content widgets\n\t\tthis._contentWidgets = new ViewContentWidgets(this._context, this.domNode);\n\t\tthis._viewParts.push(this._contentWidgets);\n\n\t\tthis._viewCursors = new ViewCursors(this._context);\n\t\tthis._viewParts.push(this._viewCursors);\n\n\t\t// Overlay widgets\n\t\tthis._overlayWidgets = new ViewOverlayWidgets(this._context, this.domNode);\n\t\tthis._viewParts.push(this._overlayWidgets);\n\n\t\tconst rulers = new Rulers(this._context);\n\t\tthis._viewParts.push(rulers);\n\n\t\tconst blockOutline = new BlockDecorations(this._context);\n\t\tthis._viewParts.push(blockOutline);\n\n\t\tconst minimap = new Minimap(this._context);\n\t\tthis._viewParts.push(minimap);\n\n\t\t// -------------- Wire dom nodes up\n\n\t\tif (decorationsOverviewRuler) {\n\t\t\tconst overviewRulerData = this._scrollbar.getOverviewRulerLayoutInfo();\n\t\t\toverviewRulerData.parent.insertBefore(decorationsOverviewRuler.getDomNode(), overviewRulerData.insertBefore);\n\t\t}\n\n\t\tthis._linesContent.appendChild(contentViewOverlays.getDomNode());\n\t\tthis._linesContent.appendChild(rulers.domNode);\n\t\tthis._linesContent.appendChild(this._viewZones.domNode);\n\t\tthis._linesContent.appendChild(this._viewLines.getDomNode());\n\t\tthis._linesContent.appendChild(this._contentWidgets.domNode);\n\t\tthis._linesContent.appendChild(this._viewCursors.getDomNode());\n\t\tthis._overflowGuardContainer.appendChild(margin.getDomNode());\n\t\tthis._overflowGuardContainer.appendChild(this._scrollbar.getDomNode());\n\t\tif (this._viewGpuContext) {\n\t\t\tthis._overflowGuardContainer.appendChild(this._viewGpuContext.canvas);\n\t\t}\n\t\tthis._overflowGuardContainer.appendChild(scrollDecoration.getDomNode());\n\t\tthis._editContext.appendTo(this._overflowGuardContainer);\n\t\tthis._overflowGuardContainer.appendChild(this._overlayWidgets.getDomNode());\n\t\tthis._overflowGuardContainer.appendChild(minimap.getDomNode());\n\t\tthis._overflowGuardContainer.appendChild(blockOutline.domNode);\n\t\tthis.domNode.appendChild(this._overflowGuardContainer);\n\n\t\tif (overflowWidgetsDomNode) {\n\t\t\toverflowWidgetsDomNode.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode.domNode);\n\t\t\toverflowWidgetsDomNode.appendChild(this._overlayWidgets.overflowingOverlayWidgetsDomNode.domNode);\n\t\t} else {\n\t\t\tthis.domNode.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode);\n\t\t\tthis.domNode.appendChild(this._overlayWidgets.overflowingOverlayWidgetsDomNode);\n\t\t}\n\n\t\tthis._applyLayout();\n\n\t\t// Pointer handler\n\t\tthis._pointerHandler = this._register(new PointerHandler(this._context, this._viewController, this._createPointerHandlerHelper()));\n\t}\n\n\tprivate _instantiateEditContext(experimentalEditContextEnabled: boolean): AbstractEditContext {\n\t\treturn experimentalEditContextEnabled\n\t\t\t? this._instantiationService.createInstance(NativeEditContext, this._context, this._viewController)\n\t\t\t: this._instantiationService.createInstance(TextAreaEditContext, this._context, this._viewController, this._createTextAreaHandlerHelper());\n\t}\n\n\tprivate _updateEditContext(): void {\n\t\tconst experimentalEditContextEnabled = this._context.configuration.options.get(EditorOption.experimentalEditContextEnabled);\n\t\tif (this._experimentalEditContextEnabled === experimentalEditContextEnabled) {\n\t\t\treturn;\n\t\t}\n\t\tthis._experimentalEditContextEnabled = experimentalEditContextEnabled;\n\t\tthis._editContext.dispose();\n\t\tthis._editContext = this._instantiateEditContext(experimentalEditContextEnabled);\n\t\tthis._editContext.appendTo(this._overflowGuardContainer);\n\t\t// Replace the view parts with the new edit context\n\t\tconst indexOfEditContextHandler = this._viewParts.indexOf(this._editContext);\n\t\tif (indexOfEditContextHandler !== -1) {\n\t\t\tthis._viewParts.splice(indexOfEditContextHandler, 1, this._editContext);\n\t\t}\n\t}\n\n\tprivate _computeGlyphMarginLanes(): IGlyphMarginLanesModel {\n\t\tconst model = this._context.viewModel.model;\n\t\tconst laneModel = this._context.viewModel.glyphLanes;\n\t\ttype Glyph = { range: Range; lane: GlyphMarginLane; persist?: boolean };\n\t\tlet glyphs: Glyph[] = [];\n\t\tlet maxLineNumber = 0;\n\n\t\t// Add all margin decorations\n\t\tglyphs = glyphs.concat(model.getAllMarginDecorations().map((decoration) => {\n\t\t\tconst lane = decoration.options.glyphMargin?.position ?? GlyphMarginLane.Center;\n\t\t\tmaxLineNumber = Math.max(maxLineNumber, decoration.range.endLineNumber);\n\t\t\treturn { range: decoration.range, lane, persist: decoration.options.glyphMargin?.persistLane };\n\t\t}));\n\n\t\t// Add all glyph margin widgets\n\t\tglyphs = glyphs.concat(this._glyphMarginWidgets.getWidgets().map((widget) => {\n\t\t\tconst range = model.validateRange(widget.preference.range);\n\t\t\tmaxLineNumber = Math.max(maxLineNumber, range.endLineNumber);\n\t\t\treturn { range, lane: widget.preference.lane };\n\t\t}));\n\n\t\t// Sorted by their start position\n\t\tglyphs.sort((a, b) => Range.compareRangesUsingStarts(a.range, b.range));\n\n\t\tlaneModel.reset(maxLineNumber);\n\t\tfor (const glyph of glyphs) {\n\t\t\tlaneModel.push(glyph.lane, glyph.range, glyph.persist);\n\t\t}\n\n\t\treturn laneModel;\n\t}\n\n\tprivate _createPointerHandlerHelper(): IPointerHandlerHelper {\n\t\treturn {\n\t\t\tviewDomNode: this.domNode.domNode,\n\t\t\tlinesContentDomNode: this._linesContent.domNode,\n\t\t\tviewLinesDomNode: this._viewLines.getDomNode().domNode,\n\n\t\t\tfocusTextArea: () => {\n\t\t\t\tthis.focus();\n\t\t\t},\n\n\t\t\tdispatchTextAreaEvent: (event: CustomEvent) => {\n\t\t\t\tthis._editContext.domNode.domNode.dispatchEvent(event);\n\t\t\t},\n\n\t\t\tgetLastRenderData: (): PointerHandlerLastRenderData => {\n\t\t\t\tconst lastViewCursorsRenderData = this._viewCursors.getLastRenderData() || [];\n\t\t\t\tconst lastTextareaPosition = this._editContext.getLastRenderData();\n\t\t\t\treturn new PointerHandlerLastRenderData(lastViewCursorsRenderData, lastTextareaPosition);\n\t\t\t},\n\t\t\trenderNow: (): void => {\n\t\t\t\tthis.render(true, false);\n\t\t\t},\n\t\t\tshouldSuppressMouseDownOnViewZone: (viewZoneId: string) => {\n\t\t\t\treturn this._viewZones.shouldSuppressMouseDownOnViewZone(viewZoneId);\n\t\t\t},\n\t\t\tshouldSuppressMouseDownOnWidget: (widgetId: string) => {\n\t\t\t\treturn this._contentWidgets.shouldSuppressMouseDownOnWidget(widgetId);\n\t\t\t},\n\t\t\tgetPositionFromDOMInfo: (spanNode: HTMLElement, offset: number) => {\n\t\t\t\tthis._flushAccumulatedAndRenderNow();\n\t\t\t\treturn this._viewLines.getPositionFromDOMInfo(spanNode, offset);\n\t\t\t},\n\n\t\t\tvisibleRangeForPosition: (lineNumber: number, column: number) => {\n\t\t\t\tthis._flushAccumulatedAndRenderNow();\n\t\t\t\treturn this._viewLines.visibleRangeForPosition(new Position(lineNumber, column));\n\t\t\t},\n\n\t\t\tgetLineWidth: (lineNumber: number) => {\n\t\t\t\tthis._flushAccumulatedAndRenderNow();\n\t\t\t\treturn this._viewLines.getLineWidth(lineNumber);\n\t\t\t}\n\t\t};\n\t}\n\n\tprivate _createTextAreaHandlerHelper(): IVisibleRangeProvider {\n\t\treturn {\n\t\t\tvisibleRangeForPosition: (position: Position) => {\n\t\t\t\tthis._flushAccumulatedAndRenderNow();\n\t\t\t\treturn this._viewLines.visibleRangeForPosition(position);\n\t\t\t}\n\t\t};\n\t}\n\n\tprivate _applyLayout(): void {\n\t\tconst options = this._context.configuration.options;\n\t\tconst layoutInfo = options.get(EditorOption.layoutInfo);\n\n\t\tthis.domNode.setWidth(layoutInfo.width);\n\t\tthis.domNode.setHeight(layoutInfo.height);\n\n\t\tthis._overflowGuardContainer.setWidth(layoutInfo.width);\n\t\tthis._overflowGuardContainer.setHeight(layoutInfo.height);\n\n\t\t// https://stackoverflow.com/questions/38905916/content-in-google-chrome-larger-than-16777216-px-not-being-rendered\n\t\tthis._linesContent.setWidth(16777216);\n\t\tthis._linesContent.setHeight(16777216);\n\t}\n\n\tprivate _getEditorClassName() {\n\t\tconst focused = this._editContext.isFocused() ? ' focused' : '';\n\t\treturn this._context.configuration.options.get(EditorOption.editorClassName) + ' ' + getThemeTypeSelector(this._context.theme.type) + focused;\n\t}\n\n\t// --- begin event handlers\n\tpublic override handleEvents(events: viewEvents.ViewEvent[]): void {\n\t\tsuper.handleEvents(events);\n\t\tthis._scheduleRender();\n\t}\n\tpublic override onConfigurationChanged(e: viewEvents.ViewConfigurationChangedEvent): boolean {\n\t\tthis.domNode.setClassName(this._getEditorClassName());\n\t\tthis._updateEditContext();\n\t\tthis._applyLayout();\n\t\treturn false;\n\t}\n\tpublic override onCursorStateChanged(e: viewEvents.ViewCursorStateChangedEvent): boolean {\n\t\tthis._selections = e.selections;\n\t\treturn false;\n\t}\n\tpublic override onDecorationsChanged(e: viewEvents.ViewDecorationsChangedEvent): boolean {\n\t\tif (e.affectsGlyphMargin) {\n\t\t\tthis._shouldRecomputeGlyphMarginLanes = true;\n\t\t}\n\t\treturn false;\n\t}\n\tpublic override onFocusChanged(e: viewEvents.ViewFocusChangedEvent): boolean {\n\t\tthis.domNode.setClassName(this._getEditorClassName());\n\t\treturn false;\n\t}\n\tpublic override onThemeChanged(e: viewEvents.ViewThemeChangedEvent): boolean {\n\t\tthis._context.theme.update(e.theme);\n\t\tthis.domNode.setClassName(this._getEditorClassName());\n\t\treturn false;\n\t}\n\n\t// --- end event handlers\n\n\tpublic override dispose(): void {\n\t\tif (this._renderAnimationFrame !== null) {\n\t\t\tthis._renderAnimationFrame.dispose();\n\t\t\tthis._renderAnimationFrame = null;\n\t\t}\n\n\t\tthis._contentWidgets.overflowingContentWidgetsDomNode.domNode.remove();\n\n\t\tthis._context.removeEventHandler(this);\n\t\tthis._viewGpuContext?.dispose();\n\n\t\tthis._viewLines.dispose();\n\t\tthis._viewLinesGpu?.dispose();\n\n\t\t// Destroy view parts\n\t\tfor (const viewPart of this._viewParts) {\n\t\t\tviewPart.dispose();\n\t\t}\n\n\t\tsuper.dispose();\n\t}\n\n\tprivate _scheduleRender(): void {\n\t\tif (this._store.isDisposed) {\n\t\t\tthrow new BugIndicatingError();\n\t\t}\n\t\tif (this._renderAnimationFrame === null) {\n\t\t\tconst rendering = this._createCoordinatedRendering();\n\t\t\tthis._renderAnimationFrame = EditorRenderingCoordinator.INSTANCE.scheduleCoordinatedRendering({\n\t\t\t\twindow: dom.getWindow(this.domNode?.domNode),\n\t\t\t\tprepareRenderText: () => {\n\t\t\t\t\tif (this._store.isDisposed) {\n\t\t\t\t\t\tthrow new BugIndicatingError();\n\t\t\t\t\t}\n\t\t\t\t\ttry {\n\t\t\t\t\t\treturn rendering.prepareRenderText();\n\t\t\t\t\t} finally {\n\t\t\t\t\t\tthis._renderAnimationFrame = null;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\trenderText: () => {\n\t\t\t\t\tif (this._store.isDisposed) {\n\t\t\t\t\t\tthrow new BugIndicatingError();\n\t\t\t\t\t}\n\t\t\t\t\treturn rendering.renderText();\n\t\t\t\t},\n\t\t\t\tprepareRender: (viewParts: ViewPart[], ctx: RenderingContext) => {\n\t\t\t\t\tif (this._store.isDisposed) {\n\t\t\t\t\t\tthrow new BugIndicatingError();\n\t\t\t\t\t}\n\t\t\t\t\treturn rendering.prepareRender(viewParts, ctx);\n\t\t\t\t},\n\t\t\t\trender: (viewParts: ViewPart[], ctx: RestrictedRenderingContext) => {\n\t\t\t\t\tif (this._store.isDisposed) {\n\t\t\t\t\t\tthrow new BugIndicatingError();\n\t\t\t\t\t}\n\t\t\t\t\treturn rendering.render(viewParts, ctx);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\tprivate _flushAccumulatedAndRenderNow(): void {\n\t\tconst rendering = this._createCoordinatedRendering();\n\t\tsafeInvokeNoArg(() => rendering.prepareRenderText());\n\t\tconst data = safeInvokeNoArg(() => rendering.renderText());\n\t\tif (data) {\n\t\t\tconst [viewParts, ctx] = data;\n\t\t\tsafeInvokeNoArg(() => rendering.prepareRender(viewParts, ctx));\n\t\t\tsafeInvokeNoArg(() => rendering.render(viewParts, ctx));\n\t\t}\n\t}\n\n\tprivate _getViewPartsToRender(): ViewPart[] {\n\t\tconst result: ViewPart[] = [];\n\t\tlet resultLen = 0;\n\t\tfor (const viewPart of this._viewParts) {\n\t\t\tif (viewPart.shouldRender()) {\n\t\t\t\tresult[resultLen++] = viewPart;\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tprivate _createCoordinatedRendering() {\n\t\treturn {\n\t\t\tprepareRenderText: () => {\n\t\t\t\tif (this._shouldRecomputeGlyphMarginLanes) {\n\t\t\t\t\tthis._shouldRecomputeGlyphMarginLanes = false;\n\t\t\t\t\tconst model = this._computeGlyphMarginLanes();\n\t\t\t\t\tthis._context.configuration.setGlyphMarginDecorationLaneCount(model.requiredLanes);\n\t\t\t\t}\n\t\t\t\tinputLatency.onRenderStart();\n\t\t\t},\n\t\t\trenderText: (): [ViewPart[], RenderingContext] | null => {\n\t\t\t\tif (!this.domNode.domNode.isConnected) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\tlet viewPartsToRender = this._getViewPartsToRender();\n\t\t\t\tif (!this._viewLines.shouldRender() && viewPartsToRender.length === 0) {\n\t\t\t\t\t// Nothing to render\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\tconst partialViewportData = this._context.viewLayout.getLinesViewportData();\n\t\t\t\tthis._context.viewModel.setViewport(partialViewportData.startLineNumber, partialViewportData.endLineNumber, partialViewportData.centeredLineNumber);\n\n\t\t\t\tconst viewportData = new ViewportData(\n\t\t\t\t\tthis._selections,\n\t\t\t\t\tpartialViewportData,\n\t\t\t\t\tthis._context.viewLayout.getWhitespaceViewportData(),\n\t\t\t\t\tthis._context.viewModel\n\t\t\t\t);\n\n\t\t\t\tif (this._contentWidgets.shouldRender()) {\n\t\t\t\t\t// Give the content widgets a chance to set their max width before a possible synchronous layout\n\t\t\t\t\tthis._contentWidgets.onBeforeRender(viewportData);\n\t\t\t\t}\n\n\t\t\t\tif (this._viewLines.shouldRender()) {\n\t\t\t\t\tthis._viewLines.renderText(viewportData);\n\t\t\t\t\tthis._viewLines.onDidRender();\n\n\t\t\t\t\t// Rendering of viewLines might cause scroll events to occur, so collect view parts to render again\n\t\t\t\t\tviewPartsToRender = this._getViewPartsToRender();\n\t\t\t\t}\n\n\t\t\t\tif (this._viewLinesGpu?.shouldRender()) {\n\t\t\t\t\tthis._viewLinesGpu.renderText(viewportData);\n\t\t\t\t\tthis._viewLinesGpu.onDidRender();\n\t\t\t\t}\n\n\t\t\t\treturn [viewPartsToRender, new RenderingContext(this._context.viewLayout, viewportData, this._viewLines)];\n\t\t\t},\n\t\t\tprepareRender: (viewPartsToRender: ViewPart[], ctx: RenderingContext) => {\n\t\t\t\tfor (const viewPart of viewPartsToRender) {\n\t\t\t\t\tviewPart.prepareRender(ctx);\n\t\t\t\t}\n\t\t\t},\n\t\t\trender: (viewPartsToRender: ViewPart[], ctx: RestrictedRenderingContext) => {\n\t\t\t\tfor (const viewPart of viewPartsToRender) {\n\t\t\t\t\tviewPart.render(ctx);\n\t\t\t\t\tviewPart.onDidRender();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n\n\t// --- BEGIN CodeEditor helpers\n\n\tpublic delegateVerticalScrollbarPointerDown(browserEvent: PointerEvent): void {\n\t\tthis._scrollbar.delegateVerticalScrollbarPointerDown(browserEvent);\n\t}\n\n\tpublic delegateScrollFromMouseWheelEvent(browserEvent: IMouseWheelEvent) {\n\t\tthis._scrollbar.delegateScrollFromMouseWheelEvent(browserEvent);\n\t}\n\n\tpublic restoreState(scrollPosition: { scrollLeft: number; scrollTop: number }): void {\n\t\tthis._context.viewModel.viewLayout.setScrollPosition({\n\t\t\tscrollTop: scrollPosition.scrollTop,\n\t\t\tscrollLeft: scrollPosition.scrollLeft\n\t\t}, ScrollType.Immediate);\n\t\tthis._context.viewModel.visibleLinesStabilized();\n\t}\n\n\tpublic getOffsetForColumn(modelLineNumber: number, modelColumn: number): number {\n\t\tconst modelPosition = this._context.viewModel.model.validatePosition({\n\t\t\tlineNumber: modelLineNumber,\n\t\t\tcolumn: modelColumn\n\t\t});\n\t\tconst viewPosition = this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(modelPosition);\n\t\tthis._flushAccumulatedAndRenderNow();\n\t\tconst visibleRange = this._viewLines.visibleRangeForPosition(new Position(viewPosition.lineNumber, viewPosition.column));\n\t\tif (!visibleRange) {\n\t\t\treturn -1;\n\t\t}\n\t\treturn visibleRange.left;\n\t}\n\n\tpublic getTargetAtClientPoint(clientX: number, clientY: number): IMouseTarget | null {\n\t\tconst mouseTarget = this._pointerHandler.getTargetAtClientPoint(clientX, clientY);\n\t\tif (!mouseTarget) {\n\t\t\treturn null;\n\t\t}\n\t\treturn ViewUserInputEvents.convertViewToModelMouseTarget(mouseTarget, this._context.viewModel.coordinatesConverter);\n\t}\n\n\tpublic createOverviewRuler(cssClassName: string): OverviewRuler {\n\t\treturn new OverviewRuler(this._context, cssClassName);\n\t}\n\n\tpublic change(callback: (changeAccessor: IViewZoneChangeAccessor) => any): void {\n\t\tthis._viewZones.changeViewZones(callback);\n\t\tthis._scheduleRender();\n\t}\n\n\tpublic render(now: boolean, everything: boolean): void {\n\t\tif (everything) {\n\t\t\t// Force everything to render...\n\t\t\tthis._viewLines.forceShouldRender();\n\t\t\tfor (const viewPart of this._viewParts) {\n\t\t\t\tviewPart.forceShouldRender();\n\t\t\t}\n\t\t}\n\t\tif (now) {\n\t\t\tthis._flushAccumulatedAndRenderNow();\n\t\t} else {\n\t\t\tthis._scheduleRender();\n\t\t}\n\t}\n\n\tpublic writeScreenReaderContent(reason: string): void {\n\t\tthis._editContext.writeScreenReaderContent(reason);\n\t}\n\n\tpublic focus(): void {\n\t\tthis._editContext.focus();\n\t}\n\n\tpublic isFocused(): boolean {\n\t\treturn this._editContext.isFocused();\n\t}\n\n\tpublic refreshFocusState() {\n\t\tthis._editContext.refreshFocusState();\n\t}\n\n\tpublic setAriaOptions(options: IEditorAriaOptions): void {\n\t\tthis._editContext.setAriaOptions(options);\n\t}\n\n\tpublic addContentWidget(widgetData: IContentWidgetData): void {\n\t\tthis._contentWidgets.addWidget(widgetData.widget);\n\t\tthis.layoutContentWidget(widgetData);\n\t\tthis._scheduleRender();\n\t}\n\n\tpublic layoutContentWidget(widgetData: IContentWidgetData): void {\n\t\tthis._contentWidgets.setWidgetPosition(\n\t\t\twidgetData.widget,\n\t\t\twidgetData.position?.position ?? null,\n\t\t\twidgetData.position?.secondaryPosition ?? null,\n\t\t\twidgetData.position?.preference ?? null,\n\t\t\twidgetData.position?.positionAffinity ?? null\n\t\t);\n\t\tthis._scheduleRender();\n\t}\n\n\tpublic removeContentWidget(widgetData: IContentWidgetData): void {\n\t\tthis._contentWidgets.removeWidget(widgetData.widget);\n\t\tthis._scheduleRender();\n\t}\n\n\tpublic addOverlayWidget(widgetData: IOverlayWidgetData): void {\n\t\tthis._overlayWidgets.addWidget(widgetData.widget);\n\t\tthis.layoutOverlayWidget(widgetData);\n\t\tthis._scheduleRender();\n\t}\n\n\tpublic layoutOverlayWidget(widgetData: IOverlayWidgetData): void {\n\t\tconst shouldRender = this._overlayWidgets.setWidgetPosition(widgetData.widget, widgetData.position);\n\t\tif (shouldRender) {\n\t\t\tthis._scheduleRender();\n\t\t}\n\t}\n\n\tpublic removeOverlayWidget(widgetData: IOverlayWidgetData): void {\n\t\tthis._overlayWidgets.removeWidget(widgetData.widget);\n\t\tthis._scheduleRender();\n\t}\n\n\tpublic addGlyphMarginWidget(widgetData: IGlyphMarginWidgetData): void {\n\t\tthis._glyphMarginWidgets.addWidget(widgetData.widget);\n\t\tthis._shouldRecomputeGlyphMarginLanes = true;\n\t\tthis._scheduleRender();\n\t}\n\n\tpublic layoutGlyphMarginWidget(widgetData: IGlyphMarginWidgetData): void {\n\t\tconst newPreference = widgetData.position;\n\t\tconst shouldRender = this._glyphMarginWidgets.setWidgetPosition(widgetData.widget, newPreference);\n\t\tif (shouldRender) {\n\t\t\tthis._shouldRecomputeGlyphMarginLanes = true;\n\t\t\tthis._scheduleRender();\n\t\t}\n\t}\n\n\tpublic removeGlyphMarginWidget(widgetData: IGlyphMarginWidgetData): void {\n\t\tthis._glyphMarginWidgets.removeWidget(widgetData.widget);\n\t\tthis._shouldRecomputeGlyphMarginLanes = true;\n\t\tthis._scheduleRender();\n\t}\n\n\t// --- END CodeEditor helpers\n\n}\n\nfunction safeInvokeNoArg<T>(func: () => T): T | null {\n\ttry {\n\t\treturn func();\n\t} catch (e) {\n\t\tonUnexpectedError(e);\n\t\treturn null;\n\t}\n}\n\ninterface ICoordinatedRendering {\n\treadonly window: CodeWindow;\n\tprepareRenderText(): void;\n\trenderText(): [ViewPart[], RenderingContext] | null;\n\tprepareRender(viewParts: ViewPart[], ctx: RenderingContext): void;\n\trender(viewParts: ViewPart[], ctx: RestrictedRenderingContext): void;\n}\n\nclass EditorRenderingCoordinator {\n\n\tpublic static INSTANCE = new EditorRenderingCoordinator();\n\n\tprivate _coordinatedRenderings: ICoordinatedRendering[] = [];\n\tprivate _animationFrameRunners = new Map<CodeWindow, IDisposable>();\n\n\tprivate constructor() { }\n\n\tscheduleCoordinatedRendering(rendering: ICoordinatedRendering): IDisposable {\n\t\tthis._coordinatedRenderings.push(rendering);\n\t\tthis._scheduleRender(rendering.window);\n\t\treturn {\n\t\t\tdispose: () => {\n\t\t\t\tconst renderingIndex = this._coordinatedRenderings.indexOf(rendering);\n\t\t\t\tif (renderingIndex === -1) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis._coordinatedRenderings.splice(renderingIndex, 1);\n\n\t\t\t\tif (this._coordinatedRenderings.length === 0) {\n\t\t\t\t\t// There are no more renderings to coordinate => cancel animation frames\n\t\t\t\t\tfor (const [_, disposable] of this._animationFrameRunners) {\n\t\t\t\t\t\tdisposable.dispose();\n\t\t\t\t\t}\n\t\t\t\t\tthis._animationFrameRunners.clear();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n\n\tprivate _scheduleRender(window: CodeWindow): void {\n\t\tif (!this._animationFrameRunners.has(window)) {\n\t\t\tconst runner = () => {\n\t\t\t\tthis._animationFrameRunners.delete(window);\n\t\t\t\tthis._onRenderScheduled();\n\t\t\t};\n\t\t\tthis._animationFrameRunners.set(window, dom.runAtThisOrScheduleAtNextAnimationFrame(window, runner, 100));\n\t\t}\n\t}\n\n\tprivate _onRenderScheduled(): void {\n\t\tconst coordinatedRenderings = this._coordinatedRenderings.slice(0);\n\t\tthis._coordinatedRenderings = [];\n\n\t\tfor (const rendering of coordinatedRenderings) {\n\t\t\tsafeInvokeNoArg(() => rendering.prepareRenderText());\n\t\t}\n\n\t\tconst datas: ([ViewPart[], RenderingContext] | null)[] = [];\n\t\tfor (let i = 0, len = coordinatedRenderings.length; i < len; i++) {\n\t\t\tconst rendering = coordinatedRenderings[i];\n\t\t\tdatas[i] = safeInvokeNoArg(() => rendering.renderText());\n\t\t}\n\n\t\tfor (let i = 0, len = coordinatedRenderings.length; i < len; i++) {\n\t\t\tconst rendering = coordinatedRenderings[i];\n\t\t\tconst data = datas[i];\n\t\t\tif (!data) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tconst [viewParts, ctx] = data;\n\t\t\tsafeInvokeNoArg(() => rendering.prepareRender(viewParts, ctx));\n\t\t}\n\n\t\tfor (let i = 0, len = coordinatedRenderings.length; i < len; i++) {\n\t\t\tconst rendering = coordinatedRenderings[i];\n\t\t\tconst data = datas[i];\n\t\t\tif (!data) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tconst [viewParts, ctx] = data;\n\t\t\tsafeInvokeNoArg(() => rendering.render(viewParts, ctx));\n\t\t}\n\t}\n}\n"],
  "mappings": "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",
  "names": []
}
