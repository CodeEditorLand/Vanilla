{
  "version": 3,
  "sources": ["../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/editor/browser/widget/codeEditor/codeEditorWidget.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport \"../../services/markerDecorations.js\";\nimport * as dom from \"../../../../base/browser/dom.js\";\nimport type { IKeyboardEvent } from \"../../../../base/browser/keyboardEvent.js\";\nimport type { IMouseWheelEvent } from \"../../../../base/browser/mouseEvent.js\";\nimport type { Color } from \"../../../../base/common/color.js\";\nimport { onUnexpectedError } from \"../../../../base/common/errors.js\";\nimport {\n\tEmitter,\n\ttype EmitterOptions,\n\ttype Event,\n\ttype EventDeliveryQueue,\n\tcreateEventDeliveryQueue,\n} from \"../../../../base/common/event.js\";\nimport { hash } from \"../../../../base/common/hash.js\";\nimport {\n\tDisposable,\n\ttype DisposableStore,\n\ttype IDisposable,\n\tdispose,\n} from \"../../../../base/common/lifecycle.js\";\nimport { Schemas } from \"../../../../base/common/network.js\";\nimport \"./editor.css\";\nimport * as nls from \"../../../../nls.js\";\nimport { IAccessibilityService } from \"../../../../platform/accessibility/common/accessibility.js\";\nimport { MenuId } from \"../../../../platform/actions/common/actions.js\";\nimport { ICommandService } from \"../../../../platform/commands/common/commands.js\";\nimport {\n\ttype ContextKeyValue,\n\ttype IContextKey,\n\tIContextKeyService,\n} from \"../../../../platform/contextkey/common/contextkey.js\";\nimport {\n\tIInstantiationService,\n\ttype ServicesAccessor,\n} from \"../../../../platform/instantiation/common/instantiation.js\";\nimport { ServiceCollection } from \"../../../../platform/instantiation/common/serviceCollection.js\";\nimport {\n\tINotificationService,\n\tSeverity,\n} from \"../../../../platform/notification/common/notification.js\";\nimport {\n\teditorErrorForeground,\n\teditorHintForeground,\n\teditorInfoForeground,\n\teditorWarningForeground,\n} from \"../../../../platform/theme/common/colorRegistry.js\";\nimport {\n\tIThemeService,\n\tregisterThemingParticipant,\n} from \"../../../../platform/theme/common/themeService.js\";\nimport type { IEditorConfiguration } from \"../../../common/config/editorConfiguration.js\";\nimport {\n\ttype ConfigurationChangedEvent,\n\ttype EditorLayoutInfo,\n\tEditorOption,\n\ttype FindComputedEditorOptionValueById,\n\ttype IComputedEditorOptions,\n\ttype IEditorOptions,\n\tfilterValidationDecorations,\n} from \"../../../common/config/editorOptions.js\";\nimport { CursorColumns } from \"../../../common/core/cursorColumns.js\";\nimport type { IDimension } from \"../../../common/core/dimension.js\";\nimport { editorUnnecessaryCodeOpacity } from \"../../../common/core/editorColorRegistry.js\";\nimport { type IPosition, Position } from \"../../../common/core/position.js\";\nimport { type IRange, Range } from \"../../../common/core/range.js\";\nimport { type ISelection, Selection } from \"../../../common/core/selection.js\";\nimport type { IWordAtPosition } from \"../../../common/core/wordHelper.js\";\nimport { WordOperations } from \"../../../common/cursor/cursorWordOperations.js\";\nimport {\n\tCursorChangeReason,\n\ttype ICursorPositionChangedEvent,\n\ttype ICursorSelectionChangedEvent,\n} from \"../../../common/cursorEvents.js\";\nimport { InternalEditorAction } from \"../../../common/editorAction.js\";\nimport * as editorCommon from \"../../../common/editorCommon.js\";\nimport { EditorContextKeys } from \"../../../common/editorContextKeys.js\";\nimport { ILanguageConfigurationService } from \"../../../common/languages/languageConfigurationRegistry.js\";\nimport {\n\tEndOfLinePreference,\n\ttype IAttachedView,\n\ttype ICursorStateComputer,\n\ttype IIdentifiedSingleEditOperation,\n\ttype IModelDecoration,\n\ttype IModelDecorationOptions,\n\ttype IModelDecorationsChangeAccessor,\n\ttype IModelDeltaDecoration,\n\ttype ITextModel,\n} from \"../../../common/model.js\";\nimport { ClassName } from \"../../../common/model/intervalTree.js\";\nimport { ModelDecorationOptions } from \"../../../common/model/textModel.js\";\nimport { ILanguageFeaturesService } from \"../../../common/services/languageFeatures.js\";\nimport type {\n\tIModelContentChangedEvent,\n\tIModelDecorationsChangedEvent,\n\tIModelLanguageChangedEvent,\n\tIModelLanguageConfigurationChangedEvent,\n\tIModelOptionsChangedEvent,\n\tIModelTokensChangedEvent,\n} from \"../../../common/textModelEvents.js\";\nimport { VerticalRevealType } from \"../../../common/viewEvents.js\";\nimport type {\n\tIEditorWhitespace,\n\tIViewModel,\n} from \"../../../common/viewModel.js\";\nimport { MonospaceLineBreaksComputerFactory } from \"../../../common/viewModel/monospaceLineBreaksComputer.js\";\nimport { ViewModel } from \"../../../common/viewModel/viewModelImpl.js\";\nimport { OutgoingViewModelEventKind } from \"../../../common/viewModelEventDispatcher.js\";\nimport { applyFontInfo } from \"../../config/domFontInfo.js\";\nimport {\n\tEditorConfiguration,\n\ttype IEditorConstructionOptions,\n} from \"../../config/editorConfiguration.js\";\nimport { TabFocus } from \"../../config/tabFocus.js\";\nimport type * as editorBrowser from \"../../editorBrowser.js\";\nimport {\n\tEditorExtensionsRegistry,\n\ttype IEditorContributionDescription,\n} from \"../../editorExtensions.js\";\nimport { ICodeEditorService } from \"../../services/codeEditorService.js\";\nimport {\n\ttype IContentWidgetData,\n\ttype IGlyphMarginWidgetData,\n\ttype IOverlayWidgetData,\n\tView,\n} from \"../../view.js\";\nimport { DOMLineBreaksComputerFactory } from \"../../view/domLineBreaksComputer.js\";\nimport type { ICommandDelegate } from \"../../view/viewController.js\";\nimport { ViewUserInputEvents } from \"../../view/viewUserInputEvents.js\";\nimport { CodeEditorContributions } from \"./codeEditorContributions.js\";\n\nexport class CodeEditorWidget\n\textends Disposable\n\timplements editorBrowser.ICodeEditor\n{\n\tprivate static readonly dropIntoEditorDecorationOptions =\n\t\tModelDecorationOptions.register({\n\t\t\tdescription: \"workbench-dnd-target\",\n\t\t\tclassName: \"dnd-target\",\n\t\t});\n\n\t//#region Eventing\n\n\tprivate readonly _deliveryQueue = createEventDeliveryQueue();\n\tprotected readonly _contributions: CodeEditorContributions = this._register(\n\t\tnew CodeEditorContributions(),\n\t);\n\n\tprivate readonly _onDidDispose: Emitter<void> = this._register(\n\t\tnew Emitter<void>(),\n\t);\n\tpublic readonly onDidDispose: Event<void> = this._onDidDispose.event;\n\n\tprivate readonly _onDidChangeModelContent: Emitter<IModelContentChangedEvent> =\n\t\tthis._register(\n\t\t\tnew Emitter<IModelContentChangedEvent>({\n\t\t\t\tdeliveryQueue: this._deliveryQueue,\n\t\t\t}),\n\t\t);\n\tpublic readonly onDidChangeModelContent: Event<IModelContentChangedEvent> =\n\t\tthis._onDidChangeModelContent.event;\n\n\tprivate readonly _onDidChangeModelLanguage: Emitter<IModelLanguageChangedEvent> =\n\t\tthis._register(\n\t\t\tnew Emitter<IModelLanguageChangedEvent>({\n\t\t\t\tdeliveryQueue: this._deliveryQueue,\n\t\t\t}),\n\t\t);\n\tpublic readonly onDidChangeModelLanguage: Event<IModelLanguageChangedEvent> =\n\t\tthis._onDidChangeModelLanguage.event;\n\n\tprivate readonly _onDidChangeModelLanguageConfiguration: Emitter<IModelLanguageConfigurationChangedEvent> =\n\t\tthis._register(\n\t\t\tnew Emitter<IModelLanguageConfigurationChangedEvent>({\n\t\t\t\tdeliveryQueue: this._deliveryQueue,\n\t\t\t}),\n\t\t);\n\tpublic readonly onDidChangeModelLanguageConfiguration: Event<IModelLanguageConfigurationChangedEvent> =\n\t\tthis._onDidChangeModelLanguageConfiguration.event;\n\n\tprivate readonly _onDidChangeModelOptions: Emitter<IModelOptionsChangedEvent> =\n\t\tthis._register(\n\t\t\tnew Emitter<IModelOptionsChangedEvent>({\n\t\t\t\tdeliveryQueue: this._deliveryQueue,\n\t\t\t}),\n\t\t);\n\tpublic readonly onDidChangeModelOptions: Event<IModelOptionsChangedEvent> =\n\t\tthis._onDidChangeModelOptions.event;\n\n\tprivate readonly _onDidChangeModelDecorations: Emitter<IModelDecorationsChangedEvent> =\n\t\tthis._register(\n\t\t\tnew Emitter<IModelDecorationsChangedEvent>({\n\t\t\t\tdeliveryQueue: this._deliveryQueue,\n\t\t\t}),\n\t\t);\n\tpublic readonly onDidChangeModelDecorations: Event<IModelDecorationsChangedEvent> =\n\t\tthis._onDidChangeModelDecorations.event;\n\n\tprivate readonly _onDidChangeModelTokens: Emitter<IModelTokensChangedEvent> =\n\t\tthis._register(\n\t\t\tnew Emitter<IModelTokensChangedEvent>({\n\t\t\t\tdeliveryQueue: this._deliveryQueue,\n\t\t\t}),\n\t\t);\n\tpublic readonly onDidChangeModelTokens: Event<IModelTokensChangedEvent> =\n\t\tthis._onDidChangeModelTokens.event;\n\n\tprivate readonly _onDidChangeConfiguration: Emitter<ConfigurationChangedEvent> =\n\t\tthis._register(\n\t\t\tnew Emitter<ConfigurationChangedEvent>({\n\t\t\t\tdeliveryQueue: this._deliveryQueue,\n\t\t\t}),\n\t\t);\n\tpublic readonly onDidChangeConfiguration: Event<ConfigurationChangedEvent> =\n\t\tthis._onDidChangeConfiguration.event;\n\n\tprotected readonly _onWillChangeModel: Emitter<editorCommon.IModelChangedEvent> =\n\t\tthis._register(\n\t\t\tnew Emitter<editorCommon.IModelChangedEvent>({\n\t\t\t\tdeliveryQueue: this._deliveryQueue,\n\t\t\t}),\n\t\t);\n\tpublic readonly onWillChangeModel: Event<editorCommon.IModelChangedEvent> =\n\t\tthis._onWillChangeModel.event;\n\n\tprotected readonly _onDidChangeModel: Emitter<editorCommon.IModelChangedEvent> =\n\t\tthis._register(\n\t\t\tnew Emitter<editorCommon.IModelChangedEvent>({\n\t\t\t\tdeliveryQueue: this._deliveryQueue,\n\t\t\t}),\n\t\t);\n\tpublic readonly onDidChangeModel: Event<editorCommon.IModelChangedEvent> =\n\t\tthis._onDidChangeModel.event;\n\n\tprivate readonly _onDidChangeCursorPosition: Emitter<ICursorPositionChangedEvent> =\n\t\tthis._register(\n\t\t\tnew Emitter<ICursorPositionChangedEvent>({\n\t\t\t\tdeliveryQueue: this._deliveryQueue,\n\t\t\t}),\n\t\t);\n\tpublic readonly onDidChangeCursorPosition: Event<ICursorPositionChangedEvent> =\n\t\tthis._onDidChangeCursorPosition.event;\n\n\tprivate readonly _onDidChangeCursorSelection: Emitter<ICursorSelectionChangedEvent> =\n\t\tthis._register(\n\t\t\tnew Emitter<ICursorSelectionChangedEvent>({\n\t\t\t\tdeliveryQueue: this._deliveryQueue,\n\t\t\t}),\n\t\t);\n\tpublic readonly onDidChangeCursorSelection: Event<ICursorSelectionChangedEvent> =\n\t\tthis._onDidChangeCursorSelection.event;\n\n\tprivate readonly _onDidAttemptReadOnlyEdit: Emitter<void> = this._register(\n\t\tnew InteractionEmitter<void>(this._contributions, this._deliveryQueue),\n\t);\n\tpublic readonly onDidAttemptReadOnlyEdit: Event<void> =\n\t\tthis._onDidAttemptReadOnlyEdit.event;\n\n\tprivate readonly _onDidLayoutChange: Emitter<EditorLayoutInfo> =\n\t\tthis._register(\n\t\t\tnew Emitter<EditorLayoutInfo>({\n\t\t\t\tdeliveryQueue: this._deliveryQueue,\n\t\t\t}),\n\t\t);\n\tpublic readonly onDidLayoutChange: Event<EditorLayoutInfo> =\n\t\tthis._onDidLayoutChange.event;\n\n\tprivate readonly _editorTextFocus: BooleanEventEmitter = this._register(\n\t\tnew BooleanEventEmitter({ deliveryQueue: this._deliveryQueue }),\n\t);\n\tpublic readonly onDidFocusEditorText: Event<void> =\n\t\tthis._editorTextFocus.onDidChangeToTrue;\n\tpublic readonly onDidBlurEditorText: Event<void> =\n\t\tthis._editorTextFocus.onDidChangeToFalse;\n\n\tprivate readonly _editorWidgetFocus: BooleanEventEmitter = this._register(\n\t\tnew BooleanEventEmitter({ deliveryQueue: this._deliveryQueue }),\n\t);\n\tpublic readonly onDidFocusEditorWidget: Event<void> =\n\t\tthis._editorWidgetFocus.onDidChangeToTrue;\n\tpublic readonly onDidBlurEditorWidget: Event<void> =\n\t\tthis._editorWidgetFocus.onDidChangeToFalse;\n\n\tprivate readonly _onWillType: Emitter<string> = this._register(\n\t\tnew InteractionEmitter<string>(\n\t\t\tthis._contributions,\n\t\t\tthis._deliveryQueue,\n\t\t),\n\t);\n\tpublic readonly onWillType = this._onWillType.event;\n\n\tprivate readonly _onDidType: Emitter<string> = this._register(\n\t\tnew InteractionEmitter<string>(\n\t\t\tthis._contributions,\n\t\t\tthis._deliveryQueue,\n\t\t),\n\t);\n\tpublic readonly onDidType = this._onDidType.event;\n\n\tprivate readonly _onDidCompositionStart: Emitter<void> = this._register(\n\t\tnew InteractionEmitter<void>(this._contributions, this._deliveryQueue),\n\t);\n\tpublic readonly onDidCompositionStart = this._onDidCompositionStart.event;\n\n\tprivate readonly _onDidCompositionEnd: Emitter<void> = this._register(\n\t\tnew InteractionEmitter<void>(this._contributions, this._deliveryQueue),\n\t);\n\tpublic readonly onDidCompositionEnd = this._onDidCompositionEnd.event;\n\n\tprivate readonly _onDidPaste: Emitter<editorBrowser.IPasteEvent> =\n\t\tthis._register(\n\t\t\tnew InteractionEmitter<editorBrowser.IPasteEvent>(\n\t\t\t\tthis._contributions,\n\t\t\t\tthis._deliveryQueue,\n\t\t\t),\n\t\t);\n\tpublic readonly onDidPaste = this._onDidPaste.event;\n\n\tprivate readonly _onMouseUp: Emitter<editorBrowser.IEditorMouseEvent> =\n\t\tthis._register(\n\t\t\tnew InteractionEmitter<editorBrowser.IEditorMouseEvent>(\n\t\t\t\tthis._contributions,\n\t\t\t\tthis._deliveryQueue,\n\t\t\t),\n\t\t);\n\tpublic readonly onMouseUp: Event<editorBrowser.IEditorMouseEvent> =\n\t\tthis._onMouseUp.event;\n\n\tprivate readonly _onMouseDown: Emitter<editorBrowser.IEditorMouseEvent> =\n\t\tthis._register(\n\t\t\tnew InteractionEmitter<editorBrowser.IEditorMouseEvent>(\n\t\t\t\tthis._contributions,\n\t\t\t\tthis._deliveryQueue,\n\t\t\t),\n\t\t);\n\tpublic readonly onMouseDown: Event<editorBrowser.IEditorMouseEvent> =\n\t\tthis._onMouseDown.event;\n\n\tprivate readonly _onMouseDrag: Emitter<editorBrowser.IEditorMouseEvent> =\n\t\tthis._register(\n\t\t\tnew InteractionEmitter<editorBrowser.IEditorMouseEvent>(\n\t\t\t\tthis._contributions,\n\t\t\t\tthis._deliveryQueue,\n\t\t\t),\n\t\t);\n\tpublic readonly onMouseDrag: Event<editorBrowser.IEditorMouseEvent> =\n\t\tthis._onMouseDrag.event;\n\n\tprivate readonly _onMouseDrop: Emitter<editorBrowser.IPartialEditorMouseEvent> =\n\t\tthis._register(\n\t\t\tnew InteractionEmitter<editorBrowser.IPartialEditorMouseEvent>(\n\t\t\t\tthis._contributions,\n\t\t\t\tthis._deliveryQueue,\n\t\t\t),\n\t\t);\n\tpublic readonly onMouseDrop: Event<editorBrowser.IPartialEditorMouseEvent> =\n\t\tthis._onMouseDrop.event;\n\n\tprivate readonly _onMouseDropCanceled: Emitter<void> = this._register(\n\t\tnew InteractionEmitter<void>(this._contributions, this._deliveryQueue),\n\t);\n\tpublic readonly onMouseDropCanceled: Event<void> =\n\t\tthis._onMouseDropCanceled.event;\n\n\tprivate readonly _onDropIntoEditor = this._register(\n\t\tnew InteractionEmitter<{\n\t\t\treadonly position: IPosition;\n\t\t\treadonly event: DragEvent;\n\t\t}>(this._contributions, this._deliveryQueue),\n\t);\n\tpublic readonly onDropIntoEditor = this._onDropIntoEditor.event;\n\n\tprivate readonly _onContextMenu: Emitter<editorBrowser.IEditorMouseEvent> =\n\t\tthis._register(\n\t\t\tnew InteractionEmitter<editorBrowser.IEditorMouseEvent>(\n\t\t\t\tthis._contributions,\n\t\t\t\tthis._deliveryQueue,\n\t\t\t),\n\t\t);\n\tpublic readonly onContextMenu: Event<editorBrowser.IEditorMouseEvent> =\n\t\tthis._onContextMenu.event;\n\n\tprivate readonly _onMouseMove: Emitter<editorBrowser.IEditorMouseEvent> =\n\t\tthis._register(\n\t\t\tnew InteractionEmitter<editorBrowser.IEditorMouseEvent>(\n\t\t\t\tthis._contributions,\n\t\t\t\tthis._deliveryQueue,\n\t\t\t),\n\t\t);\n\tpublic readonly onMouseMove: Event<editorBrowser.IEditorMouseEvent> =\n\t\tthis._onMouseMove.event;\n\n\tprivate readonly _onMouseLeave: Emitter<editorBrowser.IPartialEditorMouseEvent> =\n\t\tthis._register(\n\t\t\tnew InteractionEmitter<editorBrowser.IPartialEditorMouseEvent>(\n\t\t\t\tthis._contributions,\n\t\t\t\tthis._deliveryQueue,\n\t\t\t),\n\t\t);\n\tpublic readonly onMouseLeave: Event<editorBrowser.IPartialEditorMouseEvent> =\n\t\tthis._onMouseLeave.event;\n\n\tprivate readonly _onMouseWheel: Emitter<IMouseWheelEvent> = this._register(\n\t\tnew InteractionEmitter<IMouseWheelEvent>(\n\t\t\tthis._contributions,\n\t\t\tthis._deliveryQueue,\n\t\t),\n\t);\n\tpublic readonly onMouseWheel: Event<IMouseWheelEvent> =\n\t\tthis._onMouseWheel.event;\n\n\tprivate readonly _onKeyUp: Emitter<IKeyboardEvent> = this._register(\n\t\tnew InteractionEmitter<IKeyboardEvent>(\n\t\t\tthis._contributions,\n\t\t\tthis._deliveryQueue,\n\t\t),\n\t);\n\tpublic readonly onKeyUp: Event<IKeyboardEvent> = this._onKeyUp.event;\n\n\tprivate readonly _onKeyDown: Emitter<IKeyboardEvent> = this._register(\n\t\tnew InteractionEmitter<IKeyboardEvent>(\n\t\t\tthis._contributions,\n\t\t\tthis._deliveryQueue,\n\t\t),\n\t);\n\tpublic readonly onKeyDown: Event<IKeyboardEvent> = this._onKeyDown.event;\n\n\tprivate readonly _onDidContentSizeChange: Emitter<editorCommon.IContentSizeChangedEvent> =\n\t\tthis._register(\n\t\t\tnew Emitter<editorCommon.IContentSizeChangedEvent>({\n\t\t\t\tdeliveryQueue: this._deliveryQueue,\n\t\t\t}),\n\t\t);\n\tpublic readonly onDidContentSizeChange: Event<editorCommon.IContentSizeChangedEvent> =\n\t\tthis._onDidContentSizeChange.event;\n\n\tprivate readonly _onDidScrollChange: Emitter<editorCommon.IScrollEvent> =\n\t\tthis._register(\n\t\t\tnew Emitter<editorCommon.IScrollEvent>({\n\t\t\t\tdeliveryQueue: this._deliveryQueue,\n\t\t\t}),\n\t\t);\n\tpublic readonly onDidScrollChange: Event<editorCommon.IScrollEvent> =\n\t\tthis._onDidScrollChange.event;\n\n\tprivate readonly _onDidChangeViewZones: Emitter<void> = this._register(\n\t\tnew Emitter<void>({ deliveryQueue: this._deliveryQueue }),\n\t);\n\tpublic readonly onDidChangeViewZones: Event<void> =\n\t\tthis._onDidChangeViewZones.event;\n\n\tprivate readonly _onDidChangeHiddenAreas: Emitter<void> = this._register(\n\t\tnew Emitter<void>({ deliveryQueue: this._deliveryQueue }),\n\t);\n\tpublic readonly onDidChangeHiddenAreas: Event<void> =\n\t\tthis._onDidChangeHiddenAreas.event;\n\n\tprivate _updateCounter = 0;\n\n\tprivate readonly _onWillTriggerEditorOperationEvent: Emitter<editorCommon.ITriggerEditorOperationEvent> =\n\t\tthis._register(\n\t\t\tnew Emitter<editorCommon.ITriggerEditorOperationEvent>(),\n\t\t);\n\tpublic readonly onWillTriggerEditorOperationEvent: Event<editorCommon.ITriggerEditorOperationEvent> =\n\t\tthis._onWillTriggerEditorOperationEvent.event;\n\n\tprivate readonly _onBeginUpdate: Emitter<void> = this._register(\n\t\tnew Emitter<void>(),\n\t);\n\tpublic readonly onBeginUpdate: Event<void> = this._onBeginUpdate.event;\n\n\tprivate readonly _onEndUpdate: Emitter<void> = this._register(\n\t\tnew Emitter<void>(),\n\t);\n\tpublic readonly onEndUpdate: Event<void> = this._onEndUpdate.event;\n\n\t//#endregion\n\n\tpublic get isSimpleWidget(): boolean {\n\t\treturn this._configuration.isSimpleWidget;\n\t}\n\n\tpublic get contextMenuId(): MenuId {\n\t\treturn this._configuration.contextMenuId;\n\t}\n\n\tprivate readonly _telemetryData?: object;\n\n\tprivate readonly _domElement: HTMLElement;\n\tprivate readonly _overflowWidgetsDomNode: HTMLElement | undefined;\n\tprivate readonly _id: number;\n\tprivate readonly _configuration: IEditorConfiguration;\n\tprivate _contributionsDisposable: IDisposable | undefined;\n\n\tprotected readonly _actions = new Map<string, editorCommon.IEditorAction>();\n\n\t// --- Members logically associated to a model\n\tprotected _modelData: ModelData | null;\n\n\tprotected readonly _instantiationService: IInstantiationService;\n\tprotected readonly _contextKeyService: IContextKeyService;\n\tget contextKeyService() {\n\t\treturn this._contextKeyService;\n\t}\n\tprivate readonly _notificationService: INotificationService;\n\tprotected readonly _codeEditorService: ICodeEditorService;\n\tprivate readonly _commandService: ICommandService;\n\tprivate readonly _themeService: IThemeService;\n\n\tprivate readonly _focusTracker: CodeEditorWidgetFocusTracker;\n\n\tprivate _contentWidgets: { [key: string]: IContentWidgetData };\n\tprivate _overlayWidgets: { [key: string]: IOverlayWidgetData };\n\tprivate _glyphMarginWidgets: { [key: string]: IGlyphMarginWidgetData };\n\n\t/**\n\t * map from \"parent\" decoration type to live decoration ids.\n\t */\n\tprivate _decorationTypeKeysToIds: { [decorationTypeKey: string]: string[] };\n\tprivate _decorationTypeSubtypes: {\n\t\t[decorationTypeKey: string]: { [subtype: string]: boolean };\n\t};\n\n\tprivate _bannerDomNode: HTMLElement | null = null;\n\n\tprivate _dropIntoEditorDecorations: EditorDecorationsCollection =\n\t\tthis.createDecorationsCollection();\n\n\tconstructor(\n\t\tdomElement: HTMLElement,\n\t\t_options: Readonly<IEditorConstructionOptions>,\n\t\tcodeEditorWidgetOptions: ICodeEditorWidgetOptions,\n\t\t@IInstantiationService instantiationService: IInstantiationService,\n\t\t@ICodeEditorService codeEditorService: ICodeEditorService,\n\t\t@ICommandService commandService: ICommandService,\n\t\t@IContextKeyService contextKeyService: IContextKeyService,\n\t\t@IThemeService themeService: IThemeService,\n\t\t@INotificationService notificationService: INotificationService,\n\t\t@IAccessibilityService accessibilityService: IAccessibilityService,\n\t\t@ILanguageConfigurationService\n\t\tprivate readonly languageConfigurationService: ILanguageConfigurationService,\n\t\t@ILanguageFeaturesService\n\t\tlanguageFeaturesService: ILanguageFeaturesService,\n\t) {\n\t\tsuper();\n\t\tcodeEditorService.willCreateCodeEditor();\n\n\t\tconst options = { ..._options };\n\n\t\tthis._domElement = domElement;\n\t\tthis._overflowWidgetsDomNode = options.overflowWidgetsDomNode;\n\t\tdelete options.overflowWidgetsDomNode;\n\t\tthis._id = ++EDITOR_ID;\n\t\tthis._decorationTypeKeysToIds = {};\n\t\tthis._decorationTypeSubtypes = {};\n\t\tthis._telemetryData = codeEditorWidgetOptions.telemetryData;\n\n\t\tthis._configuration = this._register(\n\t\t\tthis._createConfiguration(\n\t\t\t\tcodeEditorWidgetOptions.isSimpleWidget || false,\n\t\t\t\tcodeEditorWidgetOptions.contextMenuId ??\n\t\t\t\t\t(codeEditorWidgetOptions.isSimpleWidget\n\t\t\t\t\t\t? MenuId.SimpleEditorContext\n\t\t\t\t\t\t: MenuId.EditorContext),\n\t\t\t\toptions,\n\t\t\t\taccessibilityService,\n\t\t\t),\n\t\t);\n\t\tthis._register(\n\t\t\tthis._configuration.onDidChange((e) => {\n\t\t\t\tthis._onDidChangeConfiguration.fire(e);\n\n\t\t\t\tconst options = this._configuration.options;\n\t\t\t\tif (e.hasChanged(EditorOption.layoutInfo)) {\n\t\t\t\t\tconst layoutInfo = options.get(EditorOption.layoutInfo);\n\t\t\t\t\tthis._onDidLayoutChange.fire(layoutInfo);\n\t\t\t\t}\n\t\t\t}),\n\t\t);\n\n\t\tthis._contextKeyService = this._register(\n\t\t\tcontextKeyService.createScoped(this._domElement),\n\t\t);\n\t\tthis._notificationService = notificationService;\n\t\tthis._codeEditorService = codeEditorService;\n\t\tthis._commandService = commandService;\n\t\tthis._themeService = themeService;\n\t\tthis._register(\n\t\t\tnew EditorContextKeysManager(this, this._contextKeyService),\n\t\t);\n\t\tthis._register(\n\t\t\tnew EditorModeContext(\n\t\t\t\tthis,\n\t\t\t\tthis._contextKeyService,\n\t\t\t\tlanguageFeaturesService,\n\t\t\t),\n\t\t);\n\n\t\tthis._instantiationService = this._register(\n\t\t\tinstantiationService.createChild(\n\t\t\t\tnew ServiceCollection([\n\t\t\t\t\tIContextKeyService,\n\t\t\t\t\tthis._contextKeyService,\n\t\t\t\t]),\n\t\t\t),\n\t\t);\n\n\t\tthis._modelData = null;\n\n\t\tthis._focusTracker = new CodeEditorWidgetFocusTracker(\n\t\t\tdomElement,\n\t\t\tthis._overflowWidgetsDomNode,\n\t\t);\n\t\tthis._register(\n\t\t\tthis._focusTracker.onChange(() => {\n\t\t\t\tthis._editorWidgetFocus.setValue(this._focusTracker.hasFocus());\n\t\t\t}),\n\t\t);\n\n\t\tthis._contentWidgets = {};\n\t\tthis._overlayWidgets = {};\n\t\tthis._glyphMarginWidgets = {};\n\n\t\tlet contributions: IEditorContributionDescription[];\n\t\tif (Array.isArray(codeEditorWidgetOptions.contributions)) {\n\t\t\tcontributions = codeEditorWidgetOptions.contributions;\n\t\t} else {\n\t\t\tcontributions = EditorExtensionsRegistry.getEditorContributions();\n\t\t}\n\t\tthis._contributions.initialize(\n\t\t\tthis,\n\t\t\tcontributions,\n\t\t\tthis._instantiationService,\n\t\t);\n\n\t\tfor (const action of EditorExtensionsRegistry.getEditorActions()) {\n\t\t\tif (this._actions.has(action.id)) {\n\t\t\t\tonUnexpectedError(\n\t\t\t\t\tnew Error(\n\t\t\t\t\t\t`Cannot have two actions with the same id ${action.id}`,\n\t\t\t\t\t),\n\t\t\t\t);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tconst internalAction = new InternalEditorAction(\n\t\t\t\taction.id,\n\t\t\t\taction.label,\n\t\t\t\taction.alias,\n\t\t\t\taction.metadata,\n\t\t\t\taction.precondition ?? undefined,\n\t\t\t\t(args: unknown): Promise<void> => {\n\t\t\t\t\treturn this._instantiationService.invokeFunction(\n\t\t\t\t\t\t(accessor) => {\n\t\t\t\t\t\t\treturn Promise.resolve(\n\t\t\t\t\t\t\t\taction.runEditorCommand(accessor, this, args),\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t},\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t\tthis._contextKeyService,\n\t\t\t);\n\t\t\tthis._actions.set(internalAction.id, internalAction);\n\t\t}\n\n\t\tconst isDropIntoEnabled = () => {\n\t\t\treturn (\n\t\t\t\t!this._configuration.options.get(EditorOption.readOnly) &&\n\t\t\t\tthis._configuration.options.get(EditorOption.dropIntoEditor)\n\t\t\t\t\t.enabled\n\t\t\t);\n\t\t};\n\n\t\tthis._register(\n\t\t\tnew dom.DragAndDropObserver(this._domElement, {\n\t\t\t\tonDragOver: (e) => {\n\t\t\t\t\tif (!isDropIntoEnabled()) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst target = this.getTargetAtClientPoint(\n\t\t\t\t\t\te.clientX,\n\t\t\t\t\t\te.clientY,\n\t\t\t\t\t);\n\t\t\t\t\tif (target?.position) {\n\t\t\t\t\t\tthis.showDropIndicatorAt(target.position);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tonDrop: async (e) => {\n\t\t\t\t\tif (!isDropIntoEnabled()) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.removeDropIndicator();\n\n\t\t\t\t\tif (!e.dataTransfer) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst target = this.getTargetAtClientPoint(\n\t\t\t\t\t\te.clientX,\n\t\t\t\t\t\te.clientY,\n\t\t\t\t\t);\n\t\t\t\t\tif (target?.position) {\n\t\t\t\t\t\tthis._onDropIntoEditor.fire({\n\t\t\t\t\t\t\tposition: target.position,\n\t\t\t\t\t\t\tevent: e,\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tonDragLeave: () => {\n\t\t\t\t\tthis.removeDropIndicator();\n\t\t\t\t},\n\t\t\t\tonDragEnd: () => {\n\t\t\t\t\tthis.removeDropIndicator();\n\t\t\t\t},\n\t\t\t}),\n\t\t);\n\n\t\tthis._codeEditorService.addCodeEditor(this);\n\t}\n\n\tpublic writeScreenReaderContent(reason: string): void {\n\t\tthis._modelData?.view.writeScreenReaderContent(reason);\n\t}\n\n\tprotected _createConfiguration(\n\t\tisSimpleWidget: boolean,\n\t\tcontextMenuId: MenuId,\n\t\toptions: Readonly<IEditorConstructionOptions>,\n\t\taccessibilityService: IAccessibilityService,\n\t): EditorConfiguration {\n\t\treturn new EditorConfiguration(\n\t\t\tisSimpleWidget,\n\t\t\tcontextMenuId,\n\t\t\toptions,\n\t\t\tthis._domElement,\n\t\t\taccessibilityService,\n\t\t);\n\t}\n\n\tpublic getId(): string {\n\t\treturn this.getEditorType() + \":\" + this._id;\n\t}\n\n\tpublic getEditorType(): string {\n\t\treturn editorCommon.EditorType.ICodeEditor;\n\t}\n\n\tpublic override dispose(): void {\n\t\tthis._codeEditorService.removeCodeEditor(this);\n\n\t\tthis._focusTracker.dispose();\n\t\tthis._actions.clear();\n\t\tthis._contentWidgets = {};\n\t\tthis._overlayWidgets = {};\n\n\t\tthis._removeDecorationTypes();\n\t\tthis._postDetachModelCleanup(this._detachModel());\n\n\t\tthis._onDidDispose.fire();\n\n\t\tsuper.dispose();\n\t}\n\n\tpublic invokeWithinContext<T>(fn: (accessor: ServicesAccessor) => T): T {\n\t\treturn this._instantiationService.invokeFunction(fn);\n\t}\n\n\tpublic updateOptions(\n\t\tnewOptions: Readonly<IEditorOptions> | undefined,\n\t): void {\n\t\tthis._configuration.updateOptions(newOptions || {});\n\t}\n\n\tpublic getOptions(): IComputedEditorOptions {\n\t\treturn this._configuration.options;\n\t}\n\n\tpublic getOption<T extends EditorOption>(\n\t\tid: T,\n\t): FindComputedEditorOptionValueById<T> {\n\t\treturn this._configuration.options.get(id);\n\t}\n\n\tpublic getRawOptions(): IEditorOptions {\n\t\treturn this._configuration.getRawOptions();\n\t}\n\n\tpublic getOverflowWidgetsDomNode(): HTMLElement | undefined {\n\t\treturn this._overflowWidgetsDomNode;\n\t}\n\n\tpublic getConfiguredWordAtPosition(\n\t\tposition: Position,\n\t): IWordAtPosition | null {\n\t\tif (!this._modelData) {\n\t\t\treturn null;\n\t\t}\n\t\treturn WordOperations.getWordAtPosition(\n\t\t\tthis._modelData.model,\n\t\t\tthis._configuration.options.get(EditorOption.wordSeparators),\n\t\t\tthis._configuration.options.get(EditorOption.wordSegmenterLocales),\n\t\t\tposition,\n\t\t);\n\t}\n\n\tpublic getValue(\n\t\toptions: { preserveBOM: boolean; lineEnding: string } | null = null,\n\t): string {\n\t\tif (!this._modelData) {\n\t\t\treturn \"\";\n\t\t}\n\n\t\tconst preserveBOM: boolean =\n\t\t\toptions && options.preserveBOM ? true : false;\n\t\tlet eolPreference = EndOfLinePreference.TextDefined;\n\t\tif (options && options.lineEnding && options.lineEnding === \"\\n\") {\n\t\t\teolPreference = EndOfLinePreference.LF;\n\t\t} else if (\n\t\t\toptions &&\n\t\t\toptions.lineEnding &&\n\t\t\toptions.lineEnding === \"\\r\\n\"\n\t\t) {\n\t\t\teolPreference = EndOfLinePreference.CRLF;\n\t\t}\n\t\treturn this._modelData.model.getValue(eolPreference, preserveBOM);\n\t}\n\n\tpublic setValue(newValue: string): void {\n\t\ttry {\n\t\t\tthis._beginUpdate();\n\t\t\tif (!this._modelData) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis._modelData.model.setValue(newValue);\n\t\t} finally {\n\t\t\tthis._endUpdate();\n\t\t}\n\t}\n\n\tpublic getModel(): ITextModel | null {\n\t\tif (!this._modelData) {\n\t\t\treturn null;\n\t\t}\n\t\treturn this._modelData.model;\n\t}\n\n\tpublic setModel(\n\t\t_model:\n\t\t\t| ITextModel\n\t\t\t| editorCommon.IDiffEditorModel\n\t\t\t| editorCommon.IDiffEditorViewModel\n\t\t\t| null = null,\n\t): void {\n\t\ttry {\n\t\t\tthis._beginUpdate();\n\t\t\tconst model = <ITextModel | null>_model;\n\t\t\tif (this._modelData === null && model === null) {\n\t\t\t\t// Current model is the new model\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this._modelData && this._modelData.model === model) {\n\t\t\t\t// Current model is the new model\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst e: editorCommon.IModelChangedEvent = {\n\t\t\t\toldModelUrl: this._modelData?.model.uri || null,\n\t\t\t\tnewModelUrl: model?.uri || null,\n\t\t\t};\n\t\t\tthis._onWillChangeModel.fire(e);\n\n\t\t\tconst hasTextFocus = this.hasTextFocus();\n\t\t\tconst detachedModel = this._detachModel();\n\t\t\tthis._attachModel(model);\n\t\t\tif (hasTextFocus && this.hasModel()) {\n\t\t\t\tthis.focus();\n\t\t\t}\n\n\t\t\tthis._removeDecorationTypes();\n\t\t\tthis._onDidChangeModel.fire(e);\n\t\t\tthis._postDetachModelCleanup(detachedModel);\n\n\t\t\tthis._contributionsDisposable =\n\t\t\t\tthis._contributions.onAfterModelAttached();\n\t\t} finally {\n\t\t\tthis._endUpdate();\n\t\t}\n\t}\n\n\tprivate _removeDecorationTypes(): void {\n\t\tthis._decorationTypeKeysToIds = {};\n\t\tif (this._decorationTypeSubtypes) {\n\t\t\tfor (const decorationType in this._decorationTypeSubtypes) {\n\t\t\t\tconst subTypes = this._decorationTypeSubtypes[decorationType];\n\t\t\t\tfor (const subType in subTypes) {\n\t\t\t\t\tthis._removeDecorationType(decorationType + \"-\" + subType);\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._decorationTypeSubtypes = {};\n\t\t}\n\t}\n\n\tpublic getVisibleRanges(): Range[] {\n\t\tif (!this._modelData) {\n\t\t\treturn [];\n\t\t}\n\t\treturn this._modelData.viewModel.getVisibleRanges();\n\t}\n\n\tpublic getVisibleRangesPlusViewportAboveBelow(): Range[] {\n\t\tif (!this._modelData) {\n\t\t\treturn [];\n\t\t}\n\t\treturn this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow();\n\t}\n\n\tpublic getWhitespaces(): IEditorWhitespace[] {\n\t\tif (!this._modelData) {\n\t\t\treturn [];\n\t\t}\n\t\treturn this._modelData.viewModel.viewLayout.getWhitespaces();\n\t}\n\n\tprivate static _getVerticalOffsetAfterPosition(\n\t\tmodelData: ModelData,\n\t\tmodelLineNumber: number,\n\t\tmodelColumn: number,\n\t\tincludeViewZones: boolean,\n\t): number {\n\t\tconst modelPosition = modelData.model.validatePosition({\n\t\t\tlineNumber: modelLineNumber,\n\t\t\tcolumn: modelColumn,\n\t\t});\n\t\tconst viewPosition =\n\t\t\tmodelData.viewModel.coordinatesConverter.convertModelPositionToViewPosition(\n\t\t\t\tmodelPosition,\n\t\t\t);\n\t\treturn modelData.viewModel.viewLayout.getVerticalOffsetAfterLineNumber(\n\t\t\tviewPosition.lineNumber,\n\t\t\tincludeViewZones,\n\t\t);\n\t}\n\n\tpublic getTopForLineNumber(\n\t\tlineNumber: number,\n\t\tincludeViewZones = false,\n\t): number {\n\t\tif (!this._modelData) {\n\t\t\treturn -1;\n\t\t}\n\t\treturn CodeEditorWidget._getVerticalOffsetForPosition(\n\t\t\tthis._modelData,\n\t\t\tlineNumber,\n\t\t\t1,\n\t\t\tincludeViewZones,\n\t\t);\n\t}\n\n\tpublic getTopForPosition(lineNumber: number, column: number): number {\n\t\tif (!this._modelData) {\n\t\t\treturn -1;\n\t\t}\n\t\treturn CodeEditorWidget._getVerticalOffsetForPosition(\n\t\t\tthis._modelData,\n\t\t\tlineNumber,\n\t\t\tcolumn,\n\t\t\tfalse,\n\t\t);\n\t}\n\n\tprivate static _getVerticalOffsetForPosition(\n\t\tmodelData: ModelData,\n\t\tmodelLineNumber: number,\n\t\tmodelColumn: number,\n\t\tincludeViewZones = false,\n\t): number {\n\t\tconst modelPosition = modelData.model.validatePosition({\n\t\t\tlineNumber: modelLineNumber,\n\t\t\tcolumn: modelColumn,\n\t\t});\n\t\tconst viewPosition =\n\t\t\tmodelData.viewModel.coordinatesConverter.convertModelPositionToViewPosition(\n\t\t\t\tmodelPosition,\n\t\t\t);\n\t\treturn modelData.viewModel.viewLayout.getVerticalOffsetForLineNumber(\n\t\t\tviewPosition.lineNumber,\n\t\t\tincludeViewZones,\n\t\t);\n\t}\n\n\tpublic getBottomForLineNumber(\n\t\tlineNumber: number,\n\t\tincludeViewZones = false,\n\t): number {\n\t\tif (!this._modelData) {\n\t\t\treturn -1;\n\t\t}\n\t\tconst maxCol = this._modelData.model.getLineMaxColumn(lineNumber);\n\t\treturn CodeEditorWidget._getVerticalOffsetAfterPosition(\n\t\t\tthis._modelData,\n\t\t\tlineNumber,\n\t\t\tmaxCol,\n\t\t\tincludeViewZones,\n\t\t);\n\t}\n\n\tpublic setHiddenAreas(ranges: IRange[], source?: unknown): void {\n\t\tthis._modelData?.viewModel.setHiddenAreas(\n\t\t\tranges.map((r) => Range.lift(r)),\n\t\t\tsource,\n\t\t);\n\t}\n\n\tpublic getVisibleColumnFromPosition(rawPosition: IPosition): number {\n\t\tif (!this._modelData) {\n\t\t\treturn rawPosition.column;\n\t\t}\n\n\t\tconst position = this._modelData.model.validatePosition(rawPosition);\n\t\tconst tabSize = this._modelData.model.getOptions().tabSize;\n\n\t\treturn (\n\t\t\tCursorColumns.visibleColumnFromColumn(\n\t\t\t\tthis._modelData.model.getLineContent(position.lineNumber),\n\t\t\t\tposition.column,\n\t\t\t\ttabSize,\n\t\t\t) + 1\n\t\t);\n\t}\n\n\tpublic getStatusbarColumn(rawPosition: IPosition): number {\n\t\tif (!this._modelData) {\n\t\t\treturn rawPosition.column;\n\t\t}\n\n\t\tconst position = this._modelData.model.validatePosition(rawPosition);\n\t\tconst tabSize = this._modelData.model.getOptions().tabSize;\n\n\t\treturn CursorColumns.toStatusbarColumn(\n\t\t\tthis._modelData.model.getLineContent(position.lineNumber),\n\t\t\tposition.column,\n\t\t\ttabSize,\n\t\t);\n\t}\n\n\tpublic getPosition(): Position | null {\n\t\tif (!this._modelData) {\n\t\t\treturn null;\n\t\t}\n\t\treturn this._modelData.viewModel.getPosition();\n\t}\n\n\tpublic setPosition(position: IPosition, source = \"api\"): void {\n\t\tif (!this._modelData) {\n\t\t\treturn;\n\t\t}\n\t\tif (!Position.isIPosition(position)) {\n\t\t\tthrow new Error(\"Invalid arguments\");\n\t\t}\n\t\tthis._modelData.viewModel.setSelections(source, [\n\t\t\t{\n\t\t\t\tselectionStartLineNumber: position.lineNumber,\n\t\t\t\tselectionStartColumn: position.column,\n\t\t\t\tpositionLineNumber: position.lineNumber,\n\t\t\t\tpositionColumn: position.column,\n\t\t\t},\n\t\t]);\n\t}\n\n\tprivate _sendRevealRange(\n\t\tmodelRange: Range,\n\t\tverticalType: VerticalRevealType,\n\t\trevealHorizontal: boolean,\n\t\tscrollType: editorCommon.ScrollType,\n\t): void {\n\t\tif (!this._modelData) {\n\t\t\treturn;\n\t\t}\n\t\tif (!Range.isIRange(modelRange)) {\n\t\t\tthrow new Error(\"Invalid arguments\");\n\t\t}\n\t\tconst validatedModelRange =\n\t\t\tthis._modelData.model.validateRange(modelRange);\n\t\tconst viewRange =\n\t\t\tthis._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(\n\t\t\t\tvalidatedModelRange,\n\t\t\t);\n\n\t\tthis._modelData.viewModel.revealRange(\n\t\t\t\"api\",\n\t\t\trevealHorizontal,\n\t\t\tviewRange,\n\t\t\tverticalType,\n\t\t\tscrollType,\n\t\t);\n\t}\n\n\tpublic revealLine(\n\t\tlineNumber: number,\n\t\tscrollType: editorCommon.ScrollType = editorCommon.ScrollType.Smooth,\n\t): void {\n\t\tthis._revealLine(lineNumber, VerticalRevealType.Simple, scrollType);\n\t}\n\n\tpublic revealLineInCenter(\n\t\tlineNumber: number,\n\t\tscrollType: editorCommon.ScrollType = editorCommon.ScrollType.Smooth,\n\t): void {\n\t\tthis._revealLine(lineNumber, VerticalRevealType.Center, scrollType);\n\t}\n\n\tpublic revealLineInCenterIfOutsideViewport(\n\t\tlineNumber: number,\n\t\tscrollType: editorCommon.ScrollType = editorCommon.ScrollType.Smooth,\n\t): void {\n\t\tthis._revealLine(\n\t\t\tlineNumber,\n\t\t\tVerticalRevealType.CenterIfOutsideViewport,\n\t\t\tscrollType,\n\t\t);\n\t}\n\n\tpublic revealLineNearTop(\n\t\tlineNumber: number,\n\t\tscrollType: editorCommon.ScrollType = editorCommon.ScrollType.Smooth,\n\t): void {\n\t\tthis._revealLine(lineNumber, VerticalRevealType.NearTop, scrollType);\n\t}\n\n\tprivate _revealLine(\n\t\tlineNumber: number,\n\t\trevealType: VerticalRevealType,\n\t\tscrollType: editorCommon.ScrollType,\n\t): void {\n\t\tif (typeof lineNumber !== \"number\") {\n\t\t\tthrow new Error(\"Invalid arguments\");\n\t\t}\n\n\t\tthis._sendRevealRange(\n\t\t\tnew Range(lineNumber, 1, lineNumber, 1),\n\t\t\trevealType,\n\t\t\tfalse,\n\t\t\tscrollType,\n\t\t);\n\t}\n\n\tpublic revealPosition(\n\t\tposition: IPosition,\n\t\tscrollType: editorCommon.ScrollType = editorCommon.ScrollType.Smooth,\n\t): void {\n\t\tthis._revealPosition(\n\t\t\tposition,\n\t\t\tVerticalRevealType.Simple,\n\t\t\ttrue,\n\t\t\tscrollType,\n\t\t);\n\t}\n\n\tpublic revealPositionInCenter(\n\t\tposition: IPosition,\n\t\tscrollType: editorCommon.ScrollType = editorCommon.ScrollType.Smooth,\n\t): void {\n\t\tthis._revealPosition(\n\t\t\tposition,\n\t\t\tVerticalRevealType.Center,\n\t\t\ttrue,\n\t\t\tscrollType,\n\t\t);\n\t}\n\n\tpublic revealPositionInCenterIfOutsideViewport(\n\t\tposition: IPosition,\n\t\tscrollType: editorCommon.ScrollType = editorCommon.ScrollType.Smooth,\n\t): void {\n\t\tthis._revealPosition(\n\t\t\tposition,\n\t\t\tVerticalRevealType.CenterIfOutsideViewport,\n\t\t\ttrue,\n\t\t\tscrollType,\n\t\t);\n\t}\n\n\tpublic revealPositionNearTop(\n\t\tposition: IPosition,\n\t\tscrollType: editorCommon.ScrollType = editorCommon.ScrollType.Smooth,\n\t): void {\n\t\tthis._revealPosition(\n\t\t\tposition,\n\t\t\tVerticalRevealType.NearTop,\n\t\t\ttrue,\n\t\t\tscrollType,\n\t\t);\n\t}\n\n\tprivate _revealPosition(\n\t\tposition: IPosition,\n\t\tverticalType: VerticalRevealType,\n\t\trevealHorizontal: boolean,\n\t\tscrollType: editorCommon.ScrollType,\n\t): void {\n\t\tif (!Position.isIPosition(position)) {\n\t\t\tthrow new Error(\"Invalid arguments\");\n\t\t}\n\n\t\tthis._sendRevealRange(\n\t\t\tnew Range(\n\t\t\t\tposition.lineNumber,\n\t\t\t\tposition.column,\n\t\t\t\tposition.lineNumber,\n\t\t\t\tposition.column,\n\t\t\t),\n\t\t\tverticalType,\n\t\t\trevealHorizontal,\n\t\t\tscrollType,\n\t\t);\n\t}\n\n\tpublic getSelection(): Selection | null {\n\t\tif (!this._modelData) {\n\t\t\treturn null;\n\t\t}\n\t\treturn this._modelData.viewModel.getSelection();\n\t}\n\n\tpublic getSelections(): Selection[] | null {\n\t\tif (!this._modelData) {\n\t\t\treturn null;\n\t\t}\n\t\treturn this._modelData.viewModel.getSelections();\n\t}\n\n\tpublic setSelection(range: IRange, source?: string): void;\n\tpublic setSelection(editorRange: Range, source?: string): void;\n\tpublic setSelection(selection: ISelection, source?: string): void;\n\tpublic setSelection(editorSelection: Selection, source?: string): void;\n\tpublic setSelection(something: any, source = \"api\"): void {\n\t\tconst isSelection = Selection.isISelection(something);\n\t\tconst isRange = Range.isIRange(something);\n\n\t\tif (!isSelection && !isRange) {\n\t\t\tthrow new Error(\"Invalid arguments\");\n\t\t}\n\n\t\tif (isSelection) {\n\t\t\tthis._setSelectionImpl(<ISelection>something, source);\n\t\t} else if (isRange) {\n\t\t\t// act as if it was an IRange\n\t\t\tconst selection: ISelection = {\n\t\t\t\tselectionStartLineNumber: something.startLineNumber,\n\t\t\t\tselectionStartColumn: something.startColumn,\n\t\t\t\tpositionLineNumber: something.endLineNumber,\n\t\t\t\tpositionColumn: something.endColumn,\n\t\t\t};\n\t\t\tthis._setSelectionImpl(selection, source);\n\t\t}\n\t}\n\n\tprivate _setSelectionImpl(sel: ISelection, source: string): void {\n\t\tif (!this._modelData) {\n\t\t\treturn;\n\t\t}\n\t\tconst selection = new Selection(\n\t\t\tsel.selectionStartLineNumber,\n\t\t\tsel.selectionStartColumn,\n\t\t\tsel.positionLineNumber,\n\t\t\tsel.positionColumn,\n\t\t);\n\t\tthis._modelData.viewModel.setSelections(source, [selection]);\n\t}\n\n\tpublic revealLines(\n\t\tstartLineNumber: number,\n\t\tendLineNumber: number,\n\t\tscrollType: editorCommon.ScrollType = editorCommon.ScrollType.Smooth,\n\t): void {\n\t\tthis._revealLines(\n\t\t\tstartLineNumber,\n\t\t\tendLineNumber,\n\t\t\tVerticalRevealType.Simple,\n\t\t\tscrollType,\n\t\t);\n\t}\n\n\tpublic revealLinesInCenter(\n\t\tstartLineNumber: number,\n\t\tendLineNumber: number,\n\t\tscrollType: editorCommon.ScrollType = editorCommon.ScrollType.Smooth,\n\t): void {\n\t\tthis._revealLines(\n\t\t\tstartLineNumber,\n\t\t\tendLineNumber,\n\t\t\tVerticalRevealType.Center,\n\t\t\tscrollType,\n\t\t);\n\t}\n\n\tpublic revealLinesInCenterIfOutsideViewport(\n\t\tstartLineNumber: number,\n\t\tendLineNumber: number,\n\t\tscrollType: editorCommon.ScrollType = editorCommon.ScrollType.Smooth,\n\t): void {\n\t\tthis._revealLines(\n\t\t\tstartLineNumber,\n\t\t\tendLineNumber,\n\t\t\tVerticalRevealType.CenterIfOutsideViewport,\n\t\t\tscrollType,\n\t\t);\n\t}\n\n\tpublic revealLinesNearTop(\n\t\tstartLineNumber: number,\n\t\tendLineNumber: number,\n\t\tscrollType: editorCommon.ScrollType = editorCommon.ScrollType.Smooth,\n\t): void {\n\t\tthis._revealLines(\n\t\t\tstartLineNumber,\n\t\t\tendLineNumber,\n\t\t\tVerticalRevealType.NearTop,\n\t\t\tscrollType,\n\t\t);\n\t}\n\n\tprivate _revealLines(\n\t\tstartLineNumber: number,\n\t\tendLineNumber: number,\n\t\tverticalType: VerticalRevealType,\n\t\tscrollType: editorCommon.ScrollType,\n\t): void {\n\t\tif (\n\t\t\ttypeof startLineNumber !== \"number\" ||\n\t\t\ttypeof endLineNumber !== \"number\"\n\t\t) {\n\t\t\tthrow new Error(\"Invalid arguments\");\n\t\t}\n\n\t\tthis._sendRevealRange(\n\t\t\tnew Range(startLineNumber, 1, endLineNumber, 1),\n\t\t\tverticalType,\n\t\t\tfalse,\n\t\t\tscrollType,\n\t\t);\n\t}\n\n\tpublic revealRange(\n\t\trange: IRange,\n\t\tscrollType: editorCommon.ScrollType = editorCommon.ScrollType.Smooth,\n\t\trevealVerticalInCenter = false,\n\t\trevealHorizontal = true,\n\t): void {\n\t\tthis._revealRange(\n\t\t\trange,\n\t\t\trevealVerticalInCenter\n\t\t\t\t? VerticalRevealType.Center\n\t\t\t\t: VerticalRevealType.Simple,\n\t\t\trevealHorizontal,\n\t\t\tscrollType,\n\t\t);\n\t}\n\n\tpublic revealRangeInCenter(\n\t\trange: IRange,\n\t\tscrollType: editorCommon.ScrollType = editorCommon.ScrollType.Smooth,\n\t): void {\n\t\tthis._revealRange(range, VerticalRevealType.Center, true, scrollType);\n\t}\n\n\tpublic revealRangeInCenterIfOutsideViewport(\n\t\trange: IRange,\n\t\tscrollType: editorCommon.ScrollType = editorCommon.ScrollType.Smooth,\n\t): void {\n\t\tthis._revealRange(\n\t\t\trange,\n\t\t\tVerticalRevealType.CenterIfOutsideViewport,\n\t\t\ttrue,\n\t\t\tscrollType,\n\t\t);\n\t}\n\n\tpublic revealRangeNearTop(\n\t\trange: IRange,\n\t\tscrollType: editorCommon.ScrollType = editorCommon.ScrollType.Smooth,\n\t): void {\n\t\tthis._revealRange(range, VerticalRevealType.NearTop, true, scrollType);\n\t}\n\n\tpublic revealRangeNearTopIfOutsideViewport(\n\t\trange: IRange,\n\t\tscrollType: editorCommon.ScrollType = editorCommon.ScrollType.Smooth,\n\t): void {\n\t\tthis._revealRange(\n\t\t\trange,\n\t\t\tVerticalRevealType.NearTopIfOutsideViewport,\n\t\t\ttrue,\n\t\t\tscrollType,\n\t\t);\n\t}\n\n\tpublic revealRangeAtTop(\n\t\trange: IRange,\n\t\tscrollType: editorCommon.ScrollType = editorCommon.ScrollType.Smooth,\n\t): void {\n\t\tthis._revealRange(range, VerticalRevealType.Top, true, scrollType);\n\t}\n\n\tprivate _revealRange(\n\t\trange: IRange,\n\t\tverticalType: VerticalRevealType,\n\t\trevealHorizontal: boolean,\n\t\tscrollType: editorCommon.ScrollType,\n\t): void {\n\t\tif (!Range.isIRange(range)) {\n\t\t\tthrow new Error(\"Invalid arguments\");\n\t\t}\n\n\t\tthis._sendRevealRange(\n\t\t\tRange.lift(range),\n\t\t\tverticalType,\n\t\t\trevealHorizontal,\n\t\t\tscrollType,\n\t\t);\n\t}\n\n\tpublic setSelections(\n\t\tranges: readonly ISelection[],\n\t\tsource = \"api\",\n\t\treason = CursorChangeReason.NotSet,\n\t): void {\n\t\tif (!this._modelData) {\n\t\t\treturn;\n\t\t}\n\t\tif (!ranges || ranges.length === 0) {\n\t\t\tthrow new Error(\"Invalid arguments\");\n\t\t}\n\t\tfor (let i = 0, len = ranges.length; i < len; i++) {\n\t\t\tif (!Selection.isISelection(ranges[i])) {\n\t\t\t\tthrow new Error(\"Invalid arguments\");\n\t\t\t}\n\t\t}\n\t\tthis._modelData.viewModel.setSelections(source, ranges, reason);\n\t}\n\n\tpublic getContentWidth(): number {\n\t\tif (!this._modelData) {\n\t\t\treturn -1;\n\t\t}\n\t\treturn this._modelData.viewModel.viewLayout.getContentWidth();\n\t}\n\n\tpublic getScrollWidth(): number {\n\t\tif (!this._modelData) {\n\t\t\treturn -1;\n\t\t}\n\t\treturn this._modelData.viewModel.viewLayout.getScrollWidth();\n\t}\n\tpublic getScrollLeft(): number {\n\t\tif (!this._modelData) {\n\t\t\treturn -1;\n\t\t}\n\t\treturn this._modelData.viewModel.viewLayout.getCurrentScrollLeft();\n\t}\n\n\tpublic getContentHeight(): number {\n\t\tif (!this._modelData) {\n\t\t\treturn -1;\n\t\t}\n\t\treturn this._modelData.viewModel.viewLayout.getContentHeight();\n\t}\n\n\tpublic getScrollHeight(): number {\n\t\tif (!this._modelData) {\n\t\t\treturn -1;\n\t\t}\n\t\treturn this._modelData.viewModel.viewLayout.getScrollHeight();\n\t}\n\tpublic getScrollTop(): number {\n\t\tif (!this._modelData) {\n\t\t\treturn -1;\n\t\t}\n\t\treturn this._modelData.viewModel.viewLayout.getCurrentScrollTop();\n\t}\n\n\tpublic setScrollLeft(\n\t\tnewScrollLeft: number,\n\t\tscrollType: editorCommon.ScrollType = editorCommon.ScrollType.Immediate,\n\t): void {\n\t\tif (!this._modelData) {\n\t\t\treturn;\n\t\t}\n\t\tif (typeof newScrollLeft !== \"number\") {\n\t\t\tthrow new Error(\"Invalid arguments\");\n\t\t}\n\t\tthis._modelData.viewModel.viewLayout.setScrollPosition(\n\t\t\t{\n\t\t\t\tscrollLeft: newScrollLeft,\n\t\t\t},\n\t\t\tscrollType,\n\t\t);\n\t}\n\tpublic setScrollTop(\n\t\tnewScrollTop: number,\n\t\tscrollType: editorCommon.ScrollType = editorCommon.ScrollType.Immediate,\n\t): void {\n\t\tif (!this._modelData) {\n\t\t\treturn;\n\t\t}\n\t\tif (typeof newScrollTop !== \"number\") {\n\t\t\tthrow new Error(\"Invalid arguments\");\n\t\t}\n\t\tthis._modelData.viewModel.viewLayout.setScrollPosition(\n\t\t\t{\n\t\t\t\tscrollTop: newScrollTop,\n\t\t\t},\n\t\t\tscrollType,\n\t\t);\n\t}\n\tpublic setScrollPosition(\n\t\tposition: editorCommon.INewScrollPosition,\n\t\tscrollType: editorCommon.ScrollType = editorCommon.ScrollType.Immediate,\n\t): void {\n\t\tif (!this._modelData) {\n\t\t\treturn;\n\t\t}\n\t\tthis._modelData.viewModel.viewLayout.setScrollPosition(\n\t\t\tposition,\n\t\t\tscrollType,\n\t\t);\n\t}\n\tpublic hasPendingScrollAnimation(): boolean {\n\t\tif (!this._modelData) {\n\t\t\treturn false;\n\t\t}\n\t\treturn this._modelData.viewModel.viewLayout.hasPendingScrollAnimation();\n\t}\n\n\tpublic saveViewState(): editorCommon.ICodeEditorViewState | null {\n\t\tif (!this._modelData) {\n\t\t\treturn null;\n\t\t}\n\t\tconst contributionsState = this._contributions.saveViewState();\n\t\tconst cursorState = this._modelData.viewModel.saveCursorState();\n\t\tconst viewState = this._modelData.viewModel.saveState();\n\t\treturn {\n\t\t\tcursorState: cursorState,\n\t\t\tviewState: viewState,\n\t\t\tcontributionsState: contributionsState,\n\t\t};\n\t}\n\n\tpublic restoreViewState(s: editorCommon.IEditorViewState | null): void {\n\t\tif (!this._modelData || !this._modelData.hasRealView) {\n\t\t\treturn;\n\t\t}\n\t\tconst codeEditorState = s as editorCommon.ICodeEditorViewState | null;\n\t\tif (\n\t\t\tcodeEditorState &&\n\t\t\tcodeEditorState.cursorState &&\n\t\t\tcodeEditorState.viewState\n\t\t) {\n\t\t\tconst cursorState = <any>codeEditorState.cursorState;\n\t\t\tif (Array.isArray(cursorState)) {\n\t\t\t\tif (cursorState.length > 0) {\n\t\t\t\t\tthis._modelData.viewModel.restoreCursorState(\n\t\t\t\t\t\t<editorCommon.ICursorState[]>cursorState,\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Backwards compatibility\n\t\t\t\tthis._modelData.viewModel.restoreCursorState([\n\t\t\t\t\t<editorCommon.ICursorState>cursorState,\n\t\t\t\t]);\n\t\t\t}\n\n\t\t\tthis._contributions.restoreViewState(\n\t\t\t\tcodeEditorState.contributionsState || {},\n\t\t\t);\n\t\t\tconst reducedState = this._modelData.viewModel.reduceRestoreState(\n\t\t\t\tcodeEditorState.viewState,\n\t\t\t);\n\t\t\tthis._modelData.view.restoreState(reducedState);\n\t\t}\n\t}\n\n\tpublic handleInitialized(): void {\n\t\tthis._getViewModel()?.visibleLinesStabilized();\n\t}\n\n\tpublic onVisible(): void {\n\t\tthis._modelData?.view.refreshFocusState();\n\t}\n\n\tpublic onHide(): void {\n\t\tthis._modelData?.view.refreshFocusState();\n\t\tthis._focusTracker.refreshState();\n\t}\n\n\tpublic getContribution<T extends editorCommon.IEditorContribution>(\n\t\tid: string,\n\t): T | null {\n\t\treturn this._contributions.get(id) as T | null;\n\t}\n\n\tpublic getActions(): editorCommon.IEditorAction[] {\n\t\treturn Array.from(this._actions.values());\n\t}\n\n\tpublic getSupportedActions(): editorCommon.IEditorAction[] {\n\t\tlet result = this.getActions();\n\n\t\tresult = result.filter((action) => action.isSupported());\n\n\t\treturn result;\n\t}\n\n\tpublic getAction(id: string): editorCommon.IEditorAction | null {\n\t\treturn this._actions.get(id) || null;\n\t}\n\n\tpublic trigger(\n\t\tsource: string | null | undefined,\n\t\thandlerId: string,\n\t\tpayload: any,\n\t): void {\n\t\tpayload = payload || {};\n\n\t\ttry {\n\t\t\tthis._onWillTriggerEditorOperationEvent.fire({\n\t\t\t\tsource: source,\n\t\t\t\thandlerId: handlerId,\n\t\t\t\tpayload: payload,\n\t\t\t});\n\t\t\tthis._beginUpdate();\n\n\t\t\tswitch (handlerId) {\n\t\t\t\tcase editorCommon.Handler.CompositionStart:\n\t\t\t\t\tthis._startComposition();\n\t\t\t\t\treturn;\n\t\t\t\tcase editorCommon.Handler.CompositionEnd:\n\t\t\t\t\tthis._endComposition(source);\n\t\t\t\t\treturn;\n\t\t\t\tcase editorCommon.Handler.Type: {\n\t\t\t\t\tconst args = <Partial<editorCommon.TypePayload>>payload;\n\t\t\t\t\tthis._type(source, args.text || \"\");\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tcase editorCommon.Handler.ReplacePreviousChar: {\n\t\t\t\t\tconst args = <\n\t\t\t\t\t\tPartial<editorCommon.ReplacePreviousCharPayload>\n\t\t\t\t\t>payload;\n\t\t\t\t\tthis._compositionType(\n\t\t\t\t\t\tsource,\n\t\t\t\t\t\targs.text || \"\",\n\t\t\t\t\t\targs.replaceCharCnt || 0,\n\t\t\t\t\t\t0,\n\t\t\t\t\t\t0,\n\t\t\t\t\t);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tcase editorCommon.Handler.CompositionType: {\n\t\t\t\t\tconst args = <Partial<editorCommon.CompositionTypePayload>>(\n\t\t\t\t\t\tpayload\n\t\t\t\t\t);\n\t\t\t\t\tthis._compositionType(\n\t\t\t\t\t\tsource,\n\t\t\t\t\t\targs.text || \"\",\n\t\t\t\t\t\targs.replacePrevCharCnt || 0,\n\t\t\t\t\t\targs.replaceNextCharCnt || 0,\n\t\t\t\t\t\targs.positionDelta || 0,\n\t\t\t\t\t);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tcase editorCommon.Handler.Paste: {\n\t\t\t\t\tconst args = <Partial<editorBrowser.PastePayload>>payload;\n\t\t\t\t\tthis._paste(\n\t\t\t\t\t\tsource,\n\t\t\t\t\t\targs.text || \"\",\n\t\t\t\t\t\targs.pasteOnNewLine || false,\n\t\t\t\t\t\targs.multicursorText || null,\n\t\t\t\t\t\targs.mode || null,\n\t\t\t\t\t\targs.clipboardEvent,\n\t\t\t\t\t);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tcase editorCommon.Handler.Cut:\n\t\t\t\t\tthis._cut(source);\n\t\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst action = this.getAction(handlerId);\n\t\t\tif (action) {\n\t\t\t\tPromise.resolve(action.run(payload)).then(\n\t\t\t\t\tundefined,\n\t\t\t\t\tonUnexpectedError,\n\t\t\t\t);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (!this._modelData) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (this._triggerEditorCommand(source, handlerId, payload)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis._triggerCommand(handlerId, payload);\n\t\t} finally {\n\t\t\tthis._endUpdate();\n\t\t}\n\t}\n\n\tprotected _triggerCommand(handlerId: string, payload: any): void {\n\t\tthis._commandService.executeCommand(handlerId, payload);\n\t}\n\n\tprivate _startComposition(): void {\n\t\tif (!this._modelData) {\n\t\t\treturn;\n\t\t}\n\t\tthis._modelData.viewModel.startComposition();\n\t\tthis._onDidCompositionStart.fire();\n\t}\n\n\tprivate _endComposition(source: string | null | undefined): void {\n\t\tif (!this._modelData) {\n\t\t\treturn;\n\t\t}\n\t\tthis._modelData.viewModel.endComposition(source);\n\t\tthis._onDidCompositionEnd.fire();\n\t}\n\n\tprivate _type(source: string | null | undefined, text: string): void {\n\t\tif (!this._modelData || text.length === 0) {\n\t\t\treturn;\n\t\t}\n\t\tif (source === \"keyboard\") {\n\t\t\tthis._onWillType.fire(text);\n\t\t}\n\t\tthis._modelData.viewModel.type(text, source);\n\t\tif (source === \"keyboard\") {\n\t\t\tthis._onDidType.fire(text);\n\t\t}\n\t}\n\n\tprivate _compositionType(\n\t\tsource: string | null | undefined,\n\t\ttext: string,\n\t\treplacePrevCharCnt: number,\n\t\treplaceNextCharCnt: number,\n\t\tpositionDelta: number,\n\t): void {\n\t\tif (!this._modelData) {\n\t\t\treturn;\n\t\t}\n\t\tthis._modelData.viewModel.compositionType(\n\t\t\ttext,\n\t\t\treplacePrevCharCnt,\n\t\t\treplaceNextCharCnt,\n\t\t\tpositionDelta,\n\t\t\tsource,\n\t\t);\n\t}\n\n\tprivate _paste(\n\t\tsource: string | null | undefined,\n\t\ttext: string,\n\t\tpasteOnNewLine: boolean,\n\t\tmulticursorText: string[] | null,\n\t\tmode: string | null,\n\t\tclipboardEvent?: ClipboardEvent,\n\t): void {\n\t\tif (!this._modelData) {\n\t\t\treturn;\n\t\t}\n\t\tconst viewModel = this._modelData.viewModel;\n\t\tconst startPosition = viewModel.getSelection().getStartPosition();\n\t\tviewModel.paste(text, pasteOnNewLine, multicursorText, source);\n\t\tconst endPosition = viewModel.getSelection().getStartPosition();\n\t\tif (source === \"keyboard\") {\n\t\t\tthis._onDidPaste.fire({\n\t\t\t\tclipboardEvent,\n\t\t\t\trange: new Range(\n\t\t\t\t\tstartPosition.lineNumber,\n\t\t\t\t\tstartPosition.column,\n\t\t\t\t\tendPosition.lineNumber,\n\t\t\t\t\tendPosition.column,\n\t\t\t\t),\n\t\t\t\tlanguageId: mode,\n\t\t\t});\n\t\t}\n\t}\n\n\tprivate _cut(source: string | null | undefined): void {\n\t\tif (!this._modelData) {\n\t\t\treturn;\n\t\t}\n\t\tthis._modelData.viewModel.cut(source);\n\t}\n\n\tprivate _triggerEditorCommand(\n\t\tsource: string | null | undefined,\n\t\thandlerId: string,\n\t\tpayload: any,\n\t): boolean {\n\t\tconst command = EditorExtensionsRegistry.getEditorCommand(handlerId);\n\t\tif (command) {\n\t\t\tpayload = payload || {};\n\t\t\tpayload.source = source;\n\t\t\tthis._instantiationService.invokeFunction((accessor) => {\n\t\t\t\tPromise.resolve(\n\t\t\t\t\tcommand.runEditorCommand(accessor, this, payload),\n\t\t\t\t).then(undefined, onUnexpectedError);\n\t\t\t});\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tpublic _getViewModel(): IViewModel | null {\n\t\tif (!this._modelData) {\n\t\t\treturn null;\n\t\t}\n\t\treturn this._modelData.viewModel;\n\t}\n\n\tpublic pushUndoStop(): boolean {\n\t\tif (!this._modelData) {\n\t\t\treturn false;\n\t\t}\n\t\tif (this._configuration.options.get(EditorOption.readOnly)) {\n\t\t\t// read only editor => sorry!\n\t\t\treturn false;\n\t\t}\n\t\tthis._modelData.model.pushStackElement();\n\t\treturn true;\n\t}\n\n\tpublic popUndoStop(): boolean {\n\t\tif (!this._modelData) {\n\t\t\treturn false;\n\t\t}\n\t\tif (this._configuration.options.get(EditorOption.readOnly)) {\n\t\t\t// read only editor => sorry!\n\t\t\treturn false;\n\t\t}\n\t\tthis._modelData.model.popStackElement();\n\t\treturn true;\n\t}\n\n\tpublic executeEdits(\n\t\tsource: string | null | undefined,\n\t\tedits: IIdentifiedSingleEditOperation[],\n\t\tendCursorState?: ICursorStateComputer | Selection[],\n\t): boolean {\n\t\tif (!this._modelData) {\n\t\t\treturn false;\n\t\t}\n\t\tif (this._configuration.options.get(EditorOption.readOnly)) {\n\t\t\t// read only editor => sorry!\n\t\t\treturn false;\n\t\t}\n\n\t\tlet cursorStateComputer: ICursorStateComputer;\n\t\tif (!endCursorState) {\n\t\t\tcursorStateComputer = () => null;\n\t\t} else if (Array.isArray(endCursorState)) {\n\t\t\tcursorStateComputer = () => endCursorState;\n\t\t} else {\n\t\t\tcursorStateComputer = endCursorState;\n\t\t}\n\n\t\tthis._modelData.viewModel.executeEdits(\n\t\t\tsource,\n\t\t\tedits,\n\t\t\tcursorStateComputer,\n\t\t);\n\t\treturn true;\n\t}\n\n\tpublic executeCommand(\n\t\tsource: string | null | undefined,\n\t\tcommand: editorCommon.ICommand,\n\t): void {\n\t\tif (!this._modelData) {\n\t\t\treturn;\n\t\t}\n\t\tthis._modelData.viewModel.executeCommand(command, source);\n\t}\n\n\tpublic executeCommands(\n\t\tsource: string | null | undefined,\n\t\tcommands: editorCommon.ICommand[],\n\t): void {\n\t\tif (!this._modelData) {\n\t\t\treturn;\n\t\t}\n\t\tthis._modelData.viewModel.executeCommands(commands, source);\n\t}\n\n\tpublic createDecorationsCollection(\n\t\tdecorations?: IModelDeltaDecoration[],\n\t): EditorDecorationsCollection {\n\t\treturn new EditorDecorationsCollection(this, decorations);\n\t}\n\n\tpublic changeDecorations(\n\t\tcallback: (changeAccessor: IModelDecorationsChangeAccessor) => any,\n\t): any {\n\t\tif (!this._modelData) {\n\t\t\t// callback will not be called\n\t\t\treturn null;\n\t\t}\n\t\treturn this._modelData.model.changeDecorations(callback, this._id);\n\t}\n\n\tpublic getLineDecorations(lineNumber: number): IModelDecoration[] | null {\n\t\tif (!this._modelData) {\n\t\t\treturn null;\n\t\t}\n\t\treturn this._modelData.model.getLineDecorations(\n\t\t\tlineNumber,\n\t\t\tthis._id,\n\t\t\tfilterValidationDecorations(this._configuration.options),\n\t\t);\n\t}\n\n\tpublic getDecorationsInRange(range: Range): IModelDecoration[] | null {\n\t\tif (!this._modelData) {\n\t\t\treturn null;\n\t\t}\n\t\treturn this._modelData.model.getDecorationsInRange(\n\t\t\trange,\n\t\t\tthis._id,\n\t\t\tfilterValidationDecorations(this._configuration.options),\n\t\t);\n\t}\n\n\t/**\n\t * @deprecated\n\t */\n\tpublic deltaDecorations(\n\t\toldDecorations: string[],\n\t\tnewDecorations: IModelDeltaDecoration[],\n\t): string[] {\n\t\tif (!this._modelData) {\n\t\t\treturn [];\n\t\t}\n\n\t\tif (oldDecorations.length === 0 && newDecorations.length === 0) {\n\t\t\treturn oldDecorations;\n\t\t}\n\n\t\treturn this._modelData.model.deltaDecorations(\n\t\t\toldDecorations,\n\t\t\tnewDecorations,\n\t\t\tthis._id,\n\t\t);\n\t}\n\n\tpublic removeDecorations(decorationIds: string[]): void {\n\t\tif (!this._modelData || decorationIds.length === 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._modelData.model.changeDecorations((changeAccessor) => {\n\t\t\tchangeAccessor.deltaDecorations(decorationIds, []);\n\t\t});\n\t}\n\n\tpublic setDecorationsByType(\n\t\tdescription: string,\n\t\tdecorationTypeKey: string,\n\t\tdecorationOptions: editorCommon.IDecorationOptions[],\n\t): void {\n\t\tconst newDecorationsSubTypes: { [key: string]: boolean } = {};\n\t\tconst oldDecorationsSubTypes =\n\t\t\tthis._decorationTypeSubtypes[decorationTypeKey] || {};\n\t\tthis._decorationTypeSubtypes[decorationTypeKey] =\n\t\t\tnewDecorationsSubTypes;\n\n\t\tconst newModelDecorations: IModelDeltaDecoration[] = [];\n\n\t\tfor (const decorationOption of decorationOptions) {\n\t\t\tlet typeKey = decorationTypeKey;\n\t\t\tif (decorationOption.renderOptions) {\n\t\t\t\t// identify custom render options by a hash code over all keys and values\n\t\t\t\t// For custom render options register a decoration type if necessary\n\t\t\t\tconst subType = hash(decorationOption.renderOptions).toString(\n\t\t\t\t\t16,\n\t\t\t\t);\n\t\t\t\t// The fact that `decorationTypeKey` appears in the typeKey has no influence\n\t\t\t\t// it is just a mechanism to get predictable and unique keys (repeatable for the same options and unique across clients)\n\t\t\t\ttypeKey = decorationTypeKey + \"-\" + subType;\n\t\t\t\tif (\n\t\t\t\t\t!oldDecorationsSubTypes[subType] &&\n\t\t\t\t\t!newDecorationsSubTypes[subType]\n\t\t\t\t) {\n\t\t\t\t\t// decoration type did not exist before, register new one\n\t\t\t\t\tthis._registerDecorationType(\n\t\t\t\t\t\tdescription,\n\t\t\t\t\t\ttypeKey,\n\t\t\t\t\t\tdecorationOption.renderOptions,\n\t\t\t\t\t\tdecorationTypeKey,\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tnewDecorationsSubTypes[subType] = true;\n\t\t\t}\n\t\t\tconst opts = this._resolveDecorationOptions(\n\t\t\t\ttypeKey,\n\t\t\t\t!!decorationOption.hoverMessage,\n\t\t\t);\n\t\t\tif (decorationOption.hoverMessage) {\n\t\t\t\topts.hoverMessage = decorationOption.hoverMessage;\n\t\t\t}\n\t\t\tnewModelDecorations.push({\n\t\t\t\trange: decorationOption.range,\n\t\t\t\toptions: opts,\n\t\t\t});\n\t\t}\n\n\t\t// remove decoration sub types that are no longer used, deregister decoration type if necessary\n\t\tfor (const subType in oldDecorationsSubTypes) {\n\t\t\tif (!newDecorationsSubTypes[subType]) {\n\t\t\t\tthis._removeDecorationType(decorationTypeKey + \"-\" + subType);\n\t\t\t}\n\t\t}\n\n\t\t// update all decorations\n\t\tconst oldDecorationsIds =\n\t\t\tthis._decorationTypeKeysToIds[decorationTypeKey] || [];\n\t\tthis.changeDecorations(\n\t\t\t(accessor) =>\n\t\t\t\t(this._decorationTypeKeysToIds[decorationTypeKey] =\n\t\t\t\t\taccessor.deltaDecorations(\n\t\t\t\t\t\toldDecorationsIds,\n\t\t\t\t\t\tnewModelDecorations,\n\t\t\t\t\t)),\n\t\t);\n\t}\n\n\tpublic setDecorationsByTypeFast(\n\t\tdecorationTypeKey: string,\n\t\tranges: IRange[],\n\t): void {\n\t\t// remove decoration sub types that are no longer used, deregister decoration type if necessary\n\t\tconst oldDecorationsSubTypes =\n\t\t\tthis._decorationTypeSubtypes[decorationTypeKey] || {};\n\t\tfor (const subType in oldDecorationsSubTypes) {\n\t\t\tthis._removeDecorationType(decorationTypeKey + \"-\" + subType);\n\t\t}\n\t\tthis._decorationTypeSubtypes[decorationTypeKey] = {};\n\n\t\tconst opts = ModelDecorationOptions.createDynamic(\n\t\t\tthis._resolveDecorationOptions(decorationTypeKey, false),\n\t\t);\n\t\tconst newModelDecorations: IModelDeltaDecoration[] =\n\t\t\tnew Array<IModelDeltaDecoration>(ranges.length);\n\t\tfor (let i = 0, len = ranges.length; i < len; i++) {\n\t\t\tnewModelDecorations[i] = { range: ranges[i], options: opts };\n\t\t}\n\n\t\t// update all decorations\n\t\tconst oldDecorationsIds =\n\t\t\tthis._decorationTypeKeysToIds[decorationTypeKey] || [];\n\t\tthis.changeDecorations(\n\t\t\t(accessor) =>\n\t\t\t\t(this._decorationTypeKeysToIds[decorationTypeKey] =\n\t\t\t\t\taccessor.deltaDecorations(\n\t\t\t\t\t\toldDecorationsIds,\n\t\t\t\t\t\tnewModelDecorations,\n\t\t\t\t\t)),\n\t\t);\n\t}\n\n\tpublic removeDecorationsByType(decorationTypeKey: string): void {\n\t\t// remove decorations for type and sub type\n\t\tconst oldDecorationsIds =\n\t\t\tthis._decorationTypeKeysToIds[decorationTypeKey];\n\t\tif (oldDecorationsIds) {\n\t\t\tthis.changeDecorations((accessor) =>\n\t\t\t\taccessor.deltaDecorations(oldDecorationsIds, []),\n\t\t\t);\n\t\t}\n\t\tif (this._decorationTypeKeysToIds.hasOwnProperty(decorationTypeKey)) {\n\t\t\tdelete this._decorationTypeKeysToIds[decorationTypeKey];\n\t\t}\n\t\tif (this._decorationTypeSubtypes.hasOwnProperty(decorationTypeKey)) {\n\t\t\tdelete this._decorationTypeSubtypes[decorationTypeKey];\n\t\t}\n\t}\n\n\tpublic getLayoutInfo(): EditorLayoutInfo {\n\t\tconst options = this._configuration.options;\n\t\tconst layoutInfo = options.get(EditorOption.layoutInfo);\n\t\treturn layoutInfo;\n\t}\n\n\tpublic createOverviewRuler(\n\t\tcssClassName: string,\n\t): editorBrowser.IOverviewRuler | null {\n\t\tif (!this._modelData || !this._modelData.hasRealView) {\n\t\t\treturn null;\n\t\t}\n\t\treturn this._modelData.view.createOverviewRuler(cssClassName);\n\t}\n\n\tpublic getContainerDomNode(): HTMLElement {\n\t\treturn this._domElement;\n\t}\n\n\tpublic getDomNode(): HTMLElement | null {\n\t\tif (!this._modelData || !this._modelData.hasRealView) {\n\t\t\treturn null;\n\t\t}\n\t\treturn this._modelData.view.domNode.domNode;\n\t}\n\n\tpublic delegateVerticalScrollbarPointerDown(\n\t\tbrowserEvent: PointerEvent,\n\t): void {\n\t\tif (!this._modelData || !this._modelData.hasRealView) {\n\t\t\treturn;\n\t\t}\n\t\tthis._modelData.view.delegateVerticalScrollbarPointerDown(browserEvent);\n\t}\n\n\tpublic delegateScrollFromMouseWheelEvent(browserEvent: IMouseWheelEvent) {\n\t\tif (!this._modelData || !this._modelData.hasRealView) {\n\t\t\treturn;\n\t\t}\n\t\tthis._modelData.view.delegateScrollFromMouseWheelEvent(browserEvent);\n\t}\n\n\tpublic layout(dimension?: IDimension, postponeRendering = false): void {\n\t\tthis._configuration.observeContainer(dimension);\n\t\tif (!postponeRendering) {\n\t\t\tthis.render();\n\t\t}\n\t}\n\n\tpublic focus(): void {\n\t\tif (!this._modelData || !this._modelData.hasRealView) {\n\t\t\treturn;\n\t\t}\n\t\tthis._modelData.view.focus();\n\t}\n\n\tpublic hasTextFocus(): boolean {\n\t\tif (!this._modelData || !this._modelData.hasRealView) {\n\t\t\treturn false;\n\t\t}\n\t\treturn this._modelData.view.isFocused();\n\t}\n\n\tpublic hasWidgetFocus(): boolean {\n\t\treturn this._focusTracker && this._focusTracker.hasFocus();\n\t}\n\n\tpublic addContentWidget(widget: editorBrowser.IContentWidget): void {\n\t\tconst widgetData: IContentWidgetData = {\n\t\t\twidget: widget,\n\t\t\tposition: widget.getPosition(),\n\t\t};\n\n\t\tif (this._contentWidgets.hasOwnProperty(widget.getId())) {\n\t\t\tconsole.warn(\n\t\t\t\t\"Overwriting a content widget with the same id:\" +\n\t\t\t\t\twidget.getId(),\n\t\t\t);\n\t\t}\n\n\t\tthis._contentWidgets[widget.getId()] = widgetData;\n\n\t\tif (this._modelData && this._modelData.hasRealView) {\n\t\t\tthis._modelData.view.addContentWidget(widgetData);\n\t\t}\n\t}\n\n\tpublic layoutContentWidget(widget: editorBrowser.IContentWidget): void {\n\t\tconst widgetId = widget.getId();\n\t\tif (this._contentWidgets.hasOwnProperty(widgetId)) {\n\t\t\tconst widgetData = this._contentWidgets[widgetId];\n\t\t\twidgetData.position = widget.getPosition();\n\t\t\tif (this._modelData && this._modelData.hasRealView) {\n\t\t\t\tthis._modelData.view.layoutContentWidget(widgetData);\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic removeContentWidget(widget: editorBrowser.IContentWidget): void {\n\t\tconst widgetId = widget.getId();\n\t\tif (this._contentWidgets.hasOwnProperty(widgetId)) {\n\t\t\tconst widgetData = this._contentWidgets[widgetId];\n\t\t\tdelete this._contentWidgets[widgetId];\n\t\t\tif (this._modelData && this._modelData.hasRealView) {\n\t\t\t\tthis._modelData.view.removeContentWidget(widgetData);\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic addOverlayWidget(widget: editorBrowser.IOverlayWidget): void {\n\t\tconst widgetData: IOverlayWidgetData = {\n\t\t\twidget: widget,\n\t\t\tposition: widget.getPosition(),\n\t\t};\n\n\t\tif (this._overlayWidgets.hasOwnProperty(widget.getId())) {\n\t\t\tconsole.warn(\"Overwriting an overlay widget with the same id.\");\n\t\t}\n\n\t\tthis._overlayWidgets[widget.getId()] = widgetData;\n\t\tif (this._modelData && this._modelData.hasRealView) {\n\t\t\tthis._modelData.view.addOverlayWidget(widgetData);\n\t\t}\n\t}\n\n\tpublic layoutOverlayWidget(widget: editorBrowser.IOverlayWidget): void {\n\t\tconst widgetId = widget.getId();\n\t\tif (this._overlayWidgets.hasOwnProperty(widgetId)) {\n\t\t\tconst widgetData = this._overlayWidgets[widgetId];\n\t\t\twidgetData.position = widget.getPosition();\n\t\t\tif (this._modelData && this._modelData.hasRealView) {\n\t\t\t\tthis._modelData.view.layoutOverlayWidget(widgetData);\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic removeOverlayWidget(widget: editorBrowser.IOverlayWidget): void {\n\t\tconst widgetId = widget.getId();\n\t\tif (this._overlayWidgets.hasOwnProperty(widgetId)) {\n\t\t\tconst widgetData = this._overlayWidgets[widgetId];\n\t\t\tdelete this._overlayWidgets[widgetId];\n\t\t\tif (this._modelData && this._modelData.hasRealView) {\n\t\t\t\tthis._modelData.view.removeOverlayWidget(widgetData);\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic addGlyphMarginWidget(\n\t\twidget: editorBrowser.IGlyphMarginWidget,\n\t): void {\n\t\tconst widgetData: IGlyphMarginWidgetData = {\n\t\t\twidget: widget,\n\t\t\tposition: widget.getPosition(),\n\t\t};\n\n\t\tif (this._glyphMarginWidgets.hasOwnProperty(widget.getId())) {\n\t\t\tconsole.warn(\"Overwriting a glyph margin widget with the same id.\");\n\t\t}\n\n\t\tthis._glyphMarginWidgets[widget.getId()] = widgetData;\n\n\t\tif (this._modelData && this._modelData.hasRealView) {\n\t\t\tthis._modelData.view.addGlyphMarginWidget(widgetData);\n\t\t}\n\t}\n\n\tpublic layoutGlyphMarginWidget(\n\t\twidget: editorBrowser.IGlyphMarginWidget,\n\t): void {\n\t\tconst widgetId = widget.getId();\n\t\tif (this._glyphMarginWidgets.hasOwnProperty(widgetId)) {\n\t\t\tconst widgetData = this._glyphMarginWidgets[widgetId];\n\t\t\twidgetData.position = widget.getPosition();\n\t\t\tif (this._modelData && this._modelData.hasRealView) {\n\t\t\t\tthis._modelData.view.layoutGlyphMarginWidget(widgetData);\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic removeGlyphMarginWidget(\n\t\twidget: editorBrowser.IGlyphMarginWidget,\n\t): void {\n\t\tconst widgetId = widget.getId();\n\t\tif (this._glyphMarginWidgets.hasOwnProperty(widgetId)) {\n\t\t\tconst widgetData = this._glyphMarginWidgets[widgetId];\n\t\t\tdelete this._glyphMarginWidgets[widgetId];\n\t\t\tif (this._modelData && this._modelData.hasRealView) {\n\t\t\t\tthis._modelData.view.removeGlyphMarginWidget(widgetData);\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic changeViewZones(\n\t\tcallback: (accessor: editorBrowser.IViewZoneChangeAccessor) => void,\n\t): void {\n\t\tif (!this._modelData || !this._modelData.hasRealView) {\n\t\t\treturn;\n\t\t}\n\t\tthis._modelData.view.change(callback);\n\t}\n\n\tpublic getTargetAtClientPoint(\n\t\tclientX: number,\n\t\tclientY: number,\n\t): editorBrowser.IMouseTarget | null {\n\t\tif (!this._modelData || !this._modelData.hasRealView) {\n\t\t\treturn null;\n\t\t}\n\t\treturn this._modelData.view.getTargetAtClientPoint(clientX, clientY);\n\t}\n\n\tpublic getScrolledVisiblePosition(\n\t\trawPosition: IPosition,\n\t): { top: number; left: number; height: number } | null {\n\t\tif (!this._modelData || !this._modelData.hasRealView) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst position = this._modelData.model.validatePosition(rawPosition);\n\t\tconst options = this._configuration.options;\n\t\tconst layoutInfo = options.get(EditorOption.layoutInfo);\n\n\t\tconst top =\n\t\t\tCodeEditorWidget._getVerticalOffsetForPosition(\n\t\t\t\tthis._modelData,\n\t\t\t\tposition.lineNumber,\n\t\t\t\tposition.column,\n\t\t\t) - this.getScrollTop();\n\t\tconst left =\n\t\t\tthis._modelData.view.getOffsetForColumn(\n\t\t\t\tposition.lineNumber,\n\t\t\t\tposition.column,\n\t\t\t) +\n\t\t\tlayoutInfo.glyphMarginWidth +\n\t\t\tlayoutInfo.lineNumbersWidth +\n\t\t\tlayoutInfo.decorationsWidth -\n\t\t\tthis.getScrollLeft();\n\n\t\treturn {\n\t\t\ttop: top,\n\t\t\tleft: left,\n\t\t\theight: options.get(EditorOption.lineHeight),\n\t\t};\n\t}\n\n\tpublic getOffsetForColumn(lineNumber: number, column: number): number {\n\t\tif (!this._modelData || !this._modelData.hasRealView) {\n\t\t\treturn -1;\n\t\t}\n\t\treturn this._modelData.view.getOffsetForColumn(lineNumber, column);\n\t}\n\n\tpublic render(forceRedraw = false): void {\n\t\tif (!this._modelData || !this._modelData.hasRealView) {\n\t\t\treturn;\n\t\t}\n\t\tthis._modelData.viewModel.batchEvents(() => {\n\t\t\tthis._modelData!.view.render(true, forceRedraw);\n\t\t});\n\t}\n\n\tpublic setAriaOptions(options: editorBrowser.IEditorAriaOptions): void {\n\t\tif (!this._modelData || !this._modelData.hasRealView) {\n\t\t\treturn;\n\t\t}\n\t\tthis._modelData.view.setAriaOptions(options);\n\t}\n\n\tpublic applyFontInfo(target: HTMLElement): void {\n\t\tapplyFontInfo(\n\t\t\ttarget,\n\t\t\tthis._configuration.options.get(EditorOption.fontInfo),\n\t\t);\n\t}\n\n\tpublic setBanner(domNode: HTMLElement | null, domNodeHeight: number): void {\n\t\tif (\n\t\t\tthis._bannerDomNode &&\n\t\t\tthis._domElement.contains(this._bannerDomNode)\n\t\t) {\n\t\t\tthis._bannerDomNode.remove();\n\t\t}\n\n\t\tthis._bannerDomNode = domNode;\n\t\tthis._configuration.setReservedHeight(domNode ? domNodeHeight : 0);\n\n\t\tif (this._bannerDomNode) {\n\t\t\tthis._domElement.prepend(this._bannerDomNode);\n\t\t}\n\t}\n\n\tprotected _attachModel(model: ITextModel | null): void {\n\t\tif (!model) {\n\t\t\tthis._modelData = null;\n\t\t\treturn;\n\t\t}\n\n\t\tconst listenersToRemove: IDisposable[] = [];\n\n\t\tthis._domElement.setAttribute(\"data-mode-id\", model.getLanguageId());\n\t\tthis._configuration.setIsDominatedByLongLines(\n\t\t\tmodel.isDominatedByLongLines(),\n\t\t);\n\t\tthis._configuration.setModelLineCount(model.getLineCount());\n\n\t\tconst attachedView = model.onBeforeAttached();\n\n\t\tconst viewModel = new ViewModel(\n\t\t\tthis._id,\n\t\t\tthis._configuration,\n\t\t\tmodel,\n\t\t\tDOMLineBreaksComputerFactory.create(\n\t\t\t\tdom.getWindow(this._domElement),\n\t\t\t),\n\t\t\tMonospaceLineBreaksComputerFactory.create(\n\t\t\t\tthis._configuration.options,\n\t\t\t),\n\t\t\t(callback) =>\n\t\t\t\tdom.scheduleAtNextAnimationFrame(\n\t\t\t\t\tdom.getWindow(this._domElement),\n\t\t\t\t\tcallback,\n\t\t\t\t),\n\t\t\tthis.languageConfigurationService,\n\t\t\tthis._themeService,\n\t\t\tattachedView,\n\t\t\t{\n\t\t\t\tbatchChanges: (cb) => {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tthis._beginUpdate();\n\t\t\t\t\t\treturn cb();\n\t\t\t\t\t} finally {\n\t\t\t\t\t\tthis._endUpdate();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t},\n\t\t);\n\n\t\t// Someone might destroy the model from under the editor, so prevent any exceptions by setting a null model\n\t\tlistenersToRemove.push(model.onWillDispose(() => this.setModel(null)));\n\n\t\tlistenersToRemove.push(\n\t\t\tviewModel.onEvent((e) => {\n\t\t\t\tswitch (e.kind) {\n\t\t\t\t\tcase OutgoingViewModelEventKind.ContentSizeChanged:\n\t\t\t\t\t\tthis._onDidContentSizeChange.fire(e);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase OutgoingViewModelEventKind.FocusChanged:\n\t\t\t\t\t\tthis._editorTextFocus.setValue(e.hasFocus);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase OutgoingViewModelEventKind.ScrollChanged:\n\t\t\t\t\t\tthis._onDidScrollChange.fire(e);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase OutgoingViewModelEventKind.ViewZonesChanged:\n\t\t\t\t\t\tthis._onDidChangeViewZones.fire();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase OutgoingViewModelEventKind.HiddenAreasChanged:\n\t\t\t\t\t\tthis._onDidChangeHiddenAreas.fire();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase OutgoingViewModelEventKind.ReadOnlyEditAttempt:\n\t\t\t\t\t\tthis._onDidAttemptReadOnlyEdit.fire();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase OutgoingViewModelEventKind.CursorStateChanged: {\n\t\t\t\t\t\tif (e.reachedMaxCursorCount) {\n\t\t\t\t\t\t\tconst multiCursorLimit = this.getOption(\n\t\t\t\t\t\t\t\tEditorOption.multiCursorLimit,\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tconst message = nls.localize(\n\t\t\t\t\t\t\t\t\"cursors.maximum\",\n\t\t\t\t\t\t\t\t\"The number of cursors has been limited to {0}. Consider using [find and replace](https://code.visualstudio.com/docs/editor/codebasics#_find-and-replace) for larger changes or increase the editor multi cursor limit setting.\",\n\t\t\t\t\t\t\t\tmultiCursorLimit,\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tthis._notificationService.prompt(\n\t\t\t\t\t\t\t\tSeverity.Warning,\n\t\t\t\t\t\t\t\tmessage,\n\t\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tlabel: \"Find and Replace\",\n\t\t\t\t\t\t\t\t\t\trun: () => {\n\t\t\t\t\t\t\t\t\t\t\tthis._commandService.executeCommand(\n\t\t\t\t\t\t\t\t\t\t\t\t\"editor.action.startFindReplaceAction\",\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tlabel: nls.localize(\n\t\t\t\t\t\t\t\t\t\t\t\"goToSetting\",\n\t\t\t\t\t\t\t\t\t\t\t\"Increase Multi Cursor Limit\",\n\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\trun: () => {\n\t\t\t\t\t\t\t\t\t\t\tthis._commandService.executeCommand(\n\t\t\t\t\t\t\t\t\t\t\t\t\"workbench.action.openSettings2\",\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tquery: \"editor.multiCursorLimit\",\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst positions: Position[] = [];\n\t\t\t\t\t\tfor (\n\t\t\t\t\t\t\tlet i = 0, len = e.selections.length;\n\t\t\t\t\t\t\ti < len;\n\t\t\t\t\t\t\ti++\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tpositions[i] = e.selections[i].getPosition();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst e1: ICursorPositionChangedEvent = {\n\t\t\t\t\t\t\tposition: positions[0],\n\t\t\t\t\t\t\tsecondaryPositions: positions.slice(1),\n\t\t\t\t\t\t\treason: e.reason,\n\t\t\t\t\t\t\tsource: e.source,\n\t\t\t\t\t\t};\n\t\t\t\t\t\tthis._onDidChangeCursorPosition.fire(e1);\n\n\t\t\t\t\t\tconst e2: ICursorSelectionChangedEvent = {\n\t\t\t\t\t\t\tselection: e.selections[0],\n\t\t\t\t\t\t\tsecondarySelections: e.selections.slice(1),\n\t\t\t\t\t\t\tmodelVersionId: e.modelVersionId,\n\t\t\t\t\t\t\toldSelections: e.oldSelections,\n\t\t\t\t\t\t\toldModelVersionId: e.oldModelVersionId,\n\t\t\t\t\t\t\tsource: e.source,\n\t\t\t\t\t\t\treason: e.reason,\n\t\t\t\t\t\t};\n\t\t\t\t\t\tthis._onDidChangeCursorSelection.fire(e2);\n\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tcase OutgoingViewModelEventKind.ModelDecorationsChanged:\n\t\t\t\t\t\tthis._onDidChangeModelDecorations.fire(e.event);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase OutgoingViewModelEventKind.ModelLanguageChanged:\n\t\t\t\t\t\tthis._domElement.setAttribute(\n\t\t\t\t\t\t\t\"data-mode-id\",\n\t\t\t\t\t\t\tmodel.getLanguageId(),\n\t\t\t\t\t\t);\n\t\t\t\t\t\tthis._onDidChangeModelLanguage.fire(e.event);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase OutgoingViewModelEventKind.ModelLanguageConfigurationChanged:\n\t\t\t\t\t\tthis._onDidChangeModelLanguageConfiguration.fire(\n\t\t\t\t\t\t\te.event,\n\t\t\t\t\t\t);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase OutgoingViewModelEventKind.ModelContentChanged:\n\t\t\t\t\t\tthis._onDidChangeModelContent.fire(e.event);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase OutgoingViewModelEventKind.ModelOptionsChanged:\n\t\t\t\t\t\tthis._onDidChangeModelOptions.fire(e.event);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase OutgoingViewModelEventKind.ModelTokensChanged:\n\t\t\t\t\t\tthis._onDidChangeModelTokens.fire(e.event);\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}),\n\t\t);\n\n\t\tconst [view, hasRealView] = this._createView(viewModel);\n\t\tif (hasRealView) {\n\t\t\tthis._domElement.appendChild(view.domNode.domNode);\n\n\t\t\tlet keys = Object.keys(this._contentWidgets);\n\t\t\tfor (let i = 0, len = keys.length; i < len; i++) {\n\t\t\t\tconst widgetId = keys[i];\n\t\t\t\tview.addContentWidget(this._contentWidgets[widgetId]);\n\t\t\t}\n\n\t\t\tkeys = Object.keys(this._overlayWidgets);\n\t\t\tfor (let i = 0, len = keys.length; i < len; i++) {\n\t\t\t\tconst widgetId = keys[i];\n\t\t\t\tview.addOverlayWidget(this._overlayWidgets[widgetId]);\n\t\t\t}\n\n\t\t\tkeys = Object.keys(this._glyphMarginWidgets);\n\t\t\tfor (let i = 0, len = keys.length; i < len; i++) {\n\t\t\t\tconst widgetId = keys[i];\n\t\t\t\tview.addGlyphMarginWidget(this._glyphMarginWidgets[widgetId]);\n\t\t\t}\n\n\t\t\tview.render(false, true);\n\t\t\tview.domNode.domNode.setAttribute(\"data-uri\", model.uri.toString());\n\t\t}\n\n\t\tthis._modelData = new ModelData(\n\t\t\tmodel,\n\t\t\tviewModel,\n\t\t\tview,\n\t\t\thasRealView,\n\t\t\tlistenersToRemove,\n\t\t\tattachedView,\n\t\t);\n\t}\n\n\tprotected _createView(viewModel: ViewModel): [View, boolean] {\n\t\tlet commandDelegate: ICommandDelegate;\n\t\tif (this.isSimpleWidget) {\n\t\t\tcommandDelegate = {\n\t\t\t\tpaste: (\n\t\t\t\t\ttext: string,\n\t\t\t\t\tpasteOnNewLine: boolean,\n\t\t\t\t\tmulticursorText: string[] | null,\n\t\t\t\t\tmode: string | null,\n\t\t\t\t) => {\n\t\t\t\t\tthis._paste(\n\t\t\t\t\t\t\"keyboard\",\n\t\t\t\t\t\ttext,\n\t\t\t\t\t\tpasteOnNewLine,\n\t\t\t\t\t\tmulticursorText,\n\t\t\t\t\t\tmode,\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t\ttype: (text: string) => {\n\t\t\t\t\tthis._type(\"keyboard\", text);\n\t\t\t\t},\n\t\t\t\tcompositionType: (\n\t\t\t\t\ttext: string,\n\t\t\t\t\treplacePrevCharCnt: number,\n\t\t\t\t\treplaceNextCharCnt: number,\n\t\t\t\t\tpositionDelta: number,\n\t\t\t\t) => {\n\t\t\t\t\tthis._compositionType(\n\t\t\t\t\t\t\"keyboard\",\n\t\t\t\t\t\ttext,\n\t\t\t\t\t\treplacePrevCharCnt,\n\t\t\t\t\t\treplaceNextCharCnt,\n\t\t\t\t\t\tpositionDelta,\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t\tstartComposition: () => {\n\t\t\t\t\tthis._startComposition();\n\t\t\t\t},\n\t\t\t\tendComposition: () => {\n\t\t\t\t\tthis._endComposition(\"keyboard\");\n\t\t\t\t},\n\t\t\t\tcut: () => {\n\t\t\t\t\tthis._cut(\"keyboard\");\n\t\t\t\t},\n\t\t\t};\n\t\t} else {\n\t\t\tcommandDelegate = {\n\t\t\t\tpaste: (\n\t\t\t\t\ttext: string,\n\t\t\t\t\tpasteOnNewLine: boolean,\n\t\t\t\t\tmulticursorText: string[] | null,\n\t\t\t\t\tmode: string | null,\n\t\t\t\t) => {\n\t\t\t\t\tconst payload: editorBrowser.PastePayload = {\n\t\t\t\t\t\ttext,\n\t\t\t\t\t\tpasteOnNewLine,\n\t\t\t\t\t\tmulticursorText,\n\t\t\t\t\t\tmode,\n\t\t\t\t\t};\n\t\t\t\t\tthis._commandService.executeCommand(\n\t\t\t\t\t\teditorCommon.Handler.Paste,\n\t\t\t\t\t\tpayload,\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t\ttype: (text: string) => {\n\t\t\t\t\tconst payload: editorCommon.TypePayload = { text };\n\t\t\t\t\tthis._commandService.executeCommand(\n\t\t\t\t\t\teditorCommon.Handler.Type,\n\t\t\t\t\t\tpayload,\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t\tcompositionType: (\n\t\t\t\t\ttext: string,\n\t\t\t\t\treplacePrevCharCnt: number,\n\t\t\t\t\treplaceNextCharCnt: number,\n\t\t\t\t\tpositionDelta: number,\n\t\t\t\t) => {\n\t\t\t\t\t// Try if possible to go through the existing `replacePreviousChar` command\n\t\t\t\t\tif (replaceNextCharCnt || positionDelta) {\n\t\t\t\t\t\t// must be handled through the new command\n\t\t\t\t\t\tconst payload: editorCommon.CompositionTypePayload = {\n\t\t\t\t\t\t\ttext,\n\t\t\t\t\t\t\treplacePrevCharCnt,\n\t\t\t\t\t\t\treplaceNextCharCnt,\n\t\t\t\t\t\t\tpositionDelta,\n\t\t\t\t\t\t};\n\t\t\t\t\t\tthis._commandService.executeCommand(\n\t\t\t\t\t\t\teditorCommon.Handler.CompositionType,\n\t\t\t\t\t\t\tpayload,\n\t\t\t\t\t\t);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconst payload: editorCommon.ReplacePreviousCharPayload =\n\t\t\t\t\t\t\t{ text, replaceCharCnt: replacePrevCharCnt };\n\t\t\t\t\t\tthis._commandService.executeCommand(\n\t\t\t\t\t\t\teditorCommon.Handler.ReplacePreviousChar,\n\t\t\t\t\t\t\tpayload,\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tstartComposition: () => {\n\t\t\t\t\tthis._commandService.executeCommand(\n\t\t\t\t\t\teditorCommon.Handler.CompositionStart,\n\t\t\t\t\t\t{},\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t\tendComposition: () => {\n\t\t\t\t\tthis._commandService.executeCommand(\n\t\t\t\t\t\teditorCommon.Handler.CompositionEnd,\n\t\t\t\t\t\t{},\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t\tcut: () => {\n\t\t\t\t\tthis._commandService.executeCommand(\n\t\t\t\t\t\teditorCommon.Handler.Cut,\n\t\t\t\t\t\t{},\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t};\n\t\t}\n\n\t\tconst viewUserInputEvents = new ViewUserInputEvents(\n\t\t\tviewModel.coordinatesConverter,\n\t\t);\n\t\tviewUserInputEvents.onKeyDown = (e) => this._onKeyDown.fire(e);\n\t\tviewUserInputEvents.onKeyUp = (e) => this._onKeyUp.fire(e);\n\t\tviewUserInputEvents.onContextMenu = (e) => this._onContextMenu.fire(e);\n\t\tviewUserInputEvents.onMouseMove = (e) => this._onMouseMove.fire(e);\n\t\tviewUserInputEvents.onMouseLeave = (e) => this._onMouseLeave.fire(e);\n\t\tviewUserInputEvents.onMouseDown = (e) => this._onMouseDown.fire(e);\n\t\tviewUserInputEvents.onMouseUp = (e) => this._onMouseUp.fire(e);\n\t\tviewUserInputEvents.onMouseDrag = (e) => this._onMouseDrag.fire(e);\n\t\tviewUserInputEvents.onMouseDrop = (e) => this._onMouseDrop.fire(e);\n\t\tviewUserInputEvents.onMouseDropCanceled = (e) =>\n\t\t\tthis._onMouseDropCanceled.fire(e);\n\t\tviewUserInputEvents.onMouseWheel = (e) => this._onMouseWheel.fire(e);\n\n\t\tconst view = new View(\n\t\t\tcommandDelegate,\n\t\t\tthis._configuration,\n\t\t\tthis._themeService.getColorTheme(),\n\t\t\tviewModel,\n\t\t\tviewUserInputEvents,\n\t\t\tthis._overflowWidgetsDomNode,\n\t\t\tthis._instantiationService,\n\t\t);\n\n\t\treturn [view, true];\n\t}\n\n\tprotected _postDetachModelCleanup(detachedModel: ITextModel | null): void {\n\t\tdetachedModel?.removeAllDecorationsWithOwnerId(this._id);\n\t}\n\n\tprivate _detachModel(): ITextModel | null {\n\t\tthis._contributionsDisposable?.dispose();\n\t\tthis._contributionsDisposable = undefined;\n\t\tif (!this._modelData) {\n\t\t\treturn null;\n\t\t}\n\t\tconst model = this._modelData.model;\n\t\tconst removeDomNode = this._modelData.hasRealView\n\t\t\t? this._modelData.view.domNode.domNode\n\t\t\t: null;\n\n\t\tthis._modelData.dispose();\n\t\tthis._modelData = null;\n\n\t\tthis._domElement.removeAttribute(\"data-mode-id\");\n\t\tif (removeDomNode && this._domElement.contains(removeDomNode)) {\n\t\t\tremoveDomNode.remove();\n\t\t}\n\t\tif (\n\t\t\tthis._bannerDomNode &&\n\t\t\tthis._domElement.contains(this._bannerDomNode)\n\t\t) {\n\t\t\tthis._bannerDomNode.remove();\n\t\t}\n\t\treturn model;\n\t}\n\n\tprivate _registerDecorationType(\n\t\tdescription: string,\n\t\tkey: string,\n\t\toptions: editorCommon.IDecorationRenderOptions,\n\t\tparentTypeKey?: string,\n\t): void {\n\t\tthis._codeEditorService.registerDecorationType(\n\t\t\tdescription,\n\t\t\tkey,\n\t\t\toptions,\n\t\t\tparentTypeKey,\n\t\t\tthis,\n\t\t);\n\t}\n\n\tprivate _removeDecorationType(key: string): void {\n\t\tthis._codeEditorService.removeDecorationType(key);\n\t}\n\n\tprivate _resolveDecorationOptions(\n\t\ttypeKey: string,\n\t\twritable: boolean,\n\t): IModelDecorationOptions {\n\t\treturn this._codeEditorService.resolveDecorationOptions(\n\t\t\ttypeKey,\n\t\t\twritable,\n\t\t);\n\t}\n\n\tpublic getTelemetryData(): { [key: string]: any } | undefined {\n\t\treturn this._telemetryData;\n\t}\n\n\tpublic hasModel(): this is editorBrowser.IActiveCodeEditor {\n\t\treturn this._modelData !== null;\n\t}\n\n\tprivate showDropIndicatorAt(position: Position): void {\n\t\tconst newDecorations: IModelDeltaDecoration[] = [\n\t\t\t{\n\t\t\t\trange: new Range(\n\t\t\t\t\tposition.lineNumber,\n\t\t\t\t\tposition.column,\n\t\t\t\t\tposition.lineNumber,\n\t\t\t\t\tposition.column,\n\t\t\t\t),\n\t\t\t\toptions: CodeEditorWidget.dropIntoEditorDecorationOptions,\n\t\t\t},\n\t\t];\n\n\t\tthis._dropIntoEditorDecorations.set(newDecorations);\n\t\tthis.revealPosition(position, editorCommon.ScrollType.Immediate);\n\t}\n\n\tprivate removeDropIndicator(): void {\n\t\tthis._dropIntoEditorDecorations.clear();\n\t}\n\n\tpublic setContextValue(key: string, value: ContextKeyValue): void {\n\t\tthis._contextKeyService.createKey(key, value);\n\t}\n\n\tprivate _beginUpdate(): void {\n\t\tthis._updateCounter++;\n\t\tif (this._updateCounter === 1) {\n\t\t\tthis._onBeginUpdate.fire();\n\t\t}\n\t}\n\n\tprivate _endUpdate(): void {\n\t\tthis._updateCounter--;\n\t\tif (this._updateCounter === 0) {\n\t\t\tthis._onEndUpdate.fire();\n\t\t}\n\t}\n}\n\nlet EDITOR_ID = 0;\n\nexport interface ICodeEditorWidgetOptions {\n\t/**\n\t * Is this a simple widget (not a real code editor)?\n\t * Defaults to false.\n\t */\n\tisSimpleWidget?: boolean;\n\n\t/**\n\t * Contributions to instantiate.\n\t * When provided, only the contributions included will be instantiated.\n\t * To include the defaults, those must be provided as well via [...EditorExtensionsRegistry.getEditorContributions()]\n\t * Defaults to EditorExtensionsRegistry.getEditorContributions().\n\t */\n\tcontributions?: IEditorContributionDescription[];\n\n\t/**\n\t * Telemetry data associated with this CodeEditorWidget.\n\t * Defaults to null.\n\t */\n\ttelemetryData?: object;\n\n\t/**\n\t * The ID of the context menu.\n\t * Defaults to MenuId.SimpleEditorContext or MenuId.EditorContext depending on whether the widget is simple.\n\t */\n\tcontextMenuId?: MenuId;\n}\n\nclass ModelData {\n\tconstructor(\n\t\tpublic readonly model: ITextModel,\n\t\tpublic readonly viewModel: ViewModel,\n\t\tpublic readonly view: View,\n\t\tpublic readonly hasRealView: boolean,\n\t\tpublic readonly listenersToRemove: IDisposable[],\n\t\tpublic readonly attachedView: IAttachedView,\n\t) {}\n\n\tpublic dispose(): void {\n\t\tdispose(this.listenersToRemove);\n\t\tthis.model.onBeforeDetached(this.attachedView);\n\t\tif (this.hasRealView) {\n\t\t\tthis.view.dispose();\n\t\t}\n\t\tthis.viewModel.dispose();\n\t}\n}\n\nenum BooleanEventValue {\n\tNotSet = 0,\n\tFalse = 1,\n\tTrue = 2,\n}\n\nexport class BooleanEventEmitter extends Disposable {\n\tprivate readonly _onDidChangeToTrue: Emitter<void> = this._register(\n\t\tnew Emitter<void>(this._emitterOptions),\n\t);\n\tpublic readonly onDidChangeToTrue: Event<void> =\n\t\tthis._onDidChangeToTrue.event;\n\n\tprivate readonly _onDidChangeToFalse: Emitter<void> = this._register(\n\t\tnew Emitter<void>(this._emitterOptions),\n\t);\n\tpublic readonly onDidChangeToFalse: Event<void> =\n\t\tthis._onDidChangeToFalse.event;\n\n\tprivate _value: BooleanEventValue;\n\n\tconstructor(private readonly _emitterOptions: EmitterOptions) {\n\t\tsuper();\n\t\tthis._value = BooleanEventValue.NotSet;\n\t}\n\n\tpublic setValue(_value: boolean) {\n\t\tconst value = _value ? BooleanEventValue.True : BooleanEventValue.False;\n\t\tif (this._value === value) {\n\t\t\treturn;\n\t\t}\n\t\tthis._value = value;\n\t\tif (this._value === BooleanEventValue.True) {\n\t\t\tthis._onDidChangeToTrue.fire();\n\t\t} else if (this._value === BooleanEventValue.False) {\n\t\t\tthis._onDidChangeToFalse.fire();\n\t\t}\n\t}\n}\n\n/**\n * A regular event emitter that also makes sure contributions are instantiated if necessary\n */\nclass InteractionEmitter<T> extends Emitter<T> {\n\tconstructor(\n\t\tprivate readonly _contributions: CodeEditorContributions,\n\t\tdeliveryQueue: EventDeliveryQueue,\n\t) {\n\t\tsuper({ deliveryQueue });\n\t}\n\n\toverride fire(event: T): void {\n\t\tthis._contributions.onBeforeInteractionEvent();\n\t\tsuper.fire(event);\n\t}\n}\n\nclass EditorContextKeysManager extends Disposable {\n\tprivate readonly _editor: CodeEditorWidget;\n\tprivate readonly _editorSimpleInput: IContextKey<boolean>;\n\tprivate readonly _editorFocus: IContextKey<boolean>;\n\tprivate readonly _textInputFocus: IContextKey<boolean>;\n\tprivate readonly _editorTextFocus: IContextKey<boolean>;\n\tprivate readonly _tabMovesFocus: IContextKey<boolean>;\n\tprivate readonly _editorReadonly: IContextKey<boolean>;\n\tprivate readonly _inDiffEditor: IContextKey<boolean>;\n\tprivate readonly _editorColumnSelection: IContextKey<boolean>;\n\tprivate readonly _hasMultipleSelections: IContextKey<boolean>;\n\tprivate readonly _hasNonEmptySelection: IContextKey<boolean>;\n\tprivate readonly _canUndo: IContextKey<boolean>;\n\tprivate readonly _canRedo: IContextKey<boolean>;\n\n\tconstructor(\n\t\teditor: CodeEditorWidget,\n\t\tcontextKeyService: IContextKeyService,\n\t) {\n\t\tsuper();\n\n\t\tthis._editor = editor;\n\n\t\tcontextKeyService.createKey(\"editorId\", editor.getId());\n\n\t\tthis._editorSimpleInput =\n\t\t\tEditorContextKeys.editorSimpleInput.bindTo(contextKeyService);\n\t\tthis._editorFocus = EditorContextKeys.focus.bindTo(contextKeyService);\n\t\tthis._textInputFocus =\n\t\t\tEditorContextKeys.textInputFocus.bindTo(contextKeyService);\n\t\tthis._editorTextFocus =\n\t\t\tEditorContextKeys.editorTextFocus.bindTo(contextKeyService);\n\t\tthis._tabMovesFocus =\n\t\t\tEditorContextKeys.tabMovesFocus.bindTo(contextKeyService);\n\t\tthis._editorReadonly =\n\t\t\tEditorContextKeys.readOnly.bindTo(contextKeyService);\n\t\tthis._inDiffEditor =\n\t\t\tEditorContextKeys.inDiffEditor.bindTo(contextKeyService);\n\t\tthis._editorColumnSelection =\n\t\t\tEditorContextKeys.columnSelection.bindTo(contextKeyService);\n\t\tthis._hasMultipleSelections =\n\t\t\tEditorContextKeys.hasMultipleSelections.bindTo(contextKeyService);\n\t\tthis._hasNonEmptySelection =\n\t\t\tEditorContextKeys.hasNonEmptySelection.bindTo(contextKeyService);\n\t\tthis._canUndo = EditorContextKeys.canUndo.bindTo(contextKeyService);\n\t\tthis._canRedo = EditorContextKeys.canRedo.bindTo(contextKeyService);\n\n\t\tthis._register(\n\t\t\tthis._editor.onDidChangeConfiguration(() =>\n\t\t\t\tthis._updateFromConfig(),\n\t\t\t),\n\t\t);\n\t\tthis._register(\n\t\t\tthis._editor.onDidChangeCursorSelection(() =>\n\t\t\t\tthis._updateFromSelection(),\n\t\t\t),\n\t\t);\n\t\tthis._register(\n\t\t\tthis._editor.onDidFocusEditorWidget(() => this._updateFromFocus()),\n\t\t);\n\t\tthis._register(\n\t\t\tthis._editor.onDidBlurEditorWidget(() => this._updateFromFocus()),\n\t\t);\n\t\tthis._register(\n\t\t\tthis._editor.onDidFocusEditorText(() => this._updateFromFocus()),\n\t\t);\n\t\tthis._register(\n\t\t\tthis._editor.onDidBlurEditorText(() => this._updateFromFocus()),\n\t\t);\n\t\tthis._register(\n\t\t\tthis._editor.onDidChangeModel(() => this._updateFromModel()),\n\t\t);\n\t\tthis._register(\n\t\t\tthis._editor.onDidChangeConfiguration(() =>\n\t\t\t\tthis._updateFromModel(),\n\t\t\t),\n\t\t);\n\t\tthis._register(\n\t\t\tTabFocus.onDidChangeTabFocus((tabFocusMode: boolean) =>\n\t\t\t\tthis._tabMovesFocus.set(tabFocusMode),\n\t\t\t),\n\t\t);\n\n\t\tthis._updateFromConfig();\n\t\tthis._updateFromSelection();\n\t\tthis._updateFromFocus();\n\t\tthis._updateFromModel();\n\n\t\tthis._editorSimpleInput.set(this._editor.isSimpleWidget);\n\t}\n\n\tprivate _updateFromConfig(): void {\n\t\tconst options = this._editor.getOptions();\n\n\t\tthis._tabMovesFocus.set(TabFocus.getTabFocusMode());\n\t\tthis._editorReadonly.set(options.get(EditorOption.readOnly));\n\t\tthis._inDiffEditor.set(options.get(EditorOption.inDiffEditor));\n\t\tthis._editorColumnSelection.set(\n\t\t\toptions.get(EditorOption.columnSelection),\n\t\t);\n\t}\n\n\tprivate _updateFromSelection(): void {\n\t\tconst selections = this._editor.getSelections();\n\t\tif (selections) {\n\t\t\tthis._hasMultipleSelections.set(selections.length > 1);\n\t\t\tthis._hasNonEmptySelection.set(\n\t\t\t\tselections.some((s) => !s.isEmpty()),\n\t\t\t);\n\t\t} else {\n\t\t\tthis._hasMultipleSelections.reset();\n\t\t\tthis._hasNonEmptySelection.reset();\n\t\t}\n\t}\n\n\tprivate _updateFromFocus(): void {\n\t\tthis._editorFocus.set(\n\t\t\tthis._editor.hasWidgetFocus() && !this._editor.isSimpleWidget,\n\t\t);\n\t\tthis._editorTextFocus.set(\n\t\t\tthis._editor.hasTextFocus() && !this._editor.isSimpleWidget,\n\t\t);\n\t\tthis._textInputFocus.set(this._editor.hasTextFocus());\n\t}\n\n\tprivate _updateFromModel(): void {\n\t\tconst model = this._editor.getModel();\n\t\tthis._canUndo.set(Boolean(model && model.canUndo()));\n\t\tthis._canRedo.set(Boolean(model && model.canRedo()));\n\t}\n}\n\nexport class EditorModeContext extends Disposable {\n\tprivate readonly _langId: IContextKey<string>;\n\tprivate readonly _hasCompletionItemProvider: IContextKey<boolean>;\n\tprivate readonly _hasCodeActionsProvider: IContextKey<boolean>;\n\tprivate readonly _hasCodeLensProvider: IContextKey<boolean>;\n\tprivate readonly _hasDefinitionProvider: IContextKey<boolean>;\n\tprivate readonly _hasDeclarationProvider: IContextKey<boolean>;\n\tprivate readonly _hasImplementationProvider: IContextKey<boolean>;\n\tprivate readonly _hasTypeDefinitionProvider: IContextKey<boolean>;\n\tprivate readonly _hasHoverProvider: IContextKey<boolean>;\n\tprivate readonly _hasDocumentHighlightProvider: IContextKey<boolean>;\n\tprivate readonly _hasDocumentSymbolProvider: IContextKey<boolean>;\n\tprivate readonly _hasReferenceProvider: IContextKey<boolean>;\n\tprivate readonly _hasRenameProvider: IContextKey<boolean>;\n\tprivate readonly _hasDocumentFormattingProvider: IContextKey<boolean>;\n\tprivate readonly _hasDocumentSelectionFormattingProvider: IContextKey<boolean>;\n\tprivate readonly _hasMultipleDocumentFormattingProvider: IContextKey<boolean>;\n\tprivate readonly _hasMultipleDocumentSelectionFormattingProvider: IContextKey<boolean>;\n\tprivate readonly _hasSignatureHelpProvider: IContextKey<boolean>;\n\tprivate readonly _hasInlayHintsProvider: IContextKey<boolean>;\n\tprivate readonly _isInEmbeddedEditor: IContextKey<boolean>;\n\n\tconstructor(\n\t\tprivate readonly _editor: CodeEditorWidget,\n\t\tprivate readonly _contextKeyService: IContextKeyService,\n\t\tprivate readonly _languageFeaturesService: ILanguageFeaturesService,\n\t) {\n\t\tsuper();\n\n\t\tthis._langId = EditorContextKeys.languageId.bindTo(_contextKeyService);\n\t\tthis._hasCompletionItemProvider =\n\t\t\tEditorContextKeys.hasCompletionItemProvider.bindTo(\n\t\t\t\t_contextKeyService,\n\t\t\t);\n\t\tthis._hasCodeActionsProvider =\n\t\t\tEditorContextKeys.hasCodeActionsProvider.bindTo(_contextKeyService);\n\t\tthis._hasCodeLensProvider =\n\t\t\tEditorContextKeys.hasCodeLensProvider.bindTo(_contextKeyService);\n\t\tthis._hasDefinitionProvider =\n\t\t\tEditorContextKeys.hasDefinitionProvider.bindTo(_contextKeyService);\n\t\tthis._hasDeclarationProvider =\n\t\t\tEditorContextKeys.hasDeclarationProvider.bindTo(_contextKeyService);\n\t\tthis._hasImplementationProvider =\n\t\t\tEditorContextKeys.hasImplementationProvider.bindTo(\n\t\t\t\t_contextKeyService,\n\t\t\t);\n\t\tthis._hasTypeDefinitionProvider =\n\t\t\tEditorContextKeys.hasTypeDefinitionProvider.bindTo(\n\t\t\t\t_contextKeyService,\n\t\t\t);\n\t\tthis._hasHoverProvider =\n\t\t\tEditorContextKeys.hasHoverProvider.bindTo(_contextKeyService);\n\t\tthis._hasDocumentHighlightProvider =\n\t\t\tEditorContextKeys.hasDocumentHighlightProvider.bindTo(\n\t\t\t\t_contextKeyService,\n\t\t\t);\n\t\tthis._hasDocumentSymbolProvider =\n\t\t\tEditorContextKeys.hasDocumentSymbolProvider.bindTo(\n\t\t\t\t_contextKeyService,\n\t\t\t);\n\t\tthis._hasReferenceProvider =\n\t\t\tEditorContextKeys.hasReferenceProvider.bindTo(_contextKeyService);\n\t\tthis._hasRenameProvider =\n\t\t\tEditorContextKeys.hasRenameProvider.bindTo(_contextKeyService);\n\t\tthis._hasSignatureHelpProvider =\n\t\t\tEditorContextKeys.hasSignatureHelpProvider.bindTo(\n\t\t\t\t_contextKeyService,\n\t\t\t);\n\t\tthis._hasInlayHintsProvider =\n\t\t\tEditorContextKeys.hasInlayHintsProvider.bindTo(_contextKeyService);\n\t\tthis._hasDocumentFormattingProvider =\n\t\t\tEditorContextKeys.hasDocumentFormattingProvider.bindTo(\n\t\t\t\t_contextKeyService,\n\t\t\t);\n\t\tthis._hasDocumentSelectionFormattingProvider =\n\t\t\tEditorContextKeys.hasDocumentSelectionFormattingProvider.bindTo(\n\t\t\t\t_contextKeyService,\n\t\t\t);\n\t\tthis._hasMultipleDocumentFormattingProvider =\n\t\t\tEditorContextKeys.hasMultipleDocumentFormattingProvider.bindTo(\n\t\t\t\t_contextKeyService,\n\t\t\t);\n\t\tthis._hasMultipleDocumentSelectionFormattingProvider =\n\t\t\tEditorContextKeys.hasMultipleDocumentSelectionFormattingProvider.bindTo(\n\t\t\t\t_contextKeyService,\n\t\t\t);\n\t\tthis._isInEmbeddedEditor =\n\t\t\tEditorContextKeys.isInEmbeddedEditor.bindTo(_contextKeyService);\n\n\t\tconst update = () => this._update();\n\n\t\t// update when model/mode changes\n\t\tthis._register(_editor.onDidChangeModel(update));\n\t\tthis._register(_editor.onDidChangeModelLanguage(update));\n\n\t\t// update when registries change\n\t\tthis._register(\n\t\t\t_languageFeaturesService.completionProvider.onDidChange(update),\n\t\t);\n\t\tthis._register(\n\t\t\t_languageFeaturesService.codeActionProvider.onDidChange(update),\n\t\t);\n\t\tthis._register(\n\t\t\t_languageFeaturesService.codeLensProvider.onDidChange(update),\n\t\t);\n\t\tthis._register(\n\t\t\t_languageFeaturesService.definitionProvider.onDidChange(update),\n\t\t);\n\t\tthis._register(\n\t\t\t_languageFeaturesService.declarationProvider.onDidChange(update),\n\t\t);\n\t\tthis._register(\n\t\t\t_languageFeaturesService.implementationProvider.onDidChange(update),\n\t\t);\n\t\tthis._register(\n\t\t\t_languageFeaturesService.typeDefinitionProvider.onDidChange(update),\n\t\t);\n\t\tthis._register(\n\t\t\t_languageFeaturesService.hoverProvider.onDidChange(update),\n\t\t);\n\t\tthis._register(\n\t\t\t_languageFeaturesService.documentHighlightProvider.onDidChange(\n\t\t\t\tupdate,\n\t\t\t),\n\t\t);\n\t\tthis._register(\n\t\t\t_languageFeaturesService.documentSymbolProvider.onDidChange(update),\n\t\t);\n\t\tthis._register(\n\t\t\t_languageFeaturesService.referenceProvider.onDidChange(update),\n\t\t);\n\t\tthis._register(\n\t\t\t_languageFeaturesService.renameProvider.onDidChange(update),\n\t\t);\n\t\tthis._register(\n\t\t\t_languageFeaturesService.documentFormattingEditProvider.onDidChange(\n\t\t\t\tupdate,\n\t\t\t),\n\t\t);\n\t\tthis._register(\n\t\t\t_languageFeaturesService.documentRangeFormattingEditProvider.onDidChange(\n\t\t\t\tupdate,\n\t\t\t),\n\t\t);\n\t\tthis._register(\n\t\t\t_languageFeaturesService.signatureHelpProvider.onDidChange(update),\n\t\t);\n\t\tthis._register(\n\t\t\t_languageFeaturesService.inlayHintsProvider.onDidChange(update),\n\t\t);\n\n\t\tupdate();\n\t}\n\n\toverride dispose() {\n\t\tsuper.dispose();\n\t}\n\n\treset() {\n\t\tthis._contextKeyService.bufferChangeEvents(() => {\n\t\t\tthis._langId.reset();\n\t\t\tthis._hasCompletionItemProvider.reset();\n\t\t\tthis._hasCodeActionsProvider.reset();\n\t\t\tthis._hasCodeLensProvider.reset();\n\t\t\tthis._hasDefinitionProvider.reset();\n\t\t\tthis._hasDeclarationProvider.reset();\n\t\t\tthis._hasImplementationProvider.reset();\n\t\t\tthis._hasTypeDefinitionProvider.reset();\n\t\t\tthis._hasHoverProvider.reset();\n\t\t\tthis._hasDocumentHighlightProvider.reset();\n\t\t\tthis._hasDocumentSymbolProvider.reset();\n\t\t\tthis._hasReferenceProvider.reset();\n\t\t\tthis._hasRenameProvider.reset();\n\t\t\tthis._hasDocumentFormattingProvider.reset();\n\t\t\tthis._hasDocumentSelectionFormattingProvider.reset();\n\t\t\tthis._hasSignatureHelpProvider.reset();\n\t\t\tthis._isInEmbeddedEditor.reset();\n\t\t});\n\t}\n\n\tprivate _update() {\n\t\tconst model = this._editor.getModel();\n\t\tif (!model) {\n\t\t\tthis.reset();\n\t\t\treturn;\n\t\t}\n\t\tthis._contextKeyService.bufferChangeEvents(() => {\n\t\t\tthis._langId.set(model.getLanguageId());\n\t\t\tthis._hasCompletionItemProvider.set(\n\t\t\t\tthis._languageFeaturesService.completionProvider.has(model),\n\t\t\t);\n\t\t\tthis._hasCodeActionsProvider.set(\n\t\t\t\tthis._languageFeaturesService.codeActionProvider.has(model),\n\t\t\t);\n\t\t\tthis._hasCodeLensProvider.set(\n\t\t\t\tthis._languageFeaturesService.codeLensProvider.has(model),\n\t\t\t);\n\t\t\tthis._hasDefinitionProvider.set(\n\t\t\t\tthis._languageFeaturesService.definitionProvider.has(model),\n\t\t\t);\n\t\t\tthis._hasDeclarationProvider.set(\n\t\t\t\tthis._languageFeaturesService.declarationProvider.has(model),\n\t\t\t);\n\t\t\tthis._hasImplementationProvider.set(\n\t\t\t\tthis._languageFeaturesService.implementationProvider.has(model),\n\t\t\t);\n\t\t\tthis._hasTypeDefinitionProvider.set(\n\t\t\t\tthis._languageFeaturesService.typeDefinitionProvider.has(model),\n\t\t\t);\n\t\t\tthis._hasHoverProvider.set(\n\t\t\t\tthis._languageFeaturesService.hoverProvider.has(model),\n\t\t\t);\n\t\t\tthis._hasDocumentHighlightProvider.set(\n\t\t\t\tthis._languageFeaturesService.documentHighlightProvider.has(\n\t\t\t\t\tmodel,\n\t\t\t\t),\n\t\t\t);\n\t\t\tthis._hasDocumentSymbolProvider.set(\n\t\t\t\tthis._languageFeaturesService.documentSymbolProvider.has(model),\n\t\t\t);\n\t\t\tthis._hasReferenceProvider.set(\n\t\t\t\tthis._languageFeaturesService.referenceProvider.has(model),\n\t\t\t);\n\t\t\tthis._hasRenameProvider.set(\n\t\t\t\tthis._languageFeaturesService.renameProvider.has(model),\n\t\t\t);\n\t\t\tthis._hasSignatureHelpProvider.set(\n\t\t\t\tthis._languageFeaturesService.signatureHelpProvider.has(model),\n\t\t\t);\n\t\t\tthis._hasInlayHintsProvider.set(\n\t\t\t\tthis._languageFeaturesService.inlayHintsProvider.has(model),\n\t\t\t);\n\t\t\tthis._hasDocumentFormattingProvider.set(\n\t\t\t\tthis._languageFeaturesService.documentFormattingEditProvider.has(\n\t\t\t\t\tmodel,\n\t\t\t\t) ||\n\t\t\t\t\tthis._languageFeaturesService.documentRangeFormattingEditProvider.has(\n\t\t\t\t\t\tmodel,\n\t\t\t\t\t),\n\t\t\t);\n\t\t\tthis._hasDocumentSelectionFormattingProvider.set(\n\t\t\t\tthis._languageFeaturesService.documentRangeFormattingEditProvider.has(\n\t\t\t\t\tmodel,\n\t\t\t\t),\n\t\t\t);\n\t\t\tthis._hasMultipleDocumentFormattingProvider.set(\n\t\t\t\tthis._languageFeaturesService.documentFormattingEditProvider.all(\n\t\t\t\t\tmodel,\n\t\t\t\t).length +\n\t\t\t\t\tthis._languageFeaturesService.documentRangeFormattingEditProvider.all(\n\t\t\t\t\t\tmodel,\n\t\t\t\t\t).length >\n\t\t\t\t\t1,\n\t\t\t);\n\t\t\tthis._hasMultipleDocumentSelectionFormattingProvider.set(\n\t\t\t\tthis._languageFeaturesService.documentRangeFormattingEditProvider.all(\n\t\t\t\t\tmodel,\n\t\t\t\t).length > 1,\n\t\t\t);\n\t\t\tthis._isInEmbeddedEditor.set(\n\t\t\t\tmodel.uri.scheme === Schemas.walkThroughSnippet ||\n\t\t\t\t\tmodel.uri.scheme === Schemas.vscodeChatCodeBlock,\n\t\t\t);\n\t\t});\n\t}\n}\n\nclass CodeEditorWidgetFocusTracker extends Disposable {\n\tprivate _hasDomElementFocus: boolean;\n\tprivate readonly _domFocusTracker: dom.IFocusTracker;\n\tprivate readonly _overflowWidgetsDomNode: dom.IFocusTracker | undefined;\n\n\tprivate readonly _onChange: Emitter<void> = this._register(\n\t\tnew Emitter<void>(),\n\t);\n\tpublic readonly onChange: Event<void> = this._onChange.event;\n\n\tprivate _overflowWidgetsDomNodeHasFocus: boolean;\n\n\tprivate _hadFocus: boolean | undefined = undefined;\n\n\tconstructor(\n\t\tdomElement: HTMLElement,\n\t\toverflowWidgetsDomNode: HTMLElement | undefined,\n\t) {\n\t\tsuper();\n\n\t\tthis._hasDomElementFocus = false;\n\t\tthis._domFocusTracker = this._register(dom.trackFocus(domElement));\n\n\t\tthis._overflowWidgetsDomNodeHasFocus = false;\n\n\t\tthis._register(\n\t\t\tthis._domFocusTracker.onDidFocus(() => {\n\t\t\t\tthis._hasDomElementFocus = true;\n\t\t\t\tthis._update();\n\t\t\t}),\n\t\t);\n\t\tthis._register(\n\t\t\tthis._domFocusTracker.onDidBlur(() => {\n\t\t\t\tthis._hasDomElementFocus = false;\n\t\t\t\tthis._update();\n\t\t\t}),\n\t\t);\n\n\t\tif (overflowWidgetsDomNode) {\n\t\t\tthis._overflowWidgetsDomNode = this._register(\n\t\t\t\tdom.trackFocus(overflowWidgetsDomNode),\n\t\t\t);\n\t\t\tthis._register(\n\t\t\t\tthis._overflowWidgetsDomNode.onDidFocus(() => {\n\t\t\t\t\tthis._overflowWidgetsDomNodeHasFocus = true;\n\t\t\t\t\tthis._update();\n\t\t\t\t}),\n\t\t\t);\n\t\t\tthis._register(\n\t\t\t\tthis._overflowWidgetsDomNode.onDidBlur(() => {\n\t\t\t\t\tthis._overflowWidgetsDomNodeHasFocus = false;\n\t\t\t\t\tthis._update();\n\t\t\t\t}),\n\t\t\t);\n\t\t}\n\t}\n\n\tprivate _update() {\n\t\tconst focused =\n\t\t\tthis._hasDomElementFocus || this._overflowWidgetsDomNodeHasFocus;\n\t\tif (this._hadFocus !== focused) {\n\t\t\tthis._hadFocus = focused;\n\t\t\tthis._onChange.fire(undefined);\n\t\t}\n\t}\n\n\tpublic hasFocus(): boolean {\n\t\treturn this._hadFocus ?? false;\n\t}\n\n\tpublic refreshState(): void {\n\t\tthis._domFocusTracker.refreshState();\n\t\tthis._overflowWidgetsDomNode?.refreshState?.();\n\t}\n}\n\nclass EditorDecorationsCollection\n\timplements editorCommon.IEditorDecorationsCollection\n{\n\tprivate _decorationIds: string[] = [];\n\tprivate _isChangingDecorations = false;\n\n\tpublic get length(): number {\n\t\treturn this._decorationIds.length;\n\t}\n\n\tconstructor(\n\t\tprivate readonly _editor: editorBrowser.ICodeEditor,\n\t\tdecorations: IModelDeltaDecoration[] | undefined,\n\t) {\n\t\tif (Array.isArray(decorations) && decorations.length > 0) {\n\t\t\tthis.set(decorations);\n\t\t}\n\t}\n\n\tpublic onDidChange(\n\t\tlistener: (e: IModelDecorationsChangedEvent) => any,\n\t\tthisArgs?: any,\n\t\tdisposables?: IDisposable[] | DisposableStore,\n\t): IDisposable {\n\t\treturn this._editor.onDidChangeModelDecorations((e) => {\n\t\t\tif (this._isChangingDecorations) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlistener.call(thisArgs, e);\n\t\t}, disposables);\n\t}\n\n\tpublic getRange(index: number): Range | null {\n\t\tif (!this._editor.hasModel()) {\n\t\t\treturn null;\n\t\t}\n\t\tif (index >= this._decorationIds.length) {\n\t\t\treturn null;\n\t\t}\n\t\treturn this._editor\n\t\t\t.getModel()\n\t\t\t.getDecorationRange(this._decorationIds[index]);\n\t}\n\n\tpublic getRanges(): Range[] {\n\t\tif (!this._editor.hasModel()) {\n\t\t\treturn [];\n\t\t}\n\t\tconst model = this._editor.getModel();\n\t\tconst result: Range[] = [];\n\t\tfor (const decorationId of this._decorationIds) {\n\t\t\tconst range = model.getDecorationRange(decorationId);\n\t\t\tif (range) {\n\t\t\t\tresult.push(range);\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tpublic has(decoration: IModelDecoration): boolean {\n\t\treturn this._decorationIds.includes(decoration.id);\n\t}\n\n\tpublic clear(): void {\n\t\tif (this._decorationIds.length === 0) {\n\t\t\t// nothing to do\n\t\t\treturn;\n\t\t}\n\t\tthis.set([]);\n\t}\n\n\tpublic set(newDecorations: readonly IModelDeltaDecoration[]): string[] {\n\t\ttry {\n\t\t\tthis._isChangingDecorations = true;\n\t\t\tthis._editor.changeDecorations((accessor) => {\n\t\t\t\tthis._decorationIds = accessor.deltaDecorations(\n\t\t\t\t\tthis._decorationIds,\n\t\t\t\t\tnewDecorations,\n\t\t\t\t);\n\t\t\t});\n\t\t} finally {\n\t\t\tthis._isChangingDecorations = false;\n\t\t}\n\t\treturn this._decorationIds;\n\t}\n\n\tpublic append(newDecorations: readonly IModelDeltaDecoration[]): string[] {\n\t\tlet newDecorationIds: string[] = [];\n\t\ttry {\n\t\t\tthis._isChangingDecorations = true;\n\t\t\tthis._editor.changeDecorations((accessor) => {\n\t\t\t\tnewDecorationIds = accessor.deltaDecorations(\n\t\t\t\t\t[],\n\t\t\t\t\tnewDecorations,\n\t\t\t\t);\n\t\t\t\tthis._decorationIds =\n\t\t\t\t\tthis._decorationIds.concat(newDecorationIds);\n\t\t\t});\n\t\t} finally {\n\t\t\tthis._isChangingDecorations = false;\n\t\t}\n\t\treturn newDecorationIds;\n\t}\n}\n\nconst squigglyStart = encodeURIComponent(\n\t`<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='`,\n);\nconst squigglyEnd = encodeURIComponent(\n\t`'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>`,\n);\n\nfunction getSquigglySVGData(color: Color) {\n\treturn squigglyStart + encodeURIComponent(color.toString()) + squigglyEnd;\n}\n\nconst dotdotdotStart = encodeURIComponent(\n\t`<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"3\" width=\"12\"><g fill=\"`,\n);\nconst dotdotdotEnd = encodeURIComponent(\n\t`\"><circle cx=\"1\" cy=\"1\" r=\"1\"/><circle cx=\"5\" cy=\"1\" r=\"1\"/><circle cx=\"9\" cy=\"1\" r=\"1\"/></g></svg>`,\n);\n\nfunction getDotDotDotSVGData(color: Color) {\n\treturn dotdotdotStart + encodeURIComponent(color.toString()) + dotdotdotEnd;\n}\n\nregisterThemingParticipant((theme, collector) => {\n\tconst errorForeground = theme.getColor(editorErrorForeground);\n\tif (errorForeground) {\n\t\tcollector.addRule(\n\t\t\t`.monaco-editor .${ClassName.EditorErrorDecoration} { background: url(\"data:image/svg+xml,${getSquigglySVGData(errorForeground)}\") repeat-x bottom left; }`,\n\t\t);\n\t}\n\tconst warningForeground = theme.getColor(editorWarningForeground);\n\tif (warningForeground) {\n\t\tcollector.addRule(\n\t\t\t`.monaco-editor .${ClassName.EditorWarningDecoration} { background: url(\"data:image/svg+xml,${getSquigglySVGData(warningForeground)}\") repeat-x bottom left; }`,\n\t\t);\n\t}\n\tconst infoForeground = theme.getColor(editorInfoForeground);\n\tif (infoForeground) {\n\t\tcollector.addRule(\n\t\t\t`.monaco-editor .${ClassName.EditorInfoDecoration} { background: url(\"data:image/svg+xml,${getSquigglySVGData(infoForeground)}\") repeat-x bottom left; }`,\n\t\t);\n\t}\n\tconst hintForeground = theme.getColor(editorHintForeground);\n\tif (hintForeground) {\n\t\tcollector.addRule(\n\t\t\t`.monaco-editor .${ClassName.EditorHintDecoration} { background: url(\"data:image/svg+xml,${getDotDotDotSVGData(hintForeground)}\") no-repeat bottom left; }`,\n\t\t);\n\t}\n\tconst unnecessaryForeground = theme.getColor(editorUnnecessaryCodeOpacity);\n\tif (unnecessaryForeground) {\n\t\tcollector.addRule(\n\t\t\t`.monaco-editor.showUnused .${ClassName.EditorUnnecessaryInlineDecoration} { opacity: ${unnecessaryForeground.rgba.a}; }`,\n\t\t);\n\t}\n});\n"],
  "mappings": "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",
  "names": ["options", "BooleanEventValue"]
}
