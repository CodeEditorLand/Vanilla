import{Codicon as f}from"../../../../base/common/codicons.js";import{AccessibleDiffViewerNext as s,AccessibleDiffViewerPrev as a,CollapseAllUnchangedRegions as g,ExitCompareMove as h,RevertHunkOrSelection as c,ShowAllUnchangedRegions as w,SwitchSide as E,ToggleCollapseUnchangedRegions as I,ToggleShowMovedCodeBlocks as l,ToggleUseInlineViewWhenSpaceIsLimited as m}from"./commands.js";import{EditorContextKeys as o}from"../../../common/editorContextKeys.js";import{localize as d}from"../../../../nls.js";import{MenuId as n,MenuRegistry as r,registerAction2 as i}from"../../../../platform/actions/common/actions.js";import{CommandsRegistry as p}from"../../../../platform/commands/common/commands.js";import{ContextKeyEqualsExpr as u,ContextKeyExpr as e}from"../../../../platform/contextkey/common/contextkey.js";import"./registrations.contribution.js";i(I),i(l),i(m),r.appendMenuItem(n.EditorTitle,{command:{id:new m().desc.id,title:d("useInlineViewWhenSpaceIsLimited","Use Inline View When Space Is Limited"),toggled:e.has("config.diffEditor.useInlineViewWhenSpaceIsLimited"),precondition:e.has("isInDiffEditor")},order:11,group:"1_diff",when:e.and(o.diffEditorRenderSideBySideInlineBreakpointReached,e.has("isInDiffEditor"))}),r.appendMenuItem(n.EditorTitle,{command:{id:new l().desc.id,title:d("showMoves","Show Moved Code Blocks"),icon:f.move,toggled:u.create("config.diffEditor.experimental.showMoves",!0),precondition:e.has("isInDiffEditor")},order:10,group:"1_diff",when:e.has("isInDiffEditor")}),i(c);for(const t of[{icon:f.arrowRight,key:o.diffEditorInlineMode.toNegated()},{icon:f.discard,key:o.diffEditorInlineMode}])r.appendMenuItem(n.DiffEditorHunkToolbar,{command:{id:new c().desc.id,title:d("revertHunk","Revert Block"),icon:t.icon},when:e.and(o.diffEditorModifiedWritable,t.key),order:5,group:"primary"}),r.appendMenuItem(n.DiffEditorSelectionToolbar,{command:{id:new c().desc.id,title:d("revertSelection","Revert Selection"),icon:t.icon},when:e.and(o.diffEditorModifiedWritable,t.key),order:5,group:"primary"});i(E),i(h),i(g),i(w),r.appendMenuItem(n.EditorTitle,{command:{id:s.id,title:d("Open Accessible Diff Viewer","Open Accessible Diff Viewer"),precondition:e.has("isInDiffEditor")},order:10,group:"2_diff",when:e.and(o.accessibleDiffViewerVisible.negate(),e.has("isInDiffEditor"))}),p.registerCommandAlias("editor.action.diffReview.next",s.id),i(s),p.registerCommandAlias("editor.action.diffReview.prev",a.id),i(a);
