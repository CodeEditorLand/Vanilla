import{Codicon as f}from"../../../../base/common/codicons.js";import{localize as d}from"../../../../nls.js";import{MenuId as n,MenuRegistry as r,registerAction2 as i}from"../../../../platform/actions/common/actions.js";import{CommandsRegistry as a}from"../../../../platform/commands/common/commands.js";import{ContextKeyEqualsExpr as g,ContextKeyExpr as e}from"../../../../platform/contextkey/common/contextkey.js";import{EditorContextKeys as o}from"../../../common/editorContextKeys.js";import{AccessibleDiffViewerNext as s,AccessibleDiffViewerPrev as l,CollapseAllUnchangedRegions as h,ExitCompareMove as w,RevertHunkOrSelection as c,ShowAllUnchangedRegions as E,SwitchSide as I,ToggleCollapseUnchangedRegions as u,ToggleShowMovedCodeBlocks as m,ToggleUseInlineViewWhenSpaceIsLimited as p}from"./commands.js";import"./registrations.contribution.js";i(u),i(m),i(p),r.appendMenuItem(n.EditorTitle,{command:{id:new p().desc.id,title:d("useInlineViewWhenSpaceIsLimited","Use Inline View When Space Is Limited"),toggled:e.has("config.diffEditor.useInlineViewWhenSpaceIsLimited"),precondition:e.has("isInDiffEditor")},order:11,group:"1_diff",when:e.and(o.diffEditorRenderSideBySideInlineBreakpointReached,e.has("isInDiffEditor"))}),r.appendMenuItem(n.EditorTitle,{command:{id:new m().desc.id,title:d("showMoves","Show Moved Code Blocks"),icon:f.move,toggled:g.create("config.diffEditor.experimental.showMoves",!0),precondition:e.has("isInDiffEditor")},order:10,group:"1_diff",when:e.has("isInDiffEditor")}),i(c);for(const t of[{icon:f.arrowRight,key:o.diffEditorInlineMode.toNegated()},{icon:f.discard,key:o.diffEditorInlineMode}])r.appendMenuItem(n.DiffEditorHunkToolbar,{command:{id:new c().desc.id,title:d("revertHunk","Revert Block"),icon:t.icon},when:e.and(o.diffEditorModifiedWritable,t.key),order:5,group:"primary"}),r.appendMenuItem(n.DiffEditorSelectionToolbar,{command:{id:new c().desc.id,title:d("revertSelection","Revert Selection"),icon:t.icon},when:e.and(o.diffEditorModifiedWritable,t.key),order:5,group:"primary"});i(I),i(w),i(h),i(E),r.appendMenuItem(n.EditorTitle,{command:{id:s.id,title:d("Open Accessible Diff Viewer","Open Accessible Diff Viewer"),precondition:e.has("isInDiffEditor")},order:10,group:"2_diff",when:e.and(o.accessibleDiffViewerVisible.negate(),e.has("isInDiffEditor"))}),a.registerCommandAlias("editor.action.diffReview.next",s.id),i(s),a.registerCommandAlias("editor.action.diffReview.prev",l.id),i(l);
