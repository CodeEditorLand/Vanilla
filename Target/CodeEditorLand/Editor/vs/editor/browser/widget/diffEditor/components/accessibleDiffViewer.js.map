{
  "version": 3,
  "sources": ["../../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/editor/browser/widget/diffEditor/components/accessibleDiffViewer.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport {\n\taddDisposableListener,\n\taddStandardDisposableListener,\n\treset,\n} from \"../../../../../base/browser/dom.js\";\nimport { createTrustedTypesPolicy } from \"../../../../../base/browser/trustedTypes.js\";\nimport { ActionBar } from \"../../../../../base/browser/ui/actionbar/actionbar.js\";\nimport { DomScrollableElement } from \"../../../../../base/browser/ui/scrollbar/scrollableElement.js\";\nimport { Action } from \"../../../../../base/common/actions.js\";\nimport {\n\tforEachAdjacent,\n\tgroupAdjacentBy,\n} from \"../../../../../base/common/arrays.js\";\nimport { Codicon } from \"../../../../../base/common/codicons.js\";\nimport { KeyCode, KeyMod } from \"../../../../../base/common/keyCodes.js\";\nimport {\n\tDisposable,\n\ttype DisposableStore,\n\ttoDisposable,\n} from \"../../../../../base/common/lifecycle.js\";\nimport {\n\ttype IObservable,\n\ttype ITransaction,\n\tautorun,\n\tautorunWithStore,\n\tderived,\n\tderivedWithStore,\n\tobservableValue,\n\tsubtransaction,\n\ttransaction,\n} from \"../../../../../base/common/observable.js\";\nimport { ThemeIcon } from \"../../../../../base/common/themables.js\";\nimport { localize } from \"../../../../../nls.js\";\nimport {\n\tAccessibilitySignal,\n\tIAccessibilitySignalService,\n} from \"../../../../../platform/accessibilitySignal/browser/accessibilitySignalService.js\";\nimport { IInstantiationService } from \"../../../../../platform/instantiation/common/instantiation.js\";\nimport { registerIcon } from \"../../../../../platform/theme/common/iconRegistry.js\";\nimport {\n\tEditorFontLigatures,\n\tEditorOption,\n\ttype IComputedEditorOptions,\n} from \"../../../../common/config/editorOptions.js\";\nimport { LineRange } from \"../../../../common/core/lineRange.js\";\nimport { OffsetRange } from \"../../../../common/core/offsetRange.js\";\nimport { Position } from \"../../../../common/core/position.js\";\nimport { Range } from \"../../../../common/core/range.js\";\nimport {\n\ttype DetailedLineRangeMapping,\n\tLineRangeMapping,\n} from \"../../../../common/diff/rangeMapping.js\";\nimport type { ILanguageIdCodec } from \"../../../../common/languages.js\";\nimport { ILanguageService } from \"../../../../common/languages/language.js\";\nimport type {\n\tITextModel,\n\tTextModelResolvedOptions,\n} from \"../../../../common/model.js\";\nimport { LineTokens } from \"../../../../common/tokens/lineTokens.js\";\nimport {\n\tRenderLineInput,\n\trenderViewLine2,\n} from \"../../../../common/viewLayout/viewLineRenderer.js\";\nimport { ViewLineRenderingData } from \"../../../../common/viewModel.js\";\nimport { applyFontInfo } from \"../../../config/domFontInfo.js\";\nimport { applyStyle } from \"../utils.js\";\nimport \"./accessibleDiffViewer.css\";\nimport type { DiffEditorEditors } from \"./diffEditorEditors.js\";\n\nconst accessibleDiffViewerInsertIcon = registerIcon(\n\t\"diff-review-insert\",\n\tCodicon.add,\n\tlocalize(\n\t\t\"accessibleDiffViewerInsertIcon\",\n\t\t\"Icon for 'Insert' in accessible diff viewer.\",\n\t),\n);\nconst accessibleDiffViewerRemoveIcon = registerIcon(\n\t\"diff-review-remove\",\n\tCodicon.remove,\n\tlocalize(\n\t\t\"accessibleDiffViewerRemoveIcon\",\n\t\t\"Icon for 'Remove' in accessible diff viewer.\",\n\t),\n);\nconst accessibleDiffViewerCloseIcon = registerIcon(\n\t\"diff-review-close\",\n\tCodicon.close,\n\tlocalize(\n\t\t\"accessibleDiffViewerCloseIcon\",\n\t\t\"Icon for 'Close' in accessible diff viewer.\",\n\t),\n);\n\nexport interface IAccessibleDiffViewerModel {\n\tgetOriginalModel(): ITextModel;\n\tgetOriginalOptions(): IComputedEditorOptions;\n\n\t/**\n\t * Should do: `setSelection`, `revealLine` and `focus`\n\t */\n\toriginalReveal(range: Range): void;\n\n\tgetModifiedModel(): ITextModel;\n\tgetModifiedOptions(): IComputedEditorOptions;\n\t/**\n\t * Should do: `setSelection`, `revealLine` and `focus`\n\t */\n\tmodifiedReveal(range?: Range): void;\n\tmodifiedSetSelection(range: Range): void;\n\tmodifiedFocus(): void;\n\n\tgetModifiedPosition(): Position | undefined;\n}\n\nexport class AccessibleDiffViewer extends Disposable {\n\tpublic static _ttPolicy = createTrustedTypesPolicy(\"diffReview\", {\n\t\tcreateHTML: (value) => value,\n\t});\n\n\tconstructor(\n\t\tprivate readonly _parentNode: HTMLElement,\n\t\tprivate readonly _visible: IObservable<boolean>,\n\t\tprivate readonly _setVisible: (\n\t\t\tvisible: boolean,\n\t\t\ttx: ITransaction | undefined,\n\t\t) => void,\n\t\tprivate readonly _canClose: IObservable<boolean>,\n\t\tprivate readonly _width: IObservable<number>,\n\t\tprivate readonly _height: IObservable<number>,\n\t\tprivate readonly _diffs: IObservable<\n\t\t\tDetailedLineRangeMapping[] | undefined\n\t\t>,\n\t\tprivate readonly _models: IAccessibleDiffViewerModel,\n\t\t@IInstantiationService\n\t\tprivate readonly _instantiationService: IInstantiationService,\n\t) {\n\t\tsuper();\n\t}\n\n\tprivate readonly _state = derivedWithStore(this, (reader, store) => {\n\t\tconst visible = this._visible.read(reader);\n\t\tthis._parentNode.style.visibility = visible ? \"visible\" : \"hidden\";\n\t\tif (!visible) {\n\t\t\treturn null;\n\t\t}\n\t\tconst model = store.add(\n\t\t\tthis._instantiationService.createInstance(\n\t\t\t\tViewModel,\n\t\t\t\tthis._diffs,\n\t\t\t\tthis._models,\n\t\t\t\tthis._setVisible,\n\t\t\t\tthis._canClose,\n\t\t\t),\n\t\t);\n\t\tconst view = store.add(\n\t\t\tthis._instantiationService.createInstance(\n\t\t\t\tView,\n\t\t\t\tthis._parentNode,\n\t\t\t\tmodel,\n\t\t\t\tthis._width,\n\t\t\t\tthis._height,\n\t\t\t\tthis._models,\n\t\t\t),\n\t\t);\n\t\treturn { model, view };\n\t}).recomputeInitiallyAndOnChange(this._store);\n\n\tnext(): void {\n\t\ttransaction((tx) => {\n\t\t\tconst isVisible = this._visible.get();\n\t\t\tthis._setVisible(true, tx);\n\t\t\tif (isVisible) {\n\t\t\t\tthis._state.get()!.model.nextGroup(tx);\n\t\t\t}\n\t\t});\n\t}\n\n\tprev(): void {\n\t\ttransaction((tx) => {\n\t\t\tthis._setVisible(true, tx);\n\t\t\tthis._state.get()!.model.previousGroup(tx);\n\t\t});\n\t}\n\n\tclose(): void {\n\t\ttransaction((tx) => {\n\t\t\tthis._setVisible(false, tx);\n\t\t});\n\t}\n}\n\nclass ViewModel extends Disposable {\n\tprivate readonly _groups = observableValue<ViewElementGroup[]>(this, []);\n\tprivate readonly _currentGroupIdx = observableValue(this, 0);\n\tprivate readonly _currentElementIdx = observableValue(this, 0);\n\n\tpublic readonly groups: IObservable<ViewElementGroup[]> = this._groups;\n\tpublic readonly currentGroup: IObservable<ViewElementGroup | undefined> =\n\t\tthis._currentGroupIdx.map((idx, r) => this._groups.read(r)[idx]);\n\tpublic readonly currentGroupIndex: IObservable<number> =\n\t\tthis._currentGroupIdx;\n\n\tpublic readonly currentElement: IObservable<ViewElement | undefined> =\n\t\tthis._currentElementIdx.map(\n\t\t\t(idx, r) => this.currentGroup.read(r)?.lines[idx],\n\t\t);\n\n\tconstructor(\n\t\tprivate readonly _diffs: IObservable<\n\t\t\tDetailedLineRangeMapping[] | undefined\n\t\t>,\n\t\tprivate readonly _models: IAccessibleDiffViewerModel,\n\t\tprivate readonly _setVisible: (\n\t\t\tvisible: boolean,\n\t\t\ttx: ITransaction | undefined,\n\t\t) => void,\n\t\tpublic readonly canClose: IObservable<boolean>,\n\t\t@IAccessibilitySignalService\n\t\tprivate readonly _accessibilitySignalService: IAccessibilitySignalService,\n\t) {\n\t\tsuper();\n\n\t\tthis._register(\n\t\t\tautorun((reader) => {\n\t\t\t\t/** @description update groups */\n\t\t\t\tconst diffs = this._diffs.read(reader);\n\t\t\t\tif (!diffs) {\n\t\t\t\t\tthis._groups.set([], undefined);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst groups = computeViewElementGroups(\n\t\t\t\t\tdiffs,\n\t\t\t\t\tthis._models.getOriginalModel().getLineCount(),\n\t\t\t\t\tthis._models.getModifiedModel().getLineCount(),\n\t\t\t\t);\n\n\t\t\t\ttransaction((tx) => {\n\t\t\t\t\tconst p = this._models.getModifiedPosition();\n\t\t\t\t\tif (p) {\n\t\t\t\t\t\tconst nextGroup = groups.findIndex(\n\t\t\t\t\t\t\t(g) =>\n\t\t\t\t\t\t\t\tp?.lineNumber <\n\t\t\t\t\t\t\t\tg.range.modified.endLineNumberExclusive,\n\t\t\t\t\t\t);\n\t\t\t\t\t\tif (nextGroup !== -1) {\n\t\t\t\t\t\t\tthis._currentGroupIdx.set(nextGroup, tx);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis._groups.set(groups, tx);\n\t\t\t\t});\n\t\t\t}),\n\t\t);\n\n\t\tthis._register(\n\t\t\tautorun((reader) => {\n\t\t\t\t/** @description play audio-cue for diff */\n\t\t\t\tconst currentViewItem = this.currentElement.read(reader);\n\t\t\t\tif (currentViewItem?.type === LineType.Deleted) {\n\t\t\t\t\tthis._accessibilitySignalService.playSignal(\n\t\t\t\t\t\tAccessibilitySignal.diffLineDeleted,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tsource: \"accessibleDiffViewer.currentElementChanged\",\n\t\t\t\t\t\t},\n\t\t\t\t\t);\n\t\t\t\t} else if (currentViewItem?.type === LineType.Added) {\n\t\t\t\t\tthis._accessibilitySignalService.playSignal(\n\t\t\t\t\t\tAccessibilitySignal.diffLineInserted,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tsource: \"accessibleDiffViewer.currentElementChanged\",\n\t\t\t\t\t\t},\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}),\n\t\t);\n\n\t\tthis._register(\n\t\t\tautorun((reader) => {\n\t\t\t\t/** @description select lines in editor */\n\t\t\t\t// This ensures editor commands (like revert/stage) work\n\t\t\t\tconst currentViewItem = this.currentElement.read(reader);\n\t\t\t\tif (\n\t\t\t\t\tcurrentViewItem &&\n\t\t\t\t\tcurrentViewItem.type !== LineType.Header\n\t\t\t\t) {\n\t\t\t\t\tconst lineNumber =\n\t\t\t\t\t\tcurrentViewItem.modifiedLineNumber ??\n\t\t\t\t\t\tcurrentViewItem.diff.modified.startLineNumber;\n\t\t\t\t\tthis._models.modifiedSetSelection(\n\t\t\t\t\t\tRange.fromPositions(new Position(lineNumber, 1)),\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}),\n\t\t);\n\t}\n\n\tprivate _goToGroupDelta(delta: number, tx?: ITransaction): void {\n\t\tconst groups = this.groups.get();\n\t\tif (!groups || groups.length <= 1) {\n\t\t\treturn;\n\t\t}\n\t\tsubtransaction(tx, (tx) => {\n\t\t\tthis._currentGroupIdx.set(\n\t\t\t\tOffsetRange.ofLength(groups.length).clipCyclic(\n\t\t\t\t\tthis._currentGroupIdx.get() + delta,\n\t\t\t\t),\n\t\t\t\ttx,\n\t\t\t);\n\t\t\tthis._currentElementIdx.set(0, tx);\n\t\t});\n\t}\n\n\tnextGroup(tx?: ITransaction): void {\n\t\tthis._goToGroupDelta(1, tx);\n\t}\n\tpreviousGroup(tx?: ITransaction): void {\n\t\tthis._goToGroupDelta(-1, tx);\n\t}\n\n\tprivate _goToLineDelta(delta: number): void {\n\t\tconst group = this.currentGroup.get();\n\t\tif (!group || group.lines.length <= 1) {\n\t\t\treturn;\n\t\t}\n\t\ttransaction((tx) => {\n\t\t\tthis._currentElementIdx.set(\n\t\t\t\tOffsetRange.ofLength(group.lines.length).clip(\n\t\t\t\t\tthis._currentElementIdx.get() + delta,\n\t\t\t\t),\n\t\t\t\ttx,\n\t\t\t);\n\t\t});\n\t}\n\n\tgoToNextLine(): void {\n\t\tthis._goToLineDelta(1);\n\t}\n\tgoToPreviousLine(): void {\n\t\tthis._goToLineDelta(-1);\n\t}\n\n\tgoToLine(line: ViewElement): void {\n\t\tconst group = this.currentGroup.get();\n\t\tif (!group) {\n\t\t\treturn;\n\t\t}\n\t\tconst idx = group.lines.indexOf(line);\n\t\tif (idx === -1) {\n\t\t\treturn;\n\t\t}\n\t\ttransaction((tx) => {\n\t\t\tthis._currentElementIdx.set(idx, tx);\n\t\t});\n\t}\n\n\trevealCurrentElementInEditor(): void {\n\t\tif (!this.canClose.get()) {\n\t\t\treturn;\n\t\t}\n\t\tthis._setVisible(false, undefined);\n\n\t\tconst curElem = this.currentElement.get();\n\t\tif (curElem) {\n\t\t\tif (curElem.type === LineType.Deleted) {\n\t\t\t\tthis._models.originalReveal(\n\t\t\t\t\tRange.fromPositions(\n\t\t\t\t\t\tnew Position(curElem.originalLineNumber, 1),\n\t\t\t\t\t),\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tthis._models.modifiedReveal(\n\t\t\t\t\tcurElem.type !== LineType.Header\n\t\t\t\t\t\t? Range.fromPositions(\n\t\t\t\t\t\t\t\tnew Position(curElem.modifiedLineNumber, 1),\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t: undefined,\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\tclose(): void {\n\t\tif (!this.canClose.get()) {\n\t\t\treturn;\n\t\t}\n\t\tthis._setVisible(false, undefined);\n\t\tthis._models.modifiedFocus();\n\t}\n}\n\nconst viewElementGroupLineMargin = 3;\n\nfunction computeViewElementGroups(\n\tdiffs: DetailedLineRangeMapping[],\n\toriginalLineCount: number,\n\tmodifiedLineCount: number,\n): ViewElementGroup[] {\n\tconst result: ViewElementGroup[] = [];\n\n\tfor (const g of groupAdjacentBy(\n\t\tdiffs,\n\t\t(a, b) =>\n\t\t\tb.modified.startLineNumber - a.modified.endLineNumberExclusive <\n\t\t\t2 * viewElementGroupLineMargin,\n\t)) {\n\t\tconst viewElements: ViewElement[] = [];\n\t\tviewElements.push(new HeaderViewElement());\n\n\t\tconst origFullRange = new LineRange(\n\t\t\tMath.max(\n\t\t\t\t1,\n\t\t\t\tg[0].original.startLineNumber - viewElementGroupLineMargin,\n\t\t\t),\n\t\t\tMath.min(\n\t\t\t\tg[g.length - 1].original.endLineNumberExclusive +\n\t\t\t\t\tviewElementGroupLineMargin,\n\t\t\t\toriginalLineCount + 1,\n\t\t\t),\n\t\t);\n\t\tconst modifiedFullRange = new LineRange(\n\t\t\tMath.max(\n\t\t\t\t1,\n\t\t\t\tg[0].modified.startLineNumber - viewElementGroupLineMargin,\n\t\t\t),\n\t\t\tMath.min(\n\t\t\t\tg[g.length - 1].modified.endLineNumberExclusive +\n\t\t\t\t\tviewElementGroupLineMargin,\n\t\t\t\tmodifiedLineCount + 1,\n\t\t\t),\n\t\t);\n\n\t\tforEachAdjacent(g, (a, b) => {\n\t\t\tconst origRange = new LineRange(\n\t\t\t\ta\n\t\t\t\t\t? a.original.endLineNumberExclusive\n\t\t\t\t\t: origFullRange.startLineNumber,\n\t\t\t\tb\n\t\t\t\t\t? b.original.startLineNumber\n\t\t\t\t\t: origFullRange.endLineNumberExclusive,\n\t\t\t);\n\t\t\tconst modifiedRange = new LineRange(\n\t\t\t\ta\n\t\t\t\t\t? a.modified.endLineNumberExclusive\n\t\t\t\t\t: modifiedFullRange.startLineNumber,\n\t\t\t\tb\n\t\t\t\t\t? b.modified.startLineNumber\n\t\t\t\t\t: modifiedFullRange.endLineNumberExclusive,\n\t\t\t);\n\n\t\t\torigRange.forEach((origLineNumber) => {\n\t\t\t\tviewElements.push(\n\t\t\t\t\tnew UnchangedLineViewElement(\n\t\t\t\t\t\torigLineNumber,\n\t\t\t\t\t\tmodifiedRange.startLineNumber +\n\t\t\t\t\t\t\t(origLineNumber - origRange.startLineNumber),\n\t\t\t\t\t),\n\t\t\t\t);\n\t\t\t});\n\n\t\t\tif (b) {\n\t\t\t\tb.original.forEach((origLineNumber) => {\n\t\t\t\t\tviewElements.push(\n\t\t\t\t\t\tnew DeletedLineViewElement(b, origLineNumber),\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t\tb.modified.forEach((modifiedLineNumber) => {\n\t\t\t\t\tviewElements.push(\n\t\t\t\t\t\tnew AddedLineViewElement(b, modifiedLineNumber),\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\tconst modifiedRange = g[0].modified.join(g[g.length - 1].modified);\n\t\tconst originalRange = g[0].original.join(g[g.length - 1].original);\n\n\t\tresult.push(\n\t\t\tnew ViewElementGroup(\n\t\t\t\tnew LineRangeMapping(modifiedRange, originalRange),\n\t\t\t\tviewElements,\n\t\t\t),\n\t\t);\n\t}\n\treturn result;\n}\n\nenum LineType {\n\tHeader = 0,\n\tUnchanged = 1,\n\tDeleted = 2,\n\tAdded = 3,\n}\n\nclass ViewElementGroup {\n\tconstructor(\n\t\tpublic readonly range: LineRangeMapping,\n\t\tpublic readonly lines: readonly ViewElement[],\n\t) {}\n}\n\ntype ViewElement =\n\t| HeaderViewElement\n\t| UnchangedLineViewElement\n\t| DeletedLineViewElement\n\t| AddedLineViewElement;\n\nclass HeaderViewElement {\n\tpublic readonly type = LineType.Header;\n}\n\nclass DeletedLineViewElement {\n\tpublic readonly type = LineType.Deleted;\n\n\tpublic readonly modifiedLineNumber = undefined;\n\n\tconstructor(\n\t\tpublic readonly diff: DetailedLineRangeMapping,\n\t\tpublic readonly originalLineNumber: number,\n\t) {}\n}\n\nclass AddedLineViewElement {\n\tpublic readonly type = LineType.Added;\n\n\tpublic readonly originalLineNumber = undefined;\n\n\tconstructor(\n\t\tpublic readonly diff: DetailedLineRangeMapping,\n\t\tpublic readonly modifiedLineNumber: number,\n\t) {}\n}\n\nclass UnchangedLineViewElement {\n\tpublic readonly type = LineType.Unchanged;\n\tconstructor(\n\t\tpublic readonly originalLineNumber: number,\n\t\tpublic readonly modifiedLineNumber: number,\n\t) {}\n}\n\nclass View extends Disposable {\n\tpublic readonly domNode: HTMLElement;\n\tprivate readonly _content: HTMLElement;\n\tprivate readonly _scrollbar: DomScrollableElement;\n\tprivate readonly _actionBar: ActionBar;\n\n\tconstructor(\n\t\tprivate readonly _element: HTMLElement,\n\t\tprivate readonly _model: ViewModel,\n\t\tprivate readonly _width: IObservable<number>,\n\t\tprivate readonly _height: IObservable<number>,\n\t\tprivate readonly _models: IAccessibleDiffViewerModel,\n\t\t@ILanguageService private readonly _languageService: ILanguageService,\n\t) {\n\t\tsuper();\n\n\t\tthis.domNode = this._element;\n\t\tthis.domNode.className =\n\t\t\t\"monaco-component diff-review monaco-editor-background\";\n\n\t\tconst actionBarContainer = document.createElement(\"div\");\n\t\tactionBarContainer.className = \"diff-review-actions\";\n\t\tthis._actionBar = this._register(new ActionBar(actionBarContainer));\n\t\tthis._register(\n\t\t\tautorun((reader) => {\n\t\t\t\t/** @description update actions */\n\t\t\t\tthis._actionBar.clear();\n\t\t\t\tif (this._model.canClose.read(reader)) {\n\t\t\t\t\tthis._actionBar.push(\n\t\t\t\t\t\tnew Action(\n\t\t\t\t\t\t\t\"diffreview.close\",\n\t\t\t\t\t\t\tlocalize(\"label.close\", \"Close\"),\n\t\t\t\t\t\t\t\"close-diff-review \" +\n\t\t\t\t\t\t\t\tThemeIcon.asClassName(\n\t\t\t\t\t\t\t\t\taccessibleDiffViewerCloseIcon,\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\ttrue,\n\t\t\t\t\t\t\tasync () => _model.close(),\n\t\t\t\t\t\t),\n\t\t\t\t\t\t{ label: false, icon: true },\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}),\n\t\t);\n\n\t\tthis._content = document.createElement(\"div\");\n\t\tthis._content.className = \"diff-review-content\";\n\t\tthis._content.setAttribute(\"role\", \"code\");\n\t\tthis._scrollbar = this._register(\n\t\t\tnew DomScrollableElement(this._content, {}),\n\t\t);\n\t\treset(this.domNode, this._scrollbar.getDomNode(), actionBarContainer);\n\n\t\tthis._register(\n\t\t\tautorun((r) => {\n\t\t\t\tthis._height.read(r);\n\t\t\t\tthis._width.read(r);\n\t\t\t\tthis._scrollbar.scanDomNode();\n\t\t\t}),\n\t\t);\n\n\t\tthis._register(\n\t\t\ttoDisposable(() => {\n\t\t\t\treset(this.domNode);\n\t\t\t}),\n\t\t);\n\n\t\tthis._register(\n\t\t\tapplyStyle(this.domNode, {\n\t\t\t\twidth: this._width,\n\t\t\t\theight: this._height,\n\t\t\t}),\n\t\t);\n\t\tthis._register(\n\t\t\tapplyStyle(this._content, {\n\t\t\t\twidth: this._width,\n\t\t\t\theight: this._height,\n\t\t\t}),\n\t\t);\n\n\t\tthis._register(\n\t\t\tautorunWithStore((reader, store) => {\n\t\t\t\t/** @description render */\n\t\t\t\tthis._model.currentGroup.read(reader);\n\t\t\t\tthis._render(store);\n\t\t\t}),\n\t\t);\n\n\t\t// TODO@hediet use commands\n\t\tthis._register(\n\t\t\taddStandardDisposableListener(this.domNode, \"keydown\", (e) => {\n\t\t\t\tif (\n\t\t\t\t\te.equals(KeyCode.DownArrow) ||\n\t\t\t\t\te.equals(KeyMod.CtrlCmd | KeyCode.DownArrow) ||\n\t\t\t\t\te.equals(KeyMod.Alt | KeyCode.DownArrow)\n\t\t\t\t) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tthis._model.goToNextLine();\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\te.equals(KeyCode.UpArrow) ||\n\t\t\t\t\te.equals(KeyMod.CtrlCmd | KeyCode.UpArrow) ||\n\t\t\t\t\te.equals(KeyMod.Alt | KeyCode.UpArrow)\n\t\t\t\t) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tthis._model.goToPreviousLine();\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\te.equals(KeyCode.Escape) ||\n\t\t\t\t\te.equals(KeyMod.CtrlCmd | KeyCode.Escape) ||\n\t\t\t\t\te.equals(KeyMod.Alt | KeyCode.Escape) ||\n\t\t\t\t\te.equals(KeyMod.Shift | KeyCode.Escape)\n\t\t\t\t) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tthis._model.close();\n\t\t\t\t}\n\n\t\t\t\tif (e.equals(KeyCode.Space) || e.equals(KeyCode.Enter)) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tthis._model.revealCurrentElementInEditor();\n\t\t\t\t}\n\t\t\t}),\n\t\t);\n\t}\n\n\tprivate _render(store: DisposableStore): void {\n\t\tconst originalOptions = this._models.getOriginalOptions();\n\t\tconst modifiedOptions = this._models.getModifiedOptions();\n\n\t\tconst container = document.createElement(\"div\");\n\t\tcontainer.className = \"diff-review-table\";\n\t\tcontainer.setAttribute(\"role\", \"list\");\n\t\tcontainer.setAttribute(\n\t\t\t\"aria-label\",\n\t\t\tlocalize(\n\t\t\t\t\"ariaLabel\",\n\t\t\t\t\"Accessible Diff Viewer. Use arrow up and down to navigate.\",\n\t\t\t),\n\t\t);\n\t\tapplyFontInfo(container, modifiedOptions.get(EditorOption.fontInfo));\n\n\t\treset(this._content, container);\n\n\t\tconst originalModel = this._models.getOriginalModel();\n\t\tconst modifiedModel = this._models.getModifiedModel();\n\t\tif (!originalModel || !modifiedModel) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst originalModelOpts = originalModel.getOptions();\n\t\tconst modifiedModelOpts = modifiedModel.getOptions();\n\n\t\tconst lineHeight = modifiedOptions.get(EditorOption.lineHeight);\n\t\tconst group = this._model.currentGroup.get();\n\t\tfor (const viewItem of group?.lines || []) {\n\t\t\tif (!group) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tlet row: HTMLDivElement;\n\n\t\t\tif (viewItem.type === LineType.Header) {\n\t\t\t\tconst header = document.createElement(\"div\");\n\t\t\t\theader.className = \"diff-review-row\";\n\t\t\t\theader.setAttribute(\"role\", \"listitem\");\n\n\t\t\t\tconst r = group.range;\n\t\t\t\tconst diffIndex = this._model.currentGroupIndex.get();\n\t\t\t\tconst diffsLength = this._model.groups.get().length;\n\t\t\t\tconst getAriaLines = (lines: number) =>\n\t\t\t\t\tlines === 0\n\t\t\t\t\t\t? localize(\"no_lines_changed\", \"no lines changed\")\n\t\t\t\t\t\t: lines === 1\n\t\t\t\t\t\t\t? localize(\"one_line_changed\", \"1 line changed\")\n\t\t\t\t\t\t\t: localize(\n\t\t\t\t\t\t\t\t\t\"more_lines_changed\",\n\t\t\t\t\t\t\t\t\t\"{0} lines changed\",\n\t\t\t\t\t\t\t\t\tlines,\n\t\t\t\t\t\t\t\t);\n\n\t\t\t\tconst originalChangedLinesCntAria = getAriaLines(\n\t\t\t\t\tr.original.length,\n\t\t\t\t);\n\t\t\t\tconst modifiedChangedLinesCntAria = getAriaLines(\n\t\t\t\t\tr.modified.length,\n\t\t\t\t);\n\t\t\t\theader.setAttribute(\n\t\t\t\t\t\"aria-label\",\n\t\t\t\t\tlocalize(\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tkey: \"header\",\n\t\t\t\t\t\t\tcomment: [\n\t\t\t\t\t\t\t\t\"This is the ARIA label for a git diff header.\",\n\t\t\t\t\t\t\t\t\"A git diff header looks like this: @@ -154,12 +159,39 @@.\",\n\t\t\t\t\t\t\t\t\"That encodes that at original line 154 (which is now line 159), 12 lines were removed/changed with 39 lines.\",\n\t\t\t\t\t\t\t\t\"Variables 0 and 1 refer to the diff index out of total number of diffs.\",\n\t\t\t\t\t\t\t\t\"Variables 2 and 4 will be numbers (a line number).\",\n\t\t\t\t\t\t\t\t'Variables 3 and 5 will be \"no lines changed\", \"1 line changed\" or \"X lines changed\", localized separately.',\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t},\n\t\t\t\t\t\t\"Difference {0} of {1}: original line {2}, {3}, modified line {4}, {5}\",\n\t\t\t\t\t\tdiffIndex + 1,\n\t\t\t\t\t\tdiffsLength,\n\t\t\t\t\t\tr.original.startLineNumber,\n\t\t\t\t\t\toriginalChangedLinesCntAria,\n\t\t\t\t\t\tr.modified.startLineNumber,\n\t\t\t\t\t\tmodifiedChangedLinesCntAria,\n\t\t\t\t\t),\n\t\t\t\t);\n\n\t\t\t\tconst cell = document.createElement(\"div\");\n\t\t\t\tcell.className = \"diff-review-cell diff-review-summary\";\n\t\t\t\t// e.g.: `1/10: @@ -504,7 +517,7 @@`\n\t\t\t\tcell.appendChild(\n\t\t\t\t\tdocument.createTextNode(\n\t\t\t\t\t\t`${diffIndex + 1}/${diffsLength}: @@ -${r.original.startLineNumber},${r.original.length} +${r.modified.startLineNumber},${r.modified.length} @@`,\n\t\t\t\t\t),\n\t\t\t\t);\n\t\t\t\theader.appendChild(cell);\n\n\t\t\t\trow = header;\n\t\t\t} else {\n\t\t\t\trow = this._createRow(\n\t\t\t\t\tviewItem,\n\t\t\t\t\tlineHeight,\n\t\t\t\t\tthis._width.get(),\n\t\t\t\t\toriginalOptions,\n\t\t\t\t\toriginalModel,\n\t\t\t\t\toriginalModelOpts,\n\t\t\t\t\tmodifiedOptions,\n\t\t\t\t\tmodifiedModel,\n\t\t\t\t\tmodifiedModelOpts,\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tcontainer.appendChild(row);\n\n\t\t\tconst isSelectedObs = derived(\n\t\t\t\t(reader) =>\n\t\t\t\t\t/** @description isSelected */ this._model.currentElement.read(\n\t\t\t\t\t\treader,\n\t\t\t\t\t) === viewItem,\n\t\t\t);\n\n\t\t\tstore.add(\n\t\t\t\tautorun((reader) => {\n\t\t\t\t\t/** @description update tab index */\n\t\t\t\t\tconst isSelected = isSelectedObs.read(reader);\n\t\t\t\t\trow.tabIndex = isSelected ? 0 : -1;\n\t\t\t\t\tif (isSelected) {\n\t\t\t\t\t\trow.focus();\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t);\n\n\t\t\tstore.add(\n\t\t\t\taddDisposableListener(row, \"focus\", () => {\n\t\t\t\t\tthis._model.goToLine(viewItem);\n\t\t\t\t}),\n\t\t\t);\n\t\t}\n\n\t\tthis._scrollbar.scanDomNode();\n\t}\n\n\tprivate _createRow(\n\t\titem:\n\t\t\t| DeletedLineViewElement\n\t\t\t| AddedLineViewElement\n\t\t\t| UnchangedLineViewElement,\n\t\tlineHeight: number,\n\t\twidth: number,\n\t\toriginalOptions: IComputedEditorOptions,\n\t\toriginalModel: ITextModel,\n\t\toriginalModelOpts: TextModelResolvedOptions,\n\t\tmodifiedOptions: IComputedEditorOptions,\n\t\tmodifiedModel: ITextModel,\n\t\tmodifiedModelOpts: TextModelResolvedOptions,\n\t): HTMLDivElement {\n\t\tconst originalLayoutInfo = originalOptions.get(EditorOption.layoutInfo);\n\t\tconst originalLineNumbersWidth =\n\t\t\toriginalLayoutInfo.glyphMarginWidth +\n\t\t\toriginalLayoutInfo.lineNumbersWidth;\n\n\t\tconst modifiedLayoutInfo = modifiedOptions.get(EditorOption.layoutInfo);\n\t\tconst modifiedLineNumbersWidth =\n\t\t\t10 +\n\t\t\tmodifiedLayoutInfo.glyphMarginWidth +\n\t\t\tmodifiedLayoutInfo.lineNumbersWidth;\n\n\t\tlet rowClassName = \"diff-review-row\";\n\t\tlet lineNumbersExtraClassName = \"\";\n\t\tconst spacerClassName: string = \"diff-review-spacer\";\n\t\tlet spacerIcon: ThemeIcon | null = null;\n\t\tswitch (item.type) {\n\t\t\tcase LineType.Added:\n\t\t\t\trowClassName = \"diff-review-row line-insert\";\n\t\t\t\tlineNumbersExtraClassName = \" char-insert\";\n\t\t\t\tspacerIcon = accessibleDiffViewerInsertIcon;\n\t\t\t\tbreak;\n\t\t\tcase LineType.Deleted:\n\t\t\t\trowClassName = \"diff-review-row line-delete\";\n\t\t\t\tlineNumbersExtraClassName = \" char-delete\";\n\t\t\t\tspacerIcon = accessibleDiffViewerRemoveIcon;\n\t\t\t\tbreak;\n\t\t}\n\n\t\tconst row = document.createElement(\"div\");\n\t\trow.style.minWidth = width + \"px\";\n\t\trow.className = rowClassName;\n\t\trow.setAttribute(\"role\", \"listitem\");\n\t\trow.ariaLevel = \"\";\n\n\t\tconst cell = document.createElement(\"div\");\n\t\tcell.className = \"diff-review-cell\";\n\t\tcell.style.height = `${lineHeight}px`;\n\t\trow.appendChild(cell);\n\n\t\tconst originalLineNumber = document.createElement(\"span\");\n\t\toriginalLineNumber.style.width = originalLineNumbersWidth + \"px\";\n\t\toriginalLineNumber.style.minWidth = originalLineNumbersWidth + \"px\";\n\t\toriginalLineNumber.className =\n\t\t\t\"diff-review-line-number\" + lineNumbersExtraClassName;\n\t\tif (item.originalLineNumber !== undefined) {\n\t\t\toriginalLineNumber.appendChild(\n\t\t\t\tdocument.createTextNode(String(item.originalLineNumber)),\n\t\t\t);\n\t\t} else {\n\t\t\toriginalLineNumber.innerText = \"\\u00a0\";\n\t\t}\n\t\tcell.appendChild(originalLineNumber);\n\n\t\tconst modifiedLineNumber = document.createElement(\"span\");\n\t\tmodifiedLineNumber.style.width = modifiedLineNumbersWidth + \"px\";\n\t\tmodifiedLineNumber.style.minWidth = modifiedLineNumbersWidth + \"px\";\n\t\tmodifiedLineNumber.style.paddingRight = \"10px\";\n\t\tmodifiedLineNumber.className =\n\t\t\t\"diff-review-line-number\" + lineNumbersExtraClassName;\n\t\tif (item.modifiedLineNumber !== undefined) {\n\t\t\tmodifiedLineNumber.appendChild(\n\t\t\t\tdocument.createTextNode(String(item.modifiedLineNumber)),\n\t\t\t);\n\t\t} else {\n\t\t\tmodifiedLineNumber.innerText = \"\\u00a0\";\n\t\t}\n\t\tcell.appendChild(modifiedLineNumber);\n\n\t\tconst spacer = document.createElement(\"span\");\n\t\tspacer.className = spacerClassName;\n\n\t\tif (spacerIcon) {\n\t\t\tconst spacerCodicon = document.createElement(\"span\");\n\t\t\tspacerCodicon.className = ThemeIcon.asClassName(spacerIcon);\n\t\t\tspacerCodicon.innerText = \"\\u00a0\\u00a0\";\n\t\t\tspacer.appendChild(spacerCodicon);\n\t\t} else {\n\t\t\tspacer.innerText = \"\\u00a0\\u00a0\";\n\t\t}\n\t\tcell.appendChild(spacer);\n\n\t\tlet lineContent: string;\n\t\tif (item.modifiedLineNumber !== undefined) {\n\t\t\tlet html: string | TrustedHTML = this._getLineHtml(\n\t\t\t\tmodifiedModel,\n\t\t\t\tmodifiedOptions,\n\t\t\t\tmodifiedModelOpts.tabSize,\n\t\t\t\titem.modifiedLineNumber,\n\t\t\t\tthis._languageService.languageIdCodec,\n\t\t\t);\n\t\t\tif (AccessibleDiffViewer._ttPolicy) {\n\t\t\t\thtml = AccessibleDiffViewer._ttPolicy.createHTML(\n\t\t\t\t\thtml as string,\n\t\t\t\t);\n\t\t\t}\n\t\t\tcell.insertAdjacentHTML(\"beforeend\", html as string);\n\t\t\tlineContent = modifiedModel.getLineContent(item.modifiedLineNumber);\n\t\t} else {\n\t\t\tlet html: string | TrustedHTML = this._getLineHtml(\n\t\t\t\toriginalModel,\n\t\t\t\toriginalOptions,\n\t\t\t\toriginalModelOpts.tabSize,\n\t\t\t\titem.originalLineNumber,\n\t\t\t\tthis._languageService.languageIdCodec,\n\t\t\t);\n\t\t\tif (AccessibleDiffViewer._ttPolicy) {\n\t\t\t\thtml = AccessibleDiffViewer._ttPolicy.createHTML(\n\t\t\t\t\thtml as string,\n\t\t\t\t);\n\t\t\t}\n\t\t\tcell.insertAdjacentHTML(\"beforeend\", html as string);\n\t\t\tlineContent = originalModel.getLineContent(item.originalLineNumber);\n\t\t}\n\n\t\tif (lineContent.length === 0) {\n\t\t\tlineContent = localize(\"blankLine\", \"blank\");\n\t\t}\n\n\t\tlet ariaLabel = \"\";\n\t\tswitch (item.type) {\n\t\t\tcase LineType.Unchanged:\n\t\t\t\tif (item.originalLineNumber === item.modifiedLineNumber) {\n\t\t\t\t\tariaLabel = localize(\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tkey: \"unchangedLine\",\n\t\t\t\t\t\t\tcomment: [\n\t\t\t\t\t\t\t\t\"The placeholders are contents of the line and should not be translated.\",\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t},\n\t\t\t\t\t\t\"{0} unchanged line {1}\",\n\t\t\t\t\t\tlineContent,\n\t\t\t\t\t\titem.originalLineNumber,\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\tariaLabel = localize(\n\t\t\t\t\t\t\"equalLine\",\n\t\t\t\t\t\t\"{0} original line {1} modified line {2}\",\n\t\t\t\t\t\tlineContent,\n\t\t\t\t\t\titem.originalLineNumber,\n\t\t\t\t\t\titem.modifiedLineNumber,\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase LineType.Added:\n\t\t\t\tariaLabel = localize(\n\t\t\t\t\t\"insertLine\",\n\t\t\t\t\t\"+ {0} modified line {1}\",\n\t\t\t\t\tlineContent,\n\t\t\t\t\titem.modifiedLineNumber,\n\t\t\t\t);\n\t\t\t\tbreak;\n\t\t\tcase LineType.Deleted:\n\t\t\t\tariaLabel = localize(\n\t\t\t\t\t\"deleteLine\",\n\t\t\t\t\t\"- {0} original line {1}\",\n\t\t\t\t\tlineContent,\n\t\t\t\t\titem.originalLineNumber,\n\t\t\t\t);\n\t\t\t\tbreak;\n\t\t}\n\t\trow.setAttribute(\"aria-label\", ariaLabel);\n\n\t\treturn row;\n\t}\n\n\tprivate _getLineHtml(\n\t\tmodel: ITextModel,\n\t\toptions: IComputedEditorOptions,\n\t\ttabSize: number,\n\t\tlineNumber: number,\n\t\tlanguageIdCodec: ILanguageIdCodec,\n\t): string {\n\t\tconst lineContent = model.getLineContent(lineNumber);\n\t\tconst fontInfo = options.get(EditorOption.fontInfo);\n\t\tconst lineTokens = LineTokens.createEmpty(lineContent, languageIdCodec);\n\t\tconst isBasicASCII = ViewLineRenderingData.isBasicASCII(\n\t\t\tlineContent,\n\t\t\tmodel.mightContainNonBasicASCII(),\n\t\t);\n\t\tconst containsRTL = ViewLineRenderingData.containsRTL(\n\t\t\tlineContent,\n\t\t\tisBasicASCII,\n\t\t\tmodel.mightContainRTL(),\n\t\t);\n\t\tconst r = renderViewLine2(\n\t\t\tnew RenderLineInput(\n\t\t\t\tfontInfo.isMonospace &&\n\t\t\t\t\t!options.get(EditorOption.disableMonospaceOptimizations),\n\t\t\t\tfontInfo.canUseHalfwidthRightwardsArrow,\n\t\t\t\tlineContent,\n\t\t\t\tfalse,\n\t\t\t\tisBasicASCII,\n\t\t\t\tcontainsRTL,\n\t\t\t\t0,\n\t\t\t\tlineTokens,\n\t\t\t\t[],\n\t\t\t\ttabSize,\n\t\t\t\t0,\n\t\t\t\tfontInfo.spaceWidth,\n\t\t\t\tfontInfo.middotWidth,\n\t\t\t\tfontInfo.wsmiddotWidth,\n\t\t\t\toptions.get(EditorOption.stopRenderingLineAfter),\n\t\t\t\toptions.get(EditorOption.renderWhitespace),\n\t\t\t\toptions.get(EditorOption.renderControlCharacters),\n\t\t\t\toptions.get(EditorOption.fontLigatures) !==\n\t\t\t\t\tEditorFontLigatures.OFF,\n\t\t\t\tnull,\n\t\t\t),\n\t\t);\n\n\t\treturn r.html;\n\t}\n}\n\nexport class AccessibleDiffViewerModelFromEditors\n\timplements IAccessibleDiffViewerModel\n{\n\tconstructor(private readonly editors: DiffEditorEditors) {}\n\n\tgetOriginalModel(): ITextModel {\n\t\treturn this.editors.original.getModel()!;\n\t}\n\n\tgetOriginalOptions(): IComputedEditorOptions {\n\t\treturn this.editors.original.getOptions();\n\t}\n\n\toriginalReveal(range: Range): void {\n\t\tthis.editors.original.revealRange(range);\n\t\tthis.editors.original.setSelection(range);\n\t\tthis.editors.original.focus();\n\t}\n\n\tgetModifiedModel(): ITextModel {\n\t\treturn this.editors.modified.getModel()!;\n\t}\n\n\tgetModifiedOptions(): IComputedEditorOptions {\n\t\treturn this.editors.modified.getOptions();\n\t}\n\n\tmodifiedReveal(range?: Range | undefined): void {\n\t\tif (range) {\n\t\t\tthis.editors.modified.revealRange(range);\n\t\t\tthis.editors.modified.setSelection(range);\n\t\t}\n\t\tthis.editors.modified.focus();\n\t}\n\n\tmodifiedSetSelection(range: Range): void {\n\t\tthis.editors.modified.setSelection(range);\n\t}\n\n\tmodifiedFocus(): void {\n\t\tthis.editors.modified.focus();\n\t}\n\n\tgetModifiedPosition(): Position | undefined {\n\t\treturn this.editors.modified.getPosition() ?? undefined;\n\t}\n}\n"],
  "mappings": "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",
  "names": ["tx", "modifiedRange", "LineType"]
}
