var p=Object.defineProperty;var u=Object.getOwnPropertyDescriptor;var f=(r,o,e,i)=>{for(var t=i>1?void 0:i?u(o,e):o,d=r.length-1,l;d>=0;d--)(l=r[d])&&(t=(i?l(o,e,t):l(t))||t);return i&&t&&p(o,e,t),t},m=(r,o)=>(e,i)=>o(e,i,r);import"../../../../base/browser/dom.js";import{readHotReloadableExport as a}from"../../../../base/common/hotReloadHelpers.js";import{Disposable as I}from"../../../../base/common/lifecycle.js";import{derived as c,derivedWithStore as v,observableValue as s,recomputeInitiallyAndOnChange as h}from"../../../../base/common/observable.js";import{IInstantiationService as w}from"../../../../platform/instantiation/common/instantiation.js";import"./model.js";import{MultiDiffEditorViewModel as D}from"./multiDiffEditorViewModel.js";import{MultiDiffEditorWidgetImpl as g}from"./multiDiffEditorWidgetImpl.js";import"./colors.js";import{Event as _}from"../../../../base/common/event.js";import"../../../../base/common/uri.js";import"../../../common/core/range.js";import"../../../common/editorCommon.js";import"../../editorBrowser.js";import"../diffEditor/diffEditorWidget.js";import{DiffEditorItemTemplate as E}from"./diffEditorItemTemplate.js";import"./workbenchUIElementFactory.js";let n=class extends I{constructor(e,i,t){super();this._element=e;this._workbenchUIElementFactory=i;this._instantiationService=t;this._register(h(this._widgetImpl))}_dimension=s(this,void 0);_viewModel=s(this,void 0);_widgetImpl=v(this,(e,i)=>(a(E,e),i.add(this._instantiationService.createInstance(a(g,e),this._element,this._dimension,this._viewModel,this._workbenchUIElementFactory))));reveal(e,i){this._widgetImpl.get().reveal(e,i)}createViewModel(e){return new D(e,this._instantiationService)}setViewModel(e){this._viewModel.set(e,void 0)}layout(e){this._dimension.set(e,void 0)}_activeControl=c(this,e=>this._widgetImpl.read(e).activeControl.read(e));getActiveControl(){return this._activeControl.get()}onDidChangeActiveControl=_.fromObservableLight(this._activeControl);getViewState(){return this._widgetImpl.get().getViewState()}setViewState(e){this._widgetImpl.get().setViewState(e)}tryGetCodeEditor(e){return this._widgetImpl.get().tryGetCodeEditor(e)}findDocumentDiffItem(e){return this._widgetImpl.get().findDocumentDiffItem(e)}};n=f([m(2,w)],n);export{n as MultiDiffEditorWidget};
