var p=Object.defineProperty;var u=Object.getOwnPropertyDescriptor;var f=(r,o,e,i)=>{for(var t=i>1?void 0:i?u(o,e):o,d=r.length-1,l;d>=0;d--)(l=r[d])&&(t=(i?l(o,e,t):l(t))||t);return i&&t&&p(o,e,t),t},m=(r,o)=>(e,i)=>o(e,i,r);import"../../../../../vs/base/browser/dom.js";import{readHotReloadableExport as a}from"../../../../../vs/base/common/hotReloadHelpers.js";import{Disposable as I}from"../../../../../vs/base/common/lifecycle.js";import{derived as c,derivedWithStore as v,observableValue as s,recomputeInitiallyAndOnChange as h}from"../../../../../vs/base/common/observable.js";import"../../../../../vs/editor/browser/widget/multiDiffEditor/model.js";import{MultiDiffEditorWidgetImpl as w}from"../../../../../vs/editor/browser/widget/multiDiffEditor/multiDiffEditorWidgetImpl.js";import{IInstantiationService as D}from"../../../../../vs/platform/instantiation/common/instantiation.js";import{MultiDiffEditorViewModel as g}from"./multiDiffEditorViewModel.js";import"./colors.js";import{Event as _}from"../../../../../vs/base/common/event.js";import"../../../../../vs/base/common/uri.js";import"../../../../../vs/editor/browser/editorBrowser.js";import"../../../../../vs/editor/browser/widget/diffEditor/diffEditorWidget.js";import{DiffEditorItemTemplate as E}from"../../../../../vs/editor/browser/widget/multiDiffEditor/diffEditorItemTemplate.js";import"../../../../../vs/editor/browser/widget/multiDiffEditor/workbenchUIElementFactory.js";import"../../../../../vs/editor/common/core/range.js";import"../../../../../vs/editor/common/editorCommon.js";let n=class extends I{constructor(e,i,t){super();this._element=e;this._workbenchUIElementFactory=i;this._instantiationService=t;this._register(h(this._widgetImpl))}_dimension=s(this,void 0);_viewModel=s(this,void 0);_widgetImpl=v(this,(e,i)=>(a(E,e),i.add(this._instantiationService.createInstance(a(w,e),this._element,this._dimension,this._viewModel,this._workbenchUIElementFactory))));reveal(e,i){this._widgetImpl.get().reveal(e,i)}createViewModel(e){return new g(e,this._instantiationService)}setViewModel(e){this._viewModel.set(e,void 0)}layout(e){this._dimension.set(e,void 0)}_activeControl=c(this,e=>this._widgetImpl.read(e).activeControl.read(e));getActiveControl(){return this._activeControl.get()}onDidChangeActiveControl=_.fromObservableLight(this._activeControl);getViewState(){return this._widgetImpl.get().getViewState()}setViewState(e){this._widgetImpl.get().setViewState(e)}tryGetCodeEditor(e){return this._widgetImpl.get().tryGetCodeEditor(e)}findDocumentDiffItem(e){return this._widgetImpl.get().findDocumentDiffItem(e)}};n=f([m(2,D)],n);export{n as MultiDiffEditorWidget};
