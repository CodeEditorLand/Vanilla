{
  "version": 3,
  "sources": ["../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/editor/browser/viewParts/scrollDecoration/scrollDecoration.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport \"./scrollDecoration.css\";\nimport {\n\ttype FastDomNode,\n\tcreateFastDomNode,\n} from \"../../../../base/browser/fastDomNode.js\";\nimport { EditorOption } from \"../../../common/config/editorOptions.js\";\nimport type * as viewEvents from \"../../../common/viewEvents.js\";\nimport type { ViewContext } from \"../../../common/viewModel/viewContext.js\";\nimport type {\n\tRenderingContext,\n\tRestrictedRenderingContext,\n} from \"../../view/renderingContext.js\";\nimport { ViewPart } from \"../../view/viewPart.js\";\n\nexport class ScrollDecorationViewPart extends ViewPart {\n\tprivate readonly _domNode: FastDomNode<HTMLElement>;\n\tprivate _scrollTop: number;\n\tprivate _width: number;\n\tprivate _shouldShow: boolean;\n\tprivate _useShadows: boolean;\n\n\tconstructor(context: ViewContext) {\n\t\tsuper(context);\n\n\t\tthis._scrollTop = 0;\n\t\tthis._width = 0;\n\t\tthis._updateWidth();\n\t\tthis._shouldShow = false;\n\t\tconst options = this._context.configuration.options;\n\t\tconst scrollbar = options.get(EditorOption.scrollbar);\n\t\tthis._useShadows = scrollbar.useShadows;\n\t\tthis._domNode = createFastDomNode(document.createElement(\"div\"));\n\t\tthis._domNode.setAttribute(\"role\", \"presentation\");\n\t\tthis._domNode.setAttribute(\"aria-hidden\", \"true\");\n\t}\n\n\tpublic override dispose(): void {\n\t\tsuper.dispose();\n\t}\n\n\tprivate _updateShouldShow(): boolean {\n\t\tconst newShouldShow = this._useShadows && this._scrollTop > 0;\n\t\tif (this._shouldShow !== newShouldShow) {\n\t\t\tthis._shouldShow = newShouldShow;\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tpublic getDomNode(): FastDomNode<HTMLElement> {\n\t\treturn this._domNode;\n\t}\n\n\tprivate _updateWidth(): void {\n\t\tconst options = this._context.configuration.options;\n\t\tconst layoutInfo = options.get(EditorOption.layoutInfo);\n\n\t\tif (\n\t\t\tlayoutInfo.minimap.renderMinimap === 0 ||\n\t\t\t(layoutInfo.minimap.minimapWidth > 0 &&\n\t\t\t\tlayoutInfo.minimap.minimapLeft === 0)\n\t\t) {\n\t\t\tthis._width = layoutInfo.width;\n\t\t} else {\n\t\t\tthis._width = layoutInfo.width - layoutInfo.verticalScrollbarWidth;\n\t\t}\n\t}\n\n\t// --- begin event handlers\n\n\tpublic override onConfigurationChanged(\n\t\te: viewEvents.ViewConfigurationChangedEvent,\n\t): boolean {\n\t\tconst options = this._context.configuration.options;\n\t\tconst scrollbar = options.get(EditorOption.scrollbar);\n\t\tthis._useShadows = scrollbar.useShadows;\n\t\tthis._updateWidth();\n\t\tthis._updateShouldShow();\n\t\treturn true;\n\t}\n\tpublic override onScrollChanged(\n\t\te: viewEvents.ViewScrollChangedEvent,\n\t): boolean {\n\t\tthis._scrollTop = e.scrollTop;\n\t\treturn this._updateShouldShow();\n\t}\n\n\t// --- end event handlers\n\n\tpublic prepareRender(ctx: RenderingContext): void {\n\t\t// Nothing to read\n\t}\n\n\tpublic render(ctx: RestrictedRenderingContext): void {\n\t\tthis._domNode.setWidth(this._width);\n\t\tthis._domNode.setClassName(this._shouldShow ? \"scroll-decoration\" : \"\");\n\t}\n}\n"],
  "mappings": ";;AAKA,OAAO;AACP;AAAA,EAEC;AAAA,OACM;AACP,SAAS,oBAAoB;AAO7B,SAAS,gBAAgB;AAElB,MAAM,iCAAiC,SAAS;AAAA,EAnBvD,OAmBuD;AAAA;AAAA;AAAA,EACrC;AAAA,EACT;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EAER,YAAY,SAAsB;AACjC,UAAM,OAAO;AAEb,SAAK,aAAa;AAClB,SAAK,SAAS;AACd,SAAK,aAAa;AAClB,SAAK,cAAc;AACnB,UAAM,UAAU,KAAK,SAAS,cAAc;AAC5C,UAAM,YAAY,QAAQ,IAAI,aAAa,SAAS;AACpD,SAAK,cAAc,UAAU;AAC7B,SAAK,WAAW,kBAAkB,SAAS,cAAc,KAAK,CAAC;AAC/D,SAAK,SAAS,aAAa,QAAQ,cAAc;AACjD,SAAK,SAAS,aAAa,eAAe,MAAM;AAAA,EACjD;AAAA,EAEgB,UAAgB;AAC/B,UAAM,QAAQ;AAAA,EACf;AAAA,EAEQ,oBAA6B;AACpC,UAAM,gBAAgB,KAAK,eAAe,KAAK,aAAa;AAC5D,QAAI,KAAK,gBAAgB,eAAe;AACvC,WAAK,cAAc;AACnB,aAAO;AAAA,IACR;AACA,WAAO;AAAA,EACR;AAAA,EAEO,aAAuC;AAC7C,WAAO,KAAK;AAAA,EACb;AAAA,EAEQ,eAAqB;AAC5B,UAAM,UAAU,KAAK,SAAS,cAAc;AAC5C,UAAM,aAAa,QAAQ,IAAI,aAAa,UAAU;AAEtD,QACC,WAAW,QAAQ,kBAAkB,KACpC,WAAW,QAAQ,eAAe,KAClC,WAAW,QAAQ,gBAAgB,GACnC;AACD,WAAK,SAAS,WAAW;AAAA,IAC1B,OAAO;AACN,WAAK,SAAS,WAAW,QAAQ,WAAW;AAAA,IAC7C;AAAA,EACD;AAAA;AAAA,EAIgB,uBACf,GACU;AACV,UAAM,UAAU,KAAK,SAAS,cAAc;AAC5C,UAAM,YAAY,QAAQ,IAAI,aAAa,SAAS;AACpD,SAAK,cAAc,UAAU;AAC7B,SAAK,aAAa;AAClB,SAAK,kBAAkB;AACvB,WAAO;AAAA,EACR;AAAA,EACgB,gBACf,GACU;AACV,SAAK,aAAa,EAAE;AACpB,WAAO,KAAK,kBAAkB;AAAA,EAC/B;AAAA;AAAA,EAIO,cAAc,KAA6B;AAAA,EAElD;AAAA,EAEO,OAAO,KAAuC;AACpD,SAAK,SAAS,SAAS,KAAK,MAAM;AAClC,SAAK,SAAS,aAAa,KAAK,cAAc,sBAAsB,EAAE;AAAA,EACvE;AACD;",
  "names": []
}
