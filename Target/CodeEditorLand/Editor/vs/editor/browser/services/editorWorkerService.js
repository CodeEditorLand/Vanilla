var w0=Object.defineProperty;var E0=Object.getOwnPropertyDescriptor;var Oh=(r=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(r,{get:(e,t)=>(typeof require<"u"?require:e)[t]}):r)(function(r){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+r+'" is not supported')});var rn=(r,e,t,n)=>{for(var i=n>1?void 0:n?E0(e,t):e,o=r.length-1,s;o>=0;o--)(s=r[o])&&(i=(n?s(e,t,i):s(i))||i);return n&&i&&w0(e,t,i),i},ze=(r,e)=>(t,n)=>e(t,n,r);var uc=class{unexpectedErrorHandler;listeners;constructor(){this.listeners=[],this.unexpectedErrorHandler=function(e){setTimeout(()=>{throw e.stack?_o.isErrorNoTelemetry(e)?new _o(e.message+`

`+e.stack):new Error(e.message+`

`+e.stack):e},0)}}addListener(e){return this.listeners.push(e),()=>{this._removeListener(e)}}emit(e){this.listeners.forEach(t=>{t(e)})}_removeListener(e){this.listeners.splice(this.listeners.indexOf(e),1)}setUnexpectedErrorHandler(e){this.unexpectedErrorHandler=e}getUnexpectedErrorHandler(){return this.unexpectedErrorHandler}onUnexpectedError(e){this.unexpectedErrorHandler(e),this.emit(e)}onUnexpectedExternalError(e){this.unexpectedErrorHandler(e)}},Ph=new uc;function bi(r){Ph.onUnexpectedError(r)}function Ie(r){R0(r)||Ph.onUnexpectedError(r)}function cc(r){if(r instanceof Error){let{name:e,message:t}=r,n=r.stacktrace||r.stack;return{$isError:!0,name:e,message:t,stack:n,noTelemetry:_o.isErrorNoTelemetry(r)}}return r}var da="Canceled";function R0(r){return r instanceof Qn?!0:r instanceof Error&&r.name===da&&r.message===da}var Qn=class extends Error{constructor(){super(da),this.name=this.message}};function Bh(){let r=new Error(da);return r.name=r.message,r}function So(r){return r?new Error(`Illegal argument: ${r}`):new Error("Illegal argument")}function Fh(r){return r?new Error(`Illegal state: ${r}`):new Error("Illegal state")}var ga=class extends Error{constructor(e){super("NotSupported"),e&&(this.message=e)}};var _o=class r extends Error{name;constructor(e){super(e),this.name="CodeExpectedError"}static fromError(e){if(e instanceof r)return e;let t=new r;return t.message=e.message,t.stack=e.stack,t}static isErrorNoTelemetry(e){return e.name==="CodeExpectedError"}},le=class r extends Error{constructor(e){super(e||"An unexpected bug occurred."),Object.setPrototypeOf(this,r.prototype)}};function dc(r,e){let t=this,n=!1,i;return function(){if(n)return i;if(n=!0,e)try{i=r.apply(t,arguments)}finally{e()}else i=r.apply(t,arguments);return i}}function Uh(r,e){let t=A0(r,e);if(t!==-1)return r[t]}function A0(r,e,t=r.length-1){for(let n=t;n>=0;n--){let i=r[n];if(e(i))return n}return-1}function An(r,e){let t=Xn(r,e);return t===-1?void 0:r[t]}function Xn(r,e,t=0,n=r.length){let i=t,o=n;for(;i<o;){let s=Math.floor((i+o)/2);e(r[s])?i=s+1:o=s}return i-1}function zh(r,e){let t=wo(r,e);return t===r.length?void 0:r[t]}function wo(r,e,t=0,n=r.length){let i=t,o=n;for(;i<o;){let s=Math.floor((i+o)/2);e(r[s])?o=s:i=s+1}return i}var Lo=class r{constructor(e){this._array=e}static assertInvariants=!1;_findLastMonotonousLastIdx=0;_prevFindLastPredicate;findLastMonotonous(e){if(r.assertInvariants){if(this._prevFindLastPredicate){for(let n of this._array)if(this._prevFindLastPredicate(n)&&!e(n))throw new Error("MonotonousArray: current predicate must be weaker than (or equal to) the previous predicate.")}this._prevFindLastPredicate=e}let t=Xn(this._array,e,this._findLastMonotonousLastIdx);return this._findLastMonotonousLastIdx=t+1,t===-1?void 0:this._array[t]}};function Jn(r,e,t=(n,i)=>n===i){if(r===e)return!0;if(!r||!e||r.length!==e.length)return!1;for(let n=0,i=r.length;n<i;n++)if(!t(r[n],e[n]))return!1;return!0}function*Wh(r,e){let t,n;for(let i of r)n!==void 0&&e(n,i)?t.push(i):(t&&(yield t),t=[i]),n=i;t&&(yield t)}function Vh(r,e){for(let t=0;t<=r.length;t++)e(t===0?void 0:r[t-1],t===r.length?void 0:r[t])}function Hh(r,e){for(let t=0;t<r.length;t++)e(t===0?void 0:r[t-1],r[t],t+1===r.length?void 0:r[t+1])}function gc(r){return r.filter(e=>!!e)}function fc(r){return Array.isArray(r)&&r.length>0}function vi(r,e=t=>t){let t=new Set;return r.filter(n=>{let i=e(n);return t.has(i)?!1:(t.add(i),!0)})}function Mn(r,e,t){let n=r.slice(0,e),i=r.slice(e);return n.concat(t,i)}function Eo(r,e){for(let t of e)r.push(t)}var Kh;(a=>{function r(l){return l<0}a.isLessThan=r;function e(l){return l<=0}a.isLessThanOrEqual=e;function t(l){return l>0}a.isGreaterThan=t;function n(l){return l===0}a.isNeitherLessOrGreaterThan=n,a.greaterThan=1,a.lessThan=-1,a.neitherLessOrGreaterThan=0})(Kh||={});function Zn(r,e){return(t,n)=>e(r(t),r(n))}var yi=(r,e)=>r-e;function qh(r){return(e,t)=>-r(e,t)}var Or=class{constructor(e){this.items=e}firstIdx=0;lastIdx=this.items.length-1;get length(){return this.lastIdx-this.firstIdx+1}takeWhile(e){let t=this.firstIdx;for(;t<this.items.length&&e(this.items[t]);)t++;let n=t===this.firstIdx?null:this.items.slice(this.firstIdx,t);return this.firstIdx=t,n}takeFromEndWhile(e){let t=this.lastIdx;for(;t>=0&&e(this.items[t]);)t--;let n=t===this.lastIdx?null:this.items.slice(t+1,this.lastIdx+1);return this.lastIdx=t,n}peek(){if(this.length!==0)return this.items[this.firstIdx]}peekLast(){if(this.length!==0)return this.items[this.lastIdx]}dequeue(){let e=this.items[this.firstIdx];return this.firstIdx++,e}removeLast(){let e=this.items[this.lastIdx];return this.lastIdx--,e}takeCount(e){let t=this.items.slice(this.firstIdx,this.firstIdx+e);return this.firstIdx+=e,t}},Nn=class r{constructor(e){this.iterate=e}static empty=new r(e=>{});forEach(e){this.iterate(t=>(e(t),!0))}toArray(){let e=[];return this.iterate(t=>(e.push(t),!0)),e}filter(e){return new r(t=>this.iterate(n=>e(n)?t(n):!0))}map(e){return new r(t=>this.iterate(n=>t(e(n))))}some(e){let t=!1;return this.iterate(n=>(t=e(n),!t)),t}findFirst(e){let t;return this.iterate(n=>e(n)?(t=n,!1):!0),t}findLast(e){let t;return this.iterate(n=>(e(n)&&(t=n),!0)),t}findLastMaxBy(e){let t,n=!0;return this.iterate(i=>((n||Kh.isGreaterThan(e(i,t)))&&(n=!1,t=i),!0)),t}};function Ro(){return globalThis._VSCODE_NLS_MESSAGES}function Pr(){return globalThis._VSCODE_NLS_LANGUAGE}var N0=Pr()==="pseudo"||typeof document<"u"&&document.location&&document.location.hash.indexOf("pseudo=true")>=0;function fa(r,e){let t;return e.length===0?t=r:t=r.replace(/\{(\d+)\}/g,(n,i)=>{let o=i[0],s=e[o],a=n;return typeof s=="string"?a=s:(typeof s=="number"||typeof s=="boolean"||s===void 0||s===null)&&(a=String(s)),a}),N0&&(t="\uFF3B"+t.replace(/[aouei]/g,"$&$&")+"\uFF3D"),t}function c(r,e,...t){return fa(typeof r=="number"?Gh(r,e):e,t)}function Gh(r,e){let t=Ro()?.[r];if(typeof t!="string"){if(typeof e=="string")return e;throw new Error(`!!! NLS MISSING: ${r} !!!`)}return t}function Br(r,e,...t){let n;typeof r=="number"?n=Gh(r,e):n=e;let i=fa(n,t);return{value:i,original:e===n?i:fa(e,t)}}var Ii="en",ma=!1,ba=!1,Do=!1,M0=!1,Qh=!1,pc=!1,O0=!1,P0=!1,B0=!1,F0=!1,ha,pa=Ii,jh=Ii,U0,On,Pn=globalThis,Lt;typeof Pn.vscode<"u"&&typeof Pn.vscode.process<"u"?Lt=Pn.vscode.process:typeof process<"u"&&typeof process?.versions?.node=="string"&&(Lt=process);var Xh=typeof Lt?.versions?.electron=="string",z0=Xh&&Lt?.type==="renderer";if(typeof Lt=="object"){ma=Lt.platform==="win32",ba=Lt.platform==="darwin",Do=Lt.platform==="linux",M0=Do&&!!Lt.env.SNAP&&!!Lt.env.SNAP_REVISION,O0=Xh,B0=!!Lt.env.CI||!!Lt.env.BUILD_ARTIFACTSTAGINGDIRECTORY,ha=Ii,pa=Ii;let r=Lt.env.VSCODE_NLS_CONFIG;if(r)try{let e=JSON.parse(r);ha=e.userLocale,jh=e.osLocale,pa=e.resolvedLanguage||Ii,U0=e.languagePack?.translationsConfigFile}catch{}Qh=!0}else typeof navigator=="object"&&!z0?(On=navigator.userAgent,ma=On.indexOf("Windows")>=0,ba=On.indexOf("Macintosh")>=0,P0=(On.indexOf("Macintosh")>=0||On.indexOf("iPad")>=0||On.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,Do=On.indexOf("Linux")>=0,F0=On?.indexOf("Mobi")>=0,pc=!0,pa=Pr()||Ii,ha=navigator.language.toLowerCase(),jh=ha):console.error("Unable to resolve platform.");var hc=0;ba?hc=1:ma?hc=3:Do&&(hc=2);var vt=ma,qe=ba,Ft=Do;var Ti=Qh;var Fr=pc,W0=pc&&typeof Pn.importScripts=="function",Jh=W0?Pn.origin:void 0;var on=On,er=pa,V0;(n=>{function r(){return er}n.value=r;function e(){return er.length===2?er==="en":er.length>=3?er[0]==="e"&&er[1]==="n"&&er[2]==="-":!1}n.isDefaultVariant=e;function t(){return er==="en"}n.isDefault=t})(V0||={});var H0=typeof Pn.postMessage=="function"&&!Pn.importScripts,va=(()=>{if(H0){let r=[];Pn.addEventListener("message",t=>{if(t.data&&t.data.vscodeScheduleAsyncWork)for(let n=0,i=r.length;n<i;n++){let o=r[n];if(o.id===t.data.vscodeScheduleAsyncWork){r.splice(n,1),o.callback();return}}});let e=0;return t=>{let n=++e;r.push({id:n,callback:t}),Pn.postMessage({vscodeScheduleAsyncWork:n},"*")}}return r=>setTimeout(r)})();var $h=!0,Yh=!1;function Zh(){if(!Yh){Yh=!0;let r=new Uint8Array(2);r[0]=1,r[1]=2,$h=new Uint16Array(r.buffer)[0]===513}return $h}var mc=!!(on&&on.indexOf("Chrome")>=0),ep=!!(on&&on.indexOf("Firefox")>=0),tp=!!(!mc&&on&&on.indexOf("Safari")>=0),np=!!(on&&on.indexOf("Edg/")>=0),tC=!!(on&&on.indexOf("Android")>=0);var Ur,bc=globalThis.vscode;if(typeof bc<"u"&&typeof bc.process<"u"){let r=bc.process;Ur={get platform(){return r.platform},get arch(){return r.arch},get env(){return r.env},cwd(){return r.cwd()}}}else typeof process<"u"&&typeof process?.versions?.node=="string"?Ur={get platform(){return process.platform},get arch(){return process.arch},get env(){return process.env},cwd(){return process.env.VSCODE_CWD||process.cwd()}}:Ur={get platform(){return vt?"win32":qe?"darwin":"linux"},get arch(){},get env(){return{}},cwd(){return"/"}};var Ao=Ur.cwd,rp=Ur.env,ip=Ur.platform,iC=Ur.arch;var q0=65,G0=97,j0=90,$0=122,ir=46,Je=47,yt=92,nr=58,Y0=63,ya=class extends Error{code;constructor(e,t,n){let i;typeof t=="string"&&t.indexOf("not ")===0?(i="must not be",t=t.replace(/^not /,"")):i="must be";let o=e.indexOf(".")!==-1?"property":"argument",s=`The "${e}" ${o} ${i} of type ${t}`;s+=`. Received type ${typeof n}`,super(s),this.code="ERR_INVALID_ARG_TYPE"}};function Q0(r,e){if(r===null||typeof r!="object")throw new ya(e,"Object",r)}function Be(r,e){if(typeof r!="string")throw new ya(e,"string",r)}var xt=ip==="win32";function ce(r){return r===Je||r===yt}function vc(r){return r===Je}function rr(r){return r>=q0&&r<=j0||r>=G0&&r<=$0}function xa(r,e,t,n){let i="",o=0,s=-1,a=0,l=0;for(let u=0;u<=r.length;++u){if(u<r.length)l=r.charCodeAt(u);else{if(n(l))break;l=Je}if(n(l)){if(!(s===u-1||a===1))if(a===2){if(i.length<2||o!==2||i.charCodeAt(i.length-1)!==ir||i.charCodeAt(i.length-2)!==ir){if(i.length>2){let d=i.lastIndexOf(t);d===-1?(i="",o=0):(i=i.slice(0,d),o=i.length-1-i.lastIndexOf(t)),s=u,a=0;continue}else if(i.length!==0){i="",o=0,s=u,a=0;continue}}e&&(i+=i.length>0?`${t}..`:"..",o=2)}else i.length>0?i+=`${t}${r.slice(s+1,u)}`:i=r.slice(s+1,u),o=u-s-1;s=u,a=0}else l===ir&&a!==-1?++a:a=-1}return i}function X0(r){return r?`${r[0]==="."?"":"."}${r}`:""}function op(r,e){Q0(e,"pathObject");let t=e.dir||e.root,n=e.base||`${e.name||""}${X0(e.ext)}`;return t?t===e.root?`${t}${n}`:`${t}${r}${n}`:n}var Fe={resolve(...r){let e="",t="",n=!1;for(let i=r.length-1;i>=-1;i--){let o;if(i>=0){if(o=r[i],Be(o,`paths[${i}]`),o.length===0)continue}else e.length===0?o=Ao():(o=rp[`=${e}`]||Ao(),(o===void 0||o.slice(0,2).toLowerCase()!==e.toLowerCase()&&o.charCodeAt(2)===yt)&&(o=`${e}\\`));let s=o.length,a=0,l="",u=!1,d=o.charCodeAt(0);if(s===1)ce(d)&&(a=1,u=!0);else if(ce(d))if(u=!0,ce(o.charCodeAt(1))){let g=2,h=g;for(;g<s&&!ce(o.charCodeAt(g));)g++;if(g<s&&g!==h){let p=o.slice(h,g);for(h=g;g<s&&ce(o.charCodeAt(g));)g++;if(g<s&&g!==h){for(h=g;g<s&&!ce(o.charCodeAt(g));)g++;(g===s||g!==h)&&(l=`\\\\${p}\\${o.slice(h,g)}`,a=g)}}}else a=1;else rr(d)&&o.charCodeAt(1)===nr&&(l=o.slice(0,2),a=2,s>2&&ce(o.charCodeAt(2))&&(u=!0,a=3));if(l.length>0)if(e.length>0){if(l.toLowerCase()!==e.toLowerCase())continue}else e=l;if(n){if(e.length>0)break}else if(t=`${o.slice(a)}\\${t}`,n=u,u&&e.length>0)break}return t=xa(t,!n,"\\",ce),n?`${e}\\${t}`:`${e}${t}`||"."},normalize(r){Be(r,"path");let e=r.length;if(e===0)return".";let t=0,n,i=!1,o=r.charCodeAt(0);if(e===1)return vc(o)?"\\":r;if(ce(o))if(i=!0,ce(r.charCodeAt(1))){let a=2,l=a;for(;a<e&&!ce(r.charCodeAt(a));)a++;if(a<e&&a!==l){let u=r.slice(l,a);for(l=a;a<e&&ce(r.charCodeAt(a));)a++;if(a<e&&a!==l){for(l=a;a<e&&!ce(r.charCodeAt(a));)a++;if(a===e)return`\\\\${u}\\${r.slice(l)}\\`;a!==l&&(n=`\\\\${u}\\${r.slice(l,a)}`,t=a)}}}else t=1;else rr(o)&&r.charCodeAt(1)===nr&&(n=r.slice(0,2),t=2,e>2&&ce(r.charCodeAt(2))&&(i=!0,t=3));let s=t<e?xa(r.slice(t),!i,"\\",ce):"";return s.length===0&&!i&&(s="."),s.length>0&&ce(r.charCodeAt(e-1))&&(s+="\\"),n===void 0?i?`\\${s}`:s:i?`${n}\\${s}`:`${n}${s}`},isAbsolute(r){Be(r,"path");let e=r.length;if(e===0)return!1;let t=r.charCodeAt(0);return ce(t)||e>2&&rr(t)&&r.charCodeAt(1)===nr&&ce(r.charCodeAt(2))},join(...r){if(r.length===0)return".";let e,t;for(let o=0;o<r.length;++o){let s=r[o];Be(s,"path"),s.length>0&&(e===void 0?e=t=s:e+=`\\${s}`)}if(e===void 0)return".";let n=!0,i=0;if(typeof t=="string"&&ce(t.charCodeAt(0))){++i;let o=t.length;o>1&&ce(t.charCodeAt(1))&&(++i,o>2&&(ce(t.charCodeAt(2))?++i:n=!1))}if(n){for(;i<e.length&&ce(e.charCodeAt(i));)i++;i>=2&&(e=`\\${e.slice(i)}`)}return Fe.normalize(e)},relative(r,e){if(Be(r,"from"),Be(e,"to"),r===e)return"";let t=Fe.resolve(r),n=Fe.resolve(e);if(t===n||(r=t.toLowerCase(),e=n.toLowerCase(),r===e))return"";let i=0;for(;i<r.length&&r.charCodeAt(i)===yt;)i++;let o=r.length;for(;o-1>i&&r.charCodeAt(o-1)===yt;)o--;let s=o-i,a=0;for(;a<e.length&&e.charCodeAt(a)===yt;)a++;let l=e.length;for(;l-1>a&&e.charCodeAt(l-1)===yt;)l--;let u=l-a,d=s<u?s:u,g=-1,h=0;for(;h<d;h++){let b=r.charCodeAt(i+h);if(b!==e.charCodeAt(a+h))break;b===yt&&(g=h)}if(h!==d){if(g===-1)return n}else{if(u>d){if(e.charCodeAt(a+h)===yt)return n.slice(a+h+1);if(h===2)return n.slice(a+h)}s>d&&(r.charCodeAt(i+h)===yt?g=h:h===2&&(g=3)),g===-1&&(g=0)}let p="";for(h=i+g+1;h<=o;++h)(h===o||r.charCodeAt(h)===yt)&&(p+=p.length===0?"..":"\\..");return a+=g,p.length>0?`${p}${n.slice(a,l)}`:(n.charCodeAt(a)===yt&&++a,n.slice(a,l))},toNamespacedPath(r){if(typeof r!="string"||r.length===0)return r;let e=Fe.resolve(r);if(e.length<=2)return r;if(e.charCodeAt(0)===yt){if(e.charCodeAt(1)===yt){let t=e.charCodeAt(2);if(t!==Y0&&t!==ir)return`\\\\?\\UNC\\${e.slice(2)}`}}else if(rr(e.charCodeAt(0))&&e.charCodeAt(1)===nr&&e.charCodeAt(2)===yt)return`\\\\?\\${e}`;return r},dirname(r){Be(r,"path");let e=r.length;if(e===0)return".";let t=-1,n=0,i=r.charCodeAt(0);if(e===1)return ce(i)?r:".";if(ce(i)){if(t=n=1,ce(r.charCodeAt(1))){let a=2,l=a;for(;a<e&&!ce(r.charCodeAt(a));)a++;if(a<e&&a!==l){for(l=a;a<e&&ce(r.charCodeAt(a));)a++;if(a<e&&a!==l){for(l=a;a<e&&!ce(r.charCodeAt(a));)a++;if(a===e)return r;a!==l&&(t=n=a+1)}}}}else rr(i)&&r.charCodeAt(1)===nr&&(t=e>2&&ce(r.charCodeAt(2))?3:2,n=t);let o=-1,s=!0;for(let a=e-1;a>=n;--a)if(ce(r.charCodeAt(a))){if(!s){o=a;break}}else s=!1;if(o===-1){if(t===-1)return".";o=t}return r.slice(0,o)},basename(r,e){e!==void 0&&Be(e,"suffix"),Be(r,"path");let t=0,n=-1,i=!0,o;if(r.length>=2&&rr(r.charCodeAt(0))&&r.charCodeAt(1)===nr&&(t=2),e!==void 0&&e.length>0&&e.length<=r.length){if(e===r)return"";let s=e.length-1,a=-1;for(o=r.length-1;o>=t;--o){let l=r.charCodeAt(o);if(ce(l)){if(!i){t=o+1;break}}else a===-1&&(i=!1,a=o+1),s>=0&&(l===e.charCodeAt(s)?--s===-1&&(n=o):(s=-1,n=a))}return t===n?n=a:n===-1&&(n=r.length),r.slice(t,n)}for(o=r.length-1;o>=t;--o)if(ce(r.charCodeAt(o))){if(!i){t=o+1;break}}else n===-1&&(i=!1,n=o+1);return n===-1?"":r.slice(t,n)},extname(r){Be(r,"path");let e=0,t=-1,n=0,i=-1,o=!0,s=0;r.length>=2&&r.charCodeAt(1)===nr&&rr(r.charCodeAt(0))&&(e=n=2);for(let a=r.length-1;a>=e;--a){let l=r.charCodeAt(a);if(ce(l)){if(!o){n=a+1;break}continue}i===-1&&(o=!1,i=a+1),l===ir?t===-1?t=a:s!==1&&(s=1):t!==-1&&(s=-1)}return t===-1||i===-1||s===0||s===1&&t===i-1&&t===n+1?"":r.slice(t,i)},format:op.bind(null,"\\"),parse(r){Be(r,"path");let e={root:"",dir:"",base:"",ext:"",name:""};if(r.length===0)return e;let t=r.length,n=0,i=r.charCodeAt(0);if(t===1)return ce(i)?(e.root=e.dir=r,e):(e.base=e.name=r,e);if(ce(i)){if(n=1,ce(r.charCodeAt(1))){let g=2,h=g;for(;g<t&&!ce(r.charCodeAt(g));)g++;if(g<t&&g!==h){for(h=g;g<t&&ce(r.charCodeAt(g));)g++;if(g<t&&g!==h){for(h=g;g<t&&!ce(r.charCodeAt(g));)g++;g===t?n=g:g!==h&&(n=g+1)}}}}else if(rr(i)&&r.charCodeAt(1)===nr){if(t<=2)return e.root=e.dir=r,e;if(n=2,ce(r.charCodeAt(2))){if(t===3)return e.root=e.dir=r,e;n=3}}n>0&&(e.root=r.slice(0,n));let o=-1,s=n,a=-1,l=!0,u=r.length-1,d=0;for(;u>=n;--u){if(i=r.charCodeAt(u),ce(i)){if(!l){s=u+1;break}continue}a===-1&&(l=!1,a=u+1),i===ir?o===-1?o=u:d!==1&&(d=1):o!==-1&&(d=-1)}return a!==-1&&(o===-1||d===0||d===1&&o===a-1&&o===s+1?e.base=e.name=r.slice(s,a):(e.name=r.slice(s,o),e.base=r.slice(s,a),e.ext=r.slice(o,a))),s>0&&s!==n?e.dir=r.slice(0,s-1):e.dir=e.root,e},sep:"\\",delimiter:";",win32:null,posix:null},J0=(()=>{if(xt){let r=/\\/g;return()=>{let e=Ao().replace(r,"/");return e.slice(e.indexOf("/"))}}return()=>Ao()})(),be={resolve(...r){let e="",t=!1;for(let n=r.length-1;n>=-1&&!t;n--){let i=n>=0?r[n]:J0();Be(i,`paths[${n}]`),i.length!==0&&(e=`${i}/${e}`,t=i.charCodeAt(0)===Je)}return e=xa(e,!t,"/",vc),t?`/${e}`:e.length>0?e:"."},normalize(r){if(Be(r,"path"),r.length===0)return".";let e=r.charCodeAt(0)===Je,t=r.charCodeAt(r.length-1)===Je;return r=xa(r,!e,"/",vc),r.length===0?e?"/":t?"./":".":(t&&(r+="/"),e?`/${r}`:r)},isAbsolute(r){return Be(r,"path"),r.length>0&&r.charCodeAt(0)===Je},join(...r){if(r.length===0)return".";let e;for(let t=0;t<r.length;++t){let n=r[t];Be(n,"path"),n.length>0&&(e===void 0?e=n:e+=`/${n}`)}return e===void 0?".":be.normalize(e)},relative(r,e){if(Be(r,"from"),Be(e,"to"),r===e||(r=be.resolve(r),e=be.resolve(e),r===e))return"";let t=1,n=r.length,i=n-t,o=1,s=e.length-o,a=i<s?i:s,l=-1,u=0;for(;u<a;u++){let g=r.charCodeAt(t+u);if(g!==e.charCodeAt(o+u))break;g===Je&&(l=u)}if(u===a)if(s>a){if(e.charCodeAt(o+u)===Je)return e.slice(o+u+1);if(u===0)return e.slice(o+u)}else i>a&&(r.charCodeAt(t+u)===Je?l=u:u===0&&(l=0));let d="";for(u=t+l+1;u<=n;++u)(u===n||r.charCodeAt(u)===Je)&&(d+=d.length===0?"..":"/..");return`${d}${e.slice(o+l)}`},toNamespacedPath(r){return r},dirname(r){if(Be(r,"path"),r.length===0)return".";let e=r.charCodeAt(0)===Je,t=-1,n=!0;for(let i=r.length-1;i>=1;--i)if(r.charCodeAt(i)===Je){if(!n){t=i;break}}else n=!1;return t===-1?e?"/":".":e&&t===1?"//":r.slice(0,t)},basename(r,e){e!==void 0&&Be(e,"ext"),Be(r,"path");let t=0,n=-1,i=!0,o;if(e!==void 0&&e.length>0&&e.length<=r.length){if(e===r)return"";let s=e.length-1,a=-1;for(o=r.length-1;o>=0;--o){let l=r.charCodeAt(o);if(l===Je){if(!i){t=o+1;break}}else a===-1&&(i=!1,a=o+1),s>=0&&(l===e.charCodeAt(s)?--s===-1&&(n=o):(s=-1,n=a))}return t===n?n=a:n===-1&&(n=r.length),r.slice(t,n)}for(o=r.length-1;o>=0;--o)if(r.charCodeAt(o)===Je){if(!i){t=o+1;break}}else n===-1&&(i=!1,n=o+1);return n===-1?"":r.slice(t,n)},extname(r){Be(r,"path");let e=-1,t=0,n=-1,i=!0,o=0;for(let s=r.length-1;s>=0;--s){let a=r.charCodeAt(s);if(a===Je){if(!i){t=s+1;break}continue}n===-1&&(i=!1,n=s+1),a===ir?e===-1?e=s:o!==1&&(o=1):e!==-1&&(o=-1)}return e===-1||n===-1||o===0||o===1&&e===n-1&&e===t+1?"":r.slice(e,n)},format:op.bind(null,"/"),parse(r){Be(r,"path");let e={root:"",dir:"",base:"",ext:"",name:""};if(r.length===0)return e;let t=r.charCodeAt(0)===Je,n;t?(e.root="/",n=1):n=0;let i=-1,o=0,s=-1,a=!0,l=r.length-1,u=0;for(;l>=n;--l){let d=r.charCodeAt(l);if(d===Je){if(!a){o=l+1;break}continue}s===-1&&(a=!1,s=l+1),d===ir?i===-1?i=l:u!==1&&(u=1):i!==-1&&(u=-1)}if(s!==-1){let d=o===0&&t?1:o;i===-1||u===0||u===1&&i===s-1&&i===o+1?e.base=e.name=r.slice(d,s):(e.name=r.slice(d,i),e.base=r.slice(d,s),e.ext=r.slice(i,s))}return o>0?e.dir=r.slice(0,o-1):t&&(e.dir="/"),e},sep:"/",delimiter:":",win32:null,posix:null};be.win32=Fe.win32=Fe;be.posix=Fe.posix=be;var Ia=xt?Fe.normalize:be.normalize,Z0=xt?Fe.isAbsolute:be.isAbsolute,yc=xt?Fe.join:be.join,sp=xt?Fe.resolve:be.resolve,ap=xt?Fe.relative:be.relative,lp=xt?Fe.dirname:be.dirname,up=xt?Fe.basename:be.basename,xc=xt?Fe.extname:be.extname,oC=xt?Fe.format:be.format,sC=xt?Fe.parse:be.parse,aC=xt?Fe.toNamespacedPath:be.toNamespacedPath,zr=xt?Fe.sep:be.sep,lC=xt?Fe.delimiter:be.delimiter;var ev=/^\w[\w\d+.-]*$/,tv=/^\//,nv=/^\/\//;function rv(r,e){if(!r.scheme&&e)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${r.authority}", path: "${r.path}", query: "${r.query}", fragment: "${r.fragment}"}`);if(r.scheme&&!ev.test(r.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(r.path){if(r.authority){if(!tv.test(r.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(nv.test(r.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function iv(r,e){return!r&&!e?"file":r}function ov(r,e){switch(r){case"https":case"http":case"file":e?e[0]!==Ut&&(e=Ut+e):e=Ut;break}return e}var Ee="",Ut="/",sv=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,he=class r{static isUri(e){return e instanceof r?!0:e?typeof e.authority=="string"&&typeof e.fragment=="string"&&typeof e.path=="string"&&typeof e.query=="string"&&typeof e.scheme=="string"&&typeof e.fsPath=="string"&&typeof e.with=="function"&&typeof e.toString=="function":!1}scheme;authority;path;query;fragment;constructor(e,t,n,i,o,s=!1){typeof e=="object"?(this.scheme=e.scheme||Ee,this.authority=e.authority||Ee,this.path=e.path||Ee,this.query=e.query||Ee,this.fragment=e.fragment||Ee):(this.scheme=iv(e,s),this.authority=t||Ee,this.path=ov(this.scheme,n||Ee),this.query=i||Ee,this.fragment=o||Ee,rv(this,s))}get fsPath(){return No(this,!1)}with(e){if(!e)return this;let{scheme:t,authority:n,path:i,query:o,fragment:s}=e;return t===void 0?t=this.scheme:t===null&&(t=Ee),n===void 0?n=this.authority:n===null&&(n=Ee),i===void 0?i=this.path:i===null&&(i=Ee),o===void 0?o=this.query:o===null&&(o=Ee),s===void 0?s=this.fragment:s===null&&(s=Ee),t===this.scheme&&n===this.authority&&i===this.path&&o===this.query&&s===this.fragment?this:new or(t,n,i,o,s)}static parse(e,t=!1){let n=sv.exec(e);return n?new or(n[2]||Ee,Ta(n[4]||Ee),Ta(n[5]||Ee),Ta(n[7]||Ee),Ta(n[9]||Ee),t):new or(Ee,Ee,Ee,Ee,Ee)}static file(e){let t=Ee;if(vt&&(e=e.replace(/\\/g,Ut)),e[0]===Ut&&e[1]===Ut){let n=e.indexOf(Ut,2);n===-1?(t=e.substring(2),e=Ut):(t=e.substring(2,n),e=e.substring(n)||Ut)}return new or("file",t,e,Ee,Ee)}static from(e,t){return new or(e.scheme,e.authority,e.path,e.query,e.fragment,t)}static joinPath(e,...t){if(!e.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let n;return vt&&e.scheme==="file"?n=r.file(Fe.join(No(e,!0),...t)).path:n=be.join(e.path,...t),e.with({path:n})}toString(e=!1){return Tc(this,e)}toJSON(){return this}static revive(e){if(e){if(e instanceof r)return e;{let t=new or(e);return t._formatted=e.external??null,t._fsPath=e._sep===gp?e.fsPath??null:null,t}}else return e}[Symbol.for("debug.description")](){return`URI(${this.toString()})`}};var gp=vt?1:void 0,or=class extends he{_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=No(this,!1)),this._fsPath}toString(e=!1){return e?Tc(this,!0):(this._formatted||(this._formatted=Tc(this,!1)),this._formatted)}toJSON(){let e={$mid:1};return this._fsPath&&(e.fsPath=this._fsPath,e._sep=gp),this._formatted&&(e.external=this._formatted),this.path&&(e.path=this.path),this.scheme&&(e.scheme=this.scheme),this.authority&&(e.authority=this.authority),this.query&&(e.query=this.query),this.fragment&&(e.fragment=this.fragment),e}},fp={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function cp(r,e,t){let n,i=-1;for(let o=0;o<r.length;o++){let s=r.charCodeAt(o);if(s>=97&&s<=122||s>=65&&s<=90||s>=48&&s<=57||s===45||s===46||s===95||s===126||e&&s===47||t&&s===91||t&&s===93||t&&s===58)i!==-1&&(n+=encodeURIComponent(r.substring(i,o)),i=-1),n!==void 0&&(n+=r.charAt(o));else{n===void 0&&(n=r.substr(0,o));let a=fp[s];a!==void 0?(i!==-1&&(n+=encodeURIComponent(r.substring(i,o)),i=-1),n+=a):i===-1&&(i=o)}}return i!==-1&&(n+=encodeURIComponent(r.substring(i))),n!==void 0?n:r}function av(r){let e;for(let t=0;t<r.length;t++){let n=r.charCodeAt(t);n===35||n===63?(e===void 0&&(e=r.substr(0,t)),e+=fp[n]):e!==void 0&&(e+=r[t])}return e!==void 0?e:r}function No(r,e){let t;return r.authority&&r.path.length>1&&r.scheme==="file"?t=`//${r.authority}${r.path}`:r.path.charCodeAt(0)===47&&(r.path.charCodeAt(1)>=65&&r.path.charCodeAt(1)<=90||r.path.charCodeAt(1)>=97&&r.path.charCodeAt(1)<=122)&&r.path.charCodeAt(2)===58?e?t=r.path.substr(1):t=r.path[1].toLowerCase()+r.path.substr(2):t=r.path,vt&&(t=t.replace(/\//g,"\\")),t}function Tc(r,e){let t=e?av:cp,n="",{scheme:i,authority:o,path:s,query:a,fragment:l}=r;if(i&&(n+=i,n+=":"),(o||i==="file")&&(n+=Ut,n+=Ut),o){let u=o.indexOf("@");if(u!==-1){let d=o.substr(0,u);o=o.substr(u+1),u=d.lastIndexOf(":"),u===-1?n+=t(d,!1,!1):(n+=t(d.substr(0,u),!1,!1),n+=":",n+=t(d.substr(u+1),!1,!0)),n+="@"}o=o.toLowerCase(),u=o.lastIndexOf(":"),u===-1?n+=t(o,!1,!0):(n+=t(o.substr(0,u),!1,!0),n+=o.substr(u))}if(s){if(s.length>=3&&s.charCodeAt(0)===47&&s.charCodeAt(2)===58){let u=s.charCodeAt(1);u>=65&&u<=90&&(s=`/${String.fromCharCode(u+32)}:${s.substr(3)}`)}else if(s.length>=2&&s.charCodeAt(1)===58){let u=s.charCodeAt(0);u>=65&&u<=90&&(s=`${String.fromCharCode(u+32)}:${s.substr(2)}`)}n+=t(s,!0,!1)}return a&&(n+="?",n+=t(a,!1,!1)),l&&(n+="#",n+=e?l:cp(l,!1,!1)),n}function hp(r){try{return decodeURIComponent(r)}catch{return r.length>3?r.substr(0,3)+hp(r.substr(3)):r}}var dp=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function Ta(r){return r.match(dp)?r.replace(dp,e=>hp(e)):r}var Cc=class{[Symbol.toStringTag]="LinkedMap";_map;_head;_tail;_size;_state;constructor(){this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(e){return this._map.has(e)}get(e,t=0){let n=this._map.get(e);if(n)return t!==0&&this.touch(n,t),n.value}set(e,t,n=0){let i=this._map.get(e);if(i)i.value=t,n!==0&&this.touch(i,n);else{switch(i={key:e,value:t,next:void 0,previous:void 0},n){case 0:this.addItemLast(i);break;case 1:this.addItemFirst(i);break;case 2:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(e,i),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let t=this._map.get(e);if(t)return this._map.delete(e),this.removeItem(t),this._size--,t.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){let n=this._state,i=this._head;for(;i;){if(t?e.bind(t)(i.value,i.key,this):e(i.value,i.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let e=this,t=this._state,n=this._head,i={[Symbol.iterator](){return i},next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(n){let o={value:n.key,done:!1};return n=n.next,o}else return{value:void 0,done:!0}}};return i}values(){let e=this,t=this._state,n=this._head,i={[Symbol.iterator](){return i},next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(n){let o={value:n.value,done:!1};return n=n.next,o}else return{value:void 0,done:!0}}};return i}entries(){let e=this,t=this._state,n=this._head,i={[Symbol.iterator](){return i},next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(n){let o={value:[n.key,n.value],done:!1};return n=n.next,o}else return{value:void 0,done:!0}}};return i}[Symbol.iterator](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let t=this._head,n=this.size;for(;t&&n>e;)this._map.delete(t.key),t=t.next,n--;this._head=t,this._size=n,t&&(t.previous=void 0),this._state++}trimNew(e){if(e>=this.size)return;if(e===0){this.clear();return}let t=this._tail,n=this.size;for(;t&&n>e;)this._map.delete(t.key),t=t.previous,n--;this._tail=t,this._size=n,t&&(t.next=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let t=e.next,n=e.previous;if(!t||!n)throw new Error("Invalid list");t.previous=n,n.next=t}e.next=void 0,e.previous=void 0,this._state++}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(t!==1&&t!==2)){if(t===1){if(e===this._head)return;let n=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(n.previous=i,i.next=n),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(t===2){if(e===this._tail)return;let n=e.next,i=e.previous;e===this._head?(n.previous=void 0,this._head=n):(n.previous=i,i.next=n),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((t,n)=>{e.push([n,t])}),e}fromJSON(e){this.clear();for(let[t,n]of e)this.set(t,n)}},kc=class extends Cc{_limit;_ratio;constructor(e,t=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,t),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,t=2){return super.get(e,t)}peek(e){return super.get(e,0)}set(e,t){return super.set(e,t,2),this}checkTrim(){this.size>this._limit&&this.trim(Math.round(this._limit*this._ratio))}},sr=class extends kc{constructor(e,t=1){super(e,t)}trim(e){this.trimOld(e)}set(e,t){return super.set(e,t),this.checkTrim(),this}};var Mo=class{map=new Map;add(e,t){let n=this.map.get(e);n||(n=new Set,this.map.set(e,n)),n.add(t)}delete(e,t){let n=this.map.get(e);n&&(n.delete(t),n.size===0&&this.map.delete(e))}forEach(e,t){let n=this.map.get(e);n&&n.forEach(t)}get(e){let t=this.map.get(e);return t||new Set}};var Bn;(C=>{function r(T){return T&&typeof T=="object"&&typeof T[Symbol.iterator]=="function"}C.is=r;let e=Object.freeze([]);function t(){return e}C.empty=t;function*n(T){yield T}C.single=n;function i(T){return r(T)?T:n(T)}C.wrap=i;function o(T){return T||e}C.from=o;function*s(T){for(let S=T.length-1;S>=0;S--)yield T[S]}C.reverse=s;function a(T){return!T||T[Symbol.iterator]().next().done===!0}C.isEmpty=a;function l(T){return T[Symbol.iterator]().next().value}C.first=l;function u(T,S){let E=0;for(let D of T)if(S(D,E++))return!0;return!1}C.some=u;function d(T,S){for(let E of T)if(S(E))return E}C.find=d;function*g(T,S){for(let E of T)S(E)&&(yield E)}C.filter=g;function*h(T,S){let E=0;for(let D of T)yield S(D,E++)}C.map=h;function*p(T,S){let E=0;for(let D of T)yield*S(D,E++)}C.flatMap=p;function*b(...T){for(let S of T)yield*S}C.concat=b;function m(T,S,E){let D=E;for(let A of T)D=S(D,A);return D}C.reduce=m;function*y(T,S,E=T.length){for(S<0&&(S+=T.length),E<0?E+=T.length:E>T.length&&(E=T.length);S<E;S++)yield T[S]}C.slice=y;function I(T,S=Number.POSITIVE_INFINITY){let E=[];if(S===0)return[E,T];let D=T[Symbol.iterator]();for(let A=0;A<S;A++){let O=D.next();if(O.done)return[E,C.empty()];E.push(O.value)}return[E,{[Symbol.iterator](){return D}}]}C.consume=I;async function k(T){let S=[];for await(let E of T)S.push(E);return Promise.resolve(S)}C.asyncToArray=k})(Bn||={});var lv=!1,Ci=null;function uv(r){Ci=r}if(lv){let r="__is_disposable_tracked__";uv(new class{trackDisposable(e){let t=new Error("Potentially leaked disposable").stack;setTimeout(()=>{e[r]||console.log(t)},3e3)}setParent(e,t){if(e&&e!==oe.None)try{e[r]=!0}catch{}}markAsDisposed(e){if(e&&e!==oe.None)try{e[r]=!0}catch{}}markAsSingleton(e){}})}function Wr(r){return Ci?.trackDisposable(r),r}function Vr(r){Ci?.markAsDisposed(r)}function Oo(r,e){Ci?.setParent(r,e)}function cv(r,e){if(Ci)for(let t of r)Ci.setParent(t,e)}function _i(r){if(Bn.is(r)){let e=[];for(let t of r)if(t)try{t.dispose()}catch(n){e.push(n)}if(e.length===1)throw e[0];if(e.length>1)throw new AggregateError(e,"Encountered errors while disposing of store");return Array.isArray(r)?[]:r}else if(r)return r.dispose(),r}function Ca(...r){let e=Se(()=>_i(r));return cv(r,e),e}function Se(r){let e=Wr({dispose:dc(()=>{Vr(e),r()})});return e}var Ve=class r{static DISABLE_DISPOSED_WARNING=!1;_toDispose=new Set;_isDisposed=!1;constructor(){Wr(this)}dispose(){this._isDisposed||(Vr(this),this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){if(this._toDispose.size!==0)try{_i(this._toDispose)}finally{this._toDispose.clear()}}add(e){if(!e)return e;if(e===this)throw new Error("Cannot register a disposable on itself!");return Oo(e,this),this._isDisposed?r.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(e),e}delete(e){if(e){if(e===this)throw new Error("Cannot dispose a disposable on itself!");this._toDispose.delete(e),e.dispose()}}deleteAndLeak(e){e&&this._toDispose.has(e)&&(this._toDispose.delete(e),Oo(e,null))}},oe=class{static None=Object.freeze({dispose(){}});_store=new Ve;constructor(){Wr(this),Oo(this._store,this)}dispose(){Vr(this),this._store.dispose()}_register(e){if(e===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(e)}},sn=class{_value;_isDisposed=!1;constructor(){Wr(this)}get value(){return this._isDisposed?void 0:this._value}set value(e){this._isDisposed||e===this._value||(this._value?.dispose(),e&&Oo(e,this),this._value=e)}clear(){this.value=void 0}dispose(){this._isDisposed=!0,Vr(this),this._value?.dispose(),this._value=void 0}clearAndLeak(){let e=this._value;return this._value=void 0,e&&Oo(e,null),e}};var ki=class{_store=new Map;_isDisposed=!1;constructor(){Wr(this)}dispose(){Vr(this),this._isDisposed=!0,this.clearAndDisposeAll()}clearAndDisposeAll(){if(this._store.size)try{_i(this._store.values())}finally{this._store.clear()}}has(e){return this._store.has(e)}get size(){return this._store.size}get(e){return this._store.get(e)}set(e,t,n=!1){this._isDisposed&&console.warn(new Error("Trying to add a disposable to a DisposableMap that has already been disposed of. The added object will be leaked!").stack),n||this._store.get(e)?.dispose(),this._store.set(e,t)}deleteAndDispose(e){this._store.get(e)?.dispose(),this._store.delete(e)}deleteAndLeak(e){let t=this._store.get(e);return this._store.delete(e),t}keys(){return this._store.keys()}values(){return this._store.values()}[Symbol.iterator](){return this._store[Symbol.iterator]()}};var Ne=class r{static Undefined=new r(void 0);element;next;prev;constructor(e){this.element=e,this.next=r.Undefined,this.prev=r.Undefined}},Hr=class{_first=Ne.Undefined;_last=Ne.Undefined;_size=0;get size(){return this._size}isEmpty(){return this._first===Ne.Undefined}clear(){let e=this._first;for(;e!==Ne.Undefined;){let t=e.next;e.prev=Ne.Undefined,e.next=Ne.Undefined,e=t}this._first=Ne.Undefined,this._last=Ne.Undefined,this._size=0}unshift(e){return this._insert(e,!1)}push(e){return this._insert(e,!0)}_insert(e,t){let n=new Ne(e);if(this._first===Ne.Undefined)this._first=n,this._last=n;else if(t){let o=this._last;this._last=n,n.prev=o,o.next=n}else{let o=this._first;this._first=n,n.next=o,o.prev=n}this._size+=1;let i=!1;return()=>{i||(i=!0,this._remove(n))}}shift(){if(this._first!==Ne.Undefined){let e=this._first.element;return this._remove(this._first),e}}pop(){if(this._last!==Ne.Undefined){let e=this._last.element;return this._remove(this._last),e}}_remove(e){if(e.prev!==Ne.Undefined&&e.next!==Ne.Undefined){let t=e.prev;t.next=e.next,e.next.prev=t}else e.prev===Ne.Undefined&&e.next===Ne.Undefined?(this._first=Ne.Undefined,this._last=Ne.Undefined):e.next===Ne.Undefined?(this._last=this._last.prev,this._last.next=Ne.Undefined):e.prev===Ne.Undefined&&(this._first=this._first.next,this._first.prev=Ne.Undefined);this._size-=1}*[Symbol.iterator](){let e=this._first;for(;e!==Ne.Undefined;)yield e.element,e=e.next}};var Kr=(r,e)=>r===e;var zt=class{constructor(e,t,n){this.owner=e;this.debugNameSource=t;this.referenceFn=n}getDebugName(e){return vp(e,this)}},pp=new Map,_c=new WeakMap;function vp(r,e){let t=_c.get(r);if(t)return t;let n=dv(r,e);if(n){let i=pp.get(n)??0;i++,pp.set(n,i);let o=i===1?n:`${n}#${i}`;return _c.set(r,o),o}}function dv(r,e){let t=_c.get(r);if(t)return t;let n=e.owner?fv(e.owner)+".":"",i,o=e.debugNameSource;if(o!==void 0)if(typeof o=="function"){if(i=o(),i!==void 0)return n+i}else return n+o;let s=e.referenceFn;if(s!==void 0&&(i=ka(s),i!==void 0))return n+i;if(e.owner!==void 0){let a=gv(e.owner,r);if(a!==void 0)return n+a}}function gv(r,e){for(let t in r)if(r[t]===e)return t}var mp=new Map,bp=new WeakMap;function fv(r){let e=bp.get(r);if(e)return e;let t=hv(r),n=mp.get(t)??0;n++,mp.set(t,n);let i=n===1?t:`${t}#${n}`;return bp.set(r,i),i}function hv(r){let e=r.constructor;return e?e.name:"Object"}function ka(r){let e=r.toString(),n=/\/\*\*\s*@description\s*([^*]*)\*\//.exec(e);return(n?n[1]:void 0)?.trim()}function _a(r,e){if(!r)throw new Error(e?`Assertion failed (${e})`:"Assertion Failed")}function Sa(r,e="Unreachable"){throw new Error(e)}function Wt(r){if(!r()){debugger;r(),Ie(new le("Assertion Failed"))}}function Po(r,e){let t=0;for(;t<r.length-1;){let n=r[t],i=r[t+1];if(!e(n,i))return!1;t++}return!0}function Bo(r){return new La(new zt(void 0,void 0,r),r,void 0,void 0)}var La=class{constructor(e,t,n,i){this._debugNameData=e;this._runFn=t;this.createChangeSummary=n;this._handleChange=i;this.changeSummary=this.createChangeSummary?.(),wt()?.handleAutorunCreated(this),this._runIfNeeded(),Wr(this)}state=2;updateCount=0;disposed=!1;dependencies=new Set;dependenciesToBeRemoved=new Set;changeSummary;get debugName(){return this._debugNameData.getDebugName(this)??"(anonymous)"}dispose(){this.disposed=!0;for(let e of this.dependencies)e.removeObserver(this);this.dependencies.clear(),Vr(this)}_runIfNeeded(){if(this.state===3)return;let e=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=e,this.state=3;let t=this.disposed;try{if(!t){wt()?.handleAutorunTriggered(this);let n=this.changeSummary;try{this.changeSummary=this.createChangeSummary?.(),this._runFn(this,n)}catch(i){bi(i)}}}finally{t||wt()?.handleAutorunFinished(this);for(let n of this.dependenciesToBeRemoved)n.removeObserver(this);this.dependenciesToBeRemoved.clear()}}toString(){return`Autorun<${this.debugName}>`}beginUpdate(){this.state===3&&(this.state=1),this.updateCount++}endUpdate(){try{if(this.updateCount===1)do{if(this.state===1){this.state=3;for(let e of this.dependencies)if(e.reportChanges(),this.state===2)break}this._runIfNeeded()}while(this.state!==3)}finally{this.updateCount--}Wt(()=>this.updateCount>=0)}handlePossibleChange(e){this.state===3&&this.dependencies.has(e)&&!this.dependenciesToBeRemoved.has(e)&&(this.state=1)}handleChange(e,t){if(this.dependencies.has(e)&&!this.dependenciesToBeRemoved.has(e))try{(this._handleChange?this._handleChange({changedObservable:e,change:t,didChange:i=>i===e},this.changeSummary):!0)&&(this.state=2)}catch(n){bi(n)}}readObservable(e){if(this.disposed)return e.get();e.addObserver(this);let t=e.get();return this.dependencies.add(e),this.dependenciesToBeRemoved.delete(e),t}};(e=>e.Observer=La)(Bo||={});function Sc(r,e){return new wa(new zt(r.owner,r.debugName,r.debugReferenceFn),e,void 0,void 0,r.onLastObserverRemoved,r.equalsFn??Kr)}yp(Sc);var wa=class extends qr{constructor(t,n,i,o,s=void 0,a){super();this._debugNameData=t;this._computeFn=n;this.createChangeSummary=i;this._handleChange=o;this._handleLastObserverRemoved=s;this._equalityComparator=a;this.changeSummary=this.createChangeSummary?.(),wt()?.handleDerivedCreated(this)}state=0;value=void 0;updateCount=0;dependencies=new Set;dependenciesToBeRemoved=new Set;changeSummary=void 0;get debugName(){return this._debugNameData.getDebugName(this)??"(anonymous)"}onLastObserverRemoved(){this.state=0,this.value=void 0;for(let t of this.dependencies)t.removeObserver(this);this.dependencies.clear(),this._handleLastObserverRemoved?.()}get(){if(this.observers.size===0){let t=this._computeFn(this,this.createChangeSummary?.());return this.onLastObserverRemoved(),t}else{do{if(this.state===1){for(let t of this.dependencies)if(t.reportChanges(),this.state===2)break}this.state===1&&(this.state=3),this._recomputeIfNeeded()}while(this.state!==3);return this.value}}_recomputeIfNeeded(){if(this.state===3)return;let t=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=t;let n=this.state!==0,i=this.value;this.state=3;let o=!1;try{let s=this.changeSummary;this.changeSummary=this.createChangeSummary?.();try{this.value=this._computeFn(this,s)}finally{for(let a of this.dependenciesToBeRemoved)a.removeObserver(this);this.dependenciesToBeRemoved.clear()}o=n&&!this._equalityComparator(i,this.value),wt()?.handleDerivedRecomputed(this,{oldValue:i,newValue:this.value,change:void 0,didChange:o,hadValue:n})}catch(s){bi(s)}if(o)for(let s of this.observers)s.handleChange(this,void 0)}toString(){return`LazyDerived<${this.debugName}>`}beginUpdate(t){this.updateCount++;let n=this.updateCount===1;if(this.state===3&&(this.state=1,!n))for(let i of this.observers)i.handlePossibleChange(this);if(n)for(let i of this.observers)i.beginUpdate(this)}endUpdate(t){if(this.updateCount--,this.updateCount===0){let n=[...this.observers];for(let i of n)i.endUpdate(this)}Wt(()=>this.updateCount>=0)}handlePossibleChange(t){if(this.state===3&&this.dependencies.has(t)&&!this.dependenciesToBeRemoved.has(t)){this.state=1;for(let n of this.observers)n.handlePossibleChange(this)}}handleChange(t,n){if(this.dependencies.has(t)&&!this.dependenciesToBeRemoved.has(t)){let i=!1;try{i=this._handleChange?this._handleChange({changedObservable:t,change:n,didChange:s=>s===t},this.changeSummary):!0}catch(s){bi(s)}let o=this.state===3;if(i&&(this.state===1||o)&&(this.state=2,o))for(let s of this.observers)s.handlePossibleChange(this)}}readObservable(t){t.addObserver(this);let n=t.get();return this.dependencies.add(t),this.dependenciesToBeRemoved.delete(t),n}addObserver(t){let n=!this.observers.has(t)&&this.updateCount>0;super.addObserver(t),n&&t.beginUpdate(this)}removeObserver(t){let n=this.observers.has(t)&&this.updateCount>0;super.removeObserver(t),n&&t.endUpdate(this)}};function Lc(...r){let e,t,n;return r.length===3?[e,t,n]=r:[t,n]=r,new ar(new zt(e,void 0,n),t,n,()=>ar.globalTransaction,Kr)}var ar=class extends qr{constructor(t,n,i,o,s){super();this._debugNameData=t;this.event=n;this._getValue=i;this._getTransaction=o;this._equalityComparator=s}static globalTransaction;value;hasValue=!1;subscription;getDebugName(){return this._debugNameData.getDebugName(this)}get debugName(){let t=this.getDebugName();return"From Event"+(t?`: ${t}`:"")}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}handleEvent=t=>{let n=this._getValue(t),i=this.value,o=!this.hasValue||!this._equalityComparator(i,n),s=!1;o&&(this.value=n,this.hasValue&&(s=!0,wc(this._getTransaction(),a=>{wt()?.handleFromEventObservableTriggered(this,{oldValue:i,newValue:n,change:void 0,didChange:o,hadValue:this.hasValue});for(let l of this.observers)a.updateObserver(l,this),l.handleChange(this,void 0)},()=>{let a=this.getDebugName();return"Event fired"+(a?`: ${a}`:"")})),this.hasValue=!0),s||wt()?.handleFromEventObservableTriggered(this,{oldValue:i,newValue:n,change:void 0,didChange:o,hadValue:this.hasValue})};onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0,this.hasValue=!1,this.value=void 0}get(){return this.subscription?(this.hasValue||this.handleEvent(void 0),this.value):this._getValue(void 0)}};(t=>{t.Observer=ar;function e(n,i){let o=!1;ar.globalTransaction===void 0&&(ar.globalTransaction=n,o=!0);try{i()}finally{o&&(ar.globalTransaction=void 0)}}t.batchEventsGlobally=e})(Lc||={});function Ip(r){let e=new Ea(!1,void 0);return r.addObserver(e),Se(()=>{r.removeObserver(e)})}kp(Ip);function Tp(r,e){let t=new Ea(!0,e);return r.addObserver(t),e?e(r.get()):r.reportChanges(),Se(()=>{r.removeObserver(t)})}Cp(Tp);var Ea=class{constructor(e,t){this._forceRecompute=e;this._handleValue=t}_counter=0;beginUpdate(e){this._counter++}endUpdate(e){this._counter--,this._counter===0&&this._forceRecompute&&(this._handleValue?this._handleValue(e.get()):e.reportChanges())}handlePossibleChange(e){}handleChange(e,t){}};var Sp;function Lp(r){Sp=r}function wt(){return Sp}var Aa=class{indentation=0;textToConsoleArgs(e){return vv([Si(Iv("|  ",this.indentation)),e])}formatInfo(e){return e.hadValue?e.didChange?[Si(" "),Vt(Uo(e.oldValue,70),{color:"red",strikeThrough:!0}),Si(" "),Vt(Uo(e.newValue,60),{color:"green"})]:[Si(" (unchanged)")]:[Si(" "),Vt(Uo(e.newValue,60),{color:"green"}),Si(" (initial)")]}handleObservableChanged(e,t){console.log(...this.textToConsoleArgs([Fo("observable value changed"),Vt(e.debugName,{color:"BlueViolet"}),...this.formatInfo(t)]))}changedObservablesSets=new WeakMap;formatChanges(e){if(e.size!==0)return Vt(" (changed deps: "+[...e].map(t=>t.debugName).join(", ")+")",{color:"gray"})}handleDerivedCreated(e){let t=e.handleChange;this.changedObservablesSets.set(e,new Set),e.handleChange=(n,i)=>(this.changedObservablesSets.get(e).add(n),t.apply(e,[n,i]))}handleDerivedRecomputed(e,t){let n=this.changedObservablesSets.get(e);console.log(...this.textToConsoleArgs([Fo("derived recomputed"),Vt(e.debugName,{color:"BlueViolet"}),...this.formatInfo(t),this.formatChanges(n),{data:[{fn:e._debugNameData.referenceFn??e._computeFn}]}])),n.clear()}handleFromEventObservableTriggered(e,t){console.log(...this.textToConsoleArgs([Fo("observable from event triggered"),Vt(e.debugName,{color:"BlueViolet"}),...this.formatInfo(t),{data:[{fn:e._getValue}]}]))}handleAutorunCreated(e){let t=e.handleChange;this.changedObservablesSets.set(e,new Set),e.handleChange=(n,i)=>(this.changedObservablesSets.get(e).add(n),t.apply(e,[n,i]))}handleAutorunTriggered(e){let t=this.changedObservablesSets.get(e);console.log(...this.textToConsoleArgs([Fo("autorun"),Vt(e.debugName,{color:"BlueViolet"}),this.formatChanges(t),{data:[{fn:e._debugNameData.referenceFn??e._runFn}]}])),t.clear(),this.indentation++}handleAutorunFinished(e){this.indentation--}handleBeginTransaction(e){let t=e.getDebugName();t===void 0&&(t=""),console.log(...this.textToConsoleArgs([Fo("transaction"),Vt(t,{color:"BlueViolet"}),{data:[{fn:e._fn}]}])),this.indentation++}handleEndTransaction(){this.indentation--}};function vv(r){let e=new Array,t=[],n="";function i(s){if("length"in s)for(let a of s)a&&i(a);else"text"in s?(n+=`%c${s.text}`,e.push(s.style),s.data&&t.push(...s.data)):"data"in s&&t.push(...s.data)}i(r);let o=[n,...e];return o.push(...t),o}function Si(r){return Vt(r,{color:"black"})}function Fo(r){return Vt(Tv(`${r}: `,10),{color:"black",bold:!0})}function Vt(r,e={color:"black"}){function t(i){return Object.entries(i).reduce((o,[s,a])=>`${o}${s}:${a};`,"")}let n={color:e.color};return e.strikeThrough&&(n["text-decoration"]="line-through"),e.bold&&(n["font-weight"]="bold"),{text:r,style:t(n)}}function Uo(r,e){switch(typeof r){case"number":return""+r;case"string":return r.length+2<=e?`"${r}"`:`"${r.substr(0,e-7)}"+...`;case"boolean":return r?"true":"false";case"undefined":return"undefined";case"object":return r===null?"null":Array.isArray(r)?yv(r,e):xv(r,e);case"symbol":return r.toString();case"function":return`[[Function${r.name?" "+r.name:""}]]`;default:return""+r}}function yv(r,e){let t="[ ",n=!0;for(let i of r){if(n||(t+=", "),t.length-5>e){t+="...";break}n=!1,t+=`${Uo(i,e-t.length)}`}return t+=" ]",t}function xv(r,e){let t="{ ",n=!0;for(let[i,o]of Object.entries(r)){if(n||(t+=", "),t.length-5>e){t+="...";break}n=!1,t+=`${i}: ${Uo(o,e-t.length)}`}return t+=" }",t}function Iv(r,e){let t="";for(let n=1;n<=e;n++)t+=r;return t}function Tv(r,e){for(;r.length<e;)r+=" ";return r}var wp;function Cp(r){wp=r}var Ep;function kp(r){Ep=r}var Ec;function yp(r){Ec=r}var Ra=class{get TChange(){return null}reportChanges(){this.get()}read(e){return e?e.readObservable(this):this.get()}map(e,t){let n=t===void 0?void 0:e,i=t===void 0?e:t;return Ec({owner:n,debugName:()=>{let o=ka(i);if(o!==void 0)return o;let a=/^\s*\(?\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*\)?\s*=>\s*\1(?:\??)\.([a-zA-Z_$][a-zA-Z_$0-9]*)\s*$/.exec(i.toString());if(a)return`${this.debugName}.${a[2]}`;if(!n)return`${this.debugName} (mapped)`},debugReferenceFn:i},o=>i(this.read(o),o))}flatten(){return Ec({owner:void 0,debugName:()=>`${this.debugName} (flattened)`},e=>this.read(e).read(e))}recomputeInitiallyAndOnChange(e,t){return e.add(wp(this,t)),this}keepObserved(e){return e.add(Ep(this)),this}get debugValue(){return this.get()}},qr=class extends Ra{observers=new Set;addObserver(e){let t=this.observers.size;this.observers.add(e),t===0&&this.onFirstObserverAdded()}removeObserver(e){this.observers.delete(e)&&this.observers.size===0&&this.onLastObserverRemoved()}onFirstObserverAdded(){}onLastObserverRemoved(){}};function Da(r,e){let t=new Na(r,e);try{r(t)}finally{t.finish()}}function wc(r,e,t){r?e(r):Da(e,t)}var Na=class{constructor(e,t){this._fn=e;this._getDebugName=t;wt()?.handleBeginTransaction(this)}updatingObservers=[];getDebugName(){return this._getDebugName?this._getDebugName():ka(this._fn)}updateObserver(e,t){this.updatingObservers.push({observer:e,observable:t}),e.beginUpdate(t)}finish(){let e=this.updatingObservers;for(let t=0;t<e.length;t++){let{observer:n,observable:i}=e[t];n.endUpdate(i)}this.updatingObservers=null,wt()?.handleEndTransaction()}};var Cv=!1;Cv&&Lp(new Aa);var kv=globalThis.performance&&typeof globalThis.performance.now=="function",Ht=class r{_startTime;_stopTime;_now;static create(e){return new r(e)}constructor(e){this._now=kv&&e===!1?Date.now:globalThis.performance.now.bind(globalThis.performance),this._startTime=this._now(),this._stopTime=-1}stop(){this._stopTime=this._now()}reset(){this._startTime=this._now(),this._stopTime=-1}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}};var _v=Symbol("MicrotaskDelay");var Sv=!1,Rp=!1,Lv=!1,an;(Re=>{Re.None=()=>oe.None;function e(z){if(Lv){let{onDidAddListener:N}=z,W=zo.create(),P=0;z.onDidAddListener=()=>{++P===2&&(console.warn("snapshotted emitter LIKELY used public and SHOULD HAVE BEEN created with DisposableStore. snapshotted here"),W.print()),N?.()}}}function t(z,N){return p(z,()=>{},0,void 0,!0,void 0,N)}Re.defer=t;function n(z){return(N,W=null,P)=>{let F=!1,ie;return ie=z(ee=>{if(!F)return ie?ie.dispose():F=!0,N.call(W,ee)},null,P),F&&ie.dispose(),ie}}Re.once=n;function i(z,N){return Re.once(Re.filter(z,N))}Re.onceIf=i;function o(z,N,W){return g((P,F=null,ie)=>z(ee=>P.call(F,N(ee)),null,ie),W)}Re.map=o;function s(z,N,W){return g((P,F=null,ie)=>z(ee=>{N(ee),P.call(F,ee)},null,ie),W)}Re.forEach=s;function a(z,N,W){return g((P,F=null,ie)=>z(ee=>N(ee)&&P.call(F,ee),null,ie),W)}Re.filter=a;function l(z){return z}Re.signal=l;function u(...z){return(N,W=null,P)=>{let F=Ca(...z.map(ie=>ie(ee=>N.call(W,ee))));return h(F,P)}}Re.any=u;function d(z,N,W,P){let F=W;return o(z,ie=>(F=N(F,ie),F),P)}Re.reduce=d;function g(z,N){let W,P={onWillAddFirstListener(){W=z(F.fire,F)},onDidRemoveLastListener(){W?.dispose()}};N||e(P);let F=new U(P);return N?.add(F),F.event}function h(z,N){return N instanceof Array?N.push(z):N&&N.add(z),z}function p(z,N,W=100,P=!1,F=!1,ie,ee){let _e,ae,j,ht=0,lt,wn={leakWarningThreshold:ie,onWillAddFirstListener(){_e=z(ia=>{ht++,ae=N(ae,ia),P&&!j&&(En.fire(ae),ae=void 0),lt=()=>{let Yn=ae;ae=void 0,j=void 0,(!P||ht>1)&&En.fire(Yn),ht=0},typeof W=="number"?(clearTimeout(j),j=setTimeout(lt,W)):j===void 0&&(j=0,queueMicrotask(lt))})},onWillRemoveListener(){F&&ht>0&&lt?.()},onDidRemoveLastListener(){lt=void 0,_e.dispose()}};ee||e(wn);let En=new U(wn);return ee?.add(En),En.event}Re.debounce=p;function b(z,N=0,W){return Re.debounce(z,(P,F)=>P?(P.push(F),P):[F],N,void 0,!0,void 0,W)}Re.accumulate=b;function m(z,N=(P,F)=>P===F,W){let P=!0,F;return a(z,ie=>{let ee=P||!N(ie,F);return P=!1,F=ie,ee},W)}Re.latch=m;function y(z,N,W){return[Re.filter(z,N,W),Re.filter(z,P=>!N(P),W)]}Re.split=y;function I(z,N=!1,W=[],P){let F=W.slice(),ie=z(ae=>{F?F.push(ae):_e.fire(ae)});P&&P.add(ie);let ee=()=>{F?.forEach(ae=>_e.fire(ae)),F=null},_e=new U({onWillAddFirstListener(){ie||(ie=z(ae=>_e.fire(ae)),P&&P.add(ie))},onDidAddFirstListener(){F&&(N?setTimeout(ee):ee())},onDidRemoveLastListener(){ie&&ie.dispose(),ie=null}});return P&&P.add(_e),_e.event}Re.buffer=I;function k(z,N){return(P,F,ie)=>{let ee=N(new T);return z(function(_e){let ae=ee.evaluate(_e);ae!==C&&P.call(F,ae)},void 0,ie)}}Re.chain=k;let C=Symbol("HaltChainable");class T{steps=[];map(N){return this.steps.push(N),this}forEach(N){return this.steps.push(W=>(N(W),W)),this}filter(N){return this.steps.push(W=>N(W)?W:C),this}reduce(N,W){let P=W;return this.steps.push(F=>(P=N(P,F),P)),this}latch(N=(W,P)=>W===P){let W=!0,P;return this.steps.push(F=>{let ie=W||!N(F,P);return W=!1,P=F,ie?F:C}),this}evaluate(N){for(let W of this.steps)if(N=W(N),N===C)break;return N}}function S(z,N,W=P=>P){let P=(..._e)=>ee.fire(W(..._e)),F=()=>z.on(N,P),ie=()=>z.removeListener(N,P),ee=new U({onWillAddFirstListener:F,onDidRemoveLastListener:ie});return ee.event}Re.fromNodeEventEmitter=S;function E(z,N,W=P=>P){let P=(..._e)=>ee.fire(W(..._e)),F=()=>z.addEventListener(N,P),ie=()=>z.removeEventListener(N,P),ee=new U({onWillAddFirstListener:F,onDidRemoveLastListener:ie});return ee.event}Re.fromDOMEventEmitter=E;function D(z){return new Promise(N=>n(z)(N))}Re.toPromise=D;function A(z){let N=new U;return z.then(W=>{N.fire(W)},()=>{N.fire(void 0)}).finally(()=>{N.dispose()}),N.event}Re.fromPromise=A;function O(z,N){return z(W=>N.fire(W))}Re.forward=O;function V(z,N,W){return N(W),z(P=>N(P))}Re.runAndSubscribe=V;class Q{constructor(N,W){this._observable=N;let P={onWillAddFirstListener:()=>{N.addObserver(this),this._observable.reportChanges()},onDidRemoveLastListener:()=>{N.removeObserver(this)}};W||e(P),this.emitter=new U(P),W&&W.add(this.emitter)}emitter;_counter=0;_hasChanged=!1;beginUpdate(N){this._counter++}handlePossibleChange(N){}handleChange(N,W){this._hasChanged=!0}endUpdate(N){this._counter--,this._counter===0&&(this._observable.reportChanges(),this._hasChanged&&(this._hasChanged=!1,this.emitter.fire(this._observable.get())))}}function K(z,N){return new Q(z,N).emitter.event}Re.fromObservable=K;function me(z){return(N,W,P)=>{let F=0,ie=!1,ee={beginUpdate(){F++},endUpdate(){F--,F===0&&(z.reportChanges(),ie&&(ie=!1,N.call(W)))},handlePossibleChange(){},handleChange(){ie=!0}};z.addObserver(ee),z.reportChanges();let _e={dispose(){z.removeObserver(ee)}};return P instanceof Ve?P.add(_e):Array.isArray(P)&&P.push(_e),_e}}Re.fromObservableLight=me})(an||={});var Rc=class r{static all=new Set;static _idPool=0;name;listenerCount=0;invocationCount=0;elapsedOverall=0;durations=[];_stopWatch;constructor(e){this.name=`${e}_${r._idPool++}`,r.all.add(this)}start(e){this._stopWatch=new Ht,this.listenerCount=e}stop(){if(this._stopWatch){let e=this._stopWatch.elapsed();this.durations.push(e),this.elapsedOverall+=e,this.invocationCount+=1,this._stopWatch=void 0}}},Dp=-1;var Dc=class r{constructor(e,t,n=(r._idPool++).toString(16).padStart(3,"0")){this._errorHandler=e;this.threshold=t;this.name=n}static _idPool=1;_stacks;_warnCountdown=0;dispose(){this._stacks?.clear()}check(e,t){let n=this.threshold;if(n<=0||t<n)return;this._stacks||(this._stacks=new Map);let i=this._stacks.get(e.value)||0;if(this._stacks.set(e.value,i+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=n*.5;let[o,s]=this.getMostFrequentStack(),a=`[${this.name}] potential listener LEAK detected, having ${t} listeners already. MOST frequent listener (${s}):`;console.warn(a),console.warn(o);let l=new Ac(a,o);this._errorHandler(l)}return()=>{let o=this._stacks.get(e.value)||0;this._stacks.set(e.value,o-1)}}getMostFrequentStack(){if(!this._stacks)return;let e,t=0;for(let[n,i]of this._stacks)(!e||t<i)&&(e=[n,i],t=i);return e}},zo=class r{constructor(e){this.value=e}static create(){let e=new Error;return new r(e.stack??"")}print(){console.warn(this.value.split(`
`).slice(2).join(`
`))}},Ac=class extends Error{constructor(e,t){super(e),this.name="ListenerLeakError",this.stack=t}},Nc=class extends Error{constructor(e,t){super(e),this.name="ListenerRefusalError",this.stack=t}},wv=0,Li=class{constructor(e){this.value=e}stack;id=wv++},Ev=2,Rv=(r,e)=>{if(r instanceof Li)e(r);else for(let t=0;t<r.length;t++){let n=r[t];n&&e(n)}},Ma;if(Sv){let r=[];setInterval(()=>{r.length!==0&&(console.warn("[LEAKING LISTENERS] GC'ed these listeners that were NOT yet disposed:"),console.warn(r.join(`
`)),r.length=0)},3e3),Ma=new FinalizationRegistry(e=>{typeof e=="string"&&r.push(e)})}var U=class{_options;_leakageMon;_perfMon;_disposed;_event;_listeners;_deliveryQueue;_size=0;constructor(e){this._options=e,this._leakageMon=Dp>0||this._options?.leakWarningThreshold?new Dc(e?.onListenerError??Ie,this._options?.leakWarningThreshold??Dp):void 0,this._perfMon=this._options?._profName?new Rc(this._options._profName):void 0,this._deliveryQueue=this._options?.deliveryQueue}dispose(){if(!this._disposed){if(this._disposed=!0,this._deliveryQueue?.current===this&&this._deliveryQueue.reset(),this._listeners){if(Rp){let e=this._listeners;queueMicrotask(()=>{Rv(e,t=>t.stack?.print())})}this._listeners=void 0,this._size=0}this._options?.onDidRemoveLastListener?.(),this._leakageMon?.dispose()}}get event(){return this._event??=(e,t,n)=>{if(this._leakageMon&&this._size>this._leakageMon.threshold**2){let l=`[${this._leakageMon.name}] REFUSES to accept new listeners because it exceeded its threshold by far (${this._size} vs ${this._leakageMon.threshold})`;console.warn(l);let u=this._leakageMon.getMostFrequentStack()??["UNKNOWN stack",-1],d=new Nc(`${l}. HINT: Stack shows most frequent listener (${u[1]}-times)`,u[0]);return(this._options?.onListenerError||Ie)(d),oe.None}if(this._disposed)return oe.None;t&&(e=e.bind(t));let i=new Li(e),o,s;this._leakageMon&&this._size>=Math.ceil(this._leakageMon.threshold*.2)&&(i.stack=zo.create(),o=this._leakageMon.check(i.stack,this._size+1)),Rp&&(i.stack=s??zo.create()),this._listeners?this._listeners instanceof Li?(this._deliveryQueue??=new Mc,this._listeners=[this._listeners,i]):this._listeners.push(i):(this._options?.onWillAddFirstListener?.(this),this._listeners=i,this._options?.onDidAddFirstListener?.(this)),this._size++;let a=Se(()=>{Ma?.unregister(a),o?.(),this._removeListener(i)});if(n instanceof Ve?n.add(a):Array.isArray(n)&&n.push(a),Ma){let l=new Error().stack.split(`
`).slice(2,3).join(`
`).trim(),u=/(file:|vscode-file:\/\/vscode-app)?(\/[^:]*:\d+:\d+)/.exec(l);Ma.register(a,u?.[2]??l,a)}return a},this._event}_removeListener(e){if(this._options?.onWillRemoveListener?.(this),!this._listeners)return;if(this._size===1){this._listeners=void 0,this._options?.onDidRemoveLastListener?.(this),this._size=0;return}let t=this._listeners,n=t.indexOf(e);if(n===-1)throw console.log("disposed?",this._disposed),console.log("size?",this._size),console.log("arr?",JSON.stringify(this._listeners)),new Error("Attempted to dispose unknown listener");this._size--,t[n]=void 0;let i=this._deliveryQueue.current===this;if(this._size*Ev<=t.length){let o=0;for(let s=0;s<t.length;s++)t[s]?t[o++]=t[s]:i&&(this._deliveryQueue.end--,o<this._deliveryQueue.i&&this._deliveryQueue.i--);t.length=o}}_deliver(e,t){if(!e)return;let n=this._options?.onListenerError||Ie;if(!n){e.value(t);return}try{e.value(t)}catch(i){n(i)}}_deliverQueue(e){let t=e.current._listeners;for(;e.i<e.end;)this._deliver(t[e.i++],e.value);e.reset()}fire(e){if(this._deliveryQueue?.current&&(this._deliverQueue(this._deliveryQueue),this._perfMon?.stop()),this._perfMon?.start(this._size),this._listeners)if(this._listeners instanceof Li)this._deliver(this._listeners,e);else{let t=this._deliveryQueue;t.enqueue(this,e,this._listeners.length),this._deliverQueue(t)}this._perfMon?.stop()}hasListeners(){return this._size>0}};var Mc=class{i=-1;end=0;current;value;enqueue(e,t,n){this.i=0,this.end=n,this.current=e,this.value=t}reset(){this.i=this.end,this.current=void 0,this.value=void 0}};var Ap=Object.freeze(function(r,e){let t=setTimeout(r.bind(e),0);return{dispose(){clearTimeout(t)}}}),Oc;(n=>{function r(i){return i===n.None||i===n.Cancelled||i instanceof wi?!0:!i||typeof i!="object"?!1:typeof i.isCancellationRequested=="boolean"&&typeof i.onCancellationRequested=="function"}n.isCancellationToken=r,n.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:an.None}),n.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:Ap})})(Oc||={});var wi=class{_isCancelled=!1;_emitter=null;cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?Ap:(this._emitter||(this._emitter=new U),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}},lr=class{_token=void 0;_parentListener=void 0;constructor(e){this._parentListener=e&&e.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new wi),this._token}cancel(){this._token?this._token instanceof wi&&this._token.cancel():this._token=Oc.Cancelled}dispose(e=!1){e&&this.cancel(),this._parentListener?.dispose(),this._token?this._token instanceof wi&&this._token.dispose():this._token=Oc.None}};function Np(r){return r}var Oa=class{lastCache=void 0;lastArgKey=void 0;_fn;_computeKey;constructor(e,t){typeof e=="function"?(this._fn=e,this._computeKey=Np):(this._fn=t,this._computeKey=e.getCacheKey)}get(e){let t=this._computeKey(e);return this.lastArgKey!==t&&(this.lastArgKey=t,this.lastCache=this._fn(e)),this.lastCache}},Wo=class{_map=new Map;_map2=new Map;get cachedValues(){return this._map}_fn;_computeKey;constructor(e,t){typeof e=="function"?(this._fn=e,this._computeKey=Np):(this._fn=t,this._computeKey=e.getCacheKey)}get(e){let t=this._computeKey(e);if(this._map2.has(t))return this._map2.get(t);let n=this._fn(e);return this._map.set(e,n),this._map2.set(t,n),n}};var ur=class{constructor(e){this.executor=e}_didRun=!1;_value;_error;get hasValue(){return this._didRun}get value(){if(!this._didRun)try{this._value=this.executor()}catch(e){this._error=e}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}};function Pc(r){return r<0?0:r>255?255:r|0}function Gr(r){return r<0?0:r>4294967295?4294967295:r|0}function Pp(r){return!r||typeof r!="string"?!0:r.trim().length===0}function Bp(r){return r.replace(/[<>"'&]/g,e=>{switch(e){case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";case"'":return"&apos;";case"&":return"&amp;"}return e})}function At(r){return r.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}function Ba(r,e,t={}){if(!r)throw new Error("Cannot create regex from empty string");e||(r=At(r)),t.wholeWord&&(/\B/.test(r.charAt(0))||(r="\\b"+r),/\B/.test(r.charAt(r.length-1))||(r=r+"\\b"));let n="";return t.global&&(n+="g"),t.matchCase||(n+="i"),t.multiline&&(n+="m"),t.unicode&&(n+="u"),new RegExp(r,n)}function Fa(r){return r.split(/\r\n|\r|\n/)}function ln(r){for(let e=0,t=r.length;e<t;e++){let n=r.charCodeAt(e);if(n!==32&&n!==9)return e}return-1}function Ua(r,e=r.length-1){for(let t=e;t>=0;t--){let n=r.charCodeAt(t);if(n!==32&&n!==9)return t}return-1}function Uc(r,e){return r<e?-1:r>e?1:0}function Fp(r,e,t=0,n=r.length,i=0,o=e.length){for(;t<n&&i<o;t++,i++){let l=r.charCodeAt(t),u=e.charCodeAt(i);if(l<u)return-1;if(l>u)return 1}let s=n-t,a=o-i;return s<a?-1:s>a?1:0}function zc(r,e,t=0,n=r.length,i=0,o=e.length){for(;t<n&&i<o;t++,i++){let l=r.charCodeAt(t),u=e.charCodeAt(i);if(l===u)continue;if(l>=128||u>=128)return Fp(r.toLowerCase(),e.toLowerCase(),t,n,i,o);Mp(l)&&(l-=32),Mp(u)&&(u-=32);let d=l-u;if(d!==0)return d}let s=n-t,a=o-i;return s<a?-1:s>a?1:0}function Mp(r){return r>=97&&r<=122}function Wc(r){return r>=65&&r<=90}function un(r,e){return r.length===e.length&&zc(r,e)===0}function Ko(r,e){let t=e.length;return e.length>r.length?!1:zc(r,e,0,t)===0}function rt(r){return 55296<=r&&r<=56319}function qo(r){return 56320<=r&&r<=57343}function za(r,e){return(r-55296<<10)+(e-56320)+65536}function Di(r,e,t){let n=r.charCodeAt(t);if(rt(n)&&t+1<e){let i=r.charCodeAt(t+1);if(qo(i))return za(n,i)}return n}function Av(r,e){let t=r.charCodeAt(e-1);if(qo(t)&&e>1){let n=r.charCodeAt(e-2);if(rt(n))return za(n,t)}return t}var Vo=class{_str;_len;_offset;get offset(){return this._offset}constructor(e,t=0){this._str=e,this._len=e.length,this._offset=t}setOffset(e){this._offset=e}prevCodePoint(){let e=Av(this._str,this._offset);return this._offset-=e>=65536?2:1,e}nextCodePoint(){let e=Di(this._str,this._len,this._offset);return this._offset+=e>=65536?2:1,e}eol(){return this._offset>=this._len}},Ho=class{_iterator;get offset(){return this._iterator.offset}constructor(e,t=0){this._iterator=new Vo(e,t)}nextGraphemeLength(){let e=Pa.getInstance(),t=this._iterator,n=t.offset,i=e.getGraphemeBreakType(t.nextCodePoint());for(;!t.eol();){let o=t.offset,s=e.getGraphemeBreakType(t.nextCodePoint());if(Op(i,s)){t.setOffset(o);break}i=s}return t.offset-n}prevGraphemeLength(){let e=Pa.getInstance(),t=this._iterator,n=t.offset,i=e.getGraphemeBreakType(t.prevCodePoint());for(;t.offset>0;){let o=t.offset,s=e.getGraphemeBreakType(t.prevCodePoint());if(Op(s,i)){t.setOffset(o);break}i=s}return n-t.offset}eol(){return this._iterator.eol()}};var Bc;function Nv(){return/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u088E\u08A0-\u08C9\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDC7\uFDF0-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE35\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDD23\uDE80-\uDEA9\uDEAD-\uDF45\uDF51-\uDF81\uDF86-\uDFF6]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD4B-\uDFFF]|\uD83B[\uDC00-\uDEBB])/}function Wa(r){return Bc||(Bc=Nv()),Bc.test(r)}var Mv=/^[\t\n\r\x20-\x7E]*$/;function Va(r){return Mv.test(r)}var Vc=/[\u2028\u2029]/;function Ha(r){return Vc.test(r)}function Up(r){return r>=11904&&r<=55215||r>=63744&&r<=64255||r>=65281&&r<=65374}function Hc(r){return r>=127462&&r<=127487||r===8986||r===8987||r===9200||r===9203||r>=9728&&r<=10175||r===11088||r===11093||r>=127744&&r<=128591||r>=128640&&r<=128764||r>=128992&&r<=129008||r>=129280&&r<=129535||r>=129648&&r<=129782}var zp=String.fromCharCode(65279);function Wp(r){return!!(r&&r.length>0&&r.charCodeAt(0)===65279)}function Vp(r){let e=26;return r=r%(2*e),r<e?String.fromCharCode(97+r):String.fromCharCode(65+r-e)}function Op(r,e){return r===0?e!==5&&e!==7:r===2&&e===3?!1:r===4||r===2||r===3||e===4||e===2||e===3?!0:!(r===8&&(e===8||e===9||e===11||e===12)||(r===11||r===9)&&(e===9||e===10)||(r===12||r===10)&&e===10||e===5||e===13||e===7||r===1||r===13&&e===14||r===6&&e===6)}var Pa=class r{static _INSTANCE=null;static getInstance(){return r._INSTANCE||(r._INSTANCE=new r),r._INSTANCE}_data;constructor(){this._data=Ov()}getGraphemeBreakType(e){if(e<32)return e===10?3:e===13?2:4;if(e<127)return 0;let t=this._data,n=t.length/3,i=1;for(;i<=n;)if(e<t[3*i])i=2*i;else if(e>t[3*i+1])i=2*i+1;else return t[3*i+2];return 0}};function Ov(){return JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}var Ei=class r{constructor(e){this.confusableDictionary=e}static ambiguousCharacterData=new ur(()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125,119846,109],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}'));static cache=new Oa({getCacheKey:JSON.stringify},e=>{function t(d){let g=new Map;for(let h=0;h<d.length;h+=2)g.set(d[h],d[h+1]);return g}function n(d,g){let h=new Map(d);for(let[p,b]of g)h.set(p,b);return h}function i(d,g){if(!d)return g;let h=new Map;for(let[p,b]of d)g.has(p)&&h.set(p,b);return h}let o=this.ambiguousCharacterData.value,s=e.filter(d=>!d.startsWith("_")&&d in o);s.length===0&&(s=["_default"]);let a;for(let d of s){let g=t(o[d]);a=i(a,g)}let l=t(o._common),u=n(l,a);return new r(u)});static getInstance(e){return r.cache.get(Array.from(e))}static _locales=new ur(()=>Object.keys(r.ambiguousCharacterData.value).filter(e=>!e.startsWith("_")));static getLocales(){return r._locales.value}isAmbiguous(e){return this.confusableDictionary.has(e)}containsAmbiguousCharacter(e){for(let t=0;t<e.length;t++){let n=e.codePointAt(t);if(typeof n=="number"&&this.isAmbiguous(n))return!0}return!1}getPrimaryConfusable(e){return this.confusableDictionary.get(e)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}},Ri=class r{static getRawData(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}static _data=void 0;static getData(){return this._data||(this._data=new Set(r.getRawData())),this._data}static isInvisibleCharacter(e){return r.getData().has(e)}static containsInvisibleCharacter(e){for(let t=0;t<e.length;t++){let n=e.codePointAt(t);if(typeof n=="number"&&r.isInvisibleCharacter(n))return!0}return!1}static get codePoints(){return r.getData()}};function Kt(r){return typeof r=="string"}function qt(r){return typeof r=="object"&&r!==null&&!Array.isArray(r)&&!(r instanceof RegExp)&&!(r instanceof Date)}function Ai(r){return typeof r>"u"}function Ni(r){return Ai(r)||r===null}var Pv=Object.prototype.hasOwnProperty;function Hp(r){if(!qt(r))return!1;for(let e in r)if(Pv.call(r,e))return!1;return!0}function Bv(r){return typeof r=="function"}function Kp(r,e){let t=Math.min(r.length,e.length);for(let n=0;n<t;n++)Fv(r[n],e[n])}function Fv(r,e){if(Kt(e)){if(typeof r!==e)throw new Error(`argument does not match constraint: typeof ${e}`)}else if(Bv(e)){try{if(r instanceof e)return}catch{}if(!Ni(r)&&r.constructor===e||e.length===1&&e.call(void 0,r)===!0)return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}function cr(r){return r===47||r===92}function Kc(r){return r.replace(/[\\/]/g,be.sep)}function qp(r){return r.indexOf("/")===-1&&(r=Kc(r)),/^[a-zA-Z]:(\/|$)/.test(r)&&(r="/"+r),r}function qc(r,e=be.sep){if(!r)return"";let t=r.length,n=r.charCodeAt(0);if(cr(n)){if(cr(r.charCodeAt(1))&&!cr(r.charCodeAt(2))){let o=3,s=o;for(;o<t&&!cr(r.charCodeAt(o));o++);if(s!==o&&!cr(r.charCodeAt(o+1))){for(o+=1;o<t;o++)if(cr(r.charCodeAt(o)))return r.slice(0,o+1).replace(/[\\/]/g,e)}}return e}else if(zv(n)&&r.charCodeAt(1)===58)return cr(r.charCodeAt(2))?r.slice(0,2)+e:r.slice(0,2);let i=r.indexOf("://");if(i!==-1){for(i+=3;i<t;i++)if(cr(r.charCodeAt(i)))return r.slice(0,i+1)}return""}function qa(r,e,t,n=zr){if(r===e)return!0;if(!r||!e||e.length>r.length)return!1;if(t){if(!Ko(r,e))return!1;if(e.length===r.length)return!0;let o=e.length;return e.charAt(e.length-1)===n&&o--,r.charAt(o)===n}return e.charAt(e.length-1)!==n&&(e+=n),r.indexOf(e)===0}function zv(r){return r>=65&&r<=90||r>=97&&r<=122}var Oe;(j=>(j.inMemory="inmemory",j.vscode="vscode",j.internal="private",j.walkThrough="walkThrough",j.walkThroughSnippet="walkThroughSnippet",j.http="http",j.https="https",j.file="file",j.mailto="mailto",j.untitled="untitled",j.data="data",j.command="command",j.vscodeRemote="vscode-remote",j.vscodeRemoteResource="vscode-remote-resource",j.vscodeManagedRemoteResource="vscode-managed-remote-resource",j.vscodeUserData="vscode-userdata",j.vscodeCustomEditor="vscode-custom-editor",j.vscodeNotebookCell="vscode-notebook-cell",j.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",j.vscodeNotebookCellMetadataDiff="vscode-notebook-cell-metadata-diff",j.vscodeNotebookCellOutput="vscode-notebook-cell-output",j.vscodeNotebookCellOutputDiff="vscode-notebook-cell-output-diff",j.vscodeNotebookMetadata="vscode-notebook-metadata",j.vscodeInteractiveInput="vscode-interactive-input",j.vscodeSettings="vscode-settings",j.vscodeWorkspaceTrust="vscode-workspace-trust",j.vscodeTerminal="vscode-terminal",j.vscodeChatCodeBlock="vscode-chat-code-block",j.vscodeChatCodeCompareBlock="vscode-chat-code-compare-block",j.vscodeChatSesssion="vscode-chat-editor",j.webviewPanel="webview-panel",j.vscodeWebview="vscode-webview",j.extension="extension",j.vscodeFileResource="vscode-file",j.tmp="tmp",j.vsls="vsls",j.vscodeSourceControl="vscode-scm",j.commentsInput="comment",j.codeSetting="code-setting",j.outputChannel="output"))(Oe||={});var Vv="tkn",Gc=class{_hosts=Object.create(null);_ports=Object.create(null);_connectionTokens=Object.create(null);_preferredWebSchema="http";_delegate=null;_serverRootPath="/";setPreferredWebSchema(e){this._preferredWebSchema=e}setDelegate(e){this._delegate=e}setServerRootPath(e,t){this._serverRootPath=Hv(e,t)}getServerRootPath(){return this._serverRootPath}get _remoteResourcesPath(){return be.join(this._serverRootPath,Oe.vscodeRemoteResource)}set(e,t,n){this._hosts[e]=t,this._ports[e]=n}setConnectionToken(e,t){this._connectionTokens[e]=t}getPreferredWebSchema(){return this._preferredWebSchema}rewrite(e){if(this._delegate)try{return this._delegate(e)}catch(a){return Ie(a),e}let t=e.authority,n=this._hosts[t];n&&n.indexOf(":")!==-1&&n.indexOf("[")===-1&&(n=`[${n}]`);let i=this._ports[t],o=this._connectionTokens[t],s=`path=${encodeURIComponent(e.path)}`;return typeof o=="string"&&(s+=`&${Vv}=${encodeURIComponent(o)}`),he.from({scheme:Fr?this._preferredWebSchema:Oe.vscodeRemoteResource,authority:`${n}:${i}`,path:this._remoteResourcesPath,query:s})}},$c=new Gc;function Hv(r,e){return be.join(e??"/",`${r.quality??"oss"}-${r.commit??"dev"}`)}var Kv="vscode-app",jc=class r{static FALLBACK_AUTHORITY=Kv;asBrowserUri(e){let t=this.toUri(e);return this.uriToBrowserUri(t)}uriToBrowserUri(e){return e.scheme===Oe.vscodeRemote?$c.rewrite(e):e.scheme===Oe.file&&(Ti||Jh===`${Oe.vscodeFileResource}://${r.FALLBACK_AUTHORITY}`)?e.with({scheme:Oe.vscodeFileResource,authority:e.authority||r.FALLBACK_AUTHORITY,query:null,fragment:null}):e}asFileUri(e){let t=this.toUri(e);return this.uriToFileUri(t)}uriToFileUri(e){return e.scheme===Oe.vscodeFileResource?e.with({scheme:Oe.file,authority:e.authority!==r.FALLBACK_AUTHORITY?e.authority:null,query:null,fragment:null}):e}toUri(e,t){if(he.isUri(e))return e;if(globalThis._VSCODE_FILE_ROOT){let n=globalThis._VSCODE_FILE_ROOT;if(/^\w[\w\d+.-]*:\/\//.test(n))return he.joinPath(he.parse(n,!0),e);let i=yc(n,e);return he.file(i)}return he.parse(t.toUrl(e))}},Mi=new jc,Yc;(o=>{let r=new Map([["1",{"Cross-Origin-Opener-Policy":"same-origin"}],["2",{"Cross-Origin-Embedder-Policy":"require-corp"}],["3",{"Cross-Origin-Opener-Policy":"same-origin","Cross-Origin-Embedder-Policy":"require-corp"}]]);o.CoopAndCoep=Object.freeze(r.get("3"));let t="vscode-coi";function n(s){let a;typeof s=="string"?a=new URL(s).searchParams:s instanceof URL?a=s.searchParams:he.isUri(s)&&(a=new URL(s.toString(!0)).searchParams);let l=a?.get(t);if(l)return r.get(l)}o.getHeadersFromQuery=n;function i(s,a,l){if(!globalThis.crossOriginIsolated)return;let u=a&&l?"3":l?"2":"1";s instanceof URLSearchParams?s.set(t,u):s[t]=u}o.addSearchParam=i})(Yc||={});function Fn(r){return No(r,!0)}var Go=class{constructor(e){this._ignorePathCasing=e}compare(e,t,n=!1){return e===t?0:Uc(this.getComparisonKey(e,n),this.getComparisonKey(t,n))}isEqual(e,t,n=!1){return e===t?!0:!e||!t?!1:this.getComparisonKey(e,n)===this.getComparisonKey(t,n)}getComparisonKey(e,t=!1){return e.with({path:this._ignorePathCasing(e)?e.path.toLowerCase():void 0,fragment:t?null:void 0}).toString()}ignorePathCasing(e){return this._ignorePathCasing(e)}isEqualOrParent(e,t,n=!1){if(e.scheme===t.scheme){if(e.scheme===Oe.file)return qa(Fn(e),Fn(t),this._ignorePathCasing(e))&&e.query===t.query&&(n||e.fragment===t.fragment);if(Gp(e.authority,t.authority))return qa(e.path,t.path,this._ignorePathCasing(e),"/")&&e.query===t.query&&(n||e.fragment===t.fragment)}return!1}joinPath(e,...t){return he.joinPath(e,...t)}basenameOrAuthority(e){return Qc(e)||e.authority}basename(e){return be.basename(e.path)}extname(e){return be.extname(e.path)}dirname(e){if(e.path.length===0)return e;let t;return e.scheme===Oe.file?t=he.file(lp(Fn(e))).path:(t=be.dirname(e.path),e.authority&&t.length&&t.charCodeAt(0)!==47&&(console.error(`dirname("${e.toString})) resulted in a relative path`),t="/")),e.with({path:t})}normalizePath(e){if(!e.path.length)return e;let t;return e.scheme===Oe.file?t=he.file(Ia(Fn(e))).path:t=be.normalize(e.path),e.with({path:t})}relativePath(e,t){if(e.scheme!==t.scheme||!Gp(e.authority,t.authority))return;if(e.scheme===Oe.file){let o=ap(Fn(e),Fn(t));return vt?Kc(o):o}let n=e.path||"/",i=t.path||"/";if(this._ignorePathCasing(e)){let o=0;for(let s=Math.min(n.length,i.length);o<s&&!(n.charCodeAt(o)!==i.charCodeAt(o)&&n.charAt(o).toLowerCase()!==i.charAt(o).toLowerCase());o++);n=i.substr(0,o)+n.substr(o)}return be.relative(n,i)}resolvePath(e,t){if(e.scheme===Oe.file){let n=he.file(sp(Fn(e),t));return e.with({authority:n.authority,path:n.path})}return t=qp(t),e.with({path:be.resolve(e.path,t)})}isAbsolutePath(e){return!!e.path&&e.path[0]==="/"}isEqualAuthority(e,t){return e===t||e!==void 0&&t!==void 0&&un(e,t)}hasTrailingPathSeparator(e,t=zr){if(e.scheme===Oe.file){let n=Fn(e);return n.length>qc(n).length&&n[n.length-1]===t}else{let n=e.path;return n.length>1&&n.charCodeAt(n.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(e.fsPath)}}removeTrailingPathSeparator(e,t=zr){return jp(e,t)?e.with({path:e.path.substr(0,e.path.length-1)}):e}addTrailingPathSeparator(e,t=zr){let n=!1;if(e.scheme===Oe.file){let i=Fn(e);n=i!==void 0&&i.length===qc(i).length&&i[i.length-1]===t}else{t="/";let i=e.path;n=i.length===1&&i.charCodeAt(i.length-1)===47}return!n&&!jp(e,t)?e.with({path:e.path+"/"}):e}},xe=new Go(()=>!1),qv=new Go(r=>r.scheme===Oe.file?!Ft:!0),$S=new Go(r=>!0),Gv=xe.isEqual.bind(xe),YS=xe.isEqualOrParent.bind(xe),QS=xe.getComparisonKey.bind(xe),jv=xe.basenameOrAuthority.bind(xe),Qc=xe.basename.bind(xe),$v=xe.extname.bind(xe),XS=xe.dirname.bind(xe),$p=xe.joinPath.bind(xe),JS=xe.normalizePath.bind(xe),ZS=xe.relativePath.bind(xe),eL=xe.resolvePath.bind(xe),tL=xe.isAbsolutePath.bind(xe),Gp=xe.isEqualAuthority.bind(xe),jp=xe.hasTrailingPathSeparator.bind(xe),nL=xe.removeTrailingPathSeparator.bind(xe),rL=xe.addTrailingPathSeparator.bind(xe);var Yv;(o=>{o.META_DATA_LABEL="label",o.META_DATA_DESCRIPTION="description",o.META_DATA_SIZE="size",o.META_DATA_MIME="mime";function i(s){let a=new Map;s.path.substring(s.path.indexOf(";")+1,s.path.lastIndexOf(";")).split(";").forEach(d=>{let[g,h]=d.split(":");g&&h&&a.set(g,h)});let u=s.path.substring(0,s.path.indexOf(";"));return u&&a.set(o.META_DATA_MIME,u),a}o.parseMetaData=i})(Yv||={});function Qv(r){let e=new lr,t=r(e.token),n=new Promise((i,o)=>{let s=e.token.onCancellationRequested(()=>{s.dispose(),o(new Qn)});Promise.resolve(t).then(a=>{s.dispose(),e.dispose(),i(a)},a=>{s.dispose(),e.dispose(),o(a)})});return new class{cancel(){e.cancel(),e.dispose()}then(i,o){return n.then(i,o)}catch(i){return this.then(void 0,i)}finally(i){return n.finally(i)}}}function Xc(r,e){return e?new Promise((t,n)=>{let i=setTimeout(()=>{o.dispose(),t()},r),o=e.onCancellationRequested(()=>{clearTimeout(i),o.dispose(),n(new Qn)})}):Qv(t=>Xc(r,t))}var Oi=class{disposable=void 0;isDisposed=!1;cancel(){this.disposable?.dispose(),this.disposable=void 0}cancelAndSet(e,t,n=globalThis){if(this.isDisposed)throw new le("Calling 'cancelAndSet' on a disposed IntervalTimer");this.cancel();let i=n.setInterval(()=>{e()},t);this.disposable=Se(()=>{n.clearInterval(i),this.disposable=void 0})}dispose(){this.cancel(),this.isDisposed=!0}},dr=class{runner;timeoutToken;timeout;timeoutHandler;constructor(e,t){this.timeoutToken=-1,this.runner=e,this.timeout=t,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(e=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,e)}get delay(){return this.timeout}set delay(e){this.timeout=e}isScheduled(){return this.timeoutToken!==-1}flush(){this.isScheduled()&&(this.cancel(),this.doRun())}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){this.runner?.()}};var Jc,Ga;(function(){typeof globalThis.requestIdleCallback!="function"||typeof globalThis.cancelIdleCallback!="function"?Ga=(r,e)=>{va(()=>{if(t)return;let n=Date.now()+15;e(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,n-Date.now())}}))});let t=!1;return{dispose(){t||(t=!0)}}}:Ga=(r,e,t)=>{let n=r.requestIdleCallback(e,typeof t=="number"?{timeout:t}:void 0),i=!1;return{dispose(){i||(i=!0,r.cancelIdleCallback(n))}}},Jc=r=>Ga(globalThis,r)})();var Xv;(t=>{async function r(n){let i,o=await Promise.all(n.map(s=>s.then(a=>a,a=>{i||(i=a)})));if(typeof i<"u")throw i;return o}t.settled=r;function e(n){return new Promise(async(i,o)=>{try{await n(i,o)}catch(s){o(s)}})}t.withAsyncBody=e})(Xv||={});var Yp=class r{static fromArray(e){return new r(t=>{t.emitMany(e)})}static fromPromise(e){return new r(async t=>{t.emitMany(await e)})}static fromPromises(e){return new r(async t=>{await Promise.all(e.map(async n=>t.emitOne(await n)))})}static merge(e){return new r(async t=>{await Promise.all(e.map(async n=>{for await(let i of n)t.emitOne(i)}))})}static EMPTY=r.fromArray([]);_state;_results;_error;_onReturn;_onStateChanged;constructor(e,t){this._state=0,this._results=[],this._error=null,this._onReturn=t,this._onStateChanged=new U,queueMicrotask(async()=>{let n={emitOne:i=>this.emitOne(i),emitMany:i=>this.emitMany(i),reject:i=>this.reject(i)};try{await Promise.resolve(e(n)),this.resolve()}catch(i){this.reject(i)}finally{n.emitOne=void 0,n.emitMany=void 0,n.reject=void 0}})}[Symbol.asyncIterator](){let e=0;return{next:async()=>{do{if(this._state===2)throw this._error;if(e<this._results.length)return{done:!1,value:this._results[e++]};if(this._state===1)return{done:!0,value:void 0};await an.toPromise(this._onStateChanged.event)}while(!0)},return:async()=>(this._onReturn?.(),{done:!0,value:void 0})}}static map(e,t){return new r(async n=>{for await(let i of e)n.emitOne(t(i))})}map(e){return r.map(this,e)}static filter(e,t){return new r(async n=>{for await(let i of e)t(i)&&n.emitOne(i)})}filter(e){return r.filter(this,e)}static coalesce(e){return r.filter(e,t=>!!t)}coalesce(){return r.coalesce(this)}static async toPromise(e){let t=[];for await(let n of e)t.push(n);return t}toPromise(){return r.toPromise(this)}emitOne(e){this._state===0&&(this._results.push(e),this._onStateChanged.fire())}emitMany(e){this._state===0&&(this._results=this._results.concat(e),this._onStateChanged.fire())}resolve(){this._state===0&&(this._state=1,this._onStateChanged.fire())}reject(e){this._state===0&&(this._state=2,this._error=e,this._onStateChanged.fire())}};var Qp="default",Jv="$initialize",Xp=!1;function jo(r){Fr&&(Xp||(Xp=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")),console.warn(r.message))}var Zc=class{constructor(e,t,n,i,o){this.vsWorker=e;this.req=t;this.channel=n;this.method=i;this.args=o}type=0},ja=class{constructor(e,t,n,i){this.vsWorker=e;this.seq=t;this.res=n;this.err=i}type=1},ed=class{constructor(e,t,n,i,o){this.vsWorker=e;this.req=t;this.channel=n;this.eventName=i;this.arg=o}type=2},td=class{constructor(e,t,n){this.vsWorker=e;this.req=t;this.event=n}type=3},nd=class{constructor(e,t){this.vsWorker=e;this.req=t}type=4},rd=class{_workerId;_lastSentReq;_pendingReplies;_pendingEmitters;_pendingEvents;_handler;constructor(e){this._workerId=-1,this._handler=e,this._lastSentReq=0,this._pendingReplies=Object.create(null),this._pendingEmitters=new Map,this._pendingEvents=new Map}setWorkerId(e){this._workerId=e}sendMessage(e,t,n){let i=String(++this._lastSentReq);return new Promise((o,s)=>{this._pendingReplies[i]={resolve:o,reject:s},this._send(new Zc(this._workerId,i,e,t,n))})}listen(e,t,n){let i=null,o=new U({onWillAddFirstListener:()=>{i=String(++this._lastSentReq),this._pendingEmitters.set(i,o),this._send(new ed(this._workerId,i,e,t,n))},onDidRemoveLastListener:()=>{this._pendingEmitters.delete(i),this._send(new nd(this._workerId,i)),i=null}});return o.event}handleMessage(e){!e||!e.vsWorker||this._workerId!==-1&&e.vsWorker!==this._workerId||this._handleMessage(e)}createProxyToRemoteChannel(e,t){let n={get:(i,o)=>(typeof o=="string"&&!i[o]&&(Zp(o)?i[o]=s=>this.listen(e,o,s):Jp(o)?i[o]=this.listen(e,o,void 0):o.charCodeAt(0)===36&&(i[o]=async(...s)=>(await t?.(),this.sendMessage(e,o,s)))),i[o])};return new Proxy(Object.create(null),n)}_handleMessage(e){switch(e.type){case 1:return this._handleReplyMessage(e);case 0:return this._handleRequestMessage(e);case 2:return this._handleSubscribeEventMessage(e);case 3:return this._handleEventMessage(e);case 4:return this._handleUnsubscribeEventMessage(e)}}_handleReplyMessage(e){if(!this._pendingReplies[e.seq]){console.warn("Got reply to unknown seq");return}let t=this._pendingReplies[e.seq];if(delete this._pendingReplies[e.seq],e.err){let n=e.err;e.err.$isError&&(n=new Error,n.name=e.err.name,n.message=e.err.message,n.stack=e.err.stack),t.reject(n);return}t.resolve(e.res)}_handleRequestMessage(e){let t=e.req;this._handler.handleMessage(e.channel,e.method,e.args).then(i=>{this._send(new ja(this._workerId,t,i,void 0))},i=>{i.detail instanceof Error&&(i.detail=cc(i.detail)),this._send(new ja(this._workerId,t,void 0,cc(i)))})}_handleSubscribeEventMessage(e){let t=e.req,n=this._handler.handleEvent(e.channel,e.eventName,e.arg)(i=>{this._send(new td(this._workerId,t,i))});this._pendingEvents.set(t,n)}_handleEventMessage(e){if(!this._pendingEmitters.has(e.req)){console.warn("Got event for unknown req");return}this._pendingEmitters.get(e.req).fire(e.event)}_handleUnsubscribeEventMessage(e){if(!this._pendingEvents.has(e.req)){console.warn("Got unsubscribe for unknown req");return}this._pendingEvents.get(e.req).dispose(),this._pendingEvents.delete(e.req)}_send(e){let t=[];if(e.type===0)for(let n=0;n<e.args.length;n++)e.args[n]instanceof ArrayBuffer&&t.push(e.args[n]);else e.type===1&&e.res instanceof ArrayBuffer&&t.push(e.res);this._handler.sendMessage(e,t)}},$a=class extends oe{_worker;_onModuleLoaded;_protocol;proxy;_localChannels=new Map;_remoteChannels=new Map;constructor(e,t){super(),this._worker=this._register(e.create({amdModuleId:"vs/base/common/worker/simpleWorker",esmModuleLocation:t.esmModuleLocation,label:t.label},o=>{this._protocol.handleMessage(o)},o=>{Ie(o)})),this._protocol=new rd({sendMessage:(o,s)=>{this._worker.postMessage(o,s)},handleMessage:(o,s,a)=>this._handleMessage(o,s,a),handleEvent:(o,s,a)=>this._handleEvent(o,s,a)}),this._protocol.setWorkerId(this._worker.getId());let n=null,i=globalThis.require;typeof i<"u"&&typeof i.getConfig=="function"?n=i.getConfig():typeof globalThis.requirejs<"u"&&(n=globalThis.requirejs.s.contexts._.config),this._onModuleLoaded=this._protocol.sendMessage(Qp,Jv,[this._worker.getId(),JSON.parse(JSON.stringify(n)),t.amdModuleId]),this.proxy=this._protocol.createProxyToRemoteChannel(Qp,async()=>{await this._onModuleLoaded}),this._onModuleLoaded.catch(o=>{this._onError("Worker failed to load "+t.amdModuleId,o)})}_handleMessage(e,t,n){let i=this._localChannels.get(e);if(!i)return Promise.reject(new Error(`Missing channel ${e} on main thread`));if(typeof i[t]!="function")return Promise.reject(new Error(`Missing method ${t} on main thread channel ${e}`));try{return Promise.resolve(i[t].apply(i,n))}catch(o){return Promise.reject(o)}}_handleEvent(e,t,n){let i=this._localChannels.get(e);if(!i)throw new Error(`Missing channel ${e} on main thread`);if(Zp(t)){let o=i[t].call(i,n);if(typeof o!="function")throw new Error(`Missing dynamic event ${t} on main thread channel ${e}.`);return o}if(Jp(t)){let o=i[t];if(typeof o!="function")throw new Error(`Missing event ${t} on main thread channel ${e}.`);return o}throw new Error(`Malformed event name ${t}`)}setChannel(e,t){this._localChannels.set(e,t)}getChannel(e){if(!this._remoteChannels.has(e)){let t=this._protocol.createProxyToRemoteChannel(e,async()=>{await this._onModuleLoaded});this._remoteChannels.set(e,t)}return this._remoteChannels.get(e)}_onError(e,t){console.error(e),console.info(t)}};function Jp(r){return r[0]==="o"&&r[1]==="n"&&Wc(r.charCodeAt(2))}function Zp(r){return/^onDynamic/.test(r)&&Wc(r.charCodeAt(9))}function em(r,e){let t=globalThis.MonacoEnvironment;if(t?.createTrustedTypesPolicy)try{return t.createTrustedTypesPolicy(r,e)}catch(n){Ie(n);return}try{return globalThis.trustedTypes?.createPolicy(r,e)}catch(n){Ie(n);return}}var Bi=!0,Pi;typeof self=="object"&&self.constructor&&self.constructor.name==="DedicatedWorkerGlobalScope"&&globalThis.workerttPolicy!==void 0?Pi=globalThis.workerttPolicy:Pi=em("defaultWorkerFactory",{createScriptURL:r=>r});function Zv(r,e){let t=globalThis.MonacoEnvironment;if(t){if(typeof t.getWorker=="function")return t.getWorker("workerMain.js",e);if(typeof t.getWorkerUrl=="function"){let n=t.getWorkerUrl("workerMain.js",e);return new Worker(Pi?Pi.createScriptURL(n):n,{name:e,type:Bi?"module":void 0})}}if(r){let n=ey(e,r.toString(!0)),i=new Worker(Pi?Pi.createScriptURL(n):n,{name:e,type:Bi?"module":void 0});return Bi?ty(i):i}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}function ey(r,e,t){if(!(/^((http:)|(https:)|(file:))/.test(e)&&e.substring(0,globalThis.origin.length)!==globalThis.origin)){let i=e.lastIndexOf("?"),o=e.lastIndexOf("#",i),s=i>0?new URLSearchParams(e.substring(i+1,~o?o:void 0)):new URLSearchParams;Yc.addSearchParam(s,!0,!0),s.toString()?e=`${e}?${s.toString()}#${r}`:e=`${e}#${r}`}let n=new Blob([gc([`/*${r}*/`,t?`globalThis.MonacoEnvironment = { baseUrl: '${t}' };`:void 0,`globalThis._VSCODE_NLS_MESSAGES = ${JSON.stringify(Ro())};`,`globalThis._VSCODE_NLS_LANGUAGE = ${JSON.stringify(Pr())};`,`globalThis._VSCODE_FILE_ROOT = '${globalThis._VSCODE_FILE_ROOT}';`,"const ttPolicy = globalThis.trustedTypes?.createPolicy('defaultWorkerFactory', { createScriptURL: value => value });","globalThis.workerttPolicy = ttPolicy;",Bi?`await import(ttPolicy?.createScriptURL('${e}') ?? '${e}');`:`importScripts(ttPolicy?.createScriptURL('${e}') ?? '${e}');`,Bi?"globalThis.postMessage({ type: 'vscode-worker-ready' });":void 0,`/*${r}*/`]).join("")],{type:"application/javascript"});return URL.createObjectURL(n)}function ty(r){return new Promise((e,t)=>{r.onmessage=function(n){n.data.type==="vscode-worker-ready"&&(r.onmessage=null,e(r))},r.onerror=t})}function ny(r){return typeof r.then=="function"}var id=class extends oe{id;label;worker;constructor(e,t,n,i,o,s){super(),this.id=n,this.label=i;let a=Zv(e,i);ny(a)?this.worker=a:this.worker=Promise.resolve(a),this.postMessage(t,[]),this.worker.then(l=>{l.onmessage=function(u){o(u.data)},l.onmessageerror=s,typeof l.addEventListener=="function"&&l.addEventListener("error",s)}),this._register(Se(()=>{this.worker?.then(l=>{l.onmessage=null,l.onmessageerror=null,l.removeEventListener("error",s),l.terminate()}),this.worker=null}))}getId(){return this.id}postMessage(e,t){this.worker?.then(n=>{try{n.postMessage(e,t)}catch(i){Ie(i),Ie(new Error(`FAILED to post message to '${this.label}'-worker`,{cause:i}))}})}},od=class{constructor(e,t){this.amdModuleId=e;this.label=t;this.esmModuleLocation=Bi?Mi.asBrowserUri(`${e}.esm.js`):void 0}esmModuleLocation},sd=class r{static LAST_WORKER_ID=0;_webWorkerFailedBeforeError;constructor(){this._webWorkerFailedBeforeError=!1}create(e,t,n){let i=++r.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new id(e.esmModuleLocation,e.amdModuleId,i,e.label||"anonymous"+i,t,o=>{jo(o),this._webWorkerFailedBeforeError=o,n(o)})}};function tm(r,e){let t=typeof r=="string"?new od(r,e):r;return new $a(new sd,t)}var $=class r{lineNumber;column;constructor(e,t){this.lineNumber=e,this.column=t}with(e=this.lineNumber,t=this.column){return e===this.lineNumber&&t===this.column?this:new r(e,t)}delta(e=0,t=0){return this.with(this.lineNumber+e,this.column+t)}equals(e){return r.equals(this,e)}static equals(e,t){return!e&&!t?!0:!!e&&!!t&&e.lineNumber===t.lineNumber&&e.column===t.column}isBefore(e){return r.isBefore(this,e)}static isBefore(e,t){return e.lineNumber<t.lineNumber?!0:t.lineNumber<e.lineNumber?!1:e.column<t.column}isBeforeOrEqual(e){return r.isBeforeOrEqual(this,e)}static isBeforeOrEqual(e,t){return e.lineNumber<t.lineNumber?!0:t.lineNumber<e.lineNumber?!1:e.column<=t.column}static compare(e,t){let n=e.lineNumber|0,i=t.lineNumber|0;if(n===i){let o=e.column|0,s=t.column|0;return o-s}return n-i}clone(){return new r(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(e){return new r(e.lineNumber,e.column)}static isIPosition(e){return e&&typeof e.lineNumber=="number"&&typeof e.column=="number"}toJSON(){return{lineNumber:this.lineNumber,column:this.column}}};var R=class r{startLineNumber;startColumn;endLineNumber;endColumn;constructor(e,t,n,i){e>n||e===n&&t>i?(this.startLineNumber=n,this.startColumn=i,this.endLineNumber=e,this.endColumn=t):(this.startLineNumber=e,this.startColumn=t,this.endLineNumber=n,this.endColumn=i)}isEmpty(){return r.isEmpty(this)}static isEmpty(e){return e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn}containsPosition(e){return r.containsPosition(this,e)}static containsPosition(e,t){return!(t.lineNumber<e.startLineNumber||t.lineNumber>e.endLineNumber||t.lineNumber===e.startLineNumber&&t.column<e.startColumn||t.lineNumber===e.endLineNumber&&t.column>e.endColumn)}static strictContainsPosition(e,t){return!(t.lineNumber<e.startLineNumber||t.lineNumber>e.endLineNumber||t.lineNumber===e.startLineNumber&&t.column<=e.startColumn||t.lineNumber===e.endLineNumber&&t.column>=e.endColumn)}containsRange(e){return r.containsRange(this,e)}static containsRange(e,t){return!(t.startLineNumber<e.startLineNumber||t.endLineNumber<e.startLineNumber||t.startLineNumber>e.endLineNumber||t.endLineNumber>e.endLineNumber||t.startLineNumber===e.startLineNumber&&t.startColumn<e.startColumn||t.endLineNumber===e.endLineNumber&&t.endColumn>e.endColumn)}strictContainsRange(e){return r.strictContainsRange(this,e)}static strictContainsRange(e,t){return!(t.startLineNumber<e.startLineNumber||t.endLineNumber<e.startLineNumber||t.startLineNumber>e.endLineNumber||t.endLineNumber>e.endLineNumber||t.startLineNumber===e.startLineNumber&&t.startColumn<=e.startColumn||t.endLineNumber===e.endLineNumber&&t.endColumn>=e.endColumn)}plusRange(e){return r.plusRange(this,e)}static plusRange(e,t){let n,i,o,s;return t.startLineNumber<e.startLineNumber?(n=t.startLineNumber,i=t.startColumn):t.startLineNumber===e.startLineNumber?(n=t.startLineNumber,i=Math.min(t.startColumn,e.startColumn)):(n=e.startLineNumber,i=e.startColumn),t.endLineNumber>e.endLineNumber?(o=t.endLineNumber,s=t.endColumn):t.endLineNumber===e.endLineNumber?(o=t.endLineNumber,s=Math.max(t.endColumn,e.endColumn)):(o=e.endLineNumber,s=e.endColumn),new r(n,i,o,s)}intersectRanges(e){return r.intersectRanges(this,e)}static intersectRanges(e,t){let n=e.startLineNumber,i=e.startColumn,o=e.endLineNumber,s=e.endColumn,a=t.startLineNumber,l=t.startColumn,u=t.endLineNumber,d=t.endColumn;return n<a?(n=a,i=l):n===a&&(i=Math.max(i,l)),o>u?(o=u,s=d):o===u&&(s=Math.min(s,d)),n>o||n===o&&i>s?null:new r(n,i,o,s)}equalsRange(e){return r.equalsRange(this,e)}static equalsRange(e,t){return!e&&!t?!0:!!e&&!!t&&e.startLineNumber===t.startLineNumber&&e.startColumn===t.startColumn&&e.endLineNumber===t.endLineNumber&&e.endColumn===t.endColumn}getEndPosition(){return r.getEndPosition(this)}static getEndPosition(e){return new $(e.endLineNumber,e.endColumn)}getStartPosition(){return r.getStartPosition(this)}static getStartPosition(e){return new $(e.startLineNumber,e.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(e,t){return new r(this.startLineNumber,this.startColumn,e,t)}setStartPosition(e,t){return new r(e,t,this.endLineNumber,this.endColumn)}collapseToStart(){return r.collapseToStart(this)}static collapseToStart(e){return new r(e.startLineNumber,e.startColumn,e.startLineNumber,e.startColumn)}collapseToEnd(){return r.collapseToEnd(this)}static collapseToEnd(e){return new r(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn)}delta(e){return new r(this.startLineNumber+e,this.startColumn,this.endLineNumber+e,this.endColumn)}static fromPositions(e,t=e){return new r(e.lineNumber,e.column,t.lineNumber,t.column)}static lift(e){return e?new r(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn):null}static isIRange(e){return e&&typeof e.startLineNumber=="number"&&typeof e.startColumn=="number"&&typeof e.endLineNumber=="number"&&typeof e.endColumn=="number"}static areIntersectingOrTouching(e,t){return!(e.endLineNumber<t.startLineNumber||e.endLineNumber===t.startLineNumber&&e.endColumn<t.startColumn||t.endLineNumber<e.startLineNumber||t.endLineNumber===e.startLineNumber&&t.endColumn<e.startColumn)}static areIntersecting(e,t){return!(e.endLineNumber<t.startLineNumber||e.endLineNumber===t.startLineNumber&&e.endColumn<=t.startColumn||t.endLineNumber<e.startLineNumber||t.endLineNumber===e.startLineNumber&&t.endColumn<=e.startColumn)}static compareRangesUsingStarts(e,t){if(e&&t){let o=e.startLineNumber|0,s=t.startLineNumber|0;if(o===s){let a=e.startColumn|0,l=t.startColumn|0;if(a===l){let u=e.endLineNumber|0,d=t.endLineNumber|0;if(u===d){let g=e.endColumn|0,h=t.endColumn|0;return g-h}return u-d}return a-l}return o-s}return(e?1:0)-(t?1:0)}static compareRangesUsingEnds(e,t){return e.endLineNumber===t.endLineNumber?e.endColumn===t.endColumn?e.startLineNumber===t.startLineNumber?e.startColumn-t.startColumn:e.startLineNumber-t.startLineNumber:e.endColumn-t.endColumn:e.endLineNumber-t.endLineNumber}static spansMultipleLines(e){return e.endLineNumber>e.startLineNumber}toJSON(){return this}};var tw=new Uint32Array(10);var nw=new Uint8Array([114,82,115,101,69,102,97,113,81,116,84,100,119,87,99,122,120,118,103]),rw=new Uint16Array([107,111,105,79,106,112,117,80,104,27496,28520,27752,121,110,27246,28782,27758,98,109,27757,108]),iw=new Uint16Array([114,82,29810,115,30579,26483,101,102,29286,24934,29030,29798,30822,30310,26470,97,113,29809,116,84,100,119,99,122,120,118,103]),ow=new Uint16Array([114,82,29810,115,30579,26483,101,69,102,29286,24934,29030,29798,30822,30310,26470,97,113,81,29809,116,84,100,119,87,99,122,120,118,103,107,111,105,79,106,112,117,80,104,27496,28520,27752,121,110,27246,28782,27758,98,109,27757,108]);function nm(...r){return function(e,t){for(let n=0,i=r.length;n<i;n++){let o=r[n](e,t);if(o)return o}return null}}var gw=im.bind(void 0,!1),rm=im.bind(void 0,!0);function im(r,e,t){if(!t||t.length<e.length)return null;let n;return r?n=Ko(t,e):n=t.indexOf(e)===0,n?e.length>0?[{start:0,end:e.length}]:[]:null}function ry(r,e){let t=e.toLowerCase().indexOf(r.toLowerCase());return t===-1?null:[{start:t,end:t+r.length}]}function iy(r,e){return ad(r.toLowerCase(),e.toLowerCase(),0,0)}function ad(r,e,t,n){if(t===r.length)return[];if(n===e.length)return null;if(r[t]===e[n]){let i=null;return(i=ad(r,e,t+1,n+1))?sm({start:n,end:n+1},i):null}return ad(r,e,t,n+1)}function ud(r){return 97<=r&&r<=122}function Qa(r){return 65<=r&&r<=90}function cd(r){return 48<=r&&r<=57}function oy(r){return r===32||r===9||r===10||r===13}var sy=new Set;"()[]{}<>`'\"-/;:,.?!".split("").forEach(r=>sy.add(r.charCodeAt(0)));function om(r){return ud(r)||Qa(r)||cd(r)}function sm(r,e){return e.length===0?e=[r]:r.end===e[0].start?e[0].start=r.start:e.unshift(r),e}function am(r,e){for(let t=e;t<r.length;t++){let n=r.charCodeAt(t);if(Qa(n)||cd(n)||t>0&&!om(r.charCodeAt(t-1)))return t}return r.length}function ld(r,e,t,n){if(t===r.length)return[];if(n===e.length)return null;if(r[t]!==e[n].toLowerCase())return null;{let i=null,o=n+1;for(i=ld(r,e,t+1,n+1);!i&&(o=am(e,o))<e.length;)i=ld(r,e,t+1,o),o++;return i===null?null:sm({start:n,end:n+1},i)}}function ay(r){let e=0,t=0,n=0,i=0,o=0;for(let d=0;d<r.length;d++)o=r.charCodeAt(d),Qa(o)&&e++,ud(o)&&t++,om(o)&&n++,cd(o)&&i++;let s=e/r.length,a=t/r.length,l=n/r.length,u=i/r.length;return{upperPercent:s,lowerPercent:a,alphaPercent:l,numericPercent:u}}function ly(r){let{upperPercent:e,lowerPercent:t}=r;return t===0&&e>.6}function uy(r){let{upperPercent:e,lowerPercent:t,alphaPercent:n,numericPercent:i}=r;return t>.2&&e<.8&&n>.6&&i<.2}function cy(r){let e=0,t=0,n=0,i=0;for(let o=0;o<r.length;o++)n=r.charCodeAt(o),Qa(n)&&e++,ud(n)&&t++,oy(n)&&i++;return(e===0||t===0)&&i===0?r.length<=30:e<=5}function lm(r,e){if(!e||(e=e.trim(),e.length===0)||!cy(r))return null;e.length>60&&(e=e.substring(0,60));let t=ay(e);if(!uy(t)){if(!ly(t))return null;e=e.toLowerCase()}let n=null,i=0;for(r=r.toLowerCase();i<e.length&&(n=ld(r,e,0,i))===null;)i=am(e,i+1);return n}var fw=nm(rm,lm,ry),hw=nm(rm,lm,iy),pw=new sr(1e4);var Ya=128;function dd(){let r=[],e=[];for(let t=0;t<=Ya;t++)e[t]=0;for(let t=0;t<=Ya;t++)r.push(e.slice(0));return r}function um(r){let e=[];for(let t=0;t<=r;t++)e[t]=0;return e}var mw=um(2*Ya),bw=um(2*Ya),vw=dd(),yw=dd(),xw=dd();var dy;(t=>{t.Default=[-100,0];function e(n){return!n||n.length===2&&n[0]===-100&&n[1]===0}t.isDefault=e})(dy||={});var gd=Object.create(null);function f(r,e){if(Kt(e)){let t=gd[e];if(t===void 0)throw new Error(`${r} references an unknown codicon: ${e}`);e=t}return gd[r]=e,{id:r}}function cm(){return gd}var dm={add:f("add",6e4),plus:f("plus",6e4),gistNew:f("gist-new",6e4),repoCreate:f("repo-create",6e4),lightbulb:f("lightbulb",60001),lightBulb:f("light-bulb",60001),repo:f("repo",60002),repoDelete:f("repo-delete",60002),gistFork:f("gist-fork",60003),repoForked:f("repo-forked",60003),gitPullRequest:f("git-pull-request",60004),gitPullRequestAbandoned:f("git-pull-request-abandoned",60004),recordKeys:f("record-keys",60005),keyboard:f("keyboard",60005),tag:f("tag",60006),gitPullRequestLabel:f("git-pull-request-label",60006),tagAdd:f("tag-add",60006),tagRemove:f("tag-remove",60006),person:f("person",60007),personFollow:f("person-follow",60007),personOutline:f("person-outline",60007),personFilled:f("person-filled",60007),gitBranch:f("git-branch",60008),gitBranchCreate:f("git-branch-create",60008),gitBranchDelete:f("git-branch-delete",60008),sourceControl:f("source-control",60008),mirror:f("mirror",60009),mirrorPublic:f("mirror-public",60009),star:f("star",60010),starAdd:f("star-add",60010),starDelete:f("star-delete",60010),starEmpty:f("star-empty",60010),comment:f("comment",60011),commentAdd:f("comment-add",60011),alert:f("alert",60012),warning:f("warning",60012),search:f("search",60013),searchSave:f("search-save",60013),logOut:f("log-out",60014),signOut:f("sign-out",60014),logIn:f("log-in",60015),signIn:f("sign-in",60015),eye:f("eye",60016),eyeUnwatch:f("eye-unwatch",60016),eyeWatch:f("eye-watch",60016),circleFilled:f("circle-filled",60017),primitiveDot:f("primitive-dot",60017),closeDirty:f("close-dirty",60017),debugBreakpoint:f("debug-breakpoint",60017),debugBreakpointDisabled:f("debug-breakpoint-disabled",60017),debugHint:f("debug-hint",60017),terminalDecorationSuccess:f("terminal-decoration-success",60017),primitiveSquare:f("primitive-square",60018),edit:f("edit",60019),pencil:f("pencil",60019),info:f("info",60020),issueOpened:f("issue-opened",60020),gistPrivate:f("gist-private",60021),gitForkPrivate:f("git-fork-private",60021),lock:f("lock",60021),mirrorPrivate:f("mirror-private",60021),close:f("close",60022),removeClose:f("remove-close",60022),x:f("x",60022),repoSync:f("repo-sync",60023),sync:f("sync",60023),clone:f("clone",60024),desktopDownload:f("desktop-download",60024),beaker:f("beaker",60025),microscope:f("microscope",60025),vm:f("vm",60026),deviceDesktop:f("device-desktop",60026),file:f("file",60027),fileText:f("file-text",60027),more:f("more",60028),ellipsis:f("ellipsis",60028),kebabHorizontal:f("kebab-horizontal",60028),mailReply:f("mail-reply",60029),reply:f("reply",60029),organization:f("organization",60030),organizationFilled:f("organization-filled",60030),organizationOutline:f("organization-outline",60030),newFile:f("new-file",60031),fileAdd:f("file-add",60031),newFolder:f("new-folder",60032),fileDirectoryCreate:f("file-directory-create",60032),trash:f("trash",60033),trashcan:f("trashcan",60033),history:f("history",60034),clock:f("clock",60034),folder:f("folder",60035),fileDirectory:f("file-directory",60035),symbolFolder:f("symbol-folder",60035),logoGithub:f("logo-github",60036),markGithub:f("mark-github",60036),github:f("github",60036),terminal:f("terminal",60037),console:f("console",60037),repl:f("repl",60037),zap:f("zap",60038),symbolEvent:f("symbol-event",60038),error:f("error",60039),stop:f("stop",60039),variable:f("variable",60040),symbolVariable:f("symbol-variable",60040),array:f("array",60042),symbolArray:f("symbol-array",60042),symbolModule:f("symbol-module",60043),symbolPackage:f("symbol-package",60043),symbolNamespace:f("symbol-namespace",60043),symbolObject:f("symbol-object",60043),symbolMethod:f("symbol-method",60044),symbolFunction:f("symbol-function",60044),symbolConstructor:f("symbol-constructor",60044),symbolBoolean:f("symbol-boolean",60047),symbolNull:f("symbol-null",60047),symbolNumeric:f("symbol-numeric",60048),symbolNumber:f("symbol-number",60048),symbolStructure:f("symbol-structure",60049),symbolStruct:f("symbol-struct",60049),symbolParameter:f("symbol-parameter",60050),symbolTypeParameter:f("symbol-type-parameter",60050),symbolKey:f("symbol-key",60051),symbolText:f("symbol-text",60051),symbolReference:f("symbol-reference",60052),goToFile:f("go-to-file",60052),symbolEnum:f("symbol-enum",60053),symbolValue:f("symbol-value",60053),symbolRuler:f("symbol-ruler",60054),symbolUnit:f("symbol-unit",60054),activateBreakpoints:f("activate-breakpoints",60055),archive:f("archive",60056),arrowBoth:f("arrow-both",60057),arrowDown:f("arrow-down",60058),arrowLeft:f("arrow-left",60059),arrowRight:f("arrow-right",60060),arrowSmallDown:f("arrow-small-down",60061),arrowSmallLeft:f("arrow-small-left",60062),arrowSmallRight:f("arrow-small-right",60063),arrowSmallUp:f("arrow-small-up",60064),arrowUp:f("arrow-up",60065),bell:f("bell",60066),bold:f("bold",60067),book:f("book",60068),bookmark:f("bookmark",60069),debugBreakpointConditionalUnverified:f("debug-breakpoint-conditional-unverified",60070),debugBreakpointConditional:f("debug-breakpoint-conditional",60071),debugBreakpointConditionalDisabled:f("debug-breakpoint-conditional-disabled",60071),debugBreakpointDataUnverified:f("debug-breakpoint-data-unverified",60072),debugBreakpointData:f("debug-breakpoint-data",60073),debugBreakpointDataDisabled:f("debug-breakpoint-data-disabled",60073),debugBreakpointLogUnverified:f("debug-breakpoint-log-unverified",60074),debugBreakpointLog:f("debug-breakpoint-log",60075),debugBreakpointLogDisabled:f("debug-breakpoint-log-disabled",60075),briefcase:f("briefcase",60076),broadcast:f("broadcast",60077),browser:f("browser",60078),bug:f("bug",60079),calendar:f("calendar",60080),caseSensitive:f("case-sensitive",60081),check:f("check",60082),checklist:f("checklist",60083),chevronDown:f("chevron-down",60084),chevronLeft:f("chevron-left",60085),chevronRight:f("chevron-right",60086),chevronUp:f("chevron-up",60087),chromeClose:f("chrome-close",60088),chromeMaximize:f("chrome-maximize",60089),chromeMinimize:f("chrome-minimize",60090),chromeRestore:f("chrome-restore",60091),circleOutline:f("circle-outline",60092),circle:f("circle",60092),debugBreakpointUnverified:f("debug-breakpoint-unverified",60092),terminalDecorationIncomplete:f("terminal-decoration-incomplete",60092),circleSlash:f("circle-slash",60093),circuitBoard:f("circuit-board",60094),clearAll:f("clear-all",60095),clippy:f("clippy",60096),closeAll:f("close-all",60097),cloudDownload:f("cloud-download",60098),cloudUpload:f("cloud-upload",60099),code:f("code",60100),collapseAll:f("collapse-all",60101),colorMode:f("color-mode",60102),commentDiscussion:f("comment-discussion",60103),creditCard:f("credit-card",60105),dash:f("dash",60108),dashboard:f("dashboard",60109),database:f("database",60110),debugContinue:f("debug-continue",60111),debugDisconnect:f("debug-disconnect",60112),debugPause:f("debug-pause",60113),debugRestart:f("debug-restart",60114),debugStart:f("debug-start",60115),debugStepInto:f("debug-step-into",60116),debugStepOut:f("debug-step-out",60117),debugStepOver:f("debug-step-over",60118),debugStop:f("debug-stop",60119),debug:f("debug",60120),deviceCameraVideo:f("device-camera-video",60121),deviceCamera:f("device-camera",60122),deviceMobile:f("device-mobile",60123),diffAdded:f("diff-added",60124),diffIgnored:f("diff-ignored",60125),diffModified:f("diff-modified",60126),diffRemoved:f("diff-removed",60127),diffRenamed:f("diff-renamed",60128),diff:f("diff",60129),diffSidebyside:f("diff-sidebyside",60129),discard:f("discard",60130),editorLayout:f("editor-layout",60131),emptyWindow:f("empty-window",60132),exclude:f("exclude",60133),extensions:f("extensions",60134),eyeClosed:f("eye-closed",60135),fileBinary:f("file-binary",60136),fileCode:f("file-code",60137),fileMedia:f("file-media",60138),filePdf:f("file-pdf",60139),fileSubmodule:f("file-submodule",60140),fileSymlinkDirectory:f("file-symlink-directory",60141),fileSymlinkFile:f("file-symlink-file",60142),fileZip:f("file-zip",60143),files:f("files",60144),filter:f("filter",60145),flame:f("flame",60146),foldDown:f("fold-down",60147),foldUp:f("fold-up",60148),fold:f("fold",60149),folderActive:f("folder-active",60150),folderOpened:f("folder-opened",60151),gear:f("gear",60152),gift:f("gift",60153),gistSecret:f("gist-secret",60154),gist:f("gist",60155),gitCommit:f("git-commit",60156),gitCompare:f("git-compare",60157),compareChanges:f("compare-changes",60157),gitMerge:f("git-merge",60158),githubAction:f("github-action",60159),githubAlt:f("github-alt",60160),globe:f("globe",60161),grabber:f("grabber",60162),graph:f("graph",60163),gripper:f("gripper",60164),heart:f("heart",60165),home:f("home",60166),horizontalRule:f("horizontal-rule",60167),hubot:f("hubot",60168),inbox:f("inbox",60169),issueReopened:f("issue-reopened",60171),issues:f("issues",60172),italic:f("italic",60173),jersey:f("jersey",60174),json:f("json",60175),kebabVertical:f("kebab-vertical",60176),key:f("key",60177),law:f("law",60178),lightbulbAutofix:f("lightbulb-autofix",60179),linkExternal:f("link-external",60180),link:f("link",60181),listOrdered:f("list-ordered",60182),listUnordered:f("list-unordered",60183),liveShare:f("live-share",60184),loading:f("loading",60185),location:f("location",60186),mailRead:f("mail-read",60187),mail:f("mail",60188),markdown:f("markdown",60189),megaphone:f("megaphone",60190),mention:f("mention",60191),milestone:f("milestone",60192),gitPullRequestMilestone:f("git-pull-request-milestone",60192),mortarBoard:f("mortar-board",60193),move:f("move",60194),multipleWindows:f("multiple-windows",60195),mute:f("mute",60196),noNewline:f("no-newline",60197),note:f("note",60198),octoface:f("octoface",60199),openPreview:f("open-preview",60200),package:f("package",60201),paintcan:f("paintcan",60202),pin:f("pin",60203),play:f("play",60204),run:f("run",60204),plug:f("plug",60205),preserveCase:f("preserve-case",60206),preview:f("preview",60207),project:f("project",60208),pulse:f("pulse",60209),question:f("question",60210),quote:f("quote",60211),radioTower:f("radio-tower",60212),reactions:f("reactions",60213),references:f("references",60214),refresh:f("refresh",60215),regex:f("regex",60216),remoteExplorer:f("remote-explorer",60217),remote:f("remote",60218),remove:f("remove",60219),replaceAll:f("replace-all",60220),replace:f("replace",60221),repoClone:f("repo-clone",60222),repoForcePush:f("repo-force-push",60223),repoPull:f("repo-pull",60224),repoPush:f("repo-push",60225),report:f("report",60226),requestChanges:f("request-changes",60227),rocket:f("rocket",60228),rootFolderOpened:f("root-folder-opened",60229),rootFolder:f("root-folder",60230),rss:f("rss",60231),ruby:f("ruby",60232),saveAll:f("save-all",60233),saveAs:f("save-as",60234),save:f("save",60235),screenFull:f("screen-full",60236),screenNormal:f("screen-normal",60237),searchStop:f("search-stop",60238),server:f("server",60240),settingsGear:f("settings-gear",60241),settings:f("settings",60242),shield:f("shield",60243),smiley:f("smiley",60244),sortPrecedence:f("sort-precedence",60245),splitHorizontal:f("split-horizontal",60246),splitVertical:f("split-vertical",60247),squirrel:f("squirrel",60248),starFull:f("star-full",60249),starHalf:f("star-half",60250),symbolClass:f("symbol-class",60251),symbolColor:f("symbol-color",60252),symbolConstant:f("symbol-constant",60253),symbolEnumMember:f("symbol-enum-member",60254),symbolField:f("symbol-field",60255),symbolFile:f("symbol-file",60256),symbolInterface:f("symbol-interface",60257),symbolKeyword:f("symbol-keyword",60258),symbolMisc:f("symbol-misc",60259),symbolOperator:f("symbol-operator",60260),symbolProperty:f("symbol-property",60261),wrench:f("wrench",60261),wrenchSubaction:f("wrench-subaction",60261),symbolSnippet:f("symbol-snippet",60262),tasklist:f("tasklist",60263),telescope:f("telescope",60264),textSize:f("text-size",60265),threeBars:f("three-bars",60266),thumbsdown:f("thumbsdown",60267),thumbsup:f("thumbsup",60268),tools:f("tools",60269),triangleDown:f("triangle-down",60270),triangleLeft:f("triangle-left",60271),triangleRight:f("triangle-right",60272),triangleUp:f("triangle-up",60273),twitter:f("twitter",60274),unfold:f("unfold",60275),unlock:f("unlock",60276),unmute:f("unmute",60277),unverified:f("unverified",60278),verified:f("verified",60279),versions:f("versions",60280),vmActive:f("vm-active",60281),vmOutline:f("vm-outline",60282),vmRunning:f("vm-running",60283),watch:f("watch",60284),whitespace:f("whitespace",60285),wholeWord:f("whole-word",60286),window:f("window",60287),wordWrap:f("word-wrap",60288),zoomIn:f("zoom-in",60289),zoomOut:f("zoom-out",60290),listFilter:f("list-filter",60291),listFlat:f("list-flat",60292),listSelection:f("list-selection",60293),selection:f("selection",60293),listTree:f("list-tree",60294),debugBreakpointFunctionUnverified:f("debug-breakpoint-function-unverified",60295),debugBreakpointFunction:f("debug-breakpoint-function",60296),debugBreakpointFunctionDisabled:f("debug-breakpoint-function-disabled",60296),debugStackframeActive:f("debug-stackframe-active",60297),circleSmallFilled:f("circle-small-filled",60298),debugStackframeDot:f("debug-stackframe-dot",60298),terminalDecorationMark:f("terminal-decoration-mark",60298),debugStackframe:f("debug-stackframe",60299),debugStackframeFocused:f("debug-stackframe-focused",60299),debugBreakpointUnsupported:f("debug-breakpoint-unsupported",60300),symbolString:f("symbol-string",60301),debugReverseContinue:f("debug-reverse-continue",60302),debugStepBack:f("debug-step-back",60303),debugRestartFrame:f("debug-restart-frame",60304),debugAlt:f("debug-alt",60305),callIncoming:f("call-incoming",60306),callOutgoing:f("call-outgoing",60307),menu:f("menu",60308),expandAll:f("expand-all",60309),feedback:f("feedback",60310),gitPullRequestReviewer:f("git-pull-request-reviewer",60310),groupByRefType:f("group-by-ref-type",60311),ungroupByRefType:f("ungroup-by-ref-type",60312),account:f("account",60313),gitPullRequestAssignee:f("git-pull-request-assignee",60313),bellDot:f("bell-dot",60314),debugConsole:f("debug-console",60315),library:f("library",60316),output:f("output",60317),runAll:f("run-all",60318),syncIgnored:f("sync-ignored",60319),pinned:f("pinned",60320),githubInverted:f("github-inverted",60321),serverProcess:f("server-process",60322),serverEnvironment:f("server-environment",60323),pass:f("pass",60324),issueClosed:f("issue-closed",60324),stopCircle:f("stop-circle",60325),playCircle:f("play-circle",60326),record:f("record",60327),debugAltSmall:f("debug-alt-small",60328),vmConnect:f("vm-connect",60329),cloud:f("cloud",60330),merge:f("merge",60331),export:f("export",60332),graphLeft:f("graph-left",60333),magnet:f("magnet",60334),notebook:f("notebook",60335),redo:f("redo",60336),checkAll:f("check-all",60337),pinnedDirty:f("pinned-dirty",60338),passFilled:f("pass-filled",60339),circleLargeFilled:f("circle-large-filled",60340),circleLarge:f("circle-large",60341),circleLargeOutline:f("circle-large-outline",60341),combine:f("combine",60342),gather:f("gather",60342),table:f("table",60343),variableGroup:f("variable-group",60344),typeHierarchy:f("type-hierarchy",60345),typeHierarchySub:f("type-hierarchy-sub",60346),typeHierarchySuper:f("type-hierarchy-super",60347),gitPullRequestCreate:f("git-pull-request-create",60348),runAbove:f("run-above",60349),runBelow:f("run-below",60350),notebookTemplate:f("notebook-template",60351),debugRerun:f("debug-rerun",60352),workspaceTrusted:f("workspace-trusted",60353),workspaceUntrusted:f("workspace-untrusted",60354),workspaceUnknown:f("workspace-unknown",60355),terminalCmd:f("terminal-cmd",60356),terminalDebian:f("terminal-debian",60357),terminalLinux:f("terminal-linux",60358),terminalPowershell:f("terminal-powershell",60359),terminalTmux:f("terminal-tmux",60360),terminalUbuntu:f("terminal-ubuntu",60361),terminalBash:f("terminal-bash",60362),arrowSwap:f("arrow-swap",60363),copy:f("copy",60364),personAdd:f("person-add",60365),filterFilled:f("filter-filled",60366),wand:f("wand",60367),debugLineByLine:f("debug-line-by-line",60368),inspect:f("inspect",60369),layers:f("layers",60370),layersDot:f("layers-dot",60371),layersActive:f("layers-active",60372),compass:f("compass",60373),compassDot:f("compass-dot",60374),compassActive:f("compass-active",60375),azure:f("azure",60376),issueDraft:f("issue-draft",60377),gitPullRequestClosed:f("git-pull-request-closed",60378),gitPullRequestDraft:f("git-pull-request-draft",60379),debugAll:f("debug-all",60380),debugCoverage:f("debug-coverage",60381),runErrors:f("run-errors",60382),folderLibrary:f("folder-library",60383),debugContinueSmall:f("debug-continue-small",60384),beakerStop:f("beaker-stop",60385),graphLine:f("graph-line",60386),graphScatter:f("graph-scatter",60387),pieChart:f("pie-chart",60388),bracket:f("bracket",60175),bracketDot:f("bracket-dot",60389),bracketError:f("bracket-error",60390),lockSmall:f("lock-small",60391),azureDevops:f("azure-devops",60392),verifiedFilled:f("verified-filled",60393),newline:f("newline",60394),layout:f("layout",60395),layoutActivitybarLeft:f("layout-activitybar-left",60396),layoutActivitybarRight:f("layout-activitybar-right",60397),layoutPanelLeft:f("layout-panel-left",60398),layoutPanelCenter:f("layout-panel-center",60399),layoutPanelJustify:f("layout-panel-justify",60400),layoutPanelRight:f("layout-panel-right",60401),layoutPanel:f("layout-panel",60402),layoutSidebarLeft:f("layout-sidebar-left",60403),layoutSidebarRight:f("layout-sidebar-right",60404),layoutStatusbar:f("layout-statusbar",60405),layoutMenubar:f("layout-menubar",60406),layoutCentered:f("layout-centered",60407),target:f("target",60408),indent:f("indent",60409),recordSmall:f("record-small",60410),errorSmall:f("error-small",60411),terminalDecorationError:f("terminal-decoration-error",60411),arrowCircleDown:f("arrow-circle-down",60412),arrowCircleLeft:f("arrow-circle-left",60413),arrowCircleRight:f("arrow-circle-right",60414),arrowCircleUp:f("arrow-circle-up",60415),layoutSidebarRightOff:f("layout-sidebar-right-off",60416),layoutPanelOff:f("layout-panel-off",60417),layoutSidebarLeftOff:f("layout-sidebar-left-off",60418),blank:f("blank",60419),heartFilled:f("heart-filled",60420),map:f("map",60421),mapHorizontal:f("map-horizontal",60421),foldHorizontal:f("fold-horizontal",60421),mapFilled:f("map-filled",60422),mapHorizontalFilled:f("map-horizontal-filled",60422),foldHorizontalFilled:f("fold-horizontal-filled",60422),circleSmall:f("circle-small",60423),bellSlash:f("bell-slash",60424),bellSlashDot:f("bell-slash-dot",60425),commentUnresolved:f("comment-unresolved",60426),gitPullRequestGoToChanges:f("git-pull-request-go-to-changes",60427),gitPullRequestNewChanges:f("git-pull-request-new-changes",60428),searchFuzzy:f("search-fuzzy",60429),commentDraft:f("comment-draft",60430),send:f("send",60431),sparkle:f("sparkle",60432),insert:f("insert",60433),mic:f("mic",60434),thumbsdownFilled:f("thumbsdown-filled",60435),thumbsupFilled:f("thumbsup-filled",60436),coffee:f("coffee",60437),snake:f("snake",60438),game:f("game",60439),vr:f("vr",60440),chip:f("chip",60441),piano:f("piano",60442),music:f("music",60443),micFilled:f("mic-filled",60444),repoFetch:f("repo-fetch",60445),copilot:f("copilot",60446),lightbulbSparkle:f("lightbulb-sparkle",60447),robot:f("robot",60448),sparkleFilled:f("sparkle-filled",60449),diffSingle:f("diff-single",60450),diffMultiple:f("diff-multiple",60451),surroundWith:f("surround-with",60452),share:f("share",60453),gitStash:f("git-stash",60454),gitStashApply:f("git-stash-apply",60455),gitStashPop:f("git-stash-pop",60456),vscode:f("vscode",60457),vscodeInsiders:f("vscode-insiders",60458),codeOss:f("code-oss",60459),runCoverage:f("run-coverage",60460),runAllCoverage:f("run-all-coverage",60461),coverage:f("coverage",60462),githubProject:f("github-project",60463),mapVertical:f("map-vertical",60464),foldVertical:f("fold-vertical",60464),mapVerticalFilled:f("map-vertical-filled",60465),foldVerticalFilled:f("fold-vertical-filled",60465),goToSearch:f("go-to-search",60466),percentage:f("percentage",60467),sortPercentage:f("sort-percentage",60467),attach:f("attach",60468)};var gy={dialogError:f("dialog-error","error"),dialogWarning:f("dialog-warning","warning"),dialogInfo:f("dialog-info","info"),dialogClose:f("dialog-close","close"),treeItemExpanded:f("tree-item-expanded","chevron-down"),treeFilterOnTypeOn:f("tree-filter-on-type-on","list-filter"),treeFilterOnTypeOff:f("tree-filter-on-type-off","list-selection"),treeFilterClear:f("tree-filter-clear","close"),treeItemLoading:f("tree-item-loading","loading"),menuSelection:f("menu-selection","check"),menuSubmenu:f("menu-submenu","chevron-right"),menuBarMore:f("menubar-more","more"),scrollbarButtonLeft:f("scrollbar-button-left","triangle-left"),scrollbarButtonRight:f("scrollbar-button-right","triangle-right"),scrollbarButtonUp:f("scrollbar-button-up","triangle-up"),scrollbarButtonDown:f("scrollbar-button-down","triangle-down"),toolBarMore:f("toolbar-more","more"),quickInputBack:f("quick-input-back","arrow-left"),dropDownButton:f("drop-down-button",60084),symbolCustomColor:f("symbol-customcolor",60252),exportIcon:f("export",60332),workspaceUnspecified:f("workspace-unspecified",60355),newLine:f("newline",60394),thumbsDownFilled:f("thumbsdown-filled",60435),thumbsUpFilled:f("thumbsup-filled",60436),gitFetch:f("git-fetch",60445),lightbulbSparkleAutofix:f("lightbulb-sparkle-autofix",60447),debugBreakpointPending:f("debug-breakpoint-pending",60377)},q={...dm,...gy};var gm;(e=>{function r(t){return t&&typeof t=="object"&&typeof t.id=="string"}e.isThemeColor=r})(gm||={});var Et;(m=>{m.iconNameSegment="[A-Za-z0-9]+",m.iconNameExpression="[A-Za-z0-9-]+",m.iconModifierExpression="~[A-Za-z]+",m.iconNameCharacter="[A-Za-z0-9~-]";let i=new RegExp(`^(${m.iconNameExpression})(${m.iconModifierExpression})?$`);function o(y){let I=i.exec(y.id);if(!I)return o(q.error);let[,k,C]=I,T=["codicon","codicon-"+k];return C&&T.push("codicon-modifier-"+C.substring(1)),T}m.asClassNameArray=o;function s(y){return o(y).join(" ")}m.asClassName=s;function a(y){return"."+o(y).join(".")}m.asCSSSelector=a;function l(y){return y&&typeof y=="object"&&typeof y.id=="string"&&(typeof y.color>"u"||gm.isThemeColor(y.color))}m.isThemeIcon=l;let u=new RegExp(`^\\$\\((${m.iconNameExpression}(?:${m.iconModifierExpression})?)\\)$`);function d(y){let I=u.exec(y);if(!I)return;let[,k]=I;return{id:k}}m.fromString=d;function g(y){return{id:y}}m.fromId=g;function h(y,I){let k=y.id,C=k.lastIndexOf("~");return C!==-1&&(k=k.substring(0,C)),I&&(k=`${k}~${I}`),{id:k}}m.modify=h;function p(y){let I=y.id.lastIndexOf("~");if(I!==-1)return y.id.substring(I+1)}m.getModifier=p;function b(y,I){return y.id===I.id&&y.color?.id===I.color?.id}m.isEqual=b})(Et||={});var fd=new RegExp(`\\$\\(${Et.iconNameExpression}(?:${Et.iconModifierExpression})?\\)`,"g"),zw=new RegExp(`(\\\\)?${fd.source}`,"g");var Ww=new RegExp(`\\\\${fd.source}`,"g");var Vw=new RegExp(`(\\s)?(\\\\)?${fd.source}(\\s)?`,"g");var Hw=new RegExp(`\\$\\(${Et.iconNameCharacter}+\\)`,"g");function gr(r,e){if(r===e)return!0;if(r==null||e===null||e===void 0||typeof r!=typeof e||typeof r!="object"||Array.isArray(r)!==Array.isArray(e))return!1;let t,n;if(Array.isArray(r)){if(r.length!==e.length)return!1;for(t=0;t<r.length;t++)if(!gr(r[t],e[t]))return!1}else{let i=[];for(n in r)i.push(n);i.sort();let o=[];for(n in e)o.push(n);if(o.sort(),!gr(i,o))return!1;for(t=0;t<i.length;t++)if(!gr(r[i[t]],e[i[t]]))return!1}return!0}function hy(r){let e=[];for(;Object.prototype!==r;)e=e.concat(Object.getOwnPropertyNames(r)),r=Object.getPrototypeOf(r);return e}function hd(r){let e=[];for(let t of hy(r))typeof r[t]=="function"&&e.push(t);return e}function fm(r,e){let t=i=>function(){let o=Array.prototype.slice.call(arguments,0);return e(i,o)},n={};for(let i of r)n[i]=t(i);return n}var Un=class r extends R{selectionStartLineNumber;selectionStartColumn;positionLineNumber;positionColumn;constructor(e,t,n,i){super(e,t,n,i),this.selectionStartLineNumber=e,this.selectionStartColumn=t,this.positionLineNumber=n,this.positionColumn=i}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(e){return r.selectionsEqual(this,e)}static selectionsEqual(e,t){return e.selectionStartLineNumber===t.selectionStartLineNumber&&e.selectionStartColumn===t.selectionStartColumn&&e.positionLineNumber===t.positionLineNumber&&e.positionColumn===t.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(e,t){return this.getDirection()===0?new r(this.startLineNumber,this.startColumn,e,t):new r(e,t,this.startLineNumber,this.startColumn)}getPosition(){return new $(this.positionLineNumber,this.positionColumn)}getSelectionStart(){return new $(this.selectionStartLineNumber,this.selectionStartColumn)}setStartPosition(e,t){return this.getDirection()===0?new r(e,t,this.endLineNumber,this.endColumn):new r(this.endLineNumber,this.endColumn,e,t)}static fromPositions(e,t=e){return new r(e.lineNumber,e.column,t.lineNumber,t.column)}static fromRange(e,t){return t===0?new r(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn):new r(e.endLineNumber,e.endColumn,e.startLineNumber,e.startColumn)}static liftSelection(e){return new r(e.selectionStartLineNumber,e.selectionStartColumn,e.positionLineNumber,e.positionColumn)}static selectionsArrEqual(e,t){if(e&&!t||!e&&t)return!1;if(!e&&!t)return!0;if(e.length!==t.length)return!1;for(let n=0,i=e.length;n<i;n++)if(!this.selectionsEqual(e[n],t[n]))return!1;return!0}static isISelection(e){return e&&typeof e.selectionStartLineNumber=="number"&&typeof e.selectionStartColumn=="number"&&typeof e.positionLineNumber=="number"&&typeof e.positionColumn=="number"}static createWithDirection(e,t,n,i,o){return o===0?new r(e,t,n,i):new r(n,i,e,t)}};var CE=new ur(()=>new Uint8Array(256));function hm(r,e){return r[e+0]<<0>>>0|r[e+1]<<8>>>0}function pm(r,e,t){r[t+0]=e&255,e=e>>>8,r[t+1]=e&255}function Ge(r,e){return r[e]*2**24+r[e+1]*2**16+r[e+2]*2**8+r[e+3]}function je(r,e,t){r[t+3]=e,e=e>>>8,r[t+2]=e,e=e>>>8,r[t+1]=e,e=e>>>8,r[t]=e}function pd(r,e){return r[e]}function md(r,e,t){r[t]=e}var vd;function mm(){return vd||(vd=new TextDecoder("UTF-16LE")),vd}var yd;function by(){return yd||(yd=new TextDecoder("UTF-16BE")),yd}var xd;function bm(){return xd||(xd=Zh()?mm():by()),xd}function vm(r,e,t){let n=new Uint16Array(r.buffer,e,t);return t>0&&(n[0]===65279||n[0]===65534)?vy(r,e,t):mm().decode(n)}function vy(r,e,t){let n=[],i=0;for(let o=0;o<t;o++){let s=hm(r,e);e+=2,n[i++]=String.fromCharCode(s)}return n.join("")}function Xa(r){return r.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}var It=class r{constructor(e,t,n,i){this.oldPosition=e;this.oldText=t;this.newPosition=n;this.newText=i}get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}toString(){return this.oldText.length===0?`(insert@${this.oldPosition} "${Xa(this.newText)}")`:this.newText.length===0?`(delete@${this.oldPosition} "${Xa(this.oldText)}")`:`(replace@${this.oldPosition} "${Xa(this.oldText)}" with "${Xa(this.newText)}")`}static _writeStringSize(e){return 4+2*e.length}static _writeString(e,t,n){let i=t.length;je(e,i,n),n+=4;for(let o=0;o<i;o++)pm(e,t.charCodeAt(o),n),n+=2;return n}static _readString(e,t){let n=Ge(e,t);return t+=4,vm(e,t,n)}writeSize(){return 8+r._writeStringSize(this.oldText)+r._writeStringSize(this.newText)}write(e,t){return je(e,this.oldPosition,t),t+=4,je(e,this.newPosition,t),t+=4,t=r._writeString(e,this.oldText,t),t=r._writeString(e,this.newText,t),t}static read(e,t,n){let i=Ge(e,t);t+=4;let o=Ge(e,t);t+=4;let s=r._readString(e,t);t+=r._writeStringSize(s);let a=r._readString(e,t);return t+=r._writeStringSize(a),n.push(new r(i,s,o,a)),t}};function ym(r,e){return r===null||r.length===0?e:new Id(r,e).compress()}var Id=class r{_prevEdits;_currEdits;_result;_resultLen;_prevLen;_prevDeltaOffset;_currLen;_currDeltaOffset;constructor(e,t){this._prevEdits=e,this._currEdits=t,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let e=0,t=0,n=this._getPrev(e),i=this._getCurr(t);for(;e<this._prevLen||t<this._currLen;){if(n===null){this._acceptCurr(i),i=this._getCurr(++t);continue}if(i===null){this._acceptPrev(n),n=this._getPrev(++e);continue}if(i.oldEnd<=n.newPosition){this._acceptCurr(i),i=this._getCurr(++t);continue}if(n.newEnd<=i.oldPosition){this._acceptPrev(n),n=this._getPrev(++e);continue}if(i.oldPosition<n.newPosition){let[u,d]=r._splitCurr(i,n.newPosition-i.oldPosition);this._acceptCurr(u),i=d;continue}if(n.newPosition<i.oldPosition){let[u,d]=r._splitPrev(n,i.oldPosition-n.newPosition);this._acceptPrev(u),n=d;continue}let a,l;if(i.oldEnd===n.newEnd)a=n,l=i,n=this._getPrev(++e),i=this._getCurr(++t);else if(i.oldEnd<n.newEnd){let[u,d]=r._splitPrev(n,i.oldLength);a=u,l=i,n=d,i=this._getCurr(++t)}else{let[u,d]=r._splitCurr(i,n.newLength);a=n,l=u,n=this._getPrev(++e),i=d}this._result[this._resultLen++]=new It(a.oldPosition,a.oldText,l.newPosition,l.newText),this._prevDeltaOffset+=a.newLength-a.oldLength,this._currDeltaOffset+=l.newLength-l.oldLength}let o=r._merge(this._result);return r._removeNoOps(o)}_acceptCurr(e){this._result[this._resultLen++]=r._rebaseCurr(this._prevDeltaOffset,e),this._currDeltaOffset+=e.newLength-e.oldLength}_getCurr(e){return e<this._currLen?this._currEdits[e]:null}_acceptPrev(e){this._result[this._resultLen++]=r._rebasePrev(this._currDeltaOffset,e),this._prevDeltaOffset+=e.newLength-e.oldLength}_getPrev(e){return e<this._prevLen?this._prevEdits[e]:null}static _rebaseCurr(e,t){return new It(t.oldPosition-e,t.oldText,t.newPosition,t.newText)}static _rebasePrev(e,t){return new It(t.oldPosition,t.oldText,t.newPosition+e,t.newText)}static _splitPrev(e,t){let n=e.newText.substr(0,t),i=e.newText.substr(t);return[new It(e.oldPosition,e.oldText,e.newPosition,n),new It(e.oldEnd,"",e.newPosition+t,i)]}static _splitCurr(e,t){let n=e.oldText.substr(0,t),i=e.oldText.substr(t);return[new It(e.oldPosition,n,e.newPosition,e.newText),new It(e.oldPosition+t,i,e.newEnd,"")]}static _merge(e){if(e.length===0)return e;let t=[],n=0,i=e[0];for(let o=1;o<e.length;o++){let s=e[o];i.oldEnd===s.oldPosition?i=new It(i.oldPosition,i.oldText+s.oldText,i.newPosition,i.newText+s.newText):(t[n++]=i,i=s)}return t[n++]=i,t}static _removeNoOps(e){if(e.length===0)return e;let t=[],n=0;for(let i=0;i<e.length;i++){let o=e[i];o.oldText!==o.newText&&(t[n++]=o)}return t}};var Fi=class r{_asciiMap;_map;_defaultValue;constructor(e){let t=Pc(e);this._defaultValue=t,this._asciiMap=r._createAsciiMap(t),this._map=new Map}static _createAsciiMap(e){let t=new Uint8Array(256);return t.fill(e),t}set(e,t){let n=Pc(t);e>=0&&e<256?this._asciiMap[e]=n:this._map.set(e,n)}get(e){return e>=0&&e<256?this._asciiMap[e]:this._map.get(e)||this._defaultValue}clear(){this._asciiMap.fill(this._defaultValue),this._map.clear()}};var Td=class extends Fi{intlSegmenterLocales;_segmenter=null;_cachedLine=null;_cachedSegments=[];constructor(e,t){super(0),this.intlSegmenterLocales=t,this.intlSegmenterLocales.length>0?this._segmenter=new Intl.Segmenter(this.intlSegmenterLocales,{granularity:"word"}):this._segmenter=null;for(let n=0,i=e.length;n<i;n++)this.set(e.charCodeAt(n),2);this.set(32,1),this.set(9,1)}findPrevIntlWordBeforeOrAtOffset(e,t){let n=null;for(let i of this._getIntlSegmenterWordsOnLine(e)){if(i.index>t)break;n=i}return n}findNextIntlWordAtOrAfterOffset(e,t){for(let n of this._getIntlSegmenterWordsOnLine(e))if(!(n.index<t))return n;return null}_getIntlSegmenterWordsOnLine(e){return this._segmenter?this._cachedLine===e?this._cachedSegments:(this._cachedLine=e,this._cachedSegments=this._filterWordSegments(this._segmenter.segment(e)),this._cachedSegments):[]}_filterWordSegments(e){let t=[];for(let n of e)this._isWordLike(n)&&t.push(n);return t}_isWordLike(e){return!!e.isWordLike}},xm=new sr(10);function Im(r,e){let t=`${r}/${e.join(",")}`,n=xm.get(t);return n||(n=new Td(r,e),xm.set(t,n)),n}var Cd="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?";function xy(r=""){let e="(-?\\d*\\.\\d\\w*)|([^";for(let t of Cd)r.indexOf(t)>=0||(e+="\\"+t);return e+="\\s]+)",new RegExp(e,"g")}var $o=xy();function Yo(r){let e=$o;if(r&&r instanceof RegExp)if(r.global)e=r;else{let t="g";r.ignoreCase&&(t+="i"),r.multiline&&(t+="m"),r.unicode&&(t+="u"),e=new RegExp(r.source,t)}return e.lastIndex=0,e}var Tm=new Hr;Tm.unshift({maxLen:1e3,windowSize:15,timeBudget:150});function fr(r,e,t,n,i){if(e=Yo(e),i||(i=Bn.first(Tm)),t.length>i.maxLen){let u=r-i.maxLen/2;return u<0?u=0:n+=u,t=t.substring(u,r+i.maxLen/2),fr(r,e,t,n,i)}let o=Date.now(),s=r-1-n,a=-1,l=null;for(let u=1;!(Date.now()-o>=i.timeBudget);u++){let d=s-i.windowSize*u;e.lastIndex=Math.max(0,d);let g=Iy(e,t,s,a);if(!g&&l||(l=g,d<=0))break;a=d}if(l){let u={word:l[0],startColumn:n+1+l.index,endColumn:n+1+l.index+l[0].length};return e.lastIndex=0,u}return null}function Iy(r,e,t,n){let i;for(;i=r.exec(e);){let o=i.index||0;if(o<=t&&r.lastIndex>=t)return i;if(n>0&&o>n)return null}return null}function hr(r,e){let t=Math.pow(10,e);return Math.round(r*t)/t}var te=class{_rgbaBrand=void 0;r;g;b;a;constructor(e,t,n,i=1){this.r=Math.min(255,Math.max(0,e))|0,this.g=Math.min(255,Math.max(0,t))|0,this.b=Math.min(255,Math.max(0,n))|0,this.a=hr(Math.max(Math.min(1,i),0),3)}static equals(e,t){return e.r===t.r&&e.g===t.g&&e.b===t.b&&e.a===t.a}},cn=class r{_hslaBrand=void 0;h;s;l;a;constructor(e,t,n,i){this.h=Math.max(Math.min(360,e),0)|0,this.s=hr(Math.max(Math.min(1,t),0),3),this.l=hr(Math.max(Math.min(1,n),0),3),this.a=hr(Math.max(Math.min(1,i),0),3)}static equals(e,t){return e.h===t.h&&e.s===t.s&&e.l===t.l&&e.a===t.a}static fromRGBA(e){let t=e.r/255,n=e.g/255,i=e.b/255,o=e.a,s=Math.max(t,n,i),a=Math.min(t,n,i),l=0,u=0,d=(a+s)/2,g=s-a;if(g>0){switch(u=Math.min(d<=.5?g/(2*d):g/(2-2*d),1),s){case t:l=(n-i)/g+(n<i?6:0);break;case n:l=(i-t)/g+2;break;case i:l=(t-n)/g+4;break}l*=60,l=Math.round(l)}return new r(l,u,d,o)}static _hue2rgb(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}static toRGBA(e){let t=e.h/360,{s:n,l:i,a:o}=e,s,a,l;if(n===0)s=a=l=i;else{let u=i<.5?i*(1+n):i+n-i*n,d=2*i-u;s=r._hue2rgb(d,u,t+1/3),a=r._hue2rgb(d,u,t),l=r._hue2rgb(d,u,t-1/3)}return new te(Math.round(s*255),Math.round(a*255),Math.round(l*255),o)}},Ui=class r{_hsvaBrand=void 0;h;s;v;a;constructor(e,t,n,i){this.h=Math.max(Math.min(360,e),0)|0,this.s=hr(Math.max(Math.min(1,t),0),3),this.v=hr(Math.max(Math.min(1,n),0),3),this.a=hr(Math.max(Math.min(1,i),0),3)}static equals(e,t){return e.h===t.h&&e.s===t.s&&e.v===t.v&&e.a===t.a}static fromRGBA(e){let t=e.r/255,n=e.g/255,i=e.b/255,o=Math.max(t,n,i),s=Math.min(t,n,i),a=o-s,l=o===0?0:a/o,u;return a===0?u=0:o===t?u=((n-i)/a%6+6)%6:o===n?u=(i-t)/a+2:u=(t-n)/a+4,new r(Math.round(u*60),l,o,e.a)}static toRGBA(e){let{h:t,s:n,v:i,a:o}=e,s=i*n,a=s*(1-Math.abs(t/60%2-1)),l=i-s,[u,d,g]=[0,0,0];return t<60?(u=s,d=a):t<120?(u=a,d=s):t<180?(d=s,g=a):t<240?(d=a,g=s):t<300?(u=a,g=s):t<=360&&(u=s,g=a),u=Math.round((u+l)*255),d=Math.round((d+l)*255),g=Math.round((g+l)*255),new te(u,d,g,o)}},w=class r{static fromHex(e){return r.Format.CSS.parseHex(e)||r.red}static equals(e,t){return!e&&!t?!0:!e||!t?!1:e.equals(t)}rgba;_hsla;get hsla(){return this._hsla?this._hsla:cn.fromRGBA(this.rgba)}_hsva;get hsva(){return this._hsva?this._hsva:Ui.fromRGBA(this.rgba)}constructor(e){if(e)if(e instanceof te)this.rgba=e;else if(e instanceof cn)this._hsla=e,this.rgba=cn.toRGBA(e);else if(e instanceof Ui)this._hsva=e,this.rgba=Ui.toRGBA(e);else throw new Error("Invalid color ctor argument");else throw new Error("Color needs a value")}equals(e){return!!e&&te.equals(this.rgba,e.rgba)&&cn.equals(this.hsla,e.hsla)&&Ui.equals(this.hsva,e.hsva)}getRelativeLuminance(){let e=r._relativeLuminanceForComponent(this.rgba.r),t=r._relativeLuminanceForComponent(this.rgba.g),n=r._relativeLuminanceForComponent(this.rgba.b),i=.2126*e+.7152*t+.0722*n;return hr(i,4)}static _relativeLuminanceForComponent(e){let t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}getContrastRatio(e){let t=this.getRelativeLuminance(),n=e.getRelativeLuminance();return t>n?(t+.05)/(n+.05):(n+.05)/(t+.05)}isDarker(){return(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3<128}isLighter(){return(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3>=128}isLighterThan(e){let t=this.getRelativeLuminance(),n=e.getRelativeLuminance();return t>n}isDarkerThan(e){let t=this.getRelativeLuminance(),n=e.getRelativeLuminance();return t<n}lighten(e){return new r(new cn(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*e,this.hsla.a))}darken(e){return new r(new cn(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*e,this.hsla.a))}transparent(e){let{r:t,g:n,b:i,a:o}=this.rgba;return new r(new te(t,n,i,o*e))}isTransparent(){return this.rgba.a===0}isOpaque(){return this.rgba.a===1}opposite(){return new r(new te(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}blend(e){let t=e.rgba,n=this.rgba.a,i=t.a,o=n+i*(1-n);if(o<1e-6)return r.transparent;let s=this.rgba.r*n/o+t.r*i*(1-n)/o,a=this.rgba.g*n/o+t.g*i*(1-n)/o,l=this.rgba.b*n/o+t.b*i*(1-n)/o;return new r(new te(s,a,l,o))}makeOpaque(e){if(this.isOpaque()||e.rgba.a!==1)return this;let{r:t,g:n,b:i,a:o}=this.rgba;return new r(new te(e.rgba.r-o*(e.rgba.r-t),e.rgba.g-o*(e.rgba.g-n),e.rgba.b-o*(e.rgba.b-i),1))}flatten(...e){let t=e.reduceRight((n,i)=>r._flatten(i,n));return r._flatten(this,t)}static _flatten(e,t){let n=1-e.rgba.a;return new r(new te(n*t.rgba.r+e.rgba.a*e.rgba.r,n*t.rgba.g+e.rgba.a*e.rgba.g,n*t.rgba.b+e.rgba.a*e.rgba.b))}_toString;toString(){return this._toString||(this._toString=r.Format.CSS.format(this)),this._toString}static getLighterColor(e,t,n){if(e.isLighterThan(t))return e;n=n||.5;let i=e.getRelativeLuminance(),o=t.getRelativeLuminance();return n=n*(o-i)/o,e.lighten(n)}static getDarkerColor(e,t,n){if(e.isDarkerThan(t))return e;n=n||.5;let i=e.getRelativeLuminance(),o=t.getRelativeLuminance();return n=n*(i-o)/i,e.darken(n)}static white=new r(new te(255,255,255,1));static black=new r(new te(0,0,0,1));static red=new r(new te(255,0,0,1));static blue=new r(new te(0,0,255,1));static green=new r(new te(0,255,0,1));static cyan=new r(new te(0,255,255,1));static lightgrey=new r(new te(211,211,211,1));static transparent=new r(new te(0,0,0,0))};(e=>{let r;(n=>{let t;(b=>{function i(m){return m.rgba.a===1?`rgb(${m.rgba.r}, ${m.rgba.g}, ${m.rgba.b})`:e.Format.CSS.formatRGBA(m)}b.formatRGB=i;function o(m){return`rgba(${m.rgba.r}, ${m.rgba.g}, ${m.rgba.b}, ${+m.rgba.a.toFixed(2)})`}b.formatRGBA=o;function s(m){return m.hsla.a===1?`hsl(${m.hsla.h}, ${(m.hsla.s*100).toFixed(2)}%, ${(m.hsla.l*100).toFixed(2)}%)`:e.Format.CSS.formatHSLA(m)}b.formatHSL=s;function a(m){return`hsla(${m.hsla.h}, ${(m.hsla.s*100).toFixed(2)}%, ${(m.hsla.l*100).toFixed(2)}%, ${m.hsla.a.toFixed(2)})`}b.formatHSLA=a;function l(m){let y=m.toString(16);return y.length!==2?"0"+y:y}function u(m){return`#${l(m.rgba.r)}${l(m.rgba.g)}${l(m.rgba.b)}`}b.formatHex=u;function d(m,y=!1){return y&&m.rgba.a===1?e.Format.CSS.formatHex(m):`#${l(m.rgba.r)}${l(m.rgba.g)}${l(m.rgba.b)}${l(Math.round(m.rgba.a*255))}`}b.formatHexA=d;function g(m){return m.isOpaque()?e.Format.CSS.formatHex(m):e.Format.CSS.formatRGBA(m)}b.format=g;function h(m){let y=m.length;if(y===0||m.charCodeAt(0)!==35)return null;if(y===7){let I=16*p(m.charCodeAt(1))+p(m.charCodeAt(2)),k=16*p(m.charCodeAt(3))+p(m.charCodeAt(4)),C=16*p(m.charCodeAt(5))+p(m.charCodeAt(6));return new e(new te(I,k,C,1))}if(y===9){let I=16*p(m.charCodeAt(1))+p(m.charCodeAt(2)),k=16*p(m.charCodeAt(3))+p(m.charCodeAt(4)),C=16*p(m.charCodeAt(5))+p(m.charCodeAt(6)),T=16*p(m.charCodeAt(7))+p(m.charCodeAt(8));return new e(new te(I,k,C,T/255))}if(y===4){let I=p(m.charCodeAt(1)),k=p(m.charCodeAt(2)),C=p(m.charCodeAt(3));return new e(new te(16*I+I,16*k+k,16*C+C))}if(y===5){let I=p(m.charCodeAt(1)),k=p(m.charCodeAt(2)),C=p(m.charCodeAt(3)),T=p(m.charCodeAt(4));return new e(new te(16*I+I,16*k+k,16*C+C,(16*T+T)/255))}return null}b.parseHex=h;function p(m){switch(m){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:return 10;case 65:return 10;case 98:return 11;case 66:return 11;case 99:return 12;case 67:return 12;case 100:return 13;case 68:return 13;case 101:return 14;case 69:return 14;case 102:return 15;case 70:return 15}return 0}})(t=n.CSS||={})})(r=e.Format||={})})(w||={});var Ty=function(){if(typeof crypto=="object"&&typeof crypto.randomUUID=="function")return crypto.randomUUID.bind(crypto);let r;typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?r=crypto.getRandomValues.bind(crypto):r=function(n){for(let i=0;i<n.length;i++)n[i]=Math.floor(Math.random()*256);return n};let e=new Uint8Array(16),t=[];for(let n=0;n<256;n++)t.push(n.toString(16).padStart(2,"0"));return function(){r(e),e[6]=e[6]&15|64,e[8]=e[8]&63|128;let i=0,o="";return o+=t[e[i++]],o+=t[e[i++]],o+=t[e[i++]],o+=t[e[i++]],o+="-",o+=t[e[i++]],o+=t[e[i++]],o+="-",o+=t[e[i++]],o+=t[e[i++]],o+="-",o+=t[e[i++]],o+=t[e[i++]],o+="-",o+=t[e[i++]],o+=t[e[i++]],o+=t[e[i++]],o+=t[e[i++]],o+=t[e[i++]],o+=t[e[i++]],o}}();var Cy=Object.freeze({create:r=>vi(r.map(e=>e.toString())).join(`\r
`),split:r=>r.split(`\r
`),parse:r=>Cy.split(r).filter(e=>!e.startsWith("#"))});var Cm=class r{constructor(e){this.value=e}static sep=".";static None=new r("@@none@@");static Empty=new r("");equals(e){return this.value===e.value}contains(e){return this.equals(e)||this.value===""||e.value.startsWith(this.value+r.sep)}intersects(e){return this.contains(e)||e.contains(this)}append(...e){return new r((this.value?[this.value,...e]:e).join(r.sep))}};var Tt=class{static getLanguageId(e){return(e&255)>>>0}static getTokenType(e){return(e&768)>>>8}static containsBalancedBrackets(e){return(e&1024)!==0}static getFontStyle(e){return(e&30720)>>>11}static getForeground(e){return(e&16744448)>>>15}static getBackground(e){return(e&4278190080)>>>24}static getClassNameFromMetadata(e){let n="mtk"+this.getForeground(e),i=this.getFontStyle(e);return i&1&&(n+=" mtki"),i&2&&(n+=" mtkb"),i&4&&(n+=" mtku"),i&8&&(n+=" mtks"),n}static getInlineStyleFromMetadata(e,t){let n=this.getForeground(e),i=this.getFontStyle(e),o=`color: ${t[n]};`;i&1&&(o+="font-style: italic;"),i&2&&(o+="font-weight: bold;");let s="";return i&4&&(s+=" underline"),i&8&&(s+=" line-through"),s&&(o+=`text-decoration:${s};`),o}static getPresentationFromMetadata(e){let t=this.getForeground(e),n=this.getFontStyle(e);return{foreground:t,italic:!!(n&1),bold:!!(n&2),underline:!!(n&4),strikethrough:!!(n&8)}}};var n2=new sr(1e4);var Qo=class{_tokenizationSupports=new Map;_factories=new Map;_onDidChange=new U;onDidChange=this._onDidChange.event;_colorMap;constructor(){this._colorMap=null}handleChange(e){this._onDidChange.fire({changedLanguages:e,changedColorMap:!1})}register(e,t){return this._tokenizationSupports.set(e,t),this.handleChange([e]),Se(()=>{this._tokenizationSupports.get(e)===t&&(this._tokenizationSupports.delete(e),this.handleChange([e]))})}get(e){return this._tokenizationSupports.get(e)||null}registerFactory(e,t){this._factories.get(e)?.dispose();let n=new kd(this,e,t);return this._factories.set(e,n),Se(()=>{let i=this._factories.get(e);!i||i!==n||(this._factories.delete(e),i.dispose())})}async getOrCreate(e){let t=this.get(e);if(t)return t;let n=this._factories.get(e);return!n||n.isResolved?null:(await n.resolve(),this.get(e))}isResolved(e){if(this.get(e))return!0;let n=this._factories.get(e);return!!(!n||n.isResolved)}setColorMap(e){this._colorMap=e,this._onDidChange.fire({changedLanguages:Array.from(this._tokenizationSupports.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}},kd=class extends oe{constructor(t,n,i){super();this._registry=t;this._languageId=n;this._factory=i}_isDisposed=!1;_resolvePromise=null;_isResolved=!1;get isResolved(){return this._isResolved}dispose(){this._isDisposed=!0,super.dispose()}async resolve(){return this._resolvePromise||(this._resolvePromise=this._create()),this._resolvePromise}async _create(){let t=await this._factory.tokenizationSupport;this._isResolved=!0,t&&!this._isDisposed&&this._register(this._registry.register(this._languageId,t))}};function pt(r){let e=0,t=0,n=0,i=0;for(let o=0,s=r.length;o<s;o++){let a=r.charCodeAt(o);a===13?(e===0&&(t=o),e++,o+1<s&&r.charCodeAt(o+1)===10?(i|=2,o++):i|=3,n=o+1):a===10&&(i|=1,e===0&&(t=o),e++,n=o+1)}return e===0&&(t=r.length),[e,t,r.length-n,i]}var Y=class r{constructor(e,t){this.start=e;this.endExclusive=t;if(e>t)throw new le(`Invalid range: ${this.toString()}`)}static addRange(e,t){let n=0;for(;n<t.length&&t[n].endExclusive<e.start;)n++;let i=n;for(;i<t.length&&t[i].start<=e.endExclusive;)i++;if(n===i)t.splice(n,0,e);else{let o=Math.min(e.start,t[n].start),s=Math.max(e.endExclusive,t[i-1].endExclusive);t.splice(n,i-n,new r(o,s))}}static tryCreate(e,t){if(!(e>t))return new r(e,t)}static ofLength(e){return new r(0,e)}static ofStartAndLength(e,t){return new r(e,e+t)}static emptyAt(e){return new r(e,e)}get isEmpty(){return this.start===this.endExclusive}delta(e){return new r(this.start+e,this.endExclusive+e)}deltaStart(e){return new r(this.start+e,this.endExclusive)}deltaEnd(e){return new r(this.start,this.endExclusive+e)}get length(){return this.endExclusive-this.start}toString(){return`[${this.start}, ${this.endExclusive})`}equals(e){return this.start===e.start&&this.endExclusive===e.endExclusive}containsRange(e){return this.start<=e.start&&e.endExclusive<=this.endExclusive}contains(e){return this.start<=e&&e<this.endExclusive}join(e){return new r(Math.min(this.start,e.start),Math.max(this.endExclusive,e.endExclusive))}intersect(e){let t=Math.max(this.start,e.start),n=Math.min(this.endExclusive,e.endExclusive);if(t<=n)return new r(t,n)}intersectionLength(e){let t=Math.max(this.start,e.start),n=Math.min(this.endExclusive,e.endExclusive);return Math.max(0,n-t)}intersects(e){let t=Math.max(this.start,e.start),n=Math.min(this.endExclusive,e.endExclusive);return t<n}intersectsOrTouches(e){let t=Math.max(this.start,e.start),n=Math.min(this.endExclusive,e.endExclusive);return t<=n}isBefore(e){return this.endExclusive<=e.start}isAfter(e){return this.start>=e.endExclusive}slice(e){return e.slice(this.start,this.endExclusive)}substring(e){return e.substring(this.start,this.endExclusive)}clip(e){if(this.isEmpty)throw new le(`Invalid clipping range: ${this.toString()}`);return Math.max(this.start,Math.min(this.endExclusive-1,e))}clipCyclic(e){if(this.isEmpty)throw new le(`Invalid clipping range: ${this.toString()}`);return e<this.start?this.endExclusive-(this.start-e)%this.length:e>=this.endExclusive?this.start+(e-this.start)%this.length:e}map(e){let t=[];for(let n=this.start;n<this.endExclusive;n++)t.push(e(n));return t}forEach(e){for(let t=this.start;t<this.endExclusive;t++)e(t)}};var Sd=class r{constructor(e){this._tokenInfo=e}static create(e){return new r(e)}forEach(e){let t=0;for(let n of this._tokenInfo){let i=new Y(t,t+n.length);e(i,n),t+=n.length}}slice(e){let t=[],n=0;for(let i of this._tokenInfo){let o=n,s=o+i.length;if(s>e.start){if(o>=e.endExclusive)break;let a=Math.max(0,e.start-o),l=Math.max(0,s-e.endExclusive);t.push(new Ja(i.length-a-l,i.metadata))}n+=i.length}return r.create(t)}},Ja=class{constructor(e,t){this.length=e;this.metadata=t}},Za=class{_tokens=[];add(e,t){this._tokens.push(new Ja(e,t))}build(){return Sd.create(this._tokens)}};var et=class r{static createEmpty(e,t){let n=r.defaultTokenMetadata,i=new Uint32Array(2);return i[0]=e.length,i[1]=n,new r(i,e,t)}static createFromTextAndMetadata(e,t){let n=0,i="",o=new Array;for(let{text:s,metadata:a}of e)o.push(n+s.length,a),n+=s.length,i+=s;return new r(new Uint32Array(o),i,t)}static convertToEndOffset(e,t){let i=(e.length>>>1)-1;for(let o=0;o<i;o++)e[o<<1]=e[o+1<<1];e[i<<1]=t}static findIndexInTokensArray(e,t){if(e.length<=2)return 0;let n=0,i=(e.length>>>1)-1;for(;n<i;){let o=n+Math.floor((i-n)/2),s=e[o<<1];if(s===t)return o+1;s<t?n=o+1:s>t&&(i=o)}return n}_lineTokensBrand=void 0;_tokens;_tokensCount;_text;languageIdCodec;static defaultTokenMetadata=(32768|2<<24)>>>0;constructor(e,t,n){this._tokens=e,this._tokensCount=this._tokens.length>>>1,this._text=t,this.languageIdCodec=n}equals(e){return e instanceof r?this.slicedEquals(e,0,this._tokensCount):!1}slicedEquals(e,t,n){if(this._text!==e._text||this._tokensCount!==e._tokensCount)return!1;let i=t<<1,o=i+(n<<1);for(let s=i;s<o;s++)if(this._tokens[s]!==e._tokens[s])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(e){return e>0?this._tokens[e-1<<1]:0}getMetadata(e){return this._tokens[(e<<1)+1]}getLanguageId(e){let t=this._tokens[(e<<1)+1],n=Tt.getLanguageId(t);return this.languageIdCodec.decodeLanguageId(n)}getStandardTokenType(e){let t=this._tokens[(e<<1)+1];return Tt.getTokenType(t)}getForeground(e){let t=this._tokens[(e<<1)+1];return Tt.getForeground(t)}getClassName(e){let t=this._tokens[(e<<1)+1];return Tt.getClassNameFromMetadata(t)}getInlineStyle(e,t){let n=this._tokens[(e<<1)+1];return Tt.getInlineStyleFromMetadata(n,t)}getPresentation(e){let t=this._tokens[(e<<1)+1];return Tt.getPresentationFromMetadata(t)}getEndOffset(e){return this._tokens[e<<1]}findTokenIndexAtOffset(e){return r.findIndexInTokensArray(this._tokens,e)}inflate(){return this}sliceAndInflate(e,t,n){return new Ld(this,e,t,n)}withInserted(e){if(e.length===0)return this;let t=0,n=0,i="",o=new Array,s=0;for(;;){let a=t<this._tokensCount?this._tokens[t<<1]:-1,l=n<e.length?e[n]:null;if(a!==-1&&(l===null||a<=l.offset)){i+=this._text.substring(s,a);let u=this._tokens[(t<<1)+1];o.push(i.length,u),t++,s=a}else if(l){if(l.offset>s){i+=this._text.substring(s,l.offset);let u=this._tokens[(t<<1)+1];o.push(i.length,u),s=l.offset}i+=l.text,o.push(i.length,l.tokenMetadata),n++}else break}return new r(new Uint32Array(o),i,this.languageIdCodec)}getTokensInRange(e){let t=new Za,n=this.findTokenIndexAtOffset(e.start),i=this.findTokenIndexAtOffset(e.endExclusive);for(let o=n;o<=i;o++){let a=new Y(this.getStartOffset(o),this.getEndOffset(o)).intersectionLength(e);a>0&&t.add(a,this.getMetadata(o))}return t.build()}getTokenText(e){let t=this.getStartOffset(e),n=this.getEndOffset(e);return this._text.substring(t,n)}forEach(e){let t=this.getCount();for(let n=0;n<t;n++)e(n)}},Ld=class r{_source;_startOffset;_endOffset;_deltaOffset;_firstTokenIndex;_tokensCount;languageIdCodec;constructor(e,t,n,i){this._source=e,this._startOffset=t,this._endOffset=n,this._deltaOffset=i,this._firstTokenIndex=e.findTokenIndexAtOffset(t),this.languageIdCodec=e.languageIdCodec,this._tokensCount=0;for(let o=this._firstTokenIndex,s=e.getCount();o<s&&!(e.getStartOffset(o)>=n);o++)this._tokensCount++}getMetadata(e){return this._source.getMetadata(this._firstTokenIndex+e)}getLanguageId(e){return this._source.getLanguageId(this._firstTokenIndex+e)}getLineContent(){return this._source.getLineContent().substring(this._startOffset,this._endOffset)}equals(e){return e instanceof r?this._startOffset===e._startOffset&&this._endOffset===e._endOffset&&this._deltaOffset===e._deltaOffset&&this._source.slicedEquals(e._source,this._firstTokenIndex,this._tokensCount):!1}getCount(){return this._tokensCount}getStandardTokenType(e){return this._source.getStandardTokenType(this._firstTokenIndex+e)}getForeground(e){return this._source.getForeground(this._firstTokenIndex+e)}getEndOffset(e){let t=this._source.getEndOffset(this._firstTokenIndex+e);return Math.min(this._endOffset,t)-this._startOffset+this._deltaOffset}getClassName(e){return this._source.getClassName(this._firstTokenIndex+e)}getInlineStyle(e,t){return this._source.getInlineStyle(this._firstTokenIndex+e,t)}getPresentation(e){return this._source.getPresentation(this._firstTokenIndex+e)}findTokenIndexAtOffset(e){return this._source.findTokenIndexAtOffset(e+this._startOffset-this._deltaOffset)-this._firstTokenIndex}getTokenText(e){let t=this._firstTokenIndex+e,n=this._source.getStartOffset(t),i=this._source.getEndOffset(t),o=this._source.getTokenText(t);return n<this._startOffset&&(o=o.substring(this._startOffset-n)),i>this._endOffset&&(o=o.substring(0,o.length-(i-this._endOffset))),o}forEach(e){for(let t=0;t<this.getCount();t++)e(t)}};var dn=new Uint32Array(0).buffer,He=class r{static deleteBeginning(e,t){return e===null||e===dn?e:r.delete(e,0,t)}static deleteEnding(e,t){if(e===null||e===dn)return e;let n=gn(e),i=n[n.length-2];return r.delete(e,t,i)}static delete(e,t,n){if(e===null||e===dn||t===n)return e;let i=gn(e),o=i.length>>>1;if(t===0&&i[i.length-2]===n)return dn;let s=et.findIndexInTokensArray(i,t),a=s>0?i[s-1<<1]:0,l=i[s<<1];if(n<l){let p=n-t;for(let b=s;b<o;b++)i[b<<1]-=p;return e}let u,d;a!==t?(i[s<<1]=t,u=s+1<<1,d=t):(u=s<<1,d=a);let g=n-t;for(let p=s+1;p<o;p++){let b=i[p<<1]-g;b>d&&(i[u++]=b,i[u++]=i[(p<<1)+1],d=b)}if(u===i.length)return e;let h=new Uint32Array(u);return h.set(i.subarray(0,u),0),h.buffer}static append(e,t){if(t===dn)return e;if(e===dn)return t;if(e===null)return e;if(t===null)return null;let n=gn(e),i=gn(t),o=i.length>>>1,s=new Uint32Array(n.length+i.length);s.set(n,0);let a=n.length,l=n[n.length-2];for(let u=0;u<o;u++)s[a++]=i[u<<1]+l,s[a++]=i[(u<<1)+1];return s.buffer}static insert(e,t,n){if(e===null||e===dn)return e;let i=gn(e),o=i.length>>>1,s=et.findIndexInTokensArray(i,t);s>0&&i[s-1<<1]===t&&s--;for(let a=s;a<o;a++)i[a<<1]+=n;return e}};function gn(r){return r instanceof Uint32Array?r:new Uint32Array(r)}var ne=class r{static fromRange(e){return new r(e.startLineNumber,e.endLineNumber)}static fromRangeInclusive(e){return new r(e.startLineNumber,e.endLineNumber+1)}static subtract(e,t){return t?e.startLineNumber<t.startLineNumber&&t.endLineNumberExclusive<e.endLineNumberExclusive?[new r(e.startLineNumber,t.startLineNumber),new r(t.endLineNumberExclusive,e.endLineNumberExclusive)]:t.startLineNumber<=e.startLineNumber&&e.endLineNumberExclusive<=t.endLineNumberExclusive?[]:t.endLineNumberExclusive<e.endLineNumberExclusive?[new r(Math.max(t.endLineNumberExclusive,e.startLineNumber),e.endLineNumberExclusive)]:[new r(e.startLineNumber,Math.min(t.startLineNumber,e.endLineNumberExclusive))]:[e]}static joinMany(e){if(e.length===0)return[];let t=new jr(e[0].slice());for(let n=1;n<e.length;n++)t=t.getUnion(new jr(e[n].slice()));return t.ranges}static join(e){if(e.length===0)throw new le("lineRanges cannot be empty");let t=e[0].startLineNumber,n=e[0].endLineNumberExclusive;for(let i=1;i<e.length;i++)t=Math.min(t,e[i].startLineNumber),n=Math.max(n,e[i].endLineNumberExclusive);return new r(t,n)}static ofLength(e,t){return new r(e,e+t)}static deserialize(e){return new r(e[0],e[1])}startLineNumber;endLineNumberExclusive;constructor(e,t){if(e>t)throw new le(`startLineNumber ${e} cannot be after endLineNumberExclusive ${t}`);this.startLineNumber=e,this.endLineNumberExclusive=t}contains(e){return this.startLineNumber<=e&&e<this.endLineNumberExclusive}get isEmpty(){return this.startLineNumber===this.endLineNumberExclusive}delta(e){return new r(this.startLineNumber+e,this.endLineNumberExclusive+e)}deltaLength(e){return new r(this.startLineNumber,this.endLineNumberExclusive+e)}get length(){return this.endLineNumberExclusive-this.startLineNumber}join(e){return new r(Math.min(this.startLineNumber,e.startLineNumber),Math.max(this.endLineNumberExclusive,e.endLineNumberExclusive))}toString(){return`[${this.startLineNumber},${this.endLineNumberExclusive})`}intersect(e){let t=Math.max(this.startLineNumber,e.startLineNumber),n=Math.min(this.endLineNumberExclusive,e.endLineNumberExclusive);if(t<=n)return new r(t,n)}intersectsStrict(e){return this.startLineNumber<e.endLineNumberExclusive&&e.startLineNumber<this.endLineNumberExclusive}overlapOrTouch(e){return this.startLineNumber<=e.endLineNumberExclusive&&e.startLineNumber<=this.endLineNumberExclusive}equals(e){return this.startLineNumber===e.startLineNumber&&this.endLineNumberExclusive===e.endLineNumberExclusive}toInclusiveRange(){return this.isEmpty?null:new R(this.startLineNumber,1,this.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER)}toExclusiveRange(){return new R(this.startLineNumber,1,this.endLineNumberExclusive,1)}mapToLineArray(e){let t=[];for(let n=this.startLineNumber;n<this.endLineNumberExclusive;n++)t.push(e(n));return t}forEach(e){for(let t=this.startLineNumber;t<this.endLineNumberExclusive;t++)e(t)}serialize(){return[this.startLineNumber,this.endLineNumberExclusive]}includes(e){return this.startLineNumber<=e&&e<this.endLineNumberExclusive}toOffsetRange(){return new Y(this.startLineNumber-1,this.endLineNumberExclusive-1)}},jr=class r{constructor(e=[]){this._normalizedRanges=e}get ranges(){return this._normalizedRanges}addRange(e){if(e.length===0)return;let t=wo(this._normalizedRanges,i=>i.endLineNumberExclusive>=e.startLineNumber),n=Xn(this._normalizedRanges,i=>i.startLineNumber<=e.endLineNumberExclusive)+1;if(t===n)this._normalizedRanges.splice(t,0,e);else if(t===n-1){let i=this._normalizedRanges[t];this._normalizedRanges[t]=i.join(e)}else{let i=this._normalizedRanges[t].join(this._normalizedRanges[n-1]).join(e);this._normalizedRanges.splice(t,n-t,i)}}contains(e){let t=An(this._normalizedRanges,n=>n.startLineNumber<=e);return!!t&&t.endLineNumberExclusive>e}intersects(e){let t=An(this._normalizedRanges,n=>n.startLineNumber<e.endLineNumberExclusive);return!!t&&t.endLineNumberExclusive>e.startLineNumber}getUnion(e){if(this._normalizedRanges.length===0)return e;if(e._normalizedRanges.length===0)return this;let t=[],n=0,i=0,o=null;for(;n<this._normalizedRanges.length||i<e._normalizedRanges.length;){let s=null;if(n<this._normalizedRanges.length&&i<e._normalizedRanges.length){let a=this._normalizedRanges[n],l=e._normalizedRanges[i];a.startLineNumber<l.startLineNumber?(s=a,n++):(s=l,i++)}else n<this._normalizedRanges.length?(s=this._normalizedRanges[n],n++):(s=e._normalizedRanges[i],i++);o===null?o=s:o.endLineNumberExclusive>=s.startLineNumber?o=new ne(o.startLineNumber,Math.max(o.endLineNumberExclusive,s.endLineNumberExclusive)):(t.push(o),o=s)}return o!==null&&t.push(o),new r(t)}subtractFrom(e){let t=wo(this._normalizedRanges,s=>s.endLineNumberExclusive>=e.startLineNumber),n=Xn(this._normalizedRanges,s=>s.startLineNumber<=e.endLineNumberExclusive)+1;if(t===n)return new r([e]);let i=[],o=e.startLineNumber;for(let s=t;s<n;s++){let a=this._normalizedRanges[s];a.startLineNumber>o&&i.push(new ne(o,a.startLineNumber)),o=a.endLineNumberExclusive}return o<e.endLineNumberExclusive&&i.push(new ne(o,e.endLineNumberExclusive)),new r(i)}toString(){return this._normalizedRanges.map(e=>e.toString()).join(", ")}getIntersection(e){let t=[],n=0,i=0;for(;n<this._normalizedRanges.length&&i<e._normalizedRanges.length;){let o=this._normalizedRanges[n],s=e._normalizedRanges[i],a=o.intersect(s);a&&!a.isEmpty&&t.push(a),o.endLineNumberExclusive<s.endLineNumberExclusive?n++:i++}return new r(t)}getWithDelta(e){return new r(this._normalizedRanges.map(t=>t.delta(e)))}};var Xo=class r{static deserialize(e,t,n){let i=new Uint32Array(e.buffer),o=Ge(e,t);t+=4;let s=Ge(e,t);t+=4;let a=[];for(let l=0;l<s;l++){let u=Ge(e,t);t+=4,a.push(i.subarray(t/4,t/4+u/4)),t+=u}return n.push(new r(o,a)),t}_startLineNumber;_tokens;get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._startLineNumber+this._tokens.length-1}constructor(e,t){this._startLineNumber=e,this._tokens=t}getLineRange(){return new ne(this._startLineNumber,this._startLineNumber+this._tokens.length)}getLineTokens(e){return this._tokens[e-this._startLineNumber]}appendLineTokens(e){this._tokens.push(e)}serializeSize(){let e=0;e+=4,e+=4;for(let t=0;t<this._tokens.length;t++){let n=this._tokens[t];if(!(n instanceof Uint32Array))throw new Error("Not supported!");e+=4,e+=n.byteLength}return e}serialize(e,t){je(e,this._startLineNumber,t),t+=4,je(e,this._tokens.length,t),t+=4;for(let n=0;n<this._tokens.length;n++){let i=this._tokens[n];if(!(i instanceof Uint32Array))throw new Error("Not supported!");je(e,i.byteLength,t),t+=4,e.set(new Uint8Array(i.buffer),t),t+=i.byteLength}return t}applyEdit(e,t){let[n,i]=pt(t);this._acceptDeleteRange(e),this._acceptInsertText(new $(e.startLineNumber,e.startColumn),n,i)}_acceptDeleteRange(e){if(e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn)return;let t=e.startLineNumber-this._startLineNumber,n=e.endLineNumber-this._startLineNumber;if(n<0){let i=n-t;this._startLineNumber-=i;return}if(!(t>=this._tokens.length)){if(t<0&&n>=this._tokens.length){this._startLineNumber=0,this._tokens=[];return}if(t===n){this._tokens[t]=He.delete(this._tokens[t],e.startColumn-1,e.endColumn-1);return}if(t>=0)if(this._tokens[t]=He.deleteEnding(this._tokens[t],e.startColumn-1),n<this._tokens.length){let i=He.deleteBeginning(this._tokens[n],e.endColumn-1);this._tokens[t]=He.append(this._tokens[t],i),this._tokens.splice(t+1,n-t)}else this._tokens[t]=He.append(this._tokens[t],null),this._tokens=this._tokens.slice(0,t+1);else{let i=-t;this._startLineNumber-=i,this._tokens[n]=He.deleteBeginning(this._tokens[n],e.endColumn-1),this._tokens=this._tokens.slice(n)}}}_acceptInsertText(e,t,n){if(t===0&&n===0)return;let i=e.lineNumber-this._startLineNumber;if(i<0){this._startLineNumber+=t;return}if(!(i>=this._tokens.length)){if(t===0){this._tokens[i]=He.insert(this._tokens[i],e.column-1,n);return}this._tokens[i]=He.deleteEnding(this._tokens[i],e.column-1),this._tokens[i]=He.insert(this._tokens[i],e.column-1,n),this._insertLines(e.lineNumber,t)}}_insertLines(e,t){if(t===0)return;let n=[];for(let i=0;i<t;i++)n[i]=null;this._tokens=Mn(this._tokens,e,n)}};var el=(i=>(i[i.Ignore=0]="Ignore",i[i.Info=1]="Info",i[i.Warning=2]="Warning",i[i.Error=3]="Error",i))(el||{});(a=>{let r="error",e="warning",t="warn",n="info",i="ignore";function o(l){return l?un(r,l)?3:un(e,l)||un(t,l)?2:un(n,l)?1:0:0}a.fromValue=o;function s(l){switch(l){case 3:return r;case 2:return e;case 1:return n;default:return i}}a.toString=s})(el||={});var zn=el;function Ed(...r){switch(r.length){case 1:return c("contextkey.scanner.hint.didYouMean1","Did you mean {0}?",r[0]);case 2:return c("contextkey.scanner.hint.didYouMean2","Did you mean {0} or {1}?",r[0],r[1]);case 3:return c("contextkey.scanner.hint.didYouMean3","Did you mean {0}, {1} or {2}?",r[0],r[1],r[2]);default:return}}var ky=c("contextkey.scanner.hint.didYouForgetToOpenOrCloseQuote","Did you forget to open or close the quote?"),_y=c("contextkey.scanner.hint.didYouForgetToEscapeSlash","Did you forget to escape the '/' (slash) character? Put two backslashes before it to escape, e.g., '\\\\/'."),pr=class r{static getLexeme(e){switch(e.type){case 0:return"(";case 1:return")";case 2:return"!";case 3:return e.isTripleEq?"===":"==";case 4:return e.isTripleEq?"!==":"!=";case 5:return"<";case 6:return"<=";case 7:return">=";case 8:return">=";case 9:return"=~";case 10:return e.lexeme;case 11:return"true";case 12:return"false";case 13:return"in";case 14:return"not";case 15:return"&&";case 16:return"||";case 17:return e.lexeme;case 18:return e.lexeme;case 19:return e.lexeme;case 20:return"EOF";default:throw Fh(`unhandled token type: ${JSON.stringify(e)}; have you forgotten to add a case?`)}}static _regexFlags=new Set(["i","g","s","m","y","u"].map(e=>e.charCodeAt(0)));static _keywords=new Map([["not",14],["in",13],["false",12],["true",11]]);_input="";_start=0;_current=0;_tokens=[];_errors=[];get errors(){return this._errors}reset(e){return this._input=e,this._start=0,this._current=0,this._tokens=[],this._errors=[],this}scan(){for(;!this._isAtEnd();)switch(this._start=this._current,this._advance()){case 40:this._addToken(0);break;case 41:this._addToken(1);break;case 33:if(this._match(61)){let t=this._match(61);this._tokens.push({type:4,offset:this._start,isTripleEq:t})}else this._addToken(2);break;case 39:this._quotedString();break;case 47:this._regex();break;case 61:if(this._match(61)){let t=this._match(61);this._tokens.push({type:3,offset:this._start,isTripleEq:t})}else this._match(126)?this._addToken(9):this._error(Ed("==","=~"));break;case 60:this._addToken(this._match(61)?6:5);break;case 62:this._addToken(this._match(61)?8:7);break;case 38:this._match(38)?this._addToken(15):this._error(Ed("&&"));break;case 124:this._match(124)?this._addToken(16):this._error(Ed("||"));break;case 32:case 13:case 9:case 10:case 160:break;default:this._string()}return this._start=this._current,this._addToken(20),Array.from(this._tokens)}_match(e){return this._isAtEnd()||this._input.charCodeAt(this._current)!==e?!1:(this._current++,!0)}_advance(){return this._input.charCodeAt(this._current++)}_peek(){return this._isAtEnd()?0:this._input.charCodeAt(this._current)}_addToken(e){this._tokens.push({type:e,offset:this._start})}_error(e){let t=this._start,n=this._input.substring(this._start,this._current),i={type:19,offset:this._start,lexeme:n};this._errors.push({offset:t,lexeme:n,additionalInfo:e}),this._tokens.push(i)}stringRe=/[a-zA-Z0-9_<>\-\./\\:\*\?\+\[\]\^,#@;"%\$\p{L}-]+/uy;_string(){this.stringRe.lastIndex=this._start;let e=this.stringRe.exec(this._input);if(e){this._current=this._start+e[0].length;let t=this._input.substring(this._start,this._current),n=r._keywords.get(t);n?this._addToken(n):this._tokens.push({type:17,lexeme:t,offset:this._start})}}_quotedString(){for(;this._peek()!==39&&!this._isAtEnd();)this._advance();if(this._isAtEnd()){this._error(ky);return}this._advance(),this._tokens.push({type:18,lexeme:this._input.substring(this._start+1,this._current-1),offset:this._start+1})}_regex(){let e=this._current,t=!1,n=!1;for(;;){if(e>=this._input.length){this._current=e,this._error(_y);return}let o=this._input.charCodeAt(e);if(t)t=!1;else if(o===47&&!n){e++;break}else o===91?n=!0:o===92?t=!0:o===93&&(n=!1);e++}for(;e<this._input.length&&r._regexFlags.has(this._input.charCodeAt(e));)e++;this._current=e;let i=this._input.substring(this._start,this._current);this._tokens.push({type:10,lexeme:i,offset:this._start})}_isAtEnd(){return this._current>=this._input.length}};var Jo=class{ctor;staticArguments;supportsDelayedInstantiation;constructor(e,t=[],n=!1){this.ctor=e,this.staticArguments=t,this.supportsDelayedInstantiation=n}};var mr;(i=>{i.serviceIds=new Map,i.DI_TARGET="$di$target",i.DI_DEPENDENCIES="$di$dependencies";function n(o){return o[i.DI_DEPENDENCIES]||[]}i.getServiceDependencies=n})(mr||={});var _m=de("instantiationService");function Sy(r,e,t){e[mr.DI_TARGET]===e?e[mr.DI_DEPENDENCIES].push({id:r,index:t}):(e[mr.DI_DEPENDENCIES]=[{id:r,index:t}],e[mr.DI_TARGET]=e)}function de(r){if(mr.serviceIds.has(r))return mr.serviceIds.get(r);let e=function(t,n,i){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");Sy(e,t,i)};return e.toString=()=>r,mr.serviceIds.set(r,e),e}var $e=new Map;$e.set("false",!1);$e.set("true",!0);$e.set("isMac",qe);$e.set("isLinux",Ft);$e.set("isWindows",vt);$e.set("isWeb",Fr);$e.set("isMacNative",qe&&!Fr);$e.set("isEdge",np);$e.set("isFirefox",ep);$e.set("isChrome",mc);$e.set("isSafari",tp);var Ly=Object.prototype.hasOwnProperty;var wy={regexParsingWithErrorRecovery:!0},Ey=c("contextkey.parser.error.emptyString","Empty context key expression"),Ry=c("contextkey.parser.error.emptyString.hint","Did you forget to write an expression? You can also put 'false' or 'true' to always evaluate to false or true, respectively."),Dy=c("contextkey.parser.error.noInAfterNot","'in' after 'not'."),Sm=c("contextkey.parser.error.closingParenthesis","closing parenthesis ')'"),Ay=c("contextkey.parser.error.unexpectedToken","Unexpected token"),Ny=c("contextkey.parser.error.unexpectedToken.hint","Did you forget to put && or || before the token?"),My=c("contextkey.parser.error.unexpectedEOF","Unexpected end of expression"),Oy=c("contextkey.parser.error.unexpectedEOF.hint","Did you forget to put a context key?"),Rd=class r{constructor(e=wy){this._config=e}static _parseError=new Error;_scanner=new pr;_tokens=[];_current=0;_parsingErrors=[];get lexingErrors(){return this._scanner.errors}get parsingErrors(){return this._parsingErrors}parse(e){if(e===""){this._parsingErrors.push({message:Ey,offset:0,lexeme:"",additionalInfo:Ry});return}this._tokens=this._scanner.reset(e).scan(),this._current=0,this._parsingErrors=[];try{let t=this._expr();if(!this._isAtEnd()){let n=this._peek(),i=n.type===17?Ny:void 0;throw this._parsingErrors.push({message:Ay,offset:n.offset,lexeme:pr.getLexeme(n),additionalInfo:i}),r._parseError}return t}catch(t){if(t!==r._parseError)throw t;return}}_expr(){return this._or()}_or(){let e=[this._and()];for(;this._matchOne(16);){let t=this._and();e.push(t)}return e.length===1?e[0]:tt.or(...e)}_and(){let e=[this._term()];for(;this._matchOne(15);){let t=this._term();e.push(t)}return e.length===1?e[0]:tt.and(...e)}_term(){if(this._matchOne(2)){let e=this._peek();switch(e.type){case 11:return this._advance(),it.INSTANCE;case 12:return this._advance(),ut.INSTANCE;case 0:{this._advance();let t=this._expr();return this._consume(1,Sm),t?.negate()}case 17:return this._advance(),Yr.create(e.lexeme);default:throw this._errExpectedButGot("KEY | true | false | '(' expression ')'",e)}}return this._primary()}_primary(){let e=this._peek();switch(e.type){case 11:return this._advance(),tt.true();case 12:return this._advance(),tt.false();case 0:{this._advance();let t=this._expr();return this._consume(1,Sm),t}case 17:{let t=e.lexeme;if(this._advance(),this._matchOne(9)){let i=this._peek();if(!this._config.regexParsingWithErrorRecovery){if(this._advance(),i.type!==10)throw this._errExpectedButGot("REGEX",i);let o=i.lexeme,s=o.lastIndexOf("/"),a=s===o.length-1?void 0:this._removeFlagsGY(o.substring(s+1)),l;try{l=new RegExp(o.substring(1,s),a)}catch{throw this._errExpectedButGot("REGEX",i)}return ss.create(t,l)}switch(i.type){case 10:case 19:{let o=[i.lexeme];this._advance();let s=this._peek(),a=0;for(let h=0;h<i.lexeme.length;h++)i.lexeme.charCodeAt(h)===40?a++:i.lexeme.charCodeAt(h)===41&&a--;for(;!this._isAtEnd()&&s.type!==15&&s.type!==16;){switch(s.type){case 0:a++;break;case 1:a--;break;case 10:case 18:for(let h=0;h<s.lexeme.length;h++)s.lexeme.charCodeAt(h)===40?a++:i.lexeme.charCodeAt(h)===41&&a--}if(a<0)break;o.push(pr.getLexeme(s)),this._advance(),s=this._peek()}let l=o.join(""),u=l.lastIndexOf("/"),d=u===l.length-1?void 0:this._removeFlagsGY(l.substring(u+1)),g;try{g=new RegExp(l.substring(1,u),d)}catch{throw this._errExpectedButGot("REGEX",i)}return tt.regex(t,g)}case 18:{let o=i.lexeme;this._advance();let s=null;if(!Pp(o)){let a=o.indexOf("/"),l=o.lastIndexOf("/");if(a!==l&&a>=0){let u=o.slice(a+1,l),d=o[l+1]==="i"?"i":"";try{s=new RegExp(u,d)}catch{throw this._errExpectedButGot("REGEX",i)}}}if(s===null)throw this._errExpectedButGot("REGEX",i);return ss.create(t,s)}default:throw this._errExpectedButGot("REGEX",this._peek())}}if(this._matchOne(14)){this._consume(13,Dy);let i=this._value();return tt.notIn(t,i)}switch(this._peek().type){case 3:{this._advance();let i=this._value();if(this._previous().type===18)return tt.equals(t,i);switch(i){case"true":return tt.has(t);case"false":return tt.not(t);default:return tt.equals(t,i)}}case 4:{this._advance();let i=this._value();if(this._previous().type===18)return tt.notEquals(t,i);switch(i){case"true":return tt.not(t);case"false":return tt.has(t);default:return tt.notEquals(t,i)}}case 5:return this._advance(),is.create(t,this._value());case 6:return this._advance(),os.create(t,this._value());case 7:return this._advance(),ns.create(t,this._value());case 8:return this._advance(),rs.create(t,this._value());case 13:return this._advance(),tt.in(t,this._value());default:return tt.has(t)}}case 20:throw this._parsingErrors.push({message:My,offset:e.offset,lexeme:"",additionalInfo:Oy}),r._parseError;default:throw this._errExpectedButGot(`true | false | KEY 
	| KEY '=~' REGEX 
	| KEY ('==' | '!=' | '<' | '<=' | '>' | '>=' | 'in' | 'not' 'in') value`,this._peek())}}_value(){let e=this._peek();switch(e.type){case 17:case 18:return this._advance(),e.lexeme;case 11:return this._advance(),"true";case 12:return this._advance(),"false";case 13:return this._advance(),"in";default:return""}}_flagsGYRe=/g|y/g;_removeFlagsGY(e){return e.replaceAll(this._flagsGYRe,"")}_previous(){return this._tokens[this._current-1]}_matchOne(e){return this._check(e)?(this._advance(),!0):!1}_advance(){return this._isAtEnd()||this._current++,this._previous()}_consume(e,t){if(this._check(e))return this._advance();throw this._errExpectedButGot(t,this._peek())}_errExpectedButGot(e,t,n){let i=c("contextkey.parser.error.expectedButGot",`Expected: {0}
Received: '{1}'.`,e,pr.getLexeme(t)),o=t.offset,s=pr.getLexeme(t);return this._parsingErrors.push({message:i,offset:o,lexeme:s,additionalInfo:n}),r._parseError}_check(e){return this._peek().type===e}_peek(){return this._tokens[this._current]}_isAtEnd(){return this._peek().type===20}},tt=class{static false(){return it.INSTANCE}static true(){return ut.INSTANCE}static has(e){return $r.create(e)}static equals(e,t){return es.create(e,t)}static notEquals(e,t){return ts.create(e,t)}static regex(e,t){return ss.create(e,t)}static in(e,t){return tl.create(e,t)}static notIn(e,t){return nl.create(e,t)}static not(e){return Yr.create(e)}static and(...e){return rl.create(e,null,!0)}static or(...e){return as.create(e,null,!0)}static greater(e,t){return ns.create(e,t)}static greaterEquals(e,t){return rs.create(e,t)}static smaller(e,t){return is.create(e,t)}static smallerEquals(e,t){return os.create(e,t)}static _parser=new Rd({regexParsingWithErrorRecovery:!1});static deserialize(e){return e==null?void 0:this._parser.parse(e)}};function Zo(r,e){return r.cmp(e)}var it=class r{static INSTANCE=new r;type=0;constructor(){}cmp(e){return this.type-e.type}equals(e){return e.type===this.type}substituteConstants(){return this}evaluate(e){return!1}serialize(){return"false"}keys(){return[]}map(e){return this}negate(){return ut.INSTANCE}},ut=class r{static INSTANCE=new r;type=1;constructor(){}cmp(e){return this.type-e.type}equals(e){return e.type===this.type}substituteConstants(){return this}evaluate(e){return!0}serialize(){return"true"}keys(){return[]}map(e){return this}negate(){return it.INSTANCE}},$r=class r{constructor(e,t){this.key=e;this.negated=t}static create(e,t=null){let n=$e.get(e);return typeof n=="boolean"?n?ut.INSTANCE:it.INSTANCE:new r(e,t)}type=2;cmp(e){return e.type!==this.type?this.type-e.type:Em(this.key,e.key)}equals(e){return e.type===this.type?this.key===e.key:!1}substituteConstants(){let e=$e.get(this.key);return typeof e=="boolean"?e?ut.INSTANCE:it.INSTANCE:this}evaluate(e){return!!e.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}map(e){return e.mapDefined(this.key)}negate(){return this.negated||(this.negated=Yr.create(this.key,this)),this.negated}},es=class r{constructor(e,t,n){this.key=e;this.value=t;this.negated=n}static create(e,t,n=null){if(typeof t=="boolean")return t?$r.create(e,n):Yr.create(e,n);let i=$e.get(e);return typeof i=="boolean"?t===(i?"true":"false")?ut.INSTANCE:it.INSTANCE:new r(e,t,n)}type=4;cmp(e){return e.type!==this.type?this.type-e.type:Qr(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){let e=$e.get(this.key);if(typeof e=="boolean"){let t=e?"true":"false";return this.value===t?ut.INSTANCE:it.INSTANCE}return this}evaluate(e){return e.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}map(e){return e.mapEquals(this.key,this.value)}negate(){return this.negated||(this.negated=ts.create(this.key,this.value,this)),this.negated}},tl=class r{constructor(e,t){this.key=e;this.valueKey=t}static create(e,t){return new r(e,t)}type=10;negated=null;cmp(e){return e.type!==this.type?this.type-e.type:Qr(this.key,this.valueKey,e.key,e.valueKey)}equals(e){return e.type===this.type?this.key===e.key&&this.valueKey===e.valueKey:!1}substituteConstants(){return this}evaluate(e){let t=e.getValue(this.valueKey),n=e.getValue(this.key);return Array.isArray(t)?t.includes(n):typeof n=="string"&&typeof t=="object"&&t!==null?Ly.call(t,n):!1}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}map(e){return e.mapIn(this.key,this.valueKey)}negate(){return this.negated||(this.negated=nl.create(this.key,this.valueKey)),this.negated}},nl=class r{constructor(e,t){this.key=e;this.valueKey=t;this._negated=tl.create(e,t)}static create(e,t){return new r(e,t)}type=11;_negated;cmp(e){return e.type!==this.type?this.type-e.type:this._negated.cmp(e._negated)}equals(e){return e.type===this.type?this._negated.equals(e._negated):!1}substituteConstants(){return this}evaluate(e){return!this._negated.evaluate(e)}serialize(){return`${this.key} not in '${this.valueKey}'`}keys(){return this._negated.keys()}map(e){return e.mapNotIn(this.key,this.valueKey)}negate(){return this._negated}},ts=class r{constructor(e,t,n){this.key=e;this.value=t;this.negated=n}static create(e,t,n=null){if(typeof t=="boolean")return t?Yr.create(e,n):$r.create(e,n);let i=$e.get(e);return typeof i=="boolean"?t===(i?"true":"false")?it.INSTANCE:ut.INSTANCE:new r(e,t,n)}type=5;cmp(e){return e.type!==this.type?this.type-e.type:Qr(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){let e=$e.get(this.key);if(typeof e=="boolean"){let t=e?"true":"false";return this.value===t?it.INSTANCE:ut.INSTANCE}return this}evaluate(e){return e.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}map(e){return e.mapNotEquals(this.key,this.value)}negate(){return this.negated||(this.negated=es.create(this.key,this.value,this)),this.negated}},Yr=class r{constructor(e,t){this.key=e;this.negated=t}static create(e,t=null){let n=$e.get(e);return typeof n=="boolean"?n?it.INSTANCE:ut.INSTANCE:new r(e,t)}type=3;cmp(e){return e.type!==this.type?this.type-e.type:Em(this.key,e.key)}equals(e){return e.type===this.type?this.key===e.key:!1}substituteConstants(){let e=$e.get(this.key);return typeof e=="boolean"?e?it.INSTANCE:ut.INSTANCE:this}evaluate(e){return!e.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}map(e){return e.mapNot(this.key)}negate(){return this.negated||(this.negated=$r.create(this.key,this)),this.negated}};function il(r,e){if(typeof r=="string"){let t=parseFloat(r);isNaN(t)||(r=t)}return typeof r=="string"||typeof r=="number"?e(r):it.INSTANCE}var ns=class r{constructor(e,t,n){this.key=e;this.value=t;this.negated=n}static create(e,t,n=null){return il(t,i=>new r(e,i,n))}type=12;cmp(e){return e.type!==this.type?this.type-e.type:Qr(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}map(e){return e.mapGreater(this.key,this.value)}negate(){return this.negated||(this.negated=os.create(this.key,this.value,this)),this.negated}},rs=class r{constructor(e,t,n){this.key=e;this.value=t;this.negated=n}static create(e,t,n=null){return il(t,i=>new r(e,i,n))}type=13;cmp(e){return e.type!==this.type?this.type-e.type:Qr(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}map(e){return e.mapGreaterEquals(this.key,this.value)}negate(){return this.negated||(this.negated=is.create(this.key,this.value,this)),this.negated}},is=class r{constructor(e,t,n){this.key=e;this.value=t;this.negated=n}static create(e,t,n=null){return il(t,i=>new r(e,i,n))}type=14;cmp(e){return e.type!==this.type?this.type-e.type:Qr(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}map(e){return e.mapSmaller(this.key,this.value)}negate(){return this.negated||(this.negated=rs.create(this.key,this.value,this)),this.negated}},os=class r{constructor(e,t,n){this.key=e;this.value=t;this.negated=n}static create(e,t,n=null){return il(t,i=>new r(e,i,n))}type=15;cmp(e){return e.type!==this.type?this.type-e.type:Qr(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}map(e){return e.mapSmallerEquals(this.key,this.value)}negate(){return this.negated||(this.negated=ns.create(this.key,this.value,this)),this.negated}},ss=class r{constructor(e,t){this.key=e;this.regexp=t}static create(e,t){return new r(e,t)}type=7;negated=null;cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.key<e.key)return-1;if(this.key>e.key)return 1;let t=this.regexp?this.regexp.source:"",n=e.regexp?e.regexp.source:"";return t<n?-1:t>n?1:0}equals(e){if(e.type===this.type){let t=this.regexp?this.regexp.source:"",n=e.regexp?e.regexp.source:"";return this.key===e.key&&t===n}return!1}substituteConstants(){return this}evaluate(e){let t=e.getValue(this.key);return this.regexp?this.regexp.test(t):!1}serialize(){let e=this.regexp?`/${this.regexp.source}/${this.regexp.flags}`:"/invalid/";return`${this.key} =~ ${e}`}keys(){return[this.key]}map(e){return e.mapRegex(this.key,this.regexp)}negate(){return this.negated||(this.negated=Dd.create(this)),this.negated}},Dd=class r{constructor(e){this._actual=e}static create(e){return new r(e)}type=8;cmp(e){return e.type!==this.type?this.type-e.type:this._actual.cmp(e._actual)}equals(e){return e.type===this.type?this._actual.equals(e._actual):!1}substituteConstants(){return this}evaluate(e){return!this._actual.evaluate(e)}serialize(){return`!(${this._actual.serialize()})`}keys(){return this._actual.keys()}map(e){return new r(this._actual.map(e))}negate(){return this._actual}};function wm(r){let e=null;for(let t=0,n=r.length;t<n;t++){let i=r[t].substituteConstants();if(r[t]!==i&&e===null){e=[];for(let o=0;o<t;o++)e[o]=r[o]}e!==null&&(e[t]=i)}return e===null?r:e}var rl=class r{constructor(e,t){this.expr=e;this.negated=t}static create(e,t,n){return r._normalizeArr(e,t,n)}type=6;cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.expr.length<e.expr.length)return-1;if(this.expr.length>e.expr.length)return 1;for(let t=0,n=this.expr.length;t<n;t++){let i=Zo(this.expr[t],e.expr[t]);if(i!==0)return i}return 0}equals(e){if(e.type===this.type){if(this.expr.length!==e.expr.length)return!1;for(let t=0,n=this.expr.length;t<n;t++)if(!this.expr[t].equals(e.expr[t]))return!1;return!0}return!1}substituteConstants(){let e=wm(this.expr);return e===this.expr?this:r.create(e,this.negated,!1)}evaluate(e){for(let t=0,n=this.expr.length;t<n;t++)if(!this.expr[t].evaluate(e))return!1;return!0}static _normalizeArr(e,t,n){let i=[],o=!1;for(let s of e)if(s){if(s.type===1){o=!0;continue}if(s.type===0)return it.INSTANCE;if(s.type===6){i.push(...s.expr);continue}i.push(s)}if(i.length===0&&o)return ut.INSTANCE;if(i.length!==0){if(i.length===1)return i[0];i.sort(Zo);for(let s=1;s<i.length;s++)i[s-1].equals(i[s])&&(i.splice(s,1),s--);if(i.length===1)return i[0];for(;i.length>1;){let s=i[i.length-1];if(s.type!==9)break;i.pop();let a=i.pop(),l=i.length===0,u=as.create(s.expr.map(d=>r.create([d,a],null,n)),null,l);u&&(i.push(u),i.sort(Zo))}if(i.length===1)return i[0];if(n){for(let s=0;s<i.length;s++)for(let a=s+1;a<i.length;a++)if(i[s].negate().equals(i[a]))return it.INSTANCE;if(i.length===1)return i[0]}return new r(i,t)}}serialize(){return this.expr.map(e=>e.serialize()).join(" && ")}keys(){let e=[];for(let t of this.expr)e.push(...t.keys());return e}map(e){return new r(this.expr.map(t=>t.map(e)),null)}negate(){if(!this.negated){let e=[];for(let t of this.expr)e.push(t.negate());this.negated=as.create(e,this,!0)}return this.negated}},as=class r{constructor(e,t){this.expr=e;this.negated=t}static create(e,t,n){return r._normalizeArr(e,t,n)}type=9;cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.expr.length<e.expr.length)return-1;if(this.expr.length>e.expr.length)return 1;for(let t=0,n=this.expr.length;t<n;t++){let i=Zo(this.expr[t],e.expr[t]);if(i!==0)return i}return 0}equals(e){if(e.type===this.type){if(this.expr.length!==e.expr.length)return!1;for(let t=0,n=this.expr.length;t<n;t++)if(!this.expr[t].equals(e.expr[t]))return!1;return!0}return!1}substituteConstants(){let e=wm(this.expr);return e===this.expr?this:r.create(e,this.negated,!1)}evaluate(e){for(let t=0,n=this.expr.length;t<n;t++)if(this.expr[t].evaluate(e))return!0;return!1}static _normalizeArr(e,t,n){let i=[],o=!1;if(e){for(let s=0,a=e.length;s<a;s++){let l=e[s];if(l){if(l.type===0){o=!0;continue}if(l.type===1)return ut.INSTANCE;if(l.type===9){i=i.concat(l.expr);continue}i.push(l)}}if(i.length===0&&o)return it.INSTANCE;i.sort(Zo)}if(i.length!==0){if(i.length===1)return i[0];for(let s=1;s<i.length;s++)i[s-1].equals(i[s])&&(i.splice(s,1),s--);if(i.length===1)return i[0];if(n){for(let s=0;s<i.length;s++)for(let a=s+1;a<i.length;a++)if(i[s].negate().equals(i[a]))return ut.INSTANCE;if(i.length===1)return i[0]}return new r(i,t)}}serialize(){return this.expr.map(e=>e.serialize()).join(" || ")}keys(){let e=[];for(let t of this.expr)e.push(...t.keys());return e}map(e){return new r(this.expr.map(t=>t.map(e)),null)}negate(){if(!this.negated){let e=[];for(let t of this.expr)e.push(t.negate());for(;e.length>1;){let t=e.shift(),n=e.shift(),i=[];for(let o of Lm(t))for(let s of Lm(n))i.push(rl.create([o,s],null,!1));e.unshift(r.create(i,null,!1))}this.negated=r.create(e,this,!0)}return this.negated}},zi=class r extends $r{static _info=[];static all(){return r._info.values()}_defaultValue;constructor(e,t,n){super(e,null),this._defaultValue=t,typeof n=="object"?r._info.push({...n,key:e}):n!==!0&&r._info.push({key:e,description:n,type:t!=null?typeof t:void 0})}bindTo(e){return e.createKey(this.key,this._defaultValue)}getValue(e){return e.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(e){return es.create(this.key,e)}notEqualsTo(e){return ts.create(this.key,e)}},MR=de("contextKeyService");function Em(r,e){return r<e?-1:r>e?1:0}function Qr(r,e,t,n){return r<t?-1:r>t?1:e<n?-1:e>n?1:0}function Lm(r){return r.type===9?r.expr:[r]}var BR=Object.freeze({View:Br("view","View"),Help:Br("help","Help"),Test:Br("test","Test"),File:Br("file","File"),Preferences:Br("preferences","Preferences"),Developer:Br({key:"developer",comment:["A developer on Code itself or someone diagnosing issues in Code"]},"Developer")});function Rm(r){let e=!1,t=new Map,n=new Map;if(Py(r,d=>{if(r===d)return!0;let g=JSON.stringify(d);if(g.length<30)return!0;let h=t.get(g);if(!h){let p={schemas:[d]};return t.set(g,p),n.set(d,p),!0}return h.schemas.push(d),n.set(d,h),e=!0,!1}),t.clear(),!e)return JSON.stringify(r);let o="$defs";for(;r.hasOwnProperty(o);)o+="_";let s=[];function a(d){return JSON.stringify(d,(g,h)=>{if(h!==d){let p=n.get(h);if(p&&p.schemas.length>1)return p.id||(p.id=`_${s.length}`,s.push(p.schemas[0])),{$ref:`#/${o}/${p.id}`}}return h})}let l=a(r),u=[];for(let d=0;d<s.length;d++)u.push(`"_${d}":${a(s[d])}`);return u.length?`${l.substring(0,l.length-1)},"${o}":{${u.join(",")}}}`:l}function Wi(r){return typeof r=="object"&&r!==null}function Py(r,e){if(!r||typeof r!="object")return;let t=(...l)=>{for(let u of l)Wi(u)&&s.push(u)},n=(...l)=>{for(let u of l)if(Wi(u))for(let d in u){let g=u[d];Wi(g)&&s.push(g)}},i=(...l)=>{for(let u of l)if(Array.isArray(u))for(let d of u)Wi(d)&&s.push(d)},o=l=>{if(Array.isArray(l))for(let u of l)Wi(u)&&s.push(u);else Wi(l)&&s.push(l)},s=[r],a=s.pop();for(;a;)e(a)&&(t(a.additionalItems,a.additionalProperties,a.not,a.contains,a.propertyNames,a.if,a.then,a.else,a.unevaluatedItems,a.unevaluatedProperties),n(a.definitions,a.$defs,a.properties,a.patternProperties,a.dependencies,a.dependentSchemas),i(a.anyOf,a.allOf,a.oneOf,a.prefixItems),o(a.items)),a=s.pop()}var By=de("commandService"),Dm=new class{_commands=new Map;_onDidRegisterCommand=new U;onDidRegisterCommand=this._onDidRegisterCommand.event;registerCommand(r,e){if(!r)throw new Error("invalid command");if(typeof r=="string"){if(!e)throw new Error("invalid command");return this.registerCommand({id:r,handler:e})}if(r.metadata&&Array.isArray(r.metadata.args)){let s=[];for(let l of r.metadata.args)s.push(l.constraint);let a=r.handler;r.handler=function(l,...u){return Kp(u,s),a(l,...u)}}let{id:t}=r,n=this._commands.get(t);n||(n=new Hr,this._commands.set(t,n));let i=n.unshift(r),o=Se(()=>{i(),this._commands.get(t)?.isEmpty()&&this._commands.delete(t)});return this._onDidRegisterCommand.fire(t),o}registerCommandAlias(r,e){return Dm.registerCommand(r,(t,...n)=>t.get(By).executeCommand(e,...n))}getCommand(r){let e=this._commands.get(r);if(!(!e||e.isEmpty()))return Bn.first(e)}getCommands(){let r=new Map;for(let e of this._commands.keys()){let t=this.getCommand(e);t&&r.set(e,t)}return r}};Dm.registerCommand("noop",()=>{});var Fy=de("environmentService"),v4=Fy;var O4=de("IBuiltinExtensionsScannerService");var ol=(i=>(i[i.Hint=1]="Hint",i[i.Info=2]="Info",i[i.Warning=4]="Warning",i[i.Error=8]="Error",i))(ol||{});(o=>{function r(s,a){return a-s}o.compare=r;let e=Object.create(null);e[8]=c("sev.error","Error"),e[4]=c("sev.warning","Warning"),e[2]=c("sev.info","Info");function t(s){return e[s]||""}o.toString=t;function n(s){switch(s){case zn.Error:return 8;case zn.Warning:return 4;case zn.Info:return 2;case zn.Ignore:return 1}}o.fromSeverity=n;function i(s){switch(s){case 8:return zn.Error;case 4:return zn.Warning;case 2:return zn.Info;case 1:return zn.Ignore}}o.toSeverity=i})(ol||={});var Uy;(n=>{let r="";function e(i){return t(i,!0)}n.makeKey=e;function t(i,o){let s=[r];return i.source?s.push(i.source.replace("\xA6","\\\xA6")):s.push(r),i.code?typeof i.code=="string"?s.push(i.code.replace("\xA6","\\\xA6")):s.push(i.code.value.replace("\xA6","\\\xA6")):s.push(r),i.severity!==void 0&&i.severity!==null?s.push(ol.toString(i.severity)):s.push(r),i.message&&o?s.push(i.message.replace("\xA6","\\\xA6")):s.push(r),i.startLineNumber!==void 0&&i.startLineNumber!==null?s.push(i.startLineNumber.toString()):s.push(r),i.startColumn!==void 0&&i.startColumn!==null?s.push(i.startColumn.toString()):s.push(r),i.endLineNumber!==void 0&&i.endLineNumber!==null?s.push(i.endLineNumber.toString()):s.push(r),i.endColumn!==void 0&&i.endColumn!==null?s.push(i.endColumn.toString()):s.push(r),s.push(r),s.join("\xA6")}n.makeKeyOptionalMessage=t})(Uy||={});var K4=de("markerService");var ls=class{constructor(e,t,n){this.offset=e;this.type=t;this.language=n}_tokenBrand=void 0;toString(){return"("+this.offset+", "+this.type+")"}};var sl=class{constructor(e,t){this.tokens=e;this.endState=t}_encodedTokenizationResultBrand=void 0};var zy;(i=>{let r=new Map;r.set(0,q.symbolMethod),r.set(1,q.symbolFunction),r.set(2,q.symbolConstructor),r.set(3,q.symbolField),r.set(4,q.symbolVariable),r.set(5,q.symbolClass),r.set(6,q.symbolStruct),r.set(7,q.symbolInterface),r.set(8,q.symbolModule),r.set(9,q.symbolProperty),r.set(10,q.symbolEvent),r.set(11,q.symbolOperator),r.set(12,q.symbolUnit),r.set(13,q.symbolValue),r.set(15,q.symbolEnum),r.set(14,q.symbolConstant),r.set(15,q.symbolEnum),r.set(16,q.symbolEnumMember),r.set(17,q.symbolKeyword),r.set(27,q.symbolSnippet),r.set(18,q.symbolText),r.set(19,q.symbolColor),r.set(20,q.symbolFile),r.set(21,q.symbolReference),r.set(22,q.symbolCustomColor),r.set(23,q.symbolFolder),r.set(24,q.symbolTypeParameter),r.set(25,q.account),r.set(26,q.issues);function e(o){let s=r.get(o);return s||(console.info("No codicon found for CompletionItemKind "+o),s=q.symbolProperty),s}i.toIcon=e;let t=new Map;t.set("method",0),t.set("function",1),t.set("constructor",2),t.set("field",3),t.set("variable",4),t.set("class",5),t.set("struct",6),t.set("interface",7),t.set("module",8),t.set("property",9),t.set("event",10),t.set("operator",11),t.set("unit",12),t.set("value",13),t.set("constant",14),t.set("enum",15),t.set("enum-member",16),t.set("enumMember",16),t.set("keyword",17),t.set("snippet",27),t.set("text",18),t.set("color",19),t.set("file",20),t.set("reference",21),t.set("customcolor",22),t.set("folder",23),t.set("type-parameter",24),t.set("typeParameter",24),t.set("account",25),t.set("issue",26);function n(o,s){let a=t.get(o);return typeof a>"u"&&!s&&(a=9),a}i.fromString=n})(zy||={});var P5={17:c("Array","array"),16:c("Boolean","boolean"),4:c("Class","class"),13:c("Constant","constant"),8:c("Constructor","constructor"),9:c("Enum","enumeration"),21:c("EnumMember","enumeration member"),23:c("Event","event"),7:c("Field","field"),0:c("File","file"),11:c("Function","function"),10:c("Interface","interface"),19:c("Key","key"),5:c("Method","method"),1:c("Module","module"),2:c("Namespace","namespace"),20:c("Null","null"),15:c("Number","number"),18:c("Object","object"),24:c("Operator","operator"),3:c("Package","package"),6:c("Property","property"),14:c("String","string"),22:c("Struct","struct"),25:c("TypeParameter","type parameter"),12:c("Variable","variable")};var Wy;(t=>{let r=new Map;r.set(0,q.symbolFile),r.set(1,q.symbolModule),r.set(2,q.symbolNamespace),r.set(3,q.symbolPackage),r.set(4,q.symbolClass),r.set(5,q.symbolMethod),r.set(6,q.symbolProperty),r.set(7,q.symbolField),r.set(8,q.symbolConstructor),r.set(9,q.symbolEnum),r.set(10,q.symbolInterface),r.set(11,q.symbolFunction),r.set(12,q.symbolVariable),r.set(13,q.symbolConstant),r.set(14,q.symbolString),r.set(15,q.symbolNumber),r.set(16,q.symbolBoolean),r.set(17,q.symbolArray),r.set(18,q.symbolObject),r.set(19,q.symbolKey),r.set(20,q.symbolNull),r.set(21,q.symbolEnumMember),r.set(22,q.symbolStruct),r.set(23,q.symbolEvent),r.set(24,q.symbolOperator),r.set(25,q.symbolTypeParameter);function e(n){let i=r.get(n);return i||(console.info("No codicon found for SymbolKind "+n),i=q.symbolProperty),i}t.toIcon=e})(Wy||={});var Am=class r{constructor(e){this.value=e}static Comment=new r("comment");static Imports=new r("imports");static Region=new r("region");static fromValue(e){switch(e){case"comment":return r.Comment;case"imports":return r.Imports;case"region":return r.Region}return new r(e)}};var Vy;(e=>{function r(t){return!t||typeof t!="object"?!1:typeof t.id=="string"&&typeof t.title=="string"}e.is=r})(Vy||={});var Ad=new Qo,us=new Qo;var Vi=de("languageService");var Nm=(e=>(e[e.value=3]="value",e))(Nm||{});function Nt(r){return(r&Nm.value)!==0}var Hi=class{open;close;_inString;_inComment;_inRegEx;_neutralCharacter=null;_neutralCharacterSearched=!1;constructor(e){if(this.open=e.open,this.close=e.close,this._inString=!0,this._inComment=!0,this._inRegEx=!0,Array.isArray(e.notIn))for(let t=0,n=e.notIn.length;t<n;t++)switch(e.notIn[t]){case"string":this._inString=!1;break;case"comment":this._inComment=!1;break;case"regex":this._inRegEx=!1;break}}isOK(e){switch(e){case 0:return!0;case 1:return this._inComment;case 2:return this._inString;case 3:return this._inRegEx}}shouldAutoClose(e,t){if(e.getTokenCount()===0)return!0;let n=e.findTokenIndexAtOffset(t-2),i=e.getStandardTokenType(n);return this.isOK(i)}_findNeutralCharacterInRange(e,t){for(let n=e;n<=t;n++){let i=String.fromCharCode(n);if(!this.open.includes(i)&&!this.close.includes(i))return i}return null}findNeutralCharacter(){return this._neutralCharacterSearched||(this._neutralCharacterSearched=!0,this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(48,57)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(97,122)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(65,90))),this._neutralCharacter}},al=class{autoClosingPairsOpenByStart;autoClosingPairsOpenByEnd;autoClosingPairsCloseByStart;autoClosingPairsCloseByEnd;autoClosingPairsCloseSingleChar;constructor(e){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(let t of e)cs(this.autoClosingPairsOpenByStart,t.open.charAt(0),t),cs(this.autoClosingPairsOpenByEnd,t.open.charAt(t.open.length-1),t),cs(this.autoClosingPairsCloseByStart,t.close.charAt(0),t),cs(this.autoClosingPairsCloseByEnd,t.close.charAt(t.close.length-1),t),t.close.length===1&&t.open.length===1&&cs(this.autoClosingPairsCloseSingleChar,t.close,t)}};function cs(r,e,t){r.has(e)?r.get(e).push(t):r.set(e,[t])}var Nd=class r{_richEditBracketBrand=void 0;languageId;index;open;close;forwardRegex;reversedRegex;_openSet;_closeSet;constructor(e,t,n,i,o,s){this.languageId=e,this.index=t,this.open=n,this.close=i,this.forwardRegex=o,this.reversedRegex=s,this._openSet=r._toSet(this.open),this._closeSet=r._toSet(this.close)}isOpen(e){return this._openSet.has(e)}isClose(e){return this._closeSet.has(e)}static _toSet(e){let t=new Set;for(let n of e)t.add(n);return t}};function Ky(r){let e=r.length;r=r.map(s=>[s[0].toLowerCase(),s[1].toLowerCase()]);let t=[];for(let s=0;s<e;s++)t[s]=s;let n=(s,a)=>{let[l,u]=s,[d,g]=a;return l===d||l===g||u===d||u===g},i=(s,a)=>{let l=Math.min(s,a),u=Math.max(s,a);for(let d=0;d<e;d++)t[d]===u&&(t[d]=l)};for(let s=0;s<e;s++){let a=r[s];for(let l=s+1;l<e;l++){let u=r[l];n(a,u)&&i(t[s],t[l])}}let o=[];for(let s=0;s<e;s++){let a=[],l=[];for(let u=0;u<e;u++)if(t[u]===s){let[d,g]=r[u];a.push(d),l.push(g)}a.length>0&&o.push({open:a,close:l})}return o}var ll=class{_richEditBracketsBrand=void 0;brackets;forwardRegex;reversedRegex;maxBracketLength;textIsBracket;textIsOpenBracket;constructor(e,t){let n=Ky(t);this.brackets=n.map((i,o)=>new Nd(e,o,i.open,i.close,qy(i.open,i.close,n,o),Gy(i.open,i.close,n,o))),this.forwardRegex=jy(this.brackets),this.reversedRegex=$y(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(let i of this.brackets){for(let o of i.open)this.textIsBracket[o]=i,this.textIsOpenBracket[o]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,o.length);for(let o of i.close)this.textIsBracket[o]=i,this.textIsOpenBracket[o]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,o.length)}}};function Mm(r,e,t,n){for(let i=0,o=e.length;i<o;i++){if(i===t)continue;let s=e[i];for(let a of s.open)a.indexOf(r)>=0&&n.push(a);for(let a of s.close)a.indexOf(r)>=0&&n.push(a)}}function Om(r,e){return r.length-e.length}function ul(r){if(r.length<=1)return r;let e=[],t=new Set;for(let n of r)t.has(n)||(e.push(n),t.add(n));return e}function qy(r,e,t,n){let i=[];i=i.concat(r),i=i.concat(e);for(let o=0,s=i.length;o<s;o++)Mm(i[o],t,n,i);return i=ul(i),i.sort(Om),i.reverse(),Ki(i)}function Gy(r,e,t,n){let i=[];i=i.concat(r),i=i.concat(e);for(let o=0,s=i.length;o<s;o++)Mm(i[o],t,n,i);return i=ul(i),i.sort(Om),i.reverse(),Ki(i.map(Md))}function jy(r){let e=[];for(let t of r){for(let n of t.open)e.push(n);for(let n of t.close)e.push(n)}return e=ul(e),Ki(e)}function $y(r){let e=[];for(let t of r){for(let n of t.open)e.push(n);for(let n of t.close)e.push(n)}return e=ul(e),Ki(e.map(Md))}function Yy(r){let e=/^[\w ]+$/.test(r);return r=At(r),e?`\\b${r}\\b`:r}function Ki(r,e){let t=`(${r.map(Yy).join(")|(")})`;return Ba(t,!0,e)}var Md=function(){function r(n){let i=new Uint16Array(n.length),o=0;for(let s=n.length-1;s>=0;s--)i[o++]=n.charCodeAt(s);return bm().decode(i)}let e=null,t=null;return function(i){return e!==i&&(e=i,t=r(e)),t}}(),ct=class{static _findPrevBracketInText(e,t,n,i){let o=n.match(e);if(!o)return null;let s=n.length-(o.index||0),a=o[0].length,l=i+s;return new R(t,l-a+1,t,l+1)}static findPrevBracketInRange(e,t,n,i,o){let a=Md(n).substring(n.length-o,n.length-i);return this._findPrevBracketInText(e,t,a,i)}static findNextBracketInText(e,t,n,i){let o=n.match(e);if(!o)return null;let s=o.index||0,a=o[0].length;if(a===0)return null;let l=i+s;return new R(t,l+1,t,l+1+a)}static findNextBracketInRange(e,t,n,i,o){let s=n.substring(i,o);return this.findNextBracketInText(e,t,s,i)}};var cl=class{constructor(e,t){this.languageId=e;let n=t.brackets?Pm(t.brackets):[],i=new Wo(a=>{let l=new Set;return{info:new Od(this,a,l),closing:l}}),o=new Wo(a=>{let l=new Set,u=new Set;return{info:new Pd(this,a,l,u),opening:l,openingColorized:u}});for(let[a,l]of n){let u=i.get(a),d=o.get(l);u.closing.add(d.info),d.opening.add(u.info)}let s=t.colorizedBracketPairs?Pm(t.colorizedBracketPairs):n.filter(a=>!(a[0]==="<"&&a[1]===">"));for(let[a,l]of s){let u=i.get(a),d=o.get(l);u.closing.add(d.info),d.openingColorized.add(u.info),d.opening.add(u.info)}this._openingBrackets=new Map([...i.cachedValues].map(([a,l])=>[a,l.info])),this._closingBrackets=new Map([...o.cachedValues].map(([a,l])=>[a,l.info]))}_openingBrackets;_closingBrackets;get openingBrackets(){return[...this._openingBrackets.values()]}get closingBrackets(){return[...this._closingBrackets.values()]}getOpeningBracketInfo(e){return this._openingBrackets.get(e)}getClosingBracketInfo(e){return this._closingBrackets.get(e)}getBracketInfo(e){return this.getOpeningBracketInfo(e)||this.getClosingBracketInfo(e)}getBracketRegExp(e){let t=Array.from([...this._openingBrackets.keys(),...this._closingBrackets.keys()]);return Ki(t,e)}};function Pm(r){return r.filter(([e,t])=>e!==""&&t!=="")}var dl=class{constructor(e,t){this.config=e;this.bracketText=t}get languageId(){return this.config.languageId}},Od=class extends dl{constructor(t,n,i){super(t,n);this.openedBrackets=i}isOpeningBracket=!0},Pd=class extends dl{constructor(t,n,i,o){super(t,n);this.openingBrackets=i;this.openingColorizedBrackets=o}isOpeningBracket=!1;closes(t){return t.config!==this.config?!1:this.openingBrackets.has(t)}closesColorized(t){return t.config!==this.config?!1:this.openingColorizedBrackets.has(t)}getOpeningBrackets(){return[...this.openingBrackets]}};var br=class r{static _nextVisibleColumn(e,t,n){return e===9?r.nextRenderTabStop(t,n):Up(e)||Hc(e)?t+2:t+1}static visibleColumnFromColumn(e,t,n){let i=Math.min(t-1,e.length),o=e.substring(0,i),s=new Ho(o),a=0;for(;!s.eol();){let l=Di(o,i,s.offset);s.nextGraphemeLength(),a=this._nextVisibleColumn(l,a,n)}return a}static toStatusbarColumn(e,t,n){let i=e.substring(0,Math.min(t-1,e.length)),o=new Vo(i),s=0;for(;!o.eol();)o.nextCodePoint()===9?s=r.nextRenderTabStop(s,n):s=s+1;return s+1}static columnFromVisibleColumn(e,t,n){if(t<=0)return 1;let i=e.length,o=new Ho(e),s=0,a=1;for(;!o.eol();){let l=Di(e,i,o.offset);o.nextGraphemeLength();let u=this._nextVisibleColumn(l,s,n),d=o.offset+1;if(u>=t){let g=t-s;return u-t<g?d:a}s=u,a=d}return i+1}static nextRenderTabStop(e,t){return e+t-e%t}static nextIndentTabStop(e,t){return e+t-e%t}static prevRenderTabStop(e,t){return Math.max(0,e-1-(e-1)%t)}static prevIndentTabStop(e,t){return Math.max(0,e-1-(e-1)%t)}};var qi=class r{constructor(e,t){this.lineCount=e;this.columnCount=t}static zero=new r(0,0);static lengthDiffNonNegative(e,t){return t.isLessThan(e)?r.zero:e.lineCount===t.lineCount?new r(0,t.columnCount-e.columnCount):new r(t.lineCount-e.lineCount,t.columnCount)}static betweenPositions(e,t){return e.lineNumber===t.lineNumber?new r(0,t.column-e.column):new r(t.lineNumber-e.lineNumber,t.column-1)}static ofRange(e){return r.betweenPositions(e.getStartPosition(),e.getEndPosition())}static ofText(e){let t=0,n=0;for(let i of e)i===`
`?(t++,n=0):n++;return new r(t,n)}isZero(){return this.lineCount===0&&this.columnCount===0}isLessThan(e){return this.lineCount!==e.lineCount?this.lineCount<e.lineCount:this.columnCount<e.columnCount}isGreaterThan(e){return this.lineCount!==e.lineCount?this.lineCount>e.lineCount:this.columnCount>e.columnCount}isGreaterThanOrEqualTo(e){return this.lineCount!==e.lineCount?this.lineCount>e.lineCount:this.columnCount>=e.columnCount}equals(e){return this.lineCount===e.lineCount&&this.columnCount===e.columnCount}compare(e){return this.lineCount!==e.lineCount?this.lineCount-e.lineCount:this.columnCount-e.columnCount}add(e){return e.lineCount===0?new r(this.lineCount,this.columnCount+e.columnCount):new r(this.lineCount+e.lineCount,e.columnCount)}createRange(e){return this.lineCount===0?new R(e.lineNumber,e.column,e.lineNumber,e.column+this.columnCount):new R(e.lineNumber,e.column,e.lineNumber+this.lineCount,this.columnCount+1)}toRange(){return new R(1,1,this.lineCount+1,this.columnCount+1)}addToPosition(e){return this.lineCount===0?new $(e.lineNumber,e.column+this.columnCount):new $(e.lineNumber+this.lineCount,this.columnCount+1)}toString(){return`${this.lineCount},${this.columnCount}`}};function Bm(r,e,t,n){return r!==t?ke(t-r,n):ke(0,n-e)}var Ue=0;function Gi(r){return r===0}var Ct=2**26;function ke(r,e){return r*Ct+e}function ot(r){let e=r,t=Math.floor(e/Ct),n=e-t*Ct;return new qi(t,n)}function Fm(r){return Math.floor(r/Ct)}function Te(r,e){let t=r+e;return e>=Ct&&(t=t-r%Ct),t}function Um(r,e){return r.reduce((t,n)=>Te(t,e(n)),Ue)}function Bd(r,e){return r===e}function Jr(r,e){let t=r,n=e;if(n-t<=0)return Ue;let o=Math.floor(t/Ct),s=Math.floor(n/Ct),a=n-s*Ct;if(o===s){let l=t-o*Ct;return ke(0,a-l)}else return ke(s-o,a)}function Wn(r,e){return r<e}function vr(r,e){return r<=e}function ji(r,e){return r>=e}function yr(r){return ke(r.lineNumber-1,r.column-1)}function xr(r,e){let t=r,n=Math.floor(t/Ct),i=t-n*Ct,o=e,s=Math.floor(o/Ct),a=o-s*Ct;return new R(n+1,i+1,s+1,a+1)}function zm(r){let e=Fa(r);return ke(e.length-1,e[e.length-1].length)}var gl=[],Ye=class r{constructor(e,t){this.items=e;this.additionalItems=t}static cache=new Array(129);static create(e,t){if(e<=128&&t.length===0){let n=r.cache[e];return n||(n=new r(e,t),r.cache[e]=n),n}return new r(e,t)}static empty=r.create(0,gl);static getEmpty(){return this.empty}add(e,t){let n=t.getKey(e),i=n>>5;if(i===0){let s=1<<n|this.items;return s===this.items?this:r.create(s,this.additionalItems)}i--;let o=this.additionalItems.slice(0);for(;o.length<i;)o.push(0);return o[i]|=1<<(n&31),r.create(this.items,o)}has(e,t){let n=t.getKey(e),i=n>>5;return i===0?(this.items&1<<n)!==0:(i--,((this.additionalItems[i]||0)&1<<(n&31))!==0)}merge(e){let t=this.items|e.items;if(this.additionalItems===gl&&e.additionalItems===gl)return t===this.items?this:t===e.items?e:r.create(t,gl);let n=[];for(let i=0;i<Math.max(this.additionalItems.length,e.additionalItems.length);i++){let o=this.additionalItems[i]||0,s=e.additionalItems[i]||0;n.push(o|s)}return r.create(t,n)}intersects(e){if(this.items&e.items)return!0;for(let t=0;t<Math.min(this.additionalItems.length,e.additionalItems.length);t++)if(this.additionalItems[t]&e.additionalItems[t])return!0;return!1}equals(e){if(this.items!==e.items||this.additionalItems.length!==e.additionalItems.length)return!1;for(let t=0;t<this.additionalItems.length;t++)if(this.additionalItems[t]!==e.additionalItems[t])return!1;return!0}},Fd={getKey(r){return r}},fl=class{items=new Map;getKey(e){let t=this.items.get(e);return t===void 0&&(t=this.items.size,this.items.set(e,t)),t}reverseLookup(e){return[...this.items].find(([t,n])=>n===e)?.[0]}reverseLookupSet(e){let t=[];for(let[n]of this.items)e.has(n,this)&&t.push(n);return t}keys(){return this.items.keys()}};var hl=class r{static DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES=`;:.,=}])> 
	`;static DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS=`'"\`;:.,=}])> 
	`;static DEFAULT_AUTOCLOSE_BEFORE_WHITESPACE=` 
	`;_autoClosingPairs;_surroundingPairs;_autoCloseBeforeForQuotes;_autoCloseBeforeForBrackets;constructor(e){if(e.autoClosingPairs?this._autoClosingPairs=e.autoClosingPairs.map(t=>new Hi(t)):e.brackets?this._autoClosingPairs=e.brackets.map(t=>new Hi({open:t[0],close:t[1]})):this._autoClosingPairs=[],e.__electricCharacterSupport&&e.__electricCharacterSupport.docComment){let t=e.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new Hi({open:t.open,close:t.close||""}))}this._autoCloseBeforeForQuotes=typeof e.autoCloseBefore=="string"?e.autoCloseBefore:r.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES,this._autoCloseBeforeForBrackets=typeof e.autoCloseBefore=="string"?e.autoCloseBefore:r.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS,this._surroundingPairs=e.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(e){return e?this._autoCloseBeforeForQuotes:this._autoCloseBeforeForBrackets}getSurroundingPairs(){return this._surroundingPairs}};var pl=class{_richEditBrackets;constructor(e){this._richEditBrackets=e}getElectricCharacters(){let e=[];if(this._richEditBrackets)for(let t of this._richEditBrackets.brackets)for(let n of t.close){let i=n.charAt(n.length-1);e.push(i)}return vi(e)}onElectricCharacter(e,t,n){if(!this._richEditBrackets||this._richEditBrackets.brackets.length===0)return null;let i=t.findTokenIndexAtOffset(n-1);if(Nt(t.getStandardTokenType(i)))return null;let o=this._richEditBrackets.reversedRegex,s=t.getLineContent().substring(0,n-1)+e,a=ct.findPrevBracketInRange(o,1,s,0,s.length);if(!a)return null;let l=s.substring(a.startColumn-1,a.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[l])return null;let d=t.getActualLineContentBefore(a.startColumn-1);return/^\s*$/.test(d)?{matchOpenBracket:l}:null}};function ml(r){return r.global&&(r.lastIndex=0),!0}var bl=class{_indentationRules;constructor(e){this._indentationRules=e}shouldIncrease(e){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&ml(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(e))}shouldDecrease(e){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&ml(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(e))}shouldIndentNextLine(e){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&ml(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(e))}shouldIgnore(e){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&ml(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(e))}getIndentMetadata(e){let t=0;return this.shouldIncrease(e)&&(t+=1),this.shouldDecrease(e)&&(t+=2),this.shouldIndentNextLine(e)&&(t+=4),this.shouldIgnore(e)&&(t+=8),t}};var Qy=new class{_zoomLevel=0;_onDidChangeZoomLevel=new U;onDidChangeZoomLevel=this._onDidChangeZoomLevel.event;getZoomLevel(){return this._zoomLevel}setZoomLevel(r){r=Math.min(Math.max(-5,r),20),this._zoomLevel!==r&&(this._zoomLevel=r,this._onDidChangeZoomLevel.fire(this._zoomLevel))}};var hn={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0,bracketPairColorizationOptions:{enabled:!0,independentColorPoolPerBracketType:!1}};var oA=de("accessibilityService");var sA=new zi("accessibilityModeEnabled",!1);var EA=de("contextService");var Wm="code-workspace",RA=`.${Wm}`,DA=[{name:c("codeWorkspace","Code Workspace"),extensions:[Wm]}];var Vm=de("configurationService");function Hm(r){return r.replace(/[\[\]]/g,"")}var Ud=class{data=new Map;add(e,t){_a(Kt(e)),_a(qt(t)),_a(!this.data.has(e),"There is already an extension with this id"),this.data.set(e,t)}knows(e){return this.data.has(e)}as(e){return this.data.get(e)||null}},dt=new Ud;var Zr={JSONContribution:"base.contributions.json"};function Jy(r){return r.length>0&&r.charAt(r.length-1)==="#"?r.substring(0,r.length-1):r}var zd=class{schemasById;_onDidChangeSchema=new U;onDidChangeSchema=this._onDidChangeSchema.event;constructor(){this.schemasById={}}registerSchema(e,t){this.schemasById[Jy(e)]=t,this._onDidChangeSchema.fire(e)}notifySchemaChanged(e){this._onDidChangeSchema.fire(e)}getSchemaContributions(){return{schemas:this.schemasById}}getSchemaContent(e){let t=this.schemasById[e];return t?Rm(t):void 0}hasSchemaContent(e){return!!this.schemasById[e]}},Zy=new zd;dt.add(Zr.JSONContribution,Zy);var JA=de("policy");var Vd={Configuration:"base.contributions.configuration"};var xl={properties:{},patternProperties:{}},Il={properties:{},patternProperties:{}},Tl={properties:{},patternProperties:{}},Cl={properties:{},patternProperties:{}},kl={properties:{},patternProperties:{}},ds={properties:{},patternProperties:{}},ei="vscode://schemas/settings/resourceLanguage";var _l=dt.as(Zr.JSONContribution),Wd=class{registeredConfigurationDefaults=[];configurationDefaultsOverrides;defaultLanguageConfigurationOverridesNode;configurationContributors;configurationProperties;policyConfigurations;excludedConfigurationProperties;resourceLanguageSettingsSchema;overrideIdentifiers=new Set;_onDidSchemaChange=new U;onDidSchemaChange=this._onDidSchemaChange.event;_onDidUpdateConfiguration=new U;onDidUpdateConfiguration=this._onDidUpdateConfiguration.event;constructor(){this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:c("defaultLanguageConfigurationOverrides.title","Default Language Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!0,allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.policyConfigurations=new Map,this.excludedConfigurationProperties={},_l.registerSchema(ei,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}registerConfiguration(e,t=!0){this.registerConfigurations([e],t)}registerConfigurations(e,t=!0){let n=new Set;this.doRegisterConfigurations(e,t,n),_l.registerSchema(ei,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:n})}deregisterConfigurations(e){let t=new Set;this.doDeregisterConfigurations(e,t),_l.registerSchema(ei,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:t})}updateConfigurations({add:e,remove:t}){let n=new Set;this.doDeregisterConfigurations(t,n),this.doRegisterConfigurations(e,!1,n),_l.registerSchema(ei,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:n})}registerDefaultConfigurations(e){let t=new Set;this.doRegisterDefaultConfigurations(e,t),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:t,defaultsOverrides:!0})}doRegisterDefaultConfigurations(e,t){this.registeredConfigurationDefaults.push(...e);let n=[];for(let{overrides:i,source:o}of e)for(let s in i){t.add(s);let a=this.configurationDefaultsOverrides.get(s)??this.configurationDefaultsOverrides.set(s,{configurationDefaultOverrides:[]}).get(s),l=i[s];if(a.configurationDefaultOverrides.push({value:l,source:o}),gs.test(s)){let u=this.mergeDefaultConfigurationsForOverrideIdentifier(s,l,o,a.configurationDefaultOverrideValue);if(!u)continue;a.configurationDefaultOverrideValue=u,this.updateDefaultOverrideProperty(s,u,o),n.push(...ex(s))}else{let u=this.mergeDefaultConfigurationsForConfigurationProperty(s,l,o,a.configurationDefaultOverrideValue);if(!u)continue;a.configurationDefaultOverrideValue=u;let d=this.configurationProperties[s];d&&(this.updatePropertyDefaultValue(s,d),this.updateSchema(s,d))}}this.doRegisterOverrideIdentifiers(n)}deregisterDefaultConfigurations(e){let t=new Set;this.doDeregisterDefaultConfigurations(e,t),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:t,defaultsOverrides:!0})}doDeregisterDefaultConfigurations(e,t){for(let n of e){let i=this.registeredConfigurationDefaults.indexOf(n);i!==-1&&this.registeredConfigurationDefaults.splice(i,1)}for(let{overrides:n,source:i}of e)for(let o in n){let s=this.configurationDefaultsOverrides.get(o);if(!s)continue;let a=s.configurationDefaultOverrides.findIndex(l=>i?l.source?.id===i.id:l.value===n[o]);if(a!==-1){if(s.configurationDefaultOverrides.splice(a,1),s.configurationDefaultOverrides.length===0&&this.configurationDefaultsOverrides.delete(o),gs.test(o)){let l;for(let u of s.configurationDefaultOverrides)l=this.mergeDefaultConfigurationsForOverrideIdentifier(o,u.value,u.source,l);l&&!Hp(l.value)?(s.configurationDefaultOverrideValue=l,this.updateDefaultOverrideProperty(o,l,i)):(this.configurationDefaultsOverrides.delete(o),delete this.configurationProperties[o],delete this.defaultLanguageConfigurationOverridesNode.properties[o])}else{let l;for(let d of s.configurationDefaultOverrides)l=this.mergeDefaultConfigurationsForConfigurationProperty(o,d.value,d.source,l);s.configurationDefaultOverrideValue=l;let u=this.configurationProperties[o];u&&(this.updatePropertyDefaultValue(o,u),this.updateSchema(o,u))}t.add(o)}}this.updateOverridePropertyPatternKey()}updateDefaultOverrideProperty(e,t,n){let i={type:"object",default:t.value,description:c("defaultLanguageConfiguration.description","Configure settings to be overridden for the {0} language.",Hm(e)),$ref:ei,defaultDefaultValue:t.value,source:n,defaultValueSource:n};this.configurationProperties[e]=i,this.defaultLanguageConfigurationOverridesNode.properties[e]=i}mergeDefaultConfigurationsForOverrideIdentifier(e,t,n,i){let o=i?.value||{},s=i?.source??new Map;if(!(s instanceof Map)){console.error("objectConfigurationSources is not a Map");return}for(let a of Object.keys(t)){let l=t[a];if(qt(l)&&(Ai(o[a])||qt(o[a]))){if(o[a]={...o[a]??{},...l},n)for(let d in l)s.set(`${a}.${d}`,n)}else o[a]=l,n?s.set(a,n):s.delete(a)}return{value:o,source:s}}mergeDefaultConfigurationsForConfigurationProperty(e,t,n,i){let o=this.configurationProperties[e],s=i?.value??o?.defaultDefaultValue,a=n;if(qt(t)&&(o!==void 0&&o.type==="object"||o===void 0&&(Ai(s)||qt(s)))){if(a=i?.source??new Map,!(a instanceof Map)){console.error("defaultValueSource is not a Map");return}for(let u in t)n&&a.set(`${e}.${u}`,n);t={...qt(s)?s:{},...t}}return{value:t,source:a}}deltaConfiguration(e){let t=!1,n=new Set;e.removedDefaults&&(this.doDeregisterDefaultConfigurations(e.removedDefaults,n),t=!0),e.addedDefaults&&(this.doRegisterDefaultConfigurations(e.addedDefaults,n),t=!0),e.removedConfigurations&&this.doDeregisterConfigurations(e.removedConfigurations,n),e.addedConfigurations&&this.doRegisterConfigurations(e.addedConfigurations,!1,n),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:n,defaultsOverrides:t})}notifyConfigurationSchemaUpdated(...e){this._onDidSchemaChange.fire()}registerOverrideIdentifiers(e){this.doRegisterOverrideIdentifiers(e),this._onDidSchemaChange.fire()}doRegisterOverrideIdentifiers(e){for(let t of e)this.overrideIdentifiers.add(t);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(e,t,n){e.forEach(i=>{this.validateAndRegisterProperties(i,t,i.extensionInfo,i.restrictedProperties,void 0,n),this.configurationContributors.push(i),this.registerJSONConfiguration(i)})}doDeregisterConfigurations(e,t){let n=i=>{if(i.properties)for(let o in i.properties){t.add(o);let s=this.configurationProperties[o];s?.policy?.name&&this.policyConfigurations.delete(s.policy.name),delete this.configurationProperties[o],this.removeFromSchema(o,i.properties[o])}i.allOf?.forEach(o=>n(o))};for(let i of e){n(i);let o=this.configurationContributors.indexOf(i);o!==-1&&this.configurationContributors.splice(o,1)}}validateAndRegisterProperties(e,t=!0,n,i,o=3,s){o=Ni(e.scope)?o:e.scope;let a=e.properties;if(a)for(let u in a){let d=a[u];if(t&&nx(u,d)){delete a[u];continue}if(d.source=n,d.defaultDefaultValue=a[u].default,this.updatePropertyDefaultValue(u,d),gs.test(u)?d.scope=void 0:(d.scope=Ni(d.scope)?o:d.scope,d.restricted=Ni(d.restricted)?!!i?.includes(u):d.restricted),a[u].hasOwnProperty("included")&&!a[u].included){this.excludedConfigurationProperties[u]=a[u],delete a[u];continue}else this.configurationProperties[u]=a[u],a[u].policy?.name&&this.policyConfigurations.set(a[u].policy.name,u);!a[u].deprecationMessage&&a[u].markdownDeprecationMessage&&(a[u].deprecationMessage=a[u].markdownDeprecationMessage),s.add(u)}let l=e.allOf;if(l)for(let u of l)this.validateAndRegisterProperties(u,t,n,i,o,s)}getConfigurations(){return this.configurationContributors}getConfigurationProperties(){return this.configurationProperties}getPolicyConfigurations(){return this.policyConfigurations}getExcludedConfigurationProperties(){return this.excludedConfigurationProperties}getRegisteredDefaultConfigurations(){return[...this.registeredConfigurationDefaults]}getConfigurationDefaultsOverrides(){let e=new Map;for(let[t,n]of this.configurationDefaultsOverrides)n.configurationDefaultOverrideValue&&e.set(t,n.configurationDefaultOverrideValue);return e}registerJSONConfiguration(e){let t=n=>{let i=n.properties;if(i)for(let s in i)this.updateSchema(s,i[s]);n.allOf?.forEach(t)};t(e)}updateSchema(e,t){switch(xl.properties[e]=t,t.scope){case 1:Il.properties[e]=t;break;case 2:Tl.properties[e]=t;break;case 6:Cl.properties[e]=t;break;case 3:kl.properties[e]=t;break;case 4:ds.properties[e]=t;break;case 5:ds.properties[e]=t,this.resourceLanguageSettingsSchema.properties[e]=t;break}}removeFromSchema(e,t){switch(delete xl.properties[e],t.scope){case 1:delete Il.properties[e];break;case 2:delete Tl.properties[e];break;case 6:delete Cl.properties[e];break;case 3:delete kl.properties[e];break;case 4:case 5:delete ds.properties[e],delete this.resourceLanguageSettingsSchema.properties[e];break}}updateOverridePropertyPatternKey(){for(let e of this.overrideIdentifiers.values()){let t=`[${e}]`,n={type:"object",description:c("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:c("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:ei};this.updatePropertyDefaultValue(t,n),xl.properties[t]=n,Il.properties[t]=n,Tl.properties[t]=n,Cl.properties[t]=n,kl.properties[t]=n,ds.properties[t]=n}}registerOverridePropertyPatternKey(){let e={type:"object",description:c("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:c("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:ei};xl.patternProperties[ti]=e,Il.patternProperties[ti]=e,Tl.patternProperties[ti]=e,Cl.patternProperties[ti]=e,kl.patternProperties[ti]=e,ds.patternProperties[ti]=e,this._onDidSchemaChange.fire()}updatePropertyDefaultValue(e,t){let n=this.configurationDefaultsOverrides.get(e)?.configurationDefaultOverrideValue,i,o;n&&(!t.disallowConfigurationDefault||!n.source)&&(i=n.value,o=n.source),Ai(i)&&(i=t.defaultDefaultValue,o=void 0),Ai(i)&&(i=tx(t.type)),t.default=i,t.defaultValueSource=o}},qm="\\[([^\\]]+)\\]",Km=new RegExp(qm,"g"),ti=`^(${qm})+$`,gs=new RegExp(ti);function ex(r){let e=[];if(gs.test(r)){let t=Km.exec(r);for(;t?.length;){let n=t[1].trim();n&&e.push(n),t=Km.exec(r)}}return vi(e)}function tx(r){switch(Array.isArray(r)?r[0]:r){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}var Sl=new Wd;dt.add(Vd.Configuration,Sl);function nx(r,e){return r.trim()?gs.test(r)?c("config.property.languageDefault","Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",r):Sl.getConfigurationProperties()[r]!==void 0?c("config.property.duplicate","Cannot register '{0}'. This property is already registered.",r):e.policy?.name&&Sl.getPolicyConfigurations().get(e.policy?.name)!==void 0?c("config.policy.duplicate","Cannot register '{0}'. The associated policy {1} is already registered with {2}.",r,e.policy?.name,Sl.getPolicyConfigurations().get(e.policy?.name)):null:c("config.property.empty","Cannot register an empty property")}var rx=8;var Hd=class{stableMinimapLayoutInput;stableFitMaxMinimapScale;stableFitRemainingWidth;constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}},pe=class{id;name;defaultValue;schema;constructor(e,t,n,i){this.id=e,this.name=t,this.defaultValue=n,this.schema=i}applyUpdate(e,t){return Ll(e,t)}compute(e,t,n){return n}},Yi=class{constructor(e,t){this.newValue=e;this.didChange=t}};function Ll(r,e){if(typeof r!="object"||typeof e!="object"||!r||!e)return new Yi(e,r!==e);if(Array.isArray(r)||Array.isArray(e)){let n=Array.isArray(r)&&Array.isArray(e)&&Jn(r,e);return new Yi(e,!n)}let t=!1;for(let n in e)if(e.hasOwnProperty(n)){let i=Ll(r[n],e[n]);i.didChange&&(r[n]=i.newValue,t=!0)}return new Yi(r,t)}var ri=class{id;name;defaultValue;schema=void 0;constructor(e){this.id=e,this.name="_never_",this.defaultValue=void 0}applyUpdate(e,t){return Ll(e,t)}validate(e){return this.defaultValue}},Ir=class{id;name;defaultValue;schema;constructor(e,t,n,i){this.id=e,this.name=t,this.defaultValue=n,this.schema=i}applyUpdate(e,t){return Ll(e,t)}validate(e){return typeof e>"u"?this.defaultValue:e}compute(e,t,n){return n}};function B(r,e){return typeof r>"u"?e:r==="false"?!1:!!r}var re=class extends Ir{constructor(e,t,n,i=void 0){typeof i<"u"&&(i.type="boolean",i.default=n),super(e,t,n,i)}validate(e){return B(e,this.defaultValue)}};function ix(r,e,t,n){if(typeof r>"u")return e;let i=parseInt(r,10);return isNaN(i)?e:(i=Math.max(t,i),i=Math.min(n,i),i|0)}var fe=class r extends Ir{static clampedInt(e,t,n,i){return ix(e,t,n,i)}minimum;maximum;constructor(e,t,n,i,o,s=void 0){typeof s<"u"&&(s.type="integer",s.default=n,s.minimum=i,s.maximum=o),super(e,t,n,s),this.minimum=i,this.maximum=o}validate(e){return r.clampedInt(e,this.defaultValue,this.minimum,this.maximum)}};var Mt=class r extends Ir{static clamp(e,t,n){return e<t?t:e>n?n:e}static float(e,t){if(typeof e=="number")return e;if(typeof e>"u")return t;let n=parseFloat(e);return isNaN(n)?t:n}validationFn;constructor(e,t,n,i,o){typeof o<"u"&&(o.type="number",o.default=n),super(e,t,n,o),this.validationFn=i}validate(e){return this.validationFn(r.float(e,this.defaultValue))}},nt=class r extends Ir{static string(e,t){return typeof e!="string"?t:e}constructor(e,t,n,i=void 0){typeof i<"u"&&(i.type="string",i.default=n),super(e,t,n,i)}validate(e){return r.string(e,this.defaultValue)}};function we(r,e,t,n){return typeof r!="string"?e:n&&r in n?n[r]:t.indexOf(r)===-1?e:r}var Ce=class extends Ir{_allowedValues;constructor(e,t,n,i,o=void 0){typeof o<"u"&&(o.type="string",o.enum=i,o.default=n),super(e,t,n,o),this._allowedValues=i}validate(e){return we(e,this.defaultValue,this._allowedValues)}},$i=class extends pe{_allowedValues;_convert;constructor(e,t,n,i,o,s,a=void 0){typeof a<"u"&&(a.type="string",a.enum=o,a.default=i),super(e,t,n,a),this._allowedValues=o,this._convert=s}validate(e){return typeof e!="string"?this.defaultValue:this._allowedValues.indexOf(e)===-1?this.defaultValue:this._convert(e)}};function ox(r){switch(r){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}}var Kd=class extends pe{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[c("accessibilitySupport.auto","Use platform APIs to detect when a Screen Reader is attached."),c("accessibilitySupport.on","Optimize for usage with a Screen Reader."),c("accessibilitySupport.off","Assume a screen reader is not attached.")],default:"auto",tags:["accessibility"],description:c("accessibilitySupport","Controls if the UI should run in a mode where it is optimized for screen readers.")})}validate(e){switch(e){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(e,t,n){return n===0?e.accessibilitySupport:n}},qd=class extends pe{constructor(){let e={insertSpace:!0,ignoreEmptyLines:!0};super(23,"comments",e,{"editor.comments.insertSpace":{type:"boolean",default:e.insertSpace,description:c("comments.insertSpace","Controls whether a space character is inserted when commenting.")},"editor.comments.ignoreEmptyLines":{type:"boolean",default:e.ignoreEmptyLines,description:c("comments.ignoreEmptyLines","Controls if empty lines should be ignored with toggle, add or remove actions for line comments.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;let t=e;return{insertSpace:B(t.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:B(t.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}};function sx(r){switch(r){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}}function ax(r){switch(r){case"line":return 1;case"block":return 2;case"underline":return 3;case"line-thin":return 4;case"block-outline":return 5;case"underline-thin":return 6}}var Gd=class extends ri{constructor(){super(144)}compute(e,t,n){let i=["monaco-editor"];return t.get(40)&&i.push(t.get(40)),e.extraEditorClassName&&i.push(e.extraEditorClassName),t.get(75)==="default"?i.push("mouse-default"):t.get(75)==="copy"&&i.push("mouse-copy"),t.get(113)&&i.push("showUnused"),t.get(142)&&i.push("showDeprecated"),i.join(" ")}},jd=class extends re{constructor(){super(38,"emptySelectionClipboard",!0,{description:c("emptySelectionClipboard","Controls whether copying without a selection copies the current line.")})}compute(e,t,n){return n&&e.emptySelectionClipboard}},$d=class extends pe{constructor(){let e={cursorMoveOnType:!0,seedSearchStringFromSelection:"always",autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(42,"find",e,{"editor.find.cursorMoveOnType":{type:"boolean",default:e.cursorMoveOnType,description:c("find.cursorMoveOnType","Controls whether the cursor should jump to find matches while typing.")},"editor.find.seedSearchStringFromSelection":{type:"string",enum:["never","always","selection"],default:e.seedSearchStringFromSelection,enumDescriptions:[c("editor.find.seedSearchStringFromSelection.never","Never seed search string from the editor selection."),c("editor.find.seedSearchStringFromSelection.always","Always seed search string from the editor selection, including word at cursor position."),c("editor.find.seedSearchStringFromSelection.selection","Only seed search string from the editor selection.")],description:c("find.seedSearchStringFromSelection","Controls whether the search string in the Find Widget is seeded from the editor selection.")},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:e.autoFindInSelection,enumDescriptions:[c("editor.find.autoFindInSelection.never","Never turn on Find in Selection automatically (default)."),c("editor.find.autoFindInSelection.always","Always turn on Find in Selection automatically."),c("editor.find.autoFindInSelection.multiline","Turn on Find in Selection automatically when multiple lines of content are selected.")],description:c("find.autoFindInSelection","Controls the condition for turning on Find in Selection automatically.")},"editor.find.globalFindClipboard":{type:"boolean",default:e.globalFindClipboard,description:c("find.globalFindClipboard","Controls whether the Find Widget should read or modify the shared find clipboard on macOS."),included:qe},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:e.addExtraSpaceOnTop,description:c("find.addExtraSpaceOnTop","Controls whether the Find Widget should add extra lines on top of the editor. When true, you can scroll beyond the first line when the Find Widget is visible.")},"editor.find.loop":{type:"boolean",default:e.loop,description:c("find.loop","Controls whether the search automatically restarts from the beginning (or the end) when no further matches can be found.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;let t=e;return{cursorMoveOnType:B(t.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:typeof e.seedSearchStringFromSelection=="boolean"?e.seedSearchStringFromSelection?"always":"never":we(t.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection,["never","always","selection"]),autoFindInSelection:typeof e.autoFindInSelection=="boolean"?e.autoFindInSelection?"always":"never":we(t.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:B(t.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:B(t.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:B(t.loop,this.defaultValue.loop)}}},Yd=class r extends pe{static OFF='"liga" off, "calt" off';static ON='"liga" on, "calt" on';constructor(){super(52,"fontLigatures",r.OFF,{anyOf:[{type:"boolean",description:c("fontLigatures","Enables/Disables font ligatures ('calt' and 'liga' font features). Change this to a string for fine-grained control of the 'font-feature-settings' CSS property.")},{type:"string",description:c("fontFeatureSettings","Explicit 'font-feature-settings' CSS property. A boolean can be passed instead if one only needs to turn on/off ligatures.")}],description:c("fontLigaturesGeneral","Configures font ligatures or font features. Can be either a boolean to enable/disable ligatures or a string for the value of the CSS 'font-feature-settings' property."),default:!1})}validate(e){return typeof e>"u"?this.defaultValue:typeof e=="string"?e==="false"||e.length===0?r.OFF:e==="true"?r.ON:e:e?r.ON:r.OFF}},vl=class r extends pe{static OFF="normal";static TRANSLATE="translate";constructor(){super(55,"fontVariations",r.OFF,{anyOf:[{type:"boolean",description:c("fontVariations","Enables/Disables the translation from font-weight to font-variation-settings. Change this to a string for fine-grained control of the 'font-variation-settings' CSS property.")},{type:"string",description:c("fontVariationSettings","Explicit 'font-variation-settings' CSS property. A boolean can be passed instead if one only needs to translate font-weight to font-variation-settings.")}],description:c("fontVariationsGeneral","Configures font variations. Can be either a boolean to enable/disable the translation from font-weight to font-variation-settings or a string for the value of the CSS 'font-variation-settings' property."),default:!1})}validate(e){return typeof e>"u"?this.defaultValue:typeof e=="string"?e==="false"?r.OFF:e==="true"?r.TRANSLATE:e:e?r.TRANSLATE:r.OFF}compute(e,t,n){return e.fontInfo.fontVariationSettings}},Qd=class extends ri{constructor(){super(51)}compute(e,t,n){return e.fontInfo}},Xd=class extends Ir{constructor(){super(53,"fontSize",fn.fontSize,{type:"number",minimum:6,maximum:100,default:fn.fontSize,description:c("fontSize","Controls the font size in pixels.")})}validate(e){let t=Mt.float(e,this.defaultValue);return t===0?fn.fontSize:Mt.clamp(t,6,100)}compute(e,t,n){return e.fontInfo.fontSize}},Jd=class r extends pe{static SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"];static MINIMUM_VALUE=1;static MAXIMUM_VALUE=1e3;constructor(){super(54,"fontWeight",fn.fontWeight,{anyOf:[{type:"number",minimum:r.MINIMUM_VALUE,maximum:r.MAXIMUM_VALUE,errorMessage:c("fontWeightErrorMessage",'Only "normal" and "bold" keywords or numbers between 1 and 1000 are allowed.')},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:r.SUGGESTION_VALUES}],default:fn.fontWeight,description:c("fontWeight",'Controls the font weight. Accepts "normal" and "bold" keywords or numbers between 1 and 1000.')})}validate(e){return e==="normal"||e==="bold"?e:String(fe.clampedInt(e,fn.fontWeight,r.MINIMUM_VALUE,r.MAXIMUM_VALUE))}},Zd=class extends pe{constructor(){let e={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",multipleTests:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:"",alternativeTestsCommand:""},t={type:"string",enum:["peek","gotoAndPeek","goto"],default:e.multiple,enumDescriptions:[c("editor.gotoLocation.multiple.peek","Show Peek view of the results (default)"),c("editor.gotoLocation.multiple.gotoAndPeek","Go to the primary result and show a Peek view"),c("editor.gotoLocation.multiple.goto","Go to the primary result and enable Peek-less navigation to others")]},n=["","editor.action.referenceSearch.trigger","editor.action.goToReferences","editor.action.peekImplementation","editor.action.goToImplementation","editor.action.peekTypeDefinition","editor.action.goToTypeDefinition","editor.action.peekDeclaration","editor.action.revealDeclaration","editor.action.peekDefinition","editor.action.revealDefinitionAside","editor.action.revealDefinition"];super(59,"gotoLocation",e,{"editor.gotoLocation.multiple":{deprecationMessage:c("editor.gotoLocation.multiple.deprecated","This setting is deprecated, please use separate settings like 'editor.editor.gotoLocation.multipleDefinitions' or 'editor.editor.gotoLocation.multipleImplementations' instead.")},"editor.gotoLocation.multipleDefinitions":{description:c("editor.editor.gotoLocation.multipleDefinitions","Controls the behavior the 'Go to Definition'-command when multiple target locations exist."),...t},"editor.gotoLocation.multipleTypeDefinitions":{description:c("editor.editor.gotoLocation.multipleTypeDefinitions","Controls the behavior the 'Go to Type Definition'-command when multiple target locations exist."),...t},"editor.gotoLocation.multipleDeclarations":{description:c("editor.editor.gotoLocation.multipleDeclarations","Controls the behavior the 'Go to Declaration'-command when multiple target locations exist."),...t},"editor.gotoLocation.multipleImplementations":{description:c("editor.editor.gotoLocation.multipleImplemenattions","Controls the behavior the 'Go to Implementations'-command when multiple target locations exist."),...t},"editor.gotoLocation.multipleReferences":{description:c("editor.editor.gotoLocation.multipleReferences","Controls the behavior the 'Go to References'-command when multiple target locations exist."),...t},"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:e.alternativeDefinitionCommand,enum:n,description:c("alternativeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Definition' is the current location.")},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:e.alternativeTypeDefinitionCommand,enum:n,description:c("alternativeTypeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Type Definition' is the current location.")},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:e.alternativeDeclarationCommand,enum:n,description:c("alternativeDeclarationCommand","Alternative command id that is being executed when the result of 'Go to Declaration' is the current location.")},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:e.alternativeImplementationCommand,enum:n,description:c("alternativeImplementationCommand","Alternative command id that is being executed when the result of 'Go to Implementation' is the current location.")},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:e.alternativeReferenceCommand,enum:n,description:c("alternativeReferenceCommand","Alternative command id that is being executed when the result of 'Go to Reference' is the current location.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;let t=e;return{multiple:we(t.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:t.multipleDefinitions??we(t.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:t.multipleTypeDefinitions??we(t.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:t.multipleDeclarations??we(t.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:t.multipleImplementations??we(t.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:t.multipleReferences??we(t.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),multipleTests:t.multipleTests??we(t.multipleTests,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:nt.string(t.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:nt.string(t.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:nt.string(t.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:nt.string(t.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:nt.string(t.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand),alternativeTestsCommand:nt.string(t.alternativeTestsCommand,this.defaultValue.alternativeTestsCommand)}}},eg=class extends pe{constructor(){let e={enabled:!0,delay:300,hidingDelay:300,sticky:!0,above:!0};super(61,"hover",e,{"editor.hover.enabled":{type:"boolean",default:e.enabled,description:c("hover.enabled","Controls whether the hover is shown.")},"editor.hover.delay":{type:"number",default:e.delay,minimum:0,maximum:1e4,description:c("hover.delay","Controls the delay in milliseconds after which the hover is shown.")},"editor.hover.sticky":{type:"boolean",default:e.sticky,description:c("hover.sticky","Controls whether the hover should remain visible when mouse is moved over it.")},"editor.hover.hidingDelay":{type:"integer",minimum:0,default:e.hidingDelay,description:c("hover.hidingDelay","Controls the delay in milliseconds after which the hover is hidden. Requires `editor.hover.sticky` to be enabled.")},"editor.hover.above":{type:"boolean",default:e.above,description:c("hover.above","Prefer showing hovers above the line, if there's space.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;let t=e;return{enabled:B(t.enabled,this.defaultValue.enabled),delay:fe.clampedInt(t.delay,this.defaultValue.delay,0,1e4),sticky:B(t.sticky,this.defaultValue.sticky),hidingDelay:fe.clampedInt(t.hidingDelay,this.defaultValue.hidingDelay,0,6e5),above:B(t.above,this.defaultValue.above)}}};var tg=class r extends ri{constructor(){super(147)}compute(e,t,n){return r.computeLayout(t,{memory:e.memory,outerWidth:e.outerWidth,outerHeight:e.outerHeight,isDominatedByLongLines:e.isDominatedByLongLines,lineHeight:e.fontInfo.lineHeight,viewLineCount:e.viewLineCount,lineNumbersDigitCount:e.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:e.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:e.fontInfo.maxDigitWidth,pixelRatio:e.pixelRatio,glyphMarginDecorationLaneCount:e.glyphMarginDecorationLaneCount})}static computeContainedMinimapLineCount(e){let t=e.height/e.lineHeight,n=Math.floor(e.paddingTop/e.lineHeight),i=Math.floor(e.paddingBottom/e.lineHeight);e.scrollBeyondLastLine&&(i=Math.max(i,t-1));let o=(n+e.viewLineCount+i)/(e.pixelRatio*e.height),s=Math.floor(e.viewLineCount/o);return{typicalViewportLineCount:t,extraLinesBeforeFirstLine:n,extraLinesBeyondLastLine:i,desiredRatio:o,minimapLineCount:s}}static _computeMinimapLayout(e,t){let n=e.outerWidth,i=e.outerHeight,o=e.pixelRatio;if(!e.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(o*i),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:i};let s=t.stableMinimapLayoutInput,a=s&&e.outerHeight===s.outerHeight&&e.lineHeight===s.lineHeight&&e.typicalHalfwidthCharacterWidth===s.typicalHalfwidthCharacterWidth&&e.pixelRatio===s.pixelRatio&&e.scrollBeyondLastLine===s.scrollBeyondLastLine&&e.paddingTop===s.paddingTop&&e.paddingBottom===s.paddingBottom&&e.minimap.enabled===s.minimap.enabled&&e.minimap.side===s.minimap.side&&e.minimap.size===s.minimap.size&&e.minimap.showSlider===s.minimap.showSlider&&e.minimap.renderCharacters===s.minimap.renderCharacters&&e.minimap.maxColumn===s.minimap.maxColumn&&e.minimap.scale===s.minimap.scale&&e.verticalScrollbarWidth===s.verticalScrollbarWidth&&e.isViewportWrapping===s.isViewportWrapping,l=e.lineHeight,u=e.typicalHalfwidthCharacterWidth,d=e.scrollBeyondLastLine,g=e.minimap.renderCharacters,h=o>=2?Math.round(e.minimap.scale*2):e.minimap.scale,p=e.minimap.maxColumn,b=e.minimap.size,m=e.minimap.side,y=e.verticalScrollbarWidth,I=e.viewLineCount,k=e.remainingWidth,C=e.isViewportWrapping,T=g?2:3,S=Math.floor(o*i),E=S/o,D=!1,A=!1,O=T*h,V=h/o,Q=1;if(b==="fill"||b==="fit"){let{typicalViewportLineCount:P,extraLinesBeforeFirstLine:F,extraLinesBeyondLastLine:ie,desiredRatio:ee,minimapLineCount:_e}=r.computeContainedMinimapLineCount({viewLineCount:I,scrollBeyondLastLine:d,paddingTop:e.paddingTop,paddingBottom:e.paddingBottom,height:i,lineHeight:l,pixelRatio:o});if(I/_e>1)D=!0,A=!0,h=1,O=1,V=h/o;else{let j=!1,ht=h+1;if(b==="fit"){let lt=Math.ceil((F+I+ie)*O);C&&a&&k<=t.stableFitRemainingWidth?(j=!0,ht=t.stableFitMaxMinimapScale):j=lt>S}if(b==="fill"||j){D=!0;let lt=h;O=Math.min(l*o,Math.max(1,Math.floor(1/ee))),C&&a&&k<=t.stableFitRemainingWidth&&(ht=t.stableFitMaxMinimapScale),h=Math.min(ht,Math.max(1,Math.floor(O/T))),h>lt&&(Q=Math.min(2,h/lt)),V=h/o/Q,S=Math.ceil(Math.max(P,F+I+ie)*O),C?(t.stableMinimapLayoutInput=e,t.stableFitRemainingWidth=k,t.stableFitMaxMinimapScale=h):(t.stableMinimapLayoutInput=null,t.stableFitRemainingWidth=0)}}}let K=Math.floor(p*V),me=Math.min(K,Math.max(0,Math.floor((k-y-2)*V/(u+V)))+rx),Re=Math.floor(o*me),z=Re/o;Re=Math.floor(Re*Q);let N=g?1:2,W=m==="left"?0:n-me-y;return{renderMinimap:N,minimapLeft:W,minimapWidth:me,minimapHeightIsEditorHeight:D,minimapIsSampling:A,minimapScale:h,minimapLineHeight:O,minimapCanvasInnerWidth:Re,minimapCanvasInnerHeight:S,minimapCanvasOuterWidth:z,minimapCanvasOuterHeight:E}}static computeLayout(e,t){let n=t.outerWidth|0,i=t.outerHeight|0,o=t.lineHeight|0,s=t.lineNumbersDigitCount|0,a=t.typicalHalfwidthCharacterWidth,l=t.maxDigitWidth,u=t.pixelRatio,d=t.viewLineCount,g=e.get(139),h=g==="inherit"?e.get(138):g,p=h==="inherit"?e.get(134):h,b=e.get(137),m=t.isDominatedByLongLines,y=e.get(58),I=e.get(69).renderType!==0,k=e.get(70),C=e.get(107),T=e.get(85),S=e.get(74),E=e.get(105),D=E.verticalScrollbarSize,A=E.verticalHasArrows,O=E.arrowSize,V=E.horizontalScrollbarSize,Q=e.get(44),K=e.get(112)!=="never",me=e.get(67);Q&&K&&(me+=16);let Re=0;if(I){let En=Math.max(s,k);Re=Math.round(En*l)}let z=0;y&&(z=o*t.glyphMarginDecorationLaneCount);let N=0,W=N+z,P=W+Re,F=P+me,ie=n-z-Re-me,ee=!1,_e=!1,ae=-1;h==="inherit"&&m?(ee=!0,_e=!0):p==="on"||p==="bounded"?_e=!0:p==="wordWrapColumn"&&(ae=b);let j=r._computeMinimapLayout({outerWidth:n,outerHeight:i,lineHeight:o,typicalHalfwidthCharacterWidth:a,pixelRatio:u,scrollBeyondLastLine:C,paddingTop:T.top,paddingBottom:T.bottom,minimap:S,verticalScrollbarWidth:D,viewLineCount:d,remainingWidth:ie,isViewportWrapping:_e},t.memory||new Hd);j.renderMinimap!==0&&j.minimapLeft===0&&(N+=j.minimapWidth,W+=j.minimapWidth,P+=j.minimapWidth,F+=j.minimapWidth);let ht=ie-j.minimapWidth,lt=Math.max(1,Math.floor((ht-D-2)/a)),wn=A?O:0;return _e&&(ae=Math.max(1,lt),p==="bounded"&&(ae=Math.min(ae,b))),{width:n,height:i,glyphMarginLeft:N,glyphMarginWidth:z,glyphMarginDecorationLaneCount:t.glyphMarginDecorationLaneCount,lineNumbersLeft:W,lineNumbersWidth:Re,decorationsLeft:P,decorationsWidth:me,contentLeft:F,contentWidth:ht,minimap:j,viewportColumn:lt,isWordWrapMinified:ee,isViewportWrapping:_e,wrappingColumn:ae,verticalScrollbarWidth:D,horizontalScrollbarHeight:V,overviewRuler:{top:wn,width:D,height:i-2*wn,right:0}}}},ng=class extends pe{constructor(){super(141,"wrappingStrategy","simple",{"editor.wrappingStrategy":{enumDescriptions:[c("wrappingStrategy.simple","Assumes that all characters are of the same width. This is a fast algorithm that works correctly for monospace fonts and certain scripts (like Latin characters) where glyphs are of equal width."),c("wrappingStrategy.advanced","Delegates wrapping points computation to the browser. This is a slow algorithm, that might cause freezes for large files, but it works correctly in all cases.")],type:"string",enum:["simple","advanced"],default:"simple",description:c("wrappingStrategy","Controls the algorithm that computes wrapping points. Note that when in accessibility mode, advanced will be used for the best experience.")}})}validate(e){return we(e,"simple",["simple","advanced"])}compute(e,t,n){return t.get(2)===2?"advanced":n}};var rg=class extends pe{constructor(){let e={enabled:"onCode"};super(66,"lightbulb",e,{"editor.lightbulb.enabled":{type:"string",tags:["experimental"],enum:["off","onCode","on"],default:e.enabled,enumDescriptions:[c("editor.lightbulb.enabled.off","Disable the code action menu."),c("editor.lightbulb.enabled.onCode","Show the code action menu when the cursor is on lines with code."),c("editor.lightbulb.enabled.on","Show the code action menu when the cursor is on lines with code or on empty lines.")],description:c("enabled","Enables the Code Action lightbulb in the editor.")}})}validate(e){return!e||typeof e!="object"?this.defaultValue:{enabled:we(e.enabled,this.defaultValue.enabled,["off","onCode","on"])}}},ig=class extends pe{constructor(){let e={enabled:!0,maxLineCount:5,defaultModel:"outlineModel",scrollWithEditor:!0};super(117,"stickyScroll",e,{"editor.stickyScroll.enabled":{type:"boolean",default:e.enabled,description:c("editor.stickyScroll.enabled","Shows the nested current scopes during the scroll at the top of the editor."),tags:["experimental"]},"editor.stickyScroll.maxLineCount":{type:"number",default:e.maxLineCount,minimum:1,maximum:20,description:c("editor.stickyScroll.maxLineCount","Defines the maximum number of sticky lines to show.")},"editor.stickyScroll.defaultModel":{type:"string",enum:["outlineModel","foldingProviderModel","indentationModel"],default:e.defaultModel,description:c("editor.stickyScroll.defaultModel","Defines the model to use for determining which lines to stick. If the outline model does not exist, it will fall back on the folding provider model which falls back on the indentation model. This order is respected in all three cases.")},"editor.stickyScroll.scrollWithEditor":{type:"boolean",default:e.scrollWithEditor,description:c("editor.stickyScroll.scrollWithEditor","Enable scrolling of Sticky Scroll with the editor's horizontal scrollbar.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;let t=e;return{enabled:B(t.enabled,this.defaultValue.enabled),maxLineCount:fe.clampedInt(t.maxLineCount,this.defaultValue.maxLineCount,1,20),defaultModel:we(t.defaultModel,this.defaultValue.defaultModel,["outlineModel","foldingProviderModel","indentationModel"]),scrollWithEditor:B(t.scrollWithEditor,this.defaultValue.scrollWithEditor)}}},og=class extends pe{constructor(){let e={enabled:"on",fontSize:0,fontFamily:"",padding:!1,maximumLength:43};super(143,"inlayHints",e,{"editor.inlayHints.enabled":{type:"string",default:e.enabled,description:c("inlayHints.enable","Enables the inlay hints in the editor."),enum:["on","onUnlessPressed","offUnlessPressed","off"],markdownEnumDescriptions:[c("editor.inlayHints.on","Inlay hints are enabled"),c("editor.inlayHints.onUnlessPressed","Inlay hints are showing by default and hide when holding {0}",qe?"Ctrl+Option":"Ctrl+Alt"),c("editor.inlayHints.offUnlessPressed","Inlay hints are hidden by default and show when holding {0}",qe?"Ctrl+Option":"Ctrl+Alt"),c("editor.inlayHints.off","Inlay hints are disabled")]},"editor.inlayHints.fontSize":{type:"number",default:e.fontSize,markdownDescription:c("inlayHints.fontSize","Controls font size of inlay hints in the editor. As default the {0} is used when the configured value is less than {1} or greater than the editor font size.","`#editor.fontSize#`","`5`")},"editor.inlayHints.fontFamily":{type:"string",default:e.fontFamily,markdownDescription:c("inlayHints.fontFamily","Controls font family of inlay hints in the editor. When set to empty, the {0} is used.","`#editor.fontFamily#`")},"editor.inlayHints.padding":{type:"boolean",default:e.padding,description:c("inlayHints.padding","Enables the padding around the inlay hints in the editor.")},"editor.inlayHints.maximumLength":{type:"number",default:e.maximumLength,markdownDescription:c("inlayHints.maximumLength","Maximum overall length of inlay hints, for a single line, before they get truncated by the editor. Set to `0` to never truncate")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;let t=e;return typeof t.enabled=="boolean"&&(t.enabled=t.enabled?"on":"off"),{enabled:we(t.enabled,this.defaultValue.enabled,["on","off","offUnlessPressed","onUnlessPressed"]),fontSize:fe.clampedInt(t.fontSize,this.defaultValue.fontSize,0,100),fontFamily:nt.string(t.fontFamily,this.defaultValue.fontFamily),padding:B(t.padding,this.defaultValue.padding),maximumLength:fe.clampedInt(t.maximumLength,this.defaultValue.maximumLength,0,Number.MAX_SAFE_INTEGER)}}},sg=class extends pe{constructor(){super(67,"lineDecorationsWidth",10)}validate(e){return typeof e=="string"&&/^\d+(\.\d+)?ch$/.test(e)?-parseFloat(e.substring(0,e.length-2)):fe.clampedInt(e,this.defaultValue,0,1e3)}compute(e,t,n){return n<0?fe.clampedInt(-n*e.fontInfo.typicalHalfwidthCharacterWidth,this.defaultValue,0,1e3):n}},ag=class extends Mt{constructor(){super(68,"lineHeight",fn.lineHeight,e=>Mt.clamp(e,0,150),{markdownDescription:c("lineHeight",`Controls the line height. 
 - Use 0 to automatically compute the line height from the font size.
 - Values between 0 and 8 will be used as a multiplier with the font size.
 - Values greater than or equal to 8 will be used as effective values.`)})}compute(e,t,n){return e.fontInfo.lineHeight}},lg=class extends pe{constructor(){let e={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",autohide:!1,renderCharacters:!0,maxColumn:120,scale:1,showRegionSectionHeaders:!0,showMarkSectionHeaders:!0,sectionHeaderFontSize:9,sectionHeaderLetterSpacing:1};super(74,"minimap",e,{"editor.minimap.enabled":{type:"boolean",default:e.enabled,description:c("minimap.enabled","Controls whether the minimap is shown.")},"editor.minimap.autohide":{type:"boolean",default:e.autohide,description:c("minimap.autohide","Controls whether the minimap is hidden automatically.")},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[c("minimap.size.proportional","The minimap has the same size as the editor contents (and might scroll)."),c("minimap.size.fill","The minimap will stretch or shrink as necessary to fill the height of the editor (no scrolling)."),c("minimap.size.fit","The minimap will shrink as necessary to never be larger than the editor (no scrolling).")],default:e.size,description:c("minimap.size","Controls the size of the minimap.")},"editor.minimap.side":{type:"string",enum:["left","right"],default:e.side,description:c("minimap.side","Controls the side where to render the minimap.")},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:e.showSlider,description:c("minimap.showSlider","Controls when the minimap slider is shown.")},"editor.minimap.scale":{type:"number",default:e.scale,minimum:1,maximum:3,enum:[1,2,3],description:c("minimap.scale","Scale of content drawn in the minimap: 1, 2 or 3.")},"editor.minimap.renderCharacters":{type:"boolean",default:e.renderCharacters,description:c("minimap.renderCharacters","Render the actual characters on a line as opposed to color blocks.")},"editor.minimap.maxColumn":{type:"number",default:e.maxColumn,description:c("minimap.maxColumn","Limit the width of the minimap to render at most a certain number of columns.")},"editor.minimap.showRegionSectionHeaders":{type:"boolean",default:e.showRegionSectionHeaders,description:c("minimap.showRegionSectionHeaders","Controls whether named regions are shown as section headers in the minimap.")},"editor.minimap.showMarkSectionHeaders":{type:"boolean",default:e.showMarkSectionHeaders,description:c("minimap.showMarkSectionHeaders","Controls whether MARK: comments are shown as section headers in the minimap.")},"editor.minimap.sectionHeaderFontSize":{type:"number",default:e.sectionHeaderFontSize,description:c("minimap.sectionHeaderFontSize","Controls the font size of section headers in the minimap.")},"editor.minimap.sectionHeaderLetterSpacing":{type:"number",default:e.sectionHeaderLetterSpacing,description:c("minimap.sectionHeaderLetterSpacing","Controls the amount of space (in pixels) between characters of section header. This helps the readability of the header in small font sizes.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;let t=e;return{enabled:B(t.enabled,this.defaultValue.enabled),autohide:B(t.autohide,this.defaultValue.autohide),size:we(t.size,this.defaultValue.size,["proportional","fill","fit"]),side:we(t.side,this.defaultValue.side,["right","left"]),showSlider:we(t.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:B(t.renderCharacters,this.defaultValue.renderCharacters),scale:fe.clampedInt(t.scale,1,1,3),maxColumn:fe.clampedInt(t.maxColumn,this.defaultValue.maxColumn,1,1e4),showRegionSectionHeaders:B(t.showRegionSectionHeaders,this.defaultValue.showRegionSectionHeaders),showMarkSectionHeaders:B(t.showMarkSectionHeaders,this.defaultValue.showMarkSectionHeaders),sectionHeaderFontSize:Mt.clamp(t.sectionHeaderFontSize??this.defaultValue.sectionHeaderFontSize,4,32),sectionHeaderLetterSpacing:Mt.clamp(t.sectionHeaderLetterSpacing??this.defaultValue.sectionHeaderLetterSpacing,0,5)}}};function lx(r){return r==="ctrlCmd"?qe?"metaKey":"ctrlKey":"altKey"}var ug=class extends pe{constructor(){super(85,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:c("padding.top","Controls the amount of space between the top edge of the editor and the first line.")},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:c("padding.bottom","Controls the amount of space between the bottom edge of the editor and the last line.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;let t=e;return{top:fe.clampedInt(t.top,0,0,1e3),bottom:fe.clampedInt(t.bottom,0,0,1e3)}}},cg=class extends pe{constructor(){let e={enabled:!0,cycle:!0};super(87,"parameterHints",e,{"editor.parameterHints.enabled":{type:"boolean",default:e.enabled,description:c("parameterHints.enabled","Enables a pop-up that shows parameter documentation and type information as you type.")},"editor.parameterHints.cycle":{type:"boolean",default:e.cycle,description:c("parameterHints.cycle","Controls whether the parameter hints menu cycles or closes when reaching the end of the list.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;let t=e;return{enabled:B(t.enabled,this.defaultValue.enabled),cycle:B(t.cycle,this.defaultValue.cycle)}}},dg=class extends ri{constructor(){super(145)}compute(e,t,n){return e.pixelRatio}},gg=class extends pe{constructor(){super(89,"placeholder",void 0)}validate(e){return typeof e>"u"?this.defaultValue:typeof e=="string"?e:this.defaultValue}},fg=class extends pe{defaultValue;constructor(){let e={other:"on",comments:"off",strings:"off"},t=[{type:"boolean"},{type:"string",enum:["on","inline","off"],enumDescriptions:[c("on","Quick suggestions show inside the suggest widget"),c("inline","Quick suggestions show as ghost text"),c("off","Quick suggestions are disabled")]}];super(91,"quickSuggestions",e,{type:"object",additionalProperties:!1,properties:{strings:{anyOf:t,default:e.strings,description:c("quickSuggestions.strings","Enable quick suggestions inside strings.")},comments:{anyOf:t,default:e.comments,description:c("quickSuggestions.comments","Enable quick suggestions inside comments.")},other:{anyOf:t,default:e.other,description:c("quickSuggestions.other","Enable quick suggestions outside of strings and comments.")}},default:e,markdownDescription:c("quickSuggestions","Controls whether suggestions should automatically show up while typing. This can be controlled for typing in comments, strings, and other code. Quick suggestion can be configured to show as ghost text or with the suggest widget. Also be aware of the {0}-setting which controls if suggestions are triggered by special characters.","`#editor.suggestOnTriggerCharacters#`")}),this.defaultValue=e}validate(e){if(typeof e=="boolean"){let u=e?"on":"off";return{comments:u,strings:u,other:u}}if(!e||typeof e!="object")return this.defaultValue;let{other:t,comments:n,strings:i}=e,o=["on","inline","off"],s,a,l;return typeof t=="boolean"?s=t?"on":"off":s=we(t,this.defaultValue.other,o),typeof n=="boolean"?a=n?"on":"off":a=we(n,this.defaultValue.comments,o),typeof i=="boolean"?l=i?"on":"off":l=we(i,this.defaultValue.strings,o),{other:s,comments:a,strings:l}}};var hg=class extends pe{constructor(){super(69,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[c("lineNumbers.off","Line numbers are not rendered."),c("lineNumbers.on","Line numbers are rendered as absolute number."),c("lineNumbers.relative","Line numbers are rendered as distance in lines to cursor position."),c("lineNumbers.interval","Line numbers are rendered every 10 lines.")],default:"on",description:c("lineNumbers","Controls the display of line numbers.")})}validate(e){let t=this.defaultValue.renderType,n=this.defaultValue.renderFn;return typeof e<"u"&&(typeof e=="function"?(t=4,n=e):e==="interval"?t=3:e==="relative"?t=2:e==="on"?t=1:t=0),{renderType:t,renderFn:n}}};var pg=class extends pe{constructor(){let e=[],t={type:"number",description:c("rulers.size","Number of monospace characters at which this editor ruler will render.")};super(104,"rulers",e,{type:"array",items:{anyOf:[t,{type:["object"],properties:{column:t,color:{type:"string",description:c("rulers.color","Color of this editor ruler."),format:"color-hex"}}}]},default:e,description:c("rulers","Render vertical rulers after a certain number of monospace characters. Use multiple values for multiple rulers. No rulers are drawn if array is empty.")})}validate(e){if(Array.isArray(e)){let t=[];for(let n of e)if(typeof n=="number")t.push({column:fe.clampedInt(n,0,0,1e4),color:null});else if(n&&typeof n=="object"){let i=n;t.push({column:fe.clampedInt(i.column,0,0,1e4),color:i.color})}return t.sort((n,i)=>n.column-i.column),t}return this.defaultValue}},mg=class extends pe{constructor(){super(94,"readOnlyMessage",void 0)}validate(e){return!e||typeof e!="object"?this.defaultValue:e}};function Gm(r,e){if(typeof r!="string")return e;switch(r){case"hidden":return 2;case"visible":return 3;default:return 1}}var bg=class extends pe{constructor(){let e={vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1,ignoreHorizontalScrollbarInContentHeight:!1};super(105,"scrollbar",e,{"editor.scrollbar.vertical":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[c("scrollbar.vertical.auto","The vertical scrollbar will be visible only when necessary."),c("scrollbar.vertical.visible","The vertical scrollbar will always be visible."),c("scrollbar.vertical.fit","The vertical scrollbar will always be hidden.")],default:"auto",description:c("scrollbar.vertical","Controls the visibility of the vertical scrollbar.")},"editor.scrollbar.horizontal":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[c("scrollbar.horizontal.auto","The horizontal scrollbar will be visible only when necessary."),c("scrollbar.horizontal.visible","The horizontal scrollbar will always be visible."),c("scrollbar.horizontal.fit","The horizontal scrollbar will always be hidden.")],default:"auto",description:c("scrollbar.horizontal","Controls the visibility of the horizontal scrollbar.")},"editor.scrollbar.verticalScrollbarSize":{type:"number",default:e.verticalScrollbarSize,description:c("scrollbar.verticalScrollbarSize","The width of the vertical scrollbar.")},"editor.scrollbar.horizontalScrollbarSize":{type:"number",default:e.horizontalScrollbarSize,description:c("scrollbar.horizontalScrollbarSize","The height of the horizontal scrollbar.")},"editor.scrollbar.scrollByPage":{type:"boolean",default:e.scrollByPage,description:c("scrollbar.scrollByPage","Controls whether clicks scroll by page or jump to click position.")},"editor.scrollbar.ignoreHorizontalScrollbarInContentHeight":{type:"boolean",default:e.ignoreHorizontalScrollbarInContentHeight,description:c("scrollbar.ignoreHorizontalScrollbarInContentHeight","When set, the horizontal scrollbar will not increase the size of the editor's content.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;let t=e,n=fe.clampedInt(t.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),i=fe.clampedInt(t.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:fe.clampedInt(t.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:Gm(t.vertical,this.defaultValue.vertical),horizontal:Gm(t.horizontal,this.defaultValue.horizontal),useShadows:B(t.useShadows,this.defaultValue.useShadows),verticalHasArrows:B(t.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:B(t.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:B(t.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:B(t.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:n,horizontalSliderSize:fe.clampedInt(t.horizontalSliderSize,n,0,1e3),verticalScrollbarSize:i,verticalSliderSize:fe.clampedInt(t.verticalSliderSize,i,0,1e3),scrollByPage:B(t.scrollByPage,this.defaultValue.scrollByPage),ignoreHorizontalScrollbarInContentHeight:B(t.ignoreHorizontalScrollbarInContentHeight,this.defaultValue.ignoreHorizontalScrollbarInContentHeight)}}},Gt="inUntrustedWorkspace",ni={allowedCharacters:"editor.unicodeHighlight.allowedCharacters",invisibleCharacters:"editor.unicodeHighlight.invisibleCharacters",nonBasicASCII:"editor.unicodeHighlight.nonBasicASCII",ambiguousCharacters:"editor.unicodeHighlight.ambiguousCharacters",includeComments:"editor.unicodeHighlight.includeComments",includeStrings:"editor.unicodeHighlight.includeStrings",allowedLocales:"editor.unicodeHighlight.allowedLocales"},vg=class extends pe{constructor(){let e={nonBasicASCII:Gt,invisibleCharacters:!0,ambiguousCharacters:!0,includeComments:Gt,includeStrings:!0,allowedCharacters:{},allowedLocales:{_os:!0,_vscode:!0}};super(127,"unicodeHighlight",e,{[ni.nonBasicASCII]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,Gt],default:e.nonBasicASCII,description:c("unicodeHighlight.nonBasicASCII","Controls whether all non-basic ASCII characters are highlighted. Only characters between U+0020 and U+007E, tab, line-feed and carriage-return are considered basic ASCII.")},[ni.invisibleCharacters]:{restricted:!0,type:"boolean",default:e.invisibleCharacters,description:c("unicodeHighlight.invisibleCharacters","Controls whether characters that just reserve space or have no width at all are highlighted.")},[ni.ambiguousCharacters]:{restricted:!0,type:"boolean",default:e.ambiguousCharacters,description:c("unicodeHighlight.ambiguousCharacters","Controls whether characters are highlighted that can be confused with basic ASCII characters, except those that are common in the current user locale.")},[ni.includeComments]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,Gt],default:e.includeComments,description:c("unicodeHighlight.includeComments","Controls whether characters in comments should also be subject to Unicode highlighting.")},[ni.includeStrings]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,Gt],default:e.includeStrings,description:c("unicodeHighlight.includeStrings","Controls whether characters in strings should also be subject to Unicode highlighting.")},[ni.allowedCharacters]:{restricted:!0,type:"object",default:e.allowedCharacters,description:c("unicodeHighlight.allowedCharacters","Defines allowed characters that are not being highlighted."),additionalProperties:{type:"boolean"}},[ni.allowedLocales]:{restricted:!0,type:"object",additionalProperties:{type:"boolean"},default:e.allowedLocales,description:c("unicodeHighlight.allowedLocales","Unicode characters that are common in allowed locales are not being highlighted.")}})}applyUpdate(e,t){let n=!1;t.allowedCharacters&&e&&(gr(e.allowedCharacters,t.allowedCharacters)||(e={...e,allowedCharacters:t.allowedCharacters},n=!0)),t.allowedLocales&&e&&(gr(e.allowedLocales,t.allowedLocales)||(e={...e,allowedLocales:t.allowedLocales},n=!0));let i=super.applyUpdate(e,t);return n?new Yi(i.newValue,!0):i}validate(e){if(!e||typeof e!="object")return this.defaultValue;let t=e;return{nonBasicASCII:Qi(t.nonBasicASCII,Gt,[!0,!1,Gt]),invisibleCharacters:B(t.invisibleCharacters,this.defaultValue.invisibleCharacters),ambiguousCharacters:B(t.ambiguousCharacters,this.defaultValue.ambiguousCharacters),includeComments:Qi(t.includeComments,Gt,[!0,!1,Gt]),includeStrings:Qi(t.includeStrings,Gt,[!0,!1,Gt]),allowedCharacters:this.validateBooleanMap(e.allowedCharacters,this.defaultValue.allowedCharacters),allowedLocales:this.validateBooleanMap(e.allowedLocales,this.defaultValue.allowedLocales)}}validateBooleanMap(e,t){if(typeof e!="object"||!e)return t;let n={};for(let[i,o]of Object.entries(e))o===!0&&(n[i]=!0);return n}},yg=class extends pe{constructor(){let e={enabled:!0,mode:"subwordSmart",showToolbar:"onHover",suppressSuggestions:!1,keepOnBlur:!1,fontFamily:"default",syntaxHighlightingEnabled:!1};super(63,"inlineSuggest",e,{"editor.inlineSuggest.enabled":{type:"boolean",default:e.enabled,description:c("inlineSuggest.enabled","Controls whether to automatically show inline suggestions in the editor.")},"editor.inlineSuggest.showToolbar":{type:"string",default:e.showToolbar,enum:["always","onHover","never"],enumDescriptions:[c("inlineSuggest.showToolbar.always","Show the inline suggestion toolbar whenever an inline suggestion is shown."),c("inlineSuggest.showToolbar.onHover","Show the inline suggestion toolbar when hovering over an inline suggestion."),c("inlineSuggest.showToolbar.never","Never show the inline suggestion toolbar.")],description:c("inlineSuggest.showToolbar","Controls when to show the inline suggestion toolbar.")},"editor.inlineSuggest.syntaxHighlightingEnabled":{type:"boolean",default:e.syntaxHighlightingEnabled,description:c("inlineSuggest.syntaxHighlightingEnabled","Controls whether to show syntax highlighting for inline suggestions in the editor.")},"editor.inlineSuggest.suppressSuggestions":{type:"boolean",default:e.suppressSuggestions,description:c("inlineSuggest.suppressSuggestions","Controls how inline suggestions interact with the suggest widget. If enabled, the suggest widget is not shown automatically when inline suggestions are available.")},"editor.inlineSuggest.fontFamily":{type:"string",default:e.fontFamily,description:c("inlineSuggest.fontFamily","Controls the font family of the inline suggestions.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;let t=e;return{enabled:B(t.enabled,this.defaultValue.enabled),mode:we(t.mode,this.defaultValue.mode,["prefix","subword","subwordSmart"]),showToolbar:we(t.showToolbar,this.defaultValue.showToolbar,["always","onHover","never"]),suppressSuggestions:B(t.suppressSuggestions,this.defaultValue.suppressSuggestions),keepOnBlur:B(t.keepOnBlur,this.defaultValue.keepOnBlur),fontFamily:nt.string(t.fontFamily,this.defaultValue.fontFamily),syntaxHighlightingEnabled:B(t.syntaxHighlightingEnabled,this.defaultValue.syntaxHighlightingEnabled)}}},xg=class extends pe{constructor(){let e={enabled:!1,showToolbar:"onHover",fontFamily:"default",keepOnBlur:!1};super(64,"experimentalInlineEdit",e,{"editor.experimentalInlineEdit.enabled":{type:"boolean",default:e.enabled,description:c("inlineEdit.enabled","Controls whether to show inline edits in the editor.")},"editor.experimentalInlineEdit.showToolbar":{type:"string",default:e.showToolbar,enum:["always","onHover","never"],enumDescriptions:[c("inlineEdit.showToolbar.always","Show the inline edit toolbar whenever an inline suggestion is shown."),c("inlineEdit.showToolbar.onHover","Show the inline edit toolbar when hovering over an inline suggestion."),c("inlineEdit.showToolbar.never","Never show the inline edit toolbar.")],description:c("inlineEdit.showToolbar","Controls when to show the inline edit toolbar.")},"editor.experimentalInlineEdit.fontFamily":{type:"string",default:e.fontFamily,description:c("inlineEdit.fontFamily","Controls the font family of the inline edit.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;let t=e;return{enabled:B(t.enabled,this.defaultValue.enabled),showToolbar:we(t.showToolbar,this.defaultValue.showToolbar,["always","onHover","never"]),fontFamily:nt.string(t.fontFamily,this.defaultValue.fontFamily),keepOnBlur:B(t.keepOnBlur,this.defaultValue.keepOnBlur)}}},Ig=class extends pe{constructor(){let e={enabled:hn.bracketPairColorizationOptions.enabled,independentColorPoolPerBracketType:hn.bracketPairColorizationOptions.independentColorPoolPerBracketType};super(15,"bracketPairColorization",e,{"editor.bracketPairColorization.enabled":{type:"boolean",default:e.enabled,markdownDescription:c("bracketPairColorization.enabled","Controls whether bracket pair colorization is enabled or not. Use {0} to override the bracket highlight colors.","`#workbench.colorCustomizations#`")},"editor.bracketPairColorization.independentColorPoolPerBracketType":{type:"boolean",default:e.independentColorPoolPerBracketType,description:c("bracketPairColorization.independentColorPoolPerBracketType","Controls whether each bracket type has its own independent color pool.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;let t=e;return{enabled:B(t.enabled,this.defaultValue.enabled),independentColorPoolPerBracketType:B(t.independentColorPoolPerBracketType,this.defaultValue.independentColorPoolPerBracketType)}}},Tg=class extends pe{constructor(){let e={bracketPairs:!1,bracketPairsHorizontal:"active",highlightActiveBracketPair:!0,indentation:!0,highlightActiveIndentation:!0};super(16,"guides",e,{"editor.guides.bracketPairs":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[c("editor.guides.bracketPairs.true","Enables bracket pair guides."),c("editor.guides.bracketPairs.active","Enables bracket pair guides only for the active bracket pair."),c("editor.guides.bracketPairs.false","Disables bracket pair guides.")],default:e.bracketPairs,description:c("editor.guides.bracketPairs","Controls whether bracket pair guides are enabled or not.")},"editor.guides.bracketPairsHorizontal":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[c("editor.guides.bracketPairsHorizontal.true","Enables horizontal guides as addition to vertical bracket pair guides."),c("editor.guides.bracketPairsHorizontal.active","Enables horizontal guides only for the active bracket pair."),c("editor.guides.bracketPairsHorizontal.false","Disables horizontal bracket pair guides.")],default:e.bracketPairsHorizontal,description:c("editor.guides.bracketPairsHorizontal","Controls whether horizontal bracket pair guides are enabled or not.")},"editor.guides.highlightActiveBracketPair":{type:"boolean",default:e.highlightActiveBracketPair,description:c("editor.guides.highlightActiveBracketPair","Controls whether the editor should highlight the active bracket pair.")},"editor.guides.indentation":{type:"boolean",default:e.indentation,description:c("editor.guides.indentation","Controls whether the editor should render indent guides.")},"editor.guides.highlightActiveIndentation":{type:["boolean","string"],enum:[!0,"always",!1],enumDescriptions:[c("editor.guides.highlightActiveIndentation.true","Highlights the active indent guide."),c("editor.guides.highlightActiveIndentation.always","Highlights the active indent guide even if bracket guides are highlighted."),c("editor.guides.highlightActiveIndentation.false","Do not highlight the active indent guide.")],default:e.highlightActiveIndentation,description:c("editor.guides.highlightActiveIndentation","Controls whether the editor should highlight the active indent guide.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;let t=e;return{bracketPairs:Qi(t.bracketPairs,this.defaultValue.bracketPairs,[!0,!1,"active"]),bracketPairsHorizontal:Qi(t.bracketPairsHorizontal,this.defaultValue.bracketPairsHorizontal,[!0,!1,"active"]),highlightActiveBracketPair:B(t.highlightActiveBracketPair,this.defaultValue.highlightActiveBracketPair),indentation:B(t.indentation,this.defaultValue.indentation),highlightActiveIndentation:Qi(t.highlightActiveIndentation,this.defaultValue.highlightActiveIndentation,[!0,!1,"always"])}}};function Qi(r,e,t){let n=t.indexOf(r);return n===-1?e:t[n]}var Cg=class extends pe{constructor(){let e={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!1,localityBonus:!1,shareSuggestSelections:!1,selectionMode:"always",showIcons:!0,showStatusBar:!1,preview:!1,previewMode:"subwordSmart",showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showDeprecated:!0,matchOnWordStartOnly:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(120,"suggest",e,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[c("suggest.insertMode.insert","Insert suggestion without overwriting text right of the cursor."),c("suggest.insertMode.replace","Insert suggestion and overwrite text right of the cursor.")],default:e.insertMode,description:c("suggest.insertMode","Controls whether words are overwritten when accepting completions. Note that this depends on extensions opting into this feature.")},"editor.suggest.filterGraceful":{type:"boolean",default:e.filterGraceful,description:c("suggest.filterGraceful","Controls whether filtering and sorting suggestions accounts for small typos.")},"editor.suggest.localityBonus":{type:"boolean",default:e.localityBonus,description:c("suggest.localityBonus","Controls whether sorting favors words that appear close to the cursor.")},"editor.suggest.shareSuggestSelections":{type:"boolean",default:e.shareSuggestSelections,markdownDescription:c("suggest.shareSuggestSelections","Controls whether remembered suggestion selections are shared between multiple workspaces and windows (needs `#editor.suggestSelection#`).")},"editor.suggest.selectionMode":{type:"string",enum:["always","never","whenTriggerCharacter","whenQuickSuggestion"],enumDescriptions:[c("suggest.insertMode.always","Always select a suggestion when automatically triggering IntelliSense."),c("suggest.insertMode.never","Never select a suggestion when automatically triggering IntelliSense."),c("suggest.insertMode.whenTriggerCharacter","Select a suggestion only when triggering IntelliSense from a trigger character."),c("suggest.insertMode.whenQuickSuggestion","Select a suggestion only when triggering IntelliSense as you type.")],default:e.selectionMode,markdownDescription:c("suggest.selectionMode","Controls whether a suggestion is selected when the widget shows. Note that this only applies to automatically triggered suggestions ({0} and {1}) and that a suggestion is always selected when explicitly invoked, e.g via `Ctrl+Space`.","`#editor.quickSuggestions#`","`#editor.suggestOnTriggerCharacters#`")},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:e.snippetsPreventQuickSuggestions,description:c("suggest.snippetsPreventQuickSuggestions","Controls whether an active snippet prevents quick suggestions.")},"editor.suggest.showIcons":{type:"boolean",default:e.showIcons,description:c("suggest.showIcons","Controls whether to show or hide icons in suggestions.")},"editor.suggest.showStatusBar":{type:"boolean",default:e.showStatusBar,description:c("suggest.showStatusBar","Controls the visibility of the status bar at the bottom of the suggest widget.")},"editor.suggest.preview":{type:"boolean",default:e.preview,description:c("suggest.preview","Controls whether to preview the suggestion outcome in the editor.")},"editor.suggest.showInlineDetails":{type:"boolean",default:e.showInlineDetails,description:c("suggest.showInlineDetails","Controls whether suggest details show inline with the label or only in the details widget.")},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:c("suggest.maxVisibleSuggestions.dep","This setting is deprecated. The suggest widget can now be resized.")},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:c("deprecated","This setting is deprecated, please use separate settings like 'editor.suggest.showKeywords' or 'editor.suggest.showSnippets' instead.")},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:c("editor.suggest.showMethods","When enabled IntelliSense shows `method`-suggestions.")},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:c("editor.suggest.showFunctions","When enabled IntelliSense shows `function`-suggestions.")},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:c("editor.suggest.showConstructors","When enabled IntelliSense shows `constructor`-suggestions.")},"editor.suggest.showDeprecated":{type:"boolean",default:!0,markdownDescription:c("editor.suggest.showDeprecated","When enabled IntelliSense shows `deprecated`-suggestions.")},"editor.suggest.matchOnWordStartOnly":{type:"boolean",default:!0,markdownDescription:c("editor.suggest.matchOnWordStartOnly","When enabled IntelliSense filtering requires that the first character matches on a word start. For example, `c` on `Console` or `WebContext` but _not_ on `description`. When disabled IntelliSense will show more results but still sorts them by match quality.")},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:c("editor.suggest.showFields","When enabled IntelliSense shows `field`-suggestions.")},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:c("editor.suggest.showVariables","When enabled IntelliSense shows `variable`-suggestions.")},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:c("editor.suggest.showClasss","When enabled IntelliSense shows `class`-suggestions.")},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:c("editor.suggest.showStructs","When enabled IntelliSense shows `struct`-suggestions.")},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:c("editor.suggest.showInterfaces","When enabled IntelliSense shows `interface`-suggestions.")},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:c("editor.suggest.showModules","When enabled IntelliSense shows `module`-suggestions.")},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:c("editor.suggest.showPropertys","When enabled IntelliSense shows `property`-suggestions.")},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:c("editor.suggest.showEvents","When enabled IntelliSense shows `event`-suggestions.")},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:c("editor.suggest.showOperators","When enabled IntelliSense shows `operator`-suggestions.")},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:c("editor.suggest.showUnits","When enabled IntelliSense shows `unit`-suggestions.")},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:c("editor.suggest.showValues","When enabled IntelliSense shows `value`-suggestions.")},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:c("editor.suggest.showConstants","When enabled IntelliSense shows `constant`-suggestions.")},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:c("editor.suggest.showEnums","When enabled IntelliSense shows `enum`-suggestions.")},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:c("editor.suggest.showEnumMembers","When enabled IntelliSense shows `enumMember`-suggestions.")},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:c("editor.suggest.showKeywords","When enabled IntelliSense shows `keyword`-suggestions.")},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:c("editor.suggest.showTexts","When enabled IntelliSense shows `text`-suggestions.")},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:c("editor.suggest.showColors","When enabled IntelliSense shows `color`-suggestions.")},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:c("editor.suggest.showFiles","When enabled IntelliSense shows `file`-suggestions.")},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:c("editor.suggest.showReferences","When enabled IntelliSense shows `reference`-suggestions.")},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:c("editor.suggest.showCustomcolors","When enabled IntelliSense shows `customcolor`-suggestions.")},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:c("editor.suggest.showFolders","When enabled IntelliSense shows `folder`-suggestions.")},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:c("editor.suggest.showTypeParameters","When enabled IntelliSense shows `typeParameter`-suggestions.")},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:c("editor.suggest.showSnippets","When enabled IntelliSense shows `snippet`-suggestions.")},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:c("editor.suggest.showUsers","When enabled IntelliSense shows `user`-suggestions.")},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:c("editor.suggest.showIssues","When enabled IntelliSense shows `issues`-suggestions.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;let t=e;return{insertMode:we(t.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:B(t.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:B(t.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:B(t.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:B(t.shareSuggestSelections,this.defaultValue.shareSuggestSelections),selectionMode:we(t.selectionMode,this.defaultValue.selectionMode,["always","never","whenQuickSuggestion","whenTriggerCharacter"]),showIcons:B(t.showIcons,this.defaultValue.showIcons),showStatusBar:B(t.showStatusBar,this.defaultValue.showStatusBar),preview:B(t.preview,this.defaultValue.preview),previewMode:we(t.previewMode,this.defaultValue.previewMode,["prefix","subword","subwordSmart"]),showInlineDetails:B(t.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:B(t.showMethods,this.defaultValue.showMethods),showFunctions:B(t.showFunctions,this.defaultValue.showFunctions),showConstructors:B(t.showConstructors,this.defaultValue.showConstructors),showDeprecated:B(t.showDeprecated,this.defaultValue.showDeprecated),matchOnWordStartOnly:B(t.matchOnWordStartOnly,this.defaultValue.matchOnWordStartOnly),showFields:B(t.showFields,this.defaultValue.showFields),showVariables:B(t.showVariables,this.defaultValue.showVariables),showClasses:B(t.showClasses,this.defaultValue.showClasses),showStructs:B(t.showStructs,this.defaultValue.showStructs),showInterfaces:B(t.showInterfaces,this.defaultValue.showInterfaces),showModules:B(t.showModules,this.defaultValue.showModules),showProperties:B(t.showProperties,this.defaultValue.showProperties),showEvents:B(t.showEvents,this.defaultValue.showEvents),showOperators:B(t.showOperators,this.defaultValue.showOperators),showUnits:B(t.showUnits,this.defaultValue.showUnits),showValues:B(t.showValues,this.defaultValue.showValues),showConstants:B(t.showConstants,this.defaultValue.showConstants),showEnums:B(t.showEnums,this.defaultValue.showEnums),showEnumMembers:B(t.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:B(t.showKeywords,this.defaultValue.showKeywords),showWords:B(t.showWords,this.defaultValue.showWords),showColors:B(t.showColors,this.defaultValue.showColors),showFiles:B(t.showFiles,this.defaultValue.showFiles),showReferences:B(t.showReferences,this.defaultValue.showReferences),showFolders:B(t.showFolders,this.defaultValue.showFolders),showTypeParameters:B(t.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:B(t.showSnippets,this.defaultValue.showSnippets),showUsers:B(t.showUsers,this.defaultValue.showUsers),showIssues:B(t.showIssues,this.defaultValue.showIssues)}}},kg=class extends pe{constructor(){super(115,"smartSelect",{selectLeadingAndTrailingWhitespace:!0,selectSubwords:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:c("selectLeadingAndTrailingWhitespace","Whether leading and trailing whitespace should always be selected."),default:!0,type:"boolean"},"editor.smartSelect.selectSubwords":{description:c("selectSubwords","Whether subwords (like 'foo' in 'fooBar' or 'foo_bar') should be selected."),default:!0,type:"boolean"}})}validate(e){return!e||typeof e!="object"?this.defaultValue:{selectLeadingAndTrailingWhitespace:B(e.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace),selectSubwords:B(e.selectSubwords,this.defaultValue.selectSubwords)}}},_g=class extends pe{constructor(){let e=[];super(132,"wordSegmenterLocales",e,{anyOf:[{description:c("wordSegmenterLocales","Locales to be used for word segmentation when doing word related navigations or operations. Specify the BCP 47 language tag of the word you wish to recognize (e.g., ja, zh-CN, zh-Hant-TW, etc.)."),type:"string"},{description:c("wordSegmenterLocales","Locales to be used for word segmentation when doing word related navigations or operations. Specify the BCP 47 language tag of the word you wish to recognize (e.g., ja, zh-CN, zh-Hant-TW, etc.)."),type:"array",items:{type:"string"}}]})}validate(e){if(typeof e=="string"&&(e=[e]),Array.isArray(e)){let t=[];for(let n of e)if(typeof n=="string")try{Intl.Segmenter.supportedLocalesOf(n).length>0&&t.push(n)}catch{}return t}return this.defaultValue}};var Sg=class extends pe{constructor(){super(140,"wrappingIndent",1,{"editor.wrappingIndent":{type:"string",enum:["none","same","indent","deepIndent"],enumDescriptions:[c("wrappingIndent.none","No indentation. Wrapped lines begin at column 1."),c("wrappingIndent.same","Wrapped lines get the same indentation as the parent."),c("wrappingIndent.indent","Wrapped lines get +1 indentation toward the parent."),c("wrappingIndent.deepIndent","Wrapped lines get +2 indentation toward the parent.")],description:c("wrappingIndent","Controls the indentation of wrapped lines."),default:"same"}})}validate(e){switch(e){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}return 1}compute(e,t,n){return t.get(2)===2?0:n}},Lg=class extends ri{constructor(){super(148)}compute(e,t,n){let i=t.get(147);return{isDominatedByLongLines:e.isDominatedByLongLines,isWordWrapMinified:i.isWordWrapMinified,isViewportWrapping:i.isViewportWrapping,wrappingColumn:i.wrappingColumn}}},wg=class extends pe{constructor(){let e={enabled:!0,showDropSelector:"afterDrop"};super(36,"dropIntoEditor",e,{"editor.dropIntoEditor.enabled":{type:"boolean",default:e.enabled,markdownDescription:c("dropIntoEditor.enabled","Controls whether you can drag and drop a file into a text editor by holding down the `Shift` key (instead of opening the file in an editor).")},"editor.dropIntoEditor.showDropSelector":{type:"string",markdownDescription:c("dropIntoEditor.showDropSelector","Controls if a widget is shown when dropping files into the editor. This widget lets you control how the file is dropped."),enum:["afterDrop","never"],enumDescriptions:[c("dropIntoEditor.showDropSelector.afterDrop","Show the drop selector widget after a file is dropped into the editor."),c("dropIntoEditor.showDropSelector.never","Never show the drop selector widget. Instead the default drop provider is always used.")],default:"afterDrop"}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;let t=e;return{enabled:B(t.enabled,this.defaultValue.enabled),showDropSelector:we(t.showDropSelector,this.defaultValue.showDropSelector,["afterDrop","never"])}}},Eg=class extends pe{constructor(){let e={enabled:!0,showPasteSelector:"afterPaste"};super(86,"pasteAs",e,{"editor.pasteAs.enabled":{type:"boolean",default:e.enabled,markdownDescription:c("pasteAs.enabled","Controls whether you can paste content in different ways.")},"editor.pasteAs.showPasteSelector":{type:"string",markdownDescription:c("pasteAs.showPasteSelector","Controls if a widget is shown when pasting content in to the editor. This widget lets you control how the file is pasted."),enum:["afterPaste","never"],enumDescriptions:[c("pasteAs.showPasteSelector.afterPaste","Show the paste selector widget after content is pasted into the editor."),c("pasteAs.showPasteSelector.never","Never show the paste selector widget. Instead the default pasting behavior is always used.")],default:"afterPaste"}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;let t=e;return{enabled:B(t.enabled,this.defaultValue.enabled),showPasteSelector:we(t.showPasteSelector,this.defaultValue.showPasteSelector,["afterPaste","never"])}}},ux="Consolas, 'Courier New', monospace",cx="Menlo, Monaco, 'Courier New', monospace",dx="'Droid Sans Mono', 'monospace', monospace",fn={fontFamily:qe?cx:Ft?dx:ux,fontWeight:"normal",fontSize:qe?12:14,lineHeight:0,letterSpacing:0},gx=[];function L(r){return gx[r.id]=r,r}var Xy={acceptSuggestionOnCommitCharacter:L(new re(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:c("acceptSuggestionOnCommitCharacter","Controls whether suggestions should be accepted on commit characters. For example, in JavaScript, the semi-colon (`;`) can be a commit character that accepts a suggestion and types that character.")})),acceptSuggestionOnEnter:L(new Ce(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",c("acceptSuggestionOnEnterSmart","Only accept a suggestion with `Enter` when it makes a textual change."),""],markdownDescription:c("acceptSuggestionOnEnter","Controls whether suggestions should be accepted on `Enter`, in addition to `Tab`. Helps to avoid ambiguity between inserting new lines or accepting suggestions.")})),accessibilitySupport:L(new Kd),accessibilityPageSize:L(new fe(3,"accessibilityPageSize",10,1,1073741824,{description:c("accessibilityPageSize","Controls the number of lines in the editor that can be read out by a screen reader at once. When we detect a screen reader we automatically set the default to be 500. Warning: this has a performance implication for numbers larger than the default."),tags:["accessibility"]})),ariaLabel:L(new nt(4,"ariaLabel",c("editorViewAccessibleLabel","Editor content"))),ariaRequired:L(new re(5,"ariaRequired",!1,void 0)),screenReaderAnnounceInlineSuggestion:L(new re(8,"screenReaderAnnounceInlineSuggestion",!0,{description:c("screenReaderAnnounceInlineSuggestion","Control whether inline suggestions are announced by a screen reader."),tags:["accessibility"]})),autoClosingBrackets:L(new Ce(6,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",c("editor.autoClosingBrackets.languageDefined","Use language configurations to determine when to autoclose brackets."),c("editor.autoClosingBrackets.beforeWhitespace","Autoclose brackets only when the cursor is to the left of whitespace."),""],description:c("autoClosingBrackets","Controls whether the editor should automatically close brackets after the user adds an opening bracket.")})),autoClosingComments:L(new Ce(7,"autoClosingComments","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",c("editor.autoClosingComments.languageDefined","Use language configurations to determine when to autoclose comments."),c("editor.autoClosingComments.beforeWhitespace","Autoclose comments only when the cursor is to the left of whitespace."),""],description:c("autoClosingComments","Controls whether the editor should automatically close comments after the user adds an opening comment.")})),autoClosingDelete:L(new Ce(9,"autoClosingDelete","auto",["always","auto","never"],{enumDescriptions:["",c("editor.autoClosingDelete.auto","Remove adjacent closing quotes or brackets only if they were automatically inserted."),""],description:c("autoClosingDelete","Controls whether the editor should remove adjacent closing quotes or brackets when deleting.")})),autoClosingOvertype:L(new Ce(10,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",c("editor.autoClosingOvertype.auto","Type over closing quotes or brackets only if they were automatically inserted."),""],description:c("autoClosingOvertype","Controls whether the editor should type over closing quotes or brackets.")})),autoClosingQuotes:L(new Ce(11,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",c("editor.autoClosingQuotes.languageDefined","Use language configurations to determine when to autoclose quotes."),c("editor.autoClosingQuotes.beforeWhitespace","Autoclose quotes only when the cursor is to the left of whitespace."),""],description:c("autoClosingQuotes","Controls whether the editor should automatically close quotes after the user adds an opening quote.")})),autoIndent:L(new $i(12,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],ox,{enumDescriptions:[c("editor.autoIndent.none","The editor will not insert indentation automatically."),c("editor.autoIndent.keep","The editor will keep the current line's indentation."),c("editor.autoIndent.brackets","The editor will keep the current line's indentation and honor language defined brackets."),c("editor.autoIndent.advanced","The editor will keep the current line's indentation, honor language defined brackets and invoke special onEnterRules defined by languages."),c("editor.autoIndent.full","The editor will keep the current line's indentation, honor language defined brackets, invoke special onEnterRules defined by languages, and honor indentationRules defined by languages.")],description:c("autoIndent","Controls whether the editor should automatically adjust the indentation when users type, paste, move or indent lines.")})),automaticLayout:L(new re(13,"automaticLayout",!1)),autoSurround:L(new Ce(14,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[c("editor.autoSurround.languageDefined","Use language configurations to determine when to automatically surround selections."),c("editor.autoSurround.quotes","Surround with quotes but not brackets."),c("editor.autoSurround.brackets","Surround with brackets but not quotes."),""],description:c("autoSurround","Controls whether the editor should automatically surround selections when typing quotes or brackets.")})),bracketPairColorization:L(new Ig),bracketPairGuides:L(new Tg),stickyTabStops:L(new re(118,"stickyTabStops",!1,{description:c("stickyTabStops","Emulate selection behavior of tab characters when using spaces for indentation. Selection will stick to tab stops.")})),codeLens:L(new re(17,"codeLens",!0,{description:c("codeLens","Controls whether the editor shows CodeLens.")})),codeLensFontFamily:L(new nt(18,"codeLensFontFamily","",{description:c("codeLensFontFamily","Controls the font family for CodeLens.")})),codeLensFontSize:L(new fe(19,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,markdownDescription:c("codeLensFontSize","Controls the font size in pixels for CodeLens. When set to 0, 90% of `#editor.fontSize#` is used.")})),colorDecorators:L(new re(20,"colorDecorators",!0,{description:c("colorDecorators","Controls whether the editor should render the inline color decorators and color picker.")})),colorDecoratorActivatedOn:L(new Ce(150,"colorDecoratorsActivatedOn","clickAndHover",["clickAndHover","hover","click"],{enumDescriptions:[c("editor.colorDecoratorActivatedOn.clickAndHover","Make the color picker appear both on click and hover of the color decorator"),c("editor.colorDecoratorActivatedOn.hover","Make the color picker appear on hover of the color decorator"),c("editor.colorDecoratorActivatedOn.click","Make the color picker appear on click of the color decorator")],description:c("colorDecoratorActivatedOn","Controls the condition to make a color picker appear from a color decorator")})),colorDecoratorsLimit:L(new fe(21,"colorDecoratorsLimit",500,1,1e6,{markdownDescription:c("colorDecoratorsLimit","Controls the max number of color decorators that can be rendered in an editor at once.")})),columnSelection:L(new re(22,"columnSelection",!1,{description:c("columnSelection","Enable that the selection with the mouse and keys is doing column selection.")})),comments:L(new qd),contextmenu:L(new re(24,"contextmenu",!0)),copyWithSyntaxHighlighting:L(new re(25,"copyWithSyntaxHighlighting",!0,{description:c("copyWithSyntaxHighlighting","Controls whether syntax highlighting should be copied into the clipboard.")})),cursorBlinking:L(new $i(26,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],sx,{description:c("cursorBlinking","Control the cursor animation style.")})),cursorSmoothCaretAnimation:L(new Ce(27,"cursorSmoothCaretAnimation","off",["off","explicit","on"],{enumDescriptions:[c("cursorSmoothCaretAnimation.off","Smooth caret animation is disabled."),c("cursorSmoothCaretAnimation.explicit","Smooth caret animation is enabled only when the user moves the cursor with an explicit gesture."),c("cursorSmoothCaretAnimation.on","Smooth caret animation is always enabled.")],description:c("cursorSmoothCaretAnimation","Controls whether the smooth caret animation should be enabled.")})),cursorStyle:L(new $i(28,"cursorStyle",1,"line",["line","block","underline","line-thin","block-outline","underline-thin"],ax,{description:c("cursorStyle","Controls the cursor style.")})),cursorSurroundingLines:L(new fe(29,"cursorSurroundingLines",0,0,1073741824,{description:c("cursorSurroundingLines","Controls the minimal number of visible leading lines (minimum 0) and trailing lines (minimum 1) surrounding the cursor. Known as 'scrollOff' or 'scrollOffset' in some other editors.")})),cursorSurroundingLinesStyle:L(new Ce(30,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[c("cursorSurroundingLinesStyle.default","`cursorSurroundingLines` is enforced only when triggered via the keyboard or API."),c("cursorSurroundingLinesStyle.all","`cursorSurroundingLines` is enforced always.")],markdownDescription:c("cursorSurroundingLinesStyle","Controls when `#editor.cursorSurroundingLines#` should be enforced.")})),cursorWidth:L(new fe(31,"cursorWidth",0,0,1073741824,{markdownDescription:c("cursorWidth","Controls the width of the cursor when `#editor.cursorStyle#` is set to `line`.")})),disableLayerHinting:L(new re(32,"disableLayerHinting",!1)),disableMonospaceOptimizations:L(new re(33,"disableMonospaceOptimizations",!1)),domReadOnly:L(new re(34,"domReadOnly",!1)),dragAndDrop:L(new re(35,"dragAndDrop",!0,{description:c("dragAndDrop","Controls whether the editor should allow moving selections via drag and drop.")})),emptySelectionClipboard:L(new jd),dropIntoEditor:L(new wg),experimentalEditContextEnabled:L(new re(37,"experimentalEditContextEnabled",!1,{description:c("experimentalEditContextEnabled","Sets whether the new experimental edit context should be used instead of the text area.")})),stickyScroll:L(new ig),experimentalWhitespaceRendering:L(new Ce(39,"experimentalWhitespaceRendering","svg",["svg","font","off"],{enumDescriptions:[c("experimentalWhitespaceRendering.svg","Use a new rendering method with svgs."),c("experimentalWhitespaceRendering.font","Use a new rendering method with font characters."),c("experimentalWhitespaceRendering.off","Use the stable rendering method.")],description:c("experimentalWhitespaceRendering","Controls whether whitespace is rendered with a new, experimental method.")})),extraEditorClassName:L(new nt(40,"extraEditorClassName","")),fastScrollSensitivity:L(new Mt(41,"fastScrollSensitivity",5,r=>r<=0?5:r,{markdownDescription:c("fastScrollSensitivity","Scrolling speed multiplier when pressing `Alt`.")})),find:L(new $d),fixedOverflowWidgets:L(new re(43,"fixedOverflowWidgets",!1)),folding:L(new re(44,"folding",!0,{description:c("folding","Controls whether the editor has code folding enabled.")})),foldingStrategy:L(new Ce(45,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[c("foldingStrategy.auto","Use a language-specific folding strategy if available, else the indentation-based one."),c("foldingStrategy.indentation","Use the indentation-based folding strategy.")],description:c("foldingStrategy","Controls the strategy for computing folding ranges.")})),foldingHighlight:L(new re(46,"foldingHighlight",!0,{description:c("foldingHighlight","Controls whether the editor should highlight folded ranges.")})),foldingImportsByDefault:L(new re(47,"foldingImportsByDefault",!1,{description:c("foldingImportsByDefault","Controls whether the editor automatically collapses import ranges.")})),foldingMaximumRegions:L(new fe(48,"foldingMaximumRegions",5e3,10,65e3,{description:c("foldingMaximumRegions","The maximum number of foldable regions. Increasing this value may result in the editor becoming less responsive when the current source has a large number of foldable regions.")})),unfoldOnClickAfterEndOfLine:L(new re(49,"unfoldOnClickAfterEndOfLine",!1,{description:c("unfoldOnClickAfterEndOfLine","Controls whether clicking on the empty content after a folded line will unfold the line.")})),fontFamily:L(new nt(50,"fontFamily",fn.fontFamily,{description:c("fontFamily","Controls the font family.")})),fontInfo:L(new Qd),fontLigatures2:L(new Yd),fontSize:L(new Xd),fontWeight:L(new Jd),fontVariations:L(new vl),formatOnPaste:L(new re(56,"formatOnPaste",!1,{description:c("formatOnPaste","Controls whether the editor should automatically format the pasted content. A formatter must be available and the formatter should be able to format a range in a document.")})),formatOnType:L(new re(57,"formatOnType",!1,{description:c("formatOnType","Controls whether the editor should automatically format the line after typing.")})),glyphMargin:L(new re(58,"glyphMargin",!0,{description:c("glyphMargin","Controls whether the editor should render the vertical glyph margin. Glyph margin is mostly used for debugging.")})),gotoLocation:L(new Zd),hideCursorInOverviewRuler:L(new re(60,"hideCursorInOverviewRuler",!1,{description:c("hideCursorInOverviewRuler","Controls whether the cursor should be hidden in the overview ruler.")})),hover:L(new eg),inDiffEditor:L(new re(62,"inDiffEditor",!1)),letterSpacing:L(new Mt(65,"letterSpacing",fn.letterSpacing,r=>Mt.clamp(r,-5,20),{description:c("letterSpacing","Controls the letter spacing in pixels.")})),lightbulb:L(new rg),lineDecorationsWidth:L(new sg),lineHeight:L(new ag),lineNumbers:L(new hg),lineNumbersMinChars:L(new fe(70,"lineNumbersMinChars",5,1,300)),linkedEditing:L(new re(71,"linkedEditing",!1,{description:c("linkedEditing","Controls whether the editor has linked editing enabled. Depending on the language, related symbols such as HTML tags, are updated while editing.")})),links:L(new re(72,"links",!0,{description:c("links","Controls whether the editor should detect links and make them clickable.")})),matchBrackets:L(new Ce(73,"matchBrackets","always",["always","near","never"],{description:c("matchBrackets","Highlight matching brackets.")})),minimap:L(new lg),mouseStyle:L(new Ce(75,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:L(new Mt(76,"mouseWheelScrollSensitivity",1,r=>r===0?1:r,{markdownDescription:c("mouseWheelScrollSensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")})),mouseWheelZoom:L(new re(77,"mouseWheelZoom",!1,{markdownDescription:qe?c("mouseWheelZoom.mac","Zoom the font of the editor when using mouse wheel and holding `Cmd`."):c("mouseWheelZoom","Zoom the font of the editor when using mouse wheel and holding `Ctrl`.")})),multiCursorMergeOverlapping:L(new re(78,"multiCursorMergeOverlapping",!0,{description:c("multiCursorMergeOverlapping","Merge multiple cursors when they are overlapping.")})),multiCursorModifier:L(new $i(79,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],lx,{markdownEnumDescriptions:[c("multiCursorModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),c("multiCursorModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],markdownDescription:c({key:"multiCursorModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add multiple cursors with the mouse. The Go to Definition and Open Link mouse gestures will adapt such that they do not conflict with the [multicursor modifier](https://code.visualstudio.com/docs/editor/codebasics#_multicursor-modifier).")})),multiCursorPaste:L(new Ce(80,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[c("multiCursorPaste.spread","Each cursor pastes a single line of the text."),c("multiCursorPaste.full","Each cursor pastes the full text.")],markdownDescription:c("multiCursorPaste","Controls pasting when the line count of the pasted text matches the cursor count.")})),multiCursorLimit:L(new fe(81,"multiCursorLimit",1e4,1,1e5,{markdownDescription:c("multiCursorLimit","Controls the max number of cursors that can be in an active editor at once.")})),occurrencesHighlight:L(new Ce(82,"occurrencesHighlight","singleFile",["off","singleFile","multiFile"],{markdownEnumDescriptions:[c("occurrencesHighlight.off","Does not highlight occurrences."),c("occurrencesHighlight.singleFile","Highlights occurrences only in the current file."),c("occurrencesHighlight.multiFile","Experimental: Highlights occurrences across all valid open files.")],markdownDescription:c("occurrencesHighlight","Controls whether occurrences should be highlighted across open files.")})),overviewRulerBorder:L(new re(83,"overviewRulerBorder",!0,{description:c("overviewRulerBorder","Controls whether a border should be drawn around the overview ruler.")})),overviewRulerLanes:L(new fe(84,"overviewRulerLanes",3,0,3)),padding:L(new ug),pasteAs:L(new Eg),parameterHints:L(new cg),peekWidgetDefaultFocus:L(new Ce(88,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[c("peekWidgetDefaultFocus.tree","Focus the tree when opening peek"),c("peekWidgetDefaultFocus.editor","Focus the editor when opening peek")],description:c("peekWidgetDefaultFocus","Controls whether to focus the inline editor or the tree in the peek widget.")})),placeholder:L(new gg),definitionLinkOpensInPeek:L(new re(90,"definitionLinkOpensInPeek",!1,{description:c("definitionLinkOpensInPeek","Controls whether the Go to Definition mouse gesture always opens the peek widget.")})),quickSuggestions:L(new fg),quickSuggestionsDelay:L(new fe(92,"quickSuggestionsDelay",10,0,1073741824,{description:c("quickSuggestionsDelay","Controls the delay in milliseconds after which quick suggestions will show up.")})),readOnly:L(new re(93,"readOnly",!1)),readOnlyMessage:L(new mg),renameOnType:L(new re(95,"renameOnType",!1,{description:c("renameOnType","Controls whether the editor auto renames on type."),markdownDeprecationMessage:c("renameOnTypeDeprecate","Deprecated, use `editor.linkedEditing` instead.")})),renderControlCharacters:L(new re(96,"renderControlCharacters",!0,{description:c("renderControlCharacters","Controls whether the editor should render control characters."),restricted:!0})),renderFinalNewline:L(new Ce(97,"renderFinalNewline",Ft?"dimmed":"on",["off","on","dimmed"],{description:c("renderFinalNewline","Render last line number when the file ends with a newline.")})),renderLineHighlight:L(new Ce(98,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",c("renderLineHighlight.all","Highlights both the gutter and the current line.")],description:c("renderLineHighlight","Controls how the editor should render the current line highlight.")})),renderLineHighlightOnlyWhenFocus:L(new re(99,"renderLineHighlightOnlyWhenFocus",!1,{description:c("renderLineHighlightOnlyWhenFocus","Controls if the editor should render the current line highlight only when the editor is focused.")})),renderValidationDecorations:L(new Ce(100,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:L(new Ce(101,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",c("renderWhitespace.boundary","Render whitespace characters except for single spaces between words."),c("renderWhitespace.selection","Render whitespace characters only on selected text."),c("renderWhitespace.trailing","Render only trailing whitespace characters."),""],description:c("renderWhitespace","Controls how the editor should render whitespace characters.")})),revealHorizontalRightPadding:L(new fe(102,"revealHorizontalRightPadding",15,0,1e3)),roundedSelection:L(new re(103,"roundedSelection",!0,{description:c("roundedSelection","Controls whether selections should have rounded corners.")})),rulers:L(new pg),scrollbar:L(new bg),scrollBeyondLastColumn:L(new fe(106,"scrollBeyondLastColumn",4,0,1073741824,{description:c("scrollBeyondLastColumn","Controls the number of extra characters beyond which the editor will scroll horizontally.")})),scrollBeyondLastLine:L(new re(107,"scrollBeyondLastLine",!0,{description:c("scrollBeyondLastLine","Controls whether the editor will scroll beyond the last line.")})),scrollPredominantAxis:L(new re(108,"scrollPredominantAxis",!0,{description:c("scrollPredominantAxis","Scroll only along the predominant axis when scrolling both vertically and horizontally at the same time. Prevents horizontal drift when scrolling vertically on a trackpad.")})),selectionClipboard:L(new re(109,"selectionClipboard",!0,{description:c("selectionClipboard","Controls whether the Linux primary clipboard should be supported."),included:Ft})),selectionHighlight:L(new re(110,"selectionHighlight",!0,{description:c("selectionHighlight","Controls whether the editor should highlight matches similar to the selection.")})),selectOnLineNumbers:L(new re(111,"selectOnLineNumbers",!0)),showFoldingControls:L(new Ce(112,"showFoldingControls","mouseover",["always","never","mouseover"],{enumDescriptions:[c("showFoldingControls.always","Always show the folding controls."),c("showFoldingControls.never","Never show the folding controls and reduce the gutter size."),c("showFoldingControls.mouseover","Only show the folding controls when the mouse is over the gutter.")],description:c("showFoldingControls","Controls when the folding controls on the gutter are shown.")})),showUnused:L(new re(113,"showUnused",!0,{description:c("showUnused","Controls fading out of unused code.")})),showDeprecated:L(new re(142,"showDeprecated",!0,{description:c("showDeprecated","Controls strikethrough deprecated variables.")})),inlayHints:L(new og),snippetSuggestions:L(new Ce(114,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[c("snippetSuggestions.top","Show snippet suggestions on top of other suggestions."),c("snippetSuggestions.bottom","Show snippet suggestions below other suggestions."),c("snippetSuggestions.inline","Show snippets suggestions with other suggestions."),c("snippetSuggestions.none","Do not show snippet suggestions.")],description:c("snippetSuggestions","Controls whether snippets are shown with other suggestions and how they are sorted.")})),smartSelect:L(new kg),smoothScrolling:L(new re(116,"smoothScrolling",!1,{description:c("smoothScrolling","Controls whether the editor will scroll using an animation.")})),stopRenderingLineAfter:L(new fe(119,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:L(new Cg),inlineSuggest:L(new yg),inlineEdit:L(new xg),inlineCompletionsAccessibilityVerbose:L(new re(151,"inlineCompletionsAccessibilityVerbose",!1,{description:c("inlineCompletionsAccessibilityVerbose","Controls whether the accessibility hint should be provided to screen reader users when an inline completion is shown.")})),suggestFontSize:L(new fe(121,"suggestFontSize",0,0,1e3,{markdownDescription:c("suggestFontSize","Font size for the suggest widget. When set to {0}, the value of {1} is used.","`0`","`#editor.fontSize#`")})),suggestLineHeight:L(new fe(122,"suggestLineHeight",0,0,1e3,{markdownDescription:c("suggestLineHeight","Line height for the suggest widget. When set to {0}, the value of {1} is used. The minimum value is 8.","`0`","`#editor.lineHeight#`")})),suggestOnTriggerCharacters:L(new re(123,"suggestOnTriggerCharacters",!0,{description:c("suggestOnTriggerCharacters","Controls whether suggestions should automatically show up when typing trigger characters.")})),suggestSelection:L(new Ce(124,"suggestSelection","first",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[c("suggestSelection.first","Always select the first suggestion."),c("suggestSelection.recentlyUsed","Select recent suggestions unless further typing selects one, e.g. `console.| -> console.log` because `log` has been completed recently."),c("suggestSelection.recentlyUsedByPrefix","Select suggestions based on previous prefixes that have completed those suggestions, e.g. `co -> console` and `con -> const`.")],description:c("suggestSelection","Controls how suggestions are pre-selected when showing the suggest list.")})),tabCompletion:L(new Ce(125,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[c("tabCompletion.on","Tab complete will insert the best matching suggestion when pressing tab."),c("tabCompletion.off","Disable tab completions."),c("tabCompletion.onlySnippets","Tab complete snippets when their prefix match. Works best when 'quickSuggestions' aren't enabled.")],description:c("tabCompletion","Enables tab completions.")})),tabIndex:L(new fe(126,"tabIndex",0,-1,1073741824)),unicodeHighlight:L(new vg),unusualLineTerminators:L(new Ce(128,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[c("unusualLineTerminators.auto","Unusual line terminators are automatically removed."),c("unusualLineTerminators.off","Unusual line terminators are ignored."),c("unusualLineTerminators.prompt","Unusual line terminators prompt to be removed.")],description:c("unusualLineTerminators","Remove unusual line terminators that might cause problems.")})),useShadowDOM:L(new re(129,"useShadowDOM",!0)),useTabStops:L(new re(130,"useTabStops",!0,{description:c("useTabStops","Spaces and tabs are inserted and deleted in alignment with tab stops.")})),wordBreak:L(new Ce(131,"wordBreak","normal",["normal","keepAll"],{markdownEnumDescriptions:[c("wordBreak.normal","Use the default line break rule."),c("wordBreak.keepAll","Word breaks should not be used for Chinese/Japanese/Korean (CJK) text. Non-CJK text behavior is the same as for normal.")],description:c("wordBreak","Controls the word break rules used for Chinese/Japanese/Korean (CJK) text.")})),wordSegmenterLocales:L(new _g),wordSeparators:L(new nt(133,"wordSeparators",Cd,{description:c("wordSeparators","Characters that will be used as word separators when doing word related navigations or operations.")})),wordWrap:L(new Ce(134,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[c("wordWrap.off","Lines will never wrap."),c("wordWrap.on","Lines will wrap at the viewport width."),c({key:"wordWrap.wordWrapColumn",comment:["- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at `#editor.wordWrapColumn#`."),c({key:"wordWrap.bounded",comment:["- viewport means the edge of the visible window size.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at the minimum of viewport and `#editor.wordWrapColumn#`.")],description:c({key:"wordWrap",comment:["- 'off', 'on', 'wordWrapColumn' and 'bounded' refer to values the setting can take and should not be localized.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Controls how lines should wrap.")})),wordWrapBreakAfterCharacters:L(new nt(135,"wordWrapBreakAfterCharacters"," 	})]?|/&.,;\xA2\xB0\u2032\u2033\u2030\u2103\u3001\u3002\uFF61\uFF64\uFFE0\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF01\uFF05\u30FB\uFF65\u309D\u309E\u30FD\u30FE\u30FC\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u3095\u3096\u31F0\u31F1\u31F2\u31F3\u31F4\u31F5\u31F6\u31F7\u31F8\u31F9\u31FA\u31FB\u31FC\u31FD\u31FE\u31FF\u3005\u303B\uFF67\uFF68\uFF69\uFF6A\uFF6B\uFF6C\uFF6D\uFF6E\uFF6F\uFF70\u201D\u3009\u300B\u300D\u300F\u3011\u3015\uFF09\uFF3D\uFF5D\uFF63")),wordWrapBreakBeforeCharacters:L(new nt(136,"wordWrapBreakBeforeCharacters","([{\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B\uFF62\xA3\xA5\uFF04\uFFE1\uFFE5+\uFF0B")),wordWrapColumn:L(new fe(137,"wordWrapColumn",80,1,1073741824,{markdownDescription:c({key:"wordWrapColumn",comment:["- `editor.wordWrap` refers to a different setting and should not be localized.","- 'wordWrapColumn' and 'bounded' refer to values the different setting can take and should not be localized."]},"Controls the wrapping column of the editor when `#editor.wordWrap#` is `wordWrapColumn` or `bounded`.")})),wordWrapOverride1:L(new Ce(138,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:L(new Ce(139,"wordWrapOverride2","inherit",["off","on","inherit"])),editorClassName:L(new Gd),defaultColorDecorators:L(new re(149,"defaultColorDecorators",!1,{markdownDescription:c("defaultColorDecorators","Controls whether inline color decorations should be shown using the default document color provider")})),pixelRatio:L(new dg),tabFocusMode:L(new re(146,"tabFocusMode",!1,{markdownDescription:c("tabFocusMode","Controls whether the editor receives tabs or defers them to the workbench for navigation.")})),layoutInfo:L(new tg),wrappingInfo:L(new Lg),wrappingIndent:L(new Sg),wrappingStrategy:L(new ng)};var wl=class r{_brackets;_regExpRules;constructor(e){e=e||{},e.brackets=e.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],e.brackets.forEach(t=>{let n=r._createOpenBracketRegExp(t[0]),i=r._createCloseBracketRegExp(t[1]);n&&i&&this._brackets.push({open:t[0],openRegExp:n,close:t[1],closeRegExp:i})}),this._regExpRules=e.onEnterRules||[]}onEnter(e,t,n,i){if(e>=3)for(let o=0,s=this._regExpRules.length;o<s;o++){let a=this._regExpRules[o];if([{reg:a.beforeText,text:n},{reg:a.afterText,text:i},{reg:a.previousLineText,text:t}].every(u=>u.reg?(u.reg.lastIndex=0,u.reg.test(u.text)):!0))return a.action}if(e>=2&&n.length>0&&i.length>0)for(let o=0,s=this._brackets.length;o<s;o++){let a=this._brackets[o];if(a.openRegExp.test(n)&&a.closeRegExp.test(i))return{indentAction:2}}if(e>=2&&n.length>0){for(let o=0,s=this._brackets.length;o<s;o++)if(this._brackets[o].openRegExp.test(n))return{indentAction:1}}return null}static _createOpenBracketRegExp(e){let t=At(e);return/\B/.test(t.charAt(0))||(t="\\b"+t),t+="\\s*$",r._safeRegExp(t)}static _createCloseBracketRegExp(e){let t=At(e);return/\B/.test(t.charAt(t.length-1))||(t=t+"\\b"),t="^\\s*"+t,r._safeRegExp(t)}static _safeRegExp(e){try{return new RegExp(e)}catch(t){return Ie(t),null}}};var fx=[];function jm(r,e,t){e instanceof Jo||(e=new Jo(e,[],!!t)),fx.push([r,e])}var $m=Object.freeze({text:"text/plain",binary:"application/octet-stream",unknown:"application/unknown",markdown:"text/markdown",latex:"text/latex",uriList:"text/uri-list"});var hx={ModesRegistry:"editor.modesRegistry"},Rg=class{_languages;_onDidChangeLanguages=new U;onDidChangeLanguages=this._onDidChangeLanguages.event;constructor(){this._languages=[]}registerLanguage(e){return this._languages.push(e),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let t=0,n=this._languages.length;t<n;t++)if(this._languages[t]===e){this._languages.splice(t,1);return}}}}getLanguages(){return this._languages}},Ym=new Rg;dt.add(hx.ModesRegistry,Ym);var Dg="plaintext",px=".txt";Ym.registerLanguage({id:Dg,extensions:[px],aliases:[c("plainText.alias","Plain Text"),"text"],mimetypes:[$m.text]});dt.as(Vd.Configuration).registerDefaultConfigurations([{overrides:{"[plaintext]":{"editor.unicodeHighlight.ambiguousCharacters":!1,"editor.unicodeHighlight.invisibleCharacters":!1}}}]);var hs=class{constructor(e){this.languageId=e}affects(e){return this.languageId?this.languageId===e:!0}},ii=de("languageConfigurationService"),fs=class extends oe{constructor(t,n){super();this.configurationService=t;this.languageService=n;let i=new Set(Object.values(Ag));this._register(this.configurationService.onDidChangeConfiguration(o=>{let s=o.change.keys.some(l=>i.has(l)),a=o.change.overrides.filter(([l,u])=>u.some(d=>i.has(d))).map(([l])=>l);if(s)this.configurations.clear(),this.onDidChangeEmitter.fire(new hs(void 0));else for(let l of a)this.languageService.isRegisteredLanguageId(l)&&(this.configurations.delete(l),this.onDidChangeEmitter.fire(new hs(l)))})),this._register(this._registry.onDidChange(o=>{this.configurations.delete(o.languageId),this.onDidChangeEmitter.fire(new hs(o.languageId))}))}_serviceBrand;_registry=this._register(new Mg);onDidChangeEmitter=this._register(new U);onDidChange=this.onDidChangeEmitter.event;configurations=new Map;register(t,n,i){return this._registry.register(t,n,i)}getLanguageConfiguration(t){let n=this.configurations.get(t);return n||(n=mx(t,this._registry,this.configurationService,this.languageService),this.configurations.set(t,n)),n}};fs=rn([ze(0,Vm),ze(1,Vi)],fs);function mx(r,e,t,n){let i=e.getLanguageConfiguration(r);if(!i){if(!n.isRegisteredLanguageId(r))return new Xi(r,{});i=new Xi(r,{})}let o=bx(i.languageId,t),s=Xm([i.underlyingConfig,o]);return new Xi(i.languageId,s)}var Ag={brackets:"editor.language.brackets",colorizedBracketPairs:"editor.language.colorizedBracketPairs"};function bx(r,e){let t=e.getValue(Ag.brackets,{overrideIdentifier:r}),n=e.getValue(Ag.colorizedBracketPairs,{overrideIdentifier:r});return{brackets:Qm(t),colorizedBracketPairs:Qm(n)}}function Qm(r){if(Array.isArray(r))return r.map(e=>{if(!(!Array.isArray(e)||e.length!==2))return[e[0],e[1]]}).filter(e=>!!e)}var Ng=class{constructor(e){this.languageId=e;this._entries=[],this._order=0,this._resolved=null}_entries;_order;_resolved=null;register(e,t){let n=new El(e,t,++this._order);return this._entries.push(n),this._resolved=null,Se(()=>{for(let i=0;i<this._entries.length;i++)if(this._entries[i]===n){this._entries.splice(i,1),this._resolved=null;break}})}getResolvedConfiguration(){if(!this._resolved){let e=this._resolve();e&&(this._resolved=new Xi(this.languageId,e))}return this._resolved}_resolve(){return this._entries.length===0?null:(this._entries.sort(El.cmp),Xm(this._entries.map(e=>e.configuration)))}};function Xm(r){let e={comments:void 0,brackets:void 0,wordPattern:void 0,indentationRules:void 0,onEnterRules:void 0,autoClosingPairs:void 0,surroundingPairs:void 0,autoCloseBefore:void 0,folding:void 0,colorizedBracketPairs:void 0,__electricCharacterSupport:void 0};for(let t of r)e={comments:t.comments||e.comments,brackets:t.brackets||e.brackets,wordPattern:t.wordPattern||e.wordPattern,indentationRules:t.indentationRules||e.indentationRules,onEnterRules:t.onEnterRules||e.onEnterRules,autoClosingPairs:t.autoClosingPairs||e.autoClosingPairs,surroundingPairs:t.surroundingPairs||e.surroundingPairs,autoCloseBefore:t.autoCloseBefore||e.autoCloseBefore,folding:t.folding||e.folding,colorizedBracketPairs:t.colorizedBracketPairs||e.colorizedBracketPairs,__electricCharacterSupport:t.__electricCharacterSupport||e.__electricCharacterSupport};return e}var El=class{constructor(e,t,n){this.configuration=e;this.priority=t;this.order=n}static cmp(e,t){return e.priority===t.priority?e.order-t.order:e.priority-t.priority}},Rl=class{constructor(e){this.languageId=e}},Mg=class extends oe{_entries=new Map;_onDidChange=this._register(new U);onDidChange=this._onDidChange.event;constructor(){super(),this._register(this.register(Dg,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],colorizedBracketPairs:[],folding:{offSide:!0}},0))}register(e,t,n=0){let i=this._entries.get(e);i||(i=new Ng(e),this._entries.set(e,i));let o=i.register(t,n);return this._onDidChange.fire(new Rl(e)),Se(()=>{o.dispose(),this._onDidChange.fire(new Rl(e))})}getLanguageConfiguration(e){return this._entries.get(e)?.getResolvedConfiguration()||null}},Xi=class r{constructor(e,t){this.languageId=e;this.underlyingConfig=t;this._brackets=null,this._electricCharacter=null,this._onEnterSupport=this.underlyingConfig.brackets||this.underlyingConfig.indentationRules||this.underlyingConfig.onEnterRules?new wl(this.underlyingConfig):null,this.comments=r._handleComments(this.underlyingConfig),this.characterPair=new hl(this.underlyingConfig),this.wordDefinition=this.underlyingConfig.wordPattern||$o,this.indentationRules=this.underlyingConfig.indentationRules,this.underlyingConfig.indentationRules?this.indentRulesSupport=new bl(this.underlyingConfig.indentationRules):this.indentRulesSupport=null,this.foldingRules=this.underlyingConfig.folding||{},this.bracketsNew=new cl(e,this.underlyingConfig)}_brackets;_electricCharacter;_onEnterSupport;comments;characterPair;wordDefinition;indentRulesSupport;indentationRules;foldingRules;bracketsNew;getWordDefinition(){return Yo(this.wordDefinition)}get brackets(){return!this._brackets&&this.underlyingConfig.brackets&&(this._brackets=new ll(this.languageId,this.underlyingConfig.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new pl(this.brackets)),this._electricCharacter}onEnter(e,t,n,i){return this._onEnterSupport?this._onEnterSupport.onEnter(e,t,n,i):null}getAutoClosingPairs(){return new al(this.characterPair.getAutoClosingPairs())}getAutoCloseBeforeSet(e){return this.characterPair.getAutoCloseBeforeSet(e)}getSurroundingPairs(){return this.characterPair.getSurroundingPairs()}static _handleComments(e){let t=e.comments;if(!t)return null;let n={};if(t.lineComment&&(n.lineCommentToken=t.lineComment),t.blockComment){let[i,o]=t.blockComment;n.blockCommentStartToken=i,n.blockCommentEndToken=o}return n}};jm(ii,fs,1);var Og=class r{constructor(e){this.map=e}static createFromLanguage(e,t){function n(o){return t.getKey(`${o.languageId}:::${o.bracketText}`)}let i=new Map;for(let o of e.bracketsNew.openingBrackets){let s=ke(0,o.bracketText.length),a=n(o),l=Ye.getEmpty().add(a,Fd);i.set(o.bracketText,new jt(s,1,a,l,ps.create(s,o,l)))}for(let o of e.bracketsNew.closingBrackets){let s=ke(0,o.bracketText.length),a=Ye.getEmpty(),l=o.getOpeningBrackets();for(let u of l)a=a.add(n(u),Fd);i.set(o.bracketText,new jt(s,2,n(l[0]),a,ps.create(s,o,a)))}return new r(i)}hasRegExp=!1;_regExpGlobal=null;getRegExpStr(){if(this.isEmpty)return null;{let e=[...this.map.keys()];return e.sort(),e.reverse(),e.map(t=>vx(t)).join("|")}}get regExpGlobal(){if(!this.hasRegExp){let e=this.getRegExpStr();this._regExpGlobal=e?new RegExp(e,"gi"):null,this.hasRegExp=!0}return this._regExpGlobal}getToken(e){return this.map.get(e.toLowerCase())}findClosingTokenText(e){for(let[t,n]of this.map)if(n.kind===2&&n.bracketIds.intersects(e))return t}get isEmpty(){return this.map.size===0}};function vx(r){let e=At(r);return/^[\w ]+/.test(r)&&(e=`\\b${e}`),/[\w ]+$/.test(r)&&(e=`${e}\\b`),e}var Dl=class{constructor(e,t){this.denseKeyProvider=e;this.getLanguageConfiguration=t}languageIdToBracketTokens=new Map;didLanguageChange(e){return this.languageIdToBracketTokens.has(e)}getSingleLanguageBracketTokens(e){let t=this.languageIdToBracketTokens.get(e);return t||(t=Og.createFromLanguage(this.getLanguageConfiguration(e),this.denseKeyProvider),this.languageIdToBracketTokens.set(e,t)),t}getToken(e,t){return this.getSingleLanguageBracketTokens(t).getToken(e)}};var jt=class{constructor(e,t,n,i,o){this.length=e;this.kind=t;this.bracketId=n;this.bracketIds=i;this.astNode=o}},Al=class{constructor(e,t){this.textModel=e;this.bracketTokens=t;this.textBufferLineCount=e.getLineCount(),this.textBufferLastLineLength=e.getLineLength(this.textBufferLineCount)}textBufferLineCount;textBufferLastLineLength;reader=new Pg(this.textModel,this.bracketTokens);_offset=Ue;get offset(){return this._offset}get length(){return ke(this.textBufferLineCount-1,this.textBufferLastLineLength)}getText(){return this.textModel.getValue()}skip(e){this.didPeek=!1,this._offset=Te(this._offset,e);let t=ot(this._offset);this.reader.setPosition(t.lineCount,t.columnCount)}didPeek=!1;peeked=null;read(){let e;return this.peeked?(this.didPeek=!1,e=this.peeked):e=this.reader.read(),e&&(this._offset=Te(this._offset,e.length)),e}peek(){return this.didPeek||(this.peeked=this.reader.read(),this.didPeek=!0),this.peeked}},Pg=class{constructor(e,t){this.textModel=e;this.bracketTokens=t;this.textBufferLineCount=e.getLineCount(),this.textBufferLastLineLength=e.getLineLength(this.textBufferLineCount)}textBufferLineCount;textBufferLastLineLength;lineIdx=0;line=null;lineCharOffset=0;lineTokens=null;lineTokenOffset=0;setPosition(e,t){e===this.lineIdx?(this.lineCharOffset=t,this.line!==null&&(this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset))):(this.lineIdx=e,this.lineCharOffset=t,this.line=null),this.peekedToken=null}peekedToken=null;read(){if(this.peekedToken){let o=this.peekedToken;return this.peekedToken=null,this.lineCharOffset+=o.length,o}if(this.lineIdx>this.textBufferLineCount-1||this.lineIdx===this.textBufferLineCount-1&&this.lineCharOffset>=this.textBufferLastLineLength)return null;this.line===null&&(this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.line=this.lineTokens.getLineContent(),this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset));let e=this.lineIdx,t=this.lineCharOffset,n=0;for(;;){let o=this.lineTokens,s=o.getCount(),a=null;if(this.lineTokenOffset<s){let l=o.getMetadata(this.lineTokenOffset);for(;this.lineTokenOffset+1<s&&l===o.getMetadata(this.lineTokenOffset+1);)this.lineTokenOffset++;let u=Tt.getTokenType(l)===0,d=Tt.containsBalancedBrackets(l),g=o.getEndOffset(this.lineTokenOffset);if(d&&u&&this.lineCharOffset<g){let h=o.getLanguageId(this.lineTokenOffset),p=this.line.substring(this.lineCharOffset,g),b=this.bracketTokens.getSingleLanguageBracketTokens(h),m=b.regExpGlobal;if(m){m.lastIndex=0;let y=m.exec(p);y&&(a=b.getToken(y[0]),a&&(this.lineCharOffset+=y.index))}}if(n+=g-this.lineCharOffset,a)if(e!==this.lineIdx||t!==this.lineCharOffset){this.peekedToken=a;break}else return this.lineCharOffset+=a.length,a;else this.lineTokenOffset++,this.lineCharOffset=g}else if(this.lineIdx===this.textBufferLineCount-1||(this.lineIdx++,this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.lineTokenOffset=0,this.line=this.lineTokens.getLineContent(),this.lineCharOffset=0,n+=33,n>1e3))break;if(n>1500)break}let i=Bm(e,t,this.lineIdx,this.lineCharOffset);return new jt(i,0,-1,Ye.getEmpty(),new $t(i))}},Nl=class{constructor(e,t){this.text=e;let n=t.getRegExpStr(),i=n?new RegExp(n+`|
`,"gi"):null,o=[],s,a=0,l=0,u=0,d=0,g=[];for(let b=0;b<60;b++)g.push(new jt(ke(0,b),0,-1,Ye.getEmpty(),new $t(ke(0,b))));let h=[];for(let b=0;b<60;b++)h.push(new jt(ke(1,b),0,-1,Ye.getEmpty(),new $t(ke(1,b))));if(i)for(i.lastIndex=0;(s=i.exec(e))!==null;){let b=s.index,m=s[0];if(m===`
`)a++,l=b+1;else{if(u!==b){let y;if(d===a){let I=b-u;if(I<g.length)y=g[I];else{let k=ke(0,I);y=new jt(k,0,-1,Ye.getEmpty(),new $t(k))}}else{let I=a-d,k=b-l;if(I===1&&k<h.length)y=h[k];else{let C=ke(I,k);y=new jt(C,0,-1,Ye.getEmpty(),new $t(C))}}o.push(y)}o.push(t.getToken(m)),u=b+m.length,d=a}}let p=e.length;if(u!==p){let b=d===a?ke(0,p-u):ke(a-d,p-l);o.push(new jt(b,0,-1,Ye.getEmpty(),new $t(b)))}this.length=ke(a,p-l),this.tokens=o}_offset=Ue;tokens;idx=0;get offset(){return this._offset}length;read(){return this.tokens[this.idx++]||null}peek(){return this.tokens[this.idx]||null}skip(e){throw new ga}getText(){return this.text}};var ms=class{_length;get length(){return this._length}constructor(e){this._length=e}},bs=class r extends ms{constructor(t,n,i,o,s){super(t);this.openingBracket=n;this.child=i;this.closingBracket=o;this.missingOpeningBracketIds=s}static create(t,n,i){let o=t.length;return n&&(o=Te(o,n.length)),i&&(o=Te(o,i.length)),new r(o,t,n,i,n?n.missingOpeningBracketIds:Ye.getEmpty())}get kind(){return 2}get listHeight(){return 0}get childrenLength(){return 3}getChild(t){switch(t){case 0:return this.openingBracket;case 1:return this.child;case 2:return this.closingBracket}throw new Error("Invalid child index")}get children(){let t=[];return t.push(this.openingBracket),this.child&&t.push(this.child),this.closingBracket&&t.push(this.closingBracket),t}canBeReused(t){return!(this.closingBracket===null||t.intersects(this.missingOpeningBracketIds))}flattenLists(){return r.create(this.openingBracket.flattenLists(),this.child&&this.child.flattenLists(),this.closingBracket&&this.closingBracket.flattenLists())}deepClone(){return new r(this.length,this.openingBracket.deepClone(),this.child&&this.child.deepClone(),this.closingBracket&&this.closingBracket.deepClone(),this.missingOpeningBracketIds)}computeMinIndentation(t,n){return this.child?this.child.computeMinIndentation(Te(t,this.openingBracket.length),n):Number.MAX_SAFE_INTEGER}},kt=class r extends ms{constructor(t,n,i){super(t);this.listHeight=n;this._missingOpeningBracketIds=i}static create23(t,n,i,o=!1){let s=t.length,a=t.missingOpeningBracketIds;if(t.listHeight!==n.listHeight)throw new Error("Invalid list heights");if(s=Te(s,n.length),a=a.merge(n.missingOpeningBracketIds),i){if(t.listHeight!==i.listHeight)throw new Error("Invalid list heights");s=Te(s,i.length),a=a.merge(i.missingOpeningBracketIds)}return o?new Bg(s,t.listHeight+1,t,n,i,a):new vs(s,t.listHeight+1,t,n,i,a)}static create(t,n=!1){if(t.length===0)return this.getEmpty();{let i=t[0].length,o=t[0].missingOpeningBracketIds;for(let s=1;s<t.length;s++)i=Te(i,t[s].length),o=o.merge(t[s].missingOpeningBracketIds);return n?new Ml(i,t[0].listHeight+1,t,o):new ys(i,t[0].listHeight+1,t,o)}}static getEmpty(){return new Ml(Ue,0,[],Ye.getEmpty())}get kind(){return 4}get missingOpeningBracketIds(){return this._missingOpeningBracketIds}cachedMinIndentation=-1;throwIfImmutable(){}makeLastElementMutable(){this.throwIfImmutable();let t=this.childrenLength;if(t===0)return;let n=this.getChild(t-1),i=n.kind===4?n.toMutable():n;return n!==i&&this.setChild(t-1,i),i}makeFirstElementMutable(){if(this.throwIfImmutable(),this.childrenLength===0)return;let n=this.getChild(0),i=n.kind===4?n.toMutable():n;return n!==i&&this.setChild(0,i),i}canBeReused(t){if(t.intersects(this.missingOpeningBracketIds)||this.childrenLength===0)return!1;let n=this;for(;n.kind===4;){let i=n.childrenLength;if(i===0)throw new le;n=n.getChild(i-1)}return n.canBeReused(t)}handleChildrenChanged(){this.throwIfImmutable();let t=this.childrenLength,n=this.getChild(0).length,i=this.getChild(0).missingOpeningBracketIds;for(let o=1;o<t;o++){let s=this.getChild(o);n=Te(n,s.length),i=i.merge(s.missingOpeningBracketIds)}this._length=n,this._missingOpeningBracketIds=i,this.cachedMinIndentation=-1}flattenLists(){let t=[];for(let n of this.children){let i=n.flattenLists();i.kind===4?t.push(...i.children):t.push(i)}return r.create(t)}computeMinIndentation(t,n){if(this.cachedMinIndentation!==-1)return this.cachedMinIndentation;let i=Number.MAX_SAFE_INTEGER,o=t;for(let s=0;s<this.childrenLength;s++){let a=this.getChild(s);a&&(i=Math.min(i,a.computeMinIndentation(o,n)),o=Te(o,a.length))}return this.cachedMinIndentation=i,i}},vs=class r extends kt{constructor(t,n,i,o,s,a){super(t,n,a);this._item1=i;this._item2=o;this._item3=s}get childrenLength(){return this._item3!==null?3:2}getChild(t){switch(t){case 0:return this._item1;case 1:return this._item2;case 2:return this._item3}throw new Error("Invalid child index")}setChild(t,n){switch(t){case 0:this._item1=n;return;case 1:this._item2=n;return;case 2:this._item3=n;return}throw new Error("Invalid child index")}get children(){return this._item3?[this._item1,this._item2,this._item3]:[this._item1,this._item2]}get item1(){return this._item1}get item2(){return this._item2}get item3(){return this._item3}deepClone(){return new r(this.length,this.listHeight,this._item1.deepClone(),this._item2.deepClone(),this._item3?this._item3.deepClone():null,this.missingOpeningBracketIds)}appendChildOfSameHeight(t){if(this._item3)throw new Error("Cannot append to a full (2,3) tree node");this.throwIfImmutable(),this._item3=t,this.handleChildrenChanged()}unappendChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();let t=this._item3;return this._item3=null,this.handleChildrenChanged(),t}prependChildOfSameHeight(t){if(this._item3)throw new Error("Cannot prepend to a full (2,3) tree node");this.throwIfImmutable(),this._item3=this._item2,this._item2=this._item1,this._item1=t,this.handleChildrenChanged()}unprependChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();let t=this._item1;return this._item1=this._item2,this._item2=this._item3,this._item3=null,this.handleChildrenChanged(),t}toMutable(){return this}},Bg=class extends vs{toMutable(){return new vs(this.length,this.listHeight,this.item1,this.item2,this.item3,this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}},ys=class r extends kt{constructor(t,n,i,o){super(t,n,o);this._children=i}get childrenLength(){return this._children.length}getChild(t){return this._children[t]}setChild(t,n){this._children[t]=n}get children(){return this._children}deepClone(){let t=new Array(this._children.length);for(let n=0;n<this._children.length;n++)t[n]=this._children[n].deepClone();return new r(this.length,this.listHeight,t,this.missingOpeningBracketIds)}appendChildOfSameHeight(t){this.throwIfImmutable(),this._children.push(t),this.handleChildrenChanged()}unappendChild(){this.throwIfImmutable();let t=this._children.pop();return this.handleChildrenChanged(),t}prependChildOfSameHeight(t){this.throwIfImmutable(),this._children.unshift(t),this.handleChildrenChanged()}unprependChild(){this.throwIfImmutable();let t=this._children.shift();return this.handleChildrenChanged(),t}toMutable(){return this}},Ml=class extends ys{toMutable(){return new ys(this.length,this.listHeight,[...this.children],this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}},xx=[],xs=class extends ms{get listHeight(){return 0}get childrenLength(){return 0}getChild(e){return null}get children(){return xx}flattenLists(){return this}deepClone(){return this}},$t=class extends xs{get kind(){return 0}get missingOpeningBracketIds(){return Ye.getEmpty()}canBeReused(e){return!0}computeMinIndentation(e,t){let n=ot(e),i=(n.columnCount===0?n.lineCount:n.lineCount+1)+1,o=Fm(Te(e,this.length))+1,s=Number.MAX_SAFE_INTEGER;for(let a=i;a<=o;a++){let l=t.getLineFirstNonWhitespaceColumn(a),u=t.getLineContent(a);if(l===0)continue;let d=br.visibleColumnFromColumn(u,l,t.getOptions().tabSize);s=Math.min(s,d)}return s}},ps=class r extends xs{constructor(t,n,i){super(t);this.bracketInfo=n;this.bracketIds=i}static create(t,n,i){return new r(t,n,i)}get kind(){return 1}get missingOpeningBracketIds(){return Ye.getEmpty()}get text(){return this.bracketInfo.bracketText}get languageId(){return this.bracketInfo.languageId}canBeReused(t){return!1}computeMinIndentation(t,n){return Number.MAX_SAFE_INTEGER}},Ol=class extends xs{get kind(){return 3}missingOpeningBracketIds;constructor(e,t){super(t),this.missingOpeningBracketIds=e}canBeReused(e){return!e.intersects(this.missingOpeningBracketIds)}computeMinIndentation(e,t){return Number.MAX_SAFE_INTEGER}};var Is=class{constructor(e,t,n,i){this.range=e;this.nestingLevel=t;this.nestingLevelOfEqualBracketType=n;this.isInvalid=i}},Fg=class{constructor(e,t,n,i,o,s){this.range=e;this.openingBracketRange=t;this.closingBracketRange=n;this.nestingLevel=i;this.nestingLevelOfEqualBracketType=o;this.bracketPairNode=s}get openingBracketInfo(){return this.bracketPairNode.openingBracket.bracketInfo}get closingBracketInfo(){return this.bracketPairNode.closingBracket?.bracketInfo}},Pl=class extends Fg{constructor(t,n,i,o,s,a,l){super(t,n,i,o,s,a);this.minVisibleColumnIndentation=l}};var Bl=class{changeType=1},Ts=class r{constructor(e,t,n,i,o){this.ownerId=e;this.lineNumber=t;this.column=n;this.options=i;this.order=o}static applyInjectedText(e,t){if(!t||t.length===0)return e;let n="",i=0;for(let o of t)n+=e.substring(i,o.column-1),i=o.column-1,n+=o.options.content;return n+=e.substring(i),n}static fromDecorations(e){let t=[];for(let n of e)n.options.before&&n.options.before.content.length>0&&t.push(new r(n.ownerId,n.range.startLineNumber,n.range.startColumn,n.options.before,0)),n.options.after&&n.options.after.content.length>0&&t.push(new r(n.ownerId,n.range.endLineNumber,n.range.endColumn,n.options.after,1));return t.sort((n,i)=>n.lineNumber===i.lineNumber?n.column===i.column?n.order-i.order:n.column-i.column:n.lineNumber-i.lineNumber),t}withText(e){return new r(this.ownerId,this.lineNumber,this.column,{...this.options,content:e},this.order)}},Cs=class{changeType=2;lineNumber;detail;injectedText;constructor(e,t,n){this.lineNumber=e,this.detail=t,this.injectedText=n}},Fl=class{changeType=3;fromLineNumber;toLineNumber;constructor(e,t){this.fromLineNumber=e,this.toLineNumber=t}},Ul=class{changeType=4;fromLineNumber;toLineNumber;detail;injectedTexts;constructor(e,t,n,i){this.injectedTexts=i,this.fromLineNumber=e,this.toLineNumber=t,this.detail=n}},zl=class{changeType=5},oi=class r{changes;versionId;isUndoing;isRedoing;resultingSelection;constructor(e,t,n,i){this.changes=e,this.versionId=t,this.isUndoing=n,this.isRedoing=i,this.resultingSelection=null}containsEvent(e){for(let t=0,n=this.changes.length;t<n;t++)if(this.changes[t].changeType===e)return!0;return!1}static merge(e,t){let n=[].concat(e.changes).concat(t.changes),i=t.versionId,o=e.isUndoing||t.isUndoing,s=e.isRedoing||t.isRedoing;return new r(n,i,o,s)}},Wl=class{changes;constructor(e){this.changes=e}},Vl=class r{constructor(e,t){this.rawContentChangedEvent=e;this.contentChangedEvent=t}merge(e){let t=oi.merge(this.rawContentChangedEvent,e.rawContentChangedEvent),n=r._mergeChangeEvents(this.contentChangedEvent,e.contentChangedEvent);return new r(t,n)}static _mergeChangeEvents(e,t){let n=[].concat(e.changes).concat(t.changes),i=t.eol,o=t.versionId,s=e.isUndoing||t.isUndoing,a=e.isRedoing||t.isRedoing,l=e.isFlush||t.isFlush,u=e.isEolChange&&t.isEolChange;return{changes:n,eol:i,isEolChange:u,versionId:o,isUndoing:s,isRedoing:a,isFlush:l}}};var si=class{constructor(e,t,n,i,o,s){this.visibleColumn=e;this.column=t;this.className=n;this.horizontalLine=i;this.forWrappedLinesAfterColumn=o;this.forWrappedLinesBeforeOrAtColumn=s;if(e!==-1==(t!==-1))throw new Error}},Ji=class{constructor(e,t){this.top=e;this.endColumn=t}};var Hl=class r{constructor(e){this.edits=e;let t=-1;for(let n of e){if(!(n.replaceRange.start>=t))throw new le(`Edits must be disjoint and sorted. Found ${n} after ${t}`);t=n.replaceRange.endExclusive}}static empty=new r([]);static fromJson(e){return new r(e.map(Yt.fromJson))}static replace(e,t){return new r([new Yt(e,t)])}static insert(e,t){return r.replace(Y.emptyAt(e),t)}normalize(){let e=[],t;for(let n of this.edits)n.newText.length===0&&n.replaceRange.length===0||(t&&t.replaceRange.endExclusive===n.replaceRange.start?t=new Yt(t.replaceRange.join(n.replaceRange),t.newText+n.newText):(t&&e.push(t),t=n));return t&&e.push(t),new r(e)}toString(){return`[${this.edits.map(t=>t.toString()).join(", ")}]`}apply(e){let t=[],n=0;for(let i of this.edits)t.push(e.substring(n,i.replaceRange.start)),t.push(i.newText),n=i.replaceRange.endExclusive;return t.push(e.substring(n)),t.join("")}compose(e){return Ix(this,e)}inverse(e){let t=[],n=0;for(let i of this.edits)t.push(new Yt(Y.ofStartAndLength(i.replaceRange.start+n,i.newText.length),e.substring(i.replaceRange.start,i.replaceRange.endExclusive))),n+=i.newText.length-i.replaceRange.length;return new r(t)}getNewTextRanges(){let e=[],t=0;for(let n of this.edits)e.push(Y.ofStartAndLength(n.replaceRange.start+t,n.newText.length)),t+=n.newText.length-n.replaceRange.length;return e}get isEmpty(){return this.edits.length===0}tryRebase(e){let t=[],n=0,i=0,o=0;for(;i<this.edits.length||n<e.edits.length;){let s=e.edits[n],a=this.edits[i];if(a)s?a.replaceRange.intersects(s.replaceRange)?i++:a.replaceRange.start<s.replaceRange.start?(t.push(new Yt(a.replaceRange.delta(o),a.newText)),i++):(n++,o+=s.newText.length-s.replaceRange.length):(t.push(new Yt(a.replaceRange.delta(o),a.newText)),i++);else break}return new r(t)}applyToOffset(e){let t=0;for(let n of this.edits)if(n.replaceRange.start<=e){if(e<n.replaceRange.endExclusive)return n.replaceRange.start+t;t+=n.newText.length-n.replaceRange.length}else break;return e+t}applyToOffsetRange(e){return new Y(this.applyToOffset(e.start),this.applyToOffset(e.endExclusive))}applyInverseToOffset(e){let t=0;for(let n of this.edits){let i=n.newText.length;if(n.replaceRange.start<=e-t){if(e-t<n.replaceRange.start+i)return n.replaceRange.start;t+=i-n.replaceRange.length}else break}return e-t}},Yt=class r{constructor(e,t){this.replaceRange=e;this.newText=t}static fromJson(e){return new r(Y.ofStartAndLength(e.pos,e.len),e.txt)}static insert(e,t){return new r(Y.emptyAt(e),t)}toString(){return`${this.replaceRange} -> "${this.newText}"`}get isEmpty(){return this.newText.length===0&&this.replaceRange.length===0}};function Ix(r,e){if(r=r.normalize(),e=e.normalize(),r.isEmpty)return e;if(e.isEmpty)return r;let t=[...r.edits],n=[],i=0;for(let o of e.edits){for(;;){let u=t[0];if(!u||u.replaceRange.start+i+u.newText.length>=o.replaceRange.start)break;t.shift(),n.push(u),i+=u.newText.length-u.replaceRange.length}let s=i,a,l;for(;;){let u=t[0];if(!u||u.replaceRange.start+i>o.replaceRange.endExclusive)break;a||(a=u),l=u,t.shift(),i+=u.newText.length-u.replaceRange.length}if(!a)n.push(new Yt(o.replaceRange.delta(-i),o.newText));else{let u="",d=o.replaceRange.start-(a.replaceRange.start+s);d>0&&(u=a.newText.slice(0,d));let g=l.replaceRange.endExclusive+i-o.replaceRange.endExclusive;if(g>0){let b=new Yt(Y.ofStartAndLength(l.replaceRange.endExclusive,0),l.newText.slice(-g));t.unshift(b),i-=b.newText.length-b.replaceRange.length}let h=u+o.newText,p=new Y(Math.min(a.replaceRange.start,o.replaceRange.start-s),o.replaceRange.endExclusive-i);n.push(new Yt(p,h))}}for(;;){let o=t.shift();if(!o)break;n.push(o)}return new Hl(n).normalize()}var eb=de("undoRedoService");var Jm=class r{static _ID=0;id;order;constructor(){this.id=r._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}static None=new r},Zm=class r{static _ID=0;id;order;constructor(){this.id=r._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}static None=new r};var Zi=class{_textModelResolvedOptionsBrand=void 0;tabSize;indentSize;_indentSizeIsTabSize;insertSpaces;defaultEOL;trimAutoWhitespace;bracketPairColorizationOptions;get originalIndentSize(){return this._indentSizeIsTabSize?"tabSize":this.indentSize}constructor(e){this.tabSize=Math.max(1,e.tabSize|0),e.indentSize==="tabSize"?(this.indentSize=this.tabSize,this._indentSizeIsTabSize=!0):(this.indentSize=Math.max(1,e.indentSize|0),this._indentSizeIsTabSize=!1),this.insertSpaces=!!e.insertSpaces,this.defaultEOL=e.defaultEOL|0,this.trimAutoWhitespace=!!e.trimAutoWhitespace,this.bracketPairColorizationOptions=e.bracketPairColorizationOptions}equals(e){return this.tabSize===e.tabSize&&this._indentSizeIsTabSize===e._indentSizeIsTabSize&&this.indentSize===e.indentSize&&this.insertSpaces===e.insertSpaces&&this.defaultEOL===e.defaultEOL&&this.trimAutoWhitespace===e.trimAutoWhitespace&&gr(this.bracketPairColorizationOptions,e.bracketPairColorizationOptions)}createChangeEvent(e){return{tabSize:this.tabSize!==e.tabSize,indentSize:this.indentSize!==e.indentSize,insertSpaces:this.insertSpaces!==e.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==e.trimAutoWhitespace}}},Tr=class{_findMatchBrand=void 0;range;matches;constructor(e,t){this.range=e,this.matches=t}};function tb(r){return r&&typeof r.read=="function"}var eo=class{constructor(e,t,n,i,o,s){this.identifier=e;this.range=t;this.text=n;this.forceMoveMarkers=i;this.isAutoWhitespaceEdit=o;this._isTracked=s}},Kl=class{regex;wordSeparators;simpleSearch;constructor(e,t,n){this.regex=e,this.wordSeparators=t,this.simpleSearch=n}},ql=class{constructor(e,t,n){this.reverseEdits=e;this.changes=t;this.trimAutoWhitespaceLineNumbers=n}};var Qt=class{originalStart;originalLength;modifiedStart;modifiedLength;constructor(e,t,n,i){this.originalStart=e,this.originalLength=t,this.modifiedStart=n,this.modifiedLength=i}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}};function zg(r){return Wg(r,0)}function Wg(r,e){switch(typeof r){case"object":return r===null?Vn(349,e):Array.isArray(r)?kx(r,e):_x(r,e);case"string":return Gl(r,e);case"boolean":return Cx(r,e);case"number":return Vn(r,e);case"undefined":return Vn(937,e);default:return Vn(617,e)}}function Vn(r,e){return(e<<5)-e+r|0}function Cx(r,e){return Vn(r?433:863,e)}function Gl(r,e){e=Vn(149417,e);for(let t=0,n=r.length;t<n;t++)e=Vn(r.charCodeAt(t),e);return e}function kx(r,e){return e=Vn(104579,e),r.reduce((t,n)=>Wg(n,t),e)}function _x(r,e){return e=Vn(181387,e),Object.keys(r).sort().reduce((t,n)=>(t=Gl(n,t),Wg(r[n],t)),e)}function Ug(r,e,t=32){let n=t-e,i=~((1<<n)-1);return(r<<e|(i&r)>>>n)>>>0}function nb(r,e=0,t=r.byteLength,n=0){for(let i=0;i<t;i++)r[e+i]=n}function Sx(r,e,t="0"){for(;r.length<e;)r=t+r;return r}function ks(r,e=32){return r instanceof ArrayBuffer?Array.from(new Uint8Array(r)).map(t=>t.toString(16).padStart(2,"0")).join(""):Sx((r>>>0).toString(16),e/4)}var rb=class r{static _bigBlock32=new DataView(new ArrayBuffer(320));_h0=1732584193;_h1=4023233417;_h2=2562383102;_h3=271733878;_h4=3285377520;_buff;_buffDV;_buffLen;_totalLen;_leftoverHighSurrogate;_finished;constructor(){this._buff=new Uint8Array(67),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(e){let t=e.length;if(t===0)return;let n=this._buff,i=this._buffLen,o=this._leftoverHighSurrogate,s,a;for(o!==0?(s=o,a=-1,o=0):(s=e.charCodeAt(0),a=0);;){let l=s;if(rt(s))if(a+1<t){let u=e.charCodeAt(a+1);qo(u)?(a++,l=za(s,u)):l=65533}else{o=s;break}else qo(s)&&(l=65533);if(i=this._push(n,i,l),a++,a<t)s=e.charCodeAt(a);else break}this._buffLen=i,this._leftoverHighSurrogate=o}_push(e,t,n){return n<128?e[t++]=n:n<2048?(e[t++]=192|(n&1984)>>>6,e[t++]=128|(n&63)>>>0):n<65536?(e[t++]=224|(n&61440)>>>12,e[t++]=128|(n&4032)>>>6,e[t++]=128|(n&63)>>>0):(e[t++]=240|(n&1835008)>>>18,e[t++]=128|(n&258048)>>>12,e[t++]=128|(n&4032)>>>6,e[t++]=128|(n&63)>>>0),t>=64&&(this._step(),t-=64,this._totalLen+=64,e[0]=e[64],e[1]=e[65],e[2]=e[66]),t}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),ks(this._h0)+ks(this._h1)+ks(this._h2)+ks(this._h3)+ks(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,nb(this._buff,this._buffLen),this._buffLen>56&&(this._step(),nb(this._buff));let e=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(e/4294967296),!1),this._buffDV.setUint32(60,e%4294967296,!1),this._step()}_step(){let e=r._bigBlock32,t=this._buffDV;for(let g=0;g<64;g+=4)e.setUint32(g,t.getUint32(g,!1),!1);for(let g=64;g<320;g+=4)e.setUint32(g,Ug(e.getUint32(g-12,!1)^e.getUint32(g-32,!1)^e.getUint32(g-56,!1)^e.getUint32(g-64,!1),1),!1);let n=this._h0,i=this._h1,o=this._h2,s=this._h3,a=this._h4,l,u,d;for(let g=0;g<80;g++)g<20?(l=i&o|~i&s,u=1518500249):g<40?(l=i^o^s,u=1859775393):g<60?(l=i&o|i&s|o&s,u=2400959708):(l=i^o^s,u=3395469782),d=Ug(n,5)+l+a+u+e.getUint32(g*4,!1)&4294967295,a=s,s=o,o=Ug(i,30),i=n,n=d;this._h0=this._h0+n&4294967295,this._h1=this._h1+i&4294967295,this._h2=this._h2+o&4294967295,this._h3=this._h3+s&4294967295,this._h4=this._h4+a&4294967295}};var jl=class{constructor(e){this.source=e}getElements(){let e=this.source,t=new Int32Array(e.length);for(let n=0,i=e.length;n<i;n++)t[n]=e.charCodeAt(n);return t}};function ib(r,e,t){return new _s(new jl(r),new jl(e)).ComputeDiff(t).changes}var Cr=class{static Assert(e,t){if(!e)throw new Error(t)}},kr=class{static Copy(e,t,n,i,o){for(let s=0;s<o;s++)n[i+s]=e[t+s]}static Copy2(e,t,n,i,o){for(let s=0;s<o;s++)n[i+s]=e[t+s]}};var $l=class{m_changes;m_originalStart;m_modifiedStart;m_originalCount;m_modifiedCount;constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new Qt(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(e,t){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,t),this.m_originalCount++}AddModifiedElement(e,t){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,t),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}},_s=class r{ContinueProcessingPredicate;_originalSequence;_modifiedSequence;_hasStrings;_originalStringElements;_originalElementsOrHash;_modifiedStringElements;_modifiedElementsOrHash;m_forwardHistory;m_reverseHistory;constructor(e,t,n=null){this.ContinueProcessingPredicate=n,this._originalSequence=e,this._modifiedSequence=t;let[i,o,s]=r._getElements(e),[a,l,u]=r._getElements(t);this._hasStrings=s&&u,this._originalStringElements=i,this._originalElementsOrHash=o,this._modifiedStringElements=a,this._modifiedElementsOrHash=l,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(e){return e.length>0&&typeof e[0]=="string"}static _getElements(e){let t=e.getElements();if(r._isStringArray(t)){let n=new Int32Array(t.length);for(let i=0,o=t.length;i<o;i++)n[i]=Gl(t[i],0);return[t,n,!0]}return t instanceof Int32Array?[[],t,!1]:[[],new Int32Array(t),!1]}ElementsAreEqual(e,t){return this._originalElementsOrHash[e]!==this._modifiedElementsOrHash[t]?!1:this._hasStrings?this._originalStringElements[e]===this._modifiedStringElements[t]:!0}ElementsAreStrictEqual(e,t){if(!this.ElementsAreEqual(e,t))return!1;let n=r._getStrictElement(this._originalSequence,e),i=r._getStrictElement(this._modifiedSequence,t);return n===i}static _getStrictElement(e,t){return typeof e.getStrictElement=="function"?e.getStrictElement(t):null}OriginalElementsAreEqual(e,t){return this._originalElementsOrHash[e]!==this._originalElementsOrHash[t]?!1:this._hasStrings?this._originalStringElements[e]===this._originalStringElements[t]:!0}ModifiedElementsAreEqual(e,t){return this._modifiedElementsOrHash[e]!==this._modifiedElementsOrHash[t]?!1:this._hasStrings?this._modifiedStringElements[e]===this._modifiedStringElements[t]:!0}ComputeDiff(e){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,e)}_ComputeDiff(e,t,n,i,o){let s=[!1],a=this.ComputeDiffRecursive(e,t,n,i,s);return o&&(a=this.PrettifyChanges(a)),{quitEarly:s[0],changes:a}}ComputeDiffRecursive(e,t,n,i,o){for(o[0]=!1;e<=t&&n<=i&&this.ElementsAreEqual(e,n);)e++,n++;for(;t>=e&&i>=n&&this.ElementsAreEqual(t,i);)t--,i--;if(e>t||n>i){let g;return n<=i?(Cr.Assert(e===t+1,"originalStart should only be one more than originalEnd"),g=[new Qt(e,0,n,i-n+1)]):e<=t?(Cr.Assert(n===i+1,"modifiedStart should only be one more than modifiedEnd"),g=[new Qt(e,t-e+1,n,0)]):(Cr.Assert(e===t+1,"originalStart should only be one more than originalEnd"),Cr.Assert(n===i+1,"modifiedStart should only be one more than modifiedEnd"),g=[]),g}let s=[0],a=[0],l=this.ComputeRecursionPoint(e,t,n,i,s,a,o),u=s[0],d=a[0];if(l!==null)return l;if(!o[0]){let g=this.ComputeDiffRecursive(e,u,n,d,o),h=[];return o[0]?h=[new Qt(u+1,t-(u+1)+1,d+1,i-(d+1)+1)]:h=this.ComputeDiffRecursive(u+1,t,d+1,i,o),this.ConcatenateChanges(g,h)}return[new Qt(e,t-e+1,n,i-n+1)]}WALKTRACE(e,t,n,i,o,s,a,l,u,d,g,h,p,b,m,y,I,k){let C=null,T=null,S=new $l,E=t,D=n,A=p[0]-y[0]-i,O=-1073741824,V=this.m_forwardHistory.length-1;do{let Q=A+e;Q===E||Q<D&&u[Q-1]<u[Q+1]?(g=u[Q+1],b=g-A-i,g<O&&S.MarkNextChange(),O=g,S.AddModifiedElement(g+1,b),A=Q+1-e):(g=u[Q-1]+1,b=g-A-i,g<O&&S.MarkNextChange(),O=g-1,S.AddOriginalElement(g,b+1),A=Q-1-e),V>=0&&(u=this.m_forwardHistory[V],e=u[0],E=1,D=u.length-1)}while(--V>=-1);if(C=S.getReverseChanges(),k[0]){let Q=p[0]+1,K=y[0]+1;if(C!==null&&C.length>0){let me=C[C.length-1];Q=Math.max(Q,me.getOriginalEnd()),K=Math.max(K,me.getModifiedEnd())}T=[new Qt(Q,h-Q+1,K,m-K+1)]}else{S=new $l,E=s,D=a,A=p[0]-y[0]-l,O=1073741824,V=I?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{let Q=A+o;Q===E||Q<D&&d[Q-1]>=d[Q+1]?(g=d[Q+1]-1,b=g-A-l,g>O&&S.MarkNextChange(),O=g+1,S.AddOriginalElement(g+1,b+1),A=Q+1-o):(g=d[Q-1],b=g-A-l,g>O&&S.MarkNextChange(),O=g,S.AddModifiedElement(g+1,b+1),A=Q-1-o),V>=0&&(d=this.m_reverseHistory[V],o=d[0],E=1,D=d.length-1)}while(--V>=-1);T=S.getChanges()}return this.ConcatenateChanges(C,T)}ComputeRecursionPoint(e,t,n,i,o,s,a){let l=0,u=0,d=0,g=0,h=0,p=0;e--,n--,o[0]=0,s[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];let b=t-e+(i-n),m=b+1,y=new Int32Array(m),I=new Int32Array(m),k=i-n,C=t-e,T=e-n,S=t-i,D=(C-k)%2===0;y[k]=e,I[C]=t,a[0]=!1;for(let A=1;A<=b/2+1;A++){let O=0,V=0;d=this.ClipDiagonalBound(k-A,A,k,m),g=this.ClipDiagonalBound(k+A,A,k,m);for(let K=d;K<=g;K+=2){K===d||K<g&&y[K-1]<y[K+1]?l=y[K+1]:l=y[K-1]+1,u=l-(K-k)-T;let me=l;for(;l<t&&u<i&&this.ElementsAreEqual(l+1,u+1);)l++,u++;if(y[K]=l,l+u>O+V&&(O=l,V=u),!D&&Math.abs(K-C)<=A-1&&l>=I[K])return o[0]=l,s[0]=u,me<=I[K]&&A<=1448?this.WALKTRACE(k,d,g,T,C,h,p,S,y,I,l,t,o,u,i,s,D,a):null}let Q=(O-e+(V-n)-A)/2;if(this.ContinueProcessingPredicate!==null&&!this.ContinueProcessingPredicate(O,Q))return a[0]=!0,o[0]=O,s[0]=V,Q>0&&A<=1448?this.WALKTRACE(k,d,g,T,C,h,p,S,y,I,l,t,o,u,i,s,D,a):(e++,n++,[new Qt(e,t-e+1,n,i-n+1)]);h=this.ClipDiagonalBound(C-A,A,C,m),p=this.ClipDiagonalBound(C+A,A,C,m);for(let K=h;K<=p;K+=2){K===h||K<p&&I[K-1]>=I[K+1]?l=I[K+1]-1:l=I[K-1],u=l-(K-C)-S;let me=l;for(;l>e&&u>n&&this.ElementsAreEqual(l,u);)l--,u--;if(I[K]=l,D&&Math.abs(K-k)<=A&&l<=y[K])return o[0]=l,s[0]=u,me>=y[K]&&A<=1448?this.WALKTRACE(k,d,g,T,C,h,p,S,y,I,l,t,o,u,i,s,D,a):null}if(A<=1447){let K=new Int32Array(g-d+2);K[0]=k-d+1,kr.Copy2(y,d,K,1,g-d+1),this.m_forwardHistory.push(K),K=new Int32Array(p-h+2),K[0]=C-h+1,kr.Copy2(I,h,K,1,p-h+1),this.m_reverseHistory.push(K)}}return this.WALKTRACE(k,d,g,T,C,h,p,S,y,I,l,t,o,u,i,s,D,a)}PrettifyChanges(e){for(let t=0;t<e.length;t++){let n=e[t],i=t<e.length-1?e[t+1].originalStart:this._originalElementsOrHash.length,o=t<e.length-1?e[t+1].modifiedStart:this._modifiedElementsOrHash.length,s=n.originalLength>0,a=n.modifiedLength>0;for(;n.originalStart+n.originalLength<i&&n.modifiedStart+n.modifiedLength<o&&(!s||this.OriginalElementsAreEqual(n.originalStart,n.originalStart+n.originalLength))&&(!a||this.ModifiedElementsAreEqual(n.modifiedStart,n.modifiedStart+n.modifiedLength));){let u=this.ElementsAreStrictEqual(n.originalStart,n.modifiedStart);if(this.ElementsAreStrictEqual(n.originalStart+n.originalLength,n.modifiedStart+n.modifiedLength)&&!u)break;n.originalStart++,n.modifiedStart++}let l=[null];if(t<e.length-1&&this.ChangesOverlap(e[t],e[t+1],l)){e[t]=l[0],e.splice(t+1,1),t--;continue}}for(let t=e.length-1;t>=0;t--){let n=e[t],i=0,o=0;if(t>0){let g=e[t-1];i=g.originalStart+g.originalLength,o=g.modifiedStart+g.modifiedLength}let s=n.originalLength>0,a=n.modifiedLength>0,l=0,u=this._boundaryScore(n.originalStart,n.originalLength,n.modifiedStart,n.modifiedLength);for(let g=1;;g++){let h=n.originalStart-g,p=n.modifiedStart-g;if(h<i||p<o||s&&!this.OriginalElementsAreEqual(h,h+n.originalLength)||a&&!this.ModifiedElementsAreEqual(p,p+n.modifiedLength))break;let m=(h===i&&p===o?5:0)+this._boundaryScore(h,n.originalLength,p,n.modifiedLength);m>u&&(u=m,l=g)}n.originalStart-=l,n.modifiedStart-=l;let d=[null];if(t>0&&this.ChangesOverlap(e[t-1],e[t],d)){e[t-1]=d[0],e.splice(t,1),t++;continue}}if(this._hasStrings)for(let t=1,n=e.length;t<n;t++){let i=e[t-1],o=e[t],s=o.originalStart-i.originalStart-i.originalLength,a=i.originalStart,l=o.originalStart+o.originalLength,u=l-a,d=i.modifiedStart,g=o.modifiedStart+o.modifiedLength,h=g-d;if(s<5&&u<20&&h<20){let p=this._findBetterContiguousSequence(a,u,d,h,s);if(p){let[b,m]=p;(b!==i.originalStart+i.originalLength||m!==i.modifiedStart+i.modifiedLength)&&(i.originalLength=b-i.originalStart,i.modifiedLength=m-i.modifiedStart,o.originalStart=b+s,o.modifiedStart=m+s,o.originalLength=l-o.originalStart,o.modifiedLength=g-o.modifiedStart)}}}return e}_findBetterContiguousSequence(e,t,n,i,o){if(t<o||i<o)return null;let s=e+t-o+1,a=n+i-o+1,l=0,u=0,d=0;for(let g=e;g<s;g++)for(let h=n;h<a;h++){let p=this._contiguousSequenceScore(g,h,o);p>0&&p>l&&(l=p,u=g,d=h)}return l>0?[u,d]:null}_contiguousSequenceScore(e,t,n){let i=0;for(let o=0;o<n;o++){if(!this.ElementsAreEqual(e+o,t+o))return 0;i+=this._originalStringElements[e+o].length}return i}_OriginalIsBoundary(e){return e<=0||e>=this._originalElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._originalStringElements[e])}_OriginalRegionIsBoundary(e,t){if(this._OriginalIsBoundary(e)||this._OriginalIsBoundary(e-1))return!0;if(t>0){let n=e+t;if(this._OriginalIsBoundary(n-1)||this._OriginalIsBoundary(n))return!0}return!1}_ModifiedIsBoundary(e){return e<=0||e>=this._modifiedElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[e])}_ModifiedRegionIsBoundary(e,t){if(this._ModifiedIsBoundary(e)||this._ModifiedIsBoundary(e-1))return!0;if(t>0){let n=e+t;if(this._ModifiedIsBoundary(n-1)||this._ModifiedIsBoundary(n))return!0}return!1}_boundaryScore(e,t,n,i){let o=this._OriginalRegionIsBoundary(e,t)?1:0,s=this._ModifiedRegionIsBoundary(n,i)?1:0;return o+s}ConcatenateChanges(e,t){let n=[];if(e.length===0||t.length===0)return t.length>0?t:e;if(this.ChangesOverlap(e[e.length-1],t[0],n)){let i=new Array(e.length+t.length-1);return kr.Copy(e,0,i,0,e.length-1),i[e.length-1]=n[0],kr.Copy(t,1,i,e.length,t.length-1),i}else{let i=new Array(e.length+t.length);return kr.Copy(e,0,i,0,e.length),kr.Copy(t,0,i,e.length,t.length),i}}ChangesOverlap(e,t,n){if(Cr.Assert(e.originalStart<=t.originalStart,"Left change is not less than or equal to right change"),Cr.Assert(e.modifiedStart<=t.modifiedStart,"Left change is not less than or equal to right change"),e.originalStart+e.originalLength>=t.originalStart||e.modifiedStart+e.modifiedLength>=t.modifiedStart){let i=e.originalStart,o=e.originalLength,s=e.modifiedStart,a=e.modifiedLength;return e.originalStart+e.originalLength>=t.originalStart&&(o=t.originalStart+t.originalLength-e.originalStart),e.modifiedStart+e.modifiedLength>=t.modifiedStart&&(a=t.modifiedStart+t.modifiedLength-e.modifiedStart),n[0]=new Qt(i,o,s,a),!0}else return n[0]=null,!1}ClipDiagonalBound(e,t,n,i){if(e>=0&&e<i)return e;let o=n,s=i-n-1,a=t%2===0;if(e<0){let l=o%2===0;return a===l?0:1}else{let l=s%2===0;return a===l?i-1:i-2}}};var Yl=class{values;prefixSum;prefixSumValidIndex;constructor(e){this.values=e,this.prefixSum=new Uint32Array(e.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}getCount(){return this.values.length}insertValues(e,t){e=Gr(e);let n=this.values,i=this.prefixSum,o=t.length;return o===0?!1:(this.values=new Uint32Array(n.length+o),this.values.set(n.subarray(0,e),0),this.values.set(n.subarray(e),e+o),this.values.set(t,e),e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(i.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}setValue(e,t){return e=Gr(e),t=Gr(t),this.values[e]===t?!1:(this.values[e]=t,e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),!0)}removeValues(e,t){e=Gr(e),t=Gr(t);let n=this.values,i=this.prefixSum;if(e>=n.length)return!1;let o=n.length-e;return t>=o&&(t=o),t===0?!1:(this.values=new Uint32Array(n.length-t),this.values.set(n.subarray(0,e),0),this.values.set(n.subarray(e+t),e),this.prefixSum=new Uint32Array(this.values.length),e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(i.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return this.values.length===0?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(e){return e<0?0:(e=Gr(e),this._getPrefixSum(e))}_getPrefixSum(e){if(e<=this.prefixSumValidIndex[0])return this.prefixSum[e];let t=this.prefixSumValidIndex[0]+1;t===0&&(this.prefixSum[0]=this.values[0],t++),e>=this.values.length&&(e=this.values.length-1);for(let n=t;n<=e;n++)this.prefixSum[n]=this.prefixSum[n-1]+this.values[n];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],e),this.prefixSum[e]}getIndexOf(e){e=Math.floor(e),this.getTotalSum();let t=0,n=this.values.length-1,i=0,o=0,s=0;for(;t<=n;)if(i=t+(n-t)/2|0,o=this.prefixSum[i],s=o-this.values[i],e<s)n=i-1;else if(e>=o)t=i+1;else break;return new Vg(i,e-s)}};var Vg=class{constructor(e,t){this.index=e;this.remainder=t;this.index=e,this.remainder=t}_prefixSumIndexOfResultBrand=void 0};var Ql=class{_uri;_lines;_eol;_versionId;_lineStarts;_cachedTextValue;constructor(e,t,n,i){this._uri=e,this._lines=t,this._eol=n,this._versionId=i,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}get version(){return this._versionId}getText(){return this._cachedTextValue===null&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}onEvents(e){e.eol&&e.eol!==this._eol&&(this._eol=e.eol,this._lineStarts=null);let t=e.changes;for(let n of t)this._acceptDeleteRange(n.range),this._acceptInsertText(new $(n.range.startLineNumber,n.range.startColumn),n.text);this._versionId=e.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){let e=this._eol.length,t=this._lines.length,n=new Uint32Array(t);for(let i=0;i<t;i++)n[i]=this._lines[i].length+e;this._lineStarts=new Yl(n)}}_setLineText(e,t){this._lines[e]=t,this._lineStarts&&this._lineStarts.setValue(e,this._lines[e].length+this._eol.length)}_acceptDeleteRange(e){if(e.startLineNumber===e.endLineNumber){if(e.startColumn===e.endColumn)return;this._setLineText(e.startLineNumber-1,this._lines[e.startLineNumber-1].substring(0,e.startColumn-1)+this._lines[e.startLineNumber-1].substring(e.endColumn-1));return}this._setLineText(e.startLineNumber-1,this._lines[e.startLineNumber-1].substring(0,e.startColumn-1)+this._lines[e.endLineNumber-1].substring(e.endColumn-1)),this._lines.splice(e.startLineNumber,e.endLineNumber-e.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(e.startLineNumber,e.endLineNumber-e.startLineNumber)}_acceptInsertText(e,t){if(t.length===0)return;let n=Fa(t);if(n.length===1){this._setLineText(e.lineNumber-1,this._lines[e.lineNumber-1].substring(0,e.column-1)+n[0]+this._lines[e.lineNumber-1].substring(e.column-1));return}n[n.length-1]+=this._lines[e.lineNumber-1].substring(e.column-1),this._setLineText(e.lineNumber-1,this._lines[e.lineNumber-1].substring(0,e.column-1)+n[0]);let i=new Uint32Array(n.length-1);for(let o=1;o<n.length;o++)this._lines.splice(e.lineNumber+o-1,0,n[o]),i[o-1]=n[o].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(e.lineNumber,i)}};var Kg=class{_data;rows;cols;constructor(e,t,n){let i=new Uint8Array(e*t);for(let o=0,s=e*t;o<s;o++)i[o]=n;this._data=i,this.rows=e,this.cols=t}get(e,t){return this._data[e*this.cols+t]}set(e,t,n){this._data[e*this.cols+t]=n}},qg=class{_states;_maxCharCode;constructor(e){let t=0,n=0;for(let o=0,s=e.length;o<s;o++){let[a,l,u]=e[o];l>t&&(t=l),a>n&&(n=a),u>n&&(n=u)}t++,n++;let i=new Kg(n,t,0);for(let o=0,s=e.length;o<s;o++){let[a,l,u]=e[o];i.set(a,l,u)}this._states=i,this._maxCharCode=t}nextState(e,t){return t<0||t>=this._maxCharCode?0:this._states.get(e,t)}},Hg=null;function Lx(){return Hg===null&&(Hg=new qg([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),Hg}var Ss=null;function wx(){if(Ss===null){Ss=new Fi(0);let r=` 	<>'"\u3001\u3002\uFF61\uFF64\uFF0C\uFF0E\uFF1A\uFF1B\u2018\u3008\u300C\u300E\u3014\uFF08\uFF3B\uFF5B\uFF62\uFF63\uFF5D\uFF3D\uFF09\u3015\u300F\u300D\u3009\u2019\uFF40\uFF5E\u2026`;for(let t=0;t<r.length;t++)Ss.set(r.charCodeAt(t),1);let e=".,;:";for(let t=0;t<e.length;t++)Ss.set(e.charCodeAt(t),2)}return Ss}var Gg=class r{static _createLink(e,t,n,i,o){let s=o-1;do{let a=t.charCodeAt(s);if(e.get(a)!==2)break;s--}while(s>i);if(i>0){let a=t.charCodeAt(i-1),l=t.charCodeAt(s);(a===40&&l===41||a===91&&l===93||a===123&&l===125)&&s--}return{range:{startLineNumber:n,startColumn:i+1,endLineNumber:n,endColumn:s+2},url:t.substring(i,s+1)}}static computeLinks(e,t=Lx()){let n=wx(),i=[];for(let o=1,s=e.getLineCount();o<=s;o++){let a=e.getLineContent(o),l=a.length,u=0,d=0,g=0,h=1,p=!1,b=!1,m=!1,y=!1;for(;u<l;){let I=!1,k=a.charCodeAt(u);if(h===13){let C;switch(k){case 40:p=!0,C=0;break;case 41:C=p?0:1;break;case 91:m=!0,b=!0,C=0;break;case 93:m=!1,C=b?0:1;break;case 123:y=!0,C=0;break;case 125:C=y?0:1;break;case 39:case 34:case 96:g===k?C=1:g===39||g===34||g===96?C=0:C=1;break;case 42:C=g===42?1:0;break;case 124:C=g===124?1:0;break;case 32:C=m?0:1;break;default:C=n.get(k)}C===1&&(i.push(r._createLink(n,a,o,d,u)),I=!0)}else if(h===12){let C;k===91?(b=!0,C=0):C=n.get(k),C===1?I=!0:h=13}else h=t.nextState(h,k),h===0&&(I=!0);I&&(h=1,p=!1,b=!1,y=!1,d=u+1,g=k),u++}h===13&&i.push(r._createLink(n,a,o,d,l))}return i}};function ob(r){return!r||typeof r.getLineCount!="function"||typeof r.getLineContent!="function"?[]:Gg.computeLinks(r)}var Xl=class r{static INSTANCE=new r;navigateValueSet(e,t,n,i,o){if(e&&t){let s=this.doNavigateValueSet(t,o);if(s)return{range:e,value:s}}if(n&&i){let s=this.doNavigateValueSet(i,o);if(s)return{range:n,value:s}}return null}doNavigateValueSet(e,t){let n=this.numberReplace(e,t);return n!==null?n:this.textReplace(e,t)}numberReplace(e,t){let n=Math.pow(10,e.length-(e.lastIndexOf(".")+1)),i=Number(e),o=parseFloat(e);return!isNaN(i)&&!isNaN(o)&&i===o?i===0&&!t?null:(i=Math.floor(i*n),i+=t?n:-n,String(i/n)):null}_defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]];textReplace(e,t){return this.valueSetsReplace(this._defaultValueSet,e,t)}valueSetsReplace(e,t,n){let i=null;for(let o=0,s=e.length;i===null&&o<s;o++)i=this.valueSetReplace(e[o],t,n);return i}valueSetReplace(e,t,n){let i=e.indexOf(t);return i>=0?(i+=n?1:-1,i<0?i=e.length-1:i%=e.length,e[i]):null}};var Jl=class{constructor(e,t){this.range=e;this.text=t}get isEmpty(){return this.range.isEmpty()&&this.text.length===0}static equals(e,t){return e.range.equalsRange(t.range)&&e.text===t.text}toSingleEditOperation(){return{range:this.range,text:this.text}}};var Ot=class r{static inverse(e,t,n){let i=[],o=1,s=1;for(let l of e){let u=new r(new ne(o,l.original.startLineNumber),new ne(s,l.modified.startLineNumber));u.modified.isEmpty||i.push(u),o=l.original.endLineNumberExclusive,s=l.modified.endLineNumberExclusive}let a=new r(new ne(o,t+1),new ne(s,n+1));return a.modified.isEmpty||i.push(a),i}static clip(e,t,n){let i=[];for(let o of e){let s=o.original.intersect(t),a=o.modified.intersect(n);s&&!s.isEmpty&&a&&!a.isEmpty&&i.push(new r(s,a))}return i}original;modified;constructor(e,t){this.original=e,this.modified=t}toString(){return`{${this.original.toString()}->${this.modified.toString()}}`}flip(){return new r(this.modified,this.original)}join(e){return new r(this.original.join(e.original),this.modified.join(e.modified))}get changedLineCount(){return Math.max(this.original.length,this.modified.length)}toRangeMapping(){let e=this.original.toInclusiveRange(),t=this.modified.toInclusiveRange();if(e&&t)return new gt(e,t);if(this.original.startLineNumber===1||this.modified.startLineNumber===1){if(!(this.modified.startLineNumber===1&&this.original.startLineNumber===1))throw new le("not a valid diff");return new gt(new R(this.original.startLineNumber,1,this.original.endLineNumberExclusive,1),new R(this.modified.startLineNumber,1,this.modified.endLineNumberExclusive,1))}else return new gt(new R(this.original.startLineNumber-1,Number.MAX_SAFE_INTEGER,this.original.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER),new R(this.modified.startLineNumber-1,Number.MAX_SAFE_INTEGER,this.modified.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER))}toRangeMapping2(e,t){if(sb(this.original.endLineNumberExclusive,e)&&sb(this.modified.endLineNumberExclusive,t))return new gt(new R(this.original.startLineNumber,1,this.original.endLineNumberExclusive,1),new R(this.modified.startLineNumber,1,this.modified.endLineNumberExclusive,1));if(!this.original.isEmpty&&!this.modified.isEmpty)return new gt(R.fromPositions(new $(this.original.startLineNumber,1),to(new $(this.original.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER),e)),R.fromPositions(new $(this.modified.startLineNumber,1),to(new $(this.modified.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER),t)));if(this.original.startLineNumber>1&&this.modified.startLineNumber>1)return new gt(R.fromPositions(to(new $(this.original.startLineNumber-1,Number.MAX_SAFE_INTEGER),e),to(new $(this.original.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER),e)),R.fromPositions(to(new $(this.modified.startLineNumber-1,Number.MAX_SAFE_INTEGER),t),to(new $(this.modified.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER),t)));throw new le}};function to(r,e){if(r.lineNumber<1)return new $(1,1);if(r.lineNumber>e.length)return new $(e.length,e[e.length-1].length+1);let t=e[r.lineNumber-1];return r.column>t.length+1?new $(r.lineNumber,t.length+1):r}function sb(r,e){return r>=1&&r<=e.length}var Xt=class r extends Ot{static fromRangeMappings(e){let t=ne.join(e.map(i=>ne.fromRangeInclusive(i.originalRange))),n=ne.join(e.map(i=>ne.fromRangeInclusive(i.modifiedRange)));return new r(t,n,e)}innerChanges;constructor(e,t,n){super(e,t),this.innerChanges=n}flip(){return new r(this.modified,this.original,this.innerChanges?.map(e=>e.flip()))}withInnerChangesFromLineRanges(){return new r(this.original,this.modified,[this.toRangeMapping()])}},gt=class r{static assertSorted(e){for(let t=1;t<e.length;t++){let n=e[t-1],i=e[t];if(!(n.originalRange.getEndPosition().isBeforeOrEqual(i.originalRange.getStartPosition())&&n.modifiedRange.getEndPosition().isBeforeOrEqual(i.modifiedRange.getStartPosition())))throw new le("Range mappings must be sorted")}}originalRange;modifiedRange;constructor(e,t){this.originalRange=e,this.modifiedRange=t}toString(){return`{${this.originalRange.toString()}->${this.modifiedRange.toString()}}`}flip(){return new r(this.modifiedRange,this.originalRange)}toTextEdit(e){let t=e.getValueOfRange(this.modifiedRange);return new Jl(this.originalRange,t)}};var _r=class{constructor(e,t,n){this.changes=e;this.moves=t;this.hitTimeout=n}},no=class r{lineRangeMapping;changes;constructor(e,t){this.lineRangeMapping=e,this.changes=t}flip(){return new r(this.lineRangeMapping.flip(),this.changes.map(e=>e.flip()))}};var Ex=3,Zl=class{computeDiff(e,t,n){let o=new ws(e,t,{maxComputationTime:n.maxComputationTimeMs,shouldIgnoreTrimWhitespace:n.ignoreTrimWhitespace,shouldComputeCharChanges:!0,shouldMakePrettyDiff:!0,shouldPostProcessCharChanges:!0}).computeDiff(),s=[],a=null;for(let l of o.changes){let u;l.originalEndLineNumber===0?u=new ne(l.originalStartLineNumber+1,l.originalStartLineNumber+1):u=new ne(l.originalStartLineNumber,l.originalEndLineNumber+1);let d;l.modifiedEndLineNumber===0?d=new ne(l.modifiedStartLineNumber+1,l.modifiedStartLineNumber+1):d=new ne(l.modifiedStartLineNumber,l.modifiedEndLineNumber+1);let g=new Xt(u,d,l.charChanges?.map(h=>new gt(new R(h.originalStartLineNumber,h.originalStartColumn,h.originalEndLineNumber,h.originalEndColumn),new R(h.modifiedStartLineNumber,h.modifiedStartColumn,h.modifiedEndLineNumber,h.modifiedEndColumn))));a&&(a.modified.endLineNumberExclusive===g.modified.startLineNumber||a.original.endLineNumberExclusive===g.original.startLineNumber)&&(g=new Xt(a.original.join(g.original),a.modified.join(g.modified),a.innerChanges&&g.innerChanges?a.innerChanges.concat(g.innerChanges):void 0),s.pop()),s.push(g),a=g}return Wt(()=>Po(s,(l,u)=>u.original.startLineNumber-l.original.endLineNumberExclusive===u.modified.startLineNumber-l.modified.endLineNumberExclusive&&l.original.endLineNumberExclusive<u.original.startLineNumber&&l.modified.endLineNumberExclusive<u.modified.startLineNumber)),new _r(s,[],o.quitEarly)}};function lb(r,e,t,n){return new _s(r,e,t).ComputeDiff(n)}var eu=class{lines;_startColumns;_endColumns;constructor(e){let t=[],n=[];for(let i=0,o=e.length;i<o;i++)t[i]=$g(e[i],1),n[i]=Yg(e[i],1);this.lines=e,this._startColumns=t,this._endColumns=n}getElements(){let e=[];for(let t=0,n=this.lines.length;t<n;t++)e[t]=this.lines[t].substring(this._startColumns[t]-1,this._endColumns[t]-1);return e}getStrictElement(e){return this.lines[e]}getStartLineNumber(e){return e+1}getEndLineNumber(e){return e+1}createCharSequence(e,t,n){let i=[],o=[],s=[],a=0;for(let l=t;l<=n;l++){let u=this.lines[l],d=e?this._startColumns[l]:1,g=e?this._endColumns[l]:u.length+1;for(let h=d;h<g;h++)i[a]=u.charCodeAt(h-1),o[a]=l+1,s[a]=h,a++;!e&&l<n&&(i[a]=10,o[a]=l+1,s[a]=u.length+1,a++)}return new jg(i,o,s)}},jg=class{_charCodes;_lineNumbers;_columns;constructor(e,t,n){this._charCodes=e,this._lineNumbers=t,this._columns=n}toString(){return"["+this._charCodes.map((e,t)=>(e===10?"\\n":String.fromCharCode(e))+`-(${this._lineNumbers[t]},${this._columns[t]})`).join(", ")+"]"}_assertIndex(e,t){if(e<0||e>=t.length)throw new Error("Illegal index")}getElements(){return this._charCodes}getStartLineNumber(e){return e>0&&e===this._lineNumbers.length?this.getEndLineNumber(e-1):(this._assertIndex(e,this._lineNumbers),this._lineNumbers[e])}getEndLineNumber(e){return e===-1?this.getStartLineNumber(e+1):(this._assertIndex(e,this._lineNumbers),this._charCodes[e]===10?this._lineNumbers[e]+1:this._lineNumbers[e])}getStartColumn(e){return e>0&&e===this._columns.length?this.getEndColumn(e-1):(this._assertIndex(e,this._columns),this._columns[e])}getEndColumn(e){return e===-1?this.getStartColumn(e+1):(this._assertIndex(e,this._columns),this._charCodes[e]===10?1:this._columns[e]+1)}},ro=class r{originalStartLineNumber;originalStartColumn;originalEndLineNumber;originalEndColumn;modifiedStartLineNumber;modifiedStartColumn;modifiedEndLineNumber;modifiedEndColumn;constructor(e,t,n,i,o,s,a,l){this.originalStartLineNumber=e,this.originalStartColumn=t,this.originalEndLineNumber=n,this.originalEndColumn=i,this.modifiedStartLineNumber=o,this.modifiedStartColumn=s,this.modifiedEndLineNumber=a,this.modifiedEndColumn=l}static createFromDiffChange(e,t,n){let i=t.getStartLineNumber(e.originalStart),o=t.getStartColumn(e.originalStart),s=t.getEndLineNumber(e.originalStart+e.originalLength-1),a=t.getEndColumn(e.originalStart+e.originalLength-1),l=n.getStartLineNumber(e.modifiedStart),u=n.getStartColumn(e.modifiedStart),d=n.getEndLineNumber(e.modifiedStart+e.modifiedLength-1),g=n.getEndColumn(e.modifiedStart+e.modifiedLength-1);return new r(i,o,s,a,l,u,d,g)}};function Rx(r){if(r.length<=1)return r;let e=[r[0]],t=e[0];for(let n=1,i=r.length;n<i;n++){let o=r[n],s=o.originalStart-(t.originalStart+t.originalLength),a=o.modifiedStart-(t.modifiedStart+t.modifiedLength);Math.min(s,a)<Ex?(t.originalLength=o.originalStart+o.originalLength-t.originalStart,t.modifiedLength=o.modifiedStart+o.modifiedLength-t.modifiedStart):(e.push(o),t=o)}return e}var Ls=class r{originalStartLineNumber;originalEndLineNumber;modifiedStartLineNumber;modifiedEndLineNumber;charChanges;constructor(e,t,n,i,o){this.originalStartLineNumber=e,this.originalEndLineNumber=t,this.modifiedStartLineNumber=n,this.modifiedEndLineNumber=i,this.charChanges=o}static createFromDiffResult(e,t,n,i,o,s,a){let l,u,d,g,h;if(t.originalLength===0?(l=n.getStartLineNumber(t.originalStart)-1,u=0):(l=n.getStartLineNumber(t.originalStart),u=n.getEndLineNumber(t.originalStart+t.originalLength-1)),t.modifiedLength===0?(d=i.getStartLineNumber(t.modifiedStart)-1,g=0):(d=i.getStartLineNumber(t.modifiedStart),g=i.getEndLineNumber(t.modifiedStart+t.modifiedLength-1)),s&&t.originalLength>0&&t.originalLength<20&&t.modifiedLength>0&&t.modifiedLength<20&&o()){let p=n.createCharSequence(e,t.originalStart,t.originalStart+t.originalLength-1),b=i.createCharSequence(e,t.modifiedStart,t.modifiedStart+t.modifiedLength-1);if(p.getElements().length>0&&b.getElements().length>0){let m=lb(p,b,o,!0).changes;a&&(m=Rx(m)),h=[];for(let y=0,I=m.length;y<I;y++)h.push(ro.createFromDiffChange(m[y],p,b))}}return new r(l,u,d,g,h)}},ws=class{shouldComputeCharChanges;shouldPostProcessCharChanges;shouldIgnoreTrimWhitespace;shouldMakePrettyDiff;originalLines;modifiedLines;original;modified;continueLineDiff;continueCharDiff;constructor(e,t,n){this.shouldComputeCharChanges=n.shouldComputeCharChanges,this.shouldPostProcessCharChanges=n.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=n.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=n.shouldMakePrettyDiff,this.originalLines=e,this.modifiedLines=t,this.original=new eu(e),this.modified=new eu(t),this.continueLineDiff=ab(n.maxComputationTime),this.continueCharDiff=ab(n.maxComputationTime===0?0:Math.min(n.maxComputationTime,5e3))}computeDiff(){if(this.original.lines.length===1&&this.original.lines[0].length===0)return this.modified.lines.length===1&&this.modified.lines[0].length===0?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:void 0}]};if(this.modified.lines.length===1&&this.modified.lines[0].length===0)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:void 0}]};let e=lb(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),t=e.changes,n=e.quitEarly;if(this.shouldIgnoreTrimWhitespace){let a=[];for(let l=0,u=t.length;l<u;l++)a.push(Ls.createFromDiffResult(this.shouldIgnoreTrimWhitespace,t[l],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:n,changes:a}}let i=[],o=0,s=0;for(let a=-1,l=t.length;a<l;a++){let u=a+1<l?t[a+1]:null,d=u?u.originalStart:this.originalLines.length,g=u?u.modifiedStart:this.modifiedLines.length;for(;o<d&&s<g;){let h=this.originalLines[o],p=this.modifiedLines[s];if(h!==p){{let b=$g(h,1),m=$g(p,1);for(;b>1&&m>1;){let y=h.charCodeAt(b-2),I=p.charCodeAt(m-2);if(y!==I)break;b--,m--}(b>1||m>1)&&this._pushTrimWhitespaceCharChange(i,o+1,1,b,s+1,1,m)}{let b=Yg(h,1),m=Yg(p,1),y=h.length+1,I=p.length+1;for(;b<y&&m<I;){let k=h.charCodeAt(b-1),C=h.charCodeAt(m-1);if(k!==C)break;b++,m++}(b<y||m<I)&&this._pushTrimWhitespaceCharChange(i,o+1,b,y,s+1,m,I)}}o++,s++}u&&(i.push(Ls.createFromDiffResult(this.shouldIgnoreTrimWhitespace,u,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),o+=u.originalLength,s+=u.modifiedLength)}return{quitEarly:n,changes:i}}_pushTrimWhitespaceCharChange(e,t,n,i,o,s,a){if(this._mergeTrimWhitespaceCharChange(e,t,n,i,o,s,a))return;let l;this.shouldComputeCharChanges&&(l=[new ro(t,n,t,i,o,s,o,a)]),e.push(new Ls(t,t,o,o,l))}_mergeTrimWhitespaceCharChange(e,t,n,i,o,s,a){let l=e.length;if(l===0)return!1;let u=e[l-1];return u.originalEndLineNumber===0||u.modifiedEndLineNumber===0?!1:u.originalEndLineNumber===t&&u.modifiedEndLineNumber===o?(this.shouldComputeCharChanges&&u.charChanges&&u.charChanges.push(new ro(t,n,t,i,o,s,o,a)),!0):u.originalEndLineNumber+1===t&&u.modifiedEndLineNumber+1===o?(u.originalEndLineNumber=t,u.modifiedEndLineNumber=o,this.shouldComputeCharChanges&&u.charChanges&&u.charChanges.push(new ro(t,n,t,i,o,s,o,a)),!0):!1}};function $g(r,e){let t=ln(r);return t===-1?e:t+1}function Yg(r,e){let t=Ua(r);return t===-1?e:t+2}function ab(r){if(r===0)return()=>!0;let e=Date.now();return()=>Date.now()-e<r}function Dx(r,e,t){let n=0;for(let o=0;o<r.length;o++)r.charAt(o)==="	"?n=br.nextIndentTabStop(n,e):n++;let i="";if(!t){let o=Math.floor(n/e);n=n%e;for(let s=0;s<o;s++)i+="	"}for(let o=0;o<n;o++)i+=" ";return i}function ub(r,e,t){let n=ln(r);return n===-1&&(n=r.length),Dx(r.substring(0,n),e,t)+r.substring(n)}var ai=class r{constructor(e,t,n){this.startOffset=e;this.endOffset=t;this.newLength=n}static fromModelContentChanges(e){return e.map(n=>{let i=R.lift(n.range);return new r(yr(i.getStartPosition()),yr(i.getEndPosition()),zm(n.text))}).reverse()}toString(){return`[${ot(this.startOffset)}...${ot(this.endOffset)}) -> ${ot(this.newLength)}`}},tu=class{nextEditIdx=0;deltaOldToNewLineCount=0;deltaOldToNewColumnCount=0;deltaLineIdxInOld=-1;edits;constructor(e){this.edits=e.map(t=>Qg.from(t))}getOffsetBeforeChange(e){return this.adjustNextEdit(e),this.translateCurToOld(e)}getDistanceToNextChange(e){this.adjustNextEdit(e);let t=this.edits[this.nextEditIdx],n=t?this.translateOldToCur(t.offsetObj):null;return n===null?null:Jr(e,n)}translateOldToCur(e){return e.lineCount===this.deltaLineIdxInOld?ke(e.lineCount+this.deltaOldToNewLineCount,e.columnCount+this.deltaOldToNewColumnCount):ke(e.lineCount+this.deltaOldToNewLineCount,e.columnCount)}translateCurToOld(e){let t=ot(e);return t.lineCount-this.deltaOldToNewLineCount===this.deltaLineIdxInOld?ke(t.lineCount-this.deltaOldToNewLineCount,t.columnCount-this.deltaOldToNewColumnCount):ke(t.lineCount-this.deltaOldToNewLineCount,t.columnCount)}adjustNextEdit(e){for(;this.nextEditIdx<this.edits.length;){let t=this.edits[this.nextEditIdx],n=this.translateOldToCur(t.endOffsetAfterObj);if(vr(n,e)){this.nextEditIdx++;let i=ot(n),o=ot(this.translateOldToCur(t.endOffsetBeforeObj)),s=i.lineCount-o.lineCount;this.deltaOldToNewLineCount+=s;let a=this.deltaLineIdxInOld===t.endOffsetBeforeObj.lineCount?this.deltaOldToNewColumnCount:0,l=i.columnCount-o.columnCount;this.deltaOldToNewColumnCount=a+l,this.deltaLineIdxInOld=t.endOffsetBeforeObj.lineCount}else break}}},Qg=class r{static from(e){return new r(e.startOffset,e.endOffset,e.newLength)}endOffsetBeforeObj;endOffsetAfterObj;offsetObj;constructor(e,t,n){this.endOffsetBeforeObj=ot(t),this.endOffsetAfterObj=ot(Te(e,n)),this.offsetObj=ot(e)}};function gb(r){if(r.length===0)return null;if(r.length===1)return r[0];let e=0;function t(){if(e>=r.length)return null;let s=e,a=r[s].listHeight;for(e++;e<r.length&&r[e].listHeight===a;)e++;return e-s>=2?Jg(s===0&&e===r.length?r:r.slice(s,e),!1):r[s]}let n=t(),i=t();if(!i)return n;for(let s=t();s;s=t())cb(n,i)<=cb(i,s)?(n=Xg(n,i),i=s):i=Xg(i,s);return Xg(n,i)}function Jg(r,e=!1){if(r.length===0)return null;if(r.length===1)return r[0];let t=r.length;for(;t>3;){let n=t>>1;for(let i=0;i<n;i++){let o=i<<1;r[i]=kt.create23(r[o],r[o+1],o+3===t?r[o+2]:null,e)}t=n}return kt.create23(r[0],r[1],t>=3?r[2]:null,e)}function cb(r,e){return Math.abs(r.listHeight-e.listHeight)}function Xg(r,e){return r.listHeight===e.listHeight?kt.create23(r,e,null,!1):r.listHeight>e.listHeight?Ax(r,e):Nx(e,r)}function Ax(r,e){r=r.toMutable();let t=r,n=[],i;for(;;){if(e.listHeight===t.listHeight){i=e;break}if(t.kind!==4)throw new Error("unexpected");n.push(t),t=t.makeLastElementMutable()}for(let o=n.length-1;o>=0;o--){let s=n[o];i?s.childrenLength>=3?i=kt.create23(s.unappendChild(),i,null,!1):(s.appendChildOfSameHeight(i),i=void 0):s.handleChildrenChanged()}return i?kt.create23(r,i,null,!1):r}function Nx(r,e){r=r.toMutable();let t=r,n=[];for(;e.listHeight!==t.listHeight;){if(t.kind!==4)throw new Error("unexpected");n.push(t),t=t.makeFirstElementMutable()}let i=e;for(let o=n.length-1;o>=0;o--){let s=n[o];i?s.childrenLength>=3?i=kt.create23(i,s.unprependChild(),null,!1):(s.prependChildOfSameHeight(i),i=void 0):s.handleChildrenChanged()}return i?kt.create23(i,r,null,!1):r}var nu=class{nextNodes;offsets;idxs;lastOffset=Ue;constructor(e){this.nextNodes=[e],this.offsets=[Ue],this.idxs=[]}readLongestNodeAt(e,t){if(Wn(e,this.lastOffset))throw new Error("Invalid offset");for(this.lastOffset=e;;){let n=Es(this.nextNodes);if(!n)return;let i=Es(this.offsets);if(Wn(e,i))return;if(Wn(i,e))if(Te(i,n.length)<=e)this.nextNodeAfterCurrent();else{let o=Zg(n);o!==-1?(this.nextNodes.push(n.getChild(o)),this.offsets.push(i),this.idxs.push(o)):this.nextNodeAfterCurrent()}else{if(t(n))return this.nextNodeAfterCurrent(),n;{let o=Zg(n);if(o===-1){this.nextNodeAfterCurrent();return}else this.nextNodes.push(n.getChild(o)),this.offsets.push(i),this.idxs.push(o)}}}}nextNodeAfterCurrent(){for(;;){let e=Es(this.offsets),t=Es(this.nextNodes);if(this.nextNodes.pop(),this.offsets.pop(),this.idxs.length===0)break;let n=Es(this.nextNodes),i=Zg(n,this.idxs[this.idxs.length-1]);if(i!==-1){this.nextNodes.push(n.getChild(i)),this.offsets.push(Te(e,t.length)),this.idxs[this.idxs.length-1]=i;break}else this.idxs.pop()}}};function Zg(r,e=-1){for(;;){if(e++,e>=r.childrenLength)return-1;if(r.getChild(e))return e}}function Es(r){return r.length>0?r[r.length-1]:void 0}function tf(r,e,t,n){return new ef(r,e,t,n).parseDocument()}var ef=class{constructor(e,t,n,i){this.tokenizer=e;this.createImmutableLists=i;if(n&&i)throw new Error("Not supported");this.oldNodeReader=n?new nu(n):void 0,this.positionMapper=new tu(t)}oldNodeReader;positionMapper;_itemsConstructed=0;_itemsFromCache=0;get nodesConstructed(){return this._itemsConstructed}get nodesReused(){return this._itemsFromCache}parseDocument(){this._itemsConstructed=0,this._itemsFromCache=0;let e=this.parseList(Ye.getEmpty(),0);return e||(e=kt.getEmpty()),e}parseList(e,t){let n=[];for(;;){let o=this.tryReadChildFromCache(e);if(!o){let s=this.tokenizer.peek();if(!s||s.kind===2&&s.bracketIds.intersects(e))break;o=this.parseChild(e,t+1)}o.kind===4&&o.childrenLength===0||n.push(o)}return this.oldNodeReader?gb(n):Jg(n,this.createImmutableLists)}tryReadChildFromCache(e){if(this.oldNodeReader){let t=this.positionMapper.getDistanceToNextChange(this.tokenizer.offset);if(t===null||!Gi(t)){let n=this.oldNodeReader.readLongestNodeAt(this.positionMapper.getOffsetBeforeChange(this.tokenizer.offset),i=>t!==null&&!Wn(i.length,t)?!1:i.canBeReused(e));if(n)return this._itemsFromCache++,this.tokenizer.skip(n.length),n}}}parseChild(e,t){this._itemsConstructed++;let n=this.tokenizer.read();switch(n.kind){case 2:return new Ol(n.bracketIds,n.length);case 0:return n.astNode;case 1:{if(t>300)return new $t(n.length);let i=e.merge(n.bracketIds),o=this.parseList(i,t+1),s=this.tokenizer.peek();return s&&s.kind===2&&(s.bracketId===n.bracketId||s.bracketIds.intersects(n.bracketIds))?(this.tokenizer.read(),bs.create(n.astNode,o,s.astNode)):bs.create(n.astNode,o,null)}default:throw new Error("unexpected")}}};function nf(r,e){if(r.length===0)return e;if(e.length===0)return r;let t=new Or(fb(r)),n=fb(e);n.push({modified:!1,lengthBefore:void 0,lengthAfter:void 0});let i=t.dequeue();function o(u){if(u===void 0){let g=t.takeWhile(h=>!0)||[];return i&&g.unshift(i),g}let d=[];for(;i&&!Gi(u);){let[g,h]=i.splitAt(u);d.push(g),u=Jr(g.lengthAfter,u),i=h??t.dequeue()}return Gi(u)||d.push(new Rs(!1,u,u)),d}let s=[];function a(u,d,g){if(s.length>0&&Bd(s[s.length-1].endOffset,u)){let h=s[s.length-1];s[s.length-1]=new ai(h.startOffset,d,Te(h.newLength,g))}else s.push({startOffset:u,endOffset:d,newLength:g})}let l=Ue;for(let u of n){let d=o(u.lengthBefore);if(u.modified){let g=Um(d,p=>p.lengthBefore),h=Te(l,g);a(l,h,u.lengthAfter),l=h}else for(let g of d){let h=l;l=Te(l,g.lengthBefore),g.modified&&a(h,l,g.lengthAfter)}}return s}var Rs=class r{constructor(e,t,n){this.modified=e;this.lengthBefore=t;this.lengthAfter=n}splitAt(e){let t=Jr(e,this.lengthAfter);return Bd(t,Ue)?[this,void 0]:this.modified?[new r(this.modified,this.lengthBefore,e),new r(this.modified,Ue,t)]:[new r(this.modified,e,e),new r(this.modified,t,t)]}toString(){return`${this.modified?"M":"U"}:${ot(this.lengthBefore)} -> ${ot(this.lengthAfter)}`}};function fb(r){let e=[],t=Ue;for(let n of r){let i=Jr(t,n.startOffset);Gi(i)||e.push(new Rs(!1,i,i));let o=Jr(n.startOffset,n.endOffset);e.push(new Rs(!0,o,n.newLength)),t=n.endOffset}return e}var ru=class extends oe{constructor(t,n){super();this.textModel=t;this.getLanguageConfiguration=n;if(t.tokenization.hasTokens)t.tokenization.backgroundTokenizationState===2?(this.initialAstWithoutTokens=void 0,this.astWithTokens=this.parseDocumentFromTextBuffer([],void 0,!1)):(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer([],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens);else{let i=this.brackets.getSingleLanguageBracketTokens(this.textModel.getLanguageId()),o=new Nl(this.textModel.getValue(),i);this.initialAstWithoutTokens=tf(o,[],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens}}didChangeEmitter=new U;initialAstWithoutTokens;astWithTokens;denseKeyProvider=new fl;brackets=new Dl(this.denseKeyProvider,this.getLanguageConfiguration);didLanguageChange(t){return this.brackets.didLanguageChange(t)}onDidChange=this.didChangeEmitter.event;queuedTextEditsForInitialAstWithoutTokens=[];queuedTextEdits=[];handleDidChangeBackgroundTokenizationState(){if(this.textModel.tokenization.backgroundTokenizationState===2){let t=this.initialAstWithoutTokens===void 0;this.initialAstWithoutTokens=void 0,t||this.didChangeEmitter.fire()}}handleDidChangeTokens({ranges:t}){let n=t.map(i=>new ai(ke(i.fromLineNumber-1,0),ke(i.toLineNumber,0),ke(i.toLineNumber-i.fromLineNumber+1,0)));this.handleEdits(n,!0),this.initialAstWithoutTokens||this.didChangeEmitter.fire()}handleContentChanged(t){let n=ai.fromModelContentChanges(t.changes);this.handleEdits(n,!1)}handleEdits(t,n){let i=nf(this.queuedTextEdits,t);this.queuedTextEdits=i,this.initialAstWithoutTokens&&!n&&(this.queuedTextEditsForInitialAstWithoutTokens=nf(this.queuedTextEditsForInitialAstWithoutTokens,t))}flushQueue(){this.queuedTextEdits.length>0&&(this.astWithTokens=this.parseDocumentFromTextBuffer(this.queuedTextEdits,this.astWithTokens,!1),this.queuedTextEdits=[]),this.queuedTextEditsForInitialAstWithoutTokens.length>0&&(this.initialAstWithoutTokens&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer(this.queuedTextEditsForInitialAstWithoutTokens,this.initialAstWithoutTokens,!1)),this.queuedTextEditsForInitialAstWithoutTokens=[])}parseDocumentFromTextBuffer(t,n,i){let s=n,a=new Al(this.textModel,this.brackets);return tf(a,t,s,i)}getBracketsInRange(t,n){this.flushQueue();let i=ke(t.startLineNumber-1,t.startColumn-1),o=ke(t.endLineNumber-1,t.endColumn-1);return new Nn(s=>{let a=this.initialAstWithoutTokens||this.astWithTokens;rf(a,Ue,a.length,i,o,s,0,0,new Map,n)})}getBracketPairsInRange(t,n){this.flushQueue();let i=yr(t.getStartPosition()),o=yr(t.getEndPosition());return new Nn(s=>{let a=this.initialAstWithoutTokens||this.astWithTokens,l=new of(s,n,this.textModel);sf(a,Ue,a.length,i,o,l,0,new Map)})}getFirstBracketAfter(t){this.flushQueue();let n=this.initialAstWithoutTokens||this.astWithTokens;return mb(n,Ue,n.length,yr(t))}getFirstBracketBefore(t){this.flushQueue();let n=this.initialAstWithoutTokens||this.astWithTokens;return pb(n,Ue,n.length,yr(t))}};function pb(r,e,t,n){if(r.kind===4||r.kind===2){let i=[];for(let o of r.children)t=Te(e,o.length),i.push({nodeOffsetStart:e,nodeOffsetEnd:t}),e=t;for(let o=i.length-1;o>=0;o--){let{nodeOffsetStart:s,nodeOffsetEnd:a}=i[o];if(Wn(s,n)){let l=pb(r.children[o],s,a,n);if(l)return l}}return null}else{if(r.kind===3)return null;if(r.kind===1){let i=xr(e,t);return{bracketInfo:r.bracketInfo,range:i}}}return null}function mb(r,e,t,n){if(r.kind===4||r.kind===2){for(let i of r.children){if(t=Te(e,i.length),Wn(n,t)){let o=mb(i,e,t,n);if(o)return o}e=t}return null}else{if(r.kind===3)return null;if(r.kind===1){let i=xr(e,t);return{bracketInfo:r.bracketInfo,range:i}}}return null}function rf(r,e,t,n,i,o,s,a,l,u,d=!1){if(s>200)return!0;e:for(;;)switch(r.kind){case 4:{let g=r.childrenLength;for(let h=0;h<g;h++){let p=r.getChild(h);if(p){if(t=Te(e,p.length),vr(e,i)&&ji(t,n)){if(ji(t,i)){r=p;continue e}if(!rf(p,e,t,n,i,o,s,0,l,u))return!1}e=t}}return!0}case 2:{let g=!u||!r.closingBracket||r.closingBracket.bracketInfo.closesColorized(r.openingBracket.bracketInfo),h=0;if(l){let b=l.get(r.openingBracket.text);b===void 0&&(b=0),h=b,g&&(b++,l.set(r.openingBracket.text,b))}let p=r.childrenLength;for(let b=0;b<p;b++){let m=r.getChild(b);if(m){if(t=Te(e,m.length),vr(e,i)&&ji(t,n)){if(ji(t,i)&&m.kind!==1){r=m,g?(s++,a=h+1):a=h;continue e}if((g||m.kind!==1||!r.closingBracket)&&!rf(m,e,t,n,i,o,g?s+1:s,g?h+1:h,l,u,!r.closingBracket))return!1}e=t}}return l?.set(r.openingBracket.text,h),!0}case 3:{let g=xr(e,t);return o(new Is(g,s-1,0,!0))}case 1:{let g=xr(e,t);return o(new Is(g,s-1,a-1,d))}case 0:return!0}}var of=class{constructor(e,t,n){this.push=e;this.includeMinIndentation=t;this.textModel=n}};function sf(r,e,t,n,i,o,s,a){if(s>200)return!0;let l=!0;if(r.kind===2){let u=0;if(a){let h=a.get(r.openingBracket.text);h===void 0&&(h=0),u=h,h++,a.set(r.openingBracket.text,h)}let d=Te(e,r.openingBracket.length),g=-1;if(o.includeMinIndentation&&(g=r.computeMinIndentation(e,o.textModel)),l=o.push(new Pl(xr(e,t),xr(e,d),r.closingBracket?xr(Te(d,r.child?.length||Ue),t):void 0,s,u,r,g)),e=d,l&&r.child){let h=r.child;if(t=Te(e,h.length),vr(e,i)&&ji(t,n)&&(l=sf(h,e,t,n,i,o,s+1,a),!l))return!1}a?.set(r.openingBracket.text,u)}else{let u=e;for(let d of r.children){let g=u;if(u=Te(u,d.length),vr(g,i)&&vr(n,u)&&(l=sf(d,g,u,n,i,o,s,a),!l))return!1}}return l}var ou=class extends oe{constructor(t,n){super();this.textModel=t;this.languageConfigurationService=n}bracketPairsTree=this._register(new sn);onDidChangeEmitter=new U;onDidChange=this.onDidChangeEmitter.event;get canBuildAST(){return this.textModel.getValueLength()<=5e6}bracketsRequested=!1;handleLanguageConfigurationServiceChange(t){(!t.languageId||this.bracketPairsTree.value?.object.didLanguageChange(t.languageId))&&(this.bracketPairsTree.clear(),this.updateBracketPairsTree())}handleDidChangeOptions(t){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeLanguage(t){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeContent(t){this.bracketPairsTree.value?.object.handleContentChanged(t)}handleDidChangeBackgroundTokenizationState(){this.bracketPairsTree.value?.object.handleDidChangeBackgroundTokenizationState()}handleDidChangeTokens(t){this.bracketPairsTree.value?.object.handleDidChangeTokens(t)}updateBracketPairsTree(){if(this.bracketsRequested&&this.canBuildAST){if(!this.bracketPairsTree.value){let t=new Ve;this.bracketPairsTree.value=Mx(t.add(new ru(this.textModel,n=>this.languageConfigurationService.getLanguageConfiguration(n))),t),t.add(this.bracketPairsTree.value.object.onDidChange(n=>this.onDidChangeEmitter.fire(n))),this.onDidChangeEmitter.fire()}}else this.bracketPairsTree.value&&(this.bracketPairsTree.clear(),this.onDidChangeEmitter.fire())}getBracketPairsInRange(t){return this.bracketsRequested=!0,this.updateBracketPairsTree(),this.bracketPairsTree.value?.object.getBracketPairsInRange(t,!1)||Nn.empty}getBracketPairsInRangeWithMinIndentation(t){return this.bracketsRequested=!0,this.updateBracketPairsTree(),this.bracketPairsTree.value?.object.getBracketPairsInRange(t,!0)||Nn.empty}getBracketsInRange(t,n=!1){return this.bracketsRequested=!0,this.updateBracketPairsTree(),this.bracketPairsTree.value?.object.getBracketsInRange(t,n)||Nn.empty}findMatchingBracketUp(t,n,i){let o=this.textModel.validatePosition(n),s=this.textModel.getLanguageIdAtPosition(o.lineNumber,o.column);if(this.canBuildAST){let a=this.languageConfigurationService.getLanguageConfiguration(s).bracketsNew.getClosingBracketInfo(t);if(!a)return null;let l=this.getBracketPairsInRange(R.fromPositions(n,n)).findLast(u=>a.closes(u.openingBracketInfo));return l?l.openingBracketRange:null}else{let a=t.toLowerCase(),l=this.languageConfigurationService.getLanguageConfiguration(s).brackets;if(!l)return null;let u=l.textIsBracket[a];return u?iu(this._findMatchingBracketUp(u,o,af(i))):null}}matchBracket(t,n){if(this.canBuildAST){let i=this.getBracketPairsInRange(R.fromPositions(t,t)).filter(o=>o.closingBracketRange!==void 0&&(o.openingBracketRange.containsPosition(t)||o.closingBracketRange.containsPosition(t))).findLastMaxBy(Zn(o=>o.openingBracketRange.containsPosition(t)?o.openingBracketRange:o.closingBracketRange,R.compareRangesUsingStarts));return i?[i.openingBracketRange,i.closingBracketRange]:null}else{let i=af(n);return this._matchBracket(this.textModel.validatePosition(t),i)}}_establishBracketSearchOffsets(t,n,i,o){let s=n.getCount(),a=n.getLanguageId(o),l=Math.max(0,t.column-1-i.maxBracketLength);for(let d=o-1;d>=0;d--){let g=n.getEndOffset(d);if(g<=l)break;if(Nt(n.getStandardTokenType(d))||n.getLanguageId(d)!==a){l=g;break}}let u=Math.min(n.getLineContent().length,t.column-1+i.maxBracketLength);for(let d=o+1;d<s;d++){let g=n.getStartOffset(d);if(g>=u)break;if(Nt(n.getStandardTokenType(d))||n.getLanguageId(d)!==a){u=g;break}}return{searchStartOffset:l,searchEndOffset:u}}_matchBracket(t,n){let i=t.lineNumber,o=this.textModel.tokenization.getLineTokens(i),s=this.textModel.getLineContent(i),a=o.findTokenIndexAtOffset(t.column-1);if(a<0)return null;let l=this.languageConfigurationService.getLanguageConfiguration(o.getLanguageId(a)).brackets;if(l&&!Nt(o.getStandardTokenType(a))){let{searchStartOffset:u,searchEndOffset:d}=this._establishBracketSearchOffsets(t,o,l,a),g=null;for(;;){let h=ct.findNextBracketInRange(l.forwardRegex,i,s,u,d);if(!h)break;if(h.startColumn<=t.column&&t.column<=h.endColumn){let p=s.substring(h.startColumn-1,h.endColumn-1).toLowerCase(),b=this._matchFoundBracket(h,l.textIsBracket[p],l.textIsOpenBracket[p],n);if(b){if(b instanceof Hn)return null;g=b}}u=h.endColumn-1}if(g)return g}if(a>0&&o.getStartOffset(a)===t.column-1){let u=a-1,d=this.languageConfigurationService.getLanguageConfiguration(o.getLanguageId(u)).brackets;if(d&&!Nt(o.getStandardTokenType(u))){let{searchStartOffset:g,searchEndOffset:h}=this._establishBracketSearchOffsets(t,o,d,u),p=ct.findPrevBracketInRange(d.reversedRegex,i,s,g,h);if(p&&p.startColumn<=t.column&&t.column<=p.endColumn){let b=s.substring(p.startColumn-1,p.endColumn-1).toLowerCase(),m=this._matchFoundBracket(p,d.textIsBracket[b],d.textIsOpenBracket[b],n);if(m)return m instanceof Hn?null:m}}}return null}_matchFoundBracket(t,n,i,o){if(!n)return null;let s=i?this._findMatchingBracketDown(n,t.getEndPosition(),o):this._findMatchingBracketUp(n,t.getStartPosition(),o);return s?s instanceof Hn?s:[t,s]:null}_findMatchingBracketUp(t,n,i){let o=t.languageId,s=t.reversedRegex,a=-1,l=0,u=(d,g,h,p)=>{for(;;){if(i&&++l%100===0&&!i())return Hn.INSTANCE;let b=ct.findPrevBracketInRange(s,d,g,h,p);if(!b)break;let m=g.substring(b.startColumn-1,b.endColumn-1).toLowerCase();if(t.isOpen(m)?a++:t.isClose(m)&&a--,a===0)return b;p=b.startColumn-1}return null};for(let d=n.lineNumber;d>=1;d--){let g=this.textModel.tokenization.getLineTokens(d),h=g.getCount(),p=this.textModel.getLineContent(d),b=h-1,m=p.length,y=p.length;d===n.lineNumber&&(b=g.findTokenIndexAtOffset(n.column-1),m=n.column-1,y=n.column-1);let I=!0;for(;b>=0;b--){let k=g.getLanguageId(b)===o&&!Nt(g.getStandardTokenType(b));if(k)I?m=g.getStartOffset(b):(m=g.getStartOffset(b),y=g.getEndOffset(b));else if(I&&m!==y){let C=u(d,p,m,y);if(C)return C}I=k}if(I&&m!==y){let k=u(d,p,m,y);if(k)return k}}return null}_findMatchingBracketDown(t,n,i){let o=t.languageId,s=t.forwardRegex,a=1,l=0,u=(g,h,p,b)=>{for(;;){if(i&&++l%100===0&&!i())return Hn.INSTANCE;let m=ct.findNextBracketInRange(s,g,h,p,b);if(!m)break;let y=h.substring(m.startColumn-1,m.endColumn-1).toLowerCase();if(t.isOpen(y)?a++:t.isClose(y)&&a--,a===0)return m;p=m.endColumn-1}return null},d=this.textModel.getLineCount();for(let g=n.lineNumber;g<=d;g++){let h=this.textModel.tokenization.getLineTokens(g),p=h.getCount(),b=this.textModel.getLineContent(g),m=0,y=0,I=0;g===n.lineNumber&&(m=h.findTokenIndexAtOffset(n.column-1),y=n.column-1,I=n.column-1);let k=!0;for(;m<p;m++){let C=h.getLanguageId(m)===o&&!Nt(h.getStandardTokenType(m));if(C)k||(y=h.getStartOffset(m)),I=h.getEndOffset(m);else if(k&&y!==I){let T=u(g,b,y,I);if(T)return T}k=C}if(k&&y!==I){let C=u(g,b,y,I);if(C)return C}}return null}findPrevBracket(t){let n=this.textModel.validatePosition(t);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),this.bracketPairsTree.value?.object.getFirstBracketBefore(n)||null;let i=null,o=null,s=null;for(let a=n.lineNumber;a>=1;a--){let l=this.textModel.tokenization.getLineTokens(a),u=l.getCount(),d=this.textModel.getLineContent(a),g=u-1,h=d.length,p=d.length;if(a===n.lineNumber){g=l.findTokenIndexAtOffset(n.column-1),h=n.column-1,p=n.column-1;let m=l.getLanguageId(g);i!==m&&(i=m,o=this.languageConfigurationService.getLanguageConfiguration(i).brackets,s=this.languageConfigurationService.getLanguageConfiguration(i).bracketsNew)}let b=!0;for(;g>=0;g--){let m=l.getLanguageId(g);if(i!==m){if(o&&s&&b&&h!==p){let I=ct.findPrevBracketInRange(o.reversedRegex,a,d,h,p);if(I)return this._toFoundBracket(s,I);b=!1}i=m,o=this.languageConfigurationService.getLanguageConfiguration(i).brackets,s=this.languageConfigurationService.getLanguageConfiguration(i).bracketsNew}let y=!!o&&!Nt(l.getStandardTokenType(g));if(y)b?h=l.getStartOffset(g):(h=l.getStartOffset(g),p=l.getEndOffset(g));else if(s&&o&&b&&h!==p){let I=ct.findPrevBracketInRange(o.reversedRegex,a,d,h,p);if(I)return this._toFoundBracket(s,I)}b=y}if(s&&o&&b&&h!==p){let m=ct.findPrevBracketInRange(o.reversedRegex,a,d,h,p);if(m)return this._toFoundBracket(s,m)}}return null}findNextBracket(t){let n=this.textModel.validatePosition(t);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),this.bracketPairsTree.value?.object.getFirstBracketAfter(n)||null;let i=this.textModel.getLineCount(),o=null,s=null,a=null;for(let l=n.lineNumber;l<=i;l++){let u=this.textModel.tokenization.getLineTokens(l),d=u.getCount(),g=this.textModel.getLineContent(l),h=0,p=0,b=0;if(l===n.lineNumber){h=u.findTokenIndexAtOffset(n.column-1),p=n.column-1,b=n.column-1;let y=u.getLanguageId(h);o!==y&&(o=y,s=this.languageConfigurationService.getLanguageConfiguration(o).brackets,a=this.languageConfigurationService.getLanguageConfiguration(o).bracketsNew)}let m=!0;for(;h<d;h++){let y=u.getLanguageId(h);if(o!==y){if(a&&s&&m&&p!==b){let k=ct.findNextBracketInRange(s.forwardRegex,l,g,p,b);if(k)return this._toFoundBracket(a,k);m=!1}o=y,s=this.languageConfigurationService.getLanguageConfiguration(o).brackets,a=this.languageConfigurationService.getLanguageConfiguration(o).bracketsNew}let I=!!s&&!Nt(u.getStandardTokenType(h));if(I)m||(p=u.getStartOffset(h)),b=u.getEndOffset(h);else if(a&&s&&m&&p!==b){let k=ct.findNextBracketInRange(s.forwardRegex,l,g,p,b);if(k)return this._toFoundBracket(a,k)}m=I}if(a&&s&&m&&p!==b){let y=ct.findNextBracketInRange(s.forwardRegex,l,g,p,b);if(y)return this._toFoundBracket(a,y)}}return null}findEnclosingBrackets(t,n){let i=this.textModel.validatePosition(t);if(this.canBuildAST){let b=R.fromPositions(i),m=this.getBracketPairsInRange(R.fromPositions(i,i)).findLast(y=>y.closingBracketRange!==void 0&&y.range.strictContainsRange(b));return m?[m.openingBracketRange,m.closingBracketRange]:null}let o=af(n),s=this.textModel.getLineCount(),a=new Map,l=[],u=(b,m)=>{if(!a.has(b)){let y=[];for(let I=0,k=m?m.brackets.length:0;I<k;I++)y[I]=0;a.set(b,y)}l=a.get(b)},d=0,g=(b,m,y,I,k)=>{for(;;){if(o&&++d%100===0&&!o())return Hn.INSTANCE;let C=ct.findNextBracketInRange(b.forwardRegex,m,y,I,k);if(!C)break;let T=y.substring(C.startColumn-1,C.endColumn-1).toLowerCase(),S=b.textIsBracket[T];if(S&&(S.isOpen(T)?l[S.index]++:S.isClose(T)&&l[S.index]--,l[S.index]===-1))return this._matchFoundBracket(C,S,!1,o);I=C.endColumn-1}return null},h=null,p=null;for(let b=i.lineNumber;b<=s;b++){let m=this.textModel.tokenization.getLineTokens(b),y=m.getCount(),I=this.textModel.getLineContent(b),k=0,C=0,T=0;if(b===i.lineNumber){k=m.findTokenIndexAtOffset(i.column-1),C=i.column-1,T=i.column-1;let E=m.getLanguageId(k);h!==E&&(h=E,p=this.languageConfigurationService.getLanguageConfiguration(h).brackets,u(h,p))}let S=!0;for(;k<y;k++){let E=m.getLanguageId(k);if(h!==E){if(p&&S&&C!==T){let A=g(p,b,I,C,T);if(A)return iu(A);S=!1}h=E,p=this.languageConfigurationService.getLanguageConfiguration(h).brackets,u(h,p)}let D=!!p&&!Nt(m.getStandardTokenType(k));if(D)S||(C=m.getStartOffset(k)),T=m.getEndOffset(k);else if(p&&S&&C!==T){let A=g(p,b,I,C,T);if(A)return iu(A)}S=D}if(p&&S&&C!==T){let E=g(p,b,I,C,T);if(E)return iu(E)}}return null}_toFoundBracket(t,n){if(!n)return null;let i=this.textModel.getValueInRange(n);i=i.toLowerCase();let o=t.getBracketInfo(i);return o?{range:n,bracketInfo:o}:null}};function Mx(r,e){return{object:r,dispose:()=>e?.dispose()}}function af(r){if(typeof r>"u")return()=>!0;{let e=Date.now();return()=>Date.now()-e<=r}}var Hn=class r{static INSTANCE=new r;_searchCanceledBrand=void 0;constructor(){}};function iu(r){return r instanceof Hn?null:r}var Ox={IconContribution:"base.contributions.icons"},Px;(e=>{function r(t,n){let i=t.defaults;for(;Et.isThemeIcon(i);){let o=io.getIcon(i.id);if(!o)return;i=o.defaults}return i}e.getDefinition=r})(Px||={});var Bx;(t=>{function r(n){return{weight:n.weight,style:n.style,src:n.src.map(i=>({format:i.format,location:i.location.toString()}))}}t.toJSONObject=r;function e(n){let i=o=>Kt(o)?o:void 0;if(n&&Array.isArray(n.src)&&n.src.every(o=>Kt(o.format)&&Kt(o.location)))return{weight:i(n.weight),style:i(n.style),src:n.src.map(o=>({format:o.format,location:he.parse(o.location)}))}}t.fromJSONObject=e})(Bx||={});var lf=class{_onDidChange=new U;onDidChange=this._onDidChange.event;iconsById;iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:c("iconDefinition.fontId","The id of the font to use. If not set, the font that is defined first is used.")},fontCharacter:{type:"string",description:c("iconDefinition.fontCharacter","The font character associated with the icon definition.")}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}};iconReferenceSchema={type:"string",pattern:`^${Et.iconNameExpression}$`,enum:[],enumDescriptions:[]};iconFontsById;constructor(){this.iconsById={},this.iconFontsById={}}registerIcon(e,t,n,i){let o=this.iconsById[e];if(o){if(n&&!o.description){o.description=n,this.iconSchema.properties[e].markdownDescription=`${n} $(${e})`;let l=this.iconReferenceSchema.enum.indexOf(e);l!==-1&&(this.iconReferenceSchema.enumDescriptions[l]=n),this._onDidChange.fire()}return o}let s={id:e,description:n,defaults:t,deprecationMessage:i};this.iconsById[e]=s;let a={$ref:"#/definitions/icons"};return i&&(a.deprecationMessage=i),n&&(a.markdownDescription=`${n}: $(${e})`),this.iconSchema.properties[e]=a,this.iconReferenceSchema.enum.push(e),this.iconReferenceSchema.enumDescriptions.push(n||""),this._onDidChange.fire(),{id:e}}deregisterIcon(e){delete this.iconsById[e],delete this.iconSchema.properties[e];let t=this.iconReferenceSchema.enum.indexOf(e);t!==-1&&(this.iconReferenceSchema.enum.splice(t,1),this.iconReferenceSchema.enumDescriptions.splice(t,1)),this._onDidChange.fire()}getIcons(){return Object.keys(this.iconsById).map(e=>this.iconsById[e])}getIcon(e){return this.iconsById[e]}getIconSchema(){return this.iconSchema}getIconReferenceSchema(){return this.iconReferenceSchema}registerIconFont(e,t){let n=this.iconFontsById[e];return n||(this.iconFontsById[e]=t,this._onDidChange.fire(),t)}deregisterIconFont(e){delete this.iconFontsById[e]}getIconFont(e){return this.iconFontsById[e]}toString(){let e=(o,s)=>o.id.localeCompare(s.id),t=o=>{for(;Et.isThemeIcon(o.defaults);)o=this.iconsById[o.defaults.id];return`codicon codicon-${o?o.id:""}`},n=[];n.push("| preview     | identifier                        | default codicon ID                | description"),n.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");let i=Object.keys(this.iconsById).map(o=>this.iconsById[o]);for(let o of i.filter(s=>!!s.description).sort(e))n.push(`|<i class="${t(o)}"></i>|${o.id}|${Et.isThemeIcon(o.defaults)?o.defaults.id:o.id}|${o.description||""}|`);n.push("| preview     | identifier                        "),n.push("| ----------- | --------------------------------- |");for(let o of i.filter(s=>!Et.isThemeIcon(s.defaults)).sort(e))n.push(`|<i class="${t(o)}"></i>|${o.id}|`);return n.join(`
`)}},io=new lf;dt.add(Ox.IconContribution,io);function uf(r,e,t,n){return io.registerIcon(r,e,t,n)}function Fx(){let r=cm();for(let e in r){let t="\\"+r[e].toString(16);io.registerIcon(e,{fontCharacter:t})}}Fx();var vb="vscode://schemas/icons",yb=dt.as(Zr.JSONContribution);yb.registerSchema(vb,io.getIconSchema());var bb=new dr(()=>yb.notifySchemaChanged(vb),200);io.onDidChange(()=>{bb.isScheduled()||bb.schedule()});var iP=uf("widget-close",q.close,c("widgetClose","Icon for the close action in widgets.")),oP=uf("goto-previous-location",q.arrowUp,c("previousChangeIcon","Icon for goto previous editor location.")),sP=uf("goto-next-location",q.arrowDown,c("nextChangeIcon","Icon for goto next editor location.")),aP=Et.modify(q.sync,"spin"),lP=Et.modify(q.loading,"spin");var wP=de("themeService");var EP=q.file,RP=q.folder;var Ux={ThemingContribution:"base.contributions.theming"},cf=class{themingParticipants=[];onThemingParticipantAddedEmitter;constructor(){this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new U}onColorThemeChange(e){return this.themingParticipants.push(e),this.onThemingParticipantAddedEmitter.fire(e),Se(()=>{let t=this.themingParticipants.indexOf(e);this.themingParticipants.splice(t,1)})}get onThemingParticipantAdded(){return this.onThemingParticipantAddedEmitter.event}getThemingParticipants(){return this.themingParticipants}},xb=new cf;dt.add(Ux.ThemingContribution,xb);function su(r){return xb.onColorThemeChange(r)}function zx(r){return r!==null&&typeof r=="object"&&"light"in r&&"dark"in r}var Wx={ColorContribution:"base.contributions.colors"},Vx="default",df=class{_onDidChangeSchema=new U;onDidChangeSchema=this._onDidChangeSchema.event;colorsById;colorSchema={type:"object",properties:{}};colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]};constructor(){this.colorsById={}}notifyThemeUpdate(e){for(let t of Object.keys(this.colorsById)){let n=e.getColor(t);n&&(this.colorSchema.properties[t].oneOf[0].defaultSnippets[0].body=`\${1:${n.toString()}}`)}this._onDidChangeSchema.fire()}registerColor(e,t,n,i=!1,o){let s={id:e,description:n,defaults:t,needsTransparency:i,deprecationMessage:o};this.colorsById[e]=s;let a={type:"string",format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return o&&(a.deprecationMessage=o),i&&(a.pattern="^#(?:(?<rgba>[0-9a-fA-f]{3}[0-9a-eA-E])|(?:[0-9a-fA-F]{6}(?:(?![fF]{2})(?:[0-9a-fA-F]{2}))))?$",a.patternErrorMessage=c("transparecyRequired","This color must be transparent or it will obscure content")),this.colorSchema.properties[e]={description:n,oneOf:[a,{type:"string",const:Vx,description:c("useDefault","Use the default color.")}]},this.colorReferenceSchema.enum.push(e),this.colorReferenceSchema.enumDescriptions.push(n),this._onDidChangeSchema.fire(),e}deregisterColor(e){delete this.colorsById[e],delete this.colorSchema.properties[e];let t=this.colorReferenceSchema.enum.indexOf(e);t!==-1&&(this.colorReferenceSchema.enum.splice(t,1),this.colorReferenceSchema.enumDescriptions.splice(t,1)),this._onDidChangeSchema.fire()}getColors(){return Object.keys(this.colorsById).map(e=>this.colorsById[e])}resolveDefaultColor(e,t){let n=this.colorsById[e];if(n?.defaults){let i=zx(n.defaults)?n.defaults[t.type]:n.defaults;return Jt(i,t)}}getColorSchema(){return this.colorSchema}getColorReferenceSchema(){return this.colorReferenceSchema}toString(){let e=(t,n)=>{let i=t.indexOf(".")===-1?0:1,o=n.indexOf(".")===-1?0:1;return i!==o?i-o:t.localeCompare(n)};return Object.keys(this.colorsById).sort(e).map(t=>`- \`${t}\`: ${this.colorsById[t].description}`).join(`
`)}},au=new df;dt.add(Wx.ColorContribution,au);function v(r,e,t,n,i){return au.registerColor(r,e,t,n,i)}function Hx(r,e){switch(r.op){case 0:return Jt(r.value,e)?.darken(r.factor);case 1:return Jt(r.value,e)?.lighten(r.factor);case 2:return Jt(r.value,e)?.transparent(r.factor);case 3:{let t=Jt(r.background,e);return t?Jt(r.value,e)?.makeOpaque(t):Jt(r.value,e)}case 4:for(let t of r.values){let n=Jt(t,e);if(n)return n}return;case 6:return Jt(e.defines(r.if)?r.then:r.else,e);case 5:{let t=Jt(r.value,e);if(!t)return;let n=Jt(r.background,e);return n?t.isDarkerThan(n)?w.getLighterColor(t,n,r.factor).transparent(r.transparency):w.getDarkerColor(t,n,r.factor).transparent(r.transparency):t.transparent(r.factor*r.transparency)}default:throw Sa(r)}}function pn(r,e){return{op:0,value:r,factor:e}}function _t(r,e){return{op:1,value:r,factor:e}}function X(r,e){return{op:2,value:r,factor:e}}function gf(...r){return{op:4,values:r}}function Tb(r,e,t){return{op:6,if:r,then:e,else:t}}function ff(r,e,t,n){return{op:5,value:r,background:e,factor:t,transparency:n}}function Jt(r,e){if(r!==null){if(typeof r=="string")return r[0]==="#"?w.fromHex(r):e.getColor(r);if(r instanceof w)return r;if(typeof r=="object")return Hx(r,e)}}var Cb="vscode://schemas/workbench-colors",kb=dt.as(Zr.JSONContribution);kb.registerSchema(Cb,au.getColorSchema());var Ib=new dr(()=>kb.notifySchemaChanged(Cb),200);au.onDidChangeSchema(()=>{Ib.isScheduled()||Ib.schedule()});var ue=v("foreground",{dark:"#CCCCCC",light:"#616161",hcDark:"#FFFFFF",hcLight:"#292929"},c("foreground","Overall foreground color. This color is only used if not overridden by a component.")),jP=v("disabledForeground",{dark:"#CCCCCC80",light:"#61616180",hcDark:"#A5A5A5",hcLight:"#7F7F7F"},c("disabledForeground","Overall foreground for disabled elements. This color is only used if not overridden by a component.")),$P=v("errorForeground",{dark:"#F48771",light:"#A1260D",hcDark:"#F48771",hcLight:"#B5200D"},c("errorForeground","Overall foreground color for error messages. This color is only used if not overridden by a component.")),YP=v("descriptionForeground",{light:"#717171",dark:X(ue,.7),hcDark:X(ue,.7),hcLight:X(ue,.7)},c("descriptionForeground","Foreground color for description text providing additional information, for example for a label.")),Ds=v("icon.foreground",{dark:"#C5C5C5",light:"#424242",hcDark:"#FFFFFF",hcLight:"#292929"},c("iconForeground","The default color for icons in the workbench.")),Pt=v("focusBorder",{dark:"#007FD4",light:"#0090F1",hcDark:"#F38518",hcLight:"#006BBD"},c("focusBorder","Overall border color for focused elements. This color is only used if not overridden by a component.")),se=v("contrastBorder",{light:null,dark:null,hcDark:"#6FC3DF",hcLight:"#0F4A85"},c("contrastBorder","An extra border around elements to separate them from others for greater contrast.")),Me=v("contrastActiveBorder",{light:null,dark:null,hcDark:Pt,hcLight:Pt},c("activeContrastBorder","An extra border around active elements to separate them from others for greater contrast.")),QP=v("selection.background",null,c("selectionBackground","The background color of text selections in the workbench (e.g. for input fields or text areas). Note that this does not apply to selections within the editor.")),XP=v("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hcDark:"#21A6FF",hcLight:"#0F4A85"},c("textLinkForeground","Foreground color for links in text.")),JP=v("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hcDark:"#21A6FF",hcLight:"#0F4A85"},c("textLinkActiveForeground","Foreground color for links in text when clicked on and on mouse hover.")),ZP=v("textSeparator.foreground",{light:"#0000002e",dark:"#ffffff2e",hcDark:w.black,hcLight:"#292929"},c("textSeparatorForeground","Color for text separators.")),eB=v("textPreformat.foreground",{light:"#A31515",dark:"#D7BA7D",hcDark:"#000000",hcLight:"#FFFFFF"},c("textPreformatForeground","Foreground color for preformatted text segments.")),tB=v("textPreformat.background",{light:"#0000001A",dark:"#FFFFFF1A",hcDark:"#FFFFFF",hcLight:"#09345f"},c("textPreformatBackground","Background color for preformatted text segments.")),nB=v("textBlockQuote.background",{light:"#f2f2f2",dark:"#222222",hcDark:null,hcLight:"#F2F2F2"},c("textBlockQuoteBackground","Background color for block quotes in text.")),rB=v("textBlockQuote.border",{light:"#007acc80",dark:"#007acc80",hcDark:w.white,hcLight:"#292929"},c("textBlockQuoteBorder","Border color for block quotes in text.")),iB=v("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hcDark:w.black,hcLight:"#F2F2F2"},c("textCodeBlockBackground","Background color for code blocks in text."));var uB=v("sash.hoverBorder",Pt,c("sashActiveBorder","Border color of active sashes.")),lu=v("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hcDark:w.black,hcLight:"#0F4A85"},c("badgeBackground","Badge background color. Badges are small information labels, e.g. for search results count.")),cB=v("badge.foreground",{dark:w.white,light:"#333",hcDark:w.white,hcLight:w.white},c("badgeForeground","Badge foreground color. Badges are small information labels, e.g. for search results count.")),_b=v("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hcDark:null,hcLight:null},c("scrollbarShadow","Scrollbar shadow to indicate that the view is scrolled.")),Sb=v("scrollbarSlider.background",{dark:w.fromHex("#797979").transparent(.4),light:w.fromHex("#646464").transparent(.4),hcDark:X(se,.6),hcLight:X(se,.4)},c("scrollbarSliderBackground","Scrollbar slider background color.")),Lb=v("scrollbarSlider.hoverBackground",{dark:w.fromHex("#646464").transparent(.7),light:w.fromHex("#646464").transparent(.7),hcDark:X(se,.8),hcLight:X(se,.8)},c("scrollbarSliderHoverBackground","Scrollbar slider background color when hovering.")),wb=v("scrollbarSlider.activeBackground",{dark:w.fromHex("#BFBFBF").transparent(.4),light:w.fromHex("#000000").transparent(.6),hcDark:se,hcLight:se},c("scrollbarSliderActiveBackground","Scrollbar slider background color when clicked on.")),dB=v("progressBar.background",{dark:w.fromHex("#0E70C0"),light:w.fromHex("#0E70C0"),hcDark:se,hcLight:se},c("progressBarBackground","Background color of the progress bar that can show for long running operations."));var li=v("editor.background",{light:"#ffffff",dark:"#1E1E1E",hcDark:w.black,hcLight:w.white},c("editorBackground","Editor background color.")),bB=v("editor.foreground",{light:"#333333",dark:"#BBBBBB",hcDark:w.white,hcLight:ue},c("editorForeground","Editor default foreground color.")),vB=v("editorStickyScroll.background",li,c("editorStickyScrollBackground","Background color of sticky scroll in the editor")),yB=v("editorStickyScrollHover.background",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:null,hcLight:w.fromHex("#0F4A85").transparent(.1)},c("editorStickyScrollHoverBackground","Background color of sticky scroll on hover in the editor")),xB=v("editorStickyScroll.border",{dark:null,light:null,hcDark:se,hcLight:se},c("editorStickyScrollBorder","Border color of sticky scroll in the editor")),IB=v("editorStickyScroll.shadow",_b,c("editorStickyScrollShadow"," Shadow color of sticky scroll in the editor")),St=v("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hcDark:"#0C141F",hcLight:w.white},c("editorWidgetBackground","Background color of editor widgets, such as find/replace.")),As=v("editorWidget.foreground",ue,c("editorWidgetForeground","Foreground color of editor widgets, such as find/replace.")),Kx=v("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hcDark:se,hcLight:se},c("editorWidgetBorder","Border color of editor widgets. The color is only used if the widget chooses to have a border and if the color is not overridden by a widget.")),TB=v("editorWidget.resizeBorder",null,c("editorWidgetResizeBorder","Border color of the resize bar of editor widgets. The color is only used if the widget chooses to have a resize border and if the color is not overridden by a widget.")),CB=v("editorError.background",null,c("editorError.background","Background color of error text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),bf=v("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hcDark:"#F48771",hcLight:"#B5200D"},c("editorError.foreground","Foreground color of error squigglies in the editor.")),kB=v("editorError.border",{dark:null,light:null,hcDark:w.fromHex("#E47777").transparent(.8),hcLight:"#B5200D"},c("errorBorder","If set, color of double underlines for errors in the editor.")),Pb=v("editorWarning.background",null,c("editorWarning.background","Background color of warning text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),mn=v("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hcDark:"#FFD370",hcLight:"#895503"},c("editorWarning.foreground","Foreground color of warning squigglies in the editor.")),lo=v("editorWarning.border",{dark:null,light:null,hcDark:w.fromHex("#FFCC00").transparent(.8),hcLight:w.fromHex("#FFCC00").transparent(.8)},c("warningBorder","If set, color of double underlines for warnings in the editor.")),_B=v("editorInfo.background",null,c("editorInfo.background","Background color of info text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),Kn=v("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hcDark:"#3794FF",hcLight:"#1a85ff"},c("editorInfo.foreground","Foreground color of info squigglies in the editor.")),uo=v("editorInfo.border",{dark:null,light:null,hcDark:w.fromHex("#3794FF").transparent(.8),hcLight:"#292929"},c("infoBorder","If set, color of double underlines for infos in the editor.")),SB=v("editorHint.foreground",{dark:w.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hcDark:null,hcLight:null},c("editorHint.foreground","Foreground color of hint squigglies in the editor.")),LB=v("editorHint.border",{dark:null,light:null,hcDark:w.fromHex("#eeeeee").transparent(.8),hcLight:"#292929"},c("hintBorder","If set, color of double underlines for hints in the editor.")),wB=v("editorLink.activeForeground",{dark:"#4E94CE",light:w.blue,hcDark:w.cyan,hcLight:"#292929"},c("activeLinkForeground","Color of active links.")),oo=v("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hcDark:"#f3f518",hcLight:"#0F4A85"},c("editorSelectionBackground","Color of the editor selection.")),EB=v("editor.selectionForeground",{light:null,dark:null,hcDark:"#000000",hcLight:w.white},c("editorSelectionForeground","Color of the selected text for high contrast.")),RB=v("editor.inactiveSelectionBackground",{light:X(oo,.5),dark:X(oo,.5),hcDark:X(oo,.7),hcLight:X(oo,.5)},c("editorInactiveSelection","Color of the selection in an inactive editor. The color must not be opaque so as not to hide underlying decorations."),!0),DB=v("editor.selectionHighlightBackground",{light:ff(oo,li,.3,.6),dark:ff(oo,li,.3,.6),hcDark:null,hcLight:null},c("editorSelectionHighlight","Color for regions with the same content as the selection. The color must not be opaque so as not to hide underlying decorations."),!0),AB=v("editor.selectionHighlightBorder",{light:null,dark:null,hcDark:Me,hcLight:Me},c("editorSelectionHighlightBorder","Border color for regions with the same content as the selection.")),NB=v("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hcDark:null,hcLight:null},c("editorFindMatch","Color of the current search match.")),MB=v("editor.findMatchForeground",null,c("editorFindMatchForeground","Text color of the current search match.")),Zt=v("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hcDark:null,hcLight:null},c("findMatchHighlight","Color of the other search matches. The color must not be opaque so as not to hide underlying decorations."),!0),OB=v("editor.findMatchHighlightForeground",null,c("findMatchHighlightForeground","Foreground color of the other search matches."),!0),PB=v("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hcDark:null,hcLight:null},c("findRangeHighlight","Color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),BB=v("editor.findMatchBorder",{light:null,dark:null,hcDark:Me,hcLight:Me},c("editorFindMatchBorder","Border color of the current search match.")),Sr=v("editor.findMatchHighlightBorder",{light:null,dark:null,hcDark:Me,hcLight:Me},c("findMatchHighlightBorder","Border color of the other search matches.")),FB=v("editor.findRangeHighlightBorder",{dark:null,light:null,hcDark:X(Me,.4),hcLight:X(Me,.4)},c("findRangeHighlightBorder","Border color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),UB=v("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hcDark:"#ADD6FF26",hcLight:null},c("hoverHighlight","Highlight below the word for which a hover is shown. The color must not be opaque so as not to hide underlying decorations."),!0),Eb=v("editorHoverWidget.background",St,c("hoverBackground","Background color of the editor hover.")),zB=v("editorHoverWidget.foreground",As,c("hoverForeground","Foreground color of the editor hover.")),WB=v("editorHoverWidget.border",Kx,c("hoverBorder","Border color of the editor hover.")),VB=v("editorHoverWidget.statusBarBackground",{dark:_t(Eb,.2),light:pn(Eb,.05),hcDark:St,hcLight:St},c("statusBarBackground","Background color of the editor hover status bar.")),Bb=v("editorInlayHint.foreground",{dark:"#969696",light:"#969696",hcDark:w.white,hcLight:w.black},c("editorInlayHintForeground","Foreground color of inline hints")),Fb=v("editorInlayHint.background",{dark:X(lu,.1),light:X(lu,.1),hcDark:X(w.white,.1),hcLight:X(lu,.1)},c("editorInlayHintBackground","Background color of inline hints")),HB=v("editorInlayHint.typeForeground",Bb,c("editorInlayHintForegroundTypes","Foreground color of inline hints for types")),KB=v("editorInlayHint.typeBackground",Fb,c("editorInlayHintBackgroundTypes","Background color of inline hints for types")),qB=v("editorInlayHint.parameterForeground",Bb,c("editorInlayHintForegroundParameter","Foreground color of inline hints for parameters")),GB=v("editorInlayHint.parameterBackground",Fb,c("editorInlayHintBackgroundParameter","Background color of inline hints for parameters")),qx=v("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hcDark:"#FFCC00",hcLight:"#007ACC"},c("editorLightBulbForeground","The color used for the lightbulb actions icon.")),jB=v("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},c("editorLightBulbAutoFixForeground","The color used for the lightbulb auto fix actions icon.")),$B=v("editorLightBulbAi.foreground",qx,c("editorLightBulbAiForeground","The color used for the lightbulb AI icon.")),YB=v("editor.snippetTabstopHighlightBackground",{dark:new w(new te(124,124,124,.3)),light:new w(new te(10,50,100,.2)),hcDark:new w(new te(124,124,124,.3)),hcLight:new w(new te(10,50,100,.2))},c("snippetTabstopHighlightBackground","Highlight background color of a snippet tabstop.")),QB=v("editor.snippetTabstopHighlightBorder",null,c("snippetTabstopHighlightBorder","Highlight border color of a snippet tabstop.")),XB=v("editor.snippetFinalTabstopHighlightBackground",null,c("snippetFinalTabstopHighlightBackground","Highlight background color of the final tabstop of a snippet.")),JB=v("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new w(new te(10,50,100,.5)),hcDark:"#525252",hcLight:"#292929"},c("snippetFinalTabstopHighlightBorder","Highlight border color of the final tabstop of a snippet.")),Rb=new w(new te(155,185,85,.2)),Db=new w(new te(255,0,0,.2)),ZB=v("diffEditor.insertedTextBackground",{dark:"#9ccc2c33",light:"#9ccc2c40",hcDark:null,hcLight:null},c("diffEditorInserted","Background color for text that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),eF=v("diffEditor.removedTextBackground",{dark:"#ff000033",light:"#ff000033",hcDark:null,hcLight:null},c("diffEditorRemoved","Background color for text that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),tF=v("diffEditor.insertedLineBackground",{dark:Rb,light:Rb,hcDark:null,hcLight:null},c("diffEditorInsertedLines","Background color for lines that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),nF=v("diffEditor.removedLineBackground",{dark:Db,light:Db,hcDark:null,hcLight:null},c("diffEditorRemovedLines","Background color for lines that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),rF=v("diffEditorGutter.insertedLineBackground",null,c("diffEditorInsertedLineGutter","Background color for the margin where lines got inserted.")),iF=v("diffEditorGutter.removedLineBackground",null,c("diffEditorRemovedLineGutter","Background color for the margin where lines got removed.")),oF=v("diffEditorOverview.insertedForeground",null,c("diffEditorOverviewInserted","Diff overview ruler foreground for inserted content.")),sF=v("diffEditorOverview.removedForeground",null,c("diffEditorOverviewRemoved","Diff overview ruler foreground for removed content.")),aF=v("diffEditor.insertedTextBorder",{dark:null,light:null,hcDark:"#33ff2eff",hcLight:"#374E06"},c("diffEditorInsertedOutline","Outline color for the text that got inserted.")),lF=v("diffEditor.removedTextBorder",{dark:null,light:null,hcDark:"#FF008F",hcLight:"#AD0707"},c("diffEditorRemovedOutline","Outline color for text that got removed.")),uF=v("diffEditor.border",{dark:null,light:null,hcDark:se,hcLight:se},c("diffEditorBorder","Border color between the two text editors.")),cF=v("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hcDark:null,hcLight:null},c("diffDiagonalFill","Color of the diff editor's diagonal fill. The diagonal fill is used in side-by-side diff views.")),dF=v("diffEditor.unchangedRegionBackground","sideBar.background",c("diffEditor.unchangedRegionBackground","The background color of unchanged blocks in the diff editor.")),gF=v("diffEditor.unchangedRegionForeground","foreground",c("diffEditor.unchangedRegionForeground","The foreground color of unchanged blocks in the diff editor.")),fF=v("diffEditor.unchangedCodeBackground",{dark:"#74747429",light:"#b8b8b829",hcDark:null,hcLight:null},c("diffEditor.unchangedCodeBackground","The background color of unchanged code in the diff editor.")),Ub=v("widget.shadow",{dark:X(w.black,.36),light:X(w.black,.16),hcDark:null,hcLight:null},c("widgetShadow","Shadow color of widgets such as find/replace inside the editor.")),hF=v("widget.border",{dark:null,light:null,hcDark:se,hcLight:se},c("widgetBorder","Border color of widgets such as find/replace inside the editor.")),Ab=v("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hcDark:null,hcLight:null},c("toolbarHoverBackground","Toolbar background when hovering over actions using the mouse")),pF=v("toolbar.hoverOutline",{dark:null,light:null,hcDark:Me,hcLight:Me},c("toolbarHoverOutline","Toolbar outline when hovering over actions using the mouse")),mF=v("toolbar.activeBackground",{dark:_t(Ab,.1),light:pn(Ab,.1),hcDark:null,hcLight:null},c("toolbarActiveBackground","Toolbar background when holding the mouse over actions")),bF=v("breadcrumb.foreground",X(ue,.8),c("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),vF=v("breadcrumb.background",li,c("breadcrumbsBackground","Background color of breadcrumb items.")),yF=v("breadcrumb.focusForeground",{light:pn(ue,.2),dark:_t(ue,.1),hcDark:_t(ue,.1),hcLight:_t(ue,.1)},c("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),xF=v("breadcrumb.activeSelectionForeground",{light:pn(ue,.2),dark:_t(ue,.1),hcDark:_t(ue,.1),hcLight:_t(ue,.1)},c("breadcrumbsSelectedForeground","Color of selected breadcrumb items.")),IF=v("breadcrumbPicker.background",St,c("breadcrumbsSelectedBackground","Background color of breadcrumb item picker.")),zb=.5,Nb=w.fromHex("#40C8AE").transparent(zb),Mb=w.fromHex("#40A6FF").transparent(zb),Ob=w.fromHex("#606060").transparent(.4),vf=.4,so=1,hf=v("merge.currentHeaderBackground",{dark:Nb,light:Nb,hcDark:null,hcLight:null},c("mergeCurrentHeaderBackground","Current header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),TF=v("merge.currentContentBackground",X(hf,vf),c("mergeCurrentContentBackground","Current content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),pf=v("merge.incomingHeaderBackground",{dark:Mb,light:Mb,hcDark:null,hcLight:null},c("mergeIncomingHeaderBackground","Incoming header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),CF=v("merge.incomingContentBackground",X(pf,vf),c("mergeIncomingContentBackground","Incoming content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),mf=v("merge.commonHeaderBackground",{dark:Ob,light:Ob,hcDark:null,hcLight:null},c("mergeCommonHeaderBackground","Common ancestor header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),kF=v("merge.commonContentBackground",X(mf,vf),c("mergeCommonContentBackground","Common ancestor content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),ao=v("merge.border",{dark:null,light:null,hcDark:"#C3DF6F",hcLight:"#007ACC"},c("mergeBorder","Border color on headers and the splitter in inline merge-conflicts.")),_F=v("editorOverviewRuler.currentContentForeground",{dark:X(hf,so),light:X(hf,so),hcDark:ao,hcLight:ao},c("overviewRulerCurrentContentForeground","Current overview ruler foreground for inline merge-conflicts.")),SF=v("editorOverviewRuler.incomingContentForeground",{dark:X(pf,so),light:X(pf,so),hcDark:ao,hcLight:ao},c("overviewRulerIncomingContentForeground","Incoming overview ruler foreground for inline merge-conflicts.")),LF=v("editorOverviewRuler.commonContentForeground",{dark:X(mf,so),light:X(mf,so),hcDark:ao,hcLight:ao},c("overviewRulerCommonContentForeground","Common ancestor overview ruler foreground for inline merge-conflicts.")),wF=v("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hcDark:"#AB5A00",hcLight:"#AB5A00"},c("overviewRulerFindMatchForeground","Overview ruler marker color for find matches. The color must not be opaque so as not to hide underlying decorations."),!0),EF=v("editorOverviewRuler.selectionHighlightForeground","#A0A0A0CC",c("overviewRulerSelectionHighlightForeground","Overview ruler marker color for selection highlights. The color must not be opaque so as not to hide underlying decorations."),!0),RF=v("problemsErrorIcon.foreground",bf,c("problemsErrorIconForeground","The color used for the problems error icon.")),DF=v("problemsWarningIcon.foreground",mn,c("problemsWarningIconForeground","The color used for the problems warning icon.")),AF=v("problemsInfoIcon.foreground",Kn,c("problemsInfoIconForeground","The color used for the problems info icon."));var Wb=v("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hcDark:"#AB5A00",hcLight:"#0F4A85"},c("minimapFindMatchHighlight","Minimap marker color for find matches."),!0),FF=v("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hcDark:"#ffffff",hcLight:"#0F4A85"},c("minimapSelectionOccurrenceHighlight","Minimap marker color for repeating editor selections."),!0),UF=v("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hcDark:"#ffffff",hcLight:"#0F4A85"},c("minimapSelectionHighlight","Minimap marker color for the editor selection."),!0),zF=v("minimap.infoHighlight",{dark:Kn,light:Kn,hcDark:uo,hcLight:uo},c("minimapInfo","Minimap marker color for infos.")),WF=v("minimap.warningHighlight",{dark:mn,light:mn,hcDark:lo,hcLight:lo},c("overviewRuleWarning","Minimap marker color for warnings.")),VF=v("minimap.errorHighlight",{dark:new w(new te(255,18,18,.7)),light:new w(new te(255,18,18,.7)),hcDark:new w(new te(255,50,50,1)),hcLight:"#B5200D"},c("minimapError","Minimap marker color for errors.")),HF=v("minimap.background",null,c("minimapBackground","Minimap background color.")),KF=v("minimap.foregroundOpacity",w.fromHex("#000f"),c("minimapForegroundOpacity",'Opacity of foreground elements rendered in the minimap. For example, "#000000c0" will render the elements with 75% opacity.')),qF=v("minimapSlider.background",X(Sb,.5),c("minimapSliderBackground","Minimap slider background color.")),GF=v("minimapSlider.hoverBackground",X(Lb,.5),c("minimapSliderHoverBackground","Minimap slider background color when hovering.")),jF=v("minimapSlider.activeBackground",X(wb,.5),c("minimapSliderActiveBackground","Minimap slider background color when clicked on."));var ZF=v("charts.foreground",ue,c("chartsForeground","The foreground color used in charts.")),eU=v("charts.lines",X(ue,.5),c("chartsLines","The color used for horizontal lines in charts.")),tU=v("charts.red",bf,c("chartsRed","The red color used in chart visualizations.")),nU=v("charts.blue",Kn,c("chartsBlue","The blue color used in chart visualizations.")),rU=v("charts.yellow",mn,c("chartsYellow","The yellow color used in chart visualizations.")),iU=v("charts.orange",Wb,c("chartsOrange","The orange color used in chart visualizations.")),oU=v("charts.green",{dark:"#89D185",light:"#388A34",hcDark:"#89D185",hcLight:"#374e06"},c("chartsGreen","The green color used in chart visualizations.")),sU=v("charts.purple",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},c("chartsPurple","The purple color used in chart visualizations."));var gU=v("input.background",{dark:"#3C3C3C",light:w.white,hcDark:w.black,hcLight:w.white},c("inputBoxBackground","Input box background.")),fU=v("input.foreground",ue,c("inputBoxForeground","Input box foreground.")),hU=v("input.border",{dark:null,light:null,hcDark:se,hcLight:se},c("inputBoxBorder","Input box border.")),Gx=v("inputOption.activeBorder",{dark:"#007ACC",light:"#007ACC",hcDark:se,hcLight:se},c("inputBoxActiveOptionBorder","Border color of activated options in input fields.")),jx=v("inputOption.hoverBackground",{dark:"#5a5d5e80",light:"#b8b8b850",hcDark:null,hcLight:null},c("inputOption.hoverBackground","Background color of activated options in input fields.")),$x=v("inputOption.activeBackground",{dark:X(Pt,.4),light:X(Pt,.2),hcDark:w.transparent,hcLight:w.transparent},c("inputOption.activeBackground","Background hover color of options in input fields.")),Yx=v("inputOption.activeForeground",{dark:w.white,light:w.black,hcDark:ue,hcLight:ue},c("inputOption.activeForeground","Foreground color of activated options in input fields.")),pU=v("input.placeholderForeground",{light:X(ue,.5),dark:X(ue,.5),hcDark:X(ue,.7),hcLight:X(ue,.7)},c("inputPlaceholderForeground","Input box foreground color for placeholder text.")),mU=v("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hcDark:w.black,hcLight:w.white},c("inputValidationInfoBackground","Input validation background color for information severity.")),bU=v("inputValidation.infoForeground",{dark:null,light:null,hcDark:null,hcLight:ue},c("inputValidationInfoForeground","Input validation foreground color for information severity.")),vU=v("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hcDark:se,hcLight:se},c("inputValidationInfoBorder","Input validation border color for information severity.")),yU=v("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hcDark:w.black,hcLight:w.white},c("inputValidationWarningBackground","Input validation background color for warning severity.")),xU=v("inputValidation.warningForeground",{dark:null,light:null,hcDark:null,hcLight:ue},c("inputValidationWarningForeground","Input validation foreground color for warning severity.")),IU=v("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hcDark:se,hcLight:se},c("inputValidationWarningBorder","Input validation border color for warning severity.")),TU=v("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hcDark:w.black,hcLight:w.white},c("inputValidationErrorBackground","Input validation background color for error severity.")),CU=v("inputValidation.errorForeground",{dark:null,light:null,hcDark:null,hcLight:ue},c("inputValidationErrorForeground","Input validation foreground color for error severity.")),kU=v("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hcDark:se,hcLight:se},c("inputValidationErrorBorder","Input validation border color for error severity.")),du=v("dropdown.background",{dark:"#3C3C3C",light:w.white,hcDark:w.black,hcLight:w.white},c("dropdownBackground","Dropdown background.")),_U=v("dropdown.listBackground",{dark:null,light:null,hcDark:w.black,hcLight:w.white},c("dropdownListBackground","Dropdown list background.")),yf=v("dropdown.foreground",{dark:"#F0F0F0",light:ue,hcDark:w.white,hcLight:ue},c("dropdownForeground","Dropdown foreground.")),Qx=v("dropdown.border",{dark:du,light:"#CECECE",hcDark:se,hcLight:se},c("dropdownBorder","Dropdown border.")),Xx=v("button.foreground",w.white,c("buttonForeground","Button foreground color.")),SU=v("button.separator",X(Xx,.4),c("buttonSeparator","Button separator color.")),uu=v("button.background",{dark:"#0E639C",light:"#007ACC",hcDark:null,hcLight:"#0F4A85"},c("buttonBackground","Button background color.")),LU=v("button.hoverBackground",{dark:_t(uu,.2),light:pn(uu,.2),hcDark:uu,hcLight:uu},c("buttonHoverBackground","Button background color when hovering.")),wU=v("button.border",se,c("buttonBorder","Button border color.")),EU=v("button.secondaryForeground",{dark:w.white,light:w.white,hcDark:w.white,hcLight:ue},c("buttonSecondaryForeground","Secondary button foreground color.")),Vb=v("button.secondaryBackground",{dark:"#3A3D41",light:"#5F6A79",hcDark:null,hcLight:w.white},c("buttonSecondaryBackground","Secondary button background color.")),RU=v("button.secondaryHoverBackground",{dark:_t(Vb,.2),light:pn(Vb,.2),hcDark:null,hcLight:null},c("buttonSecondaryHoverBackground","Secondary button background color when hovering.")),cu=v("radio.activeForeground",Yx,c("radioActiveForeground","Foreground color of active radio option.")),DU=v("radio.activeBackground",$x,c("radioBackground","Background color of active radio option.")),AU=v("radio.activeBorder",Gx,c("radioActiveBorder","Border color of the active radio option.")),NU=v("radio.inactiveForeground",null,c("radioInactiveForeground","Foreground color of inactive radio option.")),MU=v("radio.inactiveBackground",null,c("radioInactiveBackground","Background color of inactive radio option.")),OU=v("radio.inactiveBorder",{light:X(cu,.2),dark:X(cu,.2),hcDark:X(cu,.4),hcLight:X(cu,.2)},c("radioInactiveBorder","Border color of the inactive radio option.")),PU=v("radio.inactiveHoverBackground",jx,c("radioHoverBackground","Background color of inactive active radio option when hovering.")),BU=v("checkbox.background",du,c("checkbox.background","Background color of checkbox widget.")),FU=v("checkbox.selectBackground",St,c("checkbox.select.background","Background color of checkbox widget when the element it's in is selected.")),UU=v("checkbox.foreground",yf,c("checkbox.foreground","Foreground color of checkbox widget.")),zU=v("checkbox.border",Qx,c("checkbox.border","Border color of checkbox widget.")),WU=v("checkbox.selectBorder",Ds,c("checkbox.select.border","Border color of checkbox widget when the element it's in is selected.")),VU=v("keybindingLabel.background",{dark:new w(new te(128,128,128,.17)),light:new w(new te(221,221,221,.4)),hcDark:w.transparent,hcLight:w.transparent},c("keybindingLabelBackground","Keybinding label background color. The keybinding label is used to represent a keyboard shortcut.")),HU=v("keybindingLabel.foreground",{dark:w.fromHex("#CCCCCC"),light:w.fromHex("#555555"),hcDark:w.white,hcLight:ue},c("keybindingLabelForeground","Keybinding label foreground color. The keybinding label is used to represent a keyboard shortcut.")),KU=v("keybindingLabel.border",{dark:new w(new te(51,51,51,.6)),light:new w(new te(204,204,204,.4)),hcDark:new w(new te(111,195,223)),hcLight:se},c("keybindingLabelBorder","Keybinding label border color. The keybinding label is used to represent a keyboard shortcut.")),qU=v("keybindingLabel.bottomBorder",{dark:new w(new te(68,68,68,.6)),light:new w(new te(187,187,187,.4)),hcDark:new w(new te(111,195,223)),hcLight:ue},c("keybindingLabelBottomBorder","Keybinding label border bottom color. The keybinding label is used to represent a keyboard shortcut."));var XU=v("list.focusBackground",null,c("listFocusBackground","List/Tree background color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),JU=v("list.focusForeground",null,c("listFocusForeground","List/Tree foreground color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),ZU=v("list.focusOutline",{dark:Pt,light:Pt,hcDark:Me,hcLight:Me},c("listFocusOutline","List/Tree outline color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),ez=v("list.focusAndSelectionOutline",null,c("listFocusAndSelectionOutline","List/Tree outline color for the focused item when the list/tree is active and selected. An active list/tree has keyboard focus, an inactive does not.")),ui=v("list.activeSelectionBackground",{dark:"#04395E",light:"#0060C0",hcDark:null,hcLight:w.fromHex("#0F4A85").transparent(.1)},c("listActiveSelectionBackground","List/Tree background color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Ns=v("list.activeSelectionForeground",{dark:w.white,light:w.white,hcDark:null,hcLight:null},c("listActiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Hb=v("list.activeSelectionIconForeground",null,c("listActiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),tz=v("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hcDark:null,hcLight:w.fromHex("#0F4A85").transparent(.1)},c("listInactiveSelectionBackground","List/Tree background color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),nz=v("list.inactiveSelectionForeground",null,c("listInactiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),rz=v("list.inactiveSelectionIconForeground",null,c("listInactiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),iz=v("list.inactiveFocusBackground",null,c("listInactiveFocusBackground","List/Tree background color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),oz=v("list.inactiveFocusOutline",null,c("listInactiveFocusOutline","List/Tree outline color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),sz=v("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:w.white.transparent(.1),hcLight:w.fromHex("#0F4A85").transparent(.1)},c("listHoverBackground","List/Tree background when hovering over items using the mouse.")),az=v("list.hoverForeground",null,c("listHoverForeground","List/Tree foreground when hovering over items using the mouse.")),lz=v("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hcDark:null,hcLight:null},c("listDropBackground","List/Tree drag and drop background when moving items over other items when using the mouse.")),uz=v("list.dropBetweenBackground",{dark:Ds,light:Ds,hcDark:null,hcLight:null},c("listDropBetweenBackground","List/Tree drag and drop border color when moving items between items when using the mouse.")),gu=v("list.highlightForeground",{dark:"#2AAAFF",light:"#0066BF",hcDark:Pt,hcLight:Pt},c("highlight","List/Tree foreground color of the match highlights when searching inside the list/tree.")),cz=v("list.focusHighlightForeground",{dark:gu,light:Tb(ui,gu,"#BBE7FF"),hcDark:gu,hcLight:gu},c("listFocusHighlightForeground","List/Tree foreground color of the match highlights on actively focused items when searching inside the list/tree.")),dz=v("list.invalidItemForeground",{dark:"#B89500",light:"#B89500",hcDark:"#B89500",hcLight:"#B5200D"},c("invalidItemForeground","List/Tree foreground color for invalid items, for example an unresolved root in explorer.")),gz=v("list.errorForeground",{dark:"#F88070",light:"#B01011",hcDark:null,hcLight:null},c("listErrorForeground","Foreground color of list items containing errors.")),fz=v("list.warningForeground",{dark:"#CCA700",light:"#855F00",hcDark:null,hcLight:null},c("listWarningForeground","Foreground color of list items containing warnings.")),hz=v("listFilterWidget.background",{light:pn(St,0),dark:_t(St,0),hcDark:St,hcLight:St},c("listFilterWidgetBackground","Background color of the type filter widget in lists and trees.")),pz=v("listFilterWidget.outline",{dark:w.transparent,light:w.transparent,hcDark:"#f38518",hcLight:"#007ACC"},c("listFilterWidgetOutline","Outline color of the type filter widget in lists and trees.")),mz=v("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hcDark:se,hcLight:se},c("listFilterWidgetNoMatchesOutline","Outline color of the type filter widget in lists and trees, when there are no matches.")),bz=v("listFilterWidget.shadow",Ub,c("listFilterWidgetShadow","Shadow color of the type filter widget in lists and trees.")),vz=v("list.filterMatchBackground",{dark:Zt,light:Zt,hcDark:null,hcLight:null},c("listFilterMatchHighlight","Background color of the filtered match.")),yz=v("list.filterMatchBorder",{dark:Sr,light:Sr,hcDark:se,hcLight:Me},c("listFilterMatchHighlightBorder","Border color of the filtered match.")),xz=v("list.deemphasizedForeground",{dark:"#8C8C8C",light:"#8E8E90",hcDark:"#A7A8A9",hcLight:"#666666"},c("listDeemphasizedForeground","List/Tree foreground color for items that are deemphasized.")),Jx=v("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hcDark:"#a9a9a9",hcLight:"#a5a5a5"},c("treeIndentGuidesStroke","Tree stroke color for the indentation guides.")),Iz=v("tree.inactiveIndentGuidesStroke",X(Jx,.4),c("treeInactiveIndentGuidesStroke","Tree stroke color for the indentation guides that are not active.")),Tz=v("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hcDark:null,hcLight:null},c("tableColumnsBorder","Table border color between columns.")),Cz=v("tree.tableOddRowsBackground",{dark:X(ue,.04),light:X(ue,.04),hcDark:null,hcLight:null},c("tableOddRowsBackgroundColor","Background color for odd table rows.")),kz=v("editorActionList.background",St,c("editorActionListBackground","Action List background color.")),_z=v("editorActionList.foreground",As,c("editorActionListForeground","Action List foreground color.")),Sz=v("editorActionList.focusForeground",Ns,c("editorActionListFocusForeground","Action List foreground color for the focused item.")),Lz=v("editorActionList.focusBackground",ui,c("editorActionListFocusBackground","Action List background color for the focused item."));var Nz=v("menu.border",{dark:null,light:null,hcDark:se,hcLight:se},c("menuBorder","Border color of menus.")),Mz=v("menu.foreground",yf,c("menuForeground","Foreground color of menu items.")),Oz=v("menu.background",du,c("menuBackground","Background color of menu items.")),Pz=v("menu.selectionForeground",Ns,c("menuSelectionForeground","Foreground color of the selected menu item in menus.")),Bz=v("menu.selectionBackground",ui,c("menuSelectionBackground","Background color of the selected menu item in menus.")),Fz=v("menu.selectionBorder",{dark:null,light:null,hcDark:Me,hcLight:Me},c("menuSelectionBorder","Border color of the selected menu item in menus.")),Uz=v("menu.separatorBackground",{dark:"#606060",light:"#D4D4D4",hcDark:se,hcLight:se},c("menuSeparatorBackground","Color of a separator menu item in menus."));var qz=v("quickInput.background",St,c("pickerBackground","Quick picker background color. The quick picker widget is the container for pickers like the command palette.")),Gz=v("quickInput.foreground",As,c("pickerForeground","Quick picker foreground color. The quick picker widget is the container for pickers like the command palette.")),jz=v("quickInputTitle.background",{dark:new w(new te(255,255,255,.105)),light:new w(new te(0,0,0,.06)),hcDark:"#000000",hcLight:w.white},c("pickerTitleBackground","Quick picker title background color. The quick picker widget is the container for pickers like the command palette.")),$z=v("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hcDark:w.white,hcLight:"#0F4A85"},c("pickerGroupForeground","Quick picker color for grouping labels.")),Yz=v("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hcDark:w.white,hcLight:"#0F4A85"},c("pickerGroupBorder","Quick picker color for grouping borders.")),Kb=v("quickInput.list.focusBackground",null,"",void 0,c("quickInput.list.focusBackground deprecation","Please use quickInputList.focusBackground instead")),Qz=v("quickInputList.focusForeground",Ns,c("quickInput.listFocusForeground","Quick picker foreground color for the focused item.")),Xz=v("quickInputList.focusIconForeground",Hb,c("quickInput.listFocusIconForeground","Quick picker icon foreground color for the focused item.")),Jz=v("quickInputList.focusBackground",{dark:gf(Kb,ui),light:gf(Kb,ui),hcDark:null,hcLight:null},c("quickInput.listFocusBackground","Quick picker background color for the focused item."));var rW=v("search.resultsInfoForeground",{light:ue,dark:X(ue,.65),hcDark:ue,hcLight:ue},c("search.resultsInfoForeground","Color of the text in the search viewlet's completion message.")),iW=v("searchEditor.findMatchBackground",{light:X(Zt,.66),dark:X(Zt,.66),hcDark:Zt,hcLight:Zt},c("searchEditor.queryMatch","Color of the Search Editor query matches.")),oW=v("searchEditor.findMatchBorder",{light:X(Sr,.66),dark:X(Sr,.66),hcDark:Sr,hcLight:Sr},c("searchEditor.editorFindMatchBorder","Border color of the Search Editor query matches."));var Zx=v("editor.lineHighlightBackground",null,c("lineHighlight","Background color for the highlight of line at the cursor position.")),TW=v("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hcDark:"#f38518",hcLight:se},c("lineHighlightBorderBox","Background color for the border around the line at the cursor position.")),CW=v("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hcDark:null,hcLight:null},c("rangeHighlight","Background color of highlighted ranges, like by quick open and find features. The color must not be opaque so as not to hide underlying decorations."),!0),kW=v("editor.rangeHighlightBorder",{dark:null,light:null,hcDark:Me,hcLight:Me},c("rangeHighlightBorder","Background color of the border around highlighted ranges.")),_W=v("editor.symbolHighlightBackground",{dark:Zt,light:Zt,hcDark:null,hcLight:null},c("symbolHighlight","Background color of highlighted symbol, like for go to definition or go next/previous symbol. The color must not be opaque so as not to hide underlying decorations."),!0),SW=v("editor.symbolHighlightBorder",{dark:null,light:null,hcDark:Me,hcLight:Me},c("symbolHighlightBorder","Background color of the border around highlighted symbols.")),qb=v("editorCursor.foreground",{dark:"#AEAFAD",light:w.black,hcDark:w.white,hcLight:"#0F4A85"},c("caret","Color of the editor cursor.")),Gb=v("editorCursor.background",null,c("editorCursorBackground","The background color of the editor cursor. Allows customizing the color of a character overlapped by a block cursor.")),LW=v("editorMultiCursor.primary.foreground",qb,c("editorMultiCursorPrimaryForeground","Color of the primary editor cursor when multiple cursors are present.")),wW=v("editorMultiCursor.primary.background",Gb,c("editorMultiCursorPrimaryBackground","The background color of the primary editor cursor when multiple cursors are present. Allows customizing the color of a character overlapped by a block cursor.")),EW=v("editorMultiCursor.secondary.foreground",qb,c("editorMultiCursorSecondaryForeground","Color of secondary editor cursors when multiple cursors are present.")),RW=v("editorMultiCursor.secondary.background",Gb,c("editorMultiCursorSecondaryBackground","The background color of secondary editor cursors when multiple cursors are present. Allows customizing the color of a character overlapped by a block cursor.")),jb=v("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hcDark:"#e3e4e229",hcLight:"#CCCCCC"},c("editorWhitespaces","Color of whitespace characters in the editor.")),DW=v("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hcDark:w.white,hcLight:"#292929"},c("editorLineNumbers","Color of editor line numbers.")),eI=v("editorIndentGuide.background",jb,c("editorIndentGuides","Color of the editor indentation guides."),!1,c("deprecatedEditorIndentGuides","'editorIndentGuide.background' is deprecated. Use 'editorIndentGuide.background1' instead.")),tI=v("editorIndentGuide.activeBackground",jb,c("editorActiveIndentGuide","Color of the active editor indentation guides."),!1,c("deprecatedEditorActiveIndentGuide","'editorIndentGuide.activeBackground' is deprecated. Use 'editorIndentGuide.activeBackground1' instead.")),AW=v("editorIndentGuide.background1",eI,c("editorIndentGuides1","Color of the editor indentation guides (1).")),NW=v("editorIndentGuide.background2","#00000000",c("editorIndentGuides2","Color of the editor indentation guides (2).")),MW=v("editorIndentGuide.background3","#00000000",c("editorIndentGuides3","Color of the editor indentation guides (3).")),OW=v("editorIndentGuide.background4","#00000000",c("editorIndentGuides4","Color of the editor indentation guides (4).")),PW=v("editorIndentGuide.background5","#00000000",c("editorIndentGuides5","Color of the editor indentation guides (5).")),BW=v("editorIndentGuide.background6","#00000000",c("editorIndentGuides6","Color of the editor indentation guides (6).")),FW=v("editorIndentGuide.activeBackground1",tI,c("editorActiveIndentGuide1","Color of the active editor indentation guides (1).")),UW=v("editorIndentGuide.activeBackground2","#00000000",c("editorActiveIndentGuide2","Color of the active editor indentation guides (2).")),zW=v("editorIndentGuide.activeBackground3","#00000000",c("editorActiveIndentGuide3","Color of the active editor indentation guides (3).")),WW=v("editorIndentGuide.activeBackground4","#00000000",c("editorActiveIndentGuide4","Color of the active editor indentation guides (4).")),VW=v("editorIndentGuide.activeBackground5","#00000000",c("editorActiveIndentGuide5","Color of the active editor indentation guides (5).")),HW=v("editorIndentGuide.activeBackground6","#00000000",c("editorActiveIndentGuide6","Color of the active editor indentation guides (6).")),nI=v("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hcDark:Me,hcLight:Me},c("editorActiveLineNumber","Color of editor active line number"),!1,c("deprecatedEditorActiveLineNumber","Id is deprecated. Use 'editorLineNumber.activeForeground' instead.")),KW=v("editorLineNumber.activeForeground",nI,c("editorActiveLineNumber","Color of editor active line number")),qW=v("editorLineNumber.dimmedForeground",null,c("editorDimmedLineNumber","Color of the final editor line when editor.renderFinalNewline is set to dimmed.")),GW=v("editorRuler.foreground",{dark:"#5A5A5A",light:w.lightgrey,hcDark:w.white,hcLight:"#292929"},c("editorRuler","Color of the editor rulers.")),jW=v("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hcDark:"#999999",hcLight:"#292929"},c("editorCodeLensForeground","Foreground color of editor CodeLens")),$W=v("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hcDark:"#0064001a",hcLight:"#0000"},c("editorBracketMatchBackground","Background color behind matching brackets")),YW=v("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hcDark:se,hcLight:se},c("editorBracketMatchBorder","Color for matching brackets boxes")),QW=v("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hcDark:"#7f7f7f4d",hcLight:"#666666"},c("editorOverviewRulerBorder","Color of the overview ruler border.")),XW=v("editorOverviewRuler.background",null,c("editorOverviewRulerBackground","Background color of the editor overview ruler.")),JW=v("editorGutter.background",li,c("editorGutter","Background color of the editor gutter. The gutter contains the glyph margins and the line numbers.")),ZW=v("editorUnnecessaryCode.border",{dark:null,light:null,hcDark:w.fromHex("#fff").transparent(.8),hcLight:se},c("unnecessaryCodeBorder","Border color of unnecessary (unused) source code in the editor.")),eV=v("editorUnnecessaryCode.opacity",{dark:w.fromHex("#000a"),light:w.fromHex("#0007"),hcDark:null,hcLight:null},c("unnecessaryCodeOpacity",`Opacity of unnecessary (unused) source code in the editor. For example, "#000000c0" will render the code with 75% opacity. For high contrast themes, use the  'editorUnnecessaryCode.border' theme color to underline unnecessary code instead of fading it out.`)),tV=v("editorGhostText.border",{dark:null,light:null,hcDark:w.fromHex("#fff").transparent(.8),hcLight:w.fromHex("#292929").transparent(.8)},c("editorGhostTextBorder","Border color of ghost text in the editor.")),nV=v("editorGhostText.foreground",{dark:w.fromHex("#ffffff56"),light:w.fromHex("#0007"),hcDark:null,hcLight:null},c("editorGhostTextForeground","Foreground color of the ghost text in the editor.")),rV=v("editorGhostText.background",null,c("editorGhostTextBackground","Background color of the ghost text in the editor.")),rI=new w(new te(0,122,204,.6)),iV=v("editorOverviewRuler.rangeHighlightForeground",rI,c("overviewRulerRangeHighlight","Overview ruler marker color for range highlights. The color must not be opaque so as not to hide underlying decorations."),!0),oV=v("editorOverviewRuler.errorForeground",{dark:new w(new te(255,18,18,.7)),light:new w(new te(255,18,18,.7)),hcDark:new w(new te(255,50,50,1)),hcLight:"#B5200D"},c("overviewRuleError","Overview ruler marker color for errors.")),sV=v("editorOverviewRuler.warningForeground",{dark:mn,light:mn,hcDark:lo,hcLight:lo},c("overviewRuleWarning","Overview ruler marker color for warnings.")),aV=v("editorOverviewRuler.infoForeground",{dark:Kn,light:Kn,hcDark:uo,hcLight:uo},c("overviewRuleInfo","Overview ruler marker color for infos.")),$b=v("editorBracketHighlight.foreground1",{dark:"#FFD700",light:"#0431FAFF",hcDark:"#FFD700",hcLight:"#0431FAFF"},c("editorBracketHighlightForeground1","Foreground color of brackets (1). Requires enabling bracket pair colorization.")),Yb=v("editorBracketHighlight.foreground2",{dark:"#DA70D6",light:"#319331FF",hcDark:"#DA70D6",hcLight:"#319331FF"},c("editorBracketHighlightForeground2","Foreground color of brackets (2). Requires enabling bracket pair colorization.")),Qb=v("editorBracketHighlight.foreground3",{dark:"#179FFF",light:"#7B3814FF",hcDark:"#87CEFA",hcLight:"#7B3814FF"},c("editorBracketHighlightForeground3","Foreground color of brackets (3). Requires enabling bracket pair colorization.")),Xb=v("editorBracketHighlight.foreground4","#00000000",c("editorBracketHighlightForeground4","Foreground color of brackets (4). Requires enabling bracket pair colorization.")),Jb=v("editorBracketHighlight.foreground5","#00000000",c("editorBracketHighlightForeground5","Foreground color of brackets (5). Requires enabling bracket pair colorization.")),Zb=v("editorBracketHighlight.foreground6","#00000000",c("editorBracketHighlightForeground6","Foreground color of brackets (6). Requires enabling bracket pair colorization.")),e1=v("editorBracketHighlight.unexpectedBracket.foreground",{dark:new w(new te(255,18,18,.8)),light:new w(new te(255,18,18,.8)),hcDark:"new Color(new RGBA(255, 50, 50, 1))",hcLight:"#B5200D"},c("editorBracketHighlightUnexpectedBracketForeground","Foreground color of unexpected brackets.")),lV=v("editorBracketPairGuide.background1","#00000000",c("editorBracketPairGuide.background1","Background color of inactive bracket pair guides (1). Requires enabling bracket pair guides.")),uV=v("editorBracketPairGuide.background2","#00000000",c("editorBracketPairGuide.background2","Background color of inactive bracket pair guides (2). Requires enabling bracket pair guides.")),cV=v("editorBracketPairGuide.background3","#00000000",c("editorBracketPairGuide.background3","Background color of inactive bracket pair guides (3). Requires enabling bracket pair guides.")),dV=v("editorBracketPairGuide.background4","#00000000",c("editorBracketPairGuide.background4","Background color of inactive bracket pair guides (4). Requires enabling bracket pair guides.")),gV=v("editorBracketPairGuide.background5","#00000000",c("editorBracketPairGuide.background5","Background color of inactive bracket pair guides (5). Requires enabling bracket pair guides.")),fV=v("editorBracketPairGuide.background6","#00000000",c("editorBracketPairGuide.background6","Background color of inactive bracket pair guides (6). Requires enabling bracket pair guides.")),hV=v("editorBracketPairGuide.activeBackground1","#00000000",c("editorBracketPairGuide.activeBackground1","Background color of active bracket pair guides (1). Requires enabling bracket pair guides.")),pV=v("editorBracketPairGuide.activeBackground2","#00000000",c("editorBracketPairGuide.activeBackground2","Background color of active bracket pair guides (2). Requires enabling bracket pair guides.")),mV=v("editorBracketPairGuide.activeBackground3","#00000000",c("editorBracketPairGuide.activeBackground3","Background color of active bracket pair guides (3). Requires enabling bracket pair guides.")),bV=v("editorBracketPairGuide.activeBackground4","#00000000",c("editorBracketPairGuide.activeBackground4","Background color of active bracket pair guides (4). Requires enabling bracket pair guides.")),vV=v("editorBracketPairGuide.activeBackground5","#00000000",c("editorBracketPairGuide.activeBackground5","Background color of active bracket pair guides (5). Requires enabling bracket pair guides.")),yV=v("editorBracketPairGuide.activeBackground6","#00000000",c("editorBracketPairGuide.activeBackground6","Background color of active bracket pair guides (6). Requires enabling bracket pair guides.")),xV=v("editorUnicodeHighlight.border",mn,c("editorUnicodeHighlight.border","Border color used to highlight unicode characters.")),IV=v("editorUnicodeHighlight.background",Pb,c("editorUnicodeHighlight.background","Background color used to highlight unicode characters."));su((r,e)=>{let t=r.getColor(li),n=r.getColor(Zx),i=n&&!n.isTransparent()?n:t;i&&e.addRule(`.monaco-editor .inputarea.ime-input { background-color: ${i}; }`)});var fu=class extends oe{constructor(t){super();this.textModel=t;this.colorizationOptions=t.getOptions().bracketPairColorizationOptions,this._register(t.bracketPairs.onDidChange(n=>{this.onDidChangeEmitter.fire()}))}colorizationOptions;colorProvider=new hu;onDidChangeEmitter=new U;onDidChange=this.onDidChangeEmitter.event;handleDidChangeOptions(t){this.colorizationOptions=this.textModel.getOptions().bracketPairColorizationOptions}getDecorationsInRange(t,n,i,o){return o?[]:n===void 0?[]:this.colorizationOptions.enabled?this.textModel.bracketPairs.getBracketsInRange(t,!0).map(a=>({id:`bracket${a.range.toString()}-${a.nestingLevel}`,options:{description:"BracketPairColorization",inlineClassName:this.colorProvider.getInlineClassName(a,this.colorizationOptions.independentColorPoolPerBracketType)},ownerId:0,range:a.range})).toArray():[]}getAllDecorations(t,n){return t===void 0?[]:this.colorizationOptions.enabled?this.getDecorationsInRange(new R(1,1,this.textModel.getLineCount(),1),t,n):[]}},hu=class{unexpectedClosingBracketClassName="unexpected-closing-bracket";getInlineClassName(e,t){return e.isInvalid?this.unexpectedClosingBracketClassName:this.getInlineClassNameOfLevel(t?e.nestingLevelOfEqualBracketType:e.nestingLevel)}getInlineClassNameOfLevel(e){return`bracket-highlighting-${e%30}`}};su((r,e)=>{let t=[$b,Yb,Qb,Xb,Jb,Zb],n=new hu;e.addRule(`.monaco-editor .${n.unexpectedClosingBracketClassName} { color: ${r.getColor(e1)}; }`);let i=t.map(o=>r.getColor(o)).filter(o=>!!o).filter(o=>!o.isTransparent());for(let o=0;o<30;o++){let s=i[o%i.length];e.addRule(`.monaco-editor .${n.getInlineClassNameOfLevel(o)} { color: ${s}; }`)}});function co(r){return r.toString()}var mt=class r{constructor(e,t,n,i,o,s,a){this.beforeVersionId=e;this.afterVersionId=t;this.beforeEOL=n;this.afterEOL=i;this.beforeCursorState=o;this.afterCursorState=s;this.changes=a}static create(e,t){let n=e.getAlternativeVersionId(),i=Tf(e);return new r(n,n,i,i,t,t,[])}append(e,t,n,i,o){t.length>0&&(this.changes=ym(this.changes,t)),this.afterEOL=n,this.afterVersionId=i,this.afterCursorState=o}static _writeSelectionsSize(e){return 4+4*4*(e?e.length:0)}static _writeSelections(e,t,n){if(je(e,t?t.length:0,n),n+=4,t)for(let i of t)je(e,i.selectionStartLineNumber,n),n+=4,je(e,i.selectionStartColumn,n),n+=4,je(e,i.positionLineNumber,n),n+=4,je(e,i.positionColumn,n),n+=4;return n}static _readSelections(e,t,n){let i=Ge(e,t);t+=4;for(let o=0;o<i;o++){let s=Ge(e,t);t+=4;let a=Ge(e,t);t+=4;let l=Ge(e,t);t+=4;let u=Ge(e,t);t+=4,n.push(new Un(s,a,l,u))}return t}serialize(){let e=10+r._writeSelectionsSize(this.beforeCursorState)+r._writeSelectionsSize(this.afterCursorState)+4;for(let i of this.changes)e+=i.writeSize();let t=new Uint8Array(e),n=0;je(t,this.beforeVersionId,n),n+=4,je(t,this.afterVersionId,n),n+=4,md(t,this.beforeEOL,n),n+=1,md(t,this.afterEOL,n),n+=1,n=r._writeSelections(t,this.beforeCursorState,n),n=r._writeSelections(t,this.afterCursorState,n),je(t,this.changes.length,n),n+=4;for(let i of this.changes)n=i.write(t,n);return t.buffer}static deserialize(e){let t=new Uint8Array(e),n=0,i=Ge(t,n);n+=4;let o=Ge(t,n);n+=4;let s=pd(t,n);n+=1;let a=pd(t,n);n+=1;let l=[];n=r._readSelections(t,n,l);let u=[];n=r._readSelections(t,n,u);let d=Ge(t,n);n+=4;let g=[];for(let h=0;h<d;h++)n=It.read(t,n,g);return new r(i,o,s,a,l,u,g)}},pu=class{constructor(e,t,n,i){this.label=e;this.code=t;this.model=n,this._data=mt.create(n,i)}model;_data;get type(){return 0}get resource(){return he.isUri(this.model)?this.model:this.model.uri}toString(){return(this._data instanceof mt?this._data:mt.deserialize(this._data)).changes.map(t=>t.toString()).join(", ")}matchesResource(e){return(he.isUri(this.model)?this.model:this.model.uri).toString()===e.toString()}setModel(e){this.model=e}canAppend(e){return this.model===e&&this._data instanceof mt}append(e,t,n,i,o){this._data instanceof mt&&this._data.append(e,t,n,i,o)}close(){this._data instanceof mt&&(this._data=this._data.serialize())}open(){this._data instanceof mt||(this._data=mt.deserialize(this._data))}undo(){if(he.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof mt&&(this._data=this._data.serialize());let e=mt.deserialize(this._data);this.model._applyUndo(e.changes,e.beforeEOL,e.beforeVersionId,e.beforeCursorState)}redo(){if(he.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof mt&&(this._data=this._data.serialize());let e=mt.deserialize(this._data);this.model._applyRedo(e.changes,e.afterEOL,e.afterVersionId,e.afterCursorState)}heapSize(){return this._data instanceof mt&&(this._data=this._data.serialize()),this._data.byteLength+168}},If=class{constructor(e,t,n){this.label=e;this.code=t;this._isOpen=!0,this._editStackElementsArr=n.slice(0),this._editStackElementsMap=new Map;for(let i of this._editStackElementsArr){let o=co(i.resource);this._editStackElementsMap.set(o,i)}this._delegate=null}type=1;_isOpen;_editStackElementsArr;_editStackElementsMap;_delegate;get resources(){return this._editStackElementsArr.map(e=>e.resource)}setDelegate(e){this._delegate=e}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}getMissingModels(){let e=[];for(let t of this._editStackElementsArr)he.isUri(t.model)&&e.push(t.model);return e}matchesResource(e){let t=co(e);return this._editStackElementsMap.has(t)}setModel(e){let t=co(he.isUri(e)?e:e.uri);this._editStackElementsMap.has(t)&&this._editStackElementsMap.get(t).setModel(e)}canAppend(e){if(!this._isOpen)return!1;let t=co(e.uri);return this._editStackElementsMap.has(t)?this._editStackElementsMap.get(t).canAppend(e):!1}append(e,t,n,i,o){let s=co(e.uri);this._editStackElementsMap.get(s).append(e,t,n,i,o)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(let e of this._editStackElementsArr)e.undo()}redo(){for(let e of this._editStackElementsArr)e.redo()}heapSize(e){let t=co(e);return this._editStackElementsMap.has(t)?this._editStackElementsMap.get(t).heapSize():0}split(){return this._editStackElementsArr}toString(){let e=[];for(let t of this._editStackElementsArr)e.push(`${Qc(t.resource)}: ${t}`);return`{${e.join(", ")}}`}};function Tf(r){return r.getEOL()===`
`?0:1}function xf(r){return r?r instanceof pu||r instanceof If:!1}var mu=class r{_model;_undoRedoService;constructor(e,t){this._model=e,this._undoRedoService=t}pushStackElement(){let e=this._undoRedoService.getLastElement(this._model.uri);xf(e)&&e.close()}popStackElement(){let e=this._undoRedoService.getLastElement(this._model.uri);xf(e)&&e.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(e,t){let n=this._undoRedoService.getLastElement(this._model.uri);if(xf(n)&&n.canAppend(this._model))return n;let i=new pu(c("edit","Typing"),"undoredo.textBufferEdit",this._model,e);return this._undoRedoService.pushElement(i,t),i}pushEOL(e){let t=this._getOrCreateEditStackElement(null,void 0);this._model.setEOL(e),t.append(this._model,[],Tf(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(e,t,n,i){let o=this._getOrCreateEditStackElement(e,i),s=this._model.applyEdits(t,!0),a=r._computeCursorState(n,s),l=s.map((u,d)=>({index:d,textChange:u.textChange}));return l.sort((u,d)=>u.textChange.oldPosition===d.textChange.oldPosition?u.index-d.index:u.textChange.oldPosition-d.textChange.oldPosition),o.append(this._model,l.map(u=>u.textChange),Tf(this._model),this._model.getAlternativeVersionId(),a),a}static _computeCursorState(e,t){try{return e?e(t):null}catch(n){return Ie(n),null}}};var go=class extends oe{_isDisposed=!1;dispose(){super.dispose(),this._isDisposed=!0}assertNotDisposed(){if(this._isDisposed)throw new Error("TextModelPart is disposed!")}};function t1(r,e){let t=0,n=0,i=r.length;for(;n<i;){let o=r.charCodeAt(n);if(o===32)t++;else if(o===9)t=t-t%e+e;else break;n++}return n===i?-1:t}var bu=class extends go{constructor(t,n){super();this.textModel=t;this.languageConfigurationService=n}getLanguageConfiguration(t){return this.languageConfigurationService.getLanguageConfiguration(t)}_computeIndentLevel(t){return t1(this.textModel.getLineContent(t+1),this.textModel.getOptions().tabSize)}getActiveIndentGuide(t,n,i){this.assertNotDisposed();let o=this.textModel.getLineCount();if(t<1||t>o)throw new le("Illegal value for lineNumber");let s=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,a=!!(s&&s.offSide),l=-2,u=-1,d=-2,g=-1,h=A=>{if(l!==-1&&(l===-2||l>A-1)){l=-1,u=-1;for(let O=A-2;O>=0;O--){let V=this._computeIndentLevel(O);if(V>=0){l=O,u=V;break}}}if(d===-2){d=-1,g=-1;for(let O=A;O<o;O++){let V=this._computeIndentLevel(O);if(V>=0){d=O,g=V;break}}}},p=-2,b=-1,m=-2,y=-1,I=A=>{if(p===-2){p=-1,b=-1;for(let O=A-2;O>=0;O--){let V=this._computeIndentLevel(O);if(V>=0){p=O,b=V;break}}}if(m!==-1&&(m===-2||m<A-1)){m=-1,y=-1;for(let O=A;O<o;O++){let V=this._computeIndentLevel(O);if(V>=0){m=O,y=V;break}}}},k=0,C=!0,T=0,S=!0,E=0,D=0;for(let A=0;C||S;A++){let O=t-A,V=t+A;A>1&&(O<1||O<n)&&(C=!1),A>1&&(V>o||V>i)&&(S=!1),A>5e4&&(C=!1,S=!1);let Q=-1;if(C&&O>=1){let me=this._computeIndentLevel(O-1);me>=0?(d=O-1,g=me,Q=Math.ceil(me/this.textModel.getOptions().indentSize)):(h(O),Q=this._getIndentLevelForWhitespaceLine(a,u,g))}let K=-1;if(S&&V<=o){let me=this._computeIndentLevel(V-1);me>=0?(p=V-1,b=me,K=Math.ceil(me/this.textModel.getOptions().indentSize)):(I(V),K=this._getIndentLevelForWhitespaceLine(a,b,y))}if(A===0){D=Q;continue}if(A===1){if(V<=o&&K>=0&&D+1===K){C=!1,k=V,T=V,E=K;continue}if(O>=1&&Q>=0&&Q-1===D){S=!1,k=O,T=O,E=Q;continue}if(k=t,T=t,E=D,E===0)return{startLineNumber:k,endLineNumber:T,indent:E}}C&&(Q>=E?k=O:C=!1),S&&(K>=E?T=V:S=!1)}return{startLineNumber:k,endLineNumber:T,indent:E}}getLinesBracketGuides(t,n,i,o){let s=[];for(let h=t;h<=n;h++)s.push([]);let a=!0,l=this.textModel.bracketPairs.getBracketPairsInRangeWithMinIndentation(new R(t,1,n,this.textModel.getLineMaxColumn(n))).toArray(),u;if(i&&l.length>0){let h=(t<=i.lineNumber&&i.lineNumber<=n?l:this.textModel.bracketPairs.getBracketPairsInRange(R.fromPositions(i)).toArray()).filter(p=>R.strictContainsPosition(p.range,i));u=Uh(h,p=>a||p.range.startLineNumber!==p.range.endLineNumber)?.range}let d=this.textModel.getOptions().bracketPairColorizationOptions.independentColorPoolPerBracketType,g=new Cf;for(let h of l){if(!h.closingBracketRange)continue;let p=u&&h.range.equalsRange(u);if(!p&&!o.includeInactive)continue;let b=g.getInlineClassName(h.nestingLevel,h.nestingLevelOfEqualBracketType,d)+(o.highlightActive&&p?" "+g.activeClassName:""),m=h.openingBracketRange.getStartPosition(),y=h.closingBracketRange.getStartPosition(),I=o.horizontalGuides===2||o.horizontalGuides===1&&p;if(h.range.startLineNumber===h.range.endLineNumber){a&&I&&s[h.range.startLineNumber-t].push(new si(-1,h.openingBracketRange.getEndPosition().column,b,new Ji(!1,y.column),-1,-1));continue}let k=this.getVisibleColumnFromPosition(y),C=this.getVisibleColumnFromPosition(h.openingBracketRange.getStartPosition()),T=Math.min(C,k,h.minVisibleColumnIndentation+1),S=!1;ln(this.textModel.getLineContent(h.closingBracketRange.startLineNumber))<h.closingBracketRange.startColumn-1&&(S=!0);let A=Math.max(m.lineNumber,t),O=Math.min(y.lineNumber,n),V=S?1:0;for(let Q=A;Q<O+V;Q++)s[Q-t].push(new si(T,-1,b,null,Q===m.lineNumber?m.column:-1,Q===y.lineNumber?y.column:-1));I&&(m.lineNumber>=t&&C>T&&s[m.lineNumber-t].push(new si(T,-1,b,new Ji(!1,m.column),-1,-1)),y.lineNumber<=n&&k>T&&s[y.lineNumber-t].push(new si(T,-1,b,new Ji(!S,y.column),-1,-1)))}for(let h of s)h.sort((p,b)=>p.visibleColumn-b.visibleColumn);return s}getVisibleColumnFromPosition(t){return br.visibleColumnFromColumn(this.textModel.getLineContent(t.lineNumber),t.column,this.textModel.getOptions().tabSize)+1}getLinesIndentGuides(t,n){this.assertNotDisposed();let i=this.textModel.getLineCount();if(t<1||t>i)throw new Error("Illegal value for startLineNumber");if(n<1||n>i)throw new Error("Illegal value for endLineNumber");let o=this.textModel.getOptions(),s=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,a=!!(s&&s.offSide),l=new Array(n-t+1),u=-2,d=-1,g=-2,h=-1;for(let p=t;p<=n;p++){let b=p-t,m=this._computeIndentLevel(p-1);if(m>=0){u=p-1,d=m,l[b]=Math.ceil(m/o.indentSize);continue}if(u===-2){u=-1,d=-1;for(let y=p-2;y>=0;y--){let I=this._computeIndentLevel(y);if(I>=0){u=y,d=I;break}}}if(g!==-1&&(g===-2||g<p-1)){g=-1,h=-1;for(let y=p;y<i;y++){let I=this._computeIndentLevel(y);if(I>=0){g=y,h=I;break}}}l[b]=this._getIndentLevelForWhitespaceLine(a,d,h)}return l}_getIndentLevelForWhitespaceLine(t,n,i){let o=this.textModel.getOptions();return n===-1||i===-1?0:n<i?1+Math.floor(n/o.indentSize):n===i||t?Math.ceil(i/o.indentSize):1+Math.floor(i/o.indentSize)}},Cf=class{activeClassName="indent-active";getInlineClassName(e,t,n){return this.getInlineClassNameOfLevel(n?t:e)}getInlineClassNameOfLevel(e){return`bracket-indent-guide lvl-${e%30}`}};var kf=class{spacesDiff=0;looksLikeAlignment=!1};function oI(r,e,t,n,i){i.spacesDiff=0,i.looksLikeAlignment=!1;let o;for(o=0;o<e&&o<n;o++){let h=r.charCodeAt(o),p=t.charCodeAt(o);if(h!==p)break}let s=0,a=0;for(let h=o;h<e;h++)r.charCodeAt(h)===32?s++:a++;let l=0,u=0;for(let h=o;h<n;h++)t.charCodeAt(h)===32?l++:u++;if(s>0&&a>0||l>0&&u>0)return;let d=Math.abs(a-u),g=Math.abs(s-l);if(d===0){i.spacesDiff=g,g>0&&0<=l-1&&l-1<r.length&&l<t.length&&t.charCodeAt(l)!==32&&r.charCodeAt(l-1)===32&&r.charCodeAt(r.length-1)===44&&(i.looksLikeAlignment=!0);return}if(g%d===0){i.spacesDiff=g/d;return}}function _f(r,e,t){let n=Math.min(r.getLineCount(),1e4),i=0,o=0,s="",a=0,l=[2,4,6,8,3,5,7],u=8,d=[0,0,0,0,0,0,0,0,0],g=new kf;for(let b=1;b<=n;b++){let m=r.getLineLength(b),y=r.getLineContent(b),I=m<=65536,k=!1,C=0,T=0,S=0;for(let D=0,A=m;D<A;D++){let O=I?y.charCodeAt(D):r.getLineCharCode(b,D);if(O===9)S++;else if(O===32)T++;else{k=!0,C=D;break}}if(!k||(S>0?i++:T>1&&o++,oI(s,a,y,C,g),g.looksLikeAlignment&&!(t&&e===g.spacesDiff)))continue;let E=g.spacesDiff;E<=u&&d[E]++,s=y,a=C}let h=t;i!==o&&(h=i<o);let p=e;if(h){let b=h?0:.1*n;l.forEach(m=>{let y=d[m];y>b&&(b=y,p=m)}),p===4&&d[4]>0&&d[2]>0&&d[2]>=d[4]/2&&(p=2)}return{insertSpaces:h,tabSize:p}}function ft(r){return(r.metadata&1)>>>0}function ye(r,e){r.metadata=r.metadata&254|e<<0}function Ke(r){return(r.metadata&2)>>>1===1}function ve(r,e){r.metadata=r.metadata&253|(e?1:0)<<1}function u1(r){return(r.metadata&4)>>>2===1}function n1(r,e){r.metadata=r.metadata&251|(e?1:0)<<2}function c1(r){return(r.metadata&64)>>>6===1}function r1(r,e){r.metadata=r.metadata&191|(e?1:0)<<6}function aI(r){return(r.metadata&24)>>>3}function i1(r,e){r.metadata=r.metadata&231|e<<3}function lI(r){return(r.metadata&32)>>>5===1}function o1(r,e){r.metadata=r.metadata&223|(e?1:0)<<5}var Ps=class{metadata;parent;left;right;start;end;delta;maxEnd;id;ownerId;options;cachedVersionId;cachedAbsoluteStart;cachedAbsoluteEnd;range;constructor(e,t,n){this.metadata=0,this.parent=this,this.left=this,this.right=this,ye(this,1),this.start=t,this.end=n,this.delta=0,this.maxEnd=n,this.id=e,this.ownerId=0,this.options=null,n1(this,!1),r1(this,!1),i1(this,1),o1(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=t,this.cachedAbsoluteEnd=n,this.range=null,ve(this,!1)}reset(e,t,n,i){this.start=t,this.end=n,this.maxEnd=n,this.cachedVersionId=e,this.cachedAbsoluteStart=t,this.cachedAbsoluteEnd=n,this.range=i}setOptions(e){this.options=e;let t=this.options.className;n1(this,t==="squiggly-error"||t==="squiggly-warning"||t==="squiggly-info"),r1(this,this.options.glyphMarginClassName!==null),i1(this,this.options.stickiness),o1(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(e,t,n){this.cachedVersionId!==n&&(this.range=null),this.cachedVersionId=n,this.cachedAbsoluteStart=e,this.cachedAbsoluteEnd=t}detach(){this.parent=null,this.left=null,this.right=null}},J=new Ps(null,0,0);J.parent=J;J.left=J;J.right=J;ye(J,0);var ho=class{root;requestNormalizeDelta;constructor(){this.root=J,this.requestNormalizeDelta=!1}intervalSearch(e,t,n,i,o,s){return this.root===J?[]:pI(this,e,t,n,i,o,s)}search(e,t,n,i){return this.root===J?[]:s1(this,e,t,n,i)}collectNodesFromOwner(e){return fI(this,e)}collectNodesPostOrder(){return hI(this)}insert(e){a1(this,e),this._normalizeDeltaIfNecessary()}delete(e){l1(this,e),this._normalizeDeltaIfNecessary()}resolveNode(e,t){let n=e,i=0;for(;e!==this.root;)e===e.parent.right&&(i+=e.parent.delta),e=e.parent;let o=n.start+i,s=n.end+i;n.setCachedOffsets(o,s,t)}acceptReplace(e,t,n,i){let o=dI(this,e,e+t);for(let s=0,a=o.length;s<a;s++){let l=o[s];l1(this,l)}this._normalizeDeltaIfNecessary(),gI(this,e,e+t,n),this._normalizeDeltaIfNecessary();for(let s=0,a=o.length;s<a;s++){let l=o[s];l.start=l.cachedAbsoluteStart,l.end=l.cachedAbsoluteEnd,cI(l,e,e+t,n,i),l.maxEnd=l.end,a1(this,l)}this._normalizeDeltaIfNecessary()}getAllInOrder(){return s1(this,0,!1,0,!1)}_normalizeDeltaIfNecessary(){this.requestNormalizeDelta&&(this.requestNormalizeDelta=!1,uI(this))}};function uI(r){let e=r.root,t=0;for(;e!==J;){if(e.left!==J&&!Ke(e.left)){e=e.left;continue}if(e.right!==J&&!Ke(e.right)){t+=e.delta,e=e.right;continue}e.start=t+e.start,e.end=t+e.end,e.delta=0,qn(e),ve(e,!0),ve(e.left,!1),ve(e.right,!1),e===e.parent.right&&(t-=e.parent.delta),e=e.parent}ve(r.root,!1)}function fo(r,e,t,n){return r<t?!0:r>t||n===1?!1:n===2?!0:e}function cI(r,e,t,n,i){let o=aI(r),s=o===0||o===2,a=o===1||o===2,l=t-e,u=n,d=Math.min(l,u),g=r.start,h=!1,p=r.end,b=!1;e<=g&&p<=t&&lI(r)&&(r.start=e,h=!0,r.end=e,b=!0);{let y=i?1:l>0?2:0;!h&&fo(g,s,e,y)&&(h=!0),!b&&fo(p,a,e,y)&&(b=!0)}if(d>0&&!i){let y=l>u?2:0;!h&&fo(g,s,e+d,y)&&(h=!0),!b&&fo(p,a,e+d,y)&&(b=!0)}{let y=i?1:0;!h&&fo(g,s,t,y)&&(r.start=e+u,h=!0),!b&&fo(p,a,t,y)&&(r.end=e+u,b=!0)}let m=u-l;h||(r.start=Math.max(0,g+m)),b||(r.end=Math.max(0,p+m)),r.start>r.end&&(r.end=r.start)}function dI(r,e,t){let n=r.root,i=0,o=0,s=0,a=0,l=[],u=0;for(;n!==J;){if(Ke(n)){ve(n.left,!1),ve(n.right,!1),n===n.parent.right&&(i-=n.parent.delta),n=n.parent;continue}if(!Ke(n.left)){if(o=i+n.maxEnd,o<e){ve(n,!0);continue}if(n.left!==J){n=n.left;continue}}if(s=i+n.start,s>t){ve(n,!0);continue}if(a=i+n.end,a>=e&&(n.setCachedOffsets(s,a,0),l[u++]=n),ve(n,!0),n.right!==J&&!Ke(n.right)){i+=n.delta,n=n.right;continue}}return ve(r.root,!1),l}function gI(r,e,t,n){let i=r.root,o=0,s=0,a=0,l=n-(t-e);for(;i!==J;){if(Ke(i)){ve(i.left,!1),ve(i.right,!1),i===i.parent.right&&(o-=i.parent.delta),qn(i),i=i.parent;continue}if(!Ke(i.left)){if(s=o+i.maxEnd,s<e){ve(i,!0);continue}if(i.left!==J){i=i.left;continue}}if(a=o+i.start,a>t){i.start+=l,i.end+=l,i.delta+=l,(i.delta<-1073741824||i.delta>1073741824)&&(r.requestNormalizeDelta=!0),ve(i,!0);continue}if(ve(i,!0),i.right!==J&&!Ke(i.right)){o+=i.delta,i=i.right;continue}}ve(r.root,!1)}function fI(r,e){let t=r.root,n=[],i=0;for(;t!==J;){if(Ke(t)){ve(t.left,!1),ve(t.right,!1),t=t.parent;continue}if(t.left!==J&&!Ke(t.left)){t=t.left;continue}if(t.ownerId===e&&(n[i++]=t),ve(t,!0),t.right!==J&&!Ke(t.right)){t=t.right;continue}}return ve(r.root,!1),n}function hI(r){let e=r.root,t=[],n=0;for(;e!==J;){if(Ke(e)){ve(e.left,!1),ve(e.right,!1),e=e.parent;continue}if(e.left!==J&&!Ke(e.left)){e=e.left;continue}if(e.right!==J&&!Ke(e.right)){e=e.right;continue}t[n++]=e,ve(e,!0)}return ve(r.root,!1),t}function s1(r,e,t,n,i){let o=r.root,s=0,a=0,l=0,u=[],d=0;for(;o!==J;){if(Ke(o)){ve(o.left,!1),ve(o.right,!1),o===o.parent.right&&(s-=o.parent.delta),o=o.parent;continue}if(o.left!==J&&!Ke(o.left)){o=o.left;continue}a=s+o.start,l=s+o.end,o.setCachedOffsets(a,l,n);let g=!0;if(e&&o.ownerId&&o.ownerId!==e&&(g=!1),t&&u1(o)&&(g=!1),i&&!c1(o)&&(g=!1),g&&(u[d++]=o),ve(o,!0),o.right!==J&&!Ke(o.right)){s+=o.delta,o=o.right;continue}}return ve(r.root,!1),u}function pI(r,e,t,n,i,o,s){let a=r.root,l=0,u=0,d=0,g=0,h=[],p=0;for(;a!==J;){if(Ke(a)){ve(a.left,!1),ve(a.right,!1),a===a.parent.right&&(l-=a.parent.delta),a=a.parent;continue}if(!Ke(a.left)){if(u=l+a.maxEnd,u<e){ve(a,!0);continue}if(a.left!==J){a=a.left;continue}}if(d=l+a.start,d>t){ve(a,!0);continue}if(g=l+a.end,g>=e){a.setCachedOffsets(d,g,o);let b=!0;n&&a.ownerId&&a.ownerId!==n&&(b=!1),i&&u1(a)&&(b=!1),s&&!c1(a)&&(b=!1),b&&(h[p++]=a)}if(ve(a,!0),a.right!==J&&!Ke(a.right)){l+=a.delta,a=a.right;continue}}return ve(r.root,!1),h}function a1(r,e){if(r.root===J)return e.parent=J,e.left=J,e.right=J,ye(e,0),r.root=e,r.root;mI(r,e),Lr(e.parent);let t=e;for(;t!==r.root&&ft(t.parent)===1;)if(t.parent===t.parent.parent.left){let n=t.parent.parent.right;ft(n)===1?(ye(t.parent,0),ye(n,0),ye(t.parent.parent,1),t=t.parent.parent):(t===t.parent.right&&(t=t.parent,Ms(r,t)),ye(t.parent,0),ye(t.parent.parent,1),Os(r,t.parent.parent))}else{let n=t.parent.parent.left;ft(n)===1?(ye(t.parent,0),ye(n,0),ye(t.parent.parent,1),t=t.parent.parent):(t===t.parent.left&&(t=t.parent,Os(r,t)),ye(t.parent,0),ye(t.parent.parent,1),Ms(r,t.parent.parent))}return ye(r.root,0),e}function mI(r,e){let t=0,n=r.root,i=e.start,o=e.end;for(;;)if(vI(i,o,n.start+t,n.end+t)<0)if(n.left===J){e.start-=t,e.end-=t,e.maxEnd-=t,n.left=e;break}else n=n.left;else if(n.right===J){e.start-=t+n.delta,e.end-=t+n.delta,e.maxEnd-=t+n.delta,n.right=e;break}else t+=n.delta,n=n.right;e.parent=n,e.left=J,e.right=J,ye(e,1)}function l1(r,e){let t,n;if(e.left===J?(t=e.right,n=e,t.delta+=e.delta,(t.delta<-1073741824||t.delta>1073741824)&&(r.requestNormalizeDelta=!0),t.start+=e.delta,t.end+=e.delta):e.right===J?(t=e.left,n=e):(n=bI(e.right),t=n.right,t.start+=n.delta,t.end+=n.delta,t.delta+=n.delta,(t.delta<-1073741824||t.delta>1073741824)&&(r.requestNormalizeDelta=!0),n.start+=e.delta,n.end+=e.delta,n.delta=e.delta,(n.delta<-1073741824||n.delta>1073741824)&&(r.requestNormalizeDelta=!0)),n===r.root){r.root=t,ye(t,0),e.detach(),Sf(),qn(t),r.root.parent=J;return}let i=ft(n)===1;if(n===n.parent.left?n.parent.left=t:n.parent.right=t,n===e?t.parent=n.parent:(n.parent===e?t.parent=n:t.parent=n.parent,n.left=e.left,n.right=e.right,n.parent=e.parent,ye(n,ft(e)),e===r.root?r.root=n:e===e.parent.left?e.parent.left=n:e.parent.right=n,n.left!==J&&(n.left.parent=n),n.right!==J&&(n.right.parent=n)),e.detach(),i){Lr(t.parent),n!==e&&(Lr(n),Lr(n.parent)),Sf();return}Lr(t),Lr(t.parent),n!==e&&(Lr(n),Lr(n.parent));let o;for(;t!==r.root&&ft(t)===0;)t===t.parent.left?(o=t.parent.right,ft(o)===1&&(ye(o,0),ye(t.parent,1),Ms(r,t.parent),o=t.parent.right),ft(o.left)===0&&ft(o.right)===0?(ye(o,1),t=t.parent):(ft(o.right)===0&&(ye(o.left,0),ye(o,1),Os(r,o),o=t.parent.right),ye(o,ft(t.parent)),ye(t.parent,0),ye(o.right,0),Ms(r,t.parent),t=r.root)):(o=t.parent.left,ft(o)===1&&(ye(o,0),ye(t.parent,1),Os(r,t.parent),o=t.parent.left),ft(o.left)===0&&ft(o.right)===0?(ye(o,1),t=t.parent):(ft(o.left)===0&&(ye(o.right,0),ye(o,1),Ms(r,o),o=t.parent.left),ye(o,ft(t.parent)),ye(t.parent,0),ye(o.left,0),Os(r,t.parent),t=r.root));ye(t,0),Sf()}function bI(r){for(;r.left!==J;)r=r.left;return r}function Sf(){J.parent=J,J.delta=0,J.start=0,J.end=0}function Ms(r,e){let t=e.right;t.delta+=e.delta,(t.delta<-1073741824||t.delta>1073741824)&&(r.requestNormalizeDelta=!0),t.start+=e.delta,t.end+=e.delta,e.right=t.left,t.left!==J&&(t.left.parent=e),t.parent=e.parent,e.parent===J?r.root=t:e===e.parent.left?e.parent.left=t:e.parent.right=t,t.left=e,e.parent=t,qn(e),qn(t)}function Os(r,e){let t=e.left;e.delta-=t.delta,(e.delta<-1073741824||e.delta>1073741824)&&(r.requestNormalizeDelta=!0),e.start-=t.delta,e.end-=t.delta,e.left=t.right,t.right!==J&&(t.right.parent=e),t.parent=e.parent,e.parent===J?r.root=t:e===e.parent.right?e.parent.right=t:e.parent.left=t,t.right=e,e.parent=t,qn(e),qn(t)}function d1(r){let e=r.end;if(r.left!==J){let t=r.left.maxEnd;t>e&&(e=t)}if(r.right!==J){let t=r.right.maxEnd+r.delta;t>e&&(e=t)}return e}function qn(r){r.maxEnd=d1(r)}function Lr(r){for(;r!==J;){let e=d1(r);if(r.maxEnd===e)return;r.maxEnd=e,r=r.parent}}function vI(r,e,t,n){return r===t?e-n:r-t}var po=class{parent;left;right;color;piece;size_left;lf_left;constructor(e,t){this.piece=e,this.color=t,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==G)return vu(this.right);let e=this;for(;e.parent!==G&&e.parent.left!==e;)e=e.parent;return e.parent===G?G:e.parent}prev(){if(this.left!==G)return wf(this.left);let e=this;for(;e.parent!==G&&e.parent.right!==e;)e=e.parent;return e.parent===G?G:e.parent}detach(){this.parent=null,this.left=null,this.right=null}};var G=new po(null,0);G.parent=G;G.left=G;G.right=G;G.color=0;function vu(r){for(;r.left!==G;)r=r.left;return r}function wf(r){for(;r.right!==G;)r=r.right;return r}function Ef(r){return r===G?0:r.size_left+r.piece.length+Ef(r.right)}function Rf(r){return r===G?0:r.lf_left+r.piece.lineFeedCnt+Rf(r.right)}function Lf(){G.parent=G}function Fs(r,e){let t=e.right;t.size_left+=e.size_left+(e.piece?e.piece.length:0),t.lf_left+=e.lf_left+(e.piece?e.piece.lineFeedCnt:0),e.right=t.left,t.left!==G&&(t.left.parent=e),t.parent=e.parent,e.parent===G?r.root=t:e.parent.left===e?e.parent.left=t:e.parent.right=t,t.left=e,e.parent=t}function Us(r,e){let t=e.left;e.left=t.right,t.right!==G&&(t.right.parent=e),t.parent=e.parent,e.size_left-=t.size_left+(t.piece?t.piece.length:0),e.lf_left-=t.lf_left+(t.piece?t.piece.lineFeedCnt:0),e.parent===G?r.root=t:e===e.parent.right?e.parent.right=t:e.parent.left=t,t.right=e,e.parent=t}function zs(r,e){let t,n;if(e.left===G?(n=e,t=n.right):e.right===G?(n=e,t=n.left):(n=vu(e.right),t=n.right),n===r.root){r.root=t,t.color=0,e.detach(),Lf(),r.root.parent=G;return}let i=n.color===1;if(n===n.parent.left?n.parent.left=t:n.parent.right=t,n===e?(t.parent=n.parent,Bs(r,t)):(n.parent===e?t.parent=n:t.parent=n.parent,Bs(r,t),n.left=e.left,n.right=e.right,n.parent=e.parent,n.color=e.color,e===r.root?r.root=n:e===e.parent.left?e.parent.left=n:e.parent.right=n,n.left!==G&&(n.left.parent=n),n.right!==G&&(n.right.parent=n),n.size_left=e.size_left,n.lf_left=e.lf_left,Bs(r,n)),e.detach(),t.parent.left===t){let s=Ef(t),a=Rf(t);if(s!==t.parent.size_left||a!==t.parent.lf_left){let l=s-t.parent.size_left,u=a-t.parent.lf_left;t.parent.size_left=s,t.parent.lf_left=a,bn(r,t.parent,l,u)}}if(Bs(r,t.parent),i){Lf();return}let o;for(;t!==r.root&&t.color===0;)t===t.parent.left?(o=t.parent.right,o.color===1&&(o.color=0,t.parent.color=1,Fs(r,t.parent),o=t.parent.right),o.left.color===0&&o.right.color===0?(o.color=1,t=t.parent):(o.right.color===0&&(o.left.color=0,o.color=1,Us(r,o),o=t.parent.right),o.color=t.parent.color,t.parent.color=0,o.right.color=0,Fs(r,t.parent),t=r.root)):(o=t.parent.left,o.color===1&&(o.color=0,t.parent.color=1,Us(r,t.parent),o=t.parent.left),o.left.color===0&&o.right.color===0?(o.color=1,t=t.parent):(o.left.color===0&&(o.right.color=0,o.color=1,Fs(r,o),o=t.parent.left),o.color=t.parent.color,t.parent.color=0,o.left.color=0,Us(r,t.parent),t=r.root));t.color=0,Lf()}function Df(r,e){for(Bs(r,e);e!==r.root&&e.parent.color===1;)if(e.parent===e.parent.parent.left){let t=e.parent.parent.right;t.color===1?(e.parent.color=0,t.color=0,e.parent.parent.color=1,e=e.parent.parent):(e===e.parent.right&&(e=e.parent,Fs(r,e)),e.parent.color=0,e.parent.parent.color=1,Us(r,e.parent.parent))}else{let t=e.parent.parent.left;t.color===1?(e.parent.color=0,t.color=0,e.parent.parent.color=1,e=e.parent.parent):(e===e.parent.left&&(e=e.parent,Us(r,e)),e.parent.color=0,e.parent.parent.color=1,Fs(r,e.parent.parent))}r.root.color=0}function bn(r,e,t,n){for(;e!==r.root&&e!==G;)e.parent.left===e&&(e.parent.size_left+=t,e.parent.lf_left+=n),e=e.parent}function Bs(r,e){let t=0,n=0;if(e!==r.root){for(;e!==r.root&&e===e.parent.right;)e=e.parent;if(e!==r.root)for(e=e.parent,t=Ef(e.left)-e.size_left,n=Rf(e.left)-e.lf_left,e.size_left+=t,e.lf_left+=n;e!==r.root&&(t!==0||n!==0);)e.parent.left===e&&(e.parent.size_left+=t,e.parent.lf_left+=n),e=e.parent}}var Gn=65535;function g1(r){let e;return r[r.length-1]<65536?e=new Uint16Array(r.length):e=new Uint32Array(r.length),e.set(r,0),e}var Af=class{constructor(e,t,n,i,o){this.lineStarts=e;this.cr=t;this.lf=n;this.crlf=i;this.isBasicASCII=o}};function vn(r,e=!0){let t=[0],n=1;for(let i=0,o=r.length;i<o;i++){let s=r.charCodeAt(i);s===13?i+1<o&&r.charCodeAt(i+1)===10?(t[n++]=i+2,i++):t[n++]=i+1:s===10&&(t[n++]=i+1)}return e?g1(t):t}function f1(r,e){r.length=0,r[0]=0;let t=1,n=0,i=0,o=0,s=!0;for(let l=0,u=e.length;l<u;l++){let d=e.charCodeAt(l);d===13?l+1<u&&e.charCodeAt(l+1)===10?(o++,r[t++]=l+2,l++):(n++,r[t++]=l+1):d===10?(i++,r[t++]=l+1):s&&d!==9&&(d<32||d>126)&&(s=!1)}let a=new Af(g1(r),n,i,o,s);return r.length=0,a}var st=class{bufferIndex;start;end;length;lineFeedCnt;constructor(e,t,n,i,o){this.bufferIndex=e,this.start=t,this.end=n,this.lineFeedCnt=i,this.length=o}},yn=class{buffer;lineStarts;constructor(e,t){this.buffer=e,this.lineStarts=t}},Nf=class{_pieces;_index;_tree;_BOM;constructor(e,t){this._pieces=[],this._tree=e,this._BOM=t,this._index=0,e.root!==G&&e.iterate(e.root,n=>(n!==G&&this._pieces.push(n.piece),!0))}read(){return this._pieces.length===0?this._index===0?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:this._index===0?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}},Mf=class{_limit;_cache;constructor(e){this._limit=e,this._cache=[]}get(e){for(let t=this._cache.length-1;t>=0;t--){let n=this._cache[t];if(n.nodeStartOffset<=e&&n.nodeStartOffset+n.node.piece.length>=e)return n}return null}get2(e){for(let t=this._cache.length-1;t>=0;t--){let n=this._cache[t];if(n.nodeStartLineNumber&&n.nodeStartLineNumber<e&&n.nodeStartLineNumber+n.node.piece.lineFeedCnt>=e)return n}return null}set(e){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(e)}validate(e){let t=!1,n=this._cache;for(let i=0;i<n.length;i++){let o=n[i];if(o.node.parent===null||o.nodeStartOffset>=e){n[i]=null,t=!0;continue}}if(t){let i=[];for(let o of n)o!==null&&i.push(o);this._cache=i}}},yu=class{root;_buffers;_lineCnt;_length;_EOL;_EOLLength;_EOLNormalized;_lastChangeBufferPos;_searchCache;_lastVisitedLine;constructor(e,t,n){this.create(e,t,n)}create(e,t,n){this._buffers=[new yn("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=G,this._lineCnt=1,this._length=0,this._EOL=t,this._EOLLength=t.length,this._EOLNormalized=n;let i=null;for(let o=0,s=e.length;o<s;o++)if(e[o].buffer.length>0){e[o].lineStarts||(e[o].lineStarts=vn(e[o].buffer));let a=new st(o+1,{line:0,column:0},{line:e[o].lineStarts.length-1,column:e[o].buffer.length-e[o].lineStarts[e[o].lineStarts.length-1]},e[o].lineStarts.length-1,e[o].buffer.length);this._buffers.push(e[o]),i=this.rbInsertRight(i,a)}this._searchCache=new Mf(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(e){let t=Gn,n=t-Math.floor(t/3),i=n*2,o="",s=0,a=[];if(this.iterate(this.root,l=>{let u=this.getNodeContent(l),d=u.length;if(s<=n||s+d<i)return o+=u,s+=d,!0;let g=o.replace(/\r\n|\r|\n/g,e);return a.push(new yn(g,vn(g))),o=u,s=d,!0}),s>0){let l=o.replace(/\r\n|\r|\n/g,e);a.push(new yn(l,vn(l)))}this.create(a,e,!0)}getEOL(){return this._EOL}setEOL(e){this._EOL=e,this._EOLLength=this._EOL.length,this.normalizeEOL(e)}createSnapshot(e){return new Nf(this,e)}equal(e){if(this.getLength()!==e.getLength()||this.getLineCount()!==e.getLineCount())return!1;let t=0;return this.iterate(this.root,i=>{if(i===G)return!0;let o=this.getNodeContent(i),s=o.length,a=e.nodeAt(t),l=e.nodeAt(t+s),u=e.getValueInRange2(a,l);return t+=s,o===u})}getOffsetAt(e,t){let n=0,i=this.root;for(;i!==G;)if(i.left!==G&&i.lf_left+1>=e)i=i.left;else if(i.lf_left+i.piece.lineFeedCnt+1>=e){n+=i.size_left;let o=this.getAccumulatedValue(i,e-i.lf_left-2);return n+=o+t-1}else e-=i.lf_left+i.piece.lineFeedCnt,n+=i.size_left+i.piece.length,i=i.right;return n}getPositionAt(e){e=Math.floor(e),e=Math.max(0,e);let t=this.root,n=0,i=e;for(;t!==G;)if(t.size_left!==0&&t.size_left>=e)t=t.left;else if(t.size_left+t.piece.length>=e){let o=this.getIndexOf(t,e-t.size_left);if(n+=t.lf_left+o.index,o.index===0){let s=this.getOffsetAt(n+1,1),a=i-s;return new $(n+1,a+1)}return new $(n+1,o.remainder+1)}else if(e-=t.size_left+t.piece.length,n+=t.lf_left+t.piece.lineFeedCnt,t.right===G){let o=this.getOffsetAt(n+1,1),s=i-e-o;return new $(n+1,s+1)}else t=t.right;return new $(1,1)}getValueInRange(e,t){if(e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn)return"";let n=this.nodeAt2(e.startLineNumber,e.startColumn),i=this.nodeAt2(e.endLineNumber,e.endColumn),o=this.getValueInRange2(n,i);return t?t!==this._EOL||!this._EOLNormalized?o.replace(/\r\n|\r|\n/g,t):t===this.getEOL()&&this._EOLNormalized?o:o.replace(/\r\n|\r|\n/g,t):o}getValueInRange2(e,t){if(e.node===t.node){let a=e.node,l=this._buffers[a.piece.bufferIndex].buffer,u=this.offsetInBuffer(a.piece.bufferIndex,a.piece.start);return l.substring(u+e.remainder,u+t.remainder)}let n=e.node,i=this._buffers[n.piece.bufferIndex].buffer,o=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start),s=i.substring(o+e.remainder,o+n.piece.length);for(n=n.next();n!==G;){let a=this._buffers[n.piece.bufferIndex].buffer,l=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);if(n===t.node){s+=a.substring(l,l+t.remainder);break}else s+=a.substr(l,n.piece.length);n=n.next()}return s}getLinesContent(){let e=[],t=0,n="",i=!1;return this.iterate(this.root,o=>{if(o===G)return!0;let s=o.piece,a=s.length;if(a===0)return!0;let l=this._buffers[s.bufferIndex].buffer,u=this._buffers[s.bufferIndex].lineStarts,d=s.start.line,g=s.end.line,h=u[d]+s.start.column;if(i&&(l.charCodeAt(h)===10&&(h++,a--),e[t++]=n,n="",i=!1,a===0))return!0;if(d===g)return!this._EOLNormalized&&l.charCodeAt(h+a-1)===13?(i=!0,n+=l.substr(h,a-1)):n+=l.substr(h,a),!0;n+=this._EOLNormalized?l.substring(h,Math.max(h,u[d+1]-this._EOLLength)):l.substring(h,u[d+1]).replace(/(\r\n|\r|\n)$/,""),e[t++]=n;for(let p=d+1;p<g;p++)n=this._EOLNormalized?l.substring(u[p],u[p+1]-this._EOLLength):l.substring(u[p],u[p+1]).replace(/(\r\n|\r|\n)$/,""),e[t++]=n;return!this._EOLNormalized&&l.charCodeAt(u[g]+s.end.column-1)===13?(i=!0,s.end.column===0?t--:n=l.substr(u[g],s.end.column-1)):n=l.substr(u[g],s.end.column),!0}),i&&(e[t++]=n,n=""),e[t++]=n,e}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(e){return this._lastVisitedLine.lineNumber===e?this._lastVisitedLine.value:(this._lastVisitedLine.lineNumber=e,e===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(e):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(e,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(e).replace(/(\r\n|\r|\n)$/,""),this._lastVisitedLine.value)}_getCharCode(e){if(e.remainder===e.node.piece.length){let t=e.node.next();if(!t)return 0;let n=this._buffers[t.piece.bufferIndex],i=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start);return n.buffer.charCodeAt(i)}else{let t=this._buffers[e.node.piece.bufferIndex],i=this.offsetInBuffer(e.node.piece.bufferIndex,e.node.piece.start)+e.remainder;return t.buffer.charCodeAt(i)}}getLineCharCode(e,t){let n=this.nodeAt2(e,t+1);return this._getCharCode(n)}getLineLength(e){if(e===this.getLineCount()){let t=this.getOffsetAt(e,1);return this.getLength()-t}return this.getOffsetAt(e+1,1)-this.getOffsetAt(e,1)-this._EOLLength}getCharCode(e){let t=this.nodeAt(e);return this._getCharCode(t)}getNearestChunk(e){let t=this.nodeAt(e);if(t.remainder===t.node.piece.length){let n=t.node.next();if(!n||n===G)return"";let i=this._buffers[n.piece.bufferIndex],o=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);return i.buffer.substring(o,o+n.piece.length)}else{let n=this._buffers[t.node.piece.bufferIndex],i=this.offsetInBuffer(t.node.piece.bufferIndex,t.node.piece.start),o=i+t.remainder,s=i+t.node.piece.length;return n.buffer.substring(o,s)}}findMatchesInNode(e,t,n,i,o,s,a,l,u,d,g){let h=this._buffers[e.piece.bufferIndex],p=this.offsetInBuffer(e.piece.bufferIndex,e.piece.start),b=this.offsetInBuffer(e.piece.bufferIndex,o),m=this.offsetInBuffer(e.piece.bufferIndex,s),y,I={line:0,column:0},k,C;t._wordSeparators?(k=h.buffer.substring(b,m),C=T=>T+b,t.reset(0)):(k=h.buffer,C=T=>T,t.reset(b));do if(y=t.next(k),y){if(C(y.index)>=m)return d;this.positionInBuffer(e,C(y.index)-p,I);let T=this.getLineFeedCnt(e.piece.bufferIndex,o,I),S=I.line===o.line?I.column-o.column+i:I.column+1,E=S+y[0].length;if(g[d++]=wr(new R(n+T,S,n+T,E),y,l),C(y.index)+y[0].length>=m||d>=u)return d}while(y);return d}findMatchesLineByLine(e,t,n,i){let o=[],s=0,a=new xn(t.wordSeparators,t.regex),l=this.nodeAt2(e.startLineNumber,e.startColumn);if(l===null)return[];let u=this.nodeAt2(e.endLineNumber,e.endColumn);if(u===null)return[];let d=this.positionInBuffer(l.node,l.remainder),g=this.positionInBuffer(u.node,u.remainder);if(l.node===u.node)return this.findMatchesInNode(l.node,a,e.startLineNumber,e.startColumn,d,g,t,n,i,s,o),o;let h=e.startLineNumber,p=l.node;for(;p!==u.node;){let m=this.getLineFeedCnt(p.piece.bufferIndex,d,p.piece.end);if(m>=1){let I=this._buffers[p.piece.bufferIndex].lineStarts,k=this.offsetInBuffer(p.piece.bufferIndex,p.piece.start),C=I[d.line+m],T=h===e.startLineNumber?e.startColumn:1;if(s=this.findMatchesInNode(p,a,h,T,d,this.positionInBuffer(p,C-k),t,n,i,s,o),s>=i)return o;h+=m}let y=h===e.startLineNumber?e.startColumn-1:0;if(h===e.endLineNumber){let I=this.getLineContent(h).substring(y,e.endColumn-1);return s=this._findMatchesInLine(t,a,I,e.endLineNumber,y,s,o,n,i),o}if(s=this._findMatchesInLine(t,a,this.getLineContent(h).substr(y),h,y,s,o,n,i),s>=i)return o;h++,l=this.nodeAt2(h,1),p=l.node,d=this.positionInBuffer(l.node,l.remainder)}if(h===e.endLineNumber){let m=h===e.startLineNumber?e.startColumn-1:0,y=this.getLineContent(h).substring(m,e.endColumn-1);return s=this._findMatchesInLine(t,a,y,e.endLineNumber,m,s,o,n,i),o}let b=h===e.startLineNumber?e.startColumn:1;return s=this.findMatchesInNode(u.node,a,h,b,d,g,t,n,i,s,o),o}_findMatchesInLine(e,t,n,i,o,s,a,l,u){let d=e.wordSeparators;if(!l&&e.simpleSearch){let h=e.simpleSearch,p=h.length,b=n.length,m=-p;for(;(m=n.indexOf(h,m+p))!==-1;)if((!d||xu(d,n,b,m,p))&&(a[s++]=new Tr(new R(i,m+1+o,i,m+1+p+o),null),s>=u))return s;return s}let g;t.reset(0);do if(g=t.next(n),g&&(a[s++]=wr(new R(i,g.index+1+o,i,g.index+1+g[0].length+o),g,l),s>=u))return s;while(g);return s}insert(e,t,n=!1){if(this._EOLNormalized=this._EOLNormalized&&n,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==G){let{node:i,remainder:o,nodeStartOffset:s}=this.nodeAt(e),a=i.piece,l=a.bufferIndex,u=this.positionInBuffer(i,o);if(i.piece.bufferIndex===0&&a.end.line===this._lastChangeBufferPos.line&&a.end.column===this._lastChangeBufferPos.column&&s+a.length===e&&t.length<Gn){this.appendToNode(i,t),this.computeBufferMetadata();return}if(s===e)this.insertContentToNodeLeft(t,i),this._searchCache.validate(e);else if(s+i.piece.length>e){let d=[],g=new st(a.bufferIndex,u,a.end,this.getLineFeedCnt(a.bufferIndex,u,a.end),this.offsetInBuffer(l,a.end)-this.offsetInBuffer(l,u));if(this.shouldCheckCRLF()&&this.endWithCR(t)&&this.nodeCharCodeAt(i,o)===10){let m={line:g.start.line+1,column:0};g=new st(g.bufferIndex,m,g.end,this.getLineFeedCnt(g.bufferIndex,m,g.end),g.length-1),t+=`
`}if(this.shouldCheckCRLF()&&this.startWithLF(t))if(this.nodeCharCodeAt(i,o-1)===13){let m=this.positionInBuffer(i,o-1);this.deleteNodeTail(i,m),t="\r"+t,i.piece.length===0&&d.push(i)}else this.deleteNodeTail(i,u);else this.deleteNodeTail(i,u);let h=this.createNewPieces(t);g.length>0&&this.rbInsertRight(i,g);let p=i;for(let b=0;b<h.length;b++)p=this.rbInsertRight(p,h[b]);this.deleteNodes(d)}else this.insertContentToNodeRight(t,i)}else{let i=this.createNewPieces(t),o=this.rbInsertLeft(null,i[0]);for(let s=1;s<i.length;s++)o=this.rbInsertRight(o,i[s])}this.computeBufferMetadata()}delete(e,t){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",t<=0||this.root===G)return;let n=this.nodeAt(e),i=this.nodeAt(e+t),o=n.node,s=i.node;if(o===s){let h=this.positionInBuffer(o,n.remainder),p=this.positionInBuffer(o,i.remainder);if(n.nodeStartOffset===e){if(t===o.piece.length){let b=o.next();zs(this,o),this.validateCRLFWithPrevNode(b),this.computeBufferMetadata();return}this.deleteNodeHead(o,p),this._searchCache.validate(e),this.validateCRLFWithPrevNode(o),this.computeBufferMetadata();return}if(n.nodeStartOffset+o.piece.length===e+t){this.deleteNodeTail(o,h),this.validateCRLFWithNextNode(o),this.computeBufferMetadata();return}this.shrinkNode(o,h,p),this.computeBufferMetadata();return}let a=[],l=this.positionInBuffer(o,n.remainder);this.deleteNodeTail(o,l),this._searchCache.validate(e),o.piece.length===0&&a.push(o);let u=this.positionInBuffer(s,i.remainder);this.deleteNodeHead(s,u),s.piece.length===0&&a.push(s);let d=o.next();for(let h=d;h!==G&&h!==s;h=h.next())a.push(h);let g=o.piece.length===0?o.prev():o;this.deleteNodes(a),this.validateCRLFWithNextNode(g),this.computeBufferMetadata()}insertContentToNodeLeft(e,t){let n=[];if(this.shouldCheckCRLF()&&this.endWithCR(e)&&this.startWithLF(t)){let s=t.piece,a={line:s.start.line+1,column:0},l=new st(s.bufferIndex,a,s.end,this.getLineFeedCnt(s.bufferIndex,a,s.end),s.length-1);t.piece=l,e+=`
`,bn(this,t,-1,-1),t.piece.length===0&&n.push(t)}let i=this.createNewPieces(e),o=this.rbInsertLeft(t,i[i.length-1]);for(let s=i.length-2;s>=0;s--)o=this.rbInsertLeft(o,i[s]);this.validateCRLFWithPrevNode(o),this.deleteNodes(n)}insertContentToNodeRight(e,t){this.adjustCarriageReturnFromNext(e,t)&&(e+=`
`);let n=this.createNewPieces(e),i=this.rbInsertRight(t,n[0]),o=i;for(let s=1;s<n.length;s++)o=this.rbInsertRight(o,n[s]);this.validateCRLFWithPrevNode(i)}positionInBuffer(e,t,n){let i=e.piece,o=e.piece.bufferIndex,s=this._buffers[o].lineStarts,l=s[i.start.line]+i.start.column+t,u=i.start.line,d=i.end.line,g=0,h=0,p=0;for(;u<=d&&(g=u+(d-u)/2|0,p=s[g],g!==d);)if(h=s[g+1],l<p)d=g-1;else if(l>=h)u=g+1;else break;return n?(n.line=g,n.column=l-p,null):{line:g,column:l-p}}getLineFeedCnt(e,t,n){if(n.column===0)return n.line-t.line;let i=this._buffers[e].lineStarts;if(n.line===i.length-1)return n.line-t.line;let o=i[n.line+1],s=i[n.line]+n.column;if(o>s+1)return n.line-t.line;let a=s-1;return this._buffers[e].buffer.charCodeAt(a)===13?n.line-t.line+1:n.line-t.line}offsetInBuffer(e,t){return this._buffers[e].lineStarts[t.line]+t.column}deleteNodes(e){for(let t=0;t<e.length;t++)zs(this,e[t])}createNewPieces(e){if(e.length>Gn){let d=[];for(;e.length>Gn;){let h=e.charCodeAt(Gn-1),p;h===13||h>=55296&&h<=56319?(p=e.substring(0,Gn-1),e=e.substring(Gn-1)):(p=e.substring(0,Gn),e=e.substring(Gn));let b=vn(p);d.push(new st(this._buffers.length,{line:0,column:0},{line:b.length-1,column:p.length-b[b.length-1]},b.length-1,p.length)),this._buffers.push(new yn(p,b))}let g=vn(e);return d.push(new st(this._buffers.length,{line:0,column:0},{line:g.length-1,column:e.length-g[g.length-1]},g.length-1,e.length)),this._buffers.push(new yn(e,g)),d}let t=this._buffers[0].buffer.length,n=vn(e,!1),i=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===t&&t!==0&&this.startWithLF(e)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},i=this._lastChangeBufferPos;for(let d=0;d<n.length;d++)n[d]+=t+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(n.slice(1)),this._buffers[0].buffer+="_"+e,t+=1}else{if(t!==0)for(let d=0;d<n.length;d++)n[d]+=t;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(n.slice(1)),this._buffers[0].buffer+=e}let o=this._buffers[0].buffer.length,s=this._buffers[0].lineStarts.length-1,a=o-this._buffers[0].lineStarts[s],l={line:s,column:a},u=new st(0,i,l,this.getLineFeedCnt(0,i,l),o-t);return this._lastChangeBufferPos=l,[u]}getLinesRawContent(){return this.getContentOfSubTree(this.root)}getLineRawContent(e,t=0){let n=this.root,i="",o=this._searchCache.get2(e);if(o){n=o.node;let s=this.getAccumulatedValue(n,e-o.nodeStartLineNumber-1),a=this._buffers[n.piece.bufferIndex].buffer,l=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);if(o.nodeStartLineNumber+n.piece.lineFeedCnt===e)i=a.substring(l+s,l+n.piece.length);else{let u=this.getAccumulatedValue(n,e-o.nodeStartLineNumber);return a.substring(l+s,l+u-t)}}else{let s=0,a=e;for(;n!==G;)if(n.left!==G&&n.lf_left>=e-1)n=n.left;else if(n.lf_left+n.piece.lineFeedCnt>e-1){let l=this.getAccumulatedValue(n,e-n.lf_left-2),u=this.getAccumulatedValue(n,e-n.lf_left-1),d=this._buffers[n.piece.bufferIndex].buffer,g=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);return s+=n.size_left,this._searchCache.set({node:n,nodeStartOffset:s,nodeStartLineNumber:a-(e-1-n.lf_left)}),d.substring(g+l,g+u-t)}else if(n.lf_left+n.piece.lineFeedCnt===e-1){let l=this.getAccumulatedValue(n,e-n.lf_left-2),u=this._buffers[n.piece.bufferIndex].buffer,d=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);i=u.substring(d+l,d+n.piece.length);break}else e-=n.lf_left+n.piece.lineFeedCnt,s+=n.size_left+n.piece.length,n=n.right}for(n=n.next();n!==G;){let s=this._buffers[n.piece.bufferIndex].buffer;if(n.piece.lineFeedCnt>0){let a=this.getAccumulatedValue(n,0),l=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);return i+=s.substring(l,l+a-t),i}else{let a=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);i+=s.substr(a,n.piece.length)}n=n.next()}return i}computeBufferMetadata(){let e=this.root,t=1,n=0;for(;e!==G;)t+=e.lf_left+e.piece.lineFeedCnt,n+=e.size_left+e.piece.length,e=e.right;this._lineCnt=t,this._length=n,this._searchCache.validate(this._length)}getIndexOf(e,t){let n=e.piece,i=this.positionInBuffer(e,t),o=i.line-n.start.line;if(this.offsetInBuffer(n.bufferIndex,n.end)-this.offsetInBuffer(n.bufferIndex,n.start)===t){let s=this.getLineFeedCnt(e.piece.bufferIndex,n.start,i);if(s!==o)return{index:s,remainder:0}}return{index:o,remainder:i.column}}getAccumulatedValue(e,t){if(t<0)return 0;let n=e.piece,i=this._buffers[n.bufferIndex].lineStarts,o=n.start.line+t+1;return o>n.end.line?i[n.end.line]+n.end.column-i[n.start.line]-n.start.column:i[o]-i[n.start.line]-n.start.column}deleteNodeTail(e,t){let n=e.piece,i=n.lineFeedCnt,o=this.offsetInBuffer(n.bufferIndex,n.end),s=t,a=this.offsetInBuffer(n.bufferIndex,s),l=this.getLineFeedCnt(n.bufferIndex,n.start,s),u=l-i,d=a-o,g=n.length+d;e.piece=new st(n.bufferIndex,n.start,s,l,g),bn(this,e,d,u)}deleteNodeHead(e,t){let n=e.piece,i=n.lineFeedCnt,o=this.offsetInBuffer(n.bufferIndex,n.start),s=t,a=this.getLineFeedCnt(n.bufferIndex,s,n.end),l=this.offsetInBuffer(n.bufferIndex,s),u=a-i,d=o-l,g=n.length+d;e.piece=new st(n.bufferIndex,s,n.end,a,g),bn(this,e,d,u)}shrinkNode(e,t,n){let i=e.piece,o=i.start,s=i.end,a=i.length,l=i.lineFeedCnt,u=t,d=this.getLineFeedCnt(i.bufferIndex,i.start,u),g=this.offsetInBuffer(i.bufferIndex,t)-this.offsetInBuffer(i.bufferIndex,o);e.piece=new st(i.bufferIndex,i.start,u,d,g),bn(this,e,g-a,d-l);let h=new st(i.bufferIndex,n,s,this.getLineFeedCnt(i.bufferIndex,n,s),this.offsetInBuffer(i.bufferIndex,s)-this.offsetInBuffer(i.bufferIndex,n)),p=this.rbInsertRight(e,h);this.validateCRLFWithPrevNode(p)}appendToNode(e,t){this.adjustCarriageReturnFromNext(t,e)&&(t+=`
`);let n=this.shouldCheckCRLF()&&this.startWithLF(t)&&this.endWithCR(e),i=this._buffers[0].buffer.length;this._buffers[0].buffer+=t;let o=vn(t,!1);for(let p=0;p<o.length;p++)o[p]+=i;if(n){let p=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:i-p}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(o.slice(1));let s=this._buffers[0].lineStarts.length-1,a=this._buffers[0].buffer.length-this._buffers[0].lineStarts[s],l={line:s,column:a},u=e.piece.length+t.length,d=e.piece.lineFeedCnt,g=this.getLineFeedCnt(0,e.piece.start,l),h=g-d;e.piece=new st(e.piece.bufferIndex,e.piece.start,l,g,u),this._lastChangeBufferPos=l,bn(this,e,t.length,h)}nodeAt(e){let t=this.root,n=this._searchCache.get(e);if(n)return{node:n.node,nodeStartOffset:n.nodeStartOffset,remainder:e-n.nodeStartOffset};let i=0;for(;t!==G;)if(t.size_left>e)t=t.left;else if(t.size_left+t.piece.length>=e){i+=t.size_left;let o={node:t,remainder:e-t.size_left,nodeStartOffset:i};return this._searchCache.set(o),o}else e-=t.size_left+t.piece.length,i+=t.size_left+t.piece.length,t=t.right;return null}nodeAt2(e,t){let n=this.root,i=0;for(;n!==G;)if(n.left!==G&&n.lf_left>=e-1)n=n.left;else if(n.lf_left+n.piece.lineFeedCnt>e-1){let o=this.getAccumulatedValue(n,e-n.lf_left-2),s=this.getAccumulatedValue(n,e-n.lf_left-1);return i+=n.size_left,{node:n,remainder:Math.min(o+t-1,s),nodeStartOffset:i}}else if(n.lf_left+n.piece.lineFeedCnt===e-1){let o=this.getAccumulatedValue(n,e-n.lf_left-2);if(o+t-1<=n.piece.length)return{node:n,remainder:o+t-1,nodeStartOffset:i};t-=n.piece.length-o;break}else e-=n.lf_left+n.piece.lineFeedCnt,i+=n.size_left+n.piece.length,n=n.right;for(n=n.next();n!==G;){if(n.piece.lineFeedCnt>0){let o=this.getAccumulatedValue(n,0),s=this.offsetOfNode(n);return{node:n,remainder:Math.min(t-1,o),nodeStartOffset:s}}else if(n.piece.length>=t-1){let o=this.offsetOfNode(n);return{node:n,remainder:t-1,nodeStartOffset:o}}else t-=n.piece.length;n=n.next()}return null}nodeCharCodeAt(e,t){if(e.piece.lineFeedCnt<1)return-1;let n=this._buffers[e.piece.bufferIndex],i=this.offsetInBuffer(e.piece.bufferIndex,e.piece.start)+t;return n.buffer.charCodeAt(i)}offsetOfNode(e){if(!e)return 0;let t=e.size_left;for(;e!==this.root;)e.parent.right===e&&(t+=e.parent.size_left+e.parent.piece.length),e=e.parent;return t}shouldCheckCRLF(){return!(this._EOLNormalized&&this._EOL===`
`)}startWithLF(e){if(typeof e=="string")return e.charCodeAt(0)===10;if(e===G||e.piece.lineFeedCnt===0)return!1;let t=e.piece,n=this._buffers[t.bufferIndex].lineStarts,i=t.start.line,o=n[i]+t.start.column;return i===n.length-1||n[i+1]>o+1?!1:this._buffers[t.bufferIndex].buffer.charCodeAt(o)===10}endWithCR(e){return typeof e=="string"?e.charCodeAt(e.length-1)===13:e===G||e.piece.lineFeedCnt===0?!1:this.nodeCharCodeAt(e,e.piece.length-1)===13}validateCRLFWithPrevNode(e){if(this.shouldCheckCRLF()&&this.startWithLF(e)){let t=e.prev();this.endWithCR(t)&&this.fixCRLF(t,e)}}validateCRLFWithNextNode(e){if(this.shouldCheckCRLF()&&this.endWithCR(e)){let t=e.next();this.startWithLF(t)&&this.fixCRLF(e,t)}}fixCRLF(e,t){let n=[],i=this._buffers[e.piece.bufferIndex].lineStarts,o;e.piece.end.column===0?o={line:e.piece.end.line-1,column:i[e.piece.end.line]-i[e.piece.end.line-1]-1}:o={line:e.piece.end.line,column:e.piece.end.column-1};let s=e.piece.length-1,a=e.piece.lineFeedCnt-1;e.piece=new st(e.piece.bufferIndex,e.piece.start,o,a,s),bn(this,e,-1,-1),e.piece.length===0&&n.push(e);let l={line:t.piece.start.line+1,column:0},u=t.piece.length-1,d=this.getLineFeedCnt(t.piece.bufferIndex,l,t.piece.end);t.piece=new st(t.piece.bufferIndex,l,t.piece.end,d,u),bn(this,t,-1,-1),t.piece.length===0&&n.push(t);let g=this.createNewPieces(`\r
`);this.rbInsertRight(e,g[0]);for(let h=0;h<n.length;h++)zs(this,n[h])}adjustCarriageReturnFromNext(e,t){if(this.shouldCheckCRLF()&&this.endWithCR(e)){let n=t.next();if(this.startWithLF(n)){if(e+=`
`,n.piece.length===1)zs(this,n);else{let i=n.piece,o={line:i.start.line+1,column:0},s=i.length-1,a=this.getLineFeedCnt(i.bufferIndex,o,i.end);n.piece=new st(i.bufferIndex,o,i.end,a,s),bn(this,n,-1,-1)}return!0}}return!1}iterate(e,t){if(e===G)return t(G);let n=this.iterate(e.left,t);return n&&t(e)&&this.iterate(e.right,t)}getNodeContent(e){if(e===G)return"";let t=this._buffers[e.piece.bufferIndex],n=e.piece,i=this.offsetInBuffer(n.bufferIndex,n.start),o=this.offsetInBuffer(n.bufferIndex,n.end);return t.buffer.substring(i,o)}getPieceContent(e){let t=this._buffers[e.bufferIndex],n=this.offsetInBuffer(e.bufferIndex,e.start),i=this.offsetInBuffer(e.bufferIndex,e.end);return t.buffer.substring(n,i)}rbInsertRight(e,t){let n=new po(t,1);if(n.left=G,n.right=G,n.parent=G,n.size_left=0,n.lf_left=0,this.root===G)this.root=n,n.color=0;else if(e.right===G)e.right=n,n.parent=e;else{let o=vu(e.right);o.left=n,n.parent=o}return Df(this,n),n}rbInsertLeft(e,t){let n=new po(t,1);if(n.left=G,n.right=G,n.parent=G,n.size_left=0,n.lf_left=0,this.root===G)this.root=n,n.color=0;else if(e.left===G)e.left=n,n.parent=e;else{let i=wf(e.left);i.right=n,n.parent=i}return Df(this,n),n}getContentOfSubTree(e){let t="";return this.iterate(e,n=>(t+=this.getNodeContent(n),!0)),t}};var mo=class r extends oe{_pieceTree;_BOM;_mightContainRTL;_mightContainUnusualLineTerminators;_mightContainNonBasicASCII;_onDidChangeContent=this._register(new U);onDidChangeContent=this._onDidChangeContent.event;constructor(e,t,n,i,o,s,a){super(),this._BOM=t,this._mightContainNonBasicASCII=!s,this._mightContainRTL=i,this._mightContainUnusualLineTerminators=o,this._pieceTree=new yu(e,n,a)}equals(e){return!(e instanceof r)||this._BOM!==e._BOM||this.getEOL()!==e.getEOL()?!1:this._pieceTree.equal(e._pieceTree)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(e){return this._pieceTree.createSnapshot(e?this._BOM:"")}getOffsetAt(e,t){return this._pieceTree.getOffsetAt(e,t)}getPositionAt(e){return this._pieceTree.getPositionAt(e)}getRangeAt(e,t){let n=e+t,i=this.getPositionAt(e),o=this.getPositionAt(n);return new R(i.lineNumber,i.column,o.lineNumber,o.column)}getValueInRange(e,t=0){if(e.isEmpty())return"";let n=this._getEndOfLine(t);return this._pieceTree.getValueInRange(e,n)}getValueLengthInRange(e,t=0){if(e.isEmpty())return 0;if(e.startLineNumber===e.endLineNumber)return e.endColumn-e.startColumn;let n=this.getOffsetAt(e.startLineNumber,e.startColumn),i=this.getOffsetAt(e.endLineNumber,e.endColumn),o=0,s=this._getEndOfLine(t),a=this.getEOL();if(s.length!==a.length){let l=s.length-a.length,u=e.endLineNumber-e.startLineNumber;o=l*u}return i-n+o}getCharacterCountInRange(e,t=0){if(this._mightContainNonBasicASCII){let n=0,i=e.startLineNumber,o=e.endLineNumber;for(let s=i;s<=o;s++){let a=this.getLineContent(s),l=s===i?e.startColumn-1:0,u=s===o?e.endColumn-1:a.length;for(let d=l;d<u;d++)rt(a.charCodeAt(d))?(n=n+1,d=d+1):n=n+1}return n+=this._getEndOfLine(t).length*(o-i),n}return this.getValueLengthInRange(e,t)}getNearestChunk(e){return this._pieceTree.getNearestChunk(e)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(e){return this._pieceTree.getLineContent(e)}getLineCharCode(e,t){return this._pieceTree.getLineCharCode(e,t)}getCharCode(e){return this._pieceTree.getCharCode(e)}getLineLength(e){return this._pieceTree.getLineLength(e)}getLineMinColumn(e){return 1}getLineMaxColumn(e){return this.getLineLength(e)+1}getLineFirstNonWhitespaceColumn(e){let t=ln(this.getLineContent(e));return t===-1?0:t+1}getLineLastNonWhitespaceColumn(e){let t=Ua(this.getLineContent(e));return t===-1?0:t+2}_getEndOfLine(e){switch(e){case 1:return`
`;case 2:return`\r
`;case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(e){this._pieceTree.setEOL(e)}applyEdits(e,t,n){let i=this._mightContainRTL,o=this._mightContainUnusualLineTerminators,s=this._mightContainNonBasicASCII,a=!0,l=[];for(let m=0;m<e.length;m++){let y=e[m];a&&y._isTracked&&(a=!1);let I=y.range;if(y.text){let E=!0;s||(E=!Va(y.text),s=E),!i&&E&&(i=Wa(y.text)),!o&&E&&(o=Ha(y.text))}let k="",C=0,T=0,S=0;if(y.text){let E;[C,T,S,E]=pt(y.text);let D=this.getEOL(),A=D===`\r
`?2:1;E===0||E===A?k=y.text:k=y.text.replace(/\r\n|\r|\n/g,D)}l[m]={sortIndex:m,identifier:y.identifier||null,range:I,rangeOffset:this.getOffsetAt(I.startLineNumber,I.startColumn),rangeLength:this.getValueLengthInRange(I),text:k,eolCount:C,firstLineLength:T,lastLineLength:S,forceMoveMarkers:!!y.forceMoveMarkers,isAutoWhitespaceEdit:y.isAutoWhitespaceEdit||!1}}l.sort(r._sortOpsAscending);let u=!1;for(let m=0,y=l.length-1;m<y;m++){let I=l[m].range.getEndPosition(),k=l[m+1].range.getStartPosition();if(k.isBeforeOrEqual(I)){if(k.isBefore(I))throw new Error("Overlapping ranges are not allowed!");u=!0}}a&&(l=this._reduceOperations(l));let d=n||t?r._getInverseEditRanges(l):[],g=[];if(t)for(let m=0;m<l.length;m++){let y=l[m],I=d[m];if(y.isAutoWhitespaceEdit&&y.range.isEmpty())for(let k=I.startLineNumber;k<=I.endLineNumber;k++){let C="";k===I.startLineNumber&&(C=this.getLineContent(y.range.startLineNumber),ln(C)!==-1)||g.push({lineNumber:k,oldContent:C})}}let h=null;if(n){let m=0;h=[];for(let y=0;y<l.length;y++){let I=l[y],k=d[y],C=this.getValueInRange(I.range),T=I.rangeOffset+m;m+=I.text.length-C.length,h[y]={sortIndex:I.sortIndex,identifier:I.identifier,range:k,text:C,textChange:new It(I.rangeOffset,C,T,I.text)}}u||h.sort((y,I)=>y.sortIndex-I.sortIndex)}this._mightContainRTL=i,this._mightContainUnusualLineTerminators=o,this._mightContainNonBasicASCII=s;let p=this._doApplyEdits(l),b=null;if(t&&g.length>0){g.sort((m,y)=>y.lineNumber-m.lineNumber),b=[];for(let m=0,y=g.length;m<y;m++){let I=g[m].lineNumber;if(m>0&&g[m-1].lineNumber===I)continue;let k=g[m].oldContent,C=this.getLineContent(I);C.length===0||C===k||ln(C)!==-1||b.push(I)}}return this._onDidChangeContent.fire(),new ql(h,p,b)}_reduceOperations(e){return e.length<1e3?e:[this._toSingleEditOperation(e)]}_toSingleEditOperation(e){let t=!1,n=e[0].range,i=e[e.length-1].range,o=new R(n.startLineNumber,n.startColumn,i.endLineNumber,i.endColumn),s=n.startLineNumber,a=n.startColumn,l=[];for(let p=0,b=e.length;p<b;p++){let m=e[p],y=m.range;t=t||m.forceMoveMarkers,l.push(this.getValueInRange(new R(s,a,y.startLineNumber,y.startColumn))),m.text.length>0&&l.push(m.text),s=y.endLineNumber,a=y.endColumn}let u=l.join(""),[d,g,h]=pt(u);return{sortIndex:0,identifier:e[0].identifier,range:o,rangeOffset:this.getOffsetAt(o.startLineNumber,o.startColumn),rangeLength:this.getValueLengthInRange(o,0),text:u,eolCount:d,firstLineLength:g,lastLineLength:h,forceMoveMarkers:t,isAutoWhitespaceEdit:!1}}_doApplyEdits(e){e.sort(r._sortOpsDescending);let t=[];for(let n=0;n<e.length;n++){let i=e[n],o=i.range.startLineNumber,s=i.range.startColumn,a=i.range.endLineNumber,l=i.range.endColumn;if(o===a&&s===l&&i.text.length===0)continue;i.text?(this._pieceTree.delete(i.rangeOffset,i.rangeLength),this._pieceTree.insert(i.rangeOffset,i.text,!0)):this._pieceTree.delete(i.rangeOffset,i.rangeLength);let u=new R(o,s,a,l);t.push({range:u,rangeLength:i.rangeLength,text:i.text,rangeOffset:i.rangeOffset,forceMoveMarkers:i.forceMoveMarkers})}return t}findMatchesLineByLine(e,t,n,i){return this._pieceTree.findMatchesLineByLine(e,t,n,i)}getPieceTree(){return this._pieceTree}static _getInverseEditRange(e,t){let n=e.startLineNumber,i=e.startColumn,[o,s,a]=pt(t),l;if(t.length>0){let u=o+1;u===1?l=new R(n,i,n,i+s):l=new R(n,i,n+u-1,a+1)}else l=new R(n,i,n,i);return l}static _getInverseEditRanges(e){let t=[],n=0,i=0,o=null;for(let s=0,a=e.length;s<a;s++){let l=e[s],u,d;o?o.range.endLineNumber===l.range.startLineNumber?(u=n,d=i+(l.range.startColumn-o.range.endColumn)):(u=n+(l.range.startLineNumber-o.range.endLineNumber),d=l.range.startColumn):(u=l.range.startLineNumber,d=l.range.startColumn);let g;if(l.text.length>0){let h=l.eolCount+1;h===1?g=new R(u,d,u,d+l.firstLineLength):g=new R(u,d,u+h-1,l.lastLineLength+1)}else g=new R(u,d,u,d);n=g.endLineNumber,i=g.endColumn,t.push(g),o=l}return t}static _sortOpsAscending(e,t){let n=R.compareRangesUsingEnds(e.range,t.range);return n===0?e.sortIndex-t.sortIndex:n}static _sortOpsDescending(e,t){let n=R.compareRangesUsingEnds(e.range,t.range);return n===0?t.sortIndex-e.sortIndex:-n}};var Of=class{constructor(e,t,n,i,o,s,a,l,u){this._chunks=e;this._bom=t;this._cr=n;this._lf=i;this._crlf=o;this._containsRTL=s;this._containsUnusualLineTerminators=a;this._isBasicASCII=l;this._normalizeEOL=u}_getEOL(e){let t=this._cr+this._lf+this._crlf,n=this._cr+this._crlf;return t===0?e===1?`
`:`\r
`:n>t/2?`\r
`:`
`}create(e){let t=this._getEOL(e),n=this._chunks;if(this._normalizeEOL&&(t===`\r
`&&(this._cr>0||this._lf>0)||t===`
`&&(this._cr>0||this._crlf>0)))for(let o=0,s=n.length;o<s;o++){let a=n[o].buffer.replace(/\r\n|\r|\n/g,t),l=vn(a);n[o]=new yn(a,l)}let i=new mo(n,this._bom,t,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:i,disposable:i}}getFirstLineText(e){return this._chunks[0].buffer.substr(0,e).split(/\r\n|\r|\n/)[0]}},Ws=class{chunks;BOM;_hasPreviousChar;_previousChar;_tmpLineStarts;cr;lf;crlf;containsRTL;containsUnusualLineTerminators;isBasicASCII;constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(e){if(e.length===0)return;this.chunks.length===0&&Wp(e)&&(this.BOM=zp,e=e.substr(1));let t=e.charCodeAt(e.length-1);t===13||t>=55296&&t<=56319?(this._acceptChunk1(e.substr(0,e.length-1),!1),this._hasPreviousChar=!0,this._previousChar=t):(this._acceptChunk1(e,!1),this._hasPreviousChar=!1,this._previousChar=t)}_acceptChunk1(e,t){!t&&e.length===0||(this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+e):this._acceptChunk2(e))}_acceptChunk2(e){let t=f1(this._tmpLineStarts,e);this.chunks.push(new yn(e,t.lineStarts)),this.cr+=t.cr,this.lf+=t.lf,this.crlf+=t.crlf,t.isBasicASCII||(this.isBasicASCII=!1,this.containsRTL||(this.containsRTL=Wa(e)),this.containsUnusualLineTerminators||(this.containsUnusualLineTerminators=Ha(e)))}finish(e=!0){return this._finish(),new Of(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,e)}_finish(){if(this.chunks.length===0&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;let e=this.chunks[this.chunks.length-1];e.buffer+=String.fromCharCode(this._previousChar);let t=vn(e.buffer);e.lineStarts=t,this._previousChar===13&&this.cr++}}};var xI=new class{clone(){return this}equals(r){return this===r}};function p1(r,e){let t=new Uint32Array(2);return t[0]=0,t[1]=(r<<0|0|0|32768|2<<24)>>>0,new sl(t,e===null?xI:e)}var Iu=class{constructor(e){this._default=e}_store=[];get(e){return e<this._store.length?this._store[e]:this._default}set(e,t){for(;e>=this._store.length;)this._store[this._store.length]=this._default;this._store[e]=t}replace(e,t,n){if(e>=this._store.length)return;if(t===0){this.insert(e,n);return}else if(n===0){this.delete(e,t);return}let i=this._store.slice(0,e),o=this._store.slice(e+t),s=II(n,this._default);this._store=i.concat(s,o)}delete(e,t){t===0||e>=this._store.length||this._store.splice(e,t)}insert(e,t){if(t===0||e>=this._store.length)return;let n=[];for(let i=0;i<t;i++)n[i]=this._default;this._store=Mn(this._store,e,n)}};function II(r,e){let t=[];for(let n=0;n<r;n++)t[n]=e;return t}var ci=class{static deserialize(e){let t=0,n=Ge(e,t);t+=4;let i=[];for(let o=0;o<n;o++)t=Xo.deserialize(e,t,i);return i}_tokens;constructor(){this._tokens=[]}add(e,t){if(this._tokens.length>0){let n=this._tokens[this._tokens.length-1];if(n.endLineNumber+1===e){n.appendLineTokens(t);return}}this._tokens.push(new Xo(e,[t]))}finalize(){return this._tokens}serialize(){let e=this._serializeSize(),t=new Uint8Array(e);return this._serialize(t),t}_serializeSize(){let e=0;e+=4;for(let t=0;t<this._tokens.length;t++)e+=this._tokens[t].serializeSize();return e}_serialize(e){let t=0;je(e,this._tokens.length,t),t+=4;for(let n=0;n<this._tokens.length;n++)t=this._tokens[n].serialize(e,t)}};var Pf=class{constructor(e,t){this.tokenizationSupport=t;this.store=new vo(e)}initialState=this.tokenizationSupport.getInitialState();store;getStartState(e){return this.store.getStartState(e,this.initialState)}getFirstInvalidLine(){return this.store.getFirstInvalidLine(this.initialState)}},Tu=class extends Pf{constructor(t,n,i,o){super(t,n);this._textModel=i;this._languageIdCodec=o}updateTokensUntilLine(t,n){let i=this._textModel.getLanguageId();for(;;){let o=this.getFirstInvalidLine();if(!o||o.lineNumber>n)break;let s=this._textModel.getLineContent(o.lineNumber),a=bo(this._languageIdCodec,i,this.tokenizationSupport,s,!0,o.startState);t.add(o.lineNumber,a.tokens),this.store.setEndState(o.lineNumber,a.endState)}}getTokenTypeIfInsertingCharacter(t,n){let i=this.getStartState(t.lineNumber);if(!i)return 0;let o=this._textModel.getLanguageId(),s=this._textModel.getLineContent(t.lineNumber),a=s.substring(0,t.column-1)+n+s.substring(t.column-1),l=bo(this._languageIdCodec,o,this.tokenizationSupport,a,!0,i),u=new et(l.tokens,a,this._languageIdCodec);if(u.getCount()===0)return 0;let d=u.findTokenIndexAtOffset(t.column-1);return u.getStandardTokenType(d)}tokenizeLineWithEdit(t,n){let i=this.getStartState(t);if(!i)return{mainLineTokens:null,additionalLines:null};let o=this._textModel.getLineContent(t),s=n.lineEdit.apply(o),a=this._textModel.getLanguageIdAtPosition(t,0),l=bo(this._languageIdCodec,a,this.tokenizationSupport,s,!0,i),u=null;if(n.additionalLines){u=[];let g=l.endState;for(let h of n.additionalLines){let p=bo(this._languageIdCodec,a,this.tokenizationSupport,h,!0,g);u.push(new et(p.tokens,h,this._languageIdCodec)),g=p.endState}}return{mainLineTokens:new et(l.tokens,s,this._languageIdCodec),additionalLines:u}}hasAccurateTokensForLine(t){let n=this.store.getFirstInvalidEndStateLineNumberOrMax();return t<n}isCheapToTokenize(t){let n=this.store.getFirstInvalidEndStateLineNumberOrMax();return t<n||t===n&&this._textModel.getLineLength(t)<2048}tokenizeHeuristically(t,n,i){if(i<=this.store.getFirstInvalidEndStateLineNumberOrMax())return{heuristicTokens:!1};if(n<=this.store.getFirstInvalidEndStateLineNumberOrMax())return this.updateTokensUntilLine(t,i),{heuristicTokens:!1};let o=this.guessStartState(n),s=this._textModel.getLanguageId();for(let a=n;a<=i;a++){let l=this._textModel.getLineContent(a),u=bo(this._languageIdCodec,s,this.tokenizationSupport,l,!0,o);t.add(a,u.tokens),o=u.endState}return{heuristicTokens:!0}}guessStartState(t){let n=this._textModel.getLineFirstNonWhitespaceColumn(t),i=[],o=null;for(let l=t-1;n>1&&l>=1;l--){let u=this._textModel.getLineFirstNonWhitespaceColumn(l);if(u!==0&&u<n&&(i.push(this._textModel.getLineContent(l)),n=u,o=this.getStartState(l),o))break}o||(o=this.tokenizationSupport.getInitialState()),i.reverse();let s=this._textModel.getLanguageId(),a=o;for(let l of i)a=bo(this._languageIdCodec,s,this.tokenizationSupport,l,!1,a).endState;return a}},vo=class{constructor(e){this.lineCount=e;this._invalidEndStatesLineNumbers.addRange(new Y(1,e+1))}_tokenizationStateStore=new Bf;_invalidEndStatesLineNumbers=new Ff;getEndState(e){return this._tokenizationStateStore.getEndState(e)}setEndState(e,t){if(!t)throw new le("Cannot set null/undefined state");this._invalidEndStatesLineNumbers.delete(e);let n=this._tokenizationStateStore.setEndState(e,t);return n&&e<this.lineCount&&this._invalidEndStatesLineNumbers.addRange(new Y(e+1,e+2)),n}acceptChange(e,t){this.lineCount+=t-e.length,this._tokenizationStateStore.acceptChange(e,t),this._invalidEndStatesLineNumbers.addRangeAndResize(new Y(e.startLineNumber,e.endLineNumberExclusive),t)}acceptChanges(e){for(let t of e){let[n]=pt(t.text);this.acceptChange(new ne(t.range.startLineNumber,t.range.endLineNumber+1),n+1)}}invalidateEndStateRange(e){this._invalidEndStatesLineNumbers.addRange(new Y(e.startLineNumber,e.endLineNumberExclusive))}getFirstInvalidEndStateLineNumber(){return this._invalidEndStatesLineNumbers.min}getFirstInvalidEndStateLineNumberOrMax(){return this.getFirstInvalidEndStateLineNumber()||Number.MAX_SAFE_INTEGER}allStatesValid(){return this._invalidEndStatesLineNumbers.min===null}getStartState(e,t){return e===1?t:this.getEndState(e-1)}getFirstInvalidLine(e){let t=this.getFirstInvalidEndStateLineNumber();if(t===null)return null;let n=this.getStartState(t,e);if(!n)throw new le("Start state must be defined");return{lineNumber:t,startState:n}}},Bf=class{_lineEndStates=new Iu(null);getEndState(e){return this._lineEndStates.get(e)}setEndState(e,t){let n=this._lineEndStates.get(e);return n&&n.equals(t)?!1:(this._lineEndStates.set(e,t),!0)}acceptChange(e,t){let n=e.length;t>0&&n>0&&(n--,t--),this._lineEndStates.replace(e.startLineNumber,n,t)}acceptChanges(e){for(let t of e){let[n]=pt(t.text);this.acceptChange(new ne(t.range.startLineNumber,t.range.endLineNumber+1),n+1)}}},Ff=class{_ranges=[];getRanges(){return this._ranges}get min(){return this._ranges.length===0?null:this._ranges[0].start}removeMin(){if(this._ranges.length===0)return null;let e=this._ranges[0];return e.start+1===e.endExclusive?this._ranges.shift():this._ranges[0]=new Y(e.start+1,e.endExclusive),e.start}delete(e){let t=this._ranges.findIndex(n=>n.contains(e));if(t!==-1){let n=this._ranges[t];n.start===e?n.endExclusive===e+1?this._ranges.splice(t,1):this._ranges[t]=new Y(e+1,n.endExclusive):n.endExclusive===e+1?this._ranges[t]=new Y(n.start,e):this._ranges.splice(t,1,new Y(n.start,e),new Y(e+1,n.endExclusive))}}addRange(e){Y.addRange(e,this._ranges)}addRangeAndResize(e,t){let n=0;for(;!(n>=this._ranges.length||e.start<=this._ranges[n].endExclusive);)n++;let i=n;for(;!(i>=this._ranges.length||e.endExclusive<this._ranges[i].start);)i++;let o=t-e.length;for(let s=i;s<this._ranges.length;s++)this._ranges[s]=this._ranges[s].delta(o);if(n===i){let s=new Y(e.start,e.start+t);s.isEmpty||this._ranges.splice(n,0,s)}else{let s=Math.min(e.start,this._ranges[n].start),a=Math.max(e.endExclusive,this._ranges[i-1].endExclusive),l=new Y(s,a+o);l.isEmpty?this._ranges.splice(n,i-n):this._ranges.splice(n,i-n,l)}}toString(){return this._ranges.map(e=>e.toString()).join(" + ")}};function bo(r,e,t,n,i,o){let s=null;if(t)try{s=t.tokenizeEncoded(n,i,o.clone())}catch(a){Ie(a)}return s||(s=p1(r.encodeLanguageId(e),o)),et.convertToEndOffset(s.tokens,n.length),s}var Cu=class{constructor(e,t){this._tokenizerWithStateStore=e;this._backgroundTokenStore=t}_isDisposed=!1;dispose(){this._isDisposed=!0}handleChanges(){this._beginBackgroundTokenization()}_isScheduled=!1;_beginBackgroundTokenization(){this._isScheduled||!this._tokenizerWithStateStore._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._isScheduled=!0,Jc(e=>{this._isScheduled=!1,this._backgroundTokenizeWithDeadline(e)}))}_backgroundTokenizeWithDeadline(e){let t=Date.now()+e.timeRemaining(),n=()=>{this._isDisposed||!this._tokenizerWithStateStore._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._backgroundTokenizeForAtLeast1ms(),Date.now()<t?va(n):this._beginBackgroundTokenization())};n()}_backgroundTokenizeForAtLeast1ms(){let e=this._tokenizerWithStateStore._textModel.getLineCount(),t=new ci,n=Ht.create(!1);do if(n.elapsed()>1||this._tokenizeOneInvalidLine(t)>=e)break;while(this._hasLinesToTokenize());this._backgroundTokenStore.setTokens(t.finalize()),this.checkFinished()}_hasLinesToTokenize(){return this._tokenizerWithStateStore?!this._tokenizerWithStateStore.store.allStatesValid():!1}_tokenizeOneInvalidLine(e){let t=this._tokenizerWithStateStore?.getFirstInvalidLine();return t?(this._tokenizerWithStateStore.updateTokensUntilLine(e,t.lineNumber),t.lineNumber):this._tokenizerWithStateStore._textModel.getLineCount()+1}checkFinished(){this._isDisposed||this._tokenizerWithStateStore.store.allStatesValid()&&this._backgroundTokenStore.backgroundTokenizationFinished()}requestTokens(e,t){this._tokenizerWithStateStore.store.invalidateEndStateRange(new ne(e,t))}};var ku=class{_onDidChangeVisibleRanges=new U;onDidChangeVisibleRanges=this._onDidChangeVisibleRanges.event;_views=new Set;attachView(){let e=new Uf(t=>{this._onDidChangeVisibleRanges.fire({view:e,state:t})});return this._views.add(e),e}detachView(e){this._views.delete(e),this._onDidChangeVisibleRanges.fire({view:e,state:void 0})}},Uf=class{constructor(e){this.handleStateChange=e}setVisibleLines(e,t){let n=e.map(i=>new ne(i.startLineNumber,i.endLineNumber+1));this.handleStateChange({visibleLineRanges:n,stabilized:t})}},_u=class extends oe{constructor(t){super();this._refreshTokens=t}runner=this._register(new dr(()=>this.update(),50));_computedLineRanges=[];_lineRanges=[];get lineRanges(){return this._lineRanges}update(){Jn(this._computedLineRanges,this._lineRanges,(t,n)=>t.equals(n))||(this._computedLineRanges=this._lineRanges,this._refreshTokens())}handleStateChange(t){this._lineRanges=t.visibleLineRanges,t.stabilized?(this.runner.cancel(),this.update()):this.runner.schedule()}},yo=class extends oe{constructor(t,n,i){super();this._languageIdCodec=t;this._textModel=n;this.getLanguageId=i}_backgroundTokenizationState=1;get backgroundTokenizationState(){return this._backgroundTokenizationState}_onDidChangeBackgroundTokenizationState=this._register(new U);onDidChangeBackgroundTokenizationState=this._onDidChangeBackgroundTokenizationState.event;_onDidChangeTokens=this._register(new U);onDidChangeTokens=this._onDidChangeTokens.event;tokenizeIfCheap(t){this.isCheapToTokenize(t)&&this.forceTokenization(t)}};var m1=de("treeSitterParserService");var Vs=class extends yo{constructor(t,n,i,o){super(n,i,o);this._treeSitterService=t;this._initialize()}_tokenizationSupport=null;_lastLanguageId;_initialize(){let t=this.getLanguageId();(!this._tokenizationSupport||this._lastLanguageId!==t)&&(this._lastLanguageId=t,this._tokenizationSupport=us.get(t))}getLineTokens(t){let n=this._textModel.getLineContent(t);if(this._tokenizationSupport){let i=this._tokenizationSupport.tokenizeEncoded(t,this._textModel);if(i)return new et(i,n,this._languageIdCodec)}return et.createEmpty(n,this._languageIdCodec)}resetTokenization(t=!0){t&&this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]}),this._initialize()}handleDidChangeAttached(){}handleDidChangeContent(t){t.isFlush&&this.resetTokenization(!1)}forceTokenization(t){}hasAccurateTokensForLine(t){return!0}isCheapToTokenize(t){return!0}getTokenTypeIfInsertingCharacter(t,n,i){return 0}tokenizeLineWithEdit(t,n){return{mainLineTokens:null,additionalLines:null}}get hasTokens(){return this._treeSitterService.getParseResult(this._textModel)!==void 0}};var Hs=class r{_lineTokens;_len;_languageIdCodec;constructor(e){this._lineTokens=[],this._len=0,this._languageIdCodec=e}flush(){this._lineTokens=[],this._len=0}get hasTokens(){return this._lineTokens.length>0}getTokens(e,t,n){let i=null;if(t<this._len&&(i=this._lineTokens[t]),i!==null&&i!==dn)return new et(gn(i),n,this._languageIdCodec);let o=new Uint32Array(2);return o[0]=n.length,o[1]=b1(this._languageIdCodec.encodeLanguageId(e)),new et(o,n,this._languageIdCodec)}static _massageTokens(e,t,n){let i=n?gn(n):null;if(t===0){let o=!1;if(i&&i.length>1&&(o=Tt.getLanguageId(i[1])!==e),!o)return dn}if(!i||i.length===0){let o=new Uint32Array(2);return o[0]=t,o[1]=b1(e),o.buffer}return i[i.length-2]=t,i.byteOffset===0&&i.byteLength===i.buffer.byteLength?i.buffer:i}_ensureLine(e){for(;e>=this._len;)this._lineTokens[this._len]=null,this._len++}_deleteLines(e,t){t!==0&&(e+t>this._len&&(t=this._len-e),this._lineTokens.splice(e,t),this._len-=t)}_insertLines(e,t){if(t===0)return;let n=[];for(let i=0;i<t;i++)n[i]=null;this._lineTokens=Mn(this._lineTokens,e,n),this._len+=t}setTokens(e,t,n,i,o){let s=r._massageTokens(this._languageIdCodec.encodeLanguageId(e),n,i);this._ensureLine(t);let a=this._lineTokens[t];return this._lineTokens[t]=s,o?!r._equals(a,s):!1}static _equals(e,t){if(!e||!t)return!e&&!t;let n=gn(e),i=gn(t);if(n.length!==i.length)return!1;for(let o=0,s=n.length;o<s;o++)if(n[o]!==i[o])return!1;return!0}acceptEdit(e,t,n){this._acceptDeleteRange(e),this._acceptInsertText(new $(e.startLineNumber,e.startColumn),t,n)}_acceptDeleteRange(e){let t=e.startLineNumber-1;if(t>=this._len)return;if(e.startLineNumber===e.endLineNumber){if(e.startColumn===e.endColumn)return;this._lineTokens[t]=He.delete(this._lineTokens[t],e.startColumn-1,e.endColumn-1);return}this._lineTokens[t]=He.deleteEnding(this._lineTokens[t],e.startColumn-1);let n=e.endLineNumber-1,i=null;n<this._len&&(i=He.deleteBeginning(this._lineTokens[n],e.endColumn-1)),this._lineTokens[t]=He.append(this._lineTokens[t],i),this._deleteLines(e.startLineNumber,e.endLineNumber-e.startLineNumber)}_acceptInsertText(e,t,n){if(t===0&&n===0)return;let i=e.lineNumber-1;if(!(i>=this._len)){if(t===0){this._lineTokens[i]=He.insert(this._lineTokens[i],e.column-1,n);return}this._lineTokens[i]=He.deleteEnding(this._lineTokens[i],e.column-1),this._lineTokens[i]=He.insert(this._lineTokens[i],e.column-1,n),this._insertLines(e.lineNumber,t)}}setMultilineTokens(e,t){if(e.length===0)return{changes:[]};let n=[];for(let i=0,o=e.length;i<o;i++){let s=e[i],a=0,l=0,u=!1;for(let d=s.startLineNumber;d<=s.endLineNumber;d++)u?(this.setTokens(t.getLanguageId(),d-1,t.getLineLength(d),s.getLineTokens(d),!1),l=d):this.setTokens(t.getLanguageId(),d-1,t.getLineLength(d),s.getLineTokens(d),!0)&&(u=!0,a=d,l=d);u&&n.push({fromLineNumber:a,toLineNumber:l})}return{changes:n}}};function b1(r){return(r<<0|0|0|32768|2<<24|1024)>>>0}var Su=class r{_pieces;_isComplete;_languageIdCodec;constructor(e){this._pieces=[],this._isComplete=!1,this._languageIdCodec=e}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return this._pieces.length===0}set(e,t){this._pieces=e||[],this._isComplete=t}setPartial(e,t){let n=e;if(t.length>0){let o=t[0].getRange(),s=t[t.length-1].getRange();if(!o||!s)return e;n=e.plusRange(o).plusRange(s)}let i=null;for(let o=0,s=this._pieces.length;o<s;o++){let a=this._pieces[o];if(a.endLineNumber<n.startLineNumber)continue;if(a.startLineNumber>n.endLineNumber){i=i||{index:o};break}if(a.removeTokens(n),a.isEmpty()){this._pieces.splice(o,1),o--,s--;continue}if(a.endLineNumber<n.startLineNumber)continue;if(a.startLineNumber>n.endLineNumber){i=i||{index:o};continue}let[l,u]=a.split(n);if(l.isEmpty()){i=i||{index:o};continue}u.isEmpty()||(this._pieces.splice(o,1,l,u),o++,s++,i=i||{index:o})}return i=i||{index:this._pieces.length},t.length>0&&(this._pieces=Mn(this._pieces,i.index,t)),n}isComplete(){return this._isComplete}addSparseTokens(e,t){if(t.getLineContent().length===0)return t;let n=this._pieces;if(n.length===0)return t;let i=r._findFirstPieceWithLine(n,e),o=n[i].getLineTokens(e);if(!o)return t;let s=t.getCount(),a=o.getCount(),l=0,u=[],d=0,g=0,h=(p,b)=>{p!==g&&(g=p,u[d++]=p,u[d++]=b)};for(let p=0;p<a;p++){let b=o.getStartCharacter(p),m=o.getEndCharacter(p),y=o.getMetadata(p),I=((y&1?2048:0)|(y&2?4096:0)|(y&4?8192:0)|(y&8?16384:0)|(y&16?16744448:0)|(y&32?4278190080:0))>>>0,k=~I>>>0;for(;l<s&&t.getEndOffset(l)<=b;)h(t.getEndOffset(l),t.getMetadata(l)),l++;for(l<s&&t.getStartOffset(l)<b&&h(b,t.getMetadata(l));l<s&&t.getEndOffset(l)<m;)h(t.getEndOffset(l),t.getMetadata(l)&k|y&I),l++;if(l<s)h(m,t.getMetadata(l)&k|y&I),t.getEndOffset(l)===m&&l++;else{let C=Math.min(Math.max(0,l-1),s-1);h(m,t.getMetadata(C)&k|y&I)}}for(;l<s;)h(t.getEndOffset(l),t.getMetadata(l)),l++;return new et(new Uint32Array(u),t.getLineContent(),this._languageIdCodec)}static _findFirstPieceWithLine(e,t){let n=0,i=e.length-1;for(;n<i;){let o=n+Math.floor((i-n)/2);if(e[o].endLineNumber<t)n=o+1;else if(e[o].startLineNumber>t)i=o-1;else{for(;o>n&&e[o-1].startLineNumber<=t&&t<=e[o-1].endLineNumber;)o--;return o}}return n}acceptEdit(e,t,n,i,o){for(let s of this._pieces)s.acceptEdit(e,t,n,i,o)}};var jn=class extends go{constructor(t,n,i,o,s,a,l){super();this._textModel=t;this._bracketPairsTextModelPart=n;this._languageId=i;this._attachedViews=o;this._languageService=s;this._languageConfigurationService=a;this._treeSitterService=l;this._register(this._languageConfigurationService.onDidChange(u=>{u.affects(this._languageId)&&this._onDidChangeLanguageConfiguration.fire({})})),this._register(an.filter(us.onDidChange,u=>u.changedLanguages.includes(this._languageId))(()=>{this.createPreferredTokenProvider()})),this.createPreferredTokenProvider()}_semanticTokens=new Su(this._languageService.languageIdCodec);_onDidChangeLanguage=this._register(new U);onDidChangeLanguage=this._onDidChangeLanguage.event;_onDidChangeLanguageConfiguration=this._register(new U);onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event;_onDidChangeTokens=this._register(new U);onDidChangeTokens=this._onDidChangeTokens.event;_tokens;_tokensDisposables=this._register(new Ve);createGrammarTokens(){return this._register(new Lu(this._languageService.languageIdCodec,this._textModel,()=>this._languageId,this._attachedViews))}createTreeSitterTokens(){return this._register(new Vs(this._treeSitterService,this._languageService.languageIdCodec,this._textModel,()=>this._languageId))}createTokens(t){let n=this._tokens!==void 0;this._tokens?.dispose(),this._tokens=t?this.createTreeSitterTokens():this.createGrammarTokens(),this._tokensDisposables.clear(),this._tokensDisposables.add(this._tokens.onDidChangeTokens(i=>{this._emitModelTokensChangedEvent(i)})),this._tokensDisposables.add(this._tokens.onDidChangeBackgroundTokenizationState(i=>{this._bracketPairsTextModelPart.handleDidChangeBackgroundTokenizationState()})),n&&this._tokens.resetTokenization()}createPreferredTokenProvider(){us.get(this._languageId)?this._tokens instanceof Vs||this.createTokens(!0):this._tokens instanceof Lu||this.createTokens(!1)}_hasListeners(){return this._onDidChangeLanguage.hasListeners()||this._onDidChangeLanguageConfiguration.hasListeners()||this._onDidChangeTokens.hasListeners()}handleLanguageConfigurationServiceChange(t){t.affects(this._languageId)&&this._onDidChangeLanguageConfiguration.fire({})}handleDidChangeContent(t){if(t.isFlush)this._semanticTokens.flush();else if(!t.isEolChange)for(let n of t.changes){let[i,o,s]=pt(n.text);this._semanticTokens.acceptEdit(n.range,i,o,s,n.text.length>0?n.text.charCodeAt(0):0)}this._tokens.handleDidChangeContent(t)}handleDidChangeAttached(){this._tokens.handleDidChangeAttached()}getLineTokens(t){this.validateLineNumber(t);let n=this._tokens.getLineTokens(t);return this._semanticTokens.addSparseTokens(t,n)}_emitModelTokensChangedEvent(t){this._textModel._isDisposing()||(this._bracketPairsTextModelPart.handleDidChangeTokens(t),this._onDidChangeTokens.fire(t))}validateLineNumber(t){if(t<1||t>this._textModel.getLineCount())throw new le("Illegal value for lineNumber")}get hasTokens(){return this._tokens.hasTokens}resetTokenization(){this._tokens.resetTokenization()}get backgroundTokenizationState(){return this._tokens.backgroundTokenizationState}forceTokenization(t){this.validateLineNumber(t),this._tokens.forceTokenization(t)}hasAccurateTokensForLine(t){return this.validateLineNumber(t),this._tokens.hasAccurateTokensForLine(t)}isCheapToTokenize(t){return this.validateLineNumber(t),this._tokens.isCheapToTokenize(t)}tokenizeIfCheap(t){this.validateLineNumber(t),this._tokens.tokenizeIfCheap(t)}getTokenTypeIfInsertingCharacter(t,n,i){return this._tokens.getTokenTypeIfInsertingCharacter(t,n,i)}tokenizeLineWithEdit(t,n){return this._tokens.tokenizeLineWithEdit(t,n)}setSemanticTokens(t,n){this._semanticTokens.set(t,n),this._emitModelTokensChangedEvent({semanticTokensApplied:t!==null,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]})}hasCompleteSemanticTokens(){return this._semanticTokens.isComplete()}hasSomeSemanticTokens(){return!this._semanticTokens.isEmpty()}setPartialSemanticTokens(t,n){if(this.hasCompleteSemanticTokens())return;let i=this._textModel.validateRange(this._semanticTokens.setPartial(t,n));this._emitModelTokensChangedEvent({semanticTokensApplied:!0,ranges:[{fromLineNumber:i.startLineNumber,toLineNumber:i.endLineNumber}]})}getWordAtPosition(t){this.assertNotDisposed();let n=this._textModel.validatePosition(t),i=this._textModel.getLineContent(n.lineNumber),o=this.getLineTokens(n.lineNumber),s=o.findTokenIndexAtOffset(n.column-1),[a,l]=jn._findLanguageBoundaries(o,s),u=fr(n.column,this.getLanguageConfiguration(o.getLanguageId(s)).getWordDefinition(),i.substring(a,l),a);if(u&&u.startColumn<=t.column&&t.column<=u.endColumn)return u;if(s>0&&a===n.column-1){let[d,g]=jn._findLanguageBoundaries(o,s-1),h=fr(n.column,this.getLanguageConfiguration(o.getLanguageId(s-1)).getWordDefinition(),i.substring(d,g),d);if(h&&h.startColumn<=t.column&&t.column<=h.endColumn)return h}return null}getLanguageConfiguration(t){return this._languageConfigurationService.getLanguageConfiguration(t)}static _findLanguageBoundaries(t,n){let i=t.getLanguageId(n),o=0;for(let a=n;a>=0&&t.getLanguageId(a)===i;a--)o=t.getStartOffset(a);let s=t.getLineContent().length;for(let a=n,l=t.getCount();a<l&&t.getLanguageId(a)===i;a++)s=t.getEndOffset(a);return[o,s]}getWordUntilPosition(t){let n=this.getWordAtPosition(t);return n?{word:n.word.substr(0,t.column-n.startColumn),startColumn:n.startColumn,endColumn:t.column}:{word:"",startColumn:t.column,endColumn:t.column}}getLanguageId(){return this._languageId}getLanguageIdAtPosition(t,n){let i=this._textModel.validatePosition(new $(t,n)),o=this.getLineTokens(i.lineNumber);return o.getLanguageId(o.findTokenIndexAtOffset(i.column-1))}setLanguageId(t,n="api"){if(this._languageId===t)return;let i={oldLanguage:this._languageId,newLanguage:t,source:n};this._languageId=t,this._bracketPairsTextModelPart.handleDidChangeLanguage(i),this._tokens.resetTokenization(),this.createPreferredTokenProvider(),this._onDidChangeLanguage.fire(i),this._onDidChangeLanguageConfiguration.fire({})}};jn=rn([ze(4,Vi),ze(5,ii),ze(6,m1)],jn);var Lu=class extends yo{_tokenizer=null;_defaultBackgroundTokenizer=null;_backgroundTokenizer=this._register(new sn);_tokens=new Hs(this._languageIdCodec);_debugBackgroundTokens;_debugBackgroundStates;_debugBackgroundTokenizer=this._register(new sn);_attachedViewStates=this._register(new ki);constructor(e,t,n,i){super(e,t,n),this._register(Ad.onDidChange(o=>{let s=this.getLanguageId();o.changedLanguages.indexOf(s)!==-1&&this.resetTokenization()})),this.resetTokenization(),this._register(i.onDidChangeVisibleRanges(({view:o,state:s})=>{if(s){let a=this._attachedViewStates.get(o);a||(a=new _u(()=>this.refreshRanges(a.lineRanges)),this._attachedViewStates.set(o,a)),a.handleStateChange(s)}else this._attachedViewStates.deleteAndDispose(o)}))}resetTokenization(e=!0){this._tokens.flush(),this._debugBackgroundTokens?.flush(),this._debugBackgroundStates&&(this._debugBackgroundStates=new vo(this._textModel.getLineCount())),e&&this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]});let t=()=>{if(this._textModel.isTooLargeForTokenization())return[null,null];let o=Ad.get(this.getLanguageId());if(!o)return[null,null];let s;try{s=o.getInitialState()}catch(a){return Ie(a),[null,null]}return[o,s]},[n,i]=t();if(n&&i?this._tokenizer=new Tu(this._textModel.getLineCount(),n,this._textModel,this._languageIdCodec):this._tokenizer=null,this._backgroundTokenizer.clear(),this._defaultBackgroundTokenizer=null,this._tokenizer){let o={setTokens:s=>{this.setTokens(s)},backgroundTokenizationFinished:()=>{if(this._backgroundTokenizationState===2)return;let s=2;this._backgroundTokenizationState=s,this._onDidChangeBackgroundTokenizationState.fire()},setEndState:(s,a)=>{if(!this._tokenizer)return;let l=this._tokenizer.store.getFirstInvalidEndStateLineNumber();l!==null&&s>=l&&this._tokenizer?.store.setEndState(s,a)}};n&&n.createBackgroundTokenizer&&!n.backgroundTokenizerShouldOnlyVerifyTokens&&(this._backgroundTokenizer.value=n.createBackgroundTokenizer(this._textModel,o)),!this._backgroundTokenizer.value&&!this._textModel.isTooLargeForTokenization()&&(this._backgroundTokenizer.value=this._defaultBackgroundTokenizer=new Cu(this._tokenizer,o),this._defaultBackgroundTokenizer.handleChanges()),n?.backgroundTokenizerShouldOnlyVerifyTokens&&n.createBackgroundTokenizer?(this._debugBackgroundTokens=new Hs(this._languageIdCodec),this._debugBackgroundStates=new vo(this._textModel.getLineCount()),this._debugBackgroundTokenizer.clear(),this._debugBackgroundTokenizer.value=n.createBackgroundTokenizer(this._textModel,{setTokens:s=>{this._debugBackgroundTokens?.setMultilineTokens(s,this._textModel)},backgroundTokenizationFinished(){},setEndState:(s,a)=>{this._debugBackgroundStates?.setEndState(s,a)}})):(this._debugBackgroundTokens=void 0,this._debugBackgroundStates=void 0,this._debugBackgroundTokenizer.value=void 0)}this.refreshAllVisibleLineTokens()}handleDidChangeAttached(){this._defaultBackgroundTokenizer?.handleChanges()}handleDidChangeContent(e){if(e.isFlush)this.resetTokenization(!1);else if(!e.isEolChange){for(let t of e.changes){let[n,i]=pt(t.text);this._tokens.acceptEdit(t.range,n,i),this._debugBackgroundTokens?.acceptEdit(t.range,n,i)}this._debugBackgroundStates?.acceptChanges(e.changes),this._tokenizer&&this._tokenizer.store.acceptChanges(e.changes),this._defaultBackgroundTokenizer?.handleChanges()}}setTokens(e){let{changes:t}=this._tokens.setMultilineTokens(e,this._textModel);return t.length>0&&this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:t}),{changes:t}}refreshAllVisibleLineTokens(){let e=ne.joinMany([...this._attachedViewStates].map(([t,n])=>n.lineRanges));this.refreshRanges(e)}refreshRanges(e){for(let t of e)this.refreshRange(t.startLineNumber,t.endLineNumberExclusive-1)}refreshRange(e,t){if(!this._tokenizer)return;e=Math.max(1,Math.min(this._textModel.getLineCount(),e)),t=Math.min(this._textModel.getLineCount(),t);let n=new ci,{heuristicTokens:i}=this._tokenizer.tokenizeHeuristically(n,e,t),o=this.setTokens(n.finalize());if(i)for(let s of o.changes)this._backgroundTokenizer.value?.requestTokens(s.fromLineNumber,s.toLineNumber+1);this._defaultBackgroundTokenizer?.checkFinished()}forceTokenization(e){let t=new ci;this._tokenizer?.updateTokensUntilLine(t,e),this.setTokens(t.finalize()),this._defaultBackgroundTokenizer?.checkFinished()}hasAccurateTokensForLine(e){return this._tokenizer?this._tokenizer.hasAccurateTokensForLine(e):!0}isCheapToTokenize(e){return this._tokenizer?this._tokenizer.isCheapToTokenize(e):!0}getLineTokens(e){let t=this._textModel.getLineContent(e),n=this._tokens.getTokens(this._textModel.getLanguageId(),e-1,t);if(this._debugBackgroundTokens&&this._debugBackgroundStates&&this._tokenizer&&this._debugBackgroundStates.getFirstInvalidEndStateLineNumberOrMax()>e&&this._tokenizer.store.getFirstInvalidEndStateLineNumberOrMax()>e){let i=this._debugBackgroundTokens.getTokens(this._textModel.getLanguageId(),e-1,t);!n.equals(i)&&this._debugBackgroundTokenizer.value?.reportMismatchingTokens&&this._debugBackgroundTokenizer.value.reportMismatchingTokens(e)}return n}getTokenTypeIfInsertingCharacter(e,t,n){if(!this._tokenizer)return 0;let i=this._textModel.validatePosition(new $(e,t));return this.forceTokenization(i.lineNumber),this._tokenizer.getTokenTypeIfInsertingCharacter(i,n)}tokenizeLineWithEdit(e,t){return this._tokenizer?(this.forceTokenization(e),this._tokenizer.tokenizeLineWithEdit(e,t)):{mainLineTokens:null,additionalLines:null}}get hasTokens(){return this._tokens.hasTokens}};function TI(r){let e=new Ws;return e.acceptChunk(r),e.finish()}function CI(r){let e=new Ws,t;for(;typeof(t=r.read())=="string";)e.acceptChunk(t);return e.finish()}function v1(r,e){let t;return typeof r=="string"?t=TI(r):tb(r)?t=CI(r):t=r,t.create(e)}var wu=0,kI=999,_I=1e4,Wf=class{_source;_eos;constructor(e){this._source=e,this._eos=!1}read(){if(this._eos)return null;let e=[],t=0,n=0;do{let i=this._source.read();if(i===null)return this._eos=!0,t===0?null:e.join("");if(i.length>0&&(e[t++]=i,n+=i.length),n>=64*1024)return e.join("")}while(!0)}},Ks=()=>{throw new Error("Invalid change accessor")};var Tn=class extends oe{constructor(t,n,i,o=null,s,a,l,u){super();this._undoRedoService=s;this._languageService=a;this._languageConfigurationService=l;this.instantiationService=u;wu++,this.id="$model"+wu,this.isForSimpleWidget=i.isForSimpleWidget,typeof o>"u"||o===null?this._associatedResource=he.parse("inmemory://model/"+wu):this._associatedResource=o,this._attachedEditorCount=0;let{textBuffer:d,disposable:g}=v1(t,i.defaultEOL);this._buffer=d,this._bufferDisposable=g,this._options=Tn.resolveOptions(this._buffer,i);let h=typeof n=="string"?n:n.languageId;typeof n!="string"&&(this._languageSelectionListener.value=n.onDidChange(()=>this._setLanguage(n.languageId))),this._bracketPairs=this._register(new ou(this,this._languageConfigurationService)),this._guidesTextModelPart=this._register(new bu(this,this._languageConfigurationService)),this._decorationProvider=this._register(new fu(this)),this._tokenizationTextModelPart=this.instantiationService.createInstance(jn,this,this._bracketPairs,h,this._attachedViews);let p=this._buffer.getLineCount(),b=this._buffer.getValueLengthInRange(new R(1,1,p,this._buffer.getLineLength(p)+1),0);i.largeFileOptimizations?(this._isTooLargeForTokenization=b>Tn.LARGE_FILE_SIZE_THRESHOLD||p>Tn.LARGE_FILE_LINE_COUNT_THRESHOLD,this._isTooLargeForHeapOperation=b>Tn.LARGE_FILE_HEAP_OPERATION_THRESHOLD):(this._isTooLargeForTokenization=!1,this._isTooLargeForHeapOperation=!1),this._isTooLargeForSyncing=b>Tn._MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this.__isDisposing=!1,this._instanceId=Vp(wu),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new Ru,this._commandManager=new mu(this,this._undoRedoService),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._register(this._decorationProvider.onDidChange(()=>{this._onDidChangeDecorations.beginDeferredEmit(),this._onDidChangeDecorations.fire(),this._onDidChangeDecorations.endDeferredEmit()})),this._languageService.requestRichLanguageFeatures(h),this._register(this._languageConfigurationService.onDidChange(m=>{this._bracketPairs.handleLanguageConfigurationServiceChange(m),this._tokenizationTextModelPart.handleLanguageConfigurationServiceChange(m)}))}static _MODEL_SYNC_LIMIT=50*1024*1024;static LARGE_FILE_SIZE_THRESHOLD=20*1024*1024;static LARGE_FILE_LINE_COUNT_THRESHOLD=300*1e3;static LARGE_FILE_HEAP_OPERATION_THRESHOLD=256*1024*1024;static DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:hn.tabSize,indentSize:hn.indentSize,insertSpaces:hn.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:hn.trimAutoWhitespace,largeFileOptimizations:hn.largeFileOptimizations,bracketPairColorizationOptions:hn.bracketPairColorizationOptions};static resolveOptions(t,n){if(n.detectIndentation){let i=_f(t,n.tabSize,n.insertSpaces);return new Zi({tabSize:i.tabSize,indentSize:"tabSize",insertSpaces:i.insertSpaces,trimAutoWhitespace:n.trimAutoWhitespace,defaultEOL:n.defaultEOL,bracketPairColorizationOptions:n.bracketPairColorizationOptions})}return new Zi(n)}_onWillDispose=this._register(new U);onWillDispose=this._onWillDispose.event;_onDidChangeDecorations=this._register(new qf(t=>this.handleBeforeFireDecorationsChangedEvent(t)));onDidChangeDecorations=this._onDidChangeDecorations.event;get onDidChangeLanguage(){return this._tokenizationTextModelPart.onDidChangeLanguage}get onDidChangeLanguageConfiguration(){return this._tokenizationTextModelPart.onDidChangeLanguageConfiguration}get onDidChangeTokens(){return this._tokenizationTextModelPart.onDidChangeTokens}_onDidChangeOptions=this._register(new U);onDidChangeOptions=this._onDidChangeOptions.event;_onDidChangeAttached=this._register(new U);onDidChangeAttached=this._onDidChangeAttached.event;_onDidChangeInjectedText=this._register(new U);_eventEmitter=this._register(new Gf);onDidChangeContent(t){return this._eventEmitter.slowEvent(n=>t(n.contentChangedEvent))}onDidChangeContentOrInjectedText(t){return Ca(this._eventEmitter.fastEvent(n=>t(n)),this._onDidChangeInjectedText.event(n=>t(n)))}id;isForSimpleWidget;_associatedResource;_attachedEditorCount;_buffer;_bufferDisposable;_options;_languageSelectionListener=this._register(new sn);_isDisposed;__isDisposing;_isDisposing(){return this.__isDisposing}_versionId;_alternativeVersionId;_initialUndoRedoSnapshot;_isTooLargeForSyncing;_isTooLargeForTokenization;_isTooLargeForHeapOperation;_commandManager;_isUndoing;_isRedoing;_trimAutoWhitespaceLines;_instanceId;_deltaDecorationCallCnt=0;_lastDecorationId;_decorations;_decorationsTree;_decorationProvider;_tokenizationTextModelPart;get tokenization(){return this._tokenizationTextModelPart}_bracketPairs;get bracketPairs(){return this._bracketPairs}_guidesTextModelPart;get guides(){return this._guidesTextModelPart}_attachedViews=new ku;dispose(){this.__isDisposing=!0,this._onWillDispose.fire(),this._tokenizationTextModelPart.dispose(),this._isDisposed=!0,super.dispose(),this._bufferDisposable.dispose(),this.__isDisposing=!1;let t=new mo([],"",`
`,!1,!1,!0,!0);t.dispose(),this._buffer=t,this._bufferDisposable=oe.None}_hasListeners(){return this._onWillDispose.hasListeners()||this._onDidChangeDecorations.hasListeners()||this._tokenizationTextModelPart._hasListeners()||this._onDidChangeOptions.hasListeners()||this._onDidChangeAttached.hasListeners()||this._onDidChangeInjectedText.hasListeners()||this._eventEmitter.hasListeners()}_assertNotDisposed(){if(this._isDisposed)throw new le("Model is disposed!")}equalsTextBuffer(t){return this._assertNotDisposed(),this._buffer.equals(t)}getTextBuffer(){return this._assertNotDisposed(),this._buffer}_emitContentChangedEvent(t,n){this.__isDisposing||(this._tokenizationTextModelPart.handleDidChangeContent(n),this._bracketPairs.handleDidChangeContent(n),this._eventEmitter.fire(new Vl(t,n)))}setValue(t){if(this._assertNotDisposed(),t==null)throw So();let{textBuffer:n,disposable:i}=v1(t,this._options.defaultEOL);this._setValueFromTextBuffer(n,i)}_createContentChanged2(t,n,i,o,s,a,l,u){return{changes:[{range:t,rangeOffset:n,rangeLength:i,text:o}],eol:this._buffer.getEOL(),isEolChange:u,versionId:this.getVersionId(),isUndoing:s,isRedoing:a,isFlush:l}}_setValueFromTextBuffer(t,n){this._assertNotDisposed();let i=this.getFullModelRange(),o=this.getValueLengthInRange(i),s=this.getLineCount(),a=this.getLineMaxColumn(s);this._buffer=t,this._bufferDisposable.dispose(),this._bufferDisposable=n,this._increaseVersionId(),this._decorations=Object.create(null),this._decorationsTree=new Ru,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new oi([new Bl],this._versionId,!1,!1),this._createContentChanged2(new R(1,1,s,a),0,o,this.getValue(),!1,!1,!0,!1))}setEOL(t){this._assertNotDisposed();let n=t===1?`\r
`:`
`;if(this._buffer.getEOL()===n)return;let i=this.getFullModelRange(),o=this.getValueLengthInRange(i),s=this.getLineCount(),a=this.getLineMaxColumn(s);this._onBeforeEOLChange(),this._buffer.setEOL(n),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new oi([new zl],this._versionId,!1,!1),this._createContentChanged2(new R(1,1,s,a),0,o,this.getValue(),!1,!1,!1,!0))}_onBeforeEOLChange(){this._decorationsTree.ensureAllNodesHaveRanges(this)}_onAfterEOLChange(){let t=this.getVersionId(),n=this._decorationsTree.collectNodesPostOrder();for(let i=0,o=n.length;i<o;i++){let s=n[i],a=s.range,l=s.cachedAbsoluteStart-s.start,u=this._buffer.getOffsetAt(a.startLineNumber,a.startColumn),d=this._buffer.getOffsetAt(a.endLineNumber,a.endColumn);s.cachedAbsoluteStart=u,s.cachedAbsoluteEnd=d,s.cachedVersionId=t,s.start=u-l,s.end=d-l,qn(s)}}onBeforeAttached(){return this._attachedEditorCount++,this._attachedEditorCount===1&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0)),this._attachedViews.attachView()}onBeforeDetached(t){this._attachedEditorCount--,this._attachedEditorCount===0&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0)),this._attachedViews.detachView(t)}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isTooLargeForHeapOperation(){return this._isTooLargeForHeapOperation}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let t=0,n=0,i=this._buffer.getLineCount();for(let o=1;o<=i;o++){let s=this._buffer.getLineLength(o);s>=_I?n+=s:t+=s}return n>t}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions(t){this._assertNotDisposed();let n=typeof t.tabSize<"u"?t.tabSize:this._options.tabSize,i=typeof t.indentSize<"u"?t.indentSize:this._options.originalIndentSize,o=typeof t.insertSpaces<"u"?t.insertSpaces:this._options.insertSpaces,s=typeof t.trimAutoWhitespace<"u"?t.trimAutoWhitespace:this._options.trimAutoWhitespace,a=typeof t.bracketColorizationOptions<"u"?t.bracketColorizationOptions:this._options.bracketPairColorizationOptions,l=new Zi({tabSize:n,indentSize:i,insertSpaces:o,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:s,bracketPairColorizationOptions:a});if(this._options.equals(l))return;let u=this._options.createChangeEvent(l);this._options=l,this._bracketPairs.handleDidChangeOptions(u),this._decorationProvider.handleDidChangeOptions(u),this._onDidChangeOptions.fire(u)}detectIndentation(t,n){this._assertNotDisposed();let i=_f(this._buffer,n,t);this.updateOptions({insertSpaces:i.insertSpaces,tabSize:i.tabSize,indentSize:i.tabSize})}normalizeIndentation(t){return this._assertNotDisposed(),ub(t,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators(t=null){let n=this.findMatches(Vc.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations(t,n.map(i=>({range:i.range,text:null})),()=>null)}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getInitialUndoRedoSnapshot(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}getOffsetAt(t){this._assertNotDisposed();let n=this._validatePosition(t.lineNumber,t.column,0);return this._buffer.getOffsetAt(n.lineNumber,n.column)}getPositionAt(t){this._assertNotDisposed();let n=Math.min(this._buffer.getLength(),Math.max(0,t));return this._buffer.getPositionAt(n)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId(t){this._versionId=t}_overwriteAlternativeVersionId(t){this._alternativeVersionId=t}_overwriteInitialUndoRedoSnapshot(t){this._initialUndoRedoSnapshot=t}getValue(t,n=!1){if(this._assertNotDisposed(),this.isTooLargeForHeapOperation())throw new le("Operation would exceed heap memory limits");let i=this.getFullModelRange(),o=this.getValueInRange(i,t);return n?this._buffer.getBOM()+o:o}createSnapshot(t=!1){return new Wf(this._buffer.createSnapshot(t))}getValueLength(t,n=!1){this._assertNotDisposed();let i=this.getFullModelRange(),o=this.getValueLengthInRange(i,t);return n?this._buffer.getBOM().length+o:o}getValueInRange(t,n=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(t),n)}getValueLengthInRange(t,n=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(t),n)}getCharacterCountInRange(t,n=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(t),n)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent(t){if(this._assertNotDisposed(),t<1||t>this.getLineCount())throw new le("Illegal value for lineNumber");return this._buffer.getLineContent(t)}getLineLength(t){if(this._assertNotDisposed(),t<1||t>this.getLineCount())throw new le("Illegal value for lineNumber");return this._buffer.getLineLength(t)}getLinesContent(){if(this._assertNotDisposed(),this.isTooLargeForHeapOperation())throw new le("Operation would exceed heap memory limits");return this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getEndOfLineSequence(){return this._assertNotDisposed(),this._buffer.getEOL()===`
`?0:1}getLineMinColumn(t){return this._assertNotDisposed(),1}getLineMaxColumn(t){if(this._assertNotDisposed(),t<1||t>this.getLineCount())throw new le("Illegal value for lineNumber");return this._buffer.getLineLength(t)+1}getLineFirstNonWhitespaceColumn(t){if(this._assertNotDisposed(),t<1||t>this.getLineCount())throw new le("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(t)}getLineLastNonWhitespaceColumn(t){if(this._assertNotDisposed(),t<1||t>this.getLineCount())throw new le("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(t)}_validateRangeRelaxedNoAllocations(t){let n=this._buffer.getLineCount(),i=t.startLineNumber,o=t.startColumn,s=Math.floor(typeof i=="number"&&!isNaN(i)?i:1),a=Math.floor(typeof o=="number"&&!isNaN(o)?o:1);if(s<1)s=1,a=1;else if(s>n)s=n,a=this.getLineMaxColumn(s);else if(a<=1)a=1;else{let h=this.getLineMaxColumn(s);a>=h&&(a=h)}let l=t.endLineNumber,u=t.endColumn,d=Math.floor(typeof l=="number"&&!isNaN(l)?l:1),g=Math.floor(typeof u=="number"&&!isNaN(u)?u:1);if(d<1)d=1,g=1;else if(d>n)d=n,g=this.getLineMaxColumn(d);else if(g<=1)g=1;else{let h=this.getLineMaxColumn(d);g>=h&&(g=h)}return i===s&&o===a&&l===d&&u===g&&t instanceof R&&!(t instanceof Un)?t:new R(s,a,d,g)}_isValidPosition(t,n,i){if(typeof t!="number"||typeof n!="number"||isNaN(t)||isNaN(n)||t<1||n<1||(t|0)!==t||(n|0)!==n)return!1;let o=this._buffer.getLineCount();if(t>o)return!1;if(n===1)return!0;let s=this.getLineMaxColumn(t);if(n>s)return!1;if(i===1){let a=this._buffer.getLineCharCode(t,n-2);if(rt(a))return!1}return!0}_validatePosition(t,n,i){let o=Math.floor(typeof t=="number"&&!isNaN(t)?t:1),s=Math.floor(typeof n=="number"&&!isNaN(n)?n:1),a=this._buffer.getLineCount();if(o<1)return new $(1,1);if(o>a)return new $(a,this.getLineMaxColumn(a));if(s<=1)return new $(o,1);let l=this.getLineMaxColumn(o);if(s>=l)return new $(o,l);if(i===1){let u=this._buffer.getLineCharCode(o,s-2);if(rt(u))return new $(o,s-1)}return new $(o,s)}validatePosition(t){let n=1;return this._assertNotDisposed(),t instanceof $&&this._isValidPosition(t.lineNumber,t.column,n)?t:this._validatePosition(t.lineNumber,t.column,n)}_isValidRange(t,n){let i=t.startLineNumber,o=t.startColumn,s=t.endLineNumber,a=t.endColumn;if(!this._isValidPosition(i,o,0)||!this._isValidPosition(s,a,0))return!1;if(n===1){let l=o>1?this._buffer.getLineCharCode(i,o-2):0,u=a>1&&a<=this._buffer.getLineLength(s)?this._buffer.getLineCharCode(s,a-2):0,d=rt(l),g=rt(u);return!d&&!g}return!0}validateRange(t){let n=1;if(this._assertNotDisposed(),t instanceof R&&!(t instanceof Un)&&this._isValidRange(t,n))return t;let i=this._validatePosition(t.startLineNumber,t.startColumn,0),o=this._validatePosition(t.endLineNumber,t.endColumn,0),s=i.lineNumber,a=i.column,l=o.lineNumber,u=o.column;if(n===1){let d=a>1?this._buffer.getLineCharCode(s,a-2):0,g=u>1&&u<=this._buffer.getLineLength(l)?this._buffer.getLineCharCode(l,u-2):0,h=rt(d),p=rt(g);return!h&&!p?new R(s,a,l,u):s===l&&a===u?new R(s,a-1,l,u-1):h&&p?new R(s,a-1,l,u+1):h?new R(s,a-1,l,u):new R(s,a,l,u+1)}return new R(s,a,l,u)}modifyPosition(t,n){this._assertNotDisposed();let i=this.getOffsetAt(t)+n;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,i)))}getFullModelRange(){this._assertNotDisposed();let t=this.getLineCount();return new R(1,1,t,this.getLineMaxColumn(t))}findMatchesLineByLine(t,n,i,o){return this._buffer.findMatchesLineByLine(t,n,i,o)}findMatches(t,n,i,o,s,a,l=kI){this._assertNotDisposed();let u=null;n!==null&&(Array.isArray(n)||(n=[n]),n.every(h=>R.isIRange(h))&&(u=n.map(h=>this.validateRange(h)))),u===null&&(u=[this.getFullModelRange()]),u=u.sort((h,p)=>h.startLineNumber-p.startLineNumber||h.startColumn-p.startColumn);let d=[];d.push(u.reduce((h,p)=>R.areIntersecting(h,p)?h.plusRange(p):(d.push(h),p)));let g;if(!i&&t.indexOf(`
`)<0){let p=new $n(t,i,o,s).parseSearchRequest();if(!p)return[];g=b=>this.findMatchesLineByLine(b,p,a,l)}else g=h=>di.findMatches(this,new $n(t,i,o,s),h,a,l);return d.map(g).reduce((h,p)=>h.concat(p),[])}findNextMatch(t,n,i,o,s,a){this._assertNotDisposed();let l=this.validatePosition(n);if(!i&&t.indexOf(`
`)<0){let d=new $n(t,i,o,s).parseSearchRequest();if(!d)return null;let g=this.getLineCount(),h=new R(l.lineNumber,l.column,g,this.getLineMaxColumn(g)),p=this.findMatchesLineByLine(h,d,a,1);return di.findNextMatch(this,new $n(t,i,o,s),l,a),p.length>0||(h=new R(1,1,l.lineNumber,this.getLineMaxColumn(l.lineNumber)),p=this.findMatchesLineByLine(h,d,a,1),p.length>0)?p[0]:null}return di.findNextMatch(this,new $n(t,i,o,s),l,a)}findPreviousMatch(t,n,i,o,s,a){this._assertNotDisposed();let l=this.validatePosition(n);return di.findPreviousMatch(this,new $n(t,i,o,s),l,a)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL(t){if((this.getEOL()===`
`?0:1)!==t)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL(t)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation(t){return t instanceof eo?t:new eo(t.identifier||null,this.validateRange(t.range),t.text,t.forceMoveMarkers||!1,t.isAutoWhitespaceEdit||!1,t._isTracked||!1)}_validateEditOperations(t){let n=[];for(let i=0,o=t.length;i<o;i++)n[i]=this._validateEditOperation(t[i]);return n}pushEditOperations(t,n,i,o){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(t,this._validateEditOperations(n),i,o)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations(t,n,i,o){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){let s=n.map(l=>({range:this.validateRange(l.range),text:l.text})),a=!0;if(t)for(let l=0,u=t.length;l<u;l++){let d=t[l],g=!1;for(let h=0,p=s.length;h<p;h++){let b=s[h].range,m=b.startLineNumber>d.endLineNumber,y=d.startLineNumber>b.endLineNumber;if(!m&&!y){g=!0;break}}if(!g){a=!1;break}}if(a)for(let l=0,u=this._trimAutoWhitespaceLines.length;l<u;l++){let d=this._trimAutoWhitespaceLines[l],g=this.getLineMaxColumn(d),h=!0;for(let p=0,b=s.length;p<b;p++){let m=s[p].range,y=s[p].text;if(!(d<m.startLineNumber||d>m.endLineNumber)&&!(d===m.startLineNumber&&m.startColumn===g&&m.isEmpty()&&y&&y.length>0&&y.charAt(0)===`
`)&&!(d===m.startLineNumber&&m.startColumn===1&&m.isEmpty()&&y&&y.length>0&&y.charAt(y.length-1)===`
`)){h=!1;break}}if(h){let p=new R(d,1,d,g);n.push(new eo(null,p,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation(t,n,i,o)}_applyUndo(t,n,i,o){let s=t.map(a=>{let l=this.getPositionAt(a.newPosition),u=this.getPositionAt(a.newEnd);return{range:new R(l.lineNumber,l.column,u.lineNumber,u.column),text:a.oldText}});this._applyUndoRedoEdits(s,n,!0,!1,i,o)}_applyRedo(t,n,i,o){let s=t.map(a=>{let l=this.getPositionAt(a.oldPosition),u=this.getPositionAt(a.oldEnd);return{range:new R(l.lineNumber,l.column,u.lineNumber,u.column),text:a.newText}});this._applyUndoRedoEdits(s,n,!1,!0,i,o)}_applyUndoRedoEdits(t,n,i,o,s,a){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=i,this._isRedoing=o,this.applyEdits(t,!1),this.setEOL(n),this._overwriteAlternativeVersionId(s)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(a),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits(t,n=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();let i=this._validateEditOperations(t);return this._doApplyEdits(i,n)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits(t,n){let i=this._buffer.getLineCount(),o=this._buffer.applyEdits(t,this._options.trimAutoWhitespace,n),s=this._buffer.getLineCount(),a=o.changes;if(this._trimAutoWhitespaceLines=o.trimAutoWhitespaceLineNumbers,a.length!==0){for(let d=0,g=a.length;d<g;d++){let h=a[d];this._decorationsTree.acceptReplace(h.rangeOffset,h.rangeLength,h.text.length,h.forceMoveMarkers)}let l=[];this._increaseVersionId();let u=i;for(let d=0,g=a.length;d<g;d++){let h=a[d],[p]=pt(h.text);this._onDidChangeDecorations.fire();let b=h.range.startLineNumber,m=h.range.endLineNumber,y=m-b,I=p,k=Math.min(y,I),C=I-y,T=s-u-C+b,S=T,E=T+I,D=this._decorationsTree.getInjectedTextInInterval(this,this.getOffsetAt(new $(S,1)),this.getOffsetAt(new $(E,this.getLineMaxColumn(E))),0),A=Ts.fromDecorations(D),O=new Or(A);for(let V=k;V>=0;V--){let Q=b+V,K=T+V;O.takeFromEndWhile(Re=>Re.lineNumber>K);let me=O.takeFromEndWhile(Re=>Re.lineNumber===K);l.push(new Cs(Q,this.getLineContent(K),me))}if(k<y){let V=b+k;l.push(new Fl(V+1,m))}if(k<I){let V=new Or(A),Q=b+k,K=I-k,me=s-u-K+Q+1,Re=[],z=[];for(let N=0;N<K;N++){let W=me+N;z[N]=this.getLineContent(W),V.takeWhile(P=>P.lineNumber<W),Re[N]=V.takeWhile(P=>P.lineNumber===W)}l.push(new Ul(Q+1,b+I,z,Re))}u+=C}this._emitContentChangedEvent(new oi(l,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:a,eol:this._buffer.getEOL(),isEolChange:!1,versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return o.reverseEdits===null?void 0:o.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}handleBeforeFireDecorationsChangedEvent(t){if(t===null||t.size===0)return;let i=Array.from(t).map(o=>new Cs(o,this.getLineContent(o),this._getInjectedTextInLine(o)));this._onDidChangeInjectedText.fire(new Wl(i))}changeDecorations(t,n=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(n,t)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations(t,n){let i={addDecoration:(s,a)=>this._deltaDecorationsImpl(t,[],[{range:s,options:a}])[0],changeDecoration:(s,a)=>{this._changeDecorationImpl(s,a)},changeDecorationOptions:(s,a)=>{this._changeDecorationOptionsImpl(s,x1(a))},removeDecoration:s=>{this._deltaDecorationsImpl(t,[s],[])},deltaDecorations:(s,a)=>s.length===0&&a.length===0?[]:this._deltaDecorationsImpl(t,s,a)},o=null;try{o=n(i)}catch(s){Ie(s)}return i.addDecoration=Ks,i.changeDecoration=Ks,i.changeDecorationOptions=Ks,i.removeDecoration=Ks,i.deltaDecorations=Ks,o}deltaDecorations(t,n,i=0){if(this._assertNotDisposed(),t||(t=[]),t.length===0&&n.length===0)return[];try{return this._deltaDecorationCallCnt++,this._deltaDecorationCallCnt>1&&(console.warn("Invoking deltaDecorations recursively could lead to leaking decorations."),Ie(new Error("Invoking deltaDecorations recursively could lead to leaking decorations."))),this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(i,t,n)}finally{this._onDidChangeDecorations.endDeferredEmit(),this._deltaDecorationCallCnt--}}_getTrackedRange(t){return this.getDecorationRange(t)}_setTrackedRange(t,n,i){let o=t?this._decorations[t]:null;if(!o)return n?this._deltaDecorationsImpl(0,[],[{range:n,options:y1[i]}],!0)[0]:null;if(!n)return this._decorationsTree.delete(o),delete this._decorations[o.id],null;let s=this._validateRangeRelaxedNoAllocations(n),a=this._buffer.getOffsetAt(s.startLineNumber,s.startColumn),l=this._buffer.getOffsetAt(s.endLineNumber,s.endColumn);return this._decorationsTree.delete(o),o.reset(this.getVersionId(),a,l,s),o.setOptions(y1[i]),this._decorationsTree.insert(o),o.id}removeAllDecorationsWithOwnerId(t){if(this._isDisposed)return;let n=this._decorationsTree.collectNodesFromOwner(t);for(let i=0,o=n.length;i<o;i++){let s=n[i];this._decorationsTree.delete(s),delete this._decorations[s.id]}}getDecorationOptions(t){let n=this._decorations[t];return n?n.options:null}getDecorationRange(t){let n=this._decorations[t];return n?this._decorationsTree.getNodeRange(this,n):null}getLineDecorations(t,n=0,i=!1){return t<1||t>this.getLineCount()?[]:this.getLinesDecorations(t,t,n,i)}getLinesDecorations(t,n,i=0,o=!1,s=!1){let a=this.getLineCount(),l=Math.min(a,Math.max(1,t)),u=Math.min(a,Math.max(1,n)),d=this.getLineMaxColumn(u),g=new R(l,1,u,d),h=this._getDecorationsInRange(g,i,o,s);return Eo(h,this._decorationProvider.getDecorationsInRange(g,i,o)),h}getDecorationsInRange(t,n=0,i=!1,o=!1,s=!1){let a=this.validateRange(t),l=this._getDecorationsInRange(a,n,i,s);return Eo(l,this._decorationProvider.getDecorationsInRange(a,n,i,o)),l}getOverviewRulerDecorations(t=0,n=!1){return this._decorationsTree.getAll(this,t,n,!0,!1)}getInjectedTextDecorations(t=0){return this._decorationsTree.getAllInjectedText(this,t)}_getInjectedTextInLine(t){let n=this._buffer.getOffsetAt(t,1),i=n+this._buffer.getLineLength(t),o=this._decorationsTree.getInjectedTextInInterval(this,n,i,0);return Ts.fromDecorations(o).filter(s=>s.lineNumber===t)}getAllDecorations(t=0,n=!1){let i=this._decorationsTree.getAll(this,t,n,!1,!1);return i=i.concat(this._decorationProvider.getAllDecorations(t,n)),i}getAllMarginDecorations(t=0){return this._decorationsTree.getAll(this,t,!1,!1,!0)}_getDecorationsInRange(t,n,i,o){let s=this._buffer.getOffsetAt(t.startLineNumber,t.startColumn),a=this._buffer.getOffsetAt(t.endLineNumber,t.endColumn);return this._decorationsTree.getAllInInterval(this,s,a,n,i,o)}getRangeAt(t,n){return this._buffer.getRangeAt(t,n-t)}_changeDecorationImpl(t,n){let i=this._decorations[t];if(!i)return;if(i.options.after){let l=this.getDecorationRange(t);this._onDidChangeDecorations.recordLineAffectedByInjectedText(l.endLineNumber)}if(i.options.before){let l=this.getDecorationRange(t);this._onDidChangeDecorations.recordLineAffectedByInjectedText(l.startLineNumber)}let o=this._validateRangeRelaxedNoAllocations(n),s=this._buffer.getOffsetAt(o.startLineNumber,o.startColumn),a=this._buffer.getOffsetAt(o.endLineNumber,o.endColumn);this._decorationsTree.delete(i),i.reset(this.getVersionId(),s,a,o),this._decorationsTree.insert(i),this._onDidChangeDecorations.checkAffectedAndFire(i.options),i.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(o.endLineNumber),i.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(o.startLineNumber)}_changeDecorationOptionsImpl(t,n){let i=this._decorations[t];if(!i)return;let o=!!(i.options.overviewRuler&&i.options.overviewRuler.color),s=!!(n.overviewRuler&&n.overviewRuler.color);if(this._onDidChangeDecorations.checkAffectedAndFire(i.options),this._onDidChangeDecorations.checkAffectedAndFire(n),i.options.after||n.after){let u=this._decorationsTree.getNodeRange(this,i);this._onDidChangeDecorations.recordLineAffectedByInjectedText(u.endLineNumber)}if(i.options.before||n.before){let u=this._decorationsTree.getNodeRange(this,i);this._onDidChangeDecorations.recordLineAffectedByInjectedText(u.startLineNumber)}let a=o!==s,l=LI(n)!==Eu(i);a||l?(this._decorationsTree.delete(i),i.setOptions(n),this._decorationsTree.insert(i)):i.setOptions(n)}_deltaDecorationsImpl(t,n,i,o=!1){let s=this.getVersionId(),a=n.length,l=0,u=i.length,d=0;this._onDidChangeDecorations.beginDeferredEmit();try{let g=new Array(u);for(;l<a||d<u;){let h=null;if(l<a){do h=this._decorations[n[l++]];while(!h&&l<a);if(h){if(h.options.after){let p=this._decorationsTree.getNodeRange(this,h);this._onDidChangeDecorations.recordLineAffectedByInjectedText(p.endLineNumber)}if(h.options.before){let p=this._decorationsTree.getNodeRange(this,h);this._onDidChangeDecorations.recordLineAffectedByInjectedText(p.startLineNumber)}this._decorationsTree.delete(h),o||this._onDidChangeDecorations.checkAffectedAndFire(h.options)}}if(d<u){if(!h){let k=++this._lastDecorationId,C=`${this._instanceId};${k}`;h=new Ps(C,0,0),this._decorations[C]=h}let p=i[d],b=this._validateRangeRelaxedNoAllocations(p.range),m=x1(p.options),y=this._buffer.getOffsetAt(b.startLineNumber,b.startColumn),I=this._buffer.getOffsetAt(b.endLineNumber,b.endColumn);h.ownerId=t,h.reset(s,y,I,b),h.setOptions(m),h.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(b.endLineNumber),h.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(b.startLineNumber),o||this._onDidChangeDecorations.checkAffectedAndFire(m),this._decorationsTree.insert(h),g[d]=h.id,d++}else h&&delete this._decorations[h.id]}return g}finally{this._onDidChangeDecorations.endDeferredEmit()}}getLanguageId(){return this.tokenization.getLanguageId()}setLanguage(t,n){typeof t=="string"?(this._languageSelectionListener.clear(),this._setLanguage(t,n)):(this._languageSelectionListener.value=t.onDidChange(()=>this._setLanguage(t.languageId,n)),this._setLanguage(t.languageId,n))}_setLanguage(t,n){this.tokenization.setLanguageId(t,n),this._languageService.requestRichLanguageFeatures(t)}getLanguageIdAtPosition(t,n){return this.tokenization.getLanguageIdAtPosition(t,n)}getWordAtPosition(t){return this._tokenizationTextModelPart.getWordAtPosition(t)}getWordUntilPosition(t){return this._tokenizationTextModelPart.getWordUntilPosition(t)}normalizePosition(t,n){return t}getLineIndentColumn(t){return SI(this.getLineContent(t))+1}};Tn=rn([ze(4,eb),ze(5,Vi),ze(6,ii),ze(7,_m)],Tn);function SI(r){let e=0;for(let t of r)if(t===" "||t==="	")e++;else break;return e}function zf(r){return!!(r.options.overviewRuler&&r.options.overviewRuler.color)}function LI(r){return!!r.after||!!r.before}function Eu(r){return!!r.options.after||!!r.options.before}var Ru=class{_decorationsTree0;_decorationsTree1;_injectedTextDecorationsTree;constructor(){this._decorationsTree0=new ho,this._decorationsTree1=new ho,this._injectedTextDecorationsTree=new ho}ensureAllNodesHaveRanges(e){this.getAll(e,0,!1,!1,!1)}_ensureNodesHaveRanges(e,t){for(let n of t)n.range===null&&(n.range=e.getRangeAt(n.cachedAbsoluteStart,n.cachedAbsoluteEnd));return t}getAllInInterval(e,t,n,i,o,s){let a=e.getVersionId(),l=this._intervalSearch(t,n,i,o,a,s);return this._ensureNodesHaveRanges(e,l)}_intervalSearch(e,t,n,i,o,s){let a=this._decorationsTree0.intervalSearch(e,t,n,i,o,s),l=this._decorationsTree1.intervalSearch(e,t,n,i,o,s),u=this._injectedTextDecorationsTree.intervalSearch(e,t,n,i,o,s);return a.concat(l).concat(u)}getInjectedTextInInterval(e,t,n,i){let o=e.getVersionId(),s=this._injectedTextDecorationsTree.intervalSearch(t,n,i,!1,o,!1);return this._ensureNodesHaveRanges(e,s).filter(a=>a.options.showIfCollapsed||!a.range.isEmpty())}getAllInjectedText(e,t){let n=e.getVersionId(),i=this._injectedTextDecorationsTree.search(t,!1,n,!1);return this._ensureNodesHaveRanges(e,i).filter(o=>o.options.showIfCollapsed||!o.range.isEmpty())}getAll(e,t,n,i,o){let s=e.getVersionId(),a=this._search(t,n,i,s,o);return this._ensureNodesHaveRanges(e,a)}_search(e,t,n,i,o){if(n)return this._decorationsTree1.search(e,t,i,o);{let s=this._decorationsTree0.search(e,t,i,o),a=this._decorationsTree1.search(e,t,i,o),l=this._injectedTextDecorationsTree.search(e,t,i,o);return s.concat(a).concat(l)}}collectNodesFromOwner(e){let t=this._decorationsTree0.collectNodesFromOwner(e),n=this._decorationsTree1.collectNodesFromOwner(e),i=this._injectedTextDecorationsTree.collectNodesFromOwner(e);return t.concat(n).concat(i)}collectNodesPostOrder(){let e=this._decorationsTree0.collectNodesPostOrder(),t=this._decorationsTree1.collectNodesPostOrder(),n=this._injectedTextDecorationsTree.collectNodesPostOrder();return e.concat(t).concat(n)}insert(e){Eu(e)?this._injectedTextDecorationsTree.insert(e):zf(e)?this._decorationsTree1.insert(e):this._decorationsTree0.insert(e)}delete(e){Eu(e)?this._injectedTextDecorationsTree.delete(e):zf(e)?this._decorationsTree1.delete(e):this._decorationsTree0.delete(e)}getNodeRange(e,t){let n=e.getVersionId();return t.cachedVersionId!==n&&this._resolveNode(t,n),t.range===null&&(t.range=e.getRangeAt(t.cachedAbsoluteStart,t.cachedAbsoluteEnd)),t.range}_resolveNode(e,t){Eu(e)?this._injectedTextDecorationsTree.resolveNode(e,t):zf(e)?this._decorationsTree1.resolveNode(e,t):this._decorationsTree0.resolveNode(e,t)}acceptReplace(e,t,n,i){this._decorationsTree0.acceptReplace(e,t,n,i),this._decorationsTree1.acceptReplace(e,t,n,i),this._injectedTextDecorationsTree.acceptReplace(e,t,n,i)}};function In(r){return r.replace(/[^a-z0-9\-_]/gi," ")}var Du=class{color;darkColor;constructor(e){this.color=e.color||"",this.darkColor=e.darkColor||""}},Vf=class extends Du{position;_resolvedColor;constructor(e){super(e),this._resolvedColor=null,this.position=typeof e.position=="number"?e.position:2}getColor(e){return this._resolvedColor||(e.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,e):this._resolvedColor=this._resolveColor(this.color,e)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(e,t){if(typeof e=="string")return e;let n=e?t.getColor(e.id):null;return n?n.toString():""}},Hf=class{position;persistLane;constructor(e){this.position=e?.position??2,this.persistLane=e?.persistLane}},Kf=class extends Du{position;sectionHeaderStyle;sectionHeaderText;_resolvedColor;constructor(e){super(e),this.position=e.position,this.sectionHeaderStyle=e.sectionHeaderStyle??null,this.sectionHeaderText=e.sectionHeaderText??null}getColor(e){return this._resolvedColor||(e.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,e):this._resolvedColor=this._resolveColor(this.color,e)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(e,t){return typeof e=="string"?w.fromHex(e):t.getColor(e.id)}},Au=class r{static from(e){return e instanceof r?e:new r(e)}content;tokens;inlineClassName;inlineClassNameAffectsLetterSpacing;attachedData;cursorStops;constructor(e){this.content=e.content||"",this.tokens=e.tokens??null,this.inlineClassName=e.inlineClassName||null,this.inlineClassNameAffectsLetterSpacing=e.inlineClassNameAffectsLetterSpacing||!1,this.attachedData=e.attachedData||null,this.cursorStops=e.cursorStops||null}},Cn=class r{static EMPTY;static register(e){return new r(e)}static createDynamic(e){return new r(e)}description;blockClassName;blockIsAfterEnd;blockDoesNotCollapse;blockPadding;stickiness;zIndex;className;shouldFillLineOnLineBreak;hoverMessage;glyphMarginHoverMessage;isWholeLine;showIfCollapsed;collapseOnReplaceEdit;overviewRuler;minimap;glyphMargin;glyphMarginClassName;linesDecorationsClassName;lineNumberClassName;lineNumberHoverMessage;linesDecorationsTooltip;firstLineDecorationClassName;marginClassName;inlineClassName;inlineClassNameAffectsLetterSpacing;beforeContentClassName;afterContentClassName;after;before;hideInCommentTokens;hideInStringTokens;constructor(e){this.description=e.description,this.blockClassName=e.blockClassName?In(e.blockClassName):null,this.blockDoesNotCollapse=e.blockDoesNotCollapse??null,this.blockIsAfterEnd=e.blockIsAfterEnd??null,this.blockPadding=e.blockPadding??null,this.stickiness=e.stickiness||0,this.zIndex=e.zIndex||0,this.className=e.className?In(e.className):null,this.shouldFillLineOnLineBreak=e.shouldFillLineOnLineBreak??null,this.hoverMessage=e.hoverMessage||null,this.glyphMarginHoverMessage=e.glyphMarginHoverMessage||null,this.lineNumberHoverMessage=e.lineNumberHoverMessage||null,this.isWholeLine=e.isWholeLine||!1,this.showIfCollapsed=e.showIfCollapsed||!1,this.collapseOnReplaceEdit=e.collapseOnReplaceEdit||!1,this.overviewRuler=e.overviewRuler?new Vf(e.overviewRuler):null,this.minimap=e.minimap?new Kf(e.minimap):null,this.glyphMargin=e.glyphMarginClassName?new Hf(e.glyphMargin):null,this.glyphMarginClassName=e.glyphMarginClassName?In(e.glyphMarginClassName):null,this.linesDecorationsClassName=e.linesDecorationsClassName?In(e.linesDecorationsClassName):null,this.lineNumberClassName=e.lineNumberClassName?In(e.lineNumberClassName):null,this.linesDecorationsTooltip=e.linesDecorationsTooltip?Bp(e.linesDecorationsTooltip):null,this.firstLineDecorationClassName=e.firstLineDecorationClassName?In(e.firstLineDecorationClassName):null,this.marginClassName=e.marginClassName?In(e.marginClassName):null,this.inlineClassName=e.inlineClassName?In(e.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=e.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=e.beforeContentClassName?In(e.beforeContentClassName):null,this.afterContentClassName=e.afterContentClassName?In(e.afterContentClassName):null,this.after=e.after?Au.from(e.after):null,this.before=e.before?Au.from(e.before):null,this.hideInCommentTokens=e.hideInCommentTokens??!1,this.hideInStringTokens=e.hideInStringTokens??!1}};Cn.EMPTY=Cn.register({description:"empty"});var y1=[Cn.register({description:"tracked-range-always-grows-when-typing-at-edges",stickiness:0}),Cn.register({description:"tracked-range-never-grows-when-typing-at-edges",stickiness:1}),Cn.register({description:"tracked-range-grows-only-when-typing-before",stickiness:2}),Cn.register({description:"tracked-range-grows-only-when-typing-after",stickiness:3})];function x1(r){return r instanceof Cn?r:Cn.createDynamic(r)}var qf=class extends oe{constructor(t){super();this.handleBeforeFire=t;this._deferredCnt=0,this._shouldFireDeferred=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._affectsGlyphMargin=!1,this._affectsLineNumber=!1}_actual=this._register(new U);event=this._actual.event;_deferredCnt;_shouldFireDeferred;_affectsMinimap;_affectsOverviewRuler;_affectedInjectedTextLines=null;_affectsGlyphMargin;_affectsLineNumber;hasListeners(){return this._actual.hasListeners()}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){this._deferredCnt--,this._deferredCnt===0&&(this._shouldFireDeferred&&this.doFire(),this._affectedInjectedTextLines?.clear(),this._affectedInjectedTextLines=null)}recordLineAffectedByInjectedText(t){this._affectedInjectedTextLines||(this._affectedInjectedTextLines=new Set),this._affectedInjectedTextLines.add(t)}checkAffectedAndFire(t){this._affectsMinimap||=!!t.minimap?.position,this._affectsOverviewRuler||=!!t.overviewRuler?.color,this._affectsGlyphMargin||=!!t.glyphMarginClassName,this._affectsLineNumber||=!!t.lineNumberClassName,this.tryFire()}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._affectsGlyphMargin=!0,this.tryFire()}tryFire(){this._deferredCnt===0?this.doFire():this._shouldFireDeferred=!0}doFire(){this.handleBeforeFire(this._affectedInjectedTextLines);let t={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler,affectsGlyphMargin:this._affectsGlyphMargin,affectsLineNumber:this._affectsLineNumber};this._shouldFireDeferred=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._affectsGlyphMargin=!1,this._actual.fire(t)}},Gf=class extends oe{_fastEmitter=this._register(new U);fastEvent=this._fastEmitter.event;_slowEmitter=this._register(new U);slowEvent=this._slowEmitter.event;_deferredCnt;_deferredEvent;constructor(){super(),this._deferredCnt=0,this._deferredEvent=null}hasListeners(){return this._fastEmitter.hasListeners()||this._slowEmitter.hasListeners()}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(e=null){if(this._deferredCnt--,this._deferredCnt===0&&this._deferredEvent!==null){this._deferredEvent.rawContentChangedEvent.resultingSelection=e;let t=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(t),this._slowEmitter.fire(t)}}fire(e){if(this._deferredCnt>0){this._deferredEvent?this._deferredEvent=this._deferredEvent.merge(e):this._deferredEvent=e;return}this._fastEmitter.fire(e),this._slowEmitter.fire(e)}};var wI=999,$n=class{searchString;isRegex;matchCase;wordSeparators;constructor(e,t,n,i){this.searchString=e,this.isRegex=t,this.matchCase=n,this.wordSeparators=i}parseSearchRequest(){if(this.searchString==="")return null;let e;this.isRegex?e=EI(this.searchString):e=this.searchString.indexOf(`
`)>=0;let t=null;try{t=Ba(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:e,global:!0,unicode:!0})}catch{return null}if(!t)return null;let n=!this.isRegex&&!e;return n&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(n=this.matchCase),new Kl(t,this.wordSeparators?Im(this.wordSeparators,[]):null,n?this.searchString:null)}};function EI(r){if(!r||r.length===0)return!1;for(let e=0,t=r.length;e<t;e++){let n=r.charCodeAt(e);if(n===10)return!0;if(n===92){if(e++,e>=t)break;let i=r.charCodeAt(e);if(i===110||i===114||i===87)return!0}}return!1}function wr(r,e,t){if(!t)return new Tr(r,null);let n=[];for(let i=0,o=e.length;i<o;i++)n[i]=e[i];return new Tr(r,n)}var Nu=class{_lineFeedsOffsets;constructor(e){let t=[],n=0;for(let i=0,o=e.length;i<o;i++)e.charCodeAt(i)===10&&(t[n++]=i);this._lineFeedsOffsets=t}findLineFeedCountBeforeOffset(e){let t=this._lineFeedsOffsets,n=0,i=t.length-1;if(i===-1||e<=t[0])return 0;for(;n<i;){let o=n+((i-n)/2>>0);t[o]>=e?i=o-1:t[o+1]>=e?(n=o,i=o):n=o+1}return n+1}},di=class{static findMatches(e,t,n,i,o){let s=t.parseSearchRequest();return s?s.regex.multiline?this._doFindMatchesMultiline(e,n,new xn(s.wordSeparators,s.regex),i,o):this._doFindMatchesLineByLine(e,n,s,i,o):[]}static _getMultilineMatchRange(e,t,n,i,o,s){let a,l=0;i?(l=i.findLineFeedCountBeforeOffset(o),a=t+o+l):a=t+o;let u;if(i){let p=i.findLineFeedCountBeforeOffset(o+s.length)-l;u=a+s.length+p}else u=a+s.length;let d=e.getPositionAt(a),g=e.getPositionAt(u);return new R(d.lineNumber,d.column,g.lineNumber,g.column)}static _doFindMatchesMultiline(e,t,n,i,o){let s=e.getOffsetAt(t.getStartPosition()),a=e.getValueInRange(t,1),l=e.getEOL()===`\r
`?new Nu(a):null,u=[],d=0,g;for(n.reset(0);g=n.next(a);)if(u[d++]=wr(this._getMultilineMatchRange(e,s,a,l,g.index,g[0]),g,i),d>=o)return u;return u}static _doFindMatchesLineByLine(e,t,n,i,o){let s=[],a=0;if(t.startLineNumber===t.endLineNumber){let u=e.getLineContent(t.startLineNumber).substring(t.startColumn-1,t.endColumn-1);return a=this._findMatchesInLine(n,u,t.startLineNumber,t.startColumn-1,a,s,i,o),s}let l=e.getLineContent(t.startLineNumber).substring(t.startColumn-1);a=this._findMatchesInLine(n,l,t.startLineNumber,t.startColumn-1,a,s,i,o);for(let u=t.startLineNumber+1;u<t.endLineNumber&&a<o;u++)a=this._findMatchesInLine(n,e.getLineContent(u),u,0,a,s,i,o);if(a<o){let u=e.getLineContent(t.endLineNumber).substring(0,t.endColumn-1);a=this._findMatchesInLine(n,u,t.endLineNumber,0,a,s,i,o)}return s}static _findMatchesInLine(e,t,n,i,o,s,a,l){let u=e.wordSeparators;if(!a&&e.simpleSearch){let h=e.simpleSearch,p=h.length,b=t.length,m=-p;for(;(m=t.indexOf(h,m+p))!==-1;)if((!u||xu(u,t,b,m,p))&&(s[o++]=new Tr(new R(n,m+1+i,n,m+1+p+i),null),o>=l))return o;return o}let d=new xn(e.wordSeparators,e.regex),g;d.reset(0);do if(g=d.next(t),g&&(s[o++]=wr(new R(n,g.index+1+i,n,g.index+1+g[0].length+i),g,a),o>=l))return o;while(g);return o}static findNextMatch(e,t,n,i){let o=t.parseSearchRequest();if(!o)return null;let s=new xn(o.wordSeparators,o.regex);return o.regex.multiline?this._doFindNextMatchMultiline(e,n,s,i):this._doFindNextMatchLineByLine(e,n,s,i)}static _doFindNextMatchMultiline(e,t,n,i){let o=new $(t.lineNumber,1),s=e.getOffsetAt(o),a=e.getLineCount(),l=e.getValueInRange(new R(o.lineNumber,o.column,a,e.getLineMaxColumn(a)),1),u=e.getEOL()===`\r
`?new Nu(l):null;n.reset(t.column-1);let d=n.next(l);return d?wr(this._getMultilineMatchRange(e,s,l,u,d.index,d[0]),d,i):t.lineNumber!==1||t.column!==1?this._doFindNextMatchMultiline(e,new $(1,1),n,i):null}static _doFindNextMatchLineByLine(e,t,n,i){let o=e.getLineCount(),s=t.lineNumber,a=e.getLineContent(s),l=this._findFirstMatchInLine(n,a,s,t.column,i);if(l)return l;for(let u=1;u<=o;u++){let d=(s+u-1)%o,g=e.getLineContent(d+1),h=this._findFirstMatchInLine(n,g,d+1,1,i);if(h)return h}return null}static _findFirstMatchInLine(e,t,n,i,o){e.reset(i-1);let s=e.next(t);return s?wr(new R(n,s.index+1,n,s.index+1+s[0].length),s,o):null}static findPreviousMatch(e,t,n,i){let o=t.parseSearchRequest();if(!o)return null;let s=new xn(o.wordSeparators,o.regex);return o.regex.multiline?this._doFindPreviousMatchMultiline(e,n,s,i):this._doFindPreviousMatchLineByLine(e,n,s,i)}static _doFindPreviousMatchMultiline(e,t,n,i){let o=this._doFindMatchesMultiline(e,new R(1,1,t.lineNumber,t.column),n,i,10*wI);if(o.length>0)return o[o.length-1];let s=e.getLineCount();return t.lineNumber!==s||t.column!==e.getLineMaxColumn(s)?this._doFindPreviousMatchMultiline(e,new $(s,e.getLineMaxColumn(s)),n,i):null}static _doFindPreviousMatchLineByLine(e,t,n,i){let o=e.getLineCount(),s=t.lineNumber,a=e.getLineContent(s).substring(0,t.column-1),l=this._findLastMatchInLine(n,a,s,i);if(l)return l;for(let u=1;u<=o;u++){let d=(o+s-u-1)%o,g=e.getLineContent(d+1),h=this._findLastMatchInLine(n,g,d+1,i);if(h)return h}return null}static _findLastMatchInLine(e,t,n,i){let o=null,s;for(e.reset(0);s=e.next(t);)o=wr(new R(n,s.index+1,n,s.index+1+s[0].length),s,i);return o}};function RI(r,e,t,n,i){if(n===0)return!0;let o=e.charCodeAt(n-1);if(r.get(o)!==0||o===13||o===10)return!0;if(i>0){let s=e.charCodeAt(n);if(r.get(s)!==0)return!0}return!1}function DI(r,e,t,n,i){if(n+i===t)return!0;let o=e.charCodeAt(n+i);if(r.get(o)!==0||o===13||o===10)return!0;if(i>0){let s=e.charCodeAt(n+i-1);if(r.get(s)!==0)return!0}return!1}function xu(r,e,t,n,i){return RI(r,e,t,n,i)&&DI(r,e,t,n,i)}var xn=class{_wordSeparators;_searchRegex;_prevMatchStartIndex;_prevMatchLength;constructor(e,t){this._wordSeparators=e,this._searchRegex=t,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(e){this._searchRegex.lastIndex=e,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(e){let t=e.length,n;do{if(this._prevMatchStartIndex+this._prevMatchLength===t||(n=this._searchRegex.exec(e),!n))return null;let i=n.index,o=n[0].length;if(i===this._prevMatchStartIndex&&o===this._prevMatchLength){if(o===0){Di(e,t,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=i,this._prevMatchLength=o,!this._wordSeparators||xu(this._wordSeparators,e,t,i,o))return n}while(n);return null}};var Mu=class{static computeUnicodeHighlights(e,t,n){let i=n?n.startLineNumber:1,o=n?n.endLineNumber:e.getLineCount(),s=new Ou(t),a=s.getCandidateCodePoints(),l;a==="allNonBasicAscii"?l=new RegExp("[^\\t\\n\\r\\x20-\\x7E]","g"):l=new RegExp(`${AI(Array.from(a))}`,"g");let u=new xn(null,l),d=[],g=!1,h,p=0,b=0,m=0;e:for(let y=i,I=o;y<=I;y++){let k=e.getLineContent(y),C=k.length;u.reset(0);do if(h=u.next(k),h){let T=h.index,S=h.index+h[0].length;if(T>0){let O=k.charCodeAt(T-1);rt(O)&&T--}if(S+1<C){let O=k.charCodeAt(S-1);rt(O)&&S++}let E=k.substring(T,S),D=fr(T+1,$o,k,0);D&&D.endColumn<=T+1&&(D=null);let A=s.shouldHighlightNonBasicASCII(E,D?D.word:null);if(A!==0){if(A===3?p++:A===2?b++:A===1?m++:Sa(A),d.length>=1e3){g=!0;break e}d.push(new R(y,T+1,y,S+1))}}while(h)}return{ranges:d,hasMore:g,ambiguousCharacterCount:p,invisibleCharacterCount:b,nonBasicAsciiCharacterCount:m}}static computeUnicodeHighlightReason(e,t){let n=new Ou(t);switch(n.shouldHighlightNonBasicASCII(e,null)){case 0:return null;case 2:return{kind:1};case 3:{let o=e.codePointAt(0),s=n.ambiguousCharacters.getPrimaryConfusable(o),a=Ei.getLocales().filter(l=>!Ei.getInstance(new Set([...t.allowedLocales,l])).isAmbiguous(o));return{kind:0,confusableWith:String.fromCodePoint(s),notAmbiguousInLocales:a}}case 1:return{kind:2}}}};function AI(r,e){return`[${At(r.map(n=>String.fromCodePoint(n)).join(""))}]`}var Ou=class{constructor(e){this.options=e;this.allowedCodePoints=new Set(e.allowedCodePoints),this.ambiguousCharacters=Ei.getInstance(new Set(e.allowedLocales))}allowedCodePoints;ambiguousCharacters;getCandidateCodePoints(){if(this.options.nonBasicASCII)return"allNonBasicAscii";let e=new Set;if(this.options.invisibleCharacters)for(let t of Ri.codePoints)I1(String.fromCodePoint(t))||e.add(t);if(this.options.ambiguousCharacters)for(let t of this.ambiguousCharacters.getConfusableCodePoints())e.add(t);for(let t of this.allowedCodePoints)e.delete(t);return e}shouldHighlightNonBasicASCII(e,t){let n=e.codePointAt(0);if(this.allowedCodePoints.has(n))return 0;if(this.options.nonBasicASCII)return 1;let i=!1,o=!1;if(t)for(let s of t){let a=s.codePointAt(0),l=Va(s);i=i||l,!l&&!this.ambiguousCharacters.isAmbiguous(a)&&!Ri.isInvisibleCharacter(a)&&(o=!0)}return!i&&o?0:this.options.invisibleCharacters&&!I1(e)&&Ri.isInvisibleCharacter(n)?2:this.options.ambiguousCharacters&&this.ambiguousCharacters.isAmbiguous(n)?3:0}};function I1(r){return r===" "||r===`
`||r==="	"}var T1=new RegExp("\\bMARK:\\s*(.*)$","d"),NI=/^-+|-+$/g;function C1(r,e){let t=[];if(e.findRegionSectionHeaders&&e.foldingRules?.markers){let n=MI(r,e);t=t.concat(n)}if(e.findMarkSectionHeaders){let n=OI(r);t=t.concat(n)}return t}function MI(r,e){let t=[],n=r.getLineCount();for(let i=1;i<=n;i++){let o=r.getLineContent(i),s=o.match(e.foldingRules.markers.start);if(s){let a={startLineNumber:i,startColumn:s[0].length+1,endLineNumber:i,endColumn:o.length+1};if(a.endColumn>a.startColumn){let l={range:a,...k1(o.substring(s[0].length)),shouldBeInComments:!1};(l.text||l.hasSeparatorLine)&&t.push(l)}}}return t}function OI(r){let e=[],t=r.getLineCount();for(let n=1;n<=t;n++){let i=r.getLineContent(n);PI(i,n,e)}return e}function PI(r,e,t){T1.lastIndex=0;let n=T1.exec(r);if(n){let i=n.indices[1][0]+1,o=n.indices[1][1]+1,s={startLineNumber:e,startColumn:i,endLineNumber:e,endColumn:o};if(s.endColumn>s.startColumn){let a={range:s,...k1(n[1]),shouldBeInComments:!0};(a.text||a.hasSeparatorLine)&&t.push(a)}}}function k1(r){r=r.trim();let e=r.startsWith("-");return r=r.replace(NI,""),{text:r,hasSeparatorLine:e}}var HY=de("editorWorkerService");var qs=class{_keyCodeToStr;_strToKeyCode;constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(e,t){this._keyCodeToStr[e]=t,this._strToKeyCode[t.toLowerCase()]=e}keyCodeToStr(e){return this._keyCodeToStr[e]}strToKeyCode(e){return this._strToKeyCode[e.toLowerCase()]||0}},Pu=new qs,jf=new qs,$f=new qs,_1=new Array(230),BI={},FI=[],UI=Object.create(null),zI=Object.create(null);var S1=[],Yf=[];for(let r=0;r<=193;r++)S1[r]=-1;for(let r=0;r<=132;r++)Yf[r]=-1;(function(){let r="",e=[[1,0,"None",0,"unknown",0,"VK_UNKNOWN",r,r],[1,1,"Hyper",0,r,0,r,r,r],[1,2,"Super",0,r,0,r,r,r],[1,3,"Fn",0,r,0,r,r,r],[1,4,"FnLock",0,r,0,r,r,r],[1,5,"Suspend",0,r,0,r,r,r],[1,6,"Resume",0,r,0,r,r,r],[1,7,"Turbo",0,r,0,r,r,r],[1,8,"Sleep",0,r,0,"VK_SLEEP",r,r],[1,9,"WakeUp",0,r,0,r,r,r],[0,10,"KeyA",31,"A",65,"VK_A",r,r],[0,11,"KeyB",32,"B",66,"VK_B",r,r],[0,12,"KeyC",33,"C",67,"VK_C",r,r],[0,13,"KeyD",34,"D",68,"VK_D",r,r],[0,14,"KeyE",35,"E",69,"VK_E",r,r],[0,15,"KeyF",36,"F",70,"VK_F",r,r],[0,16,"KeyG",37,"G",71,"VK_G",r,r],[0,17,"KeyH",38,"H",72,"VK_H",r,r],[0,18,"KeyI",39,"I",73,"VK_I",r,r],[0,19,"KeyJ",40,"J",74,"VK_J",r,r],[0,20,"KeyK",41,"K",75,"VK_K",r,r],[0,21,"KeyL",42,"L",76,"VK_L",r,r],[0,22,"KeyM",43,"M",77,"VK_M",r,r],[0,23,"KeyN",44,"N",78,"VK_N",r,r],[0,24,"KeyO",45,"O",79,"VK_O",r,r],[0,25,"KeyP",46,"P",80,"VK_P",r,r],[0,26,"KeyQ",47,"Q",81,"VK_Q",r,r],[0,27,"KeyR",48,"R",82,"VK_R",r,r],[0,28,"KeyS",49,"S",83,"VK_S",r,r],[0,29,"KeyT",50,"T",84,"VK_T",r,r],[0,30,"KeyU",51,"U",85,"VK_U",r,r],[0,31,"KeyV",52,"V",86,"VK_V",r,r],[0,32,"KeyW",53,"W",87,"VK_W",r,r],[0,33,"KeyX",54,"X",88,"VK_X",r,r],[0,34,"KeyY",55,"Y",89,"VK_Y",r,r],[0,35,"KeyZ",56,"Z",90,"VK_Z",r,r],[0,36,"Digit1",22,"1",49,"VK_1",r,r],[0,37,"Digit2",23,"2",50,"VK_2",r,r],[0,38,"Digit3",24,"3",51,"VK_3",r,r],[0,39,"Digit4",25,"4",52,"VK_4",r,r],[0,40,"Digit5",26,"5",53,"VK_5",r,r],[0,41,"Digit6",27,"6",54,"VK_6",r,r],[0,42,"Digit7",28,"7",55,"VK_7",r,r],[0,43,"Digit8",29,"8",56,"VK_8",r,r],[0,44,"Digit9",30,"9",57,"VK_9",r,r],[0,45,"Digit0",21,"0",48,"VK_0",r,r],[1,46,"Enter",3,"Enter",13,"VK_RETURN",r,r],[1,47,"Escape",9,"Escape",27,"VK_ESCAPE",r,r],[1,48,"Backspace",1,"Backspace",8,"VK_BACK",r,r],[1,49,"Tab",2,"Tab",9,"VK_TAB",r,r],[1,50,"Space",10,"Space",32,"VK_SPACE",r,r],[0,51,"Minus",88,"-",189,"VK_OEM_MINUS","-","OEM_MINUS"],[0,52,"Equal",86,"=",187,"VK_OEM_PLUS","=","OEM_PLUS"],[0,53,"BracketLeft",92,"[",219,"VK_OEM_4","[","OEM_4"],[0,54,"BracketRight",94,"]",221,"VK_OEM_6","]","OEM_6"],[0,55,"Backslash",93,"\\",220,"VK_OEM_5","\\","OEM_5"],[0,56,"IntlHash",0,r,0,r,r,r],[0,57,"Semicolon",85,";",186,"VK_OEM_1",";","OEM_1"],[0,58,"Quote",95,"'",222,"VK_OEM_7","'","OEM_7"],[0,59,"Backquote",91,"`",192,"VK_OEM_3","`","OEM_3"],[0,60,"Comma",87,",",188,"VK_OEM_COMMA",",","OEM_COMMA"],[0,61,"Period",89,".",190,"VK_OEM_PERIOD",".","OEM_PERIOD"],[0,62,"Slash",90,"/",191,"VK_OEM_2","/","OEM_2"],[1,63,"CapsLock",8,"CapsLock",20,"VK_CAPITAL",r,r],[1,64,"F1",59,"F1",112,"VK_F1",r,r],[1,65,"F2",60,"F2",113,"VK_F2",r,r],[1,66,"F3",61,"F3",114,"VK_F3",r,r],[1,67,"F4",62,"F4",115,"VK_F4",r,r],[1,68,"F5",63,"F5",116,"VK_F5",r,r],[1,69,"F6",64,"F6",117,"VK_F6",r,r],[1,70,"F7",65,"F7",118,"VK_F7",r,r],[1,71,"F8",66,"F8",119,"VK_F8",r,r],[1,72,"F9",67,"F9",120,"VK_F9",r,r],[1,73,"F10",68,"F10",121,"VK_F10",r,r],[1,74,"F11",69,"F11",122,"VK_F11",r,r],[1,75,"F12",70,"F12",123,"VK_F12",r,r],[1,76,"PrintScreen",0,r,0,r,r,r],[1,77,"ScrollLock",84,"ScrollLock",145,"VK_SCROLL",r,r],[1,78,"Pause",7,"PauseBreak",19,"VK_PAUSE",r,r],[1,79,"Insert",19,"Insert",45,"VK_INSERT",r,r],[1,80,"Home",14,"Home",36,"VK_HOME",r,r],[1,81,"PageUp",11,"PageUp",33,"VK_PRIOR",r,r],[1,82,"Delete",20,"Delete",46,"VK_DELETE",r,r],[1,83,"End",13,"End",35,"VK_END",r,r],[1,84,"PageDown",12,"PageDown",34,"VK_NEXT",r,r],[1,85,"ArrowRight",17,"RightArrow",39,"VK_RIGHT","Right",r],[1,86,"ArrowLeft",15,"LeftArrow",37,"VK_LEFT","Left",r],[1,87,"ArrowDown",18,"DownArrow",40,"VK_DOWN","Down",r],[1,88,"ArrowUp",16,"UpArrow",38,"VK_UP","Up",r],[1,89,"NumLock",83,"NumLock",144,"VK_NUMLOCK",r,r],[1,90,"NumpadDivide",113,"NumPad_Divide",111,"VK_DIVIDE",r,r],[1,91,"NumpadMultiply",108,"NumPad_Multiply",106,"VK_MULTIPLY",r,r],[1,92,"NumpadSubtract",111,"NumPad_Subtract",109,"VK_SUBTRACT",r,r],[1,93,"NumpadAdd",109,"NumPad_Add",107,"VK_ADD",r,r],[1,94,"NumpadEnter",3,r,0,r,r,r],[1,95,"Numpad1",99,"NumPad1",97,"VK_NUMPAD1",r,r],[1,96,"Numpad2",100,"NumPad2",98,"VK_NUMPAD2",r,r],[1,97,"Numpad3",101,"NumPad3",99,"VK_NUMPAD3",r,r],[1,98,"Numpad4",102,"NumPad4",100,"VK_NUMPAD4",r,r],[1,99,"Numpad5",103,"NumPad5",101,"VK_NUMPAD5",r,r],[1,100,"Numpad6",104,"NumPad6",102,"VK_NUMPAD6",r,r],[1,101,"Numpad7",105,"NumPad7",103,"VK_NUMPAD7",r,r],[1,102,"Numpad8",106,"NumPad8",104,"VK_NUMPAD8",r,r],[1,103,"Numpad9",107,"NumPad9",105,"VK_NUMPAD9",r,r],[1,104,"Numpad0",98,"NumPad0",96,"VK_NUMPAD0",r,r],[1,105,"NumpadDecimal",112,"NumPad_Decimal",110,"VK_DECIMAL",r,r],[0,106,"IntlBackslash",97,"OEM_102",226,"VK_OEM_102",r,r],[1,107,"ContextMenu",58,"ContextMenu",93,r,r,r],[1,108,"Power",0,r,0,r,r,r],[1,109,"NumpadEqual",0,r,0,r,r,r],[1,110,"F13",71,"F13",124,"VK_F13",r,r],[1,111,"F14",72,"F14",125,"VK_F14",r,r],[1,112,"F15",73,"F15",126,"VK_F15",r,r],[1,113,"F16",74,"F16",127,"VK_F16",r,r],[1,114,"F17",75,"F17",128,"VK_F17",r,r],[1,115,"F18",76,"F18",129,"VK_F18",r,r],[1,116,"F19",77,"F19",130,"VK_F19",r,r],[1,117,"F20",78,"F20",131,"VK_F20",r,r],[1,118,"F21",79,"F21",132,"VK_F21",r,r],[1,119,"F22",80,"F22",133,"VK_F22",r,r],[1,120,"F23",81,"F23",134,"VK_F23",r,r],[1,121,"F24",82,"F24",135,"VK_F24",r,r],[1,122,"Open",0,r,0,r,r,r],[1,123,"Help",0,r,0,r,r,r],[1,124,"Select",0,r,0,r,r,r],[1,125,"Again",0,r,0,r,r,r],[1,126,"Undo",0,r,0,r,r,r],[1,127,"Cut",0,r,0,r,r,r],[1,128,"Copy",0,r,0,r,r,r],[1,129,"Paste",0,r,0,r,r,r],[1,130,"Find",0,r,0,r,r,r],[1,131,"AudioVolumeMute",117,"AudioVolumeMute",173,"VK_VOLUME_MUTE",r,r],[1,132,"AudioVolumeUp",118,"AudioVolumeUp",175,"VK_VOLUME_UP",r,r],[1,133,"AudioVolumeDown",119,"AudioVolumeDown",174,"VK_VOLUME_DOWN",r,r],[1,134,"NumpadComma",110,"NumPad_Separator",108,"VK_SEPARATOR",r,r],[0,135,"IntlRo",115,"ABNT_C1",193,"VK_ABNT_C1",r,r],[1,136,"KanaMode",0,r,0,r,r,r],[0,137,"IntlYen",0,r,0,r,r,r],[1,138,"Convert",0,r,0,r,r,r],[1,139,"NonConvert",0,r,0,r,r,r],[1,140,"Lang1",0,r,0,r,r,r],[1,141,"Lang2",0,r,0,r,r,r],[1,142,"Lang3",0,r,0,r,r,r],[1,143,"Lang4",0,r,0,r,r,r],[1,144,"Lang5",0,r,0,r,r,r],[1,145,"Abort",0,r,0,r,r,r],[1,146,"Props",0,r,0,r,r,r],[1,147,"NumpadParenLeft",0,r,0,r,r,r],[1,148,"NumpadParenRight",0,r,0,r,r,r],[1,149,"NumpadBackspace",0,r,0,r,r,r],[1,150,"NumpadMemoryStore",0,r,0,r,r,r],[1,151,"NumpadMemoryRecall",0,r,0,r,r,r],[1,152,"NumpadMemoryClear",0,r,0,r,r,r],[1,153,"NumpadMemoryAdd",0,r,0,r,r,r],[1,154,"NumpadMemorySubtract",0,r,0,r,r,r],[1,155,"NumpadClear",131,"Clear",12,"VK_CLEAR",r,r],[1,156,"NumpadClearEntry",0,r,0,r,r,r],[1,0,r,5,"Ctrl",17,"VK_CONTROL",r,r],[1,0,r,4,"Shift",16,"VK_SHIFT",r,r],[1,0,r,6,"Alt",18,"VK_MENU",r,r],[1,0,r,57,"Meta",91,"VK_COMMAND",r,r],[1,157,"ControlLeft",5,r,0,"VK_LCONTROL",r,r],[1,158,"ShiftLeft",4,r,0,"VK_LSHIFT",r,r],[1,159,"AltLeft",6,r,0,"VK_LMENU",r,r],[1,160,"MetaLeft",57,r,0,"VK_LWIN",r,r],[1,161,"ControlRight",5,r,0,"VK_RCONTROL",r,r],[1,162,"ShiftRight",4,r,0,"VK_RSHIFT",r,r],[1,163,"AltRight",6,r,0,"VK_RMENU",r,r],[1,164,"MetaRight",57,r,0,"VK_RWIN",r,r],[1,165,"BrightnessUp",0,r,0,r,r,r],[1,166,"BrightnessDown",0,r,0,r,r,r],[1,167,"MediaPlay",0,r,0,r,r,r],[1,168,"MediaRecord",0,r,0,r,r,r],[1,169,"MediaFastForward",0,r,0,r,r,r],[1,170,"MediaRewind",0,r,0,r,r,r],[1,171,"MediaTrackNext",124,"MediaTrackNext",176,"VK_MEDIA_NEXT_TRACK",r,r],[1,172,"MediaTrackPrevious",125,"MediaTrackPrevious",177,"VK_MEDIA_PREV_TRACK",r,r],[1,173,"MediaStop",126,"MediaStop",178,"VK_MEDIA_STOP",r,r],[1,174,"Eject",0,r,0,r,r,r],[1,175,"MediaPlayPause",127,"MediaPlayPause",179,"VK_MEDIA_PLAY_PAUSE",r,r],[1,176,"MediaSelect",128,"LaunchMediaPlayer",181,"VK_MEDIA_LAUNCH_MEDIA_SELECT",r,r],[1,177,"LaunchMail",129,"LaunchMail",180,"VK_MEDIA_LAUNCH_MAIL",r,r],[1,178,"LaunchApp2",130,"LaunchApp2",183,"VK_MEDIA_LAUNCH_APP2",r,r],[1,179,"LaunchApp1",0,r,0,"VK_MEDIA_LAUNCH_APP1",r,r],[1,180,"SelectTask",0,r,0,r,r,r],[1,181,"LaunchScreenSaver",0,r,0,r,r,r],[1,182,"BrowserSearch",120,"BrowserSearch",170,"VK_BROWSER_SEARCH",r,r],[1,183,"BrowserHome",121,"BrowserHome",172,"VK_BROWSER_HOME",r,r],[1,184,"BrowserBack",122,"BrowserBack",166,"VK_BROWSER_BACK",r,r],[1,185,"BrowserForward",123,"BrowserForward",167,"VK_BROWSER_FORWARD",r,r],[1,186,"BrowserStop",0,r,0,"VK_BROWSER_STOP",r,r],[1,187,"BrowserRefresh",0,r,0,"VK_BROWSER_REFRESH",r,r],[1,188,"BrowserFavorites",0,r,0,"VK_BROWSER_FAVORITES",r,r],[1,189,"ZoomToggle",0,r,0,r,r,r],[1,190,"MailReply",0,r,0,r,r,r],[1,191,"MailForward",0,r,0,r,r,r],[1,192,"MailSend",0,r,0,r,r,r],[1,0,r,114,"KeyInComposition",229,r,r,r],[1,0,r,116,"ABNT_C2",194,"VK_ABNT_C2",r,r],[1,0,r,96,"OEM_8",223,"VK_OEM_8",r,r],[1,0,r,0,r,0,"VK_KANA",r,r],[1,0,r,0,r,0,"VK_HANGUL",r,r],[1,0,r,0,r,0,"VK_JUNJA",r,r],[1,0,r,0,r,0,"VK_FINAL",r,r],[1,0,r,0,r,0,"VK_HANJA",r,r],[1,0,r,0,r,0,"VK_KANJI",r,r],[1,0,r,0,r,0,"VK_CONVERT",r,r],[1,0,r,0,r,0,"VK_NONCONVERT",r,r],[1,0,r,0,r,0,"VK_ACCEPT",r,r],[1,0,r,0,r,0,"VK_MODECHANGE",r,r],[1,0,r,0,r,0,"VK_SELECT",r,r],[1,0,r,0,r,0,"VK_PRINT",r,r],[1,0,r,0,r,0,"VK_EXECUTE",r,r],[1,0,r,0,r,0,"VK_SNAPSHOT",r,r],[1,0,r,0,r,0,"VK_HELP",r,r],[1,0,r,0,r,0,"VK_APPS",r,r],[1,0,r,0,r,0,"VK_PROCESSKEY",r,r],[1,0,r,0,r,0,"VK_PACKET",r,r],[1,0,r,0,r,0,"VK_DBE_SBCSCHAR",r,r],[1,0,r,0,r,0,"VK_DBE_DBCSCHAR",r,r],[1,0,r,0,r,0,"VK_ATTN",r,r],[1,0,r,0,r,0,"VK_CRSEL",r,r],[1,0,r,0,r,0,"VK_EXSEL",r,r],[1,0,r,0,r,0,"VK_EREOF",r,r],[1,0,r,0,r,0,"VK_PLAY",r,r],[1,0,r,0,r,0,"VK_ZOOM",r,r],[1,0,r,0,r,0,"VK_NONAME",r,r],[1,0,r,0,r,0,"VK_PA1",r,r],[1,0,r,0,r,0,"VK_OEM_CLEAR",r,r]],t=[],n=[];for(let i of e){let[o,s,a,l,u,d,g,h,p]=i;if(n[s]||(n[s]=!0,FI[s]=a,UI[a]=s,zI[a.toLowerCase()]=s,o&&(S1[s]=l,l!==0&&l!==3&&l!==5&&l!==4&&l!==6&&l!==57&&(Yf[l]=s))),!t[l]){if(t[l]=!0,!u)throw new Error(`String representation missing for key code ${l} around scan code ${a}`);Pu.define(l,u),jf.define(l,h||u),$f.define(l,p||h||u)}d&&(_1[d]=l),g&&(BI[g]=l)}Yf[3]=46})();var L1;(s=>{function r(a){return Pu.keyCodeToStr(a)}s.toString=r;function e(a){return Pu.strToKeyCode(a)}s.fromString=e;function t(a){return jf.keyCodeToStr(a)}s.toUserSettingsUS=t;function n(a){return $f.keyCodeToStr(a)}s.toUserSettingsGeneral=n;function i(a){return jf.strToKeyCode(a)||$f.strToKeyCode(a)}s.fromUserSettings=i;function o(a){if(a>=98&&a<=113)return null;switch(a){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return Pu.keyCodeToStr(a)}s.toElectronAccelerator=o})(L1||={});function w1(r,e){let t=(e&65535)<<16>>>0;return(r|t)>>>0}var Qf=(x=>(x[x.DependsOnKbLayout=-1]="DependsOnKbLayout",x[x.Unknown=0]="Unknown",x[x.Backspace=1]="Backspace",x[x.Tab=2]="Tab",x[x.Enter=3]="Enter",x[x.Shift=4]="Shift",x[x.Ctrl=5]="Ctrl",x[x.Alt=6]="Alt",x[x.PauseBreak=7]="PauseBreak",x[x.CapsLock=8]="CapsLock",x[x.Escape=9]="Escape",x[x.Space=10]="Space",x[x.PageUp=11]="PageUp",x[x.PageDown=12]="PageDown",x[x.End=13]="End",x[x.Home=14]="Home",x[x.LeftArrow=15]="LeftArrow",x[x.UpArrow=16]="UpArrow",x[x.RightArrow=17]="RightArrow",x[x.DownArrow=18]="DownArrow",x[x.Insert=19]="Insert",x[x.Delete=20]="Delete",x[x.Digit0=21]="Digit0",x[x.Digit1=22]="Digit1",x[x.Digit2=23]="Digit2",x[x.Digit3=24]="Digit3",x[x.Digit4=25]="Digit4",x[x.Digit5=26]="Digit5",x[x.Digit6=27]="Digit6",x[x.Digit7=28]="Digit7",x[x.Digit8=29]="Digit8",x[x.Digit9=30]="Digit9",x[x.KeyA=31]="KeyA",x[x.KeyB=32]="KeyB",x[x.KeyC=33]="KeyC",x[x.KeyD=34]="KeyD",x[x.KeyE=35]="KeyE",x[x.KeyF=36]="KeyF",x[x.KeyG=37]="KeyG",x[x.KeyH=38]="KeyH",x[x.KeyI=39]="KeyI",x[x.KeyJ=40]="KeyJ",x[x.KeyK=41]="KeyK",x[x.KeyL=42]="KeyL",x[x.KeyM=43]="KeyM",x[x.KeyN=44]="KeyN",x[x.KeyO=45]="KeyO",x[x.KeyP=46]="KeyP",x[x.KeyQ=47]="KeyQ",x[x.KeyR=48]="KeyR",x[x.KeyS=49]="KeyS",x[x.KeyT=50]="KeyT",x[x.KeyU=51]="KeyU",x[x.KeyV=52]="KeyV",x[x.KeyW=53]="KeyW",x[x.KeyX=54]="KeyX",x[x.KeyY=55]="KeyY",x[x.KeyZ=56]="KeyZ",x[x.Meta=57]="Meta",x[x.ContextMenu=58]="ContextMenu",x[x.F1=59]="F1",x[x.F2=60]="F2",x[x.F3=61]="F3",x[x.F4=62]="F4",x[x.F5=63]="F5",x[x.F6=64]="F6",x[x.F7=65]="F7",x[x.F8=66]="F8",x[x.F9=67]="F9",x[x.F10=68]="F10",x[x.F11=69]="F11",x[x.F12=70]="F12",x[x.F13=71]="F13",x[x.F14=72]="F14",x[x.F15=73]="F15",x[x.F16=74]="F16",x[x.F17=75]="F17",x[x.F18=76]="F18",x[x.F19=77]="F19",x[x.F20=78]="F20",x[x.F21=79]="F21",x[x.F22=80]="F22",x[x.F23=81]="F23",x[x.F24=82]="F24",x[x.NumLock=83]="NumLock",x[x.ScrollLock=84]="ScrollLock",x[x.Semicolon=85]="Semicolon",x[x.Equal=86]="Equal",x[x.Comma=87]="Comma",x[x.Minus=88]="Minus",x[x.Period=89]="Period",x[x.Slash=90]="Slash",x[x.Backquote=91]="Backquote",x[x.BracketLeft=92]="BracketLeft",x[x.Backslash=93]="Backslash",x[x.BracketRight=94]="BracketRight",x[x.Quote=95]="Quote",x[x.OEM_8=96]="OEM_8",x[x.IntlBackslash=97]="IntlBackslash",x[x.Numpad0=98]="Numpad0",x[x.Numpad1=99]="Numpad1",x[x.Numpad2=100]="Numpad2",x[x.Numpad3=101]="Numpad3",x[x.Numpad4=102]="Numpad4",x[x.Numpad5=103]="Numpad5",x[x.Numpad6=104]="Numpad6",x[x.Numpad7=105]="Numpad7",x[x.Numpad8=106]="Numpad8",x[x.Numpad9=107]="Numpad9",x[x.NumpadMultiply=108]="NumpadMultiply",x[x.NumpadAdd=109]="NumpadAdd",x[x.NUMPAD_SEPARATOR=110]="NUMPAD_SEPARATOR",x[x.NumpadSubtract=111]="NumpadSubtract",x[x.NumpadDecimal=112]="NumpadDecimal",x[x.NumpadDivide=113]="NumpadDivide",x[x.KEY_IN_COMPOSITION=114]="KEY_IN_COMPOSITION",x[x.ABNT_C1=115]="ABNT_C1",x[x.ABNT_C2=116]="ABNT_C2",x[x.AudioVolumeMute=117]="AudioVolumeMute",x[x.AudioVolumeUp=118]="AudioVolumeUp",x[x.AudioVolumeDown=119]="AudioVolumeDown",x[x.BrowserSearch=120]="BrowserSearch",x[x.BrowserHome=121]="BrowserHome",x[x.BrowserBack=122]="BrowserBack",x[x.BrowserForward=123]="BrowserForward",x[x.MediaTrackNext=124]="MediaTrackNext",x[x.MediaTrackPrevious=125]="MediaTrackPrevious",x[x.MediaStop=126]="MediaStop",x[x.MediaPlayPause=127]="MediaPlayPause",x[x.LaunchMediaPlayer=128]="LaunchMediaPlayer",x[x.LaunchMail=129]="LaunchMail",x[x.LaunchApp2=130]="LaunchApp2",x[x.Clear=131]="Clear",x[x.MAX_VALUE=132]="MAX_VALUE",x))(Qf||{}),Xf=(i=>(i[i.Hint=1]="Hint",i[i.Info=2]="Info",i[i.Warning=4]="Warning",i[i.Error=8]="Error",i))(Xf||{}),Jf=(t=>(t[t.Unnecessary=1]="Unnecessary",t[t.Deprecated=2]="Deprecated",t))(Jf||{});var Zf=(t=>(t[t.LTR=0]="LTR",t[t.RTL=1]="RTL",t))(Zf||{});var eh=class{static CtrlCmd=2048;static Shift=1024;static Alt=512;static WinCtrl=256;static chord(e,t){return w1(e,t)}};function E1(){return{editor:void 0,languages:void 0,CancellationTokenSource:lr,Emitter:U,KeyCode:Qf,KeyMod:eh,Position:$,Range:R,Selection:Un,SelectionDirection:Zf,MarkerSeverity:Xf,MarkerTag:Jf,Uri:he,Token:ls}}var Gs=class r{static CHANNEL_NAME="editorWorkerHost";static getChannel(e){return e.getChannel(r.CHANNEL_NAME)}static setChannel(e,t){e.setChannel(r.CHANNEL_NAME,t)}};var _n=class r{constructor(e,t){this.diffs=e;this.hitTimeout=t}static trivial(e,t){return new r([new Ae(Y.ofLength(e.length),Y.ofLength(t.length))],!1)}static trivialTimedOut(e,t){return new r([new Ae(Y.ofLength(e.length),Y.ofLength(t.length))],!0)}},Ae=class r{constructor(e,t){this.seq1Range=e;this.seq2Range=t}static invert(e,t){let n=[];return Vh(e,(i,o)=>{n.push(r.fromOffsetPairs(i?i.getEndExclusives():kn.zero,o?o.getStarts():new kn(t,(i?i.seq2Range.endExclusive-i.seq1Range.endExclusive:0)+t)))}),n}static fromOffsetPairs(e,t){return new r(new Y(e.offset1,t.offset1),new Y(e.offset2,t.offset2))}static assertSorted(e){let t;for(let n of e){if(t&&!(t.seq1Range.endExclusive<=n.seq1Range.start&&t.seq2Range.endExclusive<=n.seq2Range.start))throw new le("Sequence diffs must be sorted");t=n}}swap(){return new r(this.seq2Range,this.seq1Range)}toString(){return`${this.seq1Range} <-> ${this.seq2Range}`}join(e){return new r(this.seq1Range.join(e.seq1Range),this.seq2Range.join(e.seq2Range))}delta(e){return e===0?this:new r(this.seq1Range.delta(e),this.seq2Range.delta(e))}deltaStart(e){return e===0?this:new r(this.seq1Range.deltaStart(e),this.seq2Range.deltaStart(e))}deltaEnd(e){return e===0?this:new r(this.seq1Range.deltaEnd(e),this.seq2Range.deltaEnd(e))}intersectsOrTouches(e){return this.seq1Range.intersectsOrTouches(e.seq1Range)||this.seq2Range.intersectsOrTouches(e.seq2Range)}intersect(e){let t=this.seq1Range.intersect(e.seq1Range),n=this.seq2Range.intersect(e.seq2Range);if(!(!t||!n))return new r(t,n)}getStarts(){return new kn(this.seq1Range.start,this.seq2Range.start)}getEndExclusives(){return new kn(this.seq1Range.endExclusive,this.seq2Range.endExclusive)}},kn=class r{constructor(e,t){this.offset1=e;this.offset2=t}static zero=new r(0,0);static max=new r(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER);toString(){return`${this.offset1} <-> ${this.offset2}`}delta(e){return e===0?this:new r(this.offset1+e,this.offset2+e)}equals(e){return this.offset1===e.offset1&&this.offset2===e.offset2}},Er=class r{static instance=new r;isValid(){return!0}},Bu=class{constructor(e){this.timeout=e;if(e<=0)throw new le("timeout must be positive")}startTime=Date.now();valid=!0;isValid(){return!(Date.now()-this.startTime<this.timeout)&&this.valid&&(this.valid=!1),this.valid}disable(){this.timeout=Number.MAX_SAFE_INTEGER,this.isValid=()=>!0,this.valid=!0}};var xo=class{constructor(e,t){this.width=e;this.height=t;this.array=new Array(e*t)}array=[];get(e,t){return this.array[e+t*this.width]}set(e,t,n){this.array[e+t*this.width]=n}};function $s(r){return r===32||r===9}var js=class r{constructor(e,t,n){this.range=e;this.lines=t;this.source=n;let i=0;for(let o=e.startLineNumber-1;o<e.endLineNumberExclusive-1;o++){let s=t[o];for(let l=0;l<s.length;l++){i++;let u=s[l],d=r.getKey(u);this.histogram[d]=(this.histogram[d]||0)+1}i++;let a=r.getKey(`
`);this.histogram[a]=(this.histogram[a]||0)+1}this.totalCount=i}static chrKeys=new Map;static getKey(e){let t=this.chrKeys.get(e);return t===void 0&&(t=this.chrKeys.size,this.chrKeys.set(e,t)),t}totalCount;histogram=[];computeSimilarity(e){let t=0,n=Math.max(this.histogram.length,e.histogram.length);for(let i=0;i<n;i++)t+=Math.abs((this.histogram[i]??0)-(e.histogram[i]??0));return 1-t/(this.totalCount+e.totalCount)}};var Fu=class{compute(e,t,n=Er.instance,i){if(e.length===0||t.length===0)return _n.trivial(e,t);let o=new xo(e.length,t.length),s=new xo(e.length,t.length),a=new xo(e.length,t.length);for(let b=0;b<e.length;b++)for(let m=0;m<t.length;m++){if(!n.isValid())return _n.trivialTimedOut(e,t);let y=b===0?0:o.get(b-1,m),I=m===0?0:o.get(b,m-1),k;e.getElement(b)===t.getElement(m)?(b===0||m===0?k=0:k=o.get(b-1,m-1),b>0&&m>0&&s.get(b-1,m-1)===3&&(k+=a.get(b-1,m-1)),k+=i?i(b,m):1):k=-1;let C=Math.max(y,I,k);if(C===k){let T=b>0&&m>0?a.get(b-1,m-1):0;a.set(b,m,T+1),s.set(b,m,3)}else C===y?(a.set(b,m,0),s.set(b,m,1)):C===I&&(a.set(b,m,0),s.set(b,m,2));o.set(b,m,C)}let l=[],u=e.length,d=t.length;function g(b,m){(b+1!==u||m+1!==d)&&l.push(new Ae(new Y(b+1,u),new Y(m+1,d))),u=b,d=m}let h=e.length-1,p=t.length-1;for(;h>=0&&p>=0;)s.get(h,p)===3?(g(h,p),h--,p--):s.get(h,p)===1?h--:p--;return g(-1,-1),l.reverse(),new _n(l,!1)}};var Io=class{compute(e,t,n=Er.instance){if(e.length===0||t.length===0)return _n.trivial(e,t);let i=e,o=t;function s(m,y){for(;m<i.length&&y<o.length&&i.getElement(m)===o.getElement(y);)m++,y++;return m}let a=0,l=new th;l.set(0,s(0,0));let u=new nh;u.set(0,l.get(0)===0?null:new Uu(null,0,0,l.get(0)));let d=0;e:for(;;){if(a++,!n.isValid())return _n.trivialTimedOut(i,o);let m=-Math.min(a,o.length+a%2),y=Math.min(a,i.length+a%2);for(d=m;d<=y;d+=2){let I=0,k=d===y?-1:l.get(d+1),C=d===m?-1:l.get(d-1)+1;I++;let T=Math.min(Math.max(k,C),i.length),S=T-d;if(I++,T>i.length||S>o.length)continue;let E=s(T,S);l.set(d,E);let D=T===k?u.get(d+1):u.get(d-1);if(u.set(d,E!==T?new Uu(D,T,S,E-T):D),l.get(d)===i.length&&l.get(d)-d===o.length)break e}}let g=u.get(d),h=[],p=i.length,b=o.length;for(;;){let m=g?g.x+g.length:0,y=g?g.y+g.length:0;if((m!==p||y!==b)&&h.push(new Ae(new Y(m,p),new Y(y,b))),!g)break;p=g.x,b=g.y,g=g.prev}return h.reverse(),new _n(h,!1)}},Uu=class{constructor(e,t,n,i){this.prev=e;this.x=t;this.y=n;this.length=i}},th=class{positiveArr=new Int32Array(10);negativeArr=new Int32Array(10);get(e){return e<0?(e=-e-1,this.negativeArr[e]):this.positiveArr[e]}set(e,t){if(e<0){if(e=-e-1,e>=this.negativeArr.length){let n=this.negativeArr;this.negativeArr=new Int32Array(n.length*2),this.negativeArr.set(n)}this.negativeArr[e]=t}else{if(e>=this.positiveArr.length){let n=this.positiveArr;this.positiveArr=new Int32Array(n.length*2),this.positiveArr.set(n)}this.positiveArr[e]=t}}},nh=class{positiveArr=[];negativeArr=[];get(e){return e<0?(e=-e-1,this.negativeArr[e]):this.positiveArr[e]}set(e,t){e<0?(e=-e-1,this.negativeArr[e]=t):this.positiveArr[e]=t}};var Rr=class{constructor(e,t,n){this.lines=e;this.range=t;this.considerWhitespaceChanges=n;this.firstElementOffsetByLineIdx.push(0);for(let i=this.range.startLineNumber;i<=this.range.endLineNumber;i++){let o=e[i-1],s=0;i===this.range.startLineNumber&&this.range.startColumn>1&&(s=this.range.startColumn-1,o=o.substring(s)),this.lineStartOffsets.push(s);let a=0;if(!n){let u=o.trimStart();a=o.length-u.length,o=u.trimEnd()}this.trimmedWsLengthsByLineIdx.push(a);let l=i===this.range.endLineNumber?Math.min(this.range.endColumn-1-s-a,o.length):o.length;for(let u=0;u<l;u++)this.elements.push(o.charCodeAt(u));i<this.range.endLineNumber&&(this.elements.push(10),this.firstElementOffsetByLineIdx.push(this.elements.length))}}elements=[];firstElementOffsetByLineIdx=[];lineStartOffsets=[];trimmedWsLengthsByLineIdx=[];toString(){return`Slice: "${this.text}"`}get text(){return this.getText(new Y(0,this.length))}getText(e){return this.elements.slice(e.start,e.endExclusive).map(t=>String.fromCharCode(t)).join("")}getElement(e){return this.elements[e]}get length(){return this.elements.length}getBoundaryScore(e){let t=D1(e>0?this.elements[e-1]:-1),n=D1(e<this.elements.length?this.elements[e]:-1);if(t===7&&n===8)return 0;if(t===8)return 150;let i=0;return t!==n&&(i+=10,t===0&&n===1&&(i+=1)),i+=R1(t),i+=R1(n),i}translateOffset(e,t="right"){let n=Xn(this.firstElementOffsetByLineIdx,o=>o<=e),i=e-this.firstElementOffsetByLineIdx[n];return new $(this.range.startLineNumber+n,1+this.lineStartOffsets[n]+i+(i===0&&t==="left"?0:this.trimmedWsLengthsByLineIdx[n]))}translateRange(e){let t=this.translateOffset(e.start,"right"),n=this.translateOffset(e.endExclusive,"left");return n.isBefore(t)?R.fromPositions(n,n):R.fromPositions(t,n)}findWordContaining(e){if(e<0||e>=this.elements.length||!rh(this.elements[e]))return;let t=e;for(;t>0&&rh(this.elements[t-1]);)t--;let n=e;for(;n<this.elements.length&&rh(this.elements[n]);)n++;return new Y(t,n)}countLinesIn(e){return this.translateOffset(e.endExclusive).lineNumber-this.translateOffset(e.start).lineNumber}isStronglyEqual(e,t){return this.elements[e]===this.elements[t]}extendToFullLines(e){let t=An(this.firstElementOffsetByLineIdx,i=>i<=e.start)??0,n=zh(this.firstElementOffsetByLineIdx,i=>e.endExclusive<=i)??this.elements.length;return new Y(t,n)}};function rh(r){return r>=97&&r<=122||r>=65&&r<=90||r>=48&&r<=57}var HI={0:0,1:0,2:0,3:10,4:2,5:30,6:3,7:10,8:10};function R1(r){return HI[r]}function D1(r){return r===10?8:r===13?7:$s(r)?6:r>=97&&r<=122?0:r>=65&&r<=90?1:r>=48&&r<=57?2:r===-1?3:r===44||r===59?5:4}function N1(r,e,t,n,i,o){let{moves:s,excludedChanges:a}=qI(r,e,t,o);if(!o.isValid())return[];let l=r.filter(d=>!a.has(d)),u=GI(l,n,i,e,t,o);return Eo(s,u),s=jI(s),s=s.filter(d=>{let g=d.original.toOffsetRange().slice(e).map(p=>p.trim());return g.join(`
`).length>=15&&KI(g,p=>p.length>=2)>=2}),s=$I(r,s),s}function KI(r,e){let t=0;for(let n of r)e(n)&&t++;return t}function qI(r,e,t,n){let i=[],o=r.filter(l=>l.modified.isEmpty&&l.original.length>=3).map(l=>new js(l.original,e,l)),s=new Set(r.filter(l=>l.original.isEmpty&&l.modified.length>=3).map(l=>new js(l.modified,t,l))),a=new Set;for(let l of o){let u=-1,d;for(let g of s){let h=l.computeSimilarity(g);h>u&&(u=h,d=g)}if(u>.9&&d&&(s.delete(d),i.push(new Ot(l.range,d.range)),a.add(l.source),a.add(d.source)),!n.isValid())return{moves:i,excludedChanges:a}}return{moves:i,excludedChanges:a}}function GI(r,e,t,n,i,o){let s=[],a=new Mo;for(let h of r)for(let p=h.original.startLineNumber;p<h.original.endLineNumberExclusive-2;p++){let b=`${e[p-1]}:${e[p+1-1]}:${e[p+2-1]}`;a.add(b,{range:new ne(p,p+3)})}let l=[];r.sort(Zn(h=>h.modified.startLineNumber,yi));for(let h of r){let p=[];for(let b=h.modified.startLineNumber;b<h.modified.endLineNumberExclusive-2;b++){let m=`${t[b-1]}:${t[b+1-1]}:${t[b+2-1]}`,y=new ne(b,b+3),I=[];a.forEach(m,({range:k})=>{for(let T of p)if(T.originalLineRange.endLineNumberExclusive+1===k.endLineNumberExclusive&&T.modifiedLineRange.endLineNumberExclusive+1===y.endLineNumberExclusive){T.originalLineRange=new ne(T.originalLineRange.startLineNumber,k.endLineNumberExclusive),T.modifiedLineRange=new ne(T.modifiedLineRange.startLineNumber,y.endLineNumberExclusive),I.push(T);return}let C={modifiedLineRange:y,originalLineRange:k};l.push(C),I.push(C)}),p=I}if(!o.isValid())return[]}l.sort(qh(Zn(h=>h.modifiedLineRange.length,yi)));let u=new jr,d=new jr;for(let h of l){let p=h.modifiedLineRange.startLineNumber-h.originalLineRange.startLineNumber,b=u.subtractFrom(h.modifiedLineRange),m=d.subtractFrom(h.originalLineRange).getWithDelta(p),y=b.getIntersection(m);for(let I of y.ranges){if(I.length<3)continue;let k=I,C=I.delta(-p);s.push(new Ot(C,k)),u.addRange(k),d.addRange(C)}}s.sort(Zn(h=>h.original.startLineNumber,yi));let g=new Lo(r);for(let h=0;h<s.length;h++){let p=s[h],b=g.findLastMonotonous(E=>E.original.startLineNumber<=p.original.startLineNumber),m=An(r,E=>E.modified.startLineNumber<=p.modified.startLineNumber),y=Math.max(p.original.startLineNumber-b.original.startLineNumber,p.modified.startLineNumber-m.modified.startLineNumber),I=g.findLastMonotonous(E=>E.original.startLineNumber<p.original.endLineNumberExclusive),k=An(r,E=>E.modified.startLineNumber<p.modified.endLineNumberExclusive),C=Math.max(I.original.endLineNumberExclusive-p.original.endLineNumberExclusive,k.modified.endLineNumberExclusive-p.modified.endLineNumberExclusive),T;for(T=0;T<y;T++){let E=p.original.startLineNumber-T-1,D=p.modified.startLineNumber-T-1;if(E>n.length||D>i.length||u.contains(D)||d.contains(E)||!A1(n[E-1],i[D-1],o))break}T>0&&(d.addRange(new ne(p.original.startLineNumber-T,p.original.startLineNumber)),u.addRange(new ne(p.modified.startLineNumber-T,p.modified.startLineNumber)));let S;for(S=0;S<C;S++){let E=p.original.endLineNumberExclusive+S,D=p.modified.endLineNumberExclusive+S;if(E>n.length||D>i.length||u.contains(D)||d.contains(E)||!A1(n[E-1],i[D-1],o))break}S>0&&(d.addRange(new ne(p.original.endLineNumberExclusive,p.original.endLineNumberExclusive+S)),u.addRange(new ne(p.modified.endLineNumberExclusive,p.modified.endLineNumberExclusive+S))),(T>0||S>0)&&(s[h]=new Ot(new ne(p.original.startLineNumber-T,p.original.endLineNumberExclusive+S),new ne(p.modified.startLineNumber-T,p.modified.endLineNumberExclusive+S)))}return s}function A1(r,e,t){if(r.trim()===e.trim())return!0;if(r.length>300&&e.length>300)return!1;let i=new Io().compute(new Rr([r],new R(1,1,1,r.length),!1),new Rr([e],new R(1,1,1,e.length),!1),t),o=0,s=Ae.invert(i.diffs,r.length);for(let d of s)d.seq1Range.forEach(g=>{$s(r.charCodeAt(g))||o++});function a(d){let g=0;for(let h=0;h<r.length;h++)$s(d.charCodeAt(h))||g++;return g}let l=a(r.length>e.length?r:e);return o/l>.6&&l>10}function jI(r){if(r.length===0)return r;r.sort(Zn(t=>t.original.startLineNumber,yi));let e=[r[0]];for(let t=1;t<r.length;t++){let n=e[e.length-1],i=r[t],o=i.original.startLineNumber-n.original.endLineNumberExclusive,s=i.modified.startLineNumber-n.modified.endLineNumberExclusive;if(o>=0&&s>=0&&o+s<=2){e[e.length-1]=n.join(i);continue}e.push(i)}return e}function $I(r,e){let t=new Lo(r);return e=e.filter(n=>{let i=t.findLastMonotonous(a=>a.original.startLineNumber<n.original.endLineNumberExclusive)||new Ot(new ne(1,1),new ne(1,1)),o=An(r,a=>a.modified.startLineNumber<n.modified.endLineNumberExclusive);return i!==o}),e}var Ys=class{constructor(e,t){this.trimmedHash=e;this.lines=t}getElement(e){return this.trimmedHash[e]}get length(){return this.trimmedHash.length}getBoundaryScore(e){let t=e===0?0:M1(this.lines[e-1]),n=e===this.lines.length?0:M1(this.lines[e]);return 1e3-(t+n)}getText(e){return this.lines.slice(e.start,e.endExclusive).join(`
`)}isStronglyEqual(e,t){return this.lines[e]===this.lines[t]}};function M1(r){let e=0;for(;e<r.length&&(r.charCodeAt(e)===32||r.charCodeAt(e)===9);)e++;return e}function ih(r,e,t){let n=t;return n=O1(r,e,n),n=O1(r,e,n),n=YI(r,e,n),n}function O1(r,e,t){if(t.length===0)return t;let n=[];n.push(t[0]);for(let o=1;o<t.length;o++){let s=n[n.length-1],a=t[o];if(a.seq1Range.isEmpty||a.seq2Range.isEmpty){let l=a.seq1Range.start-s.seq1Range.endExclusive,u;for(u=1;u<=l&&!(r.getElement(a.seq1Range.start-u)!==r.getElement(a.seq1Range.endExclusive-u)||e.getElement(a.seq2Range.start-u)!==e.getElement(a.seq2Range.endExclusive-u));u++);if(u--,u===l){n[n.length-1]=new Ae(new Y(s.seq1Range.start,a.seq1Range.endExclusive-l),new Y(s.seq2Range.start,a.seq2Range.endExclusive-l));continue}a=a.delta(-u)}n.push(a)}let i=[];for(let o=0;o<n.length-1;o++){let s=n[o+1],a=n[o];if(a.seq1Range.isEmpty||a.seq2Range.isEmpty){let l=s.seq1Range.start-a.seq1Range.endExclusive,u;for(u=0;u<l&&!(!r.isStronglyEqual(a.seq1Range.start+u,a.seq1Range.endExclusive+u)||!e.isStronglyEqual(a.seq2Range.start+u,a.seq2Range.endExclusive+u));u++);if(u===l){n[o+1]=new Ae(new Y(a.seq1Range.start+l,s.seq1Range.endExclusive),new Y(a.seq2Range.start+l,s.seq2Range.endExclusive));continue}u>0&&(a=a.delta(u))}i.push(a)}return n.length>0&&i.push(n[n.length-1]),i}function YI(r,e,t){if(!r.getBoundaryScore||!e.getBoundaryScore)return t;for(let n=0;n<t.length;n++){let i=n>0?t[n-1]:void 0,o=t[n],s=n+1<t.length?t[n+1]:void 0,a=new Y(i?i.seq1Range.endExclusive+1:0,s?s.seq1Range.start-1:r.length),l=new Y(i?i.seq2Range.endExclusive+1:0,s?s.seq2Range.start-1:e.length);o.seq1Range.isEmpty?t[n]=P1(o,r,e,a,l):o.seq2Range.isEmpty&&(t[n]=P1(o.swap(),e,r,l,a).swap())}return t}function P1(r,e,t,n,i){let s=1;for(;r.seq1Range.start-s>=n.start&&r.seq2Range.start-s>=i.start&&t.isStronglyEqual(r.seq2Range.start-s,r.seq2Range.endExclusive-s)&&s<100;)s++;s--;let a=0;for(;r.seq1Range.start+a<n.endExclusive&&r.seq2Range.endExclusive+a<i.endExclusive&&t.isStronglyEqual(r.seq2Range.start+a,r.seq2Range.endExclusive+a)&&a<100;)a++;if(s===0&&a===0)return r;let l=0,u=-1;for(let d=-s;d<=a;d++){let g=r.seq2Range.start+d,h=r.seq2Range.endExclusive+d,p=r.seq1Range.start+d,b=e.getBoundaryScore(p)+t.getBoundaryScore(g)+t.getBoundaryScore(h);b>u&&(u=b,l=d)}return r.delta(l)}function B1(r,e,t){let n=[];for(let i of t){let o=n[n.length-1];if(!o){n.push(i);continue}i.seq1Range.start-o.seq1Range.endExclusive<=2||i.seq2Range.start-o.seq2Range.endExclusive<=2?n[n.length-1]=new Ae(o.seq1Range.join(i.seq1Range),o.seq2Range.join(i.seq2Range)):n.push(i)}return n}function F1(r,e,t){let n=Ae.invert(t,r.length),i=[],o=new kn(0,0);function s(l,u){if(l.offset1<o.offset1||l.offset2<o.offset2)return;let d=r.findWordContaining(l.offset1),g=e.findWordContaining(l.offset2);if(!d||!g)return;let h=new Ae(d,g),p=h.intersect(u),b=p.seq1Range.length,m=p.seq2Range.length;for(;n.length>0;){let y=n[0];if(!(y.seq1Range.intersects(h.seq1Range)||y.seq2Range.intersects(h.seq2Range)))break;let k=r.findWordContaining(y.seq1Range.start),C=e.findWordContaining(y.seq2Range.start),T=new Ae(k,C),S=T.intersect(y);if(b+=S.seq1Range.length,m+=S.seq2Range.length,h=h.join(T),h.seq1Range.endExclusive>=y.seq1Range.endExclusive)n.shift();else break}b+m<(h.seq1Range.length+h.seq2Range.length)*2/3&&i.push(h),o=h.getEndExclusives()}for(;n.length>0;){let l=n.shift();l.seq1Range.isEmpty||(s(l.getStarts(),l),s(l.getEndExclusives().delta(-1),l))}return QI(t,i)}function QI(r,e){let t=[];for(;r.length>0||e.length>0;){let n=r[0],i=e[0],o;n&&(!i||n.seq1Range.start<i.seq1Range.start)?o=r.shift():o=e.shift(),t.length>0&&t[t.length-1].seq1Range.endExclusive>=o.seq1Range.start?t[t.length-1]=t[t.length-1].join(o):t.push(o)}return t}function U1(r,e,t){let n=t;if(n.length===0)return n;let i=0,o;do{o=!1;let a=[n[0]];for(let l=1;l<n.length;l++){let g=function(p,b){let m=new Y(d.seq1Range.endExclusive,u.seq1Range.start);return r.getText(m).replace(/\s/g,"").length<=4&&(p.seq1Range.length+p.seq2Range.length>5||b.seq1Range.length+b.seq2Range.length>5)};var s=g;let u=n[l],d=a[a.length-1];g(d,u)?(o=!0,a[a.length-1]=a[a.length-1].join(u)):a.push(u)}n=a}while(i++<10&&o);return n}function z1(r,e,t){let n=t;if(n.length===0)return n;let i=0,o;do{o=!1;let l=[n[0]];for(let u=1;u<n.length;u++){let h=function(b,m){let y=new Y(g.seq1Range.endExclusive,d.seq1Range.start);if(r.countLinesIn(y)>5||y.length>500)return!1;let k=r.getText(y).trim();if(k.length>20||k.split(/\r\n|\r|\n/).length>1)return!1;let C=r.countLinesIn(b.seq1Range),T=b.seq1Range.length,S=e.countLinesIn(b.seq2Range),E=b.seq2Range.length,D=r.countLinesIn(m.seq1Range),A=m.seq1Range.length,O=e.countLinesIn(m.seq2Range),V=m.seq2Range.length,Q=2*40+50;function K(me){return Math.min(me,Q)}return Math.pow(Math.pow(K(C*40+T),1.5)+Math.pow(K(S*40+E),1.5),1.5)+Math.pow(Math.pow(K(D*40+A),1.5)+Math.pow(K(O*40+V),1.5),1.5)>(Q**1.5)**1.5*1.3};var a=h;let d=n[u],g=l[l.length-1];h(g,d)?(o=!0,l[l.length-1]=l[l.length-1].join(d)):l.push(d)}n=l}while(i++<10&&o);let s=[];return Hh(n,(l,u,d)=>{let g=u;function h(k){return k.length>0&&k.trim().length<=3&&u.seq1Range.length+u.seq2Range.length>100}let p=r.extendToFullLines(u.seq1Range),b=r.getText(new Y(p.start,u.seq1Range.start));h(b)&&(g=g.deltaStart(-b.length));let m=r.getText(new Y(u.seq1Range.endExclusive,p.endExclusive));h(m)&&(g=g.deltaEnd(m.length));let y=Ae.fromOffsetPairs(l?l.getEndExclusives():kn.zero,d?d.getStarts():kn.max),I=g.intersect(y);s.length>0&&I.getStarts().equals(s[s.length-1].getEndExclusives())?s[s.length-1]=s[s.length-1].join(I):s.push(I)}),s}var zu=class{dynamicProgrammingDiffing=new Fu;myersDiffingAlgorithm=new Io;computeDiff(e,t,n){if(e.length<=1&&Jn(e,t,(S,E)=>S===E))return new _r([],[],!1);if(e.length===1&&e[0].length===0||t.length===1&&t[0].length===0)return new _r([new Xt(new ne(1,e.length+1),new ne(1,t.length+1),[new gt(new R(1,1,e.length,e[e.length-1].length+1),new R(1,1,t.length,t[t.length-1].length+1))])],[],!1);let i=n.maxComputationTimeMs===0?Er.instance:new Bu(n.maxComputationTimeMs),o=!n.ignoreTrimWhitespace,s=new Map;function a(S){let E=s.get(S);return E===void 0&&(E=s.size,s.set(S,E)),E}let l=e.map(S=>a(S.trim())),u=t.map(S=>a(S.trim())),d=new Ys(l,e),g=new Ys(u,t),h=d.length+g.length<1700?this.dynamicProgrammingDiffing.compute(d,g,i,(S,E)=>e[S]===t[E]?t[E].length===0?.1:1+Math.log(1+t[E].length):.99):this.myersDiffingAlgorithm.compute(d,g,i),p=h.diffs,b=h.hitTimeout;p=ih(d,g,p),p=U1(d,g,p);let m=[],y=S=>{if(o)for(let E=0;E<S;E++){let D=I+E,A=k+E;if(e[D]!==t[A]){let O=this.refineDiff(e,t,new Ae(new Y(D,D+1),new Y(A,A+1)),i,o);for(let V of O.mappings)m.push(V);O.hitTimeout&&(b=!0)}}},I=0,k=0;for(let S of p){Wt(()=>S.seq1Range.start-I===S.seq2Range.start-k);let E=S.seq1Range.start-I;y(E),I=S.seq1Range.endExclusive,k=S.seq2Range.endExclusive;let D=this.refineDiff(e,t,S,i,o);D.hitTimeout&&(b=!0);for(let A of D.mappings)m.push(A)}y(e.length-I);let C=W1(m,e,t),T=[];return n.computeMoves&&(T=this.computeMoves(C,e,t,l,u,i,o)),Wt(()=>{function S(D,A){if(D.lineNumber<1||D.lineNumber>A.length)return!1;let O=A[D.lineNumber-1];return!(D.column<1||D.column>O.length+1)}function E(D,A){return!(D.startLineNumber<1||D.startLineNumber>A.length+1||D.endLineNumberExclusive<1||D.endLineNumberExclusive>A.length+1)}for(let D of C){if(!D.innerChanges)return!1;for(let A of D.innerChanges)if(!(S(A.modifiedRange.getStartPosition(),t)&&S(A.modifiedRange.getEndPosition(),t)&&S(A.originalRange.getStartPosition(),e)&&S(A.originalRange.getEndPosition(),e)))return!1;if(!E(D.modified,t)||!E(D.original,e))return!1}return!0}),new _r(C,T,b)}computeMoves(e,t,n,i,o,s,a){return N1(e,t,n,i,o,s).map(d=>{let g=this.refineDiff(t,n,new Ae(d.original.toOffsetRange(),d.modified.toOffsetRange()),s,a),h=W1(g.mappings,t,n,!0);return new no(d,h)})}refineDiff(e,t,n,i,o){let a=JI(n).toRangeMapping2(e,t),l=new Rr(e,a.originalRange,o),u=new Rr(t,a.modifiedRange,o),d=l.length+u.length<500?this.dynamicProgrammingDiffing.compute(l,u,i):this.myersDiffingAlgorithm.compute(l,u,i),g=!1,h=d.diffs;g&&Ae.assertSorted(h),h=ih(l,u,h),g&&Ae.assertSorted(h),h=F1(l,u,h),g&&Ae.assertSorted(h),h=B1(l,u,h),g&&Ae.assertSorted(h),h=z1(l,u,h),g&&Ae.assertSorted(h);let p=h.map(b=>new gt(l.translateRange(b.seq1Range),u.translateRange(b.seq2Range)));return g&&gt.assertSorted(p),{mappings:p,hitTimeout:d.hitTimeout}}};function W1(r,e,t,n=!1){let i=[];for(let o of Wh(r.map(s=>XI(s,e,t)),(s,a)=>s.original.overlapOrTouch(a.original)||s.modified.overlapOrTouch(a.modified))){let s=o[0],a=o[o.length-1];i.push(new Xt(s.original.join(a.original),s.modified.join(a.modified),o.map(l=>l.innerChanges[0])))}return Wt(()=>!n&&i.length>0&&(i[0].modified.startLineNumber!==i[0].original.startLineNumber||t.length-i[i.length-1].modified.endLineNumberExclusive!==e.length-i[i.length-1].original.endLineNumberExclusive)?!1:Po(i,(o,s)=>s.original.startLineNumber-o.original.endLineNumberExclusive===s.modified.startLineNumber-o.modified.endLineNumberExclusive&&o.original.endLineNumberExclusive<s.original.startLineNumber&&o.modified.endLineNumberExclusive<s.modified.startLineNumber)),i}function XI(r,e,t){let n=0,i=0;r.modifiedRange.endColumn===1&&r.originalRange.endColumn===1&&r.originalRange.startLineNumber+n<=r.originalRange.endLineNumber&&r.modifiedRange.startLineNumber+n<=r.modifiedRange.endLineNumber&&(i=-1),r.modifiedRange.startColumn-1>=t[r.modifiedRange.startLineNumber-1].length&&r.originalRange.startColumn-1>=e[r.originalRange.startLineNumber-1].length&&r.originalRange.startLineNumber<=r.originalRange.endLineNumber+i&&r.modifiedRange.startLineNumber<=r.modifiedRange.endLineNumber+i&&(n=1);let o=new ne(r.originalRange.startLineNumber+n,r.originalRange.endLineNumber+1+i),s=new ne(r.modifiedRange.startLineNumber+n,r.modifiedRange.endLineNumber+1+i);return new Xt(o,s,[r])}function JI(r){return new Ot(new ne(r.seq1Range.start+1,r.seq1Range.endExclusive+1),new ne(r.seq2Range.start+1,r.seq2Range.endExclusive+1))}var Wu={getLegacy:()=>new Zl,getDefault:()=>new zu};function K1(r){let e=[];for(let t of r){let n=Number(t);(n||n===0&&t.replace(/\s/g,"")!=="")&&e.push(n)}return e}function oh(r,e,t,n){return{red:r/255,blue:t/255,green:e/255,alpha:n}}function Qs(r,e){let t=e.index,n=e[0].length;if(!t)return;let i=r.positionAt(t);return{startLineNumber:i.lineNumber,startColumn:i.column,endLineNumber:i.lineNumber,endColumn:i.column+n}}function ZI(r,e){if(!r)return;let t=w.Format.CSS.parseHex(e);if(t)return{range:r,color:oh(t.rgba.r,t.rgba.g,t.rgba.b,t.rgba.a)}}function V1(r,e,t){if(!r||e.length!==1)return;let i=e[0].values(),o=K1(i);return{range:r,color:oh(o[0],o[1],o[2],t?o[3]:1)}}function H1(r,e,t){if(!r||e.length!==1)return;let i=e[0].values(),o=K1(i),s=new w(new cn(o[0],o[1]/100,o[2]/100,t?o[3]:1));return{range:r,color:oh(s.rgba.r,s.rgba.g,s.rgba.b,s.rgba.a)}}function Xs(r,e){return typeof r=="string"?[...r.matchAll(e)]:r.findMatches(e)}function eT(r){let e=[],n=Xs(r,/\b(rgb|rgba|hsl|hsla)(\([0-9\s,.\%]*\))|(#)([A-Fa-f0-9]{3})\b|(#)([A-Fa-f0-9]{4})\b|(#)([A-Fa-f0-9]{6})\b|(#)([A-Fa-f0-9]{8})\b/gm);if(n.length>0)for(let i of n){let o=i.filter(u=>u!==void 0),s=o[1],a=o[2];if(!a)continue;let l;if(s==="rgb"){let u=/^\(\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*\)$/gm;l=V1(Qs(r,i),Xs(a,u),!1)}else if(s==="rgba"){let u=/^\(\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(0[.][0-9]+|[.][0-9]+|[01][.]|[01])\s*\)$/gm;l=V1(Qs(r,i),Xs(a,u),!0)}else if(s==="hsl"){let u=/^\(\s*(36[0]|3[0-5][0-9]|[12][0-9][0-9]|[1-9]?[0-9])\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*\)$/gm;l=H1(Qs(r,i),Xs(a,u),!1)}else if(s==="hsla"){let u=/^\(\s*(36[0]|3[0-5][0-9]|[12][0-9][0-9]|[1-9]?[0-9])\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(0[.][0-9]+|[.][0-9]+|[01][.]|[01])\s*\)$/gm;l=H1(Qs(r,i),Xs(a,u),!0)}else s==="#"&&(l=ZI(Qs(r,i),s+a));l&&e.push(l)}return e}function q1(r){return!r||typeof r.getValue!="function"||typeof r.positionAt!="function"?[]:eT(r)}var Vu=de("modelService");var G1=60*1e3,j1="workerTextModelSync",Hu=class r extends oe{static create(e,t){return new r(e.getChannel(j1),t)}_proxy;_modelService;_syncedModels=Object.create(null);_syncedModelsLastUsedTime=Object.create(null);constructor(e,t,n=!1){if(super(),this._proxy=e,this._modelService=t,!n){let i=new Oi;i.cancelAndSet(()=>this._checkStopModelSync(),Math.round(G1/2)),this._register(i)}}dispose(){for(let e in this._syncedModels)_i(this._syncedModels[e]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(e,t=!1){for(let n of e){let i=n.toString();this._syncedModels[i]||this._beginModelSync(n,t),this._syncedModels[i]&&(this._syncedModelsLastUsedTime[i]=new Date().getTime())}}_checkStopModelSync(){let e=new Date().getTime(),t=[];for(let n in this._syncedModelsLastUsedTime)e-this._syncedModelsLastUsedTime[n]>G1&&t.push(n);for(let n of t)this._stopModelSync(n)}_beginModelSync(e,t){let n=this._modelService.getModel(e);if(!n||!t&&n.isTooLargeForSyncing())return;let i=e.toString();this._proxy.$acceptNewModel({url:n.uri.toString(),lines:n.getLinesContent(),EOL:n.getEOL(),versionId:n.getVersionId()});let o=new Ve;o.add(n.onDidChangeContent(s=>{this._proxy.$acceptModelChanged(i.toString(),s)})),o.add(n.onWillDispose(()=>{this._stopModelSync(i)})),o.add(Se(()=>{this._proxy.$acceptRemovedModel(i)})),this._syncedModels[i]=o}_stopModelSync(e){let t=this._syncedModels[e];delete this._syncedModels[e],delete this._syncedModelsLastUsedTime[e],_i(t)}},Ku=class{_models;constructor(){this._models=Object.create(null)}bindToServer(e){e.setChannel(j1,this)}getModel(e){return this._models[e]}getModels(){let e=[];return Object.keys(this._models).forEach(t=>e.push(this._models[t])),e}$acceptNewModel(e){this._models[e.url]=new sh(he.parse(e.url),e.lines,e.EOL,e.versionId)}$acceptModelChanged(e,t){if(!this._models[e])return;this._models[e].onEvents(t)}$acceptRemovedModel(e){this._models[e]&&delete this._models[e]}},sh=class extends Ql{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}findMatches(e){let t=[];for(let n=0;n<this._lines.length;n++){let i=this._lines[n],o=this.offsetAt(new $(n+1,1)),s=i.matchAll(e);for(let a of s)(a.index||a.index===0)&&(a.index=a.index+o),t.push(a)}return t}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(e){return this._lines[e-1]}getWordAtPosition(e,t){let n=fr(e.column,Yo(t),this._lines[e.lineNumber-1],0);return n?new R(e.lineNumber,n.startColumn,e.lineNumber,n.endColumn):null}getWordUntilPosition(e,t){let n=this.getWordAtPosition(e,t);return n?{word:this._lines[e.lineNumber-1].substring(n.startColumn-1,e.column-1),startColumn:n.startColumn,endColumn:e.column}:{word:"",startColumn:e.column,endColumn:e.column}}words(e){let t=this._lines,n=this._wordenize.bind(this),i=0,o="",s=0,a=[];return{*[Symbol.iterator](){for(;;)if(s<a.length){let l=o.substring(a[s].start,a[s].end);s+=1,yield l}else if(i<t.length)o=t[i],a=n(o,e),s=0,i+=1;else break}}}getLineWords(e,t){let n=this._lines[e-1],i=this._wordenize(n,t),o=[];for(let s of i)o.push({word:n.substring(s.start,s.end),startColumn:s.start+1,endColumn:s.end+1});return o}_wordenize(e,t){let n=[],i;for(t.lastIndex=0;(i=t.exec(e))&&i[0].length!==0;)n.push({start:i.index,end:i.index+i[0].length});return n}getValueInRange(e){if(e=this._validateRange(e),e.startLineNumber===e.endLineNumber)return this._lines[e.startLineNumber-1].substring(e.startColumn-1,e.endColumn-1);let t=this._eol,n=e.startLineNumber-1,i=e.endLineNumber-1,o=[];o.push(this._lines[n].substring(e.startColumn-1));for(let s=n+1;s<i;s++)o.push(this._lines[s]);return o.push(this._lines[i].substring(0,e.endColumn-1)),o.join(t)}offsetAt(e){return e=this._validatePosition(e),this._ensureLineStarts(),this._lineStarts.getPrefixSum(e.lineNumber-2)+(e.column-1)}positionAt(e){e=Math.floor(e),e=Math.max(0,e),this._ensureLineStarts();let t=this._lineStarts.getIndexOf(e),n=this._lines[t.index].length;return{lineNumber:1+t.index,column:1+Math.min(t.remainder,n)}}_validateRange(e){let t=this._validatePosition({lineNumber:e.startLineNumber,column:e.startColumn}),n=this._validatePosition({lineNumber:e.endLineNumber,column:e.endColumn});return t.lineNumber!==e.startLineNumber||t.column!==e.startColumn||n.lineNumber!==e.endLineNumber||n.column!==e.endColumn?{startLineNumber:t.lineNumber,startColumn:t.column,endLineNumber:n.lineNumber,endColumn:n.column}:e}_validatePosition(e){if(!$.isIPosition(e))throw new Error("bad position");let{lineNumber:t,column:n}=e,i=!1;if(t<1)t=1,n=1,i=!0;else if(t>this._lines.length)t=this._lines.length,n=this._lines[t-1].length+1,i=!0;else{let o=this._lines[t-1].length+1;n<1?(n=1,i=!0):n>o&&(n=o,i=!0)}return i?{lineNumber:t,column:n}:e}};var tT=!0,ah=class{_requestHandlerBrand;_workerTextModelSyncServer=new Ku;constructor(){}dispose(){}_getModel(e){return this._workerTextModelSyncServer.getModel(e)}_getModels(){return this._workerTextModelSyncServer.getModels()}$acceptNewModel(e){this._workerTextModelSyncServer.$acceptNewModel(e)}$acceptModelChanged(e,t){this._workerTextModelSyncServer.$acceptModelChanged(e,t)}$acceptRemovedModel(e){this._workerTextModelSyncServer.$acceptRemovedModel(e)}async $computeUnicodeHighlights(e,t,n){let i=this._getModel(e);return i?Mu.computeUnicodeHighlights(i,t,n):{ranges:[],hasMore:!1,ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0}}async $findSectionHeaders(e,t){let n=this._getModel(e);return n?C1(n,t):[]}async $computeDiff(e,t,n,i){let o=this._getModel(e),s=this._getModel(t);return!o||!s?null:Dr.computeDiff(o,s,n,i)}static computeDiff(e,t,n,i){let o=i==="advanced"?Wu.getDefault():Wu.getLegacy(),s=e.getLinesContent(),a=t.getLinesContent(),l=o.computeDiff(s,a,n),u=l.changes.length>0?!1:this._modelsAreIdentical(e,t);function d(g){return g.map(h=>[h.original.startLineNumber,h.original.endLineNumberExclusive,h.modified.startLineNumber,h.modified.endLineNumberExclusive,h.innerChanges?.map(p=>[p.originalRange.startLineNumber,p.originalRange.startColumn,p.originalRange.endLineNumber,p.originalRange.endColumn,p.modifiedRange.startLineNumber,p.modifiedRange.startColumn,p.modifiedRange.endLineNumber,p.modifiedRange.endColumn])])}return{identical:u,quitEarly:l.hitTimeout,changes:d(l.changes),moves:l.moves.map(g=>[g.lineRangeMapping.original.startLineNumber,g.lineRangeMapping.original.endLineNumberExclusive,g.lineRangeMapping.modified.startLineNumber,g.lineRangeMapping.modified.endLineNumberExclusive,d(g.changes)])}}static _modelsAreIdentical(e,t){let n=e.getLineCount(),i=t.getLineCount();if(n!==i)return!1;for(let o=1;o<=n;o++){let s=e.getLineContent(o),a=t.getLineContent(o);if(s!==a)return!1}return!0}async $computeDirtyDiff(e,t,n){let i=this._getModel(e),o=this._getModel(t);if(!i||!o)return null;let s=i.getLinesContent(),a=o.getLinesContent();return new ws(s,a,{shouldComputeCharChanges:!1,shouldPostProcessCharChanges:!1,shouldIgnoreTrimWhitespace:n,shouldMakePrettyDiff:!0,maxComputationTime:1e3}).computeDiff().changes}static _diffLimit=1e5;async $computeMoreMinimalEdits(e,t,n){let i=this._getModel(e);if(!i)return t;let o=[],s;t=t.slice(0).sort((l,u)=>{if(l.range&&u.range)return R.compareRangesUsingStarts(l.range,u.range);let d=l.range?0:1,g=u.range?0:1;return d-g});let a=0;for(let l=1;l<t.length;l++)R.getEndPosition(t[a].range).equals(R.getStartPosition(t[l].range))?(t[a].range=R.fromPositions(R.getStartPosition(t[a].range),R.getEndPosition(t[l].range)),t[a].text+=t[l].text):(a++,t[a]=t[l]);t.length=a+1;for(let{range:l,text:u,eol:d}of t){if(typeof d=="number"&&(s=d),R.isEmpty(l)&&!u)continue;let g=i.getValueInRange(l);if(u=u.replace(/\r\n|\n|\r/g,i.eol),g===u)continue;if(Math.max(u.length,g.length)>Dr._diffLimit){o.push({range:l,text:u});continue}let h=ib(g,u,n),p=i.offsetAt(R.lift(l).getStartPosition());for(let b of h){let m=i.positionAt(p+b.originalStart),y=i.positionAt(p+b.originalStart+b.originalLength),I={text:u.substr(b.modifiedStart,b.modifiedLength),range:{startLineNumber:m.lineNumber,startColumn:m.column,endLineNumber:y.lineNumber,endColumn:y.column}};i.getValueInRange(I.range)!==I.text&&o.push(I)}}return typeof s=="number"&&o.push({eol:s,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),o}$computeHumanReadableDiff(e,t,n){let i=this._getModel(e);if(!i)return t;let o=[],s;t=t.slice(0).sort((u,d)=>{if(u.range&&d.range)return R.compareRangesUsingStarts(u.range,d.range);let g=u.range?0:1,h=d.range?0:1;return g-h});for(let{range:u,text:d,eol:g}of t){let I=function(C,T){return new $(C.lineNumber+T.lineNumber-1,T.lineNumber===1?C.column+T.column-1:T.column)},k=function(C,T){let S=[];for(let E=T.startLineNumber;E<=T.endLineNumber;E++){let D=C[E-1];E===T.startLineNumber&&E===T.endLineNumber?S.push(D.substring(T.startColumn-1,T.endColumn-1)):E===T.startLineNumber?S.push(D.substring(T.startColumn-1)):E===T.endLineNumber?S.push(D.substring(0,T.endColumn-1)):S.push(D)}return S};var a=I,l=k;if(typeof g=="number"&&(s=g),R.isEmpty(u)&&!d)continue;let h=i.getValueInRange(u);if(d=d.replace(/\r\n|\n|\r/g,i.eol),h===d)continue;if(Math.max(d.length,h.length)>Dr._diffLimit){o.push({range:u,text:d});continue}let p=h.split(/\r\n|\n|\r/),b=d.split(/\r\n|\n|\r/),m=Wu.getDefault().computeDiff(p,b,n),y=R.lift(u).getStartPosition();for(let C of m.changes)if(C.innerChanges)for(let T of C.innerChanges)o.push({range:R.fromPositions(I(y,T.originalRange.getStartPosition()),I(y,T.originalRange.getEndPosition())),text:k(b,T.modifiedRange).join(i.eol)});else throw new le("The experimental diff algorithm always produces inner changes")}return typeof s=="number"&&o.push({eol:s,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),o}async $computeLinks(e){let t=this._getModel(e);return t?ob(t):null}async $computeDefaultDocumentColors(e){let t=this._getModel(e);return t?q1(t):null}static _suggestionsLimit=1e4;async $textualSuggest(e,t,n,i){let o=new Ht,s=new RegExp(n,i),a=new Set;e:for(let l of e){let u=this._getModel(l);if(u){for(let d of u.words(s))if(!(d===t||!isNaN(Number(d)))&&(a.add(d),a.size>Dr._suggestionsLimit))break e}}return{words:Array.from(a),duration:o.elapsed()}}async $computeWordRanges(e,t,n,i){let o=this._getModel(e);if(!o)return Object.create(null);let s=new RegExp(n,i),a=Object.create(null);for(let l=t.startLineNumber;l<t.endLineNumber;l++){let u=o.getLineWords(l,s);for(let d of u){if(!isNaN(Number(d.word)))continue;let g=a[d.word];g||(g=[],a[d.word]=g),g.push({startLineNumber:l,startColumn:d.startColumn,endLineNumber:l,endColumn:d.endColumn})}}return a}async $navigateValueSet(e,t,n,i,o){let s=this._getModel(e);if(!s)return null;let a=new RegExp(i,o);t.startColumn===t.endColumn&&(t={startLineNumber:t.startLineNumber,startColumn:t.startColumn,endLineNumber:t.endLineNumber,endColumn:t.endColumn+1});let l=s.getValueInRange(t),u=s.getWordAtPosition({lineNumber:t.startLineNumber,column:t.startColumn},a);if(!u)return null;let d=s.getValueInRange(u);return Xl.INSTANCE.navigateValueSet(t,l,u,d,n)}},Dr=class extends ah{constructor(t,n){super();this._host=t;this._foreignModuleFactory=n}_foreignModule=null;async $ping(){return"pong"}$loadForeignModule(t,n,i){let a={host:fm(i,(l,u)=>this._host.$fhr(l,u)),getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(a,n),Promise.resolve(hd(this._foreignModule))):new Promise((l,u)=>{let d=g=>{this._foreignModule=g.create(a,n),l(hd(this._foreignModule))};tT?import(`${Mi.asBrowserUri(`${t}.js`).toString(!0)}`).then(d).catch(u):Oh([`${t}`],d,u)})}$fmr(t,n){if(!this._foreignModule||typeof this._foreignModule[t]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+t));try{return Promise.resolve(this._foreignModule[t].apply(this._foreignModule,n))}catch(i){return Promise.reject(i)}}};typeof importScripts=="function"&&(globalThis.monaco=E1());var $1=de("textResourceConfigurationService"),XZ=de("textResourcePropertiesService");var Y1=de("logService"),Lee=de("loggerService");function nT(r){switch(r){case 1:return"trace";case 2:return"debug";case 3:return"info";case 4:return"warn";case 5:return"error";case 0:return"off"}}var wee=new zi("logLevel",nT(3));var Q1=de("ILanguageFeaturesService");function X1(r,e){let t=r;typeof t.vscodeWindowId!="number"&&Object.defineProperty(t,"vscodeWindowId",{get:()=>e})}var at=window;var Gu=class r{static INSTANCE=new r;mapWindowIdToZoomLevel=new Map;_onDidChangeZoomLevel=new U;onDidChangeZoomLevel=this._onDidChangeZoomLevel.event;getZoomLevel(e){return this.mapWindowIdToZoomLevel.get(this.getWindowId(e))??0}setZoomLevel(e,t){if(this.getZoomLevel(t)===e)return;let n=this.getWindowId(t);this.mapWindowIdToZoomLevel.set(n,e),this._onDidChangeZoomLevel.fire(n)}mapWindowIdToZoomFactor=new Map;getZoomFactor(e){return this.mapWindowIdToZoomFactor.get(this.getWindowId(e))??1}setZoomFactor(e,t){this.mapWindowIdToZoomFactor.set(this.getWindowId(t),e)}_onDidChangeFullscreen=new U;onDidChangeFullscreen=this._onDidChangeFullscreen.event;mapWindowIdToFullScreen=new Map;setFullscreen(e,t){if(this.isFullscreen(t)===e)return;let n=this.getWindowId(t);this.mapWindowIdToFullScreen.set(n,e),this._onDidChangeFullscreen.fire(n)}isFullscreen(e){return!!this.mapWindowIdToFullScreen.get(this.getWindowId(e))}getWindowId(e){return e.vscodeWindowId}};function rT(r,e,t){typeof e=="string"&&(e=r.matchMedia(e)),e.addEventListener("change",t)}var Ate=Gu.INSTANCE.onDidChangeZoomLevel;var Nte=Gu.INSTANCE.onDidChangeFullscreen,To=navigator.userAgent,J1=To.indexOf("Firefox")>=0,Js=To.indexOf("AppleWebKit")>=0,Z1=To.indexOf("Chrome")>=0,lh=!Z1&&To.indexOf("Safari")>=0;var Mte=To.indexOf("Electron/")>=0,Ote=To.indexOf("Android")>=0,qu=!1;if(typeof at.matchMedia=="function"){let r=at.matchMedia("(display-mode: standalone) or (display-mode: window-controls-overlay)"),e=at.matchMedia("(display-mode: fullscreen)");qu=r.matches,rT(at,r,({matches:t})=>{qu&&e.matches||(qu=t)})}function e0(){return qu}var iT={clipboard:{writeText:Ti||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:Ti||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText)},keyboard:Ti||e0()?0:navigator.keyboard||lh?1:2,touch:"ontouchstart"in at||navigator.maxTouchPoints>0,pointerEvents:at.PointerEvent&&("ontouchstart"in at||navigator.maxTouchPoints>0)};var jte=qe?256:2048,$te=512,Yte=1024,Qte=qe?2048:256;var{entries:u0,setPrototypeOf:n0,isFrozen:oT,getPrototypeOf:sT,getOwnPropertyDescriptor:aT}=Object,{freeze:bt,seal:tn,create:lT}=Object,{apply:hh,construct:ph}=typeof Reflect<"u"&&Reflect;hh||(hh=function(e,t,n){return e.apply(t,n)});bt||(bt=function(e){return e});tn||(tn=function(e){return e});ph||(ph=function(e,t){return new e(...t)});var uT=Bt(Array.prototype.forEach),r0=Bt(Array.prototype.pop),Zs=Bt(Array.prototype.push),Qu=Bt(String.prototype.toLowerCase),uh=Bt(String.prototype.toString),cT=Bt(String.prototype.match),en=Bt(String.prototype.replace),dT=Bt(String.prototype.indexOf),gT=Bt(String.prototype.trim),Rt=Bt(RegExp.prototype.test),ea=fT(TypeError);function Bt(r){return function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return hh(r,e,n)}}function fT(r){return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ph(r,t)}}function ge(r,e,t){var n;t=(n=t)!==null&&n!==void 0?n:Qu,n0&&n0(r,null);let i=e.length;for(;i--;){let o=e[i];if(typeof o=="string"){let s=t(o);s!==o&&(oT(e)||(e[i]=s),o=s)}r[o]=!0}return r}function Co(r){let e=lT(null);for(let[t,n]of u0(r))e[t]=n;return e}function $u(r,e){for(;r!==null;){let n=aT(r,e);if(n){if(n.get)return Bt(n.get);if(typeof n.value=="function")return Bt(n.value)}r=sT(r)}function t(n){return console.warn("fallback value for",n),null}return t}var i0=bt(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),ch=bt(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),dh=bt(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),hT=bt(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),gh=bt(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),pT=bt(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),o0=bt(["#text"]),s0=bt(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),fh=bt(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),a0=bt(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Yu=bt(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),mT=tn(/\{\{[\w\W]*|[\w\W]*\}\}/gm),bT=tn(/<%[\w\W]*|[\w\W]*%>/gm),vT=tn(/\${[\w\W]*}/gm),yT=tn(/^data-[\-\w.\u00B7-\uFFFF]/),xT=tn(/^aria-[\-\w]+$/),c0=tn(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),IT=tn(/^(?:\w+script|data):/i),TT=tn(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),d0=tn(/^html$/i),l0=Object.freeze({__proto__:null,MUSTACHE_EXPR:mT,ERB_EXPR:bT,TMPLIT_EXPR:vT,DATA_ATTR:yT,ARIA_ATTR:xT,IS_ALLOWED_URI:c0,IS_SCRIPT_OR_DATA:IT,ATTR_WHITESPACE:TT,DOCTYPE_NAME:d0}),CT=()=>typeof window>"u"?null:window,kT=function(e,t){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let n=null,i="data-tt-policy-suffix";t&&t.hasAttribute(i)&&(n=t.getAttribute(i));let o="dompurify"+(n?"#"+n:"");try{return e.createPolicy(o,{createHTML(s){return s},createScriptURL(s){return s}})}catch{return console.warn("TrustedTypes policy "+o+" could not be created."),null}};function g0(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:CT(),e=Z=>g0(Z);if(e.version="3.0.5",e.removed=[],!r||!r.document||r.document.nodeType!==9)return e.isSupported=!1,e;let t=r.document,n=t.currentScript,{document:i}=r,{DocumentFragment:o,HTMLTemplateElement:s,Node:a,Element:l,NodeFilter:u,NamedNodeMap:d=r.NamedNodeMap||r.MozNamedAttrMap,HTMLFormElement:g,DOMParser:h,trustedTypes:p}=r,b=l.prototype,m=$u(b,"cloneNode"),y=$u(b,"nextSibling"),I=$u(b,"childNodes"),k=$u(b,"parentNode");if(typeof s=="function"){let Z=i.createElement("template");Z.content&&Z.content.ownerDocument&&(i=Z.content.ownerDocument)}let C,T="",{implementation:S,createNodeIterator:E,createDocumentFragment:D,getElementsByTagName:A}=i,{importNode:O}=t,V={};e.isSupported=typeof u0=="function"&&typeof k=="function"&&S&&S.createHTMLDocument!==void 0;let{MUSTACHE_EXPR:Q,ERB_EXPR:K,TMPLIT_EXPR:me,DATA_ATTR:Re,ARIA_ATTR:z,IS_SCRIPT_OR_DATA:N,ATTR_WHITESPACE:W}=l0,{IS_ALLOWED_URI:P}=l0,F=null,ie=ge({},[...i0,...ch,...dh,...gh,...o0]),ee=null,_e=ge({},[...s0,...fh,...a0,...Yu]),ae=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),j=null,ht=null,lt=!0,wn=!0,En=!1,ia=!0,Yn=!1,Ar=!1,Zu=!1,ec=!1,gi=!1,oa=!1,sa=!1,yh=!0,xh=!1,y0="user-content-",tc=!0,ko=!1,fi={},hi=null,Ih=ge({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Th=null,Ch=ge({},["audio","video","img","source","image","track"]),nc=null,kh=ge({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),aa="http://www.w3.org/1998/Math/MathML",la="http://www.w3.org/2000/svg",Rn="http://www.w3.org/1999/xhtml",pi=Rn,rc=!1,ic=null,x0=ge({},[aa,la,Rn],uh),Nr,I0=["application/xhtml+xml","text/html"],T0="text/html",Qe,mi=null,C0=i.createElement("form"),_h=function(_){return _ instanceof RegExp||_ instanceof Function},oc=function(_){if(!(mi&&mi===_)){if((!_||typeof _!="object")&&(_={}),_=Co(_),Nr=I0.indexOf(_.PARSER_MEDIA_TYPE)===-1?Nr=T0:Nr=_.PARSER_MEDIA_TYPE,Qe=Nr==="application/xhtml+xml"?uh:Qu,F="ALLOWED_TAGS"in _?ge({},_.ALLOWED_TAGS,Qe):ie,ee="ALLOWED_ATTR"in _?ge({},_.ALLOWED_ATTR,Qe):_e,ic="ALLOWED_NAMESPACES"in _?ge({},_.ALLOWED_NAMESPACES,uh):x0,nc="ADD_URI_SAFE_ATTR"in _?ge(Co(kh),_.ADD_URI_SAFE_ATTR,Qe):kh,Th="ADD_DATA_URI_TAGS"in _?ge(Co(Ch),_.ADD_DATA_URI_TAGS,Qe):Ch,hi="FORBID_CONTENTS"in _?ge({},_.FORBID_CONTENTS,Qe):Ih,j="FORBID_TAGS"in _?ge({},_.FORBID_TAGS,Qe):{},ht="FORBID_ATTR"in _?ge({},_.FORBID_ATTR,Qe):{},fi="USE_PROFILES"in _?_.USE_PROFILES:!1,lt=_.ALLOW_ARIA_ATTR!==!1,wn=_.ALLOW_DATA_ATTR!==!1,En=_.ALLOW_UNKNOWN_PROTOCOLS||!1,ia=_.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Yn=_.SAFE_FOR_TEMPLATES||!1,Ar=_.WHOLE_DOCUMENT||!1,gi=_.RETURN_DOM||!1,oa=_.RETURN_DOM_FRAGMENT||!1,sa=_.RETURN_TRUSTED_TYPE||!1,ec=_.FORCE_BODY||!1,yh=_.SANITIZE_DOM!==!1,xh=_.SANITIZE_NAMED_PROPS||!1,tc=_.KEEP_CONTENT!==!1,ko=_.IN_PLACE||!1,P=_.ALLOWED_URI_REGEXP||c0,pi=_.NAMESPACE||Rn,ae=_.CUSTOM_ELEMENT_HANDLING||{},_.CUSTOM_ELEMENT_HANDLING&&_h(_.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ae.tagNameCheck=_.CUSTOM_ELEMENT_HANDLING.tagNameCheck),_.CUSTOM_ELEMENT_HANDLING&&_h(_.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ae.attributeNameCheck=_.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),_.CUSTOM_ELEMENT_HANDLING&&typeof _.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ae.allowCustomizedBuiltInElements=_.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Yn&&(wn=!1),oa&&(gi=!0),fi&&(F=ge({},[...o0]),ee=[],fi.html===!0&&(ge(F,i0),ge(ee,s0)),fi.svg===!0&&(ge(F,ch),ge(ee,fh),ge(ee,Yu)),fi.svgFilters===!0&&(ge(F,dh),ge(ee,fh),ge(ee,Yu)),fi.mathMl===!0&&(ge(F,gh),ge(ee,a0),ge(ee,Yu))),_.ADD_TAGS&&(F===ie&&(F=Co(F)),ge(F,_.ADD_TAGS,Qe)),_.ADD_ATTR&&(ee===_e&&(ee=Co(ee)),ge(ee,_.ADD_ATTR,Qe)),_.ADD_URI_SAFE_ATTR&&ge(nc,_.ADD_URI_SAFE_ATTR,Qe),_.FORBID_CONTENTS&&(hi===Ih&&(hi=Co(hi)),ge(hi,_.FORBID_CONTENTS,Qe)),tc&&(F["#text"]=!0),Ar&&ge(F,["html","head","body"]),F.table&&(ge(F,["tbody"]),delete j.tbody),_.TRUSTED_TYPES_POLICY){if(typeof _.TRUSTED_TYPES_POLICY.createHTML!="function")throw ea('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof _.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw ea('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');C=_.TRUSTED_TYPES_POLICY,T=C.createHTML("")}else C===void 0&&(C=kT(p,n)),C!==null&&typeof T=="string"&&(T=C.createHTML(""));bt&&bt(_),mi=_}},Sh=ge({},["mi","mo","mn","ms","mtext"]),Lh=ge({},["foreignobject","desc","title","annotation-xml"]),k0=ge({},["title","style","font","a","script"]),ua=ge({},ch);ge(ua,dh),ge(ua,hT);let sc=ge({},gh);ge(sc,pT);let _0=function(_){let M=k(_);(!M||!M.tagName)&&(M={namespaceURI:pi,tagName:"template"});let H=Qu(_.tagName),Le=Qu(M.tagName);return ic[_.namespaceURI]?_.namespaceURI===la?M.namespaceURI===Rn?H==="svg":M.namespaceURI===aa?H==="svg"&&(Le==="annotation-xml"||Sh[Le]):!!ua[H]:_.namespaceURI===aa?M.namespaceURI===Rn?H==="math":M.namespaceURI===la?H==="math"&&Lh[Le]:!!sc[H]:_.namespaceURI===Rn?M.namespaceURI===la&&!Lh[Le]||M.namespaceURI===aa&&!Sh[Le]?!1:!sc[H]&&(k0[H]||!ua[H]):!!(Nr==="application/xhtml+xml"&&ic[_.namespaceURI]):!1},Mr=function(_){Zs(e.removed,{element:_});try{_.parentNode.removeChild(_)}catch{_.remove()}},ac=function(_,M){try{Zs(e.removed,{attribute:M.getAttributeNode(_),from:M})}catch{Zs(e.removed,{attribute:null,from:M})}if(M.removeAttribute(_),_==="is"&&!ee[_])if(gi||oa)try{Mr(M)}catch{}else try{M.setAttribute(_,"")}catch{}},wh=function(_){let M,H;if(ec)_="<remove></remove>"+_;else{let Dt=cT(_,/^[\r\n\t ]+/);H=Dt&&Dt[0]}Nr==="application/xhtml+xml"&&pi===Rn&&(_='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+_+"</body></html>");let Le=C?C.createHTML(_):_;if(pi===Rn)try{M=new h().parseFromString(Le,Nr)}catch{}if(!M||!M.documentElement){M=S.createDocument(pi,"template",null);try{M.documentElement.innerHTML=rc?T:Le}catch{}}let Xe=M.body||M.documentElement;return _&&H&&Xe.insertBefore(i.createTextNode(H),Xe.childNodes[0]||null),pi===Rn?A.call(M,Ar?"html":"body")[0]:Ar?M.documentElement:Xe},Eh=function(_){return E.call(_.ownerDocument||_,_,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT,null,!1)},S0=function(_){return _ instanceof g&&(typeof _.nodeName!="string"||typeof _.textContent!="string"||typeof _.removeChild!="function"||!(_.attributes instanceof d)||typeof _.removeAttribute!="function"||typeof _.setAttribute!="function"||typeof _.namespaceURI!="string"||typeof _.insertBefore!="function"||typeof _.hasChildNodes!="function")},ca=function(_){return typeof a=="object"?_ instanceof a:_&&typeof _=="object"&&typeof _.nodeType=="number"&&typeof _.nodeName=="string"},Dn=function(_,M,H){V[_]&&uT(V[_],Le=>{Le.call(e,M,H,mi)})},Rh=function(_){let M;if(Dn("beforeSanitizeElements",_,null),S0(_))return Mr(_),!0;let H=Qe(_.nodeName);if(Dn("uponSanitizeElement",_,{tagName:H,allowedTags:F}),_.hasChildNodes()&&!ca(_.firstElementChild)&&(!ca(_.content)||!ca(_.content.firstElementChild))&&Rt(/<[/\w]/g,_.innerHTML)&&Rt(/<[/\w]/g,_.textContent))return Mr(_),!0;if(!F[H]||j[H]){if(!j[H]&&Ah(H)&&(ae.tagNameCheck instanceof RegExp&&Rt(ae.tagNameCheck,H)||ae.tagNameCheck instanceof Function&&ae.tagNameCheck(H)))return!1;if(tc&&!hi[H]){let Le=k(_)||_.parentNode,Xe=I(_)||_.childNodes;if(Xe&&Le){let Dt=Xe.length;for(let Pe=Dt-1;Pe>=0;--Pe)Le.insertBefore(m(Xe[Pe],!0),y(_))}}return Mr(_),!0}return _ instanceof l&&!_0(_)||(H==="noscript"||H==="noembed"||H==="noframes")&&Rt(/<\/no(script|embed|frames)/i,_.innerHTML)?(Mr(_),!0):(Yn&&_.nodeType===3&&(M=_.textContent,M=en(M,Q," "),M=en(M,K," "),M=en(M,me," "),_.textContent!==M&&(Zs(e.removed,{element:_.cloneNode()}),_.textContent=M)),Dn("afterSanitizeElements",_,null),!1)},Dh=function(_,M,H){if(yh&&(M==="id"||M==="name")&&(H in i||H in C0))return!1;if(!(wn&&!ht[M]&&Rt(Re,M))){if(!(lt&&Rt(z,M))){if(!ee[M]||ht[M]){if(!(Ah(_)&&(ae.tagNameCheck instanceof RegExp&&Rt(ae.tagNameCheck,_)||ae.tagNameCheck instanceof Function&&ae.tagNameCheck(_))&&(ae.attributeNameCheck instanceof RegExp&&Rt(ae.attributeNameCheck,M)||ae.attributeNameCheck instanceof Function&&ae.attributeNameCheck(M))||M==="is"&&ae.allowCustomizedBuiltInElements&&(ae.tagNameCheck instanceof RegExp&&Rt(ae.tagNameCheck,H)||ae.tagNameCheck instanceof Function&&ae.tagNameCheck(H))))return!1}else if(!nc[M]){if(!Rt(P,en(H,W,""))){if(!((M==="src"||M==="xlink:href"||M==="href")&&_!=="script"&&dT(H,"data:")===0&&Th[_])){if(!(En&&!Rt(N,en(H,W,"")))){if(H)return!1}}}}}}return!0},Ah=function(_){return _.indexOf("-")>0},Nh=function(_){let M,H,Le,Xe;Dn("beforeSanitizeAttributes",_,null);let{attributes:Dt}=_;if(!Dt)return;let Pe={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ee};for(Xe=Dt.length;Xe--;){M=Dt[Xe];let{name:nn,namespaceURI:lc}=M;if(H=nn==="value"?M.value:gT(M.value),Le=Qe(nn),Pe.attrName=Le,Pe.attrValue=H,Pe.keepAttr=!0,Pe.forceKeepAttr=void 0,Dn("uponSanitizeAttribute",_,Pe),H=Pe.attrValue,Pe.forceKeepAttr||(ac(nn,_),!Pe.keepAttr))continue;if(!ia&&Rt(/\/>/i,H)){ac(nn,_);continue}Yn&&(H=en(H,Q," "),H=en(H,K," "),H=en(H,me," "));let Mh=Qe(_.nodeName);if(Dh(Mh,Le,H)){if(xh&&(Le==="id"||Le==="name")&&(ac(nn,_),H=y0+H),C&&typeof p=="object"&&typeof p.getAttributeType=="function"&&!lc)switch(p.getAttributeType(Mh,Le)){case"TrustedHTML":{H=C.createHTML(H);break}case"TrustedScriptURL":{H=C.createScriptURL(H);break}}try{lc?_.setAttributeNS(lc,nn,H):_.setAttribute(nn,H),r0(e.removed)}catch{}}}Dn("afterSanitizeAttributes",_,null)},L0=function Z(_){let M,H=Eh(_);for(Dn("beforeSanitizeShadowDOM",_,null);M=H.nextNode();)Dn("uponSanitizeShadowNode",M,null),!Rh(M)&&(M.content instanceof o&&Z(M.content),Nh(M));Dn("afterSanitizeShadowDOM",_,null)};return e.sanitize=function(Z){let _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},M,H,Le,Xe;if(rc=!Z,rc&&(Z="<!-->"),typeof Z!="string"&&!ca(Z))if(typeof Z.toString=="function"){if(Z=Z.toString(),typeof Z!="string")throw ea("dirty is not a string, aborting")}else throw ea("toString is not a function");if(!e.isSupported)return Z;if(Zu||oc(_),e.removed=[],typeof Z=="string"&&(ko=!1),ko){if(Z.nodeName){let nn=Qe(Z.nodeName);if(!F[nn]||j[nn])throw ea("root node is forbidden and cannot be sanitized in-place")}}else if(Z instanceof a)M=wh("<!---->"),H=M.ownerDocument.importNode(Z,!0),H.nodeType===1&&H.nodeName==="BODY"||H.nodeName==="HTML"?M=H:M.appendChild(H);else{if(!gi&&!Yn&&!Ar&&Z.indexOf("<")===-1)return C&&sa?C.createHTML(Z):Z;if(M=wh(Z),!M)return gi?null:sa?T:""}M&&ec&&Mr(M.firstChild);let Dt=Eh(ko?Z:M);for(;Le=Dt.nextNode();)Rh(Le)||(Le.content instanceof o&&L0(Le.content),Nh(Le));if(ko)return Z;if(gi){if(oa)for(Xe=D.call(M.ownerDocument);M.firstChild;)Xe.appendChild(M.firstChild);else Xe=M;return(ee.shadowroot||ee.shadowrootmode)&&(Xe=O.call(t,Xe,!0)),Xe}let Pe=Ar?M.outerHTML:M.innerHTML;return Ar&&F["!doctype"]&&M.ownerDocument&&M.ownerDocument.doctype&&M.ownerDocument.doctype.name&&Rt(d0,M.ownerDocument.doctype.name)&&(Pe="<!DOCTYPE "+M.ownerDocument.doctype.name+`>
`+Pe),Yn&&(Pe=en(Pe,Q," "),Pe=en(Pe,K," "),Pe=en(Pe,me," ")),C&&sa?C.createHTML(Pe):Pe},e.setConfig=function(Z){oc(Z),Zu=!0},e.clearConfig=function(){mi=null,Zu=!1},e.isValidAttribute=function(Z,_,M){mi||oc({});let H=Qe(Z),Le=Qe(_);return Dh(H,Le,M)},e.addHook=function(Z,_){typeof _=="function"&&(V[Z]=V[Z]||[],Zs(V[Z],_))},e.removeHook=function(Z){if(V[Z])return r0(V[Z])},e.removeHooks=function(Z){V[Z]&&(V[Z]=[])},e.removeAllHooks=function(){V={}},e}var Sn=g0();var nne=Sn.version,rne=Sn.isSupported,_T=Sn.sanitize,ine=Sn.setConfig,one=Sn.clearConfig,sne=Sn.isValidAttribute,ST=Sn.addHook,LT=Sn.removeHook,ane=Sn.removeHooks,lne=Sn.removeAllHooks;var{registerWindow:Nne,getWindow:m0,getDocument:Mne,getWindows:One,getWindowsCount:Pne,getWindowId:f0,getWindowById:Bne,hasWindow:Fne,onDidRegisterWindow:Une,onWillUnregisterWindow:zne,onDidUnregisterWindow:Wne}=function(){let r=new Map;X1(at,1);let e={window:at,disposables:new Ve};r.set(at.vscodeWindowId,e);let t=new U,n=new U,i=new U;function o(s,a){return(typeof s=="number"?r.get(s):void 0)??(a?e:void 0)}return{onDidRegisterWindow:t.event,onWillUnregisterWindow:i.event,onDidUnregisterWindow:n.event,registerWindow(s){if(r.has(s.vscodeWindowId))return oe.None;let a=new Ve,l={window:s,disposables:a.add(new Ve)};return r.set(s.vscodeWindowId,l),a.add(Se(()=>{r.delete(s.vscodeWindowId),n.fire(s)})),a.add(ET(s,DT.BEFORE_UNLOAD,()=>{i.fire(s)})),t.fire(l),a},getWindows(){return r.values()},getWindowsCount(){return r.size},getWindowId(s){return s.vscodeWindowId},hasWindow(s){return r.has(s)},getWindowById:o,getWindow(s){let a=s;if(a?.ownerDocument?.defaultView)return a.ownerDocument.defaultView.window;let l=s;return l?.view?l.view.window:at},getDocument(s){return m0(s).document}}}();var mh=class{_handler;_node;_type;_options;constructor(e,t,n,i){this._node=e,this._type=t,this._handler=n,this._options=i||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){this._handler&&(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}};function ET(r,e,t,n){return new mh(r,e,t,n)}var RT,h0;var Xu=class extends Oi{defaultTarget;constructor(e){super(),this.defaultTarget=e&&m0(e)}cancelAndSet(e,t,n){return super.cancelAndSet(e,t,n??this.defaultTarget)}},ta=class{_runner;priority;_canceled;constructor(e,t=0){this._runner=e,this.priority=t,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(e){Ie(e)}}static sort(e,t){return t.priority-e.priority}};(function(){let r=new Map,e=new Map,t=new Map,n=new Map,i=o=>{t.set(o,!1);let s=r.get(o)??[];for(e.set(o,s),r.set(o,[]),n.set(o,!0);s.length>0;)s.sort(ta.sort),s.shift().execute();n.set(o,!1)};h0=(o,s,a=0)=>{let l=f0(o),u=new ta(s,a),d=r.get(l);return d||(d=[],r.set(l,d)),d.push(u),t.get(l)||(t.set(l,!0),o.requestAnimationFrame(()=>i(l))),u},RT=(o,s,a)=>{let l=f0(o);if(n.get(l)){let u=new ta(s,a),d=e.get(l);return d||(d=[],e.set(l,d)),d.push(u),u}else return h0(o,s,a)}})();var p0=class r{constructor(e,t){this.width=e;this.height=t}static None=new r(0,0);with(e=this.width,t=this.height){return e!==this.width||t!==this.height?new r(e,t):this}static is(e){return typeof e=="object"&&typeof e.height=="number"&&typeof e.width=="number"}static lift(e){return e instanceof r?e:new r(e.width,e.height)}static equals(e,t){return e===t?!0:!e||!t?!1:e.width===t.width&&e.height===t.height}};var Vne=new class{mutationObservers=new Map;observe(r,e,t){let n=this.mutationObservers.get(r);n||(n=new Map,this.mutationObservers.set(r,n));let i=zg(t),o=n.get(i);if(o)o.users+=1;else{let s=new U,a=new MutationObserver(u=>s.fire(u));a.observe(r,t);let l=o={users:1,observer:a,onDidMutate:s.event};e.add(Se(()=>{l.users-=1,l.users===0&&(s.dispose(),a.disconnect(),n?.delete(i),n?.size===0&&this.mutationObservers.delete(r))})),n.set(i,o)}return o.onDidMutate}};var DT={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",POINTER_LEAVE:"pointerleave",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",PAGE_SHOW:"pageshow",PAGE_HIDE:"pagehide",PASTE:"paste",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:Js?"webkitAnimationStart":"animationstart",ANIMATION_END:Js?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:Js?"webkitAnimationIteration":"animationiteration"};var AT=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;function b0(r,e,t,...n){let i=AT.exec(e);if(!i)throw new Error("Bad use of emmet");let o=i[1]||"div",s;return r!=="http://www.w3.org/1999/xhtml"?s=document.createElementNS(r,o):s=document.createElement(o),i[3]&&(s.id=i[3]),i[4]&&(s.className=i[4].replace(/\./g," ").trim()),t&&Object.entries(t).forEach(([a,l])=>{typeof l>"u"||(/^on\w+$/.test(a)?s[a]=l:a==="selected"?l&&s.setAttribute(a,"true"):s.setAttribute(a,l))}),s.append(...n),s}function NT(r,e,...t){return b0("http://www.w3.org/1999/xhtml",r,e,...t)}NT.SVG=function(r,e,...t){return b0("http://www.w3.org/2000/svg",r,e,...t)};$c.setPreferredWebSchema(/^https:/.test(at.location.href)?"https":"http");var Hne=[Oe.http,Oe.https,Oe.command],Kne=Object.freeze(["a","abbr","b","bdo","blockquote","br","caption","cite","code","col","colgroup","dd","del","details","dfn","div","dl","dt","em","figcaption","figure","h1","h2","h3","h4","h5","h6","hr","i","img","input","ins","kbd","label","li","mark","ol","p","pre","q","rp","rt","ruby","samp","small","small","source","span","strike","strong","sub","summary","sup","table","tbody","td","tfoot","th","thead","time","tr","tt","u","ul","var","video","wbr"]),qne=Object.freeze({ALLOWED_TAGS:["a","button","blockquote","code","div","h1","h2","h3","h4","h5","h6","hr","input","label","li","p","pre","select","small","span","strong","textarea","ul","ol"],ALLOWED_ATTR:["href","data-href","data-command","target","title","name","src","alt","class","id","role","tabindex","style","data-code","width","height","align","x-dispatch","required","checked","placeholder","type","start"],RETURN_DOM:!1,RETURN_DOM_FRAGMENT:!1,RETURN_TRUSTED_TYPE:!0});var v0=5*60*1e3;function Ln(r,e){let t=r.getModel(e);return!(!t||t.isTooLargeForSyncing())}var Ju=class extends oe{constructor(t,n,i,o,s,a){super();this._languageConfigurationService=s;this._modelService=n,this._workerManager=this._register(new na(t,this._modelService)),this._logService=o,this._register(a.linkProvider.register({language:"*",hasAccessToAllModels:!0},{provideLinks:async(l,u)=>{if(!Ln(this._modelService,l.uri))return Promise.resolve({links:[]});let g=await(await this._workerWithResources([l.uri])).$computeLinks(l.uri.toString());return g&&{links:g}}})),this._register(a.completionProvider.register("*",new bh(this._workerManager,i,this._modelService,this._languageConfigurationService)))}_modelService;_workerManager;_logService;dispose(){super.dispose()}canComputeUnicodeHighlights(t){return Ln(this._modelService,t)}async computedUnicodeHighlights(t,n,i){return(await this._workerWithResources([t])).$computeUnicodeHighlights(t.toString(),n,i)}async computeDiff(t,n,i,o){let a=await(await this._workerWithResources([t,n],!0)).$computeDiff(t.toString(),n.toString(),i,o);if(!a)return null;return{identical:a.identical,quitEarly:a.quitEarly,changes:u(a.changes),moves:a.moves.map(d=>new no(new Ot(new ne(d[0],d[1]),new ne(d[2],d[3])),u(d[4])))};function u(d){return d.map(g=>new Xt(new ne(g[0],g[1]),new ne(g[2],g[3]),g[4]?.map(h=>new gt(new R(h[0],h[1],h[2],h[3]),new R(h[4],h[5],h[6],h[7])))))}}canComputeDirtyDiff(t,n){return Ln(this._modelService,t)&&Ln(this._modelService,n)}async computeDirtyDiff(t,n,i){return(await this._workerWithResources([t,n])).$computeDirtyDiff(t.toString(),n.toString(),i)}async computeMoreMinimalEdits(t,n,i=!1){if(fc(n)){if(!Ln(this._modelService,t))return Promise.resolve(n);let o=Ht.create(),s=this._workerWithResources([t]).then(a=>a.$computeMoreMinimalEdits(t.toString(),n,i));return s.finally(()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",t.toString(!0),o.elapsed())),Promise.race([s,Xc(1e3).then(()=>n)])}else return Promise.resolve(void 0)}computeHumanReadableDiff(t,n){if(fc(n)){if(!Ln(this._modelService,t))return Promise.resolve(n);let i=Ht.create(),o={ignoreTrimWhitespace:!1,maxComputationTimeMs:1e3,computeMoves:!1},s=this._workerWithResources([t]).then(a=>a.$computeHumanReadableDiff(t.toString(),n,o)).catch(a=>(Ie(a),this.computeMoreMinimalEdits(t,n,!0)));return s.finally(()=>this._logService.trace("FORMAT#computeHumanReadableDiff",t.toString(!0),i.elapsed())),s}else return Promise.resolve(void 0)}canNavigateValueSet(t){return Ln(this._modelService,t)}async navigateValueSet(t,n,i){let o=this._modelService.getModel(t);if(!o)return null;let s=this._languageConfigurationService.getLanguageConfiguration(o.getLanguageId()).getWordDefinition(),a=s.source,l=s.flags;return(await this._workerWithResources([t])).$navigateValueSet(t.toString(),n,i,a,l)}canComputeWordRanges(t){return Ln(this._modelService,t)}async computeWordRanges(t,n){let i=this._modelService.getModel(t);if(!i)return Promise.resolve(null);let o=this._languageConfigurationService.getLanguageConfiguration(i.getLanguageId()).getWordDefinition(),s=o.source,a=o.flags;return(await this._workerWithResources([t])).$computeWordRanges(t.toString(),n,s,a)}async findSectionHeaders(t,n){return(await this._workerWithResources([t])).$findSectionHeaders(t.toString(),n)}async computeDefaultDocumentColors(t){return(await this._workerWithResources([t])).$computeDefaultDocumentColors(t.toString())}async _workerWithResources(t,n=!1){return await(await this._workerManager.withWorker()).workerWithSyncedResources(t,n)}};Ju=rn([ze(1,Vu),ze(2,$1),ze(3,Y1),ze(4,ii),ze(5,Q1)],Ju);var bh=class{constructor(e,t,n,i){this.languageConfigurationService=i;this._workerManager=e,this._configurationService=t,this._modelService=n}_workerManager;_configurationService;_modelService;_debugDisplayName="wordbasedCompletions";async provideCompletionItems(e,t){let n=this._configurationService.getValue(e.uri,t,"editor");if(n.wordBasedSuggestions==="off")return;let i=[];if(n.wordBasedSuggestions==="currentDocument")Ln(this._modelService,e.uri)&&i.push(e.uri);else for(let g of this._modelService.getModels())Ln(this._modelService,g.uri)&&(g===e?i.unshift(g.uri):(n.wordBasedSuggestions==="allDocuments"||g.getLanguageId()===e.getLanguageId())&&i.push(g.uri));if(i.length===0)return;let o=this.languageConfigurationService.getLanguageConfiguration(e.getLanguageId()).getWordDefinition(),s=e.getWordAtPosition(t),a=s?new R(t.lineNumber,s.startColumn,t.lineNumber,s.endColumn):R.fromPositions(t),l=a.setEndPosition(t.lineNumber,t.column),d=await(await this._workerManager.withWorker()).textualSuggest(i,s?.word,o);if(d)return{duration:d.duration,suggestions:d.words.map(g=>({kind:18,label:g,insertText:g,range:{insert:l,replace:a}}))}}},na=class extends oe{constructor(t,n){super();this._workerDescriptor=t;this._modelService=n,this._editorWorkerClient=null,this._lastWorkerUsedTime=new Date().getTime(),this._register(new Xu).cancelAndSet(()=>this._checkStopIdleWorker(),Math.round(v0/2),at),this._register(this._modelService.onModelRemoved(o=>this._checkStopEmptyWorker()))}_modelService;_editorWorkerClient;_lastWorkerUsedTime;dispose(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),super.dispose()}_checkStopEmptyWorker(){if(!this._editorWorkerClient)return;this._modelService.getModels().length===0&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}_checkStopIdleWorker(){if(!this._editorWorkerClient)return;new Date().getTime()-this._lastWorkerUsedTime>v0&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}withWorker(){return this._lastWorkerUsedTime=new Date().getTime(),this._editorWorkerClient||(this._editorWorkerClient=new ra(this._workerDescriptor,!1,this._modelService)),Promise.resolve(this._editorWorkerClient)}};na=rn([ze(1,Vu)],na);var vh=class{_instance;proxy;constructor(e){this._instance=e,this.proxy=this._instance}dispose(){this._instance.dispose()}setChannel(e,t){throw new Error("Not supported")}getChannel(e){throw new Error("Not supported")}},ra=class extends oe{constructor(t,n,i){super();this._workerDescriptor=t;this._modelService=i,this._keepIdleModels=n,this._worker=null,this._modelManager=null}_modelService;_keepIdleModels;_worker;_modelManager;_disposed=!1;fhr(t,n){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(tm(this._workerDescriptor)),Gs.setChannel(this._worker,this._createEditorWorkerHost())}catch(t){jo(t),this._worker=this._createFallbackLocalWorker()}return this._worker}async _getProxy(){try{let t=this._getOrCreateWorker().proxy;return await t.$ping(),t}catch(t){return jo(t),this._worker=this._createFallbackLocalWorker(),this._worker.proxy}}_createFallbackLocalWorker(){return new vh(new Dr(this._createEditorWorkerHost(),null))}_createEditorWorkerHost(){return{$fhr:(t,n)=>this.fhr(t,n)}}_getOrCreateModelManager(t){return this._modelManager||(this._modelManager=this._register(new Hu(t,this._modelService,this._keepIdleModels))),this._modelManager}async workerWithSyncedResources(t,n=!1){if(this._disposed)return Promise.reject(Bh());let i=await this._getProxy();return this._getOrCreateModelManager(i).ensureSyncedResources(t,n),i}async textualSuggest(t,n,i){let o=await this.workerWithSyncedResources(t),s=i.source,a=i.flags;return o.$textualSuggest(t.map(l=>l.toString()),n,s,a)}dispose(){super.dispose(),this._disposed=!0}};ra=rn([ze(2,Vu)],ra);export{ra as EditorWorkerClient,Ju as EditorWorkerService};
