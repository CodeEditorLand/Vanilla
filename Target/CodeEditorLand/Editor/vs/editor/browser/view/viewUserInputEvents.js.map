{
  "version": 3,
  "sources": ["../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/editor/browser/view/viewUserInputEvents.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport type { IKeyboardEvent } from \"../../../base/browser/keyboardEvent.js\";\nimport type { IMouseWheelEvent } from \"../../../base/browser/mouseEvent.js\";\nimport { Position } from \"../../common/core/position.js\";\nimport type { ICoordinatesConverter } from \"../../common/viewModel.js\";\nimport {\n\ttype IEditorMouseEvent,\n\ttype IMouseTarget,\n\ttype IMouseTargetViewZoneData,\n\ttype IPartialEditorMouseEvent,\n\tMouseTargetType,\n} from \"../editorBrowser.js\";\n\nexport interface EventCallback<T> {\n\t(event: T): void;\n}\n\nexport class ViewUserInputEvents {\n\tpublic onKeyDown: EventCallback<IKeyboardEvent> | null = null;\n\tpublic onKeyUp: EventCallback<IKeyboardEvent> | null = null;\n\tpublic onContextMenu: EventCallback<IEditorMouseEvent> | null = null;\n\tpublic onMouseMove: EventCallback<IEditorMouseEvent> | null = null;\n\tpublic onMouseLeave: EventCallback<IPartialEditorMouseEvent> | null = null;\n\tpublic onMouseDown: EventCallback<IEditorMouseEvent> | null = null;\n\tpublic onMouseUp: EventCallback<IEditorMouseEvent> | null = null;\n\tpublic onMouseDrag: EventCallback<IEditorMouseEvent> | null = null;\n\tpublic onMouseDrop: EventCallback<IPartialEditorMouseEvent> | null = null;\n\tpublic onMouseDropCanceled: EventCallback<void> | null = null;\n\tpublic onMouseWheel: EventCallback<IMouseWheelEvent> | null = null;\n\n\tprivate readonly _coordinatesConverter: ICoordinatesConverter;\n\n\tconstructor(coordinatesConverter: ICoordinatesConverter) {\n\t\tthis._coordinatesConverter = coordinatesConverter;\n\t}\n\n\tpublic emitKeyDown(e: IKeyboardEvent): void {\n\t\tthis.onKeyDown?.(e);\n\t}\n\n\tpublic emitKeyUp(e: IKeyboardEvent): void {\n\t\tthis.onKeyUp?.(e);\n\t}\n\n\tpublic emitContextMenu(e: IEditorMouseEvent): void {\n\t\tthis.onContextMenu?.(this._convertViewToModelMouseEvent(e));\n\t}\n\n\tpublic emitMouseMove(e: IEditorMouseEvent): void {\n\t\tthis.onMouseMove?.(this._convertViewToModelMouseEvent(e));\n\t}\n\n\tpublic emitMouseLeave(e: IPartialEditorMouseEvent): void {\n\t\tthis.onMouseLeave?.(this._convertViewToModelMouseEvent(e));\n\t}\n\n\tpublic emitMouseDown(e: IEditorMouseEvent): void {\n\t\tthis.onMouseDown?.(this._convertViewToModelMouseEvent(e));\n\t}\n\n\tpublic emitMouseUp(e: IEditorMouseEvent): void {\n\t\tthis.onMouseUp?.(this._convertViewToModelMouseEvent(e));\n\t}\n\n\tpublic emitMouseDrag(e: IEditorMouseEvent): void {\n\t\tthis.onMouseDrag?.(this._convertViewToModelMouseEvent(e));\n\t}\n\n\tpublic emitMouseDrop(e: IPartialEditorMouseEvent): void {\n\t\tthis.onMouseDrop?.(this._convertViewToModelMouseEvent(e));\n\t}\n\n\tpublic emitMouseDropCanceled(): void {\n\t\tthis.onMouseDropCanceled?.();\n\t}\n\n\tpublic emitMouseWheel(e: IMouseWheelEvent): void {\n\t\tthis.onMouseWheel?.(e);\n\t}\n\n\tprivate _convertViewToModelMouseEvent(\n\t\te: IEditorMouseEvent,\n\t): IEditorMouseEvent;\n\tprivate _convertViewToModelMouseEvent(\n\t\te: IPartialEditorMouseEvent,\n\t): IPartialEditorMouseEvent;\n\tprivate _convertViewToModelMouseEvent(\n\t\te: IEditorMouseEvent | IPartialEditorMouseEvent,\n\t): IEditorMouseEvent | IPartialEditorMouseEvent {\n\t\tif (e.target) {\n\t\t\treturn {\n\t\t\t\tevent: e.event,\n\t\t\t\ttarget: this._convertViewToModelMouseTarget(e.target),\n\t\t\t};\n\t\t}\n\t\treturn e;\n\t}\n\n\tprivate _convertViewToModelMouseTarget(target: IMouseTarget): IMouseTarget {\n\t\treturn ViewUserInputEvents.convertViewToModelMouseTarget(\n\t\t\ttarget,\n\t\t\tthis._coordinatesConverter,\n\t\t);\n\t}\n\n\tpublic static convertViewToModelMouseTarget(\n\t\ttarget: IMouseTarget,\n\t\tcoordinatesConverter: ICoordinatesConverter,\n\t): IMouseTarget {\n\t\tconst result = { ...target };\n\t\tif (result.position) {\n\t\t\tresult.position =\n\t\t\t\tcoordinatesConverter.convertViewPositionToModelPosition(\n\t\t\t\t\tresult.position,\n\t\t\t\t);\n\t\t}\n\t\tif (result.range) {\n\t\t\tresult.range = coordinatesConverter.convertViewRangeToModelRange(\n\t\t\t\tresult.range,\n\t\t\t);\n\t\t}\n\t\tif (\n\t\t\tresult.type === MouseTargetType.GUTTER_VIEW_ZONE ||\n\t\t\tresult.type === MouseTargetType.CONTENT_VIEW_ZONE\n\t\t) {\n\t\t\tresult.detail = this.convertViewToModelViewZoneData(\n\t\t\t\tresult.detail,\n\t\t\t\tcoordinatesConverter,\n\t\t\t);\n\t\t}\n\t\treturn result;\n\t}\n\n\tprivate static convertViewToModelViewZoneData(\n\t\tdata: IMouseTargetViewZoneData,\n\t\tcoordinatesConverter: ICoordinatesConverter,\n\t): IMouseTargetViewZoneData {\n\t\treturn {\n\t\t\tviewZoneId: data.viewZoneId,\n\t\t\tpositionBefore: data.positionBefore\n\t\t\t\t? coordinatesConverter.convertViewPositionToModelPosition(\n\t\t\t\t\t\tdata.positionBefore,\n\t\t\t\t\t)\n\t\t\t\t: data.positionBefore,\n\t\t\tpositionAfter: data.positionAfter\n\t\t\t\t? coordinatesConverter.convertViewPositionToModelPosition(\n\t\t\t\t\t\tdata.positionAfter,\n\t\t\t\t\t)\n\t\t\t\t: data.positionAfter,\n\t\t\tposition: coordinatesConverter.convertViewPositionToModelPosition(\n\t\t\t\tdata.position,\n\t\t\t),\n\t\t\tafterLineNumber:\n\t\t\t\tcoordinatesConverter.convertViewPositionToModelPosition(\n\t\t\t\t\tnew Position(data.afterLineNumber, 1),\n\t\t\t\t).lineNumber,\n\t\t};\n\t}\n}\n"],
  "mappings": "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",
  "names": []
}
