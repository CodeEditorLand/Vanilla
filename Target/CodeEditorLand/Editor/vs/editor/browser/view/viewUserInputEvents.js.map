{
  "version": 3,
  "sources": ["../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/editor/browser/view/viewUserInputEvents.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { IKeyboardEvent } from '../../../base/browser/keyboardEvent.js';\nimport { IEditorMouseEvent, IMouseTarget, IMouseTargetViewZoneData, IPartialEditorMouseEvent, MouseTargetType } from '../editorBrowser.js';\nimport { ICoordinatesConverter } from '../../common/viewModel.js';\nimport { IMouseWheelEvent } from '../../../base/browser/mouseEvent.js';\nimport { Position } from '../../common/core/position.js';\n\nexport interface EventCallback<T> {\n\t(event: T): void;\n}\n\nexport class ViewUserInputEvents {\n\n\tpublic onKeyDown: EventCallback<IKeyboardEvent> | null = null;\n\tpublic onKeyUp: EventCallback<IKeyboardEvent> | null = null;\n\tpublic onContextMenu: EventCallback<IEditorMouseEvent> | null = null;\n\tpublic onMouseMove: EventCallback<IEditorMouseEvent> | null = null;\n\tpublic onMouseLeave: EventCallback<IPartialEditorMouseEvent> | null = null;\n\tpublic onMouseDown: EventCallback<IEditorMouseEvent> | null = null;\n\tpublic onMouseUp: EventCallback<IEditorMouseEvent> | null = null;\n\tpublic onMouseDrag: EventCallback<IEditorMouseEvent> | null = null;\n\tpublic onMouseDrop: EventCallback<IPartialEditorMouseEvent> | null = null;\n\tpublic onMouseDropCanceled: EventCallback<void> | null = null;\n\tpublic onMouseWheel: EventCallback<IMouseWheelEvent> | null = null;\n\n\tprivate readonly _coordinatesConverter: ICoordinatesConverter;\n\n\tconstructor(coordinatesConverter: ICoordinatesConverter) {\n\t\tthis._coordinatesConverter = coordinatesConverter;\n\t}\n\n\tpublic emitKeyDown(e: IKeyboardEvent): void {\n\t\tthis.onKeyDown?.(e);\n\t}\n\n\tpublic emitKeyUp(e: IKeyboardEvent): void {\n\t\tthis.onKeyUp?.(e);\n\t}\n\n\tpublic emitContextMenu(e: IEditorMouseEvent): void {\n\t\tthis.onContextMenu?.(this._convertViewToModelMouseEvent(e));\n\t}\n\n\tpublic emitMouseMove(e: IEditorMouseEvent): void {\n\t\tthis.onMouseMove?.(this._convertViewToModelMouseEvent(e));\n\t}\n\n\tpublic emitMouseLeave(e: IPartialEditorMouseEvent): void {\n\t\tthis.onMouseLeave?.(this._convertViewToModelMouseEvent(e));\n\t}\n\n\tpublic emitMouseDown(e: IEditorMouseEvent): void {\n\t\tthis.onMouseDown?.(this._convertViewToModelMouseEvent(e));\n\t}\n\n\tpublic emitMouseUp(e: IEditorMouseEvent): void {\n\t\tthis.onMouseUp?.(this._convertViewToModelMouseEvent(e));\n\t}\n\n\tpublic emitMouseDrag(e: IEditorMouseEvent): void {\n\t\tthis.onMouseDrag?.(this._convertViewToModelMouseEvent(e));\n\t}\n\n\tpublic emitMouseDrop(e: IPartialEditorMouseEvent): void {\n\t\tthis.onMouseDrop?.(this._convertViewToModelMouseEvent(e));\n\t}\n\n\tpublic emitMouseDropCanceled(): void {\n\t\tthis.onMouseDropCanceled?.();\n\t}\n\n\tpublic emitMouseWheel(e: IMouseWheelEvent): void {\n\t\tthis.onMouseWheel?.(e);\n\t}\n\n\tprivate _convertViewToModelMouseEvent(e: IEditorMouseEvent): IEditorMouseEvent;\n\tprivate _convertViewToModelMouseEvent(e: IPartialEditorMouseEvent): IPartialEditorMouseEvent;\n\tprivate _convertViewToModelMouseEvent(e: IEditorMouseEvent | IPartialEditorMouseEvent): IEditorMouseEvent | IPartialEditorMouseEvent {\n\t\tif (e.target) {\n\t\t\treturn {\n\t\t\t\tevent: e.event,\n\t\t\t\ttarget: this._convertViewToModelMouseTarget(e.target)\n\t\t\t};\n\t\t}\n\t\treturn e;\n\t}\n\n\tprivate _convertViewToModelMouseTarget(target: IMouseTarget): IMouseTarget {\n\t\treturn ViewUserInputEvents.convertViewToModelMouseTarget(target, this._coordinatesConverter);\n\t}\n\n\tpublic static convertViewToModelMouseTarget(target: IMouseTarget, coordinatesConverter: ICoordinatesConverter): IMouseTarget {\n\t\tconst result = { ...target };\n\t\tif (result.position) {\n\t\t\tresult.position = coordinatesConverter.convertViewPositionToModelPosition(result.position);\n\t\t}\n\t\tif (result.range) {\n\t\t\tresult.range = coordinatesConverter.convertViewRangeToModelRange(result.range);\n\t\t}\n\t\tif (result.type === MouseTargetType.GUTTER_VIEW_ZONE || result.type === MouseTargetType.CONTENT_VIEW_ZONE) {\n\t\t\tresult.detail = this.convertViewToModelViewZoneData(result.detail, coordinatesConverter);\n\t\t}\n\t\treturn result;\n\t}\n\n\tprivate static convertViewToModelViewZoneData(data: IMouseTargetViewZoneData, coordinatesConverter: ICoordinatesConverter): IMouseTargetViewZoneData {\n\t\treturn {\n\t\t\tviewZoneId: data.viewZoneId,\n\t\t\tpositionBefore: data.positionBefore ? coordinatesConverter.convertViewPositionToModelPosition(data.positionBefore) : data.positionBefore,\n\t\t\tpositionAfter: data.positionAfter ? coordinatesConverter.convertViewPositionToModelPosition(data.positionAfter) : data.positionAfter,\n\t\t\tposition: coordinatesConverter.convertViewPositionToModelPosition(data.position),\n\t\t\tafterLineNumber: coordinatesConverter.convertViewPositionToModelPosition(new Position(data.afterLineNumber, 1)).lineNumber,\n\t\t};\n\t}\n}\n"],
  "mappings": "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",
  "names": []
}
