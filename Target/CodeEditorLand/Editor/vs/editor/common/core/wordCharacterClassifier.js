function K(){return globalThis._VSCODE_NLS_LANGUAGE}var tt=K()==="pseudo"||typeof document<"u"&&document.location&&document.location.hash.indexOf("pseudo=true")>=0;var P="en",V=!1,W=!1,B=!1,Ie=!1,Ae=!1,re=!1,Ue=!1,Re=!1,ve=!1,Te=!1,k,h=P,se=P,Le,T,L=globalThis,U;typeof L.vscode<"u"&&typeof L.vscode.process<"u"?U=L.vscode.process:typeof process<"u"&&typeof process?.versions?.node=="string"&&(U=process);var oe=typeof U?.versions?.electron=="string",ye=oe&&U?.type==="renderer";if(typeof U=="object"){V=U.platform==="win32",W=U.platform==="darwin",B=U.platform==="linux",Ie=B&&!!U.env.SNAP&&!!U.env.SNAP_REVISION,Ue=oe,ve=!!U.env.CI||!!U.env.BUILD_ARTIFACTSTAGINGDIRECTORY,k=P,h=P;let t=U.env.VSCODE_NLS_CONFIG;if(t)try{let e=JSON.parse(t);k=e.userLocale,se=e.osLocale,h=e.resolvedLanguage||P,Le=e.languagePack?.translationsConfigFile}catch{}Ae=!0}else typeof navigator=="object"&&!ye?(T=navigator.userAgent,V=T.indexOf("Windows")>=0,W=T.indexOf("Macintosh")>=0,Re=(T.indexOf("Macintosh")>=0||T.indexOf("iPad")>=0||T.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,B=T.indexOf("Linux")>=0,Te=T?.indexOf("Mobi")>=0,re=!0,h=K()||P,k=navigator.language.toLowerCase(),se=k):console.error("Unable to resolve platform.");var j=0;W?j=1:V?j=3:B&&(j=2);var O=V,le=W;var de=re&&typeof L.importScripts=="function",it=de?L.origin:void 0;var v=T,y=h,Se;(i=>{function t(){return y}i.value=t;function e(){return y.length===2?y==="en":y.length>=3?y[0]==="e"&&y[1]==="n"&&y[2]==="-":!1}i.isDefaultVariant=e;function n(){return y==="en"}i.isDefault=n})(Se||={});var we=typeof L.postMessage=="function"&&!L.importScripts,st=(()=>{if(we){let t=[];L.addEventListener("message",n=>{if(n.data&&n.data.vscodeScheduleAsyncWork)for(let i=0,s=t.length;i<s;i++){let r=t[i];if(r.id===n.data.vscodeScheduleAsyncWork){t.splice(i,1),r.callback();return}}});let e=0;return n=>{let i=++e;t.push({id:i,callback:n}),L.postMessage({vscodeScheduleAsyncWork:i},"*")}}return t=>setTimeout(t)})();var De=!!(v&&v.indexOf("Chrome")>=0),rt=!!(v&&v.indexOf("Firefox")>=0),ot=!!(!De&&v&&v.indexOf("Safari")>=0),lt=!!(v&&v.indexOf("Edg/")>=0),_t=!!(v&&v.indexOf("Android")>=0);var N,X=globalThis.vscode;if(typeof X<"u"&&typeof X.process<"u"){let t=X.process;N={get platform(){return t.platform},get arch(){return t.arch},get env(){return t.env},cwd(){return t.cwd()}}}else typeof process<"u"&&typeof process?.versions?.node=="string"?N={get platform(){return process.platform},get arch(){return process.arch},get env(){return process.env},cwd(){return process.env.VSCODE_CWD||process.cwd()}}:N={get platform(){return O?"win32":le?"darwin":"linux"},get arch(){},get env(){return{}},cwd(){return"/"}};var M=N.cwd,_e=N.env,ue=N.platform,at=N.arch;var Ne=65,Fe=97,Pe=90,Ke=122,w=46,E=47,I=92,d=58,Me=63,$=class extends Error{code;constructor(e,n,i){let s;typeof n=="string"&&n.indexOf("not ")===0?(s="must not be",n=n.replace(/^not /,"")):s="must be";let r=e.indexOf(".")!==-1?"property":"argument",o=`The "${e}" ${r} ${s} of type ${n}`;o+=`. Received type ${typeof i}`,super(o),this.code="ERR_INVALID_ARG_TYPE"}};function ke(t,e){if(t===null||typeof t!="object")throw new $(e,"Object",t)}function p(t,e){if(typeof t!="string")throw new $(e,"string",t)}var A=ue==="win32";function f(t){return t===E||t===I}function Y(t){return t===E}function S(t){return t>=Ne&&t<=Pe||t>=Fe&&t<=Ke}function G(t,e,n,i){let s="",r=0,o=-1,l=0,u=0;for(let _=0;_<=t.length;++_){if(_<t.length)u=t.charCodeAt(_);else{if(i(u))break;u=E}if(i(u)){if(!(o===_-1||l===1))if(l===2){if(s.length<2||r!==2||s.charCodeAt(s.length-1)!==w||s.charCodeAt(s.length-2)!==w){if(s.length>2){let a=s.lastIndexOf(n);a===-1?(s="",r=0):(s=s.slice(0,a),r=s.length-1-s.lastIndexOf(n)),o=_,l=0;continue}else if(s.length!==0){s="",r=0,o=_,l=0;continue}}e&&(s+=s.length>0?`${n}..`:"..",r=2)}else s.length>0?s+=`${n}${t.slice(o+1,_)}`:s=t.slice(o+1,_),r=_-o-1;o=_,l=0}else u===w&&l!==-1?++l:l=-1}return s}function Be(t){return t?`${t[0]==="."?"":"."}${t}`:""}function ce(t,e){ke(e,"pathObject");let n=e.dir||e.root,i=e.base||`${e.name||""}${Be(e.ext)}`;return n?n===e.root?`${n}${i}`:`${n}${t}${i}`:i}var x={resolve(...t){let e="",n="",i=!1;for(let s=t.length-1;s>=-1;s--){let r;if(s>=0){if(r=t[s],p(r,`paths[${s}]`),r.length===0)continue}else e.length===0?r=M():(r=_e[`=${e}`]||M(),(r===void 0||r.slice(0,2).toLowerCase()!==e.toLowerCase()&&r.charCodeAt(2)===I)&&(r=`${e}\\`));let o=r.length,l=0,u="",_=!1,a=r.charCodeAt(0);if(o===1)f(a)&&(l=1,_=!0);else if(f(a))if(_=!0,f(r.charCodeAt(1))){let c=2,g=c;for(;c<o&&!f(r.charCodeAt(c));)c++;if(c<o&&c!==g){let F=r.slice(g,c);for(g=c;c<o&&f(r.charCodeAt(c));)c++;if(c<o&&c!==g){for(g=c;c<o&&!f(r.charCodeAt(c));)c++;(c===o||c!==g)&&(u=`\\\\${F}\\${r.slice(g,c)}`,l=c)}}}else l=1;else S(a)&&r.charCodeAt(1)===d&&(u=r.slice(0,2),l=2,o>2&&f(r.charCodeAt(2))&&(_=!0,l=3));if(u.length>0)if(e.length>0){if(u.toLowerCase()!==e.toLowerCase())continue}else e=u;if(i){if(e.length>0)break}else if(n=`${r.slice(l)}\\${n}`,i=_,_&&e.length>0)break}return n=G(n,!i,"\\",f),i?`${e}\\${n}`:`${e}${n}`||"."},normalize(t){p(t,"path");let e=t.length;if(e===0)return".";let n=0,i,s=!1,r=t.charCodeAt(0);if(e===1)return Y(r)?"\\":t;if(f(r))if(s=!0,f(t.charCodeAt(1))){let l=2,u=l;for(;l<e&&!f(t.charCodeAt(l));)l++;if(l<e&&l!==u){let _=t.slice(u,l);for(u=l;l<e&&f(t.charCodeAt(l));)l++;if(l<e&&l!==u){for(u=l;l<e&&!f(t.charCodeAt(l));)l++;if(l===e)return`\\\\${_}\\${t.slice(u)}\\`;l!==u&&(i=`\\\\${_}\\${t.slice(u,l)}`,n=l)}}}else n=1;else S(r)&&t.charCodeAt(1)===d&&(i=t.slice(0,2),n=2,e>2&&f(t.charCodeAt(2))&&(s=!0,n=3));let o=n<e?G(t.slice(n),!s,"\\",f):"";return o.length===0&&!s&&(o="."),o.length>0&&f(t.charCodeAt(e-1))&&(o+="\\"),i===void 0?s?`\\${o}`:o:s?`${i}\\${o}`:`${i}${o}`},isAbsolute(t){p(t,"path");let e=t.length;if(e===0)return!1;let n=t.charCodeAt(0);return f(n)||e>2&&S(n)&&t.charCodeAt(1)===d&&f(t.charCodeAt(2))},join(...t){if(t.length===0)return".";let e,n;for(let r=0;r<t.length;++r){let o=t[r];p(o,"path"),o.length>0&&(e===void 0?e=n=o:e+=`\\${o}`)}if(e===void 0)return".";let i=!0,s=0;if(typeof n=="string"&&f(n.charCodeAt(0))){++s;let r=n.length;r>1&&f(n.charCodeAt(1))&&(++s,r>2&&(f(n.charCodeAt(2))?++s:i=!1))}if(i){for(;s<e.length&&f(e.charCodeAt(s));)s++;s>=2&&(e=`\\${e.slice(s)}`)}return x.normalize(e)},relative(t,e){if(p(t,"from"),p(e,"to"),t===e)return"";let n=x.resolve(t),i=x.resolve(e);if(n===i||(t=n.toLowerCase(),e=i.toLowerCase(),t===e))return"";let s=0;for(;s<t.length&&t.charCodeAt(s)===I;)s++;let r=t.length;for(;r-1>s&&t.charCodeAt(r-1)===I;)r--;let o=r-s,l=0;for(;l<e.length&&e.charCodeAt(l)===I;)l++;let u=e.length;for(;u-1>l&&e.charCodeAt(u-1)===I;)u--;let _=u-l,a=o<_?o:_,c=-1,g=0;for(;g<a;g++){let ie=t.charCodeAt(s+g);if(ie!==e.charCodeAt(l+g))break;ie===I&&(c=g)}if(g!==a){if(c===-1)return i}else{if(_>a){if(e.charCodeAt(l+g)===I)return i.slice(l+g+1);if(g===2)return i.slice(l+g)}o>a&&(t.charCodeAt(s+g)===I?c=g:g===2&&(c=3)),c===-1&&(c=0)}let F="";for(g=s+c+1;g<=r;++g)(g===r||t.charCodeAt(g)===I)&&(F+=F.length===0?"..":"\\..");return l+=c,F.length>0?`${F}${i.slice(l,u)}`:(i.charCodeAt(l)===I&&++l,i.slice(l,u))},toNamespacedPath(t){if(typeof t!="string"||t.length===0)return t;let e=x.resolve(t);if(e.length<=2)return t;if(e.charCodeAt(0)===I){if(e.charCodeAt(1)===I){let n=e.charCodeAt(2);if(n!==Me&&n!==w)return`\\\\?\\UNC\\${e.slice(2)}`}}else if(S(e.charCodeAt(0))&&e.charCodeAt(1)===d&&e.charCodeAt(2)===I)return`\\\\?\\${e}`;return t},dirname(t){p(t,"path");let e=t.length;if(e===0)return".";let n=-1,i=0,s=t.charCodeAt(0);if(e===1)return f(s)?t:".";if(f(s)){if(n=i=1,f(t.charCodeAt(1))){let l=2,u=l;for(;l<e&&!f(t.charCodeAt(l));)l++;if(l<e&&l!==u){for(u=l;l<e&&f(t.charCodeAt(l));)l++;if(l<e&&l!==u){for(u=l;l<e&&!f(t.charCodeAt(l));)l++;if(l===e)return t;l!==u&&(n=i=l+1)}}}}else S(s)&&t.charCodeAt(1)===d&&(n=e>2&&f(t.charCodeAt(2))?3:2,i=n);let r=-1,o=!0;for(let l=e-1;l>=i;--l)if(f(t.charCodeAt(l))){if(!o){r=l;break}}else o=!1;if(r===-1){if(n===-1)return".";r=n}return t.slice(0,r)},basename(t,e){e!==void 0&&p(e,"suffix"),p(t,"path");let n=0,i=-1,s=!0,r;if(t.length>=2&&S(t.charCodeAt(0))&&t.charCodeAt(1)===d&&(n=2),e!==void 0&&e.length>0&&e.length<=t.length){if(e===t)return"";let o=e.length-1,l=-1;for(r=t.length-1;r>=n;--r){let u=t.charCodeAt(r);if(f(u)){if(!s){n=r+1;break}}else l===-1&&(s=!1,l=r+1),o>=0&&(u===e.charCodeAt(o)?--o===-1&&(i=r):(o=-1,i=l))}return n===i?i=l:i===-1&&(i=t.length),t.slice(n,i)}for(r=t.length-1;r>=n;--r)if(f(t.charCodeAt(r))){if(!s){n=r+1;break}}else i===-1&&(s=!1,i=r+1);return i===-1?"":t.slice(n,i)},extname(t){p(t,"path");let e=0,n=-1,i=0,s=-1,r=!0,o=0;t.length>=2&&t.charCodeAt(1)===d&&S(t.charCodeAt(0))&&(e=i=2);for(let l=t.length-1;l>=e;--l){let u=t.charCodeAt(l);if(f(u)){if(!r){i=l+1;break}continue}s===-1&&(r=!1,s=l+1),u===w?n===-1?n=l:o!==1&&(o=1):n!==-1&&(o=-1)}return n===-1||s===-1||o===0||o===1&&n===s-1&&n===i+1?"":t.slice(n,s)},format:ce.bind(null,"\\"),parse(t){p(t,"path");let e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;let n=t.length,i=0,s=t.charCodeAt(0);if(n===1)return f(s)?(e.root=e.dir=t,e):(e.base=e.name=t,e);if(f(s)){if(i=1,f(t.charCodeAt(1))){let c=2,g=c;for(;c<n&&!f(t.charCodeAt(c));)c++;if(c<n&&c!==g){for(g=c;c<n&&f(t.charCodeAt(c));)c++;if(c<n&&c!==g){for(g=c;c<n&&!f(t.charCodeAt(c));)c++;c===n?i=c:c!==g&&(i=c+1)}}}}else if(S(s)&&t.charCodeAt(1)===d){if(n<=2)return e.root=e.dir=t,e;if(i=2,f(t.charCodeAt(2))){if(n===3)return e.root=e.dir=t,e;i=3}}i>0&&(e.root=t.slice(0,i));let r=-1,o=i,l=-1,u=!0,_=t.length-1,a=0;for(;_>=i;--_){if(s=t.charCodeAt(_),f(s)){if(!u){o=_+1;break}continue}l===-1&&(u=!1,l=_+1),s===w?r===-1?r=_:a!==1&&(a=1):r!==-1&&(a=-1)}return l!==-1&&(r===-1||a===0||a===1&&r===l-1&&r===o+1?e.base=e.name=t.slice(o,l):(e.name=t.slice(o,r),e.base=t.slice(o,l),e.ext=t.slice(r,l))),o>0&&o!==i?e.dir=t.slice(0,o-1):e.dir=e.root,e},sep:"\\",delimiter:";",win32:null,posix:null},he=(()=>{if(A){let t=/\\/g;return()=>{let e=M().replace(t,"/");return e.slice(e.indexOf("/"))}}return()=>M()})(),b={resolve(...t){let e="",n=!1;for(let i=t.length-1;i>=-1&&!n;i--){let s=i>=0?t[i]:he();p(s,`paths[${i}]`),s.length!==0&&(e=`${s}/${e}`,n=s.charCodeAt(0)===E)}return e=G(e,!n,"/",Y),n?`/${e}`:e.length>0?e:"."},normalize(t){if(p(t,"path"),t.length===0)return".";let e=t.charCodeAt(0)===E,n=t.charCodeAt(t.length-1)===E;return t=G(t,!e,"/",Y),t.length===0?e?"/":n?"./":".":(n&&(t+="/"),e?`/${t}`:t)},isAbsolute(t){return p(t,"path"),t.length>0&&t.charCodeAt(0)===E},join(...t){if(t.length===0)return".";let e;for(let n=0;n<t.length;++n){let i=t[n];p(i,"path"),i.length>0&&(e===void 0?e=i:e+=`/${i}`)}return e===void 0?".":b.normalize(e)},relative(t,e){if(p(t,"from"),p(e,"to"),t===e||(t=b.resolve(t),e=b.resolve(e),t===e))return"";let n=1,i=t.length,s=i-n,r=1,o=e.length-r,l=s<o?s:o,u=-1,_=0;for(;_<l;_++){let c=t.charCodeAt(n+_);if(c!==e.charCodeAt(r+_))break;c===E&&(u=_)}if(_===l)if(o>l){if(e.charCodeAt(r+_)===E)return e.slice(r+_+1);if(_===0)return e.slice(r+_)}else s>l&&(t.charCodeAt(n+_)===E?u=_:_===0&&(u=0));let a="";for(_=n+u+1;_<=i;++_)(_===i||t.charCodeAt(_)===E)&&(a+=a.length===0?"..":"/..");return`${a}${e.slice(r+u)}`},toNamespacedPath(t){return t},dirname(t){if(p(t,"path"),t.length===0)return".";let e=t.charCodeAt(0)===E,n=-1,i=!0;for(let s=t.length-1;s>=1;--s)if(t.charCodeAt(s)===E){if(!i){n=s;break}}else i=!1;return n===-1?e?"/":".":e&&n===1?"//":t.slice(0,n)},basename(t,e){e!==void 0&&p(e,"ext"),p(t,"path");let n=0,i=-1,s=!0,r;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e===t)return"";let o=e.length-1,l=-1;for(r=t.length-1;r>=0;--r){let u=t.charCodeAt(r);if(u===E){if(!s){n=r+1;break}}else l===-1&&(s=!1,l=r+1),o>=0&&(u===e.charCodeAt(o)?--o===-1&&(i=r):(o=-1,i=l))}return n===i?i=l:i===-1&&(i=t.length),t.slice(n,i)}for(r=t.length-1;r>=0;--r)if(t.charCodeAt(r)===E){if(!s){n=r+1;break}}else i===-1&&(s=!1,i=r+1);return i===-1?"":t.slice(n,i)},extname(t){p(t,"path");let e=-1,n=0,i=-1,s=!0,r=0;for(let o=t.length-1;o>=0;--o){let l=t.charCodeAt(o);if(l===E){if(!s){n=o+1;break}continue}i===-1&&(s=!1,i=o+1),l===w?e===-1?e=o:r!==1&&(r=1):e!==-1&&(r=-1)}return e===-1||i===-1||r===0||r===1&&e===i-1&&e===n+1?"":t.slice(e,i)},format:ce.bind(null,"/"),parse(t){p(t,"path");let e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;let n=t.charCodeAt(0)===E,i;n?(e.root="/",i=1):i=0;let s=-1,r=0,o=-1,l=!0,u=t.length-1,_=0;for(;u>=i;--u){let a=t.charCodeAt(u);if(a===E){if(!l){r=u+1;break}continue}o===-1&&(l=!1,o=u+1),a===w?s===-1?s=u:_!==1&&(_=1):s!==-1&&(_=-1)}if(o!==-1){let a=r===0&&n?1:r;s===-1||_===0||_===1&&s===o-1&&s===r+1?e.base=e.name=t.slice(a,o):(e.name=t.slice(a,s),e.base=t.slice(a,o),e.ext=t.slice(s,o))}return r>0?e.dir=t.slice(0,r-1):n&&(e.dir="/"),e},sep:"/",delimiter:":",win32:null,posix:null};b.win32=x.win32=x;b.posix=x.posix=b;var gt=A?x.normalize:b.normalize,mt=A?x.isAbsolute:b.isAbsolute,pt=A?x.join:b.join,xt=A?x.resolve:b.resolve,bt=A?x.relative:b.relative,Et=A?x.dirname:b.dirname,It=A?x.basename:b.basename,At=A?x.extname:b.extname,Ut=A?x.format:b.format,Rt=A?x.parse:b.parse,vt=A?x.toNamespacedPath:b.toNamespacedPath,Tt=A?x.sep:b.sep,Lt=A?x.delimiter:b.delimiter;var $e=/^\w[\w\d+.-]*$/,Ge=/^\//,He=/^\/\//;function ze(t,e){if(!t.scheme&&e)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${t.authority}", path: "${t.path}", query: "${t.query}", fragment: "${t.fragment}"}`);if(t.scheme&&!$e.test(t.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(t.path){if(t.authority){if(!Ge.test(t.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(He.test(t.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function qe(t,e){return!t&&!e?"file":t}function je(t,e){switch(t){case"https":case"http":case"file":e?e[0]!==R&&(e=R+e):e=R;break}return e}var m="",R="/",Xe=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,Q=class t{static isUri(e){return e instanceof t?!0:e?typeof e.authority=="string"&&typeof e.fragment=="string"&&typeof e.path=="string"&&typeof e.query=="string"&&typeof e.scheme=="string"&&typeof e.fsPath=="string"&&typeof e.with=="function"&&typeof e.toString=="function":!1}scheme;authority;path;query;fragment;constructor(e,n,i,s,r,o=!1){typeof e=="object"?(this.scheme=e.scheme||m,this.authority=e.authority||m,this.path=e.path||m,this.query=e.query||m,this.fragment=e.fragment||m):(this.scheme=qe(e,o),this.authority=n||m,this.path=je(this.scheme,i||m),this.query=s||m,this.fragment=r||m,ze(this,o))}get fsPath(){return Z(this,!1)}with(e){if(!e)return this;let{scheme:n,authority:i,path:s,query:r,fragment:o}=e;return n===void 0?n=this.scheme:n===null&&(n=m),i===void 0?i=this.authority:i===null&&(i=m),s===void 0?s=this.path:s===null&&(s=m),r===void 0?r=this.query:r===null&&(r=m),o===void 0?o=this.fragment:o===null&&(o=m),n===this.scheme&&i===this.authority&&s===this.path&&r===this.query&&o===this.fragment?this:new D(n,i,s,r,o)}static parse(e,n=!1){let i=Xe.exec(e);return i?new D(i[2]||m,H(i[4]||m),H(i[5]||m),H(i[7]||m),H(i[9]||m),n):new D(m,m,m,m,m)}static file(e){let n=m;if(O&&(e=e.replace(/\\/g,R)),e[0]===R&&e[1]===R){let i=e.indexOf(R,2);i===-1?(n=e.substring(2),e=R):(n=e.substring(2,i),e=e.substring(i)||R)}return new D("file",n,e,m,m)}static from(e,n){return new D(e.scheme,e.authority,e.path,e.query,e.fragment,n)}static joinPath(e,...n){if(!e.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let i;return O&&e.scheme==="file"?i=t.file(x.join(Z(e,!0),...n)).path:i=b.join(e.path,...n),e.with({path:i})}toString(e=!1){return J(this,e)}toJSON(){return this}static revive(e){if(e){if(e instanceof t)return e;{let n=new D(e);return n._formatted=e.external??null,n._fsPath=e._sep===ge?e.fsPath??null:null,n}}else return e}[Symbol.for("debug.description")](){return`URI(${this.toString()})`}};var ge=O?1:void 0,D=class extends Q{_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=Z(this,!1)),this._fsPath}toString(e=!1){return e?J(this,!0):(this._formatted||(this._formatted=J(this,!1)),this._formatted)}toJSON(){let e={$mid:1};return this._fsPath&&(e.fsPath=this._fsPath,e._sep=ge),this._formatted&&(e.external=this._formatted),this.path&&(e.path=this.path),this.scheme&&(e.scheme=this.scheme),this.authority&&(e.authority=this.authority),this.query&&(e.query=this.query),this.fragment&&(e.fragment=this.fragment),e}},me={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function fe(t,e,n){let i,s=-1;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);if(o>=97&&o<=122||o>=65&&o<=90||o>=48&&o<=57||o===45||o===46||o===95||o===126||e&&o===47||n&&o===91||n&&o===93||n&&o===58)s!==-1&&(i+=encodeURIComponent(t.substring(s,r)),s=-1),i!==void 0&&(i+=t.charAt(r));else{i===void 0&&(i=t.substr(0,r));let l=me[o];l!==void 0?(s!==-1&&(i+=encodeURIComponent(t.substring(s,r)),s=-1),i+=l):s===-1&&(s=r)}}return s!==-1&&(i+=encodeURIComponent(t.substring(s))),i!==void 0?i:t}function Ye(t){let e;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i===35||i===63?(e===void 0&&(e=t.substr(0,n)),e+=me[i]):e!==void 0&&(e+=t[n])}return e!==void 0?e:t}function Z(t,e){let n;return t.authority&&t.path.length>1&&t.scheme==="file"?n=`//${t.authority}${t.path}`:t.path.charCodeAt(0)===47&&(t.path.charCodeAt(1)>=65&&t.path.charCodeAt(1)<=90||t.path.charCodeAt(1)>=97&&t.path.charCodeAt(1)<=122)&&t.path.charCodeAt(2)===58?e?n=t.path.substr(1):n=t.path[1].toLowerCase()+t.path.substr(2):n=t.path,O&&(n=n.replace(/\//g,"\\")),n}function J(t,e){let n=e?Ye:fe,i="",{scheme:s,authority:r,path:o,query:l,fragment:u}=t;if(s&&(i+=s,i+=":"),(r||s==="file")&&(i+=R,i+=R),r){let _=r.indexOf("@");if(_!==-1){let a=r.substr(0,_);r=r.substr(_+1),_=a.lastIndexOf(":"),_===-1?i+=n(a,!1,!1):(i+=n(a.substr(0,_),!1,!1),i+=":",i+=n(a.substr(_+1),!1,!0)),i+="@"}r=r.toLowerCase(),_=r.lastIndexOf(":"),_===-1?i+=n(r,!1,!0):(i+=n(r.substr(0,_),!1,!0),i+=r.substr(_))}if(o){if(o.length>=3&&o.charCodeAt(0)===47&&o.charCodeAt(2)===58){let _=o.charCodeAt(1);_>=65&&_<=90&&(o=`/${String.fromCharCode(_+32)}:${o.substr(3)}`)}else if(o.length>=2&&o.charCodeAt(1)===58){let _=o.charCodeAt(0);_>=65&&_<=90&&(o=`${String.fromCharCode(_+32)}:${o.substr(2)}`)}i+=n(o,!0,!1)}return l&&(i+="?",i+=n(l,!1,!1)),u&&(i+="#",i+=e?u:fe(u,!1,!1)),i}function pe(t){try{return decodeURIComponent(t)}catch{return t.length>3?t.substr(0,3)+pe(t.substr(3)):t}}var ae=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function H(t){return t.match(ae)?t.replace(ae,e=>pe(e)):t}var C=class{[Symbol.toStringTag]="LinkedMap";_map;_head;_tail;_size;_state;constructor(){this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(e){return this._map.has(e)}get(e,n=0){let i=this._map.get(e);if(i)return n!==0&&this.touch(i,n),i.value}set(e,n,i=0){let s=this._map.get(e);if(s)s.value=n,i!==0&&this.touch(s,i);else{switch(s={key:e,value:n,next:void 0,previous:void 0},i){case 0:this.addItemLast(s);break;case 1:this.addItemFirst(s);break;case 2:this.addItemLast(s);break;default:this.addItemLast(s);break}this._map.set(e,s),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let n=this._map.get(e);if(n)return this._map.delete(e),this.removeItem(n),this._size--,n.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,n){let i=this._state,s=this._head;for(;s;){if(n?e.bind(n)(s.value,s.key,this):e(s.value,s.key,this),this._state!==i)throw new Error("LinkedMap got modified during iteration.");s=s.next}}keys(){let e=this,n=this._state,i=this._head,s={[Symbol.iterator](){return s},next(){if(e._state!==n)throw new Error("LinkedMap got modified during iteration.");if(i){let r={value:i.key,done:!1};return i=i.next,r}else return{value:void 0,done:!0}}};return s}values(){let e=this,n=this._state,i=this._head,s={[Symbol.iterator](){return s},next(){if(e._state!==n)throw new Error("LinkedMap got modified during iteration.");if(i){let r={value:i.value,done:!1};return i=i.next,r}else return{value:void 0,done:!0}}};return s}entries(){let e=this,n=this._state,i=this._head,s={[Symbol.iterator](){return s},next(){if(e._state!==n)throw new Error("LinkedMap got modified during iteration.");if(i){let r={value:[i.key,i.value],done:!1};return i=i.next,r}else return{value:void 0,done:!0}}};return s}[Symbol.iterator](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let n=this._head,i=this.size;for(;n&&i>e;)this._map.delete(n.key),n=n.next,i--;this._head=n,this._size=i,n&&(n.previous=void 0),this._state++}trimNew(e){if(e>=this.size)return;if(e===0){this.clear();return}let n=this._tail,i=this.size;for(;n&&i>e;)this._map.delete(n.key),n=n.previous,i--;this._tail=n,this._size=i,n&&(n.next=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let n=e.next,i=e.previous;if(!n||!i)throw new Error("Invalid list");n.previous=i,i.next=n}e.next=void 0,e.previous=void 0,this._state++}touch(e,n){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(n!==1&&n!==2)){if(n===1){if(e===this._head)return;let i=e.next,s=e.previous;e===this._tail?(s.next=void 0,this._tail=s):(i.previous=s,s.next=i),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(n===2){if(e===this._tail)return;let i=e.next,s=e.previous;e===this._head?(i.previous=void 0,this._head=i):(i.previous=s,s.next=i),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((n,i)=>{e.push([i,n])}),e}fromJSON(e){this.clear();for(let[n,i]of e)this.set(n,i)}},ee=class extends C{_limit;_ratio;constructor(e,n=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,n),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,n=2){return super.get(e,n)}peek(e){return super.get(e,0)}set(e,n){return super.set(e,n,2),this}checkTrim(){this.size>this._limit&&this.trim(Math.round(this._limit*this._ratio))}},z=class extends ee{constructor(e,n=1){super(e,n)}trim(e){this.trimOld(e)}set(e,n){return super.set(e,n),this.checkTrim(),this}};function te(t){return t<0?0:t>255?255:t|0}var q=class t{_asciiMap;_map;_defaultValue;constructor(e){let n=te(e);this._defaultValue=n,this._asciiMap=t._createAsciiMap(n),this._map=new Map}static _createAsciiMap(e){let n=new Uint8Array(256);return n.fill(e),n}set(e,n){let i=te(n);e>=0&&e<256?this._asciiMap[e]=i:this._map.set(e,i)}get(e){return e>=0&&e<256?this._asciiMap[e]:this._map.get(e)||this._defaultValue}clear(){this._asciiMap.fill(this._defaultValue),this._map.clear()}};var Qe=(i=>(i[i.Regular=0]="Regular",i[i.Whitespace=1]="Whitespace",i[i.WordSeparator=2]="WordSeparator",i))(Qe||{}),ne=class extends q{intlSegmenterLocales;_segmenter=null;_cachedLine=null;_cachedSegments=[];constructor(e,n){super(0),this.intlSegmenterLocales=n,this.intlSegmenterLocales.length>0?this._segmenter=new Intl.Segmenter(this.intlSegmenterLocales,{granularity:"word"}):this._segmenter=null;for(let i=0,s=e.length;i<s;i++)this.set(e.charCodeAt(i),2);this.set(32,1),this.set(9,1)}findPrevIntlWordBeforeOrAtOffset(e,n){let i=null;for(let s of this._getIntlSegmenterWordsOnLine(e)){if(s.index>n)break;i=s}return i}findNextIntlWordAtOrAfterOffset(e,n){for(let i of this._getIntlSegmenterWordsOnLine(e))if(!(i.index<n))return i;return null}_getIntlSegmenterWordsOnLine(e){return this._segmenter?this._cachedLine===e?this._cachedSegments:(this._cachedLine=e,this._cachedSegments=this._filterWordSegments(this._segmenter.segment(e)),this._cachedSegments):[]}_filterWordSegments(e){let n=[];for(let i of e)this._isWordLike(i)&&n.push(i);return n}_isWordLike(e){return!!e.isWordLike}},xe=new z(10);function Vt(t,e){let n=`${t}/${e.join(",")}`,i=xe.get(n);return i||(i=new ne(t,e),xe.set(n,i)),i}export{Qe as WordCharacterClass,ne as WordCharacterClassifier,Vt as getMapForWordSeparators};
