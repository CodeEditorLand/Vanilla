{
  "version": 3,
  "sources": ["../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/editor/common/languages/supports/indentRules.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport type { IndentationRule } from \"../languageConfiguration.js\";\n\nexport enum IndentConsts {\n\tINCREASE_MASK = 0b00000001,\n\tDECREASE_MASK = 0b00000010,\n\tINDENT_NEXTLINE_MASK = 0b00000100,\n\tUNINDENT_MASK = 0b00001000,\n}\n\nfunction resetGlobalRegex(reg: RegExp) {\n\tif (reg.global) {\n\t\treg.lastIndex = 0;\n\t}\n\n\treturn true;\n}\n\nexport class IndentRulesSupport {\n\tprivate readonly _indentationRules: IndentationRule;\n\n\tconstructor(indentationRules: IndentationRule) {\n\t\tthis._indentationRules = indentationRules;\n\t}\n\n\tpublic shouldIncrease(text: string): boolean {\n\t\tif (this._indentationRules) {\n\t\t\tif (\n\t\t\t\tthis._indentationRules.increaseIndentPattern &&\n\t\t\t\tresetGlobalRegex(\n\t\t\t\t\tthis._indentationRules.increaseIndentPattern,\n\t\t\t\t) &&\n\t\t\t\tthis._indentationRules.increaseIndentPattern.test(text)\n\t\t\t) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\t// if (this._indentationRules.indentNextLinePattern && this._indentationRules.indentNextLinePattern.test(text)) {\n\t\t\t// \treturn true;\n\t\t\t// }\n\t\t}\n\t\treturn false;\n\t}\n\n\tpublic shouldDecrease(text: string): boolean {\n\t\tif (\n\t\t\tthis._indentationRules &&\n\t\t\tthis._indentationRules.decreaseIndentPattern &&\n\t\t\tresetGlobalRegex(this._indentationRules.decreaseIndentPattern) &&\n\t\t\tthis._indentationRules.decreaseIndentPattern.test(text)\n\t\t) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tpublic shouldIndentNextLine(text: string): boolean {\n\t\tif (\n\t\t\tthis._indentationRules &&\n\t\t\tthis._indentationRules.indentNextLinePattern &&\n\t\t\tresetGlobalRegex(this._indentationRules.indentNextLinePattern) &&\n\t\t\tthis._indentationRules.indentNextLinePattern.test(text)\n\t\t) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tpublic shouldIgnore(text: string): boolean {\n\t\t// the text matches `unIndentedLinePattern`\n\t\tif (\n\t\t\tthis._indentationRules &&\n\t\t\tthis._indentationRules.unIndentedLinePattern &&\n\t\t\tresetGlobalRegex(this._indentationRules.unIndentedLinePattern) &&\n\t\t\tthis._indentationRules.unIndentedLinePattern.test(text)\n\t\t) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tpublic getIndentMetadata(text: string): number {\n\t\tlet ret = 0;\n\t\tif (this.shouldIncrease(text)) {\n\t\t\tret += IndentConsts.INCREASE_MASK;\n\t\t}\n\t\tif (this.shouldDecrease(text)) {\n\t\t\tret += IndentConsts.DECREASE_MASK;\n\t\t}\n\t\tif (this.shouldIndentNextLine(text)) {\n\t\t\tret += IndentConsts.INDENT_NEXTLINE_MASK;\n\t\t}\n\t\tif (this.shouldIgnore(text)) {\n\t\t\tret += IndentConsts.UNINDENT_MASK;\n\t\t}\n\t\treturn ret;\n\t}\n}\n"],
  "mappings": ";;AAOO,IAAK,eAAL,kBAAKA,kBAAL;AACN,EAAAA,4BAAA,mBAAgB,KAAhB;AACA,EAAAA,4BAAA,mBAAgB,KAAhB;AACA,EAAAA,4BAAA,0BAAuB,KAAvB;AACA,EAAAA,4BAAA,mBAAgB,KAAhB;AAJW,SAAAA;AAAA,GAAA;AAOZ,SAAS,iBAAiB,KAAa;AACtC,MAAI,IAAI,QAAQ;AACf,QAAI,YAAY;AAAA,EACjB;AAEA,SAAO;AACR;AANS;AAQF,MAAM,mBAAmB;AAAA,EAtBhC,OAsBgC;AAAA;AAAA;AAAA,EACd;AAAA,EAEjB,YAAY,kBAAmC;AAC9C,SAAK,oBAAoB;AAAA,EAC1B;AAAA,EAEO,eAAe,MAAuB;AAC5C,QAAI,KAAK,mBAAmB;AAC3B,UACC,KAAK,kBAAkB,yBACvB;AAAA,QACC,KAAK,kBAAkB;AAAA,MACxB,KACA,KAAK,kBAAkB,sBAAsB,KAAK,IAAI,GACrD;AACD,eAAO;AAAA,MACR;AAAA,IAID;AACA,WAAO;AAAA,EACR;AAAA,EAEO,eAAe,MAAuB;AAC5C,QACC,KAAK,qBACL,KAAK,kBAAkB,yBACvB,iBAAiB,KAAK,kBAAkB,qBAAqB,KAC7D,KAAK,kBAAkB,sBAAsB,KAAK,IAAI,GACrD;AACD,aAAO;AAAA,IACR;AACA,WAAO;AAAA,EACR;AAAA,EAEO,qBAAqB,MAAuB;AAClD,QACC,KAAK,qBACL,KAAK,kBAAkB,yBACvB,iBAAiB,KAAK,kBAAkB,qBAAqB,KAC7D,KAAK,kBAAkB,sBAAsB,KAAK,IAAI,GACrD;AACD,aAAO;AAAA,IACR;AAEA,WAAO;AAAA,EACR;AAAA,EAEO,aAAa,MAAuB;AAE1C,QACC,KAAK,qBACL,KAAK,kBAAkB,yBACvB,iBAAiB,KAAK,kBAAkB,qBAAqB,KAC7D,KAAK,kBAAkB,sBAAsB,KAAK,IAAI,GACrD;AACD,aAAO;AAAA,IACR;AAEA,WAAO;AAAA,EACR;AAAA,EAEO,kBAAkB,MAAsB;AAC9C,QAAI,MAAM;AACV,QAAI,KAAK,eAAe,IAAI,GAAG;AAC9B,aAAO;AAAA,IACR;AACA,QAAI,KAAK,eAAe,IAAI,GAAG;AAC9B,aAAO;AAAA,IACR;AACA,QAAI,KAAK,qBAAqB,IAAI,GAAG;AACpC,aAAO;AAAA,IACR;AACA,QAAI,KAAK,aAAa,IAAI,GAAG;AAC5B,aAAO;AAAA,IACR;AACA,WAAO;AAAA,EACR;AACD;",
  "names": ["IndentConsts"]
}
