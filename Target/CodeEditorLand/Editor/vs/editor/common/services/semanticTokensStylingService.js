var g=Object.defineProperty;var h=Object.getOwnPropertyDescriptor;var m=(o,r,e,t)=>{for(var i=t>1?void 0:t?h(r,e):r,c=o.length-1,s;c>=0;c--)(s=o[c])&&(i=(t?s(r,e,i):s(i))||i);return t&&i&&g(r,e,i),i},a=(o,r)=>(e,t)=>r(e,t,o);import{Disposable as v}from"../../../../vs/base/common/lifecycle.js";import{ILanguageService as S}from"../../../../vs/editor/common/languages/language.js";import"../../../../vs/editor/common/services/model.js";import{SemanticTokensProviderStyling as l}from"../../../../vs/editor/common/services/semanticTokensProviderStyling.js";import{ISemanticTokensStylingService as p}from"../../../../vs/editor/common/services/semanticTokensStyling.js";import{InstantiationType as d,registerSingleton as u}from"../../../../vs/platform/instantiation/common/extensions.js";import{ILogService as _}from"../../../../vs/platform/log/common/log.js";import{IThemeService as T}from"../../../../vs/platform/theme/common/themeService.js";let n=class extends v{constructor(e,t,i){super();this._themeService=e;this._logService=t;this._languageService=i;this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange(()=>{this._caches=new WeakMap}))}_serviceBrand;_caches;getStyling(e){return this._caches.has(e)||this._caches.set(e,new l(e.getLegend(),this._themeService,this._languageService,this._logService)),this._caches.get(e)}};n=m([a(0,T),a(1,_),a(2,S)],n),u(p,n,d.Delayed);export{n as SemanticTokensStylingService};
