var g=Object.defineProperty;var v=Object.getOwnPropertyDescriptor;var a=(o,e,r,i)=>{for(var t=i>1?void 0:i?v(e,r):e,p=o.length-1,d;p>=0;p--)(d=o[p])&&(t=(i?d(e,r,t):d(t))||t);return i&&t&&g(e,r,t),t},s=(o,e)=>(r,i)=>e(r,i,o);import"../../../../base/browser/ui/codicons/codiconStyles.js";import"../../../contrib/symbolIcons/browser/symbolIcons.js";import{Event as E}from"../../../../base/common/event.js";import{KeyCode as I,KeyMod as l}from"../../../../base/common/keyCodes.js";import{KeybindingWeight as y}from"../../../../platform/keybinding/common/keybindingsRegistry.js";import{Extensions as A}from"../../../../platform/quickinput/common/quickAccess.js";import{IQuickInputService as x,ItemActivation as C}from"../../../../platform/quickinput/common/quickInput.js";import{Registry as O}from"../../../../platform/registry/common/platform.js";import{EditorAction as k,registerEditorAction as S}from"../../../browser/editorExtensions.js";import{ICodeEditorService as b}from"../../../browser/services/codeEditorService.js";import{EditorContextKeys as f}from"../../../common/editorContextKeys.js";import{ILanguageFeaturesService as h}from"../../../common/services/languageFeatures.js";import{QuickOutlineNLS as u}from"../../../common/standaloneStrings.js";import{IOutlineModelService as R}from"../../../contrib/documentSymbols/browser/outlineModel.js";import{AbstractGotoSymbolQuickAccessProvider as c}from"../../../contrib/quickAccess/browser/gotoSymbolQuickAccess.js";let n=class extends c{constructor(r,i,t){super(i,t);this.editorService=r}onDidActiveTextEditorControlChange=E.None;get activeTextEditorControl(){return this.editorService.getFocusedCodeEditor()??void 0}};n=a([s(0,b),s(1,h),s(2,R)],n);class m extends k{static ID="editor.action.quickOutline";constructor(){super({id:m.ID,label:u.quickOutlineActionLabel,alias:"Go to Symbol...",precondition:f.hasDocumentSymbolProvider,kbOpts:{kbExpr:f.focus,primary:l.CtrlCmd|l.Shift|I.KeyO,weight:y.EditorContrib},contextMenuOpts:{group:"navigation",order:3}})}run(e){e.get(x).quickAccess.show(c.PREFIX,{itemActivation:C.NONE})}}S(m),O.as(A.Quickaccess).registerQuickAccessProvider({ctor:n,prefix:c.PREFIX,helpEntries:[{description:u.quickOutlineActionLabel,prefix:c.PREFIX,commandId:m.ID},{description:u.quickOutlineByCategoryActionLabel,prefix:c.PREFIX_BY_CATEGORY}]});export{m as GotoSymbolAction,n as StandaloneGotoSymbolQuickAccessProvider};
