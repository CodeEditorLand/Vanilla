import f from"assert";import{KeyCode as r}from"../../../../base/common/keyCodes.js";import{DisposableStore as p}from"../../../../base/common/lifecycle.js";import{ensureNoDisposablesAreLeakedInTestSuite as y}from"../../../../base/test/common/utils.js";import{StandaloneCodeEditorService as u}from"../../browser/standaloneCodeEditorService.js";import{StandaloneCommandService as K,StandaloneConfigurationService as b,StandaloneKeybindingService as w,StandaloneNotificationService as C}from"../../browser/standaloneServices.js";import{StandaloneThemeService as g}from"../../browser/standaloneThemeService.js";import{ContextKeyService as h}from"../../../../platform/contextkey/browser/contextKeyService.js";import{InstantiationService as k}from"../../../../platform/instantiation/common/instantiationService.js";import{ServiceCollection as D}from"../../../../platform/instantiation/common/serviceCollection.js";import"../../../../platform/keybinding/common/keybinding.js";import{NullLogService as a}from"../../../../platform/log/common/log.js";import{NullTelemetryService as E}from"../../../../platform/telemetry/common/telemetryUtils.js";suite("StandaloneKeybindingService",()=>{y();class d extends w{testDispatch(o){super._dispatch(o,null)}}test("issue microsoft/monaco-editor#167",()=>{const e=new p,o=new D,c=new k(o,!0),s=new b(new a),n=e.add(new h(s)),m=new K(c),l=new C,S=e.add(new g),v=e.add(new u(n,S)),t=e.add(new d(n,m,E,l,new a,v));let i=!1;e.add(t.addDynamicKeybinding("testCommand",r.F9,()=>{i=!0},void 0)),t.testDispatch({_standardKeyboardEventBrand:!0,ctrlKey:!1,shiftKey:!1,altKey:!1,metaKey:!1,altGraphKey:!1,keyCode:r.F9,code:null}),f.ok(i,"command invoked"),e.dispose()})});
