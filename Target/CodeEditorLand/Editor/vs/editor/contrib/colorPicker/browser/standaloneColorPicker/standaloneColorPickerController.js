var C=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var l=(s,t,e,o)=>{for(var i=o>1?void 0:o?p(t,e):t,n=s.length-1,a;n>=0;n--)(a=s[n])&&(i=(o?a(t,e,i):a(i))||i);return o&&i&&C(t,e,i),i},d=(s,t)=>(e,o)=>t(e,o,s);import{Disposable as u}from"../../../../../base/common/lifecycle.js";import{IContextKeyService as h}from"../../../../../platform/contextkey/common/contextkey.js";import{IInstantiationService as b}from"../../../../../platform/instantiation/common/instantiation.js";import{EditorContextKeys as c}from"../../../../common/editorContextKeys.js";import{StandaloneColorPickerWidget as m}from"./standaloneColorPickerWidget.js";let r=class extends u{constructor(e,o,i){super();this._editor=e;this._instantiationService=i;this._standaloneColorPickerVisible=c.standaloneColorPickerVisible.bindTo(o),this._standaloneColorPickerFocused=c.standaloneColorPickerFocused.bindTo(o)}static ID="editor.contrib.standaloneColorPickerController";_standaloneColorPickerWidget=null;_standaloneColorPickerVisible;_standaloneColorPickerFocused;showOrFocus(){this._editor.hasModel()&&(this._standaloneColorPickerVisible.get()?this._standaloneColorPickerFocused.get()||this._standaloneColorPickerWidget?.focus():this._standaloneColorPickerWidget=this._instantiationService.createInstance(m,this._editor,this._standaloneColorPickerVisible,this._standaloneColorPickerFocused))}hide(){this._standaloneColorPickerFocused.set(!1),this._standaloneColorPickerVisible.set(!1),this._standaloneColorPickerWidget?.hide(),this._editor.focus()}insertColor(){this._standaloneColorPickerWidget?.updateEditor(),this.hide()}static get(e){return e.getContribution(r.ID)}};r=l([d(1,h),d(2,b)],r);export{r as StandaloneColorPickerController};
