import{CancellationToken as m}from"../../../../base/common/cancellation.js";import{illegalArgument as s}from"../../../../base/common/errors.js";import{URI as c}from"../../../../base/common/uri.js";import{registerAction2 as b}from"../../../../platform/actions/common/actions.js";import{CommandsRegistry as C}from"../../../../platform/commands/common/commands.js";import{EditorContributionInstantiation as a,registerEditorAction as f,registerEditorContribution as l}from"../../../browser/editorExtensions.js";import{Range as h}from"../../../common/core/range.js";import{registerEditorFeature as x}from"../../../common/editorFeatures.js";import"../../../common/languages.js";import{HoverParticipantRegistry as y}from"../../hover/browser/hoverTypes.js";import{_findColorData as d,_setupColorCommand as u,ColorPresentationsCollector as F,ExtColorDataCollector as w}from"./color.js";import{ColorDetector as p}from"./colorDetector.js";import{DefaultDocumentColorProviderFeature as S}from"./defaultDocumentColorProvider.js";import{HoverColorPickerContribution as g}from"./hoverColorPicker/hoverColorPickerContribution.js";import{HoverColorPickerParticipant as H}from"./hoverColorPicker/hoverColorPickerParticipant.js";import{HideStandaloneColorPicker as _,InsertColorWithStandaloneColorPicker as N,ShowOrFocusStandaloneColorPicker as B}from"./standaloneColorPicker/standaloneColorPickerActions.js";import{StandaloneColorPickerController as P}from"./standaloneColorPicker/standaloneColorPickerController.js";f(_),f(N),b(B),l(g.ID,g,a.BeforeFirstInteraction),l(P.ID,P,a.AfterFirstRender),l(p.ID,p,a.AfterFirstRender),x(S),y.register(H),C.registerCommand("_executeDocumentColorProvider",function(e,...i){const[o]=i;if(!(o instanceof c))throw s();const{model:n,colorProviderRegistry:r,isDefaultColorDecoratorsEnabled:t}=u(e,o);return d(new w,r,n,m.None,t)}),C.registerCommand("_executeColorPresentationProvider",function(e,...i){const[o,n]=i,{uri:r,range:t}=n;if(!(r instanceof c)||!Array.isArray(o)||o.length!==4||!h.isIRange(t))throw s();const{model:D,colorProviderRegistry:I,isDefaultColorDecoratorsEnabled:E}=u(e,r),[R,v,k,A]=o;return d(new F({range:t,color:{red:R,green:v,blue:k,alpha:A}}),I,D,m.None,E)});
