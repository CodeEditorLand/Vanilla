{
  "version": 3,
  "sources": ["../../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/editor/contrib/colorPicker/browser/standaloneColorPicker/standaloneColorPickerController.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Disposable } from \"../../../../../base/common/lifecycle.js\";\nimport {\n\ttype IContextKey,\n\tIContextKeyService,\n} from \"../../../../../platform/contextkey/common/contextkey.js\";\nimport { IInstantiationService } from \"../../../../../platform/instantiation/common/instantiation.js\";\nimport type { ICodeEditor } from \"../../../../browser/editorBrowser.js\";\nimport type { IEditorContribution } from \"../../../../common/editorCommon.js\";\nimport { EditorContextKeys } from \"../../../../common/editorContextKeys.js\";\nimport { StandaloneColorPickerWidget } from \"./standaloneColorPickerWidget.js\";\n\nexport class StandaloneColorPickerController\n\textends Disposable\n\timplements IEditorContribution\n{\n\tpublic static ID = \"editor.contrib.standaloneColorPickerController\";\n\tprivate _standaloneColorPickerWidget: StandaloneColorPickerWidget | null =\n\t\tnull;\n\tprivate _standaloneColorPickerVisible: IContextKey<boolean>;\n\tprivate _standaloneColorPickerFocused: IContextKey<boolean>;\n\n\tconstructor(\n\t\tprivate readonly _editor: ICodeEditor,\n\t\t@IContextKeyService _contextKeyService: IContextKeyService,\n\t\t@IInstantiationService\n\t\tprivate readonly _instantiationService: IInstantiationService,\n\t) {\n\t\tsuper();\n\t\tthis._standaloneColorPickerVisible =\n\t\t\tEditorContextKeys.standaloneColorPickerVisible.bindTo(\n\t\t\t\t_contextKeyService,\n\t\t\t);\n\t\tthis._standaloneColorPickerFocused =\n\t\t\tEditorContextKeys.standaloneColorPickerFocused.bindTo(\n\t\t\t\t_contextKeyService,\n\t\t\t);\n\t}\n\n\tpublic showOrFocus() {\n\t\tif (!this._editor.hasModel()) {\n\t\t\treturn;\n\t\t}\n\t\tif (!this._standaloneColorPickerVisible.get()) {\n\t\t\tthis._standaloneColorPickerWidget =\n\t\t\t\tthis._instantiationService.createInstance(\n\t\t\t\t\tStandaloneColorPickerWidget,\n\t\t\t\t\tthis._editor,\n\t\t\t\t\tthis._standaloneColorPickerVisible,\n\t\t\t\t\tthis._standaloneColorPickerFocused,\n\t\t\t\t);\n\t\t} else if (!this._standaloneColorPickerFocused.get()) {\n\t\t\tthis._standaloneColorPickerWidget?.focus();\n\t\t}\n\t}\n\n\tpublic hide() {\n\t\tthis._standaloneColorPickerFocused.set(false);\n\t\tthis._standaloneColorPickerVisible.set(false);\n\t\tthis._standaloneColorPickerWidget?.hide();\n\t\tthis._editor.focus();\n\t}\n\n\tpublic insertColor() {\n\t\tthis._standaloneColorPickerWidget?.updateEditor();\n\t\tthis.hide();\n\t}\n\n\tpublic static get(editor: ICodeEditor) {\n\t\treturn editor.getContribution<StandaloneColorPickerController>(\n\t\t\tStandaloneColorPickerController.ID,\n\t\t);\n\t}\n}\n"],
  "mappings": ";;;;;;;;;;;;AAKA,SAAS,kBAAkB;AAC3B;AAAA,EAEC;AAAA,OACM;AACP,SAAS,6BAA6B;AAGtC,SAAS,yBAAyB;AAClC,SAAS,mCAAmC;AAErC,IAAM,kCAAN,cACE,WAET;AAAA,EAOC,YACkB,SACG,oBAEH,uBAChB;AACD,UAAM;AALW;AAGA;AAGjB,SAAK,gCACJ,kBAAkB,6BAA6B;AAAA,MAC9C;AAAA,IACD;AACD,SAAK,gCACJ,kBAAkB,6BAA6B;AAAA,MAC9C;AAAA,IACD;AAAA,EACF;AAAA,EAzCD,OAmBA;AAAA;AAAA;AAAA,EACC,OAAc,KAAK;AAAA,EACX,+BACP;AAAA,EACO;AAAA,EACA;AAAA,EAmBD,cAAc;AACpB,QAAI,CAAC,KAAK,QAAQ,SAAS,GAAG;AAC7B;AAAA,IACD;AACA,QAAI,CAAC,KAAK,8BAA8B,IAAI,GAAG;AAC9C,WAAK,+BACJ,KAAK,sBAAsB;AAAA,QAC1B;AAAA,QACA,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,MACN;AAAA,IACF,WAAW,CAAC,KAAK,8BAA8B,IAAI,GAAG;AACrD,WAAK,8BAA8B,MAAM;AAAA,IAC1C;AAAA,EACD;AAAA,EAEO,OAAO;AACb,SAAK,8BAA8B,IAAI,KAAK;AAC5C,SAAK,8BAA8B,IAAI,KAAK;AAC5C,SAAK,8BAA8B,KAAK;AACxC,SAAK,QAAQ,MAAM;AAAA,EACpB;AAAA,EAEO,cAAc;AACpB,SAAK,8BAA8B,aAAa;AAChD,SAAK,KAAK;AAAA,EACX;AAAA,EAEA,OAAc,IAAI,QAAqB;AACtC,WAAO,OAAO;AAAA,MACb,gCAAgC;AAAA,IACjC;AAAA,EACD;AACD;AA7Da,kCAAN;AAAA,EAYJ;AAAA,EACA;AAAA,GAbU;",
  "names": []
}
