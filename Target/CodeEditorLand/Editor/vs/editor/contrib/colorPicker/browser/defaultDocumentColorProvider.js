var f=Object.defineProperty;var h=Object.getOwnPropertyDescriptor;var I=(s,o,r,a)=>{for(var e=a>1?void 0:a?h(o,r):o,t=s.length-1,n;t>=0;t--)(n=s[t])&&(e=(a?n(o,r,e):n(e))||e);return a&&e&&f(o,r,e),e},S=(s,o)=>(r,a)=>o(r,a,s);import"../../../../../vs/base/common/cancellation.js";import{Color as i,RGBA as k}from"../../../../../vs/base/common/color.js";import{Disposable as u}from"../../../../../vs/base/common/lifecycle.js";import{registerEditorFeature as v}from"../../../../../vs/editor/common/editorFeatures.js";import"../../../../../vs/editor/common/languages.js";import"../../../../../vs/editor/common/model.js";import{IEditorWorkerService as x}from"../../../../../vs/editor/common/services/editorWorker.js";import{ILanguageFeaturesService as E}from"../../../../../vs/editor/common/services/languageFeatures.js";let l=class{constructor(o){this._editorWorkerService=o}async provideDocumentColors(o,r){return this._editorWorkerService.computeDefaultDocumentColors(o.uri)}provideColorPresentations(o,r,a){const e=r.range,t=r.color,n=t.alpha,m=new i(new k(Math.round(255*t.red),Math.round(255*t.green),Math.round(255*t.blue),n)),d=n?i.Format.CSS.formatRGB(m):i.Format.CSS.formatRGBA(m),C=n?i.Format.CSS.formatHSL(m):i.Format.CSS.formatHSLA(m),g=n?i.Format.CSS.formatHex(m):i.Format.CSS.formatHexA(m),p=[];return p.push({label:d,textEdit:{range:e,text:d}}),p.push({label:C,textEdit:{range:e,text:C}}),p.push({label:g,textEdit:{range:e,text:g}}),p}};l=I([S(0,x)],l);let c=class extends u{constructor(o,r){super(),this._register(o.colorProvider.register("*",new l(r)))}};c=I([S(0,E),S(1,x)],c),v(c);export{l as DefaultDocumentColorProvider};
