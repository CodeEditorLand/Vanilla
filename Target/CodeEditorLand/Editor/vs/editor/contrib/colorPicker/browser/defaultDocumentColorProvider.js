var h=Object.defineProperty;var f=Object.getOwnPropertyDescriptor;var I=(i,o,r,a)=>{for(var e=a>1?void 0:a?f(o,r):o,t=i.length-1,n;t>=0;t--)(n=i[t])&&(e=(a?n(o,r,e):n(e))||e);return a&&e&&h(o,r,e),e},p=(i,o)=>(r,a)=>o(r,a,i);import{Color as s,RGBA as k}from"../../../../base/common/color.js";import{Disposable as u}from"../../../../base/common/lifecycle.js";import{IEditorWorkerService as x}from"../../../common/services/editorWorker.js";import{ILanguageFeaturesService as b}from"../../../common/services/languageFeatures.js";let l=class{constructor(o){this._editorWorkerService=o}async provideDocumentColors(o,r){return this._editorWorkerService.computeDefaultDocumentColors(o.uri)}provideColorPresentations(o,r,a){const e=r.range,t=r.color,n=t.alpha,m=new s(new k(Math.round(255*t.red),Math.round(255*t.green),Math.round(255*t.blue),n)),d=n?s.Format.CSS.formatRGB(m):s.Format.CSS.formatRGBA(m),C=n?s.Format.CSS.formatHSL(m):s.Format.CSS.formatHSLA(m),g=n?s.Format.CSS.formatHex(m):s.Format.CSS.formatHexA(m),c=[];return c.push({label:d,textEdit:{range:e,text:d}}),c.push({label:C,textEdit:{range:e,text:C}}),c.push({label:g,textEdit:{range:e,text:g}}),c}};l=I([p(0,x)],l);let S=class extends u{constructor(o,r){super(),this._register(o.colorProvider.register("*",new l(r)))}};S=I([p(0,b),p(1,x)],S);export{l as DefaultDocumentColorProvider,S as DefaultDocumentColorProviderFeature};
