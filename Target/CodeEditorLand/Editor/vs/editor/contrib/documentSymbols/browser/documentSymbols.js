import{CancellationToken as m}from"../../../../base/common/cancellation.js";import{assertType as n}from"../../../../base/common/types.js";import{URI as c}from"../../../../base/common/uri.js";import{CommandsRegistry as l}from"../../../../platform/commands/common/commands.js";import{ITextModelService as s}from"../../../common/services/resolverService.js";import{IOutlineModelService as a}from"./outlineModel.js";l.registerCommand("_executeDocumentSymbolProvider",async function(e,...t){const[o]=t;n(c.isUri(o));const i=e.get(a),r=await e.get(s).createModelReference(o);try{return(await i.getOrCreate(r.object.textEditorModel,m.None)).getTopLevelSymbols()}finally{r.dispose()}});
