import{CancellationToken as m}from"../../../../base/common/cancellation.js";import{assertType as n}from"../../../../base/common/types.js";import{URI as c}from"../../../../base/common/uri.js";import{ITextModelService as l}from"../../../common/services/resolverService.js";import{IOutlineModelService as s}from"./outlineModel.js";import{CommandsRegistry as a}from"../../../../platform/commands/common/commands.js";a.registerCommand("_executeDocumentSymbolProvider",async function(e,...t){const[o]=t;n(c.isUri(o));const i=e.get(s),r=await e.get(l).createModelReference(o);try{return(await i.getOrCreate(r.object.textEditorModel,m.None)).getTopLevelSymbols()}finally{r.dispose()}});
