{
  "version": 3,
  "sources": ["../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/editor/contrib/hover/browser/markerHoverParticipant.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as dom from '../../../../base/browser/dom.js';\nimport { isNonEmptyArray } from '../../../../base/common/arrays.js';\nimport { CancelablePromise, createCancelablePromise, disposableTimeout } from '../../../../base/common/async.js';\nimport { onUnexpectedError } from '../../../../base/common/errors.js';\nimport { Disposable, DisposableStore, toDisposable } from '../../../../base/common/lifecycle.js';\nimport { basename } from '../../../../base/common/resources.js';\nimport { ICodeEditor } from '../../../browser/editorBrowser.js';\nimport { EditorOption } from '../../../common/config/editorOptions.js';\nimport { Range } from '../../../common/core/range.js';\nimport { CodeActionTriggerType } from '../../../common/languages.js';\nimport { IModelDecoration } from '../../../common/model.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nimport { IMarkerDecorationsService } from '../../../common/services/markerDecorations.js';\nimport { getCodeActions, quickFixCommandId } from '../../codeAction/browser/codeAction.js';\nimport { CodeActionController } from '../../codeAction/browser/codeActionController.js';\nimport { CodeActionKind, CodeActionSet, CodeActionTrigger, CodeActionTriggerSource } from '../../codeAction/common/types.js';\nimport { MarkerController, NextMarkerAction } from '../../gotoError/browser/gotoError.js';\nimport { HoverAnchor, HoverAnchorType, IEditorHoverParticipant, IEditorHoverRenderContext, IHoverPart, IRenderedHoverPart, IRenderedHoverParts, RenderedHoverParts } from './hoverTypes.js';\nimport * as nls from '../../../../nls.js';\nimport { ITextEditorOptions } from '../../../../platform/editor/common/editor.js';\nimport { IMarker, IMarkerData, MarkerSeverity } from '../../../../platform/markers/common/markers.js';\nimport { IOpenerService } from '../../../../platform/opener/common/opener.js';\nimport { Progress } from '../../../../platform/progress/common/progress.js';\n\nconst $ = dom.$;\n\nexport class MarkerHover implements IHoverPart {\n\n\tconstructor(\n\t\tpublic readonly owner: IEditorHoverParticipant<MarkerHover>,\n\t\tpublic readonly range: Range,\n\t\tpublic readonly marker: IMarker,\n\t) { }\n\n\tpublic isValidForHoverAnchor(anchor: HoverAnchor): boolean {\n\t\treturn (\n\t\t\tanchor.type === HoverAnchorType.Range\n\t\t\t&& this.range.startColumn <= anchor.range.startColumn\n\t\t\t&& this.range.endColumn >= anchor.range.endColumn\n\t\t);\n\t}\n}\n\nconst markerCodeActionTrigger: CodeActionTrigger = {\n\ttype: CodeActionTriggerType.Invoke,\n\tfilter: { include: CodeActionKind.QuickFix },\n\ttriggerAction: CodeActionTriggerSource.QuickFixHover\n};\n\nexport class MarkerHoverParticipant implements IEditorHoverParticipant<MarkerHover> {\n\n\tpublic readonly hoverOrdinal: number = 1;\n\n\tprivate recentMarkerCodeActionsInfo: { marker: IMarker; hasCodeActions: boolean } | undefined = undefined;\n\n\tconstructor(\n\t\tprivate readonly _editor: ICodeEditor,\n\t\t@IMarkerDecorationsService private readonly _markerDecorationsService: IMarkerDecorationsService,\n\t\t@IOpenerService private readonly _openerService: IOpenerService,\n\t\t@ILanguageFeaturesService private readonly _languageFeaturesService: ILanguageFeaturesService,\n\t) { }\n\n\tpublic computeSync(anchor: HoverAnchor, lineDecorations: IModelDecoration[]): MarkerHover[] {\n\t\tif (!this._editor.hasModel() || anchor.type !== HoverAnchorType.Range && !anchor.supportsMarkerHover) {\n\t\t\treturn [];\n\t\t}\n\n\t\tconst model = this._editor.getModel();\n\t\tconst lineNumber = anchor.range.startLineNumber;\n\t\tconst maxColumn = model.getLineMaxColumn(lineNumber);\n\t\tconst result: MarkerHover[] = [];\n\t\tfor (const d of lineDecorations) {\n\t\t\tconst startColumn = (d.range.startLineNumber === lineNumber) ? d.range.startColumn : 1;\n\t\t\tconst endColumn = (d.range.endLineNumber === lineNumber) ? d.range.endColumn : maxColumn;\n\n\t\t\tconst marker = this._markerDecorationsService.getMarker(model.uri, d);\n\t\t\tif (!marker) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tconst range = new Range(anchor.range.startLineNumber, startColumn, anchor.range.startLineNumber, endColumn);\n\t\t\tresult.push(new MarkerHover(this, range, marker));\n\t\t}\n\n\t\treturn result;\n\t}\n\n\tpublic renderHoverParts(context: IEditorHoverRenderContext, hoverParts: MarkerHover[]): IRenderedHoverParts<MarkerHover> {\n\t\tif (!hoverParts.length) {\n\t\t\treturn new RenderedHoverParts([]);\n\t\t}\n\t\tconst disposables = new DisposableStore();\n\t\tconst renderedHoverParts: IRenderedHoverPart<MarkerHover>[] = [];\n\t\thoverParts.forEach(hoverPart => {\n\t\t\tconst renderedMarkerHover = this._renderMarkerHover(hoverPart);\n\t\t\tcontext.fragment.appendChild(renderedMarkerHover.hoverElement);\n\t\t\trenderedHoverParts.push(renderedMarkerHover);\n\t\t});\n\t\tconst markerHoverForStatusbar = hoverParts.length === 1 ? hoverParts[0] : hoverParts.sort((a, b) => MarkerSeverity.compare(a.marker.severity, b.marker.severity))[0];\n\t\tthis.renderMarkerStatusbar(context, markerHoverForStatusbar, disposables);\n\t\treturn new RenderedHoverParts(renderedHoverParts);\n\t}\n\n\tpublic getAccessibleContent(hoverPart: MarkerHover): string {\n\t\treturn hoverPart.marker.message;\n\t}\n\n\tprivate _renderMarkerHover(markerHover: MarkerHover): IRenderedHoverPart<MarkerHover> {\n\t\tconst disposables: DisposableStore = new DisposableStore();\n\t\tconst hoverElement = $('div.hover-row');\n\t\tconst markerElement = dom.append(hoverElement, $('div.marker.hover-contents'));\n\t\tconst { source, message, code, relatedInformation } = markerHover.marker;\n\n\t\tthis._editor.applyFontInfo(markerElement);\n\t\tconst messageElement = dom.append(markerElement, $('span'));\n\t\tmessageElement.style.whiteSpace = 'pre-wrap';\n\t\tmessageElement.innerText = message;\n\n\t\tif (source || code) {\n\t\t\t// Code has link\n\t\t\tif (code && typeof code !== 'string') {\n\t\t\t\tconst sourceAndCodeElement = $('span');\n\t\t\t\tif (source) {\n\t\t\t\t\tconst sourceElement = dom.append(sourceAndCodeElement, $('span'));\n\t\t\t\t\tsourceElement.innerText = source;\n\t\t\t\t}\n\t\t\t\tconst codeLink = dom.append(sourceAndCodeElement, $('a.code-link'));\n\t\t\t\tcodeLink.setAttribute('href', code.target.toString(true));\n\n\t\t\t\tdisposables.add(dom.addDisposableListener(codeLink, 'click', (e) => {\n\t\t\t\t\tthis._openerService.open(code.target, { allowCommands: true });\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t}));\n\n\t\t\t\tconst codeElement = dom.append(codeLink, $('span'));\n\t\t\t\tcodeElement.innerText = code.value;\n\n\t\t\t\tconst detailsElement = dom.append(markerElement, sourceAndCodeElement);\n\t\t\t\tdetailsElement.style.opacity = '0.6';\n\t\t\t\tdetailsElement.style.paddingLeft = '6px';\n\t\t\t} else {\n\t\t\t\tconst detailsElement = dom.append(markerElement, $('span'));\n\t\t\t\tdetailsElement.style.opacity = '0.6';\n\t\t\t\tdetailsElement.style.paddingLeft = '6px';\n\t\t\t\tdetailsElement.innerText = source && code ? `${source}(${code})` : source ? source : `(${code})`;\n\t\t\t}\n\t\t}\n\n\t\tif (isNonEmptyArray(relatedInformation)) {\n\t\t\tfor (const { message, resource, startLineNumber, startColumn } of relatedInformation) {\n\t\t\t\tconst relatedInfoContainer = dom.append(markerElement, $('div'));\n\t\t\t\trelatedInfoContainer.style.marginTop = '8px';\n\t\t\t\tconst a = dom.append(relatedInfoContainer, $('a'));\n\t\t\t\ta.innerText = `${basename(resource)}(${startLineNumber}, ${startColumn}): `;\n\t\t\t\ta.style.cursor = 'pointer';\n\t\t\t\tdisposables.add(dom.addDisposableListener(a, 'click', (e) => {\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tif (this._openerService) {\n\t\t\t\t\t\tconst editorOptions: ITextEditorOptions = { selection: { startLineNumber, startColumn } };\n\t\t\t\t\t\tthis._openerService.open(resource, {\n\t\t\t\t\t\t\tfromUserGesture: true,\n\t\t\t\t\t\t\teditorOptions\n\t\t\t\t\t\t}).catch(onUnexpectedError);\n\t\t\t\t\t}\n\t\t\t\t}));\n\t\t\t\tconst messageElement = dom.append<HTMLAnchorElement>(relatedInfoContainer, $('span'));\n\t\t\t\tmessageElement.innerText = message;\n\t\t\t\tthis._editor.applyFontInfo(messageElement);\n\t\t\t}\n\t\t}\n\n\t\tconst renderedHoverPart: IRenderedHoverPart<MarkerHover> = {\n\t\t\thoverPart: markerHover,\n\t\t\thoverElement,\n\t\t\tdispose: () => disposables.dispose()\n\t\t};\n\t\treturn renderedHoverPart;\n\t}\n\n\tprivate renderMarkerStatusbar(context: IEditorHoverRenderContext, markerHover: MarkerHover, disposables: DisposableStore): void {\n\t\tif (markerHover.marker.severity === MarkerSeverity.Error || markerHover.marker.severity === MarkerSeverity.Warning || markerHover.marker.severity === MarkerSeverity.Info) {\n\t\t\tconst markerController = MarkerController.get(this._editor);\n\t\t\tif (markerController) {\n\t\t\t\tcontext.statusBar.addAction({\n\t\t\t\t\tlabel: nls.localize('view problem', \"View Problem\"),\n\t\t\t\t\tcommandId: NextMarkerAction.ID,\n\t\t\t\t\trun: () => {\n\t\t\t\t\t\tcontext.hide();\n\t\t\t\t\t\tmarkerController.showAtMarker(markerHover.marker);\n\t\t\t\t\t\tthis._editor.focus();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tif (!this._editor.getOption(EditorOption.readOnly)) {\n\t\t\tconst quickfixPlaceholderElement = context.statusBar.append($('div'));\n\t\t\tif (this.recentMarkerCodeActionsInfo) {\n\t\t\t\tif (IMarkerData.makeKey(this.recentMarkerCodeActionsInfo.marker) === IMarkerData.makeKey(markerHover.marker)) {\n\t\t\t\t\tif (!this.recentMarkerCodeActionsInfo.hasCodeActions) {\n\t\t\t\t\t\tquickfixPlaceholderElement.textContent = nls.localize('noQuickFixes', \"No quick fixes available\");\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis.recentMarkerCodeActionsInfo = undefined;\n\t\t\t\t}\n\t\t\t}\n\t\t\tconst updatePlaceholderDisposable = this.recentMarkerCodeActionsInfo && !this.recentMarkerCodeActionsInfo.hasCodeActions ? Disposable.None : disposableTimeout(() => quickfixPlaceholderElement.textContent = nls.localize('checkingForQuickFixes', \"Checking for quick fixes...\"), 200, disposables);\n\t\t\tif (!quickfixPlaceholderElement.textContent) {\n\t\t\t\t// Have some content in here to avoid flickering\n\t\t\t\tquickfixPlaceholderElement.textContent = String.fromCharCode(0xA0); // &nbsp;\n\t\t\t}\n\t\t\tconst codeActionsPromise = this.getCodeActions(markerHover.marker);\n\t\t\tdisposables.add(toDisposable(() => codeActionsPromise.cancel()));\n\t\t\tcodeActionsPromise.then(actions => {\n\t\t\t\tupdatePlaceholderDisposable.dispose();\n\t\t\t\tthis.recentMarkerCodeActionsInfo = { marker: markerHover.marker, hasCodeActions: actions.validActions.length > 0 };\n\n\t\t\t\tif (!this.recentMarkerCodeActionsInfo.hasCodeActions) {\n\t\t\t\t\tactions.dispose();\n\t\t\t\t\tquickfixPlaceholderElement.textContent = nls.localize('noQuickFixes', \"No quick fixes available\");\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tquickfixPlaceholderElement.style.display = 'none';\n\n\t\t\t\tlet showing = false;\n\t\t\t\tdisposables.add(toDisposable(() => {\n\t\t\t\t\tif (!showing) {\n\t\t\t\t\t\tactions.dispose();\n\t\t\t\t\t}\n\t\t\t\t}));\n\n\t\t\t\tcontext.statusBar.addAction({\n\t\t\t\t\tlabel: nls.localize('quick fixes', \"Quick Fix...\"),\n\t\t\t\t\tcommandId: quickFixCommandId,\n\t\t\t\t\trun: (target) => {\n\t\t\t\t\t\tshowing = true;\n\t\t\t\t\t\tconst controller = CodeActionController.get(this._editor);\n\t\t\t\t\t\tconst elementPosition = dom.getDomNodePagePosition(target);\n\t\t\t\t\t\t// Hide the hover pre-emptively, otherwise the editor can close the code actions\n\t\t\t\t\t\t// context menu as well when using keyboard navigation\n\t\t\t\t\t\tcontext.hide();\n\t\t\t\t\t\tcontroller?.showCodeActions(markerCodeActionTrigger, actions, {\n\t\t\t\t\t\t\tx: elementPosition.left,\n\t\t\t\t\t\t\ty: elementPosition.top,\n\t\t\t\t\t\t\twidth: elementPosition.width,\n\t\t\t\t\t\t\theight: elementPosition.height\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}, onUnexpectedError);\n\t\t}\n\t}\n\n\tprivate getCodeActions(marker: IMarker): CancelablePromise<CodeActionSet> {\n\t\treturn createCancelablePromise(cancellationToken => {\n\t\t\treturn getCodeActions(\n\t\t\t\tthis._languageFeaturesService.codeActionProvider,\n\t\t\t\tthis._editor.getModel()!,\n\t\t\t\tnew Range(marker.startLineNumber, marker.startColumn, marker.endLineNumber, marker.endColumn),\n\t\t\t\tmarkerCodeActionTrigger,\n\t\t\t\tProgress.None,\n\t\t\t\tcancellationToken);\n\t\t});\n\t}\n}\n"],
  "mappings": "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",
  "names": ["message", "messageElement"]
}
