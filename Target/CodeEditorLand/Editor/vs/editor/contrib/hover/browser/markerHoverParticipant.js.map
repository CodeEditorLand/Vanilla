{
  "version": 3,
  "sources": ["../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/editor/contrib/hover/browser/markerHoverParticipant.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as dom from \"../../../../base/browser/dom.js\";\nimport { isNonEmptyArray } from \"../../../../base/common/arrays.js\";\nimport {\n\ttype CancelablePromise,\n\tcreateCancelablePromise,\n\tdisposableTimeout,\n} from \"../../../../base/common/async.js\";\nimport { onUnexpectedError } from \"../../../../base/common/errors.js\";\nimport {\n\tDisposable,\n\tDisposableStore,\n\ttoDisposable,\n} from \"../../../../base/common/lifecycle.js\";\nimport { basename } from \"../../../../base/common/resources.js\";\nimport * as nls from \"../../../../nls.js\";\nimport type { ITextEditorOptions } from \"../../../../platform/editor/common/editor.js\";\nimport {\n\ttype IMarker,\n\tIMarkerData,\n\tMarkerSeverity,\n} from \"../../../../platform/markers/common/markers.js\";\nimport { IOpenerService } from \"../../../../platform/opener/common/opener.js\";\nimport { Progress } from \"../../../../platform/progress/common/progress.js\";\nimport type { ICodeEditor } from \"../../../browser/editorBrowser.js\";\nimport { EditorOption } from \"../../../common/config/editorOptions.js\";\nimport { Range } from \"../../../common/core/range.js\";\nimport { CodeActionTriggerType } from \"../../../common/languages.js\";\nimport type { IModelDecoration } from \"../../../common/model.js\";\nimport { ILanguageFeaturesService } from \"../../../common/services/languageFeatures.js\";\nimport { IMarkerDecorationsService } from \"../../../common/services/markerDecorations.js\";\nimport {\n\tgetCodeActions,\n\tquickFixCommandId,\n} from \"../../codeAction/browser/codeAction.js\";\nimport { CodeActionController } from \"../../codeAction/browser/codeActionController.js\";\nimport {\n\tCodeActionKind,\n\ttype CodeActionSet,\n\ttype CodeActionTrigger,\n\tCodeActionTriggerSource,\n} from \"../../codeAction/common/types.js\";\nimport {\n\tMarkerController,\n\tNextMarkerAction,\n} from \"../../gotoError/browser/gotoError.js\";\nimport {\n\ttype HoverAnchor,\n\tHoverAnchorType,\n\ttype IEditorHoverParticipant,\n\ttype IEditorHoverRenderContext,\n\ttype IHoverPart,\n\ttype IRenderedHoverPart,\n\ttype IRenderedHoverParts,\n\tRenderedHoverParts,\n} from \"./hoverTypes.js\";\n\nconst $ = dom.$;\n\nexport class MarkerHover implements IHoverPart {\n\tconstructor(\n\t\tpublic readonly owner: IEditorHoverParticipant<MarkerHover>,\n\t\tpublic readonly range: Range,\n\t\tpublic readonly marker: IMarker,\n\t) {}\n\n\tpublic isValidForHoverAnchor(anchor: HoverAnchor): boolean {\n\t\treturn (\n\t\t\tanchor.type === HoverAnchorType.Range &&\n\t\t\tthis.range.startColumn <= anchor.range.startColumn &&\n\t\t\tthis.range.endColumn >= anchor.range.endColumn\n\t\t);\n\t}\n}\n\nconst markerCodeActionTrigger: CodeActionTrigger = {\n\ttype: CodeActionTriggerType.Invoke,\n\tfilter: { include: CodeActionKind.QuickFix },\n\ttriggerAction: CodeActionTriggerSource.QuickFixHover,\n};\n\nexport class MarkerHoverParticipant\n\timplements IEditorHoverParticipant<MarkerHover>\n{\n\tpublic readonly hoverOrdinal: number = 1;\n\n\tprivate recentMarkerCodeActionsInfo:\n\t\t| { marker: IMarker; hasCodeActions: boolean }\n\t\t| undefined = undefined;\n\n\tconstructor(\n\t\tprivate readonly _editor: ICodeEditor,\n\t\t@IMarkerDecorationsService\n\t\tprivate readonly _markerDecorationsService: IMarkerDecorationsService,\n\t\t@IOpenerService private readonly _openerService: IOpenerService,\n\t\t@ILanguageFeaturesService\n\t\tprivate readonly _languageFeaturesService: ILanguageFeaturesService,\n\t) {}\n\n\tpublic computeSync(\n\t\tanchor: HoverAnchor,\n\t\tlineDecorations: IModelDecoration[],\n\t): MarkerHover[] {\n\t\tif (\n\t\t\t!this._editor.hasModel() ||\n\t\t\t(anchor.type !== HoverAnchorType.Range &&\n\t\t\t\t!anchor.supportsMarkerHover)\n\t\t) {\n\t\t\treturn [];\n\t\t}\n\n\t\tconst model = this._editor.getModel();\n\t\tconst lineNumber = anchor.range.startLineNumber;\n\t\tconst maxColumn = model.getLineMaxColumn(lineNumber);\n\t\tconst result: MarkerHover[] = [];\n\t\tfor (const d of lineDecorations) {\n\t\t\tconst startColumn =\n\t\t\t\td.range.startLineNumber === lineNumber\n\t\t\t\t\t? d.range.startColumn\n\t\t\t\t\t: 1;\n\t\t\tconst endColumn =\n\t\t\t\td.range.endLineNumber === lineNumber\n\t\t\t\t\t? d.range.endColumn\n\t\t\t\t\t: maxColumn;\n\n\t\t\tconst marker = this._markerDecorationsService.getMarker(\n\t\t\t\tmodel.uri,\n\t\t\t\td,\n\t\t\t);\n\t\t\tif (!marker) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tconst range = new Range(\n\t\t\t\tanchor.range.startLineNumber,\n\t\t\t\tstartColumn,\n\t\t\t\tanchor.range.startLineNumber,\n\t\t\t\tendColumn,\n\t\t\t);\n\t\t\tresult.push(new MarkerHover(this, range, marker));\n\t\t}\n\n\t\treturn result;\n\t}\n\n\tpublic renderHoverParts(\n\t\tcontext: IEditorHoverRenderContext,\n\t\thoverParts: MarkerHover[],\n\t): IRenderedHoverParts<MarkerHover> {\n\t\tif (!hoverParts.length) {\n\t\t\treturn new RenderedHoverParts([]);\n\t\t}\n\t\tconst disposables = new DisposableStore();\n\t\tconst renderedHoverParts: IRenderedHoverPart<MarkerHover>[] = [];\n\t\thoverParts.forEach((hoverPart) => {\n\t\t\tconst renderedMarkerHover = this._renderMarkerHover(hoverPart);\n\t\t\tcontext.fragment.appendChild(renderedMarkerHover.hoverElement);\n\t\t\trenderedHoverParts.push(renderedMarkerHover);\n\t\t});\n\t\tconst markerHoverForStatusbar =\n\t\t\thoverParts.length === 1\n\t\t\t\t? hoverParts[0]\n\t\t\t\t: hoverParts.sort((a, b) =>\n\t\t\t\t\t\tMarkerSeverity.compare(\n\t\t\t\t\t\t\ta.marker.severity,\n\t\t\t\t\t\t\tb.marker.severity,\n\t\t\t\t\t\t),\n\t\t\t\t\t)[0];\n\t\tthis.renderMarkerStatusbar(\n\t\t\tcontext,\n\t\t\tmarkerHoverForStatusbar,\n\t\t\tdisposables,\n\t\t);\n\t\treturn new RenderedHoverParts(renderedHoverParts);\n\t}\n\n\tpublic getAccessibleContent(hoverPart: MarkerHover): string {\n\t\treturn hoverPart.marker.message;\n\t}\n\n\tprivate _renderMarkerHover(\n\t\tmarkerHover: MarkerHover,\n\t): IRenderedHoverPart<MarkerHover> {\n\t\tconst disposables: DisposableStore = new DisposableStore();\n\t\tconst hoverElement = $(\"div.hover-row\");\n\t\tconst markerElement = dom.append(\n\t\t\thoverElement,\n\t\t\t$(\"div.marker.hover-contents\"),\n\t\t);\n\t\tconst { source, message, code, relatedInformation } =\n\t\t\tmarkerHover.marker;\n\n\t\tthis._editor.applyFontInfo(markerElement);\n\t\tconst messageElement = dom.append(markerElement, $(\"span\"));\n\t\tmessageElement.style.whiteSpace = \"pre-wrap\";\n\t\tmessageElement.innerText = message;\n\n\t\tif (source || code) {\n\t\t\t// Code has link\n\t\t\tif (code && typeof code !== \"string\") {\n\t\t\t\tconst sourceAndCodeElement = $(\"span\");\n\t\t\t\tif (source) {\n\t\t\t\t\tconst sourceElement = dom.append(\n\t\t\t\t\t\tsourceAndCodeElement,\n\t\t\t\t\t\t$(\"span\"),\n\t\t\t\t\t);\n\t\t\t\t\tsourceElement.innerText = source;\n\t\t\t\t}\n\t\t\t\tconst codeLink = dom.append(\n\t\t\t\t\tsourceAndCodeElement,\n\t\t\t\t\t$(\"a.code-link\"),\n\t\t\t\t);\n\t\t\t\tcodeLink.setAttribute(\"href\", code.target.toString(true));\n\n\t\t\t\tdisposables.add(\n\t\t\t\t\tdom.addDisposableListener(codeLink, \"click\", (e) => {\n\t\t\t\t\t\tthis._openerService.open(code.target, {\n\t\t\t\t\t\t\tallowCommands: true,\n\t\t\t\t\t\t});\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t}),\n\t\t\t\t);\n\n\t\t\t\tconst codeElement = dom.append(codeLink, $(\"span\"));\n\t\t\t\tcodeElement.innerText = code.value;\n\n\t\t\t\tconst detailsElement = dom.append(\n\t\t\t\t\tmarkerElement,\n\t\t\t\t\tsourceAndCodeElement,\n\t\t\t\t);\n\t\t\t\tdetailsElement.style.opacity = \"0.6\";\n\t\t\t\tdetailsElement.style.paddingLeft = \"6px\";\n\t\t\t} else {\n\t\t\t\tconst detailsElement = dom.append(markerElement, $(\"span\"));\n\t\t\t\tdetailsElement.style.opacity = \"0.6\";\n\t\t\t\tdetailsElement.style.paddingLeft = \"6px\";\n\t\t\t\tdetailsElement.innerText =\n\t\t\t\t\tsource && code\n\t\t\t\t\t\t? `${source}(${code})`\n\t\t\t\t\t\t: source\n\t\t\t\t\t\t\t? source\n\t\t\t\t\t\t\t: `(${code})`;\n\t\t\t}\n\t\t}\n\n\t\tif (isNonEmptyArray(relatedInformation)) {\n\t\t\tfor (const {\n\t\t\t\tmessage,\n\t\t\t\tresource,\n\t\t\t\tstartLineNumber,\n\t\t\t\tstartColumn,\n\t\t\t} of relatedInformation) {\n\t\t\t\tconst relatedInfoContainer = dom.append(\n\t\t\t\t\tmarkerElement,\n\t\t\t\t\t$(\"div\"),\n\t\t\t\t);\n\t\t\t\trelatedInfoContainer.style.marginTop = \"8px\";\n\t\t\t\tconst a = dom.append(relatedInfoContainer, $(\"a\"));\n\t\t\t\ta.innerText = `${basename(resource)}(${startLineNumber}, ${startColumn}): `;\n\t\t\t\ta.style.cursor = \"pointer\";\n\t\t\t\tdisposables.add(\n\t\t\t\t\tdom.addDisposableListener(a, \"click\", (e) => {\n\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tif (this._openerService) {\n\t\t\t\t\t\t\tconst editorOptions: ITextEditorOptions = {\n\t\t\t\t\t\t\t\tselection: { startLineNumber, startColumn },\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tthis._openerService\n\t\t\t\t\t\t\t\t.open(resource, {\n\t\t\t\t\t\t\t\t\tfromUserGesture: true,\n\t\t\t\t\t\t\t\t\teditorOptions,\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.catch(onUnexpectedError);\n\t\t\t\t\t\t}\n\t\t\t\t\t}),\n\t\t\t\t);\n\t\t\t\tconst messageElement = dom.append<HTMLAnchorElement>(\n\t\t\t\t\trelatedInfoContainer,\n\t\t\t\t\t$(\"span\"),\n\t\t\t\t);\n\t\t\t\tmessageElement.innerText = message;\n\t\t\t\tthis._editor.applyFontInfo(messageElement);\n\t\t\t}\n\t\t}\n\n\t\tconst renderedHoverPart: IRenderedHoverPart<MarkerHover> = {\n\t\t\thoverPart: markerHover,\n\t\t\thoverElement,\n\t\t\tdispose: () => disposables.dispose(),\n\t\t};\n\t\treturn renderedHoverPart;\n\t}\n\n\tprivate renderMarkerStatusbar(\n\t\tcontext: IEditorHoverRenderContext,\n\t\tmarkerHover: MarkerHover,\n\t\tdisposables: DisposableStore,\n\t): void {\n\t\tif (\n\t\t\tmarkerHover.marker.severity === MarkerSeverity.Error ||\n\t\t\tmarkerHover.marker.severity === MarkerSeverity.Warning ||\n\t\t\tmarkerHover.marker.severity === MarkerSeverity.Info\n\t\t) {\n\t\t\tconst markerController = MarkerController.get(this._editor);\n\t\t\tif (markerController) {\n\t\t\t\tcontext.statusBar.addAction({\n\t\t\t\t\tlabel: nls.localize(\"view problem\", \"View Problem\"),\n\t\t\t\t\tcommandId: NextMarkerAction.ID,\n\t\t\t\t\trun: () => {\n\t\t\t\t\t\tcontext.hide();\n\t\t\t\t\t\tmarkerController.showAtMarker(markerHover.marker);\n\t\t\t\t\t\tthis._editor.focus();\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tif (!this._editor.getOption(EditorOption.readOnly)) {\n\t\t\tconst quickfixPlaceholderElement = context.statusBar.append(\n\t\t\t\t$(\"div\"),\n\t\t\t);\n\t\t\tif (this.recentMarkerCodeActionsInfo) {\n\t\t\t\tif (\n\t\t\t\t\tIMarkerData.makeKey(\n\t\t\t\t\t\tthis.recentMarkerCodeActionsInfo.marker,\n\t\t\t\t\t) === IMarkerData.makeKey(markerHover.marker)\n\t\t\t\t) {\n\t\t\t\t\tif (!this.recentMarkerCodeActionsInfo.hasCodeActions) {\n\t\t\t\t\t\tquickfixPlaceholderElement.textContent = nls.localize(\n\t\t\t\t\t\t\t\"noQuickFixes\",\n\t\t\t\t\t\t\t\"No quick fixes available\",\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis.recentMarkerCodeActionsInfo = undefined;\n\t\t\t\t}\n\t\t\t}\n\t\t\tconst updatePlaceholderDisposable =\n\t\t\t\tthis.recentMarkerCodeActionsInfo &&\n\t\t\t\t!this.recentMarkerCodeActionsInfo.hasCodeActions\n\t\t\t\t\t? Disposable.None\n\t\t\t\t\t: disposableTimeout(\n\t\t\t\t\t\t\t() =>\n\t\t\t\t\t\t\t\t(quickfixPlaceholderElement.textContent =\n\t\t\t\t\t\t\t\t\tnls.localize(\n\t\t\t\t\t\t\t\t\t\t\"checkingForQuickFixes\",\n\t\t\t\t\t\t\t\t\t\t\"Checking for quick fixes...\",\n\t\t\t\t\t\t\t\t\t)),\n\t\t\t\t\t\t\t200,\n\t\t\t\t\t\t\tdisposables,\n\t\t\t\t\t\t);\n\t\t\tif (!quickfixPlaceholderElement.textContent) {\n\t\t\t\t// Have some content in here to avoid flickering\n\t\t\t\tquickfixPlaceholderElement.textContent =\n\t\t\t\t\tString.fromCharCode(0xa0); // &nbsp;\n\t\t\t}\n\t\t\tconst codeActionsPromise = this.getCodeActions(markerHover.marker);\n\t\t\tdisposables.add(toDisposable(() => codeActionsPromise.cancel()));\n\t\t\tcodeActionsPromise.then((actions) => {\n\t\t\t\tupdatePlaceholderDisposable.dispose();\n\t\t\t\tthis.recentMarkerCodeActionsInfo = {\n\t\t\t\t\tmarker: markerHover.marker,\n\t\t\t\t\thasCodeActions: actions.validActions.length > 0,\n\t\t\t\t};\n\n\t\t\t\tif (!this.recentMarkerCodeActionsInfo.hasCodeActions) {\n\t\t\t\t\tactions.dispose();\n\t\t\t\t\tquickfixPlaceholderElement.textContent = nls.localize(\n\t\t\t\t\t\t\"noQuickFixes\",\n\t\t\t\t\t\t\"No quick fixes available\",\n\t\t\t\t\t);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tquickfixPlaceholderElement.style.display = \"none\";\n\n\t\t\t\tlet showing = false;\n\t\t\t\tdisposables.add(\n\t\t\t\t\ttoDisposable(() => {\n\t\t\t\t\t\tif (!showing) {\n\t\t\t\t\t\t\tactions.dispose();\n\t\t\t\t\t\t}\n\t\t\t\t\t}),\n\t\t\t\t);\n\n\t\t\t\tcontext.statusBar.addAction({\n\t\t\t\t\tlabel: nls.localize(\"quick fixes\", \"Quick Fix...\"),\n\t\t\t\t\tcommandId: quickFixCommandId,\n\t\t\t\t\trun: (target) => {\n\t\t\t\t\t\tshowing = true;\n\t\t\t\t\t\tconst controller = CodeActionController.get(\n\t\t\t\t\t\t\tthis._editor,\n\t\t\t\t\t\t);\n\t\t\t\t\t\tconst elementPosition =\n\t\t\t\t\t\t\tdom.getDomNodePagePosition(target);\n\t\t\t\t\t\t// Hide the hover pre-emptively, otherwise the editor can close the code actions\n\t\t\t\t\t\t// context menu as well when using keyboard navigation\n\t\t\t\t\t\tcontext.hide();\n\t\t\t\t\t\tcontroller?.showCodeActions(\n\t\t\t\t\t\t\tmarkerCodeActionTrigger,\n\t\t\t\t\t\t\tactions,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tx: elementPosition.left,\n\t\t\t\t\t\t\t\ty: elementPosition.top,\n\t\t\t\t\t\t\t\twidth: elementPosition.width,\n\t\t\t\t\t\t\t\theight: elementPosition.height,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t);\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t}, onUnexpectedError);\n\t\t}\n\t}\n\n\tprivate getCodeActions(marker: IMarker): CancelablePromise<CodeActionSet> {\n\t\treturn createCancelablePromise((cancellationToken) => {\n\t\t\treturn getCodeActions(\n\t\t\t\tthis._languageFeaturesService.codeActionProvider,\n\t\t\t\tthis._editor.getModel()!,\n\t\t\t\tnew Range(\n\t\t\t\t\tmarker.startLineNumber,\n\t\t\t\t\tmarker.startColumn,\n\t\t\t\t\tmarker.endLineNumber,\n\t\t\t\t\tmarker.endColumn,\n\t\t\t\t),\n\t\t\t\tmarkerCodeActionTrigger,\n\t\t\t\tProgress.None,\n\t\t\t\tcancellationToken,\n\t\t\t);\n\t\t});\n\t}\n}\n"],
  "mappings": "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",
  "names": ["message", "messageElement"]
}
