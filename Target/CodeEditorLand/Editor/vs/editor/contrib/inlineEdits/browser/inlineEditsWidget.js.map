{
  "version": 3,
  "sources": ["../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/editor/contrib/inlineEdits/browser/inlineEditsWidget.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { h, svgElem } from \"../../../../base/browser/dom.js\";\nimport { DEFAULT_FONT_FAMILY } from \"../../../../base/browser/fonts.js\";\nimport {\n\tDisposable,\n\tDisposableStore,\n\ttype IDisposable,\n} from \"../../../../base/common/lifecycle.js\";\nimport {\n\ttype IObservable,\n\ttype ISettableObservable,\n\tautorun,\n\tconstObservable,\n\tderived,\n\tderivedWithSetter,\n} from \"../../../../base/common/observable.js\";\nimport { MenuWorkbenchToolBar } from \"../../../../platform/actions/browser/toolbar.js\";\nimport { MenuId } from \"../../../../platform/actions/common/actions.js\";\nimport { IInstantiationService } from \"../../../../platform/instantiation/common/instantiation.js\";\nimport type { ICodeEditor } from \"../../../browser/editorBrowser.js\";\nimport { EditorExtensionsRegistry } from \"../../../browser/editorExtensions.js\";\nimport { observableCodeEditor } from \"../../../browser/observableCodeEditor.js\";\nimport { EmbeddedCodeEditorWidget } from \"../../../browser/widget/codeEditor/embeddedCodeEditorWidget.js\";\nimport {\n\tdiffAddDecoration,\n\tdiffAddDecorationEmpty,\n\tdiffDeleteDecoration,\n\tdiffDeleteDecorationEmpty,\n\tdiffLineAddDecorationBackgroundWithIndicator,\n\tdiffLineDeleteDecorationBackgroundWithIndicator,\n\tdiffWholeLineAddDecoration,\n\tdiffWholeLineDeleteDecoration,\n} from \"../../../browser/widget/diffEditor/registrations.contribution.js\";\nimport {\n\tappendRemoveOnDispose,\n\tapplyStyle,\n} from \"../../../browser/widget/diffEditor/utils.js\";\nimport { EditorOption } from \"../../../common/config/editorOptions.js\";\nimport type { LineRange } from \"../../../common/core/lineRange.js\";\nimport type { DetailedLineRangeMapping } from \"../../../common/diff/rangeMapping.js\";\nimport { PLAINTEXT_LANGUAGE_ID } from \"../../../common/languages/modesRegistry.js\";\nimport type { IModelDeltaDecoration } from \"../../../common/model.js\";\nimport { TextModel } from \"../../../common/model/textModel.js\";\nimport { ContextMenuController } from \"../../contextmenu/browser/contextmenu.js\";\nimport { PlaceholderTextContribution } from \"../../placeholderText/browser/placeholderTextContribution.js\";\nimport { SuggestController } from \"../../suggest/browser/suggestController.js\";\nimport \"./inlineEditsWidget.css\";\n\nexport class InlineEdit {\n\tconstructor(\n\t\tpublic readonly range: LineRange,\n\t\tpublic readonly newLines: string[],\n\t\tpublic readonly changes: readonly DetailedLineRangeMapping[],\n\t) {}\n}\n\nexport class InlineEditsWidget extends Disposable {\n\tprivate readonly _editorObs = observableCodeEditor(this._editor);\n\n\tprivate readonly _elements = h(\n\t\t\"div.inline-edits-widget\",\n\t\t{\n\t\t\tstyle: {\n\t\t\t\tposition: \"absolute\",\n\t\t\t\toverflow: \"visible\",\n\t\t\t\ttop: \"0px\",\n\t\t\t\tleft: \"0px\",\n\t\t\t},\n\t\t},\n\t\t[\n\t\t\th(\n\t\t\t\t\"div@editorContainer\",\n\t\t\t\t{\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\tposition: \"absolute\",\n\t\t\t\t\t\ttop: \"0px\",\n\t\t\t\t\t\tleft: \"0px\",\n\t\t\t\t\t\twidth: \"500px\",\n\t\t\t\t\t\theight: \"500px\",\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t[\n\t\t\t\t\th(\"div.toolbar@toolbar\", {\n\t\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\tposition: \"absolute\",\n\t\t\t\t\t\t\ttop: \"-25px\",\n\t\t\t\t\t\t\tleft: \"0px\",\n\t\t\t\t\t\t},\n\t\t\t\t\t}),\n\t\t\t\t\th(\"div.promptEditor@promptEditor\", {\n\t\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\tposition: \"absolute\",\n\t\t\t\t\t\t\ttop: \"-25px\",\n\t\t\t\t\t\t\tleft: \"80px\",\n\t\t\t\t\t\t\twidth: \"300px\",\n\t\t\t\t\t\t\theight: \"22px\",\n\t\t\t\t\t\t},\n\t\t\t\t\t}),\n\t\t\t\t\th(\"div.preview@editor\", {\n\t\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\tposition: \"absolute\",\n\t\t\t\t\t\t\ttop: \"0px\",\n\t\t\t\t\t\t\tleft: \"0px\",\n\t\t\t\t\t\t},\n\t\t\t\t\t}),\n\t\t\t\t],\n\t\t\t),\n\t\t\tsvgElem(\n\t\t\t\t\"svg\",\n\t\t\t\t{ style: { overflow: \"visible\", pointerEvents: \"none\" } },\n\t\t\t\t[\n\t\t\t\t\tsvgElem(\"defs\", [\n\t\t\t\t\t\tsvgElem(\n\t\t\t\t\t\t\t\"linearGradient\",\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: \"Gradient2\",\n\t\t\t\t\t\t\t\tx1: \"0\",\n\t\t\t\t\t\t\t\ty1: \"0\",\n\t\t\t\t\t\t\t\tx2: \"1\",\n\t\t\t\t\t\t\t\ty2: \"0\",\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t/*svgElem('stop', { offset: '0%', class: 'gradient-start', }),\n\t\t\t\t\tsvgElem('stop', { offset: '0%', class: 'gradient-start', }),\n\t\t\t\t\tsvgElem('stop', { offset: '20%', class: 'gradient-stop', }),*/\n\t\t\t\t\t\t\t\tsvgElem(\"stop\", {\n\t\t\t\t\t\t\t\t\toffset: \"0%\",\n\t\t\t\t\t\t\t\t\tclass: \"gradient-stop\",\n\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\tsvgElem(\"stop\", {\n\t\t\t\t\t\t\t\t\toffset: \"100%\",\n\t\t\t\t\t\t\t\t\tclass: \"gradient-stop\",\n\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t),\n\t\t\t\t\t]),\n\t\t\t\t\tsvgElem(\"path@path\", {\n\t\t\t\t\t\td: \"\",\n\t\t\t\t\t\tfill: \"url(#Gradient2)\",\n\t\t\t\t\t}),\n\t\t\t\t],\n\t\t\t),\n\t\t],\n\t);\n\n\tprotected readonly _toolbar = this._register(\n\t\tthis._instantiationService.createInstance(\n\t\t\tMenuWorkbenchToolBar,\n\t\t\tthis._elements.toolbar,\n\t\t\tMenuId.InlineEditsActions,\n\t\t\t{\n\t\t\t\ttoolbarOptions: {\n\t\t\t\t\tprimaryGroup: (g) => g.startsWith(\"primary\"),\n\t\t\t\t},\n\t\t\t},\n\t\t),\n\t);\n\tprivate readonly _previewTextModel = this._register(\n\t\tthis._instantiationService.createInstance(\n\t\t\tTextModel,\n\t\t\t\"\",\n\t\t\tPLAINTEXT_LANGUAGE_ID,\n\t\t\tTextModel.DEFAULT_CREATION_OPTIONS,\n\t\t\tnull,\n\t\t),\n\t);\n\n\tprivate readonly _setText = derived((reader) => {\n\t\tconst edit = this._edit.read(reader);\n\t\tif (!edit) {\n\t\t\treturn;\n\t\t}\n\t\tthis._previewTextModel.setValue(edit.newLines.join(\"\\n\"));\n\t}).recomputeInitiallyAndOnChange(this._store);\n\n\tprivate readonly _promptTextModel = this._register(\n\t\tthis._instantiationService.createInstance(\n\t\t\tTextModel,\n\t\t\t\"\",\n\t\t\tPLAINTEXT_LANGUAGE_ID,\n\t\t\tTextModel.DEFAULT_CREATION_OPTIONS,\n\t\t\tnull,\n\t\t),\n\t);\n\tprivate readonly _promptEditor = this._register(\n\t\tthis._instantiationService.createInstance(\n\t\t\tEmbeddedCodeEditorWidget,\n\t\t\tthis._elements.promptEditor,\n\t\t\t{\n\t\t\t\tglyphMargin: false,\n\t\t\t\tlineNumbers: \"off\",\n\t\t\t\tminimap: { enabled: false },\n\t\t\t\tguides: {\n\t\t\t\t\tindentation: false,\n\t\t\t\t\tbracketPairs: false,\n\t\t\t\t\tbracketPairsHorizontal: false,\n\t\t\t\t\thighlightActiveIndentation: false,\n\t\t\t\t},\n\t\t\t\tfolding: false,\n\t\t\t\tselectOnLineNumbers: false,\n\t\t\t\tselectionHighlight: false,\n\t\t\t\tcolumnSelection: false,\n\t\t\t\toverviewRulerBorder: false,\n\t\t\t\toverviewRulerLanes: 0,\n\t\t\t\tlineDecorationsWidth: 0,\n\t\t\t\tlineNumbersMinChars: 0,\n\t\t\t\tplaceholder: \"Describe the change you want...\",\n\t\t\t\tfontFamily: DEFAULT_FONT_FAMILY,\n\t\t\t},\n\t\t\t{\n\t\t\t\tcontributions:\n\t\t\t\t\tEditorExtensionsRegistry.getSomeEditorContributions([\n\t\t\t\t\t\tSuggestController.ID,\n\t\t\t\t\t\tPlaceholderTextContribution.ID,\n\t\t\t\t\t\tContextMenuController.ID,\n\t\t\t\t\t]),\n\t\t\t\tisSimpleWidget: true,\n\t\t\t},\n\t\t\tthis._editor,\n\t\t),\n\t);\n\n\tprivate readonly _previewEditor = this._register(\n\t\tthis._instantiationService.createInstance(\n\t\t\tEmbeddedCodeEditorWidget,\n\t\t\tthis._elements.editor,\n\t\t\t{\n\t\t\t\tglyphMargin: false,\n\t\t\t\tlineNumbers: \"off\",\n\t\t\t\tminimap: { enabled: false },\n\t\t\t\tguides: {\n\t\t\t\t\tindentation: false,\n\t\t\t\t\tbracketPairs: false,\n\t\t\t\t\tbracketPairsHorizontal: false,\n\t\t\t\t\thighlightActiveIndentation: false,\n\t\t\t\t},\n\t\t\t\tfolding: false,\n\t\t\t\tselectOnLineNumbers: false,\n\t\t\t\tselectionHighlight: false,\n\t\t\t\tcolumnSelection: false,\n\t\t\t\toverviewRulerBorder: false,\n\t\t\t\toverviewRulerLanes: 0,\n\t\t\t\tlineDecorationsWidth: 0,\n\t\t\t\tlineNumbersMinChars: 0,\n\t\t\t},\n\t\t\t{ contributions: [] },\n\t\t\tthis._editor,\n\t\t),\n\t);\n\n\tprivate readonly _previewEditorObs = observableCodeEditor(\n\t\tthis._previewEditor,\n\t);\n\n\tprivate readonly _decorations = derived(this, (reader) => {\n\t\tthis._setText.read(reader);\n\t\tconst diff = this._edit.read(reader)?.changes;\n\t\tif (!diff) {\n\t\t\treturn [];\n\t\t}\n\n\t\tconst originalDecorations: IModelDeltaDecoration[] = [];\n\t\tconst modifiedDecorations: IModelDeltaDecoration[] = [];\n\n\t\tif (\n\t\t\tdiff.length === 1 &&\n\t\t\tdiff[0].innerChanges![0].modifiedRange.equalsRange(\n\t\t\t\tthis._previewTextModel.getFullModelRange(),\n\t\t\t)\n\t\t) {\n\t\t\treturn [];\n\t\t}\n\n\t\tfor (const m of diff) {\n\t\t\tif (!m.original.isEmpty) {\n\t\t\t\toriginalDecorations.push({\n\t\t\t\t\trange: m.original.toInclusiveRange()!,\n\t\t\t\t\toptions: diffLineDeleteDecorationBackgroundWithIndicator,\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (!m.modified.isEmpty) {\n\t\t\t\tmodifiedDecorations.push({\n\t\t\t\t\trange: m.modified.toInclusiveRange()!,\n\t\t\t\t\toptions: diffLineAddDecorationBackgroundWithIndicator,\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (m.modified.isEmpty || m.original.isEmpty) {\n\t\t\t\tif (!m.original.isEmpty) {\n\t\t\t\t\toriginalDecorations.push({\n\t\t\t\t\t\trange: m.original.toInclusiveRange()!,\n\t\t\t\t\t\toptions: diffWholeLineDeleteDecoration,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tif (!m.modified.isEmpty) {\n\t\t\t\t\tmodifiedDecorations.push({\n\t\t\t\t\t\trange: m.modified.toInclusiveRange()!,\n\t\t\t\t\t\toptions: diffWholeLineAddDecoration,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor (const i of m.innerChanges || []) {\n\t\t\t\t\t// Don't show empty markers outside the line range\n\t\t\t\t\tif (m.original.contains(i.originalRange.startLineNumber)) {\n\t\t\t\t\t\toriginalDecorations.push({\n\t\t\t\t\t\t\trange: i.originalRange,\n\t\t\t\t\t\t\toptions: i.originalRange.isEmpty()\n\t\t\t\t\t\t\t\t? diffDeleteDecorationEmpty\n\t\t\t\t\t\t\t\t: diffDeleteDecoration,\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tif (m.modified.contains(i.modifiedRange.startLineNumber)) {\n\t\t\t\t\t\tmodifiedDecorations.push({\n\t\t\t\t\t\t\trange: i.modifiedRange,\n\t\t\t\t\t\t\toptions: i.modifiedRange.isEmpty()\n\t\t\t\t\t\t\t\t? diffAddDecorationEmpty\n\t\t\t\t\t\t\t\t: diffAddDecoration,\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn modifiedDecorations;\n\t});\n\n\tprivate readonly _layout1 = derived(this, (reader) => {\n\t\tconst model = this._editor.getModel()!;\n\t\tconst inlineEdit = this._edit.read(reader);\n\t\tif (!inlineEdit) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst range = inlineEdit.range;\n\n\t\tlet maxLeft = 0;\n\t\tfor (\n\t\t\tlet i = range.startLineNumber;\n\t\t\ti < range.endLineNumberExclusive;\n\t\t\ti++\n\t\t) {\n\t\t\tconst column = model.getLineMaxColumn(i);\n\t\t\tconst left = this._editor.getOffsetForColumn(i, column);\n\t\t\tmaxLeft = Math.max(maxLeft, left);\n\t\t}\n\n\t\tconst layoutInfo = this._editor.getLayoutInfo();\n\t\tconst contentLeft = layoutInfo.contentLeft;\n\n\t\treturn { left: contentLeft + maxLeft };\n\t});\n\n\tprivate readonly _layout = derived(this, (reader) => {\n\t\tconst inlineEdit = this._edit.read(reader);\n\t\tif (!inlineEdit) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst range = inlineEdit.range;\n\n\t\tconst scrollLeft = this._editorObs.scrollLeft.read(reader);\n\n\t\tconst left = this._layout1.read(reader)!.left + 20 - scrollLeft;\n\n\t\tconst selectionTop =\n\t\t\tthis._editor.getTopForLineNumber(range.startLineNumber) -\n\t\t\tthis._editorObs.scrollTop.read(reader);\n\t\tconst selectionBottom =\n\t\t\tthis._editor.getTopForLineNumber(range.endLineNumberExclusive) -\n\t\t\tthis._editorObs.scrollTop.read(reader);\n\n\t\tconst topCode = new Point(left, selectionTop);\n\t\tconst bottomCode = new Point(left, selectionBottom);\n\t\tconst codeHeight = selectionBottom - selectionTop;\n\n\t\tconst codeEditDist = 50;\n\t\tconst editHeight =\n\t\t\tthis._editor.getOption(EditorOption.lineHeight) *\n\t\t\tinlineEdit.newLines.length;\n\t\tconst difference = codeHeight - editHeight;\n\t\tconst topEdit = new Point(\n\t\t\tleft + codeEditDist,\n\t\t\tselectionTop + difference / 2,\n\t\t);\n\t\tconst bottomEdit = new Point(\n\t\t\tleft + codeEditDist,\n\t\t\tselectionBottom - difference / 2,\n\t\t);\n\n\t\treturn {\n\t\t\ttopCode,\n\t\t\tbottomCode,\n\t\t\tcodeHeight,\n\t\t\ttopEdit,\n\t\t\tbottomEdit,\n\t\t\teditHeight,\n\t\t};\n\t});\n\n\tconstructor(\n\t\tprivate readonly _editor: ICodeEditor,\n\t\tprivate readonly _edit: IObservable<InlineEdit | undefined>,\n\t\tprivate readonly _userPrompt: ISettableObservable<string | undefined>,\n\t\t@IInstantiationService private readonly _instantiationService: IInstantiationService,\n\t) {\n\t\tsuper();\n\t\tconst visible = derived(this, reader => this._edit.read(reader) !== undefined || this._userPrompt.read(reader) !== undefined);\n\t\tthis._register(applyStyle(this._elements.root, {\n\t\t\tdisplay: derived(this, reader => visible.read(reader) ? 'block' : 'none')\n\t\t}));\n\n\t\tthis._register(appendRemoveOnDispose(this._editor.getDomNode()!, this._elements.root));\n\n\t\tthis._register(observableCodeEditor(_editor).createOverlayWidget({\n\t\t\tdomNode: this._elements.root,\n\t\t\tposition: constObservable(null),\n\t\t\tallowEditorOverflow: false,\n\t\t\tminContentWidthInPx: derived(reader => {\n\t\t\t\tconst x = this._layout1.read(reader)?.left;\n\t\t\t\tif (x === undefined) { return 0; }\n\t\t\t\tconst width = this._previewEditorObs.contentWidth.read(reader);\n\t\t\t\treturn x + width;\n\t\t\t}),\n\t\t}));\n\n\t\tthis._previewEditor.setModel(this._previewTextModel);\n\n\t\tthis._register(this._previewEditorObs.setDecorations(this._decorations));\n\n\t\tthis._register(autorun(reader => {\n\t\t\tconst layoutInfo = this._layout.read(reader);\n\t\t\tif (!layoutInfo) { return; }\n\n\t\t\tconst { topCode, bottomCode, topEdit, bottomEdit, editHeight } = layoutInfo;\n\n\t\t\tconst straightWidthCode = 10;\n\t\t\tconst straightWidthEdit = 0;\n\t\t\tconst bezierDist = 40;\n\n\t\t\tconst path = new PathBuilder()\n\t\t\t\t.moveTo(topCode)\n\t\t\t\t.lineTo(topCode.deltaX(straightWidthCode))\n\t\t\t\t.curveTo(\n\t\t\t\t\ttopCode.deltaX(straightWidthCode + bezierDist),\n\t\t\t\t\ttopEdit.deltaX(-bezierDist - straightWidthEdit),\n\t\t\t\t\ttopEdit.deltaX(-straightWidthEdit),\n\t\t\t\t)\n\t\t\t\t.lineTo(topEdit)\n\t\t\t\t.lineTo(bottomEdit)\n\t\t\t\t.lineTo(bottomEdit.deltaX(-straightWidthEdit))\n\t\t\t\t.curveTo(\n\t\t\t\t\tbottomEdit.deltaX(-bezierDist - straightWidthEdit),\n\t\t\t\t\tbottomCode.deltaX(straightWidthCode + bezierDist),\n\t\t\t\t\tbottomCode.deltaX(straightWidthCode),\n\t\t\t\t)\n\t\t\t\t.lineTo(bottomCode)\n\t\t\t\t.build();\n\n\n\t\t\tthis._elements.path.setAttribute('d', path);\n\n\t\t\tthis._elements.editorContainer.style.top = `${topEdit.y}px`;\n\t\t\tthis._elements.editorContainer.style.left = `${topEdit.x}px`;\n\t\t\tthis._elements.editorContainer.style.height = `${editHeight}px`;\n\n\t\t\tconst width = this._previewEditorObs.contentWidth.read(reader);\n\t\t\tthis._previewEditor.layout({ height: editHeight, width });\n\t\t}));\n\n\t\tthis._promptEditor.setModel(this._promptTextModel);\n\t\tthis._promptEditor.layout();\n\t\tthis._register(createTwoWaySync(mapSettableObservable(this._userPrompt, v => v ?? '', v => v), observableCodeEditor(this._promptEditor).value));\n\n\t\tthis._register(autorun(reader => {\n\t\t\tconst isFocused = observableCodeEditor(this._promptEditor).isFocused.read(reader);\n\t\t\tthis._elements.root.classList.toggle('focused', isFocused);\n\t\t}));\n\t}\n}\n\nfunction mapSettableObservable<T, T1>(\n\tobs: ISettableObservable<T>,\n\tfn1: (value: T) => T1,\n\tfn2: (value: T1) => T,\n): ISettableObservable<T1> {\n\treturn derivedWithSetter(\n\t\tundefined,\n\t\t(reader) => fn1(obs.read(reader)),\n\t\t(value, tx) => obs.set(fn2(value), tx),\n\t);\n}\n\nclass Point {\n\tconstructor(\n\t\tpublic readonly x: number,\n\t\tpublic readonly y: number,\n\t) {}\n\n\tpublic add(other: Point): Point {\n\t\treturn new Point(this.x + other.x, this.y + other.y);\n\t}\n\n\tpublic deltaX(delta: number): Point {\n\t\treturn new Point(this.x + delta, this.y);\n\t}\n}\n\nclass PathBuilder {\n\tprivate _data = \"\";\n\n\tpublic moveTo(point: Point): this {\n\t\tthis._data += `M ${point.x} ${point.y} `;\n\t\treturn this;\n\t}\n\n\tpublic lineTo(point: Point): this {\n\t\tthis._data += `L ${point.x} ${point.y} `;\n\t\treturn this;\n\t}\n\n\tpublic curveTo(cp1: Point, cp2: Point, to: Point): this {\n\t\tthis._data += `C ${cp1.x} ${cp1.y} ${cp2.x} ${cp2.y} ${to.x} ${to.y} `;\n\t\treturn this;\n\t}\n\n\tpublic build(): string {\n\t\treturn this._data;\n\t}\n}\n\nfunction createTwoWaySync<T>(\n\tmain: ISettableObservable<T>,\n\ttarget: ISettableObservable<T>,\n): IDisposable {\n\tconst store = new DisposableStore();\n\tstore.add(\n\t\tautorun((reader) => {\n\t\t\tconst value = main.read(reader);\n\t\t\ttarget.set(value, undefined);\n\t\t}),\n\t);\n\tstore.add(\n\t\tautorun((reader) => {\n\t\t\tconst value = target.read(reader);\n\t\t\tmain.set(value, undefined);\n\t\t}),\n\t);\n\treturn store;\n}\n"],
  "mappings": "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",
  "names": []
}
