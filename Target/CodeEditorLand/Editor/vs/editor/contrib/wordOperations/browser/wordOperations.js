import{KeyCode as p,KeyMod as n}from"../../../../base/common/keyCodes.js";import"../../../browser/editorBrowser.js";import{EditorAction as H,EditorCommand as M,registerEditorAction as F,registerEditorCommand as r}from"../../../browser/editorExtensions.js";import{ReplaceCommand as L}from"../../../common/commands/replaceCommand.js";import{EditorOption as u}from"../../../common/config/editorOptions.js";import{CursorState as B}from"../../../common/cursorCommon.js";import{CursorChangeReason as K}from"../../../common/cursorEvents.js";import{WordNavigationType as i,WordOperations as h}from"../../../common/cursor/cursorWordOperations.js";import{getMapForWordSeparators as T}from"../../../common/core/wordCharacterClassifier.js";import{Position as R}from"../../../common/core/position.js";import{Range as I}from"../../../common/core/range.js";import{Selection as _}from"../../../common/core/selection.js";import{ScrollType as U}from"../../../common/editorCommon.js";import{EditorContextKeys as a}from"../../../common/editorContextKeys.js";import"../../../common/model.js";import{ILanguageConfigurationService as Q}from"../../../common/languages/languageConfigurationRegistry.js";import*as V from"../../../../nls.js";import{CONTEXT_ACCESSIBILITY_MODE_ENABLED as x}from"../../../../platform/accessibility/common/accessibility.js";import{ContextKeyExpr as g}from"../../../../platform/contextkey/common/contextkey.js";import{IsWindowsContext as v}from"../../../../platform/contextkey/common/contextkeys.js";import{KeybindingWeight as W}from"../../../../platform/keybinding/common/keybindingsRegistry.js";class O extends M{_inSelectionMode;_wordNavigationType;constructor(o){super(o),this._inSelectionMode=o.inSelectionMode,this._wordNavigationType=o.wordNavigationType}runEditorCommand(o,e,s){if(!e.hasModel())return;const d=T(e.getOption(u.wordSeparators),e.getOption(u.wordSegmenterLocales)),c=e.getModel(),w=e.getSelections(),f=w.length>1,m=w.map(l=>{const y=new R(l.positionLineNumber,l.positionColumn),E=this._move(d,c,y,this._wordNavigationType,f);return this._moveTo(l,E,this._inSelectionMode)});if(c.pushStackElement(),e._getViewModel().setCursorStates("moveWordCommand",K.Explicit,m.map(l=>B.fromModelSelection(l))),m.length===1){const l=new R(m[0].positionLineNumber,m[0].positionColumn);e.revealPosition(l,U.Smooth)}}_moveTo(o,e,s){return s?new _(o.selectionStartLineNumber,o.selectionStartColumn,e.lineNumber,e.column):new _(e.lineNumber,e.column,e.lineNumber,e.column)}}class C extends O{_move(o,e,s,d,c){return h.moveWordLeft(o,e,s,d,c)}}class S extends O{_move(o,e,s,d,c){return h.moveWordRight(o,e,s,d)}}class z extends C{constructor(){super({inSelectionMode:!1,wordNavigationType:i.WordStart,id:"cursorWordStartLeft",precondition:void 0})}}class X extends C{constructor(){super({inSelectionMode:!1,wordNavigationType:i.WordEnd,id:"cursorWordEndLeft",precondition:void 0})}}class Y extends C{constructor(){super({inSelectionMode:!1,wordNavigationType:i.WordStartFast,id:"cursorWordLeft",precondition:void 0,kbOpts:{kbExpr:g.and(a.textInputFocus,g.and(x,v)?.negate()),primary:n.CtrlCmd|p.LeftArrow,mac:{primary:n.Alt|p.LeftArrow},weight:W.EditorContrib}})}}class j extends C{constructor(){super({inSelectionMode:!0,wordNavigationType:i.WordStart,id:"cursorWordStartLeftSelect",precondition:void 0})}}class q extends C{constructor(){super({inSelectionMode:!0,wordNavigationType:i.WordEnd,id:"cursorWordEndLeftSelect",precondition:void 0})}}class G extends C{constructor(){super({inSelectionMode:!0,wordNavigationType:i.WordStartFast,id:"cursorWordLeftSelect",precondition:void 0,kbOpts:{kbExpr:g.and(a.textInputFocus,g.and(x,v)?.negate()),primary:n.CtrlCmd|n.Shift|p.LeftArrow,mac:{primary:n.Alt|n.Shift|p.LeftArrow},weight:W.EditorContrib}})}}class J extends S{constructor(){super({inSelectionMode:!1,wordNavigationType:i.WordStart,id:"cursorWordStartRight",precondition:void 0})}}class Z extends S{constructor(){super({inSelectionMode:!1,wordNavigationType:i.WordEnd,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:g.and(a.textInputFocus,g.and(x,v)?.negate()),primary:n.CtrlCmd|p.RightArrow,mac:{primary:n.Alt|p.RightArrow},weight:W.EditorContrib}})}}class $ extends S{constructor(){super({inSelectionMode:!1,wordNavigationType:i.WordEnd,id:"cursorWordRight",precondition:void 0})}}class ee extends S{constructor(){super({inSelectionMode:!0,wordNavigationType:i.WordStart,id:"cursorWordStartRightSelect",precondition:void 0})}}class te extends S{constructor(){super({inSelectionMode:!0,wordNavigationType:i.WordEnd,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:g.and(a.textInputFocus,g.and(x,v)?.negate()),primary:n.CtrlCmd|n.Shift|p.RightArrow,mac:{primary:n.Alt|n.Shift|p.RightArrow},weight:W.EditorContrib}})}}class oe extends S{constructor(){super({inSelectionMode:!0,wordNavigationType:i.WordEnd,id:"cursorWordRightSelect",precondition:void 0})}}class A extends M{_whitespaceHeuristics;_wordNavigationType;constructor(o){super(o),this._whitespaceHeuristics=o.whitespaceHeuristics,this._wordNavigationType=o.wordNavigationType}runEditorCommand(o,e,s){const d=o.get(Q);if(!e.hasModel())return;const c=T(e.getOption(u.wordSeparators),e.getOption(u.wordSegmenterLocales)),w=e.getModel(),f=e.getSelections(),m=e.getOption(u.autoClosingBrackets),l=e.getOption(u.autoClosingQuotes),y=d.getLanguageConfiguration(w.getLanguageId()).getAutoClosingPairs(),E=e._getViewModel(),D=f.map(k=>{const P=this._delete({wordSeparators:c,model:w,selection:k,whitespaceHeuristics:this._whitespaceHeuristics,autoClosingDelete:e.getOption(u.autoClosingDelete),autoClosingBrackets:m,autoClosingQuotes:l,autoClosingPairs:y,autoClosedCharacters:E.getCursorAutoClosedCharacters()},this._wordNavigationType);return new L(P,"")});e.pushUndoStop(),e.executeCommands(this.id,D),e.pushUndoStop()}}class N extends A{_delete(o,e){const s=h.deleteWordLeft(o,e);return s||new I(1,1,1,1)}}class b extends A{_delete(o,e){const s=h.deleteWordRight(o,e);if(s)return s;const d=o.model.getLineCount(),c=o.model.getLineMaxColumn(d);return new I(d,c,d,c)}}class re extends N{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:i.WordStart,id:"deleteWordStartLeft",precondition:a.writable})}}class ie extends N{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:i.WordEnd,id:"deleteWordEndLeft",precondition:a.writable})}}class ne extends N{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:i.WordStart,id:"deleteWordLeft",precondition:a.writable,kbOpts:{kbExpr:a.textInputFocus,primary:n.CtrlCmd|p.Backspace,mac:{primary:n.Alt|p.Backspace},weight:W.EditorContrib}})}}class se extends b{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:i.WordStart,id:"deleteWordStartRight",precondition:a.writable})}}class de extends b{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:i.WordEnd,id:"deleteWordEndRight",precondition:a.writable})}}class ae extends b{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:i.WordEnd,id:"deleteWordRight",precondition:a.writable,kbOpts:{kbExpr:a.textInputFocus,primary:n.CtrlCmd|p.Delete,mac:{primary:n.Alt|p.Delete},weight:W.EditorContrib}})}}class ce extends H{constructor(){super({id:"deleteInsideWord",precondition:a.writable,label:V.localize("deleteInsideWord","Delete Word"),alias:"Delete Word"})}run(o,e,s){if(!e.hasModel())return;const d=T(e.getOption(u.wordSeparators),e.getOption(u.wordSegmenterLocales)),c=e.getModel(),f=e.getSelections().map(m=>{const l=h.deleteInsideWord(d,c,m);return new L(l,"")});e.pushUndoStop(),e.executeCommands(this.id,f),e.pushUndoStop()}}r(new z),r(new X),r(new Y),r(new j),r(new q),r(new G),r(new J),r(new Z),r(new $),r(new ee),r(new te),r(new oe),r(new re),r(new ie),r(new ne),r(new se),r(new de),r(new ae),F(ce);export{X as CursorWordEndLeft,q as CursorWordEndLeftSelect,Z as CursorWordEndRight,te as CursorWordEndRightSelect,Y as CursorWordLeft,G as CursorWordLeftSelect,$ as CursorWordRight,oe as CursorWordRightSelect,z as CursorWordStartLeft,j as CursorWordStartLeftSelect,J as CursorWordStartRight,ee as CursorWordStartRightSelect,ce as DeleteInsideWord,A as DeleteWordCommand,ie as DeleteWordEndLeft,de as DeleteWordEndRight,ne as DeleteWordLeft,N as DeleteWordLeftCommand,ae as DeleteWordRight,b as DeleteWordRightCommand,re as DeleteWordStartLeft,se as DeleteWordStartRight,O as MoveWordCommand,C as WordLeftCommand,S as WordRightCommand};
