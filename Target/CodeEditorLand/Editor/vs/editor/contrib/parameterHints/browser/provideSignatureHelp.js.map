{
  "version": 3,
  "sources": ["../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/editor/contrib/parameterHints/browser/provideSignatureHelp.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { CancellationToken } from \"../../../../base/common/cancellation.js\";\nimport { onUnexpectedExternalError } from \"../../../../base/common/errors.js\";\nimport { assertType } from \"../../../../base/common/types.js\";\nimport { URI } from \"../../../../base/common/uri.js\";\nimport { CommandsRegistry } from \"../../../../platform/commands/common/commands.js\";\nimport { RawContextKey } from \"../../../../platform/contextkey/common/contextkey.js\";\nimport { type IPosition, Position } from \"../../../common/core/position.js\";\nimport type { LanguageFeatureRegistry } from \"../../../common/languageFeatureRegistry.js\";\nimport * as languages from \"../../../common/languages.js\";\nimport type { ITextModel } from \"../../../common/model.js\";\nimport { ILanguageFeaturesService } from \"../../../common/services/languageFeatures.js\";\nimport { ITextModelService } from \"../../../common/services/resolverService.js\";\n\nexport const Context = {\n\tVisible: new RawContextKey<boolean>(\"parameterHintsVisible\", false),\n\tMultipleSignatures: new RawContextKey<boolean>(\n\t\t\"parameterHintsMultipleSignatures\",\n\t\tfalse,\n\t),\n};\n\nexport async function provideSignatureHelp(\n\tregistry: LanguageFeatureRegistry<languages.SignatureHelpProvider>,\n\tmodel: ITextModel,\n\tposition: Position,\n\tcontext: languages.SignatureHelpContext,\n\ttoken: CancellationToken,\n): Promise<languages.SignatureHelpResult | undefined> {\n\tconst supports = registry.ordered(model);\n\n\tfor (const support of supports) {\n\t\ttry {\n\t\t\tconst result = await support.provideSignatureHelp(\n\t\t\t\tmodel,\n\t\t\t\tposition,\n\t\t\t\ttoken,\n\t\t\t\tcontext,\n\t\t\t);\n\t\t\tif (result) {\n\t\t\t\treturn result;\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tonUnexpectedExternalError(err);\n\t\t}\n\t}\n\treturn undefined;\n}\n\nCommandsRegistry.registerCommand(\n\t\"_executeSignatureHelpProvider\",\n\tasync (accessor, ...args: [URI, IPosition, string?]) => {\n\t\tconst [uri, position, triggerCharacter] = args;\n\t\tassertType(URI.isUri(uri));\n\t\tassertType(Position.isIPosition(position));\n\t\tassertType(typeof triggerCharacter === \"string\" || !triggerCharacter);\n\n\t\tconst languageFeaturesService = accessor.get(ILanguageFeaturesService);\n\n\t\tconst ref = await accessor\n\t\t\t.get(ITextModelService)\n\t\t\t.createModelReference(uri);\n\t\ttry {\n\t\t\tconst result = await provideSignatureHelp(\n\t\t\t\tlanguageFeaturesService.signatureHelpProvider,\n\t\t\t\tref.object.textEditorModel,\n\t\t\t\tPosition.lift(position),\n\t\t\t\t{\n\t\t\t\t\ttriggerKind: languages.SignatureHelpTriggerKind.Invoke,\n\t\t\t\t\tisRetrigger: false,\n\t\t\t\t\ttriggerCharacter,\n\t\t\t\t},\n\t\t\t\tCancellationToken.None,\n\t\t\t);\n\n\t\t\tif (!result) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\n\t\t\tsetTimeout(() => result.dispose(), 0);\n\t\t\treturn result.value;\n\t\t} finally {\n\t\t\tref.dispose();\n\t\t}\n\t},\n);\n"],
  "mappings": ";;AAKA,SAAS,yBAAyB;AAClC,SAAS,iCAAiC;AAC1C,SAAS,kBAAkB;AAC3B,SAAS,WAAW;AACpB,SAAS,wBAAwB;AACjC,SAAS,qBAAqB;AAC9B,SAAyB,gBAAgB;AAEzC,YAAY,eAAe;AAE3B,SAAS,gCAAgC;AACzC,SAAS,yBAAyB;AAE3B,MAAM,UAAU;AAAA,EACtB,SAAS,IAAI,cAAuB,yBAAyB,KAAK;AAAA,EAClE,oBAAoB,IAAI;AAAA,IACvB;AAAA,IACA;AAAA,EACD;AACD;AAEA,eAAsB,qBACrB,UACA,OACA,UACA,SACA,OACqD;AACrD,QAAM,WAAW,SAAS,QAAQ,KAAK;AAEvC,aAAW,WAAW,UAAU;AAC/B,QAAI;AACH,YAAM,SAAS,MAAM,QAAQ;AAAA,QAC5B;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACD;AACA,UAAI,QAAQ;AACX,eAAO;AAAA,MACR;AAAA,IACD,SAAS,KAAK;AACb,gCAA0B,GAAG;AAAA,IAC9B;AAAA,EACD;AACA,SAAO;AACR;AAzBsB;AA2BtB,iBAAiB;AAAA,EAChB;AAAA,EACA,OAAO,aAAa,SAAoC;AACvD,UAAM,CAAC,KAAK,UAAU,gBAAgB,IAAI;AAC1C,eAAW,IAAI,MAAM,GAAG,CAAC;AACzB,eAAW,SAAS,YAAY,QAAQ,CAAC;AACzC,eAAW,OAAO,qBAAqB,YAAY,CAAC,gBAAgB;AAEpE,UAAM,0BAA0B,SAAS,IAAI,wBAAwB;AAErE,UAAM,MAAM,MAAM,SAChB,IAAI,iBAAiB,EACrB,qBAAqB,GAAG;AAC1B,QAAI;AACH,YAAM,SAAS,MAAM;AAAA,QACpB,wBAAwB;AAAA,QACxB,IAAI,OAAO;AAAA,QACX,SAAS,KAAK,QAAQ;AAAA,QACtB;AAAA,UACC,aAAa,UAAU,yBAAyB;AAAA,UAChD,aAAa;AAAA,UACb;AAAA,QACD;AAAA,QACA,kBAAkB;AAAA,MACnB;AAEA,UAAI,CAAC,QAAQ;AACZ,eAAO;AAAA,MACR;AAEA,iBAAW,MAAM,OAAO,QAAQ,GAAG,CAAC;AACpC,aAAO,OAAO;AAAA,IACf,UAAE;AACD,UAAI,QAAQ;AAAA,IACb;AAAA,EACD;AACD;",
  "names": []
}
