{
  "version": 3,
  "sources": ["../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/editor/contrib/rename/browser/renameWidget.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as dom from '../../../../base/browser/dom.js';\nimport { StandardKeyboardEvent } from '../../../../base/browser/keyboardEvent.js';\nimport * as aria from '../../../../base/browser/ui/aria/aria.js';\nimport { IManagedHover } from '../../../../base/browser/ui/hover/hover.js';\nimport { getBaseLayerHoverDelegate } from '../../../../base/browser/ui/hover/hoverDelegate2.js';\nimport { getDefaultHoverDelegate } from '../../../../base/browser/ui/hover/hoverDelegateFactory.js';\nimport { renderIcon } from '../../../../base/browser/ui/iconLabel/iconLabels.js';\nimport { IListRenderer, IListVirtualDelegate } from '../../../../base/browser/ui/list/list.js';\nimport { List } from '../../../../base/browser/ui/list/listWidget.js';\nimport * as arrays from '../../../../base/common/arrays.js';\nimport { DeferredPromise, raceCancellation } from '../../../../base/common/async.js';\nimport { CancellationToken, CancellationTokenSource } from '../../../../base/common/cancellation.js';\nimport { Codicon } from '../../../../base/common/codicons.js';\nimport { Emitter } from '../../../../base/common/event.js';\nimport { KeyCode } from '../../../../base/common/keyCodes.js';\nimport { DisposableStore, IDisposable, toDisposable } from '../../../../base/common/lifecycle.js';\nimport { StopWatch } from '../../../../base/common/stopwatch.js';\nimport { assertType, isDefined } from '../../../../base/common/types.js';\nimport './renameWidget.css';\nimport * as domFontInfo from '../../../browser/config/domFontInfo.js';\nimport { ContentWidgetPositionPreference, ICodeEditor, IContentWidget, IContentWidgetPosition } from '../../../browser/editorBrowser.js';\nimport { EditorOption } from '../../../common/config/editorOptions.js';\nimport { FontInfo } from '../../../common/config/fontInfo.js';\nimport { IDimension } from '../../../common/core/dimension.js';\nimport { Position } from '../../../common/core/position.js';\nimport { IRange, Range } from '../../../common/core/range.js';\nimport { ScrollType } from '../../../common/editorCommon.js';\nimport { NewSymbolName, NewSymbolNameTag, NewSymbolNameTriggerKind, ProviderResult } from '../../../common/languages.js';\nimport * as nls from '../../../../nls.js';\nimport { IContextKey, IContextKeyService, RawContextKey } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IKeybindingService } from '../../../../platform/keybinding/common/keybinding.js';\nimport { ILogService } from '../../../../platform/log/common/log.js';\nimport { getListStyles } from '../../../../platform/theme/browser/defaultStyles.js';\nimport {\n\teditorWidgetBackground,\n\tinputBackground,\n\tinputBorder,\n\tinputForeground,\n\tquickInputListFocusBackground,\n\tquickInputListFocusForeground,\n\twidgetBorder,\n\twidgetShadow\n} from '../../../../platform/theme/common/colorRegistry.js';\nimport { IColorTheme, IThemeService } from '../../../../platform/theme/common/themeService.js';\n\n/** for debugging */\nconst _sticky = false\n\t// || Boolean(\"true\") // done \"weirdly\" so that a lint warning prevents you from pushing this\n\t;\n\n\nexport const CONTEXT_RENAME_INPUT_VISIBLE = new RawContextKey<boolean>('renameInputVisible', false, nls.localize('renameInputVisible', \"Whether the rename input widget is visible\"));\nexport const CONTEXT_RENAME_INPUT_FOCUSED = new RawContextKey<boolean>('renameInputFocused', false, nls.localize('renameInputFocused', \"Whether the rename input widget is focused\"));\n\n/**\n * \"Source\" of the new name:\n * - 'inputField' - user entered the new name\n * - 'renameSuggestion' - user picked from rename suggestions\n * - 'userEditedRenameSuggestion' - user _likely_ edited a rename suggestion (\"likely\" because when input started being edited, a rename suggestion had focus)\n */\nexport type NewNameSource =\n\t| { k: 'inputField' }\n\t| { k: 'renameSuggestion' }\n\t| { k: 'userEditedRenameSuggestion' };\n\n/**\n * Various statistics regarding rename input field\n */\nexport type RenameWidgetStats = {\n\tnRenameSuggestions: number;\n\tsource: NewNameSource;\n\ttimeBeforeFirstInputFieldEdit: number | undefined;\n\tnRenameSuggestionsInvocations: number;\n\thadAutomaticRenameSuggestionsInvocation: boolean;\n};\n\nexport type RenameWidgetResult = {\n\t/**\n\t * The new name to be used\n\t */\n\tnewName: string;\n\twantsPreview?: boolean;\n\tstats: RenameWidgetStats;\n};\n\ninterface IRenameWidget {\n\t/**\n\t * @returns a `boolean` standing for `shouldFocusEditor`, if user didn't pick a new name, or a {@link RenameWidgetResult}\n\t */\n\tgetInput(\n\t\twhere: IRange,\n\t\tcurrentName: string,\n\t\tsupportPreview: boolean,\n\t\trequestRenameSuggestions: (triggerKind: NewSymbolNameTriggerKind, cts: CancellationToken) => ProviderResult<NewSymbolName[]>[],\n\t\tcts: CancellationTokenSource\n\t): Promise<RenameWidgetResult | boolean>;\n\n\tacceptInput(wantsPreview: boolean): void;\n\tcancelInput(focusEditor: boolean, caller: string): void;\n\n\tfocusNextRenameSuggestion(): void;\n\tfocusPreviousRenameSuggestion(): void;\n}\n\nexport class RenameWidget implements IRenameWidget, IContentWidget, IDisposable {\n\n\t// implement IContentWidget\n\treadonly allowEditorOverflow: boolean = true;\n\n\t// UI state\n\n\tprivate _domNode?: HTMLElement;\n\tprivate _inputWithButton: InputWithButton;\n\tprivate _renameCandidateListView?: RenameCandidateListView;\n\tprivate _label?: HTMLDivElement;\n\n\tprivate _nPxAvailableAbove?: number;\n\tprivate _nPxAvailableBelow?: number;\n\n\t// Model state\n\n\tprivate _position?: Position;\n\tprivate _currentName?: string;\n\t/** Is true if input field got changes when a rename candidate was focused; otherwise, false */\n\tprivate _isEditingRenameCandidate: boolean;\n\n\tprivate readonly _candidates: Set<string>;\n\n\tprivate _visible?: boolean;\n\n\t/** must be reset at session start */\n\tprivate _beforeFirstInputFieldEditSW: StopWatch;\n\n\t/**\n\t * Milliseconds before user edits the input field for the first time\n\t * @remarks must be set once per session\n\t */\n\tprivate _timeBeforeFirstInputFieldEdit: number | undefined;\n\n\tprivate _nRenameSuggestionsInvocations: number;\n\n\tprivate _hadAutomaticRenameSuggestionsInvocation: boolean;\n\n\tprivate _renameCandidateProvidersCts: CancellationTokenSource | undefined;\n\tprivate _renameCts: CancellationTokenSource | undefined;\n\n\tprivate readonly _visibleContextKey: IContextKey<boolean>;\n\tprivate readonly _disposables = new DisposableStore();\n\n\tconstructor(\n\t\tprivate readonly _editor: ICodeEditor,\n\t\tprivate readonly _acceptKeybindings: [string, string],\n\t\t@IThemeService private readonly _themeService: IThemeService,\n\t\t@IKeybindingService private readonly _keybindingService: IKeybindingService,\n\t\t@IContextKeyService contextKeyService: IContextKeyService,\n\t\t@ILogService private readonly _logService: ILogService,\n\t) {\n\t\tthis._visibleContextKey = CONTEXT_RENAME_INPUT_VISIBLE.bindTo(contextKeyService);\n\n\t\tthis._isEditingRenameCandidate = false;\n\n\t\tthis._nRenameSuggestionsInvocations = 0;\n\n\t\tthis._hadAutomaticRenameSuggestionsInvocation = false;\n\n\t\tthis._candidates = new Set();\n\n\t\tthis._beforeFirstInputFieldEditSW = new StopWatch();\n\n\t\tthis._inputWithButton = new InputWithButton();\n\t\tthis._disposables.add(this._inputWithButton);\n\n\t\tthis._editor.addContentWidget(this);\n\n\t\tthis._disposables.add(this._editor.onDidChangeConfiguration(e => {\n\t\t\tif (e.hasChanged(EditorOption.fontInfo)) {\n\t\t\t\tthis._updateFont();\n\t\t\t}\n\t\t}));\n\n\t\tthis._disposables.add(_themeService.onDidColorThemeChange(this._updateStyles, this));\n\t}\n\n\tdispose(): void {\n\t\tthis._disposables.dispose();\n\t\tthis._editor.removeContentWidget(this);\n\t}\n\n\tgetId(): string {\n\t\treturn '__renameInputWidget';\n\t}\n\n\tgetDomNode(): HTMLElement {\n\t\tif (!this._domNode) {\n\t\t\tthis._domNode = document.createElement('div');\n\t\t\tthis._domNode.className = 'monaco-editor rename-box';\n\n\t\t\tthis._domNode.appendChild(this._inputWithButton.domNode);\n\n\t\t\tthis._renameCandidateListView = this._disposables.add(\n\t\t\t\tnew RenameCandidateListView(this._domNode, {\n\t\t\t\t\tfontInfo: this._editor.getOption(EditorOption.fontInfo),\n\t\t\t\t\tonFocusChange: (newSymbolName: string) => {\n\t\t\t\t\t\tthis._inputWithButton.input.value = newSymbolName;\n\t\t\t\t\t\tthis._isEditingRenameCandidate = false; // @ulugbekna: reset\n\t\t\t\t\t},\n\t\t\t\t\tonSelectionChange: () => {\n\t\t\t\t\t\tthis._isEditingRenameCandidate = false; // @ulugbekna: because user picked a rename suggestion\n\t\t\t\t\t\tthis.acceptInput(false); // we don't allow preview with mouse click for now\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t);\n\n\t\t\tthis._disposables.add(\n\t\t\t\tthis._inputWithButton.onDidInputChange(() => {\n\t\t\t\t\tif (this._renameCandidateListView?.focusedCandidate !== undefined) {\n\t\t\t\t\t\tthis._isEditingRenameCandidate = true;\n\t\t\t\t\t}\n\t\t\t\t\tthis._timeBeforeFirstInputFieldEdit ??= this._beforeFirstInputFieldEditSW.elapsed();\n\t\t\t\t\tif (this._renameCandidateProvidersCts?.token.isCancellationRequested === false) {\n\t\t\t\t\t\tthis._renameCandidateProvidersCts.cancel();\n\t\t\t\t\t}\n\t\t\t\t\tthis._renameCandidateListView?.clearFocus();\n\t\t\t\t})\n\t\t\t);\n\n\t\t\tthis._label = document.createElement('div');\n\t\t\tthis._label.className = 'rename-label';\n\t\t\tthis._domNode.appendChild(this._label);\n\n\t\t\tthis._updateFont();\n\t\t\tthis._updateStyles(this._themeService.getColorTheme());\n\t\t}\n\t\treturn this._domNode;\n\t}\n\n\tprivate _updateStyles(theme: IColorTheme): void {\n\t\tif (!this._domNode) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst widgetShadowColor = theme.getColor(widgetShadow);\n\t\tconst widgetBorderColor = theme.getColor(widgetBorder);\n\t\tthis._domNode.style.backgroundColor = String(theme.getColor(editorWidgetBackground) ?? '');\n\t\tthis._domNode.style.boxShadow = widgetShadowColor ? ` 0 0 8px 2px ${widgetShadowColor}` : '';\n\t\tthis._domNode.style.border = widgetBorderColor ? `1px solid ${widgetBorderColor}` : '';\n\t\tthis._domNode.style.color = String(theme.getColor(inputForeground) ?? '');\n\n\t\tconst border = theme.getColor(inputBorder);\n\n\t\tthis._inputWithButton.domNode.style.backgroundColor = String(theme.getColor(inputBackground) ?? '');\n\t\tthis._inputWithButton.input.style.backgroundColor = String(theme.getColor(inputBackground) ?? '');\n\t\tthis._inputWithButton.domNode.style.borderWidth = border ? '1px' : '0px';\n\t\tthis._inputWithButton.domNode.style.borderStyle = border ? 'solid' : 'none';\n\t\tthis._inputWithButton.domNode.style.borderColor = border?.toString() ?? 'none';\n\t}\n\n\tprivate _updateFont(): void {\n\t\tif (this._domNode === undefined) {\n\t\t\treturn;\n\t\t}\n\t\tassertType(this._label !== undefined, 'RenameWidget#_updateFont: _label must not be undefined given _domNode is defined');\n\n\t\tthis._editor.applyFontInfo(this._inputWithButton.input);\n\n\t\tconst fontInfo = this._editor.getOption(EditorOption.fontInfo);\n\t\tthis._label.style.fontSize = `${this._computeLabelFontSize(fontInfo.fontSize)}px`;\n\t}\n\n\tprivate _computeLabelFontSize(editorFontSize: number) {\n\t\treturn editorFontSize * 0.8;\n\t}\n\n\tgetPosition(): IContentWidgetPosition | null {\n\t\tif (!this._visible) {\n\t\t\treturn null;\n\t\t}\n\n\t\tif (!this._editor.hasModel() || // @ulugbekna: shouldn't happen\n\t\t\t!this._editor.getDomNode() // @ulugbekna: can happen during tests based on suggestWidget's similar predicate check\n\t\t) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst bodyBox = dom.getClientArea(this.getDomNode().ownerDocument.body);\n\t\tconst editorBox = dom.getDomNodePagePosition(this._editor.getDomNode());\n\n\t\tconst cursorBoxTop = this._getTopForPosition();\n\n\t\tthis._nPxAvailableAbove = cursorBoxTop + editorBox.top;\n\t\tthis._nPxAvailableBelow = bodyBox.height - this._nPxAvailableAbove;\n\n\t\tconst lineHeight = this._editor.getOption(EditorOption.lineHeight);\n\t\tconst { totalHeight: candidateViewHeight } = RenameCandidateView.getLayoutInfo({ lineHeight });\n\n\t\tconst positionPreference = this._nPxAvailableBelow > candidateViewHeight * 6 /* approximate # of candidates to fit in (inclusive of rename input box & rename label) */\n\t\t\t? [ContentWidgetPositionPreference.BELOW, ContentWidgetPositionPreference.ABOVE]\n\t\t\t: [ContentWidgetPositionPreference.ABOVE, ContentWidgetPositionPreference.BELOW];\n\n\t\treturn {\n\t\t\tposition: this._position!,\n\t\t\tpreference: positionPreference,\n\t\t};\n\t}\n\n\tbeforeRender(): IDimension | null {\n\t\tconst [accept, preview] = this._acceptKeybindings;\n\t\tthis._label!.innerText = nls.localize({ key: 'label', comment: ['placeholders are keybindings, e.g \"F2 to Rename, Shift+F2 to Preview\"'] }, \"{0} to Rename, {1} to Preview\", this._keybindingService.lookupKeybinding(accept)?.getLabel(), this._keybindingService.lookupKeybinding(preview)?.getLabel());\n\n\t\tthis._domNode!.style.minWidth = `200px`; // to prevent from widening when candidates come in\n\n\t\treturn null;\n\t}\n\n\tafterRender(position: ContentWidgetPositionPreference | null): void {\n\t\t// FIXME@ulugbekna: commenting trace log out until we start unmounting the widget from editor properly - https://github.com/microsoft/vscode/issues/226975\n\t\t// this._trace('invoking afterRender, position: ', position ? 'not null' : 'null');\n\t\tif (position === null) {\n\t\t\t// cancel rename when input widget isn't rendered anymore\n\t\t\tthis.cancelInput(true, 'afterRender (because position is null)');\n\t\t\treturn;\n\t\t}\n\n\t\tif (!this._editor.hasModel() || // shouldn't happen\n\t\t\t!this._editor.getDomNode() // can happen during tests based on suggestWidget's similar predicate check\n\t\t) {\n\t\t\treturn;\n\t\t}\n\n\t\tassertType(this._renameCandidateListView);\n\t\tassertType(this._nPxAvailableAbove !== undefined);\n\t\tassertType(this._nPxAvailableBelow !== undefined);\n\n\t\tconst inputBoxHeight = dom.getTotalHeight(this._inputWithButton.domNode);\n\n\t\tconst labelHeight = dom.getTotalHeight(this._label!);\n\n\t\tlet totalHeightAvailable: number;\n\t\tif (position === ContentWidgetPositionPreference.BELOW) {\n\t\t\ttotalHeightAvailable = this._nPxAvailableBelow;\n\t\t} else {\n\t\t\ttotalHeightAvailable = this._nPxAvailableAbove;\n\t\t}\n\n\t\tthis._renameCandidateListView!.layout({\n\t\t\theight: totalHeightAvailable - labelHeight - inputBoxHeight,\n\t\t\twidth: dom.getTotalWidth(this._inputWithButton.domNode),\n\t\t});\n\t}\n\n\n\tprivate _currentAcceptInput?: (wantsPreview: boolean) => void;\n\tprivate _currentCancelInput?: (focusEditor: boolean) => void;\n\tprivate _requestRenameCandidatesOnce?: (triggerKind: NewSymbolNameTriggerKind, cts: CancellationToken) => ProviderResult<NewSymbolName[]>[];\n\n\tacceptInput(wantsPreview: boolean): void {\n\t\tthis._trace(`invoking acceptInput`);\n\t\tthis._currentAcceptInput?.(wantsPreview);\n\t}\n\n\tcancelInput(focusEditor: boolean, caller: string): void {\n\t\t// this._trace(`invoking cancelInput, caller: ${caller}, _currentCancelInput: ${this._currentAcceptInput ? 'not undefined' : 'undefined'}`);\n\t\tthis._currentCancelInput?.(focusEditor);\n\t}\n\n\tfocusNextRenameSuggestion() {\n\t\tif (!this._renameCandidateListView?.focusNext()) {\n\t\t\tthis._inputWithButton.input.value = this._currentName!;\n\t\t}\n\t}\n\n\tfocusPreviousRenameSuggestion() { // TODO@ulugbekna: this and focusNext should set the original name if no candidate is focused\n\t\tif (!this._renameCandidateListView?.focusPrevious()) {\n\t\t\tthis._inputWithButton.input.value = this._currentName!;\n\t\t}\n\t}\n\n\t/**\n\t * @param requestRenameCandidates is `undefined` when there are no rename suggestion providers\n\t */\n\tgetInput(\n\t\twhere: IRange,\n\t\tcurrentName: string,\n\t\tsupportPreview: boolean,\n\t\trequestRenameCandidates: undefined | ((triggerKind: NewSymbolNameTriggerKind, cts: CancellationToken) => ProviderResult<NewSymbolName[]>[]),\n\t\tcts: CancellationTokenSource\n\t): Promise<RenameWidgetResult | boolean> {\n\n\t\tconst { start: selectionStart, end: selectionEnd } = this._getSelection(where, currentName);\n\n\t\tthis._renameCts = cts;\n\n\t\tconst disposeOnDone = new DisposableStore();\n\n\t\tthis._nRenameSuggestionsInvocations = 0;\n\n\t\tthis._hadAutomaticRenameSuggestionsInvocation = false;\n\n\t\tif (requestRenameCandidates === undefined) {\n\t\t\tthis._inputWithButton.button.style.display = 'none';\n\t\t} else {\n\t\t\tthis._inputWithButton.button.style.display = 'flex';\n\n\t\t\tthis._requestRenameCandidatesOnce = requestRenameCandidates;\n\n\t\t\tthis._requestRenameCandidates(currentName, false);\n\n\t\t\tdisposeOnDone.add(dom.addDisposableListener(\n\t\t\t\tthis._inputWithButton.button,\n\t\t\t\t'click',\n\t\t\t\t() => this._requestRenameCandidates(currentName, true)\n\t\t\t));\n\t\t\tdisposeOnDone.add(dom.addDisposableListener(\n\t\t\t\tthis._inputWithButton.button,\n\t\t\t\tdom.EventType.KEY_DOWN,\n\t\t\t\t(e) => {\n\t\t\t\t\tconst keyEvent = new StandardKeyboardEvent(e);\n\n\t\t\t\t\tif (keyEvent.equals(KeyCode.Enter) || keyEvent.equals(KeyCode.Space)) {\n\t\t\t\t\t\tkeyEvent.stopPropagation();\n\t\t\t\t\t\tkeyEvent.preventDefault();\n\t\t\t\t\t\tthis._requestRenameCandidates(currentName, true);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t));\n\t\t}\n\n\t\tthis._isEditingRenameCandidate = false;\n\n\t\tthis._domNode!.classList.toggle('preview', supportPreview);\n\n\t\tthis._position = new Position(where.startLineNumber, where.startColumn);\n\t\tthis._currentName = currentName;\n\n\t\tthis._inputWithButton.input.value = currentName;\n\t\tthis._inputWithButton.input.setAttribute('selectionStart', selectionStart.toString());\n\t\tthis._inputWithButton.input.setAttribute('selectionEnd', selectionEnd.toString());\n\t\tthis._inputWithButton.input.size = Math.max((where.endColumn - where.startColumn) * 1.1, 20); // determines width\n\n\t\tthis._beforeFirstInputFieldEditSW.reset();\n\n\n\t\tdisposeOnDone.add(toDisposable(() => {\n\t\t\tthis._renameCts = undefined;\n\t\t\tcts.dispose(true);\n\t\t})); // @ulugbekna: this may result in `this.cancelInput` being called twice, but it should be safe since we set it to undefined after 1st call\n\t\tdisposeOnDone.add(toDisposable(() => {\n\t\t\tif (this._renameCandidateProvidersCts !== undefined) {\n\t\t\t\tthis._renameCandidateProvidersCts.dispose(true);\n\t\t\t\tthis._renameCandidateProvidersCts = undefined;\n\t\t\t}\n\t\t}));\n\n\t\tdisposeOnDone.add(toDisposable(() => this._candidates.clear()));\n\n\t\tconst inputResult = new DeferredPromise<RenameWidgetResult | boolean>();\n\n\t\tinputResult.p.finally(() => {\n\t\t\tdisposeOnDone.dispose();\n\t\t\tthis._hide();\n\t\t});\n\n\t\tthis._currentCancelInput = (focusEditor) => {\n\t\t\tthis._trace('invoking _currentCancelInput');\n\t\t\tthis._currentAcceptInput = undefined;\n\t\t\tthis._currentCancelInput = undefined;\n\t\t\t// fixme session cleanup\n\t\t\tthis._renameCandidateListView?.clearCandidates();\n\t\t\tinputResult.complete(focusEditor);\n\t\t\treturn true;\n\t\t};\n\n\t\tthis._currentAcceptInput = (wantsPreview) => {\n\t\t\tthis._trace('invoking _currentAcceptInput');\n\t\t\tassertType(this._renameCandidateListView !== undefined);\n\n\t\t\tconst nRenameSuggestions = this._renameCandidateListView.nCandidates;\n\n\t\t\tlet newName: string;\n\t\t\tlet source: NewNameSource;\n\t\t\tconst focusedCandidate = this._renameCandidateListView.focusedCandidate;\n\t\t\tif (focusedCandidate !== undefined) {\n\t\t\t\tthis._trace('using new name from renameSuggestion');\n\t\t\t\tnewName = focusedCandidate;\n\t\t\t\tsource = { k: 'renameSuggestion' };\n\t\t\t} else {\n\t\t\t\tthis._trace('using new name from inputField');\n\t\t\t\tnewName = this._inputWithButton.input.value;\n\t\t\t\tsource = this._isEditingRenameCandidate ? { k: 'userEditedRenameSuggestion' } : { k: 'inputField' };\n\t\t\t}\n\n\t\t\tif (newName === currentName || newName.trim().length === 0 /* is just whitespace */) {\n\t\t\t\tthis.cancelInput(true, '_currentAcceptInput (because newName === value || newName.trim().length === 0)');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis._currentAcceptInput = undefined;\n\t\t\tthis._currentCancelInput = undefined;\n\t\t\tthis._renameCandidateListView.clearCandidates();\n\t\t\t// fixme session cleanup\n\n\t\t\tinputResult.complete({\n\t\t\t\tnewName,\n\t\t\t\twantsPreview: supportPreview && wantsPreview,\n\t\t\t\tstats: {\n\t\t\t\t\tsource,\n\t\t\t\t\tnRenameSuggestions,\n\t\t\t\t\ttimeBeforeFirstInputFieldEdit: this._timeBeforeFirstInputFieldEdit,\n\t\t\t\t\tnRenameSuggestionsInvocations: this._nRenameSuggestionsInvocations,\n\t\t\t\t\thadAutomaticRenameSuggestionsInvocation: this._hadAutomaticRenameSuggestionsInvocation,\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\n\t\tdisposeOnDone.add(cts.token.onCancellationRequested(() => this.cancelInput(true, 'cts.token.onCancellationRequested')));\n\t\tif (!_sticky) {\n\t\t\tdisposeOnDone.add(this._editor.onDidBlurEditorWidget(() => this.cancelInput(!this._domNode?.ownerDocument.hasFocus(), 'editor.onDidBlurEditorWidget')));\n\t\t}\n\n\t\tthis._show();\n\n\t\treturn inputResult.p;\n\t}\n\n\tprivate _requestRenameCandidates(currentName: string, isManuallyTriggered: boolean) {\n\t\tif (this._requestRenameCandidatesOnce === undefined) {\n\t\t\treturn;\n\t\t}\n\t\tif (this._renameCandidateProvidersCts !== undefined) {\n\t\t\tthis._renameCandidateProvidersCts.dispose(true);\n\t\t}\n\n\t\tassertType(this._renameCts);\n\n\t\tif (this._inputWithButton.buttonState !== 'stop') {\n\n\t\t\tthis._renameCandidateProvidersCts = new CancellationTokenSource();\n\n\t\t\tconst triggerKind = isManuallyTriggered ? NewSymbolNameTriggerKind.Invoke : NewSymbolNameTriggerKind.Automatic;\n\t\t\tconst candidates = this._requestRenameCandidatesOnce(triggerKind, this._renameCandidateProvidersCts.token);\n\n\t\t\tif (candidates.length === 0) {\n\t\t\t\tthis._inputWithButton.setSparkleButton();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (!isManuallyTriggered) {\n\t\t\t\tthis._hadAutomaticRenameSuggestionsInvocation = true;\n\t\t\t}\n\n\t\t\tthis._nRenameSuggestionsInvocations += 1;\n\n\t\t\tthis._inputWithButton.setStopButton();\n\n\t\t\tthis._updateRenameCandidates(candidates, currentName, this._renameCts.token);\n\t\t}\n\t}\n\n\t/**\n\t * This allows selecting only part of the symbol name in the input field based on the selection in the editor\n\t */\n\tprivate _getSelection(where: IRange, currentName: string): { start: number; end: number } {\n\t\tassertType(this._editor.hasModel());\n\n\t\tconst selection = this._editor.getSelection();\n\t\tlet start = 0;\n\t\tlet end = currentName.length;\n\n\t\tif (!Range.isEmpty(selection) && !Range.spansMultipleLines(selection) && Range.containsRange(where, selection)) {\n\t\t\tstart = Math.max(0, selection.startColumn - where.startColumn);\n\t\t\tend = Math.min(where.endColumn, selection.endColumn) - where.startColumn;\n\t\t}\n\n\t\treturn { start, end };\n\t}\n\n\tprivate _show(): void {\n\t\tthis._trace('invoking _show');\n\t\tthis._editor.revealLineInCenterIfOutsideViewport(this._position!.lineNumber, ScrollType.Smooth);\n\t\tthis._visible = true;\n\t\tthis._visibleContextKey.set(true);\n\t\tthis._editor.layoutContentWidget(this);\n\n\t\t// TODO@ulugbekna: could this be simply run in `afterRender`?\n\t\tsetTimeout(() => {\n\t\t\tthis._inputWithButton.input.focus();\n\t\t\tthis._inputWithButton.input.setSelectionRange(\n\t\t\t\tparseInt(this._inputWithButton.input.getAttribute('selectionStart')!),\n\t\t\t\tparseInt(this._inputWithButton.input.getAttribute('selectionEnd')!)\n\t\t\t);\n\t\t}, 100);\n\t}\n\n\tprivate async _updateRenameCandidates(candidates: ProviderResult<NewSymbolName[]>[], currentName: string, token: CancellationToken) {\n\t\tconst trace = (...args: any[]) => this._trace('_updateRenameCandidates', ...args);\n\n\t\ttrace('start');\n\t\tconst namesListResults = await raceCancellation(Promise.allSettled(candidates), token);\n\n\t\tthis._inputWithButton.setSparkleButton();\n\n\t\tif (namesListResults === undefined) {\n\t\t\ttrace('returning early - received updateRenameCandidates results - undefined');\n\t\t\treturn;\n\t\t}\n\n\t\tconst newNames = namesListResults.flatMap(namesListResult =>\n\t\t\tnamesListResult.status === 'fulfilled' && isDefined(namesListResult.value)\n\t\t\t\t? namesListResult.value\n\t\t\t\t: []\n\t\t);\n\t\ttrace(`received updateRenameCandidates results - total (unfiltered) ${newNames.length} candidates.`);\n\n\t\t// deduplicate and filter out the current value\n\n\t\tconst distinctNames = arrays.distinct(newNames, v => v.newSymbolName);\n\t\ttrace(`distinct candidates - ${distinctNames.length} candidates.`);\n\n\t\tconst validDistinctNames = distinctNames.filter(({ newSymbolName }) => newSymbolName.trim().length > 0 && newSymbolName !== this._inputWithButton.input.value && newSymbolName !== currentName && !this._candidates.has(newSymbolName));\n\t\ttrace(`valid distinct candidates - ${newNames.length} candidates.`);\n\n\t\tvalidDistinctNames.forEach(n => this._candidates.add(n.newSymbolName));\n\n\t\tif (validDistinctNames.length < 1) {\n\t\t\ttrace('returning early - no valid distinct candidates');\n\t\t\treturn;\n\t\t}\n\n\t\t// show the candidates\n\t\ttrace('setting candidates');\n\t\tthis._renameCandidateListView!.setCandidates(validDistinctNames);\n\n\t\t// ask editor to re-layout given that the widget is now of a different size after rendering rename candidates\n\t\ttrace('asking editor to re-layout');\n\t\tthis._editor.layoutContentWidget(this);\n\t}\n\n\tprivate _hide(): void {\n\t\tthis._trace('invoked _hide');\n\t\tthis._visible = false;\n\t\tthis._visibleContextKey.reset();\n\t\tthis._editor.layoutContentWidget(this);\n\t}\n\n\tprivate _getTopForPosition(): number {\n\t\tconst visibleRanges = this._editor.getVisibleRanges();\n\t\tlet firstLineInViewport: number;\n\t\tif (visibleRanges.length > 0) {\n\t\t\tfirstLineInViewport = visibleRanges[0].startLineNumber;\n\t\t} else {\n\t\t\tthis._logService.warn('RenameWidget#_getTopForPosition: this should not happen - visibleRanges is empty');\n\t\t\tfirstLineInViewport = Math.max(1, this._position!.lineNumber - 5); // @ulugbekna: fallback to current line minus 5\n\t\t}\n\t\treturn this._editor.getTopForLineNumber(this._position!.lineNumber) - this._editor.getTopForLineNumber(firstLineInViewport);\n\t}\n\n\tprivate _trace(...args: unknown[]) {\n\t\tthis._logService.trace('RenameWidget', ...args);\n\t}\n}\n\nclass RenameCandidateListView {\n\n\t/** Parent node of the list widget; needed to control # of list elements visible */\n\tprivate readonly _listContainer: HTMLDivElement;\n\tprivate readonly _listWidget: List<NewSymbolName>;\n\n\tprivate _lineHeight: number;\n\tprivate _availableHeight: number;\n\tprivate _minimumWidth: number;\n\tprivate _typicalHalfwidthCharacterWidth: number;\n\n\tprivate readonly _disposables: DisposableStore;\n\n\t// FIXME@ulugbekna: rewrite using event emitters\n\tconstructor(parent: HTMLElement, opts: { fontInfo: FontInfo; onFocusChange: (newSymbolName: string) => void; onSelectionChange: () => void }) {\n\n\t\tthis._disposables = new DisposableStore();\n\n\t\tthis._availableHeight = 0;\n\t\tthis._minimumWidth = 0;\n\n\t\tthis._lineHeight = opts.fontInfo.lineHeight;\n\t\tthis._typicalHalfwidthCharacterWidth = opts.fontInfo.typicalHalfwidthCharacterWidth;\n\n\t\tthis._listContainer = document.createElement('div');\n\t\tthis._listContainer.className = 'rename-box rename-candidate-list-container';\n\t\tparent.appendChild(this._listContainer);\n\n\t\tthis._listWidget = RenameCandidateListView._createListWidget(this._listContainer, this._candidateViewHeight, opts.fontInfo);\n\n\t\tthis._listWidget.onDidChangeFocus(\n\t\t\te => {\n\t\t\t\tif (e.elements.length === 1) {\n\t\t\t\t\topts.onFocusChange(e.elements[0].newSymbolName);\n\t\t\t\t}\n\t\t\t},\n\t\t\tthis._disposables\n\t\t);\n\n\t\tthis._listWidget.onDidChangeSelection(\n\t\t\te => {\n\t\t\t\tif (e.elements.length === 1) {\n\t\t\t\t\topts.onSelectionChange();\n\t\t\t\t}\n\t\t\t},\n\t\t\tthis._disposables\n\t\t);\n\n\t\tthis._disposables.add(\n\t\t\tthis._listWidget.onDidBlur(e => { // @ulugbekna: because list widget otherwise remembers last focused element and returns it as focused element\n\t\t\t\tthis._listWidget.setFocus([]);\n\t\t\t})\n\t\t);\n\n\t\tthis._listWidget.style(getListStyles({\n\t\t\tlistInactiveFocusForeground: quickInputListFocusForeground,\n\t\t\tlistInactiveFocusBackground: quickInputListFocusBackground,\n\t\t}));\n\t}\n\n\tdispose() {\n\t\tthis._listWidget.dispose();\n\t\tthis._disposables.dispose();\n\t}\n\n\t// height - max height allowed by parent element\n\tpublic layout({ height, width }: { height: number; width: number }): void {\n\t\tthis._availableHeight = height;\n\t\tthis._minimumWidth = width;\n\t}\n\n\tpublic setCandidates(candidates: NewSymbolName[]): void {\n\n\t\t// insert candidates into list widget\n\t\tthis._listWidget.splice(0, 0, candidates);\n\n\t\t// adjust list widget layout\n\t\tconst height = this._pickListHeight(this._listWidget.length);\n\t\tconst width = this._pickListWidth(candidates);\n\n\t\tthis._listWidget.layout(height, width);\n\n\t\t// adjust list container layout\n\t\tthis._listContainer.style.height = `${height}px`;\n\t\tthis._listContainer.style.width = `${width}px`;\n\n\t\taria.status(nls.localize('renameSuggestionsReceivedAria', \"Received {0} rename suggestions\", candidates.length));\n\t}\n\n\tpublic clearCandidates(): void {\n\t\tthis._listContainer.style.height = '0px';\n\t\tthis._listContainer.style.width = '0px';\n\t\tthis._listWidget.splice(0, this._listWidget.length, []);\n\t}\n\n\tpublic get nCandidates() {\n\t\treturn this._listWidget.length;\n\t}\n\n\tpublic get focusedCandidate(): string | undefined {\n\t\tif (this._listWidget.length === 0) {\n\t\t\treturn;\n\t\t}\n\t\tconst selectedElement = this._listWidget.getSelectedElements()[0];\n\t\tif (selectedElement !== undefined) {\n\t\t\treturn selectedElement.newSymbolName;\n\t\t}\n\t\tconst focusedElement = this._listWidget.getFocusedElements()[0];\n\t\tif (focusedElement !== undefined) {\n\t\t\treturn focusedElement.newSymbolName;\n\t\t}\n\t\treturn;\n\t}\n\n\tpublic focusNext(): boolean {\n\t\tif (this._listWidget.length === 0) {\n\t\t\treturn false;\n\t\t}\n\t\tconst focusedIxs = this._listWidget.getFocus();\n\t\tif (focusedIxs.length === 0) {\n\t\t\tthis._listWidget.focusFirst();\n\t\t\tthis._listWidget.reveal(0);\n\t\t\treturn true;\n\t\t} else {\n\t\t\tif (focusedIxs[0] === this._listWidget.length - 1) {\n\t\t\t\tthis._listWidget.setFocus([]);\n\t\t\t\tthis._listWidget.reveal(0); // @ulugbekna: without this, it seems like focused element is obstructed\n\t\t\t\treturn false;\n\t\t\t} else {\n\t\t\t\tthis._listWidget.focusNext();\n\t\t\t\tconst focused = this._listWidget.getFocus()[0];\n\t\t\t\tthis._listWidget.reveal(focused);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * @returns true if focus is moved to previous element\n\t */\n\tpublic focusPrevious(): boolean {\n\t\tif (this._listWidget.length === 0) {\n\t\t\treturn false;\n\t\t}\n\t\tconst focusedIxs = this._listWidget.getFocus();\n\t\tif (focusedIxs.length === 0) {\n\t\t\tthis._listWidget.focusLast();\n\t\t\tconst focused = this._listWidget.getFocus()[0];\n\t\t\tthis._listWidget.reveal(focused);\n\t\t\treturn true;\n\t\t} else {\n\t\t\tif (focusedIxs[0] === 0) {\n\t\t\t\tthis._listWidget.setFocus([]);\n\t\t\t\treturn false;\n\t\t\t} else {\n\t\t\t\tthis._listWidget.focusPrevious();\n\t\t\t\tconst focused = this._listWidget.getFocus()[0];\n\t\t\t\tthis._listWidget.reveal(focused);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic clearFocus(): void {\n\t\tthis._listWidget.setFocus([]);\n\t}\n\n\tprivate get _candidateViewHeight(): number {\n\t\tconst { totalHeight } = RenameCandidateView.getLayoutInfo({ lineHeight: this._lineHeight });\n\t\treturn totalHeight;\n\t}\n\n\tprivate _pickListHeight(nCandidates: number) {\n\t\tconst heightToFitAllCandidates = this._candidateViewHeight * nCandidates;\n\t\tconst MAX_N_CANDIDATES = 7;  // @ulugbekna: max # of candidates we want to show at once\n\t\tconst height = Math.min(heightToFitAllCandidates, this._availableHeight, this._candidateViewHeight * MAX_N_CANDIDATES);\n\t\treturn height;\n\t}\n\n\tprivate _pickListWidth(candidates: NewSymbolName[]): number {\n\t\tconst longestCandidateWidth = Math.ceil(Math.max(...candidates.map(c => c.newSymbolName.length)) * this._typicalHalfwidthCharacterWidth);\n\t\tconst width = Math.max(\n\t\t\tthis._minimumWidth,\n\t\t\t4 /* padding */ + 16 /* sparkle icon */ + 5 /* margin-left */ + longestCandidateWidth + 10 /* (possibly visible) scrollbar width */ // TODO@ulugbekna: approximate calc - clean this up\n\t\t);\n\t\treturn width;\n\t}\n\n\tprivate static _createListWidget(container: HTMLElement, candidateViewHeight: number, fontInfo: FontInfo) {\n\t\tconst virtualDelegate = new class implements IListVirtualDelegate<NewSymbolName> {\n\t\t\tgetTemplateId(element: NewSymbolName): string {\n\t\t\t\treturn 'candidate';\n\t\t\t}\n\n\t\t\tgetHeight(element: NewSymbolName): number {\n\t\t\t\treturn candidateViewHeight;\n\t\t\t}\n\t\t};\n\n\t\tconst renderer = new class implements IListRenderer<NewSymbolName, RenameCandidateView> {\n\t\t\treadonly templateId = 'candidate';\n\n\t\t\trenderTemplate(container: HTMLElement): RenameCandidateView {\n\t\t\t\treturn new RenameCandidateView(container, fontInfo);\n\t\t\t}\n\n\t\t\trenderElement(candidate: NewSymbolName, index: number, templateData: RenameCandidateView): void {\n\t\t\t\ttemplateData.populate(candidate);\n\t\t\t}\n\n\t\t\tdisposeTemplate(templateData: RenameCandidateView): void {\n\t\t\t\ttemplateData.dispose();\n\t\t\t}\n\t\t};\n\n\t\treturn new List(\n\t\t\t'NewSymbolNameCandidates',\n\t\t\tcontainer,\n\t\t\tvirtualDelegate,\n\t\t\t[renderer],\n\t\t\t{\n\t\t\t\tkeyboardSupport: false, // @ulugbekna: because we handle keyboard events through proper commands & keybinding service, see `rename.ts`\n\t\t\t\tmouseSupport: true,\n\t\t\t\tmultipleSelectionSupport: false,\n\t\t\t}\n\t\t);\n\t}\n}\n\nclass InputWithButton implements IDisposable {\n\n\tprivate _buttonState: 'sparkle' | 'stop' | undefined;\n\n\tprivate _domNode: HTMLDivElement | undefined;\n\tprivate _inputNode: HTMLInputElement | undefined;\n\tprivate _buttonNode: HTMLElement | undefined;\n\tprivate _buttonHover: IManagedHover | undefined;\n\tprivate _buttonGenHoverText: string | undefined;\n\tprivate _buttonCancelHoverText: string | undefined;\n\tprivate _sparkleIcon: HTMLElement | undefined;\n\tprivate _stopIcon: HTMLElement | undefined;\n\n\tprivate readonly _onDidInputChange = new Emitter<void>();\n\tpublic readonly onDidInputChange = this._onDidInputChange.event;\n\n\tprivate readonly _disposables = new DisposableStore();\n\n\tget domNode() {\n\t\tif (!this._domNode) {\n\n\t\t\tthis._domNode = document.createElement('div');\n\t\t\tthis._domNode.className = 'rename-input-with-button';\n\t\t\tthis._domNode.style.display = 'flex';\n\t\t\tthis._domNode.style.flexDirection = 'row';\n\t\t\tthis._domNode.style.alignItems = 'center';\n\n\t\t\tthis._inputNode = document.createElement('input');\n\t\t\tthis._inputNode.className = 'rename-input';\n\t\t\tthis._inputNode.type = 'text';\n\t\t\tthis._inputNode.style.border = 'none';\n\t\t\tthis._inputNode.setAttribute('aria-label', nls.localize('renameAriaLabel', \"Rename input. Type new name and press Enter to commit.\"));\n\n\t\t\tthis._domNode.appendChild(this._inputNode);\n\n\t\t\tthis._buttonNode = document.createElement('div');\n\t\t\tthis._buttonNode.className = 'rename-suggestions-button';\n\t\t\tthis._buttonNode.setAttribute('tabindex', '0');\n\n\t\t\tthis._buttonGenHoverText = nls.localize('generateRenameSuggestionsButton', \"Generate new name suggestions\");\n\t\t\tthis._buttonCancelHoverText = nls.localize('cancelRenameSuggestionsButton', \"Cancel\");\n\t\t\tthis._buttonHover = getBaseLayerHoverDelegate().setupManagedHover(getDefaultHoverDelegate('element'), this._buttonNode, this._buttonGenHoverText);\n\t\t\tthis._disposables.add(this._buttonHover);\n\n\t\t\tthis._domNode.appendChild(this._buttonNode);\n\n\t\t\t// notify if selection changes to cancel request to rename-suggestion providers\n\n\t\t\tthis._disposables.add(dom.addDisposableListener(this.input, dom.EventType.INPUT, () => this._onDidInputChange.fire()));\n\t\t\tthis._disposables.add(dom.addDisposableListener(this.input, dom.EventType.KEY_DOWN, (e) => {\n\t\t\t\tconst keyEvent = new StandardKeyboardEvent(e);\n\t\t\t\tif (keyEvent.keyCode === KeyCode.LeftArrow || keyEvent.keyCode === KeyCode.RightArrow) {\n\t\t\t\t\tthis._onDidInputChange.fire();\n\t\t\t\t}\n\t\t\t}));\n\t\t\tthis._disposables.add(dom.addDisposableListener(this.input, dom.EventType.CLICK, () => this._onDidInputChange.fire()));\n\n\t\t\t// focus \"container\" border instead of input box\n\n\t\t\tthis._disposables.add(dom.addDisposableListener(this.input, dom.EventType.FOCUS, () => {\n\t\t\t\tthis.domNode.style.outlineWidth = '1px';\n\t\t\t\tthis.domNode.style.outlineStyle = 'solid';\n\t\t\t\tthis.domNode.style.outlineOffset = '-1px';\n\t\t\t\tthis.domNode.style.outlineColor = 'var(--vscode-focusBorder)';\n\t\t\t}));\n\t\t\tthis._disposables.add(dom.addDisposableListener(this.input, dom.EventType.BLUR, () => {\n\t\t\t\tthis.domNode.style.outline = 'none';\n\t\t\t}));\n\t\t}\n\t\treturn this._domNode;\n\t}\n\n\tget input() {\n\t\tassertType(this._inputNode);\n\t\treturn this._inputNode;\n\t}\n\n\tget button() {\n\t\tassertType(this._buttonNode);\n\t\treturn this._buttonNode;\n\t}\n\n\tget buttonState() {\n\t\treturn this._buttonState;\n\t}\n\n\tsetSparkleButton() {\n\t\tthis._buttonState = 'sparkle';\n\t\tthis._sparkleIcon ??= renderIcon(Codicon.sparkle);\n\t\tdom.clearNode(this.button);\n\t\tthis.button.appendChild(this._sparkleIcon);\n\t\tthis.button.setAttribute('aria-label', 'Generating new name suggestions');\n\t\tthis._buttonHover?.update(this._buttonGenHoverText);\n\t\tthis.input.focus();\n\t}\n\n\tsetStopButton() {\n\t\tthis._buttonState = 'stop';\n\t\tthis._stopIcon ??= renderIcon(Codicon.primitiveSquare);\n\t\tdom.clearNode(this.button);\n\t\tthis.button.appendChild(this._stopIcon);\n\t\tthis.button.setAttribute('aria-label', 'Cancel generating new name suggestions');\n\t\tthis._buttonHover?.update(this._buttonCancelHoverText);\n\t\tthis.input.focus();\n\t}\n\n\tdispose(): void {\n\t\tthis._disposables.dispose();\n\t}\n}\n\nclass RenameCandidateView {\n\n\tprivate static _PADDING: number = 2;\n\n\tprivate readonly _domNode: HTMLElement;\n\tprivate readonly _icon: HTMLElement;\n\tprivate readonly _label: HTMLElement;\n\n\tconstructor(parent: HTMLElement, fontInfo: FontInfo) {\n\n\t\tthis._domNode = document.createElement('div');\n\t\tthis._domNode.className = 'rename-box rename-candidate';\n\t\tthis._domNode.style.display = `flex`;\n\t\tthis._domNode.style.columnGap = `5px`;\n\t\tthis._domNode.style.alignItems = `center`;\n\t\tthis._domNode.style.height = `${fontInfo.lineHeight}px`;\n\t\tthis._domNode.style.padding = `${RenameCandidateView._PADDING}px`;\n\n\t\t// @ulugbekna: needed to keep space when the `icon.style.display` is set to `none`\n\t\tconst iconContainer = document.createElement('div');\n\t\ticonContainer.style.display = `flex`;\n\t\ticonContainer.style.alignItems = `center`;\n\t\ticonContainer.style.width = iconContainer.style.height = `${fontInfo.lineHeight * 0.8}px`;\n\t\tthis._domNode.appendChild(iconContainer);\n\n\t\tthis._icon = renderIcon(Codicon.sparkle);\n\t\tthis._icon.style.display = `none`;\n\t\ticonContainer.appendChild(this._icon);\n\n\t\tthis._label = document.createElement('div');\n\t\tdomFontInfo.applyFontInfo(this._label, fontInfo);\n\t\tthis._domNode.appendChild(this._label);\n\n\t\tparent.appendChild(this._domNode);\n\t}\n\n\tpublic populate(value: NewSymbolName) {\n\t\tthis._updateIcon(value);\n\t\tthis._updateLabel(value);\n\t}\n\n\tprivate _updateIcon(value: NewSymbolName) {\n\t\tconst isAIGenerated = !!value.tags?.includes(NewSymbolNameTag.AIGenerated);\n\t\tthis._icon.style.display = isAIGenerated ? 'inherit' : 'none';\n\t}\n\n\tprivate _updateLabel(value: NewSymbolName) {\n\t\tthis._label.innerText = value.newSymbolName;\n\t}\n\n\tpublic static getLayoutInfo({ lineHeight }: { lineHeight: number }): { totalHeight: number } {\n\t\tconst totalHeight = lineHeight + RenameCandidateView._PADDING * 2 /* top & bottom padding */;\n\t\treturn { totalHeight };\n\t}\n\n\tpublic dispose() {\n\t}\n}\n"],
  "mappings": "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",
  "names": ["container"]
}
