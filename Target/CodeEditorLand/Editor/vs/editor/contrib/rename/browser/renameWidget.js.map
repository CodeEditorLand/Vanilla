{
  "version": 3,
  "sources": ["../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/editor/contrib/rename/browser/renameWidget.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as dom from \"../../../../base/browser/dom.js\";\nimport { StandardKeyboardEvent } from \"../../../../base/browser/keyboardEvent.js\";\nimport * as aria from \"../../../../base/browser/ui/aria/aria.js\";\nimport type { IManagedHover } from \"../../../../base/browser/ui/hover/hover.js\";\nimport { getBaseLayerHoverDelegate } from \"../../../../base/browser/ui/hover/hoverDelegate2.js\";\nimport { getDefaultHoverDelegate } from \"../../../../base/browser/ui/hover/hoverDelegateFactory.js\";\nimport { renderIcon } from \"../../../../base/browser/ui/iconLabel/iconLabels.js\";\nimport type {\n\tIListRenderer,\n\tIListVirtualDelegate,\n} from \"../../../../base/browser/ui/list/list.js\";\nimport { List } from \"../../../../base/browser/ui/list/listWidget.js\";\nimport * as arrays from \"../../../../base/common/arrays.js\";\nimport {\n\tDeferredPromise,\n\traceCancellation,\n} from \"../../../../base/common/async.js\";\nimport {\n\ttype CancellationToken,\n\tCancellationTokenSource,\n} from \"../../../../base/common/cancellation.js\";\nimport { Codicon } from \"../../../../base/common/codicons.js\";\nimport { Emitter } from \"../../../../base/common/event.js\";\nimport { KeyCode } from \"../../../../base/common/keyCodes.js\";\nimport {\n\tDisposableStore,\n\ttype IDisposable,\n\ttoDisposable,\n} from \"../../../../base/common/lifecycle.js\";\nimport { StopWatch } from \"../../../../base/common/stopwatch.js\";\nimport { assertType, isDefined } from \"../../../../base/common/types.js\";\nimport \"./renameWidget.css\";\nimport * as nls from \"../../../../nls.js\";\nimport {\n\ttype IContextKey,\n\tIContextKeyService,\n\tRawContextKey,\n} from \"../../../../platform/contextkey/common/contextkey.js\";\nimport { IKeybindingService } from \"../../../../platform/keybinding/common/keybinding.js\";\nimport { ILogService } from \"../../../../platform/log/common/log.js\";\nimport { getListStyles } from \"../../../../platform/theme/browser/defaultStyles.js\";\nimport {\n\teditorWidgetBackground,\n\tinputBackground,\n\tinputBorder,\n\tinputForeground,\n\tquickInputListFocusBackground,\n\tquickInputListFocusForeground,\n\twidgetBorder,\n\twidgetShadow,\n} from \"../../../../platform/theme/common/colorRegistry.js\";\nimport {\n\ttype IColorTheme,\n\tIThemeService,\n} from \"../../../../platform/theme/common/themeService.js\";\nimport * as domFontInfo from \"../../../browser/config/domFontInfo.js\";\nimport {\n\tContentWidgetPositionPreference,\n\ttype ICodeEditor,\n\ttype IContentWidget,\n\ttype IContentWidgetPosition,\n} from \"../../../browser/editorBrowser.js\";\nimport { EditorOption } from \"../../../common/config/editorOptions.js\";\nimport type { FontInfo } from \"../../../common/config/fontInfo.js\";\nimport type { IDimension } from \"../../../common/core/dimension.js\";\nimport { Position } from \"../../../common/core/position.js\";\nimport { type IRange, Range } from \"../../../common/core/range.js\";\nimport { ScrollType } from \"../../../common/editorCommon.js\";\nimport {\n\ttype NewSymbolName,\n\tNewSymbolNameTag,\n\tNewSymbolNameTriggerKind,\n\ttype ProviderResult,\n} from \"../../../common/languages.js\";\n\n/** for debugging */\nconst _sticky = false;\n// || Boolean(\"true\") // done \"weirdly\" so that a lint warning prevents you from pushing this\n\nexport const CONTEXT_RENAME_INPUT_VISIBLE = new RawContextKey<boolean>(\n\t\"renameInputVisible\",\n\tfalse,\n\tnls.localize(\n\t\t\"renameInputVisible\",\n\t\t\"Whether the rename input widget is visible\",\n\t),\n);\nexport const CONTEXT_RENAME_INPUT_FOCUSED = new RawContextKey<boolean>(\n\t\"renameInputFocused\",\n\tfalse,\n\tnls.localize(\n\t\t\"renameInputFocused\",\n\t\t\"Whether the rename input widget is focused\",\n\t),\n);\n\n/**\n * \"Source\" of the new name:\n * - 'inputField' - user entered the new name\n * - 'renameSuggestion' - user picked from rename suggestions\n * - 'userEditedRenameSuggestion' - user _likely_ edited a rename suggestion (\"likely\" because when input started being edited, a rename suggestion had focus)\n */\nexport type NewNameSource =\n\t| { k: \"inputField\" }\n\t| { k: \"renameSuggestion\" }\n\t| { k: \"userEditedRenameSuggestion\" };\n\n/**\n * Various statistics regarding rename input field\n */\nexport type RenameWidgetStats = {\n\tnRenameSuggestions: number;\n\tsource: NewNameSource;\n\ttimeBeforeFirstInputFieldEdit: number | undefined;\n\tnRenameSuggestionsInvocations: number;\n\thadAutomaticRenameSuggestionsInvocation: boolean;\n};\n\nexport type RenameWidgetResult = {\n\t/**\n\t * The new name to be used\n\t */\n\tnewName: string;\n\twantsPreview?: boolean;\n\tstats: RenameWidgetStats;\n};\n\ninterface IRenameWidget {\n\t/**\n\t * @returns a `boolean` standing for `shouldFocusEditor`, if user didn't pick a new name, or a {@link RenameWidgetResult}\n\t */\n\tgetInput(\n\t\twhere: IRange,\n\t\tcurrentName: string,\n\t\tsupportPreview: boolean,\n\t\trequestRenameSuggestions: (\n\t\t\ttriggerKind: NewSymbolNameTriggerKind,\n\t\t\tcts: CancellationToken,\n\t\t) => ProviderResult<NewSymbolName[]>[],\n\t\tcts: CancellationTokenSource,\n\t): Promise<RenameWidgetResult | boolean>;\n\n\tacceptInput(wantsPreview: boolean): void;\n\tcancelInput(focusEditor: boolean, caller: string): void;\n\n\tfocusNextRenameSuggestion(): void;\n\tfocusPreviousRenameSuggestion(): void;\n}\n\nexport class RenameWidget\n\timplements IRenameWidget, IContentWidget, IDisposable\n{\n\t// implement IContentWidget\n\treadonly allowEditorOverflow: boolean = true;\n\n\t// UI state\n\n\tprivate _domNode?: HTMLElement;\n\tprivate _inputWithButton: InputWithButton;\n\tprivate _renameCandidateListView?: RenameCandidateListView;\n\tprivate _label?: HTMLDivElement;\n\n\tprivate _nPxAvailableAbove?: number;\n\tprivate _nPxAvailableBelow?: number;\n\n\t// Model state\n\n\tprivate _position?: Position;\n\tprivate _currentName?: string;\n\t/** Is true if input field got changes when a rename candidate was focused; otherwise, false */\n\tprivate _isEditingRenameCandidate: boolean;\n\n\tprivate readonly _candidates: Set<string>;\n\n\tprivate _visible?: boolean;\n\n\t/** must be reset at session start */\n\tprivate _beforeFirstInputFieldEditSW: StopWatch;\n\n\t/**\n\t * Milliseconds before user edits the input field for the first time\n\t * @remarks must be set once per session\n\t */\n\tprivate _timeBeforeFirstInputFieldEdit: number | undefined;\n\n\tprivate _nRenameSuggestionsInvocations: number;\n\n\tprivate _hadAutomaticRenameSuggestionsInvocation: boolean;\n\n\tprivate _renameCandidateProvidersCts: CancellationTokenSource | undefined;\n\tprivate _renameCts: CancellationTokenSource | undefined;\n\n\tprivate readonly _visibleContextKey: IContextKey<boolean>;\n\tprivate readonly _disposables = new DisposableStore();\n\n\tconstructor(\n\t\tprivate readonly _editor: ICodeEditor,\n\t\tprivate readonly _acceptKeybindings: [string, string],\n\t\t@IThemeService private readonly _themeService: IThemeService,\n\t\t@IKeybindingService\n\t\tprivate readonly _keybindingService: IKeybindingService,\n\t\t@IContextKeyService contextKeyService: IContextKeyService,\n\t\t@ILogService private readonly _logService: ILogService,\n\t) {\n\t\tthis._visibleContextKey =\n\t\t\tCONTEXT_RENAME_INPUT_VISIBLE.bindTo(contextKeyService);\n\n\t\tthis._isEditingRenameCandidate = false;\n\n\t\tthis._nRenameSuggestionsInvocations = 0;\n\n\t\tthis._hadAutomaticRenameSuggestionsInvocation = false;\n\n\t\tthis._candidates = new Set();\n\n\t\tthis._beforeFirstInputFieldEditSW = new StopWatch();\n\n\t\tthis._inputWithButton = new InputWithButton();\n\t\tthis._disposables.add(this._inputWithButton);\n\n\t\tthis._editor.addContentWidget(this);\n\n\t\tthis._disposables.add(\n\t\t\tthis._editor.onDidChangeConfiguration((e) => {\n\t\t\t\tif (e.hasChanged(EditorOption.fontInfo)) {\n\t\t\t\t\tthis._updateFont();\n\t\t\t\t}\n\t\t\t}),\n\t\t);\n\n\t\tthis._disposables.add(\n\t\t\t_themeService.onDidColorThemeChange(this._updateStyles, this),\n\t\t);\n\t}\n\n\tdispose(): void {\n\t\tthis._disposables.dispose();\n\t\tthis._editor.removeContentWidget(this);\n\t}\n\n\tgetId(): string {\n\t\treturn \"__renameInputWidget\";\n\t}\n\n\tgetDomNode(): HTMLElement {\n\t\tif (!this._domNode) {\n\t\t\tthis._domNode = document.createElement(\"div\");\n\t\t\tthis._domNode.className = \"monaco-editor rename-box\";\n\n\t\t\tthis._domNode.appendChild(this._inputWithButton.domNode);\n\n\t\t\tthis._renameCandidateListView = this._disposables.add(\n\t\t\t\tnew RenameCandidateListView(this._domNode, {\n\t\t\t\t\tfontInfo: this._editor.getOption(EditorOption.fontInfo),\n\t\t\t\t\tonFocusChange: (newSymbolName: string) => {\n\t\t\t\t\t\tthis._inputWithButton.input.value = newSymbolName;\n\t\t\t\t\t\tthis._isEditingRenameCandidate = false; // @ulugbekna: reset\n\t\t\t\t\t},\n\t\t\t\t\tonSelectionChange: () => {\n\t\t\t\t\t\tthis._isEditingRenameCandidate = false; // @ulugbekna: because user picked a rename suggestion\n\t\t\t\t\t\tthis.acceptInput(false); // we don't allow preview with mouse click for now\n\t\t\t\t\t},\n\t\t\t\t}),\n\t\t\t);\n\n\t\t\tthis._disposables.add(\n\t\t\t\tthis._inputWithButton.onDidInputChange(() => {\n\t\t\t\t\tif (\n\t\t\t\t\t\tthis._renameCandidateListView?.focusedCandidate !==\n\t\t\t\t\t\tundefined\n\t\t\t\t\t) {\n\t\t\t\t\t\tthis._isEditingRenameCandidate = true;\n\t\t\t\t\t}\n\t\t\t\t\tthis._timeBeforeFirstInputFieldEdit ??=\n\t\t\t\t\t\tthis._beforeFirstInputFieldEditSW.elapsed();\n\t\t\t\t\tif (\n\t\t\t\t\t\tthis._renameCandidateProvidersCts?.token\n\t\t\t\t\t\t\t.isCancellationRequested === false\n\t\t\t\t\t) {\n\t\t\t\t\t\tthis._renameCandidateProvidersCts.cancel();\n\t\t\t\t\t}\n\t\t\t\t\tthis._renameCandidateListView?.clearFocus();\n\t\t\t\t}),\n\t\t\t);\n\n\t\t\tthis._label = document.createElement(\"div\");\n\t\t\tthis._label.className = \"rename-label\";\n\t\t\tthis._domNode.appendChild(this._label);\n\n\t\t\tthis._updateFont();\n\t\t\tthis._updateStyles(this._themeService.getColorTheme());\n\t\t}\n\t\treturn this._domNode;\n\t}\n\n\tprivate _updateStyles(theme: IColorTheme): void {\n\t\tif (!this._domNode) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst widgetShadowColor = theme.getColor(widgetShadow);\n\t\tconst widgetBorderColor = theme.getColor(widgetBorder);\n\t\tthis._domNode.style.backgroundColor = String(\n\t\t\ttheme.getColor(editorWidgetBackground) ?? \"\",\n\t\t);\n\t\tthis._domNode.style.boxShadow = widgetShadowColor\n\t\t\t? ` 0 0 8px 2px ${widgetShadowColor}`\n\t\t\t: \"\";\n\t\tthis._domNode.style.border = widgetBorderColor\n\t\t\t? `1px solid ${widgetBorderColor}`\n\t\t\t: \"\";\n\t\tthis._domNode.style.color = String(\n\t\t\ttheme.getColor(inputForeground) ?? \"\",\n\t\t);\n\n\t\tconst border = theme.getColor(inputBorder);\n\n\t\tthis._inputWithButton.domNode.style.backgroundColor = String(\n\t\t\ttheme.getColor(inputBackground) ?? \"\",\n\t\t);\n\t\tthis._inputWithButton.input.style.backgroundColor = String(\n\t\t\ttheme.getColor(inputBackground) ?? \"\",\n\t\t);\n\t\tthis._inputWithButton.domNode.style.borderWidth = border\n\t\t\t? \"1px\"\n\t\t\t: \"0px\";\n\t\tthis._inputWithButton.domNode.style.borderStyle = border\n\t\t\t? \"solid\"\n\t\t\t: \"none\";\n\t\tthis._inputWithButton.domNode.style.borderColor =\n\t\t\tborder?.toString() ?? \"none\";\n\t}\n\n\tprivate _updateFont(): void {\n\t\tif (this._domNode === undefined) {\n\t\t\treturn;\n\t\t}\n\t\tassertType(\n\t\t\tthis._label !== undefined,\n\t\t\t\"RenameWidget#_updateFont: _label must not be undefined given _domNode is defined\",\n\t\t);\n\n\t\tthis._editor.applyFontInfo(this._inputWithButton.input);\n\n\t\tconst fontInfo = this._editor.getOption(EditorOption.fontInfo);\n\t\tthis._label.style.fontSize = `${this._computeLabelFontSize(fontInfo.fontSize)}px`;\n\t}\n\n\tprivate _computeLabelFontSize(editorFontSize: number) {\n\t\treturn editorFontSize * 0.8;\n\t}\n\n\tgetPosition(): IContentWidgetPosition | null {\n\t\tif (!this._visible) {\n\t\t\treturn null;\n\t\t}\n\n\t\tif (\n\t\t\t!this._editor.hasModel() || // @ulugbekna: shouldn't happen\n\t\t\t!this._editor.getDomNode() // @ulugbekna: can happen during tests based on suggestWidget's similar predicate check\n\t\t) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst bodyBox = dom.getClientArea(this.getDomNode().ownerDocument.body);\n\t\tconst editorBox = dom.getDomNodePagePosition(this._editor.getDomNode());\n\n\t\tconst cursorBoxTop = this._getTopForPosition();\n\n\t\tthis._nPxAvailableAbove = cursorBoxTop + editorBox.top;\n\t\tthis._nPxAvailableBelow = bodyBox.height - this._nPxAvailableAbove;\n\n\t\tconst lineHeight = this._editor.getOption(EditorOption.lineHeight);\n\t\tconst { totalHeight: candidateViewHeight } =\n\t\t\tRenameCandidateView.getLayoutInfo({ lineHeight });\n\n\t\tconst positionPreference =\n\t\t\tthis._nPxAvailableBelow >\n\t\t\tcandidateViewHeight *\n\t\t\t\t6 /* approximate # of candidates to fit in (inclusive of rename input box & rename label) */\n\t\t\t\t? [\n\t\t\t\t\t\tContentWidgetPositionPreference.BELOW,\n\t\t\t\t\t\tContentWidgetPositionPreference.ABOVE,\n\t\t\t\t\t]\n\t\t\t\t: [\n\t\t\t\t\t\tContentWidgetPositionPreference.ABOVE,\n\t\t\t\t\t\tContentWidgetPositionPreference.BELOW,\n\t\t\t\t\t];\n\n\t\treturn {\n\t\t\tposition: this._position!,\n\t\t\tpreference: positionPreference,\n\t\t};\n\t}\n\n\tbeforeRender(): IDimension | null {\n\t\tconst [accept, preview] = this._acceptKeybindings;\n\t\tthis._label!.innerText = nls.localize(\n\t\t\t{\n\t\t\t\tkey: \"label\",\n\t\t\t\tcomment: [\n\t\t\t\t\t'placeholders are keybindings, e.g \"F2 to Rename, Shift+F2 to Preview\"',\n\t\t\t\t],\n\t\t\t},\n\t\t\t\"{0} to Rename, {1} to Preview\",\n\t\t\tthis._keybindingService.lookupKeybinding(accept)?.getLabel(),\n\t\t\tthis._keybindingService.lookupKeybinding(preview)?.getLabel(),\n\t\t);\n\n\t\tthis._domNode!.style.minWidth = `200px`; // to prevent from widening when candidates come in\n\n\t\treturn null;\n\t}\n\n\tafterRender(position: ContentWidgetPositionPreference | null): void {\n\t\t// FIXME@ulugbekna: commenting trace log out until we start unmounting the widget from editor properly - https://github.com/microsoft/vscode/issues/226975\n\t\t// this._trace('invoking afterRender, position: ', position ? 'not null' : 'null');\n\t\tif (position === null) {\n\t\t\t// cancel rename when input widget isn't rendered anymore\n\t\t\tthis.cancelInput(true, \"afterRender (because position is null)\");\n\t\t\treturn;\n\t\t}\n\n\t\tif (\n\t\t\t!this._editor.hasModel() || // shouldn't happen\n\t\t\t!this._editor.getDomNode() // can happen during tests based on suggestWidget's similar predicate check\n\t\t) {\n\t\t\treturn;\n\t\t}\n\n\t\tassertType(this._renameCandidateListView);\n\t\tassertType(this._nPxAvailableAbove !== undefined);\n\t\tassertType(this._nPxAvailableBelow !== undefined);\n\n\t\tconst inputBoxHeight = dom.getTotalHeight(\n\t\t\tthis._inputWithButton.domNode,\n\t\t);\n\n\t\tconst labelHeight = dom.getTotalHeight(this._label!);\n\n\t\tlet totalHeightAvailable: number;\n\t\tif (position === ContentWidgetPositionPreference.BELOW) {\n\t\t\ttotalHeightAvailable = this._nPxAvailableBelow;\n\t\t} else {\n\t\t\ttotalHeightAvailable = this._nPxAvailableAbove;\n\t\t}\n\n\t\tthis._renameCandidateListView!.layout({\n\t\t\theight: totalHeightAvailable - labelHeight - inputBoxHeight,\n\t\t\twidth: dom.getTotalWidth(this._inputWithButton.domNode),\n\t\t});\n\t}\n\n\tprivate _currentAcceptInput?: (wantsPreview: boolean) => void;\n\tprivate _currentCancelInput?: (focusEditor: boolean) => void;\n\tprivate _requestRenameCandidatesOnce?: (\n\t\ttriggerKind: NewSymbolNameTriggerKind,\n\t\tcts: CancellationToken,\n\t) => ProviderResult<NewSymbolName[]>[];\n\n\tacceptInput(wantsPreview: boolean): void {\n\t\tthis._trace(`invoking acceptInput`);\n\t\tthis._currentAcceptInput?.(wantsPreview);\n\t}\n\n\tcancelInput(focusEditor: boolean, caller: string): void {\n\t\t// this._trace(`invoking cancelInput, caller: ${caller}, _currentCancelInput: ${this._currentAcceptInput ? 'not undefined' : 'undefined'}`);\n\t\tthis._currentCancelInput?.(focusEditor);\n\t}\n\n\tfocusNextRenameSuggestion() {\n\t\tif (!this._renameCandidateListView?.focusNext()) {\n\t\t\tthis._inputWithButton.input.value = this._currentName!;\n\t\t}\n\t}\n\n\tfocusPreviousRenameSuggestion() {\n\t\t// TODO@ulugbekna: this and focusNext should set the original name if no candidate is focused\n\t\tif (!this._renameCandidateListView?.focusPrevious()) {\n\t\t\tthis._inputWithButton.input.value = this._currentName!;\n\t\t}\n\t}\n\n\t/**\n\t * @param requestRenameCandidates is `undefined` when there are no rename suggestion providers\n\t */\n\tgetInput(\n\t\twhere: IRange,\n\t\tcurrentName: string,\n\t\tsupportPreview: boolean,\n\t\trequestRenameCandidates:\n\t\t\t| undefined\n\t\t\t| ((\n\t\t\t\t\ttriggerKind: NewSymbolNameTriggerKind,\n\t\t\t\t\tcts: CancellationToken,\n\t\t\t  ) => ProviderResult<NewSymbolName[]>[]),\n\t\tcts: CancellationTokenSource,\n\t): Promise<RenameWidgetResult | boolean> {\n\t\tconst { start: selectionStart, end: selectionEnd } = this._getSelection(\n\t\t\twhere,\n\t\t\tcurrentName,\n\t\t);\n\n\t\tthis._renameCts = cts;\n\n\t\tconst disposeOnDone = new DisposableStore();\n\n\t\tthis._nRenameSuggestionsInvocations = 0;\n\n\t\tthis._hadAutomaticRenameSuggestionsInvocation = false;\n\n\t\tif (requestRenameCandidates === undefined) {\n\t\t\tthis._inputWithButton.button.style.display = \"none\";\n\t\t} else {\n\t\t\tthis._inputWithButton.button.style.display = \"flex\";\n\n\t\t\tthis._requestRenameCandidatesOnce = requestRenameCandidates;\n\n\t\t\tthis._requestRenameCandidates(currentName, false);\n\n\t\t\tdisposeOnDone.add(\n\t\t\t\tdom.addDisposableListener(\n\t\t\t\t\tthis._inputWithButton.button,\n\t\t\t\t\t\"click\",\n\t\t\t\t\t() => this._requestRenameCandidates(currentName, true),\n\t\t\t\t),\n\t\t\t);\n\t\t\tdisposeOnDone.add(\n\t\t\t\tdom.addDisposableListener(\n\t\t\t\t\tthis._inputWithButton.button,\n\t\t\t\t\tdom.EventType.KEY_DOWN,\n\t\t\t\t\t(e) => {\n\t\t\t\t\t\tconst keyEvent = new StandardKeyboardEvent(e);\n\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tkeyEvent.equals(KeyCode.Enter) ||\n\t\t\t\t\t\t\tkeyEvent.equals(KeyCode.Space)\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tkeyEvent.stopPropagation();\n\t\t\t\t\t\t\tkeyEvent.preventDefault();\n\t\t\t\t\t\t\tthis._requestRenameCandidates(currentName, true);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t),\n\t\t\t);\n\t\t}\n\n\t\tthis._isEditingRenameCandidate = false;\n\n\t\tthis._domNode!.classList.toggle(\"preview\", supportPreview);\n\n\t\tthis._position = new Position(where.startLineNumber, where.startColumn);\n\t\tthis._currentName = currentName;\n\n\t\tthis._inputWithButton.input.value = currentName;\n\t\tthis._inputWithButton.input.setAttribute(\n\t\t\t\"selectionStart\",\n\t\t\tselectionStart.toString(),\n\t\t);\n\t\tthis._inputWithButton.input.setAttribute(\n\t\t\t\"selectionEnd\",\n\t\t\tselectionEnd.toString(),\n\t\t);\n\t\tthis._inputWithButton.input.size = Math.max(\n\t\t\t(where.endColumn - where.startColumn) * 1.1,\n\t\t\t20,\n\t\t); // determines width\n\n\t\tthis._beforeFirstInputFieldEditSW.reset();\n\n\t\tdisposeOnDone.add(\n\t\t\ttoDisposable(() => {\n\t\t\t\tthis._renameCts = undefined;\n\t\t\t\tcts.dispose(true);\n\t\t\t}),\n\t\t); // @ulugbekna: this may result in `this.cancelInput` being called twice, but it should be safe since we set it to undefined after 1st call\n\t\tdisposeOnDone.add(\n\t\t\ttoDisposable(() => {\n\t\t\t\tif (this._renameCandidateProvidersCts !== undefined) {\n\t\t\t\t\tthis._renameCandidateProvidersCts.dispose(true);\n\t\t\t\t\tthis._renameCandidateProvidersCts = undefined;\n\t\t\t\t}\n\t\t\t}),\n\t\t);\n\n\t\tdisposeOnDone.add(toDisposable(() => this._candidates.clear()));\n\n\t\tconst inputResult = new DeferredPromise<RenameWidgetResult | boolean>();\n\n\t\tinputResult.p.finally(() => {\n\t\t\tdisposeOnDone.dispose();\n\t\t\tthis._hide();\n\t\t});\n\n\t\tthis._currentCancelInput = (focusEditor) => {\n\t\t\tthis._trace(\"invoking _currentCancelInput\");\n\t\t\tthis._currentAcceptInput = undefined;\n\t\t\tthis._currentCancelInput = undefined;\n\t\t\t// fixme session cleanup\n\t\t\tthis._renameCandidateListView?.clearCandidates();\n\t\t\tinputResult.complete(focusEditor);\n\t\t\treturn true;\n\t\t};\n\n\t\tthis._currentAcceptInput = (wantsPreview) => {\n\t\t\tthis._trace(\"invoking _currentAcceptInput\");\n\t\t\tassertType(this._renameCandidateListView !== undefined);\n\n\t\t\tconst nRenameSuggestions =\n\t\t\t\tthis._renameCandidateListView.nCandidates;\n\n\t\t\tlet newName: string;\n\t\t\tlet source: NewNameSource;\n\t\t\tconst focusedCandidate =\n\t\t\t\tthis._renameCandidateListView.focusedCandidate;\n\t\t\tif (focusedCandidate !== undefined) {\n\t\t\t\tthis._trace(\"using new name from renameSuggestion\");\n\t\t\t\tnewName = focusedCandidate;\n\t\t\t\tsource = { k: \"renameSuggestion\" };\n\t\t\t} else {\n\t\t\t\tthis._trace(\"using new name from inputField\");\n\t\t\t\tnewName = this._inputWithButton.input.value;\n\t\t\t\tsource = this._isEditingRenameCandidate\n\t\t\t\t\t? { k: \"userEditedRenameSuggestion\" }\n\t\t\t\t\t: { k: \"inputField\" };\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\tnewName === currentName ||\n\t\t\t\tnewName.trim().length === 0 /* is just whitespace */\n\t\t\t) {\n\t\t\t\tthis.cancelInput(\n\t\t\t\t\ttrue,\n\t\t\t\t\t\"_currentAcceptInput (because newName === value || newName.trim().length === 0)\",\n\t\t\t\t);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis._currentAcceptInput = undefined;\n\t\t\tthis._currentCancelInput = undefined;\n\t\t\tthis._renameCandidateListView.clearCandidates();\n\t\t\t// fixme session cleanup\n\n\t\t\tinputResult.complete({\n\t\t\t\tnewName,\n\t\t\t\twantsPreview: supportPreview && wantsPreview,\n\t\t\t\tstats: {\n\t\t\t\t\tsource,\n\t\t\t\t\tnRenameSuggestions,\n\t\t\t\t\ttimeBeforeFirstInputFieldEdit:\n\t\t\t\t\t\tthis._timeBeforeFirstInputFieldEdit,\n\t\t\t\t\tnRenameSuggestionsInvocations:\n\t\t\t\t\t\tthis._nRenameSuggestionsInvocations,\n\t\t\t\t\thadAutomaticRenameSuggestionsInvocation:\n\t\t\t\t\t\tthis._hadAutomaticRenameSuggestionsInvocation,\n\t\t\t\t},\n\t\t\t});\n\t\t};\n\n\t\tdisposeOnDone.add(\n\t\t\tcts.token.onCancellationRequested(() =>\n\t\t\t\tthis.cancelInput(true, \"cts.token.onCancellationRequested\"),\n\t\t\t),\n\t\t);\n\t\tif (!_sticky) {\n\t\t\tdisposeOnDone.add(\n\t\t\t\tthis._editor.onDidBlurEditorWidget(() =>\n\t\t\t\t\tthis.cancelInput(\n\t\t\t\t\t\t!this._domNode?.ownerDocument.hasFocus(),\n\t\t\t\t\t\t\"editor.onDidBlurEditorWidget\",\n\t\t\t\t\t),\n\t\t\t\t),\n\t\t\t);\n\t\t}\n\n\t\tthis._show();\n\n\t\treturn inputResult.p;\n\t}\n\n\tprivate _requestRenameCandidates(\n\t\tcurrentName: string,\n\t\tisManuallyTriggered: boolean,\n\t) {\n\t\tif (this._requestRenameCandidatesOnce === undefined) {\n\t\t\treturn;\n\t\t}\n\t\tif (this._renameCandidateProvidersCts !== undefined) {\n\t\t\tthis._renameCandidateProvidersCts.dispose(true);\n\t\t}\n\n\t\tassertType(this._renameCts);\n\n\t\tif (this._inputWithButton.buttonState !== \"stop\") {\n\t\t\tthis._renameCandidateProvidersCts = new CancellationTokenSource();\n\n\t\t\tconst triggerKind = isManuallyTriggered\n\t\t\t\t? NewSymbolNameTriggerKind.Invoke\n\t\t\t\t: NewSymbolNameTriggerKind.Automatic;\n\t\t\tconst candidates = this._requestRenameCandidatesOnce(\n\t\t\t\ttriggerKind,\n\t\t\t\tthis._renameCandidateProvidersCts.token,\n\t\t\t);\n\n\t\t\tif (candidates.length === 0) {\n\t\t\t\tthis._inputWithButton.setSparkleButton();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (!isManuallyTriggered) {\n\t\t\t\tthis._hadAutomaticRenameSuggestionsInvocation = true;\n\t\t\t}\n\n\t\t\tthis._nRenameSuggestionsInvocations += 1;\n\n\t\t\tthis._inputWithButton.setStopButton();\n\n\t\t\tthis._updateRenameCandidates(\n\t\t\t\tcandidates,\n\t\t\t\tcurrentName,\n\t\t\t\tthis._renameCts.token,\n\t\t\t);\n\t\t}\n\t}\n\n\t/**\n\t * This allows selecting only part of the symbol name in the input field based on the selection in the editor\n\t */\n\tprivate _getSelection(\n\t\twhere: IRange,\n\t\tcurrentName: string,\n\t): { start: number; end: number } {\n\t\tassertType(this._editor.hasModel());\n\n\t\tconst selection = this._editor.getSelection();\n\t\tlet start = 0;\n\t\tlet end = currentName.length;\n\n\t\tif (\n\t\t\t!Range.isEmpty(selection) &&\n\t\t\t!Range.spansMultipleLines(selection) &&\n\t\t\tRange.containsRange(where, selection)\n\t\t) {\n\t\t\tstart = Math.max(0, selection.startColumn - where.startColumn);\n\t\t\tend =\n\t\t\t\tMath.min(where.endColumn, selection.endColumn) -\n\t\t\t\twhere.startColumn;\n\t\t}\n\n\t\treturn { start, end };\n\t}\n\n\tprivate _show(): void {\n\t\tthis._trace(\"invoking _show\");\n\t\tthis._editor.revealLineInCenterIfOutsideViewport(\n\t\t\tthis._position!.lineNumber,\n\t\t\tScrollType.Smooth,\n\t\t);\n\t\tthis._visible = true;\n\t\tthis._visibleContextKey.set(true);\n\t\tthis._editor.layoutContentWidget(this);\n\n\t\t// TODO@ulugbekna: could this be simply run in `afterRender`?\n\t\tsetTimeout(() => {\n\t\t\tthis._inputWithButton.input.focus();\n\t\t\tthis._inputWithButton.input.setSelectionRange(\n\t\t\t\tNumber.parseInt(\n\t\t\t\t\tthis._inputWithButton.input.getAttribute(\"selectionStart\")!,\n\t\t\t\t),\n\t\t\t\tNumber.parseInt(\n\t\t\t\t\tthis._inputWithButton.input.getAttribute(\"selectionEnd\")!,\n\t\t\t\t),\n\t\t\t);\n\t\t}, 100);\n\t}\n\n\tprivate async _updateRenameCandidates(\n\t\tcandidates: ProviderResult<NewSymbolName[]>[],\n\t\tcurrentName: string,\n\t\ttoken: CancellationToken,\n\t) {\n\t\tconst trace = (...args: any[]) =>\n\t\t\tthis._trace(\"_updateRenameCandidates\", ...args);\n\n\t\ttrace(\"start\");\n\t\tconst namesListResults = await raceCancellation(\n\t\t\tPromise.allSettled(candidates),\n\t\t\ttoken,\n\t\t);\n\n\t\tthis._inputWithButton.setSparkleButton();\n\n\t\tif (namesListResults === undefined) {\n\t\t\ttrace(\n\t\t\t\t\"returning early - received updateRenameCandidates results - undefined\",\n\t\t\t);\n\t\t\treturn;\n\t\t}\n\n\t\tconst newNames = namesListResults.flatMap((namesListResult) =>\n\t\t\tnamesListResult.status === \"fulfilled\" &&\n\t\t\tisDefined(namesListResult.value)\n\t\t\t\t? namesListResult.value\n\t\t\t\t: [],\n\t\t);\n\t\ttrace(\n\t\t\t`received updateRenameCandidates results - total (unfiltered) ${newNames.length} candidates.`,\n\t\t);\n\n\t\t// deduplicate and filter out the current value\n\n\t\tconst distinctNames = arrays.distinct(newNames, (v) => v.newSymbolName);\n\t\ttrace(`distinct candidates - ${distinctNames.length} candidates.`);\n\n\t\tconst validDistinctNames = distinctNames.filter(\n\t\t\t({ newSymbolName }) =>\n\t\t\t\tnewSymbolName.trim().length > 0 &&\n\t\t\t\tnewSymbolName !== this._inputWithButton.input.value &&\n\t\t\t\tnewSymbolName !== currentName &&\n\t\t\t\t!this._candidates.has(newSymbolName),\n\t\t);\n\t\ttrace(`valid distinct candidates - ${newNames.length} candidates.`);\n\n\t\tvalidDistinctNames.forEach((n) =>\n\t\t\tthis._candidates.add(n.newSymbolName),\n\t\t);\n\n\t\tif (validDistinctNames.length < 1) {\n\t\t\ttrace(\"returning early - no valid distinct candidates\");\n\t\t\treturn;\n\t\t}\n\n\t\t// show the candidates\n\t\ttrace(\"setting candidates\");\n\t\tthis._renameCandidateListView!.setCandidates(validDistinctNames);\n\n\t\t// ask editor to re-layout given that the widget is now of a different size after rendering rename candidates\n\t\ttrace(\"asking editor to re-layout\");\n\t\tthis._editor.layoutContentWidget(this);\n\t}\n\n\tprivate _hide(): void {\n\t\tthis._trace(\"invoked _hide\");\n\t\tthis._visible = false;\n\t\tthis._visibleContextKey.reset();\n\t\tthis._editor.layoutContentWidget(this);\n\t}\n\n\tprivate _getTopForPosition(): number {\n\t\tconst visibleRanges = this._editor.getVisibleRanges();\n\t\tlet firstLineInViewport: number;\n\t\tif (visibleRanges.length > 0) {\n\t\t\tfirstLineInViewport = visibleRanges[0].startLineNumber;\n\t\t} else {\n\t\t\tthis._logService.warn(\n\t\t\t\t\"RenameWidget#_getTopForPosition: this should not happen - visibleRanges is empty\",\n\t\t\t);\n\t\t\tfirstLineInViewport = Math.max(1, this._position!.lineNumber - 5); // @ulugbekna: fallback to current line minus 5\n\t\t}\n\t\treturn (\n\t\t\tthis._editor.getTopForLineNumber(this._position!.lineNumber) -\n\t\t\tthis._editor.getTopForLineNumber(firstLineInViewport)\n\t\t);\n\t}\n\n\tprivate _trace(...args: unknown[]) {\n\t\tthis._logService.trace(\"RenameWidget\", ...args);\n\t}\n}\n\nclass RenameCandidateListView {\n\t/** Parent node of the list widget; needed to control # of list elements visible */\n\tprivate readonly _listContainer: HTMLDivElement;\n\tprivate readonly _listWidget: List<NewSymbolName>;\n\n\tprivate _lineHeight: number;\n\tprivate _availableHeight: number;\n\tprivate _minimumWidth: number;\n\tprivate _typicalHalfwidthCharacterWidth: number;\n\n\tprivate readonly _disposables: DisposableStore;\n\n\t// FIXME@ulugbekna: rewrite using event emitters\n\tconstructor(\n\t\tparent: HTMLElement,\n\t\topts: {\n\t\t\tfontInfo: FontInfo;\n\t\t\tonFocusChange: (newSymbolName: string) => void;\n\t\t\tonSelectionChange: () => void;\n\t\t},\n\t) {\n\t\tthis._disposables = new DisposableStore();\n\n\t\tthis._availableHeight = 0;\n\t\tthis._minimumWidth = 0;\n\n\t\tthis._lineHeight = opts.fontInfo.lineHeight;\n\t\tthis._typicalHalfwidthCharacterWidth =\n\t\t\topts.fontInfo.typicalHalfwidthCharacterWidth;\n\n\t\tthis._listContainer = document.createElement(\"div\");\n\t\tthis._listContainer.className =\n\t\t\t\"rename-box rename-candidate-list-container\";\n\t\tparent.appendChild(this._listContainer);\n\n\t\tthis._listWidget = RenameCandidateListView._createListWidget(\n\t\t\tthis._listContainer,\n\t\t\tthis._candidateViewHeight,\n\t\t\topts.fontInfo,\n\t\t);\n\n\t\tthis._listWidget.onDidChangeFocus((e) => {\n\t\t\tif (e.elements.length === 1) {\n\t\t\t\topts.onFocusChange(e.elements[0].newSymbolName);\n\t\t\t}\n\t\t}, this._disposables);\n\n\t\tthis._listWidget.onDidChangeSelection((e) => {\n\t\t\tif (e.elements.length === 1) {\n\t\t\t\topts.onSelectionChange();\n\t\t\t}\n\t\t}, this._disposables);\n\n\t\tthis._disposables.add(\n\t\t\tthis._listWidget.onDidBlur((e) => {\n\t\t\t\t// @ulugbekna: because list widget otherwise remembers last focused element and returns it as focused element\n\t\t\t\tthis._listWidget.setFocus([]);\n\t\t\t}),\n\t\t);\n\n\t\tthis._listWidget.style(\n\t\t\tgetListStyles({\n\t\t\t\tlistInactiveFocusForeground: quickInputListFocusForeground,\n\t\t\t\tlistInactiveFocusBackground: quickInputListFocusBackground,\n\t\t\t}),\n\t\t);\n\t}\n\n\tdispose() {\n\t\tthis._listWidget.dispose();\n\t\tthis._disposables.dispose();\n\t}\n\n\t// height - max height allowed by parent element\n\tpublic layout({ height, width }: { height: number; width: number }): void {\n\t\tthis._availableHeight = height;\n\t\tthis._minimumWidth = width;\n\t}\n\n\tpublic setCandidates(candidates: NewSymbolName[]): void {\n\t\t// insert candidates into list widget\n\t\tthis._listWidget.splice(0, 0, candidates);\n\n\t\t// adjust list widget layout\n\t\tconst height = this._pickListHeight(this._listWidget.length);\n\t\tconst width = this._pickListWidth(candidates);\n\n\t\tthis._listWidget.layout(height, width);\n\n\t\t// adjust list container layout\n\t\tthis._listContainer.style.height = `${height}px`;\n\t\tthis._listContainer.style.width = `${width}px`;\n\n\t\taria.status(\n\t\t\tnls.localize(\n\t\t\t\t\"renameSuggestionsReceivedAria\",\n\t\t\t\t\"Received {0} rename suggestions\",\n\t\t\t\tcandidates.length,\n\t\t\t),\n\t\t);\n\t}\n\n\tpublic clearCandidates(): void {\n\t\tthis._listContainer.style.height = \"0px\";\n\t\tthis._listContainer.style.width = \"0px\";\n\t\tthis._listWidget.splice(0, this._listWidget.length, []);\n\t}\n\n\tpublic get nCandidates() {\n\t\treturn this._listWidget.length;\n\t}\n\n\tpublic get focusedCandidate(): string | undefined {\n\t\tif (this._listWidget.length === 0) {\n\t\t\treturn;\n\t\t}\n\t\tconst selectedElement = this._listWidget.getSelectedElements()[0];\n\t\tif (selectedElement !== undefined) {\n\t\t\treturn selectedElement.newSymbolName;\n\t\t}\n\t\tconst focusedElement = this._listWidget.getFocusedElements()[0];\n\t\tif (focusedElement !== undefined) {\n\t\t\treturn focusedElement.newSymbolName;\n\t\t}\n\t\treturn;\n\t}\n\n\tpublic focusNext(): boolean {\n\t\tif (this._listWidget.length === 0) {\n\t\t\treturn false;\n\t\t}\n\t\tconst focusedIxs = this._listWidget.getFocus();\n\t\tif (focusedIxs.length === 0) {\n\t\t\tthis._listWidget.focusFirst();\n\t\t\tthis._listWidget.reveal(0);\n\t\t\treturn true;\n\t\t} else if (focusedIxs[0] === this._listWidget.length - 1) {\n\t\t\tthis._listWidget.setFocus([]);\n\t\t\tthis._listWidget.reveal(0); // @ulugbekna: without this, it seems like focused element is obstructed\n\t\t\treturn false;\n\t\t} else {\n\t\t\tthis._listWidget.focusNext();\n\t\t\tconst focused = this._listWidget.getFocus()[0];\n\t\t\tthis._listWidget.reveal(focused);\n\t\t\treturn true;\n\t\t}\n\t}\n\n\t/**\n\t * @returns true if focus is moved to previous element\n\t */\n\tpublic focusPrevious(): boolean {\n\t\tif (this._listWidget.length === 0) {\n\t\t\treturn false;\n\t\t}\n\t\tconst focusedIxs = this._listWidget.getFocus();\n\t\tif (focusedIxs.length === 0) {\n\t\t\tthis._listWidget.focusLast();\n\t\t\tconst focused = this._listWidget.getFocus()[0];\n\t\t\tthis._listWidget.reveal(focused);\n\t\t\treturn true;\n\t\t} else if (focusedIxs[0] === 0) {\n\t\t\tthis._listWidget.setFocus([]);\n\t\t\treturn false;\n\t\t} else {\n\t\t\tthis._listWidget.focusPrevious();\n\t\t\tconst focused = this._listWidget.getFocus()[0];\n\t\t\tthis._listWidget.reveal(focused);\n\t\t\treturn true;\n\t\t}\n\t}\n\n\tpublic clearFocus(): void {\n\t\tthis._listWidget.setFocus([]);\n\t}\n\n\tprivate get _candidateViewHeight(): number {\n\t\tconst { totalHeight } = RenameCandidateView.getLayoutInfo({\n\t\t\tlineHeight: this._lineHeight,\n\t\t});\n\t\treturn totalHeight;\n\t}\n\n\tprivate _pickListHeight(nCandidates: number) {\n\t\tconst heightToFitAllCandidates =\n\t\t\tthis._candidateViewHeight * nCandidates;\n\t\tconst MAX_N_CANDIDATES = 7; // @ulugbekna: max # of candidates we want to show at once\n\t\tconst height = Math.min(\n\t\t\theightToFitAllCandidates,\n\t\t\tthis._availableHeight,\n\t\t\tthis._candidateViewHeight * MAX_N_CANDIDATES,\n\t\t);\n\t\treturn height;\n\t}\n\n\tprivate _pickListWidth(candidates: NewSymbolName[]): number {\n\t\tconst longestCandidateWidth = Math.ceil(\n\t\t\tMath.max(...candidates.map((c) => c.newSymbolName.length)) *\n\t\t\t\tthis._typicalHalfwidthCharacterWidth,\n\t\t);\n\t\tconst width = Math.max(\n\t\t\tthis._minimumWidth,\n\t\t\t4 /* padding */ +\n\t\t\t\t16 /* sparkle icon */ +\n\t\t\t\t5 /* margin-left */ +\n\t\t\t\tlongestCandidateWidth +\n\t\t\t\t10 /* (possibly visible) scrollbar width */, // TODO@ulugbekna: approximate calc - clean this up\n\t\t);\n\t\treturn width;\n\t}\n\n\tprivate static _createListWidget(\n\t\tcontainer: HTMLElement,\n\t\tcandidateViewHeight: number,\n\t\tfontInfo: FontInfo,\n\t) {\n\t\tconst virtualDelegate = new (class\n\t\t\timplements IListVirtualDelegate<NewSymbolName>\n\t\t{\n\t\t\tgetTemplateId(element: NewSymbolName): string {\n\t\t\t\treturn \"candidate\";\n\t\t\t}\n\n\t\t\tgetHeight(element: NewSymbolName): number {\n\t\t\t\treturn candidateViewHeight;\n\t\t\t}\n\t\t})();\n\n\t\tconst renderer = new (class\n\t\t\timplements IListRenderer<NewSymbolName, RenameCandidateView>\n\t\t{\n\t\t\treadonly templateId = \"candidate\";\n\n\t\t\trenderTemplate(container: HTMLElement): RenameCandidateView {\n\t\t\t\treturn new RenameCandidateView(container, fontInfo);\n\t\t\t}\n\n\t\t\trenderElement(\n\t\t\t\tcandidate: NewSymbolName,\n\t\t\t\tindex: number,\n\t\t\t\ttemplateData: RenameCandidateView,\n\t\t\t): void {\n\t\t\t\ttemplateData.populate(candidate);\n\t\t\t}\n\n\t\t\tdisposeTemplate(templateData: RenameCandidateView): void {\n\t\t\t\ttemplateData.dispose();\n\t\t\t}\n\t\t})();\n\n\t\treturn new List(\n\t\t\t\"NewSymbolNameCandidates\",\n\t\t\tcontainer,\n\t\t\tvirtualDelegate,\n\t\t\t[renderer],\n\t\t\t{\n\t\t\t\tkeyboardSupport: false, // @ulugbekna: because we handle keyboard events through proper commands & keybinding service, see `rename.ts`\n\t\t\t\tmouseSupport: true,\n\t\t\t\tmultipleSelectionSupport: false,\n\t\t\t},\n\t\t);\n\t}\n}\n\nclass InputWithButton implements IDisposable {\n\tprivate _buttonState: \"sparkle\" | \"stop\" | undefined;\n\n\tprivate _domNode: HTMLDivElement | undefined;\n\tprivate _inputNode: HTMLInputElement | undefined;\n\tprivate _buttonNode: HTMLElement | undefined;\n\tprivate _buttonHover: IManagedHover | undefined;\n\tprivate _buttonGenHoverText: string | undefined;\n\tprivate _buttonCancelHoverText: string | undefined;\n\tprivate _sparkleIcon: HTMLElement | undefined;\n\tprivate _stopIcon: HTMLElement | undefined;\n\n\tprivate readonly _onDidInputChange = new Emitter<void>();\n\tpublic readonly onDidInputChange = this._onDidInputChange.event;\n\n\tprivate readonly _disposables = new DisposableStore();\n\n\tget domNode() {\n\t\tif (!this._domNode) {\n\t\t\tthis._domNode = document.createElement(\"div\");\n\t\t\tthis._domNode.className = \"rename-input-with-button\";\n\t\t\tthis._domNode.style.display = \"flex\";\n\t\t\tthis._domNode.style.flexDirection = \"row\";\n\t\t\tthis._domNode.style.alignItems = \"center\";\n\n\t\t\tthis._inputNode = document.createElement(\"input\");\n\t\t\tthis._inputNode.className = \"rename-input\";\n\t\t\tthis._inputNode.type = \"text\";\n\t\t\tthis._inputNode.style.border = \"none\";\n\t\t\tthis._inputNode.setAttribute(\n\t\t\t\t\"aria-label\",\n\t\t\t\tnls.localize(\n\t\t\t\t\t\"renameAriaLabel\",\n\t\t\t\t\t\"Rename input. Type new name and press Enter to commit.\",\n\t\t\t\t),\n\t\t\t);\n\n\t\t\tthis._domNode.appendChild(this._inputNode);\n\n\t\t\tthis._buttonNode = document.createElement(\"div\");\n\t\t\tthis._buttonNode.className = \"rename-suggestions-button\";\n\t\t\tthis._buttonNode.setAttribute(\"tabindex\", \"0\");\n\n\t\t\tthis._buttonGenHoverText = nls.localize(\n\t\t\t\t\"generateRenameSuggestionsButton\",\n\t\t\t\t\"Generate new name suggestions\",\n\t\t\t);\n\t\t\tthis._buttonCancelHoverText = nls.localize(\n\t\t\t\t\"cancelRenameSuggestionsButton\",\n\t\t\t\t\"Cancel\",\n\t\t\t);\n\t\t\tthis._buttonHover = getBaseLayerHoverDelegate().setupManagedHover(\n\t\t\t\tgetDefaultHoverDelegate(\"element\"),\n\t\t\t\tthis._buttonNode,\n\t\t\t\tthis._buttonGenHoverText,\n\t\t\t);\n\t\t\tthis._disposables.add(this._buttonHover);\n\n\t\t\tthis._domNode.appendChild(this._buttonNode);\n\n\t\t\t// notify if selection changes to cancel request to rename-suggestion providers\n\n\t\t\tthis._disposables.add(\n\t\t\t\tdom.addDisposableListener(this.input, dom.EventType.INPUT, () =>\n\t\t\t\t\tthis._onDidInputChange.fire(),\n\t\t\t\t),\n\t\t\t);\n\t\t\tthis._disposables.add(\n\t\t\t\tdom.addDisposableListener(\n\t\t\t\t\tthis.input,\n\t\t\t\t\tdom.EventType.KEY_DOWN,\n\t\t\t\t\t(e) => {\n\t\t\t\t\t\tconst keyEvent = new StandardKeyboardEvent(e);\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tkeyEvent.keyCode === KeyCode.LeftArrow ||\n\t\t\t\t\t\t\tkeyEvent.keyCode === KeyCode.RightArrow\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tthis._onDidInputChange.fire();\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t),\n\t\t\t);\n\t\t\tthis._disposables.add(\n\t\t\t\tdom.addDisposableListener(this.input, dom.EventType.CLICK, () =>\n\t\t\t\t\tthis._onDidInputChange.fire(),\n\t\t\t\t),\n\t\t\t);\n\n\t\t\t// focus \"container\" border instead of input box\n\n\t\t\tthis._disposables.add(\n\t\t\t\tdom.addDisposableListener(\n\t\t\t\t\tthis.input,\n\t\t\t\t\tdom.EventType.FOCUS,\n\t\t\t\t\t() => {\n\t\t\t\t\t\tthis.domNode.style.outlineWidth = \"1px\";\n\t\t\t\t\t\tthis.domNode.style.outlineStyle = \"solid\";\n\t\t\t\t\t\tthis.domNode.style.outlineOffset = \"-1px\";\n\t\t\t\t\t\tthis.domNode.style.outlineColor =\n\t\t\t\t\t\t\t\"var(--vscode-focusBorder)\";\n\t\t\t\t\t},\n\t\t\t\t),\n\t\t\t);\n\t\t\tthis._disposables.add(\n\t\t\t\tdom.addDisposableListener(\n\t\t\t\t\tthis.input,\n\t\t\t\t\tdom.EventType.BLUR,\n\t\t\t\t\t() => {\n\t\t\t\t\t\tthis.domNode.style.outline = \"none\";\n\t\t\t\t\t},\n\t\t\t\t),\n\t\t\t);\n\t\t}\n\t\treturn this._domNode;\n\t}\n\n\tget input() {\n\t\tassertType(this._inputNode);\n\t\treturn this._inputNode;\n\t}\n\n\tget button() {\n\t\tassertType(this._buttonNode);\n\t\treturn this._buttonNode;\n\t}\n\n\tget buttonState() {\n\t\treturn this._buttonState;\n\t}\n\n\tsetSparkleButton() {\n\t\tthis._buttonState = \"sparkle\";\n\t\tthis._sparkleIcon ??= renderIcon(Codicon.sparkle);\n\t\tdom.clearNode(this.button);\n\t\tthis.button.appendChild(this._sparkleIcon);\n\t\tthis.button.setAttribute(\n\t\t\t\"aria-label\",\n\t\t\t\"Generating new name suggestions\",\n\t\t);\n\t\tthis._buttonHover?.update(this._buttonGenHoverText);\n\t\tthis.input.focus();\n\t}\n\n\tsetStopButton() {\n\t\tthis._buttonState = \"stop\";\n\t\tthis._stopIcon ??= renderIcon(Codicon.primitiveSquare);\n\t\tdom.clearNode(this.button);\n\t\tthis.button.appendChild(this._stopIcon);\n\t\tthis.button.setAttribute(\n\t\t\t\"aria-label\",\n\t\t\t\"Cancel generating new name suggestions\",\n\t\t);\n\t\tthis._buttonHover?.update(this._buttonCancelHoverText);\n\t\tthis.input.focus();\n\t}\n\n\tdispose(): void {\n\t\tthis._disposables.dispose();\n\t}\n}\n\nclass RenameCandidateView {\n\tprivate static _PADDING = 2;\n\n\tprivate readonly _domNode: HTMLElement;\n\tprivate readonly _icon: HTMLElement;\n\tprivate readonly _label: HTMLElement;\n\n\tconstructor(parent: HTMLElement, fontInfo: FontInfo) {\n\t\tthis._domNode = document.createElement(\"div\");\n\t\tthis._domNode.className = \"rename-box rename-candidate\";\n\t\tthis._domNode.style.display = `flex`;\n\t\tthis._domNode.style.columnGap = `5px`;\n\t\tthis._domNode.style.alignItems = `center`;\n\t\tthis._domNode.style.height = `${fontInfo.lineHeight}px`;\n\t\tthis._domNode.style.padding = `${RenameCandidateView._PADDING}px`;\n\n\t\t// @ulugbekna: needed to keep space when the `icon.style.display` is set to `none`\n\t\tconst iconContainer = document.createElement(\"div\");\n\t\ticonContainer.style.display = `flex`;\n\t\ticonContainer.style.alignItems = `center`;\n\t\ticonContainer.style.width =\n\t\t\ticonContainer.style.height = `${fontInfo.lineHeight * 0.8}px`;\n\t\tthis._domNode.appendChild(iconContainer);\n\n\t\tthis._icon = renderIcon(Codicon.sparkle);\n\t\tthis._icon.style.display = `none`;\n\t\ticonContainer.appendChild(this._icon);\n\n\t\tthis._label = document.createElement(\"div\");\n\t\tdomFontInfo.applyFontInfo(this._label, fontInfo);\n\t\tthis._domNode.appendChild(this._label);\n\n\t\tparent.appendChild(this._domNode);\n\t}\n\n\tpublic populate(value: NewSymbolName) {\n\t\tthis._updateIcon(value);\n\t\tthis._updateLabel(value);\n\t}\n\n\tprivate _updateIcon(value: NewSymbolName) {\n\t\tconst isAIGenerated = !!value.tags?.includes(\n\t\t\tNewSymbolNameTag.AIGenerated,\n\t\t);\n\t\tthis._icon.style.display = isAIGenerated ? \"inherit\" : \"none\";\n\t}\n\n\tprivate _updateLabel(value: NewSymbolName) {\n\t\tthis._label.innerText = value.newSymbolName;\n\t}\n\n\tpublic static getLayoutInfo({ lineHeight }: { lineHeight: number }): {\n\t\ttotalHeight: number;\n\t} {\n\t\tconst totalHeight =\n\t\t\tlineHeight +\n\t\t\tRenameCandidateView._PADDING * 2 /* top & bottom padding */;\n\t\treturn { totalHeight };\n\t}\n\n\tpublic dispose() {}\n}\n"],
  "mappings": "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",
  "names": ["container"]
}
