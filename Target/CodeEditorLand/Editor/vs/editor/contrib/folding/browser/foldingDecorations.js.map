{
  "version": 3,
  "sources": ["../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/editor/contrib/folding/browser/foldingDecorations.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Codicon } from '../../../../base/common/codicons.js';\nimport { ICodeEditor } from '../../../browser/editorBrowser.js';\nimport { IModelDecorationOptions, IModelDecorationsChangeAccessor, MinimapPosition, TrackedRangeStickiness } from '../../../common/model.js';\nimport { ModelDecorationOptions } from '../../../common/model/textModel.js';\nimport { IDecorationProvider } from './foldingModel.js';\nimport { localize } from '../../../../nls.js';\nimport { editorSelectionBackground, iconForeground, registerColor, transparent } from '../../../../platform/theme/common/colorRegistry.js';\nimport { registerIcon } from '../../../../platform/theme/common/iconRegistry.js';\nimport { themeColorFromId } from '../../../../platform/theme/common/themeService.js';\nimport { ThemeIcon } from '../../../../base/common/themables.js';\n\nconst foldBackground = registerColor('editor.foldBackground', { light: transparent(editorSelectionBackground, 0.3), dark: transparent(editorSelectionBackground, 0.3), hcDark: null, hcLight: null }, localize('foldBackgroundBackground', \"Background color behind folded ranges. The color must not be opaque so as not to hide underlying decorations.\"), true);\nregisterColor('editor.foldPlaceholderForeground', { light: '#808080', dark: '#808080', hcDark: null, hcLight: null }, localize('collapsedTextColor', \"Color of the collapsed text after the first line of a folded range.\"));\nregisterColor('editorGutter.foldingControlForeground', iconForeground, localize('editorGutter.foldingControlForeground', 'Color of the folding control in the editor gutter.'));\n\nexport const foldingExpandedIcon = registerIcon('folding-expanded', Codicon.chevronDown, localize('foldingExpandedIcon', 'Icon for expanded ranges in the editor glyph margin.'));\nexport const foldingCollapsedIcon = registerIcon('folding-collapsed', Codicon.chevronRight, localize('foldingCollapsedIcon', 'Icon for collapsed ranges in the editor glyph margin.'));\nexport const foldingManualCollapsedIcon = registerIcon('folding-manual-collapsed', foldingCollapsedIcon, localize('foldingManualCollapedIcon', 'Icon for manually collapsed ranges in the editor glyph margin.'));\nexport const foldingManualExpandedIcon = registerIcon('folding-manual-expanded', foldingExpandedIcon, localize('foldingManualExpandedIcon', 'Icon for manually expanded ranges in the editor glyph margin.'));\n\nconst foldedBackgroundMinimap = { color: themeColorFromId(foldBackground), position: MinimapPosition.Inline };\n\nconst collapsed = localize('linesCollapsed', \"Click to expand the range.\");\nconst expanded = localize('linesExpanded', \"Click to collapse the range.\");\n\nexport class FoldingDecorationProvider implements IDecorationProvider {\n\n\tprivate static readonly COLLAPSED_VISUAL_DECORATION = ModelDecorationOptions.register({\n\t\tdescription: 'folding-collapsed-visual-decoration',\n\t\tstickiness: TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges,\n\t\tafterContentClassName: 'inline-folded',\n\t\tisWholeLine: true,\n\t\tlinesDecorationsTooltip: collapsed,\n\t\tfirstLineDecorationClassName: ThemeIcon.asClassName(foldingCollapsedIcon),\n\t});\n\n\tprivate static readonly COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION = ModelDecorationOptions.register({\n\t\tdescription: 'folding-collapsed-highlighted-visual-decoration',\n\t\tstickiness: TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges,\n\t\tafterContentClassName: 'inline-folded',\n\t\tclassName: 'folded-background',\n\t\tminimap: foldedBackgroundMinimap,\n\t\tisWholeLine: true,\n\t\tlinesDecorationsTooltip: collapsed,\n\t\tfirstLineDecorationClassName: ThemeIcon.asClassName(foldingCollapsedIcon)\n\t});\n\n\tprivate static readonly MANUALLY_COLLAPSED_VISUAL_DECORATION = ModelDecorationOptions.register({\n\t\tdescription: 'folding-manually-collapsed-visual-decoration',\n\t\tstickiness: TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges,\n\t\tafterContentClassName: 'inline-folded',\n\t\tisWholeLine: true,\n\t\tlinesDecorationsTooltip: collapsed,\n\t\tfirstLineDecorationClassName: ThemeIcon.asClassName(foldingManualCollapsedIcon)\n\t});\n\n\tprivate static readonly MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION = ModelDecorationOptions.register({\n\t\tdescription: 'folding-manually-collapsed-highlighted-visual-decoration',\n\t\tstickiness: TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges,\n\t\tafterContentClassName: 'inline-folded',\n\t\tclassName: 'folded-background',\n\t\tminimap: foldedBackgroundMinimap,\n\t\tisWholeLine: true,\n\t\tlinesDecorationsTooltip: collapsed,\n\t\tfirstLineDecorationClassName: ThemeIcon.asClassName(foldingManualCollapsedIcon)\n\t});\n\n\tprivate static readonly NO_CONTROLS_COLLAPSED_RANGE_DECORATION = ModelDecorationOptions.register({\n\t\tdescription: 'folding-no-controls-range-decoration',\n\t\tstickiness: TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges,\n\t\tafterContentClassName: 'inline-folded',\n\t\tisWholeLine: true,\n\t\tlinesDecorationsTooltip: collapsed,\n\t});\n\n\tprivate static readonly NO_CONTROLS_COLLAPSED_HIGHLIGHTED_RANGE_DECORATION = ModelDecorationOptions.register({\n\t\tdescription: 'folding-no-controls-range-decoration',\n\t\tstickiness: TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges,\n\t\tafterContentClassName: 'inline-folded',\n\t\tclassName: 'folded-background',\n\t\tminimap: foldedBackgroundMinimap,\n\t\tisWholeLine: true,\n\t\tlinesDecorationsTooltip: collapsed,\n\t});\n\n\tprivate static readonly EXPANDED_VISUAL_DECORATION = ModelDecorationOptions.register({\n\t\tdescription: 'folding-expanded-visual-decoration',\n\t\tstickiness: TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,\n\t\tisWholeLine: true,\n\t\tfirstLineDecorationClassName: 'alwaysShowFoldIcons ' + ThemeIcon.asClassName(foldingExpandedIcon),\n\t\tlinesDecorationsTooltip: expanded,\n\t});\n\n\tprivate static readonly EXPANDED_AUTO_HIDE_VISUAL_DECORATION = ModelDecorationOptions.register({\n\t\tdescription: 'folding-expanded-auto-hide-visual-decoration',\n\t\tstickiness: TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,\n\t\tisWholeLine: true,\n\t\tfirstLineDecorationClassName: ThemeIcon.asClassName(foldingExpandedIcon),\n\t\tlinesDecorationsTooltip: expanded,\n\t});\n\n\tprivate static readonly MANUALLY_EXPANDED_VISUAL_DECORATION = ModelDecorationOptions.register({\n\t\tdescription: 'folding-manually-expanded-visual-decoration',\n\t\tstickiness: TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges,\n\t\tisWholeLine: true,\n\t\tfirstLineDecorationClassName: 'alwaysShowFoldIcons ' + ThemeIcon.asClassName(foldingManualExpandedIcon),\n\t\tlinesDecorationsTooltip: expanded,\n\t});\n\n\tprivate static readonly MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION = ModelDecorationOptions.register({\n\t\tdescription: 'folding-manually-expanded-auto-hide-visual-decoration',\n\t\tstickiness: TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges,\n\t\tisWholeLine: true,\n\t\tfirstLineDecorationClassName: ThemeIcon.asClassName(foldingManualExpandedIcon),\n\t\tlinesDecorationsTooltip: expanded,\n\t});\n\n\tprivate static readonly NO_CONTROLS_EXPANDED_RANGE_DECORATION = ModelDecorationOptions.register({\n\t\tdescription: 'folding-no-controls-range-decoration',\n\t\tstickiness: TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges,\n\t\tisWholeLine: true\n\t});\n\n\tprivate static readonly HIDDEN_RANGE_DECORATION = ModelDecorationOptions.register({\n\t\tdescription: 'folding-hidden-range-decoration',\n\t\tstickiness: TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges\n\t});\n\n\tpublic showFoldingControls: 'always' | 'never' | 'mouseover' = 'mouseover';\n\n\tpublic showFoldingHighlights: boolean = true;\n\n\tconstructor(private readonly editor: ICodeEditor) {\n\t}\n\n\tgetDecorationOption(isCollapsed: boolean, isHidden: boolean, isManual: boolean): IModelDecorationOptions {\n\t\tif (isHidden) { // is inside another collapsed region\n\t\t\treturn FoldingDecorationProvider.HIDDEN_RANGE_DECORATION;\n\t\t}\n\t\tif (this.showFoldingControls === 'never') {\n\t\t\tif (isCollapsed) {\n\t\t\t\treturn this.showFoldingHighlights ? FoldingDecorationProvider.NO_CONTROLS_COLLAPSED_HIGHLIGHTED_RANGE_DECORATION : FoldingDecorationProvider.NO_CONTROLS_COLLAPSED_RANGE_DECORATION;\n\t\t\t}\n\t\t\treturn FoldingDecorationProvider.NO_CONTROLS_EXPANDED_RANGE_DECORATION;\n\t\t}\n\t\tif (isCollapsed) {\n\t\t\treturn isManual ?\n\t\t\t\t(this.showFoldingHighlights ? FoldingDecorationProvider.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION : FoldingDecorationProvider.MANUALLY_COLLAPSED_VISUAL_DECORATION)\n\t\t\t\t: (this.showFoldingHighlights ? FoldingDecorationProvider.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION : FoldingDecorationProvider.COLLAPSED_VISUAL_DECORATION);\n\t\t} else if (this.showFoldingControls === 'mouseover') {\n\t\t\treturn isManual ? FoldingDecorationProvider.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION : FoldingDecorationProvider.EXPANDED_AUTO_HIDE_VISUAL_DECORATION;\n\t\t} else {\n\t\t\treturn isManual ? FoldingDecorationProvider.MANUALLY_EXPANDED_VISUAL_DECORATION : FoldingDecorationProvider.EXPANDED_VISUAL_DECORATION;\n\t\t}\n\t}\n\n\tchangeDecorations<T>(callback: (changeAccessor: IModelDecorationsChangeAccessor) => T): T {\n\t\treturn this.editor.changeDecorations(callback);\n\t}\n\n\tremoveDecorations(decorationIds: string[]): void {\n\t\tthis.editor.removeDecorations(decorationIds);\n\t}\n}\n"],
  "mappings": "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",
  "names": []
}
