var p=Object.defineProperty;var u=Object.getOwnPropertyDescriptor;var h=(r,e,n,t)=>{for(var i=t>1?void 0:t?u(e,n):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(i=(t?o(e,n,i):o(i))||i);return t&&i&&p(e,n,i),i},c=(r,e)=>(n,t)=>e(n,t,r);import*as d from"../../../../../vs/base/browser/dom.js";import{ActionBar as l}from"../../../../../vs/base/browser/ui/actionbar/actionbar.js";import"../../../../../vs/base/common/actions.js";import{DisposableStore as v}from"../../../../../vs/base/common/lifecycle.js";import{TextOnlyMenuEntryActionViewItem as A}from"../../../../../vs/platform/actions/browser/menuEntryActionViewItem.js";import{IMenuService as I,MenuItemAction as _}from"../../../../../vs/platform/actions/common/actions.js";import{IContextKeyService as f}from"../../../../../vs/platform/contextkey/common/contextkey.js";import{IInstantiationService as y}from"../../../../../vs/platform/instantiation/common/instantiation.js";let m=class{constructor(e,n,t,i,s){this._menuId=n;this._menuService=i;this._contextKeyService=s;this.element=d.append(e,d.$(".suggest-status-bar"));const o=a=>a instanceof _?t.createInstance(A,a,{useComma:!0}):void 0;this._leftActions=new l(this.element,{actionViewItemProvider:o}),this._rightActions=new l(this.element,{actionViewItemProvider:o}),this._leftActions.domNode.classList.add("left"),this._rightActions.domNode.classList.add("right")}element;_leftActions;_rightActions;_menuDisposables=new v;dispose(){this._menuDisposables.dispose(),this._leftActions.dispose(),this._rightActions.dispose(),this.element.remove()}show(){const e=this._menuService.createMenu(this._menuId,this._contextKeyService),n=()=>{const t=[],i=[];for(const[s,o]of e.getActions())s==="left"?t.push(...o):i.push(...o);this._leftActions.clear(),this._leftActions.push(t),this._rightActions.clear(),this._rightActions.push(i)};this._menuDisposables.add(e.onDidChange(()=>n())),this._menuDisposables.add(e)}hide(){this._menuDisposables.clear()}};m=h([c(2,y),c(3,I),c(4,f)],m);export{m as SuggestWidgetStatus};
