import{commonPrefixLength as x}from"../../../../../base/common/strings.js";import{Range as l}from"../../../../common/core/range.js";import{TextLength as f}from"../../../../common/core/textLength.js";import{SingleTextEdit as c}from"../../../../common/core/textEdit.js";import{EndOfLinePreference as u}from"../../../../common/model.js";function L(t,e,n){const o=n?t.range.intersectRanges(n):t.range;if(!o)return t;const r=t.text.replaceAll(`\r
`,`
`),i=e.getValueInRange(o,u.LF),g=x(i,r),s=f.ofText(i.substring(0,g)).addToPosition(t.range.getStartPosition()),a=r.substring(g),m=l.fromPositions(s,t.range.getEndPosition());return new c(m,a)}function b(t,e){return t.text.startsWith(e.text)&&T(t.range,e.range)}function T(t,e){return e.getStartPosition().equals(t.getStartPosition())&&e.getEndPosition().isBeforeOrEqual(t.getEndPosition())}export{b as singleTextEditAugments,L as singleTextRemoveCommonPrefix};
