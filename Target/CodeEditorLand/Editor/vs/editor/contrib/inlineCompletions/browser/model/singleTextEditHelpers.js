import{commonPrefixLength as m}from"../../../../../base/common/strings.js";import{Range as x}from"../../../../common/core/range.js";import{SingleTextEdit as f}from"../../../../common/core/textEdit.js";import{TextLength as l}from"../../../../common/core/textLength.js";import{EndOfLinePreference as c}from"../../../../common/model.js";function R(t,e,n){const o=n?t.range.intersectRanges(n):t.range;if(!o)return t;const r=e.getValueInRange(o,c.LF),i=m(r,t.text),g=l.ofText(r.substring(0,i)).addToPosition(t.range.getStartPosition()),s=t.text.substring(i),a=x.fromPositions(g,t.range.getEndPosition());return new f(a,s)}function d(t,e){return t.text.startsWith(e.text)&&u(t.range,e.range)}function u(t,e){return e.getStartPosition().equals(t.getStartPosition())&&e.getEndPosition().isBeforeOrEqual(t.getEndPosition())}export{d as singleTextEditAugments,R as singleTextRemoveCommonPrefix};
