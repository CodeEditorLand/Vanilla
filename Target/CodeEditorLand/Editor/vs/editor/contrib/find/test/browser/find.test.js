import e from"assert";import{ensureNoDisposablesAreLeakedInTestSuite as a}from"../../../../../base/test/common/utils.js";import{Position as l}from"../../../../common/core/position.js";import{Range as s}from"../../../../common/core/range.js";import{getSelectionSearchString as n}from"../../browser/findController.js";import{withTestCodeEditor as o}from"../../../../test/browser/testCodeEditor.js";suite("Find",()=>{a(),test("search string at position",()=>{o(["ABC DEF","0123 456"],{},t=>{const i=n(t);e.strictEqual(i,"ABC"),t.setPosition(new l(1,3));const c=n(t);e.strictEqual(c,"ABC"),t.setPosition(new l(1,5));const r=n(t);e.strictEqual(r,"DEF")})}),test("search string with selection",()=>{o(["ABC DEF","0123 456"],{},t=>{t.setSelection(new s(1,1,1,2));const i=n(t);e.strictEqual(i,"A"),t.setSelection(new s(1,2,1,4));const c=n(t);e.strictEqual(c,"BC"),t.setSelection(new s(1,2,1,7));const r=n(t);e.strictEqual(r,"BC DE")})}),test("search string with multiline selection",()=>{o(["ABC DEF","0123 456"],{},t=>{t.setSelection(new s(1,1,2,1));const i=n(t);e.strictEqual(i,null),t.setSelection(new s(1,1,2,4));const c=n(t);e.strictEqual(c,null),t.setSelection(new s(1,7,2,4));const r=n(t);e.strictEqual(r,null)})})});
