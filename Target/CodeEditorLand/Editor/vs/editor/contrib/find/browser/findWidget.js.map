{
  "version": 3,
  "sources": ["../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/editor/contrib/find/browser/findWidget.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as dom from '../../../../base/browser/dom.js';\nimport { IKeyboardEvent } from '../../../../base/browser/keyboardEvent.js';\nimport { IMouseEvent } from '../../../../base/browser/mouseEvent.js';\nimport { alert as alertFn } from '../../../../base/browser/ui/aria/aria.js';\nimport { Toggle } from '../../../../base/browser/ui/toggle/toggle.js';\nimport { IContextViewProvider } from '../../../../base/browser/ui/contextview/contextview.js';\nimport { FindInput } from '../../../../base/browser/ui/findinput/findInput.js';\nimport { ReplaceInput } from '../../../../base/browser/ui/findinput/replaceInput.js';\nimport { IMessage as InputBoxMessage } from '../../../../base/browser/ui/inputbox/inputBox.js';\nimport { ISashEvent, IVerticalSashLayoutProvider, Orientation, Sash } from '../../../../base/browser/ui/sash/sash.js';\nimport { Widget } from '../../../../base/browser/ui/widget.js';\nimport { Delayer } from '../../../../base/common/async.js';\nimport { Codicon } from '../../../../base/common/codicons.js';\nimport { onUnexpectedError } from '../../../../base/common/errors.js';\nimport { KeyCode, KeyMod } from '../../../../base/common/keyCodes.js';\nimport { toDisposable } from '../../../../base/common/lifecycle.js';\nimport * as platform from '../../../../base/common/platform.js';\nimport * as strings from '../../../../base/common/strings.js';\nimport './findWidget.css';\nimport { ICodeEditor, IOverlayWidget, IOverlayWidgetPosition, IViewZone, OverlayWidgetPositionPreference } from '../../../browser/editorBrowser.js';\nimport { ConfigurationChangedEvent, EditorOption } from '../../../common/config/editorOptions.js';\nimport { Range } from '../../../common/core/range.js';\nimport { CONTEXT_FIND_INPUT_FOCUSED, CONTEXT_REPLACE_INPUT_FOCUSED, FIND_IDS, MATCHES_LIMIT } from './findModel.js';\nimport { FindReplaceState, FindReplaceStateChangedEvent } from './findState.js';\nimport * as nls from '../../../../nls.js';\nimport { AccessibilitySupport } from '../../../../platform/accessibility/common/accessibility.js';\nimport { ContextScopedFindInput, ContextScopedReplaceInput } from '../../../../platform/history/browser/contextScopedHistoryWidget.js';\nimport { showHistoryKeybindingHint } from '../../../../platform/history/browser/historyWidgetKeybindingHint.js';\nimport { IContextKey, IContextKeyService } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IKeybindingService } from '../../../../platform/keybinding/common/keybinding.js';\nimport { INotificationService } from '../../../../platform/notification/common/notification.js';\nimport { IStorageService, StorageScope, StorageTarget } from '../../../../platform/storage/common/storage.js';\nimport { asCssVariable, contrastBorder, editorFindMatchForeground, editorFindMatchHighlightBorder, editorFindMatchHighlightForeground, editorFindRangeHighlightBorder, inputActiveOptionBackground, inputActiveOptionBorder, inputActiveOptionForeground } from '../../../../platform/theme/common/colorRegistry.js';\nimport { registerIcon, widgetClose } from '../../../../platform/theme/common/iconRegistry.js';\nimport { IThemeService, registerThemingParticipant } from '../../../../platform/theme/common/themeService.js';\nimport { ThemeIcon } from '../../../../base/common/themables.js';\nimport { isHighContrast } from '../../../../platform/theme/common/theme.js';\nimport { assertIsDefined } from '../../../../base/common/types.js';\nimport { defaultInputBoxStyles, defaultToggleStyles } from '../../../../platform/theme/browser/defaultStyles.js';\nimport { Selection } from '../../../common/core/selection.js';\nimport { createInstantHoverDelegate, getDefaultHoverDelegate } from '../../../../base/browser/ui/hover/hoverDelegateFactory.js';\nimport { IHoverDelegate } from '../../../../base/browser/ui/hover/hoverDelegate.js';\nimport { IHoverService } from '../../../../platform/hover/browser/hover.js';\n\nconst findCollapsedIcon = registerIcon('find-collapsed', Codicon.chevronRight, nls.localize('findCollapsedIcon', 'Icon to indicate that the editor find widget is collapsed.'));\nconst findExpandedIcon = registerIcon('find-expanded', Codicon.chevronDown, nls.localize('findExpandedIcon', 'Icon to indicate that the editor find widget is expanded.'));\n\nexport const findSelectionIcon = registerIcon('find-selection', Codicon.selection, nls.localize('findSelectionIcon', 'Icon for \\'Find in Selection\\' in the editor find widget.'));\nexport const findReplaceIcon = registerIcon('find-replace', Codicon.replace, nls.localize('findReplaceIcon', 'Icon for \\'Replace\\' in the editor find widget.'));\nexport const findReplaceAllIcon = registerIcon('find-replace-all', Codicon.replaceAll, nls.localize('findReplaceAllIcon', 'Icon for \\'Replace All\\' in the editor find widget.'));\nexport const findPreviousMatchIcon = registerIcon('find-previous-match', Codicon.arrowUp, nls.localize('findPreviousMatchIcon', 'Icon for \\'Find Previous\\' in the editor find widget.'));\nexport const findNextMatchIcon = registerIcon('find-next-match', Codicon.arrowDown, nls.localize('findNextMatchIcon', 'Icon for \\'Find Next\\' in the editor find widget.'));\n\nexport interface IFindController {\n\treplace(): void;\n\treplaceAll(): void;\n\tgetGlobalBufferTerm(): Promise<string>;\n}\n\nconst NLS_FIND_DIALOG_LABEL = nls.localize('label.findDialog', \"Find / Replace\");\nconst NLS_FIND_INPUT_LABEL = nls.localize('label.find', \"Find\");\nconst NLS_FIND_INPUT_PLACEHOLDER = nls.localize('placeholder.find', \"Find\");\nconst NLS_PREVIOUS_MATCH_BTN_LABEL = nls.localize('label.previousMatchButton', \"Previous Match\");\nconst NLS_NEXT_MATCH_BTN_LABEL = nls.localize('label.nextMatchButton', \"Next Match\");\nconst NLS_TOGGLE_SELECTION_FIND_TITLE = nls.localize('label.toggleSelectionFind', \"Find in Selection\");\nconst NLS_CLOSE_BTN_LABEL = nls.localize('label.closeButton', \"Close\");\nconst NLS_REPLACE_INPUT_LABEL = nls.localize('label.replace', \"Replace\");\nconst NLS_REPLACE_INPUT_PLACEHOLDER = nls.localize('placeholder.replace', \"Replace\");\nconst NLS_REPLACE_BTN_LABEL = nls.localize('label.replaceButton', \"Replace\");\nconst NLS_REPLACE_ALL_BTN_LABEL = nls.localize('label.replaceAllButton', \"Replace All\");\nconst NLS_TOGGLE_REPLACE_MODE_BTN_LABEL = nls.localize('label.toggleReplaceButton', \"Toggle Replace\");\nconst NLS_MATCHES_COUNT_LIMIT_TITLE = nls.localize('title.matchesCountLimit', \"Only the first {0} results are highlighted, but all find operations work on the entire text.\", MATCHES_LIMIT);\nexport const NLS_MATCHES_LOCATION = nls.localize('label.matchesLocation', \"{0} of {1}\");\nexport const NLS_NO_RESULTS = nls.localize('label.noResults', \"No results\");\n\nconst FIND_WIDGET_INITIAL_WIDTH = 419;\nconst PART_WIDTH = 275;\nconst FIND_INPUT_AREA_WIDTH = PART_WIDTH - 54;\n\nlet MAX_MATCHES_COUNT_WIDTH = 69;\n// let FIND_ALL_CONTROLS_WIDTH = 17/** Find Input margin-left */ + (MAX_MATCHES_COUNT_WIDTH + 3 + 1) /** Match Results */ + 23 /** Button */ * 4 + 2/** sash */;\n\nconst FIND_INPUT_AREA_HEIGHT = 33; // The height of Find Widget when Replace Input is not visible.\nconst ctrlEnterReplaceAllWarningPromptedKey = 'ctrlEnterReplaceAll.windows.donotask';\n\nconst ctrlKeyMod = (platform.isMacintosh ? KeyMod.WinCtrl : KeyMod.CtrlCmd);\nexport class FindWidgetViewZone implements IViewZone {\n\tpublic readonly afterLineNumber: number;\n\tpublic heightInPx: number;\n\tpublic readonly suppressMouseDown: boolean;\n\tpublic readonly domNode: HTMLElement;\n\n\tconstructor(afterLineNumber: number) {\n\t\tthis.afterLineNumber = afterLineNumber;\n\n\t\tthis.heightInPx = FIND_INPUT_AREA_HEIGHT;\n\t\tthis.suppressMouseDown = false;\n\t\tthis.domNode = document.createElement('div');\n\t\tthis.domNode.className = 'dock-find-viewzone';\n\t}\n}\n\nfunction stopPropagationForMultiLineUpwards(event: IKeyboardEvent, value: string, textarea: HTMLTextAreaElement | null) {\n\tconst isMultiline = !!value.match(/\\n/);\n\tif (textarea && isMultiline && textarea.selectionStart > 0) {\n\t\tevent.stopPropagation();\n\t\treturn;\n\t}\n}\n\nfunction stopPropagationForMultiLineDownwards(event: IKeyboardEvent, value: string, textarea: HTMLTextAreaElement | null) {\n\tconst isMultiline = !!value.match(/\\n/);\n\tif (textarea && isMultiline && textarea.selectionEnd < textarea.value.length) {\n\t\tevent.stopPropagation();\n\t\treturn;\n\t}\n}\n\nexport class FindWidget extends Widget implements IOverlayWidget, IVerticalSashLayoutProvider {\n\tprivate static readonly ID = 'editor.contrib.findWidget';\n\tprivate readonly _codeEditor: ICodeEditor;\n\tprivate readonly _state: FindReplaceState;\n\tprivate readonly _controller: IFindController;\n\tprivate readonly _contextViewProvider: IContextViewProvider;\n\tprivate readonly _keybindingService: IKeybindingService;\n\tprivate readonly _contextKeyService: IContextKeyService;\n\tprivate readonly _storageService: IStorageService;\n\tprivate readonly _notificationService: INotificationService;\n\n\tprivate _domNode!: HTMLElement;\n\tprivate _cachedHeight: number | null = null;\n\tprivate _findInput!: FindInput;\n\tprivate _replaceInput!: ReplaceInput;\n\n\tprivate _toggleReplaceBtn!: SimpleButton;\n\tprivate _matchesCount!: HTMLElement;\n\tprivate _prevBtn!: SimpleButton;\n\tprivate _nextBtn!: SimpleButton;\n\tprivate _toggleSelectionFind!: Toggle;\n\tprivate _closeBtn!: SimpleButton;\n\tprivate _replaceBtn!: SimpleButton;\n\tprivate _replaceAllBtn!: SimpleButton;\n\n\tprivate _isVisible: boolean;\n\tprivate _isReplaceVisible: boolean;\n\tprivate _ignoreChangeEvent: boolean;\n\tprivate _ctrlEnterReplaceAllWarningPrompted: boolean;\n\n\tprivate readonly _findFocusTracker: dom.IFocusTracker;\n\tprivate readonly _findInputFocused: IContextKey<boolean>;\n\tprivate readonly _replaceFocusTracker: dom.IFocusTracker;\n\tprivate readonly _replaceInputFocused: IContextKey<boolean>;\n\tprivate _viewZone?: FindWidgetViewZone;\n\tprivate _viewZoneId?: string;\n\n\tprivate _resizeSash!: Sash;\n\tprivate _resized!: boolean;\n\tprivate readonly _updateHistoryDelayer: Delayer<void>;\n\n\tconstructor(\n\t\tcodeEditor: ICodeEditor,\n\t\tcontroller: IFindController,\n\t\tstate: FindReplaceState,\n\t\tcontextViewProvider: IContextViewProvider,\n\t\tkeybindingService: IKeybindingService,\n\t\tcontextKeyService: IContextKeyService,\n\t\tthemeService: IThemeService,\n\t\tstorageService: IStorageService,\n\t\tnotificationService: INotificationService,\n\t\tprivate readonly _hoverService: IHoverService,\n\t) {\n\t\tsuper();\n\t\tthis._codeEditor = codeEditor;\n\t\tthis._controller = controller;\n\t\tthis._state = state;\n\t\tthis._contextViewProvider = contextViewProvider;\n\t\tthis._keybindingService = keybindingService;\n\t\tthis._contextKeyService = contextKeyService;\n\t\tthis._storageService = storageService;\n\t\tthis._notificationService = notificationService;\n\n\t\tthis._ctrlEnterReplaceAllWarningPrompted = !!storageService.getBoolean(ctrlEnterReplaceAllWarningPromptedKey, StorageScope.PROFILE);\n\n\t\tthis._isVisible = false;\n\t\tthis._isReplaceVisible = false;\n\t\tthis._ignoreChangeEvent = false;\n\n\t\tthis._updateHistoryDelayer = new Delayer<void>(500);\n\t\tthis._register(toDisposable(() => this._updateHistoryDelayer.cancel()));\n\t\tthis._register(this._state.onFindReplaceStateChange((e) => this._onStateChanged(e)));\n\t\tthis._buildDomNode();\n\t\tthis._updateButtons();\n\t\tthis._tryUpdateWidgetWidth();\n\t\tthis._findInput.inputBox.layout();\n\n\t\tthis._register(this._codeEditor.onDidChangeConfiguration((e: ConfigurationChangedEvent) => {\n\t\t\tif (e.hasChanged(EditorOption.readOnly)) {\n\t\t\t\tif (this._codeEditor.getOption(EditorOption.readOnly)) {\n\t\t\t\t\t// Hide replace part if editor becomes read only\n\t\t\t\t\tthis._state.change({ isReplaceRevealed: false }, false);\n\t\t\t\t}\n\t\t\t\tthis._updateButtons();\n\t\t\t}\n\t\t\tif (e.hasChanged(EditorOption.layoutInfo)) {\n\t\t\t\tthis._tryUpdateWidgetWidth();\n\t\t\t}\n\n\t\t\tif (e.hasChanged(EditorOption.accessibilitySupport)) {\n\t\t\t\tthis.updateAccessibilitySupport();\n\t\t\t}\n\n\t\t\tif (e.hasChanged(EditorOption.find)) {\n\t\t\t\tconst supportLoop = this._codeEditor.getOption(EditorOption.find).loop;\n\t\t\t\tthis._state.change({ loop: supportLoop }, false);\n\t\t\t\tconst addExtraSpaceOnTop = this._codeEditor.getOption(EditorOption.find).addExtraSpaceOnTop;\n\t\t\t\tif (addExtraSpaceOnTop && !this._viewZone) {\n\t\t\t\t\tthis._viewZone = new FindWidgetViewZone(0);\n\t\t\t\t\tthis._showViewZone();\n\t\t\t\t}\n\t\t\t\tif (!addExtraSpaceOnTop && this._viewZone) {\n\t\t\t\t\tthis._removeViewZone();\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\t\tthis.updateAccessibilitySupport();\n\t\tthis._register(this._codeEditor.onDidChangeCursorSelection(() => {\n\t\t\tif (this._isVisible) {\n\t\t\t\tthis._updateToggleSelectionFindButton();\n\t\t\t}\n\t\t}));\n\t\tthis._register(this._codeEditor.onDidFocusEditorWidget(async () => {\n\t\t\tif (this._isVisible) {\n\t\t\t\tconst globalBufferTerm = await this._controller.getGlobalBufferTerm();\n\t\t\t\tif (globalBufferTerm && globalBufferTerm !== this._state.searchString) {\n\t\t\t\t\tthis._state.change({ searchString: globalBufferTerm }, false);\n\t\t\t\t\tthis._findInput.select();\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\t\tthis._findInputFocused = CONTEXT_FIND_INPUT_FOCUSED.bindTo(contextKeyService);\n\t\tthis._findFocusTracker = this._register(dom.trackFocus(this._findInput.inputBox.inputElement));\n\t\tthis._register(this._findFocusTracker.onDidFocus(() => {\n\t\t\tthis._findInputFocused.set(true);\n\t\t\tthis._updateSearchScope();\n\t\t}));\n\t\tthis._register(this._findFocusTracker.onDidBlur(() => {\n\t\t\tthis._findInputFocused.set(false);\n\t\t}));\n\n\t\tthis._replaceInputFocused = CONTEXT_REPLACE_INPUT_FOCUSED.bindTo(contextKeyService);\n\t\tthis._replaceFocusTracker = this._register(dom.trackFocus(this._replaceInput.inputBox.inputElement));\n\t\tthis._register(this._replaceFocusTracker.onDidFocus(() => {\n\t\t\tthis._replaceInputFocused.set(true);\n\t\t\tthis._updateSearchScope();\n\t\t}));\n\t\tthis._register(this._replaceFocusTracker.onDidBlur(() => {\n\t\t\tthis._replaceInputFocused.set(false);\n\t\t}));\n\n\t\tthis._codeEditor.addOverlayWidget(this);\n\t\tif (this._codeEditor.getOption(EditorOption.find).addExtraSpaceOnTop) {\n\t\t\tthis._viewZone = new FindWidgetViewZone(0); // Put it before the first line then users can scroll beyond the first line.\n\t\t}\n\n\t\tthis._register(this._codeEditor.onDidChangeModel(() => {\n\t\t\tif (!this._isVisible) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis._viewZoneId = undefined;\n\t\t}));\n\n\n\t\tthis._register(this._codeEditor.onDidScrollChange((e) => {\n\t\t\tif (e.scrollTopChanged) {\n\t\t\t\tthis._layoutViewZone();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// for other scroll changes, layout the viewzone in next tick to avoid ruining current rendering.\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis._layoutViewZone();\n\t\t\t}, 0);\n\t\t}));\n\t}\n\n\t// ----- IOverlayWidget API\n\n\tpublic getId(): string {\n\t\treturn FindWidget.ID;\n\t}\n\n\tpublic getDomNode(): HTMLElement {\n\t\treturn this._domNode;\n\t}\n\n\tpublic getPosition(): IOverlayWidgetPosition | null {\n\t\tif (this._isVisible) {\n\t\t\treturn {\n\t\t\t\tpreference: OverlayWidgetPositionPreference.TOP_RIGHT_CORNER\n\t\t\t};\n\t\t}\n\t\treturn null;\n\t}\n\n\t// ----- React to state changes\n\n\tprivate _onStateChanged(e: FindReplaceStateChangedEvent): void {\n\t\tif (e.searchString) {\n\t\t\ttry {\n\t\t\t\tthis._ignoreChangeEvent = true;\n\t\t\t\tthis._findInput.setValue(this._state.searchString);\n\t\t\t} finally {\n\t\t\t\tthis._ignoreChangeEvent = false;\n\t\t\t}\n\t\t\tthis._updateButtons();\n\t\t}\n\t\tif (e.replaceString) {\n\t\t\tthis._replaceInput.inputBox.value = this._state.replaceString;\n\t\t}\n\t\tif (e.isRevealed) {\n\t\t\tif (this._state.isRevealed) {\n\t\t\t\tthis._reveal();\n\t\t\t} else {\n\t\t\t\tthis._hide(true);\n\t\t\t}\n\t\t}\n\t\tif (e.isReplaceRevealed) {\n\t\t\tif (this._state.isReplaceRevealed) {\n\t\t\t\tif (!this._codeEditor.getOption(EditorOption.readOnly) && !this._isReplaceVisible) {\n\t\t\t\t\tthis._isReplaceVisible = true;\n\t\t\t\t\tthis._replaceInput.width = dom.getTotalWidth(this._findInput.domNode);\n\t\t\t\t\tthis._updateButtons();\n\t\t\t\t\tthis._replaceInput.inputBox.layout();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (this._isReplaceVisible) {\n\t\t\t\t\tthis._isReplaceVisible = false;\n\t\t\t\t\tthis._updateButtons();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif ((e.isRevealed || e.isReplaceRevealed) && (this._state.isRevealed || this._state.isReplaceRevealed)) {\n\t\t\tif (this._tryUpdateHeight()) {\n\t\t\t\tthis._showViewZone();\n\t\t\t}\n\t\t}\n\n\t\tif (e.isRegex) {\n\t\t\tthis._findInput.setRegex(this._state.isRegex);\n\t\t}\n\t\tif (e.wholeWord) {\n\t\t\tthis._findInput.setWholeWords(this._state.wholeWord);\n\t\t}\n\t\tif (e.matchCase) {\n\t\t\tthis._findInput.setCaseSensitive(this._state.matchCase);\n\t\t}\n\t\tif (e.preserveCase) {\n\t\t\tthis._replaceInput.setPreserveCase(this._state.preserveCase);\n\t\t}\n\t\tif (e.searchScope) {\n\t\t\tif (this._state.searchScope) {\n\t\t\t\tthis._toggleSelectionFind.checked = true;\n\t\t\t} else {\n\t\t\t\tthis._toggleSelectionFind.checked = false;\n\t\t\t}\n\t\t\tthis._updateToggleSelectionFindButton();\n\t\t}\n\t\tif (e.searchString || e.matchesCount || e.matchesPosition) {\n\t\t\tconst showRedOutline = (this._state.searchString.length > 0 && this._state.matchesCount === 0);\n\t\t\tthis._domNode.classList.toggle('no-results', showRedOutline);\n\n\t\t\tthis._updateMatchesCount();\n\t\t\tthis._updateButtons();\n\t\t}\n\t\tif (e.searchString || e.currentMatch) {\n\t\t\tthis._layoutViewZone();\n\t\t}\n\t\tif (e.updateHistory) {\n\t\t\tthis._delayedUpdateHistory();\n\t\t}\n\t\tif (e.loop) {\n\t\t\tthis._updateButtons();\n\t\t}\n\t}\n\n\tprivate _delayedUpdateHistory() {\n\t\tthis._updateHistoryDelayer.trigger(this._updateHistory.bind(this)).then(undefined, onUnexpectedError);\n\t}\n\n\tprivate _updateHistory() {\n\t\tif (this._state.searchString) {\n\t\t\tthis._findInput.inputBox.addToHistory();\n\t\t}\n\t\tif (this._state.replaceString) {\n\t\t\tthis._replaceInput.inputBox.addToHistory();\n\t\t}\n\t}\n\n\tprivate _updateMatchesCount(): void {\n\t\tthis._matchesCount.style.minWidth = MAX_MATCHES_COUNT_WIDTH + 'px';\n\t\tif (this._state.matchesCount >= MATCHES_LIMIT) {\n\t\t\tthis._matchesCount.title = NLS_MATCHES_COUNT_LIMIT_TITLE;\n\t\t} else {\n\t\t\tthis._matchesCount.title = '';\n\t\t}\n\n\t\t// remove previous content\n\t\tthis._matchesCount.firstChild?.remove();\n\n\t\tlet label: string;\n\t\tif (this._state.matchesCount > 0) {\n\t\t\tlet matchesCount: string = String(this._state.matchesCount);\n\t\t\tif (this._state.matchesCount >= MATCHES_LIMIT) {\n\t\t\t\tmatchesCount += '+';\n\t\t\t}\n\t\t\tlet matchesPosition: string = String(this._state.matchesPosition);\n\t\t\tif (matchesPosition === '0') {\n\t\t\t\tmatchesPosition = '?';\n\t\t\t}\n\t\t\tlabel = strings.format(NLS_MATCHES_LOCATION, matchesPosition, matchesCount);\n\t\t} else {\n\t\t\tlabel = NLS_NO_RESULTS;\n\t\t}\n\n\t\tthis._matchesCount.appendChild(document.createTextNode(label));\n\n\t\talertFn(this._getAriaLabel(label, this._state.currentMatch, this._state.searchString));\n\t\tMAX_MATCHES_COUNT_WIDTH = Math.max(MAX_MATCHES_COUNT_WIDTH, this._matchesCount.clientWidth);\n\t}\n\n\t// ----- actions\n\n\tprivate _getAriaLabel(label: string, currentMatch: Range | null, searchString: string): string {\n\t\tif (label === NLS_NO_RESULTS) {\n\t\t\treturn searchString === ''\n\t\t\t\t? nls.localize('ariaSearchNoResultEmpty', \"{0} found\", label)\n\t\t\t\t: nls.localize('ariaSearchNoResult', \"{0} found for '{1}'\", label, searchString);\n\t\t}\n\t\tif (currentMatch) {\n\t\t\tconst ariaLabel = nls.localize('ariaSearchNoResultWithLineNum', \"{0} found for '{1}', at {2}\", label, searchString, currentMatch.startLineNumber + ':' + currentMatch.startColumn);\n\t\t\tconst model = this._codeEditor.getModel();\n\t\t\tif (model && (currentMatch.startLineNumber <= model.getLineCount()) && (currentMatch.startLineNumber >= 1)) {\n\t\t\t\tconst lineContent = model.getLineContent(currentMatch.startLineNumber);\n\t\t\t\treturn `${lineContent}, ${ariaLabel}`;\n\t\t\t}\n\n\t\t\treturn ariaLabel;\n\t\t}\n\n\t\treturn nls.localize('ariaSearchNoResultWithLineNumNoCurrentMatch', \"{0} found for '{1}'\", label, searchString);\n\t}\n\n\t/**\n\t * If 'selection find' is ON we should not disable the button (its function is to cancel 'selection find').\n\t * If 'selection find' is OFF we enable the button only if there is a selection.\n\t */\n\tprivate _updateToggleSelectionFindButton(): void {\n\t\tconst selection = this._codeEditor.getSelection();\n\t\tconst isSelection = selection ? (selection.startLineNumber !== selection.endLineNumber || selection.startColumn !== selection.endColumn) : false;\n\t\tconst isChecked = this._toggleSelectionFind.checked;\n\n\t\tif (this._isVisible && (isChecked || isSelection)) {\n\t\t\tthis._toggleSelectionFind.enable();\n\t\t} else {\n\t\t\tthis._toggleSelectionFind.disable();\n\t\t}\n\t}\n\n\tprivate _updateButtons(): void {\n\t\tthis._findInput.setEnabled(this._isVisible);\n\t\tthis._replaceInput.setEnabled(this._isVisible && this._isReplaceVisible);\n\t\tthis._updateToggleSelectionFindButton();\n\t\tthis._closeBtn.setEnabled(this._isVisible);\n\n\t\tconst findInputIsNonEmpty = (this._state.searchString.length > 0);\n\t\tconst matchesCount = this._state.matchesCount ? true : false;\n\t\tthis._prevBtn.setEnabled(this._isVisible && findInputIsNonEmpty && matchesCount && this._state.canNavigateBack());\n\t\tthis._nextBtn.setEnabled(this._isVisible && findInputIsNonEmpty && matchesCount && this._state.canNavigateForward());\n\t\tthis._replaceBtn.setEnabled(this._isVisible && this._isReplaceVisible && findInputIsNonEmpty);\n\t\tthis._replaceAllBtn.setEnabled(this._isVisible && this._isReplaceVisible && findInputIsNonEmpty);\n\n\t\tthis._domNode.classList.toggle('replaceToggled', this._isReplaceVisible);\n\t\tthis._toggleReplaceBtn.setExpanded(this._isReplaceVisible);\n\n\t\tconst canReplace = !this._codeEditor.getOption(EditorOption.readOnly);\n\t\tthis._toggleReplaceBtn.setEnabled(this._isVisible && canReplace);\n\t}\n\n\tprivate _revealTimeouts: any[] = [];\n\n\tprivate _reveal(): void {\n\t\tthis._revealTimeouts.forEach(e => {\n\t\t\tclearTimeout(e);\n\t\t});\n\n\t\tthis._revealTimeouts = [];\n\n\t\tif (!this._isVisible) {\n\t\t\tthis._isVisible = true;\n\n\t\t\tconst selection = this._codeEditor.getSelection();\n\n\t\t\tswitch (this._codeEditor.getOption(EditorOption.find).autoFindInSelection) {\n\t\t\t\tcase 'always':\n\t\t\t\t\tthis._toggleSelectionFind.checked = true;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'never':\n\t\t\t\t\tthis._toggleSelectionFind.checked = false;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'multiline': {\n\t\t\t\t\tconst isSelectionMultipleLine = !!selection && selection.startLineNumber !== selection.endLineNumber;\n\t\t\t\t\tthis._toggleSelectionFind.checked = isSelectionMultipleLine;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tthis._tryUpdateWidgetWidth();\n\t\t\tthis._updateButtons();\n\n\t\t\tthis._revealTimeouts.push(setTimeout(() => {\n\t\t\t\tthis._domNode.classList.add('visible');\n\t\t\t\tthis._domNode.setAttribute('aria-hidden', 'false');\n\t\t\t}, 0));\n\n\t\t\t// validate query again as it's being dismissed when we hide the find widget.\n\t\t\tthis._revealTimeouts.push(setTimeout(() => {\n\t\t\t\tthis._findInput.validate();\n\t\t\t}, 200));\n\n\t\t\tthis._codeEditor.layoutOverlayWidget(this);\n\n\t\t\tlet adjustEditorScrollTop = true;\n\t\t\tif (this._codeEditor.getOption(EditorOption.find).seedSearchStringFromSelection && selection) {\n\t\t\t\tconst domNode = this._codeEditor.getDomNode();\n\t\t\t\tif (domNode) {\n\t\t\t\t\tconst editorCoords = dom.getDomNodePagePosition(domNode);\n\t\t\t\t\tconst startCoords = this._codeEditor.getScrolledVisiblePosition(selection.getStartPosition());\n\t\t\t\t\tconst startLeft = editorCoords.left + (startCoords ? startCoords.left : 0);\n\t\t\t\t\tconst startTop = startCoords ? startCoords.top : 0;\n\n\t\t\t\t\tif (this._viewZone && startTop < this._viewZone.heightInPx) {\n\t\t\t\t\t\tif (selection.endLineNumber > selection.startLineNumber) {\n\t\t\t\t\t\t\tadjustEditorScrollTop = false;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst leftOfFindWidget = dom.getTopLeftOffset(this._domNode).left;\n\t\t\t\t\t\tif (startLeft > leftOfFindWidget) {\n\t\t\t\t\t\t\tadjustEditorScrollTop = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconst endCoords = this._codeEditor.getScrolledVisiblePosition(selection.getEndPosition());\n\t\t\t\t\t\tconst endLeft = editorCoords.left + (endCoords ? endCoords.left : 0);\n\t\t\t\t\t\tif (endLeft > leftOfFindWidget) {\n\t\t\t\t\t\t\tadjustEditorScrollTop = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._showViewZone(adjustEditorScrollTop);\n\t\t}\n\t}\n\n\tprivate _hide(focusTheEditor: boolean): void {\n\t\tthis._revealTimeouts.forEach(e => {\n\t\t\tclearTimeout(e);\n\t\t});\n\n\t\tthis._revealTimeouts = [];\n\n\t\tif (this._isVisible) {\n\t\t\tthis._isVisible = false;\n\n\t\t\tthis._updateButtons();\n\n\t\t\tthis._domNode.classList.remove('visible');\n\t\t\tthis._domNode.setAttribute('aria-hidden', 'true');\n\t\t\tthis._findInput.clearMessage();\n\t\t\tif (focusTheEditor) {\n\t\t\t\tthis._codeEditor.focus();\n\t\t\t}\n\t\t\tthis._codeEditor.layoutOverlayWidget(this);\n\t\t\tthis._removeViewZone();\n\t\t}\n\t}\n\n\tprivate _layoutViewZone(targetScrollTop?: number) {\n\t\tconst addExtraSpaceOnTop = this._codeEditor.getOption(EditorOption.find).addExtraSpaceOnTop;\n\n\t\tif (!addExtraSpaceOnTop) {\n\t\t\tthis._removeViewZone();\n\t\t\treturn;\n\t\t}\n\n\t\tif (!this._isVisible) {\n\t\t\treturn;\n\t\t}\n\t\tconst viewZone = this._viewZone;\n\t\tif (this._viewZoneId !== undefined || !viewZone) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._codeEditor.changeViewZones((accessor) => {\n\t\t\tviewZone.heightInPx = this._getHeight();\n\t\t\tthis._viewZoneId = accessor.addZone(viewZone);\n\t\t\t// scroll top adjust to make sure the editor doesn't scroll when adding viewzone at the beginning.\n\t\t\tthis._codeEditor.setScrollTop(targetScrollTop || this._codeEditor.getScrollTop() + viewZone.heightInPx);\n\t\t});\n\t}\n\n\tprivate _showViewZone(adjustScroll: boolean = true) {\n\t\tif (!this._isVisible) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst addExtraSpaceOnTop = this._codeEditor.getOption(EditorOption.find).addExtraSpaceOnTop;\n\n\t\tif (!addExtraSpaceOnTop) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this._viewZone === undefined) {\n\t\t\tthis._viewZone = new FindWidgetViewZone(0);\n\t\t}\n\n\t\tconst viewZone = this._viewZone;\n\n\t\tthis._codeEditor.changeViewZones((accessor) => {\n\t\t\tif (this._viewZoneId !== undefined) {\n\t\t\t\t// the view zone already exists, we need to update the height\n\t\t\t\tconst newHeight = this._getHeight();\n\t\t\t\tif (newHeight === viewZone.heightInPx) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst scrollAdjustment = newHeight - viewZone.heightInPx;\n\t\t\t\tviewZone.heightInPx = newHeight;\n\t\t\t\taccessor.layoutZone(this._viewZoneId);\n\n\t\t\t\tif (adjustScroll) {\n\t\t\t\t\tthis._codeEditor.setScrollTop(this._codeEditor.getScrollTop() + scrollAdjustment);\n\t\t\t\t}\n\n\t\t\t\treturn;\n\t\t\t} else {\n\t\t\t\tlet scrollAdjustment = this._getHeight();\n\n\t\t\t\t// if the editor has top padding, factor that into the zone height\n\t\t\t\tscrollAdjustment -= this._codeEditor.getOption(EditorOption.padding).top;\n\t\t\t\tif (scrollAdjustment <= 0) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tviewZone.heightInPx = scrollAdjustment;\n\t\t\t\tthis._viewZoneId = accessor.addZone(viewZone);\n\n\t\t\t\tif (adjustScroll) {\n\t\t\t\t\tthis._codeEditor.setScrollTop(this._codeEditor.getScrollTop() + scrollAdjustment);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate _removeViewZone() {\n\t\tthis._codeEditor.changeViewZones((accessor) => {\n\t\t\tif (this._viewZoneId !== undefined) {\n\t\t\t\taccessor.removeZone(this._viewZoneId);\n\t\t\t\tthis._viewZoneId = undefined;\n\t\t\t\tif (this._viewZone) {\n\t\t\t\t\tthis._codeEditor.setScrollTop(this._codeEditor.getScrollTop() - this._viewZone.heightInPx);\n\t\t\t\t\tthis._viewZone = undefined;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate _tryUpdateWidgetWidth() {\n\t\tif (!this._isVisible) {\n\t\t\treturn;\n\t\t}\n\t\tif (!this._domNode.isConnected) {\n\t\t\t// the widget is not in the DOM\n\t\t\treturn;\n\t\t}\n\n\t\tconst layoutInfo = this._codeEditor.getLayoutInfo();\n\t\tconst editorContentWidth = layoutInfo.contentWidth;\n\n\t\tif (editorContentWidth <= 0) {\n\t\t\t// for example, diff view original editor\n\t\t\tthis._domNode.classList.add('hiddenEditor');\n\t\t\treturn;\n\t\t} else if (this._domNode.classList.contains('hiddenEditor')) {\n\t\t\tthis._domNode.classList.remove('hiddenEditor');\n\t\t}\n\n\t\tconst editorWidth = layoutInfo.width;\n\t\tconst minimapWidth = layoutInfo.minimap.minimapWidth;\n\t\tlet collapsedFindWidget = false;\n\t\tlet reducedFindWidget = false;\n\t\tlet narrowFindWidget = false;\n\n\t\tif (this._resized) {\n\t\t\tconst widgetWidth = dom.getTotalWidth(this._domNode);\n\n\t\t\tif (widgetWidth > FIND_WIDGET_INITIAL_WIDTH) {\n\t\t\t\t// as the widget is resized by users, we may need to change the max width of the widget as the editor width changes.\n\t\t\t\tthis._domNode.style.maxWidth = `${editorWidth - 28 - minimapWidth - 15}px`;\n\t\t\t\tthis._replaceInput.width = dom.getTotalWidth(this._findInput.domNode);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tif (FIND_WIDGET_INITIAL_WIDTH + 28 + minimapWidth >= editorWidth) {\n\t\t\treducedFindWidget = true;\n\t\t}\n\t\tif (FIND_WIDGET_INITIAL_WIDTH + 28 + minimapWidth - MAX_MATCHES_COUNT_WIDTH >= editorWidth) {\n\t\t\tnarrowFindWidget = true;\n\t\t}\n\t\tif (FIND_WIDGET_INITIAL_WIDTH + 28 + minimapWidth - MAX_MATCHES_COUNT_WIDTH >= editorWidth + 50) {\n\t\t\tcollapsedFindWidget = true;\n\t\t}\n\t\tthis._domNode.classList.toggle('collapsed-find-widget', collapsedFindWidget);\n\t\tthis._domNode.classList.toggle('narrow-find-widget', narrowFindWidget);\n\t\tthis._domNode.classList.toggle('reduced-find-widget', reducedFindWidget);\n\n\t\tif (!narrowFindWidget && !collapsedFindWidget) {\n\t\t\t// the minimal left offset of findwidget is 15px.\n\t\t\tthis._domNode.style.maxWidth = `${editorWidth - 28 - minimapWidth - 15}px`;\n\t\t}\n\n\t\tthis._findInput.layout({ collapsedFindWidget, narrowFindWidget, reducedFindWidget });\n\t\tif (this._resized) {\n\t\t\tconst findInputWidth = this._findInput.inputBox.element.clientWidth;\n\t\t\tif (findInputWidth > 0) {\n\t\t\t\tthis._replaceInput.width = findInputWidth;\n\t\t\t}\n\t\t} else if (this._isReplaceVisible) {\n\t\t\tthis._replaceInput.width = dom.getTotalWidth(this._findInput.domNode);\n\t\t}\n\t}\n\n\tprivate _getHeight(): number {\n\t\tlet totalheight = 0;\n\n\t\t// find input margin top\n\t\ttotalheight += 4;\n\n\t\t// find input height\n\t\ttotalheight += this._findInput.inputBox.height + 2 /** input box border */;\n\n\t\tif (this._isReplaceVisible) {\n\t\t\t// replace input margin\n\t\t\ttotalheight += 4;\n\n\t\t\ttotalheight += this._replaceInput.inputBox.height + 2 /** input box border */;\n\t\t}\n\n\t\t// margin bottom\n\t\ttotalheight += 4;\n\t\treturn totalheight;\n\t}\n\n\tprivate _tryUpdateHeight(): boolean {\n\t\tconst totalHeight = this._getHeight();\n\t\tif (this._cachedHeight !== null && this._cachedHeight === totalHeight) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis._cachedHeight = totalHeight;\n\t\tthis._domNode.style.height = `${totalHeight}px`;\n\n\t\treturn true;\n\t}\n\n\t// ----- Public\n\n\tpublic focusFindInput(): void {\n\t\tthis._findInput.select();\n\t\t// Edge browser requires focus() in addition to select()\n\t\tthis._findInput.focus();\n\t}\n\n\tpublic focusReplaceInput(): void {\n\t\tthis._replaceInput.select();\n\t\t// Edge browser requires focus() in addition to select()\n\t\tthis._replaceInput.focus();\n\t}\n\n\tpublic highlightFindOptions(): void {\n\t\tthis._findInput.highlightFindOptions();\n\t}\n\n\tprivate _updateSearchScope(): void {\n\t\tif (!this._codeEditor.hasModel()) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this._toggleSelectionFind.checked) {\n\t\t\tconst selections = this._codeEditor.getSelections();\n\n\t\t\tselections.map(selection => {\n\t\t\t\tif (selection.endColumn === 1 && selection.endLineNumber > selection.startLineNumber) {\n\t\t\t\t\tselection = selection.setEndPosition(\n\t\t\t\t\t\tselection.endLineNumber - 1,\n\t\t\t\t\t\tthis._codeEditor.getModel()!.getLineMaxColumn(selection.endLineNumber - 1)\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tconst currentMatch = this._state.currentMatch;\n\t\t\t\tif (selection.startLineNumber !== selection.endLineNumber) {\n\t\t\t\t\tif (!Range.equalsRange(selection, currentMatch)) {\n\t\t\t\t\t\treturn selection;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t}).filter(element => !!element);\n\n\t\t\tif (selections.length) {\n\t\t\t\tthis._state.change({ searchScope: selections as Range[] }, true);\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate _onFindInputMouseDown(e: IMouseEvent): void {\n\t\t// on linux, middle key does pasting.\n\t\tif (e.middleButton) {\n\t\t\te.stopPropagation();\n\t\t}\n\t}\n\n\tprivate _onFindInputKeyDown(e: IKeyboardEvent): void {\n\t\tif (e.equals(ctrlKeyMod | KeyCode.Enter)) {\n\t\t\tif (this._keybindingService.dispatchEvent(e, e.target)) {\n\t\t\t\te.preventDefault();\n\t\t\t\treturn;\n\t\t\t} else {\n\t\t\t\tthis._findInput.inputBox.insertAtCursor('\\n');\n\t\t\t\te.preventDefault();\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tif (e.equals(KeyCode.Tab)) {\n\t\t\tif (this._isReplaceVisible) {\n\t\t\t\tthis._replaceInput.focus();\n\t\t\t} else {\n\t\t\t\tthis._findInput.focusOnCaseSensitive();\n\t\t\t}\n\t\t\te.preventDefault();\n\t\t\treturn;\n\t\t}\n\n\t\tif (e.equals(KeyMod.CtrlCmd | KeyCode.DownArrow)) {\n\t\t\tthis._codeEditor.focus();\n\t\t\te.preventDefault();\n\t\t\treturn;\n\t\t}\n\n\t\tif (e.equals(KeyCode.UpArrow)) {\n\t\t\treturn stopPropagationForMultiLineUpwards(e, this._findInput.getValue(), this._findInput.domNode.querySelector('textarea'));\n\t\t}\n\n\t\tif (e.equals(KeyCode.DownArrow)) {\n\t\t\treturn stopPropagationForMultiLineDownwards(e, this._findInput.getValue(), this._findInput.domNode.querySelector('textarea'));\n\t\t}\n\t}\n\n\tprivate _onReplaceInputKeyDown(e: IKeyboardEvent): void {\n\t\tif (e.equals(ctrlKeyMod | KeyCode.Enter)) {\n\t\t\tif (this._keybindingService.dispatchEvent(e, e.target)) {\n\t\t\t\te.preventDefault();\n\t\t\t\treturn;\n\t\t\t} else {\n\t\t\t\tif (platform.isWindows && platform.isNative && !this._ctrlEnterReplaceAllWarningPrompted) {\n\t\t\t\t\t// this is the first time when users press Ctrl + Enter to replace all\n\t\t\t\t\tthis._notificationService.info(\n\t\t\t\t\t\tnls.localize('ctrlEnter.keybindingChanged',\n\t\t\t\t\t\t\t'Ctrl+Enter now inserts line break instead of replacing all. You can modify the keybinding for editor.action.replaceAll to override this behavior.')\n\t\t\t\t\t);\n\n\t\t\t\t\tthis._ctrlEnterReplaceAllWarningPrompted = true;\n\t\t\t\t\tthis._storageService.store(ctrlEnterReplaceAllWarningPromptedKey, true, StorageScope.PROFILE, StorageTarget.USER);\n\t\t\t\t}\n\n\t\t\t\tthis._replaceInput.inputBox.insertAtCursor('\\n');\n\t\t\t\te.preventDefault();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t}\n\n\t\tif (e.equals(KeyCode.Tab)) {\n\t\t\tthis._findInput.focusOnCaseSensitive();\n\t\t\te.preventDefault();\n\t\t\treturn;\n\t\t}\n\n\t\tif (e.equals(KeyMod.Shift | KeyCode.Tab)) {\n\t\t\tthis._findInput.focus();\n\t\t\te.preventDefault();\n\t\t\treturn;\n\t\t}\n\n\t\tif (e.equals(KeyMod.CtrlCmd | KeyCode.DownArrow)) {\n\t\t\tthis._codeEditor.focus();\n\t\t\te.preventDefault();\n\t\t\treturn;\n\t\t}\n\n\t\tif (e.equals(KeyCode.UpArrow)) {\n\t\t\treturn stopPropagationForMultiLineUpwards(e, this._replaceInput.inputBox.value, this._replaceInput.inputBox.element.querySelector('textarea'));\n\t\t}\n\n\t\tif (e.equals(KeyCode.DownArrow)) {\n\t\t\treturn stopPropagationForMultiLineDownwards(e, this._replaceInput.inputBox.value, this._replaceInput.inputBox.element.querySelector('textarea'));\n\t\t}\n\t}\n\n\t// ----- sash\n\tpublic getVerticalSashLeft(_sash: Sash): number {\n\t\treturn 0;\n\t}\n\t// ----- initialization\n\n\tprivate _keybindingLabelFor(actionId: string): string {\n\t\tconst kb = this._keybindingService.lookupKeybinding(actionId);\n\t\tif (!kb) {\n\t\t\treturn '';\n\t\t}\n\t\treturn ` (${kb.getLabel()})`;\n\t}\n\n\tprivate _buildDomNode(): void {\n\t\tconst flexibleHeight = true;\n\t\tconst flexibleWidth = true;\n\t\t// Find input\n\t\tthis._findInput = this._register(new ContextScopedFindInput(null, this._contextViewProvider, {\n\t\t\twidth: FIND_INPUT_AREA_WIDTH,\n\t\t\tlabel: NLS_FIND_INPUT_LABEL,\n\t\t\tplaceholder: NLS_FIND_INPUT_PLACEHOLDER,\n\t\t\tappendCaseSensitiveLabel: this._keybindingLabelFor(FIND_IDS.ToggleCaseSensitiveCommand),\n\t\t\tappendWholeWordsLabel: this._keybindingLabelFor(FIND_IDS.ToggleWholeWordCommand),\n\t\t\tappendRegexLabel: this._keybindingLabelFor(FIND_IDS.ToggleRegexCommand),\n\t\t\tvalidation: (value: string): InputBoxMessage | null => {\n\t\t\t\tif (value.length === 0 || !this._findInput.getRegex()) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\ttry {\n\t\t\t\t\t// use `g` and `u` which are also used by the TextModel search\n\t\t\t\t\tnew RegExp(value, 'gu');\n\t\t\t\t\treturn null;\n\t\t\t\t} catch (e) {\n\t\t\t\t\treturn { content: e.message };\n\t\t\t\t}\n\t\t\t},\n\t\t\tflexibleHeight,\n\t\t\tflexibleWidth,\n\t\t\tflexibleMaxHeight: 118,\n\t\t\tshowCommonFindToggles: true,\n\t\t\tshowHistoryHint: () => showHistoryKeybindingHint(this._keybindingService),\n\t\t\tinputBoxStyles: defaultInputBoxStyles,\n\t\t\ttoggleStyles: defaultToggleStyles\n\t\t}, this._contextKeyService));\n\t\tthis._findInput.setRegex(!!this._state.isRegex);\n\t\tthis._findInput.setCaseSensitive(!!this._state.matchCase);\n\t\tthis._findInput.setWholeWords(!!this._state.wholeWord);\n\t\tthis._register(this._findInput.onKeyDown((e) => this._onFindInputKeyDown(e)));\n\t\tthis._register(this._findInput.inputBox.onDidChange(() => {\n\t\t\tif (this._ignoreChangeEvent) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis._state.change({ searchString: this._findInput.getValue() }, true);\n\t\t}));\n\t\tthis._register(this._findInput.onDidOptionChange(() => {\n\t\t\tthis._state.change({\n\t\t\t\tisRegex: this._findInput.getRegex(),\n\t\t\t\twholeWord: this._findInput.getWholeWords(),\n\t\t\t\tmatchCase: this._findInput.getCaseSensitive()\n\t\t\t}, true);\n\t\t}));\n\t\tthis._register(this._findInput.onCaseSensitiveKeyDown((e) => {\n\t\t\tif (e.equals(KeyMod.Shift | KeyCode.Tab)) {\n\t\t\t\tif (this._isReplaceVisible) {\n\t\t\t\t\tthis._replaceInput.focus();\n\t\t\t\t\te.preventDefault();\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\t\tthis._register(this._findInput.onRegexKeyDown((e) => {\n\t\t\tif (e.equals(KeyCode.Tab)) {\n\t\t\t\tif (this._isReplaceVisible) {\n\t\t\t\t\tthis._replaceInput.focusOnPreserve();\n\t\t\t\t\te.preventDefault();\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\t\tthis._register(this._findInput.inputBox.onDidHeightChange((e) => {\n\t\t\tif (this._tryUpdateHeight()) {\n\t\t\t\tthis._showViewZone();\n\t\t\t}\n\t\t}));\n\t\tif (platform.isLinux) {\n\t\t\tthis._register(this._findInput.onMouseDown((e) => this._onFindInputMouseDown(e)));\n\t\t}\n\n\t\tthis._matchesCount = document.createElement('div');\n\t\tthis._matchesCount.className = 'matchesCount';\n\t\tthis._updateMatchesCount();\n\n\t\t// Create a scoped hover delegate for all find related buttons\n\t\tconst hoverDelegate = this._register(createInstantHoverDelegate());\n\n\t\t// Previous button\n\t\tthis._prevBtn = this._register(new SimpleButton({\n\t\t\tlabel: NLS_PREVIOUS_MATCH_BTN_LABEL + this._keybindingLabelFor(FIND_IDS.PreviousMatchFindAction),\n\t\t\ticon: findPreviousMatchIcon,\n\t\t\thoverDelegate,\n\t\t\tonTrigger: () => {\n\t\t\t\tassertIsDefined(this._codeEditor.getAction(FIND_IDS.PreviousMatchFindAction)).run().then(undefined, onUnexpectedError);\n\t\t\t}\n\t\t}, this._hoverService));\n\n\t\t// Next button\n\t\tthis._nextBtn = this._register(new SimpleButton({\n\t\t\tlabel: NLS_NEXT_MATCH_BTN_LABEL + this._keybindingLabelFor(FIND_IDS.NextMatchFindAction),\n\t\t\ticon: findNextMatchIcon,\n\t\t\thoverDelegate,\n\t\t\tonTrigger: () => {\n\t\t\t\tassertIsDefined(this._codeEditor.getAction(FIND_IDS.NextMatchFindAction)).run().then(undefined, onUnexpectedError);\n\t\t\t}\n\t\t}, this._hoverService));\n\n\t\tconst findPart = document.createElement('div');\n\t\tfindPart.className = 'find-part';\n\t\tfindPart.appendChild(this._findInput.domNode);\n\t\tconst actionsContainer = document.createElement('div');\n\t\tactionsContainer.className = 'find-actions';\n\t\tfindPart.appendChild(actionsContainer);\n\t\tactionsContainer.appendChild(this._matchesCount);\n\t\tactionsContainer.appendChild(this._prevBtn.domNode);\n\t\tactionsContainer.appendChild(this._nextBtn.domNode);\n\n\t\t// Toggle selection button\n\t\tthis._toggleSelectionFind = this._register(new Toggle({\n\t\t\ticon: findSelectionIcon,\n\t\t\ttitle: NLS_TOGGLE_SELECTION_FIND_TITLE + this._keybindingLabelFor(FIND_IDS.ToggleSearchScopeCommand),\n\t\t\tisChecked: false,\n\t\t\thoverDelegate: hoverDelegate,\n\t\t\tinputActiveOptionBackground: asCssVariable(inputActiveOptionBackground),\n\t\t\tinputActiveOptionBorder: asCssVariable(inputActiveOptionBorder),\n\t\t\tinputActiveOptionForeground: asCssVariable(inputActiveOptionForeground),\n\t\t}));\n\n\t\tthis._register(this._toggleSelectionFind.onChange(() => {\n\t\t\tif (this._toggleSelectionFind.checked) {\n\t\t\t\tif (this._codeEditor.hasModel()) {\n\t\t\t\t\tlet selections = this._codeEditor.getSelections();\n\t\t\t\t\tselections = selections.map(selection => {\n\t\t\t\t\t\tif (selection.endColumn === 1 && selection.endLineNumber > selection.startLineNumber) {\n\t\t\t\t\t\t\tselection = selection.setEndPosition(selection.endLineNumber - 1, this._codeEditor.getModel()!.getLineMaxColumn(selection.endLineNumber - 1));\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!selection.isEmpty()) {\n\t\t\t\t\t\t\treturn selection;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}).filter((element): element is Selection => !!element);\n\n\t\t\t\t\tif (selections.length) {\n\t\t\t\t\t\tthis._state.change({ searchScope: selections as Range[] }, true);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis._state.change({ searchScope: null }, true);\n\t\t\t}\n\t\t}));\n\n\t\tactionsContainer.appendChild(this._toggleSelectionFind.domNode);\n\n\t\t// Close button\n\t\tthis._closeBtn = this._register(new SimpleButton({\n\t\t\tlabel: NLS_CLOSE_BTN_LABEL + this._keybindingLabelFor(FIND_IDS.CloseFindWidgetCommand),\n\t\t\ticon: widgetClose,\n\t\t\thoverDelegate,\n\t\t\tonTrigger: () => {\n\t\t\t\tthis._state.change({ isRevealed: false, searchScope: null }, false);\n\t\t\t},\n\t\t\tonKeyDown: (e) => {\n\t\t\t\tif (e.equals(KeyCode.Tab)) {\n\t\t\t\t\tif (this._isReplaceVisible) {\n\t\t\t\t\t\tif (this._replaceBtn.isEnabled()) {\n\t\t\t\t\t\t\tthis._replaceBtn.focus();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis._codeEditor.focus();\n\t\t\t\t\t\t}\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}, this._hoverService));\n\n\t\t// Replace input\n\t\tthis._replaceInput = this._register(new ContextScopedReplaceInput(null, undefined, {\n\t\t\tlabel: NLS_REPLACE_INPUT_LABEL,\n\t\t\tplaceholder: NLS_REPLACE_INPUT_PLACEHOLDER,\n\t\t\tappendPreserveCaseLabel: this._keybindingLabelFor(FIND_IDS.TogglePreserveCaseCommand),\n\t\t\thistory: [],\n\t\t\tflexibleHeight,\n\t\t\tflexibleWidth,\n\t\t\tflexibleMaxHeight: 118,\n\t\t\tshowHistoryHint: () => showHistoryKeybindingHint(this._keybindingService),\n\t\t\tinputBoxStyles: defaultInputBoxStyles,\n\t\t\ttoggleStyles: defaultToggleStyles\n\t\t}, this._contextKeyService, true));\n\t\tthis._replaceInput.setPreserveCase(!!this._state.preserveCase);\n\t\tthis._register(this._replaceInput.onKeyDown((e) => this._onReplaceInputKeyDown(e)));\n\t\tthis._register(this._replaceInput.inputBox.onDidChange(() => {\n\t\t\tthis._state.change({ replaceString: this._replaceInput.inputBox.value }, false);\n\t\t}));\n\t\tthis._register(this._replaceInput.inputBox.onDidHeightChange((e) => {\n\t\t\tif (this._isReplaceVisible && this._tryUpdateHeight()) {\n\t\t\t\tthis._showViewZone();\n\t\t\t}\n\t\t}));\n\t\tthis._register(this._replaceInput.onDidOptionChange(() => {\n\t\t\tthis._state.change({\n\t\t\t\tpreserveCase: this._replaceInput.getPreserveCase()\n\t\t\t}, true);\n\t\t}));\n\t\tthis._register(this._replaceInput.onPreserveCaseKeyDown((e) => {\n\t\t\tif (e.equals(KeyCode.Tab)) {\n\t\t\t\tif (this._prevBtn.isEnabled()) {\n\t\t\t\t\tthis._prevBtn.focus();\n\t\t\t\t} else if (this._nextBtn.isEnabled()) {\n\t\t\t\t\tthis._nextBtn.focus();\n\t\t\t\t} else if (this._toggleSelectionFind.enabled) {\n\t\t\t\t\tthis._toggleSelectionFind.focus();\n\t\t\t\t} else if (this._closeBtn.isEnabled()) {\n\t\t\t\t\tthis._closeBtn.focus();\n\t\t\t\t}\n\n\t\t\t\te.preventDefault();\n\t\t\t}\n\t\t}));\n\n\t\t// Create scoped hover delegate for replace actions\n\t\tconst replaceHoverDelegate = this._register(createInstantHoverDelegate());\n\n\t\t// Replace one button\n\t\tthis._replaceBtn = this._register(new SimpleButton({\n\t\t\tlabel: NLS_REPLACE_BTN_LABEL + this._keybindingLabelFor(FIND_IDS.ReplaceOneAction),\n\t\t\ticon: findReplaceIcon,\n\t\t\thoverDelegate: replaceHoverDelegate,\n\t\t\tonTrigger: () => {\n\t\t\t\tthis._controller.replace();\n\t\t\t},\n\t\t\tonKeyDown: (e) => {\n\t\t\t\tif (e.equals(KeyMod.Shift | KeyCode.Tab)) {\n\t\t\t\t\tthis._closeBtn.focus();\n\t\t\t\t\te.preventDefault();\n\t\t\t\t}\n\t\t\t}\n\t\t}, this._hoverService));\n\n\t\t// Replace all button\n\t\tthis._replaceAllBtn = this._register(new SimpleButton({\n\t\t\tlabel: NLS_REPLACE_ALL_BTN_LABEL + this._keybindingLabelFor(FIND_IDS.ReplaceAllAction),\n\t\t\ticon: findReplaceAllIcon,\n\t\t\thoverDelegate: replaceHoverDelegate,\n\t\t\tonTrigger: () => {\n\t\t\t\tthis._controller.replaceAll();\n\t\t\t}\n\t\t}, this._hoverService));\n\n\t\tconst replacePart = document.createElement('div');\n\t\treplacePart.className = 'replace-part';\n\t\treplacePart.appendChild(this._replaceInput.domNode);\n\n\t\tconst replaceActionsContainer = document.createElement('div');\n\t\treplaceActionsContainer.className = 'replace-actions';\n\t\treplacePart.appendChild(replaceActionsContainer);\n\n\t\treplaceActionsContainer.appendChild(this._replaceBtn.domNode);\n\t\treplaceActionsContainer.appendChild(this._replaceAllBtn.domNode);\n\n\t\t// Toggle replace button\n\t\tthis._toggleReplaceBtn = this._register(new SimpleButton({\n\t\t\tlabel: NLS_TOGGLE_REPLACE_MODE_BTN_LABEL,\n\t\t\tclassName: 'codicon toggle left',\n\t\t\tonTrigger: () => {\n\t\t\t\tthis._state.change({ isReplaceRevealed: !this._isReplaceVisible }, false);\n\t\t\t\tif (this._isReplaceVisible) {\n\t\t\t\t\tthis._replaceInput.width = dom.getTotalWidth(this._findInput.domNode);\n\t\t\t\t\tthis._replaceInput.inputBox.layout();\n\t\t\t\t}\n\t\t\t\tthis._showViewZone();\n\t\t\t}\n\t\t}, this._hoverService));\n\t\tthis._toggleReplaceBtn.setExpanded(this._isReplaceVisible);\n\n\t\t// Widget\n\t\tthis._domNode = document.createElement('div');\n\t\tthis._domNode.className = 'editor-widget find-widget';\n\t\tthis._domNode.setAttribute('aria-hidden', 'true');\n\t\tthis._domNode.ariaLabel = NLS_FIND_DIALOG_LABEL;\n\t\tthis._domNode.role = 'dialog';\n\n\t\t// We need to set this explicitly, otherwise on IE11, the width inheritence of flex doesn't work.\n\t\tthis._domNode.style.width = `${FIND_WIDGET_INITIAL_WIDTH}px`;\n\n\t\tthis._domNode.appendChild(this._toggleReplaceBtn.domNode);\n\t\tthis._domNode.appendChild(findPart);\n\t\tthis._domNode.appendChild(this._closeBtn.domNode);\n\t\tthis._domNode.appendChild(replacePart);\n\n\t\tthis._resizeSash = this._register(new Sash(this._domNode, this, { orientation: Orientation.VERTICAL, size: 2 }));\n\t\tthis._resized = false;\n\t\tlet originalWidth = FIND_WIDGET_INITIAL_WIDTH;\n\n\t\tthis._register(this._resizeSash.onDidStart(() => {\n\t\t\toriginalWidth = dom.getTotalWidth(this._domNode);\n\t\t}));\n\n\t\tthis._register(this._resizeSash.onDidChange((evt: ISashEvent) => {\n\t\t\tthis._resized = true;\n\t\t\tconst width = originalWidth + evt.startX - evt.currentX;\n\n\t\t\tif (width < FIND_WIDGET_INITIAL_WIDTH) {\n\t\t\t\t// narrow down the find widget should be handled by CSS.\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst maxWidth = parseFloat(dom.getComputedStyle(this._domNode).maxWidth) || 0;\n\t\t\tif (width > maxWidth) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis._domNode.style.width = `${width}px`;\n\t\t\tif (this._isReplaceVisible) {\n\t\t\t\tthis._replaceInput.width = dom.getTotalWidth(this._findInput.domNode);\n\t\t\t}\n\n\t\t\tthis._findInput.inputBox.layout();\n\t\t\tthis._tryUpdateHeight();\n\t\t}));\n\n\t\tthis._register(this._resizeSash.onDidReset(() => {\n\t\t\t// users double click on the sash\n\t\t\tconst currentWidth = dom.getTotalWidth(this._domNode);\n\n\t\t\tif (currentWidth < FIND_WIDGET_INITIAL_WIDTH) {\n\t\t\t\t// The editor is narrow and the width of the find widget is controlled fully by CSS.\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet width = FIND_WIDGET_INITIAL_WIDTH;\n\n\t\t\tif (!this._resized || currentWidth === FIND_WIDGET_INITIAL_WIDTH) {\n\t\t\t\t// 1. never resized before, double click should maximizes it\n\t\t\t\t// 2. users resized it already but its width is the same as default\n\t\t\t\tconst layoutInfo = this._codeEditor.getLayoutInfo();\n\t\t\t\twidth = layoutInfo.width - 28 - layoutInfo.minimap.minimapWidth - 15;\n\t\t\t\tthis._resized = true;\n\t\t\t} else {\n\t\t\t\t/**\n\t\t\t\t * no op, the find widget should be shrinked to its default size.\n\t\t\t\t */\n\t\t\t}\n\n\n\t\t\tthis._domNode.style.width = `${width}px`;\n\t\t\tif (this._isReplaceVisible) {\n\t\t\t\tthis._replaceInput.width = dom.getTotalWidth(this._findInput.domNode);\n\t\t\t}\n\n\t\t\tthis._findInput.inputBox.layout();\n\t\t}));\n\t}\n\n\tprivate updateAccessibilitySupport(): void {\n\t\tconst value = this._codeEditor.getOption(EditorOption.accessibilitySupport);\n\t\tthis._findInput.setFocusInputOnOptionClick(value !== AccessibilitySupport.Enabled);\n\t}\n\n\tgetViewState() {\n\t\tlet widgetViewZoneVisible = false;\n\t\tif (this._viewZone && this._viewZoneId) {\n\t\t\twidgetViewZoneVisible = this._viewZone.heightInPx > this._codeEditor.getScrollTop();\n\t\t}\n\n\t\treturn {\n\t\t\twidgetViewZoneVisible,\n\t\t\tscrollTop: this._codeEditor.getScrollTop()\n\t\t};\n\t}\n\n\tsetViewState(state?: { widgetViewZoneVisible: boolean; scrollTop: number }) {\n\t\tif (!state) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (state.widgetViewZoneVisible) {\n\t\t\t// we should add the view zone\n\t\t\tthis._layoutViewZone(state.scrollTop);\n\t\t}\n\t}\n}\n\nexport interface ISimpleButtonOpts {\n\treadonly label: string;\n\treadonly className?: string;\n\treadonly icon?: ThemeIcon;\n\treadonly hoverDelegate?: IHoverDelegate;\n\treadonly onTrigger: () => void;\n\treadonly onKeyDown?: (e: IKeyboardEvent) => void;\n}\n\nexport class SimpleButton extends Widget {\n\n\tprivate readonly _opts: ISimpleButtonOpts;\n\tprivate readonly _domNode: HTMLElement;\n\n\tconstructor(\n\t\topts: ISimpleButtonOpts,\n\t\thoverService: IHoverService\n\t) {\n\t\tsuper();\n\t\tthis._opts = opts;\n\n\t\tlet className = 'button';\n\t\tif (this._opts.className) {\n\t\t\tclassName = className + ' ' + this._opts.className;\n\t\t}\n\t\tif (this._opts.icon) {\n\t\t\tclassName = className + ' ' + ThemeIcon.asClassName(this._opts.icon);\n\t\t}\n\n\t\tthis._domNode = document.createElement('div');\n\t\tthis._domNode.tabIndex = 0;\n\t\tthis._domNode.className = className;\n\t\tthis._domNode.setAttribute('role', 'button');\n\t\tthis._domNode.setAttribute('aria-label', this._opts.label);\n\t\tthis._register(hoverService.setupManagedHover(opts.hoverDelegate ?? getDefaultHoverDelegate('element'), this._domNode, this._opts.label));\n\n\t\tthis.onclick(this._domNode, (e) => {\n\t\t\tthis._opts.onTrigger();\n\t\t\te.preventDefault();\n\t\t});\n\n\t\tthis.onkeydown(this._domNode, (e) => {\n\t\t\tif (e.equals(KeyCode.Space) || e.equals(KeyCode.Enter)) {\n\t\t\t\tthis._opts.onTrigger();\n\t\t\t\te.preventDefault();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis._opts.onKeyDown?.(e);\n\t\t});\n\t}\n\n\tpublic get domNode(): HTMLElement {\n\t\treturn this._domNode;\n\t}\n\n\tpublic isEnabled(): boolean {\n\t\treturn (this._domNode.tabIndex >= 0);\n\t}\n\n\tpublic focus(): void {\n\t\tthis._domNode.focus();\n\t}\n\n\tpublic setEnabled(enabled: boolean): void {\n\t\tthis._domNode.classList.toggle('disabled', !enabled);\n\t\tthis._domNode.setAttribute('aria-disabled', String(!enabled));\n\t\tthis._domNode.tabIndex = enabled ? 0 : -1;\n\t}\n\n\tpublic setExpanded(expanded: boolean): void {\n\t\tthis._domNode.setAttribute('aria-expanded', String(!!expanded));\n\t\tif (expanded) {\n\t\t\tthis._domNode.classList.remove(...ThemeIcon.asClassNameArray(findCollapsedIcon));\n\t\t\tthis._domNode.classList.add(...ThemeIcon.asClassNameArray(findExpandedIcon));\n\t\t} else {\n\t\t\tthis._domNode.classList.remove(...ThemeIcon.asClassNameArray(findExpandedIcon));\n\t\t\tthis._domNode.classList.add(...ThemeIcon.asClassNameArray(findCollapsedIcon));\n\t\t}\n\t}\n}\n\n// theming\n\nregisterThemingParticipant((theme, collector) => {\n\tconst findMatchHighlightBorder = theme.getColor(editorFindMatchHighlightBorder);\n\tif (findMatchHighlightBorder) {\n\t\tcollector.addRule(`.monaco-editor .findMatch { border: 1px ${isHighContrast(theme.type) ? 'dotted' : 'solid'} ${findMatchHighlightBorder}; box-sizing: border-box; }`);\n\t}\n\n\tconst findRangeHighlightBorder = theme.getColor(editorFindRangeHighlightBorder);\n\tif (findRangeHighlightBorder) {\n\t\tcollector.addRule(`.monaco-editor .findScope { border: 1px ${isHighContrast(theme.type) ? 'dashed' : 'solid'} ${findRangeHighlightBorder}; }`);\n\t}\n\n\tconst hcBorder = theme.getColor(contrastBorder);\n\tif (hcBorder) {\n\t\tcollector.addRule(`.monaco-editor .find-widget { border: 1px solid ${hcBorder}; }`);\n\t}\n\tconst findMatchForeground = theme.getColor(editorFindMatchForeground);\n\tif (findMatchForeground) {\n\t\tcollector.addRule(`.monaco-editor .findMatchInline { color: ${findMatchForeground}; }`);\n\t}\n\tconst findMatchHighlightForeground = theme.getColor(editorFindMatchHighlightForeground);\n\tif (findMatchHighlightForeground) {\n\t\tcollector.addRule(`.monaco-editor .currentFindMatchInline { color: ${findMatchHighlightForeground}; }`);\n\t}\n});\n"],
  "mappings": "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",
  "names": []
}
