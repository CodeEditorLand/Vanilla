{
  "version": 3,
  "sources": ["../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/editor/contrib/find/browser/findOptionsWidget.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as dom from '../../../../base/browser/dom.js';\nimport './findOptionsWidget.css';\nimport { CaseSensitiveToggle, RegexToggle, WholeWordsToggle } from '../../../../base/browser/ui/findinput/findInputToggles.js';\nimport { Widget } from '../../../../base/browser/ui/widget.js';\nimport { RunOnceScheduler } from '../../../../base/common/async.js';\nimport { ICodeEditor, IOverlayWidget, IOverlayWidgetPosition, OverlayWidgetPositionPreference } from '../../../browser/editorBrowser.js';\nimport { FIND_IDS } from './findModel.js';\nimport { FindReplaceState } from './findState.js';\nimport { IKeybindingService } from '../../../../platform/keybinding/common/keybinding.js';\nimport { asCssVariable, inputActiveOptionBackground, inputActiveOptionBorder, inputActiveOptionForeground } from '../../../../platform/theme/common/colorRegistry.js';\nimport { createInstantHoverDelegate } from '../../../../base/browser/ui/hover/hoverDelegateFactory.js';\n\nexport class FindOptionsWidget extends Widget implements IOverlayWidget {\n\n\tprivate static readonly ID = 'editor.contrib.findOptionsWidget';\n\n\tprivate readonly _editor: ICodeEditor;\n\tprivate readonly _state: FindReplaceState;\n\tprivate readonly _keybindingService: IKeybindingService;\n\n\tprivate readonly _domNode: HTMLElement;\n\tprivate readonly regex: RegexToggle;\n\tprivate readonly wholeWords: WholeWordsToggle;\n\tprivate readonly caseSensitive: CaseSensitiveToggle;\n\n\tconstructor(\n\t\teditor: ICodeEditor,\n\t\tstate: FindReplaceState,\n\t\tkeybindingService: IKeybindingService\n\t) {\n\t\tsuper();\n\n\t\tthis._editor = editor;\n\t\tthis._state = state;\n\t\tthis._keybindingService = keybindingService;\n\n\t\tthis._domNode = document.createElement('div');\n\t\tthis._domNode.className = 'findOptionsWidget';\n\t\tthis._domNode.style.display = 'none';\n\t\tthis._domNode.style.top = '10px';\n\t\tthis._domNode.style.zIndex = '12';\n\t\tthis._domNode.setAttribute('role', 'presentation');\n\t\tthis._domNode.setAttribute('aria-hidden', 'true');\n\n\t\tconst toggleStyles = {\n\t\t\tinputActiveOptionBorder: asCssVariable(inputActiveOptionBorder),\n\t\t\tinputActiveOptionForeground: asCssVariable(inputActiveOptionForeground),\n\t\t\tinputActiveOptionBackground: asCssVariable(inputActiveOptionBackground),\n\t\t};\n\n\t\tconst hoverDelegate = this._register(createInstantHoverDelegate());\n\n\t\tthis.caseSensitive = this._register(new CaseSensitiveToggle({\n\t\t\tappendTitle: this._keybindingLabelFor(FIND_IDS.ToggleCaseSensitiveCommand),\n\t\t\tisChecked: this._state.matchCase,\n\t\t\thoverDelegate,\n\t\t\t...toggleStyles\n\t\t}));\n\t\tthis._domNode.appendChild(this.caseSensitive.domNode);\n\t\tthis._register(this.caseSensitive.onChange(() => {\n\t\t\tthis._state.change({\n\t\t\t\tmatchCase: this.caseSensitive.checked\n\t\t\t}, false);\n\t\t}));\n\n\t\tthis.wholeWords = this._register(new WholeWordsToggle({\n\t\t\tappendTitle: this._keybindingLabelFor(FIND_IDS.ToggleWholeWordCommand),\n\t\t\tisChecked: this._state.wholeWord,\n\t\t\thoverDelegate,\n\t\t\t...toggleStyles\n\t\t}));\n\t\tthis._domNode.appendChild(this.wholeWords.domNode);\n\t\tthis._register(this.wholeWords.onChange(() => {\n\t\t\tthis._state.change({\n\t\t\t\twholeWord: this.wholeWords.checked\n\t\t\t}, false);\n\t\t}));\n\n\t\tthis.regex = this._register(new RegexToggle({\n\t\t\tappendTitle: this._keybindingLabelFor(FIND_IDS.ToggleRegexCommand),\n\t\t\tisChecked: this._state.isRegex,\n\t\t\thoverDelegate,\n\t\t\t...toggleStyles\n\t\t}));\n\t\tthis._domNode.appendChild(this.regex.domNode);\n\t\tthis._register(this.regex.onChange(() => {\n\t\t\tthis._state.change({\n\t\t\t\tisRegex: this.regex.checked\n\t\t\t}, false);\n\t\t}));\n\n\t\tthis._editor.addOverlayWidget(this);\n\n\t\tthis._register(this._state.onFindReplaceStateChange((e) => {\n\t\t\tlet somethingChanged = false;\n\t\t\tif (e.isRegex) {\n\t\t\t\tthis.regex.checked = this._state.isRegex;\n\t\t\t\tsomethingChanged = true;\n\t\t\t}\n\t\t\tif (e.wholeWord) {\n\t\t\t\tthis.wholeWords.checked = this._state.wholeWord;\n\t\t\t\tsomethingChanged = true;\n\t\t\t}\n\t\t\tif (e.matchCase) {\n\t\t\t\tthis.caseSensitive.checked = this._state.matchCase;\n\t\t\t\tsomethingChanged = true;\n\t\t\t}\n\t\t\tif (!this._state.isRevealed && somethingChanged) {\n\t\t\t\tthis._revealTemporarily();\n\t\t\t}\n\t\t}));\n\n\t\tthis._register(dom.addDisposableListener(this._domNode, dom.EventType.MOUSE_LEAVE, (e) => this._onMouseLeave()));\n\t\tthis._register(dom.addDisposableListener(this._domNode, 'mouseover', (e) => this._onMouseOver()));\n\t}\n\n\tprivate _keybindingLabelFor(actionId: string): string {\n\t\tconst kb = this._keybindingService.lookupKeybinding(actionId);\n\t\tif (!kb) {\n\t\t\treturn '';\n\t\t}\n\t\treturn ` (${kb.getLabel()})`;\n\t}\n\n\tpublic override dispose(): void {\n\t\tthis._editor.removeOverlayWidget(this);\n\t\tsuper.dispose();\n\t}\n\n\t// ----- IOverlayWidget API\n\n\tpublic getId(): string {\n\t\treturn FindOptionsWidget.ID;\n\t}\n\n\tpublic getDomNode(): HTMLElement {\n\t\treturn this._domNode;\n\t}\n\n\tpublic getPosition(): IOverlayWidgetPosition {\n\t\treturn {\n\t\t\tpreference: OverlayWidgetPositionPreference.TOP_RIGHT_CORNER\n\t\t};\n\t}\n\n\tpublic highlightFindOptions(): void {\n\t\tthis._revealTemporarily();\n\t}\n\n\tprivate _hideSoon = this._register(new RunOnceScheduler(() => this._hide(), 2000));\n\n\tprivate _revealTemporarily(): void {\n\t\tthis._show();\n\t\tthis._hideSoon.schedule();\n\t}\n\n\tprivate _onMouseLeave(): void {\n\t\tthis._hideSoon.schedule();\n\t}\n\n\tprivate _onMouseOver(): void {\n\t\tthis._hideSoon.cancel();\n\t}\n\n\tprivate _isVisible: boolean = false;\n\n\tprivate _show(): void {\n\t\tif (this._isVisible) {\n\t\t\treturn;\n\t\t}\n\t\tthis._isVisible = true;\n\t\tthis._domNode.style.display = 'block';\n\t}\n\n\tprivate _hide(): void {\n\t\tif (!this._isVisible) {\n\t\t\treturn;\n\t\t}\n\t\tthis._isVisible = false;\n\t\tthis._domNode.style.display = 'none';\n\t}\n}\n"],
  "mappings": "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",
  "names": []
}
