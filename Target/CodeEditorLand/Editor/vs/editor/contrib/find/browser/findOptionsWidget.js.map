{
  "version": 3,
  "sources": ["../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/editor/contrib/find/browser/findOptionsWidget.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as dom from \"../../../../base/browser/dom.js\";\nimport \"./findOptionsWidget.css\";\nimport {\n\tCaseSensitiveToggle,\n\tRegexToggle,\n\tWholeWordsToggle,\n} from \"../../../../base/browser/ui/findinput/findInputToggles.js\";\nimport { createInstantHoverDelegate } from \"../../../../base/browser/ui/hover/hoverDelegateFactory.js\";\nimport { Widget } from \"../../../../base/browser/ui/widget.js\";\nimport { RunOnceScheduler } from \"../../../../base/common/async.js\";\nimport type { IKeybindingService } from \"../../../../platform/keybinding/common/keybinding.js\";\nimport {\n\tasCssVariable,\n\tinputActiveOptionBackground,\n\tinputActiveOptionBorder,\n\tinputActiveOptionForeground,\n} from \"../../../../platform/theme/common/colorRegistry.js\";\nimport {\n\ttype ICodeEditor,\n\ttype IOverlayWidget,\n\ttype IOverlayWidgetPosition,\n\tOverlayWidgetPositionPreference,\n} from \"../../../browser/editorBrowser.js\";\nimport { FIND_IDS } from \"./findModel.js\";\nimport type { FindReplaceState } from \"./findState.js\";\n\nexport class FindOptionsWidget extends Widget implements IOverlayWidget {\n\tprivate static readonly ID = \"editor.contrib.findOptionsWidget\";\n\n\tprivate readonly _editor: ICodeEditor;\n\tprivate readonly _state: FindReplaceState;\n\tprivate readonly _keybindingService: IKeybindingService;\n\n\tprivate readonly _domNode: HTMLElement;\n\tprivate readonly regex: RegexToggle;\n\tprivate readonly wholeWords: WholeWordsToggle;\n\tprivate readonly caseSensitive: CaseSensitiveToggle;\n\n\tconstructor(\n\t\teditor: ICodeEditor,\n\t\tstate: FindReplaceState,\n\t\tkeybindingService: IKeybindingService,\n\t) {\n\t\tsuper();\n\n\t\tthis._editor = editor;\n\t\tthis._state = state;\n\t\tthis._keybindingService = keybindingService;\n\n\t\tthis._domNode = document.createElement(\"div\");\n\t\tthis._domNode.className = \"findOptionsWidget\";\n\t\tthis._domNode.style.display = \"none\";\n\t\tthis._domNode.style.top = \"10px\";\n\t\tthis._domNode.style.zIndex = \"12\";\n\t\tthis._domNode.setAttribute(\"role\", \"presentation\");\n\t\tthis._domNode.setAttribute(\"aria-hidden\", \"true\");\n\n\t\tconst toggleStyles = {\n\t\t\tinputActiveOptionBorder: asCssVariable(inputActiveOptionBorder),\n\t\t\tinputActiveOptionForeground: asCssVariable(\n\t\t\t\tinputActiveOptionForeground,\n\t\t\t),\n\t\t\tinputActiveOptionBackground: asCssVariable(\n\t\t\t\tinputActiveOptionBackground,\n\t\t\t),\n\t\t};\n\n\t\tconst hoverDelegate = this._register(createInstantHoverDelegate());\n\n\t\tthis.caseSensitive = this._register(\n\t\t\tnew CaseSensitiveToggle({\n\t\t\t\tappendTitle: this._keybindingLabelFor(\n\t\t\t\t\tFIND_IDS.ToggleCaseSensitiveCommand,\n\t\t\t\t),\n\t\t\t\tisChecked: this._state.matchCase,\n\t\t\t\thoverDelegate,\n\t\t\t\t...toggleStyles,\n\t\t\t}),\n\t\t);\n\t\tthis._domNode.appendChild(this.caseSensitive.domNode);\n\t\tthis._register(\n\t\t\tthis.caseSensitive.onChange(() => {\n\t\t\t\tthis._state.change(\n\t\t\t\t\t{\n\t\t\t\t\t\tmatchCase: this.caseSensitive.checked,\n\t\t\t\t\t},\n\t\t\t\t\tfalse,\n\t\t\t\t);\n\t\t\t}),\n\t\t);\n\n\t\tthis.wholeWords = this._register(\n\t\t\tnew WholeWordsToggle({\n\t\t\t\tappendTitle: this._keybindingLabelFor(\n\t\t\t\t\tFIND_IDS.ToggleWholeWordCommand,\n\t\t\t\t),\n\t\t\t\tisChecked: this._state.wholeWord,\n\t\t\t\thoverDelegate,\n\t\t\t\t...toggleStyles,\n\t\t\t}),\n\t\t);\n\t\tthis._domNode.appendChild(this.wholeWords.domNode);\n\t\tthis._register(\n\t\t\tthis.wholeWords.onChange(() => {\n\t\t\t\tthis._state.change(\n\t\t\t\t\t{\n\t\t\t\t\t\twholeWord: this.wholeWords.checked,\n\t\t\t\t\t},\n\t\t\t\t\tfalse,\n\t\t\t\t);\n\t\t\t}),\n\t\t);\n\n\t\tthis.regex = this._register(\n\t\t\tnew RegexToggle({\n\t\t\t\tappendTitle: this._keybindingLabelFor(\n\t\t\t\t\tFIND_IDS.ToggleRegexCommand,\n\t\t\t\t),\n\t\t\t\tisChecked: this._state.isRegex,\n\t\t\t\thoverDelegate,\n\t\t\t\t...toggleStyles,\n\t\t\t}),\n\t\t);\n\t\tthis._domNode.appendChild(this.regex.domNode);\n\t\tthis._register(\n\t\t\tthis.regex.onChange(() => {\n\t\t\t\tthis._state.change(\n\t\t\t\t\t{\n\t\t\t\t\t\tisRegex: this.regex.checked,\n\t\t\t\t\t},\n\t\t\t\t\tfalse,\n\t\t\t\t);\n\t\t\t}),\n\t\t);\n\n\t\tthis._editor.addOverlayWidget(this);\n\n\t\tthis._register(\n\t\t\tthis._state.onFindReplaceStateChange((e) => {\n\t\t\t\tlet somethingChanged = false;\n\t\t\t\tif (e.isRegex) {\n\t\t\t\t\tthis.regex.checked = this._state.isRegex;\n\t\t\t\t\tsomethingChanged = true;\n\t\t\t\t}\n\t\t\t\tif (e.wholeWord) {\n\t\t\t\t\tthis.wholeWords.checked = this._state.wholeWord;\n\t\t\t\t\tsomethingChanged = true;\n\t\t\t\t}\n\t\t\t\tif (e.matchCase) {\n\t\t\t\t\tthis.caseSensitive.checked = this._state.matchCase;\n\t\t\t\t\tsomethingChanged = true;\n\t\t\t\t}\n\t\t\t\tif (!this._state.isRevealed && somethingChanged) {\n\t\t\t\t\tthis._revealTemporarily();\n\t\t\t\t}\n\t\t\t}),\n\t\t);\n\n\t\tthis._register(\n\t\t\tdom.addDisposableListener(\n\t\t\t\tthis._domNode,\n\t\t\t\tdom.EventType.MOUSE_LEAVE,\n\t\t\t\t(e) => this._onMouseLeave(),\n\t\t\t),\n\t\t);\n\t\tthis._register(\n\t\t\tdom.addDisposableListener(this._domNode, \"mouseover\", (e) =>\n\t\t\t\tthis._onMouseOver(),\n\t\t\t),\n\t\t);\n\t}\n\n\tprivate _keybindingLabelFor(actionId: string): string {\n\t\tconst kb = this._keybindingService.lookupKeybinding(actionId);\n\t\tif (!kb) {\n\t\t\treturn \"\";\n\t\t}\n\t\treturn ` (${kb.getLabel()})`;\n\t}\n\n\tpublic override dispose(): void {\n\t\tthis._editor.removeOverlayWidget(this);\n\t\tsuper.dispose();\n\t}\n\n\t// ----- IOverlayWidget API\n\n\tpublic getId(): string {\n\t\treturn FindOptionsWidget.ID;\n\t}\n\n\tpublic getDomNode(): HTMLElement {\n\t\treturn this._domNode;\n\t}\n\n\tpublic getPosition(): IOverlayWidgetPosition {\n\t\treturn {\n\t\t\tpreference: OverlayWidgetPositionPreference.TOP_RIGHT_CORNER,\n\t\t};\n\t}\n\n\tpublic highlightFindOptions(): void {\n\t\tthis._revealTemporarily();\n\t}\n\n\tprivate _hideSoon = this._register(\n\t\tnew RunOnceScheduler(() => this._hide(), 2000),\n\t);\n\n\tprivate _revealTemporarily(): void {\n\t\tthis._show();\n\t\tthis._hideSoon.schedule();\n\t}\n\n\tprivate _onMouseLeave(): void {\n\t\tthis._hideSoon.schedule();\n\t}\n\n\tprivate _onMouseOver(): void {\n\t\tthis._hideSoon.cancel();\n\t}\n\n\tprivate _isVisible = false;\n\n\tprivate _show(): void {\n\t\tif (this._isVisible) {\n\t\t\treturn;\n\t\t}\n\t\tthis._isVisible = true;\n\t\tthis._domNode.style.display = \"block\";\n\t}\n\n\tprivate _hide(): void {\n\t\tif (!this._isVisible) {\n\t\t\treturn;\n\t\t}\n\t\tthis._isVisible = false;\n\t\tthis._domNode.style.display = \"none\";\n\t}\n}\n"],
  "mappings": "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",
  "names": []
}
