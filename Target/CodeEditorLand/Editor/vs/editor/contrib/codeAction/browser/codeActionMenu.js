import"../../../../../vs/base/browser/ui/codicons/codiconStyles.js";import{Codicon as e}from"../../../../../vs/base/common/codicons.js";import"../../../../../vs/base/common/keybindings.js";import"../../../../../vs/base/common/themables.js";import"../../../../../vs/editor/common/languages.js";import{CodeActionKind as n}from"../../../../../vs/editor/contrib/codeAction/common/types.js";import"../../../../../vs/editor/contrib/symbolIcons/browser/symbolIcons.js";import{HierarchicalKind as d}from"../../../../../vs/base/common/hierarchicalKind.js";import{localize as o}from"../../../../../vs/nls.js";import{ActionListItemKind as a}from"../../../../../vs/platform/actionWidget/browser/actionList.js";const s=Object.freeze({kind:d.Empty,title:o("codeAction.widget.id.more","More Actions...")}),f=Object.freeze([{kind:n.QuickFix,title:o("codeAction.widget.id.quickfix","Quick Fix")},{kind:n.RefactorExtract,title:o("codeAction.widget.id.extract","Extract"),icon:e.wrench},{kind:n.RefactorInline,title:o("codeAction.widget.id.inline","Inline"),icon:e.wrench},{kind:n.RefactorRewrite,title:o("codeAction.widget.id.convert","Rewrite"),icon:e.wrench},{kind:n.RefactorMove,title:o("codeAction.widget.id.move","Move"),icon:e.wrench},{kind:n.SurroundWith,title:o("codeAction.widget.id.surround","Surround With"),icon:e.surroundWith},{kind:n.Source,title:o("codeAction.widget.id.source","Source Action"),icon:e.symbolFile},s]);function L(m,u,A){if(!u)return m.map(i=>({kind:a.Action,item:i,group:s,disabled:!!i.action.disabled,label:i.action.disabled||i.action.title,canPreview:!!i.action.edit?.edits.length}));const l=f.map(i=>({group:i,actions:[]}));for(const i of m){const t=i.action.kind?new d(i.action.kind):d.None;for(const c of l)if(c.group.kind.contains(t)){c.actions.push(i);break}}const r=[];for(const i of l)if(i.actions.length){r.push({kind:a.Header,group:i.group});for(const t of i.actions){const c=i.group;r.push({kind:a.Action,item:t,group:t.action.isAI?{title:c.title,kind:c.kind,icon:e.sparkle}:c,label:t.action.title,disabled:!!t.action.disabled,keybinding:A(t.action)})}}return r}export{L as toMenuItems};
