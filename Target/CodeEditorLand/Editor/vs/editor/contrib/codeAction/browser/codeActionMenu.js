import"../../../../base/browser/ui/codicons/codiconStyles.js";import{Codicon as e}from"../../../../base/common/codicons.js";import{CodeActionKind as n}from"../common/types.js";import"../../symbolIcons/browser/symbolIcons.js";import{HierarchicalKind as d}from"../../../../base/common/hierarchicalKind.js";import{localize as o}from"../../../../nls.js";import{ActionListItemKind as a}from"../../../../platform/actionWidget/browser/actionList.js";const l=Object.freeze({kind:d.Empty,title:o("codeAction.widget.id.more","More Actions...")}),A=Object.freeze([{kind:n.QuickFix,title:o("codeAction.widget.id.quickfix","Quick Fix")},{kind:n.RefactorExtract,title:o("codeAction.widget.id.extract","Extract"),icon:e.wrench},{kind:n.RefactorInline,title:o("codeAction.widget.id.inline","Inline"),icon:e.wrench},{kind:n.RefactorRewrite,title:o("codeAction.widget.id.convert","Rewrite"),icon:e.wrench},{kind:n.RefactorMove,title:o("codeAction.widget.id.move","Move"),icon:e.wrench},{kind:n.SurroundWith,title:o("codeAction.widget.id.surround","Surround With"),icon:e.surroundWith},{kind:n.Source,title:o("codeAction.widget.id.source","Source Action"),icon:e.symbolFile},l]);function w(m,u,p){if(!u)return m.map(i=>({kind:a.Action,item:i,group:l,disabled:!!i.action.disabled,label:i.action.disabled||i.action.title,canPreview:!!i.action.edit?.edits.length}));const s=A.map(i=>({group:i,actions:[]}));for(const i of m){const t=i.action.kind?new d(i.action.kind):d.None;for(const c of s)if(c.group.kind.contains(t)){c.actions.push(i);break}}const r=[];for(const i of s)if(i.actions.length){r.push({kind:a.Header,group:i.group});for(const t of i.actions){const c=i.group;r.push({kind:a.Action,item:t,group:t.action.isAI?{title:c.title,kind:c.kind,icon:e.sparkle}:c,label:t.action.title,disabled:!!t.action.disabled,keybinding:p(t.action)})}}return r}export{w as toMenuItems};
