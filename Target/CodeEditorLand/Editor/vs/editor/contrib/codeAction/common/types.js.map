{
  "version": 3,
  "sources": ["../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/editor/contrib/codeAction/common/types.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport type { CancellationToken } from \"../../../../base/common/cancellation.js\";\nimport { onUnexpectedExternalError } from \"../../../../base/common/errors.js\";\nimport { HierarchicalKind } from \"../../../../base/common/hierarchicalKind.js\";\nimport type { ActionSet } from \"../../../../platform/actionWidget/common/actionWidget.js\";\nimport type { Position } from \"../../../common/core/position.js\";\nimport type * as languages from \"../../../common/languages.js\";\n\nexport const CodeActionKind = new (class {\n\tpublic readonly QuickFix = new HierarchicalKind(\"quickfix\");\n\n\tpublic readonly Refactor = new HierarchicalKind(\"refactor\");\n\tpublic readonly RefactorExtract = this.Refactor.append(\"extract\");\n\tpublic readonly RefactorInline = this.Refactor.append(\"inline\");\n\tpublic readonly RefactorMove = this.Refactor.append(\"move\");\n\tpublic readonly RefactorRewrite = this.Refactor.append(\"rewrite\");\n\n\tpublic readonly Notebook = new HierarchicalKind(\"notebook\");\n\n\tpublic readonly Source = new HierarchicalKind(\"source\");\n\tpublic readonly SourceOrganizeImports =\n\t\tthis.Source.append(\"organizeImports\");\n\tpublic readonly SourceFixAll = this.Source.append(\"fixAll\");\n\tpublic readonly SurroundWith = this.Refactor.append(\"surround\");\n})();\n\nexport enum CodeActionAutoApply {\n\tIfSingle = \"ifSingle\",\n\tFirst = \"first\",\n\tNever = \"never\",\n}\n\nexport enum CodeActionTriggerSource {\n\tRefactor = \"refactor\",\n\tRefactorPreview = \"refactor preview\",\n\tLightbulb = \"lightbulb\",\n\tDefault = \"other (default)\",\n\tSourceAction = \"source action\",\n\tQuickFix = \"quick fix action\",\n\tFixAll = \"fix all\",\n\tOrganizeImports = \"organize imports\",\n\tAutoFix = \"auto fix\",\n\tQuickFixHover = \"quick fix hover window\",\n\tOnSave = \"save participants\",\n\tProblemsView = \"problems view\",\n}\n\nexport interface CodeActionFilter {\n\treadonly include?: HierarchicalKind;\n\treadonly excludes?: readonly HierarchicalKind[];\n\treadonly includeSourceActions?: boolean;\n\treadonly onlyIncludePreferredActions?: boolean;\n}\n\nexport function mayIncludeActionsOfKind(\n\tfilter: CodeActionFilter,\n\tprovidedKind: HierarchicalKind,\n): boolean {\n\t// A provided kind may be a subset or superset of our filtered kind.\n\tif (filter.include && !filter.include.intersects(providedKind)) {\n\t\treturn false;\n\t}\n\n\tif (filter.excludes) {\n\t\tif (\n\t\t\tfilter.excludes.some((exclude) =>\n\t\t\t\texcludesAction(providedKind, exclude, filter.include),\n\t\t\t)\n\t\t) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\t// Don't return source actions unless they are explicitly requested\n\tif (\n\t\t!filter.includeSourceActions &&\n\t\tCodeActionKind.Source.contains(providedKind)\n\t) {\n\t\treturn false;\n\t}\n\n\treturn true;\n}\n\nexport function filtersAction(\n\tfilter: CodeActionFilter,\n\taction: languages.CodeAction,\n): boolean {\n\tconst actionKind = action.kind\n\t\t? new HierarchicalKind(action.kind)\n\t\t: undefined;\n\n\t// Filter out actions by kind\n\tif (filter.include) {\n\t\tif (!actionKind || !filter.include.contains(actionKind)) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tif (filter.excludes) {\n\t\tif (\n\t\t\tactionKind &&\n\t\t\tfilter.excludes.some((exclude) =>\n\t\t\t\texcludesAction(actionKind, exclude, filter.include),\n\t\t\t)\n\t\t) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\t// Don't return source actions unless they are explicitly requested\n\tif (!filter.includeSourceActions) {\n\t\tif (actionKind && CodeActionKind.Source.contains(actionKind)) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tif (filter.onlyIncludePreferredActions) {\n\t\tif (!action.isPreferred) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\treturn true;\n}\n\nfunction excludesAction(\n\tprovidedKind: HierarchicalKind,\n\texclude: HierarchicalKind,\n\tinclude: HierarchicalKind | undefined,\n): boolean {\n\tif (!exclude.contains(providedKind)) {\n\t\treturn false;\n\t}\n\tif (include && exclude.contains(include)) {\n\t\t// The include is more specific, don't filter out\n\t\treturn false;\n\t}\n\treturn true;\n}\n\nexport interface CodeActionTrigger {\n\treadonly type: languages.CodeActionTriggerType;\n\treadonly triggerAction: CodeActionTriggerSource;\n\treadonly filter?: CodeActionFilter;\n\treadonly autoApply?: CodeActionAutoApply;\n\treadonly context?: {\n\t\treadonly notAvailableMessage: string;\n\t\treadonly position: Position;\n\t};\n}\n\nexport class CodeActionCommandArgs {\n\tpublic static fromUser(\n\t\targ: any,\n\t\tdefaults: { kind: HierarchicalKind; apply: CodeActionAutoApply },\n\t): CodeActionCommandArgs {\n\t\tif (!arg || typeof arg !== \"object\") {\n\t\t\treturn new CodeActionCommandArgs(\n\t\t\t\tdefaults.kind,\n\t\t\t\tdefaults.apply,\n\t\t\t\tfalse,\n\t\t\t);\n\t\t}\n\t\treturn new CodeActionCommandArgs(\n\t\t\tCodeActionCommandArgs.getKindFromUser(arg, defaults.kind),\n\t\t\tCodeActionCommandArgs.getApplyFromUser(arg, defaults.apply),\n\t\t\tCodeActionCommandArgs.getPreferredUser(arg),\n\t\t);\n\t}\n\n\tprivate static getApplyFromUser(\n\t\targ: any,\n\t\tdefaultAutoApply: CodeActionAutoApply,\n\t) {\n\t\tswitch (typeof arg.apply === \"string\" ? arg.apply.toLowerCase() : \"\") {\n\t\t\tcase \"first\":\n\t\t\t\treturn CodeActionAutoApply.First;\n\t\t\tcase \"never\":\n\t\t\t\treturn CodeActionAutoApply.Never;\n\t\t\tcase \"ifsingle\":\n\t\t\t\treturn CodeActionAutoApply.IfSingle;\n\t\t\tdefault:\n\t\t\t\treturn defaultAutoApply;\n\t\t}\n\t}\n\n\tprivate static getKindFromUser(arg: any, defaultKind: HierarchicalKind) {\n\t\treturn typeof arg.kind === \"string\"\n\t\t\t? new HierarchicalKind(arg.kind)\n\t\t\t: defaultKind;\n\t}\n\n\tprivate static getPreferredUser(arg: any): boolean {\n\t\treturn typeof arg.preferred === \"boolean\" ? arg.preferred : false;\n\t}\n\n\tprivate constructor(\n\t\tpublic readonly kind: HierarchicalKind,\n\t\tpublic readonly apply: CodeActionAutoApply,\n\t\tpublic readonly preferred: boolean,\n\t) {}\n}\n\nexport class CodeActionItem {\n\tconstructor(\n\t\tpublic readonly action: languages.CodeAction,\n\t\tpublic readonly provider: languages.CodeActionProvider | undefined,\n\t\tpublic highlightRange?: boolean,\n\t) {}\n\n\tasync resolve(token: CancellationToken): Promise<this> {\n\t\tif (this.provider?.resolveCodeAction && !this.action.edit) {\n\t\t\tlet action: languages.CodeAction | undefined | null;\n\t\t\ttry {\n\t\t\t\taction = await this.provider.resolveCodeAction(\n\t\t\t\t\tthis.action,\n\t\t\t\t\ttoken,\n\t\t\t\t);\n\t\t\t} catch (err) {\n\t\t\t\tonUnexpectedExternalError(err);\n\t\t\t}\n\t\t\tif (action) {\n\t\t\t\tthis.action.edit = action.edit;\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t}\n}\n\nexport interface CodeActionSet extends ActionSet<CodeActionItem> {\n\treadonly validActions: readonly CodeActionItem[];\n\treadonly allActions: readonly CodeActionItem[];\n\n\treadonly documentation: readonly languages.Command[];\n}\n"],
  "mappings": "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",
  "names": ["CodeActionAutoApply", "CodeActionTriggerSource"]
}
