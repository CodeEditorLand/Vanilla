{
  "version": 3,
  "sources": ["../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/editor/contrib/gotoSymbol/browser/goToCommands.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { alert } from \"../../../../base/browser/ui/aria/aria.js\";\nimport {\n\tcreateCancelablePromise,\n\traceCancellation,\n} from \"../../../../base/common/async.js\";\nimport type { CancellationToken } from \"../../../../base/common/cancellation.js\";\nimport { Iterable } from \"../../../../base/common/iterator.js\";\nimport { KeyChord, KeyCode, KeyMod } from \"../../../../base/common/keyCodes.js\";\nimport { assertType } from \"../../../../base/common/types.js\";\nimport { URI } from \"../../../../base/common/uri.js\";\nimport * as nls from \"../../../../nls.js\";\nimport {\n\ttype IAction2F1RequiredOptions,\n\ttype IAction2Options,\n\ttype ISubmenuItem,\n\tMenuId,\n\tMenuRegistry,\n\tregisterAction2,\n} from \"../../../../platform/actions/common/actions.js\";\nimport {\n\tCommandsRegistry,\n\tICommandService,\n} from \"../../../../platform/commands/common/commands.js\";\nimport { ContextKeyExpr } from \"../../../../platform/contextkey/common/contextkey.js\";\nimport { IsWebContext } from \"../../../../platform/contextkey/common/contextkeys.js\";\nimport {\n\tTextEditorSelectionRevealType,\n\tTextEditorSelectionSource,\n} from \"../../../../platform/editor/common/editor.js\";\nimport { IInstantiationService } from \"../../../../platform/instantiation/common/instantiation.js\";\nimport { KeybindingWeight } from \"../../../../platform/keybinding/common/keybindingsRegistry.js\";\nimport { INotificationService } from \"../../../../platform/notification/common/notification.js\";\nimport { IEditorProgressService } from \"../../../../platform/progress/common/progress.js\";\nimport {\n\ttype IActiveCodeEditor,\n\ttype ICodeEditor,\n\tisCodeEditor,\n} from \"../../../browser/editorBrowser.js\";\nimport {\n\tEditorAction2,\n\ttype ServicesAccessor,\n} from \"../../../browser/editorExtensions.js\";\nimport { ICodeEditorService } from \"../../../browser/services/codeEditorService.js\";\nimport { EmbeddedCodeEditorWidget } from \"../../../browser/widget/codeEditor/embeddedCodeEditorWidget.js\";\nimport {\n\tEditorOption,\n\ttype GoToLocationValues,\n} from \"../../../common/config/editorOptions.js\";\nimport * as corePosition from \"../../../common/core/position.js\";\nimport { type IRange, Range } from \"../../../common/core/range.js\";\nimport type { IWordAtPosition } from \"../../../common/core/wordHelper.js\";\nimport { ScrollType } from \"../../../common/editorCommon.js\";\nimport { EditorContextKeys } from \"../../../common/editorContextKeys.js\";\nimport {\n\ttype Location,\n\ttype LocationLink,\n\tisLocationLink,\n} from \"../../../common/languages.js\";\nimport type { ITextModel } from \"../../../common/model.js\";\nimport { ILanguageFeaturesService } from \"../../../common/services/languageFeatures.js\";\nimport {\n\tCodeEditorStateFlag,\n\tEditorStateCancellationTokenSource,\n} from \"../../editorState/browser/editorState.js\";\nimport { MessageController } from \"../../message/browser/messageController.js\";\nimport { PeekContext } from \"../../peekView/browser/peekView.js\";\nimport {\n\tgetDeclarationsAtPosition,\n\tgetDefinitionsAtPosition,\n\tgetImplementationsAtPosition,\n\tgetReferencesAtPosition,\n\tgetTypeDefinitionsAtPosition,\n} from \"./goToSymbol.js\";\nimport { ReferencesController } from \"./peek/referencesController.js\";\nimport { ReferencesModel } from \"./referencesModel.js\";\nimport { ISymbolNavigationService } from \"./symbolNavigation.js\";\n\nMenuRegistry.appendMenuItem(MenuId.EditorContext, {\n\tsubmenu: MenuId.EditorContextPeek,\n\ttitle: nls.localize(\"peek.submenu\", \"Peek\"),\n\tgroup: \"navigation\",\n\torder: 100,\n} satisfies ISubmenuItem);\n\nexport interface SymbolNavigationActionConfig {\n\topenToSide: boolean;\n\topenInPeek: boolean;\n\tmuteMessage: boolean;\n}\n\nexport class SymbolNavigationAnchor {\n\tstatic is(thing: any): thing is SymbolNavigationAnchor {\n\t\tif (!thing || typeof thing !== \"object\") {\n\t\t\treturn false;\n\t\t}\n\t\tif (thing instanceof SymbolNavigationAnchor) {\n\t\t\treturn true;\n\t\t}\n\t\tif (\n\t\t\tcorePosition.Position.isIPosition(\n\t\t\t\t(<SymbolNavigationAnchor>thing).position,\n\t\t\t) &&\n\t\t\t(<SymbolNavigationAnchor>thing).model\n\t\t) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tconstructor(\n\t\treadonly model: ITextModel,\n\t\treadonly position: corePosition.Position,\n\t) {}\n}\n\nexport abstract class SymbolNavigationAction extends EditorAction2 {\n\tprivate static _allSymbolNavigationCommands = new Map<\n\t\tstring,\n\t\tSymbolNavigationAction\n\t>();\n\tprivate static _activeAlternativeCommands = new Set<string>();\n\n\tstatic all(): IterableIterator<SymbolNavigationAction> {\n\t\treturn SymbolNavigationAction._allSymbolNavigationCommands.values();\n\t}\n\n\tprivate static _patchConfig(\n\t\topts: IAction2Options & IAction2F1RequiredOptions,\n\t): IAction2Options {\n\t\tconst result = { ...opts, f1: true };\n\t\t// patch context menu when clause\n\t\tif (result.menu) {\n\t\t\tfor (const item of Iterable.wrap(result.menu)) {\n\t\t\t\tif (\n\t\t\t\t\titem.id === MenuId.EditorContext ||\n\t\t\t\t\titem.id === MenuId.EditorContextPeek\n\t\t\t\t) {\n\t\t\t\t\titem.when = ContextKeyExpr.and(\n\t\t\t\t\t\topts.precondition,\n\t\t\t\t\t\titem.when,\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn <typeof opts>result;\n\t}\n\n\treadonly configuration: SymbolNavigationActionConfig;\n\n\tconstructor(\n\t\tconfiguration: SymbolNavigationActionConfig,\n\t\topts: IAction2Options & IAction2F1RequiredOptions,\n\t) {\n\t\tsuper(SymbolNavigationAction._patchConfig(opts));\n\t\tthis.configuration = configuration;\n\t\tSymbolNavigationAction._allSymbolNavigationCommands.set(opts.id, this);\n\t}\n\n\toverride runEditorCommand(\n\t\taccessor: ServicesAccessor,\n\t\teditor: ICodeEditor,\n\t\targ?: SymbolNavigationAnchor | unknown,\n\t\trange?: Range,\n\t): Promise<void> {\n\t\tif (!editor.hasModel()) {\n\t\t\treturn Promise.resolve(undefined);\n\t\t}\n\t\tconst notificationService = accessor.get(INotificationService);\n\t\tconst editorService = accessor.get(ICodeEditorService);\n\t\tconst progressService = accessor.get(IEditorProgressService);\n\t\tconst symbolNavService = accessor.get(ISymbolNavigationService);\n\t\tconst languageFeaturesService = accessor.get(ILanguageFeaturesService);\n\t\tconst instaService = accessor.get(IInstantiationService);\n\n\t\tconst model = editor.getModel();\n\t\tconst position = editor.getPosition();\n\t\tconst anchor = SymbolNavigationAnchor.is(arg)\n\t\t\t? arg\n\t\t\t: new SymbolNavigationAnchor(model, position);\n\n\t\tconst cts = new EditorStateCancellationTokenSource(\n\t\t\teditor,\n\t\t\tCodeEditorStateFlag.Value | CodeEditorStateFlag.Position,\n\t\t);\n\n\t\tconst promise = raceCancellation(\n\t\t\tthis._getLocationModel(\n\t\t\t\tlanguageFeaturesService,\n\t\t\t\tanchor.model,\n\t\t\t\tanchor.position,\n\t\t\t\tcts.token,\n\t\t\t),\n\t\t\tcts.token,\n\t\t)\n\t\t\t.then(\n\t\t\t\tasync (references) => {\n\t\t\t\t\tif (!references || cts.token.isCancellationRequested) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\talert(references.ariaMessage);\n\n\t\t\t\t\tlet altAction: SymbolNavigationAction | null | undefined;\n\t\t\t\t\tif (references.referenceAt(model.uri, position)) {\n\t\t\t\t\t\tconst altActionId = this._getAlternativeCommand(editor);\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t!SymbolNavigationAction._activeAlternativeCommands.has(\n\t\t\t\t\t\t\t\taltActionId,\n\t\t\t\t\t\t\t) &&\n\t\t\t\t\t\t\tSymbolNavigationAction._allSymbolNavigationCommands.has(\n\t\t\t\t\t\t\t\taltActionId,\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\taltAction =\n\t\t\t\t\t\t\t\tSymbolNavigationAction._allSymbolNavigationCommands.get(\n\t\t\t\t\t\t\t\t\taltActionId,\n\t\t\t\t\t\t\t\t)!;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tconst referenceCount = references.references.length;\n\n\t\t\t\t\tif (referenceCount === 0) {\n\t\t\t\t\t\t// no result -> show message\n\t\t\t\t\t\tif (!this.configuration.muteMessage) {\n\t\t\t\t\t\t\tconst info = model.getWordAtPosition(position);\n\t\t\t\t\t\t\tMessageController.get(editor)?.showMessage(\n\t\t\t\t\t\t\t\tthis._getNoResultFoundMessage(info),\n\t\t\t\t\t\t\t\tposition,\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (referenceCount === 1 && altAction) {\n\t\t\t\t\t\t// already at the only result, run alternative\n\t\t\t\t\t\tSymbolNavigationAction._activeAlternativeCommands.add(\n\t\t\t\t\t\t\tthis.desc.id,\n\t\t\t\t\t\t);\n\t\t\t\t\t\tinstaService.invokeFunction((accessor) =>\n\t\t\t\t\t\t\taltAction\n\t\t\t\t\t\t\t\t.runEditorCommand(accessor, editor, arg, range)\n\t\t\t\t\t\t\t\t.finally(() => {\n\t\t\t\t\t\t\t\t\tSymbolNavigationAction._activeAlternativeCommands.delete(\n\t\t\t\t\t\t\t\t\t\tthis.desc.id,\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// normal results handling\n\t\t\t\t\t\treturn this._onResult(\n\t\t\t\t\t\t\teditorService,\n\t\t\t\t\t\t\tsymbolNavService,\n\t\t\t\t\t\t\teditor,\n\t\t\t\t\t\t\treferences,\n\t\t\t\t\t\t\trange,\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t(err) => {\n\t\t\t\t\t// report an error\n\t\t\t\t\tnotificationService.error(err);\n\t\t\t\t},\n\t\t\t)\n\t\t\t.finally(() => {\n\t\t\t\tcts.dispose();\n\t\t\t});\n\n\t\tprogressService.showWhile(promise, 250);\n\t\treturn promise;\n\t}\n\n\tprotected abstract _getLocationModel(\n\t\tlanguageFeaturesService: ILanguageFeaturesService,\n\t\tmodel: ITextModel,\n\t\tposition: corePosition.Position,\n\t\ttoken: CancellationToken,\n\t): Promise<ReferencesModel | undefined>;\n\n\tprotected abstract _getNoResultFoundMessage(\n\t\tinfo: IWordAtPosition | null,\n\t): string;\n\n\tprotected abstract _getAlternativeCommand(\n\t\teditor: IActiveCodeEditor,\n\t): string;\n\n\tprotected abstract _getGoToPreference(\n\t\teditor: IActiveCodeEditor,\n\t): GoToLocationValues;\n\n\tprivate async _onResult(\n\t\teditorService: ICodeEditorService,\n\t\tsymbolNavService: ISymbolNavigationService,\n\t\teditor: IActiveCodeEditor,\n\t\tmodel: ReferencesModel,\n\t\trange?: Range,\n\t): Promise<void> {\n\t\tconst gotoLocation = this._getGoToPreference(editor);\n\t\tif (\n\t\t\t!(editor instanceof EmbeddedCodeEditorWidget) &&\n\t\t\t(this.configuration.openInPeek ||\n\t\t\t\t(gotoLocation === \"peek\" && model.references.length > 1))\n\t\t) {\n\t\t\tthis._openInPeek(editor, model, range);\n\t\t} else {\n\t\t\tconst next = model.firstReference()!;\n\t\t\tconst peek =\n\t\t\t\tmodel.references.length > 1 && gotoLocation === \"gotoAndPeek\";\n\t\t\tconst targetEditor = await this._openReference(\n\t\t\t\teditor,\n\t\t\t\teditorService,\n\t\t\t\tnext,\n\t\t\t\tthis.configuration.openToSide,\n\t\t\t\t!peek,\n\t\t\t);\n\t\t\tif (peek && targetEditor) {\n\t\t\t\tthis._openInPeek(targetEditor, model, range);\n\t\t\t} else {\n\t\t\t\tmodel.dispose();\n\t\t\t}\n\n\t\t\t// keep remaining locations around when using\n\t\t\t// 'goto'-mode\n\t\t\tif (gotoLocation === \"goto\") {\n\t\t\t\tsymbolNavService.put(next);\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate async _openReference(\n\t\teditor: ICodeEditor,\n\t\teditorService: ICodeEditorService,\n\t\treference: Location | LocationLink,\n\t\tsideBySide: boolean,\n\t\thighlight: boolean,\n\t): Promise<ICodeEditor | undefined> {\n\t\t// range is the target-selection-range when we have one\n\t\t// and the fallback is the 'full' range\n\t\tlet range: IRange | undefined;\n\t\tif (isLocationLink(reference)) {\n\t\t\trange = reference.targetSelectionRange;\n\t\t}\n\t\tif (!range) {\n\t\t\trange = reference.range;\n\t\t}\n\t\tif (!range) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tconst targetEditor = await editorService.openCodeEditor(\n\t\t\t{\n\t\t\t\tresource: reference.uri,\n\t\t\t\toptions: {\n\t\t\t\t\tselection: Range.collapseToStart(range),\n\t\t\t\t\tselectionRevealType:\n\t\t\t\t\t\tTextEditorSelectionRevealType.NearTopIfOutsideViewport,\n\t\t\t\t\tselectionSource: TextEditorSelectionSource.JUMP,\n\t\t\t\t},\n\t\t\t},\n\t\t\teditor,\n\t\t\tsideBySide,\n\t\t);\n\n\t\tif (!targetEditor) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tif (highlight) {\n\t\t\tconst modelNow = targetEditor.getModel();\n\t\t\tconst decorations = targetEditor.createDecorationsCollection([\n\t\t\t\t{\n\t\t\t\t\trange,\n\t\t\t\t\toptions: {\n\t\t\t\t\t\tdescription: \"symbol-navigate-action-highlight\",\n\t\t\t\t\t\tclassName: \"symbolHighlight\",\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t]);\n\t\t\tsetTimeout(() => {\n\t\t\t\tif (targetEditor.getModel() === modelNow) {\n\t\t\t\t\tdecorations.clear();\n\t\t\t\t}\n\t\t\t}, 350);\n\t\t}\n\n\t\treturn targetEditor;\n\t}\n\n\tprivate _openInPeek(\n\t\ttarget: ICodeEditor,\n\t\tmodel: ReferencesModel,\n\t\trange?: Range,\n\t) {\n\t\tconst controller = ReferencesController.get(target);\n\t\tif (controller && target.hasModel()) {\n\t\t\tcontroller.toggleWidget(\n\t\t\t\trange ?? target.getSelection(),\n\t\t\t\tcreateCancelablePromise((_) => Promise.resolve(model)),\n\t\t\t\tthis.configuration.openInPeek,\n\t\t\t);\n\t\t} else {\n\t\t\tmodel.dispose();\n\t\t}\n\t}\n}\n\n//#region --- DEFINITION\n\nexport class DefinitionAction extends SymbolNavigationAction {\n\tprotected async _getLocationModel(\n\t\tlanguageFeaturesService: ILanguageFeaturesService,\n\t\tmodel: ITextModel,\n\t\tposition: corePosition.Position,\n\t\ttoken: CancellationToken,\n\t): Promise<ReferencesModel> {\n\t\treturn new ReferencesModel(\n\t\t\tawait getDefinitionsAtPosition(\n\t\t\t\tlanguageFeaturesService.definitionProvider,\n\t\t\t\tmodel,\n\t\t\t\tposition,\n\t\t\t\tfalse,\n\t\t\t\ttoken,\n\t\t\t),\n\t\t\tnls.localize(\"def.title\", \"Definitions\"),\n\t\t);\n\t}\n\n\tprotected _getNoResultFoundMessage(info: IWordAtPosition | null): string {\n\t\treturn info && info.word\n\t\t\t? nls.localize(\n\t\t\t\t\t\"noResultWord\",\n\t\t\t\t\t\"No definition found for '{0}'\",\n\t\t\t\t\tinfo.word,\n\t\t\t\t)\n\t\t\t: nls.localize(\"generic.noResults\", \"No definition found\");\n\t}\n\n\tprotected _getAlternativeCommand(editor: IActiveCodeEditor): string {\n\t\treturn editor.getOption(EditorOption.gotoLocation)\n\t\t\t.alternativeDefinitionCommand;\n\t}\n\n\tprotected _getGoToPreference(\n\t\teditor: IActiveCodeEditor,\n\t): GoToLocationValues {\n\t\treturn editor.getOption(EditorOption.gotoLocation).multipleDefinitions;\n\t}\n}\n\nregisterAction2(\n\tclass GoToDefinitionAction extends DefinitionAction {\n\t\tstatic readonly id = \"editor.action.revealDefinition\";\n\n\t\tconstructor() {\n\t\t\tsuper(\n\t\t\t\t{\n\t\t\t\t\topenToSide: false,\n\t\t\t\t\topenInPeek: false,\n\t\t\t\t\tmuteMessage: false,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: GoToDefinitionAction.id,\n\t\t\t\t\ttitle: {\n\t\t\t\t\t\t...nls.localize2(\n\t\t\t\t\t\t\t\"actions.goToDecl.label\",\n\t\t\t\t\t\t\t\"Go to Definition\",\n\t\t\t\t\t\t),\n\t\t\t\t\t\tmnemonicTitle: nls.localize(\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tkey: \"miGotoDefinition\",\n\t\t\t\t\t\t\t\tcomment: [\"&& denotes a mnemonic\"],\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\"Go to &&Definition\",\n\t\t\t\t\t\t),\n\t\t\t\t\t},\n\t\t\t\t\tprecondition: EditorContextKeys.hasDefinitionProvider,\n\t\t\t\t\tkeybinding: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\twhen: EditorContextKeys.editorTextFocus,\n\t\t\t\t\t\t\tprimary: KeyCode.F12,\n\t\t\t\t\t\t\tweight: KeybindingWeight.EditorContrib,\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\twhen: ContextKeyExpr.and(\n\t\t\t\t\t\t\t\tEditorContextKeys.editorTextFocus,\n\t\t\t\t\t\t\t\tIsWebContext,\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\tprimary: KeyMod.CtrlCmd | KeyCode.F12,\n\t\t\t\t\t\t\tweight: KeybindingWeight.EditorContrib,\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t\tmenu: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: MenuId.EditorContext,\n\t\t\t\t\t\t\tgroup: \"navigation\",\n\t\t\t\t\t\t\torder: 1.1,\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: MenuId.MenubarGoMenu,\n\t\t\t\t\t\t\tprecondition: null,\n\t\t\t\t\t\t\tgroup: \"4_symbol_nav\",\n\t\t\t\t\t\t\torder: 2,\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t},\n\t\t\t);\n\t\t\tCommandsRegistry.registerCommandAlias(\n\t\t\t\t\"editor.action.goToDeclaration\",\n\t\t\t\tGoToDefinitionAction.id,\n\t\t\t);\n\t\t}\n\t},\n);\n\nregisterAction2(\n\tclass OpenDefinitionToSideAction extends DefinitionAction {\n\t\tstatic readonly id = \"editor.action.revealDefinitionAside\";\n\n\t\tconstructor() {\n\t\t\tsuper(\n\t\t\t\t{\n\t\t\t\t\topenToSide: true,\n\t\t\t\t\topenInPeek: false,\n\t\t\t\t\tmuteMessage: false,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: OpenDefinitionToSideAction.id,\n\t\t\t\t\ttitle: nls.localize2(\n\t\t\t\t\t\t\"actions.goToDeclToSide.label\",\n\t\t\t\t\t\t\"Open Definition to the Side\",\n\t\t\t\t\t),\n\t\t\t\t\tprecondition: ContextKeyExpr.and(\n\t\t\t\t\t\tEditorContextKeys.hasDefinitionProvider,\n\t\t\t\t\t\tEditorContextKeys.isInEmbeddedEditor.toNegated(),\n\t\t\t\t\t),\n\t\t\t\t\tkeybinding: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\twhen: EditorContextKeys.editorTextFocus,\n\t\t\t\t\t\t\tprimary: KeyChord(\n\t\t\t\t\t\t\t\tKeyMod.CtrlCmd | KeyCode.KeyK,\n\t\t\t\t\t\t\t\tKeyCode.F12,\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\tweight: KeybindingWeight.EditorContrib,\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\twhen: ContextKeyExpr.and(\n\t\t\t\t\t\t\t\tEditorContextKeys.editorTextFocus,\n\t\t\t\t\t\t\t\tIsWebContext,\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\tprimary: KeyChord(\n\t\t\t\t\t\t\t\tKeyMod.CtrlCmd | KeyCode.KeyK,\n\t\t\t\t\t\t\t\tKeyMod.CtrlCmd | KeyCode.F12,\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\tweight: KeybindingWeight.EditorContrib,\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t},\n\t\t\t);\n\t\t\tCommandsRegistry.registerCommandAlias(\n\t\t\t\t\"editor.action.openDeclarationToTheSide\",\n\t\t\t\tOpenDefinitionToSideAction.id,\n\t\t\t);\n\t\t}\n\t},\n);\n\nregisterAction2(\n\tclass PeekDefinitionAction extends DefinitionAction {\n\t\tstatic readonly id = \"editor.action.peekDefinition\";\n\n\t\tconstructor() {\n\t\t\tsuper(\n\t\t\t\t{\n\t\t\t\t\topenToSide: false,\n\t\t\t\t\topenInPeek: true,\n\t\t\t\t\tmuteMessage: false,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: PeekDefinitionAction.id,\n\t\t\t\t\ttitle: nls.localize2(\n\t\t\t\t\t\t\"actions.previewDecl.label\",\n\t\t\t\t\t\t\"Peek Definition\",\n\t\t\t\t\t),\n\t\t\t\t\tprecondition: ContextKeyExpr.and(\n\t\t\t\t\t\tEditorContextKeys.hasDefinitionProvider,\n\t\t\t\t\t\tPeekContext.notInPeekEditor,\n\t\t\t\t\t\tEditorContextKeys.isInEmbeddedEditor.toNegated(),\n\t\t\t\t\t),\n\t\t\t\t\tkeybinding: {\n\t\t\t\t\t\twhen: EditorContextKeys.editorTextFocus,\n\t\t\t\t\t\tprimary: KeyMod.Alt | KeyCode.F12,\n\t\t\t\t\t\tlinux: {\n\t\t\t\t\t\t\tprimary:\n\t\t\t\t\t\t\t\tKeyMod.CtrlCmd | KeyMod.Shift | KeyCode.F10,\n\t\t\t\t\t\t},\n\t\t\t\t\t\tweight: KeybindingWeight.EditorContrib,\n\t\t\t\t\t},\n\t\t\t\t\tmenu: {\n\t\t\t\t\t\tid: MenuId.EditorContextPeek,\n\t\t\t\t\t\tgroup: \"peek\",\n\t\t\t\t\t\torder: 2,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t);\n\t\t\tCommandsRegistry.registerCommandAlias(\n\t\t\t\t\"editor.action.previewDeclaration\",\n\t\t\t\tPeekDefinitionAction.id,\n\t\t\t);\n\t\t}\n\t},\n);\n\n//#endregion\n\n//#region --- DECLARATION\n\nclass DeclarationAction extends SymbolNavigationAction {\n\tprotected async _getLocationModel(\n\t\tlanguageFeaturesService: ILanguageFeaturesService,\n\t\tmodel: ITextModel,\n\t\tposition: corePosition.Position,\n\t\ttoken: CancellationToken,\n\t): Promise<ReferencesModel> {\n\t\treturn new ReferencesModel(\n\t\t\tawait getDeclarationsAtPosition(\n\t\t\t\tlanguageFeaturesService.declarationProvider,\n\t\t\t\tmodel,\n\t\t\t\tposition,\n\t\t\t\tfalse,\n\t\t\t\ttoken,\n\t\t\t),\n\t\t\tnls.localize(\"decl.title\", \"Declarations\"),\n\t\t);\n\t}\n\n\tprotected _getNoResultFoundMessage(info: IWordAtPosition | null): string {\n\t\treturn info && info.word\n\t\t\t? nls.localize(\n\t\t\t\t\t\"decl.noResultWord\",\n\t\t\t\t\t\"No declaration found for '{0}'\",\n\t\t\t\t\tinfo.word,\n\t\t\t\t)\n\t\t\t: nls.localize(\"decl.generic.noResults\", \"No declaration found\");\n\t}\n\n\tprotected _getAlternativeCommand(editor: IActiveCodeEditor): string {\n\t\treturn editor.getOption(EditorOption.gotoLocation)\n\t\t\t.alternativeDeclarationCommand;\n\t}\n\n\tprotected _getGoToPreference(\n\t\teditor: IActiveCodeEditor,\n\t): GoToLocationValues {\n\t\treturn editor.getOption(EditorOption.gotoLocation).multipleDeclarations;\n\t}\n}\n\nregisterAction2(\n\tclass GoToDeclarationAction extends DeclarationAction {\n\t\tstatic readonly id = \"editor.action.revealDeclaration\";\n\n\t\tconstructor() {\n\t\t\tsuper(\n\t\t\t\t{\n\t\t\t\t\topenToSide: false,\n\t\t\t\t\topenInPeek: false,\n\t\t\t\t\tmuteMessage: false,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: GoToDeclarationAction.id,\n\t\t\t\t\ttitle: {\n\t\t\t\t\t\t...nls.localize2(\n\t\t\t\t\t\t\t\"actions.goToDeclaration.label\",\n\t\t\t\t\t\t\t\"Go to Declaration\",\n\t\t\t\t\t\t),\n\t\t\t\t\t\tmnemonicTitle: nls.localize(\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tkey: \"miGotoDeclaration\",\n\t\t\t\t\t\t\t\tcomment: [\"&& denotes a mnemonic\"],\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\"Go to &&Declaration\",\n\t\t\t\t\t\t),\n\t\t\t\t\t},\n\t\t\t\t\tprecondition: ContextKeyExpr.and(\n\t\t\t\t\t\tEditorContextKeys.hasDeclarationProvider,\n\t\t\t\t\t\tEditorContextKeys.isInEmbeddedEditor.toNegated(),\n\t\t\t\t\t),\n\t\t\t\t\tmenu: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: MenuId.EditorContext,\n\t\t\t\t\t\t\tgroup: \"navigation\",\n\t\t\t\t\t\t\torder: 1.3,\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: MenuId.MenubarGoMenu,\n\t\t\t\t\t\t\tprecondition: null,\n\t\t\t\t\t\t\tgroup: \"4_symbol_nav\",\n\t\t\t\t\t\t\torder: 3,\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t},\n\t\t\t);\n\t\t}\n\n\t\tprotected override _getNoResultFoundMessage(\n\t\t\tinfo: IWordAtPosition | null,\n\t\t): string {\n\t\t\treturn info && info.word\n\t\t\t\t? nls.localize(\n\t\t\t\t\t\t\"decl.noResultWord\",\n\t\t\t\t\t\t\"No declaration found for '{0}'\",\n\t\t\t\t\t\tinfo.word,\n\t\t\t\t\t)\n\t\t\t\t: nls.localize(\n\t\t\t\t\t\t\"decl.generic.noResults\",\n\t\t\t\t\t\t\"No declaration found\",\n\t\t\t\t\t);\n\t\t}\n\t},\n);\n\nregisterAction2(\n\tclass PeekDeclarationAction extends DeclarationAction {\n\t\tconstructor() {\n\t\t\tsuper(\n\t\t\t\t{\n\t\t\t\t\topenToSide: false,\n\t\t\t\t\topenInPeek: true,\n\t\t\t\t\tmuteMessage: false,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: \"editor.action.peekDeclaration\",\n\t\t\t\t\ttitle: nls.localize2(\n\t\t\t\t\t\t\"actions.peekDecl.label\",\n\t\t\t\t\t\t\"Peek Declaration\",\n\t\t\t\t\t),\n\t\t\t\t\tprecondition: ContextKeyExpr.and(\n\t\t\t\t\t\tEditorContextKeys.hasDeclarationProvider,\n\t\t\t\t\t\tPeekContext.notInPeekEditor,\n\t\t\t\t\t\tEditorContextKeys.isInEmbeddedEditor.toNegated(),\n\t\t\t\t\t),\n\t\t\t\t\tmenu: {\n\t\t\t\t\t\tid: MenuId.EditorContextPeek,\n\t\t\t\t\t\tgroup: \"peek\",\n\t\t\t\t\t\torder: 3,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t);\n\t\t}\n\t},\n);\n\n//#endregion\n\n//#region --- TYPE DEFINITION\n\nclass TypeDefinitionAction extends SymbolNavigationAction {\n\tprotected async _getLocationModel(\n\t\tlanguageFeaturesService: ILanguageFeaturesService,\n\t\tmodel: ITextModel,\n\t\tposition: corePosition.Position,\n\t\ttoken: CancellationToken,\n\t): Promise<ReferencesModel> {\n\t\treturn new ReferencesModel(\n\t\t\tawait getTypeDefinitionsAtPosition(\n\t\t\t\tlanguageFeaturesService.typeDefinitionProvider,\n\t\t\t\tmodel,\n\t\t\t\tposition,\n\t\t\t\tfalse,\n\t\t\t\ttoken,\n\t\t\t),\n\t\t\tnls.localize(\"typedef.title\", \"Type Definitions\"),\n\t\t);\n\t}\n\n\tprotected _getNoResultFoundMessage(info: IWordAtPosition | null): string {\n\t\treturn info && info.word\n\t\t\t? nls.localize(\n\t\t\t\t\t\"goToTypeDefinition.noResultWord\",\n\t\t\t\t\t\"No type definition found for '{0}'\",\n\t\t\t\t\tinfo.word,\n\t\t\t\t)\n\t\t\t: nls.localize(\n\t\t\t\t\t\"goToTypeDefinition.generic.noResults\",\n\t\t\t\t\t\"No type definition found\",\n\t\t\t\t);\n\t}\n\n\tprotected _getAlternativeCommand(editor: IActiveCodeEditor): string {\n\t\treturn editor.getOption(EditorOption.gotoLocation)\n\t\t\t.alternativeTypeDefinitionCommand;\n\t}\n\n\tprotected _getGoToPreference(\n\t\teditor: IActiveCodeEditor,\n\t): GoToLocationValues {\n\t\treturn editor.getOption(EditorOption.gotoLocation)\n\t\t\t.multipleTypeDefinitions;\n\t}\n}\n\nregisterAction2(\n\tclass GoToTypeDefinitionAction extends TypeDefinitionAction {\n\t\tpublic static readonly ID = \"editor.action.goToTypeDefinition\";\n\n\t\tconstructor() {\n\t\t\tsuper(\n\t\t\t\t{\n\t\t\t\t\topenToSide: false,\n\t\t\t\t\topenInPeek: false,\n\t\t\t\t\tmuteMessage: false,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: GoToTypeDefinitionAction.ID,\n\t\t\t\t\ttitle: {\n\t\t\t\t\t\t...nls.localize2(\n\t\t\t\t\t\t\t\"actions.goToTypeDefinition.label\",\n\t\t\t\t\t\t\t\"Go to Type Definition\",\n\t\t\t\t\t\t),\n\t\t\t\t\t\tmnemonicTitle: nls.localize(\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tkey: \"miGotoTypeDefinition\",\n\t\t\t\t\t\t\t\tcomment: [\"&& denotes a mnemonic\"],\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\"Go to &&Type Definition\",\n\t\t\t\t\t\t),\n\t\t\t\t\t},\n\t\t\t\t\tprecondition: EditorContextKeys.hasTypeDefinitionProvider,\n\t\t\t\t\tkeybinding: {\n\t\t\t\t\t\twhen: EditorContextKeys.editorTextFocus,\n\t\t\t\t\t\tprimary: 0,\n\t\t\t\t\t\tweight: KeybindingWeight.EditorContrib,\n\t\t\t\t\t},\n\t\t\t\t\tmenu: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: MenuId.EditorContext,\n\t\t\t\t\t\t\tgroup: \"navigation\",\n\t\t\t\t\t\t\torder: 1.4,\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: MenuId.MenubarGoMenu,\n\t\t\t\t\t\t\tprecondition: null,\n\t\t\t\t\t\t\tgroup: \"4_symbol_nav\",\n\t\t\t\t\t\t\torder: 3,\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t},\n\t\t\t);\n\t\t}\n\t},\n);\n\nregisterAction2(\n\tclass PeekTypeDefinitionAction extends TypeDefinitionAction {\n\t\tpublic static readonly ID = \"editor.action.peekTypeDefinition\";\n\n\t\tconstructor() {\n\t\t\tsuper(\n\t\t\t\t{\n\t\t\t\t\topenToSide: false,\n\t\t\t\t\topenInPeek: true,\n\t\t\t\t\tmuteMessage: false,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: PeekTypeDefinitionAction.ID,\n\t\t\t\t\ttitle: nls.localize2(\n\t\t\t\t\t\t\"actions.peekTypeDefinition.label\",\n\t\t\t\t\t\t\"Peek Type Definition\",\n\t\t\t\t\t),\n\t\t\t\t\tprecondition: ContextKeyExpr.and(\n\t\t\t\t\t\tEditorContextKeys.hasTypeDefinitionProvider,\n\t\t\t\t\t\tPeekContext.notInPeekEditor,\n\t\t\t\t\t\tEditorContextKeys.isInEmbeddedEditor.toNegated(),\n\t\t\t\t\t),\n\t\t\t\t\tmenu: {\n\t\t\t\t\t\tid: MenuId.EditorContextPeek,\n\t\t\t\t\t\tgroup: \"peek\",\n\t\t\t\t\t\torder: 4,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t);\n\t\t}\n\t},\n);\n\n//#endregion\n\n//#region --- IMPLEMENTATION\n\nclass ImplementationAction extends SymbolNavigationAction {\n\tprotected async _getLocationModel(\n\t\tlanguageFeaturesService: ILanguageFeaturesService,\n\t\tmodel: ITextModel,\n\t\tposition: corePosition.Position,\n\t\ttoken: CancellationToken,\n\t): Promise<ReferencesModel> {\n\t\treturn new ReferencesModel(\n\t\t\tawait getImplementationsAtPosition(\n\t\t\t\tlanguageFeaturesService.implementationProvider,\n\t\t\t\tmodel,\n\t\t\t\tposition,\n\t\t\t\tfalse,\n\t\t\t\ttoken,\n\t\t\t),\n\t\t\tnls.localize(\"impl.title\", \"Implementations\"),\n\t\t);\n\t}\n\n\tprotected _getNoResultFoundMessage(info: IWordAtPosition | null): string {\n\t\treturn info && info.word\n\t\t\t? nls.localize(\n\t\t\t\t\t\"goToImplementation.noResultWord\",\n\t\t\t\t\t\"No implementation found for '{0}'\",\n\t\t\t\t\tinfo.word,\n\t\t\t\t)\n\t\t\t: nls.localize(\n\t\t\t\t\t\"goToImplementation.generic.noResults\",\n\t\t\t\t\t\"No implementation found\",\n\t\t\t\t);\n\t}\n\n\tprotected _getAlternativeCommand(editor: IActiveCodeEditor): string {\n\t\treturn editor.getOption(EditorOption.gotoLocation)\n\t\t\t.alternativeImplementationCommand;\n\t}\n\n\tprotected _getGoToPreference(\n\t\teditor: IActiveCodeEditor,\n\t): GoToLocationValues {\n\t\treturn editor.getOption(EditorOption.gotoLocation)\n\t\t\t.multipleImplementations;\n\t}\n}\n\nregisterAction2(\n\tclass GoToImplementationAction extends ImplementationAction {\n\t\tpublic static readonly ID = \"editor.action.goToImplementation\";\n\n\t\tconstructor() {\n\t\t\tsuper(\n\t\t\t\t{\n\t\t\t\t\topenToSide: false,\n\t\t\t\t\topenInPeek: false,\n\t\t\t\t\tmuteMessage: false,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: GoToImplementationAction.ID,\n\t\t\t\t\ttitle: {\n\t\t\t\t\t\t...nls.localize2(\n\t\t\t\t\t\t\t\"actions.goToImplementation.label\",\n\t\t\t\t\t\t\t\"Go to Implementations\",\n\t\t\t\t\t\t),\n\t\t\t\t\t\tmnemonicTitle: nls.localize(\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tkey: \"miGotoImplementation\",\n\t\t\t\t\t\t\t\tcomment: [\"&& denotes a mnemonic\"],\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\"Go to &&Implementations\",\n\t\t\t\t\t\t),\n\t\t\t\t\t},\n\t\t\t\t\tprecondition: EditorContextKeys.hasImplementationProvider,\n\t\t\t\t\tkeybinding: {\n\t\t\t\t\t\twhen: EditorContextKeys.editorTextFocus,\n\t\t\t\t\t\tprimary: KeyMod.CtrlCmd | KeyCode.F12,\n\t\t\t\t\t\tweight: KeybindingWeight.EditorContrib,\n\t\t\t\t\t},\n\t\t\t\t\tmenu: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: MenuId.EditorContext,\n\t\t\t\t\t\t\tgroup: \"navigation\",\n\t\t\t\t\t\t\torder: 1.45,\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: MenuId.MenubarGoMenu,\n\t\t\t\t\t\t\tprecondition: null,\n\t\t\t\t\t\t\tgroup: \"4_symbol_nav\",\n\t\t\t\t\t\t\torder: 4,\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t},\n\t\t\t);\n\t\t}\n\t},\n);\n\nregisterAction2(\n\tclass PeekImplementationAction extends ImplementationAction {\n\t\tpublic static readonly ID = \"editor.action.peekImplementation\";\n\n\t\tconstructor() {\n\t\t\tsuper(\n\t\t\t\t{\n\t\t\t\t\topenToSide: false,\n\t\t\t\t\topenInPeek: true,\n\t\t\t\t\tmuteMessage: false,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: PeekImplementationAction.ID,\n\t\t\t\t\ttitle: nls.localize2(\n\t\t\t\t\t\t\"actions.peekImplementation.label\",\n\t\t\t\t\t\t\"Peek Implementations\",\n\t\t\t\t\t),\n\t\t\t\t\tprecondition: ContextKeyExpr.and(\n\t\t\t\t\t\tEditorContextKeys.hasImplementationProvider,\n\t\t\t\t\t\tPeekContext.notInPeekEditor,\n\t\t\t\t\t\tEditorContextKeys.isInEmbeddedEditor.toNegated(),\n\t\t\t\t\t),\n\t\t\t\t\tkeybinding: {\n\t\t\t\t\t\twhen: EditorContextKeys.editorTextFocus,\n\t\t\t\t\t\tprimary: KeyMod.CtrlCmd | KeyMod.Shift | KeyCode.F12,\n\t\t\t\t\t\tweight: KeybindingWeight.EditorContrib,\n\t\t\t\t\t},\n\t\t\t\t\tmenu: {\n\t\t\t\t\t\tid: MenuId.EditorContextPeek,\n\t\t\t\t\t\tgroup: \"peek\",\n\t\t\t\t\t\torder: 5,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t);\n\t\t}\n\t},\n);\n\n//#endregion\n\n//#region --- REFERENCES\n\nabstract class ReferencesAction extends SymbolNavigationAction {\n\tprotected _getNoResultFoundMessage(info: IWordAtPosition | null): string {\n\t\treturn info\n\t\t\t? nls.localize(\n\t\t\t\t\t\"references.no\",\n\t\t\t\t\t\"No references found for '{0}'\",\n\t\t\t\t\tinfo.word,\n\t\t\t\t)\n\t\t\t: nls.localize(\"references.noGeneric\", \"No references found\");\n\t}\n\n\tprotected _getAlternativeCommand(editor: IActiveCodeEditor): string {\n\t\treturn editor.getOption(EditorOption.gotoLocation)\n\t\t\t.alternativeReferenceCommand;\n\t}\n\n\tprotected _getGoToPreference(\n\t\teditor: IActiveCodeEditor,\n\t): GoToLocationValues {\n\t\treturn editor.getOption(EditorOption.gotoLocation).multipleReferences;\n\t}\n}\n\nregisterAction2(\n\tclass GoToReferencesAction extends ReferencesAction {\n\t\tconstructor() {\n\t\t\tsuper(\n\t\t\t\t{\n\t\t\t\t\topenToSide: false,\n\t\t\t\t\topenInPeek: false,\n\t\t\t\t\tmuteMessage: false,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: \"editor.action.goToReferences\",\n\t\t\t\t\ttitle: {\n\t\t\t\t\t\t...nls.localize2(\n\t\t\t\t\t\t\t\"goToReferences.label\",\n\t\t\t\t\t\t\t\"Go to References\",\n\t\t\t\t\t\t),\n\t\t\t\t\t\tmnemonicTitle: nls.localize(\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tkey: \"miGotoReference\",\n\t\t\t\t\t\t\t\tcomment: [\"&& denotes a mnemonic\"],\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\"Go to &&References\",\n\t\t\t\t\t\t),\n\t\t\t\t\t},\n\t\t\t\t\tprecondition: ContextKeyExpr.and(\n\t\t\t\t\t\tEditorContextKeys.hasReferenceProvider,\n\t\t\t\t\t\tPeekContext.notInPeekEditor,\n\t\t\t\t\t\tEditorContextKeys.isInEmbeddedEditor.toNegated(),\n\t\t\t\t\t),\n\t\t\t\t\tkeybinding: {\n\t\t\t\t\t\twhen: EditorContextKeys.editorTextFocus,\n\t\t\t\t\t\tprimary: KeyMod.Shift | KeyCode.F12,\n\t\t\t\t\t\tweight: KeybindingWeight.EditorContrib,\n\t\t\t\t\t},\n\t\t\t\t\tmenu: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: MenuId.EditorContext,\n\t\t\t\t\t\t\tgroup: \"navigation\",\n\t\t\t\t\t\t\torder: 1.45,\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: MenuId.MenubarGoMenu,\n\t\t\t\t\t\t\tprecondition: null,\n\t\t\t\t\t\t\tgroup: \"4_symbol_nav\",\n\t\t\t\t\t\t\torder: 5,\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t},\n\t\t\t);\n\t\t}\n\n\t\tprotected async _getLocationModel(\n\t\t\tlanguageFeaturesService: ILanguageFeaturesService,\n\t\t\tmodel: ITextModel,\n\t\t\tposition: corePosition.Position,\n\t\t\ttoken: CancellationToken,\n\t\t): Promise<ReferencesModel> {\n\t\t\treturn new ReferencesModel(\n\t\t\t\tawait getReferencesAtPosition(\n\t\t\t\t\tlanguageFeaturesService.referenceProvider,\n\t\t\t\t\tmodel,\n\t\t\t\t\tposition,\n\t\t\t\t\ttrue,\n\t\t\t\t\tfalse,\n\t\t\t\t\ttoken,\n\t\t\t\t),\n\t\t\t\tnls.localize(\"ref.title\", \"References\"),\n\t\t\t);\n\t\t}\n\t},\n);\n\nregisterAction2(\n\tclass PeekReferencesAction extends ReferencesAction {\n\t\tconstructor() {\n\t\t\tsuper(\n\t\t\t\t{\n\t\t\t\t\topenToSide: false,\n\t\t\t\t\topenInPeek: true,\n\t\t\t\t\tmuteMessage: false,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: \"editor.action.referenceSearch.trigger\",\n\t\t\t\t\ttitle: nls.localize2(\n\t\t\t\t\t\t\"references.action.label\",\n\t\t\t\t\t\t\"Peek References\",\n\t\t\t\t\t),\n\t\t\t\t\tprecondition: ContextKeyExpr.and(\n\t\t\t\t\t\tEditorContextKeys.hasReferenceProvider,\n\t\t\t\t\t\tPeekContext.notInPeekEditor,\n\t\t\t\t\t\tEditorContextKeys.isInEmbeddedEditor.toNegated(),\n\t\t\t\t\t),\n\t\t\t\t\tmenu: {\n\t\t\t\t\t\tid: MenuId.EditorContextPeek,\n\t\t\t\t\t\tgroup: \"peek\",\n\t\t\t\t\t\torder: 6,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t);\n\t\t}\n\n\t\tprotected async _getLocationModel(\n\t\t\tlanguageFeaturesService: ILanguageFeaturesService,\n\t\t\tmodel: ITextModel,\n\t\t\tposition: corePosition.Position,\n\t\t\ttoken: CancellationToken,\n\t\t): Promise<ReferencesModel> {\n\t\t\treturn new ReferencesModel(\n\t\t\t\tawait getReferencesAtPosition(\n\t\t\t\t\tlanguageFeaturesService.referenceProvider,\n\t\t\t\t\tmodel,\n\t\t\t\t\tposition,\n\t\t\t\t\tfalse,\n\t\t\t\t\tfalse,\n\t\t\t\t\ttoken,\n\t\t\t\t),\n\t\t\t\tnls.localize(\"ref.title\", \"References\"),\n\t\t\t);\n\t\t}\n\t},\n);\n\n//#endregion\n\n//#region --- GENERIC goto symbols command\n\nclass GenericGoToLocationAction extends SymbolNavigationAction {\n\tconstructor(\n\t\tconfig: SymbolNavigationActionConfig,\n\t\tprivate readonly _references: Location[],\n\t\tprivate readonly _gotoMultipleBehaviour: GoToLocationValues | undefined,\n\t) {\n\t\tsuper(config, {\n\t\t\tid: \"editor.action.goToLocation\",\n\t\t\ttitle: nls.localize2(\"label.generic\", \"Go to Any Symbol\"),\n\t\t\tprecondition: ContextKeyExpr.and(\n\t\t\t\tPeekContext.notInPeekEditor,\n\t\t\t\tEditorContextKeys.isInEmbeddedEditor.toNegated(),\n\t\t\t),\n\t\t});\n\t}\n\n\tprotected async _getLocationModel(\n\t\tlanguageFeaturesService: ILanguageFeaturesService,\n\t\t_model: ITextModel,\n\t\t_position: corePosition.Position,\n\t\t_token: CancellationToken,\n\t): Promise<ReferencesModel | undefined> {\n\t\treturn new ReferencesModel(\n\t\t\tthis._references,\n\t\t\tnls.localize(\"generic.title\", \"Locations\"),\n\t\t);\n\t}\n\n\tprotected _getNoResultFoundMessage(info: IWordAtPosition | null): string {\n\t\treturn (\n\t\t\t(info &&\n\t\t\t\tnls.localize(\n\t\t\t\t\t\"generic.noResult\",\n\t\t\t\t\t\"No results for '{0}'\",\n\t\t\t\t\tinfo.word,\n\t\t\t\t)) ||\n\t\t\t\"\"\n\t\t);\n\t}\n\n\tprotected _getGoToPreference(\n\t\teditor: IActiveCodeEditor,\n\t): GoToLocationValues {\n\t\treturn (\n\t\t\tthis._gotoMultipleBehaviour ??\n\t\t\teditor.getOption(EditorOption.gotoLocation).multipleReferences\n\t\t);\n\t}\n\n\tprotected _getAlternativeCommand() {\n\t\treturn \"\";\n\t}\n}\n\nCommandsRegistry.registerCommand({\n\tid: \"editor.action.goToLocations\",\n\tmetadata: {\n\t\tdescription: \"Go to locations from a position in a file\",\n\t\targs: [\n\t\t\t{\n\t\t\t\tname: \"uri\",\n\t\t\t\tdescription: \"The text document in which to start\",\n\t\t\t\tconstraint: URI,\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"position\",\n\t\t\t\tdescription: \"The position at which to start\",\n\t\t\t\tconstraint: corePosition.Position.isIPosition,\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"locations\",\n\t\t\t\tdescription: \"An array of locations.\",\n\t\t\t\tconstraint: Array,\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"multiple\",\n\t\t\t\tdescription:\n\t\t\t\t\t\"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto`\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"noResultsMessage\",\n\t\t\t\tdescription:\n\t\t\t\t\t\"Human readable message that shows when locations is empty.\",\n\t\t\t},\n\t\t],\n\t},\n\thandler: async (\n\t\taccessor: ServicesAccessor,\n\t\tresource: any,\n\t\tposition: any,\n\t\treferences: any,\n\t\tmultiple?: any,\n\t\tnoResultsMessage?: string,\n\t\topenInPeek?: boolean,\n\t) => {\n\t\tassertType(URI.isUri(resource));\n\t\tassertType(corePosition.Position.isIPosition(position));\n\t\tassertType(Array.isArray(references));\n\t\tassertType(\n\t\t\ttypeof multiple === \"undefined\" || typeof multiple === \"string\",\n\t\t);\n\t\tassertType(\n\t\t\ttypeof openInPeek === \"undefined\" ||\n\t\t\t\ttypeof openInPeek === \"boolean\",\n\t\t);\n\n\t\tconst editorService = accessor.get(ICodeEditorService);\n\t\tconst editor = await editorService.openCodeEditor(\n\t\t\t{ resource },\n\t\t\teditorService.getFocusedCodeEditor(),\n\t\t);\n\n\t\tif (isCodeEditor(editor)) {\n\t\t\teditor.setPosition(position);\n\t\t\teditor.revealPositionInCenterIfOutsideViewport(\n\t\t\t\tposition,\n\t\t\t\tScrollType.Smooth,\n\t\t\t);\n\n\t\t\treturn editor.invokeWithinContext((accessor) => {\n\t\t\t\tconst command = new (class extends GenericGoToLocationAction {\n\t\t\t\t\tprotected override _getNoResultFoundMessage(\n\t\t\t\t\t\tinfo: IWordAtPosition | null,\n\t\t\t\t\t) {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\tnoResultsMessage ||\n\t\t\t\t\t\t\tsuper._getNoResultFoundMessage(info)\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t})(\n\t\t\t\t\t{\n\t\t\t\t\t\tmuteMessage: !Boolean(noResultsMessage),\n\t\t\t\t\t\topenInPeek: Boolean(openInPeek),\n\t\t\t\t\t\topenToSide: false,\n\t\t\t\t\t},\n\t\t\t\t\treferences,\n\t\t\t\t\tmultiple as GoToLocationValues,\n\t\t\t\t);\n\n\t\t\t\taccessor\n\t\t\t\t\t.get(IInstantiationService)\n\t\t\t\t\t.invokeFunction(command.run.bind(command), editor);\n\t\t\t});\n\t\t}\n\t},\n});\n\nCommandsRegistry.registerCommand({\n\tid: \"editor.action.peekLocations\",\n\tmetadata: {\n\t\tdescription: \"Peek locations from a position in a file\",\n\t\targs: [\n\t\t\t{\n\t\t\t\tname: \"uri\",\n\t\t\t\tdescription: \"The text document in which to start\",\n\t\t\t\tconstraint: URI,\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"position\",\n\t\t\t\tdescription: \"The position at which to start\",\n\t\t\t\tconstraint: corePosition.Position.isIPosition,\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"locations\",\n\t\t\t\tdescription: \"An array of locations.\",\n\t\t\t\tconstraint: Array,\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"multiple\",\n\t\t\t\tdescription:\n\t\t\t\t\t\"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto`\",\n\t\t\t},\n\t\t],\n\t},\n\thandler: async (\n\t\taccessor: ServicesAccessor,\n\t\tresource: any,\n\t\tposition: any,\n\t\treferences: any,\n\t\tmultiple?: any,\n\t) => {\n\t\taccessor\n\t\t\t.get(ICommandService)\n\t\t\t.executeCommand(\n\t\t\t\t\"editor.action.goToLocations\",\n\t\t\t\tresource,\n\t\t\t\tposition,\n\t\t\t\treferences,\n\t\t\t\tmultiple,\n\t\t\t\tundefined,\n\t\t\t\ttrue,\n\t\t\t);\n\t},\n});\n\n//#endregion\n\n//#region --- REFERENCE search special commands\n\nCommandsRegistry.registerCommand({\n\tid: \"editor.action.findReferences\",\n\thandler: (accessor: ServicesAccessor, resource: any, position: any) => {\n\t\tassertType(URI.isUri(resource));\n\t\tassertType(corePosition.Position.isIPosition(position));\n\n\t\tconst languageFeaturesService = accessor.get(ILanguageFeaturesService);\n\t\tconst codeEditorService = accessor.get(ICodeEditorService);\n\t\treturn codeEditorService\n\t\t\t.openCodeEditor(\n\t\t\t\t{ resource },\n\t\t\t\tcodeEditorService.getFocusedCodeEditor(),\n\t\t\t)\n\t\t\t.then((control) => {\n\t\t\t\tif (!isCodeEditor(control) || !control.hasModel()) {\n\t\t\t\t\treturn undefined;\n\t\t\t\t}\n\n\t\t\t\tconst controller = ReferencesController.get(control);\n\t\t\t\tif (!controller) {\n\t\t\t\t\treturn undefined;\n\t\t\t\t}\n\n\t\t\t\tconst references = createCancelablePromise((token) =>\n\t\t\t\t\tgetReferencesAtPosition(\n\t\t\t\t\t\tlanguageFeaturesService.referenceProvider,\n\t\t\t\t\t\tcontrol.getModel(),\n\t\t\t\t\t\tcorePosition.Position.lift(position),\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\ttoken,\n\t\t\t\t\t).then(\n\t\t\t\t\t\t(references) =>\n\t\t\t\t\t\t\tnew ReferencesModel(\n\t\t\t\t\t\t\t\treferences,\n\t\t\t\t\t\t\t\tnls.localize(\"ref.title\", \"References\"),\n\t\t\t\t\t\t\t),\n\t\t\t\t\t),\n\t\t\t\t);\n\t\t\t\tconst range = new Range(\n\t\t\t\t\tposition.lineNumber,\n\t\t\t\t\tposition.column,\n\t\t\t\t\tposition.lineNumber,\n\t\t\t\t\tposition.column,\n\t\t\t\t);\n\t\t\t\treturn Promise.resolve(\n\t\t\t\t\tcontroller.toggleWidget(range, references, false),\n\t\t\t\t);\n\t\t\t});\n\t},\n});\n\n// use NEW command\nCommandsRegistry.registerCommandAlias(\n\t\"editor.action.showReferences\",\n\t\"editor.action.peekLocations\",\n);\n\n//#endregion\n"],
  "mappings": "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",
  "names": ["accessor", "references"]
}
