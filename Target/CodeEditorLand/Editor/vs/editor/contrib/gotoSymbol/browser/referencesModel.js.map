{
  "version": 3,
  "sources": ["../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/editor/contrib/gotoSymbol/browser/referencesModel.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { onUnexpectedError } from \"../../../../base/common/errors.js\";\nimport { Emitter, type Event } from \"../../../../base/common/event.js\";\nimport type { IMatch } from \"../../../../base/common/filters.js\";\nimport { defaultGenerator } from \"../../../../base/common/idGenerator.js\";\nimport {\n\ttype IDisposable,\n\ttype IReference,\n\tdispose,\n} from \"../../../../base/common/lifecycle.js\";\nimport { ResourceMap } from \"../../../../base/common/map.js\";\nimport { basename, extUri } from \"../../../../base/common/resources.js\";\nimport * as strings from \"../../../../base/common/strings.js\";\nimport { Constants } from \"../../../../base/common/uint.js\";\nimport type { URI } from \"../../../../base/common/uri.js\";\nimport { localize } from \"../../../../nls.js\";\nimport type { Position } from \"../../../common/core/position.js\";\nimport { type IRange, Range } from \"../../../common/core/range.js\";\nimport type { Location, LocationLink } from \"../../../common/languages.js\";\nimport type {\n\tITextEditorModel,\n\tITextModelService,\n} from \"../../../common/services/resolverService.js\";\n\nexport class OneReference {\n\treadonly id: string = defaultGenerator.nextId();\n\n\tprivate _range?: IRange;\n\n\tconstructor(\n\t\treadonly isProviderFirst: boolean,\n\t\treadonly parent: FileReferences,\n\t\treadonly link: LocationLink,\n\t\tprivate _rangeCallback: (ref: OneReference) => void,\n\t) {}\n\n\tget uri() {\n\t\treturn this.link.uri;\n\t}\n\n\tget range(): IRange {\n\t\treturn this._range ?? this.link.targetSelectionRange ?? this.link.range;\n\t}\n\n\tset range(value: IRange) {\n\t\tthis._range = value;\n\t\tthis._rangeCallback(this);\n\t}\n\n\tget ariaMessage(): string {\n\t\tconst preview = this.parent.getPreview(this)?.preview(this.range);\n\n\t\tif (preview) {\n\t\t\treturn localize(\n\t\t\t\t{\n\t\t\t\t\tkey: \"aria.oneReference.preview\",\n\t\t\t\t\tcomment: [\n\t\t\t\t\t\t\"Placeholders are: 0: filename, 1:line number, 2: column number, 3: preview snippet of source code\",\n\t\t\t\t\t],\n\t\t\t\t},\n\t\t\t\t\"{0} in {1} on line {2} at column {3}\",\n\t\t\t\tpreview.value,\n\t\t\t\tbasename(this.uri),\n\t\t\t\tthis.range.startLineNumber,\n\t\t\t\tthis.range.startColumn,\n\t\t\t);\n\t\t} else {\n\t\t\treturn localize(\n\t\t\t\t\"aria.oneReference\",\n\t\t\t\t\"in {0} on line {1} at column {2}\",\n\t\t\t\tbasename(this.uri),\n\t\t\t\tthis.range.startLineNumber,\n\t\t\t\tthis.range.startColumn,\n\t\t\t);\n\t\t}\n\t}\n}\n\nexport class FilePreview implements IDisposable {\n\tconstructor(\n\t\tprivate readonly _modelReference: IReference<ITextEditorModel>,\n\t) {}\n\n\tdispose(): void {\n\t\tthis._modelReference.dispose();\n\t}\n\n\tpreview(\n\t\trange: IRange,\n\t\tn = 8,\n\t): { value: string; highlight: IMatch } | undefined {\n\t\tconst model = this._modelReference.object.textEditorModel;\n\n\t\tif (!model) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tconst { startLineNumber, startColumn, endLineNumber, endColumn } =\n\t\t\trange;\n\t\tconst word = model.getWordUntilPosition({\n\t\t\tlineNumber: startLineNumber,\n\t\t\tcolumn: startColumn - n,\n\t\t});\n\t\tconst beforeRange = new Range(\n\t\t\tstartLineNumber,\n\t\t\tword.startColumn,\n\t\t\tstartLineNumber,\n\t\t\tstartColumn,\n\t\t);\n\t\tconst afterRange = new Range(\n\t\t\tendLineNumber,\n\t\t\tendColumn,\n\t\t\tendLineNumber,\n\t\t\tConstants.MAX_SAFE_SMALL_INTEGER,\n\t\t);\n\n\t\tconst before = model.getValueInRange(beforeRange).replace(/^\\s+/, \"\");\n\t\tconst inside = model.getValueInRange(range);\n\t\tconst after = model.getValueInRange(afterRange).replace(/\\s+$/, \"\");\n\n\t\treturn {\n\t\t\tvalue: before + inside + after,\n\t\t\thighlight: {\n\t\t\t\tstart: before.length,\n\t\t\t\tend: before.length + inside.length,\n\t\t\t},\n\t\t};\n\t}\n}\n\nexport class FileReferences implements IDisposable {\n\treadonly children: OneReference[] = [];\n\n\tprivate _previews = new ResourceMap<FilePreview>();\n\n\tconstructor(\n\t\treadonly parent: ReferencesModel,\n\t\treadonly uri: URI,\n\t) {}\n\n\tdispose(): void {\n\t\tdispose(this._previews.values());\n\t\tthis._previews.clear();\n\t}\n\n\tgetPreview(child: OneReference): FilePreview | undefined {\n\t\treturn this._previews.get(child.uri);\n\t}\n\n\tget ariaMessage(): string {\n\t\tconst len = this.children.length;\n\t\tif (len === 1) {\n\t\t\treturn localize(\n\t\t\t\t\"aria.fileReferences.1\",\n\t\t\t\t\"1 symbol in {0}, full path {1}\",\n\t\t\t\tbasename(this.uri),\n\t\t\t\tthis.uri.fsPath,\n\t\t\t);\n\t\t} else {\n\t\t\treturn localize(\n\t\t\t\t\"aria.fileReferences.N\",\n\t\t\t\t\"{0} symbols in {1}, full path {2}\",\n\t\t\t\tlen,\n\t\t\t\tbasename(this.uri),\n\t\t\t\tthis.uri.fsPath,\n\t\t\t);\n\t\t}\n\t}\n\n\tasync resolve(\n\t\ttextModelResolverService: ITextModelService,\n\t): Promise<FileReferences> {\n\t\tif (this._previews.size !== 0) {\n\t\t\treturn this;\n\t\t}\n\t\tfor (const child of this.children) {\n\t\t\tif (this._previews.has(child.uri)) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tconst ref = await textModelResolverService.createModelReference(\n\t\t\t\t\tchild.uri,\n\t\t\t\t);\n\t\t\t\tthis._previews.set(child.uri, new FilePreview(ref));\n\t\t\t} catch (err) {\n\t\t\t\tonUnexpectedError(err);\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t}\n}\n\nexport class ReferencesModel implements IDisposable {\n\tprivate readonly _links: LocationLink[];\n\tprivate readonly _title: string;\n\n\treadonly groups: FileReferences[] = [];\n\treadonly references: OneReference[] = [];\n\n\treadonly _onDidChangeReferenceRange = new Emitter<OneReference>();\n\treadonly onDidChangeReferenceRange: Event<OneReference> =\n\t\tthis._onDidChangeReferenceRange.event;\n\n\tconstructor(links: LocationLink[], title: string) {\n\t\tthis._links = links;\n\t\tthis._title = title;\n\n\t\t// grouping and sorting\n\t\tconst [providersFirst] = links;\n\t\tlinks.sort(ReferencesModel._compareReferences);\n\n\t\tlet current: FileReferences | undefined;\n\t\tfor (const link of links) {\n\t\t\tif (!current || !extUri.isEqual(current.uri, link.uri, true)) {\n\t\t\t\t// new group\n\t\t\t\tcurrent = new FileReferences(this, link.uri);\n\t\t\t\tthis.groups.push(current);\n\t\t\t}\n\n\t\t\t// append, check for equality first!\n\t\t\tif (\n\t\t\t\tcurrent.children.length === 0 ||\n\t\t\t\tReferencesModel._compareReferences(\n\t\t\t\t\tlink,\n\t\t\t\t\tcurrent.children[current.children.length - 1],\n\t\t\t\t) !== 0\n\t\t\t) {\n\t\t\t\tconst oneRef = new OneReference(\n\t\t\t\t\tprovidersFirst === link,\n\t\t\t\t\tcurrent,\n\t\t\t\t\tlink,\n\t\t\t\t\t(ref) => this._onDidChangeReferenceRange.fire(ref),\n\t\t\t\t);\n\t\t\t\tthis.references.push(oneRef);\n\t\t\t\tcurrent.children.push(oneRef);\n\t\t\t}\n\t\t}\n\t}\n\n\tdispose(): void {\n\t\tdispose(this.groups);\n\t\tthis._onDidChangeReferenceRange.dispose();\n\t\tthis.groups.length = 0;\n\t}\n\n\tclone(): ReferencesModel {\n\t\treturn new ReferencesModel(this._links, this._title);\n\t}\n\n\tget title(): string {\n\t\treturn this._title;\n\t}\n\n\tget isEmpty(): boolean {\n\t\treturn this.groups.length === 0;\n\t}\n\n\tget ariaMessage(): string {\n\t\tif (this.isEmpty) {\n\t\t\treturn localize(\"aria.result.0\", \"No results found\");\n\t\t} else if (this.references.length === 1) {\n\t\t\treturn localize(\n\t\t\t\t\"aria.result.1\",\n\t\t\t\t\"Found 1 symbol in {0}\",\n\t\t\t\tthis.references[0].uri.fsPath,\n\t\t\t);\n\t\t} else if (this.groups.length === 1) {\n\t\t\treturn localize(\n\t\t\t\t\"aria.result.n1\",\n\t\t\t\t\"Found {0} symbols in {1}\",\n\t\t\t\tthis.references.length,\n\t\t\t\tthis.groups[0].uri.fsPath,\n\t\t\t);\n\t\t} else {\n\t\t\treturn localize(\n\t\t\t\t\"aria.result.nm\",\n\t\t\t\t\"Found {0} symbols in {1} files\",\n\t\t\t\tthis.references.length,\n\t\t\t\tthis.groups.length,\n\t\t\t);\n\t\t}\n\t}\n\n\tnextOrPreviousReference(\n\t\treference: OneReference,\n\t\tnext: boolean,\n\t): OneReference {\n\t\tconst { parent } = reference;\n\n\t\tlet idx = parent.children.indexOf(reference);\n\t\tconst childCount = parent.children.length;\n\t\tconst groupCount = parent.parent.groups.length;\n\n\t\tif (\n\t\t\tgroupCount === 1 ||\n\t\t\t(next && idx + 1 < childCount) ||\n\t\t\t(!next && idx > 0)\n\t\t) {\n\t\t\t// cycling within one file\n\t\t\tif (next) {\n\t\t\t\tidx = (idx + 1) % childCount;\n\t\t\t} else {\n\t\t\t\tidx = (idx + childCount - 1) % childCount;\n\t\t\t}\n\t\t\treturn parent.children[idx];\n\t\t}\n\n\t\tidx = parent.parent.groups.indexOf(parent);\n\t\tif (next) {\n\t\t\tidx = (idx + 1) % groupCount;\n\t\t\treturn parent.parent.groups[idx].children[0];\n\t\t} else {\n\t\t\tidx = (idx + groupCount - 1) % groupCount;\n\t\t\treturn parent.parent.groups[idx].children[\n\t\t\t\tparent.parent.groups[idx].children.length - 1\n\t\t\t];\n\t\t}\n\t}\n\n\tnearestReference(\n\t\tresource: URI,\n\t\tposition: Position,\n\t): OneReference | undefined {\n\t\tconst nearest = this.references\n\t\t\t.map((ref, idx) => {\n\t\t\t\treturn {\n\t\t\t\t\tidx,\n\t\t\t\t\tprefixLen: strings.commonPrefixLength(\n\t\t\t\t\t\tref.uri.toString(),\n\t\t\t\t\t\tresource.toString(),\n\t\t\t\t\t),\n\t\t\t\t\toffsetDist:\n\t\t\t\t\t\tMath.abs(\n\t\t\t\t\t\t\tref.range.startLineNumber - position.lineNumber,\n\t\t\t\t\t\t) *\n\t\t\t\t\t\t\t100 +\n\t\t\t\t\t\tMath.abs(ref.range.startColumn - position.column),\n\t\t\t\t};\n\t\t\t})\n\t\t\t.sort((a, b) => {\n\t\t\t\tif (a.prefixLen > b.prefixLen) {\n\t\t\t\t\treturn -1;\n\t\t\t\t} else if (a.prefixLen < b.prefixLen) {\n\t\t\t\t\treturn 1;\n\t\t\t\t} else if (a.offsetDist < b.offsetDist) {\n\t\t\t\t\treturn -1;\n\t\t\t\t} else if (a.offsetDist > b.offsetDist) {\n\t\t\t\t\treturn 1;\n\t\t\t\t} else {\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\t\t\t})[0];\n\n\t\tif (nearest) {\n\t\t\treturn this.references[nearest.idx];\n\t\t}\n\t\treturn undefined;\n\t}\n\n\treferenceAt(resource: URI, position: Position): OneReference | undefined {\n\t\tfor (const ref of this.references) {\n\t\t\tif (ref.uri.toString() === resource.toString()) {\n\t\t\t\tif (Range.containsPosition(ref.range, position)) {\n\t\t\t\t\treturn ref;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn undefined;\n\t}\n\n\tfirstReference(): OneReference | undefined {\n\t\tfor (const ref of this.references) {\n\t\t\tif (ref.isProviderFirst) {\n\t\t\t\treturn ref;\n\t\t\t}\n\t\t}\n\t\treturn this.references[0];\n\t}\n\n\tprivate static _compareReferences(a: Location, b: Location): number {\n\t\treturn (\n\t\t\textUri.compare(a.uri, b.uri) ||\n\t\t\tRange.compareRangesUsingStarts(a.range, b.range)\n\t\t);\n\t}\n}\n"],
  "mappings": "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",
  "names": []
}
