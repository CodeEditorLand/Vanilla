{
  "version": 3,
  "sources": ["../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/editor/contrib/contextmenu/browser/contextmenu.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as dom from \"../../../../base/browser/dom.js\";\nimport type { IKeyboardEvent } from \"../../../../base/browser/keyboardEvent.js\";\nimport type {\n\tIMouseEvent,\n\tIMouseWheelEvent,\n} from \"../../../../base/browser/mouseEvent.js\";\nimport { ActionViewItem } from \"../../../../base/browser/ui/actionbar/actionViewItems.js\";\nimport type { IAnchor } from \"../../../../base/browser/ui/contextview/contextview.js\";\nimport {\n\ttype IAction,\n\tSeparator,\n\tSubmenuAction,\n} from \"../../../../base/common/actions.js\";\nimport { KeyCode, KeyMod } from \"../../../../base/common/keyCodes.js\";\nimport type { ResolvedKeybinding } from \"../../../../base/common/keybindings.js\";\nimport { DisposableStore } from \"../../../../base/common/lifecycle.js\";\nimport { isIOS } from \"../../../../base/common/platform.js\";\nimport * as nls from \"../../../../nls.js\";\nimport {\n\tIMenuService,\n\ttype MenuId,\n\tSubmenuItemAction,\n} from \"../../../../platform/actions/common/actions.js\";\nimport { IConfigurationService } from \"../../../../platform/configuration/common/configuration.js\";\nimport { IContextKeyService } from \"../../../../platform/contextkey/common/contextkey.js\";\nimport {\n\tIContextMenuService,\n\tIContextViewService,\n} from \"../../../../platform/contextview/browser/contextView.js\";\nimport { IKeybindingService } from \"../../../../platform/keybinding/common/keybinding.js\";\nimport { KeybindingWeight } from \"../../../../platform/keybinding/common/keybindingsRegistry.js\";\nimport {\n\tIWorkspaceContextService,\n\tisStandaloneEditorWorkspace,\n} from \"../../../../platform/workspace/common/workspace.js\";\nimport {\n\ttype ICodeEditor,\n\ttype IEditorMouseEvent,\n\tMouseTargetType,\n} from \"../../../browser/editorBrowser.js\";\nimport {\n\tEditorAction,\n\tEditorContributionInstantiation,\n\ttype ServicesAccessor,\n\tregisterEditorAction,\n\tregisterEditorContribution,\n} from \"../../../browser/editorExtensions.js\";\nimport { EditorOption } from \"../../../common/config/editorOptions.js\";\nimport {\n\ttype IEditorContribution,\n\tScrollType,\n} from \"../../../common/editorCommon.js\";\nimport { EditorContextKeys } from \"../../../common/editorContextKeys.js\";\nimport type { ITextModel } from \"../../../common/model.js\";\n\nexport class ContextMenuController implements IEditorContribution {\n\tpublic static readonly ID = \"editor.contrib.contextmenu\";\n\n\tpublic static get(editor: ICodeEditor): ContextMenuController | null {\n\t\treturn editor.getContribution<ContextMenuController>(\n\t\t\tContextMenuController.ID,\n\t\t);\n\t}\n\n\tprivate readonly _toDispose = new DisposableStore();\n\tprivate _contextMenuIsBeingShownCount = 0;\n\tprivate readonly _editor: ICodeEditor;\n\n\tconstructor(\n\t\teditor: ICodeEditor,\n\t\t@IContextMenuService private readonly _contextMenuService: IContextMenuService,\n\t\t@IContextViewService private readonly _contextViewService: IContextViewService,\n\t\t@IContextKeyService private readonly _contextKeyService: IContextKeyService,\n\t\t@IKeybindingService private readonly _keybindingService: IKeybindingService,\n\t\t@IMenuService private readonly _menuService: IMenuService,\n\t\t@IConfigurationService private readonly _configurationService: IConfigurationService,\n\t\t@IWorkspaceContextService private readonly _workspaceContextService: IWorkspaceContextService,\n\t) {\n\t\tthis._editor = editor;\n\n\t\tthis._toDispose.add(this._editor.onContextMenu((e: IEditorMouseEvent) => this._onContextMenu(e)));\n\t\tthis._toDispose.add(this._editor.onMouseWheel((e: IMouseWheelEvent) => {\n\t\t\tif (this._contextMenuIsBeingShownCount > 0) {\n\t\t\t\tconst view = this._contextViewService.getContextViewElement();\n\t\t\t\tconst target = e.srcElement as HTMLElement;\n\n\t\t\t\t// Event triggers on shadow root host first\n\t\t\t\t// Check if the context view is under this host before hiding it #103169\n\t\t\t\tif (!(target.shadowRoot && dom.getShadowRoot(view) === target.shadowRoot)) {\n\t\t\t\t\tthis._contextViewService.hideContextView();\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\t\tthis._toDispose.add(this._editor.onKeyDown((e: IKeyboardEvent) => {\n\t\t\tif (!this._editor.getOption(EditorOption.contextmenu)) {\n\t\t\t\treturn; // Context menu is turned off through configuration\n\t\t\t}\n\t\t\tif (e.keyCode === KeyCode.ContextMenu) {\n\t\t\t\t// Chrome is funny like that\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\t\t\t\tthis.showContextMenu();\n\t\t\t}\n\t\t}));\n\t}\n\n\tprivate _onContextMenu(e: IEditorMouseEvent): void {\n\t\tif (!this._editor.hasModel()) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!this._editor.getOption(EditorOption.contextmenu)) {\n\t\t\tthis._editor.focus();\n\t\t\t// Ensure the cursor is at the position of the mouse click\n\t\t\tif (\n\t\t\t\te.target.position &&\n\t\t\t\t!this._editor.getSelection().containsPosition(e.target.position)\n\t\t\t) {\n\t\t\t\tthis._editor.setPosition(e.target.position);\n\t\t\t}\n\t\t\treturn; // Context menu is turned off through configuration\n\t\t}\n\n\t\tif (e.target.type === MouseTargetType.OVERLAY_WIDGET) {\n\t\t\treturn; // allow native menu on widgets to support right click on input field for example in find\n\t\t}\n\t\tif (\n\t\t\te.target.type === MouseTargetType.CONTENT_TEXT &&\n\t\t\te.target.detail.injectedText\n\t\t) {\n\t\t\treturn; // allow native menu on injected text\n\t\t}\n\n\t\te.event.preventDefault();\n\t\te.event.stopPropagation();\n\n\t\tif (e.target.type === MouseTargetType.SCROLLBAR) {\n\t\t\treturn this._showScrollbarContextMenu(e.event);\n\t\t}\n\n\t\tif (\n\t\t\te.target.type !== MouseTargetType.CONTENT_TEXT &&\n\t\t\te.target.type !== MouseTargetType.CONTENT_EMPTY &&\n\t\t\te.target.type !== MouseTargetType.TEXTAREA\n\t\t) {\n\t\t\treturn; // only support mouse click into text or native context menu key for now\n\t\t}\n\n\t\t// Ensure the editor gets focus if it hasn't, so the right events are being sent to other contributions\n\t\tthis._editor.focus();\n\n\t\t// Ensure the cursor is at the position of the mouse click\n\t\tif (e.target.position) {\n\t\t\tlet hasSelectionAtPosition = false;\n\t\t\tfor (const selection of this._editor.getSelections()) {\n\t\t\t\tif (selection.containsPosition(e.target.position)) {\n\t\t\t\t\thasSelectionAtPosition = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!hasSelectionAtPosition) {\n\t\t\t\tthis._editor.setPosition(e.target.position);\n\t\t\t}\n\t\t}\n\n\t\t// Unless the user triggerd the context menu through Shift+F10, use the mouse position as menu position\n\t\tlet anchor: IMouseEvent | null = null;\n\t\tif (e.target.type !== MouseTargetType.TEXTAREA) {\n\t\t\tanchor = e.event;\n\t\t}\n\n\t\t// Show the context menu\n\t\tthis.showContextMenu(anchor);\n\t}\n\n\tpublic showContextMenu(anchor?: IMouseEvent | null): void {\n\t\tif (!this._editor.getOption(EditorOption.contextmenu)) {\n\t\t\treturn; // Context menu is turned off through configuration\n\t\t}\n\t\tif (!this._editor.hasModel()) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Find actions available for menu\n\t\tconst menuActions = this._getMenuActions(\n\t\t\tthis._editor.getModel(),\n\t\t\tthis._editor.contextMenuId,\n\t\t);\n\n\t\t// Show menu if we have actions to show\n\t\tif (menuActions.length > 0) {\n\t\t\tthis._doShowContextMenu(menuActions, anchor);\n\t\t}\n\t}\n\n\tprivate _getMenuActions(model: ITextModel, menuId: MenuId): IAction[] {\n\t\tconst result: IAction[] = [];\n\n\t\t// get menu groups\n\t\tconst groups = this._menuService.getMenuActions(\n\t\t\tmenuId,\n\t\t\tthis._contextKeyService,\n\t\t\t{ arg: model.uri },\n\t\t);\n\n\t\t// translate them into other actions\n\t\tfor (const group of groups) {\n\t\t\tconst [, actions] = group;\n\t\t\tlet addedItems = 0;\n\t\t\tfor (const action of actions) {\n\t\t\t\tif (action instanceof SubmenuItemAction) {\n\t\t\t\t\tconst subActions = this._getMenuActions(\n\t\t\t\t\t\tmodel,\n\t\t\t\t\t\taction.item.submenu,\n\t\t\t\t\t);\n\t\t\t\t\tif (subActions.length > 0) {\n\t\t\t\t\t\tresult.push(\n\t\t\t\t\t\t\tnew SubmenuAction(\n\t\t\t\t\t\t\t\taction.id,\n\t\t\t\t\t\t\t\taction.label,\n\t\t\t\t\t\t\t\tsubActions,\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t);\n\t\t\t\t\t\taddedItems++;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tresult.push(action);\n\t\t\t\t\taddedItems++;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (addedItems) {\n\t\t\t\tresult.push(new Separator());\n\t\t\t}\n\t\t}\n\n\t\tif (result.length) {\n\t\t\tresult.pop(); // remove last separator\n\t\t}\n\n\t\treturn result;\n\t}\n\n\tprivate _doShowContextMenu(\n\t\tactions: IAction[],\n\t\tevent: IMouseEvent | null = null,\n\t): void {\n\t\tif (!this._editor.hasModel()) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Disable hover\n\t\tconst oldHoverSetting = this._editor.getOption(EditorOption.hover);\n\t\tthis._editor.updateOptions({\n\t\t\thover: {\n\t\t\t\tenabled: false,\n\t\t\t},\n\t\t});\n\n\t\tlet anchor: IMouseEvent | IAnchor | null = event;\n\t\tif (!anchor) {\n\t\t\t// Ensure selection is visible\n\t\t\tthis._editor.revealPosition(\n\t\t\t\tthis._editor.getPosition(),\n\t\t\t\tScrollType.Immediate,\n\t\t\t);\n\n\t\t\tthis._editor.render();\n\t\t\tconst cursorCoords = this._editor.getScrolledVisiblePosition(\n\t\t\t\tthis._editor.getPosition(),\n\t\t\t);\n\n\t\t\t// Translate to absolute editor position\n\t\t\tconst editorCoords = dom.getDomNodePagePosition(\n\t\t\t\tthis._editor.getDomNode(),\n\t\t\t);\n\t\t\tconst posx = editorCoords.left + cursorCoords.left;\n\t\t\tconst posy =\n\t\t\t\teditorCoords.top + cursorCoords.top + cursorCoords.height;\n\n\t\t\tanchor = { x: posx, y: posy };\n\t\t}\n\n\t\tconst useShadowDOM =\n\t\t\tthis._editor.getOption(EditorOption.useShadowDOM) && !isIOS; // Do not use shadow dom on IOS #122035\n\n\t\t// Show menu\n\t\tthis._contextMenuIsBeingShownCount++;\n\t\tthis._contextMenuService.showContextMenu({\n\t\t\tdomForShadowRoot: useShadowDOM\n\t\t\t\t? (this._editor.getOverflowWidgetsDomNode() ??\n\t\t\t\t\tthis._editor.getDomNode())\n\t\t\t\t: undefined,\n\n\t\t\tgetAnchor: () => anchor,\n\n\t\t\tgetActions: () => actions,\n\n\t\t\tgetActionViewItem: (action) => {\n\t\t\t\tconst keybinding = this._keybindingFor(action);\n\t\t\t\tif (keybinding) {\n\t\t\t\t\treturn new ActionViewItem(action, action, {\n\t\t\t\t\t\tlabel: true,\n\t\t\t\t\t\tkeybinding: keybinding.getLabel(),\n\t\t\t\t\t\tisMenu: true,\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tconst customActionViewItem = <any>action;\n\t\t\t\tif (\n\t\t\t\t\ttypeof customActionViewItem.getActionViewItem === \"function\"\n\t\t\t\t) {\n\t\t\t\t\treturn customActionViewItem.getActionViewItem();\n\t\t\t\t}\n\n\t\t\t\treturn new ActionViewItem(action, action, {\n\t\t\t\t\ticon: true,\n\t\t\t\t\tlabel: true,\n\t\t\t\t\tisMenu: true,\n\t\t\t\t});\n\t\t\t},\n\n\t\t\tgetKeyBinding: (action): ResolvedKeybinding | undefined => {\n\t\t\t\treturn this._keybindingFor(action);\n\t\t\t},\n\n\t\t\tonHide: (wasCancelled: boolean) => {\n\t\t\t\tthis._contextMenuIsBeingShownCount--;\n\t\t\t\tthis._editor.updateOptions({\n\t\t\t\t\thover: oldHoverSetting,\n\t\t\t\t});\n\t\t\t},\n\t\t});\n\t}\n\n\tprivate _showScrollbarContextMenu(anchor: IMouseEvent): void {\n\t\tif (!this._editor.hasModel()) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (\n\t\t\tisStandaloneEditorWorkspace(\n\t\t\t\tthis._workspaceContextService.getWorkspace(),\n\t\t\t)\n\t\t) {\n\t\t\t// can't update the configuration properly in the standalone editor\n\t\t\treturn;\n\t\t}\n\n\t\tconst minimapOptions = this._editor.getOption(EditorOption.minimap);\n\n\t\tlet lastId = 0;\n\t\tconst createAction = (opts: {\n\t\t\tlabel: string;\n\t\t\tenabled?: boolean;\n\t\t\tchecked?: boolean;\n\t\t\trun: () => void;\n\t\t}): IAction => {\n\t\t\treturn {\n\t\t\t\tid: `menu-action-${++lastId}`,\n\t\t\t\tlabel: opts.label,\n\t\t\t\ttooltip: \"\",\n\t\t\t\tclass: undefined,\n\t\t\t\tenabled:\n\t\t\t\t\ttypeof opts.enabled === \"undefined\" ? true : opts.enabled,\n\t\t\t\tchecked: opts.checked,\n\t\t\t\trun: opts.run,\n\t\t\t};\n\t\t};\n\t\tconst createSubmenuAction = (\n\t\t\tlabel: string,\n\t\t\tactions: IAction[],\n\t\t): SubmenuAction => {\n\t\t\treturn new SubmenuAction(\n\t\t\t\t`menu-action-${++lastId}`,\n\t\t\t\tlabel,\n\t\t\t\tactions,\n\t\t\t\tundefined,\n\t\t\t);\n\t\t};\n\t\tconst createEnumAction = <T>(\n\t\t\tlabel: string,\n\t\t\tenabled: boolean,\n\t\t\tconfigName: string,\n\t\t\tconfiguredValue: T,\n\t\t\toptions: { label: string; value: T }[],\n\t\t): IAction => {\n\t\t\tif (!enabled) {\n\t\t\t\treturn createAction({ label, enabled, run: () => {} });\n\t\t\t}\n\t\t\tconst createRunner = (value: T) => {\n\t\t\t\treturn () => {\n\t\t\t\t\tthis._configurationService.updateValue(configName, value);\n\t\t\t\t};\n\t\t\t};\n\t\t\tconst actions: IAction[] = [];\n\t\t\tfor (const option of options) {\n\t\t\t\tactions.push(\n\t\t\t\t\tcreateAction({\n\t\t\t\t\t\tlabel: option.label,\n\t\t\t\t\t\tchecked: configuredValue === option.value,\n\t\t\t\t\t\trun: createRunner(option.value),\n\t\t\t\t\t}),\n\t\t\t\t);\n\t\t\t}\n\t\t\treturn createSubmenuAction(label, actions);\n\t\t};\n\n\t\tconst actions: IAction[] = [];\n\t\tactions.push(\n\t\t\tcreateAction({\n\t\t\t\tlabel: nls.localize(\"context.minimap.minimap\", \"Minimap\"),\n\t\t\t\tchecked: minimapOptions.enabled,\n\t\t\t\trun: () => {\n\t\t\t\t\tthis._configurationService.updateValue(\n\t\t\t\t\t\t`editor.minimap.enabled`,\n\t\t\t\t\t\t!minimapOptions.enabled,\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t}),\n\t\t);\n\t\tactions.push(new Separator());\n\t\tactions.push(\n\t\t\tcreateAction({\n\t\t\t\tlabel: nls.localize(\n\t\t\t\t\t\"context.minimap.renderCharacters\",\n\t\t\t\t\t\"Render Characters\",\n\t\t\t\t),\n\t\t\t\tenabled: minimapOptions.enabled,\n\t\t\t\tchecked: minimapOptions.renderCharacters,\n\t\t\t\trun: () => {\n\t\t\t\t\tthis._configurationService.updateValue(\n\t\t\t\t\t\t`editor.minimap.renderCharacters`,\n\t\t\t\t\t\t!minimapOptions.renderCharacters,\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t}),\n\t\t);\n\t\tactions.push(\n\t\t\tcreateEnumAction<\"proportional\" | \"fill\" | \"fit\">(\n\t\t\t\tnls.localize(\"context.minimap.size\", \"Vertical size\"),\n\t\t\t\tminimapOptions.enabled,\n\t\t\t\t\"editor.minimap.size\",\n\t\t\t\tminimapOptions.size,\n\t\t\t\t[\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: nls.localize(\n\t\t\t\t\t\t\t\"context.minimap.size.proportional\",\n\t\t\t\t\t\t\t\"Proportional\",\n\t\t\t\t\t\t),\n\t\t\t\t\t\tvalue: \"proportional\",\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: nls.localize(\n\t\t\t\t\t\t\t\"context.minimap.size.fill\",\n\t\t\t\t\t\t\t\"Fill\",\n\t\t\t\t\t\t),\n\t\t\t\t\t\tvalue: \"fill\",\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: nls.localize(\"context.minimap.size.fit\", \"Fit\"),\n\t\t\t\t\t\tvalue: \"fit\",\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t),\n\t\t);\n\t\tactions.push(\n\t\t\tcreateEnumAction<\"always\" | \"mouseover\">(\n\t\t\t\tnls.localize(\"context.minimap.slider\", \"Slider\"),\n\t\t\t\tminimapOptions.enabled,\n\t\t\t\t\"editor.minimap.showSlider\",\n\t\t\t\tminimapOptions.showSlider,\n\t\t\t\t[\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: nls.localize(\n\t\t\t\t\t\t\t\"context.minimap.slider.mouseover\",\n\t\t\t\t\t\t\t\"Mouse Over\",\n\t\t\t\t\t\t),\n\t\t\t\t\t\tvalue: \"mouseover\",\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: nls.localize(\n\t\t\t\t\t\t\t\"context.minimap.slider.always\",\n\t\t\t\t\t\t\t\"Always\",\n\t\t\t\t\t\t),\n\t\t\t\t\t\tvalue: \"always\",\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t),\n\t\t);\n\n\t\tconst useShadowDOM =\n\t\t\tthis._editor.getOption(EditorOption.useShadowDOM) && !isIOS; // Do not use shadow dom on IOS #122035\n\t\tthis._contextMenuIsBeingShownCount++;\n\t\tthis._contextMenuService.showContextMenu({\n\t\t\tdomForShadowRoot: useShadowDOM\n\t\t\t\t? this._editor.getDomNode()\n\t\t\t\t: undefined,\n\t\t\tgetAnchor: () => anchor,\n\t\t\tgetActions: () => actions,\n\t\t\tonHide: (wasCancelled: boolean) => {\n\t\t\t\tthis._contextMenuIsBeingShownCount--;\n\t\t\t\tthis._editor.focus();\n\t\t\t},\n\t\t});\n\t}\n\n\tprivate _keybindingFor(action: IAction): ResolvedKeybinding | undefined {\n\t\treturn this._keybindingService.lookupKeybinding(action.id);\n\t}\n\n\tpublic dispose(): void {\n\t\tif (this._contextMenuIsBeingShownCount > 0) {\n\t\t\tthis._contextViewService.hideContextView();\n\t\t}\n\n\t\tthis._toDispose.dispose();\n\t}\n}\n\nclass ShowContextMenu extends EditorAction {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: \"editor.action.showContextMenu\",\n\t\t\tlabel: nls.localize(\n\t\t\t\t\"action.showContextMenu.label\",\n\t\t\t\t\"Show Editor Context Menu\",\n\t\t\t),\n\t\t\talias: \"Show Editor Context Menu\",\n\t\t\tprecondition: undefined,\n\t\t\tkbOpts: {\n\t\t\t\tkbExpr: EditorContextKeys.textInputFocus,\n\t\t\t\tprimary: KeyMod.Shift | KeyCode.F10,\n\t\t\t\tweight: KeybindingWeight.EditorContrib,\n\t\t\t},\n\t\t});\n\t}\n\n\tpublic run(accessor: ServicesAccessor, editor: ICodeEditor): void {\n\t\tContextMenuController.get(editor)?.showContextMenu();\n\t}\n}\n\nregisterEditorContribution(\n\tContextMenuController.ID,\n\tContextMenuController,\n\tEditorContributionInstantiation.BeforeFirstInteraction,\n);\nregisterEditorAction(ShowContextMenu);\n"],
  "mappings": ";;;;;;;;;;;;AAKA,YAAY,SAAS;AAMrB,SAAS,sBAAsB;AAE/B;AAAA,EAEC;AAAA,EACA;AAAA,OACM;AACP,SAAS,SAAS,cAAc;AAEhC,SAAS,uBAAuB;AAChC,SAAS,aAAa;AACtB,YAAY,SAAS;AACrB;AAAA,EACC;AAAA,EAEA;AAAA,OACM;AACP,SAAS,6BAA6B;AACtC,SAAS,0BAA0B;AACnC;AAAA,EACC;AAAA,EACA;AAAA,OACM;AACP,SAAS,0BAA0B;AACnC,SAAS,wBAAwB;AACjC;AAAA,EACC;AAAA,EACA;AAAA,OACM;AACP;AAAA,EAGC;AAAA,OACM;AACP;AAAA,EACC;AAAA,EACA;AAAA,EAEA;AAAA,EACA;AAAA,OACM;AACP,SAAS,oBAAoB;AAC7B;AAAA,EAEC;AAAA,OACM;AACP,SAAS,yBAAyB;AAG3B,IAAM,wBAAN,MAA2D;AAAA,EAajE,YACC,QACsC,qBACA,qBACD,oBACA,oBACN,cACS,uBACG,0BAC1C;AAPqC;AACA;AACD;AACA;AACN;AACS;AACG;AAE3C,SAAK,UAAU;AAEf,SAAK,WAAW,IAAI,KAAK,QAAQ,cAAc,CAAC,MAAyB,KAAK,eAAe,CAAC,CAAC,CAAC;AAChG,SAAK,WAAW,IAAI,KAAK,QAAQ,aAAa,CAAC,MAAwB;AACtE,UAAI,KAAK,gCAAgC,GAAG;AAC3C,cAAM,OAAO,KAAK,oBAAoB,sBAAsB;AAC5D,cAAM,SAAS,EAAE;AAIjB,YAAI,EAAE,OAAO,cAAc,IAAI,cAAc,IAAI,MAAM,OAAO,aAAa;AAC1E,eAAK,oBAAoB,gBAAgB;AAAA,QAC1C;AAAA,MACD;AAAA,IACD,CAAC,CAAC;AACF,SAAK,WAAW,IAAI,KAAK,QAAQ,UAAU,CAAC,MAAsB;AACjE,UAAI,CAAC,KAAK,QAAQ,UAAU,aAAa,WAAW,GAAG;AACtD;AAAA,MACD;AACA,UAAI,EAAE,YAAY,QAAQ,aAAa;AAEtC,UAAE,eAAe;AACjB,UAAE,gBAAgB;AAClB,aAAK,gBAAgB;AAAA,MACtB;AAAA,IACD,CAAC,CAAC;AAAA,EACH;AAAA,EA7GD,OA4DkE;AAAA;AAAA;AAAA,EACjE,OAAuB,KAAK;AAAA,EAE5B,OAAc,IAAI,QAAmD;AACpE,WAAO,OAAO;AAAA,MACb,sBAAsB;AAAA,IACvB;AAAA,EACD;AAAA,EAEiB,aAAa,IAAI,gBAAgB;AAAA,EAC1C,gCAAgC;AAAA,EACvB;AAAA,EAwCT,eAAe,GAA4B;AAClD,QAAI,CAAC,KAAK,QAAQ,SAAS,GAAG;AAC7B;AAAA,IACD;AAEA,QAAI,CAAC,KAAK,QAAQ,UAAU,aAAa,WAAW,GAAG;AACtD,WAAK,QAAQ,MAAM;AAEnB,UACC,EAAE,OAAO,YACT,CAAC,KAAK,QAAQ,aAAa,EAAE,iBAAiB,EAAE,OAAO,QAAQ,GAC9D;AACD,aAAK,QAAQ,YAAY,EAAE,OAAO,QAAQ;AAAA,MAC3C;AACA;AAAA,IACD;AAEA,QAAI,EAAE,OAAO,SAAS,gBAAgB,gBAAgB;AACrD;AAAA,IACD;AACA,QACC,EAAE,OAAO,SAAS,gBAAgB,gBAClC,EAAE,OAAO,OAAO,cACf;AACD;AAAA,IACD;AAEA,MAAE,MAAM,eAAe;AACvB,MAAE,MAAM,gBAAgB;AAExB,QAAI,EAAE,OAAO,SAAS,gBAAgB,WAAW;AAChD,aAAO,KAAK,0BAA0B,EAAE,KAAK;AAAA,IAC9C;AAEA,QACC,EAAE,OAAO,SAAS,gBAAgB,gBAClC,EAAE,OAAO,SAAS,gBAAgB,iBAClC,EAAE,OAAO,SAAS,gBAAgB,UACjC;AACD;AAAA,IACD;AAGA,SAAK,QAAQ,MAAM;AAGnB,QAAI,EAAE,OAAO,UAAU;AACtB,UAAI,yBAAyB;AAC7B,iBAAW,aAAa,KAAK,QAAQ,cAAc,GAAG;AACrD,YAAI,UAAU,iBAAiB,EAAE,OAAO,QAAQ,GAAG;AAClD,mCAAyB;AACzB;AAAA,QACD;AAAA,MACD;AAEA,UAAI,CAAC,wBAAwB;AAC5B,aAAK,QAAQ,YAAY,EAAE,OAAO,QAAQ;AAAA,MAC3C;AAAA,IACD;AAGA,QAAI,SAA6B;AACjC,QAAI,EAAE,OAAO,SAAS,gBAAgB,UAAU;AAC/C,eAAS,EAAE;AAAA,IACZ;AAGA,SAAK,gBAAgB,MAAM;AAAA,EAC5B;AAAA,EAEO,gBAAgB,QAAmC;AACzD,QAAI,CAAC,KAAK,QAAQ,UAAU,aAAa,WAAW,GAAG;AACtD;AAAA,IACD;AACA,QAAI,CAAC,KAAK,QAAQ,SAAS,GAAG;AAC7B;AAAA,IACD;AAGA,UAAM,cAAc,KAAK;AAAA,MACxB,KAAK,QAAQ,SAAS;AAAA,MACtB,KAAK,QAAQ;AAAA,IACd;AAGA,QAAI,YAAY,SAAS,GAAG;AAC3B,WAAK,mBAAmB,aAAa,MAAM;AAAA,IAC5C;AAAA,EACD;AAAA,EAEQ,gBAAgB,OAAmB,QAA2B;AACrE,UAAM,SAAoB,CAAC;AAG3B,UAAM,SAAS,KAAK,aAAa;AAAA,MAChC;AAAA,MACA,KAAK;AAAA,MACL,EAAE,KAAK,MAAM,IAAI;AAAA,IAClB;AAGA,eAAW,SAAS,QAAQ;AAC3B,YAAM,CAAC,EAAE,OAAO,IAAI;AACpB,UAAI,aAAa;AACjB,iBAAW,UAAU,SAAS;AAC7B,YAAI,kBAAkB,mBAAmB;AACxC,gBAAM,aAAa,KAAK;AAAA,YACvB;AAAA,YACA,OAAO,KAAK;AAAA,UACb;AACA,cAAI,WAAW,SAAS,GAAG;AAC1B,mBAAO;AAAA,cACN,IAAI;AAAA,gBACH,OAAO;AAAA,gBACP,OAAO;AAAA,gBACP;AAAA,cACD;AAAA,YACD;AACA;AAAA,UACD;AAAA,QACD,OAAO;AACN,iBAAO,KAAK,MAAM;AAClB;AAAA,QACD;AAAA,MACD;AAEA,UAAI,YAAY;AACf,eAAO,KAAK,IAAI,UAAU,CAAC;AAAA,MAC5B;AAAA,IACD;AAEA,QAAI,OAAO,QAAQ;AAClB,aAAO,IAAI;AAAA,IACZ;AAEA,WAAO;AAAA,EACR;AAAA,EAEQ,mBACP,SACA,QAA4B,MACrB;AACP,QAAI,CAAC,KAAK,QAAQ,SAAS,GAAG;AAC7B;AAAA,IACD;AAGA,UAAM,kBAAkB,KAAK,QAAQ,UAAU,aAAa,KAAK;AACjE,SAAK,QAAQ,cAAc;AAAA,MAC1B,OAAO;AAAA,QACN,SAAS;AAAA,MACV;AAAA,IACD,CAAC;AAED,QAAI,SAAuC;AAC3C,QAAI,CAAC,QAAQ;AAEZ,WAAK,QAAQ;AAAA,QACZ,KAAK,QAAQ,YAAY;AAAA,QACzB,WAAW;AAAA,MACZ;AAEA,WAAK,QAAQ,OAAO;AACpB,YAAM,eAAe,KAAK,QAAQ;AAAA,QACjC,KAAK,QAAQ,YAAY;AAAA,MAC1B;AAGA,YAAM,eAAe,IAAI;AAAA,QACxB,KAAK,QAAQ,WAAW;AAAA,MACzB;AACA,YAAM,OAAO,aAAa,OAAO,aAAa;AAC9C,YAAM,OACL,aAAa,MAAM,aAAa,MAAM,aAAa;AAEpD,eAAS,EAAE,GAAG,MAAM,GAAG,KAAK;AAAA,IAC7B;AAEA,UAAM,eACL,KAAK,QAAQ,UAAU,aAAa,YAAY,KAAK,CAAC;AAGvD,SAAK;AACL,SAAK,oBAAoB,gBAAgB;AAAA,MACxC,kBAAkB,eACd,KAAK,QAAQ,0BAA0B,KACzC,KAAK,QAAQ,WAAW,IACvB;AAAA,MAEH,WAAW,6BAAM,QAAN;AAAA,MAEX,YAAY,6BAAM,SAAN;AAAA,MAEZ,mBAAmB,wBAAC,WAAW;AAC9B,cAAM,aAAa,KAAK,eAAe,MAAM;AAC7C,YAAI,YAAY;AACf,iBAAO,IAAI,eAAe,QAAQ,QAAQ;AAAA,YACzC,OAAO;AAAA,YACP,YAAY,WAAW,SAAS;AAAA,YAChC,QAAQ;AAAA,UACT,CAAC;AAAA,QACF;AAEA,cAAM,uBAA4B;AAClC,YACC,OAAO,qBAAqB,sBAAsB,YACjD;AACD,iBAAO,qBAAqB,kBAAkB;AAAA,QAC/C;AAEA,eAAO,IAAI,eAAe,QAAQ,QAAQ;AAAA,UACzC,MAAM;AAAA,UACN,OAAO;AAAA,UACP,QAAQ;AAAA,QACT,CAAC;AAAA,MACF,GAtBmB;AAAA,MAwBnB,eAAe,wBAAC,WAA2C;AAC1D,eAAO,KAAK,eAAe,MAAM;AAAA,MAClC,GAFe;AAAA,MAIf,QAAQ,wBAAC,iBAA0B;AAClC,aAAK;AACL,aAAK,QAAQ,cAAc;AAAA,UAC1B,OAAO;AAAA,QACR,CAAC;AAAA,MACF,GALQ;AAAA,IAMT,CAAC;AAAA,EACF;AAAA,EAEQ,0BAA0B,QAA2B;AAC5D,QAAI,CAAC,KAAK,QAAQ,SAAS,GAAG;AAC7B;AAAA,IACD;AAEA,QACC;AAAA,MACC,KAAK,yBAAyB,aAAa;AAAA,IAC5C,GACC;AAED;AAAA,IACD;AAEA,UAAM,iBAAiB,KAAK,QAAQ,UAAU,aAAa,OAAO;AAElE,QAAI,SAAS;AACb,UAAM,eAAe,wBAAC,SAKP;AACd,aAAO;AAAA,QACN,IAAI,eAAe,EAAE,MAAM;AAAA,QAC3B,OAAO,KAAK;AAAA,QACZ,SAAS;AAAA,QACT,OAAO;AAAA,QACP,SACC,OAAO,KAAK,YAAY,cAAc,OAAO,KAAK;AAAA,QACnD,SAAS,KAAK;AAAA,QACd,KAAK,KAAK;AAAA,MACX;AAAA,IACD,GAhBqB;AAiBrB,UAAM,sBAAsB,wBAC3B,OACAA,aACmB;AACnB,aAAO,IAAI;AAAA,QACV,eAAe,EAAE,MAAM;AAAA,QACvB;AAAA,QACAA;AAAA,QACA;AAAA,MACD;AAAA,IACD,GAV4B;AAW5B,UAAM,mBAAmB,wBACxB,OACA,SACA,YACA,iBACA,YACa;AACb,UAAI,CAAC,SAAS;AACb,eAAO,aAAa,EAAE,OAAO,SAAS,KAAK,6BAAM;AAAA,QAAC,GAAP,OAAS,CAAC;AAAA,MACtD;AACA,YAAM,eAAe,wBAAC,UAAa;AAClC,eAAO,MAAM;AACZ,eAAK,sBAAsB,YAAY,YAAY,KAAK;AAAA,QACzD;AAAA,MACD,GAJqB;AAKrB,YAAMA,WAAqB,CAAC;AAC5B,iBAAW,UAAU,SAAS;AAC7B,QAAAA,SAAQ;AAAA,UACP,aAAa;AAAA,YACZ,OAAO,OAAO;AAAA,YACd,SAAS,oBAAoB,OAAO;AAAA,YACpC,KAAK,aAAa,OAAO,KAAK;AAAA,UAC/B,CAAC;AAAA,QACF;AAAA,MACD;AACA,aAAO,oBAAoB,OAAOA,QAAO;AAAA,IAC1C,GA1ByB;AA4BzB,UAAM,UAAqB,CAAC;AAC5B,YAAQ;AAAA,MACP,aAAa;AAAA,QACZ,OAAO,IAAI,SAAS,2BAA2B,SAAS;AAAA,QACxD,SAAS,eAAe;AAAA,QACxB,KAAK,6BAAM;AACV,eAAK,sBAAsB;AAAA,YAC1B;AAAA,YACA,CAAC,eAAe;AAAA,UACjB;AAAA,QACD,GALK;AAAA,MAMN,CAAC;AAAA,IACF;AACA,YAAQ,KAAK,IAAI,UAAU,CAAC;AAC5B,YAAQ;AAAA,MACP,aAAa;AAAA,QACZ,OAAO,IAAI;AAAA,UACV;AAAA,UACA;AAAA,QACD;AAAA,QACA,SAAS,eAAe;AAAA,QACxB,SAAS,eAAe;AAAA,QACxB,KAAK,6BAAM;AACV,eAAK,sBAAsB;AAAA,YAC1B;AAAA,YACA,CAAC,eAAe;AAAA,UACjB;AAAA,QACD,GALK;AAAA,MAMN,CAAC;AAAA,IACF;AACA,YAAQ;AAAA,MACP;AAAA,QACC,IAAI,SAAS,wBAAwB,eAAe;AAAA,QACpD,eAAe;AAAA,QACf;AAAA,QACA,eAAe;AAAA,QACf;AAAA,UACC;AAAA,YACC,OAAO,IAAI;AAAA,cACV;AAAA,cACA;AAAA,YACD;AAAA,YACA,OAAO;AAAA,UACR;AAAA,UACA;AAAA,YACC,OAAO,IAAI;AAAA,cACV;AAAA,cACA;AAAA,YACD;AAAA,YACA,OAAO;AAAA,UACR;AAAA,UACA;AAAA,YACC,OAAO,IAAI,SAAS,4BAA4B,KAAK;AAAA,YACrD,OAAO;AAAA,UACR;AAAA,QACD;AAAA,MACD;AAAA,IACD;AACA,YAAQ;AAAA,MACP;AAAA,QACC,IAAI,SAAS,0BAA0B,QAAQ;AAAA,QAC/C,eAAe;AAAA,QACf;AAAA,QACA,eAAe;AAAA,QACf;AAAA,UACC;AAAA,YACC,OAAO,IAAI;AAAA,cACV;AAAA,cACA;AAAA,YACD;AAAA,YACA,OAAO;AAAA,UACR;AAAA,UACA;AAAA,YACC,OAAO,IAAI;AAAA,cACV;AAAA,cACA;AAAA,YACD;AAAA,YACA,OAAO;AAAA,UACR;AAAA,QACD;AAAA,MACD;AAAA,IACD;AAEA,UAAM,eACL,KAAK,QAAQ,UAAU,aAAa,YAAY,KAAK,CAAC;AACvD,SAAK;AACL,SAAK,oBAAoB,gBAAgB;AAAA,MACxC,kBAAkB,eACf,KAAK,QAAQ,WAAW,IACxB;AAAA,MACH,WAAW,6BAAM,QAAN;AAAA,MACX,YAAY,6BAAM,SAAN;AAAA,MACZ,QAAQ,wBAAC,iBAA0B;AAClC,aAAK;AACL,aAAK,QAAQ,MAAM;AAAA,MACpB,GAHQ;AAAA,IAIT,CAAC;AAAA,EACF;AAAA,EAEQ,eAAe,QAAiD;AACvE,WAAO,KAAK,mBAAmB,iBAAiB,OAAO,EAAE;AAAA,EAC1D;AAAA,EAEO,UAAgB;AACtB,QAAI,KAAK,gCAAgC,GAAG;AAC3C,WAAK,oBAAoB,gBAAgB;AAAA,IAC1C;AAEA,SAAK,WAAW,QAAQ;AAAA,EACzB;AACD;AAhda,wBAAN;AAAA,EAeJ;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,GArBU;AAkdb,MAAM,wBAAwB,aAAa;AAAA,EA9gB3C,OA8gB2C;AAAA;AAAA;AAAA,EAC1C,cAAc;AACb,UAAM;AAAA,MACL,IAAI;AAAA,MACJ,OAAO,IAAI;AAAA,QACV;AAAA,QACA;AAAA,MACD;AAAA,MACA,OAAO;AAAA,MACP,cAAc;AAAA,MACd,QAAQ;AAAA,QACP,QAAQ,kBAAkB;AAAA,QAC1B,SAAS,OAAO,QAAQ,QAAQ;AAAA,QAChC,QAAQ,iBAAiB;AAAA,MAC1B;AAAA,IACD,CAAC;AAAA,EACF;AAAA,EAEO,IAAI,UAA4B,QAA2B;AACjE,0BAAsB,IAAI,MAAM,GAAG,gBAAgB;AAAA,EACpD;AACD;AAEA;AAAA,EACC,sBAAsB;AAAA,EACtB;AAAA,EACA,gCAAgC;AACjC;AACA,qBAAqB,eAAe;",
  "names": ["actions"]
}
