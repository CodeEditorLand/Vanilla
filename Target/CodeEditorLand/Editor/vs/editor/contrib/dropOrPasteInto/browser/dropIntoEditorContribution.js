var r0=Object.defineProperty;var o0=Object.getOwnPropertyDescriptor;var ce=(i,e,t,n)=>{for(var r=n>1?void 0:n?o0(e,t):e,o=i.length-1,s;o>=0;o--)(s=i[o])&&(r=(n?s(e,t,r):s(r))||r);return n&&r&&r0(e,t,r),r},De=(i,e)=>(t,n)=>e(t,n,i);var ha=class{_keyCodeToStr;_strToKeyCode;constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(e,t){this._keyCodeToStr[e]=t,this._strToKeyCode[t.toLowerCase()]=e}keyCodeToStr(e){return this._keyCodeToStr[e]}strToKeyCode(e){return this._strToKeyCode[e.toLowerCase()]||0}},hd=new ha,Uh=new ha,Wh=new ha,Vh=new Array(230),s0={},a0=[],l0=Object.create(null),d0=Object.create(null);var Yb=[],Hh=[];for(let i=0;i<=193;i++)Yb[i]=-1;for(let i=0;i<=132;i++)Hh[i]=-1;(function(){let i="",e=[[1,0,"None",0,"unknown",0,"VK_UNKNOWN",i,i],[1,1,"Hyper",0,i,0,i,i,i],[1,2,"Super",0,i,0,i,i,i],[1,3,"Fn",0,i,0,i,i,i],[1,4,"FnLock",0,i,0,i,i,i],[1,5,"Suspend",0,i,0,i,i,i],[1,6,"Resume",0,i,0,i,i,i],[1,7,"Turbo",0,i,0,i,i,i],[1,8,"Sleep",0,i,0,"VK_SLEEP",i,i],[1,9,"WakeUp",0,i,0,i,i,i],[0,10,"KeyA",31,"A",65,"VK_A",i,i],[0,11,"KeyB",32,"B",66,"VK_B",i,i],[0,12,"KeyC",33,"C",67,"VK_C",i,i],[0,13,"KeyD",34,"D",68,"VK_D",i,i],[0,14,"KeyE",35,"E",69,"VK_E",i,i],[0,15,"KeyF",36,"F",70,"VK_F",i,i],[0,16,"KeyG",37,"G",71,"VK_G",i,i],[0,17,"KeyH",38,"H",72,"VK_H",i,i],[0,18,"KeyI",39,"I",73,"VK_I",i,i],[0,19,"KeyJ",40,"J",74,"VK_J",i,i],[0,20,"KeyK",41,"K",75,"VK_K",i,i],[0,21,"KeyL",42,"L",76,"VK_L",i,i],[0,22,"KeyM",43,"M",77,"VK_M",i,i],[0,23,"KeyN",44,"N",78,"VK_N",i,i],[0,24,"KeyO",45,"O",79,"VK_O",i,i],[0,25,"KeyP",46,"P",80,"VK_P",i,i],[0,26,"KeyQ",47,"Q",81,"VK_Q",i,i],[0,27,"KeyR",48,"R",82,"VK_R",i,i],[0,28,"KeyS",49,"S",83,"VK_S",i,i],[0,29,"KeyT",50,"T",84,"VK_T",i,i],[0,30,"KeyU",51,"U",85,"VK_U",i,i],[0,31,"KeyV",52,"V",86,"VK_V",i,i],[0,32,"KeyW",53,"W",87,"VK_W",i,i],[0,33,"KeyX",54,"X",88,"VK_X",i,i],[0,34,"KeyY",55,"Y",89,"VK_Y",i,i],[0,35,"KeyZ",56,"Z",90,"VK_Z",i,i],[0,36,"Digit1",22,"1",49,"VK_1",i,i],[0,37,"Digit2",23,"2",50,"VK_2",i,i],[0,38,"Digit3",24,"3",51,"VK_3",i,i],[0,39,"Digit4",25,"4",52,"VK_4",i,i],[0,40,"Digit5",26,"5",53,"VK_5",i,i],[0,41,"Digit6",27,"6",54,"VK_6",i,i],[0,42,"Digit7",28,"7",55,"VK_7",i,i],[0,43,"Digit8",29,"8",56,"VK_8",i,i],[0,44,"Digit9",30,"9",57,"VK_9",i,i],[0,45,"Digit0",21,"0",48,"VK_0",i,i],[1,46,"Enter",3,"Enter",13,"VK_RETURN",i,i],[1,47,"Escape",9,"Escape",27,"VK_ESCAPE",i,i],[1,48,"Backspace",1,"Backspace",8,"VK_BACK",i,i],[1,49,"Tab",2,"Tab",9,"VK_TAB",i,i],[1,50,"Space",10,"Space",32,"VK_SPACE",i,i],[0,51,"Minus",88,"-",189,"VK_OEM_MINUS","-","OEM_MINUS"],[0,52,"Equal",86,"=",187,"VK_OEM_PLUS","=","OEM_PLUS"],[0,53,"BracketLeft",92,"[",219,"VK_OEM_4","[","OEM_4"],[0,54,"BracketRight",94,"]",221,"VK_OEM_6","]","OEM_6"],[0,55,"Backslash",93,"\\",220,"VK_OEM_5","\\","OEM_5"],[0,56,"IntlHash",0,i,0,i,i,i],[0,57,"Semicolon",85,";",186,"VK_OEM_1",";","OEM_1"],[0,58,"Quote",95,"'",222,"VK_OEM_7","'","OEM_7"],[0,59,"Backquote",91,"`",192,"VK_OEM_3","`","OEM_3"],[0,60,"Comma",87,",",188,"VK_OEM_COMMA",",","OEM_COMMA"],[0,61,"Period",89,".",190,"VK_OEM_PERIOD",".","OEM_PERIOD"],[0,62,"Slash",90,"/",191,"VK_OEM_2","/","OEM_2"],[1,63,"CapsLock",8,"CapsLock",20,"VK_CAPITAL",i,i],[1,64,"F1",59,"F1",112,"VK_F1",i,i],[1,65,"F2",60,"F2",113,"VK_F2",i,i],[1,66,"F3",61,"F3",114,"VK_F3",i,i],[1,67,"F4",62,"F4",115,"VK_F4",i,i],[1,68,"F5",63,"F5",116,"VK_F5",i,i],[1,69,"F6",64,"F6",117,"VK_F6",i,i],[1,70,"F7",65,"F7",118,"VK_F7",i,i],[1,71,"F8",66,"F8",119,"VK_F8",i,i],[1,72,"F9",67,"F9",120,"VK_F9",i,i],[1,73,"F10",68,"F10",121,"VK_F10",i,i],[1,74,"F11",69,"F11",122,"VK_F11",i,i],[1,75,"F12",70,"F12",123,"VK_F12",i,i],[1,76,"PrintScreen",0,i,0,i,i,i],[1,77,"ScrollLock",84,"ScrollLock",145,"VK_SCROLL",i,i],[1,78,"Pause",7,"PauseBreak",19,"VK_PAUSE",i,i],[1,79,"Insert",19,"Insert",45,"VK_INSERT",i,i],[1,80,"Home",14,"Home",36,"VK_HOME",i,i],[1,81,"PageUp",11,"PageUp",33,"VK_PRIOR",i,i],[1,82,"Delete",20,"Delete",46,"VK_DELETE",i,i],[1,83,"End",13,"End",35,"VK_END",i,i],[1,84,"PageDown",12,"PageDown",34,"VK_NEXT",i,i],[1,85,"ArrowRight",17,"RightArrow",39,"VK_RIGHT","Right",i],[1,86,"ArrowLeft",15,"LeftArrow",37,"VK_LEFT","Left",i],[1,87,"ArrowDown",18,"DownArrow",40,"VK_DOWN","Down",i],[1,88,"ArrowUp",16,"UpArrow",38,"VK_UP","Up",i],[1,89,"NumLock",83,"NumLock",144,"VK_NUMLOCK",i,i],[1,90,"NumpadDivide",113,"NumPad_Divide",111,"VK_DIVIDE",i,i],[1,91,"NumpadMultiply",108,"NumPad_Multiply",106,"VK_MULTIPLY",i,i],[1,92,"NumpadSubtract",111,"NumPad_Subtract",109,"VK_SUBTRACT",i,i],[1,93,"NumpadAdd",109,"NumPad_Add",107,"VK_ADD",i,i],[1,94,"NumpadEnter",3,i,0,i,i,i],[1,95,"Numpad1",99,"NumPad1",97,"VK_NUMPAD1",i,i],[1,96,"Numpad2",100,"NumPad2",98,"VK_NUMPAD2",i,i],[1,97,"Numpad3",101,"NumPad3",99,"VK_NUMPAD3",i,i],[1,98,"Numpad4",102,"NumPad4",100,"VK_NUMPAD4",i,i],[1,99,"Numpad5",103,"NumPad5",101,"VK_NUMPAD5",i,i],[1,100,"Numpad6",104,"NumPad6",102,"VK_NUMPAD6",i,i],[1,101,"Numpad7",105,"NumPad7",103,"VK_NUMPAD7",i,i],[1,102,"Numpad8",106,"NumPad8",104,"VK_NUMPAD8",i,i],[1,103,"Numpad9",107,"NumPad9",105,"VK_NUMPAD9",i,i],[1,104,"Numpad0",98,"NumPad0",96,"VK_NUMPAD0",i,i],[1,105,"NumpadDecimal",112,"NumPad_Decimal",110,"VK_DECIMAL",i,i],[0,106,"IntlBackslash",97,"OEM_102",226,"VK_OEM_102",i,i],[1,107,"ContextMenu",58,"ContextMenu",93,i,i,i],[1,108,"Power",0,i,0,i,i,i],[1,109,"NumpadEqual",0,i,0,i,i,i],[1,110,"F13",71,"F13",124,"VK_F13",i,i],[1,111,"F14",72,"F14",125,"VK_F14",i,i],[1,112,"F15",73,"F15",126,"VK_F15",i,i],[1,113,"F16",74,"F16",127,"VK_F16",i,i],[1,114,"F17",75,"F17",128,"VK_F17",i,i],[1,115,"F18",76,"F18",129,"VK_F18",i,i],[1,116,"F19",77,"F19",130,"VK_F19",i,i],[1,117,"F20",78,"F20",131,"VK_F20",i,i],[1,118,"F21",79,"F21",132,"VK_F21",i,i],[1,119,"F22",80,"F22",133,"VK_F22",i,i],[1,120,"F23",81,"F23",134,"VK_F23",i,i],[1,121,"F24",82,"F24",135,"VK_F24",i,i],[1,122,"Open",0,i,0,i,i,i],[1,123,"Help",0,i,0,i,i,i],[1,124,"Select",0,i,0,i,i,i],[1,125,"Again",0,i,0,i,i,i],[1,126,"Undo",0,i,0,i,i,i],[1,127,"Cut",0,i,0,i,i,i],[1,128,"Copy",0,i,0,i,i,i],[1,129,"Paste",0,i,0,i,i,i],[1,130,"Find",0,i,0,i,i,i],[1,131,"AudioVolumeMute",117,"AudioVolumeMute",173,"VK_VOLUME_MUTE",i,i],[1,132,"AudioVolumeUp",118,"AudioVolumeUp",175,"VK_VOLUME_UP",i,i],[1,133,"AudioVolumeDown",119,"AudioVolumeDown",174,"VK_VOLUME_DOWN",i,i],[1,134,"NumpadComma",110,"NumPad_Separator",108,"VK_SEPARATOR",i,i],[0,135,"IntlRo",115,"ABNT_C1",193,"VK_ABNT_C1",i,i],[1,136,"KanaMode",0,i,0,i,i,i],[0,137,"IntlYen",0,i,0,i,i,i],[1,138,"Convert",0,i,0,i,i,i],[1,139,"NonConvert",0,i,0,i,i,i],[1,140,"Lang1",0,i,0,i,i,i],[1,141,"Lang2",0,i,0,i,i,i],[1,142,"Lang3",0,i,0,i,i,i],[1,143,"Lang4",0,i,0,i,i,i],[1,144,"Lang5",0,i,0,i,i,i],[1,145,"Abort",0,i,0,i,i,i],[1,146,"Props",0,i,0,i,i,i],[1,147,"NumpadParenLeft",0,i,0,i,i,i],[1,148,"NumpadParenRight",0,i,0,i,i,i],[1,149,"NumpadBackspace",0,i,0,i,i,i],[1,150,"NumpadMemoryStore",0,i,0,i,i,i],[1,151,"NumpadMemoryRecall",0,i,0,i,i,i],[1,152,"NumpadMemoryClear",0,i,0,i,i,i],[1,153,"NumpadMemoryAdd",0,i,0,i,i,i],[1,154,"NumpadMemorySubtract",0,i,0,i,i,i],[1,155,"NumpadClear",131,"Clear",12,"VK_CLEAR",i,i],[1,156,"NumpadClearEntry",0,i,0,i,i,i],[1,0,i,5,"Ctrl",17,"VK_CONTROL",i,i],[1,0,i,4,"Shift",16,"VK_SHIFT",i,i],[1,0,i,6,"Alt",18,"VK_MENU",i,i],[1,0,i,57,"Meta",91,"VK_COMMAND",i,i],[1,157,"ControlLeft",5,i,0,"VK_LCONTROL",i,i],[1,158,"ShiftLeft",4,i,0,"VK_LSHIFT",i,i],[1,159,"AltLeft",6,i,0,"VK_LMENU",i,i],[1,160,"MetaLeft",57,i,0,"VK_LWIN",i,i],[1,161,"ControlRight",5,i,0,"VK_RCONTROL",i,i],[1,162,"ShiftRight",4,i,0,"VK_RSHIFT",i,i],[1,163,"AltRight",6,i,0,"VK_RMENU",i,i],[1,164,"MetaRight",57,i,0,"VK_RWIN",i,i],[1,165,"BrightnessUp",0,i,0,i,i,i],[1,166,"BrightnessDown",0,i,0,i,i,i],[1,167,"MediaPlay",0,i,0,i,i,i],[1,168,"MediaRecord",0,i,0,i,i,i],[1,169,"MediaFastForward",0,i,0,i,i,i],[1,170,"MediaRewind",0,i,0,i,i,i],[1,171,"MediaTrackNext",124,"MediaTrackNext",176,"VK_MEDIA_NEXT_TRACK",i,i],[1,172,"MediaTrackPrevious",125,"MediaTrackPrevious",177,"VK_MEDIA_PREV_TRACK",i,i],[1,173,"MediaStop",126,"MediaStop",178,"VK_MEDIA_STOP",i,i],[1,174,"Eject",0,i,0,i,i,i],[1,175,"MediaPlayPause",127,"MediaPlayPause",179,"VK_MEDIA_PLAY_PAUSE",i,i],[1,176,"MediaSelect",128,"LaunchMediaPlayer",181,"VK_MEDIA_LAUNCH_MEDIA_SELECT",i,i],[1,177,"LaunchMail",129,"LaunchMail",180,"VK_MEDIA_LAUNCH_MAIL",i,i],[1,178,"LaunchApp2",130,"LaunchApp2",183,"VK_MEDIA_LAUNCH_APP2",i,i],[1,179,"LaunchApp1",0,i,0,"VK_MEDIA_LAUNCH_APP1",i,i],[1,180,"SelectTask",0,i,0,i,i,i],[1,181,"LaunchScreenSaver",0,i,0,i,i,i],[1,182,"BrowserSearch",120,"BrowserSearch",170,"VK_BROWSER_SEARCH",i,i],[1,183,"BrowserHome",121,"BrowserHome",172,"VK_BROWSER_HOME",i,i],[1,184,"BrowserBack",122,"BrowserBack",166,"VK_BROWSER_BACK",i,i],[1,185,"BrowserForward",123,"BrowserForward",167,"VK_BROWSER_FORWARD",i,i],[1,186,"BrowserStop",0,i,0,"VK_BROWSER_STOP",i,i],[1,187,"BrowserRefresh",0,i,0,"VK_BROWSER_REFRESH",i,i],[1,188,"BrowserFavorites",0,i,0,"VK_BROWSER_FAVORITES",i,i],[1,189,"ZoomToggle",0,i,0,i,i,i],[1,190,"MailReply",0,i,0,i,i,i],[1,191,"MailForward",0,i,0,i,i,i],[1,192,"MailSend",0,i,0,i,i,i],[1,0,i,114,"KeyInComposition",229,i,i,i],[1,0,i,116,"ABNT_C2",194,"VK_ABNT_C2",i,i],[1,0,i,96,"OEM_8",223,"VK_OEM_8",i,i],[1,0,i,0,i,0,"VK_KANA",i,i],[1,0,i,0,i,0,"VK_HANGUL",i,i],[1,0,i,0,i,0,"VK_JUNJA",i,i],[1,0,i,0,i,0,"VK_FINAL",i,i],[1,0,i,0,i,0,"VK_HANJA",i,i],[1,0,i,0,i,0,"VK_KANJI",i,i],[1,0,i,0,i,0,"VK_CONVERT",i,i],[1,0,i,0,i,0,"VK_NONCONVERT",i,i],[1,0,i,0,i,0,"VK_ACCEPT",i,i],[1,0,i,0,i,0,"VK_MODECHANGE",i,i],[1,0,i,0,i,0,"VK_SELECT",i,i],[1,0,i,0,i,0,"VK_PRINT",i,i],[1,0,i,0,i,0,"VK_EXECUTE",i,i],[1,0,i,0,i,0,"VK_SNAPSHOT",i,i],[1,0,i,0,i,0,"VK_HELP",i,i],[1,0,i,0,i,0,"VK_APPS",i,i],[1,0,i,0,i,0,"VK_PROCESSKEY",i,i],[1,0,i,0,i,0,"VK_PACKET",i,i],[1,0,i,0,i,0,"VK_DBE_SBCSCHAR",i,i],[1,0,i,0,i,0,"VK_DBE_DBCSCHAR",i,i],[1,0,i,0,i,0,"VK_ATTN",i,i],[1,0,i,0,i,0,"VK_CRSEL",i,i],[1,0,i,0,i,0,"VK_EXSEL",i,i],[1,0,i,0,i,0,"VK_EREOF",i,i],[1,0,i,0,i,0,"VK_PLAY",i,i],[1,0,i,0,i,0,"VK_ZOOM",i,i],[1,0,i,0,i,0,"VK_NONAME",i,i],[1,0,i,0,i,0,"VK_PA1",i,i],[1,0,i,0,i,0,"VK_OEM_CLEAR",i,i]],t=[],n=[];for(let r of e){let[o,s,a,l,c,u,p,g,f]=r;if(n[s]||(n[s]=!0,a0[s]=a,l0[a]=s,d0[a.toLowerCase()]=s,o&&(Yb[s]=l,l!==0&&l!==3&&l!==5&&l!==4&&l!==6&&l!==57&&(Hh[l]=s))),!t[l]){if(t[l]=!0,!c)throw new Error(`String representation missing for key code ${l} around scan code ${a}`);hd.define(l,c),Uh.define(l,g||c),Wh.define(l,f||g||c)}u&&(Vh[u]=l),p&&(s0[p]=l)}Hh[3]=46})();var pd;(s=>{function i(a){return hd.keyCodeToStr(a)}s.toString=i;function e(a){return hd.strToKeyCode(a)}s.fromString=e;function t(a){return Uh.keyCodeToStr(a)}s.toUserSettingsUS=t;function n(a){return Wh.keyCodeToStr(a)}s.toUserSettingsGeneral=n;function r(a){return Uh.strToKeyCode(a)||Wh.strToKeyCode(a)}s.fromUserSettings=r;function o(a){if(a>=98&&a<=113)return null;switch(a){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return hd.keyCodeToStr(a)}s.toElectronAccelerator=o})(pd||={});function Xb(i,e){let t=i;typeof t.vscodeWindowId!="number"&&Object.defineProperty(t,"vscodeWindowId",{get:()=>e})}var rt=window;function Zb(i,e){let t=c0(i,e);if(t!==-1)return i[t]}function c0(i,e,t=i.length-1){for(let n=t;n>=0;n--){let r=i[n];if(e(r))return n}return-1}function Kh(i,e){let t=pa(i,e);return t===-1?void 0:i[t]}function pa(i,e,t=0,n=i.length){let r=t,o=n;for(;r<o;){let s=Math.floor((r+o)/2);e(i[s])?r=s+1:o=s}return r-1}function gd(i,e,t=0,n=i.length){let r=t,o=n;for(;r<o;){let s=Math.floor((r+o)/2);e(i[s])?o=s:r=s+1}return r}var qh=class{unexpectedErrorHandler;listeners;constructor(){this.listeners=[],this.unexpectedErrorHandler=function(e){setTimeout(()=>{throw e.stack?ga.isErrorNoTelemetry(e)?new ga(e.message+`

`+e.stack):new Error(e.message+`

`+e.stack):e},0)}}addListener(e){return this.listeners.push(e),()=>{this._removeListener(e)}}emit(e){this.listeners.forEach(t=>{t(e)})}_removeListener(e){this.listeners.splice(this.listeners.indexOf(e),1)}setUnexpectedErrorHandler(e){this.unexpectedErrorHandler=e}getUnexpectedErrorHandler(){return this.unexpectedErrorHandler}onUnexpectedError(e){this.unexpectedErrorHandler(e),this.emit(e)}onUnexpectedExternalError(e){this.unexpectedErrorHandler(e)}},Qb=new qh;function Go(i){Qb.onUnexpectedError(i)}function ot(i){Gh(i)||Qb.onUnexpectedError(i)}var $h="Canceled";function Gh(i){return i instanceof ci?!0:i instanceof Error&&i.name===$h&&i.message===$h}var ci=class extends Error{constructor(){super($h),this.name=this.message}};function Yr(i){return i?new Error(`Illegal argument: ${i}`):new Error("Illegal argument")}function Jb(i){return i?new Error(`Illegal state: ${i}`):new Error("Illegal state")}var fd=class extends Error{constructor(e){super("NotSupported"),e&&(this.message=e)}};var ga=class i extends Error{name;constructor(e){super(e),this.name="CodeExpectedError"}static fromError(e){if(e instanceof i)return e;let t=new i;return t.message=e.message,t.stack=e.stack,t}static isErrorNoTelemetry(e){return e.name==="CodeExpectedError"}},_e=class i extends Error{constructor(e){super(e||"An unexpected bug occurred."),Object.setPrototypeOf(this,i.prototype)}};function ln(i,e=0){return i[i.length-(1+e)]}function Cn(i,e,t=(n,r)=>n===r){if(i===e)return!0;if(!i||!e||i.length!==e.length)return!1;for(let n=0,r=i.length;n<r;n++)if(!t(i[n],e[n]))return!1;return!0}function ev(i,e,t){return h0(i.length,n=>t(i[n],e))}function h0(i,e){let t=0,n=i-1;for(;t<=n;){let r=(t+n)/2|0,o=e(r);if(o<0)t=r+1;else if(o>0)n=r-1;else return r}return-(t+1)}function Zr(i){return i.filter(e=>!!e)}function cr(i,e=t=>t){let t=new Set;return i.filter(n=>{let r=e(n);return t.has(r)?!1:(t.add(r),!0)})}function jh(i,e){let t=typeof e=="number"?i:0;typeof e=="number"?t=i:(t=0,e=i);let n=[];if(t<=e)for(let r=t;r<e;r++)n.push(r);else for(let r=t;r>e;r--)n.push(r);return n}function ur(i,e,t){let n=i.slice(0,e),r=i.slice(e);return n.concat(t,r)}function Yh(i,e){for(let t of e)i.push(t)}var tv;(a=>{function i(l){return l<0}a.isLessThan=i;function e(l){return l<=0}a.isLessThanOrEqual=e;function t(l){return l>0}a.isGreaterThan=t;function n(l){return l===0}a.isNeitherLessOrGreaterThan=n,a.greaterThan=1,a.lessThan=-1,a.neitherLessOrGreaterThan=0})(tv||={});function Xh(i,e){return(t,n)=>e(i(t),i(n))}var Xr=class{constructor(e){this.items=e}firstIdx=0;lastIdx=this.items.length-1;get length(){return this.lastIdx-this.firstIdx+1}takeWhile(e){let t=this.firstIdx;for(;t<this.items.length&&e(this.items[t]);)t++;let n=t===this.firstIdx?null:this.items.slice(this.firstIdx,t);return this.firstIdx=t,n}takeFromEndWhile(e){let t=this.lastIdx;for(;t>=0&&e(this.items[t]);)t--;let n=t===this.lastIdx?null:this.items.slice(t+1,this.lastIdx+1);return this.lastIdx=t,n}peek(){if(this.length!==0)return this.items[this.firstIdx]}peekLast(){if(this.length!==0)return this.items[this.lastIdx]}dequeue(){let e=this.items[this.firstIdx];return this.firstIdx++,e}removeLast(){let e=this.items[this.lastIdx];return this.lastIdx--,e}takeCount(e){let t=this.items.slice(this.firstIdx,this.firstIdx+e);return this.firstIdx+=e,t}},zi=class i{constructor(e){this.iterate=e}static empty=new i(e=>{});forEach(e){this.iterate(t=>(e(t),!0))}toArray(){let e=[];return this.iterate(t=>(e.push(t),!0)),e}filter(e){return new i(t=>this.iterate(n=>e(n)?t(n):!0))}map(e){return new i(t=>this.iterate(n=>t(e(n))))}some(e){let t=!1;return this.iterate(n=>(t=e(n),!t)),t}findFirst(e){let t;return this.iterate(n=>e(n)?(t=n,!1):!0),t}findLast(e){let t;return this.iterate(n=>(e(n)&&(t=n),!0)),t}findLastMaxBy(e){let t,n=!0;return this.iterate(r=>((n||tv.isGreaterThan(e(r,t)))&&(n=!1,t=r),!0)),t}};function Zh(){return globalThis._VSCODE_NLS_MESSAGES}function fa(){return globalThis._VSCODE_NLS_LANGUAGE}var p0=fa()==="pseudo"||typeof document<"u"&&document.location&&document.location.hash.indexOf("pseudo=true")>=0;function md(i,e){let t;return e.length===0?t=i:t=i.replace(/\{(\d+)\}/g,(n,r)=>{let o=r[0],s=e[o],a=n;return typeof s=="string"?a=s:(typeof s=="number"||typeof s=="boolean"||s===void 0||s===null)&&(a=String(s)),a}),p0&&(t="\uFF3B"+t.replace(/[aouei]/g,"$&$&")+"\uFF3D"),t}function d(i,e,...t){return md(typeof i=="number"?nv(i,e):e,t)}function nv(i,e){let t=Zh()?.[i];if(typeof t!="string"){if(typeof e=="string")return e;throw new Error(`!!! NLS MISSING: ${i} !!!`)}return t}function Qr(i,e,...t){let n;typeof i=="number"?n=nv(i,e):n=e;let r=md(n,t);return{value:r,original:e===n?r:md(e,t)}}var jo="en",ba=!1,va=!1,ma=!1,g0=!1,sv=!1,Jh=!1,f0=!1,av=!1,m0=!1,b0=!1,bd,vd=jo,iv=jo,v0,Ui,Wi=globalThis,Sn;typeof Wi.vscode<"u"&&typeof Wi.vscode.process<"u"?Sn=Wi.vscode.process:typeof process<"u"&&typeof process?.versions?.node=="string"&&(Sn=process);var lv=typeof Sn?.versions?.electron=="string",y0=lv&&Sn?.type==="renderer";if(typeof Sn=="object"){ba=Sn.platform==="win32",va=Sn.platform==="darwin",ma=Sn.platform==="linux",g0=ma&&!!Sn.env.SNAP&&!!Sn.env.SNAP_REVISION,f0=lv,m0=!!Sn.env.CI||!!Sn.env.BUILD_ARTIFACTSTAGINGDIRECTORY,bd=jo,vd=jo;let i=Sn.env.VSCODE_NLS_CONFIG;if(i)try{let e=JSON.parse(i);bd=e.userLocale,iv=e.osLocale,vd=e.resolvedLanguage||jo,v0=e.languagePack?.translationsConfigFile}catch{}sv=!0}else typeof navigator=="object"&&!y0?(Ui=navigator.userAgent,ba=Ui.indexOf("Windows")>=0,va=Ui.indexOf("Macintosh")>=0,av=(Ui.indexOf("Macintosh")>=0||Ui.indexOf("iPad")>=0||Ui.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,ma=Ui.indexOf("Linux")>=0,b0=Ui?.indexOf("Mobi")>=0,Jh=!0,vd=fa()||jo,bd=navigator.language.toLowerCase(),iv=bd):console.error("Unable to resolve platform.");var Qh=0;va?Qh=1:ba?Qh=3:ma&&(Qh=2);var kt=ba,Se=va,Zt=ma;var Yo=sv;var Jr=Jh,I0=Jh&&typeof Wi.importScripts=="function",dv=I0?Wi.origin:void 0;var ui=Ui,hr=vd,x0;(n=>{function i(){return hr}n.value=i;function e(){return hr.length===2?hr==="en":hr.length>=3?hr[0]==="e"&&hr[1]==="n"&&hr[2]==="-":!1}n.isDefaultVariant=e;function t(){return hr==="en"}n.isDefault=t})(x0||={});var T0=typeof Wi.postMessage=="function"&&!Wi.importScripts,yd=(()=>{if(T0){let i=[];Wi.addEventListener("message",t=>{if(t.data&&t.data.vscodeScheduleAsyncWork)for(let n=0,r=i.length;n<r;n++){let o=i[n];if(o.id===t.data.vscodeScheduleAsyncWork){i.splice(n,1),o.callback();return}}});let e=0;return t=>{let n=++e;i.push({id:n,callback:t}),Wi.postMessage({vscodeScheduleAsyncWork:n},"*")}}return i=>setTimeout(i)})();var Xo=va||av?2:ba?1:3,rv=!0,ov=!1;function cv(){if(!ov){ov=!0;let i=new Uint8Array(2);i[0]=1,i[1]=2,rv=new Uint16Array(i.buffer)[0]===513}return rv}var ep=!!(ui&&ui.indexOf("Chrome")>=0),uv=!!(ui&&ui.indexOf("Firefox")>=0),hv=!!(!ep&&ui&&ui.indexOf("Safari")>=0),pv=!!(ui&&ui.indexOf("Edg/")>=0),Gk=!!(ui&&ui.indexOf("Android")>=0);var eo,tp=globalThis.vscode;if(typeof tp<"u"&&typeof tp.process<"u"){let i=tp.process;eo={get platform(){return i.platform},get arch(){return i.arch},get env(){return i.env},cwd(){return i.cwd()}}}else typeof process<"u"&&typeof process?.versions?.node=="string"?eo={get platform(){return process.platform},get arch(){return process.arch},get env(){return process.env},cwd(){return process.env.VSCODE_CWD||process.cwd()}}:eo={get platform(){return kt?"win32":Se?"darwin":"linux"},get arch(){},get env(){return{}},cwd(){return"/"}};var ya=eo.cwd,gv=eo.env,fv=eo.platform,Xk=eo.arch;var S0=65,E0=97,w0=90,k0=122,fr=46,At=47,cn=92,pr=58,_0=63,Id=class extends Error{code;constructor(e,t,n){let r;typeof t=="string"&&t.indexOf("not ")===0?(r="must not be",t=t.replace(/^not /,"")):r="must be";let o=e.indexOf(".")!==-1?"property":"argument",s=`The "${e}" ${o} ${r} of type ${t}`;s+=`. Received type ${typeof n}`,super(s),this.code="ERR_INVALID_ARG_TYPE"}};function L0(i,e){if(i===null||typeof i!="object")throw new Id(e,"Object",i)}function ht(i,e){if(typeof i!="string")throw new Id(e,"string",i)}var un=fv==="win32";function ke(i){return i===At||i===cn}function np(i){return i===At}function gr(i){return i>=S0&&i<=w0||i>=E0&&i<=k0}function xd(i,e,t,n){let r="",o=0,s=-1,a=0,l=0;for(let c=0;c<=i.length;++c){if(c<i.length)l=i.charCodeAt(c);else{if(n(l))break;l=At}if(n(l)){if(!(s===c-1||a===1))if(a===2){if(r.length<2||o!==2||r.charCodeAt(r.length-1)!==fr||r.charCodeAt(r.length-2)!==fr){if(r.length>2){let u=r.lastIndexOf(t);u===-1?(r="",o=0):(r=r.slice(0,u),o=r.length-1-r.lastIndexOf(t)),s=c,a=0;continue}else if(r.length!==0){r="",o=0,s=c,a=0;continue}}e&&(r+=r.length>0?`${t}..`:"..",o=2)}else r.length>0?r+=`${t}${i.slice(s+1,c)}`:r=i.slice(s+1,c),o=c-s-1;s=c,a=0}else l===fr&&a!==-1?++a:a=-1}return r}function D0(i){return i?`${i[0]==="."?"":"."}${i}`:""}function mv(i,e){L0(e,"pathObject");let t=e.dir||e.root,n=e.base||`${e.name||""}${D0(e.ext)}`;return t?t===e.root?`${t}${n}`:`${t}${i}${n}`:n}var lt={resolve(...i){let e="",t="",n=!1;for(let r=i.length-1;r>=-1;r--){let o;if(r>=0){if(o=i[r],ht(o,`paths[${r}]`),o.length===0)continue}else e.length===0?o=ya():(o=gv[`=${e}`]||ya(),(o===void 0||o.slice(0,2).toLowerCase()!==e.toLowerCase()&&o.charCodeAt(2)===cn)&&(o=`${e}\\`));let s=o.length,a=0,l="",c=!1,u=o.charCodeAt(0);if(s===1)ke(u)&&(a=1,c=!0);else if(ke(u))if(c=!0,ke(o.charCodeAt(1))){let p=2,g=p;for(;p<s&&!ke(o.charCodeAt(p));)p++;if(p<s&&p!==g){let f=o.slice(g,p);for(g=p;p<s&&ke(o.charCodeAt(p));)p++;if(p<s&&p!==g){for(g=p;p<s&&!ke(o.charCodeAt(p));)p++;(p===s||p!==g)&&(l=`\\\\${f}\\${o.slice(g,p)}`,a=p)}}}else a=1;else gr(u)&&o.charCodeAt(1)===pr&&(l=o.slice(0,2),a=2,s>2&&ke(o.charCodeAt(2))&&(c=!0,a=3));if(l.length>0)if(e.length>0){if(l.toLowerCase()!==e.toLowerCase())continue}else e=l;if(n){if(e.length>0)break}else if(t=`${o.slice(a)}\\${t}`,n=c,c&&e.length>0)break}return t=xd(t,!n,"\\",ke),n?`${e}\\${t}`:`${e}${t}`||"."},normalize(i){ht(i,"path");let e=i.length;if(e===0)return".";let t=0,n,r=!1,o=i.charCodeAt(0);if(e===1)return np(o)?"\\":i;if(ke(o))if(r=!0,ke(i.charCodeAt(1))){let a=2,l=a;for(;a<e&&!ke(i.charCodeAt(a));)a++;if(a<e&&a!==l){let c=i.slice(l,a);for(l=a;a<e&&ke(i.charCodeAt(a));)a++;if(a<e&&a!==l){for(l=a;a<e&&!ke(i.charCodeAt(a));)a++;if(a===e)return`\\\\${c}\\${i.slice(l)}\\`;a!==l&&(n=`\\\\${c}\\${i.slice(l,a)}`,t=a)}}}else t=1;else gr(o)&&i.charCodeAt(1)===pr&&(n=i.slice(0,2),t=2,e>2&&ke(i.charCodeAt(2))&&(r=!0,t=3));let s=t<e?xd(i.slice(t),!r,"\\",ke):"";return s.length===0&&!r&&(s="."),s.length>0&&ke(i.charCodeAt(e-1))&&(s+="\\"),n===void 0?r?`\\${s}`:s:r?`${n}\\${s}`:`${n}${s}`},isAbsolute(i){ht(i,"path");let e=i.length;if(e===0)return!1;let t=i.charCodeAt(0);return ke(t)||e>2&&gr(t)&&i.charCodeAt(1)===pr&&ke(i.charCodeAt(2))},join(...i){if(i.length===0)return".";let e,t;for(let o=0;o<i.length;++o){let s=i[o];ht(s,"path"),s.length>0&&(e===void 0?e=t=s:e+=`\\${s}`)}if(e===void 0)return".";let n=!0,r=0;if(typeof t=="string"&&ke(t.charCodeAt(0))){++r;let o=t.length;o>1&&ke(t.charCodeAt(1))&&(++r,o>2&&(ke(t.charCodeAt(2))?++r:n=!1))}if(n){for(;r<e.length&&ke(e.charCodeAt(r));)r++;r>=2&&(e=`\\${e.slice(r)}`)}return lt.normalize(e)},relative(i,e){if(ht(i,"from"),ht(e,"to"),i===e)return"";let t=lt.resolve(i),n=lt.resolve(e);if(t===n||(i=t.toLowerCase(),e=n.toLowerCase(),i===e))return"";let r=0;for(;r<i.length&&i.charCodeAt(r)===cn;)r++;let o=i.length;for(;o-1>r&&i.charCodeAt(o-1)===cn;)o--;let s=o-r,a=0;for(;a<e.length&&e.charCodeAt(a)===cn;)a++;let l=e.length;for(;l-1>a&&e.charCodeAt(l-1)===cn;)l--;let c=l-a,u=s<c?s:c,p=-1,g=0;for(;g<u;g++){let T=i.charCodeAt(r+g);if(T!==e.charCodeAt(a+g))break;T===cn&&(p=g)}if(g!==u){if(p===-1)return n}else{if(c>u){if(e.charCodeAt(a+g)===cn)return n.slice(a+g+1);if(g===2)return n.slice(a+g)}s>u&&(i.charCodeAt(r+g)===cn?p=g:g===2&&(p=3)),p===-1&&(p=0)}let f="";for(g=r+p+1;g<=o;++g)(g===o||i.charCodeAt(g)===cn)&&(f+=f.length===0?"..":"\\..");return a+=p,f.length>0?`${f}${n.slice(a,l)}`:(n.charCodeAt(a)===cn&&++a,n.slice(a,l))},toNamespacedPath(i){if(typeof i!="string"||i.length===0)return i;let e=lt.resolve(i);if(e.length<=2)return i;if(e.charCodeAt(0)===cn){if(e.charCodeAt(1)===cn){let t=e.charCodeAt(2);if(t!==_0&&t!==fr)return`\\\\?\\UNC\\${e.slice(2)}`}}else if(gr(e.charCodeAt(0))&&e.charCodeAt(1)===pr&&e.charCodeAt(2)===cn)return`\\\\?\\${e}`;return i},dirname(i){ht(i,"path");let e=i.length;if(e===0)return".";let t=-1,n=0,r=i.charCodeAt(0);if(e===1)return ke(r)?i:".";if(ke(r)){if(t=n=1,ke(i.charCodeAt(1))){let a=2,l=a;for(;a<e&&!ke(i.charCodeAt(a));)a++;if(a<e&&a!==l){for(l=a;a<e&&ke(i.charCodeAt(a));)a++;if(a<e&&a!==l){for(l=a;a<e&&!ke(i.charCodeAt(a));)a++;if(a===e)return i;a!==l&&(t=n=a+1)}}}}else gr(r)&&i.charCodeAt(1)===pr&&(t=e>2&&ke(i.charCodeAt(2))?3:2,n=t);let o=-1,s=!0;for(let a=e-1;a>=n;--a)if(ke(i.charCodeAt(a))){if(!s){o=a;break}}else s=!1;if(o===-1){if(t===-1)return".";o=t}return i.slice(0,o)},basename(i,e){e!==void 0&&ht(e,"suffix"),ht(i,"path");let t=0,n=-1,r=!0,o;if(i.length>=2&&gr(i.charCodeAt(0))&&i.charCodeAt(1)===pr&&(t=2),e!==void 0&&e.length>0&&e.length<=i.length){if(e===i)return"";let s=e.length-1,a=-1;for(o=i.length-1;o>=t;--o){let l=i.charCodeAt(o);if(ke(l)){if(!r){t=o+1;break}}else a===-1&&(r=!1,a=o+1),s>=0&&(l===e.charCodeAt(s)?--s===-1&&(n=o):(s=-1,n=a))}return t===n?n=a:n===-1&&(n=i.length),i.slice(t,n)}for(o=i.length-1;o>=t;--o)if(ke(i.charCodeAt(o))){if(!r){t=o+1;break}}else n===-1&&(r=!1,n=o+1);return n===-1?"":i.slice(t,n)},extname(i){ht(i,"path");let e=0,t=-1,n=0,r=-1,o=!0,s=0;i.length>=2&&i.charCodeAt(1)===pr&&gr(i.charCodeAt(0))&&(e=n=2);for(let a=i.length-1;a>=e;--a){let l=i.charCodeAt(a);if(ke(l)){if(!o){n=a+1;break}continue}r===-1&&(o=!1,r=a+1),l===fr?t===-1?t=a:s!==1&&(s=1):t!==-1&&(s=-1)}return t===-1||r===-1||s===0||s===1&&t===r-1&&t===n+1?"":i.slice(t,r)},format:mv.bind(null,"\\"),parse(i){ht(i,"path");let e={root:"",dir:"",base:"",ext:"",name:""};if(i.length===0)return e;let t=i.length,n=0,r=i.charCodeAt(0);if(t===1)return ke(r)?(e.root=e.dir=i,e):(e.base=e.name=i,e);if(ke(r)){if(n=1,ke(i.charCodeAt(1))){let p=2,g=p;for(;p<t&&!ke(i.charCodeAt(p));)p++;if(p<t&&p!==g){for(g=p;p<t&&ke(i.charCodeAt(p));)p++;if(p<t&&p!==g){for(g=p;p<t&&!ke(i.charCodeAt(p));)p++;p===t?n=p:p!==g&&(n=p+1)}}}}else if(gr(r)&&i.charCodeAt(1)===pr){if(t<=2)return e.root=e.dir=i,e;if(n=2,ke(i.charCodeAt(2))){if(t===3)return e.root=e.dir=i,e;n=3}}n>0&&(e.root=i.slice(0,n));let o=-1,s=n,a=-1,l=!0,c=i.length-1,u=0;for(;c>=n;--c){if(r=i.charCodeAt(c),ke(r)){if(!l){s=c+1;break}continue}a===-1&&(l=!1,a=c+1),r===fr?o===-1?o=c:u!==1&&(u=1):o!==-1&&(u=-1)}return a!==-1&&(o===-1||u===0||u===1&&o===a-1&&o===s+1?e.base=e.name=i.slice(s,a):(e.name=i.slice(s,o),e.base=i.slice(s,a),e.ext=i.slice(o,a))),s>0&&s!==n?e.dir=i.slice(0,s-1):e.dir=e.root,e},sep:"\\",delimiter:";",win32:null,posix:null},R0=(()=>{if(un){let i=/\\/g;return()=>{let e=ya().replace(i,"/");return e.slice(e.indexOf("/"))}}return()=>ya()})(),Oe={resolve(...i){let e="",t=!1;for(let n=i.length-1;n>=-1&&!t;n--){let r=n>=0?i[n]:R0();ht(r,`paths[${n}]`),r.length!==0&&(e=`${r}/${e}`,t=r.charCodeAt(0)===At)}return e=xd(e,!t,"/",np),t?`/${e}`:e.length>0?e:"."},normalize(i){if(ht(i,"path"),i.length===0)return".";let e=i.charCodeAt(0)===At,t=i.charCodeAt(i.length-1)===At;return i=xd(i,!e,"/",np),i.length===0?e?"/":t?"./":".":(t&&(i+="/"),e?`/${i}`:i)},isAbsolute(i){return ht(i,"path"),i.length>0&&i.charCodeAt(0)===At},join(...i){if(i.length===0)return".";let e;for(let t=0;t<i.length;++t){let n=i[t];ht(n,"path"),n.length>0&&(e===void 0?e=n:e+=`/${n}`)}return e===void 0?".":Oe.normalize(e)},relative(i,e){if(ht(i,"from"),ht(e,"to"),i===e||(i=Oe.resolve(i),e=Oe.resolve(e),i===e))return"";let t=1,n=i.length,r=n-t,o=1,s=e.length-o,a=r<s?r:s,l=-1,c=0;for(;c<a;c++){let p=i.charCodeAt(t+c);if(p!==e.charCodeAt(o+c))break;p===At&&(l=c)}if(c===a)if(s>a){if(e.charCodeAt(o+c)===At)return e.slice(o+c+1);if(c===0)return e.slice(o+c)}else r>a&&(i.charCodeAt(t+c)===At?l=c:c===0&&(l=0));let u="";for(c=t+l+1;c<=n;++c)(c===n||i.charCodeAt(c)===At)&&(u+=u.length===0?"..":"/..");return`${u}${e.slice(o+l)}`},toNamespacedPath(i){return i},dirname(i){if(ht(i,"path"),i.length===0)return".";let e=i.charCodeAt(0)===At,t=-1,n=!0;for(let r=i.length-1;r>=1;--r)if(i.charCodeAt(r)===At){if(!n){t=r;break}}else n=!1;return t===-1?e?"/":".":e&&t===1?"//":i.slice(0,t)},basename(i,e){e!==void 0&&ht(e,"ext"),ht(i,"path");let t=0,n=-1,r=!0,o;if(e!==void 0&&e.length>0&&e.length<=i.length){if(e===i)return"";let s=e.length-1,a=-1;for(o=i.length-1;o>=0;--o){let l=i.charCodeAt(o);if(l===At){if(!r){t=o+1;break}}else a===-1&&(r=!1,a=o+1),s>=0&&(l===e.charCodeAt(s)?--s===-1&&(n=o):(s=-1,n=a))}return t===n?n=a:n===-1&&(n=i.length),i.slice(t,n)}for(o=i.length-1;o>=0;--o)if(i.charCodeAt(o)===At){if(!r){t=o+1;break}}else n===-1&&(r=!1,n=o+1);return n===-1?"":i.slice(t,n)},extname(i){ht(i,"path");let e=-1,t=0,n=-1,r=!0,o=0;for(let s=i.length-1;s>=0;--s){let a=i.charCodeAt(s);if(a===At){if(!r){t=s+1;break}continue}n===-1&&(r=!1,n=s+1),a===fr?e===-1?e=s:o!==1&&(o=1):e!==-1&&(o=-1)}return e===-1||n===-1||o===0||o===1&&e===n-1&&e===t+1?"":i.slice(e,n)},format:mv.bind(null,"/"),parse(i){ht(i,"path");let e={root:"",dir:"",base:"",ext:"",name:""};if(i.length===0)return e;let t=i.charCodeAt(0)===At,n;t?(e.root="/",n=1):n=0;let r=-1,o=0,s=-1,a=!0,l=i.length-1,c=0;for(;l>=n;--l){let u=i.charCodeAt(l);if(u===At){if(!a){o=l+1;break}continue}s===-1&&(a=!1,s=l+1),u===fr?r===-1?r=l:c!==1&&(c=1):r!==-1&&(c=-1)}if(s!==-1){let u=o===0&&t?1:o;r===-1||c===0||c===1&&r===s-1&&r===o+1?e.base=e.name=i.slice(u,s):(e.name=i.slice(u,r),e.base=i.slice(u,s),e.ext=i.slice(r,s))}return o>0?e.dir=i.slice(0,o-1):t&&(e.dir="/"),e},sep:"/",delimiter:":",win32:null,posix:null};Oe.win32=lt.win32=lt;Oe.posix=lt.posix=Oe;var Ia=un?lt.normalize:Oe.normalize,A0=un?lt.isAbsolute:Oe.isAbsolute,ip=un?lt.join:Oe.join,bv=un?lt.resolve:Oe.resolve,vv=un?lt.relative:Oe.relative,yv=un?lt.dirname:Oe.dirname,rp=un?lt.basename:Oe.basename,Td=un?lt.extname:Oe.extname,Zk=un?lt.format:Oe.format,Qk=un?lt.parse:Oe.parse,Jk=un?lt.toNamespacedPath:Oe.toNamespacedPath,Hi=un?lt.sep:Oe.sep,e_=un?lt.delimiter:Oe.delimiter;var M0=/^\w[\w\d+.-]*$/,N0=/^\//,P0=/^\/\//;function F0(i,e){if(!i.scheme&&e)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${i.authority}", path: "${i.path}", query: "${i.query}", fragment: "${i.fragment}"}`);if(i.scheme&&!M0.test(i.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(i.path){if(i.authority){if(!N0.test(i.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(P0.test(i.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function B0(i,e){return!i&&!e?"file":i}function z0(i,e){switch(i){case"https":case"http":case"file":e?e[0]!==Hn&&(e=Hn+e):e=Hn;break}return e}var et="",Hn="/",U0=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,oe=class i{static isUri(e){return e instanceof i?!0:e?typeof e.authority=="string"&&typeof e.fragment=="string"&&typeof e.path=="string"&&typeof e.query=="string"&&typeof e.scheme=="string"&&typeof e.fsPath=="string"&&typeof e.with=="function"&&typeof e.toString=="function":!1}scheme;authority;path;query;fragment;constructor(e,t,n,r,o,s=!1){typeof e=="object"?(this.scheme=e.scheme||et,this.authority=e.authority||et,this.path=e.path||et,this.query=e.query||et,this.fragment=e.fragment||et):(this.scheme=B0(e,s),this.authority=t||et,this.path=z0(this.scheme,n||et),this.query=r||et,this.fragment=o||et,F0(this,s))}get fsPath(){return xa(this,!1)}with(e){if(!e)return this;let{scheme:t,authority:n,path:r,query:o,fragment:s}=e;return t===void 0?t=this.scheme:t===null&&(t=et),n===void 0?n=this.authority:n===null&&(n=et),r===void 0?r=this.path:r===null&&(r=et),o===void 0?o=this.query:o===null&&(o=et),s===void 0?s=this.fragment:s===null&&(s=et),t===this.scheme&&n===this.authority&&r===this.path&&o===this.query&&s===this.fragment?this:new mr(t,n,r,o,s)}static parse(e,t=!1){let n=U0.exec(e);return n?new mr(n[2]||et,Cd(n[4]||et),Cd(n[5]||et),Cd(n[7]||et),Cd(n[9]||et),t):new mr(et,et,et,et,et)}static file(e){let t=et;if(kt&&(e=e.replace(/\\/g,Hn)),e[0]===Hn&&e[1]===Hn){let n=e.indexOf(Hn,2);n===-1?(t=e.substring(2),e=Hn):(t=e.substring(2,n),e=e.substring(n)||Hn)}return new mr("file",t,e,et,et)}static from(e,t){return new mr(e.scheme,e.authority,e.path,e.query,e.fragment,t)}static joinPath(e,...t){if(!e.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let n;return kt&&e.scheme==="file"?n=i.file(lt.join(xa(e,!0),...t)).path:n=Oe.join(e.path,...t),e.with({path:n})}toString(e=!1){return sp(this,e)}toJSON(){return this}static revive(e){if(e){if(e instanceof i)return e;{let t=new mr(e);return t._formatted=e.external??null,t._fsPath=e._sep===Tv?e.fsPath??null:null,t}}else return e}[Symbol.for("debug.description")](){return`URI(${this.toString()})`}};var Tv=kt?1:void 0,mr=class extends oe{_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=xa(this,!1)),this._fsPath}toString(e=!1){return e?sp(this,!0):(this._formatted||(this._formatted=sp(this,!1)),this._formatted)}toJSON(){let e={$mid:1};return this._fsPath&&(e.fsPath=this._fsPath,e._sep=Tv),this._formatted&&(e.external=this._formatted),this.path&&(e.path=this.path),this.scheme&&(e.scheme=this.scheme),this.authority&&(e.authority=this.authority),this.query&&(e.query=this.query),this.fragment&&(e.fragment=this.fragment),e}},Cv={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function Iv(i,e,t){let n,r=-1;for(let o=0;o<i.length;o++){let s=i.charCodeAt(o);if(s>=97&&s<=122||s>=65&&s<=90||s>=48&&s<=57||s===45||s===46||s===95||s===126||e&&s===47||t&&s===91||t&&s===93||t&&s===58)r!==-1&&(n+=encodeURIComponent(i.substring(r,o)),r=-1),n!==void 0&&(n+=i.charAt(o));else{n===void 0&&(n=i.substr(0,o));let a=Cv[s];a!==void 0?(r!==-1&&(n+=encodeURIComponent(i.substring(r,o)),r=-1),n+=a):r===-1&&(r=o)}}return r!==-1&&(n+=encodeURIComponent(i.substring(r))),n!==void 0?n:i}function W0(i){let e;for(let t=0;t<i.length;t++){let n=i.charCodeAt(t);n===35||n===63?(e===void 0&&(e=i.substr(0,t)),e+=Cv[n]):e!==void 0&&(e+=i[t])}return e!==void 0?e:i}function xa(i,e){let t;return i.authority&&i.path.length>1&&i.scheme==="file"?t=`//${i.authority}${i.path}`:i.path.charCodeAt(0)===47&&(i.path.charCodeAt(1)>=65&&i.path.charCodeAt(1)<=90||i.path.charCodeAt(1)>=97&&i.path.charCodeAt(1)<=122)&&i.path.charCodeAt(2)===58?e?t=i.path.substr(1):t=i.path[1].toLowerCase()+i.path.substr(2):t=i.path,kt&&(t=t.replace(/\//g,"\\")),t}function sp(i,e){let t=e?W0:Iv,n="",{scheme:r,authority:o,path:s,query:a,fragment:l}=i;if(r&&(n+=r,n+=":"),(o||r==="file")&&(n+=Hn,n+=Hn),o){let c=o.indexOf("@");if(c!==-1){let u=o.substr(0,c);o=o.substr(c+1),c=u.lastIndexOf(":"),c===-1?n+=t(u,!1,!1):(n+=t(u.substr(0,c),!1,!1),n+=":",n+=t(u.substr(c+1),!1,!0)),n+="@"}o=o.toLowerCase(),c=o.lastIndexOf(":"),c===-1?n+=t(o,!1,!0):(n+=t(o.substr(0,c),!1,!0),n+=o.substr(c))}if(s){if(s.length>=3&&s.charCodeAt(0)===47&&s.charCodeAt(2)===58){let c=s.charCodeAt(1);c>=65&&c<=90&&(s=`/${String.fromCharCode(c+32)}:${s.substr(3)}`)}else if(s.length>=2&&s.charCodeAt(1)===58){let c=s.charCodeAt(0);c>=65&&c<=90&&(s=`${String.fromCharCode(c+32)}:${s.substr(2)}`)}n+=t(s,!0,!1)}return a&&(n+="?",n+=t(a,!1,!1)),l&&(n+="#",n+=e?l:Iv(l,!1,!1)),n}function Sv(i){try{return decodeURIComponent(i)}catch{return i.length>3?i.substr(0,3)+Sv(i.substr(3)):i}}var xv=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function Cd(i){return i.match(xv)?i.replace(xv,e=>Sv(e)):i}var ap=class{[Symbol.toStringTag]="LinkedMap";_map;_head;_tail;_size;_state;constructor(){this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(e){return this._map.has(e)}get(e,t=0){let n=this._map.get(e);if(n)return t!==0&&this.touch(n,t),n.value}set(e,t,n=0){let r=this._map.get(e);if(r)r.value=t,n!==0&&this.touch(r,n);else{switch(r={key:e,value:t,next:void 0,previous:void 0},n){case 0:this.addItemLast(r);break;case 1:this.addItemFirst(r);break;case 2:this.addItemLast(r);break;default:this.addItemLast(r);break}this._map.set(e,r),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let t=this._map.get(e);if(t)return this._map.delete(e),this.removeItem(t),this._size--,t.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){let n=this._state,r=this._head;for(;r;){if(t?e.bind(t)(r.value,r.key,this):e(r.value,r.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");r=r.next}}keys(){let e=this,t=this._state,n=this._head,r={[Symbol.iterator](){return r},next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(n){let o={value:n.key,done:!1};return n=n.next,o}else return{value:void 0,done:!0}}};return r}values(){let e=this,t=this._state,n=this._head,r={[Symbol.iterator](){return r},next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(n){let o={value:n.value,done:!1};return n=n.next,o}else return{value:void 0,done:!0}}};return r}entries(){let e=this,t=this._state,n=this._head,r={[Symbol.iterator](){return r},next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(n){let o={value:[n.key,n.value],done:!1};return n=n.next,o}else return{value:void 0,done:!0}}};return r}[Symbol.iterator](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let t=this._head,n=this.size;for(;t&&n>e;)this._map.delete(t.key),t=t.next,n--;this._head=t,this._size=n,t&&(t.previous=void 0),this._state++}trimNew(e){if(e>=this.size)return;if(e===0){this.clear();return}let t=this._tail,n=this.size;for(;t&&n>e;)this._map.delete(t.key),t=t.previous,n--;this._tail=t,this._size=n,t&&(t.next=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let t=e.next,n=e.previous;if(!t||!n)throw new Error("Invalid list");t.previous=n,n.next=t}e.next=void 0,e.previous=void 0,this._state++}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(t!==1&&t!==2)){if(t===1){if(e===this._head)return;let n=e.next,r=e.previous;e===this._tail?(r.next=void 0,this._tail=r):(n.previous=r,r.next=n),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(t===2){if(e===this._tail)return;let n=e.next,r=e.previous;e===this._head?(n.previous=void 0,this._head=n):(n.previous=r,r.next=n),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((t,n)=>{e.push([n,t])}),e}fromJSON(e){this.clear();for(let[t,n]of e)this.set(t,n)}},lp=class extends ap{_limit;_ratio;constructor(e,t=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,t),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,t=2){return super.get(e,t)}peek(e){return super.get(e,0)}set(e,t){return super.set(e,t,2),this}checkTrim(){this.size>this._limit&&this.trim(Math.round(this._limit*this._ratio))}},br=class extends lp{constructor(e,t=1){super(e,t)}trim(e){this.trimOld(e)}set(e,t){return super.set(e,t),this.checkTrim(),this}};function dp(i,e){let t=this,n=!1,r;return function(){if(n)return r;if(n=!0,e)try{r=i.apply(t,arguments)}finally{e()}else r=i.apply(t,arguments);return r}}var hi;(L=>{function i(A){return A&&typeof A=="object"&&typeof A[Symbol.iterator]=="function"}L.is=i;let e=Object.freeze([]);function t(){return e}L.empty=t;function*n(A){yield A}L.single=n;function r(A){return i(A)?A:n(A)}L.wrap=r;function o(A){return A||e}L.from=o;function*s(A){for(let M=A.length-1;M>=0;M--)yield A[M]}L.reverse=s;function a(A){return!A||A[Symbol.iterator]().next().done===!0}L.isEmpty=a;function l(A){return A[Symbol.iterator]().next().value}L.first=l;function c(A,M){let P=0;for(let ie of A)if(M(ie,P++))return!0;return!1}L.some=c;function u(A,M){for(let P of A)if(M(P))return P}L.find=u;function*p(A,M){for(let P of A)M(P)&&(yield P)}L.filter=p;function*g(A,M){let P=0;for(let ie of A)yield M(ie,P++)}L.map=g;function*f(A,M){let P=0;for(let ie of A)yield*M(ie,P++)}L.flatMap=f;function*T(...A){for(let M of A)yield*M}L.concat=T;function m(A,M,P){let ie=P;for(let ee of A)ie=M(ie,ee);return ie}L.reduce=m;function*x(A,M,P=A.length){for(M<0&&(M+=A.length),P<0?P+=A.length:P>A.length&&(P=A.length);M<P;M++)yield A[M]}L.slice=x;function w(A,M=Number.POSITIVE_INFINITY){let P=[];if(M===0)return[P,A];let ie=A[Symbol.iterator]();for(let ee=0;ee<M;ee++){let te=ie.next();if(te.done)return[P,L.empty()];P.push(te.value)}return[P,{[Symbol.iterator](){return ie}}]}L.consume=w;async function k(A){let M=[];for await(let P of A)M.push(P);return Promise.resolve(M)}L.asyncToArray=k})(hi||={});var H0=!1,to=null;function V0(i){to=i}if(H0){let i="__is_disposable_tracked__";V0(new class{trackDisposable(e){let t=new Error("Potentially leaked disposable").stack;setTimeout(()=>{e[i]||console.log(t)},3e3)}setParent(e,t){if(e&&e!==U.None)try{e[i]=!0}catch{}}markAsDisposed(e){if(e&&e!==U.None)try{e[i]=!0}catch{}}markAsSingleton(e){}})}function io(i){return to?.trackDisposable(i),i}function ro(i){to?.markAsDisposed(i)}function Ta(i,e){to?.setParent(i,e)}function K0(i,e){if(to)for(let t of i)to.setParent(t,e)}function Zo(i){return to?.markAsSingleton(i),i}function pi(i){if(hi.is(i)){let e=[];for(let t of i)if(t)try{t.dispose()}catch(n){e.push(n)}if(e.length===1)throw e[0];if(e.length>1)throw new AggregateError(e,"Encountered errors while disposing of store");return Array.isArray(i)?[]:i}else if(i)return i.dispose(),i}function Qo(...i){let e=pe(()=>pi(i));return K0(i,e),e}function pe(i){let e=io({dispose:dp(()=>{ro(e),i()})});return e}var be=class i{static DISABLE_DISPOSED_WARNING=!1;_toDispose=new Set;_isDisposed=!1;constructor(){io(this)}dispose(){this._isDisposed||(ro(this),this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){if(this._toDispose.size!==0)try{pi(this._toDispose)}finally{this._toDispose.clear()}}add(e){if(!e)return e;if(e===this)throw new Error("Cannot register a disposable on itself!");return Ta(e,this),this._isDisposed?i.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(e),e}delete(e){if(e){if(e===this)throw new Error("Cannot dispose a disposable on itself!");this._toDispose.delete(e),e.dispose()}}deleteAndLeak(e){e&&this._toDispose.has(e)&&(this._toDispose.delete(e),Ta(e,null))}},U=class{static None=Object.freeze({dispose(){}});_store=new be;constructor(){io(this),Ta(this._store,this)}dispose(){ro(this),this._store.dispose()}_register(e){if(e===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(e)}},Qt=class{_value;_isDisposed=!1;constructor(){io(this)}get value(){return this._isDisposed?void 0:this._value}set value(e){this._isDisposed||e===this._value||(this._value?.dispose(),e&&Ta(e,this),this._value=e)}clear(){this.value=void 0}dispose(){this._isDisposed=!0,ro(this),this._value?.dispose(),this._value=void 0}clearAndLeak(){let e=this._value;return this._value=void 0,e&&Ta(e,null),e}};var no=class{_store=new Map;_isDisposed=!1;constructor(){io(this)}dispose(){ro(this),this._isDisposed=!0,this.clearAndDisposeAll()}clearAndDisposeAll(){if(this._store.size)try{pi(this._store.values())}finally{this._store.clear()}}has(e){return this._store.has(e)}get size(){return this._store.size}get(e){return this._store.get(e)}set(e,t,n=!1){this._isDisposed&&console.warn(new Error("Trying to add a disposable to a DisposableMap that has already been disposed of. The added object will be leaked!").stack),n||this._store.get(e)?.dispose(),this._store.set(e,t)}deleteAndDispose(e){this._store.get(e)?.dispose(),this._store.delete(e)}deleteAndLeak(e){let t=this._store.get(e);return this._store.delete(e),t}keys(){return this._store.keys()}values(){return this._store.values()}[Symbol.iterator](){return this._store[Symbol.iterator]()}};var Ev=Object.freeze(function(i,e){let t=setTimeout(i.bind(e),0);return{dispose(){clearTimeout(t)}}}),cp;(n=>{function i(r){return r===n.None||r===n.Cancelled||r instanceof Jo?!0:!r||typeof r!="object"?!1:typeof r.isCancellationRequested=="boolean"&&typeof r.onCancellationRequested=="function"}n.isCancellationToken=i,n.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:de.None}),n.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:Ev})})(cp||={});var Jo=class{_isCancelled=!1;_emitter=null;cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?Ev:(this._emitter||(this._emitter=new N),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}},gi=class{_token=void 0;_parentListener=void 0;constructor(e){this._parentListener=e&&e.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new Jo),this._token}cancel(){this._token?this._token instanceof Jo&&this._token.cancel():this._token=cp.Cancelled}dispose(e=!1){e&&this.cancel(),this._parentListener?.dispose(),this._token?this._token instanceof Jo&&this._token.dispose():this._token=cp.None}};var nt=class i{static Undefined=new i(void 0);element;next;prev;constructor(e){this.element=e,this.next=i.Undefined,this.prev=i.Undefined}},Kt=class{_first=nt.Undefined;_last=nt.Undefined;_size=0;get size(){return this._size}isEmpty(){return this._first===nt.Undefined}clear(){let e=this._first;for(;e!==nt.Undefined;){let t=e.next;e.prev=nt.Undefined,e.next=nt.Undefined,e=t}this._first=nt.Undefined,this._last=nt.Undefined,this._size=0}unshift(e){return this._insert(e,!1)}push(e){return this._insert(e,!0)}_insert(e,t){let n=new nt(e);if(this._first===nt.Undefined)this._first=n,this._last=n;else if(t){let o=this._last;this._last=n,n.prev=o,o.next=n}else{let o=this._first;this._first=n,n.next=o,o.prev=n}this._size+=1;let r=!1;return()=>{r||(r=!0,this._remove(n))}}shift(){if(this._first!==nt.Undefined){let e=this._first.element;return this._remove(this._first),e}}pop(){if(this._last!==nt.Undefined){let e=this._last.element;return this._remove(this._last),e}}_remove(e){if(e.prev!==nt.Undefined&&e.next!==nt.Undefined){let t=e.prev;t.next=e.next,e.next.prev=t}else e.prev===nt.Undefined&&e.next===nt.Undefined?(this._first=nt.Undefined,this._last=nt.Undefined):e.next===nt.Undefined?(this._last=this._last.prev,this._last.next=nt.Undefined):e.prev===nt.Undefined&&(this._first=this._first.next,this._first.prev=nt.Undefined);this._size-=1}*[Symbol.iterator](){let e=this._first;for(;e!==nt.Undefined;)yield e.element,e=e.next}};var oo=(i,e)=>i===e;var Vn=class{constructor(e,t,n){this.owner=e;this.debugNameSource=t;this.referenceFn=n}getDebugName(e){return Lv(e,this)}},wv=new Map,up=new WeakMap;function Lv(i,e){let t=up.get(i);if(t)return t;let n=q0(i,e);if(n){let r=wv.get(n)??0;r++,wv.set(n,r);let o=r===1?n:`${n}#${r}`;return up.set(i,o),o}}function q0(i,e){let t=up.get(i);if(t)return t;let n=e.owner?G0(e.owner)+".":"",r,o=e.debugNameSource;if(o!==void 0)if(typeof o=="function"){if(r=o(),r!==void 0)return n+r}else return n+o;let s=e.referenceFn;if(s!==void 0&&(r=Sd(s),r!==void 0))return n+r;if(e.owner!==void 0){let a=$0(e.owner,i);if(a!==void 0)return n+a}}function $0(i,e){for(let t in i)if(i[t]===e)return t}var kv=new Map,_v=new WeakMap;function G0(i){let e=_v.get(i);if(e)return e;let t=j0(i),n=kv.get(t)??0;n++,kv.set(t,n);let r=n===1?t:`${t}#${n}`;return _v.set(i,r),r}function j0(i){let e=i.constructor;return e?e.name:"Object"}function Sd(i){let e=i.toString(),n=/\/\*\*\s*@description\s*([^*]*)\*\//.exec(e);return(n?n[1]:void 0)?.trim()}function Ed(i,e){if(!i)throw new Error(e?`Assertion failed (${e})`:"Assertion Failed")}function hp(i,e="Unreachable"){throw new Error(e)}function es(i){if(!i()){debugger;i(),ot(new _e("Assertion Failed"))}}function so(i){return new wd(new Vn(void 0,void 0,i),i,void 0,void 0)}var wd=class{constructor(e,t,n,r){this._debugNameData=e;this._runFn=t;this.createChangeSummary=n;this._handleChange=r;this.changeSummary=this.createChangeSummary?.(),En()?.handleAutorunCreated(this),this._runIfNeeded(),io(this)}state=2;updateCount=0;disposed=!1;dependencies=new Set;dependenciesToBeRemoved=new Set;changeSummary;get debugName(){return this._debugNameData.getDebugName(this)??"(anonymous)"}dispose(){this.disposed=!0;for(let e of this.dependencies)e.removeObserver(this);this.dependencies.clear(),ro(this)}_runIfNeeded(){if(this.state===3)return;let e=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=e,this.state=3;let t=this.disposed;try{if(!t){En()?.handleAutorunTriggered(this);let n=this.changeSummary;try{this.changeSummary=this.createChangeSummary?.(),this._runFn(this,n)}catch(r){Go(r)}}}finally{t||En()?.handleAutorunFinished(this);for(let n of this.dependenciesToBeRemoved)n.removeObserver(this);this.dependenciesToBeRemoved.clear()}}toString(){return`Autorun<${this.debugName}>`}beginUpdate(){this.state===3&&(this.state=1),this.updateCount++}endUpdate(){try{if(this.updateCount===1)do{if(this.state===1){this.state=3;for(let e of this.dependencies)if(e.reportChanges(),this.state===2)break}this._runIfNeeded()}while(this.state!==3)}finally{this.updateCount--}es(()=>this.updateCount>=0)}handlePossibleChange(e){this.state===3&&this.dependencies.has(e)&&!this.dependenciesToBeRemoved.has(e)&&(this.state=1)}handleChange(e,t){if(this.dependencies.has(e)&&!this.dependenciesToBeRemoved.has(e))try{(this._handleChange?this._handleChange({changedObservable:e,change:t,didChange:r=>r===e},this.changeSummary):!0)&&(this.state=2)}catch(n){Go(n)}}readObservable(e){if(this.disposed)return e.get();e.addObserver(this);let t=e.get();return this.dependencies.add(e),this.dependenciesToBeRemoved.delete(e),t}};(e=>e.Observer=wd)(so||={});function pp(i,e){return new kd(new Vn(i.owner,i.debugName,i.debugReferenceFn),e,void 0,void 0,i.onLastObserverRemoved,i.equalsFn??oo)}Dv(pp);var kd=class extends ao{constructor(t,n,r,o,s=void 0,a){super();this._debugNameData=t;this._computeFn=n;this.createChangeSummary=r;this._handleChange=o;this._handleLastObserverRemoved=s;this._equalityComparator=a;this.changeSummary=this.createChangeSummary?.(),En()?.handleDerivedCreated(this)}state=0;value=void 0;updateCount=0;dependencies=new Set;dependenciesToBeRemoved=new Set;changeSummary=void 0;get debugName(){return this._debugNameData.getDebugName(this)??"(anonymous)"}onLastObserverRemoved(){this.state=0,this.value=void 0;for(let t of this.dependencies)t.removeObserver(this);this.dependencies.clear(),this._handleLastObserverRemoved?.()}get(){if(this.observers.size===0){let t=this._computeFn(this,this.createChangeSummary?.());return this.onLastObserverRemoved(),t}else{do{if(this.state===1){for(let t of this.dependencies)if(t.reportChanges(),this.state===2)break}this.state===1&&(this.state=3),this._recomputeIfNeeded()}while(this.state!==3);return this.value}}_recomputeIfNeeded(){if(this.state===3)return;let t=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=t;let n=this.state!==0,r=this.value;this.state=3;let o=!1;try{let s=this.changeSummary;this.changeSummary=this.createChangeSummary?.();try{this.value=this._computeFn(this,s)}finally{for(let a of this.dependenciesToBeRemoved)a.removeObserver(this);this.dependenciesToBeRemoved.clear()}o=n&&!this._equalityComparator(r,this.value),En()?.handleDerivedRecomputed(this,{oldValue:r,newValue:this.value,change:void 0,didChange:o,hadValue:n})}catch(s){Go(s)}if(o)for(let s of this.observers)s.handleChange(this,void 0)}toString(){return`LazyDerived<${this.debugName}>`}beginUpdate(t){this.updateCount++;let n=this.updateCount===1;if(this.state===3&&(this.state=1,!n))for(let r of this.observers)r.handlePossibleChange(this);if(n)for(let r of this.observers)r.beginUpdate(this)}endUpdate(t){if(this.updateCount--,this.updateCount===0){let n=[...this.observers];for(let r of n)r.endUpdate(this)}es(()=>this.updateCount>=0)}handlePossibleChange(t){if(this.state===3&&this.dependencies.has(t)&&!this.dependenciesToBeRemoved.has(t)){this.state=1;for(let n of this.observers)n.handlePossibleChange(this)}}handleChange(t,n){if(this.dependencies.has(t)&&!this.dependenciesToBeRemoved.has(t)){let r=!1;try{r=this._handleChange?this._handleChange({changedObservable:t,change:n,didChange:s=>s===t},this.changeSummary):!0}catch(s){Go(s)}let o=this.state===3;if(r&&(this.state===1||o)&&(this.state=2,o))for(let s of this.observers)s.handlePossibleChange(this)}}readObservable(t){t.addObserver(this);let n=t.get();return this.dependencies.add(t),this.dependenciesToBeRemoved.delete(t),n}addObserver(t){let n=!this.observers.has(t)&&this.updateCount>0;super.addObserver(t),n&&t.beginUpdate(this)}removeObserver(t){let n=this.observers.has(t)&&this.updateCount>0;super.removeObserver(t),n&&t.endUpdate(this)}};function fp(i){return new gp(i)}var gp=class extends Ca{constructor(t){super();this.value=t}get debugName(){return this.toString()}get(){return this.value}addObserver(t){}removeObserver(t){}toString(){return`Const: ${this.value}`}};function mp(...i){let e,t,n;return i.length===3?[e,t,n]=i:[t,n]=i,new vr(new Vn(e,void 0,n),t,n,()=>vr.globalTransaction,oo)}var vr=class extends ao{constructor(t,n,r,o,s){super();this._debugNameData=t;this.event=n;this._getValue=r;this._getTransaction=o;this._equalityComparator=s}static globalTransaction;value;hasValue=!1;subscription;getDebugName(){return this._debugNameData.getDebugName(this)}get debugName(){let t=this.getDebugName();return"From Event"+(t?`: ${t}`:"")}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}handleEvent=t=>{let n=this._getValue(t),r=this.value,o=!this.hasValue||!this._equalityComparator(r,n),s=!1;o&&(this.value=n,this.hasValue&&(s=!0,bp(this._getTransaction(),a=>{En()?.handleFromEventObservableTriggered(this,{oldValue:r,newValue:n,change:void 0,didChange:o,hadValue:this.hasValue});for(let l of this.observers)a.updateObserver(l,this),l.handleChange(this,void 0)},()=>{let a=this.getDebugName();return"Event fired"+(a?`: ${a}`:"")})),this.hasValue=!0),s||En()?.handleFromEventObservableTriggered(this,{oldValue:r,newValue:n,change:void 0,didChange:o,hadValue:this.hasValue})};onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0,this.hasValue=!1,this.value=void 0}get(){return this.subscription?(this.hasValue||this.handleEvent(void 0),this.value):this._getValue(void 0)}};(t=>{t.Observer=vr;function e(n,r){let o=!1;vr.globalTransaction===void 0&&(vr.globalTransaction=n,o=!0);try{r()}finally{o&&(vr.globalTransaction=void 0)}}t.batchEventsGlobally=e})(mp||={});function Av(i){let e=new _d(!1,void 0);return i.addObserver(e),pe(()=>{i.removeObserver(e)})}Nv(Av);function Ov(i,e){let t=new _d(!0,e);return i.addObserver(t),e?e(i.get()):i.reportChanges(),pe(()=>{i.removeObserver(t)})}Mv(Ov);var _d=class{constructor(e,t){this._forceRecompute=e;this._handleValue=t}_counter=0;beginUpdate(e){this._counter++}endUpdate(e){this._counter--,this._counter===0&&this._forceRecompute&&(this._handleValue?this._handleValue(e.get()):e.reportChanges())}handlePossibleChange(e){}handleChange(e,t){}};var Fv;function Bv(i){Fv=i}function En(){return Fv}var Dd=class{indentation=0;textToConsoleArgs(e){return Q0([ts(tT("|  ",this.indentation)),e])}formatInfo(e){return e.hadValue?e.didChange?[ts(" "),Kn(Ea(e.oldValue,70),{color:"red",strikeThrough:!0}),ts(" "),Kn(Ea(e.newValue,60),{color:"green"})]:[ts(" (unchanged)")]:[ts(" "),Kn(Ea(e.newValue,60),{color:"green"}),ts(" (initial)")]}handleObservableChanged(e,t){console.log(...this.textToConsoleArgs([Sa("observable value changed"),Kn(e.debugName,{color:"BlueViolet"}),...this.formatInfo(t)]))}changedObservablesSets=new WeakMap;formatChanges(e){if(e.size!==0)return Kn(" (changed deps: "+[...e].map(t=>t.debugName).join(", ")+")",{color:"gray"})}handleDerivedCreated(e){let t=e.handleChange;this.changedObservablesSets.set(e,new Set),e.handleChange=(n,r)=>(this.changedObservablesSets.get(e).add(n),t.apply(e,[n,r]))}handleDerivedRecomputed(e,t){let n=this.changedObservablesSets.get(e);console.log(...this.textToConsoleArgs([Sa("derived recomputed"),Kn(e.debugName,{color:"BlueViolet"}),...this.formatInfo(t),this.formatChanges(n),{data:[{fn:e._debugNameData.referenceFn??e._computeFn}]}])),n.clear()}handleFromEventObservableTriggered(e,t){console.log(...this.textToConsoleArgs([Sa("observable from event triggered"),Kn(e.debugName,{color:"BlueViolet"}),...this.formatInfo(t),{data:[{fn:e._getValue}]}]))}handleAutorunCreated(e){let t=e.handleChange;this.changedObservablesSets.set(e,new Set),e.handleChange=(n,r)=>(this.changedObservablesSets.get(e).add(n),t.apply(e,[n,r]))}handleAutorunTriggered(e){let t=this.changedObservablesSets.get(e);console.log(...this.textToConsoleArgs([Sa("autorun"),Kn(e.debugName,{color:"BlueViolet"}),this.formatChanges(t),{data:[{fn:e._debugNameData.referenceFn??e._runFn}]}])),t.clear(),this.indentation++}handleAutorunFinished(e){this.indentation--}handleBeginTransaction(e){let t=e.getDebugName();t===void 0&&(t=""),console.log(...this.textToConsoleArgs([Sa("transaction"),Kn(t,{color:"BlueViolet"}),{data:[{fn:e._fn}]}])),this.indentation++}handleEndTransaction(){this.indentation--}};function Q0(i){let e=new Array,t=[],n="";function r(s){if("length"in s)for(let a of s)a&&r(a);else"text"in s?(n+=`%c${s.text}`,e.push(s.style),s.data&&t.push(...s.data)):"data"in s&&t.push(...s.data)}r(i);let o=[n,...e];return o.push(...t),o}function ts(i){return Kn(i,{color:"black"})}function Sa(i){return Kn(nT(`${i}: `,10),{color:"black",bold:!0})}function Kn(i,e={color:"black"}){function t(r){return Object.entries(r).reduce((o,[s,a])=>`${o}${s}:${a};`,"")}let n={color:e.color};return e.strikeThrough&&(n["text-decoration"]="line-through"),e.bold&&(n["font-weight"]="bold"),{text:i,style:t(n)}}function Ea(i,e){switch(typeof i){case"number":return""+i;case"string":return i.length+2<=e?`"${i}"`:`"${i.substr(0,e-7)}"+...`;case"boolean":return i?"true":"false";case"undefined":return"undefined";case"object":return i===null?"null":Array.isArray(i)?J0(i,e):eT(i,e);case"symbol":return i.toString();case"function":return`[[Function${i.name?" "+i.name:""}]]`;default:return""+i}}function J0(i,e){let t="[ ",n=!0;for(let r of i){if(n||(t+=", "),t.length-5>e){t+="...";break}n=!1,t+=`${Ea(r,e-t.length)}`}return t+=" ]",t}function eT(i,e){let t="{ ",n=!0;for(let[r,o]of Object.entries(i)){if(n||(t+=", "),t.length-5>e){t+="...";break}n=!1,t+=`${r}: ${Ea(o,e-t.length)}`}return t+=" }",t}function tT(i,e){let t="";for(let n=1;n<=e;n++)t+=i;return t}function nT(i,e){for(;i.length<e;)i+=" ";return i}var zv;function Mv(i){zv=i}var Uv;function Nv(i){Uv=i}var vp;function Dv(i){vp=i}var Ca=class{get TChange(){return null}reportChanges(){this.get()}read(e){return e?e.readObservable(this):this.get()}map(e,t){let n=t===void 0?void 0:e,r=t===void 0?e:t;return vp({owner:n,debugName:()=>{let o=Sd(r);if(o!==void 0)return o;let a=/^\s*\(?\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*\)?\s*=>\s*\1(?:\??)\.([a-zA-Z_$][a-zA-Z_$0-9]*)\s*$/.exec(r.toString());if(a)return`${this.debugName}.${a[2]}`;if(!n)return`${this.debugName} (mapped)`},debugReferenceFn:r},o=>r(this.read(o),o))}flatten(){return vp({owner:void 0,debugName:()=>`${this.debugName} (flattened)`},e=>this.read(e).read(e))}recomputeInitiallyAndOnChange(e,t){return e.add(zv(this,t)),this}keepObserved(e){return e.add(Uv(this)),this}get debugValue(){return this.get()}},ao=class extends Ca{observers=new Set;addObserver(e){let t=this.observers.size;this.observers.add(e),t===0&&this.onFirstObserverAdded()}removeObserver(e){this.observers.delete(e)&&this.observers.size===0&&this.onLastObserverRemoved()}onFirstObserverAdded(){}onLastObserverRemoved(){}};function Ld(i,e){let t=new Rd(i,e);try{i(t)}finally{t.finish()}}function bp(i,e,t){i?e(i):Ld(e,t)}var Rd=class{constructor(e,t){this._fn=e;this._getDebugName=t;En()?.handleBeginTransaction(this)}updatingObservers=[];getDebugName(){return this._getDebugName?this._getDebugName():Sd(this._fn)}updateObserver(e,t){this.updatingObservers.push({observer:e,observable:t}),e.beginUpdate(t)}finish(){let e=this.updatingObservers;for(let t=0;t<e.length;t++){let{observer:n,observable:r}=e[t];n.endUpdate(r)}this.updatingObservers=null,En()?.handleEndTransaction()}};var iT=!1;iT&&Bv(new Dd);var rT=globalThis.performance&&typeof globalThis.performance.now=="function",ns=class i{_startTime;_stopTime;_now;static create(e){return new i(e)}constructor(e){this._now=rT&&e===!1?Date.now:globalThis.performance.now.bind(globalThis.performance),this._startTime=this._now(),this._stopTime=-1}stop(){this._stopTime=this._now()}reset(){this._startTime=this._now(),this._stopTime=-1}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}};var Wv=Symbol("MicrotaskDelay");var oT=!1,Hv=!1,sT=!1,de;(Ye=>{Ye.None=()=>U.None;function e(G){if(sT){let{onDidAddListener:F}=G,V=wa.create(),W=0;G.onDidAddListener=()=>{++W===2&&(console.warn("snapshotted emitter LIKELY used public and SHOULD HAVE BEEN created with DisposableStore. snapshotted here"),V.print()),F?.()}}}function t(G,F){return f(G,()=>{},0,void 0,!0,void 0,F)}Ye.defer=t;function n(G){return(F,V=null,W)=>{let K=!1,he;return he=G(le=>{if(!K)return he?he.dispose():K=!0,F.call(V,le)},null,W),K&&he.dispose(),he}}Ye.once=n;function r(G,F){return Ye.once(Ye.filter(G,F))}Ye.onceIf=r;function o(G,F,V){return p((W,K=null,he)=>G(le=>W.call(K,F(le)),null,he),V)}Ye.map=o;function s(G,F,V){return p((W,K=null,he)=>G(le=>{F(le),W.call(K,le)},null,he),V)}Ye.forEach=s;function a(G,F,V){return p((W,K=null,he)=>G(le=>F(le)&&W.call(K,le),null,he),V)}Ye.filter=a;function l(G){return G}Ye.signal=l;function c(...G){return(F,V=null,W)=>{let K=Qo(...G.map(he=>he(le=>F.call(V,le))));return g(K,W)}}Ye.any=c;function u(G,F,V,W){let K=V;return o(G,he=>(K=F(K,he),K),W)}Ye.reduce=u;function p(G,F){let V,W={onWillAddFirstListener(){V=G(K.fire,K)},onDidRemoveLastListener(){V?.dispose()}};F||e(W);let K=new N(W);return F?.add(K),K.event}function g(G,F){return F instanceof Array?F.push(G):F&&F.add(G),G}function f(G,F,V=100,W=!1,K=!1,he,le){let Be,ve,J,Pt=0,wt,Un={leakWarningThreshold:he,onWillAddFirstListener(){Be=G(Vo=>{Pt++,ve=F(ve,Vo),W&&!J&&(_n.fire(ve),ve=void 0),wt=()=>{let an=ve;ve=void 0,J=void 0,(!W||Pt>1)&&_n.fire(an),Pt=0},typeof V=="number"?(clearTimeout(J),J=setTimeout(wt,V)):J===void 0&&(J=0,queueMicrotask(wt))})},onWillRemoveListener(){K&&Pt>0&&wt?.()},onDidRemoveLastListener(){wt=void 0,Be.dispose()}};le||e(Un);let _n=new N(Un);return le?.add(_n),_n.event}Ye.debounce=f;function T(G,F=0,V){return Ye.debounce(G,(W,K)=>W?(W.push(K),W):[K],F,void 0,!0,void 0,V)}Ye.accumulate=T;function m(G,F=(W,K)=>W===K,V){let W=!0,K;return a(G,he=>{let le=W||!F(he,K);return W=!1,K=he,le},V)}Ye.latch=m;function x(G,F,V){return[Ye.filter(G,F,V),Ye.filter(G,W=>!F(W),V)]}Ye.split=x;function w(G,F=!1,V=[],W){let K=V.slice(),he=G(ve=>{K?K.push(ve):Be.fire(ve)});W&&W.add(he);let le=()=>{K?.forEach(ve=>Be.fire(ve)),K=null},Be=new N({onWillAddFirstListener(){he||(he=G(ve=>Be.fire(ve)),W&&W.add(he))},onDidAddFirstListener(){K&&(F?setTimeout(le):le())},onDidRemoveLastListener(){he&&he.dispose(),he=null}});return W&&W.add(Be),Be.event}Ye.buffer=w;function k(G,F){return(W,K,he)=>{let le=F(new A);return G(function(Be){let ve=le.evaluate(Be);ve!==L&&W.call(K,ve)},void 0,he)}}Ye.chain=k;let L=Symbol("HaltChainable");class A{steps=[];map(F){return this.steps.push(F),this}forEach(F){return this.steps.push(V=>(F(V),V)),this}filter(F){return this.steps.push(V=>F(V)?V:L),this}reduce(F,V){let W=V;return this.steps.push(K=>(W=F(W,K),W)),this}latch(F=(V,W)=>V===W){let V=!0,W;return this.steps.push(K=>{let he=V||!F(K,W);return V=!1,W=K,he?K:L}),this}evaluate(F){for(let V of this.steps)if(F=V(F),F===L)break;return F}}function M(G,F,V=W=>W){let W=(...Be)=>le.fire(V(...Be)),K=()=>G.on(F,W),he=()=>G.removeListener(F,W),le=new N({onWillAddFirstListener:K,onDidRemoveLastListener:he});return le.event}Ye.fromNodeEventEmitter=M;function P(G,F,V=W=>W){let W=(...Be)=>le.fire(V(...Be)),K=()=>G.addEventListener(F,W),he=()=>G.removeEventListener(F,W),le=new N({onWillAddFirstListener:K,onDidRemoveLastListener:he});return le.event}Ye.fromDOMEventEmitter=P;function ie(G){return new Promise(F=>n(G)(F))}Ye.toPromise=ie;function ee(G){let F=new N;return G.then(V=>{F.fire(V)},()=>{F.fire(void 0)}).finally(()=>{F.dispose()}),F.event}Ye.fromPromise=ee;function te(G,F){return G(V=>F.fire(V))}Ye.forward=te;function ne(G,F,V){return F(V),G(W=>F(W))}Ye.runAndSubscribe=ne;class ye{constructor(F,V){this._observable=F;let W={onWillAddFirstListener:()=>{F.addObserver(this),this._observable.reportChanges()},onDidRemoveLastListener:()=>{F.removeObserver(this)}};V||e(W),this.emitter=new N(W),V&&V.add(this.emitter)}emitter;_counter=0;_hasChanged=!1;beginUpdate(F){this._counter++}handlePossibleChange(F){}handleChange(F,V){this._hasChanged=!0}endUpdate(F){this._counter--,this._counter===0&&(this._observable.reportChanges(),this._hasChanged&&(this._hasChanged=!1,this.emitter.fire(this._observable.get())))}}function Ke(G,F){return new ye(G,F).emitter.event}Ye.fromObservable=Ke;function qe(G){return(F,V,W)=>{let K=0,he=!1,le={beginUpdate(){K++},endUpdate(){K--,K===0&&(G.reportChanges(),he&&(he=!1,F.call(V)))},handlePossibleChange(){},handleChange(){he=!0}};G.addObserver(le),G.reportChanges();let Be={dispose(){G.removeObserver(le)}};return W instanceof be?W.add(Be):Array.isArray(W)&&W.push(Be),Be}}Ye.fromObservableLight=qe})(de||={});var yp=class i{static all=new Set;static _idPool=0;name;listenerCount=0;invocationCount=0;elapsedOverall=0;durations=[];_stopWatch;constructor(e){this.name=`${e}_${i._idPool++}`,i.all.add(this)}start(e){this._stopWatch=new ns,this.listenerCount=e}stop(){if(this._stopWatch){let e=this._stopWatch.elapsed();this.durations.push(e),this.elapsedOverall+=e,this.invocationCount+=1,this._stopWatch=void 0}}},Vv=-1;var Ip=class i{constructor(e,t,n=(i._idPool++).toString(16).padStart(3,"0")){this._errorHandler=e;this.threshold=t;this.name=n}static _idPool=1;_stacks;_warnCountdown=0;dispose(){this._stacks?.clear()}check(e,t){let n=this.threshold;if(n<=0||t<n)return;this._stacks||(this._stacks=new Map);let r=this._stacks.get(e.value)||0;if(this._stacks.set(e.value,r+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=n*.5;let[o,s]=this.getMostFrequentStack(),a=`[${this.name}] potential listener LEAK detected, having ${t} listeners already. MOST frequent listener (${s}):`;console.warn(a),console.warn(o);let l=new xp(a,o);this._errorHandler(l)}return()=>{let o=this._stacks.get(e.value)||0;this._stacks.set(e.value,o-1)}}getMostFrequentStack(){if(!this._stacks)return;let e,t=0;for(let[n,r]of this._stacks)(!e||t<r)&&(e=[n,r],t=r);return e}},wa=class i{constructor(e){this.value=e}static create(){let e=new Error;return new i(e.stack??"")}print(){console.warn(this.value.split(`
`).slice(2).join(`
`))}},xp=class extends Error{constructor(e,t){super(e),this.name="ListenerLeakError",this.stack=t}},Tp=class extends Error{constructor(e,t){super(e),this.name="ListenerRefusalError",this.stack=t}},aT=0,is=class{constructor(e){this.value=e}stack;id=aT++},lT=2,dT=(i,e)=>{if(i instanceof is)e(i);else for(let t=0;t<i.length;t++){let n=i[t];n&&e(n)}},Ad;if(oT){let i=[];setInterval(()=>{i.length!==0&&(console.warn("[LEAKING LISTENERS] GC'ed these listeners that were NOT yet disposed:"),console.warn(i.join(`
`)),i.length=0)},3e3),Ad=new FinalizationRegistry(e=>{typeof e=="string"&&i.push(e)})}var N=class{_options;_leakageMon;_perfMon;_disposed;_event;_listeners;_deliveryQueue;_size=0;constructor(e){this._options=e,this._leakageMon=Vv>0||this._options?.leakWarningThreshold?new Ip(e?.onListenerError??ot,this._options?.leakWarningThreshold??Vv):void 0,this._perfMon=this._options?._profName?new yp(this._options._profName):void 0,this._deliveryQueue=this._options?.deliveryQueue}dispose(){if(!this._disposed){if(this._disposed=!0,this._deliveryQueue?.current===this&&this._deliveryQueue.reset(),this._listeners){if(Hv){let e=this._listeners;queueMicrotask(()=>{dT(e,t=>t.stack?.print())})}this._listeners=void 0,this._size=0}this._options?.onDidRemoveLastListener?.(),this._leakageMon?.dispose()}}get event(){return this._event??=(e,t,n)=>{if(this._leakageMon&&this._size>this._leakageMon.threshold**2){let l=`[${this._leakageMon.name}] REFUSES to accept new listeners because it exceeded its threshold by far (${this._size} vs ${this._leakageMon.threshold})`;console.warn(l);let c=this._leakageMon.getMostFrequentStack()??["UNKNOWN stack",-1],u=new Tp(`${l}. HINT: Stack shows most frequent listener (${c[1]}-times)`,c[0]);return(this._options?.onListenerError||ot)(u),U.None}if(this._disposed)return U.None;t&&(e=e.bind(t));let r=new is(e),o,s;this._leakageMon&&this._size>=Math.ceil(this._leakageMon.threshold*.2)&&(r.stack=wa.create(),o=this._leakageMon.check(r.stack,this._size+1)),Hv&&(r.stack=s??wa.create()),this._listeners?this._listeners instanceof is?(this._deliveryQueue??=new Cp,this._listeners=[this._listeners,r]):this._listeners.push(r):(this._options?.onWillAddFirstListener?.(this),this._listeners=r,this._options?.onDidAddFirstListener?.(this)),this._size++;let a=pe(()=>{Ad?.unregister(a),o?.(),this._removeListener(r)});if(n instanceof be?n.add(a):Array.isArray(n)&&n.push(a),Ad){let l=new Error().stack.split(`
`).slice(2,3).join(`
`).trim(),c=/(file:|vscode-file:\/\/vscode-app)?(\/[^:]*:\d+:\d+)/.exec(l);Ad.register(a,c?.[2]??l,a)}return a},this._event}_removeListener(e){if(this._options?.onWillRemoveListener?.(this),!this._listeners)return;if(this._size===1){this._listeners=void 0,this._options?.onDidRemoveLastListener?.(this),this._size=0;return}let t=this._listeners,n=t.indexOf(e);if(n===-1)throw console.log("disposed?",this._disposed),console.log("size?",this._size),console.log("arr?",JSON.stringify(this._listeners)),new Error("Attempted to dispose unknown listener");this._size--,t[n]=void 0;let r=this._deliveryQueue.current===this;if(this._size*lT<=t.length){let o=0;for(let s=0;s<t.length;s++)t[s]?t[o++]=t[s]:r&&(this._deliveryQueue.end--,o<this._deliveryQueue.i&&this._deliveryQueue.i--);t.length=o}}_deliver(e,t){if(!e)return;let n=this._options?.onListenerError||ot;if(!n){e.value(t);return}try{e.value(t)}catch(r){n(r)}}_deliverQueue(e){let t=e.current._listeners;for(;e.i<e.end;)this._deliver(t[e.i++],e.value);e.reset()}fire(e){if(this._deliveryQueue?.current&&(this._deliverQueue(this._deliveryQueue),this._perfMon?.stop()),this._perfMon?.start(this._size),this._listeners)if(this._listeners instanceof is)this._deliver(this._listeners,e);else{let t=this._deliveryQueue;t.enqueue(this,e,this._listeners.length),this._deliverQueue(t)}this._perfMon?.stop()}hasListeners(){return this._size>0}};var Cp=class{i=-1;end=0;current;value;enqueue(e,t,n){this.i=0,this.end=n,this.current=e,this.value=t}reset(){this.i=this.end,this.current=void 0,this.value=void 0}};var Od=class extends N{_queuedEvents=[];_mergeFn;constructor(e){super(e),this._mergeFn=e?.merge}fire(e){this.hasListeners()&&(this._queuedEvents.push(e),this._queuedEvents.length===1&&queueMicrotask(()=>{this._mergeFn?super.fire(this._mergeFn(this._queuedEvents)):this._queuedEvents.forEach(t=>super.fire(t)),this._queuedEvents=[]}))}};var Md=class{data=[];wrapEvent(e,t,n){return(r,o,s)=>e(a=>{let l=this.data[this.data.length-1];if(!t){l?l.buffers.push(()=>r.call(o,a)):r.call(o,a);return}let c=l;if(!c){r.call(o,t(n,a));return}c.items??=[],c.items.push(a),c.buffers.length===0&&l.buffers.push(()=>{c.reducedResult??=n?c.items.reduce(t,n):c.items.reduce(t),r.call(o,c.reducedResult)})},void 0,s)}bufferEvents(e){let t={buffers:new Array};this.data.push(t);let n=e();return this.data.pop(),t.buffers.forEach(r=>r()),n}};var ka=class i{static INSTANCE=new i;mapWindowIdToZoomLevel=new Map;_onDidChangeZoomLevel=new N;onDidChangeZoomLevel=this._onDidChangeZoomLevel.event;getZoomLevel(e){return this.mapWindowIdToZoomLevel.get(this.getWindowId(e))??0}setZoomLevel(e,t){if(this.getZoomLevel(t)===e)return;let n=this.getWindowId(t);this.mapWindowIdToZoomLevel.set(n,e),this._onDidChangeZoomLevel.fire(n)}mapWindowIdToZoomFactor=new Map;getZoomFactor(e){return this.mapWindowIdToZoomFactor.get(this.getWindowId(e))??1}setZoomFactor(e,t){this.mapWindowIdToZoomFactor.set(this.getWindowId(t),e)}_onDidChangeFullscreen=new N;onDidChangeFullscreen=this._onDidChangeFullscreen.event;mapWindowIdToFullScreen=new Map;setFullscreen(e,t){if(this.isFullscreen(t)===e)return;let n=this.getWindowId(t);this.mapWindowIdToFullScreen.set(n,e),this._onDidChangeFullscreen.fire(n)}isFullscreen(e){return!!this.mapWindowIdToFullScreen.get(this.getWindowId(e))}getWindowId(e){return e.vscodeWindowId}};function uT(i,e,t){typeof e=="string"&&(e=i.matchMedia(e)),e.addEventListener("change",t)}var yR=ka.INSTANCE.onDidChangeZoomLevel;function Kv(i){return ka.INSTANCE.getZoomFactor(i)}var IR=ka.INSTANCE.onDidChangeFullscreen,rs=navigator.userAgent,Vi=rs.indexOf("Firefox")>=0,Ki=rs.indexOf("AppleWebKit")>=0,os=rs.indexOf("Chrome")>=0,yr=!os&&rs.indexOf("Safari")>=0,qv=!os&&!yr&&Ki,xR=rs.indexOf("Electron/")>=0,TR=rs.indexOf("Android")>=0,Nd=!1;if(typeof rt.matchMedia=="function"){let i=rt.matchMedia("(display-mode: standalone) or (display-mode: window-controls-overlay)"),e=rt.matchMedia("(display-mode: fullscreen)");Nd=i.matches,uT(rt,i,({matches:t})=>{Nd&&e.matches||(Nd=t)})}function $v(){return Nd}function Sp(i,e){if(typeof i=="number"){if(i===0)return null;let t=(i&65535)>>>0,n=(i&4294901760)>>>16;return n!==0?new ss([Pd(t,e),Pd(n,e)]):new ss([Pd(t,e)])}else{let t=[];for(let n=0;n<i.length;n++)t.push(Pd(i[n],e));return new ss(t)}}function Pd(i,e){let t=!!(i&2048),n=!!(i&256),r=e===2?n:t,o=!!(i&1024),s=!!(i&512),a=e===2?t:n,l=i&255;return new La(r,o,s,a,l)}var La=class i{constructor(e,t,n,r,o){this.ctrlKey=e;this.shiftKey=t;this.altKey=n;this.metaKey=r;this.keyCode=o}equals(e){return e instanceof i&&this.ctrlKey===e.ctrlKey&&this.shiftKey===e.shiftKey&&this.altKey===e.altKey&&this.metaKey===e.metaKey&&this.keyCode===e.keyCode}getHashCode(){let e=this.ctrlKey?"1":"0",t=this.shiftKey?"1":"0",n=this.altKey?"1":"0",r=this.metaKey?"1":"0";return`K${e}${t}${n}${r}${this.keyCode}`}isModifierKey(){return this.keyCode===0||this.keyCode===5||this.keyCode===57||this.keyCode===6||this.keyCode===4}toKeybinding(){return new ss([this])}isDuplicateModifierCase(){return this.ctrlKey&&this.keyCode===5||this.shiftKey&&this.keyCode===4||this.altKey&&this.keyCode===6||this.metaKey&&this.keyCode===57}};var ss=class{chords;constructor(e){if(e.length===0)throw Yr("chords");this.chords=e}getHashCode(){let e="";for(let t=0,n=this.chords.length;t<n;t++)t!==0&&(e+=";"),e+=this.chords[t].getHashCode();return e}equals(e){if(e===null||this.chords.length!==e.chords.length)return!1;for(let t=0;t<this.chords.length;t++)if(!this.chords[t].equals(e.chords[t]))return!1;return!0}};function hT(i){if(i.charCode){let t=String.fromCharCode(i.charCode).toUpperCase();return pd.fromString(t)}let e=i.keyCode;if(e===3)return 7;if(Vi)switch(e){case 59:return 85;case 60:if(Zt)return 97;break;case 61:return 86;case 107:return 109;case 109:return 111;case 173:return 88;case 224:if(Se)return 57;break}else if(Ki){if(Se&&e===93)return 57;if(!Se&&e===92)return 57}return Vh[e]||0}var pT=Se?256:2048,gT=512,fT=1024,mT=Se?2048:256;var pt=class{_standardKeyboardEventBrand=!0;browserEvent;target;ctrlKey;shiftKey;altKey;metaKey;altGraphKey;keyCode;code;_asKeybinding;_asKeyCodeChord;constructor(e){let t=e;this.browserEvent=t,this.target=t.target,this.ctrlKey=t.ctrlKey,this.shiftKey=t.shiftKey,this.altKey=t.altKey,this.metaKey=t.metaKey,this.altGraphKey=t.getModifierState?.("AltGraph"),this.keyCode=hT(t),this.code=t.code,this.ctrlKey=this.ctrlKey||this.keyCode===5,this.altKey=this.altKey||this.keyCode===6,this.shiftKey=this.shiftKey||this.keyCode===4,this.metaKey=this.metaKey||this.keyCode===57,this._asKeybinding=this._computeKeybinding(),this._asKeyCodeChord=this._computeKeyCodeChord()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeyCodeChord(){return this._asKeyCodeChord}equals(e){return this._asKeybinding===e}_computeKeybinding(){let e=0;this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(e=this.keyCode);let t=0;return this.ctrlKey&&(t|=pT),this.altKey&&(t|=gT),this.shiftKey&&(t|=fT),this.metaKey&&(t|=mT),t|=e,t}_computeKeyCodeChord(){let e=0;return this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(e=this.keyCode),new La(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,e)}};var jv=new WeakMap;function bT(i){if(!i.parent||i.parent===i)return null;try{let e=i.location,t=i.parent.location;if(e.origin!=="null"&&t.origin!=="null"&&e.origin!==t.origin)return null}catch{return null}return i.parent}var Fd=class{static getSameOriginWindowChain(e){let t=jv.get(e);if(!t){t=[],jv.set(e,t);let n=e,r;do r=bT(n),r?t.push({window:new WeakRef(n),iframeElement:n.frameElement||null}):t.push({window:new WeakRef(n),iframeElement:null}),n=r;while(n)}return t.slice(0)}static getPositionOfChildWindowRelativeToAncestorWindow(e,t){if(!t||e===t)return{top:0,left:0};let n=0,r=0,o=this.getSameOriginWindowChain(e);for(let s of o){let a=s.window.deref();if(n+=a?.scrollY??0,r+=a?.scrollX??0,a===t||!s.iframeElement)break;let l=s.iframeElement.getBoundingClientRect();n+=l.top,r+=l.left}return{top:n,left:r}}};var hn=class{browserEvent;leftButton;middleButton;rightButton;buttons;target;detail;posx;posy;ctrlKey;shiftKey;altKey;metaKey;timestamp;constructor(e,t){this.timestamp=Date.now(),this.browserEvent=t,this.leftButton=t.button===0,this.middleButton=t.button===1,this.rightButton=t.button===2,this.buttons=t.buttons,this.target=t.target,this.detail=t.detail||1,t.type==="dblclick"&&(this.detail=2),this.ctrlKey=t.ctrlKey,this.shiftKey=t.shiftKey,this.altKey=t.altKey,this.metaKey=t.metaKey,typeof t.pageX=="number"?(this.posx=t.pageX,this.posy=t.pageY):(this.posx=t.clientX+this.target.ownerDocument.body.scrollLeft+this.target.ownerDocument.documentElement.scrollLeft,this.posy=t.clientY+this.target.ownerDocument.body.scrollTop+this.target.ownerDocument.documentElement.scrollTop);let n=Fd.getPositionOfChildWindowRelativeToAncestorWindow(e,t.view);this.posx-=n.left,this.posy-=n.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}};var qn=class{browserEvent;deltaY;deltaX;target;constructor(e,t=0,n=0){this.browserEvent=e||null,this.target=e?e.target||e.targetNode||e.srcElement:null,this.deltaY=n,this.deltaX=t;let r=!1;if(os){let o=navigator.userAgent.match(/Chrome\/(\d+)/);r=(o?parseInt(o[1]):123)<=122}if(e){let o=e,s=e,a=e.view?.devicePixelRatio||1;if(typeof o.wheelDeltaY<"u")r?this.deltaY=o.wheelDeltaY/(120*a):this.deltaY=o.wheelDeltaY/120;else if(typeof s.VERTICAL_AXIS<"u"&&s.axis===s.VERTICAL_AXIS)this.deltaY=-s.detail/3;else if(e.type==="wheel"){let l=e;l.deltaMode===l.DOM_DELTA_LINE?Vi&&!Se?this.deltaY=-e.deltaY/3:this.deltaY=-e.deltaY:this.deltaY=-e.deltaY/40}if(typeof o.wheelDeltaX<"u")yr&&kt?this.deltaX=-(o.wheelDeltaX/120):r?this.deltaX=o.wheelDeltaX/(120*a):this.deltaX=o.wheelDeltaX/120;else if(typeof s.HORIZONTAL_AXIS<"u"&&s.axis===s.HORIZONTAL_AXIS)this.deltaX=-e.detail/3;else if(e.type==="wheel"){let l=e;l.deltaMode===l.DOM_DELTA_LINE?Vi&&!Se?this.deltaX=-e.deltaX/3:this.deltaX=-e.deltaX:this.deltaX=-e.deltaX/40}this.deltaY===0&&this.deltaX===0&&e.wheelDelta&&(r?this.deltaY=e.wheelDelta/(120*a):this.deltaY=e.wheelDelta/120)}}preventDefault(){this.browserEvent?.preventDefault()}stopPropagation(){this.browserEvent?.stopPropagation()}};var Yv={clipboard:{writeText:Yo||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:Yo||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText)},keyboard:Yo||$v()?0:navigator.keyboard||yr?1:2,touch:"ontouchstart"in rt||navigator.maxTouchPoints>0,pointerEvents:rt.PointerEvent&&("ontouchstart"in rt||navigator.maxTouchPoints>0)};function Xv(i){return i}var Bd=class{lastCache=void 0;lastArgKey=void 0;_fn;_computeKey;constructor(e,t){typeof e=="function"?(this._fn=e,this._computeKey=Xv):(this._fn=t,this._computeKey=e.getCacheKey)}get(e){let t=this._computeKey(e);return this.lastArgKey!==t&&(this.lastArgKey=t,this.lastCache=this._fn(e)),this.lastCache}},Da=class{_map=new Map;_map2=new Map;get cachedValues(){return this._map}_fn;_computeKey;constructor(e,t){typeof e=="function"?(this._fn=e,this._computeKey=Xv):(this._fn=t,this._computeKey=e.getCacheKey)}get(e){let t=this._computeKey(e);if(this._map2.has(t))return this._map2.get(t);let n=this._fn(e);return this._map.set(e,n),this._map2.set(t,n),n}};var en=class{constructor(e){this.executor=e}_didRun=!1;_value;_error;get hasValue(){return this._didRun}get value(){if(!this._didRun)try{this._value=this.executor()}catch(e){this._error=e}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}};function wp(i){return i<0?0:i>255?255:i|0}function ey(i){return!i||typeof i!="string"?!0:i.trim().length===0}function ty(i){return i.replace(/[<>"'&]/g,e=>{switch(e){case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";case"'":return"&apos;";case"&":return"&amp;"}return e})}function Oa(i){return i.replace(/[<>&]/g,function(e){switch(e){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return e}})}function $n(i){return i.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}function Ud(i,e,t={}){if(!i)throw new Error("Cannot create regex from empty string");e||(i=$n(i)),t.wholeWord&&(/\B/.test(i.charAt(0))||(i="\\b"+i),/\B/.test(i.charAt(i.length-1))||(i=i+"\\b"));let n="";return t.global&&(n+="g"),t.matchCase||(n+="i"),t.multiline&&(n+="m"),t.unicode&&(n+="u"),new RegExp(i,n)}function ny(i){return i.split(/\r\n|\r|\n/)}function qi(i){for(let e=0,t=i.length;e<t;e++){let n=i.charCodeAt(e);if(n!==32&&n!==9)return e}return-1}function Lp(i,e=i.length-1){for(let t=e;t>=0;t--){let n=i.charCodeAt(t);if(n!==32&&n!==9)return t}return-1}function Dp(i,e){return i<e?-1:i>e?1:0}function iy(i,e,t=0,n=i.length,r=0,o=e.length){for(;t<n&&r<o;t++,r++){let l=i.charCodeAt(t),c=e.charCodeAt(r);if(l<c)return-1;if(l>c)return 1}let s=n-t,a=o-r;return s<a?-1:s>a?1:0}function Rp(i,e,t=0,n=i.length,r=0,o=e.length){for(;t<n&&r<o;t++,r++){let l=i.charCodeAt(t),c=e.charCodeAt(r);if(l===c)continue;if(l>=128||c>=128)return iy(i.toLowerCase(),e.toLowerCase(),t,n,r,o);Zv(l)&&(l-=32),Zv(c)&&(c-=32);let u=l-c;if(u!==0)return u}let s=n-t,a=o-r;return s<a?-1:s>a?1:0}function Zv(i){return i>=97&&i<=122}function fi(i,e){return i.length===e.length&&Rp(i,e)===0}function lo(i,e){let t=e.length;return e.length>i.length?!1:Rp(i,e,0,t)===0}function pn(i){return 55296<=i&&i<=56319}function Ma(i){return 56320<=i&&i<=57343}function Wd(i,e){return(i-55296<<10)+(e-56320)+65536}function as(i,e,t){let n=i.charCodeAt(t);if(pn(n)&&t+1<e){let r=i.charCodeAt(t+1);if(Ma(r))return Wd(n,r)}return n}function vT(i,e){let t=i.charCodeAt(e-1);if(Ma(t)&&e>1){let n=i.charCodeAt(e-2);if(pn(n))return Wd(n,t)}return t}var Ra=class{_str;_len;_offset;get offset(){return this._offset}constructor(e,t=0){this._str=e,this._len=e.length,this._offset=t}setOffset(e){this._offset=e}prevCodePoint(){let e=vT(this._str,this._offset);return this._offset-=e>=65536?2:1,e}nextCodePoint(){let e=as(this._str,this._len,this._offset);return this._offset+=e>=65536?2:1,e}eol(){return this._offset>=this._len}},Aa=class{_iterator;get offset(){return this._iterator.offset}constructor(e,t=0){this._iterator=new Ra(e,t)}nextGraphemeLength(){let e=zd.getInstance(),t=this._iterator,n=t.offset,r=e.getGraphemeBreakType(t.nextCodePoint());for(;!t.eol();){let o=t.offset,s=e.getGraphemeBreakType(t.nextCodePoint());if(Qv(r,s)){t.setOffset(o);break}r=s}return t.offset-n}prevGraphemeLength(){let e=zd.getInstance(),t=this._iterator,n=t.offset,r=e.getGraphemeBreakType(t.prevCodePoint());for(;t.offset>0;){let o=t.offset,s=e.getGraphemeBreakType(t.prevCodePoint());if(Qv(s,r)){t.setOffset(o);break}r=s}return n-t.offset}eol(){return this._iterator.eol()}};var kp;function yT(){return/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u088E\u08A0-\u08C9\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDC7\uFDF0-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE35\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDD23\uDE80-\uDEA9\uDEAD-\uDF45\uDF51-\uDF81\uDF86-\uDFF6]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD4B-\uDFFF]|\uD83B[\uDC00-\uDEBB])/}function Na(i){return kp||(kp=yT()),kp.test(i)}var IT=/^[\t\n\r\x20-\x7E]*$/;function Ap(i){return IT.test(i)}var Op=/[\u2028\u2029]/;function Hd(i){return Op.test(i)}function ry(i){return i>=11904&&i<=55215||i>=63744&&i<=64255||i>=65281&&i<=65374}function Vd(i){return i>=127462&&i<=127487||i===8986||i===8987||i===9200||i===9203||i>=9728&&i<=10175||i===11088||i===11093||i>=127744&&i<=128591||i>=128640&&i<=128764||i>=128992&&i<=129008||i>=129280&&i<=129535||i>=129648&&i<=129782}var oy=String.fromCharCode(65279);function sy(i){return!!(i&&i.length>0&&i.charCodeAt(0)===65279)}function ay(i){let e=26;return i=i%(2*e),i<e?String.fromCharCode(97+i):String.fromCharCode(65+i-e)}function Qv(i,e){return i===0?e!==5&&e!==7:i===2&&e===3?!1:i===4||i===2||i===3||e===4||e===2||e===3?!0:!(i===8&&(e===8||e===9||e===11||e===12)||(i===11||i===9)&&(e===9||e===10)||(i===12||i===10)&&e===10||e===5||e===13||e===7||i===1||i===13&&e===14||i===6&&e===6)}var zd=class i{static _INSTANCE=null;static getInstance(){return i._INSTANCE||(i._INSTANCE=new i),i._INSTANCE}_data;constructor(){this._data=xT()}getGraphemeBreakType(e){if(e<32)return e===10?3:e===13?2:4;if(e<127)return 0;let t=this._data,n=t.length/3,r=1;for(;r<=n;)if(e<t[3*r])r=2*r;else if(e>t[3*r+1])r=2*r+1;else return t[3*r+2];return 0}};function xT(){return JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}var ly="\xA0",Jv=class i{constructor(e){this.confusableDictionary=e}static ambiguousCharacterData=new en(()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125,119846,109],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}'));static cache=new Bd({getCacheKey:JSON.stringify},e=>{function t(u){let p=new Map;for(let g=0;g<u.length;g+=2)p.set(u[g],u[g+1]);return p}function n(u,p){let g=new Map(u);for(let[f,T]of p)g.set(f,T);return g}function r(u,p){if(!u)return p;let g=new Map;for(let[f,T]of u)p.has(f)&&g.set(f,T);return g}let o=this.ambiguousCharacterData.value,s=e.filter(u=>!u.startsWith("_")&&u in o);s.length===0&&(s=["_default"]);let a;for(let u of s){let p=t(o[u]);a=r(a,p)}let l=t(o._common),c=n(l,a);return new i(c)});static getInstance(e){return i.cache.get(Array.from(e))}static _locales=new en(()=>Object.keys(i.ambiguousCharacterData.value).filter(e=>!e.startsWith("_")));static getLocales(){return i._locales.value}isAmbiguous(e){return this.confusableDictionary.has(e)}containsAmbiguousCharacter(e){for(let t=0;t<e.length;t++){let n=e.codePointAt(t);if(typeof n=="number"&&this.isAmbiguous(n))return!0}return!1}getPrimaryConfusable(e){return this.confusableDictionary.get(e)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}};function Dn(i){return typeof i=="string"}function qt(i){return typeof i=="object"&&i!==null&&!Array.isArray(i)&&!(i instanceof RegExp)&&!(i instanceof Date)}function co(i){return typeof i=="number"&&!isNaN(i)}function ls(i){return typeof i>"u"}function Ir(i){return ls(i)||i===null}var TT=Object.prototype.hasOwnProperty;function dy(i){if(!qt(i))return!1;for(let e in i)if(TT.call(i,e))return!1;return!0}function cy(i){return typeof i=="function"}function uy(i,e){let t=Math.min(i.length,e.length);for(let n=0;n<t;n++)CT(i[n],e[n])}function CT(i,e){if(Dn(e)){if(typeof i!==e)throw new Error(`argument does not match constraint: typeof ${e}`)}else if(cy(e)){try{if(i instanceof e)return}catch{}if(!Ir(i)&&i.constructor===e||e.length===1&&e.call(void 0,i)===!0)return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}function xr(i){return i===47||i===92}function Kd(i){return i.replace(/[\\/]/g,Oe.sep)}function py(i){return i.indexOf("/")===-1&&(i=Kd(i)),/^[a-zA-Z]:(\/|$)/.test(i)&&(i="/"+i),i}function Mp(i,e=Oe.sep){if(!i)return"";let t=i.length,n=i.charCodeAt(0);if(xr(n)){if(xr(i.charCodeAt(1))&&!xr(i.charCodeAt(2))){let o=3,s=o;for(;o<t&&!xr(i.charCodeAt(o));o++);if(s!==o&&!xr(i.charCodeAt(o+1))){for(o+=1;o<t;o++)if(xr(i.charCodeAt(o)))return i.slice(0,o+1).replace(/[\\/]/g,e)}}return e}else if(ST(n)&&i.charCodeAt(1)===58)return xr(i.charCodeAt(2))?i.slice(0,2)+e:i.slice(0,2);let r=i.indexOf("://");if(r!==-1){for(r+=3;r<t;r++)if(xr(i.charCodeAt(r)))return i.slice(0,r+1)}return""}function qd(i,e,t,n=Hi){if(i===e)return!0;if(!i||!e||e.length>i.length)return!1;if(t){if(!lo(i,e))return!1;if(e.length===i.length)return!0;let o=e.length;return e.charAt(e.length-1)===n&&o--,i.charAt(o)===n}return e.charAt(e.length-1)!==n&&(e+=n),i.indexOf(e)===0}function ST(i){return i>=65&&i<=90||i>=97&&i<=122}var Ee;(J=>(J.inMemory="inmemory",J.vscode="vscode",J.internal="private",J.walkThrough="walkThrough",J.walkThroughSnippet="walkThroughSnippet",J.http="http",J.https="https",J.file="file",J.mailto="mailto",J.untitled="untitled",J.data="data",J.command="command",J.vscodeRemote="vscode-remote",J.vscodeRemoteResource="vscode-remote-resource",J.vscodeManagedRemoteResource="vscode-managed-remote-resource",J.vscodeUserData="vscode-userdata",J.vscodeCustomEditor="vscode-custom-editor",J.vscodeNotebookCell="vscode-notebook-cell",J.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",J.vscodeNotebookCellMetadataDiff="vscode-notebook-cell-metadata-diff",J.vscodeNotebookCellOutput="vscode-notebook-cell-output",J.vscodeNotebookCellOutputDiff="vscode-notebook-cell-output-diff",J.vscodeNotebookMetadata="vscode-notebook-metadata",J.vscodeInteractiveInput="vscode-interactive-input",J.vscodeSettings="vscode-settings",J.vscodeWorkspaceTrust="vscode-workspace-trust",J.vscodeTerminal="vscode-terminal",J.vscodeChatCodeBlock="vscode-chat-code-block",J.vscodeChatCodeCompareBlock="vscode-chat-code-compare-block",J.vscodeChatSesssion="vscode-chat-editor",J.webviewPanel="webview-panel",J.vscodeWebview="vscode-webview",J.extension="extension",J.vscodeFileResource="vscode-file",J.tmp="tmp",J.vsls="vsls",J.vscodeSourceControl="vscode-scm",J.commentsInput="comment",J.codeSetting="code-setting",J.outputChannel="output"))(Ee||={});var wT="tkn",Np=class{_hosts=Object.create(null);_ports=Object.create(null);_connectionTokens=Object.create(null);_preferredWebSchema="http";_delegate=null;_serverRootPath="/";setPreferredWebSchema(e){this._preferredWebSchema=e}setDelegate(e){this._delegate=e}setServerRootPath(e,t){this._serverRootPath=kT(e,t)}getServerRootPath(){return this._serverRootPath}get _remoteResourcesPath(){return Oe.join(this._serverRootPath,Ee.vscodeRemoteResource)}set(e,t,n){this._hosts[e]=t,this._ports[e]=n}setConnectionToken(e,t){this._connectionTokens[e]=t}getPreferredWebSchema(){return this._preferredWebSchema}rewrite(e){if(this._delegate)try{return this._delegate(e)}catch(a){return ot(a),e}let t=e.authority,n=this._hosts[t];n&&n.indexOf(":")!==-1&&n.indexOf("[")===-1&&(n=`[${n}]`);let r=this._ports[t],o=this._connectionTokens[t],s=`path=${encodeURIComponent(e.path)}`;return typeof o=="string"&&(s+=`&${wT}=${encodeURIComponent(o)}`),oe.from({scheme:Jr?this._preferredWebSchema:Ee.vscodeRemoteResource,authority:`${n}:${r}`,path:this._remoteResourcesPath,query:s})}},Fp=new Np;function kT(i,e){return Oe.join(e??"/",`${i.quality??"oss"}-${i.commit??"dev"}`)}var _T="vscode-app",Pp=class i{static FALLBACK_AUTHORITY=_T;asBrowserUri(e){let t=this.toUri(e);return this.uriToBrowserUri(t)}uriToBrowserUri(e){return e.scheme===Ee.vscodeRemote?Fp.rewrite(e):e.scheme===Ee.file&&(Yo||dv===`${Ee.vscodeFileResource}://${i.FALLBACK_AUTHORITY}`)?e.with({scheme:Ee.vscodeFileResource,authority:e.authority||i.FALLBACK_AUTHORITY,query:null,fragment:null}):e}asFileUri(e){let t=this.toUri(e);return this.uriToFileUri(t)}uriToFileUri(e){return e.scheme===Ee.vscodeFileResource?e.with({scheme:Ee.file,authority:e.authority!==i.FALLBACK_AUTHORITY?e.authority:null,query:null,fragment:null}):e}toUri(e,t){if(oe.isUri(e))return e;if(globalThis._VSCODE_FILE_ROOT){let n=globalThis._VSCODE_FILE_ROOT;if(/^\w[\w\d+.-]*:\/\//.test(n))return oe.joinPath(oe.parse(n,!0),e);let r=ip(n,e);return oe.file(r)}return oe.parse(t.toUrl(e))}},Bp=new Pp,LT;(o=>{let i=new Map([["1",{"Cross-Origin-Opener-Policy":"same-origin"}],["2",{"Cross-Origin-Embedder-Policy":"require-corp"}],["3",{"Cross-Origin-Opener-Policy":"same-origin","Cross-Origin-Embedder-Policy":"require-corp"}]]);o.CoopAndCoep=Object.freeze(i.get("3"));let t="vscode-coi";function n(s){let a;typeof s=="string"?a=new URL(s).searchParams:s instanceof URL?a=s.searchParams:oe.isUri(s)&&(a=new URL(s.toString(!0)).searchParams);let l=a?.get(t);if(l)return i.get(l)}o.getHeadersFromQuery=n;function r(s,a,l){if(!globalThis.crossOriginIsolated)return;let c=a&&l?"3":l?"2":"1";s instanceof URLSearchParams?s.set(t,c):s[t]=c}o.addSearchParam=r})(LT||={});function $i(i){return xa(i,!0)}var Pa=class{constructor(e){this._ignorePathCasing=e}compare(e,t,n=!1){return e===t?0:Dp(this.getComparisonKey(e,n),this.getComparisonKey(t,n))}isEqual(e,t,n=!1){return e===t?!0:!e||!t?!1:this.getComparisonKey(e,n)===this.getComparisonKey(t,n)}getComparisonKey(e,t=!1){return e.with({path:this._ignorePathCasing(e)?e.path.toLowerCase():void 0,fragment:t?null:void 0}).toString()}ignorePathCasing(e){return this._ignorePathCasing(e)}isEqualOrParent(e,t,n=!1){if(e.scheme===t.scheme){if(e.scheme===Ee.file)return qd($i(e),$i(t),this._ignorePathCasing(e))&&e.query===t.query&&(n||e.fragment===t.fragment);if(gy(e.authority,t.authority))return qd(e.path,t.path,this._ignorePathCasing(e),"/")&&e.query===t.query&&(n||e.fragment===t.fragment)}return!1}joinPath(e,...t){return oe.joinPath(e,...t)}basenameOrAuthority(e){return $d(e)||e.authority}basename(e){return Oe.basename(e.path)}extname(e){return Oe.extname(e.path)}dirname(e){if(e.path.length===0)return e;let t;return e.scheme===Ee.file?t=oe.file(yv($i(e))).path:(t=Oe.dirname(e.path),e.authority&&t.length&&t.charCodeAt(0)!==47&&(console.error(`dirname("${e.toString})) resulted in a relative path`),t="/")),e.with({path:t})}normalizePath(e){if(!e.path.length)return e;let t;return e.scheme===Ee.file?t=oe.file(Ia($i(e))).path:t=Oe.normalize(e.path),e.with({path:t})}relativePath(e,t){if(e.scheme!==t.scheme||!gy(e.authority,t.authority))return;if(e.scheme===Ee.file){let o=vv($i(e),$i(t));return kt?Kd(o):o}let n=e.path||"/",r=t.path||"/";if(this._ignorePathCasing(e)){let o=0;for(let s=Math.min(n.length,r.length);o<s&&!(n.charCodeAt(o)!==r.charCodeAt(o)&&n.charAt(o).toLowerCase()!==r.charAt(o).toLowerCase());o++);n=r.substr(0,o)+n.substr(o)}return Oe.relative(n,r)}resolvePath(e,t){if(e.scheme===Ee.file){let n=oe.file(bv($i(e),t));return e.with({authority:n.authority,path:n.path})}return t=py(t),e.with({path:Oe.resolve(e.path,t)})}isAbsolutePath(e){return!!e.path&&e.path[0]==="/"}isEqualAuthority(e,t){return e===t||e!==void 0&&t!==void 0&&fi(e,t)}hasTrailingPathSeparator(e,t=Hi){if(e.scheme===Ee.file){let n=$i(e);return n.length>Mp(n).length&&n[n.length-1]===t}else{let n=e.path;return n.length>1&&n.charCodeAt(n.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(e.fsPath)}}removeTrailingPathSeparator(e,t=Hi){return fy(e,t)?e.with({path:e.path.substr(0,e.path.length-1)}):e}addTrailingPathSeparator(e,t=Hi){let n=!1;if(e.scheme===Ee.file){let r=$i(e);n=r!==void 0&&r.length===Mp(r).length&&r[r.length-1]===t}else{t="/";let r=e.path;n=r.length===1&&r.charCodeAt(r.length-1)===47}return!n&&!fy(e,t)?e.with({path:e.path+"/"}):e}},Ne=new Pa(()=>!1),DT=new Pa(i=>i.scheme===Ee.file?!Zt:!0),my=new Pa(i=>!0),by=Ne.isEqual.bind(Ne),s2=Ne.isEqualOrParent.bind(Ne),a2=Ne.getComparisonKey.bind(Ne),RT=Ne.basenameOrAuthority.bind(Ne),$d=Ne.basename.bind(Ne),AT=Ne.extname.bind(Ne),vy=Ne.dirname.bind(Ne),yy=Ne.joinPath.bind(Ne),l2=Ne.normalizePath.bind(Ne),Iy=Ne.relativePath.bind(Ne),zp=Ne.resolvePath.bind(Ne),d2=Ne.isAbsolutePath.bind(Ne),gy=Ne.isEqualAuthority.bind(Ne),fy=Ne.hasTrailingPathSeparator.bind(Ne),c2=Ne.removeTrailingPathSeparator.bind(Ne),u2=Ne.addTrailingPathSeparator.bind(Ne);var OT;(o=>{o.META_DATA_LABEL="label",o.META_DATA_DESCRIPTION="description",o.META_DATA_SIZE="size",o.META_DATA_MIME="mime";function r(s){let a=new Map;s.path.substring(s.path.indexOf(";")+1,s.path.lastIndexOf(";")).split(";").forEach(u=>{let[p,g]=u.split(":");p&&g&&a.set(p,g)});let c=s.path.substring(0,s.path.indexOf(";"));return c&&a.set(o.META_DATA_MIME,c),a}o.parseMetaData=r})(OT||={});function Up(i){let e=new gi,t=i(e.token),n=new Promise((r,o)=>{let s=e.token.onCancellationRequested(()=>{s.dispose(),o(new ci)});Promise.resolve(t).then(a=>{s.dispose(),e.dispose(),r(a)},a=>{s.dispose(),e.dispose(),o(a)})});return new class{cancel(){e.cancel(),e.dispose()}then(r,o){return n.then(r,o)}catch(r){return this.then(void 0,r)}finally(r){return n.finally(r)}}}function Ty(i,e,t){return new Promise((n,r)=>{let o=e.onCancellationRequested(()=>{o.dispose(),n(t)});i.then(n,r).finally(()=>o.dispose())})}var MT=(i,e)=>{let t=!0,n=setTimeout(()=>{t=!1,e()},i);return{isTriggered:()=>t,dispose:()=>{clearTimeout(n),t=!1}}},NT=i=>{let e=!0;return queueMicrotask(()=>{e&&(e=!1,i())}),{isTriggered:()=>e,dispose:()=>{e=!1}}},Fa=class{constructor(e){this.defaultDelay=e;this.deferred=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}deferred;completionPromise;doResolve;doReject;task;trigger(e,t=this.defaultDelay){this.task=e,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((r,o)=>{this.doResolve=r,this.doReject=o}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){let r=this.task;return this.task=null,r()}}));let n=()=>{this.deferred=null,this.doResolve?.(null)};return this.deferred=t===Wv?NT(n):MT(t,n),this.completionPromise}isTriggered(){return!!this.deferred?.isTriggered()}cancel(){this.cancelTimeout(),this.completionPromise&&(this.doReject?.(new ci),this.completionPromise=null)}cancelTimeout(){this.deferred?.dispose(),this.deferred=null}dispose(){this.cancel()}};function Yd(i,e){return e?new Promise((t,n)=>{let r=setTimeout(()=>{o.dispose(),t()},i),o=e.onCancellationRequested(()=>{clearTimeout(r),o.dispose(),n(new ci)})}):Up(t=>Yd(i,t))}function za(i,e=0,t){let n=setTimeout(()=>{i(),t&&r.dispose()},e),r=pe(()=>{clearTimeout(n),t?.deleteAndLeak(r)});return t?.add(r),r}var Gi=class{_token;_isDisposed=!1;constructor(e,t){this._token=-1,typeof e=="function"&&typeof t=="number"&&this.setIfNotSet(e,t)}dispose(){this.cancel(),this._isDisposed=!0}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(e,t){if(this._isDisposed)throw new _e("Calling 'cancelAndSet' on a disposed TimeoutTimer");this.cancel(),this._token=setTimeout(()=>{this._token=-1,e()},t)}setIfNotSet(e,t){if(this._isDisposed)throw new _e("Calling 'setIfNotSet' on a disposed TimeoutTimer");this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,e()},t))}},jd=class{disposable=void 0;isDisposed=!1;cancel(){this.disposable?.dispose(),this.disposable=void 0}cancelAndSet(e,t,n=globalThis){if(this.isDisposed)throw new _e("Calling 'cancelAndSet' on a disposed IntervalTimer");this.cancel();let r=n.setInterval(()=>{e()},t);this.disposable=pe(()=>{n.clearInterval(r),this.disposable=void 0})}dispose(){this.cancel(),this.isDisposed=!0}},ji=class{runner;timeoutToken;timeout;timeoutHandler;constructor(e,t){this.timeoutToken=-1,this.runner=e,this.timeout=t,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(e=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,e)}get delay(){return this.timeout}set delay(e){this.timeout=e}isScheduled(){return this.timeoutToken!==-1}flush(){this.isScheduled()&&(this.cancel(),this.doRun())}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){this.runner?.()}};var Wp,Gd;(function(){typeof globalThis.requestIdleCallback!="function"||typeof globalThis.cancelIdleCallback!="function"?Gd=(i,e)=>{yd(()=>{if(t)return;let n=Date.now()+15;e(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,n-Date.now())}}))});let t=!1;return{dispose(){t||(t=!0)}}}:Gd=(i,e,t)=>{let n=i.requestIdleCallback(e,typeof t=="number"?{timeout:t}:void 0),r=!1;return{dispose(){r||(r=!0,i.cancelIdleCallback(n))}}},Wp=i=>Gd(globalThis,i)})();var Ba=class{completeCallback;errorCallback;outcome;get isRejected(){return this.outcome?.outcome===1}get isResolved(){return this.outcome?.outcome===0}get isSettled(){return!!this.outcome}get value(){return this.outcome?.outcome===0?this.outcome?.value:void 0}p;constructor(){this.p=new Promise((e,t)=>{this.completeCallback=e,this.errorCallback=t})}complete(e){return new Promise(t=>{this.completeCallback(e),this.outcome={outcome:0,value:e},t()})}error(e){return new Promise(t=>{this.errorCallback(e),this.outcome={outcome:1,value:e},t()})}cancel(){return this.error(new ci)}},PT;(t=>{async function i(n){let r,o=await Promise.all(n.map(s=>s.then(a=>a,a=>{r||(r=a)})));if(typeof r<"u")throw r;return o}t.settled=i;function e(n){return new Promise(async(r,o)=>{try{await n(r,o)}catch(s){o(s)}})}t.withAsyncBody=e})(PT||={});var xy=class i{static fromArray(e){return new i(t=>{t.emitMany(e)})}static fromPromise(e){return new i(async t=>{t.emitMany(await e)})}static fromPromises(e){return new i(async t=>{await Promise.all(e.map(async n=>t.emitOne(await n)))})}static merge(e){return new i(async t=>{await Promise.all(e.map(async n=>{for await(let r of n)t.emitOne(r)}))})}static EMPTY=i.fromArray([]);_state;_results;_error;_onReturn;_onStateChanged;constructor(e,t){this._state=0,this._results=[],this._error=null,this._onReturn=t,this._onStateChanged=new N,queueMicrotask(async()=>{let n={emitOne:r=>this.emitOne(r),emitMany:r=>this.emitMany(r),reject:r=>this.reject(r)};try{await Promise.resolve(e(n)),this.resolve()}catch(r){this.reject(r)}finally{n.emitOne=void 0,n.emitMany=void 0,n.reject=void 0}})}[Symbol.asyncIterator](){let e=0;return{next:async()=>{do{if(this._state===2)throw this._error;if(e<this._results.length)return{done:!1,value:this._results[e++]};if(this._state===1)return{done:!0,value:void 0};await de.toPromise(this._onStateChanged.event)}while(!0)},return:async()=>(this._onReturn?.(),{done:!0,value:void 0})}}static map(e,t){return new i(async n=>{for await(let r of e)n.emitOne(t(r))})}map(e){return i.map(this,e)}static filter(e,t){return new i(async n=>{for await(let r of e)t(r)&&n.emitOne(r)})}filter(e){return i.filter(this,e)}static coalesce(e){return i.filter(e,t=>!!t)}coalesce(){return i.coalesce(this)}static async toPromise(e){let t=[];for await(let n of e)t.push(n);return t}toPromise(){return i.toPromise(this)}emitOne(e){this._state===0&&(this._results.push(e),this._onStateChanged.fire())}emitMany(e){this._state===0&&(this._results=this._results.concat(e),this._onStateChanged.fire())}resolve(){this._state===0&&(this._state=1,this._onStateChanged.fire())}reject(e){this._state===0&&(this._state=2,this._error=e,this._onStateChanged.fire())}};var{entries:Dy,setPrototypeOf:Cy,isFrozen:FT,getPrototypeOf:BT,getOwnPropertyDescriptor:zT}=Object,{freeze:tn,seal:jn,create:UT}=Object,{apply:Gp,construct:jp}=typeof Reflect<"u"&&Reflect;Gp||(Gp=function(e,t,n){return e.apply(t,n)});tn||(tn=function(e){return e});jn||(jn=function(e){return e});jp||(jp=function(e,t){return new e(...t)});var WT=Rn(Array.prototype.forEach),Sy=Rn(Array.prototype.pop),Ua=Rn(Array.prototype.push),Qd=Rn(String.prototype.toLowerCase),Hp=Rn(String.prototype.toString),HT=Rn(String.prototype.match),Gn=Rn(String.prototype.replace),VT=Rn(String.prototype.indexOf),KT=Rn(String.prototype.trim),wn=Rn(RegExp.prototype.test),Wa=qT(TypeError);function Rn(i){return function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Gp(i,e,n)}}function qT(i){return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return jp(i,t)}}function Le(i,e,t){var n;t=(n=t)!==null&&n!==void 0?n:Qd,Cy&&Cy(i,null);let r=e.length;for(;r--;){let o=e[r];if(typeof o=="string"){let s=t(o);s!==o&&(FT(e)||(e[r]=s),o=s)}i[o]=!0}return i}function cs(i){let e=UT(null);for(let[t,n]of Dy(i))e[t]=n;return e}function Xd(i,e){for(;i!==null;){let n=zT(i,e);if(n){if(n.get)return Rn(n.get);if(typeof n.value=="function")return Rn(n.value)}i=BT(i)}function t(n){return console.warn("fallback value for",n),null}return t}var Ey=tn(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Vp=tn(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Kp=tn(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),$T=tn(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),qp=tn(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),GT=tn(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),wy=tn(["#text"]),ky=tn(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),$p=tn(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),_y=tn(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Zd=tn(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),jT=jn(/\{\{[\w\W]*|[\w\W]*\}\}/gm),YT=jn(/<%[\w\W]*|[\w\W]*%>/gm),XT=jn(/\${[\w\W]*}/gm),ZT=jn(/^data-[\-\w.\u00B7-\uFFFF]/),QT=jn(/^aria-[\-\w]+$/),Ry=jn(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),JT=jn(/^(?:\w+script|data):/i),eC=jn(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Ay=jn(/^html$/i),Ly=Object.freeze({__proto__:null,MUSTACHE_EXPR:jT,ERB_EXPR:YT,TMPLIT_EXPR:XT,DATA_ATTR:ZT,ARIA_ATTR:QT,IS_ALLOWED_URI:Ry,IS_SCRIPT_OR_DATA:JT,ATTR_WHITESPACE:eC,DOCTYPE_NAME:Ay}),tC=()=>typeof window>"u"?null:window,nC=function(e,t){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let n=null,r="data-tt-policy-suffix";t&&t.hasAttribute(r)&&(n=t.getAttribute(r));let o="dompurify"+(n?"#"+n:"");try{return e.createPolicy(o,{createHTML(s){return s},createScriptURL(s){return s}})}catch{return console.warn("TrustedTypes policy "+o+" could not be created."),null}};function Oy(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:tC(),e=Z=>Oy(Z);if(e.version="3.0.5",e.removed=[],!i||!i.document||i.document.nodeType!==9)return e.isSupported=!1,e;let t=i.document,n=t.currentScript,{document:r}=i,{DocumentFragment:o,HTMLTemplateElement:s,Node:a,Element:l,NodeFilter:c,NamedNodeMap:u=i.NamedNodeMap||i.MozNamedAttrMap,HTMLFormElement:p,DOMParser:g,trustedTypes:f}=i,T=l.prototype,m=Xd(T,"cloneNode"),x=Xd(T,"nextSibling"),w=Xd(T,"childNodes"),k=Xd(T,"parentNode");if(typeof s=="function"){let Z=r.createElement("template");Z.content&&Z.content.ownerDocument&&(r=Z.content.ownerDocument)}let L,A="",{implementation:M,createNodeIterator:P,createDocumentFragment:ie,getElementsByTagName:ee}=r,{importNode:te}=t,ne={};e.isSupported=typeof Dy=="function"&&typeof k=="function"&&M&&M.createHTMLDocument!==void 0;let{MUSTACHE_EXPR:ye,ERB_EXPR:Ke,TMPLIT_EXPR:qe,DATA_ATTR:Ye,ARIA_ATTR:G,IS_SCRIPT_OR_DATA:F,ATTR_WHITESPACE:V}=Ly,{IS_ALLOWED_URI:W}=Ly,K=null,he=Le({},[...Ey,...Vp,...Kp,...qp,...wy]),le=null,Be=Le({},[...ky,...$p,..._y,...Zd]),ve=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),J=null,Pt=null,wt=!0,Un=!0,_n=!1,Vo=!0,an=!1,Mi=!1,da=!1,ca=!1,sr=!1,Ko=!1,qo=!1,rd=!0,od=!1,Ph="user-content-",ar=!0,$r=!1,Ni={},Pi=null,sd=Le({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),$o=null,ad=Le({},["audio","video","img","source","image","track"]),Gr=null,ld=Le({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Fi="http://www.w3.org/1998/Math/MathML",ai="http://www.w3.org/2000/svg",ft="http://www.w3.org/1999/xhtml",Ln=ft,lr=!1,Xt=null,jr=Le({},[Fi,ai,ft],Hp),li,Bi=["application/xhtml+xml","text/html"],Ue="text/html",It,dr=null,Fh=r.createElement("form"),dd=function(E){return E instanceof RegExp||E instanceof Function},ua=function(E){if(!(dr&&dr===E)){if((!E||typeof E!="object")&&(E={}),E=cs(E),li=Bi.indexOf(E.PARSER_MEDIA_TYPE)===-1?li=Ue:li=E.PARSER_MEDIA_TYPE,It=li==="application/xhtml+xml"?Hp:Qd,K="ALLOWED_TAGS"in E?Le({},E.ALLOWED_TAGS,It):he,le="ALLOWED_ATTR"in E?Le({},E.ALLOWED_ATTR,It):Be,Xt="ALLOWED_NAMESPACES"in E?Le({},E.ALLOWED_NAMESPACES,Hp):jr,Gr="ADD_URI_SAFE_ATTR"in E?Le(cs(ld),E.ADD_URI_SAFE_ATTR,It):ld,$o="ADD_DATA_URI_TAGS"in E?Le(cs(ad),E.ADD_DATA_URI_TAGS,It):ad,Pi="FORBID_CONTENTS"in E?Le({},E.FORBID_CONTENTS,It):sd,J="FORBID_TAGS"in E?Le({},E.FORBID_TAGS,It):{},Pt="FORBID_ATTR"in E?Le({},E.FORBID_ATTR,It):{},Ni="USE_PROFILES"in E?E.USE_PROFILES:!1,wt=E.ALLOW_ARIA_ATTR!==!1,Un=E.ALLOW_DATA_ATTR!==!1,_n=E.ALLOW_UNKNOWN_PROTOCOLS||!1,Vo=E.ALLOW_SELF_CLOSE_IN_ATTR!==!1,an=E.SAFE_FOR_TEMPLATES||!1,Mi=E.WHOLE_DOCUMENT||!1,sr=E.RETURN_DOM||!1,Ko=E.RETURN_DOM_FRAGMENT||!1,qo=E.RETURN_TRUSTED_TYPE||!1,ca=E.FORCE_BODY||!1,rd=E.SANITIZE_DOM!==!1,od=E.SANITIZE_NAMED_PROPS||!1,ar=E.KEEP_CONTENT!==!1,$r=E.IN_PLACE||!1,W=E.ALLOWED_URI_REGEXP||Ry,Ln=E.NAMESPACE||ft,ve=E.CUSTOM_ELEMENT_HANDLING||{},E.CUSTOM_ELEMENT_HANDLING&&dd(E.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ve.tagNameCheck=E.CUSTOM_ELEMENT_HANDLING.tagNameCheck),E.CUSTOM_ELEMENT_HANDLING&&dd(E.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ve.attributeNameCheck=E.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),E.CUSTOM_ELEMENT_HANDLING&&typeof E.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ve.allowCustomizedBuiltInElements=E.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),an&&(Un=!1),Ko&&(sr=!0),Ni&&(K=Le({},[...wy]),le=[],Ni.html===!0&&(Le(K,Ey),Le(le,ky)),Ni.svg===!0&&(Le(K,Vp),Le(le,$p),Le(le,Zd)),Ni.svgFilters===!0&&(Le(K,Kp),Le(le,$p),Le(le,Zd)),Ni.mathMl===!0&&(Le(K,qp),Le(le,_y),Le(le,Zd))),E.ADD_TAGS&&(K===he&&(K=cs(K)),Le(K,E.ADD_TAGS,It)),E.ADD_ATTR&&(le===Be&&(le=cs(le)),Le(le,E.ADD_ATTR,It)),E.ADD_URI_SAFE_ATTR&&Le(Gr,E.ADD_URI_SAFE_ATTR,It),E.FORBID_CONTENTS&&(Pi===sd&&(Pi=cs(Pi)),Le(Pi,E.FORBID_CONTENTS,It)),ar&&(K["#text"]=!0),Mi&&Le(K,["html","head","body"]),K.table&&(Le(K,["tbody"]),delete J.tbody),E.TRUSTED_TYPES_POLICY){if(typeof E.TRUSTED_TYPES_POLICY.createHTML!="function")throw Wa('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof E.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Wa('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');L=E.TRUSTED_TYPES_POLICY,A=L.createHTML("")}else L===void 0&&(L=nC(f,n)),L!==null&&typeof A=="string"&&(A=L.createHTML(""));tn&&tn(E),dr=E}},cd=Le({},["mi","mo","mn","ms","mtext"]),ud=Le({},["foreignobject","desc","title","annotation-xml"]),Bh=Le({},["title","style","font","a","script"]),fe=Le({},Vp);Le(fe,Kp),Le(fe,$T);let b=Le({},qp);Le(b,GT);let y=function(E){let B=k(E);(!B||!B.tagName)&&(B={namespaceURI:Ln,tagName:"template"});let Y=Qd(E.tagName),$e=Qd(B.tagName);return Xt[E.namespaceURI]?E.namespaceURI===ai?B.namespaceURI===ft?Y==="svg":B.namespaceURI===Fi?Y==="svg"&&($e==="annotation-xml"||cd[$e]):!!fe[Y]:E.namespaceURI===Fi?B.namespaceURI===ft?Y==="math":B.namespaceURI===ai?Y==="math"&&ud[$e]:!!b[Y]:E.namespaceURI===ft?B.namespaceURI===ai&&!ud[$e]||B.namespaceURI===Fi&&!cd[$e]?!1:!b[Y]&&(Bh[Y]||!fe[Y]):!!(li==="application/xhtml+xml"&&Xt[E.namespaceURI]):!1},I=function(E){Ua(e.removed,{element:E});try{E.parentNode.removeChild(E)}catch{E.remove()}},C=function(E,B){try{Ua(e.removed,{attribute:B.getAttributeNode(E),from:B})}catch{Ua(e.removed,{attribute:null,from:B})}if(B.removeAttribute(E),E==="is"&&!le[E])if(sr||Ko)try{I(B)}catch{}else try{B.setAttribute(E,"")}catch{}},S=function(E){let B,Y;if(ca)E="<remove></remove>"+E;else{let Vt=HT(E,/^[\r\n\t ]+/);Y=Vt&&Vt[0]}li==="application/xhtml+xml"&&Ln===ft&&(E='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+E+"</body></html>");let $e=L?L.createHTML(E):E;if(Ln===ft)try{B=new g().parseFromString($e,li)}catch{}if(!B||!B.documentElement){B=M.createDocument(Ln,"template",null);try{B.documentElement.innerHTML=lr?A:$e}catch{}}let mt=B.body||B.documentElement;return E&&Y&&mt.insertBefore(r.createTextNode(Y),mt.childNodes[0]||null),Ln===ft?ee.call(B,Mi?"html":"body")[0]:Mi?B.documentElement:mt},D=function(E){return P.call(E.ownerDocument||E,E,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT,null,!1)},O=function(E){return E instanceof p&&(typeof E.nodeName!="string"||typeof E.textContent!="string"||typeof E.removeChild!="function"||!(E.attributes instanceof u)||typeof E.removeAttribute!="function"||typeof E.setAttribute!="function"||typeof E.namespaceURI!="string"||typeof E.insertBefore!="function"||typeof E.hasChildNodes!="function")},H=function(E){return typeof a=="object"?E instanceof a:E&&typeof E=="object"&&typeof E.nodeType=="number"&&typeof E.nodeName=="string"},j=function(E,B,Y){ne[E]&&WT(ne[E],$e=>{$e.call(e,B,Y,dr)})},me=function(E){let B;if(j("beforeSanitizeElements",E,null),O(E))return I(E),!0;let Y=It(E.nodeName);if(j("uponSanitizeElement",E,{tagName:Y,allowedTags:K}),E.hasChildNodes()&&!H(E.firstElementChild)&&(!H(E.content)||!H(E.content.firstElementChild))&&wn(/<[/\w]/g,E.innerHTML)&&wn(/<[/\w]/g,E.textContent))return I(E),!0;if(!K[Y]||J[Y]){if(!J[Y]&&Xe(Y)&&(ve.tagNameCheck instanceof RegExp&&wn(ve.tagNameCheck,Y)||ve.tagNameCheck instanceof Function&&ve.tagNameCheck(Y)))return!1;if(ar&&!Pi[Y]){let $e=k(E)||E.parentNode,mt=w(E)||E.childNodes;if(mt&&$e){let Vt=mt.length;for(let at=Vt-1;at>=0;--at)$e.insertBefore(m(mt[at],!0),x(E))}}return I(E),!0}return E instanceof l&&!y(E)||(Y==="noscript"||Y==="noembed"||Y==="noframes")&&wn(/<\/no(script|embed|frames)/i,E.innerHTML)?(I(E),!0):(an&&E.nodeType===3&&(B=E.textContent,B=Gn(B,ye," "),B=Gn(B,Ke," "),B=Gn(B,qe," "),E.textContent!==B&&(Ua(e.removed,{element:E.cloneNode()}),E.textContent=B)),j("afterSanitizeElements",E,null),!1)},Re=function(E,B,Y){if(rd&&(B==="id"||B==="name")&&(Y in r||Y in Fh))return!1;if(!(Un&&!Pt[B]&&wn(Ye,B))){if(!(wt&&wn(G,B))){if(!le[B]||Pt[B]){if(!(Xe(E)&&(ve.tagNameCheck instanceof RegExp&&wn(ve.tagNameCheck,E)||ve.tagNameCheck instanceof Function&&ve.tagNameCheck(E))&&(ve.attributeNameCheck instanceof RegExp&&wn(ve.attributeNameCheck,B)||ve.attributeNameCheck instanceof Function&&ve.attributeNameCheck(B))||B==="is"&&ve.allowCustomizedBuiltInElements&&(ve.tagNameCheck instanceof RegExp&&wn(ve.tagNameCheck,Y)||ve.tagNameCheck instanceof Function&&ve.tagNameCheck(Y))))return!1}else if(!Gr[B]){if(!wn(W,Gn(Y,V,""))){if(!((B==="src"||B==="xlink:href"||B==="href")&&E!=="script"&&VT(Y,"data:")===0&&$o[E])){if(!(_n&&!wn(F,Gn(Y,V,"")))){if(Y)return!1}}}}}}return!0},Xe=function(E){return E.indexOf("-")>0},ut=function(E){let B,Y,$e,mt;j("beforeSanitizeAttributes",E,null);let{attributes:Vt}=E;if(!Vt)return;let at={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:le};for(mt=Vt.length;mt--;){B=Vt[mt];let{name:di,namespaceURI:zh}=B;if(Y=di==="value"?B.value:KT(B.value),$e=It(di),at.attrName=$e,at.attrValue=Y,at.keepAttr=!0,at.forceKeepAttr=void 0,j("uponSanitizeAttribute",E,at),Y=at.attrValue,at.forceKeepAttr||(C(di,E),!at.keepAttr))continue;if(!Vo&&wn(/\/>/i,Y)){C(di,E);continue}an&&(Y=Gn(Y,ye," "),Y=Gn(Y,Ke," "),Y=Gn(Y,qe," "));let jb=It(E.nodeName);if(Re(jb,$e,Y)){if(od&&($e==="id"||$e==="name")&&(C(di,E),Y=Ph+Y),L&&typeof f=="object"&&typeof f.getAttributeType=="function"&&!zh)switch(f.getAttributeType(jb,$e)){case"TrustedHTML":{Y=L.createHTML(Y);break}case"TrustedScriptURL":{Y=L.createScriptURL(Y);break}}try{zh?E.setAttributeNS(zh,di,Y):E.setAttribute(di,Y),Sy(e.removed)}catch{}}}j("afterSanitizeAttributes",E,null)},Je=function Z(E){let B,Y=D(E);for(j("beforeSanitizeShadowDOM",E,null);B=Y.nextNode();)j("uponSanitizeShadowNode",B,null),!me(B)&&(B.content instanceof o&&Z(B.content),ut(B));j("afterSanitizeShadowDOM",E,null)};return e.sanitize=function(Z){let E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},B,Y,$e,mt;if(lr=!Z,lr&&(Z="<!-->"),typeof Z!="string"&&!H(Z))if(typeof Z.toString=="function"){if(Z=Z.toString(),typeof Z!="string")throw Wa("dirty is not a string, aborting")}else throw Wa("toString is not a function");if(!e.isSupported)return Z;if(da||ua(E),e.removed=[],typeof Z=="string"&&($r=!1),$r){if(Z.nodeName){let di=It(Z.nodeName);if(!K[di]||J[di])throw Wa("root node is forbidden and cannot be sanitized in-place")}}else if(Z instanceof a)B=S("<!---->"),Y=B.ownerDocument.importNode(Z,!0),Y.nodeType===1&&Y.nodeName==="BODY"||Y.nodeName==="HTML"?B=Y:B.appendChild(Y);else{if(!sr&&!an&&!Mi&&Z.indexOf("<")===-1)return L&&qo?L.createHTML(Z):Z;if(B=S(Z),!B)return sr?null:qo?A:""}B&&ca&&I(B.firstChild);let Vt=D($r?Z:B);for(;$e=Vt.nextNode();)me($e)||($e.content instanceof o&&Je($e.content),ut($e));if($r)return Z;if(sr){if(Ko)for(mt=ie.call(B.ownerDocument);B.firstChild;)mt.appendChild(B.firstChild);else mt=B;return(le.shadowroot||le.shadowrootmode)&&(mt=te.call(t,mt,!0)),mt}let at=Mi?B.outerHTML:B.innerHTML;return Mi&&K["!doctype"]&&B.ownerDocument&&B.ownerDocument.doctype&&B.ownerDocument.doctype.name&&wn(Ay,B.ownerDocument.doctype.name)&&(at="<!DOCTYPE "+B.ownerDocument.doctype.name+`>
`+at),an&&(at=Gn(at,ye," "),at=Gn(at,Ke," "),at=Gn(at,qe," ")),L&&qo?L.createHTML(at):at},e.setConfig=function(Z){ua(Z),da=!0},e.clearConfig=function(){dr=null,da=!1},e.isValidAttribute=function(Z,E,B){dr||ua({});let Y=It(Z),$e=It(E);return Re(Y,$e,B)},e.addHook=function(Z,E){typeof E=="function"&&(ne[Z]=ne[Z]||[],Ua(ne[Z],E))},e.removeHook=function(Z){if(ne[Z])return Sy(ne[Z])},e.removeHooks=function(Z){ne[Z]&&(ne[Z]=[])},e.removeAllHooks=function(){ne={}},e}var mi=Oy();var L2=mi.version,D2=mi.isSupported,Ha=mi.sanitize,R2=mi.setConfig,A2=mi.clearConfig,O2=mi.isValidAttribute,Jd=mi.addHook,ec=mi.removeHook,M2=mi.removeHooks,N2=mi.removeAllHooks;function Xp(i){return Zp(i,0)}function Zp(i,e){switch(typeof i){case"object":return i===null?Yi(349,e):Array.isArray(i)?rC(i,e):oC(i,e);case"string":return Qp(i,e);case"boolean":return iC(i,e);case"number":return Yi(i,e);case"undefined":return Yi(937,e);default:return Yi(617,e)}}function Yi(i,e){return(e<<5)-e+i|0}function iC(i,e){return Yi(i?433:863,e)}function Qp(i,e){e=Yi(149417,e);for(let t=0,n=i.length;t<n;t++)e=Yi(i.charCodeAt(t),e);return e}function rC(i,e){return e=Yi(104579,e),i.reduce((t,n)=>Zp(n,t),e)}function oC(i,e){return e=Yi(181387,e),Object.keys(i).sort().reduce((t,n)=>(t=Qp(n,t),Zp(i[n],t)),e)}function Yp(i,e,t=32){let n=t-e,r=~((1<<n)-1);return(i<<e|(r&i)>>>n)>>>0}function Ny(i,e=0,t=i.byteLength,n=0){for(let r=0;r<t;r++)i[e+r]=n}function sC(i,e,t="0"){for(;i.length<e;)i=t+i;return i}function Va(i,e=32){return i instanceof ArrayBuffer?Array.from(new Uint8Array(i)).map(t=>t.toString(16).padStart(2,"0")).join(""):sC((i>>>0).toString(16),e/4)}var Py=class i{static _bigBlock32=new DataView(new ArrayBuffer(320));_h0=1732584193;_h1=4023233417;_h2=2562383102;_h3=271733878;_h4=3285377520;_buff;_buffDV;_buffLen;_totalLen;_leftoverHighSurrogate;_finished;constructor(){this._buff=new Uint8Array(67),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(e){let t=e.length;if(t===0)return;let n=this._buff,r=this._buffLen,o=this._leftoverHighSurrogate,s,a;for(o!==0?(s=o,a=-1,o=0):(s=e.charCodeAt(0),a=0);;){let l=s;if(pn(s))if(a+1<t){let c=e.charCodeAt(a+1);Ma(c)?(a++,l=Wd(s,c)):l=65533}else{o=s;break}else Ma(s)&&(l=65533);if(r=this._push(n,r,l),a++,a<t)s=e.charCodeAt(a);else break}this._buffLen=r,this._leftoverHighSurrogate=o}_push(e,t,n){return n<128?e[t++]=n:n<2048?(e[t++]=192|(n&1984)>>>6,e[t++]=128|(n&63)>>>0):n<65536?(e[t++]=224|(n&61440)>>>12,e[t++]=128|(n&4032)>>>6,e[t++]=128|(n&63)>>>0):(e[t++]=240|(n&1835008)>>>18,e[t++]=128|(n&258048)>>>12,e[t++]=128|(n&4032)>>>6,e[t++]=128|(n&63)>>>0),t>=64&&(this._step(),t-=64,this._totalLen+=64,e[0]=e[64],e[1]=e[65],e[2]=e[66]),t}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),Va(this._h0)+Va(this._h1)+Va(this._h2)+Va(this._h3)+Va(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,Ny(this._buff,this._buffLen),this._buffLen>56&&(this._step(),Ny(this._buff));let e=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(e/4294967296),!1),this._buffDV.setUint32(60,e%4294967296,!1),this._step()}_step(){let e=i._bigBlock32,t=this._buffDV;for(let p=0;p<64;p+=4)e.setUint32(p,t.getUint32(p,!1),!1);for(let p=64;p<320;p+=4)e.setUint32(p,Yp(e.getUint32(p-12,!1)^e.getUint32(p-32,!1)^e.getUint32(p-56,!1)^e.getUint32(p-64,!1),1),!1);let n=this._h0,r=this._h1,o=this._h2,s=this._h3,a=this._h4,l,c,u;for(let p=0;p<80;p++)p<20?(l=r&o|~r&s,c=1518500249):p<40?(l=r^o^s,c=1859775393):p<60?(l=r&o|r&s|o&s,c=2400959708):(l=r^o^s,c=3395469782),u=Yp(n,5)+l+a+c+e.getUint32(p*4,!1)&4294967295,a=s,s=o,o=Yp(r,30),r=n,n=u;this._h0=this._h0+n&4294967295,this._h1=this._h1+r&4294967295,this._h2=this._h2+o&4294967295,this._h3=this._h3+s&4294967295,this._h4=this._h4+a&4294967295}};function tc(i,e,t){return Math.min(Math.max(i,e),t)}var{registerWindow:iA,getWindow:Ce,getDocument:rA,getWindows:Fy,getWindowsCount:lC,getWindowId:us,getWindowById:ng,hasWindow:oA,onDidRegisterWindow:By,onWillUnregisterWindow:sA,onDidUnregisterWindow:zy}=function(){let i=new Map;Xb(rt,1);let e={window:rt,disposables:new be};i.set(rt.vscodeWindowId,e);let t=new N,n=new N,r=new N;function o(s,a){return(typeof s=="number"?i.get(s):void 0)??(a?e:void 0)}return{onDidRegisterWindow:t.event,onWillUnregisterWindow:r.event,onDidUnregisterWindow:n.event,registerWindow(s){if(i.has(s.vscodeWindowId))return U.None;let a=new be,l={window:s,disposables:a.add(new be)};return i.set(s.vscodeWindowId,l),a.add(pe(()=>{i.delete(s.vscodeWindowId),n.fire(s)})),a.add(se(s,Te.BEFORE_UNLOAD,()=>{r.fire(s)})),t.fire(l),a},getWindows(){return i.values()},getWindowsCount(){return i.size},getWindowId(s){return s.vscodeWindowId},hasWindow(s){return i.has(s)},getWindowById:o,getWindow(s){let a=s;if(a?.ownerDocument?.defaultView)return a.ownerDocument.defaultView.window;let l=s;return l?.view?l.view.window:rt},getDocument(s){return Ce(s).document}}}();function uo(i){for(;i.firstChild;)i.firstChild.remove()}var Jp=class{_handler;_node;_type;_options;constructor(e,t,n,r){this._node=e,this._type=t,this._handler=n,this._options=r||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){this._handler&&(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}};function se(i,e,t,n){return new Jp(i,e,t,n)}function dC(i,e){return function(t){return e(new hn(i,t))}}function cC(i){return function(e){return i(new pt(e))}}var ho=function(e,t,n,r){let o=n;return t==="click"||t==="mousedown"||t==="contextmenu"?o=dC(Ce(e),n):(t==="keydown"||t==="keypress"||t==="keyup")&&(o=cC(n)),se(e,t,o,r)};var uC,On;var nc=class extends jd{defaultTarget;constructor(e){super(),this.defaultTarget=e&&Ce(e)}cancelAndSet(e,t,n){return super.cancelAndSet(e,t,n??this.defaultTarget)}},Ka=class{_runner;priority;_canceled;constructor(e,t=0){this._runner=e,this.priority=t,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(e){ot(e)}}static sort(e,t){return t.priority-e.priority}};(function(){let i=new Map,e=new Map,t=new Map,n=new Map,r=o=>{t.set(o,!1);let s=i.get(o)??[];for(e.set(o,s),i.set(o,[]),n.set(o,!0);s.length>0;)s.sort(Ka.sort),s.shift().execute();n.set(o,!1)};On=(o,s,a=0)=>{let l=us(o),c=new Ka(s,a),u=i.get(l);return u||(u=[],i.set(l,u)),u.push(c),t.get(l)||(t.set(l,!0),o.requestAnimationFrame(()=>r(l))),c},uC=(o,s,a)=>{let l=us(o);if(n.get(l)){let c=new Ka(s,a),u=e.get(l);return u||(u=[],e.set(l,u)),u.push(c),c}else return On(o,s,a)}})();function Uy(i){return Ce(i).getComputedStyle(i,null)}var An=class i{static convertToPixels(e,t){return parseFloat(t)||0}static getDimension(e,t,n){let r=Uy(e),o=r?r.getPropertyValue(t):"0";return i.convertToPixels(e,o)}static getBorderLeftWidth(e){return i.getDimension(e,"border-left-width","borderLeftWidth")}static getBorderRightWidth(e){return i.getDimension(e,"border-right-width","borderRightWidth")}static getBorderTopWidth(e){return i.getDimension(e,"border-top-width","borderTopWidth")}static getBorderBottomWidth(e){return i.getDimension(e,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(e){return i.getDimension(e,"padding-left","paddingLeft")}static getPaddingRight(e){return i.getDimension(e,"padding-right","paddingRight")}static getPaddingTop(e){return i.getDimension(e,"padding-top","paddingTop")}static getPaddingBottom(e){return i.getDimension(e,"padding-bottom","paddingBottom")}static getMarginLeft(e){return i.getDimension(e,"margin-left","marginLeft")}static getMarginTop(e){return i.getDimension(e,"margin-top","marginTop")}static getMarginRight(e){return i.getDimension(e,"margin-right","marginRight")}static getMarginBottom(e){return i.getDimension(e,"margin-bottom","marginBottom")}},eg=class i{constructor(e,t){this.width=e;this.height=t}static None=new i(0,0);with(e=this.width,t=this.height){return e!==this.width||t!==this.height?new i(e,t):this}static is(e){return typeof e=="object"&&typeof e.height=="number"&&typeof e.width=="number"}static lift(e){return e instanceof i?e:new i(e.width,e.height)}static equals(e,t){return e===t?!0:!e||!t?!1:e.width===t.width&&e.height===t.height}};function Wy(i){let e=i.offsetParent,t=i.offsetTop,n=i.offsetLeft;for(;(i=i.parentNode)!==null&&i!==i.ownerDocument.body&&i!==i.ownerDocument.documentElement;){t-=i.scrollTop;let r=Vy(i)?null:Uy(i);r&&(n-=r.direction!=="rtl"?i.scrollLeft:-i.scrollLeft),i===e&&(n+=An.getBorderLeftWidth(i),t+=An.getBorderTopWidth(i),t+=i.offsetTop,n+=i.offsetLeft,e=i.offsetParent)}return{left:n,top:t}}function hs(i){let e=i.getBoundingClientRect(),t=Ce(i);return{left:e.left+t.scrollX,top:e.top+t.scrollY,width:e.width,height:e.height}}function ic(i){let e=An.getBorderLeftWidth(i)+An.getBorderRightWidth(i),t=An.getPaddingLeft(i)+An.getPaddingRight(i);return i.offsetWidth-e-t}function Hy(i){let e=An.getBorderTopWidth(i)+An.getBorderBottomWidth(i),t=An.getPaddingTop(i)+An.getPaddingBottom(i);return i.offsetHeight-e-t}function Tr(i,e){return!!e?.contains(i)}function Vy(i){return i&&!!i.host&&!!i.mode}function hC(i){for(;i.parentNode;){if(i===i.ownerDocument?.body)return null;i=i.parentNode}return Vy(i)?i:null}function po(){let i=pC().activeElement;for(;i?.shadowRoot;)i=i.shadowRoot.activeElement;return i}function qa(i){return po()===i}function pC(){return lC()<=1?rt.document:Array.from(Fy()).map(({window:e})=>e.document).find(e=>e.hasFocus())??rt.document}var gC=new Map;function $a(i=rt.document.head,e,t){let n=document.createElement("style");if(n.type="text/css",n.media="screen",e?.(n),i.appendChild(n),t&&t.add(pe(()=>n.remove())),i===rt.document.head){let r=new Set;gC.set(n,r);for(let{window:o,disposables:s}of Fy()){if(o===rt)continue;let a=s.add(fC(n,r,o));t?.add(a)}}return n}function fC(i,e,t){let n=new be,r=i.cloneNode(!0);t.document.head.appendChild(r),n.add(pe(()=>r.remove()));for(let o of bC(i))r.sheet?.insertRule(o.cssText,r.sheet?.cssRules.length);return n.add(mC.observe(i,n,{childList:!0})(()=>{r.textContent=i.textContent})),e.add(r),n.add(pe(()=>e.delete(r))),n}var mC=new class{mutationObservers=new Map;observe(i,e,t){let n=this.mutationObservers.get(i);n||(n=new Map,this.mutationObservers.set(i,n));let r=Xp(t),o=n.get(r);if(o)o.users+=1;else{let s=new N,a=new MutationObserver(c=>s.fire(c));a.observe(i,t);let l=o={users:1,observer:a,onDidMutate:s.event};e.add(pe(()=>{l.users-=1,l.users===0&&(s.dispose(),a.disconnect(),n?.delete(r),n?.size===0&&this.mutationObservers.delete(i))})),n.set(r,o)}return o.onDidMutate}};function bC(i){return i?.sheet?.rules?i.sheet.rules:i?.sheet?.cssRules?i.sheet.cssRules:[]}function kn(i){return i instanceof HTMLElement||i instanceof Ce(i).HTMLElement}function Ky(i){return i instanceof SVGElement||i instanceof Ce(i).SVGElement}function ig(i){return i instanceof MouseEvent||i instanceof Ce(i).MouseEvent}var Te={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",POINTER_LEAVE:"pointerleave",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",PAGE_SHOW:"pageshow",PAGE_HIDE:"pagehide",PASTE:"paste",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:Ki?"webkitAnimationStart":"animationstart",ANIMATION_END:Ki?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:Ki?"webkitAnimationIteration":"animationiteration"};var gn={stop:(i,e)=>(i.preventDefault(),e&&i.stopPropagation(),i)};var tg=class i extends U{_onDidFocus=this._register(new N);onDidFocus=this._onDidFocus.event;_onDidBlur=this._register(new N);onDidBlur=this._onDidBlur.event;_refreshStateHandler;static hasFocusWithin(e){if(kn(e)){let t=hC(e),n=t?t.activeElement:e.ownerDocument.activeElement;return Tr(n,e)}else{let t=e;return Tr(t.document.activeElement,t.document)}}constructor(e){super();let t=i.hasFocusWithin(e),n=!1,r=()=>{n=!1,t||(t=!0,this._onDidFocus.fire())},o=()=>{t&&(n=!0,(kn(e)?Ce(e):e).setTimeout(()=>{n&&(n=!1,t=!1,this._onDidBlur.fire())},0))};this._refreshStateHandler=()=>{i.hasFocusWithin(e)!==t&&(t?o():r())},this._register(se(e,Te.FOCUS,r,!0)),this._register(se(e,Te.BLUR,o,!0)),kn(e)&&(this._register(se(e,Te.FOCUS_IN,()=>this._refreshStateHandler())),this._register(se(e,Te.FOCUS_OUT,()=>this._refreshStateHandler())))}refreshState(){this._refreshStateHandler()}};function rg(i){return new tg(i)}function ps(i,...e){if(i.append(...e),e.length===1&&typeof e[0]!="string")return e[0]}function go(i,...e){i.innerText="",ps(i,...e)}var vC=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;function qy(i,e,t,...n){let r=vC.exec(e);if(!r)throw new Error("Bad use of emmet");let o=r[1]||"div",s;return i!=="http://www.w3.org/1999/xhtml"?s=document.createElementNS(i,o):s=document.createElement(o),r[3]&&(s.id=r[3]),r[4]&&(s.className=r[4].replace(/\./g," ").trim()),t&&Object.entries(t).forEach(([a,l])=>{typeof l>"u"||(/^on\w+$/.test(a)?s[a]=l:a==="selected"?l&&s.setAttribute(a,"true"):s.setAttribute(a,l))}),s.append(...n),s}function bt(i,e,...t){return qy("http://www.w3.org/1999/xhtml",i,e,...t)}bt.SVG=function(i,e,...t){return qy("http://www.w3.org/2000/svg",i,e,...t)};function $y(i,e){let t=()=>{e(),n=On(i,t)},n=On(i,t);return pe(()=>n.dispose())}Fp.setPreferredWebSchema(/^https:/.test(rt.location.href)?"https":"http");function gs(i,e){if(i!==void 0){let t=i.match(/^\s*var\((.+)\)$/);if(t){let n=t[1].split(",",2);return n.length===2&&(e=gs(n[1].trim(),e)),`var(${n[0]}, ${e})`}return i}return e}function Gy(i,e=!1){let t=document.createElement("a");return Jd("afterSanitizeAttributes",n=>{for(let r of["href","src"])if(n.hasAttribute(r)){let o=n.getAttribute(r);if(r==="href"&&o.startsWith("#"))continue;if(t.href=o,!i.includes(t.protocol.replace(/:$/,""))){if(e&&r==="src"&&t.href.startsWith("data:"))continue;n.removeAttribute(r)}}}),pe(()=>{ec("afterSanitizeAttributes")})}var aA=[Ee.http,Ee.https,Ee.command],jy=Object.freeze(["a","abbr","b","bdo","blockquote","br","caption","cite","code","col","colgroup","dd","del","details","dfn","div","dl","dt","em","figcaption","figure","h1","h2","h3","h4","h5","h6","hr","i","img","input","ins","kbd","label","li","mark","ol","p","pre","q","rp","rt","ruby","samp","small","small","source","span","strike","strong","sub","summary","sup","table","tbody","td","tfoot","th","thead","time","tr","tt","u","ul","var","video","wbr"]),lA=Object.freeze({ALLOWED_TAGS:["a","button","blockquote","code","div","h1","h2","h3","h4","h5","h6","hr","input","label","li","p","pre","select","small","span","strong","textarea","ul","ol"],ALLOWED_ATTR:["href","data-href","data-command","target","title","name","src","alt","class","id","role","tabindex","style","data-code","width","height","align","x-dispatch","required","checked","placeholder","type","start"],RETURN_DOM:!1,RETURN_DOM_FRAGMENT:!1,RETURN_TRUSTED_TYPE:!0});function fo(i){return i.tagName.toLowerCase()==="input"||i.tagName.toLowerCase()==="textarea"||kn(i)&&!!i.editContext}function We(i,e,t){let n=null,r=null;if(typeof t.value=="function"?(n="value",r=t.value,r.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof t.get=="function"&&(n="get",r=t.get),!r)throw new Error("not supported");let o=`$memoize$${e}`;t[n]=function(...s){return this.hasOwnProperty(o)||Object.defineProperty(this,o,{configurable:!1,enumerable:!1,writable:!1,value:r.apply(this,s)}),this[o]}}var ct;(o=>(o.Tap="-monaco-gesturetap",o.Change="-monaco-gesturechange",o.Start="-monaco-gesturestart",o.End="-monaco-gesturesend",o.Contextmenu="-monaco-gesturecontextmenu"))(ct||={});var Ot=class Ot extends U{static SCROLL_FRICTION=-.005;static INSTANCE;static HOLD_DELAY=700;dispatched=!1;targets=new Kt;ignoreTargets=new Kt;handle;activeTouches;_lastSetTapCountTime;static CLEAR_TAP_COUNT_TIME=400;constructor(){super(),this.activeTouches={},this.handle=null,this._lastSetTapCountTime=0,this._register(de.runAndSubscribe(By,({window:e,disposables:t})=>{t.add(se(e.document,"touchstart",n=>this.onTouchStart(n),{passive:!1})),t.add(se(e.document,"touchend",n=>this.onTouchEnd(e,n))),t.add(se(e.document,"touchmove",n=>this.onTouchMove(n),{passive:!1}))},{window:rt,disposables:this._store}))}static addTarget(e){if(!Ot.isTouchDevice())return U.None;Ot.INSTANCE||(Ot.INSTANCE=Zo(new Ot));let t=Ot.INSTANCE.targets.push(e);return pe(t)}static ignoreTarget(e){if(!Ot.isTouchDevice())return U.None;Ot.INSTANCE||(Ot.INSTANCE=Zo(new Ot));let t=Ot.INSTANCE.ignoreTargets.push(e);return pe(t)}static isTouchDevice(){return"ontouchstart"in rt||navigator.maxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(e){let t=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let n=0,r=e.targetTouches.length;n<r;n++){let o=e.targetTouches.item(n);this.activeTouches[o.identifier]={id:o.identifier,initialTarget:o.target,initialTimeStamp:t,initialPageX:o.pageX,initialPageY:o.pageY,rollingTimestamps:[t],rollingPageX:[o.pageX],rollingPageY:[o.pageY]};let s=this.newGestureEvent(ct.Start,o.target);s.pageX=o.pageX,s.pageY=o.pageY,this.dispatchEvent(s)}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)}onTouchEnd(e,t){let n=Date.now(),r=Object.keys(this.activeTouches).length;for(let o=0,s=t.changedTouches.length;o<s;o++){let a=t.changedTouches.item(o);if(!this.activeTouches.hasOwnProperty(String(a.identifier))){console.warn("move of an UNKNOWN touch",a);continue}let l=this.activeTouches[a.identifier],c=Date.now()-l.initialTimeStamp;if(c<Ot.HOLD_DELAY&&Math.abs(l.initialPageX-ln(l.rollingPageX))<30&&Math.abs(l.initialPageY-ln(l.rollingPageY))<30){let u=this.newGestureEvent(ct.Tap,l.initialTarget);u.pageX=ln(l.rollingPageX),u.pageY=ln(l.rollingPageY),this.dispatchEvent(u)}else if(c>=Ot.HOLD_DELAY&&Math.abs(l.initialPageX-ln(l.rollingPageX))<30&&Math.abs(l.initialPageY-ln(l.rollingPageY))<30){let u=this.newGestureEvent(ct.Contextmenu,l.initialTarget);u.pageX=ln(l.rollingPageX),u.pageY=ln(l.rollingPageY),this.dispatchEvent(u)}else if(r===1){let u=ln(l.rollingPageX),p=ln(l.rollingPageY),g=ln(l.rollingTimestamps)-l.rollingTimestamps[0],f=u-l.rollingPageX[0],T=p-l.rollingPageY[0],m=[...this.targets].filter(x=>l.initialTarget instanceof Node&&x.contains(l.initialTarget));this.inertia(e,m,n,Math.abs(f)/g,f>0?1:-1,u,Math.abs(T)/g,T>0?1:-1,p)}this.dispatchEvent(this.newGestureEvent(ct.End,l.initialTarget)),delete this.activeTouches[a.identifier]}this.dispatched&&(t.preventDefault(),t.stopPropagation(),this.dispatched=!1)}newGestureEvent(e,t){let n=document.createEvent("CustomEvent");return n.initEvent(e,!1,!0),n.initialTarget=t,n.tapCount=0,n}dispatchEvent(e){if(e.type===ct.Tap){let t=new Date().getTime(),n=0;t-this._lastSetTapCountTime>Ot.CLEAR_TAP_COUNT_TIME?n=1:n=2,this._lastSetTapCountTime=t,e.tapCount=n}else(e.type===ct.Change||e.type===ct.Contextmenu)&&(this._lastSetTapCountTime=0);if(e.initialTarget instanceof Node){for(let n of this.ignoreTargets)if(n.contains(e.initialTarget))return;let t=[];for(let n of this.targets)if(n.contains(e.initialTarget)){let r=0,o=e.initialTarget;for(;o&&o!==n;)r++,o=o.parentElement;t.push([r,n])}t.sort((n,r)=>n[0]-r[0]);for(let[n,r]of t)r.dispatchEvent(e),this.dispatched=!0}}inertia(e,t,n,r,o,s,a,l,c){this.handle=On(e,()=>{let u=Date.now(),p=u-n,g=0,f=0,T=!0;r+=Ot.SCROLL_FRICTION*p,a+=Ot.SCROLL_FRICTION*p,r>0&&(T=!1,g=o*r*p),a>0&&(T=!1,f=l*a*p);let m=this.newGestureEvent(ct.Change);m.translationX=g,m.translationY=f,t.forEach(x=>x.dispatchEvent(m)),T||this.inertia(e,t,u,r,o,s+g,a,l,c+f)})}onTouchMove(e){let t=Date.now();for(let n=0,r=e.changedTouches.length;n<r;n++){let o=e.changedTouches.item(n);if(!this.activeTouches.hasOwnProperty(String(o.identifier))){console.warn("end of an UNKNOWN touch",o);continue}let s=this.activeTouches[o.identifier],a=this.newGestureEvent(ct.Change,s.initialTarget);a.translationX=o.pageX-ln(s.rollingPageX),a.translationY=o.pageY-ln(s.rollingPageY),a.pageX=o.pageX,a.pageY=o.pageY,this.dispatchEvent(a),s.rollingPageX.length>3&&(s.rollingPageX.shift(),s.rollingPageY.shift(),s.rollingTimestamps.shift()),s.rollingPageX.push(o.pageX),s.rollingPageY.push(o.pageY),s.rollingTimestamps.push(t)}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)}};ce([We],Ot,"isTouchDevice",1);var nn=Ot;var Pe=class{emitter;get event(){return this.emitter.event}constructor(e,t,n){let r=o=>this.emitter.fire(o);this.emitter=new N({onWillAddFirstListener:()=>e.addEventListener(t,r,n),onDidRemoveLastListener:()=>e.removeEventListener(t,r,n)})}dispose(){this.emitter.dispose()}};var zA=new N;var UA=new N;var rc=class{constructor(e){this.el=e}disposables=new be;get onPointerMove(){return this.disposables.add(new Pe(Ce(this.el),"mousemove")).event}get onPointerUp(){return this.disposables.add(new Pe(Ce(this.el),"mouseup")).event}dispose(){this.disposables.dispose()}};ce([We],rc.prototype,"onPointerMove",1),ce([We],rc.prototype,"onPointerUp",1);var oc=class{constructor(e){this.el=e}disposables=new be;get onPointerMove(){return this.disposables.add(new Pe(this.el,ct.Change)).event}get onPointerUp(){return this.disposables.add(new Pe(this.el,ct.End)).event}dispose(){this.disposables.dispose()}};ce([We],oc.prototype,"onPointerMove",1),ce([We],oc.prototype,"onPointerUp",1);var sc=class{constructor(e){this.factory=e}get onPointerMove(){return this.factory.onPointerMove}get onPointerUp(){return this.factory.onPointerUp}dispose(){}};ce([We],sc.prototype,"onPointerMove",1),ce([We],sc.prototype,"onPointerUp",1);function ac(i){if(!i||typeof i!="object"||i instanceof RegExp)return i;let e=Array.isArray(i)?[]:{};return Object.entries(i).forEach(([t,n])=>{e[t]=n&&typeof n=="object"?ac(n):n}),e}var yC=Object.prototype.hasOwnProperty;function Yy(i,e){return og(i,e,new Set)}function og(i,e,t){if(Ir(i))return i;let n=e(i);if(typeof n<"u")return n;if(Array.isArray(i)){let r=[];for(let o of i)r.push(og(o,e,t));return r}if(qt(i)){if(t.has(i))throw new Error("Cannot clone recursive data-structure");t.add(i);let r={};for(let o in i)yC.call(i,o)&&(r[o]=og(i[o],e,t));return t.delete(i),r}return i}function Cr(i,e){if(i===e)return!0;if(i==null||e===null||e===void 0||typeof i!=typeof e||typeof i!="object"||Array.isArray(i)!==Array.isArray(e))return!1;let t,n;if(Array.isArray(i)){if(i.length!==e.length)return!1;for(t=0;t<i.length;t++)if(!Cr(i[t],e[t]))return!1}else{let r=[];for(n in i)r.push(n);r.sort();let o=[];for(n in e)o.push(n);if(o.sort(),!Cr(r,o))return!1;for(t=0;t<r.length;t++)if(!Cr(i[r[t]],e[r[t]]))return!1}return!0}var lc=class extends U{_onDidChange=this._register(new N);onDidChange=this._onDidChange.event;_referenceDomElement;_width;_height;_resizeObserver;constructor(e,t){super(),this._referenceDomElement=e,this._width=-1,this._height=-1,this._resizeObserver=null,this.measureReferenceDomElement(!1,t)}dispose(){this.stopObserving(),super.dispose()}getWidth(){return this._width}getHeight(){return this._height}startObserving(){if(!this._resizeObserver&&this._referenceDomElement){let e=null,t=()=>{e?this.observe({width:e.width,height:e.height}):this.observe()},n=!1,r=!1,o=()=>{if(n&&!r)try{n=!1,r=!0,t()}finally{On(Ce(this._referenceDomElement),()=>{r=!1,o()})}};this._resizeObserver=new ResizeObserver(s=>{s&&s[0]&&s[0].contentRect?e={width:s[0].contentRect.width,height:s[0].contentRect.height}:e=null,n=!0,o()}),this._resizeObserver.observe(this._referenceDomElement)}}stopObserving(){this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=null)}observe(e){this.measureReferenceDomElement(!0,e)}measureReferenceDomElement(e,t){let n=0,r=0;t?(n=t.width,r=t.height):this._referenceDomElement&&(n=this._referenceDomElement.clientWidth,r=this._referenceDomElement.clientHeight),n=Math.max(5,n),r=Math.max(5,r),(this._width!==n||this._height!==r)&&(this._width=n,this._height=r,e&&this._onDidChange.fire())}};var sg=class extends U{_onDidChange=this._register(new N);onDidChange=this._onDidChange.event;_listener;_mediaQueryList;constructor(e){super(),this._listener=()=>this._handleChange(e,!0),this._mediaQueryList=null,this._handleChange(e,!1)}_handleChange(e,t){this._mediaQueryList?.removeEventListener("change",this._listener),this._mediaQueryList=e.matchMedia(`(resolution: ${e.devicePixelRatio}dppx)`),this._mediaQueryList.addEventListener("change",this._listener),t&&this._onDidChange.fire()}},ag=class extends U{_onDidChange=this._register(new N);onDidChange=this._onDidChange.event;_value;get value(){return this._value}constructor(e){super(),this._value=this._getPixelRatio(e);let t=this._register(new sg(e));this._register(t.onDidChange(()=>{this._value=this._getPixelRatio(e),this._onDidChange.fire(this._value)}))}_getPixelRatio(e){let t=document.createElement("canvas").getContext("2d"),n=e.devicePixelRatio||1,r=t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return n/r}},lg=class{mapWindowIdToPixelRatioMonitor=new Map;_getOrCreatePixelRatioMonitor(e){let t=us(e),n=this.mapWindowIdToPixelRatioMonitor.get(t);return n||(n=Zo(new ag(e)),this.mapWindowIdToPixelRatioMonitor.set(t,n),Zo(de.once(zy)(({vscodeWindowId:r})=>{r===t&&(n?.dispose(),this.mapWindowIdToPixelRatioMonitor.delete(t))}))),n}getInstance(e){return this._getOrCreatePixelRatioMonitor(e)}},fs=new lg;var Ga=class{constructor(e){this.domNode=e}_maxWidth="";_width="";_height="";_top="";_left="";_bottom="";_right="";_paddingTop="";_paddingLeft="";_paddingBottom="";_paddingRight="";_fontFamily="";_fontWeight="";_fontSize="";_fontStyle="";_fontFeatureSettings="";_fontVariationSettings="";_textDecoration="";_lineHeight="";_letterSpacing="";_className="";_display="";_position="";_visibility="";_color="";_backgroundColor="";_layerHint=!1;_contain="none";_boxShadow="";setMaxWidth(e){let t=fn(e);this._maxWidth!==t&&(this._maxWidth=t,this.domNode.style.maxWidth=this._maxWidth)}setWidth(e){let t=fn(e);this._width!==t&&(this._width=t,this.domNode.style.width=this._width)}setHeight(e){let t=fn(e);this._height!==t&&(this._height=t,this.domNode.style.height=this._height)}setTop(e){let t=fn(e);this._top!==t&&(this._top=t,this.domNode.style.top=this._top)}setLeft(e){let t=fn(e);this._left!==t&&(this._left=t,this.domNode.style.left=this._left)}setBottom(e){let t=fn(e);this._bottom!==t&&(this._bottom=t,this.domNode.style.bottom=this._bottom)}setRight(e){let t=fn(e);this._right!==t&&(this._right=t,this.domNode.style.right=this._right)}setPaddingTop(e){let t=fn(e);this._paddingTop!==t&&(this._paddingTop=t,this.domNode.style.paddingTop=this._paddingTop)}setPaddingLeft(e){let t=fn(e);this._paddingLeft!==t&&(this._paddingLeft=t,this.domNode.style.paddingLeft=this._paddingLeft)}setPaddingBottom(e){let t=fn(e);this._paddingBottom!==t&&(this._paddingBottom=t,this.domNode.style.paddingBottom=this._paddingBottom)}setPaddingRight(e){let t=fn(e);this._paddingRight!==t&&(this._paddingRight=t,this.domNode.style.paddingRight=this._paddingRight)}setFontFamily(e){this._fontFamily!==e&&(this._fontFamily=e,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(e){let t=fn(e);this._fontSize!==t&&(this._fontSize=t,this.domNode.style.fontSize=this._fontSize)}setFontStyle(e){this._fontStyle!==e&&(this._fontStyle=e,this.domNode.style.fontStyle=this._fontStyle)}setFontFeatureSettings(e){this._fontFeatureSettings!==e&&(this._fontFeatureSettings=e,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setFontVariationSettings(e){this._fontVariationSettings!==e&&(this._fontVariationSettings=e,this.domNode.style.fontVariationSettings=this._fontVariationSettings)}setTextDecoration(e){this._textDecoration!==e&&(this._textDecoration=e,this.domNode.style.textDecoration=this._textDecoration)}setLineHeight(e){let t=fn(e);this._lineHeight!==t&&(this._lineHeight=t,this.domNode.style.lineHeight=this._lineHeight)}setLetterSpacing(e){let t=fn(e);this._letterSpacing!==t&&(this._letterSpacing=t,this.domNode.style.letterSpacing=this._letterSpacing)}setClassName(e){this._className!==e&&(this._className=e,this.domNode.className=this._className)}toggleClassName(e,t){this.domNode.classList.toggle(e,t),this._className=this.domNode.className}setDisplay(e){this._display!==e&&(this._display=e,this.domNode.style.display=this._display)}setPosition(e){this._position!==e&&(this._position=e,this.domNode.style.position=this._position)}setVisibility(e){this._visibility!==e&&(this._visibility=e,this.domNode.style.visibility=this._visibility)}setColor(e){this._color!==e&&(this._color=e,this.domNode.style.color=this._color)}setBackgroundColor(e){this._backgroundColor!==e&&(this._backgroundColor=e,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(e){this._layerHint!==e&&(this._layerHint=e,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(e){this._boxShadow!==e&&(this._boxShadow=e,this.domNode.style.boxShadow=e)}setContain(e){this._contain!==e&&(this._contain=e,this.domNode.style.contain=this._contain)}setAttribute(e,t){this.domNode.setAttribute(e,t)}removeAttribute(e){this.domNode.removeAttribute(e)}appendChild(e){this.domNode.appendChild(e.domNode)}removeChild(e){this.domNode.removeChild(e.domNode)}};function fn(i){return typeof i=="number"?`${i}px`:i}function mo(i){return new Ga(i)}var tO=new Uint32Array(10);var nO=new Uint8Array([114,82,115,101,69,102,97,113,81,116,84,100,119,87,99,122,120,118,103]),iO=new Uint16Array([107,111,105,79,106,112,117,80,104,27496,28520,27752,121,110,27246,28782,27758,98,109,27757,108]),rO=new Uint16Array([114,82,29810,115,30579,26483,101,102,29286,24934,29030,29798,30822,30310,26470,97,113,29809,116,84,100,119,99,122,120,118,103]),oO=new Uint16Array([114,82,29810,115,30579,26483,101,69,102,29286,24934,29030,29798,30822,30310,26470,97,113,81,29809,116,84,100,119,87,99,122,120,118,103,107,111,105,79,106,112,117,80,104,27496,28520,27752,121,110,27246,28782,27758,98,109,27757,108]);function Qy(...i){return function(e,t){for(let n=0,r=i.length;n<r;n++){let o=i[n](e,t);if(o)return o}return null}}var hO=Jy.bind(void 0,!1),Ya=Jy.bind(void 0,!0);function Jy(i,e,t){if(!t||t.length<e.length)return null;let n;return i?n=lo(t,e):n=t.indexOf(e)===0,n?e.length>0?[{start:0,end:e.length}]:[]:null}function IC(i,e){let t=e.toLowerCase().indexOf(i.toLowerCase());return t===-1?null:[{start:t,end:t+i.length}]}function xC(i,e){return cg(i.toLowerCase(),e.toLowerCase(),0,0)}function cg(i,e,t,n){if(t===i.length)return[];if(n===e.length)return null;if(i[t]===e[n]){let r=null;return(r=cg(i,e,t+1,n+1))?tI({start:n,end:n+1},r):null}return cg(i,e,t,n+1)}function gg(i){return 97<=i&&i<=122}function uc(i){return 65<=i&&i<=90}function fg(i){return 48<=i&&i<=57}function TC(i){return i===32||i===9||i===10||i===13}var CC=new Set;"()[]{}<>`'\"-/;:,.?!".split("").forEach(i=>CC.add(i.charCodeAt(0)));function eI(i){return gg(i)||uc(i)||fg(i)}function tI(i,e){return e.length===0?e=[i]:i.end===e[0].start?e[0].start=i.start:e.unshift(i),e}function nI(i,e){for(let t=e;t<i.length;t++){let n=i.charCodeAt(t);if(uc(n)||fg(n)||t>0&&!eI(i.charCodeAt(t-1)))return t}return i.length}function ug(i,e,t,n){if(t===i.length)return[];if(n===e.length)return null;if(i[t]!==e[n].toLowerCase())return null;{let r=null,o=n+1;for(r=ug(i,e,t+1,n+1);!r&&(o=nI(e,o))<e.length;)r=ug(i,e,t+1,o),o++;return r===null?null:tI({start:n,end:n+1},r)}}function SC(i){let e=0,t=0,n=0,r=0,o=0;for(let u=0;u<i.length;u++)o=i.charCodeAt(u),uc(o)&&e++,gg(o)&&t++,eI(o)&&n++,fg(o)&&r++;let s=e/i.length,a=t/i.length,l=n/i.length,c=r/i.length;return{upperPercent:s,lowerPercent:a,alphaPercent:l,numericPercent:c}}function EC(i){let{upperPercent:e,lowerPercent:t}=i;return t===0&&e>.6}function wC(i){let{upperPercent:e,lowerPercent:t,alphaPercent:n,numericPercent:r}=i;return t>.2&&e<.8&&n>.6&&r<.2}function kC(i){let e=0,t=0,n=0,r=0;for(let o=0;o<i.length;o++)n=i.charCodeAt(o),uc(n)&&e++,gg(n)&&t++,TC(n)&&r++;return(e===0||t===0)&&r===0?i.length<=30:e<=5}function iI(i,e){if(!e||(e=e.trim(),e.length===0)||!kC(i))return null;e.length>60&&(e=e.substring(0,60));let t=SC(e);if(!wC(t)){if(!EC(t))return null;e=e.toLowerCase()}let n=null,r=0;for(i=i.toLowerCase();r<e.length&&(n=ug(i,e,0,r))===null;)r=nI(e,r+1);return n}var pO=Qy(Ya,iI,IC),gO=Qy(Ya,iI,xC),fO=new br(1e4);function rI(i,e){let t=OC(i,i.toLowerCase(),0,e,e.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});return t?_C(t):null}function _C(i){if(typeof i>"u")return[];let e=[],t=i[1];for(let n=i.length-1;n>1;n--){let r=i[n]+t,o=e[e.length-1];o&&o.end===r?o.end=r+1:e.push({start:r,end:r+1})}return e}var Er=128;function mg(){let i=[],e=[];for(let t=0;t<=Er;t++)e[t]=0;for(let t=0;t<=Er;t++)i.push(e.slice(0));return i}function oI(i){let e=[];for(let t=0;t<=i;t++)e[t]=0;return e}var sI=oI(2*Er),hg=oI(2*Er),bi=mg(),Sr=mg(),ja=mg(),LC=!1;function dg(i,e,t,n,r){function o(a,l,c=" "){for(;a.length<l;)a=c+a;return a}let s=` |   |${n.split("").map(a=>o(a,3)).join("|")}
`;for(let a=0;a<=t;a++)a===0?s+=" |":s+=`${e[a-1]}|`,s+=i[a].slice(0,r+1).map(l=>o(l.toString(),3)).join("|")+`
`;return s}function DC(i,e,t,n){i=i.substr(e),t=t.substr(n),console.log(dg(Sr,i,i.length,t,t.length)),console.log(dg(ja,i,i.length,t,t.length)),console.log(dg(bi,i,i.length,t,t.length))}function dc(i,e){if(e<0||e>=i.length)return!1;let t=i.codePointAt(e);switch(t){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 62:case 40:case 41:case 91:case 93:case 123:case 125:return!0;case void 0:return!1;default:return!!Vd(t)}}function Zy(i,e){if(e<0||e>=i.length)return!1;switch(i.charCodeAt(e)){case 32:case 9:return!0;default:return!1}}function cc(i,e,t){return e[i]!==t[i]}function RC(i,e,t,n,r,o,s=!1){for(;e<t&&r<o;)i[e]===n[r]&&(s&&(sI[e]=r),e+=1),r+=1;return e===t}var AC;(t=>{t.Default=[-100,0];function e(n){return!n||n.length===2&&n[0]===-100&&n[1]===0}t.isDefault=e})(AC||={});var pg=class{constructor(e,t){this.firstMatchCanBeWeak=e;this.boostFullMatch=t}static default={boostFullMatch:!0,firstMatchCanBeWeak:!1}};function OC(i,e,t,n,r,o,s=pg.default){let a=i.length>Er?Er:i.length,l=n.length>Er?Er:n.length;if(t>=a||o>=l||a-t>l-o||!RC(e,t,a,r,o,l,!0))return;MC(a,l,t,o,e,r);let c=1,u=1,p=t,g=o,f=[!1];for(c=1,p=t;p<a;c++,p++){let k=sI[p],L=hg[p],A=p+1<a?hg[p+1]:l;for(u=k-o+1,g=k;g<A;u++,g++){let M=Number.MIN_SAFE_INTEGER,P=!1;g<=L&&(M=NC(i,e,p,t,n,r,g,l,o,bi[c-1][u-1]===0,f));let ie=0;M!==Number.MAX_SAFE_INTEGER&&(P=!0,ie=M+Sr[c-1][u-1]);let ee=g>k,te=ee?Sr[c][u-1]+(bi[c][u-1]>0?-5:0):0,ne=g>k+1&&bi[c][u-1]>0,ye=ne?Sr[c][u-2]+(bi[c][u-2]>0?-5:0):0;if(ne&&(!ee||ye>=te)&&(!P||ye>=ie))Sr[c][u]=ye,ja[c][u]=3,bi[c][u]=0;else if(ee&&(!P||te>=ie))Sr[c][u]=te,ja[c][u]=2,bi[c][u]=0;else if(P)Sr[c][u]=ie,ja[c][u]=1,bi[c][u]=bi[c-1][u-1]+1;else throw new Error("not possible")}}if(LC&&DC(i,t,n,o),!f[0]&&!s.firstMatchCanBeWeak)return;c--,u--;let T=[Sr[c][u],o],m=0,x=0;for(;c>=1;){let k=u;do{let L=ja[c][k];if(L===3)k=k-2;else if(L===2)k=k-1;else break}while(k>=1);m>1&&e[t+c-1]===r[o+u-1]&&!cc(k+o-1,n,r)&&m+1>bi[c][k]&&(k=u),k===u?m++:m=1,x||(x=k),c--,u=k-1,T.push(u)}l-o===a&&s.boostFullMatch&&(T[0]+=2);let w=x-a;return T[0]-=w,T}function MC(i,e,t,n,r,o){let s=i-1,a=e-1;for(;s>=t&&a>=n;)r[s]===o[a]&&(hg[s]=a,s--),a--}function NC(i,e,t,n,r,o,s,a,l,c,u){if(e[t]!==o[s])return Number.MIN_SAFE_INTEGER;let p=1,g=!1;return s===t-n?p=i[t]===r[s]?7:5:cc(s,r,o)&&(s===0||!cc(s-1,r,o))?(p=i[t]===r[s]?7:5,g=!0):dc(o,s)&&(s===0||!dc(o,s-1))?p=5:(dc(o,s-1)||Zy(o,s-1))&&(p=5,g=!0),p>1&&t===n&&(u[0]=!0),g||(g=cc(s,r,o)||dc(o,s-1)||Zy(o,s-1)),t===n?s>l&&(p-=g?3:5):c?p+=g?2:0:p+=g?0:1,s+1===a&&(p-=g?3:5),p}var bg=Object.create(null);function h(i,e){if(Dn(e)){let t=bg[e];if(t===void 0)throw new Error(`${i} references an unknown codicon: ${e}`);e=t}return bg[i]=e,{id:i}}function vg(){return bg}var aI={add:h("add",6e4),plus:h("plus",6e4),gistNew:h("gist-new",6e4),repoCreate:h("repo-create",6e4),lightbulb:h("lightbulb",60001),lightBulb:h("light-bulb",60001),repo:h("repo",60002),repoDelete:h("repo-delete",60002),gistFork:h("gist-fork",60003),repoForked:h("repo-forked",60003),gitPullRequest:h("git-pull-request",60004),gitPullRequestAbandoned:h("git-pull-request-abandoned",60004),recordKeys:h("record-keys",60005),keyboard:h("keyboard",60005),tag:h("tag",60006),gitPullRequestLabel:h("git-pull-request-label",60006),tagAdd:h("tag-add",60006),tagRemove:h("tag-remove",60006),person:h("person",60007),personFollow:h("person-follow",60007),personOutline:h("person-outline",60007),personFilled:h("person-filled",60007),gitBranch:h("git-branch",60008),gitBranchCreate:h("git-branch-create",60008),gitBranchDelete:h("git-branch-delete",60008),sourceControl:h("source-control",60008),mirror:h("mirror",60009),mirrorPublic:h("mirror-public",60009),star:h("star",60010),starAdd:h("star-add",60010),starDelete:h("star-delete",60010),starEmpty:h("star-empty",60010),comment:h("comment",60011),commentAdd:h("comment-add",60011),alert:h("alert",60012),warning:h("warning",60012),search:h("search",60013),searchSave:h("search-save",60013),logOut:h("log-out",60014),signOut:h("sign-out",60014),logIn:h("log-in",60015),signIn:h("sign-in",60015),eye:h("eye",60016),eyeUnwatch:h("eye-unwatch",60016),eyeWatch:h("eye-watch",60016),circleFilled:h("circle-filled",60017),primitiveDot:h("primitive-dot",60017),closeDirty:h("close-dirty",60017),debugBreakpoint:h("debug-breakpoint",60017),debugBreakpointDisabled:h("debug-breakpoint-disabled",60017),debugHint:h("debug-hint",60017),terminalDecorationSuccess:h("terminal-decoration-success",60017),primitiveSquare:h("primitive-square",60018),edit:h("edit",60019),pencil:h("pencil",60019),info:h("info",60020),issueOpened:h("issue-opened",60020),gistPrivate:h("gist-private",60021),gitForkPrivate:h("git-fork-private",60021),lock:h("lock",60021),mirrorPrivate:h("mirror-private",60021),close:h("close",60022),removeClose:h("remove-close",60022),x:h("x",60022),repoSync:h("repo-sync",60023),sync:h("sync",60023),clone:h("clone",60024),desktopDownload:h("desktop-download",60024),beaker:h("beaker",60025),microscope:h("microscope",60025),vm:h("vm",60026),deviceDesktop:h("device-desktop",60026),file:h("file",60027),fileText:h("file-text",60027),more:h("more",60028),ellipsis:h("ellipsis",60028),kebabHorizontal:h("kebab-horizontal",60028),mailReply:h("mail-reply",60029),reply:h("reply",60029),organization:h("organization",60030),organizationFilled:h("organization-filled",60030),organizationOutline:h("organization-outline",60030),newFile:h("new-file",60031),fileAdd:h("file-add",60031),newFolder:h("new-folder",60032),fileDirectoryCreate:h("file-directory-create",60032),trash:h("trash",60033),trashcan:h("trashcan",60033),history:h("history",60034),clock:h("clock",60034),folder:h("folder",60035),fileDirectory:h("file-directory",60035),symbolFolder:h("symbol-folder",60035),logoGithub:h("logo-github",60036),markGithub:h("mark-github",60036),github:h("github",60036),terminal:h("terminal",60037),console:h("console",60037),repl:h("repl",60037),zap:h("zap",60038),symbolEvent:h("symbol-event",60038),error:h("error",60039),stop:h("stop",60039),variable:h("variable",60040),symbolVariable:h("symbol-variable",60040),array:h("array",60042),symbolArray:h("symbol-array",60042),symbolModule:h("symbol-module",60043),symbolPackage:h("symbol-package",60043),symbolNamespace:h("symbol-namespace",60043),symbolObject:h("symbol-object",60043),symbolMethod:h("symbol-method",60044),symbolFunction:h("symbol-function",60044),symbolConstructor:h("symbol-constructor",60044),symbolBoolean:h("symbol-boolean",60047),symbolNull:h("symbol-null",60047),symbolNumeric:h("symbol-numeric",60048),symbolNumber:h("symbol-number",60048),symbolStructure:h("symbol-structure",60049),symbolStruct:h("symbol-struct",60049),symbolParameter:h("symbol-parameter",60050),symbolTypeParameter:h("symbol-type-parameter",60050),symbolKey:h("symbol-key",60051),symbolText:h("symbol-text",60051),symbolReference:h("symbol-reference",60052),goToFile:h("go-to-file",60052),symbolEnum:h("symbol-enum",60053),symbolValue:h("symbol-value",60053),symbolRuler:h("symbol-ruler",60054),symbolUnit:h("symbol-unit",60054),activateBreakpoints:h("activate-breakpoints",60055),archive:h("archive",60056),arrowBoth:h("arrow-both",60057),arrowDown:h("arrow-down",60058),arrowLeft:h("arrow-left",60059),arrowRight:h("arrow-right",60060),arrowSmallDown:h("arrow-small-down",60061),arrowSmallLeft:h("arrow-small-left",60062),arrowSmallRight:h("arrow-small-right",60063),arrowSmallUp:h("arrow-small-up",60064),arrowUp:h("arrow-up",60065),bell:h("bell",60066),bold:h("bold",60067),book:h("book",60068),bookmark:h("bookmark",60069),debugBreakpointConditionalUnverified:h("debug-breakpoint-conditional-unverified",60070),debugBreakpointConditional:h("debug-breakpoint-conditional",60071),debugBreakpointConditionalDisabled:h("debug-breakpoint-conditional-disabled",60071),debugBreakpointDataUnverified:h("debug-breakpoint-data-unverified",60072),debugBreakpointData:h("debug-breakpoint-data",60073),debugBreakpointDataDisabled:h("debug-breakpoint-data-disabled",60073),debugBreakpointLogUnverified:h("debug-breakpoint-log-unverified",60074),debugBreakpointLog:h("debug-breakpoint-log",60075),debugBreakpointLogDisabled:h("debug-breakpoint-log-disabled",60075),briefcase:h("briefcase",60076),broadcast:h("broadcast",60077),browser:h("browser",60078),bug:h("bug",60079),calendar:h("calendar",60080),caseSensitive:h("case-sensitive",60081),check:h("check",60082),checklist:h("checklist",60083),chevronDown:h("chevron-down",60084),chevronLeft:h("chevron-left",60085),chevronRight:h("chevron-right",60086),chevronUp:h("chevron-up",60087),chromeClose:h("chrome-close",60088),chromeMaximize:h("chrome-maximize",60089),chromeMinimize:h("chrome-minimize",60090),chromeRestore:h("chrome-restore",60091),circleOutline:h("circle-outline",60092),circle:h("circle",60092),debugBreakpointUnverified:h("debug-breakpoint-unverified",60092),terminalDecorationIncomplete:h("terminal-decoration-incomplete",60092),circleSlash:h("circle-slash",60093),circuitBoard:h("circuit-board",60094),clearAll:h("clear-all",60095),clippy:h("clippy",60096),closeAll:h("close-all",60097),cloudDownload:h("cloud-download",60098),cloudUpload:h("cloud-upload",60099),code:h("code",60100),collapseAll:h("collapse-all",60101),colorMode:h("color-mode",60102),commentDiscussion:h("comment-discussion",60103),creditCard:h("credit-card",60105),dash:h("dash",60108),dashboard:h("dashboard",60109),database:h("database",60110),debugContinue:h("debug-continue",60111),debugDisconnect:h("debug-disconnect",60112),debugPause:h("debug-pause",60113),debugRestart:h("debug-restart",60114),debugStart:h("debug-start",60115),debugStepInto:h("debug-step-into",60116),debugStepOut:h("debug-step-out",60117),debugStepOver:h("debug-step-over",60118),debugStop:h("debug-stop",60119),debug:h("debug",60120),deviceCameraVideo:h("device-camera-video",60121),deviceCamera:h("device-camera",60122),deviceMobile:h("device-mobile",60123),diffAdded:h("diff-added",60124),diffIgnored:h("diff-ignored",60125),diffModified:h("diff-modified",60126),diffRemoved:h("diff-removed",60127),diffRenamed:h("diff-renamed",60128),diff:h("diff",60129),diffSidebyside:h("diff-sidebyside",60129),discard:h("discard",60130),editorLayout:h("editor-layout",60131),emptyWindow:h("empty-window",60132),exclude:h("exclude",60133),extensions:h("extensions",60134),eyeClosed:h("eye-closed",60135),fileBinary:h("file-binary",60136),fileCode:h("file-code",60137),fileMedia:h("file-media",60138),filePdf:h("file-pdf",60139),fileSubmodule:h("file-submodule",60140),fileSymlinkDirectory:h("file-symlink-directory",60141),fileSymlinkFile:h("file-symlink-file",60142),fileZip:h("file-zip",60143),files:h("files",60144),filter:h("filter",60145),flame:h("flame",60146),foldDown:h("fold-down",60147),foldUp:h("fold-up",60148),fold:h("fold",60149),folderActive:h("folder-active",60150),folderOpened:h("folder-opened",60151),gear:h("gear",60152),gift:h("gift",60153),gistSecret:h("gist-secret",60154),gist:h("gist",60155),gitCommit:h("git-commit",60156),gitCompare:h("git-compare",60157),compareChanges:h("compare-changes",60157),gitMerge:h("git-merge",60158),githubAction:h("github-action",60159),githubAlt:h("github-alt",60160),globe:h("globe",60161),grabber:h("grabber",60162),graph:h("graph",60163),gripper:h("gripper",60164),heart:h("heart",60165),home:h("home",60166),horizontalRule:h("horizontal-rule",60167),hubot:h("hubot",60168),inbox:h("inbox",60169),issueReopened:h("issue-reopened",60171),issues:h("issues",60172),italic:h("italic",60173),jersey:h("jersey",60174),json:h("json",60175),kebabVertical:h("kebab-vertical",60176),key:h("key",60177),law:h("law",60178),lightbulbAutofix:h("lightbulb-autofix",60179),linkExternal:h("link-external",60180),link:h("link",60181),listOrdered:h("list-ordered",60182),listUnordered:h("list-unordered",60183),liveShare:h("live-share",60184),loading:h("loading",60185),location:h("location",60186),mailRead:h("mail-read",60187),mail:h("mail",60188),markdown:h("markdown",60189),megaphone:h("megaphone",60190),mention:h("mention",60191),milestone:h("milestone",60192),gitPullRequestMilestone:h("git-pull-request-milestone",60192),mortarBoard:h("mortar-board",60193),move:h("move",60194),multipleWindows:h("multiple-windows",60195),mute:h("mute",60196),noNewline:h("no-newline",60197),note:h("note",60198),octoface:h("octoface",60199),openPreview:h("open-preview",60200),package:h("package",60201),paintcan:h("paintcan",60202),pin:h("pin",60203),play:h("play",60204),run:h("run",60204),plug:h("plug",60205),preserveCase:h("preserve-case",60206),preview:h("preview",60207),project:h("project",60208),pulse:h("pulse",60209),question:h("question",60210),quote:h("quote",60211),radioTower:h("radio-tower",60212),reactions:h("reactions",60213),references:h("references",60214),refresh:h("refresh",60215),regex:h("regex",60216),remoteExplorer:h("remote-explorer",60217),remote:h("remote",60218),remove:h("remove",60219),replaceAll:h("replace-all",60220),replace:h("replace",60221),repoClone:h("repo-clone",60222),repoForcePush:h("repo-force-push",60223),repoPull:h("repo-pull",60224),repoPush:h("repo-push",60225),report:h("report",60226),requestChanges:h("request-changes",60227),rocket:h("rocket",60228),rootFolderOpened:h("root-folder-opened",60229),rootFolder:h("root-folder",60230),rss:h("rss",60231),ruby:h("ruby",60232),saveAll:h("save-all",60233),saveAs:h("save-as",60234),save:h("save",60235),screenFull:h("screen-full",60236),screenNormal:h("screen-normal",60237),searchStop:h("search-stop",60238),server:h("server",60240),settingsGear:h("settings-gear",60241),settings:h("settings",60242),shield:h("shield",60243),smiley:h("smiley",60244),sortPrecedence:h("sort-precedence",60245),splitHorizontal:h("split-horizontal",60246),splitVertical:h("split-vertical",60247),squirrel:h("squirrel",60248),starFull:h("star-full",60249),starHalf:h("star-half",60250),symbolClass:h("symbol-class",60251),symbolColor:h("symbol-color",60252),symbolConstant:h("symbol-constant",60253),symbolEnumMember:h("symbol-enum-member",60254),symbolField:h("symbol-field",60255),symbolFile:h("symbol-file",60256),symbolInterface:h("symbol-interface",60257),symbolKeyword:h("symbol-keyword",60258),symbolMisc:h("symbol-misc",60259),symbolOperator:h("symbol-operator",60260),symbolProperty:h("symbol-property",60261),wrench:h("wrench",60261),wrenchSubaction:h("wrench-subaction",60261),symbolSnippet:h("symbol-snippet",60262),tasklist:h("tasklist",60263),telescope:h("telescope",60264),textSize:h("text-size",60265),threeBars:h("three-bars",60266),thumbsdown:h("thumbsdown",60267),thumbsup:h("thumbsup",60268),tools:h("tools",60269),triangleDown:h("triangle-down",60270),triangleLeft:h("triangle-left",60271),triangleRight:h("triangle-right",60272),triangleUp:h("triangle-up",60273),twitter:h("twitter",60274),unfold:h("unfold",60275),unlock:h("unlock",60276),unmute:h("unmute",60277),unverified:h("unverified",60278),verified:h("verified",60279),versions:h("versions",60280),vmActive:h("vm-active",60281),vmOutline:h("vm-outline",60282),vmRunning:h("vm-running",60283),watch:h("watch",60284),whitespace:h("whitespace",60285),wholeWord:h("whole-word",60286),window:h("window",60287),wordWrap:h("word-wrap",60288),zoomIn:h("zoom-in",60289),zoomOut:h("zoom-out",60290),listFilter:h("list-filter",60291),listFlat:h("list-flat",60292),listSelection:h("list-selection",60293),selection:h("selection",60293),listTree:h("list-tree",60294),debugBreakpointFunctionUnverified:h("debug-breakpoint-function-unverified",60295),debugBreakpointFunction:h("debug-breakpoint-function",60296),debugBreakpointFunctionDisabled:h("debug-breakpoint-function-disabled",60296),debugStackframeActive:h("debug-stackframe-active",60297),circleSmallFilled:h("circle-small-filled",60298),debugStackframeDot:h("debug-stackframe-dot",60298),terminalDecorationMark:h("terminal-decoration-mark",60298),debugStackframe:h("debug-stackframe",60299),debugStackframeFocused:h("debug-stackframe-focused",60299),debugBreakpointUnsupported:h("debug-breakpoint-unsupported",60300),symbolString:h("symbol-string",60301),debugReverseContinue:h("debug-reverse-continue",60302),debugStepBack:h("debug-step-back",60303),debugRestartFrame:h("debug-restart-frame",60304),debugAlt:h("debug-alt",60305),callIncoming:h("call-incoming",60306),callOutgoing:h("call-outgoing",60307),menu:h("menu",60308),expandAll:h("expand-all",60309),feedback:h("feedback",60310),gitPullRequestReviewer:h("git-pull-request-reviewer",60310),groupByRefType:h("group-by-ref-type",60311),ungroupByRefType:h("ungroup-by-ref-type",60312),account:h("account",60313),gitPullRequestAssignee:h("git-pull-request-assignee",60313),bellDot:h("bell-dot",60314),debugConsole:h("debug-console",60315),library:h("library",60316),output:h("output",60317),runAll:h("run-all",60318),syncIgnored:h("sync-ignored",60319),pinned:h("pinned",60320),githubInverted:h("github-inverted",60321),serverProcess:h("server-process",60322),serverEnvironment:h("server-environment",60323),pass:h("pass",60324),issueClosed:h("issue-closed",60324),stopCircle:h("stop-circle",60325),playCircle:h("play-circle",60326),record:h("record",60327),debugAltSmall:h("debug-alt-small",60328),vmConnect:h("vm-connect",60329),cloud:h("cloud",60330),merge:h("merge",60331),export:h("export",60332),graphLeft:h("graph-left",60333),magnet:h("magnet",60334),notebook:h("notebook",60335),redo:h("redo",60336),checkAll:h("check-all",60337),pinnedDirty:h("pinned-dirty",60338),passFilled:h("pass-filled",60339),circleLargeFilled:h("circle-large-filled",60340),circleLarge:h("circle-large",60341),circleLargeOutline:h("circle-large-outline",60341),combine:h("combine",60342),gather:h("gather",60342),table:h("table",60343),variableGroup:h("variable-group",60344),typeHierarchy:h("type-hierarchy",60345),typeHierarchySub:h("type-hierarchy-sub",60346),typeHierarchySuper:h("type-hierarchy-super",60347),gitPullRequestCreate:h("git-pull-request-create",60348),runAbove:h("run-above",60349),runBelow:h("run-below",60350),notebookTemplate:h("notebook-template",60351),debugRerun:h("debug-rerun",60352),workspaceTrusted:h("workspace-trusted",60353),workspaceUntrusted:h("workspace-untrusted",60354),workspaceUnknown:h("workspace-unknown",60355),terminalCmd:h("terminal-cmd",60356),terminalDebian:h("terminal-debian",60357),terminalLinux:h("terminal-linux",60358),terminalPowershell:h("terminal-powershell",60359),terminalTmux:h("terminal-tmux",60360),terminalUbuntu:h("terminal-ubuntu",60361),terminalBash:h("terminal-bash",60362),arrowSwap:h("arrow-swap",60363),copy:h("copy",60364),personAdd:h("person-add",60365),filterFilled:h("filter-filled",60366),wand:h("wand",60367),debugLineByLine:h("debug-line-by-line",60368),inspect:h("inspect",60369),layers:h("layers",60370),layersDot:h("layers-dot",60371),layersActive:h("layers-active",60372),compass:h("compass",60373),compassDot:h("compass-dot",60374),compassActive:h("compass-active",60375),azure:h("azure",60376),issueDraft:h("issue-draft",60377),gitPullRequestClosed:h("git-pull-request-closed",60378),gitPullRequestDraft:h("git-pull-request-draft",60379),debugAll:h("debug-all",60380),debugCoverage:h("debug-coverage",60381),runErrors:h("run-errors",60382),folderLibrary:h("folder-library",60383),debugContinueSmall:h("debug-continue-small",60384),beakerStop:h("beaker-stop",60385),graphLine:h("graph-line",60386),graphScatter:h("graph-scatter",60387),pieChart:h("pie-chart",60388),bracket:h("bracket",60175),bracketDot:h("bracket-dot",60389),bracketError:h("bracket-error",60390),lockSmall:h("lock-small",60391),azureDevops:h("azure-devops",60392),verifiedFilled:h("verified-filled",60393),newline:h("newline",60394),layout:h("layout",60395),layoutActivitybarLeft:h("layout-activitybar-left",60396),layoutActivitybarRight:h("layout-activitybar-right",60397),layoutPanelLeft:h("layout-panel-left",60398),layoutPanelCenter:h("layout-panel-center",60399),layoutPanelJustify:h("layout-panel-justify",60400),layoutPanelRight:h("layout-panel-right",60401),layoutPanel:h("layout-panel",60402),layoutSidebarLeft:h("layout-sidebar-left",60403),layoutSidebarRight:h("layout-sidebar-right",60404),layoutStatusbar:h("layout-statusbar",60405),layoutMenubar:h("layout-menubar",60406),layoutCentered:h("layout-centered",60407),target:h("target",60408),indent:h("indent",60409),recordSmall:h("record-small",60410),errorSmall:h("error-small",60411),terminalDecorationError:h("terminal-decoration-error",60411),arrowCircleDown:h("arrow-circle-down",60412),arrowCircleLeft:h("arrow-circle-left",60413),arrowCircleRight:h("arrow-circle-right",60414),arrowCircleUp:h("arrow-circle-up",60415),layoutSidebarRightOff:h("layout-sidebar-right-off",60416),layoutPanelOff:h("layout-panel-off",60417),layoutSidebarLeftOff:h("layout-sidebar-left-off",60418),blank:h("blank",60419),heartFilled:h("heart-filled",60420),map:h("map",60421),mapHorizontal:h("map-horizontal",60421),foldHorizontal:h("fold-horizontal",60421),mapFilled:h("map-filled",60422),mapHorizontalFilled:h("map-horizontal-filled",60422),foldHorizontalFilled:h("fold-horizontal-filled",60422),circleSmall:h("circle-small",60423),bellSlash:h("bell-slash",60424),bellSlashDot:h("bell-slash-dot",60425),commentUnresolved:h("comment-unresolved",60426),gitPullRequestGoToChanges:h("git-pull-request-go-to-changes",60427),gitPullRequestNewChanges:h("git-pull-request-new-changes",60428),searchFuzzy:h("search-fuzzy",60429),commentDraft:h("comment-draft",60430),send:h("send",60431),sparkle:h("sparkle",60432),insert:h("insert",60433),mic:h("mic",60434),thumbsdownFilled:h("thumbsdown-filled",60435),thumbsupFilled:h("thumbsup-filled",60436),coffee:h("coffee",60437),snake:h("snake",60438),game:h("game",60439),vr:h("vr",60440),chip:h("chip",60441),piano:h("piano",60442),music:h("music",60443),micFilled:h("mic-filled",60444),repoFetch:h("repo-fetch",60445),copilot:h("copilot",60446),lightbulbSparkle:h("lightbulb-sparkle",60447),robot:h("robot",60448),sparkleFilled:h("sparkle-filled",60449),diffSingle:h("diff-single",60450),diffMultiple:h("diff-multiple",60451),surroundWith:h("surround-with",60452),share:h("share",60453),gitStash:h("git-stash",60454),gitStashApply:h("git-stash-apply",60455),gitStashPop:h("git-stash-pop",60456),vscode:h("vscode",60457),vscodeInsiders:h("vscode-insiders",60458),codeOss:h("code-oss",60459),runCoverage:h("run-coverage",60460),runAllCoverage:h("run-all-coverage",60461),coverage:h("coverage",60462),githubProject:h("github-project",60463),mapVertical:h("map-vertical",60464),foldVertical:h("fold-vertical",60464),mapVerticalFilled:h("map-vertical-filled",60465),foldVerticalFilled:h("fold-vertical-filled",60465),goToSearch:h("go-to-search",60466),percentage:h("percentage",60467),sortPercentage:h("sort-percentage",60467),attach:h("attach",60468)};var PC={dialogError:h("dialog-error","error"),dialogWarning:h("dialog-warning","warning"),dialogInfo:h("dialog-info","info"),dialogClose:h("dialog-close","close"),treeItemExpanded:h("tree-item-expanded","chevron-down"),treeFilterOnTypeOn:h("tree-filter-on-type-on","list-filter"),treeFilterOnTypeOff:h("tree-filter-on-type-off","list-selection"),treeFilterClear:h("tree-filter-clear","close"),treeItemLoading:h("tree-item-loading","loading"),menuSelection:h("menu-selection","check"),menuSubmenu:h("menu-submenu","chevron-right"),menuBarMore:h("menubar-more","more"),scrollbarButtonLeft:h("scrollbar-button-left","triangle-left"),scrollbarButtonRight:h("scrollbar-button-right","triangle-right"),scrollbarButtonUp:h("scrollbar-button-up","triangle-up"),scrollbarButtonDown:h("scrollbar-button-down","triangle-down"),toolBarMore:h("toolbar-more","more"),quickInputBack:h("quick-input-back","arrow-left"),dropDownButton:h("drop-down-button",60084),symbolCustomColor:h("symbol-customcolor",60252),exportIcon:h("export",60332),workspaceUnspecified:h("workspace-unspecified",60355),newLine:h("newline",60394),thumbsDownFilled:h("thumbsdown-filled",60435),thumbsUpFilled:h("thumbsup-filled",60436),gitFetch:h("git-fetch",60445),lightbulbSparkleAutofix:h("lightbulb-sparkle-autofix",60447),debugBreakpointPending:h("debug-breakpoint-pending",60377)},q={...aI,...PC};var lI;(e=>{function i(t){return t&&typeof t=="object"&&typeof t.id=="string"}e.isThemeColor=i})(lI||={});var Ze;(m=>{m.iconNameSegment="[A-Za-z0-9]+",m.iconNameExpression="[A-Za-z0-9-]+",m.iconModifierExpression="~[A-Za-z]+",m.iconNameCharacter="[A-Za-z0-9~-]";let r=new RegExp(`^(${m.iconNameExpression})(${m.iconModifierExpression})?$`);function o(x){let w=r.exec(x.id);if(!w)return o(q.error);let[,k,L]=w,A=["codicon","codicon-"+k];return L&&A.push("codicon-modifier-"+L.substring(1)),A}m.asClassNameArray=o;function s(x){return o(x).join(" ")}m.asClassName=s;function a(x){return"."+o(x).join(".")}m.asCSSSelector=a;function l(x){return x&&typeof x=="object"&&typeof x.id=="string"&&(typeof x.color>"u"||lI.isThemeColor(x.color))}m.isThemeIcon=l;let c=new RegExp(`^\\$\\((${m.iconNameExpression}(?:${m.iconModifierExpression})?)\\)$`);function u(x){let w=c.exec(x);if(!w)return;let[,k]=w;return{id:k}}m.fromString=u;function p(x){return{id:x}}m.fromId=p;function g(x,w){let k=x.id,L=k.lastIndexOf("~");return L!==-1&&(k=k.substring(0,L)),w&&(k=`${k}~${w}`),{id:k}}m.modify=g;function f(x){let w=x.id.lastIndexOf("~");if(w!==-1)return x.id.substring(w+1)}m.getModifier=f;function T(x,w){return x.id===w.id&&x.color?.id===w.color?.id}m.isEqual=T})(Ze||={});var yg=new RegExp(`\\$\\(${Ze.iconNameExpression}(?:${Ze.iconModifierExpression})?\\)`,"g"),FC=new RegExp(`(\\\\)?${yg.source}`,"g");function cI(i){return i.replace(FC,(e,t)=>t?e:`\\${e}`)}var BC=new RegExp(`\\\\${yg.source}`,"g");function uI(i){return i.replace(BC,e=>`\\${e}`)}var NO=new RegExp(`(\\s)?(\\\\)?${yg.source}(\\s)?`,"g");var PO=new RegExp(`\\$\\(${Ze.iconNameCharacter}+\\)`,"g");var Ig=class{value;isTrusted;supportThemeIcons;supportHtml;baseUri;constructor(e="",t=!1){if(this.value=e,typeof this.value!="string")throw Yr("value");typeof t=="boolean"?(this.isTrusted=t,this.supportThemeIcons=!1,this.supportHtml=!1):(this.isTrusted=t.isTrusted??void 0,this.supportThemeIcons=t.supportThemeIcons??!1,this.supportHtml=t.supportHtml??!1)}appendText(e,t=0){return this.value+=zC(this.supportThemeIcons?cI(e):e).replace(/([ \t]+)/g,(n,r)=>"&nbsp;".repeat(r.length)).replace(/\>/gm,"\\>").replace(/\n/g,t===1?`\\
`:`

`),this}appendMarkdown(e){return this.value+=e,this}appendCodeblock(e,t){return this.value+=`
${UC(t,e)}
`,this}appendLink(e,t,n){return this.value+="[",this.value+=this._escape(t,"]"),this.value+="](",this.value+=this._escape(String(e),")"),n&&(this.value+=` "${this._escape(this._escape(n,'"'),")")}"`),this.value+=")",this}_escape(e,t){let n=new RegExp($n(t),"g");return e.replace(n,(r,o)=>e.charAt(o-1)!=="\\"?`\\${r}`:r)}};function hc(i){return i instanceof Ig?!0:i&&typeof i=="object"?typeof i.value=="string"&&(typeof i.isTrusted=="boolean"||typeof i.isTrusted=="object"||i.isTrusted===void 0)&&(typeof i.supportThemeIcons=="boolean"||i.supportThemeIcons===void 0):!1}function hI(i,e){return i===e?!0:!i||!e?!1:i.value===e.value&&i.isTrusted===e.isTrusted&&i.supportThemeIcons===e.supportThemeIcons&&i.supportHtml===e.supportHtml&&(i.baseUri===e.baseUri||!!i.baseUri&&!!e.baseUri&&by(oe.from(i.baseUri),oe.from(e.baseUri)))}function zC(i){return i.replace(/[\\`*_{}[\]()#+\-!~]/g,"\\$&")}function UC(i,e){let t=i.match(/^`+/gm)?.reduce((r,o)=>r.length>o.length?r:o).length??0,n=t>=3?t+1:3;return[`${"`".repeat(n)}${e}`,i,`${"`".repeat(n)}`].join(`
`)}function Xa(i){return i.replace(/"/g,"&quot;")}function pc(i){return i&&i.replace(/\\([\\`*_{}[\]()#+\-.!~])/g,"$1")}function pI(i){let e=[],t=i.split("|").map(r=>r.trim());i=t[0];let n=t[1];if(n){let r=/height=(\d+)/.exec(n),o=/width=(\d+)/.exec(n),s=r?r[1]:"",a=o?o[1]:"",l=isFinite(parseInt(a)),c=isFinite(parseInt(s));l&&e.push(`width="${a}"`),c&&e.push(`height="${s}"`)}return{href:i,dimensions:e}}function gI(i){let e=!1,t=new Map,n=new Map;if(WC(i,u=>{if(i===u)return!0;let p=JSON.stringify(u);if(p.length<30)return!0;let g=t.get(p);if(!g){let f={schemas:[u]};return t.set(p,f),n.set(u,f),!0}return g.schemas.push(u),n.set(u,g),e=!0,!1}),t.clear(),!e)return JSON.stringify(i);let o="$defs";for(;i.hasOwnProperty(o);)o+="_";let s=[];function a(u){return JSON.stringify(u,(p,g)=>{if(g!==u){let f=n.get(g);if(f&&f.schemas.length>1)return f.id||(f.id=`_${s.length}`,s.push(f.schemas[0])),{$ref:`#/${o}/${f.id}`}}return g})}let l=a(i),c=[];for(let u=0;u<s.length;u++)c.push(`"_${u}":${a(s[u])}`);return c.length?`${l.substring(0,l.length-1)},"${o}":{${c.join(",")}}}`:l}function ms(i){return typeof i=="object"&&i!==null}function WC(i,e){if(!i||typeof i!="object")return;let t=(...l)=>{for(let c of l)ms(c)&&s.push(c)},n=(...l)=>{for(let c of l)if(ms(c))for(let u in c){let p=c[u];ms(p)&&s.push(p)}},r=(...l)=>{for(let c of l)if(Array.isArray(c))for(let u of c)ms(u)&&s.push(u)},o=l=>{if(Array.isArray(l))for(let c of l)ms(c)&&s.push(c);else ms(l)&&s.push(l)},s=[i],a=s.pop();for(;a;)e(a)&&(t(a.additionalItems,a.additionalProperties,a.not,a.contains,a.propertyNames,a.if,a.then,a.else,a.unevaluatedItems,a.unevaluatedProperties),n(a.definitions,a.$defs,a.properties,a.patternProperties,a.dependencies,a.dependentSchemas),r(a.anyOf,a.allOf,a.oneOf,a.prefixItems),o(a.items)),a=s.pop()}var Tg=class i{constructor(e,t,n,r,o,s,a){this._forceIntegerValues=e;this._forceIntegerValues&&(t=t|0,n=n|0,r=r|0,o=o|0,s=s|0,a=a|0),this.rawScrollLeft=r,this.rawScrollTop=a,t<0&&(t=0),r+t>n&&(r=n-t),r<0&&(r=0),o<0&&(o=0),a+o>s&&(a=s-o),a<0&&(a=0),this.width=t,this.scrollWidth=n,this.scrollLeft=r,this.height=o,this.scrollHeight=s,this.scrollTop=a}_scrollStateBrand=void 0;rawScrollLeft;rawScrollTop;width;scrollWidth;scrollLeft;height;scrollHeight;scrollTop;equals(e){return this.rawScrollLeft===e.rawScrollLeft&&this.rawScrollTop===e.rawScrollTop&&this.width===e.width&&this.scrollWidth===e.scrollWidth&&this.scrollLeft===e.scrollLeft&&this.height===e.height&&this.scrollHeight===e.scrollHeight&&this.scrollTop===e.scrollTop}withScrollDimensions(e,t){return new i(this._forceIntegerValues,typeof e.width<"u"?e.width:this.width,typeof e.scrollWidth<"u"?e.scrollWidth:this.scrollWidth,t?this.rawScrollLeft:this.scrollLeft,typeof e.height<"u"?e.height:this.height,typeof e.scrollHeight<"u"?e.scrollHeight:this.scrollHeight,t?this.rawScrollTop:this.scrollTop)}withScrollPosition(e){return new i(this._forceIntegerValues,this.width,this.scrollWidth,typeof e.scrollLeft<"u"?e.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,typeof e.scrollTop<"u"?e.scrollTop:this.rawScrollTop)}createScrollEvent(e,t){let n=this.width!==e.width,r=this.scrollWidth!==e.scrollWidth,o=this.scrollLeft!==e.scrollLeft,s=this.height!==e.height,a=this.scrollHeight!==e.scrollHeight,l=this.scrollTop!==e.scrollTop;return{inSmoothScrolling:t,oldWidth:e.width,oldScrollWidth:e.scrollWidth,oldScrollLeft:e.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:e.height,oldScrollHeight:e.scrollHeight,oldScrollTop:e.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:n,scrollWidthChanged:r,scrollLeftChanged:o,heightChanged:s,scrollHeightChanged:a,scrollTopChanged:l}}},Za=class extends U{_scrollableBrand=void 0;_smoothScrollDuration;_scheduleAtNextAnimationFrame;_state;_smoothScrolling;_onScroll=this._register(new N);onScroll=this._onScroll.event;constructor(e){super(),this._smoothScrollDuration=e.smoothScrollDuration,this._scheduleAtNextAnimationFrame=e.scheduleAtNextAnimationFrame,this._state=new Tg(e.forceIntegerValues,0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(e){this._smoothScrollDuration=e}validateScrollPosition(e){return this._state.withScrollPosition(e)}getScrollDimensions(){return this._state}setScrollDimensions(e,t){let n=this._state.withScrollDimensions(e,t);this._setState(n,!!this._smoothScrolling),this._smoothScrolling?.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(e){let t=this._state.withScrollPosition(e);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(t,!1)}setScrollPositionSmooth(e,t){if(this._smoothScrollDuration===0)return this.setScrollPositionNow(e);if(this._smoothScrolling){e={scrollLeft:typeof e.scrollLeft>"u"?this._smoothScrolling.to.scrollLeft:e.scrollLeft,scrollTop:typeof e.scrollTop>"u"?this._smoothScrolling.to.scrollTop:e.scrollTop};let n=this._state.withScrollPosition(e);if(this._smoothScrolling.to.scrollLeft===n.scrollLeft&&this._smoothScrolling.to.scrollTop===n.scrollTop)return;let r;t?r=new fc(this._smoothScrolling.from,n,this._smoothScrolling.startTime,this._smoothScrolling.duration):r=this._smoothScrolling.combine(this._state,n,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=r}else{let n=this._state.withScrollPosition(e);this._smoothScrolling=fc.start(this._state,n,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}hasPendingScrollAnimation(){return!!this._smoothScrolling}_performSmoothScrolling(){if(!this._smoothScrolling)return;let e=this._smoothScrolling.tick(),t=this._state.withScrollPosition(e);if(this._setState(t,!0),!!this._smoothScrolling){if(e.isDone){this._smoothScrolling.dispose(),this._smoothScrolling=null;return}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}}_setState(e,t){let n=this._state;n.equals(e)||(this._state=e,this._onScroll.fire(this._state.createScrollEvent(n,t)))}},gc=class{scrollLeft;scrollTop;isDone;constructor(e,t,n){this.scrollLeft=e,this.scrollTop=t,this.isDone=n}};function xg(i,e){let t=e-i;return function(n){return i+t*KC(n)}}function HC(i,e,t){return function(n){return n<t?i(n/t):e((n-t)/(1-t))}}var fc=class i{from;to;duration;startTime;animationFrameDisposable;scrollLeft;scrollTop;constructor(e,t,n,r){this.from=e,this.to=t,this.duration=r,this.startTime=n,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(e,t,n){if(Math.abs(e-t)>2.5*n){let o,s;return e<t?(o=e+.75*n,s=t-.75*n):(o=e-.75*n,s=t+.75*n),HC(xg(e,o),xg(s,t),.33)}return xg(e,t)}dispose(){this.animationFrameDisposable!==null&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(e){this.to=e.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(e){let t=(e-this.startTime)/this.duration;if(t<1){let n=this.scrollLeft(t),r=this.scrollTop(t);return new gc(n,r,!1)}return new gc(this.to.scrollLeft,this.to.scrollTop,!0)}combine(e,t,n){return i.start(e,t,n)}static start(e,t,n){n=n+10;let r=Date.now()-10;return new i(e,t,r,n)}};function VC(i){return Math.pow(i,3)}function KC(i){return 1-VC(1-i)}var $t={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0,bracketPairColorizationOptions:{enabled:!0,independentColorPoolPerBracketType:!1}};var Cg="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?";function qC(i=""){let e="(-?\\d*\\.\\d\\w*)|([^";for(let t of Cg)i.indexOf(t)>=0||(e+="\\"+t);return e+="\\s]+)",new RegExp(e,"g")}var Sg=qC();function Eg(i){let e=Sg;if(i&&i instanceof RegExp)if(i.global)e=i;else{let t="g";i.ignoreCase&&(t+="i"),i.multiline&&(t+="m"),i.unicode&&(t+="u"),e=new RegExp(i.source,t)}return e.lastIndex=0,e}var fI=new Kt;fI.unshift({maxLen:1e3,windowSize:15,timeBudget:150});function mc(i,e,t,n,r){if(e=Eg(e),r||(r=hi.first(fI)),t.length>r.maxLen){let c=i-r.maxLen/2;return c<0?c=0:n+=c,t=t.substring(c,i+r.maxLen/2),mc(i,e,t,n,r)}let o=Date.now(),s=i-1-n,a=-1,l=null;for(let c=1;!(Date.now()-o>=r.timeBudget);c++){let u=s-r.windowSize*c;e.lastIndex=Math.max(0,u);let p=$C(e,t,s,a);if(!p&&l||(l=p,u<=0))break;a=u}if(l){let c={word:l[0],startColumn:n+1+l.index,endColumn:n+1+l.index+l[0].length};return e.lastIndex=0,c}return null}function $C(i,e,t,n){let r;for(;r=i.exec(e);){let o=r.index||0;if(o<=t&&i.lastIndex>=t)return r;if(n>0&&o>n)return null}return null}function wg(...i){switch(i.length){case 1:return d("contextkey.scanner.hint.didYouMean1","Did you mean {0}?",i[0]);case 2:return d("contextkey.scanner.hint.didYouMean2","Did you mean {0} or {1}?",i[0],i[1]);case 3:return d("contextkey.scanner.hint.didYouMean3","Did you mean {0}, {1} or {2}?",i[0],i[1],i[2]);default:return}}var GC=d("contextkey.scanner.hint.didYouForgetToOpenOrCloseQuote","Did you forget to open or close the quote?"),jC=d("contextkey.scanner.hint.didYouForgetToEscapeSlash","Did you forget to escape the '/' (slash) character? Put two backslashes before it to escape, e.g., '\\\\/'."),wr=class i{static getLexeme(e){switch(e.type){case 0:return"(";case 1:return")";case 2:return"!";case 3:return e.isTripleEq?"===":"==";case 4:return e.isTripleEq?"!==":"!=";case 5:return"<";case 6:return"<=";case 7:return">=";case 8:return">=";case 9:return"=~";case 10:return e.lexeme;case 11:return"true";case 12:return"false";case 13:return"in";case 14:return"not";case 15:return"&&";case 16:return"||";case 17:return e.lexeme;case 18:return e.lexeme;case 19:return e.lexeme;case 20:return"EOF";default:throw Jb(`unhandled token type: ${JSON.stringify(e)}; have you forgotten to add a case?`)}}static _regexFlags=new Set(["i","g","s","m","y","u"].map(e=>e.charCodeAt(0)));static _keywords=new Map([["not",14],["in",13],["false",12],["true",11]]);_input="";_start=0;_current=0;_tokens=[];_errors=[];get errors(){return this._errors}reset(e){return this._input=e,this._start=0,this._current=0,this._tokens=[],this._errors=[],this}scan(){for(;!this._isAtEnd();)switch(this._start=this._current,this._advance()){case 40:this._addToken(0);break;case 41:this._addToken(1);break;case 33:if(this._match(61)){let t=this._match(61);this._tokens.push({type:4,offset:this._start,isTripleEq:t})}else this._addToken(2);break;case 39:this._quotedString();break;case 47:this._regex();break;case 61:if(this._match(61)){let t=this._match(61);this._tokens.push({type:3,offset:this._start,isTripleEq:t})}else this._match(126)?this._addToken(9):this._error(wg("==","=~"));break;case 60:this._addToken(this._match(61)?6:5);break;case 62:this._addToken(this._match(61)?8:7);break;case 38:this._match(38)?this._addToken(15):this._error(wg("&&"));break;case 124:this._match(124)?this._addToken(16):this._error(wg("||"));break;case 32:case 13:case 9:case 10:case 160:break;default:this._string()}return this._start=this._current,this._addToken(20),Array.from(this._tokens)}_match(e){return this._isAtEnd()||this._input.charCodeAt(this._current)!==e?!1:(this._current++,!0)}_advance(){return this._input.charCodeAt(this._current++)}_peek(){return this._isAtEnd()?0:this._input.charCodeAt(this._current)}_addToken(e){this._tokens.push({type:e,offset:this._start})}_error(e){let t=this._start,n=this._input.substring(this._start,this._current),r={type:19,offset:this._start,lexeme:n};this._errors.push({offset:t,lexeme:n,additionalInfo:e}),this._tokens.push(r)}stringRe=/[a-zA-Z0-9_<>\-\./\\:\*\?\+\[\]\^,#@;"%\$\p{L}-]+/uy;_string(){this.stringRe.lastIndex=this._start;let e=this.stringRe.exec(this._input);if(e){this._current=this._start+e[0].length;let t=this._input.substring(this._start,this._current),n=i._keywords.get(t);n?this._addToken(n):this._tokens.push({type:17,lexeme:t,offset:this._start})}}_quotedString(){for(;this._peek()!==39&&!this._isAtEnd();)this._advance();if(this._isAtEnd()){this._error(GC);return}this._advance(),this._tokens.push({type:18,lexeme:this._input.substring(this._start+1,this._current-1),offset:this._start+1})}_regex(){let e=this._current,t=!1,n=!1;for(;;){if(e>=this._input.length){this._current=e,this._error(jC);return}let o=this._input.charCodeAt(e);if(t)t=!1;else if(o===47&&!n){e++;break}else o===91?n=!0:o===92?t=!0:o===93&&(n=!1);e++}for(;e<this._input.length&&i._regexFlags.has(this._input.charCodeAt(e));)e++;this._current=e;let r=this._input.substring(this._start,this._current);this._tokens.push({type:10,lexeme:r,offset:this._start})}_isAtEnd(){return this._current>=this._input.length}};var Qa=class{ctor;staticArguments;supportsDelayedInstantiation;constructor(e,t=[],n=!1){this.ctor=e,this.staticArguments=t,this.supportsDelayedInstantiation=n}};var kr;(r=>{r.serviceIds=new Map,r.DI_TARGET="$di$target",r.DI_DEPENDENCIES="$di$dependencies";function n(o){return o[r.DI_DEPENDENCIES]||[]}r.getServiceDependencies=n})(kr||={});var vi=X("instantiationService");function YC(i,e,t){e[kr.DI_TARGET]===e?e[kr.DI_DEPENDENCIES].push({id:i,index:t}):(e[kr.DI_DEPENDENCIES]=[{id:i,index:t}],e[kr.DI_TARGET]=e)}function X(i){if(kr.serviceIds.has(i))return kr.serviceIds.get(i);let e=function(t,n,r){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");YC(e,t,r)};return e.toString=()=>i,kr.serviceIds.set(i,e),e}var Lt=new Map;Lt.set("false",!1);Lt.set("true",!0);Lt.set("isMac",Se);Lt.set("isLinux",Zt);Lt.set("isWindows",kt);Lt.set("isWeb",Jr);Lt.set("isMacNative",Se&&!Jr);Lt.set("isEdge",pv);Lt.set("isFirefox",uv);Lt.set("isChrome",ep);Lt.set("isSafari",hv);var XC=Object.prototype.hasOwnProperty;var ZC={regexParsingWithErrorRecovery:!0},QC=d("contextkey.parser.error.emptyString","Empty context key expression"),JC=d("contextkey.parser.error.emptyString.hint","Did you forget to write an expression? You can also put 'false' or 'true' to always evaluate to false or true, respectively."),eS=d("contextkey.parser.error.noInAfterNot","'in' after 'not'."),mI=d("contextkey.parser.error.closingParenthesis","closing parenthesis ')'"),tS=d("contextkey.parser.error.unexpectedToken","Unexpected token"),nS=d("contextkey.parser.error.unexpectedToken.hint","Did you forget to put && or || before the token?"),iS=d("contextkey.parser.error.unexpectedEOF","Unexpected end of expression"),rS=d("contextkey.parser.error.unexpectedEOF.hint","Did you forget to put a context key?"),kg=class i{constructor(e=ZC){this._config=e}static _parseError=new Error;_scanner=new wr;_tokens=[];_current=0;_parsingErrors=[];get lexingErrors(){return this._scanner.errors}get parsingErrors(){return this._parsingErrors}parse(e){if(e===""){this._parsingErrors.push({message:QC,offset:0,lexeme:"",additionalInfo:JC});return}this._tokens=this._scanner.reset(e).scan(),this._current=0,this._parsingErrors=[];try{let t=this._expr();if(!this._isAtEnd()){let n=this._peek(),r=n.type===17?nS:void 0;throw this._parsingErrors.push({message:tS,offset:n.offset,lexeme:wr.getLexeme(n),additionalInfo:r}),i._parseError}return t}catch(t){if(t!==i._parseError)throw t;return}}_expr(){return this._or()}_or(){let e=[this._and()];for(;this._matchOne(16);){let t=this._and();e.push(t)}return e.length===1?e[0]:vt.or(...e)}_and(){let e=[this._term()];for(;this._matchOne(15);){let t=this._term();e.push(t)}return e.length===1?e[0]:vt.and(...e)}_term(){if(this._matchOne(2)){let e=this._peek();switch(e.type){case 11:return this._advance(),Bt.INSTANCE;case 12:return this._advance(),Gt.INSTANCE;case 0:{this._advance();let t=this._expr();return this._consume(1,mI),t?.negate()}case 17:return this._advance(),vo.create(e.lexeme);default:throw this._errExpectedButGot("KEY | true | false | '(' expression ')'",e)}}return this._primary()}_primary(){let e=this._peek();switch(e.type){case 11:return this._advance(),vt.true();case 12:return this._advance(),vt.false();case 0:{this._advance();let t=this._expr();return this._consume(1,mI),t}case 17:{let t=e.lexeme;if(this._advance(),this._matchOne(9)){let r=this._peek();if(!this._config.regexParsingWithErrorRecovery){if(this._advance(),r.type!==10)throw this._errExpectedButGot("REGEX",r);let o=r.lexeme,s=o.lastIndexOf("/"),a=s===o.length-1?void 0:this._removeFlagsGY(o.substring(s+1)),l;try{l=new RegExp(o.substring(1,s),a)}catch{throw this._errExpectedButGot("REGEX",r)}return sl.create(t,l)}switch(r.type){case 10:case 19:{let o=[r.lexeme];this._advance();let s=this._peek(),a=0;for(let g=0;g<r.lexeme.length;g++)r.lexeme.charCodeAt(g)===40?a++:r.lexeme.charCodeAt(g)===41&&a--;for(;!this._isAtEnd()&&s.type!==15&&s.type!==16;){switch(s.type){case 0:a++;break;case 1:a--;break;case 10:case 18:for(let g=0;g<s.lexeme.length;g++)s.lexeme.charCodeAt(g)===40?a++:r.lexeme.charCodeAt(g)===41&&a--}if(a<0)break;o.push(wr.getLexeme(s)),this._advance(),s=this._peek()}let l=o.join(""),c=l.lastIndexOf("/"),u=c===l.length-1?void 0:this._removeFlagsGY(l.substring(c+1)),p;try{p=new RegExp(l.substring(1,c),u)}catch{throw this._errExpectedButGot("REGEX",r)}return vt.regex(t,p)}case 18:{let o=r.lexeme;this._advance();let s=null;if(!ey(o)){let a=o.indexOf("/"),l=o.lastIndexOf("/");if(a!==l&&a>=0){let c=o.slice(a+1,l),u=o[l+1]==="i"?"i":"";try{s=new RegExp(c,u)}catch{throw this._errExpectedButGot("REGEX",r)}}}if(s===null)throw this._errExpectedButGot("REGEX",r);return sl.create(t,s)}default:throw this._errExpectedButGot("REGEX",this._peek())}}if(this._matchOne(14)){this._consume(13,eS);let r=this._value();return vt.notIn(t,r)}switch(this._peek().type){case 3:{this._advance();let r=this._value();if(this._previous().type===18)return vt.equals(t,r);switch(r){case"true":return vt.has(t);case"false":return vt.not(t);default:return vt.equals(t,r)}}case 4:{this._advance();let r=this._value();if(this._previous().type===18)return vt.notEquals(t,r);switch(r){case"true":return vt.not(t);case"false":return vt.has(t);default:return vt.notEquals(t,r)}}case 5:return this._advance(),rl.create(t,this._value());case 6:return this._advance(),ol.create(t,this._value());case 7:return this._advance(),nl.create(t,this._value());case 8:return this._advance(),il.create(t,this._value());case 13:return this._advance(),vt.in(t,this._value());default:return vt.has(t)}}case 20:throw this._parsingErrors.push({message:iS,offset:e.offset,lexeme:"",additionalInfo:rS}),i._parseError;default:throw this._errExpectedButGot(`true | false | KEY 
	| KEY '=~' REGEX 
	| KEY ('==' | '!=' | '<' | '<=' | '>' | '>=' | 'in' | 'not' 'in') value`,this._peek())}}_value(){let e=this._peek();switch(e.type){case 17:case 18:return this._advance(),e.lexeme;case 11:return this._advance(),"true";case 12:return this._advance(),"false";case 13:return this._advance(),"in";default:return""}}_flagsGYRe=/g|y/g;_removeFlagsGY(e){return e.replaceAll(this._flagsGYRe,"")}_previous(){return this._tokens[this._current-1]}_matchOne(e){return this._check(e)?(this._advance(),!0):!1}_advance(){return this._isAtEnd()||this._current++,this._previous()}_consume(e,t){if(this._check(e))return this._advance();throw this._errExpectedButGot(t,this._peek())}_errExpectedButGot(e,t,n){let r=d("contextkey.parser.error.expectedButGot",`Expected: {0}
Received: '{1}'.`,e,wr.getLexeme(t)),o=t.offset,s=wr.getLexeme(t);return this._parsingErrors.push({message:r,offset:o,lexeme:s,additionalInfo:n}),i._parseError}_check(e){return this._peek().type===e}_peek(){return this._tokens[this._current]}_isAtEnd(){return this._peek().type===20}},vt=class{static false(){return Bt.INSTANCE}static true(){return Gt.INSTANCE}static has(e){return bo.create(e)}static equals(e,t){return el.create(e,t)}static notEquals(e,t){return tl.create(e,t)}static regex(e,t){return sl.create(e,t)}static in(e,t){return bc.create(e,t)}static notIn(e,t){return vc.create(e,t)}static not(e){return vo.create(e)}static and(...e){return yc.create(e,null,!0)}static or(...e){return al.create(e,null,!0)}static greater(e,t){return nl.create(e,t)}static greaterEquals(e,t){return il.create(e,t)}static smaller(e,t){return rl.create(e,t)}static smallerEquals(e,t){return ol.create(e,t)}static _parser=new kg({regexParsingWithErrorRecovery:!1});static deserialize(e){return e==null?void 0:this._parser.parse(e)}};function Ja(i,e){return i.cmp(e)}var Bt=class i{static INSTANCE=new i;type=0;constructor(){}cmp(e){return this.type-e.type}equals(e){return e.type===this.type}substituteConstants(){return this}evaluate(e){return!1}serialize(){return"false"}keys(){return[]}map(e){return this}negate(){return Gt.INSTANCE}},Gt=class i{static INSTANCE=new i;type=1;constructor(){}cmp(e){return this.type-e.type}equals(e){return e.type===this.type}substituteConstants(){return this}evaluate(e){return!0}serialize(){return"true"}keys(){return[]}map(e){return this}negate(){return Bt.INSTANCE}},bo=class i{constructor(e,t){this.key=e;this.negated=t}static create(e,t=null){let n=Lt.get(e);return typeof n=="boolean"?n?Gt.INSTANCE:Bt.INSTANCE:new i(e,t)}type=2;cmp(e){return e.type!==this.type?this.type-e.type:yI(this.key,e.key)}equals(e){return e.type===this.type?this.key===e.key:!1}substituteConstants(){let e=Lt.get(this.key);return typeof e=="boolean"?e?Gt.INSTANCE:Bt.INSTANCE:this}evaluate(e){return!!e.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}map(e){return e.mapDefined(this.key)}negate(){return this.negated||(this.negated=vo.create(this.key,this)),this.negated}},el=class i{constructor(e,t,n){this.key=e;this.value=t;this.negated=n}static create(e,t,n=null){if(typeof t=="boolean")return t?bo.create(e,n):vo.create(e,n);let r=Lt.get(e);return typeof r=="boolean"?t===(r?"true":"false")?Gt.INSTANCE:Bt.INSTANCE:new i(e,t,n)}type=4;cmp(e){return e.type!==this.type?this.type-e.type:yo(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){let e=Lt.get(this.key);if(typeof e=="boolean"){let t=e?"true":"false";return this.value===t?Gt.INSTANCE:Bt.INSTANCE}return this}evaluate(e){return e.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}map(e){return e.mapEquals(this.key,this.value)}negate(){return this.negated||(this.negated=tl.create(this.key,this.value,this)),this.negated}},bc=class i{constructor(e,t){this.key=e;this.valueKey=t}static create(e,t){return new i(e,t)}type=10;negated=null;cmp(e){return e.type!==this.type?this.type-e.type:yo(this.key,this.valueKey,e.key,e.valueKey)}equals(e){return e.type===this.type?this.key===e.key&&this.valueKey===e.valueKey:!1}substituteConstants(){return this}evaluate(e){let t=e.getValue(this.valueKey),n=e.getValue(this.key);return Array.isArray(t)?t.includes(n):typeof n=="string"&&typeof t=="object"&&t!==null?XC.call(t,n):!1}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}map(e){return e.mapIn(this.key,this.valueKey)}negate(){return this.negated||(this.negated=vc.create(this.key,this.valueKey)),this.negated}},vc=class i{constructor(e,t){this.key=e;this.valueKey=t;this._negated=bc.create(e,t)}static create(e,t){return new i(e,t)}type=11;_negated;cmp(e){return e.type!==this.type?this.type-e.type:this._negated.cmp(e._negated)}equals(e){return e.type===this.type?this._negated.equals(e._negated):!1}substituteConstants(){return this}evaluate(e){return!this._negated.evaluate(e)}serialize(){return`${this.key} not in '${this.valueKey}'`}keys(){return this._negated.keys()}map(e){return e.mapNotIn(this.key,this.valueKey)}negate(){return this._negated}},tl=class i{constructor(e,t,n){this.key=e;this.value=t;this.negated=n}static create(e,t,n=null){if(typeof t=="boolean")return t?vo.create(e,n):bo.create(e,n);let r=Lt.get(e);return typeof r=="boolean"?t===(r?"true":"false")?Bt.INSTANCE:Gt.INSTANCE:new i(e,t,n)}type=5;cmp(e){return e.type!==this.type?this.type-e.type:yo(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){let e=Lt.get(this.key);if(typeof e=="boolean"){let t=e?"true":"false";return this.value===t?Bt.INSTANCE:Gt.INSTANCE}return this}evaluate(e){return e.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}map(e){return e.mapNotEquals(this.key,this.value)}negate(){return this.negated||(this.negated=el.create(this.key,this.value,this)),this.negated}},vo=class i{constructor(e,t){this.key=e;this.negated=t}static create(e,t=null){let n=Lt.get(e);return typeof n=="boolean"?n?Bt.INSTANCE:Gt.INSTANCE:new i(e,t)}type=3;cmp(e){return e.type!==this.type?this.type-e.type:yI(this.key,e.key)}equals(e){return e.type===this.type?this.key===e.key:!1}substituteConstants(){let e=Lt.get(this.key);return typeof e=="boolean"?e?Bt.INSTANCE:Gt.INSTANCE:this}evaluate(e){return!e.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}map(e){return e.mapNot(this.key)}negate(){return this.negated||(this.negated=bo.create(this.key,this)),this.negated}};function Ic(i,e){if(typeof i=="string"){let t=parseFloat(i);isNaN(t)||(i=t)}return typeof i=="string"||typeof i=="number"?e(i):Bt.INSTANCE}var nl=class i{constructor(e,t,n){this.key=e;this.value=t;this.negated=n}static create(e,t,n=null){return Ic(t,r=>new i(e,r,n))}type=12;cmp(e){return e.type!==this.type?this.type-e.type:yo(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}map(e){return e.mapGreater(this.key,this.value)}negate(){return this.negated||(this.negated=ol.create(this.key,this.value,this)),this.negated}},il=class i{constructor(e,t,n){this.key=e;this.value=t;this.negated=n}static create(e,t,n=null){return Ic(t,r=>new i(e,r,n))}type=13;cmp(e){return e.type!==this.type?this.type-e.type:yo(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}map(e){return e.mapGreaterEquals(this.key,this.value)}negate(){return this.negated||(this.negated=rl.create(this.key,this.value,this)),this.negated}},rl=class i{constructor(e,t,n){this.key=e;this.value=t;this.negated=n}static create(e,t,n=null){return Ic(t,r=>new i(e,r,n))}type=14;cmp(e){return e.type!==this.type?this.type-e.type:yo(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}map(e){return e.mapSmaller(this.key,this.value)}negate(){return this.negated||(this.negated=il.create(this.key,this.value,this)),this.negated}},ol=class i{constructor(e,t,n){this.key=e;this.value=t;this.negated=n}static create(e,t,n=null){return Ic(t,r=>new i(e,r,n))}type=15;cmp(e){return e.type!==this.type?this.type-e.type:yo(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}map(e){return e.mapSmallerEquals(this.key,this.value)}negate(){return this.negated||(this.negated=nl.create(this.key,this.value,this)),this.negated}},sl=class i{constructor(e,t){this.key=e;this.regexp=t}static create(e,t){return new i(e,t)}type=7;negated=null;cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.key<e.key)return-1;if(this.key>e.key)return 1;let t=this.regexp?this.regexp.source:"",n=e.regexp?e.regexp.source:"";return t<n?-1:t>n?1:0}equals(e){if(e.type===this.type){let t=this.regexp?this.regexp.source:"",n=e.regexp?e.regexp.source:"";return this.key===e.key&&t===n}return!1}substituteConstants(){return this}evaluate(e){let t=e.getValue(this.key);return this.regexp?this.regexp.test(t):!1}serialize(){let e=this.regexp?`/${this.regexp.source}/${this.regexp.flags}`:"/invalid/";return`${this.key} =~ ${e}`}keys(){return[this.key]}map(e){return e.mapRegex(this.key,this.regexp)}negate(){return this.negated||(this.negated=_g.create(this)),this.negated}},_g=class i{constructor(e){this._actual=e}static create(e){return new i(e)}type=8;cmp(e){return e.type!==this.type?this.type-e.type:this._actual.cmp(e._actual)}equals(e){return e.type===this.type?this._actual.equals(e._actual):!1}substituteConstants(){return this}evaluate(e){return!this._actual.evaluate(e)}serialize(){return`!(${this._actual.serialize()})`}keys(){return this._actual.keys()}map(e){return new i(this._actual.map(e))}negate(){return this._actual}};function vI(i){let e=null;for(let t=0,n=i.length;t<n;t++){let r=i[t].substituteConstants();if(i[t]!==r&&e===null){e=[];for(let o=0;o<t;o++)e[o]=i[o]}e!==null&&(e[t]=r)}return e===null?i:e}var yc=class i{constructor(e,t){this.expr=e;this.negated=t}static create(e,t,n){return i._normalizeArr(e,t,n)}type=6;cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.expr.length<e.expr.length)return-1;if(this.expr.length>e.expr.length)return 1;for(let t=0,n=this.expr.length;t<n;t++){let r=Ja(this.expr[t],e.expr[t]);if(r!==0)return r}return 0}equals(e){if(e.type===this.type){if(this.expr.length!==e.expr.length)return!1;for(let t=0,n=this.expr.length;t<n;t++)if(!this.expr[t].equals(e.expr[t]))return!1;return!0}return!1}substituteConstants(){let e=vI(this.expr);return e===this.expr?this:i.create(e,this.negated,!1)}evaluate(e){for(let t=0,n=this.expr.length;t<n;t++)if(!this.expr[t].evaluate(e))return!1;return!0}static _normalizeArr(e,t,n){let r=[],o=!1;for(let s of e)if(s){if(s.type===1){o=!0;continue}if(s.type===0)return Bt.INSTANCE;if(s.type===6){r.push(...s.expr);continue}r.push(s)}if(r.length===0&&o)return Gt.INSTANCE;if(r.length!==0){if(r.length===1)return r[0];r.sort(Ja);for(let s=1;s<r.length;s++)r[s-1].equals(r[s])&&(r.splice(s,1),s--);if(r.length===1)return r[0];for(;r.length>1;){let s=r[r.length-1];if(s.type!==9)break;r.pop();let a=r.pop(),l=r.length===0,c=al.create(s.expr.map(u=>i.create([u,a],null,n)),null,l);c&&(r.push(c),r.sort(Ja))}if(r.length===1)return r[0];if(n){for(let s=0;s<r.length;s++)for(let a=s+1;a<r.length;a++)if(r[s].negate().equals(r[a]))return Bt.INSTANCE;if(r.length===1)return r[0]}return new i(r,t)}}serialize(){return this.expr.map(e=>e.serialize()).join(" && ")}keys(){let e=[];for(let t of this.expr)e.push(...t.keys());return e}map(e){return new i(this.expr.map(t=>t.map(e)),null)}negate(){if(!this.negated){let e=[];for(let t of this.expr)e.push(t.negate());this.negated=al.create(e,this,!0)}return this.negated}},al=class i{constructor(e,t){this.expr=e;this.negated=t}static create(e,t,n){return i._normalizeArr(e,t,n)}type=9;cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.expr.length<e.expr.length)return-1;if(this.expr.length>e.expr.length)return 1;for(let t=0,n=this.expr.length;t<n;t++){let r=Ja(this.expr[t],e.expr[t]);if(r!==0)return r}return 0}equals(e){if(e.type===this.type){if(this.expr.length!==e.expr.length)return!1;for(let t=0,n=this.expr.length;t<n;t++)if(!this.expr[t].equals(e.expr[t]))return!1;return!0}return!1}substituteConstants(){let e=vI(this.expr);return e===this.expr?this:i.create(e,this.negated,!1)}evaluate(e){for(let t=0,n=this.expr.length;t<n;t++)if(this.expr[t].evaluate(e))return!0;return!1}static _normalizeArr(e,t,n){let r=[],o=!1;if(e){for(let s=0,a=e.length;s<a;s++){let l=e[s];if(l){if(l.type===0){o=!0;continue}if(l.type===1)return Gt.INSTANCE;if(l.type===9){r=r.concat(l.expr);continue}r.push(l)}}if(r.length===0&&o)return Bt.INSTANCE;r.sort(Ja)}if(r.length!==0){if(r.length===1)return r[0];for(let s=1;s<r.length;s++)r[s-1].equals(r[s])&&(r.splice(s,1),s--);if(r.length===1)return r[0];if(n){for(let s=0;s<r.length;s++)for(let a=s+1;a<r.length;a++)if(r[s].negate().equals(r[a]))return Gt.INSTANCE;if(r.length===1)return r[0]}return new i(r,t)}}serialize(){return this.expr.map(e=>e.serialize()).join(" || ")}keys(){let e=[];for(let t of this.expr)e.push(...t.keys());return e}map(e){return new i(this.expr.map(t=>t.map(e)),null)}negate(){if(!this.negated){let e=[];for(let t of this.expr)e.push(t.negate());for(;e.length>1;){let t=e.shift(),n=e.shift(),r=[];for(let o of bI(t))for(let s of bI(n))r.push(yc.create([o,s],null,!1));e.unshift(i.create(r,null,!1))}this.negated=i.create(e,this,!0)}return this.negated}},yi=class i extends bo{static _info=[];static all(){return i._info.values()}_defaultValue;constructor(e,t,n){super(e,null),this._defaultValue=t,typeof n=="object"?i._info.push({...n,key:e}):n!==!0&&i._info.push({key:e,description:n,type:t!=null?typeof t:void 0})}bindTo(e){return e.createKey(this.key,this._defaultValue)}getValue(e){return e.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(e){return el.create(this.key,e)}notEqualsTo(e){return tl.create(this.key,e)}},Xi=X("contextKeyService");function yI(i,e){return i<e?-1:i>e?1:0}function yo(i,e,t,n){return i<t?-1:i>t?1:e<n?-1:e>n?1:0}function bI(i){return i.type===9?i.expr:[i]}var II=X("accessibilityService");var FM=new yi("accessibilityModeEnabled",!1);var oS=X("environmentService"),ZM=oS;var xc=X("contextService");var xI="code-workspace",uN=`.${xI}`,hN=[{name:d("codeWorkspace","Code Workspace"),extensions:[xI]}];var Tc=X("configurationService");function TI(i){return i.replace(/[\[\]]/g,"")}var Lg=class{data=new Map;add(e,t){Ed(Dn(e)),Ed(qt(t)),Ed(!this.data.has(e),"There is already an extension with this id"),this.data.set(e,t)}knows(e){return this.data.has(e)}as(e){return this.data.get(e)||null}},tt=new Lg;var Io={JSONContribution:"base.contributions.json"};function aS(i){return i.length>0&&i.charAt(i.length-1)==="#"?i.substring(0,i.length-1):i}var Dg=class{schemasById;_onDidChangeSchema=new N;onDidChangeSchema=this._onDidChangeSchema.event;constructor(){this.schemasById={}}registerSchema(e,t){this.schemasById[aS(e)]=t,this._onDidChangeSchema.fire(e)}notifySchemaChanged(e){this._onDidChangeSchema.fire(e)}getSchemaContributions(){return{schemas:this.schemasById}}getSchemaContent(e){let t=this.schemasById[e];return t?gI(t):void 0}hasSchemaContent(e){return!!this.schemasById[e]}},lS=new Dg;tt.add(Io.JSONContribution,lS);var ON=X("policy");var Co={Configuration:"base.contributions.configuration"};var Sc={properties:{},patternProperties:{}},Ec={properties:{},patternProperties:{}},wc={properties:{},patternProperties:{}},kc={properties:{},patternProperties:{}},_c={properties:{},patternProperties:{}},ll={properties:{},patternProperties:{}},xo="vscode://schemas/settings/resourceLanguage";var Lc=tt.as(Io.JSONContribution),Rg=class{registeredConfigurationDefaults=[];configurationDefaultsOverrides;defaultLanguageConfigurationOverridesNode;configurationContributors;configurationProperties;policyConfigurations;excludedConfigurationProperties;resourceLanguageSettingsSchema;overrideIdentifiers=new Set;_onDidSchemaChange=new N;onDidSchemaChange=this._onDidSchemaChange.event;_onDidUpdateConfiguration=new N;onDidUpdateConfiguration=this._onDidUpdateConfiguration.event;constructor(){this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:d("defaultLanguageConfigurationOverrides.title","Default Language Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!0,allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.policyConfigurations=new Map,this.excludedConfigurationProperties={},Lc.registerSchema(xo,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}registerConfiguration(e,t=!0){this.registerConfigurations([e],t)}registerConfigurations(e,t=!0){let n=new Set;this.doRegisterConfigurations(e,t,n),Lc.registerSchema(xo,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:n})}deregisterConfigurations(e){let t=new Set;this.doDeregisterConfigurations(e,t),Lc.registerSchema(xo,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:t})}updateConfigurations({add:e,remove:t}){let n=new Set;this.doDeregisterConfigurations(t,n),this.doRegisterConfigurations(e,!1,n),Lc.registerSchema(xo,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:n})}registerDefaultConfigurations(e){let t=new Set;this.doRegisterDefaultConfigurations(e,t),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:t,defaultsOverrides:!0})}doRegisterDefaultConfigurations(e,t){this.registeredConfigurationDefaults.push(...e);let n=[];for(let{overrides:r,source:o}of e)for(let s in r){t.add(s);let a=this.configurationDefaultsOverrides.get(s)??this.configurationDefaultsOverrides.set(s,{configurationDefaultOverrides:[]}).get(s),l=r[s];if(a.configurationDefaultOverrides.push({value:l,source:o}),dl.test(s)){let c=this.mergeDefaultConfigurationsForOverrideIdentifier(s,l,o,a.configurationDefaultOverrideValue);if(!c)continue;a.configurationDefaultOverrideValue=c,this.updateDefaultOverrideProperty(s,c,o),n.push(...dS(s))}else{let c=this.mergeDefaultConfigurationsForConfigurationProperty(s,l,o,a.configurationDefaultOverrideValue);if(!c)continue;a.configurationDefaultOverrideValue=c;let u=this.configurationProperties[s];u&&(this.updatePropertyDefaultValue(s,u),this.updateSchema(s,u))}}this.doRegisterOverrideIdentifiers(n)}deregisterDefaultConfigurations(e){let t=new Set;this.doDeregisterDefaultConfigurations(e,t),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:t,defaultsOverrides:!0})}doDeregisterDefaultConfigurations(e,t){for(let n of e){let r=this.registeredConfigurationDefaults.indexOf(n);r!==-1&&this.registeredConfigurationDefaults.splice(r,1)}for(let{overrides:n,source:r}of e)for(let o in n){let s=this.configurationDefaultsOverrides.get(o);if(!s)continue;let a=s.configurationDefaultOverrides.findIndex(l=>r?l.source?.id===r.id:l.value===n[o]);if(a!==-1){if(s.configurationDefaultOverrides.splice(a,1),s.configurationDefaultOverrides.length===0&&this.configurationDefaultsOverrides.delete(o),dl.test(o)){let l;for(let c of s.configurationDefaultOverrides)l=this.mergeDefaultConfigurationsForOverrideIdentifier(o,c.value,c.source,l);l&&!dy(l.value)?(s.configurationDefaultOverrideValue=l,this.updateDefaultOverrideProperty(o,l,r)):(this.configurationDefaultsOverrides.delete(o),delete this.configurationProperties[o],delete this.defaultLanguageConfigurationOverridesNode.properties[o])}else{let l;for(let u of s.configurationDefaultOverrides)l=this.mergeDefaultConfigurationsForConfigurationProperty(o,u.value,u.source,l);s.configurationDefaultOverrideValue=l;let c=this.configurationProperties[o];c&&(this.updatePropertyDefaultValue(o,c),this.updateSchema(o,c))}t.add(o)}}this.updateOverridePropertyPatternKey()}updateDefaultOverrideProperty(e,t,n){let r={type:"object",default:t.value,description:d("defaultLanguageConfiguration.description","Configure settings to be overridden for the {0} language.",TI(e)),$ref:xo,defaultDefaultValue:t.value,source:n,defaultValueSource:n};this.configurationProperties[e]=r,this.defaultLanguageConfigurationOverridesNode.properties[e]=r}mergeDefaultConfigurationsForOverrideIdentifier(e,t,n,r){let o=r?.value||{},s=r?.source??new Map;if(!(s instanceof Map)){console.error("objectConfigurationSources is not a Map");return}for(let a of Object.keys(t)){let l=t[a];if(qt(l)&&(ls(o[a])||qt(o[a]))){if(o[a]={...o[a]??{},...l},n)for(let u in l)s.set(`${a}.${u}`,n)}else o[a]=l,n?s.set(a,n):s.delete(a)}return{value:o,source:s}}mergeDefaultConfigurationsForConfigurationProperty(e,t,n,r){let o=this.configurationProperties[e],s=r?.value??o?.defaultDefaultValue,a=n;if(qt(t)&&(o!==void 0&&o.type==="object"||o===void 0&&(ls(s)||qt(s)))){if(a=r?.source??new Map,!(a instanceof Map)){console.error("defaultValueSource is not a Map");return}for(let c in t)n&&a.set(`${e}.${c}`,n);t={...qt(s)?s:{},...t}}return{value:t,source:a}}deltaConfiguration(e){let t=!1,n=new Set;e.removedDefaults&&(this.doDeregisterDefaultConfigurations(e.removedDefaults,n),t=!0),e.addedDefaults&&(this.doRegisterDefaultConfigurations(e.addedDefaults,n),t=!0),e.removedConfigurations&&this.doDeregisterConfigurations(e.removedConfigurations,n),e.addedConfigurations&&this.doRegisterConfigurations(e.addedConfigurations,!1,n),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:n,defaultsOverrides:t})}notifyConfigurationSchemaUpdated(...e){this._onDidSchemaChange.fire()}registerOverrideIdentifiers(e){this.doRegisterOverrideIdentifiers(e),this._onDidSchemaChange.fire()}doRegisterOverrideIdentifiers(e){for(let t of e)this.overrideIdentifiers.add(t);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(e,t,n){e.forEach(r=>{this.validateAndRegisterProperties(r,t,r.extensionInfo,r.restrictedProperties,void 0,n),this.configurationContributors.push(r),this.registerJSONConfiguration(r)})}doDeregisterConfigurations(e,t){let n=r=>{if(r.properties)for(let o in r.properties){t.add(o);let s=this.configurationProperties[o];s?.policy?.name&&this.policyConfigurations.delete(s.policy.name),delete this.configurationProperties[o],this.removeFromSchema(o,r.properties[o])}r.allOf?.forEach(o=>n(o))};for(let r of e){n(r);let o=this.configurationContributors.indexOf(r);o!==-1&&this.configurationContributors.splice(o,1)}}validateAndRegisterProperties(e,t=!0,n,r,o=3,s){o=Ir(e.scope)?o:e.scope;let a=e.properties;if(a)for(let c in a){let u=a[c];if(t&&uS(c,u)){delete a[c];continue}if(u.source=n,u.defaultDefaultValue=a[c].default,this.updatePropertyDefaultValue(c,u),dl.test(c)?u.scope=void 0:(u.scope=Ir(u.scope)?o:u.scope,u.restricted=Ir(u.restricted)?!!r?.includes(c):u.restricted),a[c].hasOwnProperty("included")&&!a[c].included){this.excludedConfigurationProperties[c]=a[c],delete a[c];continue}else this.configurationProperties[c]=a[c],a[c].policy?.name&&this.policyConfigurations.set(a[c].policy.name,c);!a[c].deprecationMessage&&a[c].markdownDeprecationMessage&&(a[c].deprecationMessage=a[c].markdownDeprecationMessage),s.add(c)}let l=e.allOf;if(l)for(let c of l)this.validateAndRegisterProperties(c,t,n,r,o,s)}getConfigurations(){return this.configurationContributors}getConfigurationProperties(){return this.configurationProperties}getPolicyConfigurations(){return this.policyConfigurations}getExcludedConfigurationProperties(){return this.excludedConfigurationProperties}getRegisteredDefaultConfigurations(){return[...this.registeredConfigurationDefaults]}getConfigurationDefaultsOverrides(){let e=new Map;for(let[t,n]of this.configurationDefaultsOverrides)n.configurationDefaultOverrideValue&&e.set(t,n.configurationDefaultOverrideValue);return e}registerJSONConfiguration(e){let t=n=>{let r=n.properties;if(r)for(let s in r)this.updateSchema(s,r[s]);n.allOf?.forEach(t)};t(e)}updateSchema(e,t){switch(Sc.properties[e]=t,t.scope){case 1:Ec.properties[e]=t;break;case 2:wc.properties[e]=t;break;case 6:kc.properties[e]=t;break;case 3:_c.properties[e]=t;break;case 4:ll.properties[e]=t;break;case 5:ll.properties[e]=t,this.resourceLanguageSettingsSchema.properties[e]=t;break}}removeFromSchema(e,t){switch(delete Sc.properties[e],t.scope){case 1:delete Ec.properties[e];break;case 2:delete wc.properties[e];break;case 6:delete kc.properties[e];break;case 3:delete _c.properties[e];break;case 4:case 5:delete ll.properties[e],delete this.resourceLanguageSettingsSchema.properties[e];break}}updateOverridePropertyPatternKey(){for(let e of this.overrideIdentifiers.values()){let t=`[${e}]`,n={type:"object",description:d("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:d("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:xo};this.updatePropertyDefaultValue(t,n),Sc.properties[t]=n,Ec.properties[t]=n,wc.properties[t]=n,kc.properties[t]=n,_c.properties[t]=n,ll.properties[t]=n}}registerOverridePropertyPatternKey(){let e={type:"object",description:d("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:d("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:xo};Sc.patternProperties[To]=e,Ec.patternProperties[To]=e,wc.patternProperties[To]=e,kc.patternProperties[To]=e,_c.patternProperties[To]=e,ll.patternProperties[To]=e,this._onDidSchemaChange.fire()}updatePropertyDefaultValue(e,t){let n=this.configurationDefaultsOverrides.get(e)?.configurationDefaultOverrideValue,r,o;n&&(!t.disallowConfigurationDefault||!n.source)&&(r=n.value,o=n.source),ls(r)&&(r=t.defaultDefaultValue,o=void 0),ls(r)&&(r=cS(t.type)),t.default=r,t.defaultValueSource=o}},SI="\\[([^\\]]+)\\]",CI=new RegExp(SI,"g"),To=`^(${SI})+$`,dl=new RegExp(To);function dS(i){let e=[];if(dl.test(i)){let t=CI.exec(i);for(;t?.length;){let n=t[1].trim();n&&e.push(n),t=CI.exec(i)}}return cr(e)}function cS(i){switch(Array.isArray(i)?i[0]:i){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}var Dc=new Rg;tt.add(Co.Configuration,Dc);function uS(i,e){return i.trim()?dl.test(i)?d("config.property.languageDefault","Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",i):Dc.getConfigurationProperties()[i]!==void 0?d("config.property.duplicate","Cannot register '{0}'. This property is already registered.",i):e.policy?.name&&Dc.getPolicyConfigurations().get(e.policy?.name)!==void 0?d("config.policy.duplicate","Cannot register '{0}'. The associated policy {1} is already registered with {2}.",i,e.policy?.name,Dc.getPolicyConfigurations().get(e.policy?.name)):null:d("config.property.empty","Cannot register an empty property")}var pS=8,Rc=class{_values;constructor(e){this._values=e}hasChanged(e){return this._values[e]}},cl=class{stableMinimapLayoutInput;stableFitMaxMinimapScale;stableFitRemainingWidth;constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}},Me=class{id;name;defaultValue;schema;constructor(e,t,n,r){this.id=e,this.name=t,this.defaultValue=n,this.schema=r}applyUpdate(e,t){return Ac(e,t)}compute(e,t,n){return n}},vs=class{constructor(e,t){this.newValue=e;this.didChange=t}};function Ac(i,e){if(typeof i!="object"||typeof e!="object"||!i||!e)return new vs(e,i!==e);if(Array.isArray(i)||Array.isArray(e)){let n=Array.isArray(i)&&Array.isArray(e)&&Cn(i,e);return new vs(e,!n)}let t=!1;for(let n in e)if(e.hasOwnProperty(n)){let r=Ac(i[n],e[n]);r.didChange&&(i[n]=r.newValue,t=!0)}return new vs(i,t)}var Eo=class{id;name;defaultValue;schema=void 0;constructor(e){this.id=e,this.name="_never_",this.defaultValue=void 0}applyUpdate(e,t){return Ac(e,t)}validate(e){return this.defaultValue}},_r=class{id;name;defaultValue;schema;constructor(e,t,n,r){this.id=e,this.name=t,this.defaultValue=n,this.schema=r}applyUpdate(e,t){return Ac(e,t)}validate(e){return typeof e>"u"?this.defaultValue:e}compute(e,t,n){return n}};function $(i,e){return typeof i>"u"?e:i==="false"?!1:!!i}var ge=class extends _r{constructor(e,t,n,r=void 0){typeof r<"u"&&(r.type="boolean",r.default=n),super(e,t,n,r)}validate(e){return $(e,this.defaultValue)}};function gS(i,e,t,n){if(typeof i>"u")return e;let r=parseInt(i,10);return isNaN(r)?e:(r=Math.max(t,r),r=Math.min(n,r),r|0)}var Ae=class i extends _r{static clampedInt(e,t,n,r){return gS(e,t,n,r)}minimum;maximum;constructor(e,t,n,r,o,s=void 0){typeof s<"u"&&(s.type="integer",s.default=n,s.minimum=r,s.maximum=o),super(e,t,n,s),this.minimum=r,this.maximum=o}validate(e){return i.clampedInt(e,this.defaultValue,this.minimum,this.maximum)}};var Mn=class i extends _r{static clamp(e,t,n){return e<t?t:e>n?n:e}static float(e,t){if(typeof e=="number")return e;if(typeof e>"u")return t;let n=parseFloat(e);return isNaN(n)?t:n}validationFn;constructor(e,t,n,r,o){typeof o<"u"&&(o.type="number",o.default=n),super(e,t,n,o),this.validationFn=r}validate(e){return this.validationFn(i.float(e,this.defaultValue))}},Mt=class i extends _r{static string(e,t){return typeof e!="string"?t:e}constructor(e,t,n,r=void 0){typeof r<"u"&&(r.type="string",r.default=n),super(e,t,n,r)}validate(e){return i.string(e,this.defaultValue)}};function Qe(i,e,t,n){return typeof i!="string"?e:n&&i in n?n[i]:t.indexOf(i)===-1?e:i}var He=class extends _r{_allowedValues;constructor(e,t,n,r,o=void 0){typeof o<"u"&&(o.type="string",o.enum=r,o.default=n),super(e,t,n,o),this._allowedValues=r}validate(e){return Qe(e,this.defaultValue,this._allowedValues)}},bs=class extends Me{_allowedValues;_convert;constructor(e,t,n,r,o,s,a=void 0){typeof a<"u"&&(a.type="string",a.enum=o,a.default=r),super(e,t,n,a),this._allowedValues=o,this._convert=s}validate(e){return typeof e!="string"?this.defaultValue:this._allowedValues.indexOf(e)===-1?this.defaultValue:this._convert(e)}};function fS(i){switch(i){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}}var Ag=class extends Me{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[d("accessibilitySupport.auto","Use platform APIs to detect when a Screen Reader is attached."),d("accessibilitySupport.on","Optimize for usage with a Screen Reader."),d("accessibilitySupport.off","Assume a screen reader is not attached.")],default:"auto",tags:["accessibility"],description:d("accessibilitySupport","Controls if the UI should run in a mode where it is optimized for screen readers.")})}validate(e){switch(e){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(e,t,n){return n===0?e.accessibilitySupport:n}},Og=class extends Me{constructor(){let e={insertSpace:!0,ignoreEmptyLines:!0};super(23,"comments",e,{"editor.comments.insertSpace":{type:"boolean",default:e.insertSpace,description:d("comments.insertSpace","Controls whether a space character is inserted when commenting.")},"editor.comments.ignoreEmptyLines":{type:"boolean",default:e.ignoreEmptyLines,description:d("comments.ignoreEmptyLines","Controls if empty lines should be ignored with toggle, add or remove actions for line comments.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;let t=e;return{insertSpace:$(t.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:$(t.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}};function mS(i){switch(i){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}}function bS(i){switch(i){case"line":return 1;case"block":return 2;case"underline":return 3;case"line-thin":return 4;case"block-outline":return 5;case"underline-thin":return 6}}var Mg=class extends Eo{constructor(){super(144)}compute(e,t,n){let r=["monaco-editor"];return t.get(40)&&r.push(t.get(40)),e.extraEditorClassName&&r.push(e.extraEditorClassName),t.get(75)==="default"?r.push("mouse-default"):t.get(75)==="copy"&&r.push("mouse-copy"),t.get(113)&&r.push("showUnused"),t.get(142)&&r.push("showDeprecated"),r.join(" ")}},Ng=class extends ge{constructor(){super(38,"emptySelectionClipboard",!0,{description:d("emptySelectionClipboard","Controls whether copying without a selection copies the current line.")})}compute(e,t,n){return n&&e.emptySelectionClipboard}},Pg=class extends Me{constructor(){let e={cursorMoveOnType:!0,seedSearchStringFromSelection:"always",autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(42,"find",e,{"editor.find.cursorMoveOnType":{type:"boolean",default:e.cursorMoveOnType,description:d("find.cursorMoveOnType","Controls whether the cursor should jump to find matches while typing.")},"editor.find.seedSearchStringFromSelection":{type:"string",enum:["never","always","selection"],default:e.seedSearchStringFromSelection,enumDescriptions:[d("editor.find.seedSearchStringFromSelection.never","Never seed search string from the editor selection."),d("editor.find.seedSearchStringFromSelection.always","Always seed search string from the editor selection, including word at cursor position."),d("editor.find.seedSearchStringFromSelection.selection","Only seed search string from the editor selection.")],description:d("find.seedSearchStringFromSelection","Controls whether the search string in the Find Widget is seeded from the editor selection.")},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:e.autoFindInSelection,enumDescriptions:[d("editor.find.autoFindInSelection.never","Never turn on Find in Selection automatically (default)."),d("editor.find.autoFindInSelection.always","Always turn on Find in Selection automatically."),d("editor.find.autoFindInSelection.multiline","Turn on Find in Selection automatically when multiple lines of content are selected.")],description:d("find.autoFindInSelection","Controls the condition for turning on Find in Selection automatically.")},"editor.find.globalFindClipboard":{type:"boolean",default:e.globalFindClipboard,description:d("find.globalFindClipboard","Controls whether the Find Widget should read or modify the shared find clipboard on macOS."),included:Se},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:e.addExtraSpaceOnTop,description:d("find.addExtraSpaceOnTop","Controls whether the Find Widget should add extra lines on top of the editor. When true, you can scroll beyond the first line when the Find Widget is visible.")},"editor.find.loop":{type:"boolean",default:e.loop,description:d("find.loop","Controls whether the search automatically restarts from the beginning (or the end) when no further matches can be found.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;let t=e;return{cursorMoveOnType:$(t.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:typeof e.seedSearchStringFromSelection=="boolean"?e.seedSearchStringFromSelection?"always":"never":Qe(t.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection,["never","always","selection"]),autoFindInSelection:typeof e.autoFindInSelection=="boolean"?e.autoFindInSelection?"always":"never":Qe(t.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:$(t.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:$(t.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:$(t.loop,this.defaultValue.loop)}}},ul=class i extends Me{static OFF='"liga" off, "calt" off';static ON='"liga" on, "calt" on';constructor(){super(52,"fontLigatures",i.OFF,{anyOf:[{type:"boolean",description:d("fontLigatures","Enables/Disables font ligatures ('calt' and 'liga' font features). Change this to a string for fine-grained control of the 'font-feature-settings' CSS property.")},{type:"string",description:d("fontFeatureSettings","Explicit 'font-feature-settings' CSS property. A boolean can be passed instead if one only needs to turn on/off ligatures.")}],description:d("fontLigaturesGeneral","Configures font ligatures or font features. Can be either a boolean to enable/disable ligatures or a string for the value of the CSS 'font-feature-settings' property."),default:!1})}validate(e){return typeof e>"u"?this.defaultValue:typeof e=="string"?e==="false"||e.length===0?i.OFF:e==="true"?i.ON:e:e?i.ON:i.OFF}},Is=class i extends Me{static OFF="normal";static TRANSLATE="translate";constructor(){super(55,"fontVariations",i.OFF,{anyOf:[{type:"boolean",description:d("fontVariations","Enables/Disables the translation from font-weight to font-variation-settings. Change this to a string for fine-grained control of the 'font-variation-settings' CSS property.")},{type:"string",description:d("fontVariationSettings","Explicit 'font-variation-settings' CSS property. A boolean can be passed instead if one only needs to translate font-weight to font-variation-settings.")}],description:d("fontVariationsGeneral","Configures font variations. Can be either a boolean to enable/disable the translation from font-weight to font-variation-settings or a string for the value of the CSS 'font-variation-settings' property."),default:!1})}validate(e){return typeof e>"u"?this.defaultValue:typeof e=="string"?e==="false"?i.OFF:e==="true"?i.TRANSLATE:e:e?i.TRANSLATE:i.OFF}compute(e,t,n){return e.fontInfo.fontVariationSettings}},Fg=class extends Eo{constructor(){super(51)}compute(e,t,n){return e.fontInfo}},Bg=class extends _r{constructor(){super(53,"fontSize",Xn.fontSize,{type:"number",minimum:6,maximum:100,default:Xn.fontSize,description:d("fontSize","Controls the font size in pixels.")})}validate(e){let t=Mn.float(e,this.defaultValue);return t===0?Xn.fontSize:Mn.clamp(t,6,100)}compute(e,t,n){return e.fontInfo.fontSize}},zg=class i extends Me{static SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"];static MINIMUM_VALUE=1;static MAXIMUM_VALUE=1e3;constructor(){super(54,"fontWeight",Xn.fontWeight,{anyOf:[{type:"number",minimum:i.MINIMUM_VALUE,maximum:i.MAXIMUM_VALUE,errorMessage:d("fontWeightErrorMessage",'Only "normal" and "bold" keywords or numbers between 1 and 1000 are allowed.')},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:i.SUGGESTION_VALUES}],default:Xn.fontWeight,description:d("fontWeight",'Controls the font weight. Accepts "normal" and "bold" keywords or numbers between 1 and 1000.')})}validate(e){return e==="normal"||e==="bold"?e:String(Ae.clampedInt(e,Xn.fontWeight,i.MINIMUM_VALUE,i.MAXIMUM_VALUE))}},Ug=class extends Me{constructor(){let e={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",multipleTests:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:"",alternativeTestsCommand:""},t={type:"string",enum:["peek","gotoAndPeek","goto"],default:e.multiple,enumDescriptions:[d("editor.gotoLocation.multiple.peek","Show Peek view of the results (default)"),d("editor.gotoLocation.multiple.gotoAndPeek","Go to the primary result and show a Peek view"),d("editor.gotoLocation.multiple.goto","Go to the primary result and enable Peek-less navigation to others")]},n=["","editor.action.referenceSearch.trigger","editor.action.goToReferences","editor.action.peekImplementation","editor.action.goToImplementation","editor.action.peekTypeDefinition","editor.action.goToTypeDefinition","editor.action.peekDeclaration","editor.action.revealDeclaration","editor.action.peekDefinition","editor.action.revealDefinitionAside","editor.action.revealDefinition"];super(59,"gotoLocation",e,{"editor.gotoLocation.multiple":{deprecationMessage:d("editor.gotoLocation.multiple.deprecated","This setting is deprecated, please use separate settings like 'editor.editor.gotoLocation.multipleDefinitions' or 'editor.editor.gotoLocation.multipleImplementations' instead.")},"editor.gotoLocation.multipleDefinitions":{description:d("editor.editor.gotoLocation.multipleDefinitions","Controls the behavior the 'Go to Definition'-command when multiple target locations exist."),...t},"editor.gotoLocation.multipleTypeDefinitions":{description:d("editor.editor.gotoLocation.multipleTypeDefinitions","Controls the behavior the 'Go to Type Definition'-command when multiple target locations exist."),...t},"editor.gotoLocation.multipleDeclarations":{description:d("editor.editor.gotoLocation.multipleDeclarations","Controls the behavior the 'Go to Declaration'-command when multiple target locations exist."),...t},"editor.gotoLocation.multipleImplementations":{description:d("editor.editor.gotoLocation.multipleImplemenattions","Controls the behavior the 'Go to Implementations'-command when multiple target locations exist."),...t},"editor.gotoLocation.multipleReferences":{description:d("editor.editor.gotoLocation.multipleReferences","Controls the behavior the 'Go to References'-command when multiple target locations exist."),...t},"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:e.alternativeDefinitionCommand,enum:n,description:d("alternativeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Definition' is the current location.")},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:e.alternativeTypeDefinitionCommand,enum:n,description:d("alternativeTypeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Type Definition' is the current location.")},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:e.alternativeDeclarationCommand,enum:n,description:d("alternativeDeclarationCommand","Alternative command id that is being executed when the result of 'Go to Declaration' is the current location.")},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:e.alternativeImplementationCommand,enum:n,description:d("alternativeImplementationCommand","Alternative command id that is being executed when the result of 'Go to Implementation' is the current location.")},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:e.alternativeReferenceCommand,enum:n,description:d("alternativeReferenceCommand","Alternative command id that is being executed when the result of 'Go to Reference' is the current location.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;let t=e;return{multiple:Qe(t.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:t.multipleDefinitions??Qe(t.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:t.multipleTypeDefinitions??Qe(t.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:t.multipleDeclarations??Qe(t.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:t.multipleImplementations??Qe(t.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:t.multipleReferences??Qe(t.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),multipleTests:t.multipleTests??Qe(t.multipleTests,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:Mt.string(t.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:Mt.string(t.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:Mt.string(t.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:Mt.string(t.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:Mt.string(t.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand),alternativeTestsCommand:Mt.string(t.alternativeTestsCommand,this.defaultValue.alternativeTestsCommand)}}},Wg=class extends Me{constructor(){let e={enabled:!0,delay:300,hidingDelay:300,sticky:!0,above:!0};super(61,"hover",e,{"editor.hover.enabled":{type:"boolean",default:e.enabled,description:d("hover.enabled","Controls whether the hover is shown.")},"editor.hover.delay":{type:"number",default:e.delay,minimum:0,maximum:1e4,description:d("hover.delay","Controls the delay in milliseconds after which the hover is shown.")},"editor.hover.sticky":{type:"boolean",default:e.sticky,description:d("hover.sticky","Controls whether the hover should remain visible when mouse is moved over it.")},"editor.hover.hidingDelay":{type:"integer",minimum:0,default:e.hidingDelay,description:d("hover.hidingDelay","Controls the delay in milliseconds after which the hover is hidden. Requires `editor.hover.sticky` to be enabled.")},"editor.hover.above":{type:"boolean",default:e.above,description:d("hover.above","Prefer showing hovers above the line, if there's space.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;let t=e;return{enabled:$(t.enabled,this.defaultValue.enabled),delay:Ae.clampedInt(t.delay,this.defaultValue.delay,0,1e4),sticky:$(t.sticky,this.defaultValue.sticky),hidingDelay:Ae.clampedInt(t.hidingDelay,this.defaultValue.hidingDelay,0,6e5),above:$(t.above,this.defaultValue.above)}}};var Hg=class i extends Eo{constructor(){super(147)}compute(e,t,n){return i.computeLayout(t,{memory:e.memory,outerWidth:e.outerWidth,outerHeight:e.outerHeight,isDominatedByLongLines:e.isDominatedByLongLines,lineHeight:e.fontInfo.lineHeight,viewLineCount:e.viewLineCount,lineNumbersDigitCount:e.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:e.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:e.fontInfo.maxDigitWidth,pixelRatio:e.pixelRatio,glyphMarginDecorationLaneCount:e.glyphMarginDecorationLaneCount})}static computeContainedMinimapLineCount(e){let t=e.height/e.lineHeight,n=Math.floor(e.paddingTop/e.lineHeight),r=Math.floor(e.paddingBottom/e.lineHeight);e.scrollBeyondLastLine&&(r=Math.max(r,t-1));let o=(n+e.viewLineCount+r)/(e.pixelRatio*e.height),s=Math.floor(e.viewLineCount/o);return{typicalViewportLineCount:t,extraLinesBeforeFirstLine:n,extraLinesBeyondLastLine:r,desiredRatio:o,minimapLineCount:s}}static _computeMinimapLayout(e,t){let n=e.outerWidth,r=e.outerHeight,o=e.pixelRatio;if(!e.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(o*r),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:r};let s=t.stableMinimapLayoutInput,a=s&&e.outerHeight===s.outerHeight&&e.lineHeight===s.lineHeight&&e.typicalHalfwidthCharacterWidth===s.typicalHalfwidthCharacterWidth&&e.pixelRatio===s.pixelRatio&&e.scrollBeyondLastLine===s.scrollBeyondLastLine&&e.paddingTop===s.paddingTop&&e.paddingBottom===s.paddingBottom&&e.minimap.enabled===s.minimap.enabled&&e.minimap.side===s.minimap.side&&e.minimap.size===s.minimap.size&&e.minimap.showSlider===s.minimap.showSlider&&e.minimap.renderCharacters===s.minimap.renderCharacters&&e.minimap.maxColumn===s.minimap.maxColumn&&e.minimap.scale===s.minimap.scale&&e.verticalScrollbarWidth===s.verticalScrollbarWidth&&e.isViewportWrapping===s.isViewportWrapping,l=e.lineHeight,c=e.typicalHalfwidthCharacterWidth,u=e.scrollBeyondLastLine,p=e.minimap.renderCharacters,g=o>=2?Math.round(e.minimap.scale*2):e.minimap.scale,f=e.minimap.maxColumn,T=e.minimap.size,m=e.minimap.side,x=e.verticalScrollbarWidth,w=e.viewLineCount,k=e.remainingWidth,L=e.isViewportWrapping,A=p?2:3,M=Math.floor(o*r),P=M/o,ie=!1,ee=!1,te=A*g,ne=g/o,ye=1;if(T==="fill"||T==="fit"){let{typicalViewportLineCount:W,extraLinesBeforeFirstLine:K,extraLinesBeyondLastLine:he,desiredRatio:le,minimapLineCount:Be}=i.computeContainedMinimapLineCount({viewLineCount:w,scrollBeyondLastLine:u,paddingTop:e.paddingTop,paddingBottom:e.paddingBottom,height:r,lineHeight:l,pixelRatio:o});if(w/Be>1)ie=!0,ee=!0,g=1,te=1,ne=g/o;else{let J=!1,Pt=g+1;if(T==="fit"){let wt=Math.ceil((K+w+he)*te);L&&a&&k<=t.stableFitRemainingWidth?(J=!0,Pt=t.stableFitMaxMinimapScale):J=wt>M}if(T==="fill"||J){ie=!0;let wt=g;te=Math.min(l*o,Math.max(1,Math.floor(1/le))),L&&a&&k<=t.stableFitRemainingWidth&&(Pt=t.stableFitMaxMinimapScale),g=Math.min(Pt,Math.max(1,Math.floor(te/A))),g>wt&&(ye=Math.min(2,g/wt)),ne=g/o/ye,M=Math.ceil(Math.max(W,K+w+he)*te),L?(t.stableMinimapLayoutInput=e,t.stableFitRemainingWidth=k,t.stableFitMaxMinimapScale=g):(t.stableMinimapLayoutInput=null,t.stableFitRemainingWidth=0)}}}let Ke=Math.floor(f*ne),qe=Math.min(Ke,Math.max(0,Math.floor((k-x-2)*ne/(c+ne)))+pS),Ye=Math.floor(o*qe),G=Ye/o;Ye=Math.floor(Ye*ye);let F=p?1:2,V=m==="left"?0:n-qe-x;return{renderMinimap:F,minimapLeft:V,minimapWidth:qe,minimapHeightIsEditorHeight:ie,minimapIsSampling:ee,minimapScale:g,minimapLineHeight:te,minimapCanvasInnerWidth:Ye,minimapCanvasInnerHeight:M,minimapCanvasOuterWidth:G,minimapCanvasOuterHeight:P}}static computeLayout(e,t){let n=t.outerWidth|0,r=t.outerHeight|0,o=t.lineHeight|0,s=t.lineNumbersDigitCount|0,a=t.typicalHalfwidthCharacterWidth,l=t.maxDigitWidth,c=t.pixelRatio,u=t.viewLineCount,p=e.get(139),g=p==="inherit"?e.get(138):p,f=g==="inherit"?e.get(134):g,T=e.get(137),m=t.isDominatedByLongLines,x=e.get(58),w=e.get(69).renderType!==0,k=e.get(70),L=e.get(107),A=e.get(85),M=e.get(74),P=e.get(105),ie=P.verticalScrollbarSize,ee=P.verticalHasArrows,te=P.arrowSize,ne=P.horizontalScrollbarSize,ye=e.get(44),Ke=e.get(112)!=="never",qe=e.get(67);ye&&Ke&&(qe+=16);let Ye=0;if(w){let _n=Math.max(s,k);Ye=Math.round(_n*l)}let G=0;x&&(G=o*t.glyphMarginDecorationLaneCount);let F=0,V=F+G,W=V+Ye,K=W+qe,he=n-G-Ye-qe,le=!1,Be=!1,ve=-1;g==="inherit"&&m?(le=!0,Be=!0):f==="on"||f==="bounded"?Be=!0:f==="wordWrapColumn"&&(ve=T);let J=i._computeMinimapLayout({outerWidth:n,outerHeight:r,lineHeight:o,typicalHalfwidthCharacterWidth:a,pixelRatio:c,scrollBeyondLastLine:L,paddingTop:A.top,paddingBottom:A.bottom,minimap:M,verticalScrollbarWidth:ie,viewLineCount:u,remainingWidth:he,isViewportWrapping:Be},t.memory||new cl);J.renderMinimap!==0&&J.minimapLeft===0&&(F+=J.minimapWidth,V+=J.minimapWidth,W+=J.minimapWidth,K+=J.minimapWidth);let Pt=he-J.minimapWidth,wt=Math.max(1,Math.floor((Pt-ie-2)/a)),Un=ee?te:0;return Be&&(ve=Math.max(1,wt),f==="bounded"&&(ve=Math.min(ve,T))),{width:n,height:r,glyphMarginLeft:F,glyphMarginWidth:G,glyphMarginDecorationLaneCount:t.glyphMarginDecorationLaneCount,lineNumbersLeft:V,lineNumbersWidth:Ye,decorationsLeft:W,decorationsWidth:qe,contentLeft:K,contentWidth:Pt,minimap:J,viewportColumn:wt,isWordWrapMinified:le,isViewportWrapping:Be,wrappingColumn:ve,verticalScrollbarWidth:ie,horizontalScrollbarHeight:ne,overviewRuler:{top:Un,width:ie,height:r-2*Un,right:0}}}},Vg=class extends Me{constructor(){super(141,"wrappingStrategy","simple",{"editor.wrappingStrategy":{enumDescriptions:[d("wrappingStrategy.simple","Assumes that all characters are of the same width. This is a fast algorithm that works correctly for monospace fonts and certain scripts (like Latin characters) where glyphs are of equal width."),d("wrappingStrategy.advanced","Delegates wrapping points computation to the browser. This is a slow algorithm, that might cause freezes for large files, but it works correctly in all cases.")],type:"string",enum:["simple","advanced"],default:"simple",description:d("wrappingStrategy","Controls the algorithm that computes wrapping points. Note that when in accessibility mode, advanced will be used for the best experience.")}})}validate(e){return Qe(e,"simple",["simple","advanced"])}compute(e,t,n){return t.get(2)===2?"advanced":n}};var Kg=class extends Me{constructor(){let e={enabled:"onCode"};super(66,"lightbulb",e,{"editor.lightbulb.enabled":{type:"string",tags:["experimental"],enum:["off","onCode","on"],default:e.enabled,enumDescriptions:[d("editor.lightbulb.enabled.off","Disable the code action menu."),d("editor.lightbulb.enabled.onCode","Show the code action menu when the cursor is on lines with code."),d("editor.lightbulb.enabled.on","Show the code action menu when the cursor is on lines with code or on empty lines.")],description:d("enabled","Enables the Code Action lightbulb in the editor.")}})}validate(e){return!e||typeof e!="object"?this.defaultValue:{enabled:Qe(e.enabled,this.defaultValue.enabled,["off","onCode","on"])}}},qg=class extends Me{constructor(){let e={enabled:!0,maxLineCount:5,defaultModel:"outlineModel",scrollWithEditor:!0};super(117,"stickyScroll",e,{"editor.stickyScroll.enabled":{type:"boolean",default:e.enabled,description:d("editor.stickyScroll.enabled","Shows the nested current scopes during the scroll at the top of the editor."),tags:["experimental"]},"editor.stickyScroll.maxLineCount":{type:"number",default:e.maxLineCount,minimum:1,maximum:20,description:d("editor.stickyScroll.maxLineCount","Defines the maximum number of sticky lines to show.")},"editor.stickyScroll.defaultModel":{type:"string",enum:["outlineModel","foldingProviderModel","indentationModel"],default:e.defaultModel,description:d("editor.stickyScroll.defaultModel","Defines the model to use for determining which lines to stick. If the outline model does not exist, it will fall back on the folding provider model which falls back on the indentation model. This order is respected in all three cases.")},"editor.stickyScroll.scrollWithEditor":{type:"boolean",default:e.scrollWithEditor,description:d("editor.stickyScroll.scrollWithEditor","Enable scrolling of Sticky Scroll with the editor's horizontal scrollbar.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;let t=e;return{enabled:$(t.enabled,this.defaultValue.enabled),maxLineCount:Ae.clampedInt(t.maxLineCount,this.defaultValue.maxLineCount,1,20),defaultModel:Qe(t.defaultModel,this.defaultValue.defaultModel,["outlineModel","foldingProviderModel","indentationModel"]),scrollWithEditor:$(t.scrollWithEditor,this.defaultValue.scrollWithEditor)}}},$g=class extends Me{constructor(){let e={enabled:"on",fontSize:0,fontFamily:"",padding:!1,maximumLength:43};super(143,"inlayHints",e,{"editor.inlayHints.enabled":{type:"string",default:e.enabled,description:d("inlayHints.enable","Enables the inlay hints in the editor."),enum:["on","onUnlessPressed","offUnlessPressed","off"],markdownEnumDescriptions:[d("editor.inlayHints.on","Inlay hints are enabled"),d("editor.inlayHints.onUnlessPressed","Inlay hints are showing by default and hide when holding {0}",Se?"Ctrl+Option":"Ctrl+Alt"),d("editor.inlayHints.offUnlessPressed","Inlay hints are hidden by default and show when holding {0}",Se?"Ctrl+Option":"Ctrl+Alt"),d("editor.inlayHints.off","Inlay hints are disabled")]},"editor.inlayHints.fontSize":{type:"number",default:e.fontSize,markdownDescription:d("inlayHints.fontSize","Controls font size of inlay hints in the editor. As default the {0} is used when the configured value is less than {1} or greater than the editor font size.","`#editor.fontSize#`","`5`")},"editor.inlayHints.fontFamily":{type:"string",default:e.fontFamily,markdownDescription:d("inlayHints.fontFamily","Controls font family of inlay hints in the editor. When set to empty, the {0} is used.","`#editor.fontFamily#`")},"editor.inlayHints.padding":{type:"boolean",default:e.padding,description:d("inlayHints.padding","Enables the padding around the inlay hints in the editor.")},"editor.inlayHints.maximumLength":{type:"number",default:e.maximumLength,markdownDescription:d("inlayHints.maximumLength","Maximum overall length of inlay hints, for a single line, before they get truncated by the editor. Set to `0` to never truncate")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;let t=e;return typeof t.enabled=="boolean"&&(t.enabled=t.enabled?"on":"off"),{enabled:Qe(t.enabled,this.defaultValue.enabled,["on","off","offUnlessPressed","onUnlessPressed"]),fontSize:Ae.clampedInt(t.fontSize,this.defaultValue.fontSize,0,100),fontFamily:Mt.string(t.fontFamily,this.defaultValue.fontFamily),padding:$(t.padding,this.defaultValue.padding),maximumLength:Ae.clampedInt(t.maximumLength,this.defaultValue.maximumLength,0,Number.MAX_SAFE_INTEGER)}}},Gg=class extends Me{constructor(){super(67,"lineDecorationsWidth",10)}validate(e){return typeof e=="string"&&/^\d+(\.\d+)?ch$/.test(e)?-parseFloat(e.substring(0,e.length-2)):Ae.clampedInt(e,this.defaultValue,0,1e3)}compute(e,t,n){return n<0?Ae.clampedInt(-n*e.fontInfo.typicalHalfwidthCharacterWidth,this.defaultValue,0,1e3):n}},jg=class extends Mn{constructor(){super(68,"lineHeight",Xn.lineHeight,e=>Mn.clamp(e,0,150),{markdownDescription:d("lineHeight",`Controls the line height. 
 - Use 0 to automatically compute the line height from the font size.
 - Values between 0 and 8 will be used as a multiplier with the font size.
 - Values greater than or equal to 8 will be used as effective values.`)})}compute(e,t,n){return e.fontInfo.lineHeight}},Yg=class extends Me{constructor(){let e={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",autohide:!1,renderCharacters:!0,maxColumn:120,scale:1,showRegionSectionHeaders:!0,showMarkSectionHeaders:!0,sectionHeaderFontSize:9,sectionHeaderLetterSpacing:1};super(74,"minimap",e,{"editor.minimap.enabled":{type:"boolean",default:e.enabled,description:d("minimap.enabled","Controls whether the minimap is shown.")},"editor.minimap.autohide":{type:"boolean",default:e.autohide,description:d("minimap.autohide","Controls whether the minimap is hidden automatically.")},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[d("minimap.size.proportional","The minimap has the same size as the editor contents (and might scroll)."),d("minimap.size.fill","The minimap will stretch or shrink as necessary to fill the height of the editor (no scrolling)."),d("minimap.size.fit","The minimap will shrink as necessary to never be larger than the editor (no scrolling).")],default:e.size,description:d("minimap.size","Controls the size of the minimap.")},"editor.minimap.side":{type:"string",enum:["left","right"],default:e.side,description:d("minimap.side","Controls the side where to render the minimap.")},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:e.showSlider,description:d("minimap.showSlider","Controls when the minimap slider is shown.")},"editor.minimap.scale":{type:"number",default:e.scale,minimum:1,maximum:3,enum:[1,2,3],description:d("minimap.scale","Scale of content drawn in the minimap: 1, 2 or 3.")},"editor.minimap.renderCharacters":{type:"boolean",default:e.renderCharacters,description:d("minimap.renderCharacters","Render the actual characters on a line as opposed to color blocks.")},"editor.minimap.maxColumn":{type:"number",default:e.maxColumn,description:d("minimap.maxColumn","Limit the width of the minimap to render at most a certain number of columns.")},"editor.minimap.showRegionSectionHeaders":{type:"boolean",default:e.showRegionSectionHeaders,description:d("minimap.showRegionSectionHeaders","Controls whether named regions are shown as section headers in the minimap.")},"editor.minimap.showMarkSectionHeaders":{type:"boolean",default:e.showMarkSectionHeaders,description:d("minimap.showMarkSectionHeaders","Controls whether MARK: comments are shown as section headers in the minimap.")},"editor.minimap.sectionHeaderFontSize":{type:"number",default:e.sectionHeaderFontSize,description:d("minimap.sectionHeaderFontSize","Controls the font size of section headers in the minimap.")},"editor.minimap.sectionHeaderLetterSpacing":{type:"number",default:e.sectionHeaderLetterSpacing,description:d("minimap.sectionHeaderLetterSpacing","Controls the amount of space (in pixels) between characters of section header. This helps the readability of the header in small font sizes.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;let t=e;return{enabled:$(t.enabled,this.defaultValue.enabled),autohide:$(t.autohide,this.defaultValue.autohide),size:Qe(t.size,this.defaultValue.size,["proportional","fill","fit"]),side:Qe(t.side,this.defaultValue.side,["right","left"]),showSlider:Qe(t.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:$(t.renderCharacters,this.defaultValue.renderCharacters),scale:Ae.clampedInt(t.scale,1,1,3),maxColumn:Ae.clampedInt(t.maxColumn,this.defaultValue.maxColumn,1,1e4),showRegionSectionHeaders:$(t.showRegionSectionHeaders,this.defaultValue.showRegionSectionHeaders),showMarkSectionHeaders:$(t.showMarkSectionHeaders,this.defaultValue.showMarkSectionHeaders),sectionHeaderFontSize:Mn.clamp(t.sectionHeaderFontSize??this.defaultValue.sectionHeaderFontSize,4,32),sectionHeaderLetterSpacing:Mn.clamp(t.sectionHeaderLetterSpacing??this.defaultValue.sectionHeaderLetterSpacing,0,5)}}};function vS(i){return i==="ctrlCmd"?Se?"metaKey":"ctrlKey":"altKey"}var Xg=class extends Me{constructor(){super(85,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:d("padding.top","Controls the amount of space between the top edge of the editor and the first line.")},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:d("padding.bottom","Controls the amount of space between the bottom edge of the editor and the last line.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;let t=e;return{top:Ae.clampedInt(t.top,0,0,1e3),bottom:Ae.clampedInt(t.bottom,0,0,1e3)}}},Zg=class extends Me{constructor(){let e={enabled:!0,cycle:!0};super(87,"parameterHints",e,{"editor.parameterHints.enabled":{type:"boolean",default:e.enabled,description:d("parameterHints.enabled","Enables a pop-up that shows parameter documentation and type information as you type.")},"editor.parameterHints.cycle":{type:"boolean",default:e.cycle,description:d("parameterHints.cycle","Controls whether the parameter hints menu cycles or closes when reaching the end of the list.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;let t=e;return{enabled:$(t.enabled,this.defaultValue.enabled),cycle:$(t.cycle,this.defaultValue.cycle)}}},Qg=class extends Eo{constructor(){super(145)}compute(e,t,n){return e.pixelRatio}},Jg=class extends Me{constructor(){super(89,"placeholder",void 0)}validate(e){return typeof e>"u"?this.defaultValue:typeof e=="string"?e:this.defaultValue}},ef=class extends Me{defaultValue;constructor(){let e={other:"on",comments:"off",strings:"off"},t=[{type:"boolean"},{type:"string",enum:["on","inline","off"],enumDescriptions:[d("on","Quick suggestions show inside the suggest widget"),d("inline","Quick suggestions show as ghost text"),d("off","Quick suggestions are disabled")]}];super(91,"quickSuggestions",e,{type:"object",additionalProperties:!1,properties:{strings:{anyOf:t,default:e.strings,description:d("quickSuggestions.strings","Enable quick suggestions inside strings.")},comments:{anyOf:t,default:e.comments,description:d("quickSuggestions.comments","Enable quick suggestions inside comments.")},other:{anyOf:t,default:e.other,description:d("quickSuggestions.other","Enable quick suggestions outside of strings and comments.")}},default:e,markdownDescription:d("quickSuggestions","Controls whether suggestions should automatically show up while typing. This can be controlled for typing in comments, strings, and other code. Quick suggestion can be configured to show as ghost text or with the suggest widget. Also be aware of the {0}-setting which controls if suggestions are triggered by special characters.","`#editor.suggestOnTriggerCharacters#`")}),this.defaultValue=e}validate(e){if(typeof e=="boolean"){let c=e?"on":"off";return{comments:c,strings:c,other:c}}if(!e||typeof e!="object")return this.defaultValue;let{other:t,comments:n,strings:r}=e,o=["on","inline","off"],s,a,l;return typeof t=="boolean"?s=t?"on":"off":s=Qe(t,this.defaultValue.other,o),typeof n=="boolean"?a=n?"on":"off":a=Qe(n,this.defaultValue.comments,o),typeof r=="boolean"?l=r?"on":"off":l=Qe(r,this.defaultValue.strings,o),{other:s,comments:a,strings:l}}};var tf=class extends Me{constructor(){super(69,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[d("lineNumbers.off","Line numbers are not rendered."),d("lineNumbers.on","Line numbers are rendered as absolute number."),d("lineNumbers.relative","Line numbers are rendered as distance in lines to cursor position."),d("lineNumbers.interval","Line numbers are rendered every 10 lines.")],default:"on",description:d("lineNumbers","Controls the display of line numbers.")})}validate(e){let t=this.defaultValue.renderType,n=this.defaultValue.renderFn;return typeof e<"u"&&(typeof e=="function"?(t=4,n=e):e==="interval"?t=3:e==="relative"?t=2:e==="on"?t=1:t=0),{renderType:t,renderFn:n}}};var nf=class extends Me{constructor(){let e=[],t={type:"number",description:d("rulers.size","Number of monospace characters at which this editor ruler will render.")};super(104,"rulers",e,{type:"array",items:{anyOf:[t,{type:["object"],properties:{column:t,color:{type:"string",description:d("rulers.color","Color of this editor ruler."),format:"color-hex"}}}]},default:e,description:d("rulers","Render vertical rulers after a certain number of monospace characters. Use multiple values for multiple rulers. No rulers are drawn if array is empty.")})}validate(e){if(Array.isArray(e)){let t=[];for(let n of e)if(typeof n=="number")t.push({column:Ae.clampedInt(n,0,0,1e4),color:null});else if(n&&typeof n=="object"){let r=n;t.push({column:Ae.clampedInt(r.column,0,0,1e4),color:r.color})}return t.sort((n,r)=>n.column-r.column),t}return this.defaultValue}},rf=class extends Me{constructor(){super(94,"readOnlyMessage",void 0)}validate(e){return!e||typeof e!="object"?this.defaultValue:e}};function EI(i,e){if(typeof i!="string")return e;switch(i){case"hidden":return 2;case"visible":return 3;default:return 1}}var of=class extends Me{constructor(){let e={vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1,ignoreHorizontalScrollbarInContentHeight:!1};super(105,"scrollbar",e,{"editor.scrollbar.vertical":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[d("scrollbar.vertical.auto","The vertical scrollbar will be visible only when necessary."),d("scrollbar.vertical.visible","The vertical scrollbar will always be visible."),d("scrollbar.vertical.fit","The vertical scrollbar will always be hidden.")],default:"auto",description:d("scrollbar.vertical","Controls the visibility of the vertical scrollbar.")},"editor.scrollbar.horizontal":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[d("scrollbar.horizontal.auto","The horizontal scrollbar will be visible only when necessary."),d("scrollbar.horizontal.visible","The horizontal scrollbar will always be visible."),d("scrollbar.horizontal.fit","The horizontal scrollbar will always be hidden.")],default:"auto",description:d("scrollbar.horizontal","Controls the visibility of the horizontal scrollbar.")},"editor.scrollbar.verticalScrollbarSize":{type:"number",default:e.verticalScrollbarSize,description:d("scrollbar.verticalScrollbarSize","The width of the vertical scrollbar.")},"editor.scrollbar.horizontalScrollbarSize":{type:"number",default:e.horizontalScrollbarSize,description:d("scrollbar.horizontalScrollbarSize","The height of the horizontal scrollbar.")},"editor.scrollbar.scrollByPage":{type:"boolean",default:e.scrollByPage,description:d("scrollbar.scrollByPage","Controls whether clicks scroll by page or jump to click position.")},"editor.scrollbar.ignoreHorizontalScrollbarInContentHeight":{type:"boolean",default:e.ignoreHorizontalScrollbarInContentHeight,description:d("scrollbar.ignoreHorizontalScrollbarInContentHeight","When set, the horizontal scrollbar will not increase the size of the editor's content.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;let t=e,n=Ae.clampedInt(t.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),r=Ae.clampedInt(t.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:Ae.clampedInt(t.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:EI(t.vertical,this.defaultValue.vertical),horizontal:EI(t.horizontal,this.defaultValue.horizontal),useShadows:$(t.useShadows,this.defaultValue.useShadows),verticalHasArrows:$(t.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:$(t.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:$(t.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:$(t.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:n,horizontalSliderSize:Ae.clampedInt(t.horizontalSliderSize,n,0,1e3),verticalScrollbarSize:r,verticalSliderSize:Ae.clampedInt(t.verticalSliderSize,r,0,1e3),scrollByPage:$(t.scrollByPage,this.defaultValue.scrollByPage),ignoreHorizontalScrollbarInContentHeight:$(t.ignoreHorizontalScrollbarInContentHeight,this.defaultValue.ignoreHorizontalScrollbarInContentHeight)}}},Yn="inUntrustedWorkspace",So={allowedCharacters:"editor.unicodeHighlight.allowedCharacters",invisibleCharacters:"editor.unicodeHighlight.invisibleCharacters",nonBasicASCII:"editor.unicodeHighlight.nonBasicASCII",ambiguousCharacters:"editor.unicodeHighlight.ambiguousCharacters",includeComments:"editor.unicodeHighlight.includeComments",includeStrings:"editor.unicodeHighlight.includeStrings",allowedLocales:"editor.unicodeHighlight.allowedLocales"},sf=class extends Me{constructor(){let e={nonBasicASCII:Yn,invisibleCharacters:!0,ambiguousCharacters:!0,includeComments:Yn,includeStrings:!0,allowedCharacters:{},allowedLocales:{_os:!0,_vscode:!0}};super(127,"unicodeHighlight",e,{[So.nonBasicASCII]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,Yn],default:e.nonBasicASCII,description:d("unicodeHighlight.nonBasicASCII","Controls whether all non-basic ASCII characters are highlighted. Only characters between U+0020 and U+007E, tab, line-feed and carriage-return are considered basic ASCII.")},[So.invisibleCharacters]:{restricted:!0,type:"boolean",default:e.invisibleCharacters,description:d("unicodeHighlight.invisibleCharacters","Controls whether characters that just reserve space or have no width at all are highlighted.")},[So.ambiguousCharacters]:{restricted:!0,type:"boolean",default:e.ambiguousCharacters,description:d("unicodeHighlight.ambiguousCharacters","Controls whether characters are highlighted that can be confused with basic ASCII characters, except those that are common in the current user locale.")},[So.includeComments]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,Yn],default:e.includeComments,description:d("unicodeHighlight.includeComments","Controls whether characters in comments should also be subject to Unicode highlighting.")},[So.includeStrings]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,Yn],default:e.includeStrings,description:d("unicodeHighlight.includeStrings","Controls whether characters in strings should also be subject to Unicode highlighting.")},[So.allowedCharacters]:{restricted:!0,type:"object",default:e.allowedCharacters,description:d("unicodeHighlight.allowedCharacters","Defines allowed characters that are not being highlighted."),additionalProperties:{type:"boolean"}},[So.allowedLocales]:{restricted:!0,type:"object",additionalProperties:{type:"boolean"},default:e.allowedLocales,description:d("unicodeHighlight.allowedLocales","Unicode characters that are common in allowed locales are not being highlighted.")}})}applyUpdate(e,t){let n=!1;t.allowedCharacters&&e&&(Cr(e.allowedCharacters,t.allowedCharacters)||(e={...e,allowedCharacters:t.allowedCharacters},n=!0)),t.allowedLocales&&e&&(Cr(e.allowedLocales,t.allowedLocales)||(e={...e,allowedLocales:t.allowedLocales},n=!0));let r=super.applyUpdate(e,t);return n?new vs(r.newValue,!0):r}validate(e){if(!e||typeof e!="object")return this.defaultValue;let t=e;return{nonBasicASCII:ys(t.nonBasicASCII,Yn,[!0,!1,Yn]),invisibleCharacters:$(t.invisibleCharacters,this.defaultValue.invisibleCharacters),ambiguousCharacters:$(t.ambiguousCharacters,this.defaultValue.ambiguousCharacters),includeComments:ys(t.includeComments,Yn,[!0,!1,Yn]),includeStrings:ys(t.includeStrings,Yn,[!0,!1,Yn]),allowedCharacters:this.validateBooleanMap(e.allowedCharacters,this.defaultValue.allowedCharacters),allowedLocales:this.validateBooleanMap(e.allowedLocales,this.defaultValue.allowedLocales)}}validateBooleanMap(e,t){if(typeof e!="object"||!e)return t;let n={};for(let[r,o]of Object.entries(e))o===!0&&(n[r]=!0);return n}},af=class extends Me{constructor(){let e={enabled:!0,mode:"subwordSmart",showToolbar:"onHover",suppressSuggestions:!1,keepOnBlur:!1,fontFamily:"default",syntaxHighlightingEnabled:!1};super(63,"inlineSuggest",e,{"editor.inlineSuggest.enabled":{type:"boolean",default:e.enabled,description:d("inlineSuggest.enabled","Controls whether to automatically show inline suggestions in the editor.")},"editor.inlineSuggest.showToolbar":{type:"string",default:e.showToolbar,enum:["always","onHover","never"],enumDescriptions:[d("inlineSuggest.showToolbar.always","Show the inline suggestion toolbar whenever an inline suggestion is shown."),d("inlineSuggest.showToolbar.onHover","Show the inline suggestion toolbar when hovering over an inline suggestion."),d("inlineSuggest.showToolbar.never","Never show the inline suggestion toolbar.")],description:d("inlineSuggest.showToolbar","Controls when to show the inline suggestion toolbar.")},"editor.inlineSuggest.syntaxHighlightingEnabled":{type:"boolean",default:e.syntaxHighlightingEnabled,description:d("inlineSuggest.syntaxHighlightingEnabled","Controls whether to show syntax highlighting for inline suggestions in the editor.")},"editor.inlineSuggest.suppressSuggestions":{type:"boolean",default:e.suppressSuggestions,description:d("inlineSuggest.suppressSuggestions","Controls how inline suggestions interact with the suggest widget. If enabled, the suggest widget is not shown automatically when inline suggestions are available.")},"editor.inlineSuggest.fontFamily":{type:"string",default:e.fontFamily,description:d("inlineSuggest.fontFamily","Controls the font family of the inline suggestions.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;let t=e;return{enabled:$(t.enabled,this.defaultValue.enabled),mode:Qe(t.mode,this.defaultValue.mode,["prefix","subword","subwordSmart"]),showToolbar:Qe(t.showToolbar,this.defaultValue.showToolbar,["always","onHover","never"]),suppressSuggestions:$(t.suppressSuggestions,this.defaultValue.suppressSuggestions),keepOnBlur:$(t.keepOnBlur,this.defaultValue.keepOnBlur),fontFamily:Mt.string(t.fontFamily,this.defaultValue.fontFamily),syntaxHighlightingEnabled:$(t.syntaxHighlightingEnabled,this.defaultValue.syntaxHighlightingEnabled)}}},lf=class extends Me{constructor(){let e={enabled:!1,showToolbar:"onHover",fontFamily:"default",keepOnBlur:!1};super(64,"experimentalInlineEdit",e,{"editor.experimentalInlineEdit.enabled":{type:"boolean",default:e.enabled,description:d("inlineEdit.enabled","Controls whether to show inline edits in the editor.")},"editor.experimentalInlineEdit.showToolbar":{type:"string",default:e.showToolbar,enum:["always","onHover","never"],enumDescriptions:[d("inlineEdit.showToolbar.always","Show the inline edit toolbar whenever an inline suggestion is shown."),d("inlineEdit.showToolbar.onHover","Show the inline edit toolbar when hovering over an inline suggestion."),d("inlineEdit.showToolbar.never","Never show the inline edit toolbar.")],description:d("inlineEdit.showToolbar","Controls when to show the inline edit toolbar.")},"editor.experimentalInlineEdit.fontFamily":{type:"string",default:e.fontFamily,description:d("inlineEdit.fontFamily","Controls the font family of the inline edit.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;let t=e;return{enabled:$(t.enabled,this.defaultValue.enabled),showToolbar:Qe(t.showToolbar,this.defaultValue.showToolbar,["always","onHover","never"]),fontFamily:Mt.string(t.fontFamily,this.defaultValue.fontFamily),keepOnBlur:$(t.keepOnBlur,this.defaultValue.keepOnBlur)}}},df=class extends Me{constructor(){let e={enabled:$t.bracketPairColorizationOptions.enabled,independentColorPoolPerBracketType:$t.bracketPairColorizationOptions.independentColorPoolPerBracketType};super(15,"bracketPairColorization",e,{"editor.bracketPairColorization.enabled":{type:"boolean",default:e.enabled,markdownDescription:d("bracketPairColorization.enabled","Controls whether bracket pair colorization is enabled or not. Use {0} to override the bracket highlight colors.","`#workbench.colorCustomizations#`")},"editor.bracketPairColorization.independentColorPoolPerBracketType":{type:"boolean",default:e.independentColorPoolPerBracketType,description:d("bracketPairColorization.independentColorPoolPerBracketType","Controls whether each bracket type has its own independent color pool.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;let t=e;return{enabled:$(t.enabled,this.defaultValue.enabled),independentColorPoolPerBracketType:$(t.independentColorPoolPerBracketType,this.defaultValue.independentColorPoolPerBracketType)}}},cf=class extends Me{constructor(){let e={bracketPairs:!1,bracketPairsHorizontal:"active",highlightActiveBracketPair:!0,indentation:!0,highlightActiveIndentation:!0};super(16,"guides",e,{"editor.guides.bracketPairs":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[d("editor.guides.bracketPairs.true","Enables bracket pair guides."),d("editor.guides.bracketPairs.active","Enables bracket pair guides only for the active bracket pair."),d("editor.guides.bracketPairs.false","Disables bracket pair guides.")],default:e.bracketPairs,description:d("editor.guides.bracketPairs","Controls whether bracket pair guides are enabled or not.")},"editor.guides.bracketPairsHorizontal":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[d("editor.guides.bracketPairsHorizontal.true","Enables horizontal guides as addition to vertical bracket pair guides."),d("editor.guides.bracketPairsHorizontal.active","Enables horizontal guides only for the active bracket pair."),d("editor.guides.bracketPairsHorizontal.false","Disables horizontal bracket pair guides.")],default:e.bracketPairsHorizontal,description:d("editor.guides.bracketPairsHorizontal","Controls whether horizontal bracket pair guides are enabled or not.")},"editor.guides.highlightActiveBracketPair":{type:"boolean",default:e.highlightActiveBracketPair,description:d("editor.guides.highlightActiveBracketPair","Controls whether the editor should highlight the active bracket pair.")},"editor.guides.indentation":{type:"boolean",default:e.indentation,description:d("editor.guides.indentation","Controls whether the editor should render indent guides.")},"editor.guides.highlightActiveIndentation":{type:["boolean","string"],enum:[!0,"always",!1],enumDescriptions:[d("editor.guides.highlightActiveIndentation.true","Highlights the active indent guide."),d("editor.guides.highlightActiveIndentation.always","Highlights the active indent guide even if bracket guides are highlighted."),d("editor.guides.highlightActiveIndentation.false","Do not highlight the active indent guide.")],default:e.highlightActiveIndentation,description:d("editor.guides.highlightActiveIndentation","Controls whether the editor should highlight the active indent guide.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;let t=e;return{bracketPairs:ys(t.bracketPairs,this.defaultValue.bracketPairs,[!0,!1,"active"]),bracketPairsHorizontal:ys(t.bracketPairsHorizontal,this.defaultValue.bracketPairsHorizontal,[!0,!1,"active"]),highlightActiveBracketPair:$(t.highlightActiveBracketPair,this.defaultValue.highlightActiveBracketPair),indentation:$(t.indentation,this.defaultValue.indentation),highlightActiveIndentation:ys(t.highlightActiveIndentation,this.defaultValue.highlightActiveIndentation,[!0,!1,"always"])}}};function ys(i,e,t){let n=t.indexOf(i);return n===-1?e:t[n]}var uf=class extends Me{constructor(){let e={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!1,localityBonus:!1,shareSuggestSelections:!1,selectionMode:"always",showIcons:!0,showStatusBar:!1,preview:!1,previewMode:"subwordSmart",showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showDeprecated:!0,matchOnWordStartOnly:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(120,"suggest",e,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[d("suggest.insertMode.insert","Insert suggestion without overwriting text right of the cursor."),d("suggest.insertMode.replace","Insert suggestion and overwrite text right of the cursor.")],default:e.insertMode,description:d("suggest.insertMode","Controls whether words are overwritten when accepting completions. Note that this depends on extensions opting into this feature.")},"editor.suggest.filterGraceful":{type:"boolean",default:e.filterGraceful,description:d("suggest.filterGraceful","Controls whether filtering and sorting suggestions accounts for small typos.")},"editor.suggest.localityBonus":{type:"boolean",default:e.localityBonus,description:d("suggest.localityBonus","Controls whether sorting favors words that appear close to the cursor.")},"editor.suggest.shareSuggestSelections":{type:"boolean",default:e.shareSuggestSelections,markdownDescription:d("suggest.shareSuggestSelections","Controls whether remembered suggestion selections are shared between multiple workspaces and windows (needs `#editor.suggestSelection#`).")},"editor.suggest.selectionMode":{type:"string",enum:["always","never","whenTriggerCharacter","whenQuickSuggestion"],enumDescriptions:[d("suggest.insertMode.always","Always select a suggestion when automatically triggering IntelliSense."),d("suggest.insertMode.never","Never select a suggestion when automatically triggering IntelliSense."),d("suggest.insertMode.whenTriggerCharacter","Select a suggestion only when triggering IntelliSense from a trigger character."),d("suggest.insertMode.whenQuickSuggestion","Select a suggestion only when triggering IntelliSense as you type.")],default:e.selectionMode,markdownDescription:d("suggest.selectionMode","Controls whether a suggestion is selected when the widget shows. Note that this only applies to automatically triggered suggestions ({0} and {1}) and that a suggestion is always selected when explicitly invoked, e.g via `Ctrl+Space`.","`#editor.quickSuggestions#`","`#editor.suggestOnTriggerCharacters#`")},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:e.snippetsPreventQuickSuggestions,description:d("suggest.snippetsPreventQuickSuggestions","Controls whether an active snippet prevents quick suggestions.")},"editor.suggest.showIcons":{type:"boolean",default:e.showIcons,description:d("suggest.showIcons","Controls whether to show or hide icons in suggestions.")},"editor.suggest.showStatusBar":{type:"boolean",default:e.showStatusBar,description:d("suggest.showStatusBar","Controls the visibility of the status bar at the bottom of the suggest widget.")},"editor.suggest.preview":{type:"boolean",default:e.preview,description:d("suggest.preview","Controls whether to preview the suggestion outcome in the editor.")},"editor.suggest.showInlineDetails":{type:"boolean",default:e.showInlineDetails,description:d("suggest.showInlineDetails","Controls whether suggest details show inline with the label or only in the details widget.")},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:d("suggest.maxVisibleSuggestions.dep","This setting is deprecated. The suggest widget can now be resized.")},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:d("deprecated","This setting is deprecated, please use separate settings like 'editor.suggest.showKeywords' or 'editor.suggest.showSnippets' instead.")},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:d("editor.suggest.showMethods","When enabled IntelliSense shows `method`-suggestions.")},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:d("editor.suggest.showFunctions","When enabled IntelliSense shows `function`-suggestions.")},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:d("editor.suggest.showConstructors","When enabled IntelliSense shows `constructor`-suggestions.")},"editor.suggest.showDeprecated":{type:"boolean",default:!0,markdownDescription:d("editor.suggest.showDeprecated","When enabled IntelliSense shows `deprecated`-suggestions.")},"editor.suggest.matchOnWordStartOnly":{type:"boolean",default:!0,markdownDescription:d("editor.suggest.matchOnWordStartOnly","When enabled IntelliSense filtering requires that the first character matches on a word start. For example, `c` on `Console` or `WebContext` but _not_ on `description`. When disabled IntelliSense will show more results but still sorts them by match quality.")},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:d("editor.suggest.showFields","When enabled IntelliSense shows `field`-suggestions.")},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:d("editor.suggest.showVariables","When enabled IntelliSense shows `variable`-suggestions.")},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:d("editor.suggest.showClasss","When enabled IntelliSense shows `class`-suggestions.")},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:d("editor.suggest.showStructs","When enabled IntelliSense shows `struct`-suggestions.")},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:d("editor.suggest.showInterfaces","When enabled IntelliSense shows `interface`-suggestions.")},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:d("editor.suggest.showModules","When enabled IntelliSense shows `module`-suggestions.")},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:d("editor.suggest.showPropertys","When enabled IntelliSense shows `property`-suggestions.")},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:d("editor.suggest.showEvents","When enabled IntelliSense shows `event`-suggestions.")},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:d("editor.suggest.showOperators","When enabled IntelliSense shows `operator`-suggestions.")},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:d("editor.suggest.showUnits","When enabled IntelliSense shows `unit`-suggestions.")},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:d("editor.suggest.showValues","When enabled IntelliSense shows `value`-suggestions.")},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:d("editor.suggest.showConstants","When enabled IntelliSense shows `constant`-suggestions.")},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:d("editor.suggest.showEnums","When enabled IntelliSense shows `enum`-suggestions.")},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:d("editor.suggest.showEnumMembers","When enabled IntelliSense shows `enumMember`-suggestions.")},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:d("editor.suggest.showKeywords","When enabled IntelliSense shows `keyword`-suggestions.")},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:d("editor.suggest.showTexts","When enabled IntelliSense shows `text`-suggestions.")},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:d("editor.suggest.showColors","When enabled IntelliSense shows `color`-suggestions.")},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:d("editor.suggest.showFiles","When enabled IntelliSense shows `file`-suggestions.")},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:d("editor.suggest.showReferences","When enabled IntelliSense shows `reference`-suggestions.")},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:d("editor.suggest.showCustomcolors","When enabled IntelliSense shows `customcolor`-suggestions.")},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:d("editor.suggest.showFolders","When enabled IntelliSense shows `folder`-suggestions.")},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:d("editor.suggest.showTypeParameters","When enabled IntelliSense shows `typeParameter`-suggestions.")},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:d("editor.suggest.showSnippets","When enabled IntelliSense shows `snippet`-suggestions.")},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:d("editor.suggest.showUsers","When enabled IntelliSense shows `user`-suggestions.")},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:d("editor.suggest.showIssues","When enabled IntelliSense shows `issues`-suggestions.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;let t=e;return{insertMode:Qe(t.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:$(t.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:$(t.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:$(t.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:$(t.shareSuggestSelections,this.defaultValue.shareSuggestSelections),selectionMode:Qe(t.selectionMode,this.defaultValue.selectionMode,["always","never","whenQuickSuggestion","whenTriggerCharacter"]),showIcons:$(t.showIcons,this.defaultValue.showIcons),showStatusBar:$(t.showStatusBar,this.defaultValue.showStatusBar),preview:$(t.preview,this.defaultValue.preview),previewMode:Qe(t.previewMode,this.defaultValue.previewMode,["prefix","subword","subwordSmart"]),showInlineDetails:$(t.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:$(t.showMethods,this.defaultValue.showMethods),showFunctions:$(t.showFunctions,this.defaultValue.showFunctions),showConstructors:$(t.showConstructors,this.defaultValue.showConstructors),showDeprecated:$(t.showDeprecated,this.defaultValue.showDeprecated),matchOnWordStartOnly:$(t.matchOnWordStartOnly,this.defaultValue.matchOnWordStartOnly),showFields:$(t.showFields,this.defaultValue.showFields),showVariables:$(t.showVariables,this.defaultValue.showVariables),showClasses:$(t.showClasses,this.defaultValue.showClasses),showStructs:$(t.showStructs,this.defaultValue.showStructs),showInterfaces:$(t.showInterfaces,this.defaultValue.showInterfaces),showModules:$(t.showModules,this.defaultValue.showModules),showProperties:$(t.showProperties,this.defaultValue.showProperties),showEvents:$(t.showEvents,this.defaultValue.showEvents),showOperators:$(t.showOperators,this.defaultValue.showOperators),showUnits:$(t.showUnits,this.defaultValue.showUnits),showValues:$(t.showValues,this.defaultValue.showValues),showConstants:$(t.showConstants,this.defaultValue.showConstants),showEnums:$(t.showEnums,this.defaultValue.showEnums),showEnumMembers:$(t.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:$(t.showKeywords,this.defaultValue.showKeywords),showWords:$(t.showWords,this.defaultValue.showWords),showColors:$(t.showColors,this.defaultValue.showColors),showFiles:$(t.showFiles,this.defaultValue.showFiles),showReferences:$(t.showReferences,this.defaultValue.showReferences),showFolders:$(t.showFolders,this.defaultValue.showFolders),showTypeParameters:$(t.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:$(t.showSnippets,this.defaultValue.showSnippets),showUsers:$(t.showUsers,this.defaultValue.showUsers),showIssues:$(t.showIssues,this.defaultValue.showIssues)}}},hf=class extends Me{constructor(){super(115,"smartSelect",{selectLeadingAndTrailingWhitespace:!0,selectSubwords:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:d("selectLeadingAndTrailingWhitespace","Whether leading and trailing whitespace should always be selected."),default:!0,type:"boolean"},"editor.smartSelect.selectSubwords":{description:d("selectSubwords","Whether subwords (like 'foo' in 'fooBar' or 'foo_bar') should be selected."),default:!0,type:"boolean"}})}validate(e){return!e||typeof e!="object"?this.defaultValue:{selectLeadingAndTrailingWhitespace:$(e.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace),selectSubwords:$(e.selectSubwords,this.defaultValue.selectSubwords)}}},pf=class extends Me{constructor(){let e=[];super(132,"wordSegmenterLocales",e,{anyOf:[{description:d("wordSegmenterLocales","Locales to be used for word segmentation when doing word related navigations or operations. Specify the BCP 47 language tag of the word you wish to recognize (e.g., ja, zh-CN, zh-Hant-TW, etc.)."),type:"string"},{description:d("wordSegmenterLocales","Locales to be used for word segmentation when doing word related navigations or operations. Specify the BCP 47 language tag of the word you wish to recognize (e.g., ja, zh-CN, zh-Hant-TW, etc.)."),type:"array",items:{type:"string"}}]})}validate(e){if(typeof e=="string"&&(e=[e]),Array.isArray(e)){let t=[];for(let n of e)if(typeof n=="string")try{Intl.Segmenter.supportedLocalesOf(n).length>0&&t.push(n)}catch{}return t}return this.defaultValue}};var gf=class extends Me{constructor(){super(140,"wrappingIndent",1,{"editor.wrappingIndent":{type:"string",enum:["none","same","indent","deepIndent"],enumDescriptions:[d("wrappingIndent.none","No indentation. Wrapped lines begin at column 1."),d("wrappingIndent.same","Wrapped lines get the same indentation as the parent."),d("wrappingIndent.indent","Wrapped lines get +1 indentation toward the parent."),d("wrappingIndent.deepIndent","Wrapped lines get +2 indentation toward the parent.")],description:d("wrappingIndent","Controls the indentation of wrapped lines."),default:"same"}})}validate(e){switch(e){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}return 1}compute(e,t,n){return t.get(2)===2?0:n}},ff=class extends Eo{constructor(){super(148)}compute(e,t,n){let r=t.get(147);return{isDominatedByLongLines:e.isDominatedByLongLines,isWordWrapMinified:r.isWordWrapMinified,isViewportWrapping:r.isViewportWrapping,wrappingColumn:r.wrappingColumn}}},mf=class extends Me{constructor(){let e={enabled:!0,showDropSelector:"afterDrop"};super(36,"dropIntoEditor",e,{"editor.dropIntoEditor.enabled":{type:"boolean",default:e.enabled,markdownDescription:d("dropIntoEditor.enabled","Controls whether you can drag and drop a file into a text editor by holding down the `Shift` key (instead of opening the file in an editor).")},"editor.dropIntoEditor.showDropSelector":{type:"string",markdownDescription:d("dropIntoEditor.showDropSelector","Controls if a widget is shown when dropping files into the editor. This widget lets you control how the file is dropped."),enum:["afterDrop","never"],enumDescriptions:[d("dropIntoEditor.showDropSelector.afterDrop","Show the drop selector widget after a file is dropped into the editor."),d("dropIntoEditor.showDropSelector.never","Never show the drop selector widget. Instead the default drop provider is always used.")],default:"afterDrop"}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;let t=e;return{enabled:$(t.enabled,this.defaultValue.enabled),showDropSelector:Qe(t.showDropSelector,this.defaultValue.showDropSelector,["afterDrop","never"])}}},bf=class extends Me{constructor(){let e={enabled:!0,showPasteSelector:"afterPaste"};super(86,"pasteAs",e,{"editor.pasteAs.enabled":{type:"boolean",default:e.enabled,markdownDescription:d("pasteAs.enabled","Controls whether you can paste content in different ways.")},"editor.pasteAs.showPasteSelector":{type:"string",markdownDescription:d("pasteAs.showPasteSelector","Controls if a widget is shown when pasting content in to the editor. This widget lets you control how the file is pasted."),enum:["afterPaste","never"],enumDescriptions:[d("pasteAs.showPasteSelector.afterPaste","Show the paste selector widget after content is pasted into the editor."),d("pasteAs.showPasteSelector.never","Never show the paste selector widget. Instead the default pasting behavior is always used.")],default:"afterPaste"}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;let t=e;return{enabled:$(t.enabled,this.defaultValue.enabled),showPasteSelector:Qe(t.showPasteSelector,this.defaultValue.showPasteSelector,["afterPaste","never"])}}},yS="Consolas, 'Courier New', monospace",IS="Menlo, Monaco, 'Courier New', monospace",xS="'Droid Sans Mono', 'monospace', monospace",Xn={fontFamily:Se?IS:Zt?xS:yS,fontWeight:"normal",fontSize:Se?12:14,lineHeight:0,letterSpacing:0},Lr=[];function _(i){return Lr[i.id]=i,i}var Dr={acceptSuggestionOnCommitCharacter:_(new ge(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:d("acceptSuggestionOnCommitCharacter","Controls whether suggestions should be accepted on commit characters. For example, in JavaScript, the semi-colon (`;`) can be a commit character that accepts a suggestion and types that character.")})),acceptSuggestionOnEnter:_(new He(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",d("acceptSuggestionOnEnterSmart","Only accept a suggestion with `Enter` when it makes a textual change."),""],markdownDescription:d("acceptSuggestionOnEnter","Controls whether suggestions should be accepted on `Enter`, in addition to `Tab`. Helps to avoid ambiguity between inserting new lines or accepting suggestions.")})),accessibilitySupport:_(new Ag),accessibilityPageSize:_(new Ae(3,"accessibilityPageSize",10,1,1073741824,{description:d("accessibilityPageSize","Controls the number of lines in the editor that can be read out by a screen reader at once. When we detect a screen reader we automatically set the default to be 500. Warning: this has a performance implication for numbers larger than the default."),tags:["accessibility"]})),ariaLabel:_(new Mt(4,"ariaLabel",d("editorViewAccessibleLabel","Editor content"))),ariaRequired:_(new ge(5,"ariaRequired",!1,void 0)),screenReaderAnnounceInlineSuggestion:_(new ge(8,"screenReaderAnnounceInlineSuggestion",!0,{description:d("screenReaderAnnounceInlineSuggestion","Control whether inline suggestions are announced by a screen reader."),tags:["accessibility"]})),autoClosingBrackets:_(new He(6,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",d("editor.autoClosingBrackets.languageDefined","Use language configurations to determine when to autoclose brackets."),d("editor.autoClosingBrackets.beforeWhitespace","Autoclose brackets only when the cursor is to the left of whitespace."),""],description:d("autoClosingBrackets","Controls whether the editor should automatically close brackets after the user adds an opening bracket.")})),autoClosingComments:_(new He(7,"autoClosingComments","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",d("editor.autoClosingComments.languageDefined","Use language configurations to determine when to autoclose comments."),d("editor.autoClosingComments.beforeWhitespace","Autoclose comments only when the cursor is to the left of whitespace."),""],description:d("autoClosingComments","Controls whether the editor should automatically close comments after the user adds an opening comment.")})),autoClosingDelete:_(new He(9,"autoClosingDelete","auto",["always","auto","never"],{enumDescriptions:["",d("editor.autoClosingDelete.auto","Remove adjacent closing quotes or brackets only if they were automatically inserted."),""],description:d("autoClosingDelete","Controls whether the editor should remove adjacent closing quotes or brackets when deleting.")})),autoClosingOvertype:_(new He(10,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",d("editor.autoClosingOvertype.auto","Type over closing quotes or brackets only if they were automatically inserted."),""],description:d("autoClosingOvertype","Controls whether the editor should type over closing quotes or brackets.")})),autoClosingQuotes:_(new He(11,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",d("editor.autoClosingQuotes.languageDefined","Use language configurations to determine when to autoclose quotes."),d("editor.autoClosingQuotes.beforeWhitespace","Autoclose quotes only when the cursor is to the left of whitespace."),""],description:d("autoClosingQuotes","Controls whether the editor should automatically close quotes after the user adds an opening quote.")})),autoIndent:_(new bs(12,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],fS,{enumDescriptions:[d("editor.autoIndent.none","The editor will not insert indentation automatically."),d("editor.autoIndent.keep","The editor will keep the current line's indentation."),d("editor.autoIndent.brackets","The editor will keep the current line's indentation and honor language defined brackets."),d("editor.autoIndent.advanced","The editor will keep the current line's indentation, honor language defined brackets and invoke special onEnterRules defined by languages."),d("editor.autoIndent.full","The editor will keep the current line's indentation, honor language defined brackets, invoke special onEnterRules defined by languages, and honor indentationRules defined by languages.")],description:d("autoIndent","Controls whether the editor should automatically adjust the indentation when users type, paste, move or indent lines.")})),automaticLayout:_(new ge(13,"automaticLayout",!1)),autoSurround:_(new He(14,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[d("editor.autoSurround.languageDefined","Use language configurations to determine when to automatically surround selections."),d("editor.autoSurround.quotes","Surround with quotes but not brackets."),d("editor.autoSurround.brackets","Surround with brackets but not quotes."),""],description:d("autoSurround","Controls whether the editor should automatically surround selections when typing quotes or brackets.")})),bracketPairColorization:_(new df),bracketPairGuides:_(new cf),stickyTabStops:_(new ge(118,"stickyTabStops",!1,{description:d("stickyTabStops","Emulate selection behavior of tab characters when using spaces for indentation. Selection will stick to tab stops.")})),codeLens:_(new ge(17,"codeLens",!0,{description:d("codeLens","Controls whether the editor shows CodeLens.")})),codeLensFontFamily:_(new Mt(18,"codeLensFontFamily","",{description:d("codeLensFontFamily","Controls the font family for CodeLens.")})),codeLensFontSize:_(new Ae(19,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,markdownDescription:d("codeLensFontSize","Controls the font size in pixels for CodeLens. When set to 0, 90% of `#editor.fontSize#` is used.")})),colorDecorators:_(new ge(20,"colorDecorators",!0,{description:d("colorDecorators","Controls whether the editor should render the inline color decorators and color picker.")})),colorDecoratorActivatedOn:_(new He(150,"colorDecoratorsActivatedOn","clickAndHover",["clickAndHover","hover","click"],{enumDescriptions:[d("editor.colorDecoratorActivatedOn.clickAndHover","Make the color picker appear both on click and hover of the color decorator"),d("editor.colorDecoratorActivatedOn.hover","Make the color picker appear on hover of the color decorator"),d("editor.colorDecoratorActivatedOn.click","Make the color picker appear on click of the color decorator")],description:d("colorDecoratorActivatedOn","Controls the condition to make a color picker appear from a color decorator")})),colorDecoratorsLimit:_(new Ae(21,"colorDecoratorsLimit",500,1,1e6,{markdownDescription:d("colorDecoratorsLimit","Controls the max number of color decorators that can be rendered in an editor at once.")})),columnSelection:_(new ge(22,"columnSelection",!1,{description:d("columnSelection","Enable that the selection with the mouse and keys is doing column selection.")})),comments:_(new Og),contextmenu:_(new ge(24,"contextmenu",!0)),copyWithSyntaxHighlighting:_(new ge(25,"copyWithSyntaxHighlighting",!0,{description:d("copyWithSyntaxHighlighting","Controls whether syntax highlighting should be copied into the clipboard.")})),cursorBlinking:_(new bs(26,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],mS,{description:d("cursorBlinking","Control the cursor animation style.")})),cursorSmoothCaretAnimation:_(new He(27,"cursorSmoothCaretAnimation","off",["off","explicit","on"],{enumDescriptions:[d("cursorSmoothCaretAnimation.off","Smooth caret animation is disabled."),d("cursorSmoothCaretAnimation.explicit","Smooth caret animation is enabled only when the user moves the cursor with an explicit gesture."),d("cursorSmoothCaretAnimation.on","Smooth caret animation is always enabled.")],description:d("cursorSmoothCaretAnimation","Controls whether the smooth caret animation should be enabled.")})),cursorStyle:_(new bs(28,"cursorStyle",1,"line",["line","block","underline","line-thin","block-outline","underline-thin"],bS,{description:d("cursorStyle","Controls the cursor style.")})),cursorSurroundingLines:_(new Ae(29,"cursorSurroundingLines",0,0,1073741824,{description:d("cursorSurroundingLines","Controls the minimal number of visible leading lines (minimum 0) and trailing lines (minimum 1) surrounding the cursor. Known as 'scrollOff' or 'scrollOffset' in some other editors.")})),cursorSurroundingLinesStyle:_(new He(30,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[d("cursorSurroundingLinesStyle.default","`cursorSurroundingLines` is enforced only when triggered via the keyboard or API."),d("cursorSurroundingLinesStyle.all","`cursorSurroundingLines` is enforced always.")],markdownDescription:d("cursorSurroundingLinesStyle","Controls when `#editor.cursorSurroundingLines#` should be enforced.")})),cursorWidth:_(new Ae(31,"cursorWidth",0,0,1073741824,{markdownDescription:d("cursorWidth","Controls the width of the cursor when `#editor.cursorStyle#` is set to `line`.")})),disableLayerHinting:_(new ge(32,"disableLayerHinting",!1)),disableMonospaceOptimizations:_(new ge(33,"disableMonospaceOptimizations",!1)),domReadOnly:_(new ge(34,"domReadOnly",!1)),dragAndDrop:_(new ge(35,"dragAndDrop",!0,{description:d("dragAndDrop","Controls whether the editor should allow moving selections via drag and drop.")})),emptySelectionClipboard:_(new Ng),dropIntoEditor:_(new mf),experimentalEditContextEnabled:_(new ge(37,"experimentalEditContextEnabled",!1,{description:d("experimentalEditContextEnabled","Sets whether the new experimental edit context should be used instead of the text area.")})),stickyScroll:_(new qg),experimentalWhitespaceRendering:_(new He(39,"experimentalWhitespaceRendering","svg",["svg","font","off"],{enumDescriptions:[d("experimentalWhitespaceRendering.svg","Use a new rendering method with svgs."),d("experimentalWhitespaceRendering.font","Use a new rendering method with font characters."),d("experimentalWhitespaceRendering.off","Use the stable rendering method.")],description:d("experimentalWhitespaceRendering","Controls whether whitespace is rendered with a new, experimental method.")})),extraEditorClassName:_(new Mt(40,"extraEditorClassName","")),fastScrollSensitivity:_(new Mn(41,"fastScrollSensitivity",5,i=>i<=0?5:i,{markdownDescription:d("fastScrollSensitivity","Scrolling speed multiplier when pressing `Alt`.")})),find:_(new Pg),fixedOverflowWidgets:_(new ge(43,"fixedOverflowWidgets",!1)),folding:_(new ge(44,"folding",!0,{description:d("folding","Controls whether the editor has code folding enabled.")})),foldingStrategy:_(new He(45,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[d("foldingStrategy.auto","Use a language-specific folding strategy if available, else the indentation-based one."),d("foldingStrategy.indentation","Use the indentation-based folding strategy.")],description:d("foldingStrategy","Controls the strategy for computing folding ranges.")})),foldingHighlight:_(new ge(46,"foldingHighlight",!0,{description:d("foldingHighlight","Controls whether the editor should highlight folded ranges.")})),foldingImportsByDefault:_(new ge(47,"foldingImportsByDefault",!1,{description:d("foldingImportsByDefault","Controls whether the editor automatically collapses import ranges.")})),foldingMaximumRegions:_(new Ae(48,"foldingMaximumRegions",5e3,10,65e3,{description:d("foldingMaximumRegions","The maximum number of foldable regions. Increasing this value may result in the editor becoming less responsive when the current source has a large number of foldable regions.")})),unfoldOnClickAfterEndOfLine:_(new ge(49,"unfoldOnClickAfterEndOfLine",!1,{description:d("unfoldOnClickAfterEndOfLine","Controls whether clicking on the empty content after a folded line will unfold the line.")})),fontFamily:_(new Mt(50,"fontFamily",Xn.fontFamily,{description:d("fontFamily","Controls the font family.")})),fontInfo:_(new Fg),fontLigatures2:_(new ul),fontSize:_(new Bg),fontWeight:_(new zg),fontVariations:_(new Is),formatOnPaste:_(new ge(56,"formatOnPaste",!1,{description:d("formatOnPaste","Controls whether the editor should automatically format the pasted content. A formatter must be available and the formatter should be able to format a range in a document.")})),formatOnType:_(new ge(57,"formatOnType",!1,{description:d("formatOnType","Controls whether the editor should automatically format the line after typing.")})),glyphMargin:_(new ge(58,"glyphMargin",!0,{description:d("glyphMargin","Controls whether the editor should render the vertical glyph margin. Glyph margin is mostly used for debugging.")})),gotoLocation:_(new Ug),hideCursorInOverviewRuler:_(new ge(60,"hideCursorInOverviewRuler",!1,{description:d("hideCursorInOverviewRuler","Controls whether the cursor should be hidden in the overview ruler.")})),hover:_(new Wg),inDiffEditor:_(new ge(62,"inDiffEditor",!1)),letterSpacing:_(new Mn(65,"letterSpacing",Xn.letterSpacing,i=>Mn.clamp(i,-5,20),{description:d("letterSpacing","Controls the letter spacing in pixels.")})),lightbulb:_(new Kg),lineDecorationsWidth:_(new Gg),lineHeight:_(new jg),lineNumbers:_(new tf),lineNumbersMinChars:_(new Ae(70,"lineNumbersMinChars",5,1,300)),linkedEditing:_(new ge(71,"linkedEditing",!1,{description:d("linkedEditing","Controls whether the editor has linked editing enabled. Depending on the language, related symbols such as HTML tags, are updated while editing.")})),links:_(new ge(72,"links",!0,{description:d("links","Controls whether the editor should detect links and make them clickable.")})),matchBrackets:_(new He(73,"matchBrackets","always",["always","near","never"],{description:d("matchBrackets","Highlight matching brackets.")})),minimap:_(new Yg),mouseStyle:_(new He(75,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:_(new Mn(76,"mouseWheelScrollSensitivity",1,i=>i===0?1:i,{markdownDescription:d("mouseWheelScrollSensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")})),mouseWheelZoom:_(new ge(77,"mouseWheelZoom",!1,{markdownDescription:Se?d("mouseWheelZoom.mac","Zoom the font of the editor when using mouse wheel and holding `Cmd`."):d("mouseWheelZoom","Zoom the font of the editor when using mouse wheel and holding `Ctrl`.")})),multiCursorMergeOverlapping:_(new ge(78,"multiCursorMergeOverlapping",!0,{description:d("multiCursorMergeOverlapping","Merge multiple cursors when they are overlapping.")})),multiCursorModifier:_(new bs(79,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],vS,{markdownEnumDescriptions:[d("multiCursorModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),d("multiCursorModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],markdownDescription:d({key:"multiCursorModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add multiple cursors with the mouse. The Go to Definition and Open Link mouse gestures will adapt such that they do not conflict with the [multicursor modifier](https://code.visualstudio.com/docs/editor/codebasics#_multicursor-modifier).")})),multiCursorPaste:_(new He(80,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[d("multiCursorPaste.spread","Each cursor pastes a single line of the text."),d("multiCursorPaste.full","Each cursor pastes the full text.")],markdownDescription:d("multiCursorPaste","Controls pasting when the line count of the pasted text matches the cursor count.")})),multiCursorLimit:_(new Ae(81,"multiCursorLimit",1e4,1,1e5,{markdownDescription:d("multiCursorLimit","Controls the max number of cursors that can be in an active editor at once.")})),occurrencesHighlight:_(new He(82,"occurrencesHighlight","singleFile",["off","singleFile","multiFile"],{markdownEnumDescriptions:[d("occurrencesHighlight.off","Does not highlight occurrences."),d("occurrencesHighlight.singleFile","Highlights occurrences only in the current file."),d("occurrencesHighlight.multiFile","Experimental: Highlights occurrences across all valid open files.")],markdownDescription:d("occurrencesHighlight","Controls whether occurrences should be highlighted across open files.")})),overviewRulerBorder:_(new ge(83,"overviewRulerBorder",!0,{description:d("overviewRulerBorder","Controls whether a border should be drawn around the overview ruler.")})),overviewRulerLanes:_(new Ae(84,"overviewRulerLanes",3,0,3)),padding:_(new Xg),pasteAs:_(new bf),parameterHints:_(new Zg),peekWidgetDefaultFocus:_(new He(88,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[d("peekWidgetDefaultFocus.tree","Focus the tree when opening peek"),d("peekWidgetDefaultFocus.editor","Focus the editor when opening peek")],description:d("peekWidgetDefaultFocus","Controls whether to focus the inline editor or the tree in the peek widget.")})),placeholder:_(new Jg),definitionLinkOpensInPeek:_(new ge(90,"definitionLinkOpensInPeek",!1,{description:d("definitionLinkOpensInPeek","Controls whether the Go to Definition mouse gesture always opens the peek widget.")})),quickSuggestions:_(new ef),quickSuggestionsDelay:_(new Ae(92,"quickSuggestionsDelay",10,0,1073741824,{description:d("quickSuggestionsDelay","Controls the delay in milliseconds after which quick suggestions will show up.")})),readOnly:_(new ge(93,"readOnly",!1)),readOnlyMessage:_(new rf),renameOnType:_(new ge(95,"renameOnType",!1,{description:d("renameOnType","Controls whether the editor auto renames on type."),markdownDeprecationMessage:d("renameOnTypeDeprecate","Deprecated, use `editor.linkedEditing` instead.")})),renderControlCharacters:_(new ge(96,"renderControlCharacters",!0,{description:d("renderControlCharacters","Controls whether the editor should render control characters."),restricted:!0})),renderFinalNewline:_(new He(97,"renderFinalNewline",Zt?"dimmed":"on",["off","on","dimmed"],{description:d("renderFinalNewline","Render last line number when the file ends with a newline.")})),renderLineHighlight:_(new He(98,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",d("renderLineHighlight.all","Highlights both the gutter and the current line.")],description:d("renderLineHighlight","Controls how the editor should render the current line highlight.")})),renderLineHighlightOnlyWhenFocus:_(new ge(99,"renderLineHighlightOnlyWhenFocus",!1,{description:d("renderLineHighlightOnlyWhenFocus","Controls if the editor should render the current line highlight only when the editor is focused.")})),renderValidationDecorations:_(new He(100,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:_(new He(101,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",d("renderWhitespace.boundary","Render whitespace characters except for single spaces between words."),d("renderWhitespace.selection","Render whitespace characters only on selected text."),d("renderWhitespace.trailing","Render only trailing whitespace characters."),""],description:d("renderWhitespace","Controls how the editor should render whitespace characters.")})),revealHorizontalRightPadding:_(new Ae(102,"revealHorizontalRightPadding",15,0,1e3)),roundedSelection:_(new ge(103,"roundedSelection",!0,{description:d("roundedSelection","Controls whether selections should have rounded corners.")})),rulers:_(new nf),scrollbar:_(new of),scrollBeyondLastColumn:_(new Ae(106,"scrollBeyondLastColumn",4,0,1073741824,{description:d("scrollBeyondLastColumn","Controls the number of extra characters beyond which the editor will scroll horizontally.")})),scrollBeyondLastLine:_(new ge(107,"scrollBeyondLastLine",!0,{description:d("scrollBeyondLastLine","Controls whether the editor will scroll beyond the last line.")})),scrollPredominantAxis:_(new ge(108,"scrollPredominantAxis",!0,{description:d("scrollPredominantAxis","Scroll only along the predominant axis when scrolling both vertically and horizontally at the same time. Prevents horizontal drift when scrolling vertically on a trackpad.")})),selectionClipboard:_(new ge(109,"selectionClipboard",!0,{description:d("selectionClipboard","Controls whether the Linux primary clipboard should be supported."),included:Zt})),selectionHighlight:_(new ge(110,"selectionHighlight",!0,{description:d("selectionHighlight","Controls whether the editor should highlight matches similar to the selection.")})),selectOnLineNumbers:_(new ge(111,"selectOnLineNumbers",!0)),showFoldingControls:_(new He(112,"showFoldingControls","mouseover",["always","never","mouseover"],{enumDescriptions:[d("showFoldingControls.always","Always show the folding controls."),d("showFoldingControls.never","Never show the folding controls and reduce the gutter size."),d("showFoldingControls.mouseover","Only show the folding controls when the mouse is over the gutter.")],description:d("showFoldingControls","Controls when the folding controls on the gutter are shown.")})),showUnused:_(new ge(113,"showUnused",!0,{description:d("showUnused","Controls fading out of unused code.")})),showDeprecated:_(new ge(142,"showDeprecated",!0,{description:d("showDeprecated","Controls strikethrough deprecated variables.")})),inlayHints:_(new $g),snippetSuggestions:_(new He(114,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[d("snippetSuggestions.top","Show snippet suggestions on top of other suggestions."),d("snippetSuggestions.bottom","Show snippet suggestions below other suggestions."),d("snippetSuggestions.inline","Show snippets suggestions with other suggestions."),d("snippetSuggestions.none","Do not show snippet suggestions.")],description:d("snippetSuggestions","Controls whether snippets are shown with other suggestions and how they are sorted.")})),smartSelect:_(new hf),smoothScrolling:_(new ge(116,"smoothScrolling",!1,{description:d("smoothScrolling","Controls whether the editor will scroll using an animation.")})),stopRenderingLineAfter:_(new Ae(119,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:_(new uf),inlineSuggest:_(new af),inlineEdit:_(new lf),inlineCompletionsAccessibilityVerbose:_(new ge(151,"inlineCompletionsAccessibilityVerbose",!1,{description:d("inlineCompletionsAccessibilityVerbose","Controls whether the accessibility hint should be provided to screen reader users when an inline completion is shown.")})),suggestFontSize:_(new Ae(121,"suggestFontSize",0,0,1e3,{markdownDescription:d("suggestFontSize","Font size for the suggest widget. When set to {0}, the value of {1} is used.","`0`","`#editor.fontSize#`")})),suggestLineHeight:_(new Ae(122,"suggestLineHeight",0,0,1e3,{markdownDescription:d("suggestLineHeight","Line height for the suggest widget. When set to {0}, the value of {1} is used. The minimum value is 8.","`0`","`#editor.lineHeight#`")})),suggestOnTriggerCharacters:_(new ge(123,"suggestOnTriggerCharacters",!0,{description:d("suggestOnTriggerCharacters","Controls whether suggestions should automatically show up when typing trigger characters.")})),suggestSelection:_(new He(124,"suggestSelection","first",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[d("suggestSelection.first","Always select the first suggestion."),d("suggestSelection.recentlyUsed","Select recent suggestions unless further typing selects one, e.g. `console.| -> console.log` because `log` has been completed recently."),d("suggestSelection.recentlyUsedByPrefix","Select suggestions based on previous prefixes that have completed those suggestions, e.g. `co -> console` and `con -> const`.")],description:d("suggestSelection","Controls how suggestions are pre-selected when showing the suggest list.")})),tabCompletion:_(new He(125,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[d("tabCompletion.on","Tab complete will insert the best matching suggestion when pressing tab."),d("tabCompletion.off","Disable tab completions."),d("tabCompletion.onlySnippets","Tab complete snippets when their prefix match. Works best when 'quickSuggestions' aren't enabled.")],description:d("tabCompletion","Enables tab completions.")})),tabIndex:_(new Ae(126,"tabIndex",0,-1,1073741824)),unicodeHighlight:_(new sf),unusualLineTerminators:_(new He(128,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[d("unusualLineTerminators.auto","Unusual line terminators are automatically removed."),d("unusualLineTerminators.off","Unusual line terminators are ignored."),d("unusualLineTerminators.prompt","Unusual line terminators prompt to be removed.")],description:d("unusualLineTerminators","Remove unusual line terminators that might cause problems.")})),useShadowDOM:_(new ge(129,"useShadowDOM",!0)),useTabStops:_(new ge(130,"useTabStops",!0,{description:d("useTabStops","Spaces and tabs are inserted and deleted in alignment with tab stops.")})),wordBreak:_(new He(131,"wordBreak","normal",["normal","keepAll"],{markdownEnumDescriptions:[d("wordBreak.normal","Use the default line break rule."),d("wordBreak.keepAll","Word breaks should not be used for Chinese/Japanese/Korean (CJK) text. Non-CJK text behavior is the same as for normal.")],description:d("wordBreak","Controls the word break rules used for Chinese/Japanese/Korean (CJK) text.")})),wordSegmenterLocales:_(new pf),wordSeparators:_(new Mt(133,"wordSeparators",Cg,{description:d("wordSeparators","Characters that will be used as word separators when doing word related navigations or operations.")})),wordWrap:_(new He(134,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[d("wordWrap.off","Lines will never wrap."),d("wordWrap.on","Lines will wrap at the viewport width."),d({key:"wordWrap.wordWrapColumn",comment:["- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at `#editor.wordWrapColumn#`."),d({key:"wordWrap.bounded",comment:["- viewport means the edge of the visible window size.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at the minimum of viewport and `#editor.wordWrapColumn#`.")],description:d({key:"wordWrap",comment:["- 'off', 'on', 'wordWrapColumn' and 'bounded' refer to values the setting can take and should not be localized.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Controls how lines should wrap.")})),wordWrapBreakAfterCharacters:_(new Mt(135,"wordWrapBreakAfterCharacters"," 	})]?|/&.,;\xA2\xB0\u2032\u2033\u2030\u2103\u3001\u3002\uFF61\uFF64\uFFE0\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF01\uFF05\u30FB\uFF65\u309D\u309E\u30FD\u30FE\u30FC\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u3095\u3096\u31F0\u31F1\u31F2\u31F3\u31F4\u31F5\u31F6\u31F7\u31F8\u31F9\u31FA\u31FB\u31FC\u31FD\u31FE\u31FF\u3005\u303B\uFF67\uFF68\uFF69\uFF6A\uFF6B\uFF6C\uFF6D\uFF6E\uFF6F\uFF70\u201D\u3009\u300B\u300D\u300F\u3011\u3015\uFF09\uFF3D\uFF5D\uFF63")),wordWrapBreakBeforeCharacters:_(new Mt(136,"wordWrapBreakBeforeCharacters","([{\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B\uFF62\xA3\xA5\uFF04\uFFE1\uFFE5+\uFF0B")),wordWrapColumn:_(new Ae(137,"wordWrapColumn",80,1,1073741824,{markdownDescription:d({key:"wordWrapColumn",comment:["- `editor.wordWrap` refers to a different setting and should not be localized.","- 'wordWrapColumn' and 'bounded' refer to values the different setting can take and should not be localized."]},"Controls the wrapping column of the editor when `#editor.wordWrap#` is `wordWrapColumn` or `bounded`.")})),wordWrapOverride1:_(new He(138,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:_(new He(139,"wordWrapOverride2","inherit",["off","on","inherit"])),editorClassName:_(new Mg),defaultColorDecorators:_(new ge(149,"defaultColorDecorators",!1,{markdownDescription:d("defaultColorDecorators","Controls whether inline color decorations should be shown using the default document color provider")})),pixelRatio:_(new Qg),tabFocusMode:_(new ge(146,"tabFocusMode",!1,{markdownDescription:d("tabFocusMode","Controls whether the editor receives tabs or defers them to the workbench for navigation.")})),layoutInfo:_(new Hg),wrappingInfo:_(new ff),wrappingIndent:_(new gf),wrappingStrategy:_(new Vg)};var Oc=new class{_zoomLevel=0;_onDidChangeZoomLevel=new N;onDidChangeZoomLevel=this._onDidChangeZoomLevel.event;getZoomLevel(){return this._zoomLevel}setZoomLevel(i){i=Math.min(Math.max(-5,i),20),this._zoomLevel!==i&&(this._zoomLevel=i,this._onDidChangeZoomLevel.fire(this._zoomLevel))}};var TS=Se?1.5:1.35,vf=8,hl=class i{_bareFontInfoBrand=void 0;static createFromValidatedSettings(e,t,n){let r=e.get(50),o=e.get(54),s=e.get(53),a=e.get(52),l=e.get(55),c=e.get(68),u=e.get(65);return i._create(r,o,s,a,l,c,u,t,n)}static createFromRawSettings(e,t,n=!1){let r=Dr.fontFamily.validate(e.fontFamily),o=Dr.fontWeight.validate(e.fontWeight),s=Dr.fontSize.validate(e.fontSize),a=Dr.fontLigatures2.validate(e.fontLigatures),l=Dr.fontVariations.validate(e.fontVariations),c=Dr.lineHeight.validate(e.lineHeight),u=Dr.letterSpacing.validate(e.letterSpacing);return i._create(r,o,s,a,l,c,u,t,n)}static _create(e,t,n,r,o,s,a,l,c){s===0?s=TS*n:s<vf&&(s=s*n),s=Math.round(s),s<vf&&(s=vf);let u=1+(c?0:Oc.getZoomLevel()*.1);return n*=u,s*=u,o===Is.TRANSLATE&&(t==="normal"||t==="bold"?o=Is.OFF:(o=`'wght' ${parseInt(t,10)}`,t="normal")),new i({pixelRatio:l,fontFamily:e,fontWeight:t,fontSize:n,fontFeatureSettings:r,fontVariationSettings:o,lineHeight:s,letterSpacing:a})}pixelRatio;fontFamily;fontWeight;fontSize;fontFeatureSettings;fontVariationSettings;lineHeight;letterSpacing;constructor(e){this.pixelRatio=e.pixelRatio,this.fontFamily=String(e.fontFamily),this.fontWeight=String(e.fontWeight),this.fontSize=e.fontSize,this.fontFeatureSettings=e.fontFeatureSettings,this.fontVariationSettings=e.fontVariationSettings,this.lineHeight=e.lineHeight|0,this.letterSpacing=e.letterSpacing}getId(){return`${this.pixelRatio}-${this.fontFamily}-${this.fontWeight}-${this.fontSize}-${this.fontFeatureSettings}-${this.fontVariationSettings}-${this.lineHeight}-${this.letterSpacing}`}getMassagedFontFamily(){let e=Xn.fontFamily,t=i._wrapInQuotes(this.fontFamily);return e&&this.fontFamily!==e?`${t}, ${e}`:t}static _wrapInQuotes(e){return/[,"']/.test(e)?e:/[+ ]/.test(e)?`"${e}"`:e}},yf=2,xs=class extends hl{_editorStylingBrand=void 0;version=yf;isTrusted;isMonospace;typicalHalfwidthCharacterWidth;typicalFullwidthCharacterWidth;canUseHalfwidthRightwardsArrow;spaceWidth;middotWidth;wsmiddotWidth;maxDigitWidth;constructor(e,t){super(e),this.isTrusted=t,this.isMonospace=e.isMonospace,this.typicalHalfwidthCharacterWidth=e.typicalHalfwidthCharacterWidth,this.typicalFullwidthCharacterWidth=e.typicalFullwidthCharacterWidth,this.canUseHalfwidthRightwardsArrow=e.canUseHalfwidthRightwardsArrow,this.spaceWidth=e.spaceWidth,this.middotWidth=e.middotWidth,this.wsmiddotWidth=e.wsmiddotWidth,this.maxDigitWidth=e.maxDigitWidth}equals(e){return this.fontFamily===e.fontFamily&&this.fontWeight===e.fontWeight&&this.fontSize===e.fontSize&&this.fontFeatureSettings===e.fontFeatureSettings&&this.fontVariationSettings===e.fontVariationSettings&&this.lineHeight===e.lineHeight&&this.letterSpacing===e.letterSpacing&&this.typicalHalfwidthCharacterWidth===e.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===e.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.spaceWidth===e.spaceWidth&&this.middotWidth===e.middotWidth&&this.wsmiddotWidth===e.wsmiddotWidth&&this.maxDigitWidth===e.maxDigitWidth}};function Nc(i,e){i instanceof Ga?(i.setFontFamily(e.getMassagedFontFamily()),i.setFontWeight(e.fontWeight),i.setFontSize(e.fontSize),i.setFontFeatureSettings(e.fontFeatureSettings),i.setFontVariationSettings(e.fontVariationSettings),i.setLineHeight(e.lineHeight),i.setLetterSpacing(e.letterSpacing)):(i.style.fontFamily=e.getMassagedFontFamily(),i.style.fontWeight=e.fontWeight,i.style.fontSize=e.fontSize+"px",i.style.fontFeatureSettings=e.fontFeatureSettings,i.style.fontVariationSettings=e.fontVariationSettings,i.style.lineHeight=e.lineHeight+"px",i.style.letterSpacing=e.letterSpacing+"px")}var Pc=class{chr;type;width;constructor(e,t){this.chr=e,this.type=t,this.width=0}fulfill(e){this.width=e}},If=class i{_bareFontInfo;_requests;_container;_testElements;constructor(e,t){this._bareFontInfo=e,this._requests=t,this._container=null,this._testElements=null}read(e){this._createDomElements(),e.document.body.appendChild(this._container),this._readFromDomElements(),this._container?.remove(),this._container=null,this._testElements=null}_createDomElements(){let e=document.createElement("div");e.style.position="absolute",e.style.top="-50000px",e.style.width="50000px";let t=document.createElement("div");Nc(t,this._bareFontInfo),e.appendChild(t);let n=document.createElement("div");Nc(n,this._bareFontInfo),n.style.fontWeight="bold",e.appendChild(n);let r=document.createElement("div");Nc(r,this._bareFontInfo),r.style.fontStyle="italic",e.appendChild(r);let o=[];for(let s of this._requests){let a;s.type===0&&(a=t),s.type===2&&(a=n),s.type===1&&(a=r),a.appendChild(document.createElement("br"));let l=document.createElement("span");i._render(l,s),a.appendChild(l),o.push(l)}this._container=e,this._testElements=o}static _render(e,t){if(t.chr===" "){let n="\xA0";for(let r=0;r<8;r++)n+=n;e.innerText=n}else{let n=t.chr;for(let r=0;r<8;r++)n+=n;e.textContent=n}}_readFromDomElements(){for(let e=0,t=this._requests.length;e<t;e++){let n=this._requests[e],r=this._testElements[e];n.fulfill(r.offsetWidth/256)}}};function wI(i,e,t){new If(e,t).read(i)}var xf=class extends U{_cache=new Map;_evictUntrustedReadingsTimeout=-1;_onDidChange=this._register(new N);onDidChange=this._onDidChange.event;dispose(){this._evictUntrustedReadingsTimeout!==-1&&(clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),super.dispose()}clearAllFontInfos(){this._cache.clear(),this._onDidChange.fire()}_ensureCache(e){let t=us(e),n=this._cache.get(t);return n||(n=new Tf,this._cache.set(t,n)),n}_writeToCache(e,t,n){this._ensureCache(e).put(t,n),!n.isTrusted&&this._evictUntrustedReadingsTimeout===-1&&(this._evictUntrustedReadingsTimeout=e.setTimeout(()=>{this._evictUntrustedReadingsTimeout=-1,this._evictUntrustedReadings(e)},5e3))}_evictUntrustedReadings(e){let t=this._ensureCache(e),n=t.getValues(),r=!1;for(let o of n)o.isTrusted||(r=!0,t.remove(o));r&&this._onDidChange.fire()}serializeFontInfo(e){return this._ensureCache(e).getValues().filter(n=>n.isTrusted)}restoreFontInfo(e,t){for(let n of t){if(n.version!==yf)continue;let r=new xs(n,!1);this._writeToCache(e,r,r)}}readFontInfo(e,t){let n=this._ensureCache(e);if(!n.has(t)){let r=this._actualReadFontInfo(e,t);(r.typicalHalfwidthCharacterWidth<=2||r.typicalFullwidthCharacterWidth<=2||r.spaceWidth<=2||r.maxDigitWidth<=2)&&(r=new xs({pixelRatio:fs.getInstance(e).value,fontFamily:r.fontFamily,fontWeight:r.fontWeight,fontSize:r.fontSize,fontFeatureSettings:r.fontFeatureSettings,fontVariationSettings:r.fontVariationSettings,lineHeight:r.lineHeight,letterSpacing:r.letterSpacing,isMonospace:r.isMonospace,typicalHalfwidthCharacterWidth:Math.max(r.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(r.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:r.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(r.spaceWidth,5),middotWidth:Math.max(r.middotWidth,5),wsmiddotWidth:Math.max(r.wsmiddotWidth,5),maxDigitWidth:Math.max(r.maxDigitWidth,5)},!1)),this._writeToCache(e,t,r)}return n.get(t)}_createRequest(e,t,n,r){let o=new Pc(e,t);return n.push(o),r?.push(o),o}_actualReadFontInfo(e,t){let n=[],r=[],o=this._createRequest("n",0,n,r),s=this._createRequest("\uFF4D",0,n,null),a=this._createRequest(" ",0,n,r),l=this._createRequest("0",0,n,r),c=this._createRequest("1",0,n,r),u=this._createRequest("2",0,n,r),p=this._createRequest("3",0,n,r),g=this._createRequest("4",0,n,r),f=this._createRequest("5",0,n,r),T=this._createRequest("6",0,n,r),m=this._createRequest("7",0,n,r),x=this._createRequest("8",0,n,r),w=this._createRequest("9",0,n,r),k=this._createRequest("\u2192",0,n,r),L=this._createRequest("\uFFEB",0,n,null),A=this._createRequest("\xB7",0,n,r),M=this._createRequest("\u2E31",0,n,null),P="|/-_ilm%";for(let ye=0,Ke=P.length;ye<Ke;ye++)this._createRequest(P.charAt(ye),0,n,r),this._createRequest(P.charAt(ye),1,n,r),this._createRequest(P.charAt(ye),2,n,r);wI(e,t,n);let ie=Math.max(l.width,c.width,u.width,p.width,g.width,f.width,T.width,m.width,x.width,w.width),ee=t.fontFeatureSettings===ul.OFF,te=r[0].width;for(let ye=1,Ke=r.length;ee&&ye<Ke;ye++){let qe=te-r[ye].width;if(qe<-.001||qe>.001){ee=!1;break}}let ne=!0;return ee&&L.width!==te&&(ne=!1),L.width>k.width&&(ne=!1),new xs({pixelRatio:fs.getInstance(e).value,fontFamily:t.fontFamily,fontWeight:t.fontWeight,fontSize:t.fontSize,fontFeatureSettings:t.fontFeatureSettings,fontVariationSettings:t.fontVariationSettings,lineHeight:t.lineHeight,letterSpacing:t.letterSpacing,isMonospace:ee,typicalHalfwidthCharacterWidth:o.width,typicalFullwidthCharacterWidth:s.width,canUseHalfwidthRightwardsArrow:ne,spaceWidth:a.width,middotWidth:A.width,wsmiddotWidth:M.width,maxDigitWidth:ie},!0)}},Tf=class{_keys;_values;constructor(){this._keys=Object.create(null),this._values=Object.create(null)}has(e){let t=e.getId();return!!this._values[t]}get(e){let t=e.getId();return this._values[t]}put(e,t){let n=e.getId();this._keys[n]=e,this._values[n]=t}remove(e){let t=e.getId();delete this._keys[t],delete this._values[t]}getValues(){return Object.keys(this._keys).map(e=>this._values[e])}},Cf=new xf;var pl=class i{constructor(e,t){this.key=e;this.migrate=t}static items=[];apply(e){let t=i._read(e,this.key),n=o=>i._read(e,o),r=(o,s)=>i._write(e,o,s);this.migrate(t,n,r)}static _read(e,t){if(typeof e>"u")return;let n=t.indexOf(".");if(n>=0){let r=t.substring(0,n);return this._read(e[r],t.substring(n+1))}return e[t]}static _write(e,t,n){let r=t.indexOf(".");if(r>=0){let o=t.substring(0,r);e[o]=e[o]||{},this._write(e[o],t.substring(r+1),n);return}e[t]=n}};function Zn(i,e){pl.items.push(new pl(i,e))}function rn(i,e){Zn(i,(t,n,r)=>{if(typeof t<"u"){for(let[o,s]of e)if(t===o){r(i,s);return}}})}function kI(i){pl.items.forEach(e=>e.apply(i))}rn("wordWrap",[[!0,"on"],[!1,"off"]]);rn("lineNumbers",[[!0,"on"],[!1,"off"]]);rn("cursorBlinking",[["visible","solid"]]);rn("renderWhitespace",[[!0,"boundary"],[!1,"none"]]);rn("renderLineHighlight",[[!0,"line"],[!1,"none"]]);rn("acceptSuggestionOnEnter",[[!0,"on"],[!1,"off"]]);rn("tabCompletion",[[!1,"off"],[!0,"onlySnippets"]]);rn("hover",[[!0,{enabled:!0}],[!1,{enabled:!1}]]);rn("parameterHints",[[!0,{enabled:!0}],[!1,{enabled:!1}]]);rn("autoIndent",[[!1,"advanced"],[!0,"full"]]);rn("matchBrackets",[[!0,"always"],[!1,"never"]]);rn("renderFinalNewline",[[!0,"on"],[!1,"off"]]);rn("cursorSmoothCaretAnimation",[[!0,"on"],[!1,"off"]]);rn("occurrencesHighlight",[[!0,"singleFile"],[!1,"off"]]);rn("wordBasedSuggestions",[[!0,"matchingDocuments"],[!1,"off"]]);Zn("autoClosingBrackets",(i,e,t)=>{i===!1&&(t("autoClosingBrackets","never"),typeof e("autoClosingQuotes")>"u"&&t("autoClosingQuotes","never"),typeof e("autoSurround")>"u"&&t("autoSurround","never"))});Zn("renderIndentGuides",(i,e,t)=>{typeof i<"u"&&(t("renderIndentGuides",void 0),typeof e("guides.indentation")>"u"&&t("guides.indentation",!!i))});Zn("highlightActiveIndentGuide",(i,e,t)=>{typeof i<"u"&&(t("highlightActiveIndentGuide",void 0),typeof e("guides.highlightActiveIndentation")>"u"&&t("guides.highlightActiveIndentation",!!i))});var CS={method:"showMethods",function:"showFunctions",constructor:"showConstructors",deprecated:"showDeprecated",field:"showFields",variable:"showVariables",class:"showClasses",struct:"showStructs",interface:"showInterfaces",module:"showModules",property:"showProperties",event:"showEvents",operator:"showOperators",unit:"showUnits",value:"showValues",constant:"showConstants",enum:"showEnums",enumMember:"showEnumMembers",keyword:"showKeywords",text:"showWords",color:"showColors",file:"showFiles",reference:"showReferences",folder:"showFolders",typeParameter:"showTypeParameters",snippet:"showSnippets"};Zn("suggest.filteredTypes",(i,e,t)=>{if(i&&typeof i=="object"){for(let n of Object.entries(CS))i[n[0]]===!1&&typeof e(`suggest.${n[1]}`)>"u"&&t(`suggest.${n[1]}`,!1);t("suggest.filteredTypes",void 0)}});Zn("quickSuggestions",(i,e,t)=>{if(typeof i=="boolean"){let n=i?"on":"off";t("quickSuggestions",{comments:n,strings:n,other:n})}});Zn("experimental.stickyScroll.enabled",(i,e,t)=>{typeof i=="boolean"&&(t("experimental.stickyScroll.enabled",void 0),typeof e("stickyScroll.enabled")>"u"&&t("stickyScroll.enabled",i))});Zn("experimental.stickyScroll.maxLineCount",(i,e,t)=>{typeof i=="number"&&(t("experimental.stickyScroll.maxLineCount",void 0),typeof e("stickyScroll.maxLineCount")>"u"&&t("stickyScroll.maxLineCount",i))});Zn("codeActionsOnSave",(i,e,t)=>{if(i&&typeof i=="object"){let n=!1,r={};for(let o of Object.entries(i))typeof o[1]=="boolean"?(n=!0,r[o[0]]=o[1]?"explicit":"never"):r[o[0]]=o[1];n&&t("codeActionsOnSave",r)}});Zn("codeActionWidget.includeNearbyQuickfixes",(i,e,t)=>{typeof i=="boolean"&&(t("codeActionWidget.includeNearbyQuickfixes",void 0),typeof e("codeActionWidget.includeNearbyQuickFixes")>"u"&&t("codeActionWidget.includeNearbyQuickFixes",i))});Zn("lightbulb.enabled",(i,e,t)=>{typeof i=="boolean"&&t("lightbulb.enabled",i?void 0:"off")});var Sf=class{_tabFocus=!1;_onDidChangeTabFocus=new N;onDidChangeTabFocus=this._onDidChangeTabFocus.event;getTabFocusMode(){return this._tabFocus}setTabFocusMode(e){this._tabFocus=e,this._onDidChangeTabFocus.fire(this._tabFocus)}},Ef=new Sf;function _I(i){return{id:i.id,label:i.label,tooltip:i.tooltip??i.label,class:i.class,enabled:i.enabled??!0,checked:i.checked,run:async(...e)=>i.run(...e)}}var GP=Object.freeze({View:Qr("view","View"),Help:Qr("help","Help"),Test:Qr("test","Test"),File:Qr("file","File"),Preferences:Qr("preferences","Preferences"),Developer:Qr({key:"developer",comment:["A developer on Code itself or someone diagnosing issues in Code"]},"Developer")});var wf=X("commandService"),ko=new class{_commands=new Map;_onDidRegisterCommand=new N;onDidRegisterCommand=this._onDidRegisterCommand.event;registerCommand(i,e){if(!i)throw new Error("invalid command");if(typeof i=="string"){if(!e)throw new Error("invalid command");return this.registerCommand({id:i,handler:e})}if(i.metadata&&Array.isArray(i.metadata.args)){let s=[];for(let l of i.metadata.args)s.push(l.constraint);let a=i.handler;i.handler=function(l,...c){return uy(c,s),a(l,...c)}}let{id:t}=i,n=this._commands.get(t);n||(n=new Kt,this._commands.set(t,n));let r=n.unshift(i),o=pe(()=>{r(),this._commands.get(t)?.isEmpty()&&this._commands.delete(t)});return this._onDidRegisterCommand.fire(t),o}registerCommandAlias(i,e){return ko.registerCommand(i,(t,...n)=>t.get(wf).executeCommand(e,...n))}getCommand(i){let e=this._commands.get(i);if(!(!e||e.isEmpty()))return hi.first(e)}getCommands(){let i=new Map;for(let e of this._commands.keys()){let t=this.getCommand(e);t&&i.set(e,t)}return i}};ko.registerCommand("noop",()=>{});var kf=class i{_coreKeybindings;_extensionKeybindings;_cachedMergedKeybindings;constructor(){this._coreKeybindings=new Kt,this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(e){if(Xo===1){if(e&&e.win)return e.win}else if(Xo===2){if(e&&e.mac)return e.mac}else if(e&&e.linux)return e.linux;return e}registerKeybindingRule(e){let t=i.bindToCurrentPlatform(e),n=new be;if(t&&t.primary){let r=Sp(t.primary,Xo);r&&n.add(this._registerDefaultKeybinding(r,e.id,e.args,e.weight,0,e.when))}if(t&&Array.isArray(t.secondary))for(let r=0,o=t.secondary.length;r<o;r++){let s=t.secondary[r],a=Sp(s,Xo);a&&n.add(this._registerDefaultKeybinding(a,e.id,e.args,e.weight,-r-1,e.when))}return n}setExtensionKeybindings(e){let t=[],n=0;for(let r of e)r.keybinding&&(t[n++]={keybinding:r.keybinding,command:r.id,commandArgs:r.args,when:r.when,weight1:r.weight,weight2:0,extensionId:r.extensionId||null,isBuiltinExtension:r.isBuiltinExtension||!1});this._extensionKeybindings=t,this._cachedMergedKeybindings=null}registerCommandAndKeybindingRule(e){return Qo(this.registerKeybindingRule(e),ko.registerCommand(e))}_registerDefaultKeybinding(e,t,n,r,o,s){let a=this._coreKeybindings.push({keybinding:e,command:t,commandArgs:n,when:s,weight1:r,weight2:o,extensionId:null,isBuiltinExtension:!1});return this._cachedMergedKeybindings=null,pe(()=>{a(),this._cachedMergedKeybindings=null})}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=Array.from(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(ES)),this._cachedMergedKeybindings.slice(0)}},Fc=new kf,SS={EditorModes:"platform.keybindingsRegistry"};tt.add(SS.EditorModes,Fc);function ES(i,e){if(i.weight1!==e.weight1)return i.weight1-e.weight1;if(i.command&&e.command){if(i.command<e.command)return-1;if(i.command>e.command)return 1}return i.weight2-e.weight2}function kS(i){return i.command!==void 0}var Nn=class i{static _instances=new Map;static CommandPalette=new i("CommandPalette");static DebugBreakpointsContext=new i("DebugBreakpointsContext");static DebugCallStackContext=new i("DebugCallStackContext");static DebugConsoleContext=new i("DebugConsoleContext");static DebugVariablesContext=new i("DebugVariablesContext");static NotebookVariablesContext=new i("NotebookVariablesContext");static DebugHoverContext=new i("DebugHoverContext");static DebugWatchContext=new i("DebugWatchContext");static DebugToolBar=new i("DebugToolBar");static DebugToolBarStop=new i("DebugToolBarStop");static DebugCallStackToolbar=new i("DebugCallStackToolbar");static DebugCreateConfiguration=new i("DebugCreateConfiguration");static EditorContext=new i("EditorContext");static SimpleEditorContext=new i("SimpleEditorContext");static EditorContent=new i("EditorContent");static EditorLineNumberContext=new i("EditorLineNumberContext");static EditorContextCopy=new i("EditorContextCopy");static EditorContextPeek=new i("EditorContextPeek");static EditorContextShare=new i("EditorContextShare");static EditorTitle=new i("EditorTitle");static EditorTitleRun=new i("EditorTitleRun");static EditorTitleContext=new i("EditorTitleContext");static EditorTitleContextShare=new i("EditorTitleContextShare");static EmptyEditorGroup=new i("EmptyEditorGroup");static EmptyEditorGroupContext=new i("EmptyEditorGroupContext");static EditorTabsBarContext=new i("EditorTabsBarContext");static EditorTabsBarShowTabsSubmenu=new i("EditorTabsBarShowTabsSubmenu");static EditorTabsBarShowTabsZenModeSubmenu=new i("EditorTabsBarShowTabsZenModeSubmenu");static EditorActionsPositionSubmenu=new i("EditorActionsPositionSubmenu");static ExplorerContext=new i("ExplorerContext");static ExplorerContextShare=new i("ExplorerContextShare");static ExtensionContext=new i("ExtensionContext");static ExtensionEditorContextMenu=new i("ExtensionEditorContextMenu");static GlobalActivity=new i("GlobalActivity");static CommandCenter=new i("CommandCenter");static CommandCenterCenter=new i("CommandCenterCenter");static LayoutControlMenuSubmenu=new i("LayoutControlMenuSubmenu");static LayoutControlMenu=new i("LayoutControlMenu");static MenubarMainMenu=new i("MenubarMainMenu");static MenubarAppearanceMenu=new i("MenubarAppearanceMenu");static MenubarDebugMenu=new i("MenubarDebugMenu");static MenubarEditMenu=new i("MenubarEditMenu");static MenubarCopy=new i("MenubarCopy");static MenubarFileMenu=new i("MenubarFileMenu");static MenubarGoMenu=new i("MenubarGoMenu");static MenubarHelpMenu=new i("MenubarHelpMenu");static MenubarLayoutMenu=new i("MenubarLayoutMenu");static MenubarNewBreakpointMenu=new i("MenubarNewBreakpointMenu");static PanelAlignmentMenu=new i("PanelAlignmentMenu");static PanelPositionMenu=new i("PanelPositionMenu");static ActivityBarPositionMenu=new i("ActivityBarPositionMenu");static MenubarPreferencesMenu=new i("MenubarPreferencesMenu");static MenubarRecentMenu=new i("MenubarRecentMenu");static MenubarSelectionMenu=new i("MenubarSelectionMenu");static MenubarShare=new i("MenubarShare");static MenubarSwitchEditorMenu=new i("MenubarSwitchEditorMenu");static MenubarSwitchGroupMenu=new i("MenubarSwitchGroupMenu");static MenubarTerminalMenu=new i("MenubarTerminalMenu");static MenubarViewMenu=new i("MenubarViewMenu");static MenubarHomeMenu=new i("MenubarHomeMenu");static OpenEditorsContext=new i("OpenEditorsContext");static OpenEditorsContextShare=new i("OpenEditorsContextShare");static ProblemsPanelContext=new i("ProblemsPanelContext");static SCMInputBox=new i("SCMInputBox");static SCMChangesContext=new i("SCMChangesContext");static SCMChangeContext=new i("SCMChangeContext");static SCMResourceContext=new i("SCMResourceContext");static SCMResourceContextShare=new i("SCMResourceContextShare");static SCMResourceFolderContext=new i("SCMResourceFolderContext");static SCMResourceGroupContext=new i("SCMResourceGroupContext");static SCMSourceControl=new i("SCMSourceControl");static SCMSourceControlInline=new i("SCMSourceControlInline");static SCMSourceControlTitle=new i("SCMSourceControlTitle");static SCMHistoryTitle=new i("SCMHistoryTitle");static SCMTitle=new i("SCMTitle");static SearchContext=new i("SearchContext");static SearchActionMenu=new i("SearchActionContext");static StatusBarWindowIndicatorMenu=new i("StatusBarWindowIndicatorMenu");static StatusBarRemoteIndicatorMenu=new i("StatusBarRemoteIndicatorMenu");static StickyScrollContext=new i("StickyScrollContext");static TestItem=new i("TestItem");static TestItemGutter=new i("TestItemGutter");static TestProfilesContext=new i("TestProfilesContext");static TestMessageContext=new i("TestMessageContext");static TestMessageContent=new i("TestMessageContent");static TestPeekElement=new i("TestPeekElement");static TestPeekTitle=new i("TestPeekTitle");static TestCallStack=new i("TestCallStack");static TouchBarContext=new i("TouchBarContext");static TitleBarContext=new i("TitleBarContext");static TitleBarTitleContext=new i("TitleBarTitleContext");static TunnelContext=new i("TunnelContext");static TunnelPrivacy=new i("TunnelPrivacy");static TunnelProtocol=new i("TunnelProtocol");static TunnelPortInline=new i("TunnelInline");static TunnelTitle=new i("TunnelTitle");static TunnelLocalAddressInline=new i("TunnelLocalAddressInline");static TunnelOriginInline=new i("TunnelOriginInline");static ViewItemContext=new i("ViewItemContext");static ViewContainerTitle=new i("ViewContainerTitle");static ViewContainerTitleContext=new i("ViewContainerTitleContext");static ViewTitle=new i("ViewTitle");static ViewTitleContext=new i("ViewTitleContext");static CommentEditorActions=new i("CommentEditorActions");static CommentThreadTitle=new i("CommentThreadTitle");static CommentThreadActions=new i("CommentThreadActions");static CommentThreadAdditionalActions=new i("CommentThreadAdditionalActions");static CommentThreadTitleContext=new i("CommentThreadTitleContext");static CommentThreadCommentContext=new i("CommentThreadCommentContext");static CommentTitle=new i("CommentTitle");static CommentActions=new i("CommentActions");static CommentsViewThreadActions=new i("CommentsViewThreadActions");static InteractiveToolbar=new i("InteractiveToolbar");static InteractiveCellTitle=new i("InteractiveCellTitle");static InteractiveCellDelete=new i("InteractiveCellDelete");static InteractiveCellExecute=new i("InteractiveCellExecute");static InteractiveInputExecute=new i("InteractiveInputExecute");static InteractiveInputConfig=new i("InteractiveInputConfig");static ReplInputExecute=new i("ReplInputExecute");static IssueReporter=new i("IssueReporter");static NotebookToolbar=new i("NotebookToolbar");static NotebookStickyScrollContext=new i("NotebookStickyScrollContext");static NotebookCellTitle=new i("NotebookCellTitle");static NotebookCellDelete=new i("NotebookCellDelete");static NotebookCellInsert=new i("NotebookCellInsert");static NotebookCellBetween=new i("NotebookCellBetween");static NotebookCellListTop=new i("NotebookCellTop");static NotebookCellExecute=new i("NotebookCellExecute");static NotebookCellExecuteGoTo=new i("NotebookCellExecuteGoTo");static NotebookCellExecutePrimary=new i("NotebookCellExecutePrimary");static NotebookDiffCellInputTitle=new i("NotebookDiffCellInputTitle");static NotebookDiffCellMetadataTitle=new i("NotebookDiffCellMetadataTitle");static NotebookDiffCellOutputsTitle=new i("NotebookDiffCellOutputsTitle");static NotebookOutputToolbar=new i("NotebookOutputToolbar");static NotebookOutlineFilter=new i("NotebookOutlineFilter");static NotebookOutlineActionMenu=new i("NotebookOutlineActionMenu");static NotebookEditorLayoutConfigure=new i("NotebookEditorLayoutConfigure");static NotebookKernelSource=new i("NotebookKernelSource");static BulkEditTitle=new i("BulkEditTitle");static BulkEditContext=new i("BulkEditContext");static TimelineItemContext=new i("TimelineItemContext");static TimelineTitle=new i("TimelineTitle");static TimelineTitleContext=new i("TimelineTitleContext");static TimelineFilterSubMenu=new i("TimelineFilterSubMenu");static AccountsContext=new i("AccountsContext");static SidebarTitle=new i("SidebarTitle");static PanelTitle=new i("PanelTitle");static AuxiliaryBarTitle=new i("AuxiliaryBarTitle");static AuxiliaryBarHeader=new i("AuxiliaryBarHeader");static TerminalInstanceContext=new i("TerminalInstanceContext");static TerminalEditorInstanceContext=new i("TerminalEditorInstanceContext");static TerminalNewDropdownContext=new i("TerminalNewDropdownContext");static TerminalTabContext=new i("TerminalTabContext");static TerminalTabEmptyAreaContext=new i("TerminalTabEmptyAreaContext");static TerminalStickyScrollContext=new i("TerminalStickyScrollContext");static WebviewContext=new i("WebviewContext");static InlineCompletionsActions=new i("InlineCompletionsActions");static InlineEditsActions=new i("InlineEditsActions");static InlineEditActions=new i("InlineEditActions");static NewFile=new i("NewFile");static MergeInput1Toolbar=new i("MergeToolbar1Toolbar");static MergeInput2Toolbar=new i("MergeToolbar2Toolbar");static MergeBaseToolbar=new i("MergeBaseToolbar");static MergeInputResultToolbar=new i("MergeToolbarResultToolbar");static InlineSuggestionToolbar=new i("InlineSuggestionToolbar");static InlineEditToolbar=new i("InlineEditToolbar");static ChatContext=new i("ChatContext");static ChatCodeBlock=new i("ChatCodeblock");static ChatCompareBlock=new i("ChatCompareBlock");static ChatMessageTitle=new i("ChatMessageTitle");static ChatExecute=new i("ChatExecute");static ChatExecuteSecondary=new i("ChatExecuteSecondary");static ChatInputSide=new i("ChatInputSide");static AccessibleView=new i("AccessibleView");static MultiDiffEditorFileToolbar=new i("MultiDiffEditorFileToolbar");static DiffEditorHunkToolbar=new i("DiffEditorHunkToolbar");static DiffEditorSelectionToolbar=new i("DiffEditorSelectionToolbar");static for(e){return i._instances.get(e)??new i(e)}id;constructor(e){if(i._instances.has(e))throw new TypeError(`MenuId with identifier '${e}' already exists. Use MenuId.for(ident) or a unique identifier`);i._instances.set(e,this),this.id=e}},r5=X("menuService"),_o=class i{constructor(e){this.id=e;this.has=t=>t===e}static _all=new Map;static for(e){let t=this._all.get(e);return t||(t=new i(e),this._all.set(e,t)),t}static merge(e){let t=new Set;for(let n of e)n instanceof i&&t.add(n.id);return t}has},LI=new class{_commands=new Map;_menuItems=new Map;_onDidChangeMenu=new Od({merge:_o.merge});onDidChangeMenu=this._onDidChangeMenu.event;addCommand(i){return this._commands.set(i.id,i),this._onDidChangeMenu.fire(_o.for(Nn.CommandPalette)),pe(()=>{this._commands.delete(i.id)&&this._onDidChangeMenu.fire(_o.for(Nn.CommandPalette))})}getCommand(i){return this._commands.get(i)}getCommands(){let i=new Map;return this._commands.forEach((e,t)=>i.set(t,e)),i}appendMenuItem(i,e){let t=this._menuItems.get(i);t||(t=new Kt,this._menuItems.set(i,t));let n=t.push(e);return this._onDidChangeMenu.fire(_o.for(i)),pe(()=>{n(),this._onDidChangeMenu.fire(_o.for(i))})}appendMenuItems(i){let e=new be;for(let{id:t,item:n}of i)e.add(this.appendMenuItem(t,n));return e}getMenuItems(i){let e;return this._menuItems.has(i)?e=[...this._menuItems.get(i)]:e=[],i===Nn.CommandPalette&&this._appendImplicitItems(e),e}_appendImplicitItems(i){let e=new Set;for(let t of i)kS(t)&&(e.add(t.command.id),t.alt&&e.add(t.alt.id));this._commands.forEach((t,n)=>{e.has(n)||i.push({command:t})})}};var Lo=class{constructor(e,t,n,r,o,s,a){this.hideActions=r;this.menuKeybinding=o;this._commandService=a;this.id=e.id,this.label=Lo.label(e,n),this.tooltip=(typeof e.tooltip=="string"?e.tooltip:e.tooltip?.value)??"",this.enabled=!e.precondition||s.contextMatchesRules(e.precondition),this.checked=void 0;let l;if(e.toggled){let c=e.toggled.condition?e.toggled:{condition:e.toggled};this.checked=s.contextMatchesRules(c.condition),this.checked&&c.tooltip&&(this.tooltip=typeof c.tooltip=="string"?c.tooltip:c.tooltip.value),this.checked&&Ze.isThemeIcon(c.icon)&&(l=c.icon),this.checked&&c.title&&(this.label=typeof c.title=="string"?c.title:c.title.value)}l||(l=Ze.isThemeIcon(e.icon)?e.icon:void 0),this.item=e,this.alt=t?new Lo(t,void 0,n,r,void 0,s,a):void 0,this._options=n,this.class=l&&Ze.asClassName(l)}static label(e,t){return t?.renderShortTitle&&e.shortTitle?typeof e.shortTitle=="string"?e.shortTitle:e.shortTitle.value:typeof e.title=="string"?e.title:e.title.value}item;alt;_options;id;label;tooltip;class;enabled;checked;run(...e){let t=[];return this._options?.arg&&(t=[...t,this._options.arg]),this._options?.shouldForwardArgs&&(t=[...t,...e]),this._commandService.executeCommand(this.id,...t)}};Lo=ce([De(5,Xi),De(6,wf)],Lo);var Bc=class extends U{constructor(t,n,r,o,s){super();this._accessibilityService=s;this.isSimpleWidget=t,this.contextMenuId=n,this._containerObserver=this._register(new lc(o,r.dimension)),this._targetWindowId=Ce(o).vscodeWindowId,this._rawOptions=DI(r),this._validatedOptions=Do.validateOptions(this._rawOptions),this.options=this._computeOptions(),this.options.get(13)&&this._containerObserver.startObserving(),this._register(Oc.onDidChangeZoomLevel(()=>this._recomputeOptions())),this._register(Ef.onDidChangeTabFocus(()=>this._recomputeOptions())),this._register(this._containerObserver.onDidChange(()=>this._recomputeOptions())),this._register(Cf.onDidChange(()=>this._recomputeOptions())),this._register(fs.getInstance(Ce(o)).onDidChange(()=>this._recomputeOptions())),this._register(this._accessibilityService.onDidChangeScreenReaderOptimized(()=>this._recomputeOptions()))}_onDidChange=this._register(new N);onDidChange=this._onDidChange.event;_onDidChangeFast=this._register(new N);onDidChangeFast=this._onDidChangeFast.event;isSimpleWidget;contextMenuId;_containerObserver;_isDominatedByLongLines=!1;_viewLineCount=1;_lineNumbersDigitCount=1;_reservedHeight=0;_glyphMarginDecorationLaneCount=1;_targetWindowId;_computeOptionsMemory=new cl;_rawOptions;_validatedOptions;options;_recomputeOptions(){let t=this._computeOptions(),n=Do.checkEquals(this.options,t);n!==null&&(this.options=t,this._onDidChangeFast.fire(n),this._onDidChange.fire(n))}_computeOptions(){let t=this._readEnvConfiguration(),n=hl.createFromValidatedSettings(this._validatedOptions,t.pixelRatio,this.isSimpleWidget),r=this._readFontInfo(n),o={memory:this._computeOptionsMemory,outerWidth:t.outerWidth,outerHeight:t.outerHeight-this._reservedHeight,fontInfo:r,extraEditorClassName:t.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:t.emptySelectionClipboard,pixelRatio:t.pixelRatio,tabFocusMode:Ef.getTabFocusMode(),accessibilitySupport:t.accessibilitySupport,glyphMarginDecorationLaneCount:this._glyphMarginDecorationLaneCount};return Do.computeOptions(this._validatedOptions,o)}_readEnvConfiguration(){return{extraEditorClassName:LS(),outerWidth:this._containerObserver.getWidth(),outerHeight:this._containerObserver.getHeight(),emptySelectionClipboard:Ki||Vi,pixelRatio:fs.getInstance(ng(this._targetWindowId,!0).window).value,accessibilitySupport:this._accessibilityService.isScreenReaderOptimized()?2:this._accessibilityService.getAccessibilitySupport()}}_readFontInfo(t){return Cf.readFontInfo(ng(this._targetWindowId,!0).window,t)}getRawOptions(){return this._rawOptions}updateOptions(t){let n=DI(t);Do.applyUpdate(this._rawOptions,n)&&(this._validatedOptions=Do.validateOptions(this._rawOptions),this._recomputeOptions())}observeContainer(t){this._containerObserver.observe(t)}setIsDominatedByLongLines(t){this._isDominatedByLongLines!==t&&(this._isDominatedByLongLines=t,this._recomputeOptions())}setModelLineCount(t){let n=_S(t);this._lineNumbersDigitCount!==n&&(this._lineNumbersDigitCount=n,this._recomputeOptions())}setViewLineCount(t){this._viewLineCount!==t&&(this._viewLineCount=t,this._recomputeOptions())}setReservedHeight(t){this._reservedHeight!==t&&(this._reservedHeight=t,this._recomputeOptions())}setGlyphMarginDecorationLaneCount(t){this._glyphMarginDecorationLaneCount!==t&&(this._glyphMarginDecorationLaneCount=t,this._recomputeOptions())}};Bc=ce([De(4,II)],Bc);function _S(i){let e=0;for(;i;)i=Math.floor(i/10),e++;return e||1}function LS(){let i="";return!yr&&!qv&&(i+="no-user-select "),yr&&(i+="no-minimap-shadow ",i+="enable-user-select "),Se&&(i+="mac "),i}var _f=class{_values=[];_read(e){return this._values[e]}get(e){return this._values[e]}_write(e,t){this._values[e]=t}},Lf=class{_values=[];_read(e){if(e>=this._values.length)throw new Error("Cannot read uninitialized value");return this._values[e]}get(e){return this._read(e)}_write(e,t){this._values[e]=t}},Do=class i{static validateOptions(e){let t=new _f;for(let n of Lr){let r=n.name==="_never_"?void 0:e[n.name];t._write(n.id,n.validate(r))}return t}static computeOptions(e,t){let n=new Lf;for(let r of Lr)n._write(r.id,r.compute(t,n,e._read(r.id)));return n}static _deepEquals(e,t){if(typeof e!="object"||typeof t!="object"||!e||!t)return e===t;if(Array.isArray(e)||Array.isArray(t))return Array.isArray(e)&&Array.isArray(t)?Cn(e,t):!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let n in e)if(!i._deepEquals(e[n],t[n]))return!1;return!0}static checkEquals(e,t){let n=[],r=!1;for(let o of Lr){let s=!i._deepEquals(e._read(o.id),t._read(o.id));n[o.id]=s,s&&(r=!0)}return r?new Rc(n):null}static applyUpdate(e,t){let n=!1;for(let r of Lr)if(t.hasOwnProperty(r.name)){let o=r.applyUpdate(e[r.name],t[r.name]);e[r.name]=o.newValue,n=n||o.didChange}return n}};function DI(i){let e=ac(i);return kI(e),e}var xe=class i{lineNumber;column;constructor(e,t){this.lineNumber=e,this.column=t}with(e=this.lineNumber,t=this.column){return e===this.lineNumber&&t===this.column?this:new i(e,t)}delta(e=0,t=0){return this.with(this.lineNumber+e,this.column+t)}equals(e){return i.equals(this,e)}static equals(e,t){return!e&&!t?!0:!!e&&!!t&&e.lineNumber===t.lineNumber&&e.column===t.column}isBefore(e){return i.isBefore(this,e)}static isBefore(e,t){return e.lineNumber<t.lineNumber?!0:t.lineNumber<e.lineNumber?!1:e.column<t.column}isBeforeOrEqual(e){return i.isBeforeOrEqual(this,e)}static isBeforeOrEqual(e,t){return e.lineNumber<t.lineNumber?!0:t.lineNumber<e.lineNumber?!1:e.column<=t.column}static compare(e,t){let n=e.lineNumber|0,r=t.lineNumber|0;if(n===r){let o=e.column|0,s=t.column|0;return o-s}return n-r}clone(){return new i(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(e){return new i(e.lineNumber,e.column)}static isIPosition(e){return e&&typeof e.lineNumber=="number"&&typeof e.column=="number"}toJSON(){return{lineNumber:this.lineNumber,column:this.column}}};var z=class i{startLineNumber;startColumn;endLineNumber;endColumn;constructor(e,t,n,r){e>n||e===n&&t>r?(this.startLineNumber=n,this.startColumn=r,this.endLineNumber=e,this.endColumn=t):(this.startLineNumber=e,this.startColumn=t,this.endLineNumber=n,this.endColumn=r)}isEmpty(){return i.isEmpty(this)}static isEmpty(e){return e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn}containsPosition(e){return i.containsPosition(this,e)}static containsPosition(e,t){return!(t.lineNumber<e.startLineNumber||t.lineNumber>e.endLineNumber||t.lineNumber===e.startLineNumber&&t.column<e.startColumn||t.lineNumber===e.endLineNumber&&t.column>e.endColumn)}static strictContainsPosition(e,t){return!(t.lineNumber<e.startLineNumber||t.lineNumber>e.endLineNumber||t.lineNumber===e.startLineNumber&&t.column<=e.startColumn||t.lineNumber===e.endLineNumber&&t.column>=e.endColumn)}containsRange(e){return i.containsRange(this,e)}static containsRange(e,t){return!(t.startLineNumber<e.startLineNumber||t.endLineNumber<e.startLineNumber||t.startLineNumber>e.endLineNumber||t.endLineNumber>e.endLineNumber||t.startLineNumber===e.startLineNumber&&t.startColumn<e.startColumn||t.endLineNumber===e.endLineNumber&&t.endColumn>e.endColumn)}strictContainsRange(e){return i.strictContainsRange(this,e)}static strictContainsRange(e,t){return!(t.startLineNumber<e.startLineNumber||t.endLineNumber<e.startLineNumber||t.startLineNumber>e.endLineNumber||t.endLineNumber>e.endLineNumber||t.startLineNumber===e.startLineNumber&&t.startColumn<=e.startColumn||t.endLineNumber===e.endLineNumber&&t.endColumn>=e.endColumn)}plusRange(e){return i.plusRange(this,e)}static plusRange(e,t){let n,r,o,s;return t.startLineNumber<e.startLineNumber?(n=t.startLineNumber,r=t.startColumn):t.startLineNumber===e.startLineNumber?(n=t.startLineNumber,r=Math.min(t.startColumn,e.startColumn)):(n=e.startLineNumber,r=e.startColumn),t.endLineNumber>e.endLineNumber?(o=t.endLineNumber,s=t.endColumn):t.endLineNumber===e.endLineNumber?(o=t.endLineNumber,s=Math.max(t.endColumn,e.endColumn)):(o=e.endLineNumber,s=e.endColumn),new i(n,r,o,s)}intersectRanges(e){return i.intersectRanges(this,e)}static intersectRanges(e,t){let n=e.startLineNumber,r=e.startColumn,o=e.endLineNumber,s=e.endColumn,a=t.startLineNumber,l=t.startColumn,c=t.endLineNumber,u=t.endColumn;return n<a?(n=a,r=l):n===a&&(r=Math.max(r,l)),o>c?(o=c,s=u):o===c&&(s=Math.min(s,u)),n>o||n===o&&r>s?null:new i(n,r,o,s)}equalsRange(e){return i.equalsRange(this,e)}static equalsRange(e,t){return!e&&!t?!0:!!e&&!!t&&e.startLineNumber===t.startLineNumber&&e.startColumn===t.startColumn&&e.endLineNumber===t.endLineNumber&&e.endColumn===t.endColumn}getEndPosition(){return i.getEndPosition(this)}static getEndPosition(e){return new xe(e.endLineNumber,e.endColumn)}getStartPosition(){return i.getStartPosition(this)}static getStartPosition(e){return new xe(e.startLineNumber,e.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(e,t){return new i(this.startLineNumber,this.startColumn,e,t)}setStartPosition(e,t){return new i(e,t,this.endLineNumber,this.endColumn)}collapseToStart(){return i.collapseToStart(this)}static collapseToStart(e){return new i(e.startLineNumber,e.startColumn,e.startLineNumber,e.startColumn)}collapseToEnd(){return i.collapseToEnd(this)}static collapseToEnd(e){return new i(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn)}delta(e){return new i(this.startLineNumber+e,this.startColumn,this.endLineNumber+e,this.endColumn)}static fromPositions(e,t=e){return new i(e.lineNumber,e.column,t.lineNumber,t.column)}static lift(e){return e?new i(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn):null}static isIRange(e){return e&&typeof e.startLineNumber=="number"&&typeof e.startColumn=="number"&&typeof e.endLineNumber=="number"&&typeof e.endColumn=="number"}static areIntersectingOrTouching(e,t){return!(e.endLineNumber<t.startLineNumber||e.endLineNumber===t.startLineNumber&&e.endColumn<t.startColumn||t.endLineNumber<e.startLineNumber||t.endLineNumber===e.startLineNumber&&t.endColumn<e.startColumn)}static areIntersecting(e,t){return!(e.endLineNumber<t.startLineNumber||e.endLineNumber===t.startLineNumber&&e.endColumn<=t.startColumn||t.endLineNumber<e.startLineNumber||t.endLineNumber===e.startLineNumber&&t.endColumn<=e.startColumn)}static compareRangesUsingStarts(e,t){if(e&&t){let o=e.startLineNumber|0,s=t.startLineNumber|0;if(o===s){let a=e.startColumn|0,l=t.startColumn|0;if(a===l){let c=e.endLineNumber|0,u=t.endLineNumber|0;if(c===u){let p=e.endColumn|0,g=t.endColumn|0;return p-g}return c-u}return a-l}return o-s}return(e?1:0)-(t?1:0)}static compareRangesUsingEnds(e,t){return e.endLineNumber===t.endLineNumber?e.endColumn===t.endColumn?e.startLineNumber===t.startLineNumber?e.startColumn-t.startColumn:e.startLineNumber-t.startLineNumber:e.endColumn-t.endColumn:e.endLineNumber-t.endLineNumber}static spansMultipleLines(e){return e.endLineNumber>e.startLineNumber}toJSON(){return this}};var Rr=class i extends z{selectionStartLineNumber;selectionStartColumn;positionLineNumber;positionColumn;constructor(e,t,n,r){super(e,t,n,r),this.selectionStartLineNumber=e,this.selectionStartColumn=t,this.positionLineNumber=n,this.positionColumn=r}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(e){return i.selectionsEqual(this,e)}static selectionsEqual(e,t){return e.selectionStartLineNumber===t.selectionStartLineNumber&&e.selectionStartColumn===t.selectionStartColumn&&e.positionLineNumber===t.positionLineNumber&&e.positionColumn===t.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(e,t){return this.getDirection()===0?new i(this.startLineNumber,this.startColumn,e,t):new i(e,t,this.startLineNumber,this.startColumn)}getPosition(){return new xe(this.positionLineNumber,this.positionColumn)}getSelectionStart(){return new xe(this.selectionStartLineNumber,this.selectionStartColumn)}setStartPosition(e,t){return this.getDirection()===0?new i(e,t,this.endLineNumber,this.endColumn):new i(this.endLineNumber,this.endColumn,e,t)}static fromPositions(e,t=e){return new i(e.lineNumber,e.column,t.lineNumber,t.column)}static fromRange(e,t){return t===0?new i(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn):new i(e.endLineNumber,e.endColumn,e.startLineNumber,e.startColumn)}static liftSelection(e){return new i(e.selectionStartLineNumber,e.selectionStartColumn,e.positionLineNumber,e.positionColumn)}static selectionsArrEqual(e,t){if(e&&!t||!e&&t)return!1;if(!e&&!t)return!0;if(e.length!==t.length)return!1;for(let n=0,r=e.length;n<r;n++)if(!this.selectionsEqual(e[n],t[n]))return!1;return!0}static isISelection(e){return e&&typeof e.selectionStartLineNumber=="number"&&typeof e.selectionStartColumn=="number"&&typeof e.positionLineNumber=="number"&&typeof e.positionColumn=="number"}static createWithDirection(e,t,n,r,o){return o===0?new i(e,t,n,r):new i(n,r,e,t)}};var Ge=class i{constructor(e,t){this.start=e;this.endExclusive=t;if(e>t)throw new _e(`Invalid range: ${this.toString()}`)}static addRange(e,t){let n=0;for(;n<t.length&&t[n].endExclusive<e.start;)n++;let r=n;for(;r<t.length&&t[r].start<=e.endExclusive;)r++;if(n===r)t.splice(n,0,e);else{let o=Math.min(e.start,t[n].start),s=Math.max(e.endExclusive,t[r-1].endExclusive);t.splice(n,r-n,new i(o,s))}}static tryCreate(e,t){if(!(e>t))return new i(e,t)}static ofLength(e){return new i(0,e)}static ofStartAndLength(e,t){return new i(e,e+t)}static emptyAt(e){return new i(e,e)}get isEmpty(){return this.start===this.endExclusive}delta(e){return new i(this.start+e,this.endExclusive+e)}deltaStart(e){return new i(this.start+e,this.endExclusive)}deltaEnd(e){return new i(this.start,this.endExclusive+e)}get length(){return this.endExclusive-this.start}toString(){return`[${this.start}, ${this.endExclusive})`}equals(e){return this.start===e.start&&this.endExclusive===e.endExclusive}containsRange(e){return this.start<=e.start&&e.endExclusive<=this.endExclusive}contains(e){return this.start<=e&&e<this.endExclusive}join(e){return new i(Math.min(this.start,e.start),Math.max(this.endExclusive,e.endExclusive))}intersect(e){let t=Math.max(this.start,e.start),n=Math.min(this.endExclusive,e.endExclusive);if(t<=n)return new i(t,n)}intersectionLength(e){let t=Math.max(this.start,e.start),n=Math.min(this.endExclusive,e.endExclusive);return Math.max(0,n-t)}intersects(e){let t=Math.max(this.start,e.start),n=Math.min(this.endExclusive,e.endExclusive);return t<n}intersectsOrTouches(e){let t=Math.max(this.start,e.start),n=Math.min(this.endExclusive,e.endExclusive);return t<=n}isBefore(e){return this.endExclusive<=e.start}isAfter(e){return this.start>=e.endExclusive}slice(e){return e.slice(this.start,this.endExclusive)}substring(e){return e.substring(this.start,this.endExclusive)}clip(e){if(this.isEmpty)throw new _e(`Invalid clipping range: ${this.toString()}`);return Math.max(this.start,Math.min(this.endExclusive-1,e))}clipCyclic(e){if(this.isEmpty)throw new _e(`Invalid clipping range: ${this.toString()}`);return e<this.start?this.endExclusive-(this.start-e)%this.length:e>=this.endExclusive?this.start+(e-this.start)%this.length:e}map(e){let t=[];for(let n=this.start;n<this.endExclusive;n++)t.push(e(n));return t}forEach(e){for(let t=this.start;t<this.endExclusive;t++)e(t)}};var zt=class i{static fromRange(e){return new i(e.startLineNumber,e.endLineNumber)}static fromRangeInclusive(e){return new i(e.startLineNumber,e.endLineNumber+1)}static subtract(e,t){return t?e.startLineNumber<t.startLineNumber&&t.endLineNumberExclusive<e.endLineNumberExclusive?[new i(e.startLineNumber,t.startLineNumber),new i(t.endLineNumberExclusive,e.endLineNumberExclusive)]:t.startLineNumber<=e.startLineNumber&&e.endLineNumberExclusive<=t.endLineNumberExclusive?[]:t.endLineNumberExclusive<e.endLineNumberExclusive?[new i(Math.max(t.endLineNumberExclusive,e.startLineNumber),e.endLineNumberExclusive)]:[new i(e.startLineNumber,Math.min(t.startLineNumber,e.endLineNumberExclusive))]:[e]}static joinMany(e){if(e.length===0)return[];let t=new zc(e[0].slice());for(let n=1;n<e.length;n++)t=t.getUnion(new zc(e[n].slice()));return t.ranges}static join(e){if(e.length===0)throw new _e("lineRanges cannot be empty");let t=e[0].startLineNumber,n=e[0].endLineNumberExclusive;for(let r=1;r<e.length;r++)t=Math.min(t,e[r].startLineNumber),n=Math.max(n,e[r].endLineNumberExclusive);return new i(t,n)}static ofLength(e,t){return new i(e,e+t)}static deserialize(e){return new i(e[0],e[1])}startLineNumber;endLineNumberExclusive;constructor(e,t){if(e>t)throw new _e(`startLineNumber ${e} cannot be after endLineNumberExclusive ${t}`);this.startLineNumber=e,this.endLineNumberExclusive=t}contains(e){return this.startLineNumber<=e&&e<this.endLineNumberExclusive}get isEmpty(){return this.startLineNumber===this.endLineNumberExclusive}delta(e){return new i(this.startLineNumber+e,this.endLineNumberExclusive+e)}deltaLength(e){return new i(this.startLineNumber,this.endLineNumberExclusive+e)}get length(){return this.endLineNumberExclusive-this.startLineNumber}join(e){return new i(Math.min(this.startLineNumber,e.startLineNumber),Math.max(this.endLineNumberExclusive,e.endLineNumberExclusive))}toString(){return`[${this.startLineNumber},${this.endLineNumberExclusive})`}intersect(e){let t=Math.max(this.startLineNumber,e.startLineNumber),n=Math.min(this.endLineNumberExclusive,e.endLineNumberExclusive);if(t<=n)return new i(t,n)}intersectsStrict(e){return this.startLineNumber<e.endLineNumberExclusive&&e.startLineNumber<this.endLineNumberExclusive}overlapOrTouch(e){return this.startLineNumber<=e.endLineNumberExclusive&&e.startLineNumber<=this.endLineNumberExclusive}equals(e){return this.startLineNumber===e.startLineNumber&&this.endLineNumberExclusive===e.endLineNumberExclusive}toInclusiveRange(){return this.isEmpty?null:new z(this.startLineNumber,1,this.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER)}toExclusiveRange(){return new z(this.startLineNumber,1,this.endLineNumberExclusive,1)}mapToLineArray(e){let t=[];for(let n=this.startLineNumber;n<this.endLineNumberExclusive;n++)t.push(e(n));return t}forEach(e){for(let t=this.startLineNumber;t<this.endLineNumberExclusive;t++)e(t)}serialize(){return[this.startLineNumber,this.endLineNumberExclusive]}includes(e){return this.startLineNumber<=e&&e<this.endLineNumberExclusive}toOffsetRange(){return new Ge(this.startLineNumber-1,this.endLineNumberExclusive-1)}},zc=class i{constructor(e=[]){this._normalizedRanges=e}get ranges(){return this._normalizedRanges}addRange(e){if(e.length===0)return;let t=gd(this._normalizedRanges,r=>r.endLineNumberExclusive>=e.startLineNumber),n=pa(this._normalizedRanges,r=>r.startLineNumber<=e.endLineNumberExclusive)+1;if(t===n)this._normalizedRanges.splice(t,0,e);else if(t===n-1){let r=this._normalizedRanges[t];this._normalizedRanges[t]=r.join(e)}else{let r=this._normalizedRanges[t].join(this._normalizedRanges[n-1]).join(e);this._normalizedRanges.splice(t,n-t,r)}}contains(e){let t=Kh(this._normalizedRanges,n=>n.startLineNumber<=e);return!!t&&t.endLineNumberExclusive>e}intersects(e){let t=Kh(this._normalizedRanges,n=>n.startLineNumber<e.endLineNumberExclusive);return!!t&&t.endLineNumberExclusive>e.startLineNumber}getUnion(e){if(this._normalizedRanges.length===0)return e;if(e._normalizedRanges.length===0)return this;let t=[],n=0,r=0,o=null;for(;n<this._normalizedRanges.length||r<e._normalizedRanges.length;){let s=null;if(n<this._normalizedRanges.length&&r<e._normalizedRanges.length){let a=this._normalizedRanges[n],l=e._normalizedRanges[r];a.startLineNumber<l.startLineNumber?(s=a,n++):(s=l,r++)}else n<this._normalizedRanges.length?(s=this._normalizedRanges[n],n++):(s=e._normalizedRanges[r],r++);o===null?o=s:o.endLineNumberExclusive>=s.startLineNumber?o=new zt(o.startLineNumber,Math.max(o.endLineNumberExclusive,s.endLineNumberExclusive)):(t.push(o),o=s)}return o!==null&&t.push(o),new i(t)}subtractFrom(e){let t=gd(this._normalizedRanges,s=>s.endLineNumberExclusive>=e.startLineNumber),n=pa(this._normalizedRanges,s=>s.startLineNumber<=e.endLineNumberExclusive)+1;if(t===n)return new i([e]);let r=[],o=e.startLineNumber;for(let s=t;s<n;s++){let a=this._normalizedRanges[s];a.startLineNumber>o&&r.push(new zt(o,a.startLineNumber)),o=a.endLineNumberExclusive}return o<e.endLineNumberExclusive&&r.push(new zt(o,e.endLineNumberExclusive)),new i(r)}toString(){return this._normalizedRanges.map(e=>e.toString()).join(", ")}getIntersection(e){let t=[],n=0,r=0;for(;n<this._normalizedRanges.length&&r<e._normalizedRanges.length;){let o=this._normalizedRanges[n],s=e._normalizedRanges[r],a=o.intersect(s);a&&!a.isEmpty&&t.push(a),o.endLineNumberExclusive<s.endLineNumberExclusive?n++:r++}return new i(t)}getWithDelta(e){return new i(this._normalizedRanges.map(t=>t.delta(e)))}};var Ts=class i{constructor(e,t){this.lineCount=e;this.columnCount=t}static zero=new i(0,0);static lengthDiffNonNegative(e,t){return t.isLessThan(e)?i.zero:e.lineCount===t.lineCount?new i(0,t.columnCount-e.columnCount):new i(t.lineCount-e.lineCount,t.columnCount)}static betweenPositions(e,t){return e.lineNumber===t.lineNumber?new i(0,t.column-e.column):new i(t.lineNumber-e.lineNumber,t.column-1)}static ofRange(e){return i.betweenPositions(e.getStartPosition(),e.getEndPosition())}static ofText(e){let t=0,n=0;for(let r of e)r===`
`?(t++,n=0):n++;return new i(t,n)}isZero(){return this.lineCount===0&&this.columnCount===0}isLessThan(e){return this.lineCount!==e.lineCount?this.lineCount<e.lineCount:this.columnCount<e.columnCount}isGreaterThan(e){return this.lineCount!==e.lineCount?this.lineCount>e.lineCount:this.columnCount>e.columnCount}isGreaterThanOrEqualTo(e){return this.lineCount!==e.lineCount?this.lineCount>e.lineCount:this.columnCount>=e.columnCount}equals(e){return this.lineCount===e.lineCount&&this.columnCount===e.columnCount}compare(e){return this.lineCount!==e.lineCount?this.lineCount-e.lineCount:this.columnCount-e.columnCount}add(e){return e.lineCount===0?new i(this.lineCount,this.columnCount+e.columnCount):new i(this.lineCount+e.lineCount,e.columnCount)}createRange(e){return this.lineCount===0?new z(e.lineNumber,e.column,e.lineNumber,e.column+this.columnCount):new z(e.lineNumber,e.column,e.lineNumber+this.lineCount,this.columnCount+1)}toRange(){return new z(1,1,this.lineCount+1,this.columnCount+1)}addToPosition(e){return this.lineCount===0?new xe(e.lineNumber,e.column+this.columnCount):new xe(e.lineNumber+this.lineCount,this.columnCount+1)}toString(){return`${this.lineCount},${this.columnCount}`}};var Uc=typeof Buffer<"u",OS=new en(()=>new Uint8Array(256)),Df,Rf,Cs=class i{static alloc(e){return Uc?new i(Buffer.allocUnsafe(e)):new i(new Uint8Array(e))}static wrap(e){return Uc&&!Buffer.isBuffer(e)&&(e=Buffer.from(e.buffer,e.byteOffset,e.byteLength)),new i(e)}static fromString(e,t){return!(t?.dontUseNodeBuffer||!1)&&Uc?new i(Buffer.from(e)):(Df||(Df=new TextEncoder),new i(Df.encode(e)))}static fromByteArray(e){let t=i.alloc(e.length);for(let n=0,r=e.length;n<r;n++)t.buffer[n]=e[n];return t}static concat(e,t){if(typeof t>"u"){t=0;for(let o=0,s=e.length;o<s;o++)t+=e[o].byteLength}let n=i.alloc(t),r=0;for(let o=0,s=e.length;o<s;o++){let a=e[o];n.set(a,r),r+=a.byteLength}return n}buffer;byteLength;constructor(e){this.buffer=e,this.byteLength=this.buffer.byteLength}clone(){let e=i.alloc(this.byteLength);return e.set(this),e}toString(){return Uc?this.buffer.toString():(Rf||(Rf=new TextDecoder),Rf.decode(this.buffer))}slice(e,t){return new i(this.buffer.subarray(e,t))}set(e,t){if(e instanceof i)this.buffer.set(e.buffer,t);else if(e instanceof Uint8Array)this.buffer.set(e,t);else if(e instanceof ArrayBuffer)this.buffer.set(new Uint8Array(e),t);else if(ArrayBuffer.isView(e))this.buffer.set(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),t);else throw new Error("Unknown argument 'array'")}readUInt32BE(e){return xt(this.buffer,e)}writeUInt32BE(e,t){Tt(this.buffer,e,t)}readUInt32LE(e){return NS(this.buffer,e)}writeUInt32LE(e,t){PS(this.buffer,e,t)}readUInt8(e){return Wc(this.buffer,e)}writeUInt8(e,t){Hc(this.buffer,e,t)}indexOf(e,t=0){return MS(this.buffer,e instanceof i?e.buffer:e,t)}};function MS(i,e,t=0){let n=e.byteLength,r=i.byteLength;if(n===0)return 0;if(n===1)return i.indexOf(e[0]);if(n>r-t)return-1;let o=OS.value;o.fill(e.length);for(let c=0;c<e.length;c++)o[e[c]]=e.length-c-1;let s=t+e.length-1,a=s,l=-1;for(;s<r;)if(i[s]===e[a]){if(a===0){l=s;break}s--,a--}else s+=Math.max(e.length-a,o[i[s]]),a=e.length-1;return l}function RI(i,e){return i[e+0]<<0>>>0|i[e+1]<<8>>>0}function AI(i,e,t){i[t+0]=e&255,e=e>>>8,i[t+1]=e&255}function xt(i,e){return i[e]*2**24+i[e+1]*2**16+i[e+2]*2**8+i[e+3]}function Tt(i,e,t){i[t+3]=e,e=e>>>8,i[t+2]=e,e=e>>>8,i[t+1]=e,e=e>>>8,i[t]=e}function NS(i,e){return i[e+0]<<0>>>0|i[e+1]<<8>>>0|i[e+2]<<16>>>0|i[e+3]<<24>>>0}function PS(i,e,t){i[t+0]=e&255,e=e>>>8,i[t+1]=e&255,e=e>>>8,i[t+2]=e&255,e=e>>>8,i[t+3]=e&255}function Wc(i,e){return i[e]}function Hc(i,e,t){i[t]=e}var Of;function OI(){return Of||(Of=new TextDecoder("UTF-16LE")),Of}var Mf;function FS(){return Mf||(Mf=new TextDecoder("UTF-16BE")),Mf}var Nf;function MI(){return Nf||(Nf=cv()?OI():FS()),Nf}function NI(i,e,t){let n=new Uint16Array(i.buffer,e,t);return t>0&&(n[0]===65279||n[0]===65534)?BS(i,e,t):OI().decode(n)}function BS(i,e,t){let n=[],r=0;for(let o=0;o<t;o++){let s=RI(i,e);e+=2,n[r++]=String.fromCharCode(s)}return n.join("")}function Vc(i){return i.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}var mn=class i{constructor(e,t,n,r){this.oldPosition=e;this.oldText=t;this.newPosition=n;this.newText=r}get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}toString(){return this.oldText.length===0?`(insert@${this.oldPosition} "${Vc(this.newText)}")`:this.newText.length===0?`(delete@${this.oldPosition} "${Vc(this.oldText)}")`:`(replace@${this.oldPosition} "${Vc(this.oldText)}" with "${Vc(this.newText)}")`}static _writeStringSize(e){return 4+2*e.length}static _writeString(e,t,n){let r=t.length;Tt(e,r,n),n+=4;for(let o=0;o<r;o++)AI(e,t.charCodeAt(o),n),n+=2;return n}static _readString(e,t){let n=xt(e,t);return t+=4,NI(e,t,n)}writeSize(){return 8+i._writeStringSize(this.oldText)+i._writeStringSize(this.newText)}write(e,t){return Tt(e,this.oldPosition,t),t+=4,Tt(e,this.newPosition,t),t+=4,t=i._writeString(e,this.oldText,t),t=i._writeString(e,this.newText,t),t}static read(e,t,n){let r=xt(e,t);t+=4;let o=xt(e,t);t+=4;let s=i._readString(e,t);t+=i._writeStringSize(s);let a=i._readString(e,t);return t+=i._writeStringSize(a),n.push(new i(r,s,o,a)),t}};function PI(i,e){return i===null||i.length===0?e:new Pf(i,e).compress()}var Pf=class i{_prevEdits;_currEdits;_result;_resultLen;_prevLen;_prevDeltaOffset;_currLen;_currDeltaOffset;constructor(e,t){this._prevEdits=e,this._currEdits=t,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let e=0,t=0,n=this._getPrev(e),r=this._getCurr(t);for(;e<this._prevLen||t<this._currLen;){if(n===null){this._acceptCurr(r),r=this._getCurr(++t);continue}if(r===null){this._acceptPrev(n),n=this._getPrev(++e);continue}if(r.oldEnd<=n.newPosition){this._acceptCurr(r),r=this._getCurr(++t);continue}if(n.newEnd<=r.oldPosition){this._acceptPrev(n),n=this._getPrev(++e);continue}if(r.oldPosition<n.newPosition){let[c,u]=i._splitCurr(r,n.newPosition-r.oldPosition);this._acceptCurr(c),r=u;continue}if(n.newPosition<r.oldPosition){let[c,u]=i._splitPrev(n,r.oldPosition-n.newPosition);this._acceptPrev(c),n=u;continue}let a,l;if(r.oldEnd===n.newEnd)a=n,l=r,n=this._getPrev(++e),r=this._getCurr(++t);else if(r.oldEnd<n.newEnd){let[c,u]=i._splitPrev(n,r.oldLength);a=c,l=r,n=u,r=this._getCurr(++t)}else{let[c,u]=i._splitCurr(r,n.newLength);a=n,l=c,n=this._getPrev(++e),r=u}this._result[this._resultLen++]=new mn(a.oldPosition,a.oldText,l.newPosition,l.newText),this._prevDeltaOffset+=a.newLength-a.oldLength,this._currDeltaOffset+=l.newLength-l.oldLength}let o=i._merge(this._result);return i._removeNoOps(o)}_acceptCurr(e){this._result[this._resultLen++]=i._rebaseCurr(this._prevDeltaOffset,e),this._currDeltaOffset+=e.newLength-e.oldLength}_getCurr(e){return e<this._currLen?this._currEdits[e]:null}_acceptPrev(e){this._result[this._resultLen++]=i._rebasePrev(this._currDeltaOffset,e),this._prevDeltaOffset+=e.newLength-e.oldLength}_getPrev(e){return e<this._prevLen?this._prevEdits[e]:null}static _rebaseCurr(e,t){return new mn(t.oldPosition-e,t.oldText,t.newPosition,t.newText)}static _rebasePrev(e,t){return new mn(t.oldPosition,t.oldText,t.newPosition+e,t.newText)}static _splitPrev(e,t){let n=e.newText.substr(0,t),r=e.newText.substr(t);return[new mn(e.oldPosition,e.oldText,e.newPosition,n),new mn(e.oldEnd,"",e.newPosition+t,r)]}static _splitCurr(e,t){let n=e.oldText.substr(0,t),r=e.oldText.substr(t);return[new mn(e.oldPosition,n,e.newPosition,e.newText),new mn(e.oldPosition+t,r,e.newEnd,"")]}static _merge(e){if(e.length===0)return e;let t=[],n=0,r=e[0];for(let o=1;o<e.length;o++){let s=e[o];r.oldEnd===s.oldPosition?r=new mn(r.oldPosition,r.oldText+s.oldText,r.newPosition,r.newText+s.newText):(t[n++]=r,r=s)}return t[n++]=r,t}static _removeNoOps(e){if(e.length===0)return e;let t=[],n=0;for(let r=0;r<e.length;r++){let o=e[r];o.oldText!==o.newText&&(t[n++]=o)}return t}};var Kc=class i{_asciiMap;_map;_defaultValue;constructor(e){let t=wp(e);this._defaultValue=t,this._asciiMap=i._createAsciiMap(t),this._map=new Map}static _createAsciiMap(e){let t=new Uint8Array(256);return t.fill(e),t}set(e,t){let n=wp(t);e>=0&&e<256?this._asciiMap[e]=n:this._map.set(e,n)}get(e){return e>=0&&e<256?this._asciiMap[e]:this._map.get(e)||this._defaultValue}clear(){this._asciiMap.fill(this._defaultValue),this._map.clear()}};var Ff=class extends Kc{intlSegmenterLocales;_segmenter=null;_cachedLine=null;_cachedSegments=[];constructor(e,t){super(0),this.intlSegmenterLocales=t,this.intlSegmenterLocales.length>0?this._segmenter=new Intl.Segmenter(this.intlSegmenterLocales,{granularity:"word"}):this._segmenter=null;for(let n=0,r=e.length;n<r;n++)this.set(e.charCodeAt(n),2);this.set(32,1),this.set(9,1)}findPrevIntlWordBeforeOrAtOffset(e,t){let n=null;for(let r of this._getIntlSegmenterWordsOnLine(e)){if(r.index>t)break;n=r}return n}findNextIntlWordAtOrAfterOffset(e,t){for(let n of this._getIntlSegmenterWordsOnLine(e))if(!(n.index<t))return n;return null}_getIntlSegmenterWordsOnLine(e){return this._segmenter?this._cachedLine===e?this._cachedSegments:(this._cachedLine=e,this._cachedSegments=this._filterWordSegments(this._segmenter.segment(e)),this._cachedSegments):[]}_filterWordSegments(e){let t=[];for(let n of e)this._isWordLike(n)&&t.push(n);return t}_isWordLike(e){return!!e.isWordLike}},FI=new br(10);function BI(i,e){let t=`${i}/${e.join(",")}`,n=FI.get(t);return n||(n=new Ff(i,e),FI.set(t,n)),n}function Or(i,e){let t=Math.pow(10,e);return Math.round(i*t)/t}var ue=class{_rgbaBrand=void 0;r;g;b;a;constructor(e,t,n,r=1){this.r=Math.min(255,Math.max(0,e))|0,this.g=Math.min(255,Math.max(0,t))|0,this.b=Math.min(255,Math.max(0,n))|0,this.a=Or(Math.max(Math.min(1,r),0),3)}static equals(e,t){return e.r===t.r&&e.g===t.g&&e.b===t.b&&e.a===t.a}},Ar=class i{_hslaBrand=void 0;h;s;l;a;constructor(e,t,n,r){this.h=Math.max(Math.min(360,e),0)|0,this.s=Or(Math.max(Math.min(1,t),0),3),this.l=Or(Math.max(Math.min(1,n),0),3),this.a=Or(Math.max(Math.min(1,r),0),3)}static equals(e,t){return e.h===t.h&&e.s===t.s&&e.l===t.l&&e.a===t.a}static fromRGBA(e){let t=e.r/255,n=e.g/255,r=e.b/255,o=e.a,s=Math.max(t,n,r),a=Math.min(t,n,r),l=0,c=0,u=(a+s)/2,p=s-a;if(p>0){switch(c=Math.min(u<=.5?p/(2*u):p/(2-2*u),1),s){case t:l=(n-r)/p+(n<r?6:0);break;case n:l=(r-t)/p+2;break;case r:l=(t-n)/p+4;break}l*=60,l=Math.round(l)}return new i(l,c,u,o)}static _hue2rgb(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}static toRGBA(e){let t=e.h/360,{s:n,l:r,a:o}=e,s,a,l;if(n===0)s=a=l=r;else{let c=r<.5?r*(1+n):r+n-r*n,u=2*r-c;s=i._hue2rgb(u,c,t+1/3),a=i._hue2rgb(u,c,t),l=i._hue2rgb(u,c,t-1/3)}return new ue(Math.round(s*255),Math.round(a*255),Math.round(l*255),o)}},Ss=class i{_hsvaBrand=void 0;h;s;v;a;constructor(e,t,n,r){this.h=Math.max(Math.min(360,e),0)|0,this.s=Or(Math.max(Math.min(1,t),0),3),this.v=Or(Math.max(Math.min(1,n),0),3),this.a=Or(Math.max(Math.min(1,r),0),3)}static equals(e,t){return e.h===t.h&&e.s===t.s&&e.v===t.v&&e.a===t.a}static fromRGBA(e){let t=e.r/255,n=e.g/255,r=e.b/255,o=Math.max(t,n,r),s=Math.min(t,n,r),a=o-s,l=o===0?0:a/o,c;return a===0?c=0:o===t?c=((n-r)/a%6+6)%6:o===n?c=(r-t)/a+2:c=(t-n)/a+4,new i(Math.round(c*60),l,o,e.a)}static toRGBA(e){let{h:t,s:n,v:r,a:o}=e,s=r*n,a=s*(1-Math.abs(t/60%2-1)),l=r-s,[c,u,p]=[0,0,0];return t<60?(c=s,u=a):t<120?(c=a,u=s):t<180?(u=s,p=a):t<240?(u=a,p=s):t<300?(c=a,p=s):t<=360&&(c=s,p=a),c=Math.round((c+l)*255),u=Math.round((u+l)*255),p=Math.round((p+l)*255),new ue(c,u,p,o)}},R=class i{static fromHex(e){return i.Format.CSS.parseHex(e)||i.red}static equals(e,t){return!e&&!t?!0:!e||!t?!1:e.equals(t)}rgba;_hsla;get hsla(){return this._hsla?this._hsla:Ar.fromRGBA(this.rgba)}_hsva;get hsva(){return this._hsva?this._hsva:Ss.fromRGBA(this.rgba)}constructor(e){if(e)if(e instanceof ue)this.rgba=e;else if(e instanceof Ar)this._hsla=e,this.rgba=Ar.toRGBA(e);else if(e instanceof Ss)this._hsva=e,this.rgba=Ss.toRGBA(e);else throw new Error("Invalid color ctor argument");else throw new Error("Color needs a value")}equals(e){return!!e&&ue.equals(this.rgba,e.rgba)&&Ar.equals(this.hsla,e.hsla)&&Ss.equals(this.hsva,e.hsva)}getRelativeLuminance(){let e=i._relativeLuminanceForComponent(this.rgba.r),t=i._relativeLuminanceForComponent(this.rgba.g),n=i._relativeLuminanceForComponent(this.rgba.b),r=.2126*e+.7152*t+.0722*n;return Or(r,4)}static _relativeLuminanceForComponent(e){let t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}getContrastRatio(e){let t=this.getRelativeLuminance(),n=e.getRelativeLuminance();return t>n?(t+.05)/(n+.05):(n+.05)/(t+.05)}isDarker(){return(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3<128}isLighter(){return(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3>=128}isLighterThan(e){let t=this.getRelativeLuminance(),n=e.getRelativeLuminance();return t>n}isDarkerThan(e){let t=this.getRelativeLuminance(),n=e.getRelativeLuminance();return t<n}lighten(e){return new i(new Ar(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*e,this.hsla.a))}darken(e){return new i(new Ar(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*e,this.hsla.a))}transparent(e){let{r:t,g:n,b:r,a:o}=this.rgba;return new i(new ue(t,n,r,o*e))}isTransparent(){return this.rgba.a===0}isOpaque(){return this.rgba.a===1}opposite(){return new i(new ue(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}blend(e){let t=e.rgba,n=this.rgba.a,r=t.a,o=n+r*(1-n);if(o<1e-6)return i.transparent;let s=this.rgba.r*n/o+t.r*r*(1-n)/o,a=this.rgba.g*n/o+t.g*r*(1-n)/o,l=this.rgba.b*n/o+t.b*r*(1-n)/o;return new i(new ue(s,a,l,o))}makeOpaque(e){if(this.isOpaque()||e.rgba.a!==1)return this;let{r:t,g:n,b:r,a:o}=this.rgba;return new i(new ue(e.rgba.r-o*(e.rgba.r-t),e.rgba.g-o*(e.rgba.g-n),e.rgba.b-o*(e.rgba.b-r),1))}flatten(...e){let t=e.reduceRight((n,r)=>i._flatten(r,n));return i._flatten(this,t)}static _flatten(e,t){let n=1-e.rgba.a;return new i(new ue(n*t.rgba.r+e.rgba.a*e.rgba.r,n*t.rgba.g+e.rgba.a*e.rgba.g,n*t.rgba.b+e.rgba.a*e.rgba.b))}_toString;toString(){return this._toString||(this._toString=i.Format.CSS.format(this)),this._toString}static getLighterColor(e,t,n){if(e.isLighterThan(t))return e;n=n||.5;let r=e.getRelativeLuminance(),o=t.getRelativeLuminance();return n=n*(o-r)/o,e.lighten(n)}static getDarkerColor(e,t,n){if(e.isDarkerThan(t))return e;n=n||.5;let r=e.getRelativeLuminance(),o=t.getRelativeLuminance();return n=n*(r-o)/r,e.darken(n)}static white=new i(new ue(255,255,255,1));static black=new i(new ue(0,0,0,1));static red=new i(new ue(255,0,0,1));static blue=new i(new ue(0,0,255,1));static green=new i(new ue(0,255,0,1));static cyan=new i(new ue(0,255,255,1));static lightgrey=new i(new ue(211,211,211,1));static transparent=new i(new ue(0,0,0,0))};(e=>{let i;(n=>{let t;(T=>{function r(m){return m.rgba.a===1?`rgb(${m.rgba.r}, ${m.rgba.g}, ${m.rgba.b})`:e.Format.CSS.formatRGBA(m)}T.formatRGB=r;function o(m){return`rgba(${m.rgba.r}, ${m.rgba.g}, ${m.rgba.b}, ${+m.rgba.a.toFixed(2)})`}T.formatRGBA=o;function s(m){return m.hsla.a===1?`hsl(${m.hsla.h}, ${(m.hsla.s*100).toFixed(2)}%, ${(m.hsla.l*100).toFixed(2)}%)`:e.Format.CSS.formatHSLA(m)}T.formatHSL=s;function a(m){return`hsla(${m.hsla.h}, ${(m.hsla.s*100).toFixed(2)}%, ${(m.hsla.l*100).toFixed(2)}%, ${m.hsla.a.toFixed(2)})`}T.formatHSLA=a;function l(m){let x=m.toString(16);return x.length!==2?"0"+x:x}function c(m){return`#${l(m.rgba.r)}${l(m.rgba.g)}${l(m.rgba.b)}`}T.formatHex=c;function u(m,x=!1){return x&&m.rgba.a===1?e.Format.CSS.formatHex(m):`#${l(m.rgba.r)}${l(m.rgba.g)}${l(m.rgba.b)}${l(Math.round(m.rgba.a*255))}`}T.formatHexA=u;function p(m){return m.isOpaque()?e.Format.CSS.formatHex(m):e.Format.CSS.formatRGBA(m)}T.format=p;function g(m){let x=m.length;if(x===0||m.charCodeAt(0)!==35)return null;if(x===7){let w=16*f(m.charCodeAt(1))+f(m.charCodeAt(2)),k=16*f(m.charCodeAt(3))+f(m.charCodeAt(4)),L=16*f(m.charCodeAt(5))+f(m.charCodeAt(6));return new e(new ue(w,k,L,1))}if(x===9){let w=16*f(m.charCodeAt(1))+f(m.charCodeAt(2)),k=16*f(m.charCodeAt(3))+f(m.charCodeAt(4)),L=16*f(m.charCodeAt(5))+f(m.charCodeAt(6)),A=16*f(m.charCodeAt(7))+f(m.charCodeAt(8));return new e(new ue(w,k,L,A/255))}if(x===4){let w=f(m.charCodeAt(1)),k=f(m.charCodeAt(2)),L=f(m.charCodeAt(3));return new e(new ue(16*w+w,16*k+k,16*L+L))}if(x===5){let w=f(m.charCodeAt(1)),k=f(m.charCodeAt(2)),L=f(m.charCodeAt(3)),A=f(m.charCodeAt(4));return new e(new ue(16*w+w,16*k+k,16*L+L,(16*A+A)/255))}return null}T.parseHex=g;function f(m){switch(m){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:return 10;case 65:return 10;case 98:return 11;case 66:return 11;case 99:return 12;case 67:return 12;case 100:return 13;case 68:return 13;case 101:return 14;case 69:return 14;case 102:return 15;case 70:return 15}return 0}})(t=n.CSS||={})})(i=e.Format||={})})(R||={});var zI=function(){if(typeof crypto=="object"&&typeof crypto.randomUUID=="function")return crypto.randomUUID.bind(crypto);let i;typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?i=crypto.getRandomValues.bind(crypto):i=function(n){for(let r=0;r<n.length;r++)n[r]=Math.floor(Math.random()*256);return n};let e=new Uint8Array(16),t=[];for(let n=0;n<256;n++)t.push(n.toString(16).padStart(2,"0"));return function(){i(e),e[6]=e[6]&15|64,e[8]=e[8]&63|128;let r=0,o="";return o+=t[e[r++]],o+=t[e[r++]],o+=t[e[r++]],o+=t[e[r++]],o+="-",o+=t[e[r++]],o+=t[e[r++]],o+="-",o+=t[e[r++]],o+=t[e[r++]],o+="-",o+=t[e[r++]],o+=t[e[r++]],o+="-",o+=t[e[r++]],o+=t[e[r++]],o+=t[e[r++]],o+=t[e[r++]],o+=t[e[r++]],o+=t[e[r++]],o}}();function Bf(i){return{asString:async()=>i,asFile:()=>{},value:typeof i=="string"?i:void 0}}function UI(i,e,t){let n={id:zI(),name:i,uri:e,data:t};return{asString:async()=>"",asFile:()=>n,value:void 0}}var Es=class{_entries=new Map;get size(){let e=0;for(let t of this._entries)e++;return e}has(e){return this._entries.has(this.toKey(e))}matches(e){let t=[...this._entries.keys()];return hi.some(this,([n,r])=>r.asFile())&&t.push("files"),HI(qc(e),t)}get(e){return this._entries.get(this.toKey(e))?.[0]}append(e,t){let n=this._entries.get(e);n?n.push(t):this._entries.set(this.toKey(e),[t])}replace(e,t){this._entries.set(this.toKey(e),[t])}delete(e){this._entries.delete(this.toKey(e))}*[Symbol.iterator](){for(let[e,t]of this._entries)for(let n of t)yield[e,n]}toKey(e){return qc(e)}};function qc(i){return i.toLowerCase()}function WI(i,e){return HI(qc(i),e.map(qc))}function HI(i,e){if(i==="*/*")return e.length>0;if(e.includes(i))return!0;let t=i.match(/^([a-z]+)\/([a-z]+|\*)$/i);if(!t)return!1;let[n,r,o]=t;return o==="*"?e.some(s=>s.startsWith(r+"/")):!1}var gl=Object.freeze({create:i=>cr(i.map(e=>e.toString())).join(`\r
`),split:i=>i.split(`\r
`),parse:i=>gl.split(i).filter(e=>!e.startsWith("#"))});var Zi=class i{constructor(e){this.value=e}static sep=".";static None=new i("@@none@@");static Empty=new i("");equals(e){return this.value===e.value}contains(e){return this.equals(e)||this.value===""||e.value.startsWith(this.value+i.sep)}intersects(e){return this.contains(e)||e.contains(this)}append(...e){return new i((this.value?[this.value,...e]:e).join(i.sep))}};var bn=class{static getLanguageId(e){return(e&255)>>>0}static getTokenType(e){return(e&768)>>>8}static containsBalancedBrackets(e){return(e&1024)!==0}static getFontStyle(e){return(e&30720)>>>11}static getForeground(e){return(e&16744448)>>>15}static getBackground(e){return(e&4278190080)>>>24}static getClassNameFromMetadata(e){let n="mtk"+this.getForeground(e),r=this.getFontStyle(e);return r&1&&(n+=" mtki"),r&2&&(n+=" mtkb"),r&4&&(n+=" mtku"),r&8&&(n+=" mtks"),n}static getInlineStyleFromMetadata(e,t){let n=this.getForeground(e),r=this.getFontStyle(e),o=`color: ${t[n]};`;r&1&&(o+="font-style: italic;"),r&2&&(o+="font-weight: bold;");let s="";return r&4&&(s+=" underline"),r&8&&(s+=" line-through"),s&&(o+=`text-decoration:${s};`),o}static getPresentationFromMetadata(e){let t=this.getForeground(e),n=this.getFontStyle(e);return{foreground:t,italic:!!(n&1),bold:!!(n&2),underline:!!(n&4),strikethrough:!!(n&8)}}};var tB=new br(1e4);var fl=class{_tokenizationSupports=new Map;_factories=new Map;_onDidChange=new N;onDidChange=this._onDidChange.event;_colorMap;constructor(){this._colorMap=null}handleChange(e){this._onDidChange.fire({changedLanguages:e,changedColorMap:!1})}register(e,t){return this._tokenizationSupports.set(e,t),this.handleChange([e]),pe(()=>{this._tokenizationSupports.get(e)===t&&(this._tokenizationSupports.delete(e),this.handleChange([e]))})}get(e){return this._tokenizationSupports.get(e)||null}registerFactory(e,t){this._factories.get(e)?.dispose();let n=new zf(this,e,t);return this._factories.set(e,n),pe(()=>{let r=this._factories.get(e);!r||r!==n||(this._factories.delete(e),r.dispose())})}async getOrCreate(e){let t=this.get(e);if(t)return t;let n=this._factories.get(e);return!n||n.isResolved?null:(await n.resolve(),this.get(e))}isResolved(e){if(this.get(e))return!0;let n=this._factories.get(e);return!!(!n||n.isResolved)}setColorMap(e){this._colorMap=e,this._onDidChange.fire({changedLanguages:Array.from(this._tokenizationSupports.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}},zf=class extends U{constructor(t,n,r){super();this._registry=t;this._languageId=n;this._factory=r}_isDisposed=!1;_resolvePromise=null;_isResolved=!1;get isResolved(){return this._isResolved}dispose(){this._isDisposed=!0,super.dispose()}async resolve(){return this._resolvePromise||(this._resolvePromise=this._create()),this._resolvePromise}async _create(){let t=await this._factory.tokenizationSupport;this._isResolved=!0,t&&!this._isDisposed&&this._register(this._registry.register(this._languageId,t))}};function on(i){let e=0,t=0,n=0,r=0;for(let o=0,s=i.length;o<s;o++){let a=i.charCodeAt(o);a===13?(e===0&&(t=o),e++,o+1<s&&i.charCodeAt(o+1)===10?(r|=2,o++):r|=3,n=o+1):a===10&&(r|=1,e===0&&(t=o),e++,n=o+1)}return e===0&&(t=i.length),[e,t,i.length-n,r]}var Wf=class i{constructor(e){this._tokenInfo=e}static create(e){return new i(e)}forEach(e){let t=0;for(let n of this._tokenInfo){let r=new Ge(t,t+n.length);e(r,n),t+=n.length}}slice(e){let t=[],n=0;for(let r of this._tokenInfo){let o=n,s=o+r.length;if(s>e.start){if(o>=e.endExclusive)break;let a=Math.max(0,e.start-o),l=Math.max(0,s-e.endExclusive);t.push(new $c(r.length-a-l,r.metadata))}n+=r.length}return i.create(t)}},$c=class{constructor(e,t){this.length=e;this.metadata=t}},Gc=class{_tokens=[];add(e,t){this._tokens.push(new $c(e,t))}build(){return Wf.create(this._tokens)}};var Nt=class i{static createEmpty(e,t){let n=i.defaultTokenMetadata,r=new Uint32Array(2);return r[0]=e.length,r[1]=n,new i(r,e,t)}static createFromTextAndMetadata(e,t){let n=0,r="",o=new Array;for(let{text:s,metadata:a}of e)o.push(n+s.length,a),n+=s.length,r+=s;return new i(new Uint32Array(o),r,t)}static convertToEndOffset(e,t){let r=(e.length>>>1)-1;for(let o=0;o<r;o++)e[o<<1]=e[o+1<<1];e[r<<1]=t}static findIndexInTokensArray(e,t){if(e.length<=2)return 0;let n=0,r=(e.length>>>1)-1;for(;n<r;){let o=n+Math.floor((r-n)/2),s=e[o<<1];if(s===t)return o+1;s<t?n=o+1:s>t&&(r=o)}return n}_lineTokensBrand=void 0;_tokens;_tokensCount;_text;languageIdCodec;static defaultTokenMetadata=(32768|2<<24)>>>0;constructor(e,t,n){this._tokens=e,this._tokensCount=this._tokens.length>>>1,this._text=t,this.languageIdCodec=n}equals(e){return e instanceof i?this.slicedEquals(e,0,this._tokensCount):!1}slicedEquals(e,t,n){if(this._text!==e._text||this._tokensCount!==e._tokensCount)return!1;let r=t<<1,o=r+(n<<1);for(let s=r;s<o;s++)if(this._tokens[s]!==e._tokens[s])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(e){return e>0?this._tokens[e-1<<1]:0}getMetadata(e){return this._tokens[(e<<1)+1]}getLanguageId(e){let t=this._tokens[(e<<1)+1],n=bn.getLanguageId(t);return this.languageIdCodec.decodeLanguageId(n)}getStandardTokenType(e){let t=this._tokens[(e<<1)+1];return bn.getTokenType(t)}getForeground(e){let t=this._tokens[(e<<1)+1];return bn.getForeground(t)}getClassName(e){let t=this._tokens[(e<<1)+1];return bn.getClassNameFromMetadata(t)}getInlineStyle(e,t){let n=this._tokens[(e<<1)+1];return bn.getInlineStyleFromMetadata(n,t)}getPresentation(e){let t=this._tokens[(e<<1)+1];return bn.getPresentationFromMetadata(t)}getEndOffset(e){return this._tokens[e<<1]}findTokenIndexAtOffset(e){return i.findIndexInTokensArray(this._tokens,e)}inflate(){return this}sliceAndInflate(e,t,n){return new Hf(this,e,t,n)}withInserted(e){if(e.length===0)return this;let t=0,n=0,r="",o=new Array,s=0;for(;;){let a=t<this._tokensCount?this._tokens[t<<1]:-1,l=n<e.length?e[n]:null;if(a!==-1&&(l===null||a<=l.offset)){r+=this._text.substring(s,a);let c=this._tokens[(t<<1)+1];o.push(r.length,c),t++,s=a}else if(l){if(l.offset>s){r+=this._text.substring(s,l.offset);let c=this._tokens[(t<<1)+1];o.push(r.length,c),s=l.offset}r+=l.text,o.push(r.length,l.tokenMetadata),n++}else break}return new i(new Uint32Array(o),r,this.languageIdCodec)}getTokensInRange(e){let t=new Gc,n=this.findTokenIndexAtOffset(e.start),r=this.findTokenIndexAtOffset(e.endExclusive);for(let o=n;o<=r;o++){let a=new Ge(this.getStartOffset(o),this.getEndOffset(o)).intersectionLength(e);a>0&&t.add(a,this.getMetadata(o))}return t.build()}getTokenText(e){let t=this.getStartOffset(e),n=this.getEndOffset(e);return this._text.substring(t,n)}forEach(e){let t=this.getCount();for(let n=0;n<t;n++)e(n)}},Hf=class i{_source;_startOffset;_endOffset;_deltaOffset;_firstTokenIndex;_tokensCount;languageIdCodec;constructor(e,t,n,r){this._source=e,this._startOffset=t,this._endOffset=n,this._deltaOffset=r,this._firstTokenIndex=e.findTokenIndexAtOffset(t),this.languageIdCodec=e.languageIdCodec,this._tokensCount=0;for(let o=this._firstTokenIndex,s=e.getCount();o<s&&!(e.getStartOffset(o)>=n);o++)this._tokensCount++}getMetadata(e){return this._source.getMetadata(this._firstTokenIndex+e)}getLanguageId(e){return this._source.getLanguageId(this._firstTokenIndex+e)}getLineContent(){return this._source.getLineContent().substring(this._startOffset,this._endOffset)}equals(e){return e instanceof i?this._startOffset===e._startOffset&&this._endOffset===e._endOffset&&this._deltaOffset===e._deltaOffset&&this._source.slicedEquals(e._source,this._firstTokenIndex,this._tokensCount):!1}getCount(){return this._tokensCount}getStandardTokenType(e){return this._source.getStandardTokenType(this._firstTokenIndex+e)}getForeground(e){return this._source.getForeground(this._firstTokenIndex+e)}getEndOffset(e){let t=this._source.getEndOffset(this._firstTokenIndex+e);return Math.min(this._endOffset,t)-this._startOffset+this._deltaOffset}getClassName(e){return this._source.getClassName(this._firstTokenIndex+e)}getInlineStyle(e,t){return this._source.getInlineStyle(this._firstTokenIndex+e,t)}getPresentation(e){return this._source.getPresentation(this._firstTokenIndex+e)}findTokenIndexAtOffset(e){return this._source.findTokenIndexAtOffset(e+this._startOffset-this._deltaOffset)-this._firstTokenIndex}getTokenText(e){let t=this._firstTokenIndex+e,n=this._source.getStartOffset(t),r=this._source.getEndOffset(t),o=this._source.getTokenText(t);return n<this._startOffset&&(o=o.substring(this._startOffset-n)),r>this._endOffset&&(o=o.substring(0,o.length-(r-this._endOffset))),o}forEach(e){for(let t=0;t<this.getCount();t++)e(t)}};var Ii=new Uint32Array(0).buffer,Ct=class i{static deleteBeginning(e,t){return e===null||e===Ii?e:i.delete(e,0,t)}static deleteEnding(e,t){if(e===null||e===Ii)return e;let n=xi(e),r=n[n.length-2];return i.delete(e,t,r)}static delete(e,t,n){if(e===null||e===Ii||t===n)return e;let r=xi(e),o=r.length>>>1;if(t===0&&r[r.length-2]===n)return Ii;let s=Nt.findIndexInTokensArray(r,t),a=s>0?r[s-1<<1]:0,l=r[s<<1];if(n<l){let f=n-t;for(let T=s;T<o;T++)r[T<<1]-=f;return e}let c,u;a!==t?(r[s<<1]=t,c=s+1<<1,u=t):(c=s<<1,u=a);let p=n-t;for(let f=s+1;f<o;f++){let T=r[f<<1]-p;T>u&&(r[c++]=T,r[c++]=r[(f<<1)+1],u=T)}if(c===r.length)return e;let g=new Uint32Array(c);return g.set(r.subarray(0,c),0),g.buffer}static append(e,t){if(t===Ii)return e;if(e===Ii)return t;if(e===null)return e;if(t===null)return null;let n=xi(e),r=xi(t),o=r.length>>>1,s=new Uint32Array(n.length+r.length);s.set(n,0);let a=n.length,l=n[n.length-2];for(let c=0;c<o;c++)s[a++]=r[c<<1]+l,s[a++]=r[(c<<1)+1];return s.buffer}static insert(e,t,n){if(e===null||e===Ii)return e;let r=xi(e),o=r.length>>>1,s=Nt.findIndexInTokensArray(r,t);s>0&&r[s-1<<1]===t&&s--;for(let a=s;a<o;a++)r[a<<1]+=n;return e}};function xi(i){return i instanceof Uint32Array?i:new Uint32Array(i)}var ml=class i{static deserialize(e,t,n){let r=new Uint32Array(e.buffer),o=xt(e,t);t+=4;let s=xt(e,t);t+=4;let a=[];for(let l=0;l<s;l++){let c=xt(e,t);t+=4,a.push(r.subarray(t/4,t/4+c/4)),t+=c}return n.push(new i(o,a)),t}_startLineNumber;_tokens;get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._startLineNumber+this._tokens.length-1}constructor(e,t){this._startLineNumber=e,this._tokens=t}getLineRange(){return new zt(this._startLineNumber,this._startLineNumber+this._tokens.length)}getLineTokens(e){return this._tokens[e-this._startLineNumber]}appendLineTokens(e){this._tokens.push(e)}serializeSize(){let e=0;e+=4,e+=4;for(let t=0;t<this._tokens.length;t++){let n=this._tokens[t];if(!(n instanceof Uint32Array))throw new Error("Not supported!");e+=4,e+=n.byteLength}return e}serialize(e,t){Tt(e,this._startLineNumber,t),t+=4,Tt(e,this._tokens.length,t),t+=4;for(let n=0;n<this._tokens.length;n++){let r=this._tokens[n];if(!(r instanceof Uint32Array))throw new Error("Not supported!");Tt(e,r.byteLength,t),t+=4,e.set(new Uint8Array(r.buffer),t),t+=r.byteLength}return t}applyEdit(e,t){let[n,r]=on(t);this._acceptDeleteRange(e),this._acceptInsertText(new xe(e.startLineNumber,e.startColumn),n,r)}_acceptDeleteRange(e){if(e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn)return;let t=e.startLineNumber-this._startLineNumber,n=e.endLineNumber-this._startLineNumber;if(n<0){let r=n-t;this._startLineNumber-=r;return}if(!(t>=this._tokens.length)){if(t<0&&n>=this._tokens.length){this._startLineNumber=0,this._tokens=[];return}if(t===n){this._tokens[t]=Ct.delete(this._tokens[t],e.startColumn-1,e.endColumn-1);return}if(t>=0)if(this._tokens[t]=Ct.deleteEnding(this._tokens[t],e.startColumn-1),n<this._tokens.length){let r=Ct.deleteBeginning(this._tokens[n],e.endColumn-1);this._tokens[t]=Ct.append(this._tokens[t],r),this._tokens.splice(t+1,n-t)}else this._tokens[t]=Ct.append(this._tokens[t],null),this._tokens=this._tokens.slice(0,t+1);else{let r=-t;this._startLineNumber-=r,this._tokens[n]=Ct.deleteBeginning(this._tokens[n],e.endColumn-1),this._tokens=this._tokens.slice(n)}}}_acceptInsertText(e,t,n){if(t===0&&n===0)return;let r=e.lineNumber-this._startLineNumber;if(r<0){this._startLineNumber+=t;return}if(!(r>=this._tokens.length)){if(t===0){this._tokens[r]=Ct.insert(this._tokens[r],e.column-1,n);return}this._tokens[r]=Ct.deleteEnding(this._tokens[r],e.column-1),this._tokens[r]=Ct.insert(this._tokens[r],e.column-1,n),this._insertLines(e.lineNumber,t)}}_insertLines(e,t){if(t===0)return;let n=[];for(let r=0;r<t;r++)n[r]=null;this._tokens=ur(this._tokens,e,n)}};var jc=(r=>(r[r.Ignore=0]="Ignore",r[r.Info=1]="Info",r[r.Warning=2]="Warning",r[r.Error=3]="Error",r))(jc||{});(a=>{let i="error",e="warning",t="warn",n="info",r="ignore";function o(l){return l?fi(i,l)?3:fi(e,l)||fi(t,l)?2:fi(n,l)?1:0:0}a.fromValue=o;function s(l){switch(l){case 3:return i;case 2:return e;case 1:return n;default:return r}}a.toString=s})(jc||={});var Qn=jc;var u9=X("IBuiltinExtensionsScannerService");var Yc=(r=>(r[r.Hint=1]="Hint",r[r.Info=2]="Info",r[r.Warning=4]="Warning",r[r.Error=8]="Error",r))(Yc||{});(o=>{function i(s,a){return a-s}o.compare=i;let e=Object.create(null);e[8]=d("sev.error","Error"),e[4]=d("sev.warning","Warning"),e[2]=d("sev.info","Info");function t(s){return e[s]||""}o.toString=t;function n(s){switch(s){case Qn.Error:return 8;case Qn.Warning:return 4;case Qn.Info:return 2;case Qn.Ignore:return 1}}o.fromSeverity=n;function r(s){switch(s){case 8:return Qn.Error;case 4:return Qn.Warning;case 2:return Qn.Info;case 1:return Qn.Ignore}}o.toSeverity=r})(Yc||={});var US;(n=>{let i="";function e(r){return t(r,!0)}n.makeKey=e;function t(r,o){let s=[i];return r.source?s.push(r.source.replace("\xA6","\\\xA6")):s.push(i),r.code?typeof r.code=="string"?s.push(r.code.replace("\xA6","\\\xA6")):s.push(r.code.value.replace("\xA6","\\\xA6")):s.push(i),r.severity!==void 0&&r.severity!==null?s.push(Yc.toString(r.severity)):s.push(i),r.message&&o?s.push(r.message.replace("\xA6","\\\xA6")):s.push(i),r.startLineNumber!==void 0&&r.startLineNumber!==null?s.push(r.startLineNumber.toString()):s.push(i),r.startColumn!==void 0&&r.startColumn!==null?s.push(r.startColumn.toString()):s.push(i),r.endLineNumber!==void 0&&r.endLineNumber!==null?s.push(r.endLineNumber.toString()):s.push(i),r.endColumn!==void 0&&r.endColumn!==null?s.push(r.endColumn.toString()):s.push(i),s.push(i),s.join("\xA6")}n.makeKeyOptionalMessage=t})(US||={});var I9=X("markerService");var Xc=class{constructor(e,t){this.tokens=e;this.endState=t}_encodedTokenizationResultBrand=void 0};var WS;(r=>{let i=new Map;i.set(0,q.symbolMethod),i.set(1,q.symbolFunction),i.set(2,q.symbolConstructor),i.set(3,q.symbolField),i.set(4,q.symbolVariable),i.set(5,q.symbolClass),i.set(6,q.symbolStruct),i.set(7,q.symbolInterface),i.set(8,q.symbolModule),i.set(9,q.symbolProperty),i.set(10,q.symbolEvent),i.set(11,q.symbolOperator),i.set(12,q.symbolUnit),i.set(13,q.symbolValue),i.set(15,q.symbolEnum),i.set(14,q.symbolConstant),i.set(15,q.symbolEnum),i.set(16,q.symbolEnumMember),i.set(17,q.symbolKeyword),i.set(27,q.symbolSnippet),i.set(18,q.symbolText),i.set(19,q.symbolColor),i.set(20,q.symbolFile),i.set(21,q.symbolReference),i.set(22,q.symbolCustomColor),i.set(23,q.symbolFolder),i.set(24,q.symbolTypeParameter),i.set(25,q.account),i.set(26,q.issues);function e(o){let s=i.get(o);return s||(console.info("No codicon found for CompletionItemKind "+o),s=q.symbolProperty),s}r.toIcon=e;let t=new Map;t.set("method",0),t.set("function",1),t.set("constructor",2),t.set("field",3),t.set("variable",4),t.set("class",5),t.set("struct",6),t.set("interface",7),t.set("module",8),t.set("property",9),t.set("event",10),t.set("operator",11),t.set("unit",12),t.set("value",13),t.set("constant",14),t.set("enum",15),t.set("enum-member",16),t.set("enumMember",16),t.set("keyword",17),t.set("snippet",27),t.set("text",18),t.set("color",19),t.set("file",20),t.set("reference",21),t.set("customcolor",22),t.set("folder",23),t.set("type-parameter",24),t.set("typeParameter",24),t.set("account",25),t.set("issue",26);function n(o,s){let a=t.get(o);return typeof a>"u"&&!s&&(a=9),a}r.fromString=n})(WS||={});var h8={17:d("Array","array"),16:d("Boolean","boolean"),4:d("Class","class"),13:d("Constant","constant"),8:d("Constructor","constructor"),9:d("Enum","enumeration"),21:d("EnumMember","enumeration member"),23:d("Event","event"),7:d("Field","field"),0:d("File","file"),11:d("Function","function"),10:d("Interface","interface"),19:d("Key","key"),5:d("Method","method"),1:d("Module","module"),2:d("Namespace","namespace"),20:d("Null","null"),15:d("Number","number"),18:d("Object","object"),24:d("Operator","operator"),3:d("Package","package"),6:d("Property","property"),14:d("String","string"),22:d("Struct","struct"),25:d("TypeParameter","type parameter"),12:d("Variable","variable")};var HS;(t=>{let i=new Map;i.set(0,q.symbolFile),i.set(1,q.symbolModule),i.set(2,q.symbolNamespace),i.set(3,q.symbolPackage),i.set(4,q.symbolClass),i.set(5,q.symbolMethod),i.set(6,q.symbolProperty),i.set(7,q.symbolField),i.set(8,q.symbolConstructor),i.set(9,q.symbolEnum),i.set(10,q.symbolInterface),i.set(11,q.symbolFunction),i.set(12,q.symbolVariable),i.set(13,q.symbolConstant),i.set(14,q.symbolString),i.set(15,q.symbolNumber),i.set(16,q.symbolBoolean),i.set(17,q.symbolArray),i.set(18,q.symbolObject),i.set(19,q.symbolKey),i.set(20,q.symbolNull),i.set(21,q.symbolEnumMember),i.set(22,q.symbolStruct),i.set(23,q.symbolEvent),i.set(24,q.symbolOperator),i.set(25,q.symbolTypeParameter);function e(n){let r=i.get(n);return r||(console.info("No codicon found for SymbolKind "+n),r=q.symbolProperty),r}t.toIcon=e})(HS||={});var KI=class i{constructor(e){this.value=e}static Comment=new i("comment");static Imports=new i("imports");static Region=new i("region");static fromValue(e){switch(e){case"comment":return i.Comment;case"imports":return i.Imports;case"region":return i.Region}return new i(e)}};var VS;(e=>{function i(t){return!t||typeof t!="object"?!1:typeof t.id=="string"&&typeof t.title=="string"}e.is=i})(VS||={});var Kf=new fl,bl=new fl;var ws=X("languageService");var qI=(e=>(e[e.value=3]="value",e))(qI||{});function Pn(i){return(i&qI.value)!==0}var ks=class{open;close;_inString;_inComment;_inRegEx;_neutralCharacter=null;_neutralCharacterSearched=!1;constructor(e){if(this.open=e.open,this.close=e.close,this._inString=!0,this._inComment=!0,this._inRegEx=!0,Array.isArray(e.notIn))for(let t=0,n=e.notIn.length;t<n;t++)switch(e.notIn[t]){case"string":this._inString=!1;break;case"comment":this._inComment=!1;break;case"regex":this._inRegEx=!1;break}}isOK(e){switch(e){case 0:return!0;case 1:return this._inComment;case 2:return this._inString;case 3:return this._inRegEx}}shouldAutoClose(e,t){if(e.getTokenCount()===0)return!0;let n=e.findTokenIndexAtOffset(t-2),r=e.getStandardTokenType(n);return this.isOK(r)}_findNeutralCharacterInRange(e,t){for(let n=e;n<=t;n++){let r=String.fromCharCode(n);if(!this.open.includes(r)&&!this.close.includes(r))return r}return null}findNeutralCharacter(){return this._neutralCharacterSearched||(this._neutralCharacterSearched=!0,this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(48,57)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(97,122)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(65,90))),this._neutralCharacter}},Zc=class{autoClosingPairsOpenByStart;autoClosingPairsOpenByEnd;autoClosingPairsCloseByStart;autoClosingPairsCloseByEnd;autoClosingPairsCloseSingleChar;constructor(e){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(let t of e)vl(this.autoClosingPairsOpenByStart,t.open.charAt(0),t),vl(this.autoClosingPairsOpenByEnd,t.open.charAt(t.open.length-1),t),vl(this.autoClosingPairsCloseByStart,t.close.charAt(0),t),vl(this.autoClosingPairsCloseByEnd,t.close.charAt(t.close.length-1),t),t.close.length===1&&t.open.length===1&&vl(this.autoClosingPairsCloseSingleChar,t.close,t)}};function vl(i,e,t){i.has(e)?i.get(e).push(t):i.set(e,[t])}var qf=class i{_richEditBracketBrand=void 0;languageId;index;open;close;forwardRegex;reversedRegex;_openSet;_closeSet;constructor(e,t,n,r,o,s){this.languageId=e,this.index=t,this.open=n,this.close=r,this.forwardRegex=o,this.reversedRegex=s,this._openSet=i._toSet(this.open),this._closeSet=i._toSet(this.close)}isOpen(e){return this._openSet.has(e)}isClose(e){return this._closeSet.has(e)}static _toSet(e){let t=new Set;for(let n of e)t.add(n);return t}};function KS(i){let e=i.length;i=i.map(s=>[s[0].toLowerCase(),s[1].toLowerCase()]);let t=[];for(let s=0;s<e;s++)t[s]=s;let n=(s,a)=>{let[l,c]=s,[u,p]=a;return l===u||l===p||c===u||c===p},r=(s,a)=>{let l=Math.min(s,a),c=Math.max(s,a);for(let u=0;u<e;u++)t[u]===c&&(t[u]=l)};for(let s=0;s<e;s++){let a=i[s];for(let l=s+1;l<e;l++){let c=i[l];n(a,c)&&r(t[s],t[l])}}let o=[];for(let s=0;s<e;s++){let a=[],l=[];for(let c=0;c<e;c++)if(t[c]===s){let[u,p]=i[c];a.push(u),l.push(p)}a.length>0&&o.push({open:a,close:l})}return o}var Qc=class{_richEditBracketsBrand=void 0;brackets;forwardRegex;reversedRegex;maxBracketLength;textIsBracket;textIsOpenBracket;constructor(e,t){let n=KS(t);this.brackets=n.map((r,o)=>new qf(e,o,r.open,r.close,qS(r.open,r.close,n,o),$S(r.open,r.close,n,o))),this.forwardRegex=GS(this.brackets),this.reversedRegex=jS(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(let r of this.brackets){for(let o of r.open)this.textIsBracket[o]=r,this.textIsOpenBracket[o]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,o.length);for(let o of r.close)this.textIsBracket[o]=r,this.textIsOpenBracket[o]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,o.length)}}};function $I(i,e,t,n){for(let r=0,o=e.length;r<o;r++){if(r===t)continue;let s=e[r];for(let a of s.open)a.indexOf(i)>=0&&n.push(a);for(let a of s.close)a.indexOf(i)>=0&&n.push(a)}}function GI(i,e){return i.length-e.length}function Jc(i){if(i.length<=1)return i;let e=[],t=new Set;for(let n of i)t.has(n)||(e.push(n),t.add(n));return e}function qS(i,e,t,n){let r=[];r=r.concat(i),r=r.concat(e);for(let o=0,s=r.length;o<s;o++)$I(r[o],t,n,r);return r=Jc(r),r.sort(GI),r.reverse(),_s(r)}function $S(i,e,t,n){let r=[];r=r.concat(i),r=r.concat(e);for(let o=0,s=r.length;o<s;o++)$I(r[o],t,n,r);return r=Jc(r),r.sort(GI),r.reverse(),_s(r.map($f))}function GS(i){let e=[];for(let t of i){for(let n of t.open)e.push(n);for(let n of t.close)e.push(n)}return e=Jc(e),_s(e)}function jS(i){let e=[];for(let t of i){for(let n of t.open)e.push(n);for(let n of t.close)e.push(n)}return e=Jc(e),_s(e.map($f))}function YS(i){let e=/^[\w ]+$/.test(i);return i=$n(i),e?`\\b${i}\\b`:i}function _s(i,e){let t=`(${i.map(YS).join(")|(")})`;return Ud(t,!0,e)}var $f=function(){function i(n){let r=new Uint16Array(n.length),o=0;for(let s=n.length-1;s>=0;s--)r[o++]=n.charCodeAt(s);return MI().decode(r)}let e=null,t=null;return function(r){return e!==r&&(e=r,t=i(e)),t}}(),jt=class{static _findPrevBracketInText(e,t,n,r){let o=n.match(e);if(!o)return null;let s=n.length-(o.index||0),a=o[0].length,l=r+s;return new z(t,l-a+1,t,l+1)}static findPrevBracketInRange(e,t,n,r,o){let a=$f(n).substring(n.length-o,n.length-r);return this._findPrevBracketInText(e,t,a,r)}static findNextBracketInText(e,t,n,r){let o=n.match(e);if(!o)return null;let s=o.index||0,a=o[0].length;if(a===0)return null;let l=r+s;return new z(t,l+1,t,l+1+a)}static findNextBracketInRange(e,t,n,r,o){let s=n.substring(r,o);return this.findNextBracketInText(e,t,s,r)}};var eu=class{constructor(e,t){this.languageId=e;let n=t.brackets?jI(t.brackets):[],r=new Da(a=>{let l=new Set;return{info:new Gf(this,a,l),closing:l}}),o=new Da(a=>{let l=new Set,c=new Set;return{info:new jf(this,a,l,c),opening:l,openingColorized:c}});for(let[a,l]of n){let c=r.get(a),u=o.get(l);c.closing.add(u.info),u.opening.add(c.info)}let s=t.colorizedBracketPairs?jI(t.colorizedBracketPairs):n.filter(a=>!(a[0]==="<"&&a[1]===">"));for(let[a,l]of s){let c=r.get(a),u=o.get(l);c.closing.add(u.info),u.openingColorized.add(c.info),u.opening.add(c.info)}this._openingBrackets=new Map([...r.cachedValues].map(([a,l])=>[a,l.info])),this._closingBrackets=new Map([...o.cachedValues].map(([a,l])=>[a,l.info]))}_openingBrackets;_closingBrackets;get openingBrackets(){return[...this._openingBrackets.values()]}get closingBrackets(){return[...this._closingBrackets.values()]}getOpeningBracketInfo(e){return this._openingBrackets.get(e)}getClosingBracketInfo(e){return this._closingBrackets.get(e)}getBracketInfo(e){return this.getOpeningBracketInfo(e)||this.getClosingBracketInfo(e)}getBracketRegExp(e){let t=Array.from([...this._openingBrackets.keys(),...this._closingBrackets.keys()]);return _s(t,e)}};function jI(i){return i.filter(([e,t])=>e!==""&&t!=="")}var tu=class{constructor(e,t){this.config=e;this.bracketText=t}get languageId(){return this.config.languageId}},Gf=class extends tu{constructor(t,n,r){super(t,n);this.openedBrackets=r}isOpeningBracket=!0},jf=class extends tu{constructor(t,n,r,o){super(t,n);this.openingBrackets=r;this.openingColorizedBrackets=o}isOpeningBracket=!1;closes(t){return t.config!==this.config?!1:this.openingBrackets.has(t)}closesColorized(t){return t.config!==this.config?!1:this.openingColorizedBrackets.has(t)}getOpeningBrackets(){return[...this.openingBrackets]}};var Qi=class i{static _nextVisibleColumn(e,t,n){return e===9?i.nextRenderTabStop(t,n):ry(e)||Vd(e)?t+2:t+1}static visibleColumnFromColumn(e,t,n){let r=Math.min(t-1,e.length),o=e.substring(0,r),s=new Aa(o),a=0;for(;!s.eol();){let l=as(o,r,s.offset);s.nextGraphemeLength(),a=this._nextVisibleColumn(l,a,n)}return a}static toStatusbarColumn(e,t,n){let r=e.substring(0,Math.min(t-1,e.length)),o=new Ra(r),s=0;for(;!o.eol();)o.nextCodePoint()===9?s=i.nextRenderTabStop(s,n):s=s+1;return s+1}static columnFromVisibleColumn(e,t,n){if(t<=0)return 1;let r=e.length,o=new Aa(e),s=0,a=1;for(;!o.eol();){let l=as(e,r,o.offset);o.nextGraphemeLength();let c=this._nextVisibleColumn(l,s,n),u=o.offset+1;if(c>=t){let p=t-s;return c-t<p?u:a}s=c,a=u}return r+1}static nextRenderTabStop(e,t){return e+t-e%t}static nextIndentTabStop(e,t){return e+t-e%t}static prevRenderTabStop(e,t){return Math.max(0,e-1-(e-1)%t)}static prevIndentTabStop(e,t){return Math.max(0,e-1-(e-1)%t)}};function YI(i,e,t,n){return i!==t?je(t-i,n):je(0,n-e)}var yt=0;function Ls(i){return i===0}var vn=2**26;function je(i,e){return i*vn+e}function Ut(i){let e=i,t=Math.floor(e/vn),n=e-t*vn;return new Ts(t,n)}function XI(i){return Math.floor(i/vn)}function Ve(i,e){let t=i+e;return e>=vn&&(t=t-i%vn),t}function ZI(i,e){return i.reduce((t,n)=>Ve(t,e(n)),yt)}function Yf(i,e){return i===e}function Ao(i,e){let t=i,n=e;if(n-t<=0)return yt;let o=Math.floor(t/vn),s=Math.floor(n/vn),a=n-s*vn;if(o===s){let l=t-o*vn;return je(0,a-l)}else return je(s-o,a)}function Ji(i,e){return i<e}function Mr(i,e){return i<=e}function Ds(i,e){return i>=e}function Nr(i){return je(i.lineNumber-1,i.column-1)}function Pr(i,e){let t=i,n=Math.floor(t/vn),r=t-n*vn,o=e,s=Math.floor(o/vn),a=o-s*vn;return new z(n+1,r+1,s+1,a+1)}function QI(i){let e=ny(i);return je(e.length-1,e[e.length-1].length)}var nu=[],Dt=class i{constructor(e,t){this.items=e;this.additionalItems=t}static cache=new Array(129);static create(e,t){if(e<=128&&t.length===0){let n=i.cache[e];return n||(n=new i(e,t),i.cache[e]=n),n}return new i(e,t)}static empty=i.create(0,nu);static getEmpty(){return this.empty}add(e,t){let n=t.getKey(e),r=n>>5;if(r===0){let s=1<<n|this.items;return s===this.items?this:i.create(s,this.additionalItems)}r--;let o=this.additionalItems.slice(0);for(;o.length<r;)o.push(0);return o[r]|=1<<(n&31),i.create(this.items,o)}has(e,t){let n=t.getKey(e),r=n>>5;return r===0?(this.items&1<<n)!==0:(r--,((this.additionalItems[r]||0)&1<<(n&31))!==0)}merge(e){let t=this.items|e.items;if(this.additionalItems===nu&&e.additionalItems===nu)return t===this.items?this:t===e.items?e:i.create(t,nu);let n=[];for(let r=0;r<Math.max(this.additionalItems.length,e.additionalItems.length);r++){let o=this.additionalItems[r]||0,s=e.additionalItems[r]||0;n.push(o|s)}return i.create(t,n)}intersects(e){if(this.items&e.items)return!0;for(let t=0;t<Math.min(this.additionalItems.length,e.additionalItems.length);t++)if(this.additionalItems[t]&e.additionalItems[t])return!0;return!1}equals(e){if(this.items!==e.items||this.additionalItems.length!==e.additionalItems.length)return!1;for(let t=0;t<this.additionalItems.length;t++)if(this.additionalItems[t]!==e.additionalItems[t])return!1;return!0}},Xf={getKey(i){return i}},iu=class{items=new Map;getKey(e){let t=this.items.get(e);return t===void 0&&(t=this.items.size,this.items.set(e,t)),t}reverseLookup(e){return[...this.items].find(([t,n])=>n===e)?.[0]}reverseLookupSet(e){let t=[];for(let[n]of this.items)e.has(n,this)&&t.push(n);return t}keys(){return this.items.keys()}};var ru=class i{static DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES=`;:.,=}])> 
	`;static DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS=`'"\`;:.,=}])> 
	`;static DEFAULT_AUTOCLOSE_BEFORE_WHITESPACE=` 
	`;_autoClosingPairs;_surroundingPairs;_autoCloseBeforeForQuotes;_autoCloseBeforeForBrackets;constructor(e){if(e.autoClosingPairs?this._autoClosingPairs=e.autoClosingPairs.map(t=>new ks(t)):e.brackets?this._autoClosingPairs=e.brackets.map(t=>new ks({open:t[0],close:t[1]})):this._autoClosingPairs=[],e.__electricCharacterSupport&&e.__electricCharacterSupport.docComment){let t=e.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new ks({open:t.open,close:t.close||""}))}this._autoCloseBeforeForQuotes=typeof e.autoCloseBefore=="string"?e.autoCloseBefore:i.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES,this._autoCloseBeforeForBrackets=typeof e.autoCloseBefore=="string"?e.autoCloseBefore:i.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS,this._surroundingPairs=e.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(e){return e?this._autoCloseBeforeForQuotes:this._autoCloseBeforeForBrackets}getSurroundingPairs(){return this._surroundingPairs}};var ou=class{_richEditBrackets;constructor(e){this._richEditBrackets=e}getElectricCharacters(){let e=[];if(this._richEditBrackets)for(let t of this._richEditBrackets.brackets)for(let n of t.close){let r=n.charAt(n.length-1);e.push(r)}return cr(e)}onElectricCharacter(e,t,n){if(!this._richEditBrackets||this._richEditBrackets.brackets.length===0)return null;let r=t.findTokenIndexAtOffset(n-1);if(Pn(t.getStandardTokenType(r)))return null;let o=this._richEditBrackets.reversedRegex,s=t.getLineContent().substring(0,n-1)+e,a=jt.findPrevBracketInRange(o,1,s,0,s.length);if(!a)return null;let l=s.substring(a.startColumn-1,a.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[l])return null;let u=t.getActualLineContentBefore(a.startColumn-1);return/^\s*$/.test(u)?{matchOpenBracket:l}:null}};function su(i){return i.global&&(i.lastIndex=0),!0}var au=class{_indentationRules;constructor(e){this._indentationRules=e}shouldIncrease(e){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&su(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(e))}shouldDecrease(e){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&su(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(e))}shouldIndentNextLine(e){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&su(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(e))}shouldIgnore(e){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&su(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(e))}getIndentMetadata(e){let t=0;return this.shouldIncrease(e)&&(t+=1),this.shouldDecrease(e)&&(t+=2),this.shouldIndentNextLine(e)&&(t+=4),this.shouldIgnore(e)&&(t+=8),t}};var lu=class i{_brackets;_regExpRules;constructor(e){e=e||{},e.brackets=e.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],e.brackets.forEach(t=>{let n=i._createOpenBracketRegExp(t[0]),r=i._createCloseBracketRegExp(t[1]);n&&r&&this._brackets.push({open:t[0],openRegExp:n,close:t[1],closeRegExp:r})}),this._regExpRules=e.onEnterRules||[]}onEnter(e,t,n,r){if(e>=3)for(let o=0,s=this._regExpRules.length;o<s;o++){let a=this._regExpRules[o];if([{reg:a.beforeText,text:n},{reg:a.afterText,text:r},{reg:a.previousLineText,text:t}].every(c=>c.reg?(c.reg.lastIndex=0,c.reg.test(c.text)):!0))return a.action}if(e>=2&&n.length>0&&r.length>0)for(let o=0,s=this._brackets.length;o<s;o++){let a=this._brackets[o];if(a.openRegExp.test(n)&&a.closeRegExp.test(r))return{indentAction:2}}if(e>=2&&n.length>0){for(let o=0,s=this._brackets.length;o<s;o++)if(this._brackets[o].openRegExp.test(n))return{indentAction:1}}return null}static _createOpenBracketRegExp(e){let t=$n(e);return/\B/.test(t.charAt(0))||(t="\\b"+t),t+="\\s*$",i._safeRegExp(t)}static _createCloseBracketRegExp(e){let t=$n(e);return/\B/.test(t.charAt(t.length-1))||(t=t+"\\b"),t="^\\s*"+t,i._safeRegExp(t)}static _safeRegExp(e){try{return new RegExp(e)}catch(t){return ot(t),null}}};var XS=[];function Rs(i,e,t){e instanceof Qa||(e=new Qa(e,[],!!t)),XS.push([i,e])}var gt=Object.freeze({text:"text/plain",binary:"application/octet-stream",unknown:"application/unknown",markdown:"text/markdown",latex:"text/latex",uriList:"text/uri-list"});var ZS={ModesRegistry:"editor.modesRegistry"},Zf=class{_languages;_onDidChangeLanguages=new N;onDidChangeLanguages=this._onDidChangeLanguages.event;constructor(){this._languages=[]}registerLanguage(e){return this._languages.push(e),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let t=0,n=this._languages.length;t<n;t++)if(this._languages[t]===e){this._languages.splice(t,1);return}}}}getLanguages(){return this._languages}},JI=new Zf;tt.add(ZS.ModesRegistry,JI);var Qf="plaintext",QS=".txt";JI.registerLanguage({id:Qf,extensions:[QS],aliases:[d("plainText.alias","Plain Text"),"text"],mimetypes:[gt.text]});tt.as(Co.Configuration).registerDefaultConfigurations([{overrides:{"[plaintext]":{"editor.unicodeHighlight.ambiguousCharacters":!1,"editor.unicodeHighlight.invisibleCharacters":!1}}}]);var Il=class{constructor(e){this.languageId=e}affects(e){return this.languageId?this.languageId===e:!0}},xl=X("languageConfigurationService"),yl=class extends U{constructor(t,n){super();this.configurationService=t;this.languageService=n;let r=new Set(Object.values(Jf));this._register(this.configurationService.onDidChangeConfiguration(o=>{let s=o.change.keys.some(l=>r.has(l)),a=o.change.overrides.filter(([l,c])=>c.some(u=>r.has(u))).map(([l])=>l);if(s)this.configurations.clear(),this.onDidChangeEmitter.fire(new Il(void 0));else for(let l of a)this.languageService.isRegisteredLanguageId(l)&&(this.configurations.delete(l),this.onDidChangeEmitter.fire(new Il(l)))})),this._register(this._registry.onDidChange(o=>{this.configurations.delete(o.languageId),this.onDidChangeEmitter.fire(new Il(o.languageId))}))}_serviceBrand;_registry=this._register(new tm);onDidChangeEmitter=this._register(new N);onDidChange=this.onDidChangeEmitter.event;configurations=new Map;register(t,n,r){return this._registry.register(t,n,r)}getLanguageConfiguration(t){let n=this.configurations.get(t);return n||(n=JS(t,this._registry,this.configurationService,this.languageService),this.configurations.set(t,n)),n}};yl=ce([De(0,Tc),De(1,ws)],yl);function JS(i,e,t,n){let r=e.getLanguageConfiguration(i);if(!r){if(!n.isRegisteredLanguageId(i))return new As(i,{});r=new As(i,{})}let o=eE(r.languageId,t),s=n1([r.underlyingConfig,o]);return new As(r.languageId,s)}var Jf={brackets:"editor.language.brackets",colorizedBracketPairs:"editor.language.colorizedBracketPairs"};function eE(i,e){let t=e.getValue(Jf.brackets,{overrideIdentifier:i}),n=e.getValue(Jf.colorizedBracketPairs,{overrideIdentifier:i});return{brackets:e1(t),colorizedBracketPairs:e1(n)}}function e1(i){if(Array.isArray(i))return i.map(e=>{if(!(!Array.isArray(e)||e.length!==2))return[e[0],e[1]]}).filter(e=>!!e)}var em=class{constructor(e){this.languageId=e;this._entries=[],this._order=0,this._resolved=null}_entries;_order;_resolved=null;register(e,t){let n=new du(e,t,++this._order);return this._entries.push(n),this._resolved=null,pe(()=>{for(let r=0;r<this._entries.length;r++)if(this._entries[r]===n){this._entries.splice(r,1),this._resolved=null;break}})}getResolvedConfiguration(){if(!this._resolved){let e=this._resolve();e&&(this._resolved=new As(this.languageId,e))}return this._resolved}_resolve(){return this._entries.length===0?null:(this._entries.sort(du.cmp),n1(this._entries.map(e=>e.configuration)))}};function n1(i){let e={comments:void 0,brackets:void 0,wordPattern:void 0,indentationRules:void 0,onEnterRules:void 0,autoClosingPairs:void 0,surroundingPairs:void 0,autoCloseBefore:void 0,folding:void 0,colorizedBracketPairs:void 0,__electricCharacterSupport:void 0};for(let t of i)e={comments:t.comments||e.comments,brackets:t.brackets||e.brackets,wordPattern:t.wordPattern||e.wordPattern,indentationRules:t.indentationRules||e.indentationRules,onEnterRules:t.onEnterRules||e.onEnterRules,autoClosingPairs:t.autoClosingPairs||e.autoClosingPairs,surroundingPairs:t.surroundingPairs||e.surroundingPairs,autoCloseBefore:t.autoCloseBefore||e.autoCloseBefore,folding:t.folding||e.folding,colorizedBracketPairs:t.colorizedBracketPairs||e.colorizedBracketPairs,__electricCharacterSupport:t.__electricCharacterSupport||e.__electricCharacterSupport};return e}var du=class{constructor(e,t,n){this.configuration=e;this.priority=t;this.order=n}static cmp(e,t){return e.priority===t.priority?e.order-t.order:e.priority-t.priority}},cu=class{constructor(e){this.languageId=e}},tm=class extends U{_entries=new Map;_onDidChange=this._register(new N);onDidChange=this._onDidChange.event;constructor(){super(),this._register(this.register(Qf,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],colorizedBracketPairs:[],folding:{offSide:!0}},0))}register(e,t,n=0){let r=this._entries.get(e);r||(r=new em(e),this._entries.set(e,r));let o=r.register(t,n);return this._onDidChange.fire(new cu(e)),pe(()=>{o.dispose(),this._onDidChange.fire(new cu(e))})}getLanguageConfiguration(e){return this._entries.get(e)?.getResolvedConfiguration()||null}},As=class i{constructor(e,t){this.languageId=e;this.underlyingConfig=t;this._brackets=null,this._electricCharacter=null,this._onEnterSupport=this.underlyingConfig.brackets||this.underlyingConfig.indentationRules||this.underlyingConfig.onEnterRules?new lu(this.underlyingConfig):null,this.comments=i._handleComments(this.underlyingConfig),this.characterPair=new ru(this.underlyingConfig),this.wordDefinition=this.underlyingConfig.wordPattern||Sg,this.indentationRules=this.underlyingConfig.indentationRules,this.underlyingConfig.indentationRules?this.indentRulesSupport=new au(this.underlyingConfig.indentationRules):this.indentRulesSupport=null,this.foldingRules=this.underlyingConfig.folding||{},this.bracketsNew=new eu(e,this.underlyingConfig)}_brackets;_electricCharacter;_onEnterSupport;comments;characterPair;wordDefinition;indentRulesSupport;indentationRules;foldingRules;bracketsNew;getWordDefinition(){return Eg(this.wordDefinition)}get brackets(){return!this._brackets&&this.underlyingConfig.brackets&&(this._brackets=new Qc(this.languageId,this.underlyingConfig.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new ou(this.brackets)),this._electricCharacter}onEnter(e,t,n,r){return this._onEnterSupport?this._onEnterSupport.onEnter(e,t,n,r):null}getAutoClosingPairs(){return new Zc(this.characterPair.getAutoClosingPairs())}getAutoCloseBeforeSet(e){return this.characterPair.getAutoCloseBeforeSet(e)}getSurroundingPairs(){return this.characterPair.getSurroundingPairs()}static _handleComments(e){let t=e.comments;if(!t)return null;let n={};if(t.lineComment&&(n.lineCommentToken=t.lineComment),t.blockComment){let[r,o]=t.blockComment;n.blockCommentStartToken=r,n.blockCommentEndToken=o}return n}};Rs(xl,yl,1);var nm=class i{constructor(e){this.map=e}static createFromLanguage(e,t){function n(o){return t.getKey(`${o.languageId}:::${o.bracketText}`)}let r=new Map;for(let o of e.bracketsNew.openingBrackets){let s=je(0,o.bracketText.length),a=n(o),l=Dt.getEmpty().add(a,Xf);r.set(o.bracketText,new Jn(s,1,a,l,Tl.create(s,o,l)))}for(let o of e.bracketsNew.closingBrackets){let s=je(0,o.bracketText.length),a=Dt.getEmpty(),l=o.getOpeningBrackets();for(let c of l)a=a.add(n(c),Xf);r.set(o.bracketText,new Jn(s,2,n(l[0]),a,Tl.create(s,o,a)))}return new i(r)}hasRegExp=!1;_regExpGlobal=null;getRegExpStr(){if(this.isEmpty)return null;{let e=[...this.map.keys()];return e.sort(),e.reverse(),e.map(t=>tE(t)).join("|")}}get regExpGlobal(){if(!this.hasRegExp){let e=this.getRegExpStr();this._regExpGlobal=e?new RegExp(e,"gi"):null,this.hasRegExp=!0}return this._regExpGlobal}getToken(e){return this.map.get(e.toLowerCase())}findClosingTokenText(e){for(let[t,n]of this.map)if(n.kind===2&&n.bracketIds.intersects(e))return t}get isEmpty(){return this.map.size===0}};function tE(i){let e=$n(i);return/^[\w ]+/.test(i)&&(e=`\\b${e}`),/[\w ]+$/.test(i)&&(e=`${e}\\b`),e}var uu=class{constructor(e,t){this.denseKeyProvider=e;this.getLanguageConfiguration=t}languageIdToBracketTokens=new Map;didLanguageChange(e){return this.languageIdToBracketTokens.has(e)}getSingleLanguageBracketTokens(e){let t=this.languageIdToBracketTokens.get(e);return t||(t=nm.createFromLanguage(this.getLanguageConfiguration(e),this.denseKeyProvider),this.languageIdToBracketTokens.set(e,t)),t}getToken(e,t){return this.getSingleLanguageBracketTokens(t).getToken(e)}};var Jn=class{constructor(e,t,n,r,o){this.length=e;this.kind=t;this.bracketId=n;this.bracketIds=r;this.astNode=o}},hu=class{constructor(e,t){this.textModel=e;this.bracketTokens=t;this.textBufferLineCount=e.getLineCount(),this.textBufferLastLineLength=e.getLineLength(this.textBufferLineCount)}textBufferLineCount;textBufferLastLineLength;reader=new im(this.textModel,this.bracketTokens);_offset=yt;get offset(){return this._offset}get length(){return je(this.textBufferLineCount-1,this.textBufferLastLineLength)}getText(){return this.textModel.getValue()}skip(e){this.didPeek=!1,this._offset=Ve(this._offset,e);let t=Ut(this._offset);this.reader.setPosition(t.lineCount,t.columnCount)}didPeek=!1;peeked=null;read(){let e;return this.peeked?(this.didPeek=!1,e=this.peeked):e=this.reader.read(),e&&(this._offset=Ve(this._offset,e.length)),e}peek(){return this.didPeek||(this.peeked=this.reader.read(),this.didPeek=!0),this.peeked}},im=class{constructor(e,t){this.textModel=e;this.bracketTokens=t;this.textBufferLineCount=e.getLineCount(),this.textBufferLastLineLength=e.getLineLength(this.textBufferLineCount)}textBufferLineCount;textBufferLastLineLength;lineIdx=0;line=null;lineCharOffset=0;lineTokens=null;lineTokenOffset=0;setPosition(e,t){e===this.lineIdx?(this.lineCharOffset=t,this.line!==null&&(this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset))):(this.lineIdx=e,this.lineCharOffset=t,this.line=null),this.peekedToken=null}peekedToken=null;read(){if(this.peekedToken){let o=this.peekedToken;return this.peekedToken=null,this.lineCharOffset+=o.length,o}if(this.lineIdx>this.textBufferLineCount-1||this.lineIdx===this.textBufferLineCount-1&&this.lineCharOffset>=this.textBufferLastLineLength)return null;this.line===null&&(this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.line=this.lineTokens.getLineContent(),this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset));let e=this.lineIdx,t=this.lineCharOffset,n=0;for(;;){let o=this.lineTokens,s=o.getCount(),a=null;if(this.lineTokenOffset<s){let l=o.getMetadata(this.lineTokenOffset);for(;this.lineTokenOffset+1<s&&l===o.getMetadata(this.lineTokenOffset+1);)this.lineTokenOffset++;let c=bn.getTokenType(l)===0,u=bn.containsBalancedBrackets(l),p=o.getEndOffset(this.lineTokenOffset);if(u&&c&&this.lineCharOffset<p){let g=o.getLanguageId(this.lineTokenOffset),f=this.line.substring(this.lineCharOffset,p),T=this.bracketTokens.getSingleLanguageBracketTokens(g),m=T.regExpGlobal;if(m){m.lastIndex=0;let x=m.exec(f);x&&(a=T.getToken(x[0]),a&&(this.lineCharOffset+=x.index))}}if(n+=p-this.lineCharOffset,a)if(e!==this.lineIdx||t!==this.lineCharOffset){this.peekedToken=a;break}else return this.lineCharOffset+=a.length,a;else this.lineTokenOffset++,this.lineCharOffset=p}else if(this.lineIdx===this.textBufferLineCount-1||(this.lineIdx++,this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.lineTokenOffset=0,this.line=this.lineTokens.getLineContent(),this.lineCharOffset=0,n+=33,n>1e3))break;if(n>1500)break}let r=YI(e,t,this.lineIdx,this.lineCharOffset);return new Jn(r,0,-1,Dt.getEmpty(),new ei(r))}},pu=class{constructor(e,t){this.text=e;let n=t.getRegExpStr(),r=n?new RegExp(n+`|
`,"gi"):null,o=[],s,a=0,l=0,c=0,u=0,p=[];for(let T=0;T<60;T++)p.push(new Jn(je(0,T),0,-1,Dt.getEmpty(),new ei(je(0,T))));let g=[];for(let T=0;T<60;T++)g.push(new Jn(je(1,T),0,-1,Dt.getEmpty(),new ei(je(1,T))));if(r)for(r.lastIndex=0;(s=r.exec(e))!==null;){let T=s.index,m=s[0];if(m===`
`)a++,l=T+1;else{if(c!==T){let x;if(u===a){let w=T-c;if(w<p.length)x=p[w];else{let k=je(0,w);x=new Jn(k,0,-1,Dt.getEmpty(),new ei(k))}}else{let w=a-u,k=T-l;if(w===1&&k<g.length)x=g[k];else{let L=je(w,k);x=new Jn(L,0,-1,Dt.getEmpty(),new ei(L))}}o.push(x)}o.push(t.getToken(m)),c=T+m.length,u=a}}let f=e.length;if(c!==f){let T=u===a?je(0,f-c):je(a-u,f-l);o.push(new Jn(T,0,-1,Dt.getEmpty(),new ei(T)))}this.length=je(a,f-l),this.tokens=o}_offset=yt;tokens;idx=0;get offset(){return this._offset}length;read(){return this.tokens[this.idx++]||null}peek(){return this.tokens[this.idx]||null}skip(e){throw new fd}getText(){return this.text}};var Cl=class{_length;get length(){return this._length}constructor(e){this._length=e}},Sl=class i extends Cl{constructor(t,n,r,o,s){super(t);this.openingBracket=n;this.child=r;this.closingBracket=o;this.missingOpeningBracketIds=s}static create(t,n,r){let o=t.length;return n&&(o=Ve(o,n.length)),r&&(o=Ve(o,r.length)),new i(o,t,n,r,n?n.missingOpeningBracketIds:Dt.getEmpty())}get kind(){return 2}get listHeight(){return 0}get childrenLength(){return 3}getChild(t){switch(t){case 0:return this.openingBracket;case 1:return this.child;case 2:return this.closingBracket}throw new Error("Invalid child index")}get children(){let t=[];return t.push(this.openingBracket),this.child&&t.push(this.child),this.closingBracket&&t.push(this.closingBracket),t}canBeReused(t){return!(this.closingBracket===null||t.intersects(this.missingOpeningBracketIds))}flattenLists(){return i.create(this.openingBracket.flattenLists(),this.child&&this.child.flattenLists(),this.closingBracket&&this.closingBracket.flattenLists())}deepClone(){return new i(this.length,this.openingBracket.deepClone(),this.child&&this.child.deepClone(),this.closingBracket&&this.closingBracket.deepClone(),this.missingOpeningBracketIds)}computeMinIndentation(t,n){return this.child?this.child.computeMinIndentation(Ve(t,this.openingBracket.length),n):Number.MAX_SAFE_INTEGER}},yn=class i extends Cl{constructor(t,n,r){super(t);this.listHeight=n;this._missingOpeningBracketIds=r}static create23(t,n,r,o=!1){let s=t.length,a=t.missingOpeningBracketIds;if(t.listHeight!==n.listHeight)throw new Error("Invalid list heights");if(s=Ve(s,n.length),a=a.merge(n.missingOpeningBracketIds),r){if(t.listHeight!==r.listHeight)throw new Error("Invalid list heights");s=Ve(s,r.length),a=a.merge(r.missingOpeningBracketIds)}return o?new rm(s,t.listHeight+1,t,n,r,a):new El(s,t.listHeight+1,t,n,r,a)}static create(t,n=!1){if(t.length===0)return this.getEmpty();{let r=t[0].length,o=t[0].missingOpeningBracketIds;for(let s=1;s<t.length;s++)r=Ve(r,t[s].length),o=o.merge(t[s].missingOpeningBracketIds);return n?new gu(r,t[0].listHeight+1,t,o):new wl(r,t[0].listHeight+1,t,o)}}static getEmpty(){return new gu(yt,0,[],Dt.getEmpty())}get kind(){return 4}get missingOpeningBracketIds(){return this._missingOpeningBracketIds}cachedMinIndentation=-1;throwIfImmutable(){}makeLastElementMutable(){this.throwIfImmutable();let t=this.childrenLength;if(t===0)return;let n=this.getChild(t-1),r=n.kind===4?n.toMutable():n;return n!==r&&this.setChild(t-1,r),r}makeFirstElementMutable(){if(this.throwIfImmutable(),this.childrenLength===0)return;let n=this.getChild(0),r=n.kind===4?n.toMutable():n;return n!==r&&this.setChild(0,r),r}canBeReused(t){if(t.intersects(this.missingOpeningBracketIds)||this.childrenLength===0)return!1;let n=this;for(;n.kind===4;){let r=n.childrenLength;if(r===0)throw new _e;n=n.getChild(r-1)}return n.canBeReused(t)}handleChildrenChanged(){this.throwIfImmutable();let t=this.childrenLength,n=this.getChild(0).length,r=this.getChild(0).missingOpeningBracketIds;for(let o=1;o<t;o++){let s=this.getChild(o);n=Ve(n,s.length),r=r.merge(s.missingOpeningBracketIds)}this._length=n,this._missingOpeningBracketIds=r,this.cachedMinIndentation=-1}flattenLists(){let t=[];for(let n of this.children){let r=n.flattenLists();r.kind===4?t.push(...r.children):t.push(r)}return i.create(t)}computeMinIndentation(t,n){if(this.cachedMinIndentation!==-1)return this.cachedMinIndentation;let r=Number.MAX_SAFE_INTEGER,o=t;for(let s=0;s<this.childrenLength;s++){let a=this.getChild(s);a&&(r=Math.min(r,a.computeMinIndentation(o,n)),o=Ve(o,a.length))}return this.cachedMinIndentation=r,r}},El=class i extends yn{constructor(t,n,r,o,s,a){super(t,n,a);this._item1=r;this._item2=o;this._item3=s}get childrenLength(){return this._item3!==null?3:2}getChild(t){switch(t){case 0:return this._item1;case 1:return this._item2;case 2:return this._item3}throw new Error("Invalid child index")}setChild(t,n){switch(t){case 0:this._item1=n;return;case 1:this._item2=n;return;case 2:this._item3=n;return}throw new Error("Invalid child index")}get children(){return this._item3?[this._item1,this._item2,this._item3]:[this._item1,this._item2]}get item1(){return this._item1}get item2(){return this._item2}get item3(){return this._item3}deepClone(){return new i(this.length,this.listHeight,this._item1.deepClone(),this._item2.deepClone(),this._item3?this._item3.deepClone():null,this.missingOpeningBracketIds)}appendChildOfSameHeight(t){if(this._item3)throw new Error("Cannot append to a full (2,3) tree node");this.throwIfImmutable(),this._item3=t,this.handleChildrenChanged()}unappendChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();let t=this._item3;return this._item3=null,this.handleChildrenChanged(),t}prependChildOfSameHeight(t){if(this._item3)throw new Error("Cannot prepend to a full (2,3) tree node");this.throwIfImmutable(),this._item3=this._item2,this._item2=this._item1,this._item1=t,this.handleChildrenChanged()}unprependChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();let t=this._item1;return this._item1=this._item2,this._item2=this._item3,this._item3=null,this.handleChildrenChanged(),t}toMutable(){return this}},rm=class extends El{toMutable(){return new El(this.length,this.listHeight,this.item1,this.item2,this.item3,this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}},wl=class i extends yn{constructor(t,n,r,o){super(t,n,o);this._children=r}get childrenLength(){return this._children.length}getChild(t){return this._children[t]}setChild(t,n){this._children[t]=n}get children(){return this._children}deepClone(){let t=new Array(this._children.length);for(let n=0;n<this._children.length;n++)t[n]=this._children[n].deepClone();return new i(this.length,this.listHeight,t,this.missingOpeningBracketIds)}appendChildOfSameHeight(t){this.throwIfImmutable(),this._children.push(t),this.handleChildrenChanged()}unappendChild(){this.throwIfImmutable();let t=this._children.pop();return this.handleChildrenChanged(),t}prependChildOfSameHeight(t){this.throwIfImmutable(),this._children.unshift(t),this.handleChildrenChanged()}unprependChild(){this.throwIfImmutable();let t=this._children.shift();return this.handleChildrenChanged(),t}toMutable(){return this}},gu=class extends wl{toMutable(){return new wl(this.length,this.listHeight,[...this.children],this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}},iE=[],kl=class extends Cl{get listHeight(){return 0}get childrenLength(){return 0}getChild(e){return null}get children(){return iE}flattenLists(){return this}deepClone(){return this}},ei=class extends kl{get kind(){return 0}get missingOpeningBracketIds(){return Dt.getEmpty()}canBeReused(e){return!0}computeMinIndentation(e,t){let n=Ut(e),r=(n.columnCount===0?n.lineCount:n.lineCount+1)+1,o=XI(Ve(e,this.length))+1,s=Number.MAX_SAFE_INTEGER;for(let a=r;a<=o;a++){let l=t.getLineFirstNonWhitespaceColumn(a),c=t.getLineContent(a);if(l===0)continue;let u=Qi.visibleColumnFromColumn(c,l,t.getOptions().tabSize);s=Math.min(s,u)}return s}},Tl=class i extends kl{constructor(t,n,r){super(t);this.bracketInfo=n;this.bracketIds=r}static create(t,n,r){return new i(t,n,r)}get kind(){return 1}get missingOpeningBracketIds(){return Dt.getEmpty()}get text(){return this.bracketInfo.bracketText}get languageId(){return this.bracketInfo.languageId}canBeReused(t){return!1}computeMinIndentation(t,n){return Number.MAX_SAFE_INTEGER}},fu=class extends kl{get kind(){return 3}missingOpeningBracketIds;constructor(e,t){super(t),this.missingOpeningBracketIds=e}canBeReused(e){return!e.intersects(this.missingOpeningBracketIds)}computeMinIndentation(e,t){return Number.MAX_SAFE_INTEGER}};var _l=class{constructor(e,t,n,r){this.range=e;this.nestingLevel=t;this.nestingLevelOfEqualBracketType=n;this.isInvalid=r}},om=class{constructor(e,t,n,r,o,s){this.range=e;this.openingBracketRange=t;this.closingBracketRange=n;this.nestingLevel=r;this.nestingLevelOfEqualBracketType=o;this.bracketPairNode=s}get openingBracketInfo(){return this.bracketPairNode.openingBracket.bracketInfo}get closingBracketInfo(){return this.bracketPairNode.closingBracket?.bracketInfo}},mu=class extends om{constructor(t,n,r,o,s,a,l){super(t,n,r,o,s,a);this.minVisibleColumnIndentation=l}};var bu=class{changeType=1},Ll=class i{constructor(e,t,n,r,o){this.ownerId=e;this.lineNumber=t;this.column=n;this.options=r;this.order=o}static applyInjectedText(e,t){if(!t||t.length===0)return e;let n="",r=0;for(let o of t)n+=e.substring(r,o.column-1),r=o.column-1,n+=o.options.content;return n+=e.substring(r),n}static fromDecorations(e){let t=[];for(let n of e)n.options.before&&n.options.before.content.length>0&&t.push(new i(n.ownerId,n.range.startLineNumber,n.range.startColumn,n.options.before,0)),n.options.after&&n.options.after.content.length>0&&t.push(new i(n.ownerId,n.range.endLineNumber,n.range.endColumn,n.options.after,1));return t.sort((n,r)=>n.lineNumber===r.lineNumber?n.column===r.column?n.order-r.order:n.column-r.column:n.lineNumber-r.lineNumber),t}withText(e){return new i(this.ownerId,this.lineNumber,this.column,{...this.options,content:e},this.order)}},Dl=class{changeType=2;lineNumber;detail;injectedText;constructor(e,t,n){this.lineNumber=e,this.detail=t,this.injectedText=n}},vu=class{changeType=3;fromLineNumber;toLineNumber;constructor(e,t){this.fromLineNumber=e,this.toLineNumber=t}},yu=class{changeType=4;fromLineNumber;toLineNumber;detail;injectedTexts;constructor(e,t,n,r){this.injectedTexts=r,this.fromLineNumber=e,this.toLineNumber=t,this.detail=n}},Iu=class{changeType=5},Oo=class i{changes;versionId;isUndoing;isRedoing;resultingSelection;constructor(e,t,n,r){this.changes=e,this.versionId=t,this.isUndoing=n,this.isRedoing=r,this.resultingSelection=null}containsEvent(e){for(let t=0,n=this.changes.length;t<n;t++)if(this.changes[t].changeType===e)return!0;return!1}static merge(e,t){let n=[].concat(e.changes).concat(t.changes),r=t.versionId,o=e.isUndoing||t.isUndoing,s=e.isRedoing||t.isRedoing;return new i(n,r,o,s)}},xu=class{changes;constructor(e){this.changes=e}},Tu=class i{constructor(e,t){this.rawContentChangedEvent=e;this.contentChangedEvent=t}merge(e){let t=Oo.merge(this.rawContentChangedEvent,e.rawContentChangedEvent),n=i._mergeChangeEvents(this.contentChangedEvent,e.contentChangedEvent);return new i(t,n)}static _mergeChangeEvents(e,t){let n=[].concat(e.changes).concat(t.changes),r=t.eol,o=t.versionId,s=e.isUndoing||t.isUndoing,a=e.isRedoing||t.isRedoing,l=e.isFlush||t.isFlush,c=e.isEolChange&&t.isEolChange;return{changes:n,eol:r,isEolChange:c,versionId:o,isUndoing:s,isRedoing:a,isFlush:l}}};var Mo=class{constructor(e,t,n,r,o,s){this.visibleColumn=e;this.column=t;this.className=n;this.horizontalLine=r;this.forWrappedLinesAfterColumn=o;this.forWrappedLinesBeforeOrAtColumn=s;if(e!==-1==(t!==-1))throw new Error}},Os=class{constructor(e,t){this.top=e;this.endColumn=t}};var Cu=class i{constructor(e){this.edits=e;let t=-1;for(let n of e){if(!(n.replaceRange.start>=t))throw new _e(`Edits must be disjoint and sorted. Found ${n} after ${t}`);t=n.replaceRange.endExclusive}}static empty=new i([]);static fromJson(e){return new i(e.map(ti.fromJson))}static replace(e,t){return new i([new ti(e,t)])}static insert(e,t){return i.replace(Ge.emptyAt(e),t)}normalize(){let e=[],t;for(let n of this.edits)n.newText.length===0&&n.replaceRange.length===0||(t&&t.replaceRange.endExclusive===n.replaceRange.start?t=new ti(t.replaceRange.join(n.replaceRange),t.newText+n.newText):(t&&e.push(t),t=n));return t&&e.push(t),new i(e)}toString(){return`[${this.edits.map(t=>t.toString()).join(", ")}]`}apply(e){let t=[],n=0;for(let r of this.edits)t.push(e.substring(n,r.replaceRange.start)),t.push(r.newText),n=r.replaceRange.endExclusive;return t.push(e.substring(n)),t.join("")}compose(e){return rE(this,e)}inverse(e){let t=[],n=0;for(let r of this.edits)t.push(new ti(Ge.ofStartAndLength(r.replaceRange.start+n,r.newText.length),e.substring(r.replaceRange.start,r.replaceRange.endExclusive))),n+=r.newText.length-r.replaceRange.length;return new i(t)}getNewTextRanges(){let e=[],t=0;for(let n of this.edits)e.push(Ge.ofStartAndLength(n.replaceRange.start+t,n.newText.length)),t+=n.newText.length-n.replaceRange.length;return e}get isEmpty(){return this.edits.length===0}tryRebase(e){let t=[],n=0,r=0,o=0;for(;r<this.edits.length||n<e.edits.length;){let s=e.edits[n],a=this.edits[r];if(a)s?a.replaceRange.intersects(s.replaceRange)?r++:a.replaceRange.start<s.replaceRange.start?(t.push(new ti(a.replaceRange.delta(o),a.newText)),r++):(n++,o+=s.newText.length-s.replaceRange.length):(t.push(new ti(a.replaceRange.delta(o),a.newText)),r++);else break}return new i(t)}applyToOffset(e){let t=0;for(let n of this.edits)if(n.replaceRange.start<=e){if(e<n.replaceRange.endExclusive)return n.replaceRange.start+t;t+=n.newText.length-n.replaceRange.length}else break;return e+t}applyToOffsetRange(e){return new Ge(this.applyToOffset(e.start),this.applyToOffset(e.endExclusive))}applyInverseToOffset(e){let t=0;for(let n of this.edits){let r=n.newText.length;if(n.replaceRange.start<=e-t){if(e-t<n.replaceRange.start+r)return n.replaceRange.start;t+=r-n.replaceRange.length}else break}return e-t}},ti=class i{constructor(e,t){this.replaceRange=e;this.newText=t}static fromJson(e){return new i(Ge.ofStartAndLength(e.pos,e.len),e.txt)}static insert(e,t){return new i(Ge.emptyAt(e),t)}toString(){return`${this.replaceRange} -> "${this.newText}"`}get isEmpty(){return this.newText.length===0&&this.replaceRange.length===0}};function rE(i,e){if(i=i.normalize(),e=e.normalize(),i.isEmpty)return e;if(e.isEmpty)return i;let t=[...i.edits],n=[],r=0;for(let o of e.edits){for(;;){let c=t[0];if(!c||c.replaceRange.start+r+c.newText.length>=o.replaceRange.start)break;t.shift(),n.push(c),r+=c.newText.length-c.replaceRange.length}let s=r,a,l;for(;;){let c=t[0];if(!c||c.replaceRange.start+r>o.replaceRange.endExclusive)break;a||(a=c),l=c,t.shift(),r+=c.newText.length-c.replaceRange.length}if(!a)n.push(new ti(o.replaceRange.delta(-r),o.newText));else{let c="",u=o.replaceRange.start-(a.replaceRange.start+s);u>0&&(c=a.newText.slice(0,u));let p=l.replaceRange.endExclusive+r-o.replaceRange.endExclusive;if(p>0){let T=new ti(Ge.ofStartAndLength(l.replaceRange.endExclusive,0),l.newText.slice(-p));t.unshift(T),r-=T.newText.length-T.replaceRange.length}let g=c+o.newText,f=new Ge(Math.min(a.replaceRange.start,o.replaceRange.start-s),o.replaceRange.endExclusive-r);n.push(new ti(f,g))}}for(;;){let o=t.shift();if(!o)break;n.push(o)}return new Cu(n).normalize()}var o1=X("undoRedoService");var i1=class i{static _ID=0;id;order;constructor(){this.id=i._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}static None=new i},r1=class i{static _ID=0;id;order;constructor(){this.id=i._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}static None=new i};var Ms=class{_textModelResolvedOptionsBrand=void 0;tabSize;indentSize;_indentSizeIsTabSize;insertSpaces;defaultEOL;trimAutoWhitespace;bracketPairColorizationOptions;get originalIndentSize(){return this._indentSizeIsTabSize?"tabSize":this.indentSize}constructor(e){this.tabSize=Math.max(1,e.tabSize|0),e.indentSize==="tabSize"?(this.indentSize=this.tabSize,this._indentSizeIsTabSize=!0):(this.indentSize=Math.max(1,e.indentSize|0),this._indentSizeIsTabSize=!1),this.insertSpaces=!!e.insertSpaces,this.defaultEOL=e.defaultEOL|0,this.trimAutoWhitespace=!!e.trimAutoWhitespace,this.bracketPairColorizationOptions=e.bracketPairColorizationOptions}equals(e){return this.tabSize===e.tabSize&&this._indentSizeIsTabSize===e._indentSizeIsTabSize&&this.indentSize===e.indentSize&&this.insertSpaces===e.insertSpaces&&this.defaultEOL===e.defaultEOL&&this.trimAutoWhitespace===e.trimAutoWhitespace&&Cr(this.bracketPairColorizationOptions,e.bracketPairColorizationOptions)}createChangeEvent(e){return{tabSize:this.tabSize!==e.tabSize,indentSize:this.indentSize!==e.indentSize,insertSpaces:this.insertSpaces!==e.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==e.trimAutoWhitespace}}},Fr=class{_findMatchBrand=void 0;range;matches;constructor(e,t){this.range=e,this.matches=t}};function s1(i){return i&&typeof i.read=="function"}var Ns=class{constructor(e,t,n,r,o,s){this.identifier=e;this.range=t;this.text=n;this.forceMoveMarkers=r;this.isAutoWhitespaceEdit=o;this._isTracked=s}},Su=class{regex;wordSeparators;simpleSearch;constructor(e,t,n){this.regex=e,this.wordSeparators=t,this.simpleSearch=n}},Eu=class{constructor(e,t,n){this.reverseEdits=e;this.changes=t;this.trimAutoWhitespaceLineNumbers=n}};function aE(i,e,t){let n=0;for(let o=0;o<i.length;o++)i.charAt(o)==="	"?n=Qi.nextIndentTabStop(n,e):n++;let r="";if(!t){let o=Math.floor(n/e);n=n%e;for(let s=0;s<o;s++)r+="	"}for(let o=0;o<n;o++)r+=" ";return r}function sm(i,e,t){let n=qi(i);return n===-1&&(n=i.length),aE(i.substring(0,n),e,t)+i.substring(n)}function lE(i){return i!==null&&typeof i=="object"&&"light"in i&&"dark"in i}var dE={ColorContribution:"base.contributions.colors"},cE="default",am=class{_onDidChangeSchema=new N;onDidChangeSchema=this._onDidChangeSchema.event;colorsById;colorSchema={type:"object",properties:{}};colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]};constructor(){this.colorsById={}}notifyThemeUpdate(e){for(let t of Object.keys(this.colorsById)){let n=e.getColor(t);n&&(this.colorSchema.properties[t].oneOf[0].defaultSnippets[0].body=`\${1:${n.toString()}}`)}this._onDidChangeSchema.fire()}registerColor(e,t,n,r=!1,o){let s={id:e,description:n,defaults:t,needsTransparency:r,deprecationMessage:o};this.colorsById[e]=s;let a={type:"string",format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return o&&(a.deprecationMessage=o),r&&(a.pattern="^#(?:(?<rgba>[0-9a-fA-f]{3}[0-9a-eA-E])|(?:[0-9a-fA-F]{6}(?:(?![fF]{2})(?:[0-9a-fA-F]{2}))))?$",a.patternErrorMessage=d("transparecyRequired","This color must be transparent or it will obscure content")),this.colorSchema.properties[e]={description:n,oneOf:[a,{type:"string",const:cE,description:d("useDefault","Use the default color.")}]},this.colorReferenceSchema.enum.push(e),this.colorReferenceSchema.enumDescriptions.push(n),this._onDidChangeSchema.fire(),e}deregisterColor(e){delete this.colorsById[e],delete this.colorSchema.properties[e];let t=this.colorReferenceSchema.enum.indexOf(e);t!==-1&&(this.colorReferenceSchema.enum.splice(t,1),this.colorReferenceSchema.enumDescriptions.splice(t,1)),this._onDidChangeSchema.fire()}getColors(){return Object.keys(this.colorsById).map(e=>this.colorsById[e])}resolveDefaultColor(e,t){let n=this.colorsById[e];if(n?.defaults){let r=lE(n.defaults)?n.defaults[t.type]:n.defaults;return ni(r,t)}}getColorSchema(){return this.colorSchema}getColorReferenceSchema(){return this.colorReferenceSchema}toString(){let e=(t,n)=>{let r=t.indexOf(".")===-1?0:1,o=n.indexOf(".")===-1?0:1;return r!==o?r-o:t.localeCompare(n)};return Object.keys(this.colorsById).sort(e).map(t=>`- \`${t}\`: ${this.colorsById[t].description}`).join(`
`)}},wu=new am;tt.add(dE.ColorContribution,wu);function v(i,e,t,n,r){return wu.registerColor(i,e,t,n,r)}function uE(i,e){switch(i.op){case 0:return ni(i.value,e)?.darken(i.factor);case 1:return ni(i.value,e)?.lighten(i.factor);case 2:return ni(i.value,e)?.transparent(i.factor);case 3:{let t=ni(i.background,e);return t?ni(i.value,e)?.makeOpaque(t):ni(i.value,e)}case 4:for(let t of i.values){let n=ni(t,e);if(n)return n}return;case 6:return ni(e.defines(i.if)?i.then:i.else,e);case 5:{let t=ni(i.value,e);if(!t)return;let n=ni(i.background,e);return n?t.isDarkerThan(n)?R.getLighterColor(t,n,i.factor).transparent(i.transparency):R.getDarkerColor(t,n,i.factor).transparent(i.transparency):t.transparent(i.factor*i.transparency)}default:throw hp(i)}}function Ti(i,e){return{op:0,value:i,factor:e}}function In(i,e){return{op:1,value:i,factor:e}}function re(i,e){return{op:2,value:i,factor:e}}function lm(...i){return{op:4,values:i}}function l1(i,e,t){return{op:6,if:i,then:e,else:t}}function dm(i,e,t,n){return{op:5,value:i,background:e,factor:t,transparency:n}}function ni(i,e){if(i!==null){if(typeof i=="string")return i[0]==="#"?R.fromHex(i):e.getColor(i);if(i instanceof R)return i;if(typeof i=="object")return uE(i,e)}}var d1="vscode://schemas/workbench-colors",c1=tt.as(Io.JSONContribution);c1.registerSchema(d1,wu.getColorSchema());var a1=new ji(()=>c1.notifySchemaChanged(d1),200);wu.onDidChangeSchema(()=>{a1.isScheduled()||a1.schedule()});var we=v("foreground",{dark:"#CCCCCC",light:"#616161",hcDark:"#FFFFFF",hcLight:"#292929"},d("foreground","Overall foreground color. This color is only used if not overridden by a component.")),BH=v("disabledForeground",{dark:"#CCCCCC80",light:"#61616180",hcDark:"#A5A5A5",hcLight:"#7F7F7F"},d("disabledForeground","Overall foreground for disabled elements. This color is only used if not overridden by a component.")),zH=v("errorForeground",{dark:"#F48771",light:"#A1260D",hcDark:"#F48771",hcLight:"#B5200D"},d("errorForeground","Overall foreground color for error messages. This color is only used if not overridden by a component.")),UH=v("descriptionForeground",{light:"#717171",dark:re(we,.7),hcDark:re(we,.7),hcLight:re(we,.7)},d("descriptionForeground","Foreground color for description text providing additional information, for example for a label.")),Rl=v("icon.foreground",{dark:"#C5C5C5",light:"#424242",hcDark:"#FFFFFF",hcLight:"#292929"},d("iconForeground","The default color for icons in the workbench.")),Fn=v("focusBorder",{dark:"#007FD4",light:"#0090F1",hcDark:"#F38518",hcLight:"#006BBD"},d("focusBorder","Overall border color for focused elements. This color is only used if not overridden by a component.")),Ie=v("contrastBorder",{light:null,dark:null,hcDark:"#6FC3DF",hcLight:"#0F4A85"},d("contrastBorder","An extra border around elements to separate them from others for greater contrast.")),it=v("contrastActiveBorder",{light:null,dark:null,hcDark:Fn,hcLight:Fn},d("activeContrastBorder","An extra border around active elements to separate them from others for greater contrast.")),WH=v("selection.background",null,d("selectionBackground","The background color of text selections in the workbench (e.g. for input fields or text areas). Note that this does not apply to selections within the editor.")),HH=v("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hcDark:"#21A6FF",hcLight:"#0F4A85"},d("textLinkForeground","Foreground color for links in text.")),VH=v("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hcDark:"#21A6FF",hcLight:"#0F4A85"},d("textLinkActiveForeground","Foreground color for links in text when clicked on and on mouse hover.")),KH=v("textSeparator.foreground",{light:"#0000002e",dark:"#ffffff2e",hcDark:R.black,hcLight:"#292929"},d("textSeparatorForeground","Color for text separators.")),qH=v("textPreformat.foreground",{light:"#A31515",dark:"#D7BA7D",hcDark:"#000000",hcLight:"#FFFFFF"},d("textPreformatForeground","Foreground color for preformatted text segments.")),$H=v("textPreformat.background",{light:"#0000001A",dark:"#FFFFFF1A",hcDark:"#FFFFFF",hcLight:"#09345f"},d("textPreformatBackground","Background color for preformatted text segments.")),GH=v("textBlockQuote.background",{light:"#f2f2f2",dark:"#222222",hcDark:null,hcLight:"#F2F2F2"},d("textBlockQuoteBackground","Background color for block quotes in text.")),jH=v("textBlockQuote.border",{light:"#007acc80",dark:"#007acc80",hcDark:R.white,hcLight:"#292929"},d("textBlockQuoteBorder","Border color for block quotes in text.")),YH=v("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hcDark:R.black,hcLight:"#F2F2F2"},d("textCodeBlockBackground","Background color for code blocks in text."));var eV=v("sash.hoverBorder",Fn,d("sashActiveBorder","Border color of active sashes.")),ku=v("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hcDark:R.black,hcLight:"#0F4A85"},d("badgeBackground","Badge background color. Badges are small information labels, e.g. for search results count.")),tV=v("badge.foreground",{dark:R.white,light:"#333",hcDark:R.white,hcLight:R.white},d("badgeForeground","Badge foreground color. Badges are small information labels, e.g. for search results count.")),u1=v("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hcDark:null,hcLight:null},d("scrollbarShadow","Scrollbar shadow to indicate that the view is scrolled.")),h1=v("scrollbarSlider.background",{dark:R.fromHex("#797979").transparent(.4),light:R.fromHex("#646464").transparent(.4),hcDark:re(Ie,.6),hcLight:re(Ie,.4)},d("scrollbarSliderBackground","Scrollbar slider background color.")),p1=v("scrollbarSlider.hoverBackground",{dark:R.fromHex("#646464").transparent(.7),light:R.fromHex("#646464").transparent(.7),hcDark:re(Ie,.8),hcLight:re(Ie,.8)},d("scrollbarSliderHoverBackground","Scrollbar slider background color when hovering.")),g1=v("scrollbarSlider.activeBackground",{dark:R.fromHex("#BFBFBF").transparent(.4),light:R.fromHex("#000000").transparent(.6),hcDark:Ie,hcLight:Ie},d("scrollbarSliderActiveBackground","Scrollbar slider background color when clicked on.")),nV=v("progressBar.background",{dark:R.fromHex("#0E70C0"),light:R.fromHex("#0E70C0"),hcDark:Ie,hcLight:Ie},d("progressBarBackground","Background color of the progress bar that can show for long running operations."));var No=v("editor.background",{light:"#ffffff",dark:"#1E1E1E",hcDark:R.black,hcLight:R.white},d("editorBackground","Editor background color.")),lV=v("editor.foreground",{light:"#333333",dark:"#BBBBBB",hcDark:R.white,hcLight:we},d("editorForeground","Editor default foreground color.")),dV=v("editorStickyScroll.background",No,d("editorStickyScrollBackground","Background color of sticky scroll in the editor")),cV=v("editorStickyScrollHover.background",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:null,hcLight:R.fromHex("#0F4A85").transparent(.1)},d("editorStickyScrollHoverBackground","Background color of sticky scroll on hover in the editor")),uV=v("editorStickyScroll.border",{dark:null,light:null,hcDark:Ie,hcLight:Ie},d("editorStickyScrollBorder","Border color of sticky scroll in the editor")),hV=v("editorStickyScroll.shadow",u1,d("editorStickyScrollShadow"," Shadow color of sticky scroll in the editor")),xn=v("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hcDark:"#0C141F",hcLight:R.white},d("editorWidgetBackground","Background color of editor widgets, such as find/replace.")),Al=v("editorWidget.foreground",we,d("editorWidgetForeground","Foreground color of editor widgets, such as find/replace.")),hE=v("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hcDark:Ie,hcLight:Ie},d("editorWidgetBorder","Border color of editor widgets. The color is only used if the widget chooses to have a border and if the color is not overridden by a widget.")),pV=v("editorWidget.resizeBorder",null,d("editorWidgetResizeBorder","Border color of the resize bar of editor widgets. The color is only used if the widget chooses to have a resize border and if the color is not overridden by a widget.")),gV=v("editorError.background",null,d("editorError.background","Background color of error text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),pm=v("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hcDark:"#F48771",hcLight:"#B5200D"},d("editorError.foreground","Foreground color of error squigglies in the editor.")),fV=v("editorError.border",{dark:null,light:null,hcDark:R.fromHex("#E47777").transparent(.8),hcLight:"#B5200D"},d("errorBorder","If set, color of double underlines for errors in the editor.")),T1=v("editorWarning.background",null,d("editorWarning.background","Background color of warning text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),Ci=v("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hcDark:"#FFD370",hcLight:"#895503"},d("editorWarning.foreground","Foreground color of warning squigglies in the editor.")),zs=v("editorWarning.border",{dark:null,light:null,hcDark:R.fromHex("#FFCC00").transparent(.8),hcLight:R.fromHex("#FFCC00").transparent(.8)},d("warningBorder","If set, color of double underlines for warnings in the editor.")),mV=v("editorInfo.background",null,d("editorInfo.background","Background color of info text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),er=v("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hcDark:"#3794FF",hcLight:"#1a85ff"},d("editorInfo.foreground","Foreground color of info squigglies in the editor.")),Us=v("editorInfo.border",{dark:null,light:null,hcDark:R.fromHex("#3794FF").transparent(.8),hcLight:"#292929"},d("infoBorder","If set, color of double underlines for infos in the editor.")),bV=v("editorHint.foreground",{dark:R.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hcDark:null,hcLight:null},d("editorHint.foreground","Foreground color of hint squigglies in the editor.")),vV=v("editorHint.border",{dark:null,light:null,hcDark:R.fromHex("#eeeeee").transparent(.8),hcLight:"#292929"},d("hintBorder","If set, color of double underlines for hints in the editor.")),yV=v("editorLink.activeForeground",{dark:"#4E94CE",light:R.blue,hcDark:R.cyan,hcLight:"#292929"},d("activeLinkForeground","Color of active links.")),Ps=v("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hcDark:"#f3f518",hcLight:"#0F4A85"},d("editorSelectionBackground","Color of the editor selection.")),IV=v("editor.selectionForeground",{light:null,dark:null,hcDark:"#000000",hcLight:R.white},d("editorSelectionForeground","Color of the selected text for high contrast.")),xV=v("editor.inactiveSelectionBackground",{light:re(Ps,.5),dark:re(Ps,.5),hcDark:re(Ps,.7),hcLight:re(Ps,.5)},d("editorInactiveSelection","Color of the selection in an inactive editor. The color must not be opaque so as not to hide underlying decorations."),!0),TV=v("editor.selectionHighlightBackground",{light:dm(Ps,No,.3,.6),dark:dm(Ps,No,.3,.6),hcDark:null,hcLight:null},d("editorSelectionHighlight","Color for regions with the same content as the selection. The color must not be opaque so as not to hide underlying decorations."),!0),CV=v("editor.selectionHighlightBorder",{light:null,dark:null,hcDark:it,hcLight:it},d("editorSelectionHighlightBorder","Border color for regions with the same content as the selection.")),SV=v("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hcDark:null,hcLight:null},d("editorFindMatch","Color of the current search match.")),EV=v("editor.findMatchForeground",null,d("editorFindMatchForeground","Text color of the current search match.")),ii=v("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hcDark:null,hcLight:null},d("findMatchHighlight","Color of the other search matches. The color must not be opaque so as not to hide underlying decorations."),!0),wV=v("editor.findMatchHighlightForeground",null,d("findMatchHighlightForeground","Foreground color of the other search matches."),!0),kV=v("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hcDark:null,hcLight:null},d("findRangeHighlight","Color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),_V=v("editor.findMatchBorder",{light:null,dark:null,hcDark:it,hcLight:it},d("editorFindMatchBorder","Border color of the current search match.")),Br=v("editor.findMatchHighlightBorder",{light:null,dark:null,hcDark:it,hcLight:it},d("findMatchHighlightBorder","Border color of the other search matches.")),LV=v("editor.findRangeHighlightBorder",{dark:null,light:null,hcDark:re(it,.4),hcLight:re(it,.4)},d("findRangeHighlightBorder","Border color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),DV=v("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hcDark:"#ADD6FF26",hcLight:null},d("hoverHighlight","Highlight below the word for which a hover is shown. The color must not be opaque so as not to hide underlying decorations."),!0),f1=v("editorHoverWidget.background",xn,d("hoverBackground","Background color of the editor hover.")),RV=v("editorHoverWidget.foreground",Al,d("hoverForeground","Foreground color of the editor hover.")),AV=v("editorHoverWidget.border",hE,d("hoverBorder","Border color of the editor hover.")),OV=v("editorHoverWidget.statusBarBackground",{dark:In(f1,.2),light:Ti(f1,.05),hcDark:xn,hcLight:xn},d("statusBarBackground","Background color of the editor hover status bar.")),C1=v("editorInlayHint.foreground",{dark:"#969696",light:"#969696",hcDark:R.white,hcLight:R.black},d("editorInlayHintForeground","Foreground color of inline hints")),S1=v("editorInlayHint.background",{dark:re(ku,.1),light:re(ku,.1),hcDark:re(R.white,.1),hcLight:re(ku,.1)},d("editorInlayHintBackground","Background color of inline hints")),MV=v("editorInlayHint.typeForeground",C1,d("editorInlayHintForegroundTypes","Foreground color of inline hints for types")),NV=v("editorInlayHint.typeBackground",S1,d("editorInlayHintBackgroundTypes","Background color of inline hints for types")),PV=v("editorInlayHint.parameterForeground",C1,d("editorInlayHintForegroundParameter","Foreground color of inline hints for parameters")),FV=v("editorInlayHint.parameterBackground",S1,d("editorInlayHintBackgroundParameter","Background color of inline hints for parameters")),pE=v("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hcDark:"#FFCC00",hcLight:"#007ACC"},d("editorLightBulbForeground","The color used for the lightbulb actions icon.")),BV=v("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},d("editorLightBulbAutoFixForeground","The color used for the lightbulb auto fix actions icon.")),zV=v("editorLightBulbAi.foreground",pE,d("editorLightBulbAiForeground","The color used for the lightbulb AI icon.")),UV=v("editor.snippetTabstopHighlightBackground",{dark:new R(new ue(124,124,124,.3)),light:new R(new ue(10,50,100,.2)),hcDark:new R(new ue(124,124,124,.3)),hcLight:new R(new ue(10,50,100,.2))},d("snippetTabstopHighlightBackground","Highlight background color of a snippet tabstop.")),WV=v("editor.snippetTabstopHighlightBorder",null,d("snippetTabstopHighlightBorder","Highlight border color of a snippet tabstop.")),HV=v("editor.snippetFinalTabstopHighlightBackground",null,d("snippetFinalTabstopHighlightBackground","Highlight background color of the final tabstop of a snippet.")),VV=v("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new R(new ue(10,50,100,.5)),hcDark:"#525252",hcLight:"#292929"},d("snippetFinalTabstopHighlightBorder","Highlight border color of the final tabstop of a snippet.")),m1=new R(new ue(155,185,85,.2)),b1=new R(new ue(255,0,0,.2)),KV=v("diffEditor.insertedTextBackground",{dark:"#9ccc2c33",light:"#9ccc2c40",hcDark:null,hcLight:null},d("diffEditorInserted","Background color for text that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),qV=v("diffEditor.removedTextBackground",{dark:"#ff000033",light:"#ff000033",hcDark:null,hcLight:null},d("diffEditorRemoved","Background color for text that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),$V=v("diffEditor.insertedLineBackground",{dark:m1,light:m1,hcDark:null,hcLight:null},d("diffEditorInsertedLines","Background color for lines that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),GV=v("diffEditor.removedLineBackground",{dark:b1,light:b1,hcDark:null,hcLight:null},d("diffEditorRemovedLines","Background color for lines that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),jV=v("diffEditorGutter.insertedLineBackground",null,d("diffEditorInsertedLineGutter","Background color for the margin where lines got inserted.")),YV=v("diffEditorGutter.removedLineBackground",null,d("diffEditorRemovedLineGutter","Background color for the margin where lines got removed.")),XV=v("diffEditorOverview.insertedForeground",null,d("diffEditorOverviewInserted","Diff overview ruler foreground for inserted content.")),ZV=v("diffEditorOverview.removedForeground",null,d("diffEditorOverviewRemoved","Diff overview ruler foreground for removed content.")),QV=v("diffEditor.insertedTextBorder",{dark:null,light:null,hcDark:"#33ff2eff",hcLight:"#374E06"},d("diffEditorInsertedOutline","Outline color for the text that got inserted.")),JV=v("diffEditor.removedTextBorder",{dark:null,light:null,hcDark:"#FF008F",hcLight:"#AD0707"},d("diffEditorRemovedOutline","Outline color for text that got removed.")),eK=v("diffEditor.border",{dark:null,light:null,hcDark:Ie,hcLight:Ie},d("diffEditorBorder","Border color between the two text editors.")),tK=v("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hcDark:null,hcLight:null},d("diffDiagonalFill","Color of the diff editor's diagonal fill. The diagonal fill is used in side-by-side diff views.")),nK=v("diffEditor.unchangedRegionBackground","sideBar.background",d("diffEditor.unchangedRegionBackground","The background color of unchanged blocks in the diff editor.")),iK=v("diffEditor.unchangedRegionForeground","foreground",d("diffEditor.unchangedRegionForeground","The foreground color of unchanged blocks in the diff editor.")),rK=v("diffEditor.unchangedCodeBackground",{dark:"#74747429",light:"#b8b8b829",hcDark:null,hcLight:null},d("diffEditor.unchangedCodeBackground","The background color of unchanged code in the diff editor.")),E1=v("widget.shadow",{dark:re(R.black,.36),light:re(R.black,.16),hcDark:null,hcLight:null},d("widgetShadow","Shadow color of widgets such as find/replace inside the editor.")),oK=v("widget.border",{dark:null,light:null,hcDark:Ie,hcLight:Ie},d("widgetBorder","Border color of widgets such as find/replace inside the editor.")),v1=v("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hcDark:null,hcLight:null},d("toolbarHoverBackground","Toolbar background when hovering over actions using the mouse")),sK=v("toolbar.hoverOutline",{dark:null,light:null,hcDark:it,hcLight:it},d("toolbarHoverOutline","Toolbar outline when hovering over actions using the mouse")),aK=v("toolbar.activeBackground",{dark:In(v1,.1),light:Ti(v1,.1),hcDark:null,hcLight:null},d("toolbarActiveBackground","Toolbar background when holding the mouse over actions")),lK=v("breadcrumb.foreground",re(we,.8),d("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),dK=v("breadcrumb.background",No,d("breadcrumbsBackground","Background color of breadcrumb items.")),cK=v("breadcrumb.focusForeground",{light:Ti(we,.2),dark:In(we,.1),hcDark:In(we,.1),hcLight:In(we,.1)},d("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),uK=v("breadcrumb.activeSelectionForeground",{light:Ti(we,.2),dark:In(we,.1),hcDark:In(we,.1),hcLight:In(we,.1)},d("breadcrumbsSelectedForeground","Color of selected breadcrumb items.")),hK=v("breadcrumbPicker.background",xn,d("breadcrumbsSelectedBackground","Background color of breadcrumb item picker.")),w1=.5,y1=R.fromHex("#40C8AE").transparent(w1),I1=R.fromHex("#40A6FF").transparent(w1),x1=R.fromHex("#606060").transparent(.4),gm=.4,Fs=1,cm=v("merge.currentHeaderBackground",{dark:y1,light:y1,hcDark:null,hcLight:null},d("mergeCurrentHeaderBackground","Current header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),pK=v("merge.currentContentBackground",re(cm,gm),d("mergeCurrentContentBackground","Current content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),um=v("merge.incomingHeaderBackground",{dark:I1,light:I1,hcDark:null,hcLight:null},d("mergeIncomingHeaderBackground","Incoming header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),gK=v("merge.incomingContentBackground",re(um,gm),d("mergeIncomingContentBackground","Incoming content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),hm=v("merge.commonHeaderBackground",{dark:x1,light:x1,hcDark:null,hcLight:null},d("mergeCommonHeaderBackground","Common ancestor header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),fK=v("merge.commonContentBackground",re(hm,gm),d("mergeCommonContentBackground","Common ancestor content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),Bs=v("merge.border",{dark:null,light:null,hcDark:"#C3DF6F",hcLight:"#007ACC"},d("mergeBorder","Border color on headers and the splitter in inline merge-conflicts.")),mK=v("editorOverviewRuler.currentContentForeground",{dark:re(cm,Fs),light:re(cm,Fs),hcDark:Bs,hcLight:Bs},d("overviewRulerCurrentContentForeground","Current overview ruler foreground for inline merge-conflicts.")),bK=v("editorOverviewRuler.incomingContentForeground",{dark:re(um,Fs),light:re(um,Fs),hcDark:Bs,hcLight:Bs},d("overviewRulerIncomingContentForeground","Incoming overview ruler foreground for inline merge-conflicts.")),vK=v("editorOverviewRuler.commonContentForeground",{dark:re(hm,Fs),light:re(hm,Fs),hcDark:Bs,hcLight:Bs},d("overviewRulerCommonContentForeground","Common ancestor overview ruler foreground for inline merge-conflicts.")),yK=v("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hcDark:"#AB5A00",hcLight:"#AB5A00"},d("overviewRulerFindMatchForeground","Overview ruler marker color for find matches. The color must not be opaque so as not to hide underlying decorations."),!0),IK=v("editorOverviewRuler.selectionHighlightForeground","#A0A0A0CC",d("overviewRulerSelectionHighlightForeground","Overview ruler marker color for selection highlights. The color must not be opaque so as not to hide underlying decorations."),!0),xK=v("problemsErrorIcon.foreground",pm,d("problemsErrorIconForeground","The color used for the problems error icon.")),TK=v("problemsWarningIcon.foreground",Ci,d("problemsWarningIconForeground","The color used for the problems warning icon.")),CK=v("problemsInfoIcon.foreground",er,d("problemsInfoIconForeground","The color used for the problems info icon."));var k1=v("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hcDark:"#AB5A00",hcLight:"#0F4A85"},d("minimapFindMatchHighlight","Minimap marker color for find matches."),!0),LK=v("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hcDark:"#ffffff",hcLight:"#0F4A85"},d("minimapSelectionOccurrenceHighlight","Minimap marker color for repeating editor selections."),!0),DK=v("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hcDark:"#ffffff",hcLight:"#0F4A85"},d("minimapSelectionHighlight","Minimap marker color for the editor selection."),!0),RK=v("minimap.infoHighlight",{dark:er,light:er,hcDark:Us,hcLight:Us},d("minimapInfo","Minimap marker color for infos.")),AK=v("minimap.warningHighlight",{dark:Ci,light:Ci,hcDark:zs,hcLight:zs},d("overviewRuleWarning","Minimap marker color for warnings.")),OK=v("minimap.errorHighlight",{dark:new R(new ue(255,18,18,.7)),light:new R(new ue(255,18,18,.7)),hcDark:new R(new ue(255,50,50,1)),hcLight:"#B5200D"},d("minimapError","Minimap marker color for errors.")),MK=v("minimap.background",null,d("minimapBackground","Minimap background color.")),NK=v("minimap.foregroundOpacity",R.fromHex("#000f"),d("minimapForegroundOpacity",'Opacity of foreground elements rendered in the minimap. For example, "#000000c0" will render the elements with 75% opacity.')),PK=v("minimapSlider.background",re(h1,.5),d("minimapSliderBackground","Minimap slider background color.")),FK=v("minimapSlider.hoverBackground",re(p1,.5),d("minimapSliderHoverBackground","Minimap slider background color when hovering.")),BK=v("minimapSlider.activeBackground",re(g1,.5),d("minimapSliderActiveBackground","Minimap slider background color when clicked on."));var KK=v("charts.foreground",we,d("chartsForeground","The foreground color used in charts.")),qK=v("charts.lines",re(we,.5),d("chartsLines","The color used for horizontal lines in charts.")),$K=v("charts.red",pm,d("chartsRed","The red color used in chart visualizations.")),GK=v("charts.blue",er,d("chartsBlue","The blue color used in chart visualizations.")),jK=v("charts.yellow",Ci,d("chartsYellow","The yellow color used in chart visualizations.")),YK=v("charts.orange",k1,d("chartsOrange","The orange color used in chart visualizations.")),XK=v("charts.green",{dark:"#89D185",light:"#388A34",hcDark:"#89D185",hcLight:"#374e06"},d("chartsGreen","The green color used in chart visualizations.")),ZK=v("charts.purple",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},d("chartsPurple","The purple color used in chart visualizations."));var iq=v("input.background",{dark:"#3C3C3C",light:R.white,hcDark:R.black,hcLight:R.white},d("inputBoxBackground","Input box background.")),rq=v("input.foreground",we,d("inputBoxForeground","Input box foreground.")),oq=v("input.border",{dark:null,light:null,hcDark:Ie,hcLight:Ie},d("inputBoxBorder","Input box border.")),gE=v("inputOption.activeBorder",{dark:"#007ACC",light:"#007ACC",hcDark:Ie,hcLight:Ie},d("inputBoxActiveOptionBorder","Border color of activated options in input fields.")),fE=v("inputOption.hoverBackground",{dark:"#5a5d5e80",light:"#b8b8b850",hcDark:null,hcLight:null},d("inputOption.hoverBackground","Background color of activated options in input fields.")),mE=v("inputOption.activeBackground",{dark:re(Fn,.4),light:re(Fn,.2),hcDark:R.transparent,hcLight:R.transparent},d("inputOption.activeBackground","Background hover color of options in input fields.")),bE=v("inputOption.activeForeground",{dark:R.white,light:R.black,hcDark:we,hcLight:we},d("inputOption.activeForeground","Foreground color of activated options in input fields.")),sq=v("input.placeholderForeground",{light:re(we,.5),dark:re(we,.5),hcDark:re(we,.7),hcLight:re(we,.7)},d("inputPlaceholderForeground","Input box foreground color for placeholder text.")),aq=v("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hcDark:R.black,hcLight:R.white},d("inputValidationInfoBackground","Input validation background color for information severity.")),lq=v("inputValidation.infoForeground",{dark:null,light:null,hcDark:null,hcLight:we},d("inputValidationInfoForeground","Input validation foreground color for information severity.")),dq=v("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hcDark:Ie,hcLight:Ie},d("inputValidationInfoBorder","Input validation border color for information severity.")),cq=v("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hcDark:R.black,hcLight:R.white},d("inputValidationWarningBackground","Input validation background color for warning severity.")),uq=v("inputValidation.warningForeground",{dark:null,light:null,hcDark:null,hcLight:we},d("inputValidationWarningForeground","Input validation foreground color for warning severity.")),hq=v("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hcDark:Ie,hcLight:Ie},d("inputValidationWarningBorder","Input validation border color for warning severity.")),pq=v("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hcDark:R.black,hcLight:R.white},d("inputValidationErrorBackground","Input validation background color for error severity.")),gq=v("inputValidation.errorForeground",{dark:null,light:null,hcDark:null,hcLight:we},d("inputValidationErrorForeground","Input validation foreground color for error severity.")),fq=v("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hcDark:Ie,hcLight:Ie},d("inputValidationErrorBorder","Input validation border color for error severity.")),Du=v("dropdown.background",{dark:"#3C3C3C",light:R.white,hcDark:R.black,hcLight:R.white},d("dropdownBackground","Dropdown background.")),mq=v("dropdown.listBackground",{dark:null,light:null,hcDark:R.black,hcLight:R.white},d("dropdownListBackground","Dropdown list background.")),fm=v("dropdown.foreground",{dark:"#F0F0F0",light:we,hcDark:R.white,hcLight:we},d("dropdownForeground","Dropdown foreground.")),vE=v("dropdown.border",{dark:Du,light:"#CECECE",hcDark:Ie,hcLight:Ie},d("dropdownBorder","Dropdown border.")),yE=v("button.foreground",R.white,d("buttonForeground","Button foreground color.")),bq=v("button.separator",re(yE,.4),d("buttonSeparator","Button separator color.")),_u=v("button.background",{dark:"#0E639C",light:"#007ACC",hcDark:null,hcLight:"#0F4A85"},d("buttonBackground","Button background color.")),vq=v("button.hoverBackground",{dark:In(_u,.2),light:Ti(_u,.2),hcDark:_u,hcLight:_u},d("buttonHoverBackground","Button background color when hovering.")),yq=v("button.border",Ie,d("buttonBorder","Button border color.")),Iq=v("button.secondaryForeground",{dark:R.white,light:R.white,hcDark:R.white,hcLight:we},d("buttonSecondaryForeground","Secondary button foreground color.")),_1=v("button.secondaryBackground",{dark:"#3A3D41",light:"#5F6A79",hcDark:null,hcLight:R.white},d("buttonSecondaryBackground","Secondary button background color.")),xq=v("button.secondaryHoverBackground",{dark:In(_1,.2),light:Ti(_1,.2),hcDark:null,hcLight:null},d("buttonSecondaryHoverBackground","Secondary button background color when hovering.")),Lu=v("radio.activeForeground",bE,d("radioActiveForeground","Foreground color of active radio option.")),Tq=v("radio.activeBackground",mE,d("radioBackground","Background color of active radio option.")),Cq=v("radio.activeBorder",gE,d("radioActiveBorder","Border color of the active radio option.")),Sq=v("radio.inactiveForeground",null,d("radioInactiveForeground","Foreground color of inactive radio option.")),Eq=v("radio.inactiveBackground",null,d("radioInactiveBackground","Background color of inactive radio option.")),wq=v("radio.inactiveBorder",{light:re(Lu,.2),dark:re(Lu,.2),hcDark:re(Lu,.4),hcLight:re(Lu,.2)},d("radioInactiveBorder","Border color of the inactive radio option.")),kq=v("radio.inactiveHoverBackground",fE,d("radioHoverBackground","Background color of inactive active radio option when hovering.")),_q=v("checkbox.background",Du,d("checkbox.background","Background color of checkbox widget.")),Lq=v("checkbox.selectBackground",xn,d("checkbox.select.background","Background color of checkbox widget when the element it's in is selected.")),Dq=v("checkbox.foreground",fm,d("checkbox.foreground","Foreground color of checkbox widget.")),Rq=v("checkbox.border",vE,d("checkbox.border","Border color of checkbox widget.")),Aq=v("checkbox.selectBorder",Rl,d("checkbox.select.border","Border color of checkbox widget when the element it's in is selected.")),Oq=v("keybindingLabel.background",{dark:new R(new ue(128,128,128,.17)),light:new R(new ue(221,221,221,.4)),hcDark:R.transparent,hcLight:R.transparent},d("keybindingLabelBackground","Keybinding label background color. The keybinding label is used to represent a keyboard shortcut.")),Mq=v("keybindingLabel.foreground",{dark:R.fromHex("#CCCCCC"),light:R.fromHex("#555555"),hcDark:R.white,hcLight:we},d("keybindingLabelForeground","Keybinding label foreground color. The keybinding label is used to represent a keyboard shortcut.")),Nq=v("keybindingLabel.border",{dark:new R(new ue(51,51,51,.6)),light:new R(new ue(204,204,204,.4)),hcDark:new R(new ue(111,195,223)),hcLight:Ie},d("keybindingLabelBorder","Keybinding label border color. The keybinding label is used to represent a keyboard shortcut.")),Pq=v("keybindingLabel.bottomBorder",{dark:new R(new ue(68,68,68,.6)),light:new R(new ue(187,187,187,.4)),hcDark:new R(new ue(111,195,223)),hcLight:we},d("keybindingLabelBottomBorder","Keybinding label border bottom color. The keybinding label is used to represent a keyboard shortcut."));var Hq=v("list.focusBackground",null,d("listFocusBackground","List/Tree background color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Vq=v("list.focusForeground",null,d("listFocusForeground","List/Tree foreground color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Kq=v("list.focusOutline",{dark:Fn,light:Fn,hcDark:it,hcLight:it},d("listFocusOutline","List/Tree outline color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),qq=v("list.focusAndSelectionOutline",null,d("listFocusAndSelectionOutline","List/Tree outline color for the focused item when the list/tree is active and selected. An active list/tree has keyboard focus, an inactive does not.")),Po=v("list.activeSelectionBackground",{dark:"#04395E",light:"#0060C0",hcDark:null,hcLight:R.fromHex("#0F4A85").transparent(.1)},d("listActiveSelectionBackground","List/Tree background color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Ol=v("list.activeSelectionForeground",{dark:R.white,light:R.white,hcDark:null,hcLight:null},d("listActiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),L1=v("list.activeSelectionIconForeground",null,d("listActiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),$q=v("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hcDark:null,hcLight:R.fromHex("#0F4A85").transparent(.1)},d("listInactiveSelectionBackground","List/Tree background color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Gq=v("list.inactiveSelectionForeground",null,d("listInactiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),jq=v("list.inactiveSelectionIconForeground",null,d("listInactiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Yq=v("list.inactiveFocusBackground",null,d("listInactiveFocusBackground","List/Tree background color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Xq=v("list.inactiveFocusOutline",null,d("listInactiveFocusOutline","List/Tree outline color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Zq=v("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:R.white.transparent(.1),hcLight:R.fromHex("#0F4A85").transparent(.1)},d("listHoverBackground","List/Tree background when hovering over items using the mouse.")),Qq=v("list.hoverForeground",null,d("listHoverForeground","List/Tree foreground when hovering over items using the mouse.")),Jq=v("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hcDark:null,hcLight:null},d("listDropBackground","List/Tree drag and drop background when moving items over other items when using the mouse.")),e$=v("list.dropBetweenBackground",{dark:Rl,light:Rl,hcDark:null,hcLight:null},d("listDropBetweenBackground","List/Tree drag and drop border color when moving items between items when using the mouse.")),Ru=v("list.highlightForeground",{dark:"#2AAAFF",light:"#0066BF",hcDark:Fn,hcLight:Fn},d("highlight","List/Tree foreground color of the match highlights when searching inside the list/tree.")),t$=v("list.focusHighlightForeground",{dark:Ru,light:l1(Po,Ru,"#BBE7FF"),hcDark:Ru,hcLight:Ru},d("listFocusHighlightForeground","List/Tree foreground color of the match highlights on actively focused items when searching inside the list/tree.")),n$=v("list.invalidItemForeground",{dark:"#B89500",light:"#B89500",hcDark:"#B89500",hcLight:"#B5200D"},d("invalidItemForeground","List/Tree foreground color for invalid items, for example an unresolved root in explorer.")),i$=v("list.errorForeground",{dark:"#F88070",light:"#B01011",hcDark:null,hcLight:null},d("listErrorForeground","Foreground color of list items containing errors.")),r$=v("list.warningForeground",{dark:"#CCA700",light:"#855F00",hcDark:null,hcLight:null},d("listWarningForeground","Foreground color of list items containing warnings.")),o$=v("listFilterWidget.background",{light:Ti(xn,0),dark:In(xn,0),hcDark:xn,hcLight:xn},d("listFilterWidgetBackground","Background color of the type filter widget in lists and trees.")),s$=v("listFilterWidget.outline",{dark:R.transparent,light:R.transparent,hcDark:"#f38518",hcLight:"#007ACC"},d("listFilterWidgetOutline","Outline color of the type filter widget in lists and trees.")),a$=v("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hcDark:Ie,hcLight:Ie},d("listFilterWidgetNoMatchesOutline","Outline color of the type filter widget in lists and trees, when there are no matches.")),l$=v("listFilterWidget.shadow",E1,d("listFilterWidgetShadow","Shadow color of the type filter widget in lists and trees.")),d$=v("list.filterMatchBackground",{dark:ii,light:ii,hcDark:null,hcLight:null},d("listFilterMatchHighlight","Background color of the filtered match.")),c$=v("list.filterMatchBorder",{dark:Br,light:Br,hcDark:Ie,hcLight:it},d("listFilterMatchHighlightBorder","Border color of the filtered match.")),u$=v("list.deemphasizedForeground",{dark:"#8C8C8C",light:"#8E8E90",hcDark:"#A7A8A9",hcLight:"#666666"},d("listDeemphasizedForeground","List/Tree foreground color for items that are deemphasized.")),IE=v("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hcDark:"#a9a9a9",hcLight:"#a5a5a5"},d("treeIndentGuidesStroke","Tree stroke color for the indentation guides.")),h$=v("tree.inactiveIndentGuidesStroke",re(IE,.4),d("treeInactiveIndentGuidesStroke","Tree stroke color for the indentation guides that are not active.")),p$=v("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hcDark:null,hcLight:null},d("tableColumnsBorder","Table border color between columns.")),g$=v("tree.tableOddRowsBackground",{dark:re(we,.04),light:re(we,.04),hcDark:null,hcLight:null},d("tableOddRowsBackgroundColor","Background color for odd table rows.")),f$=v("editorActionList.background",xn,d("editorActionListBackground","Action List background color.")),m$=v("editorActionList.foreground",Al,d("editorActionListForeground","Action List foreground color.")),b$=v("editorActionList.focusForeground",Ol,d("editorActionListFocusForeground","Action List foreground color for the focused item.")),v$=v("editorActionList.focusBackground",Po,d("editorActionListFocusBackground","Action List background color for the focused item."));var S$=v("menu.border",{dark:null,light:null,hcDark:Ie,hcLight:Ie},d("menuBorder","Border color of menus.")),E$=v("menu.foreground",fm,d("menuForeground","Foreground color of menu items.")),w$=v("menu.background",Du,d("menuBackground","Background color of menu items.")),k$=v("menu.selectionForeground",Ol,d("menuSelectionForeground","Foreground color of the selected menu item in menus.")),_$=v("menu.selectionBackground",Po,d("menuSelectionBackground","Background color of the selected menu item in menus.")),L$=v("menu.selectionBorder",{dark:null,light:null,hcDark:it,hcLight:it},d("menuSelectionBorder","Border color of the selected menu item in menus.")),D$=v("menu.separatorBackground",{dark:"#606060",light:"#D4D4D4",hcDark:Ie,hcLight:Ie},d("menuSeparatorBackground","Color of a separator menu item in menus."));var P$=v("quickInput.background",xn,d("pickerBackground","Quick picker background color. The quick picker widget is the container for pickers like the command palette.")),F$=v("quickInput.foreground",Al,d("pickerForeground","Quick picker foreground color. The quick picker widget is the container for pickers like the command palette.")),B$=v("quickInputTitle.background",{dark:new R(new ue(255,255,255,.105)),light:new R(new ue(0,0,0,.06)),hcDark:"#000000",hcLight:R.white},d("pickerTitleBackground","Quick picker title background color. The quick picker widget is the container for pickers like the command palette.")),z$=v("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hcDark:R.white,hcLight:"#0F4A85"},d("pickerGroupForeground","Quick picker color for grouping labels.")),U$=v("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hcDark:R.white,hcLight:"#0F4A85"},d("pickerGroupBorder","Quick picker color for grouping borders.")),D1=v("quickInput.list.focusBackground",null,"",void 0,d("quickInput.list.focusBackground deprecation","Please use quickInputList.focusBackground instead")),W$=v("quickInputList.focusForeground",Ol,d("quickInput.listFocusForeground","Quick picker foreground color for the focused item.")),H$=v("quickInputList.focusIconForeground",L1,d("quickInput.listFocusIconForeground","Quick picker icon foreground color for the focused item.")),V$=v("quickInputList.focusBackground",{dark:lm(D1,Po),light:lm(D1,Po),hcDark:null,hcLight:null},d("quickInput.listFocusBackground","Quick picker background color for the focused item."));var j$=v("search.resultsInfoForeground",{light:we,dark:re(we,.65),hcDark:we,hcLight:we},d("search.resultsInfoForeground","Color of the text in the search viewlet's completion message.")),Y$=v("searchEditor.findMatchBackground",{light:re(ii,.66),dark:re(ii,.66),hcDark:ii,hcLight:ii},d("searchEditor.queryMatch","Color of the Search Editor query matches.")),X$=v("searchEditor.findMatchBorder",{light:re(Br,.66),dark:re(Br,.66),hcDark:Br,hcLight:Br},d("searchEditor.editorFindMatchBorder","Border color of the Search Editor query matches."));var xE={IconContribution:"base.contributions.icons"},TE;(e=>{function i(t,n){let r=t.defaults;for(;Ze.isThemeIcon(r);){let o=Ws.getIcon(r.id);if(!o)return;r=o.defaults}return r}e.getDefinition=i})(TE||={});var CE;(t=>{function i(n){return{weight:n.weight,style:n.style,src:n.src.map(r=>({format:r.format,location:r.location.toString()}))}}t.toJSONObject=i;function e(n){let r=o=>Dn(o)?o:void 0;if(n&&Array.isArray(n.src)&&n.src.every(o=>Dn(o.format)&&Dn(o.location)))return{weight:r(n.weight),style:r(n.style),src:n.src.map(o=>({format:o.format,location:oe.parse(o.location)}))}}t.fromJSONObject=e})(CE||={});var mm=class{_onDidChange=new N;onDidChange=this._onDidChange.event;iconsById;iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:d("iconDefinition.fontId","The id of the font to use. If not set, the font that is defined first is used.")},fontCharacter:{type:"string",description:d("iconDefinition.fontCharacter","The font character associated with the icon definition.")}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}};iconReferenceSchema={type:"string",pattern:`^${Ze.iconNameExpression}$`,enum:[],enumDescriptions:[]};iconFontsById;constructor(){this.iconsById={},this.iconFontsById={}}registerIcon(e,t,n,r){let o=this.iconsById[e];if(o){if(n&&!o.description){o.description=n,this.iconSchema.properties[e].markdownDescription=`${n} $(${e})`;let l=this.iconReferenceSchema.enum.indexOf(e);l!==-1&&(this.iconReferenceSchema.enumDescriptions[l]=n),this._onDidChange.fire()}return o}let s={id:e,description:n,defaults:t,deprecationMessage:r};this.iconsById[e]=s;let a={$ref:"#/definitions/icons"};return r&&(a.deprecationMessage=r),n&&(a.markdownDescription=`${n}: $(${e})`),this.iconSchema.properties[e]=a,this.iconReferenceSchema.enum.push(e),this.iconReferenceSchema.enumDescriptions.push(n||""),this._onDidChange.fire(),{id:e}}deregisterIcon(e){delete this.iconsById[e],delete this.iconSchema.properties[e];let t=this.iconReferenceSchema.enum.indexOf(e);t!==-1&&(this.iconReferenceSchema.enum.splice(t,1),this.iconReferenceSchema.enumDescriptions.splice(t,1)),this._onDidChange.fire()}getIcons(){return Object.keys(this.iconsById).map(e=>this.iconsById[e])}getIcon(e){return this.iconsById[e]}getIconSchema(){return this.iconSchema}getIconReferenceSchema(){return this.iconReferenceSchema}registerIconFont(e,t){let n=this.iconFontsById[e];return n||(this.iconFontsById[e]=t,this._onDidChange.fire(),t)}deregisterIconFont(e){delete this.iconFontsById[e]}getIconFont(e){return this.iconFontsById[e]}toString(){let e=(o,s)=>o.id.localeCompare(s.id),t=o=>{for(;Ze.isThemeIcon(o.defaults);)o=this.iconsById[o.defaults.id];return`codicon codicon-${o?o.id:""}`},n=[];n.push("| preview     | identifier                        | default codicon ID                | description"),n.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");let r=Object.keys(this.iconsById).map(o=>this.iconsById[o]);for(let o of r.filter(s=>!!s.description).sort(e))n.push(`|<i class="${t(o)}"></i>|${o.id}|${Ze.isThemeIcon(o.defaults)?o.defaults.id:o.id}|${o.description||""}|`);n.push("| preview     | identifier                        "),n.push("| ----------- | --------------------------------- |");for(let o of r.filter(s=>!Ze.isThemeIcon(s.defaults)).sort(e))n.push(`|<i class="${t(o)}"></i>|${o.id}|`);return n.join(`
`)}},Ws=new mm;tt.add(xE.IconContribution,Ws);function bm(i,e,t,n){return Ws.registerIcon(i,e,t,n)}function SE(){let i=vg();for(let e in i){let t="\\"+i[e].toString(16);Ws.registerIcon(e,{fontCharacter:t})}}SE();var A1="vscode://schemas/icons",O1=tt.as(Io.JSONContribution);O1.registerSchema(A1,Ws.getIconSchema());var R1=new ji(()=>O1.notifySchemaChanged(A1),200);Ws.onDidChange(()=>{R1.isScheduled()||R1.schedule()});var EG=bm("widget-close",q.close,d("widgetClose","Icon for the close action in widgets.")),wG=bm("goto-previous-location",q.arrowUp,d("previousChangeIcon","Icon for goto previous editor location.")),kG=bm("goto-next-location",q.arrowDown,d("nextChangeIcon","Icon for goto next editor location.")),_G=Ze.modify(q.sync,"spin"),LG=Ze.modify(q.loading,"spin");var YG=X("themeService");var XG=q.file,ZG=q.folder;var EE={ThemingContribution:"base.contributions.theming"},vm=class{themingParticipants=[];onThemingParticipantAddedEmitter;constructor(){this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new N}onColorThemeChange(e){return this.themingParticipants.push(e),this.onThemingParticipantAddedEmitter.fire(e),pe(()=>{let t=this.themingParticipants.indexOf(e);this.themingParticipants.splice(t,1)})}get onThemingParticipantAdded(){return this.onThemingParticipantAddedEmitter.event}getThemingParticipants(){return this.themingParticipants}},M1=new vm;tt.add(EE.ThemingContribution,M1);function Au(i){return M1.onColorThemeChange(i)}var N1=X("codeEditorService");var kE=X("modelService");var _E=X("textModelService");var LE=X("telemetryService"),LZ=X("customEndpointTelemetryService");function ym(i,e){return e&&(i.stack||i.stacktrace)?d("stackTrace.format","{0}: {1}",F1(i),P1(i.stack)||P1(i.stacktrace)):F1(i)}function P1(i){return Array.isArray(i)?i.join(`
`):i}function F1(i){return i.code==="ERR_UNC_HOST_NOT_ALLOWED"?`${i.message}. Please update the 'security.allowedUNCHosts' setting if you want to allow this host.`:typeof i.code=="string"&&typeof i.errno=="number"&&typeof i.syscall=="string"?d("nodeExceptionMessage","A system error occurred ({0})",i.message):i.message||d("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}function Hs(i=null,e=!1){if(!i)return d("error.defaultMessage","An unknown error occurred. Please consult the log for more details.");if(Array.isArray(i)){let t=Zr(i),n=Hs(t[0],e);return t.length>1?d("error.moreErrors","{0} ({1} errors in total)",n,t.length):n}if(Dn(i))return i;if(i.detail){let t=i.detail;if(t.error)return ym(t.error,e);if(t.exception)return ym(t.exception,e)}return i.stack?ym(i,e):i.message?i.message:d("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}var B1=X("logService"),QZ=X("loggerService");function RE(i){switch(i){case 1:return"trace";case 2:return"debug";case 3:return"info";case 4:return"warn";case 5:return"error";case 0:return"off"}}var JZ=new yi("logLevel",RE(3));var Ml=class{id;precondition;_kbOpts;_menuOpts;metadata;constructor(e){this.id=e.id,this.precondition=e.precondition,this._kbOpts=e.kbOpts,this._menuOpts=e.menuOpts,this.metadata=e.metadata}register(){if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts){let e=Array.isArray(this._kbOpts)?this._kbOpts:[this._kbOpts];for(let t of e){let n=t.kbExpr;this.precondition&&(n?n=vt.and(n,this.precondition):n=this.precondition);let r={id:this.id,weight:t.weight,args:t.args,when:n,primary:t.primary,secondary:t.secondary,win:t.win,linux:t.linux,mac:t.mac};Fc.registerKeybindingRule(r)}}ko.registerCommand({id:this.id,handler:(e,t)=>this.runCommand(e,t),metadata:this.metadata})}_registerMenuItem(e){LI.appendMenuItem(e.menuId,{group:e.group,command:{id:this.id,title:e.title,icon:e.icon,precondition:this.precondition},when:e.when,order:e.order})}},Nl=class extends Ml{_implementations=[];addImplementation(e,t,n,r){return this._implementations.push({priority:e,name:t,implementation:n,when:r}),this._implementations.sort((o,s)=>s.priority-o.priority),{dispose:()=>{for(let o=0;o<this._implementations.length;o++)if(this._implementations[o].implementation===n){this._implementations.splice(o,1);return}}}}runCommand(e,t){let n=e.get(B1),r=e.get(Xi);n.trace(`Executing Command '${this.id}' which has ${this._implementations.length} bound.`);for(let o of this._implementations){if(o.when){let a=r.getContext(po());if(!o.when.evaluate(a))continue}let s=o.implementation(e,t);if(s)return n.trace(`Command '${this.id}' was handled by '${o.name}'.`),typeof s=="boolean"?void 0:s}n.trace(`The Command '${this.id}' was not handled by any implementation.`)}},Ou=class extends Ml{constructor(t,n){super(n);this.command=t}runCommand(t,n){return this.command.runCommand(t,n)}},Fo=class i extends Ml{static bindToContribution(e){return class extends i{_callback;constructor(n){super(n),this._callback=n.handler}runEditorCommand(n,r,o){let s=e(r);s&&this._callback(s,o)}}}static runEditorCommand(e,t,n,r){let o=e.get(N1),s=o.getFocusedCodeEditor()||o.getActiveCodeEditor();if(s)return s.invokeWithinContext(a=>{if(a.get(Xi).contextMatchesRules(n??void 0))return r(a,s,t)})}runCommand(e,t){return i.runEditorCommand(e,t,this.precondition,(n,r,o)=>this.runEditorCommand(n,r,o))}};function Pl(i){return Si.INSTANCE.registerEditorCommand(i),i}function U1(i,e,t){Si.INSTANCE.registerEditorContribution(i,e,t)}var OE;(o=>{function i(s){return Si.INSTANCE.getEditorCommand(s)}o.getEditorCommand=i;function e(){return Si.INSTANCE.getEditorActions()}o.getEditorActions=e;function t(){return Si.INSTANCE.getEditorContributions()}o.getEditorContributions=t;function n(s){return Si.INSTANCE.getEditorContributions().filter(a=>s.indexOf(a.id)>=0)}o.getSomeEditorContributions=n;function r(){return Si.INSTANCE.getDiffEditorContributions()}o.getDiffEditorContributions=r})(OE||={});var ME={EditorCommonContributions:"editor.contributions"},Si=class i{static INSTANCE=new i;editorContributions=[];diffEditorContributions=[];editorActions=[];editorCommands=Object.create(null);constructor(){}registerEditorContribution(e,t,n){this.editorContributions.push({id:e,ctor:t,instantiation:n})}getEditorContributions(){return this.editorContributions.slice(0)}registerDiffEditorContribution(e,t){this.diffEditorContributions.push({id:e,ctor:t})}getDiffEditorContributions(){return this.diffEditorContributions.slice(0)}registerEditorAction(e){e.register(),this.editorActions.push(e)}getEditorActions(){return this.editorActions}registerEditorCommand(e){e.register(),this.editorCommands[e.id]=e}getEditorCommand(e){return this.editorCommands[e]||null}};tt.add(ME.EditorCommonContributions,Si.INSTANCE);function Fl(i){return i.register(),i}var NE=Fl(new Nl({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2104},menuOpts:[{menuId:Nn.MenubarEditMenu,group:"1_do",title:d({key:"miUndo",comment:["&& denotes a mnemonic"]},"&&Undo"),order:1},{menuId:Nn.CommandPalette,group:"",title:d("undo","Undo"),order:1}]}));Fl(new Ou(NE,{id:"default:undo",precondition:void 0}));var PE=Fl(new Nl({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2103,secondary:[3128],mac:{primary:3128}},menuOpts:[{menuId:Nn.MenubarEditMenu,group:"1_do",title:d({key:"miRedo",comment:["&& denotes a mnemonic"]},"&&Redo"),order:2},{menuId:Nn.CommandPalette,group:"",title:d("redo","Redo"),order:1}]}));Fl(new Ou(PE,{id:"default:redo",precondition:void 0}));var FQ=Fl(new Nl({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2079},menuOpts:[{menuId:Nn.MenubarSelectionMenu,group:"1_basic",title:d({key:"miSelectAll",comment:["&& denotes a mnemonic"]},"&&Select All"),order:1},{menuId:Nn.CommandPalette,group:"",title:d("selectAll","Select All"),order:1}]}));var St={enableSplitViewResizing:!0,splitViewDefaultRatio:.5,renderSideBySide:!0,renderMarginRevertIcon:!0,renderGutterMenu:!0,maxComputationTime:5e3,maxFileSize:50,ignoreTrimWhitespace:!0,renderIndicators:!0,originalEditable:!1,diffCodeLens:!1,renderOverviewRuler:!0,diffWordWrap:"inherit",diffAlgorithm:"advanced",accessibilityVerbose:!1,experimental:{showMoves:!1,showEmptyDecorations:!0,useTrueInlineView:!1},hideUnchangedRegions:{enabled:!1,contextLineCount:3,minimumLineCount:3,revealLineCount:20},isInEmbeddedEditor:!1,onlyShowAccessibleDiffViewer:!1,renderSideBySideInlineBreakpoint:900,useInlineViewWhenSpaceIsLimited:!0,compactMode:!1};var xm=Object.freeze({id:"editor",order:5,type:"object",title:d("editorConfigurationTitle","Editor"),scope:5}),Im={...xm,properties:{"editor.tabSize":{type:"number",default:$t.tabSize,minimum:1,markdownDescription:d("tabSize","The number of spaces a tab is equal to. This setting is overridden based on the file contents when {0} is on.","`#editor.detectIndentation#`")},"editor.indentSize":{anyOf:[{type:"string",enum:["tabSize"]},{type:"number",minimum:1}],default:"tabSize",markdownDescription:d("indentSize",'The number of spaces used for indentation or `"tabSize"` to use the value from `#editor.tabSize#`. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.')},"editor.insertSpaces":{type:"boolean",default:$t.insertSpaces,markdownDescription:d("insertSpaces","Insert spaces when pressing `Tab`. This setting is overridden based on the file contents when {0} is on.","`#editor.detectIndentation#`")},"editor.detectIndentation":{type:"boolean",default:$t.detectIndentation,markdownDescription:d("detectIndentation","Controls whether {0} and {1} will be automatically detected when a file is opened based on the file contents.","`#editor.tabSize#`","`#editor.insertSpaces#`")},"editor.trimAutoWhitespace":{type:"boolean",default:$t.trimAutoWhitespace,description:d("trimAutoWhitespace","Remove trailing auto inserted whitespace.")},"editor.largeFileOptimizations":{type:"boolean",default:$t.largeFileOptimizations,description:d("largeFileOptimizations","Special handling for large files to disable certain memory intensive features.")},"editor.wordBasedSuggestions":{enum:["off","currentDocument","matchingDocuments","allDocuments"],default:"matchingDocuments",enumDescriptions:[d("wordBasedSuggestions.off","Turn off Word Based Suggestions."),d("wordBasedSuggestions.currentDocument","Only suggest words from the active document."),d("wordBasedSuggestions.matchingDocuments","Suggest words from all open documents of the same language."),d("wordBasedSuggestions.allDocuments","Suggest words from all open documents.")],description:d("wordBasedSuggestions","Controls whether completions should be computed based on words in the document and from which documents they are computed.")},"editor.semanticHighlighting.enabled":{enum:[!0,!1,"configuredByTheme"],enumDescriptions:[d("semanticHighlighting.true","Semantic highlighting enabled for all color themes."),d("semanticHighlighting.false","Semantic highlighting disabled for all color themes."),d("semanticHighlighting.configuredByTheme","Semantic highlighting is configured by the current color theme's `semanticHighlighting` setting.")],default:"configuredByTheme",description:d("semanticHighlighting.enabled","Controls whether the semanticHighlighting is shown for the languages that support it.")},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:d("stablePeek","Keep peek editors open even when double-clicking their content or when hitting `Escape`.")},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:d("maxTokenizationLineLength","Lines above this length will not be tokenized for performance reasons")},"editor.experimental.asyncTokenization":{type:"boolean",default:!0,description:d("editor.experimental.asyncTokenization","Controls whether the tokenization should happen asynchronously on a web worker."),tags:["experimental"]},"editor.experimental.asyncTokenizationLogging":{type:"boolean",default:!1,description:d("editor.experimental.asyncTokenizationLogging","Controls whether async tokenization should be logged. For debugging only.")},"editor.experimental.asyncTokenizationVerification":{type:"boolean",default:!1,description:d("editor.experimental.asyncTokenizationVerification","Controls whether async tokenization should be verified against legacy background tokenization. Might slow down tokenization. For debugging only."),tags:["experimental"]},"editor.experimental.treeSitterTelemetry":{type:"boolean",default:!1,markdownDescription:d("editor.experimental.treeSitterTelemetry","Controls whether tree sitter parsing should be turned on and telemetry collected. Setting `editor.experimental.preferTreeSitter` for specific languages will take precedence."),tags:["experimental"]},"editor.language.brackets":{type:["array","null"],default:null,description:d("schema.brackets","Defines the bracket symbols that increase or decrease the indentation."),items:{type:"array",items:[{type:"string",description:d("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:d("schema.closeBracket","The closing bracket character or string sequence.")}]}},"editor.language.colorizedBracketPairs":{type:["array","null"],default:null,description:d("schema.colorizedBracketPairs","Defines the bracket pairs that are colorized by their nesting level if bracket pair colorization is enabled."),items:{type:"array",items:[{type:"string",description:d("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:d("schema.closeBracket","The closing bracket character or string sequence.")}]}},"diffEditor.maxComputationTime":{type:"number",default:St.maxComputationTime,description:d("maxComputationTime","Timeout in milliseconds after which diff computation is cancelled. Use 0 for no timeout.")},"diffEditor.maxFileSize":{type:"number",default:St.maxFileSize,description:d("maxFileSize","Maximum file size in MB for which to compute diffs. Use 0 for no limit.")},"diffEditor.renderSideBySide":{type:"boolean",default:St.renderSideBySide,description:d("sideBySide","Controls whether the diff editor shows the diff side by side or inline.")},"diffEditor.renderSideBySideInlineBreakpoint":{type:"number",default:St.renderSideBySideInlineBreakpoint,description:d("renderSideBySideInlineBreakpoint","If the diff editor width is smaller than this value, the inline view is used.")},"diffEditor.useInlineViewWhenSpaceIsLimited":{type:"boolean",default:St.useInlineViewWhenSpaceIsLimited,description:d("useInlineViewWhenSpaceIsLimited","If enabled and the editor width is too small, the inline view is used.")},"diffEditor.renderMarginRevertIcon":{type:"boolean",default:St.renderMarginRevertIcon,description:d("renderMarginRevertIcon","When enabled, the diff editor shows arrows in its glyph margin to revert changes.")},"diffEditor.renderGutterMenu":{type:"boolean",default:St.renderGutterMenu,description:d("renderGutterMenu","When enabled, the diff editor shows a special gutter for revert and stage actions.")},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:St.ignoreTrimWhitespace,description:d("ignoreTrimWhitespace","When enabled, the diff editor ignores changes in leading or trailing whitespace.")},"diffEditor.renderIndicators":{type:"boolean",default:St.renderIndicators,description:d("renderIndicators","Controls whether the diff editor shows +/- indicators for added/removed changes.")},"diffEditor.codeLens":{type:"boolean",default:St.diffCodeLens,description:d("codeLens","Controls whether the editor shows CodeLens.")},"diffEditor.wordWrap":{type:"string",enum:["off","on","inherit"],default:St.diffWordWrap,markdownEnumDescriptions:[d("wordWrap.off","Lines will never wrap."),d("wordWrap.on","Lines will wrap at the viewport width."),d("wordWrap.inherit","Lines will wrap according to the {0} setting.","`#editor.wordWrap#`")]},"diffEditor.diffAlgorithm":{type:"string",enum:["legacy","advanced"],default:St.diffAlgorithm,markdownEnumDescriptions:[d("diffAlgorithm.legacy","Uses the legacy diffing algorithm."),d("diffAlgorithm.advanced","Uses the advanced diffing algorithm.")],tags:["experimental"]},"diffEditor.hideUnchangedRegions.enabled":{type:"boolean",default:St.hideUnchangedRegions.enabled,markdownDescription:d("hideUnchangedRegions.enabled","Controls whether the diff editor shows unchanged regions.")},"diffEditor.hideUnchangedRegions.revealLineCount":{type:"integer",default:St.hideUnchangedRegions.revealLineCount,markdownDescription:d("hideUnchangedRegions.revealLineCount","Controls how many lines are used for unchanged regions."),minimum:1},"diffEditor.hideUnchangedRegions.minimumLineCount":{type:"integer",default:St.hideUnchangedRegions.minimumLineCount,markdownDescription:d("hideUnchangedRegions.minimumLineCount","Controls how many lines are used as a minimum for unchanged regions."),minimum:1},"diffEditor.hideUnchangedRegions.contextLineCount":{type:"integer",default:St.hideUnchangedRegions.contextLineCount,markdownDescription:d("hideUnchangedRegions.contextLineCount","Controls how many lines are used as context when comparing unchanged regions."),minimum:1},"diffEditor.experimental.showMoves":{type:"boolean",default:St.experimental.showMoves,markdownDescription:d("showMoves","Controls whether the diff editor should show detected code moves.")},"diffEditor.experimental.showEmptyDecorations":{type:"boolean",default:St.experimental.showEmptyDecorations,description:d("showEmptyDecorations","Controls whether the diff editor shows empty decorations to see where characters got inserted or deleted.")},"diffEditor.experimental.useTrueInlineView":{type:"boolean",default:St.experimental.useTrueInlineView,description:d("useTrueInlineView","If enabled and the editor uses the inline view, word changes are rendered inline.")}}};function BE(i){return typeof i.type<"u"||typeof i.anyOf<"u"}for(let i of Lr){let e=i.schema;if(typeof e<"u")if(BE(e))Im.properties[`editor.${i.name}`]=e;else for(let t in e)Object.hasOwnProperty.call(e,t)&&(Im.properties[t]=e[t])}var zE=tt.as(Co.Configuration);zE.registerConfiguration(Im);var UE=[];function W1(i){UE.push(i)}var Bl=X("ILanguageFeaturesService");var zl=class{async provideDocumentPasteEdits(e,t,n,r,o){let s=await this.getEdit(n,o);if(s)return{edits:[{insertText:s.insertText,title:s.title,kind:s.kind,handledMimeType:s.handledMimeType,yieldTo:s.yieldTo}],dispose(){}}}async provideDocumentDropEdits(e,t,n,r){let o=await this.getEdit(n,r);if(o)return{edits:[{insertText:o.insertText,title:o.title,kind:o.kind,handledMimeType:o.handledMimeType,yieldTo:o.yieldTo}],dispose(){}}}},Nu=class i extends zl{static id="text";static kind=new Zi("text.plain");id=i.id;kind=i.kind;dropMimeTypes=[gt.text];pasteMimeTypes=[gt.text];async getEdit(e,t){let n=e.get(gt.text);if(!n||e.has(gt.uriList))return;let r=await n.asString();return{handledMimeType:gt.text,title:d("text.label","Insert Plain Text"),insertText:r,kind:this.kind}}},Pu=class extends zl{kind=new Zi("uri.absolute");dropMimeTypes=[gt.uriList];pasteMimeTypes=[gt.uriList];async getEdit(e,t){let n=await H1(e);if(!n.length||t.isCancellationRequested)return;let r=0,o=n.map(({uri:a,originalText:l})=>a.scheme===Ee.file?a.fsPath:(r++,l)).join(" "),s;return r>0?s=n.length>1?d("defaultDropProvider.uriList.uris","Insert Uris"):d("defaultDropProvider.uriList.uri","Insert Uri"):s=n.length>1?d("defaultDropProvider.uriList.paths","Insert Paths"):d("defaultDropProvider.uriList.path","Insert Path"),{handledMimeType:gt.uriList,insertText:o,title:s,kind:this.kind}}},Vs=class extends zl{constructor(t){super();this._workspaceContextService=t}kind=new Zi("uri.relative");dropMimeTypes=[gt.uriList];pasteMimeTypes=[gt.uriList];async getEdit(t,n){let r=await H1(t);if(!r.length||n.isCancellationRequested)return;let o=Zr(r.map(({uri:s})=>{let a=this._workspaceContextService.getWorkspaceFolder(s);return a?Iy(a.uri,s):void 0}));if(o.length)return{handledMimeType:gt.uriList,insertText:o.join(" "),title:r.length>1?d("defaultDropProvider.uriList.relativePaths","Insert Relative Paths"):d("defaultDropProvider.uriList.relativePath","Insert Relative Path"),kind:this.kind}}};Vs=ce([De(0,xc)],Vs);var Tm=class{kind=new Zi("html");pasteMimeTypes=["text/html"];_yieldTo=[{mimeType:gt.text}];async provideDocumentPasteEdits(e,t,n,r,o){if(r.triggerKind!==1&&!r.only?.contains(this.kind))return;let a=await n.get("text/html")?.asString();if(!(!a||o.isCancellationRequested))return{dispose(){},edits:[{insertText:a,yieldTo:this._yieldTo,title:d("pasteHtmlLabel","Insert HTML"),kind:this.kind}]}}};async function H1(i){let e=i.get(gt.uriList);if(!e)return[];let t=await e.asString(),n=[];for(let r of gl.parse(t))try{n.push({uri:oe.parse(r),originalText:r})}catch{}return n}var Ks=class extends U{constructor(e,t){super(),this._register(e.documentDropEditProvider.register("*",new Nu)),this._register(e.documentDropEditProvider.register("*",new Pu)),this._register(e.documentDropEditProvider.register("*",new Vs(t)))}};Ks=ce([De(0,Bl),De(1,xc)],Ks);var Mu=class extends U{constructor(e,t){super(),this._register(e.documentPasteEditProvider.register("*",new Nu)),this._register(e.documentPasteEditProvider.register("*",new Pu)),this._register(e.documentPasteEditProvider.register("*",new Vs(t))),this._register(e.documentPasteEditProvider.register("*",new Tm))}};Mu=ce([De(0,Bl),De(1,xc)],Mu);var zr={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:gt.text,INTERNAL_URI_LIST:"application/vnd.code.uri-list"};function Sm(i){let e=JSON.parse(i);return e=Cm(e),e}function Cm(i,e=0){if(!i||e>200)return i;if(typeof i=="object"){switch(i.$mid){case 1:return oe.revive(i);case 2:return new RegExp(i.source,i.flags);case 17:return new Date(i.source)}if(i instanceof Cs||i instanceof Uint8Array)return i;if(Array.isArray(i))for(let t=0;t<i.length;++t)i[t]=Cm(i[t],e+1);else for(let t in i)Object.hasOwnProperty.call(i,t)&&(i[t]=Cm(i[t],e+1))}return i}var ete=X("productService");var WE=X("dialogService");var Tte=X("fileDialogService");var HE=X("fileService");var Em=class i{static KB=1024;static MB=i.KB*i.KB;static GB=i.MB*i.KB;static TB=i.GB*i.KB;static formatSize(e){return co(e)||(e=0),e<i.KB?d("sizeB","{0}B",e.toFixed(0)):e<i.MB?d("sizeKB","{0}KB",(e/i.KB).toFixed(2)):e<i.GB?d("sizeMB","{0}MB",(e/i.MB).toFixed(2)):e<i.TB?d("sizeGB","{0}GB",(e/i.GB).toFixed(2)):d("sizeTB","{0}TB",(e/i.TB).toFixed(2))}};var wm;(r=>{function i(o){return typeof o?.showDirectoryPicker=="function"}r.supported=i;function e(o){let s=o;return s?typeof s.kind=="string"&&typeof s.queryPermission=="function"&&typeof s.requestPermission=="function":!1}r.isFileSystemHandle=e;function t(o){return o.kind==="file"}r.isFileSystemFileHandle=t;function n(o){return o.kind==="directory"}r.isFileSystemDirectoryHandle=n})(wm||={});var Ul={exports:{}};(function(){function e(o){let s=[];typeof o=="number"&&s.push("code/timeOrigin",o);function a(c){s.push(c,Date.now())}function l(){let c=[];for(let u=0;u<s.length;u+=2)c.push({name:s[u],startTime:s[u+1]});return c}return{mark:a,getMarks:l}}function t(){if(typeof performance=="object"&&typeof performance.mark=="function"&&!performance.nodeTiming)return typeof performance.timeOrigin!="number"&&!performance.timing?e():{mark(o){performance.mark(o)},getMarks(){let o=performance.timeOrigin;typeof o!="number"&&(o=performance.timing.navigationStart||performance.timing.redirectStart||performance.timing.fetchStart);let s=[{name:"code/timeOrigin",startTime:Math.round(o)}];for(let a of performance.getEntriesByType("mark"))s.push({name:a.name,startTime:Math.round(o+a.startTime)});return s}};if(typeof process=="object"){let o=performance?.timeOrigin;return e(o)}else return console.trace("perf-util loaded in UNKNOWN environment"),e()}function n(o){return o.MonacoPerformanceMarks||(o.MonacoPerformanceMarks=t()),o.MonacoPerformanceMarks}var r;typeof global=="object"?r=global:typeof self=="object"?r=self:r={},typeof Ul=="object"&&typeof Ul.exports=="object"?Ul.exports=n(r):(console.trace("perf-util defined in UNKNOWN context (neither requirejs or commonjs)"),r.perf=n(r))})();var VE=Ul.exports.mark,Jte=Ul.exports.getMarks;var Xne=X("openerService");var _m={EDITORS:"CodeEditors",FILES:"CodeFiles"};var km=class{_contributions=new Map;register(e){if(this._contributions.has(e.dataFormatKey))throw new Error(`A drag and drop contributiont with key '${e.dataFormatKey}' was already registered.`);this._contributions.set(e.dataFormatKey,e)}getAll(){return this._contributions.values()}},KE={DragAndDropContribution:"workbench.contributions.dragAndDrop"};tt.add(KE.DragAndDropContribution,new km);var Fu=class i{static INSTANCE=new i;data;proto;constructor(){}static getInstance(){return i.INSTANCE}hasData(e){return e&&e===this.proto}clearData(e){this.hasData(e)&&(this.proto=void 0,this.data=void 0)}getData(e){if(this.hasData(e))return this.data}setData(e,t){t&&(this.data=e,this.proto=t)}};function qE(i){let e=new Es;for(let t of i.items){let n=t.type;if(t.kind==="string"){let r=new Promise(o=>t.getAsString(o));e.append(n,Bf(r))}else if(t.kind==="file"){let r=t.getAsFile();r&&e.append(n,$E(r))}}return e}function $E(i){let e=i.path?oe.parse(i.path):void 0;return UI(i.name,e,async()=>new Uint8Array(await i.arrayBuffer()))}var GE=Object.freeze([_m.EDITORS,_m.FILES,zr.RESOURCES,zr.INTERNAL_URI_LIST]);function V1(i,e=!1){let t=qE(i),n=t.get(zr.INTERNAL_URI_LIST);if(n)t.replace(gt.uriList,n);else if(e||!t.has(gt.uriList)){let r=[];for(let o of i.items){let s=o.getAsFile();if(s){let a=s.path;try{a?r.push(oe.file(a).toString()):r.push(oe.parse(s.name,!0).toString())}catch{}}}r.length&&t.replace(gt.uriList,Bf(gl.create(r)))}for(let r of GE)t.delete(r);return t}var Bu=class{_serviceBrand;_dragOperations=new Map;removeDragOperationTransfer(e){if(e&&this._dragOperations.has(e)){let t=this._dragOperations.get(e);return this._dragOperations.delete(e),t}}addDragOperationTransfer(e,t){this._dragOperations.set(e,t)}},Wl=class{constructor(e){this.identifier=e}};var Lm=X("treeViewsDndService");Rs(Lm,Bu,1);var Dm=X("IEditorCancelService"),K1=new yi("cancellableOperation",!1,d("cancellableOperation","Whether the editor runs a cancellable operation, e.g. like 'Peek References'"));Rs(Dm,class{_tokens=new WeakMap;add(i,e){let t=this._tokens.get(i);t||(t=i.invokeWithinContext(r=>{let o=K1.bindTo(r.get(Xi)),s=new Kt;return{key:o,tokens:s}}),this._tokens.set(i,t));let n;return t.key.set(!0),n=t.tokens.push(e),()=>{n&&(n(),t.key.set(!t.tokens.isEmpty()),n=void 0)}}cancel(i){let e=this._tokens.get(i);if(!e)return;let t=e.tokens.pop();t&&(t.cancel(),e.key.set(!e.tokens.isEmpty()))}},1);var zu=class extends gi{constructor(t,n){super(n);this.editor=t;this._unregister=t.invokeWithinContext(r=>r.get(Dm).add(t,this))}_unregister;dispose(){this._unregister(),super.dispose()}};Pl(new class extends Fo{constructor(){super({id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:K1})}runEditorCommand(i,e){i.get(Dm).cancel(e)}});var Uu=class extends zu{_listener=new be;constructor(e,t,n,r){super(e,r),t&4&&this._listener.add(e.onDidChangeCursorPosition(o=>{(!n||!z.containsPosition(n,o.position))&&this.cancel()})),t&2&&this._listener.add(e.onDidChangeCursorSelection(o=>{(!n||!z.containsRange(n,o.selection))&&this.cancel()})),t&8&&this._listener.add(e.onDidScrollChange(o=>this.cancel())),t&1&&(this._listener.add(e.onDidChangeModel(o=>this.cancel())),this._listener.add(e.onDidChangeModelContent(o=>this.cancel())))}dispose(){this._listener.dispose(),super.dispose()}};var Bo=class i{constructor(e,t,n){this.startOffset=e;this.endOffset=t;this.newLength=n}static fromModelContentChanges(e){return e.map(n=>{let r=z.lift(n.range);return new i(Nr(r.getStartPosition()),Nr(r.getEndPosition()),QI(n.text))}).reverse()}toString(){return`[${Ut(this.startOffset)}...${Ut(this.endOffset)}) -> ${Ut(this.newLength)}`}},Wu=class{nextEditIdx=0;deltaOldToNewLineCount=0;deltaOldToNewColumnCount=0;deltaLineIdxInOld=-1;edits;constructor(e){this.edits=e.map(t=>Rm.from(t))}getOffsetBeforeChange(e){return this.adjustNextEdit(e),this.translateCurToOld(e)}getDistanceToNextChange(e){this.adjustNextEdit(e);let t=this.edits[this.nextEditIdx],n=t?this.translateOldToCur(t.offsetObj):null;return n===null?null:Ao(e,n)}translateOldToCur(e){return e.lineCount===this.deltaLineIdxInOld?je(e.lineCount+this.deltaOldToNewLineCount,e.columnCount+this.deltaOldToNewColumnCount):je(e.lineCount+this.deltaOldToNewLineCount,e.columnCount)}translateCurToOld(e){let t=Ut(e);return t.lineCount-this.deltaOldToNewLineCount===this.deltaLineIdxInOld?je(t.lineCount-this.deltaOldToNewLineCount,t.columnCount-this.deltaOldToNewColumnCount):je(t.lineCount-this.deltaOldToNewLineCount,t.columnCount)}adjustNextEdit(e){for(;this.nextEditIdx<this.edits.length;){let t=this.edits[this.nextEditIdx],n=this.translateOldToCur(t.endOffsetAfterObj);if(Mr(n,e)){this.nextEditIdx++;let r=Ut(n),o=Ut(this.translateOldToCur(t.endOffsetBeforeObj)),s=r.lineCount-o.lineCount;this.deltaOldToNewLineCount+=s;let a=this.deltaLineIdxInOld===t.endOffsetBeforeObj.lineCount?this.deltaOldToNewColumnCount:0,l=r.columnCount-o.columnCount;this.deltaOldToNewColumnCount=a+l,this.deltaLineIdxInOld=t.endOffsetBeforeObj.lineCount}else break}}},Rm=class i{static from(e){return new i(e.startOffset,e.endOffset,e.newLength)}endOffsetBeforeObj;endOffsetAfterObj;offsetObj;constructor(e,t,n){this.endOffsetBeforeObj=Ut(t),this.endOffsetAfterObj=Ut(Ve(e,n)),this.offsetObj=Ut(e)}};function G1(i){if(i.length===0)return null;if(i.length===1)return i[0];let e=0;function t(){if(e>=i.length)return null;let s=e,a=i[s].listHeight;for(e++;e<i.length&&i[e].listHeight===a;)e++;return e-s>=2?Om(s===0&&e===i.length?i:i.slice(s,e),!1):i[s]}let n=t(),r=t();if(!r)return n;for(let s=t();s;s=t())q1(n,r)<=q1(r,s)?(n=Am(n,r),r=s):r=Am(r,s);return Am(n,r)}function Om(i,e=!1){if(i.length===0)return null;if(i.length===1)return i[0];let t=i.length;for(;t>3;){let n=t>>1;for(let r=0;r<n;r++){let o=r<<1;i[r]=yn.create23(i[o],i[o+1],o+3===t?i[o+2]:null,e)}t=n}return yn.create23(i[0],i[1],t>=3?i[2]:null,e)}function q1(i,e){return Math.abs(i.listHeight-e.listHeight)}function Am(i,e){return i.listHeight===e.listHeight?yn.create23(i,e,null,!1):i.listHeight>e.listHeight?jE(i,e):YE(e,i)}function jE(i,e){i=i.toMutable();let t=i,n=[],r;for(;;){if(e.listHeight===t.listHeight){r=e;break}if(t.kind!==4)throw new Error("unexpected");n.push(t),t=t.makeLastElementMutable()}for(let o=n.length-1;o>=0;o--){let s=n[o];r?s.childrenLength>=3?r=yn.create23(s.unappendChild(),r,null,!1):(s.appendChildOfSameHeight(r),r=void 0):s.handleChildrenChanged()}return r?yn.create23(i,r,null,!1):i}function YE(i,e){i=i.toMutable();let t=i,n=[];for(;e.listHeight!==t.listHeight;){if(t.kind!==4)throw new Error("unexpected");n.push(t),t=t.makeFirstElementMutable()}let r=e;for(let o=n.length-1;o>=0;o--){let s=n[o];r?s.childrenLength>=3?r=yn.create23(r,s.unprependChild(),null,!1):(s.prependChildOfSameHeight(r),r=void 0):s.handleChildrenChanged()}return r?yn.create23(r,i,null,!1):i}var Hu=class{nextNodes;offsets;idxs;lastOffset=yt;constructor(e){this.nextNodes=[e],this.offsets=[yt],this.idxs=[]}readLongestNodeAt(e,t){if(Ji(e,this.lastOffset))throw new Error("Invalid offset");for(this.lastOffset=e;;){let n=Hl(this.nextNodes);if(!n)return;let r=Hl(this.offsets);if(Ji(e,r))return;if(Ji(r,e))if(Ve(r,n.length)<=e)this.nextNodeAfterCurrent();else{let o=Mm(n);o!==-1?(this.nextNodes.push(n.getChild(o)),this.offsets.push(r),this.idxs.push(o)):this.nextNodeAfterCurrent()}else{if(t(n))return this.nextNodeAfterCurrent(),n;{let o=Mm(n);if(o===-1){this.nextNodeAfterCurrent();return}else this.nextNodes.push(n.getChild(o)),this.offsets.push(r),this.idxs.push(o)}}}}nextNodeAfterCurrent(){for(;;){let e=Hl(this.offsets),t=Hl(this.nextNodes);if(this.nextNodes.pop(),this.offsets.pop(),this.idxs.length===0)break;let n=Hl(this.nextNodes),r=Mm(n,this.idxs[this.idxs.length-1]);if(r!==-1){this.nextNodes.push(n.getChild(r)),this.offsets.push(Ve(e,t.length)),this.idxs[this.idxs.length-1]=r;break}else this.idxs.pop()}}};function Mm(i,e=-1){for(;;){if(e++,e>=i.childrenLength)return-1;if(i.getChild(e))return e}}function Hl(i){return i.length>0?i[i.length-1]:void 0}function Pm(i,e,t,n){return new Nm(i,e,t,n).parseDocument()}var Nm=class{constructor(e,t,n,r){this.tokenizer=e;this.createImmutableLists=r;if(n&&r)throw new Error("Not supported");this.oldNodeReader=n?new Hu(n):void 0,this.positionMapper=new Wu(t)}oldNodeReader;positionMapper;_itemsConstructed=0;_itemsFromCache=0;get nodesConstructed(){return this._itemsConstructed}get nodesReused(){return this._itemsFromCache}parseDocument(){this._itemsConstructed=0,this._itemsFromCache=0;let e=this.parseList(Dt.getEmpty(),0);return e||(e=yn.getEmpty()),e}parseList(e,t){let n=[];for(;;){let o=this.tryReadChildFromCache(e);if(!o){let s=this.tokenizer.peek();if(!s||s.kind===2&&s.bracketIds.intersects(e))break;o=this.parseChild(e,t+1)}o.kind===4&&o.childrenLength===0||n.push(o)}return this.oldNodeReader?G1(n):Om(n,this.createImmutableLists)}tryReadChildFromCache(e){if(this.oldNodeReader){let t=this.positionMapper.getDistanceToNextChange(this.tokenizer.offset);if(t===null||!Ls(t)){let n=this.oldNodeReader.readLongestNodeAt(this.positionMapper.getOffsetBeforeChange(this.tokenizer.offset),r=>t!==null&&!Ji(r.length,t)?!1:r.canBeReused(e));if(n)return this._itemsFromCache++,this.tokenizer.skip(n.length),n}}}parseChild(e,t){this._itemsConstructed++;let n=this.tokenizer.read();switch(n.kind){case 2:return new fu(n.bracketIds,n.length);case 0:return n.astNode;case 1:{if(t>300)return new ei(n.length);let r=e.merge(n.bracketIds),o=this.parseList(r,t+1),s=this.tokenizer.peek();return s&&s.kind===2&&(s.bracketId===n.bracketId||s.bracketIds.intersects(n.bracketIds))?(this.tokenizer.read(),Sl.create(n.astNode,o,s.astNode)):Sl.create(n.astNode,o,null)}default:throw new Error("unexpected")}}};function Fm(i,e){if(i.length===0)return e;if(e.length===0)return i;let t=new Xr(j1(i)),n=j1(e);n.push({modified:!1,lengthBefore:void 0,lengthAfter:void 0});let r=t.dequeue();function o(c){if(c===void 0){let p=t.takeWhile(g=>!0)||[];return r&&p.unshift(r),p}let u=[];for(;r&&!Ls(c);){let[p,g]=r.splitAt(c);u.push(p),c=Ao(p.lengthAfter,c),r=g??t.dequeue()}return Ls(c)||u.push(new Vl(!1,c,c)),u}let s=[];function a(c,u,p){if(s.length>0&&Yf(s[s.length-1].endOffset,c)){let g=s[s.length-1];s[s.length-1]=new Bo(g.startOffset,u,Ve(g.newLength,p))}else s.push({startOffset:c,endOffset:u,newLength:p})}let l=yt;for(let c of n){let u=o(c.lengthBefore);if(c.modified){let p=ZI(u,f=>f.lengthBefore),g=Ve(l,p);a(l,g,c.lengthAfter),l=g}else for(let p of u){let g=l;l=Ve(l,p.lengthBefore),p.modified&&a(g,l,p.lengthAfter)}}return s}var Vl=class i{constructor(e,t,n){this.modified=e;this.lengthBefore=t;this.lengthAfter=n}splitAt(e){let t=Ao(e,this.lengthAfter);return Yf(t,yt)?[this,void 0]:this.modified?[new i(this.modified,this.lengthBefore,e),new i(this.modified,yt,t)]:[new i(this.modified,e,e),new i(this.modified,t,t)]}toString(){return`${this.modified?"M":"U"}:${Ut(this.lengthBefore)} -> ${Ut(this.lengthAfter)}`}};function j1(i){let e=[],t=yt;for(let n of i){let r=Ao(t,n.startOffset);Ls(r)||e.push(new Vl(!1,r,r));let o=Ao(n.startOffset,n.endOffset);e.push(new Vl(!0,o,n.newLength)),t=n.endOffset}return e}var Vu=class extends U{constructor(t,n){super();this.textModel=t;this.getLanguageConfiguration=n;if(t.tokenization.hasTokens)t.tokenization.backgroundTokenizationState===2?(this.initialAstWithoutTokens=void 0,this.astWithTokens=this.parseDocumentFromTextBuffer([],void 0,!1)):(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer([],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens);else{let r=this.brackets.getSingleLanguageBracketTokens(this.textModel.getLanguageId()),o=new pu(this.textModel.getValue(),r);this.initialAstWithoutTokens=Pm(o,[],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens}}didChangeEmitter=new N;initialAstWithoutTokens;astWithTokens;denseKeyProvider=new iu;brackets=new uu(this.denseKeyProvider,this.getLanguageConfiguration);didLanguageChange(t){return this.brackets.didLanguageChange(t)}onDidChange=this.didChangeEmitter.event;queuedTextEditsForInitialAstWithoutTokens=[];queuedTextEdits=[];handleDidChangeBackgroundTokenizationState(){if(this.textModel.tokenization.backgroundTokenizationState===2){let t=this.initialAstWithoutTokens===void 0;this.initialAstWithoutTokens=void 0,t||this.didChangeEmitter.fire()}}handleDidChangeTokens({ranges:t}){let n=t.map(r=>new Bo(je(r.fromLineNumber-1,0),je(r.toLineNumber,0),je(r.toLineNumber-r.fromLineNumber+1,0)));this.handleEdits(n,!0),this.initialAstWithoutTokens||this.didChangeEmitter.fire()}handleContentChanged(t){let n=Bo.fromModelContentChanges(t.changes);this.handleEdits(n,!1)}handleEdits(t,n){let r=Fm(this.queuedTextEdits,t);this.queuedTextEdits=r,this.initialAstWithoutTokens&&!n&&(this.queuedTextEditsForInitialAstWithoutTokens=Fm(this.queuedTextEditsForInitialAstWithoutTokens,t))}flushQueue(){this.queuedTextEdits.length>0&&(this.astWithTokens=this.parseDocumentFromTextBuffer(this.queuedTextEdits,this.astWithTokens,!1),this.queuedTextEdits=[]),this.queuedTextEditsForInitialAstWithoutTokens.length>0&&(this.initialAstWithoutTokens&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer(this.queuedTextEditsForInitialAstWithoutTokens,this.initialAstWithoutTokens,!1)),this.queuedTextEditsForInitialAstWithoutTokens=[])}parseDocumentFromTextBuffer(t,n,r){let s=n,a=new hu(this.textModel,this.brackets);return Pm(a,t,s,r)}getBracketsInRange(t,n){this.flushQueue();let r=je(t.startLineNumber-1,t.startColumn-1),o=je(t.endLineNumber-1,t.endColumn-1);return new zi(s=>{let a=this.initialAstWithoutTokens||this.astWithTokens;Bm(a,yt,a.length,r,o,s,0,0,new Map,n)})}getBracketPairsInRange(t,n){this.flushQueue();let r=Nr(t.getStartPosition()),o=Nr(t.getEndPosition());return new zi(s=>{let a=this.initialAstWithoutTokens||this.astWithTokens,l=new zm(s,n,this.textModel);Um(a,yt,a.length,r,o,l,0,new Map)})}getFirstBracketAfter(t){this.flushQueue();let n=this.initialAstWithoutTokens||this.astWithTokens;return Z1(n,yt,n.length,Nr(t))}getFirstBracketBefore(t){this.flushQueue();let n=this.initialAstWithoutTokens||this.astWithTokens;return X1(n,yt,n.length,Nr(t))}};function X1(i,e,t,n){if(i.kind===4||i.kind===2){let r=[];for(let o of i.children)t=Ve(e,o.length),r.push({nodeOffsetStart:e,nodeOffsetEnd:t}),e=t;for(let o=r.length-1;o>=0;o--){let{nodeOffsetStart:s,nodeOffsetEnd:a}=r[o];if(Ji(s,n)){let l=X1(i.children[o],s,a,n);if(l)return l}}return null}else{if(i.kind===3)return null;if(i.kind===1){let r=Pr(e,t);return{bracketInfo:i.bracketInfo,range:r}}}return null}function Z1(i,e,t,n){if(i.kind===4||i.kind===2){for(let r of i.children){if(t=Ve(e,r.length),Ji(n,t)){let o=Z1(r,e,t,n);if(o)return o}e=t}return null}else{if(i.kind===3)return null;if(i.kind===1){let r=Pr(e,t);return{bracketInfo:i.bracketInfo,range:r}}}return null}function Bm(i,e,t,n,r,o,s,a,l,c,u=!1){if(s>200)return!0;e:for(;;)switch(i.kind){case 4:{let p=i.childrenLength;for(let g=0;g<p;g++){let f=i.getChild(g);if(f){if(t=Ve(e,f.length),Mr(e,r)&&Ds(t,n)){if(Ds(t,r)){i=f;continue e}if(!Bm(f,e,t,n,r,o,s,0,l,c))return!1}e=t}}return!0}case 2:{let p=!c||!i.closingBracket||i.closingBracket.bracketInfo.closesColorized(i.openingBracket.bracketInfo),g=0;if(l){let T=l.get(i.openingBracket.text);T===void 0&&(T=0),g=T,p&&(T++,l.set(i.openingBracket.text,T))}let f=i.childrenLength;for(let T=0;T<f;T++){let m=i.getChild(T);if(m){if(t=Ve(e,m.length),Mr(e,r)&&Ds(t,n)){if(Ds(t,r)&&m.kind!==1){i=m,p?(s++,a=g+1):a=g;continue e}if((p||m.kind!==1||!i.closingBracket)&&!Bm(m,e,t,n,r,o,p?s+1:s,p?g+1:g,l,c,!i.closingBracket))return!1}e=t}}return l?.set(i.openingBracket.text,g),!0}case 3:{let p=Pr(e,t);return o(new _l(p,s-1,0,!0))}case 1:{let p=Pr(e,t);return o(new _l(p,s-1,a-1,u))}case 0:return!0}}var zm=class{constructor(e,t,n){this.push=e;this.includeMinIndentation=t;this.textModel=n}};function Um(i,e,t,n,r,o,s,a){if(s>200)return!0;let l=!0;if(i.kind===2){let c=0;if(a){let g=a.get(i.openingBracket.text);g===void 0&&(g=0),c=g,g++,a.set(i.openingBracket.text,g)}let u=Ve(e,i.openingBracket.length),p=-1;if(o.includeMinIndentation&&(p=i.computeMinIndentation(e,o.textModel)),l=o.push(new mu(Pr(e,t),Pr(e,u),i.closingBracket?Pr(Ve(u,i.child?.length||yt),t):void 0,s,c,i,p)),e=u,l&&i.child){let g=i.child;if(t=Ve(e,g.length),Mr(e,r)&&Ds(t,n)&&(l=Um(g,e,t,n,r,o,s+1,a),!l))return!1}a?.set(i.openingBracket.text,c)}else{let c=e;for(let u of i.children){let p=c;if(c=Ve(c,u.length),Mr(p,r)&&Mr(n,c)&&(l=Um(u,p,c,n,r,o,s,a),!l))return!1}}return l}var qu=class extends U{constructor(t,n){super();this.textModel=t;this.languageConfigurationService=n}bracketPairsTree=this._register(new Qt);onDidChangeEmitter=new N;onDidChange=this.onDidChangeEmitter.event;get canBuildAST(){return this.textModel.getValueLength()<=5e6}bracketsRequested=!1;handleLanguageConfigurationServiceChange(t){(!t.languageId||this.bracketPairsTree.value?.object.didLanguageChange(t.languageId))&&(this.bracketPairsTree.clear(),this.updateBracketPairsTree())}handleDidChangeOptions(t){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeLanguage(t){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeContent(t){this.bracketPairsTree.value?.object.handleContentChanged(t)}handleDidChangeBackgroundTokenizationState(){this.bracketPairsTree.value?.object.handleDidChangeBackgroundTokenizationState()}handleDidChangeTokens(t){this.bracketPairsTree.value?.object.handleDidChangeTokens(t)}updateBracketPairsTree(){if(this.bracketsRequested&&this.canBuildAST){if(!this.bracketPairsTree.value){let t=new be;this.bracketPairsTree.value=XE(t.add(new Vu(this.textModel,n=>this.languageConfigurationService.getLanguageConfiguration(n))),t),t.add(this.bracketPairsTree.value.object.onDidChange(n=>this.onDidChangeEmitter.fire(n))),this.onDidChangeEmitter.fire()}}else this.bracketPairsTree.value&&(this.bracketPairsTree.clear(),this.onDidChangeEmitter.fire())}getBracketPairsInRange(t){return this.bracketsRequested=!0,this.updateBracketPairsTree(),this.bracketPairsTree.value?.object.getBracketPairsInRange(t,!1)||zi.empty}getBracketPairsInRangeWithMinIndentation(t){return this.bracketsRequested=!0,this.updateBracketPairsTree(),this.bracketPairsTree.value?.object.getBracketPairsInRange(t,!0)||zi.empty}getBracketsInRange(t,n=!1){return this.bracketsRequested=!0,this.updateBracketPairsTree(),this.bracketPairsTree.value?.object.getBracketsInRange(t,n)||zi.empty}findMatchingBracketUp(t,n,r){let o=this.textModel.validatePosition(n),s=this.textModel.getLanguageIdAtPosition(o.lineNumber,o.column);if(this.canBuildAST){let a=this.languageConfigurationService.getLanguageConfiguration(s).bracketsNew.getClosingBracketInfo(t);if(!a)return null;let l=this.getBracketPairsInRange(z.fromPositions(n,n)).findLast(c=>a.closes(c.openingBracketInfo));return l?l.openingBracketRange:null}else{let a=t.toLowerCase(),l=this.languageConfigurationService.getLanguageConfiguration(s).brackets;if(!l)return null;let c=l.textIsBracket[a];return c?Ku(this._findMatchingBracketUp(c,o,Wm(r))):null}}matchBracket(t,n){if(this.canBuildAST){let r=this.getBracketPairsInRange(z.fromPositions(t,t)).filter(o=>o.closingBracketRange!==void 0&&(o.openingBracketRange.containsPosition(t)||o.closingBracketRange.containsPosition(t))).findLastMaxBy(Xh(o=>o.openingBracketRange.containsPosition(t)?o.openingBracketRange:o.closingBracketRange,z.compareRangesUsingStarts));return r?[r.openingBracketRange,r.closingBracketRange]:null}else{let r=Wm(n);return this._matchBracket(this.textModel.validatePosition(t),r)}}_establishBracketSearchOffsets(t,n,r,o){let s=n.getCount(),a=n.getLanguageId(o),l=Math.max(0,t.column-1-r.maxBracketLength);for(let u=o-1;u>=0;u--){let p=n.getEndOffset(u);if(p<=l)break;if(Pn(n.getStandardTokenType(u))||n.getLanguageId(u)!==a){l=p;break}}let c=Math.min(n.getLineContent().length,t.column-1+r.maxBracketLength);for(let u=o+1;u<s;u++){let p=n.getStartOffset(u);if(p>=c)break;if(Pn(n.getStandardTokenType(u))||n.getLanguageId(u)!==a){c=p;break}}return{searchStartOffset:l,searchEndOffset:c}}_matchBracket(t,n){let r=t.lineNumber,o=this.textModel.tokenization.getLineTokens(r),s=this.textModel.getLineContent(r),a=o.findTokenIndexAtOffset(t.column-1);if(a<0)return null;let l=this.languageConfigurationService.getLanguageConfiguration(o.getLanguageId(a)).brackets;if(l&&!Pn(o.getStandardTokenType(a))){let{searchStartOffset:c,searchEndOffset:u}=this._establishBracketSearchOffsets(t,o,l,a),p=null;for(;;){let g=jt.findNextBracketInRange(l.forwardRegex,r,s,c,u);if(!g)break;if(g.startColumn<=t.column&&t.column<=g.endColumn){let f=s.substring(g.startColumn-1,g.endColumn-1).toLowerCase(),T=this._matchFoundBracket(g,l.textIsBracket[f],l.textIsOpenBracket[f],n);if(T){if(T instanceof tr)return null;p=T}}c=g.endColumn-1}if(p)return p}if(a>0&&o.getStartOffset(a)===t.column-1){let c=a-1,u=this.languageConfigurationService.getLanguageConfiguration(o.getLanguageId(c)).brackets;if(u&&!Pn(o.getStandardTokenType(c))){let{searchStartOffset:p,searchEndOffset:g}=this._establishBracketSearchOffsets(t,o,u,c),f=jt.findPrevBracketInRange(u.reversedRegex,r,s,p,g);if(f&&f.startColumn<=t.column&&t.column<=f.endColumn){let T=s.substring(f.startColumn-1,f.endColumn-1).toLowerCase(),m=this._matchFoundBracket(f,u.textIsBracket[T],u.textIsOpenBracket[T],n);if(m)return m instanceof tr?null:m}}}return null}_matchFoundBracket(t,n,r,o){if(!n)return null;let s=r?this._findMatchingBracketDown(n,t.getEndPosition(),o):this._findMatchingBracketUp(n,t.getStartPosition(),o);return s?s instanceof tr?s:[t,s]:null}_findMatchingBracketUp(t,n,r){let o=t.languageId,s=t.reversedRegex,a=-1,l=0,c=(u,p,g,f)=>{for(;;){if(r&&++l%100===0&&!r())return tr.INSTANCE;let T=jt.findPrevBracketInRange(s,u,p,g,f);if(!T)break;let m=p.substring(T.startColumn-1,T.endColumn-1).toLowerCase();if(t.isOpen(m)?a++:t.isClose(m)&&a--,a===0)return T;f=T.startColumn-1}return null};for(let u=n.lineNumber;u>=1;u--){let p=this.textModel.tokenization.getLineTokens(u),g=p.getCount(),f=this.textModel.getLineContent(u),T=g-1,m=f.length,x=f.length;u===n.lineNumber&&(T=p.findTokenIndexAtOffset(n.column-1),m=n.column-1,x=n.column-1);let w=!0;for(;T>=0;T--){let k=p.getLanguageId(T)===o&&!Pn(p.getStandardTokenType(T));if(k)w?m=p.getStartOffset(T):(m=p.getStartOffset(T),x=p.getEndOffset(T));else if(w&&m!==x){let L=c(u,f,m,x);if(L)return L}w=k}if(w&&m!==x){let k=c(u,f,m,x);if(k)return k}}return null}_findMatchingBracketDown(t,n,r){let o=t.languageId,s=t.forwardRegex,a=1,l=0,c=(p,g,f,T)=>{for(;;){if(r&&++l%100===0&&!r())return tr.INSTANCE;let m=jt.findNextBracketInRange(s,p,g,f,T);if(!m)break;let x=g.substring(m.startColumn-1,m.endColumn-1).toLowerCase();if(t.isOpen(x)?a++:t.isClose(x)&&a--,a===0)return m;f=m.endColumn-1}return null},u=this.textModel.getLineCount();for(let p=n.lineNumber;p<=u;p++){let g=this.textModel.tokenization.getLineTokens(p),f=g.getCount(),T=this.textModel.getLineContent(p),m=0,x=0,w=0;p===n.lineNumber&&(m=g.findTokenIndexAtOffset(n.column-1),x=n.column-1,w=n.column-1);let k=!0;for(;m<f;m++){let L=g.getLanguageId(m)===o&&!Pn(g.getStandardTokenType(m));if(L)k||(x=g.getStartOffset(m)),w=g.getEndOffset(m);else if(k&&x!==w){let A=c(p,T,x,w);if(A)return A}k=L}if(k&&x!==w){let L=c(p,T,x,w);if(L)return L}}return null}findPrevBracket(t){let n=this.textModel.validatePosition(t);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),this.bracketPairsTree.value?.object.getFirstBracketBefore(n)||null;let r=null,o=null,s=null;for(let a=n.lineNumber;a>=1;a--){let l=this.textModel.tokenization.getLineTokens(a),c=l.getCount(),u=this.textModel.getLineContent(a),p=c-1,g=u.length,f=u.length;if(a===n.lineNumber){p=l.findTokenIndexAtOffset(n.column-1),g=n.column-1,f=n.column-1;let m=l.getLanguageId(p);r!==m&&(r=m,o=this.languageConfigurationService.getLanguageConfiguration(r).brackets,s=this.languageConfigurationService.getLanguageConfiguration(r).bracketsNew)}let T=!0;for(;p>=0;p--){let m=l.getLanguageId(p);if(r!==m){if(o&&s&&T&&g!==f){let w=jt.findPrevBracketInRange(o.reversedRegex,a,u,g,f);if(w)return this._toFoundBracket(s,w);T=!1}r=m,o=this.languageConfigurationService.getLanguageConfiguration(r).brackets,s=this.languageConfigurationService.getLanguageConfiguration(r).bracketsNew}let x=!!o&&!Pn(l.getStandardTokenType(p));if(x)T?g=l.getStartOffset(p):(g=l.getStartOffset(p),f=l.getEndOffset(p));else if(s&&o&&T&&g!==f){let w=jt.findPrevBracketInRange(o.reversedRegex,a,u,g,f);if(w)return this._toFoundBracket(s,w)}T=x}if(s&&o&&T&&g!==f){let m=jt.findPrevBracketInRange(o.reversedRegex,a,u,g,f);if(m)return this._toFoundBracket(s,m)}}return null}findNextBracket(t){let n=this.textModel.validatePosition(t);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),this.bracketPairsTree.value?.object.getFirstBracketAfter(n)||null;let r=this.textModel.getLineCount(),o=null,s=null,a=null;for(let l=n.lineNumber;l<=r;l++){let c=this.textModel.tokenization.getLineTokens(l),u=c.getCount(),p=this.textModel.getLineContent(l),g=0,f=0,T=0;if(l===n.lineNumber){g=c.findTokenIndexAtOffset(n.column-1),f=n.column-1,T=n.column-1;let x=c.getLanguageId(g);o!==x&&(o=x,s=this.languageConfigurationService.getLanguageConfiguration(o).brackets,a=this.languageConfigurationService.getLanguageConfiguration(o).bracketsNew)}let m=!0;for(;g<u;g++){let x=c.getLanguageId(g);if(o!==x){if(a&&s&&m&&f!==T){let k=jt.findNextBracketInRange(s.forwardRegex,l,p,f,T);if(k)return this._toFoundBracket(a,k);m=!1}o=x,s=this.languageConfigurationService.getLanguageConfiguration(o).brackets,a=this.languageConfigurationService.getLanguageConfiguration(o).bracketsNew}let w=!!s&&!Pn(c.getStandardTokenType(g));if(w)m||(f=c.getStartOffset(g)),T=c.getEndOffset(g);else if(a&&s&&m&&f!==T){let k=jt.findNextBracketInRange(s.forwardRegex,l,p,f,T);if(k)return this._toFoundBracket(a,k)}m=w}if(a&&s&&m&&f!==T){let x=jt.findNextBracketInRange(s.forwardRegex,l,p,f,T);if(x)return this._toFoundBracket(a,x)}}return null}findEnclosingBrackets(t,n){let r=this.textModel.validatePosition(t);if(this.canBuildAST){let T=z.fromPositions(r),m=this.getBracketPairsInRange(z.fromPositions(r,r)).findLast(x=>x.closingBracketRange!==void 0&&x.range.strictContainsRange(T));return m?[m.openingBracketRange,m.closingBracketRange]:null}let o=Wm(n),s=this.textModel.getLineCount(),a=new Map,l=[],c=(T,m)=>{if(!a.has(T)){let x=[];for(let w=0,k=m?m.brackets.length:0;w<k;w++)x[w]=0;a.set(T,x)}l=a.get(T)},u=0,p=(T,m,x,w,k)=>{for(;;){if(o&&++u%100===0&&!o())return tr.INSTANCE;let L=jt.findNextBracketInRange(T.forwardRegex,m,x,w,k);if(!L)break;let A=x.substring(L.startColumn-1,L.endColumn-1).toLowerCase(),M=T.textIsBracket[A];if(M&&(M.isOpen(A)?l[M.index]++:M.isClose(A)&&l[M.index]--,l[M.index]===-1))return this._matchFoundBracket(L,M,!1,o);w=L.endColumn-1}return null},g=null,f=null;for(let T=r.lineNumber;T<=s;T++){let m=this.textModel.tokenization.getLineTokens(T),x=m.getCount(),w=this.textModel.getLineContent(T),k=0,L=0,A=0;if(T===r.lineNumber){k=m.findTokenIndexAtOffset(r.column-1),L=r.column-1,A=r.column-1;let P=m.getLanguageId(k);g!==P&&(g=P,f=this.languageConfigurationService.getLanguageConfiguration(g).brackets,c(g,f))}let M=!0;for(;k<x;k++){let P=m.getLanguageId(k);if(g!==P){if(f&&M&&L!==A){let ee=p(f,T,w,L,A);if(ee)return Ku(ee);M=!1}g=P,f=this.languageConfigurationService.getLanguageConfiguration(g).brackets,c(g,f)}let ie=!!f&&!Pn(m.getStandardTokenType(k));if(ie)M||(L=m.getStartOffset(k)),A=m.getEndOffset(k);else if(f&&M&&L!==A){let ee=p(f,T,w,L,A);if(ee)return Ku(ee)}M=ie}if(f&&M&&L!==A){let P=p(f,T,w,L,A);if(P)return Ku(P)}}return null}_toFoundBracket(t,n){if(!n)return null;let r=this.textModel.getValueInRange(n);r=r.toLowerCase();let o=t.getBracketInfo(r);return o?{range:n,bracketInfo:o}:null}};function XE(i,e){return{object:i,dispose:()=>e?.dispose()}}function Wm(i){if(typeof i>"u")return()=>!0;{let e=Date.now();return()=>Date.now()-e<=i}}var tr=class i{static INSTANCE=new i;_searchCanceledBrand=void 0;constructor(){}};function Ku(i){return i instanceof tr?null:i}var ZE=v("editor.lineHighlightBackground",null,d("lineHighlight","Background color for the highlight of line at the cursor position.")),Sse=v("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hcDark:"#f38518",hcLight:Ie},d("lineHighlightBorderBox","Background color for the border around the line at the cursor position.")),Ese=v("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hcDark:null,hcLight:null},d("rangeHighlight","Background color of highlighted ranges, like by quick open and find features. The color must not be opaque so as not to hide underlying decorations."),!0),wse=v("editor.rangeHighlightBorder",{dark:null,light:null,hcDark:it,hcLight:it},d("rangeHighlightBorder","Background color of the border around highlighted ranges.")),kse=v("editor.symbolHighlightBackground",{dark:ii,light:ii,hcDark:null,hcLight:null},d("symbolHighlight","Background color of highlighted symbol, like for go to definition or go next/previous symbol. The color must not be opaque so as not to hide underlying decorations."),!0),_se=v("editor.symbolHighlightBorder",{dark:null,light:null,hcDark:it,hcLight:it},d("symbolHighlightBorder","Background color of the border around highlighted symbols.")),Q1=v("editorCursor.foreground",{dark:"#AEAFAD",light:R.black,hcDark:R.white,hcLight:"#0F4A85"},d("caret","Color of the editor cursor.")),J1=v("editorCursor.background",null,d("editorCursorBackground","The background color of the editor cursor. Allows customizing the color of a character overlapped by a block cursor.")),Lse=v("editorMultiCursor.primary.foreground",Q1,d("editorMultiCursorPrimaryForeground","Color of the primary editor cursor when multiple cursors are present.")),Dse=v("editorMultiCursor.primary.background",J1,d("editorMultiCursorPrimaryBackground","The background color of the primary editor cursor when multiple cursors are present. Allows customizing the color of a character overlapped by a block cursor.")),Rse=v("editorMultiCursor.secondary.foreground",Q1,d("editorMultiCursorSecondaryForeground","Color of secondary editor cursors when multiple cursors are present.")),Ase=v("editorMultiCursor.secondary.background",J1,d("editorMultiCursorSecondaryBackground","The background color of secondary editor cursors when multiple cursors are present. Allows customizing the color of a character overlapped by a block cursor.")),ex=v("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hcDark:"#e3e4e229",hcLight:"#CCCCCC"},d("editorWhitespaces","Color of whitespace characters in the editor.")),Ose=v("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hcDark:R.white,hcLight:"#292929"},d("editorLineNumbers","Color of editor line numbers.")),QE=v("editorIndentGuide.background",ex,d("editorIndentGuides","Color of the editor indentation guides."),!1,d("deprecatedEditorIndentGuides","'editorIndentGuide.background' is deprecated. Use 'editorIndentGuide.background1' instead.")),JE=v("editorIndentGuide.activeBackground",ex,d("editorActiveIndentGuide","Color of the active editor indentation guides."),!1,d("deprecatedEditorActiveIndentGuide","'editorIndentGuide.activeBackground' is deprecated. Use 'editorIndentGuide.activeBackground1' instead.")),Mse=v("editorIndentGuide.background1",QE,d("editorIndentGuides1","Color of the editor indentation guides (1).")),Nse=v("editorIndentGuide.background2","#00000000",d("editorIndentGuides2","Color of the editor indentation guides (2).")),Pse=v("editorIndentGuide.background3","#00000000",d("editorIndentGuides3","Color of the editor indentation guides (3).")),Fse=v("editorIndentGuide.background4","#00000000",d("editorIndentGuides4","Color of the editor indentation guides (4).")),Bse=v("editorIndentGuide.background5","#00000000",d("editorIndentGuides5","Color of the editor indentation guides (5).")),zse=v("editorIndentGuide.background6","#00000000",d("editorIndentGuides6","Color of the editor indentation guides (6).")),Use=v("editorIndentGuide.activeBackground1",JE,d("editorActiveIndentGuide1","Color of the active editor indentation guides (1).")),Wse=v("editorIndentGuide.activeBackground2","#00000000",d("editorActiveIndentGuide2","Color of the active editor indentation guides (2).")),Hse=v("editorIndentGuide.activeBackground3","#00000000",d("editorActiveIndentGuide3","Color of the active editor indentation guides (3).")),Vse=v("editorIndentGuide.activeBackground4","#00000000",d("editorActiveIndentGuide4","Color of the active editor indentation guides (4).")),Kse=v("editorIndentGuide.activeBackground5","#00000000",d("editorActiveIndentGuide5","Color of the active editor indentation guides (5).")),qse=v("editorIndentGuide.activeBackground6","#00000000",d("editorActiveIndentGuide6","Color of the active editor indentation guides (6).")),ew=v("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hcDark:it,hcLight:it},d("editorActiveLineNumber","Color of editor active line number"),!1,d("deprecatedEditorActiveLineNumber","Id is deprecated. Use 'editorLineNumber.activeForeground' instead.")),$se=v("editorLineNumber.activeForeground",ew,d("editorActiveLineNumber","Color of editor active line number")),Gse=v("editorLineNumber.dimmedForeground",null,d("editorDimmedLineNumber","Color of the final editor line when editor.renderFinalNewline is set to dimmed.")),jse=v("editorRuler.foreground",{dark:"#5A5A5A",light:R.lightgrey,hcDark:R.white,hcLight:"#292929"},d("editorRuler","Color of the editor rulers.")),Yse=v("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hcDark:"#999999",hcLight:"#292929"},d("editorCodeLensForeground","Foreground color of editor CodeLens")),Xse=v("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hcDark:"#0064001a",hcLight:"#0000"},d("editorBracketMatchBackground","Background color behind matching brackets")),Zse=v("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hcDark:Ie,hcLight:Ie},d("editorBracketMatchBorder","Color for matching brackets boxes")),Qse=v("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hcDark:"#7f7f7f4d",hcLight:"#666666"},d("editorOverviewRulerBorder","Color of the overview ruler border.")),Jse=v("editorOverviewRuler.background",null,d("editorOverviewRulerBackground","Background color of the editor overview ruler.")),eae=v("editorGutter.background",No,d("editorGutter","Background color of the editor gutter. The gutter contains the glyph margins and the line numbers.")),tae=v("editorUnnecessaryCode.border",{dark:null,light:null,hcDark:R.fromHex("#fff").transparent(.8),hcLight:Ie},d("unnecessaryCodeBorder","Border color of unnecessary (unused) source code in the editor.")),nae=v("editorUnnecessaryCode.opacity",{dark:R.fromHex("#000a"),light:R.fromHex("#0007"),hcDark:null,hcLight:null},d("unnecessaryCodeOpacity",`Opacity of unnecessary (unused) source code in the editor. For example, "#000000c0" will render the code with 75% opacity. For high contrast themes, use the  'editorUnnecessaryCode.border' theme color to underline unnecessary code instead of fading it out.`)),iae=v("editorGhostText.border",{dark:null,light:null,hcDark:R.fromHex("#fff").transparent(.8),hcLight:R.fromHex("#292929").transparent(.8)},d("editorGhostTextBorder","Border color of ghost text in the editor.")),rae=v("editorGhostText.foreground",{dark:R.fromHex("#ffffff56"),light:R.fromHex("#0007"),hcDark:null,hcLight:null},d("editorGhostTextForeground","Foreground color of the ghost text in the editor.")),oae=v("editorGhostText.background",null,d("editorGhostTextBackground","Background color of the ghost text in the editor.")),tw=new R(new ue(0,122,204,.6)),sae=v("editorOverviewRuler.rangeHighlightForeground",tw,d("overviewRulerRangeHighlight","Overview ruler marker color for range highlights. The color must not be opaque so as not to hide underlying decorations."),!0),aae=v("editorOverviewRuler.errorForeground",{dark:new R(new ue(255,18,18,.7)),light:new R(new ue(255,18,18,.7)),hcDark:new R(new ue(255,50,50,1)),hcLight:"#B5200D"},d("overviewRuleError","Overview ruler marker color for errors.")),lae=v("editorOverviewRuler.warningForeground",{dark:Ci,light:Ci,hcDark:zs,hcLight:zs},d("overviewRuleWarning","Overview ruler marker color for warnings.")),dae=v("editorOverviewRuler.infoForeground",{dark:er,light:er,hcDark:Us,hcLight:Us},d("overviewRuleInfo","Overview ruler marker color for infos.")),tx=v("editorBracketHighlight.foreground1",{dark:"#FFD700",light:"#0431FAFF",hcDark:"#FFD700",hcLight:"#0431FAFF"},d("editorBracketHighlightForeground1","Foreground color of brackets (1). Requires enabling bracket pair colorization.")),nx=v("editorBracketHighlight.foreground2",{dark:"#DA70D6",light:"#319331FF",hcDark:"#DA70D6",hcLight:"#319331FF"},d("editorBracketHighlightForeground2","Foreground color of brackets (2). Requires enabling bracket pair colorization.")),ix=v("editorBracketHighlight.foreground3",{dark:"#179FFF",light:"#7B3814FF",hcDark:"#87CEFA",hcLight:"#7B3814FF"},d("editorBracketHighlightForeground3","Foreground color of brackets (3). Requires enabling bracket pair colorization.")),rx=v("editorBracketHighlight.foreground4","#00000000",d("editorBracketHighlightForeground4","Foreground color of brackets (4). Requires enabling bracket pair colorization.")),ox=v("editorBracketHighlight.foreground5","#00000000",d("editorBracketHighlightForeground5","Foreground color of brackets (5). Requires enabling bracket pair colorization.")),sx=v("editorBracketHighlight.foreground6","#00000000",d("editorBracketHighlightForeground6","Foreground color of brackets (6). Requires enabling bracket pair colorization.")),ax=v("editorBracketHighlight.unexpectedBracket.foreground",{dark:new R(new ue(255,18,18,.8)),light:new R(new ue(255,18,18,.8)),hcDark:"new Color(new RGBA(255, 50, 50, 1))",hcLight:"#B5200D"},d("editorBracketHighlightUnexpectedBracketForeground","Foreground color of unexpected brackets.")),cae=v("editorBracketPairGuide.background1","#00000000",d("editorBracketPairGuide.background1","Background color of inactive bracket pair guides (1). Requires enabling bracket pair guides.")),uae=v("editorBracketPairGuide.background2","#00000000",d("editorBracketPairGuide.background2","Background color of inactive bracket pair guides (2). Requires enabling bracket pair guides.")),hae=v("editorBracketPairGuide.background3","#00000000",d("editorBracketPairGuide.background3","Background color of inactive bracket pair guides (3). Requires enabling bracket pair guides.")),pae=v("editorBracketPairGuide.background4","#00000000",d("editorBracketPairGuide.background4","Background color of inactive bracket pair guides (4). Requires enabling bracket pair guides.")),gae=v("editorBracketPairGuide.background5","#00000000",d("editorBracketPairGuide.background5","Background color of inactive bracket pair guides (5). Requires enabling bracket pair guides.")),fae=v("editorBracketPairGuide.background6","#00000000",d("editorBracketPairGuide.background6","Background color of inactive bracket pair guides (6). Requires enabling bracket pair guides.")),mae=v("editorBracketPairGuide.activeBackground1","#00000000",d("editorBracketPairGuide.activeBackground1","Background color of active bracket pair guides (1). Requires enabling bracket pair guides.")),bae=v("editorBracketPairGuide.activeBackground2","#00000000",d("editorBracketPairGuide.activeBackground2","Background color of active bracket pair guides (2). Requires enabling bracket pair guides.")),vae=v("editorBracketPairGuide.activeBackground3","#00000000",d("editorBracketPairGuide.activeBackground3","Background color of active bracket pair guides (3). Requires enabling bracket pair guides.")),yae=v("editorBracketPairGuide.activeBackground4","#00000000",d("editorBracketPairGuide.activeBackground4","Background color of active bracket pair guides (4). Requires enabling bracket pair guides.")),Iae=v("editorBracketPairGuide.activeBackground5","#00000000",d("editorBracketPairGuide.activeBackground5","Background color of active bracket pair guides (5). Requires enabling bracket pair guides.")),xae=v("editorBracketPairGuide.activeBackground6","#00000000",d("editorBracketPairGuide.activeBackground6","Background color of active bracket pair guides (6). Requires enabling bracket pair guides.")),Tae=v("editorUnicodeHighlight.border",Ci,d("editorUnicodeHighlight.border","Border color used to highlight unicode characters.")),Cae=v("editorUnicodeHighlight.background",T1,d("editorUnicodeHighlight.background","Background color used to highlight unicode characters."));Au((i,e)=>{let t=i.getColor(No),n=i.getColor(ZE),r=n&&!n.isTransparent()?n:t;r&&e.addRule(`.monaco-editor .inputarea.ime-input { background-color: ${r}; }`)});var $u=class extends U{constructor(t){super();this.textModel=t;this.colorizationOptions=t.getOptions().bracketPairColorizationOptions,this._register(t.bracketPairs.onDidChange(n=>{this.onDidChangeEmitter.fire()}))}colorizationOptions;colorProvider=new Gu;onDidChangeEmitter=new N;onDidChange=this.onDidChangeEmitter.event;handleDidChangeOptions(t){this.colorizationOptions=this.textModel.getOptions().bracketPairColorizationOptions}getDecorationsInRange(t,n,r,o){return o?[]:n===void 0?[]:this.colorizationOptions.enabled?this.textModel.bracketPairs.getBracketsInRange(t,!0).map(a=>({id:`bracket${a.range.toString()}-${a.nestingLevel}`,options:{description:"BracketPairColorization",inlineClassName:this.colorProvider.getInlineClassName(a,this.colorizationOptions.independentColorPoolPerBracketType)},ownerId:0,range:a.range})).toArray():[]}getAllDecorations(t,n){return t===void 0?[]:this.colorizationOptions.enabled?this.getDecorationsInRange(new z(1,1,this.textModel.getLineCount(),1),t,n):[]}},Gu=class{unexpectedClosingBracketClassName="unexpected-closing-bracket";getInlineClassName(e,t){return e.isInvalid?this.unexpectedClosingBracketClassName:this.getInlineClassNameOfLevel(t?e.nestingLevelOfEqualBracketType:e.nestingLevel)}getInlineClassNameOfLevel(e){return`bracket-highlighting-${e%30}`}};Au((i,e)=>{let t=[tx,nx,ix,rx,ox,sx],n=new Gu;e.addRule(`.monaco-editor .${n.unexpectedClosingBracketClassName} { color: ${i.getColor(ax)}; }`);let r=t.map(o=>i.getColor(o)).filter(o=>!!o).filter(o=>!o.isTransparent());for(let o=0;o<30;o++){let s=r[o%r.length];e.addRule(`.monaco-editor .${n.getInlineClassNameOfLevel(o)} { color: ${s}; }`)}});function qs(i){return i.toString()}var sn=class i{constructor(e,t,n,r,o,s,a){this.beforeVersionId=e;this.afterVersionId=t;this.beforeEOL=n;this.afterEOL=r;this.beforeCursorState=o;this.afterCursorState=s;this.changes=a}static create(e,t){let n=e.getAlternativeVersionId(),r=Km(e);return new i(n,n,r,r,t,t,[])}append(e,t,n,r,o){t.length>0&&(this.changes=PI(this.changes,t)),this.afterEOL=n,this.afterVersionId=r,this.afterCursorState=o}static _writeSelectionsSize(e){return 4+4*4*(e?e.length:0)}static _writeSelections(e,t,n){if(Tt(e,t?t.length:0,n),n+=4,t)for(let r of t)Tt(e,r.selectionStartLineNumber,n),n+=4,Tt(e,r.selectionStartColumn,n),n+=4,Tt(e,r.positionLineNumber,n),n+=4,Tt(e,r.positionColumn,n),n+=4;return n}static _readSelections(e,t,n){let r=xt(e,t);t+=4;for(let o=0;o<r;o++){let s=xt(e,t);t+=4;let a=xt(e,t);t+=4;let l=xt(e,t);t+=4;let c=xt(e,t);t+=4,n.push(new Rr(s,a,l,c))}return t}serialize(){let e=10+i._writeSelectionsSize(this.beforeCursorState)+i._writeSelectionsSize(this.afterCursorState)+4;for(let r of this.changes)e+=r.writeSize();let t=new Uint8Array(e),n=0;Tt(t,this.beforeVersionId,n),n+=4,Tt(t,this.afterVersionId,n),n+=4,Hc(t,this.beforeEOL,n),n+=1,Hc(t,this.afterEOL,n),n+=1,n=i._writeSelections(t,this.beforeCursorState,n),n=i._writeSelections(t,this.afterCursorState,n),Tt(t,this.changes.length,n),n+=4;for(let r of this.changes)n=r.write(t,n);return t.buffer}static deserialize(e){let t=new Uint8Array(e),n=0,r=xt(t,n);n+=4;let o=xt(t,n);n+=4;let s=Wc(t,n);n+=1;let a=Wc(t,n);n+=1;let l=[];n=i._readSelections(t,n,l);let c=[];n=i._readSelections(t,n,c);let u=xt(t,n);n+=4;let p=[];for(let g=0;g<u;g++)n=mn.read(t,n,p);return new i(r,o,s,a,l,c,p)}},ju=class{constructor(e,t,n,r){this.label=e;this.code=t;this.model=n,this._data=sn.create(n,r)}model;_data;get type(){return 0}get resource(){return oe.isUri(this.model)?this.model:this.model.uri}toString(){return(this._data instanceof sn?this._data:sn.deserialize(this._data)).changes.map(t=>t.toString()).join(", ")}matchesResource(e){return(oe.isUri(this.model)?this.model:this.model.uri).toString()===e.toString()}setModel(e){this.model=e}canAppend(e){return this.model===e&&this._data instanceof sn}append(e,t,n,r,o){this._data instanceof sn&&this._data.append(e,t,n,r,o)}close(){this._data instanceof sn&&(this._data=this._data.serialize())}open(){this._data instanceof sn||(this._data=sn.deserialize(this._data))}undo(){if(oe.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof sn&&(this._data=this._data.serialize());let e=sn.deserialize(this._data);this.model._applyUndo(e.changes,e.beforeEOL,e.beforeVersionId,e.beforeCursorState)}redo(){if(oe.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof sn&&(this._data=this._data.serialize());let e=sn.deserialize(this._data);this.model._applyRedo(e.changes,e.afterEOL,e.afterVersionId,e.afterCursorState)}heapSize(){return this._data instanceof sn&&(this._data=this._data.serialize()),this._data.byteLength+168}},Vm=class{constructor(e,t,n){this.label=e;this.code=t;this._isOpen=!0,this._editStackElementsArr=n.slice(0),this._editStackElementsMap=new Map;for(let r of this._editStackElementsArr){let o=qs(r.resource);this._editStackElementsMap.set(o,r)}this._delegate=null}type=1;_isOpen;_editStackElementsArr;_editStackElementsMap;_delegate;get resources(){return this._editStackElementsArr.map(e=>e.resource)}setDelegate(e){this._delegate=e}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}getMissingModels(){let e=[];for(let t of this._editStackElementsArr)oe.isUri(t.model)&&e.push(t.model);return e}matchesResource(e){let t=qs(e);return this._editStackElementsMap.has(t)}setModel(e){let t=qs(oe.isUri(e)?e:e.uri);this._editStackElementsMap.has(t)&&this._editStackElementsMap.get(t).setModel(e)}canAppend(e){if(!this._isOpen)return!1;let t=qs(e.uri);return this._editStackElementsMap.has(t)?this._editStackElementsMap.get(t).canAppend(e):!1}append(e,t,n,r,o){let s=qs(e.uri);this._editStackElementsMap.get(s).append(e,t,n,r,o)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(let e of this._editStackElementsArr)e.undo()}redo(){for(let e of this._editStackElementsArr)e.redo()}heapSize(e){let t=qs(e);return this._editStackElementsMap.has(t)?this._editStackElementsMap.get(t).heapSize():0}split(){return this._editStackElementsArr}toString(){let e=[];for(let t of this._editStackElementsArr)e.push(`${$d(t.resource)}: ${t}`);return`{${e.join(", ")}}`}};function Km(i){return i.getEOL()===`
`?0:1}function Hm(i){return i?i instanceof ju||i instanceof Vm:!1}var Yu=class i{_model;_undoRedoService;constructor(e,t){this._model=e,this._undoRedoService=t}pushStackElement(){let e=this._undoRedoService.getLastElement(this._model.uri);Hm(e)&&e.close()}popStackElement(){let e=this._undoRedoService.getLastElement(this._model.uri);Hm(e)&&e.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(e,t){let n=this._undoRedoService.getLastElement(this._model.uri);if(Hm(n)&&n.canAppend(this._model))return n;let r=new ju(d("edit","Typing"),"undoredo.textBufferEdit",this._model,e);return this._undoRedoService.pushElement(r,t),r}pushEOL(e){let t=this._getOrCreateEditStackElement(null,void 0);this._model.setEOL(e),t.append(this._model,[],Km(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(e,t,n,r){let o=this._getOrCreateEditStackElement(e,r),s=this._model.applyEdits(t,!0),a=i._computeCursorState(n,s),l=s.map((c,u)=>({index:u,textChange:c.textChange}));return l.sort((c,u)=>c.textChange.oldPosition===u.textChange.oldPosition?c.index-u.index:c.textChange.oldPosition-u.textChange.oldPosition),o.append(this._model,l.map(c=>c.textChange),Km(this._model),this._model.getAlternativeVersionId(),a),a}static _computeCursorState(e,t){try{return e?e(t):null}catch(n){return ot(n),null}}};var $s=class extends U{_isDisposed=!1;dispose(){super.dispose(),this._isDisposed=!0}assertNotDisposed(){if(this._isDisposed)throw new Error("TextModelPart is disposed!")}};function lx(i,e){let t=0,n=0,r=i.length;for(;n<r;){let o=i.charCodeAt(n);if(o===32)t++;else if(o===9)t=t-t%e+e;else break;n++}return n===r?-1:t}var Xu=class extends $s{constructor(t,n){super();this.textModel=t;this.languageConfigurationService=n}getLanguageConfiguration(t){return this.languageConfigurationService.getLanguageConfiguration(t)}_computeIndentLevel(t){return lx(this.textModel.getLineContent(t+1),this.textModel.getOptions().tabSize)}getActiveIndentGuide(t,n,r){this.assertNotDisposed();let o=this.textModel.getLineCount();if(t<1||t>o)throw new _e("Illegal value for lineNumber");let s=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,a=!!(s&&s.offSide),l=-2,c=-1,u=-2,p=-1,g=ee=>{if(l!==-1&&(l===-2||l>ee-1)){l=-1,c=-1;for(let te=ee-2;te>=0;te--){let ne=this._computeIndentLevel(te);if(ne>=0){l=te,c=ne;break}}}if(u===-2){u=-1,p=-1;for(let te=ee;te<o;te++){let ne=this._computeIndentLevel(te);if(ne>=0){u=te,p=ne;break}}}},f=-2,T=-1,m=-2,x=-1,w=ee=>{if(f===-2){f=-1,T=-1;for(let te=ee-2;te>=0;te--){let ne=this._computeIndentLevel(te);if(ne>=0){f=te,T=ne;break}}}if(m!==-1&&(m===-2||m<ee-1)){m=-1,x=-1;for(let te=ee;te<o;te++){let ne=this._computeIndentLevel(te);if(ne>=0){m=te,x=ne;break}}}},k=0,L=!0,A=0,M=!0,P=0,ie=0;for(let ee=0;L||M;ee++){let te=t-ee,ne=t+ee;ee>1&&(te<1||te<n)&&(L=!1),ee>1&&(ne>o||ne>r)&&(M=!1),ee>5e4&&(L=!1,M=!1);let ye=-1;if(L&&te>=1){let qe=this._computeIndentLevel(te-1);qe>=0?(u=te-1,p=qe,ye=Math.ceil(qe/this.textModel.getOptions().indentSize)):(g(te),ye=this._getIndentLevelForWhitespaceLine(a,c,p))}let Ke=-1;if(M&&ne<=o){let qe=this._computeIndentLevel(ne-1);qe>=0?(f=ne-1,T=qe,Ke=Math.ceil(qe/this.textModel.getOptions().indentSize)):(w(ne),Ke=this._getIndentLevelForWhitespaceLine(a,T,x))}if(ee===0){ie=ye;continue}if(ee===1){if(ne<=o&&Ke>=0&&ie+1===Ke){L=!1,k=ne,A=ne,P=Ke;continue}if(te>=1&&ye>=0&&ye-1===ie){M=!1,k=te,A=te,P=ye;continue}if(k=t,A=t,P=ie,P===0)return{startLineNumber:k,endLineNumber:A,indent:P}}L&&(ye>=P?k=te:L=!1),M&&(Ke>=P?A=ne:M=!1)}return{startLineNumber:k,endLineNumber:A,indent:P}}getLinesBracketGuides(t,n,r,o){let s=[];for(let g=t;g<=n;g++)s.push([]);let a=!0,l=this.textModel.bracketPairs.getBracketPairsInRangeWithMinIndentation(new z(t,1,n,this.textModel.getLineMaxColumn(n))).toArray(),c;if(r&&l.length>0){let g=(t<=r.lineNumber&&r.lineNumber<=n?l:this.textModel.bracketPairs.getBracketPairsInRange(z.fromPositions(r)).toArray()).filter(f=>z.strictContainsPosition(f.range,r));c=Zb(g,f=>a||f.range.startLineNumber!==f.range.endLineNumber)?.range}let u=this.textModel.getOptions().bracketPairColorizationOptions.independentColorPoolPerBracketType,p=new qm;for(let g of l){if(!g.closingBracketRange)continue;let f=c&&g.range.equalsRange(c);if(!f&&!o.includeInactive)continue;let T=p.getInlineClassName(g.nestingLevel,g.nestingLevelOfEqualBracketType,u)+(o.highlightActive&&f?" "+p.activeClassName:""),m=g.openingBracketRange.getStartPosition(),x=g.closingBracketRange.getStartPosition(),w=o.horizontalGuides===2||o.horizontalGuides===1&&f;if(g.range.startLineNumber===g.range.endLineNumber){a&&w&&s[g.range.startLineNumber-t].push(new Mo(-1,g.openingBracketRange.getEndPosition().column,T,new Os(!1,x.column),-1,-1));continue}let k=this.getVisibleColumnFromPosition(x),L=this.getVisibleColumnFromPosition(g.openingBracketRange.getStartPosition()),A=Math.min(L,k,g.minVisibleColumnIndentation+1),M=!1;qi(this.textModel.getLineContent(g.closingBracketRange.startLineNumber))<g.closingBracketRange.startColumn-1&&(M=!0);let ee=Math.max(m.lineNumber,t),te=Math.min(x.lineNumber,n),ne=M?1:0;for(let ye=ee;ye<te+ne;ye++)s[ye-t].push(new Mo(A,-1,T,null,ye===m.lineNumber?m.column:-1,ye===x.lineNumber?x.column:-1));w&&(m.lineNumber>=t&&L>A&&s[m.lineNumber-t].push(new Mo(A,-1,T,new Os(!1,m.column),-1,-1)),x.lineNumber<=n&&k>A&&s[x.lineNumber-t].push(new Mo(A,-1,T,new Os(!M,x.column),-1,-1)))}for(let g of s)g.sort((f,T)=>f.visibleColumn-T.visibleColumn);return s}getVisibleColumnFromPosition(t){return Qi.visibleColumnFromColumn(this.textModel.getLineContent(t.lineNumber),t.column,this.textModel.getOptions().tabSize)+1}getLinesIndentGuides(t,n){this.assertNotDisposed();let r=this.textModel.getLineCount();if(t<1||t>r)throw new Error("Illegal value for startLineNumber");if(n<1||n>r)throw new Error("Illegal value for endLineNumber");let o=this.textModel.getOptions(),s=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,a=!!(s&&s.offSide),l=new Array(n-t+1),c=-2,u=-1,p=-2,g=-1;for(let f=t;f<=n;f++){let T=f-t,m=this._computeIndentLevel(f-1);if(m>=0){c=f-1,u=m,l[T]=Math.ceil(m/o.indentSize);continue}if(c===-2){c=-1,u=-1;for(let x=f-2;x>=0;x--){let w=this._computeIndentLevel(x);if(w>=0){c=x,u=w;break}}}if(p!==-1&&(p===-2||p<f-1)){p=-1,g=-1;for(let x=f;x<r;x++){let w=this._computeIndentLevel(x);if(w>=0){p=x,g=w;break}}}l[T]=this._getIndentLevelForWhitespaceLine(a,u,g)}return l}_getIndentLevelForWhitespaceLine(t,n,r){let o=this.textModel.getOptions();return n===-1||r===-1?0:n<r?1+Math.floor(n/o.indentSize):n===r||t?Math.ceil(r/o.indentSize):1+Math.floor(r/o.indentSize)}},qm=class{activeClassName="indent-active";getInlineClassName(e,t,n){return this.getInlineClassNameOfLevel(n?t:e)}getInlineClassNameOfLevel(e){return`bracket-indent-guide lvl-${e%30}`}};var $m=class{spacesDiff=0;looksLikeAlignment=!1};function iw(i,e,t,n,r){r.spacesDiff=0,r.looksLikeAlignment=!1;let o;for(o=0;o<e&&o<n;o++){let g=i.charCodeAt(o),f=t.charCodeAt(o);if(g!==f)break}let s=0,a=0;for(let g=o;g<e;g++)i.charCodeAt(g)===32?s++:a++;let l=0,c=0;for(let g=o;g<n;g++)t.charCodeAt(g)===32?l++:c++;if(s>0&&a>0||l>0&&c>0)return;let u=Math.abs(a-c),p=Math.abs(s-l);if(u===0){r.spacesDiff=p,p>0&&0<=l-1&&l-1<i.length&&l<t.length&&t.charCodeAt(l)!==32&&i.charCodeAt(l-1)===32&&i.charCodeAt(i.length-1)===44&&(r.looksLikeAlignment=!0);return}if(p%u===0){r.spacesDiff=p/u;return}}function Gm(i,e,t){let n=Math.min(i.getLineCount(),1e4),r=0,o=0,s="",a=0,l=[2,4,6,8,3,5,7],c=8,u=[0,0,0,0,0,0,0,0,0],p=new $m;for(let T=1;T<=n;T++){let m=i.getLineLength(T),x=i.getLineContent(T),w=m<=65536,k=!1,L=0,A=0,M=0;for(let ie=0,ee=m;ie<ee;ie++){let te=w?x.charCodeAt(ie):i.getLineCharCode(T,ie);if(te===9)M++;else if(te===32)A++;else{k=!0,L=ie;break}}if(!k||(M>0?r++:A>1&&o++,iw(s,a,x,L,p),p.looksLikeAlignment&&!(t&&e===p.spacesDiff)))continue;let P=p.spacesDiff;P<=c&&u[P]++,s=x,a=L}let g=t;r!==o&&(g=r<o);let f=e;if(g){let T=g?0:.1*n;l.forEach(m=>{let x=u[m];x>T&&(T=x,f=m)}),f===4&&u[4]>0&&u[2]>0&&u[2]>=u[4]/2&&(f=2)}return{insertSpaces:g,tabSize:f}}function Yt(i){return(i.metadata&1)>>>0}function ze(i,e){i.metadata=i.metadata&254|e<<0}function Et(i){return(i.metadata&2)>>>1===1}function Fe(i,e){i.metadata=i.metadata&253|(e?1:0)<<1}function mx(i){return(i.metadata&4)>>>2===1}function dx(i,e){i.metadata=i.metadata&251|(e?1:0)<<2}function bx(i){return(i.metadata&64)>>>6===1}function cx(i,e){i.metadata=i.metadata&191|(e?1:0)<<6}function rw(i){return(i.metadata&24)>>>3}function ux(i,e){i.metadata=i.metadata&231|e<<3}function ow(i){return(i.metadata&32)>>>5===1}function hx(i,e){i.metadata=i.metadata&223|(e?1:0)<<5}var $l=class{metadata;parent;left;right;start;end;delta;maxEnd;id;ownerId;options;cachedVersionId;cachedAbsoluteStart;cachedAbsoluteEnd;range;constructor(e,t,n){this.metadata=0,this.parent=this,this.left=this,this.right=this,ze(this,1),this.start=t,this.end=n,this.delta=0,this.maxEnd=n,this.id=e,this.ownerId=0,this.options=null,dx(this,!1),cx(this,!1),ux(this,1),hx(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=t,this.cachedAbsoluteEnd=n,this.range=null,Fe(this,!1)}reset(e,t,n,r){this.start=t,this.end=n,this.maxEnd=n,this.cachedVersionId=e,this.cachedAbsoluteStart=t,this.cachedAbsoluteEnd=n,this.range=r}setOptions(e){this.options=e;let t=this.options.className;dx(this,t==="squiggly-error"||t==="squiggly-warning"||t==="squiggly-info"),cx(this,this.options.glyphMarginClassName!==null),ux(this,this.options.stickiness),hx(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(e,t,n){this.cachedVersionId!==n&&(this.range=null),this.cachedVersionId=n,this.cachedAbsoluteStart=e,this.cachedAbsoluteEnd=t}detach(){this.parent=null,this.left=null,this.right=null}},ae=new $l(null,0,0);ae.parent=ae;ae.left=ae;ae.right=ae;ze(ae,0);var js=class{root;requestNormalizeDelta;constructor(){this.root=ae,this.requestNormalizeDelta=!1}intervalSearch(e,t,n,r,o,s){return this.root===ae?[]:hw(this,e,t,n,r,o,s)}search(e,t,n,r){return this.root===ae?[]:px(this,e,t,n,r)}collectNodesFromOwner(e){return cw(this,e)}collectNodesPostOrder(){return uw(this)}insert(e){gx(this,e),this._normalizeDeltaIfNecessary()}delete(e){fx(this,e),this._normalizeDeltaIfNecessary()}resolveNode(e,t){let n=e,r=0;for(;e!==this.root;)e===e.parent.right&&(r+=e.parent.delta),e=e.parent;let o=n.start+r,s=n.end+r;n.setCachedOffsets(o,s,t)}acceptReplace(e,t,n,r){let o=lw(this,e,e+t);for(let s=0,a=o.length;s<a;s++){let l=o[s];fx(this,l)}this._normalizeDeltaIfNecessary(),dw(this,e,e+t,n),this._normalizeDeltaIfNecessary();for(let s=0,a=o.length;s<a;s++){let l=o[s];l.start=l.cachedAbsoluteStart,l.end=l.cachedAbsoluteEnd,aw(l,e,e+t,n,r),l.maxEnd=l.end,gx(this,l)}this._normalizeDeltaIfNecessary()}getAllInOrder(){return px(this,0,!1,0,!1)}_normalizeDeltaIfNecessary(){this.requestNormalizeDelta&&(this.requestNormalizeDelta=!1,sw(this))}};function sw(i){let e=i.root,t=0;for(;e!==ae;){if(e.left!==ae&&!Et(e.left)){e=e.left;continue}if(e.right!==ae&&!Et(e.right)){t+=e.delta,e=e.right;continue}e.start=t+e.start,e.end=t+e.end,e.delta=0,nr(e),Fe(e,!0),Fe(e.left,!1),Fe(e.right,!1),e===e.parent.right&&(t-=e.parent.delta),e=e.parent}Fe(i.root,!1)}function Gs(i,e,t,n){return i<t?!0:i>t||n===1?!1:n===2?!0:e}function aw(i,e,t,n,r){let o=rw(i),s=o===0||o===2,a=o===1||o===2,l=t-e,c=n,u=Math.min(l,c),p=i.start,g=!1,f=i.end,T=!1;e<=p&&f<=t&&ow(i)&&(i.start=e,g=!0,i.end=e,T=!0);{let x=r?1:l>0?2:0;!g&&Gs(p,s,e,x)&&(g=!0),!T&&Gs(f,a,e,x)&&(T=!0)}if(u>0&&!r){let x=l>c?2:0;!g&&Gs(p,s,e+u,x)&&(g=!0),!T&&Gs(f,a,e+u,x)&&(T=!0)}{let x=r?1:0;!g&&Gs(p,s,t,x)&&(i.start=e+c,g=!0),!T&&Gs(f,a,t,x)&&(i.end=e+c,T=!0)}let m=c-l;g||(i.start=Math.max(0,p+m)),T||(i.end=Math.max(0,f+m)),i.start>i.end&&(i.end=i.start)}function lw(i,e,t){let n=i.root,r=0,o=0,s=0,a=0,l=[],c=0;for(;n!==ae;){if(Et(n)){Fe(n.left,!1),Fe(n.right,!1),n===n.parent.right&&(r-=n.parent.delta),n=n.parent;continue}if(!Et(n.left)){if(o=r+n.maxEnd,o<e){Fe(n,!0);continue}if(n.left!==ae){n=n.left;continue}}if(s=r+n.start,s>t){Fe(n,!0);continue}if(a=r+n.end,a>=e&&(n.setCachedOffsets(s,a,0),l[c++]=n),Fe(n,!0),n.right!==ae&&!Et(n.right)){r+=n.delta,n=n.right;continue}}return Fe(i.root,!1),l}function dw(i,e,t,n){let r=i.root,o=0,s=0,a=0,l=n-(t-e);for(;r!==ae;){if(Et(r)){Fe(r.left,!1),Fe(r.right,!1),r===r.parent.right&&(o-=r.parent.delta),nr(r),r=r.parent;continue}if(!Et(r.left)){if(s=o+r.maxEnd,s<e){Fe(r,!0);continue}if(r.left!==ae){r=r.left;continue}}if(a=o+r.start,a>t){r.start+=l,r.end+=l,r.delta+=l,(r.delta<-1073741824||r.delta>1073741824)&&(i.requestNormalizeDelta=!0),Fe(r,!0);continue}if(Fe(r,!0),r.right!==ae&&!Et(r.right)){o+=r.delta,r=r.right;continue}}Fe(i.root,!1)}function cw(i,e){let t=i.root,n=[],r=0;for(;t!==ae;){if(Et(t)){Fe(t.left,!1),Fe(t.right,!1),t=t.parent;continue}if(t.left!==ae&&!Et(t.left)){t=t.left;continue}if(t.ownerId===e&&(n[r++]=t),Fe(t,!0),t.right!==ae&&!Et(t.right)){t=t.right;continue}}return Fe(i.root,!1),n}function uw(i){let e=i.root,t=[],n=0;for(;e!==ae;){if(Et(e)){Fe(e.left,!1),Fe(e.right,!1),e=e.parent;continue}if(e.left!==ae&&!Et(e.left)){e=e.left;continue}if(e.right!==ae&&!Et(e.right)){e=e.right;continue}t[n++]=e,Fe(e,!0)}return Fe(i.root,!1),t}function px(i,e,t,n,r){let o=i.root,s=0,a=0,l=0,c=[],u=0;for(;o!==ae;){if(Et(o)){Fe(o.left,!1),Fe(o.right,!1),o===o.parent.right&&(s-=o.parent.delta),o=o.parent;continue}if(o.left!==ae&&!Et(o.left)){o=o.left;continue}a=s+o.start,l=s+o.end,o.setCachedOffsets(a,l,n);let p=!0;if(e&&o.ownerId&&o.ownerId!==e&&(p=!1),t&&mx(o)&&(p=!1),r&&!bx(o)&&(p=!1),p&&(c[u++]=o),Fe(o,!0),o.right!==ae&&!Et(o.right)){s+=o.delta,o=o.right;continue}}return Fe(i.root,!1),c}function hw(i,e,t,n,r,o,s){let a=i.root,l=0,c=0,u=0,p=0,g=[],f=0;for(;a!==ae;){if(Et(a)){Fe(a.left,!1),Fe(a.right,!1),a===a.parent.right&&(l-=a.parent.delta),a=a.parent;continue}if(!Et(a.left)){if(c=l+a.maxEnd,c<e){Fe(a,!0);continue}if(a.left!==ae){a=a.left;continue}}if(u=l+a.start,u>t){Fe(a,!0);continue}if(p=l+a.end,p>=e){a.setCachedOffsets(u,p,o);let T=!0;n&&a.ownerId&&a.ownerId!==n&&(T=!1),r&&mx(a)&&(T=!1),s&&!bx(a)&&(T=!1),T&&(g[f++]=a)}if(Fe(a,!0),a.right!==ae&&!Et(a.right)){l+=a.delta,a=a.right;continue}}return Fe(i.root,!1),g}function gx(i,e){if(i.root===ae)return e.parent=ae,e.left=ae,e.right=ae,ze(e,0),i.root=e,i.root;pw(i,e),Ur(e.parent);let t=e;for(;t!==i.root&&Yt(t.parent)===1;)if(t.parent===t.parent.parent.left){let n=t.parent.parent.right;Yt(n)===1?(ze(t.parent,0),ze(n,0),ze(t.parent.parent,1),t=t.parent.parent):(t===t.parent.right&&(t=t.parent,Kl(i,t)),ze(t.parent,0),ze(t.parent.parent,1),ql(i,t.parent.parent))}else{let n=t.parent.parent.left;Yt(n)===1?(ze(t.parent,0),ze(n,0),ze(t.parent.parent,1),t=t.parent.parent):(t===t.parent.left&&(t=t.parent,ql(i,t)),ze(t.parent,0),ze(t.parent.parent,1),Kl(i,t.parent.parent))}return ze(i.root,0),e}function pw(i,e){let t=0,n=i.root,r=e.start,o=e.end;for(;;)if(fw(r,o,n.start+t,n.end+t)<0)if(n.left===ae){e.start-=t,e.end-=t,e.maxEnd-=t,n.left=e;break}else n=n.left;else if(n.right===ae){e.start-=t+n.delta,e.end-=t+n.delta,e.maxEnd-=t+n.delta,n.right=e;break}else t+=n.delta,n=n.right;e.parent=n,e.left=ae,e.right=ae,ze(e,1)}function fx(i,e){let t,n;if(e.left===ae?(t=e.right,n=e,t.delta+=e.delta,(t.delta<-1073741824||t.delta>1073741824)&&(i.requestNormalizeDelta=!0),t.start+=e.delta,t.end+=e.delta):e.right===ae?(t=e.left,n=e):(n=gw(e.right),t=n.right,t.start+=n.delta,t.end+=n.delta,t.delta+=n.delta,(t.delta<-1073741824||t.delta>1073741824)&&(i.requestNormalizeDelta=!0),n.start+=e.delta,n.end+=e.delta,n.delta=e.delta,(n.delta<-1073741824||n.delta>1073741824)&&(i.requestNormalizeDelta=!0)),n===i.root){i.root=t,ze(t,0),e.detach(),jm(),nr(t),i.root.parent=ae;return}let r=Yt(n)===1;if(n===n.parent.left?n.parent.left=t:n.parent.right=t,n===e?t.parent=n.parent:(n.parent===e?t.parent=n:t.parent=n.parent,n.left=e.left,n.right=e.right,n.parent=e.parent,ze(n,Yt(e)),e===i.root?i.root=n:e===e.parent.left?e.parent.left=n:e.parent.right=n,n.left!==ae&&(n.left.parent=n),n.right!==ae&&(n.right.parent=n)),e.detach(),r){Ur(t.parent),n!==e&&(Ur(n),Ur(n.parent)),jm();return}Ur(t),Ur(t.parent),n!==e&&(Ur(n),Ur(n.parent));let o;for(;t!==i.root&&Yt(t)===0;)t===t.parent.left?(o=t.parent.right,Yt(o)===1&&(ze(o,0),ze(t.parent,1),Kl(i,t.parent),o=t.parent.right),Yt(o.left)===0&&Yt(o.right)===0?(ze(o,1),t=t.parent):(Yt(o.right)===0&&(ze(o.left,0),ze(o,1),ql(i,o),o=t.parent.right),ze(o,Yt(t.parent)),ze(t.parent,0),ze(o.right,0),Kl(i,t.parent),t=i.root)):(o=t.parent.left,Yt(o)===1&&(ze(o,0),ze(t.parent,1),ql(i,t.parent),o=t.parent.left),Yt(o.left)===0&&Yt(o.right)===0?(ze(o,1),t=t.parent):(Yt(o.left)===0&&(ze(o.right,0),ze(o,1),Kl(i,o),o=t.parent.left),ze(o,Yt(t.parent)),ze(t.parent,0),ze(o.left,0),ql(i,t.parent),t=i.root));ze(t,0),jm()}function gw(i){for(;i.left!==ae;)i=i.left;return i}function jm(){ae.parent=ae,ae.delta=0,ae.start=0,ae.end=0}function Kl(i,e){let t=e.right;t.delta+=e.delta,(t.delta<-1073741824||t.delta>1073741824)&&(i.requestNormalizeDelta=!0),t.start+=e.delta,t.end+=e.delta,e.right=t.left,t.left!==ae&&(t.left.parent=e),t.parent=e.parent,e.parent===ae?i.root=t:e===e.parent.left?e.parent.left=t:e.parent.right=t,t.left=e,e.parent=t,nr(e),nr(t)}function ql(i,e){let t=e.left;e.delta-=t.delta,(e.delta<-1073741824||e.delta>1073741824)&&(i.requestNormalizeDelta=!0),e.start-=t.delta,e.end-=t.delta,e.left=t.right,t.right!==ae&&(t.right.parent=e),t.parent=e.parent,e.parent===ae?i.root=t:e===e.parent.right?e.parent.right=t:e.parent.left=t,t.right=e,e.parent=t,nr(e),nr(t)}function vx(i){let e=i.end;if(i.left!==ae){let t=i.left.maxEnd;t>e&&(e=t)}if(i.right!==ae){let t=i.right.maxEnd+i.delta;t>e&&(e=t)}return e}function nr(i){i.maxEnd=vx(i)}function Ur(i){for(;i!==ae;){let e=vx(i);if(i.maxEnd===e)return;i.maxEnd=e,i=i.parent}}function fw(i,e,t,n){return i===t?e-n:i-t}var Ys=class{parent;left;right;color;piece;size_left;lf_left;constructor(e,t){this.piece=e,this.color=t,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==Q)return Zu(this.right);let e=this;for(;e.parent!==Q&&e.parent.left!==e;)e=e.parent;return e.parent===Q?Q:e.parent}prev(){if(this.left!==Q)return Zm(this.left);let e=this;for(;e.parent!==Q&&e.parent.right!==e;)e=e.parent;return e.parent===Q?Q:e.parent}detach(){this.parent=null,this.left=null,this.right=null}};var Q=new Ys(null,0);Q.parent=Q;Q.left=Q;Q.right=Q;Q.color=0;function Zu(i){for(;i.left!==Q;)i=i.left;return i}function Zm(i){for(;i.right!==Q;)i=i.right;return i}function Qm(i){return i===Q?0:i.size_left+i.piece.length+Qm(i.right)}function Jm(i){return i===Q?0:i.lf_left+i.piece.lineFeedCnt+Jm(i.right)}function Xm(){Q.parent=Q}function jl(i,e){let t=e.right;t.size_left+=e.size_left+(e.piece?e.piece.length:0),t.lf_left+=e.lf_left+(e.piece?e.piece.lineFeedCnt:0),e.right=t.left,t.left!==Q&&(t.left.parent=e),t.parent=e.parent,e.parent===Q?i.root=t:e.parent.left===e?e.parent.left=t:e.parent.right=t,t.left=e,e.parent=t}function Yl(i,e){let t=e.left;e.left=t.right,t.right!==Q&&(t.right.parent=e),t.parent=e.parent,e.size_left-=t.size_left+(t.piece?t.piece.length:0),e.lf_left-=t.lf_left+(t.piece?t.piece.lineFeedCnt:0),e.parent===Q?i.root=t:e===e.parent.right?e.parent.right=t:e.parent.left=t,t.right=e,e.parent=t}function Xl(i,e){let t,n;if(e.left===Q?(n=e,t=n.right):e.right===Q?(n=e,t=n.left):(n=Zu(e.right),t=n.right),n===i.root){i.root=t,t.color=0,e.detach(),Xm(),i.root.parent=Q;return}let r=n.color===1;if(n===n.parent.left?n.parent.left=t:n.parent.right=t,n===e?(t.parent=n.parent,Gl(i,t)):(n.parent===e?t.parent=n:t.parent=n.parent,Gl(i,t),n.left=e.left,n.right=e.right,n.parent=e.parent,n.color=e.color,e===i.root?i.root=n:e===e.parent.left?e.parent.left=n:e.parent.right=n,n.left!==Q&&(n.left.parent=n),n.right!==Q&&(n.right.parent=n),n.size_left=e.size_left,n.lf_left=e.lf_left,Gl(i,n)),e.detach(),t.parent.left===t){let s=Qm(t),a=Jm(t);if(s!==t.parent.size_left||a!==t.parent.lf_left){let l=s-t.parent.size_left,c=a-t.parent.lf_left;t.parent.size_left=s,t.parent.lf_left=a,Ei(i,t.parent,l,c)}}if(Gl(i,t.parent),r){Xm();return}let o;for(;t!==i.root&&t.color===0;)t===t.parent.left?(o=t.parent.right,o.color===1&&(o.color=0,t.parent.color=1,jl(i,t.parent),o=t.parent.right),o.left.color===0&&o.right.color===0?(o.color=1,t=t.parent):(o.right.color===0&&(o.left.color=0,o.color=1,Yl(i,o),o=t.parent.right),o.color=t.parent.color,t.parent.color=0,o.right.color=0,jl(i,t.parent),t=i.root)):(o=t.parent.left,o.color===1&&(o.color=0,t.parent.color=1,Yl(i,t.parent),o=t.parent.left),o.left.color===0&&o.right.color===0?(o.color=1,t=t.parent):(o.left.color===0&&(o.right.color=0,o.color=1,jl(i,o),o=t.parent.left),o.color=t.parent.color,t.parent.color=0,o.left.color=0,Yl(i,t.parent),t=i.root));t.color=0,Xm()}function eb(i,e){for(Gl(i,e);e!==i.root&&e.parent.color===1;)if(e.parent===e.parent.parent.left){let t=e.parent.parent.right;t.color===1?(e.parent.color=0,t.color=0,e.parent.parent.color=1,e=e.parent.parent):(e===e.parent.right&&(e=e.parent,jl(i,e)),e.parent.color=0,e.parent.parent.color=1,Yl(i,e.parent.parent))}else{let t=e.parent.parent.left;t.color===1?(e.parent.color=0,t.color=0,e.parent.parent.color=1,e=e.parent.parent):(e===e.parent.left&&(e=e.parent,Yl(i,e)),e.parent.color=0,e.parent.parent.color=1,jl(i,e.parent.parent))}i.root.color=0}function Ei(i,e,t,n){for(;e!==i.root&&e!==Q;)e.parent.left===e&&(e.parent.size_left+=t,e.parent.lf_left+=n),e=e.parent}function Gl(i,e){let t=0,n=0;if(e!==i.root){for(;e!==i.root&&e===e.parent.right;)e=e.parent;if(e!==i.root)for(e=e.parent,t=Qm(e.left)-e.size_left,n=Jm(e.left)-e.lf_left,e.size_left+=t,e.lf_left+=n;e!==i.root&&(t!==0||n!==0);)e.parent.left===e&&(e.parent.size_left+=t,e.parent.lf_left+=n),e=e.parent}}var mw=999,ir=class{searchString;isRegex;matchCase;wordSeparators;constructor(e,t,n,r){this.searchString=e,this.isRegex=t,this.matchCase=n,this.wordSeparators=r}parseSearchRequest(){if(this.searchString==="")return null;let e;this.isRegex?e=bw(this.searchString):e=this.searchString.indexOf(`
`)>=0;let t=null;try{t=Ud(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:e,global:!0,unicode:!0})}catch{return null}if(!t)return null;let n=!this.isRegex&&!e;return n&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(n=this.matchCase),new Su(t,this.wordSeparators?BI(this.wordSeparators,[]):null,n?this.searchString:null)}};function bw(i){if(!i||i.length===0)return!1;for(let e=0,t=i.length;e<t;e++){let n=i.charCodeAt(e);if(n===10)return!0;if(n===92){if(e++,e>=t)break;let r=i.charCodeAt(e);if(r===110||r===114||r===87)return!0}}return!1}function Wr(i,e,t){if(!t)return new Fr(i,null);let n=[];for(let r=0,o=e.length;r<o;r++)n[r]=e[r];return new Fr(i,n)}var Qu=class{_lineFeedsOffsets;constructor(e){let t=[],n=0;for(let r=0,o=e.length;r<o;r++)e.charCodeAt(r)===10&&(t[n++]=r);this._lineFeedsOffsets=t}findLineFeedCountBeforeOffset(e){let t=this._lineFeedsOffsets,n=0,r=t.length-1;if(r===-1||e<=t[0])return 0;for(;n<r;){let o=n+((r-n)/2>>0);t[o]>=e?r=o-1:t[o+1]>=e?(n=o,r=o):n=o+1}return n+1}},zo=class{static findMatches(e,t,n,r,o){let s=t.parseSearchRequest();return s?s.regex.multiline?this._doFindMatchesMultiline(e,n,new Hr(s.wordSeparators,s.regex),r,o):this._doFindMatchesLineByLine(e,n,s,r,o):[]}static _getMultilineMatchRange(e,t,n,r,o,s){let a,l=0;r?(l=r.findLineFeedCountBeforeOffset(o),a=t+o+l):a=t+o;let c;if(r){let f=r.findLineFeedCountBeforeOffset(o+s.length)-l;c=a+s.length+f}else c=a+s.length;let u=e.getPositionAt(a),p=e.getPositionAt(c);return new z(u.lineNumber,u.column,p.lineNumber,p.column)}static _doFindMatchesMultiline(e,t,n,r,o){let s=e.getOffsetAt(t.getStartPosition()),a=e.getValueInRange(t,1),l=e.getEOL()===`\r
`?new Qu(a):null,c=[],u=0,p;for(n.reset(0);p=n.next(a);)if(c[u++]=Wr(this._getMultilineMatchRange(e,s,a,l,p.index,p[0]),p,r),u>=o)return c;return c}static _doFindMatchesLineByLine(e,t,n,r,o){let s=[],a=0;if(t.startLineNumber===t.endLineNumber){let c=e.getLineContent(t.startLineNumber).substring(t.startColumn-1,t.endColumn-1);return a=this._findMatchesInLine(n,c,t.startLineNumber,t.startColumn-1,a,s,r,o),s}let l=e.getLineContent(t.startLineNumber).substring(t.startColumn-1);a=this._findMatchesInLine(n,l,t.startLineNumber,t.startColumn-1,a,s,r,o);for(let c=t.startLineNumber+1;c<t.endLineNumber&&a<o;c++)a=this._findMatchesInLine(n,e.getLineContent(c),c,0,a,s,r,o);if(a<o){let c=e.getLineContent(t.endLineNumber).substring(0,t.endColumn-1);a=this._findMatchesInLine(n,c,t.endLineNumber,0,a,s,r,o)}return s}static _findMatchesInLine(e,t,n,r,o,s,a,l){let c=e.wordSeparators;if(!a&&e.simpleSearch){let g=e.simpleSearch,f=g.length,T=t.length,m=-f;for(;(m=t.indexOf(g,m+f))!==-1;)if((!c||Ju(c,t,T,m,f))&&(s[o++]=new Fr(new z(n,m+1+r,n,m+1+f+r),null),o>=l))return o;return o}let u=new Hr(e.wordSeparators,e.regex),p;u.reset(0);do if(p=u.next(t),p&&(s[o++]=Wr(new z(n,p.index+1+r,n,p.index+1+p[0].length+r),p,a),o>=l))return o;while(p);return o}static findNextMatch(e,t,n,r){let o=t.parseSearchRequest();if(!o)return null;let s=new Hr(o.wordSeparators,o.regex);return o.regex.multiline?this._doFindNextMatchMultiline(e,n,s,r):this._doFindNextMatchLineByLine(e,n,s,r)}static _doFindNextMatchMultiline(e,t,n,r){let o=new xe(t.lineNumber,1),s=e.getOffsetAt(o),a=e.getLineCount(),l=e.getValueInRange(new z(o.lineNumber,o.column,a,e.getLineMaxColumn(a)),1),c=e.getEOL()===`\r
`?new Qu(l):null;n.reset(t.column-1);let u=n.next(l);return u?Wr(this._getMultilineMatchRange(e,s,l,c,u.index,u[0]),u,r):t.lineNumber!==1||t.column!==1?this._doFindNextMatchMultiline(e,new xe(1,1),n,r):null}static _doFindNextMatchLineByLine(e,t,n,r){let o=e.getLineCount(),s=t.lineNumber,a=e.getLineContent(s),l=this._findFirstMatchInLine(n,a,s,t.column,r);if(l)return l;for(let c=1;c<=o;c++){let u=(s+c-1)%o,p=e.getLineContent(u+1),g=this._findFirstMatchInLine(n,p,u+1,1,r);if(g)return g}return null}static _findFirstMatchInLine(e,t,n,r,o){e.reset(r-1);let s=e.next(t);return s?Wr(new z(n,s.index+1,n,s.index+1+s[0].length),s,o):null}static findPreviousMatch(e,t,n,r){let o=t.parseSearchRequest();if(!o)return null;let s=new Hr(o.wordSeparators,o.regex);return o.regex.multiline?this._doFindPreviousMatchMultiline(e,n,s,r):this._doFindPreviousMatchLineByLine(e,n,s,r)}static _doFindPreviousMatchMultiline(e,t,n,r){let o=this._doFindMatchesMultiline(e,new z(1,1,t.lineNumber,t.column),n,r,10*mw);if(o.length>0)return o[o.length-1];let s=e.getLineCount();return t.lineNumber!==s||t.column!==e.getLineMaxColumn(s)?this._doFindPreviousMatchMultiline(e,new xe(s,e.getLineMaxColumn(s)),n,r):null}static _doFindPreviousMatchLineByLine(e,t,n,r){let o=e.getLineCount(),s=t.lineNumber,a=e.getLineContent(s).substring(0,t.column-1),l=this._findLastMatchInLine(n,a,s,r);if(l)return l;for(let c=1;c<=o;c++){let u=(o+s-c-1)%o,p=e.getLineContent(u+1),g=this._findLastMatchInLine(n,p,u+1,r);if(g)return g}return null}static _findLastMatchInLine(e,t,n,r){let o=null,s;for(e.reset(0);s=e.next(t);)o=Wr(new z(n,s.index+1,n,s.index+1+s[0].length),s,r);return o}};function vw(i,e,t,n,r){if(n===0)return!0;let o=e.charCodeAt(n-1);if(i.get(o)!==0||o===13||o===10)return!0;if(r>0){let s=e.charCodeAt(n);if(i.get(s)!==0)return!0}return!1}function yw(i,e,t,n,r){if(n+r===t)return!0;let o=e.charCodeAt(n+r);if(i.get(o)!==0||o===13||o===10)return!0;if(r>0){let s=e.charCodeAt(n+r-1);if(i.get(s)!==0)return!0}return!1}function Ju(i,e,t,n,r){return vw(i,e,t,n,r)&&yw(i,e,t,n,r)}var Hr=class{_wordSeparators;_searchRegex;_prevMatchStartIndex;_prevMatchLength;constructor(e,t){this._wordSeparators=e,this._searchRegex=t,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(e){this._searchRegex.lastIndex=e,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(e){let t=e.length,n;do{if(this._prevMatchStartIndex+this._prevMatchLength===t||(n=this._searchRegex.exec(e),!n))return null;let r=n.index,o=n[0].length;if(r===this._prevMatchStartIndex&&o===this._prevMatchLength){if(o===0){as(e,t,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=r,this._prevMatchLength=o,!this._wordSeparators||Ju(this._wordSeparators,e,t,r,o))return n}while(n);return null}};var rr=65535;function Ix(i){let e;return i[i.length-1]<65536?e=new Uint16Array(i.length):e=new Uint32Array(i.length),e.set(i,0),e}var tb=class{constructor(e,t,n,r,o){this.lineStarts=e;this.cr=t;this.lf=n;this.crlf=r;this.isBasicASCII=o}};function wi(i,e=!0){let t=[0],n=1;for(let r=0,o=i.length;r<o;r++){let s=i.charCodeAt(r);s===13?r+1<o&&i.charCodeAt(r+1)===10?(t[n++]=r+2,r++):t[n++]=r+1:s===10&&(t[n++]=r+1)}return e?Ix(t):t}function xx(i,e){i.length=0,i[0]=0;let t=1,n=0,r=0,o=0,s=!0;for(let l=0,c=e.length;l<c;l++){let u=e.charCodeAt(l);u===13?l+1<c&&e.charCodeAt(l+1)===10?(o++,i[t++]=l+2,l++):(n++,i[t++]=l+1):u===10?(r++,i[t++]=l+1):s&&u!==9&&(u<32||u>126)&&(s=!1)}let a=new tb(Ix(i),n,r,o,s);return i.length=0,a}var Wt=class{bufferIndex;start;end;length;lineFeedCnt;constructor(e,t,n,r,o){this.bufferIndex=e,this.start=t,this.end=n,this.lineFeedCnt=r,this.length=o}},ki=class{buffer;lineStarts;constructor(e,t){this.buffer=e,this.lineStarts=t}},nb=class{_pieces;_index;_tree;_BOM;constructor(e,t){this._pieces=[],this._tree=e,this._BOM=t,this._index=0,e.root!==Q&&e.iterate(e.root,n=>(n!==Q&&this._pieces.push(n.piece),!0))}read(){return this._pieces.length===0?this._index===0?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:this._index===0?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}},ib=class{_limit;_cache;constructor(e){this._limit=e,this._cache=[]}get(e){for(let t=this._cache.length-1;t>=0;t--){let n=this._cache[t];if(n.nodeStartOffset<=e&&n.nodeStartOffset+n.node.piece.length>=e)return n}return null}get2(e){for(let t=this._cache.length-1;t>=0;t--){let n=this._cache[t];if(n.nodeStartLineNumber&&n.nodeStartLineNumber<e&&n.nodeStartLineNumber+n.node.piece.lineFeedCnt>=e)return n}return null}set(e){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(e)}validate(e){let t=!1,n=this._cache;for(let r=0;r<n.length;r++){let o=n[r];if(o.node.parent===null||o.nodeStartOffset>=e){n[r]=null,t=!0;continue}}if(t){let r=[];for(let o of n)o!==null&&r.push(o);this._cache=r}}},eh=class{root;_buffers;_lineCnt;_length;_EOL;_EOLLength;_EOLNormalized;_lastChangeBufferPos;_searchCache;_lastVisitedLine;constructor(e,t,n){this.create(e,t,n)}create(e,t,n){this._buffers=[new ki("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=Q,this._lineCnt=1,this._length=0,this._EOL=t,this._EOLLength=t.length,this._EOLNormalized=n;let r=null;for(let o=0,s=e.length;o<s;o++)if(e[o].buffer.length>0){e[o].lineStarts||(e[o].lineStarts=wi(e[o].buffer));let a=new Wt(o+1,{line:0,column:0},{line:e[o].lineStarts.length-1,column:e[o].buffer.length-e[o].lineStarts[e[o].lineStarts.length-1]},e[o].lineStarts.length-1,e[o].buffer.length);this._buffers.push(e[o]),r=this.rbInsertRight(r,a)}this._searchCache=new ib(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(e){let t=rr,n=t-Math.floor(t/3),r=n*2,o="",s=0,a=[];if(this.iterate(this.root,l=>{let c=this.getNodeContent(l),u=c.length;if(s<=n||s+u<r)return o+=c,s+=u,!0;let p=o.replace(/\r\n|\r|\n/g,e);return a.push(new ki(p,wi(p))),o=c,s=u,!0}),s>0){let l=o.replace(/\r\n|\r|\n/g,e);a.push(new ki(l,wi(l)))}this.create(a,e,!0)}getEOL(){return this._EOL}setEOL(e){this._EOL=e,this._EOLLength=this._EOL.length,this.normalizeEOL(e)}createSnapshot(e){return new nb(this,e)}equal(e){if(this.getLength()!==e.getLength()||this.getLineCount()!==e.getLineCount())return!1;let t=0;return this.iterate(this.root,r=>{if(r===Q)return!0;let o=this.getNodeContent(r),s=o.length,a=e.nodeAt(t),l=e.nodeAt(t+s),c=e.getValueInRange2(a,l);return t+=s,o===c})}getOffsetAt(e,t){let n=0,r=this.root;for(;r!==Q;)if(r.left!==Q&&r.lf_left+1>=e)r=r.left;else if(r.lf_left+r.piece.lineFeedCnt+1>=e){n+=r.size_left;let o=this.getAccumulatedValue(r,e-r.lf_left-2);return n+=o+t-1}else e-=r.lf_left+r.piece.lineFeedCnt,n+=r.size_left+r.piece.length,r=r.right;return n}getPositionAt(e){e=Math.floor(e),e=Math.max(0,e);let t=this.root,n=0,r=e;for(;t!==Q;)if(t.size_left!==0&&t.size_left>=e)t=t.left;else if(t.size_left+t.piece.length>=e){let o=this.getIndexOf(t,e-t.size_left);if(n+=t.lf_left+o.index,o.index===0){let s=this.getOffsetAt(n+1,1),a=r-s;return new xe(n+1,a+1)}return new xe(n+1,o.remainder+1)}else if(e-=t.size_left+t.piece.length,n+=t.lf_left+t.piece.lineFeedCnt,t.right===Q){let o=this.getOffsetAt(n+1,1),s=r-e-o;return new xe(n+1,s+1)}else t=t.right;return new xe(1,1)}getValueInRange(e,t){if(e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn)return"";let n=this.nodeAt2(e.startLineNumber,e.startColumn),r=this.nodeAt2(e.endLineNumber,e.endColumn),o=this.getValueInRange2(n,r);return t?t!==this._EOL||!this._EOLNormalized?o.replace(/\r\n|\r|\n/g,t):t===this.getEOL()&&this._EOLNormalized?o:o.replace(/\r\n|\r|\n/g,t):o}getValueInRange2(e,t){if(e.node===t.node){let a=e.node,l=this._buffers[a.piece.bufferIndex].buffer,c=this.offsetInBuffer(a.piece.bufferIndex,a.piece.start);return l.substring(c+e.remainder,c+t.remainder)}let n=e.node,r=this._buffers[n.piece.bufferIndex].buffer,o=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start),s=r.substring(o+e.remainder,o+n.piece.length);for(n=n.next();n!==Q;){let a=this._buffers[n.piece.bufferIndex].buffer,l=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);if(n===t.node){s+=a.substring(l,l+t.remainder);break}else s+=a.substr(l,n.piece.length);n=n.next()}return s}getLinesContent(){let e=[],t=0,n="",r=!1;return this.iterate(this.root,o=>{if(o===Q)return!0;let s=o.piece,a=s.length;if(a===0)return!0;let l=this._buffers[s.bufferIndex].buffer,c=this._buffers[s.bufferIndex].lineStarts,u=s.start.line,p=s.end.line,g=c[u]+s.start.column;if(r&&(l.charCodeAt(g)===10&&(g++,a--),e[t++]=n,n="",r=!1,a===0))return!0;if(u===p)return!this._EOLNormalized&&l.charCodeAt(g+a-1)===13?(r=!0,n+=l.substr(g,a-1)):n+=l.substr(g,a),!0;n+=this._EOLNormalized?l.substring(g,Math.max(g,c[u+1]-this._EOLLength)):l.substring(g,c[u+1]).replace(/(\r\n|\r|\n)$/,""),e[t++]=n;for(let f=u+1;f<p;f++)n=this._EOLNormalized?l.substring(c[f],c[f+1]-this._EOLLength):l.substring(c[f],c[f+1]).replace(/(\r\n|\r|\n)$/,""),e[t++]=n;return!this._EOLNormalized&&l.charCodeAt(c[p]+s.end.column-1)===13?(r=!0,s.end.column===0?t--:n=l.substr(c[p],s.end.column-1)):n=l.substr(c[p],s.end.column),!0}),r&&(e[t++]=n,n=""),e[t++]=n,e}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(e){return this._lastVisitedLine.lineNumber===e?this._lastVisitedLine.value:(this._lastVisitedLine.lineNumber=e,e===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(e):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(e,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(e).replace(/(\r\n|\r|\n)$/,""),this._lastVisitedLine.value)}_getCharCode(e){if(e.remainder===e.node.piece.length){let t=e.node.next();if(!t)return 0;let n=this._buffers[t.piece.bufferIndex],r=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start);return n.buffer.charCodeAt(r)}else{let t=this._buffers[e.node.piece.bufferIndex],r=this.offsetInBuffer(e.node.piece.bufferIndex,e.node.piece.start)+e.remainder;return t.buffer.charCodeAt(r)}}getLineCharCode(e,t){let n=this.nodeAt2(e,t+1);return this._getCharCode(n)}getLineLength(e){if(e===this.getLineCount()){let t=this.getOffsetAt(e,1);return this.getLength()-t}return this.getOffsetAt(e+1,1)-this.getOffsetAt(e,1)-this._EOLLength}getCharCode(e){let t=this.nodeAt(e);return this._getCharCode(t)}getNearestChunk(e){let t=this.nodeAt(e);if(t.remainder===t.node.piece.length){let n=t.node.next();if(!n||n===Q)return"";let r=this._buffers[n.piece.bufferIndex],o=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);return r.buffer.substring(o,o+n.piece.length)}else{let n=this._buffers[t.node.piece.bufferIndex],r=this.offsetInBuffer(t.node.piece.bufferIndex,t.node.piece.start),o=r+t.remainder,s=r+t.node.piece.length;return n.buffer.substring(o,s)}}findMatchesInNode(e,t,n,r,o,s,a,l,c,u,p){let g=this._buffers[e.piece.bufferIndex],f=this.offsetInBuffer(e.piece.bufferIndex,e.piece.start),T=this.offsetInBuffer(e.piece.bufferIndex,o),m=this.offsetInBuffer(e.piece.bufferIndex,s),x,w={line:0,column:0},k,L;t._wordSeparators?(k=g.buffer.substring(T,m),L=A=>A+T,t.reset(0)):(k=g.buffer,L=A=>A,t.reset(T));do if(x=t.next(k),x){if(L(x.index)>=m)return u;this.positionInBuffer(e,L(x.index)-f,w);let A=this.getLineFeedCnt(e.piece.bufferIndex,o,w),M=w.line===o.line?w.column-o.column+r:w.column+1,P=M+x[0].length;if(p[u++]=Wr(new z(n+A,M,n+A,P),x,l),L(x.index)+x[0].length>=m||u>=c)return u}while(x);return u}findMatchesLineByLine(e,t,n,r){let o=[],s=0,a=new Hr(t.wordSeparators,t.regex),l=this.nodeAt2(e.startLineNumber,e.startColumn);if(l===null)return[];let c=this.nodeAt2(e.endLineNumber,e.endColumn);if(c===null)return[];let u=this.positionInBuffer(l.node,l.remainder),p=this.positionInBuffer(c.node,c.remainder);if(l.node===c.node)return this.findMatchesInNode(l.node,a,e.startLineNumber,e.startColumn,u,p,t,n,r,s,o),o;let g=e.startLineNumber,f=l.node;for(;f!==c.node;){let m=this.getLineFeedCnt(f.piece.bufferIndex,u,f.piece.end);if(m>=1){let w=this._buffers[f.piece.bufferIndex].lineStarts,k=this.offsetInBuffer(f.piece.bufferIndex,f.piece.start),L=w[u.line+m],A=g===e.startLineNumber?e.startColumn:1;if(s=this.findMatchesInNode(f,a,g,A,u,this.positionInBuffer(f,L-k),t,n,r,s,o),s>=r)return o;g+=m}let x=g===e.startLineNumber?e.startColumn-1:0;if(g===e.endLineNumber){let w=this.getLineContent(g).substring(x,e.endColumn-1);return s=this._findMatchesInLine(t,a,w,e.endLineNumber,x,s,o,n,r),o}if(s=this._findMatchesInLine(t,a,this.getLineContent(g).substr(x),g,x,s,o,n,r),s>=r)return o;g++,l=this.nodeAt2(g,1),f=l.node,u=this.positionInBuffer(l.node,l.remainder)}if(g===e.endLineNumber){let m=g===e.startLineNumber?e.startColumn-1:0,x=this.getLineContent(g).substring(m,e.endColumn-1);return s=this._findMatchesInLine(t,a,x,e.endLineNumber,m,s,o,n,r),o}let T=g===e.startLineNumber?e.startColumn:1;return s=this.findMatchesInNode(c.node,a,g,T,u,p,t,n,r,s,o),o}_findMatchesInLine(e,t,n,r,o,s,a,l,c){let u=e.wordSeparators;if(!l&&e.simpleSearch){let g=e.simpleSearch,f=g.length,T=n.length,m=-f;for(;(m=n.indexOf(g,m+f))!==-1;)if((!u||Ju(u,n,T,m,f))&&(a[s++]=new Fr(new z(r,m+1+o,r,m+1+f+o),null),s>=c))return s;return s}let p;t.reset(0);do if(p=t.next(n),p&&(a[s++]=Wr(new z(r,p.index+1+o,r,p.index+1+p[0].length+o),p,l),s>=c))return s;while(p);return s}insert(e,t,n=!1){if(this._EOLNormalized=this._EOLNormalized&&n,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==Q){let{node:r,remainder:o,nodeStartOffset:s}=this.nodeAt(e),a=r.piece,l=a.bufferIndex,c=this.positionInBuffer(r,o);if(r.piece.bufferIndex===0&&a.end.line===this._lastChangeBufferPos.line&&a.end.column===this._lastChangeBufferPos.column&&s+a.length===e&&t.length<rr){this.appendToNode(r,t),this.computeBufferMetadata();return}if(s===e)this.insertContentToNodeLeft(t,r),this._searchCache.validate(e);else if(s+r.piece.length>e){let u=[],p=new Wt(a.bufferIndex,c,a.end,this.getLineFeedCnt(a.bufferIndex,c,a.end),this.offsetInBuffer(l,a.end)-this.offsetInBuffer(l,c));if(this.shouldCheckCRLF()&&this.endWithCR(t)&&this.nodeCharCodeAt(r,o)===10){let m={line:p.start.line+1,column:0};p=new Wt(p.bufferIndex,m,p.end,this.getLineFeedCnt(p.bufferIndex,m,p.end),p.length-1),t+=`
`}if(this.shouldCheckCRLF()&&this.startWithLF(t))if(this.nodeCharCodeAt(r,o-1)===13){let m=this.positionInBuffer(r,o-1);this.deleteNodeTail(r,m),t="\r"+t,r.piece.length===0&&u.push(r)}else this.deleteNodeTail(r,c);else this.deleteNodeTail(r,c);let g=this.createNewPieces(t);p.length>0&&this.rbInsertRight(r,p);let f=r;for(let T=0;T<g.length;T++)f=this.rbInsertRight(f,g[T]);this.deleteNodes(u)}else this.insertContentToNodeRight(t,r)}else{let r=this.createNewPieces(t),o=this.rbInsertLeft(null,r[0]);for(let s=1;s<r.length;s++)o=this.rbInsertRight(o,r[s])}this.computeBufferMetadata()}delete(e,t){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",t<=0||this.root===Q)return;let n=this.nodeAt(e),r=this.nodeAt(e+t),o=n.node,s=r.node;if(o===s){let g=this.positionInBuffer(o,n.remainder),f=this.positionInBuffer(o,r.remainder);if(n.nodeStartOffset===e){if(t===o.piece.length){let T=o.next();Xl(this,o),this.validateCRLFWithPrevNode(T),this.computeBufferMetadata();return}this.deleteNodeHead(o,f),this._searchCache.validate(e),this.validateCRLFWithPrevNode(o),this.computeBufferMetadata();return}if(n.nodeStartOffset+o.piece.length===e+t){this.deleteNodeTail(o,g),this.validateCRLFWithNextNode(o),this.computeBufferMetadata();return}this.shrinkNode(o,g,f),this.computeBufferMetadata();return}let a=[],l=this.positionInBuffer(o,n.remainder);this.deleteNodeTail(o,l),this._searchCache.validate(e),o.piece.length===0&&a.push(o);let c=this.positionInBuffer(s,r.remainder);this.deleteNodeHead(s,c),s.piece.length===0&&a.push(s);let u=o.next();for(let g=u;g!==Q&&g!==s;g=g.next())a.push(g);let p=o.piece.length===0?o.prev():o;this.deleteNodes(a),this.validateCRLFWithNextNode(p),this.computeBufferMetadata()}insertContentToNodeLeft(e,t){let n=[];if(this.shouldCheckCRLF()&&this.endWithCR(e)&&this.startWithLF(t)){let s=t.piece,a={line:s.start.line+1,column:0},l=new Wt(s.bufferIndex,a,s.end,this.getLineFeedCnt(s.bufferIndex,a,s.end),s.length-1);t.piece=l,e+=`
`,Ei(this,t,-1,-1),t.piece.length===0&&n.push(t)}let r=this.createNewPieces(e),o=this.rbInsertLeft(t,r[r.length-1]);for(let s=r.length-2;s>=0;s--)o=this.rbInsertLeft(o,r[s]);this.validateCRLFWithPrevNode(o),this.deleteNodes(n)}insertContentToNodeRight(e,t){this.adjustCarriageReturnFromNext(e,t)&&(e+=`
`);let n=this.createNewPieces(e),r=this.rbInsertRight(t,n[0]),o=r;for(let s=1;s<n.length;s++)o=this.rbInsertRight(o,n[s]);this.validateCRLFWithPrevNode(r)}positionInBuffer(e,t,n){let r=e.piece,o=e.piece.bufferIndex,s=this._buffers[o].lineStarts,l=s[r.start.line]+r.start.column+t,c=r.start.line,u=r.end.line,p=0,g=0,f=0;for(;c<=u&&(p=c+(u-c)/2|0,f=s[p],p!==u);)if(g=s[p+1],l<f)u=p-1;else if(l>=g)c=p+1;else break;return n?(n.line=p,n.column=l-f,null):{line:p,column:l-f}}getLineFeedCnt(e,t,n){if(n.column===0)return n.line-t.line;let r=this._buffers[e].lineStarts;if(n.line===r.length-1)return n.line-t.line;let o=r[n.line+1],s=r[n.line]+n.column;if(o>s+1)return n.line-t.line;let a=s-1;return this._buffers[e].buffer.charCodeAt(a)===13?n.line-t.line+1:n.line-t.line}offsetInBuffer(e,t){return this._buffers[e].lineStarts[t.line]+t.column}deleteNodes(e){for(let t=0;t<e.length;t++)Xl(this,e[t])}createNewPieces(e){if(e.length>rr){let u=[];for(;e.length>rr;){let g=e.charCodeAt(rr-1),f;g===13||g>=55296&&g<=56319?(f=e.substring(0,rr-1),e=e.substring(rr-1)):(f=e.substring(0,rr),e=e.substring(rr));let T=wi(f);u.push(new Wt(this._buffers.length,{line:0,column:0},{line:T.length-1,column:f.length-T[T.length-1]},T.length-1,f.length)),this._buffers.push(new ki(f,T))}let p=wi(e);return u.push(new Wt(this._buffers.length,{line:0,column:0},{line:p.length-1,column:e.length-p[p.length-1]},p.length-1,e.length)),this._buffers.push(new ki(e,p)),u}let t=this._buffers[0].buffer.length,n=wi(e,!1),r=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===t&&t!==0&&this.startWithLF(e)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},r=this._lastChangeBufferPos;for(let u=0;u<n.length;u++)n[u]+=t+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(n.slice(1)),this._buffers[0].buffer+="_"+e,t+=1}else{if(t!==0)for(let u=0;u<n.length;u++)n[u]+=t;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(n.slice(1)),this._buffers[0].buffer+=e}let o=this._buffers[0].buffer.length,s=this._buffers[0].lineStarts.length-1,a=o-this._buffers[0].lineStarts[s],l={line:s,column:a},c=new Wt(0,r,l,this.getLineFeedCnt(0,r,l),o-t);return this._lastChangeBufferPos=l,[c]}getLinesRawContent(){return this.getContentOfSubTree(this.root)}getLineRawContent(e,t=0){let n=this.root,r="",o=this._searchCache.get2(e);if(o){n=o.node;let s=this.getAccumulatedValue(n,e-o.nodeStartLineNumber-1),a=this._buffers[n.piece.bufferIndex].buffer,l=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);if(o.nodeStartLineNumber+n.piece.lineFeedCnt===e)r=a.substring(l+s,l+n.piece.length);else{let c=this.getAccumulatedValue(n,e-o.nodeStartLineNumber);return a.substring(l+s,l+c-t)}}else{let s=0,a=e;for(;n!==Q;)if(n.left!==Q&&n.lf_left>=e-1)n=n.left;else if(n.lf_left+n.piece.lineFeedCnt>e-1){let l=this.getAccumulatedValue(n,e-n.lf_left-2),c=this.getAccumulatedValue(n,e-n.lf_left-1),u=this._buffers[n.piece.bufferIndex].buffer,p=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);return s+=n.size_left,this._searchCache.set({node:n,nodeStartOffset:s,nodeStartLineNumber:a-(e-1-n.lf_left)}),u.substring(p+l,p+c-t)}else if(n.lf_left+n.piece.lineFeedCnt===e-1){let l=this.getAccumulatedValue(n,e-n.lf_left-2),c=this._buffers[n.piece.bufferIndex].buffer,u=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);r=c.substring(u+l,u+n.piece.length);break}else e-=n.lf_left+n.piece.lineFeedCnt,s+=n.size_left+n.piece.length,n=n.right}for(n=n.next();n!==Q;){let s=this._buffers[n.piece.bufferIndex].buffer;if(n.piece.lineFeedCnt>0){let a=this.getAccumulatedValue(n,0),l=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);return r+=s.substring(l,l+a-t),r}else{let a=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);r+=s.substr(a,n.piece.length)}n=n.next()}return r}computeBufferMetadata(){let e=this.root,t=1,n=0;for(;e!==Q;)t+=e.lf_left+e.piece.lineFeedCnt,n+=e.size_left+e.piece.length,e=e.right;this._lineCnt=t,this._length=n,this._searchCache.validate(this._length)}getIndexOf(e,t){let n=e.piece,r=this.positionInBuffer(e,t),o=r.line-n.start.line;if(this.offsetInBuffer(n.bufferIndex,n.end)-this.offsetInBuffer(n.bufferIndex,n.start)===t){let s=this.getLineFeedCnt(e.piece.bufferIndex,n.start,r);if(s!==o)return{index:s,remainder:0}}return{index:o,remainder:r.column}}getAccumulatedValue(e,t){if(t<0)return 0;let n=e.piece,r=this._buffers[n.bufferIndex].lineStarts,o=n.start.line+t+1;return o>n.end.line?r[n.end.line]+n.end.column-r[n.start.line]-n.start.column:r[o]-r[n.start.line]-n.start.column}deleteNodeTail(e,t){let n=e.piece,r=n.lineFeedCnt,o=this.offsetInBuffer(n.bufferIndex,n.end),s=t,a=this.offsetInBuffer(n.bufferIndex,s),l=this.getLineFeedCnt(n.bufferIndex,n.start,s),c=l-r,u=a-o,p=n.length+u;e.piece=new Wt(n.bufferIndex,n.start,s,l,p),Ei(this,e,u,c)}deleteNodeHead(e,t){let n=e.piece,r=n.lineFeedCnt,o=this.offsetInBuffer(n.bufferIndex,n.start),s=t,a=this.getLineFeedCnt(n.bufferIndex,s,n.end),l=this.offsetInBuffer(n.bufferIndex,s),c=a-r,u=o-l,p=n.length+u;e.piece=new Wt(n.bufferIndex,s,n.end,a,p),Ei(this,e,u,c)}shrinkNode(e,t,n){let r=e.piece,o=r.start,s=r.end,a=r.length,l=r.lineFeedCnt,c=t,u=this.getLineFeedCnt(r.bufferIndex,r.start,c),p=this.offsetInBuffer(r.bufferIndex,t)-this.offsetInBuffer(r.bufferIndex,o);e.piece=new Wt(r.bufferIndex,r.start,c,u,p),Ei(this,e,p-a,u-l);let g=new Wt(r.bufferIndex,n,s,this.getLineFeedCnt(r.bufferIndex,n,s),this.offsetInBuffer(r.bufferIndex,s)-this.offsetInBuffer(r.bufferIndex,n)),f=this.rbInsertRight(e,g);this.validateCRLFWithPrevNode(f)}appendToNode(e,t){this.adjustCarriageReturnFromNext(t,e)&&(t+=`
`);let n=this.shouldCheckCRLF()&&this.startWithLF(t)&&this.endWithCR(e),r=this._buffers[0].buffer.length;this._buffers[0].buffer+=t;let o=wi(t,!1);for(let f=0;f<o.length;f++)o[f]+=r;if(n){let f=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:r-f}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(o.slice(1));let s=this._buffers[0].lineStarts.length-1,a=this._buffers[0].buffer.length-this._buffers[0].lineStarts[s],l={line:s,column:a},c=e.piece.length+t.length,u=e.piece.lineFeedCnt,p=this.getLineFeedCnt(0,e.piece.start,l),g=p-u;e.piece=new Wt(e.piece.bufferIndex,e.piece.start,l,p,c),this._lastChangeBufferPos=l,Ei(this,e,t.length,g)}nodeAt(e){let t=this.root,n=this._searchCache.get(e);if(n)return{node:n.node,nodeStartOffset:n.nodeStartOffset,remainder:e-n.nodeStartOffset};let r=0;for(;t!==Q;)if(t.size_left>e)t=t.left;else if(t.size_left+t.piece.length>=e){r+=t.size_left;let o={node:t,remainder:e-t.size_left,nodeStartOffset:r};return this._searchCache.set(o),o}else e-=t.size_left+t.piece.length,r+=t.size_left+t.piece.length,t=t.right;return null}nodeAt2(e,t){let n=this.root,r=0;for(;n!==Q;)if(n.left!==Q&&n.lf_left>=e-1)n=n.left;else if(n.lf_left+n.piece.lineFeedCnt>e-1){let o=this.getAccumulatedValue(n,e-n.lf_left-2),s=this.getAccumulatedValue(n,e-n.lf_left-1);return r+=n.size_left,{node:n,remainder:Math.min(o+t-1,s),nodeStartOffset:r}}else if(n.lf_left+n.piece.lineFeedCnt===e-1){let o=this.getAccumulatedValue(n,e-n.lf_left-2);if(o+t-1<=n.piece.length)return{node:n,remainder:o+t-1,nodeStartOffset:r};t-=n.piece.length-o;break}else e-=n.lf_left+n.piece.lineFeedCnt,r+=n.size_left+n.piece.length,n=n.right;for(n=n.next();n!==Q;){if(n.piece.lineFeedCnt>0){let o=this.getAccumulatedValue(n,0),s=this.offsetOfNode(n);return{node:n,remainder:Math.min(t-1,o),nodeStartOffset:s}}else if(n.piece.length>=t-1){let o=this.offsetOfNode(n);return{node:n,remainder:t-1,nodeStartOffset:o}}else t-=n.piece.length;n=n.next()}return null}nodeCharCodeAt(e,t){if(e.piece.lineFeedCnt<1)return-1;let n=this._buffers[e.piece.bufferIndex],r=this.offsetInBuffer(e.piece.bufferIndex,e.piece.start)+t;return n.buffer.charCodeAt(r)}offsetOfNode(e){if(!e)return 0;let t=e.size_left;for(;e!==this.root;)e.parent.right===e&&(t+=e.parent.size_left+e.parent.piece.length),e=e.parent;return t}shouldCheckCRLF(){return!(this._EOLNormalized&&this._EOL===`
`)}startWithLF(e){if(typeof e=="string")return e.charCodeAt(0)===10;if(e===Q||e.piece.lineFeedCnt===0)return!1;let t=e.piece,n=this._buffers[t.bufferIndex].lineStarts,r=t.start.line,o=n[r]+t.start.column;return r===n.length-1||n[r+1]>o+1?!1:this._buffers[t.bufferIndex].buffer.charCodeAt(o)===10}endWithCR(e){return typeof e=="string"?e.charCodeAt(e.length-1)===13:e===Q||e.piece.lineFeedCnt===0?!1:this.nodeCharCodeAt(e,e.piece.length-1)===13}validateCRLFWithPrevNode(e){if(this.shouldCheckCRLF()&&this.startWithLF(e)){let t=e.prev();this.endWithCR(t)&&this.fixCRLF(t,e)}}validateCRLFWithNextNode(e){if(this.shouldCheckCRLF()&&this.endWithCR(e)){let t=e.next();this.startWithLF(t)&&this.fixCRLF(e,t)}}fixCRLF(e,t){let n=[],r=this._buffers[e.piece.bufferIndex].lineStarts,o;e.piece.end.column===0?o={line:e.piece.end.line-1,column:r[e.piece.end.line]-r[e.piece.end.line-1]-1}:o={line:e.piece.end.line,column:e.piece.end.column-1};let s=e.piece.length-1,a=e.piece.lineFeedCnt-1;e.piece=new Wt(e.piece.bufferIndex,e.piece.start,o,a,s),Ei(this,e,-1,-1),e.piece.length===0&&n.push(e);let l={line:t.piece.start.line+1,column:0},c=t.piece.length-1,u=this.getLineFeedCnt(t.piece.bufferIndex,l,t.piece.end);t.piece=new Wt(t.piece.bufferIndex,l,t.piece.end,u,c),Ei(this,t,-1,-1),t.piece.length===0&&n.push(t);let p=this.createNewPieces(`\r
`);this.rbInsertRight(e,p[0]);for(let g=0;g<n.length;g++)Xl(this,n[g])}adjustCarriageReturnFromNext(e,t){if(this.shouldCheckCRLF()&&this.endWithCR(e)){let n=t.next();if(this.startWithLF(n)){if(e+=`
`,n.piece.length===1)Xl(this,n);else{let r=n.piece,o={line:r.start.line+1,column:0},s=r.length-1,a=this.getLineFeedCnt(r.bufferIndex,o,r.end);n.piece=new Wt(r.bufferIndex,o,r.end,a,s),Ei(this,n,-1,-1)}return!0}}return!1}iterate(e,t){if(e===Q)return t(Q);let n=this.iterate(e.left,t);return n&&t(e)&&this.iterate(e.right,t)}getNodeContent(e){if(e===Q)return"";let t=this._buffers[e.piece.bufferIndex],n=e.piece,r=this.offsetInBuffer(n.bufferIndex,n.start),o=this.offsetInBuffer(n.bufferIndex,n.end);return t.buffer.substring(r,o)}getPieceContent(e){let t=this._buffers[e.bufferIndex],n=this.offsetInBuffer(e.bufferIndex,e.start),r=this.offsetInBuffer(e.bufferIndex,e.end);return t.buffer.substring(n,r)}rbInsertRight(e,t){let n=new Ys(t,1);if(n.left=Q,n.right=Q,n.parent=Q,n.size_left=0,n.lf_left=0,this.root===Q)this.root=n,n.color=0;else if(e.right===Q)e.right=n,n.parent=e;else{let o=Zu(e.right);o.left=n,n.parent=o}return eb(this,n),n}rbInsertLeft(e,t){let n=new Ys(t,1);if(n.left=Q,n.right=Q,n.parent=Q,n.size_left=0,n.lf_left=0,this.root===Q)this.root=n,n.color=0;else if(e.left===Q)e.left=n,n.parent=e;else{let r=Zm(e.left);r.right=n,n.parent=r}return eb(this,n),n}getContentOfSubTree(e){let t="";return this.iterate(e,n=>(t+=this.getNodeContent(n),!0)),t}};var Xs=class i extends U{_pieceTree;_BOM;_mightContainRTL;_mightContainUnusualLineTerminators;_mightContainNonBasicASCII;_onDidChangeContent=this._register(new N);onDidChangeContent=this._onDidChangeContent.event;constructor(e,t,n,r,o,s,a){super(),this._BOM=t,this._mightContainNonBasicASCII=!s,this._mightContainRTL=r,this._mightContainUnusualLineTerminators=o,this._pieceTree=new eh(e,n,a)}equals(e){return!(e instanceof i)||this._BOM!==e._BOM||this.getEOL()!==e.getEOL()?!1:this._pieceTree.equal(e._pieceTree)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(e){return this._pieceTree.createSnapshot(e?this._BOM:"")}getOffsetAt(e,t){return this._pieceTree.getOffsetAt(e,t)}getPositionAt(e){return this._pieceTree.getPositionAt(e)}getRangeAt(e,t){let n=e+t,r=this.getPositionAt(e),o=this.getPositionAt(n);return new z(r.lineNumber,r.column,o.lineNumber,o.column)}getValueInRange(e,t=0){if(e.isEmpty())return"";let n=this._getEndOfLine(t);return this._pieceTree.getValueInRange(e,n)}getValueLengthInRange(e,t=0){if(e.isEmpty())return 0;if(e.startLineNumber===e.endLineNumber)return e.endColumn-e.startColumn;let n=this.getOffsetAt(e.startLineNumber,e.startColumn),r=this.getOffsetAt(e.endLineNumber,e.endColumn),o=0,s=this._getEndOfLine(t),a=this.getEOL();if(s.length!==a.length){let l=s.length-a.length,c=e.endLineNumber-e.startLineNumber;o=l*c}return r-n+o}getCharacterCountInRange(e,t=0){if(this._mightContainNonBasicASCII){let n=0,r=e.startLineNumber,o=e.endLineNumber;for(let s=r;s<=o;s++){let a=this.getLineContent(s),l=s===r?e.startColumn-1:0,c=s===o?e.endColumn-1:a.length;for(let u=l;u<c;u++)pn(a.charCodeAt(u))?(n=n+1,u=u+1):n=n+1}return n+=this._getEndOfLine(t).length*(o-r),n}return this.getValueLengthInRange(e,t)}getNearestChunk(e){return this._pieceTree.getNearestChunk(e)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(e){return this._pieceTree.getLineContent(e)}getLineCharCode(e,t){return this._pieceTree.getLineCharCode(e,t)}getCharCode(e){return this._pieceTree.getCharCode(e)}getLineLength(e){return this._pieceTree.getLineLength(e)}getLineMinColumn(e){return 1}getLineMaxColumn(e){return this.getLineLength(e)+1}getLineFirstNonWhitespaceColumn(e){let t=qi(this.getLineContent(e));return t===-1?0:t+1}getLineLastNonWhitespaceColumn(e){let t=Lp(this.getLineContent(e));return t===-1?0:t+2}_getEndOfLine(e){switch(e){case 1:return`
`;case 2:return`\r
`;case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(e){this._pieceTree.setEOL(e)}applyEdits(e,t,n){let r=this._mightContainRTL,o=this._mightContainUnusualLineTerminators,s=this._mightContainNonBasicASCII,a=!0,l=[];for(let m=0;m<e.length;m++){let x=e[m];a&&x._isTracked&&(a=!1);let w=x.range;if(x.text){let P=!0;s||(P=!Ap(x.text),s=P),!r&&P&&(r=Na(x.text)),!o&&P&&(o=Hd(x.text))}let k="",L=0,A=0,M=0;if(x.text){let P;[L,A,M,P]=on(x.text);let ie=this.getEOL(),ee=ie===`\r
`?2:1;P===0||P===ee?k=x.text:k=x.text.replace(/\r\n|\r|\n/g,ie)}l[m]={sortIndex:m,identifier:x.identifier||null,range:w,rangeOffset:this.getOffsetAt(w.startLineNumber,w.startColumn),rangeLength:this.getValueLengthInRange(w),text:k,eolCount:L,firstLineLength:A,lastLineLength:M,forceMoveMarkers:!!x.forceMoveMarkers,isAutoWhitespaceEdit:x.isAutoWhitespaceEdit||!1}}l.sort(i._sortOpsAscending);let c=!1;for(let m=0,x=l.length-1;m<x;m++){let w=l[m].range.getEndPosition(),k=l[m+1].range.getStartPosition();if(k.isBeforeOrEqual(w)){if(k.isBefore(w))throw new Error("Overlapping ranges are not allowed!");c=!0}}a&&(l=this._reduceOperations(l));let u=n||t?i._getInverseEditRanges(l):[],p=[];if(t)for(let m=0;m<l.length;m++){let x=l[m],w=u[m];if(x.isAutoWhitespaceEdit&&x.range.isEmpty())for(let k=w.startLineNumber;k<=w.endLineNumber;k++){let L="";k===w.startLineNumber&&(L=this.getLineContent(x.range.startLineNumber),qi(L)!==-1)||p.push({lineNumber:k,oldContent:L})}}let g=null;if(n){let m=0;g=[];for(let x=0;x<l.length;x++){let w=l[x],k=u[x],L=this.getValueInRange(w.range),A=w.rangeOffset+m;m+=w.text.length-L.length,g[x]={sortIndex:w.sortIndex,identifier:w.identifier,range:k,text:L,textChange:new mn(w.rangeOffset,L,A,w.text)}}c||g.sort((x,w)=>x.sortIndex-w.sortIndex)}this._mightContainRTL=r,this._mightContainUnusualLineTerminators=o,this._mightContainNonBasicASCII=s;let f=this._doApplyEdits(l),T=null;if(t&&p.length>0){p.sort((m,x)=>x.lineNumber-m.lineNumber),T=[];for(let m=0,x=p.length;m<x;m++){let w=p[m].lineNumber;if(m>0&&p[m-1].lineNumber===w)continue;let k=p[m].oldContent,L=this.getLineContent(w);L.length===0||L===k||qi(L)!==-1||T.push(w)}}return this._onDidChangeContent.fire(),new Eu(g,f,T)}_reduceOperations(e){return e.length<1e3?e:[this._toSingleEditOperation(e)]}_toSingleEditOperation(e){let t=!1,n=e[0].range,r=e[e.length-1].range,o=new z(n.startLineNumber,n.startColumn,r.endLineNumber,r.endColumn),s=n.startLineNumber,a=n.startColumn,l=[];for(let f=0,T=e.length;f<T;f++){let m=e[f],x=m.range;t=t||m.forceMoveMarkers,l.push(this.getValueInRange(new z(s,a,x.startLineNumber,x.startColumn))),m.text.length>0&&l.push(m.text),s=x.endLineNumber,a=x.endColumn}let c=l.join(""),[u,p,g]=on(c);return{sortIndex:0,identifier:e[0].identifier,range:o,rangeOffset:this.getOffsetAt(o.startLineNumber,o.startColumn),rangeLength:this.getValueLengthInRange(o,0),text:c,eolCount:u,firstLineLength:p,lastLineLength:g,forceMoveMarkers:t,isAutoWhitespaceEdit:!1}}_doApplyEdits(e){e.sort(i._sortOpsDescending);let t=[];for(let n=0;n<e.length;n++){let r=e[n],o=r.range.startLineNumber,s=r.range.startColumn,a=r.range.endLineNumber,l=r.range.endColumn;if(o===a&&s===l&&r.text.length===0)continue;r.text?(this._pieceTree.delete(r.rangeOffset,r.rangeLength),this._pieceTree.insert(r.rangeOffset,r.text,!0)):this._pieceTree.delete(r.rangeOffset,r.rangeLength);let c=new z(o,s,a,l);t.push({range:c,rangeLength:r.rangeLength,text:r.text,rangeOffset:r.rangeOffset,forceMoveMarkers:r.forceMoveMarkers})}return t}findMatchesLineByLine(e,t,n,r){return this._pieceTree.findMatchesLineByLine(e,t,n,r)}getPieceTree(){return this._pieceTree}static _getInverseEditRange(e,t){let n=e.startLineNumber,r=e.startColumn,[o,s,a]=on(t),l;if(t.length>0){let c=o+1;c===1?l=new z(n,r,n,r+s):l=new z(n,r,n+c-1,a+1)}else l=new z(n,r,n,r);return l}static _getInverseEditRanges(e){let t=[],n=0,r=0,o=null;for(let s=0,a=e.length;s<a;s++){let l=e[s],c,u;o?o.range.endLineNumber===l.range.startLineNumber?(c=n,u=r+(l.range.startColumn-o.range.endColumn)):(c=n+(l.range.startLineNumber-o.range.endLineNumber),u=l.range.startColumn):(c=l.range.startLineNumber,u=l.range.startColumn);let p;if(l.text.length>0){let g=l.eolCount+1;g===1?p=new z(c,u,c,u+l.firstLineLength):p=new z(c,u,c+g-1,l.lastLineLength+1)}else p=new z(c,u,c,u);n=p.endLineNumber,r=p.endColumn,t.push(p),o=l}return t}static _sortOpsAscending(e,t){let n=z.compareRangesUsingEnds(e.range,t.range);return n===0?e.sortIndex-t.sortIndex:n}static _sortOpsDescending(e,t){let n=z.compareRangesUsingEnds(e.range,t.range);return n===0?t.sortIndex-e.sortIndex:-n}};var rb=class{constructor(e,t,n,r,o,s,a,l,c){this._chunks=e;this._bom=t;this._cr=n;this._lf=r;this._crlf=o;this._containsRTL=s;this._containsUnusualLineTerminators=a;this._isBasicASCII=l;this._normalizeEOL=c}_getEOL(e){let t=this._cr+this._lf+this._crlf,n=this._cr+this._crlf;return t===0?e===1?`
`:`\r
`:n>t/2?`\r
`:`
`}create(e){let t=this._getEOL(e),n=this._chunks;if(this._normalizeEOL&&(t===`\r
`&&(this._cr>0||this._lf>0)||t===`
`&&(this._cr>0||this._crlf>0)))for(let o=0,s=n.length;o<s;o++){let a=n[o].buffer.replace(/\r\n|\r|\n/g,t),l=wi(a);n[o]=new ki(a,l)}let r=new Xs(n,this._bom,t,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:r,disposable:r}}getFirstLineText(e){return this._chunks[0].buffer.substr(0,e).split(/\r\n|\r|\n/)[0]}},Zl=class{chunks;BOM;_hasPreviousChar;_previousChar;_tmpLineStarts;cr;lf;crlf;containsRTL;containsUnusualLineTerminators;isBasicASCII;constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(e){if(e.length===0)return;this.chunks.length===0&&sy(e)&&(this.BOM=oy,e=e.substr(1));let t=e.charCodeAt(e.length-1);t===13||t>=55296&&t<=56319?(this._acceptChunk1(e.substr(0,e.length-1),!1),this._hasPreviousChar=!0,this._previousChar=t):(this._acceptChunk1(e,!1),this._hasPreviousChar=!1,this._previousChar=t)}_acceptChunk1(e,t){!t&&e.length===0||(this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+e):this._acceptChunk2(e))}_acceptChunk2(e){let t=xx(this._tmpLineStarts,e);this.chunks.push(new ki(e,t.lineStarts)),this.cr+=t.cr,this.lf+=t.lf,this.crlf+=t.crlf,t.isBasicASCII||(this.isBasicASCII=!1,this.containsRTL||(this.containsRTL=Na(e)),this.containsUnusualLineTerminators||(this.containsUnusualLineTerminators=Hd(e)))}finish(e=!0){return this._finish(),new rb(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,e)}_finish(){if(this.chunks.length===0&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;let e=this.chunks[this.chunks.length-1];e.buffer+=String.fromCharCode(this._previousChar);let t=wi(e.buffer);e.lineStarts=t,this._previousChar===13&&this.cr++}}};var xw=new class{clone(){return this}equals(i){return this===i}};function Tx(i,e){let t=new Uint32Array(2);return t[0]=0,t[1]=(i<<0|0|0|32768|2<<24)>>>0,new Xc(t,e===null?xw:e)}var th=class{constructor(e){this._default=e}_store=[];get(e){return e<this._store.length?this._store[e]:this._default}set(e,t){for(;e>=this._store.length;)this._store[this._store.length]=this._default;this._store[e]=t}replace(e,t,n){if(e>=this._store.length)return;if(t===0){this.insert(e,n);return}else if(n===0){this.delete(e,t);return}let r=this._store.slice(0,e),o=this._store.slice(e+t),s=Tw(n,this._default);this._store=r.concat(s,o)}delete(e,t){t===0||e>=this._store.length||this._store.splice(e,t)}insert(e,t){if(t===0||e>=this._store.length)return;let n=[];for(let r=0;r<t;r++)n[r]=this._default;this._store=ur(this._store,e,n)}};function Tw(i,e){let t=[];for(let n=0;n<i;n++)t[n]=e;return t}var Uo=class{static deserialize(e){let t=0,n=xt(e,t);t+=4;let r=[];for(let o=0;o<n;o++)t=ml.deserialize(e,t,r);return r}_tokens;constructor(){this._tokens=[]}add(e,t){if(this._tokens.length>0){let n=this._tokens[this._tokens.length-1];if(n.endLineNumber+1===e){n.appendLineTokens(t);return}}this._tokens.push(new ml(e,[t]))}finalize(){return this._tokens}serialize(){let e=this._serializeSize(),t=new Uint8Array(e);return this._serialize(t),t}_serializeSize(){let e=0;e+=4;for(let t=0;t<this._tokens.length;t++)e+=this._tokens[t].serializeSize();return e}_serialize(e){let t=0;Tt(e,this._tokens.length,t),t+=4;for(let n=0;n<this._tokens.length;n++)t=this._tokens[n].serialize(e,t)}};var ob=class{constructor(e,t){this.tokenizationSupport=t;this.store=new Qs(e)}initialState=this.tokenizationSupport.getInitialState();store;getStartState(e){return this.store.getStartState(e,this.initialState)}getFirstInvalidLine(){return this.store.getFirstInvalidLine(this.initialState)}},nh=class extends ob{constructor(t,n,r,o){super(t,n);this._textModel=r;this._languageIdCodec=o}updateTokensUntilLine(t,n){let r=this._textModel.getLanguageId();for(;;){let o=this.getFirstInvalidLine();if(!o||o.lineNumber>n)break;let s=this._textModel.getLineContent(o.lineNumber),a=Zs(this._languageIdCodec,r,this.tokenizationSupport,s,!0,o.startState);t.add(o.lineNumber,a.tokens),this.store.setEndState(o.lineNumber,a.endState)}}getTokenTypeIfInsertingCharacter(t,n){let r=this.getStartState(t.lineNumber);if(!r)return 0;let o=this._textModel.getLanguageId(),s=this._textModel.getLineContent(t.lineNumber),a=s.substring(0,t.column-1)+n+s.substring(t.column-1),l=Zs(this._languageIdCodec,o,this.tokenizationSupport,a,!0,r),c=new Nt(l.tokens,a,this._languageIdCodec);if(c.getCount()===0)return 0;let u=c.findTokenIndexAtOffset(t.column-1);return c.getStandardTokenType(u)}tokenizeLineWithEdit(t,n){let r=this.getStartState(t);if(!r)return{mainLineTokens:null,additionalLines:null};let o=this._textModel.getLineContent(t),s=n.lineEdit.apply(o),a=this._textModel.getLanguageIdAtPosition(t,0),l=Zs(this._languageIdCodec,a,this.tokenizationSupport,s,!0,r),c=null;if(n.additionalLines){c=[];let p=l.endState;for(let g of n.additionalLines){let f=Zs(this._languageIdCodec,a,this.tokenizationSupport,g,!0,p);c.push(new Nt(f.tokens,g,this._languageIdCodec)),p=f.endState}}return{mainLineTokens:new Nt(l.tokens,s,this._languageIdCodec),additionalLines:c}}hasAccurateTokensForLine(t){let n=this.store.getFirstInvalidEndStateLineNumberOrMax();return t<n}isCheapToTokenize(t){let n=this.store.getFirstInvalidEndStateLineNumberOrMax();return t<n||t===n&&this._textModel.getLineLength(t)<2048}tokenizeHeuristically(t,n,r){if(r<=this.store.getFirstInvalidEndStateLineNumberOrMax())return{heuristicTokens:!1};if(n<=this.store.getFirstInvalidEndStateLineNumberOrMax())return this.updateTokensUntilLine(t,r),{heuristicTokens:!1};let o=this.guessStartState(n),s=this._textModel.getLanguageId();for(let a=n;a<=r;a++){let l=this._textModel.getLineContent(a),c=Zs(this._languageIdCodec,s,this.tokenizationSupport,l,!0,o);t.add(a,c.tokens),o=c.endState}return{heuristicTokens:!0}}guessStartState(t){let n=this._textModel.getLineFirstNonWhitespaceColumn(t),r=[],o=null;for(let l=t-1;n>1&&l>=1;l--){let c=this._textModel.getLineFirstNonWhitespaceColumn(l);if(c!==0&&c<n&&(r.push(this._textModel.getLineContent(l)),n=c,o=this.getStartState(l),o))break}o||(o=this.tokenizationSupport.getInitialState()),r.reverse();let s=this._textModel.getLanguageId(),a=o;for(let l of r)a=Zs(this._languageIdCodec,s,this.tokenizationSupport,l,!1,a).endState;return a}},Qs=class{constructor(e){this.lineCount=e;this._invalidEndStatesLineNumbers.addRange(new Ge(1,e+1))}_tokenizationStateStore=new sb;_invalidEndStatesLineNumbers=new ab;getEndState(e){return this._tokenizationStateStore.getEndState(e)}setEndState(e,t){if(!t)throw new _e("Cannot set null/undefined state");this._invalidEndStatesLineNumbers.delete(e);let n=this._tokenizationStateStore.setEndState(e,t);return n&&e<this.lineCount&&this._invalidEndStatesLineNumbers.addRange(new Ge(e+1,e+2)),n}acceptChange(e,t){this.lineCount+=t-e.length,this._tokenizationStateStore.acceptChange(e,t),this._invalidEndStatesLineNumbers.addRangeAndResize(new Ge(e.startLineNumber,e.endLineNumberExclusive),t)}acceptChanges(e){for(let t of e){let[n]=on(t.text);this.acceptChange(new zt(t.range.startLineNumber,t.range.endLineNumber+1),n+1)}}invalidateEndStateRange(e){this._invalidEndStatesLineNumbers.addRange(new Ge(e.startLineNumber,e.endLineNumberExclusive))}getFirstInvalidEndStateLineNumber(){return this._invalidEndStatesLineNumbers.min}getFirstInvalidEndStateLineNumberOrMax(){return this.getFirstInvalidEndStateLineNumber()||Number.MAX_SAFE_INTEGER}allStatesValid(){return this._invalidEndStatesLineNumbers.min===null}getStartState(e,t){return e===1?t:this.getEndState(e-1)}getFirstInvalidLine(e){let t=this.getFirstInvalidEndStateLineNumber();if(t===null)return null;let n=this.getStartState(t,e);if(!n)throw new _e("Start state must be defined");return{lineNumber:t,startState:n}}},sb=class{_lineEndStates=new th(null);getEndState(e){return this._lineEndStates.get(e)}setEndState(e,t){let n=this._lineEndStates.get(e);return n&&n.equals(t)?!1:(this._lineEndStates.set(e,t),!0)}acceptChange(e,t){let n=e.length;t>0&&n>0&&(n--,t--),this._lineEndStates.replace(e.startLineNumber,n,t)}acceptChanges(e){for(let t of e){let[n]=on(t.text);this.acceptChange(new zt(t.range.startLineNumber,t.range.endLineNumber+1),n+1)}}},ab=class{_ranges=[];getRanges(){return this._ranges}get min(){return this._ranges.length===0?null:this._ranges[0].start}removeMin(){if(this._ranges.length===0)return null;let e=this._ranges[0];return e.start+1===e.endExclusive?this._ranges.shift():this._ranges[0]=new Ge(e.start+1,e.endExclusive),e.start}delete(e){let t=this._ranges.findIndex(n=>n.contains(e));if(t!==-1){let n=this._ranges[t];n.start===e?n.endExclusive===e+1?this._ranges.splice(t,1):this._ranges[t]=new Ge(e+1,n.endExclusive):n.endExclusive===e+1?this._ranges[t]=new Ge(n.start,e):this._ranges.splice(t,1,new Ge(n.start,e),new Ge(e+1,n.endExclusive))}}addRange(e){Ge.addRange(e,this._ranges)}addRangeAndResize(e,t){let n=0;for(;!(n>=this._ranges.length||e.start<=this._ranges[n].endExclusive);)n++;let r=n;for(;!(r>=this._ranges.length||e.endExclusive<this._ranges[r].start);)r++;let o=t-e.length;for(let s=r;s<this._ranges.length;s++)this._ranges[s]=this._ranges[s].delta(o);if(n===r){let s=new Ge(e.start,e.start+t);s.isEmpty||this._ranges.splice(n,0,s)}else{let s=Math.min(e.start,this._ranges[n].start),a=Math.max(e.endExclusive,this._ranges[r-1].endExclusive),l=new Ge(s,a+o);l.isEmpty?this._ranges.splice(n,r-n):this._ranges.splice(n,r-n,l)}}toString(){return this._ranges.map(e=>e.toString()).join(" + ")}};function Zs(i,e,t,n,r,o){let s=null;if(t)try{s=t.tokenizeEncoded(n,r,o.clone())}catch(a){ot(a)}return s||(s=Tx(i.encodeLanguageId(e),o)),Nt.convertToEndOffset(s.tokens,n.length),s}var ih=class{constructor(e,t){this._tokenizerWithStateStore=e;this._backgroundTokenStore=t}_isDisposed=!1;dispose(){this._isDisposed=!0}handleChanges(){this._beginBackgroundTokenization()}_isScheduled=!1;_beginBackgroundTokenization(){this._isScheduled||!this._tokenizerWithStateStore._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._isScheduled=!0,Wp(e=>{this._isScheduled=!1,this._backgroundTokenizeWithDeadline(e)}))}_backgroundTokenizeWithDeadline(e){let t=Date.now()+e.timeRemaining(),n=()=>{this._isDisposed||!this._tokenizerWithStateStore._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._backgroundTokenizeForAtLeast1ms(),Date.now()<t?yd(n):this._beginBackgroundTokenization())};n()}_backgroundTokenizeForAtLeast1ms(){let e=this._tokenizerWithStateStore._textModel.getLineCount(),t=new Uo,n=ns.create(!1);do if(n.elapsed()>1||this._tokenizeOneInvalidLine(t)>=e)break;while(this._hasLinesToTokenize());this._backgroundTokenStore.setTokens(t.finalize()),this.checkFinished()}_hasLinesToTokenize(){return this._tokenizerWithStateStore?!this._tokenizerWithStateStore.store.allStatesValid():!1}_tokenizeOneInvalidLine(e){let t=this._tokenizerWithStateStore?.getFirstInvalidLine();return t?(this._tokenizerWithStateStore.updateTokensUntilLine(e,t.lineNumber),t.lineNumber):this._tokenizerWithStateStore._textModel.getLineCount()+1}checkFinished(){this._isDisposed||this._tokenizerWithStateStore.store.allStatesValid()&&this._backgroundTokenStore.backgroundTokenizationFinished()}requestTokens(e,t){this._tokenizerWithStateStore.store.invalidateEndStateRange(new zt(e,t))}};var rh=class{_onDidChangeVisibleRanges=new N;onDidChangeVisibleRanges=this._onDidChangeVisibleRanges.event;_views=new Set;attachView(){let e=new lb(t=>{this._onDidChangeVisibleRanges.fire({view:e,state:t})});return this._views.add(e),e}detachView(e){this._views.delete(e),this._onDidChangeVisibleRanges.fire({view:e,state:void 0})}},lb=class{constructor(e){this.handleStateChange=e}setVisibleLines(e,t){let n=e.map(r=>new zt(r.startLineNumber,r.endLineNumber+1));this.handleStateChange({visibleLineRanges:n,stabilized:t})}},oh=class extends U{constructor(t){super();this._refreshTokens=t}runner=this._register(new ji(()=>this.update(),50));_computedLineRanges=[];_lineRanges=[];get lineRanges(){return this._lineRanges}update(){Cn(this._computedLineRanges,this._lineRanges,(t,n)=>t.equals(n))||(this._computedLineRanges=this._lineRanges,this._refreshTokens())}handleStateChange(t){this._lineRanges=t.visibleLineRanges,t.stabilized?(this.runner.cancel(),this.update()):this.runner.schedule()}},Js=class extends U{constructor(t,n,r){super();this._languageIdCodec=t;this._textModel=n;this.getLanguageId=r}_backgroundTokenizationState=1;get backgroundTokenizationState(){return this._backgroundTokenizationState}_onDidChangeBackgroundTokenizationState=this._register(new N);onDidChangeBackgroundTokenizationState=this._onDidChangeBackgroundTokenizationState.event;_onDidChangeTokens=this._register(new N);onDidChangeTokens=this._onDidChangeTokens.event;tokenizeIfCheap(t){this.isCheapToTokenize(t)&&this.forceTokenization(t)}};var Cx=X("treeSitterParserService");var Ql=class extends Js{constructor(t,n,r,o){super(n,r,o);this._treeSitterService=t;this._initialize()}_tokenizationSupport=null;_lastLanguageId;_initialize(){let t=this.getLanguageId();(!this._tokenizationSupport||this._lastLanguageId!==t)&&(this._lastLanguageId=t,this._tokenizationSupport=bl.get(t))}getLineTokens(t){let n=this._textModel.getLineContent(t);if(this._tokenizationSupport){let r=this._tokenizationSupport.tokenizeEncoded(t,this._textModel);if(r)return new Nt(r,n,this._languageIdCodec)}return Nt.createEmpty(n,this._languageIdCodec)}resetTokenization(t=!0){t&&this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]}),this._initialize()}handleDidChangeAttached(){}handleDidChangeContent(t){t.isFlush&&this.resetTokenization(!1)}forceTokenization(t){}hasAccurateTokensForLine(t){return!0}isCheapToTokenize(t){return!0}getTokenTypeIfInsertingCharacter(t,n,r){return 0}tokenizeLineWithEdit(t,n){return{mainLineTokens:null,additionalLines:null}}get hasTokens(){return this._treeSitterService.getParseResult(this._textModel)!==void 0}};var Jl=class i{_lineTokens;_len;_languageIdCodec;constructor(e){this._lineTokens=[],this._len=0,this._languageIdCodec=e}flush(){this._lineTokens=[],this._len=0}get hasTokens(){return this._lineTokens.length>0}getTokens(e,t,n){let r=null;if(t<this._len&&(r=this._lineTokens[t]),r!==null&&r!==Ii)return new Nt(xi(r),n,this._languageIdCodec);let o=new Uint32Array(2);return o[0]=n.length,o[1]=Sx(this._languageIdCodec.encodeLanguageId(e)),new Nt(o,n,this._languageIdCodec)}static _massageTokens(e,t,n){let r=n?xi(n):null;if(t===0){let o=!1;if(r&&r.length>1&&(o=bn.getLanguageId(r[1])!==e),!o)return Ii}if(!r||r.length===0){let o=new Uint32Array(2);return o[0]=t,o[1]=Sx(e),o.buffer}return r[r.length-2]=t,r.byteOffset===0&&r.byteLength===r.buffer.byteLength?r.buffer:r}_ensureLine(e){for(;e>=this._len;)this._lineTokens[this._len]=null,this._len++}_deleteLines(e,t){t!==0&&(e+t>this._len&&(t=this._len-e),this._lineTokens.splice(e,t),this._len-=t)}_insertLines(e,t){if(t===0)return;let n=[];for(let r=0;r<t;r++)n[r]=null;this._lineTokens=ur(this._lineTokens,e,n),this._len+=t}setTokens(e,t,n,r,o){let s=i._massageTokens(this._languageIdCodec.encodeLanguageId(e),n,r);this._ensureLine(t);let a=this._lineTokens[t];return this._lineTokens[t]=s,o?!i._equals(a,s):!1}static _equals(e,t){if(!e||!t)return!e&&!t;let n=xi(e),r=xi(t);if(n.length!==r.length)return!1;for(let o=0,s=n.length;o<s;o++)if(n[o]!==r[o])return!1;return!0}acceptEdit(e,t,n){this._acceptDeleteRange(e),this._acceptInsertText(new xe(e.startLineNumber,e.startColumn),t,n)}_acceptDeleteRange(e){let t=e.startLineNumber-1;if(t>=this._len)return;if(e.startLineNumber===e.endLineNumber){if(e.startColumn===e.endColumn)return;this._lineTokens[t]=Ct.delete(this._lineTokens[t],e.startColumn-1,e.endColumn-1);return}this._lineTokens[t]=Ct.deleteEnding(this._lineTokens[t],e.startColumn-1);let n=e.endLineNumber-1,r=null;n<this._len&&(r=Ct.deleteBeginning(this._lineTokens[n],e.endColumn-1)),this._lineTokens[t]=Ct.append(this._lineTokens[t],r),this._deleteLines(e.startLineNumber,e.endLineNumber-e.startLineNumber)}_acceptInsertText(e,t,n){if(t===0&&n===0)return;let r=e.lineNumber-1;if(!(r>=this._len)){if(t===0){this._lineTokens[r]=Ct.insert(this._lineTokens[r],e.column-1,n);return}this._lineTokens[r]=Ct.deleteEnding(this._lineTokens[r],e.column-1),this._lineTokens[r]=Ct.insert(this._lineTokens[r],e.column-1,n),this._insertLines(e.lineNumber,t)}}setMultilineTokens(e,t){if(e.length===0)return{changes:[]};let n=[];for(let r=0,o=e.length;r<o;r++){let s=e[r],a=0,l=0,c=!1;for(let u=s.startLineNumber;u<=s.endLineNumber;u++)c?(this.setTokens(t.getLanguageId(),u-1,t.getLineLength(u),s.getLineTokens(u),!1),l=u):this.setTokens(t.getLanguageId(),u-1,t.getLineLength(u),s.getLineTokens(u),!0)&&(c=!0,a=u,l=u);c&&n.push({fromLineNumber:a,toLineNumber:l})}return{changes:n}}};function Sx(i){return(i<<0|0|0|32768|2<<24|1024)>>>0}var sh=class i{_pieces;_isComplete;_languageIdCodec;constructor(e){this._pieces=[],this._isComplete=!1,this._languageIdCodec=e}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return this._pieces.length===0}set(e,t){this._pieces=e||[],this._isComplete=t}setPartial(e,t){let n=e;if(t.length>0){let o=t[0].getRange(),s=t[t.length-1].getRange();if(!o||!s)return e;n=e.plusRange(o).plusRange(s)}let r=null;for(let o=0,s=this._pieces.length;o<s;o++){let a=this._pieces[o];if(a.endLineNumber<n.startLineNumber)continue;if(a.startLineNumber>n.endLineNumber){r=r||{index:o};break}if(a.removeTokens(n),a.isEmpty()){this._pieces.splice(o,1),o--,s--;continue}if(a.endLineNumber<n.startLineNumber)continue;if(a.startLineNumber>n.endLineNumber){r=r||{index:o};continue}let[l,c]=a.split(n);if(l.isEmpty()){r=r||{index:o};continue}c.isEmpty()||(this._pieces.splice(o,1,l,c),o++,s++,r=r||{index:o})}return r=r||{index:this._pieces.length},t.length>0&&(this._pieces=ur(this._pieces,r.index,t)),n}isComplete(){return this._isComplete}addSparseTokens(e,t){if(t.getLineContent().length===0)return t;let n=this._pieces;if(n.length===0)return t;let r=i._findFirstPieceWithLine(n,e),o=n[r].getLineTokens(e);if(!o)return t;let s=t.getCount(),a=o.getCount(),l=0,c=[],u=0,p=0,g=(f,T)=>{f!==p&&(p=f,c[u++]=f,c[u++]=T)};for(let f=0;f<a;f++){let T=o.getStartCharacter(f),m=o.getEndCharacter(f),x=o.getMetadata(f),w=((x&1?2048:0)|(x&2?4096:0)|(x&4?8192:0)|(x&8?16384:0)|(x&16?16744448:0)|(x&32?4278190080:0))>>>0,k=~w>>>0;for(;l<s&&t.getEndOffset(l)<=T;)g(t.getEndOffset(l),t.getMetadata(l)),l++;for(l<s&&t.getStartOffset(l)<T&&g(T,t.getMetadata(l));l<s&&t.getEndOffset(l)<m;)g(t.getEndOffset(l),t.getMetadata(l)&k|x&w),l++;if(l<s)g(m,t.getMetadata(l)&k|x&w),t.getEndOffset(l)===m&&l++;else{let L=Math.min(Math.max(0,l-1),s-1);g(m,t.getMetadata(L)&k|x&w)}}for(;l<s;)g(t.getEndOffset(l),t.getMetadata(l)),l++;return new Nt(new Uint32Array(c),t.getLineContent(),this._languageIdCodec)}static _findFirstPieceWithLine(e,t){let n=0,r=e.length-1;for(;n<r;){let o=n+Math.floor((r-n)/2);if(e[o].endLineNumber<t)n=o+1;else if(e[o].startLineNumber>t)r=o-1;else{for(;o>n&&e[o-1].startLineNumber<=t&&t<=e[o-1].endLineNumber;)o--;return o}}return n}acceptEdit(e,t,n,r,o){for(let s of this._pieces)s.acceptEdit(e,t,n,r,o)}};var or=class extends $s{constructor(t,n,r,o,s,a,l){super();this._textModel=t;this._bracketPairsTextModelPart=n;this._languageId=r;this._attachedViews=o;this._languageService=s;this._languageConfigurationService=a;this._treeSitterService=l;this._register(this._languageConfigurationService.onDidChange(c=>{c.affects(this._languageId)&&this._onDidChangeLanguageConfiguration.fire({})})),this._register(de.filter(bl.onDidChange,c=>c.changedLanguages.includes(this._languageId))(()=>{this.createPreferredTokenProvider()})),this.createPreferredTokenProvider()}_semanticTokens=new sh(this._languageService.languageIdCodec);_onDidChangeLanguage=this._register(new N);onDidChangeLanguage=this._onDidChangeLanguage.event;_onDidChangeLanguageConfiguration=this._register(new N);onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event;_onDidChangeTokens=this._register(new N);onDidChangeTokens=this._onDidChangeTokens.event;_tokens;_tokensDisposables=this._register(new be);createGrammarTokens(){return this._register(new ah(this._languageService.languageIdCodec,this._textModel,()=>this._languageId,this._attachedViews))}createTreeSitterTokens(){return this._register(new Ql(this._treeSitterService,this._languageService.languageIdCodec,this._textModel,()=>this._languageId))}createTokens(t){let n=this._tokens!==void 0;this._tokens?.dispose(),this._tokens=t?this.createTreeSitterTokens():this.createGrammarTokens(),this._tokensDisposables.clear(),this._tokensDisposables.add(this._tokens.onDidChangeTokens(r=>{this._emitModelTokensChangedEvent(r)})),this._tokensDisposables.add(this._tokens.onDidChangeBackgroundTokenizationState(r=>{this._bracketPairsTextModelPart.handleDidChangeBackgroundTokenizationState()})),n&&this._tokens.resetTokenization()}createPreferredTokenProvider(){bl.get(this._languageId)?this._tokens instanceof Ql||this.createTokens(!0):this._tokens instanceof ah||this.createTokens(!1)}_hasListeners(){return this._onDidChangeLanguage.hasListeners()||this._onDidChangeLanguageConfiguration.hasListeners()||this._onDidChangeTokens.hasListeners()}handleLanguageConfigurationServiceChange(t){t.affects(this._languageId)&&this._onDidChangeLanguageConfiguration.fire({})}handleDidChangeContent(t){if(t.isFlush)this._semanticTokens.flush();else if(!t.isEolChange)for(let n of t.changes){let[r,o,s]=on(n.text);this._semanticTokens.acceptEdit(n.range,r,o,s,n.text.length>0?n.text.charCodeAt(0):0)}this._tokens.handleDidChangeContent(t)}handleDidChangeAttached(){this._tokens.handleDidChangeAttached()}getLineTokens(t){this.validateLineNumber(t);let n=this._tokens.getLineTokens(t);return this._semanticTokens.addSparseTokens(t,n)}_emitModelTokensChangedEvent(t){this._textModel._isDisposing()||(this._bracketPairsTextModelPart.handleDidChangeTokens(t),this._onDidChangeTokens.fire(t))}validateLineNumber(t){if(t<1||t>this._textModel.getLineCount())throw new _e("Illegal value for lineNumber")}get hasTokens(){return this._tokens.hasTokens}resetTokenization(){this._tokens.resetTokenization()}get backgroundTokenizationState(){return this._tokens.backgroundTokenizationState}forceTokenization(t){this.validateLineNumber(t),this._tokens.forceTokenization(t)}hasAccurateTokensForLine(t){return this.validateLineNumber(t),this._tokens.hasAccurateTokensForLine(t)}isCheapToTokenize(t){return this.validateLineNumber(t),this._tokens.isCheapToTokenize(t)}tokenizeIfCheap(t){this.validateLineNumber(t),this._tokens.tokenizeIfCheap(t)}getTokenTypeIfInsertingCharacter(t,n,r){return this._tokens.getTokenTypeIfInsertingCharacter(t,n,r)}tokenizeLineWithEdit(t,n){return this._tokens.tokenizeLineWithEdit(t,n)}setSemanticTokens(t,n){this._semanticTokens.set(t,n),this._emitModelTokensChangedEvent({semanticTokensApplied:t!==null,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]})}hasCompleteSemanticTokens(){return this._semanticTokens.isComplete()}hasSomeSemanticTokens(){return!this._semanticTokens.isEmpty()}setPartialSemanticTokens(t,n){if(this.hasCompleteSemanticTokens())return;let r=this._textModel.validateRange(this._semanticTokens.setPartial(t,n));this._emitModelTokensChangedEvent({semanticTokensApplied:!0,ranges:[{fromLineNumber:r.startLineNumber,toLineNumber:r.endLineNumber}]})}getWordAtPosition(t){this.assertNotDisposed();let n=this._textModel.validatePosition(t),r=this._textModel.getLineContent(n.lineNumber),o=this.getLineTokens(n.lineNumber),s=o.findTokenIndexAtOffset(n.column-1),[a,l]=or._findLanguageBoundaries(o,s),c=mc(n.column,this.getLanguageConfiguration(o.getLanguageId(s)).getWordDefinition(),r.substring(a,l),a);if(c&&c.startColumn<=t.column&&t.column<=c.endColumn)return c;if(s>0&&a===n.column-1){let[u,p]=or._findLanguageBoundaries(o,s-1),g=mc(n.column,this.getLanguageConfiguration(o.getLanguageId(s-1)).getWordDefinition(),r.substring(u,p),u);if(g&&g.startColumn<=t.column&&t.column<=g.endColumn)return g}return null}getLanguageConfiguration(t){return this._languageConfigurationService.getLanguageConfiguration(t)}static _findLanguageBoundaries(t,n){let r=t.getLanguageId(n),o=0;for(let a=n;a>=0&&t.getLanguageId(a)===r;a--)o=t.getStartOffset(a);let s=t.getLineContent().length;for(let a=n,l=t.getCount();a<l&&t.getLanguageId(a)===r;a++)s=t.getEndOffset(a);return[o,s]}getWordUntilPosition(t){let n=this.getWordAtPosition(t);return n?{word:n.word.substr(0,t.column-n.startColumn),startColumn:n.startColumn,endColumn:t.column}:{word:"",startColumn:t.column,endColumn:t.column}}getLanguageId(){return this._languageId}getLanguageIdAtPosition(t,n){let r=this._textModel.validatePosition(new xe(t,n)),o=this.getLineTokens(r.lineNumber);return o.getLanguageId(o.findTokenIndexAtOffset(r.column-1))}setLanguageId(t,n="api"){if(this._languageId===t)return;let r={oldLanguage:this._languageId,newLanguage:t,source:n};this._languageId=t,this._bracketPairsTextModelPart.handleDidChangeLanguage(r),this._tokens.resetTokenization(),this.createPreferredTokenProvider(),this._onDidChangeLanguage.fire(r),this._onDidChangeLanguageConfiguration.fire({})}};or=ce([De(4,ws),De(5,xl),De(6,Cx)],or);var ah=class extends Js{_tokenizer=null;_defaultBackgroundTokenizer=null;_backgroundTokenizer=this._register(new Qt);_tokens=new Jl(this._languageIdCodec);_debugBackgroundTokens;_debugBackgroundStates;_debugBackgroundTokenizer=this._register(new Qt);_attachedViewStates=this._register(new no);constructor(e,t,n,r){super(e,t,n),this._register(Kf.onDidChange(o=>{let s=this.getLanguageId();o.changedLanguages.indexOf(s)!==-1&&this.resetTokenization()})),this.resetTokenization(),this._register(r.onDidChangeVisibleRanges(({view:o,state:s})=>{if(s){let a=this._attachedViewStates.get(o);a||(a=new oh(()=>this.refreshRanges(a.lineRanges)),this._attachedViewStates.set(o,a)),a.handleStateChange(s)}else this._attachedViewStates.deleteAndDispose(o)}))}resetTokenization(e=!0){this._tokens.flush(),this._debugBackgroundTokens?.flush(),this._debugBackgroundStates&&(this._debugBackgroundStates=new Qs(this._textModel.getLineCount())),e&&this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]});let t=()=>{if(this._textModel.isTooLargeForTokenization())return[null,null];let o=Kf.get(this.getLanguageId());if(!o)return[null,null];let s;try{s=o.getInitialState()}catch(a){return ot(a),[null,null]}return[o,s]},[n,r]=t();if(n&&r?this._tokenizer=new nh(this._textModel.getLineCount(),n,this._textModel,this._languageIdCodec):this._tokenizer=null,this._backgroundTokenizer.clear(),this._defaultBackgroundTokenizer=null,this._tokenizer){let o={setTokens:s=>{this.setTokens(s)},backgroundTokenizationFinished:()=>{if(this._backgroundTokenizationState===2)return;let s=2;this._backgroundTokenizationState=s,this._onDidChangeBackgroundTokenizationState.fire()},setEndState:(s,a)=>{if(!this._tokenizer)return;let l=this._tokenizer.store.getFirstInvalidEndStateLineNumber();l!==null&&s>=l&&this._tokenizer?.store.setEndState(s,a)}};n&&n.createBackgroundTokenizer&&!n.backgroundTokenizerShouldOnlyVerifyTokens&&(this._backgroundTokenizer.value=n.createBackgroundTokenizer(this._textModel,o)),!this._backgroundTokenizer.value&&!this._textModel.isTooLargeForTokenization()&&(this._backgroundTokenizer.value=this._defaultBackgroundTokenizer=new ih(this._tokenizer,o),this._defaultBackgroundTokenizer.handleChanges()),n?.backgroundTokenizerShouldOnlyVerifyTokens&&n.createBackgroundTokenizer?(this._debugBackgroundTokens=new Jl(this._languageIdCodec),this._debugBackgroundStates=new Qs(this._textModel.getLineCount()),this._debugBackgroundTokenizer.clear(),this._debugBackgroundTokenizer.value=n.createBackgroundTokenizer(this._textModel,{setTokens:s=>{this._debugBackgroundTokens?.setMultilineTokens(s,this._textModel)},backgroundTokenizationFinished(){},setEndState:(s,a)=>{this._debugBackgroundStates?.setEndState(s,a)}})):(this._debugBackgroundTokens=void 0,this._debugBackgroundStates=void 0,this._debugBackgroundTokenizer.value=void 0)}this.refreshAllVisibleLineTokens()}handleDidChangeAttached(){this._defaultBackgroundTokenizer?.handleChanges()}handleDidChangeContent(e){if(e.isFlush)this.resetTokenization(!1);else if(!e.isEolChange){for(let t of e.changes){let[n,r]=on(t.text);this._tokens.acceptEdit(t.range,n,r),this._debugBackgroundTokens?.acceptEdit(t.range,n,r)}this._debugBackgroundStates?.acceptChanges(e.changes),this._tokenizer&&this._tokenizer.store.acceptChanges(e.changes),this._defaultBackgroundTokenizer?.handleChanges()}}setTokens(e){let{changes:t}=this._tokens.setMultilineTokens(e,this._textModel);return t.length>0&&this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:t}),{changes:t}}refreshAllVisibleLineTokens(){let e=zt.joinMany([...this._attachedViewStates].map(([t,n])=>n.lineRanges));this.refreshRanges(e)}refreshRanges(e){for(let t of e)this.refreshRange(t.startLineNumber,t.endLineNumberExclusive-1)}refreshRange(e,t){if(!this._tokenizer)return;e=Math.max(1,Math.min(this._textModel.getLineCount(),e)),t=Math.min(this._textModel.getLineCount(),t);let n=new Uo,{heuristicTokens:r}=this._tokenizer.tokenizeHeuristically(n,e,t),o=this.setTokens(n.finalize());if(r)for(let s of o.changes)this._backgroundTokenizer.value?.requestTokens(s.fromLineNumber,s.toLineNumber+1);this._defaultBackgroundTokenizer?.checkFinished()}forceTokenization(e){let t=new Uo;this._tokenizer?.updateTokensUntilLine(t,e),this.setTokens(t.finalize()),this._defaultBackgroundTokenizer?.checkFinished()}hasAccurateTokensForLine(e){return this._tokenizer?this._tokenizer.hasAccurateTokensForLine(e):!0}isCheapToTokenize(e){return this._tokenizer?this._tokenizer.isCheapToTokenize(e):!0}getLineTokens(e){let t=this._textModel.getLineContent(e),n=this._tokens.getTokens(this._textModel.getLanguageId(),e-1,t);if(this._debugBackgroundTokens&&this._debugBackgroundStates&&this._tokenizer&&this._debugBackgroundStates.getFirstInvalidEndStateLineNumberOrMax()>e&&this._tokenizer.store.getFirstInvalidEndStateLineNumberOrMax()>e){let r=this._debugBackgroundTokens.getTokens(this._textModel.getLanguageId(),e-1,t);!n.equals(r)&&this._debugBackgroundTokenizer.value?.reportMismatchingTokens&&this._debugBackgroundTokenizer.value.reportMismatchingTokens(e)}return n}getTokenTypeIfInsertingCharacter(e,t,n){if(!this._tokenizer)return 0;let r=this._textModel.validatePosition(new xe(e,t));return this.forceTokenization(r.lineNumber),this._tokenizer.getTokenTypeIfInsertingCharacter(r,n)}tokenizeLineWithEdit(e,t){return this._tokenizer?(this.forceTokenization(e),this._tokenizer.tokenizeLineWithEdit(e,t)):{mainLineTokens:null,additionalLines:null}}get hasTokens(){return this._tokens.hasTokens}};function Cw(i){let e=new Zl;return e.acceptChunk(i),e.finish()}function Sw(i){let e=new Zl,t;for(;typeof(t=i.read())=="string";)e.acceptChunk(t);return e.finish()}function Ex(i,e){let t;return typeof i=="string"?t=Cw(i):s1(i)?t=Sw(i):t=i,t.create(e)}var lh=0,Ew=999,ww=1e4,cb=class{_source;_eos;constructor(e){this._source=e,this._eos=!1}read(){if(this._eos)return null;let e=[],t=0,n=0;do{let r=this._source.read();if(r===null)return this._eos=!0,t===0?null:e.join("");if(r.length>0&&(e[t++]=r,n+=r.length),n>=64*1024)return e.join("")}while(!0)}},ed=()=>{throw new Error("Invalid change accessor")};var Li=class extends U{constructor(t,n,r,o=null,s,a,l,c){super();this._undoRedoService=s;this._languageService=a;this._languageConfigurationService=l;this.instantiationService=c;lh++,this.id="$model"+lh,this.isForSimpleWidget=r.isForSimpleWidget,typeof o>"u"||o===null?this._associatedResource=oe.parse("inmemory://model/"+lh):this._associatedResource=o,this._attachedEditorCount=0;let{textBuffer:u,disposable:p}=Ex(t,r.defaultEOL);this._buffer=u,this._bufferDisposable=p,this._options=Li.resolveOptions(this._buffer,r);let g=typeof n=="string"?n:n.languageId;typeof n!="string"&&(this._languageSelectionListener.value=n.onDidChange(()=>this._setLanguage(n.languageId))),this._bracketPairs=this._register(new qu(this,this._languageConfigurationService)),this._guidesTextModelPart=this._register(new Xu(this,this._languageConfigurationService)),this._decorationProvider=this._register(new $u(this)),this._tokenizationTextModelPart=this.instantiationService.createInstance(or,this,this._bracketPairs,g,this._attachedViews);let f=this._buffer.getLineCount(),T=this._buffer.getValueLengthInRange(new z(1,1,f,this._buffer.getLineLength(f)+1),0);r.largeFileOptimizations?(this._isTooLargeForTokenization=T>Li.LARGE_FILE_SIZE_THRESHOLD||f>Li.LARGE_FILE_LINE_COUNT_THRESHOLD,this._isTooLargeForHeapOperation=T>Li.LARGE_FILE_HEAP_OPERATION_THRESHOLD):(this._isTooLargeForTokenization=!1,this._isTooLargeForHeapOperation=!1),this._isTooLargeForSyncing=T>Li._MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this.__isDisposing=!1,this._instanceId=ay(lh),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new ch,this._commandManager=new Yu(this,this._undoRedoService),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._register(this._decorationProvider.onDidChange(()=>{this._onDidChangeDecorations.beginDeferredEmit(),this._onDidChangeDecorations.fire(),this._onDidChangeDecorations.endDeferredEmit()})),this._languageService.requestRichLanguageFeatures(g),this._register(this._languageConfigurationService.onDidChange(m=>{this._bracketPairs.handleLanguageConfigurationServiceChange(m),this._tokenizationTextModelPart.handleLanguageConfigurationServiceChange(m)}))}static _MODEL_SYNC_LIMIT=50*1024*1024;static LARGE_FILE_SIZE_THRESHOLD=20*1024*1024;static LARGE_FILE_LINE_COUNT_THRESHOLD=300*1e3;static LARGE_FILE_HEAP_OPERATION_THRESHOLD=256*1024*1024;static DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:$t.tabSize,indentSize:$t.indentSize,insertSpaces:$t.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:$t.trimAutoWhitespace,largeFileOptimizations:$t.largeFileOptimizations,bracketPairColorizationOptions:$t.bracketPairColorizationOptions};static resolveOptions(t,n){if(n.detectIndentation){let r=Gm(t,n.tabSize,n.insertSpaces);return new Ms({tabSize:r.tabSize,indentSize:"tabSize",insertSpaces:r.insertSpaces,trimAutoWhitespace:n.trimAutoWhitespace,defaultEOL:n.defaultEOL,bracketPairColorizationOptions:n.bracketPairColorizationOptions})}return new Ms(n)}_onWillDispose=this._register(new N);onWillDispose=this._onWillDispose.event;_onDidChangeDecorations=this._register(new gb(t=>this.handleBeforeFireDecorationsChangedEvent(t)));onDidChangeDecorations=this._onDidChangeDecorations.event;get onDidChangeLanguage(){return this._tokenizationTextModelPart.onDidChangeLanguage}get onDidChangeLanguageConfiguration(){return this._tokenizationTextModelPart.onDidChangeLanguageConfiguration}get onDidChangeTokens(){return this._tokenizationTextModelPart.onDidChangeTokens}_onDidChangeOptions=this._register(new N);onDidChangeOptions=this._onDidChangeOptions.event;_onDidChangeAttached=this._register(new N);onDidChangeAttached=this._onDidChangeAttached.event;_onDidChangeInjectedText=this._register(new N);_eventEmitter=this._register(new fb);onDidChangeContent(t){return this._eventEmitter.slowEvent(n=>t(n.contentChangedEvent))}onDidChangeContentOrInjectedText(t){return Qo(this._eventEmitter.fastEvent(n=>t(n)),this._onDidChangeInjectedText.event(n=>t(n)))}id;isForSimpleWidget;_associatedResource;_attachedEditorCount;_buffer;_bufferDisposable;_options;_languageSelectionListener=this._register(new Qt);_isDisposed;__isDisposing;_isDisposing(){return this.__isDisposing}_versionId;_alternativeVersionId;_initialUndoRedoSnapshot;_isTooLargeForSyncing;_isTooLargeForTokenization;_isTooLargeForHeapOperation;_commandManager;_isUndoing;_isRedoing;_trimAutoWhitespaceLines;_instanceId;_deltaDecorationCallCnt=0;_lastDecorationId;_decorations;_decorationsTree;_decorationProvider;_tokenizationTextModelPart;get tokenization(){return this._tokenizationTextModelPart}_bracketPairs;get bracketPairs(){return this._bracketPairs}_guidesTextModelPart;get guides(){return this._guidesTextModelPart}_attachedViews=new rh;dispose(){this.__isDisposing=!0,this._onWillDispose.fire(),this._tokenizationTextModelPart.dispose(),this._isDisposed=!0,super.dispose(),this._bufferDisposable.dispose(),this.__isDisposing=!1;let t=new Xs([],"",`
`,!1,!1,!0,!0);t.dispose(),this._buffer=t,this._bufferDisposable=U.None}_hasListeners(){return this._onWillDispose.hasListeners()||this._onDidChangeDecorations.hasListeners()||this._tokenizationTextModelPart._hasListeners()||this._onDidChangeOptions.hasListeners()||this._onDidChangeAttached.hasListeners()||this._onDidChangeInjectedText.hasListeners()||this._eventEmitter.hasListeners()}_assertNotDisposed(){if(this._isDisposed)throw new _e("Model is disposed!")}equalsTextBuffer(t){return this._assertNotDisposed(),this._buffer.equals(t)}getTextBuffer(){return this._assertNotDisposed(),this._buffer}_emitContentChangedEvent(t,n){this.__isDisposing||(this._tokenizationTextModelPart.handleDidChangeContent(n),this._bracketPairs.handleDidChangeContent(n),this._eventEmitter.fire(new Tu(t,n)))}setValue(t){if(this._assertNotDisposed(),t==null)throw Yr();let{textBuffer:n,disposable:r}=Ex(t,this._options.defaultEOL);this._setValueFromTextBuffer(n,r)}_createContentChanged2(t,n,r,o,s,a,l,c){return{changes:[{range:t,rangeOffset:n,rangeLength:r,text:o}],eol:this._buffer.getEOL(),isEolChange:c,versionId:this.getVersionId(),isUndoing:s,isRedoing:a,isFlush:l}}_setValueFromTextBuffer(t,n){this._assertNotDisposed();let r=this.getFullModelRange(),o=this.getValueLengthInRange(r),s=this.getLineCount(),a=this.getLineMaxColumn(s);this._buffer=t,this._bufferDisposable.dispose(),this._bufferDisposable=n,this._increaseVersionId(),this._decorations=Object.create(null),this._decorationsTree=new ch,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new Oo([new bu],this._versionId,!1,!1),this._createContentChanged2(new z(1,1,s,a),0,o,this.getValue(),!1,!1,!0,!1))}setEOL(t){this._assertNotDisposed();let n=t===1?`\r
`:`
`;if(this._buffer.getEOL()===n)return;let r=this.getFullModelRange(),o=this.getValueLengthInRange(r),s=this.getLineCount(),a=this.getLineMaxColumn(s);this._onBeforeEOLChange(),this._buffer.setEOL(n),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new Oo([new Iu],this._versionId,!1,!1),this._createContentChanged2(new z(1,1,s,a),0,o,this.getValue(),!1,!1,!1,!0))}_onBeforeEOLChange(){this._decorationsTree.ensureAllNodesHaveRanges(this)}_onAfterEOLChange(){let t=this.getVersionId(),n=this._decorationsTree.collectNodesPostOrder();for(let r=0,o=n.length;r<o;r++){let s=n[r],a=s.range,l=s.cachedAbsoluteStart-s.start,c=this._buffer.getOffsetAt(a.startLineNumber,a.startColumn),u=this._buffer.getOffsetAt(a.endLineNumber,a.endColumn);s.cachedAbsoluteStart=c,s.cachedAbsoluteEnd=u,s.cachedVersionId=t,s.start=c-l,s.end=u-l,nr(s)}}onBeforeAttached(){return this._attachedEditorCount++,this._attachedEditorCount===1&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0)),this._attachedViews.attachView()}onBeforeDetached(t){this._attachedEditorCount--,this._attachedEditorCount===0&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0)),this._attachedViews.detachView(t)}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isTooLargeForHeapOperation(){return this._isTooLargeForHeapOperation}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let t=0,n=0,r=this._buffer.getLineCount();for(let o=1;o<=r;o++){let s=this._buffer.getLineLength(o);s>=ww?n+=s:t+=s}return n>t}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions(t){this._assertNotDisposed();let n=typeof t.tabSize<"u"?t.tabSize:this._options.tabSize,r=typeof t.indentSize<"u"?t.indentSize:this._options.originalIndentSize,o=typeof t.insertSpaces<"u"?t.insertSpaces:this._options.insertSpaces,s=typeof t.trimAutoWhitespace<"u"?t.trimAutoWhitespace:this._options.trimAutoWhitespace,a=typeof t.bracketColorizationOptions<"u"?t.bracketColorizationOptions:this._options.bracketPairColorizationOptions,l=new Ms({tabSize:n,indentSize:r,insertSpaces:o,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:s,bracketPairColorizationOptions:a});if(this._options.equals(l))return;let c=this._options.createChangeEvent(l);this._options=l,this._bracketPairs.handleDidChangeOptions(c),this._decorationProvider.handleDidChangeOptions(c),this._onDidChangeOptions.fire(c)}detectIndentation(t,n){this._assertNotDisposed();let r=Gm(this._buffer,n,t);this.updateOptions({insertSpaces:r.insertSpaces,tabSize:r.tabSize,indentSize:r.tabSize})}normalizeIndentation(t){return this._assertNotDisposed(),sm(t,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators(t=null){let n=this.findMatches(Op.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations(t,n.map(r=>({range:r.range,text:null})),()=>null)}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getInitialUndoRedoSnapshot(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}getOffsetAt(t){this._assertNotDisposed();let n=this._validatePosition(t.lineNumber,t.column,0);return this._buffer.getOffsetAt(n.lineNumber,n.column)}getPositionAt(t){this._assertNotDisposed();let n=Math.min(this._buffer.getLength(),Math.max(0,t));return this._buffer.getPositionAt(n)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId(t){this._versionId=t}_overwriteAlternativeVersionId(t){this._alternativeVersionId=t}_overwriteInitialUndoRedoSnapshot(t){this._initialUndoRedoSnapshot=t}getValue(t,n=!1){if(this._assertNotDisposed(),this.isTooLargeForHeapOperation())throw new _e("Operation would exceed heap memory limits");let r=this.getFullModelRange(),o=this.getValueInRange(r,t);return n?this._buffer.getBOM()+o:o}createSnapshot(t=!1){return new cb(this._buffer.createSnapshot(t))}getValueLength(t,n=!1){this._assertNotDisposed();let r=this.getFullModelRange(),o=this.getValueLengthInRange(r,t);return n?this._buffer.getBOM().length+o:o}getValueInRange(t,n=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(t),n)}getValueLengthInRange(t,n=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(t),n)}getCharacterCountInRange(t,n=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(t),n)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent(t){if(this._assertNotDisposed(),t<1||t>this.getLineCount())throw new _e("Illegal value for lineNumber");return this._buffer.getLineContent(t)}getLineLength(t){if(this._assertNotDisposed(),t<1||t>this.getLineCount())throw new _e("Illegal value for lineNumber");return this._buffer.getLineLength(t)}getLinesContent(){if(this._assertNotDisposed(),this.isTooLargeForHeapOperation())throw new _e("Operation would exceed heap memory limits");return this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getEndOfLineSequence(){return this._assertNotDisposed(),this._buffer.getEOL()===`
`?0:1}getLineMinColumn(t){return this._assertNotDisposed(),1}getLineMaxColumn(t){if(this._assertNotDisposed(),t<1||t>this.getLineCount())throw new _e("Illegal value for lineNumber");return this._buffer.getLineLength(t)+1}getLineFirstNonWhitespaceColumn(t){if(this._assertNotDisposed(),t<1||t>this.getLineCount())throw new _e("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(t)}getLineLastNonWhitespaceColumn(t){if(this._assertNotDisposed(),t<1||t>this.getLineCount())throw new _e("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(t)}_validateRangeRelaxedNoAllocations(t){let n=this._buffer.getLineCount(),r=t.startLineNumber,o=t.startColumn,s=Math.floor(typeof r=="number"&&!isNaN(r)?r:1),a=Math.floor(typeof o=="number"&&!isNaN(o)?o:1);if(s<1)s=1,a=1;else if(s>n)s=n,a=this.getLineMaxColumn(s);else if(a<=1)a=1;else{let g=this.getLineMaxColumn(s);a>=g&&(a=g)}let l=t.endLineNumber,c=t.endColumn,u=Math.floor(typeof l=="number"&&!isNaN(l)?l:1),p=Math.floor(typeof c=="number"&&!isNaN(c)?c:1);if(u<1)u=1,p=1;else if(u>n)u=n,p=this.getLineMaxColumn(u);else if(p<=1)p=1;else{let g=this.getLineMaxColumn(u);p>=g&&(p=g)}return r===s&&o===a&&l===u&&c===p&&t instanceof z&&!(t instanceof Rr)?t:new z(s,a,u,p)}_isValidPosition(t,n,r){if(typeof t!="number"||typeof n!="number"||isNaN(t)||isNaN(n)||t<1||n<1||(t|0)!==t||(n|0)!==n)return!1;let o=this._buffer.getLineCount();if(t>o)return!1;if(n===1)return!0;let s=this.getLineMaxColumn(t);if(n>s)return!1;if(r===1){let a=this._buffer.getLineCharCode(t,n-2);if(pn(a))return!1}return!0}_validatePosition(t,n,r){let o=Math.floor(typeof t=="number"&&!isNaN(t)?t:1),s=Math.floor(typeof n=="number"&&!isNaN(n)?n:1),a=this._buffer.getLineCount();if(o<1)return new xe(1,1);if(o>a)return new xe(a,this.getLineMaxColumn(a));if(s<=1)return new xe(o,1);let l=this.getLineMaxColumn(o);if(s>=l)return new xe(o,l);if(r===1){let c=this._buffer.getLineCharCode(o,s-2);if(pn(c))return new xe(o,s-1)}return new xe(o,s)}validatePosition(t){let n=1;return this._assertNotDisposed(),t instanceof xe&&this._isValidPosition(t.lineNumber,t.column,n)?t:this._validatePosition(t.lineNumber,t.column,n)}_isValidRange(t,n){let r=t.startLineNumber,o=t.startColumn,s=t.endLineNumber,a=t.endColumn;if(!this._isValidPosition(r,o,0)||!this._isValidPosition(s,a,0))return!1;if(n===1){let l=o>1?this._buffer.getLineCharCode(r,o-2):0,c=a>1&&a<=this._buffer.getLineLength(s)?this._buffer.getLineCharCode(s,a-2):0,u=pn(l),p=pn(c);return!u&&!p}return!0}validateRange(t){let n=1;if(this._assertNotDisposed(),t instanceof z&&!(t instanceof Rr)&&this._isValidRange(t,n))return t;let r=this._validatePosition(t.startLineNumber,t.startColumn,0),o=this._validatePosition(t.endLineNumber,t.endColumn,0),s=r.lineNumber,a=r.column,l=o.lineNumber,c=o.column;if(n===1){let u=a>1?this._buffer.getLineCharCode(s,a-2):0,p=c>1&&c<=this._buffer.getLineLength(l)?this._buffer.getLineCharCode(l,c-2):0,g=pn(u),f=pn(p);return!g&&!f?new z(s,a,l,c):s===l&&a===c?new z(s,a-1,l,c-1):g&&f?new z(s,a-1,l,c+1):g?new z(s,a-1,l,c):new z(s,a,l,c+1)}return new z(s,a,l,c)}modifyPosition(t,n){this._assertNotDisposed();let r=this.getOffsetAt(t)+n;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,r)))}getFullModelRange(){this._assertNotDisposed();let t=this.getLineCount();return new z(1,1,t,this.getLineMaxColumn(t))}findMatchesLineByLine(t,n,r,o){return this._buffer.findMatchesLineByLine(t,n,r,o)}findMatches(t,n,r,o,s,a,l=Ew){this._assertNotDisposed();let c=null;n!==null&&(Array.isArray(n)||(n=[n]),n.every(g=>z.isIRange(g))&&(c=n.map(g=>this.validateRange(g)))),c===null&&(c=[this.getFullModelRange()]),c=c.sort((g,f)=>g.startLineNumber-f.startLineNumber||g.startColumn-f.startColumn);let u=[];u.push(c.reduce((g,f)=>z.areIntersecting(g,f)?g.plusRange(f):(u.push(g),f)));let p;if(!r&&t.indexOf(`
`)<0){let f=new ir(t,r,o,s).parseSearchRequest();if(!f)return[];p=T=>this.findMatchesLineByLine(T,f,a,l)}else p=g=>zo.findMatches(this,new ir(t,r,o,s),g,a,l);return u.map(p).reduce((g,f)=>g.concat(f),[])}findNextMatch(t,n,r,o,s,a){this._assertNotDisposed();let l=this.validatePosition(n);if(!r&&t.indexOf(`
`)<0){let u=new ir(t,r,o,s).parseSearchRequest();if(!u)return null;let p=this.getLineCount(),g=new z(l.lineNumber,l.column,p,this.getLineMaxColumn(p)),f=this.findMatchesLineByLine(g,u,a,1);return zo.findNextMatch(this,new ir(t,r,o,s),l,a),f.length>0||(g=new z(1,1,l.lineNumber,this.getLineMaxColumn(l.lineNumber)),f=this.findMatchesLineByLine(g,u,a,1),f.length>0)?f[0]:null}return zo.findNextMatch(this,new ir(t,r,o,s),l,a)}findPreviousMatch(t,n,r,o,s,a){this._assertNotDisposed();let l=this.validatePosition(n);return zo.findPreviousMatch(this,new ir(t,r,o,s),l,a)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL(t){if((this.getEOL()===`
`?0:1)!==t)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL(t)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation(t){return t instanceof Ns?t:new Ns(t.identifier||null,this.validateRange(t.range),t.text,t.forceMoveMarkers||!1,t.isAutoWhitespaceEdit||!1,t._isTracked||!1)}_validateEditOperations(t){let n=[];for(let r=0,o=t.length;r<o;r++)n[r]=this._validateEditOperation(t[r]);return n}pushEditOperations(t,n,r,o){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(t,this._validateEditOperations(n),r,o)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations(t,n,r,o){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){let s=n.map(l=>({range:this.validateRange(l.range),text:l.text})),a=!0;if(t)for(let l=0,c=t.length;l<c;l++){let u=t[l],p=!1;for(let g=0,f=s.length;g<f;g++){let T=s[g].range,m=T.startLineNumber>u.endLineNumber,x=u.startLineNumber>T.endLineNumber;if(!m&&!x){p=!0;break}}if(!p){a=!1;break}}if(a)for(let l=0,c=this._trimAutoWhitespaceLines.length;l<c;l++){let u=this._trimAutoWhitespaceLines[l],p=this.getLineMaxColumn(u),g=!0;for(let f=0,T=s.length;f<T;f++){let m=s[f].range,x=s[f].text;if(!(u<m.startLineNumber||u>m.endLineNumber)&&!(u===m.startLineNumber&&m.startColumn===p&&m.isEmpty()&&x&&x.length>0&&x.charAt(0)===`
`)&&!(u===m.startLineNumber&&m.startColumn===1&&m.isEmpty()&&x&&x.length>0&&x.charAt(x.length-1)===`
`)){g=!1;break}}if(g){let f=new z(u,1,u,p);n.push(new Ns(null,f,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation(t,n,r,o)}_applyUndo(t,n,r,o){let s=t.map(a=>{let l=this.getPositionAt(a.newPosition),c=this.getPositionAt(a.newEnd);return{range:new z(l.lineNumber,l.column,c.lineNumber,c.column),text:a.oldText}});this._applyUndoRedoEdits(s,n,!0,!1,r,o)}_applyRedo(t,n,r,o){let s=t.map(a=>{let l=this.getPositionAt(a.oldPosition),c=this.getPositionAt(a.oldEnd);return{range:new z(l.lineNumber,l.column,c.lineNumber,c.column),text:a.newText}});this._applyUndoRedoEdits(s,n,!1,!0,r,o)}_applyUndoRedoEdits(t,n,r,o,s,a){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=r,this._isRedoing=o,this.applyEdits(t,!1),this.setEOL(n),this._overwriteAlternativeVersionId(s)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(a),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits(t,n=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();let r=this._validateEditOperations(t);return this._doApplyEdits(r,n)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits(t,n){let r=this._buffer.getLineCount(),o=this._buffer.applyEdits(t,this._options.trimAutoWhitespace,n),s=this._buffer.getLineCount(),a=o.changes;if(this._trimAutoWhitespaceLines=o.trimAutoWhitespaceLineNumbers,a.length!==0){for(let u=0,p=a.length;u<p;u++){let g=a[u];this._decorationsTree.acceptReplace(g.rangeOffset,g.rangeLength,g.text.length,g.forceMoveMarkers)}let l=[];this._increaseVersionId();let c=r;for(let u=0,p=a.length;u<p;u++){let g=a[u],[f]=on(g.text);this._onDidChangeDecorations.fire();let T=g.range.startLineNumber,m=g.range.endLineNumber,x=m-T,w=f,k=Math.min(x,w),L=w-x,A=s-c-L+T,M=A,P=A+w,ie=this._decorationsTree.getInjectedTextInInterval(this,this.getOffsetAt(new xe(M,1)),this.getOffsetAt(new xe(P,this.getLineMaxColumn(P))),0),ee=Ll.fromDecorations(ie),te=new Xr(ee);for(let ne=k;ne>=0;ne--){let ye=T+ne,Ke=A+ne;te.takeFromEndWhile(Ye=>Ye.lineNumber>Ke);let qe=te.takeFromEndWhile(Ye=>Ye.lineNumber===Ke);l.push(new Dl(ye,this.getLineContent(Ke),qe))}if(k<x){let ne=T+k;l.push(new vu(ne+1,m))}if(k<w){let ne=new Xr(ee),ye=T+k,Ke=w-k,qe=s-c-Ke+ye+1,Ye=[],G=[];for(let F=0;F<Ke;F++){let V=qe+F;G[F]=this.getLineContent(V),ne.takeWhile(W=>W.lineNumber<V),Ye[F]=ne.takeWhile(W=>W.lineNumber===V)}l.push(new yu(ye+1,T+w,G,Ye))}c+=L}this._emitContentChangedEvent(new Oo(l,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:a,eol:this._buffer.getEOL(),isEolChange:!1,versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return o.reverseEdits===null?void 0:o.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}handleBeforeFireDecorationsChangedEvent(t){if(t===null||t.size===0)return;let r=Array.from(t).map(o=>new Dl(o,this.getLineContent(o),this._getInjectedTextInLine(o)));this._onDidChangeInjectedText.fire(new xu(r))}changeDecorations(t,n=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(n,t)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations(t,n){let r={addDecoration:(s,a)=>this._deltaDecorationsImpl(t,[],[{range:s,options:a}])[0],changeDecoration:(s,a)=>{this._changeDecorationImpl(s,a)},changeDecorationOptions:(s,a)=>{this._changeDecorationOptionsImpl(s,kx(a))},removeDecoration:s=>{this._deltaDecorationsImpl(t,[s],[])},deltaDecorations:(s,a)=>s.length===0&&a.length===0?[]:this._deltaDecorationsImpl(t,s,a)},o=null;try{o=n(r)}catch(s){ot(s)}return r.addDecoration=ed,r.changeDecoration=ed,r.changeDecorationOptions=ed,r.removeDecoration=ed,r.deltaDecorations=ed,o}deltaDecorations(t,n,r=0){if(this._assertNotDisposed(),t||(t=[]),t.length===0&&n.length===0)return[];try{return this._deltaDecorationCallCnt++,this._deltaDecorationCallCnt>1&&(console.warn("Invoking deltaDecorations recursively could lead to leaking decorations."),ot(new Error("Invoking deltaDecorations recursively could lead to leaking decorations."))),this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(r,t,n)}finally{this._onDidChangeDecorations.endDeferredEmit(),this._deltaDecorationCallCnt--}}_getTrackedRange(t){return this.getDecorationRange(t)}_setTrackedRange(t,n,r){let o=t?this._decorations[t]:null;if(!o)return n?this._deltaDecorationsImpl(0,[],[{range:n,options:wx[r]}],!0)[0]:null;if(!n)return this._decorationsTree.delete(o),delete this._decorations[o.id],null;let s=this._validateRangeRelaxedNoAllocations(n),a=this._buffer.getOffsetAt(s.startLineNumber,s.startColumn),l=this._buffer.getOffsetAt(s.endLineNumber,s.endColumn);return this._decorationsTree.delete(o),o.reset(this.getVersionId(),a,l,s),o.setOptions(wx[r]),this._decorationsTree.insert(o),o.id}removeAllDecorationsWithOwnerId(t){if(this._isDisposed)return;let n=this._decorationsTree.collectNodesFromOwner(t);for(let r=0,o=n.length;r<o;r++){let s=n[r];this._decorationsTree.delete(s),delete this._decorations[s.id]}}getDecorationOptions(t){let n=this._decorations[t];return n?n.options:null}getDecorationRange(t){let n=this._decorations[t];return n?this._decorationsTree.getNodeRange(this,n):null}getLineDecorations(t,n=0,r=!1){return t<1||t>this.getLineCount()?[]:this.getLinesDecorations(t,t,n,r)}getLinesDecorations(t,n,r=0,o=!1,s=!1){let a=this.getLineCount(),l=Math.min(a,Math.max(1,t)),c=Math.min(a,Math.max(1,n)),u=this.getLineMaxColumn(c),p=new z(l,1,c,u),g=this._getDecorationsInRange(p,r,o,s);return Yh(g,this._decorationProvider.getDecorationsInRange(p,r,o)),g}getDecorationsInRange(t,n=0,r=!1,o=!1,s=!1){let a=this.validateRange(t),l=this._getDecorationsInRange(a,n,r,s);return Yh(l,this._decorationProvider.getDecorationsInRange(a,n,r,o)),l}getOverviewRulerDecorations(t=0,n=!1){return this._decorationsTree.getAll(this,t,n,!0,!1)}getInjectedTextDecorations(t=0){return this._decorationsTree.getAllInjectedText(this,t)}_getInjectedTextInLine(t){let n=this._buffer.getOffsetAt(t,1),r=n+this._buffer.getLineLength(t),o=this._decorationsTree.getInjectedTextInInterval(this,n,r,0);return Ll.fromDecorations(o).filter(s=>s.lineNumber===t)}getAllDecorations(t=0,n=!1){let r=this._decorationsTree.getAll(this,t,n,!1,!1);return r=r.concat(this._decorationProvider.getAllDecorations(t,n)),r}getAllMarginDecorations(t=0){return this._decorationsTree.getAll(this,t,!1,!1,!0)}_getDecorationsInRange(t,n,r,o){let s=this._buffer.getOffsetAt(t.startLineNumber,t.startColumn),a=this._buffer.getOffsetAt(t.endLineNumber,t.endColumn);return this._decorationsTree.getAllInInterval(this,s,a,n,r,o)}getRangeAt(t,n){return this._buffer.getRangeAt(t,n-t)}_changeDecorationImpl(t,n){let r=this._decorations[t];if(!r)return;if(r.options.after){let l=this.getDecorationRange(t);this._onDidChangeDecorations.recordLineAffectedByInjectedText(l.endLineNumber)}if(r.options.before){let l=this.getDecorationRange(t);this._onDidChangeDecorations.recordLineAffectedByInjectedText(l.startLineNumber)}let o=this._validateRangeRelaxedNoAllocations(n),s=this._buffer.getOffsetAt(o.startLineNumber,o.startColumn),a=this._buffer.getOffsetAt(o.endLineNumber,o.endColumn);this._decorationsTree.delete(r),r.reset(this.getVersionId(),s,a,o),this._decorationsTree.insert(r),this._onDidChangeDecorations.checkAffectedAndFire(r.options),r.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(o.endLineNumber),r.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(o.startLineNumber)}_changeDecorationOptionsImpl(t,n){let r=this._decorations[t];if(!r)return;let o=!!(r.options.overviewRuler&&r.options.overviewRuler.color),s=!!(n.overviewRuler&&n.overviewRuler.color);if(this._onDidChangeDecorations.checkAffectedAndFire(r.options),this._onDidChangeDecorations.checkAffectedAndFire(n),r.options.after||n.after){let c=this._decorationsTree.getNodeRange(this,r);this._onDidChangeDecorations.recordLineAffectedByInjectedText(c.endLineNumber)}if(r.options.before||n.before){let c=this._decorationsTree.getNodeRange(this,r);this._onDidChangeDecorations.recordLineAffectedByInjectedText(c.startLineNumber)}let a=o!==s,l=_w(n)!==dh(r);a||l?(this._decorationsTree.delete(r),r.setOptions(n),this._decorationsTree.insert(r)):r.setOptions(n)}_deltaDecorationsImpl(t,n,r,o=!1){let s=this.getVersionId(),a=n.length,l=0,c=r.length,u=0;this._onDidChangeDecorations.beginDeferredEmit();try{let p=new Array(c);for(;l<a||u<c;){let g=null;if(l<a){do g=this._decorations[n[l++]];while(!g&&l<a);if(g){if(g.options.after){let f=this._decorationsTree.getNodeRange(this,g);this._onDidChangeDecorations.recordLineAffectedByInjectedText(f.endLineNumber)}if(g.options.before){let f=this._decorationsTree.getNodeRange(this,g);this._onDidChangeDecorations.recordLineAffectedByInjectedText(f.startLineNumber)}this._decorationsTree.delete(g),o||this._onDidChangeDecorations.checkAffectedAndFire(g.options)}}if(u<c){if(!g){let k=++this._lastDecorationId,L=`${this._instanceId};${k}`;g=new $l(L,0,0),this._decorations[L]=g}let f=r[u],T=this._validateRangeRelaxedNoAllocations(f.range),m=kx(f.options),x=this._buffer.getOffsetAt(T.startLineNumber,T.startColumn),w=this._buffer.getOffsetAt(T.endLineNumber,T.endColumn);g.ownerId=t,g.reset(s,x,w,T),g.setOptions(m),g.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(T.endLineNumber),g.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(T.startLineNumber),o||this._onDidChangeDecorations.checkAffectedAndFire(m),this._decorationsTree.insert(g),p[u]=g.id,u++}else g&&delete this._decorations[g.id]}return p}finally{this._onDidChangeDecorations.endDeferredEmit()}}getLanguageId(){return this.tokenization.getLanguageId()}setLanguage(t,n){typeof t=="string"?(this._languageSelectionListener.clear(),this._setLanguage(t,n)):(this._languageSelectionListener.value=t.onDidChange(()=>this._setLanguage(t.languageId,n)),this._setLanguage(t.languageId,n))}_setLanguage(t,n){this.tokenization.setLanguageId(t,n),this._languageService.requestRichLanguageFeatures(t)}getLanguageIdAtPosition(t,n){return this.tokenization.getLanguageIdAtPosition(t,n)}getWordAtPosition(t){return this._tokenizationTextModelPart.getWordAtPosition(t)}getWordUntilPosition(t){return this._tokenizationTextModelPart.getWordUntilPosition(t)}normalizePosition(t,n){return t}getLineIndentColumn(t){return kw(this.getLineContent(t))+1}};Li=ce([De(4,o1),De(5,ws),De(6,xl),De(7,vi)],Li);function kw(i){let e=0;for(let t of i)if(t===" "||t==="	")e++;else break;return e}function db(i){return!!(i.options.overviewRuler&&i.options.overviewRuler.color)}function _w(i){return!!i.after||!!i.before}function dh(i){return!!i.options.after||!!i.options.before}var ch=class{_decorationsTree0;_decorationsTree1;_injectedTextDecorationsTree;constructor(){this._decorationsTree0=new js,this._decorationsTree1=new js,this._injectedTextDecorationsTree=new js}ensureAllNodesHaveRanges(e){this.getAll(e,0,!1,!1,!1)}_ensureNodesHaveRanges(e,t){for(let n of t)n.range===null&&(n.range=e.getRangeAt(n.cachedAbsoluteStart,n.cachedAbsoluteEnd));return t}getAllInInterval(e,t,n,r,o,s){let a=e.getVersionId(),l=this._intervalSearch(t,n,r,o,a,s);return this._ensureNodesHaveRanges(e,l)}_intervalSearch(e,t,n,r,o,s){let a=this._decorationsTree0.intervalSearch(e,t,n,r,o,s),l=this._decorationsTree1.intervalSearch(e,t,n,r,o,s),c=this._injectedTextDecorationsTree.intervalSearch(e,t,n,r,o,s);return a.concat(l).concat(c)}getInjectedTextInInterval(e,t,n,r){let o=e.getVersionId(),s=this._injectedTextDecorationsTree.intervalSearch(t,n,r,!1,o,!1);return this._ensureNodesHaveRanges(e,s).filter(a=>a.options.showIfCollapsed||!a.range.isEmpty())}getAllInjectedText(e,t){let n=e.getVersionId(),r=this._injectedTextDecorationsTree.search(t,!1,n,!1);return this._ensureNodesHaveRanges(e,r).filter(o=>o.options.showIfCollapsed||!o.range.isEmpty())}getAll(e,t,n,r,o){let s=e.getVersionId(),a=this._search(t,n,r,s,o);return this._ensureNodesHaveRanges(e,a)}_search(e,t,n,r,o){if(n)return this._decorationsTree1.search(e,t,r,o);{let s=this._decorationsTree0.search(e,t,r,o),a=this._decorationsTree1.search(e,t,r,o),l=this._injectedTextDecorationsTree.search(e,t,r,o);return s.concat(a).concat(l)}}collectNodesFromOwner(e){let t=this._decorationsTree0.collectNodesFromOwner(e),n=this._decorationsTree1.collectNodesFromOwner(e),r=this._injectedTextDecorationsTree.collectNodesFromOwner(e);return t.concat(n).concat(r)}collectNodesPostOrder(){let e=this._decorationsTree0.collectNodesPostOrder(),t=this._decorationsTree1.collectNodesPostOrder(),n=this._injectedTextDecorationsTree.collectNodesPostOrder();return e.concat(t).concat(n)}insert(e){dh(e)?this._injectedTextDecorationsTree.insert(e):db(e)?this._decorationsTree1.insert(e):this._decorationsTree0.insert(e)}delete(e){dh(e)?this._injectedTextDecorationsTree.delete(e):db(e)?this._decorationsTree1.delete(e):this._decorationsTree0.delete(e)}getNodeRange(e,t){let n=e.getVersionId();return t.cachedVersionId!==n&&this._resolveNode(t,n),t.range===null&&(t.range=e.getRangeAt(t.cachedAbsoluteStart,t.cachedAbsoluteEnd)),t.range}_resolveNode(e,t){dh(e)?this._injectedTextDecorationsTree.resolveNode(e,t):db(e)?this._decorationsTree1.resolveNode(e,t):this._decorationsTree0.resolveNode(e,t)}acceptReplace(e,t,n,r){this._decorationsTree0.acceptReplace(e,t,n,r),this._decorationsTree1.acceptReplace(e,t,n,r),this._injectedTextDecorationsTree.acceptReplace(e,t,n,r)}};function _i(i){return i.replace(/[^a-z0-9\-_]/gi," ")}var uh=class{color;darkColor;constructor(e){this.color=e.color||"",this.darkColor=e.darkColor||""}},ub=class extends uh{position;_resolvedColor;constructor(e){super(e),this._resolvedColor=null,this.position=typeof e.position=="number"?e.position:2}getColor(e){return this._resolvedColor||(e.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,e):this._resolvedColor=this._resolveColor(this.color,e)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(e,t){if(typeof e=="string")return e;let n=e?t.getColor(e.id):null;return n?n.toString():""}},hb=class{position;persistLane;constructor(e){this.position=e?.position??2,this.persistLane=e?.persistLane}},pb=class extends uh{position;sectionHeaderStyle;sectionHeaderText;_resolvedColor;constructor(e){super(e),this.position=e.position,this.sectionHeaderStyle=e.sectionHeaderStyle??null,this.sectionHeaderText=e.sectionHeaderText??null}getColor(e){return this._resolvedColor||(e.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,e):this._resolvedColor=this._resolveColor(this.color,e)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(e,t){return typeof e=="string"?R.fromHex(e):t.getColor(e.id)}},hh=class i{static from(e){return e instanceof i?e:new i(e)}content;tokens;inlineClassName;inlineClassNameAffectsLetterSpacing;attachedData;cursorStops;constructor(e){this.content=e.content||"",this.tokens=e.tokens??null,this.inlineClassName=e.inlineClassName||null,this.inlineClassNameAffectsLetterSpacing=e.inlineClassNameAffectsLetterSpacing||!1,this.attachedData=e.attachedData||null,this.cursorStops=e.cursorStops||null}},Bn=class i{static EMPTY;static register(e){return new i(e)}static createDynamic(e){return new i(e)}description;blockClassName;blockIsAfterEnd;blockDoesNotCollapse;blockPadding;stickiness;zIndex;className;shouldFillLineOnLineBreak;hoverMessage;glyphMarginHoverMessage;isWholeLine;showIfCollapsed;collapseOnReplaceEdit;overviewRuler;minimap;glyphMargin;glyphMarginClassName;linesDecorationsClassName;lineNumberClassName;lineNumberHoverMessage;linesDecorationsTooltip;firstLineDecorationClassName;marginClassName;inlineClassName;inlineClassNameAffectsLetterSpacing;beforeContentClassName;afterContentClassName;after;before;hideInCommentTokens;hideInStringTokens;constructor(e){this.description=e.description,this.blockClassName=e.blockClassName?_i(e.blockClassName):null,this.blockDoesNotCollapse=e.blockDoesNotCollapse??null,this.blockIsAfterEnd=e.blockIsAfterEnd??null,this.blockPadding=e.blockPadding??null,this.stickiness=e.stickiness||0,this.zIndex=e.zIndex||0,this.className=e.className?_i(e.className):null,this.shouldFillLineOnLineBreak=e.shouldFillLineOnLineBreak??null,this.hoverMessage=e.hoverMessage||null,this.glyphMarginHoverMessage=e.glyphMarginHoverMessage||null,this.lineNumberHoverMessage=e.lineNumberHoverMessage||null,this.isWholeLine=e.isWholeLine||!1,this.showIfCollapsed=e.showIfCollapsed||!1,this.collapseOnReplaceEdit=e.collapseOnReplaceEdit||!1,this.overviewRuler=e.overviewRuler?new ub(e.overviewRuler):null,this.minimap=e.minimap?new pb(e.minimap):null,this.glyphMargin=e.glyphMarginClassName?new hb(e.glyphMargin):null,this.glyphMarginClassName=e.glyphMarginClassName?_i(e.glyphMarginClassName):null,this.linesDecorationsClassName=e.linesDecorationsClassName?_i(e.linesDecorationsClassName):null,this.lineNumberClassName=e.lineNumberClassName?_i(e.lineNumberClassName):null,this.linesDecorationsTooltip=e.linesDecorationsTooltip?ty(e.linesDecorationsTooltip):null,this.firstLineDecorationClassName=e.firstLineDecorationClassName?_i(e.firstLineDecorationClassName):null,this.marginClassName=e.marginClassName?_i(e.marginClassName):null,this.inlineClassName=e.inlineClassName?_i(e.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=e.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=e.beforeContentClassName?_i(e.beforeContentClassName):null,this.afterContentClassName=e.afterContentClassName?_i(e.afterContentClassName):null,this.after=e.after?hh.from(e.after):null,this.before=e.before?hh.from(e.before):null,this.hideInCommentTokens=e.hideInCommentTokens??!1,this.hideInStringTokens=e.hideInStringTokens??!1}};Bn.EMPTY=Bn.register({description:"empty"});var wx=[Bn.register({description:"tracked-range-always-grows-when-typing-at-edges",stickiness:0}),Bn.register({description:"tracked-range-never-grows-when-typing-at-edges",stickiness:1}),Bn.register({description:"tracked-range-grows-only-when-typing-before",stickiness:2}),Bn.register({description:"tracked-range-grows-only-when-typing-after",stickiness:3})];function kx(i){return i instanceof Bn?i:Bn.createDynamic(i)}var gb=class extends U{constructor(t){super();this.handleBeforeFire=t;this._deferredCnt=0,this._shouldFireDeferred=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._affectsGlyphMargin=!1,this._affectsLineNumber=!1}_actual=this._register(new N);event=this._actual.event;_deferredCnt;_shouldFireDeferred;_affectsMinimap;_affectsOverviewRuler;_affectedInjectedTextLines=null;_affectsGlyphMargin;_affectsLineNumber;hasListeners(){return this._actual.hasListeners()}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){this._deferredCnt--,this._deferredCnt===0&&(this._shouldFireDeferred&&this.doFire(),this._affectedInjectedTextLines?.clear(),this._affectedInjectedTextLines=null)}recordLineAffectedByInjectedText(t){this._affectedInjectedTextLines||(this._affectedInjectedTextLines=new Set),this._affectedInjectedTextLines.add(t)}checkAffectedAndFire(t){this._affectsMinimap||=!!t.minimap?.position,this._affectsOverviewRuler||=!!t.overviewRuler?.color,this._affectsGlyphMargin||=!!t.glyphMarginClassName,this._affectsLineNumber||=!!t.lineNumberClassName,this.tryFire()}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._affectsGlyphMargin=!0,this.tryFire()}tryFire(){this._deferredCnt===0?this.doFire():this._shouldFireDeferred=!0}doFire(){this.handleBeforeFire(this._affectedInjectedTextLines);let t={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler,affectsGlyphMargin:this._affectsGlyphMargin,affectsLineNumber:this._affectsLineNumber};this._shouldFireDeferred=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._affectsGlyphMargin=!1,this._actual.fire(t)}},fb=class extends U{_fastEmitter=this._register(new N);fastEvent=this._fastEmitter.event;_slowEmitter=this._register(new N);slowEvent=this._slowEmitter.event;_deferredCnt;_deferredEvent;constructor(){super(),this._deferredCnt=0,this._deferredEvent=null}hasListeners(){return this._fastEmitter.hasListeners()||this._slowEmitter.hasListeners()}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(e=null){if(this._deferredCnt--,this._deferredCnt===0&&this._deferredEvent!==null){this._deferredEvent.rawContentChangedEvent.resultingSelection=e;let t=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(t),this._slowEmitter.fire(t)}}fire(e){if(this._deferredCnt>0){this._deferredEvent?this._deferredEvent=this._deferredEvent.merge(e):this._deferredEvent=e;return}this._fastEmitter.fire(e),this._slowEmitter.fire(e)}};var Dw=Bn.register({description:"inline-progress-widget",stickiness:1,showIfCollapsed:!0,after:{content:ly,inlineClassName:"inline-editor-progress-decoration",inlineClassNameAffectsLetterSpacing:!0}}),mb=class i extends U{constructor(t,n,r,o,s){super();this.typeId=t;this.editor=n;this.range=r;this.delegate=s;this.create(o),this.editor.addContentWidget(this),this.editor.layoutContentWidget(this)}static baseId="editor.widget.inlineProgressWidget";allowEditorOverflow=!1;suppressMouseDown=!0;domNode;create(t){this.domNode=bt(".inline-progress-widget"),this.domNode.role="button",this.domNode.title=t;let n=bt("span.icon");this.domNode.append(n),n.classList.add(...Ze.asClassNameArray(q.loading),"codicon-modifier-spin");let r=()=>{let o=this.editor.getOption(68);this.domNode.style.height=`${o}px`,this.domNode.style.width=`${Math.ceil(.8*o)}px`};r(),this._register(this.editor.onDidChangeConfiguration(o=>{(o.hasChanged(53)||o.hasChanged(68))&&r()})),this._register(se(this.domNode,Te.CLICK,o=>{this.delegate.cancel()}))}getId(){return i.baseId+"."+this.typeId}getDomNode(){return this.domNode}getPosition(){return{position:{lineNumber:this.range.startLineNumber,column:this.range.startColumn},preference:[0]}}dispose(){super.dispose(),this.editor.removeContentWidget(this)}},ea=class extends U{constructor(t,n,r){super();this.id=t;this._editor=n;this._instantiationService=r;this._currentDecorations=n.createDecorationsCollection()}_showDelay=500;_showPromise=this._register(new Qt);_currentDecorations;_currentWidget=this._register(new Qt);_operationIdPool=0;_currentOperation;dispose(){super.dispose(),this._currentDecorations.clear()}async showWhile(t,n,r,o,s){let a=this._operationIdPool++;this._currentOperation=a,this.clear(),this._showPromise.value=za(()=>{let l=z.fromPositions(t);this._currentDecorations.set([{range:l,options:Dw}]).length>0&&(this._currentWidget.value=this._instantiationService.createInstance(mb,this.id,this._editor,l,n,o))},s??this._showDelay);try{return await r}finally{this._currentOperation===a&&(this.clear(),this._currentOperation=void 0)}}clear(){this._showPromise.clear(),this._currentDecorations.clear(),this._currentWidget.clear()}};ea=ce([De(2,vi)],ea);var _x=X("notificationService");var Rw=X("progressService");var Jge=Object.freeze({total(){},worked(){},done(){}}),Lx=class{constructor(e){this.callback=e}static None=Object.freeze({report(){}});_value;get value(){return this._value}report(e){this._value=e,this.callback(this._value)}};var ph=class extends U{deferred=new Ba;reporter;lastStep;constructor(e,t){super(),t.withProgress(e,n=>(this.reporter=n,this.lastStep&&n.report(this.lastStep),this.deferred.p)),this._register(pe(()=>this.deferred.complete()))}report(e){this.reporter?this.reporter.report(e):this.lastStep=e}};ph=ce([De(1,Rw)],ph);var efe=X("editorProgressService");var Dx=X("IWorkspaceEditService"),gh=class{constructor(e){this.metadata=e}static convert(e){return e.edits.map(t=>{if(ta.is(t))return ta.lift(t);if(fh.is(t))return fh.lift(t);throw new Error("Unsupported edit")})}},ta=class i extends gh{constructor(t,n,r=void 0,o){super(o);this.resource=t;this.textEdit=n;this.versionId=r}static is(t){return t instanceof i?!0:qt(t)&&oe.isUri(t.resource)&&qt(t.textEdit)}static lift(t){return t instanceof i?t:new i(t.resource,t.textEdit,t.versionId,t.metadata)}},fh=class i extends gh{constructor(t,n,r={},o){super(o);this.oldResource=t;this.newResource=n;this.options=r}static is(t){return t instanceof i?!0:qt(t)&&(!!t.newResource||!!t.oldResource)}static lift(t){return t instanceof i?t:new i(t.oldResource,t.newResource,t.options,t.metadata)}};var bb=class i{static _table={36:0,58:1,44:2,123:3,125:4,92:5,47:6,124:7,43:11,45:12,63:13};static isDigitCharacter(e){return e>=48&&e<=57}static isVariableCharacter(e){return e===95||e>=97&&e<=122||e>=65&&e<=90}value="";pos=0;text(e){this.value=e,this.pos=0}tokenText(e){return this.value.substr(e.pos,e.len)}next(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};let e=this.pos,t=0,n=this.value.charCodeAt(e),r;if(r=i._table[n],typeof r=="number")return this.pos+=1,{type:r,pos:e,len:1};if(i.isDigitCharacter(n)){r=8;do t+=1,n=this.value.charCodeAt(e+t);while(i.isDigitCharacter(n));return this.pos+=t,{type:r,pos:e,len:t}}if(i.isVariableCharacter(n)){r=9;do n=this.value.charCodeAt(e+ ++t);while(i.isVariableCharacter(n)||i.isDigitCharacter(n));return this.pos+=t,{type:r,pos:e,len:t}}r=10;do t+=1,n=this.value.charCodeAt(e+t);while(!isNaN(n)&&typeof i._table[n]>"u"&&!i.isDigitCharacter(n)&&!i.isVariableCharacter(n));return this.pos+=t,{type:r,pos:e,len:t}}},Vr=class{_markerBrand;parent;_children=[];appendChild(e){return e instanceof zn&&this._children[this._children.length-1]instanceof zn?this._children[this._children.length-1].value+=e.value:(e.parent=this,this._children.push(e)),this}replace(e,t){let{parent:n}=e,r=n.children.indexOf(e),o=n.children.slice(0);o.splice(r,1,...t),n._children=o,function s(a,l){for(let c of a)c.parent=l,s(c.children,c)}(t,n)}get children(){return this._children}get rightMostDescendant(){return this._children.length>0?this._children[this._children.length-1].rightMostDescendant:this}get snippet(){let e=this;for(;;){if(!e)return;if(e instanceof vh)return e;e=e.parent}}toString(){return this.children.reduce((e,t)=>e+t.toString(),"")}len(){return 0}},zn=class i extends Vr{constructor(t){super();this.value=t}static escape(t){return t.replace(/\$|}|\\/g,"\\$&")}toString(){return this.value}toTextmateString(){return i.escape(this.value)}len(){return this.value.length}clone(){return new i(this.value)}},mh=class extends Vr{transform},Di=class i extends mh{constructor(t){super();this.index=t}static compareByIndex(t,n){return t.index===n.index?0:t.isFinalTabstop?1:n.isFinalTabstop||t.index<n.index?-1:t.index>n.index?1:0}get isFinalTabstop(){return this.index===0}get choice(){return this._children.length===1&&this._children[0]instanceof bh?this._children[0]:void 0}toTextmateString(){let t="";return this.transform&&(t=this.transform.toTextmateString()),this.children.length===0&&!this.transform?`$${this.index}`:this.children.length===0?`\${${this.index}${t}}`:this.choice?`\${${this.index}|${this.choice.toTextmateString()}|${t}}`:`\${${this.index}:${this.children.map(n=>n.toTextmateString()).join("")}${t}}`}clone(){let t=new i(this.index);return this.transform&&(t.transform=this.transform.clone()),t._children=this.children.map(n=>n.clone()),t}},bh=class i extends Vr{options=[];appendChild(e){return e instanceof zn&&(e.parent=this,this.options.push(e)),this}toString(){return this.options[0].value}toTextmateString(){return this.options.map(e=>e.value.replace(/\||,|\\/g,"\\$&")).join(",")}len(){return this.options[0].len()}clone(){let e=new i;return this.options.forEach(e.appendChild,e),e}},vb=class i extends Vr{regexp=new RegExp("");resolve(e){let t=this,n=!1,r=e.replace(this.regexp,function(){return n=!0,t._replace(Array.prototype.slice.call(arguments,0,-2))});return!n&&this._children.some(o=>o instanceof ri&&!!o.elseValue)&&(r=this._replace([])),r}_replace(e){let t="";for(let n of this._children)if(n instanceof ri){let r=e[n.index]||"";r=n.resolve(r),t+=r}else t+=n.toString();return t}toString(){return""}toTextmateString(){return`/${this.regexp.source}/${this.children.map(e=>e.toTextmateString())}/${(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")}`}clone(){let e=new i;return e.regexp=new RegExp(this.regexp.source,(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),e._children=this.children.map(t=>t.clone()),e}},ri=class i extends Vr{constructor(t,n,r,o){super();this.index=t;this.shorthandName=n;this.ifValue=r;this.elseValue=o}resolve(t){return this.shorthandName==="upcase"?t?t.toLocaleUpperCase():"":this.shorthandName==="downcase"?t?t.toLocaleLowerCase():"":this.shorthandName==="capitalize"?t?t[0].toLocaleUpperCase()+t.substr(1):"":this.shorthandName==="pascalcase"?t?this._toPascalCase(t):"":this.shorthandName==="camelcase"?t?this._toCamelCase(t):"":t&&typeof this.ifValue=="string"?this.ifValue:!t&&typeof this.elseValue=="string"?this.elseValue:t||""}_toPascalCase(t){let n=t.match(/[a-z0-9]+/gi);return n?n.map(r=>r.charAt(0).toUpperCase()+r.substr(1)).join(""):t}_toCamelCase(t){let n=t.match(/[a-z0-9]+/gi);return n?n.map((r,o)=>o===0?r.charAt(0).toLowerCase()+r.substr(1):r.charAt(0).toUpperCase()+r.substr(1)).join(""):t}toTextmateString(){let t="${";return t+=this.index,this.shorthandName?t+=`:/${this.shorthandName}`:this.ifValue&&this.elseValue?t+=`:?${this.ifValue}:${this.elseValue}`:this.ifValue?t+=`:+${this.ifValue}`:this.elseValue&&(t+=`:-${this.elseValue}`),t+="}",t}clone(){return new i(this.index,this.shorthandName,this.ifValue,this.elseValue)}},td=class i extends mh{constructor(t){super();this.name=t}resolve(t){let n=t.resolve(this);return this.transform&&(n=this.transform.resolve(n||"")),n!==void 0?(this._children=[new zn(n)],!0):!1}toTextmateString(){let t="";return this.transform&&(t=this.transform.toTextmateString()),this.children.length===0?`\${${this.name}${t}}`:`\${${this.name}:${this.children.map(n=>n.toTextmateString()).join("")}${t}}`}clone(){let t=new i(this.name);return this.transform&&(t.transform=this.transform.clone()),t._children=this.children.map(n=>n.clone()),t}};function Rx(i,e){let t=[...i];for(;t.length>0;){let n=t.shift();if(!e(n))break;t.unshift(...n.children)}}var vh=class i extends Vr{_placeholders;get placeholderInfo(){if(!this._placeholders){let e=[],t;this.walk(function(n){return n instanceof Di&&(e.push(n),t=!t||t.index<n.index?n:t),!0}),this._placeholders={all:e,last:t}}return this._placeholders}get placeholders(){let{all:e}=this.placeholderInfo;return e}offset(e){let t=0,n=!1;return this.walk(r=>r===e?(n=!0,!1):(t+=r.len(),!0)),n?t:-1}fullLen(e){let t=0;return Rx([e],n=>(t+=n.len(),!0)),t}enclosingPlaceholders(e){let t=[],{parent:n}=e;for(;n;)n instanceof Di&&t.push(n),n=n.parent;return t}resolveVariables(e){return this.walk(t=>(t instanceof td&&t.resolve(e)&&(this._placeholders=void 0),!0)),this}appendChild(e){return this._placeholders=void 0,super.appendChild(e)}replace(e,t){return this._placeholders=void 0,super.replace(e,t)}toTextmateString(){return this.children.reduce((e,t)=>e+t.toTextmateString(),"")}clone(){let e=new i;return this._children=this.children.map(t=>t.clone()),e}walk(e){Rx(this.children,e)}},yh=class i{static escape(e){return e.replace(/\$|}|\\/g,"\\$&")}static asInsertText(e){return new i().parse(e).toString()}static guessNeedsClipboard(e){return/\${?CLIPBOARD/.test(e)}_scanner=new bb;_token={type:14,pos:0,len:0};parse(e,t,n){let r=new vh;return this.parseFragment(e,r),this.ensureFinalTabstop(r,n??!1,t??!1),r}parseFragment(e,t){let n=t.children.length;for(this._scanner.text(e),this._token=this._scanner.next();this._parse(t););let r=new Map,o=[];t.walk(l=>(l instanceof Di&&(l.isFinalTabstop?r.set(0,void 0):!r.has(l.index)&&l.children.length>0?r.set(l.index,l.children):o.push(l)),!0));let s=(l,c)=>{let u=r.get(l.index);if(!u)return;let p=new Di(l.index);p.transform=l.transform;for(let g of u){let f=g.clone();p.appendChild(f),f instanceof Di&&r.has(f.index)&&!c.has(f.index)&&(c.add(f.index),s(f,c),c.delete(f.index))}t.replace(l,[p])},a=new Set;for(let l of o)s(l,a);return t.children.slice(n)}ensureFinalTabstop(e,t,n){(t||n&&e.placeholders.length>0)&&(e.placeholders.find(o=>o.index===0)||e.appendChild(new Di(0)))}_accept(e,t){if(e===void 0||this._token.type===e){let n=t?this._scanner.tokenText(this._token):!0;return this._token=this._scanner.next(),n}return!1}_backTo(e){return this._scanner.pos=e.pos+e.len,this._token=e,!1}_until(e){let t=this._token;for(;this._token.type!==e;){if(this._token.type===14)return!1;if(this._token.type===5){let r=this._scanner.next();if(r.type!==0&&r.type!==4&&r.type!==5)return!1}this._token=this._scanner.next()}let n=this._scanner.value.substring(t.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),n}_parse(e){return this._parseEscaped(e)||this._parseTabstopOrVariableName(e)||this._parseComplexPlaceholder(e)||this._parseComplexVariable(e)||this._parseAnything(e)}_parseEscaped(e){let t;return(t=this._accept(5,!0))?(t=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||t,e.appendChild(new zn(t)),!0):!1}_parseTabstopOrVariableName(e){let t,n=this._token;return this._accept(0)&&(t=this._accept(9,!0)||this._accept(8,!0))?(e.appendChild(/^\d+$/.test(t)?new Di(Number(t)):new td(t)),!0):this._backTo(n)}_parseComplexPlaceholder(e){let t,n=this._token;if(!(this._accept(0)&&this._accept(3)&&(t=this._accept(8,!0))))return this._backTo(n);let o=new Di(Number(t));if(this._accept(1))for(;;){if(this._accept(4))return e.appendChild(o),!0;if(!this._parse(o))return e.appendChild(new zn("${"+t+":")),o.children.forEach(e.appendChild,e),!0}else if(o.index>0&&this._accept(7)){let s=new bh;for(;;){if(this._parseChoiceElement(s)){if(this._accept(2))continue;if(this._accept(7)&&(o.appendChild(s),this._accept(4)))return e.appendChild(o),!0}return this._backTo(n),!1}}else return this._accept(6)?this._parseTransform(o)?(e.appendChild(o),!0):(this._backTo(n),!1):this._accept(4)?(e.appendChild(o),!0):this._backTo(n)}_parseChoiceElement(e){let t=this._token,n=[];for(;!(this._token.type===2||this._token.type===7);){let r;if((r=this._accept(5,!0))?r=this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||r:r=this._accept(void 0,!0),!r)return this._backTo(t),!1;n.push(r)}return n.length===0?(this._backTo(t),!1):(e.appendChild(new zn(n.join(""))),!0)}_parseComplexVariable(e){let t,n=this._token;if(!(this._accept(0)&&this._accept(3)&&(t=this._accept(9,!0))))return this._backTo(n);let o=new td(t);if(this._accept(1))for(;;){if(this._accept(4))return e.appendChild(o),!0;if(!this._parse(o))return e.appendChild(new zn("${"+t+":")),o.children.forEach(e.appendChild,e),!0}else return this._accept(6)?this._parseTransform(o)?(e.appendChild(o),!0):(this._backTo(n),!1):this._accept(4)?(e.appendChild(o),!0):this._backTo(n)}_parseTransform(e){let t=new vb,n="",r="";for(;!this._accept(6);){let o;if(o=this._accept(5,!0)){o=this._accept(6,!0)||o,n+=o;continue}if(this._token.type!==14){n+=this._accept(void 0,!0);continue}return!1}for(;!this._accept(6);){let o;if(o=this._accept(5,!0)){o=this._accept(5,!0)||this._accept(6,!0)||o,t.appendChild(new zn(o));continue}if(!(this._parseFormatString(t)||this._parseAnything(t)))return!1}for(;!this._accept(4);){if(this._token.type!==14){r+=this._accept(void 0,!0);continue}return!1}try{t.regexp=new RegExp(n,r)}catch{return!1}return e.transform=t,!0}_parseFormatString(e){let t=this._token;if(!this._accept(0))return!1;let n=!1;this._accept(3)&&(n=!0);let r=this._accept(8,!0);if(r)if(n){if(this._accept(4))return e.appendChild(new ri(Number(r))),!0;if(!this._accept(1))return this._backTo(t),!1}else return e.appendChild(new ri(Number(r))),!0;else return this._backTo(t),!1;if(this._accept(6)){let o=this._accept(9,!0);return!o||!this._accept(4)?(this._backTo(t),!1):(e.appendChild(new ri(Number(r),o)),!0)}else if(this._accept(11)){let o=this._until(4);if(o)return e.appendChild(new ri(Number(r),void 0,o,void 0)),!0}else if(this._accept(12)){let o=this._until(4);if(o)return e.appendChild(new ri(Number(r),void 0,void 0,o)),!0}else if(this._accept(13)){let o=this._until(1);if(o){let s=this._until(4);if(s)return e.appendChild(new ri(Number(r),void 0,o,s)),!0}}else{let o=this._until(4);if(o)return e.appendChild(new ri(Number(r),void 0,void 0,o)),!0}return this._backTo(t),!1}_parseAnything(e){return this._token.type!==14?(e.appendChild(new zn(this._scanner.tokenText(this._token))),this._accept(void 0),!0):!1}};function Ax(i,e,t){return(typeof t.insertText=="string"?t.insertText==="":t.insertText.snippet==="")?{edits:t.additionalEdit?.edits??[]}:{edits:[...e.map(n=>new ta(i,{range:n,text:typeof t.insertText=="string"?yh.escape(t.insertText)+"$0":t.insertText.snippet,insertAsSnippet:!0})),...t.additionalEdit?.edits??[]]}}function Ox(i){function e(s,a){return"mimeType"in s?s.mimeType===a.handledMimeType:!!a.kind&&s.kind.contains(a.kind)}let t=new Map;for(let s of i)for(let a of s.yieldTo??[])for(let l of i)if(l!==s&&e(a,l)){let c=t.get(s);c||(c=[],t.set(s,c)),c.push(l)}if(!t.size)return Array.from(i);let n=new Set,r=[];function o(s){if(!s.length)return[];let a=s[0];if(r.includes(a))return console.warn("Yield to cycle detected",a),s;if(n.has(a))return o(s.slice(1));let l=[],c=t.get(a);return c&&(r.push(a),l=o(c),r.pop()),n.add(a),[...l,a,...o(s.slice(1))]}return o(Array.from(i))}var na=class{_hooks=new be;_pointerMoveCallback=null;_onStopCallback=null;dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(e,t){if(!this.isMonitoring())return;this._hooks.clear(),this._pointerMoveCallback=null;let n=this._onStopCallback;this._onStopCallback=null,e&&n&&n(t)}isMonitoring(){return!!this._pointerMoveCallback}startMonitoring(e,t,n,r,o){this.isMonitoring()&&this.stopMonitoring(!1),this._pointerMoveCallback=r,this._onStopCallback=o;let s=e;try{e.setPointerCapture(t),this._hooks.add(pe(()=>{try{e.releasePointerCapture(t)}catch{}}))}catch{s=Ce(e)}this._hooks.add(se(s,Te.POINTER_MOVE,a=>{if(a.buttons!==n){this.stopMonitoring(!0);return}a.preventDefault(),this._pointerMoveCallback(a)})),this._hooks.add(se(s,Te.POINTER_UP,a=>this.stopMonitoring(!0)))}};var Ri=class extends U{onclick(e,t){this._register(se(e,Te.CLICK,n=>t(new hn(Ce(e),n))))}onmousedown(e,t){this._register(se(e,Te.MOUSE_DOWN,n=>t(new hn(Ce(e),n))))}onmouseover(e,t){this._register(se(e,Te.MOUSE_OVER,n=>t(new hn(Ce(e),n))))}onmouseleave(e,t){this._register(se(e,Te.MOUSE_LEAVE,n=>t(new hn(Ce(e),n))))}onkeydown(e,t){this._register(se(e,Te.KEY_DOWN,n=>t(new pt(n))))}onkeyup(e,t){this._register(se(e,Te.KEY_UP,n=>t(new pt(n))))}oninput(e,t){this._register(se(e,Te.INPUT,t))}onblur(e,t){this._register(se(e,Te.BLUR,t))}onfocus(e,t){this._register(se(e,Te.FOCUS,t))}onchange(e,t){this._register(se(e,Te.CHANGE,t))}ignoreGesture(e){return nn.ignoreTarget(e)}};var Kr=11,Ih=class extends Ri{_onActivate;bgDomNode;domNode;_pointerdownRepeatTimer;_pointerdownScheduleRepeatTimer;_pointerMoveMonitor;constructor(e){super(),this._onActivate=e.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=e.bgWidth+"px",this.bgDomNode.style.height=e.bgHeight+"px",typeof e.top<"u"&&(this.bgDomNode.style.top="0px"),typeof e.left<"u"&&(this.bgDomNode.style.left="0px"),typeof e.bottom<"u"&&(this.bgDomNode.style.bottom="0px"),typeof e.right<"u"&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=e.className,this.domNode.classList.add(...Ze.asClassNameArray(e.icon)),this.domNode.style.position="absolute",this.domNode.style.width=Kr+"px",this.domNode.style.height=Kr+"px",typeof e.top<"u"&&(this.domNode.style.top=e.top+"px"),typeof e.left<"u"&&(this.domNode.style.left=e.left+"px"),typeof e.bottom<"u"&&(this.domNode.style.bottom=e.bottom+"px"),typeof e.right<"u"&&(this.domNode.style.right=e.right+"px"),this._pointerMoveMonitor=this._register(new na),this._register(ho(this.bgDomNode,Te.POINTER_DOWN,t=>this._arrowPointerDown(t))),this._register(ho(this.domNode,Te.POINTER_DOWN,t=>this._arrowPointerDown(t))),this._pointerdownRepeatTimer=this._register(new nc),this._pointerdownScheduleRepeatTimer=this._register(new Gi)}_arrowPointerDown(e){if(!e.target||!(e.target instanceof Element))return;let t=()=>{this._pointerdownRepeatTimer.cancelAndSet(()=>this._onActivate(),1e3/24,Ce(e))};this._onActivate(),this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancelAndSet(t,200),this._pointerMoveMonitor.startMonitoring(e.target,e.pointerId,e.buttons,n=>{},()=>{this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancel()}),e.preventDefault()}};var ia=class i{_scrollbarSize;_oppositeScrollbarSize;_arrowSize;_visibleSize;_scrollSize;_scrollPosition;_computedAvailableSize;_computedIsNeeded;_computedSliderSize;_computedSliderRatio;_computedSliderPosition;constructor(e,t,n,r,o,s){this._scrollbarSize=Math.round(t),this._oppositeScrollbarSize=Math.round(n),this._arrowSize=Math.round(e),this._visibleSize=r,this._scrollSize=o,this._scrollPosition=s,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new i(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(e){let t=Math.round(e);return this._visibleSize!==t?(this._visibleSize=t,this._refreshComputedValues(),!0):!1}setScrollSize(e){let t=Math.round(e);return this._scrollSize!==t?(this._scrollSize=t,this._refreshComputedValues(),!0):!1}setScrollPosition(e){let t=Math.round(e);return this._scrollPosition!==t?(this._scrollPosition=t,this._refreshComputedValues(),!0):!1}setScrollbarSize(e){this._scrollbarSize=Math.round(e)}setOppositeScrollbarSize(e){this._oppositeScrollbarSize=Math.round(e)}static _computeValues(e,t,n,r,o){let s=Math.max(0,n-e),a=Math.max(0,s-2*t),l=r>0&&r>n;if(!l)return{computedAvailableSize:Math.round(s),computedIsNeeded:l,computedSliderSize:Math.round(a),computedSliderRatio:0,computedSliderPosition:0};let c=Math.round(Math.max(20,Math.floor(n*a/r))),u=(a-c)/(r-n),p=o*u;return{computedAvailableSize:Math.round(s),computedIsNeeded:l,computedSliderSize:Math.round(c),computedSliderRatio:u,computedSliderPosition:Math.round(p)}}_refreshComputedValues(){let e=i._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=e.computedAvailableSize,this._computedIsNeeded=e.computedIsNeeded,this._computedSliderSize=e.computedSliderSize,this._computedSliderRatio=e.computedSliderRatio,this._computedSliderPosition=e.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(e){if(!this._computedIsNeeded)return 0;let t=e-this._arrowSize-this._computedSliderSize/2;return Math.round(t/this._computedSliderRatio)}getDesiredScrollPositionFromOffsetPaged(e){if(!this._computedIsNeeded)return 0;let t=e-this._arrowSize,n=this._scrollPosition;return t<this._computedSliderPosition?n-=this._visibleSize:n+=this._visibleSize,n}getDesiredScrollPositionFromDelta(e){if(!this._computedIsNeeded)return 0;let t=this._computedSliderPosition+e;return Math.round(t/this._computedSliderRatio)}};var xh=class extends U{_visibility;_visibleClassName;_invisibleClassName;_domNode;_rawShouldBeVisible;_shouldBeVisible;_isNeeded;_isVisible;_revealTimer;constructor(e,t,n){super(),this._visibility=e,this._visibleClassName=t,this._invisibleClassName=n,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new Gi)}setVisibility(e){this._visibility!==e&&(this._visibility=e,this._updateShouldBeVisible())}setShouldBeVisible(e){this._rawShouldBeVisible=e,this._updateShouldBeVisible()}_applyVisibilitySetting(){return this._visibility===2?!1:this._visibility===3?!0:this._rawShouldBeVisible}_updateShouldBeVisible(){let e=this._applyVisibilitySetting();this._shouldBeVisible!==e&&(this._shouldBeVisible=e,this.ensureVisibility())}setIsNeeded(e){this._isNeeded!==e&&(this._isNeeded=e,this.ensureVisibility())}setDomNode(e){this._domNode=e,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){if(!this._isNeeded){this._hide(!1);return}this._shouldBeVisible?this._reveal():this._hide(!0)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{this._domNode?.setClassName(this._visibleClassName)},0))}_hide(e){this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,this._domNode?.setClassName(this._invisibleClassName+(e?" fade":"")))}};var Aw=140,ra=class extends Ri{_host;_scrollable;_scrollByPage;_lazyRender;_scrollbarState;_visibilityController;_pointerMoveMonitor;domNode;slider;_shouldRender;constructor(e){super(),this._lazyRender=e.lazyRender,this._host=e.host,this._scrollable=e.scrollable,this._scrollByPage=e.scrollByPage,this._scrollbarState=e.scrollbarState,this._visibilityController=this._register(new xh(e.visibility,"visible scrollbar "+e.extraScrollbarClassName,"invisible scrollbar "+e.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._pointerMoveMonitor=this._register(new na),this._shouldRender=!0,this.domNode=mo(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this._register(se(this.domNode.domNode,Te.POINTER_DOWN,t=>this._domNodePointerDown(t)))}_createArrow(e){let t=this._register(new Ih(e));this.domNode.domNode.appendChild(t.bgDomNode),this.domNode.domNode.appendChild(t.domNode)}_createSlider(e,t,n,r){this.slider=mo(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(e),this.slider.setLeft(t),typeof n=="number"&&this.slider.setWidth(n),typeof r=="number"&&this.slider.setHeight(r),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this._register(se(this.slider.domNode,Te.POINTER_DOWN,o=>{o.button===0&&(o.preventDefault(),this._sliderPointerDown(o))})),this.onclick(this.slider.domNode,o=>{o.leftButton&&o.stopPropagation()})}_onElementSize(e){return this._scrollbarState.setVisibleSize(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(e){return this._scrollbarState.setScrollSize(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(e){return this._scrollbarState.setScrollPosition(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){this._shouldRender&&(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodePointerDown(e){e.target===this.domNode.domNode&&this._onPointerDown(e)}delegatePointerDown(e){let t=this.domNode.domNode.getClientRects()[0].top,n=t+this._scrollbarState.getSliderPosition(),r=t+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),o=this._sliderPointerPosition(e);n<=o&&o<=r?e.button===0&&(e.preventDefault(),this._sliderPointerDown(e)):this._onPointerDown(e)}_onPointerDown(e){let t,n;if(e.target===this.domNode.domNode&&typeof e.offsetX=="number"&&typeof e.offsetY=="number")t=e.offsetX,n=e.offsetY;else{let o=hs(this.domNode.domNode);t=e.pageX-o.left,n=e.pageY-o.top}let r=this._pointerDownRelativePosition(t,n);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(r):this._scrollbarState.getDesiredScrollPositionFromOffset(r)),e.button===0&&(e.preventDefault(),this._sliderPointerDown(e))}_sliderPointerDown(e){if(!e.target||!(e.target instanceof Element))return;let t=this._sliderPointerPosition(e),n=this._sliderOrthogonalPointerPosition(e),r=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._pointerMoveMonitor.startMonitoring(e.target,e.pointerId,e.buttons,o=>{let s=this._sliderOrthogonalPointerPosition(o),a=Math.abs(s-n);if(kt&&a>Aw){this._setDesiredScrollPositionNow(r.getScrollPosition());return}let c=this._sliderPointerPosition(o)-t;this._setDesiredScrollPositionNow(r.getDesiredScrollPositionFromDelta(c))},()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd()}),this._host.onDragStart()}_setDesiredScrollPositionNow(e){let t={};this.writeScrollPosition(t,e),this._scrollable.setScrollPositionNow(t)}updateScrollbarSize(e){this._updateScrollbarSize(e),this._scrollbarState.setScrollbarSize(e),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}};var Th=class extends ra{constructor(e,t,n){let r=e.getScrollDimensions(),o=e.getCurrentScrollPosition();if(super({lazyRender:t.lazyRender,host:n,scrollbarState:new ia(t.horizontalHasArrows?t.arrowSize:0,t.horizontal===2?0:t.horizontalScrollbarSize,t.vertical===2?0:t.verticalScrollbarSize,r.width,r.scrollWidth,o.scrollLeft),visibility:t.horizontal,extraScrollbarClassName:"horizontal",scrollable:e,scrollByPage:t.scrollByPage}),t.horizontalHasArrows){let s=(t.arrowSize-Kr)/2,a=(t.horizontalScrollbarSize-Kr)/2;this._createArrow({className:"scra",icon:q.scrollbarButtonLeft,top:a,left:s,bottom:void 0,right:void 0,bgWidth:t.arrowSize,bgHeight:t.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new qn(null,1,0))}),this._createArrow({className:"scra",icon:q.scrollbarButtonRight,top:a,left:void 0,bottom:void 0,right:s,bgWidth:t.arrowSize,bgHeight:t.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new qn(null,-1,0))})}this._createSlider(Math.floor((t.horizontalScrollbarSize-t.horizontalSliderSize)/2),0,void 0,t.horizontalSliderSize)}_updateSlider(e,t){this.slider.setWidth(e),this.slider.setLeft(t)}_renderDomNode(e,t){this.domNode.setWidth(e),this.domNode.setHeight(t),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(e){return this._shouldRender=this._onElementScrollSize(e.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(e.width)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(e,t){return e}_sliderPointerPosition(e){return e.pageX}_sliderOrthogonalPointerPosition(e){return e.pageY}_updateScrollbarSize(e){this.slider.setHeight(e)}writeScrollPosition(e,t){e.scrollLeft=t}updateOptions(e){this.updateScrollbarSize(e.horizontal===2?0:e.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(e.vertical===2?0:e.verticalScrollbarSize),this._visibilityController.setVisibility(e.horizontal),this._scrollByPage=e.scrollByPage}};var Ch=class extends ra{constructor(e,t,n){let r=e.getScrollDimensions(),o=e.getCurrentScrollPosition();if(super({lazyRender:t.lazyRender,host:n,scrollbarState:new ia(t.verticalHasArrows?t.arrowSize:0,t.vertical===2?0:t.verticalScrollbarSize,0,r.height,r.scrollHeight,o.scrollTop),visibility:t.vertical,extraScrollbarClassName:"vertical",scrollable:e,scrollByPage:t.scrollByPage}),t.verticalHasArrows){let s=(t.arrowSize-Kr)/2,a=(t.verticalScrollbarSize-Kr)/2;this._createArrow({className:"scra",icon:q.scrollbarButtonUp,top:s,left:a,bottom:void 0,right:void 0,bgWidth:t.verticalScrollbarSize,bgHeight:t.arrowSize,onActivate:()=>this._host.onMouseWheel(new qn(null,0,1))}),this._createArrow({className:"scra",icon:q.scrollbarButtonDown,top:void 0,left:a,bottom:s,right:void 0,bgWidth:t.verticalScrollbarSize,bgHeight:t.arrowSize,onActivate:()=>this._host.onMouseWheel(new qn(null,0,-1))})}this._createSlider(0,Math.floor((t.verticalScrollbarSize-t.verticalSliderSize)/2),t.verticalSliderSize,void 0)}_updateSlider(e,t){this.slider.setHeight(e),this.slider.setTop(t)}_renderDomNode(e,t){this.domNode.setWidth(t),this.domNode.setHeight(e),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(e){return this._shouldRender=this._onElementScrollSize(e.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(e.height)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(e,t){return t}_sliderPointerPosition(e){return e.pageY}_sliderOrthogonalPointerPosition(e){return e.pageX}_updateScrollbarSize(e){this.slider.setWidth(e)}writeScrollPosition(e,t){e.scrollTop=t}updateOptions(e){this.updateScrollbarSize(e.vertical===2?0:e.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(e.vertical),this._scrollByPage=e.scrollByPage}};var Ow=500,Mx=50,Nx=!0,yb=class{timestamp;deltaX;deltaY;score;constructor(e,t,n){this.timestamp=e,this.deltaX=t,this.deltaY=n,this.score=0}},Ib=class i{static INSTANCE=new i;_capacity;_memory;_front;_rear;constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(this._front===-1&&this._rear===-1)return!1;let e=1,t=0,n=1,r=this._rear;do{let o=r===this._front?e:Math.pow(2,-n);if(e-=o,t+=this._memory[r].score*o,r===this._front)break;r=(this._capacity+r-1)%this._capacity,n++}while(!0);return t<=.5}acceptStandardWheelEvent(e){if(os){let t=Ce(e.browserEvent),n=Kv(t);this.accept(Date.now(),e.deltaX*n,e.deltaY*n)}else this.accept(Date.now(),e.deltaX,e.deltaY)}accept(e,t,n){let r=null,o=new yb(e,t,n);this._front===-1&&this._rear===-1?(this._memory[0]=o,this._front=0,this._rear=0):(r=this._memory[this._rear],this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=o),o.score=this._computeScore(o,r)}_computeScore(e,t){if(Math.abs(e.deltaX)>0&&Math.abs(e.deltaY)>0)return 1;let n=.5;if((!this._isAlmostInt(e.deltaX)||!this._isAlmostInt(e.deltaY))&&(n+=.25),t){let r=Math.abs(e.deltaX),o=Math.abs(e.deltaY),s=Math.abs(t.deltaX),a=Math.abs(t.deltaY),l=Math.max(Math.min(r,s),1),c=Math.max(Math.min(o,a),1),u=Math.max(r,s),p=Math.max(o,a);u%l===0&&p%c===0&&(n-=.5)}return Math.min(Math.max(n,0),1)}_isAlmostInt(e){return Math.abs(Math.round(e)-e)<.01}},xb=class extends Ri{_options;_scrollable;_verticalScrollbar;_horizontalScrollbar;_domNode;_leftShadowDomNode;_topShadowDomNode;_topLeftShadowDomNode;_listenOnDomNode;_mouseWheelToDispose;_isDragging;_mouseIsOver;_hideTimeout;_shouldRender;_revealOnScroll;_onScroll=this._register(new N);onScroll=this._onScroll.event;_onWillScroll=this._register(new N);onWillScroll=this._onWillScroll.event;get options(){return this._options}constructor(e,t,n){super(),e.style.overflow="hidden",this._options=Mw(t),this._scrollable=n,this._register(this._scrollable.onScroll(o=>{this._onWillScroll.fire(o),this._onDidScroll(o),this._onScroll.fire(o)}));let r={onMouseWheel:o=>this._onMouseWheel(o),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new Ch(this._scrollable,this._options,r)),this._horizontalScrollbar=this._register(new Th(this._scrollable,this._options,r)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(e),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=mo(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=mo(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=mo(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,o=>this._onMouseOver(o)),this.onmouseleave(this._listenOnDomNode,o=>this._onMouseLeave(o)),this._hideTimeout=this._register(new Gi),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}dispose(){this._mouseWheelToDispose=pi(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarPointerDown(e){this._verticalScrollbar.delegatePointerDown(e)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(e){this._scrollable.setScrollDimensions(e,!1)}updateClassName(e){this._options.className=e,Se&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(e){typeof e.handleMouseWheel<"u"&&(this._options.handleMouseWheel=e.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),typeof e.mouseWheelScrollSensitivity<"u"&&(this._options.mouseWheelScrollSensitivity=e.mouseWheelScrollSensitivity),typeof e.fastScrollSensitivity<"u"&&(this._options.fastScrollSensitivity=e.fastScrollSensitivity),typeof e.scrollPredominantAxis<"u"&&(this._options.scrollPredominantAxis=e.scrollPredominantAxis),typeof e.horizontal<"u"&&(this._options.horizontal=e.horizontal),typeof e.vertical<"u"&&(this._options.vertical=e.vertical),typeof e.horizontalScrollbarSize<"u"&&(this._options.horizontalScrollbarSize=e.horizontalScrollbarSize),typeof e.verticalScrollbarSize<"u"&&(this._options.verticalScrollbarSize=e.verticalScrollbarSize),typeof e.scrollByPage<"u"&&(this._options.scrollByPage=e.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}setRevealOnScroll(e){this._revealOnScroll=e}delegateScrollFromMouseWheelEvent(e){this._onMouseWheel(new qn(e))}_setListeningToMouseWheel(e){if(this._mouseWheelToDispose.length>0!==e&&(this._mouseWheelToDispose=pi(this._mouseWheelToDispose),e)){let n=r=>{this._onMouseWheel(new qn(r))};this._mouseWheelToDispose.push(se(this._listenOnDomNode,Te.MOUSE_WHEEL,n,{passive:!1}))}}_onMouseWheel(e){if(e.browserEvent?.defaultPrevented)return;let t=Ib.INSTANCE;Nx&&t.acceptStandardWheelEvent(e);let n=!1;if(e.deltaY||e.deltaX){let o=e.deltaY*this._options.mouseWheelScrollSensitivity,s=e.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(this._options.scrollYToX&&s+o===0?s=o=0:Math.abs(o)>=Math.abs(s)?s=0:o=0),this._options.flipAxes&&([o,s]=[s,o]);let a=!Se&&e.browserEvent&&e.browserEvent.shiftKey;(this._options.scrollYToX||a)&&!s&&(s=o,o=0),e.browserEvent&&e.browserEvent.altKey&&(s=s*this._options.fastScrollSensitivity,o=o*this._options.fastScrollSensitivity);let l=this._scrollable.getFutureScrollPosition(),c={};if(o){let u=Mx*o,p=l.scrollTop-(u<0?Math.floor(u):Math.ceil(u));this._verticalScrollbar.writeScrollPosition(c,p)}if(s){let u=Mx*s,p=l.scrollLeft-(u<0?Math.floor(u):Math.ceil(u));this._horizontalScrollbar.writeScrollPosition(c,p)}c=this._scrollable.validateScrollPosition(c),(l.scrollLeft!==c.scrollLeft||l.scrollTop!==c.scrollTop)&&(Nx&&this._options.mouseWheelSmoothScroll&&t.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(c):this._scrollable.setScrollPositionNow(c),n=!0)}let r=n;!r&&this._options.alwaysConsumeMouseWheel&&(r=!0),!r&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(r=!0),r&&(e.preventDefault(),e.stopPropagation())}_onDidScroll(e){this._shouldRender=this._horizontalScrollbar.onDidScroll(e)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(e)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){let e=this._scrollable.getCurrentScrollPosition(),t=e.scrollTop>0,n=e.scrollLeft>0,r=n?" left":"",o=t?" top":"",s=n||t?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${r}`),this._topShadowDomNode.setClassName(`shadow${o}`),this._topLeftShadowDomNode.setClassName(`shadow${s}${o}${r}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseLeave(e){this._mouseIsOver=!1,this._hide()}_onMouseOver(e){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){!this._mouseIsOver&&!this._isDragging&&(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){!this._mouseIsOver&&!this._isDragging&&this._hideTimeout.cancelAndSet(()=>this._hide(),Ow)}};var Sh=class extends xb{constructor(e,t,n){super(e,t,n)}setScrollPosition(e){e.reuseAnimation?this._scrollable.setScrollPositionSmooth(e,e.reuseAnimation):this._scrollable.setScrollPositionNow(e)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}};function Mw(i){let e={lazyRender:typeof i.lazyRender<"u"?i.lazyRender:!1,className:typeof i.className<"u"?i.className:"",useShadows:typeof i.useShadows<"u"?i.useShadows:!0,handleMouseWheel:typeof i.handleMouseWheel<"u"?i.handleMouseWheel:!0,flipAxes:typeof i.flipAxes<"u"?i.flipAxes:!1,consumeMouseWheelIfScrollbarIsNeeded:typeof i.consumeMouseWheelIfScrollbarIsNeeded<"u"?i.consumeMouseWheelIfScrollbarIsNeeded:!1,alwaysConsumeMouseWheel:typeof i.alwaysConsumeMouseWheel<"u"?i.alwaysConsumeMouseWheel:!1,scrollYToX:typeof i.scrollYToX<"u"?i.scrollYToX:!1,mouseWheelScrollSensitivity:typeof i.mouseWheelScrollSensitivity<"u"?i.mouseWheelScrollSensitivity:1,fastScrollSensitivity:typeof i.fastScrollSensitivity<"u"?i.fastScrollSensitivity:5,scrollPredominantAxis:typeof i.scrollPredominantAxis<"u"?i.scrollPredominantAxis:!0,mouseWheelSmoothScroll:typeof i.mouseWheelSmoothScroll<"u"?i.mouseWheelSmoothScroll:!0,arrowSize:typeof i.arrowSize<"u"?i.arrowSize:11,listenOnDomNode:typeof i.listenOnDomNode<"u"?i.listenOnDomNode:null,horizontal:typeof i.horizontal<"u"?i.horizontal:1,horizontalScrollbarSize:typeof i.horizontalScrollbarSize<"u"?i.horizontalScrollbarSize:10,horizontalSliderSize:typeof i.horizontalSliderSize<"u"?i.horizontalSliderSize:0,horizontalHasArrows:typeof i.horizontalHasArrows<"u"?i.horizontalHasArrows:!1,vertical:typeof i.vertical<"u"?i.vertical:1,verticalScrollbarSize:typeof i.verticalScrollbarSize<"u"?i.verticalScrollbarSize:10,verticalHasArrows:typeof i.verticalHasArrows<"u"?i.verticalHasArrows:!1,verticalSliderSize:typeof i.verticalSliderSize<"u"?i.verticalSliderSize:0,scrollByPage:typeof i.scrollByPage<"u"?i.scrollByPage:!1};return e.horizontalSliderSize=typeof i.horizontalSliderSize<"u"?i.horizontalSliderSize:e.horizontalScrollbarSize,e.verticalSliderSize=typeof i.verticalSliderSize<"u"?i.verticalSliderSize:e.verticalScrollbarSize,Se&&(e.className+=" mac"),e}var Pw=()=>({get delay(){return-1},dispose:()=>{},showHover:()=>{}}),Px=Pw,Fw=new en(()=>Px("mouse",!1)),Bw=new en(()=>Px("element",!1));function oa(i){return i==="element"?Bw.value:Fw.value}var Ht;(r=>{function i(o,s){if(o.start>=s.end||s.start>=o.end)return{start:0,end:0};let a=Math.max(o.start,s.start),l=Math.min(o.end,s.end);return l-a<=0?{start:0,end:0}:{start:a,end:l}}r.intersect=i;function e(o){return o.end-o.start<=0}r.isEmpty=e;function t(o,s){return!e(i(o,s))}r.intersects=t;function n(o,s){let a=[],l={start:o.start,end:Math.min(s.start,o.end)},c={start:Math.max(s.end,o.start),end:o.end};return e(l)||a.push(l),e(c)||a.push(c),a}r.relativeComplement=n})(Ht||={});function Ux(i){let e=i.inline?"span":"div",t=document.createElement(e);return i.className&&(t.className=i.className),t}var Wx=2e4,Ww,Tb,Hx;function Cb(i){Ww&&(Tb.textContent!==i?(uo(Hx),Vx(Tb,i)):(uo(Tb),Vx(Hx,i)))}function Vx(i,e){uo(i),e.length>Wx&&(e=e.substr(0,Wx)),i.textContent=e,i.style.visibility="hidden",i.style.visibility="visible"}var Eh=class{constructor(e){this.spliceables=e}splice(e,t,n){this.spliceables.forEach(r=>r.splice(e,t,n))}};function Kx(i,e){let t=[];for(let n of e){if(i.start>=n.range.end)continue;if(i.end<n.range.start)break;let r=Ht.intersect(i,n.range);Ht.isEmpty(r)||t.push({range:r,size:n.size})}return t}function kh({start:i,end:e},t){return{start:i+t,end:e+t}}function Hw(i){let e=[],t=null;for(let n of i){let r=n.range.start,o=n.range.end,s=n.size;if(t&&s===t.size){t.range.end=o;continue}t={range:{start:r,end:o},size:s},e.push(t)}return e}function Vw(...i){return Hw(i.reduce((e,t)=>e.concat(t),[]))}var wh=class{groups=[];_size=0;_paddingTop=0;get paddingTop(){return this._paddingTop}set paddingTop(e){this._size=this._size+e-this._paddingTop,this._paddingTop=e}constructor(e){this._paddingTop=e??0,this._size=this._paddingTop}splice(e,t,n=[]){let r=n.length-t,o=Kx({start:0,end:e},this.groups),s=Kx({start:e+t,end:Number.POSITIVE_INFINITY},this.groups).map(l=>({range:kh(l.range,r),size:l.size})),a=n.map((l,c)=>({range:{start:e+c,end:e+c+1},size:l.size}));this.groups=Vw(o,a,s),this._size=this._paddingTop+this.groups.reduce((l,c)=>l+c.size*(c.range.end-c.range.start),0)}get count(){let e=this.groups.length;return e?this.groups[e-1].range.end:0}get size(){return this._size}indexAt(e){if(e<0)return-1;if(e<this._paddingTop)return 0;let t=0,n=this._paddingTop;for(let r of this.groups){let o=r.range.end-r.range.start,s=n+o*r.size;if(e<s)return t+Math.floor((e-n)/r.size);t+=o,n=s}return t}indexAfter(e){return Math.min(this.indexAt(e)+1,this.count)}positionAt(e){if(e<0)return-1;let t=0,n=0;for(let r of this.groups){let o=r.range.end-r.range.start,s=n+o;if(e<s)return this._paddingTop+t+(e-n)*r.size;t+=o*r.size,n=s}return-1}};var _h=class{constructor(e){this.renderers=e}cache=new Map;transactionNodesPendingRemoval=new Set;inTransaction=!1;alloc(e){let t=this.getTemplateCache(e).pop(),n=!1;if(t)n=this.transactionNodesPendingRemoval.has(t.domNode),n&&this.transactionNodesPendingRemoval.delete(t.domNode);else{let r=bt(".monaco-list-row"),s=this.getRenderer(e).renderTemplate(r);t={domNode:r,templateId:e,templateData:s}}return{row:t,isReusingConnectedDomNode:n}}release(e){e&&this.releaseRow(e)}transact(e){if(this.inTransaction)throw new Error("Already in transaction");this.inTransaction=!0;try{e()}finally{for(let t of this.transactionNodesPendingRemoval)this.doRemoveNode(t);this.transactionNodesPendingRemoval.clear(),this.inTransaction=!1}}releaseRow(e){let{domNode:t,templateId:n}=e;t&&(this.inTransaction?this.transactionNodesPendingRemoval.add(t):this.doRemoveNode(t)),this.getTemplateCache(n).push(e)}doRemoveNode(e){e.classList.remove("scrolling"),e.remove()}getTemplateCache(e){let t=this.cache.get(e);return t||(t=[],this.cache.set(e,t)),t}dispose(){this.cache.forEach((e,t)=>{for(let n of e)this.getRenderer(t).disposeTemplate(n.templateData),n.templateData=null}),this.cache.clear(),this.transactionNodesPendingRemoval.clear()}getRenderer(e){let t=this.renderers.get(e);if(!t)throw new Error(`No renderer found for ${e}`);return t}};var Wo={CurrentDragAndDropData:void 0};var Ai={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements(i){return[i]},getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){},dispose(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0},Sb=class{elements;_context;get context(){return this._context}set context(e){this._context=e}constructor(e){this.elements=e}update(){}getData(){return this.elements}},Eb=class{elements;constructor(e){this.elements=e}update(){}getData(){return this.elements}},wb=class{types;files;constructor(){this.types=[],this.files=[]}update(e){if(e.types&&this.types.splice(0,this.types.length,...e.types),e.files){this.files.splice(0,this.files.length);for(let t=0;t<e.files.length;t++){let n=e.files.item(t);n&&(n.size||n.type)&&this.files.push(n)}}}getData(){return{types:this.types,files:this.files}}};function Kw(i,e){return Array.isArray(i)&&Array.isArray(e)?Cn(i,e):i===e}var kb=class{getSetSize;getPosInSet;getRole;isChecked;constructor(e){e?.getSetSize?this.getSetSize=e.getSetSize.bind(e):this.getSetSize=(t,n,r)=>r,e?.getPosInSet?this.getPosInSet=e.getPosInSet.bind(e):this.getPosInSet=(t,n)=>n+1,e?.getRole?this.getRole=e.getRole.bind(e):this.getRole=t=>"listitem",e?.isChecked?this.isChecked=e.isChecked.bind(e):this.isChecked=t=>{}}},Tn=class Tn{constructor(e,t,n,r=Ai){this.virtualDelegate=t;if(r.horizontalScrolling&&r.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=this.createRangeMap(r.paddingTop??0);for(let s of n)this.renderers.set(s.templateId,s);this.cache=this.disposables.add(new _h(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support",typeof r.mouseSupport=="boolean"?r.mouseSupport:!0),this._horizontalScrolling=r.horizontalScrolling??Ai.horizontalScrolling,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.paddingBottom=typeof r.paddingBottom>"u"?0:r.paddingBottom,this.accessibilityProvider=new kb(r.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",(r.transformOptimization??Ai.transformOptimization)&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)",this.rowsContainer.style.overflow="hidden",this.rowsContainer.style.contain="strict"),this.disposables.add(nn.addTarget(this.rowsContainer)),this.scrollable=this.disposables.add(new Za({forceIntegerValues:!0,smoothScrollDuration:r.smoothScrolling??!1?125:0,scheduleAtNextAnimationFrame:s=>On(Ce(this.domNode),s)})),this.scrollableElement=this.disposables.add(new Sh(this.rowsContainer,{alwaysConsumeMouseWheel:r.alwaysConsumeMouseWheel??Ai.alwaysConsumeMouseWheel,horizontal:1,vertical:r.verticalScrollMode??Ai.verticalScrollMode,useShadows:r.useShadows??Ai.useShadows,mouseWheelScrollSensitivity:r.mouseWheelScrollSensitivity,fastScrollSensitivity:r.fastScrollSensitivity,scrollByPage:r.scrollByPage},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),e.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),this.disposables.add(se(this.rowsContainer,ct.Change,s=>this.onTouchChange(s))),this.disposables.add(se(this.scrollableElement.getDomNode(),"scroll",s=>s.target.scrollTop=0)),this.disposables.add(se(this.domNode,"dragover",s=>this.onDragOver(this.toDragEvent(s)))),this.disposables.add(se(this.domNode,"drop",s=>this.onDrop(this.toDragEvent(s)))),this.disposables.add(se(this.domNode,"dragleave",s=>this.onDragLeave(this.toDragEvent(s)))),this.disposables.add(se(this.domNode,"dragend",s=>this.onDragEnd(s))),this.setRowLineHeight=r.setRowLineHeight??Ai.setRowLineHeight,this.setRowHeight=r.setRowHeight??Ai.setRowHeight,this.supportDynamicHeights=r.supportDynamicHeights??Ai.supportDynamicHeights,this.dnd=r.dnd??this.disposables.add(Ai.dnd),this.layout(r.initialSize?.height,r.initialSize?.width)}static InstanceCount=0;domId=`list_id_${++Tn.InstanceCount}`;domNode;items;itemId;rangeMap;cache;renderers=new Map;lastRenderTop;lastRenderHeight;renderWidth=0;rowsContainer;scrollable;scrollableElement;_scrollHeight=0;scrollableElementUpdateDisposable=null;scrollableElementWidthDelayer=new Fa(50);splicing=!1;dragOverAnimationDisposable;dragOverAnimationStopDisposable=U.None;dragOverMouseY=0;setRowLineHeight;setRowHeight;supportDynamicHeights;paddingBottom;accessibilityProvider;scrollWidth;dnd;canDrop=!1;currentDragData;currentDragFeedback;currentDragFeedbackPosition;currentDragFeedbackDisposable=U.None;onDragLeaveTimeout=U.None;disposables=new be;_onDidChangeContentHeight=new N;_onDidChangeContentWidth=new N;onDidChangeContentHeight=de.latch(this._onDidChangeContentHeight.event,void 0,this.disposables);onDidChangeContentWidth=de.latch(this._onDidChangeContentWidth.event,void 0,this.disposables);get contentHeight(){return this.rangeMap.size}get contentWidth(){return this.scrollWidth??0}get onDidScroll(){return this.scrollableElement.onScroll}get onWillScroll(){return this.scrollableElement.onWillScroll}get containerDomNode(){return this.rowsContainer}get scrollableElementDomNode(){return this.scrollableElement.getDomNode()}_horizontalScrolling=!1;get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(e){if(e!==this._horizontalScrolling){if(e&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=e,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(let t of this.items)this.measureItemWidth(t);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:ic(this.domNode)}),this.rowsContainer.style.width=`${Math.max(this.scrollWidth||0,this.renderWidth)}px`}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}}updateOptions(e){e.paddingBottom!==void 0&&(this.paddingBottom=e.paddingBottom,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),e.smoothScrolling!==void 0&&this.scrollable.setSmoothScrollDuration(e.smoothScrolling?125:0),e.horizontalScrolling!==void 0&&(this.horizontalScrolling=e.horizontalScrolling);let t;if(e.scrollByPage!==void 0&&(t={...t??{},scrollByPage:e.scrollByPage}),e.mouseWheelScrollSensitivity!==void 0&&(t={...t??{},mouseWheelScrollSensitivity:e.mouseWheelScrollSensitivity}),e.fastScrollSensitivity!==void 0&&(t={...t??{},fastScrollSensitivity:e.fastScrollSensitivity}),t&&this.scrollableElement.updateOptions(t),e.paddingTop!==void 0&&e.paddingTop!==this.rangeMap.paddingTop){let n=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),r=e.paddingTop-this.rangeMap.paddingTop;this.rangeMap.paddingTop=e.paddingTop,this.render(n,Math.max(0,this.lastRenderTop+r),this.lastRenderHeight,void 0,void 0,!0),this.setScrollTop(this.lastRenderTop),this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.lastRenderTop,this.lastRenderHeight)}}delegateScrollFromMouseWheelEvent(e){this.scrollableElement.delegateScrollFromMouseWheelEvent(e)}delegateVerticalScrollbarPointerDown(e){this.scrollableElement.delegateVerticalScrollbarPointerDown(e)}updateElementHeight(e,t,n){if(e<0||e>=this.items.length)return;let r=this.items[e].size;if(typeof t>"u"){if(!this.supportDynamicHeights){console.warn("Dynamic heights not supported",new Error().stack);return}this.items[e].lastDynamicHeightWidth=void 0,t=r+this.probeDynamicHeight(e)}if(r===t)return;let o=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),s=0;e<o.start||n!==null&&n>e&&n<o.end?s=t-r:s=0,this.rangeMap.splice(e,1,[{size:t}]),this.items[e].size=t,this.render(o,Math.max(0,this.lastRenderTop+s),this.lastRenderHeight,void 0,void 0,!0),this.setScrollTop(this.lastRenderTop),this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.lastRenderTop,this.lastRenderHeight)}createRangeMap(e){return new wh(e)}splice(e,t,n=[]){if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(e,t,n)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice(e,t,n=[]){let r=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),o={start:e,end:e+t},s=Ht.intersect(r,o),a=new Map;for(let M=s.end-1;M>=s.start;M--){let P=this.items[M];if(P.dragStartDisposable.dispose(),P.checkedDisposable.dispose(),P.row){let ie=a.get(P.templateId);ie||(ie=[],a.set(P.templateId,ie));let ee=this.renderers.get(P.templateId);ee&&ee.disposeElement&&ee.disposeElement(P.element,M,P.row.templateData,P.size),ie.unshift(P.row)}P.row=null,P.stale=!0}let l={start:e+t,end:this.items.length},c=Ht.intersect(l,r),u=Ht.relativeComplement(l,r),p=n.map(M=>({id:String(this.itemId++),element:M,templateId:this.virtualDelegate.getTemplateId(M),size:this.virtualDelegate.getHeight(M),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(M),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:U.None,checkedDisposable:U.None,stale:!1})),g;e===0&&t>=this.items.length?(this.rangeMap=this.createRangeMap(this.rangeMap.paddingTop),this.rangeMap.splice(0,0,p),g=this.items,this.items=p):(this.rangeMap.splice(e,t,p),g=this.items.splice(e,t,...p));let f=n.length-t,T=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),m=kh(c,f),x=Ht.intersect(T,m);for(let M=x.start;M<x.end;M++)this.updateItemInDOM(this.items[M],M);let w=Ht.relativeComplement(m,T);for(let M of w)for(let P=M.start;P<M.end;P++)this.removeItemFromDOM(P);let k=u.map(M=>kh(M,f)),A=[{start:e,end:e+n.length},...k].map(M=>Ht.intersect(T,M)).reverse();for(let M of A)for(let P=M.end-1;P>=M.start;P--){let ie=this.items[P],te=a.get(ie.templateId)?.pop();this.insertItemInDOM(P,te)}for(let M of a.values())for(let P of M)this.cache.release(P);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),g.map(M=>M.element)}eventuallyUpdateScrollDimensions(){this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=`${this._scrollHeight}px`,this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=On(Ce(this.domNode),()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null}))}eventuallyUpdateScrollWidth(){if(!this.horizontalScrolling){this.scrollableElementWidthDelayer.cancel();return}this.scrollableElementWidthDelayer.trigger(()=>this.updateScrollWidth())}updateScrollWidth(){if(!this.horizontalScrolling)return;let e=0;for(let t of this.items)typeof t.width<"u"&&(e=Math.max(e,t.width));this.scrollWidth=e,this.scrollableElement.setScrollDimensions({scrollWidth:e===0?0:e+10}),this._onDidChangeContentWidth.fire(this.scrollWidth)}updateWidth(e){if(!this.horizontalScrolling||typeof this.scrollWidth>"u")return;let t=this.items[e];this.measureItemWidth(t),typeof t.width<"u"&&t.width>this.scrollWidth&&(this.scrollWidth=t.width,this.scrollableElement.setScrollDimensions({scrollWidth:this.scrollWidth+10}),this._onDidChangeContentWidth.fire(this.scrollWidth))}rerender(){if(this.supportDynamicHeights){for(let e of this.items)e.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}get firstVisibleIndex(){return this.getRenderRange(this.lastRenderTop,this.lastRenderHeight).start}get firstMostlyVisibleIndex(){let e=this.firstVisibleIndex,t=this.rangeMap.positionAt(e),n=this.rangeMap.positionAt(e+1);return n!==-1&&(n-t)/2+t<this.scrollTop?e+1:e}get lastVisibleIndex(){return this.getRenderRange(this.lastRenderTop,this.lastRenderHeight).end-1}element(e){return this.items[e].element}indexOf(e){return this.items.findIndex(t=>t.element===e)}domElement(e){let t=this.items[e].row;return t&&t.domNode}elementHeight(e){return this.items[e].size}elementTop(e){return this.rangeMap.positionAt(e)}indexAt(e){return this.rangeMap.indexAt(e)}indexAfter(e){return this.rangeMap.indexAfter(e)}layout(e,t){let n={height:typeof e=="number"?e:Hy(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,n.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(n),typeof t<"u"&&(this.renderWidth=t,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight)),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:typeof t=="number"?t:ic(this.domNode)})}render(e,t,n,r,o,s=!1){let a=this.getRenderRange(t,n),l=Ht.relativeComplement(a,e).reverse(),c=Ht.relativeComplement(e,a);if(s){let u=Ht.intersect(e,a);for(let p=u.start;p<u.end;p++)this.updateItemInDOM(this.items[p],p)}this.cache.transact(()=>{for(let u of c)for(let p=u.start;p<u.end;p++)this.removeItemFromDOM(p);for(let u of l)for(let p=u.end-1;p>=u.start;p--)this.insertItemInDOM(p)}),r!==void 0&&(this.rowsContainer.style.left=`-${r}px`),this.rowsContainer.style.top=`-${t}px`,this.horizontalScrolling&&o!==void 0&&(this.rowsContainer.style.width=`${Math.max(o,this.renderWidth)}px`),this.lastRenderTop=t,this.lastRenderHeight=n}insertItemInDOM(e,t){let n=this.items[e];if(!n.row)if(t)n.row=t,n.stale=!0;else{let l=this.cache.alloc(n.templateId);n.row=l.row,n.stale||=l.isReusingConnectedDomNode}let r=this.accessibilityProvider.getRole(n.element)||"listitem";n.row.domNode.setAttribute("role",r);let o=this.accessibilityProvider.isChecked(n.element);if(typeof o=="boolean")n.row.domNode.setAttribute("aria-checked",String(!!o));else if(o){let l=c=>n.row.domNode.setAttribute("aria-checked",String(!!c));l(o.value),n.checkedDisposable=o.onDidChange(()=>l(o.value))}if(n.stale||!n.row.domNode.parentElement){let l=this.items.at(e+1)?.row?.domNode??null;(n.row.domNode.parentElement!==this.rowsContainer||n.row.domNode.nextElementSibling!==l)&&this.rowsContainer.insertBefore(n.row.domNode,l),n.stale=!1}this.updateItemInDOM(n,e);let s=this.renderers.get(n.templateId);if(!s)throw new Error(`No renderer found for template id ${n.templateId}`);s?.renderElement(n.element,e,n.row.templateData,n.size);let a=this.dnd.getDragURI(n.element);n.dragStartDisposable.dispose(),n.row.domNode.draggable=!!a,a&&(n.dragStartDisposable=se(n.row.domNode,"dragstart",l=>this.onDragStart(n.element,a,l))),this.horizontalScrolling&&(this.measureItemWidth(n),this.eventuallyUpdateScrollWidth())}measureItemWidth(e){if(!e.row||!e.row.domNode)return;e.row.domNode.style.width="fit-content",e.width=ic(e.row.domNode);let t=Ce(e.row.domNode).getComputedStyle(e.row.domNode);t.paddingLeft&&(e.width+=parseFloat(t.paddingLeft)),t.paddingRight&&(e.width+=parseFloat(t.paddingRight)),e.row.domNode.style.width=""}updateItemInDOM(e,t){e.row.domNode.style.top=`${this.elementTop(t)}px`,this.setRowHeight&&(e.row.domNode.style.height=`${e.size}px`),this.setRowLineHeight&&(e.row.domNode.style.lineHeight=`${e.size}px`),e.row.domNode.setAttribute("data-index",`${t}`),e.row.domNode.setAttribute("data-last-element",t===this.length-1?"true":"false"),e.row.domNode.setAttribute("data-parity",t%2===0?"even":"odd"),e.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(e.element,t,this.length))),e.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(e.element,t))),e.row.domNode.setAttribute("id",this.getElementDomId(t)),e.row.domNode.classList.toggle("drop-target",e.dropTarget)}removeItemFromDOM(e){let t=this.items[e];if(t.dragStartDisposable.dispose(),t.checkedDisposable.dispose(),t.row){let n=this.renderers.get(t.templateId);n&&n.disposeElement&&n.disposeElement(t.element,e,t.row.templateData,t.size),this.cache.release(t.row),t.row=null}this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop(e,t){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:e,reuseAnimation:t})}getScrollLeft(){return this.scrollableElement.getScrollPosition().scrollLeft}setScrollLeft(e){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollWidth:this.scrollWidth})),this.scrollableElement.setScrollPosition({scrollLeft:e})}get scrollTop(){return this.getScrollTop()}set scrollTop(e){this.setScrollTop(e)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.paddingBottom}get onMouseClick(){return de.map(this.disposables.add(new Pe(this.domNode,"click")).event,e=>this.toMouseEvent(e),this.disposables)}get onMouseDblClick(){return de.map(this.disposables.add(new Pe(this.domNode,"dblclick")).event,e=>this.toMouseEvent(e),this.disposables)}get onMouseMiddleClick(){return de.filter(de.map(this.disposables.add(new Pe(this.domNode,"auxclick")).event,e=>this.toMouseEvent(e),this.disposables),e=>e.browserEvent.button===1,this.disposables)}get onMouseUp(){return de.map(this.disposables.add(new Pe(this.domNode,"mouseup")).event,e=>this.toMouseEvent(e),this.disposables)}get onMouseDown(){return de.map(this.disposables.add(new Pe(this.domNode,"mousedown")).event,e=>this.toMouseEvent(e),this.disposables)}get onMouseOver(){return de.map(this.disposables.add(new Pe(this.domNode,"mouseover")).event,e=>this.toMouseEvent(e),this.disposables)}get onMouseMove(){return de.map(this.disposables.add(new Pe(this.domNode,"mousemove")).event,e=>this.toMouseEvent(e),this.disposables)}get onMouseOut(){return de.map(this.disposables.add(new Pe(this.domNode,"mouseout")).event,e=>this.toMouseEvent(e),this.disposables)}get onContextMenu(){return de.any(de.map(this.disposables.add(new Pe(this.domNode,"contextmenu")).event,e=>this.toMouseEvent(e),this.disposables),de.map(this.disposables.add(new Pe(this.domNode,ct.Contextmenu)).event,e=>this.toGestureEvent(e),this.disposables))}get onTouchStart(){return de.map(this.disposables.add(new Pe(this.domNode,"touchstart")).event,e=>this.toTouchEvent(e),this.disposables)}get onTap(){return de.map(this.disposables.add(new Pe(this.rowsContainer,ct.Tap)).event,e=>this.toGestureEvent(e),this.disposables)}toMouseEvent(e){let t=this.getItemIndexFromEventTarget(e.target||null),n=typeof t>"u"?void 0:this.items[t],r=n&&n.element;return{browserEvent:e,index:t,element:r}}toTouchEvent(e){let t=this.getItemIndexFromEventTarget(e.target||null),n=typeof t>"u"?void 0:this.items[t],r=n&&n.element;return{browserEvent:e,index:t,element:r}}toGestureEvent(e){let t=this.getItemIndexFromEventTarget(e.initialTarget||null),n=typeof t>"u"?void 0:this.items[t],r=n&&n.element;return{browserEvent:e,index:t,element:r}}toDragEvent(e){let t=this.getItemIndexFromEventTarget(e.target||null),n=typeof t>"u"?void 0:this.items[t],r=n&&n.element,o=this.getTargetSector(e,t);return{browserEvent:e,index:t,element:r,sector:o}}onScroll(e){try{let t=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render(t,e.scrollTop,e.height,e.scrollLeft,e.scrollWidth),this.supportDynamicHeights&&this._rerender(e.scrollTop,e.height,e.inSmoothScrolling)}catch(t){throw console.error("Got bad scroll event:",e),t}}onTouchChange(e){e.preventDefault(),e.stopPropagation(),this.scrollTop-=e.translationY}onDragStart(e,t,n){if(!n.dataTransfer)return;let r=this.dnd.getDragElements(e);if(n.dataTransfer.effectAllowed="copyMove",n.dataTransfer.setData(zr.TEXT,t),n.dataTransfer.setDragImage){let o;this.dnd.getDragLabel&&(o=this.dnd.getDragLabel(r,n)),typeof o>"u"&&(o=String(r.length));let s=bt(".monaco-drag-image");s.textContent=o,(c=>{for(;c&&!c.classList.contains("monaco-workbench");)c=c.parentElement;return c||this.domNode.ownerDocument})(this.domNode).appendChild(s),n.dataTransfer.setDragImage(s,-10,-10),setTimeout(()=>s.remove(),0)}this.domNode.classList.add("dragging"),this.currentDragData=new Sb(r),Wo.CurrentDragAndDropData=new Eb(r),this.dnd.onDragStart?.(this.currentDragData,n)}onDragOver(e){if(e.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),Wo.CurrentDragAndDropData&&Wo.CurrentDragAndDropData.getData()==="vscode-ui"||(this.setupDragAndDropScrollTopAnimation(e.browserEvent),!e.browserEvent.dataTransfer))return!1;if(!this.currentDragData)if(Wo.CurrentDragAndDropData)this.currentDragData=Wo.CurrentDragAndDropData;else{if(!e.browserEvent.dataTransfer.types)return!1;this.currentDragData=new wb}let t=this.dnd.onDragOver(this.currentDragData,e.element,e.index,e.sector,e.browserEvent);if(this.canDrop=typeof t=="boolean"?t:t.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;e.browserEvent.dataTransfer.dropEffect=typeof t!="boolean"&&t.effect?.type===0?"copy":"move";let n;typeof t!="boolean"&&t.feedback?n=t.feedback:typeof e.index>"u"?n=[-1]:n=[e.index],n=cr(n).filter(o=>o>=-1&&o<this.length).sort((o,s)=>o-s),n=n[0]===-1?[-1]:n;let r=typeof t!="boolean"&&t.effect&&t.effect.position?t.effect.position:"drop-target";if(Kw(this.currentDragFeedback,n)&&this.currentDragFeedbackPosition===r)return!0;if(this.currentDragFeedback=n,this.currentDragFeedbackPosition=r,this.currentDragFeedbackDisposable.dispose(),n[0]===-1)this.domNode.classList.add(r),this.rowsContainer.classList.add(r),this.currentDragFeedbackDisposable=pe(()=>{this.domNode.classList.remove(r),this.rowsContainer.classList.remove(r)});else{if(n.length>1&&r!=="drop-target")throw new Error("Can't use multiple feedbacks with position different than 'over'");r==="drop-target-after"&&n[0]<this.length-1&&(n[0]+=1,r="drop-target-before");for(let o of n){let s=this.items[o];s.dropTarget=!0,s.row?.domNode.classList.add(r)}this.currentDragFeedbackDisposable=pe(()=>{for(let o of n){let s=this.items[o];s.dropTarget=!1,s.row?.domNode.classList.remove(r)}})}return!0}onDragLeave(e){this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=za(()=>this.clearDragOverFeedback(),100,this.disposables),this.currentDragData&&this.dnd.onDragLeave?.(this.currentDragData,e.element,e.index,e.browserEvent)}onDrop(e){if(!this.canDrop)return;let t=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.domNode.classList.remove("dragging"),this.currentDragData=void 0,Wo.CurrentDragAndDropData=void 0,!(!t||!e.browserEvent.dataTransfer)&&(e.browserEvent.preventDefault(),t.update(e.browserEvent.dataTransfer),this.dnd.drop(t,e.element,e.index,e.sector,e.browserEvent))}onDragEnd(e){this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.domNode.classList.remove("dragging"),this.currentDragData=void 0,Wo.CurrentDragAndDropData=void 0,this.dnd.onDragEnd?.(e)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackPosition=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=U.None}setupDragAndDropScrollTopAnimation(e){if(!this.dragOverAnimationDisposable){let t=Wy(this.domNode).top;this.dragOverAnimationDisposable=$y(Ce(this.domNode),this.animateDragAndDropScrollTop.bind(this,t))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=za(()=>{this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)},1e3,this.disposables),this.dragOverMouseY=e.pageY}animateDragAndDropScrollTop(e){if(this.dragOverMouseY===void 0)return;let t=this.dragOverMouseY-e,n=this.renderHeight-35;t<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(t-35))):t>n&&(this.scrollTop+=Math.min(14,Math.floor(.3*(t-n))))}teardownDragAndDropScrollTopAnimation(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}getTargetSector(e,t){if(t===void 0)return;let n=e.offsetY/this.items[t].size,r=Math.floor(n/.25);return tc(r,0,3)}getItemIndexFromEventTarget(e){let t=this.scrollableElement.getDomNode(),n=e;for(;(kn(n)||Ky(n))&&n!==this.rowsContainer&&t.contains(n);){let r=n.getAttribute("data-index");if(r){let o=Number(r);if(!isNaN(o))return o}n=n.parentElement}}getRenderRange(e,t){return{start:this.rangeMap.indexAt(e),end:this.rangeMap.indexAfter(e+t-1)}}_rerender(e,t,n){let r=this.getRenderRange(e,t),o,s;e===this.elementTop(r.start)?(o=r.start,s=0):r.end-r.start>1&&(o=r.start+1,s=this.elementTop(o)-e);let a=0;for(;;){let l=this.getRenderRange(e,t),c=!1;for(let u=l.start;u<l.end;u++){let p=this.probeDynamicHeight(u);p!==0&&this.rangeMap.splice(u,1,[this.items[u]]),a+=p,c=c||p!==0}if(!c){a!==0&&this.eventuallyUpdateScrollDimensions();let u=Ht.relativeComplement(r,l);for(let g of u)for(let f=g.start;f<g.end;f++)this.items[f].row&&this.removeItemFromDOM(f);let p=Ht.relativeComplement(l,r).reverse();for(let g of p)for(let f=g.end-1;f>=g.start;f--)this.insertItemInDOM(f);for(let g=l.start;g<l.end;g++)this.items[g].row&&this.updateItemInDOM(this.items[g],g);if(typeof o=="number"){let g=this.scrollable.getFutureScrollPosition().scrollTop-e,f=this.elementTop(o)-s+g;this.setScrollTop(f,n)}this._onDidChangeContentHeight.fire(this.contentHeight);return}}}probeDynamicHeight(e){let t=this.items[e];if(this.virtualDelegate.getDynamicHeight){let s=this.virtualDelegate.getDynamicHeight(t.element);if(s!==null){let a=t.size;return t.size=s,t.lastDynamicHeightWidth=this.renderWidth,s-a}}if(!t.hasDynamicHeight||t.lastDynamicHeightWidth===this.renderWidth||this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(t.element))return 0;let n=t.size;if(t.row)return t.row.domNode.style.height="",t.size=t.row.domNode.offsetHeight,t.size===0&&!Tr(t.row.domNode,Ce(t.row.domNode).document.body)&&console.warn("Measuring item node that is not in DOM! Add ListView to the DOM before measuring row height!",new Error().stack),t.lastDynamicHeightWidth=this.renderWidth,t.size-n;let{row:r}=this.cache.alloc(t.templateId);r.domNode.style.height="",this.rowsContainer.appendChild(r.domNode);let o=this.renderers.get(t.templateId);if(!o)throw new _e("Missing renderer for templateId: "+t.templateId);return o.renderElement(t.element,e,r.templateData,void 0),t.size=r.domNode.offsetHeight,o.disposeElement?.(t.element,e,r.templateData,void 0),this.virtualDelegate.setDynamicHeight?.(t.element,t.size),t.lastDynamicHeightWidth=this.renderWidth,r.domNode.remove(),this.cache.release(r),t.size-n}getElementDomId(e){return`${this.domId}_${e}`}dispose(){for(let e of this.items)if(e.dragStartDisposable.dispose(),e.checkedDisposable.dispose(),e.row){let t=this.renderers.get(e.row.templateId);t&&(t.disposeElement?.(e.element,-1,e.row.templateData,void 0),t.disposeTemplate(e.row.templateData))}this.items=[],this.domNode?.remove(),this.dragOverAnimationDisposable?.dispose(),this.disposables.dispose()}};ce([We],Tn.prototype,"onMouseClick",1),ce([We],Tn.prototype,"onMouseDblClick",1),ce([We],Tn.prototype,"onMouseMiddleClick",1),ce([We],Tn.prototype,"onMouseUp",1),ce([We],Tn.prototype,"onMouseDown",1),ce([We],Tn.prototype,"onMouseOver",1),ce([We],Tn.prototype,"onMouseMove",1),ce([We],Tn.prototype,"onMouseOut",1),ce([We],Tn.prototype,"onContextMenu",1),ce([We],Tn.prototype,"onTouchStart",1),ce([We],Tn.prototype,"onTap",1);var Lh=Tn;var Oi=class extends Error{constructor(e,t){super(`ListError [${e}] ${t}`)}};var _b=class{constructor(e){this.trait=e}renderedElements=[];get templateId(){return`template:${this.trait.name}`}renderTemplate(e){return e}renderElement(e,t,n){let r=this.renderedElements.findIndex(o=>o.templateData===n);if(r>=0){let o=this.renderedElements[r];this.trait.unrender(n),o.index=t}else{let o={index:t,templateData:n};this.renderedElements.push(o)}this.trait.renderIndex(t,n)}splice(e,t,n){let r=[];for(let o of this.renderedElements)o.index<e?r.push(o):o.index>=e+t&&r.push({index:o.index+n-t,templateData:o.templateData});this.renderedElements=r}renderIndexes(e){for(let{index:t,templateData:n}of this.renderedElements)e.indexOf(t)>-1&&this.trait.renderIndex(t,n)}disposeTemplate(e){let t=this.renderedElements.findIndex(n=>n.templateData===e);t<0||this.renderedElements.splice(t,1)}},sa=class{constructor(e){this._trait=e}indexes=[];sortedIndexes=[];_onChange=new N;onChange=this._onChange.event;get name(){return this._trait}get renderer(){return new _b(this)}splice(e,t,n){let r=n.length-t,o=e+t,s=[],a=0;for(;a<this.sortedIndexes.length&&this.sortedIndexes[a]<e;)s.push(this.sortedIndexes[a++]);for(let l=0;l<n.length;l++)n[l]&&s.push(l+e);for(;a<this.sortedIndexes.length&&this.sortedIndexes[a]>=o;)s.push(this.sortedIndexes[a++]+r);this.renderer.splice(e,t,n.length),this._set(s,s)}renderIndex(e,t){t.classList.toggle(this._trait,this.contains(e))}unrender(e){e.classList.remove(this._trait)}set(e,t){return this._set(e,[...e].sort($x),t)}_set(e,t,n){let r=this.indexes,o=this.sortedIndexes;this.indexes=e,this.sortedIndexes=t;let s=Mb(o,e);return this.renderer.renderIndexes(s),this._onChange.fire({indexes:e,browserEvent:n}),r}get(){return this.indexes}contains(e){return ev(this.sortedIndexes,e,$x)>=0}dispose(){pi(this._onChange)}};ce([We],sa.prototype,"renderer",1);var Lb=class extends sa{constructor(t){super("selected");this.setAriaSelected=t}renderIndex(t,n){super.renderIndex(t,n),this.setAriaSelected&&(this.contains(t)?n.setAttribute("aria-selected","true"):n.setAttribute("aria-selected","false"))}},nd=class{constructor(e,t,n){this.trait=e;this.view=t;this.identityProvider=n}splice(e,t,n){if(!this.identityProvider)return this.trait.splice(e,t,new Array(n.length).fill(!1));let r=this.trait.get().map(a=>this.identityProvider.getId(this.view.element(a)).toString());if(r.length===0)return this.trait.splice(e,t,new Array(n.length).fill(!1));let o=new Set(r),s=n.map(a=>o.has(this.identityProvider.getId(a).toString()));this.trait.splice(e,t,s)}};function Gx(i,e){return i.classList.contains(e)?!0:i.classList.contains("monaco-list")||!i.parentElement?!1:Gx(i.parentElement,e)}function Dh(i){return Gx(i,"monaco-editor")}var Rh=class{constructor(e,t,n){this.list=e;this.view=t;this.multipleSelectionSupport=n.multipleSelectionSupport,this.disposables.add(this.onKeyDown(r=>{switch(r.keyCode){case 3:return this.onEnter(r);case 16:return this.onUpArrow(r);case 18:return this.onDownArrow(r);case 11:return this.onPageUpArrow(r);case 12:return this.onPageDownArrow(r);case 9:return this.onEscape(r);case 31:this.multipleSelectionSupport&&(Se?r.metaKey:r.ctrlKey)&&this.onCtrlA(r)}}))}disposables=new be;multipleSelectionDisposables=new be;multipleSelectionSupport;get onKeyDown(){return de.chain(this.disposables.add(new Pe(this.view.domNode,"keydown")).event,e=>e.filter(t=>!fo(t.target)).map(t=>new pt(t)))}updateOptions(e){e.multipleSelectionSupport!==void 0&&(this.multipleSelectionSupport=e.multipleSelectionSupport)}onEnter(e){e.preventDefault(),e.stopPropagation(),this.list.setSelection(this.list.getFocus(),e.browserEvent)}onUpArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusPrevious(1,!1,e.browserEvent);let t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onDownArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusNext(1,!1,e.browserEvent);let t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onPageUpArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusPreviousPage(e.browserEvent);let t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onPageDownArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusNextPage(e.browserEvent);let t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onCtrlA(e){e.preventDefault(),e.stopPropagation(),this.list.setSelection(jh(this.list.length),e.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus()}onEscape(e){this.list.getSelection().length&&(e.preventDefault(),e.stopPropagation(),this.list.setSelection([],e.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus())}dispose(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()}};ce([We],Rh.prototype,"onKeyDown",1);var qw=new class{mightProducePrintableCharacter(i){return i.ctrlKey||i.metaKey||i.altKey?!1:i.keyCode>=31&&i.keyCode<=56||i.keyCode>=21&&i.keyCode<=30||i.keyCode>=98&&i.keyCode<=107||i.keyCode>=85&&i.keyCode<=95}},Db=class{constructor(e,t,n,r,o){this.list=e;this.view=t;this.keyboardNavigationLabelProvider=n;this.keyboardNavigationEventFilter=r;this.delegate=o;this.updateOptions(e.options)}enabled=!1;state=0;mode=0;triggered=!1;previouslyFocused=-1;enabledDisposables=new be;disposables=new be;updateOptions(e){e.typeNavigationEnabled??!0?this.enable():this.disable(),this.mode=e.typeNavigationMode??0}trigger(){this.triggered=!this.triggered}enable(){if(this.enabled)return;let e=!1,t=de.chain(this.enabledDisposables.add(new Pe(this.view.domNode,"keydown")).event,o=>o.filter(s=>!fo(s.target)).filter(()=>this.mode===0||this.triggered).map(s=>new pt(s)).filter(s=>e||this.keyboardNavigationEventFilter(s)).filter(s=>this.delegate.mightProducePrintableCharacter(s)).forEach(s=>gn.stop(s,!0)).map(s=>s.browserEvent.key)),n=de.debounce(t,()=>null,800,void 0,void 0,void 0,this.enabledDisposables);de.reduce(de.any(t,n),(o,s)=>s===null?null:(o||"")+s,void 0,this.enabledDisposables)(this.onInput,this,this.enabledDisposables),n(this.onClear,this,this.enabledDisposables),t(()=>e=!0,void 0,this.enabledDisposables),n(()=>e=!1,void 0,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){this.enabled&&(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){let e=this.list.getFocus();if(e.length>0&&e[0]===this.previouslyFocused){let t=this.list.options.accessibilityProvider?.getAriaLabel(this.list.element(e[0]));typeof t=="string"?Cb(t):t&&Cb(t.get())}this.previouslyFocused=-1}onInput(e){if(!e){this.state=0,this.triggered=!1;return}let t=this.list.getFocus(),n=t.length>0?t[0]:0,r=this.state===0?1:0;this.state=1;for(let o=0;o<this.list.length;o++){let s=(n+o+r)%this.list.length,a=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(s)),l=a&&a.toString();if(this.list.options.typeNavigationEnabled){if(typeof l<"u"){if(Ya(e,l)){this.previouslyFocused=n,this.list.setFocus([s]),this.list.reveal(s);return}let c=rI(e,l);if(c&&c[0].end-c[0].start>1&&c.length===1){this.previouslyFocused=n,this.list.setFocus([s]),this.list.reveal(s);return}}}else if(typeof l>"u"||Ya(e,l)){this.previouslyFocused=n,this.list.setFocus([s]),this.list.reveal(s);return}}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}},Rb=class{constructor(e,t){this.list=e;this.view=t;let n=de.chain(this.disposables.add(new Pe(t.domNode,"keydown")).event,o=>o.filter(s=>!fo(s.target)).map(s=>new pt(s)));de.chain(n,o=>o.filter(s=>s.keyCode===2&&!s.ctrlKey&&!s.metaKey&&!s.shiftKey&&!s.altKey))(this.onTab,this,this.disposables)}disposables=new be;onTab(e){if(e.target!==this.view.domNode)return;let t=this.list.getFocus();if(t.length===0)return;let n=this.view.domElement(t[0]);if(!n)return;let r=n.querySelector("[tabIndex]");if(!r||!kn(r)||r.tabIndex===-1)return;let o=Ce(r).getComputedStyle(r);o.visibility==="hidden"||o.display==="none"||(e.preventDefault(),e.stopPropagation(),r.focus())}dispose(){this.disposables.dispose()}};function $w(i){return Se?i.browserEvent.metaKey:i.browserEvent.ctrlKey}function Gw(i){return i.browserEvent.shiftKey}function jw(i){return ig(i)&&i.button===2}var qx={isSelectionSingleChangeEvent:$w,isSelectionRangeChangeEvent:Gw},Ab=class{constructor(e){this.list=e;e.options.multipleSelectionSupport!==!1&&(this.multipleSelectionController=this.list.options.multipleSelectionController||qx),this.mouseSupport=typeof e.options.mouseSupport>"u"||!!e.options.mouseSupport,this.mouseSupport&&(e.onMouseDown(this.onMouseDown,this,this.disposables),e.onContextMenu(this.onContextMenu,this,this.disposables),e.onMouseDblClick(this.onDoubleClick,this,this.disposables),e.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(nn.addTarget(e.getHTMLElement()))),de.any(e.onMouseClick,e.onMouseMiddleClick,e.onTap)(this.onViewPointer,this,this.disposables)}multipleSelectionController;mouseSupport;disposables=new be;_onPointer=new N;onPointer=this._onPointer.event;updateOptions(e){e.multipleSelectionSupport!==void 0&&(this.multipleSelectionController=void 0,e.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||qx))}isSelectionSingleChangeEvent(e){return this.multipleSelectionController?this.multipleSelectionController.isSelectionSingleChangeEvent(e):!1}isSelectionRangeChangeEvent(e){return this.multipleSelectionController?this.multipleSelectionController.isSelectionRangeChangeEvent(e):!1}isSelectionChangeEvent(e){return this.isSelectionSingleChangeEvent(e)||this.isSelectionRangeChangeEvent(e)}onMouseDown(e){Dh(e.browserEvent.target)||po()!==e.browserEvent.target&&this.list.domFocus()}onContextMenu(e){if(fo(e.browserEvent.target)||Dh(e.browserEvent.target))return;let t=typeof e.index>"u"?[]:[e.index];this.list.setFocus(t,e.browserEvent)}onViewPointer(e){if(!this.mouseSupport||fo(e.browserEvent.target)||Dh(e.browserEvent.target)||e.browserEvent.isHandledByList)return;e.browserEvent.isHandledByList=!0;let t=e.index;if(typeof t>"u"){this.list.setFocus([],e.browserEvent),this.list.setSelection([],e.browserEvent),this.list.setAnchor(void 0);return}if(this.isSelectionChangeEvent(e))return this.changeSelection(e);this.list.setFocus([t],e.browserEvent),this.list.setAnchor(t),jw(e.browserEvent)||this.list.setSelection([t],e.browserEvent),this._onPointer.fire(e)}onDoubleClick(e){if(fo(e.browserEvent.target)||Dh(e.browserEvent.target)||this.isSelectionChangeEvent(e)||e.browserEvent.isHandledByList)return;e.browserEvent.isHandledByList=!0;let t=this.list.getFocus();this.list.setSelection(t,e.browserEvent)}changeSelection(e){let t=e.index,n=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(e)){typeof n>"u"&&(n=this.list.getFocus()[0]??t,this.list.setAnchor(n));let r=Math.min(n,t),o=Math.max(n,t),s=jh(r,o+1),a=this.list.getSelection(),l=Xw(Mb(a,[n]),n);if(l.length===0)return;let c=Mb(s,Zw(a,l));this.list.setSelection(c,e.browserEvent),this.list.setFocus([t],e.browserEvent)}else if(this.isSelectionSingleChangeEvent(e)){let r=this.list.getSelection(),o=r.filter(s=>s!==t);this.list.setFocus([t]),this.list.setAnchor(t),r.length===o.length?this.list.setSelection([...o,t],e.browserEvent):this.list.setSelection(o,e.browserEvent)}}dispose(){this.disposables.dispose()}},Ob=class{constructor(e,t){this.styleElement=e;this.selectorSuffix=t}style(e){let t=this.selectorSuffix&&`.${this.selectorSuffix}`,n=[];e.listBackground&&n.push(`.monaco-list${t} .monaco-list-rows { background: ${e.listBackground}; }`),e.listFocusBackground&&(n.push(`.monaco-list${t}:focus .monaco-list-row.focused { background-color: ${e.listFocusBackground}; }`),n.push(`.monaco-list${t}:focus .monaco-list-row.focused:hover { background-color: ${e.listFocusBackground}; }`)),e.listFocusForeground&&n.push(`.monaco-list${t}:focus .monaco-list-row.focused { color: ${e.listFocusForeground}; }`),e.listActiveSelectionBackground&&(n.push(`.monaco-list${t}:focus .monaco-list-row.selected { background-color: ${e.listActiveSelectionBackground}; }`),n.push(`.monaco-list${t}:focus .monaco-list-row.selected:hover { background-color: ${e.listActiveSelectionBackground}; }`)),e.listActiveSelectionForeground&&n.push(`.monaco-list${t}:focus .monaco-list-row.selected { color: ${e.listActiveSelectionForeground}; }`),e.listActiveSelectionIconForeground&&n.push(`.monaco-list${t}:focus .monaco-list-row.selected .codicon { color: ${e.listActiveSelectionIconForeground}; }`),e.listFocusAndSelectionBackground&&n.push(`
				.monaco-drag-image,
				.monaco-list${t}:focus .monaco-list-row.selected.focused { background-color: ${e.listFocusAndSelectionBackground}; }
			`),e.listFocusAndSelectionForeground&&n.push(`
				.monaco-drag-image,
				.monaco-list${t}:focus .monaco-list-row.selected.focused { color: ${e.listFocusAndSelectionForeground}; }
			`),e.listInactiveFocusForeground&&(n.push(`.monaco-list${t} .monaco-list-row.focused { color:  ${e.listInactiveFocusForeground}; }`),n.push(`.monaco-list${t} .monaco-list-row.focused:hover { color:  ${e.listInactiveFocusForeground}; }`)),e.listInactiveSelectionIconForeground&&n.push(`.monaco-list${t} .monaco-list-row.focused .codicon { color:  ${e.listInactiveSelectionIconForeground}; }`),e.listInactiveFocusBackground&&(n.push(`.monaco-list${t} .monaco-list-row.focused { background-color:  ${e.listInactiveFocusBackground}; }`),n.push(`.monaco-list${t} .monaco-list-row.focused:hover { background-color:  ${e.listInactiveFocusBackground}; }`)),e.listInactiveSelectionBackground&&(n.push(`.monaco-list${t} .monaco-list-row.selected { background-color:  ${e.listInactiveSelectionBackground}; }`),n.push(`.monaco-list${t} .monaco-list-row.selected:hover { background-color:  ${e.listInactiveSelectionBackground}; }`)),e.listInactiveSelectionForeground&&n.push(`.monaco-list${t} .monaco-list-row.selected { color: ${e.listInactiveSelectionForeground}; }`),e.listHoverBackground&&n.push(`.monaco-list${t}:not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${e.listHoverBackground}; }`),e.listHoverForeground&&n.push(`.monaco-list${t}:not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${e.listHoverForeground}; }`);let r=gs(e.listFocusAndSelectionOutline,gs(e.listSelectionOutline,e.listFocusOutline??""));r&&n.push(`.monaco-list${t}:focus .monaco-list-row.focused.selected { outline: 1px solid ${r}; outline-offset: -1px;}`),e.listFocusOutline&&n.push(`
				.monaco-drag-image,
				.monaco-list${t}:focus .monaco-list-row.focused { outline: 1px solid ${e.listFocusOutline}; outline-offset: -1px; }
				.monaco-workbench.context-menu-visible .monaco-list${t}.last-focused .monaco-list-row.focused { outline: 1px solid ${e.listFocusOutline}; outline-offset: -1px; }
			`);let o=gs(e.listSelectionOutline,e.listInactiveFocusOutline??"");o&&n.push(`.monaco-list${t} .monaco-list-row.focused.selected { outline: 1px dotted ${o}; outline-offset: -1px; }`),e.listSelectionOutline&&n.push(`.monaco-list${t} .monaco-list-row.selected { outline: 1px dotted ${e.listSelectionOutline}; outline-offset: -1px; }`),e.listInactiveFocusOutline&&n.push(`.monaco-list${t} .monaco-list-row.focused { outline: 1px dotted ${e.listInactiveFocusOutline}; outline-offset: -1px; }`),e.listHoverOutline&&n.push(`.monaco-list${t} .monaco-list-row:hover { outline: 1px dashed ${e.listHoverOutline}; outline-offset: -1px; }`),e.listDropOverBackground&&n.push(`
				.monaco-list${t}.drop-target,
				.monaco-list${t} .monaco-list-rows.drop-target,
				.monaco-list${t} .monaco-list-row.drop-target { background-color: ${e.listDropOverBackground} !important; color: inherit !important; }
			`),e.listDropBetweenBackground&&(n.push(`
			.monaco-list${t} .monaco-list-rows.drop-target-before .monaco-list-row:first-child::before,
			.monaco-list${t} .monaco-list-row.drop-target-before::before {
				content: ""; position: absolute; top: 0px; left: 0px; width: 100%; height: 1px;
				background-color: ${e.listDropBetweenBackground};
			}`),n.push(`
			.monaco-list${t} .monaco-list-rows.drop-target-after .monaco-list-row:last-child::after,
			.monaco-list${t} .monaco-list-row.drop-target-after::after {
				content: ""; position: absolute; bottom: 0px; left: 0px; width: 100%; height: 1px;
				background-color: ${e.listDropBetweenBackground};
			}`)),e.tableColumnsBorder&&n.push(`
				.monaco-table > .monaco-split-view2,
				.monaco-table > .monaco-split-view2 .monaco-sash.vertical::before,
				.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2,
				.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: ${e.tableColumnsBorder};
				}

				.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2,
				.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: transparent;
				}
			`),e.tableOddRowsBackgroundColor&&n.push(`
				.monaco-table .monaco-list-row[data-parity=odd]:not(.focused):not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(:focus) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(.focused) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr {
					background-color: ${e.tableOddRowsBackgroundColor};
				}
			`),this.styleElement.textContent=n.join(`
`)}},jx={listFocusBackground:"#7FB0D0",listActiveSelectionBackground:"#0E639C",listActiveSelectionForeground:"#FFFFFF",listActiveSelectionIconForeground:"#FFFFFF",listFocusAndSelectionOutline:"#90C2F9",listFocusAndSelectionBackground:"#094771",listFocusAndSelectionForeground:"#FFFFFF",listInactiveSelectionBackground:"#3F3F46",listInactiveSelectionIconForeground:"#FFFFFF",listHoverBackground:"#2A2D2E",listDropOverBackground:"#383B3D",listDropBetweenBackground:"#EEEEEE",treeIndentGuidesStroke:"#a9a9a9",treeInactiveIndentGuidesStroke:R.fromHex("#a9a9a9").transparent(.4).toString(),tableColumnsBorder:R.fromHex("#cccccc").transparent(.2).toString(),tableOddRowsBackgroundColor:R.fromHex("#cccccc").transparent(.04).toString(),listBackground:void 0,listFocusForeground:void 0,listInactiveSelectionForeground:void 0,listInactiveFocusForeground:void 0,listInactiveFocusBackground:void 0,listHoverForeground:void 0,listFocusOutline:void 0,listInactiveFocusOutline:void 0,listSelectionOutline:void 0,listHoverOutline:void 0,treeStickyScrollBackground:void 0,treeStickyScrollBorder:void 0,treeStickyScrollShadow:void 0},Yw={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){},dispose(){}}};function Xw(i,e){let t=i.indexOf(e);if(t===-1)return[];let n=[],r=t-1;for(;r>=0&&i[r]===e-(t-r);)n.push(i[r--]);for(n.reverse(),r=t;r<i.length&&i[r]===e+(r-t);)n.push(i[r++]);return n}function Mb(i,e){let t=[],n=0,r=0;for(;n<i.length||r<e.length;)if(n>=i.length)t.push(e[r++]);else if(r>=e.length)t.push(i[n++]);else if(i[n]===e[r]){t.push(i[n]),n++,r++;continue}else i[n]<e[r]?t.push(i[n++]):t.push(e[r++]);return t}function Zw(i,e){let t=[],n=0,r=0;for(;n<i.length||r<e.length;)if(n>=i.length)t.push(e[r++]);else if(r>=e.length)t.push(i[n++]);else if(i[n]===e[r]){n++,r++;continue}else i[n]<e[r]?t.push(i[n++]):r++;return t}var $x=(i,e)=>i-e,Nb=class{constructor(e,t){this._templateId=e;this.renderers=t}get templateId(){return this._templateId}renderTemplate(e){return this.renderers.map(t=>t.renderTemplate(e))}renderElement(e,t,n,r){let o=0;for(let s of this.renderers)s.renderElement(e,t,n[o++],r)}disposeElement(e,t,n,r){let o=0;for(let s of this.renderers)s.disposeElement?.(e,t,n[o],r),o+=1}disposeTemplate(e){let t=0;for(let n of this.renderers)n.disposeTemplate(e[t++])}},Pb=class{constructor(e){this.accessibilityProvider=e}templateId="a18n";renderTemplate(e){return{container:e,disposables:new be}}renderElement(e,t,n){let r=this.accessibilityProvider.getAriaLabel(e),o=r&&typeof r!="string"?r:fp(r);n.disposables.add(so(a=>{this.setAriaLabel(a.readObservable(o),n.container)}));let s=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(e);typeof s=="number"?n.container.setAttribute("aria-level",`${s}`):n.container.removeAttribute("aria-level")}setAriaLabel(e,t){e?t.setAttribute("aria-label",e):t.removeAttribute("aria-label")}disposeElement(e,t,n,r){n.disposables.clear()}disposeTemplate(e){e.disposables.dispose()}},Fb=class{constructor(e,t){this.list=e;this.dnd=t}getDragElements(e){let t=this.list.getSelectedElements();return t.indexOf(e)>-1?t:[e]}getDragURI(e){return this.dnd.getDragURI(e)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e,t)}onDragStart(e,t){this.dnd.onDragStart?.(e,t)}onDragOver(e,t,n,r,o){return this.dnd.onDragOver(e,t,n,r,o)}onDragLeave(e,t,n,r){this.dnd.onDragLeave?.(e,t,n,r)}onDragEnd(e){this.dnd.onDragEnd?.(e)}drop(e,t,n,r,o){this.dnd.drop(e,t,n,r,o)}dispose(){this.dnd.dispose()}},oi=class{constructor(e,t,n,r,o=Yw){this.user=e;this._options=o;let s=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?this._options.accessibilityProvider?.getWidgetRole():"list";this.selection=new Lb(s!=="listbox");let a=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=o.accessibilityProvider,this.accessibilityProvider&&(a.push(new Pb(this.accessibilityProvider)),this.accessibilityProvider.onDidChangeActiveDescendant?.(this.onDidChangeActiveDescendant,this,this.disposables)),r=r.map(c=>new Nb(c.templateId,[...a,c]));let l={...o,dnd:o.dnd&&new Fb(this,o.dnd)};if(this.view=this.createListView(t,n,r,l),this.view.domNode.setAttribute("role",s),o.styleController)this.styleController=o.styleController(this.view.domId);else{let c=$a(this.view.domNode);this.styleController=new Ob(c,this.view.domId)}if(this.spliceable=new Eh([new nd(this.focus,this.view,o.identityProvider),new nd(this.selection,this.view,o.identityProvider),new nd(this.anchor,this.view,o.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new Rb(this,this.view)),(typeof o.keyboardSupport!="boolean"||o.keyboardSupport)&&(this.keyboardController=new Rh(this,this.view,o),this.disposables.add(this.keyboardController)),o.keyboardNavigationLabelProvider){let c=o.keyboardNavigationDelegate||qw;this.typeNavigationController=new Db(this,this.view,o.keyboardNavigationLabelProvider,o.keyboardNavigationEventFilter??(()=>!0),c),this.disposables.add(this.typeNavigationController)}this.mouseController=this.createMouseController(o),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),this._options.multipleSelectionSupport!==!1&&this.view.domNode.setAttribute("aria-multiselectable","true")}focus=new sa("focused");selection;anchor=new sa("anchor");eventBufferer=new Md;view;spliceable;styleController;typeNavigationController;accessibilityProvider;keyboardController;mouseController;_ariaLabel="";disposables=new be;get onDidChangeFocus(){return de.map(this.eventBufferer.wrapEvent(this.focus.onChange),e=>this.toListEvent(e),this.disposables)}get onDidChangeSelection(){return de.map(this.eventBufferer.wrapEvent(this.selection.onChange),e=>this.toListEvent(e),this.disposables)}get domId(){return this.view.domId}get onDidScroll(){return this.view.onDidScroll}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseUp(){return this.view.onMouseUp}get onMouseDown(){return this.view.onMouseDown}get onMouseOver(){return this.view.onMouseOver}get onMouseMove(){return this.view.onMouseMove}get onMouseOut(){return this.view.onMouseOut}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let e=!1,t=de.chain(this.disposables.add(new Pe(this.view.domNode,"keydown")).event,o=>o.map(s=>new pt(s)).filter(s=>e=s.keyCode===58||s.shiftKey&&s.keyCode===68).map(s=>gn.stop(s,!0)).filter(()=>!1)),n=de.chain(this.disposables.add(new Pe(this.view.domNode,"keyup")).event,o=>o.forEach(()=>e=!1).map(s=>new pt(s)).filter(s=>s.keyCode===58||s.shiftKey&&s.keyCode===68).map(s=>gn.stop(s,!0)).map(({browserEvent:s})=>{let a=this.getFocus(),l=a.length?a[0]:void 0,c=typeof l<"u"?this.view.element(l):void 0,u=typeof l<"u"?this.view.domElement(l):this.view.domNode;return{index:l,element:c,anchor:u,browserEvent:s}})),r=de.chain(this.view.onContextMenu,o=>o.filter(s=>!e).map(({element:s,index:a,browserEvent:l})=>({element:s,index:a,anchor:new hn(Ce(this.view.domNode),l),browserEvent:l})));return de.any(t,n,r)}get onKeyDown(){return this.disposables.add(new Pe(this.view.domNode,"keydown")).event}get onKeyUp(){return this.disposables.add(new Pe(this.view.domNode,"keyup")).event}get onKeyPress(){return this.disposables.add(new Pe(this.view.domNode,"keypress")).event}get onDidFocus(){return de.signal(this.disposables.add(new Pe(this.view.domNode,"focus",!0)).event)}get onDidBlur(){return de.signal(this.disposables.add(new Pe(this.view.domNode,"blur",!0)).event)}_onDidDispose=new N;onDidDispose=this._onDidDispose.event;createListView(e,t,n,r){return new Lh(e,t,n,r)}createMouseController(e){return new Ab(this)}updateOptions(e={}){this._options={...this._options,...e},this.typeNavigationController?.updateOptions(this._options),this._options.multipleSelectionController!==void 0&&(this._options.multipleSelectionSupport?this.view.domNode.setAttribute("aria-multiselectable","true"):this.view.domNode.removeAttribute("aria-multiselectable")),this.mouseController.updateOptions(e),this.keyboardController?.updateOptions(e),this.view.updateOptions(e)}get options(){return this._options}splice(e,t,n=[]){if(e<0||e>this.view.length)throw new Oi(this.user,`Invalid start index: ${e}`);if(t<0)throw new Oi(this.user,`Invalid delete count: ${t}`);t===0&&n.length===0||this.eventBufferer.bufferEvents(()=>this.spliceable.splice(e,t,n))}updateWidth(e){this.view.updateWidth(e)}updateElementHeight(e,t){this.view.updateElementHeight(e,t,null)}rerender(){this.view.rerender()}element(e){return this.view.element(e)}indexOf(e){return this.view.indexOf(e)}indexAt(e){return this.view.indexAt(e)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get contentWidth(){return this.view.contentWidth}get onDidChangeContentHeight(){return this.view.onDidChangeContentHeight}get onDidChangeContentWidth(){return this.view.onDidChangeContentWidth}get scrollTop(){return this.view.getScrollTop()}set scrollTop(e){this.view.setScrollTop(e)}get scrollLeft(){return this.view.getScrollLeft()}set scrollLeft(e){this.view.setScrollLeft(e)}get scrollHeight(){return this.view.scrollHeight}get renderHeight(){return this.view.renderHeight}get firstVisibleIndex(){return this.view.firstVisibleIndex}get firstMostlyVisibleIndex(){return this.view.firstMostlyVisibleIndex}get lastVisibleIndex(){return this.view.lastVisibleIndex}get ariaLabel(){return this._ariaLabel}set ariaLabel(e){this._ariaLabel=e,this.view.domNode.setAttribute("aria-label",e)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(e,t){this.view.layout(e,t)}triggerTypeNavigation(){this.typeNavigationController?.trigger()}setSelection(e,t){for(let n of e)if(n<0||n>=this.length)throw new Oi(this.user,`Invalid index ${n}`);this.selection.set(e,t)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map(e=>this.view.element(e))}setAnchor(e){if(typeof e>"u"){this.anchor.set([]);return}if(e<0||e>=this.length)throw new Oi(this.user,`Invalid index ${e}`);this.anchor.set([e])}getAnchor(){return this.anchor.get().at(0)}getAnchorElement(){let e=this.getAnchor();return typeof e>"u"?void 0:this.element(e)}setFocus(e,t){for(let n of e)if(n<0||n>=this.length)throw new Oi(this.user,`Invalid index ${n}`);this.focus.set(e,t)}focusNext(e=1,t=!1,n,r){if(this.length===0)return;let o=this.focus.get(),s=this.findNextIndex(o.length>0?o[0]+e:0,t,r);s>-1&&this.setFocus([s],n)}focusPrevious(e=1,t=!1,n,r){if(this.length===0)return;let o=this.focus.get(),s=this.findPreviousIndex(o.length>0?o[0]-e:0,t,r);s>-1&&this.setFocus([s],n)}async focusNextPage(e,t){let n=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);n=n===0?0:n-1;let r=this.getFocus()[0];if(r!==n&&(r===void 0||n>r)){let o=this.findPreviousIndex(n,!1,t);o>-1&&r!==o?this.setFocus([o],e):this.setFocus([n],e)}else{let o=this.view.getScrollTop(),s=o+this.view.renderHeight;n>r&&(s-=this.view.elementHeight(n)),this.view.setScrollTop(s),this.view.getScrollTop()!==o&&(this.setFocus([]),await Yd(0),await this.focusNextPage(e,t))}}async focusPreviousPage(e,t,n=()=>0){let r,o=n(),s=this.view.getScrollTop()+o;s===0?r=this.view.indexAt(s):r=this.view.indexAfter(s-1);let a=this.getFocus()[0];if(a!==r&&(a===void 0||a>=r)){let l=this.findNextIndex(r,!1,t);l>-1&&a!==l?this.setFocus([l],e):this.setFocus([r],e)}else{let l=s;this.view.setScrollTop(s-this.view.renderHeight-o),this.view.getScrollTop()+n()!==l&&(this.setFocus([]),await Yd(0),await this.focusPreviousPage(e,t,n))}}focusLast(e,t){if(this.length===0)return;let n=this.findPreviousIndex(this.length-1,!1,t);n>-1&&this.setFocus([n],e)}focusFirst(e,t){this.focusNth(0,e,t)}focusNth(e,t,n){if(this.length===0)return;let r=this.findNextIndex(e,!1,n);r>-1&&this.setFocus([r],t)}findNextIndex(e,t=!1,n){for(let r=0;r<this.length;r++){if(e>=this.length&&!t)return-1;if(e=e%this.length,!n||n(this.element(e)))return e;e++}return-1}findPreviousIndex(e,t=!1,n){for(let r=0;r<this.length;r++){if(e<0&&!t)return-1;if(e=(this.length+e%this.length)%this.length,!n||n(this.element(e)))return e;e--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map(e=>this.view.element(e))}reveal(e,t,n=0){if(e<0||e>=this.length)throw new Oi(this.user,`Invalid index ${e}`);let r=this.view.getScrollTop(),o=this.view.elementTop(e),s=this.view.elementHeight(e);if(co(t)){let a=s-this.view.renderHeight+n;this.view.setScrollTop(a*tc(t,0,1)+o-n)}else{let a=o+s,l=r+this.view.renderHeight;o<r+n&&a>=l||(o<r+n||a>=l&&s>=this.view.renderHeight?this.view.setScrollTop(o-n):a>=l&&this.view.setScrollTop(a-this.view.renderHeight))}}getRelativeTop(e,t=0){if(e<0||e>=this.length)throw new Oi(this.user,`Invalid index ${e}`);let n=this.view.getScrollTop(),r=this.view.elementTop(e),o=this.view.elementHeight(e);if(r<n+t||r+o>n+this.view.renderHeight)return null;let s=o-this.view.renderHeight+t;return Math.abs((n+t-r)/s)}isDOMFocused(){return qa(this.view.domNode)}getHTMLElement(){return this.view.domNode}getScrollableElement(){return this.view.scrollableElementDomNode}getElementID(e){return this.view.getElementDomId(e)}getElementTop(e){return this.view.elementTop(e)}style(e){this.styleController.style(e)}toListEvent({indexes:e,browserEvent:t}){return{indexes:e,elements:e.map(n=>this.view.element(n)),browserEvent:t}}_onFocusChange(){let e=this.focus.get();this.view.domNode.classList.toggle("element-focused",e.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){let e=this.focus.get();if(e.length>0){let t;this.accessibilityProvider?.getActiveDescendantId&&(t=this.accessibilityProvider.getActiveDescendantId(this.view.element(e[0]))),this.view.domNode.setAttribute("aria-activedescendant",t||this.view.getElementDomId(e[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){let e=this.selection.get();this.view.domNode.classList.toggle("selection-none",e.length===0),this.view.domNode.classList.toggle("selection-single",e.length===1),this.view.domNode.classList.toggle("selection-multiple",e.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}};ce([We],oi.prototype,"onDidChangeFocus",1),ce([We],oi.prototype,"onDidChangeSelection",1),ce([We],oi.prototype,"onContextMenu",1),ce([We],oi.prototype,"onKeyDown",1),ce([We],oi.prototype,"onKeyUp",1),ce([We],oi.prototype,"onKeyPress",1),ce([We],oi.prototype,"onDidFocus",1),ce([We],oi.prototype,"onDidBlur",1);var Qw=new RegExp(`(\\\\)?\\$\\((${Ze.iconNameExpression}(?:${Ze.iconModifierExpression})?)\\)`,"g");function Ah(i){let e=new Array,t,n=0,r=0;for(;(t=Qw.exec(i))!==null;){r=t.index||0,n<r&&e.push(i.substring(n,r)),n=(t.index||0)+t[0].length;let[,o,s]=t;e.push(o?`$(${s})`:Jw({id:s}))}return n<i.length&&e.push(i.substring(n)),e}function Jw(i){let e=bt("span");return e.classList.add(...Ze.asClassNameArray(i)),e}var Bb=class{_prefix;_lastId;constructor(e){this._prefix=e,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}},zb=new Bb("id#");var Rt={};(function(){function i(e,t){t(Rt)}i.amd=!0,function(e,t){typeof i=="function"&&i.amd?i(["exports"],t):typeof exports=="object"&&typeof module<"u"?t(exports):(e=typeof globalThis<"u"?globalThis:e||self,t(e.marked={}))}(this,function(e){"use strict";function t(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}e.defaults=t();function n(fe){e.defaults=fe}let r=/[&<>"']/,o=new RegExp(r.source,"g"),s=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,a=new RegExp(s.source,"g"),l={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},c=fe=>l[fe];function u(fe,b){if(b){if(r.test(fe))return fe.replace(o,c)}else if(s.test(fe))return fe.replace(a,c);return fe}let p=/(^|[^\[])\^/g;function g(fe,b){let y=typeof fe=="string"?fe:fe.source;b=b||"";let I={replace:(C,S)=>{let D=typeof S=="string"?S:S.source;return D=D.replace(p,"$1"),y=y.replace(C,D),I},getRegex:()=>new RegExp(y,b)};return I}function f(fe){try{fe=encodeURI(fe).replace(/%25/g,"%")}catch{return null}return fe}let T={exec:()=>null};function m(fe,b){let y=fe.replace(/\|/g,(S,D,O)=>{let H=!1,j=D;for(;--j>=0&&O[j]==="\\";)H=!H;return H?"|":" |"}),I=y.split(/ \|/),C=0;if(I[0].trim()||I.shift(),I.length>0&&!I[I.length-1].trim()&&I.pop(),b)if(I.length>b)I.splice(b);else for(;I.length<b;)I.push("");for(;C<I.length;C++)I[C]=I[C].trim().replace(/\\\|/g,"|");return I}function x(fe,b,y){let I=fe.length;if(I===0)return"";let C=0;for(;C<I;){let S=fe.charAt(I-C-1);if(S===b&&!y)C++;else if(S!==b&&y)C++;else break}return fe.slice(0,I-C)}function w(fe,b){if(fe.indexOf(b[1])===-1)return-1;let y=0;for(let I=0;I<fe.length;I++)if(fe[I]==="\\")I++;else if(fe[I]===b[0])y++;else if(fe[I]===b[1]&&(y--,y<0))return I;return-1}function k(fe,b,y,I){let C=b.href,S=b.title?u(b.title):null,D=fe[1].replace(/\\([\[\]])/g,"$1");if(fe[0].charAt(0)!=="!"){I.state.inLink=!0;let O={type:"link",raw:y,href:C,title:S,text:D,tokens:I.inlineTokens(D)};return I.state.inLink=!1,O}return{type:"image",raw:y,href:C,title:S,text:u(D)}}function L(fe,b){let y=fe.match(/^(\s+)(?:```)/);if(y===null)return b;let I=y[1];return b.split(`
`).map(C=>{let S=C.match(/^\s+/);if(S===null)return C;let[D]=S;return D.length>=I.length?C.slice(I.length):C}).join(`
`)}class A{options;rules;lexer;constructor(b){this.options=b||e.defaults}space(b){let y=this.rules.block.newline.exec(b);if(y&&y[0].length>0)return{type:"space",raw:y[0]}}code(b){let y=this.rules.block.code.exec(b);if(y){let I=y[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:y[0],codeBlockStyle:"indented",text:this.options.pedantic?I:x(I,`
`)}}}fences(b){let y=this.rules.block.fences.exec(b);if(y){let I=y[0],C=L(I,y[3]||"");return{type:"code",raw:I,lang:y[2]?y[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):y[2],text:C}}}heading(b){let y=this.rules.block.heading.exec(b);if(y){let I=y[2].trim();if(/#$/.test(I)){let C=x(I,"#");(this.options.pedantic||!C||/ $/.test(C))&&(I=C.trim())}return{type:"heading",raw:y[0],depth:y[1].length,text:I,tokens:this.lexer.inline(I)}}}hr(b){let y=this.rules.block.hr.exec(b);if(y)return{type:"hr",raw:x(y[0],`
`)}}blockquote(b){let y=this.rules.block.blockquote.exec(b);if(y){let I=x(y[0],`
`).split(`
`),C="",S="",D=[];for(;I.length>0;){let O=!1,H=[],j;for(j=0;j<I.length;j++)if(/^ {0,3}>/.test(I[j]))H.push(I[j]),O=!0;else if(!O)H.push(I[j]);else break;I=I.slice(j);let me=H.join(`
`),Re=me.replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,`
    $1`).replace(/^ {0,3}>[ \t]?/gm,"");C=C?`${C}
${me}`:me,S=S?`${S}
${Re}`:Re;let Xe=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(Re,D,!0),this.lexer.state.top=Xe,I.length===0)break;let ut=D[D.length-1];if(ut?.type==="code")break;if(ut?.type==="blockquote"){let Je=ut,Z=Je.raw+`
`+I.join(`
`),E=this.blockquote(Z);D[D.length-1]=E,C=C.substring(0,C.length-Je.raw.length)+E.raw,S=S.substring(0,S.length-Je.text.length)+E.text;break}else if(ut?.type==="list"){let Je=ut,Z=Je.raw+`
`+I.join(`
`),E=this.list(Z);D[D.length-1]=E,C=C.substring(0,C.length-ut.raw.length)+E.raw,S=S.substring(0,S.length-Je.raw.length)+E.raw,I=Z.substring(D[D.length-1].raw.length).split(`
`);continue}}return{type:"blockquote",raw:C,tokens:D,text:S}}}list(b){let y=this.rules.block.list.exec(b);if(y){let I=y[1].trim(),C=I.length>1,S={type:"list",raw:"",ordered:C,start:C?+I.slice(0,-1):"",loose:!1,items:[]};I=C?`\\d{1,9}\\${I.slice(-1)}`:`\\${I}`,this.options.pedantic&&(I=C?I:"[*+-]");let D=new RegExp(`^( {0,3}${I})((?:[	 ][^\\n]*)?(?:\\n|$))`),O=!1;for(;b;){let H=!1,j="",me="";if(!(y=D.exec(b))||this.rules.block.hr.test(b))break;j=y[0],b=b.substring(j.length);let Re=y[2].split(`
`,1)[0].replace(/^\t+/,B=>" ".repeat(3*B.length)),Xe=b.split(`
`,1)[0],ut=!Re.trim(),Je=0;if(this.options.pedantic?(Je=2,me=Re.trimStart()):ut?Je=y[1].length+1:(Je=y[2].search(/[^ ]/),Je=Je>4?1:Je,me=Re.slice(Je),Je+=y[1].length),ut&&/^ *$/.test(Xe)&&(j+=Xe+`
`,b=b.substring(Xe.length+1),H=!0),!H){let B=new RegExp(`^ {0,${Math.min(3,Je-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),Y=new RegExp(`^ {0,${Math.min(3,Je-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),$e=new RegExp(`^ {0,${Math.min(3,Je-1)}}(?:\`\`\`|~~~)`),mt=new RegExp(`^ {0,${Math.min(3,Je-1)}}#`);for(;b;){let Vt=b.split(`
`,1)[0];if(Xe=Vt,this.options.pedantic&&(Xe=Xe.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),$e.test(Xe)||mt.test(Xe)||B.test(Xe)||Y.test(b))break;if(Xe.search(/[^ ]/)>=Je||!Xe.trim())me+=`
`+Xe.slice(Je);else{if(ut||Re.search(/[^ ]/)>=4||$e.test(Re)||mt.test(Re)||Y.test(Re))break;me+=`
`+Xe}!ut&&!Xe.trim()&&(ut=!0),j+=Vt+`
`,b=b.substring(Vt.length+1),Re=Xe.slice(Je)}}S.loose||(O?S.loose=!0:/\n *\n *$/.test(j)&&(O=!0));let Z=null,E;this.options.gfm&&(Z=/^\[[ xX]\] /.exec(me),Z&&(E=Z[0]!=="[ ] ",me=me.replace(/^\[[ xX]\] +/,""))),S.items.push({type:"list_item",raw:j,task:!!Z,checked:E,loose:!1,text:me,tokens:[]}),S.raw+=j}S.items[S.items.length-1].raw=S.items[S.items.length-1].raw.trimEnd(),S.items[S.items.length-1].text=S.items[S.items.length-1].text.trimEnd(),S.raw=S.raw.trimEnd();for(let H=0;H<S.items.length;H++)if(this.lexer.state.top=!1,S.items[H].tokens=this.lexer.blockTokens(S.items[H].text,[]),!S.loose){let j=S.items[H].tokens.filter(Re=>Re.type==="space"),me=j.length>0&&j.some(Re=>/\n.*\n/.test(Re.raw));S.loose=me}if(S.loose)for(let H=0;H<S.items.length;H++)S.items[H].loose=!0;return S}}html(b){let y=this.rules.block.html.exec(b);if(y)return{type:"html",block:!0,raw:y[0],pre:y[1]==="pre"||y[1]==="script"||y[1]==="style",text:y[0]}}def(b){let y=this.rules.block.def.exec(b);if(y){let I=y[1].toLowerCase().replace(/\s+/g," "),C=y[2]?y[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",S=y[3]?y[3].substring(1,y[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):y[3];return{type:"def",tag:I,raw:y[0],href:C,title:S}}}table(b){let y=this.rules.block.table.exec(b);if(!y||!/[:|]/.test(y[2]))return;let I=m(y[1]),C=y[2].replace(/^\||\| *$/g,"").split("|"),S=y[3]&&y[3].trim()?y[3].replace(/\n[ \t]*$/,"").split(`
`):[],D={type:"table",raw:y[0],header:[],align:[],rows:[]};if(I.length===C.length){for(let O of C)/^ *-+: *$/.test(O)?D.align.push("right"):/^ *:-+: *$/.test(O)?D.align.push("center"):/^ *:-+ *$/.test(O)?D.align.push("left"):D.align.push(null);for(let O=0;O<I.length;O++)D.header.push({text:I[O],tokens:this.lexer.inline(I[O]),header:!0,align:D.align[O]});for(let O of S)D.rows.push(m(O,D.header.length).map((H,j)=>({text:H,tokens:this.lexer.inline(H),header:!1,align:D.align[j]})));return D}}lheading(b){let y=this.rules.block.lheading.exec(b);if(y)return{type:"heading",raw:y[0],depth:y[2].charAt(0)==="="?1:2,text:y[1],tokens:this.lexer.inline(y[1])}}paragraph(b){let y=this.rules.block.paragraph.exec(b);if(y){let I=y[1].charAt(y[1].length-1)===`
`?y[1].slice(0,-1):y[1];return{type:"paragraph",raw:y[0],text:I,tokens:this.lexer.inline(I)}}}text(b){let y=this.rules.block.text.exec(b);if(y)return{type:"text",raw:y[0],text:y[0],tokens:this.lexer.inline(y[0])}}escape(b){let y=this.rules.inline.escape.exec(b);if(y)return{type:"escape",raw:y[0],text:u(y[1])}}tag(b){let y=this.rules.inline.tag.exec(b);if(y)return!this.lexer.state.inLink&&/^<a /i.test(y[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(y[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(y[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(y[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:y[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:y[0]}}link(b){let y=this.rules.inline.link.exec(b);if(y){let I=y[2].trim();if(!this.options.pedantic&&/^</.test(I)){if(!/>$/.test(I))return;let D=x(I.slice(0,-1),"\\");if((I.length-D.length)%2===0)return}else{let D=w(y[2],"()");if(D>-1){let H=(y[0].indexOf("!")===0?5:4)+y[1].length+D;y[2]=y[2].substring(0,D),y[0]=y[0].substring(0,H).trim(),y[3]=""}}let C=y[2],S="";if(this.options.pedantic){let D=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(C);D&&(C=D[1],S=D[3])}else S=y[3]?y[3].slice(1,-1):"";return C=C.trim(),/^</.test(C)&&(this.options.pedantic&&!/>$/.test(I)?C=C.slice(1):C=C.slice(1,-1)),k(y,{href:C&&C.replace(this.rules.inline.anyPunctuation,"$1"),title:S&&S.replace(this.rules.inline.anyPunctuation,"$1")},y[0],this.lexer)}}reflink(b,y){let I;if((I=this.rules.inline.reflink.exec(b))||(I=this.rules.inline.nolink.exec(b))){let C=(I[2]||I[1]).replace(/\s+/g," "),S=y[C.toLowerCase()];if(!S){let D=I[0].charAt(0);return{type:"text",raw:D,text:D}}return k(I,S,I[0],this.lexer)}}emStrong(b,y,I=""){let C=this.rules.inline.emStrongLDelim.exec(b);if(!C||C[3]&&I.match(/[\p{L}\p{N}]/u))return;if(!(C[1]||C[2]||"")||!I||this.rules.inline.punctuation.exec(I)){let D=[...C[0]].length-1,O,H,j=D,me=0,Re=C[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(Re.lastIndex=0,y=y.slice(-1*b.length+D);(C=Re.exec(y))!=null;){if(O=C[1]||C[2]||C[3]||C[4]||C[5]||C[6],!O)continue;if(H=[...O].length,C[3]||C[4]){j+=H;continue}else if((C[5]||C[6])&&D%3&&!((D+H)%3)){me+=H;continue}if(j-=H,j>0)continue;H=Math.min(H,H+j+me);let Xe=[...C[0]][0].length,ut=b.slice(0,D+C.index+Xe+H);if(Math.min(D,H)%2){let Z=ut.slice(1,-1);return{type:"em",raw:ut,text:Z,tokens:this.lexer.inlineTokens(Z)}}let Je=ut.slice(2,-2);return{type:"strong",raw:ut,text:Je,tokens:this.lexer.inlineTokens(Je)}}}}codespan(b){let y=this.rules.inline.code.exec(b);if(y){let I=y[2].replace(/\n/g," "),C=/[^ ]/.test(I),S=/^ /.test(I)&&/ $/.test(I);return C&&S&&(I=I.substring(1,I.length-1)),I=u(I,!0),{type:"codespan",raw:y[0],text:I}}}br(b){let y=this.rules.inline.br.exec(b);if(y)return{type:"br",raw:y[0]}}del(b){let y=this.rules.inline.del.exec(b);if(y)return{type:"del",raw:y[0],text:y[2],tokens:this.lexer.inlineTokens(y[2])}}autolink(b){let y=this.rules.inline.autolink.exec(b);if(y){let I,C;return y[2]==="@"?(I=u(y[1]),C="mailto:"+I):(I=u(y[1]),C=I),{type:"link",raw:y[0],text:I,href:C,tokens:[{type:"text",raw:I,text:I}]}}}url(b){let y;if(y=this.rules.inline.url.exec(b)){let I,C;if(y[2]==="@")I=u(y[0]),C="mailto:"+I;else{let S;do S=y[0],y[0]=this.rules.inline._backpedal.exec(y[0])?.[0]??"";while(S!==y[0]);I=u(y[0]),y[1]==="www."?C="http://"+y[0]:C=y[0]}return{type:"link",raw:y[0],text:I,href:C,tokens:[{type:"text",raw:I,text:I}]}}}inlineText(b){let y=this.rules.inline.text.exec(b);if(y){let I;return this.lexer.state.inRawBlock?I=y[0]:I=u(y[0]),{type:"text",raw:y[0],text:I}}}}let M=/^(?: *(?:\n|$))+/,P=/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,ie=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,ee=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,te=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,ne=/(?:[*+-]|\d{1,9}[.)])/,ye=g(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,ne).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),Ke=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,qe=/^[^\n]+/,Ye=/(?!\s*\])(?:\\.|[^\[\]\\])+/,G=g(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",Ye).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),F=g(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,ne).getRegex(),V="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",W=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,K=g("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",W).replace("tag",V).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),he=g(Ke).replace("hr",ee).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",V).getRegex(),Be={blockquote:g(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",he).getRegex(),code:P,def:G,fences:ie,heading:te,hr:ee,html:K,lheading:ye,list:F,newline:M,paragraph:he,table:T,text:qe},ve=g("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",ee).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",V).getRegex(),J={...Be,table:ve,paragraph:g(Ke).replace("hr",ee).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",ve).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",V).getRegex()},Pt={...Be,html:g(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",W).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:T,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:g(Ke).replace("hr",ee).replace("heading",` *#{1,6} *[^
]`).replace("lheading",ye).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},wt=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Un=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,_n=/^( {2,}|\\)\n(?!\s*$)/,Vo=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,an="\\p{P}\\p{S}",Mi=g(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,an).getRegex(),da=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,ca=g(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,an).getRegex(),sr=g("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,an).getRegex(),Ko=g("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,an).getRegex(),qo=g(/\\([punct])/,"gu").replace(/punct/g,an).getRegex(),rd=g(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),od=g(W).replace("(?:-->|$)","-->").getRegex(),Ph=g("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",od).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),ar=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,$r=g(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",ar).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Ni=g(/^!?\[(label)\]\[(ref)\]/).replace("label",ar).replace("ref",Ye).getRegex(),Pi=g(/^!?\[(ref)\](?:\[\])?/).replace("ref",Ye).getRegex(),sd=g("reflink|nolink(?!\\()","g").replace("reflink",Ni).replace("nolink",Pi).getRegex(),$o={_backpedal:T,anyPunctuation:qo,autolink:rd,blockSkip:da,br:_n,code:Un,del:T,emStrongLDelim:ca,emStrongRDelimAst:sr,emStrongRDelimUnd:Ko,escape:wt,link:$r,nolink:Pi,punctuation:Mi,reflink:Ni,reflinkSearch:sd,tag:Ph,text:Vo,url:T},ad={...$o,link:g(/^!?\[(label)\]\((.*?)\)/).replace("label",ar).getRegex(),reflink:g(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",ar).getRegex()},Gr={...$o,escape:g(wt).replace("])","~|])").getRegex(),url:g(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},ld={...Gr,br:g(_n).replace("{2,}","*").getRegex(),text:g(Gr.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Fi={normal:Be,gfm:J,pedantic:Pt},ai={normal:$o,gfm:Gr,breaks:ld,pedantic:ad};class ft{tokens;options;state;tokenizer;inlineQueue;constructor(b){this.tokens=[],this.tokens.links=Object.create(null),this.options=b||e.defaults,this.options.tokenizer=this.options.tokenizer||new A,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let y={block:Fi.normal,inline:ai.normal};this.options.pedantic?(y.block=Fi.pedantic,y.inline=ai.pedantic):this.options.gfm&&(y.block=Fi.gfm,this.options.breaks?y.inline=ai.breaks:y.inline=ai.gfm),this.tokenizer.rules=y}static get rules(){return{block:Fi,inline:ai}}static lex(b,y){return new ft(y).lex(b)}static lexInline(b,y){return new ft(y).inlineTokens(b)}lex(b){b=b.replace(/\r\n|\r/g,`
`),this.blockTokens(b,this.tokens);for(let y=0;y<this.inlineQueue.length;y++){let I=this.inlineQueue[y];this.inlineTokens(I.src,I.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(b,y=[],I=!1){this.options.pedantic?b=b.replace(/\t/g,"    ").replace(/^ +$/gm,""):b=b.replace(/^( *)(\t+)/gm,(O,H,j)=>H+"    ".repeat(j.length));let C,S,D;for(;b;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(O=>(C=O.call({lexer:this},b,y))?(b=b.substring(C.raw.length),y.push(C),!0):!1))){if(C=this.tokenizer.space(b)){b=b.substring(C.raw.length),C.raw.length===1&&y.length>0?y[y.length-1].raw+=`
`:y.push(C);continue}if(C=this.tokenizer.code(b)){b=b.substring(C.raw.length),S=y[y.length-1],S&&(S.type==="paragraph"||S.type==="text")?(S.raw+=`
`+C.raw,S.text+=`
`+C.text,this.inlineQueue[this.inlineQueue.length-1].src=S.text):y.push(C);continue}if(C=this.tokenizer.fences(b)){b=b.substring(C.raw.length),y.push(C);continue}if(C=this.tokenizer.heading(b)){b=b.substring(C.raw.length),y.push(C);continue}if(C=this.tokenizer.hr(b)){b=b.substring(C.raw.length),y.push(C);continue}if(C=this.tokenizer.blockquote(b)){b=b.substring(C.raw.length),y.push(C);continue}if(C=this.tokenizer.list(b)){b=b.substring(C.raw.length),y.push(C);continue}if(C=this.tokenizer.html(b)){b=b.substring(C.raw.length),y.push(C);continue}if(C=this.tokenizer.def(b)){b=b.substring(C.raw.length),S=y[y.length-1],S&&(S.type==="paragraph"||S.type==="text")?(S.raw+=`
`+C.raw,S.text+=`
`+C.raw,this.inlineQueue[this.inlineQueue.length-1].src=S.text):this.tokens.links[C.tag]||(this.tokens.links[C.tag]={href:C.href,title:C.title});continue}if(C=this.tokenizer.table(b)){b=b.substring(C.raw.length),y.push(C);continue}if(C=this.tokenizer.lheading(b)){b=b.substring(C.raw.length),y.push(C);continue}if(D=b,this.options.extensions&&this.options.extensions.startBlock){let O=1/0,H=b.slice(1),j;this.options.extensions.startBlock.forEach(me=>{j=me.call({lexer:this},H),typeof j=="number"&&j>=0&&(O=Math.min(O,j))}),O<1/0&&O>=0&&(D=b.substring(0,O+1))}if(this.state.top&&(C=this.tokenizer.paragraph(D))){S=y[y.length-1],I&&S?.type==="paragraph"?(S.raw+=`
`+C.raw,S.text+=`
`+C.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=S.text):y.push(C),I=D.length!==b.length,b=b.substring(C.raw.length);continue}if(C=this.tokenizer.text(b)){b=b.substring(C.raw.length),S=y[y.length-1],S&&S.type==="text"?(S.raw+=`
`+C.raw,S.text+=`
`+C.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=S.text):y.push(C);continue}if(b){let O="Infinite loop on byte: "+b.charCodeAt(0);if(this.options.silent){console.error(O);break}else throw new Error(O)}}return this.state.top=!0,y}inline(b,y=[]){return this.inlineQueue.push({src:b,tokens:y}),y}inlineTokens(b,y=[]){let I,C,S,D=b,O,H,j;if(this.tokens.links){let me=Object.keys(this.tokens.links);if(me.length>0)for(;(O=this.tokenizer.rules.inline.reflinkSearch.exec(D))!=null;)me.includes(O[0].slice(O[0].lastIndexOf("[")+1,-1))&&(D=D.slice(0,O.index)+"["+"a".repeat(O[0].length-2)+"]"+D.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(O=this.tokenizer.rules.inline.blockSkip.exec(D))!=null;)D=D.slice(0,O.index)+"["+"a".repeat(O[0].length-2)+"]"+D.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(O=this.tokenizer.rules.inline.anyPunctuation.exec(D))!=null;)D=D.slice(0,O.index)+"++"+D.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;b;)if(H||(j=""),H=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(me=>(I=me.call({lexer:this},b,y))?(b=b.substring(I.raw.length),y.push(I),!0):!1))){if(I=this.tokenizer.escape(b)){b=b.substring(I.raw.length),y.push(I);continue}if(I=this.tokenizer.tag(b)){b=b.substring(I.raw.length),C=y[y.length-1],C&&I.type==="text"&&C.type==="text"?(C.raw+=I.raw,C.text+=I.text):y.push(I);continue}if(I=this.tokenizer.link(b)){b=b.substring(I.raw.length),y.push(I);continue}if(I=this.tokenizer.reflink(b,this.tokens.links)){b=b.substring(I.raw.length),C=y[y.length-1],C&&I.type==="text"&&C.type==="text"?(C.raw+=I.raw,C.text+=I.text):y.push(I);continue}if(I=this.tokenizer.emStrong(b,D,j)){b=b.substring(I.raw.length),y.push(I);continue}if(I=this.tokenizer.codespan(b)){b=b.substring(I.raw.length),y.push(I);continue}if(I=this.tokenizer.br(b)){b=b.substring(I.raw.length),y.push(I);continue}if(I=this.tokenizer.del(b)){b=b.substring(I.raw.length),y.push(I);continue}if(I=this.tokenizer.autolink(b)){b=b.substring(I.raw.length),y.push(I);continue}if(!this.state.inLink&&(I=this.tokenizer.url(b))){b=b.substring(I.raw.length),y.push(I);continue}if(S=b,this.options.extensions&&this.options.extensions.startInline){let me=1/0,Re=b.slice(1),Xe;this.options.extensions.startInline.forEach(ut=>{Xe=ut.call({lexer:this},Re),typeof Xe=="number"&&Xe>=0&&(me=Math.min(me,Xe))}),me<1/0&&me>=0&&(S=b.substring(0,me+1))}if(I=this.tokenizer.inlineText(S)){b=b.substring(I.raw.length),I.raw.slice(-1)!=="_"&&(j=I.raw.slice(-1)),H=!0,C=y[y.length-1],C&&C.type==="text"?(C.raw+=I.raw,C.text+=I.text):y.push(I);continue}if(b){let me="Infinite loop on byte: "+b.charCodeAt(0);if(this.options.silent){console.error(me);break}else throw new Error(me)}}return y}}class Ln{options;parser;constructor(b){this.options=b||e.defaults}space(b){return""}code({text:b,lang:y,escaped:I}){let C=(y||"").match(/^\S*/)?.[0],S=b.replace(/\n$/,"")+`
`;return C?'<pre><code class="language-'+u(C)+'">'+(I?S:u(S,!0))+`</code></pre>
`:"<pre><code>"+(I?S:u(S,!0))+`</code></pre>
`}blockquote({tokens:b}){return`<blockquote>
${this.parser.parse(b)}</blockquote>
`}html({text:b}){return b}heading({tokens:b,depth:y}){return`<h${y}>${this.parser.parseInline(b)}</h${y}>
`}hr(b){return`<hr>
`}list(b){let y=b.ordered,I=b.start,C="";for(let O=0;O<b.items.length;O++){let H=b.items[O];C+=this.listitem(H)}let S=y?"ol":"ul",D=y&&I!==1?' start="'+I+'"':"";return"<"+S+D+`>
`+C+"</"+S+`>
`}listitem(b){let y="";if(b.task){let I=this.checkbox({checked:!!b.checked});b.loose?b.tokens.length>0&&b.tokens[0].type==="paragraph"?(b.tokens[0].text=I+" "+b.tokens[0].text,b.tokens[0].tokens&&b.tokens[0].tokens.length>0&&b.tokens[0].tokens[0].type==="text"&&(b.tokens[0].tokens[0].text=I+" "+b.tokens[0].tokens[0].text)):b.tokens.unshift({type:"text",raw:I+" ",text:I+" "}):y+=I+" "}return y+=this.parser.parse(b.tokens,!!b.loose),`<li>${y}</li>
`}checkbox({checked:b}){return"<input "+(b?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:b}){return`<p>${this.parser.parseInline(b)}</p>
`}table(b){let y="",I="";for(let S=0;S<b.header.length;S++)I+=this.tablecell(b.header[S]);y+=this.tablerow({text:I});let C="";for(let S=0;S<b.rows.length;S++){let D=b.rows[S];I="";for(let O=0;O<D.length;O++)I+=this.tablecell(D[O]);C+=this.tablerow({text:I})}return C&&(C=`<tbody>${C}</tbody>`),`<table>
<thead>
`+y+`</thead>
`+C+`</table>
`}tablerow({text:b}){return`<tr>
${b}</tr>
`}tablecell(b){let y=this.parser.parseInline(b.tokens),I=b.header?"th":"td";return(b.align?`<${I} align="${b.align}">`:`<${I}>`)+y+`</${I}>
`}strong({tokens:b}){return`<strong>${this.parser.parseInline(b)}</strong>`}em({tokens:b}){return`<em>${this.parser.parseInline(b)}</em>`}codespan({text:b}){return`<code>${b}</code>`}br(b){return"<br>"}del({tokens:b}){return`<del>${this.parser.parseInline(b)}</del>`}link({href:b,title:y,tokens:I}){let C=this.parser.parseInline(I),S=f(b);if(S===null)return C;b=S;let D='<a href="'+b+'"';return y&&(D+=' title="'+y+'"'),D+=">"+C+"</a>",D}image({href:b,title:y,text:I}){let C=f(b);if(C===null)return I;b=C;let S=`<img src="${b}" alt="${I}"`;return y&&(S+=` title="${y}"`),S+=">",S}text(b){return"tokens"in b&&b.tokens?this.parser.parseInline(b.tokens):b.text}}class lr{strong({text:b}){return b}em({text:b}){return b}codespan({text:b}){return b}del({text:b}){return b}html({text:b}){return b}text({text:b}){return b}link({text:b}){return""+b}image({text:b}){return""+b}br(){return""}}class Xt{options;renderer;textRenderer;constructor(b){this.options=b||e.defaults,this.options.renderer=this.options.renderer||new Ln,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new lr}static parse(b,y){return new Xt(y).parse(b)}static parseInline(b,y){return new Xt(y).parseInline(b)}parse(b,y=!0){let I="";for(let C=0;C<b.length;C++){let S=b[C];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[S.type]){let O=S,H=this.options.extensions.renderers[O.type].call({parser:this},O);if(H!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(O.type)){I+=H||"";continue}}let D=S;switch(D.type){case"space":{I+=this.renderer.space(D);continue}case"hr":{I+=this.renderer.hr(D);continue}case"heading":{I+=this.renderer.heading(D);continue}case"code":{I+=this.renderer.code(D);continue}case"table":{I+=this.renderer.table(D);continue}case"blockquote":{I+=this.renderer.blockquote(D);continue}case"list":{I+=this.renderer.list(D);continue}case"html":{I+=this.renderer.html(D);continue}case"paragraph":{I+=this.renderer.paragraph(D);continue}case"text":{let O=D,H=this.renderer.text(O);for(;C+1<b.length&&b[C+1].type==="text";)O=b[++C],H+=`
`+this.renderer.text(O);y?I+=this.renderer.paragraph({type:"paragraph",raw:H,text:H,tokens:[{type:"text",raw:H,text:H}]}):I+=H;continue}default:{let O='Token with "'+D.type+'" type was not found.';if(this.options.silent)return console.error(O),"";throw new Error(O)}}}return I}parseInline(b,y){y=y||this.renderer;let I="";for(let C=0;C<b.length;C++){let S=b[C];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[S.type]){let O=this.options.extensions.renderers[S.type].call({parser:this},S);if(O!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(S.type)){I+=O||"";continue}}let D=S;switch(D.type){case"escape":{I+=y.text(D);break}case"html":{I+=y.html(D);break}case"link":{I+=y.link(D);break}case"image":{I+=y.image(D);break}case"strong":{I+=y.strong(D);break}case"em":{I+=y.em(D);break}case"codespan":{I+=y.codespan(D);break}case"br":{I+=y.br(D);break}case"del":{I+=y.del(D);break}case"text":{I+=y.text(D);break}default:{let O='Token with "'+D.type+'" type was not found.';if(this.options.silent)return console.error(O),"";throw new Error(O)}}}return I}}class jr{options;constructor(b){this.options=b||e.defaults}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(b){return b}postprocess(b){return b}processAllTokens(b){return b}}class li{defaults=t();options=this.setOptions;parse=this.parseMarkdown(ft.lex,Xt.parse);parseInline=this.parseMarkdown(ft.lexInline,Xt.parseInline);Parser=Xt;Renderer=Ln;TextRenderer=lr;Lexer=ft;Tokenizer=A;Hooks=jr;constructor(...b){this.use(...b)}walkTokens(b,y){let I=[];for(let C of b)switch(I=I.concat(y.call(this,C)),C.type){case"table":{let S=C;for(let D of S.header)I=I.concat(this.walkTokens(D.tokens,y));for(let D of S.rows)for(let O of D)I=I.concat(this.walkTokens(O.tokens,y));break}case"list":{let S=C;I=I.concat(this.walkTokens(S.items,y));break}default:{let S=C;this.defaults.extensions?.childTokens?.[S.type]?this.defaults.extensions.childTokens[S.type].forEach(D=>{let O=S[D].flat(1/0);I=I.concat(this.walkTokens(O,y))}):S.tokens&&(I=I.concat(this.walkTokens(S.tokens,y)))}}return I}use(...b){let y=this.defaults.extensions||{renderers:{},childTokens:{}};return b.forEach(I=>{let C={...I};if(C.async=this.defaults.async||C.async||!1,I.extensions&&(I.extensions.forEach(S=>{if(!S.name)throw new Error("extension name required");if("renderer"in S){let D=y.renderers[S.name];D?y.renderers[S.name]=function(...O){let H=S.renderer.apply(this,O);return H===!1&&(H=D.apply(this,O)),H}:y.renderers[S.name]=S.renderer}if("tokenizer"in S){if(!S.level||S.level!=="block"&&S.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let D=y[S.level];D?D.unshift(S.tokenizer):y[S.level]=[S.tokenizer],S.start&&(S.level==="block"?y.startBlock?y.startBlock.push(S.start):y.startBlock=[S.start]:S.level==="inline"&&(y.startInline?y.startInline.push(S.start):y.startInline=[S.start]))}"childTokens"in S&&S.childTokens&&(y.childTokens[S.name]=S.childTokens)}),C.extensions=y),I.renderer){let S=this.defaults.renderer||new Ln(this.defaults);for(let D in I.renderer){if(!(D in S))throw new Error(`renderer '${D}' does not exist`);if(["options","parser"].includes(D))continue;let O=D,H=I.renderer[O],j=S[O];S[O]=(...me)=>{let Re=H.apply(S,me);return Re===!1&&(Re=j.apply(S,me)),Re||""}}C.renderer=S}if(I.tokenizer){let S=this.defaults.tokenizer||new A(this.defaults);for(let D in I.tokenizer){if(!(D in S))throw new Error(`tokenizer '${D}' does not exist`);if(["options","rules","lexer"].includes(D))continue;let O=D,H=I.tokenizer[O],j=S[O];S[O]=(...me)=>{let Re=H.apply(S,me);return Re===!1&&(Re=j.apply(S,me)),Re}}C.tokenizer=S}if(I.hooks){let S=this.defaults.hooks||new jr;for(let D in I.hooks){if(!(D in S))throw new Error(`hook '${D}' does not exist`);if(D==="options")continue;let O=D,H=I.hooks[O],j=S[O];jr.passThroughHooks.has(D)?S[O]=me=>{if(this.defaults.async)return Promise.resolve(H.call(S,me)).then(Xe=>j.call(S,Xe));let Re=H.call(S,me);return j.call(S,Re)}:S[O]=(...me)=>{let Re=H.apply(S,me);return Re===!1&&(Re=j.apply(S,me)),Re}}C.hooks=S}if(I.walkTokens){let S=this.defaults.walkTokens,D=I.walkTokens;C.walkTokens=function(O){let H=[];return H.push(D.call(this,O)),S&&(H=H.concat(S.call(this,O))),H}}this.defaults={...this.defaults,...C}}),this}setOptions(b){return this.defaults={...this.defaults,...b},this}lexer(b,y){return ft.lex(b,y??this.defaults)}parser(b,y){return Xt.parse(b,y??this.defaults)}parseMarkdown(b,y){return(C,S)=>{let D={...S},O={...this.defaults,...D},H=this.onError(!!O.silent,!!O.async);if(this.defaults.async===!0&&D.async===!1)return H(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof C>"u"||C===null)return H(new Error("marked(): input parameter is undefined or null"));if(typeof C!="string")return H(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(C)+", string expected"));if(O.hooks&&(O.hooks.options=O),O.async)return Promise.resolve(O.hooks?O.hooks.preprocess(C):C).then(j=>b(j,O)).then(j=>O.hooks?O.hooks.processAllTokens(j):j).then(j=>O.walkTokens?Promise.all(this.walkTokens(j,O.walkTokens)).then(()=>j):j).then(j=>y(j,O)).then(j=>O.hooks?O.hooks.postprocess(j):j).catch(H);try{O.hooks&&(C=O.hooks.preprocess(C));let j=b(C,O);O.hooks&&(j=O.hooks.processAllTokens(j)),O.walkTokens&&this.walkTokens(j,O.walkTokens);let me=y(j,O);return O.hooks&&(me=O.hooks.postprocess(me)),me}catch(j){return H(j)}}}onError(b,y){return I=>{if(I.message+=`
Please report this to https://github.com/markedjs/marked.`,b){let C="<p>An error occurred:</p><pre>"+u(I.message+"",!0)+"</pre>";return y?Promise.resolve(C):C}if(y)return Promise.reject(I);throw I}}}let Bi=new li;function Ue(fe,b){return Bi.parse(fe,b)}Ue.options=Ue.setOptions=function(fe){return Bi.setOptions(fe),Ue.defaults=Bi.defaults,n(Ue.defaults),Ue},Ue.getDefaults=t,Ue.defaults=e.defaults,Ue.use=function(...fe){return Bi.use(...fe),Ue.defaults=Bi.defaults,n(Ue.defaults),Ue},Ue.walkTokens=function(fe,b){return Bi.walkTokens(fe,b)},Ue.parseInline=Bi.parseInline,Ue.Parser=Xt,Ue.parser=Xt.parse,Ue.Renderer=Ln,Ue.TextRenderer=lr,Ue.Lexer=ft,Ue.lexer=ft.lex,Ue.Tokenizer=A,Ue.Hooks=jr,Ue.parse=Ue;let It=Ue.options,dr=Ue.setOptions,Fh=Ue.use,dd=Ue.walkTokens,ua=Ue.parseInline,cd=Ue,ud=Xt.parse,Bh=ft.lex;e.Hooks=jr,e.Lexer=ft,e.Marked=li,e.Parser=Xt,e.Renderer=Ln,e.TextRenderer=lr,e.Tokenizer=A,e.getDefaults=t,e.lexer=Bh,e.marked=Ue,e.options=It,e.parse=cd,e.parseInline=ua,e.parser=ud,e.setOptions=dr,e.use=Fh,e.walkTokens=dd})})();var m1e=Rt.Hooks||exports.Hooks,b1e=Rt.Lexer||exports.Lexer,v1e=Rt.Marked||exports.Marked,y1e=Rt.Parser||exports.Parser,Ub=Rt.Renderer||exports.Renderer,I1e=Rt.TextRenderer||exports.TextRenderer,x1e=Rt.Tokenizer||exports.Tokenizer,Yx=Rt.defaults||exports.defaults,T1e=Rt.getDefaults||exports.getDefaults,id=Rt.lexer||exports.lexer,C1e=Rt.marked||exports.marked,S1e=Rt.options||exports.options,Wb=Rt.parse||exports.parse,E1e=Rt.parseInline||exports.parseInline,Xx=Rt.parser||exports.parser,w1e=Rt.setOptions||exports.setOptions,k1e=Rt.use||exports.use,_1e=Rt.walkTokens||exports.walkTokens;var Hb=Object.freeze({image:({href:i,title:e,text:t})=>{let n=[],r=[];return i&&({href:i,dimensions:n}=pI(i),r.push(`src="${Xa(i)}"`)),t&&r.push(`alt="${Xa(t)}"`),e&&r.push(`title="${Xa(e)}"`),n.length&&(r=r.concat(n)),"<img "+r.join(" ")+">"},paragraph({tokens:i}){return`<p>${this.parser.parseInline(i)}</p>`},link({href:i,title:e,tokens:t}){let n=this.parser.parseInline(t);return typeof i!="string"?"":(i===n&&(n=pc(n)),e=typeof e=="string"?Xa(pc(e)):"",i=pc(i),i=i.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),`<a href="${i}" title="${e||i}" draggable="false">${n}</a>`)}});function qb(i,e={},t={}){let n=new be,r=!1,o=Ux(e),s=function(m){let x;try{x=Sm(decodeURIComponent(m))}catch{}return x?(x=Yy(x,w=>{if(i.uris&&i.uris[w])return oe.revive(i.uris[w])}),encodeURIComponent(JSON.stringify(x))):m},a=function(m,x){let w=i.uris&&i.uris[m],k=oe.revive(w);return x?m.startsWith(Ee.data+":")?m:(k||(k=oe.parse(m)),Bp.uriToBrowserUri(k).toString(!0)):!k||oe.parse(m).toString()===k.toString()?m:(k.query&&(k=k.with({query:s(k.query)})),k.toString())},l=new Ub;l.image=Hb.image,l.link=Hb.link,l.paragraph=Hb.paragraph;let c=[],u=[];if(e.codeBlockRendererSync?l.code=({text:m,lang:x})=>{let w=zb.nextId(),k=e.codeBlockRendererSync(Zx(x),m);return u.push([w,k]),`<div class="code" data-code="${w}">${Oa(m)}</div>`}:e.codeBlockRenderer&&(l.code=({text:m,lang:x})=>{let w=zb.nextId(),k=e.codeBlockRenderer(Zx(x),m);return c.push(k.then(L=>[w,L])),`<div class="code" data-code="${w}">${Oa(m)}</div>`}),e.actionHandler){let m=function(k){let L=k.target.closest("a[data-href]");if(kn(L))try{let A=L.dataset.href;A&&(i.baseUri&&(A=Vb(oe.from(i.baseUri),A)),e.actionHandler.callback(A,k))}catch(A){ot(A)}finally{k.preventDefault()}},x=e.actionHandler.disposables.add(new Pe(o,"click")),w=e.actionHandler.disposables.add(new Pe(o,"auxclick"));e.actionHandler.disposables.add(de.any(x.event,w.event)(k=>{let L=new hn(Ce(o),k);!L.leftButton&&!L.middleButton||m(L)})),e.actionHandler.disposables.add(se(o,"keydown",k=>{let L=new pt(k);!L.equals(10)&&!L.equals(3)||m(L)}))}i.supportHtml||(l.html=({text:m})=>e.sanitizerOptions?.replaceWithPlaintext?Oa(m):(i.isTrusted?m.match(/^(<span[^>]+>)|(<\/\s*span>)$/):void 0)?m:""),t.renderer=l;let p=i.value??"";p.length>1e5&&(p=`${p.substr(0,1e5)}\u2026`),i.supportThemeIcons&&(p=uI(p));let g;if(e.fillInIncompleteTokens){let m={...Yx,...t},x=id(p,m),w=hk(x);g=Xx(w,m)}else g=Wb(p,{...t,async:!1});i.supportThemeIcons&&(g=Ah(g).map(x=>typeof x=="string"?x:x.outerHTML).join(""));let T=new DOMParser().parseFromString(Kb({isTrusted:i.isTrusted,...e.sanitizerOptions},g),"text/html");if(T.body.querySelectorAll("img, audio, video, source").forEach(m=>{let x=m.getAttribute("src");if(x){let w=x;try{i.baseUri&&(w=Vb(oe.from(i.baseUri),w))}catch{}if(m.setAttribute("src",a(w,!0)),e.remoteImageIsAllowed){let k=oe.parse(w);k.scheme!==Ee.file&&k.scheme!==Ee.data&&!e.remoteImageIsAllowed(k)&&m.replaceWith(bt("",void 0,m.outerHTML))}}}),T.body.querySelectorAll("a").forEach(m=>{let x=m.getAttribute("href");if(m.setAttribute("href",""),!x||/^data:|javascript:/i.test(x)||/^command:/i.test(x)&&!i.isTrusted||/^command:(\/\/\/)?_workbench\.downloadResource/i.test(x))m.replaceWith(...m.childNodes);else{let w=a(x,!1);i.baseUri&&(w=Vb(oe.from(i.baseUri),x)),m.dataset.href=w}}),o.innerHTML=Kb({isTrusted:i.isTrusted,...e.sanitizerOptions},T.body.innerHTML),c.length>0)Promise.all(c).then(m=>{if(r)return;let x=new Map(m),w=o.querySelectorAll("div[data-code]");for(let k of w){let L=x.get(k.dataset.code??"");L&&go(k,L)}e.asyncRenderCallback?.()});else if(u.length>0){let m=new Map(u),x=o.querySelectorAll("div[data-code]");for(let w of x){let k=m.get(w.dataset.code??"");k&&go(w,k)}}if(e.asyncRenderCallback)for(let m of o.getElementsByTagName("img")){let x=n.add(se(m,"load",()=>{x.dispose(),e.asyncRenderCallback()}))}return{element:o,dispose:()=>{r=!0,n.dispose()}}}function Zx(i){if(!i)return"";let e=i.split(/[\s+|:|,|\{|\?]/,1);return e.length?e[0]:i}function Vb(i,e){return/^\w[\w\d+.-]*:/.test(e)?e:i.path.endsWith("/")?zp(i,e).toString():zp(vy(i),e).toString()}var tk=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"];function Kb(i,e){let{config:t,allowedSchemes:n}=ik(i),r=new be;r.add(Qx("uponSanitizeAttribute",(o,s)=>{if(s.attrName==="style"||s.attrName==="class"){if(o.tagName==="SPAN"){if(s.attrName==="style"){s.keepAttr=/^(color\:(#[0-9a-fA-F]+|var\(--vscode(-[a-zA-Z0-9]+)+\));)?(background-color\:(#[0-9a-fA-F]+|var\(--vscode(-[a-zA-Z0-9]+)+\));)?(border-radius:[0-9]+px;)?$/.test(s.attrValue);return}else if(s.attrName==="class"){s.keepAttr=/^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/.test(s.attrValue);return}}s.keepAttr=!1;return}else if(o.tagName==="INPUT"&&o.attributes.getNamedItem("type")?.value==="checkbox"){if(s.attrName==="type"&&s.attrValue==="checkbox"||s.attrName==="disabled"||s.attrName==="checked"){s.keepAttr=!0;return}s.keepAttr=!1}})),r.add(Qx("uponSanitizeElement",(o,s)=>{if(s.tagName==="input"&&(o.attributes.getNamedItem("type")?.value==="checkbox"?o.setAttribute("disabled",""):i.replaceWithPlaintext||o.remove()),i.replaceWithPlaintext&&!s.allowedTags[s.tagName]&&s.tagName!=="body"&&o.parentElement){let a,l;if(s.tagName==="#comment")a=`<!--${o.textContent}-->`;else{let g=tk.includes(s.tagName),f=o.attributes.length?" "+Array.from(o.attributes).map(T=>`${T.name}="${T.value}"`).join(" "):"";a=`<${s.tagName}${f}>`,g||(l=`</${s.tagName}>`)}let c=document.createDocumentFragment(),u=o.parentElement.ownerDocument.createTextNode(a);c.appendChild(u);let p=l?o.parentElement.ownerDocument.createTextNode(l):void 0;for(;o.firstChild;)c.appendChild(o.firstChild);p&&c.appendChild(p),o.parentElement.replaceChild(c,o)}})),r.add(Gy(n));try{return Ha(e,{...t,RETURN_TRUSTED_TYPE:!0})}finally{r.dispose()}}var nk=["align","autoplay","alt","checked","class","colspan","controls","data-code","data-href","disabled","draggable","height","href","loop","muted","playsinline","poster","rowspan","src","style","target","title","type","width","start"];function ik(i){let e=[Ee.http,Ee.https,Ee.mailto,Ee.data,Ee.file,Ee.vscodeFileResource,Ee.vscodeRemote,Ee.vscodeRemoteResource];return i.isTrusted&&e.push(Ee.command),{config:{ALLOWED_TAGS:i.allowedTags??[...jy],ALLOWED_ATTR:nk,ALLOW_UNKNOWN_PROTOCOLS:!0},allowedSchemes:e}}function Jx(i){return typeof i=="string"?i:rk(i)}function rk(i,e){let t=i.value??"";t.length>1e5&&(t=`${t.substr(0,1e5)}\u2026`);let n=Wb(t,{async:!1,renderer:e?ak.value:sk.value}).replace(/&(#\d+|[a-zA-Z]+);/g,r=>ok.get(r)??r);return Kb({isTrusted:!1},n).toString()}var ok=new Map([["&quot;",'"'],["&nbsp;"," "],["&amp;","&"],["&#39;","'"],["&lt;","<"],["&gt;",">"]]);function e0(){let i=new Ub;return i.code=({text:e})=>e,i.blockquote=({text:e})=>e+`
`,i.html=e=>"",i.heading=function({tokens:e}){return this.parser.parseInline(e)+`
`},i.hr=()=>"",i.list=function({items:e}){return e.map(t=>this.listitem(t)).join(`
`)+`
`},i.listitem=({text:e})=>e+`
`,i.paragraph=function({tokens:e}){return this.parser.parseInline(e)+`
`},i.table=function({header:e,rows:t}){return e.map(n=>this.tablecell(n)).join(" ")+`
`+t.map(n=>n.map(r=>this.tablecell(r)).join(" ")).join(`
`)+`
`},i.tablerow=({text:e})=>e,i.tablecell=function({tokens:e}){return this.parser.parseInline(e)},i.strong=({text:e})=>e,i.em=({text:e})=>e,i.codespan=({text:e})=>e,i.br=e=>`
`,i.del=({text:e})=>e,i.image=e=>"",i.text=({text:e})=>e,i.link=({text:e})=>e,i}var sk=new en(i=>e0()),ak=new en(()=>{let i=e0();return i.code=({text:e})=>`
\`\`\`
${e}
\`\`\`
`,i});function Oh(i){let e="";return i.forEach(t=>{e+=t.raw}),e}function t0(i){if(i.tokens)for(let e=i.tokens.length-1;e>=0;e--){let t=i.tokens[e];if(t.type==="text"){let n=t.raw.split(`
`),r=n[n.length-1];if(r.includes("`"))return gk(i);if(r.includes("**"))return Ik(i);if(r.match(/\*\w/))return fk(i);if(r.match(/(^|\s)__\w/))return xk(i);if(r.match(/(^|\s)_\w/))return mk(i);if(lk(r)||dk(r)&&i.tokens.slice(0,e).some(o=>o.type==="text"&&o.raw.match(/\[[^\]]*$/))){let o=i.tokens.slice(e+1);return o[0]?.type==="link"&&o[1]?.type==="text"&&o[1].raw.match(/^ *"[^"]*$/)||r.match(/^[^"]* +"[^"]*$/)?vk(i):bk(i)}else if(r.match(/(^|\s)\[\w*/))return yk(i)}}}function lk(i){return!!i.match(/(^|\s)\[.*\]\(\w*/)}function dk(i){return!!i.match(/^[^\[]*\]\([^\)]*$/)}function ck(i){let e=i.items[i.items.length-1],t=e.tokens?e.tokens[e.tokens.length-1]:void 0,n;if(t?.type==="text"&&!("inRawBlock"in e)&&(n=t0(t)),!n||n.type!=="paragraph")return;let r=Oh(i.items.slice(0,-1)),o=e.raw.match(/^(\s*(-|\d+\.|\*) +)/)?.[0];if(!o)return;let s=o+Oh(e.tokens.slice(0,-1))+n.raw,a=id(r+s)[0];if(a.type==="list")return a}var uk=3;function hk(i){for(let e=0;e<uk;e++){let t=pk(i);if(t)i=t;else break}return i}function pk(i){let e,t;for(e=0;e<i.length;e++){let n=i[e];if(n.type==="paragraph"&&n.raw.match(/(\n|^)\|/)){t=Tk(i.slice(e));break}if(e===i.length-1&&n.type==="list"){let r=ck(n);if(r){t=[r];break}}if(e===i.length-1&&n.type==="paragraph"){let r=t0(n);if(r){t=[r];break}}}if(t){let n=[...i.slice(0,e),...t];return n.links=i.links,n}return null}function gk(i){return qr(i,"`")}function fk(i){return qr(i,"*")}function mk(i){return qr(i,"_")}function bk(i){return qr(i,")")}function vk(i){return qr(i,'")')}function yk(i){return qr(i,"](https://microsoft.com)")}function Ik(i){return qr(i,"**")}function xk(i){return qr(i,"__")}function qr(i,e){let t=Oh(Array.isArray(i)?i:[i]);return id(t+e)[0]}function Tk(i){let e=Oh(i),t=e.split(`
`),n,r=!1;for(let o=0;o<t.length;o++){let s=t[o].trim();if(typeof n>"u"&&s.match(/^\s*\|/)){let a=s.match(/(\|[^\|]+)(?=\||$)/g);a&&(n=a.length)}else if(typeof n=="number")if(s.match(/^\s*\|/)){if(o!==t.length-1)return;r=!0}else return}if(typeof n=="number"&&n>0){let o=r?t.slice(0,-1).join(`
`):e,s=!!o.match(/\|\s*$/),a=o+(s?"":"|")+`
|${" --- |".repeat(n)}`;return id(a)}}function Qx(i,e){return Jd(i,e),pe(()=>ec(i))}var Ck={showHover:()=>{},hideHover:()=>{},showAndFocusLastHover:()=>{},setupManagedHover:()=>null,showManagedHover:()=>{}};function aa(){return Ck}var c0e={...jx,selectBackground:"#3C3C3C",selectForeground:"#F0F0F0",selectBorder:"#3C3C3C",decoratorRightForeground:void 0,selectListBackground:void 0,selectListBorder:void 0,focusBorder:void 0};var aSe={buttonBackground:"#0E639C",buttonHoverBackground:"#006BB3",buttonSeparator:R.white.toString(),buttonForeground:R.white.toString(),buttonBorder:void 0,buttonSecondaryBackground:void 0,buttonSecondaryForeground:void 0,buttonSecondaryHoverBackground:void 0},Mh=class extends U{options;_element;_label="";_labelElement;_labelShortElement;_hover;_onDidClick=this._register(new N);get onDidClick(){return this._onDidClick.event}_onDidEscape=this._register(new N);get onDidEscape(){return this._onDidEscape.event}focusTracker;constructor(e,t){super(),this.options=t,this._element=document.createElement("a"),this._element.classList.add("monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button"),this._element.classList.toggle("secondary",!!t.secondary);let n=t.secondary?t.buttonSecondaryBackground:t.buttonBackground,r=t.secondary?t.buttonSecondaryForeground:t.buttonForeground;this._element.style.color=r||"",this._element.style.backgroundColor=n||"",t.supportShortLabel&&(this._labelShortElement=document.createElement("div"),this._labelShortElement.classList.add("monaco-button-label-short"),this._element.appendChild(this._labelShortElement),this._labelElement=document.createElement("div"),this._labelElement.classList.add("monaco-button-label"),this._element.appendChild(this._labelElement),this._element.classList.add("monaco-text-button-with-short-label")),typeof t.title=="string"&&this.setTitle(t.title),typeof t.ariaLabel=="string"&&this._element.setAttribute("aria-label",t.ariaLabel),e.appendChild(this._element),this._register(nn.addTarget(this._element)),[Te.CLICK,ct.Tap].forEach(o=>{this._register(se(this._element,o,s=>{if(!this.enabled){gn.stop(s);return}this._onDidClick.fire(s)}))}),this._register(se(this._element,Te.KEY_DOWN,o=>{let s=new pt(o),a=!1;this.enabled&&(s.equals(3)||s.equals(10))?(this._onDidClick.fire(o),a=!0):s.equals(9)&&(this._onDidEscape.fire(o),this._element.blur(),a=!0),a&&gn.stop(s,!0)})),this._register(se(this._element,Te.MOUSE_OVER,o=>{this._element.classList.contains("disabled")||this.updateBackground(!0)})),this._register(se(this._element,Te.MOUSE_OUT,o=>{this.updateBackground(!1)})),this.focusTracker=this._register(rg(this._element)),this._register(this.focusTracker.onDidFocus(()=>{this.enabled&&this.updateBackground(!0)})),this._register(this.focusTracker.onDidBlur(()=>{this.enabled&&this.updateBackground(!1)}))}dispose(){super.dispose(),this._element.remove()}getContentElements(e){let t=[];for(let n of Ah(e))if(typeof n=="string"){if(n=n.trim(),n==="")continue;let r=document.createElement("span");r.textContent=n,t.push(r)}else t.push(n);return t}updateBackground(e){let t;this.options.secondary?t=e?this.options.buttonSecondaryHoverBackground:this.options.buttonSecondaryBackground:t=e?this.options.buttonHoverBackground:this.options.buttonBackground,t&&(this._element.style.backgroundColor=t)}get element(){return this._element}set label(e){if(this._label===e||hc(this._label)&&hc(e)&&hI(this._label,e))return;this._element.classList.add("monaco-text-button");let t=this.options.supportShortLabel?this._labelElement:this._element;if(hc(e)){let r=qb(e,{inline:!0});r.dispose();let o=r.element.querySelector("p")?.innerHTML;if(o){let s=Ha(o,{ADD_TAGS:["b","i","u","code","span"],ALLOWED_ATTR:["class"],RETURN_TRUSTED_TYPE:!0});t.innerHTML=s}else go(t)}else this.options.supportIcons?go(t,...this.getContentElements(e)):t.textContent=e;let n="";typeof this.options.title=="string"?n=this.options.title:this.options.title&&(n=Jx(e)),this.setTitle(n),typeof this.options.ariaLabel=="string"?this._element.setAttribute("aria-label",this.options.ariaLabel):this.options.ariaLabel&&this._element.setAttribute("aria-label",n),this._label=e}get label(){return this._label}set labelShort(e){!this.options.supportShortLabel||!this._labelShortElement||(this.options.supportIcons?go(this._labelShortElement,...this.getContentElements(e)):this._labelShortElement.textContent=e)}set icon(e){this._element.classList.add(...Ze.asClassNameArray(e))}set enabled(e){e?(this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0)))}get enabled(){return!this._element.classList.contains("disabled")}set checked(e){e?(this._element.classList.add("checked"),this._element.setAttribute("aria-checked","true")):(this._element.classList.remove("checked"),this._element.setAttribute("aria-checked","false"))}get checked(){return this._element.classList.contains("checked")}setTitle(e){!this._hover&&e!==""?this._hover=this._register(aa().setupManagedHover(this.options.hoverDelegate??oa("mouse"),this._element,e)):this._hover&&this._hover.update(e)}focus(){this._element.focus()}hasFocus(){return qa(this._element)}};var ASe=X("contextViewService"),n0=X("contextMenuService");var i0=X("keybindingService");var Ho=class extends U{constructor(t,n,r,o,s,a,l,c,u,p){super();this.typeId=t;this.editor=n;this.showCommand=o;this.range=s;this.edits=a;this.onSelectNewEdit=l;this._contextMenuService=c;this._keybindingService=p;this.create(),this.visibleContext=r.bindTo(u),this.visibleContext.set(!0),this._register(pe(()=>this.visibleContext.reset())),this.editor.addContentWidget(this),this.editor.layoutContentWidget(this),this._register(pe(()=>this.editor.removeContentWidget(this))),this._register(this.editor.onDidChangeCursorPosition(g=>{s.containsPosition(g.position)||this.dispose()})),this._register(de.runAndSubscribe(p.onDidUpdateKeybindings,()=>{this._updateButtonTitle()}))}static baseId="editor.widget.postEditWidget";allowEditorOverflow=!0;suppressMouseDown=!0;domNode;button;visibleContext;_updateButtonTitle(){let t=this._keybindingService.lookupKeybinding(this.showCommand.id)?.getLabel();this.button.element.title=this.showCommand.label+(t?` (${t})`:"")}create(){this.domNode=bt(".post-edit-widget"),this.button=this._register(new Mh(this.domNode,{supportIcons:!0})),this.button.label="$(insert)",this._register(se(this.domNode,Te.CLICK,()=>this.showSelector()))}getId(){return Ho.baseId+"."+this.typeId}getDomNode(){return this.domNode}getPosition(){return{position:this.range.getEndPosition(),preference:[2]}}showSelector(){this._contextMenuService.showContextMenu({getAnchor:()=>{let t=hs(this.button.element);return{x:t.left+t.width,y:t.top+t.height}},getActions:()=>this.edits.allEdits.map((t,n)=>_I({id:"",label:t.title,checked:n===this.edits.activeEditIndex,run:()=>{if(n!==this.edits.activeEditIndex)return this.onSelectNewEdit(n)}}))})}};Ho=ce([De(7,n0),De(8,Xi),De(9,i0)],Ho);var la=class extends U{constructor(t,n,r,o,s,a,l){super();this._id=t;this._editor=n;this._visibleContext=r;this._showCommand=o;this._instantiationService=s;this._bulkEditService=a;this._notificationService=l;this._register(de.any(n.onDidChangeModel,n.onDidChangeModelContent)(()=>this.clear()))}_currentWidget=this._register(new Qt);async applyEditAndShowIfNeeded(t,n,r,o,s){let a=this._editor.getModel();if(!a||!t.length)return;let l=n.allEdits.at(n.activeEditIndex);if(!l)return;let c=async w=>{let k=this._editor.getModel();k&&(await k.undo(),this.applyEditAndShowIfNeeded(t,{activeEditIndex:w,allEdits:n.allEdits},r,o,s))},u=(w,k)=>{Gh(w)||(this._notificationService.error(k),r&&this.show(t[0],n,c))},p;try{p=await o(l,s)}catch(w){return u(w,d("resolveError",`Error resolving edit '{0}':
{1}`,l.title,Hs(w)))}if(s.isCancellationRequested)return;let g=Ax(a.uri,t,p),f=t[0],T=a.deltaDecorations([],[{range:f,options:{description:"paste-line-suffix",stickiness:0}}]);this._editor.focus();let m,x;try{m=await this._bulkEditService.apply(g,{editor:this._editor,token:s}),x=a.getDecorationRange(T[0])}catch(w){return u(w,d("applyError",`Error applying edit '{0}':
{1}`,l.title,Hs(w)))}finally{a.deltaDecorations(T,[])}s.isCancellationRequested||r&&m.isApplied&&n.allEdits.length>1&&this.show(x??f,n,c)}show(t,n,r){this.clear(),this._editor.hasModel()&&(this._currentWidget.value=this._instantiationService.createInstance(Ho,this._id,this._editor,this._visibleContext,this._showCommand,t,n,r))}clear(){this._currentWidget.clear()}tryShowSelector(){this._currentWidget.value?.showSelector()}};la=ce([De(4,vi),De(5,Dx),De(6,_x)],la);var $b="editor.experimental.dropIntoEditor.defaultProvider",Gb="editor.changeDropType",Nh=new yi("dropWidgetVisible",!1,d("dropWidgetVisible","Whether the drop widget is showing")),si=class extends U{constructor(t,n,r,o,s){super();this._configService=r;this._languageFeaturesService=o;this._treeViewsDragAndDropService=s;this._dropProgressManager=this._register(n.createInstance(ea,"dropIntoEditor",t)),this._postDropWidgetManager=this._register(n.createInstance(la,"dropIntoEditor",t,Nh,{id:Gb,label:d("postDropWidgetTitle","Show drop options...")})),this._register(t.onDropIntoEditor(a=>this.onDropIntoEditor(t,a.position,a.event)))}static ID="editor.contrib.dropIntoEditorController";static get(t){return t.getContribution(si.ID)}_currentOperation;_dropProgressManager;_postDropWidgetManager;treeItemsTransfer=Fu.getInstance();clearWidgets(){this._postDropWidgetManager.clear()}changeDropType(){this._postDropWidgetManager.tryShowSelector()}async onDropIntoEditor(t,n,r){if(!r.dataTransfer||!t.hasModel())return;this._currentOperation?.cancel(),t.focus(),t.setPosition(n);let o=Up(async s=>{let a=new be,l=a.add(new Uu(t,1,void 0,s));try{let c=await this.extractDataTransferData(r);if(c.size===0||l.token.isCancellationRequested)return;let u=t.getModel();if(!u)return;let p=this._languageFeaturesService.documentDropEditProvider.ordered(u).filter(f=>f.dropMimeTypes?f.dropMimeTypes.some(T=>c.matches(T)):!0),g=a.add(await this.getDropEdits(p,u,n,c,l));if(l.token.isCancellationRequested)return;if(g.edits.length){let f=this.getInitialActiveEditIndex(u,g.edits),T=t.getOption(36).showDropSelector==="afterDrop";await this._postDropWidgetManager.applyEditAndShowIfNeeded([z.fromPositions(n)],{activeEditIndex:f,allEdits:g.edits},T,async m=>m,s)}}finally{a.dispose(),this._currentOperation===o&&(this._currentOperation=void 0)}});this._dropProgressManager.showWhile(n,d("dropIntoEditorProgress","Running drop handlers. Click to cancel"),o,{cancel:()=>o.cancel()}),this._currentOperation=o}async getDropEdits(t,n,r,o,s){let a=new be,l=await Ty(Promise.all(t.map(async u=>{try{let p=await u.provideDocumentDropEdits(n,r,o,s.token);return p&&a.add(p),p?.edits.map(g=>({...g,providerId:u.id}))}catch(p){console.error(p)}})),s.token),c=Zr(l??[]).flat();return{edits:Ox(c),dispose:()=>a.dispose()}}getInitialActiveEditIndex(t,n){let r=this._configService.getValue($b,{resource:t.uri});for(let[o,s]of Object.entries(r)){let a=new Zi(s),l=n.findIndex(c=>a.value===c.providerId&&c.handledMimeType&&WI(o,[c.handledMimeType]));if(l>=0)return l}return 0}async extractDataTransferData(t){if(!t.dataTransfer)return new Es;let n=V1(t.dataTransfer);if(this.treeItemsTransfer.hasData(Wl.prototype)){let r=this.treeItemsTransfer.getData(Wl.prototype);if(Array.isArray(r))for(let o of r){let s=await this._treeViewsDragAndDropService.removeDragOperationTransfer(o.identifier);if(s)for(let[a,l]of s)n.replace(a,l)}}return n}};si=ce([De(1,vi),De(2,Tc),De(3,Bl),De(4,Lm)],si);U1(si.ID,si,2);W1(Ks);Pl(new class extends Fo{constructor(){super({id:Gb,precondition:Nh,kbOpts:{weight:100,primary:2137}})}runEditorCommand(i,e,t){si.get(e)?.changeDropType()}});Pl(new class extends Fo{constructor(){super({id:"editor.hideDropWidget",precondition:Nh,kbOpts:{weight:100,primary:9}})}runEditorCommand(i,e,t){si.get(e)?.clearWidgets()}});tt.as(Co.Configuration).registerConfiguration({...xm,properties:{[$b]:{type:"object",scope:5,description:d("defaultProviderDescription","Configures the default drop provider to use for content of a given mime type."),default:{},additionalProperties:{type:"string"}}}});
