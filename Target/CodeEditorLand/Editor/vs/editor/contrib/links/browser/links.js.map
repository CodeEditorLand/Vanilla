{
  "version": 3,
  "sources": ["../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/editor/contrib/links/browser/links.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport {\n\ttype CancelablePromise,\n\tRunOnceScheduler,\n\tcreateCancelablePromise,\n} from \"../../../../base/common/async.js\";\nimport { CancellationToken } from \"../../../../base/common/cancellation.js\";\nimport { onUnexpectedError } from \"../../../../base/common/errors.js\";\nimport { MarkdownString } from \"../../../../base/common/htmlContent.js\";\nimport { Disposable } from \"../../../../base/common/lifecycle.js\";\nimport { Schemas } from \"../../../../base/common/network.js\";\nimport * as platform from \"../../../../base/common/platform.js\";\nimport * as resources from \"../../../../base/common/resources.js\";\nimport { StopWatch } from \"../../../../base/common/stopwatch.js\";\nimport { URI } from \"../../../../base/common/uri.js\";\nimport \"./links.css\";\nimport * as nls from \"../../../../nls.js\";\nimport { INotificationService } from \"../../../../platform/notification/common/notification.js\";\nimport { IOpenerService } from \"../../../../platform/opener/common/opener.js\";\nimport {\n\ttype ICodeEditor,\n\tMouseTargetType,\n} from \"../../../browser/editorBrowser.js\";\nimport {\n\tEditorAction,\n\tEditorContributionInstantiation,\n\ttype ServicesAccessor,\n\tregisterEditorAction,\n\tregisterEditorContribution,\n} from \"../../../browser/editorExtensions.js\";\nimport { EditorOption } from \"../../../common/config/editorOptions.js\";\nimport type { Position } from \"../../../common/core/position.js\";\nimport type { IEditorContribution } from \"../../../common/editorCommon.js\";\nimport type { LanguageFeatureRegistry } from \"../../../common/languageFeatureRegistry.js\";\nimport type { LinkProvider } from \"../../../common/languages.js\";\nimport {\n\ttype IModelDecorationsChangeAccessor,\n\ttype IModelDeltaDecoration,\n\tTrackedRangeStickiness,\n} from \"../../../common/model.js\";\nimport { ModelDecorationOptions } from \"../../../common/model/textModel.js\";\nimport {\n\ttype IFeatureDebounceInformation,\n\tILanguageFeatureDebounceService,\n} from \"../../../common/services/languageFeatureDebounce.js\";\nimport { ILanguageFeaturesService } from \"../../../common/services/languageFeatures.js\";\nimport {\n\tClickLinkGesture,\n\ttype ClickLinkKeyboardEvent,\n\ttype ClickLinkMouseEvent,\n} from \"../../gotoSymbol/browser/link/clickLinkGesture.js\";\nimport { type Link, type LinksList, getLinks } from \"./getLinks.js\";\n\nexport class LinkDetector extends Disposable implements IEditorContribution {\n\tpublic static readonly ID: string = \"editor.linkDetector\";\n\n\tpublic static get(editor: ICodeEditor): LinkDetector | null {\n\t\treturn editor.getContribution<LinkDetector>(LinkDetector.ID);\n\t}\n\n\tprivate readonly providers: LanguageFeatureRegistry<LinkProvider>;\n\tprivate readonly debounceInformation: IFeatureDebounceInformation;\n\tprivate readonly computeLinks: RunOnceScheduler;\n\tprivate computePromise: CancelablePromise<LinksList> | null;\n\tprivate activeLinksList: LinksList | null;\n\tprivate activeLinkDecorationId: string | null;\n\tprivate currentOccurrences: { [decorationId: string]: LinkOccurrence };\n\n\tconstructor(\n\t\tprivate readonly editor: ICodeEditor,\n\t\t@IOpenerService private readonly openerService: IOpenerService,\n\t\t@INotificationService\n\t\tprivate readonly notificationService: INotificationService,\n\t\t@ILanguageFeaturesService\n\t\tprivate readonly languageFeaturesService: ILanguageFeaturesService,\n\t\t@ILanguageFeatureDebounceService\n\t\tlanguageFeatureDebounceService: ILanguageFeatureDebounceService,\n\t) {\n\t\tsuper();\n\n\t\tthis.providers = this.languageFeaturesService.linkProvider;\n\t\tthis.debounceInformation = languageFeatureDebounceService.for(\n\t\t\tthis.providers,\n\t\t\t\"Links\",\n\t\t\t{ min: 1000, max: 4000 },\n\t\t);\n\t\tthis.computeLinks = this._register(\n\t\t\tnew RunOnceScheduler(() => this.computeLinksNow(), 1000),\n\t\t);\n\t\tthis.computePromise = null;\n\t\tthis.activeLinksList = null;\n\t\tthis.currentOccurrences = {};\n\t\tthis.activeLinkDecorationId = null;\n\n\t\tconst clickLinkGesture = this._register(new ClickLinkGesture(editor));\n\n\t\tthis._register(\n\t\t\tclickLinkGesture.onMouseMoveOrRelevantKeyDown(\n\t\t\t\t([mouseEvent, keyboardEvent]) => {\n\t\t\t\t\tthis._onEditorMouseMove(mouseEvent, keyboardEvent);\n\t\t\t\t},\n\t\t\t),\n\t\t);\n\t\tthis._register(\n\t\t\tclickLinkGesture.onExecute((e) => {\n\t\t\t\tthis.onEditorMouseUp(e);\n\t\t\t}),\n\t\t);\n\t\tthis._register(\n\t\t\tclickLinkGesture.onCancel((e) => {\n\t\t\t\tthis.cleanUpActiveLinkDecoration();\n\t\t\t}),\n\t\t);\n\t\tthis._register(\n\t\t\teditor.onDidChangeConfiguration((e) => {\n\t\t\t\tif (!e.hasChanged(EditorOption.links)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t// Remove any links (for the getting disabled case)\n\t\t\t\tthis.updateDecorations([]);\n\n\t\t\t\t// Stop any computation (for the getting disabled case)\n\t\t\t\tthis.stop();\n\n\t\t\t\t// Start computing (for the getting enabled case)\n\t\t\t\tthis.computeLinks.schedule(0);\n\t\t\t}),\n\t\t);\n\t\tthis._register(\n\t\t\teditor.onDidChangeModelContent((e) => {\n\t\t\t\tif (!this.editor.hasModel()) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.computeLinks.schedule(\n\t\t\t\t\tthis.debounceInformation.get(this.editor.getModel()),\n\t\t\t\t);\n\t\t\t}),\n\t\t);\n\t\tthis._register(\n\t\t\teditor.onDidChangeModel((e) => {\n\t\t\t\tthis.currentOccurrences = {};\n\t\t\t\tthis.activeLinkDecorationId = null;\n\t\t\t\tthis.stop();\n\t\t\t\tthis.computeLinks.schedule(0);\n\t\t\t}),\n\t\t);\n\t\tthis._register(\n\t\t\teditor.onDidChangeModelLanguage((e) => {\n\t\t\t\tthis.stop();\n\t\t\t\tthis.computeLinks.schedule(0);\n\t\t\t}),\n\t\t);\n\t\tthis._register(\n\t\t\tthis.providers.onDidChange((e) => {\n\t\t\t\tthis.stop();\n\t\t\t\tthis.computeLinks.schedule(0);\n\t\t\t}),\n\t\t);\n\n\t\tthis.computeLinks.schedule(0);\n\t}\n\n\tprivate async computeLinksNow(): Promise<void> {\n\t\tif (\n\t\t\t!this.editor.hasModel() ||\n\t\t\t!this.editor.getOption(EditorOption.links)\n\t\t) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst model = this.editor.getModel();\n\n\t\tif (model.isTooLargeForSyncing()) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!this.providers.has(model)) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.activeLinksList) {\n\t\t\tthis.activeLinksList.dispose();\n\t\t\tthis.activeLinksList = null;\n\t\t}\n\n\t\tthis.computePromise = createCancelablePromise((token) =>\n\t\t\tgetLinks(this.providers, model, token),\n\t\t);\n\t\ttry {\n\t\t\tconst sw = new StopWatch(false);\n\t\t\tthis.activeLinksList = await this.computePromise;\n\t\t\tthis.debounceInformation.update(model, sw.elapsed());\n\t\t\tif (model.isDisposed()) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.updateDecorations(this.activeLinksList.links);\n\t\t} catch (err) {\n\t\t\tonUnexpectedError(err);\n\t\t} finally {\n\t\t\tthis.computePromise = null;\n\t\t}\n\t}\n\n\tprivate updateDecorations(links: Link[]): void {\n\t\tconst useMetaKey =\n\t\t\tthis.editor.getOption(EditorOption.multiCursorModifier) ===\n\t\t\t\"altKey\";\n\t\tconst oldDecorations: string[] = [];\n\t\tconst keys = Object.keys(this.currentOccurrences);\n\t\tfor (const decorationId of keys) {\n\t\t\tconst occurence = this.currentOccurrences[decorationId];\n\t\t\toldDecorations.push(occurence.decorationId);\n\t\t}\n\n\t\tconst newDecorations: IModelDeltaDecoration[] = [];\n\t\tif (links) {\n\t\t\t// Not sure why this is sometimes null\n\t\t\tfor (const link of links) {\n\t\t\t\tnewDecorations.push(\n\t\t\t\t\tLinkOccurrence.decoration(link, useMetaKey),\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tthis.editor.changeDecorations((changeAccessor) => {\n\t\t\tconst decorations = changeAccessor.deltaDecorations(\n\t\t\t\toldDecorations,\n\t\t\t\tnewDecorations,\n\t\t\t);\n\n\t\t\tthis.currentOccurrences = {};\n\t\t\tthis.activeLinkDecorationId = null;\n\t\t\tfor (let i = 0, len = decorations.length; i < len; i++) {\n\t\t\t\tconst occurence = new LinkOccurrence(links[i], decorations[i]);\n\t\t\t\tthis.currentOccurrences[occurence.decorationId] = occurence;\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate _onEditorMouseMove(\n\t\tmouseEvent: ClickLinkMouseEvent,\n\t\twithKey: ClickLinkKeyboardEvent | null,\n\t): void {\n\t\tconst useMetaKey =\n\t\t\tthis.editor.getOption(EditorOption.multiCursorModifier) ===\n\t\t\t\"altKey\";\n\t\tif (this.isEnabled(mouseEvent, withKey)) {\n\t\t\tthis.cleanUpActiveLinkDecoration(); // always remove previous link decoration as their can only be one\n\t\t\tconst occurrence = this.getLinkOccurrence(\n\t\t\t\tmouseEvent.target.position,\n\t\t\t);\n\t\t\tif (occurrence) {\n\t\t\t\tthis.editor.changeDecorations((changeAccessor) => {\n\t\t\t\t\toccurrence.activate(changeAccessor, useMetaKey);\n\t\t\t\t\tthis.activeLinkDecorationId = occurrence.decorationId;\n\t\t\t\t});\n\t\t\t}\n\t\t} else {\n\t\t\tthis.cleanUpActiveLinkDecoration();\n\t\t}\n\t}\n\n\tprivate cleanUpActiveLinkDecoration(): void {\n\t\tconst useMetaKey =\n\t\t\tthis.editor.getOption(EditorOption.multiCursorModifier) ===\n\t\t\t\"altKey\";\n\t\tif (this.activeLinkDecorationId) {\n\t\t\tconst occurrence =\n\t\t\t\tthis.currentOccurrences[this.activeLinkDecorationId];\n\t\t\tif (occurrence) {\n\t\t\t\tthis.editor.changeDecorations((changeAccessor) => {\n\t\t\t\t\toccurrence.deactivate(changeAccessor, useMetaKey);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tthis.activeLinkDecorationId = null;\n\t\t}\n\t}\n\n\tprivate onEditorMouseUp(mouseEvent: ClickLinkMouseEvent): void {\n\t\tif (!this.isEnabled(mouseEvent)) {\n\t\t\treturn;\n\t\t}\n\t\tconst occurrence = this.getLinkOccurrence(mouseEvent.target.position);\n\t\tif (!occurrence) {\n\t\t\treturn;\n\t\t}\n\t\tthis.openLinkOccurrence(\n\t\t\toccurrence,\n\t\t\tmouseEvent.hasSideBySideModifier,\n\t\t\ttrue /* from user gesture */,\n\t\t);\n\t}\n\n\tpublic openLinkOccurrence(\n\t\toccurrence: LinkOccurrence,\n\t\topenToSide: boolean,\n\t\tfromUserGesture = false,\n\t): void {\n\t\tif (!this.openerService) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst { link } = occurrence;\n\n\t\tlink.resolve(CancellationToken.None).then(\n\t\t\t(uri) => {\n\t\t\t\t// Support for relative file URIs of the shape file://./relativeFile.txt or file:///./relativeFile.txt\n\t\t\t\tif (typeof uri === \"string\" && this.editor.hasModel()) {\n\t\t\t\t\tconst modelUri = this.editor.getModel().uri;\n\t\t\t\t\tif (\n\t\t\t\t\t\tmodelUri.scheme === Schemas.file &&\n\t\t\t\t\t\turi.startsWith(`${Schemas.file}:`)\n\t\t\t\t\t) {\n\t\t\t\t\t\tconst parsedUri = URI.parse(uri);\n\t\t\t\t\t\tif (parsedUri.scheme === Schemas.file) {\n\t\t\t\t\t\t\tconst fsPath = resources.originalFSPath(parsedUri);\n\n\t\t\t\t\t\t\tlet relativePath: string | null = null;\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\tfsPath.startsWith(\"/./\") ||\n\t\t\t\t\t\t\t\tfsPath.startsWith(\"\\\\.\\\\\")\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\trelativePath = `.${fsPath.substr(1)}`;\n\t\t\t\t\t\t\t} else if (\n\t\t\t\t\t\t\t\tfsPath.startsWith(\"//./\") ||\n\t\t\t\t\t\t\t\tfsPath.startsWith(\"\\\\\\\\.\\\\\")\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\trelativePath = `.${fsPath.substr(2)}`;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (relativePath) {\n\t\t\t\t\t\t\t\turi = resources.joinPath(\n\t\t\t\t\t\t\t\t\tmodelUri,\n\t\t\t\t\t\t\t\t\trelativePath,\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn this.openerService.open(uri, {\n\t\t\t\t\topenToSide,\n\t\t\t\t\tfromUserGesture,\n\t\t\t\t\tallowContributedOpeners: true,\n\t\t\t\t\tallowCommands: true,\n\t\t\t\t\tfromWorkspace: true,\n\t\t\t\t});\n\t\t\t},\n\t\t\t(err) => {\n\t\t\t\tconst messageOrError =\n\t\t\t\t\terr instanceof Error ? (<Error>err).message : err;\n\t\t\t\t// different error cases\n\t\t\t\tif (messageOrError === \"invalid\") {\n\t\t\t\t\tthis.notificationService.warn(\n\t\t\t\t\t\tnls.localize(\n\t\t\t\t\t\t\t\"invalid.url\",\n\t\t\t\t\t\t\t\"Failed to open this link because it is not well-formed: {0}\",\n\t\t\t\t\t\t\tlink.url!.toString(),\n\t\t\t\t\t\t),\n\t\t\t\t\t);\n\t\t\t\t} else if (messageOrError === \"missing\") {\n\t\t\t\t\tthis.notificationService.warn(\n\t\t\t\t\t\tnls.localize(\n\t\t\t\t\t\t\t\"missing.url\",\n\t\t\t\t\t\t\t\"Failed to open this link because its target is missing.\",\n\t\t\t\t\t\t),\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\tonUnexpectedError(err);\n\t\t\t\t}\n\t\t\t},\n\t\t);\n\t}\n\n\tpublic getLinkOccurrence(position: Position | null): LinkOccurrence | null {\n\t\tif (!this.editor.hasModel() || !position) {\n\t\t\treturn null;\n\t\t}\n\t\tconst decorations = this.editor.getModel().getDecorationsInRange(\n\t\t\t{\n\t\t\t\tstartLineNumber: position.lineNumber,\n\t\t\t\tstartColumn: position.column,\n\t\t\t\tendLineNumber: position.lineNumber,\n\t\t\t\tendColumn: position.column,\n\t\t\t},\n\t\t\t0,\n\t\t\ttrue,\n\t\t);\n\n\t\tfor (const decoration of decorations) {\n\t\t\tconst currentOccurrence = this.currentOccurrences[decoration.id];\n\t\t\tif (currentOccurrence) {\n\t\t\t\treturn currentOccurrence;\n\t\t\t}\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tprivate isEnabled(\n\t\tmouseEvent: ClickLinkMouseEvent,\n\t\twithKey?: ClickLinkKeyboardEvent | null,\n\t): boolean {\n\t\treturn Boolean(\n\t\t\tmouseEvent.target.type === MouseTargetType.CONTENT_TEXT &&\n\t\t\t\t(mouseEvent.hasTriggerModifier ||\n\t\t\t\t\t(withKey && withKey.keyCodeIsTriggerKey)),\n\t\t);\n\t}\n\n\tprivate stop(): void {\n\t\tthis.computeLinks.cancel();\n\t\tif (this.activeLinksList) {\n\t\t\tthis.activeLinksList?.dispose();\n\t\t\tthis.activeLinksList = null;\n\t\t}\n\t\tif (this.computePromise) {\n\t\t\tthis.computePromise.cancel();\n\t\t\tthis.computePromise = null;\n\t\t}\n\t}\n\n\tpublic override dispose(): void {\n\t\tsuper.dispose();\n\t\tthis.stop();\n\t}\n}\n\nconst decoration = {\n\tgeneral: ModelDecorationOptions.register({\n\t\tdescription: \"detected-link\",\n\t\tstickiness: TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,\n\t\tcollapseOnReplaceEdit: true,\n\t\tinlineClassName: \"detected-link\",\n\t}),\n\tactive: ModelDecorationOptions.register({\n\t\tdescription: \"detected-link-active\",\n\t\tstickiness: TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,\n\t\tcollapseOnReplaceEdit: true,\n\t\tinlineClassName: \"detected-link-active\",\n\t}),\n};\n\nclass LinkOccurrence {\n\tpublic static decoration(\n\t\tlink: Link,\n\t\tuseMetaKey: boolean,\n\t): IModelDeltaDecoration {\n\t\treturn {\n\t\t\trange: link.range,\n\t\t\toptions: LinkOccurrence._getOptions(link, useMetaKey, false),\n\t\t};\n\t}\n\n\tprivate static _getOptions(\n\t\tlink: Link,\n\t\tuseMetaKey: boolean,\n\t\tisActive: boolean,\n\t): ModelDecorationOptions {\n\t\tconst options = {\n\t\t\t...(isActive ? decoration.active : decoration.general),\n\t\t};\n\t\toptions.hoverMessage = getHoverMessage(link, useMetaKey);\n\t\treturn options;\n\t}\n\n\tpublic decorationId: string;\n\tpublic link: Link;\n\n\tconstructor(link: Link, decorationId: string) {\n\t\tthis.link = link;\n\t\tthis.decorationId = decorationId;\n\t}\n\n\tpublic activate(\n\t\tchangeAccessor: IModelDecorationsChangeAccessor,\n\t\tuseMetaKey: boolean,\n\t): void {\n\t\tchangeAccessor.changeDecorationOptions(\n\t\t\tthis.decorationId,\n\t\t\tLinkOccurrence._getOptions(this.link, useMetaKey, true),\n\t\t);\n\t}\n\n\tpublic deactivate(\n\t\tchangeAccessor: IModelDecorationsChangeAccessor,\n\t\tuseMetaKey: boolean,\n\t): void {\n\t\tchangeAccessor.changeDecorationOptions(\n\t\t\tthis.decorationId,\n\t\t\tLinkOccurrence._getOptions(this.link, useMetaKey, false),\n\t\t);\n\t}\n}\n\nfunction getHoverMessage(link: Link, useMetaKey: boolean): MarkdownString {\n\tconst executeCmd = link.url && /^command:/i.test(link.url.toString());\n\n\tconst label = link.tooltip\n\t\t? link.tooltip\n\t\t: executeCmd\n\t\t\t? nls.localize(\"links.navigate.executeCmd\", \"Execute command\")\n\t\t\t: nls.localize(\"links.navigate.follow\", \"Follow link\");\n\n\tconst kb = useMetaKey\n\t\t? platform.isMacintosh\n\t\t\t? nls.localize(\"links.navigate.kb.meta.mac\", \"cmd + click\")\n\t\t\t: nls.localize(\"links.navigate.kb.meta\", \"ctrl + click\")\n\t\t: platform.isMacintosh\n\t\t\t? nls.localize(\"links.navigate.kb.alt.mac\", \"option + click\")\n\t\t\t: nls.localize(\"links.navigate.kb.alt\", \"alt + click\");\n\n\tif (link.url) {\n\t\tlet nativeLabel = \"\";\n\t\tif (/^command:/i.test(link.url.toString())) {\n\t\t\t// Don't show complete command arguments in the native tooltip\n\t\t\tconst match = link.url.toString().match(/^command:([^?#]+)/);\n\t\t\tif (match) {\n\t\t\t\tconst commandId = match[1];\n\t\t\t\tnativeLabel = nls.localize(\n\t\t\t\t\t\"tooltip.explanation\",\n\t\t\t\t\t\"Execute command {0}\",\n\t\t\t\t\tcommandId,\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t\tconst hoverMessage = new MarkdownString(\"\", true)\n\t\t\t.appendLink(\n\t\t\t\tlink.url.toString(true).replace(/ /g, \"%20\"),\n\t\t\t\tlabel,\n\t\t\t\tnativeLabel,\n\t\t\t)\n\t\t\t.appendMarkdown(` (${kb})`);\n\t\treturn hoverMessage;\n\t} else {\n\t\treturn new MarkdownString().appendText(`${label} (${kb})`);\n\t}\n}\n\nclass OpenLinkAction extends EditorAction {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: \"editor.action.openLink\",\n\t\t\tlabel: nls.localize(\"label\", \"Open Link\"),\n\t\t\talias: \"Open Link\",\n\t\t\tprecondition: undefined,\n\t\t});\n\t}\n\n\tpublic run(accessor: ServicesAccessor, editor: ICodeEditor): void {\n\t\tconst linkDetector = LinkDetector.get(editor);\n\t\tif (!linkDetector) {\n\t\t\treturn;\n\t\t}\n\t\tif (!editor.hasModel()) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst selections = editor.getSelections();\n\t\tfor (const sel of selections) {\n\t\t\tconst link = linkDetector.getLinkOccurrence(sel.getEndPosition());\n\t\t\tif (link) {\n\t\t\t\tlinkDetector.openLinkOccurrence(link, false);\n\t\t\t}\n\t\t}\n\t}\n}\n\nregisterEditorContribution(\n\tLinkDetector.ID,\n\tLinkDetector,\n\tEditorContributionInstantiation.AfterFirstRender,\n);\nregisterEditorAction(OpenLinkAction);\n"],
  "mappings": "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",
  "names": ["decoration"]
}
