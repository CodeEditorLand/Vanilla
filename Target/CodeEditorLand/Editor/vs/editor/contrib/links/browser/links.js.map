{
  "version": 3,
  "sources": ["../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/editor/contrib/links/browser/links.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { createCancelablePromise, CancelablePromise, RunOnceScheduler } from '../../../../base/common/async.js';\nimport { CancellationToken } from '../../../../base/common/cancellation.js';\nimport { onUnexpectedError } from '../../../../base/common/errors.js';\nimport { MarkdownString } from '../../../../base/common/htmlContent.js';\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport { Schemas } from '../../../../base/common/network.js';\nimport * as platform from '../../../../base/common/platform.js';\nimport * as resources from '../../../../base/common/resources.js';\nimport { StopWatch } from '../../../../base/common/stopwatch.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport './links.css';\nimport { ICodeEditor, MouseTargetType } from '../../../browser/editorBrowser.js';\nimport { EditorAction, EditorContributionInstantiation, registerEditorAction, registerEditorContribution, ServicesAccessor } from '../../../browser/editorExtensions.js';\nimport { EditorOption } from '../../../common/config/editorOptions.js';\nimport { Position } from '../../../common/core/position.js';\nimport { IEditorContribution } from '../../../common/editorCommon.js';\nimport { LanguageFeatureRegistry } from '../../../common/languageFeatureRegistry.js';\nimport { LinkProvider } from '../../../common/languages.js';\nimport { IModelDecorationsChangeAccessor, IModelDeltaDecoration, TrackedRangeStickiness } from '../../../common/model.js';\nimport { ModelDecorationOptions } from '../../../common/model/textModel.js';\nimport { IFeatureDebounceInformation, ILanguageFeatureDebounceService } from '../../../common/services/languageFeatureDebounce.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nimport { ClickLinkGesture, ClickLinkKeyboardEvent, ClickLinkMouseEvent } from '../../gotoSymbol/browser/link/clickLinkGesture.js';\nimport { getLinks, Link, LinksList } from './getLinks.js';\nimport * as nls from '../../../../nls.js';\nimport { INotificationService } from '../../../../platform/notification/common/notification.js';\nimport { IOpenerService } from '../../../../platform/opener/common/opener.js';\n\nexport class LinkDetector extends Disposable implements IEditorContribution {\n\n\tpublic static readonly ID: string = 'editor.linkDetector';\n\n\tpublic static get(editor: ICodeEditor): LinkDetector | null {\n\t\treturn editor.getContribution<LinkDetector>(LinkDetector.ID);\n\t}\n\n\tprivate readonly providers: LanguageFeatureRegistry<LinkProvider>;\n\tprivate readonly debounceInformation: IFeatureDebounceInformation;\n\tprivate readonly computeLinks: RunOnceScheduler;\n\tprivate computePromise: CancelablePromise<LinksList> | null;\n\tprivate activeLinksList: LinksList | null;\n\tprivate activeLinkDecorationId: string | null;\n\tprivate currentOccurrences: { [decorationId: string]: LinkOccurrence };\n\n\tconstructor(\n\t\tprivate readonly editor: ICodeEditor,\n\t\t@IOpenerService private readonly openerService: IOpenerService,\n\t\t@INotificationService private readonly notificationService: INotificationService,\n\t\t@ILanguageFeaturesService private readonly languageFeaturesService: ILanguageFeaturesService,\n\t\t@ILanguageFeatureDebounceService languageFeatureDebounceService: ILanguageFeatureDebounceService,\n\t) {\n\t\tsuper();\n\n\t\tthis.providers = this.languageFeaturesService.linkProvider;\n\t\tthis.debounceInformation = languageFeatureDebounceService.for(this.providers, 'Links', { min: 1000, max: 4000 });\n\t\tthis.computeLinks = this._register(new RunOnceScheduler(() => this.computeLinksNow(), 1000));\n\t\tthis.computePromise = null;\n\t\tthis.activeLinksList = null;\n\t\tthis.currentOccurrences = {};\n\t\tthis.activeLinkDecorationId = null;\n\n\t\tconst clickLinkGesture = this._register(new ClickLinkGesture(editor));\n\n\t\tthis._register(clickLinkGesture.onMouseMoveOrRelevantKeyDown(([mouseEvent, keyboardEvent]) => {\n\t\t\tthis._onEditorMouseMove(mouseEvent, keyboardEvent);\n\t\t}));\n\t\tthis._register(clickLinkGesture.onExecute((e) => {\n\t\t\tthis.onEditorMouseUp(e);\n\t\t}));\n\t\tthis._register(clickLinkGesture.onCancel((e) => {\n\t\t\tthis.cleanUpActiveLinkDecoration();\n\t\t}));\n\t\tthis._register(editor.onDidChangeConfiguration((e) => {\n\t\t\tif (!e.hasChanged(EditorOption.links)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t// Remove any links (for the getting disabled case)\n\t\t\tthis.updateDecorations([]);\n\n\t\t\t// Stop any computation (for the getting disabled case)\n\t\t\tthis.stop();\n\n\t\t\t// Start computing (for the getting enabled case)\n\t\t\tthis.computeLinks.schedule(0);\n\t\t}));\n\t\tthis._register(editor.onDidChangeModelContent((e) => {\n\t\t\tif (!this.editor.hasModel()) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.computeLinks.schedule(this.debounceInformation.get(this.editor.getModel()));\n\t\t}));\n\t\tthis._register(editor.onDidChangeModel((e) => {\n\t\t\tthis.currentOccurrences = {};\n\t\t\tthis.activeLinkDecorationId = null;\n\t\t\tthis.stop();\n\t\t\tthis.computeLinks.schedule(0);\n\t\t}));\n\t\tthis._register(editor.onDidChangeModelLanguage((e) => {\n\t\t\tthis.stop();\n\t\t\tthis.computeLinks.schedule(0);\n\t\t}));\n\t\tthis._register(this.providers.onDidChange((e) => {\n\t\t\tthis.stop();\n\t\t\tthis.computeLinks.schedule(0);\n\t\t}));\n\n\t\tthis.computeLinks.schedule(0);\n\t}\n\n\tprivate async computeLinksNow(): Promise<void> {\n\t\tif (!this.editor.hasModel() || !this.editor.getOption(EditorOption.links)) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst model = this.editor.getModel();\n\n\t\tif (model.isTooLargeForSyncing()) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!this.providers.has(model)) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.activeLinksList) {\n\t\t\tthis.activeLinksList.dispose();\n\t\t\tthis.activeLinksList = null;\n\t\t}\n\n\t\tthis.computePromise = createCancelablePromise(token => getLinks(this.providers, model, token));\n\t\ttry {\n\t\t\tconst sw = new StopWatch(false);\n\t\t\tthis.activeLinksList = await this.computePromise;\n\t\t\tthis.debounceInformation.update(model, sw.elapsed());\n\t\t\tif (model.isDisposed()) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.updateDecorations(this.activeLinksList.links);\n\t\t} catch (err) {\n\t\t\tonUnexpectedError(err);\n\t\t} finally {\n\t\t\tthis.computePromise = null;\n\t\t}\n\t}\n\n\tprivate updateDecorations(links: Link[]): void {\n\t\tconst useMetaKey = (this.editor.getOption(EditorOption.multiCursorModifier) === 'altKey');\n\t\tconst oldDecorations: string[] = [];\n\t\tconst keys = Object.keys(this.currentOccurrences);\n\t\tfor (const decorationId of keys) {\n\t\t\tconst occurence = this.currentOccurrences[decorationId];\n\t\t\toldDecorations.push(occurence.decorationId);\n\t\t}\n\n\t\tconst newDecorations: IModelDeltaDecoration[] = [];\n\t\tif (links) {\n\t\t\t// Not sure why this is sometimes null\n\t\t\tfor (const link of links) {\n\t\t\t\tnewDecorations.push(LinkOccurrence.decoration(link, useMetaKey));\n\t\t\t}\n\t\t}\n\n\t\tthis.editor.changeDecorations((changeAccessor) => {\n\t\t\tconst decorations = changeAccessor.deltaDecorations(oldDecorations, newDecorations);\n\n\t\t\tthis.currentOccurrences = {};\n\t\t\tthis.activeLinkDecorationId = null;\n\t\t\tfor (let i = 0, len = decorations.length; i < len; i++) {\n\t\t\t\tconst occurence = new LinkOccurrence(links[i], decorations[i]);\n\t\t\t\tthis.currentOccurrences[occurence.decorationId] = occurence;\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate _onEditorMouseMove(mouseEvent: ClickLinkMouseEvent, withKey: ClickLinkKeyboardEvent | null): void {\n\t\tconst useMetaKey = (this.editor.getOption(EditorOption.multiCursorModifier) === 'altKey');\n\t\tif (this.isEnabled(mouseEvent, withKey)) {\n\t\t\tthis.cleanUpActiveLinkDecoration(); // always remove previous link decoration as their can only be one\n\t\t\tconst occurrence = this.getLinkOccurrence(mouseEvent.target.position);\n\t\t\tif (occurrence) {\n\t\t\t\tthis.editor.changeDecorations((changeAccessor) => {\n\t\t\t\t\toccurrence.activate(changeAccessor, useMetaKey);\n\t\t\t\t\tthis.activeLinkDecorationId = occurrence.decorationId;\n\t\t\t\t});\n\t\t\t}\n\t\t} else {\n\t\t\tthis.cleanUpActiveLinkDecoration();\n\t\t}\n\t}\n\n\tprivate cleanUpActiveLinkDecoration(): void {\n\t\tconst useMetaKey = (this.editor.getOption(EditorOption.multiCursorModifier) === 'altKey');\n\t\tif (this.activeLinkDecorationId) {\n\t\t\tconst occurrence = this.currentOccurrences[this.activeLinkDecorationId];\n\t\t\tif (occurrence) {\n\t\t\t\tthis.editor.changeDecorations((changeAccessor) => {\n\t\t\t\t\toccurrence.deactivate(changeAccessor, useMetaKey);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tthis.activeLinkDecorationId = null;\n\t\t}\n\t}\n\n\tprivate onEditorMouseUp(mouseEvent: ClickLinkMouseEvent): void {\n\t\tif (!this.isEnabled(mouseEvent)) {\n\t\t\treturn;\n\t\t}\n\t\tconst occurrence = this.getLinkOccurrence(mouseEvent.target.position);\n\t\tif (!occurrence) {\n\t\t\treturn;\n\t\t}\n\t\tthis.openLinkOccurrence(occurrence, mouseEvent.hasSideBySideModifier, true /* from user gesture */);\n\t}\n\n\tpublic openLinkOccurrence(occurrence: LinkOccurrence, openToSide: boolean, fromUserGesture = false): void {\n\n\t\tif (!this.openerService) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst { link } = occurrence;\n\n\t\tlink.resolve(CancellationToken.None).then(uri => {\n\n\t\t\t// Support for relative file URIs of the shape file://./relativeFile.txt or file:///./relativeFile.txt\n\t\t\tif (typeof uri === 'string' && this.editor.hasModel()) {\n\t\t\t\tconst modelUri = this.editor.getModel().uri;\n\t\t\t\tif (modelUri.scheme === Schemas.file && uri.startsWith(`${Schemas.file}:`)) {\n\t\t\t\t\tconst parsedUri = URI.parse(uri);\n\t\t\t\t\tif (parsedUri.scheme === Schemas.file) {\n\t\t\t\t\t\tconst fsPath = resources.originalFSPath(parsedUri);\n\n\t\t\t\t\t\tlet relativePath: string | null = null;\n\t\t\t\t\t\tif (fsPath.startsWith('/./') || fsPath.startsWith('\\\\.\\\\')) {\n\t\t\t\t\t\t\trelativePath = `.${fsPath.substr(1)}`;\n\t\t\t\t\t\t} else if (fsPath.startsWith('//./') || fsPath.startsWith('\\\\\\\\.\\\\')) {\n\t\t\t\t\t\t\trelativePath = `.${fsPath.substr(2)}`;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (relativePath) {\n\t\t\t\t\t\t\turi = resources.joinPath(modelUri, relativePath);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn this.openerService.open(uri, { openToSide, fromUserGesture, allowContributedOpeners: true, allowCommands: true, fromWorkspace: true });\n\n\t\t}, err => {\n\t\t\tconst messageOrError =\n\t\t\t\terr instanceof Error ? (<Error>err).message : err;\n\t\t\t// different error cases\n\t\t\tif (messageOrError === 'invalid') {\n\t\t\t\tthis.notificationService.warn(nls.localize('invalid.url', 'Failed to open this link because it is not well-formed: {0}', link.url!.toString()));\n\t\t\t} else if (messageOrError === 'missing') {\n\t\t\t\tthis.notificationService.warn(nls.localize('missing.url', 'Failed to open this link because its target is missing.'));\n\t\t\t} else {\n\t\t\t\tonUnexpectedError(err);\n\t\t\t}\n\t\t});\n\t}\n\n\tpublic getLinkOccurrence(position: Position | null): LinkOccurrence | null {\n\t\tif (!this.editor.hasModel() || !position) {\n\t\t\treturn null;\n\t\t}\n\t\tconst decorations = this.editor.getModel().getDecorationsInRange({\n\t\t\tstartLineNumber: position.lineNumber,\n\t\t\tstartColumn: position.column,\n\t\t\tendLineNumber: position.lineNumber,\n\t\t\tendColumn: position.column\n\t\t}, 0, true);\n\n\t\tfor (const decoration of decorations) {\n\t\t\tconst currentOccurrence = this.currentOccurrences[decoration.id];\n\t\t\tif (currentOccurrence) {\n\t\t\t\treturn currentOccurrence;\n\t\t\t}\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tprivate isEnabled(mouseEvent: ClickLinkMouseEvent, withKey?: ClickLinkKeyboardEvent | null): boolean {\n\t\treturn Boolean(\n\t\t\t(mouseEvent.target.type === MouseTargetType.CONTENT_TEXT)\n\t\t\t&& (mouseEvent.hasTriggerModifier || (withKey && withKey.keyCodeIsTriggerKey))\n\t\t);\n\t}\n\n\tprivate stop(): void {\n\t\tthis.computeLinks.cancel();\n\t\tif (this.activeLinksList) {\n\t\t\tthis.activeLinksList?.dispose();\n\t\t\tthis.activeLinksList = null;\n\t\t}\n\t\tif (this.computePromise) {\n\t\t\tthis.computePromise.cancel();\n\t\t\tthis.computePromise = null;\n\t\t}\n\t}\n\n\tpublic override dispose(): void {\n\t\tsuper.dispose();\n\t\tthis.stop();\n\t}\n}\n\nconst decoration = {\n\tgeneral: ModelDecorationOptions.register({\n\t\tdescription: 'detected-link',\n\t\tstickiness: TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,\n\t\tcollapseOnReplaceEdit: true,\n\t\tinlineClassName: 'detected-link'\n\t}),\n\tactive: ModelDecorationOptions.register({\n\t\tdescription: 'detected-link-active',\n\t\tstickiness: TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,\n\t\tcollapseOnReplaceEdit: true,\n\t\tinlineClassName: 'detected-link-active'\n\t})\n};\n\nclass LinkOccurrence {\n\n\tpublic static decoration(link: Link, useMetaKey: boolean): IModelDeltaDecoration {\n\t\treturn {\n\t\t\trange: link.range,\n\t\t\toptions: LinkOccurrence._getOptions(link, useMetaKey, false)\n\t\t};\n\t}\n\n\tprivate static _getOptions(link: Link, useMetaKey: boolean, isActive: boolean): ModelDecorationOptions {\n\t\tconst options = { ... (isActive ? decoration.active : decoration.general) };\n\t\toptions.hoverMessage = getHoverMessage(link, useMetaKey);\n\t\treturn options;\n\t}\n\n\tpublic decorationId: string;\n\tpublic link: Link;\n\n\tconstructor(link: Link, decorationId: string) {\n\t\tthis.link = link;\n\t\tthis.decorationId = decorationId;\n\t}\n\n\tpublic activate(changeAccessor: IModelDecorationsChangeAccessor, useMetaKey: boolean): void {\n\t\tchangeAccessor.changeDecorationOptions(this.decorationId, LinkOccurrence._getOptions(this.link, useMetaKey, true));\n\t}\n\n\tpublic deactivate(changeAccessor: IModelDecorationsChangeAccessor, useMetaKey: boolean): void {\n\t\tchangeAccessor.changeDecorationOptions(this.decorationId, LinkOccurrence._getOptions(this.link, useMetaKey, false));\n\t}\n}\n\nfunction getHoverMessage(link: Link, useMetaKey: boolean): MarkdownString {\n\tconst executeCmd = link.url && /^command:/i.test(link.url.toString());\n\n\tconst label = link.tooltip\n\t\t? link.tooltip\n\t\t: executeCmd\n\t\t\t? nls.localize('links.navigate.executeCmd', 'Execute command')\n\t\t\t: nls.localize('links.navigate.follow', 'Follow link');\n\n\tconst kb = useMetaKey\n\t\t? platform.isMacintosh\n\t\t\t? nls.localize('links.navigate.kb.meta.mac', \"cmd + click\")\n\t\t\t: nls.localize('links.navigate.kb.meta', \"ctrl + click\")\n\t\t: platform.isMacintosh\n\t\t\t? nls.localize('links.navigate.kb.alt.mac', \"option + click\")\n\t\t\t: nls.localize('links.navigate.kb.alt', \"alt + click\");\n\n\tif (link.url) {\n\t\tlet nativeLabel = '';\n\t\tif (/^command:/i.test(link.url.toString())) {\n\t\t\t// Don't show complete command arguments in the native tooltip\n\t\t\tconst match = link.url.toString().match(/^command:([^?#]+)/);\n\t\t\tif (match) {\n\t\t\t\tconst commandId = match[1];\n\t\t\t\tnativeLabel = nls.localize('tooltip.explanation', \"Execute command {0}\", commandId);\n\t\t\t}\n\t\t}\n\t\tconst hoverMessage = new MarkdownString('', true)\n\t\t\t.appendLink(link.url.toString(true).replace(/ /g, '%20'), label, nativeLabel)\n\t\t\t.appendMarkdown(` (${kb})`);\n\t\treturn hoverMessage;\n\t} else {\n\t\treturn new MarkdownString().appendText(`${label} (${kb})`);\n\t}\n}\n\nclass OpenLinkAction extends EditorAction {\n\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'editor.action.openLink',\n\t\t\tlabel: nls.localize('label', \"Open Link\"),\n\t\t\talias: 'Open Link',\n\t\t\tprecondition: undefined\n\t\t});\n\t}\n\n\tpublic run(accessor: ServicesAccessor, editor: ICodeEditor): void {\n\t\tconst linkDetector = LinkDetector.get(editor);\n\t\tif (!linkDetector) {\n\t\t\treturn;\n\t\t}\n\t\tif (!editor.hasModel()) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst selections = editor.getSelections();\n\t\tfor (const sel of selections) {\n\t\t\tconst link = linkDetector.getLinkOccurrence(sel.getEndPosition());\n\t\t\tif (link) {\n\t\t\t\tlinkDetector.openLinkOccurrence(link, false);\n\t\t\t}\n\t\t}\n\t}\n}\n\nregisterEditorContribution(LinkDetector.ID, LinkDetector, EditorContributionInstantiation.AfterFirstRender);\nregisterEditorAction(OpenLinkAction);\n"],
  "mappings": "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",
  "names": ["decoration"]
}
