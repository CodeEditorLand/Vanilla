{
  "version": 3,
  "sources": ["../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/editor/contrib/smartSelect/browser/wordSelections.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { CharCode } from '../../../../base/common/charCode.js';\nimport { isLowerAsciiLetter, isUpperAsciiLetter } from '../../../../base/common/strings.js';\nimport { Position } from '../../../common/core/position.js';\nimport { Range } from '../../../common/core/range.js';\nimport { ITextModel } from '../../../common/model.js';\nimport { SelectionRange, SelectionRangeProvider } from '../../../common/languages.js';\n\nexport class WordSelectionRangeProvider implements SelectionRangeProvider {\n\n\tconstructor(private readonly selectSubwords = true) { }\n\n\tprovideSelectionRanges(model: ITextModel, positions: Position[]): SelectionRange[][] {\n\t\tconst result: SelectionRange[][] = [];\n\t\tfor (const position of positions) {\n\t\t\tconst bucket: SelectionRange[] = [];\n\t\t\tresult.push(bucket);\n\t\t\tif (this.selectSubwords) {\n\t\t\t\tthis._addInWordRanges(bucket, model, position);\n\t\t\t}\n\t\t\tthis._addWordRanges(bucket, model, position);\n\t\t\tthis._addWhitespaceLine(bucket, model, position);\n\t\t\tbucket.push({ range: model.getFullModelRange() });\n\t\t}\n\t\treturn result;\n\t}\n\n\tprivate _addInWordRanges(bucket: SelectionRange[], model: ITextModel, pos: Position): void {\n\t\tconst obj = model.getWordAtPosition(pos);\n\t\tif (!obj) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst { word, startColumn } = obj;\n\t\tconst offset = pos.column - startColumn;\n\t\tlet start = offset;\n\t\tlet end = offset;\n\t\tlet lastCh: number = 0;\n\n\t\t// LEFT anchor (start)\n\t\tfor (; start >= 0; start--) {\n\t\t\tconst ch = word.charCodeAt(start);\n\t\t\tif ((start !== offset) && (ch === CharCode.Underline || ch === CharCode.Dash)) {\n\t\t\t\t// foo-bar OR foo_bar\n\t\t\t\tbreak;\n\t\t\t} else if (isLowerAsciiLetter(ch) && isUpperAsciiLetter(lastCh)) {\n\t\t\t\t// fooBar\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tlastCh = ch;\n\t\t}\n\t\tstart += 1;\n\n\t\t// RIGHT anchor (end)\n\t\tfor (; end < word.length; end++) {\n\t\t\tconst ch = word.charCodeAt(end);\n\t\t\tif (isUpperAsciiLetter(ch) && isLowerAsciiLetter(lastCh)) {\n\t\t\t\t// fooBar\n\t\t\t\tbreak;\n\t\t\t} else if (ch === CharCode.Underline || ch === CharCode.Dash) {\n\t\t\t\t// foo-bar OR foo_bar\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tlastCh = ch;\n\t\t}\n\n\t\tif (start < end) {\n\t\t\tbucket.push({ range: new Range(pos.lineNumber, startColumn + start, pos.lineNumber, startColumn + end) });\n\t\t}\n\t}\n\n\tprivate _addWordRanges(bucket: SelectionRange[], model: ITextModel, pos: Position): void {\n\t\tconst word = model.getWordAtPosition(pos);\n\t\tif (word) {\n\t\t\tbucket.push({ range: new Range(pos.lineNumber, word.startColumn, pos.lineNumber, word.endColumn) });\n\t\t}\n\t}\n\n\tprivate _addWhitespaceLine(bucket: SelectionRange[], model: ITextModel, pos: Position): void {\n\t\tif (model.getLineLength(pos.lineNumber) > 0\n\t\t\t&& model.getLineFirstNonWhitespaceColumn(pos.lineNumber) === 0\n\t\t\t&& model.getLineLastNonWhitespaceColumn(pos.lineNumber) === 0\n\t\t) {\n\t\t\tbucket.push({ range: new Range(pos.lineNumber, 1, pos.lineNumber, model.getLineMaxColumn(pos.lineNumber)) });\n\t\t}\n\t}\n}\n"],
  "mappings": ";;AAKA,SAAS,gBAAgB;AACzB,SAAS,oBAAoB,0BAA0B;AACvD,SAAS,gBAAgB;AACzB,SAAS,aAAa;AACtB,SAAS,kBAAkB;AAC3B,SAAS,gBAAgB,8BAA8B;AAEhD,MAAM,2BAA6D;AAAA,EAEzE,YAA6B,iBAAiB,MAAM;AAAvB;AAAA,EAAyB;AAAA,EAdvD,OAY0E;AAAA;AAAA;AAAA,EAIzE,uBAAuB,OAAmB,WAA2C;AACpF,UAAM,SAA6B,CAAC;AACpC,eAAW,YAAY,WAAW;AACjC,YAAM,SAA2B,CAAC;AAClC,aAAO,KAAK,MAAM;AAClB,UAAI,KAAK,gBAAgB;AACxB,aAAK,iBAAiB,QAAQ,OAAO,QAAQ;AAAA,MAC9C;AACA,WAAK,eAAe,QAAQ,OAAO,QAAQ;AAC3C,WAAK,mBAAmB,QAAQ,OAAO,QAAQ;AAC/C,aAAO,KAAK,EAAE,OAAO,MAAM,kBAAkB,EAAE,CAAC;AAAA,IACjD;AACA,WAAO;AAAA,EACR;AAAA,EAEQ,iBAAiB,QAA0B,OAAmB,KAAqB;AAC1F,UAAM,MAAM,MAAM,kBAAkB,GAAG;AACvC,QAAI,CAAC,KAAK;AACT;AAAA,IACD;AAEA,UAAM,EAAE,MAAM,YAAY,IAAI;AAC9B,UAAM,SAAS,IAAI,SAAS;AAC5B,QAAI,QAAQ;AACZ,QAAI,MAAM;AACV,QAAI,SAAiB;AAGrB,WAAO,SAAS,GAAG,SAAS;AAC3B,YAAM,KAAK,KAAK,WAAW,KAAK;AAChC,UAAK,UAAU,WAAY,OAAO,SAAS,aAAa,OAAO,SAAS,OAAO;AAE9E;AAAA,MACD,WAAW,mBAAmB,EAAE,KAAK,mBAAmB,MAAM,GAAG;AAEhE;AAAA,MACD;AACA,eAAS;AAAA,IACV;AACA,aAAS;AAGT,WAAO,MAAM,KAAK,QAAQ,OAAO;AAChC,YAAM,KAAK,KAAK,WAAW,GAAG;AAC9B,UAAI,mBAAmB,EAAE,KAAK,mBAAmB,MAAM,GAAG;AAEzD;AAAA,MACD,WAAW,OAAO,SAAS,aAAa,OAAO,SAAS,MAAM;AAE7D;AAAA,MACD;AACA,eAAS;AAAA,IACV;AAEA,QAAI,QAAQ,KAAK;AAChB,aAAO,KAAK,EAAE,OAAO,IAAI,MAAM,IAAI,YAAY,cAAc,OAAO,IAAI,YAAY,cAAc,GAAG,EAAE,CAAC;AAAA,IACzG;AAAA,EACD;AAAA,EAEQ,eAAe,QAA0B,OAAmB,KAAqB;AACxF,UAAM,OAAO,MAAM,kBAAkB,GAAG;AACxC,QAAI,MAAM;AACT,aAAO,KAAK,EAAE,OAAO,IAAI,MAAM,IAAI,YAAY,KAAK,aAAa,IAAI,YAAY,KAAK,SAAS,EAAE,CAAC;AAAA,IACnG;AAAA,EACD;AAAA,EAEQ,mBAAmB,QAA0B,OAAmB,KAAqB;AAC5F,QAAI,MAAM,cAAc,IAAI,UAAU,IAAI,KACtC,MAAM,gCAAgC,IAAI,UAAU,MAAM,KAC1D,MAAM,+BAA+B,IAAI,UAAU,MAAM,GAC3D;AACD,aAAO,KAAK,EAAE,OAAO,IAAI,MAAM,IAAI,YAAY,GAAG,IAAI,YAAY,MAAM,iBAAiB,IAAI,UAAU,CAAC,EAAE,CAAC;AAAA,IAC5G;AAAA,EACD;AACD;",
  "names": []
}
