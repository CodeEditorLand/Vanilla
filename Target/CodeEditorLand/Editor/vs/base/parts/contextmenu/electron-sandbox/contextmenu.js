var E="vscode:contextmenu",P="vscode:onCloseContextMenu";function p(){return globalThis._VSCODE_NLS_LANGUAGE}var Q=p()==="pseudo"||typeof document<"u"&&document.location&&document.location.hash.indexOf("pseudo=true")>=0;var c="en",v=!1,S=!1,m=!1,_=!1,W=!1,L=!1,A=!1,F=!1,O=!1,R=!1,f,x=c,T=c,D,s,a=globalThis,r;typeof a.vscode<"u"&&typeof a.vscode.process<"u"?r=a.vscode.process:typeof process<"u"&&typeof process?.versions?.node=="string"&&(r=process);var N=typeof r?.versions?.electron=="string",V=N&&r?.type==="renderer";if(typeof r=="object"){v=r.platform==="win32",S=r.platform==="darwin",m=r.platform==="linux",_=m&&!!r.env.SNAP&&!!r.env.SNAP_REVISION,A=N,O=!!r.env.CI||!!r.env.BUILD_ARTIFACTSTAGINGDIRECTORY,f=c,x=c;let e=r.env.VSCODE_NLS_CONFIG;if(e)try{let n=JSON.parse(e);f=n.userLocale,T=n.osLocale,x=n.resolvedLanguage||c,D=n.languagePack?.translationsConfigFile}catch{}W=!0}else typeof navigator=="object"&&!V?(s=navigator.userAgent,v=s.indexOf("Windows")>=0,S=s.indexOf("Macintosh")>=0,F=(s.indexOf("Macintosh")>=0||s.indexOf("iPad")>=0||s.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,m=s.indexOf("Linux")>=0,R=s?.indexOf("Mobi")>=0,L=!0,x=p()||c,f=navigator.language.toLowerCase(),T=f):console.error("Unable to resolve platform.");var h=0;S?h=1:v?h=3:m&&(h=2);var z=L&&typeof a.importScripts=="function",Y=z?a.origin:void 0;var i=s,l=x,K;(t=>{function e(){return l}t.value=e;function n(){return l.length===2?l==="en":l.length>=3?l[0]==="e"&&l[1]==="n"&&l[2]==="-":!1}t.isDefaultVariant=n;function o(){return l==="en"}t.isDefault=o})(K||={});var G=typeof a.postMessage=="function"&&!a.importScripts,Z=(()=>{if(G){let e=[];a.addEventListener("message",o=>{if(o.data&&o.data.vscodeScheduleAsyncWork)for(let t=0,u=e.length;t<u;t++){let d=e[t];if(d.id===o.data.vscodeScheduleAsyncWork){e.splice(t,1),d.callback();return}}});let n=0;return o=>{let t=++n;e.push({id:t,callback:o}),a.postMessage({vscodeScheduleAsyncWork:t},"*")}}return e=>setTimeout(e)})();var B=!!(i&&i.indexOf("Chrome")>=0),ee=!!(i&&i.indexOf("Firefox")>=0),ne=!!(!B&&i&&i.indexOf("Safari")>=0),te=!!(i&&i.indexOf("Edg/")>=0),re=!!(i&&i.indexOf("Android")>=0);var g=globalThis.vscode,y=g.ipcRenderer,be=g.ipcMessagePort,he=g.webFrame,ve=g.process,Se=g.context,Ce=g.webUtils;var H=0;function we(e,n,o){let t=[],u=H++,d=`vscode:onContextMenu${u}`,C=(I,b,M)=>{t[b].click?.(M)};y.once(d,C),y.once(P,(I,b)=>{b===u&&(y.removeListener(d,C),o?.())}),y.send(E,u,e.map(I=>k(I,t)),d,n)}function k(e,n){let o={id:n.length,label:e.label,type:e.type,accelerator:e.accelerator,checked:e.checked,enabled:typeof e.enabled=="boolean"?e.enabled:!0,visible:typeof e.visible=="boolean"?e.visible:!0};return n.push(e),Array.isArray(e.submenu)&&(o.submenu=e.submenu.map(t=>k(t,n))),o}export{we as popup};
