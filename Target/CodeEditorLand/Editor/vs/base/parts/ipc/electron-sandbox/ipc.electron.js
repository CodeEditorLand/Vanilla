import{VSBuffer as c}from"../../../common/buffer.js";import{Event as i}from"../../../common/event.js";import{ipcRenderer as r}from"../../sandbox/electron-sandbox/globals.js";import{Protocol as p}from"../common/ipc.electron.js";import{IPCClient as l}from"../common/ipc.js";class t extends l{protocol;static createProtocol(){const o=i.fromNodeEventEmitter(r,"vscode:message",(e,s)=>c.wrap(s));return r.send("vscode:hello"),new p(r,o)}constructor(o){const e=t.createProtocol();super(e,o),this.protocol=e}dispose(){this.protocol.disconnect(),super.dispose()}}export{t as Client};
