{
  "version": 3,
  "sources": ["../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/base/test/common/troubleshooting.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { IDisposable, IDisposableTracker, setDisposableTracker } from '../../common/lifecycle.js';\n\nclass DisposableTracker implements IDisposableTracker {\n\tallDisposables: [IDisposable, string][] = [];\n\ttrackDisposable(x: IDisposable): void {\n\t\tthis.allDisposables.push([x, new Error().stack!]);\n\t}\n\tsetParent(child: IDisposable, parent: IDisposable): void {\n\t\tfor (let idx = 0; idx < this.allDisposables.length; idx++) {\n\t\t\tif (this.allDisposables[idx][0] === child) {\n\t\t\t\tthis.allDisposables.splice(idx, 1);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t}\n\tmarkAsDisposed(x: IDisposable): void {\n\t\tfor (let idx = 0; idx < this.allDisposables.length; idx++) {\n\t\t\tif (this.allDisposables[idx][0] === x) {\n\t\t\t\tthis.allDisposables.splice(idx, 1);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t}\n\tmarkAsSingleton(disposable: IDisposable): void {\n\t\t// noop\n\t}\n}\n\nlet currentTracker: DisposableTracker | null = null;\n\nexport function beginTrackingDisposables(): void {\n\tcurrentTracker = new DisposableTracker();\n\tsetDisposableTracker(currentTracker);\n}\n\nexport function endTrackingDisposables(): void {\n\tif (currentTracker) {\n\t\tsetDisposableTracker(null);\n\t\tconsole.log(currentTracker.allDisposables.map(e => `${e[0]}\\n${e[1]}`).join('\\n\\n'));\n\t\tcurrentTracker = null;\n\t}\n}\n\nexport function beginLoggingFS(withStacks: boolean = false): void {\n\t(<any>self).beginLoggingFS?.(withStacks);\n}\n\nexport function endLoggingFS(): void {\n\t(<any>self).endLoggingFS?.();\n}\n"],
  "mappings": ";;AAKA,SAAS,aAAa,oBAAoB,4BAA4B;AAEtE,MAAM,kBAAgD;AAAA,EAPtD,OAOsD;AAAA;AAAA;AAAA,EACrD,iBAA0C,CAAC;AAAA,EAC3C,gBAAgB,GAAsB;AACrC,SAAK,eAAe,KAAK,CAAC,GAAG,IAAI,MAAM,EAAE,KAAM,CAAC;AAAA,EACjD;AAAA,EACA,UAAU,OAAoB,QAA2B;AACxD,aAAS,MAAM,GAAG,MAAM,KAAK,eAAe,QAAQ,OAAO;AAC1D,UAAI,KAAK,eAAe,GAAG,EAAE,CAAC,MAAM,OAAO;AAC1C,aAAK,eAAe,OAAO,KAAK,CAAC;AACjC;AAAA,MACD;AAAA,IACD;AAAA,EACD;AAAA,EACA,eAAe,GAAsB;AACpC,aAAS,MAAM,GAAG,MAAM,KAAK,eAAe,QAAQ,OAAO;AAC1D,UAAI,KAAK,eAAe,GAAG,EAAE,CAAC,MAAM,GAAG;AACtC,aAAK,eAAe,OAAO,KAAK,CAAC;AACjC;AAAA,MACD;AAAA,IACD;AAAA,EACD;AAAA,EACA,gBAAgB,YAA+B;AAAA,EAE/C;AACD;AAEA,IAAI,iBAA2C;AAExC,SAAS,2BAAiC;AAChD,mBAAiB,IAAI,kBAAkB;AACvC,uBAAqB,cAAc;AACpC;AAHgB;AAKT,SAAS,yBAA+B;AAC9C,MAAI,gBAAgB;AACnB,yBAAqB,IAAI;AACzB,YAAQ,IAAI,eAAe,eAAe,IAAI,OAAK,GAAG,EAAE,CAAC,CAAC;AAAA,EAAK,EAAE,CAAC,CAAC,EAAE,EAAE,KAAK,MAAM,CAAC;AACnF,qBAAiB;AAAA,EAClB;AACD;AANgB;AAQT,SAAS,eAAe,aAAsB,OAAa;AACjE,EAAM,KAAM,iBAAiB,UAAU;AACxC;AAFgB;AAIT,SAAS,eAAqB;AACpC,EAAM,KAAM,eAAe;AAC5B;AAFgB;",
  "names": []
}
