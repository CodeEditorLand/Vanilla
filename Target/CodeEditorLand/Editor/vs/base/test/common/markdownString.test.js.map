{
  "version": 3,
  "sources": ["../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/base/test/common/markdownString.test.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { MarkdownString } from '../../common/htmlContent.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from './utils.js';\n\nsuite('MarkdownString', () => {\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('Escape leading whitespace', function () {\n\t\tconst mds = new MarkdownString();\n\t\tmds.appendText('Hello\\n    Not a code block');\n\t\tassert.strictEqual(mds.value, 'Hello\\n\\n&nbsp;&nbsp;&nbsp;&nbsp;Not&nbsp;a&nbsp;code&nbsp;block');\n\t});\n\n\ttest('MarkdownString.appendText doesn\\'t escape quote #109040', function () {\n\t\tconst mds = new MarkdownString();\n\t\tmds.appendText('> Text\\n>More');\n\t\tassert.strictEqual(mds.value, '\\\\>&nbsp;Text\\n\\n\\\\>More');\n\t});\n\n\ttest('appendText', () => {\n\n\t\tconst mds = new MarkdownString();\n\t\tmds.appendText('# foo\\n*bar*');\n\n\t\tassert.strictEqual(mds.value, '\\\\#&nbsp;foo\\n\\n\\\\*bar\\\\*');\n\t});\n\n\ttest('appendLink', function () {\n\n\t\tfunction assertLink(target: string, label: string, title: string | undefined, expected: string) {\n\t\t\tconst mds = new MarkdownString();\n\t\t\tmds.appendLink(target, label, title);\n\t\t\tassert.strictEqual(mds.value, expected);\n\t\t}\n\n\t\tassertLink(\n\t\t\t'https://example.com\\\\()![](file:///Users/jrieken/Code/_samples/devfest/foo/img.png)', 'hello', undefined,\n\t\t\t'[hello](https://example.com\\\\(\\\\)![](file:///Users/jrieken/Code/_samples/devfest/foo/img.png\\\\))'\n\t\t);\n\t\tassertLink(\n\t\t\t'https://example.com', 'hello', 'title',\n\t\t\t'[hello](https://example.com \"title\")'\n\t\t);\n\t\tassertLink(\n\t\t\t'foo)', 'hello]', undefined,\n\t\t\t'[hello\\\\]](foo\\\\))'\n\t\t);\n\t\tassertLink(\n\t\t\t'foo\\\\)', 'hello]', undefined,\n\t\t\t'[hello\\\\]](foo\\\\))'\n\t\t);\n\t\tassertLink(\n\t\t\t'fo)o', 'hell]o', undefined,\n\t\t\t'[hell\\\\]o](fo\\\\)o)'\n\t\t);\n\t\tassertLink(\n\t\t\t'foo)', 'hello]', 'title\"',\n\t\t\t'[hello\\\\]](foo\\\\) \"title\\\\\"\")'\n\t\t);\n\t});\n\n\tsuite('appendCodeBlock', () => {\n\t\tfunction assertCodeBlock(lang: string, code: string, result: string) {\n\t\t\tconst mds = new MarkdownString();\n\t\t\tmds.appendCodeblock(lang, code);\n\t\t\tassert.strictEqual(mds.value, result);\n\t\t}\n\n\t\ttest('common cases', () => {\n\t\t\t// no backticks\n\t\t\tassertCodeBlock('ts', 'const a = 1;', `\\n${[\n\t\t\t\t'```ts',\n\t\t\t\t'const a = 1;',\n\t\t\t\t'```'\n\t\t\t].join('\\n')}\\n`);\n\t\t\t// backticks\n\t\t\tassertCodeBlock('ts', 'const a = `1`;', `\\n${[\n\t\t\t\t'```ts',\n\t\t\t\t'const a = `1`;',\n\t\t\t\t'```'\n\t\t\t].join('\\n')}\\n`);\n\t\t});\n\n\t\t// @see https://github.com/microsoft/vscode/issues/193746\n\t\ttest('escape fence', () => {\n\t\t\t// fence in the first line\n\t\t\tassertCodeBlock('md', '```\\n```', `\\n${[\n\t\t\t\t'````md',\n\t\t\t\t'```\\n```',\n\t\t\t\t'````'\n\t\t\t].join('\\n')}\\n`);\n\t\t\t// fence in the middle of code\n\t\t\tassertCodeBlock('md', '\\n\\n```\\n```', `\\n${[\n\t\t\t\t'````md',\n\t\t\t\t'\\n\\n```\\n```',\n\t\t\t\t'````'\n\t\t\t].join('\\n')}\\n`);\n\t\t\t// longer fence at the end of code\n\t\t\tassertCodeBlock('md', '```\\n```\\n````\\n````', `\\n${[\n\t\t\t\t'`````md',\n\t\t\t\t'```\\n```\\n````\\n````',\n\t\t\t\t'`````'\n\t\t\t].join('\\n')}\\n`);\n\t\t});\n\t});\n\n\tsuite('ThemeIcons', () => {\n\n\t\tsuite('Support On', () => {\n\n\t\t\ttest('appendText', () => {\n\t\t\t\tconst mds = new MarkdownString(undefined, { supportThemeIcons: true });\n\t\t\t\tmds.appendText('$(zap) $(not a theme icon) $(add)');\n\n\t\t\t\tassert.strictEqual(mds.value, '\\\\\\\\$\\\\(zap\\\\)&nbsp;$\\\\(not&nbsp;a&nbsp;theme&nbsp;icon\\\\)&nbsp;\\\\\\\\$\\\\(add\\\\)');\n\t\t\t});\n\n\t\t\ttest('appendMarkdown', () => {\n\t\t\t\tconst mds = new MarkdownString(undefined, { supportThemeIcons: true });\n\t\t\t\tmds.appendMarkdown('$(zap) $(not a theme icon) $(add)');\n\n\t\t\t\tassert.strictEqual(mds.value, '$(zap) $(not a theme icon) $(add)');\n\t\t\t});\n\n\t\t\ttest('appendMarkdown with escaped icon', () => {\n\t\t\t\tconst mds = new MarkdownString(undefined, { supportThemeIcons: true });\n\t\t\t\tmds.appendMarkdown('\\\\$(zap) $(not a theme icon) $(add)');\n\n\t\t\t\tassert.strictEqual(mds.value, '\\\\$(zap) $(not a theme icon) $(add)');\n\t\t\t});\n\n\t\t});\n\n\t\tsuite('Support Off', () => {\n\n\t\t\ttest('appendText', () => {\n\t\t\t\tconst mds = new MarkdownString(undefined, { supportThemeIcons: false });\n\t\t\t\tmds.appendText('$(zap) $(not a theme icon) $(add)');\n\n\t\t\t\tassert.strictEqual(mds.value, '$\\\\(zap\\\\)&nbsp;$\\\\(not&nbsp;a&nbsp;theme&nbsp;icon\\\\)&nbsp;$\\\\(add\\\\)');\n\t\t\t});\n\n\t\t\ttest('appendMarkdown', () => {\n\t\t\t\tconst mds = new MarkdownString(undefined, { supportThemeIcons: false });\n\t\t\t\tmds.appendMarkdown('$(zap) $(not a theme icon) $(add)');\n\n\t\t\t\tassert.strictEqual(mds.value, '$(zap) $(not a theme icon) $(add)');\n\t\t\t});\n\n\t\t\ttest('appendMarkdown with escaped icon', () => {\n\t\t\t\tconst mds = new MarkdownString(undefined, { supportThemeIcons: true });\n\t\t\t\tmds.appendMarkdown('\\\\$(zap) $(not a theme icon) $(add)');\n\n\t\t\t\tassert.strictEqual(mds.value, '\\\\$(zap) $(not a theme icon) $(add)');\n\t\t\t});\n\n\t\t});\n\n\t});\n});\n"],
  "mappings": "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",
  "names": []
}
