import r from"assert";import{parse as i,stringify as o}from"../../common/marshalling.js";import{URI as a}from"../../common/uri.js";import{ensureNoDisposablesAreLeakedInTestSuite as l}from"./utils.js";suite("Marshalling",()=>{l(),test("RegExp",()=>{const t=/foo/img,s=o(t),e=i(s);r.strictEqual(t.source,e.source),r.strictEqual(t.global,e.global),r.strictEqual(t.ignoreCase,e.ignoreCase),r.strictEqual(t.multiline,e.multiline)}),test("URI",()=>{const t=a.from({scheme:"file",authority:"server",path:"/shares/c#files",query:"q",fragment:"f"}),s=o(t),e=i(s);r.strictEqual(t.scheme,e.scheme),r.strictEqual(t.authority,e.authority),r.strictEqual(t.path,e.path),r.strictEqual(t.query,e.query),r.strictEqual(t.fragment,e.fragment)}),test("Bug 16793:# in folder name => mirror models get out of sync",()=>{const t=a.file("C:\\C#\\file.txt");r.strictEqual(i(o(t)).toString(),t.toString())})});
