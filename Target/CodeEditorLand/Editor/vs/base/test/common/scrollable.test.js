import T from"assert";import{SmoothScrollingOperation as I}from"../../common/scrollable.js";import{ensureNoDisposablesAreLeakedInTestSuite as h}from"./utils.js";class S extends I{constructor(i,u,o,l,r){r=r+10,l=l-10,super({scrollLeft:0,scrollTop:i,width:0,height:o},{scrollLeft:0,scrollTop:u,width:0,height:o},l,r)}testTick(i){return this._tick(i)}}suite("SmoothScrollingOperation",()=>{h();function o(s,c){const t=s.testTick(c).scrollTop,e=t+800,n=Math.floor(t/20),b=Math.ceil(e/20);return[n,b]}function l(s,c){const t=new S(s,c,800,0,125),e=[];let n=0;return e[n++]=o(t,0),e[n++]=o(t,25),e[n++]=o(t,50),e[n++]=o(t,75),e[n++]=o(t,100),e[n++]=o(t,125),e}function r(s,c,t){const e=l(s,c);T.deepStrictEqual(e,t)}test("scroll 25 lines (40 fit)",()=>{r(0,500,[[5,46],[14,55],[20,61],[23,64],[24,65],[25,65]])}),test("scroll 75 lines (40 fit)",()=>{r(0,1500,[[15,56],[44,85],[62,103],[71,112],[74,115],[75,115]])}),test("scroll 100 lines (40 fit)",()=>{r(0,2e3,[[20,61],[59,100],[82,123],[94,135],[99,140],[100,140]])}),test("scroll 125 lines (40 fit)",()=>{r(0,2500,[[16,57],[29,70],[107,148],[119,160],[124,165],[125,165]])}),test("scroll 500 lines (40 fit)",()=>{r(0,1e4,[[16,57],[29,70],[482,523],[494,535],[499,540],[500,540]])})});
