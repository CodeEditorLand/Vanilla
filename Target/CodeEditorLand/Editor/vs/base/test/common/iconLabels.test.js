import t from"assert";import"../../common/filters.js";import{escapeIcons as s,getCodiconAriaLabel as f,markdownEscapeEscapedIcons as n,matchesFuzzyIconAware as e,parseLabelWithIcons as o,stripIcons as l}from"../../common/iconLabels.js";import{ensureNoDisposablesAreLeakedInTestSuite as u}from"./utils.js";function r(c,a,d,i){const $=c(a,d);t($),i&&t.deepStrictEqual($,i)}suite("Icon Labels",()=>{test("Can get proper aria labels",()=>{const c=new Map([["",""],["asdf","asdf"],["asdf$(squirrel)asdf","asdf squirrel asdf"],["asdf $(squirrel) asdf","asdf  squirrel  asdf"],["$(rocket)asdf","rocket asdf"],["$(rocket) asdf","rocket  asdf"],["$(rocket)$(rocket)$(rocket)asdf","rocket  rocket  rocket asdf"],["$(rocket) asdf $(rocket)","rocket  asdf  rocket"],["$(rocket)asdf$(rocket)","rocket asdf rocket"]]);for(const[a,d]of c)t.strictEqual(f(a),d)}),test("matchesFuzzyIconAware",()=>{r(e,"ccr",o("$(codicon)CamelCaseRocks$(codicon)"),[{start:10,end:11},{start:15,end:16},{start:19,end:20}]),r(e,"ccr",o("$(codicon) CamelCaseRocks $(codicon)"),[{start:11,end:12},{start:16,end:17},{start:20,end:21}]),r(e,"iut",o("$(codicon) Indent $(octico) Using $(octic) Tpaces"),[{start:11,end:12},{start:28,end:29},{start:43,end:44}]),r(e,"using",o("$(codicon) Indent Using Spaces"),[{start:18,end:23}]),r(e,"codicon",o("This $(codicon Indent Using Spaces"),[{start:7,end:14}]),r(e,"indent",o("This $codicon Indent Using Spaces"),[{start:14,end:20}]),r(e,"unt",o("$(primitive-dot) $(file-text) Untitled-1"),[{start:30,end:33}]),r(e,"s",o("$(loading~spin) start"),[{start:16,end:17}])}),test("stripIcons",()=>{t.strictEqual(l("Hello World"),"Hello World"),t.strictEqual(l("$(Hello World"),"$(Hello World"),t.strictEqual(l("$(Hello) World")," World"),t.strictEqual(l("$(Hello) W$(oi)rld")," Wrld")}),test("escapeIcons",()=>{t.strictEqual(s("Hello World"),"Hello World"),t.strictEqual(s("$(Hello World"),"$(Hello World"),t.strictEqual(s("$(Hello) World"),"\\$(Hello) World"),t.strictEqual(s("\\$(Hello) W$(oi)rld"),"\\$(Hello) W\\$(oi)rld")}),test("markdownEscapeEscapedIcons",()=>{t.strictEqual(n("Hello World"),"Hello World"),t.strictEqual(n("$(Hello) World"),"$(Hello) World"),t.strictEqual(n("\\$(Hello) World"),"\\\\$(Hello) World")}),u()});
