import o from"assert";import*as f from"net";import*as n from"../../node/ports.js";import{ensureNoDisposablesAreLeakedInTestSuite as i}from"../common/utils.js";import{flakySuite as m}from"./testUtils.js";m("Ports",()=>{(process.env.VSCODE_PID?test.skip:test)("Finds a free port (no timeout)",function(t){n.findFreePort(7e3,100,3e5).then(e=>{o.ok(e>=7e3);const s=f.createServer();s.listen(e,void 0,void 0,()=>{n.findFreePort(7e3,50,3e5).then(r=>{o.ok(r>=7e3&&r!==e),s.close(),t()},r=>t(r))})},e=>t(e))}),i()});
