{
  "version": 3,
  "sources": ["../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/base/browser/mouseEvent.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as browser from './browser.js';\nimport { IframeUtils } from './iframe.js';\nimport * as platform from '../common/platform.js';\n\nexport interface IMouseEvent {\n\treadonly browserEvent: MouseEvent;\n\treadonly leftButton: boolean;\n\treadonly middleButton: boolean;\n\treadonly rightButton: boolean;\n\treadonly buttons: number;\n\treadonly target: HTMLElement;\n\treadonly detail: number;\n\treadonly posx: number;\n\treadonly posy: number;\n\treadonly ctrlKey: boolean;\n\treadonly shiftKey: boolean;\n\treadonly altKey: boolean;\n\treadonly metaKey: boolean;\n\treadonly timestamp: number;\n\n\tpreventDefault(): void;\n\tstopPropagation(): void;\n}\n\nexport class StandardMouseEvent implements IMouseEvent {\n\n\tpublic readonly browserEvent: MouseEvent;\n\n\tpublic readonly leftButton: boolean;\n\tpublic readonly middleButton: boolean;\n\tpublic readonly rightButton: boolean;\n\tpublic readonly buttons: number;\n\tpublic readonly target: HTMLElement;\n\tpublic detail: number;\n\tpublic readonly posx: number;\n\tpublic readonly posy: number;\n\tpublic readonly ctrlKey: boolean;\n\tpublic readonly shiftKey: boolean;\n\tpublic readonly altKey: boolean;\n\tpublic readonly metaKey: boolean;\n\tpublic readonly timestamp: number;\n\n\tconstructor(targetWindow: Window, e: MouseEvent) {\n\t\tthis.timestamp = Date.now();\n\t\tthis.browserEvent = e;\n\t\tthis.leftButton = e.button === 0;\n\t\tthis.middleButton = e.button === 1;\n\t\tthis.rightButton = e.button === 2;\n\t\tthis.buttons = e.buttons;\n\n\t\tthis.target = <HTMLElement>e.target;\n\n\t\tthis.detail = e.detail || 1;\n\t\tif (e.type === 'dblclick') {\n\t\t\tthis.detail = 2;\n\t\t}\n\t\tthis.ctrlKey = e.ctrlKey;\n\t\tthis.shiftKey = e.shiftKey;\n\t\tthis.altKey = e.altKey;\n\t\tthis.metaKey = e.metaKey;\n\n\t\tif (typeof e.pageX === 'number') {\n\t\t\tthis.posx = e.pageX;\n\t\t\tthis.posy = e.pageY;\n\t\t} else {\n\t\t\t// Probably hit by MSGestureEvent\n\t\t\tthis.posx = e.clientX + this.target.ownerDocument.body.scrollLeft + this.target.ownerDocument.documentElement.scrollLeft;\n\t\t\tthis.posy = e.clientY + this.target.ownerDocument.body.scrollTop + this.target.ownerDocument.documentElement.scrollTop;\n\t\t}\n\n\t\t// Find the position of the iframe this code is executing in relative to the iframe where the event was captured.\n\t\tconst iframeOffsets = IframeUtils.getPositionOfChildWindowRelativeToAncestorWindow(targetWindow, e.view);\n\t\tthis.posx -= iframeOffsets.left;\n\t\tthis.posy -= iframeOffsets.top;\n\t}\n\n\tpublic preventDefault(): void {\n\t\tthis.browserEvent.preventDefault();\n\t}\n\n\tpublic stopPropagation(): void {\n\t\tthis.browserEvent.stopPropagation();\n\t}\n}\n\nexport class DragMouseEvent extends StandardMouseEvent {\n\n\tpublic readonly dataTransfer: DataTransfer;\n\n\tconstructor(targetWindow: Window, e: MouseEvent) {\n\t\tsuper(targetWindow, e);\n\t\tthis.dataTransfer = (<any>e).dataTransfer;\n\t}\n}\n\nexport interface IMouseWheelEvent extends MouseEvent {\n\treadonly wheelDelta: number;\n\treadonly wheelDeltaX: number;\n\treadonly wheelDeltaY: number;\n\n\treadonly deltaX: number;\n\treadonly deltaY: number;\n\treadonly deltaZ: number;\n\treadonly deltaMode: number;\n}\n\ninterface IWebKitMouseWheelEvent {\n\twheelDeltaY: number;\n\twheelDeltaX: number;\n}\n\ninterface IGeckoMouseWheelEvent {\n\tHORIZONTAL_AXIS: number;\n\tVERTICAL_AXIS: number;\n\taxis: number;\n\tdetail: number;\n}\n\nexport class StandardWheelEvent {\n\n\tpublic readonly browserEvent: IMouseWheelEvent | null;\n\tpublic readonly deltaY: number;\n\tpublic readonly deltaX: number;\n\tpublic readonly target: Node;\n\n\tconstructor(e: IMouseWheelEvent | null, deltaX: number = 0, deltaY: number = 0) {\n\n\t\tthis.browserEvent = e || null;\n\t\tthis.target = e ? (e.target || (<any>e).targetNode || e.srcElement) : null;\n\n\t\tthis.deltaY = deltaY;\n\t\tthis.deltaX = deltaX;\n\n\t\tlet shouldFactorDPR: boolean = false;\n\t\tif (browser.isChrome) {\n\t\t\t// Chrome version >= 123 contains the fix to factor devicePixelRatio into the wheel event.\n\t\t\t// See https://chromium.googlesource.com/chromium/src.git/+/be51b448441ff0c9d1f17e0f25c4bf1ab3f11f61\n\t\t\tconst chromeVersionMatch = navigator.userAgent.match(/Chrome\\/(\\d+)/);\n\t\t\tconst chromeMajorVersion = chromeVersionMatch ? parseInt(chromeVersionMatch[1]) : 123;\n\t\t\tshouldFactorDPR = chromeMajorVersion <= 122;\n\t\t}\n\n\t\tif (e) {\n\t\t\t// Old (deprecated) wheel events\n\t\t\tconst e1 = <IWebKitMouseWheelEvent><any>e;\n\t\t\tconst e2 = <IGeckoMouseWheelEvent><any>e;\n\t\t\tconst devicePixelRatio = e.view?.devicePixelRatio || 1;\n\n\t\t\t// vertical delta scroll\n\t\t\tif (typeof e1.wheelDeltaY !== 'undefined') {\n\t\t\t\tif (shouldFactorDPR) {\n\t\t\t\t\t// Refs https://github.com/microsoft/vscode/issues/146403#issuecomment-1854538928\n\t\t\t\t\tthis.deltaY = e1.wheelDeltaY / (120 * devicePixelRatio);\n\t\t\t\t} else {\n\t\t\t\t\tthis.deltaY = e1.wheelDeltaY / 120;\n\t\t\t\t}\n\t\t\t} else if (typeof e2.VERTICAL_AXIS !== 'undefined' && e2.axis === e2.VERTICAL_AXIS) {\n\t\t\t\tthis.deltaY = -e2.detail / 3;\n\t\t\t} else if (e.type === 'wheel') {\n\t\t\t\t// Modern wheel event\n\t\t\t\t// https://developer.mozilla.org/en-US/docs/Web/API/WheelEvent\n\t\t\t\tconst ev = <WheelEvent><unknown>e;\n\n\t\t\t\tif (ev.deltaMode === ev.DOM_DELTA_LINE) {\n\t\t\t\t\t// the deltas are expressed in lines\n\t\t\t\t\tif (browser.isFirefox && !platform.isMacintosh) {\n\t\t\t\t\t\tthis.deltaY = -e.deltaY / 3;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.deltaY = -e.deltaY;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis.deltaY = -e.deltaY / 40;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// horizontal delta scroll\n\t\t\tif (typeof e1.wheelDeltaX !== 'undefined') {\n\t\t\t\tif (browser.isSafari && platform.isWindows) {\n\t\t\t\t\tthis.deltaX = - (e1.wheelDeltaX / 120);\n\t\t\t\t} else if (shouldFactorDPR) {\n\t\t\t\t\t// Refs https://github.com/microsoft/vscode/issues/146403#issuecomment-1854538928\n\t\t\t\t\tthis.deltaX = e1.wheelDeltaX / (120 * devicePixelRatio);\n\t\t\t\t} else {\n\t\t\t\t\tthis.deltaX = e1.wheelDeltaX / 120;\n\t\t\t\t}\n\t\t\t} else if (typeof e2.HORIZONTAL_AXIS !== 'undefined' && e2.axis === e2.HORIZONTAL_AXIS) {\n\t\t\t\tthis.deltaX = -e.detail / 3;\n\t\t\t} else if (e.type === 'wheel') {\n\t\t\t\t// Modern wheel event\n\t\t\t\t// https://developer.mozilla.org/en-US/docs/Web/API/WheelEvent\n\t\t\t\tconst ev = <WheelEvent><unknown>e;\n\n\t\t\t\tif (ev.deltaMode === ev.DOM_DELTA_LINE) {\n\t\t\t\t\t// the deltas are expressed in lines\n\t\t\t\t\tif (browser.isFirefox && !platform.isMacintosh) {\n\t\t\t\t\t\tthis.deltaX = -e.deltaX / 3;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.deltaX = -e.deltaX;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis.deltaX = -e.deltaX / 40;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Assume a vertical scroll if nothing else worked\n\t\t\tif (this.deltaY === 0 && this.deltaX === 0 && e.wheelDelta) {\n\t\t\t\tif (shouldFactorDPR) {\n\t\t\t\t\t// Refs https://github.com/microsoft/vscode/issues/146403#issuecomment-1854538928\n\t\t\t\t\tthis.deltaY = e.wheelDelta / (120 * devicePixelRatio);\n\t\t\t\t} else {\n\t\t\t\t\tthis.deltaY = e.wheelDelta / 120;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic preventDefault(): void {\n\t\tthis.browserEvent?.preventDefault();\n\t}\n\n\tpublic stopPropagation(): void {\n\t\tthis.browserEvent?.stopPropagation();\n\t}\n}\n"],
  "mappings": "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",
  "names": []
}
