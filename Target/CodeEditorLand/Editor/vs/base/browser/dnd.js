import{addDisposableListener as s,getWindow as n}from"./dom.js";import{Disposable as d}from"../common/lifecycle.js";import{Mimes as l}from"../common/mime.js";class g extends d{timeout;constructor(i,a){super(),this._register(s(i,"dragover",t=>{t.preventDefault(),this.timeout||(this.timeout=setTimeout(()=>{a(),this.timeout=null},800))})),["dragleave","drop","dragend"].forEach(t=>{this._register(s(i,t,()=>{this.clearDragTimeout()}))})}clearDragTimeout(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null)}dispose(){super.dispose(),this.clearDragTimeout()}}const D={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:l.text,INTERNAL_URI_LIST:"application/vnd.code.uri-list"};function f(r,i,a,t,o){const e=document.createElement("div");e.className=a,e.textContent=i,o&&(e.style.color=o),t&&(e.style.background=t),r.dataTransfer&&(n(r).document.body.appendChild(e),r.dataTransfer.setDragImage(e,-10,-10),setTimeout(()=>e.remove(),0))}export{D as DataTransfers,g as DelayedDragHandler,f as applyDragImage};
