{
  "version": 3,
  "sources": ["../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/base/browser/ui/scrollbar/verticalScrollbar.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Codicon } from \"../../../common/codicons.js\";\nimport {\n\ttype INewScrollPosition,\n\ttype ScrollEvent,\n\ttype Scrollable,\n\tScrollbarVisibility,\n} from \"../../../common/scrollable.js\";\nimport { StandardWheelEvent } from \"../../mouseEvent.js\";\nimport {\n\tAbstractScrollbar,\n\ttype ISimplifiedPointerEvent,\n\ttype ScrollbarHost,\n} from \"./abstractScrollbar.js\";\nimport type { ScrollableElementResolvedOptions } from \"./scrollableElementOptions.js\";\nimport { ARROW_IMG_SIZE } from \"./scrollbarArrow.js\";\nimport { ScrollbarState } from \"./scrollbarState.js\";\n\nexport class VerticalScrollbar extends AbstractScrollbar {\n\tconstructor(\n\t\tscrollable: Scrollable,\n\t\toptions: ScrollableElementResolvedOptions,\n\t\thost: ScrollbarHost,\n\t) {\n\t\tconst scrollDimensions = scrollable.getScrollDimensions();\n\t\tconst scrollPosition = scrollable.getCurrentScrollPosition();\n\t\tsuper({\n\t\t\tlazyRender: options.lazyRender,\n\t\t\thost: host,\n\t\t\tscrollbarState: new ScrollbarState(\n\t\t\t\toptions.verticalHasArrows ? options.arrowSize : 0,\n\t\t\t\toptions.vertical === ScrollbarVisibility.Hidden\n\t\t\t\t\t? 0\n\t\t\t\t\t: options.verticalScrollbarSize,\n\t\t\t\t// give priority to vertical scroll bar over horizontal and let it scroll all the way to the bottom\n\t\t\t\t0,\n\t\t\t\tscrollDimensions.height,\n\t\t\t\tscrollDimensions.scrollHeight,\n\t\t\t\tscrollPosition.scrollTop,\n\t\t\t),\n\t\t\tvisibility: options.vertical,\n\t\t\textraScrollbarClassName: \"vertical\",\n\t\t\tscrollable: scrollable,\n\t\t\tscrollByPage: options.scrollByPage,\n\t\t});\n\n\t\tif (options.verticalHasArrows) {\n\t\t\tconst arrowDelta = (options.arrowSize - ARROW_IMG_SIZE) / 2;\n\t\t\tconst scrollbarDelta =\n\t\t\t\t(options.verticalScrollbarSize - ARROW_IMG_SIZE) / 2;\n\n\t\t\tthis._createArrow({\n\t\t\t\tclassName: \"scra\",\n\t\t\t\ticon: Codicon.scrollbarButtonUp,\n\t\t\t\ttop: arrowDelta,\n\t\t\t\tleft: scrollbarDelta,\n\t\t\t\tbottom: undefined,\n\t\t\t\tright: undefined,\n\t\t\t\tbgWidth: options.verticalScrollbarSize,\n\t\t\t\tbgHeight: options.arrowSize,\n\t\t\t\tonActivate: () =>\n\t\t\t\t\tthis._host.onMouseWheel(new StandardWheelEvent(null, 0, 1)),\n\t\t\t});\n\n\t\t\tthis._createArrow({\n\t\t\t\tclassName: \"scra\",\n\t\t\t\ticon: Codicon.scrollbarButtonDown,\n\t\t\t\ttop: undefined,\n\t\t\t\tleft: scrollbarDelta,\n\t\t\t\tbottom: arrowDelta,\n\t\t\t\tright: undefined,\n\t\t\t\tbgWidth: options.verticalScrollbarSize,\n\t\t\t\tbgHeight: options.arrowSize,\n\t\t\t\tonActivate: () =>\n\t\t\t\t\tthis._host.onMouseWheel(\n\t\t\t\t\t\tnew StandardWheelEvent(null, 0, -1),\n\t\t\t\t\t),\n\t\t\t});\n\t\t}\n\n\t\tthis._createSlider(\n\t\t\t0,\n\t\t\tMath.floor(\n\t\t\t\t(options.verticalScrollbarSize - options.verticalSliderSize) /\n\t\t\t\t\t2,\n\t\t\t),\n\t\t\toptions.verticalSliderSize,\n\t\t\tundefined,\n\t\t);\n\t}\n\n\tprotected _updateSlider(sliderSize: number, sliderPosition: number): void {\n\t\tthis.slider.setHeight(sliderSize);\n\t\tthis.slider.setTop(sliderPosition);\n\t}\n\n\tprotected _renderDomNode(largeSize: number, smallSize: number): void {\n\t\tthis.domNode.setWidth(smallSize);\n\t\tthis.domNode.setHeight(largeSize);\n\t\tthis.domNode.setRight(0);\n\t\tthis.domNode.setTop(0);\n\t}\n\n\tpublic onDidScroll(e: ScrollEvent): boolean {\n\t\tthis._shouldRender =\n\t\t\tthis._onElementScrollSize(e.scrollHeight) || this._shouldRender;\n\t\tthis._shouldRender =\n\t\t\tthis._onElementScrollPosition(e.scrollTop) || this._shouldRender;\n\t\tthis._shouldRender =\n\t\t\tthis._onElementSize(e.height) || this._shouldRender;\n\t\treturn this._shouldRender;\n\t}\n\n\tprotected _pointerDownRelativePosition(\n\t\toffsetX: number,\n\t\toffsetY: number,\n\t): number {\n\t\treturn offsetY;\n\t}\n\n\tprotected _sliderPointerPosition(e: ISimplifiedPointerEvent): number {\n\t\treturn e.pageY;\n\t}\n\n\tprotected _sliderOrthogonalPointerPosition(\n\t\te: ISimplifiedPointerEvent,\n\t): number {\n\t\treturn e.pageX;\n\t}\n\n\tprotected _updateScrollbarSize(size: number): void {\n\t\tthis.slider.setWidth(size);\n\t}\n\n\tpublic writeScrollPosition(\n\t\ttarget: INewScrollPosition,\n\t\tscrollPosition: number,\n\t): void {\n\t\ttarget.scrollTop = scrollPosition;\n\t}\n\n\tpublic updateOptions(options: ScrollableElementResolvedOptions): void {\n\t\tthis.updateScrollbarSize(\n\t\t\toptions.vertical === ScrollbarVisibility.Hidden\n\t\t\t\t? 0\n\t\t\t\t: options.verticalScrollbarSize,\n\t\t);\n\t\t// give priority to vertical scroll bar over horizontal and let it scroll all the way to the bottom\n\t\tthis._scrollbarState.setOppositeScrollbarSize(0);\n\t\tthis._visibilityController.setVisibility(options.vertical);\n\t\tthis._scrollByPage = options.scrollByPage;\n\t}\n}\n"],
  "mappings": "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",
  "names": []
}
