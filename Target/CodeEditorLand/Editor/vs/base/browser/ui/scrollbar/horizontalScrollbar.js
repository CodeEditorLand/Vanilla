import{Codicon as n}from"../../../common/codicons.js";import{ScrollbarVisibility as l}from"../../../common/scrollable.js";import{StandardWheelEvent as s}from"../../mouseEvent.js";import{AbstractScrollbar as h}from"./abstractScrollbar.js";import"./scrollableElementOptions.js";import{ARROW_IMG_SIZE as a}from"./scrollbarArrow.js";import{ScrollbarState as S}from"./scrollbarState.js";class y extends h{constructor(e,r,d){const t=e.getScrollDimensions(),c=e.getCurrentScrollPosition();if(super({lazyRender:r.lazyRender,host:d,scrollbarState:new S(r.horizontalHasArrows?r.arrowSize:0,r.horizontal===l.Hidden?0:r.horizontalScrollbarSize,r.vertical===l.Hidden?0:r.verticalScrollbarSize,t.width,t.scrollWidth,c.scrollLeft),visibility:r.horizontal,extraScrollbarClassName:"horizontal",scrollable:e,scrollByPage:r.scrollByPage}),r.horizontalHasArrows){const o=(r.arrowSize-a)/2,i=(r.horizontalScrollbarSize-a)/2;this._createArrow({className:"scra",icon:n.scrollbarButtonLeft,top:i,left:o,bottom:void 0,right:void 0,bgWidth:r.arrowSize,bgHeight:r.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new s(null,1,0))}),this._createArrow({className:"scra",icon:n.scrollbarButtonRight,top:i,left:void 0,bottom:void 0,right:o,bgWidth:r.arrowSize,bgHeight:r.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new s(null,-1,0))})}this._createSlider(Math.floor((r.horizontalScrollbarSize-r.horizontalSliderSize)/2),0,void 0,r.horizontalSliderSize)}_updateSlider(e,r){this.slider.setWidth(e),this.slider.setLeft(r)}_renderDomNode(e,r){this.domNode.setWidth(e),this.domNode.setHeight(r),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(e){return this._shouldRender=this._onElementScrollSize(e.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(e.width)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(e,r){return e}_sliderPointerPosition(e){return e.pageX}_sliderOrthogonalPointerPosition(e){return e.pageY}_updateScrollbarSize(e){this.slider.setHeight(e)}writeScrollPosition(e,r){e.scrollLeft=r}updateOptions(e){this.updateScrollbarSize(e.horizontal===l.Hidden?0:e.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(e.vertical===l.Hidden?0:e.verticalScrollbarSize),this._visibilityController.setVisibility(e.horizontal),this._scrollByPage=e.scrollByPage}}export{y as HorizontalScrollbar};
