{
  "version": 3,
  "sources": ["../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/base/browser/ui/aria/aria.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as dom from \"../../dom.js\";\nimport \"./aria.css\";\n\n// Use a max length since we are inserting the whole msg in the DOM and that can cause browsers to freeze for long messages #94233\nconst MAX_MESSAGE_LENGTH = 20000;\nlet ariaContainer: HTMLElement;\nlet alertContainer: HTMLElement;\nlet alertContainer2: HTMLElement;\nlet statusContainer: HTMLElement;\nlet statusContainer2: HTMLElement;\nexport function setARIAContainer(parent: HTMLElement) {\n\tariaContainer = document.createElement(\"div\");\n\tariaContainer.className = \"monaco-aria-container\";\n\n\tconst createAlertContainer = () => {\n\t\tconst element = document.createElement(\"div\");\n\t\telement.className = \"monaco-alert\";\n\t\telement.setAttribute(\"role\", \"alert\");\n\t\telement.setAttribute(\"aria-atomic\", \"true\");\n\t\tariaContainer.appendChild(element);\n\t\treturn element;\n\t};\n\talertContainer = createAlertContainer();\n\talertContainer2 = createAlertContainer();\n\n\tconst createStatusContainer = () => {\n\t\tconst element = document.createElement(\"div\");\n\t\telement.className = \"monaco-status\";\n\t\telement.setAttribute(\"aria-live\", \"polite\");\n\t\telement.setAttribute(\"aria-atomic\", \"true\");\n\t\tariaContainer.appendChild(element);\n\t\treturn element;\n\t};\n\tstatusContainer = createStatusContainer();\n\tstatusContainer2 = createStatusContainer();\n\n\tparent.appendChild(ariaContainer);\n}\n/**\n * Given the provided message, will make sure that it is read as alert to screen readers.\n */\nexport function alert(msg: string): void {\n\tif (!ariaContainer) {\n\t\treturn;\n\t}\n\n\t// Use alternate containers such that duplicated messages get read out by screen readers #99466\n\tif (alertContainer.textContent !== msg) {\n\t\tdom.clearNode(alertContainer2);\n\t\tinsertMessage(alertContainer, msg);\n\t} else {\n\t\tdom.clearNode(alertContainer);\n\t\tinsertMessage(alertContainer2, msg);\n\t}\n}\n\n/**\n * Given the provided message, will make sure that it is read as status to screen readers.\n */\nexport function status(msg: string): void {\n\tif (!ariaContainer) {\n\t\treturn;\n\t}\n\n\tif (statusContainer.textContent !== msg) {\n\t\tdom.clearNode(statusContainer2);\n\t\tinsertMessage(statusContainer, msg);\n\t} else {\n\t\tdom.clearNode(statusContainer);\n\t\tinsertMessage(statusContainer2, msg);\n\t}\n}\n\nfunction insertMessage(target: HTMLElement, msg: string): void {\n\tdom.clearNode(target);\n\tif (msg.length > MAX_MESSAGE_LENGTH) {\n\t\tmsg = msg.substr(0, MAX_MESSAGE_LENGTH);\n\t}\n\ttarget.textContent = msg;\n\n\t// See https://www.paciellogroup.com/blog/2012/06/html5-accessibility-chops-aria-rolealert-browser-support/\n\ttarget.style.visibility = \"hidden\";\n\ttarget.style.visibility = \"visible\";\n}\n\n// Copied from @types/react which original came from https://www.w3.org/TR/wai-aria-1.1/#role_definitions\nexport type AriaRole =\n\t| \"alert\"\n\t| \"alertdialog\"\n\t| \"application\"\n\t| \"article\"\n\t| \"banner\"\n\t| \"button\"\n\t| \"cell\"\n\t| \"checkbox\"\n\t| \"columnheader\"\n\t| \"combobox\"\n\t| \"complementary\"\n\t| \"contentinfo\"\n\t| \"definition\"\n\t| \"dialog\"\n\t| \"directory\"\n\t| \"document\"\n\t| \"feed\"\n\t| \"figure\"\n\t| \"form\"\n\t| \"grid\"\n\t| \"gridcell\"\n\t| \"group\"\n\t| \"heading\"\n\t| \"img\"\n\t| \"link\"\n\t| \"list\"\n\t| \"listbox\"\n\t| \"listitem\"\n\t| \"log\"\n\t| \"main\"\n\t| \"marquee\"\n\t| \"math\"\n\t| \"menu\"\n\t| \"menubar\"\n\t| \"menuitem\"\n\t| \"menuitemcheckbox\"\n\t| \"menuitemradio\"\n\t| \"navigation\"\n\t| \"none\"\n\t| \"note\"\n\t| \"option\"\n\t| \"presentation\"\n\t| \"progressbar\"\n\t| \"radio\"\n\t| \"radiogroup\"\n\t| \"region\"\n\t| \"row\"\n\t| \"rowgroup\"\n\t| \"rowheader\"\n\t| \"scrollbar\"\n\t| \"search\"\n\t| \"searchbox\"\n\t| \"separator\"\n\t| \"slider\"\n\t| \"spinbutton\"\n\t| \"status\"\n\t| \"switch\"\n\t| \"tab\"\n\t| \"table\"\n\t| \"tablist\"\n\t| \"tabpanel\"\n\t| \"term\"\n\t| \"textbox\"\n\t| \"timer\"\n\t| \"toolbar\"\n\t| \"tooltip\"\n\t| \"tree\"\n\t| \"treegrid\"\n\t| \"treeitem\"\n\t| (string & {}); // Prevent type collapsing to `string`\n"],
  "mappings": ";;AAKA,YAAY,SAAS;AACrB,OAAO;AAGP,MAAM,qBAAqB;AAC3B,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACG,SAAS,iBAAiB,QAAqB;AACrD,kBAAgB,SAAS,cAAc,KAAK;AAC5C,gBAAc,YAAY;AAE1B,QAAM,uBAAuB,6BAAM;AAClC,UAAM,UAAU,SAAS,cAAc,KAAK;AAC5C,YAAQ,YAAY;AACpB,YAAQ,aAAa,QAAQ,OAAO;AACpC,YAAQ,aAAa,eAAe,MAAM;AAC1C,kBAAc,YAAY,OAAO;AACjC,WAAO;AAAA,EACR,GAP6B;AAQ7B,mBAAiB,qBAAqB;AACtC,oBAAkB,qBAAqB;AAEvC,QAAM,wBAAwB,6BAAM;AACnC,UAAM,UAAU,SAAS,cAAc,KAAK;AAC5C,YAAQ,YAAY;AACpB,YAAQ,aAAa,aAAa,QAAQ;AAC1C,YAAQ,aAAa,eAAe,MAAM;AAC1C,kBAAc,YAAY,OAAO;AACjC,WAAO;AAAA,EACR,GAP8B;AAQ9B,oBAAkB,sBAAsB;AACxC,qBAAmB,sBAAsB;AAEzC,SAAO,YAAY,aAAa;AACjC;AA3BgB;AA+BT,SAAS,MAAM,KAAmB;AACxC,MAAI,CAAC,eAAe;AACnB;AAAA,EACD;AAGA,MAAI,eAAe,gBAAgB,KAAK;AACvC,QAAI,UAAU,eAAe;AAC7B,kBAAc,gBAAgB,GAAG;AAAA,EAClC,OAAO;AACN,QAAI,UAAU,cAAc;AAC5B,kBAAc,iBAAiB,GAAG;AAAA,EACnC;AACD;AAbgB;AAkBT,SAAS,OAAO,KAAmB;AACzC,MAAI,CAAC,eAAe;AACnB;AAAA,EACD;AAEA,MAAI,gBAAgB,gBAAgB,KAAK;AACxC,QAAI,UAAU,gBAAgB;AAC9B,kBAAc,iBAAiB,GAAG;AAAA,EACnC,OAAO;AACN,QAAI,UAAU,eAAe;AAC7B,kBAAc,kBAAkB,GAAG;AAAA,EACpC;AACD;AAZgB;AAchB,SAAS,cAAc,QAAqB,KAAmB;AAC9D,MAAI,UAAU,MAAM;AACpB,MAAI,IAAI,SAAS,oBAAoB;AACpC,UAAM,IAAI,OAAO,GAAG,kBAAkB;AAAA,EACvC;AACA,SAAO,cAAc;AAGrB,SAAO,MAAM,aAAa;AAC1B,SAAO,MAAM,aAAa;AAC3B;AAVS;",
  "names": []
}
