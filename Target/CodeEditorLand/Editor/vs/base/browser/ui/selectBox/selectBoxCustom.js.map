{
  "version": 3,
  "sources": ["../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/base/browser/ui/selectBox/selectBoxCustom.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as arrays from \"../../../common/arrays.js\";\nimport { Emitter, Event } from \"../../../common/event.js\";\nimport { KeyCode, KeyCodeUtils } from \"../../../common/keyCodes.js\";\nimport { Disposable, type IDisposable } from \"../../../common/lifecycle.js\";\nimport { isMacintosh } from \"../../../common/platform.js\";\nimport { ScrollbarVisibility } from \"../../../common/scrollable.js\";\nimport * as dom from \"../../dom.js\";\nimport { DomEmitter } from \"../../event.js\";\nimport type { IContentActionHandler } from \"../../formattedTextRenderer.js\";\nimport { StandardKeyboardEvent } from \"../../keyboardEvent.js\";\nimport { renderMarkdown } from \"../../markdownRenderer.js\";\nimport {\n\tAnchorPosition,\n\ttype IContextViewProvider,\n} from \"../contextview/contextview.js\";\nimport type { IManagedHover } from \"../hover/hover.js\";\nimport { getBaseLayerHoverDelegate } from \"../hover/hoverDelegate2.js\";\nimport { getDefaultHoverDelegate } from \"../hover/hoverDelegateFactory.js\";\nimport type {\n\tIListEvent,\n\tIListRenderer,\n\tIListVirtualDelegate,\n} from \"../list/list.js\";\nimport { List } from \"../list/listWidget.js\";\nimport type {\n\tISelectBoxDelegate,\n\tISelectBoxOptions,\n\tISelectBoxStyles,\n\tISelectData,\n\tISelectOptionItem,\n} from \"./selectBox.js\";\nimport \"./selectBoxCustom.css\";\nimport { localize } from \"../../../../nls.js\";\n\nconst $ = dom.$;\n\nconst SELECT_OPTION_ENTRY_TEMPLATE_ID = \"selectOption.entry.template\";\n\ninterface ISelectListTemplateData {\n\troot: HTMLElement;\n\ttext: HTMLElement;\n\tdetail: HTMLElement;\n\tdecoratorRight: HTMLElement;\n}\n\nclass SelectListRenderer\n\timplements IListRenderer<ISelectOptionItem, ISelectListTemplateData>\n{\n\tget templateId(): string {\n\t\treturn SELECT_OPTION_ENTRY_TEMPLATE_ID;\n\t}\n\n\trenderTemplate(container: HTMLElement): ISelectListTemplateData {\n\t\tconst data: ISelectListTemplateData = Object.create(null);\n\t\tdata.root = container;\n\t\tdata.text = dom.append(container, $(\".option-text\"));\n\t\tdata.detail = dom.append(container, $(\".option-detail\"));\n\t\tdata.decoratorRight = dom.append(\n\t\t\tcontainer,\n\t\t\t$(\".option-decorator-right\"),\n\t\t);\n\n\t\treturn data;\n\t}\n\n\trenderElement(\n\t\telement: ISelectOptionItem,\n\t\tindex: number,\n\t\ttemplateData: ISelectListTemplateData,\n\t): void {\n\t\tconst data: ISelectListTemplateData = templateData;\n\n\t\tconst text = element.text;\n\t\tconst detail = element.detail;\n\t\tconst decoratorRight = element.decoratorRight;\n\n\t\tconst isDisabled = element.isDisabled;\n\n\t\tdata.text.textContent = text;\n\t\tdata.detail.textContent = !!detail ? detail : \"\";\n\t\tdata.decoratorRight.innerText = !!decoratorRight ? decoratorRight : \"\";\n\n\t\t// pseudo-select disabled option\n\t\tif (isDisabled) {\n\t\t\tdata.root.classList.add(\"option-disabled\");\n\t\t} else {\n\t\t\t// Make sure we do class removal from prior template rendering\n\t\t\tdata.root.classList.remove(\"option-disabled\");\n\t\t}\n\t}\n\n\tdisposeTemplate(_templateData: ISelectListTemplateData): void {\n\t\t// noop\n\t}\n}\n\nexport class SelectBoxList\n\textends Disposable\n\timplements ISelectBoxDelegate, IListVirtualDelegate<ISelectOptionItem>\n{\n\tprivate static readonly DEFAULT_DROPDOWN_MINIMUM_BOTTOM_MARGIN = 32;\n\tprivate static readonly DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN = 2;\n\tprivate static readonly DEFAULT_MINIMUM_VISIBLE_OPTIONS = 3;\n\n\tprivate _isVisible: boolean;\n\tprivate selectBoxOptions: ISelectBoxOptions;\n\tprivate selectElement: HTMLSelectElement;\n\tprivate container?: HTMLElement;\n\tprivate options: ISelectOptionItem[] = [];\n\tprivate selected: number;\n\tprivate readonly _onDidSelect: Emitter<ISelectData>;\n\tprivate readonly styles: ISelectBoxStyles;\n\tprivate listRenderer!: SelectListRenderer;\n\tprivate contextViewProvider!: IContextViewProvider;\n\tprivate selectDropDownContainer!: HTMLElement;\n\tprivate styleElement!: HTMLStyleElement;\n\tprivate selectList!: List<ISelectOptionItem>;\n\tprivate selectDropDownListContainer!: HTMLElement;\n\tprivate widthControlElement!: HTMLElement;\n\tprivate _currentSelection = 0;\n\tprivate _dropDownPosition!: AnchorPosition;\n\tprivate _hasDetails = false;\n\tprivate selectionDetailsPane!: HTMLElement;\n\tprivate _skipLayout = false;\n\tprivate _cachedMaxDetailsHeight?: number;\n\tprivate _hover?: IManagedHover;\n\n\tprivate _sticky = false; // for dev purposes only\n\n\tconstructor(\n\t\toptions: ISelectOptionItem[],\n\t\tselected: number,\n\t\tcontextViewProvider: IContextViewProvider,\n\t\tstyles: ISelectBoxStyles,\n\t\tselectBoxOptions?: ISelectBoxOptions,\n\t) {\n\t\tsuper();\n\t\tthis._isVisible = false;\n\t\tthis.styles = styles;\n\n\t\tthis.selectBoxOptions = selectBoxOptions || Object.create(null);\n\n\t\tif (typeof this.selectBoxOptions.minBottomMargin !== \"number\") {\n\t\t\tthis.selectBoxOptions.minBottomMargin =\n\t\t\t\tSelectBoxList.DEFAULT_DROPDOWN_MINIMUM_BOTTOM_MARGIN;\n\t\t} else if (this.selectBoxOptions.minBottomMargin < 0) {\n\t\t\tthis.selectBoxOptions.minBottomMargin = 0;\n\t\t}\n\n\t\tthis.selectElement = document.createElement(\"select\");\n\n\t\t// Use custom CSS vars for padding calculation\n\t\tthis.selectElement.className =\n\t\t\t\"monaco-select-box monaco-select-box-dropdown-padding\";\n\n\t\tif (typeof this.selectBoxOptions.ariaLabel === \"string\") {\n\t\t\tthis.selectElement.setAttribute(\n\t\t\t\t\"aria-label\",\n\t\t\t\tthis.selectBoxOptions.ariaLabel,\n\t\t\t);\n\t\t}\n\n\t\tif (typeof this.selectBoxOptions.ariaDescription === \"string\") {\n\t\t\tthis.selectElement.setAttribute(\n\t\t\t\t\"aria-description\",\n\t\t\t\tthis.selectBoxOptions.ariaDescription,\n\t\t\t);\n\t\t}\n\n\t\tthis._onDidSelect = new Emitter<ISelectData>();\n\t\tthis._register(this._onDidSelect);\n\n\t\tthis.registerListeners();\n\t\tthis.constructSelectDropDown(contextViewProvider);\n\n\t\tthis.selected = selected || 0;\n\n\t\tif (options) {\n\t\t\tthis.setOptions(options, selected);\n\t\t}\n\n\t\tthis.initStyleSheet();\n\t}\n\n\tprivate setTitle(title: string): void {\n\t\tif (!this._hover && title) {\n\t\t\tthis._hover = this._register(\n\t\t\t\tgetBaseLayerHoverDelegate().setupManagedHover(\n\t\t\t\t\tgetDefaultHoverDelegate(\"mouse\"),\n\t\t\t\t\tthis.selectElement,\n\t\t\t\t\ttitle,\n\t\t\t\t),\n\t\t\t);\n\t\t} else if (this._hover) {\n\t\t\tthis._hover.update(title);\n\t\t}\n\t}\n\n\t// IDelegate - List renderer\n\n\tgetHeight(): number {\n\t\treturn 22;\n\t}\n\n\tgetTemplateId(): string {\n\t\treturn SELECT_OPTION_ENTRY_TEMPLATE_ID;\n\t}\n\n\tprivate constructSelectDropDown(contextViewProvider: IContextViewProvider) {\n\t\t// SetUp ContextView container to hold select Dropdown\n\t\tthis.contextViewProvider = contextViewProvider;\n\t\tthis.selectDropDownContainer = dom.$(\n\t\t\t\".monaco-select-box-dropdown-container\",\n\t\t);\n\t\t// Use custom CSS vars for padding calculation (shared with parent select)\n\t\tthis.selectDropDownContainer.classList.add(\n\t\t\t\"monaco-select-box-dropdown-padding\",\n\t\t);\n\n\t\t// Setup container for select option details\n\t\tthis.selectionDetailsPane = dom.append(\n\t\t\tthis.selectDropDownContainer,\n\t\t\t$(\".select-box-details-pane\"),\n\t\t);\n\n\t\t// Create span flex box item/div we can measure and control\n\t\tconst widthControlOuterDiv = dom.append(\n\t\t\tthis.selectDropDownContainer,\n\t\t\t$(\".select-box-dropdown-container-width-control\"),\n\t\t);\n\t\tconst widthControlInnerDiv = dom.append(\n\t\t\twidthControlOuterDiv,\n\t\t\t$(\".width-control-div\"),\n\t\t);\n\t\tthis.widthControlElement = document.createElement(\"span\");\n\t\tthis.widthControlElement.className = \"option-text-width-control\";\n\t\tdom.append(widthControlInnerDiv, this.widthControlElement);\n\n\t\t// Always default to below position\n\t\tthis._dropDownPosition = AnchorPosition.BELOW;\n\n\t\t// Inline stylesheet for themes\n\t\tthis.styleElement = dom.createStyleSheet(this.selectDropDownContainer);\n\n\t\t// Prevent dragging of dropdown #114329\n\t\tthis.selectDropDownContainer.setAttribute(\"draggable\", \"true\");\n\t\tthis._register(\n\t\t\tdom.addDisposableListener(\n\t\t\t\tthis.selectDropDownContainer,\n\t\t\t\tdom.EventType.DRAG_START,\n\t\t\t\t(e) => {\n\t\t\t\t\tdom.EventHelper.stop(e, true);\n\t\t\t\t},\n\t\t\t),\n\t\t);\n\t}\n\n\tprivate registerListeners() {\n\t\t// Parent native select keyboard listeners\n\n\t\tthis._register(\n\t\t\tdom.addStandardDisposableListener(\n\t\t\t\tthis.selectElement,\n\t\t\t\t\"change\",\n\t\t\t\t(e) => {\n\t\t\t\t\tthis.selected = e.target.selectedIndex;\n\t\t\t\t\tthis._onDidSelect.fire({\n\t\t\t\t\t\tindex: e.target.selectedIndex,\n\t\t\t\t\t\tselected: e.target.value,\n\t\t\t\t\t});\n\t\t\t\t\tif (\n\t\t\t\t\t\t!!this.options[this.selected] &&\n\t\t\t\t\t\t!!this.options[this.selected].text\n\t\t\t\t\t) {\n\t\t\t\t\t\tthis.setTitle(this.options[this.selected].text);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t),\n\t\t);\n\n\t\t// Have to implement both keyboard and mouse controllers to handle disabled options\n\t\t// Intercept mouse events to override normal select actions on parents\n\n\t\tthis._register(\n\t\t\tdom.addDisposableListener(\n\t\t\t\tthis.selectElement,\n\t\t\t\tdom.EventType.CLICK,\n\t\t\t\t(e) => {\n\t\t\t\t\tdom.EventHelper.stop(e);\n\n\t\t\t\t\tif (this._isVisible) {\n\t\t\t\t\t\tthis.hideSelectDropDown(true);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.showSelectDropDown();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t),\n\t\t);\n\n\t\tthis._register(\n\t\t\tdom.addDisposableListener(\n\t\t\t\tthis.selectElement,\n\t\t\t\tdom.EventType.MOUSE_DOWN,\n\t\t\t\t(e) => {\n\t\t\t\t\tdom.EventHelper.stop(e);\n\t\t\t\t},\n\t\t\t),\n\t\t);\n\n\t\t// Intercept touch events\n\t\t// The following implementation is slightly different from the mouse event handlers above.\n\t\t// Use the following helper variable, otherwise the list flickers.\n\t\tlet listIsVisibleOnTouchStart: boolean;\n\t\tthis._register(\n\t\t\tdom.addDisposableListener(this.selectElement, \"touchstart\", (e) => {\n\t\t\t\tlistIsVisibleOnTouchStart = this._isVisible;\n\t\t\t}),\n\t\t);\n\t\tthis._register(\n\t\t\tdom.addDisposableListener(this.selectElement, \"touchend\", (e) => {\n\t\t\t\tdom.EventHelper.stop(e);\n\n\t\t\t\tif (listIsVisibleOnTouchStart) {\n\t\t\t\t\tthis.hideSelectDropDown(true);\n\t\t\t\t} else {\n\t\t\t\t\tthis.showSelectDropDown();\n\t\t\t\t}\n\t\t\t}),\n\t\t);\n\n\t\t// Intercept keyboard handling\n\n\t\tthis._register(\n\t\t\tdom.addDisposableListener(\n\t\t\t\tthis.selectElement,\n\t\t\t\tdom.EventType.KEY_DOWN,\n\t\t\t\t(e: KeyboardEvent) => {\n\t\t\t\t\tconst event = new StandardKeyboardEvent(e);\n\t\t\t\t\tlet showDropDown = false;\n\n\t\t\t\t\t// Create and drop down select list on keyboard select\n\t\t\t\t\tif (isMacintosh) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tevent.keyCode === KeyCode.DownArrow ||\n\t\t\t\t\t\t\tevent.keyCode === KeyCode.UpArrow ||\n\t\t\t\t\t\t\tevent.keyCode === KeyCode.Space ||\n\t\t\t\t\t\t\tevent.keyCode === KeyCode.Enter\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tshowDropDown = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (\n\t\t\t\t\t\t(event.keyCode === KeyCode.DownArrow && event.altKey) ||\n\t\t\t\t\t\t(event.keyCode === KeyCode.UpArrow && event.altKey) ||\n\t\t\t\t\t\tevent.keyCode === KeyCode.Space ||\n\t\t\t\t\t\tevent.keyCode === KeyCode.Enter\n\t\t\t\t\t) {\n\t\t\t\t\t\tshowDropDown = true;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (showDropDown) {\n\t\t\t\t\t\tthis.showSelectDropDown();\n\t\t\t\t\t\tdom.EventHelper.stop(e, true);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t),\n\t\t);\n\t}\n\n\tpublic get onDidSelect(): Event<ISelectData> {\n\t\treturn this._onDidSelect.event;\n\t}\n\n\tpublic setOptions(options: ISelectOptionItem[], selected?: number): void {\n\t\tif (!arrays.equals(this.options, options)) {\n\t\t\tthis.options = options;\n\t\t\tthis.selectElement.options.length = 0;\n\t\t\tthis._hasDetails = false;\n\t\t\tthis._cachedMaxDetailsHeight = undefined;\n\n\t\t\tthis.options.forEach((option, index) => {\n\t\t\t\tthis.selectElement.add(\n\t\t\t\t\tthis.createOption(option.text, index, option.isDisabled),\n\t\t\t\t);\n\t\t\t\tif (typeof option.description === \"string\") {\n\t\t\t\t\tthis._hasDetails = true;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tif (selected !== undefined) {\n\t\t\tthis.select(selected);\n\t\t\t// Set current = selected since this is not necessarily a user exit\n\t\t\tthis._currentSelection = this.selected;\n\t\t}\n\t}\n\n\tpublic setEnabled(enable: boolean): void {\n\t\tthis.selectElement.disabled = !enable;\n\t}\n\n\tprivate setOptionsList() {\n\t\t// Mirror options in drop-down\n\t\t// Populate select list for non-native select mode\n\t\tthis.selectList?.splice(0, this.selectList.length, this.options);\n\t}\n\n\tpublic select(index: number): void {\n\t\tif (index >= 0 && index < this.options.length) {\n\t\t\tthis.selected = index;\n\t\t} else if (index > this.options.length - 1) {\n\t\t\t// Adjust index to end of list\n\t\t\t// This could make client out of sync with the select\n\t\t\tthis.select(this.options.length - 1);\n\t\t} else if (this.selected < 0) {\n\t\t\tthis.selected = 0;\n\t\t}\n\n\t\tthis.selectElement.selectedIndex = this.selected;\n\t\tif (\n\t\t\t!!this.options[this.selected] &&\n\t\t\t!!this.options[this.selected].text\n\t\t) {\n\t\t\tthis.setTitle(this.options[this.selected].text);\n\t\t}\n\t}\n\n\tpublic setAriaLabel(label: string): void {\n\t\tthis.selectBoxOptions.ariaLabel = label;\n\t\tthis.selectElement.setAttribute(\n\t\t\t\"aria-label\",\n\t\t\tthis.selectBoxOptions.ariaLabel,\n\t\t);\n\t}\n\n\tpublic focus(): void {\n\t\tif (this.selectElement) {\n\t\t\tthis.selectElement.tabIndex = 0;\n\t\t\tthis.selectElement.focus();\n\t\t}\n\t}\n\n\tpublic blur(): void {\n\t\tif (this.selectElement) {\n\t\t\tthis.selectElement.tabIndex = -1;\n\t\t\tthis.selectElement.blur();\n\t\t}\n\t}\n\n\tpublic setFocusable(focusable: boolean): void {\n\t\tthis.selectElement.tabIndex = focusable ? 0 : -1;\n\t}\n\n\tpublic render(container: HTMLElement): void {\n\t\tthis.container = container;\n\t\tcontainer.classList.add(\"select-container\");\n\t\tcontainer.appendChild(this.selectElement);\n\t\tthis.styleSelectElement();\n\t}\n\n\tprivate initStyleSheet(): void {\n\t\tconst content: string[] = [];\n\n\t\t// Style non-native select mode\n\n\t\tif (this.styles.listFocusBackground) {\n\t\t\tcontent.push(\n\t\t\t\t`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { background-color: ${this.styles.listFocusBackground} !important; }`,\n\t\t\t);\n\t\t}\n\n\t\tif (this.styles.listFocusForeground) {\n\t\t\tcontent.push(\n\t\t\t\t`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { color: ${this.styles.listFocusForeground} !important; }`,\n\t\t\t);\n\t\t}\n\n\t\tif (this.styles.decoratorRightForeground) {\n\t\t\tcontent.push(\n\t\t\t\t`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.focused) .option-decorator-right { color: ${this.styles.decoratorRightForeground}; }`,\n\t\t\t);\n\t\t}\n\n\t\tif (\n\t\t\tthis.styles.selectBackground &&\n\t\t\tthis.styles.selectBorder &&\n\t\t\tthis.styles.selectBorder !== this.styles.selectBackground\n\t\t) {\n\t\t\tcontent.push(\n\t\t\t\t`.monaco-select-box-dropdown-container { border: 1px solid ${this.styles.selectBorder} } `,\n\t\t\t);\n\t\t\tcontent.push(\n\t\t\t\t`.monaco-select-box-dropdown-container > .select-box-details-pane.border-top { border-top: 1px solid ${this.styles.selectBorder} } `,\n\t\t\t);\n\t\t\tcontent.push(\n\t\t\t\t`.monaco-select-box-dropdown-container > .select-box-details-pane.border-bottom { border-bottom: 1px solid ${this.styles.selectBorder} } `,\n\t\t\t);\n\t\t} else if (this.styles.selectListBorder) {\n\t\t\tcontent.push(\n\t\t\t\t`.monaco-select-box-dropdown-container > .select-box-details-pane.border-top { border-top: 1px solid ${this.styles.selectListBorder} } `,\n\t\t\t);\n\t\t\tcontent.push(\n\t\t\t\t`.monaco-select-box-dropdown-container > .select-box-details-pane.border-bottom { border-bottom: 1px solid ${this.styles.selectListBorder} } `,\n\t\t\t);\n\t\t}\n\n\t\t// Hover foreground - ignore for disabled options\n\t\tif (this.styles.listHoverForeground) {\n\t\t\tcontent.push(\n\t\t\t\t`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { color: ${this.styles.listHoverForeground} !important; }`,\n\t\t\t);\n\t\t}\n\n\t\t// Hover background - ignore for disabled options\n\t\tif (this.styles.listHoverBackground) {\n\t\t\tcontent.push(\n\t\t\t\t`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { background-color: ${this.styles.listHoverBackground} !important; }`,\n\t\t\t);\n\t\t}\n\n\t\t// Match quick input outline styles - ignore for disabled options\n\t\tif (this.styles.listFocusOutline) {\n\t\t\tcontent.push(\n\t\t\t\t`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { outline: 1.6px dotted ${this.styles.listFocusOutline} !important; outline-offset: -1.6px !important; }`,\n\t\t\t);\n\t\t}\n\n\t\tif (this.styles.listHoverOutline) {\n\t\t\tcontent.push(\n\t\t\t\t`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { outline: 1.6px dashed ${this.styles.listHoverOutline} !important; outline-offset: -1.6px !important; }`,\n\t\t\t);\n\t\t}\n\n\t\t// Clear list styles on focus and on hover for disabled options\n\t\tcontent.push(\n\t\t\t`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.option-disabled.focused { background-color: transparent !important; color: inherit !important; outline: none !important; }`,\n\t\t);\n\t\tcontent.push(\n\t\t\t`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.option-disabled:hover { background-color: transparent !important; color: inherit !important; outline: none !important; }`,\n\t\t);\n\n\t\tthis.styleElement.textContent = content.join(\"\\n\");\n\t}\n\n\tprivate styleSelectElement(): void {\n\t\tconst background = this.styles.selectBackground ?? \"\";\n\t\tconst foreground = this.styles.selectForeground ?? \"\";\n\t\tconst border = this.styles.selectBorder ?? \"\";\n\n\t\tthis.selectElement.style.backgroundColor = background;\n\t\tthis.selectElement.style.color = foreground;\n\t\tthis.selectElement.style.borderColor = border;\n\t}\n\n\tprivate styleList() {\n\t\tconst background = this.styles.selectBackground ?? \"\";\n\n\t\tconst listBackground = dom.asCssValueWithDefault(\n\t\t\tthis.styles.selectListBackground,\n\t\t\tbackground,\n\t\t);\n\t\tthis.selectDropDownListContainer.style.backgroundColor = listBackground;\n\t\tthis.selectionDetailsPane.style.backgroundColor = listBackground;\n\t\tconst optionsBorder = this.styles.focusBorder ?? \"\";\n\t\tthis.selectDropDownContainer.style.outlineColor = optionsBorder;\n\t\tthis.selectDropDownContainer.style.outlineOffset = \"-1px\";\n\n\t\tthis.selectList.style(this.styles);\n\t}\n\n\tprivate createOption(\n\t\tvalue: string,\n\t\tindex: number,\n\t\tdisabled?: boolean,\n\t): HTMLOptionElement {\n\t\tconst option = document.createElement(\"option\");\n\t\toption.value = value;\n\t\toption.text = value;\n\t\toption.disabled = !!disabled;\n\n\t\treturn option;\n\t}\n\n\t// ContextView dropdown methods\n\n\tprivate showSelectDropDown() {\n\t\tthis.selectionDetailsPane.innerText = \"\";\n\n\t\tif (!this.contextViewProvider || this._isVisible) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Lazily create and populate list only at open, moved from constructor\n\t\tthis.createSelectList(this.selectDropDownContainer);\n\t\tthis.setOptionsList();\n\n\t\t// This allows us to flip the position based on measurement\n\t\t// Set drop-down position above/below from required height and margins\n\t\t// If pre-layout cannot fit at least one option do not show drop-down\n\n\t\tthis.contextViewProvider.showContextView(\n\t\t\t{\n\t\t\t\tgetAnchor: () => this.selectElement,\n\t\t\t\trender: (container: HTMLElement) =>\n\t\t\t\t\tthis.renderSelectDropDown(container, true),\n\t\t\t\tlayout: () => {\n\t\t\t\t\tthis.layoutSelectDropDown();\n\t\t\t\t},\n\t\t\t\tonHide: () => {\n\t\t\t\t\tthis.selectDropDownContainer.classList.remove(\"visible\");\n\t\t\t\t\tthis.selectElement.classList.remove(\"synthetic-focus\");\n\t\t\t\t},\n\t\t\t\tanchorPosition: this._dropDownPosition,\n\t\t\t},\n\t\t\tthis.selectBoxOptions.optionsAsChildren\n\t\t\t\t? this.container\n\t\t\t\t: undefined,\n\t\t);\n\n\t\t// Hide so we can relay out\n\t\tthis._isVisible = true;\n\t\tthis.hideSelectDropDown(false);\n\n\t\tthis.contextViewProvider.showContextView(\n\t\t\t{\n\t\t\t\tgetAnchor: () => this.selectElement,\n\t\t\t\trender: (container: HTMLElement) =>\n\t\t\t\t\tthis.renderSelectDropDown(container),\n\t\t\t\tlayout: () => this.layoutSelectDropDown(),\n\t\t\t\tonHide: () => {\n\t\t\t\t\tthis.selectDropDownContainer.classList.remove(\"visible\");\n\t\t\t\t\tthis.selectElement.classList.remove(\"synthetic-focus\");\n\t\t\t\t},\n\t\t\t\tanchorPosition: this._dropDownPosition,\n\t\t\t},\n\t\t\tthis.selectBoxOptions.optionsAsChildren\n\t\t\t\t? this.container\n\t\t\t\t: undefined,\n\t\t);\n\n\t\t// Track initial selection the case user escape, blur\n\t\tthis._currentSelection = this.selected;\n\t\tthis._isVisible = true;\n\t\tthis.selectElement.setAttribute(\"aria-expanded\", \"true\");\n\t}\n\n\tprivate hideSelectDropDown(focusSelect: boolean) {\n\t\tif (!this.contextViewProvider || !this._isVisible) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._isVisible = false;\n\t\tthis.selectElement.setAttribute(\"aria-expanded\", \"false\");\n\n\t\tif (focusSelect) {\n\t\t\tthis.selectElement.focus();\n\t\t}\n\n\t\tthis.contextViewProvider.hideContextView();\n\t}\n\n\tprivate renderSelectDropDown(\n\t\tcontainer: HTMLElement,\n\t\tpreLayoutPosition?: boolean,\n\t): IDisposable {\n\t\tcontainer.appendChild(this.selectDropDownContainer);\n\n\t\t// Pre-Layout allows us to change position\n\t\tthis.layoutSelectDropDown(preLayoutPosition);\n\n\t\treturn {\n\t\t\tdispose: () => {\n\t\t\t\t// contextView will dispose itself if moving from one View to another\n\t\t\t\tthis.selectDropDownContainer.remove(); // remove to take out the CSS rules we add\n\t\t\t},\n\t\t};\n\t}\n\n\t// Iterate over detailed descriptions, find max height\n\tprivate measureMaxDetailsHeight(): number {\n\t\tlet maxDetailsPaneHeight = 0;\n\t\tthis.options.forEach((_option, index) => {\n\t\t\tthis.updateDetail(index);\n\n\t\t\tif (this.selectionDetailsPane.offsetHeight > maxDetailsPaneHeight) {\n\t\t\t\tmaxDetailsPaneHeight = this.selectionDetailsPane.offsetHeight;\n\t\t\t}\n\t\t});\n\n\t\treturn maxDetailsPaneHeight;\n\t}\n\n\tprivate layoutSelectDropDown(preLayoutPosition?: boolean): boolean {\n\t\t// Avoid recursion from layout called in onListFocus\n\t\tif (this._skipLayout) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Layout ContextView drop down select list and container\n\t\t// Have to manage our vertical overflow, sizing, position below or above\n\t\t// Position has to be determined and set prior to contextView instantiation\n\n\t\tif (this.selectList) {\n\t\t\t// Make visible to enable measurements\n\t\t\tthis.selectDropDownContainer.classList.add(\"visible\");\n\n\t\t\tconst window = dom.getWindow(this.selectElement);\n\t\t\tconst selectPosition = dom.getDomNodePagePosition(\n\t\t\t\tthis.selectElement,\n\t\t\t);\n\t\t\tconst styles = dom\n\t\t\t\t.getWindow(this.selectElement)\n\t\t\t\t.getComputedStyle(this.selectElement);\n\t\t\tconst verticalPadding =\n\t\t\t\tNumber.parseFloat(\n\t\t\t\t\tstyles.getPropertyValue(\"--dropdown-padding-top\"),\n\t\t\t\t) +\n\t\t\t\tNumber.parseFloat(\n\t\t\t\t\tstyles.getPropertyValue(\"--dropdown-padding-bottom\"),\n\t\t\t\t);\n\t\t\tconst maxSelectDropDownHeightBelow =\n\t\t\t\twindow.innerHeight -\n\t\t\t\tselectPosition.top -\n\t\t\t\tselectPosition.height -\n\t\t\t\t(this.selectBoxOptions.minBottomMargin || 0);\n\t\t\tconst maxSelectDropDownHeightAbove =\n\t\t\t\tselectPosition.top -\n\t\t\t\tSelectBoxList.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN;\n\n\t\t\t// Determine optimal width - min(longest option), opt(parent select, excluding margins), max(ContextView controlled)\n\t\t\tconst selectWidth = this.selectElement.offsetWidth;\n\t\t\tconst selectMinWidth = this.setWidthControlElement(\n\t\t\t\tthis.widthControlElement,\n\t\t\t);\n\t\t\tconst selectOptimalWidth =\n\t\t\t\tMath.max(selectMinWidth, Math.round(selectWidth)).toString() +\n\t\t\t\t\"px\";\n\n\t\t\tthis.selectDropDownContainer.style.width = selectOptimalWidth;\n\n\t\t\t// Get initial list height and determine space above and below\n\t\t\tthis.selectList.getHTMLElement().style.height = \"\";\n\t\t\tthis.selectList.layout();\n\t\t\tlet listHeight = this.selectList.contentHeight;\n\n\t\t\tif (\n\t\t\t\tthis._hasDetails &&\n\t\t\t\tthis._cachedMaxDetailsHeight === undefined\n\t\t\t) {\n\t\t\t\tthis._cachedMaxDetailsHeight = this.measureMaxDetailsHeight();\n\t\t\t}\n\t\t\tconst maxDetailsPaneHeight = this._hasDetails\n\t\t\t\t? this._cachedMaxDetailsHeight!\n\t\t\t\t: 0;\n\n\t\t\tconst minRequiredDropDownHeight =\n\t\t\t\tlistHeight + verticalPadding + maxDetailsPaneHeight;\n\t\t\tconst maxVisibleOptionsBelow = Math.floor(\n\t\t\t\t(maxSelectDropDownHeightBelow -\n\t\t\t\t\tverticalPadding -\n\t\t\t\t\tmaxDetailsPaneHeight) /\n\t\t\t\t\tthis.getHeight(),\n\t\t\t);\n\t\t\tconst maxVisibleOptionsAbove = Math.floor(\n\t\t\t\t(maxSelectDropDownHeightAbove -\n\t\t\t\t\tverticalPadding -\n\t\t\t\t\tmaxDetailsPaneHeight) /\n\t\t\t\t\tthis.getHeight(),\n\t\t\t);\n\n\t\t\t// If we are only doing pre-layout check/adjust position only\n\t\t\t// Calculate vertical space available, flip up if insufficient\n\t\t\t// Use reflected padding on parent select, ContextView style\n\t\t\t// properties not available before DOM attachment\n\n\t\t\tif (preLayoutPosition) {\n\t\t\t\t// Check if select moved out of viewport , do not open\n\t\t\t\t// If at least one option cannot be shown, don't open the drop-down or hide/remove if open\n\n\t\t\t\tif (\n\t\t\t\t\tselectPosition.top + selectPosition.height >\n\t\t\t\t\t\twindow.innerHeight - 22 ||\n\t\t\t\t\tselectPosition.top <\n\t\t\t\t\t\tSelectBoxList.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN ||\n\t\t\t\t\t(maxVisibleOptionsBelow < 1 && maxVisibleOptionsAbove < 1)\n\t\t\t\t) {\n\t\t\t\t\t// Indicate we cannot open\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\t// Determine if we have to flip up\n\t\t\t\t// Always show complete list items - never more than Max available vertical height\n\t\t\t\tif (\n\t\t\t\t\tmaxVisibleOptionsBelow <\n\t\t\t\t\t\tSelectBoxList.DEFAULT_MINIMUM_VISIBLE_OPTIONS &&\n\t\t\t\t\tmaxVisibleOptionsAbove > maxVisibleOptionsBelow &&\n\t\t\t\t\tthis.options.length > maxVisibleOptionsBelow\n\t\t\t\t) {\n\t\t\t\t\tthis._dropDownPosition = AnchorPosition.ABOVE;\n\t\t\t\t\tthis.selectDropDownListContainer.remove();\n\t\t\t\t\tthis.selectionDetailsPane.remove();\n\t\t\t\t\tthis.selectDropDownContainer.appendChild(\n\t\t\t\t\t\tthis.selectionDetailsPane,\n\t\t\t\t\t);\n\t\t\t\t\tthis.selectDropDownContainer.appendChild(\n\t\t\t\t\t\tthis.selectDropDownListContainer,\n\t\t\t\t\t);\n\n\t\t\t\t\tthis.selectionDetailsPane.classList.remove(\"border-top\");\n\t\t\t\t\tthis.selectionDetailsPane.classList.add(\"border-bottom\");\n\t\t\t\t} else {\n\t\t\t\t\tthis._dropDownPosition = AnchorPosition.BELOW;\n\t\t\t\t\tthis.selectDropDownListContainer.remove();\n\t\t\t\t\tthis.selectionDetailsPane.remove();\n\t\t\t\t\tthis.selectDropDownContainer.appendChild(\n\t\t\t\t\t\tthis.selectDropDownListContainer,\n\t\t\t\t\t);\n\t\t\t\t\tthis.selectDropDownContainer.appendChild(\n\t\t\t\t\t\tthis.selectionDetailsPane,\n\t\t\t\t\t);\n\n\t\t\t\t\tthis.selectionDetailsPane.classList.remove(\"border-bottom\");\n\t\t\t\t\tthis.selectionDetailsPane.classList.add(\"border-top\");\n\t\t\t\t}\n\t\t\t\t// Do full layout on showSelectDropDown only\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// Check if select out of viewport or cutting into status bar\n\t\t\tif (\n\t\t\t\tselectPosition.top + selectPosition.height >\n\t\t\t\t\twindow.innerHeight - 22 ||\n\t\t\t\tselectPosition.top <\n\t\t\t\t\tSelectBoxList.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN ||\n\t\t\t\t(this._dropDownPosition === AnchorPosition.BELOW &&\n\t\t\t\t\tmaxVisibleOptionsBelow < 1) ||\n\t\t\t\t(this._dropDownPosition === AnchorPosition.ABOVE &&\n\t\t\t\t\tmaxVisibleOptionsAbove < 1)\n\t\t\t) {\n\t\t\t\t// Cannot properly layout, close and hide\n\t\t\t\tthis.hideSelectDropDown(true);\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t// SetUp list dimensions and layout - account for container padding\n\t\t\t// Use position to check above or below available space\n\t\t\tif (this._dropDownPosition === AnchorPosition.BELOW) {\n\t\t\t\tif (\n\t\t\t\t\tthis._isVisible &&\n\t\t\t\t\tmaxVisibleOptionsBelow + maxVisibleOptionsAbove < 1\n\t\t\t\t) {\n\t\t\t\t\t// If drop-down is visible, must be doing a DOM re-layout, hide since we don't fit\n\t\t\t\t\t// Hide drop-down, hide contextview, focus on parent select\n\t\t\t\t\tthis.hideSelectDropDown(true);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\t// Adjust list height to max from select bottom to margin (default/minBottomMargin)\n\t\t\t\tif (minRequiredDropDownHeight > maxSelectDropDownHeightBelow) {\n\t\t\t\t\tlistHeight = maxVisibleOptionsBelow * this.getHeight();\n\t\t\t\t}\n\t\t\t} else if (\n\t\t\t\tminRequiredDropDownHeight > maxSelectDropDownHeightAbove\n\t\t\t) {\n\t\t\t\tlistHeight = maxVisibleOptionsAbove * this.getHeight();\n\t\t\t}\n\n\t\t\t// Set adjusted list height and relayout\n\t\t\tthis.selectList.layout(listHeight);\n\t\t\tthis.selectList.domFocus();\n\n\t\t\t// Finally set focus on selected item\n\t\t\tif (this.selectList.length > 0) {\n\t\t\t\tthis.selectList.setFocus([this.selected || 0]);\n\t\t\t\tthis.selectList.reveal(this.selectList.getFocus()[0] || 0);\n\t\t\t}\n\n\t\t\tif (this._hasDetails) {\n\t\t\t\t// Leave the selectDropDownContainer to size itself according to children (list + details) - #57447\n\t\t\t\tthis.selectList.getHTMLElement().style.height =\n\t\t\t\t\tlistHeight + verticalPadding + \"px\";\n\t\t\t\tthis.selectDropDownContainer.style.height = \"\";\n\t\t\t} else {\n\t\t\t\tthis.selectDropDownContainer.style.height =\n\t\t\t\t\tlistHeight + verticalPadding + \"px\";\n\t\t\t}\n\n\t\t\tthis.updateDetail(this.selected);\n\n\t\t\tthis.selectDropDownContainer.style.width = selectOptimalWidth;\n\n\t\t\t// Maintain focus outline on parent select as well as list container - tabindex for focus\n\t\t\tthis.selectDropDownListContainer.setAttribute(\"tabindex\", \"0\");\n\t\t\tthis.selectElement.classList.add(\"synthetic-focus\");\n\t\t\tthis.selectDropDownContainer.classList.add(\"synthetic-focus\");\n\n\t\t\treturn true;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tprivate setWidthControlElement(container: HTMLElement): number {\n\t\tlet elementWidth = 0;\n\n\t\tif (container) {\n\t\t\tlet longest = 0;\n\t\t\tlet longestLength = 0;\n\n\t\t\tthis.options.forEach((option, index) => {\n\t\t\t\tconst detailLength = !!option.detail ? option.detail.length : 0;\n\t\t\t\tconst rightDecoratorLength = !!option.decoratorRight\n\t\t\t\t\t? option.decoratorRight.length\n\t\t\t\t\t: 0;\n\n\t\t\t\tconst len =\n\t\t\t\t\toption.text.length + detailLength + rightDecoratorLength;\n\t\t\t\tif (len > longestLength) {\n\t\t\t\t\tlongest = index;\n\t\t\t\t\tlongestLength = len;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tcontainer.textContent =\n\t\t\t\tthis.options[longest].text +\n\t\t\t\t(!!this.options[longest].decoratorRight\n\t\t\t\t\t? this.options[longest].decoratorRight + \" \"\n\t\t\t\t\t: \"\");\n\t\t\telementWidth = dom.getTotalWidth(container);\n\t\t}\n\n\t\treturn elementWidth;\n\t}\n\n\tprivate createSelectList(parent: HTMLElement): void {\n\t\t// If we have already constructive list on open, skip\n\t\tif (this.selectList) {\n\t\t\treturn;\n\t\t}\n\n\t\t// SetUp container for list\n\t\tthis.selectDropDownListContainer = dom.append(\n\t\t\tparent,\n\t\t\t$(\".select-box-dropdown-list-container\"),\n\t\t);\n\n\t\tthis.listRenderer = new SelectListRenderer();\n\n\t\tthis.selectList = this._register(\n\t\t\tnew List(\n\t\t\t\t\"SelectBoxCustom\",\n\t\t\t\tthis.selectDropDownListContainer,\n\t\t\t\tthis,\n\t\t\t\t[this.listRenderer],\n\t\t\t\t{\n\t\t\t\t\tuseShadows: false,\n\t\t\t\t\tverticalScrollMode: ScrollbarVisibility.Visible,\n\t\t\t\t\tkeyboardSupport: false,\n\t\t\t\t\tmouseSupport: false,\n\t\t\t\t\taccessibilityProvider: {\n\t\t\t\t\t\tgetAriaLabel: (element) => {\n\t\t\t\t\t\t\tlet label = element.text;\n\t\t\t\t\t\t\tif (element.detail) {\n\t\t\t\t\t\t\t\tlabel += `. ${element.detail}`;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (element.decoratorRight) {\n\t\t\t\t\t\t\t\tlabel += `. ${element.decoratorRight}`;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (element.description) {\n\t\t\t\t\t\t\t\tlabel += `. ${element.description}`;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\treturn label;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgetWidgetAriaLabel: () =>\n\t\t\t\t\t\t\tlocalize(\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tkey: \"selectBox\",\n\t\t\t\t\t\t\t\t\tcomment: [\n\t\t\t\t\t\t\t\t\t\t\"Behave like native select dropdown element.\",\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\"Select Box\",\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\tgetRole: () => (isMacintosh ? \"\" : \"option\"),\n\t\t\t\t\t\tgetWidgetRole: () => \"listbox\",\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t),\n\t\t);\n\t\tif (this.selectBoxOptions.ariaLabel) {\n\t\t\tthis.selectList.ariaLabel = this.selectBoxOptions.ariaLabel;\n\t\t}\n\n\t\t// SetUp list keyboard controller - control navigation, disabled items, focus\n\t\tconst onKeyDown = this._register(\n\t\t\tnew DomEmitter(this.selectDropDownListContainer, \"keydown\"),\n\t\t);\n\t\tconst onSelectDropDownKeyDown = Event.chain(onKeyDown.event, ($) =>\n\t\t\t$.filter(() => this.selectList.length > 0).map(\n\t\t\t\t(e) => new StandardKeyboardEvent(e),\n\t\t\t),\n\t\t);\n\n\t\tthis._register(\n\t\t\tEvent.chain(onSelectDropDownKeyDown, ($) =>\n\t\t\t\t$.filter((e) => e.keyCode === KeyCode.Enter),\n\t\t\t)(this.onEnter, this),\n\t\t);\n\t\tthis._register(\n\t\t\tEvent.chain(onSelectDropDownKeyDown, ($) =>\n\t\t\t\t$.filter((e) => e.keyCode === KeyCode.Tab),\n\t\t\t)(this.onEnter, this),\n\t\t); // Tab should behave the same as enter, #79339\n\t\tthis._register(\n\t\t\tEvent.chain(onSelectDropDownKeyDown, ($) =>\n\t\t\t\t$.filter((e) => e.keyCode === KeyCode.Escape),\n\t\t\t)(this.onEscape, this),\n\t\t);\n\t\tthis._register(\n\t\t\tEvent.chain(onSelectDropDownKeyDown, ($) =>\n\t\t\t\t$.filter((e) => e.keyCode === KeyCode.UpArrow),\n\t\t\t)(this.onUpArrow, this),\n\t\t);\n\t\tthis._register(\n\t\t\tEvent.chain(onSelectDropDownKeyDown, ($) =>\n\t\t\t\t$.filter((e) => e.keyCode === KeyCode.DownArrow),\n\t\t\t)(this.onDownArrow, this),\n\t\t);\n\t\tthis._register(\n\t\t\tEvent.chain(onSelectDropDownKeyDown, ($) =>\n\t\t\t\t$.filter((e) => e.keyCode === KeyCode.PageDown),\n\t\t\t)(this.onPageDown, this),\n\t\t);\n\t\tthis._register(\n\t\t\tEvent.chain(onSelectDropDownKeyDown, ($) =>\n\t\t\t\t$.filter((e) => e.keyCode === KeyCode.PageUp),\n\t\t\t)(this.onPageUp, this),\n\t\t);\n\t\tthis._register(\n\t\t\tEvent.chain(onSelectDropDownKeyDown, ($) =>\n\t\t\t\t$.filter((e) => e.keyCode === KeyCode.Home),\n\t\t\t)(this.onHome, this),\n\t\t);\n\t\tthis._register(\n\t\t\tEvent.chain(onSelectDropDownKeyDown, ($) =>\n\t\t\t\t$.filter((e) => e.keyCode === KeyCode.End),\n\t\t\t)(this.onEnd, this),\n\t\t);\n\t\tthis._register(\n\t\t\tEvent.chain(onSelectDropDownKeyDown, ($) =>\n\t\t\t\t$.filter(\n\t\t\t\t\t(e) =>\n\t\t\t\t\t\t(e.keyCode >= KeyCode.Digit0 &&\n\t\t\t\t\t\t\te.keyCode <= KeyCode.KeyZ) ||\n\t\t\t\t\t\t(e.keyCode >= KeyCode.Semicolon &&\n\t\t\t\t\t\t\te.keyCode <= KeyCode.NumpadDivide),\n\t\t\t\t),\n\t\t\t)(this.onCharacter, this),\n\t\t);\n\n\t\t// SetUp list mouse controller - control navigation, disabled items, focus\n\t\tthis._register(\n\t\t\tdom.addDisposableListener(\n\t\t\t\tthis.selectList.getHTMLElement(),\n\t\t\t\tdom.EventType.POINTER_UP,\n\t\t\t\t(e) => this.onPointerUp(e),\n\t\t\t),\n\t\t);\n\n\t\tthis._register(\n\t\t\tthis.selectList.onMouseOver(\n\t\t\t\t(e) =>\n\t\t\t\t\ttypeof e.index !== \"undefined\" &&\n\t\t\t\t\tthis.selectList.setFocus([e.index]),\n\t\t\t),\n\t\t);\n\t\tthis._register(\n\t\t\tthis.selectList.onDidChangeFocus((e) => this.onListFocus(e)),\n\t\t);\n\n\t\tthis._register(\n\t\t\tdom.addDisposableListener(\n\t\t\t\tthis.selectDropDownContainer,\n\t\t\t\tdom.EventType.FOCUS_OUT,\n\t\t\t\t(e) => {\n\t\t\t\t\tif (\n\t\t\t\t\t\t!this._isVisible ||\n\t\t\t\t\t\tdom.isAncestor(\n\t\t\t\t\t\t\te.relatedTarget as HTMLElement,\n\t\t\t\t\t\t\tthis.selectDropDownContainer,\n\t\t\t\t\t\t)\n\t\t\t\t\t) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tthis.onListBlur();\n\t\t\t\t},\n\t\t\t),\n\t\t);\n\n\t\tthis.selectList\n\t\t\t.getHTMLElement()\n\t\t\t.setAttribute(\"aria-label\", this.selectBoxOptions.ariaLabel || \"\");\n\t\tthis.selectList.getHTMLElement().setAttribute(\"aria-expanded\", \"true\");\n\n\t\tthis.styleList();\n\t}\n\n\t// List methods\n\n\t// List mouse controller - active exit, select option, fire onDidSelect if change, return focus to parent select\n\t// Also takes in touchend events\n\tprivate onPointerUp(e: PointerEvent): void {\n\t\tif (!this.selectList.length) {\n\t\t\treturn;\n\t\t}\n\n\t\tdom.EventHelper.stop(e);\n\n\t\tconst target = <Element>e.target;\n\t\tif (!target) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Check our mouse event is on an option (not scrollbar)\n\t\tif (target.classList.contains(\"slider\")) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst listRowElement = target.closest(\".monaco-list-row\");\n\n\t\tif (!listRowElement) {\n\t\t\treturn;\n\t\t}\n\t\tconst index = Number(listRowElement.getAttribute(\"data-index\"));\n\t\tconst disabled = listRowElement.classList.contains(\"option-disabled\");\n\n\t\t// Ignore mouse selection of disabled options\n\t\tif (index >= 0 && index < this.options.length && !disabled) {\n\t\t\tthis.selected = index;\n\t\t\tthis.select(this.selected);\n\n\t\t\tthis.selectList.setFocus([this.selected]);\n\t\t\tthis.selectList.reveal(this.selectList.getFocus()[0]);\n\n\t\t\t// Only fire if selection change\n\t\t\tif (this.selected !== this._currentSelection) {\n\t\t\t\t// Set current = selected\n\t\t\t\tthis._currentSelection = this.selected;\n\n\t\t\t\tthis._onDidSelect.fire({\n\t\t\t\t\tindex: this.selectElement.selectedIndex,\n\t\t\t\t\tselected: this.options[this.selected].text,\n\t\t\t\t});\n\t\t\t\tif (\n\t\t\t\t\t!!this.options[this.selected] &&\n\t\t\t\t\t!!this.options[this.selected].text\n\t\t\t\t) {\n\t\t\t\t\tthis.setTitle(this.options[this.selected].text);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.hideSelectDropDown(true);\n\t\t}\n\t}\n\n\t// List Exit - passive - implicit no selection change, hide drop-down\n\tprivate onListBlur(): void {\n\t\tif (this._sticky) {\n\t\t\treturn;\n\t\t}\n\t\tif (this.selected !== this._currentSelection) {\n\t\t\t// Reset selected to current if no change\n\t\t\tthis.select(this._currentSelection);\n\t\t}\n\n\t\tthis.hideSelectDropDown(false);\n\t}\n\n\tprivate renderDescriptionMarkdown(\n\t\ttext: string,\n\t\tactionHandler?: IContentActionHandler,\n\t): HTMLElement {\n\t\tconst cleanRenderedMarkdown = (element: Node) => {\n\t\t\tfor (let i = 0; i < element.childNodes.length; i++) {\n\t\t\t\tconst child = <Element>element.childNodes.item(i);\n\n\t\t\t\tconst tagName = child.tagName && child.tagName.toLowerCase();\n\t\t\t\tif (tagName === \"img\") {\n\t\t\t\t\tchild.remove();\n\t\t\t\t} else {\n\t\t\t\t\tcleanRenderedMarkdown(child);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tconst rendered = renderMarkdown(\n\t\t\t{ value: text, supportThemeIcons: true },\n\t\t\t{ actionHandler },\n\t\t);\n\n\t\trendered.element.classList.add(\"select-box-description-markdown\");\n\t\tcleanRenderedMarkdown(rendered.element);\n\n\t\treturn rendered.element;\n\t}\n\n\t// List Focus Change - passive - update details pane with newly focused element's data\n\tprivate onListFocus(e: IListEvent<ISelectOptionItem>) {\n\t\t// Skip during initial layout\n\t\tif (!this._isVisible || !this._hasDetails) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.updateDetail(e.indexes[0]);\n\t}\n\n\tprivate updateDetail(selectedIndex: number): void {\n\t\tthis.selectionDetailsPane.innerText = \"\";\n\t\tconst option = this.options[selectedIndex];\n\t\tconst description = option?.description ?? \"\";\n\t\tconst descriptionIsMarkdown = option?.descriptionIsMarkdown ?? false;\n\n\t\tif (description) {\n\t\t\tif (descriptionIsMarkdown) {\n\t\t\t\tconst actionHandler = option.descriptionMarkdownActionHandler;\n\t\t\t\tthis.selectionDetailsPane.appendChild(\n\t\t\t\t\tthis.renderDescriptionMarkdown(description, actionHandler),\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tthis.selectionDetailsPane.innerText = description;\n\t\t\t}\n\t\t\tthis.selectionDetailsPane.style.display = \"block\";\n\t\t} else {\n\t\t\tthis.selectionDetailsPane.style.display = \"none\";\n\t\t}\n\n\t\t// Avoid recursion\n\t\tthis._skipLayout = true;\n\t\tthis.contextViewProvider.layout();\n\t\tthis._skipLayout = false;\n\t}\n\n\t// List keyboard controller\n\n\t// List exit - active - hide ContextView dropdown, reset selection, return focus to parent select\n\tprivate onEscape(e: StandardKeyboardEvent): void {\n\t\tdom.EventHelper.stop(e);\n\n\t\t// Reset selection to value when opened\n\t\tthis.select(this._currentSelection);\n\t\tthis.hideSelectDropDown(true);\n\t}\n\n\t// List exit - active - hide ContextView dropdown, return focus to parent select, fire onDidSelect if change\n\tprivate onEnter(e: StandardKeyboardEvent): void {\n\t\tdom.EventHelper.stop(e);\n\n\t\t// Only fire if selection change\n\t\tif (this.selected !== this._currentSelection) {\n\t\t\tthis._currentSelection = this.selected;\n\t\t\tthis._onDidSelect.fire({\n\t\t\t\tindex: this.selectElement.selectedIndex,\n\t\t\t\tselected: this.options[this.selected].text,\n\t\t\t});\n\t\t\tif (\n\t\t\t\t!!this.options[this.selected] &&\n\t\t\t\t!!this.options[this.selected].text\n\t\t\t) {\n\t\t\t\tthis.setTitle(this.options[this.selected].text);\n\t\t\t}\n\t\t}\n\n\t\tthis.hideSelectDropDown(true);\n\t}\n\n\t// List navigation - have to handle a disabled option (jump over)\n\tprivate onDownArrow(e: StandardKeyboardEvent): void {\n\t\tif (this.selected < this.options.length - 1) {\n\t\t\tdom.EventHelper.stop(e, true);\n\n\t\t\t// Skip disabled options\n\t\t\tconst nextOptionDisabled =\n\t\t\t\tthis.options[this.selected + 1].isDisabled;\n\n\t\t\tif (nextOptionDisabled && this.options.length > this.selected + 2) {\n\t\t\t\tthis.selected += 2;\n\t\t\t} else if (nextOptionDisabled) {\n\t\t\t\treturn;\n\t\t\t} else {\n\t\t\t\tthis.selected++;\n\t\t\t}\n\n\t\t\t// Set focus/selection - only fire event when closing drop-down or on blur\n\t\t\tthis.select(this.selected);\n\t\t\tthis.selectList.setFocus([this.selected]);\n\t\t\tthis.selectList.reveal(this.selectList.getFocus()[0]);\n\t\t}\n\t}\n\n\tprivate onUpArrow(e: StandardKeyboardEvent): void {\n\t\tif (this.selected > 0) {\n\t\t\tdom.EventHelper.stop(e, true);\n\t\t\t// Skip disabled options\n\t\t\tconst previousOptionDisabled =\n\t\t\t\tthis.options[this.selected - 1].isDisabled;\n\t\t\tif (previousOptionDisabled && this.selected > 1) {\n\t\t\t\tthis.selected -= 2;\n\t\t\t} else {\n\t\t\t\tthis.selected--;\n\t\t\t}\n\t\t\t// Set focus/selection - only fire event when closing drop-down or on blur\n\t\t\tthis.select(this.selected);\n\t\t\tthis.selectList.setFocus([this.selected]);\n\t\t\tthis.selectList.reveal(this.selectList.getFocus()[0]);\n\t\t}\n\t}\n\n\tprivate onPageUp(e: StandardKeyboardEvent): void {\n\t\tdom.EventHelper.stop(e);\n\n\t\tthis.selectList.focusPreviousPage();\n\n\t\t// Allow scrolling to settle\n\t\tsetTimeout(() => {\n\t\t\tthis.selected = this.selectList.getFocus()[0];\n\n\t\t\t// Shift selection down if we land on a disabled option\n\t\t\tif (\n\t\t\t\tthis.options[this.selected].isDisabled &&\n\t\t\t\tthis.selected < this.options.length - 1\n\t\t\t) {\n\t\t\t\tthis.selected++;\n\t\t\t\tthis.selectList.setFocus([this.selected]);\n\t\t\t}\n\t\t\tthis.selectList.reveal(this.selected);\n\t\t\tthis.select(this.selected);\n\t\t}, 1);\n\t}\n\n\tprivate onPageDown(e: StandardKeyboardEvent): void {\n\t\tdom.EventHelper.stop(e);\n\n\t\tthis.selectList.focusNextPage();\n\n\t\t// Allow scrolling to settle\n\t\tsetTimeout(() => {\n\t\t\tthis.selected = this.selectList.getFocus()[0];\n\n\t\t\t// Shift selection up if we land on a disabled option\n\t\t\tif (this.options[this.selected].isDisabled && this.selected > 0) {\n\t\t\t\tthis.selected--;\n\t\t\t\tthis.selectList.setFocus([this.selected]);\n\t\t\t}\n\t\t\tthis.selectList.reveal(this.selected);\n\t\t\tthis.select(this.selected);\n\t\t}, 1);\n\t}\n\n\tprivate onHome(e: StandardKeyboardEvent): void {\n\t\tdom.EventHelper.stop(e);\n\n\t\tif (this.options.length < 2) {\n\t\t\treturn;\n\t\t}\n\t\tthis.selected = 0;\n\t\tif (this.options[this.selected].isDisabled && this.selected > 1) {\n\t\t\tthis.selected++;\n\t\t}\n\t\tthis.selectList.setFocus([this.selected]);\n\t\tthis.selectList.reveal(this.selected);\n\t\tthis.select(this.selected);\n\t}\n\n\tprivate onEnd(e: StandardKeyboardEvent): void {\n\t\tdom.EventHelper.stop(e);\n\n\t\tif (this.options.length < 2) {\n\t\t\treturn;\n\t\t}\n\t\tthis.selected = this.options.length - 1;\n\t\tif (this.options[this.selected].isDisabled && this.selected > 1) {\n\t\t\tthis.selected--;\n\t\t}\n\t\tthis.selectList.setFocus([this.selected]);\n\t\tthis.selectList.reveal(this.selected);\n\t\tthis.select(this.selected);\n\t}\n\n\t// Mimic option first character navigation of native select\n\tprivate onCharacter(e: StandardKeyboardEvent): void {\n\t\tconst ch = KeyCodeUtils.toString(e.keyCode);\n\t\tlet optionIndex = -1;\n\n\t\tfor (let i = 0; i < this.options.length - 1; i++) {\n\t\t\toptionIndex = (i + this.selected + 1) % this.options.length;\n\t\t\tif (\n\t\t\t\tthis.options[optionIndex].text.charAt(0).toUpperCase() === ch &&\n\t\t\t\t!this.options[optionIndex].isDisabled\n\t\t\t) {\n\t\t\t\tthis.select(optionIndex);\n\t\t\t\tthis.selectList.setFocus([optionIndex]);\n\t\t\t\tthis.selectList.reveal(this.selectList.getFocus()[0]);\n\t\t\t\tdom.EventHelper.stop(e);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic override dispose(): void {\n\t\tthis.hideSelectDropDown(false);\n\t\tsuper.dispose();\n\t}\n}\n"],
  "mappings": "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",
  "names": ["$"]
}
