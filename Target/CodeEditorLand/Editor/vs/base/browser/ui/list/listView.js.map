{
  "version": 3,
  "sources": ["../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/base/browser/ui/list/listView.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { DataTransfers, IDragAndDropData } from '../../dnd.js';\nimport { $, addDisposableListener, animate, Dimension, getContentHeight, getContentWidth, getTopLeftOffset, getWindow, isAncestor, isHTMLElement, isSVGElement, scheduleAtNextAnimationFrame } from '../../dom.js';\nimport { DomEmitter } from '../../event.js';\nimport { IMouseWheelEvent } from '../../mouseEvent.js';\nimport { EventType as TouchEventType, Gesture, GestureEvent } from '../../touch.js';\nimport { SmoothScrollableElement } from '../scrollbar/scrollableElement.js';\nimport { distinct, equals } from '../../../common/arrays.js';\nimport { Delayer, disposableTimeout } from '../../../common/async.js';\nimport { memoize } from '../../../common/decorators.js';\nimport { Emitter, Event, IValueWithChangeEvent } from '../../../common/event.js';\nimport { Disposable, DisposableStore, IDisposable, toDisposable } from '../../../common/lifecycle.js';\nimport { IRange, Range } from '../../../common/range.js';\nimport { INewScrollDimensions, Scrollable, ScrollbarVisibility, ScrollEvent } from '../../../common/scrollable.js';\nimport { ISpliceable } from '../../../common/sequence.js';\nimport { IListDragAndDrop, IListDragEvent, IListGestureEvent, IListMouseEvent, IListRenderer, IListTouchEvent, IListVirtualDelegate, ListDragOverEffectPosition, ListDragOverEffectType } from './list.js';\nimport { IRangeMap, RangeMap, shift } from './rangeMap.js';\nimport { IRow, RowCache } from './rowCache.js';\nimport { BugIndicatingError } from '../../../common/errors.js';\nimport { AriaRole } from '../aria/aria.js';\nimport { ScrollableElementChangeOptions } from '../scrollbar/scrollableElementOptions.js';\nimport { clamp } from '../../../common/numbers.js';\n\ninterface IItem<T> {\n\treadonly id: string;\n\treadonly element: T;\n\treadonly templateId: string;\n\trow: IRow | null;\n\tsize: number;\n\twidth: number | undefined;\n\thasDynamicHeight: boolean;\n\tlastDynamicHeightWidth: number | undefined;\n\turi: string | undefined;\n\tdropTarget: boolean;\n\tdragStartDisposable: IDisposable;\n\tcheckedDisposable: IDisposable;\n\tstale: boolean;\n}\n\nconst StaticDND = {\n\tCurrentDragAndDropData: undefined as IDragAndDropData | undefined\n};\n\nexport interface IListViewDragAndDrop<T> extends IListDragAndDrop<T> {\n\tgetDragElements(element: T): T[];\n}\n\nexport const enum ListViewTargetSector {\n\t// drop position relative to the top of the item\n\tTOP = 0, \t\t\t\t// [0%-25%)\n\tCENTER_TOP = 1, \t\t// [25%-50%)\n\tCENTER_BOTTOM = 2, \t\t// [50%-75%)\n\tBOTTOM = 3\t\t\t\t// [75%-100%)\n}\n\nexport interface IListViewAccessibilityProvider<T> {\n\tgetSetSize?(element: T, index: number, listLength: number): number;\n\tgetPosInSet?(element: T, index: number): number;\n\tgetRole?(element: T): AriaRole | undefined;\n\tisChecked?(element: T): boolean | IValueWithChangeEvent<boolean> | undefined;\n}\n\nexport interface IListViewOptionsUpdate {\n\treadonly smoothScrolling?: boolean;\n\treadonly horizontalScrolling?: boolean;\n\treadonly scrollByPage?: boolean;\n\treadonly mouseWheelScrollSensitivity?: number;\n\treadonly fastScrollSensitivity?: number;\n\treadonly paddingTop?: number;\n\treadonly paddingBottom?: number;\n}\n\nexport interface IListViewOptions<T> extends IListViewOptionsUpdate {\n\treadonly dnd?: IListViewDragAndDrop<T>;\n\treadonly useShadows?: boolean;\n\treadonly verticalScrollMode?: ScrollbarVisibility;\n\treadonly setRowLineHeight?: boolean;\n\treadonly setRowHeight?: boolean;\n\treadonly supportDynamicHeights?: boolean;\n\treadonly mouseSupport?: boolean;\n\treadonly accessibilityProvider?: IListViewAccessibilityProvider<T>;\n\treadonly transformOptimization?: boolean;\n\treadonly alwaysConsumeMouseWheel?: boolean;\n\treadonly initialSize?: Dimension;\n}\n\nconst DefaultOptions = {\n\tuseShadows: true,\n\tverticalScrollMode: ScrollbarVisibility.Auto,\n\tsetRowLineHeight: true,\n\tsetRowHeight: true,\n\tsupportDynamicHeights: false,\n\tdnd: {\n\t\tgetDragElements<T>(e: T) { return [e]; },\n\t\tgetDragURI() { return null; },\n\t\tonDragStart(): void { },\n\t\tonDragOver() { return false; },\n\t\tdrop() { },\n\t\tdispose() { }\n\t},\n\thorizontalScrolling: false,\n\ttransformOptimization: true,\n\talwaysConsumeMouseWheel: true,\n};\n\nexport class ElementsDragAndDropData<T, TContext = void> implements IDragAndDropData {\n\n\treadonly elements: T[];\n\n\tprivate _context: TContext | undefined;\n\tpublic get context(): TContext | undefined {\n\t\treturn this._context;\n\t}\n\tpublic set context(value: TContext | undefined) {\n\t\tthis._context = value;\n\t}\n\n\tconstructor(elements: T[]) {\n\t\tthis.elements = elements;\n\t}\n\n\tupdate(): void { }\n\n\tgetData(): T[] {\n\t\treturn this.elements;\n\t}\n}\n\nexport class ExternalElementsDragAndDropData<T> implements IDragAndDropData {\n\n\treadonly elements: T[];\n\n\tconstructor(elements: T[]) {\n\t\tthis.elements = elements;\n\t}\n\n\tupdate(): void { }\n\n\tgetData(): T[] {\n\t\treturn this.elements;\n\t}\n}\n\nexport class NativeDragAndDropData implements IDragAndDropData {\n\n\treadonly types: any[];\n\treadonly files: any[];\n\n\tconstructor() {\n\t\tthis.types = [];\n\t\tthis.files = [];\n\t}\n\n\tupdate(dataTransfer: DataTransfer): void {\n\t\tif (dataTransfer.types) {\n\t\t\tthis.types.splice(0, this.types.length, ...dataTransfer.types);\n\t\t}\n\n\t\tif (dataTransfer.files) {\n\t\t\tthis.files.splice(0, this.files.length);\n\n\t\t\tfor (let i = 0; i < dataTransfer.files.length; i++) {\n\t\t\t\tconst file = dataTransfer.files.item(i);\n\n\t\t\t\tif (file && (file.size || file.type)) {\n\t\t\t\t\tthis.files.push(file);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tgetData(): any {\n\t\treturn {\n\t\t\ttypes: this.types,\n\t\t\tfiles: this.files\n\t\t};\n\t}\n}\n\nfunction equalsDragFeedback(f1: number[] | undefined, f2: number[] | undefined): boolean {\n\tif (Array.isArray(f1) && Array.isArray(f2)) {\n\t\treturn equals(f1, f2);\n\t}\n\n\treturn f1 === f2;\n}\n\nclass ListViewAccessibilityProvider<T> implements Required<IListViewAccessibilityProvider<T>> {\n\n\treadonly getSetSize: (element: any, index: number, listLength: number) => number;\n\treadonly getPosInSet: (element: any, index: number) => number;\n\treadonly getRole: (element: T) => AriaRole | undefined;\n\treadonly isChecked: (element: T) => boolean | IValueWithChangeEvent<boolean> | undefined;\n\n\tconstructor(accessibilityProvider?: IListViewAccessibilityProvider<T>) {\n\t\tif (accessibilityProvider?.getSetSize) {\n\t\t\tthis.getSetSize = accessibilityProvider.getSetSize.bind(accessibilityProvider);\n\t\t} else {\n\t\t\tthis.getSetSize = (e, i, l) => l;\n\t\t}\n\n\t\tif (accessibilityProvider?.getPosInSet) {\n\t\t\tthis.getPosInSet = accessibilityProvider.getPosInSet.bind(accessibilityProvider);\n\t\t} else {\n\t\t\tthis.getPosInSet = (e, i) => i + 1;\n\t\t}\n\n\t\tif (accessibilityProvider?.getRole) {\n\t\t\tthis.getRole = accessibilityProvider.getRole.bind(accessibilityProvider);\n\t\t} else {\n\t\t\tthis.getRole = _ => 'listitem';\n\t\t}\n\n\t\tif (accessibilityProvider?.isChecked) {\n\t\t\tthis.isChecked = accessibilityProvider.isChecked.bind(accessibilityProvider);\n\t\t} else {\n\t\t\tthis.isChecked = _ => undefined;\n\t\t}\n\t}\n}\n\nexport interface IListView<T> extends ISpliceable<T>, IDisposable {\n\treadonly domId: string;\n\treadonly domNode: HTMLElement;\n\treadonly containerDomNode: HTMLElement;\n\treadonly scrollableElementDomNode: HTMLElement;\n\treadonly length: number;\n\treadonly contentHeight: number;\n\treadonly contentWidth: number;\n\treadonly onDidChangeContentHeight: Event<number>;\n\treadonly onDidChangeContentWidth: Event<number>;\n\treadonly renderHeight: number;\n\treadonly scrollHeight: number;\n\treadonly firstVisibleIndex: number;\n\treadonly firstMostlyVisibleIndex: number;\n\treadonly lastVisibleIndex: number;\n\tonDidScroll: Event<ScrollEvent>;\n\tonWillScroll: Event<ScrollEvent>;\n\tonMouseClick: Event<IListMouseEvent<T>>;\n\tonMouseDblClick: Event<IListMouseEvent<T>>;\n\tonMouseMiddleClick: Event<IListMouseEvent<T>>;\n\tonMouseUp: Event<IListMouseEvent<T>>;\n\tonMouseDown: Event<IListMouseEvent<T>>;\n\tonMouseOver: Event<IListMouseEvent<T>>;\n\tonMouseMove: Event<IListMouseEvent<T>>;\n\tonMouseOut: Event<IListMouseEvent<T>>;\n\tonContextMenu: Event<IListMouseEvent<T>>;\n\tonTouchStart: Event<IListTouchEvent<T>>;\n\tonTap: Event<IListGestureEvent<T>>;\n\telement(index: number): T;\n\tdomElement(index: number): HTMLElement | null;\n\tgetElementDomId(index: number): string;\n\telementHeight(index: number): number;\n\telementTop(index: number): number;\n\tindexOf(element: T): number;\n\tindexAt(position: number): number;\n\tindexAfter(position: number): number;\n\tupdateOptions(options: IListViewOptionsUpdate): void;\n\tgetScrollTop(): number;\n\tsetScrollTop(scrollTop: number, reuseAnimation?: boolean): void;\n\tgetScrollLeft(): number;\n\tsetScrollLeft(scrollLeft: number): void;\n\tdelegateScrollFromMouseWheelEvent(browserEvent: IMouseWheelEvent): void;\n\tdelegateVerticalScrollbarPointerDown(browserEvent: PointerEvent): void;\n\tupdateWidth(index: number): void;\n\tupdateElementHeight(index: number, size: number | undefined, anchorIndex: number | null): void;\n\trerender(): void;\n\tlayout(height?: number, width?: number): void;\n}\n\n/**\n * The {@link ListView} is a virtual scrolling engine.\n *\n * Given that it only renders elements within its viewport, it can hold large\n * collections of elements and stay very performant. The performance bottleneck\n * usually lies within the user's rendering code for each element.\n *\n * @remarks It is a low-level widget, not meant to be used directly. Refer to the\n * List widget instead.\n */\nexport class ListView<T> implements IListView<T> {\n\n\tprivate static InstanceCount = 0;\n\treadonly domId = `list_id_${++ListView.InstanceCount}`;\n\n\treadonly domNode: HTMLElement;\n\n\tprivate items: IItem<T>[];\n\tprivate itemId: number;\n\tprotected rangeMap: IRangeMap;\n\tprivate cache: RowCache<T>;\n\tprivate renderers = new Map<string, IListRenderer<any /* TODO@joao */, any>>();\n\tprotected lastRenderTop: number;\n\tprotected lastRenderHeight: number;\n\tprivate renderWidth = 0;\n\tprivate rowsContainer: HTMLElement;\n\tprivate scrollable: Scrollable;\n\tprivate scrollableElement: SmoothScrollableElement;\n\tprivate _scrollHeight: number = 0;\n\tprivate scrollableElementUpdateDisposable: IDisposable | null = null;\n\tprivate scrollableElementWidthDelayer = new Delayer<void>(50);\n\tprivate splicing = false;\n\tprivate dragOverAnimationDisposable: IDisposable | undefined;\n\tprivate dragOverAnimationStopDisposable: IDisposable = Disposable.None;\n\tprivate dragOverMouseY: number = 0;\n\tprivate setRowLineHeight: boolean;\n\tprivate setRowHeight: boolean;\n\tprivate supportDynamicHeights: boolean;\n\tprivate paddingBottom: number;\n\tprivate accessibilityProvider: ListViewAccessibilityProvider<T>;\n\tprivate scrollWidth: number | undefined;\n\n\tprivate dnd: IListViewDragAndDrop<T>;\n\tprivate canDrop: boolean = false;\n\tprivate currentDragData: IDragAndDropData | undefined;\n\tprivate currentDragFeedback: number[] | undefined;\n\tprivate currentDragFeedbackPosition: ListDragOverEffectPosition | undefined;\n\tprivate currentDragFeedbackDisposable: IDisposable = Disposable.None;\n\tprivate onDragLeaveTimeout: IDisposable = Disposable.None;\n\n\tprivate readonly disposables: DisposableStore = new DisposableStore();\n\n\tprivate readonly _onDidChangeContentHeight = new Emitter<number>();\n\tprivate readonly _onDidChangeContentWidth = new Emitter<number>();\n\treadonly onDidChangeContentHeight: Event<number> = Event.latch(this._onDidChangeContentHeight.event, undefined, this.disposables);\n\treadonly onDidChangeContentWidth: Event<number> = Event.latch(this._onDidChangeContentWidth.event, undefined, this.disposables);\n\tget contentHeight(): number { return this.rangeMap.size; }\n\tget contentWidth(): number { return this.scrollWidth ?? 0; }\n\n\tget onDidScroll(): Event<ScrollEvent> { return this.scrollableElement.onScroll; }\n\tget onWillScroll(): Event<ScrollEvent> { return this.scrollableElement.onWillScroll; }\n\tget containerDomNode(): HTMLElement { return this.rowsContainer; }\n\tget scrollableElementDomNode(): HTMLElement { return this.scrollableElement.getDomNode(); }\n\n\tprivate _horizontalScrolling: boolean = false;\n\tprivate get horizontalScrolling(): boolean { return this._horizontalScrolling; }\n\tprivate set horizontalScrolling(value: boolean) {\n\t\tif (value === this._horizontalScrolling) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (value && this.supportDynamicHeights) {\n\t\t\tthrow new Error('Horizontal scrolling and dynamic heights not supported simultaneously');\n\t\t}\n\n\t\tthis._horizontalScrolling = value;\n\t\tthis.domNode.classList.toggle('horizontal-scrolling', this._horizontalScrolling);\n\n\t\tif (this._horizontalScrolling) {\n\t\t\tfor (const item of this.items) {\n\t\t\t\tthis.measureItemWidth(item);\n\t\t\t}\n\n\t\t\tthis.updateScrollWidth();\n\t\t\tthis.scrollableElement.setScrollDimensions({ width: getContentWidth(this.domNode) });\n\t\t\tthis.rowsContainer.style.width = `${Math.max(this.scrollWidth || 0, this.renderWidth)}px`;\n\t\t} else {\n\t\t\tthis.scrollableElementWidthDelayer.cancel();\n\t\t\tthis.scrollableElement.setScrollDimensions({ width: this.renderWidth, scrollWidth: this.renderWidth });\n\t\t\tthis.rowsContainer.style.width = '';\n\t\t}\n\t}\n\n\tconstructor(\n\t\tcontainer: HTMLElement,\n\t\tprivate virtualDelegate: IListVirtualDelegate<T>,\n\t\trenderers: IListRenderer<any /* TODO@joao */, any>[],\n\t\toptions: IListViewOptions<T> = DefaultOptions as IListViewOptions<T>\n\t) {\n\t\tif (options.horizontalScrolling && options.supportDynamicHeights) {\n\t\t\tthrow new Error('Horizontal scrolling and dynamic heights not supported simultaneously');\n\t\t}\n\n\t\tthis.items = [];\n\t\tthis.itemId = 0;\n\t\tthis.rangeMap = this.createRangeMap(options.paddingTop ?? 0);\n\n\t\tfor (const renderer of renderers) {\n\t\t\tthis.renderers.set(renderer.templateId, renderer);\n\t\t}\n\n\t\tthis.cache = this.disposables.add(new RowCache(this.renderers));\n\n\t\tthis.lastRenderTop = 0;\n\t\tthis.lastRenderHeight = 0;\n\n\t\tthis.domNode = document.createElement('div');\n\t\tthis.domNode.className = 'monaco-list';\n\n\t\tthis.domNode.classList.add(this.domId);\n\t\tthis.domNode.tabIndex = 0;\n\n\t\tthis.domNode.classList.toggle('mouse-support', typeof options.mouseSupport === 'boolean' ? options.mouseSupport : true);\n\n\t\tthis._horizontalScrolling = options.horizontalScrolling ?? DefaultOptions.horizontalScrolling;\n\t\tthis.domNode.classList.toggle('horizontal-scrolling', this._horizontalScrolling);\n\n\t\tthis.paddingBottom = typeof options.paddingBottom === 'undefined' ? 0 : options.paddingBottom;\n\n\t\tthis.accessibilityProvider = new ListViewAccessibilityProvider(options.accessibilityProvider);\n\n\t\tthis.rowsContainer = document.createElement('div');\n\t\tthis.rowsContainer.className = 'monaco-list-rows';\n\n\t\tconst transformOptimization = options.transformOptimization ?? DefaultOptions.transformOptimization;\n\t\tif (transformOptimization) {\n\t\t\tthis.rowsContainer.style.transform = 'translate3d(0px, 0px, 0px)';\n\t\t\tthis.rowsContainer.style.overflow = 'hidden';\n\t\t\tthis.rowsContainer.style.contain = 'strict';\n\t\t}\n\n\t\tthis.disposables.add(Gesture.addTarget(this.rowsContainer));\n\n\t\tthis.scrollable = this.disposables.add(new Scrollable({\n\t\t\tforceIntegerValues: true,\n\t\t\tsmoothScrollDuration: (options.smoothScrolling ?? false) ? 125 : 0,\n\t\t\tscheduleAtNextAnimationFrame: cb => scheduleAtNextAnimationFrame(getWindow(this.domNode), cb)\n\t\t}));\n\t\tthis.scrollableElement = this.disposables.add(new SmoothScrollableElement(this.rowsContainer, {\n\t\t\talwaysConsumeMouseWheel: options.alwaysConsumeMouseWheel ?? DefaultOptions.alwaysConsumeMouseWheel,\n\t\t\thorizontal: ScrollbarVisibility.Auto,\n\t\t\tvertical: options.verticalScrollMode ?? DefaultOptions.verticalScrollMode,\n\t\t\tuseShadows: options.useShadows ?? DefaultOptions.useShadows,\n\t\t\tmouseWheelScrollSensitivity: options.mouseWheelScrollSensitivity,\n\t\t\tfastScrollSensitivity: options.fastScrollSensitivity,\n\t\t\tscrollByPage: options.scrollByPage\n\t\t}, this.scrollable));\n\n\t\tthis.domNode.appendChild(this.scrollableElement.getDomNode());\n\t\tcontainer.appendChild(this.domNode);\n\n\t\tthis.scrollableElement.onScroll(this.onScroll, this, this.disposables);\n\t\tthis.disposables.add(addDisposableListener(this.rowsContainer, TouchEventType.Change, e => this.onTouchChange(e as GestureEvent)));\n\n\t\t// Prevent the monaco-scrollable-element from scrolling\n\t\t// https://github.com/microsoft/vscode/issues/44181\n\t\tthis.disposables.add(addDisposableListener(this.scrollableElement.getDomNode(), 'scroll', e => (e.target as HTMLElement).scrollTop = 0));\n\n\t\tthis.disposables.add(addDisposableListener(this.domNode, 'dragover', e => this.onDragOver(this.toDragEvent(e))));\n\t\tthis.disposables.add(addDisposableListener(this.domNode, 'drop', e => this.onDrop(this.toDragEvent(e))));\n\t\tthis.disposables.add(addDisposableListener(this.domNode, 'dragleave', e => this.onDragLeave(this.toDragEvent(e))));\n\t\tthis.disposables.add(addDisposableListener(this.domNode, 'dragend', e => this.onDragEnd(e)));\n\n\t\tthis.setRowLineHeight = options.setRowLineHeight ?? DefaultOptions.setRowLineHeight;\n\t\tthis.setRowHeight = options.setRowHeight ?? DefaultOptions.setRowHeight;\n\t\tthis.supportDynamicHeights = options.supportDynamicHeights ?? DefaultOptions.supportDynamicHeights;\n\t\tthis.dnd = options.dnd ?? this.disposables.add(DefaultOptions.dnd);\n\n\t\tthis.layout(options.initialSize?.height, options.initialSize?.width);\n\t}\n\n\tupdateOptions(options: IListViewOptionsUpdate) {\n\t\tif (options.paddingBottom !== undefined) {\n\t\t\tthis.paddingBottom = options.paddingBottom;\n\t\t\tthis.scrollableElement.setScrollDimensions({ scrollHeight: this.scrollHeight });\n\t\t}\n\n\t\tif (options.smoothScrolling !== undefined) {\n\t\t\tthis.scrollable.setSmoothScrollDuration(options.smoothScrolling ? 125 : 0);\n\t\t}\n\n\t\tif (options.horizontalScrolling !== undefined) {\n\t\t\tthis.horizontalScrolling = options.horizontalScrolling;\n\t\t}\n\n\t\tlet scrollableOptions: ScrollableElementChangeOptions | undefined;\n\n\t\tif (options.scrollByPage !== undefined) {\n\t\t\tscrollableOptions = { ...(scrollableOptions ?? {}), scrollByPage: options.scrollByPage };\n\t\t}\n\n\t\tif (options.mouseWheelScrollSensitivity !== undefined) {\n\t\t\tscrollableOptions = { ...(scrollableOptions ?? {}), mouseWheelScrollSensitivity: options.mouseWheelScrollSensitivity };\n\t\t}\n\n\t\tif (options.fastScrollSensitivity !== undefined) {\n\t\t\tscrollableOptions = { ...(scrollableOptions ?? {}), fastScrollSensitivity: options.fastScrollSensitivity };\n\t\t}\n\n\t\tif (scrollableOptions) {\n\t\t\tthis.scrollableElement.updateOptions(scrollableOptions);\n\t\t}\n\n\t\tif (options.paddingTop !== undefined && options.paddingTop !== this.rangeMap.paddingTop) {\n\t\t\t// trigger a rerender\n\t\t\tconst lastRenderRange = this.getRenderRange(this.lastRenderTop, this.lastRenderHeight);\n\t\t\tconst offset = options.paddingTop - this.rangeMap.paddingTop;\n\t\t\tthis.rangeMap.paddingTop = options.paddingTop;\n\n\t\t\tthis.render(lastRenderRange, Math.max(0, this.lastRenderTop + offset), this.lastRenderHeight, undefined, undefined, true);\n\t\t\tthis.setScrollTop(this.lastRenderTop);\n\n\t\t\tthis.eventuallyUpdateScrollDimensions();\n\n\t\t\tif (this.supportDynamicHeights) {\n\t\t\t\tthis._rerender(this.lastRenderTop, this.lastRenderHeight);\n\t\t\t}\n\t\t}\n\t}\n\n\tdelegateScrollFromMouseWheelEvent(browserEvent: IMouseWheelEvent) {\n\t\tthis.scrollableElement.delegateScrollFromMouseWheelEvent(browserEvent);\n\t}\n\n\tdelegateVerticalScrollbarPointerDown(browserEvent: PointerEvent) {\n\t\tthis.scrollableElement.delegateVerticalScrollbarPointerDown(browserEvent);\n\t}\n\n\tupdateElementHeight(index: number, size: number | undefined, anchorIndex: number | null): void {\n\t\tif (index < 0 || index >= this.items.length) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst originalSize = this.items[index].size;\n\n\t\tif (typeof size === 'undefined') {\n\t\t\tif (!this.supportDynamicHeights) {\n\t\t\t\tconsole.warn('Dynamic heights not supported', new Error().stack);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.items[index].lastDynamicHeightWidth = undefined;\n\t\t\tsize = originalSize + this.probeDynamicHeight(index);\n\t\t}\n\n\t\tif (originalSize === size) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst lastRenderRange = this.getRenderRange(this.lastRenderTop, this.lastRenderHeight);\n\n\t\tlet heightDiff = 0;\n\n\t\tif (index < lastRenderRange.start) {\n\t\t\t// do not scroll the viewport if resized element is out of viewport\n\t\t\theightDiff = size - originalSize;\n\t\t} else {\n\t\t\tif (anchorIndex !== null && anchorIndex > index && anchorIndex < lastRenderRange.end) {\n\t\t\t\t// anchor in viewport\n\t\t\t\t// resized element in viewport and above the anchor\n\t\t\t\theightDiff = size - originalSize;\n\t\t\t} else {\n\t\t\t\theightDiff = 0;\n\t\t\t}\n\t\t}\n\n\t\tthis.rangeMap.splice(index, 1, [{ size: size }]);\n\t\tthis.items[index].size = size;\n\n\t\tthis.render(lastRenderRange, Math.max(0, this.lastRenderTop + heightDiff), this.lastRenderHeight, undefined, undefined, true);\n\t\tthis.setScrollTop(this.lastRenderTop);\n\n\t\tthis.eventuallyUpdateScrollDimensions();\n\n\t\tif (this.supportDynamicHeights) {\n\t\t\tthis._rerender(this.lastRenderTop, this.lastRenderHeight);\n\t\t}\n\t}\n\n\tprotected createRangeMap(paddingTop: number): IRangeMap {\n\t\treturn new RangeMap(paddingTop);\n\t}\n\n\tsplice(start: number, deleteCount: number, elements: readonly T[] = []): T[] {\n\t\tif (this.splicing) {\n\t\t\tthrow new Error('Can\\'t run recursive splices.');\n\t\t}\n\n\t\tthis.splicing = true;\n\n\t\ttry {\n\t\t\treturn this._splice(start, deleteCount, elements);\n\t\t} finally {\n\t\t\tthis.splicing = false;\n\t\t\tthis._onDidChangeContentHeight.fire(this.contentHeight);\n\t\t}\n\t}\n\n\tprivate _splice(start: number, deleteCount: number, elements: readonly T[] = []): T[] {\n\t\tconst previousRenderRange = this.getRenderRange(this.lastRenderTop, this.lastRenderHeight);\n\t\tconst deleteRange = { start, end: start + deleteCount };\n\t\tconst removeRange = Range.intersect(previousRenderRange, deleteRange);\n\n\t\t// try to reuse rows, avoid removing them from DOM\n\t\tconst rowsToDispose = new Map<string, IRow[]>();\n\t\tfor (let i = removeRange.end - 1; i >= removeRange.start; i--) {\n\t\t\tconst item = this.items[i];\n\t\t\titem.dragStartDisposable.dispose();\n\t\t\titem.checkedDisposable.dispose();\n\n\t\t\tif (item.row) {\n\t\t\t\tlet rows = rowsToDispose.get(item.templateId);\n\n\t\t\t\tif (!rows) {\n\t\t\t\t\trows = [];\n\t\t\t\t\trowsToDispose.set(item.templateId, rows);\n\t\t\t\t}\n\n\t\t\t\tconst renderer = this.renderers.get(item.templateId);\n\n\t\t\t\tif (renderer && renderer.disposeElement) {\n\t\t\t\t\trenderer.disposeElement(item.element, i, item.row.templateData, item.size);\n\t\t\t\t}\n\n\t\t\t\trows.unshift(item.row);\n\t\t\t}\n\n\t\t\titem.row = null;\n\t\t\titem.stale = true;\n\t\t}\n\n\t\tconst previousRestRange: IRange = { start: start + deleteCount, end: this.items.length };\n\t\tconst previousRenderedRestRange = Range.intersect(previousRestRange, previousRenderRange);\n\t\tconst previousUnrenderedRestRanges = Range.relativeComplement(previousRestRange, previousRenderRange);\n\n\t\tconst inserted = elements.map<IItem<T>>(element => ({\n\t\t\tid: String(this.itemId++),\n\t\t\telement,\n\t\t\ttemplateId: this.virtualDelegate.getTemplateId(element),\n\t\t\tsize: this.virtualDelegate.getHeight(element),\n\t\t\twidth: undefined,\n\t\t\thasDynamicHeight: !!this.virtualDelegate.hasDynamicHeight && this.virtualDelegate.hasDynamicHeight(element),\n\t\t\tlastDynamicHeightWidth: undefined,\n\t\t\trow: null,\n\t\t\turi: undefined,\n\t\t\tdropTarget: false,\n\t\t\tdragStartDisposable: Disposable.None,\n\t\t\tcheckedDisposable: Disposable.None,\n\t\t\tstale: false\n\t\t}));\n\n\t\tlet deleted: IItem<T>[];\n\n\t\t// TODO@joao: improve this optimization to catch even more cases\n\t\tif (start === 0 && deleteCount >= this.items.length) {\n\t\t\tthis.rangeMap = this.createRangeMap(this.rangeMap.paddingTop);\n\t\t\tthis.rangeMap.splice(0, 0, inserted);\n\t\t\tdeleted = this.items;\n\t\t\tthis.items = inserted;\n\t\t} else {\n\t\t\tthis.rangeMap.splice(start, deleteCount, inserted);\n\t\t\tdeleted = this.items.splice(start, deleteCount, ...inserted);\n\t\t}\n\n\t\tconst delta = elements.length - deleteCount;\n\t\tconst renderRange = this.getRenderRange(this.lastRenderTop, this.lastRenderHeight);\n\t\tconst renderedRestRange = shift(previousRenderedRestRange, delta);\n\t\tconst updateRange = Range.intersect(renderRange, renderedRestRange);\n\n\t\tfor (let i = updateRange.start; i < updateRange.end; i++) {\n\t\t\tthis.updateItemInDOM(this.items[i], i);\n\t\t}\n\n\t\tconst removeRanges = Range.relativeComplement(renderedRestRange, renderRange);\n\n\t\tfor (const range of removeRanges) {\n\t\t\tfor (let i = range.start; i < range.end; i++) {\n\t\t\t\tthis.removeItemFromDOM(i);\n\t\t\t}\n\t\t}\n\n\t\tconst unrenderedRestRanges = previousUnrenderedRestRanges.map(r => shift(r, delta));\n\t\tconst elementsRange = { start, end: start + elements.length };\n\t\tconst insertRanges = [elementsRange, ...unrenderedRestRanges].map(r => Range.intersect(renderRange, r)).reverse();\n\n\t\tfor (const range of insertRanges) {\n\t\t\tfor (let i = range.end - 1; i >= range.start; i--) {\n\t\t\t\tconst item = this.items[i];\n\t\t\t\tconst rows = rowsToDispose.get(item.templateId);\n\t\t\t\tconst row = rows?.pop();\n\t\t\t\tthis.insertItemInDOM(i, row);\n\t\t\t}\n\t\t}\n\n\t\tfor (const rows of rowsToDispose.values()) {\n\t\t\tfor (const row of rows) {\n\t\t\t\tthis.cache.release(row);\n\t\t\t}\n\t\t}\n\n\t\tthis.eventuallyUpdateScrollDimensions();\n\n\t\tif (this.supportDynamicHeights) {\n\t\t\tthis._rerender(this.scrollTop, this.renderHeight);\n\t\t}\n\n\t\treturn deleted.map(i => i.element);\n\t}\n\n\tprotected eventuallyUpdateScrollDimensions(): void {\n\t\tthis._scrollHeight = this.contentHeight;\n\t\tthis.rowsContainer.style.height = `${this._scrollHeight}px`;\n\n\t\tif (!this.scrollableElementUpdateDisposable) {\n\t\t\tthis.scrollableElementUpdateDisposable = scheduleAtNextAnimationFrame(getWindow(this.domNode), () => {\n\t\t\t\tthis.scrollableElement.setScrollDimensions({ scrollHeight: this.scrollHeight });\n\t\t\t\tthis.updateScrollWidth();\n\t\t\t\tthis.scrollableElementUpdateDisposable = null;\n\t\t\t});\n\t\t}\n\t}\n\n\tprivate eventuallyUpdateScrollWidth(): void {\n\t\tif (!this.horizontalScrolling) {\n\t\t\tthis.scrollableElementWidthDelayer.cancel();\n\t\t\treturn;\n\t\t}\n\n\t\tthis.scrollableElementWidthDelayer.trigger(() => this.updateScrollWidth());\n\t}\n\n\tprivate updateScrollWidth(): void {\n\t\tif (!this.horizontalScrolling) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet scrollWidth = 0;\n\n\t\tfor (const item of this.items) {\n\t\t\tif (typeof item.width !== 'undefined') {\n\t\t\t\tscrollWidth = Math.max(scrollWidth, item.width);\n\t\t\t}\n\t\t}\n\n\t\tthis.scrollWidth = scrollWidth;\n\t\tthis.scrollableElement.setScrollDimensions({ scrollWidth: scrollWidth === 0 ? 0 : (scrollWidth + 10) });\n\t\tthis._onDidChangeContentWidth.fire(this.scrollWidth);\n\t}\n\n\tupdateWidth(index: number): void {\n\t\tif (!this.horizontalScrolling || typeof this.scrollWidth === 'undefined') {\n\t\t\treturn;\n\t\t}\n\n\t\tconst item = this.items[index];\n\t\tthis.measureItemWidth(item);\n\n\t\tif (typeof item.width !== 'undefined' && item.width > this.scrollWidth) {\n\t\t\tthis.scrollWidth = item.width;\n\t\t\tthis.scrollableElement.setScrollDimensions({ scrollWidth: this.scrollWidth + 10 });\n\t\t\tthis._onDidChangeContentWidth.fire(this.scrollWidth);\n\t\t}\n\t}\n\n\trerender(): void {\n\t\tif (!this.supportDynamicHeights) {\n\t\t\treturn;\n\t\t}\n\n\t\tfor (const item of this.items) {\n\t\t\titem.lastDynamicHeightWidth = undefined;\n\t\t}\n\n\t\tthis._rerender(this.lastRenderTop, this.lastRenderHeight);\n\t}\n\n\tget length(): number {\n\t\treturn this.items.length;\n\t}\n\n\tget renderHeight(): number {\n\t\tconst scrollDimensions = this.scrollableElement.getScrollDimensions();\n\t\treturn scrollDimensions.height;\n\t}\n\n\tget firstVisibleIndex(): number {\n\t\tconst range = this.getRenderRange(this.lastRenderTop, this.lastRenderHeight);\n\t\treturn range.start;\n\t}\n\n\tget firstMostlyVisibleIndex(): number {\n\t\tconst firstVisibleIndex = this.firstVisibleIndex;\n\t\tconst firstElTop = this.rangeMap.positionAt(firstVisibleIndex);\n\t\tconst nextElTop = this.rangeMap.positionAt(firstVisibleIndex + 1);\n\t\tif (nextElTop !== -1) {\n\t\t\tconst firstElMidpoint = (nextElTop - firstElTop) / 2 + firstElTop;\n\t\t\tif (firstElMidpoint < this.scrollTop) {\n\t\t\t\treturn firstVisibleIndex + 1;\n\t\t\t}\n\t\t}\n\n\t\treturn firstVisibleIndex;\n\t}\n\n\tget lastVisibleIndex(): number {\n\t\tconst range = this.getRenderRange(this.lastRenderTop, this.lastRenderHeight);\n\t\treturn range.end - 1;\n\t}\n\n\telement(index: number): T {\n\t\treturn this.items[index].element;\n\t}\n\n\tindexOf(element: T): number {\n\t\treturn this.items.findIndex(item => item.element === element);\n\t}\n\n\tdomElement(index: number): HTMLElement | null {\n\t\tconst row = this.items[index].row;\n\t\treturn row && row.domNode;\n\t}\n\n\telementHeight(index: number): number {\n\t\treturn this.items[index].size;\n\t}\n\n\telementTop(index: number): number {\n\t\treturn this.rangeMap.positionAt(index);\n\t}\n\n\tindexAt(position: number): number {\n\t\treturn this.rangeMap.indexAt(position);\n\t}\n\n\tindexAfter(position: number): number {\n\t\treturn this.rangeMap.indexAfter(position);\n\t}\n\n\tlayout(height?: number, width?: number): void {\n\t\tconst scrollDimensions: INewScrollDimensions = {\n\t\t\theight: typeof height === 'number' ? height : getContentHeight(this.domNode)\n\t\t};\n\n\t\tif (this.scrollableElementUpdateDisposable) {\n\t\t\tthis.scrollableElementUpdateDisposable.dispose();\n\t\t\tthis.scrollableElementUpdateDisposable = null;\n\t\t\tscrollDimensions.scrollHeight = this.scrollHeight;\n\t\t}\n\n\t\tthis.scrollableElement.setScrollDimensions(scrollDimensions);\n\n\t\tif (typeof width !== 'undefined') {\n\t\t\tthis.renderWidth = width;\n\n\t\t\tif (this.supportDynamicHeights) {\n\t\t\t\tthis._rerender(this.scrollTop, this.renderHeight);\n\t\t\t}\n\t\t}\n\n\t\tif (this.horizontalScrolling) {\n\t\t\tthis.scrollableElement.setScrollDimensions({\n\t\t\t\twidth: typeof width === 'number' ? width : getContentWidth(this.domNode)\n\t\t\t});\n\t\t}\n\t}\n\n\t// Render\n\n\tprotected render(previousRenderRange: IRange, renderTop: number, renderHeight: number, renderLeft: number | undefined, scrollWidth: number | undefined, updateItemsInDOM: boolean = false): void {\n\t\tconst renderRange = this.getRenderRange(renderTop, renderHeight);\n\n\t\tconst rangesToInsert = Range.relativeComplement(renderRange, previousRenderRange).reverse();\n\t\tconst rangesToRemove = Range.relativeComplement(previousRenderRange, renderRange);\n\n\t\tif (updateItemsInDOM) {\n\t\t\tconst rangesToUpdate = Range.intersect(previousRenderRange, renderRange);\n\n\t\t\tfor (let i = rangesToUpdate.start; i < rangesToUpdate.end; i++) {\n\t\t\t\tthis.updateItemInDOM(this.items[i], i);\n\t\t\t}\n\t\t}\n\n\t\tthis.cache.transact(() => {\n\t\t\tfor (const range of rangesToRemove) {\n\t\t\t\tfor (let i = range.start; i < range.end; i++) {\n\t\t\t\t\tthis.removeItemFromDOM(i);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor (const range of rangesToInsert) {\n\t\t\t\tfor (let i = range.end - 1; i >= range.start; i--) {\n\t\t\t\t\tthis.insertItemInDOM(i);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tif (renderLeft !== undefined) {\n\t\t\tthis.rowsContainer.style.left = `-${renderLeft}px`;\n\t\t}\n\n\t\tthis.rowsContainer.style.top = `-${renderTop}px`;\n\n\t\tif (this.horizontalScrolling && scrollWidth !== undefined) {\n\t\t\tthis.rowsContainer.style.width = `${Math.max(scrollWidth, this.renderWidth)}px`;\n\t\t}\n\n\t\tthis.lastRenderTop = renderTop;\n\t\tthis.lastRenderHeight = renderHeight;\n\t}\n\n\t// DOM operations\n\n\tprivate insertItemInDOM(index: number, row?: IRow): void {\n\t\tconst item = this.items[index];\n\n\t\tif (!item.row) {\n\t\t\tif (row) {\n\t\t\t\titem.row = row;\n\t\t\t\titem.stale = true;\n\t\t\t} else {\n\t\t\t\tconst result = this.cache.alloc(item.templateId);\n\t\t\t\titem.row = result.row;\n\t\t\t\titem.stale ||= result.isReusingConnectedDomNode;\n\t\t\t}\n\t\t}\n\n\t\tconst role = this.accessibilityProvider.getRole(item.element) || 'listitem';\n\t\titem.row.domNode.setAttribute('role', role);\n\n\t\tconst checked = this.accessibilityProvider.isChecked(item.element);\n\n\t\tif (typeof checked === 'boolean') {\n\t\t\titem.row.domNode.setAttribute('aria-checked', String(!!checked));\n\t\t} else if (checked) {\n\t\t\tconst update = (checked: boolean) => item.row!.domNode.setAttribute('aria-checked', String(!!checked));\n\t\t\tupdate(checked.value);\n\t\t\titem.checkedDisposable = checked.onDidChange(() => update(checked.value));\n\t\t}\n\n\t\tif (item.stale || !item.row.domNode.parentElement) {\n\t\t\tconst referenceNode = this.items.at(index + 1)?.row?.domNode ?? null;\n\t\t\tif (item.row.domNode.parentElement !== this.rowsContainer || item.row.domNode.nextElementSibling !== referenceNode) {\n\t\t\t\tthis.rowsContainer.insertBefore(item.row.domNode, referenceNode);\n\t\t\t}\n\t\t\titem.stale = false;\n\t\t}\n\n\t\tthis.updateItemInDOM(item, index);\n\n\t\tconst renderer = this.renderers.get(item.templateId);\n\n\t\tif (!renderer) {\n\t\t\tthrow new Error(`No renderer found for template id ${item.templateId}`);\n\t\t}\n\n\t\trenderer?.renderElement(item.element, index, item.row.templateData, item.size);\n\n\t\tconst uri = this.dnd.getDragURI(item.element);\n\t\titem.dragStartDisposable.dispose();\n\t\titem.row.domNode.draggable = !!uri;\n\n\t\tif (uri) {\n\t\t\titem.dragStartDisposable = addDisposableListener(item.row.domNode, 'dragstart', event => this.onDragStart(item.element, uri, event));\n\t\t}\n\n\t\tif (this.horizontalScrolling) {\n\t\t\tthis.measureItemWidth(item);\n\t\t\tthis.eventuallyUpdateScrollWidth();\n\t\t}\n\t}\n\n\tprivate measureItemWidth(item: IItem<T>): void {\n\t\tif (!item.row || !item.row.domNode) {\n\t\t\treturn;\n\t\t}\n\n\t\titem.row.domNode.style.width = 'fit-content';\n\t\titem.width = getContentWidth(item.row.domNode);\n\t\tconst style = getWindow(item.row.domNode).getComputedStyle(item.row.domNode);\n\n\t\tif (style.paddingLeft) {\n\t\t\titem.width += parseFloat(style.paddingLeft);\n\t\t}\n\n\t\tif (style.paddingRight) {\n\t\t\titem.width += parseFloat(style.paddingRight);\n\t\t}\n\n\t\titem.row.domNode.style.width = '';\n\t}\n\n\tprivate updateItemInDOM(item: IItem<T>, index: number): void {\n\t\titem.row!.domNode.style.top = `${this.elementTop(index)}px`;\n\n\t\tif (this.setRowHeight) {\n\t\t\titem.row!.domNode.style.height = `${item.size}px`;\n\t\t}\n\n\t\tif (this.setRowLineHeight) {\n\t\t\titem.row!.domNode.style.lineHeight = `${item.size}px`;\n\t\t}\n\n\t\titem.row!.domNode.setAttribute('data-index', `${index}`);\n\t\titem.row!.domNode.setAttribute('data-last-element', index === this.length - 1 ? 'true' : 'false');\n\t\titem.row!.domNode.setAttribute('data-parity', index % 2 === 0 ? 'even' : 'odd');\n\t\titem.row!.domNode.setAttribute('aria-setsize', String(this.accessibilityProvider.getSetSize(item.element, index, this.length)));\n\t\titem.row!.domNode.setAttribute('aria-posinset', String(this.accessibilityProvider.getPosInSet(item.element, index)));\n\t\titem.row!.domNode.setAttribute('id', this.getElementDomId(index));\n\n\t\titem.row!.domNode.classList.toggle('drop-target', item.dropTarget);\n\t}\n\n\tprivate removeItemFromDOM(index: number): void {\n\t\tconst item = this.items[index];\n\t\titem.dragStartDisposable.dispose();\n\t\titem.checkedDisposable.dispose();\n\n\t\tif (item.row) {\n\t\t\tconst renderer = this.renderers.get(item.templateId);\n\n\t\t\tif (renderer && renderer.disposeElement) {\n\t\t\t\trenderer.disposeElement(item.element, index, item.row.templateData, item.size);\n\t\t\t}\n\n\t\t\tthis.cache.release(item.row);\n\t\t\titem.row = null;\n\t\t}\n\n\t\tif (this.horizontalScrolling) {\n\t\t\tthis.eventuallyUpdateScrollWidth();\n\t\t}\n\t}\n\n\tgetScrollTop(): number {\n\t\tconst scrollPosition = this.scrollableElement.getScrollPosition();\n\t\treturn scrollPosition.scrollTop;\n\t}\n\n\tsetScrollTop(scrollTop: number, reuseAnimation?: boolean): void {\n\t\tif (this.scrollableElementUpdateDisposable) {\n\t\t\tthis.scrollableElementUpdateDisposable.dispose();\n\t\t\tthis.scrollableElementUpdateDisposable = null;\n\t\t\tthis.scrollableElement.setScrollDimensions({ scrollHeight: this.scrollHeight });\n\t\t}\n\n\t\tthis.scrollableElement.setScrollPosition({ scrollTop, reuseAnimation });\n\t}\n\n\tgetScrollLeft(): number {\n\t\tconst scrollPosition = this.scrollableElement.getScrollPosition();\n\t\treturn scrollPosition.scrollLeft;\n\t}\n\n\tsetScrollLeft(scrollLeft: number): void {\n\t\tif (this.scrollableElementUpdateDisposable) {\n\t\t\tthis.scrollableElementUpdateDisposable.dispose();\n\t\t\tthis.scrollableElementUpdateDisposable = null;\n\t\t\tthis.scrollableElement.setScrollDimensions({ scrollWidth: this.scrollWidth });\n\t\t}\n\n\t\tthis.scrollableElement.setScrollPosition({ scrollLeft });\n\t}\n\n\n\tget scrollTop(): number {\n\t\treturn this.getScrollTop();\n\t}\n\n\tset scrollTop(scrollTop: number) {\n\t\tthis.setScrollTop(scrollTop);\n\t}\n\n\tget scrollHeight(): number {\n\t\treturn this._scrollHeight + (this.horizontalScrolling ? 10 : 0) + this.paddingBottom;\n\t}\n\n\t// Events\n\n\t@memoize get onMouseClick(): Event<IListMouseEvent<T>> { return Event.map(this.disposables.add(new DomEmitter(this.domNode, 'click')).event, e => this.toMouseEvent(e), this.disposables); }\n\t@memoize get onMouseDblClick(): Event<IListMouseEvent<T>> { return Event.map(this.disposables.add(new DomEmitter(this.domNode, 'dblclick')).event, e => this.toMouseEvent(e), this.disposables); }\n\t@memoize get onMouseMiddleClick(): Event<IListMouseEvent<T>> { return Event.filter(Event.map(this.disposables.add(new DomEmitter(this.domNode, 'auxclick')).event, e => this.toMouseEvent(e as MouseEvent), this.disposables), e => e.browserEvent.button === 1, this.disposables); }\n\t@memoize get onMouseUp(): Event<IListMouseEvent<T>> { return Event.map(this.disposables.add(new DomEmitter(this.domNode, 'mouseup')).event, e => this.toMouseEvent(e), this.disposables); }\n\t@memoize get onMouseDown(): Event<IListMouseEvent<T>> { return Event.map(this.disposables.add(new DomEmitter(this.domNode, 'mousedown')).event, e => this.toMouseEvent(e), this.disposables); }\n\t@memoize get onMouseOver(): Event<IListMouseEvent<T>> { return Event.map(this.disposables.add(new DomEmitter(this.domNode, 'mouseover')).event, e => this.toMouseEvent(e), this.disposables); }\n\t@memoize get onMouseMove(): Event<IListMouseEvent<T>> { return Event.map(this.disposables.add(new DomEmitter(this.domNode, 'mousemove')).event, e => this.toMouseEvent(e), this.disposables); }\n\t@memoize get onMouseOut(): Event<IListMouseEvent<T>> { return Event.map(this.disposables.add(new DomEmitter(this.domNode, 'mouseout')).event, e => this.toMouseEvent(e), this.disposables); }\n\t@memoize get onContextMenu(): Event<IListMouseEvent<T> | IListGestureEvent<T>> { return Event.any<IListMouseEvent<any> | IListGestureEvent<any>>(Event.map(this.disposables.add(new DomEmitter(this.domNode, 'contextmenu')).event, e => this.toMouseEvent(e), this.disposables), Event.map(this.disposables.add(new DomEmitter(this.domNode, TouchEventType.Contextmenu)).event as Event<GestureEvent>, e => this.toGestureEvent(e), this.disposables)); }\n\t@memoize get onTouchStart(): Event<IListTouchEvent<T>> { return Event.map(this.disposables.add(new DomEmitter(this.domNode, 'touchstart')).event, e => this.toTouchEvent(e), this.disposables); }\n\t@memoize get onTap(): Event<IListGestureEvent<T>> { return Event.map(this.disposables.add(new DomEmitter(this.rowsContainer, TouchEventType.Tap)).event, e => this.toGestureEvent(e as GestureEvent), this.disposables); }\n\n\tprivate toMouseEvent(browserEvent: MouseEvent): IListMouseEvent<T> {\n\t\tconst index = this.getItemIndexFromEventTarget(browserEvent.target || null);\n\t\tconst item = typeof index === 'undefined' ? undefined : this.items[index];\n\t\tconst element = item && item.element;\n\t\treturn { browserEvent, index, element };\n\t}\n\n\tprivate toTouchEvent(browserEvent: TouchEvent): IListTouchEvent<T> {\n\t\tconst index = this.getItemIndexFromEventTarget(browserEvent.target || null);\n\t\tconst item = typeof index === 'undefined' ? undefined : this.items[index];\n\t\tconst element = item && item.element;\n\t\treturn { browserEvent, index, element };\n\t}\n\n\tprivate toGestureEvent(browserEvent: GestureEvent): IListGestureEvent<T> {\n\t\tconst index = this.getItemIndexFromEventTarget(browserEvent.initialTarget || null);\n\t\tconst item = typeof index === 'undefined' ? undefined : this.items[index];\n\t\tconst element = item && item.element;\n\t\treturn { browserEvent, index, element };\n\t}\n\n\tprivate toDragEvent(browserEvent: DragEvent): IListDragEvent<T> {\n\t\tconst index = this.getItemIndexFromEventTarget(browserEvent.target || null);\n\t\tconst item = typeof index === 'undefined' ? undefined : this.items[index];\n\t\tconst element = item && item.element;\n\t\tconst sector = this.getTargetSector(browserEvent, index);\n\t\treturn { browserEvent, index, element, sector };\n\t}\n\n\tprivate onScroll(e: ScrollEvent): void {\n\t\ttry {\n\t\t\tconst previousRenderRange = this.getRenderRange(this.lastRenderTop, this.lastRenderHeight);\n\t\t\tthis.render(previousRenderRange, e.scrollTop, e.height, e.scrollLeft, e.scrollWidth);\n\n\t\t\tif (this.supportDynamicHeights) {\n\t\t\t\tthis._rerender(e.scrollTop, e.height, e.inSmoothScrolling);\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error('Got bad scroll event:', e);\n\t\t\tthrow err;\n\t\t}\n\t}\n\n\tprivate onTouchChange(event: GestureEvent): void {\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\n\t\tthis.scrollTop -= event.translationY;\n\t}\n\n\t// DND\n\n\tprivate onDragStart(element: T, uri: string, event: DragEvent): void {\n\t\tif (!event.dataTransfer) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst elements = this.dnd.getDragElements(element);\n\n\t\tevent.dataTransfer.effectAllowed = 'copyMove';\n\t\tevent.dataTransfer.setData(DataTransfers.TEXT, uri);\n\n\t\tif (event.dataTransfer.setDragImage) {\n\t\t\tlet label: string | undefined;\n\n\t\t\tif (this.dnd.getDragLabel) {\n\t\t\t\tlabel = this.dnd.getDragLabel(elements, event);\n\t\t\t}\n\n\t\t\tif (typeof label === 'undefined') {\n\t\t\t\tlabel = String(elements.length);\n\t\t\t}\n\n\t\t\tconst dragImage = $('.monaco-drag-image');\n\t\t\tdragImage.textContent = label;\n\n\t\t\tconst getDragImageContainer = (e: HTMLElement | null) => {\n\t\t\t\twhile (e && !e.classList.contains('monaco-workbench')) {\n\t\t\t\t\te = e.parentElement;\n\t\t\t\t}\n\t\t\t\treturn e || this.domNode.ownerDocument;\n\t\t\t};\n\n\t\t\tconst container = getDragImageContainer(this.domNode);\n\t\t\tcontainer.appendChild(dragImage);\n\t\t\tevent.dataTransfer.setDragImage(dragImage, -10, -10);\n\t\t\tsetTimeout(() => dragImage.remove(), 0);\n\t\t}\n\n\t\tthis.domNode.classList.add('dragging');\n\t\tthis.currentDragData = new ElementsDragAndDropData(elements);\n\t\tStaticDND.CurrentDragAndDropData = new ExternalElementsDragAndDropData(elements);\n\n\t\tthis.dnd.onDragStart?.(this.currentDragData, event);\n\t}\n\n\tprivate onDragOver(event: IListDragEvent<T>): boolean {\n\t\tevent.browserEvent.preventDefault(); // needed so that the drop event fires (https://stackoverflow.com/questions/21339924/drop-event-not-firing-in-chrome)\n\n\t\tthis.onDragLeaveTimeout.dispose();\n\n\t\tif (StaticDND.CurrentDragAndDropData && StaticDND.CurrentDragAndDropData.getData() === 'vscode-ui') {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.setupDragAndDropScrollTopAnimation(event.browserEvent);\n\n\t\tif (!event.browserEvent.dataTransfer) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Drag over from outside\n\t\tif (!this.currentDragData) {\n\t\t\tif (StaticDND.CurrentDragAndDropData) {\n\t\t\t\t// Drag over from another list\n\t\t\t\tthis.currentDragData = StaticDND.CurrentDragAndDropData;\n\n\t\t\t} else {\n\t\t\t\t// Drag over from the desktop\n\t\t\t\tif (!event.browserEvent.dataTransfer.types) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tthis.currentDragData = new NativeDragAndDropData();\n\t\t\t}\n\t\t}\n\n\t\tconst result = this.dnd.onDragOver(this.currentDragData, event.element, event.index, event.sector, event.browserEvent);\n\t\tthis.canDrop = typeof result === 'boolean' ? result : result.accept;\n\n\t\tif (!this.canDrop) {\n\t\t\tthis.currentDragFeedback = undefined;\n\t\t\tthis.currentDragFeedbackDisposable.dispose();\n\t\t\treturn false;\n\t\t}\n\n\t\tevent.browserEvent.dataTransfer.dropEffect = (typeof result !== 'boolean' && result.effect?.type === ListDragOverEffectType.Copy) ? 'copy' : 'move';\n\n\t\tlet feedback: number[];\n\n\t\tif (typeof result !== 'boolean' && result.feedback) {\n\t\t\tfeedback = result.feedback;\n\t\t} else {\n\t\t\tif (typeof event.index === 'undefined') {\n\t\t\t\tfeedback = [-1];\n\t\t\t} else {\n\t\t\t\tfeedback = [event.index];\n\t\t\t}\n\t\t}\n\n\t\t// sanitize feedback list\n\t\tfeedback = distinct(feedback).filter(i => i >= -1 && i < this.length).sort((a, b) => a - b);\n\t\tfeedback = feedback[0] === -1 ? [-1] : feedback;\n\n\t\tlet dragOverEffectPosition = typeof result !== 'boolean' && result.effect && result.effect.position ? result.effect.position : ListDragOverEffectPosition.Over;\n\n\t\tif (equalsDragFeedback(this.currentDragFeedback, feedback) && this.currentDragFeedbackPosition === dragOverEffectPosition) {\n\t\t\treturn true;\n\t\t}\n\n\t\tthis.currentDragFeedback = feedback;\n\t\tthis.currentDragFeedbackPosition = dragOverEffectPosition;\n\t\tthis.currentDragFeedbackDisposable.dispose();\n\n\t\tif (feedback[0] === -1) { // entire list feedback\n\t\t\tthis.domNode.classList.add(dragOverEffectPosition);\n\t\t\tthis.rowsContainer.classList.add(dragOverEffectPosition);\n\t\t\tthis.currentDragFeedbackDisposable = toDisposable(() => {\n\t\t\t\tthis.domNode.classList.remove(dragOverEffectPosition);\n\t\t\t\tthis.rowsContainer.classList.remove(dragOverEffectPosition);\n\t\t\t});\n\t\t} else {\n\n\t\t\tif (feedback.length > 1 && dragOverEffectPosition !== ListDragOverEffectPosition.Over) {\n\t\t\t\tthrow new Error('Can\\'t use multiple feedbacks with position different than \\'over\\'');\n\t\t\t}\n\n\t\t\t// Make sure there is no flicker when moving between two items\n\t\t\t// Always use the before feedback if possible\n\t\t\tif (dragOverEffectPosition === ListDragOverEffectPosition.After) {\n\t\t\t\tif (feedback[0] < this.length - 1) {\n\t\t\t\t\tfeedback[0] += 1;\n\t\t\t\t\tdragOverEffectPosition = ListDragOverEffectPosition.Before;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor (const index of feedback) {\n\t\t\t\tconst item = this.items[index]!;\n\t\t\t\titem.dropTarget = true;\n\n\t\t\t\titem.row?.domNode.classList.add(dragOverEffectPosition);\n\t\t\t}\n\n\t\t\tthis.currentDragFeedbackDisposable = toDisposable(() => {\n\t\t\t\tfor (const index of feedback) {\n\t\t\t\t\tconst item = this.items[index]!;\n\t\t\t\t\titem.dropTarget = false;\n\n\t\t\t\t\titem.row?.domNode.classList.remove(dragOverEffectPosition);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn true;\n\t}\n\n\tprivate onDragLeave(event: IListDragEvent<T>): void {\n\t\tthis.onDragLeaveTimeout.dispose();\n\t\tthis.onDragLeaveTimeout = disposableTimeout(() => this.clearDragOverFeedback(), 100, this.disposables);\n\t\tif (this.currentDragData) {\n\t\t\tthis.dnd.onDragLeave?.(this.currentDragData, event.element, event.index, event.browserEvent);\n\t\t}\n\t}\n\n\tprivate onDrop(event: IListDragEvent<T>): void {\n\t\tif (!this.canDrop) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst dragData = this.currentDragData;\n\t\tthis.teardownDragAndDropScrollTopAnimation();\n\t\tthis.clearDragOverFeedback();\n\t\tthis.domNode.classList.remove('dragging');\n\t\tthis.currentDragData = undefined;\n\t\tStaticDND.CurrentDragAndDropData = undefined;\n\n\t\tif (!dragData || !event.browserEvent.dataTransfer) {\n\t\t\treturn;\n\t\t}\n\n\t\tevent.browserEvent.preventDefault();\n\t\tdragData.update(event.browserEvent.dataTransfer);\n\t\tthis.dnd.drop(dragData, event.element, event.index, event.sector, event.browserEvent);\n\t}\n\n\tprivate onDragEnd(event: DragEvent): void {\n\t\tthis.canDrop = false;\n\t\tthis.teardownDragAndDropScrollTopAnimation();\n\t\tthis.clearDragOverFeedback();\n\t\tthis.domNode.classList.remove('dragging');\n\t\tthis.currentDragData = undefined;\n\t\tStaticDND.CurrentDragAndDropData = undefined;\n\n\t\tthis.dnd.onDragEnd?.(event);\n\t}\n\n\tprivate clearDragOverFeedback(): void {\n\t\tthis.currentDragFeedback = undefined;\n\t\tthis.currentDragFeedbackPosition = undefined;\n\t\tthis.currentDragFeedbackDisposable.dispose();\n\t\tthis.currentDragFeedbackDisposable = Disposable.None;\n\t}\n\n\t// DND scroll top animation\n\n\tprivate setupDragAndDropScrollTopAnimation(event: DragEvent): void {\n\t\tif (!this.dragOverAnimationDisposable) {\n\t\t\tconst viewTop = getTopLeftOffset(this.domNode).top;\n\t\t\tthis.dragOverAnimationDisposable = animate(getWindow(this.domNode), this.animateDragAndDropScrollTop.bind(this, viewTop));\n\t\t}\n\n\t\tthis.dragOverAnimationStopDisposable.dispose();\n\t\tthis.dragOverAnimationStopDisposable = disposableTimeout(() => {\n\t\t\tif (this.dragOverAnimationDisposable) {\n\t\t\t\tthis.dragOverAnimationDisposable.dispose();\n\t\t\t\tthis.dragOverAnimationDisposable = undefined;\n\t\t\t}\n\t\t}, 1000, this.disposables);\n\n\t\tthis.dragOverMouseY = event.pageY;\n\t}\n\n\tprivate animateDragAndDropScrollTop(viewTop: number): void {\n\t\tif (this.dragOverMouseY === undefined) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst diff = this.dragOverMouseY - viewTop;\n\t\tconst upperLimit = this.renderHeight - 35;\n\n\t\tif (diff < 35) {\n\t\t\tthis.scrollTop += Math.max(-14, Math.floor(0.3 * (diff - 35)));\n\t\t} else if (diff > upperLimit) {\n\t\t\tthis.scrollTop += Math.min(14, Math.floor(0.3 * (diff - upperLimit)));\n\t\t}\n\t}\n\n\tprivate teardownDragAndDropScrollTopAnimation(): void {\n\t\tthis.dragOverAnimationStopDisposable.dispose();\n\n\t\tif (this.dragOverAnimationDisposable) {\n\t\t\tthis.dragOverAnimationDisposable.dispose();\n\t\t\tthis.dragOverAnimationDisposable = undefined;\n\t\t}\n\t}\n\n\t// Util\n\n\tprivate getTargetSector(browserEvent: DragEvent, targetIndex: number | undefined): ListViewTargetSector | undefined {\n\t\tif (targetIndex === undefined) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tconst relativePosition = browserEvent.offsetY / this.items[targetIndex].size;\n\t\tconst sector = Math.floor(relativePosition / 0.25);\n\t\treturn clamp(sector, 0, 3);\n\t}\n\n\tprivate getItemIndexFromEventTarget(target: EventTarget | null): number | undefined {\n\t\tconst scrollableElement = this.scrollableElement.getDomNode();\n\t\tlet element: HTMLElement | SVGElement | null = target as (HTMLElement | SVGElement | null);\n\n\t\twhile ((isHTMLElement(element) || isSVGElement(element)) && element !== this.rowsContainer && scrollableElement.contains(element)) {\n\t\t\tconst rawIndex = element.getAttribute('data-index');\n\n\t\t\tif (rawIndex) {\n\t\t\t\tconst index = Number(rawIndex);\n\n\t\t\t\tif (!isNaN(index)) {\n\t\t\t\t\treturn index;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\telement = element.parentElement;\n\t\t}\n\n\t\treturn undefined;\n\t}\n\n\tprotected getRenderRange(renderTop: number, renderHeight: number): IRange {\n\t\treturn {\n\t\t\tstart: this.rangeMap.indexAt(renderTop),\n\t\t\tend: this.rangeMap.indexAfter(renderTop + renderHeight - 1)\n\t\t};\n\t}\n\n\t/**\n\t * Given a stable rendered state, checks every rendered element whether it needs\n\t * to be probed for dynamic height. Adjusts scroll height and top if necessary.\n\t */\n\tprotected _rerender(renderTop: number, renderHeight: number, inSmoothScrolling?: boolean): void {\n\t\tconst previousRenderRange = this.getRenderRange(renderTop, renderHeight);\n\n\t\t// Let's remember the second element's position, this helps in scrolling up\n\t\t// and preserving a linear upwards scroll movement\n\t\tlet anchorElementIndex: number | undefined;\n\t\tlet anchorElementTopDelta: number | undefined;\n\n\t\tif (renderTop === this.elementTop(previousRenderRange.start)) {\n\t\t\tanchorElementIndex = previousRenderRange.start;\n\t\t\tanchorElementTopDelta = 0;\n\t\t} else if (previousRenderRange.end - previousRenderRange.start > 1) {\n\t\t\tanchorElementIndex = previousRenderRange.start + 1;\n\t\t\tanchorElementTopDelta = this.elementTop(anchorElementIndex) - renderTop;\n\t\t}\n\n\t\tlet heightDiff = 0;\n\n\t\twhile (true) {\n\t\t\tconst renderRange = this.getRenderRange(renderTop, renderHeight);\n\n\t\t\tlet didChange = false;\n\n\t\t\tfor (let i = renderRange.start; i < renderRange.end; i++) {\n\t\t\t\tconst diff = this.probeDynamicHeight(i);\n\n\t\t\t\tif (diff !== 0) {\n\t\t\t\t\tthis.rangeMap.splice(i, 1, [this.items[i]]);\n\t\t\t\t}\n\n\t\t\t\theightDiff += diff;\n\t\t\t\tdidChange = didChange || diff !== 0;\n\t\t\t}\n\n\t\t\tif (!didChange) {\n\t\t\t\tif (heightDiff !== 0) {\n\t\t\t\t\tthis.eventuallyUpdateScrollDimensions();\n\t\t\t\t}\n\n\t\t\t\tconst unrenderRanges = Range.relativeComplement(previousRenderRange, renderRange);\n\n\t\t\t\tfor (const range of unrenderRanges) {\n\t\t\t\t\tfor (let i = range.start; i < range.end; i++) {\n\t\t\t\t\t\tif (this.items[i].row) {\n\t\t\t\t\t\t\tthis.removeItemFromDOM(i);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tconst renderRanges = Range.relativeComplement(renderRange, previousRenderRange).reverse();\n\n\t\t\t\tfor (const range of renderRanges) {\n\t\t\t\t\tfor (let i = range.end - 1; i >= range.start; i--) {\n\t\t\t\t\t\tthis.insertItemInDOM(i);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tfor (let i = renderRange.start; i < renderRange.end; i++) {\n\t\t\t\t\tif (this.items[i].row) {\n\t\t\t\t\t\tthis.updateItemInDOM(this.items[i], i);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (typeof anchorElementIndex === 'number') {\n\t\t\t\t\t// To compute a destination scroll top, we need to take into account the current smooth scrolling\n\t\t\t\t\t// animation, and then reuse it with a new target (to avoid prolonging the scroll)\n\t\t\t\t\t// See https://github.com/microsoft/vscode/issues/104144\n\t\t\t\t\t// See https://github.com/microsoft/vscode/pull/104284\n\t\t\t\t\t// See https://github.com/microsoft/vscode/issues/107704\n\t\t\t\t\tconst deltaScrollTop = this.scrollable.getFutureScrollPosition().scrollTop - renderTop;\n\t\t\t\t\tconst newScrollTop = this.elementTop(anchorElementIndex) - anchorElementTopDelta! + deltaScrollTop;\n\t\t\t\t\tthis.setScrollTop(newScrollTop, inSmoothScrolling);\n\t\t\t\t}\n\n\t\t\t\tthis._onDidChangeContentHeight.fire(this.contentHeight);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate probeDynamicHeight(index: number): number {\n\t\tconst item = this.items[index];\n\n\t\tif (!!this.virtualDelegate.getDynamicHeight) {\n\t\t\tconst newSize = this.virtualDelegate.getDynamicHeight(item.element);\n\t\t\tif (newSize !== null) {\n\t\t\t\tconst size = item.size;\n\t\t\t\titem.size = newSize;\n\t\t\t\titem.lastDynamicHeightWidth = this.renderWidth;\n\t\t\t\treturn newSize - size;\n\t\t\t}\n\t\t}\n\n\t\tif (!item.hasDynamicHeight || item.lastDynamicHeightWidth === this.renderWidth) {\n\t\t\treturn 0;\n\t\t}\n\n\t\tif (!!this.virtualDelegate.hasDynamicHeight && !this.virtualDelegate.hasDynamicHeight(item.element)) {\n\t\t\treturn 0;\n\t\t}\n\n\t\tconst size = item.size;\n\n\t\tif (item.row) {\n\t\t\titem.row.domNode.style.height = '';\n\t\t\titem.size = item.row.domNode.offsetHeight;\n\t\t\tif (item.size === 0 && !isAncestor(item.row.domNode, getWindow(item.row.domNode).document.body)) {\n\t\t\t\tconsole.warn('Measuring item node that is not in DOM! Add ListView to the DOM before measuring row height!', new Error().stack);\n\t\t\t}\n\t\t\titem.lastDynamicHeightWidth = this.renderWidth;\n\t\t\treturn item.size - size;\n\t\t}\n\n\t\tconst { row } = this.cache.alloc(item.templateId);\n\t\trow.domNode.style.height = '';\n\t\tthis.rowsContainer.appendChild(row.domNode);\n\n\t\tconst renderer = this.renderers.get(item.templateId);\n\n\t\tif (!renderer) {\n\t\t\tthrow new BugIndicatingError('Missing renderer for templateId: ' + item.templateId);\n\t\t}\n\n\t\trenderer.renderElement(item.element, index, row.templateData, undefined);\n\t\titem.size = row.domNode.offsetHeight;\n\t\trenderer.disposeElement?.(item.element, index, row.templateData, undefined);\n\n\t\tthis.virtualDelegate.setDynamicHeight?.(item.element, item.size);\n\n\t\titem.lastDynamicHeightWidth = this.renderWidth;\n\t\trow.domNode.remove();\n\t\tthis.cache.release(row);\n\n\t\treturn item.size - size;\n\t}\n\n\tgetElementDomId(index: number): string {\n\t\treturn `${this.domId}_${index}`;\n\t}\n\n\t// Dispose\n\n\tdispose() {\n\t\tfor (const item of this.items) {\n\t\t\titem.dragStartDisposable.dispose();\n\t\t\titem.checkedDisposable.dispose();\n\n\t\t\tif (item.row) {\n\t\t\t\tconst renderer = this.renderers.get(item.row.templateId);\n\t\t\t\tif (renderer) {\n\t\t\t\t\trenderer.disposeElement?.(item.element, -1, item.row.templateData, undefined);\n\t\t\t\t\trenderer.disposeTemplate(item.row.templateData);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.items = [];\n\n\t\tthis.domNode?.remove();\n\n\t\tthis.dragOverAnimationDisposable?.dispose();\n\t\tthis.disposables.dispose();\n\t}\n}\n"],
  "mappings": "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",
  "names": ["ListViewTargetSector", "checked", "size"]
}
