{
  "version": 3,
  "sources": ["../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/base/browser/ui/inputbox/inputBox.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as dom from '../../dom.js';\nimport { DomEmitter } from '../../event.js';\nimport { renderFormattedText, renderText } from '../../formattedTextRenderer.js';\nimport { IHistoryNavigationWidget } from '../../history.js';\nimport { MarkdownRenderOptions } from '../../markdownRenderer.js';\nimport { ActionBar } from '../actionbar/actionbar.js';\nimport * as aria from '../aria/aria.js';\nimport { AnchorAlignment, IContextViewProvider } from '../contextview/contextview.js';\nimport type { IManagedHover } from '../hover/hover.js';\nimport { getBaseLayerHoverDelegate } from '../hover/hoverDelegate2.js';\nimport { getDefaultHoverDelegate } from '../hover/hoverDelegateFactory.js';\nimport { ScrollableElement } from '../scrollbar/scrollableElement.js';\nimport { Widget } from '../widget.js';\nimport { IAction } from '../../../common/actions.js';\nimport { Emitter, Event } from '../../../common/event.js';\nimport { HistoryNavigator } from '../../../common/history.js';\nimport { equals } from '../../../common/objects.js';\nimport { ScrollbarVisibility } from '../../../common/scrollable.js';\nimport './inputBox.css';\nimport * as nls from '../../../../nls.js';\n\n\nconst $ = dom.$;\n\nexport interface IInputOptions {\n\treadonly placeholder?: string;\n\treadonly showPlaceholderOnFocus?: boolean;\n\treadonly tooltip?: string;\n\treadonly ariaLabel?: string;\n\treadonly type?: string;\n\treadonly validationOptions?: IInputValidationOptions;\n\treadonly flexibleHeight?: boolean;\n\treadonly flexibleWidth?: boolean;\n\treadonly flexibleMaxHeight?: number;\n\treadonly actions?: ReadonlyArray<IAction>;\n\treadonly inputBoxStyles: IInputBoxStyles;\n}\n\nexport interface IInputBoxStyles {\n\treadonly inputBackground: string | undefined;\n\treadonly inputForeground: string | undefined;\n\treadonly inputBorder: string | undefined;\n\treadonly inputValidationInfoBorder: string | undefined;\n\treadonly inputValidationInfoBackground: string | undefined;\n\treadonly inputValidationInfoForeground: string | undefined;\n\treadonly inputValidationWarningBorder: string | undefined;\n\treadonly inputValidationWarningBackground: string | undefined;\n\treadonly inputValidationWarningForeground: string | undefined;\n\treadonly inputValidationErrorBorder: string | undefined;\n\treadonly inputValidationErrorBackground: string | undefined;\n\treadonly inputValidationErrorForeground: string | undefined;\n}\n\nexport interface IInputValidator {\n\t(value: string): IMessage | null;\n}\n\nexport interface IMessage {\n\treadonly content?: string;\n\treadonly formatContent?: boolean; // defaults to false\n\treadonly type?: MessageType;\n}\n\nexport interface IInputValidationOptions {\n\tvalidation?: IInputValidator;\n}\n\nexport const enum MessageType {\n\tINFO = 1,\n\tWARNING = 2,\n\tERROR = 3\n}\n\nexport interface IRange {\n\tstart: number;\n\tend: number;\n}\n\nexport const unthemedInboxStyles: IInputBoxStyles = {\n\tinputBackground: '#3C3C3C',\n\tinputForeground: '#CCCCCC',\n\tinputValidationInfoBorder: '#55AAFF',\n\tinputValidationInfoBackground: '#063B49',\n\tinputValidationWarningBorder: '#B89500',\n\tinputValidationWarningBackground: '#352A05',\n\tinputValidationErrorBorder: '#BE1100',\n\tinputValidationErrorBackground: '#5A1D1D',\n\tinputBorder: undefined,\n\tinputValidationErrorForeground: undefined,\n\tinputValidationInfoForeground: undefined,\n\tinputValidationWarningForeground: undefined\n};\n\nexport class InputBox extends Widget {\n\tprivate contextViewProvider?: IContextViewProvider;\n\telement: HTMLElement;\n\tprotected input: HTMLInputElement;\n\tprivate actionbar?: ActionBar;\n\tprivate readonly options: IInputOptions;\n\tprivate message: IMessage | null;\n\tprotected placeholder: string;\n\tprivate tooltip: string;\n\tprivate ariaLabel: string;\n\tprivate validation?: IInputValidator;\n\tprivate state: 'idle' | 'open' | 'closed' = 'idle';\n\n\tprivate mirror: HTMLElement | undefined;\n\tprivate cachedHeight: number | undefined;\n\tprivate cachedContentHeight: number | undefined;\n\tprivate maxHeight: number = Number.POSITIVE_INFINITY;\n\tprivate scrollableElement: ScrollableElement | undefined;\n\tprivate hover: IManagedHover | undefined;\n\n\tprivate _onDidChange = this._register(new Emitter<string>());\n\tpublic readonly onDidChange: Event<string> = this._onDidChange.event;\n\n\tprivate _onDidHeightChange = this._register(new Emitter<number>());\n\tpublic readonly onDidHeightChange: Event<number> = this._onDidHeightChange.event;\n\n\tconstructor(container: HTMLElement, contextViewProvider: IContextViewProvider | undefined, options: IInputOptions) {\n\t\tsuper();\n\n\t\tthis.contextViewProvider = contextViewProvider;\n\t\tthis.options = options;\n\n\t\tthis.message = null;\n\t\tthis.placeholder = this.options.placeholder || '';\n\t\tthis.tooltip = this.options.tooltip ?? (this.placeholder || '');\n\t\tthis.ariaLabel = this.options.ariaLabel || '';\n\n\t\tif (this.options.validationOptions) {\n\t\t\tthis.validation = this.options.validationOptions.validation;\n\t\t}\n\n\t\tthis.element = dom.append(container, $('.monaco-inputbox.idle'));\n\n\t\tconst tagName = this.options.flexibleHeight ? 'textarea' : 'input';\n\n\t\tconst wrapper = dom.append(this.element, $('.ibwrapper'));\n\t\tthis.input = dom.append(wrapper, $(tagName + '.input.empty'));\n\t\tthis.input.setAttribute('autocorrect', 'off');\n\t\tthis.input.setAttribute('autocapitalize', 'off');\n\t\tthis.input.setAttribute('spellcheck', 'false');\n\n\t\tthis.onfocus(this.input, () => this.element.classList.add('synthetic-focus'));\n\t\tthis.onblur(this.input, () => this.element.classList.remove('synthetic-focus'));\n\n\t\tif (this.options.flexibleHeight) {\n\t\t\tthis.maxHeight = typeof this.options.flexibleMaxHeight === 'number' ? this.options.flexibleMaxHeight : Number.POSITIVE_INFINITY;\n\n\t\t\tthis.mirror = dom.append(wrapper, $('div.mirror'));\n\t\t\tthis.mirror.innerText = '\\u00a0';\n\n\t\t\tthis.scrollableElement = new ScrollableElement(this.element, { vertical: ScrollbarVisibility.Auto });\n\n\t\t\tif (this.options.flexibleWidth) {\n\t\t\t\tthis.input.setAttribute('wrap', 'off');\n\t\t\t\tthis.mirror.style.whiteSpace = 'pre';\n\t\t\t\tthis.mirror.style.wordWrap = 'initial';\n\t\t\t}\n\n\t\t\tdom.append(container, this.scrollableElement.getDomNode());\n\t\t\tthis._register(this.scrollableElement);\n\n\t\t\t// from ScrollableElement to DOM\n\t\t\tthis._register(this.scrollableElement.onScroll(e => this.input.scrollTop = e.scrollTop));\n\n\t\t\tconst onSelectionChange = this._register(new DomEmitter(container.ownerDocument, 'selectionchange'));\n\t\t\tconst onAnchoredSelectionChange = Event.filter(onSelectionChange.event, () => {\n\t\t\t\tconst selection = container.ownerDocument.getSelection();\n\t\t\t\treturn selection?.anchorNode === wrapper;\n\t\t\t});\n\n\t\t\t// from DOM to ScrollableElement\n\t\t\tthis._register(onAnchoredSelectionChange(this.updateScrollDimensions, this));\n\t\t\tthis._register(this.onDidHeightChange(this.updateScrollDimensions, this));\n\t\t} else {\n\t\t\tthis.input.type = this.options.type || 'text';\n\t\t\tthis.input.setAttribute('wrap', 'off');\n\t\t}\n\n\t\tif (this.ariaLabel) {\n\t\t\tthis.input.setAttribute('aria-label', this.ariaLabel);\n\t\t}\n\n\t\tif (this.placeholder && !this.options.showPlaceholderOnFocus) {\n\t\t\tthis.setPlaceHolder(this.placeholder);\n\t\t}\n\n\t\tif (this.tooltip) {\n\t\t\tthis.setTooltip(this.tooltip);\n\t\t}\n\n\t\tthis.oninput(this.input, () => this.onValueChange());\n\t\tthis.onblur(this.input, () => this.onBlur());\n\t\tthis.onfocus(this.input, () => this.onFocus());\n\n\t\tthis._register(this.ignoreGesture(this.input));\n\n\t\tsetTimeout(() => this.updateMirror(), 0);\n\n\t\t// Support actions\n\t\tif (this.options.actions) {\n\t\t\tthis.actionbar = this._register(new ActionBar(this.element));\n\t\t\tthis.actionbar.push(this.options.actions, { icon: true, label: false });\n\t\t}\n\n\t\tthis.applyStyles();\n\t}\n\n\tprotected onBlur(): void {\n\t\tthis._hideMessage();\n\t\tif (this.options.showPlaceholderOnFocus) {\n\t\t\tthis.input.setAttribute('placeholder', '');\n\t\t}\n\t}\n\n\tprotected onFocus(): void {\n\t\tthis._showMessage();\n\t\tif (this.options.showPlaceholderOnFocus) {\n\t\t\tthis.input.setAttribute('placeholder', this.placeholder || '');\n\t\t}\n\t}\n\n\tpublic setPlaceHolder(placeHolder: string): void {\n\t\tthis.placeholder = placeHolder;\n\t\tthis.input.setAttribute('placeholder', placeHolder);\n\t}\n\n\tpublic setTooltip(tooltip: string): void {\n\t\tthis.tooltip = tooltip;\n\t\tif (!this.hover) {\n\t\t\tthis.hover = this._register(getBaseLayerHoverDelegate().setupManagedHover(getDefaultHoverDelegate('mouse'), this.input, tooltip));\n\t\t} else {\n\t\t\tthis.hover.update(tooltip);\n\t\t}\n\t}\n\n\tpublic setAriaLabel(label: string): void {\n\t\tthis.ariaLabel = label;\n\n\t\tif (label) {\n\t\t\tthis.input.setAttribute('aria-label', this.ariaLabel);\n\t\t} else {\n\t\t\tthis.input.removeAttribute('aria-label');\n\t\t}\n\t}\n\n\tpublic getAriaLabel(): string {\n\t\treturn this.ariaLabel;\n\t}\n\n\tpublic get mirrorElement(): HTMLElement | undefined {\n\t\treturn this.mirror;\n\t}\n\n\tpublic get inputElement(): HTMLInputElement {\n\t\treturn this.input;\n\t}\n\n\tpublic get value(): string {\n\t\treturn this.input.value;\n\t}\n\n\tpublic set value(newValue: string) {\n\t\tif (this.input.value !== newValue) {\n\t\t\tthis.input.value = newValue;\n\t\t\tthis.onValueChange();\n\t\t}\n\t}\n\n\tpublic get step(): string {\n\t\treturn this.input.step;\n\t}\n\n\tpublic set step(newValue: string) {\n\t\tthis.input.step = newValue;\n\t}\n\n\tpublic get height(): number {\n\t\treturn typeof this.cachedHeight === 'number' ? this.cachedHeight : dom.getTotalHeight(this.element);\n\t}\n\n\tpublic focus(): void {\n\t\tthis.input.focus();\n\t}\n\n\tpublic blur(): void {\n\t\tthis.input.blur();\n\t}\n\n\tpublic hasFocus(): boolean {\n\t\treturn dom.isActiveElement(this.input);\n\t}\n\n\tpublic select(range: IRange | null = null): void {\n\t\tthis.input.select();\n\n\t\tif (range) {\n\t\t\tthis.input.setSelectionRange(range.start, range.end);\n\t\t\tif (range.end === this.input.value.length) {\n\t\t\t\tthis.input.scrollLeft = this.input.scrollWidth;\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic isSelectionAtEnd(): boolean {\n\t\treturn this.input.selectionEnd === this.input.value.length && this.input.selectionStart === this.input.selectionEnd;\n\t}\n\n\tpublic getSelection(): IRange | null {\n\t\tconst selectionStart = this.input.selectionStart;\n\t\tif (selectionStart === null) {\n\t\t\treturn null;\n\t\t}\n\t\tconst selectionEnd = this.input.selectionEnd ?? selectionStart;\n\t\treturn {\n\t\t\tstart: selectionStart,\n\t\t\tend: selectionEnd,\n\t\t};\n\t}\n\n\tpublic enable(): void {\n\t\tthis.input.removeAttribute('disabled');\n\t}\n\n\tpublic disable(): void {\n\t\tthis.blur();\n\t\tthis.input.disabled = true;\n\t\tthis._hideMessage();\n\t}\n\n\tpublic setEnabled(enabled: boolean): void {\n\t\tif (enabled) {\n\t\t\tthis.enable();\n\t\t} else {\n\t\t\tthis.disable();\n\t\t}\n\t}\n\n\tpublic get width(): number {\n\t\treturn dom.getTotalWidth(this.input);\n\t}\n\n\tpublic set width(width: number) {\n\t\tif (this.options.flexibleHeight && this.options.flexibleWidth) {\n\t\t\t// textarea with horizontal scrolling\n\t\t\tlet horizontalPadding = 0;\n\t\t\tif (this.mirror) {\n\t\t\t\tconst paddingLeft = parseFloat(this.mirror.style.paddingLeft || '') || 0;\n\t\t\t\tconst paddingRight = parseFloat(this.mirror.style.paddingRight || '') || 0;\n\t\t\t\thorizontalPadding = paddingLeft + paddingRight;\n\t\t\t}\n\t\t\tthis.input.style.width = (width - horizontalPadding) + 'px';\n\t\t} else {\n\t\t\tthis.input.style.width = width + 'px';\n\t\t}\n\n\t\tif (this.mirror) {\n\t\t\tthis.mirror.style.width = width + 'px';\n\t\t}\n\t}\n\n\tpublic set paddingRight(paddingRight: number) {\n\t\t// Set width to avoid hint text overlapping buttons\n\t\tthis.input.style.width = `calc(100% - ${paddingRight}px)`;\n\n\t\tif (this.mirror) {\n\t\t\tthis.mirror.style.paddingRight = paddingRight + 'px';\n\t\t}\n\t}\n\n\tprivate updateScrollDimensions(): void {\n\t\tif (typeof this.cachedContentHeight !== 'number' || typeof this.cachedHeight !== 'number' || !this.scrollableElement) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst scrollHeight = this.cachedContentHeight;\n\t\tconst height = this.cachedHeight;\n\t\tconst scrollTop = this.input.scrollTop;\n\n\t\tthis.scrollableElement.setScrollDimensions({ scrollHeight, height });\n\t\tthis.scrollableElement.setScrollPosition({ scrollTop });\n\t}\n\n\tpublic showMessage(message: IMessage, force?: boolean): void {\n\t\tif (this.state === 'open' && equals(this.message, message)) {\n\t\t\t// Already showing\n\t\t\treturn;\n\t\t}\n\n\t\tthis.message = message;\n\n\t\tthis.element.classList.remove('idle');\n\t\tthis.element.classList.remove('info');\n\t\tthis.element.classList.remove('warning');\n\t\tthis.element.classList.remove('error');\n\t\tthis.element.classList.add(this.classForType(message.type));\n\n\t\tconst styles = this.stylesForType(this.message.type);\n\t\tthis.element.style.border = `1px solid ${dom.asCssValueWithDefault(styles.border, 'transparent')}`;\n\n\t\tif (this.message.content && (this.hasFocus() || force)) {\n\t\t\tthis._showMessage();\n\t\t}\n\t}\n\n\tpublic hideMessage(): void {\n\t\tthis.message = null;\n\n\t\tthis.element.classList.remove('info');\n\t\tthis.element.classList.remove('warning');\n\t\tthis.element.classList.remove('error');\n\t\tthis.element.classList.add('idle');\n\n\t\tthis._hideMessage();\n\t\tthis.applyStyles();\n\t}\n\n\tpublic isInputValid(): boolean {\n\t\treturn !!this.validation && !this.validation(this.value);\n\t}\n\n\tpublic validate(): MessageType | undefined {\n\t\tlet errorMsg: IMessage | null = null;\n\n\t\tif (this.validation) {\n\t\t\terrorMsg = this.validation(this.value);\n\n\t\t\tif (errorMsg) {\n\t\t\t\tthis.inputElement.setAttribute('aria-invalid', 'true');\n\t\t\t\tthis.showMessage(errorMsg);\n\t\t\t}\n\t\t\telse if (this.inputElement.hasAttribute('aria-invalid')) {\n\t\t\t\tthis.inputElement.removeAttribute('aria-invalid');\n\t\t\t\tthis.hideMessage();\n\t\t\t}\n\t\t}\n\n\t\treturn errorMsg?.type;\n\t}\n\n\tpublic stylesForType(type: MessageType | undefined): { border: string | undefined; background: string | undefined; foreground: string | undefined } {\n\t\tconst styles = this.options.inputBoxStyles;\n\t\tswitch (type) {\n\t\t\tcase MessageType.INFO: return { border: styles.inputValidationInfoBorder, background: styles.inputValidationInfoBackground, foreground: styles.inputValidationInfoForeground };\n\t\t\tcase MessageType.WARNING: return { border: styles.inputValidationWarningBorder, background: styles.inputValidationWarningBackground, foreground: styles.inputValidationWarningForeground };\n\t\t\tdefault: return { border: styles.inputValidationErrorBorder, background: styles.inputValidationErrorBackground, foreground: styles.inputValidationErrorForeground };\n\t\t}\n\t}\n\n\tprivate classForType(type: MessageType | undefined): string {\n\t\tswitch (type) {\n\t\t\tcase MessageType.INFO: return 'info';\n\t\t\tcase MessageType.WARNING: return 'warning';\n\t\t\tdefault: return 'error';\n\t\t}\n\t}\n\n\tprivate _showMessage(): void {\n\t\tif (!this.contextViewProvider || !this.message) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet div: HTMLElement;\n\t\tconst layout = () => div.style.width = dom.getTotalWidth(this.element) + 'px';\n\n\t\tthis.contextViewProvider.showContextView({\n\t\t\tgetAnchor: () => this.element,\n\t\t\tanchorAlignment: AnchorAlignment.RIGHT,\n\t\t\trender: (container: HTMLElement) => {\n\t\t\t\tif (!this.message) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\n\t\t\t\tdiv = dom.append(container, $('.monaco-inputbox-container'));\n\t\t\t\tlayout();\n\n\t\t\t\tconst renderOptions: MarkdownRenderOptions = {\n\t\t\t\t\tinline: true,\n\t\t\t\t\tclassName: 'monaco-inputbox-message'\n\t\t\t\t};\n\n\t\t\t\tconst spanElement = (this.message.formatContent\n\t\t\t\t\t? renderFormattedText(this.message.content!, renderOptions)\n\t\t\t\t\t: renderText(this.message.content!, renderOptions));\n\t\t\t\tspanElement.classList.add(this.classForType(this.message.type));\n\n\t\t\t\tconst styles = this.stylesForType(this.message.type);\n\t\t\t\tspanElement.style.backgroundColor = styles.background ?? '';\n\t\t\t\tspanElement.style.color = styles.foreground ?? '';\n\t\t\t\tspanElement.style.border = styles.border ? `1px solid ${styles.border}` : '';\n\n\t\t\t\tdom.append(div, spanElement);\n\n\t\t\t\treturn null;\n\t\t\t},\n\t\t\tonHide: () => {\n\t\t\t\tthis.state = 'closed';\n\t\t\t},\n\t\t\tlayout: layout\n\t\t});\n\n\t\t// ARIA Support\n\t\tlet alertText: string;\n\t\tif (this.message.type === MessageType.ERROR) {\n\t\t\talertText = nls.localize('alertErrorMessage', \"Error: {0}\", this.message.content);\n\t\t} else if (this.message.type === MessageType.WARNING) {\n\t\t\talertText = nls.localize('alertWarningMessage', \"Warning: {0}\", this.message.content);\n\t\t} else {\n\t\t\talertText = nls.localize('alertInfoMessage', \"Info: {0}\", this.message.content);\n\t\t}\n\n\t\taria.alert(alertText);\n\n\t\tthis.state = 'open';\n\t}\n\n\tprivate _hideMessage(): void {\n\t\tif (!this.contextViewProvider) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.state === 'open') {\n\t\t\tthis.contextViewProvider.hideContextView();\n\t\t}\n\n\t\tthis.state = 'idle';\n\t}\n\n\tprivate onValueChange(): void {\n\t\tthis._onDidChange.fire(this.value);\n\n\t\tthis.validate();\n\t\tthis.updateMirror();\n\t\tthis.input.classList.toggle('empty', !this.value);\n\n\t\tif (this.state === 'open' && this.contextViewProvider) {\n\t\t\tthis.contextViewProvider.layout();\n\t\t}\n\t}\n\n\tprivate updateMirror(): void {\n\t\tif (!this.mirror) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst value = this.value;\n\t\tconst lastCharCode = value.charCodeAt(value.length - 1);\n\t\tconst suffix = lastCharCode === 10 ? ' ' : '';\n\t\tconst mirrorTextContent = (value + suffix)\n\t\t\t.replace(/\\u000c/g, ''); // Don't measure with the form feed character, which messes up sizing\n\n\t\tif (mirrorTextContent) {\n\t\t\tthis.mirror.textContent = value + suffix;\n\t\t} else {\n\t\t\tthis.mirror.innerText = '\\u00a0';\n\t\t}\n\n\t\tthis.layout();\n\t}\n\n\tprotected applyStyles(): void {\n\t\tconst styles = this.options.inputBoxStyles;\n\n\t\tconst background = styles.inputBackground ?? '';\n\t\tconst foreground = styles.inputForeground ?? '';\n\t\tconst border = styles.inputBorder ?? '';\n\n\t\tthis.element.style.backgroundColor = background;\n\t\tthis.element.style.color = foreground;\n\t\tthis.input.style.backgroundColor = 'inherit';\n\t\tthis.input.style.color = foreground;\n\n\t\t// there's always a border, even if the color is not set.\n\t\tthis.element.style.border = `1px solid ${dom.asCssValueWithDefault(border, 'transparent')}`;\n\t}\n\n\tpublic layout(): void {\n\t\tif (!this.mirror) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst previousHeight = this.cachedContentHeight;\n\t\tthis.cachedContentHeight = dom.getTotalHeight(this.mirror);\n\n\t\tif (previousHeight !== this.cachedContentHeight) {\n\t\t\tthis.cachedHeight = Math.min(this.cachedContentHeight, this.maxHeight);\n\t\t\tthis.input.style.height = this.cachedHeight + 'px';\n\t\t\tthis._onDidHeightChange.fire(this.cachedContentHeight);\n\t\t}\n\t}\n\n\tpublic insertAtCursor(text: string): void {\n\t\tconst inputElement = this.inputElement;\n\t\tconst start = inputElement.selectionStart;\n\t\tconst end = inputElement.selectionEnd;\n\t\tconst content = inputElement.value;\n\n\t\tif (start !== null && end !== null) {\n\t\t\tthis.value = content.substr(0, start) + text + content.substr(end);\n\t\t\tinputElement.setSelectionRange(start + 1, start + 1);\n\t\t\tthis.layout();\n\t\t}\n\t}\n\n\tpublic override dispose(): void {\n\t\tthis._hideMessage();\n\n\t\tthis.message = null;\n\n\t\tthis.actionbar?.dispose();\n\n\t\tsuper.dispose();\n\t}\n}\n\nexport interface IHistoryInputOptions extends IInputOptions {\n\thistory: string[];\n\treadonly showHistoryHint?: () => boolean;\n}\n\nexport class HistoryInputBox extends InputBox implements IHistoryNavigationWidget {\n\n\tprivate readonly history: HistoryNavigator<string>;\n\tprivate observer: MutationObserver | undefined;\n\n\tprivate readonly _onDidFocus = this._register(new Emitter<void>());\n\treadonly onDidFocus = this._onDidFocus.event;\n\n\tprivate readonly _onDidBlur = this._register(new Emitter<void>());\n\treadonly onDidBlur = this._onDidBlur.event;\n\n\tconstructor(container: HTMLElement, contextViewProvider: IContextViewProvider | undefined, options: IHistoryInputOptions) {\n\t\tconst NLS_PLACEHOLDER_HISTORY_HINT_SUFFIX_NO_PARENS = nls.localize({\n\t\t\tkey: 'history.inputbox.hint.suffix.noparens',\n\t\t\tcomment: ['Text is the suffix of an input field placeholder coming after the action the input field performs, this will be used when the input field ends in a closing parenthesis \")\", for example \"Filter (e.g. text, !exclude)\". The character inserted into the final string is \\u21C5 to represent the up and down arrow keys.']\n\t\t}, ' or {0} for history', `\\u21C5`);\n\t\tconst NLS_PLACEHOLDER_HISTORY_HINT_SUFFIX_IN_PARENS = nls.localize({\n\t\t\tkey: 'history.inputbox.hint.suffix.inparens',\n\t\t\tcomment: ['Text is the suffix of an input field placeholder coming after the action the input field performs, this will be used when the input field does NOT end in a closing parenthesis (eg. \"Find\"). The character inserted into the final string is \\u21C5 to represent the up and down arrow keys.']\n\t\t}, ' ({0} for history)', `\\u21C5`);\n\n\t\tsuper(container, contextViewProvider, options);\n\t\tthis.history = new HistoryNavigator<string>(options.history, 100);\n\n\t\t// Function to append the history suffix to the placeholder if necessary\n\t\tconst addSuffix = () => {\n\t\t\tif (options.showHistoryHint && options.showHistoryHint() && !this.placeholder.endsWith(NLS_PLACEHOLDER_HISTORY_HINT_SUFFIX_NO_PARENS) && !this.placeholder.endsWith(NLS_PLACEHOLDER_HISTORY_HINT_SUFFIX_IN_PARENS) && this.history.getHistory().length) {\n\t\t\t\tconst suffix = this.placeholder.endsWith(')') ? NLS_PLACEHOLDER_HISTORY_HINT_SUFFIX_NO_PARENS : NLS_PLACEHOLDER_HISTORY_HINT_SUFFIX_IN_PARENS;\n\t\t\t\tconst suffixedPlaceholder = this.placeholder + suffix;\n\t\t\t\tif (options.showPlaceholderOnFocus && !dom.isActiveElement(this.input)) {\n\t\t\t\t\tthis.placeholder = suffixedPlaceholder;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthis.setPlaceHolder(suffixedPlaceholder);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t// Spot the change to the textarea class attribute which occurs when it changes between non-empty and empty,\n\t\t// and add the history suffix to the placeholder if not yet present\n\t\tthis.observer = new MutationObserver((mutationList: MutationRecord[], observer: MutationObserver) => {\n\t\t\tmutationList.forEach((mutation: MutationRecord) => {\n\t\t\t\tif (!mutation.target.textContent) {\n\t\t\t\t\taddSuffix();\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t\tthis.observer.observe(this.input, { attributeFilter: ['class'] });\n\n\t\tthis.onfocus(this.input, () => addSuffix());\n\t\tthis.onblur(this.input, () => {\n\t\t\tconst resetPlaceholder = (historyHint: string) => {\n\t\t\t\tif (!this.placeholder.endsWith(historyHint)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tconst revertedPlaceholder = this.placeholder.slice(0, this.placeholder.length - historyHint.length);\n\t\t\t\t\tif (options.showPlaceholderOnFocus) {\n\t\t\t\t\t\tthis.placeholder = revertedPlaceholder;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tthis.setPlaceHolder(revertedPlaceholder);\n\t\t\t\t\t}\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t};\n\t\t\tif (!resetPlaceholder(NLS_PLACEHOLDER_HISTORY_HINT_SUFFIX_IN_PARENS)) {\n\t\t\t\tresetPlaceholder(NLS_PLACEHOLDER_HISTORY_HINT_SUFFIX_NO_PARENS);\n\t\t\t}\n\t\t});\n\t}\n\n\toverride dispose() {\n\t\tsuper.dispose();\n\t\tif (this.observer) {\n\t\t\tthis.observer.disconnect();\n\t\t\tthis.observer = undefined;\n\t\t}\n\t}\n\n\tpublic addToHistory(always?: boolean): void {\n\t\tif (this.value && (always || this.value !== this.getCurrentValue())) {\n\t\t\tthis.history.add(this.value);\n\t\t}\n\t}\n\n\tpublic prependHistory(restoredHistory: string[]): void {\n\t\tconst newHistory = this.getHistory();\n\t\tthis.clearHistory();\n\n\t\trestoredHistory.forEach((item) => {\n\t\t\tthis.history.add(item);\n\t\t});\n\n\t\tnewHistory.forEach(item => {\n\t\t\tthis.history.add(item);\n\t\t});\n\t}\n\n\tpublic getHistory(): string[] {\n\t\treturn this.history.getHistory();\n\t}\n\n\tpublic isAtFirstInHistory(): boolean {\n\t\treturn this.history.isFirst();\n\t}\n\n\tpublic isAtLastInHistory(): boolean {\n\t\treturn this.history.isLast();\n\t}\n\n\tpublic isNowhereInHistory(): boolean {\n\t\treturn this.history.isNowhere();\n\t}\n\n\tpublic showNextValue(): void {\n\t\tif (!this.history.has(this.value)) {\n\t\t\tthis.addToHistory();\n\t\t}\n\n\t\tlet next = this.getNextValue();\n\t\tif (next) {\n\t\t\tnext = next === this.value ? this.getNextValue() : next;\n\t\t}\n\n\t\tthis.value = next ?? '';\n\t\taria.status(this.value ? this.value : nls.localize('clearedInput', \"Cleared Input\"));\n\t}\n\n\tpublic showPreviousValue(): void {\n\t\tif (!this.history.has(this.value)) {\n\t\t\tthis.addToHistory();\n\t\t}\n\n\t\tlet previous = this.getPreviousValue();\n\t\tif (previous) {\n\t\t\tprevious = previous === this.value ? this.getPreviousValue() : previous;\n\t\t}\n\n\t\tif (previous) {\n\t\t\tthis.value = previous;\n\t\t\taria.status(this.value);\n\t\t}\n\t}\n\n\tpublic clearHistory(): void {\n\t\tthis.history.clear();\n\t}\n\n\tpublic override setPlaceHolder(placeHolder: string): void {\n\t\tsuper.setPlaceHolder(placeHolder);\n\t\tthis.setTooltip(placeHolder);\n\t}\n\n\tprotected override onBlur(): void {\n\t\tsuper.onBlur();\n\t\tthis._onDidBlur.fire();\n\t}\n\n\tprotected override onFocus(): void {\n\t\tsuper.onFocus();\n\t\tthis._onDidFocus.fire();\n\t}\n\n\tprivate getCurrentValue(): string | null {\n\t\tlet currentValue = this.history.current();\n\t\tif (!currentValue) {\n\t\t\tcurrentValue = this.history.last();\n\t\t\tthis.history.next();\n\t\t}\n\t\treturn currentValue;\n\t}\n\n\tprivate getPreviousValue(): string | null {\n\t\treturn this.history.previous() || this.history.first();\n\t}\n\n\tprivate getNextValue(): string | null {\n\t\treturn this.history.next();\n\t}\n}\n"],
  "mappings": "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",
  "names": ["MessageType"]
}
