{
  "version": 3,
  "sources": ["../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/base/browser/ui/actionbar/actionbar.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport {\n\tActionRunner,\n\ttype IAction,\n\ttype IActionRunner,\n\ttype IRunEvent,\n\tSeparator,\n} from \"../../../common/actions.js\";\nimport { Emitter } from \"../../../common/event.js\";\nimport { KeyCode, KeyMod } from \"../../../common/keyCodes.js\";\nimport {\n\tDisposable,\n\tDisposableMap,\n\tDisposableStore,\n\ttype IDisposable,\n\tdispose,\n} from \"../../../common/lifecycle.js\";\nimport * as types from \"../../../common/types.js\";\nimport * as DOM from \"../../dom.js\";\nimport { StandardKeyboardEvent } from \"../../keyboardEvent.js\";\nimport type { IHoverDelegate } from \"../hover/hoverDelegate.js\";\nimport { createInstantHoverDelegate } from \"../hover/hoverDelegateFactory.js\";\nimport {\n\tActionViewItem,\n\tBaseActionViewItem,\n\ttype IActionViewItemOptions,\n} from \"./actionViewItems.js\";\nimport \"./actionbar.css\";\n\nexport interface IActionViewItem extends IDisposable {\n\taction: IAction;\n\tactionRunner: IActionRunner;\n\tsetActionContext(context: unknown): void;\n\trender(element: HTMLElement): void;\n\tisEnabled(): boolean;\n\tfocus(fromRight?: boolean): void; // TODO@isidorn what is this?\n\tblur(): void;\n\tshowHover?(): void;\n}\n\nexport interface IActionViewItemProvider {\n\t(\n\t\taction: IAction,\n\t\toptions: IActionViewItemOptions,\n\t): IActionViewItem | undefined;\n}\n\nexport enum ActionsOrientation {\n\tHORIZONTAL = 0,\n\tVERTICAL = 1,\n}\n\nexport interface ActionTrigger {\n\tkeys?: KeyCode[];\n\tkeyDown: boolean;\n}\n\nexport interface IActionBarOptions {\n\treadonly orientation?: ActionsOrientation;\n\treadonly context?: unknown;\n\treadonly actionViewItemProvider?: IActionViewItemProvider;\n\treadonly actionRunner?: IActionRunner;\n\treadonly ariaLabel?: string;\n\treadonly ariaRole?: string;\n\treadonly triggerKeys?: ActionTrigger;\n\treadonly allowContextMenu?: boolean;\n\treadonly preventLoopNavigation?: boolean;\n\treadonly focusOnlyEnabledItems?: boolean;\n\treadonly hoverDelegate?: IHoverDelegate;\n\t/**\n\t * If true, toggled primary items are highlighted with a background color.\n\t * Some action bars exclusively use icon states, we don't want to enable this for them.\n\t * Thus, this is opt-in.\n\t */\n\treadonly highlightToggledItems?: boolean;\n}\n\nexport interface IActionOptions extends IActionViewItemOptions {\n\tindex?: number;\n}\n\nexport class ActionBar extends Disposable implements IActionRunner {\n\tprivate readonly options: IActionBarOptions;\n\tprivate readonly _hoverDelegate: IHoverDelegate;\n\n\tprivate _actionRunner: IActionRunner;\n\tprivate readonly _actionRunnerDisposables = this._register(\n\t\tnew DisposableStore(),\n\t);\n\tprivate _context: unknown;\n\tprivate readonly _orientation: ActionsOrientation;\n\tprivate readonly _triggerKeys: {\n\t\tkeys: KeyCode[];\n\t\tkeyDown: boolean;\n\t};\n\n\t// View Items\n\tviewItems: IActionViewItem[];\n\tprivate readonly viewItemDisposables = this._register(\n\t\tnew DisposableMap<IActionViewItem>(),\n\t);\n\tprivate previouslyFocusedItem?: number;\n\tprotected focusedItem?: number;\n\tprivate focusTracker: DOM.IFocusTracker;\n\n\t// Trigger Key Tracking\n\tprivate triggerKeyDown = false;\n\n\tprivate focusable = true;\n\n\t// Elements\n\tdomNode: HTMLElement;\n\tprotected readonly actionsList: HTMLElement;\n\n\tprivate readonly _onDidBlur = this._register(new Emitter<void>());\n\treadonly onDidBlur = this._onDidBlur.event;\n\n\tprivate readonly _onDidCancel = this._register(\n\t\tnew Emitter<void>({\n\t\t\tonWillAddFirstListener: () => (this.cancelHasListener = true),\n\t\t}),\n\t);\n\treadonly onDidCancel = this._onDidCancel.event;\n\tprivate cancelHasListener = false;\n\n\tprivate readonly _onDidRun = this._register(new Emitter<IRunEvent>());\n\treadonly onDidRun = this._onDidRun.event;\n\n\tprivate readonly _onWillRun = this._register(new Emitter<IRunEvent>());\n\treadonly onWillRun = this._onWillRun.event;\n\n\tconstructor(container: HTMLElement, options: IActionBarOptions = {}) {\n\t\tsuper();\n\n\t\tthis.options = options;\n\t\tthis._context = options.context ?? null;\n\t\tthis._orientation =\n\t\t\tthis.options.orientation ?? ActionsOrientation.HORIZONTAL;\n\t\tthis._triggerKeys = {\n\t\t\tkeyDown: this.options.triggerKeys?.keyDown ?? false,\n\t\t\tkeys: this.options.triggerKeys?.keys ?? [\n\t\t\t\tKeyCode.Enter,\n\t\t\t\tKeyCode.Space,\n\t\t\t],\n\t\t};\n\n\t\tthis._hoverDelegate =\n\t\t\toptions.hoverDelegate ??\n\t\t\tthis._register(createInstantHoverDelegate());\n\n\t\tif (this.options.actionRunner) {\n\t\t\tthis._actionRunner = this.options.actionRunner;\n\t\t} else {\n\t\t\tthis._actionRunner = new ActionRunner();\n\t\t\tthis._actionRunnerDisposables.add(this._actionRunner);\n\t\t}\n\n\t\tthis._actionRunnerDisposables.add(\n\t\t\tthis._actionRunner.onDidRun((e) => this._onDidRun.fire(e)),\n\t\t);\n\t\tthis._actionRunnerDisposables.add(\n\t\t\tthis._actionRunner.onWillRun((e) => this._onWillRun.fire(e)),\n\t\t);\n\n\t\tthis.viewItems = [];\n\t\tthis.focusedItem = undefined;\n\n\t\tthis.domNode = document.createElement(\"div\");\n\t\tthis.domNode.className = \"monaco-action-bar\";\n\n\t\tlet previousKeys: KeyCode[];\n\t\tlet nextKeys: KeyCode[];\n\n\t\tswitch (this._orientation) {\n\t\t\tcase ActionsOrientation.HORIZONTAL:\n\t\t\t\tpreviousKeys = [KeyCode.LeftArrow];\n\t\t\t\tnextKeys = [KeyCode.RightArrow];\n\t\t\t\tbreak;\n\t\t\tcase ActionsOrientation.VERTICAL:\n\t\t\t\tpreviousKeys = [KeyCode.UpArrow];\n\t\t\t\tnextKeys = [KeyCode.DownArrow];\n\t\t\t\tthis.domNode.className += \" vertical\";\n\t\t\t\tbreak;\n\t\t}\n\n\t\tthis._register(\n\t\t\tDOM.addDisposableListener(\n\t\t\t\tthis.domNode,\n\t\t\t\tDOM.EventType.KEY_DOWN,\n\t\t\t\t(e) => {\n\t\t\t\t\tconst event = new StandardKeyboardEvent(e);\n\t\t\t\t\tlet eventHandled = true;\n\t\t\t\t\tconst focusedItem =\n\t\t\t\t\t\ttypeof this.focusedItem === \"number\"\n\t\t\t\t\t\t\t? this.viewItems[this.focusedItem]\n\t\t\t\t\t\t\t: undefined;\n\n\t\t\t\t\tif (\n\t\t\t\t\t\tpreviousKeys &&\n\t\t\t\t\t\t(event.equals(previousKeys[0]) ||\n\t\t\t\t\t\t\tevent.equals(previousKeys[1]))\n\t\t\t\t\t) {\n\t\t\t\t\t\teventHandled = this.focusPrevious();\n\t\t\t\t\t} else if (\n\t\t\t\t\t\tnextKeys &&\n\t\t\t\t\t\t(event.equals(nextKeys[0]) || event.equals(nextKeys[1]))\n\t\t\t\t\t) {\n\t\t\t\t\t\teventHandled = this.focusNext();\n\t\t\t\t\t} else if (\n\t\t\t\t\t\tevent.equals(KeyCode.Escape) &&\n\t\t\t\t\t\tthis.cancelHasListener\n\t\t\t\t\t) {\n\t\t\t\t\t\tthis._onDidCancel.fire();\n\t\t\t\t\t} else if (event.equals(KeyCode.Home)) {\n\t\t\t\t\t\teventHandled = this.focusFirst();\n\t\t\t\t\t} else if (event.equals(KeyCode.End)) {\n\t\t\t\t\t\teventHandled = this.focusLast();\n\t\t\t\t\t} else if (\n\t\t\t\t\t\tevent.equals(KeyCode.Tab) &&\n\t\t\t\t\t\tfocusedItem instanceof BaseActionViewItem &&\n\t\t\t\t\t\tfocusedItem.trapsArrowNavigation\n\t\t\t\t\t) {\n\t\t\t\t\t\t// Tab, so forcibly focus next #219199\n\t\t\t\t\t\teventHandled = this.focusNext(undefined, true);\n\t\t\t\t\t} else if (this.isTriggerKeyEvent(event)) {\n\t\t\t\t\t\t// Staying out of the else branch even if not triggered\n\t\t\t\t\t\tif (this._triggerKeys.keyDown) {\n\t\t\t\t\t\t\tthis.doTrigger(event);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.triggerKeyDown = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\teventHandled = false;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (eventHandled) {\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t),\n\t\t);\n\n\t\tthis._register(\n\t\t\tDOM.addDisposableListener(\n\t\t\t\tthis.domNode,\n\t\t\t\tDOM.EventType.KEY_UP,\n\t\t\t\t(e) => {\n\t\t\t\t\tconst event = new StandardKeyboardEvent(e);\n\n\t\t\t\t\t// Run action on Enter/Space\n\t\t\t\t\tif (this.isTriggerKeyEvent(event)) {\n\t\t\t\t\t\tif (!this._triggerKeys.keyDown && this.triggerKeyDown) {\n\t\t\t\t\t\t\tthis.triggerKeyDown = false;\n\t\t\t\t\t\t\tthis.doTrigger(event);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t}\n\n\t\t\t\t\t// Recompute focused item\n\t\t\t\t\telse if (\n\t\t\t\t\t\tevent.equals(KeyCode.Tab) ||\n\t\t\t\t\t\tevent.equals(KeyMod.Shift | KeyCode.Tab) ||\n\t\t\t\t\t\tevent.equals(KeyCode.UpArrow) ||\n\t\t\t\t\t\tevent.equals(KeyCode.DownArrow) ||\n\t\t\t\t\t\tevent.equals(KeyCode.LeftArrow) ||\n\t\t\t\t\t\tevent.equals(KeyCode.RightArrow)\n\t\t\t\t\t) {\n\t\t\t\t\t\tthis.updateFocusedItem();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t),\n\t\t);\n\n\t\tthis.focusTracker = this._register(DOM.trackFocus(this.domNode));\n\t\tthis._register(\n\t\t\tthis.focusTracker.onDidBlur(() => {\n\t\t\t\tif (\n\t\t\t\t\tDOM.getActiveElement() === this.domNode ||\n\t\t\t\t\t!DOM.isAncestor(DOM.getActiveElement(), this.domNode)\n\t\t\t\t) {\n\t\t\t\t\tthis._onDidBlur.fire();\n\t\t\t\t\tthis.previouslyFocusedItem = this.focusedItem;\n\t\t\t\t\tthis.focusedItem = undefined;\n\t\t\t\t\tthis.triggerKeyDown = false;\n\t\t\t\t}\n\t\t\t}),\n\t\t);\n\n\t\tthis._register(\n\t\t\tthis.focusTracker.onDidFocus(() => this.updateFocusedItem()),\n\t\t);\n\n\t\tthis.actionsList = document.createElement(\"ul\");\n\t\tthis.actionsList.className = \"actions-container\";\n\t\tif (this.options.highlightToggledItems) {\n\t\t\tthis.actionsList.classList.add(\"highlight-toggled\");\n\t\t}\n\t\tthis.actionsList.setAttribute(\n\t\t\t\"role\",\n\t\t\tthis.options.ariaRole || \"toolbar\",\n\t\t);\n\n\t\tif (this.options.ariaLabel) {\n\t\t\tthis.actionsList.setAttribute(\"aria-label\", this.options.ariaLabel);\n\t\t}\n\n\t\tthis.domNode.appendChild(this.actionsList);\n\n\t\tcontainer.appendChild(this.domNode);\n\t}\n\n\tprivate refreshRole(): void {\n\t\tif (this.length() >= 1) {\n\t\t\tthis.actionsList.setAttribute(\n\t\t\t\t\"role\",\n\t\t\t\tthis.options.ariaRole || \"toolbar\",\n\t\t\t);\n\t\t} else {\n\t\t\tthis.actionsList.setAttribute(\"role\", \"presentation\");\n\t\t}\n\t}\n\n\tsetAriaLabel(label: string): void {\n\t\tif (label) {\n\t\t\tthis.actionsList.setAttribute(\"aria-label\", label);\n\t\t} else {\n\t\t\tthis.actionsList.removeAttribute(\"aria-label\");\n\t\t}\n\t}\n\n\t// Some action bars should not be focusable at times\n\t// When an action bar is not focusable make sure to make all the elements inside it not focusable\n\t// When an action bar is focusable again, make sure the first item can be focused\n\tsetFocusable(focusable: boolean): void {\n\t\tthis.focusable = focusable;\n\t\tif (this.focusable) {\n\t\t\tconst firstEnabled = this.viewItems.find(\n\t\t\t\t(vi) => vi instanceof BaseActionViewItem && vi.isEnabled(),\n\t\t\t);\n\t\t\tif (firstEnabled instanceof BaseActionViewItem) {\n\t\t\t\tfirstEnabled.setFocusable(true);\n\t\t\t}\n\t\t} else {\n\t\t\tthis.viewItems.forEach((vi) => {\n\t\t\t\tif (vi instanceof BaseActionViewItem) {\n\t\t\t\t\tvi.setFocusable(false);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\tprivate isTriggerKeyEvent(event: StandardKeyboardEvent): boolean {\n\t\tlet ret = false;\n\t\tthis._triggerKeys.keys.forEach((keyCode) => {\n\t\t\tret = ret || event.equals(keyCode);\n\t\t});\n\n\t\treturn ret;\n\t}\n\n\tprivate updateFocusedItem(): void {\n\t\tfor (let i = 0; i < this.actionsList.children.length; i++) {\n\t\t\tconst elem = this.actionsList.children[i];\n\t\t\tif (DOM.isAncestor(DOM.getActiveElement(), elem)) {\n\t\t\t\tthis.focusedItem = i;\n\t\t\t\tthis.viewItems[this.focusedItem]?.showHover?.();\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tget context(): unknown {\n\t\treturn this._context;\n\t}\n\n\tset context(context: unknown) {\n\t\tthis._context = context;\n\t\tthis.viewItems.forEach((i) => i.setActionContext(context));\n\t}\n\n\tget actionRunner(): IActionRunner {\n\t\treturn this._actionRunner;\n\t}\n\n\tset actionRunner(actionRunner: IActionRunner) {\n\t\tthis._actionRunner = actionRunner;\n\n\t\t// when setting a new `IActionRunner` make sure to dispose old listeners and\n\t\t// start to forward events from the new listener\n\t\tthis._actionRunnerDisposables.clear();\n\t\tthis._actionRunnerDisposables.add(\n\t\t\tthis._actionRunner.onDidRun((e) => this._onDidRun.fire(e)),\n\t\t);\n\t\tthis._actionRunnerDisposables.add(\n\t\t\tthis._actionRunner.onWillRun((e) => this._onWillRun.fire(e)),\n\t\t);\n\t\tthis.viewItems.forEach((item) => (item.actionRunner = actionRunner));\n\t}\n\n\tgetContainer(): HTMLElement {\n\t\treturn this.domNode;\n\t}\n\n\thasAction(action: IAction): boolean {\n\t\treturn (\n\t\t\tthis.viewItems.findIndex(\n\t\t\t\t(candidate) => candidate.action.id === action.id,\n\t\t\t) !== -1\n\t\t);\n\t}\n\n\tgetAction(indexOrElement: number | HTMLElement): IAction | undefined {\n\t\t// by index\n\t\tif (typeof indexOrElement === \"number\") {\n\t\t\treturn this.viewItems[indexOrElement]?.action;\n\t\t}\n\n\t\t// by element\n\t\tif (DOM.isHTMLElement(indexOrElement)) {\n\t\t\twhile (indexOrElement.parentElement !== this.actionsList) {\n\t\t\t\tif (!indexOrElement.parentElement) {\n\t\t\t\t\treturn undefined;\n\t\t\t\t}\n\t\t\t\tindexOrElement = indexOrElement.parentElement;\n\t\t\t}\n\t\t\tfor (let i = 0; i < this.actionsList.childNodes.length; i++) {\n\t\t\t\tif (this.actionsList.childNodes[i] === indexOrElement) {\n\t\t\t\t\treturn this.viewItems[i].action;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn undefined;\n\t}\n\n\tpush(\n\t\targ: IAction | ReadonlyArray<IAction>,\n\t\toptions: IActionOptions = {},\n\t): void {\n\t\tconst actions: ReadonlyArray<IAction> = Array.isArray(arg)\n\t\t\t? arg\n\t\t\t: [arg];\n\n\t\tlet index = types.isNumber(options.index) ? options.index : null;\n\n\t\tactions.forEach((action: IAction) => {\n\t\t\tconst actionViewItemElement = document.createElement(\"li\");\n\t\t\tactionViewItemElement.className = \"action-item\";\n\t\t\tactionViewItemElement.setAttribute(\"role\", \"presentation\");\n\n\t\t\tlet item: IActionViewItem | undefined;\n\n\t\t\tconst viewItemOptions: IActionViewItemOptions = {\n\t\t\t\thoverDelegate: this._hoverDelegate,\n\t\t\t\t...options,\n\t\t\t\tisTabList: this.options.ariaRole === \"tablist\",\n\t\t\t};\n\t\t\tif (this.options.actionViewItemProvider) {\n\t\t\t\titem = this.options.actionViewItemProvider(\n\t\t\t\t\taction,\n\t\t\t\t\tviewItemOptions,\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tif (!item) {\n\t\t\t\titem = new ActionViewItem(\n\t\t\t\t\tthis.context,\n\t\t\t\t\taction,\n\t\t\t\t\tviewItemOptions,\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t// Prevent native context menu on actions\n\t\t\tif (!this.options.allowContextMenu) {\n\t\t\t\tthis.viewItemDisposables.set(\n\t\t\t\t\titem,\n\t\t\t\t\tDOM.addDisposableListener(\n\t\t\t\t\t\tactionViewItemElement,\n\t\t\t\t\t\tDOM.EventType.CONTEXT_MENU,\n\t\t\t\t\t\t(e: DOM.EventLike) => {\n\t\t\t\t\t\t\tDOM.EventHelper.stop(e, true);\n\t\t\t\t\t\t},\n\t\t\t\t\t),\n\t\t\t\t);\n\t\t\t}\n\n\t\t\titem.actionRunner = this._actionRunner;\n\t\t\titem.setActionContext(this.context);\n\t\t\titem.render(actionViewItemElement);\n\n\t\t\tif (\n\t\t\t\tthis.focusable &&\n\t\t\t\titem instanceof BaseActionViewItem &&\n\t\t\t\tthis.viewItems.length === 0\n\t\t\t) {\n\t\t\t\t// We need to allow for the first enabled item to be focused on using tab navigation #106441\n\t\t\t\titem.setFocusable(true);\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\tindex === null ||\n\t\t\t\tindex < 0 ||\n\t\t\t\tindex >= this.actionsList.children.length\n\t\t\t) {\n\t\t\t\tthis.actionsList.appendChild(actionViewItemElement);\n\t\t\t\tthis.viewItems.push(item);\n\t\t\t} else {\n\t\t\t\tthis.actionsList.insertBefore(\n\t\t\t\t\tactionViewItemElement,\n\t\t\t\t\tthis.actionsList.children[index],\n\t\t\t\t);\n\t\t\t\tthis.viewItems.splice(index, 0, item);\n\t\t\t\tindex++;\n\t\t\t}\n\t\t});\n\t\tif (typeof this.focusedItem === \"number\") {\n\t\t\t// After a clear actions might be re-added to simply toggle some actions. We should preserve focus #97128\n\t\t\tthis.focus(this.focusedItem);\n\t\t}\n\t\tthis.refreshRole();\n\t}\n\n\tgetWidth(index: number): number {\n\t\tif (index >= 0 && index < this.actionsList.children.length) {\n\t\t\tconst item = this.actionsList.children.item(index);\n\t\t\tif (item) {\n\t\t\t\treturn item.clientWidth;\n\t\t\t}\n\t\t}\n\n\t\treturn 0;\n\t}\n\n\tgetHeight(index: number): number {\n\t\tif (index >= 0 && index < this.actionsList.children.length) {\n\t\t\tconst item = this.actionsList.children.item(index);\n\t\t\tif (item) {\n\t\t\t\treturn item.clientHeight;\n\t\t\t}\n\t\t}\n\n\t\treturn 0;\n\t}\n\n\tpull(index: number): void {\n\t\tif (index >= 0 && index < this.viewItems.length) {\n\t\t\tthis.actionsList.childNodes[index].remove();\n\t\t\tthis.viewItemDisposables.deleteAndDispose(this.viewItems[index]);\n\t\t\tdispose(this.viewItems.splice(index, 1));\n\t\t\tthis.refreshRole();\n\t\t}\n\t}\n\n\tclear(): void {\n\t\tif (this.isEmpty()) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.viewItems = dispose(this.viewItems);\n\t\tthis.viewItemDisposables.clearAndDisposeAll();\n\t\tDOM.clearNode(this.actionsList);\n\t\tthis.refreshRole();\n\t}\n\n\tlength(): number {\n\t\treturn this.viewItems.length;\n\t}\n\n\tisEmpty(): boolean {\n\t\treturn this.viewItems.length === 0;\n\t}\n\n\tfocus(index?: number): void;\n\tfocus(selectFirst?: boolean): void;\n\tfocus(arg?: number | boolean): void {\n\t\tlet selectFirst = false;\n\t\tlet index: number | undefined;\n\t\tif (arg === undefined) {\n\t\t\tselectFirst = true;\n\t\t} else if (typeof arg === \"number\") {\n\t\t\tindex = arg;\n\t\t} else if (typeof arg === \"boolean\") {\n\t\t\tselectFirst = arg;\n\t\t}\n\n\t\tif (selectFirst && typeof this.focusedItem === \"undefined\") {\n\t\t\tconst firstEnabled = this.viewItems.findIndex((item) =>\n\t\t\t\titem.isEnabled(),\n\t\t\t);\n\t\t\t// Focus the first enabled item\n\t\t\tthis.focusedItem = firstEnabled === -1 ? undefined : firstEnabled;\n\t\t\tthis.updateFocus(undefined, undefined, true);\n\t\t} else {\n\t\t\tif (index !== undefined) {\n\t\t\t\tthis.focusedItem = index;\n\t\t\t}\n\n\t\t\tthis.updateFocus(undefined, undefined, true);\n\t\t}\n\t}\n\n\tprivate focusFirst(): boolean {\n\t\tthis.focusedItem = this.length() - 1;\n\t\treturn this.focusNext(true);\n\t}\n\n\tprivate focusLast(): boolean {\n\t\tthis.focusedItem = 0;\n\t\treturn this.focusPrevious(true);\n\t}\n\n\tprotected focusNext(forceLoop?: boolean, forceFocus?: boolean): boolean {\n\t\tif (typeof this.focusedItem === \"undefined\") {\n\t\t\tthis.focusedItem = this.viewItems.length - 1;\n\t\t} else if (this.viewItems.length <= 1) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst startIndex = this.focusedItem;\n\t\tlet item: IActionViewItem;\n\t\tdo {\n\t\t\tif (\n\t\t\t\t!forceLoop &&\n\t\t\t\tthis.options.preventLoopNavigation &&\n\t\t\t\tthis.focusedItem + 1 >= this.viewItems.length\n\t\t\t) {\n\t\t\t\tthis.focusedItem = startIndex;\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tthis.focusedItem = (this.focusedItem + 1) % this.viewItems.length;\n\t\t\titem = this.viewItems[this.focusedItem];\n\t\t} while (\n\t\t\tthis.focusedItem !== startIndex &&\n\t\t\t((this.options.focusOnlyEnabledItems && !item.isEnabled()) ||\n\t\t\t\titem.action.id === Separator.ID)\n\t\t);\n\n\t\tthis.updateFocus(undefined, undefined, forceFocus);\n\t\treturn true;\n\t}\n\n\tprotected focusPrevious(forceLoop?: boolean): boolean {\n\t\tif (typeof this.focusedItem === \"undefined\") {\n\t\t\tthis.focusedItem = 0;\n\t\t} else if (this.viewItems.length <= 1) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst startIndex = this.focusedItem;\n\t\tlet item: IActionViewItem;\n\n\t\tdo {\n\t\t\tthis.focusedItem = this.focusedItem - 1;\n\t\t\tif (this.focusedItem < 0) {\n\t\t\t\tif (!forceLoop && this.options.preventLoopNavigation) {\n\t\t\t\t\tthis.focusedItem = startIndex;\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tthis.focusedItem = this.viewItems.length - 1;\n\t\t\t}\n\t\t\titem = this.viewItems[this.focusedItem];\n\t\t} while (\n\t\t\tthis.focusedItem !== startIndex &&\n\t\t\t((this.options.focusOnlyEnabledItems && !item.isEnabled()) ||\n\t\t\t\titem.action.id === Separator.ID)\n\t\t);\n\n\t\tthis.updateFocus(true);\n\t\treturn true;\n\t}\n\n\tprotected updateFocus(\n\t\tfromRight?: boolean,\n\t\tpreventScroll?: boolean,\n\t\tforceFocus = false,\n\t): void {\n\t\tif (typeof this.focusedItem === \"undefined\") {\n\t\t\tthis.actionsList.focus({ preventScroll });\n\t\t}\n\n\t\tif (\n\t\t\tthis.previouslyFocusedItem !== undefined &&\n\t\t\tthis.previouslyFocusedItem !== this.focusedItem\n\t\t) {\n\t\t\tthis.viewItems[this.previouslyFocusedItem]?.blur();\n\t\t}\n\t\tconst actionViewItem =\n\t\t\tthis.focusedItem !== undefined\n\t\t\t\t? this.viewItems[this.focusedItem]\n\t\t\t\t: undefined;\n\t\tif (actionViewItem) {\n\t\t\tlet focusItem = true;\n\n\t\t\tif (!types.isFunction(actionViewItem.focus)) {\n\t\t\t\tfocusItem = false;\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\tthis.options.focusOnlyEnabledItems &&\n\t\t\t\ttypes.isFunction(actionViewItem.isEnabled) &&\n\t\t\t\t!actionViewItem.isEnabled()\n\t\t\t) {\n\t\t\t\tfocusItem = false;\n\t\t\t}\n\n\t\t\tif (actionViewItem.action.id === Separator.ID) {\n\t\t\t\tfocusItem = false;\n\t\t\t}\n\t\t\tif (!focusItem) {\n\t\t\t\tthis.actionsList.focus({ preventScroll });\n\t\t\t\tthis.previouslyFocusedItem = undefined;\n\t\t\t} else if (\n\t\t\t\tforceFocus ||\n\t\t\t\tthis.previouslyFocusedItem !== this.focusedItem\n\t\t\t) {\n\t\t\t\tactionViewItem.focus(fromRight);\n\t\t\t\tthis.previouslyFocusedItem = this.focusedItem;\n\t\t\t}\n\t\t\tif (focusItem) {\n\t\t\t\tactionViewItem.showHover?.();\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate doTrigger(event: StandardKeyboardEvent): void {\n\t\tif (typeof this.focusedItem === \"undefined\") {\n\t\t\treturn; //nothing to focus\n\t\t}\n\n\t\t// trigger action\n\t\tconst actionViewItem = this.viewItems[this.focusedItem];\n\t\tif (actionViewItem instanceof BaseActionViewItem) {\n\t\t\tconst context =\n\t\t\t\tactionViewItem._context === null ||\n\t\t\t\tactionViewItem._context === undefined\n\t\t\t\t\t? event\n\t\t\t\t\t: actionViewItem._context;\n\t\t\tthis.run(actionViewItem._action, context);\n\t\t}\n\t}\n\n\tasync run(action: IAction, context?: unknown): Promise<void> {\n\t\tawait this._actionRunner.run(action, context);\n\t}\n\n\toverride dispose(): void {\n\t\tthis._context = undefined;\n\t\tthis.viewItems = dispose(this.viewItems);\n\t\tthis.getContainer().remove();\n\t\tsuper.dispose();\n\t}\n}\n\nexport function prepareActions(actions: IAction[]): IAction[] {\n\tif (!actions.length) {\n\t\treturn actions;\n\t}\n\n\t// Clean up leading separators\n\tlet firstIndexOfAction = -1;\n\tfor (let i = 0; i < actions.length; i++) {\n\t\tif (actions[i].id === Separator.ID) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tfirstIndexOfAction = i;\n\t\tbreak;\n\t}\n\n\tif (firstIndexOfAction === -1) {\n\t\treturn [];\n\t}\n\n\tactions = actions.slice(firstIndexOfAction);\n\n\t// Clean up trailing separators\n\tfor (let h = actions.length - 1; h >= 0; h--) {\n\t\tconst isSeparator = actions[h].id === Separator.ID;\n\t\tif (isSeparator) {\n\t\t\tactions.splice(h, 1);\n\t\t} else {\n\t\t\tbreak;\n\t\t}\n\t}\n\n\t// Clean up separator duplicates\n\tlet foundAction = false;\n\tfor (let k = actions.length - 1; k >= 0; k--) {\n\t\tconst isSeparator = actions[k].id === Separator.ID;\n\t\tif (isSeparator && !foundAction) {\n\t\t\tactions.splice(k, 1);\n\t\t} else if (!isSeparator) {\n\t\t\tfoundAction = true;\n\t\t} else if (isSeparator) {\n\t\t\tfoundAction = false;\n\t\t}\n\t}\n\n\treturn actions;\n}\n"],
  "mappings": "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",
  "names": ["ActionsOrientation"]
}
