{
  "version": 3,
  "sources": ["../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/base/common/errorMessage.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as arrays from './arrays.js';\nimport * as types from './types.js';\nimport * as nls from '../../nls.js';\nimport { IAction } from './actions.js';\n\nfunction exceptionToErrorMessage(exception: any, verbose: boolean): string {\n\tif (verbose && (exception.stack || exception.stacktrace)) {\n\t\treturn nls.localize('stackTrace.format', \"{0}: {1}\", detectSystemErrorMessage(exception), stackToString(exception.stack) || stackToString(exception.stacktrace));\n\t}\n\n\treturn detectSystemErrorMessage(exception);\n}\n\nfunction stackToString(stack: string[] | string | undefined): string | undefined {\n\tif (Array.isArray(stack)) {\n\t\treturn stack.join('\\n');\n\t}\n\n\treturn stack;\n}\n\nfunction detectSystemErrorMessage(exception: any): string {\n\n\t// Custom node.js error from us\n\tif (exception.code === 'ERR_UNC_HOST_NOT_ALLOWED') {\n\t\treturn `${exception.message}. Please update the 'security.allowedUNCHosts' setting if you want to allow this host.`;\n\t}\n\n\t// See https://nodejs.org/api/errors.html#errors_class_system_error\n\tif (typeof exception.code === 'string' && typeof exception.errno === 'number' && typeof exception.syscall === 'string') {\n\t\treturn nls.localize('nodeExceptionMessage', \"A system error occurred ({0})\", exception.message);\n\t}\n\n\treturn exception.message || nls.localize('error.defaultMessage', \"An unknown error occurred. Please consult the log for more details.\");\n}\n\n/**\n * Tries to generate a human readable error message out of the error. If the verbose parameter\n * is set to true, the error message will include stacktrace details if provided.\n *\n * @returns A string containing the error message.\n */\nexport function toErrorMessage(error: any = null, verbose: boolean = false): string {\n\tif (!error) {\n\t\treturn nls.localize('error.defaultMessage', \"An unknown error occurred. Please consult the log for more details.\");\n\t}\n\n\tif (Array.isArray(error)) {\n\t\tconst errors: any[] = arrays.coalesce(error);\n\t\tconst msg = toErrorMessage(errors[0], verbose);\n\n\t\tif (errors.length > 1) {\n\t\t\treturn nls.localize('error.moreErrors', \"{0} ({1} errors in total)\", msg, errors.length);\n\t\t}\n\n\t\treturn msg;\n\t}\n\n\tif (types.isString(error)) {\n\t\treturn error;\n\t}\n\n\tif (error.detail) {\n\t\tconst detail = error.detail;\n\n\t\tif (detail.error) {\n\t\t\treturn exceptionToErrorMessage(detail.error, verbose);\n\t\t}\n\n\t\tif (detail.exception) {\n\t\t\treturn exceptionToErrorMessage(detail.exception, verbose);\n\t\t}\n\t}\n\n\tif (error.stack) {\n\t\treturn exceptionToErrorMessage(error, verbose);\n\t}\n\n\tif (error.message) {\n\t\treturn error.message;\n\t}\n\n\treturn nls.localize('error.defaultMessage', \"An unknown error occurred. Please consult the log for more details.\");\n}\n\n\nexport interface IErrorWithActions extends Error {\n\tactions: IAction[];\n}\n\nexport function isErrorWithActions(obj: unknown): obj is IErrorWithActions {\n\tconst candidate = obj as IErrorWithActions | undefined;\n\n\treturn candidate instanceof Error && Array.isArray(candidate.actions);\n}\n\nexport function createErrorWithActions(messageOrError: string | Error, actions: IAction[]): IErrorWithActions {\n\tlet error: IErrorWithActions;\n\tif (typeof messageOrError === 'string') {\n\t\terror = new Error(messageOrError) as IErrorWithActions;\n\t} else {\n\t\terror = messageOrError as IErrorWithActions;\n\t}\n\n\terror.actions = actions;\n\n\treturn error;\n}\n"],
  "mappings": ";;AAKA,YAAY,YAAY;AACxB,YAAY,WAAW;AACvB,YAAY,SAAS;AACrB,SAAS,eAAe;AAExB,SAAS,wBAAwB,WAAgB,SAA0B;AAC1E,MAAI,YAAY,UAAU,SAAS,UAAU,aAAa;AACzD,WAAO,IAAI,SAAS,qBAAqB,YAAY,yBAAyB,SAAS,GAAG,cAAc,UAAU,KAAK,KAAK,cAAc,UAAU,UAAU,CAAC;AAAA,EAChK;AAEA,SAAO,yBAAyB,SAAS;AAC1C;AANS;AAQT,SAAS,cAAc,OAA0D;AAChF,MAAI,MAAM,QAAQ,KAAK,GAAG;AACzB,WAAO,MAAM,KAAK,IAAI;AAAA,EACvB;AAEA,SAAO;AACR;AANS;AAQT,SAAS,yBAAyB,WAAwB;AAGzD,MAAI,UAAU,SAAS,4BAA4B;AAClD,WAAO,GAAG,UAAU,OAAO;AAAA,EAC5B;AAGA,MAAI,OAAO,UAAU,SAAS,YAAY,OAAO,UAAU,UAAU,YAAY,OAAO,UAAU,YAAY,UAAU;AACvH,WAAO,IAAI,SAAS,wBAAwB,iCAAiC,UAAU,OAAO;AAAA,EAC/F;AAEA,SAAO,UAAU,WAAW,IAAI,SAAS,wBAAwB,qEAAqE;AACvI;AAbS;AAqBF,SAAS,eAAe,QAAa,MAAM,UAAmB,OAAe;AACnF,MAAI,CAAC,OAAO;AACX,WAAO,IAAI,SAAS,wBAAwB,qEAAqE;AAAA,EAClH;AAEA,MAAI,MAAM,QAAQ,KAAK,GAAG;AACzB,UAAM,SAAgB,OAAO,SAAS,KAAK;AAC3C,UAAM,MAAM,eAAe,OAAO,CAAC,GAAG,OAAO;AAE7C,QAAI,OAAO,SAAS,GAAG;AACtB,aAAO,IAAI,SAAS,oBAAoB,6BAA6B,KAAK,OAAO,MAAM;AAAA,IACxF;AAEA,WAAO;AAAA,EACR;AAEA,MAAI,MAAM,SAAS,KAAK,GAAG;AAC1B,WAAO;AAAA,EACR;AAEA,MAAI,MAAM,QAAQ;AACjB,UAAM,SAAS,MAAM;AAErB,QAAI,OAAO,OAAO;AACjB,aAAO,wBAAwB,OAAO,OAAO,OAAO;AAAA,IACrD;AAEA,QAAI,OAAO,WAAW;AACrB,aAAO,wBAAwB,OAAO,WAAW,OAAO;AAAA,IACzD;AAAA,EACD;AAEA,MAAI,MAAM,OAAO;AAChB,WAAO,wBAAwB,OAAO,OAAO;AAAA,EAC9C;AAEA,MAAI,MAAM,SAAS;AAClB,WAAO,MAAM;AAAA,EACd;AAEA,SAAO,IAAI,SAAS,wBAAwB,qEAAqE;AAClH;AAzCgB;AAgDT,SAAS,mBAAmB,KAAwC;AAC1E,QAAM,YAAY;AAElB,SAAO,qBAAqB,SAAS,MAAM,QAAQ,UAAU,OAAO;AACrE;AAJgB;AAMT,SAAS,uBAAuB,gBAAgC,SAAuC;AAC7G,MAAI;AACJ,MAAI,OAAO,mBAAmB,UAAU;AACvC,YAAQ,IAAI,MAAM,cAAc;AAAA,EACjC,OAAO;AACN,YAAQ;AAAA,EACT;AAEA,QAAM,UAAU;AAEhB,SAAO;AACR;AAXgB;",
  "names": []
}
