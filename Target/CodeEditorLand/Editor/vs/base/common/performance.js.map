{
  "version": 3,
  "sources": ["../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/base/common/performance.js"],
  "sourcesContent": ["// ESM-uncomment-begin\n/** @type any */\nconst module = { exports: {} };\n// ESM-uncomment-end\n\n(() => {\n\t// ESM-comment-begin\n\t// const isESM = false;\n\t// ESM-comment-end\n\t// ESM-uncomment-begin\n\tconst isESM = true;\n\t// ESM-uncomment-end\n\n\t/**\n\t * @returns {{mark(name:string):void, getMarks():{name:string, startTime:number}[]}}\n\t */\n\tfunction _definePolyfillMarks(timeOrigin) {\n\t\tconst _data = [];\n\t\tif (typeof timeOrigin === \"number\") {\n\t\t\t_data.push(\"code/timeOrigin\", timeOrigin);\n\t\t}\n\n\t\tfunction mark(name) {\n\t\t\t_data.push(name, Date.now());\n\t\t}\n\t\tfunction getMarks() {\n\t\t\tconst result = [];\n\t\t\tfor (let i = 0; i < _data.length; i += 2) {\n\t\t\t\tresult.push({\n\t\t\t\t\tname: _data[i],\n\t\t\t\t\tstartTime: _data[i + 1],\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\t\treturn { mark, getMarks };\n\t}\n\n\t/**\n\t * @returns {{mark(name:string):void, getMarks():{name:string, startTime:number}[]}}\n\t */\n\tfunction _define() {\n\t\t// Identify browser environment when following property is not present\n\t\t// https://nodejs.org/dist/latest-v16.x/docs/api/perf_hooks.html#performancenodetiming\n\t\t// @ts-ignore\n\t\tif (\n\t\t\ttypeof performance === \"object\" &&\n\t\t\ttypeof performance.mark === \"function\" &&\n\t\t\t!performance.nodeTiming\n\t\t) {\n\t\t\t// in a browser context, reuse performance-util\n\n\t\t\tif (\n\t\t\t\ttypeof performance.timeOrigin !== \"number\" &&\n\t\t\t\t!performance.timing\n\t\t\t) {\n\t\t\t\t// safari & webworker: because there is no timeOrigin and no workaround\n\t\t\t\t// we use the `Date.now`-based polyfill.\n\t\t\t\treturn _definePolyfillMarks();\n\t\t\t} else {\n\t\t\t\t// use \"native\" performance for mark and getMarks\n\t\t\t\treturn {\n\t\t\t\t\tmark(name) {\n\t\t\t\t\t\tperformance.mark(name);\n\t\t\t\t\t},\n\t\t\t\t\tgetMarks() {\n\t\t\t\t\t\tlet timeOrigin = performance.timeOrigin;\n\t\t\t\t\t\tif (typeof timeOrigin !== \"number\") {\n\t\t\t\t\t\t\t// safari: there is no timerOrigin but in renderers there is the timing-property\n\t\t\t\t\t\t\t// see https://bugs.webkit.org/show_bug.cgi?id=174862\n\t\t\t\t\t\t\ttimeOrigin =\n\t\t\t\t\t\t\t\tperformance.timing.navigationStart ||\n\t\t\t\t\t\t\t\tperformance.timing.redirectStart ||\n\t\t\t\t\t\t\t\tperformance.timing.fetchStart;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconst result = [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tname: \"code/timeOrigin\",\n\t\t\t\t\t\t\t\tstartTime: Math.round(timeOrigin),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t];\n\t\t\t\t\t\tfor (const entry of performance.getEntriesByType(\n\t\t\t\t\t\t\t\"mark\",\n\t\t\t\t\t\t)) {\n\t\t\t\t\t\t\tresult.push({\n\t\t\t\t\t\t\t\tname: entry.name,\n\t\t\t\t\t\t\t\tstartTime: Math.round(\n\t\t\t\t\t\t\t\t\ttimeOrigin + entry.startTime,\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn result;\n\t\t\t\t\t},\n\t\t\t\t};\n\t\t\t}\n\t\t} else if (typeof process === \"object\") {\n\t\t\t// node.js: use the normal polyfill but add the timeOrigin\n\t\t\t// from the node perf_hooks API as very first mark\n\t\t\tconst timeOrigin = performance?.timeOrigin; // ?? Math.round((require.__$__nodeRequire ?? require /* TODO@esm this is fishy */)('perf_hooks').performance.timeOrigin);\n\t\t\treturn _definePolyfillMarks(timeOrigin);\n\t\t} else {\n\t\t\t// unknown environment\n\t\t\tconsole.trace(\"perf-util loaded in UNKNOWN environment\");\n\t\t\treturn _definePolyfillMarks();\n\t\t}\n\t}\n\n\tfunction _factory(sharedObj) {\n\t\tif (!sharedObj.MonacoPerformanceMarks) {\n\t\t\tsharedObj.MonacoPerformanceMarks = _define();\n\t\t}\n\t\treturn sharedObj.MonacoPerformanceMarks;\n\t}\n\n\t// This module can be loaded in an amd and commonjs-context.\n\t// Because we want both instances to use the same perf-data\n\t// we store them globally\n\n\t// eslint-disable-next-line no-var\n\tvar sharedObj;\n\tif (typeof global === \"object\") {\n\t\t// nodejs\n\t\tsharedObj = global;\n\t} else if (typeof self === \"object\") {\n\t\t// browser\n\t\tsharedObj = self;\n\t} else {\n\t\tsharedObj = {};\n\t}\n\n\tif (!isESM && typeof define === \"function\") {\n\t\t// amd\n\t\tdefine([], () => _factory(sharedObj));\n\t} else if (\n\t\ttypeof module === \"object\" &&\n\t\ttypeof module.exports === \"object\"\n\t) {\n\t\t// commonjs\n\t\tmodule.exports = _factory(sharedObj);\n\t} else {\n\t\tconsole.trace(\n\t\t\t\"perf-util defined in UNKNOWN context (neither requirejs or commonjs)\",\n\t\t);\n\t\t// @ts-ignore\n\t\tsharedObj.perf = _factory(sharedObj);\n\t}\n})();\n\n// ESM-uncomment-begin\nexport const mark = module.exports.mark;\nexport const getMarks = module.exports.getMarks;\n// ESM-uncomment-end\n"],
  "mappings": ";;AAEA,MAAM,SAAS,EAAE,SAAS,CAAC,EAAE;AAAA,CAG5B,MAAM;AAKN,QAAM,QAAQ;AAMd,WAAS,qBAAqB,YAAY;AACzC,UAAM,QAAQ,CAAC;AACf,QAAI,OAAO,eAAe,UAAU;AACnC,YAAM,KAAK,mBAAmB,UAAU;AAAA,IACzC;AAEA,aAASA,MAAK,MAAM;AACnB,YAAM,KAAK,MAAM,KAAK,IAAI,CAAC;AAAA,IAC5B;AAFS,WAAAA,OAAA;AAGT,aAASC,YAAW;AACnB,YAAM,SAAS,CAAC;AAChB,eAAS,IAAI,GAAG,IAAI,MAAM,QAAQ,KAAK,GAAG;AACzC,eAAO,KAAK;AAAA,UACX,MAAM,MAAM,CAAC;AAAA,UACb,WAAW,MAAM,IAAI,CAAC;AAAA,QACvB,CAAC;AAAA,MACF;AACA,aAAO;AAAA,IACR;AATS,WAAAA,WAAA;AAUT,WAAO,EAAE,MAAAD,OAAM,UAAAC,UAAS;AAAA,EACzB;AApBS;AAyBT,WAAS,UAAU;AAIlB,QACC,OAAO,gBAAgB,YACvB,OAAO,YAAY,SAAS,cAC5B,CAAC,YAAY,YACZ;AAGD,UACC,OAAO,YAAY,eAAe,YAClC,CAAC,YAAY,QACZ;AAGD,eAAO,qBAAqB;AAAA,MAC7B,OAAO;AAEN,eAAO;AAAA,UACN,KAAK,MAAM;AACV,wBAAY,KAAK,IAAI;AAAA,UACtB;AAAA,UACA,WAAW;AACV,gBAAI,aAAa,YAAY;AAC7B,gBAAI,OAAO,eAAe,UAAU;AAGnC,2BACC,YAAY,OAAO,mBACnB,YAAY,OAAO,iBACnB,YAAY,OAAO;AAAA,YACrB;AACA,kBAAM,SAAS;AAAA,cACd;AAAA,gBACC,MAAM;AAAA,gBACN,WAAW,KAAK,MAAM,UAAU;AAAA,cACjC;AAAA,YACD;AACA,uBAAW,SAAS,YAAY;AAAA,cAC/B;AAAA,YACD,GAAG;AACF,qBAAO,KAAK;AAAA,gBACX,MAAM,MAAM;AAAA,gBACZ,WAAW,KAAK;AAAA,kBACf,aAAa,MAAM;AAAA,gBACpB;AAAA,cACD,CAAC;AAAA,YACF;AACA,mBAAO;AAAA,UACR;AAAA,QACD;AAAA,MACD;AAAA,IACD,WAAW,OAAO,YAAY,UAAU;AAGvC,YAAM,aAAa,aAAa;AAChC,aAAO,qBAAqB,UAAU;AAAA,IACvC,OAAO;AAEN,cAAQ,MAAM,yCAAyC;AACvD,aAAO,qBAAqB;AAAA,IAC7B;AAAA,EACD;AAhES;AAkET,WAAS,SAASC,YAAW;AAC5B,QAAI,CAACA,WAAU,wBAAwB;AACtC,MAAAA,WAAU,yBAAyB,QAAQ;AAAA,IAC5C;AACA,WAAOA,WAAU;AAAA,EAClB;AALS;AAYT,MAAI;AACJ,MAAI,OAAO,WAAW,UAAU;AAE/B,gBAAY;AAAA,EACb,WAAW,OAAO,SAAS,UAAU;AAEpC,gBAAY;AAAA,EACb,OAAO;AACN,gBAAY,CAAC;AAAA,EACd;AAEA,MAAI,CAAC,SAAS,OAAO,WAAW,YAAY;AAE3C,WAAO,CAAC,GAAG,MAAM,SAAS,SAAS,CAAC;AAAA,EACrC,WACC,OAAO,WAAW,YAClB,OAAO,OAAO,YAAY,UACzB;AAED,WAAO,UAAU,SAAS,SAAS;AAAA,EACpC,OAAO;AACN,YAAQ;AAAA,MACP;AAAA,IACD;AAEA,cAAU,OAAO,SAAS,SAAS;AAAA,EACpC;AACD,GAAG;AAGI,MAAM,OAAO,OAAO,QAAQ;AAC5B,MAAM,WAAW,OAAO,QAAQ;",
  "names": ["mark", "getMarks", "sharedObj"]
}
