function O(l,n){let _=Math.pow(10,n);return Math.round(l*_)/_}var m=class{_rgbaBrand=void 0;r;g;b;a;constructor(n,_,t,s=1){this.r=Math.min(255,Math.max(0,n))|0,this.g=Math.min(255,Math.max(0,_))|0,this.b=Math.min(255,Math.max(0,t))|0,this.a=O(Math.max(Math.min(1,s),0),3)}static equals(n,_){return n.r===_.r&&n.g===_.g&&n.b===_.b&&n.a===_.a}},I=class l{_hslaBrand=void 0;h;s;l;a;constructor(n,_,t,s){this.h=Math.max(Math.min(360,n),0)|0,this.s=O(Math.max(Math.min(1,_),0),3),this.l=O(Math.max(Math.min(1,t),0),3),this.a=O(Math.max(Math.min(1,s),0),3)}static equals(n,_){return n.h===_.h&&n.s===_.s&&n.l===_.l&&n.a===_.a}static fromRGBA(n){let _=n.r/255,t=n.g/255,s=n.b/255,b=n.a,A=Math.max(_,t,s),E=Math.min(_,t,s),g=0,u=0,x=(E+A)/2,U=A-E;if(U>0){switch(u=Math.min(x<=.5?U/(2*x):U/(2-2*x),1),A){case _:g=(t-s)/U+(t<s?6:0);break;case t:g=(s-_)/U+2;break;case s:g=(_-t)/U+4;break}g*=60,g=Math.round(g)}return new l(g,u,x,b)}static _hue2rgb(n,_,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(_-n)*6*t:t<1/2?_:t<2/3?n+(_-n)*(2/3-t)*6:n}static toRGBA(n){let _=n.h/360,{s:t,l:s,a:b}=n,A,E,g;if(t===0)A=E=g=s;else{let u=s<.5?s*(1+t):s+t-s*t,x=2*s-u;A=l._hue2rgb(x,u,_+1/3),E=l._hue2rgb(x,u,_),g=l._hue2rgb(x,u,_-1/3)}return new m(Math.round(A*255),Math.round(E*255),Math.round(g*255),b)}},F=class l{_hsvaBrand=void 0;h;s;v;a;constructor(n,_,t,s){this.h=Math.max(Math.min(360,n),0)|0,this.s=O(Math.max(Math.min(1,_),0),3),this.v=O(Math.max(Math.min(1,t),0),3),this.a=O(Math.max(Math.min(1,s),0),3)}static equals(n,_){return n.h===_.h&&n.s===_.s&&n.v===_.v&&n.a===_.a}static fromRGBA(n){let _=n.r/255,t=n.g/255,s=n.b/255,b=Math.max(_,t,s),A=Math.min(_,t,s),E=b-A,g=b===0?0:E/b,u;return E===0?u=0:b===_?u=((t-s)/E%6+6)%6:b===t?u=(s-_)/E+2:u=(_-t)/E+4,new l(Math.round(u*60),g,b,n.a)}static toRGBA(n){let{h:_,s:t,v:s,a:b}=n,A=s*t,E=A*(1-Math.abs(_/60%2-1)),g=s-A,[u,x,U]=[0,0,0];return _<60?(u=A,x=E):_<120?(u=E,x=A):_<180?(x=A,U=E):_<240?(x=E,U=A):_<300?(u=E,U=A):_<=360&&(u=A,U=E),u=Math.round((u+g)*255),x=Math.round((x+g)*255),U=Math.round((U+g)*255),new m(u,x,U,b)}},B=class l{static fromHex(n){return l.Format.CSS.parseHex(n)||l.red}static equals(n,_){return!n&&!_?!0:!n||!_?!1:n.equals(_)}rgba;_hsla;get hsla(){return this._hsla?this._hsla:I.fromRGBA(this.rgba)}_hsva;get hsva(){return this._hsva?this._hsva:F.fromRGBA(this.rgba)}constructor(n){if(n)if(n instanceof m)this.rgba=n;else if(n instanceof I)this._hsla=n,this.rgba=I.toRGBA(n);else if(n instanceof F)this._hsva=n,this.rgba=F.toRGBA(n);else throw new Error("Invalid color ctor argument");else throw new Error("Color needs a value")}equals(n){return!!n&&m.equals(this.rgba,n.rgba)&&I.equals(this.hsla,n.hsla)&&F.equals(this.hsva,n.hsva)}getRelativeLuminance(){let n=l._relativeLuminanceForComponent(this.rgba.r),_=l._relativeLuminanceForComponent(this.rgba.g),t=l._relativeLuminanceForComponent(this.rgba.b),s=.2126*n+.7152*_+.0722*t;return O(s,4)}static _relativeLuminanceForComponent(n){let _=n/255;return _<=.03928?_/12.92:Math.pow((_+.055)/1.055,2.4)}getContrastRatio(n){let _=this.getRelativeLuminance(),t=n.getRelativeLuminance();return _>t?(_+.05)/(t+.05):(t+.05)/(_+.05)}isDarker(){return(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3<128}isLighter(){return(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3>=128}isLighterThan(n){let _=this.getRelativeLuminance(),t=n.getRelativeLuminance();return _>t}isDarkerThan(n){let _=this.getRelativeLuminance(),t=n.getRelativeLuminance();return _<t}lighten(n){return new l(new I(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*n,this.hsla.a))}darken(n){return new l(new I(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*n,this.hsla.a))}transparent(n){let{r:_,g:t,b:s,a:b}=this.rgba;return new l(new m(_,t,s,b*n))}isTransparent(){return this.rgba.a===0}isOpaque(){return this.rgba.a===1}opposite(){return new l(new m(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}blend(n){let _=n.rgba,t=this.rgba.a,s=_.a,b=t+s*(1-t);if(b<1e-6)return l.transparent;let A=this.rgba.r*t/b+_.r*s*(1-t)/b,E=this.rgba.g*t/b+_.g*s*(1-t)/b,g=this.rgba.b*t/b+_.b*s*(1-t)/b;return new l(new m(A,E,g,b))}makeOpaque(n){if(this.isOpaque()||n.rgba.a!==1)return this;let{r:_,g:t,b:s,a:b}=this.rgba;return new l(new m(n.rgba.r-b*(n.rgba.r-_),n.rgba.g-b*(n.rgba.g-t),n.rgba.b-b*(n.rgba.b-s),1))}flatten(...n){let _=n.reduceRight((t,s)=>l._flatten(s,t));return l._flatten(this,_)}static _flatten(n,_){let t=1-n.rgba.a;return new l(new m(t*_.rgba.r+n.rgba.a*n.rgba.r,t*_.rgba.g+n.rgba.a*n.rgba.g,t*_.rgba.b+n.rgba.a*n.rgba.b))}_toString;toString(){return this._toString||(this._toString=l.Format.CSS.format(this)),this._toString}static getLighterColor(n,_,t){if(n.isLighterThan(_))return n;t=t||.5;let s=n.getRelativeLuminance(),b=_.getRelativeLuminance();return t=t*(b-s)/b,n.lighten(t)}static getDarkerColor(n,_,t){if(n.isDarkerThan(_))return n;t=t||.5;let s=n.getRelativeLuminance(),b=_.getRelativeLuminance();return t=t*(s-b)/s,n.darken(t)}static white=new l(new m(255,255,255,1));static black=new l(new m(0,0,0,1));static red=new l(new m(255,0,0,1));static blue=new l(new m(0,0,255,1));static green=new l(new m(0,255,0,1));static cyan=new l(new m(0,255,255,1));static lightgrey=new l(new m(211,211,211,1));static transparent=new l(new m(0,0,0,0))};(n=>{let l;(t=>{let _;(w=>{function s(i){return i.rgba.a===1?`rgb(${i.rgba.r}, ${i.rgba.g}, ${i.rgba.b})`:n.Format.CSS.formatRGBA(i)}w.formatRGB=s;function b(i){return`rgba(${i.rgba.r}, ${i.rgba.g}, ${i.rgba.b}, ${+i.rgba.a.toFixed(2)})`}w.formatRGBA=b;function A(i){return i.hsla.a===1?`hsl(${i.hsla.h}, ${(i.hsla.s*100).toFixed(2)}%, ${(i.hsla.l*100).toFixed(2)}%)`:n.Format.CSS.formatHSLA(i)}w.formatHSL=A;function E(i){return`hsla(${i.hsla.h}, ${(i.hsla.s*100).toFixed(2)}%, ${(i.hsla.l*100).toFixed(2)}%, ${i.hsla.a.toFixed(2)})`}w.formatHSLA=E;function g(i){let c=i.toString(16);return c.length!==2?"0"+c:c}function u(i){return`#${g(i.rgba.r)}${g(i.rgba.g)}${g(i.rgba.b)}`}w.formatHex=u;function x(i,c=!1){return c&&i.rgba.a===1?n.Format.CSS.formatHex(i):`#${g(i.rgba.r)}${g(i.rgba.g)}${g(i.rgba.b)}${g(Math.round(i.rgba.a*255))}`}w.formatHexA=x;function U(i){return i.isOpaque()?n.Format.CSS.formatHex(i):n.Format.CSS.formatRGBA(i)}w.format=U;function M(i){let c=i.length;if(c===0||i.charCodeAt(0)!==35)return null;if(c===7){let D=16*R(i.charCodeAt(1))+R(i.charCodeAt(2)),L=16*R(i.charCodeAt(3))+R(i.charCodeAt(4)),T=16*R(i.charCodeAt(5))+R(i.charCodeAt(6));return new n(new m(D,L,T,1))}if(c===9){let D=16*R(i.charCodeAt(1))+R(i.charCodeAt(2)),L=16*R(i.charCodeAt(3))+R(i.charCodeAt(4)),T=16*R(i.charCodeAt(5))+R(i.charCodeAt(6)),e=16*R(i.charCodeAt(7))+R(i.charCodeAt(8));return new n(new m(D,L,T,e/255))}if(c===4){let D=R(i.charCodeAt(1)),L=R(i.charCodeAt(2)),T=R(i.charCodeAt(3));return new n(new m(16*D+D,16*L+L,16*T+T))}if(c===5){let D=R(i.charCodeAt(1)),L=R(i.charCodeAt(2)),T=R(i.charCodeAt(3)),e=R(i.charCodeAt(4));return new n(new m(16*D+D,16*L+L,16*T+T,(16*e+e)/255))}return null}w.parseHex=M;function R(i){switch(i){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:return 10;case 65:return 10;case 98:return 11;case 66:return 11;case 99:return 12;case 67:return 12;case 100:return 13;case 68:return 13;case 101:return 14;case 69:return 14;case 102:return 15;case 70:return 15}return 0}})(_=t.CSS||={})})(l=n.Format||={})})(B||={});export{B as Color,I as HSLA,F as HSVA,m as RGBA};
