function r(f){return(o,t,u)=>{let e=null,s=null;if(typeof u.value=="function"?(e="value",s=u.value):typeof u.get=="function"&&(e="get",s=u.get),!s)throw new Error("not supported");u[e]=f(s,t)}}function a(f,o,t){let u=null,e=null;if(typeof t.value=="function"?(u="value",e=t.value,e.length):typeof t.get=="function"&&(u="get",e=t.get),!e)throw new Error("not supported");const s=`$memoize$${o}`;t[u]=function(...n){return this.hasOwnProperty(s)||Object.defineProperty(this,s,{configurable:!1,enumerable:!1,writable:!1,value:e.apply(this,n)}),this[s]}}function y(f,o,t){return r((u,e)=>{const s=`$debounce$${e}`,n=`$debounce$result$${e}`;return function(...i){this[n]||(this[n]=t?t():void 0),clearTimeout(this[s]),o&&(this[n]=o(this[n],...i),i=[this[n]]),this[s]=setTimeout(()=>{u.apply(this,i),this[n]=t?t():void 0},f)}})}function $(f,o,t){return r((u,e)=>{const s=`$throttle$timer$${e}`,n=`$throttle$result$${e}`,i=`$throttle$lastRun$${e}`,h=`$throttle$pending$${e}`;return function(...c){if(this[n]||(this[n]=t?t():void 0),(this[i]===null||this[i]===void 0)&&(this[i]=-Number.MAX_VALUE),o&&(this[n]=o(this[n],...c)),this[h])return;const l=this[i]+f;l<=Date.now()?(this[i]=Date.now(),u.apply(this,[this[n]]),this[n]=t?t():void 0):(this[h]=!0,this[s]=setTimeout(()=>{this[h]=!1,this[i]=Date.now(),u.apply(this,[this[n]]),this[n]=t?t():void 0},l-Date.now()))}})}export{y as debounce,a as memoize,$ as throttle};
