{
  "version": 3,
  "sources": ["../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/base/node/unc.js"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n//@ts-check\n'use strict';\n\n// ESM-uncomment-begin\n/** @type any */\nconst module = { exports: {} };\n// ESM-uncomment-end\n\n(function () {\n\t// ESM-comment-begin\n\t// const isESM = false;\n\t// ESM-comment-end\n\t// ESM-uncomment-begin\n\tconst isESM = true;\n\t// ESM-uncomment-end\n\n\tfunction factory() {\n\n\t\t/**\n\t\t * @returns {Set<string> | undefined}\n\t\t */\n\t\tfunction processUNCHostAllowlist() {\n\n\t\t\t// The property `process.uncHostAllowlist` is not available in official node.js\n\t\t\t// releases, only in our own builds, so we have to probe for availability\n\n\t\t\t// @ts-ignore\n\t\t\treturn process.uncHostAllowlist;\n\t\t}\n\n\t\t/**\n\t\t * @param {unknown} arg0\n\t\t * @returns {string[]}\n\t\t */\n\t\tfunction toSafeStringArray(arg0) {\n\t\t\tconst allowedUNCHosts = new Set();\n\n\t\t\tif (Array.isArray(arg0)) {\n\t\t\t\tfor (const host of arg0) {\n\t\t\t\t\tif (typeof host === 'string') {\n\t\t\t\t\t\tallowedUNCHosts.add(host);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn Array.from(allowedUNCHosts);\n\t\t}\n\n\t\t/**\n\t\t * @returns {string[]}\n\t\t */\n\t\tfunction getUNCHostAllowlist() {\n\t\t\tconst allowlist = processUNCHostAllowlist();\n\t\t\tif (allowlist) {\n\t\t\t\treturn Array.from(allowlist);\n\t\t\t}\n\n\t\t\treturn [];\n\t\t}\n\n\t\t/**\n\t\t * @param {string | string[]} allowedHost\n\t\t */\n\t\tfunction addUNCHostToAllowlist(allowedHost) {\n\t\t\tif (process.platform !== 'win32') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst allowlist = processUNCHostAllowlist();\n\t\t\tif (allowlist) {\n\t\t\t\tif (typeof allowedHost === 'string') {\n\t\t\t\t\tallowlist.add(allowedHost.toLowerCase()); // UNC hosts are case-insensitive\n\t\t\t\t} else {\n\t\t\t\t\tfor (const host of toSafeStringArray(allowedHost)) {\n\t\t\t\t\t\taddUNCHostToAllowlist(host);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * @param {string | undefined | null} maybeUNCPath\n\t\t * @returns {string | undefined}\n\t\t */\n\t\tfunction getUNCHost(maybeUNCPath) {\n\t\t\tif (typeof maybeUNCPath !== 'string') {\n\t\t\t\treturn undefined; // require a valid string\n\t\t\t}\n\n\t\t\tconst uncRoots = [\n\t\t\t\t'\\\\\\\\.\\\\UNC\\\\',\t// DOS Device paths (https://learn.microsoft.com/en-us/dotnet/standard/io/file-path-formats)\n\t\t\t\t'\\\\\\\\?\\\\UNC\\\\',\n\t\t\t\t'\\\\\\\\'\t\t\t// standard UNC path\n\t\t\t];\n\n\t\t\tlet host = undefined;\n\n\t\t\tfor (const uncRoot of uncRoots) {\n\t\t\t\tconst indexOfUNCRoot = maybeUNCPath.indexOf(uncRoot);\n\t\t\t\tif (indexOfUNCRoot !== 0) {\n\t\t\t\t\tcontinue; // not matching any of our expected UNC roots\n\t\t\t\t}\n\n\t\t\t\tconst indexOfUNCPath = maybeUNCPath.indexOf('\\\\', uncRoot.length);\n\t\t\t\tif (indexOfUNCPath === -1) {\n\t\t\t\t\tcontinue; // no path component found\n\t\t\t\t}\n\n\t\t\t\tconst hostCandidate = maybeUNCPath.substring(uncRoot.length, indexOfUNCPath);\n\t\t\t\tif (hostCandidate) {\n\t\t\t\t\thost = hostCandidate;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn host;\n\t\t}\n\n\t\tfunction disableUNCAccessRestrictions() {\n\t\t\tif (process.platform !== 'win32') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// @ts-ignore\n\t\t\tprocess.restrictUNCAccess = false;\n\t\t}\n\n\t\tfunction isUNCAccessRestrictionsDisabled() {\n\t\t\tif (process.platform !== 'win32') {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// @ts-ignore\n\t\t\treturn process.restrictUNCAccess === false;\n\t\t}\n\n\t\treturn {\n\t\t\tgetUNCHostAllowlist,\n\t\t\taddUNCHostToAllowlist,\n\t\t\tgetUNCHost,\n\t\t\tdisableUNCAccessRestrictions,\n\t\t\tisUNCAccessRestrictionsDisabled\n\t\t};\n\t}\n\n\tif (!isESM && typeof define === 'function') {\n\t\t// amd\n\t\tdefine([], function () { return factory(); });\n\t} else if (typeof module === 'object' && typeof module.exports === 'object') {\n\t\t// commonjs\n\t\tmodule.exports = factory();\n\t} else {\n\t\tconsole.trace('vs/base/node/unc defined in UNKNOWN context (neither requirejs or commonjs)');\n\t}\n})();\n\n// ESM-uncomment-begin\nexport const getUNCHost = module.exports.getUNCHost;\nexport const getUNCHostAllowlist = module.exports.getUNCHostAllowlist;\nexport const addUNCHostToAllowlist = module.exports.addUNCHostToAllowlist;\nexport const disableUNCAccessRestrictions = module.exports.disableUNCAccessRestrictions;\nexport const isUNCAccessRestrictionsDisabled = module.exports.isUNCAccessRestrictionsDisabled;\n// ESM-uncomment-end\n"],
  "mappings": ";;AAUA,MAAM,SAAS,EAAE,SAAS,CAAC,EAAE;AAAA,CAG5B,WAAY;AAKZ,QAAM,QAAQ;AAGd,WAAS,UAAU;AAKlB,aAAS,0BAA0B;AAMlC,aAAO,QAAQ;AAAA,IAChB;AAPS;AAaT,aAAS,kBAAkB,MAAM;AAChC,YAAM,kBAAkB,oBAAI,IAAI;AAEhC,UAAI,MAAM,QAAQ,IAAI,GAAG;AACxB,mBAAW,QAAQ,MAAM;AACxB,cAAI,OAAO,SAAS,UAAU;AAC7B,4BAAgB,IAAI,IAAI;AAAA,UACzB;AAAA,QACD;AAAA,MACD;AAEA,aAAO,MAAM,KAAK,eAAe;AAAA,IAClC;AAZS;AAiBT,aAASA,uBAAsB;AAC9B,YAAM,YAAY,wBAAwB;AAC1C,UAAI,WAAW;AACd,eAAO,MAAM,KAAK,SAAS;AAAA,MAC5B;AAEA,aAAO,CAAC;AAAA,IACT;AAPS,WAAAA,sBAAA;AAYT,aAASC,uBAAsB,aAAa;AAC3C,UAAI,QAAQ,aAAa,SAAS;AACjC;AAAA,MACD;AAEA,YAAM,YAAY,wBAAwB;AAC1C,UAAI,WAAW;AACd,YAAI,OAAO,gBAAgB,UAAU;AACpC,oBAAU,IAAI,YAAY,YAAY,CAAC;AAAA,QACxC,OAAO;AACN,qBAAW,QAAQ,kBAAkB,WAAW,GAAG;AAClD,YAAAA,uBAAsB,IAAI;AAAA,UAC3B;AAAA,QACD;AAAA,MACD;AAAA,IACD;AAfS,WAAAA,wBAAA;AAqBT,aAASC,YAAW,cAAc;AACjC,UAAI,OAAO,iBAAiB,UAAU;AACrC,eAAO;AAAA,MACR;AAEA,YAAM,WAAW;AAAA,QAChB;AAAA;AAAA,QACA;AAAA,QACA;AAAA;AAAA,MACD;AAEA,UAAI,OAAO;AAEX,iBAAW,WAAW,UAAU;AAC/B,cAAM,iBAAiB,aAAa,QAAQ,OAAO;AACnD,YAAI,mBAAmB,GAAG;AACzB;AAAA,QACD;AAEA,cAAM,iBAAiB,aAAa,QAAQ,MAAM,QAAQ,MAAM;AAChE,YAAI,mBAAmB,IAAI;AAC1B;AAAA,QACD;AAEA,cAAM,gBAAgB,aAAa,UAAU,QAAQ,QAAQ,cAAc;AAC3E,YAAI,eAAe;AAClB,iBAAO;AACP;AAAA,QACD;AAAA,MACD;AAEA,aAAO;AAAA,IACR;AAhCS,WAAAA,aAAA;AAkCT,aAASC,gCAA+B;AACvC,UAAI,QAAQ,aAAa,SAAS;AACjC;AAAA,MACD;AAGA,cAAQ,oBAAoB;AAAA,IAC7B;AAPS,WAAAA,+BAAA;AAST,aAASC,mCAAkC;AAC1C,UAAI,QAAQ,aAAa,SAAS;AACjC,eAAO;AAAA,MACR;AAGA,aAAO,QAAQ,sBAAsB;AAAA,IACtC;AAPS,WAAAA,kCAAA;AAST,WAAO;AAAA,MACN,qBAAAJ;AAAA,MACA,uBAAAC;AAAA,MACA,YAAAC;AAAA,MACA,8BAAAC;AAAA,MACA,iCAAAC;AAAA,IACD;AAAA,EACD;AA/HS;AAiIT,MAAI,CAAC,SAAS,OAAO,WAAW,YAAY;AAE3C,WAAO,CAAC,GAAG,WAAY;AAAE,aAAO,QAAQ;AAAA,IAAG,CAAC;AAAA,EAC7C,WAAW,OAAO,WAAW,YAAY,OAAO,OAAO,YAAY,UAAU;AAE5E,WAAO,UAAU,QAAQ;AAAA,EAC1B,OAAO;AACN,YAAQ,MAAM,6EAA6E;AAAA,EAC5F;AACD,GAAG;AAGI,MAAM,aAAa,OAAO,QAAQ;AAClC,MAAM,sBAAsB,OAAO,QAAQ;AAC3C,MAAM,wBAAwB,OAAO,QAAQ;AAC7C,MAAM,+BAA+B,OAAO,QAAQ;AACpD,MAAM,kCAAkC,OAAO,QAAQ;",
  "names": ["getUNCHostAllowlist", "addUNCHostToAllowlist", "getUNCHost", "disableUNCAccessRestrictions", "isUNCAccessRestrictionsDisabled"]
}
