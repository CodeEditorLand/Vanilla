{
  "version": 3,
  "sources": ["../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/server/node/remoteLanguagePacks.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { FileAccess } from '../../base/common/network.js';\nimport { join } from '../../base/common/path.js';\nimport type { INLSConfiguration } from '../../nls.js';\nimport { resolveNLSConfiguration } from '../../base/node/nls.js';\nimport { Promises } from '../../base/node/pfs.js';\nimport product from '../../platform/product/common/product.js';\n\nconst nlsMetadataPath = join(FileAccess.asFileUri('').fsPath);\nconst defaultMessagesFile = join(nlsMetadataPath, 'nls.messages.json');\nconst nlsConfigurationCache = new Map<string, Promise<INLSConfiguration>>();\n\nexport async function getNLSConfiguration(language: string, userDataPath: string): Promise<INLSConfiguration> {\n\tif (!product.commit || !(await Promises.exists(defaultMessagesFile))) {\n\t\treturn {\n\t\t\tuserLocale: 'en',\n\t\t\tosLocale: 'en',\n\t\t\tresolvedLanguage: 'en',\n\t\t\tdefaultMessagesFile,\n\n\t\t\t// NLS: below 2 are a relic from old times only used by vscode-nls and deprecated\n\t\t\tlocale: 'en',\n\t\t\tavailableLanguages: {}\n\t\t};\n\t}\n\n\tconst cacheKey = `${language}||${userDataPath}`;\n\tlet result = nlsConfigurationCache.get(cacheKey);\n\tif (!result) {\n\t\tresult = resolveNLSConfiguration({ userLocale: language, osLocale: language, commit: product.commit, userDataPath, nlsMetadataPath });\n\t\tnlsConfigurationCache.set(cacheKey, result);\n\t}\n\n\treturn result;\n}\n"],
  "mappings": ";;AAKA,SAAS,kBAAkB;AAC3B,SAAS,YAAY;AAErB,SAAS,+BAA+B;AACxC,SAAS,gBAAgB;AACzB,OAAO,aAAa;AAEpB,MAAM,kBAAkB,KAAK,WAAW,UAAU,EAAE,EAAE,MAAM;AAC5D,MAAM,sBAAsB,KAAK,iBAAiB,mBAAmB;AACrE,MAAM,wBAAwB,oBAAI,IAAwC;AAE1E,eAAsB,oBAAoB,UAAkB,cAAkD;AAC7G,MAAI,CAAC,QAAQ,UAAU,CAAE,MAAM,SAAS,OAAO,mBAAmB,GAAI;AACrE,WAAO;AAAA,MACN,YAAY;AAAA,MACZ,UAAU;AAAA,MACV,kBAAkB;AAAA,MAClB;AAAA;AAAA,MAGA,QAAQ;AAAA,MACR,oBAAoB,CAAC;AAAA,IACtB;AAAA,EACD;AAEA,QAAM,WAAW,GAAG,QAAQ,KAAK,YAAY;AAC7C,MAAI,SAAS,sBAAsB,IAAI,QAAQ;AAC/C,MAAI,CAAC,QAAQ;AACZ,aAAS,wBAAwB,EAAE,YAAY,UAAU,UAAU,UAAU,QAAQ,QAAQ,QAAQ,cAAc,gBAAgB,CAAC;AACpI,0BAAsB,IAAI,UAAU,MAAM;AAAA,EAC3C;AAEA,SAAO;AACR;AAtBsB;",
  "names": []
}
