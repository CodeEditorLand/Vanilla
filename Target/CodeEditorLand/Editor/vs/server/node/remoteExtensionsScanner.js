var Sl=Object.create;var Di=Object.defineProperty;var ls=Object.getOwnPropertyDescriptor;var wl=Object.getOwnPropertyNames;var Pl=Object.getPrototypeOf,Rl=Object.prototype.hasOwnProperty;var kl=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Dl=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of wl(e))!Rl.call(t,i)&&i!==n&&Di(t,i,{get:()=>e[i],enumerable:!(r=ls(e,i))||r.enumerable});return t};var Al=(t,e,n)=>(n=t!=null?Sl(Pl(t)):{},Dl(e||!t||!t.__esModule?Di(n,"default",{value:t,enumerable:!0}):n,t));var F=(t,e,n,r)=>{for(var i=r>1?void 0:r?ls(e,n):e,o=t.length-1,s;o>=0;o--)(s=t[o])&&(i=(r?s(e,n,i):s(i))||i);return r&&i&&Di(e,n,i),i},H=(t,e)=>(n,r)=>e(n,r,t);var bl=kl((mT,hl)=>{"use strict";function fd(t,e){var n=t;e.slice(0,-1).forEach(function(i){n=n[i]||{}});var r=e[e.length-1];return r in n}function ml(t){return typeof t=="number"||/^0x[0-9a-f]+$/i.test(t)?!0:/^[-+]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(t)}function gl(t,e){return e==="constructor"&&typeof t[e]=="function"||e==="__proto__"}hl.exports=function(t,e){e||(e={});var n={bools:{},strings:{},unknownFn:null};typeof e.unknown=="function"&&(n.unknownFn=e.unknown),typeof e.boolean=="boolean"&&e.boolean?n.allBools=!0:[].concat(e.boolean).filter(Boolean).forEach(function(x){n.bools[x]=!0});var r={};function i(x){return r[x].some(function(D){return n.bools[D]})}Object.keys(e.alias||{}).forEach(function(x){r[x]=[].concat(e.alias[x]),r[x].forEach(function(D){r[D]=[x].concat(r[x].filter(function(B){return D!==B}))})}),[].concat(e.string).filter(Boolean).forEach(function(x){n.strings[x]=!0,r[x]&&[].concat(r[x]).forEach(function(D){n.strings[D]=!0})});var o=e.default||{},s={_:[]};function l(x,D){return n.allBools&&/^--[^=]+$/.test(D)||n.strings[x]||n.bools[x]||r[x]}function c(x,D,B){for(var U=x,he=0;he<D.length-1;he++){var N=D[he];if(gl(U,N))return;U[N]===void 0&&(U[N]={}),(U[N]===Object.prototype||U[N]===Number.prototype||U[N]===String.prototype)&&(U[N]={}),U[N]===Array.prototype&&(U[N]=[]),U=U[N]}var se=D[D.length-1];gl(U,se)||((U===Object.prototype||U===Number.prototype||U===String.prototype)&&(U={}),U===Array.prototype&&(U=[]),U[se]===void 0||n.bools[se]||typeof U[se]=="boolean"?U[se]=B:Array.isArray(U[se])?U[se].push(B):U[se]=[U[se],B])}function u(x,D,B){if(!(B&&n.unknownFn&&!l(x,B)&&n.unknownFn(B)===!1)){var U=!n.strings[x]&&ml(D)?Number(D):D;c(s,x.split("."),U),(r[x]||[]).forEach(function(he){c(s,he.split("."),U)})}}Object.keys(n.bools).forEach(function(x){u(x,o[x]===void 0?!1:o[x])});var d=[];t.indexOf("--")!==-1&&(d=t.slice(t.indexOf("--")+1),t=t.slice(0,t.indexOf("--")));for(var f=0;f<t.length;f++){var m=t[f],v,A;if(/^--.+=/.test(m)){var y=m.match(/^--([^=]+)=([\s\S]*)$/);v=y[1];var E=y[2];n.bools[v]&&(E=E!=="false"),u(v,E,m)}else if(/^--no-.+/.test(m))v=m.match(/^--no-(.+)/)[1],u(v,!1,m);else if(/^--.+/.test(m))v=m.match(/^--(.+)/)[1],A=t[f+1],A!==void 0&&!/^(-|--)[^-]/.test(A)&&!n.bools[v]&&!n.allBools&&(!r[v]||!i(v))?(u(v,A,m),f+=1):/^(true|false)$/.test(A)?(u(v,A==="true",m),f+=1):u(v,n.strings[v]?"":!0,m);else if(/^-[^-]+/.test(m)){for(var T=m.slice(1,-1).split(""),_=!1,z=0;z<T.length;z++){if(A=m.slice(z+2),A==="-"){u(T[z],A,m);continue}if(/[A-Za-z]/.test(T[z])&&A[0]==="="){u(T[z],A.slice(1),m),_=!0;break}if(/[A-Za-z]/.test(T[z])&&/-?\d+(\.\d*)?(e-?\d+)?$/.test(A)){u(T[z],A,m),_=!0;break}if(T[z+1]&&T[z+1].match(/\W/)){u(T[z],m.slice(z+2),m),_=!0;break}else u(T[z],n.strings[T[z]]?"":!0,m)}v=m.slice(-1)[0],!_&&v!=="-"&&(t[f+1]&&!/^(-|--)[^-]/.test(t[f+1])&&!n.bools[v]&&(!r[v]||!i(v))?(u(v,t[f+1],m),f+=1):t[f+1]&&/^(true|false)$/.test(t[f+1])?(u(v,t[f+1]==="true",m),f+=1):u(v,n.strings[v]?"":!0,m))}else if((!n.unknownFn||n.unknownFn(m)!==!1)&&s._.push(n.strings._||!ml(m)?m:Number(m)),e.stopEarly){s._.push.apply(s._,t.slice(f+1));break}}return Object.keys(o).forEach(function(x){fd(s,x.split("."))||(c(s,x.split("."),o[x]),(r[x]||[]).forEach(function(D){c(s,D.split("."),o[x])}))}),e["--"]?s["--"]=d.slice():d.forEach(function(x){s._.push(x)}),s}});function Ai(){return globalThis._VSCODE_NLS_MESSAGES}function Cn(){return globalThis._VSCODE_NLS_LANGUAGE}var Ol=Cn()==="pseudo"||typeof document<"u"&&document.location&&document.location.hash.indexOf("pseudo=true")>=0;function yr(t,e){let n;return e.length===0?n=t:n=t.replace(/\{(\d+)\}/g,(r,i)=>{let o=i[0],s=e[o],l=r;return typeof s=="string"?l=s:(typeof s=="number"||typeof s=="boolean"||s===void 0||s===null)&&(l=String(s)),l}),Ol&&(n="\uFF3B"+n.replace(/[aouei]/g,"$&$&")+"\uFF3D"),n}function g(t,e,...n){return yr(typeof t=="number"?cs(t,e):e,n)}function cs(t,e){let n=Ai()?.[t];if(typeof n!="string"){if(typeof e=="string")return e;throw new Error(`!!! NLS MISSING: ${t} !!!`)}return n}function it(t,e,...n){let r;typeof t=="number"?r=cs(t,e):r=e;let i=yr(r,n);return{value:i,original:e===r?i:yr(e,n)}}var Rt="en",Tr=!1,Er=!1,Nn=!1,Ll=!1,ds=!1,Oi=!1,Ul=!1,Cl=!1,Nl=!1,Fl=!1,xr,vr=Rt,us=Rt,Ml,pt,ft=globalThis,We;typeof ft.vscode<"u"&&typeof ft.vscode.process<"u"?We=ft.vscode.process:typeof process<"u"&&typeof process?.versions?.node=="string"&&(We=process);var ps=typeof We?.versions?.electron=="string",Kl=ps&&We?.type==="renderer";if(typeof We=="object"){Tr=We.platform==="win32",Er=We.platform==="darwin",Nn=We.platform==="linux",Ll=Nn&&!!We.env.SNAP&&!!We.env.SNAP_REVISION,Ul=ps,Nl=!!We.env.CI||!!We.env.BUILD_ARTIFACTSTAGINGDIRECTORY,xr=Rt,vr=Rt;let t=We.env.VSCODE_NLS_CONFIG;if(t)try{let e=JSON.parse(t);xr=e.userLocale,us=e.osLocale,vr=e.resolvedLanguage||Rt,Ml=e.languagePack?.translationsConfigFile}catch{}ds=!0}else typeof navigator=="object"&&!Kl?(pt=navigator.userAgent,Tr=pt.indexOf("Windows")>=0,Er=pt.indexOf("Macintosh")>=0,Cl=(pt.indexOf("Macintosh")>=0||pt.indexOf("iPad")>=0||pt.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,Nn=pt.indexOf("Linux")>=0,Fl=pt?.indexOf("Mobi")>=0,Oi=!0,vr=Cn()||Rt,xr=navigator.language.toLowerCase(),us=xr):console.error("Unable to resolve platform.");var Ir=0;Er?Ir=1:Tr?Ir=3:Nn&&(Ir=2);var Oe=Tr,Fn=Er,kt=Nn;var fs=ds;var mn=Oi,Bl=Oi&&typeof ft.importScripts=="function",ms=Bl?ft.origin:void 0;var Li=Ir,ot=pt,Fe=vr,Vl;(r=>{function t(){return Fe}r.value=t;function e(){return Fe.length===2?Fe==="en":Fe.length>=3?Fe[0]==="e"&&Fe[1]==="n"&&Fe[2]==="-":!1}r.isDefaultVariant=e;function n(){return Fe==="en"}r.isDefault=n})(Vl||={});var Wl=typeof ft.postMessage=="function"&&!ft.importScripts,gs=(()=>{if(Wl){let t=[];ft.addEventListener("message",n=>{if(n.data&&n.data.vscodeScheduleAsyncWork)for(let r=0,i=t.length;r<i;r++){let o=t[r];if(o.id===n.data.vscodeScheduleAsyncWork){t.splice(r,1),o.callback();return}}});let e=0;return n=>{let r=++e;t.push({id:r,callback:n}),ft.postMessage({vscodeScheduleAsyncWork:r},"*")}}return t=>setTimeout(t)})();var Ui=!!(ot&&ot.indexOf("Chrome")>=0),hs=!!(ot&&ot.indexOf("Firefox")>=0),bs=!!(!Ui&&ot&&ot.indexOf("Safari")>=0),ys=!!(ot&&ot.indexOf("Edg/")>=0),Pd=!!(ot&&ot.indexOf("Android")>=0);var Xt,Ni=globalThis.vscode;if(typeof Ni<"u"&&typeof Ni.process<"u"){let t=Ni.process;Xt={get platform(){return t.platform},get arch(){return t.arch},get env(){return t.env},cwd(){return t.cwd()}}}else typeof process<"u"&&typeof process?.versions?.node=="string"?Xt={get platform(){return process.platform},get arch(){return process.arch},get env(){return process.env},cwd(){return process.env.VSCODE_CWD||process.cwd()}}:Xt={get platform(){return Oe?"win32":Fn?"darwin":"linux"},get arch(){},get env(){return{}},cwd(){return"/"}};var Yt=Xt.cwd,mt=Xt.env,Fi=Xt.platform,xs=Xt.arch;var ql=65,$l=97,jl=90,Hl=122,Ot=46,_e=47,Me=92,Dt=58,Gl=63,_r=class extends Error{code;constructor(e,n,r){let i;typeof n=="string"&&n.indexOf("not ")===0?(i="must not be",n=n.replace(/^not /,"")):i="must be";let o=e.indexOf(".")!==-1?"property":"argument",s=`The "${e}" ${o} ${i} of type ${n}`;s+=`. Received type ${typeof r}`,super(s),this.code="ERR_INVALID_ARG_TYPE"}};function Ql(t,e){if(t===null||typeof t!="object")throw new _r(e,"Object",t)}function de(t,e){if(typeof t!="string")throw new _r(e,"string",t)}var Ke=Fi==="win32";function W(t){return t===_e||t===Me}function Mi(t){return t===_e}function At(t){return t>=ql&&t<=jl||t>=$l&&t<=Hl}function Sr(t,e,n,r){let i="",o=0,s=-1,l=0,c=0;for(let u=0;u<=t.length;++u){if(u<t.length)c=t.charCodeAt(u);else{if(r(c))break;c=_e}if(r(c)){if(!(s===u-1||l===1))if(l===2){if(i.length<2||o!==2||i.charCodeAt(i.length-1)!==Ot||i.charCodeAt(i.length-2)!==Ot){if(i.length>2){let d=i.lastIndexOf(n);d===-1?(i="",o=0):(i=i.slice(0,d),o=i.length-1-i.lastIndexOf(n)),s=u,l=0;continue}else if(i.length!==0){i="",o=0,s=u,l=0;continue}}e&&(i+=i.length>0?`${n}..`:"..",o=2)}else i.length>0?i+=`${n}${t.slice(s+1,u)}`:i=t.slice(s+1,u),o=u-s-1;s=u,l=0}else c===Ot&&l!==-1?++l:l=-1}return i}function Jl(t){return t?`${t[0]==="."?"":"."}${t}`:""}function vs(t,e){Ql(e,"pathObject");let n=e.dir||e.root,r=e.base||`${e.name||""}${Jl(e.ext)}`;return n?n===e.root?`${n}${r}`:`${n}${t}${r}`:r}var pe={resolve(...t){let e="",n="",r=!1;for(let i=t.length-1;i>=-1;i--){let o;if(i>=0){if(o=t[i],de(o,`paths[${i}]`),o.length===0)continue}else e.length===0?o=Yt():(o=mt[`=${e}`]||Yt(),(o===void 0||o.slice(0,2).toLowerCase()!==e.toLowerCase()&&o.charCodeAt(2)===Me)&&(o=`${e}\\`));let s=o.length,l=0,c="",u=!1,d=o.charCodeAt(0);if(s===1)W(d)&&(l=1,u=!0);else if(W(d))if(u=!0,W(o.charCodeAt(1))){let f=2,m=f;for(;f<s&&!W(o.charCodeAt(f));)f++;if(f<s&&f!==m){let v=o.slice(m,f);for(m=f;f<s&&W(o.charCodeAt(f));)f++;if(f<s&&f!==m){for(m=f;f<s&&!W(o.charCodeAt(f));)f++;(f===s||f!==m)&&(c=`\\\\${v}\\${o.slice(m,f)}`,l=f)}}}else l=1;else At(d)&&o.charCodeAt(1)===Dt&&(c=o.slice(0,2),l=2,s>2&&W(o.charCodeAt(2))&&(u=!0,l=3));if(c.length>0)if(e.length>0){if(c.toLowerCase()!==e.toLowerCase())continue}else e=c;if(r){if(e.length>0)break}else if(n=`${o.slice(l)}\\${n}`,r=u,u&&e.length>0)break}return n=Sr(n,!r,"\\",W),r?`${e}\\${n}`:`${e}${n}`||"."},normalize(t){de(t,"path");let e=t.length;if(e===0)return".";let n=0,r,i=!1,o=t.charCodeAt(0);if(e===1)return Mi(o)?"\\":t;if(W(o))if(i=!0,W(t.charCodeAt(1))){let l=2,c=l;for(;l<e&&!W(t.charCodeAt(l));)l++;if(l<e&&l!==c){let u=t.slice(c,l);for(c=l;l<e&&W(t.charCodeAt(l));)l++;if(l<e&&l!==c){for(c=l;l<e&&!W(t.charCodeAt(l));)l++;if(l===e)return`\\\\${u}\\${t.slice(c)}\\`;l!==c&&(r=`\\\\${u}\\${t.slice(c,l)}`,n=l)}}}else n=1;else At(o)&&t.charCodeAt(1)===Dt&&(r=t.slice(0,2),n=2,e>2&&W(t.charCodeAt(2))&&(i=!0,n=3));let s=n<e?Sr(t.slice(n),!i,"\\",W):"";return s.length===0&&!i&&(s="."),s.length>0&&W(t.charCodeAt(e-1))&&(s+="\\"),r===void 0?i?`\\${s}`:s:i?`${r}\\${s}`:`${r}${s}`},isAbsolute(t){de(t,"path");let e=t.length;if(e===0)return!1;let n=t.charCodeAt(0);return W(n)||e>2&&At(n)&&t.charCodeAt(1)===Dt&&W(t.charCodeAt(2))},join(...t){if(t.length===0)return".";let e,n;for(let o=0;o<t.length;++o){let s=t[o];de(s,"path"),s.length>0&&(e===void 0?e=n=s:e+=`\\${s}`)}if(e===void 0)return".";let r=!0,i=0;if(typeof n=="string"&&W(n.charCodeAt(0))){++i;let o=n.length;o>1&&W(n.charCodeAt(1))&&(++i,o>2&&(W(n.charCodeAt(2))?++i:r=!1))}if(r){for(;i<e.length&&W(e.charCodeAt(i));)i++;i>=2&&(e=`\\${e.slice(i)}`)}return pe.normalize(e)},relative(t,e){if(de(t,"from"),de(e,"to"),t===e)return"";let n=pe.resolve(t),r=pe.resolve(e);if(n===r||(t=n.toLowerCase(),e=r.toLowerCase(),t===e))return"";let i=0;for(;i<t.length&&t.charCodeAt(i)===Me;)i++;let o=t.length;for(;o-1>i&&t.charCodeAt(o-1)===Me;)o--;let s=o-i,l=0;for(;l<e.length&&e.charCodeAt(l)===Me;)l++;let c=e.length;for(;c-1>l&&e.charCodeAt(c-1)===Me;)c--;let u=c-l,d=s<u?s:u,f=-1,m=0;for(;m<d;m++){let A=t.charCodeAt(i+m);if(A!==e.charCodeAt(l+m))break;A===Me&&(f=m)}if(m!==d){if(f===-1)return r}else{if(u>d){if(e.charCodeAt(l+m)===Me)return r.slice(l+m+1);if(m===2)return r.slice(l+m)}s>d&&(t.charCodeAt(i+m)===Me?f=m:m===2&&(f=3)),f===-1&&(f=0)}let v="";for(m=i+f+1;m<=o;++m)(m===o||t.charCodeAt(m)===Me)&&(v+=v.length===0?"..":"\\..");return l+=f,v.length>0?`${v}${r.slice(l,c)}`:(r.charCodeAt(l)===Me&&++l,r.slice(l,c))},toNamespacedPath(t){if(typeof t!="string"||t.length===0)return t;let e=pe.resolve(t);if(e.length<=2)return t;if(e.charCodeAt(0)===Me){if(e.charCodeAt(1)===Me){let n=e.charCodeAt(2);if(n!==Gl&&n!==Ot)return`\\\\?\\UNC\\${e.slice(2)}`}}else if(At(e.charCodeAt(0))&&e.charCodeAt(1)===Dt&&e.charCodeAt(2)===Me)return`\\\\?\\${e}`;return t},dirname(t){de(t,"path");let e=t.length;if(e===0)return".";let n=-1,r=0,i=t.charCodeAt(0);if(e===1)return W(i)?t:".";if(W(i)){if(n=r=1,W(t.charCodeAt(1))){let l=2,c=l;for(;l<e&&!W(t.charCodeAt(l));)l++;if(l<e&&l!==c){for(c=l;l<e&&W(t.charCodeAt(l));)l++;if(l<e&&l!==c){for(c=l;l<e&&!W(t.charCodeAt(l));)l++;if(l===e)return t;l!==c&&(n=r=l+1)}}}}else At(i)&&t.charCodeAt(1)===Dt&&(n=e>2&&W(t.charCodeAt(2))?3:2,r=n);let o=-1,s=!0;for(let l=e-1;l>=r;--l)if(W(t.charCodeAt(l))){if(!s){o=l;break}}else s=!1;if(o===-1){if(n===-1)return".";o=n}return t.slice(0,o)},basename(t,e){e!==void 0&&de(e,"suffix"),de(t,"path");let n=0,r=-1,i=!0,o;if(t.length>=2&&At(t.charCodeAt(0))&&t.charCodeAt(1)===Dt&&(n=2),e!==void 0&&e.length>0&&e.length<=t.length){if(e===t)return"";let s=e.length-1,l=-1;for(o=t.length-1;o>=n;--o){let c=t.charCodeAt(o);if(W(c)){if(!i){n=o+1;break}}else l===-1&&(i=!1,l=o+1),s>=0&&(c===e.charCodeAt(s)?--s===-1&&(r=o):(s=-1,r=l))}return n===r?r=l:r===-1&&(r=t.length),t.slice(n,r)}for(o=t.length-1;o>=n;--o)if(W(t.charCodeAt(o))){if(!i){n=o+1;break}}else r===-1&&(i=!1,r=o+1);return r===-1?"":t.slice(n,r)},extname(t){de(t,"path");let e=0,n=-1,r=0,i=-1,o=!0,s=0;t.length>=2&&t.charCodeAt(1)===Dt&&At(t.charCodeAt(0))&&(e=r=2);for(let l=t.length-1;l>=e;--l){let c=t.charCodeAt(l);if(W(c)){if(!o){r=l+1;break}continue}i===-1&&(o=!1,i=l+1),c===Ot?n===-1?n=l:s!==1&&(s=1):n!==-1&&(s=-1)}return n===-1||i===-1||s===0||s===1&&n===i-1&&n===r+1?"":t.slice(n,i)},format:vs.bind(null,"\\"),parse(t){de(t,"path");let e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;let n=t.length,r=0,i=t.charCodeAt(0);if(n===1)return W(i)?(e.root=e.dir=t,e):(e.base=e.name=t,e);if(W(i)){if(r=1,W(t.charCodeAt(1))){let f=2,m=f;for(;f<n&&!W(t.charCodeAt(f));)f++;if(f<n&&f!==m){for(m=f;f<n&&W(t.charCodeAt(f));)f++;if(f<n&&f!==m){for(m=f;f<n&&!W(t.charCodeAt(f));)f++;f===n?r=f:f!==m&&(r=f+1)}}}}else if(At(i)&&t.charCodeAt(1)===Dt){if(n<=2)return e.root=e.dir=t,e;if(r=2,W(t.charCodeAt(2))){if(n===3)return e.root=e.dir=t,e;r=3}}r>0&&(e.root=t.slice(0,r));let o=-1,s=r,l=-1,c=!0,u=t.length-1,d=0;for(;u>=r;--u){if(i=t.charCodeAt(u),W(i)){if(!c){s=u+1;break}continue}l===-1&&(c=!1,l=u+1),i===Ot?o===-1?o=u:d!==1&&(d=1):o!==-1&&(d=-1)}return l!==-1&&(o===-1||d===0||d===1&&o===l-1&&o===s+1?e.base=e.name=t.slice(s,l):(e.name=t.slice(s,o),e.base=t.slice(s,l),e.ext=t.slice(o,l))),s>0&&s!==r?e.dir=t.slice(0,s-1):e.dir=e.root,e},sep:"\\",delimiter:";",win32:null,posix:null},Xl=(()=>{if(Ke){let t=/\\/g;return()=>{let e=Yt().replace(t,"/");return e.slice(e.indexOf("/"))}}return()=>Yt()})(),Q={resolve(...t){let e="",n=!1;for(let r=t.length-1;r>=-1&&!n;r--){let i=r>=0?t[r]:Xl();de(i,`paths[${r}]`),i.length!==0&&(e=`${i}/${e}`,n=i.charCodeAt(0)===_e)}return e=Sr(e,!n,"/",Mi),n?`/${e}`:e.length>0?e:"."},normalize(t){if(de(t,"path"),t.length===0)return".";let e=t.charCodeAt(0)===_e,n=t.charCodeAt(t.length-1)===_e;return t=Sr(t,!e,"/",Mi),t.length===0?e?"/":n?"./":".":(n&&(t+="/"),e?`/${t}`:t)},isAbsolute(t){return de(t,"path"),t.length>0&&t.charCodeAt(0)===_e},join(...t){if(t.length===0)return".";let e;for(let n=0;n<t.length;++n){let r=t[n];de(r,"path"),r.length>0&&(e===void 0?e=r:e+=`/${r}`)}return e===void 0?".":Q.normalize(e)},relative(t,e){if(de(t,"from"),de(e,"to"),t===e||(t=Q.resolve(t),e=Q.resolve(e),t===e))return"";let n=1,r=t.length,i=r-n,o=1,s=e.length-o,l=i<s?i:s,c=-1,u=0;for(;u<l;u++){let f=t.charCodeAt(n+u);if(f!==e.charCodeAt(o+u))break;f===_e&&(c=u)}if(u===l)if(s>l){if(e.charCodeAt(o+u)===_e)return e.slice(o+u+1);if(u===0)return e.slice(o+u)}else i>l&&(t.charCodeAt(n+u)===_e?c=u:u===0&&(c=0));let d="";for(u=n+c+1;u<=r;++u)(u===r||t.charCodeAt(u)===_e)&&(d+=d.length===0?"..":"/..");return`${d}${e.slice(o+c)}`},toNamespacedPath(t){return t},dirname(t){if(de(t,"path"),t.length===0)return".";let e=t.charCodeAt(0)===_e,n=-1,r=!0;for(let i=t.length-1;i>=1;--i)if(t.charCodeAt(i)===_e){if(!r){n=i;break}}else r=!1;return n===-1?e?"/":".":e&&n===1?"//":t.slice(0,n)},basename(t,e){e!==void 0&&de(e,"ext"),de(t,"path");let n=0,r=-1,i=!0,o;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e===t)return"";let s=e.length-1,l=-1;for(o=t.length-1;o>=0;--o){let c=t.charCodeAt(o);if(c===_e){if(!i){n=o+1;break}}else l===-1&&(i=!1,l=o+1),s>=0&&(c===e.charCodeAt(s)?--s===-1&&(r=o):(s=-1,r=l))}return n===r?r=l:r===-1&&(r=t.length),t.slice(n,r)}for(o=t.length-1;o>=0;--o)if(t.charCodeAt(o)===_e){if(!i){n=o+1;break}}else r===-1&&(i=!1,r=o+1);return r===-1?"":t.slice(n,r)},extname(t){de(t,"path");let e=-1,n=0,r=-1,i=!0,o=0;for(let s=t.length-1;s>=0;--s){let l=t.charCodeAt(s);if(l===_e){if(!i){n=s+1;break}continue}r===-1&&(i=!1,r=s+1),l===Ot?e===-1?e=s:o!==1&&(o=1):e!==-1&&(o=-1)}return e===-1||r===-1||o===0||o===1&&e===r-1&&e===n+1?"":t.slice(e,r)},format:vs.bind(null,"/"),parse(t){de(t,"path");let e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;let n=t.charCodeAt(0)===_e,r;n?(e.root="/",r=1):r=0;let i=-1,o=0,s=-1,l=!0,c=t.length-1,u=0;for(;c>=r;--c){let d=t.charCodeAt(c);if(d===_e){if(!l){o=c+1;break}continue}s===-1&&(l=!1,s=c+1),d===Ot?i===-1?i=c:u!==1&&(u=1):i!==-1&&(u=-1)}if(s!==-1){let d=o===0&&n?1:o;i===-1||u===0||u===1&&i===s-1&&i===o+1?e.base=e.name=t.slice(d,s):(e.name=t.slice(d,i),e.base=t.slice(d,s),e.ext=t.slice(i,s))}return o>0?e.dir=t.slice(0,o-1):n&&(e.dir="/"),e},sep:"/",delimiter:":",win32:null,posix:null};Q.win32=pe.win32=pe;Q.posix=pe.posix=Q;var gt=Ke?pe.normalize:Q.normalize,Ki=Ke?pe.isAbsolute:Q.isAbsolute,Pe=Ke?pe.join:Q.join,Lt=Ke?pe.resolve:Q.resolve,Is=Ke?pe.relative:Q.relative,wr=Ke?pe.dirname:Q.dirname,Mn=Ke?pe.basename:Q.basename,Ts=Ke?pe.extname:Q.extname,Dd=Ke?pe.format:Q.format,Ad=Ke?pe.parse:Q.parse,Od=Ke?pe.toNamespacedPath:Q.toNamespacedPath,st=Ke?pe.sep:Q.sep,Ld=Ke?pe.delimiter:Q.delimiter;var Yl=/^\w[\w\d+.-]*$/,Zl=/^\//,ec=/^\/\//;function tc(t,e){if(!t.scheme&&e)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${t.authority}", path: "${t.path}", query: "${t.query}", fragment: "${t.fragment}"}`);if(t.scheme&&!Yl.test(t.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(t.path){if(t.authority){if(!Zl.test(t.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(ec.test(t.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function nc(t,e){return!t&&!e?"file":t}function rc(t,e){switch(t){case"https":case"http":case"file":e?e[0]!==Je&&(e=Je+e):e=Je;break}return e}var ie="",Je="/",ic=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,w=class t{static isUri(e){return e instanceof t?!0:e?typeof e.authority=="string"&&typeof e.fragment=="string"&&typeof e.path=="string"&&typeof e.query=="string"&&typeof e.scheme=="string"&&typeof e.fsPath=="string"&&typeof e.with=="function"&&typeof e.toString=="function":!1}scheme;authority;path;query;fragment;constructor(e,n,r,i,o,s=!1){typeof e=="object"?(this.scheme=e.scheme||ie,this.authority=e.authority||ie,this.path=e.path||ie,this.query=e.query||ie,this.fragment=e.fragment||ie):(this.scheme=nc(e,s),this.authority=n||ie,this.path=rc(this.scheme,r||ie),this.query=i||ie,this.fragment=o||ie,tc(this,s))}get fsPath(){return Kn(this,!1)}with(e){if(!e)return this;let{scheme:n,authority:r,path:i,query:o,fragment:s}=e;return n===void 0?n=this.scheme:n===null&&(n=ie),r===void 0?r=this.authority:r===null&&(r=ie),i===void 0?i=this.path:i===null&&(i=ie),o===void 0?o=this.query:o===null&&(o=ie),s===void 0?s=this.fragment:s===null&&(s=ie),n===this.scheme&&r===this.authority&&i===this.path&&o===this.query&&s===this.fragment?this:new Ut(n,r,i,o,s)}static parse(e,n=!1){let r=ic.exec(e);return r?new Ut(r[2]||ie,Rr(r[4]||ie),Rr(r[5]||ie),Rr(r[7]||ie),Rr(r[9]||ie),n):new Ut(ie,ie,ie,ie,ie)}static file(e){let n=ie;if(Oe&&(e=e.replace(/\\/g,Je)),e[0]===Je&&e[1]===Je){let r=e.indexOf(Je,2);r===-1?(n=e.substring(2),e=Je):(n=e.substring(2,r),e=e.substring(r)||Je)}return new Ut("file",n,e,ie,ie)}static from(e,n){return new Ut(e.scheme,e.authority,e.path,e.query,e.fragment,n)}static joinPath(e,...n){if(!e.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let r;return Oe&&e.scheme==="file"?r=t.file(pe.join(Kn(e,!0),...n)).path:r=Q.join(e.path,...n),e.with({path:r})}toString(e=!1){return Bi(this,e)}toJSON(){return this}static revive(e){if(e){if(e instanceof t)return e;{let n=new Ut(e);return n._formatted=e.external??null,n._fsPath=e._sep===ws?e.fsPath??null:null,n}}else return e}[Symbol.for("debug.description")](){return`URI(${this.toString()})`}};var ws=Oe?1:void 0,Ut=class extends w{_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=Kn(this,!1)),this._fsPath}toString(e=!1){return e?Bi(this,!0):(this._formatted||(this._formatted=Bi(this,!1)),this._formatted)}toJSON(){let e={$mid:1};return this._fsPath&&(e.fsPath=this._fsPath,e._sep=ws),this._formatted&&(e.external=this._formatted),this.path&&(e.path=this.path),this.scheme&&(e.scheme=this.scheme),this.authority&&(e.authority=this.authority),this.query&&(e.query=this.query),this.fragment&&(e.fragment=this.fragment),e}},Ps={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function Es(t,e,n){let r,i=-1;for(let o=0;o<t.length;o++){let s=t.charCodeAt(o);if(s>=97&&s<=122||s>=65&&s<=90||s>=48&&s<=57||s===45||s===46||s===95||s===126||e&&s===47||n&&s===91||n&&s===93||n&&s===58)i!==-1&&(r+=encodeURIComponent(t.substring(i,o)),i=-1),r!==void 0&&(r+=t.charAt(o));else{r===void 0&&(r=t.substr(0,o));let l=Ps[s];l!==void 0?(i!==-1&&(r+=encodeURIComponent(t.substring(i,o)),i=-1),r+=l):i===-1&&(i=o)}}return i!==-1&&(r+=encodeURIComponent(t.substring(i))),r!==void 0?r:t}function oc(t){let e;for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r===35||r===63?(e===void 0&&(e=t.substr(0,n)),e+=Ps[r]):e!==void 0&&(e+=t[n])}return e!==void 0?e:t}function Kn(t,e){let n;return t.authority&&t.path.length>1&&t.scheme==="file"?n=`//${t.authority}${t.path}`:t.path.charCodeAt(0)===47&&(t.path.charCodeAt(1)>=65&&t.path.charCodeAt(1)<=90||t.path.charCodeAt(1)>=97&&t.path.charCodeAt(1)<=122)&&t.path.charCodeAt(2)===58?e?n=t.path.substr(1):n=t.path[1].toLowerCase()+t.path.substr(2):n=t.path,Oe&&(n=n.replace(/\//g,"\\")),n}function Bi(t,e){let n=e?oc:Es,r="",{scheme:i,authority:o,path:s,query:l,fragment:c}=t;if(i&&(r+=i,r+=":"),(o||i==="file")&&(r+=Je,r+=Je),o){let u=o.indexOf("@");if(u!==-1){let d=o.substr(0,u);o=o.substr(u+1),u=d.lastIndexOf(":"),u===-1?r+=n(d,!1,!1):(r+=n(d.substr(0,u),!1,!1),r+=":",r+=n(d.substr(u+1),!1,!0)),r+="@"}o=o.toLowerCase(),u=o.lastIndexOf(":"),u===-1?r+=n(o,!1,!0):(r+=n(o.substr(0,u),!1,!0),r+=o.substr(u))}if(s){if(s.length>=3&&s.charCodeAt(0)===47&&s.charCodeAt(2)===58){let u=s.charCodeAt(1);u>=65&&u<=90&&(s=`/${String.fromCharCode(u+32)}:${s.substr(3)}`)}else if(s.length>=2&&s.charCodeAt(1)===58){let u=s.charCodeAt(0);u>=65&&u<=90&&(s=`${String.fromCharCode(u+32)}:${s.substr(2)}`)}r+=n(s,!0,!1)}return l&&(r+="?",r+=n(l,!1,!1)),c&&(r+="#",r+=e?c:Es(c,!1,!1)),r}function Rs(t){try{return decodeURIComponent(t)}catch{return t.length>3?t.substr(0,3)+Rs(t.substr(3)):t}}var _s=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function Rr(t){return t.match(_s)?t.replace(_s,e=>Rs(e)):t}var Bn={exports:{}};(function(){function e(o){let s=[];typeof o=="number"&&s.push("code/timeOrigin",o);function l(u){s.push(u,Date.now())}function c(){let u=[];for(let d=0;d<s.length;d+=2)u.push({name:s[d],startTime:s[d+1]});return u}return{mark:l,getMarks:c}}function n(){if(typeof performance=="object"&&typeof performance.mark=="function"&&!performance.nodeTiming)return typeof performance.timeOrigin!="number"&&!performance.timing?e():{mark(o){performance.mark(o)},getMarks(){let o=performance.timeOrigin;typeof o!="number"&&(o=performance.timing.navigationStart||performance.timing.redirectStart||performance.timing.fetchStart);let s=[{name:"code/timeOrigin",startTime:Math.round(o)}];for(let l of performance.getEntriesByType("mark"))s.push({name:l.name,startTime:Math.round(o+l.startTime)});return s}};if(typeof process=="object"){let o=performance?.timeOrigin;return e(o)}else return console.trace("perf-util loaded in UNKNOWN environment"),e()}function r(o){return o.MonacoPerformanceMarks||(o.MonacoPerformanceMarks=n()),o.MonacoPerformanceMarks}var i;typeof global=="object"?i=global:typeof self=="object"?i=self:i={},typeof Bn=="object"&&typeof Bn.exports=="object"?Bn.exports=r(i):(console.trace("perf-util defined in UNKNOWN context (neither requirejs or commonjs)"),i.perf=r(i))})();var Vn=Bn.exports.mark,Bd=Bn.exports.getMarks;var Vi=class{unexpectedErrorHandler;listeners;constructor(){this.listeners=[],this.unexpectedErrorHandler=function(e){setTimeout(()=>{throw e.stack?Ct.isErrorNoTelemetry(e)?new Ct(e.message+`

`+e.stack):new Error(e.message+`

`+e.stack):e},0)}}addListener(e){return this.listeners.push(e),()=>{this._removeListener(e)}}emit(e){this.listeners.forEach(n=>{n(e)})}_removeListener(e){this.listeners.splice(this.listeners.indexOf(e),1)}setUnexpectedErrorHandler(e){this.unexpectedErrorHandler=e}getUnexpectedErrorHandler(){return this.unexpectedErrorHandler}onUnexpectedError(e){this.unexpectedErrorHandler(e),this.emit(e)}onUnexpectedExternalError(e){this.unexpectedErrorHandler(e)}},ks=new Vi;function hn(t){ks.onUnexpectedError(t)}function bt(t){zi(t)||ks.onUnexpectedError(t)}var Wi="Canceled";function zi(t){return t instanceof Be?!0:t instanceof Error&&t.name===Wi&&t.message===Wi}var Be=class extends Error{constructor(){super(Wi),this.name=this.message}};function Ds(t){return t?new Error(`Illegal state: ${t}`):new Error("Illegal state")}function ze(t){return t?t.message?t.message:t.stack?t.stack.split(`
`)[0]:String(t):"Error"}var Ct=class t extends Error{name;constructor(e){super(e),this.name="CodeExpectedError"}static fromError(e){if(e instanceof t)return e;let n=new t;return n.message=e.message,n.stack=e.stack,n}static isErrorNoTelemetry(e){return e.name==="CodeExpectedError"}},gn=class t extends Error{constructor(e){super(e||"An unexpected bug occurred."),Object.setPrototypeOf(this,t.prototype)}};function Zt(t){return t.filter(e=>!!e)}var Os;(l=>{function t(c){return c<0}l.isLessThan=t;function e(c){return c<=0}l.isLessThanOrEqual=e;function n(c){return c>0}l.isGreaterThan=n;function r(c){return c===0}l.isNeitherLessOrGreaterThan=r,l.greaterThan=1,l.lessThan=-1,l.neitherLessOrGreaterThan=0})(Os||={});var As=class t{constructor(e){this.iterate=e}static empty=new t(e=>{});forEach(e){this.iterate(n=>(e(n),!0))}toArray(){let e=[];return this.iterate(n=>(e.push(n),!0)),e}filter(e){return new t(n=>this.iterate(r=>e(r)?n(r):!0))}map(e){return new t(n=>this.iterate(r=>n(e(r))))}some(e){let n=!1;return this.iterate(r=>(n=e(r),!n)),n}findFirst(e){let n;return this.iterate(r=>e(r)?(n=r,!1):!0),n}findLast(e){let n;return this.iterate(r=>(e(r)&&(n=r),!0)),n}findLastMaxBy(e){let n,r=!0;return this.iterate(i=>((r||Os.isGreaterThan(e(i,n)))&&(r=!1,n=i),!0)),n}};var qi=class{constructor(e,n){this.uri=e;this.value=n}};function lc(t){return Array.isArray(t)}var yt=class t{static defaultToKey=e=>e.toString();[Symbol.toStringTag]="ResourceMap";map;toKey;constructor(e,n){if(e instanceof t)this.map=new Map(e.map),this.toKey=n??t.defaultToKey;else if(lc(e)){this.map=new Map,this.toKey=n??t.defaultToKey;for(let[r,i]of e)this.set(r,i)}else this.map=new Map,this.toKey=e??t.defaultToKey}set(e,n){return this.map.set(this.toKey(e),new qi(e,n)),this}get(e){return this.map.get(this.toKey(e))?.value}has(e){return this.map.has(this.toKey(e))}get size(){return this.map.size}clear(){this.map.clear()}delete(e){return this.map.delete(this.toKey(e))}forEach(e,n){typeof n<"u"&&(e=e.bind(n));for(let[r,i]of this.map)e(i.value,i.uri,this)}*values(){for(let e of this.map.values())yield e.value}*keys(){for(let e of this.map.values())yield e.uri}*entries(){for(let e of this.map.values())yield[e.uri,e.value]}*[Symbol.iterator](){for(let[,e]of this.map)yield[e.uri,e.value]}};var $i=class{[Symbol.toStringTag]="LinkedMap";_map;_head;_tail;_size;_state;constructor(){this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(e){return this._map.has(e)}get(e,n=0){let r=this._map.get(e);if(r)return n!==0&&this.touch(r,n),r.value}set(e,n,r=0){let i=this._map.get(e);if(i)i.value=n,r!==0&&this.touch(i,r);else{switch(i={key:e,value:n,next:void 0,previous:void 0},r){case 0:this.addItemLast(i);break;case 1:this.addItemFirst(i);break;case 2:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(e,i),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let n=this._map.get(e);if(n)return this._map.delete(e),this.removeItem(n),this._size--,n.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,n){let r=this._state,i=this._head;for(;i;){if(n?e.bind(n)(i.value,i.key,this):e(i.value,i.key,this),this._state!==r)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let e=this,n=this._state,r=this._head,i={[Symbol.iterator](){return i},next(){if(e._state!==n)throw new Error("LinkedMap got modified during iteration.");if(r){let o={value:r.key,done:!1};return r=r.next,o}else return{value:void 0,done:!0}}};return i}values(){let e=this,n=this._state,r=this._head,i={[Symbol.iterator](){return i},next(){if(e._state!==n)throw new Error("LinkedMap got modified during iteration.");if(r){let o={value:r.value,done:!1};return r=r.next,o}else return{value:void 0,done:!0}}};return i}entries(){let e=this,n=this._state,r=this._head,i={[Symbol.iterator](){return i},next(){if(e._state!==n)throw new Error("LinkedMap got modified during iteration.");if(r){let o={value:[r.key,r.value],done:!1};return r=r.next,o}else return{value:void 0,done:!0}}};return i}[Symbol.iterator](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let n=this._head,r=this.size;for(;n&&r>e;)this._map.delete(n.key),n=n.next,r--;this._head=n,this._size=r,n&&(n.previous=void 0),this._state++}trimNew(e){if(e>=this.size)return;if(e===0){this.clear();return}let n=this._tail,r=this.size;for(;n&&r>e;)this._map.delete(n.key),n=n.previous,r--;this._tail=n,this._size=r,n&&(n.next=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let n=e.next,r=e.previous;if(!n||!r)throw new Error("Invalid list");n.previous=r,r.next=n}e.next=void 0,e.previous=void 0,this._state++}touch(e,n){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(n!==1&&n!==2)){if(n===1){if(e===this._head)return;let r=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(r.previous=i,i.next=r),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(n===2){if(e===this._tail)return;let r=e.next,i=e.previous;e===this._head?(r.previous=void 0,this._head=r):(r.previous=i,i.next=r),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((n,r)=>{e.push([r,n])}),e}fromJSON(e){this.clear();for(let[n,r]of e)this.set(n,r)}},ji=class extends $i{_limit;_ratio;constructor(e,n=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,n),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,n=2){return super.get(e,n)}peek(e){return super.get(e,0)}set(e,n){return super.set(e,n,2),this}checkTrim(){this.size>this._limit&&this.trim(Math.round(this._limit*this._ratio))}},bn=class extends ji{constructor(e,n=1){super(e,n)}trim(e){this.trimOld(e)}set(e,n){return super.set(e,n),this.checkTrim(),this}};function Hi(t,e){let n=this,r=!1,i;return function(){if(r)return i;if(r=!0,e)try{i=t.apply(n,arguments)}finally{e()}else i=t.apply(n,arguments);return i}}var Wn;(z=>{function t(x){return x&&typeof x=="object"&&typeof x[Symbol.iterator]=="function"}z.is=t;let e=Object.freeze([]);function n(){return e}z.empty=n;function*r(x){yield x}z.single=r;function i(x){return t(x)?x:r(x)}z.wrap=i;function o(x){return x||e}z.from=o;function*s(x){for(let D=x.length-1;D>=0;D--)yield x[D]}z.reverse=s;function l(x){return!x||x[Symbol.iterator]().next().done===!0}z.isEmpty=l;function c(x){return x[Symbol.iterator]().next().value}z.first=c;function u(x,D){let B=0;for(let U of x)if(D(U,B++))return!0;return!1}z.some=u;function d(x,D){for(let B of x)if(D(B))return B}z.find=d;function*f(x,D){for(let B of x)D(B)&&(yield B)}z.filter=f;function*m(x,D){let B=0;for(let U of x)yield D(U,B++)}z.map=m;function*v(x,D){let B=0;for(let U of x)yield*D(U,B++)}z.flatMap=v;function*A(...x){for(let D of x)yield*D}z.concat=A;function y(x,D,B){let U=B;for(let he of x)U=D(U,he);return U}z.reduce=y;function*E(x,D,B=x.length){for(D<0&&(D+=x.length),B<0?B+=x.length:B>x.length&&(B=x.length);D<B;D++)yield x[D]}z.slice=E;function T(x,D=Number.POSITIVE_INFINITY){let B=[];if(D===0)return[B,x];let U=x[Symbol.iterator]();for(let he=0;he<D;he++){let N=U.next();if(N.done)return[B,z.empty()];B.push(N.value)}return[B,{[Symbol.iterator](){return U}}]}z.consume=T;async function _(x){let D=[];for await(let B of x)D.push(B);return Promise.resolve(D)}z.asyncToArray=_})(Wn||={});var cc=!1,yn=null;function uc(t){yn=t}if(cc){let t="__is_disposable_tracked__";uc(new class{trackDisposable(e){let n=new Error("Potentially leaked disposable").stack;setTimeout(()=>{e[t]||console.log(n)},3e3)}setParent(e,n){if(e&&e!==ye.None)try{e[t]=!0}catch{}}markAsDisposed(e){if(e&&e!==ye.None)try{e[t]=!0}catch{}}markAsSingleton(e){}})}function zn(t){return yn?.trackDisposable(t),t}function qn(t){yn?.markAsDisposed(t)}function Gi(t,e){yn?.setParent(t,e)}function dc(t,e){if(yn)for(let n of t)yn.setParent(n,e)}function kr(t){if(Wn.is(t)){let e=[];for(let n of t)if(n)try{n.dispose()}catch(r){e.push(r)}if(e.length===1)throw e[0];if(e.length>1)throw new AggregateError(e,"Encountered errors while disposing of store");return Array.isArray(t)?[]:t}else if(t)return t.dispose(),t}function Dr(...t){let e=Le(()=>kr(t));return dc(t,e),e}function Le(t){let e=zn({dispose:Hi(()=>{qn(e),t()})});return e}var Xe=class t{static DISABLE_DISPOSED_WARNING=!1;_toDispose=new Set;_isDisposed=!1;constructor(){zn(this)}dispose(){this._isDisposed||(qn(this),this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){if(this._toDispose.size!==0)try{kr(this._toDispose)}finally{this._toDispose.clear()}}add(e){if(!e)return e;if(e===this)throw new Error("Cannot register a disposable on itself!");return Gi(e,this),this._isDisposed?t.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(e),e}delete(e){if(e){if(e===this)throw new Error("Cannot dispose a disposable on itself!");this._toDispose.delete(e),e.dispose()}}deleteAndLeak(e){e&&this._toDispose.has(e)&&(this._toDispose.delete(e),Gi(e,null))}},ye=class{static None=Object.freeze({dispose(){}});_store=new Xe;constructor(){zn(this),Gi(this._store,this)}dispose(){qn(this),this._store.dispose()}_register(e){if(e===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(e)}};var Us=Object.freeze(function(t,e){let n=setTimeout(t.bind(e),0);return{dispose(){clearTimeout(n)}}}),xt;(r=>{function t(i){return i===r.None||i===r.Cancelled||i instanceof xn?!0:!i||typeof i!="object"?!1:typeof i.isCancellationRequested=="boolean"&&typeof i.onCancellationRequested=="function"}r.isCancellationToken=t,r.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:He.None}),r.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:Us})})(xt||={});var xn=class{_isCancelled=!1;_emitter=null;cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?Us:(this._emitter||(this._emitter=new J),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}},at=class{_token=void 0;_parentListener=void 0;constructor(e){this._parentListener=e&&e.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new xn),this._token}cancel(){this._token?this._token instanceof xn&&this._token.cancel():this._token=xt.Cancelled}dispose(e=!1){e&&this.cancel(),this._parentListener?.dispose(),this._token?this._token instanceof xn&&this._token.dispose():this._token=xt.None}};var ae=class t{static Undefined=new t(void 0);element;next;prev;constructor(e){this.element=e,this.next=t.Undefined,this.prev=t.Undefined}},$n=class{_first=ae.Undefined;_last=ae.Undefined;_size=0;get size(){return this._size}isEmpty(){return this._first===ae.Undefined}clear(){let e=this._first;for(;e!==ae.Undefined;){let n=e.next;e.prev=ae.Undefined,e.next=ae.Undefined,e=n}this._first=ae.Undefined,this._last=ae.Undefined,this._size=0}unshift(e){return this._insert(e,!1)}push(e){return this._insert(e,!0)}_insert(e,n){let r=new ae(e);if(this._first===ae.Undefined)this._first=r,this._last=r;else if(n){let o=this._last;this._last=r,r.prev=o,o.next=r}else{let o=this._first;this._first=r,r.next=o,o.prev=r}this._size+=1;let i=!1;return()=>{i||(i=!0,this._remove(r))}}shift(){if(this._first!==ae.Undefined){let e=this._first.element;return this._remove(this._first),e}}pop(){if(this._last!==ae.Undefined){let e=this._last.element;return this._remove(this._last),e}}_remove(e){if(e.prev!==ae.Undefined&&e.next!==ae.Undefined){let n=e.prev;n.next=e.next,e.next.prev=n}else e.prev===ae.Undefined&&e.next===ae.Undefined?(this._first=ae.Undefined,this._last=ae.Undefined):e.next===ae.Undefined?(this._last=this._last.prev,this._last.next=ae.Undefined):e.prev===ae.Undefined&&(this._first=this._first.next,this._first.prev=ae.Undefined);this._size-=1}*[Symbol.iterator](){let e=this._first;for(;e!==ae.Undefined;)yield e.element,e=e.next}};var en=(t,e)=>t===e;var Ye=class{constructor(e,n,r){this.owner=e;this.debugNameSource=n;this.referenceFn=r}getDebugName(e){return Ms(e,this)}},Cs=new Map,Qi=new WeakMap;function Ms(t,e){let n=Qi.get(t);if(n)return n;let r=fc(t,e);if(r){let i=Cs.get(r)??0;i++,Cs.set(r,i);let o=i===1?r:`${r}#${i}`;return Qi.set(t,o),o}}function fc(t,e){let n=Qi.get(t);if(n)return n;let r=e.owner?gc(e.owner)+".":"",i,o=e.debugNameSource;if(o!==void 0)if(typeof o=="function"){if(i=o(),i!==void 0)return r+i}else return r+o;let s=e.referenceFn;if(s!==void 0&&(i=Ar(s),i!==void 0))return r+i;if(e.owner!==void 0){let l=mc(e.owner,t);if(l!==void 0)return r+l}}function mc(t,e){for(let n in t)if(t[n]===e)return n}var Ns=new Map,Fs=new WeakMap;function gc(t){let e=Fs.get(t);if(e)return e;let n=hc(t),r=Ns.get(n)??0;r++,Ns.set(n,r);let i=r===1?n:`${n}#${r}`;return Fs.set(t,i),i}function hc(t){let e=t.constructor;return e?e.name:"Object"}function Ar(t){let e=t.toString(),r=/\/\*\*\s*@description\s*([^*]*)\*\//.exec(e);return(r?r[1]:void 0)?.trim()}function Or(t,e){if(!t)throw new Error(e?`Assertion failed (${e})`:"Assertion Failed")}function Lr(t){if(!t()){debugger;t(),bt(new gn("Assertion Failed"))}}function jn(t){return new Ur(new Ye(void 0,void 0,t),t,void 0,void 0)}var Ur=class{constructor(e,n,r,i){this._debugNameData=e;this._runFn=n;this.createChangeSummary=r;this._handleChange=i;this.changeSummary=this.createChangeSummary?.(),qe()?.handleAutorunCreated(this),this._runIfNeeded(),zn(this)}state=2;updateCount=0;disposed=!1;dependencies=new Set;dependenciesToBeRemoved=new Set;changeSummary;get debugName(){return this._debugNameData.getDebugName(this)??"(anonymous)"}dispose(){this.disposed=!0;for(let e of this.dependencies)e.removeObserver(this);this.dependencies.clear(),qn(this)}_runIfNeeded(){if(this.state===3)return;let e=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=e,this.state=3;let n=this.disposed;try{if(!n){qe()?.handleAutorunTriggered(this);let r=this.changeSummary;try{this.changeSummary=this.createChangeSummary?.(),this._runFn(this,r)}catch(i){hn(i)}}}finally{n||qe()?.handleAutorunFinished(this);for(let r of this.dependenciesToBeRemoved)r.removeObserver(this);this.dependenciesToBeRemoved.clear()}}toString(){return`Autorun<${this.debugName}>`}beginUpdate(){this.state===3&&(this.state=1),this.updateCount++}endUpdate(){try{if(this.updateCount===1)do{if(this.state===1){this.state=3;for(let e of this.dependencies)if(e.reportChanges(),this.state===2)break}this._runIfNeeded()}while(this.state!==3)}finally{this.updateCount--}Lr(()=>this.updateCount>=0)}handlePossibleChange(e){this.state===3&&this.dependencies.has(e)&&!this.dependenciesToBeRemoved.has(e)&&(this.state=1)}handleChange(e,n){if(this.dependencies.has(e)&&!this.dependenciesToBeRemoved.has(e))try{(this._handleChange?this._handleChange({changedObservable:e,change:n,didChange:i=>i===e},this.changeSummary):!0)&&(this.state=2)}catch(r){hn(r)}}readObservable(e){if(this.disposed)return e.get();e.addObserver(this);let n=e.get();return this.dependencies.add(e),this.dependenciesToBeRemoved.delete(e),n}};(e=>e.Observer=Ur)(jn||={});function Ji(t,e){return new Cr(new Ye(t.owner,t.debugName,t.debugReferenceFn),e,void 0,void 0,t.onLastObserverRemoved,t.equalsFn??en)}Ks(Ji);var Cr=class extends tn{constructor(n,r,i,o,s=void 0,l){super();this._debugNameData=n;this._computeFn=r;this.createChangeSummary=i;this._handleChange=o;this._handleLastObserverRemoved=s;this._equalityComparator=l;this.changeSummary=this.createChangeSummary?.(),qe()?.handleDerivedCreated(this)}state=0;value=void 0;updateCount=0;dependencies=new Set;dependenciesToBeRemoved=new Set;changeSummary=void 0;get debugName(){return this._debugNameData.getDebugName(this)??"(anonymous)"}onLastObserverRemoved(){this.state=0,this.value=void 0;for(let n of this.dependencies)n.removeObserver(this);this.dependencies.clear(),this._handleLastObserverRemoved?.()}get(){if(this.observers.size===0){let n=this._computeFn(this,this.createChangeSummary?.());return this.onLastObserverRemoved(),n}else{do{if(this.state===1){for(let n of this.dependencies)if(n.reportChanges(),this.state===2)break}this.state===1&&(this.state=3),this._recomputeIfNeeded()}while(this.state!==3);return this.value}}_recomputeIfNeeded(){if(this.state===3)return;let n=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=n;let r=this.state!==0,i=this.value;this.state=3;let o=!1;try{let s=this.changeSummary;this.changeSummary=this.createChangeSummary?.();try{this.value=this._computeFn(this,s)}finally{for(let l of this.dependenciesToBeRemoved)l.removeObserver(this);this.dependenciesToBeRemoved.clear()}o=r&&!this._equalityComparator(i,this.value),qe()?.handleDerivedRecomputed(this,{oldValue:i,newValue:this.value,change:void 0,didChange:o,hadValue:r})}catch(s){hn(s)}if(o)for(let s of this.observers)s.handleChange(this,void 0)}toString(){return`LazyDerived<${this.debugName}>`}beginUpdate(n){this.updateCount++;let r=this.updateCount===1;if(this.state===3&&(this.state=1,!r))for(let i of this.observers)i.handlePossibleChange(this);if(r)for(let i of this.observers)i.beginUpdate(this)}endUpdate(n){if(this.updateCount--,this.updateCount===0){let r=[...this.observers];for(let i of r)i.endUpdate(this)}Lr(()=>this.updateCount>=0)}handlePossibleChange(n){if(this.state===3&&this.dependencies.has(n)&&!this.dependenciesToBeRemoved.has(n)){this.state=1;for(let r of this.observers)r.handlePossibleChange(this)}}handleChange(n,r){if(this.dependencies.has(n)&&!this.dependenciesToBeRemoved.has(n)){let i=!1;try{i=this._handleChange?this._handleChange({changedObservable:n,change:r,didChange:s=>s===n},this.changeSummary):!0}catch(s){hn(s)}let o=this.state===3;if(i&&(this.state===1||o)&&(this.state=2,o))for(let s of this.observers)s.handlePossibleChange(this)}}readObservable(n){n.addObserver(this);let r=n.get();return this.dependencies.add(n),this.dependenciesToBeRemoved.delete(n),r}addObserver(n){let r=!this.observers.has(n)&&this.updateCount>0;super.addObserver(n),r&&n.beginUpdate(this)}removeObserver(n){let r=this.observers.has(n)&&this.updateCount>0;super.removeObserver(n),r&&n.endUpdate(this)}};function Xi(...t){let e,n,r;return t.length===3?[e,n,r]=t:[n,r]=t,new Nt(new Ye(e,void 0,r),n,r,()=>Nt.globalTransaction,en)}var Nt=class extends tn{constructor(n,r,i,o,s){super();this._debugNameData=n;this.event=r;this._getValue=i;this._getTransaction=o;this._equalityComparator=s}static globalTransaction;value;hasValue=!1;subscription;getDebugName(){return this._debugNameData.getDebugName(this)}get debugName(){let n=this.getDebugName();return"From Event"+(n?`: ${n}`:"")}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}handleEvent=n=>{let r=this._getValue(n),i=this.value,o=!this.hasValue||!this._equalityComparator(i,r),s=!1;o&&(this.value=r,this.hasValue&&(s=!0,Yi(this._getTransaction(),l=>{qe()?.handleFromEventObservableTriggered(this,{oldValue:i,newValue:r,change:void 0,didChange:o,hadValue:this.hasValue});for(let c of this.observers)l.updateObserver(c,this),c.handleChange(this,void 0)},()=>{let l=this.getDebugName();return"Event fired"+(l?`: ${l}`:"")})),this.hasValue=!0),s||qe()?.handleFromEventObservableTriggered(this,{oldValue:i,newValue:r,change:void 0,didChange:o,hadValue:this.hasValue})};onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0,this.hasValue=!1,this.value=void 0}get(){return this.subscription?(this.hasValue||this.handleEvent(void 0),this.value):this._getValue(void 0)}};(n=>{n.Observer=Nt;function e(r,i){let o=!1;Nt.globalTransaction===void 0&&(Nt.globalTransaction=r,o=!0);try{i()}finally{o&&(Nt.globalTransaction=void 0)}}n.batchEventsGlobally=e})(Xi||={});function Vs(t){let e=new Nr(!1,void 0);return t.addObserver(e),Le(()=>{t.removeObserver(e)})}qs(Vs);function Ws(t,e){let n=new Nr(!0,e);return t.addObserver(n),e?e(t.get()):t.reportChanges(),Le(()=>{t.removeObserver(n)})}zs(Ws);var Nr=class{constructor(e,n){this._forceRecompute=e;this._handleValue=n}_counter=0;beginUpdate(e){this._counter++}endUpdate(e){this._counter--,this._counter===0&&this._forceRecompute&&(this._handleValue?this._handleValue(e.get()):e.reportChanges())}handlePossibleChange(e){}handleChange(e,n){}};var js;function Hs(t){js=t}function qe(){return js}var Kr=class{indentation=0;textToConsoleArgs(e){return vc([vn(Ec("|  ",this.indentation)),e])}formatInfo(e){return e.hadValue?e.didChange?[vn(" "),Ze(Gn(e.oldValue,70),{color:"red",strikeThrough:!0}),vn(" "),Ze(Gn(e.newValue,60),{color:"green"})]:[vn(" (unchanged)")]:[vn(" "),Ze(Gn(e.newValue,60),{color:"green"}),vn(" (initial)")]}handleObservableChanged(e,n){console.log(...this.textToConsoleArgs([Hn("observable value changed"),Ze(e.debugName,{color:"BlueViolet"}),...this.formatInfo(n)]))}changedObservablesSets=new WeakMap;formatChanges(e){if(e.size!==0)return Ze(" (changed deps: "+[...e].map(n=>n.debugName).join(", ")+")",{color:"gray"})}handleDerivedCreated(e){let n=e.handleChange;this.changedObservablesSets.set(e,new Set),e.handleChange=(r,i)=>(this.changedObservablesSets.get(e).add(r),n.apply(e,[r,i]))}handleDerivedRecomputed(e,n){let r=this.changedObservablesSets.get(e);console.log(...this.textToConsoleArgs([Hn("derived recomputed"),Ze(e.debugName,{color:"BlueViolet"}),...this.formatInfo(n),this.formatChanges(r),{data:[{fn:e._debugNameData.referenceFn??e._computeFn}]}])),r.clear()}handleFromEventObservableTriggered(e,n){console.log(...this.textToConsoleArgs([Hn("observable from event triggered"),Ze(e.debugName,{color:"BlueViolet"}),...this.formatInfo(n),{data:[{fn:e._getValue}]}]))}handleAutorunCreated(e){let n=e.handleChange;this.changedObservablesSets.set(e,new Set),e.handleChange=(r,i)=>(this.changedObservablesSets.get(e).add(r),n.apply(e,[r,i]))}handleAutorunTriggered(e){let n=this.changedObservablesSets.get(e);console.log(...this.textToConsoleArgs([Hn("autorun"),Ze(e.debugName,{color:"BlueViolet"}),this.formatChanges(n),{data:[{fn:e._debugNameData.referenceFn??e._runFn}]}])),n.clear(),this.indentation++}handleAutorunFinished(e){this.indentation--}handleBeginTransaction(e){let n=e.getDebugName();n===void 0&&(n=""),console.log(...this.textToConsoleArgs([Hn("transaction"),Ze(n,{color:"BlueViolet"}),{data:[{fn:e._fn}]}])),this.indentation++}handleEndTransaction(){this.indentation--}};function vc(t){let e=new Array,n=[],r="";function i(s){if("length"in s)for(let l of s)l&&i(l);else"text"in s?(r+=`%c${s.text}`,e.push(s.style),s.data&&n.push(...s.data)):"data"in s&&n.push(...s.data)}i(t);let o=[r,...e];return o.push(...n),o}function vn(t){return Ze(t,{color:"black"})}function Hn(t){return Ze(_c(`${t}: `,10),{color:"black",bold:!0})}function Ze(t,e={color:"black"}){function n(i){return Object.entries(i).reduce((o,[s,l])=>`${o}${s}:${l};`,"")}let r={color:e.color};return e.strikeThrough&&(r["text-decoration"]="line-through"),e.bold&&(r["font-weight"]="bold"),{text:t,style:n(r)}}function Gn(t,e){switch(typeof t){case"number":return""+t;case"string":return t.length+2<=e?`"${t}"`:`"${t.substr(0,e-7)}"+...`;case"boolean":return t?"true":"false";case"undefined":return"undefined";case"object":return t===null?"null":Array.isArray(t)?Ic(t,e):Tc(t,e);case"symbol":return t.toString();case"function":return`[[Function${t.name?" "+t.name:""}]]`;default:return""+t}}function Ic(t,e){let n="[ ",r=!0;for(let i of t){if(r||(n+=", "),n.length-5>e){n+="...";break}r=!1,n+=`${Gn(i,e-n.length)}`}return n+=" ]",n}function Tc(t,e){let n="{ ",r=!0;for(let[i,o]of Object.entries(t)){if(r||(n+=", "),n.length-5>e){n+="...";break}r=!1,n+=`${i}: ${Gn(o,e-n.length)}`}return n+=" }",n}function Ec(t,e){let n="";for(let r=1;r<=e;r++)n+=t;return n}function _c(t,e){for(;t.length<e;)t+=" ";return t}var Gs;function zs(t){Gs=t}var Qs;function qs(t){Qs=t}var Zi;function Ks(t){Zi=t}var Fr=class{get TChange(){return null}reportChanges(){this.get()}read(e){return e?e.readObservable(this):this.get()}map(e,n){let r=n===void 0?void 0:e,i=n===void 0?e:n;return Zi({owner:r,debugName:()=>{let o=Ar(i);if(o!==void 0)return o;let l=/^\s*\(?\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*\)?\s*=>\s*\1(?:\??)\.([a-zA-Z_$][a-zA-Z_$0-9]*)\s*$/.exec(i.toString());if(l)return`${this.debugName}.${l[2]}`;if(!r)return`${this.debugName} (mapped)`},debugReferenceFn:i},o=>i(this.read(o),o))}flatten(){return Zi({owner:void 0,debugName:()=>`${this.debugName} (flattened)`},e=>this.read(e).read(e))}recomputeInitiallyAndOnChange(e,n){return e.add(Gs(this,n)),this}keepObserved(e){return e.add(Qs(this)),this}get debugValue(){return this.get()}},tn=class extends Fr{observers=new Set;addObserver(e){let n=this.observers.size;this.observers.add(e),n===0&&this.onFirstObserverAdded()}removeObserver(e){this.observers.delete(e)&&this.observers.size===0&&this.onLastObserverRemoved()}onFirstObserverAdded(){}onLastObserverRemoved(){}};function Mr(t,e){let n=new Br(t,e);try{t(n)}finally{n.finish()}}function Yi(t,e,n){t?e(t):Mr(e,n)}var Br=class{constructor(e,n){this._fn=e;this._getDebugName=n;qe()?.handleBeginTransaction(this)}updatingObservers=[];getDebugName(){return this._getDebugName?this._getDebugName():Ar(this._fn)}updateObserver(e,n){this.updatingObservers.push({observer:e,observable:n}),e.beginUpdate(n)}finish(){let e=this.updatingObservers;for(let n=0;n<e.length;n++){let{observer:r,observable:i}=e[n];r.endUpdate(i)}this.updatingObservers=null,qe()?.handleEndTransaction()}};var Sc=!1;Sc&&Hs(new Kr);var wc=globalThis.performance&&typeof globalThis.performance.now=="function",Vr=class t{_startTime;_stopTime;_now;static create(e){return new t(e)}constructor(e){this._now=wc&&e===!1?Date.now:globalThis.performance.now.bind(globalThis.performance),this._startTime=this._now(),this._stopTime=-1}stop(){this._stopTime=this._now()}reset(){this._startTime=this._now(),this._stopTime=-1}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}};var Js=Symbol("MicrotaskDelay");var Rc=!1,Xs=!1,kc=!1,He;(nt=>{nt.None=()=>ye.None;function e(R){if(kc){let{onDidAddListener:I}=R,P=Qn.create(),S=0;R.onDidAddListener=()=>{++S===2&&(console.warn("snapshotted emitter LIKELY used public and SHOULD HAVE BEEN created with DisposableStore. snapshotted here"),P.print()),I?.()}}}function n(R,I){return v(R,()=>{},0,void 0,!0,void 0,I)}nt.defer=n;function r(R){return(I,P=null,S)=>{let O=!1,K;return K=R(G=>{if(!O)return K?K.dispose():O=!0,I.call(P,G)},null,S),O&&K.dispose(),K}}nt.once=r;function i(R,I){return nt.once(nt.filter(R,I))}nt.onceIf=i;function o(R,I,P){return f((S,O=null,K)=>R(G=>S.call(O,I(G)),null,K),P)}nt.map=o;function s(R,I,P){return f((S,O=null,K)=>R(G=>{I(G),S.call(O,G)},null,K),P)}nt.forEach=s;function l(R,I,P){return f((S,O=null,K)=>R(G=>I(G)&&S.call(O,G),null,K),P)}nt.filter=l;function c(R){return R}nt.signal=c;function u(...R){return(I,P=null,S)=>{let O=Dr(...R.map(K=>K(G=>I.call(P,G))));return m(O,S)}}nt.any=u;function d(R,I,P,S){let O=P;return o(R,K=>(O=I(O,K),O),S)}nt.reduce=d;function f(R,I){let P,S={onWillAddFirstListener(){P=R(O.fire,O)},onDidRemoveLastListener(){P?.dispose()}};I||e(S);let O=new J(S);return I?.add(O),O.event}function m(R,I){return I instanceof Array?I.push(R):I&&I.add(R),R}function v(R,I,P=100,S=!1,O=!1,K,G){let le,be,L,wt=0,ut,Pt={leakWarningThreshold:K,onWillAddFirstListener(){le=R(pr=>{wt++,be=I(be,pr),S&&!L&&(Gt.fire(be),be=void 0),ut=()=>{let fr=be;be=void 0,L=void 0,(!S||wt>1)&&Gt.fire(fr),wt=0},typeof P=="number"?(clearTimeout(L),L=setTimeout(ut,P)):L===void 0&&(L=0,queueMicrotask(ut))})},onWillRemoveListener(){O&&wt>0&&ut?.()},onDidRemoveLastListener(){ut=void 0,le.dispose()}};G||e(Pt);let Gt=new J(Pt);return G?.add(Gt),Gt.event}nt.debounce=v;function A(R,I=0,P){return nt.debounce(R,(S,O)=>S?(S.push(O),S):[O],I,void 0,!0,void 0,P)}nt.accumulate=A;function y(R,I=(S,O)=>S===O,P){let S=!0,O;return l(R,K=>{let G=S||!I(K,O);return S=!1,O=K,G},P)}nt.latch=y;function E(R,I,P){return[nt.filter(R,I,P),nt.filter(R,S=>!I(S),P)]}nt.split=E;function T(R,I=!1,P=[],S){let O=P.slice(),K=R(be=>{O?O.push(be):le.fire(be)});S&&S.add(K);let G=()=>{O?.forEach(be=>le.fire(be)),O=null},le=new J({onWillAddFirstListener(){K||(K=R(be=>le.fire(be)),S&&S.add(K))},onDidAddFirstListener(){O&&(I?setTimeout(G):G())},onDidRemoveLastListener(){K&&K.dispose(),K=null}});return S&&S.add(le),le.event}nt.buffer=T;function _(R,I){return(S,O,K)=>{let G=I(new x);return R(function(le){let be=G.evaluate(le);be!==z&&S.call(O,be)},void 0,K)}}nt.chain=_;let z=Symbol("HaltChainable");class x{steps=[];map(I){return this.steps.push(I),this}forEach(I){return this.steps.push(P=>(I(P),P)),this}filter(I){return this.steps.push(P=>I(P)?P:z),this}reduce(I,P){let S=P;return this.steps.push(O=>(S=I(S,O),S)),this}latch(I=(P,S)=>P===S){let P=!0,S;return this.steps.push(O=>{let K=P||!I(O,S);return P=!1,S=O,K?O:z}),this}evaluate(I){for(let P of this.steps)if(I=P(I),I===z)break;return I}}function D(R,I,P=S=>S){let S=(...le)=>G.fire(P(...le)),O=()=>R.on(I,S),K=()=>R.removeListener(I,S),G=new J({onWillAddFirstListener:O,onDidRemoveLastListener:K});return G.event}nt.fromNodeEventEmitter=D;function B(R,I,P=S=>S){let S=(...le)=>G.fire(P(...le)),O=()=>R.addEventListener(I,S),K=()=>R.removeEventListener(I,S),G=new J({onWillAddFirstListener:O,onDidRemoveLastListener:K});return G.event}nt.fromDOMEventEmitter=B;function U(R){return new Promise(I=>r(R)(I))}nt.toPromise=U;function he(R){let I=new J;return R.then(P=>{I.fire(P)},()=>{I.fire(void 0)}).finally(()=>{I.dispose()}),I.event}nt.fromPromise=he;function N(R,I){return R(P=>I.fire(P))}nt.forward=N;function se(R,I,P){return I(P),R(S=>I(S))}nt.runAndSubscribe=se;class tt{constructor(I,P){this._observable=I;let S={onWillAddFirstListener:()=>{I.addObserver(this),this._observable.reportChanges()},onDidRemoveLastListener:()=>{I.removeObserver(this)}};P||e(S),this.emitter=new J(S),P&&P.add(this.emitter)}emitter;_counter=0;_hasChanged=!1;beginUpdate(I){this._counter++}handlePossibleChange(I){}handleChange(I,P){this._hasChanged=!0}endUpdate(I){this._counter--,this._counter===0&&(this._observable.reportChanges(),this._hasChanged&&(this._hasChanged=!1,this.emitter.fire(this._observable.get())))}}function Ue(R,I){return new tt(R,I).emitter.event}nt.fromObservable=Ue;function St(R){return(I,P,S)=>{let O=0,K=!1,G={beginUpdate(){O++},endUpdate(){O--,O===0&&(R.reportChanges(),K&&(K=!1,I.call(P)))},handlePossibleChange(){},handleChange(){K=!0}};R.addObserver(G),R.reportChanges();let le={dispose(){R.removeObserver(G)}};return S instanceof Xe?S.add(le):Array.isArray(S)&&S.push(le),le}}nt.fromObservableLight=St})(He||={});var eo=class t{static all=new Set;static _idPool=0;name;listenerCount=0;invocationCount=0;elapsedOverall=0;durations=[];_stopWatch;constructor(e){this.name=`${e}_${t._idPool++}`,t.all.add(this)}start(e){this._stopWatch=new Vr,this.listenerCount=e}stop(){if(this._stopWatch){let e=this._stopWatch.elapsed();this.durations.push(e),this.elapsedOverall+=e,this.invocationCount+=1,this._stopWatch=void 0}}},Ys=-1;var to=class t{constructor(e,n,r=(t._idPool++).toString(16).padStart(3,"0")){this._errorHandler=e;this.threshold=n;this.name=r}static _idPool=1;_stacks;_warnCountdown=0;dispose(){this._stacks?.clear()}check(e,n){let r=this.threshold;if(r<=0||n<r)return;this._stacks||(this._stacks=new Map);let i=this._stacks.get(e.value)||0;if(this._stacks.set(e.value,i+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=r*.5;let[o,s]=this.getMostFrequentStack(),l=`[${this.name}] potential listener LEAK detected, having ${n} listeners already. MOST frequent listener (${s}):`;console.warn(l),console.warn(o);let c=new no(l,o);this._errorHandler(c)}return()=>{let o=this._stacks.get(e.value)||0;this._stacks.set(e.value,o-1)}}getMostFrequentStack(){if(!this._stacks)return;let e,n=0;for(let[r,i]of this._stacks)(!e||n<i)&&(e=[r,i],n=i);return e}},Qn=class t{constructor(e){this.value=e}static create(){let e=new Error;return new t(e.stack??"")}print(){console.warn(this.value.split(`
`).slice(2).join(`
`))}},no=class extends Error{constructor(e,n){super(e),this.name="ListenerLeakError",this.stack=n}},ro=class extends Error{constructor(e,n){super(e),this.name="ListenerRefusalError",this.stack=n}},Dc=0,In=class{constructor(e){this.value=e}stack;id=Dc++},Ac=2,Oc=(t,e)=>{if(t instanceof In)e(t);else for(let n=0;n<t.length;n++){let r=t[n];r&&e(r)}},Wr;if(Rc){let t=[];setInterval(()=>{t.length!==0&&(console.warn("[LEAKING LISTENERS] GC'ed these listeners that were NOT yet disposed:"),console.warn(t.join(`
`)),t.length=0)},3e3),Wr=new FinalizationRegistry(e=>{typeof e=="string"&&t.push(e)})}var J=class{_options;_leakageMon;_perfMon;_disposed;_event;_listeners;_deliveryQueue;_size=0;constructor(e){this._options=e,this._leakageMon=Ys>0||this._options?.leakWarningThreshold?new to(e?.onListenerError??bt,this._options?.leakWarningThreshold??Ys):void 0,this._perfMon=this._options?._profName?new eo(this._options._profName):void 0,this._deliveryQueue=this._options?.deliveryQueue}dispose(){if(!this._disposed){if(this._disposed=!0,this._deliveryQueue?.current===this&&this._deliveryQueue.reset(),this._listeners){if(Xs){let e=this._listeners;queueMicrotask(()=>{Oc(e,n=>n.stack?.print())})}this._listeners=void 0,this._size=0}this._options?.onDidRemoveLastListener?.(),this._leakageMon?.dispose()}}get event(){return this._event??=(e,n,r)=>{if(this._leakageMon&&this._size>this._leakageMon.threshold**2){let c=`[${this._leakageMon.name}] REFUSES to accept new listeners because it exceeded its threshold by far (${this._size} vs ${this._leakageMon.threshold})`;console.warn(c);let u=this._leakageMon.getMostFrequentStack()??["UNKNOWN stack",-1],d=new ro(`${c}. HINT: Stack shows most frequent listener (${u[1]}-times)`,u[0]);return(this._options?.onListenerError||bt)(d),ye.None}if(this._disposed)return ye.None;n&&(e=e.bind(n));let i=new In(e),o,s;this._leakageMon&&this._size>=Math.ceil(this._leakageMon.threshold*.2)&&(i.stack=Qn.create(),o=this._leakageMon.check(i.stack,this._size+1)),Xs&&(i.stack=s??Qn.create()),this._listeners?this._listeners instanceof In?(this._deliveryQueue??=new io,this._listeners=[this._listeners,i]):this._listeners.push(i):(this._options?.onWillAddFirstListener?.(this),this._listeners=i,this._options?.onDidAddFirstListener?.(this)),this._size++;let l=Le(()=>{Wr?.unregister(l),o?.(),this._removeListener(i)});if(r instanceof Xe?r.add(l):Array.isArray(r)&&r.push(l),Wr){let c=new Error().stack.split(`
`).slice(2,3).join(`
`).trim(),u=/(file:|vscode-file:\/\/vscode-app)?(\/[^:]*:\d+:\d+)/.exec(c);Wr.register(l,u?.[2]??c,l)}return l},this._event}_removeListener(e){if(this._options?.onWillRemoveListener?.(this),!this._listeners)return;if(this._size===1){this._listeners=void 0,this._options?.onDidRemoveLastListener?.(this),this._size=0;return}let n=this._listeners,r=n.indexOf(e);if(r===-1)throw console.log("disposed?",this._disposed),console.log("size?",this._size),console.log("arr?",JSON.stringify(this._listeners)),new Error("Attempted to dispose unknown listener");this._size--,n[r]=void 0;let i=this._deliveryQueue.current===this;if(this._size*Ac<=n.length){let o=0;for(let s=0;s<n.length;s++)n[s]?n[o++]=n[s]:i&&(this._deliveryQueue.end--,o<this._deliveryQueue.i&&this._deliveryQueue.i--);n.length=o}}_deliver(e,n){if(!e)return;let r=this._options?.onListenerError||bt;if(!r){e.value(n);return}try{e.value(n)}catch(i){r(i)}}_deliverQueue(e){let n=e.current._listeners;for(;e.i<e.end;)this._deliver(n[e.i++],e.value);e.reset()}fire(e){if(this._deliveryQueue?.current&&(this._deliverQueue(this._deliveryQueue),this._perfMon?.stop()),this._perfMon?.start(this._size),this._listeners)if(this._listeners instanceof In)this._deliver(this._listeners,e);else{let n=this._deliveryQueue;n.enqueue(this,e,this._listeners.length),this._deliverQueue(n)}this._perfMon?.stop()}hasListeners(){return this._size>0}};var io=class{i=-1;end=0;current;value;enqueue(e,n,r){this.i=0,this.end=r,this.current=e,this.value=n}reset(){this.i=this.end,this.current=void 0,this.value=void 0}};var $e=class{constructor(e){this.executor=e}_didRun=!1;_value;_error;get hasValue(){return this._didRun}get value(){if(!this._didRun)try{this._value=this.executor()}catch(e){this._error=e}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}};var zr=typeof Buffer<"u",Uc=new $e(()=>new Uint8Array(256)),oo,so,ge=class t{static alloc(e){return zr?new t(Buffer.allocUnsafe(e)):new t(new Uint8Array(e))}static wrap(e){return zr&&!Buffer.isBuffer(e)&&(e=Buffer.from(e.buffer,e.byteOffset,e.byteLength)),new t(e)}static fromString(e,n){return!(n?.dontUseNodeBuffer||!1)&&zr?new t(Buffer.from(e)):(oo||(oo=new TextEncoder),new t(oo.encode(e)))}static fromByteArray(e){let n=t.alloc(e.length);for(let r=0,i=e.length;r<i;r++)n.buffer[r]=e[r];return n}static concat(e,n){if(typeof n>"u"){n=0;for(let o=0,s=e.length;o<s;o++)n+=e[o].byteLength}let r=t.alloc(n),i=0;for(let o=0,s=e.length;o<s;o++){let l=e[o];r.set(l,i),i+=l.byteLength}return r}buffer;byteLength;constructor(e){this.buffer=e,this.byteLength=this.buffer.byteLength}clone(){let e=t.alloc(this.byteLength);return e.set(this),e}toString(){return zr?this.buffer.toString():(so||(so=new TextDecoder),so.decode(this.buffer))}slice(e,n){return new t(this.buffer.subarray(e,n))}set(e,n){if(e instanceof t)this.buffer.set(e.buffer,n);else if(e instanceof Uint8Array)this.buffer.set(e,n);else if(e instanceof ArrayBuffer)this.buffer.set(new Uint8Array(e),n);else if(ArrayBuffer.isView(e))this.buffer.set(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),n);else throw new Error("Unknown argument 'array'")}readUInt32BE(e){return Nc(this.buffer,e)}writeUInt32BE(e,n){Fc(this.buffer,e,n)}readUInt32LE(e){return Mc(this.buffer,e)}writeUInt32LE(e,n){Kc(this.buffer,e,n)}readUInt8(e){return Bc(this.buffer,e)}writeUInt8(e,n){Vc(this.buffer,e,n)}indexOf(e,n=0){return Cc(this.buffer,e instanceof t?e.buffer:e,n)}};function Cc(t,e,n=0){let r=e.byteLength,i=t.byteLength;if(r===0)return 0;if(r===1)return t.indexOf(e[0]);if(r>i-n)return-1;let o=Uc.value;o.fill(e.length);for(let u=0;u<e.length;u++)o[e[u]]=e.length-u-1;let s=n+e.length-1,l=s,c=-1;for(;s<i;)if(t[s]===e[l]){if(l===0){c=s;break}s--,l--}else s+=Math.max(e.length-l,o[t[s]]),l=e.length-1;return c}function Nc(t,e){return t[e]*2**24+t[e+1]*2**16+t[e+2]*2**8+t[e+3]}function Fc(t,e,n){t[n+3]=e,e=e>>>8,t[n+2]=e,e=e>>>8,t[n+1]=e,e=e>>>8,t[n]=e}function Mc(t,e){return t[e+0]<<0>>>0|t[e+1]<<8>>>0|t[e+2]<<16>>>0|t[e+3]<<24>>>0}function Kc(t,e,n){t[n+0]=e&255,e=e>>>8,t[n+1]=e&255,e=e>>>8,t[n+2]=e&255,e=e>>>8,t[n+3]=e&255}function Bc(t,e){return t[e]}function Vc(t,e,n){t[n]=e}function nn(t,e=0){if(!t||e>200)return t;if(typeof t=="object"){switch(t.$mid){case 1:return w.revive(t);case 2:return new RegExp(t.source,t.flags);case 17:return new Date(t.source)}if(t instanceof ge||t instanceof Uint8Array)return t;if(Array.isArray(t))for(let n=0;n<t.length;++n)t[n]=nn(t[n],e+1);else for(let n in t)Object.hasOwnProperty.call(t,n)&&(t[n]=nn(t[n],e+1))}return t}var Wm=new class{transformIncoming(t){return t}transformOutgoing(t){return t}transformOutgoingURI(t){return t}transformOutgoingScheme(t){return t}};function Zs(t,e,n){if(!t||n>200)return null;if(typeof t=="object"){if(t instanceof w)return e.transformOutgoing(t);for(let r in t)if(Object.hasOwnProperty.call(t,r)){let i=Zs(t[r],e,n+1);i!==null&&(t[r]=i)}}return null}function ea(t,e){let n=Zs(t,e,0);return n===null?t:n}function Wc(t){return t}var qr=class{lastCache=void 0;lastArgKey=void 0;_fn;_computeKey;constructor(e,n){typeof e=="function"?(this._fn=e,this._computeKey=Wc):(this._fn=n,this._computeKey=e.getCacheKey)}get(e){let n=this._computeKey(e);return this.lastArgKey!==n&&(this.lastArgKey=n,this.lastCache=this._fn(e)),this.lastCache}};function ra(t){return!t||typeof t!="string"?!0:t.trim().length===0}function $r(t){return t.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}function ao(t,e){return t<e?-1:t>e?1:0}function ia(t,e,n=0,r=t.length,i=0,o=e.length){for(;n<r&&i<o;n++,i++){let c=t.charCodeAt(n),u=e.charCodeAt(i);if(c<u)return-1;if(c>u)return 1}let s=r-n,l=o-i;return s<l?-1:s>l?1:0}function lo(t,e){return jr(t,e,0,t.length,0,e.length)}function jr(t,e,n=0,r=t.length,i=0,o=e.length){for(;n<r&&i<o;n++,i++){let c=t.charCodeAt(n),u=e.charCodeAt(i);if(c===u)continue;if(c>=128||u>=128)return ia(t.toLowerCase(),e.toLowerCase(),n,r,i,o);ta(c)&&(c-=32),ta(u)&&(u-=32);let d=c-u;if(d!==0)return d}let s=r-n,l=o-i;return s<l?-1:s>l?1:0}function ta(t){return t>=97&&t<=122}function co(t){return t>=65&&t<=90}function Ge(t,e){return t.length===e.length&&jr(t,e)===0}function Tn(t,e){let n=e.length;return e.length>t.length?!1:jr(t,e,0,n)===0}function oa(t){return 55296<=t&&t<=56319}function uo(t){return 56320<=t&&t<=57343}function sa(t,e){return(t-55296<<10)+(e-56320)+65536}var ng=String.fromCharCode(65279);var na=class t{constructor(e){this.confusableDictionary=e}static ambiguousCharacterData=new $e(()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125,119846,109],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}'));static cache=new qr({getCacheKey:JSON.stringify},e=>{function n(d){let f=new Map;for(let m=0;m<d.length;m+=2)f.set(d[m],d[m+1]);return f}function r(d,f){let m=new Map(d);for(let[v,A]of f)m.set(v,A);return m}function i(d,f){if(!d)return f;let m=new Map;for(let[v,A]of d)f.has(v)&&m.set(v,A);return m}let o=this.ambiguousCharacterData.value,s=e.filter(d=>!d.startsWith("_")&&d in o);s.length===0&&(s=["_default"]);let l;for(let d of s){let f=n(o[d]);l=i(l,f)}let c=n(o._common),u=r(c,l);return new t(u)});static getInstance(e){return t.cache.get(Array.from(e))}static _locales=new $e(()=>Object.keys(t.ambiguousCharacterData.value).filter(e=>!e.startsWith("_")));static getLocales(){return t._locales.value}isAmbiguous(e){return this.confusableDictionary.has(e)}containsAmbiguousCharacter(e){for(let n=0;n<e.length;n++){let r=e.codePointAt(n);if(typeof r=="number"&&this.isAmbiguous(r))return!0}return!1}getPrimaryConfusable(e){return this.confusableDictionary.get(e)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}};function xe(t){return typeof t=="string"}function lt(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)&&!(t instanceof RegExp)&&!(t instanceof Date)}function Hr(t){return typeof t=="number"&&!isNaN(t)}function Gr(t){return typeof t>"u"}function Qr(t){return Gr(t)||t===null}var zc=Object.prototype.hasOwnProperty;function aa(t){if(!lt(t))return!1;for(let e in t)if(zc.call(t,e))return!1;return!0}function la(t){return typeof t=="function"}function ca(t,e){let n=Math.min(t.length,e.length);for(let r=0;r<n;r++)qc(t[r],e[r])}function qc(t,e){if(xe(e)){if(typeof t!==e)throw new Error(`argument does not match constraint: typeof ${e}`)}else if(la(e)){try{if(t instanceof e)return}catch{}if(!Qr(t)&&t.constructor===e||e.length===1&&e.call(void 0,t)===!0)return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}function Ft(t){return t===47||t===92}function fo(t){return t.replace(/[\\/]/g,Q.sep)}function ua(t){return t.indexOf("/")===-1&&(t=fo(t)),/^[a-zA-Z]:(\/|$)/.test(t)&&(t="/"+t),t}function mo(t,e=Q.sep){if(!t)return"";let n=t.length,r=t.charCodeAt(0);if(Ft(r)){if(Ft(t.charCodeAt(1))&&!Ft(t.charCodeAt(2))){let o=3,s=o;for(;o<n&&!Ft(t.charCodeAt(o));o++);if(s!==o&&!Ft(t.charCodeAt(o+1))){for(o+=1;o<n;o++)if(Ft(t.charCodeAt(o)))return t.slice(0,o+1).replace(/[\\/]/g,e)}}return e}else if($c(r)&&t.charCodeAt(1)===58)return Ft(t.charCodeAt(2))?t.slice(0,2)+e:t.slice(0,2);let i=t.indexOf("://");if(i!==-1){for(i+=3;i<n;i++)if(Ft(t.charCodeAt(i)))return t.slice(0,i+1)}return""}function Jr(t,e,n,r=st){if(t===e)return!0;if(!t||!e||e.length>t.length)return!1;if(n){if(!Tn(t,e))return!1;if(e.length===t.length)return!0;let o=e.length;return e.charAt(e.length-1)===r&&o--,t.charAt(o)===r}return e.charAt(e.length-1)!==r&&(e+=r),t.indexOf(e)===0}function $c(t){return t>=65&&t<=90||t>=97&&t<=122}var ne;(L=>(L.inMemory="inmemory",L.vscode="vscode",L.internal="private",L.walkThrough="walkThrough",L.walkThroughSnippet="walkThroughSnippet",L.http="http",L.https="https",L.file="file",L.mailto="mailto",L.untitled="untitled",L.data="data",L.command="command",L.vscodeRemote="vscode-remote",L.vscodeRemoteResource="vscode-remote-resource",L.vscodeManagedRemoteResource="vscode-managed-remote-resource",L.vscodeUserData="vscode-userdata",L.vscodeCustomEditor="vscode-custom-editor",L.vscodeNotebookCell="vscode-notebook-cell",L.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",L.vscodeNotebookCellMetadataDiff="vscode-notebook-cell-metadata-diff",L.vscodeNotebookCellOutput="vscode-notebook-cell-output",L.vscodeNotebookCellOutputDiff="vscode-notebook-cell-output-diff",L.vscodeNotebookMetadata="vscode-notebook-metadata",L.vscodeInteractiveInput="vscode-interactive-input",L.vscodeSettings="vscode-settings",L.vscodeWorkspaceTrust="vscode-workspace-trust",L.vscodeTerminal="vscode-terminal",L.vscodeChatCodeBlock="vscode-chat-code-block",L.vscodeChatCodeCompareBlock="vscode-chat-code-compare-block",L.vscodeChatSesssion="vscode-chat-editor",L.webviewPanel="webview-panel",L.vscodeWebview="vscode-webview",L.extension="extension",L.vscodeFileResource="vscode-file",L.tmp="tmp",L.vsls="vsls",L.vscodeSourceControl="vscode-scm",L.commentsInput="comment",L.codeSetting="code-setting",L.outputChannel="output"))(ne||={});var Hc="tkn",go=class{_hosts=Object.create(null);_ports=Object.create(null);_connectionTokens=Object.create(null);_preferredWebSchema="http";_delegate=null;_serverRootPath="/";setPreferredWebSchema(e){this._preferredWebSchema=e}setDelegate(e){this._delegate=e}setServerRootPath(e,n){this._serverRootPath=Qc(e,n)}getServerRootPath(){return this._serverRootPath}get _remoteResourcesPath(){return Q.join(this._serverRootPath,ne.vscodeRemoteResource)}set(e,n,r){this._hosts[e]=n,this._ports[e]=r}setConnectionToken(e,n){this._connectionTokens[e]=n}getPreferredWebSchema(){return this._preferredWebSchema}rewrite(e){if(this._delegate)try{return this._delegate(e)}catch(l){return bt(l),e}let n=e.authority,r=this._hosts[n];r&&r.indexOf(":")!==-1&&r.indexOf("[")===-1&&(r=`[${r}]`);let i=this._ports[n],o=this._connectionTokens[n],s=`path=${encodeURIComponent(e.path)}`;return typeof o=="string"&&(s+=`&${Hc}=${encodeURIComponent(o)}`),w.from({scheme:mn?this._preferredWebSchema:ne.vscodeRemoteResource,authority:`${r}:${i}`,path:this._remoteResourcesPath,query:s})}},Gc=new go;function Qc(t,e){return Q.join(e??"/",`${t.quality??"oss"}-${t.commit??"dev"}`)}var Jc="vscode-app",ho=class t{static FALLBACK_AUTHORITY=Jc;asBrowserUri(e){let n=this.toUri(e);return this.uriToBrowserUri(n)}uriToBrowserUri(e){return e.scheme===ne.vscodeRemote?Gc.rewrite(e):e.scheme===ne.file&&(fs||ms===`${ne.vscodeFileResource}://${t.FALLBACK_AUTHORITY}`)?e.with({scheme:ne.vscodeFileResource,authority:e.authority||t.FALLBACK_AUTHORITY,query:null,fragment:null}):e}asFileUri(e){let n=this.toUri(e);return this.uriToFileUri(n)}uriToFileUri(e){return e.scheme===ne.vscodeFileResource?e.with({scheme:ne.file,authority:e.authority!==t.FALLBACK_AUTHORITY?e.authority:null,query:null,fragment:null}):e}toUri(e,n){if(w.isUri(e))return e;if(globalThis._VSCODE_FILE_ROOT){let r=globalThis._VSCODE_FILE_ROOT;if(/^\w[\w\d+.-]*:\/\//.test(r))return w.joinPath(w.parse(r,!0),e);let i=Pe(r,e);return w.file(i)}return w.parse(n.toUrl(e))}},Xn=new ho,Xc;(o=>{let t=new Map([["1",{"Cross-Origin-Opener-Policy":"same-origin"}],["2",{"Cross-Origin-Embedder-Policy":"require-corp"}],["3",{"Cross-Origin-Opener-Policy":"same-origin","Cross-Origin-Embedder-Policy":"require-corp"}]]);o.CoopAndCoep=Object.freeze(t.get("3"));let n="vscode-coi";function r(s){let l;typeof s=="string"?l=new URL(s).searchParams:s instanceof URL?l=s.searchParams:w.isUri(s)&&(l=new URL(s.toString(!0)).searchParams);let c=l?.get(n);if(c)return t.get(c)}o.getHeadersFromQuery=r;function i(s,l,c){if(!globalThis.crossOriginIsolated)return;let u=l&&c?"3":c?"2":"1";s instanceof URLSearchParams?s.set(n,u):s[n]=u}o.addSearchParam=i})(Xc||={});function vt(t){return Kn(t,!0)}var Yn=class{constructor(e){this._ignorePathCasing=e}compare(e,n,r=!1){return e===n?0:ao(this.getComparisonKey(e,r),this.getComparisonKey(n,r))}isEqual(e,n,r=!1){return e===n?!0:!e||!n?!1:this.getComparisonKey(e,r)===this.getComparisonKey(n,r)}getComparisonKey(e,n=!1){return e.with({path:this._ignorePathCasing(e)?e.path.toLowerCase():void 0,fragment:n?null:void 0}).toString()}ignorePathCasing(e){return this._ignorePathCasing(e)}isEqualOrParent(e,n,r=!1){if(e.scheme===n.scheme){if(e.scheme===ne.file)return Jr(vt(e),vt(n),this._ignorePathCasing(e))&&e.query===n.query&&(r||e.fragment===n.fragment);if(da(e.authority,n.authority))return Jr(e.path,n.path,this._ignorePathCasing(e),"/")&&e.query===n.query&&(r||e.fragment===n.fragment)}return!1}joinPath(e,...n){return w.joinPath(e,...n)}basenameOrAuthority(e){return Mt(e)||e.authority}basename(e){return Q.basename(e.path)}extname(e){return Q.extname(e.path)}dirname(e){if(e.path.length===0)return e;let n;return e.scheme===ne.file?n=w.file(wr(vt(e))).path:(n=Q.dirname(e.path),e.authority&&n.length&&n.charCodeAt(0)!==47&&(console.error(`dirname("${e.toString})) resulted in a relative path`),n="/")),e.with({path:n})}normalizePath(e){if(!e.path.length)return e;let n;return e.scheme===ne.file?n=w.file(gt(vt(e))).path:n=Q.normalize(e.path),e.with({path:n})}relativePath(e,n){if(e.scheme!==n.scheme||!da(e.authority,n.authority))return;if(e.scheme===ne.file){let o=Is(vt(e),vt(n));return Oe?fo(o):o}let r=e.path||"/",i=n.path||"/";if(this._ignorePathCasing(e)){let o=0;for(let s=Math.min(r.length,i.length);o<s&&!(r.charCodeAt(o)!==i.charCodeAt(o)&&r.charAt(o).toLowerCase()!==i.charAt(o).toLowerCase());o++);r=i.substr(0,o)+r.substr(o)}return Q.relative(r,i)}resolvePath(e,n){if(e.scheme===ne.file){let r=w.file(Lt(vt(e),n));return e.with({authority:r.authority,path:r.path})}return n=ua(n),e.with({path:Q.resolve(e.path,n)})}isAbsolutePath(e){return!!e.path&&e.path[0]==="/"}isEqualAuthority(e,n){return e===n||e!==void 0&&n!==void 0&&Ge(e,n)}hasTrailingPathSeparator(e,n=st){if(e.scheme===ne.file){let r=vt(e);return r.length>mo(r).length&&r[r.length-1]===n}else{let r=e.path;return r.length>1&&r.charCodeAt(r.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(e.fsPath)}}removeTrailingPathSeparator(e,n=st){return pa(e,n)?e.with({path:e.path.substr(0,e.path.length-1)}):e}addTrailingPathSeparator(e,n=st){let r=!1;if(e.scheme===ne.file){let i=vt(e);r=i!==void 0&&i.length===mo(i).length&&i[i.length-1]===n}else{n="/";let i=e.path;r=i.length===1&&i.charCodeAt(i.length-1)===47}return!r&&!pa(e,n)?e.with({path:e.path+"/"}):e}},Z=new Yn(()=>!1),Yc=new Yn(t=>t.scheme===ne.file?!kt:!0),bg=new Yn(t=>!0),Xr=Z.isEqual.bind(Z),bo=Z.isEqualOrParent.bind(Z),yg=Z.getComparisonKey.bind(Z),Zc=Z.basenameOrAuthority.bind(Z),Mt=Z.basename.bind(Z),eu=Z.extname.bind(Z),xg=Z.dirname.bind(Z),q=Z.joinPath.bind(Z),vg=Z.normalizePath.bind(Z),Ig=Z.relativePath.bind(Z),Tg=Z.resolvePath.bind(Z),Eg=Z.isAbsolutePath.bind(Z),da=Z.isEqualAuthority.bind(Z),pa=Z.hasTrailingPathSeparator.bind(Z),_g=Z.removeTrailingPathSeparator.bind(Z),Sg=Z.addTrailingPathSeparator.bind(Z);var tu;(o=>{o.META_DATA_LABEL="label",o.META_DATA_DESCRIPTION="description",o.META_DATA_SIZE="size",o.META_DATA_MIME="mime";function i(s){let l=new Map;s.path.substring(s.path.indexOf(";")+1,s.path.lastIndexOf(";")).split(";").forEach(d=>{let[f,m]=d.split(":");f&&m&&l.set(f,m)});let u=s.path.substring(0,s.path.indexOf(";"));return u&&l.set(o.META_DATA_MIME,u),l}o.parseMetaData=i})(tu||={});function To(t){let e=new at,n=t(e.token),r=new Promise((i,o)=>{let s=e.token.onCancellationRequested(()=>{s.dispose(),o(new Be)});Promise.resolve(n).then(l=>{s.dispose(),e.dispose(),i(l)},l=>{s.dispose(),e.dispose(),o(l)})});return new class{cancel(){e.cancel(),e.dispose()}then(i,o){return r.then(i,o)}catch(i){return this.then(void 0,i)}finally(i){return r.finally(i)}}}var xo=class{activePromise;queuedPromise;queuedPromiseFactory;isDisposed=!1;constructor(){this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(e){if(this.isDisposed)return Promise.reject(new Error("Throttler is disposed"));if(this.activePromise){if(this.queuedPromiseFactory=e,!this.queuedPromise){let n=()=>{if(this.queuedPromise=null,this.isDisposed)return;let r=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,r};this.queuedPromise=new Promise(r=>{this.activePromise.then(n,n).then(r)})}return new Promise((n,r)=>{this.queuedPromise.then(n,r)})}return this.activePromise=e(),new Promise((n,r)=>{this.activePromise.then(i=>{this.activePromise=null,n(i)},i=>{this.activePromise=null,r(i)})})}dispose(){this.isDisposed=!0}};var nu=(t,e)=>{let n=!0,r=setTimeout(()=>{n=!1,e()},t);return{isTriggered:()=>n,dispose:()=>{clearTimeout(r),n=!1}}},ru=t=>{let e=!0;return queueMicrotask(()=>{e&&(e=!1,t())}),{isTriggered:()=>e,dispose:()=>{e=!1}}},vo=class{constructor(e){this.defaultDelay=e;this.deferred=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}deferred;completionPromise;doResolve;doReject;task;trigger(e,n=this.defaultDelay){this.task=e,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((i,o)=>{this.doResolve=i,this.doReject=o}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){let i=this.task;return this.task=null,i()}}));let r=()=>{this.deferred=null,this.doResolve?.(null)};return this.deferred=n===Js?ru(r):nu(n,r),this.completionPromise}isTriggered(){return!!this.deferred?.isTriggered()}cancel(){this.cancelTimeout(),this.completionPromise&&(this.doReject?.(new Be),this.completionPromise=null)}cancelTimeout(){this.deferred?.dispose(),this.deferred=null}dispose(){this.cancel()}},Yr=class{delayer;throttler;constructor(e){this.delayer=new vo(e),this.throttler=new xo}trigger(e,n){return this.delayer.trigger(()=>this.throttler.queue(e),n)}isTriggered(){return this.delayer.isTriggered()}cancel(){this.delayer.cancel()}dispose(){this.delayer.dispose(),this.throttler.dispose()}};var Io=class{_size=0;_isDisposed=!1;runningPromises;maxDegreeOfParalellism;outstandingPromises;_onDrained;constructor(e){this.maxDegreeOfParalellism=e,this.outstandingPromises=[],this.runningPromises=0,this._onDrained=new J}whenIdle(){return this.size>0?He.toPromise(this.onDrained):Promise.resolve()}get onDrained(){return this._onDrained.event}get size(){return this._size}queue(e){if(this._isDisposed)throw new Error("Object has been disposed");return this._size++,new Promise((n,r)=>{this.outstandingPromises.push({factory:e,c:n,e:r}),this.consume()})}consume(){for(;this.outstandingPromises.length&&this.runningPromises<this.maxDegreeOfParalellism;){let e=this.outstandingPromises.shift();this.runningPromises++;let n=e.factory();n.then(e.c,e.e),n.then(()=>this.consumed(),()=>this.consumed())}}consumed(){this._isDisposed||(this.runningPromises--,--this._size===0&&this._onDrained.fire(),this.outstandingPromises.length>0&&this.consume())}clear(){if(this._isDisposed)throw new Error("Object has been disposed");this.outstandingPromises.length=0,this._size=this.runningPromises}dispose(){this._isDisposed=!0,this.outstandingPromises.length=0,this._size=0,this._onDrained.dispose()}},Zr=class extends Io{constructor(){super(1)}};var iu,yo;(function(){typeof globalThis.requestIdleCallback!="function"||typeof globalThis.cancelIdleCallback!="function"?yo=(t,e)=>{gs(()=>{if(n)return;let r=Date.now()+15;e(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,r-Date.now())}}))});let n=!1;return{dispose(){n||(n=!0)}}}:yo=(t,e,n)=>{let r=t.requestIdleCallback(e,typeof n=="number"?{timeout:n}:void 0),i=!1;return{dispose(){i||(i=!0,t.cancelIdleCallback(r))}}},iu=t=>yo(globalThis,t)})();var Eo;(n=>{async function t(r){let i,o=await Promise.all(r.map(s=>s.then(l=>l,l=>{i||(i=l)})));if(typeof i<"u")throw i;return o}n.settled=t;function e(r){return new Promise(async(i,o)=>{try{await r(i,o)}catch(s){o(s)}})}n.withAsyncBody=e})(Eo||={});var fa=class t{static fromArray(e){return new t(n=>{n.emitMany(e)})}static fromPromise(e){return new t(async n=>{n.emitMany(await e)})}static fromPromises(e){return new t(async n=>{await Promise.all(e.map(async r=>n.emitOne(await r)))})}static merge(e){return new t(async n=>{await Promise.all(e.map(async r=>{for await(let i of r)n.emitOne(i)}))})}static EMPTY=t.fromArray([]);_state;_results;_error;_onReturn;_onStateChanged;constructor(e,n){this._state=0,this._results=[],this._error=null,this._onReturn=n,this._onStateChanged=new J,queueMicrotask(async()=>{let r={emitOne:i=>this.emitOne(i),emitMany:i=>this.emitMany(i),reject:i=>this.reject(i)};try{await Promise.resolve(e(r)),this.resolve()}catch(i){this.reject(i)}finally{r.emitOne=void 0,r.emitMany=void 0,r.reject=void 0}})}[Symbol.asyncIterator](){let e=0;return{next:async()=>{do{if(this._state===2)throw this._error;if(e<this._results.length)return{done:!1,value:this._results[e++]};if(this._state===1)return{done:!0,value:void 0};await He.toPromise(this._onStateChanged.event)}while(!0)},return:async()=>(this._onReturn?.(),{done:!0,value:void 0})}}static map(e,n){return new t(async r=>{for await(let i of e)r.emitOne(n(i))})}map(e){return t.map(this,e)}static filter(e,n){return new t(async r=>{for await(let i of e)n(i)&&r.emitOne(i)})}filter(e){return t.filter(this,e)}static coalesce(e){return t.filter(e,n=>!!n)}coalesce(){return t.coalesce(this)}static async toPromise(e){let n=[];for await(let r of e)n.push(r);return n}toPromise(){return t.toPromise(this)}emitOne(e){this._state===0&&(this._results.push(e),this._onStateChanged.fire())}emitMany(e){this._state===0&&(this._results=this._results.concat(e),this._onStateChanged.fire())}resolve(){this._state===0&&(this._state=1,this._onStateChanged.fire())}reject(e){this._state===0&&(this._state=2,this._error=e,this._onStateChanged.fire())}};function X(t,e,n){let r=null,i=null;if(typeof n.value=="function"?(r="value",i=n.value,i.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof n.get=="function"&&(r="get",i=n.get),!i)throw new Error("not supported");let o=`$memoize$${e}`;n[r]=function(...s){return this.hasOwnProperty(o)||Object.defineProperty(this,o,{configurable:!1,enumerable:!1,writable:!1,value:i.apply(this,s)}),this[o]}}function ma(t){switch(t){case 100:return"req";case 101:return"cancel";case 102:return"subscribe";case 103:return"unsubscribe"}}function ga(t){switch(t){case 200:return"init";case 201:return"reply:";case 202:case 203:return"replyErr:";case 204:return"event:"}}function En(t){let e=0;for(let n=0;;n+=7){let r=t.read(1);if(e|=(r.buffer[0]&127)<<n,!(r.buffer[0]&128))return e}}var ou=Kt(0);function _n(t,e){if(e===0){t.write(ou);return}let n=0;for(let i=e;i!==0;i=i>>>7)n++;let r=ge.alloc(n);for(let i=0;e!==0;i++)r.buffer[i]=e&127,e=e>>>7,e>0&&(r.buffer[i]|=128);t.write(r)}var So=class{constructor(e){this.buffer=e}pos=0;read(e){let n=this.buffer.slice(this.pos,this.pos+e);return this.pos+=n.byteLength,n}},wo=class{buffers=[];get buffer(){return ge.concat(this.buffers)}write(e){this.buffers.push(e)}};function Kt(t){let e=ge.alloc(1);return e.writeUInt8(t,0),e}var rn={Undefined:Kt(0),String:Kt(1),Buffer:Kt(2),VSBuffer:Kt(3),Array:Kt(4),Object:Kt(5),Uint:Kt(6)},su=typeof Buffer<"u";function Po(t,e){if(typeof e>"u")t.write(rn.Undefined);else if(typeof e=="string"){let n=ge.fromString(e);t.write(rn.String),_n(t,n.byteLength),t.write(n)}else if(su&&Buffer.isBuffer(e)){let n=ge.wrap(e);t.write(rn.Buffer),_n(t,n.byteLength),t.write(n)}else if(e instanceof ge)t.write(rn.VSBuffer),_n(t,e.byteLength),t.write(e);else if(Array.isArray(e)){t.write(rn.Array),_n(t,e.length);for(let n of e)Po(t,n)}else if(typeof e=="number"&&(e|0)===e)t.write(rn.Uint),_n(t,e);else{let n=ge.fromString(JSON.stringify(e));t.write(rn.Object),_n(t,n.byteLength),t.write(n)}}function Ro(t){switch(t.read(1).readUInt8(0)){case 0:return;case 1:return t.read(En(t)).toString();case 2:return t.read(En(t)).buffer;case 3:return t.read(En(t));case 4:{let n=En(t),r=[];for(let i=0;i<n;i++)r.push(Ro(t));return r}case 5:return JSON.parse(t.read(En(t)).toString());case 6:return En(t)}}var _o=class{constructor(e,n=null){this.protocol=e;this.protocolListener=this.protocol.onMessage(r=>this.onBuffer(r)),this.logger=n}isDisposed=!1;state=0;activeRequests=new Set;handlers=new Map;lastRequestId=0;protocolListener;logger;_onDidInitialize=new J;onDidInitialize=this._onDidInitialize.event;getChannel(e){let n=this;return{call(r,i,o){return n.isDisposed?Promise.reject(new Be):n.requestPromise(e,r,i,o)},listen(r,i){return n.isDisposed?He.None:n.requestEvent(e,r,i)}}}requestPromise(e,n,r,i=xt.None){let o=this.lastRequestId++,l={id:o,type:100,channelName:e,name:n,arg:r};if(i.isCancellationRequested)return Promise.reject(new Be);let c;return new Promise((d,f)=>{if(i.isCancellationRequested)return f(new Be);let m=()=>{let E=T=>{switch(T.type){case 201:this.handlers.delete(o),d(T.data);break;case 202:{this.handlers.delete(o);let _=new Error(T.data.message);_.stack=Array.isArray(T.data.stack)?T.data.stack.join(`
`):T.data.stack,_.name=T.data.name,f(_);break}case 203:this.handlers.delete(o),f(T.data);break}};this.handlers.set(o,E),this.sendRequest(l)},v=null;this.state===1?m():(v=To(E=>this.whenInitialized()),v.then(()=>{v=null,m()}));let A=()=>{v?(v.cancel(),v=null):this.sendRequest({id:o,type:101}),f(new Be)},y=i.onCancellationRequested(A);c=Dr(Le(A),y),this.activeRequests.add(c)}).finally(()=>{c.dispose(),this.activeRequests.delete(c)})}requestEvent(e,n,r){let i=this.lastRequestId++,s={id:i,type:102,channelName:e,name:n,arg:r},l=null,c=new J({onWillAddFirstListener:()=>{l=To(d=>this.whenInitialized()),l.then(()=>{l=null,this.activeRequests.add(c),this.sendRequest(s)})},onDidRemoveLastListener:()=>{l?(l.cancel(),l=null):(this.activeRequests.delete(c),this.sendRequest({id:i,type:103}))}}),u=d=>c.fire(d.data);return this.handlers.set(i,u),c.event}sendRequest(e){switch(e.type){case 100:case 102:{let n=this.send([e.type,e.id,e.channelName,e.name],e.arg);this.logger?.logOutgoing(n,e.id,0,`${ma(e.type)}: ${e.channelName}.${e.name}`,e.arg);return}case 101:case 103:{let n=this.send([e.type,e.id]);this.logger?.logOutgoing(n,e.id,0,ma(e.type));return}}}send(e,n=void 0){let r=new wo;return Po(r,e),Po(r,n),this.sendBuffer(r.buffer)}sendBuffer(e){try{return this.protocol.send(e),e.byteLength}catch{return 0}}onBuffer(e){let n=new So(e),r=Ro(n),i=Ro(n),o=r[0];switch(o){case 200:return this.logger?.logIncoming(e.byteLength,0,0,ga(o)),this.onResponse({type:r[0]});case 201:case 202:case 204:case 203:return this.logger?.logIncoming(e.byteLength,r[1],0,ga(o),i),this.onResponse({type:r[0],id:r[1],data:i})}}onResponse(e){if(e.type===200){this.state=1,this._onDidInitialize.fire();return}this.handlers.get(e.id)?.(e)}get onDidInitializePromise(){return He.toPromise(this.onDidInitialize)}whenInitialized(){return this.state===1?Promise.resolve():this.onDidInitializePromise}dispose(){this.isDisposed=!0,this.protocolListener&&(this.protocolListener.dispose(),this.protocolListener=null),kr(this.activeRequests.values()),this.activeRequests.clear()}};F([X],_o.prototype,"onDidInitializePromise",1);var au;(i=>{function t(o,s,l){let c=o,u=l&&l.disableMarshalling,d=new Map;for(let f in c)n(f)&&d.set(f,He.buffer(c[f],!0,void 0,s));return new class{listen(f,m,v){let A=d.get(m);if(A)return A;let y=c[m];if(typeof y=="function"){if(r(m))return y.call(c,v);if(n(m))return d.set(m,He.buffer(c[m],!0,void 0,s)),d.get(m)}throw new Ct(`Event not found: ${m}`)}call(f,m,v){let A=c[m];if(typeof A=="function"){if(!u&&Array.isArray(v))for(let E=0;E<v.length;E++)v[E]=nn(v[E]);let y=A.apply(c,v);return y instanceof Promise||(y=Promise.resolve(y)),y}throw new Ct(`Method not found: ${m}`)}}}i.fromService=t;function e(o,s){let l=s&&s.disableMarshalling;return new Proxy({},{get(c,u){if(typeof u=="string")return s?.properties?.has(u)?s.properties.get(u):r(u)?function(d){return o.listen(u,d)}:n(u)?o.listen(u):async function(...d){let f;s&&!Qr(s.context)?f=[s.context,...d]:f=d;let m=await o.call(u,f);return l?m:nn(m)};throw new Ct(`Property not found: ${String(u)}`)}})}i.toService=e;function n(o){return o[0]==="o"&&o[1]==="n"&&co(o.charCodeAt(2))}function r(o){return/^onDynamic/.test(o)&&co(o.charCodeAt(9))}})(au||={});function ko(...t){switch(t.length){case 1:return g("contextkey.scanner.hint.didYouMean1","Did you mean {0}?",t[0]);case 2:return g("contextkey.scanner.hint.didYouMean2","Did you mean {0} or {1}?",t[0],t[1]);case 3:return g("contextkey.scanner.hint.didYouMean3","Did you mean {0}, {1} or {2}?",t[0],t[1],t[2]);default:return}}var lu=g("contextkey.scanner.hint.didYouForgetToOpenOrCloseQuote","Did you forget to open or close the quote?"),cu=g("contextkey.scanner.hint.didYouForgetToEscapeSlash","Did you forget to escape the '/' (slash) character? Put two backslashes before it to escape, e.g., '\\\\/'."),Bt=class t{static getLexeme(e){switch(e.type){case 0:return"(";case 1:return")";case 2:return"!";case 3:return e.isTripleEq?"===":"==";case 4:return e.isTripleEq?"!==":"!=";case 5:return"<";case 6:return"<=";case 7:return">=";case 8:return">=";case 9:return"=~";case 10:return e.lexeme;case 11:return"true";case 12:return"false";case 13:return"in";case 14:return"not";case 15:return"&&";case 16:return"||";case 17:return e.lexeme;case 18:return e.lexeme;case 19:return e.lexeme;case 20:return"EOF";default:throw Ds(`unhandled token type: ${JSON.stringify(e)}; have you forgotten to add a case?`)}}static _regexFlags=new Set(["i","g","s","m","y","u"].map(e=>e.charCodeAt(0)));static _keywords=new Map([["not",14],["in",13],["false",12],["true",11]]);_input="";_start=0;_current=0;_tokens=[];_errors=[];get errors(){return this._errors}reset(e){return this._input=e,this._start=0,this._current=0,this._tokens=[],this._errors=[],this}scan(){for(;!this._isAtEnd();)switch(this._start=this._current,this._advance()){case 40:this._addToken(0);break;case 41:this._addToken(1);break;case 33:if(this._match(61)){let n=this._match(61);this._tokens.push({type:4,offset:this._start,isTripleEq:n})}else this._addToken(2);break;case 39:this._quotedString();break;case 47:this._regex();break;case 61:if(this._match(61)){let n=this._match(61);this._tokens.push({type:3,offset:this._start,isTripleEq:n})}else this._match(126)?this._addToken(9):this._error(ko("==","=~"));break;case 60:this._addToken(this._match(61)?6:5);break;case 62:this._addToken(this._match(61)?8:7);break;case 38:this._match(38)?this._addToken(15):this._error(ko("&&"));break;case 124:this._match(124)?this._addToken(16):this._error(ko("||"));break;case 32:case 13:case 9:case 10:case 160:break;default:this._string()}return this._start=this._current,this._addToken(20),Array.from(this._tokens)}_match(e){return this._isAtEnd()||this._input.charCodeAt(this._current)!==e?!1:(this._current++,!0)}_advance(){return this._input.charCodeAt(this._current++)}_peek(){return this._isAtEnd()?0:this._input.charCodeAt(this._current)}_addToken(e){this._tokens.push({type:e,offset:this._start})}_error(e){let n=this._start,r=this._input.substring(this._start,this._current),i={type:19,offset:this._start,lexeme:r};this._errors.push({offset:n,lexeme:r,additionalInfo:e}),this._tokens.push(i)}stringRe=/[a-zA-Z0-9_<>\-\./\\:\*\?\+\[\]\^,#@;"%\$\p{L}-]+/uy;_string(){this.stringRe.lastIndex=this._start;let e=this.stringRe.exec(this._input);if(e){this._current=this._start+e[0].length;let n=this._input.substring(this._start,this._current),r=t._keywords.get(n);r?this._addToken(r):this._tokens.push({type:17,lexeme:n,offset:this._start})}}_quotedString(){for(;this._peek()!==39&&!this._isAtEnd();)this._advance();if(this._isAtEnd()){this._error(lu);return}this._advance(),this._tokens.push({type:18,lexeme:this._input.substring(this._start+1,this._current-1),offset:this._start+1})}_regex(){let e=this._current,n=!1,r=!1;for(;;){if(e>=this._input.length){this._current=e,this._error(cu);return}let o=this._input.charCodeAt(e);if(n)n=!1;else if(o===47&&!r){e++;break}else o===91?r=!0:o===92?n=!0:o===93&&(r=!1);e++}for(;e<this._input.length&&t._regexFlags.has(this._input.charCodeAt(e));)e++;this._current=e;let i=this._input.substring(this._start,this._current);this._tokens.push({type:10,lexeme:i,offset:this._start})}_isAtEnd(){return this._current>=this._input.length}};var Vt;(i=>{i.serviceIds=new Map,i.DI_TARGET="$di$target",i.DI_DEPENDENCIES="$di$dependencies";function r(o){return o[i.DI_DEPENDENCIES]||[]}i.getServiceDependencies=r})(Vt||={});var ha=V("instantiationService");function uu(t,e,n){e[Vt.DI_TARGET]===e?e[Vt.DI_DEPENDENCIES].push({id:t,index:n}):(e[Vt.DI_DEPENDENCIES]=[{id:t,index:n}],e[Vt.DI_TARGET]=e)}function V(t){if(Vt.serviceIds.has(t))return Vt.serviceIds.get(t);let e=function(n,r,i){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");uu(e,n,i)};return e.toString=()=>t,Vt.serviceIds.set(t,e),e}var Ie=new Map;Ie.set("false",!1);Ie.set("true",!0);Ie.set("isMac",Fn);Ie.set("isLinux",kt);Ie.set("isWindows",Oe);Ie.set("isWeb",mn);Ie.set("isMacNative",Fn&&!mn);Ie.set("isEdge",ys);Ie.set("isFirefox",hs);Ie.set("isChrome",Ui);Ie.set("isSafari",bs);var du=Object.prototype.hasOwnProperty;var pu={regexParsingWithErrorRecovery:!0},fu=g("contextkey.parser.error.emptyString","Empty context key expression"),mu=g("contextkey.parser.error.emptyString.hint","Did you forget to write an expression? You can also put 'false' or 'true' to always evaluate to false or true, respectively."),gu=g("contextkey.parser.error.noInAfterNot","'in' after 'not'."),ba=g("contextkey.parser.error.closingParenthesis","closing parenthesis ')'"),hu=g("contextkey.parser.error.unexpectedToken","Unexpected token"),bu=g("contextkey.parser.error.unexpectedToken.hint","Did you forget to put && or || before the token?"),yu=g("contextkey.parser.error.unexpectedEOF","Unexpected end of expression"),xu=g("contextkey.parser.error.unexpectedEOF.hint","Did you forget to put a context key?"),Do=class t{constructor(e=pu){this._config=e}static _parseError=new Error;_scanner=new Bt;_tokens=[];_current=0;_parsingErrors=[];get lexingErrors(){return this._scanner.errors}get parsingErrors(){return this._parsingErrors}parse(e){if(e===""){this._parsingErrors.push({message:fu,offset:0,lexeme:"",additionalInfo:mu});return}this._tokens=this._scanner.reset(e).scan(),this._current=0,this._parsingErrors=[];try{let n=this._expr();if(!this._isAtEnd()){let r=this._peek(),i=r.type===17?bu:void 0;throw this._parsingErrors.push({message:hu,offset:r.offset,lexeme:Bt.getLexeme(r),additionalInfo:i}),t._parseError}return n}catch(n){if(n!==t._parseError)throw n;return}}_expr(){return this._or()}_or(){let e=[this._and()];for(;this._matchOne(16);){let n=this._and();e.push(n)}return e.length===1?e[0]:ve.or(...e)}_and(){let e=[this._term()];for(;this._matchOne(15);){let n=this._term();e.push(n)}return e.length===1?e[0]:ve.and(...e)}_term(){if(this._matchOne(2)){let e=this._peek();switch(e.type){case 11:return this._advance(),Re.INSTANCE;case 12:return this._advance(),De.INSTANCE;case 0:{this._advance();let n=this._expr();return this._consume(1,ba),n?.negate()}case 17:return this._advance(),Tt.create(e.lexeme);default:throw this._errExpectedButGot("KEY | true | false | '(' expression ')'",e)}}return this._primary()}_primary(){let e=this._peek();switch(e.type){case 11:return this._advance(),ve.true();case 12:return this._advance(),ve.false();case 0:{this._advance();let n=this._expr();return this._consume(1,ba),n}case 17:{let n=e.lexeme;if(this._advance(),this._matchOne(9)){let i=this._peek();if(!this._config.regexParsingWithErrorRecovery){if(this._advance(),i.type!==10)throw this._errExpectedButGot("REGEX",i);let o=i.lexeme,s=o.lastIndexOf("/"),l=s===o.length-1?void 0:this._removeFlagsGY(o.substring(s+1)),c;try{c=new RegExp(o.substring(1,s),l)}catch{throw this._errExpectedButGot("REGEX",i)}return qt.create(n,c)}switch(i.type){case 10:case 19:{let o=[i.lexeme];this._advance();let s=this._peek(),l=0;for(let m=0;m<i.lexeme.length;m++)i.lexeme.charCodeAt(m)===40?l++:i.lexeme.charCodeAt(m)===41&&l--;for(;!this._isAtEnd()&&s.type!==15&&s.type!==16;){switch(s.type){case 0:l++;break;case 1:l--;break;case 10:case 18:for(let m=0;m<s.lexeme.length;m++)s.lexeme.charCodeAt(m)===40?l++:i.lexeme.charCodeAt(m)===41&&l--}if(l<0)break;o.push(Bt.getLexeme(s)),this._advance(),s=this._peek()}let c=o.join(""),u=c.lastIndexOf("/"),d=u===c.length-1?void 0:this._removeFlagsGY(c.substring(u+1)),f;try{f=new RegExp(c.substring(1,u),d)}catch{throw this._errExpectedButGot("REGEX",i)}return ve.regex(n,f)}case 18:{let o=i.lexeme;this._advance();let s=null;if(!ra(o)){let l=o.indexOf("/"),c=o.lastIndexOf("/");if(l!==c&&l>=0){let u=o.slice(l+1,c),d=o[c+1]==="i"?"i":"";try{s=new RegExp(u,d)}catch{throw this._errExpectedButGot("REGEX",i)}}}if(s===null)throw this._errExpectedButGot("REGEX",i);return qt.create(n,s)}default:throw this._errExpectedButGot("REGEX",this._peek())}}if(this._matchOne(14)){this._consume(13,gu);let i=this._value();return ve.notIn(n,i)}switch(this._peek().type){case 3:{this._advance();let i=this._value();if(this._previous().type===18)return ve.equals(n,i);switch(i){case"true":return ve.has(n);case"false":return ve.not(n);default:return ve.equals(n,i)}}case 4:{this._advance();let i=this._value();if(this._previous().type===18)return ve.notEquals(n,i);switch(i){case"true":return ve.not(n);case"false":return ve.has(n);default:return ve.notEquals(n,i)}}case 5:return this._advance(),an.create(n,this._value());case 6:return this._advance(),ln.create(n,this._value());case 7:return this._advance(),on.create(n,this._value());case 8:return this._advance(),sn.create(n,this._value());case 13:return this._advance(),ve.in(n,this._value());default:return ve.has(n)}}case 20:throw this._parsingErrors.push({message:yu,offset:e.offset,lexeme:"",additionalInfo:xu}),t._parseError;default:throw this._errExpectedButGot(`true | false | KEY 
	| KEY '=~' REGEX 
	| KEY ('==' | '!=' | '<' | '<=' | '>' | '>=' | 'in' | 'not' 'in') value`,this._peek())}}_value(){let e=this._peek();switch(e.type){case 17:case 18:return this._advance(),e.lexeme;case 11:return this._advance(),"true";case 12:return this._advance(),"false";case 13:return this._advance(),"in";default:return""}}_flagsGYRe=/g|y/g;_removeFlagsGY(e){return e.replaceAll(this._flagsGYRe,"")}_previous(){return this._tokens[this._current-1]}_matchOne(e){return this._check(e)?(this._advance(),!0):!1}_advance(){return this._isAtEnd()||this._current++,this._previous()}_consume(e,n){if(this._check(e))return this._advance();throw this._errExpectedButGot(n,this._peek())}_errExpectedButGot(e,n,r){let i=g("contextkey.parser.error.expectedButGot",`Expected: {0}
Received: '{1}'.`,e,Bt.getLexeme(n)),o=n.offset,s=Bt.getLexeme(n);return this._parsingErrors.push({message:i,offset:o,lexeme:s,additionalInfo:r}),t._parseError}_check(e){return this._peek().type===e}_peek(){return this._tokens[this._current]}_isAtEnd(){return this._peek().type===20}},ve=class{static false(){return Re.INSTANCE}static true(){return De.INSTANCE}static has(e){return It.create(e)}static equals(e,n){return Wt.create(e,n)}static notEquals(e,n){return zt.create(e,n)}static regex(e,n){return qt.create(e,n)}static in(e,n){return Sn.create(e,n)}static notIn(e,n){return wn.create(e,n)}static not(e){return Tt.create(e)}static and(...e){return ei.create(e,null,!0)}static or(...e){return er.create(e,null,!0)}static greater(e,n){return on.create(e,n)}static greaterEquals(e,n){return sn.create(e,n)}static smaller(e,n){return an.create(e,n)}static smallerEquals(e,n){return ln.create(e,n)}static _parser=new Do({regexParsingWithErrorRecovery:!1});static deserialize(e){return e==null?void 0:this._parser.parse(e)}};function Zn(t,e){return t.cmp(e)}var Re=class t{static INSTANCE=new t;type=0;constructor(){}cmp(e){return this.type-e.type}equals(e){return e.type===this.type}substituteConstants(){return this}evaluate(e){return!1}serialize(){return"false"}keys(){return[]}map(e){return this}negate(){return De.INSTANCE}},De=class t{static INSTANCE=new t;type=1;constructor(){}cmp(e){return this.type-e.type}equals(e){return e.type===this.type}substituteConstants(){return this}evaluate(e){return!0}serialize(){return"true"}keys(){return[]}map(e){return this}negate(){return Re.INSTANCE}},It=class t{constructor(e,n){this.key=e;this.negated=n}static create(e,n=null){let r=Ie.get(e);return typeof r=="boolean"?r?De.INSTANCE:Re.INSTANCE:new t(e,n)}type=2;cmp(e){return e.type!==this.type?this.type-e.type:Ia(this.key,e.key)}equals(e){return e.type===this.type?this.key===e.key:!1}substituteConstants(){let e=Ie.get(this.key);return typeof e=="boolean"?e?De.INSTANCE:Re.INSTANCE:this}evaluate(e){return!!e.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}map(e){return e.mapDefined(this.key)}negate(){return this.negated||(this.negated=Tt.create(this.key,this)),this.negated}},Wt=class t{constructor(e,n,r){this.key=e;this.value=n;this.negated=r}static create(e,n,r=null){if(typeof n=="boolean")return n?It.create(e,r):Tt.create(e,r);let i=Ie.get(e);return typeof i=="boolean"?n===(i?"true":"false")?De.INSTANCE:Re.INSTANCE:new t(e,n,r)}type=4;cmp(e){return e.type!==this.type?this.type-e.type:cn(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){let e=Ie.get(this.key);if(typeof e=="boolean"){let n=e?"true":"false";return this.value===n?De.INSTANCE:Re.INSTANCE}return this}evaluate(e){return e.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}map(e){return e.mapEquals(this.key,this.value)}negate(){return this.negated||(this.negated=zt.create(this.key,this.value,this)),this.negated}},Sn=class t{constructor(e,n){this.key=e;this.valueKey=n}static create(e,n){return new t(e,n)}type=10;negated=null;cmp(e){return e.type!==this.type?this.type-e.type:cn(this.key,this.valueKey,e.key,e.valueKey)}equals(e){return e.type===this.type?this.key===e.key&&this.valueKey===e.valueKey:!1}substituteConstants(){return this}evaluate(e){let n=e.getValue(this.valueKey),r=e.getValue(this.key);return Array.isArray(n)?n.includes(r):typeof r=="string"&&typeof n=="object"&&n!==null?du.call(n,r):!1}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}map(e){return e.mapIn(this.key,this.valueKey)}negate(){return this.negated||(this.negated=wn.create(this.key,this.valueKey)),this.negated}},wn=class t{constructor(e,n){this.key=e;this.valueKey=n;this._negated=Sn.create(e,n)}static create(e,n){return new t(e,n)}type=11;_negated;cmp(e){return e.type!==this.type?this.type-e.type:this._negated.cmp(e._negated)}equals(e){return e.type===this.type?this._negated.equals(e._negated):!1}substituteConstants(){return this}evaluate(e){return!this._negated.evaluate(e)}serialize(){return`${this.key} not in '${this.valueKey}'`}keys(){return this._negated.keys()}map(e){return e.mapNotIn(this.key,this.valueKey)}negate(){return this._negated}},zt=class t{constructor(e,n,r){this.key=e;this.value=n;this.negated=r}static create(e,n,r=null){if(typeof n=="boolean")return n?Tt.create(e,r):It.create(e,r);let i=Ie.get(e);return typeof i=="boolean"?n===(i?"true":"false")?Re.INSTANCE:De.INSTANCE:new t(e,n,r)}type=5;cmp(e){return e.type!==this.type?this.type-e.type:cn(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){let e=Ie.get(this.key);if(typeof e=="boolean"){let n=e?"true":"false";return this.value===n?Re.INSTANCE:De.INSTANCE}return this}evaluate(e){return e.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}map(e){return e.mapNotEquals(this.key,this.value)}negate(){return this.negated||(this.negated=Wt.create(this.key,this.value,this)),this.negated}},Tt=class t{constructor(e,n){this.key=e;this.negated=n}static create(e,n=null){let r=Ie.get(e);return typeof r=="boolean"?r?Re.INSTANCE:De.INSTANCE:new t(e,n)}type=3;cmp(e){return e.type!==this.type?this.type-e.type:Ia(this.key,e.key)}equals(e){return e.type===this.type?this.key===e.key:!1}substituteConstants(){let e=Ie.get(this.key);return typeof e=="boolean"?e?Re.INSTANCE:De.INSTANCE:this}evaluate(e){return!e.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}map(e){return e.mapNot(this.key)}negate(){return this.negated||(this.negated=It.create(this.key,this)),this.negated}};function ni(t,e){if(typeof t=="string"){let n=parseFloat(t);isNaN(n)||(t=n)}return typeof t=="string"||typeof t=="number"?e(t):Re.INSTANCE}var on=class t{constructor(e,n,r){this.key=e;this.value=n;this.negated=r}static create(e,n,r=null){return ni(n,i=>new t(e,i,r))}type=12;cmp(e){return e.type!==this.type?this.type-e.type:cn(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}map(e){return e.mapGreater(this.key,this.value)}negate(){return this.negated||(this.negated=ln.create(this.key,this.value,this)),this.negated}},sn=class t{constructor(e,n,r){this.key=e;this.value=n;this.negated=r}static create(e,n,r=null){return ni(n,i=>new t(e,i,r))}type=13;cmp(e){return e.type!==this.type?this.type-e.type:cn(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}map(e){return e.mapGreaterEquals(this.key,this.value)}negate(){return this.negated||(this.negated=an.create(this.key,this.value,this)),this.negated}},an=class t{constructor(e,n,r){this.key=e;this.value=n;this.negated=r}static create(e,n,r=null){return ni(n,i=>new t(e,i,r))}type=14;cmp(e){return e.type!==this.type?this.type-e.type:cn(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}map(e){return e.mapSmaller(this.key,this.value)}negate(){return this.negated||(this.negated=sn.create(this.key,this.value,this)),this.negated}},ln=class t{constructor(e,n,r){this.key=e;this.value=n;this.negated=r}static create(e,n,r=null){return ni(n,i=>new t(e,i,r))}type=15;cmp(e){return e.type!==this.type?this.type-e.type:cn(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}map(e){return e.mapSmallerEquals(this.key,this.value)}negate(){return this.negated||(this.negated=on.create(this.key,this.value,this)),this.negated}},qt=class t{constructor(e,n){this.key=e;this.regexp=n}static create(e,n){return new t(e,n)}type=7;negated=null;cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.key<e.key)return-1;if(this.key>e.key)return 1;let n=this.regexp?this.regexp.source:"",r=e.regexp?e.regexp.source:"";return n<r?-1:n>r?1:0}equals(e){if(e.type===this.type){let n=this.regexp?this.regexp.source:"",r=e.regexp?e.regexp.source:"";return this.key===e.key&&n===r}return!1}substituteConstants(){return this}evaluate(e){let n=e.getValue(this.key);return this.regexp?this.regexp.test(n):!1}serialize(){let e=this.regexp?`/${this.regexp.source}/${this.regexp.flags}`:"/invalid/";return`${this.key} =~ ${e}`}keys(){return[this.key]}map(e){return e.mapRegex(this.key,this.regexp)}negate(){return this.negated||(this.negated=Ao.create(this)),this.negated}},Ao=class t{constructor(e){this._actual=e}static create(e){return new t(e)}type=8;cmp(e){return e.type!==this.type?this.type-e.type:this._actual.cmp(e._actual)}equals(e){return e.type===this.type?this._actual.equals(e._actual):!1}substituteConstants(){return this}evaluate(e){return!this._actual.evaluate(e)}serialize(){return`!(${this._actual.serialize()})`}keys(){return this._actual.keys()}map(e){return new t(this._actual.map(e))}negate(){return this._actual}};function va(t){let e=null;for(let n=0,r=t.length;n<r;n++){let i=t[n].substituteConstants();if(t[n]!==i&&e===null){e=[];for(let o=0;o<n;o++)e[o]=t[o]}e!==null&&(e[n]=i)}return e===null?t:e}var ei=class t{constructor(e,n){this.expr=e;this.negated=n}static create(e,n,r){return t._normalizeArr(e,n,r)}type=6;cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.expr.length<e.expr.length)return-1;if(this.expr.length>e.expr.length)return 1;for(let n=0,r=this.expr.length;n<r;n++){let i=Zn(this.expr[n],e.expr[n]);if(i!==0)return i}return 0}equals(e){if(e.type===this.type){if(this.expr.length!==e.expr.length)return!1;for(let n=0,r=this.expr.length;n<r;n++)if(!this.expr[n].equals(e.expr[n]))return!1;return!0}return!1}substituteConstants(){let e=va(this.expr);return e===this.expr?this:t.create(e,this.negated,!1)}evaluate(e){for(let n=0,r=this.expr.length;n<r;n++)if(!this.expr[n].evaluate(e))return!1;return!0}static _normalizeArr(e,n,r){let i=[],o=!1;for(let s of e)if(s){if(s.type===1){o=!0;continue}if(s.type===0)return Re.INSTANCE;if(s.type===6){i.push(...s.expr);continue}i.push(s)}if(i.length===0&&o)return De.INSTANCE;if(i.length!==0){if(i.length===1)return i[0];i.sort(Zn);for(let s=1;s<i.length;s++)i[s-1].equals(i[s])&&(i.splice(s,1),s--);if(i.length===1)return i[0];for(;i.length>1;){let s=i[i.length-1];if(s.type!==9)break;i.pop();let l=i.pop(),c=i.length===0,u=er.create(s.expr.map(d=>t.create([d,l],null,r)),null,c);u&&(i.push(u),i.sort(Zn))}if(i.length===1)return i[0];if(r){for(let s=0;s<i.length;s++)for(let l=s+1;l<i.length;l++)if(i[s].negate().equals(i[l]))return Re.INSTANCE;if(i.length===1)return i[0]}return new t(i,n)}}serialize(){return this.expr.map(e=>e.serialize()).join(" && ")}keys(){let e=[];for(let n of this.expr)e.push(...n.keys());return e}map(e){return new t(this.expr.map(n=>n.map(e)),null)}negate(){if(!this.negated){let e=[];for(let n of this.expr)e.push(n.negate());this.negated=er.create(e,this,!0)}return this.negated}},er=class t{constructor(e,n){this.expr=e;this.negated=n}static create(e,n,r){return t._normalizeArr(e,n,r)}type=9;cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.expr.length<e.expr.length)return-1;if(this.expr.length>e.expr.length)return 1;for(let n=0,r=this.expr.length;n<r;n++){let i=Zn(this.expr[n],e.expr[n]);if(i!==0)return i}return 0}equals(e){if(e.type===this.type){if(this.expr.length!==e.expr.length)return!1;for(let n=0,r=this.expr.length;n<r;n++)if(!this.expr[n].equals(e.expr[n]))return!1;return!0}return!1}substituteConstants(){let e=va(this.expr);return e===this.expr?this:t.create(e,this.negated,!1)}evaluate(e){for(let n=0,r=this.expr.length;n<r;n++)if(this.expr[n].evaluate(e))return!0;return!1}static _normalizeArr(e,n,r){let i=[],o=!1;if(e){for(let s=0,l=e.length;s<l;s++){let c=e[s];if(c){if(c.type===0){o=!0;continue}if(c.type===1)return De.INSTANCE;if(c.type===9){i=i.concat(c.expr);continue}i.push(c)}}if(i.length===0&&o)return Re.INSTANCE;i.sort(Zn)}if(i.length!==0){if(i.length===1)return i[0];for(let s=1;s<i.length;s++)i[s-1].equals(i[s])&&(i.splice(s,1),s--);if(i.length===1)return i[0];if(r){for(let s=0;s<i.length;s++)for(let l=s+1;l<i.length;l++)if(i[s].negate().equals(i[l]))return De.INSTANCE;if(i.length===1)return i[0]}return new t(i,n)}}serialize(){return this.expr.map(e=>e.serialize()).join(" || ")}keys(){let e=[];for(let n of this.expr)e.push(...n.keys());return e}map(e){return new t(this.expr.map(n=>n.map(e)),null)}negate(){if(!this.negated){let e=[];for(let n of this.expr)e.push(n.negate());for(;e.length>1;){let n=e.shift(),r=e.shift(),i=[];for(let o of ya(n))for(let s of ya(r))i.push(ei.create([o,s],null,!1));e.unshift(t.create(i,null,!1))}this.negated=t.create(e,this,!0)}return this.negated}},ti=class t extends It{static _info=[];static all(){return t._info.values()}_defaultValue;constructor(e,n,r){super(e,null),this._defaultValue=n,typeof r=="object"?t._info.push({...r,key:e}):r!==!0&&t._info.push({key:e,description:r,type:n!=null?typeof n:void 0})}bindTo(e){return e.createKey(this.key,this._defaultValue)}getValue(e){return e.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(e){return Wt.create(this.key,e)}notEqualsTo(e){return zt.create(this.key,e)}},Bh=V("contextKeyService");function Ia(t,e){return t<e?-1:t>e?1:0}function cn(t,e,n,r){return t<n?-1:t>n?1:e<r?-1:e>r?1:0}function ya(t){return t.type===9?t.expr:[t]}var ri=(i=>(i[i.Ignore=0]="Ignore",i[i.Info=1]="Info",i[i.Warning=2]="Warning",i[i.Error=3]="Error",i))(ri||{});(l=>{let t="error",e="warning",n="warn",r="info",i="ignore";function o(c){return c?Ge(t,c)?3:Ge(e,c)||Ge(n,c)?2:Ge(r,c)?1:0:0}l.fromValue=o;function s(c){switch(c){case 3:return t;case 2:return e;case 1:return r;default:return i}}l.toString=s})(ri||={});var Te=ri;var Ta=Object.create(null);function a(t,e){if(xe(e)){let n=Ta[e];if(n===void 0)throw new Error(`${t} references an unknown codicon: ${e}`);e=n}return Ta[t]=e,{id:t}}var Ea={add:a("add",6e4),plus:a("plus",6e4),gistNew:a("gist-new",6e4),repoCreate:a("repo-create",6e4),lightbulb:a("lightbulb",60001),lightBulb:a("light-bulb",60001),repo:a("repo",60002),repoDelete:a("repo-delete",60002),gistFork:a("gist-fork",60003),repoForked:a("repo-forked",60003),gitPullRequest:a("git-pull-request",60004),gitPullRequestAbandoned:a("git-pull-request-abandoned",60004),recordKeys:a("record-keys",60005),keyboard:a("keyboard",60005),tag:a("tag",60006),gitPullRequestLabel:a("git-pull-request-label",60006),tagAdd:a("tag-add",60006),tagRemove:a("tag-remove",60006),person:a("person",60007),personFollow:a("person-follow",60007),personOutline:a("person-outline",60007),personFilled:a("person-filled",60007),gitBranch:a("git-branch",60008),gitBranchCreate:a("git-branch-create",60008),gitBranchDelete:a("git-branch-delete",60008),sourceControl:a("source-control",60008),mirror:a("mirror",60009),mirrorPublic:a("mirror-public",60009),star:a("star",60010),starAdd:a("star-add",60010),starDelete:a("star-delete",60010),starEmpty:a("star-empty",60010),comment:a("comment",60011),commentAdd:a("comment-add",60011),alert:a("alert",60012),warning:a("warning",60012),search:a("search",60013),searchSave:a("search-save",60013),logOut:a("log-out",60014),signOut:a("sign-out",60014),logIn:a("log-in",60015),signIn:a("sign-in",60015),eye:a("eye",60016),eyeUnwatch:a("eye-unwatch",60016),eyeWatch:a("eye-watch",60016),circleFilled:a("circle-filled",60017),primitiveDot:a("primitive-dot",60017),closeDirty:a("close-dirty",60017),debugBreakpoint:a("debug-breakpoint",60017),debugBreakpointDisabled:a("debug-breakpoint-disabled",60017),debugHint:a("debug-hint",60017),terminalDecorationSuccess:a("terminal-decoration-success",60017),primitiveSquare:a("primitive-square",60018),edit:a("edit",60019),pencil:a("pencil",60019),info:a("info",60020),issueOpened:a("issue-opened",60020),gistPrivate:a("gist-private",60021),gitForkPrivate:a("git-fork-private",60021),lock:a("lock",60021),mirrorPrivate:a("mirror-private",60021),close:a("close",60022),removeClose:a("remove-close",60022),x:a("x",60022),repoSync:a("repo-sync",60023),sync:a("sync",60023),clone:a("clone",60024),desktopDownload:a("desktop-download",60024),beaker:a("beaker",60025),microscope:a("microscope",60025),vm:a("vm",60026),deviceDesktop:a("device-desktop",60026),file:a("file",60027),fileText:a("file-text",60027),more:a("more",60028),ellipsis:a("ellipsis",60028),kebabHorizontal:a("kebab-horizontal",60028),mailReply:a("mail-reply",60029),reply:a("reply",60029),organization:a("organization",60030),organizationFilled:a("organization-filled",60030),organizationOutline:a("organization-outline",60030),newFile:a("new-file",60031),fileAdd:a("file-add",60031),newFolder:a("new-folder",60032),fileDirectoryCreate:a("file-directory-create",60032),trash:a("trash",60033),trashcan:a("trashcan",60033),history:a("history",60034),clock:a("clock",60034),folder:a("folder",60035),fileDirectory:a("file-directory",60035),symbolFolder:a("symbol-folder",60035),logoGithub:a("logo-github",60036),markGithub:a("mark-github",60036),github:a("github",60036),terminal:a("terminal",60037),console:a("console",60037),repl:a("repl",60037),zap:a("zap",60038),symbolEvent:a("symbol-event",60038),error:a("error",60039),stop:a("stop",60039),variable:a("variable",60040),symbolVariable:a("symbol-variable",60040),array:a("array",60042),symbolArray:a("symbol-array",60042),symbolModule:a("symbol-module",60043),symbolPackage:a("symbol-package",60043),symbolNamespace:a("symbol-namespace",60043),symbolObject:a("symbol-object",60043),symbolMethod:a("symbol-method",60044),symbolFunction:a("symbol-function",60044),symbolConstructor:a("symbol-constructor",60044),symbolBoolean:a("symbol-boolean",60047),symbolNull:a("symbol-null",60047),symbolNumeric:a("symbol-numeric",60048),symbolNumber:a("symbol-number",60048),symbolStructure:a("symbol-structure",60049),symbolStruct:a("symbol-struct",60049),symbolParameter:a("symbol-parameter",60050),symbolTypeParameter:a("symbol-type-parameter",60050),symbolKey:a("symbol-key",60051),symbolText:a("symbol-text",60051),symbolReference:a("symbol-reference",60052),goToFile:a("go-to-file",60052),symbolEnum:a("symbol-enum",60053),symbolValue:a("symbol-value",60053),symbolRuler:a("symbol-ruler",60054),symbolUnit:a("symbol-unit",60054),activateBreakpoints:a("activate-breakpoints",60055),archive:a("archive",60056),arrowBoth:a("arrow-both",60057),arrowDown:a("arrow-down",60058),arrowLeft:a("arrow-left",60059),arrowRight:a("arrow-right",60060),arrowSmallDown:a("arrow-small-down",60061),arrowSmallLeft:a("arrow-small-left",60062),arrowSmallRight:a("arrow-small-right",60063),arrowSmallUp:a("arrow-small-up",60064),arrowUp:a("arrow-up",60065),bell:a("bell",60066),bold:a("bold",60067),book:a("book",60068),bookmark:a("bookmark",60069),debugBreakpointConditionalUnverified:a("debug-breakpoint-conditional-unverified",60070),debugBreakpointConditional:a("debug-breakpoint-conditional",60071),debugBreakpointConditionalDisabled:a("debug-breakpoint-conditional-disabled",60071),debugBreakpointDataUnverified:a("debug-breakpoint-data-unverified",60072),debugBreakpointData:a("debug-breakpoint-data",60073),debugBreakpointDataDisabled:a("debug-breakpoint-data-disabled",60073),debugBreakpointLogUnverified:a("debug-breakpoint-log-unverified",60074),debugBreakpointLog:a("debug-breakpoint-log",60075),debugBreakpointLogDisabled:a("debug-breakpoint-log-disabled",60075),briefcase:a("briefcase",60076),broadcast:a("broadcast",60077),browser:a("browser",60078),bug:a("bug",60079),calendar:a("calendar",60080),caseSensitive:a("case-sensitive",60081),check:a("check",60082),checklist:a("checklist",60083),chevronDown:a("chevron-down",60084),chevronLeft:a("chevron-left",60085),chevronRight:a("chevron-right",60086),chevronUp:a("chevron-up",60087),chromeClose:a("chrome-close",60088),chromeMaximize:a("chrome-maximize",60089),chromeMinimize:a("chrome-minimize",60090),chromeRestore:a("chrome-restore",60091),circleOutline:a("circle-outline",60092),circle:a("circle",60092),debugBreakpointUnverified:a("debug-breakpoint-unverified",60092),terminalDecorationIncomplete:a("terminal-decoration-incomplete",60092),circleSlash:a("circle-slash",60093),circuitBoard:a("circuit-board",60094),clearAll:a("clear-all",60095),clippy:a("clippy",60096),closeAll:a("close-all",60097),cloudDownload:a("cloud-download",60098),cloudUpload:a("cloud-upload",60099),code:a("code",60100),collapseAll:a("collapse-all",60101),colorMode:a("color-mode",60102),commentDiscussion:a("comment-discussion",60103),creditCard:a("credit-card",60105),dash:a("dash",60108),dashboard:a("dashboard",60109),database:a("database",60110),debugContinue:a("debug-continue",60111),debugDisconnect:a("debug-disconnect",60112),debugPause:a("debug-pause",60113),debugRestart:a("debug-restart",60114),debugStart:a("debug-start",60115),debugStepInto:a("debug-step-into",60116),debugStepOut:a("debug-step-out",60117),debugStepOver:a("debug-step-over",60118),debugStop:a("debug-stop",60119),debug:a("debug",60120),deviceCameraVideo:a("device-camera-video",60121),deviceCamera:a("device-camera",60122),deviceMobile:a("device-mobile",60123),diffAdded:a("diff-added",60124),diffIgnored:a("diff-ignored",60125),diffModified:a("diff-modified",60126),diffRemoved:a("diff-removed",60127),diffRenamed:a("diff-renamed",60128),diff:a("diff",60129),diffSidebyside:a("diff-sidebyside",60129),discard:a("discard",60130),editorLayout:a("editor-layout",60131),emptyWindow:a("empty-window",60132),exclude:a("exclude",60133),extensions:a("extensions",60134),eyeClosed:a("eye-closed",60135),fileBinary:a("file-binary",60136),fileCode:a("file-code",60137),fileMedia:a("file-media",60138),filePdf:a("file-pdf",60139),fileSubmodule:a("file-submodule",60140),fileSymlinkDirectory:a("file-symlink-directory",60141),fileSymlinkFile:a("file-symlink-file",60142),fileZip:a("file-zip",60143),files:a("files",60144),filter:a("filter",60145),flame:a("flame",60146),foldDown:a("fold-down",60147),foldUp:a("fold-up",60148),fold:a("fold",60149),folderActive:a("folder-active",60150),folderOpened:a("folder-opened",60151),gear:a("gear",60152),gift:a("gift",60153),gistSecret:a("gist-secret",60154),gist:a("gist",60155),gitCommit:a("git-commit",60156),gitCompare:a("git-compare",60157),compareChanges:a("compare-changes",60157),gitMerge:a("git-merge",60158),githubAction:a("github-action",60159),githubAlt:a("github-alt",60160),globe:a("globe",60161),grabber:a("grabber",60162),graph:a("graph",60163),gripper:a("gripper",60164),heart:a("heart",60165),home:a("home",60166),horizontalRule:a("horizontal-rule",60167),hubot:a("hubot",60168),inbox:a("inbox",60169),issueReopened:a("issue-reopened",60171),issues:a("issues",60172),italic:a("italic",60173),jersey:a("jersey",60174),json:a("json",60175),kebabVertical:a("kebab-vertical",60176),key:a("key",60177),law:a("law",60178),lightbulbAutofix:a("lightbulb-autofix",60179),linkExternal:a("link-external",60180),link:a("link",60181),listOrdered:a("list-ordered",60182),listUnordered:a("list-unordered",60183),liveShare:a("live-share",60184),loading:a("loading",60185),location:a("location",60186),mailRead:a("mail-read",60187),mail:a("mail",60188),markdown:a("markdown",60189),megaphone:a("megaphone",60190),mention:a("mention",60191),milestone:a("milestone",60192),gitPullRequestMilestone:a("git-pull-request-milestone",60192),mortarBoard:a("mortar-board",60193),move:a("move",60194),multipleWindows:a("multiple-windows",60195),mute:a("mute",60196),noNewline:a("no-newline",60197),note:a("note",60198),octoface:a("octoface",60199),openPreview:a("open-preview",60200),package:a("package",60201),paintcan:a("paintcan",60202),pin:a("pin",60203),play:a("play",60204),run:a("run",60204),plug:a("plug",60205),preserveCase:a("preserve-case",60206),preview:a("preview",60207),project:a("project",60208),pulse:a("pulse",60209),question:a("question",60210),quote:a("quote",60211),radioTower:a("radio-tower",60212),reactions:a("reactions",60213),references:a("references",60214),refresh:a("refresh",60215),regex:a("regex",60216),remoteExplorer:a("remote-explorer",60217),remote:a("remote",60218),remove:a("remove",60219),replaceAll:a("replace-all",60220),replace:a("replace",60221),repoClone:a("repo-clone",60222),repoForcePush:a("repo-force-push",60223),repoPull:a("repo-pull",60224),repoPush:a("repo-push",60225),report:a("report",60226),requestChanges:a("request-changes",60227),rocket:a("rocket",60228),rootFolderOpened:a("root-folder-opened",60229),rootFolder:a("root-folder",60230),rss:a("rss",60231),ruby:a("ruby",60232),saveAll:a("save-all",60233),saveAs:a("save-as",60234),save:a("save",60235),screenFull:a("screen-full",60236),screenNormal:a("screen-normal",60237),searchStop:a("search-stop",60238),server:a("server",60240),settingsGear:a("settings-gear",60241),settings:a("settings",60242),shield:a("shield",60243),smiley:a("smiley",60244),sortPrecedence:a("sort-precedence",60245),splitHorizontal:a("split-horizontal",60246),splitVertical:a("split-vertical",60247),squirrel:a("squirrel",60248),starFull:a("star-full",60249),starHalf:a("star-half",60250),symbolClass:a("symbol-class",60251),symbolColor:a("symbol-color",60252),symbolConstant:a("symbol-constant",60253),symbolEnumMember:a("symbol-enum-member",60254),symbolField:a("symbol-field",60255),symbolFile:a("symbol-file",60256),symbolInterface:a("symbol-interface",60257),symbolKeyword:a("symbol-keyword",60258),symbolMisc:a("symbol-misc",60259),symbolOperator:a("symbol-operator",60260),symbolProperty:a("symbol-property",60261),wrench:a("wrench",60261),wrenchSubaction:a("wrench-subaction",60261),symbolSnippet:a("symbol-snippet",60262),tasklist:a("tasklist",60263),telescope:a("telescope",60264),textSize:a("text-size",60265),threeBars:a("three-bars",60266),thumbsdown:a("thumbsdown",60267),thumbsup:a("thumbsup",60268),tools:a("tools",60269),triangleDown:a("triangle-down",60270),triangleLeft:a("triangle-left",60271),triangleRight:a("triangle-right",60272),triangleUp:a("triangle-up",60273),twitter:a("twitter",60274),unfold:a("unfold",60275),unlock:a("unlock",60276),unmute:a("unmute",60277),unverified:a("unverified",60278),verified:a("verified",60279),versions:a("versions",60280),vmActive:a("vm-active",60281),vmOutline:a("vm-outline",60282),vmRunning:a("vm-running",60283),watch:a("watch",60284),whitespace:a("whitespace",60285),wholeWord:a("whole-word",60286),window:a("window",60287),wordWrap:a("word-wrap",60288),zoomIn:a("zoom-in",60289),zoomOut:a("zoom-out",60290),listFilter:a("list-filter",60291),listFlat:a("list-flat",60292),listSelection:a("list-selection",60293),selection:a("selection",60293),listTree:a("list-tree",60294),debugBreakpointFunctionUnverified:a("debug-breakpoint-function-unverified",60295),debugBreakpointFunction:a("debug-breakpoint-function",60296),debugBreakpointFunctionDisabled:a("debug-breakpoint-function-disabled",60296),debugStackframeActive:a("debug-stackframe-active",60297),circleSmallFilled:a("circle-small-filled",60298),debugStackframeDot:a("debug-stackframe-dot",60298),terminalDecorationMark:a("terminal-decoration-mark",60298),debugStackframe:a("debug-stackframe",60299),debugStackframeFocused:a("debug-stackframe-focused",60299),debugBreakpointUnsupported:a("debug-breakpoint-unsupported",60300),symbolString:a("symbol-string",60301),debugReverseContinue:a("debug-reverse-continue",60302),debugStepBack:a("debug-step-back",60303),debugRestartFrame:a("debug-restart-frame",60304),debugAlt:a("debug-alt",60305),callIncoming:a("call-incoming",60306),callOutgoing:a("call-outgoing",60307),menu:a("menu",60308),expandAll:a("expand-all",60309),feedback:a("feedback",60310),gitPullRequestReviewer:a("git-pull-request-reviewer",60310),groupByRefType:a("group-by-ref-type",60311),ungroupByRefType:a("ungroup-by-ref-type",60312),account:a("account",60313),gitPullRequestAssignee:a("git-pull-request-assignee",60313),bellDot:a("bell-dot",60314),debugConsole:a("debug-console",60315),library:a("library",60316),output:a("output",60317),runAll:a("run-all",60318),syncIgnored:a("sync-ignored",60319),pinned:a("pinned",60320),githubInverted:a("github-inverted",60321),serverProcess:a("server-process",60322),serverEnvironment:a("server-environment",60323),pass:a("pass",60324),issueClosed:a("issue-closed",60324),stopCircle:a("stop-circle",60325),playCircle:a("play-circle",60326),record:a("record",60327),debugAltSmall:a("debug-alt-small",60328),vmConnect:a("vm-connect",60329),cloud:a("cloud",60330),merge:a("merge",60331),export:a("export",60332),graphLeft:a("graph-left",60333),magnet:a("magnet",60334),notebook:a("notebook",60335),redo:a("redo",60336),checkAll:a("check-all",60337),pinnedDirty:a("pinned-dirty",60338),passFilled:a("pass-filled",60339),circleLargeFilled:a("circle-large-filled",60340),circleLarge:a("circle-large",60341),circleLargeOutline:a("circle-large-outline",60341),combine:a("combine",60342),gather:a("gather",60342),table:a("table",60343),variableGroup:a("variable-group",60344),typeHierarchy:a("type-hierarchy",60345),typeHierarchySub:a("type-hierarchy-sub",60346),typeHierarchySuper:a("type-hierarchy-super",60347),gitPullRequestCreate:a("git-pull-request-create",60348),runAbove:a("run-above",60349),runBelow:a("run-below",60350),notebookTemplate:a("notebook-template",60351),debugRerun:a("debug-rerun",60352),workspaceTrusted:a("workspace-trusted",60353),workspaceUntrusted:a("workspace-untrusted",60354),workspaceUnknown:a("workspace-unknown",60355),terminalCmd:a("terminal-cmd",60356),terminalDebian:a("terminal-debian",60357),terminalLinux:a("terminal-linux",60358),terminalPowershell:a("terminal-powershell",60359),terminalTmux:a("terminal-tmux",60360),terminalUbuntu:a("terminal-ubuntu",60361),terminalBash:a("terminal-bash",60362),arrowSwap:a("arrow-swap",60363),copy:a("copy",60364),personAdd:a("person-add",60365),filterFilled:a("filter-filled",60366),wand:a("wand",60367),debugLineByLine:a("debug-line-by-line",60368),inspect:a("inspect",60369),layers:a("layers",60370),layersDot:a("layers-dot",60371),layersActive:a("layers-active",60372),compass:a("compass",60373),compassDot:a("compass-dot",60374),compassActive:a("compass-active",60375),azure:a("azure",60376),issueDraft:a("issue-draft",60377),gitPullRequestClosed:a("git-pull-request-closed",60378),gitPullRequestDraft:a("git-pull-request-draft",60379),debugAll:a("debug-all",60380),debugCoverage:a("debug-coverage",60381),runErrors:a("run-errors",60382),folderLibrary:a("folder-library",60383),debugContinueSmall:a("debug-continue-small",60384),beakerStop:a("beaker-stop",60385),graphLine:a("graph-line",60386),graphScatter:a("graph-scatter",60387),pieChart:a("pie-chart",60388),bracket:a("bracket",60175),bracketDot:a("bracket-dot",60389),bracketError:a("bracket-error",60390),lockSmall:a("lock-small",60391),azureDevops:a("azure-devops",60392),verifiedFilled:a("verified-filled",60393),newline:a("newline",60394),layout:a("layout",60395),layoutActivitybarLeft:a("layout-activitybar-left",60396),layoutActivitybarRight:a("layout-activitybar-right",60397),layoutPanelLeft:a("layout-panel-left",60398),layoutPanelCenter:a("layout-panel-center",60399),layoutPanelJustify:a("layout-panel-justify",60400),layoutPanelRight:a("layout-panel-right",60401),layoutPanel:a("layout-panel",60402),layoutSidebarLeft:a("layout-sidebar-left",60403),layoutSidebarRight:a("layout-sidebar-right",60404),layoutStatusbar:a("layout-statusbar",60405),layoutMenubar:a("layout-menubar",60406),layoutCentered:a("layout-centered",60407),target:a("target",60408),indent:a("indent",60409),recordSmall:a("record-small",60410),errorSmall:a("error-small",60411),terminalDecorationError:a("terminal-decoration-error",60411),arrowCircleDown:a("arrow-circle-down",60412),arrowCircleLeft:a("arrow-circle-left",60413),arrowCircleRight:a("arrow-circle-right",60414),arrowCircleUp:a("arrow-circle-up",60415),layoutSidebarRightOff:a("layout-sidebar-right-off",60416),layoutPanelOff:a("layout-panel-off",60417),layoutSidebarLeftOff:a("layout-sidebar-left-off",60418),blank:a("blank",60419),heartFilled:a("heart-filled",60420),map:a("map",60421),mapHorizontal:a("map-horizontal",60421),foldHorizontal:a("fold-horizontal",60421),mapFilled:a("map-filled",60422),mapHorizontalFilled:a("map-horizontal-filled",60422),foldHorizontalFilled:a("fold-horizontal-filled",60422),circleSmall:a("circle-small",60423),bellSlash:a("bell-slash",60424),bellSlashDot:a("bell-slash-dot",60425),commentUnresolved:a("comment-unresolved",60426),gitPullRequestGoToChanges:a("git-pull-request-go-to-changes",60427),gitPullRequestNewChanges:a("git-pull-request-new-changes",60428),searchFuzzy:a("search-fuzzy",60429),commentDraft:a("comment-draft",60430),send:a("send",60431),sparkle:a("sparkle",60432),insert:a("insert",60433),mic:a("mic",60434),thumbsdownFilled:a("thumbsdown-filled",60435),thumbsupFilled:a("thumbsup-filled",60436),coffee:a("coffee",60437),snake:a("snake",60438),game:a("game",60439),vr:a("vr",60440),chip:a("chip",60441),piano:a("piano",60442),music:a("music",60443),micFilled:a("mic-filled",60444),repoFetch:a("repo-fetch",60445),copilot:a("copilot",60446),lightbulbSparkle:a("lightbulb-sparkle",60447),robot:a("robot",60448),sparkleFilled:a("sparkle-filled",60449),diffSingle:a("diff-single",60450),diffMultiple:a("diff-multiple",60451),surroundWith:a("surround-with",60452),share:a("share",60453),gitStash:a("git-stash",60454),gitStashApply:a("git-stash-apply",60455),gitStashPop:a("git-stash-pop",60456),vscode:a("vscode",60457),vscodeInsiders:a("vscode-insiders",60458),codeOss:a("code-oss",60459),runCoverage:a("run-coverage",60460),runAllCoverage:a("run-all-coverage",60461),coverage:a("coverage",60462),githubProject:a("github-project",60463),mapVertical:a("map-vertical",60464),foldVertical:a("fold-vertical",60464),mapVerticalFilled:a("map-vertical-filled",60465),foldVerticalFilled:a("fold-vertical-filled",60465),goToSearch:a("go-to-search",60466),percentage:a("percentage",60467),sortPercentage:a("sort-percentage",60467),attach:a("attach",60468)};var vu={dialogError:a("dialog-error","error"),dialogWarning:a("dialog-warning","warning"),dialogInfo:a("dialog-info","info"),dialogClose:a("dialog-close","close"),treeItemExpanded:a("tree-item-expanded","chevron-down"),treeFilterOnTypeOn:a("tree-filter-on-type-on","list-filter"),treeFilterOnTypeOff:a("tree-filter-on-type-off","list-selection"),treeFilterClear:a("tree-filter-clear","close"),treeItemLoading:a("tree-item-loading","loading"),menuSelection:a("menu-selection","check"),menuSubmenu:a("menu-submenu","chevron-right"),menuBarMore:a("menubar-more","more"),scrollbarButtonLeft:a("scrollbar-button-left","triangle-left"),scrollbarButtonRight:a("scrollbar-button-right","triangle-right"),scrollbarButtonUp:a("scrollbar-button-up","triangle-up"),scrollbarButtonDown:a("scrollbar-button-down","triangle-down"),toolBarMore:a("toolbar-more","more"),quickInputBack:a("quick-input-back","arrow-left"),dropDownButton:a("drop-down-button",60084),symbolCustomColor:a("symbol-customcolor",60252),exportIcon:a("export",60332),workspaceUnspecified:a("workspace-unspecified",60355),newLine:a("newline",60394),thumbsDownFilled:a("thumbsdown-filled",60435),thumbsUpFilled:a("thumbsup-filled",60436),gitFetch:a("git-fetch",60445),lightbulbSparkleAutofix:a("lightbulb-sparkle-autofix",60447),debugBreakpointPending:a("debug-breakpoint-pending",60377)},_a={...Ea,...vu};var Sa;(e=>{function t(n){return n&&typeof n=="object"&&typeof n.id=="string"}e.isThemeColor=t})(Sa||={});var tr;(y=>{y.iconNameSegment="[A-Za-z0-9]+",y.iconNameExpression="[A-Za-z0-9-]+",y.iconModifierExpression="~[A-Za-z]+",y.iconNameCharacter="[A-Za-z0-9~-]";let i=new RegExp(`^(${y.iconNameExpression})(${y.iconModifierExpression})?$`);function o(E){let T=i.exec(E.id);if(!T)return o(_a.error);let[,_,z]=T,x=["codicon","codicon-"+_];return z&&x.push("codicon-modifier-"+z.substring(1)),x}y.asClassNameArray=o;function s(E){return o(E).join(" ")}y.asClassName=s;function l(E){return"."+o(E).join(".")}y.asCSSSelector=l;function c(E){return E&&typeof E=="object"&&typeof E.id=="string"&&(typeof E.color>"u"||Sa.isThemeColor(E.color))}y.isThemeIcon=c;let u=new RegExp(`^\\$\\((${y.iconNameExpression}(?:${y.iconModifierExpression})?)\\)$`);function d(E){let T=u.exec(E);if(!T)return;let[,_]=T;return{id:_}}y.fromString=d;function f(E){return{id:E}}y.fromId=f;function m(E,T){let _=E.id,z=_.lastIndexOf("~");return z!==-1&&(_=_.substring(0,z)),T&&(_=`${_}~${T}`),{id:_}}y.modify=m;function v(E){let T=E.id.lastIndexOf("~");if(T!==-1)return E.id.substring(T+1)}y.getModifier=v;function A(E,T){return E.id===T.id&&E.color?.id===T.color?.id}y.isEqual=A})(tr||={});var c0=Object.freeze({View:it("view","View"),Help:it("help","Help"),Test:it("test","Test"),File:it("file","File"),Preferences:it("preferences","Preferences"),Developer:it({key:"developer",comment:["A developer on Code itself or someone diagnosing issues in Code"]},"Developer")});var Iu=V("commandService"),wa=new class{_commands=new Map;_onDidRegisterCommand=new J;onDidRegisterCommand=this._onDidRegisterCommand.event;registerCommand(t,e){if(!t)throw new Error("invalid command");if(typeof t=="string"){if(!e)throw new Error("invalid command");return this.registerCommand({id:t,handler:e})}if(t.metadata&&Array.isArray(t.metadata.args)){let s=[];for(let c of t.metadata.args)s.push(c.constraint);let l=t.handler;t.handler=function(c,...u){return ca(u,s),l(c,...u)}}let{id:n}=t,r=this._commands.get(n);r||(r=new $n,this._commands.set(n,r));let i=r.unshift(t),o=Le(()=>{i(),this._commands.get(n)?.isEmpty()&&this._commands.delete(n)});return this._onDidRegisterCommand.fire(n),o}registerCommandAlias(t,e){return wa.registerCommand(t,(n,...r)=>n.get(Iu).executeCommand(e,...r))}getCommand(t){let e=this._commands.get(t);if(!(!e||e.isEmpty()))return Wn.first(e)}getCommands(){let t=new Map;for(let e of this._commands.keys()){let n=this.getCommand(e);n&&t.set(e,n)}return t}};wa.registerCommand("noop",()=>{});var Et=V("environmentService"),z0=Et;var Pa="extensions.user.cache",Ra="extensions.builtin.cache",ii="undefined_publisher";var ka=["AI","Azure","Chat","Data Science","Debuggers","Extension Packs","Education","Formatters","Keymaps","Language Packs","Linters","Machine Learning","Notebooks","Programming Languages","SCM Providers","Snippets","Testing","Themes","Visualization","Other"];var ct=class{value;_lower;constructor(e){this.value=e,this._lower=e.toLowerCase()}static equals(e,n){if(typeof e>"u"||e===null)return typeof n>"u"||n===null;if(typeof n>"u"||n===null)return!1;if(typeof e=="string"||typeof n=="string"){let r=typeof e=="string"?e:e.value,i=typeof n=="string"?n:n.value;return Ge(r,i)}return e._lower===n._lower}static toKey(e){return typeof e=="string"?e.toLowerCase():e._lower}};var Pn=class{_map=new Map;clear(){this._map.clear()}delete(e){this._map.delete(ct.toKey(e))}get(e){return this._map.get(ct.toKey(e))}has(e){return this._map.has(ct.toKey(e))}set(e,n){this._map.set(ct.toKey(e),n)}values(){return this._map.values()}forEach(e){this._map.forEach(e)}[Symbol.iterator](){return this._map[Symbol.iterator]()}};function Da(t){return t.map(e=>{let[n,r]=e.split("@");return{proposalName:n,version:r?parseInt(r):void 0}})}function Aa(t){return t.map(e=>e.split("@")[0])}var ob=V("IBuiltinExtensionsScannerService");var Su="^([a-z0-9A-Z][a-z0-9-A-Z]*)\\.([a-z0-9A-Z][a-z0-9-A-Z]*)$",La=new RegExp(Su);function Ua(t,e){switch(t){case 3:return e==="x64"?"win32-x64":e==="arm64"?"win32-arm64":"unknown";case 2:return e==="x64"?"linux-x64":e==="arm64"?"linux-arm64":e==="arm"?"linux-armhf":"unknown";case"alpine":return e==="x64"?"alpine-x64":e==="arm64"?"alpine-arm64":"unknown";case 1:return e==="x64"?"darwin-x64":e==="arm64"?"darwin-arm64":"unknown";case 0:return"web"}}function Ca(t){return t&&typeof t=="object"&&typeof t.id=="string"&&(!t.uuid||typeof t.uuid=="string")}var oi=V("extensionGalleryService");var Na=V("extensionManagementService");var _b=V("IGlobalExtensionEnablementService"),Sb=V("IExtensionTipsService"),wb=it("extensions","Extensions"),Pb=it("preferences","Preferences");var si={},$={exports:si};(function(t,e){if(typeof si=="object"&&typeof $=="object")$.exports=e();else if(typeof define=="function"&&define.amd)define([],e);else{var n=e();for(var r in n)(typeof si=="object"?si:t)[r]=n[r]}})(typeof self<"u"?self:void 0,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(r,i,o){n.o(r,i)||Object.defineProperty(r,i,{enumerable:!0,get:o})},n.r=function(r){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},n.t=function(r,i){if(1&i&&(r=n(r)),8&i||4&i&&typeof r=="object"&&r&&r.__esModule)return r;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:r}),2&i&&typeof r!="string")for(var s in r)n.d(o,s,function(l){return r[l]}.bind(null,s));return o},n.n=function(r){var i=r&&r.__esModule?function(){return r.default}:function(){return r};return n.d(i,"a",i),i},n.o=function(r,i){return Object.prototype.hasOwnProperty.call(r,i)},n.p="",n(n.s=0)}([function(t,e,n){(function(r){var i;e=t.exports=ee,i=typeof r=="object"&&r.env&&r.env.NODE_DEBUG&&/\bsemver\b/i.test(r.env.NODE_DEBUG)?function(){var p=Array.prototype.slice.call(arguments,0);p.unshift("SEMVER"),console.log.apply(console,p)}:function(){},e.SEMVER_SPEC_VERSION="2.0.0";var o=256,s=Number.MAX_SAFE_INTEGER||9007199254740991,l=e.re=[],c=e.src=[],u=0,d=u++;c[d]="0|[1-9]\\d*";var f=u++;c[f]="[0-9]+";var m=u++;c[m]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var v=u++;c[v]="("+c[d]+")\\.("+c[d]+")\\.("+c[d]+")";var A=u++;c[A]="("+c[f]+")\\.("+c[f]+")\\.("+c[f]+")";var y=u++;c[y]="(?:"+c[d]+"|"+c[m]+")";var E=u++;c[E]="(?:"+c[f]+"|"+c[m]+")";var T=u++;c[T]="(?:-("+c[y]+"(?:\\."+c[y]+")*))";var _=u++;c[_]="(?:-?("+c[E]+"(?:\\."+c[E]+")*))";var z=u++;c[z]="[0-9A-Za-z-]+";var x=u++;c[x]="(?:\\+("+c[z]+"(?:\\."+c[z]+")*))";var D=u++,B="v?"+c[v]+c[T]+"?"+c[x]+"?";c[D]="^"+B+"$";var U="[v=\\s]*"+c[A]+c[_]+"?"+c[x]+"?",he=u++;c[he]="^"+U+"$";var N=u++;c[N]="((?:<|>)?=?)";var se=u++;c[se]=c[f]+"|x|X|\\*";var tt=u++;c[tt]=c[d]+"|x|X|\\*";var Ue=u++;c[Ue]="[v=\\s]*("+c[tt]+")(?:\\.("+c[tt]+")(?:\\.("+c[tt]+")(?:"+c[T]+")?"+c[x]+"?)?)?";var St=u++;c[St]="[v=\\s]*("+c[se]+")(?:\\.("+c[se]+")(?:\\.("+c[se]+")(?:"+c[_]+")?"+c[x]+"?)?)?";var nt=u++;c[nt]="^"+c[N]+"\\s*"+c[Ue]+"$";var R=u++;c[R]="^"+c[N]+"\\s*"+c[St]+"$";var I=u++;c[I]="(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";var P=u++;c[P]="(?:~>?)";var S=u++;c[S]="(\\s*)"+c[P]+"\\s+",l[S]=new RegExp(c[S],"g");var O=u++;c[O]="^"+c[P]+c[Ue]+"$";var K=u++;c[K]="^"+c[P]+c[St]+"$";var G=u++;c[G]="(?:\\^)";var le=u++;c[le]="(\\s*)"+c[G]+"\\s+",l[le]=new RegExp(c[le],"g");var be=u++;c[be]="^"+c[G]+c[Ue]+"$";var L=u++;c[L]="^"+c[G]+c[St]+"$";var wt=u++;c[wt]="^"+c[N]+"\\s*("+U+")$|^$";var ut=u++;c[ut]="^"+c[N]+"\\s*("+B+")$|^$";var Pt=u++;c[Pt]="(\\s*)"+c[N]+"\\s*("+U+"|"+c[Ue]+")",l[Pt]=new RegExp(c[Pt],"g");var Gt=u++;c[Gt]="^\\s*("+c[Ue]+")\\s+-\\s+("+c[Ue]+")\\s*$";var pr=u++;c[pr]="^\\s*("+c[St]+")\\s+-\\s+("+c[St]+")\\s*$";var fr=u++;c[fr]="(<|>)?=?\\s*\\*";for(var Qt=0;Qt<35;Qt++)i(Qt,c[Qt]),l[Qt]||(l[Qt]=new RegExp(c[Qt]));function Jt(p,h){if(p instanceof ee)return p;if(typeof p!="string"||p.length>o||!(h?l[he]:l[D]).test(p))return null;try{return new ee(p,h)}catch{return null}}function ee(p,h){if(p instanceof ee){if(p.loose===h)return p;p=p.version}else if(typeof p!="string")throw new TypeError("Invalid Version: "+p);if(p.length>o)throw new TypeError("version is longer than "+o+" characters");if(!(this instanceof ee))return new ee(p,h);i("SemVer",p,h),this.loose=h;var b=p.trim().match(h?l[he]:l[D]);if(!b)throw new TypeError("Invalid Version: "+p);if(this.raw=p,this.major=+b[1],this.minor=+b[2],this.patch=+b[3],this.major>s||this.major<0)throw new TypeError("Invalid major version");if(this.minor>s||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>s||this.patch<0)throw new TypeError("Invalid patch version");b[4]?this.prerelease=b[4].split(".").map(function(k){if(/^[0-9]+$/.test(k)){var C=+k;if(C>=0&&C<s)return C}return k}):this.prerelease=[],this.build=b[5]?b[5].split("."):[],this.format()}e.parse=Jt,e.valid=function(p,h){var b=Jt(p,h);return b?b.version:null},e.clean=function(p,h){var b=Jt(p.trim().replace(/^[=v]+/,""),h);return b?b.version:null},e.SemVer=ee,ee.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},ee.prototype.toString=function(){return this.version},ee.prototype.compare=function(p){return i("SemVer.compare",this.version,this.loose,p),p instanceof ee||(p=new ee(p,this.loose)),this.compareMain(p)||this.comparePre(p)},ee.prototype.compareMain=function(p){return p instanceof ee||(p=new ee(p,this.loose)),pn(this.major,p.major)||pn(this.minor,p.minor)||pn(this.patch,p.patch)},ee.prototype.comparePre=function(p){if(p instanceof ee||(p=new ee(p,this.loose)),this.prerelease.length&&!p.prerelease.length)return-1;if(!this.prerelease.length&&p.prerelease.length)return 1;if(!this.prerelease.length&&!p.prerelease.length)return 0;var h=0;do{var b=this.prerelease[h],k=p.prerelease[h];if(i("prerelease compare",h,b,k),b===void 0&&k===void 0)return 0;if(k===void 0)return 1;if(b===void 0)return-1;if(b!==k)return pn(b,k)}while(++h)},ee.prototype.inc=function(p,h){switch(p){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",h);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",h);break;case"prepatch":this.prerelease.length=0,this.inc("patch",h),this.inc("pre",h);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",h),this.inc("pre",h);break;case"major":this.minor===0&&this.patch===0&&this.prerelease.length!==0||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":this.patch===0&&this.prerelease.length!==0||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{for(var b=this.prerelease.length;--b>=0;)typeof this.prerelease[b]=="number"&&(this.prerelease[b]++,b=-2);b===-1&&this.prerelease.push(0)}h&&(this.prerelease[0]===h?isNaN(this.prerelease[1])&&(this.prerelease=[h,0]):this.prerelease=[h,0]);break;default:throw new Error("invalid increment argument: "+p)}return this.format(),this.raw=this.version,this},e.inc=function(p,h,b,k){typeof b=="string"&&(k=b,b=void 0);try{return new ee(p,b).inc(h,k).version}catch{return null}},e.diff=function(p,h){if(wi(p,h))return null;var b=Jt(p),k=Jt(h);if(b.prerelease.length||k.prerelease.length){for(var C in b)if((C==="major"||C==="minor"||C==="patch")&&b[C]!==k[C])return"pre"+C;return"prerelease"}for(var C in b)if((C==="major"||C==="minor"||C==="patch")&&b[C]!==k[C])return C},e.compareIdentifiers=pn;var os=/^[0-9]+$/;function pn(p,h){var b=os.test(p),k=os.test(h);return b&&k&&(p=+p,h=+h),b&&!k?-1:k&&!b?1:p<h?-1:p>h?1:0}function dt(p,h,b){return new ee(p,b).compare(new ee(h,b))}function mr(p,h,b){return dt(p,h,b)>0}function gr(p,h,b){return dt(p,h,b)<0}function wi(p,h,b){return dt(p,h,b)===0}function ss(p,h,b){return dt(p,h,b)!==0}function Pi(p,h,b){return dt(p,h,b)>=0}function Ri(p,h,b){return dt(p,h,b)<=0}function hr(p,h,b,k){var C;switch(h){case"===":typeof p=="object"&&(p=p.version),typeof b=="object"&&(b=b.version),C=p===b;break;case"!==":typeof p=="object"&&(p=p.version),typeof b=="object"&&(b=b.version),C=p!==b;break;case"":case"=":case"==":C=wi(p,b,k);break;case"!=":C=ss(p,b,k);break;case">":C=mr(p,b,k);break;case">=":C=Pi(p,b,k);break;case"<":C=gr(p,b,k);break;case"<=":C=Ri(p,b,k);break;default:throw new TypeError("Invalid operator: "+h)}return C}function je(p,h){if(p instanceof je){if(p.loose===h)return p;p=p.value}if(!(this instanceof je))return new je(p,h);i("comparator",p,h),this.loose=h,this.parse(p),this.semver===On?this.value="":this.value=this.operator+this.semver.version,i("comp",this)}e.rcompareIdentifiers=function(p,h){return pn(h,p)},e.major=function(p,h){return new ee(p,h).major},e.minor=function(p,h){return new ee(p,h).minor},e.patch=function(p,h){return new ee(p,h).patch},e.compare=dt,e.compareLoose=function(p,h){return dt(p,h,!0)},e.rcompare=function(p,h,b){return dt(h,p,b)},e.sort=function(p,h){return p.sort(function(b,k){return e.compare(b,k,h)})},e.rsort=function(p,h){return p.sort(function(b,k){return e.rcompare(b,k,h)})},e.gt=mr,e.lt=gr,e.eq=wi,e.neq=ss,e.gte=Pi,e.lte=Ri,e.cmp=hr,e.Comparator=je;var On={};function ue(p,h){if(p instanceof ue)return p.loose===h?p:new ue(p.raw,h);if(p instanceof je)return new ue(p.value,h);if(!(this instanceof ue))return new ue(p,h);if(this.loose=h,this.raw=p,this.set=p.split(/\s*\|\|\s*/).map(function(b){return this.parseRange(b.trim())},this).filter(function(b){return b.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+p);this.format()}function Ae(p){return!p||p.toLowerCase()==="x"||p==="*"}function El(p,h,b,k,C,Ee,te,Ce,fe,ke,rt,me,Se){return((h=Ae(b)?"":Ae(k)?">="+b+".0.0":Ae(C)?">="+b+"."+k+".0":">="+h)+" "+(Ce=Ae(fe)?"":Ae(ke)?"<"+(+fe+1)+".0.0":Ae(rt)?"<"+fe+"."+(+ke+1)+".0":me?"<="+fe+"."+ke+"."+rt+"-"+me:"<="+Ce)).trim()}function _l(p,h){for(var b=0;b<p.length;b++)if(!p[b].test(h))return!1;if(h.prerelease.length){for(b=0;b<p.length;b++)if(i(p[b].semver),p[b].semver!==On&&p[b].semver.prerelease.length>0){var k=p[b].semver;if(k.major===h.major&&k.minor===h.minor&&k.patch===h.patch)return!0}return!1}return!0}function br(p,h,b){try{h=new ue(h,b)}catch{return!1}return h.test(p)}function ki(p,h,b,k){var C,Ee,te,Ce,fe;switch(p=new ee(p,k),h=new ue(h,k),b){case">":C=mr,Ee=Ri,te=gr,Ce=">",fe=">=";break;case"<":C=gr,Ee=Pi,te=mr,Ce="<",fe="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(br(p,h,k))return!1;for(var ke=0;ke<h.set.length;++ke){var rt=h.set[ke],me=null,Se=null;if(rt.forEach(function(Ne){Ne.semver===On&&(Ne=new je(">=0.0.0")),me=me||Ne,Se=Se||Ne,C(Ne.semver,me.semver,k)?me=Ne:te(Ne.semver,Se.semver,k)&&(Se=Ne)}),me.operator===Ce||me.operator===fe||(!Se.operator||Se.operator===Ce)&&Ee(p,Se.semver)||Se.operator===fe&&te(p,Se.semver))return!1}return!0}je.prototype.parse=function(p){var h=this.loose?l[wt]:l[ut],b=p.match(h);if(!b)throw new TypeError("Invalid comparator: "+p);this.operator=b[1],this.operator==="="&&(this.operator=""),b[2]?this.semver=new ee(b[2],this.loose):this.semver=On},je.prototype.toString=function(){return this.value},je.prototype.test=function(p){return i("Comparator.test",p,this.loose),this.semver===On||(typeof p=="string"&&(p=new ee(p,this.loose)),hr(p,this.operator,this.semver,this.loose))},je.prototype.intersects=function(p,h){if(!(p instanceof je))throw new TypeError("a Comparator is required");var b;if(this.operator==="")return b=new ue(p.value,h),br(this.value,b,h);if(p.operator==="")return b=new ue(this.value,h),br(p.semver,b,h);var k=!(this.operator!==">="&&this.operator!==">"||p.operator!==">="&&p.operator!==">"),C=!(this.operator!=="<="&&this.operator!=="<"||p.operator!=="<="&&p.operator!=="<"),Ee=this.semver.version===p.semver.version,te=!(this.operator!==">="&&this.operator!=="<="||p.operator!==">="&&p.operator!=="<="),Ce=hr(this.semver,"<",p.semver,h)&&(this.operator===">="||this.operator===">")&&(p.operator==="<="||p.operator==="<"),fe=hr(this.semver,">",p.semver,h)&&(this.operator==="<="||this.operator==="<")&&(p.operator===">="||p.operator===">");return k||C||Ee&&te||Ce||fe},e.Range=ue,ue.prototype.format=function(){return this.range=this.set.map(function(p){return p.join(" ").trim()}).join("||").trim(),this.range},ue.prototype.toString=function(){return this.range},ue.prototype.parseRange=function(p){var h=this.loose;p=p.trim(),i("range",p,h);var b=h?l[pr]:l[Gt];p=p.replace(b,El),i("hyphen replace",p),p=p.replace(l[Pt],"$1$2$3"),i("comparator trim",p,l[Pt]),p=(p=(p=p.replace(l[S],"$1~")).replace(l[le],"$1^")).split(/\s+/).join(" ");var k=h?l[wt]:l[ut],C=p.split(" ").map(function(Ee){return function(te,Ce){return i("comp",te),te=function(fe,ke){return fe.trim().split(/\s+/).map(function(rt){return function(me,Se){i("caret",me,Se);var Ne=Se?l[L]:l[be];return me.replace(Ne,function(Qe,M,j,re,ce){var we;return i("caret",me,Qe,M,j,re,ce),Ae(M)?we="":Ae(j)?we=">="+M+".0.0 <"+(+M+1)+".0.0":Ae(re)?we=M==="0"?">="+M+"."+j+".0 <"+M+"."+(+j+1)+".0":">="+M+"."+j+".0 <"+(+M+1)+".0.0":ce?(i("replaceCaret pr",ce),ce.charAt(0)!=="-"&&(ce="-"+ce),we=M==="0"?j==="0"?">="+M+"."+j+"."+re+ce+" <"+M+"."+j+"."+(+re+1):">="+M+"."+j+"."+re+ce+" <"+M+"."+(+j+1)+".0":">="+M+"."+j+"."+re+ce+" <"+(+M+1)+".0.0"):(i("no pr"),we=M==="0"?j==="0"?">="+M+"."+j+"."+re+" <"+M+"."+j+"."+(+re+1):">="+M+"."+j+"."+re+" <"+M+"."+(+j+1)+".0":">="+M+"."+j+"."+re+" <"+(+M+1)+".0.0"),i("caret return",we),we})}(rt,ke)}).join(" ")}(te,Ce),i("caret",te),te=function(fe,ke){return fe.trim().split(/\s+/).map(function(rt){return function(me,Se){var Ne=Se?l[K]:l[O];return me.replace(Ne,function(Qe,M,j,re,ce){var we;return i("tilde",me,Qe,M,j,re,ce),Ae(M)?we="":Ae(j)?we=">="+M+".0.0 <"+(+M+1)+".0.0":Ae(re)?we=">="+M+"."+j+".0 <"+M+"."+(+j+1)+".0":ce?(i("replaceTilde pr",ce),ce.charAt(0)!=="-"&&(ce="-"+ce),we=">="+M+"."+j+"."+re+ce+" <"+M+"."+(+j+1)+".0"):we=">="+M+"."+j+"."+re+" <"+M+"."+(+j+1)+".0",i("tilde return",we),we})}(rt,ke)}).join(" ")}(te,Ce),i("tildes",te),te=function(fe,ke){return i("replaceXRanges",fe,ke),fe.split(/\s+/).map(function(rt){return function(me,Se){me=me.trim();var Ne=Se?l[R]:l[nt];return me.replace(Ne,function(Qe,M,j,re,ce,we){i("xRange",me,Qe,M,j,re,ce,we);var as=Ae(j),Ln=as||Ae(re),Un=Ln||Ae(ce);return M==="="&&Un&&(M=""),as?Qe=M===">"||M==="<"?"<0.0.0":"*":M&&Un?(Ln&&(re=0),Un&&(ce=0),M===">"?(M=">=",Ln?(j=+j+1,re=0,ce=0):Un&&(re=+re+1,ce=0)):M==="<="&&(M="<",Ln?j=+j+1:re=+re+1),Qe=M+j+"."+re+"."+ce):Ln?Qe=">="+j+".0.0 <"+(+j+1)+".0.0":Un&&(Qe=">="+j+"."+re+".0 <"+j+"."+(+re+1)+".0"),i("xRange return",Qe),Qe})}(rt,ke)}).join(" ")}(te,Ce),i("xrange",te),te=function(fe,ke){return i("replaceStars",fe,ke),fe.trim().replace(l[fr],"")}(te,Ce),i("stars",te),te}(Ee,h)}).join(" ").split(/\s+/);return this.loose&&(C=C.filter(function(Ee){return!!Ee.match(k)})),C=C.map(function(Ee){return new je(Ee,h)})},ue.prototype.intersects=function(p,h){if(!(p instanceof ue))throw new TypeError("a Range is required");return this.set.some(function(b){return b.every(function(k){return p.set.some(function(C){return C.every(function(Ee){return k.intersects(Ee,h)})})})})},e.toComparators=function(p,h){return new ue(p,h).set.map(function(b){return b.map(function(k){return k.value}).join(" ").trim().split(" ")})},ue.prototype.test=function(p){if(!p)return!1;typeof p=="string"&&(p=new ee(p,this.loose));for(var h=0;h<this.set.length;h++)if(_l(this.set[h],p))return!0;return!1},e.satisfies=br,e.maxSatisfying=function(p,h,b){var k=null,C=null;try{var Ee=new ue(h,b)}catch{return null}return p.forEach(function(te){Ee.test(te)&&(k&&C.compare(te)!==-1||(C=new ee(k=te,b)))}),k},e.minSatisfying=function(p,h,b){var k=null,C=null;try{var Ee=new ue(h,b)}catch{return null}return p.forEach(function(te){Ee.test(te)&&(k&&C.compare(te)!==1||(C=new ee(k=te,b)))}),k},e.validRange=function(p,h){try{return new ue(p,h).range||"*"}catch{return null}},e.ltr=function(p,h,b){return ki(p,h,"<",b)},e.gtr=function(p,h,b){return ki(p,h,">",b)},e.outside=ki,e.prerelease=function(p,h){var b=Jt(p,h);return b&&b.prerelease.length?b.prerelease:null},e.intersects=function(p,h,b){return p=new ue(p,b),h=new ue(h,b),p.intersects(h)},e.coerce=function(p){if(p instanceof ee)return p;if(typeof p!="string")return null;var h=p.match(l[I]);return h==null?null:Jt((h[1]||"0")+"."+(h[2]||"0")+"."+(h[3]||"0"))}}).call(this,n(1))},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function l(E){if(n===setTimeout)return setTimeout(E,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(E,0);try{return n(E,0)}catch{try{return n.call(null,E,0)}catch{return n.call(this,E,0)}}}(function(){try{n=typeof setTimeout=="function"?setTimeout:o}catch{n=o}try{r=typeof clearTimeout=="function"?clearTimeout:s}catch{r=s}})();var c,u=[],d=!1,f=-1;function m(){d&&c&&(d=!1,c.length?u=c.concat(u):f=-1,u.length&&v())}function v(){if(!d){var E=l(m);d=!0;for(var T=u.length;T;){for(c=u,u=[];++f<T;)c&&c[f].run();f=-1,T=u.length}c=null,d=!1,function(_){if(r===clearTimeout)return clearTimeout(_);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(_);try{r(_)}catch{try{return r.call(null,_)}catch{return r.call(this,_)}}}(E)}}function A(E,T){this.fun=E,this.array=T}function y(){}i.nextTick=function(E){var T=new Array(arguments.length-1);if(arguments.length>1)for(var _=1;_<arguments.length;_++)T[_-1]=arguments[_];u.push(new A(E,T)),u.length!==1||d||l(v)},A.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=y,i.addListener=y,i.once=y,i.off=y,i.removeListener=y,i.removeAllListeners=y,i.emit=y,i.prependListener=y,i.prependOnceListener=y,i.listeners=function(E){return[]},i.binding=function(E){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(E){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}}])});var kb=$.exports.SEMVER_SPEC_VERSION,Db=$.exports.parse,Fa=$.exports.valid,Ab=$.exports.coerce,Ob=$.exports.clean,Lb=$.exports.inc,Ub=$.exports.major,Cb=$.exports.minor,Nb=$.exports.patch,Fb=$.exports.prerelease,nr=$.exports.gt,Ma=$.exports.gte,Mb=$.exports.lt,Kb=$.exports.lte,Ka=$.exports.eq,Bb=$.exports.neq,Vb=$.exports.cmp,Wb=$.exports.compare,zb=$.exports.rcompare,qb=$.exports.compareIdentifiers,$b=$.exports.rcompareIdentifiers,jb=$.exports.compareBuild,Hb=$.exports.sort,Gb=$.exports.rsort,Qb=$.exports.diff,Jb=$.exports.validRange,Xb=$.exports.satisfies,Yb=$.exports.maxSatisfying,Zb=$.exports.minSatisfying,ey=$.exports.minVersion,ty=$.exports.gtr,ny=$.exports.ltr,ry=$.exports.outside,iy=$.exports.intersects,oy=$.exports.SemVer,sy=$.exports.Comparator,ay=$.exports.Range;var by=new bn(1e4);var wy=new Uint32Array(10);var Py=new Uint8Array([114,82,115,101,69,102,97,113,81,116,84,100,119,87,99,122,120,118,103]),Ry=new Uint16Array([107,111,105,79,106,112,117,80,104,27496,28520,27752,121,110,27246,28782,27758,98,109,27757,108]),ky=new Uint16Array([114,82,29810,115,30579,26483,101,102,29286,24934,29030,29798,30822,30310,26470,97,113,29809,116,84,100,119,99,122,120,118,103]),Dy=new Uint16Array([114,82,29810,115,30579,26483,101,69,102,29286,24934,29030,29798,30822,30310,26470,97,113,81,29809,116,84,100,119,87,99,122,120,118,103,107,111,105,79,106,112,117,80,104,27496,28520,27752,121,110,27246,28782,27758,98,109,27757,108]);function Ba(...t){return function(e,n){for(let r=0,i=t.length;r<i;r++){let o=t[r](e,n);if(o)return o}return null}}var My=Va.bind(void 0,!1),Co=Va.bind(void 0,!0);function Va(t,e,n){if(!n||n.length<e.length)return null;let r;return t?r=Tn(n,e):r=n.indexOf(e)===0,r?e.length>0?[{start:0,end:e.length}]:[]:null}function Pu(t,e){let n=e.toLowerCase().indexOf(t.toLowerCase());return n===-1?null:[{start:n,end:n+t.length}]}function Ru(t,e){return Lo(t.toLowerCase(),e.toLowerCase(),0,0)}function Lo(t,e,n,r){if(n===t.length)return[];if(r===e.length)return null;if(t[n]===e[r]){let i=null;return(i=Lo(t,e,n+1,r+1))?za({start:r,end:r+1},i):null}return Lo(t,e,n,r+1)}function No(t){return 97<=t&&t<=122}function rr(t){return 65<=t&&t<=90}function Fo(t){return 48<=t&&t<=57}function ku(t){return t===32||t===9||t===10||t===13}var Du=new Set;"()[]{}<>`'\"-/;:,.?!".split("").forEach(t=>Du.add(t.charCodeAt(0)));function Wa(t){return No(t)||rr(t)||Fo(t)}function za(t,e){return e.length===0?e=[t]:t.end===e[0].start?e[0].start=t.start:e.unshift(t),e}function qa(t,e){for(let n=e;n<t.length;n++){let r=t.charCodeAt(n);if(rr(r)||Fo(r)||n>0&&!Wa(t.charCodeAt(n-1)))return n}return t.length}function Uo(t,e,n,r){if(n===t.length)return[];if(r===e.length)return null;if(t[n]!==e[r].toLowerCase())return null;{let i=null,o=r+1;for(i=Uo(t,e,n+1,r+1);!i&&(o=qa(e,o))<e.length;)i=Uo(t,e,n+1,o),o++;return i===null?null:za({start:r,end:r+1},i)}}function Au(t){let e=0,n=0,r=0,i=0,o=0;for(let d=0;d<t.length;d++)o=t.charCodeAt(d),rr(o)&&e++,No(o)&&n++,Wa(o)&&r++,Fo(o)&&i++;let s=e/t.length,l=n/t.length,c=r/t.length,u=i/t.length;return{upperPercent:s,lowerPercent:l,alphaPercent:c,numericPercent:u}}function Ou(t){let{upperPercent:e,lowerPercent:n}=t;return n===0&&e>.6}function Lu(t){let{upperPercent:e,lowerPercent:n,alphaPercent:r,numericPercent:i}=t;return n>.2&&e<.8&&r>.6&&i<.2}function Uu(t){let e=0,n=0,r=0,i=0;for(let o=0;o<t.length;o++)r=t.charCodeAt(o),rr(r)&&e++,No(r)&&n++,ku(r)&&i++;return(e===0||n===0)&&i===0?t.length<=30:e<=5}function $a(t,e){if(!e||(e=e.trim(),e.length===0)||!Uu(t))return null;e.length>60&&(e=e.substring(0,60));let n=Au(e);if(!Lu(n)){if(!Ou(n))return null;e=e.toLowerCase()}let r=null,i=0;for(t=t.toLowerCase();i<e.length&&(r=Uo(t,e,0,i))===null;)i=qa(e,i+1);return r}var Ky=Ba(Co,$a,Pu),By=Ba(Co,$a,Ru),Vy=new bn(1e4);var ai=128;function Mo(){let t=[],e=[];for(let n=0;n<=ai;n++)e[n]=0;for(let n=0;n<=ai;n++)t.push(e.slice(0));return t}function ja(t){let e=[];for(let n=0;n<=t;n++)e[n]=0;return e}var Wy=ja(2*ai),zy=ja(2*ai),qy=Mo(),$y=Mo(),jy=Mo();var Cu;(n=>{n.Default=[-100,0];function e(r){return!r||r.length===2&&r[0]===-100&&r[1]===0}n.isDefault=e})(Cu||={});var Ko=new RegExp(`\\$\\(${tr.iconNameExpression}(?:${tr.iconModifierExpression})?\\)`,"g"),Zy=new RegExp(`(\\\\)?${Ko.source}`,"g");var ex=new RegExp(`\\\\${Ko.source}`,"g");var tx=new RegExp(`(\\s)?(\\\\)?${Ko.source}(\\s)?`,"g");var nx=new RegExp(`\\$\\(${tr.iconNameCharacter}+\\)`,"g");var $t=V("fileService");var Bo=class t extends Error{constructor(n,r){super(n);this.code=r}static create(n,r){let i=new t(n.toString(),r);return Fu(i,r),i}};function Fu(t,e){return t.name=e?`${e} (FileSystemError)`:"FileSystemError",t}function Mu(t){if(!t)return"Unknown";if(t instanceof Bo)return t.code;let e=/^(.+) \(FileSystemError\)$/.exec(t.name);if(!e)return"Unknown";switch(e[1]){case"EntryExists":return"EntryExists";case"EntryIsADirectory":return"EntryIsADirectory";case"EntryNotADirectory":return"EntryNotADirectory";case"EntryNotFound":return"EntryNotFound";case"EntryTooLarge":return"EntryTooLarge";case"EntryWriteLocked":return"EntryWriteLocked";case"NoPermissions":return"NoPermissions";case"Unavailable":return"Unavailable"}return"Unknown"}function et(t){if(t instanceof Vo)return t.fileOperationResult;switch(Mu(t)){case"EntryNotFound":return 1;case"EntryIsADirectory":return 0;case"EntryNotADirectory":return 9;case"EntryWriteLocked":return 5;case"NoPermissions":return 6;case"EntryExists":return 4;case"EntryTooLarge":return 7;default:return 10}}var Vo=class extends Error{constructor(n,r,i){super(n);this.fileOperationResult=r;this.options=i}};var Ha=class t{static KB=1024;static MB=t.KB*t.KB;static GB=t.MB*t.KB;static TB=t.GB*t.KB;static formatSize(e){return Hr(e)||(e=0),e<t.KB?g("sizeB","{0}B",e.toFixed(0)):e<t.MB?g("sizeKB","{0}KB",(e/t.KB).toFixed(2)):e<t.GB?g("sizeMB","{0}MB",(e/t.MB).toFixed(2)):e<t.TB?g("sizeGB","{0}GB",(e/t.GB).toFixed(2)):g("sizeTB","{0}TB",(e/t.TB).toFixed(2))}};function or(t){return zo(t,0)}function zo(t,e){switch(typeof t){case"object":return t===null?_t(349,e):Array.isArray(t)?Bu(t,e):Vu(t,e);case"string":return Ja(t,e);case"boolean":return Ku(t,e);case"number":return _t(t,e);case"undefined":return _t(937,e);default:return _t(617,e)}}function _t(t,e){return(e<<5)-e+t|0}function Ku(t,e){return _t(t?433:863,e)}function Ja(t,e){e=_t(149417,e);for(let n=0,r=t.length;n<r;n++)e=_t(t.charCodeAt(n),e);return e}function Bu(t,e){return e=_t(104579,e),t.reduce((n,r)=>zo(r,n),e)}function Vu(t,e){return e=_t(181387,e),Object.keys(t).sort().reduce((n,r)=>(n=Ja(r,n),zo(t[r],n)),e)}function Wo(t,e,n=32){let r=n-e,i=~((1<<r)-1);return(t<<e|(i&t)>>>r)>>>0}function Ga(t,e=0,n=t.byteLength,r=0){for(let i=0;i<n;i++)t[e+i]=r}function Wu(t,e,n="0"){for(;t.length<e;)t=n+t;return t}function ir(t,e=32){return t instanceof ArrayBuffer?Array.from(new Uint8Array(t)).map(n=>n.toString(16).padStart(2,"0")).join(""):Wu((t>>>0).toString(16),e/4)}var Qa=class t{static _bigBlock32=new DataView(new ArrayBuffer(320));_h0=1732584193;_h1=4023233417;_h2=2562383102;_h3=271733878;_h4=3285377520;_buff;_buffDV;_buffLen;_totalLen;_leftoverHighSurrogate;_finished;constructor(){this._buff=new Uint8Array(67),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(e){let n=e.length;if(n===0)return;let r=this._buff,i=this._buffLen,o=this._leftoverHighSurrogate,s,l;for(o!==0?(s=o,l=-1,o=0):(s=e.charCodeAt(0),l=0);;){let c=s;if(oa(s))if(l+1<n){let u=e.charCodeAt(l+1);uo(u)?(l++,c=sa(s,u)):c=65533}else{o=s;break}else uo(s)&&(c=65533);if(i=this._push(r,i,c),l++,l<n)s=e.charCodeAt(l);else break}this._buffLen=i,this._leftoverHighSurrogate=o}_push(e,n,r){return r<128?e[n++]=r:r<2048?(e[n++]=192|(r&1984)>>>6,e[n++]=128|(r&63)>>>0):r<65536?(e[n++]=224|(r&61440)>>>12,e[n++]=128|(r&4032)>>>6,e[n++]=128|(r&63)>>>0):(e[n++]=240|(r&1835008)>>>18,e[n++]=128|(r&258048)>>>12,e[n++]=128|(r&4032)>>>6,e[n++]=128|(r&63)>>>0),n>=64&&(this._step(),n-=64,this._totalLen+=64,e[0]=e[64],e[1]=e[65],e[2]=e[66]),n}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),ir(this._h0)+ir(this._h1)+ir(this._h2)+ir(this._h3)+ir(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,Ga(this._buff,this._buffLen),this._buffLen>56&&(this._step(),Ga(this._buff));let e=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(e/4294967296),!1),this._buffDV.setUint32(60,e%4294967296,!1),this._step()}_step(){let e=t._bigBlock32,n=this._buffDV;for(let f=0;f<64;f+=4)e.setUint32(f,n.getUint32(f,!1),!1);for(let f=64;f<320;f+=4)e.setUint32(f,Wo(e.getUint32(f-12,!1)^e.getUint32(f-32,!1)^e.getUint32(f-56,!1)^e.getUint32(f-64,!1),1),!1);let r=this._h0,i=this._h1,o=this._h2,s=this._h3,l=this._h4,c,u,d;for(let f=0;f<80;f++)f<20?(c=i&o|~i&s,u=1518500249):f<40?(c=i^o^s,u=1859775393):f<60?(c=i&o|i&s|o&s,u=2400959708):(c=i^o^s,u=3395469782),d=Wo(r,5)+c+l+u+e.getUint32(f*4,!1)&4294967295,l=s,s=o,o=Wo(i,30),i=r,r=d;this._h0=this._h0+r&4294967295,this._h1=this._h1+i&4294967295,this._h2=this._h2+o&4294967295,this._h3=this._h3+s&4294967295,this._h4=this._h4+l&4294967295}};var jt=V("logService"),mv=V("loggerService");function zu(t){switch(t){case 1:return"trace";case 2:return"debug";case 3:return"info";case 4:return"warn";case 5:return"error";case 0:return"off"}}var gv=new ti("logLevel",zu(3));function Rn(t,e){if(t===e)return!0;if(t==null||e===null||e===void 0||typeof t!=typeof e||typeof t!="object"||Array.isArray(t)!==Array.isArray(e))return!1;let n,r;if(Array.isArray(t)){if(t.length!==e.length)return!1;for(n=0;n<t.length;n++)if(!Rn(t[n],e[n]))return!1}else{let i=[];for(r in t)i.push(r);i.sort();let o=[];for(r in e)o.push(r);if(o.sort(),!Rn(i,o))return!1;for(n=0;n<i.length;n++)if(!Rn(t[i[n]],e[i[n]]))return!1}return!0}var Av=V("contextService");function li(t){let e=t;return typeof e?.id=="string"&&w.isUri(e.uri)}function ci(t){let e=t;return typeof e?.id=="string"&&w.isUri(e.configPath)}var Xa="code-workspace",Ov=`.${Xa}`,Lv=[{name:g("codeWorkspace","Code Workspace"),extensions:[Xa]}];var Wv=V("configurationService");var ui=V("productService");var di=function(){if(typeof crypto=="object"&&typeof crypto.randomUUID=="function")return crypto.randomUUID.bind(crypto);let t;typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?t=crypto.getRandomValues.bind(crypto):t=function(r){for(let i=0;i<r.length;i++)r[i]=Math.floor(Math.random()*256);return r};let e=new Uint8Array(16),n=[];for(let r=0;r<256;r++)n.push(r.toString(16).padStart(2,"0"));return function(){t(e),e[6]=e[6]&15|64,e[8]=e[8]&63|128;let i=0,o="";return o+=n[e[i++]],o+=n[e[i++]],o+=n[e[i++]],o+=n[e[i++]],o+="-",o+=n[e[i++]],o+=n[e[i++]],o+="-",o+=n[e[i++]],o+=n[e[i++]],o+="-",o+=n[e[i++]],o+=n[e[i++]],o+="-",o+=n[e[i++]],o+=n[e[i++]],o+=n[e[i++]],o+=n[e[i++]],o+=n[e[i++]],o+=n[e[i++]],o}}();var Ya=V("telemetryService"),e2=V("customEndpointTelemetryService");var qo=class{telemetryLevel=0;sessionId="someValue.sessionId";machineId="someValue.machineId";sqmId="someValue.sqmId";devDeviceId="someValue.devDeviceId";firstSessionDate="someValue.firstSessionDate";sendErrorTelemetry=!1;publicLog(){}publicLog2(){}publicLogError(){}publicLogError2(){}setExperimentProperty(){}},C2=new qo;function Ve(t,e){return t.uuid&&e.uuid?t.uuid===e.uuid:t.id===e.id?!0:lo(t.id,e.id)===0}var $u=/^([^.]+\..+)-(\d+\.\d+\.\d+)(-(.+))?$/,pi=class t{constructor(e,n,r="undefined"){this.identifier=e;this.version=n;this.targetPlatform=r;this.id=e.id}static create(e){let n=e.manifest?e.manifest.version:e.version,r=e.manifest?e.targetPlatform:e.properties.targetPlatform;return new t(e.identifier,n,r)}static parse(e){let n=$u.exec(e);return n&&n[1]&&n[2]?new t({id:n[1]},n[2],n[4]||void 0):null}id;toString(){return`${this.id}-${this.version}${this.targetPlatform!=="undefined"?`-${this.targetPlatform}`:""}`}equals(e){return e instanceof t?Ve(this,e)&&this.version===e.version&&this.targetPlatform===e.targetPlatform:!1}},ju=/^([^.]+\..+)@((prerelease)|(\d+\.\d+\.\d+(-.*)?))$/;function jo(t){let e=ju.exec(t);return e&&e[1]?[$o(e[1]),e[2]]:[$o(t),void 0]}function sr(t,e){return`${t}.${e}`}function $o(t){return t.toLowerCase()}function fi(t,e){return $o(sr(t??ii,e))}var eI=new ct("pprice.better-merge");async function Hu(t,e){if(!kt)return!1;let n;try{n=(await t.readFile(w.file("/etc/os-release"))).value.toString()}catch{try{n=(await t.readFile(w.file("/usr/lib/os-release"))).value.toString()}catch(i){e.debug("Error while getting the os-release file.",ze(i))}}return!!n&&(n.match(/^ID=([^\u001b\r\n]*)/m)||[])[1]==="alpine"}async function Za(t,e){let n=await Hu(t,e),r=Ua(n?"alpine":Li,xs);return e.debug("ComputeTargetPlatform:",r),r}var Gu=t=>g("notFound","Extension '{0}' not found.",t),el=g("useId","Make sure you use the full extension ID, including the publisher, e.g.: {0}","ms-dotnettools.csharp"),mi=class{constructor(e,n,r){this.logger=e;this.extensionManagementService=n;this.extensionGalleryService=r}get location(){}async listExtensions(e,n,r){let i=await this.extensionManagementService.getInstalled(1,r),o=ka.map(l=>l.toLowerCase());if(n&&n!==""){if(o.indexOf(n.toLowerCase())<0){this.logger.info("Invalid category please enter a valid category. To list valid categories run --category without a category specified");return}i=i.filter(l=>l.manifest.categories?l.manifest.categories.map(u=>u.toLowerCase()).indexOf(n.toLowerCase())>-1:!1)}else if(n===""){this.logger.info("Possible Categories: "),o.forEach(l=>{this.logger.info(l)});return}this.location&&this.logger.info(g("listFromLocation","Extensions installed on {0}:",this.location)),i=i.sort((l,c)=>l.identifier.id.localeCompare(c.identifier.id));let s;for(let l of i)s!==l.identifier.id&&(s=l.identifier.id,this.logger.info(e?`${s}@${l.manifest.version}`:s))}async installExtensions(e,n,r,i){let o=[];try{e.length&&this.logger.info(this.location?g("installingExtensionsOnLocation","Installing extensions on {0}...",this.location):g("installingExtensions","Installing extensions..."));let s=[],l=[],c=(d,f,m)=>{l.push({id:d,version:f!=="prerelease"?f:void 0,installOptions:{...r,isBuiltin:m,installPreReleaseVersion:f==="prerelease"||r.installPreReleaseVersion}})};for(let d of e)if(d instanceof w)s.push({vsix:d,installOptions:r});else{let[f,m]=jo(d);c(f,m,!1)}for(let d of n)if(d instanceof w)s.push({vsix:d,installOptions:{...r,isBuiltin:!0,donotIncludePackAndDependencies:!0}});else{let[f,m]=jo(d);c(f,m,!0)}let u=await this.extensionManagementService.getInstalled(void 0,r.profileLocation);if(s.length&&await Promise.all(s.map(async({vsix:d,installOptions:f})=>{try{await this.installVSIX(d,f,i,u)}catch(m){this.logger.error(m),o.push(d.toString())}})),l.length){let d=await this.installGalleryExtensions(l,u,i);o.push(...d)}}catch(s){throw this.logger.error(g("error while installing extensions","Error while installing extensions: {0}",ze(s))),s}if(o.length)throw new Error(g("installation failed","Failed Installing Extensions: {0}",o.join(", ")))}async updateExtensions(e){let n=await this.extensionManagementService.getInstalled(1,e),r=[];for(let l of n)l.identifier.uuid&&r.push({...l.identifier,preRelease:l.preRelease});this.logger.trace(g({key:"updateExtensionsQuery",comment:["Placeholder is for the count of extensions"]},"Fetching latest versions for {0} extensions",r.length));let i=await this.extensionGalleryService.getExtensions(r,{compatible:!0},xt.None),o=[];for(let l of i)for(let c of n)Ve(c.identifier,l.identifier)&&nr(l.version,c.manifest.version)&&o.push({extension:l,options:{operation:3,installPreReleaseVersion:c.preRelease,profileLocation:e,isApplicationScoped:c.isApplicationScoped}});if(!o.length){this.logger.info(g("updateExtensionsNoExtensions","No extension to update"));return}this.logger.info(g("updateExtensionsNewVersionsAvailable","Updating extensions: {0}",o.map(l=>l.extension.identifier.id).join(", ")));let s=await this.extensionManagementService.installGalleryExtensions(o);for(let l of s)l.error?this.logger.error(g("errorUpdatingExtension","Error while updating extension {0}: {1}",l.identifier.id,ze(l.error))):this.logger.info(g("successUpdate","Extension '{0}' v{1} was successfully updated.",l.identifier.id,l.local?.manifest.version))}async installGalleryExtensions(e,n,r){if(e=e.filter(({id:l,version:c})=>{let u=n.find(d=>Ve(d.identifier,{id:l}));if(u){if(!r&&(!c||c==="prerelease"&&u.preRelease))return this.logger.info(g("alreadyInstalled-checkAndUpdate","Extension '{0}' v{1} is already installed. Use '--force' option to update to latest version or provide '@<version>' to install a specific version, for example: '{2}@1.2.3'.",l,u.manifest.version,l)),!1;if(c&&u.manifest.version===c)return this.logger.info(g("alreadyInstalled","Extension '{0}' is already installed.",`${l}@${c}`)),!1}return!0}),!e.length)return[];let i=[],o=[],s=await this.getGalleryExtensions(e);if(await Promise.all(e.map(async({id:l,version:c,installOptions:u})=>{let d=s.get(l.toLowerCase());if(!d){this.logger.error(`${Gu(c?`${l}@${c}`:l)}
${el}`),i.push(l);return}try{let m=await this.extensionGalleryService.getManifest(d,xt.None);if(m&&!this.validateExtensionKind(m))return}catch(m){this.logger.error(m.message||m.stack||m),i.push(l);return}let f=n.find(m=>Ve(m.identifier,d.identifier));if(f){if(d.version===f.manifest.version){this.logger.info(g("alreadyInstalled","Extension '{0}' is already installed.",c?`${l}@${c}`:l));return}this.logger.info(g("updateMessage","Updating the extension '{0}' to the version {1}",l,d.version))}u.isBuiltin?this.logger.info(c?g("installing builtin with version","Installing builtin extension '{0}' v{1}...",l,c):g("installing builtin ","Installing builtin extension '{0}'...",l)):this.logger.info(c?g("installing with version","Installing extension '{0}' v{1}...",l,c):g("installing","Installing extension '{0}'...",l)),o.push({extension:d,options:{...u,installGivenVersion:!!c,isApplicationScoped:u.isApplicationScoped||f?.isApplicationScoped}})})),o.length){let l=await this.extensionManagementService.installGalleryExtensions(o);for(let c of l)c.error?(this.logger.error(g("errorInstallingExtension","Error while installing extension {0}: {1}",c.identifier.id,ze(c.error))),i.push(c.identifier.id)):this.logger.info(g("successInstall","Extension '{0}' v{1} was successfully installed.",c.identifier.id,c.local?.manifest.version))}return i}async installVSIX(e,n,r,i){let o=await this.extensionManagementService.getManifest(e);if(!o)throw new Error("Invalid vsix");if(await this.validateVSIX(o,r,n.profileLocation,i))try{await this.extensionManagementService.install(e,{...n,installGivenVersion:!0}),this.logger.info(g("successVsixInstall","Extension '{0}' was successfully installed.",Mt(e)))}catch(l){if(zi(l))this.logger.info(g("cancelVsixInstall","Cancelled installing extension '{0}'.",Mt(e)));else throw l}}async getGalleryExtensions(e){let n=new Map,r=e.some(s=>s.installOptions.installPreReleaseVersion),i=await this.extensionManagementService.getTargetPlatform(),o=[];for(let s of e)La.test(s.id)&&o.push({...s,preRelease:r});if(o.length){let s=await this.extensionGalleryService.getExtensions(o,{targetPlatform:i},xt.None);for(let l of s)n.set(l.identifier.id.toLowerCase(),l)}return n}validateExtensionKind(e){return!0}async validateVSIX(e,n,r,i){if(!n){let o={id:fi(e.publisher,e.name)},s=i.find(l=>Ve(o,l.identifier)&&nr(l.manifest.version,e.version));if(s)return this.logger.info(g("forceDowngrade","A newer version of extension '{0}' v{1} is already installed. Use '--force' option to downgrade to older version.",s.identifier.id,s.manifest.version,e.version)),!1}return this.validateExtensionKind(e)}async uninstallExtensions(e,n,r){let i=async s=>{if(s instanceof w){let l=await this.extensionManagementService.getManifest(s);return sr(l.publisher,l.name)}return s},o=[];for(let s of e){let l=await i(s),u=(await this.extensionManagementService.getInstalled(void 0,r)).filter(d=>Ve(d.identifier,{id:l}));if(!u.length)throw new Error(`${this.notInstalled(l)}
${el}`);if(u.some(d=>d.type===0)){this.logger.info(g("builtin","Extension '{0}' is a Built-in extension and cannot be uninstalled",l));return}if(!n&&u.some(d=>d.isBuiltin)){this.logger.info(g("forceUninstall","Extension '{0}' is marked as a Built-in extension by user. Please use '--force' option to uninstall it.",l));return}this.logger.info(g("uninstalling","Uninstalling {0}...",l));for(let d of u)await this.extensionManagementService.uninstall(d,{profileLocation:r}),o.push(d);this.location?this.logger.info(g("successUninstallFromLocation","Extension '{0}' was successfully uninstalled from {1}!",l,this.location)):this.logger.info(g("successUninstall","Extension '{0}' was successfully uninstalled!",l))}}async locateExtension(e){let n=await this.extensionManagementService.getInstalled();e.forEach(r=>{n.forEach(i=>{if(i.identifier.id===r&&i.location.scheme===ne.file){this.logger.info(i.location.fsPath);return}})})}notInstalled(e){return this.location?g("notInstalleddOnLocation","Extension '{0}' is not installed on {1}.",e,this.location):g("notInstalled","Extension '{0}' is not installed.",e)}};mi=F([H(1,Na),H(2,oi)],mi);var Go;(e=>e.DEFAULT={allowTrailingComma:!0})(Go||={});function Qu(t,e=!1){let n=0,r=t.length,i="",o=0,s=16,l=0;function c(y){let E=0,T=0;for(;E<y;){let _=t.charCodeAt(n);if(_>=48&&_<=57)T=T*16+_-48;else if(_>=65&&_<=70)T=T*16+_-65+10;else if(_>=97&&_<=102)T=T*16+_-97+10;else break;n++,E++}return E<y&&(T=-1),T}function u(y){n=y,i="",o=0,s=16,l=0}function d(){let y=n;if(t.charCodeAt(n)===48)n++;else for(n++;n<t.length&&kn(t.charCodeAt(n));)n++;if(n<t.length&&t.charCodeAt(n)===46)if(n++,n<t.length&&kn(t.charCodeAt(n)))for(n++;n<t.length&&kn(t.charCodeAt(n));)n++;else return l=3,t.substring(y,n);let E=n;if(n<t.length&&(t.charCodeAt(n)===69||t.charCodeAt(n)===101))if(n++,(n<t.length&&t.charCodeAt(n)===43||t.charCodeAt(n)===45)&&n++,n<t.length&&kn(t.charCodeAt(n))){for(n++;n<t.length&&kn(t.charCodeAt(n));)n++;E=n}else l=3;return t.substring(y,E)}function f(){let y="",E=n;for(;;){if(n>=r){y+=t.substring(E,n),l=2;break}let T=t.charCodeAt(n);if(T===34){y+=t.substring(E,n),n++;break}if(T===92){if(y+=t.substring(E,n),n++,n>=r){l=2;break}switch(t.charCodeAt(n++)){case 34:y+='"';break;case 92:y+="\\";break;case 47:y+="/";break;case 98:y+="\b";break;case 102:y+="\f";break;case 110:y+=`
`;break;case 114:y+="\r";break;case 116:y+="	";break;case 117:{let z=c(4);z>=0?y+=String.fromCharCode(z):l=4;break}default:l=5}E=n;continue}if(T>=0&&T<=31)if(gi(T)){y+=t.substring(E,n),l=2;break}else l=6;n++}return y}function m(){if(i="",l=0,o=n,n>=r)return o=r,s=17;let y=t.charCodeAt(n);if(Ho(y)){do n++,i+=String.fromCharCode(y),y=t.charCodeAt(n);while(Ho(y));return s=15}if(gi(y))return n++,i+=String.fromCharCode(y),y===13&&t.charCodeAt(n)===10&&(n++,i+=`
`),s=14;switch(y){case 123:return n++,s=1;case 125:return n++,s=2;case 91:return n++,s=3;case 93:return n++,s=4;case 58:return n++,s=6;case 44:return n++,s=5;case 34:return n++,i=f(),s=10;case 47:{let E=n-1;if(t.charCodeAt(n+1)===47){for(n+=2;n<r&&!gi(t.charCodeAt(n));)n++;return i=t.substring(E,n),s=12}if(t.charCodeAt(n+1)===42){n+=2;let T=r-1,_=!1;for(;n<T;){if(t.charCodeAt(n)===42&&t.charCodeAt(n+1)===47){n+=2,_=!0;break}n++}return _||(n++,l=1),i=t.substring(E,n),s=13}return i+=String.fromCharCode(y),n++,s=16}case 45:if(i+=String.fromCharCode(y),n++,n===r||!kn(t.charCodeAt(n)))return s=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return i+=d(),s=11;default:for(;n<r&&v(y);)n++,y=t.charCodeAt(n);if(o!==n){switch(i=t.substring(o,n),i){case"true":return s=8;case"false":return s=9;case"null":return s=7}return s=16}return i+=String.fromCharCode(y),n++,s=16}}function v(y){if(Ho(y)||gi(y))return!1;switch(y){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}function A(){let y;do y=m();while(y>=12&&y<=15);return y}return{setPosition:u,getPosition:()=>n,scan:e?A:m,getToken:()=>s,getTokenValue:()=>i,getTokenOffset:()=>o,getTokenLength:()=>n-o,getTokenError:()=>l}}function Ho(t){return t===32||t===9||t===11||t===12||t===160||t===5760||t>=8192&&t<=8203||t===8239||t===8287||t===12288||t===65279}function gi(t){return t===10||t===13||t===8232||t===8233}function kn(t){return t>=48&&t<=57}function ar(t,e=[],n=Go.DEFAULT){let r=null,i=[],o=[];function s(c){Array.isArray(i)?i.push(c):r!==null&&(i[r]=c)}return Ju(t,{onObjectBegin:()=>{let c={};s(c),o.push(i),i=c,r=null},onObjectProperty:c=>{r=c},onObjectEnd:()=>{i=o.pop()},onArrayBegin:()=>{let c=[];s(c),o.push(i),i=c,r=null},onArrayEnd:()=>{i=o.pop()},onLiteralValue:s,onError:(c,u,d)=>{e.push({error:c,offset:u,length:d})}},n),i[0]}function Ju(t,e,n=Go.DEFAULT){let r=Qu(t,!1);function i(N){return N?()=>N(r.getTokenOffset(),r.getTokenLength()):()=>!0}function o(N){return N?se=>N(se,r.getTokenOffset(),r.getTokenLength()):()=>!0}let s=i(e.onObjectBegin),l=o(e.onObjectProperty),c=i(e.onObjectEnd),u=i(e.onArrayBegin),d=i(e.onArrayEnd),f=o(e.onLiteralValue),m=o(e.onSeparator),v=i(e.onComment),A=o(e.onError),y=n&&n.disallowComments,E=n&&n.allowTrailingComma;function T(){for(;;){let N=r.scan();switch(r.getTokenError()){case 4:_(14);break;case 5:_(15);break;case 3:_(13);break;case 1:y||_(11);break;case 2:_(12);break;case 6:_(16);break}switch(N){case 12:case 13:y?_(10):v();break;case 16:_(1);break;case 15:case 14:break;default:return N}}}function _(N,se=[],tt=[]){if(A(N),se.length+tt.length>0){let Ue=r.getToken();for(;Ue!==17;){if(se.indexOf(Ue)!==-1){T();break}else if(tt.indexOf(Ue)!==-1)break;Ue=T()}}}function z(N){let se=r.getTokenValue();return N?f(se):l(se),T(),!0}function x(){switch(r.getToken()){case 11:{let N=0;try{N=JSON.parse(r.getTokenValue()),typeof N!="number"&&(_(2),N=0)}catch{_(2)}f(N);break}case 7:f(null);break;case 8:f(!0);break;case 9:f(!1);break;default:return!1}return T(),!0}function D(){return r.getToken()!==10?(_(3,[],[2,5]),!1):(z(!1),r.getToken()===6?(m(":"),T(),he()||_(4,[],[2,5])):_(5,[],[2,5]),!0)}function B(){s(),T();let N=!1;for(;r.getToken()!==2&&r.getToken()!==17;){if(r.getToken()===5){if(N||_(4,[],[]),m(","),T(),r.getToken()===2&&E)break}else N&&_(6,[],[]);D()||_(4,[],[2,5]),N=!0}return c(),r.getToken()!==2?_(7,[2],[]):T(),!0}function U(){u(),T();let N=!1;for(;r.getToken()!==4&&r.getToken()!==17;){if(r.getToken()===5){if(N||_(4,[],[]),m(","),T(),r.getToken()===4&&E)break}else N&&_(6,[],[]);he()||_(4,[],[4,5]),N=!0}return d(),r.getToken()!==4?_(8,[4],[]):T(),!0}function he(){switch(r.getToken()){case 3:return U();case 1:return B();case 10:return z(!0);default:return x()}}return T(),r.getToken()===17?n.allowEmptyContent?!0:(_(4,[],[]),!1):he()?(r.getToken()!==17&&_(9,[],[]),!0):(_(4,[],[]),!1)}function lr(t){switch(typeof t){case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"object":{if(t){if(Array.isArray(t))return"array"}else return"null";return"object"}default:return"null"}}function hi(t){switch(t){case 1:return g("error.invalidSymbol","Invalid symbol");case 2:return g("error.invalidNumberFormat","Invalid number format");case 3:return g("error.propertyNameExpected","Property name expected");case 4:return g("error.valueExpected","Value expected");case 5:return g("error.colonExpected","Colon expected");case 6:return g("error.commaExpected","Comma expected");case 7:return g("error.closeBraceExpected","Closing brace expected");case 8:return g("error.closeBracketExpected","Closing bracket expected");case 9:return g("error.endOfFileExpected","End of file expected");default:return""}}var Xu={activeComment:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.activeComment.d.ts"},aiRelatedInformation:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.aiRelatedInformation.d.ts"},aiTextSearchProvider:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.aiTextSearchProvider.d.ts"},aiTextSearchProviderNew:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.aiTextSearchProviderNew.d.ts"},attributableCoverage:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.attributableCoverage.d.ts"},authLearnMore:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.authLearnMore.d.ts"},authSession:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.authSession.d.ts"},canonicalUriProvider:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.canonicalUriProvider.d.ts"},chatParticipantAdditions:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.chatParticipantAdditions.d.ts"},chatParticipantPrivate:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.chatParticipantPrivate.d.ts",version:2},chatProvider:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.chatProvider.d.ts"},chatTab:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.chatTab.d.ts"},chatVariableResolver:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.chatVariableResolver.d.ts"},codeActionAI:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.codeActionAI.d.ts"},codeActionRanges:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.codeActionRanges.d.ts"},codiconDecoration:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.codiconDecoration.d.ts"},commentReactor:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.commentReactor.d.ts"},commentReveal:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.commentReveal.d.ts"},commentThreadApplicability:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.commentThreadApplicability.d.ts"},commentingRangeHint:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.commentingRangeHint.d.ts"},commentsDraftState:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.commentsDraftState.d.ts"},contribAccessibilityHelpContent:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribAccessibilityHelpContent.d.ts"},contribChatParticipantDetection:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribChatParticipantDetection.d.ts"},contribCommentEditorActionsMenu:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribCommentEditorActionsMenu.d.ts"},contribCommentPeekContext:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribCommentPeekContext.d.ts"},contribCommentThreadAdditionalMenu:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribCommentThreadAdditionalMenu.d.ts"},contribCommentsViewThreadMenus:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribCommentsViewThreadMenus.d.ts"},contribDebugCreateConfiguration:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribDebugCreateConfiguration.d.ts"},contribDiffEditorGutterToolBarMenus:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribDiffEditorGutterToolBarMenus.d.ts"},contribEditSessions:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribEditSessions.d.ts"},contribEditorContentMenu:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribEditorContentMenu.d.ts"},contribIssueReporter:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribIssueReporter.d.ts"},contribLabelFormatterWorkspaceTooltip:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribLabelFormatterWorkspaceTooltip.d.ts"},contribMenuBarHome:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribMenuBarHome.d.ts"},contribMergeEditorMenus:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribMergeEditorMenus.d.ts"},contribMultiDiffEditorMenus:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribMultiDiffEditorMenus.d.ts"},contribNotebookStaticPreloads:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribNotebookStaticPreloads.d.ts"},contribRemoteHelp:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribRemoteHelp.d.ts"},contribShareMenu:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribShareMenu.d.ts"},contribSourceControlHistoryItemMenu:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribSourceControlHistoryItemMenu.d.ts"},contribSourceControlHistoryTitleMenu:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribSourceControlHistoryTitleMenu.d.ts"},contribSourceControlInputBoxMenu:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribSourceControlInputBoxMenu.d.ts"},contribSourceControlTitleMenu:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribSourceControlTitleMenu.d.ts"},contribStatusBarItems:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribStatusBarItems.d.ts"},contribViewContainerTitle:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribViewContainerTitle.d.ts"},contribViewsRemote:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribViewsRemote.d.ts"},contribViewsWelcome:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribViewsWelcome.d.ts"},createFileSystemWatcher:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.createFileSystemWatcher.d.ts"},customEditorMove:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.customEditorMove.d.ts"},debugVisualization:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.debugVisualization.d.ts"},defaultChatParticipant:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.defaultChatParticipant.d.ts"},diffCommand:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.diffCommand.d.ts"},diffContentOptions:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.diffContentOptions.d.ts"},documentFiltersExclusive:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.documentFiltersExclusive.d.ts"},documentPaste:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.documentPaste.d.ts"},editSessionIdentityProvider:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.editSessionIdentityProvider.d.ts"},editorHoverVerbosityLevel:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.editorHoverVerbosityLevel.d.ts"},editorInsets:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.editorInsets.d.ts"},embeddings:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.embeddings.d.ts"},extensionRuntime:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.extensionRuntime.d.ts"},extensionsAny:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.extensionsAny.d.ts"},externalUriOpener:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.externalUriOpener.d.ts"},fileComments:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.fileComments.d.ts"},fileSearchProvider:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.fileSearchProvider.d.ts"},fileSearchProviderNew:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.fileSearchProviderNew.d.ts"},findFiles2:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.findFiles2.d.ts"},findFiles2New:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.findFiles2New.d.ts"},findTextInFiles:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.findTextInFiles.d.ts"},findTextInFilesNew:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.findTextInFilesNew.d.ts"},fsChunks:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.fsChunks.d.ts"},idToken:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.idToken.d.ts"},inlineCompletionsAdditions:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.inlineCompletionsAdditions.d.ts"},inlineEdit:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.inlineEdit.d.ts"},interactive:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.interactive.d.ts"},interactiveWindow:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.interactiveWindow.d.ts"},ipc:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.ipc.d.ts"},languageModelSystem:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.languageModelSystem.d.ts"},languageStatusText:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.languageStatusText.d.ts"},lmTools:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.lmTools.d.ts",version:6},mappedEditsProvider:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.mappedEditsProvider.d.ts"},multiDocumentHighlightProvider:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.multiDocumentHighlightProvider.d.ts"},newSymbolNamesProvider:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.newSymbolNamesProvider.d.ts"},notebookCellExecution:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookCellExecution.d.ts"},notebookCellExecutionState:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookCellExecutionState.d.ts"},notebookControllerAffinityHidden:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookControllerAffinityHidden.d.ts"},notebookDeprecated:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookDeprecated.d.ts"},notebookExecution:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookExecution.d.ts"},notebookKernelSource:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookKernelSource.d.ts"},notebookLiveShare:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookLiveShare.d.ts"},notebookMessaging:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookMessaging.d.ts"},notebookMime:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookMime.d.ts"},notebookReplDocument:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookReplDocument.d.ts"},notebookVariableProvider:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookVariableProvider.d.ts"},portsAttributes:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.portsAttributes.d.ts"},profileContentHandlers:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.profileContentHandlers.d.ts"},quickDiffProvider:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.quickDiffProvider.d.ts"},quickInputButtonLocation:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.quickInputButtonLocation.d.ts"},quickPickItemTooltip:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.quickPickItemTooltip.d.ts"},quickPickSortByLabel:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.quickPickSortByLabel.d.ts"},resolvers:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.resolvers.d.ts"},scmActionButton:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.scmActionButton.d.ts"},scmHistoryProvider:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.scmHistoryProvider.d.ts"},scmMultiDiffEditor:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.scmMultiDiffEditor.d.ts"},scmSelectedProvider:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.scmSelectedProvider.d.ts"},scmTextDocument:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.scmTextDocument.d.ts"},scmValidation:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.scmValidation.d.ts"},shareProvider:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.shareProvider.d.ts"},showLocal:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.showLocal.d.ts"},speech:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.speech.d.ts"},tabInputMultiDiff:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.tabInputMultiDiff.d.ts"},tabInputTextMerge:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.tabInputTextMerge.d.ts"},taskPresentationGroup:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.taskPresentationGroup.d.ts"},telemetry:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.telemetry.d.ts"},terminalDataWriteEvent:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.terminalDataWriteEvent.d.ts"},terminalDimensions:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.terminalDimensions.d.ts"},terminalExecuteCommandEvent:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.terminalExecuteCommandEvent.d.ts"},terminalQuickFixProvider:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.terminalQuickFixProvider.d.ts"},terminalSelection:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.terminalSelection.d.ts"},testObserver:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.testObserver.d.ts"},testRelatedCode:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.testRelatedCode.d.ts"},textSearchCompleteNew:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.textSearchCompleteNew.d.ts"},textSearchProvider:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.textSearchProvider.d.ts"},textSearchProviderNew:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.textSearchProviderNew.d.ts"},timeline:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.timeline.d.ts"},tokenInformation:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.tokenInformation.d.ts"},treeViewActiveItem:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.treeViewActiveItem.d.ts"},treeViewMarkdownMessage:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.treeViewMarkdownMessage.d.ts"},treeViewReveal:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.treeViewReveal.d.ts"},tunnelFactory:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.tunnelFactory.d.ts"},tunnels:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.tunnels.d.ts"},workspaceTrust:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.workspaceTrust.d.ts"}},nl=Object.freeze(Xu);var il=/^(\^|>=)?((\d+)|x)\.((\d+)|x)\.((\d+)|x)(\-.*)?$/,Yu=/^-(\d{4})(\d{2})(\d{2})$/;function Zu(t){return t=t.trim(),t==="*"||il.test(t)}function Qo(t){if(!Zu(t))return null;if(t=t.trim(),t==="*")return{hasCaret:!1,hasGreaterEquals:!1,majorBase:0,majorMustEqual:!1,minorBase:0,minorMustEqual:!1,patchBase:0,patchMustEqual:!1,preRelease:null};let e=t.match(il);return e?{hasCaret:e[1]==="^",hasGreaterEquals:e[1]===">=",majorBase:e[2]==="x"?0:parseInt(e[2],10),majorMustEqual:e[2]!=="x",minorBase:e[4]==="x"?0:parseInt(e[4],10),minorMustEqual:e[4]!=="x",patchBase:e[6]==="x"?0:parseInt(e[6],10),patchMustEqual:e[6]!=="x",preRelease:e[8]||null}:null}function Jo(t){if(!t)return null;let e=t.majorBase,n=t.majorMustEqual,r=t.minorBase,i=t.minorMustEqual,o=t.patchBase,s=t.patchMustEqual;t.hasCaret&&(e===0||(i=!1),s=!1);let l=0;if(t.preRelease){let c=Yu.exec(t.preRelease);if(c){let[,u,d,f]=c;l=Date.UTC(Number(u),Number(d)-1,Number(f))}}return{majorBase:e,majorMustEqual:n,minorBase:r,minorMustEqual:i,patchBase:o,patchMustEqual:s,isMinimum:t.hasGreaterEquals,notBefore:l}}function ed(t,e,n){let r;typeof t=="string"?r=Jo(Qo(t)):r=t;let i;e instanceof Date?i=e.getTime():typeof e=="string"&&(i=new Date(e).getTime());let o;if(typeof n=="string"?o=Jo(Qo(n)):o=n,!r||!o)return!1;let s=r.majorBase,l=r.minorBase,c=r.patchBase,u=o.majorBase,d=o.minorBase,f=o.patchBase,m=o.notBefore,v=o.majorMustEqual,A=o.minorMustEqual,y=o.patchMustEqual;return o.isMinimum?s>u?!0:s<u?!1:l>d?!0:l<d||i&&i<m?!1:c>=f:(s===1&&u===0&&(!v||!A||!y)&&(u=1,d=0,f=0,v=!0,A=!1,y=!1),s<u?!1:s>u?!v:l<d?!1:l>d?!A:c<f?!1:c>f?!y:!(i&&i<m))}function ol(t,e,n,r,i,o){let s=[];if(typeof r.publisher<"u"&&typeof r.publisher!="string")return s.push([Te.Error,g("extensionDescription.publisher","property publisher must be of type `string`.")]),s;if(typeof r.name!="string")return s.push([Te.Error,g("extensionDescription.name","property `{0}` is mandatory and must be of type `string`","name")]),s;if(typeof r.version!="string")return s.push([Te.Error,g("extensionDescription.version","property `{0}` is mandatory and must be of type `string`","version")]),s;if(!r.engines)return s.push([Te.Error,g("extensionDescription.engines","property `{0}` is mandatory and must be of type `object`","engines")]),s;if(typeof r.engines.vscode!="string")return s.push([Te.Error,g("extensionDescription.engines.vscode","property `{0}` is mandatory and must be of type `string`","engines.vscode")]),s;if(typeof r.extensionDependencies<"u"&&!rl(r.extensionDependencies))return s.push([Te.Error,g("extensionDescription.extensionDependencies","property `{0}` can be omitted or must be of type `string[]`","extensionDependencies")]),s;if(typeof r.activationEvents<"u"){if(!rl(r.activationEvents))return s.push([Te.Error,g("extensionDescription.activationEvents1","property `{0}` can be omitted or must be of type `string[]`","activationEvents")]),s;if(typeof r.main>"u"&&typeof r.browser>"u")return s.push([Te.Error,g("extensionDescription.activationEvents2","property `{0}` should be omitted if the extension doesn't have a `{1}` or `{2}` property.","activationEvents","main","browser")]),s}if(typeof r.extensionKind<"u"&&typeof r.main>"u"&&s.push([Te.Warning,g("extensionDescription.extensionKind","property `{0}` can be defined only if property `main` is also defined.","extensionKind")]),typeof r.main<"u"){if(typeof r.main!="string")return s.push([Te.Error,g("extensionDescription.main1","property `{0}` can be omitted or must be of type `string`","main")]),s;{let u=q(n,r.main);bo(u,n)||s.push([Te.Warning,g("extensionDescription.main2","Expected `main` ({0}) to be included inside extension's folder ({1}). This might make the extension non-portable.",u.path,n.path)])}}if(typeof r.browser<"u"){if(typeof r.browser!="string")return s.push([Te.Error,g("extensionDescription.browser1","property `{0}` can be omitted or must be of type `string`","browser")]),s;{let u=q(n,r.browser);bo(u,n)||s.push([Te.Warning,g("extensionDescription.browser2","Expected `browser` ({0}) to be included inside extension's folder ({1}). This might make the extension non-portable.",u.path,n.path)])}}if(!Fa(r.version))return s.push([Te.Error,g("notSemver","Extension version is not semver compatible.")]),s;let l=[];if(!td(t,e,r,i,l))for(let u of l)s.push([Te.Error,u]);if(o&&r.enabledApiProposals?.length){let u=[];if(!nd([...r.enabledApiProposals],u))for(let d of u)s.push([Te.Error,d])}return s}function td(t,e,n,r,i){return r||typeof n.main>"u"&&typeof n.browser>"u"?!0:rd(t,e,n.engines.vscode,i)}function nd(t,e){if(t.length===0)return!0;let n=Array.isArray(e)?e:void 0,r=(n?void 0:e)??nl,i=[],o=Da(t);for(let{proposalName:s,version:l}of o){let c=r[s];c&&l&&c.version!==l&&i.push(g("apiProposalMismatch","Extension is using an API proposal '{0}' that is not compatible with the current version of VS Code.",s))}return n?.push(...i),i.length===0}function rd(t,e,n,r=[]){let i=Jo(Qo(n));if(!i)return r.push(g("versionSyntax","Could not parse `engines.vscode` value {0}. Please use, for example: ^1.22.0, ^1.22.x, etc.",n)),!1;if(i.majorBase===0){if(!i.majorMustEqual||!i.minorMustEqual)return r.push(g("versionSpecificity1","Version specified in `engines.vscode` ({0}) is not specific enough. For vscode versions before 1.0.0, please define at a minimum the major and minor desired version. E.g. ^0.10.0, 0.10.x, 0.11.0, etc.",n)),!1}else if(!i.majorMustEqual)return r.push(g("versionSpecificity2","Version specified in `engines.vscode` ({0}) is not specific enough. For vscode versions after 1.0.0, please define at a minimum the major desired version. E.g. ^1.10.0, 1.10.x, 1.x.x, 2.x.x, etc.",n)),!1;return ed(t,e,i)?!0:(r.push(g("versionMismatch","Extension is not compatible with Code {0}. Extension requires: {1}.",t,n)),!1)}function rl(t){if(!Array.isArray(t))return!1;for(let e=0,n=t.length;e<n;e++)if(typeof t[e]!="string")return!1;return!0}var Ht=V("IUriIdentityService");var cr=V("IUserDataProfilesService");function bi(t,e,n,r,i,o){return{id:t,name:e,location:n,isDefault:!1,shortName:i?.shortName,icon:i?.icon,globalStorageHome:o&&i?.useDefaultFlags?.globalState?o.globalStorageHome:q(n,"globalStorage"),settingsResource:o&&i?.useDefaultFlags?.settings?o.settingsResource:q(n,"settings.json"),keybindingsResource:o&&i?.useDefaultFlags?.keybindings?o.keybindingsResource:q(n,"keybindings.json"),tasksResource:o&&i?.useDefaultFlags?.tasks?o.tasksResource:q(n,"tasks.json"),snippetsHome:o&&i?.useDefaultFlags?.snippets?o.snippetsHome:q(n,"snippets"),extensionsResource:o&&i?.useDefaultFlags?.extensions?o.extensionsResource:q(n,"extensions.json"),cacheHome:q(r,t),useDefaultFlags:i?.useDefaultFlags,isTransient:i?.transient}}var yi=class extends ye{constructor(n,r,i,o){super();this.environmentService=n;this.fileService=r;this.uriIdentityService=i;this.logService=o;this.profilesHome=q(this.environmentService.userRoamingDataHome,"profiles"),this.profilesCacheHome=q(this.environmentService.cacheHome,"CachedProfilesData")}static PROFILES_KEY="userDataProfiles";static PROFILE_ASSOCIATIONS_KEY="profileAssociations";_serviceBrand;enabled=!0;profilesHome;profilesCacheHome;get defaultProfile(){return this.profiles[0]}get profiles(){return[...this.profilesObject.profiles,...this.transientProfilesObject.profiles]}_onDidChangeProfiles=this._register(new J);onDidChangeProfiles=this._onDidChangeProfiles.event;_onWillCreateProfile=this._register(new J);onWillCreateProfile=this._onWillCreateProfile.event;_onWillRemoveProfile=this._register(new J);onWillRemoveProfile=this._onWillRemoveProfile.event;_onDidResetWorkspaces=this._register(new J);onDidResetWorkspaces=this._onDidResetWorkspaces.event;profileCreationPromises=new Map;transientProfilesObject={profiles:[],folders:new yt,workspaces:new yt,emptyWindows:new Map};init(){this._profilesObject=void 0}setEnablement(n){this.enabled!==n&&(this._profilesObject=void 0,this.enabled=n)}isEnabled(){return this.enabled}_profilesObject;get profilesObject(){if(!this._profilesObject){let n=this.createDefaultProfile(),r=[n];if(this.enabled)try{for(let s of this.getStoredProfiles()){if(!s.name||!xe(s.name)||!s.location){this.logService.warn("Skipping the invalid stored profile",s.location||s.name);continue}r.push(bi(Mt(s.location),s.name,s.location,this.profilesCacheHome,{shortName:s.shortName,icon:s.icon,useDefaultFlags:s.useDefaultFlags},n))}}catch(s){this.logService.error(s)}let i=new yt,o=new Map;if(r.length)try{let s=this.getStoredProfileAssociations();if(s.workspaces)for(let[l,c]of Object.entries(s.workspaces)){let u=w.parse(l),d=r.find(f=>f.id===c);d&&i.set(u,d)}if(s.emptyWindows)for(let[l,c]of Object.entries(s.emptyWindows)){let u=r.find(d=>d.id===c);u&&o.set(l,u)}}catch(s){this.logService.error(s)}this._profilesObject={profiles:r,workspaces:i,emptyWindows:o}}return this._profilesObject}createDefaultProfile(){let n=bi("__default__profile__",g("defaultProfile","Default"),this.environmentService.userRoamingDataHome,this.profilesCacheHome);return{...n,extensionsResource:this.getDefaultProfileExtensionsLocation()??n.extensionsResource,isDefault:!0}}async createTransientProfile(n){let r="Temp",i=new RegExp(`${$r(r)}\\s(\\d+)`),o=0;for(let l of this.profiles){let c=i.exec(l.name),u=c?parseInt(c[1]):0;o=u>o?u:o}let s=`${r} ${o+1}`;return this.createProfile(or(di()).toString(16),s,{transient:!0},n)}async createNamedProfile(n,r,i){return this.createProfile(or(di()).toString(16),n,r,i)}async createProfile(n,r,i,o){if(!this.enabled)throw new Error("Profiles are disabled in the current environment.");let s=await this.doCreateProfile(n,r,i);return o&&await this.setProfileForWorkspace(o,s),s}async doCreateProfile(n,r,i){if(!xe(r)||!r)throw new Error("Name of the profile is mandatory and must be of type `string`");let o=this.profileCreationPromises.get(r);return o||(o=(async()=>{try{if(this.profiles.find(u=>u.name===r||u.id===n))throw new Error(`Profile with ${r} name already exists`);let l=bi(n,r,q(this.profilesHome,n),this.profilesCacheHome,i,this.defaultProfile);await this.fileService.createFolder(l.location);let c=[];return this._onWillCreateProfile.fire({profile:l,join(u){c.push(u)}}),await Eo.settled(c),this.updateProfiles([l],[],[]),l}finally{this.profileCreationPromises.delete(r)}})(),this.profileCreationPromises.set(r,o)),o}async updateProfile(n,r){if(!this.enabled)throw new Error("Profiles are disabled in the current environment.");let i=this.profiles.find(o=>o.id===n.id);if(!i)throw new Error(`Profile '${n.name}' does not exist`);return i=bi(i.id,r.name??i.name,i.location,this.profilesCacheHome,{shortName:r.shortName??i.shortName,icon:r.icon===null?void 0:r.icon??i.icon,transient:r.transient??i.isTransient,useDefaultFlags:r.useDefaultFlags??i.useDefaultFlags},this.defaultProfile),this.updateProfiles([],[],[i]),i}async removeProfile(n){if(!this.enabled)throw new Error("Profiles are disabled in the current environment.");if(n.isDefault)throw new Error("Cannot remove default profile");let r=this.profiles.find(o=>o.id===n.id);if(!r)throw new Error(`Profile '${n.name}' does not exist`);let i=[];this._onWillRemoveProfile.fire({profile:r,join(o){i.push(o)}});try{await Promise.allSettled(i)}catch(o){this.logService.error(o)}for(let o of[...this.profilesObject.emptyWindows.keys()])r.id===this.profilesObject.emptyWindows.get(o)?.id&&this.profilesObject.emptyWindows.delete(o);for(let o of[...this.profilesObject.workspaces.keys()])r.id===this.profilesObject.workspaces.get(o)?.id&&this.profilesObject.workspaces.delete(o);this.updateStoredProfileAssociations(),this.updateProfiles([],[r],[]);try{await this.fileService.del(r.cacheHome,{recursive:!0})}catch(o){et(o)!==1&&this.logService.error(o)}}async setProfileForWorkspace(n,r){if(!this.enabled)throw new Error("Profiles are disabled in the current environment.");let i=this.profiles.find(o=>o.id===r.id);if(!i)throw new Error(`Profile '${r.name}' does not exist`);this.updateWorkspaceAssociation(n,i)}unsetWorkspace(n,r){if(!this.enabled)throw new Error("Profiles are disabled in the current environment.");this.updateWorkspaceAssociation(n,void 0,r)}async resetWorkspaces(){this.transientProfilesObject.folders.clear(),this.transientProfilesObject.workspaces.clear(),this.transientProfilesObject.emptyWindows.clear(),this.profilesObject.workspaces.clear(),this.profilesObject.emptyWindows.clear(),this.updateStoredProfileAssociations(),this._onDidResetWorkspaces.fire()}async cleanUp(){if(this.enabled&&await this.fileService.exists(this.profilesHome)){let n=await this.fileService.resolve(this.profilesHome);await Promise.all((n.children||[]).filter(r=>r.isDirectory&&this.profiles.every(i=>!this.uriIdentityService.extUri.isEqual(i.location,r.resource))).map(r=>this.fileService.del(r.resource,{recursive:!0})))}}async cleanUpTransientProfiles(){if(!this.enabled)return;let n=this.transientProfilesObject.profiles.filter(r=>!this.isProfileAssociatedToWorkspace(r));await Promise.allSettled(n.map(r=>this.removeProfile(r)))}getProfileForWorkspace(n){let r=this.getWorkspace(n),i=w.isUri(r)?this.profilesObject.workspaces.get(r):this.profilesObject.emptyWindows.get(r);return i||(li(n)?this.transientProfilesObject.folders.get(n.uri):ci(n)?this.transientProfilesObject.workspaces.get(n.configPath):this.transientProfilesObject.emptyWindows.get(n.id))}getWorkspace(n){return li(n)?n.uri:ci(n)?n.configPath:n.id}isProfileAssociatedToWorkspace(n){return!!([...this.profilesObject.emptyWindows.values()].some(r=>this.uriIdentityService.extUri.isEqual(r.location,n.location))||[...this.profilesObject.workspaces.values()].some(r=>this.uriIdentityService.extUri.isEqual(r.location,n.location))||[...this.transientProfilesObject.emptyWindows.values()].some(r=>this.uriIdentityService.extUri.isEqual(r.location,n.location))||[...this.transientProfilesObject.workspaces.values()].some(r=>this.uriIdentityService.extUri.isEqual(r.location,n.location))||[...this.transientProfilesObject.folders.values()].some(r=>this.uriIdentityService.extUri.isEqual(r.location,n.location)))}updateProfiles(n,r,i){let o=[...this.profiles,...n],s=[],l=this.transientProfilesObject.profiles;this.transientProfilesObject.profiles=[];for(let c of o){if(c.isDefault||r.some(d=>c.id===d.id))continue;c=i.find(d=>c.id===d.id)??c;let u=l.find(d=>c.id===d.id);if(c.isTransient)this.transientProfilesObject.profiles.push(c);else{if(u){for(let[d,f]of this.transientProfilesObject.emptyWindows.entries())if(c.id===f.id){this.updateWorkspaceAssociation({id:d},c);break}for(let[d,f]of this.transientProfilesObject.workspaces.entries())if(c.id===f.id){this.updateWorkspaceAssociation({id:"",configPath:d},c);break}for(let[d,f]of this.transientProfilesObject.folders.entries())if(c.id===f.id){this.updateWorkspaceAssociation({id:"",uri:d},c);break}}s.push({location:c.location,name:c.name,shortName:c.shortName,icon:c.icon,useDefaultFlags:c.useDefaultFlags})}}this.saveStoredProfiles(s),this._profilesObject=void 0,this.triggerProfilesChanges(n,r,i)}triggerProfilesChanges(n,r,i){this._onDidChangeProfiles.fire({added:n,removed:r,updated:i,all:this.profiles})}updateWorkspaceAssociation(n,r,i){if(i=r?.isTransient?!0:i,i)li(n)?(this.transientProfilesObject.folders.delete(n.uri),r&&this.transientProfilesObject.folders.set(n.uri,r)):ci(n)?(this.transientProfilesObject.workspaces.delete(n.configPath),r&&this.transientProfilesObject.workspaces.set(n.configPath,r)):(this.transientProfilesObject.emptyWindows.delete(n.id),r&&this.transientProfilesObject.emptyWindows.set(n.id,r));else{this.updateWorkspaceAssociation(n,void 0,!0);let o=this.getWorkspace(n);w.isUri(o)?(this.profilesObject.workspaces.delete(o),r&&this.profilesObject.workspaces.set(o,r)):(this.profilesObject.emptyWindows.delete(o),r&&this.profilesObject.emptyWindows.set(o,r)),this.updateStoredProfileAssociations()}}updateStoredProfileAssociations(){let n={};for(let[i,o]of this.profilesObject.workspaces.entries())n[i.toString()]=o.id;let r={};for(let[i,o]of this.profilesObject.emptyWindows.entries())r[i.toString()]=o.id;this.saveStoredProfileAssociations({workspaces:n,emptyWindows:r}),this._profilesObject=void 0}migrateStoredProfileAssociations(n){let r={},i=this.createDefaultProfile();if(n.workspaces)for(let[s,l]of Object.entries(n.workspaces)){let c=w.parse(l);r[s]=this.uriIdentityService.extUri.isEqual(c,i.location)?i.id:this.uriIdentityService.extUri.basename(c)}let o={};if(n.emptyWindows)for(let[s,l]of Object.entries(n.emptyWindows)){let c=w.parse(l);o[s]=this.uriIdentityService.extUri.isEqual(c,i.location)?i.id:this.uriIdentityService.extUri.basename(c)}return{workspaces:r,emptyWindows:o}}getStoredProfiles(){return[]}saveStoredProfiles(n){throw new Error("not implemented")}getStoredProfileAssociations(){return{}}saveStoredProfileAssociations(n){throw new Error("not implemented")}getDefaultProfileExtensionsLocation(){}};yi=F([H(0,Et),H(1,$t),H(2,Ht),H(3,jt)],yi);var un=class extends Error{constructor(n,r){super(n);this.code=r}},vi=V("IExtensionsProfileScannerService"),xi=class extends ye{constructor(n,r,i,o,s,l){super();this.extensionsLocation=n;this.fileService=r;this.userDataProfilesService=i;this.uriIdentityService=o;this.telemetryService=s;this.logService=l}_serviceBrand;_onAddExtensions=this._register(new J);onAddExtensions=this._onAddExtensions.event;_onDidAddExtensions=this._register(new J);onDidAddExtensions=this._onDidAddExtensions.event;_onRemoveExtensions=this._register(new J);onRemoveExtensions=this._onRemoveExtensions.event;_onDidRemoveExtensions=this._register(new J);onDidRemoveExtensions=this._onDidRemoveExtensions.event;resourcesAccessQueueMap=new yt;scanProfileExtensions(n,r){return this.withProfileExtensions(n,void 0,r)}async addExtensionsToProfile(n,r,i){let o=[],s=[];try{return await this.withProfileExtensions(r,l=>{let c=[];if(i)c.push(...l);else for(let u of l)n.some(([d])=>Ve(d.identifier,u.identifier)&&d.manifest.version!==u.version)?o.push(u):c.push(u);for(let[u,d]of n){let f=c.findIndex(v=>Ve(v.identifier,u.identifier)&&v.version===u.manifest.version),m={identifier:u.identifier,version:u.manifest.version,location:u.location,metadata:d};f===-1?(s.push(m),c.push(m)):c.splice(f,1,m)}return s.length&&this._onAddExtensions.fire({extensions:s,profileLocation:r}),o.length&&this._onRemoveExtensions.fire({extensions:o,profileLocation:r}),c}),s.length&&this._onDidAddExtensions.fire({extensions:s,profileLocation:r}),o.length&&this._onDidRemoveExtensions.fire({extensions:o,profileLocation:r}),s}catch(l){throw s.length&&this._onDidAddExtensions.fire({extensions:s,error:l,profileLocation:r}),o.length&&this._onDidRemoveExtensions.fire({extensions:o,error:l,profileLocation:r}),l}}async updateMetadata(n,r){let i=[];return await this.withProfileExtensions(r,o=>{let s=[];for(let l of o){let c=n.find(([u])=>Ve(u.identifier,l.identifier)&&u.manifest.version===l.version);c&&(l.metadata={...l.metadata,...c[1]},i.push(l)),s.push(l)}return s}),i}async removeExtensionFromProfile(n,r){let i=[];try{await this.withProfileExtensions(r,o=>{let s=[];for(let l of o)Ve(l.identifier,n.identifier)?i.push(l):s.push(l);return i.length&&this._onRemoveExtensions.fire({extensions:i,profileLocation:r}),s}),i.length&&this._onDidRemoveExtensions.fire({extensions:i,profileLocation:r})}catch(o){throw i.length&&this._onDidRemoveExtensions.fire({extensions:i,error:o,profileLocation:r}),o}}async withProfileExtensions(n,r,i){return this.getResourceAccessQueue(n).queue(async()=>{let o=[],s;try{let l=await this.fileService.readFile(n);s=JSON.parse(l.value.toString().trim()||"[]")}catch(l){if(et(l)!==1)throw l;if(this.uriIdentityService.extUri.isEqual(n,this.userDataProfilesService.defaultProfile.extensionsResource)&&(s=await this.migrateFromOldDefaultProfileExtensionsLocation()),!s&&i?.bailOutWhenFileNotFound)throw new un(ze(l),"ERROR_PROFILE_NOT_FOUND")}if(s){Array.isArray(s)||this.reportAndThrowInvalidConentError(n);let l=!1;for(let c of s){al(c)||this.reportAndThrowInvalidConentError(n);let u;if(xe(c.relativeLocation)&&c.relativeLocation)u=this.resolveExtensionLocation(c.relativeLocation);else if(xe(c.location)){this.logService.warn(`Extensions profile: Ignoring extension with invalid location: ${c.location}`);continue}else{u=w.revive(c.location);let d=this.toRelativePath(u);d&&(l=!0,c.relativeLocation=d)}Gr(c.metadata?.hasPreReleaseVersion)&&c.metadata?.preRelease&&(l=!0,c.metadata.hasPreReleaseVersion=!0),o.push({identifier:c.identifier,location:u,version:c.version,metadata:c.metadata})}l&&await this.fileService.writeFile(n,ge.fromString(JSON.stringify(s)))}if(r){o=r(o);let l=o.map(c=>({identifier:c.identifier,version:c.version,location:c.location.toJSON(),relativeLocation:this.toRelativePath(c.location),metadata:c.metadata}));await this.fileService.writeFile(n,ge.fromString(JSON.stringify(l)))}return o})}reportAndThrowInvalidConentError(n){let r=new un(`Invalid extensions content in ${n.toString()}`,"ERROR_INVALID_CONTENT");throw this.telemetryService.publicLogError2("extensionsProfileScanningError",{code:r.code}),r}toRelativePath(n){return this.uriIdentityService.extUri.isEqual(this.uriIdentityService.extUri.dirname(n),this.extensionsLocation)?this.uriIdentityService.extUri.basename(n):void 0}resolveExtensionLocation(n){return this.uriIdentityService.extUri.joinPath(this.extensionsLocation,n)}_migrationPromise;async migrateFromOldDefaultProfileExtensionsLocation(){return this._migrationPromise||(this._migrationPromise=(async()=>{let n=this.uriIdentityService.extUri.joinPath(this.userDataProfilesService.defaultProfile.location,"extensions.json"),r=this.uriIdentityService.extUri.joinPath(this.extensionsLocation,".init-default-profile-extensions"),i;try{i=(await this.fileService.readFile(n)).value.toString()}catch(s){if(et(s)===1)return;throw s}this.logService.info("Migrating extensions from old default profile location",n.toString());let o;try{let s=JSON.parse(i);Array.isArray(s)&&s.every(l=>al(l))?o=s:this.logService.warn("Skipping migrating from old default profile locaiton: Found invalid data",s)}catch(s){this.logService.error(s)}if(o)try{await this.fileService.createFile(this.userDataProfilesService.defaultProfile.extensionsResource,ge.fromString(JSON.stringify(o)),{overwrite:!1}),this.logService.info("Migrated extensions from old default profile location to new location",n.toString(),this.userDataProfilesService.defaultProfile.extensionsResource.toString())}catch(s){if(et(s)===3)this.logService.info("Migration from old default profile location to new location is done by another window",n.toString(),this.userDataProfilesService.defaultProfile.extensionsResource.toString());else throw s}try{await this.fileService.del(n)}catch(s){et(s)!==1&&this.logService.error(s)}try{await this.fileService.del(r)}catch(s){et(s)!==1&&this.logService.error(s)}return o})()),this._migrationPromise}getResourceAccessQueue(n){let r=this.resourcesAccessQueueMap.get(n);return r||(r=new Zr,this.resourcesAccessQueueMap.set(n,r)),r}};xi=F([H(1,$t),H(2,cr),H(3,Ht),H(4,Ya),H(5,jt)],xi);function al(t){return lt(t)&&Ca(t.identifier)&&(id(t.location)||xe(t.location)&&t.location)&&(Gr(t.relativeLocation)||xe(t.relativeLocation))&&t.version&&xe(t.version)}function id(t){return t?xe(t.path)&&xe(t.scheme):!1}function ll(t,e,n,r){try{od(t,e,n,r)}catch(i){t.error(i?.message??i)}return e}function od(t,e,n,r){let i=(o,s,l)=>{let c=o[s];if(xe(c)){let u=c,d=u.length;if(d>1&&u[0]==="%"&&u[d-1]==="%"){let f=u.substr(1,d-2),m=n[f];m===void 0&&r&&(m=r[f]);let v=typeof m=="string"?m:m?.message,A=r?.[f],y=typeof A=="string"?A:A?.message;if(!v){y||t.warn(`[${e.name}]: ${g("missingNLSKey","Couldn't find message for key {0}.",f)}`);return}if(l&&(s==="title"||s==="category")&&y&&y!==v){let E={value:v,original:y};o[s]=E}else o[s]=v}}else if(lt(c))for(let u in c)c.hasOwnProperty(u)&&(u==="commands"?i(c,u,!0):i(c,u,l));else if(Array.isArray(c))for(let u=0;u<c.length;u++)i(c,u,l)};for(let o in e)e.hasOwnProperty(o)&&i(e,o)}var cl;(e=>{function t(n,r){if(n===r)return!0;let i=Object.keys(n),o=new Set;for(let s of Object.keys(r))o.add(s);if(i.length!==o.size)return!1;for(let s of i){if(n[s]!==r[s])return!1;o.delete(s)}return o.size===0}e.equals=t})(cl||={});var N5=V("IExtensionsScannerService"),Ii=class extends ye{constructor(n,r,i,o,s,l,c,u,d,f,m,v){super();this.systemExtensionsLocation=n;this.userExtensionsLocation=r;this.extensionsControlLocation=i;this.currentProfile=o;this.userDataProfilesService=s;this.extensionsProfileScannerService=l;this.fileService=c;this.logService=u;this.environmentService=d;this.productService=f;this.uriIdentityService=m;this.instantiationService=v;this._register(this.systemExtensionsCachedScanner.onDidChangeCache(()=>this._onDidChangeCache.fire(0))),this._register(this.userExtensionsCachedScanner.onDidChangeCache(()=>this._onDidChangeCache.fire(1)))}_serviceBrand;_onDidChangeCache=this._register(new J);onDidChangeCache=this._onDidChangeCache.event;obsoleteFile=q(this.userExtensionsLocation,".obsolete");systemExtensionsCachedScanner=this._register(this.instantiationService.createInstance(An,this.currentProfile,this.obsoleteFile));userExtensionsCachedScanner=this._register(this.instantiationService.createInstance(An,this.currentProfile,this.obsoleteFile));extensionsScanner=this._register(this.instantiationService.createInstance(Dn,this.obsoleteFile));_targetPlatformPromise;getTargetPlatform(){return this._targetPlatformPromise||(this._targetPlatformPromise=Za(this.fileService,this.logService)),this._targetPlatformPromise}async scanAllExtensions(n,r,i){let[o,s]=await Promise.all([this.scanSystemExtensions(n),this.scanUserExtensions(r)]),l=i?await this.scanExtensionsUnderDevelopment(n,[...o,...s]):[];return this.dedupExtensions(o,s,l,await this.getTargetPlatform(),!0)}async scanSystemExtensions(n){let r=[];r.push(this.scanDefaultSystemExtensions(!!n.useCache,n.language)),r.push(this.scanDevSystemExtensions(n.language,!!n.checkControlFile));let[i,o]=await Promise.all(r);return this.applyScanOptions([...i,...o],0,n,!1)}async scanUserExtensions(n){let r=n.profileLocation??this.userExtensionsLocation;this.logService.trace("Started scanning user extensions",r);let i=this.uriIdentityService.extUri.isEqual(n.profileLocation,this.userDataProfilesService.defaultProfile.extensionsResource)?{bailOutWhenFileNotFound:!0}:void 0,o=await this.createExtensionScannerInput(r,!!n.profileLocation,1,!n.includeUninstalled,n.language,!0,i,n.productVersion??this.getProductVersion()),s=n.useCache&&!o.devMode&&o.excludeObsolete?this.userExtensionsCachedScanner:this.extensionsScanner,l;try{l=await s.scanExtensions(o)}catch(c){if(c instanceof un&&c.code==="ERROR_PROFILE_NOT_FOUND")await this.doInitializeDefaultProfileExtensions(),l=await s.scanExtensions(o);else throw c}return l=await this.applyScanOptions(l,1,n,!0),this.logService.trace("Scanned user extensions:",l.length),l}async scanExtensionsUnderDevelopment(n,r){if(this.environmentService.isExtensionDevelopment&&this.environmentService.extensionDevelopmentLocationURI){let i=(await Promise.all(this.environmentService.extensionDevelopmentLocationURI.filter(o=>o.scheme===ne.file).map(async o=>{let s=await this.createExtensionScannerInput(o,!1,1,!0,n.language,!1,void 0,n.productVersion??this.getProductVersion());return(await this.extensionsScanner.scanOneOrMultipleExtensions(s)).map(c=>(c.type=r.find(u=>Ve(u.identifier,c.identifier))?.type??c.type,this.extensionsScanner.validate(c,s)))}))).flat();return this.applyScanOptions(i,"development",n,!0)}return[]}async scanExistingExtension(n,r,i){let o=await this.createExtensionScannerInput(n,!1,r,!0,i.language,!0,void 0,i.productVersion??this.getProductVersion()),s=await this.extensionsScanner.scanExtension(o);return!s||!i.includeInvalid&&!s.isValid?null:s}async scanOneOrMultipleExtensions(n,r,i){let o=await this.createExtensionScannerInput(n,!1,r,!0,i.language,!0,void 0,i.productVersion??this.getProductVersion()),s=await this.extensionsScanner.scanOneOrMultipleExtensions(o);return this.applyScanOptions(s,r,i,!0)}async scanMultipleExtensions(n,r,i){let o=[];return await Promise.all(n.map(async s=>{let l=await this.scanOneOrMultipleExtensions(s,r,i);o.push(...l)})),this.applyScanOptions(o,r,i,!0)}async scanMetadata(n){let r=q(n,"package.json"),i=(await this.fileService.readFile(r)).value.toString();return JSON.parse(i).__metadata}async updateMetadata(n,r){let i=q(n,"package.json"),o=(await this.fileService.readFile(i)).value.toString(),s=JSON.parse(o);r.isMachineScoped===!1&&delete r.isMachineScoped,r.isBuiltin===!1&&delete r.isBuiltin,s.__metadata={...s.__metadata,...r},await this.fileService.writeFile(q(n,"package.json"),ge.fromString(JSON.stringify(s,null,"	")))}async initializeDefaultProfileExtensions(){try{await this.extensionsProfileScannerService.scanProfileExtensions(this.userDataProfilesService.defaultProfile.extensionsResource,{bailOutWhenFileNotFound:!0})}catch(n){if(n instanceof un&&n.code==="ERROR_PROFILE_NOT_FOUND")await this.doInitializeDefaultProfileExtensions();else throw n}}initializeDefaultProfileExtensionsPromise=void 0;async doInitializeDefaultProfileExtensions(){return this.initializeDefaultProfileExtensionsPromise||(this.initializeDefaultProfileExtensionsPromise=(async()=>{try{this.logService.info("Started initializing default profile extensions in extensions installation folder.",this.userExtensionsLocation.toString());let n=await this.scanUserExtensions({includeInvalid:!0});if(n.length)await this.extensionsProfileScannerService.addExtensionsToProfile(n.map(r=>[r,r.metadata]),this.userDataProfilesService.defaultProfile.extensionsResource);else try{await this.fileService.createFile(this.userDataProfilesService.defaultProfile.extensionsResource,ge.fromString(JSON.stringify([])))}catch(r){et(r)!==1&&this.logService.warn("Failed to create default profile extensions manifest in extensions installation folder.",this.userExtensionsLocation.toString(),ze(r))}this.logService.info("Completed initializing default profile extensions in extensions installation folder.",this.userExtensionsLocation.toString())}catch(n){this.logService.error(n)}finally{this.initializeDefaultProfileExtensionsPromise=void 0}})()),this.initializeDefaultProfileExtensionsPromise}async applyScanOptions(n,r,i,o){return i.includeAllVersions||(n=this.dedupExtensions(r===0?n:void 0,r===1?n:void 0,r==="development"?n:void 0,await this.getTargetPlatform(),o)),i.includeInvalid||(n=n.filter(s=>s.isValid)),n.sort((s,l)=>{let c=Mn(s.location.fsPath),u=Mn(l.location.fsPath);return c<u?-1:c>u?1:0})}dedupExtensions(n,r,i,o,s){let l=(u,d,f)=>{if(u.isValid&&!d.isValid)return!1;if(u.isValid===d.isValid){if(s&&nr(u.manifest.version,d.manifest.version))return this.logService.debug(`Skipping extension ${d.location.path} with lower version ${d.manifest.version} in favour of ${u.location.path} with version ${u.manifest.version}`),!1;if(Ka(u.manifest.version,d.manifest.version)){if(u.type===0)return this.logService.debug(`Skipping extension ${d.location.path} in favour of system extension ${u.location.path} with same version`),!1;if(u.targetPlatform===o)return this.logService.debug(`Skipping extension ${d.location.path} from different target platform ${d.targetPlatform}`),!1}}return f?this.logService.warn(`Overwriting user extension ${u.location.path} with ${d.location.path}.`):this.logService.debug(`Overwriting user extension ${u.location.path} with ${d.location.path}.`),!0},c=new Pn;return n?.forEach(u=>{let d=c.get(u.identifier.id);(!d||l(d,u,!1))&&c.set(u.identifier.id,u)}),r?.forEach(u=>{let d=c.get(u.identifier.id);if(!d&&n&&u.type===0){this.logService.debug(`Skipping obsolete system extension ${u.location.path}.`);return}(!d||l(d,u,!1))&&c.set(u.identifier.id,u)}),i?.forEach(u=>{let d=c.get(u.identifier.id);(!d||l(d,u,!0))&&c.set(u.identifier.id,u),c.set(u.identifier.id,u)}),[...c.values()]}async scanDefaultSystemExtensions(n,r){this.logService.trace("Started scanning system extensions");let i=await this.createExtensionScannerInput(this.systemExtensionsLocation,!1,0,!0,r,!0,void 0,this.getProductVersion()),s=await(n&&!i.devMode?this.systemExtensionsCachedScanner:this.extensionsScanner).scanExtensions(i);return this.logService.trace("Scanned system extensions:",s.length),s}async scanDevSystemExtensions(n,r){let i=this.environmentService.isBuilt?[]:this.productService.builtInExtensions;if(!i?.length)return[];this.logService.trace("Started scanning dev system extensions");let o=r?await this.getBuiltInExtensionControl():{},s=[],l=w.file(gt(Pe(Xn.asFileUri("").fsPath,"..",".build","builtInExtensions")));for(let u of i){let d=o[u.name]||"marketplace";switch(d){case"disabled":break;case"marketplace":s.push(q(l,u.name));break;default:s.push(w.file(d));break}}let c=await Promise.all(s.map(async u=>this.extensionsScanner.scanExtension(await this.createExtensionScannerInput(u,!1,0,!0,n,!0,void 0,this.getProductVersion()))));return this.logService.trace("Scanned dev system extensions:",c.length),Zt(c)}async getBuiltInExtensionControl(){try{let n=await this.fileService.readFile(this.extensionsControlLocation);return JSON.parse(n.value.toString())}catch{return{}}}async createExtensionScannerInput(n,r,i,o,s,l,c,u){let d=await this.getTranslations(s??Fe),f=await this.getMtime(n),m=r&&!this.uriIdentityService.extUri.isEqual(n,this.userDataProfilesService.defaultProfile.extensionsResource)?this.userDataProfilesService.defaultProfile.extensionsResource:void 0,v=m?await this.getMtime(m):void 0;return new dn(n,f,m,v,r,c,i,o,l,u.version,u.date,this.productService.commit,!this.environmentService.isBuilt,s,d)}async getMtime(n){try{let r=await this.fileService.stat(n);if(typeof r.mtime=="number")return r.mtime}catch{}}getProductVersion(){return{version:this.productService.version,date:this.productService.date}}};Ii=F([H(4,cr),H(5,vi),H(6,$t),H(7,jt),H(8,Et),H(9,ui),H(10,Ht),H(11,ha)],Ii);var dn=class{constructor(e,n,r,i,o,s,l,c,u,d,f,m,v,A,y){this.location=e;this.mtime=n;this.applicationExtensionslocation=r;this.applicationExtensionslocationMtime=i;this.profile=o;this.profileScanOptions=s;this.type=l;this.excludeObsolete=c;this.validate=u;this.productVersion=d;this.productDate=f;this.productCommit=m;this.devMode=v;this.language=A;this.translations=y}static createNlsConfiguration(e){return{language:e.language,pseudo:e.language==="pseudo",devMode:e.devMode,translations:e.translations}}static equals(e,n){return Xr(e.location,n.location)&&e.mtime===n.mtime&&Xr(e.applicationExtensionslocation,n.applicationExtensionslocation)&&e.applicationExtensionslocationMtime===n.applicationExtensionslocationMtime&&e.profile===n.profile&&Rn(e.profileScanOptions,n.profileScanOptions)&&e.type===n.type&&e.excludeObsolete===n.excludeObsolete&&e.validate===n.validate&&e.productVersion===n.productVersion&&e.productDate===n.productDate&&e.productCommit===n.productCommit&&e.devMode===n.devMode&&e.language===n.language&&cl.equals(e.translations,n.translations)}},Dn=class extends ye{constructor(n,r,i,o,s,l,c){super();this.obsoleteFile=n;this.extensionsProfileScannerService=r;this.uriIdentityService=i;this.fileService=o;this.environmentService=l;this.logService=c;this.extensionsEnabledWithApiProposalVersion=s.extensionsEnabledWithApiProposalVersion?.map(u=>u.toLowerCase())??[]}extensionsEnabledWithApiProposalVersion;async scanExtensions(n){let r=n.profile?await this.scanExtensionsFromProfile(n):await this.scanExtensionsFromLocation(n),i={};if(n.excludeObsolete&&n.type===1)try{let o=(await this.fileService.readFile(this.obsoleteFile)).value.toString();i=JSON.parse(o)}catch{}return aa(i)?r:r.filter(o=>!i[pi.create(o).toString()])}async scanExtensionsFromLocation(n){let r=await this.fileService.resolve(n.location);if(!r.children?.length)return[];let i=await Promise.all(r.children.map(async o=>{if(!o.isDirectory||n.type===1&&Mt(o.resource).indexOf(".")===0)return null;let s=new dn(o.resource,n.mtime,n.applicationExtensionslocation,n.applicationExtensionslocationMtime,n.profile,n.profileScanOptions,n.type,n.excludeObsolete,n.validate,n.productVersion,n.productDate,n.productCommit,n.devMode,n.language,n.translations);return this.scanExtension(s)}));return Zt(i).sort((o,s)=>o.location.path<s.location.path?-1:1)}async scanExtensionsFromProfile(n){let r=await this.scanExtensionsFromProfileResource(n.location,()=>!0,n);if(n.applicationExtensionslocation&&!this.uriIdentityService.extUri.isEqual(n.location,n.applicationExtensionslocation)){r=r.filter(o=>!o.metadata?.isApplicationScoped);let i=await this.scanExtensionsFromProfileResource(n.applicationExtensionslocation,o=>!!o.metadata?.isBuiltin||!!o.metadata?.isApplicationScoped,n);r.push(...i)}return r}async scanExtensionsFromProfileResource(n,r,i){let o=await this.extensionsProfileScannerService.scanProfileExtensions(n,i.profileScanOptions);if(!o.length)return[];let s=await Promise.all(o.map(async l=>{if(r(l)){let c=new dn(l.location,i.mtime,i.applicationExtensionslocation,i.applicationExtensionslocationMtime,i.profile,i.profileScanOptions,i.type,i.excludeObsolete,i.validate,i.productVersion,i.productDate,i.productCommit,i.devMode,i.language,i.translations);return this.scanExtension(c,l.metadata)}return null}));return Zt(s)}async scanOneOrMultipleExtensions(n){try{if(await this.fileService.exists(q(n.location,"package.json"))){let r=await this.scanExtension(n);return r?[r]:[]}else return await this.scanExtensions(n)}catch(r){return this.logService.error(`Error scanning extensions at ${n.location.path}:`,ze(r)),[]}}async scanExtension(n,r){try{let i=await this.scanExtensionManifest(n.location);if(i){i.publisher||(i.publisher=ii),r=r??i.__metadata,delete i.__metadata;let o=fi(i.publisher,i.name),s=r?.id?{id:o,uuid:r.id}:{id:o},l=r?.isSystem?0:n.type,c=l===0||!!r?.isBuiltin;i=await this.translateManifest(n.location,i,dn.createNlsConfiguration(n));let u={type:l,identifier:s,manifest:i,location:n.location,isBuiltin:c,targetPlatform:r?.targetPlatform??"undefined",publisherDisplayName:r?.publisherDisplayName,metadata:r,isValid:!0,validations:[]};return n.validate&&(u=this.validate(u,n)),i.enabledApiProposals&&(!this.environmentService.isBuilt||this.extensionsEnabledWithApiProposalVersion.includes(o.toLowerCase()))&&(i.originalEnabledApiProposals=i.enabledApiProposals,i.enabledApiProposals=Aa([...i.enabledApiProposals])),u}}catch(i){n.type!==0&&this.logService.error(i)}return null}validate(n,r){let i=!0,o=this.environmentService.isBuilt&&this.extensionsEnabledWithApiProposalVersion.includes(n.identifier.id.toLowerCase()),s=ol(r.productVersion,r.productDate,r.location,n.manifest,n.isBuiltin,o);for(let[l,c]of s)l===Te.Error&&(i=!1,this.logService.error(this.formatMessage(r.location,c)));return n.isValid=i,n.validations=s,n}async scanExtensionManifest(n){let r=q(n,"package.json"),i;try{i=(await this.fileService.readFile(r)).value.toString()}catch(s){return et(s)!==1&&this.logService.error(this.formatMessage(n,g("fileReadFail","Cannot read file {0}: {1}.",r.path,s.message))),null}let o;try{o=JSON.parse(i)}catch{let l=[];ar(i,l);for(let c of l)this.logService.error(this.formatMessage(n,g("jsonParseFail","Failed to parse {0}: [{1}, {2}] {3}.",r.path,c.offset,c.length,hi(c.error))));return null}return lr(o)!=="object"?(this.logService.error(this.formatMessage(n,g("jsonParseInvalidType","Invalid manifest file {0}: Not a JSON object.",r.path))),null):o}async translateManifest(n,r,i){let o=await this.getLocalizedMessages(n,r,i);if(o)try{let s=[],l=await this.resolveOriginalMessageBundle(o.default,s);if(s.length>0)return s.forEach(u=>{this.logService.error(this.formatMessage(n,g("jsonsParseReportErrors","Failed to parse {0}: {1}.",o.default?.path,hi(u.error))))}),r;if(lr(o)!=="object")return this.logService.error(this.formatMessage(n,g("jsonInvalidFormat","Invalid format {0}: JSON object expected.",o.default?.path))),r;let c=o.values||Object.create(null);return ll(this.logService,r,c,l)}catch{}return r}async getLocalizedMessages(n,r,i){let o=q(n,"package.nls.json"),s=(d,f)=>{f.forEach(m=>{this.logService.error(this.formatMessage(n,g("jsonsParseReportErrors","Failed to parse {0}: {1}.",d?.path,hi(m.error))))})},l=d=>{this.logService.error(this.formatMessage(n,g("jsonInvalidFormat","Invalid format {0}: JSON object expected.",d?.path)))},c=`${r.publisher}.${r.name}`,u=i.translations[c];if(u)try{let d=w.file(u),f=(await this.fileService.readFile(d)).value.toString(),m=[],v=ar(f,m);return m.length>0?(s(d,m),{values:void 0,default:o}):lr(v)!=="object"?(l(d),{values:void 0,default:o}):{values:v.contents?v.contents.package:void 0,default:o}}catch{return{values:void 0,default:o}}else{if(!await this.fileService.exists(o))return;let f;try{f=await this.findMessageBundles(n,i)}catch{return}if(!f.localized)return{values:void 0,default:f.original};try{let m=(await this.fileService.readFile(f.localized)).value.toString(),v=[],A=ar(m,v);return v.length>0?(s(f.localized,v),{values:void 0,default:f.original}):lr(A)!=="object"?(l(f.localized),{values:void 0,default:f.original}):{values:A,default:f.original}}catch{return{values:void 0,default:f.original}}}}async resolveOriginalMessageBundle(n,r){if(n)try{let i=(await this.fileService.readFile(n)).value.toString();return ar(i,r)}catch{}}findMessageBundles(n,r){return new Promise((i,o)=>{let s=l=>{let c=q(n,`package.nls.${l}.json`);this.fileService.exists(c).then(u=>{u&&i({localized:c,original:q(n,"package.nls.json")});let d=l.lastIndexOf("-");d===-1?i({localized:q(n,"package.nls.json"),original:null}):(l=l.substring(0,d),s(l))})};if(r.devMode||r.pseudo||!r.language)return i({localized:q(n,"package.nls.json"),original:null});s(r.language)})}formatMessage(n,r){return`[${n.path}]: ${r}`}};Dn=F([H(1,vi),H(2,Ht),H(3,$t),H(4,ui),H(5,Et),H(6,jt)],Dn);var An=class extends Dn{constructor(n,r,i,o,s,l,c,u,d){super(r,o,s,l,c,u,d);this.currentProfile=n;this.userDataProfilesService=i}input;cacheValidatorThrottler=this._register(new Yr(3e3));_onDidChangeCache=this._register(new J);onDidChangeCache=this._onDidChangeCache.event;async scanExtensions(n){let r=this.getCacheFile(n),i=await this.readExtensionCache(r);if(this.input=n,i&&i.input&&dn.equals(i.input,this.input))return this.logService.debug("Using cached extensions scan result",n.type===0?"system":"user",n.location.toString()),this.cacheValidatorThrottler.trigger(()=>this.validateCache()),i.result.map(s=>(s.location=w.revive(s.location),s));let o=await super.scanExtensions(n);return await this.writeExtensionCache(r,{input:n,result:o}),o}async readExtensionCache(n){try{let r=await this.fileService.readFile(n),i=JSON.parse(r.value.toString());return{result:i.result,input:nn(i.input)}}catch(r){this.logService.debug("Error while reading the extension cache file:",n.path,ze(r))}return null}async writeExtensionCache(n,r){try{await this.fileService.writeFile(n,ge.fromString(JSON.stringify(r)))}catch(i){this.logService.debug("Error while writing the extension cache file:",n.path,ze(i))}}async validateCache(){if(!this.input)return;let n=this.getCacheFile(this.input),r=await this.readExtensionCache(n);if(!r)return;let i=r.result,o=JSON.parse(JSON.stringify(await super.scanExtensions(this.input)));if(!Rn(o,i))try{this.logService.info("Invalidating Cache",i,o),await this.fileService.del(n),this._onDidChangeCache.fire()}catch(s){this.logService.error(s)}}getCacheFile(n){let r=this.getProfile(n);return this.uriIdentityService.extUri.joinPath(r.cacheHome,n.type===0?Ra:Pa)}getProfile(n){return n.type===0?this.userDataProfilesService.defaultProfile:n.profile?this.uriIdentityService.extUri.isEqual(n.location,this.currentProfile.extensionsResource)?this.currentProfile:this.userDataProfilesService.profiles.find(r=>this.uriIdentityService.extUri.isEqual(n.location,r.extensionsResource))??this.currentProfile:this.userDataProfilesService.defaultProfile}};An=F([H(2,cr),H(3,vi),H(4,Ht),H(5,$t),H(6,ui),H(7,Et),H(8,jt)],An);function ur(t,e){let n=sr(t.manifest.publisher,t.manifest.name);return{id:n,identifier:new ct(n),isBuiltin:t.type===0,isUserBuiltin:t.type===1&&t.isBuiltin,isUnderDevelopment:e,extensionLocation:t.location,uuid:t.identifier.uuid,targetPlatform:t.targetPlatform,publisherDisplayName:t.publisherDisplayName,...t.manifest}}import{homedir as dd,tmpdir as pd}from"os";var sd=60,ad=sd*60,Xo=ad*24,B5=Xo*7,V5=Xo*30,W5=Xo*365;function ul(t){return t.getFullYear()+"-"+String(t.getMonth()+1).padStart(2,"0")+"-"+String(t.getDate()).padStart(2,"0")+"T"+String(t.getHours()).padStart(2,"0")+":"+String(t.getMinutes()).padStart(2,"0")+":"+String(t.getSeconds()).padStart(2,"0")+"."+(t.getMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"}var dl=/^([^.]+\..+)[:=](.+)$/,Y=class{constructor(e,n,r){this._args=e;this.paths=n;this.productService=r}get appRoot(){return wr(Xn.asFileUri("").fsPath)}get userHome(){return w.file(this.paths.homeDir)}get userDataPath(){return this.paths.userDataDir}get appSettingsHome(){return w.file(Pe(this.userDataPath,"User"))}get tmpDir(){return w.file(this.paths.tmpDir)}get cacheHome(){return w.file(this.userDataPath)}get stateResource(){return q(this.appSettingsHome,"globalStorage","storage.json")}get userRoamingDataHome(){return this.appSettingsHome.with({scheme:ne.vscodeUserData})}get userDataSyncHome(){return q(this.appSettingsHome,"sync")}get logsHome(){if(!this.args.logsPath){let e=ul(new Date).replace(/-|:|\.\d+Z$/g,"");this.args.logsPath=Pe(this.userDataPath,"logs",e)}return w.file(this.args.logsPath)}get sync(){return this.args.sync}get machineSettingsResource(){return q(w.file(Pe(this.userDataPath,"Machine")),"settings.json")}get workspaceStorageHome(){return q(this.appSettingsHome,"workspaceStorage")}get localHistoryHome(){return q(this.appSettingsHome,"History")}get keyboardLayoutResource(){return q(this.userRoamingDataHome,"keyboardLayout.json")}get argvResource(){let e=mt.VSCODE_PORTABLE;return e?w.file(Pe(e,"argv.json")):q(this.userHome,this.productService.dataFolderName,"argv.json")}get isExtensionDevelopment(){return!!this.args.extensionDevelopmentPath}get untitledWorkspacesHome(){return w.file(Pe(this.userDataPath,"Workspaces"))}get builtinExtensionsPath(){let e=this.args["builtin-extensions-dir"];return e?Lt(e):gt(Pe(Xn.asFileUri("").fsPath,"..","extensions"))}get extensionsDownloadLocation(){let e=this.args["extensions-download-dir"];return e?w.file(Lt(e)):w.file(Pe(this.userDataPath,"CachedExtensionVSIXs"))}get extensionsPath(){let e=this.args["extensions-dir"];if(e)return Lt(e);let n=mt.VSCODE_EXTENSIONS;if(n)return n;let r=mt.VSCODE_PORTABLE;return r?Pe(r,"extensions"):q(this.userHome,this.productService.dataFolderName,"extensions").fsPath}get extensionDevelopmentLocationURI(){let e=this.args.extensionDevelopmentPath;if(Array.isArray(e))return e.map(n=>/^[^:/?#]+?:\/\//.test(n)?w.parse(n):w.file(gt(n)))}get extensionDevelopmentKind(){return this.args.extensionDevelopmentKind?.map(e=>e==="ui"||e==="workspace"||e==="web"?e:"workspace")}get extensionTestsLocationURI(){let e=this.args.extensionTestsPath;if(e)return/^[^:/?#]+?:\/\//.test(e)?w.parse(e):w.file(gt(e))}get disableExtensions(){if(this.args["disable-extensions"])return!0;let e=this.args["disable-extension"];if(e){if(typeof e=="string")return[e];if(Array.isArray(e)&&e.length>0)return e}return!1}get debugExtensionHost(){return ld(this.args,this.isBuilt)}get debugRenderer(){return!!this.args.debugRenderer}get isBuilt(){return!mt.VSCODE_DEV}get verbose(){return!!this.args.verbose}get logLevel(){return this.args.log?.find(e=>!dl.test(e))}get extensionLogLevel(){let e=[];for(let n of this.args.log||[]){let r=dl.exec(n);r&&r[1]&&r[2]&&e.push([r[1],r[2]])}return e.length?e:void 0}get serviceMachineIdResource(){return q(w.file(this.userDataPath),"machineid")}get crashReporterId(){return this.args["crash-reporter-id"]}get crashReporterDirectory(){return this.args["crash-reporter-directory"]}get disableTelemetry(){return!!this.args["disable-telemetry"]}get disableWorkspaceTrust(){return!!this.args["disable-workspace-trust"]}get useInMemorySecretStorage(){return!!this.args["use-inmemory-secretstorage"]}get policyFile(){if(this.args["__enable-file-policy"]){let e=mt.VSCODE_PORTABLE;return e?w.file(Pe(e,"policy.json")):q(this.userHome,this.productService.dataFolderName,"policy.json")}}editSessionId=this.args.editSessionId;get continueOn(){return this.args.continueOn}set continueOn(e){this.args.continueOn=e}get args(){return this._args}};F([X],Y.prototype,"appRoot",1),F([X],Y.prototype,"userHome",1),F([X],Y.prototype,"userDataPath",1),F([X],Y.prototype,"appSettingsHome",1),F([X],Y.prototype,"tmpDir",1),F([X],Y.prototype,"cacheHome",1),F([X],Y.prototype,"stateResource",1),F([X],Y.prototype,"userRoamingDataHome",1),F([X],Y.prototype,"userDataSyncHome",1),F([X],Y.prototype,"sync",1),F([X],Y.prototype,"machineSettingsResource",1),F([X],Y.prototype,"workspaceStorageHome",1),F([X],Y.prototype,"localHistoryHome",1),F([X],Y.prototype,"keyboardLayoutResource",1),F([X],Y.prototype,"argvResource",1),F([X],Y.prototype,"isExtensionDevelopment",1),F([X],Y.prototype,"untitledWorkspacesHome",1),F([X],Y.prototype,"builtinExtensionsPath",1),F([X],Y.prototype,"extensionsPath",1),F([X],Y.prototype,"extensionDevelopmentLocationURI",1),F([X],Y.prototype,"extensionDevelopmentKind",1),F([X],Y.prototype,"extensionTestsLocationURI",1),F([X],Y.prototype,"debugExtensionHost",1),F([X],Y.prototype,"logLevel",1),F([X],Y.prototype,"extensionLogLevel",1),F([X],Y.prototype,"serviceMachineIdResource",1),F([X],Y.prototype,"disableTelemetry",1),F([X],Y.prototype,"disableWorkspaceTrust",1),F([X],Y.prototype,"useInMemorySecretStorage",1),F([X],Y.prototype,"policyFile",1);function ld(t,e){return pl(t["inspect-extensions"],t["inspect-brk-extensions"],5870,e,t.debugId,t.extensionEnvironment)}function pl(t,e,n,r,i,o){let l=Number(e||t)||(r?null:n),c=l?!!e:!1,u;if(o)try{u=JSON.parse(o)}catch{}return{port:l,break:c,debugId:i,env:u}}import*as cd from"os";import*as ud from"path";var Ti={exports:{}};(function(){function e(n,r,i){function o(l,c){let u=s(l,c),d=[u];return n.isAbsolute(u)||d.unshift(i),n.resolve(...d)}function s(l,c){process.env.VSCODE_DEV&&(c="code-oss-dev");let u=process.env.VSCODE_PORTABLE;if(u)return n.join(u,"user-data");let d=process.env.VSCODE_APPDATA;if(d)return n.join(d,c);let f=l["user-data-dir"];if(f)return f;switch(process.platform){case"win32":if(d=process.env.APPDATA,!d){let m=process.env.USERPROFILE;if(typeof m!="string")throw new Error("Windows: Unexpected undefined %USERPROFILE% environment variable");d=n.join(m,"AppData","Roaming")}break;case"darwin":d=n.join(r.homedir(),"Library","Application Support");break;case"linux":d=process.env.XDG_CONFIG_HOME||n.join(r.homedir(),".config");break;default:throw new Error("Platform not supported")}return n.join(d,c)}return{getUserDataPath:o}}if(typeof Ti=="object"&&typeof Ti.exports=="object")Ti.exports=e(ud,cd,process.env.VSCODE_CWD||process.cwd());else throw new Error("Unknown context")})();var fl=Ti.exports.getUserDataPath;var Ei=class extends Y{constructor(e,n){super(e,{homeDir:dd(),tmpDir:pd(),userDataDir:fl(e,n.nameShort)},n)}};var md=Al(bl());var bT={o:g("optionsUpperCase","Options"),e:g("extensionsManagement","Extensions Management"),t:g("troubleshooting","Troubleshooting")};var oe={tunnel:{type:"subcommand",description:"Make the current machine accessible from vscode.dev or other machines through a secure tunnel",options:{"cli-data-dir":{type:"string",args:"dir",description:g("cliDataDir","Directory where CLI metadata should be stored.")},"disable-telemetry":{type:"boolean"},"telemetry-level":{type:"string"},user:{type:"subcommand",options:{login:{type:"subcommand",options:{provider:{type:"string"},"access-token":{type:"string"}}}}}}},"serve-web":{type:"subcommand",description:"Run a server that displays the editor UI in browsers.",options:{"cli-data-dir":{type:"string",args:"dir",description:g("cliDataDir","Directory where CLI metadata should be stored.")},"disable-telemetry":{type:"boolean"},"telemetry-level":{type:"string"}}},diff:{type:"boolean",cat:"o",alias:"d",args:["file","file"],description:g("diff","Compare two files with each other.")},merge:{type:"boolean",cat:"o",alias:"m",args:["path1","path2","base","result"],description:g("merge","Perform a three-way merge by providing paths for two modified versions of a file, the common origin of both modified versions and the output file to save merge results.")},add:{type:"boolean",cat:"o",alias:"a",args:"folder",description:g("add","Add folder(s) to the last active window.")},goto:{type:"boolean",cat:"o",alias:"g",args:"file:line[:character]",description:g("goto","Open a file at the path on the specified line and character position.")},"new-window":{type:"boolean",cat:"o",alias:"n",description:g("newWindow","Force to open a new window.")},"reuse-window":{type:"boolean",cat:"o",alias:"r",description:g("reuseWindow","Force to open a file or folder in an already opened window.")},wait:{type:"boolean",cat:"o",alias:"w",description:g("wait","Wait for the files to be closed before returning.")},waitMarkerFilePath:{type:"string"},locale:{type:"string",cat:"o",args:"locale",description:g("locale","The locale to use (e.g. en-US or zh-TW).")},"user-data-dir":{type:"string",cat:"o",args:"dir",description:g("userDataDir","Specifies the directory that user data is kept in. Can be used to open multiple distinct instances of Code.")},profile:{type:"string",cat:"o",args:"profileName",description:g("profileName","Opens the provided folder or workspace with the given profile and associates the profile with the workspace. If the profile does not exist, a new empty one is created.")},help:{type:"boolean",cat:"o",alias:"h",description:g("help","Print usage.")},"extensions-dir":{type:"string",deprecates:["extensionHomePath"],cat:"e",args:"dir",description:g("extensionHomePath","Set the root path for extensions.")},"extensions-download-dir":{type:"string"},"builtin-extensions-dir":{type:"string"},"list-extensions":{type:"boolean",cat:"e",description:g("listExtensions","List the installed extensions.")},"show-versions":{type:"boolean",cat:"e",description:g("showVersions","Show versions of installed extensions, when using --list-extensions.")},category:{type:"string",allowEmptyValue:!0,cat:"e",description:g("category","Filters installed extensions by provided category, when using --list-extensions."),args:"category"},"install-extension":{type:"string[]",cat:"e",args:"ext-id | path",description:g("installExtension","Installs or updates an extension. The argument is either an extension id or a path to a VSIX. The identifier of an extension is '${publisher}.${name}'. Use '--force' argument to update to latest version. To install a specific version provide '@${version}'. For example: 'vscode.csharp@1.2.3'.")},"pre-release":{type:"boolean",cat:"e",description:g("install prerelease","Installs the pre-release version of the extension, when using --install-extension")},"uninstall-extension":{type:"string[]",cat:"e",args:"ext-id",description:g("uninstallExtension","Uninstalls an extension.")},"update-extensions":{type:"boolean",cat:"e",description:g("updateExtensions","Update the installed extensions.")},"enable-proposed-api":{type:"string[]",allowEmptyValue:!0,cat:"e",args:"ext-id",description:g("experimentalApis","Enables proposed API features for extensions. Can receive one or more extension IDs to enable individually.")},version:{type:"boolean",cat:"t",alias:"v",description:g("version","Print version.")},verbose:{type:"boolean",cat:"t",global:!0,description:g("verbose","Print verbose output (implies --wait).")},log:{type:"string[]",cat:"t",args:"level",global:!0,description:g("log","Log level to use. Default is 'info'. Allowed values are 'critical', 'error', 'warn', 'info', 'debug', 'trace', 'off'. You can also configure the log level of an extension by passing extension id and log level in the following format: '${publisher}.${name}:${logLevel}'. For example: 'vscode.csharp:trace'. Can receive one or more such entries.")},status:{type:"boolean",alias:"s",cat:"t",description:g("status","Print process usage and diagnostics information.")},"prof-startup":{type:"boolean",cat:"t",description:g("prof-startup","Run CPU profiler during startup.")},"prof-append-timers":{type:"string"},"prof-duration-markers":{type:"string[]"},"prof-duration-markers-file":{type:"string"},"no-cached-data":{type:"boolean"},"prof-startup-prefix":{type:"string"},"prof-v8-extensions":{type:"boolean"},"disable-extensions":{type:"boolean",deprecates:["disableExtensions"],cat:"t",description:g("disableExtensions","Disable all installed extensions. This option is not persisted and is effective only when the command opens a new window.")},"disable-extension":{type:"string[]",cat:"t",args:"ext-id",description:g("disableExtension","Disable the provided extension. This option is not persisted and is effective only when the command opens a new window.")},sync:{type:"string",cat:"t",description:g("turn sync","Turn sync on or off."),args:["on | off"]},"inspect-extensions":{type:"string",allowEmptyValue:!0,deprecates:["debugPluginHost"],args:"port",cat:"t",description:g("inspect-extensions","Allow debugging and profiling of extensions. Check the developer tools for the connection URI.")},"inspect-brk-extensions":{type:"string",allowEmptyValue:!0,deprecates:["debugBrkPluginHost"],args:"port",cat:"t",description:g("inspect-brk-extensions","Allow debugging and profiling of extensions with the extension host being paused after start. Check the developer tools for the connection URI.")},"disable-lcd-text":{type:"boolean",cat:"t",description:g("disableLCDText","Disable LCD font rendering.")},"disable-gpu":{type:"boolean",cat:"t",description:g("disableGPU","Disable GPU hardware acceleration.")},"disable-chromium-sandbox":{type:"boolean",cat:"t",description:g("disableChromiumSandbox","Use this option only when there is requirement to launch the application as sudo user on Linux or when running as an elevated user in an applocker environment on Windows.")},sandbox:{type:"boolean"},telemetry:{type:"boolean",cat:"t",description:g("telemetry","Shows all telemetry events which VS code collects.")},remote:{type:"string",allowEmptyValue:!0},"folder-uri":{type:"string[]",cat:"o",args:"uri"},"file-uri":{type:"string[]",cat:"o",args:"uri"},"locate-extension":{type:"string[]"},extensionDevelopmentPath:{type:"string[]"},extensionDevelopmentKind:{type:"string[]"},extensionTestsPath:{type:"string"},extensionEnvironment:{type:"string"},debugId:{type:"string"},debugRenderer:{type:"boolean"},"inspect-ptyhost":{type:"string",allowEmptyValue:!0},"inspect-brk-ptyhost":{type:"string",allowEmptyValue:!0},"inspect-search":{type:"string",deprecates:["debugSearch"],allowEmptyValue:!0},"inspect-brk-search":{type:"string",deprecates:["debugBrkSearch"],allowEmptyValue:!0},"inspect-sharedprocess":{type:"string",allowEmptyValue:!0},"inspect-brk-sharedprocess":{type:"string",allowEmptyValue:!0},"export-default-configuration":{type:"string"},"install-source":{type:"string"},"enable-smoke-test-driver":{type:"boolean"},logExtensionHostCommunication:{type:"boolean"},"skip-release-notes":{type:"boolean"},"skip-welcome":{type:"boolean"},"disable-telemetry":{type:"boolean"},"disable-updates":{type:"boolean"},"use-inmemory-secretstorage":{type:"boolean",deprecates:["disable-keytar"]},"password-store":{type:"string"},"disable-workspace-trust":{type:"boolean"},"disable-crash-reporter":{type:"boolean"},"crash-reporter-directory":{type:"string"},"crash-reporter-id":{type:"string"},"skip-add-to-recently-opened":{type:"boolean"},"open-url":{type:"boolean"},"file-write":{type:"boolean"},"file-chmod":{type:"boolean"},"install-builtin-extension":{type:"string[]"},force:{type:"boolean"},"do-not-sync":{type:"boolean"},trace:{type:"boolean"},"trace-category-filter":{type:"string"},"trace-options":{type:"string"},"preserve-env":{type:"boolean"},"force-user-env":{type:"boolean"},"force-disable-user-env":{type:"boolean"},"open-devtools":{type:"boolean"},"disable-gpu-sandbox":{type:"boolean"},logsPath:{type:"string"},"__enable-file-policy":{type:"boolean"},editSessionId:{type:"string"},continueOn:{type:"string"},"locate-shell-integration-path":{type:"string",args:["bash","pwsh","zsh","fish"]},"enable-coi":{type:"boolean"},"no-proxy-server":{type:"boolean"},"no-sandbox":{type:"boolean",alias:"sandbox"},"proxy-server":{type:"string"},"proxy-bypass-list":{type:"string"},"proxy-pac-url":{type:"string"},"js-flags":{type:"string"},inspect:{type:"string",allowEmptyValue:!0},"inspect-brk":{type:"string",allowEmptyValue:!0},nolazy:{type:"boolean"},"force-device-scale-factor":{type:"string"},"force-renderer-accessibility":{type:"boolean"},"ignore-certificate-errors":{type:"boolean"},"allow-insecure-localhost":{type:"boolean"},"log-net-log":{type:"string"},vmodule:{type:"string"},_urls:{type:"string[]"},"disable-dev-shm-usage":{type:"boolean"},"profile-temp":{type:"boolean"},"ozone-platform":{type:"string"},"enable-tracing":{type:"string"},"trace-startup-format":{type:"string"},"trace-startup-file":{type:"string"},"trace-startup-duration":{type:"string"},_:{type:"string[]"}};var RT={host:{type:"string",cat:"o",args:"ip-address",description:g("host","The host name or IP address the server should listen to. If not set, defaults to 'localhost'.")},port:{type:"string",cat:"o",args:"port | port range",description:g("port","The port the server should listen to. If 0 is passed a random free port is picked. If a range in the format num-num is passed, a free port from the range (end inclusive) is selected.")},"socket-path":{type:"string",cat:"o",args:"path",description:g("socket-path","The path to a socket file for the server to listen to.")},"server-base-path":{type:"string",cat:"o",args:"path",description:g("server-base-path","The path under which the web UI and the code server is provided. Defaults to '/'.`")},"connection-token":{type:"string",cat:"o",args:"token",deprecates:["connectionToken"],description:g("connection-token","A secret that must be included with all requests.")},"connection-token-file":{type:"string",cat:"o",args:"path",deprecates:["connection-secret","connectionTokenFile"],description:g("connection-token-file","Path to a file that contains the connection token.")},"without-connection-token":{type:"boolean",cat:"o",description:g("without-connection-token","Run without a connection token. Only use this if the connection is secured by other means.")},"disable-websocket-compression":{type:"boolean"},"print-startup-performance":{type:"boolean"},"print-ip-address":{type:"boolean"},"accept-server-license-terms":{type:"boolean",cat:"o",description:g("acceptLicenseTerms","If set, the user accepts the server license terms and the server will be started without a user prompt.")},"server-data-dir":{type:"string",cat:"o",description:g("serverDataDir","Specifies the directory that server data is kept in.")},"telemetry-level":{type:"string",cat:"o",args:"level",description:g("telemetry-level","Sets the initial telemetry level. Valid levels are: 'off', 'crash', 'error' and 'all'. If not specified, the server will send telemetry until a client connects, it will then use the clients telemetry setting. Setting this to 'off' is equivalent to --disable-telemetry")},"user-data-dir":oe["user-data-dir"],"enable-smoke-test-driver":oe["enable-smoke-test-driver"],"disable-telemetry":oe["disable-telemetry"],"disable-workspace-trust":oe["disable-workspace-trust"],"file-watcher-polling":{type:"string",deprecates:["fileWatcherPolling"]},log:oe.log,logsPath:oe.logsPath,"force-disable-user-env":oe["force-disable-user-env"],folder:{type:"string",deprecationMessage:"No longer supported. Folder needs to be provided in the browser URL or with `default-folder`."},workspace:{type:"string",deprecationMessage:"No longer supported. Workspace needs to be provided in the browser URL or with `default-workspace`."},"default-folder":{type:"string",description:g("default-folder","The workspace folder to open when no input is specified in the browser URL. A relative or absolute path resolved against the current working directory.")},"default-workspace":{type:"string",description:g("default-workspace","The workspace to open when no input is specified in the browser URL. A relative or absolute path resolved against the current working directory.")},"enable-sync":{type:"boolean"},"github-auth":{type:"string"},"use-test-resolver":{type:"boolean"},"extensions-dir":oe["extensions-dir"],"extensions-download-dir":oe["extensions-download-dir"],"builtin-extensions-dir":oe["builtin-extensions-dir"],"install-extension":oe["install-extension"],"install-builtin-extension":oe["install-builtin-extension"],"update-extensions":oe["update-extensions"],"uninstall-extension":oe["uninstall-extension"],"list-extensions":oe["list-extensions"],"locate-extension":oe["locate-extension"],"show-versions":oe["show-versions"],category:oe.category,force:oe.force,"do-not-sync":oe["do-not-sync"],"pre-release":oe["pre-release"],"start-server":{type:"boolean",cat:"e",description:g("start-server","Start the server when installing or uninstalling extensions. To be used in combination with 'install-extension', 'install-builtin-extension' and 'uninstall-extension'.")},"enable-remote-auto-shutdown":{type:"boolean"},"remote-auto-shutdown-without-delay":{type:"boolean"},"use-host-proxy":{type:"boolean"},"without-browser-env-var":{type:"boolean"},help:oe.help,version:oe.version,"locate-shell-integration-path":oe["locate-shell-integration-path"],compatibility:{type:"string"},_:oe._},kT=Et,Yo=class extends Ei{get userRoamingDataHome(){return this.appSettingsHome}get args(){return super.args}};F([X],Yo.prototype,"userRoamingDataHome",1);function yl(t,e,n,r,i){let o=new Pn;return t.forEach(s=>{let l=o.get(s.identifier);l&&i.warn(g("overwritingExtension","Overwriting extension {0} with {1}.",l.extensionLocation.fsPath,s.extensionLocation.fsPath)),o.set(s.identifier,s)}),e.forEach(s=>{let l=o.get(s.identifier);if(l)if(l.isBuiltin){if(Ma(l.version,s.version)){i.warn(`Skipping extension ${s.extensionLocation.path} in favour of the builtin extension ${l.extensionLocation.path}.`);return}s.isBuiltin=!0}else i.warn(g("overwritingExtension","Overwriting extension {0} with {1}.",l.extensionLocation.fsPath,s.extensionLocation.fsPath));else if(s.isBuiltin){i.warn(`Skipping obsolete builtin extension ${s.extensionLocation.path}`);return}o.set(s.identifier,s)}),n.forEach(s=>{let l=o.get(s.identifier);l&&i.warn(g("overwritingWithWorkspaceExtension","Overwriting {0} with Workspace Extension {1}.",l.extensionLocation.fsPath,s.extensionLocation.fsPath)),o.set(s.identifier,s)}),r.forEach(s=>{i.info(g("extensionUnderDevelopment","Loading development extension at {0}",s.extensionLocation.fsPath));let l=o.get(s.identifier);l&&l.isBuiltin&&(s.isBuiltin=!0),o.set(s.identifier,s)}),Array.from(o.values())}var zT=V("IRemoteExtensionsScannerService");var Zo=class{data=new Map;add(e,n){Or(xe(e)),Or(lt(n)),Or(!this.data.has(e),"There is already an extension with this id"),this.data.set(e,n)}knows(e){return this.data.has(e)}as(e){return this.data.get(e)||null}},xl=new Zo;var gd={Quickaccess:"workbench.contributions.quickaccess"},es=class{providers=[];defaultProvider=void 0;registerQuickAccessProvider(e){return e.prefix.length===0?this.defaultProvider=e:this.providers.push(e),this.providers.sort((n,r)=>r.prefix.length-n.prefix.length),Le(()=>{this.providers.splice(this.providers.indexOf(e),1),this.defaultProvider===e&&(this.defaultProvider=void 0)})}getQuickAccessProviders(){return Zt([this.defaultProvider,...this.providers])}getQuickAccessProvider(e){return e&&this.providers.find(r=>e.startsWith(r.prefix))||void 0||this.defaultProvider}clear(){let e=[...this.providers],n=this.defaultProvider;return this.providers=[],this.defaultProvider=void 0,()=>{this.providers=e,this.defaultProvider=n}}};xl.add(gd.Quickaccess,new es);var aE=new $e(()=>{let t=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:t,collatorIsNumeric:t.resolvedOptions().numeric}}),lE=new $e(()=>({collator:new Intl.Collator(void 0,{numeric:!0})})),cE=new $e(()=>({collator:new Intl.Collator(void 0,{numeric:!0,sensitivity:"accent"})}));var EE=Object.freeze({score:0}),_E=1<<18,SE=1<<17;var dr=class{_keyCodeToStr;_strToKeyCode;constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(e,n){this._keyCodeToStr[e]=n,this._strToKeyCode[n.toLowerCase()]=e}keyCodeToStr(e){return this._keyCodeToStr[e]}strToKeyCode(e){return this._strToKeyCode[e.toLowerCase()]||0}},_i=new dr,ts=new dr,ns=new dr,hd=new Array(230),bd={},yd=[],xd=Object.create(null),vd=Object.create(null);var vl=[],rs=[];for(let t=0;t<=193;t++)vl[t]=-1;for(let t=0;t<=132;t++)rs[t]=-1;(function(){let t="",e=[[1,0,"None",0,"unknown",0,"VK_UNKNOWN",t,t],[1,1,"Hyper",0,t,0,t,t,t],[1,2,"Super",0,t,0,t,t,t],[1,3,"Fn",0,t,0,t,t,t],[1,4,"FnLock",0,t,0,t,t,t],[1,5,"Suspend",0,t,0,t,t,t],[1,6,"Resume",0,t,0,t,t,t],[1,7,"Turbo",0,t,0,t,t,t],[1,8,"Sleep",0,t,0,"VK_SLEEP",t,t],[1,9,"WakeUp",0,t,0,t,t,t],[0,10,"KeyA",31,"A",65,"VK_A",t,t],[0,11,"KeyB",32,"B",66,"VK_B",t,t],[0,12,"KeyC",33,"C",67,"VK_C",t,t],[0,13,"KeyD",34,"D",68,"VK_D",t,t],[0,14,"KeyE",35,"E",69,"VK_E",t,t],[0,15,"KeyF",36,"F",70,"VK_F",t,t],[0,16,"KeyG",37,"G",71,"VK_G",t,t],[0,17,"KeyH",38,"H",72,"VK_H",t,t],[0,18,"KeyI",39,"I",73,"VK_I",t,t],[0,19,"KeyJ",40,"J",74,"VK_J",t,t],[0,20,"KeyK",41,"K",75,"VK_K",t,t],[0,21,"KeyL",42,"L",76,"VK_L",t,t],[0,22,"KeyM",43,"M",77,"VK_M",t,t],[0,23,"KeyN",44,"N",78,"VK_N",t,t],[0,24,"KeyO",45,"O",79,"VK_O",t,t],[0,25,"KeyP",46,"P",80,"VK_P",t,t],[0,26,"KeyQ",47,"Q",81,"VK_Q",t,t],[0,27,"KeyR",48,"R",82,"VK_R",t,t],[0,28,"KeyS",49,"S",83,"VK_S",t,t],[0,29,"KeyT",50,"T",84,"VK_T",t,t],[0,30,"KeyU",51,"U",85,"VK_U",t,t],[0,31,"KeyV",52,"V",86,"VK_V",t,t],[0,32,"KeyW",53,"W",87,"VK_W",t,t],[0,33,"KeyX",54,"X",88,"VK_X",t,t],[0,34,"KeyY",55,"Y",89,"VK_Y",t,t],[0,35,"KeyZ",56,"Z",90,"VK_Z",t,t],[0,36,"Digit1",22,"1",49,"VK_1",t,t],[0,37,"Digit2",23,"2",50,"VK_2",t,t],[0,38,"Digit3",24,"3",51,"VK_3",t,t],[0,39,"Digit4",25,"4",52,"VK_4",t,t],[0,40,"Digit5",26,"5",53,"VK_5",t,t],[0,41,"Digit6",27,"6",54,"VK_6",t,t],[0,42,"Digit7",28,"7",55,"VK_7",t,t],[0,43,"Digit8",29,"8",56,"VK_8",t,t],[0,44,"Digit9",30,"9",57,"VK_9",t,t],[0,45,"Digit0",21,"0",48,"VK_0",t,t],[1,46,"Enter",3,"Enter",13,"VK_RETURN",t,t],[1,47,"Escape",9,"Escape",27,"VK_ESCAPE",t,t],[1,48,"Backspace",1,"Backspace",8,"VK_BACK",t,t],[1,49,"Tab",2,"Tab",9,"VK_TAB",t,t],[1,50,"Space",10,"Space",32,"VK_SPACE",t,t],[0,51,"Minus",88,"-",189,"VK_OEM_MINUS","-","OEM_MINUS"],[0,52,"Equal",86,"=",187,"VK_OEM_PLUS","=","OEM_PLUS"],[0,53,"BracketLeft",92,"[",219,"VK_OEM_4","[","OEM_4"],[0,54,"BracketRight",94,"]",221,"VK_OEM_6","]","OEM_6"],[0,55,"Backslash",93,"\\",220,"VK_OEM_5","\\","OEM_5"],[0,56,"IntlHash",0,t,0,t,t,t],[0,57,"Semicolon",85,";",186,"VK_OEM_1",";","OEM_1"],[0,58,"Quote",95,"'",222,"VK_OEM_7","'","OEM_7"],[0,59,"Backquote",91,"`",192,"VK_OEM_3","`","OEM_3"],[0,60,"Comma",87,",",188,"VK_OEM_COMMA",",","OEM_COMMA"],[0,61,"Period",89,".",190,"VK_OEM_PERIOD",".","OEM_PERIOD"],[0,62,"Slash",90,"/",191,"VK_OEM_2","/","OEM_2"],[1,63,"CapsLock",8,"CapsLock",20,"VK_CAPITAL",t,t],[1,64,"F1",59,"F1",112,"VK_F1",t,t],[1,65,"F2",60,"F2",113,"VK_F2",t,t],[1,66,"F3",61,"F3",114,"VK_F3",t,t],[1,67,"F4",62,"F4",115,"VK_F4",t,t],[1,68,"F5",63,"F5",116,"VK_F5",t,t],[1,69,"F6",64,"F6",117,"VK_F6",t,t],[1,70,"F7",65,"F7",118,"VK_F7",t,t],[1,71,"F8",66,"F8",119,"VK_F8",t,t],[1,72,"F9",67,"F9",120,"VK_F9",t,t],[1,73,"F10",68,"F10",121,"VK_F10",t,t],[1,74,"F11",69,"F11",122,"VK_F11",t,t],[1,75,"F12",70,"F12",123,"VK_F12",t,t],[1,76,"PrintScreen",0,t,0,t,t,t],[1,77,"ScrollLock",84,"ScrollLock",145,"VK_SCROLL",t,t],[1,78,"Pause",7,"PauseBreak",19,"VK_PAUSE",t,t],[1,79,"Insert",19,"Insert",45,"VK_INSERT",t,t],[1,80,"Home",14,"Home",36,"VK_HOME",t,t],[1,81,"PageUp",11,"PageUp",33,"VK_PRIOR",t,t],[1,82,"Delete",20,"Delete",46,"VK_DELETE",t,t],[1,83,"End",13,"End",35,"VK_END",t,t],[1,84,"PageDown",12,"PageDown",34,"VK_NEXT",t,t],[1,85,"ArrowRight",17,"RightArrow",39,"VK_RIGHT","Right",t],[1,86,"ArrowLeft",15,"LeftArrow",37,"VK_LEFT","Left",t],[1,87,"ArrowDown",18,"DownArrow",40,"VK_DOWN","Down",t],[1,88,"ArrowUp",16,"UpArrow",38,"VK_UP","Up",t],[1,89,"NumLock",83,"NumLock",144,"VK_NUMLOCK",t,t],[1,90,"NumpadDivide",113,"NumPad_Divide",111,"VK_DIVIDE",t,t],[1,91,"NumpadMultiply",108,"NumPad_Multiply",106,"VK_MULTIPLY",t,t],[1,92,"NumpadSubtract",111,"NumPad_Subtract",109,"VK_SUBTRACT",t,t],[1,93,"NumpadAdd",109,"NumPad_Add",107,"VK_ADD",t,t],[1,94,"NumpadEnter",3,t,0,t,t,t],[1,95,"Numpad1",99,"NumPad1",97,"VK_NUMPAD1",t,t],[1,96,"Numpad2",100,"NumPad2",98,"VK_NUMPAD2",t,t],[1,97,"Numpad3",101,"NumPad3",99,"VK_NUMPAD3",t,t],[1,98,"Numpad4",102,"NumPad4",100,"VK_NUMPAD4",t,t],[1,99,"Numpad5",103,"NumPad5",101,"VK_NUMPAD5",t,t],[1,100,"Numpad6",104,"NumPad6",102,"VK_NUMPAD6",t,t],[1,101,"Numpad7",105,"NumPad7",103,"VK_NUMPAD7",t,t],[1,102,"Numpad8",106,"NumPad8",104,"VK_NUMPAD8",t,t],[1,103,"Numpad9",107,"NumPad9",105,"VK_NUMPAD9",t,t],[1,104,"Numpad0",98,"NumPad0",96,"VK_NUMPAD0",t,t],[1,105,"NumpadDecimal",112,"NumPad_Decimal",110,"VK_DECIMAL",t,t],[0,106,"IntlBackslash",97,"OEM_102",226,"VK_OEM_102",t,t],[1,107,"ContextMenu",58,"ContextMenu",93,t,t,t],[1,108,"Power",0,t,0,t,t,t],[1,109,"NumpadEqual",0,t,0,t,t,t],[1,110,"F13",71,"F13",124,"VK_F13",t,t],[1,111,"F14",72,"F14",125,"VK_F14",t,t],[1,112,"F15",73,"F15",126,"VK_F15",t,t],[1,113,"F16",74,"F16",127,"VK_F16",t,t],[1,114,"F17",75,"F17",128,"VK_F17",t,t],[1,115,"F18",76,"F18",129,"VK_F18",t,t],[1,116,"F19",77,"F19",130,"VK_F19",t,t],[1,117,"F20",78,"F20",131,"VK_F20",t,t],[1,118,"F21",79,"F21",132,"VK_F21",t,t],[1,119,"F22",80,"F22",133,"VK_F22",t,t],[1,120,"F23",81,"F23",134,"VK_F23",t,t],[1,121,"F24",82,"F24",135,"VK_F24",t,t],[1,122,"Open",0,t,0,t,t,t],[1,123,"Help",0,t,0,t,t,t],[1,124,"Select",0,t,0,t,t,t],[1,125,"Again",0,t,0,t,t,t],[1,126,"Undo",0,t,0,t,t,t],[1,127,"Cut",0,t,0,t,t,t],[1,128,"Copy",0,t,0,t,t,t],[1,129,"Paste",0,t,0,t,t,t],[1,130,"Find",0,t,0,t,t,t],[1,131,"AudioVolumeMute",117,"AudioVolumeMute",173,"VK_VOLUME_MUTE",t,t],[1,132,"AudioVolumeUp",118,"AudioVolumeUp",175,"VK_VOLUME_UP",t,t],[1,133,"AudioVolumeDown",119,"AudioVolumeDown",174,"VK_VOLUME_DOWN",t,t],[1,134,"NumpadComma",110,"NumPad_Separator",108,"VK_SEPARATOR",t,t],[0,135,"IntlRo",115,"ABNT_C1",193,"VK_ABNT_C1",t,t],[1,136,"KanaMode",0,t,0,t,t,t],[0,137,"IntlYen",0,t,0,t,t,t],[1,138,"Convert",0,t,0,t,t,t],[1,139,"NonConvert",0,t,0,t,t,t],[1,140,"Lang1",0,t,0,t,t,t],[1,141,"Lang2",0,t,0,t,t,t],[1,142,"Lang3",0,t,0,t,t,t],[1,143,"Lang4",0,t,0,t,t,t],[1,144,"Lang5",0,t,0,t,t,t],[1,145,"Abort",0,t,0,t,t,t],[1,146,"Props",0,t,0,t,t,t],[1,147,"NumpadParenLeft",0,t,0,t,t,t],[1,148,"NumpadParenRight",0,t,0,t,t,t],[1,149,"NumpadBackspace",0,t,0,t,t,t],[1,150,"NumpadMemoryStore",0,t,0,t,t,t],[1,151,"NumpadMemoryRecall",0,t,0,t,t,t],[1,152,"NumpadMemoryClear",0,t,0,t,t,t],[1,153,"NumpadMemoryAdd",0,t,0,t,t,t],[1,154,"NumpadMemorySubtract",0,t,0,t,t,t],[1,155,"NumpadClear",131,"Clear",12,"VK_CLEAR",t,t],[1,156,"NumpadClearEntry",0,t,0,t,t,t],[1,0,t,5,"Ctrl",17,"VK_CONTROL",t,t],[1,0,t,4,"Shift",16,"VK_SHIFT",t,t],[1,0,t,6,"Alt",18,"VK_MENU",t,t],[1,0,t,57,"Meta",91,"VK_COMMAND",t,t],[1,157,"ControlLeft",5,t,0,"VK_LCONTROL",t,t],[1,158,"ShiftLeft",4,t,0,"VK_LSHIFT",t,t],[1,159,"AltLeft",6,t,0,"VK_LMENU",t,t],[1,160,"MetaLeft",57,t,0,"VK_LWIN",t,t],[1,161,"ControlRight",5,t,0,"VK_RCONTROL",t,t],[1,162,"ShiftRight",4,t,0,"VK_RSHIFT",t,t],[1,163,"AltRight",6,t,0,"VK_RMENU",t,t],[1,164,"MetaRight",57,t,0,"VK_RWIN",t,t],[1,165,"BrightnessUp",0,t,0,t,t,t],[1,166,"BrightnessDown",0,t,0,t,t,t],[1,167,"MediaPlay",0,t,0,t,t,t],[1,168,"MediaRecord",0,t,0,t,t,t],[1,169,"MediaFastForward",0,t,0,t,t,t],[1,170,"MediaRewind",0,t,0,t,t,t],[1,171,"MediaTrackNext",124,"MediaTrackNext",176,"VK_MEDIA_NEXT_TRACK",t,t],[1,172,"MediaTrackPrevious",125,"MediaTrackPrevious",177,"VK_MEDIA_PREV_TRACK",t,t],[1,173,"MediaStop",126,"MediaStop",178,"VK_MEDIA_STOP",t,t],[1,174,"Eject",0,t,0,t,t,t],[1,175,"MediaPlayPause",127,"MediaPlayPause",179,"VK_MEDIA_PLAY_PAUSE",t,t],[1,176,"MediaSelect",128,"LaunchMediaPlayer",181,"VK_MEDIA_LAUNCH_MEDIA_SELECT",t,t],[1,177,"LaunchMail",129,"LaunchMail",180,"VK_MEDIA_LAUNCH_MAIL",t,t],[1,178,"LaunchApp2",130,"LaunchApp2",183,"VK_MEDIA_LAUNCH_APP2",t,t],[1,179,"LaunchApp1",0,t,0,"VK_MEDIA_LAUNCH_APP1",t,t],[1,180,"SelectTask",0,t,0,t,t,t],[1,181,"LaunchScreenSaver",0,t,0,t,t,t],[1,182,"BrowserSearch",120,"BrowserSearch",170,"VK_BROWSER_SEARCH",t,t],[1,183,"BrowserHome",121,"BrowserHome",172,"VK_BROWSER_HOME",t,t],[1,184,"BrowserBack",122,"BrowserBack",166,"VK_BROWSER_BACK",t,t],[1,185,"BrowserForward",123,"BrowserForward",167,"VK_BROWSER_FORWARD",t,t],[1,186,"BrowserStop",0,t,0,"VK_BROWSER_STOP",t,t],[1,187,"BrowserRefresh",0,t,0,"VK_BROWSER_REFRESH",t,t],[1,188,"BrowserFavorites",0,t,0,"VK_BROWSER_FAVORITES",t,t],[1,189,"ZoomToggle",0,t,0,t,t,t],[1,190,"MailReply",0,t,0,t,t,t],[1,191,"MailForward",0,t,0,t,t,t],[1,192,"MailSend",0,t,0,t,t,t],[1,0,t,114,"KeyInComposition",229,t,t,t],[1,0,t,116,"ABNT_C2",194,"VK_ABNT_C2",t,t],[1,0,t,96,"OEM_8",223,"VK_OEM_8",t,t],[1,0,t,0,t,0,"VK_KANA",t,t],[1,0,t,0,t,0,"VK_HANGUL",t,t],[1,0,t,0,t,0,"VK_JUNJA",t,t],[1,0,t,0,t,0,"VK_FINAL",t,t],[1,0,t,0,t,0,"VK_HANJA",t,t],[1,0,t,0,t,0,"VK_KANJI",t,t],[1,0,t,0,t,0,"VK_CONVERT",t,t],[1,0,t,0,t,0,"VK_NONCONVERT",t,t],[1,0,t,0,t,0,"VK_ACCEPT",t,t],[1,0,t,0,t,0,"VK_MODECHANGE",t,t],[1,0,t,0,t,0,"VK_SELECT",t,t],[1,0,t,0,t,0,"VK_PRINT",t,t],[1,0,t,0,t,0,"VK_EXECUTE",t,t],[1,0,t,0,t,0,"VK_SNAPSHOT",t,t],[1,0,t,0,t,0,"VK_HELP",t,t],[1,0,t,0,t,0,"VK_APPS",t,t],[1,0,t,0,t,0,"VK_PROCESSKEY",t,t],[1,0,t,0,t,0,"VK_PACKET",t,t],[1,0,t,0,t,0,"VK_DBE_SBCSCHAR",t,t],[1,0,t,0,t,0,"VK_DBE_DBCSCHAR",t,t],[1,0,t,0,t,0,"VK_ATTN",t,t],[1,0,t,0,t,0,"VK_CRSEL",t,t],[1,0,t,0,t,0,"VK_EXSEL",t,t],[1,0,t,0,t,0,"VK_EREOF",t,t],[1,0,t,0,t,0,"VK_PLAY",t,t],[1,0,t,0,t,0,"VK_ZOOM",t,t],[1,0,t,0,t,0,"VK_NONAME",t,t],[1,0,t,0,t,0,"VK_PA1",t,t],[1,0,t,0,t,0,"VK_OEM_CLEAR",t,t]],n=[],r=[];for(let i of e){let[o,s,l,c,u,d,f,m,v]=i;if(r[s]||(r[s]=!0,yd[s]=l,xd[l]=s,vd[l.toLowerCase()]=s,o&&(vl[s]=c,c!==0&&c!==3&&c!==5&&c!==4&&c!==6&&c!==57&&(rs[c]=s))),!n[c]){if(n[c]=!0,!u)throw new Error(`String representation missing for key code ${c} around scan code ${l}`);_i.define(c,u),ts.define(c,m||u),ns.define(c,v||m||u)}d&&(hd[d]=c),f&&(bd[f]=c)}rs[3]=46})();var Id;(s=>{function t(l){return _i.keyCodeToStr(l)}s.toString=t;function e(l){return _i.strToKeyCode(l)}s.fromString=e;function n(l){return ts.keyCodeToStr(l)}s.toUserSettingsUS=n;function r(l){return ns.keyCodeToStr(l)}s.toUserSettingsGeneral=r;function i(l){return ts.strToKeyCode(l)||ns.strToKeyCode(l)}s.fromUserSettings=i;function o(l){if(l>=98&&l<=113)return null;switch(l){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return _i.keyCodeToStr(l)}s.toElectronAccelerator=o})(Id||={});var is=class{constructor(e){this.options=e}getItemLabel(e){return e.label}getItemDescription(e){if(!this.options?.skipDescription)return e.description}getItemPath(e){if(!this.options?.skipPath)return e.resource?.scheme===ne.file?e.resource.fsPath:e.resource?.path}},r7=new is,i7=V("quickInputService");function Td(t){return t.tags.find(e=>e.startsWith("lp-"))?.split("lp-")[1]}var b7=V("languagePackService"),Si=class extends ye{constructor(n){super();this.extensionGalleryService=n}async getAvailableLanguages(){let n=new at;setTimeout(()=>n.cancel(),1e3);let r;try{r=await this.extensionGalleryService.query({text:'category:"language packs"',pageSize:20},n.token)}catch{return[]}let o=r.firstPage.filter(s=>s.properties.localizedLanguages?.length&&s.tags.some(l=>l.startsWith("lp-"))).map(s=>{let l=s.properties.localizedLanguages?.[0],c=Td(s);return{...this.createQuickPickItem(c,l,s),extensionId:s.identifier.id,galleryExtension:s}});return o.push(this.createQuickPickItem("en","English")),o}createQuickPickItem(n,r,i){let o=r??n,s;if(o!==n&&(s=`(${n})`),n.toLowerCase()===Fe.toLowerCase()&&(s??="",s+=g("currentDisplayLanguage"," (Current)")),i?.installCount){s??="";let l=i.installCount,c;l>1e6?c=`${Math.floor(l/1e5)/10}M`:l>1e3?c=`${Math.floor(l/1e3)}K`:c=String(l),s+=` $(cloud-download) ${c}`}return{id:n,label:o,description:s}}};Si=F([H(0,oi)],Si);var Il=class{constructor(e,n,r,i,o,s,l){this._extensionManagementCLI=e;this._userDataProfilesService=r;this._extensionsScannerService=i;this._logService=o;this._extensionGalleryService=s;this._languagePackService=l;let c=n.args["install-builtin-extension"];if(c){o.trace("Installing builtin extensions passed via args...");let d={isMachineScoped:!!n.args["do-not-sync"],installPreReleaseVersion:!!n.args["pre-release"]};Vn("code/server/willInstallBuiltinExtensions"),this._whenExtensionsReady=this._whenBuiltinExtensionsReady=e.installExtensions([],this._asExtensionIdOrVSIX(c),d,!!n.args.force).then(()=>{Vn("code/server/didInstallBuiltinExtensions"),o.trace("Finished installing builtin extensions")},f=>{o.error(f)})}let u=n.args["install-extension"];u&&(o.trace("Installing extensions passed via args..."),this._whenExtensionsReady=this._whenBuiltinExtensionsReady.then(()=>e.installExtensions(this._asExtensionIdOrVSIX(u),[],{isMachineScoped:!!n.args["do-not-sync"],installPreReleaseVersion:!!n.args["pre-release"],isApplicationScoped:!0},!!n.args.force)).then(()=>{o.trace("Finished installing extensions")},d=>{o.error(d)}))}_serviceBrand;_whenBuiltinExtensionsReady=Promise.resolve();_whenExtensionsReady=Promise.resolve();_asExtensionIdOrVSIX(e){return e.map(n=>/\.vsix$/i.test(n)?w.file(Ki(n)?n:Pe(Yt(),n)):n)}whenExtensionsReady(){return this._whenExtensionsReady}async scanExtensions(e,n,r,i,o){Vn("code/server/willScanExtensions"),this._logService.trace(`Scanning extensions using UI language: ${e}`),await this._whenBuiltinExtensionsReady;let s=i?i.filter(c=>c.scheme===ne.file).map(c=>c.fsPath):void 0;n=n??this._userDataProfilesService.defaultProfile.extensionsResource;let l=await this._scanExtensions(n,e??Fe,r,s,o);return this._logService.trace("Scanned Extensions",l),this._massageWhenConditions(l),Vn("code/server/didScanExtensions"),l}async _scanExtensions(e,n,r,i,o){await this._ensureLanguagePackIsInstalled(n,o);let[s,l,c,u]=await Promise.all([this._scanBuiltinExtensions(n),this._scanInstalledExtensions(e,n),this._scanWorkspaceInstalledExtensions(n,r),this._scanDevelopedExtensions(n,i)]);return yl(s,l,c,u,this._logService)}async _scanDevelopedExtensions(e,n){return n?(await Promise.all(n.map(r=>this._extensionsScannerService.scanOneOrMultipleExtensions(w.file(Lt(r)),1,{language:e})))).flat().map(r=>ur(r,!0)):[]}async _scanWorkspaceInstalledExtensions(e,n){let r=[];if(n?.length){let i=await Promise.all(n.map(o=>this._extensionsScannerService.scanExistingExtension(o,1,{language:e})));for(let o of i)o&&r.push(ur(o,!1))}return r}async _scanBuiltinExtensions(e){return(await this._extensionsScannerService.scanSystemExtensions({language:e,useCache:!0})).map(r=>ur(r,!1))}async _scanInstalledExtensions(e,n){return(await this._extensionsScannerService.scanUserExtensions({profileLocation:e,language:n,useCache:!0})).map(i=>ur(i,!1))}async _ensureLanguagePackIsInstalled(e,n){if(!(e===Rt||!this._extensionGalleryService.isEnabled())){try{if((await this._languagePackService.getInstalledLanguages()).find(i=>i.id===e)){this._logService.trace(`Language Pack ${e} is already installed. Skipping language pack installation.`);return}}catch(r){this._logService.error(r)}if(!n){this._logService.trace(`No language pack id provided for language ${e}. Skipping language pack installation.`);return}this._logService.trace(`Language Pack ${n} for language ${e} is not installed. It will be installed now.`);try{await this._extensionManagementCLI.installExtensions([n],[],{isMachineScoped:!0},!0)}catch(r){this._logService.error(r)}}}_massageWhenConditions(e){let n=(c,u)=>c.replace(/file/g,"vscode-remote"),r=c=>{let u="";return u+=c.global?"g":"",u+=c.ignoreCase?"i":"",u+=c.multiline?"m":"",new RegExp(n(c.source,!0),u)},i=new class{mapDefined(c){return It.create(c)}mapNot(c){return Tt.create(c)}mapEquals(c,u){return c==="resourceScheme"&&typeof u=="string"?Wt.create(c,n(u,!1)):Wt.create(c,u)}mapNotEquals(c,u){return c==="resourceScheme"&&typeof u=="string"?zt.create(c,n(u,!1)):zt.create(c,u)}mapGreater(c,u){return on.create(c,u)}mapGreaterEquals(c,u){return sn.create(c,u)}mapSmaller(c,u){return an.create(c,u)}mapSmallerEquals(c,u){return ln.create(c,u)}mapRegex(c,u){return c==="resourceScheme"&&u?qt.create(c,r(u)):qt.create(c,u)}mapIn(c,u){return Sn.create(c,u)}mapNotIn(c,u){return wn.create(c,u)}},o=c=>{if(!c||!c.when||!/resourceScheme/.test(c.when))return;let u=ve.deserialize(c.when);if(!u)return;let d=u.map(i);c.when=d.serialize()},s=c=>{if(Array.isArray(c))for(let u of c)o(u);else o(c)},l=c=>{for(let u in c)s(c[u])};e.forEach(c=>{c.contributes&&(c.contributes.menus&&l(c.contributes.menus),c.contributes.keybindings&&s(c.contributes.keybindings),c.contributes.views&&l(c.contributes.views))})}},Tl=class{constructor(e,n){this.service=e;this.getUriTransformer=n}listen(e,n){throw new Error("Invalid listen")}async call(e,n,r){let i=this.getUriTransformer(e);switch(n){case"whenExtensionsReady":return this.service.whenExtensionsReady();case"scanExtensions":{let o=r[0],s=r[1]?w.revive(i.transformIncoming(r[1])):void 0,l=Array.isArray(r[2])?r[2].map(f=>w.revive(i.transformIncoming(f))):void 0,c=Array.isArray(r[3])?r[3].map(f=>w.revive(i.transformIncoming(f))):void 0,u=r[4];return(await this.service.scanExtensions(o,s,l,c,u)).map(f=>ea(f,i))}}throw new Error("Invalid call")}};export{Tl as RemoteExtensionsScannerChannel,Il as RemoteExtensionsScannerService};
