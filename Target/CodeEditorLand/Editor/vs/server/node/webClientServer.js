var us=Object.create;var tr=Object.defineProperty;var di=Object.getOwnPropertyDescriptor;var cs=Object.getOwnPropertyNames;var ds=Object.getPrototypeOf,ps=Object.prototype.hasOwnProperty;var pi=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var fs=(n,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of cs(e))!ps.call(n,i)&&i!==t&&tr(n,i,{get:()=>e[i],enumerable:!(r=di(e,i))||r.enumerable});return n};var nr=(n,e,t)=>(t=n!=null?us(ds(n)):{},fs(e||!n||!n.__esModule?tr(t,"default",{value:n,enumerable:!0}):t,n));var C=(n,e,t,r)=>{for(var i=r>1?void 0:r?di(e,t):e,s=n.length-1,a;s>=0;s--)(a=n[s])&&(i=(r?a(e,t,i):a(i))||i);return r&&i&&tr(e,t,i),i},we=(n,e)=>(t,r)=>e(t,r,n);var ir=pi(rr=>{"use strict";rr.parse=ms;rr.serialize=bs;var gs=decodeURIComponent,hs=encodeURIComponent,an=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function ms(n,e){if(typeof n!="string")throw new TypeError("argument str must be a string");for(var t={},r=e||{},i=n.split(";"),s=r.decode||gs,a=0;a<i.length;a++){var l=i[a],u=l.indexOf("=");if(!(u<0)){var c=l.substring(0,u).trim();if(t[c]==null){var d=l.substring(u+1,l.length).trim();d[0]==='"'&&(d=d.slice(1,-1)),t[c]=ys(d,s)}}}return t}function bs(n,e,t){var r=t||{},i=r.encode||hs;if(typeof i!="function")throw new TypeError("option encode is invalid");if(!an.test(n))throw new TypeError("argument name is invalid");var s=i(e);if(s&&!an.test(s))throw new TypeError("argument val is invalid");var a=n+"="+s;if(r.maxAge!=null){var l=r.maxAge-0;if(isNaN(l)||!isFinite(l))throw new TypeError("option maxAge is invalid");a+="; Max-Age="+Math.floor(l)}if(r.domain){if(!an.test(r.domain))throw new TypeError("option domain is invalid");a+="; Domain="+r.domain}if(r.path){if(!an.test(r.path))throw new TypeError("option path is invalid");a+="; Path="+r.path}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");a+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(a+="; HttpOnly"),r.secure&&(a+="; Secure"),r.sameSite){var u=typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite;switch(u){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return a}function ys(n,e){try{return e(n)}catch{return n}}});var Mo=pi((Mh,Ko)=>{"use strict";function dl(n,e){var t=n;e.slice(0,-1).forEach(function(i){t=t[i]||{}});var r=e[e.length-1];return r in t}function No(n){return typeof n=="number"||/^0x[0-9a-f]+$/i.test(n)?!0:/^[-+]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(n)}function Fo(n,e){return e==="constructor"&&typeof n[e]=="function"||e==="__proto__"}Ko.exports=function(n,e){e||(e={});var t={bools:{},strings:{},unknownFn:null};typeof e.unknown=="function"&&(t.unknownFn=e.unknown),typeof e.boolean=="boolean"&&e.boolean?t.allBools=!0:[].concat(e.boolean).filter(Boolean).forEach(function(h){t.bools[h]=!0});var r={};function i(h){return r[h].some(function(T){return t.bools[T]})}Object.keys(e.alias||{}).forEach(function(h){r[h]=[].concat(e.alias[h]),r[h].forEach(function(T){r[T]=[h].concat(r[h].filter(function(O){return T!==O}))})}),[].concat(e.string).filter(Boolean).forEach(function(h){t.strings[h]=!0,r[h]&&[].concat(r[h]).forEach(function(T){t.strings[T]=!0})});var s=e.default||{},a={_:[]};function l(h,T){return t.allBools&&/^--[^=]+$/.test(T)||t.strings[h]||t.bools[h]||r[h]}function u(h,T,O){for(var E=h,F=0;F<T.length-1;F++){var q=T[F];if(Fo(E,q))return;E[q]===void 0&&(E[q]={}),(E[q]===Object.prototype||E[q]===Number.prototype||E[q]===String.prototype)&&(E[q]={}),E[q]===Array.prototype&&(E[q]=[]),E=E[q]}var ie=T[T.length-1];Fo(E,ie)||((E===Object.prototype||E===Number.prototype||E===String.prototype)&&(E={}),E===Array.prototype&&(E=[]),E[ie]===void 0||t.bools[ie]||typeof E[ie]=="boolean"?E[ie]=O:Array.isArray(E[ie])?E[ie].push(O):E[ie]=[E[ie],O])}function c(h,T,O){if(!(O&&t.unknownFn&&!l(h,O)&&t.unknownFn(O)===!1)){var E=!t.strings[h]&&No(T)?Number(T):T;u(a,h.split("."),E),(r[h]||[]).forEach(function(F){u(a,F.split("."),E)})}}Object.keys(t.bools).forEach(function(h){c(h,s[h]===void 0?!1:s[h])});var d=[];n.indexOf("--")!==-1&&(d=n.slice(n.indexOf("--")+1),n=n.slice(0,n.indexOf("--")));for(var p=0;p<n.length;p++){var f=n[p],x,k;if(/^--.+=/.test(f)){var B=f.match(/^--([^=]+)=([\s\S]*)$/);x=B[1];var N=B[2];t.bools[x]&&(N=N!=="false"),c(x,N,f)}else if(/^--no-.+/.test(f))x=f.match(/^--no-(.+)/)[1],c(x,!1,f);else if(/^--.+/.test(f))x=f.match(/^--(.+)/)[1],k=n[p+1],k!==void 0&&!/^(-|--)[^-]/.test(k)&&!t.bools[x]&&!t.allBools&&(!r[x]||!i(x))?(c(x,k,f),p+=1):/^(true|false)$/.test(k)?(c(x,k==="true",f),p+=1):c(x,t.strings[x]?"":!0,f);else if(/^-[^-]+/.test(f)){for(var P=f.slice(1,-1).split(""),Q=!1,M=0;M<P.length;M++){if(k=f.slice(M+2),k==="-"){c(P[M],k,f);continue}if(/[A-Za-z]/.test(P[M])&&k[0]==="="){c(P[M],k.slice(1),f),Q=!0;break}if(/[A-Za-z]/.test(P[M])&&/-?\d+(\.\d*)?(e-?\d+)?$/.test(k)){c(P[M],k,f),Q=!0;break}if(P[M+1]&&P[M+1].match(/\W/)){c(P[M],f.slice(M+2),f),Q=!0;break}else c(P[M],t.strings[P[M]]?"":!0,f)}x=f.slice(-1)[0],!Q&&x!=="-"&&(n[p+1]&&!/^(-|--)[^-]/.test(n[p+1])&&!t.bools[x]&&(!r[x]||!i(x))?(c(x,n[p+1],f),p+=1):n[p+1]&&/^(true|false)$/.test(n[p+1])?(c(x,n[p+1]==="true",f),p+=1):c(x,t.strings[x]?"":!0,f))}else if((!t.unknownFn||t.unknownFn(f)!==!1)&&a._.push(t.strings._||!No(f)?f:Number(f)),e.stopEarly){a._.push.apply(a._,n.slice(p+1));break}}return Object.keys(s).forEach(function(h){dl(a,h.split("."))||(u(a,h.split("."),s[h]),(r[h]||[]).forEach(function(T){u(a,T.split("."),s[h])}))}),e["--"]?a["--"]=d.slice():d.forEach(function(h){a._.push(h)}),a}});import{createReadStream as ru,promises as nn}from"fs";import*as ns from"path";var rn=nr(ir());import*as rs from"url";import*as is from"crypto";function or(){return globalThis._VSCODE_NLS_MESSAGES}function wt(){return globalThis._VSCODE_NLS_LANGUAGE}var vs=wt()==="pseudo"||typeof document<"u"&&document.location&&document.location.hash.indexOf("pseudo=true")>=0;function ln(n,e){let t;return e.length===0?t=n:t=n.replace(/\{(\d+)\}/g,(r,i)=>{let s=i[0],a=e[s],l=r;return typeof a=="string"?l=a:(typeof a=="number"||typeof a=="boolean"||a===void 0||a===null)&&(l=String(a)),l}),vs&&(t="\uFF3B"+t.replace(/[aouei]/g,"$&$&")+"\uFF3D"),t}function g(n,e,...t){return ln(typeof n=="number"?fi(n,e):e,t)}function fi(n,e){let t=or()?.[n];if(typeof t!="string"){if(typeof e=="string")return e;throw new Error(`!!! NLS MISSING: ${n} !!!`)}return t}function je(n,e,...t){let r;typeof n=="number"?r=fi(n,e):r=e;let i=ln(r,t);return{value:i,original:e===r?i:ln(e,t)}}var at="en",dn=!1,pn=!1,St=!1,xs=!1,hi=!1,ar=!1,Ts=!1,Is=!1,_s=!1,Es=!1,un,cn=at,gi=at,ws,Se,ke=globalThis,ce;typeof ke.vscode<"u"&&typeof ke.vscode.process<"u"?ce=ke.vscode.process:typeof process<"u"&&typeof process?.versions?.node=="string"&&(ce=process);var mi=typeof ce?.versions?.electron=="string",Ss=mi&&ce?.type==="renderer";if(typeof ce=="object"){dn=ce.platform==="win32",pn=ce.platform==="darwin",St=ce.platform==="linux",xs=St&&!!ce.env.SNAP&&!!ce.env.SNAP_REVISION,Ts=mi,_s=!!ce.env.CI||!!ce.env.BUILD_ARTIFACTSTAGINGDIRECTORY,un=at,cn=at;let n=ce.env.VSCODE_NLS_CONFIG;if(n)try{let e=JSON.parse(n);un=e.userLocale,gi=e.osLocale,cn=e.resolvedLanguage||at,ws=e.languagePack?.translationsConfigFile}catch{}hi=!0}else typeof navigator=="object"&&!Ss?(Se=navigator.userAgent,dn=Se.indexOf("Windows")>=0,pn=Se.indexOf("Macintosh")>=0,Is=(Se.indexOf("Macintosh")>=0||Se.indexOf("iPad")>=0||Se.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,St=Se.indexOf("Linux")>=0,Es=Se?.indexOf("Mobi")>=0,ar=!0,cn=wt()||at,un=navigator.language.toLowerCase(),gi=un):console.error("Unable to resolve platform.");var sr=0;pn?sr=1:dn?sr=3:St&&(sr=2);var Z=dn,Le=pn,Pe=St;var bi=hi;var kt=ar,ks=ar&&typeof ke.importScripts=="function",yi=ks?ke.origin:void 0;var ye=Se,Ae=cn,Rs;(r=>{function n(){return Ae}r.value=n;function e(){return Ae.length===2?Ae==="en":Ae.length>=3?Ae[0]==="e"&&Ae[1]==="n"&&Ae[2]==="-":!1}r.isDefaultVariant=e;function t(){return Ae==="en"}r.isDefault=t})(Rs||={});var Ds=typeof ke.postMessage=="function"&&!ke.importScripts,vi=(()=>{if(Ds){let n=[];ke.addEventListener("message",t=>{if(t.data&&t.data.vscodeScheduleAsyncWork)for(let r=0,i=n.length;r<i;r++){let s=n[r];if(s.id===t.data.vscodeScheduleAsyncWork){n.splice(r,1),s.callback();return}}});let e=0;return t=>{let r=++e;n.push({id:r,callback:t}),ke.postMessage({vscodeScheduleAsyncWork:r},"*")}}return n=>setTimeout(n)})();var lr=!!(ye&&ye.indexOf("Chrome")>=0),xi=!!(ye&&ye.indexOf("Firefox")>=0),Ti=!!(!lr&&ye&&ye.indexOf("Safari")>=0),Ii=!!(ye&&ye.indexOf("Edg/")>=0),fu=!!(ye&&ye.indexOf("Android")>=0);var He,ur=globalThis.vscode;if(typeof ur<"u"&&typeof ur.process<"u"){let n=ur.process;He={get platform(){return n.platform},get arch(){return n.arch},get env(){return n.env},cwd(){return n.cwd()}}}else typeof process<"u"&&typeof process?.versions?.node=="string"?He={get platform(){return process.platform},get arch(){return process.arch},get env(){return process.env},cwd(){return process.env.VSCODE_CWD||process.cwd()}}:He={get platform(){return Z?"win32":Le?"darwin":"linux"},get arch(){},get env(){return{}},cwd(){return"/"}};var Rt=He.cwd,Ue=He.env,_i=He.platform,mu=He.arch;var As=65,Ls=97,Ps=90,Us=122,Ke=46,ne=47,le=92,Ne=58,Ns=63,fn=class extends Error{code;constructor(e,t,r){let i;typeof t=="string"&&t.indexOf("not ")===0?(i="must not be",t=t.replace(/^not /,"")):i="must be";let s=e.indexOf(".")!==-1?"property":"argument",a=`The "${e}" ${s} ${i} of type ${t}`;a+=`. Received type ${typeof r}`,super(a),this.code="ERR_INVALID_ARG_TYPE"}};function Fs(n,e){if(n===null||typeof n!="object")throw new fn(e,"Object",n)}function X(n,e){if(typeof n!="string")throw new fn(e,"string",n)}var ue=_i==="win32";function D(n){return n===ne||n===le}function cr(n){return n===ne}function Fe(n){return n>=As&&n<=Ps||n>=Ls&&n<=Us}function gn(n,e,t,r){let i="",s=0,a=-1,l=0,u=0;for(let c=0;c<=n.length;++c){if(c<n.length)u=n.charCodeAt(c);else{if(r(u))break;u=ne}if(r(u)){if(!(a===c-1||l===1))if(l===2){if(i.length<2||s!==2||i.charCodeAt(i.length-1)!==Ke||i.charCodeAt(i.length-2)!==Ke){if(i.length>2){let d=i.lastIndexOf(t);d===-1?(i="",s=0):(i=i.slice(0,d),s=i.length-1-i.lastIndexOf(t)),a=c,l=0;continue}else if(i.length!==0){i="",s=0,a=c,l=0;continue}}e&&(i+=i.length>0?`${t}..`:"..",s=2)}else i.length>0?i+=`${t}${n.slice(a+1,c)}`:i=n.slice(a+1,c),s=c-a-1;a=c,l=0}else u===Ke&&l!==-1?++l:l=-1}return i}function Ks(n){return n?`${n[0]==="."?"":"."}${n}`:""}function Ei(n,e){Fs(e,"pathObject");let t=e.dir||e.root,r=e.base||`${e.name||""}${Ks(e.ext)}`;return t?t===e.root?`${t}${r}`:`${t}${n}${r}`:r}var Y={resolve(...n){let e="",t="",r=!1;for(let i=n.length-1;i>=-1;i--){let s;if(i>=0){if(s=n[i],X(s,`paths[${i}]`),s.length===0)continue}else e.length===0?s=Rt():(s=Ue[`=${e}`]||Rt(),(s===void 0||s.slice(0,2).toLowerCase()!==e.toLowerCase()&&s.charCodeAt(2)===le)&&(s=`${e}\\`));let a=s.length,l=0,u="",c=!1,d=s.charCodeAt(0);if(a===1)D(d)&&(l=1,c=!0);else if(D(d))if(c=!0,D(s.charCodeAt(1))){let p=2,f=p;for(;p<a&&!D(s.charCodeAt(p));)p++;if(p<a&&p!==f){let x=s.slice(f,p);for(f=p;p<a&&D(s.charCodeAt(p));)p++;if(p<a&&p!==f){for(f=p;p<a&&!D(s.charCodeAt(p));)p++;(p===a||p!==f)&&(u=`\\\\${x}\\${s.slice(f,p)}`,l=p)}}}else l=1;else Fe(d)&&s.charCodeAt(1)===Ne&&(u=s.slice(0,2),l=2,a>2&&D(s.charCodeAt(2))&&(c=!0,l=3));if(u.length>0)if(e.length>0){if(u.toLowerCase()!==e.toLowerCase())continue}else e=u;if(r){if(e.length>0)break}else if(t=`${s.slice(l)}\\${t}`,r=c,c&&e.length>0)break}return t=gn(t,!r,"\\",D),r?`${e}\\${t}`:`${e}${t}`||"."},normalize(n){X(n,"path");let e=n.length;if(e===0)return".";let t=0,r,i=!1,s=n.charCodeAt(0);if(e===1)return cr(s)?"\\":n;if(D(s))if(i=!0,D(n.charCodeAt(1))){let l=2,u=l;for(;l<e&&!D(n.charCodeAt(l));)l++;if(l<e&&l!==u){let c=n.slice(u,l);for(u=l;l<e&&D(n.charCodeAt(l));)l++;if(l<e&&l!==u){for(u=l;l<e&&!D(n.charCodeAt(l));)l++;if(l===e)return`\\\\${c}\\${n.slice(u)}\\`;l!==u&&(r=`\\\\${c}\\${n.slice(u,l)}`,t=l)}}}else t=1;else Fe(s)&&n.charCodeAt(1)===Ne&&(r=n.slice(0,2),t=2,e>2&&D(n.charCodeAt(2))&&(i=!0,t=3));let a=t<e?gn(n.slice(t),!i,"\\",D):"";return a.length===0&&!i&&(a="."),a.length>0&&D(n.charCodeAt(e-1))&&(a+="\\"),r===void 0?i?`\\${a}`:a:i?`${r}\\${a}`:`${r}${a}`},isAbsolute(n){X(n,"path");let e=n.length;if(e===0)return!1;let t=n.charCodeAt(0);return D(t)||e>2&&Fe(t)&&n.charCodeAt(1)===Ne&&D(n.charCodeAt(2))},join(...n){if(n.length===0)return".";let e,t;for(let s=0;s<n.length;++s){let a=n[s];X(a,"path"),a.length>0&&(e===void 0?e=t=a:e+=`\\${a}`)}if(e===void 0)return".";let r=!0,i=0;if(typeof t=="string"&&D(t.charCodeAt(0))){++i;let s=t.length;s>1&&D(t.charCodeAt(1))&&(++i,s>2&&(D(t.charCodeAt(2))?++i:r=!1))}if(r){for(;i<e.length&&D(e.charCodeAt(i));)i++;i>=2&&(e=`\\${e.slice(i)}`)}return Y.normalize(e)},relative(n,e){if(X(n,"from"),X(e,"to"),n===e)return"";let t=Y.resolve(n),r=Y.resolve(e);if(t===r||(n=t.toLowerCase(),e=r.toLowerCase(),n===e))return"";let i=0;for(;i<n.length&&n.charCodeAt(i)===le;)i++;let s=n.length;for(;s-1>i&&n.charCodeAt(s-1)===le;)s--;let a=s-i,l=0;for(;l<e.length&&e.charCodeAt(l)===le;)l++;let u=e.length;for(;u-1>l&&e.charCodeAt(u-1)===le;)u--;let c=u-l,d=a<c?a:c,p=-1,f=0;for(;f<d;f++){let k=n.charCodeAt(i+f);if(k!==e.charCodeAt(l+f))break;k===le&&(p=f)}if(f!==d){if(p===-1)return r}else{if(c>d){if(e.charCodeAt(l+f)===le)return r.slice(l+f+1);if(f===2)return r.slice(l+f)}a>d&&(n.charCodeAt(i+f)===le?p=f:f===2&&(p=3)),p===-1&&(p=0)}let x="";for(f=i+p+1;f<=s;++f)(f===s||n.charCodeAt(f)===le)&&(x+=x.length===0?"..":"\\..");return l+=p,x.length>0?`${x}${r.slice(l,u)}`:(r.charCodeAt(l)===le&&++l,r.slice(l,u))},toNamespacedPath(n){if(typeof n!="string"||n.length===0)return n;let e=Y.resolve(n);if(e.length<=2)return n;if(e.charCodeAt(0)===le){if(e.charCodeAt(1)===le){let t=e.charCodeAt(2);if(t!==Ns&&t!==Ke)return`\\\\?\\UNC\\${e.slice(2)}`}}else if(Fe(e.charCodeAt(0))&&e.charCodeAt(1)===Ne&&e.charCodeAt(2)===le)return`\\\\?\\${e}`;return n},dirname(n){X(n,"path");let e=n.length;if(e===0)return".";let t=-1,r=0,i=n.charCodeAt(0);if(e===1)return D(i)?n:".";if(D(i)){if(t=r=1,D(n.charCodeAt(1))){let l=2,u=l;for(;l<e&&!D(n.charCodeAt(l));)l++;if(l<e&&l!==u){for(u=l;l<e&&D(n.charCodeAt(l));)l++;if(l<e&&l!==u){for(u=l;l<e&&!D(n.charCodeAt(l));)l++;if(l===e)return n;l!==u&&(t=r=l+1)}}}}else Fe(i)&&n.charCodeAt(1)===Ne&&(t=e>2&&D(n.charCodeAt(2))?3:2,r=t);let s=-1,a=!0;for(let l=e-1;l>=r;--l)if(D(n.charCodeAt(l))){if(!a){s=l;break}}else a=!1;if(s===-1){if(t===-1)return".";s=t}return n.slice(0,s)},basename(n,e){e!==void 0&&X(e,"suffix"),X(n,"path");let t=0,r=-1,i=!0,s;if(n.length>=2&&Fe(n.charCodeAt(0))&&n.charCodeAt(1)===Ne&&(t=2),e!==void 0&&e.length>0&&e.length<=n.length){if(e===n)return"";let a=e.length-1,l=-1;for(s=n.length-1;s>=t;--s){let u=n.charCodeAt(s);if(D(u)){if(!i){t=s+1;break}}else l===-1&&(i=!1,l=s+1),a>=0&&(u===e.charCodeAt(a)?--a===-1&&(r=s):(a=-1,r=l))}return t===r?r=l:r===-1&&(r=n.length),n.slice(t,r)}for(s=n.length-1;s>=t;--s)if(D(n.charCodeAt(s))){if(!i){t=s+1;break}}else r===-1&&(i=!1,r=s+1);return r===-1?"":n.slice(t,r)},extname(n){X(n,"path");let e=0,t=-1,r=0,i=-1,s=!0,a=0;n.length>=2&&n.charCodeAt(1)===Ne&&Fe(n.charCodeAt(0))&&(e=r=2);for(let l=n.length-1;l>=e;--l){let u=n.charCodeAt(l);if(D(u)){if(!s){r=l+1;break}continue}i===-1&&(s=!1,i=l+1),u===Ke?t===-1?t=l:a!==1&&(a=1):t!==-1&&(a=-1)}return t===-1||i===-1||a===0||a===1&&t===i-1&&t===r+1?"":n.slice(t,i)},format:Ei.bind(null,"\\"),parse(n){X(n,"path");let e={root:"",dir:"",base:"",ext:"",name:""};if(n.length===0)return e;let t=n.length,r=0,i=n.charCodeAt(0);if(t===1)return D(i)?(e.root=e.dir=n,e):(e.base=e.name=n,e);if(D(i)){if(r=1,D(n.charCodeAt(1))){let p=2,f=p;for(;p<t&&!D(n.charCodeAt(p));)p++;if(p<t&&p!==f){for(f=p;p<t&&D(n.charCodeAt(p));)p++;if(p<t&&p!==f){for(f=p;p<t&&!D(n.charCodeAt(p));)p++;p===t?r=p:p!==f&&(r=p+1)}}}}else if(Fe(i)&&n.charCodeAt(1)===Ne){if(t<=2)return e.root=e.dir=n,e;if(r=2,D(n.charCodeAt(2))){if(t===3)return e.root=e.dir=n,e;r=3}}r>0&&(e.root=n.slice(0,r));let s=-1,a=r,l=-1,u=!0,c=n.length-1,d=0;for(;c>=r;--c){if(i=n.charCodeAt(c),D(i)){if(!u){a=c+1;break}continue}l===-1&&(u=!1,l=c+1),i===Ke?s===-1?s=c:d!==1&&(d=1):s!==-1&&(d=-1)}return l!==-1&&(s===-1||d===0||d===1&&s===l-1&&s===a+1?e.base=e.name=n.slice(a,l):(e.name=n.slice(a,s),e.base=n.slice(a,l),e.ext=n.slice(s,l))),a>0&&a!==r?e.dir=n.slice(0,a-1):e.dir=e.root,e},sep:"\\",delimiter:";",win32:null,posix:null},Ms=(()=>{if(ue){let n=/\\/g;return()=>{let e=Rt().replace(n,"/");return e.slice(e.indexOf("/"))}}return()=>Rt()})(),A={resolve(...n){let e="",t=!1;for(let r=n.length-1;r>=-1&&!t;r--){let i=r>=0?n[r]:Ms();X(i,`paths[${r}]`),i.length!==0&&(e=`${i}/${e}`,t=i.charCodeAt(0)===ne)}return e=gn(e,!t,"/",cr),t?`/${e}`:e.length>0?e:"."},normalize(n){if(X(n,"path"),n.length===0)return".";let e=n.charCodeAt(0)===ne,t=n.charCodeAt(n.length-1)===ne;return n=gn(n,!e,"/",cr),n.length===0?e?"/":t?"./":".":(t&&(n+="/"),e?`/${n}`:n)},isAbsolute(n){return X(n,"path"),n.length>0&&n.charCodeAt(0)===ne},join(...n){if(n.length===0)return".";let e;for(let t=0;t<n.length;++t){let r=n[t];X(r,"path"),r.length>0&&(e===void 0?e=r:e+=`/${r}`)}return e===void 0?".":A.normalize(e)},relative(n,e){if(X(n,"from"),X(e,"to"),n===e||(n=A.resolve(n),e=A.resolve(e),n===e))return"";let t=1,r=n.length,i=r-t,s=1,a=e.length-s,l=i<a?i:a,u=-1,c=0;for(;c<l;c++){let p=n.charCodeAt(t+c);if(p!==e.charCodeAt(s+c))break;p===ne&&(u=c)}if(c===l)if(a>l){if(e.charCodeAt(s+c)===ne)return e.slice(s+c+1);if(c===0)return e.slice(s+c)}else i>l&&(n.charCodeAt(t+c)===ne?u=c:c===0&&(u=0));let d="";for(c=t+u+1;c<=r;++c)(c===r||n.charCodeAt(c)===ne)&&(d+=d.length===0?"..":"/..");return`${d}${e.slice(s+u)}`},toNamespacedPath(n){return n},dirname(n){if(X(n,"path"),n.length===0)return".";let e=n.charCodeAt(0)===ne,t=-1,r=!0;for(let i=n.length-1;i>=1;--i)if(n.charCodeAt(i)===ne){if(!r){t=i;break}}else r=!1;return t===-1?e?"/":".":e&&t===1?"//":n.slice(0,t)},basename(n,e){e!==void 0&&X(e,"ext"),X(n,"path");let t=0,r=-1,i=!0,s;if(e!==void 0&&e.length>0&&e.length<=n.length){if(e===n)return"";let a=e.length-1,l=-1;for(s=n.length-1;s>=0;--s){let u=n.charCodeAt(s);if(u===ne){if(!i){t=s+1;break}}else l===-1&&(i=!1,l=s+1),a>=0&&(u===e.charCodeAt(a)?--a===-1&&(r=s):(a=-1,r=l))}return t===r?r=l:r===-1&&(r=n.length),n.slice(t,r)}for(s=n.length-1;s>=0;--s)if(n.charCodeAt(s)===ne){if(!i){t=s+1;break}}else r===-1&&(i=!1,r=s+1);return r===-1?"":n.slice(t,r)},extname(n){X(n,"path");let e=-1,t=0,r=-1,i=!0,s=0;for(let a=n.length-1;a>=0;--a){let l=n.charCodeAt(a);if(l===ne){if(!i){t=a+1;break}continue}r===-1&&(i=!1,r=a+1),l===Ke?e===-1?e=a:s!==1&&(s=1):e!==-1&&(s=-1)}return e===-1||r===-1||s===0||s===1&&e===r-1&&e===t+1?"":n.slice(e,r)},format:Ei.bind(null,"/"),parse(n){X(n,"path");let e={root:"",dir:"",base:"",ext:"",name:""};if(n.length===0)return e;let t=n.charCodeAt(0)===ne,r;t?(e.root="/",r=1):r=0;let i=-1,s=0,a=-1,l=!0,u=n.length-1,c=0;for(;u>=r;--u){let d=n.charCodeAt(u);if(d===ne){if(!l){s=u+1;break}continue}a===-1&&(l=!1,a=u+1),d===Ke?i===-1?i=u:c!==1&&(c=1):i!==-1&&(c=-1)}if(a!==-1){let d=s===0&&t?1:s;i===-1||c===0||c===1&&i===a-1&&i===s+1?e.base=e.name=n.slice(d,a):(e.name=n.slice(d,i),e.base=n.slice(d,a),e.ext=n.slice(i,a))}return s>0?e.dir=n.slice(0,s-1):t&&(e.dir="/"),e},sep:"/",delimiter:":",win32:null,posix:null};A.win32=Y.win32=Y;A.posix=Y.posix=A;var ve=ue?Y.normalize:A.normalize,Vs=ue?Y.isAbsolute:A.isAbsolute,H=ue?Y.join:A.join,lt=ue?Y.resolve:A.resolve,wi=ue?Y.relative:A.relative,ut=ue?Y.dirname:A.dirname,Ws=ue?Y.basename:A.basename,Dt=ue?Y.extname:A.extname,bu=ue?Y.format:A.format,yu=ue?Y.parse:A.parse,vu=ue?Y.toNamespacedPath:A.toNamespacedPath,ct=ue?Y.sep:A.sep,xu=ue?Y.delimiter:A.delimiter;var dr=class{unexpectedErrorHandler;listeners;constructor(){this.listeners=[],this.unexpectedErrorHandler=function(e){setTimeout(()=>{throw e.stack?mn.isErrorNoTelemetry(e)?new mn(e.message+`

`+e.stack):new Error(e.message+`

`+e.stack):e},0)}}addListener(e){return this.listeners.push(e),()=>{this._removeListener(e)}}emit(e){this.listeners.forEach(t=>{t(e)})}_removeListener(e){this.listeners.splice(this.listeners.indexOf(e),1)}setUnexpectedErrorHandler(e){this.unexpectedErrorHandler=e}getUnexpectedErrorHandler(){return this.unexpectedErrorHandler}onUnexpectedError(e){this.unexpectedErrorHandler(e),this.emit(e)}onUnexpectedExternalError(e){this.unexpectedErrorHandler(e)}},Si=new dr;function pt(n){Si.onUnexpectedError(n)}function De(n){Bs(n)||Si.onUnexpectedError(n)}var pr="Canceled";function Bs(n){return n instanceof Re?!0:n instanceof Error&&n.name===pr&&n.message===pr}var Re=class extends Error{constructor(){super(pr),this.name=this.message}};function ki(n){return n?new Error(`Illegal state: ${n}`):new Error("Illegal state")}var mn=class n extends Error{name;constructor(e){super(e),this.name="CodeExpectedError"}static fromError(e){if(e instanceof n)return e;let t=new n;return t.message=e.message,t.stack=e.stack,t}static isErrorNoTelemetry(e){return e.name==="CodeExpectedError"}},dt=class n extends Error{constructor(e){super(e||"An unexpected bug occurred."),Object.setPrototypeOf(this,n.prototype)}};function fr(n,e){let t=this,r=!1,i;return function(){if(r)return i;if(r=!0,e)try{i=n.apply(t,arguments)}finally{e()}else i=n.apply(t,arguments);return i}}function Di(n,e=t=>t){let t=new Set;return n.filter(r=>{let i=e(r);return t.has(i)?!1:(t.add(i),!0)})}var Oi;(l=>{function n(u){return u<0}l.isLessThan=n;function e(u){return u<=0}l.isLessThanOrEqual=e;function t(u){return u>0}l.isGreaterThan=t;function r(u){return u===0}l.isNeitherLessOrGreaterThan=r,l.greaterThan=1,l.lessThan=-1,l.neitherLessOrGreaterThan=0})(Oi||={});var Ri=class n{constructor(e){this.iterate=e}static empty=new n(e=>{});forEach(e){this.iterate(t=>(e(t),!0))}toArray(){let e=[];return this.iterate(t=>(e.push(t),!0)),e}filter(e){return new n(t=>this.iterate(r=>e(r)?t(r):!0))}map(e){return new n(t=>this.iterate(r=>t(e(r))))}some(e){let t=!1;return this.iterate(r=>(t=e(r),!t)),t}findFirst(e){let t;return this.iterate(r=>e(r)?(t=r,!1):!0),t}findLast(e){let t;return this.iterate(r=>(e(r)&&(t=r),!0)),t}findLastMaxBy(e){let t,r=!0;return this.iterate(i=>((r||Oi.isGreaterThan(e(i,t)))&&(r=!1,t=i),!0)),t}};var $s=/^\w[\w\d+.-]*$/,zs=/^\//,js=/^\/\//;function Hs(n,e){if(!n.scheme&&e)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${n.authority}", path: "${n.path}", query: "${n.query}", fragment: "${n.fragment}"}`);if(n.scheme&&!$s.test(n.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(n.path){if(n.authority){if(!zs.test(n.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(js.test(n.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function Gs(n,e){return!n&&!e?"file":n}function Js(n,e){switch(n){case"https":case"http":case"file":e?e[0]!==ge&&(e=ge+e):e=ge;break}return e}var W="",ge="/",Qs=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,S=class n{static isUri(e){return e instanceof n?!0:e?typeof e.authority=="string"&&typeof e.fragment=="string"&&typeof e.path=="string"&&typeof e.query=="string"&&typeof e.scheme=="string"&&typeof e.fsPath=="string"&&typeof e.with=="function"&&typeof e.toString=="function":!1}scheme;authority;path;query;fragment;constructor(e,t,r,i,s,a=!1){typeof e=="object"?(this.scheme=e.scheme||W,this.authority=e.authority||W,this.path=e.path||W,this.query=e.query||W,this.fragment=e.fragment||W):(this.scheme=Gs(e,a),this.authority=t||W,this.path=Js(this.scheme,r||W),this.query=i||W,this.fragment=s||W,Hs(this,a))}get fsPath(){return Ot(this,!1)}with(e){if(!e)return this;let{scheme:t,authority:r,path:i,query:s,fragment:a}=e;return t===void 0?t=this.scheme:t===null&&(t=W),r===void 0?r=this.authority:r===null&&(r=W),i===void 0?i=this.path:i===null&&(i=W),s===void 0?s=this.query:s===null&&(s=W),a===void 0?a=this.fragment:a===null&&(a=W),t===this.scheme&&r===this.authority&&i===this.path&&s===this.query&&a===this.fragment?this:new Me(t,r,i,s,a)}static parse(e,t=!1){let r=Qs.exec(e);return r?new Me(r[2]||W,bn(r[4]||W),bn(r[5]||W),bn(r[7]||W),bn(r[9]||W),t):new Me(W,W,W,W,W)}static file(e){let t=W;if(Z&&(e=e.replace(/\\/g,ge)),e[0]===ge&&e[1]===ge){let r=e.indexOf(ge,2);r===-1?(t=e.substring(2),e=ge):(t=e.substring(2,r),e=e.substring(r)||ge)}return new Me("file",t,e,W,W)}static from(e,t){return new Me(e.scheme,e.authority,e.path,e.query,e.fragment,t)}static joinPath(e,...t){if(!e.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let r;return Z&&e.scheme==="file"?r=n.file(Y.join(Ot(e,!0),...t)).path:r=A.join(e.path,...t),e.with({path:r})}toString(e=!1){return gr(this,e)}toJSON(){return this}static revive(e){if(e){if(e instanceof n)return e;{let t=new Me(e);return t._formatted=e.external??null,t._fsPath=e._sep===Pi?e.fsPath??null:null,t}}else return e}[Symbol.for("debug.description")](){return`URI(${this.toString()})`}};var Pi=Z?1:void 0,Me=class extends S{_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=Ot(this,!1)),this._fsPath}toString(e=!1){return e?gr(this,!0):(this._formatted||(this._formatted=gr(this,!1)),this._formatted)}toJSON(){let e={$mid:1};return this._fsPath&&(e.fsPath=this._fsPath,e._sep=Pi),this._formatted&&(e.external=this._formatted),this.path&&(e.path=this.path),this.scheme&&(e.scheme=this.scheme),this.authority&&(e.authority=this.authority),this.query&&(e.query=this.query),this.fragment&&(e.fragment=this.fragment),e}},Ui={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function Ai(n,e,t){let r,i=-1;for(let s=0;s<n.length;s++){let a=n.charCodeAt(s);if(a>=97&&a<=122||a>=65&&a<=90||a>=48&&a<=57||a===45||a===46||a===95||a===126||e&&a===47||t&&a===91||t&&a===93||t&&a===58)i!==-1&&(r+=encodeURIComponent(n.substring(i,s)),i=-1),r!==void 0&&(r+=n.charAt(s));else{r===void 0&&(r=n.substr(0,s));let l=Ui[a];l!==void 0?(i!==-1&&(r+=encodeURIComponent(n.substring(i,s)),i=-1),r+=l):i===-1&&(i=s)}}return i!==-1&&(r+=encodeURIComponent(n.substring(i))),r!==void 0?r:n}function Xs(n){let e;for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r===35||r===63?(e===void 0&&(e=n.substr(0,t)),e+=Ui[r]):e!==void 0&&(e+=n[t])}return e!==void 0?e:n}function Ot(n,e){let t;return n.authority&&n.path.length>1&&n.scheme==="file"?t=`//${n.authority}${n.path}`:n.path.charCodeAt(0)===47&&(n.path.charCodeAt(1)>=65&&n.path.charCodeAt(1)<=90||n.path.charCodeAt(1)>=97&&n.path.charCodeAt(1)<=122)&&n.path.charCodeAt(2)===58?e?t=n.path.substr(1):t=n.path[1].toLowerCase()+n.path.substr(2):t=n.path,Z&&(t=t.replace(/\//g,"\\")),t}function gr(n,e){let t=e?Xs:Ai,r="",{scheme:i,authority:s,path:a,query:l,fragment:u}=n;if(i&&(r+=i,r+=":"),(s||i==="file")&&(r+=ge,r+=ge),s){let c=s.indexOf("@");if(c!==-1){let d=s.substr(0,c);s=s.substr(c+1),c=d.lastIndexOf(":"),c===-1?r+=t(d,!1,!1):(r+=t(d.substr(0,c),!1,!1),r+=":",r+=t(d.substr(c+1),!1,!0)),r+="@"}s=s.toLowerCase(),c=s.lastIndexOf(":"),c===-1?r+=t(s,!1,!0):(r+=t(s.substr(0,c),!1,!0),r+=s.substr(c))}if(a){if(a.length>=3&&a.charCodeAt(0)===47&&a.charCodeAt(2)===58){let c=a.charCodeAt(1);c>=65&&c<=90&&(a=`/${String.fromCharCode(c+32)}:${a.substr(3)}`)}else if(a.length>=2&&a.charCodeAt(1)===58){let c=a.charCodeAt(0);c>=65&&c<=90&&(a=`${String.fromCharCode(c+32)}:${a.substr(2)}`)}r+=t(a,!0,!1)}return l&&(r+="?",r+=t(l,!1,!1)),u&&(r+="#",r+=e?u:Ai(u,!1,!1)),r}function Ni(n){try{return decodeURIComponent(n)}catch{return n.length>3?n.substr(0,3)+Ni(n.substr(3)):n}}var Li=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function bn(n){return n.match(Li)?n.replace(Li,e=>Ni(e)):n}var hr=class{[Symbol.toStringTag]="LinkedMap";_map;_head;_tail;_size;_state;constructor(){this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(e){return this._map.has(e)}get(e,t=0){let r=this._map.get(e);if(r)return t!==0&&this.touch(r,t),r.value}set(e,t,r=0){let i=this._map.get(e);if(i)i.value=t,r!==0&&this.touch(i,r);else{switch(i={key:e,value:t,next:void 0,previous:void 0},r){case 0:this.addItemLast(i);break;case 1:this.addItemFirst(i);break;case 2:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(e,i),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let t=this._map.get(e);if(t)return this._map.delete(e),this.removeItem(t),this._size--,t.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){let r=this._state,i=this._head;for(;i;){if(t?e.bind(t)(i.value,i.key,this):e(i.value,i.key,this),this._state!==r)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let e=this,t=this._state,r=this._head,i={[Symbol.iterator](){return i},next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(r){let s={value:r.key,done:!1};return r=r.next,s}else return{value:void 0,done:!0}}};return i}values(){let e=this,t=this._state,r=this._head,i={[Symbol.iterator](){return i},next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(r){let s={value:r.value,done:!1};return r=r.next,s}else return{value:void 0,done:!0}}};return i}entries(){let e=this,t=this._state,r=this._head,i={[Symbol.iterator](){return i},next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(r){let s={value:[r.key,r.value],done:!1};return r=r.next,s}else return{value:void 0,done:!0}}};return i}[Symbol.iterator](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let t=this._head,r=this.size;for(;t&&r>e;)this._map.delete(t.key),t=t.next,r--;this._head=t,this._size=r,t&&(t.previous=void 0),this._state++}trimNew(e){if(e>=this.size)return;if(e===0){this.clear();return}let t=this._tail,r=this.size;for(;t&&r>e;)this._map.delete(t.key),t=t.previous,r--;this._tail=t,this._size=r,t&&(t.next=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let t=e.next,r=e.previous;if(!t||!r)throw new Error("Invalid list");t.previous=r,r.next=t}e.next=void 0,e.previous=void 0,this._state++}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(t!==1&&t!==2)){if(t===1){if(e===this._head)return;let r=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(r.previous=i,i.next=r),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(t===2){if(e===this._tail)return;let r=e.next,i=e.previous;e===this._head?(r.previous=void 0,this._head=r):(r.previous=i,i.next=r),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((t,r)=>{e.push([r,t])}),e}fromJSON(e){this.clear();for(let[t,r]of e)this.set(t,r)}},mr=class extends hr{_limit;_ratio;constructor(e,t=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,t),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,t=2){return super.get(e,t)}peek(e){return super.get(e,0)}set(e,t){return super.set(e,t,2),this}checkTrim(){this.size>this._limit&&this.trim(Math.round(this._limit*this._ratio))}},Ct=class extends mr{constructor(e,t=1){super(e,t)}trim(e){this.trimOld(e)}set(e,t){return super.set(e,t),this.checkTrim(),this}};var ft;(M=>{function n(h){return h&&typeof h=="object"&&typeof h[Symbol.iterator]=="function"}M.is=n;let e=Object.freeze([]);function t(){return e}M.empty=t;function*r(h){yield h}M.single=r;function i(h){return n(h)?h:r(h)}M.wrap=i;function s(h){return h||e}M.from=s;function*a(h){for(let T=h.length-1;T>=0;T--)yield h[T]}M.reverse=a;function l(h){return!h||h[Symbol.iterator]().next().done===!0}M.isEmpty=l;function u(h){return h[Symbol.iterator]().next().value}M.first=u;function c(h,T){let O=0;for(let E of h)if(T(E,O++))return!0;return!1}M.some=c;function d(h,T){for(let O of h)if(T(O))return O}M.find=d;function*p(h,T){for(let O of h)T(O)&&(yield O)}M.filter=p;function*f(h,T){let O=0;for(let E of h)yield T(E,O++)}M.map=f;function*x(h,T){let O=0;for(let E of h)yield*T(E,O++)}M.flatMap=x;function*k(...h){for(let T of h)yield*T}M.concat=k;function B(h,T,O){let E=O;for(let F of h)E=T(E,F);return E}M.reduce=B;function*N(h,T,O=h.length){for(T<0&&(T+=h.length),O<0?O+=h.length:O>h.length&&(O=h.length);T<O;T++)yield h[T]}M.slice=N;function P(h,T=Number.POSITIVE_INFINITY){let O=[];if(T===0)return[O,h];let E=h[Symbol.iterator]();for(let F=0;F<T;F++){let q=E.next();if(q.done)return[O,M.empty()];O.push(q.value)}return[O,{[Symbol.iterator](){return E}}]}M.consume=P;async function Q(h){let T=[];for await(let O of h)T.push(O);return Promise.resolve(T)}M.asyncToArray=Q})(ft||={});var Ys=!1,gt=null;function Zs(n){gt=n}if(Ys){let n="__is_disposable_tracked__";Zs(new class{trackDisposable(e){let t=new Error("Potentially leaked disposable").stack;setTimeout(()=>{e[n]||console.log(t)},3e3)}setParent(e,t){if(e&&e!==de.None)try{e[n]=!0}catch{}}markAsDisposed(e){if(e&&e!==de.None)try{e[n]=!0}catch{}}markAsSingleton(e){}})}function ht(n){return gt?.trackDisposable(n),n}function mt(n){gt?.markAsDisposed(n)}function br(n,e){gt?.setParent(n,e)}function ea(n,e){if(gt)for(let t of n)gt.setParent(t,e)}function yr(n){if(ft.is(n)){let e=[];for(let t of n)if(t)try{t.dispose()}catch(r){e.push(r)}if(e.length===1)throw e[0];if(e.length>1)throw new AggregateError(e,"Encountered errors while disposing of store");return Array.isArray(n)?[]:n}else if(n)return n.dispose(),n}function Fi(...n){let e=he(()=>yr(n));return ea(n,e),e}function he(n){let e=ht({dispose:fr(()=>{mt(e),n()})});return e}var xe=class n{static DISABLE_DISPOSED_WARNING=!1;_toDispose=new Set;_isDisposed=!1;constructor(){ht(this)}dispose(){this._isDisposed||(mt(this),this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){if(this._toDispose.size!==0)try{yr(this._toDispose)}finally{this._toDispose.clear()}}add(e){if(!e)return e;if(e===this)throw new Error("Cannot register a disposable on itself!");return br(e,this),this._isDisposed?n.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(e),e}delete(e){if(e){if(e===this)throw new Error("Cannot dispose a disposable on itself!");this._toDispose.delete(e),e.dispose()}}deleteAndLeak(e){e&&this._toDispose.has(e)&&(this._toDispose.delete(e),br(e,null))}},de=class{static None=Object.freeze({dispose(){}});_store=new xe;constructor(){ht(this),br(this._store,this)}dispose(){mt(this),this._store.dispose()}_register(e){if(e===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(e)}};var At=class{_store=new Map;_isDisposed=!1;constructor(){ht(this)}dispose(){mt(this),this._isDisposed=!0,this.clearAndDisposeAll()}clearAndDisposeAll(){if(this._store.size)try{yr(this._store.values())}finally{this._store.clear()}}has(e){return this._store.has(e)}get size(){return this._store.size}get(e){return this._store.get(e)}set(e,t,r=!1){this._isDisposed&&console.warn(new Error("Trying to add a disposable to a DisposableMap that has already been disposed of. The added object will be leaked!").stack),r||this._store.get(e)?.dispose(),this._store.set(e,t)}deleteAndDispose(e){this._store.get(e)?.dispose(),this._store.delete(e)}deleteAndLeak(e){let t=this._store.get(e);return this._store.delete(e),t}keys(){return this._store.keys()}values(){return this._store.values()}[Symbol.iterator](){return this._store[Symbol.iterator]()}};var j=class n{static Undefined=new n(void 0);element;next;prev;constructor(e){this.element=e,this.next=n.Undefined,this.prev=n.Undefined}},Lt=class{_first=j.Undefined;_last=j.Undefined;_size=0;get size(){return this._size}isEmpty(){return this._first===j.Undefined}clear(){let e=this._first;for(;e!==j.Undefined;){let t=e.next;e.prev=j.Undefined,e.next=j.Undefined,e=t}this._first=j.Undefined,this._last=j.Undefined,this._size=0}unshift(e){return this._insert(e,!1)}push(e){return this._insert(e,!0)}_insert(e,t){let r=new j(e);if(this._first===j.Undefined)this._first=r,this._last=r;else if(t){let s=this._last;this._last=r,r.prev=s,s.next=r}else{let s=this._first;this._first=r,r.next=s,s.prev=r}this._size+=1;let i=!1;return()=>{i||(i=!0,this._remove(r))}}shift(){if(this._first!==j.Undefined){let e=this._first.element;return this._remove(this._first),e}}pop(){if(this._last!==j.Undefined){let e=this._last.element;return this._remove(this._last),e}}_remove(e){if(e.prev!==j.Undefined&&e.next!==j.Undefined){let t=e.prev;t.next=e.next,e.next.prev=t}else e.prev===j.Undefined&&e.next===j.Undefined?(this._first=j.Undefined,this._last=j.Undefined):e.next===j.Undefined?(this._last=this._last.prev,this._last.next=j.Undefined):e.prev===j.Undefined&&(this._first=this._first.next,this._first.prev=j.Undefined);this._size-=1}*[Symbol.iterator](){let e=this._first;for(;e!==j.Undefined;)yield e.element,e=e.next}};var Je=(n,e)=>n===e;var me=class{constructor(e,t,r){this.owner=e;this.debugNameSource=t;this.referenceFn=r}getDebugName(e){return Wi(e,this)}},Ki=new Map,vr=new WeakMap;function Wi(n,e){let t=vr.get(n);if(t)return t;let r=ta(n,e);if(r){let i=Ki.get(r)??0;i++,Ki.set(r,i);let s=i===1?r:`${r}#${i}`;return vr.set(n,s),s}}function ta(n,e){let t=vr.get(n);if(t)return t;let r=e.owner?ra(e.owner)+".":"",i,s=e.debugNameSource;if(s!==void 0)if(typeof s=="function"){if(i=s(),i!==void 0)return r+i}else return r+s;let a=e.referenceFn;if(a!==void 0&&(i=yn(a),i!==void 0))return r+i;if(e.owner!==void 0){let l=na(e.owner,n);if(l!==void 0)return r+l}}function na(n,e){for(let t in n)if(n[t]===e)return t}var Mi=new Map,Vi=new WeakMap;function ra(n){let e=Vi.get(n);if(e)return e;let t=ia(n),r=Mi.get(t)??0;r++,Mi.set(t,r);let i=r===1?t:`${t}#${r}`;return Vi.set(n,i),i}function ia(n){let e=n.constructor;return e?e.name:"Object"}function yn(n){let e=n.toString(),r=/\/\*\*\s*@description\s*([^*]*)\*\//.exec(e);return(r?r[1]:void 0)?.trim()}function vn(n,e){if(!n)throw new Error(e?`Assertion failed (${e})`:"Assertion Failed")}function xn(n){if(!n()){debugger;n(),De(new dt("Assertion Failed"))}}function Pt(n){return new Tn(new me(void 0,void 0,n),n,void 0,void 0)}var Tn=class{constructor(e,t,r,i){this._debugNameData=e;this._runFn=t;this.createChangeSummary=r;this._handleChange=i;this.changeSummary=this.createChangeSummary?.(),pe()?.handleAutorunCreated(this),this._runIfNeeded(),ht(this)}state=2;updateCount=0;disposed=!1;dependencies=new Set;dependenciesToBeRemoved=new Set;changeSummary;get debugName(){return this._debugNameData.getDebugName(this)??"(anonymous)"}dispose(){this.disposed=!0;for(let e of this.dependencies)e.removeObserver(this);this.dependencies.clear(),mt(this)}_runIfNeeded(){if(this.state===3)return;let e=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=e,this.state=3;let t=this.disposed;try{if(!t){pe()?.handleAutorunTriggered(this);let r=this.changeSummary;try{this.changeSummary=this.createChangeSummary?.(),this._runFn(this,r)}catch(i){pt(i)}}}finally{t||pe()?.handleAutorunFinished(this);for(let r of this.dependenciesToBeRemoved)r.removeObserver(this);this.dependenciesToBeRemoved.clear()}}toString(){return`Autorun<${this.debugName}>`}beginUpdate(){this.state===3&&(this.state=1),this.updateCount++}endUpdate(){try{if(this.updateCount===1)do{if(this.state===1){this.state=3;for(let e of this.dependencies)if(e.reportChanges(),this.state===2)break}this._runIfNeeded()}while(this.state!==3)}finally{this.updateCount--}xn(()=>this.updateCount>=0)}handlePossibleChange(e){this.state===3&&this.dependencies.has(e)&&!this.dependenciesToBeRemoved.has(e)&&(this.state=1)}handleChange(e,t){if(this.dependencies.has(e)&&!this.dependenciesToBeRemoved.has(e))try{(this._handleChange?this._handleChange({changedObservable:e,change:t,didChange:i=>i===e},this.changeSummary):!0)&&(this.state=2)}catch(r){pt(r)}}readObservable(e){if(this.disposed)return e.get();e.addObserver(this);let t=e.get();return this.dependencies.add(e),this.dependenciesToBeRemoved.delete(e),t}};(e=>e.Observer=Tn)(Pt||={});function xr(n,e){return new In(new me(n.owner,n.debugName,n.debugReferenceFn),e,void 0,void 0,n.onLastObserverRemoved,n.equalsFn??Je)}Bi(xr);var In=class extends Qe{constructor(t,r,i,s,a=void 0,l){super();this._debugNameData=t;this._computeFn=r;this.createChangeSummary=i;this._handleChange=s;this._handleLastObserverRemoved=a;this._equalityComparator=l;this.changeSummary=this.createChangeSummary?.(),pe()?.handleDerivedCreated(this)}state=0;value=void 0;updateCount=0;dependencies=new Set;dependenciesToBeRemoved=new Set;changeSummary=void 0;get debugName(){return this._debugNameData.getDebugName(this)??"(anonymous)"}onLastObserverRemoved(){this.state=0,this.value=void 0;for(let t of this.dependencies)t.removeObserver(this);this.dependencies.clear(),this._handleLastObserverRemoved?.()}get(){if(this.observers.size===0){let t=this._computeFn(this,this.createChangeSummary?.());return this.onLastObserverRemoved(),t}else{do{if(this.state===1){for(let t of this.dependencies)if(t.reportChanges(),this.state===2)break}this.state===1&&(this.state=3),this._recomputeIfNeeded()}while(this.state!==3);return this.value}}_recomputeIfNeeded(){if(this.state===3)return;let t=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=t;let r=this.state!==0,i=this.value;this.state=3;let s=!1;try{let a=this.changeSummary;this.changeSummary=this.createChangeSummary?.();try{this.value=this._computeFn(this,a)}finally{for(let l of this.dependenciesToBeRemoved)l.removeObserver(this);this.dependenciesToBeRemoved.clear()}s=r&&!this._equalityComparator(i,this.value),pe()?.handleDerivedRecomputed(this,{oldValue:i,newValue:this.value,change:void 0,didChange:s,hadValue:r})}catch(a){pt(a)}if(s)for(let a of this.observers)a.handleChange(this,void 0)}toString(){return`LazyDerived<${this.debugName}>`}beginUpdate(t){this.updateCount++;let r=this.updateCount===1;if(this.state===3&&(this.state=1,!r))for(let i of this.observers)i.handlePossibleChange(this);if(r)for(let i of this.observers)i.beginUpdate(this)}endUpdate(t){if(this.updateCount--,this.updateCount===0){let r=[...this.observers];for(let i of r)i.endUpdate(this)}xn(()=>this.updateCount>=0)}handlePossibleChange(t){if(this.state===3&&this.dependencies.has(t)&&!this.dependenciesToBeRemoved.has(t)){this.state=1;for(let r of this.observers)r.handlePossibleChange(this)}}handleChange(t,r){if(this.dependencies.has(t)&&!this.dependenciesToBeRemoved.has(t)){let i=!1;try{i=this._handleChange?this._handleChange({changedObservable:t,change:r,didChange:a=>a===t},this.changeSummary):!0}catch(a){pt(a)}let s=this.state===3;if(i&&(this.state===1||s)&&(this.state=2,s))for(let a of this.observers)a.handlePossibleChange(this)}}readObservable(t){t.addObserver(this);let r=t.get();return this.dependencies.add(t),this.dependenciesToBeRemoved.delete(t),r}addObserver(t){let r=!this.observers.has(t)&&this.updateCount>0;super.addObserver(t),r&&t.beginUpdate(this)}removeObserver(t){let r=this.observers.has(t)&&this.updateCount>0;super.removeObserver(t),r&&t.endUpdate(this)}};function Tr(...n){let e,t,r;return n.length===3?[e,t,r]=n:[t,r]=n,new Ve(new me(e,void 0,r),t,r,()=>Ve.globalTransaction,Je)}var Ve=class extends Qe{constructor(t,r,i,s,a){super();this._debugNameData=t;this.event=r;this._getValue=i;this._getTransaction=s;this._equalityComparator=a}static globalTransaction;value;hasValue=!1;subscription;getDebugName(){return this._debugNameData.getDebugName(this)}get debugName(){let t=this.getDebugName();return"From Event"+(t?`: ${t}`:"")}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}handleEvent=t=>{let r=this._getValue(t),i=this.value,s=!this.hasValue||!this._equalityComparator(i,r),a=!1;s&&(this.value=r,this.hasValue&&(a=!0,Ir(this._getTransaction(),l=>{pe()?.handleFromEventObservableTriggered(this,{oldValue:i,newValue:r,change:void 0,didChange:s,hadValue:this.hasValue});for(let u of this.observers)l.updateObserver(u,this),u.handleChange(this,void 0)},()=>{let l=this.getDebugName();return"Event fired"+(l?`: ${l}`:"")})),this.hasValue=!0),a||pe()?.handleFromEventObservableTriggered(this,{oldValue:i,newValue:r,change:void 0,didChange:s,hadValue:this.hasValue})};onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0,this.hasValue=!1,this.value=void 0}get(){return this.subscription?(this.hasValue||this.handleEvent(void 0),this.value):this._getValue(void 0)}};(t=>{t.Observer=Ve;function e(r,i){let s=!1;Ve.globalTransaction===void 0&&(Ve.globalTransaction=r,s=!0);try{i()}finally{s&&(Ve.globalTransaction=void 0)}}t.batchEventsGlobally=e})(Tr||={});function $i(n){let e=new _n(!1,void 0);return n.addObserver(e),he(()=>{n.removeObserver(e)})}Hi($i);function zi(n,e){let t=new _n(!0,e);return n.addObserver(t),e?e(n.get()):n.reportChanges(),he(()=>{n.removeObserver(t)})}ji(zi);var _n=class{constructor(e,t){this._forceRecompute=e;this._handleValue=t}_counter=0;beginUpdate(e){this._counter++}endUpdate(e){this._counter--,this._counter===0&&this._forceRecompute&&(this._handleValue?this._handleValue(e.get()):e.reportChanges())}handlePossibleChange(e){}handleChange(e,t){}};var Ji;function Qi(n){Ji=n}function pe(){return Ji}var Sn=class{indentation=0;textToConsoleArgs(e){return la([bt(da("|  ",this.indentation)),e])}formatInfo(e){return e.hadValue?e.didChange?[bt(" "),be(Nt(e.oldValue,70),{color:"red",strikeThrough:!0}),bt(" "),be(Nt(e.newValue,60),{color:"green"})]:[bt(" (unchanged)")]:[bt(" "),be(Nt(e.newValue,60),{color:"green"}),bt(" (initial)")]}handleObservableChanged(e,t){console.log(...this.textToConsoleArgs([Ut("observable value changed"),be(e.debugName,{color:"BlueViolet"}),...this.formatInfo(t)]))}changedObservablesSets=new WeakMap;formatChanges(e){if(e.size!==0)return be(" (changed deps: "+[...e].map(t=>t.debugName).join(", ")+")",{color:"gray"})}handleDerivedCreated(e){let t=e.handleChange;this.changedObservablesSets.set(e,new Set),e.handleChange=(r,i)=>(this.changedObservablesSets.get(e).add(r),t.apply(e,[r,i]))}handleDerivedRecomputed(e,t){let r=this.changedObservablesSets.get(e);console.log(...this.textToConsoleArgs([Ut("derived recomputed"),be(e.debugName,{color:"BlueViolet"}),...this.formatInfo(t),this.formatChanges(r),{data:[{fn:e._debugNameData.referenceFn??e._computeFn}]}])),r.clear()}handleFromEventObservableTriggered(e,t){console.log(...this.textToConsoleArgs([Ut("observable from event triggered"),be(e.debugName,{color:"BlueViolet"}),...this.formatInfo(t),{data:[{fn:e._getValue}]}]))}handleAutorunCreated(e){let t=e.handleChange;this.changedObservablesSets.set(e,new Set),e.handleChange=(r,i)=>(this.changedObservablesSets.get(e).add(r),t.apply(e,[r,i]))}handleAutorunTriggered(e){let t=this.changedObservablesSets.get(e);console.log(...this.textToConsoleArgs([Ut("autorun"),be(e.debugName,{color:"BlueViolet"}),this.formatChanges(t),{data:[{fn:e._debugNameData.referenceFn??e._runFn}]}])),t.clear(),this.indentation++}handleAutorunFinished(e){this.indentation--}handleBeginTransaction(e){let t=e.getDebugName();t===void 0&&(t=""),console.log(...this.textToConsoleArgs([Ut("transaction"),be(t,{color:"BlueViolet"}),{data:[{fn:e._fn}]}])),this.indentation++}handleEndTransaction(){this.indentation--}};function la(n){let e=new Array,t=[],r="";function i(a){if("length"in a)for(let l of a)l&&i(l);else"text"in a?(r+=`%c${a.text}`,e.push(a.style),a.data&&t.push(...a.data)):"data"in a&&t.push(...a.data)}i(n);let s=[r,...e];return s.push(...t),s}function bt(n){return be(n,{color:"black"})}function Ut(n){return be(pa(`${n}: `,10),{color:"black",bold:!0})}function be(n,e={color:"black"}){function t(i){return Object.entries(i).reduce((s,[a,l])=>`${s}${a}:${l};`,"")}let r={color:e.color};return e.strikeThrough&&(r["text-decoration"]="line-through"),e.bold&&(r["font-weight"]="bold"),{text:n,style:t(r)}}function Nt(n,e){switch(typeof n){case"number":return""+n;case"string":return n.length+2<=e?`"${n}"`:`"${n.substr(0,e-7)}"+...`;case"boolean":return n?"true":"false";case"undefined":return"undefined";case"object":return n===null?"null":Array.isArray(n)?ua(n,e):ca(n,e);case"symbol":return n.toString();case"function":return`[[Function${n.name?" "+n.name:""}]]`;default:return""+n}}function ua(n,e){let t="[ ",r=!0;for(let i of n){if(r||(t+=", "),t.length-5>e){t+="...";break}r=!1,t+=`${Nt(i,e-t.length)}`}return t+=" ]",t}function ca(n,e){let t="{ ",r=!0;for(let[i,s]of Object.entries(n)){if(r||(t+=", "),t.length-5>e){t+="...";break}r=!1,t+=`${i}: ${Nt(s,e-t.length)}`}return t+=" }",t}function da(n,e){let t="";for(let r=1;r<=e;r++)t+=n;return t}function pa(n,e){for(;n.length<e;)n+=" ";return n}var Xi;function ji(n){Xi=n}var Yi;function Hi(n){Yi=n}var _r;function Bi(n){_r=n}var En=class{get TChange(){return null}reportChanges(){this.get()}read(e){return e?e.readObservable(this):this.get()}map(e,t){let r=t===void 0?void 0:e,i=t===void 0?e:t;return _r({owner:r,debugName:()=>{let s=yn(i);if(s!==void 0)return s;let l=/^\s*\(?\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*\)?\s*=>\s*\1(?:\??)\.([a-zA-Z_$][a-zA-Z_$0-9]*)\s*$/.exec(i.toString());if(l)return`${this.debugName}.${l[2]}`;if(!r)return`${this.debugName} (mapped)`},debugReferenceFn:i},s=>i(this.read(s),s))}flatten(){return _r({owner:void 0,debugName:()=>`${this.debugName} (flattened)`},e=>this.read(e).read(e))}recomputeInitiallyAndOnChange(e,t){return e.add(Xi(this,t)),this}keepObserved(e){return e.add(Yi(this)),this}get debugValue(){return this.get()}},Qe=class extends En{observers=new Set;addObserver(e){let t=this.observers.size;this.observers.add(e),t===0&&this.onFirstObserverAdded()}removeObserver(e){this.observers.delete(e)&&this.observers.size===0&&this.onLastObserverRemoved()}onFirstObserverAdded(){}onLastObserverRemoved(){}};function wn(n,e){let t=new kn(n,e);try{n(t)}finally{t.finish()}}function Ir(n,e,t){n?e(n):wn(e,t)}var kn=class{constructor(e,t){this._fn=e;this._getDebugName=t;pe()?.handleBeginTransaction(this)}updatingObservers=[];getDebugName(){return this._getDebugName?this._getDebugName():yn(this._fn)}updateObserver(e,t){this.updatingObservers.push({observer:e,observable:t}),e.beginUpdate(t)}finish(){let e=this.updatingObservers;for(let t=0;t<e.length;t++){let{observer:r,observable:i}=e[t];r.endUpdate(i)}this.updatingObservers=null,pe()?.handleEndTransaction()}};var fa=!1;fa&&Qi(new Sn);var ga=globalThis.performance&&typeof globalThis.performance.now=="function",vt=class n{_startTime;_stopTime;_now;static create(e){return new n(e)}constructor(e){this._now=ga&&e===!1?Date.now:globalThis.performance.now.bind(globalThis.performance),this._startTime=this._now(),this._stopTime=-1}stop(){this._stopTime=this._now()}reset(){this._startTime=this._now(),this._stopTime=-1}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}};var ha=Symbol("MicrotaskDelay");var ma=!1,Zi=!1,ba=!1,Oe;(ze=>{ze.None=()=>de.None;function e(y){if(ba){let{onDidAddListener:m}=y,v=Ft.create(),b=0;y.onDidAddListener=()=>{++b===2&&(console.warn("snapshotted emitter LIKELY used public and SHOULD HAVE BEEN created with DisposableStore. snapshotted here"),v.print()),m?.()}}}function t(y,m){return x(y,()=>{},0,void 0,!0,void 0,m)}ze.defer=t;function r(y){return(m,v=null,b)=>{let I=!1,R;return R=y(V=>{if(!I)return R?R.dispose():I=!0,m.call(v,V)},null,b),I&&R.dispose(),R}}ze.once=r;function i(y,m){return ze.once(ze.filter(y,m))}ze.onceIf=i;function s(y,m,v){return p((b,I=null,R)=>y(V=>b.call(I,m(V)),null,R),v)}ze.map=s;function a(y,m,v){return p((b,I=null,R)=>y(V=>{m(V),b.call(I,V)},null,R),v)}ze.forEach=a;function l(y,m,v){return p((b,I=null,R)=>y(V=>m(V)&&b.call(I,V),null,R),v)}ze.filter=l;function u(y){return y}ze.signal=u;function c(...y){return(m,v=null,b)=>{let I=Fi(...y.map(R=>R(V=>m.call(v,V))));return f(I,b)}}ze.any=c;function d(y,m,v,b){let I=v;return s(y,R=>(I=m(I,R),I),b)}ze.reduce=d;function p(y,m){let v,b={onWillAddFirstListener(){v=y(I.fire,I)},onDidRemoveLastListener(){v?.dispose()}};m||e(b);let I=new z(b);return m?.add(I),I.event}function f(y,m){return m instanceof Array?m.push(y):m&&m.add(y),y}function x(y,m,v=100,b=!1,I=!1,R,V){let ee,oe,_,on=0,Et,ci={leakWarningThreshold:R,onWillAddFirstListener(){ee=y(as=>{on++,oe=m(oe,as),b&&!_&&(sn.fire(oe),oe=void 0),Et=()=>{let ls=oe;oe=void 0,_=void 0,(!b||on>1)&&sn.fire(ls),on=0},typeof v=="number"?(clearTimeout(_),_=setTimeout(Et,v)):_===void 0&&(_=0,queueMicrotask(Et))})},onWillRemoveListener(){I&&on>0&&Et?.()},onDidRemoveLastListener(){Et=void 0,ee.dispose()}};V||e(ci);let sn=new z(ci);return V?.add(sn),sn.event}ze.debounce=x;function k(y,m=0,v){return ze.debounce(y,(b,I)=>b?(b.push(I),b):[I],m,void 0,!0,void 0,v)}ze.accumulate=k;function B(y,m=(b,I)=>b===I,v){let b=!0,I;return l(y,R=>{let V=b||!m(R,I);return b=!1,I=R,V},v)}ze.latch=B;function N(y,m,v){return[ze.filter(y,m,v),ze.filter(y,b=>!m(b),v)]}ze.split=N;function P(y,m=!1,v=[],b){let I=v.slice(),R=y(oe=>{I?I.push(oe):ee.fire(oe)});b&&b.add(R);let V=()=>{I?.forEach(oe=>ee.fire(oe)),I=null},ee=new z({onWillAddFirstListener(){R||(R=y(oe=>ee.fire(oe)),b&&b.add(R))},onDidAddFirstListener(){I&&(m?setTimeout(V):V())},onDidRemoveLastListener(){R&&R.dispose(),R=null}});return b&&b.add(ee),ee.event}ze.buffer=P;function Q(y,m){return(b,I,R)=>{let V=m(new h);return y(function(ee){let oe=V.evaluate(ee);oe!==M&&b.call(I,oe)},void 0,R)}}ze.chain=Q;let M=Symbol("HaltChainable");class h{steps=[];map(m){return this.steps.push(m),this}forEach(m){return this.steps.push(v=>(m(v),v)),this}filter(m){return this.steps.push(v=>m(v)?v:M),this}reduce(m,v){let b=v;return this.steps.push(I=>(b=m(b,I),b)),this}latch(m=(v,b)=>v===b){let v=!0,b;return this.steps.push(I=>{let R=v||!m(I,b);return v=!1,b=I,R?I:M}),this}evaluate(m){for(let v of this.steps)if(m=v(m),m===M)break;return m}}function T(y,m,v=b=>b){let b=(...ee)=>V.fire(v(...ee)),I=()=>y.on(m,b),R=()=>y.removeListener(m,b),V=new z({onWillAddFirstListener:I,onDidRemoveLastListener:R});return V.event}ze.fromNodeEventEmitter=T;function O(y,m,v=b=>b){let b=(...ee)=>V.fire(v(...ee)),I=()=>y.addEventListener(m,b),R=()=>y.removeEventListener(m,b),V=new z({onWillAddFirstListener:I,onDidRemoveLastListener:R});return V.event}ze.fromDOMEventEmitter=O;function E(y){return new Promise(m=>r(y)(m))}ze.toPromise=E;function F(y){let m=new z;return y.then(v=>{m.fire(v)},()=>{m.fire(void 0)}).finally(()=>{m.dispose()}),m.event}ze.fromPromise=F;function q(y,m){return y(v=>m.fire(v))}ze.forward=q;function ie(y,m,v){return m(v),y(b=>m(b))}ze.runAndSubscribe=ie;class ot{constructor(m,v){this._observable=m;let b={onWillAddFirstListener:()=>{m.addObserver(this),this._observable.reportChanges()},onDidRemoveLastListener:()=>{m.removeObserver(this)}};v||e(b),this.emitter=new z(b),v&&v.add(this.emitter)}emitter;_counter=0;_hasChanged=!1;beginUpdate(m){this._counter++}handlePossibleChange(m){}handleChange(m,v){this._hasChanged=!0}endUpdate(m){this._counter--,this._counter===0&&(this._observable.reportChanges(),this._hasChanged&&(this._hasChanged=!1,this.emitter.fire(this._observable.get())))}}function os(y,m){return new ot(y,m).emitter.event}ze.fromObservable=os;function ss(y){return(m,v,b)=>{let I=0,R=!1,V={beginUpdate(){I++},endUpdate(){I--,I===0&&(y.reportChanges(),R&&(R=!1,m.call(v)))},handlePossibleChange(){},handleChange(){R=!0}};y.addObserver(V),y.reportChanges();let ee={dispose(){y.removeObserver(V)}};return b instanceof xe?b.add(ee):Array.isArray(b)&&b.push(ee),ee}}ze.fromObservableLight=ss})(Oe||={});var Er=class n{static all=new Set;static _idPool=0;name;listenerCount=0;invocationCount=0;elapsedOverall=0;durations=[];_stopWatch;constructor(e){this.name=`${e}_${n._idPool++}`,n.all.add(this)}start(e){this._stopWatch=new vt,this.listenerCount=e}stop(){if(this._stopWatch){let e=this._stopWatch.elapsed();this.durations.push(e),this.elapsedOverall+=e,this.invocationCount+=1,this._stopWatch=void 0}}},eo=-1;var wr=class n{constructor(e,t,r=(n._idPool++).toString(16).padStart(3,"0")){this._errorHandler=e;this.threshold=t;this.name=r}static _idPool=1;_stacks;_warnCountdown=0;dispose(){this._stacks?.clear()}check(e,t){let r=this.threshold;if(r<=0||t<r)return;this._stacks||(this._stacks=new Map);let i=this._stacks.get(e.value)||0;if(this._stacks.set(e.value,i+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=r*.5;let[s,a]=this.getMostFrequentStack(),l=`[${this.name}] potential listener LEAK detected, having ${t} listeners already. MOST frequent listener (${a}):`;console.warn(l),console.warn(s);let u=new Sr(l,s);this._errorHandler(u)}return()=>{let s=this._stacks.get(e.value)||0;this._stacks.set(e.value,s-1)}}getMostFrequentStack(){if(!this._stacks)return;let e,t=0;for(let[r,i]of this._stacks)(!e||t<i)&&(e=[r,i],t=i);return e}},Ft=class n{constructor(e){this.value=e}static create(){let e=new Error;return new n(e.stack??"")}print(){console.warn(this.value.split(`
`).slice(2).join(`
`))}},Sr=class extends Error{constructor(e,t){super(e),this.name="ListenerLeakError",this.stack=t}},kr=class extends Error{constructor(e,t){super(e),this.name="ListenerRefusalError",this.stack=t}},ya=0,xt=class{constructor(e){this.value=e}stack;id=ya++},va=2,xa=(n,e)=>{if(n instanceof xt)e(n);else for(let t=0;t<n.length;t++){let r=n[t];r&&e(r)}},Rn;if(ma){let n=[];setInterval(()=>{n.length!==0&&(console.warn("[LEAKING LISTENERS] GC'ed these listeners that were NOT yet disposed:"),console.warn(n.join(`
`)),n.length=0)},3e3),Rn=new FinalizationRegistry(e=>{typeof e=="string"&&n.push(e)})}var z=class{_options;_leakageMon;_perfMon;_disposed;_event;_listeners;_deliveryQueue;_size=0;constructor(e){this._options=e,this._leakageMon=eo>0||this._options?.leakWarningThreshold?new wr(e?.onListenerError??De,this._options?.leakWarningThreshold??eo):void 0,this._perfMon=this._options?._profName?new Er(this._options._profName):void 0,this._deliveryQueue=this._options?.deliveryQueue}dispose(){if(!this._disposed){if(this._disposed=!0,this._deliveryQueue?.current===this&&this._deliveryQueue.reset(),this._listeners){if(Zi){let e=this._listeners;queueMicrotask(()=>{xa(e,t=>t.stack?.print())})}this._listeners=void 0,this._size=0}this._options?.onDidRemoveLastListener?.(),this._leakageMon?.dispose()}}get event(){return this._event??=(e,t,r)=>{if(this._leakageMon&&this._size>this._leakageMon.threshold**2){let u=`[${this._leakageMon.name}] REFUSES to accept new listeners because it exceeded its threshold by far (${this._size} vs ${this._leakageMon.threshold})`;console.warn(u);let c=this._leakageMon.getMostFrequentStack()??["UNKNOWN stack",-1],d=new kr(`${u}. HINT: Stack shows most frequent listener (${c[1]}-times)`,c[0]);return(this._options?.onListenerError||De)(d),de.None}if(this._disposed)return de.None;t&&(e=e.bind(t));let i=new xt(e),s,a;this._leakageMon&&this._size>=Math.ceil(this._leakageMon.threshold*.2)&&(i.stack=Ft.create(),s=this._leakageMon.check(i.stack,this._size+1)),Zi&&(i.stack=a??Ft.create()),this._listeners?this._listeners instanceof xt?(this._deliveryQueue??=new Rr,this._listeners=[this._listeners,i]):this._listeners.push(i):(this._options?.onWillAddFirstListener?.(this),this._listeners=i,this._options?.onDidAddFirstListener?.(this)),this._size++;let l=he(()=>{Rn?.unregister(l),s?.(),this._removeListener(i)});if(r instanceof xe?r.add(l):Array.isArray(r)&&r.push(l),Rn){let u=new Error().stack.split(`
`).slice(2,3).join(`
`).trim(),c=/(file:|vscode-file:\/\/vscode-app)?(\/[^:]*:\d+:\d+)/.exec(u);Rn.register(l,c?.[2]??u,l)}return l},this._event}_removeListener(e){if(this._options?.onWillRemoveListener?.(this),!this._listeners)return;if(this._size===1){this._listeners=void 0,this._options?.onDidRemoveLastListener?.(this),this._size=0;return}let t=this._listeners,r=t.indexOf(e);if(r===-1)throw console.log("disposed?",this._disposed),console.log("size?",this._size),console.log("arr?",JSON.stringify(this._listeners)),new Error("Attempted to dispose unknown listener");this._size--,t[r]=void 0;let i=this._deliveryQueue.current===this;if(this._size*va<=t.length){let s=0;for(let a=0;a<t.length;a++)t[a]?t[s++]=t[a]:i&&(this._deliveryQueue.end--,s<this._deliveryQueue.i&&this._deliveryQueue.i--);t.length=s}}_deliver(e,t){if(!e)return;let r=this._options?.onListenerError||De;if(!r){e.value(t);return}try{e.value(t)}catch(i){r(i)}}_deliverQueue(e){let t=e.current._listeners;for(;e.i<e.end;)this._deliver(t[e.i++],e.value);e.reset()}fire(e){if(this._deliveryQueue?.current&&(this._deliverQueue(this._deliveryQueue),this._perfMon?.stop()),this._perfMon?.start(this._size),this._listeners)if(this._listeners instanceof xt)this._deliver(this._listeners,e);else{let t=this._deliveryQueue;t.enqueue(this,e,this._listeners.length),this._deliverQueue(t)}this._perfMon?.stop()}hasListeners(){return this._size>0}};var Rr=class{i=-1;end=0;current;value;enqueue(e,t,r){this.i=0,this.end=r,this.current=e,this.value=t}reset(){this.i=this.end,this.current=void 0,this.value=void 0}};var to=Object.freeze(function(n,e){let t=setTimeout(n.bind(e),0);return{dispose(){clearTimeout(t)}}}),Kt;(r=>{function n(i){return i===r.None||i===r.Cancelled||i instanceof Tt?!0:!i||typeof i!="object"?!1:typeof i.isCancellationRequested=="boolean"&&typeof i.onCancellationRequested=="function"}r.isCancellationToken=n,r.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:Oe.None}),r.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:to})})(Kt||={});var Tt=class{_isCancelled=!1;_emitter=null;cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?to:(this._emitter||(this._emitter=new z),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}},yt=class{_token=void 0;_parentListener=void 0;constructor(e){this._parentListener=e&&e.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new Tt),this._token}cancel(){this._token?this._token instanceof Tt&&this._token.cancel():this._token=Kt.Cancelled}dispose(e=!1){e&&this.cancel(),this._parentListener?.dispose(),this._token?this._token instanceof Tt&&this._token.dispose():this._token=Kt.None}};function Ta(n){return n}var Dn=class{lastCache=void 0;lastArgKey=void 0;_fn;_computeKey;constructor(e,t){typeof e=="function"?(this._fn=e,this._computeKey=Ta):(this._fn=t,this._computeKey=e.getCacheKey)}get(e){let t=this._computeKey(e);return this.lastArgKey!==t&&(this.lastArgKey=t,this.lastCache=this._fn(e)),this.lastCache}};var We=class{constructor(e){this.executor=e}_didRun=!1;_value;_error;get hasValue(){return this._didRun}get value(){if(!this._didRun)try{this._value=this.executor()}catch(e){this._error=e}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}};function io(n){return!n||typeof n!="string"?!0:n.trim().length===0}function Dr(n,e){return n<e?-1:n>e?1:0}function oo(n,e,t=0,r=n.length,i=0,s=e.length){for(;t<r&&i<s;t++,i++){let u=n.charCodeAt(t),c=e.charCodeAt(i);if(u<c)return-1;if(u>c)return 1}let a=r-t,l=s-i;return a<l?-1:a>l?1:0}function Or(n,e,t=0,r=n.length,i=0,s=e.length){for(;t<r&&i<s;t++,i++){let u=n.charCodeAt(t),c=e.charCodeAt(i);if(u===c)continue;if(u>=128||c>=128)return oo(n.toLowerCase(),e.toLowerCase(),t,r,i,s);no(u)&&(u-=32),no(c)&&(c-=32);let d=u-c;if(d!==0)return d}let a=r-t,l=s-i;return a<l?-1:a>l?1:0}function no(n){return n>=97&&n<=122}function Te(n,e){return n.length===e.length&&Or(n,e)===0}function Cr(n,e){let t=e.length;return e.length>n.length?!1:Or(n,e,0,t)===0}function so(n){return 55296<=n&&n<=56319}function Ar(n){return 56320<=n&&n<=57343}function ao(n,e){return(n-55296<<10)+(e-56320)+65536}var gp=String.fromCharCode(65279);var ro=class n{constructor(e){this.confusableDictionary=e}static ambiguousCharacterData=new We(()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125,119846,109],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}'));static cache=new Dn({getCacheKey:JSON.stringify},e=>{function t(d){let p=new Map;for(let f=0;f<d.length;f+=2)p.set(d[f],d[f+1]);return p}function r(d,p){let f=new Map(d);for(let[x,k]of p)f.set(x,k);return f}function i(d,p){if(!d)return p;let f=new Map;for(let[x,k]of d)p.has(x)&&f.set(x,k);return f}let s=this.ambiguousCharacterData.value,a=e.filter(d=>!d.startsWith("_")&&d in s);a.length===0&&(a=["_default"]);let l;for(let d of a){let p=t(s[d]);l=i(l,p)}let u=t(s._common),c=r(u,l);return new n(c)});static getInstance(e){return n.cache.get(Array.from(e))}static _locales=new We(()=>Object.keys(n.ambiguousCharacterData.value).filter(e=>!e.startsWith("_")));static getLocales(){return n._locales.value}isAmbiguous(e){return this.confusableDictionary.has(e)}containsAmbiguousCharacter(e){for(let t=0;t<e.length;t++){let r=e.codePointAt(t);if(typeof r=="number"&&this.isAmbiguous(r))return!0}return!1}getPrimaryConfusable(e){return this.confusableDictionary.get(e)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}};function Ie(n){return typeof n=="string"}function _e(n){return typeof n=="object"&&n!==null&&!Array.isArray(n)&&!(n instanceof RegExp)&&!(n instanceof Date)}function It(n){return typeof n>"u"}function Mt(n){return It(n)||n===null}var Ia=Object.prototype.hasOwnProperty;function lo(n){if(!_e(n))return!1;for(let e in n)if(Ia.call(n,e))return!1;return!0}function _a(n){return typeof n=="function"}function uo(n,e){let t=Math.min(n.length,e.length);for(let r=0;r<t;r++)Ea(n[r],e[r])}function Ea(n,e){if(Ie(e)){if(typeof n!==e)throw new Error(`argument does not match constraint: typeof ${e}`)}else if(_a(e)){try{if(n instanceof e)return}catch{}if(!Mt(n)&&n.constructor===e||e.length===1&&e.call(void 0,n)===!0)return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}function Be(n){return n===47||n===92}function Pr(n){return n.replace(/[\\/]/g,A.sep)}function co(n){return n.indexOf("/")===-1&&(n=Pr(n)),/^[a-zA-Z]:(\/|$)/.test(n)&&(n="/"+n),n}function Ur(n,e=A.sep){if(!n)return"";let t=n.length,r=n.charCodeAt(0);if(Be(r)){if(Be(n.charCodeAt(1))&&!Be(n.charCodeAt(2))){let s=3,a=s;for(;s<t&&!Be(n.charCodeAt(s));s++);if(a!==s&&!Be(n.charCodeAt(s+1))){for(s+=1;s<t;s++)if(Be(n.charCodeAt(s)))return n.slice(0,s+1).replace(/[\\/]/g,e)}}return e}else if(po(r)&&n.charCodeAt(1)===58)return Be(n.charCodeAt(2))?n.slice(0,2)+e:n.slice(0,2);let i=n.indexOf("://");if(i!==-1){for(i+=3;i<t;i++)if(Be(n.charCodeAt(i)))return n.slice(0,i+1)}return""}function Xe(n,e,t,r=ct){if(n===e)return!0;if(!n||!e||e.length>n.length)return!1;if(t){if(!Cr(n,e))return!1;if(e.length===n.length)return!0;let s=e.length;return e.charAt(e.length-1)===r&&s--,n.charAt(s)===r}return e.charAt(e.length-1)!==r&&(e+=r),n.indexOf(e)===0}function po(n){return n>=65&&n<=90||n>=97&&n<=122}function fo(n){let e=ve(n);return Z?n.length>3?!1:Sa(e)&&(n.length===2||e.charCodeAt(2)===92):e===A.sep}function Sa(n,e=Z){return e?po(n.charCodeAt(0))&&n.charCodeAt(1)===58:!1}var ka="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",Ra="BDEFGHIJKMOQRSTUVWXYZbdefghijkmoqrstuvwxyz0123456789";function go(n,e,t=8){let r="";for(let s=0;s<t;s++){let a;s===0&&Z&&!e&&(t===3||t===4)?a=Ra:a=ka,r+=a.charAt(Math.floor(Math.random()*a.length))}let i;return e?i=`${e}-${r}`:i=r,n?H(n,i):i}var Ip=Object.freeze({text:"text/plain",binary:"application/octet-stream",unknown:"application/unknown",markdown:"text/markdown",latex:"text/latex",uriList:"text/uri-list"});var Oa={".aac":"audio/x-aac",".avi":"video/x-msvideo",".bmp":"image/bmp",".flv":"video/x-flv",".gif":"image/gif",".ico":"image/x-icon",".jpe":"image/jpg",".jpeg":"image/jpg",".jpg":"image/jpg",".m1v":"video/mpeg",".m2a":"audio/mpeg",".m2v":"video/mpeg",".m3a":"audio/mpeg",".mid":"audio/midi",".midi":"audio/midi",".mk3d":"video/x-matroska",".mks":"video/x-matroska",".mkv":"video/x-matroska",".mov":"video/quicktime",".movie":"video/x-sgi-movie",".mp2":"audio/mpeg",".mp2a":"audio/mpeg",".mp3":"audio/mpeg",".mp4":"video/mp4",".mp4a":"audio/mp4",".mp4v":"video/mp4",".mpe":"video/mpeg",".mpeg":"video/mpeg",".mpg":"video/mpeg",".mpg4":"video/mp4",".mpga":"audio/mpeg",".oga":"audio/ogg",".ogg":"audio/ogg",".opus":"audio/opus",".ogv":"video/ogg",".png":"image/png",".psd":"image/vnd.adobe.photoshop",".qt":"video/quicktime",".spx":"audio/ogg",".svg":"image/svg+xml",".tga":"image/x-tga",".tif":"image/tiff",".tiff":"image/tiff",".wav":"audio/x-wav",".webm":"video/webm",".webp":"image/webp",".wma":"audio/x-ms-wma",".wmv":"video/x-ms-wmv",".woff":"application/font-woff"};function ho(n){let e=Dt(n);return Oa[e.toLowerCase()]}function Nr(n,e,t=32){let r=t-e,i=~((1<<r)-1);return(n<<e|(i&n)>>>r)>>>0}function mo(n,e=0,t=n.byteLength,r=0){for(let i=0;i<t;i++)n[e+i]=r}function Ca(n,e,t="0"){for(;n.length<e;)n=t+n;return n}function Vt(n,e=32){return n instanceof ArrayBuffer?Array.from(new Uint8Array(n)).map(t=>t.toString(16).padStart(2,"0")).join(""):Ca((n>>>0).toString(16),e/4)}var bo=class n{static _bigBlock32=new DataView(new ArrayBuffer(320));_h0=1732584193;_h1=4023233417;_h2=2562383102;_h3=271733878;_h4=3285377520;_buff;_buffDV;_buffLen;_totalLen;_leftoverHighSurrogate;_finished;constructor(){this._buff=new Uint8Array(67),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(e){let t=e.length;if(t===0)return;let r=this._buff,i=this._buffLen,s=this._leftoverHighSurrogate,a,l;for(s!==0?(a=s,l=-1,s=0):(a=e.charCodeAt(0),l=0);;){let u=a;if(so(a))if(l+1<t){let c=e.charCodeAt(l+1);Ar(c)?(l++,u=ao(a,c)):u=65533}else{s=a;break}else Ar(a)&&(u=65533);if(i=this._push(r,i,u),l++,l<t)a=e.charCodeAt(l);else break}this._buffLen=i,this._leftoverHighSurrogate=s}_push(e,t,r){return r<128?e[t++]=r:r<2048?(e[t++]=192|(r&1984)>>>6,e[t++]=128|(r&63)>>>0):r<65536?(e[t++]=224|(r&61440)>>>12,e[t++]=128|(r&4032)>>>6,e[t++]=128|(r&63)>>>0):(e[t++]=240|(r&1835008)>>>18,e[t++]=128|(r&258048)>>>12,e[t++]=128|(r&4032)>>>6,e[t++]=128|(r&63)>>>0),t>=64&&(this._step(),t-=64,this._totalLen+=64,e[0]=e[64],e[1]=e[65],e[2]=e[66]),t}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),Vt(this._h0)+Vt(this._h1)+Vt(this._h2)+Vt(this._h3)+Vt(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,mo(this._buff,this._buffLen),this._buffLen>56&&(this._step(),mo(this._buff));let e=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(e/4294967296),!1),this._buffDV.setUint32(60,e%4294967296,!1),this._step()}_step(){let e=n._bigBlock32,t=this._buffDV;for(let p=0;p<64;p+=4)e.setUint32(p,t.getUint32(p,!1),!1);for(let p=64;p<320;p+=4)e.setUint32(p,Nr(e.getUint32(p-12,!1)^e.getUint32(p-32,!1)^e.getUint32(p-56,!1)^e.getUint32(p-64,!1),1),!1);let r=this._h0,i=this._h1,s=this._h2,a=this._h3,l=this._h4,u,c,d;for(let p=0;p<80;p++)p<20?(u=i&s|~i&a,c=1518500249):p<40?(u=i^s^a,c=1859775393):p<60?(u=i&s|i&a|s&a,c=2400959708):(u=i^s^a,c=3395469782),d=Nr(r,5)+u+l+c+e.getUint32(p*4,!1)&4294967295,l=a,a=s,s=Nr(i,30),i=r,r=d;this._h0=this._h0+r&4294967295,this._h1=this._h1+i&4294967295,this._h2=this._h2+s&4294967295,this._h3=this._h3+a&4294967295,this._h4=this._h4+l&4294967295}};var G;(_=>(_.inMemory="inmemory",_.vscode="vscode",_.internal="private",_.walkThrough="walkThrough",_.walkThroughSnippet="walkThroughSnippet",_.http="http",_.https="https",_.file="file",_.mailto="mailto",_.untitled="untitled",_.data="data",_.command="command",_.vscodeRemote="vscode-remote",_.vscodeRemoteResource="vscode-remote-resource",_.vscodeManagedRemoteResource="vscode-managed-remote-resource",_.vscodeUserData="vscode-userdata",_.vscodeCustomEditor="vscode-custom-editor",_.vscodeNotebookCell="vscode-notebook-cell",_.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",_.vscodeNotebookCellMetadataDiff="vscode-notebook-cell-metadata-diff",_.vscodeNotebookCellOutput="vscode-notebook-cell-output",_.vscodeNotebookCellOutputDiff="vscode-notebook-cell-output-diff",_.vscodeNotebookMetadata="vscode-notebook-metadata",_.vscodeInteractiveInput="vscode-interactive-input",_.vscodeSettings="vscode-settings",_.vscodeWorkspaceTrust="vscode-workspace-trust",_.vscodeTerminal="vscode-terminal",_.vscodeChatCodeBlock="vscode-chat-code-block",_.vscodeChatCodeCompareBlock="vscode-chat-code-compare-block",_.vscodeChatSesssion="vscode-chat-editor",_.webviewPanel="webview-panel",_.vscodeWebview="vscode-webview",_.extension="extension",_.vscodeFileResource="vscode-file",_.tmp="tmp",_.vsls="vsls",_.vscodeSourceControl="vscode-scm",_.commentsInput="comment",_.codeSetting="code-setting",_.outputChannel="output"))(G||={});var Cn="vscode-tkn",Wt="tkn",Fr=class{_hosts=Object.create(null);_ports=Object.create(null);_connectionTokens=Object.create(null);_preferredWebSchema="http";_delegate=null;_serverRootPath="/";setPreferredWebSchema(e){this._preferredWebSchema=e}setDelegate(e){this._delegate=e}setServerRootPath(e,t){this._serverRootPath=La(e,t)}getServerRootPath(){return this._serverRootPath}get _remoteResourcesPath(){return A.join(this._serverRootPath,G.vscodeRemoteResource)}set(e,t,r){this._hosts[e]=t,this._ports[e]=r}setConnectionToken(e,t){this._connectionTokens[e]=t}getPreferredWebSchema(){return this._preferredWebSchema}rewrite(e){if(this._delegate)try{return this._delegate(e)}catch(l){return De(l),e}let t=e.authority,r=this._hosts[t];r&&r.indexOf(":")!==-1&&r.indexOf("[")===-1&&(r=`[${r}]`);let i=this._ports[t],s=this._connectionTokens[t],a=`path=${encodeURIComponent(e.path)}`;return typeof s=="string"&&(a+=`&${Wt}=${encodeURIComponent(s)}`),S.from({scheme:kt?this._preferredWebSchema:G.vscodeRemoteResource,authority:`${r}:${i}`,path:this._remoteResourcesPath,query:a})}},Aa=new Fr;function La(n,e){return A.join(e??"/",`${n.quality??"oss"}-${n.commit??"dev"}`)}var yo="vs/../../extensions";var Pa="vscode-app",Kr=class n{static FALLBACK_AUTHORITY=Pa;asBrowserUri(e){let t=this.toUri(e);return this.uriToBrowserUri(t)}uriToBrowserUri(e){return e.scheme===G.vscodeRemote?Aa.rewrite(e):e.scheme===G.file&&(bi||yi===`${G.vscodeFileResource}://${n.FALLBACK_AUTHORITY}`)?e.with({scheme:G.vscodeFileResource,authority:e.authority||n.FALLBACK_AUTHORITY,query:null,fragment:null}):e}asFileUri(e){let t=this.toUri(e);return this.uriToFileUri(t)}uriToFileUri(e){return e.scheme===G.vscodeFileResource?e.with({scheme:G.file,authority:e.authority!==n.FALLBACK_AUTHORITY?e.authority:null,query:null,fragment:null}):e}toUri(e,t){if(S.isUri(e))return e;if(globalThis._VSCODE_FILE_ROOT){let r=globalThis._VSCODE_FILE_ROOT;if(/^\w[\w\d+.-]*:\/\//.test(r))return S.joinPath(S.parse(r,!0),e);let i=H(r,e);return S.file(i)}return S.parse(t.toUrl(e))}},Ee=new Kr,Ua;(s=>{let n=new Map([["1",{"Cross-Origin-Opener-Policy":"same-origin"}],["2",{"Cross-Origin-Embedder-Policy":"require-corp"}],["3",{"Cross-Origin-Opener-Policy":"same-origin","Cross-Origin-Embedder-Policy":"require-corp"}]]);s.CoopAndCoep=Object.freeze(n.get("3"));let t="vscode-coi";function r(a){let l;typeof a=="string"?l=new URL(a).searchParams:a instanceof URL?l=a.searchParams:S.isUri(a)&&(l=new URL(a.toString(!0)).searchParams);let u=l?.get(t);if(u)return n.get(u)}s.getHeadersFromQuery=r;function i(a,l,u){if(!globalThis.crossOriginIsolated)return;let c=l&&u?"3":u?"2":"1";a instanceof URLSearchParams?a.set(t,c):a[t]=c}s.addSearchParam=i})(Ua||={});function Ce(n){return Ot(n,!0)}var Bt=class{constructor(e){this._ignorePathCasing=e}compare(e,t,r=!1){return e===t?0:Dr(this.getComparisonKey(e,r),this.getComparisonKey(t,r))}isEqual(e,t,r=!1){return e===t?!0:!e||!t?!1:this.getComparisonKey(e,r)===this.getComparisonKey(t,r)}getComparisonKey(e,t=!1){return e.with({path:this._ignorePathCasing(e)?e.path.toLowerCase():void 0,fragment:t?null:void 0}).toString()}ignorePathCasing(e){return this._ignorePathCasing(e)}isEqualOrParent(e,t,r=!1){if(e.scheme===t.scheme){if(e.scheme===G.file)return Xe(Ce(e),Ce(t),this._ignorePathCasing(e))&&e.query===t.query&&(r||e.fragment===t.fragment);if(vo(e.authority,t.authority))return Xe(e.path,t.path,this._ignorePathCasing(e),"/")&&e.query===t.query&&(r||e.fragment===t.fragment)}return!1}joinPath(e,...t){return S.joinPath(e,...t)}basenameOrAuthority(e){return Fa(e)||e.authority}basename(e){return A.basename(e.path)}extname(e){return A.extname(e.path)}dirname(e){if(e.path.length===0)return e;let t;return e.scheme===G.file?t=S.file(ut(Ce(e))).path:(t=A.dirname(e.path),e.authority&&t.length&&t.charCodeAt(0)!==47&&(console.error(`dirname("${e.toString})) resulted in a relative path`),t="/")),e.with({path:t})}normalizePath(e){if(!e.path.length)return e;let t;return e.scheme===G.file?t=S.file(ve(Ce(e))).path:t=A.normalize(e.path),e.with({path:t})}relativePath(e,t){if(e.scheme!==t.scheme||!vo(e.authority,t.authority))return;if(e.scheme===G.file){let s=wi(Ce(e),Ce(t));return Z?Pr(s):s}let r=e.path||"/",i=t.path||"/";if(this._ignorePathCasing(e)){let s=0;for(let a=Math.min(r.length,i.length);s<a&&!(r.charCodeAt(s)!==i.charCodeAt(s)&&r.charAt(s).toLowerCase()!==i.charAt(s).toLowerCase());s++);r=i.substr(0,s)+r.substr(s)}return A.relative(r,i)}resolvePath(e,t){if(e.scheme===G.file){let r=S.file(lt(Ce(e),t));return e.with({authority:r.authority,path:r.path})}return t=co(t),e.with({path:A.resolve(e.path,t)})}isAbsolutePath(e){return!!e.path&&e.path[0]==="/"}isEqualAuthority(e,t){return e===t||e!==void 0&&t!==void 0&&Te(e,t)}hasTrailingPathSeparator(e,t=ct){if(e.scheme===G.file){let r=Ce(e);return r.length>Ur(r).length&&r[r.length-1]===t}else{let r=e.path;return r.length>1&&r.charCodeAt(r.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(e.fsPath)}}removeTrailingPathSeparator(e,t=ct){return xo(e,t)?e.with({path:e.path.substr(0,e.path.length-1)}):e}addTrailingPathSeparator(e,t=ct){let r=!1;if(e.scheme===G.file){let i=Ce(e);r=i!==void 0&&i.length===Ur(i).length&&i[i.length-1]===t}else{t="/";let i=e.path;r=i.length===1&&i.charCodeAt(i.length-1)===47}return!r&&!xo(e,t)?e.with({path:e.path+"/"}):e}},L=new Bt(()=>!1),Mr=new Bt(n=>n.scheme===G.file?!Pe:!0),Bp=new Bt(n=>!0),qp=L.isEqual.bind(L),$p=L.isEqualOrParent.bind(L),zp=L.getComparisonKey.bind(L),Na=L.basenameOrAuthority.bind(L),Fa=L.basename.bind(L),Ka=L.extname.bind(L),jp=L.dirname.bind(L),fe=L.joinPath.bind(L),Hp=L.normalizePath.bind(L),Gp=L.relativePath.bind(L),Jp=L.resolvePath.bind(L),Qp=L.isAbsolutePath.bind(L),vo=L.isEqualAuthority.bind(L),xo=L.hasTrailingPathSeparator.bind(L),Xp=L.removeTrailingPathSeparator.bind(L),Yp=L.addTrailingPathSeparator.bind(L);var Ma;(s=>{s.META_DATA_LABEL="label",s.META_DATA_DESCRIPTION="description",s.META_DATA_SIZE="size",s.META_DATA_MIME="mime";function i(a){let l=new Map;a.path.substring(a.path.indexOf(";")+1,a.path.lastIndexOf(";")).split(";").forEach(d=>{let[p,f]=d.split(":");p&&f&&l.set(p,f)});let c=a.path.substring(0,a.path.indexOf(";"));return c&&l.set(s.META_DATA_MIME,c),l}s.parseMetaData=i})(Ma||={});function Vr(...n){switch(n.length){case 1:return g("contextkey.scanner.hint.didYouMean1","Did you mean {0}?",n[0]);case 2:return g("contextkey.scanner.hint.didYouMean2","Did you mean {0} or {1}?",n[0],n[1]);case 3:return g("contextkey.scanner.hint.didYouMean3","Did you mean {0}, {1} or {2}?",n[0],n[1],n[2]);default:return}}var Va=g("contextkey.scanner.hint.didYouForgetToOpenOrCloseQuote","Did you forget to open or close the quote?"),Wa=g("contextkey.scanner.hint.didYouForgetToEscapeSlash","Did you forget to escape the '/' (slash) character? Put two backslashes before it to escape, e.g., '\\\\/'."),qe=class n{static getLexeme(e){switch(e.type){case 0:return"(";case 1:return")";case 2:return"!";case 3:return e.isTripleEq?"===":"==";case 4:return e.isTripleEq?"!==":"!=";case 5:return"<";case 6:return"<=";case 7:return">=";case 8:return">=";case 9:return"=~";case 10:return e.lexeme;case 11:return"true";case 12:return"false";case 13:return"in";case 14:return"not";case 15:return"&&";case 16:return"||";case 17:return e.lexeme;case 18:return e.lexeme;case 19:return e.lexeme;case 20:return"EOF";default:throw ki(`unhandled token type: ${JSON.stringify(e)}; have you forgotten to add a case?`)}}static _regexFlags=new Set(["i","g","s","m","y","u"].map(e=>e.charCodeAt(0)));static _keywords=new Map([["not",14],["in",13],["false",12],["true",11]]);_input="";_start=0;_current=0;_tokens=[];_errors=[];get errors(){return this._errors}reset(e){return this._input=e,this._start=0,this._current=0,this._tokens=[],this._errors=[],this}scan(){for(;!this._isAtEnd();)switch(this._start=this._current,this._advance()){case 40:this._addToken(0);break;case 41:this._addToken(1);break;case 33:if(this._match(61)){let t=this._match(61);this._tokens.push({type:4,offset:this._start,isTripleEq:t})}else this._addToken(2);break;case 39:this._quotedString();break;case 47:this._regex();break;case 61:if(this._match(61)){let t=this._match(61);this._tokens.push({type:3,offset:this._start,isTripleEq:t})}else this._match(126)?this._addToken(9):this._error(Vr("==","=~"));break;case 60:this._addToken(this._match(61)?6:5);break;case 62:this._addToken(this._match(61)?8:7);break;case 38:this._match(38)?this._addToken(15):this._error(Vr("&&"));break;case 124:this._match(124)?this._addToken(16):this._error(Vr("||"));break;case 32:case 13:case 9:case 10:case 160:break;default:this._string()}return this._start=this._current,this._addToken(20),Array.from(this._tokens)}_match(e){return this._isAtEnd()||this._input.charCodeAt(this._current)!==e?!1:(this._current++,!0)}_advance(){return this._input.charCodeAt(this._current++)}_peek(){return this._isAtEnd()?0:this._input.charCodeAt(this._current)}_addToken(e){this._tokens.push({type:e,offset:this._start})}_error(e){let t=this._start,r=this._input.substring(this._start,this._current),i={type:19,offset:this._start,lexeme:r};this._errors.push({offset:t,lexeme:r,additionalInfo:e}),this._tokens.push(i)}stringRe=/[a-zA-Z0-9_<>\-\./\\:\*\?\+\[\]\^,#@;"%\$\p{L}-]+/uy;_string(){this.stringRe.lastIndex=this._start;let e=this.stringRe.exec(this._input);if(e){this._current=this._start+e[0].length;let t=this._input.substring(this._start,this._current),r=n._keywords.get(t);r?this._addToken(r):this._tokens.push({type:17,lexeme:t,offset:this._start})}}_quotedString(){for(;this._peek()!==39&&!this._isAtEnd();)this._advance();if(this._isAtEnd()){this._error(Va);return}this._advance(),this._tokens.push({type:18,lexeme:this._input.substring(this._start+1,this._current-1),offset:this._start+1})}_regex(){let e=this._current,t=!1,r=!1;for(;;){if(e>=this._input.length){this._current=e,this._error(Wa);return}let s=this._input.charCodeAt(e);if(t)t=!1;else if(s===47&&!r){e++;break}else s===91?r=!0:s===92?t=!0:s===93&&(r=!1);e++}for(;e<this._input.length&&n._regexFlags.has(this._input.charCodeAt(e));)e++;this._current=e;let i=this._input.substring(this._start,this._current);this._tokens.push({type:10,lexeme:i,offset:this._start})}_isAtEnd(){return this._current>=this._input.length}};var $e;(i=>{i.serviceIds=new Map,i.DI_TARGET="$di$target",i.DI_DEPENDENCIES="$di$dependencies";function r(s){return s[i.DI_DEPENDENCIES]||[]}i.getServiceDependencies=r})($e||={});var mf=J("instantiationService");function Ba(n,e,t){e[$e.DI_TARGET]===e?e[$e.DI_DEPENDENCIES].push({id:n,index:t}):(e[$e.DI_DEPENDENCIES]=[{id:n,index:t}],e[$e.DI_TARGET]=e)}function J(n){if($e.serviceIds.has(n))return $e.serviceIds.get(n);let e=function(t,r,i){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");Ba(e,t,i)};return e.toString=()=>n,$e.serviceIds.set(n,e),e}var te=new Map;te.set("false",!1);te.set("true",!0);te.set("isMac",Le);te.set("isLinux",Pe);te.set("isWindows",Z);te.set("isWeb",kt);te.set("isMacNative",Le&&!kt);te.set("isEdge",Ii);te.set("isFirefox",xi);te.set("isChrome",lr);te.set("isSafari",Ti);var qa=Object.prototype.hasOwnProperty;var $a={regexParsingWithErrorRecovery:!0},za=g("contextkey.parser.error.emptyString","Empty context key expression"),ja=g("contextkey.parser.error.emptyString.hint","Did you forget to write an expression? You can also put 'false' or 'true' to always evaluate to false or true, respectively."),Ha=g("contextkey.parser.error.noInAfterNot","'in' after 'not'."),To=g("contextkey.parser.error.closingParenthesis","closing parenthesis ')'"),Ga=g("contextkey.parser.error.unexpectedToken","Unexpected token"),Ja=g("contextkey.parser.error.unexpectedToken.hint","Did you forget to put && or || before the token?"),Qa=g("contextkey.parser.error.unexpectedEOF","Unexpected end of expression"),Xa=g("contextkey.parser.error.unexpectedEOF.hint","Did you forget to put a context key?"),Wr=class n{constructor(e=$a){this._config=e}static _parseError=new Error;_scanner=new qe;_tokens=[];_current=0;_parsingErrors=[];get lexingErrors(){return this._scanner.errors}get parsingErrors(){return this._parsingErrors}parse(e){if(e===""){this._parsingErrors.push({message:za,offset:0,lexeme:"",additionalInfo:ja});return}this._tokens=this._scanner.reset(e).scan(),this._current=0,this._parsingErrors=[];try{let t=this._expr();if(!this._isAtEnd()){let r=this._peek(),i=r.type===17?Ja:void 0;throw this._parsingErrors.push({message:Ga,offset:r.offset,lexeme:qe.getLexeme(r),additionalInfo:i}),n._parseError}return t}catch(t){if(t!==n._parseError)throw t;return}}_expr(){return this._or()}_or(){let e=[this._and()];for(;this._matchOne(16);){let t=this._and();e.push(t)}return e.length===1?e[0]:re.or(...e)}_and(){let e=[this._term()];for(;this._matchOne(15);){let t=this._term();e.push(t)}return e.length===1?e[0]:re.and(...e)}_term(){if(this._matchOne(2)){let e=this._peek();switch(e.type){case 11:return this._advance(),se.INSTANCE;case 12:return this._advance(),ae.INSTANCE;case 0:{this._advance();let t=this._expr();return this._consume(1,To),t?.negate()}case 17:return this._advance(),Ze.create(e.lexeme);default:throw this._errExpectedButGot("KEY | true | false | '(' expression ')'",e)}}return this._primary()}_primary(){let e=this._peek();switch(e.type){case 11:return this._advance(),re.true();case 12:return this._advance(),re.false();case 0:{this._advance();let t=this._expr();return this._consume(1,To),t}case 17:{let t=e.lexeme;if(this._advance(),this._matchOne(9)){let i=this._peek();if(!this._config.regexParsingWithErrorRecovery){if(this._advance(),i.type!==10)throw this._errExpectedButGot("REGEX",i);let s=i.lexeme,a=s.lastIndexOf("/"),l=a===s.length-1?void 0:this._removeFlagsGY(s.substring(a+1)),u;try{u=new RegExp(s.substring(1,a),l)}catch{throw this._errExpectedButGot("REGEX",i)}return Qt.create(t,u)}switch(i.type){case 10:case 19:{let s=[i.lexeme];this._advance();let a=this._peek(),l=0;for(let f=0;f<i.lexeme.length;f++)i.lexeme.charCodeAt(f)===40?l++:i.lexeme.charCodeAt(f)===41&&l--;for(;!this._isAtEnd()&&a.type!==15&&a.type!==16;){switch(a.type){case 0:l++;break;case 1:l--;break;case 10:case 18:for(let f=0;f<a.lexeme.length;f++)a.lexeme.charCodeAt(f)===40?l++:i.lexeme.charCodeAt(f)===41&&l--}if(l<0)break;s.push(qe.getLexeme(a)),this._advance(),a=this._peek()}let u=s.join(""),c=u.lastIndexOf("/"),d=c===u.length-1?void 0:this._removeFlagsGY(u.substring(c+1)),p;try{p=new RegExp(u.substring(1,c),d)}catch{throw this._errExpectedButGot("REGEX",i)}return re.regex(t,p)}case 18:{let s=i.lexeme;this._advance();let a=null;if(!io(s)){let l=s.indexOf("/"),u=s.lastIndexOf("/");if(l!==u&&l>=0){let c=s.slice(l+1,u),d=s[u+1]==="i"?"i":"";try{a=new RegExp(c,d)}catch{throw this._errExpectedButGot("REGEX",i)}}}if(a===null)throw this._errExpectedButGot("REGEX",i);return Qt.create(t,a)}default:throw this._errExpectedButGot("REGEX",this._peek())}}if(this._matchOne(14)){this._consume(13,Ha);let i=this._value();return re.notIn(t,i)}switch(this._peek().type){case 3:{this._advance();let i=this._value();if(this._previous().type===18)return re.equals(t,i);switch(i){case"true":return re.has(t);case"false":return re.not(t);default:return re.equals(t,i)}}case 4:{this._advance();let i=this._value();if(this._previous().type===18)return re.notEquals(t,i);switch(i){case"true":return re.not(t);case"false":return re.has(t);default:return re.notEquals(t,i)}}case 5:return this._advance(),Gt.create(t,this._value());case 6:return this._advance(),Jt.create(t,this._value());case 7:return this._advance(),jt.create(t,this._value());case 8:return this._advance(),Ht.create(t,this._value());case 13:return this._advance(),re.in(t,this._value());default:return re.has(t)}}case 20:throw this._parsingErrors.push({message:Qa,offset:e.offset,lexeme:"",additionalInfo:Xa}),n._parseError;default:throw this._errExpectedButGot(`true | false | KEY 
	| KEY '=~' REGEX 
	| KEY ('==' | '!=' | '<' | '<=' | '>' | '>=' | 'in' | 'not' 'in') value`,this._peek())}}_value(){let e=this._peek();switch(e.type){case 17:case 18:return this._advance(),e.lexeme;case 11:return this._advance(),"true";case 12:return this._advance(),"false";case 13:return this._advance(),"in";default:return""}}_flagsGYRe=/g|y/g;_removeFlagsGY(e){return e.replaceAll(this._flagsGYRe,"")}_previous(){return this._tokens[this._current-1]}_matchOne(e){return this._check(e)?(this._advance(),!0):!1}_advance(){return this._isAtEnd()||this._current++,this._previous()}_consume(e,t){if(this._check(e))return this._advance();throw this._errExpectedButGot(t,this._peek())}_errExpectedButGot(e,t,r){let i=g("contextkey.parser.error.expectedButGot",`Expected: {0}
Received: '{1}'.`,e,qe.getLexeme(t)),s=t.offset,a=qe.getLexeme(t);return this._parsingErrors.push({message:i,offset:s,lexeme:a,additionalInfo:r}),n._parseError}_check(e){return this._peek().type===e}_peek(){return this._tokens[this._current]}_isAtEnd(){return this._peek().type===20}},re=class{static false(){return se.INSTANCE}static true(){return ae.INSTANCE}static has(e){return Ye.create(e)}static equals(e,t){return $t.create(e,t)}static notEquals(e,t){return zt.create(e,t)}static regex(e,t){return Qt.create(e,t)}static in(e,t){return An.create(e,t)}static notIn(e,t){return Ln.create(e,t)}static not(e){return Ze.create(e)}static and(...e){return Pn.create(e,null,!0)}static or(...e){return Xt.create(e,null,!0)}static greater(e,t){return jt.create(e,t)}static greaterEquals(e,t){return Ht.create(e,t)}static smaller(e,t){return Gt.create(e,t)}static smallerEquals(e,t){return Jt.create(e,t)}static _parser=new Wr({regexParsingWithErrorRecovery:!1});static deserialize(e){return e==null?void 0:this._parser.parse(e)}};function qt(n,e){return n.cmp(e)}var se=class n{static INSTANCE=new n;type=0;constructor(){}cmp(e){return this.type-e.type}equals(e){return e.type===this.type}substituteConstants(){return this}evaluate(e){return!1}serialize(){return"false"}keys(){return[]}map(e){return this}negate(){return ae.INSTANCE}},ae=class n{static INSTANCE=new n;type=1;constructor(){}cmp(e){return this.type-e.type}equals(e){return e.type===this.type}substituteConstants(){return this}evaluate(e){return!0}serialize(){return"true"}keys(){return[]}map(e){return this}negate(){return se.INSTANCE}},Ye=class n{constructor(e,t){this.key=e;this.negated=t}static create(e,t=null){let r=te.get(e);return typeof r=="boolean"?r?ae.INSTANCE:se.INSTANCE:new n(e,t)}type=2;cmp(e){return e.type!==this.type?this.type-e.type:Eo(this.key,e.key)}equals(e){return e.type===this.type?this.key===e.key:!1}substituteConstants(){let e=te.get(this.key);return typeof e=="boolean"?e?ae.INSTANCE:se.INSTANCE:this}evaluate(e){return!!e.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}map(e){return e.mapDefined(this.key)}negate(){return this.negated||(this.negated=Ze.create(this.key,this)),this.negated}},$t=class n{constructor(e,t,r){this.key=e;this.value=t;this.negated=r}static create(e,t,r=null){if(typeof t=="boolean")return t?Ye.create(e,r):Ze.create(e,r);let i=te.get(e);return typeof i=="boolean"?t===(i?"true":"false")?ae.INSTANCE:se.INSTANCE:new n(e,t,r)}type=4;cmp(e){return e.type!==this.type?this.type-e.type:et(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){let e=te.get(this.key);if(typeof e=="boolean"){let t=e?"true":"false";return this.value===t?ae.INSTANCE:se.INSTANCE}return this}evaluate(e){return e.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}map(e){return e.mapEquals(this.key,this.value)}negate(){return this.negated||(this.negated=zt.create(this.key,this.value,this)),this.negated}},An=class n{constructor(e,t){this.key=e;this.valueKey=t}static create(e,t){return new n(e,t)}type=10;negated=null;cmp(e){return e.type!==this.type?this.type-e.type:et(this.key,this.valueKey,e.key,e.valueKey)}equals(e){return e.type===this.type?this.key===e.key&&this.valueKey===e.valueKey:!1}substituteConstants(){return this}evaluate(e){let t=e.getValue(this.valueKey),r=e.getValue(this.key);return Array.isArray(t)?t.includes(r):typeof r=="string"&&typeof t=="object"&&t!==null?qa.call(t,r):!1}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}map(e){return e.mapIn(this.key,this.valueKey)}negate(){return this.negated||(this.negated=Ln.create(this.key,this.valueKey)),this.negated}},Ln=class n{constructor(e,t){this.key=e;this.valueKey=t;this._negated=An.create(e,t)}static create(e,t){return new n(e,t)}type=11;_negated;cmp(e){return e.type!==this.type?this.type-e.type:this._negated.cmp(e._negated)}equals(e){return e.type===this.type?this._negated.equals(e._negated):!1}substituteConstants(){return this}evaluate(e){return!this._negated.evaluate(e)}serialize(){return`${this.key} not in '${this.valueKey}'`}keys(){return this._negated.keys()}map(e){return e.mapNotIn(this.key,this.valueKey)}negate(){return this._negated}},zt=class n{constructor(e,t,r){this.key=e;this.value=t;this.negated=r}static create(e,t,r=null){if(typeof t=="boolean")return t?Ze.create(e,r):Ye.create(e,r);let i=te.get(e);return typeof i=="boolean"?t===(i?"true":"false")?se.INSTANCE:ae.INSTANCE:new n(e,t,r)}type=5;cmp(e){return e.type!==this.type?this.type-e.type:et(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){let e=te.get(this.key);if(typeof e=="boolean"){let t=e?"true":"false";return this.value===t?se.INSTANCE:ae.INSTANCE}return this}evaluate(e){return e.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}map(e){return e.mapNotEquals(this.key,this.value)}negate(){return this.negated||(this.negated=$t.create(this.key,this.value,this)),this.negated}},Ze=class n{constructor(e,t){this.key=e;this.negated=t}static create(e,t=null){let r=te.get(e);return typeof r=="boolean"?r?se.INSTANCE:ae.INSTANCE:new n(e,t)}type=3;cmp(e){return e.type!==this.type?this.type-e.type:Eo(this.key,e.key)}equals(e){return e.type===this.type?this.key===e.key:!1}substituteConstants(){let e=te.get(this.key);return typeof e=="boolean"?e?se.INSTANCE:ae.INSTANCE:this}evaluate(e){return!e.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}map(e){return e.mapNot(this.key)}negate(){return this.negated||(this.negated=Ye.create(this.key,this)),this.negated}};function Nn(n,e){if(typeof n=="string"){let t=parseFloat(n);isNaN(t)||(n=t)}return typeof n=="string"||typeof n=="number"?e(n):se.INSTANCE}var jt=class n{constructor(e,t,r){this.key=e;this.value=t;this.negated=r}static create(e,t,r=null){return Nn(t,i=>new n(e,i,r))}type=12;cmp(e){return e.type!==this.type?this.type-e.type:et(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}map(e){return e.mapGreater(this.key,this.value)}negate(){return this.negated||(this.negated=Jt.create(this.key,this.value,this)),this.negated}},Ht=class n{constructor(e,t,r){this.key=e;this.value=t;this.negated=r}static create(e,t,r=null){return Nn(t,i=>new n(e,i,r))}type=13;cmp(e){return e.type!==this.type?this.type-e.type:et(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}map(e){return e.mapGreaterEquals(this.key,this.value)}negate(){return this.negated||(this.negated=Gt.create(this.key,this.value,this)),this.negated}},Gt=class n{constructor(e,t,r){this.key=e;this.value=t;this.negated=r}static create(e,t,r=null){return Nn(t,i=>new n(e,i,r))}type=14;cmp(e){return e.type!==this.type?this.type-e.type:et(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}map(e){return e.mapSmaller(this.key,this.value)}negate(){return this.negated||(this.negated=Ht.create(this.key,this.value,this)),this.negated}},Jt=class n{constructor(e,t,r){this.key=e;this.value=t;this.negated=r}static create(e,t,r=null){return Nn(t,i=>new n(e,i,r))}type=15;cmp(e){return e.type!==this.type?this.type-e.type:et(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}map(e){return e.mapSmallerEquals(this.key,this.value)}negate(){return this.negated||(this.negated=jt.create(this.key,this.value,this)),this.negated}},Qt=class n{constructor(e,t){this.key=e;this.regexp=t}static create(e,t){return new n(e,t)}type=7;negated=null;cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.key<e.key)return-1;if(this.key>e.key)return 1;let t=this.regexp?this.regexp.source:"",r=e.regexp?e.regexp.source:"";return t<r?-1:t>r?1:0}equals(e){if(e.type===this.type){let t=this.regexp?this.regexp.source:"",r=e.regexp?e.regexp.source:"";return this.key===e.key&&t===r}return!1}substituteConstants(){return this}evaluate(e){let t=e.getValue(this.key);return this.regexp?this.regexp.test(t):!1}serialize(){let e=this.regexp?`/${this.regexp.source}/${this.regexp.flags}`:"/invalid/";return`${this.key} =~ ${e}`}keys(){return[this.key]}map(e){return e.mapRegex(this.key,this.regexp)}negate(){return this.negated||(this.negated=Br.create(this)),this.negated}},Br=class n{constructor(e){this._actual=e}static create(e){return new n(e)}type=8;cmp(e){return e.type!==this.type?this.type-e.type:this._actual.cmp(e._actual)}equals(e){return e.type===this.type?this._actual.equals(e._actual):!1}substituteConstants(){return this}evaluate(e){return!this._actual.evaluate(e)}serialize(){return`!(${this._actual.serialize()})`}keys(){return this._actual.keys()}map(e){return new n(this._actual.map(e))}negate(){return this._actual}};function _o(n){let e=null;for(let t=0,r=n.length;t<r;t++){let i=n[t].substituteConstants();if(n[t]!==i&&e===null){e=[];for(let s=0;s<t;s++)e[s]=n[s]}e!==null&&(e[t]=i)}return e===null?n:e}var Pn=class n{constructor(e,t){this.expr=e;this.negated=t}static create(e,t,r){return n._normalizeArr(e,t,r)}type=6;cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.expr.length<e.expr.length)return-1;if(this.expr.length>e.expr.length)return 1;for(let t=0,r=this.expr.length;t<r;t++){let i=qt(this.expr[t],e.expr[t]);if(i!==0)return i}return 0}equals(e){if(e.type===this.type){if(this.expr.length!==e.expr.length)return!1;for(let t=0,r=this.expr.length;t<r;t++)if(!this.expr[t].equals(e.expr[t]))return!1;return!0}return!1}substituteConstants(){let e=_o(this.expr);return e===this.expr?this:n.create(e,this.negated,!1)}evaluate(e){for(let t=0,r=this.expr.length;t<r;t++)if(!this.expr[t].evaluate(e))return!1;return!0}static _normalizeArr(e,t,r){let i=[],s=!1;for(let a of e)if(a){if(a.type===1){s=!0;continue}if(a.type===0)return se.INSTANCE;if(a.type===6){i.push(...a.expr);continue}i.push(a)}if(i.length===0&&s)return ae.INSTANCE;if(i.length!==0){if(i.length===1)return i[0];i.sort(qt);for(let a=1;a<i.length;a++)i[a-1].equals(i[a])&&(i.splice(a,1),a--);if(i.length===1)return i[0];for(;i.length>1;){let a=i[i.length-1];if(a.type!==9)break;i.pop();let l=i.pop(),u=i.length===0,c=Xt.create(a.expr.map(d=>n.create([d,l],null,r)),null,u);c&&(i.push(c),i.sort(qt))}if(i.length===1)return i[0];if(r){for(let a=0;a<i.length;a++)for(let l=a+1;l<i.length;l++)if(i[a].negate().equals(i[l]))return se.INSTANCE;if(i.length===1)return i[0]}return new n(i,t)}}serialize(){return this.expr.map(e=>e.serialize()).join(" && ")}keys(){let e=[];for(let t of this.expr)e.push(...t.keys());return e}map(e){return new n(this.expr.map(t=>t.map(e)),null)}negate(){if(!this.negated){let e=[];for(let t of this.expr)e.push(t.negate());this.negated=Xt.create(e,this,!0)}return this.negated}},Xt=class n{constructor(e,t){this.expr=e;this.negated=t}static create(e,t,r){return n._normalizeArr(e,t,r)}type=9;cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.expr.length<e.expr.length)return-1;if(this.expr.length>e.expr.length)return 1;for(let t=0,r=this.expr.length;t<r;t++){let i=qt(this.expr[t],e.expr[t]);if(i!==0)return i}return 0}equals(e){if(e.type===this.type){if(this.expr.length!==e.expr.length)return!1;for(let t=0,r=this.expr.length;t<r;t++)if(!this.expr[t].equals(e.expr[t]))return!1;return!0}return!1}substituteConstants(){let e=_o(this.expr);return e===this.expr?this:n.create(e,this.negated,!1)}evaluate(e){for(let t=0,r=this.expr.length;t<r;t++)if(this.expr[t].evaluate(e))return!0;return!1}static _normalizeArr(e,t,r){let i=[],s=!1;if(e){for(let a=0,l=e.length;a<l;a++){let u=e[a];if(u){if(u.type===0){s=!0;continue}if(u.type===1)return ae.INSTANCE;if(u.type===9){i=i.concat(u.expr);continue}i.push(u)}}if(i.length===0&&s)return se.INSTANCE;i.sort(qt)}if(i.length!==0){if(i.length===1)return i[0];for(let a=1;a<i.length;a++)i[a-1].equals(i[a])&&(i.splice(a,1),a--);if(i.length===1)return i[0];if(r){for(let a=0;a<i.length;a++)for(let l=a+1;l<i.length;l++)if(i[a].negate().equals(i[l]))return ae.INSTANCE;if(i.length===1)return i[0]}return new n(i,t)}}serialize(){return this.expr.map(e=>e.serialize()).join(" || ")}keys(){let e=[];for(let t of this.expr)e.push(...t.keys());return e}map(e){return new n(this.expr.map(t=>t.map(e)),null)}negate(){if(!this.negated){let e=[];for(let t of this.expr)e.push(t.negate());for(;e.length>1;){let t=e.shift(),r=e.shift(),i=[];for(let s of Io(t))for(let a of Io(r))i.push(Pn.create([s,a],null,!1));e.unshift(n.create(i,null,!1))}this.negated=n.create(e,this,!0)}return this.negated}},Un=class n extends Ye{static _info=[];static all(){return n._info.values()}_defaultValue;constructor(e,t,r){super(e,null),this._defaultValue=t,typeof r=="object"?n._info.push({...r,key:e}):r!==!0&&n._info.push({key:e,description:r,type:t!=null?typeof t:void 0})}bindTo(e){return e.createKey(this.key,this._defaultValue)}getValue(e){return e.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(e){return $t.create(this.key,e)}notEqualsTo(e){return zt.create(this.key,e)}},Lf=J("contextKeyService");function Eo(n,e){return n<e?-1:n>e?1:0}function et(n,e,t,r){return n<t?-1:n>t?1:e<r?-1:e>r?1:0}function Io(n){return n.type===9?n.expr:[n]}var wo=Object.create(null);function o(n,e){if(Ie(e)){let t=wo[e];if(t===void 0)throw new Error(`${n} references an unknown codicon: ${e}`);e=t}return wo[n]=e,{id:n}}var So={add:o("add",6e4),plus:o("plus",6e4),gistNew:o("gist-new",6e4),repoCreate:o("repo-create",6e4),lightbulb:o("lightbulb",60001),lightBulb:o("light-bulb",60001),repo:o("repo",60002),repoDelete:o("repo-delete",60002),gistFork:o("gist-fork",60003),repoForked:o("repo-forked",60003),gitPullRequest:o("git-pull-request",60004),gitPullRequestAbandoned:o("git-pull-request-abandoned",60004),recordKeys:o("record-keys",60005),keyboard:o("keyboard",60005),tag:o("tag",60006),gitPullRequestLabel:o("git-pull-request-label",60006),tagAdd:o("tag-add",60006),tagRemove:o("tag-remove",60006),person:o("person",60007),personFollow:o("person-follow",60007),personOutline:o("person-outline",60007),personFilled:o("person-filled",60007),gitBranch:o("git-branch",60008),gitBranchCreate:o("git-branch-create",60008),gitBranchDelete:o("git-branch-delete",60008),sourceControl:o("source-control",60008),mirror:o("mirror",60009),mirrorPublic:o("mirror-public",60009),star:o("star",60010),starAdd:o("star-add",60010),starDelete:o("star-delete",60010),starEmpty:o("star-empty",60010),comment:o("comment",60011),commentAdd:o("comment-add",60011),alert:o("alert",60012),warning:o("warning",60012),search:o("search",60013),searchSave:o("search-save",60013),logOut:o("log-out",60014),signOut:o("sign-out",60014),logIn:o("log-in",60015),signIn:o("sign-in",60015),eye:o("eye",60016),eyeUnwatch:o("eye-unwatch",60016),eyeWatch:o("eye-watch",60016),circleFilled:o("circle-filled",60017),primitiveDot:o("primitive-dot",60017),closeDirty:o("close-dirty",60017),debugBreakpoint:o("debug-breakpoint",60017),debugBreakpointDisabled:o("debug-breakpoint-disabled",60017),debugHint:o("debug-hint",60017),terminalDecorationSuccess:o("terminal-decoration-success",60017),primitiveSquare:o("primitive-square",60018),edit:o("edit",60019),pencil:o("pencil",60019),info:o("info",60020),issueOpened:o("issue-opened",60020),gistPrivate:o("gist-private",60021),gitForkPrivate:o("git-fork-private",60021),lock:o("lock",60021),mirrorPrivate:o("mirror-private",60021),close:o("close",60022),removeClose:o("remove-close",60022),x:o("x",60022),repoSync:o("repo-sync",60023),sync:o("sync",60023),clone:o("clone",60024),desktopDownload:o("desktop-download",60024),beaker:o("beaker",60025),microscope:o("microscope",60025),vm:o("vm",60026),deviceDesktop:o("device-desktop",60026),file:o("file",60027),fileText:o("file-text",60027),more:o("more",60028),ellipsis:o("ellipsis",60028),kebabHorizontal:o("kebab-horizontal",60028),mailReply:o("mail-reply",60029),reply:o("reply",60029),organization:o("organization",60030),organizationFilled:o("organization-filled",60030),organizationOutline:o("organization-outline",60030),newFile:o("new-file",60031),fileAdd:o("file-add",60031),newFolder:o("new-folder",60032),fileDirectoryCreate:o("file-directory-create",60032),trash:o("trash",60033),trashcan:o("trashcan",60033),history:o("history",60034),clock:o("clock",60034),folder:o("folder",60035),fileDirectory:o("file-directory",60035),symbolFolder:o("symbol-folder",60035),logoGithub:o("logo-github",60036),markGithub:o("mark-github",60036),github:o("github",60036),terminal:o("terminal",60037),console:o("console",60037),repl:o("repl",60037),zap:o("zap",60038),symbolEvent:o("symbol-event",60038),error:o("error",60039),stop:o("stop",60039),variable:o("variable",60040),symbolVariable:o("symbol-variable",60040),array:o("array",60042),symbolArray:o("symbol-array",60042),symbolModule:o("symbol-module",60043),symbolPackage:o("symbol-package",60043),symbolNamespace:o("symbol-namespace",60043),symbolObject:o("symbol-object",60043),symbolMethod:o("symbol-method",60044),symbolFunction:o("symbol-function",60044),symbolConstructor:o("symbol-constructor",60044),symbolBoolean:o("symbol-boolean",60047),symbolNull:o("symbol-null",60047),symbolNumeric:o("symbol-numeric",60048),symbolNumber:o("symbol-number",60048),symbolStructure:o("symbol-structure",60049),symbolStruct:o("symbol-struct",60049),symbolParameter:o("symbol-parameter",60050),symbolTypeParameter:o("symbol-type-parameter",60050),symbolKey:o("symbol-key",60051),symbolText:o("symbol-text",60051),symbolReference:o("symbol-reference",60052),goToFile:o("go-to-file",60052),symbolEnum:o("symbol-enum",60053),symbolValue:o("symbol-value",60053),symbolRuler:o("symbol-ruler",60054),symbolUnit:o("symbol-unit",60054),activateBreakpoints:o("activate-breakpoints",60055),archive:o("archive",60056),arrowBoth:o("arrow-both",60057),arrowDown:o("arrow-down",60058),arrowLeft:o("arrow-left",60059),arrowRight:o("arrow-right",60060),arrowSmallDown:o("arrow-small-down",60061),arrowSmallLeft:o("arrow-small-left",60062),arrowSmallRight:o("arrow-small-right",60063),arrowSmallUp:o("arrow-small-up",60064),arrowUp:o("arrow-up",60065),bell:o("bell",60066),bold:o("bold",60067),book:o("book",60068),bookmark:o("bookmark",60069),debugBreakpointConditionalUnverified:o("debug-breakpoint-conditional-unverified",60070),debugBreakpointConditional:o("debug-breakpoint-conditional",60071),debugBreakpointConditionalDisabled:o("debug-breakpoint-conditional-disabled",60071),debugBreakpointDataUnverified:o("debug-breakpoint-data-unverified",60072),debugBreakpointData:o("debug-breakpoint-data",60073),debugBreakpointDataDisabled:o("debug-breakpoint-data-disabled",60073),debugBreakpointLogUnverified:o("debug-breakpoint-log-unverified",60074),debugBreakpointLog:o("debug-breakpoint-log",60075),debugBreakpointLogDisabled:o("debug-breakpoint-log-disabled",60075),briefcase:o("briefcase",60076),broadcast:o("broadcast",60077),browser:o("browser",60078),bug:o("bug",60079),calendar:o("calendar",60080),caseSensitive:o("case-sensitive",60081),check:o("check",60082),checklist:o("checklist",60083),chevronDown:o("chevron-down",60084),chevronLeft:o("chevron-left",60085),chevronRight:o("chevron-right",60086),chevronUp:o("chevron-up",60087),chromeClose:o("chrome-close",60088),chromeMaximize:o("chrome-maximize",60089),chromeMinimize:o("chrome-minimize",60090),chromeRestore:o("chrome-restore",60091),circleOutline:o("circle-outline",60092),circle:o("circle",60092),debugBreakpointUnverified:o("debug-breakpoint-unverified",60092),terminalDecorationIncomplete:o("terminal-decoration-incomplete",60092),circleSlash:o("circle-slash",60093),circuitBoard:o("circuit-board",60094),clearAll:o("clear-all",60095),clippy:o("clippy",60096),closeAll:o("close-all",60097),cloudDownload:o("cloud-download",60098),cloudUpload:o("cloud-upload",60099),code:o("code",60100),collapseAll:o("collapse-all",60101),colorMode:o("color-mode",60102),commentDiscussion:o("comment-discussion",60103),creditCard:o("credit-card",60105),dash:o("dash",60108),dashboard:o("dashboard",60109),database:o("database",60110),debugContinue:o("debug-continue",60111),debugDisconnect:o("debug-disconnect",60112),debugPause:o("debug-pause",60113),debugRestart:o("debug-restart",60114),debugStart:o("debug-start",60115),debugStepInto:o("debug-step-into",60116),debugStepOut:o("debug-step-out",60117),debugStepOver:o("debug-step-over",60118),debugStop:o("debug-stop",60119),debug:o("debug",60120),deviceCameraVideo:o("device-camera-video",60121),deviceCamera:o("device-camera",60122),deviceMobile:o("device-mobile",60123),diffAdded:o("diff-added",60124),diffIgnored:o("diff-ignored",60125),diffModified:o("diff-modified",60126),diffRemoved:o("diff-removed",60127),diffRenamed:o("diff-renamed",60128),diff:o("diff",60129),diffSidebyside:o("diff-sidebyside",60129),discard:o("discard",60130),editorLayout:o("editor-layout",60131),emptyWindow:o("empty-window",60132),exclude:o("exclude",60133),extensions:o("extensions",60134),eyeClosed:o("eye-closed",60135),fileBinary:o("file-binary",60136),fileCode:o("file-code",60137),fileMedia:o("file-media",60138),filePdf:o("file-pdf",60139),fileSubmodule:o("file-submodule",60140),fileSymlinkDirectory:o("file-symlink-directory",60141),fileSymlinkFile:o("file-symlink-file",60142),fileZip:o("file-zip",60143),files:o("files",60144),filter:o("filter",60145),flame:o("flame",60146),foldDown:o("fold-down",60147),foldUp:o("fold-up",60148),fold:o("fold",60149),folderActive:o("folder-active",60150),folderOpened:o("folder-opened",60151),gear:o("gear",60152),gift:o("gift",60153),gistSecret:o("gist-secret",60154),gist:o("gist",60155),gitCommit:o("git-commit",60156),gitCompare:o("git-compare",60157),compareChanges:o("compare-changes",60157),gitMerge:o("git-merge",60158),githubAction:o("github-action",60159),githubAlt:o("github-alt",60160),globe:o("globe",60161),grabber:o("grabber",60162),graph:o("graph",60163),gripper:o("gripper",60164),heart:o("heart",60165),home:o("home",60166),horizontalRule:o("horizontal-rule",60167),hubot:o("hubot",60168),inbox:o("inbox",60169),issueReopened:o("issue-reopened",60171),issues:o("issues",60172),italic:o("italic",60173),jersey:o("jersey",60174),json:o("json",60175),kebabVertical:o("kebab-vertical",60176),key:o("key",60177),law:o("law",60178),lightbulbAutofix:o("lightbulb-autofix",60179),linkExternal:o("link-external",60180),link:o("link",60181),listOrdered:o("list-ordered",60182),listUnordered:o("list-unordered",60183),liveShare:o("live-share",60184),loading:o("loading",60185),location:o("location",60186),mailRead:o("mail-read",60187),mail:o("mail",60188),markdown:o("markdown",60189),megaphone:o("megaphone",60190),mention:o("mention",60191),milestone:o("milestone",60192),gitPullRequestMilestone:o("git-pull-request-milestone",60192),mortarBoard:o("mortar-board",60193),move:o("move",60194),multipleWindows:o("multiple-windows",60195),mute:o("mute",60196),noNewline:o("no-newline",60197),note:o("note",60198),octoface:o("octoface",60199),openPreview:o("open-preview",60200),package:o("package",60201),paintcan:o("paintcan",60202),pin:o("pin",60203),play:o("play",60204),run:o("run",60204),plug:o("plug",60205),preserveCase:o("preserve-case",60206),preview:o("preview",60207),project:o("project",60208),pulse:o("pulse",60209),question:o("question",60210),quote:o("quote",60211),radioTower:o("radio-tower",60212),reactions:o("reactions",60213),references:o("references",60214),refresh:o("refresh",60215),regex:o("regex",60216),remoteExplorer:o("remote-explorer",60217),remote:o("remote",60218),remove:o("remove",60219),replaceAll:o("replace-all",60220),replace:o("replace",60221),repoClone:o("repo-clone",60222),repoForcePush:o("repo-force-push",60223),repoPull:o("repo-pull",60224),repoPush:o("repo-push",60225),report:o("report",60226),requestChanges:o("request-changes",60227),rocket:o("rocket",60228),rootFolderOpened:o("root-folder-opened",60229),rootFolder:o("root-folder",60230),rss:o("rss",60231),ruby:o("ruby",60232),saveAll:o("save-all",60233),saveAs:o("save-as",60234),save:o("save",60235),screenFull:o("screen-full",60236),screenNormal:o("screen-normal",60237),searchStop:o("search-stop",60238),server:o("server",60240),settingsGear:o("settings-gear",60241),settings:o("settings",60242),shield:o("shield",60243),smiley:o("smiley",60244),sortPrecedence:o("sort-precedence",60245),splitHorizontal:o("split-horizontal",60246),splitVertical:o("split-vertical",60247),squirrel:o("squirrel",60248),starFull:o("star-full",60249),starHalf:o("star-half",60250),symbolClass:o("symbol-class",60251),symbolColor:o("symbol-color",60252),symbolConstant:o("symbol-constant",60253),symbolEnumMember:o("symbol-enum-member",60254),symbolField:o("symbol-field",60255),symbolFile:o("symbol-file",60256),symbolInterface:o("symbol-interface",60257),symbolKeyword:o("symbol-keyword",60258),symbolMisc:o("symbol-misc",60259),symbolOperator:o("symbol-operator",60260),symbolProperty:o("symbol-property",60261),wrench:o("wrench",60261),wrenchSubaction:o("wrench-subaction",60261),symbolSnippet:o("symbol-snippet",60262),tasklist:o("tasklist",60263),telescope:o("telescope",60264),textSize:o("text-size",60265),threeBars:o("three-bars",60266),thumbsdown:o("thumbsdown",60267),thumbsup:o("thumbsup",60268),tools:o("tools",60269),triangleDown:o("triangle-down",60270),triangleLeft:o("triangle-left",60271),triangleRight:o("triangle-right",60272),triangleUp:o("triangle-up",60273),twitter:o("twitter",60274),unfold:o("unfold",60275),unlock:o("unlock",60276),unmute:o("unmute",60277),unverified:o("unverified",60278),verified:o("verified",60279),versions:o("versions",60280),vmActive:o("vm-active",60281),vmOutline:o("vm-outline",60282),vmRunning:o("vm-running",60283),watch:o("watch",60284),whitespace:o("whitespace",60285),wholeWord:o("whole-word",60286),window:o("window",60287),wordWrap:o("word-wrap",60288),zoomIn:o("zoom-in",60289),zoomOut:o("zoom-out",60290),listFilter:o("list-filter",60291),listFlat:o("list-flat",60292),listSelection:o("list-selection",60293),selection:o("selection",60293),listTree:o("list-tree",60294),debugBreakpointFunctionUnverified:o("debug-breakpoint-function-unverified",60295),debugBreakpointFunction:o("debug-breakpoint-function",60296),debugBreakpointFunctionDisabled:o("debug-breakpoint-function-disabled",60296),debugStackframeActive:o("debug-stackframe-active",60297),circleSmallFilled:o("circle-small-filled",60298),debugStackframeDot:o("debug-stackframe-dot",60298),terminalDecorationMark:o("terminal-decoration-mark",60298),debugStackframe:o("debug-stackframe",60299),debugStackframeFocused:o("debug-stackframe-focused",60299),debugBreakpointUnsupported:o("debug-breakpoint-unsupported",60300),symbolString:o("symbol-string",60301),debugReverseContinue:o("debug-reverse-continue",60302),debugStepBack:o("debug-step-back",60303),debugRestartFrame:o("debug-restart-frame",60304),debugAlt:o("debug-alt",60305),callIncoming:o("call-incoming",60306),callOutgoing:o("call-outgoing",60307),menu:o("menu",60308),expandAll:o("expand-all",60309),feedback:o("feedback",60310),gitPullRequestReviewer:o("git-pull-request-reviewer",60310),groupByRefType:o("group-by-ref-type",60311),ungroupByRefType:o("ungroup-by-ref-type",60312),account:o("account",60313),gitPullRequestAssignee:o("git-pull-request-assignee",60313),bellDot:o("bell-dot",60314),debugConsole:o("debug-console",60315),library:o("library",60316),output:o("output",60317),runAll:o("run-all",60318),syncIgnored:o("sync-ignored",60319),pinned:o("pinned",60320),githubInverted:o("github-inverted",60321),serverProcess:o("server-process",60322),serverEnvironment:o("server-environment",60323),pass:o("pass",60324),issueClosed:o("issue-closed",60324),stopCircle:o("stop-circle",60325),playCircle:o("play-circle",60326),record:o("record",60327),debugAltSmall:o("debug-alt-small",60328),vmConnect:o("vm-connect",60329),cloud:o("cloud",60330),merge:o("merge",60331),export:o("export",60332),graphLeft:o("graph-left",60333),magnet:o("magnet",60334),notebook:o("notebook",60335),redo:o("redo",60336),checkAll:o("check-all",60337),pinnedDirty:o("pinned-dirty",60338),passFilled:o("pass-filled",60339),circleLargeFilled:o("circle-large-filled",60340),circleLarge:o("circle-large",60341),circleLargeOutline:o("circle-large-outline",60341),combine:o("combine",60342),gather:o("gather",60342),table:o("table",60343),variableGroup:o("variable-group",60344),typeHierarchy:o("type-hierarchy",60345),typeHierarchySub:o("type-hierarchy-sub",60346),typeHierarchySuper:o("type-hierarchy-super",60347),gitPullRequestCreate:o("git-pull-request-create",60348),runAbove:o("run-above",60349),runBelow:o("run-below",60350),notebookTemplate:o("notebook-template",60351),debugRerun:o("debug-rerun",60352),workspaceTrusted:o("workspace-trusted",60353),workspaceUntrusted:o("workspace-untrusted",60354),workspaceUnknown:o("workspace-unknown",60355),terminalCmd:o("terminal-cmd",60356),terminalDebian:o("terminal-debian",60357),terminalLinux:o("terminal-linux",60358),terminalPowershell:o("terminal-powershell",60359),terminalTmux:o("terminal-tmux",60360),terminalUbuntu:o("terminal-ubuntu",60361),terminalBash:o("terminal-bash",60362),arrowSwap:o("arrow-swap",60363),copy:o("copy",60364),personAdd:o("person-add",60365),filterFilled:o("filter-filled",60366),wand:o("wand",60367),debugLineByLine:o("debug-line-by-line",60368),inspect:o("inspect",60369),layers:o("layers",60370),layersDot:o("layers-dot",60371),layersActive:o("layers-active",60372),compass:o("compass",60373),compassDot:o("compass-dot",60374),compassActive:o("compass-active",60375),azure:o("azure",60376),issueDraft:o("issue-draft",60377),gitPullRequestClosed:o("git-pull-request-closed",60378),gitPullRequestDraft:o("git-pull-request-draft",60379),debugAll:o("debug-all",60380),debugCoverage:o("debug-coverage",60381),runErrors:o("run-errors",60382),folderLibrary:o("folder-library",60383),debugContinueSmall:o("debug-continue-small",60384),beakerStop:o("beaker-stop",60385),graphLine:o("graph-line",60386),graphScatter:o("graph-scatter",60387),pieChart:o("pie-chart",60388),bracket:o("bracket",60175),bracketDot:o("bracket-dot",60389),bracketError:o("bracket-error",60390),lockSmall:o("lock-small",60391),azureDevops:o("azure-devops",60392),verifiedFilled:o("verified-filled",60393),newline:o("newline",60394),layout:o("layout",60395),layoutActivitybarLeft:o("layout-activitybar-left",60396),layoutActivitybarRight:o("layout-activitybar-right",60397),layoutPanelLeft:o("layout-panel-left",60398),layoutPanelCenter:o("layout-panel-center",60399),layoutPanelJustify:o("layout-panel-justify",60400),layoutPanelRight:o("layout-panel-right",60401),layoutPanel:o("layout-panel",60402),layoutSidebarLeft:o("layout-sidebar-left",60403),layoutSidebarRight:o("layout-sidebar-right",60404),layoutStatusbar:o("layout-statusbar",60405),layoutMenubar:o("layout-menubar",60406),layoutCentered:o("layout-centered",60407),target:o("target",60408),indent:o("indent",60409),recordSmall:o("record-small",60410),errorSmall:o("error-small",60411),terminalDecorationError:o("terminal-decoration-error",60411),arrowCircleDown:o("arrow-circle-down",60412),arrowCircleLeft:o("arrow-circle-left",60413),arrowCircleRight:o("arrow-circle-right",60414),arrowCircleUp:o("arrow-circle-up",60415),layoutSidebarRightOff:o("layout-sidebar-right-off",60416),layoutPanelOff:o("layout-panel-off",60417),layoutSidebarLeftOff:o("layout-sidebar-left-off",60418),blank:o("blank",60419),heartFilled:o("heart-filled",60420),map:o("map",60421),mapHorizontal:o("map-horizontal",60421),foldHorizontal:o("fold-horizontal",60421),mapFilled:o("map-filled",60422),mapHorizontalFilled:o("map-horizontal-filled",60422),foldHorizontalFilled:o("fold-horizontal-filled",60422),circleSmall:o("circle-small",60423),bellSlash:o("bell-slash",60424),bellSlashDot:o("bell-slash-dot",60425),commentUnresolved:o("comment-unresolved",60426),gitPullRequestGoToChanges:o("git-pull-request-go-to-changes",60427),gitPullRequestNewChanges:o("git-pull-request-new-changes",60428),searchFuzzy:o("search-fuzzy",60429),commentDraft:o("comment-draft",60430),send:o("send",60431),sparkle:o("sparkle",60432),insert:o("insert",60433),mic:o("mic",60434),thumbsdownFilled:o("thumbsdown-filled",60435),thumbsupFilled:o("thumbsup-filled",60436),coffee:o("coffee",60437),snake:o("snake",60438),game:o("game",60439),vr:o("vr",60440),chip:o("chip",60441),piano:o("piano",60442),music:o("music",60443),micFilled:o("mic-filled",60444),repoFetch:o("repo-fetch",60445),copilot:o("copilot",60446),lightbulbSparkle:o("lightbulb-sparkle",60447),robot:o("robot",60448),sparkleFilled:o("sparkle-filled",60449),diffSingle:o("diff-single",60450),diffMultiple:o("diff-multiple",60451),surroundWith:o("surround-with",60452),share:o("share",60453),gitStash:o("git-stash",60454),gitStashApply:o("git-stash-apply",60455),gitStashPop:o("git-stash-pop",60456),vscode:o("vscode",60457),vscodeInsiders:o("vscode-insiders",60458),codeOss:o("code-oss",60459),runCoverage:o("run-coverage",60460),runAllCoverage:o("run-all-coverage",60461),coverage:o("coverage",60462),githubProject:o("github-project",60463),mapVertical:o("map-vertical",60464),foldVertical:o("fold-vertical",60464),mapVerticalFilled:o("map-vertical-filled",60465),foldVerticalFilled:o("fold-vertical-filled",60465),goToSearch:o("go-to-search",60466),percentage:o("percentage",60467),sortPercentage:o("sort-percentage",60467),attach:o("attach",60468)};var Ya={dialogError:o("dialog-error","error"),dialogWarning:o("dialog-warning","warning"),dialogInfo:o("dialog-info","info"),dialogClose:o("dialog-close","close"),treeItemExpanded:o("tree-item-expanded","chevron-down"),treeFilterOnTypeOn:o("tree-filter-on-type-on","list-filter"),treeFilterOnTypeOff:o("tree-filter-on-type-off","list-selection"),treeFilterClear:o("tree-filter-clear","close"),treeItemLoading:o("tree-item-loading","loading"),menuSelection:o("menu-selection","check"),menuSubmenu:o("menu-submenu","chevron-right"),menuBarMore:o("menubar-more","more"),scrollbarButtonLeft:o("scrollbar-button-left","triangle-left"),scrollbarButtonRight:o("scrollbar-button-right","triangle-right"),scrollbarButtonUp:o("scrollbar-button-up","triangle-up"),scrollbarButtonDown:o("scrollbar-button-down","triangle-down"),toolBarMore:o("toolbar-more","more"),quickInputBack:o("quick-input-back","arrow-left"),dropDownButton:o("drop-down-button",60084),symbolCustomColor:o("symbol-customcolor",60252),exportIcon:o("export",60332),workspaceUnspecified:o("workspace-unspecified",60355),newLine:o("newline",60394),thumbsDownFilled:o("thumbsdown-filled",60435),thumbsUpFilled:o("thumbsup-filled",60436),gitFetch:o("git-fetch",60445),lightbulbSparkleAutofix:o("lightbulb-sparkle-autofix",60447),debugBreakpointPending:o("debug-breakpoint-pending",60377)},ko={...So,...Ya};var Ro;(e=>{function n(t){return t&&typeof t=="object"&&typeof t.id=="string"}e.isThemeColor=n})(Ro||={});var Za;(B=>{B.iconNameSegment="[A-Za-z0-9]+",B.iconNameExpression="[A-Za-z0-9-]+",B.iconModifierExpression="~[A-Za-z]+",B.iconNameCharacter="[A-Za-z0-9~-]";let i=new RegExp(`^(${B.iconNameExpression})(${B.iconModifierExpression})?$`);function s(N){let P=i.exec(N.id);if(!P)return s(ko.error);let[,Q,M]=P,h=["codicon","codicon-"+Q];return M&&h.push("codicon-modifier-"+M.substring(1)),h}B.asClassNameArray=s;function a(N){return s(N).join(" ")}B.asClassName=a;function l(N){return"."+s(N).join(".")}B.asCSSSelector=l;function u(N){return N&&typeof N=="object"&&typeof N.id=="string"&&(typeof N.color>"u"||Ro.isThemeColor(N.color))}B.isThemeIcon=u;let c=new RegExp(`^\\$\\((${B.iconNameExpression}(?:${B.iconModifierExpression})?)\\)$`);function d(N){let P=c.exec(N);if(!P)return;let[,Q]=P;return{id:Q}}B.fromString=d;function p(N){return{id:N}}B.fromId=p;function f(N,P){let Q=N.id,M=Q.lastIndexOf("~");return M!==-1&&(Q=Q.substring(0,M)),P&&(Q=`${Q}~${P}`),{id:Q}}B.modify=f;function x(N){let P=N.id.lastIndexOf("~");if(P!==-1)return N.id.substring(P+1)}B.getModifier=x;function k(N,P){return N.id===P.id&&N.color?.id===P.color?.id}B.isEqual=k})(Za||={});var Jf=Object.freeze({View:je("view","View"),Help:je("help","Help"),Test:je("test","Test"),File:je("file","File"),Preferences:je("preferences","Preferences"),Developer:je({key:"developer",comment:["A developer on Code itself or someone diagnosing issues in Code"]},"Developer")});function Do(n){let e=!1,t=new Map,r=new Map;if(el(n,d=>{if(n===d)return!0;let p=JSON.stringify(d);if(p.length<30)return!0;let f=t.get(p);if(!f){let x={schemas:[d]};return t.set(p,x),r.set(d,x),!0}return f.schemas.push(d),r.set(d,f),e=!0,!1}),t.clear(),!e)return JSON.stringify(n);let s="$defs";for(;n.hasOwnProperty(s);)s+="_";let a=[];function l(d){return JSON.stringify(d,(p,f)=>{if(f!==d){let x=r.get(f);if(x&&x.schemas.length>1)return x.id||(x.id=`_${a.length}`,a.push(x.schemas[0])),{$ref:`#/${s}/${x.id}`}}return f})}let u=l(n),c=[];for(let d=0;d<a.length;d++)c.push(`"_${d}":${l(a[d])}`);return c.length?`${u.substring(0,u.length-1)},"${s}":{${c.join(",")}}}`:u}function _t(n){return typeof n=="object"&&n!==null}function el(n,e){if(!n||typeof n!="object")return;let t=(...u)=>{for(let c of u)_t(c)&&a.push(c)},r=(...u)=>{for(let c of u)if(_t(c))for(let d in c){let p=c[d];_t(p)&&a.push(p)}},i=(...u)=>{for(let c of u)if(Array.isArray(c))for(let d of c)_t(d)&&a.push(d)},s=u=>{if(Array.isArray(u))for(let c of u)_t(c)&&a.push(c);else _t(u)&&a.push(u)},a=[n],l=a.pop();for(;l;)e(l)&&(t(l.additionalItems,l.additionalProperties,l.not,l.contains,l.propertyNames,l.if,l.then,l.else,l.unevaluatedItems,l.unevaluatedProperties),r(l.definitions,l.$defs,l.properties,l.patternProperties,l.dependencies,l.dependentSchemas),i(l.anyOf,l.allOf,l.oneOf,l.prefixItems),s(l.items)),l=a.pop()}var tl=J("commandService"),Oo=new class{_commands=new Map;_onDidRegisterCommand=new z;onDidRegisterCommand=this._onDidRegisterCommand.event;registerCommand(n,e){if(!n)throw new Error("invalid command");if(typeof n=="string"){if(!e)throw new Error("invalid command");return this.registerCommand({id:n,handler:e})}if(n.metadata&&Array.isArray(n.metadata.args)){let a=[];for(let u of n.metadata.args)a.push(u.constraint);let l=n.handler;n.handler=function(u,...c){return uo(c,a),l(u,...c)}}let{id:t}=n,r=this._commands.get(t);r||(r=new Lt,this._commands.set(t,r));let i=r.unshift(n),s=he(()=>{i(),this._commands.get(t)?.isEmpty()&&this._commands.delete(t)});return this._onDidRegisterCommand.fire(t),s}registerCommandAlias(n,e){return Oo.registerCommand(n,(t,...r)=>t.get(tl).executeCommand(e,...r))}getCommand(n){let e=this._commands.get(n);if(!(!e||e.isEmpty()))return ft.first(e)}getCommands(){let n=new Map;for(let e of this._commands.keys()){let t=this.getCommand(e);t&&n.set(e,t)}return n}};Oo.registerCommand("noop",()=>{});var Yt=J("environmentService"),Dg=Yt;var Fn=J("logService"),Yg=J("loggerService");function rl(n){switch(n){case 1:return"trace";case 2:return"debug";case 3:return"info";case 4:return"warn";case 5:return"error";case 0:return"off"}}var Zg=new Un("logLevel",rl(3));import{homedir as ul,tmpdir as cl}from"os";var il=60,ol=il*60,qr=ol*24,nh=qr*7,rh=qr*30,ih=qr*365;function Co(n){return n.getFullYear()+"-"+String(n.getMonth()+1).padStart(2,"0")+"-"+String(n.getDate()).padStart(2,"0")+"T"+String(n.getHours()).padStart(2,"0")+":"+String(n.getMinutes()).padStart(2,"0")+":"+String(n.getSeconds()).padStart(2,"0")+"."+(n.getMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"}function K(n,e,t){let r=null,i=null;if(typeof t.value=="function"?(r="value",i=t.value,i.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof t.get=="function"&&(r="get",i=t.get),!i)throw new Error("not supported");let s=`$memoize$${e}`;t[r]=function(...a){return this.hasOwnProperty(s)||Object.defineProperty(this,s,{configurable:!1,enumerable:!1,writable:!1,value:i.apply(this,a)}),this[s]}}var Ao=J("productService");var Lo=/^([^.]+\..+)[:=](.+)$/,U=class{constructor(e,t,r){this._args=e;this.paths=t;this.productService=r}get appRoot(){return ut(Ee.asFileUri("").fsPath)}get userHome(){return S.file(this.paths.homeDir)}get userDataPath(){return this.paths.userDataDir}get appSettingsHome(){return S.file(H(this.userDataPath,"User"))}get tmpDir(){return S.file(this.paths.tmpDir)}get cacheHome(){return S.file(this.userDataPath)}get stateResource(){return fe(this.appSettingsHome,"globalStorage","storage.json")}get userRoamingDataHome(){return this.appSettingsHome.with({scheme:G.vscodeUserData})}get userDataSyncHome(){return fe(this.appSettingsHome,"sync")}get logsHome(){if(!this.args.logsPath){let e=Co(new Date).replace(/-|:|\.\d+Z$/g,"");this.args.logsPath=H(this.userDataPath,"logs",e)}return S.file(this.args.logsPath)}get sync(){return this.args.sync}get machineSettingsResource(){return fe(S.file(H(this.userDataPath,"Machine")),"settings.json")}get workspaceStorageHome(){return fe(this.appSettingsHome,"workspaceStorage")}get localHistoryHome(){return fe(this.appSettingsHome,"History")}get keyboardLayoutResource(){return fe(this.userRoamingDataHome,"keyboardLayout.json")}get argvResource(){let e=Ue.VSCODE_PORTABLE;return e?S.file(H(e,"argv.json")):fe(this.userHome,this.productService.dataFolderName,"argv.json")}get isExtensionDevelopment(){return!!this.args.extensionDevelopmentPath}get untitledWorkspacesHome(){return S.file(H(this.userDataPath,"Workspaces"))}get builtinExtensionsPath(){let e=this.args["builtin-extensions-dir"];return e?lt(e):ve(H(Ee.asFileUri("").fsPath,"..","extensions"))}get extensionsDownloadLocation(){let e=this.args["extensions-download-dir"];return e?S.file(lt(e)):S.file(H(this.userDataPath,"CachedExtensionVSIXs"))}get extensionsPath(){let e=this.args["extensions-dir"];if(e)return lt(e);let t=Ue.VSCODE_EXTENSIONS;if(t)return t;let r=Ue.VSCODE_PORTABLE;return r?H(r,"extensions"):fe(this.userHome,this.productService.dataFolderName,"extensions").fsPath}get extensionDevelopmentLocationURI(){let e=this.args.extensionDevelopmentPath;if(Array.isArray(e))return e.map(t=>/^[^:/?#]+?:\/\//.test(t)?S.parse(t):S.file(ve(t)))}get extensionDevelopmentKind(){return this.args.extensionDevelopmentKind?.map(e=>e==="ui"||e==="workspace"||e==="web"?e:"workspace")}get extensionTestsLocationURI(){let e=this.args.extensionTestsPath;if(e)return/^[^:/?#]+?:\/\//.test(e)?S.parse(e):S.file(ve(e))}get disableExtensions(){if(this.args["disable-extensions"])return!0;let e=this.args["disable-extension"];if(e){if(typeof e=="string")return[e];if(Array.isArray(e)&&e.length>0)return e}return!1}get debugExtensionHost(){return sl(this.args,this.isBuilt)}get debugRenderer(){return!!this.args.debugRenderer}get isBuilt(){return!Ue.VSCODE_DEV}get verbose(){return!!this.args.verbose}get logLevel(){return this.args.log?.find(e=>!Lo.test(e))}get extensionLogLevel(){let e=[];for(let t of this.args.log||[]){let r=Lo.exec(t);r&&r[1]&&r[2]&&e.push([r[1],r[2]])}return e.length?e:void 0}get serviceMachineIdResource(){return fe(S.file(this.userDataPath),"machineid")}get crashReporterId(){return this.args["crash-reporter-id"]}get crashReporterDirectory(){return this.args["crash-reporter-directory"]}get disableTelemetry(){return!!this.args["disable-telemetry"]}get disableWorkspaceTrust(){return!!this.args["disable-workspace-trust"]}get useInMemorySecretStorage(){return!!this.args["use-inmemory-secretstorage"]}get policyFile(){if(this.args["__enable-file-policy"]){let e=Ue.VSCODE_PORTABLE;return e?S.file(H(e,"policy.json")):fe(this.userHome,this.productService.dataFolderName,"policy.json")}}editSessionId=this.args.editSessionId;get continueOn(){return this.args.continueOn}set continueOn(e){this.args.continueOn=e}get args(){return this._args}};C([K],U.prototype,"appRoot",1),C([K],U.prototype,"userHome",1),C([K],U.prototype,"userDataPath",1),C([K],U.prototype,"appSettingsHome",1),C([K],U.prototype,"tmpDir",1),C([K],U.prototype,"cacheHome",1),C([K],U.prototype,"stateResource",1),C([K],U.prototype,"userRoamingDataHome",1),C([K],U.prototype,"userDataSyncHome",1),C([K],U.prototype,"sync",1),C([K],U.prototype,"machineSettingsResource",1),C([K],U.prototype,"workspaceStorageHome",1),C([K],U.prototype,"localHistoryHome",1),C([K],U.prototype,"keyboardLayoutResource",1),C([K],U.prototype,"argvResource",1),C([K],U.prototype,"isExtensionDevelopment",1),C([K],U.prototype,"untitledWorkspacesHome",1),C([K],U.prototype,"builtinExtensionsPath",1),C([K],U.prototype,"extensionsPath",1),C([K],U.prototype,"extensionDevelopmentLocationURI",1),C([K],U.prototype,"extensionDevelopmentKind",1),C([K],U.prototype,"extensionTestsLocationURI",1),C([K],U.prototype,"debugExtensionHost",1),C([K],U.prototype,"logLevel",1),C([K],U.prototype,"extensionLogLevel",1),C([K],U.prototype,"serviceMachineIdResource",1),C([K],U.prototype,"disableTelemetry",1),C([K],U.prototype,"disableWorkspaceTrust",1),C([K],U.prototype,"useInMemorySecretStorage",1),C([K],U.prototype,"policyFile",1);function sl(n,e){return Po(n["inspect-extensions"],n["inspect-brk-extensions"],5870,e,n.debugId,n.extensionEnvironment)}function Po(n,e,t,r,i,s){let l=Number(e||n)||(r?null:t),u=l?!!e:!1,c;if(s)try{c=JSON.parse(s)}catch{}return{port:l,break:u,debugId:i,env:c}}import*as al from"os";import*as ll from"path";var Kn={exports:{}};(function(){function e(t,r,i){function s(l,u){let c=a(l,u),d=[c];return t.isAbsolute(c)||d.unshift(i),t.resolve(...d)}function a(l,u){process.env.VSCODE_DEV&&(u="code-oss-dev");let c=process.env.VSCODE_PORTABLE;if(c)return t.join(c,"user-data");let d=process.env.VSCODE_APPDATA;if(d)return t.join(d,u);let p=l["user-data-dir"];if(p)return p;switch(process.platform){case"win32":if(d=process.env.APPDATA,!d){let f=process.env.USERPROFILE;if(typeof f!="string")throw new Error("Windows: Unexpected undefined %USERPROFILE% environment variable");d=t.join(f,"AppData","Roaming")}break;case"darwin":d=t.join(r.homedir(),"Library","Application Support");break;case"linux":d=process.env.XDG_CONFIG_HOME||t.join(r.homedir(),".config");break;default:throw new Error("Platform not supported")}return t.join(d,u)}return{getUserDataPath:s}}if(typeof Kn=="object"&&typeof Kn.exports=="object")Kn.exports=e(ll,al,process.env.VSCODE_CWD||process.cwd());else throw new Error("Unknown context")})();var Uo=Kn.exports.getUserDataPath;var Mn=class extends U{constructor(e,t){super(e,{homeDir:ul(),tmpDir:cl(),userDataDir:Uo(e,t.nameShort)},t)}};var pl=nr(Mo());var Bh={o:g("optionsUpperCase","Options"),e:g("extensionsManagement","Extensions Management"),t:g("troubleshooting","Troubleshooting")};var $={tunnel:{type:"subcommand",description:"Make the current machine accessible from vscode.dev or other machines through a secure tunnel",options:{"cli-data-dir":{type:"string",args:"dir",description:g("cliDataDir","Directory where CLI metadata should be stored.")},"disable-telemetry":{type:"boolean"},"telemetry-level":{type:"string"},user:{type:"subcommand",options:{login:{type:"subcommand",options:{provider:{type:"string"},"access-token":{type:"string"}}}}}}},"serve-web":{type:"subcommand",description:"Run a server that displays the editor UI in browsers.",options:{"cli-data-dir":{type:"string",args:"dir",description:g("cliDataDir","Directory where CLI metadata should be stored.")},"disable-telemetry":{type:"boolean"},"telemetry-level":{type:"string"}}},diff:{type:"boolean",cat:"o",alias:"d",args:["file","file"],description:g("diff","Compare two files with each other.")},merge:{type:"boolean",cat:"o",alias:"m",args:["path1","path2","base","result"],description:g("merge","Perform a three-way merge by providing paths for two modified versions of a file, the common origin of both modified versions and the output file to save merge results.")},add:{type:"boolean",cat:"o",alias:"a",args:"folder",description:g("add","Add folder(s) to the last active window.")},goto:{type:"boolean",cat:"o",alias:"g",args:"file:line[:character]",description:g("goto","Open a file at the path on the specified line and character position.")},"new-window":{type:"boolean",cat:"o",alias:"n",description:g("newWindow","Force to open a new window.")},"reuse-window":{type:"boolean",cat:"o",alias:"r",description:g("reuseWindow","Force to open a file or folder in an already opened window.")},wait:{type:"boolean",cat:"o",alias:"w",description:g("wait","Wait for the files to be closed before returning.")},waitMarkerFilePath:{type:"string"},locale:{type:"string",cat:"o",args:"locale",description:g("locale","The locale to use (e.g. en-US or zh-TW).")},"user-data-dir":{type:"string",cat:"o",args:"dir",description:g("userDataDir","Specifies the directory that user data is kept in. Can be used to open multiple distinct instances of Code.")},profile:{type:"string",cat:"o",args:"profileName",description:g("profileName","Opens the provided folder or workspace with the given profile and associates the profile with the workspace. If the profile does not exist, a new empty one is created.")},help:{type:"boolean",cat:"o",alias:"h",description:g("help","Print usage.")},"extensions-dir":{type:"string",deprecates:["extensionHomePath"],cat:"e",args:"dir",description:g("extensionHomePath","Set the root path for extensions.")},"extensions-download-dir":{type:"string"},"builtin-extensions-dir":{type:"string"},"list-extensions":{type:"boolean",cat:"e",description:g("listExtensions","List the installed extensions.")},"show-versions":{type:"boolean",cat:"e",description:g("showVersions","Show versions of installed extensions, when using --list-extensions.")},category:{type:"string",allowEmptyValue:!0,cat:"e",description:g("category","Filters installed extensions by provided category, when using --list-extensions."),args:"category"},"install-extension":{type:"string[]",cat:"e",args:"ext-id | path",description:g("installExtension","Installs or updates an extension. The argument is either an extension id or a path to a VSIX. The identifier of an extension is '${publisher}.${name}'. Use '--force' argument to update to latest version. To install a specific version provide '@${version}'. For example: 'vscode.csharp@1.2.3'.")},"pre-release":{type:"boolean",cat:"e",description:g("install prerelease","Installs the pre-release version of the extension, when using --install-extension")},"uninstall-extension":{type:"string[]",cat:"e",args:"ext-id",description:g("uninstallExtension","Uninstalls an extension.")},"update-extensions":{type:"boolean",cat:"e",description:g("updateExtensions","Update the installed extensions.")},"enable-proposed-api":{type:"string[]",allowEmptyValue:!0,cat:"e",args:"ext-id",description:g("experimentalApis","Enables proposed API features for extensions. Can receive one or more extension IDs to enable individually.")},version:{type:"boolean",cat:"t",alias:"v",description:g("version","Print version.")},verbose:{type:"boolean",cat:"t",global:!0,description:g("verbose","Print verbose output (implies --wait).")},log:{type:"string[]",cat:"t",args:"level",global:!0,description:g("log","Log level to use. Default is 'info'. Allowed values are 'critical', 'error', 'warn', 'info', 'debug', 'trace', 'off'. You can also configure the log level of an extension by passing extension id and log level in the following format: '${publisher}.${name}:${logLevel}'. For example: 'vscode.csharp:trace'. Can receive one or more such entries.")},status:{type:"boolean",alias:"s",cat:"t",description:g("status","Print process usage and diagnostics information.")},"prof-startup":{type:"boolean",cat:"t",description:g("prof-startup","Run CPU profiler during startup.")},"prof-append-timers":{type:"string"},"prof-duration-markers":{type:"string[]"},"prof-duration-markers-file":{type:"string"},"no-cached-data":{type:"boolean"},"prof-startup-prefix":{type:"string"},"prof-v8-extensions":{type:"boolean"},"disable-extensions":{type:"boolean",deprecates:["disableExtensions"],cat:"t",description:g("disableExtensions","Disable all installed extensions. This option is not persisted and is effective only when the command opens a new window.")},"disable-extension":{type:"string[]",cat:"t",args:"ext-id",description:g("disableExtension","Disable the provided extension. This option is not persisted and is effective only when the command opens a new window.")},sync:{type:"string",cat:"t",description:g("turn sync","Turn sync on or off."),args:["on | off"]},"inspect-extensions":{type:"string",allowEmptyValue:!0,deprecates:["debugPluginHost"],args:"port",cat:"t",description:g("inspect-extensions","Allow debugging and profiling of extensions. Check the developer tools for the connection URI.")},"inspect-brk-extensions":{type:"string",allowEmptyValue:!0,deprecates:["debugBrkPluginHost"],args:"port",cat:"t",description:g("inspect-brk-extensions","Allow debugging and profiling of extensions with the extension host being paused after start. Check the developer tools for the connection URI.")},"disable-lcd-text":{type:"boolean",cat:"t",description:g("disableLCDText","Disable LCD font rendering.")},"disable-gpu":{type:"boolean",cat:"t",description:g("disableGPU","Disable GPU hardware acceleration.")},"disable-chromium-sandbox":{type:"boolean",cat:"t",description:g("disableChromiumSandbox","Use this option only when there is requirement to launch the application as sudo user on Linux or when running as an elevated user in an applocker environment on Windows.")},sandbox:{type:"boolean"},telemetry:{type:"boolean",cat:"t",description:g("telemetry","Shows all telemetry events which VS code collects.")},remote:{type:"string",allowEmptyValue:!0},"folder-uri":{type:"string[]",cat:"o",args:"uri"},"file-uri":{type:"string[]",cat:"o",args:"uri"},"locate-extension":{type:"string[]"},extensionDevelopmentPath:{type:"string[]"},extensionDevelopmentKind:{type:"string[]"},extensionTestsPath:{type:"string"},extensionEnvironment:{type:"string"},debugId:{type:"string"},debugRenderer:{type:"boolean"},"inspect-ptyhost":{type:"string",allowEmptyValue:!0},"inspect-brk-ptyhost":{type:"string",allowEmptyValue:!0},"inspect-search":{type:"string",deprecates:["debugSearch"],allowEmptyValue:!0},"inspect-brk-search":{type:"string",deprecates:["debugBrkSearch"],allowEmptyValue:!0},"inspect-sharedprocess":{type:"string",allowEmptyValue:!0},"inspect-brk-sharedprocess":{type:"string",allowEmptyValue:!0},"export-default-configuration":{type:"string"},"install-source":{type:"string"},"enable-smoke-test-driver":{type:"boolean"},logExtensionHostCommunication:{type:"boolean"},"skip-release-notes":{type:"boolean"},"skip-welcome":{type:"boolean"},"disable-telemetry":{type:"boolean"},"disable-updates":{type:"boolean"},"use-inmemory-secretstorage":{type:"boolean",deprecates:["disable-keytar"]},"password-store":{type:"string"},"disable-workspace-trust":{type:"boolean"},"disable-crash-reporter":{type:"boolean"},"crash-reporter-directory":{type:"string"},"crash-reporter-id":{type:"string"},"skip-add-to-recently-opened":{type:"boolean"},"open-url":{type:"boolean"},"file-write":{type:"boolean"},"file-chmod":{type:"boolean"},"install-builtin-extension":{type:"string[]"},force:{type:"boolean"},"do-not-sync":{type:"boolean"},trace:{type:"boolean"},"trace-category-filter":{type:"string"},"trace-options":{type:"string"},"preserve-env":{type:"boolean"},"force-user-env":{type:"boolean"},"force-disable-user-env":{type:"boolean"},"open-devtools":{type:"boolean"},"disable-gpu-sandbox":{type:"boolean"},logsPath:{type:"string"},"__enable-file-policy":{type:"boolean"},editSessionId:{type:"string"},continueOn:{type:"string"},"locate-shell-integration-path":{type:"string",args:["bash","pwsh","zsh","fish"]},"enable-coi":{type:"boolean"},"no-proxy-server":{type:"boolean"},"no-sandbox":{type:"boolean",alias:"sandbox"},"proxy-server":{type:"string"},"proxy-bypass-list":{type:"string"},"proxy-pac-url":{type:"string"},"js-flags":{type:"string"},inspect:{type:"string",allowEmptyValue:!0},"inspect-brk":{type:"string",allowEmptyValue:!0},nolazy:{type:"boolean"},"force-device-scale-factor":{type:"string"},"force-renderer-accessibility":{type:"boolean"},"ignore-certificate-errors":{type:"boolean"},"allow-insecure-localhost":{type:"boolean"},"log-net-log":{type:"string"},vmodule:{type:"string"},_urls:{type:"string[]"},"disable-dev-shm-usage":{type:"boolean"},"profile-temp":{type:"boolean"},"ozone-platform":{type:"string"},"enable-tracing":{type:"string"},"trace-startup-format":{type:"string"},"trace-startup-file":{type:"string"},"trace-startup-duration":{type:"string"},_:{type:"string[]"}};var Zh={host:{type:"string",cat:"o",args:"ip-address",description:g("host","The host name or IP address the server should listen to. If not set, defaults to 'localhost'.")},port:{type:"string",cat:"o",args:"port | port range",description:g("port","The port the server should listen to. If 0 is passed a random free port is picked. If a range in the format num-num is passed, a free port from the range (end inclusive) is selected.")},"socket-path":{type:"string",cat:"o",args:"path",description:g("socket-path","The path to a socket file for the server to listen to.")},"server-base-path":{type:"string",cat:"o",args:"path",description:g("server-base-path","The path under which the web UI and the code server is provided. Defaults to '/'.`")},"connection-token":{type:"string",cat:"o",args:"token",deprecates:["connectionToken"],description:g("connection-token","A secret that must be included with all requests.")},"connection-token-file":{type:"string",cat:"o",args:"path",deprecates:["connection-secret","connectionTokenFile"],description:g("connection-token-file","Path to a file that contains the connection token.")},"without-connection-token":{type:"boolean",cat:"o",description:g("without-connection-token","Run without a connection token. Only use this if the connection is secured by other means.")},"disable-websocket-compression":{type:"boolean"},"print-startup-performance":{type:"boolean"},"print-ip-address":{type:"boolean"},"accept-server-license-terms":{type:"boolean",cat:"o",description:g("acceptLicenseTerms","If set, the user accepts the server license terms and the server will be started without a user prompt.")},"server-data-dir":{type:"string",cat:"o",description:g("serverDataDir","Specifies the directory that server data is kept in.")},"telemetry-level":{type:"string",cat:"o",args:"level",description:g("telemetry-level","Sets the initial telemetry level. Valid levels are: 'off', 'crash', 'error' and 'all'. If not specified, the server will send telemetry until a client connects, it will then use the clients telemetry setting. Setting this to 'off' is equivalent to --disable-telemetry")},"user-data-dir":$["user-data-dir"],"enable-smoke-test-driver":$["enable-smoke-test-driver"],"disable-telemetry":$["disable-telemetry"],"disable-workspace-trust":$["disable-workspace-trust"],"file-watcher-polling":{type:"string",deprecates:["fileWatcherPolling"]},log:$.log,logsPath:$.logsPath,"force-disable-user-env":$["force-disable-user-env"],folder:{type:"string",deprecationMessage:"No longer supported. Folder needs to be provided in the browser URL or with `default-folder`."},workspace:{type:"string",deprecationMessage:"No longer supported. Workspace needs to be provided in the browser URL or with `default-workspace`."},"default-folder":{type:"string",description:g("default-folder","The workspace folder to open when no input is specified in the browser URL. A relative or absolute path resolved against the current working directory.")},"default-workspace":{type:"string",description:g("default-workspace","The workspace to open when no input is specified in the browser URL. A relative or absolute path resolved against the current working directory.")},"enable-sync":{type:"boolean"},"github-auth":{type:"string"},"use-test-resolver":{type:"boolean"},"extensions-dir":$["extensions-dir"],"extensions-download-dir":$["extensions-download-dir"],"builtin-extensions-dir":$["builtin-extensions-dir"],"install-extension":$["install-extension"],"install-builtin-extension":$["install-builtin-extension"],"update-extensions":$["update-extensions"],"uninstall-extension":$["uninstall-extension"],"list-extensions":$["list-extensions"],"locate-extension":$["locate-extension"],"show-versions":$["show-versions"],category:$.category,force:$.force,"do-not-sync":$["do-not-sync"],"pre-release":$["pre-release"],"start-server":{type:"boolean",cat:"e",description:g("start-server","Start the server when installing or uninstalling extensions. To be used in combination with 'install-extension', 'install-builtin-extension' and 'uninstall-extension'.")},"enable-remote-auto-shutdown":{type:"boolean"},"remote-auto-shutdown-without-delay":{type:"boolean"},"use-host-proxy":{type:"boolean"},"without-browser-env-var":{type:"boolean"},help:$.help,version:$.version,"locate-shell-integration-path":$["locate-shell-integration-path"],compatibility:{type:"string"},_:$._},Vo=Yt,$r=class extends Mn{get userRoamingDataHome(){return this.appSettingsHome}get args(){return super.args}};C([K],$r.prototype,"userRoamingDataHome",1);var zr=function(){if(typeof crypto=="object"&&typeof crypto.randomUUID=="function")return crypto.randomUUID.bind(crypto);let n;typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?n=crypto.getRandomValues.bind(crypto):n=function(r){for(let i=0;i<r.length;i++)r[i]=Math.floor(Math.random()*256);return r};let e=new Uint8Array(16),t=[];for(let r=0;r<256;r++)t.push(r.toString(16).padStart(2,"0"));return function(){n(e),e[6]=e[6]&15|64,e[8]=e[8]&63|128;let i=0,s="";return s+=t[e[i++]],s+=t[e[i++]],s+=t[e[i++]],s+=t[e[i++]],s+="-",s+=t[e[i++]],s+=t[e[i++]],s+="-",s+=t[e[i++]],s+=t[e[i++]],s+="-",s+=t[e[i++]],s+=t[e[i++]],s+="-",s+=t[e[i++]],s+=t[e[i++]],s+=t[e[i++]],s+=t[e[i++]],s+=t[e[i++]],s+=t[e[i++]],s}}();var Pl=nr(ir());import*as w from"fs";import{tmpdir as vl}from"os";import{promisify as Wn}from"util";function fl(n){let e=new yt,t=n(e.token),r=new Promise((i,s)=>{let a=e.token.onCancellationRequested(()=>{a.dispose(),s(new Re)});Promise.resolve(t).then(l=>{a.dispose(),e.dispose(),i(l)},l=>{a.dispose(),e.dispose(),s(l)})});return new class{cancel(){e.cancel(),e.dispose()}then(i,s){return r.then(i,s)}catch(i){return this.then(void 0,i)}finally(i){return r.finally(i)}}}function Qr(n,e){return e?new Promise((t,r)=>{let i=setTimeout(()=>{s.dispose(),t()},n),s=e.onCancellationRequested(()=>{clearTimeout(i),s.dispose(),r(new Re)})}):fl(t=>Qr(n,t))}var Hr=class{_size=0;_isDisposed=!1;runningPromises;maxDegreeOfParalellism;outstandingPromises;_onDrained;constructor(e){this.maxDegreeOfParalellism=e,this.outstandingPromises=[],this.runningPromises=0,this._onDrained=new z}whenIdle(){return this.size>0?Oe.toPromise(this.onDrained):Promise.resolve()}get onDrained(){return this._onDrained.event}get size(){return this._size}queue(e){if(this._isDisposed)throw new Error("Object has been disposed");return this._size++,new Promise((t,r)=>{this.outstandingPromises.push({factory:e,c:t,e:r}),this.consume()})}consume(){for(;this.outstandingPromises.length&&this.runningPromises<this.maxDegreeOfParalellism;){let e=this.outstandingPromises.shift();this.runningPromises++;let t=e.factory();t.then(e.c,e.e),t.then(()=>this.consumed(),()=>this.consumed())}}consumed(){this._isDisposed||(this.runningPromises--,--this._size===0&&this._onDrained.fire(),this.outstandingPromises.length>0&&this.consume())}clear(){if(this._isDisposed)throw new Error("Object has been disposed");this.outstandingPromises.length=0,this._size=this.runningPromises}dispose(){this._isDisposed=!0,this.outstandingPromises.length=0,this._size=0,this._onDrained.dispose()}},Gr=class extends Hr{constructor(){super(1)}};var Vn=class{queues=new Map;drainers=new Set;drainListeners=void 0;drainListenerCount=0;async whenDrained(){if(this.isDrained())return;let e=new Jr;return this.drainers.add(e),e.p}isDrained(){for(let[,e]of this.queues)if(e.size>0)return!1;return!0}queueSize(e,t=L){let r=t.getComparisonKey(e);return this.queues.get(r)?.size??0}queueFor(e,t,r=L){let i=r.getComparisonKey(e),s=this.queues.get(i);if(!s){s=new Gr;let a=this.drainListenerCount++,l=Oe.once(s.onDrained)(()=>{s?.dispose(),this.queues.delete(i),this.onDidQueueDrain(),this.drainListeners?.deleteAndDispose(a),this.drainListeners?.size===0&&(this.drainListeners.dispose(),this.drainListeners=void 0)});this.drainListeners||(this.drainListeners=new At),this.drainListeners.set(a,l),this.queues.set(i,s)}return s.queue(t)}onDidQueueDrain(){this.isDrained()&&this.releaseDrainers()}releaseDrainers(){for(let e of this.drainers)e.complete();this.drainers.clear()}dispose(){for(let[,e]of this.queues)e.dispose();this.queues.clear(),this.releaseDrainers(),this.drainListeners?.dispose()}};var gl,jr;(function(){typeof globalThis.requestIdleCallback!="function"||typeof globalThis.cancelIdleCallback!="function"?jr=(n,e)=>{vi(()=>{if(t)return;let r=Date.now()+15;e(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,r-Date.now())}}))});let t=!1;return{dispose(){t||(t=!0)}}}:jr=(n,e,t)=>{let r=n.requestIdleCallback(e,typeof t=="number"?{timeout:t}:void 0),i=!1;return{dispose(){i||(i=!0,n.cancelIdleCallback(r))}}},gl=n=>jr(globalThis,n)})();var Jr=class{completeCallback;errorCallback;outcome;get isRejected(){return this.outcome?.outcome===1}get isResolved(){return this.outcome?.outcome===0}get isSettled(){return!!this.outcome}get value(){return this.outcome?.outcome===0?this.outcome?.value:void 0}p;constructor(){this.p=new Promise((e,t)=>{this.completeCallback=e,this.errorCallback=t})}complete(e){return new Promise(t=>{this.completeCallback(e),this.outcome={outcome:0,value:e},t()})}error(e){return new Promise(t=>{this.errorCallback(e),this.outcome={outcome:1,value:e},t()})}cancel(){return this.error(new Re)}},hl;(t=>{async function n(r){let i,s=await Promise.all(r.map(a=>a.then(l=>l,l=>{i||(i=l)})));if(typeof i<"u")throw i;return s}t.settled=n;function e(r){return new Promise(async(i,s)=>{try{await r(i,s)}catch(a){s(a)}})}t.withAsyncBody=e})(hl||={});var Wo=class n{static fromArray(e){return new n(t=>{t.emitMany(e)})}static fromPromise(e){return new n(async t=>{t.emitMany(await e)})}static fromPromises(e){return new n(async t=>{await Promise.all(e.map(async r=>t.emitOne(await r)))})}static merge(e){return new n(async t=>{await Promise.all(e.map(async r=>{for await(let i of r)t.emitOne(i)}))})}static EMPTY=n.fromArray([]);_state;_results;_error;_onReturn;_onStateChanged;constructor(e,t){this._state=0,this._results=[],this._error=null,this._onReturn=t,this._onStateChanged=new z,queueMicrotask(async()=>{let r={emitOne:i=>this.emitOne(i),emitMany:i=>this.emitMany(i),reject:i=>this.reject(i)};try{await Promise.resolve(e(r)),this.resolve()}catch(i){this.reject(i)}finally{r.emitOne=void 0,r.emitMany=void 0,r.reject=void 0}})}[Symbol.asyncIterator](){let e=0;return{next:async()=>{do{if(this._state===2)throw this._error;if(e<this._results.length)return{done:!1,value:this._results[e++]};if(this._state===1)return{done:!0,value:void 0};await Oe.toPromise(this._onStateChanged.event)}while(!0)},return:async()=>(this._onReturn?.(),{done:!0,value:void 0})}}static map(e,t){return new n(async r=>{for await(let i of e)r.emitOne(t(i))})}map(e){return n.map(this,e)}static filter(e,t){return new n(async r=>{for await(let i of e)t(i)&&r.emitOne(i)})}filter(e){return n.filter(this,e)}static coalesce(e){return n.filter(e,t=>!!t)}coalesce(){return n.coalesce(this)}static async toPromise(e){let t=[];for await(let r of e)t.push(r);return t}toPromise(){return n.toPromise(this)}emitOne(e){this._state===0&&(this._results.push(e),this._onStateChanged.fire())}emitMany(e){this._state===0&&(this._results=this._results.concat(e),this._onStateChanged.fire())}resolve(){this._state===0&&(this._state=1,this._onStateChanged.fire())}reject(e){this._state===0&&(this._state=2,this._error=e,this._onStateChanged.fire())}};var ml=new Ct(1e4);function Xr(n){return yl(n,"NFC",ml)}var T0=new Ct(1e4);var bl=/[^\u0000-\u0080]/;function yl(n,e,t){if(!n)return n;let r=t.get(n);if(r)return r;let i;return bl.test(n)?i=n.normalize(e):i=n,t.set(n,i),i}async function qo(n,e=0,t){if(fo(n))throw new Error("rimraf - will refuse to recursively delete root");return e===0?Yr(n):xl(n,t)}async function xl(n,e=go(vl())){try{try{await w.promises.rename(n,e)}catch(t){return t.code==="ENOENT"?void 0:Yr(n)}Yr(e).catch(t=>{})}catch(t){if(t.code!=="ENOENT")throw t}}async function Yr(n){return w.promises.rm(n,{recursive:!0,force:!0,maxRetries:3})}async function Bn(n,e){return Il(await(e?Tl(n):w.promises.readdir(n)))}async function Tl(n){try{return await w.promises.readdir(n,{withFileTypes:!0})}catch(r){console.warn("[node.js fs] readdir with filetypes failed with error: ",r)}let e=[],t=await Bn(n);for(let r of t){let i=!1,s=!1,a=!1;try{let l=await w.promises.lstat(H(n,r));i=l.isFile(),s=l.isDirectory(),a=l.isSymbolicLink()}catch(l){console.warn("[node.js fs] unexpected error from lstat after readdir: ",l)}e.push({name:r,isFile:()=>i,isDirectory:()=>s,isSymbolicLink:()=>a})}return e}function Il(n){return n.map(e=>typeof e=="string"?Le?Xr(e):e:(e.name=Le?Xr(e.name):e.name,e))}async function _l(n){let e=await Bn(n),t=[];for(let r of e)await qn.existsDirectory(H(n,r))&&t.push(r);return t}var qn;(r=>{async function n(i){let s;try{if(s=await w.promises.lstat(i),!s.isSymbolicLink())return{stat:s}}catch{}try{return{stat:await w.promises.stat(i),symbolicLink:s?.isSymbolicLink()?{dangling:!1}:void 0}}catch(a){if(a.code==="ENOENT"&&s)return{stat:s,symbolicLink:{dangling:!0}};if(Z&&a.code==="EACCES")try{return{stat:await w.promises.stat(await w.promises.readlink(i)),symbolicLink:{dangling:!1}}}catch(l){if(l.code==="ENOENT"&&s)return{stat:s,symbolicLink:{dangling:!0}};throw l}throw a}}r.stat=n;async function e(i){try{let{stat:s,symbolicLink:a}=await r.stat(i);return s.isFile()&&a?.dangling!==!0}catch{}return!1}r.existsFile=e;async function t(i){try{let{stat:s,symbolicLink:a}=await r.stat(i);return s.isDirectory()&&a?.dangling!==!0}catch{}return!1}r.existsDirectory=t})(qn||={});var El=new Vn;function wl(n,e,t){return El.queueFor(S.file(n),()=>{let r=Rl(t);return new Promise((i,s)=>kl(n,e,r,a=>a?s(a):i()))},Mr)}var $o=!0;function Sl(n){$o=n}function kl(n,e,t,r){if(!$o)return w.writeFile(n,e,{mode:t.mode,flag:t.flag},r);w.open(n,t.flag,t.mode,(i,s)=>{if(i)return r(i);w.writeFile(s,e,a=>{if(a)return w.close(s,()=>r(a));w.fdatasync(s,l=>(l&&(console.warn("[node.js fs] fdatasync is now disabled for this session because it failed: ",l),Sl(!1)),w.close(s,u=>r(u))))})})}function Rl(n){return n?{mode:typeof n.mode=="number"?n.mode:438,flag:typeof n.flag=="string"?n.flag:"w"}:{mode:438,flag:"w"}}async function Dl(n,e,t=6e4){if(n!==e)try{Z&&typeof t=="number"?await zo(n,e,Date.now(),t):await w.promises.rename(n,e)}catch(r){if(n.toLowerCase()!==e.toLowerCase()&&r.code==="EXDEV"||n.endsWith("."))await jo(n,e,{preserveSymlinks:!1}),await qo(n,1);else throw r}}async function zo(n,e,t,r,i=0){try{return await w.promises.rename(n,e)}catch(s){if(s.code!=="EACCES"&&s.code!=="EPERM"&&s.code!=="EBUSY")throw s;if(Date.now()-t>=r)throw console.error(`[node.js fs] rename failed after ${i} retries with error: ${s}`),s;if(i===0){let a=!1;try{let{stat:l}=await qn.stat(e);l.isFile()||(a=!0)}catch{}if(a)throw s}return await Qr(Math.min(100,i*10)),zo(n,e,t,r,i+1)}}async function jo(n,e,t){return Ho(n,e,{root:{source:n,target:e},options:t,handledSourcePaths:new Set})}var Bo=511;async function Ho(n,e,t){if(t.handledSourcePaths.has(n))return;t.handledSourcePaths.add(n);let{stat:r,symbolicLink:i}=await qn.stat(n);if(i){if(t.options.preserveSymlinks)try{return await Al(n,e,t)}catch{}if(i.dangling)return}return r.isDirectory()?Ol(n,e,r.mode&Bo,t):Cl(n,e,r.mode&Bo)}async function Ol(n,e,t,r){await w.promises.mkdir(e,{recursive:!0,mode:t});let i=await Bn(n);for(let s of i)await Ho(H(n,s),H(e,s),r)}async function Cl(n,e,t){await w.promises.copyFile(n,e),await w.promises.chmod(e,t)}async function Al(n,e,t){let r=await w.promises.readlink(n);Xe(r,t.root.source,!Pe)&&(r=H(t.root.target,r.substr(t.root.source.length+1))),await w.promises.symlink(r,e)}var Ll=new class{get read(){return(n,e,t,r,i)=>new Promise((s,a)=>{w.read(n,e,t,r,i,(l,u,c)=>l?a(l):s({bytesRead:u,buffer:c}))})}get write(){return(n,e,t,r,i)=>new Promise((s,a)=>{w.write(n,e,t,r,i,(l,u,c)=>l?a(l):s({bytesWritten:u,buffer:c}))})}get fdatasync(){return Wn(w.fdatasync)}get open(){return Wn(w.open)}get close(){return Wn(w.close)}get realpath(){return Wn(w.realpath)}async exists(n){try{return await w.promises.access(n),!0}catch{return!1}}get readdir(){return Bn}get readDirsInDir(){return _l}get writeFile(){return wl}get rm(){return qo}get rename(){return Dl}get copy(){return jo}};function Go(n,e){return new Promise((t,r)=>{let i=[];Ul(n,{onData:s=>{e&&i.push(s)},onError:s=>{e?r(s):t(void 0)},onEnd:()=>{t(e?e(i):void 0)}})})}function Ul(n,e,t){n.on("error",r=>{t?.isCancellationRequested||e.onError(r)}),n.on("end",()=>{t?.isCancellationRequested||e.onEnd()}),n.on("data",r=>{t?.isCancellationRequested||e.onData(r)})}var $n=typeof Buffer<"u",Fl=new We(()=>new Uint8Array(256)),Zr,ei,ti=class n{static alloc(e){return $n?new n(Buffer.allocUnsafe(e)):new n(new Uint8Array(e))}static wrap(e){return $n&&!Buffer.isBuffer(e)&&(e=Buffer.from(e.buffer,e.byteOffset,e.byteLength)),new n(e)}static fromString(e,t){return!(t?.dontUseNodeBuffer||!1)&&$n?new n(Buffer.from(e)):(Zr||(Zr=new TextEncoder),new n(Zr.encode(e)))}static fromByteArray(e){let t=n.alloc(e.length);for(let r=0,i=e.length;r<i;r++)t.buffer[r]=e[r];return t}static concat(e,t){if(typeof t>"u"){t=0;for(let s=0,a=e.length;s<a;s++)t+=e[s].byteLength}let r=n.alloc(t),i=0;for(let s=0,a=e.length;s<a;s++){let l=e[s];r.set(l,i),i+=l.byteLength}return r}buffer;byteLength;constructor(e){this.buffer=e,this.byteLength=this.buffer.byteLength}clone(){let e=n.alloc(this.byteLength);return e.set(this),e}toString(){return $n?this.buffer.toString():(ei||(ei=new TextDecoder),ei.decode(this.buffer))}slice(e,t){return new n(this.buffer.subarray(e,t))}set(e,t){if(e instanceof n)this.buffer.set(e.buffer,t);else if(e instanceof Uint8Array)this.buffer.set(e,t);else if(e instanceof ArrayBuffer)this.buffer.set(new Uint8Array(e),t);else if(ArrayBuffer.isView(e))this.buffer.set(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),t);else throw new Error("Unknown argument 'array'")}readUInt32BE(e){return Ml(this.buffer,e)}writeUInt32BE(e,t){Vl(this.buffer,e,t)}readUInt32LE(e){return Wl(this.buffer,e)}writeUInt32LE(e,t){Bl(this.buffer,e,t)}readUInt8(e){return ql(this.buffer,e)}writeUInt8(e,t){$l(this.buffer,e,t)}indexOf(e,t=0){return Kl(this.buffer,e instanceof n?e.buffer:e,t)}};function Kl(n,e,t=0){let r=e.byteLength,i=n.byteLength;if(r===0)return 0;if(r===1)return n.indexOf(e[0]);if(r>i-t)return-1;let s=Fl.value;s.fill(e.length);for(let c=0;c<e.length;c++)s[e[c]]=e.length-c-1;let a=t+e.length-1,l=a,u=-1;for(;a<i;)if(n[a]===e[l]){if(l===0){u=a;break}a--,l--}else a+=Math.max(e.length-l,s[n[a]]),l=e.length-1;return u}function Ml(n,e){return n[e]*2**24+n[e+1]*2**16+n[e+2]*2**8+n[e+3]}function Vl(n,e,t){n[t+3]=e,e=e>>>8,n[t+2]=e,e=e>>>8,n[t+1]=e,e=e>>>8,n[t]=e}function Wl(n,e){return n[e+0]<<0>>>0|n[e+1]<<8>>>0|n[e+2]<<16>>>0|n[e+3]<<24>>>0}function Bl(n,e,t){n[t+0]=e&255,e=e>>>8,n[t+1]=e&255,e=e>>>8,n[t+2]=e&255,e=e>>>8,n[t+3]=e&255}function ql(n,e){return n[e]}function $l(n,e,t){n[t]=e}function zn(n){return Go(n,e=>ti.concat(e))}var _m=J("contextService");var Jo="code-workspace",Em=`.${Jo}`,wm=[{name:g("codeWorkspace","Code Workspace"),extensions:[Jo]}];var Pm=J("configurationService");function Qo(n){return n.replace(/[\[\]]/g,"")}var ni=class{data=new Map;add(e,t){vn(Ie(e)),vn(_e(t)),vn(!this.data.has(e),"There is already an extension with this id"),this.data.set(e,t)}knows(e){return this.data.has(e)}as(e){return this.data.get(e)||null}},tt=new ni;var ii={JSONContribution:"base.contributions.json"};function jl(n){return n.length>0&&n.charAt(n.length-1)==="#"?n.substring(0,n.length-1):n}var ri=class{schemasById;_onDidChangeSchema=new z;onDidChangeSchema=this._onDidChangeSchema.event;constructor(){this.schemasById={}}registerSchema(e,t){this.schemasById[jl(e)]=t,this._onDidChangeSchema.fire(e)}notifySchemaChanged(e){this._onDidChangeSchema.fire(e)}getSchemaContributions(){return{schemas:this.schemasById}}getSchemaContent(e){let t=this.schemasById[e];return t?Do(t):void 0}hasSchemaContent(e){return!!this.schemasById[e]}},Hl=new ri;tt.add(ii.JSONContribution,Hl);var Hm=J("policy");var si={Configuration:"base.contributions.configuration"};var jn={properties:{},patternProperties:{}},Hn={properties:{},patternProperties:{}},Gn={properties:{},patternProperties:{}},Jn={properties:{},patternProperties:{}},Qn={properties:{},patternProperties:{}},Zt={properties:{},patternProperties:{}},nt="vscode://schemas/settings/resourceLanguage";var Xn=tt.as(ii.JSONContribution),oi=class{registeredConfigurationDefaults=[];configurationDefaultsOverrides;defaultLanguageConfigurationOverridesNode;configurationContributors;configurationProperties;policyConfigurations;excludedConfigurationProperties;resourceLanguageSettingsSchema;overrideIdentifiers=new Set;_onDidSchemaChange=new z;onDidSchemaChange=this._onDidSchemaChange.event;_onDidUpdateConfiguration=new z;onDidUpdateConfiguration=this._onDidUpdateConfiguration.event;constructor(){this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:g("defaultLanguageConfigurationOverrides.title","Default Language Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!0,allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.policyConfigurations=new Map,this.excludedConfigurationProperties={},Xn.registerSchema(nt,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}registerConfiguration(e,t=!0){this.registerConfigurations([e],t)}registerConfigurations(e,t=!0){let r=new Set;this.doRegisterConfigurations(e,t,r),Xn.registerSchema(nt,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:r})}deregisterConfigurations(e){let t=new Set;this.doDeregisterConfigurations(e,t),Xn.registerSchema(nt,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:t})}updateConfigurations({add:e,remove:t}){let r=new Set;this.doDeregisterConfigurations(t,r),this.doRegisterConfigurations(e,!1,r),Xn.registerSchema(nt,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:r})}registerDefaultConfigurations(e){let t=new Set;this.doRegisterDefaultConfigurations(e,t),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:t,defaultsOverrides:!0})}doRegisterDefaultConfigurations(e,t){this.registeredConfigurationDefaults.push(...e);let r=[];for(let{overrides:i,source:s}of e)for(let a in i){t.add(a);let l=this.configurationDefaultsOverrides.get(a)??this.configurationDefaultsOverrides.set(a,{configurationDefaultOverrides:[]}).get(a),u=i[a];if(l.configurationDefaultOverrides.push({value:u,source:s}),en.test(a)){let c=this.mergeDefaultConfigurationsForOverrideIdentifier(a,u,s,l.configurationDefaultOverrideValue);if(!c)continue;l.configurationDefaultOverrideValue=c,this.updateDefaultOverrideProperty(a,c,s),r.push(...Gl(a))}else{let c=this.mergeDefaultConfigurationsForConfigurationProperty(a,u,s,l.configurationDefaultOverrideValue);if(!c)continue;l.configurationDefaultOverrideValue=c;let d=this.configurationProperties[a];d&&(this.updatePropertyDefaultValue(a,d),this.updateSchema(a,d))}}this.doRegisterOverrideIdentifiers(r)}deregisterDefaultConfigurations(e){let t=new Set;this.doDeregisterDefaultConfigurations(e,t),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:t,defaultsOverrides:!0})}doDeregisterDefaultConfigurations(e,t){for(let r of e){let i=this.registeredConfigurationDefaults.indexOf(r);i!==-1&&this.registeredConfigurationDefaults.splice(i,1)}for(let{overrides:r,source:i}of e)for(let s in r){let a=this.configurationDefaultsOverrides.get(s);if(!a)continue;let l=a.configurationDefaultOverrides.findIndex(u=>i?u.source?.id===i.id:u.value===r[s]);if(l!==-1){if(a.configurationDefaultOverrides.splice(l,1),a.configurationDefaultOverrides.length===0&&this.configurationDefaultsOverrides.delete(s),en.test(s)){let u;for(let c of a.configurationDefaultOverrides)u=this.mergeDefaultConfigurationsForOverrideIdentifier(s,c.value,c.source,u);u&&!lo(u.value)?(a.configurationDefaultOverrideValue=u,this.updateDefaultOverrideProperty(s,u,i)):(this.configurationDefaultsOverrides.delete(s),delete this.configurationProperties[s],delete this.defaultLanguageConfigurationOverridesNode.properties[s])}else{let u;for(let d of a.configurationDefaultOverrides)u=this.mergeDefaultConfigurationsForConfigurationProperty(s,d.value,d.source,u);a.configurationDefaultOverrideValue=u;let c=this.configurationProperties[s];c&&(this.updatePropertyDefaultValue(s,c),this.updateSchema(s,c))}t.add(s)}}this.updateOverridePropertyPatternKey()}updateDefaultOverrideProperty(e,t,r){let i={type:"object",default:t.value,description:g("defaultLanguageConfiguration.description","Configure settings to be overridden for the {0} language.",Qo(e)),$ref:nt,defaultDefaultValue:t.value,source:r,defaultValueSource:r};this.configurationProperties[e]=i,this.defaultLanguageConfigurationOverridesNode.properties[e]=i}mergeDefaultConfigurationsForOverrideIdentifier(e,t,r,i){let s=i?.value||{},a=i?.source??new Map;if(!(a instanceof Map)){console.error("objectConfigurationSources is not a Map");return}for(let l of Object.keys(t)){let u=t[l];if(_e(u)&&(It(s[l])||_e(s[l]))){if(s[l]={...s[l]??{},...u},r)for(let d in u)a.set(`${l}.${d}`,r)}else s[l]=u,r?a.set(l,r):a.delete(l)}return{value:s,source:a}}mergeDefaultConfigurationsForConfigurationProperty(e,t,r,i){let s=this.configurationProperties[e],a=i?.value??s?.defaultDefaultValue,l=r;if(_e(t)&&(s!==void 0&&s.type==="object"||s===void 0&&(It(a)||_e(a)))){if(l=i?.source??new Map,!(l instanceof Map)){console.error("defaultValueSource is not a Map");return}for(let c in t)r&&l.set(`${e}.${c}`,r);t={..._e(a)?a:{},...t}}return{value:t,source:l}}deltaConfiguration(e){let t=!1,r=new Set;e.removedDefaults&&(this.doDeregisterDefaultConfigurations(e.removedDefaults,r),t=!0),e.addedDefaults&&(this.doRegisterDefaultConfigurations(e.addedDefaults,r),t=!0),e.removedConfigurations&&this.doDeregisterConfigurations(e.removedConfigurations,r),e.addedConfigurations&&this.doRegisterConfigurations(e.addedConfigurations,!1,r),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:r,defaultsOverrides:t})}notifyConfigurationSchemaUpdated(...e){this._onDidSchemaChange.fire()}registerOverrideIdentifiers(e){this.doRegisterOverrideIdentifiers(e),this._onDidSchemaChange.fire()}doRegisterOverrideIdentifiers(e){for(let t of e)this.overrideIdentifiers.add(t);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(e,t,r){e.forEach(i=>{this.validateAndRegisterProperties(i,t,i.extensionInfo,i.restrictedProperties,void 0,r),this.configurationContributors.push(i),this.registerJSONConfiguration(i)})}doDeregisterConfigurations(e,t){let r=i=>{if(i.properties)for(let s in i.properties){t.add(s);let a=this.configurationProperties[s];a?.policy?.name&&this.policyConfigurations.delete(a.policy.name),delete this.configurationProperties[s],this.removeFromSchema(s,i.properties[s])}i.allOf?.forEach(s=>r(s))};for(let i of e){r(i);let s=this.configurationContributors.indexOf(i);s!==-1&&this.configurationContributors.splice(s,1)}}validateAndRegisterProperties(e,t=!0,r,i,s=3,a){s=Mt(e.scope)?s:e.scope;let l=e.properties;if(l)for(let c in l){let d=l[c];if(t&&Ql(c,d)){delete l[c];continue}if(d.source=r,d.defaultDefaultValue=l[c].default,this.updatePropertyDefaultValue(c,d),en.test(c)?d.scope=void 0:(d.scope=Mt(d.scope)?s:d.scope,d.restricted=Mt(d.restricted)?!!i?.includes(c):d.restricted),l[c].hasOwnProperty("included")&&!l[c].included){this.excludedConfigurationProperties[c]=l[c],delete l[c];continue}else this.configurationProperties[c]=l[c],l[c].policy?.name&&this.policyConfigurations.set(l[c].policy.name,c);!l[c].deprecationMessage&&l[c].markdownDeprecationMessage&&(l[c].deprecationMessage=l[c].markdownDeprecationMessage),a.add(c)}let u=e.allOf;if(u)for(let c of u)this.validateAndRegisterProperties(c,t,r,i,s,a)}getConfigurations(){return this.configurationContributors}getConfigurationProperties(){return this.configurationProperties}getPolicyConfigurations(){return this.policyConfigurations}getExcludedConfigurationProperties(){return this.excludedConfigurationProperties}getRegisteredDefaultConfigurations(){return[...this.registeredConfigurationDefaults]}getConfigurationDefaultsOverrides(){let e=new Map;for(let[t,r]of this.configurationDefaultsOverrides)r.configurationDefaultOverrideValue&&e.set(t,r.configurationDefaultOverrideValue);return e}registerJSONConfiguration(e){let t=r=>{let i=r.properties;if(i)for(let a in i)this.updateSchema(a,i[a]);r.allOf?.forEach(t)};t(e)}updateSchema(e,t){switch(jn.properties[e]=t,t.scope){case 1:Hn.properties[e]=t;break;case 2:Gn.properties[e]=t;break;case 6:Jn.properties[e]=t;break;case 3:Qn.properties[e]=t;break;case 4:Zt.properties[e]=t;break;case 5:Zt.properties[e]=t,this.resourceLanguageSettingsSchema.properties[e]=t;break}}removeFromSchema(e,t){switch(delete jn.properties[e],t.scope){case 1:delete Hn.properties[e];break;case 2:delete Gn.properties[e];break;case 6:delete Jn.properties[e];break;case 3:delete Qn.properties[e];break;case 4:case 5:delete Zt.properties[e],delete this.resourceLanguageSettingsSchema.properties[e];break}}updateOverridePropertyPatternKey(){for(let e of this.overrideIdentifiers.values()){let t=`[${e}]`,r={type:"object",description:g("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:g("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:nt};this.updatePropertyDefaultValue(t,r),jn.properties[t]=r,Hn.properties[t]=r,Gn.properties[t]=r,Jn.properties[t]=r,Qn.properties[t]=r,Zt.properties[t]=r}}registerOverridePropertyPatternKey(){let e={type:"object",description:g("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:g("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:nt};jn.patternProperties[rt]=e,Hn.patternProperties[rt]=e,Gn.patternProperties[rt]=e,Jn.patternProperties[rt]=e,Qn.patternProperties[rt]=e,Zt.patternProperties[rt]=e,this._onDidSchemaChange.fire()}updatePropertyDefaultValue(e,t){let r=this.configurationDefaultsOverrides.get(e)?.configurationDefaultOverrideValue,i,s;r&&(!t.disallowConfigurationDefault||!r.source)&&(i=r.value,s=r.source),It(i)&&(i=t.defaultDefaultValue,s=void 0),It(i)&&(i=Jl(t.type)),t.default=i,t.defaultValueSource=s}},Yo="\\[([^\\]]+)\\]",Xo=new RegExp(Yo,"g"),rt=`^(${Yo})+$`,en=new RegExp(rt);function Gl(n){let e=[];if(en.test(n)){let t=Xo.exec(n);for(;t?.length;){let r=t[1].trim();r&&e.push(r),t=Xo.exec(n)}}return Di(e)}function Jl(n){switch(Array.isArray(n)?n[0]:n){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}var Yn=new oi;tt.add(si.Configuration,Yn);function Ql(n,e){return n.trim()?en.test(n)?g("config.property.languageDefault","Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",n):Yn.getConfigurationProperties()[n]!==void 0?g("config.property.duplicate","Cannot register '{0}'. This property is already registered.",n):e.policy?.name&&Yn.getPolicyConfigurations().get(e.policy?.name)!==void 0?g("config.policy.duplicate","Cannot register '{0}'. The associated policy {1} is already registered with {2}.",n,e.policy?.name,Yn.getPolicyConfigurations().get(e.policy?.name)):null:g("config.property.empty","Cannot register an empty property")}var Zo=J("requestService");function Xl(n){return n.res.statusCode&&n.res.statusCode>=200&&n.res.statusCode<300||n.res.statusCode===1223}function Yl(n){return n.res.statusCode===204}async function Zl(n){return Yl(n)?null:(await zn(n.stream)).toString()}async function es(n){if(!Xl(n))throw new Error("Server returned "+n.res.statusCode);return Zl(n)}var ai;function eu(n){let e=tt.as(si.Configuration),t=ai;ai={id:"http",order:15,title:g("httpConfigurationTitle","HTTP"),type:"object",scope:n,properties:{"http.proxy":{type:"string",pattern:"^(https?|socks|socks4a?|socks5h?)://([^:]*(:[^@]*)?@)?([^:]+|\\[[:0-9a-fA-F]+\\])(:\\d+)?/?$|^$",markdownDescription:g("proxy","The proxy setting to use. If not set, will be inherited from the `http_proxy` and `https_proxy` environment variables."),restricted:!0},"http.proxyStrictSSL":{type:"boolean",default:!0,description:g("strictSSL","Controls whether the proxy server certificate should be verified against the list of supplied CAs."),restricted:!0},"http.proxyKerberosServicePrincipal":{type:"string",markdownDescription:g("proxyKerberosServicePrincipal","Overrides the principal service name for Kerberos authentication with the HTTP proxy. A default based on the proxy hostname is used when this is not set."),restricted:!0},"http.noProxy":{type:"array",items:{type:"string"},markdownDescription:g("noProxy","Specifies domain names for which proxy settings should be ignored for HTTP/HTTPS requests."),restricted:!0},"http.proxyAuthorization":{type:["null","string"],default:null,markdownDescription:g("proxyAuthorization","The value to send as the `Proxy-Authorization` header for every network request."),restricted:!0},"http.proxySupport":{type:"string",enum:["off","on","fallback","override"],enumDescriptions:[g("proxySupportOff","Disable proxy support for extensions."),g("proxySupportOn","Enable proxy support for extensions."),g("proxySupportFallback","Enable proxy support for extensions, fall back to request options, when no proxy found."),g("proxySupportOverride","Enable proxy support for extensions, override request options.")],default:"override",description:g("proxySupport","Use the proxy support for extensions."),restricted:!0},"http.systemCertificates":{type:"boolean",default:!0,description:g("systemCertificates","Controls whether CA certificates should be loaded from the OS. (On Windows and macOS, a reload of the window is required after turning this off.)"),restricted:!0},"http.experimental.systemCertificatesV2":{type:"boolean",tags:["experimental"],default:!1,description:g("systemCertificatesV2","Controls whether experimental loading of CA certificates from the OS should be enabled. This uses a more general approach than the default implemenation."),restricted:!0}}},e.updateConfigurations({add:[ai],remove:t?[t]:[]})}eu(1);var li=(i=>(i[i.Ignore=0]="Ignore",i[i.Info=1]="Info",i[i.Warning=2]="Warning",i[i.Error=3]="Error",i))(li||{});(l=>{let n="error",e="warning",t="warn",r="info",i="ignore";function s(u){return u?Te(n,u)?3:Te(e,u)||Te(t,u)?2:Te(r,u)?1:0:0}l.fromValue=s;function a(u){switch(u){case 3:return n;case 2:return e;case 1:return r;default:return i}}l.toString=a})(li||={});var zb=J("IBuiltinExtensionsScannerService");import{spawn as tu}from"child_process";import{relative as nu}from"path";var ts=J("ICSSDevelopmentService"),Zn=class{constructor(e,t){this.envService=e;this.logService=t}_cssModules;get isEnabled(){return!this.envService.isBuilt&&!0}getCssModules(){return this._cssModules??=this.computeCssModules(),this._cssModules}async computeCssModules(){if(!this.isEnabled)return[];let e=await import("@vscode/ripgrep");return await new Promise(t=>{let r=vt.create(),i=[],s=new TextDecoder,a=Ee.asFileUri("").fsPath,l=tu(e.rgPath,["-g","**/*.css","--files","--no-ignore",a],{});l.stdout.on("data",u=>{let c=s.decode(u,{stream:!0});i.push(c.split(`
`).filter(Boolean))}),l.on("error",u=>{this.logService.error("[CSS_DEV] FAILED to compute CSS data",u),t([])}),l.on("close",()=>{let u=i.flat().map(c=>nu(a,c).replace(/\\/g,"/")).filter(Boolean).sort();t(u),this.logService.info(`[CSS_DEV] DONE, ${u.length} css modules (${Math.round(r.elapsed())}ms)`)})})}};Zn=C([we(0,Yt),we(1,Fn)],Zn);var iu={".html":"text/html",".js":"text/javascript",".json":"application/json",".css":"text/css",".svg":"image/svg+xml"};async function it(n,e,t,r){e.writeHead(t,{"Content-Type":"text/plain"}),e.end(r)}var ou=(r=>(r[r.NO_CACHING=0]="NO_CACHING",r[r.ETAG=1]="ETAG",r[r.NO_EXPIRY=2]="NO_EXPIRY",r))(ou||{});async function su(n,e,t,r,i,s){try{let a=await nn.stat(n);if(e===1){let l=`W/"${[a.ino,a.size,a.mtime.getTime()].join("-")}"`;if(r.headers["if-none-match"]===l)return i.writeHead(304),void i.end();s.Etag=l}else e===2?s["Cache-Control"]="public, max-age=31536000":e===0&&(s["Cache-Control"]="no-store");s["Content-Type"]=iu[Dt(n)]||ho(n)||"text/plain",i.writeHead(200,s),ru(n).pipe(i)}catch(a){return a.code!=="ENOENT"?(t.error(a),console.error(a.toString())):console.error(`File not found: ${n}`),i.writeHead(404,{"Content-Type":"text/plain"}),void i.end("Not found")}}var ui=ut(Ee.asFileUri("").fsPath),er=class{constructor(e,t,r,i,s,a,l,u){this._connectionToken=e;this._basePath=t;this.serverRootPath=r;this._environmentService=i;this._logService=s;this._requestService=a;this._productService=l;this._cssDevService=u;this._webExtensionResourceUrlTemplate=this._productService.extensionsGallery?.resourceUrlTemplate?S.parse(this._productService.extensionsGallery.resourceUrlTemplate):void 0,this._staticRoute=`${r}/static`,this._callbackRoute=`${r}/callback`,this._webExtensionRoute=`${r}/web-extension-resource`}_webExtensionResourceUrlTemplate;_staticRoute;_callbackRoute;_webExtensionRoute;async handle(e,t,r){try{let i=r.pathname;return i.startsWith(this._staticRoute)&&i.charCodeAt(this._staticRoute.length)===47?this._handleStatic(e,t,r):i===this._basePath?this._handleRoot(e,t,r):i===this._callbackRoute?this._handleCallback(t):i.startsWith(this._webExtensionRoute)&&i.charCodeAt(this._webExtensionRoute.length)===47?this._handleWebExtensionResource(e,t,r):it(e,t,404,"Not found.")}catch(i){return this._logService.error(i),console.error(i.toString()),it(e,t,500,"Internal Server Error.")}}async _handleStatic(e,t,r){let i=Object.create(null),a=decodeURIComponent(r.pathname).substring(this._staticRoute.length+1),l=H(ui,a);return Xe(l,ui,!Pe)?su(l,this._environmentService.isBuilt?2:1,this._logService,e,t,i):it(e,t,400,"Bad request.")}_getResourceURLTemplateAuthority(e){let t=e.authority.indexOf(".");return t!==-1?e.authority.substring(t+1):void 0}async _handleWebExtensionResource(e,t,r){if(!this._webExtensionResourceUrlTemplate)return it(e,t,500,"No extension gallery service configured.");let i=decodeURIComponent(r.pathname),s=ve(i.substring(this._webExtensionRoute.length+1)),a=S.parse(s).with({scheme:this._webExtensionResourceUrlTemplate.scheme,authority:s.substring(0,s.indexOf("/")),path:s.substring(s.indexOf("/")+1)});if(this._getResourceURLTemplateAuthority(this._webExtensionResourceUrlTemplate)!==this._getResourceURLTemplateAuthority(a))return it(e,t,403,"Request Forbidden");let l={},u=k=>{let B=e.headers[k];B&&(Ie(B)||B[0])?l[k]=Ie(B)?B:B[0]:k!==k.toLowerCase()&&u(k.toLowerCase())};u("X-Client-Name"),u("X-Client-Version"),u("X-Machine-Id"),u("X-Client-Commit");let c=await this._requestService.request({type:"GET",url:a.toString(!0),headers:l},Kt.None),d=c.res.statusCode||500;if(d!==200){let k=null;try{k=await es(c)}catch{}return it(e,t,d,k||`Request failed with status ${d}`)}let p=Object.create(null),f=k=>{let B=c.res.headers[k];B?p[k]=B:k!==k.toLowerCase()&&f(k.toLowerCase())};f("Cache-Control"),f("Content-Type"),t.writeHead(200,p);let x=await zn(c.stream);return void t.end(x.buffer)}async _handleRoot(e,t,r){let i=r.query[Wt];if(typeof i=="string"){let F=Object.create(null);F["Set-Cookie"]=rn.serialize(Cn,i,{sameSite:"lax",maxAge:60*60*24*7});let q=Object.create(null);for(let ot in r.query)ot!==Wt&&(q[ot]=r.query[ot]);let ie=rs.format({pathname:r.pathname,query:q});return F.Location=ie,t.writeHead(302,F),void t.end()}let s=F=>{let q=e.headers[F];return Array.isArray(q)?q[0]:q},a=!this._environmentService.isBuilt&&this._environmentService.args["use-test-resolver"],l=a?"test+test":s("x-original-host")||s("x-forwarded-host")||e.headers.host;if(!l)return it(e,t,400,"Bad request.");function u(F){return JSON.stringify(F).replace(/"/g,"&quot;")}let c;this._environmentService.args["enable-smoke-test-driver"]&&(c=!1);let d=F=>F&&S.file(ns.resolve(F)).with({scheme:G.vscodeRemote,authority:l}),p=Ee.asFileUri(`vs/code/browser/workbench/workbench${this._environmentService.isBuilt?"":"-dev"}.${"esm."}html`).fsPath,f=!this._environmentService.isBuilt&&this._environmentService.args["github-auth"]?{id:zr(),providerId:"github",accessToken:this._environmentService.args["github-auth"],scopes:[["user:email"],["repo"]]}:void 0,x={embedderIdentifier:"server-distro",extensionsGallery:this._webExtensionResourceUrlTemplate&&this._productService.extensionsGallery?{...this._productService.extensionsGallery,resourceUrlTemplate:this._webExtensionResourceUrlTemplate.with({scheme:"http",authority:l,path:`${this._webExtensionRoute}/${this._webExtensionResourceUrlTemplate.authority}${this._webExtensionResourceUrlTemplate.path}`}).toString(!0)}:void 0};if(!this._environmentService.isBuilt)try{let F=JSON.parse((await nn.readFile(H(ui,"product.overrides.json"))).toString());Object.assign(x,F)}catch{}let k={remoteAuthority:l,serverBasePath:this._basePath,_wrapWebWorkerExtHostInIframe:c,developmentOptions:{enableSmokeTestDriver:this._environmentService.args["enable-smoke-test-driver"]?!0:void 0,logLevel:this._logService.getLevel()},settingsSyncOptions:!this._environmentService.isBuilt&&this._environmentService.args["enable-sync"]?{enabled:!0}:void 0,enableWorkspaceTrust:!this._environmentService.args["disable-workspace-trust"],folderUri:d(this._environmentService.args["default-folder"]),workspaceUri:d(this._environmentService.args["default-workspace"]),productConfiguration:x,callbackRoute:this._callbackRoute},N=rn.parse(e.headers.cookie||"")["vscode.nls.locale"]||e.headers["accept-language"]?.split(",")[0]?.toLowerCase()||"en",P,Q;!N.startsWith("en")&&this._productService.nlsCoreBaseUrl?(P=this._productService.nlsCoreBaseUrl,Q=`${P}${this._productService.commit}/${this._productService.version}/${N}/nls.messages.js`):Q="";let M={WORKBENCH_WEB_CONFIGURATION:u(k),WORKBENCH_AUTH_SESSION:f?u(f):"",WORKBENCH_WEB_BASE_URL:this._staticRoute,WORKBENCH_NLS_URL:Q,WORKBENCH_NLS_FALLBACK_URL:`${this._staticRoute}/out/nls.messages.js`};if(this._cssDevService.isEnabled){let F=await this._cssDevService.getCssModules();M.WORKBENCH_DEV_CSS_MODULES=JSON.stringify(F)}if(a){let F=[];for(let q of["vscode-test-resolver","github-authentication"]){let ie=JSON.parse((await nn.readFile(Ee.asFileUri(`${yo}/${q}/package.json`).fsPath)).toString());F.push({extensionPath:q,packageJSON:ie})}M.WORKBENCH_BUILTIN_EXTENSIONS=u(F)}let h;try{h=(await nn.readFile(p)).toString().replace(/\{\{([^}]+)\}\}/g,(q,ie)=>M[ie]??"undefined")}catch{return t.writeHead(404,{"Content-Type":"text/plain"}),void t.end("Not found")}let T="sha256-2Q+j4hfT09+1+imS46J2YlkCtHWQt0/BE79PXjJ0ZJ8=",E={"Content-Type":"text/html","Content-Security-Policy":["default-src 'self';","img-src 'self' https: data: blob:;","media-src 'self';",`script-src 'self' 'unsafe-eval' ${P??""} blob: 'nonce-1nline-m4p' ${this._getScriptCspHashes(h).join(" ")} '${T}' 'sha256-/r7rqQ+yrxt57sxLuQ6AMYcy/lUpvAIzHjIJt/OeLWU=' ${a?"":`http://${l}`};`,"child-src 'self';","frame-src 'self' https://*.vscode-cdn.net data:;","worker-src 'self' data: blob:;","style-src 'self' 'unsafe-inline';","connect-src 'self' ws: wss: https:;","font-src 'self' blob:;","manifest-src 'self';"].join(" ")};return this._connectionToken.type!==0&&(E["Set-Cookie"]=rn.serialize(Cn,this._connectionToken.value,{sameSite:"lax",maxAge:60*60*24*7})),t.writeHead(200,E),void t.end(h)}_getScriptCspHashes(e){let t=/<script>([\s\S]+?)<\/script>/img,r=[],i;for(;i=t.exec(e);){let s=is.createHash("sha256"),a=i[1].replace(/\r\n/g,`
`),l=s.update(Buffer.from(a)).digest().toString("base64");r.push(`'sha256-${l}'`)}return r}async _handleCallback(e){let t=Ee.asFileUri("vs/code/browser/workbench/callback.html").fsPath,r=(await nn.readFile(t)).toString(),i=["default-src 'self';","img-src 'self' https: data: blob:;","media-src 'none';",`script-src 'self' ${this._getScriptCspHashes(r).join(" ")};`,"style-src 'self' 'unsafe-inline';","font-src 'self' blob:;"].join(" ");return e.writeHead(200,{"Content-Type":"text/html","Content-Security-Policy":i}),void e.end(r)}};er=C([we(3,Vo),we(4,Fn),we(5,Zo),we(6,Ao),we(7,ts)],er);export{ou as CacheControl,er as WebClientServer,it as serveError,su as serveFile};
