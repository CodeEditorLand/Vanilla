{
  "version": 3,
  "sources": ["../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/server/node/extensionsScannerService.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { joinPath } from '../../base/common/resources.js';\nimport { URI } from '../../base/common/uri.js';\nimport { INativeEnvironmentService } from '../../platform/environment/common/environment.js';\nimport { IExtensionsProfileScannerService } from '../../platform/extensionManagement/common/extensionsProfileScannerService.js';\nimport { AbstractExtensionsScannerService, IExtensionsScannerService, Translations } from '../../platform/extensionManagement/common/extensionsScannerService.js';\nimport { IFileService } from '../../platform/files/common/files.js';\nimport { IInstantiationService } from '../../platform/instantiation/common/instantiation.js';\nimport { ILogService } from '../../platform/log/common/log.js';\nimport { IProductService } from '../../platform/product/common/productService.js';\nimport { IUriIdentityService } from '../../platform/uriIdentity/common/uriIdentity.js';\nimport { IUserDataProfilesService } from '../../platform/userDataProfile/common/userDataProfile.js';\nimport { getNLSConfiguration } from './remoteLanguagePacks.js';\n\nexport class ExtensionsScannerService extends AbstractExtensionsScannerService implements IExtensionsScannerService {\n\n\tconstructor(\n\t\t@IUserDataProfilesService userDataProfilesService: IUserDataProfilesService,\n\t\t@IExtensionsProfileScannerService extensionsProfileScannerService: IExtensionsProfileScannerService,\n\t\t@IFileService fileService: IFileService,\n\t\t@ILogService logService: ILogService,\n\t\t@INativeEnvironmentService private readonly nativeEnvironmentService: INativeEnvironmentService,\n\t\t@IProductService productService: IProductService,\n\t\t@IUriIdentityService uriIdentityService: IUriIdentityService,\n\t\t@IInstantiationService instantiationService: IInstantiationService,\n\t) {\n\t\tsuper(\n\t\t\tURI.file(nativeEnvironmentService.builtinExtensionsPath),\n\t\t\tURI.file(nativeEnvironmentService.extensionsPath),\n\t\t\tjoinPath(nativeEnvironmentService.userHome, '.vscode-oss-dev', 'extensions', 'control.json'),\n\t\t\tuserDataProfilesService.defaultProfile,\n\t\t\tuserDataProfilesService, extensionsProfileScannerService, fileService, logService, nativeEnvironmentService, productService, uriIdentityService, instantiationService);\n\t}\n\n\tprotected async getTranslations(language: string): Promise<Translations> {\n\t\tconst config = await getNLSConfiguration(language, this.nativeEnvironmentService.userDataPath);\n\t\tif (config.languagePack) {\n\t\t\ttry {\n\t\t\t\tconst content = await this.fileService.readFile(URI.file(config.languagePack.translationsConfigFile));\n\t\t\t\treturn JSON.parse(content.value.toString());\n\t\t\t} catch (err) { /* Ignore error */ }\n\t\t}\n\t\treturn Object.create(null);\n\t}\n\n}\n"],
  "mappings": ";;;;;;;;;;;;AAKA,SAAS,gBAAgB;AACzB,SAAS,WAAW;AACpB,SAAS,iCAAiC;AAC1C,SAAS,wCAAwC;AACjD,SAAS,kCAAkC,2BAA2B,oBAAoB;AAC1F,SAAS,oBAAoB;AAC7B,SAAS,6BAA6B;AACtC,SAAS,mBAAmB;AAC5B,SAAS,uBAAuB;AAChC,SAAS,2BAA2B;AACpC,SAAS,gCAAgC;AACzC,SAAS,2BAA2B;AAE7B,IAAM,2BAAN,cAAuC,iCAAsE;AAAA,EAEnH,YAC2B,yBACQ,iCACpB,aACD,YAC+B,0BAC3B,gBACI,oBACE,sBACtB;AACD;AAAA,MACC,IAAI,KAAK,yBAAyB,qBAAqB;AAAA,MACvD,IAAI,KAAK,yBAAyB,cAAc;AAAA,MAChD,SAAS,yBAAyB,UAAU,mBAAmB,cAAc,cAAc;AAAA,MAC3F,wBAAwB;AAAA,MACxB;AAAA,MAAyB;AAAA,MAAiC;AAAA,MAAa;AAAA,MAAY;AAAA,MAA0B;AAAA,MAAgB;AAAA,MAAoB;AAAA,IAAoB;AAV1H;AAAA,EAW7C;AAAA,EApCD,OAkBoH;AAAA;AAAA;AAAA,EAoBnH,MAAgB,gBAAgB,UAAyC;AACxE,UAAM,SAAS,MAAM,oBAAoB,UAAU,KAAK,yBAAyB,YAAY;AAC7F,QAAI,OAAO,cAAc;AACxB,UAAI;AACH,cAAM,UAAU,MAAM,KAAK,YAAY,SAAS,IAAI,KAAK,OAAO,aAAa,sBAAsB,CAAC;AACpG,eAAO,KAAK,MAAM,QAAQ,MAAM,SAAS,CAAC;AAAA,MAC3C,SAAS,KAAK;AAAA,MAAqB;AAAA,IACpC;AACA,WAAO,uBAAO,OAAO,IAAI;AAAA,EAC1B;AAED;AA/Ba,2BAAN;AAAA,EAGJ;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,GAVU;",
  "names": []
}
