{
  "version": 3,
  "sources": ["../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/server/node/extensionsScannerService.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { joinPath } from \"../../base/common/resources.js\";\nimport { URI } from \"../../base/common/uri.js\";\nimport { INativeEnvironmentService } from \"../../platform/environment/common/environment.js\";\nimport { IExtensionsProfileScannerService } from \"../../platform/extensionManagement/common/extensionsProfileScannerService.js\";\nimport {\n\tAbstractExtensionsScannerService,\n\ttype IExtensionsScannerService,\n\ttype Translations,\n} from \"../../platform/extensionManagement/common/extensionsScannerService.js\";\nimport { IFileService } from \"../../platform/files/common/files.js\";\nimport { IInstantiationService } from \"../../platform/instantiation/common/instantiation.js\";\nimport { ILogService } from \"../../platform/log/common/log.js\";\nimport { IProductService } from \"../../platform/product/common/productService.js\";\nimport { IUriIdentityService } from \"../../platform/uriIdentity/common/uriIdentity.js\";\nimport { IUserDataProfilesService } from \"../../platform/userDataProfile/common/userDataProfile.js\";\nimport { getNLSConfiguration } from \"./remoteLanguagePacks.js\";\n\nexport class ExtensionsScannerService\n\textends AbstractExtensionsScannerService\n\timplements IExtensionsScannerService\n{\n\tconstructor(\n\t\t@IUserDataProfilesService\n\t\tuserDataProfilesService: IUserDataProfilesService,\n\t\t@IExtensionsProfileScannerService\n\t\textensionsProfileScannerService: IExtensionsProfileScannerService,\n\t\t@IFileService fileService: IFileService,\n\t\t@ILogService logService: ILogService,\n\t\t@INativeEnvironmentService\n\t\tprivate readonly nativeEnvironmentService: INativeEnvironmentService,\n\t\t@IProductService productService: IProductService,\n\t\t@IUriIdentityService uriIdentityService: IUriIdentityService,\n\t\t@IInstantiationService instantiationService: IInstantiationService,\n\t) {\n\t\tsuper(\n\t\t\tURI.file(nativeEnvironmentService.builtinExtensionsPath),\n\t\t\tURI.file(nativeEnvironmentService.extensionsPath),\n\t\t\tjoinPath(\n\t\t\t\tnativeEnvironmentService.userHome,\n\t\t\t\t\".vscode-oss-dev\",\n\t\t\t\t\"extensions\",\n\t\t\t\t\"control.json\",\n\t\t\t),\n\t\t\tuserDataProfilesService.defaultProfile,\n\t\t\tuserDataProfilesService,\n\t\t\textensionsProfileScannerService,\n\t\t\tfileService,\n\t\t\tlogService,\n\t\t\tnativeEnvironmentService,\n\t\t\tproductService,\n\t\t\turiIdentityService,\n\t\t\tinstantiationService,\n\t\t);\n\t}\n\n\tprotected async getTranslations(language: string): Promise<Translations> {\n\t\tconst config = await getNLSConfiguration(\n\t\t\tlanguage,\n\t\t\tthis.nativeEnvironmentService.userDataPath,\n\t\t);\n\t\tif (config.languagePack) {\n\t\t\ttry {\n\t\t\t\tconst content = await this.fileService.readFile(\n\t\t\t\t\tURI.file(config.languagePack.translationsConfigFile),\n\t\t\t\t);\n\t\t\t\treturn JSON.parse(content.value.toString());\n\t\t\t} catch (err) {\n\t\t\t\t/* Ignore error */\n\t\t\t}\n\t\t}\n\t\treturn Object.create(null);\n\t}\n}\n"],
  "mappings": ";;;;;;;;;;;;AAKA,SAAS,gBAAgB;AACzB,SAAS,WAAW;AACpB,SAAS,iCAAiC;AAC1C,SAAS,wCAAwC;AACjD;AAAA,EACC;AAAA,OAGM;AACP,SAAS,oBAAoB;AAC7B,SAAS,6BAA6B;AACtC,SAAS,mBAAmB;AAC5B,SAAS,uBAAuB;AAChC,SAAS,2BAA2B;AACpC,SAAS,gCAAgC;AACzC,SAAS,2BAA2B;AAE7B,IAAM,2BAAN,cACE,iCAET;AAAA,EACC,YAEC,yBAEA,iCACc,aACD,YAEI,0BACA,gBACI,oBACE,sBACtB;AACD;AAAA,MACC,IAAI,KAAK,yBAAyB,qBAAqB;AAAA,MACvD,IAAI,KAAK,yBAAyB,cAAc;AAAA,MAChD;AAAA,QACC,yBAAyB;AAAA,QACzB;AAAA,QACA;AAAA,QACA;AAAA,MACD;AAAA,MACA,wBAAwB;AAAA,MACxB;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACD;AAvBiB;AAAA,EAwBlB;AAAA,EA1DD,OAyBA;AAAA;AAAA;AAAA,EAmCC,MAAgB,gBAAgB,UAAyC;AACxE,UAAM,SAAS,MAAM;AAAA,MACpB;AAAA,MACA,KAAK,yBAAyB;AAAA,IAC/B;AACA,QAAI,OAAO,cAAc;AACxB,UAAI;AACH,cAAM,UAAU,MAAM,KAAK,YAAY;AAAA,UACtC,IAAI,KAAK,OAAO,aAAa,sBAAsB;AAAA,QACpD;AACA,eAAO,KAAK,MAAM,QAAQ,MAAM,SAAS,CAAC;AAAA,MAC3C,SAAS,KAAK;AAAA,MAEd;AAAA,IACD;AACA,WAAO,uBAAO,OAAO,IAAI;AAAA,EAC1B;AACD;AAvDa,2BAAN;AAAA,EAKJ;AAAA,EAEA;AAAA,EAEA;AAAA,EACA;AAAA,EACA;AAAA,EAEA;AAAA,EACA;AAAA,EACA;AAAA,GAfU;",
  "names": []
}
