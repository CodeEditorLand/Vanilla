import t from"assert";import{FileAccess as o,Schemas as m}from"../../../../base/common/network.js";import{URI as c}from"../../../../base/common/uri.js";import{ensureNoDisposablesAreLeakedInTestSuite as l}from"../../../../base/test/common/utils.js";import{ChecksumService as f}from"../../node/checksumService.js";import"../../../files/common/files.js";import{FileService as v}from"../../../files/common/fileService.js";import{DiskFileSystemProvider as S}from"../../../files/node/diskFileSystemProvider.js";import{NullLogService as p}from"../../../log/common/log.js";suite("Checksum Service",()=>{let i,e;setup(()=>{const r=new p;e=new v(r),i=new S(r),e.registerProvider(m.file,i)}),teardown(()=>{i.dispose(),e.dispose()}),test("checksum",async()=>{const s=await new f(e).checksum(c.file(o.asFileUri("vs/platform/checksum/test/node/fixtures/lorem.txt").fsPath));t.ok(s==="d/9bMU0ydNCmc/hg8ItWeiLT/ePnf7gyPRQVGpd6tRI"||s==="eJeeTIS0dzi8MZY+nHhjPBVtNbmGqxfVvgEOB4sqVIc")}),l()});
