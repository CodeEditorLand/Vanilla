{
  "version": 3,
  "sources": ["../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/platform/progress/test/common/progress.test.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { runWithFakedTimers } from '../../../../base/test/common/timeTravelScheduler.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../base/test/common/utils.js';\nimport { AsyncProgress } from '../../common/progress.js';\n\nsuite('Progress', () => {\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('multiple report calls are processed in sequence', async () => {\n\t\tawait runWithFakedTimers({ useFakeTimers: true, maxTaskCount: 100 }, async () => {\n\t\t\tconst executionOrder: string[] = [];\n\t\t\tconst timeout = (time: number) => {\n\t\t\t\treturn new Promise<void>(resolve => setTimeout(resolve, time));\n\t\t\t};\n\t\t\tconst executor = async (value: number) => {\n\t\t\t\texecutionOrder.push(`start ${value}`);\n\t\t\t\tif (value === 1) {\n\t\t\t\t\t// 1 is slowest\n\t\t\t\t\tawait timeout(100);\n\t\t\t\t} else if (value === 2) {\n\t\t\t\t\t// 2 is also slow\n\t\t\t\t\tawait timeout(50);\n\t\t\t\t} else {\n\t\t\t\t\t// 3 is fast\n\t\t\t\t\tawait timeout(10);\n\t\t\t\t}\n\t\t\t\texecutionOrder.push(`end ${value}`);\n\t\t\t};\n\t\t\tconst progress = new AsyncProgress<number>(executor);\n\n\t\t\tprogress.report(1);\n\t\t\tprogress.report(2);\n\t\t\tprogress.report(3);\n\n\t\t\tawait timeout(1000);\n\n\t\t\tassert.deepStrictEqual(executionOrder, [\n\t\t\t\t'start 1',\n\t\t\t\t'end 1',\n\t\t\t\t'start 2',\n\t\t\t\t'end 2',\n\t\t\t\t'start 3',\n\t\t\t\t'end 3',\n\t\t\t]);\n\t\t});\n\t});\n});\n"],
  "mappings": ";;AAKA,OAAO,YAAY;AACnB,SAAS,0BAA0B;AACnC,SAAS,+CAA+C;AACxD,SAAS,qBAAqB;AAE9B,MAAM,YAAY,MAAM;AAEvB,0CAAwC;AAExC,OAAK,mDAAmD,YAAY;AACnE,UAAM,mBAAmB,EAAE,eAAe,MAAM,cAAc,IAAI,GAAG,YAAY;AAChF,YAAM,iBAA2B,CAAC;AAClC,YAAM,UAAU,wBAAC,SAAiB;AACjC,eAAO,IAAI,QAAc,aAAW,WAAW,SAAS,IAAI,CAAC;AAAA,MAC9D,GAFgB;AAGhB,YAAM,WAAW,8BAAO,UAAkB;AACzC,uBAAe,KAAK,SAAS,KAAK,EAAE;AACpC,YAAI,UAAU,GAAG;AAEhB,gBAAM,QAAQ,GAAG;AAAA,QAClB,WAAW,UAAU,GAAG;AAEvB,gBAAM,QAAQ,EAAE;AAAA,QACjB,OAAO;AAEN,gBAAM,QAAQ,EAAE;AAAA,QACjB;AACA,uBAAe,KAAK,OAAO,KAAK,EAAE;AAAA,MACnC,GAbiB;AAcjB,YAAM,WAAW,IAAI,cAAsB,QAAQ;AAEnD,eAAS,OAAO,CAAC;AACjB,eAAS,OAAO,CAAC;AACjB,eAAS,OAAO,CAAC;AAEjB,YAAM,QAAQ,GAAI;AAElB,aAAO,gBAAgB,gBAAgB;AAAA,QACtC;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACD,CAAC;AAAA,IACF,CAAC;AAAA,EACF,CAAC;AACF,CAAC;",
  "names": []
}
