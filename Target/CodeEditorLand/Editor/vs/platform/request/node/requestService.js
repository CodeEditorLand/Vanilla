var Ta=Object.create;var yr=Object.defineProperty;var Fi=Object.getOwnPropertyDescriptor;var Ia=Object.getOwnPropertyNames;var _a=Object.getPrototypeOf,Ea=Object.prototype.hasOwnProperty;var ne=(n=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(n,{get:(e,t)=>(typeof require<"u"?require:e)[t]}):n)(function(n){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+n+'" is not supported')});var de=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var wa=(n,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Ia(e))!Ea.call(n,i)&&i!==t&&yr(n,i,{get:()=>e[i],enumerable:!(r=Fi(e,i))||r.enumerable});return n};var vr=(n,e,t)=>(t=n!=null?Ta(_a(n)):{},wa(e||!n||!n.__esModule?yr(t,"default",{value:n,enumerable:!0}):t,n));var Ki=(n,e,t,r)=>{for(var i=r>1?void 0:r?Fi(e,t):e,s=n.length-1,a;s>=0;s--)(a=n[s])&&(i=(r?a(e,t,i):a(i))||i);return r&&i&&yr(e,t,i),i},bn=(n,e)=>(t,r)=>e(t,r,n);var Es=de((tm,_s)=>{"use strict";function Ou(n,e){var t=n;e.slice(0,-1).forEach(function(i){t=t[i]||{}});var r=e[e.length-1];return r in t}function Ts(n){return typeof n=="number"||/^0x[0-9a-f]+$/i.test(n)?!0:/^[-+]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(n)}function Is(n,e){return e==="constructor"&&typeof n[e]=="function"||e==="__proto__"}_s.exports=function(n,e){e||(e={});var t={bools:{},strings:{},unknownFn:null};typeof e.unknown=="function"&&(t.unknownFn=e.unknown),typeof e.boolean=="boolean"&&e.boolean?t.allBools=!0:[].concat(e.boolean).filter(Boolean).forEach(function(g){t.bools[g]=!0});var r={};function i(g){return r[g].some(function(I){return t.bools[I]})}Object.keys(e.alias||{}).forEach(function(g){r[g]=[].concat(e.alias[g]),r[g].forEach(function(I){r[I]=[g].concat(r[g].filter(function(S){return I!==S}))})}),[].concat(e.string).filter(Boolean).forEach(function(g){t.strings[g]=!0,r[g]&&[].concat(r[g]).forEach(function(I){t.strings[I]=!0})});var s=e.default||{},a={_:[]};function l(g,I){return t.allBools&&/^--[^=]+$/.test(I)||t.strings[g]||t.bools[g]||r[g]}function c(g,I,S){for(var x=g,oe=0;oe<I.length-1;oe++){var Z=I[oe];if(Is(x,Z))return;x[Z]===void 0&&(x[Z]={}),(x[Z]===Object.prototype||x[Z]===Number.prototype||x[Z]===String.prototype)&&(x[Z]={}),x[Z]===Array.prototype&&(x[Z]=[]),x=x[Z]}var ye=I[I.length-1];Is(x,ye)||((x===Object.prototype||x===Number.prototype||x===String.prototype)&&(x={}),x===Array.prototype&&(x=[]),x[ye]===void 0||t.bools[ye]||typeof x[ye]=="boolean"?x[ye]=S:Array.isArray(x[ye])?x[ye].push(S):x[ye]=[x[ye],S])}function u(g,I,S){if(!(S&&t.unknownFn&&!l(g,S)&&t.unknownFn(S)===!1)){var x=!t.strings[g]&&Ts(I)?Number(I):I;c(a,g.split("."),x),(r[g]||[]).forEach(function(oe){c(a,oe.split("."),x)})}}Object.keys(t.bools).forEach(function(g){u(g,s[g]===void 0?!1:s[g])});var d=[];n.indexOf("--")!==-1&&(d=n.slice(n.indexOf("--")+1),n=n.slice(0,n.indexOf("--")));for(var f=0;f<n.length;f++){var p=n[f],T,A;if(/^--.+=/.test(p)){var N=p.match(/^--([^=]+)=([\s\S]*)$/);T=N[1];var w=N[2];t.bools[T]&&(w=w!=="false"),u(T,w,p)}else if(/^--no-.+/.test(p))T=p.match(/^--no-(.+)/)[1],u(T,!1,p);else if(/^--.+/.test(p))T=p.match(/^--(.+)/)[1],A=n[f+1],A!==void 0&&!/^(-|--)[^-]/.test(A)&&!t.bools[T]&&!t.allBools&&(!r[T]||!i(T))?(u(T,A,p),f+=1):/^(true|false)$/.test(A)?(u(T,A==="true",p),f+=1):u(T,t.strings[T]?"":!0,p);else if(/^-[^-]+/.test(p)){for(var E=p.slice(1,-1).split(""),U=!1,C=0;C<E.length;C++){if(A=p.slice(C+2),A==="-"){u(E[C],A,p);continue}if(/[A-Za-z]/.test(E[C])&&A[0]==="="){u(E[C],A.slice(1),p),U=!0;break}if(/[A-Za-z]/.test(E[C])&&/-?\d+(\.\d*)?(e-?\d+)?$/.test(A)){u(E[C],A,p),U=!0;break}if(E[C+1]&&E[C+1].match(/\W/)){u(E[C],p.slice(C+2),p),U=!0;break}else u(E[C],t.strings[E[C]]?"":!0,p)}T=p.slice(-1)[0],!U&&T!=="-"&&(n[f+1]&&!/^(-|--)[^-]/.test(n[f+1])&&!t.bools[T]&&(!r[T]||!i(T))?(u(T,n[f+1],p),f+=1):n[f+1]&&/^(true|false)$/.test(n[f+1])?(u(T,n[f+1]==="true",p),f+=1):u(T,t.strings[T]?"":!0,p))}else if((!t.unknownFn||t.unknownFn(p)!==!1)&&a._.push(t.strings._||!Ts(p)?p:Number(p)),e.stopEarly){a._.push.apply(a._,n.slice(f+1));break}}return Object.keys(s).forEach(function(g){Ou(a,g.split("."))||(c(a,g.split("."),s[g]),(r[g]||[]).forEach(function(I){c(a,I.split("."),s[g])}))}),e["--"]?a["--"]=d.slice():d.forEach(function(g){a._.push(g)}),a}});var qs=de((c4,Ws)=>{"use strict";var wt=1e3,St=wt*60,Rt=St*60,st=Rt*24,oc=st*7,sc=st*365.25;Ws.exports=function(n,e){e=e||{};var t=typeof n;if(t==="string"&&n.length>0)return ac(n);if(t==="number"&&isFinite(n))return e.long?uc(n):lc(n);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(n))};function ac(n){if(n=String(n),!(n.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(n);if(e){var t=parseFloat(e[1]),r=(e[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return t*sc;case"weeks":case"week":case"w":return t*oc;case"days":case"day":case"d":return t*st;case"hours":case"hour":case"hrs":case"hr":case"h":return t*Rt;case"minutes":case"minute":case"mins":case"min":case"m":return t*St;case"seconds":case"second":case"secs":case"sec":case"s":return t*wt;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t;default:return}}}}function lc(n){var e=Math.abs(n);return e>=st?Math.round(n/st)+"d":e>=Rt?Math.round(n/Rt)+"h":e>=St?Math.round(n/St)+"m":e>=wt?Math.round(n/wt)+"s":n+"ms"}function uc(n){var e=Math.abs(n);return e>=st?ur(n,e,st,"day"):e>=Rt?ur(n,e,Rt,"hour"):e>=St?ur(n,e,St,"minute"):e>=wt?ur(n,e,wt,"second"):n+" ms"}function ur(n,e,t,r){var i=e>=t*1.5;return Math.round(n/t)+" "+r+(i?"s":"")}});var ki=de((d4,$s)=>{"use strict";function cc(n){t.debug=t,t.default=t,t.coerce=c,t.disable=s,t.enable=i,t.enabled=a,t.humanize=qs(),t.destroy=u,Object.keys(n).forEach(d=>{t[d]=n[d]}),t.names=[],t.skips=[],t.formatters={};function e(d){let f=0;for(let p=0;p<d.length;p++)f=(f<<5)-f+d.charCodeAt(p),f|=0;return t.colors[Math.abs(f)%t.colors.length]}t.selectColor=e;function t(d){let f,p=null,T,A;function N(...w){if(!N.enabled)return;let E=N,U=Number(new Date),C=U-(f||U);E.diff=C,E.prev=f,E.curr=U,f=U,w[0]=t.coerce(w[0]),typeof w[0]!="string"&&w.unshift("%O");let g=0;w[0]=w[0].replace(/%([a-zA-Z%])/g,(S,x)=>{if(S==="%%")return"%";g++;let oe=t.formatters[x];if(typeof oe=="function"){let Z=w[g];S=oe.call(E,Z),w.splice(g,1),g--}return S}),t.formatArgs.call(E,w),(E.log||t.log).apply(E,w)}return N.namespace=d,N.useColors=t.useColors(),N.color=t.selectColor(d),N.extend=r,N.destroy=t.destroy,Object.defineProperty(N,"enabled",{enumerable:!0,configurable:!1,get:()=>p!==null?p:(T!==t.namespaces&&(T=t.namespaces,A=t.enabled(d)),A),set:w=>{p=w}}),typeof t.init=="function"&&t.init(N),N}function r(d,f){let p=t(this.namespace+(typeof f>"u"?":":f)+d);return p.log=this.log,p}function i(d){t.save(d),t.namespaces=d,t.names=[],t.skips=[];let f,p=(typeof d=="string"?d:"").split(/[\s,]+/),T=p.length;for(f=0;f<T;f++)p[f]&&(d=p[f].replace(/\*/g,".*?"),d[0]==="-"?t.skips.push(new RegExp("^"+d.slice(1)+"$")):t.names.push(new RegExp("^"+d+"$")))}function s(){let d=[...t.names.map(l),...t.skips.map(l).map(f=>"-"+f)].join(",");return t.enable(""),d}function a(d){if(d[d.length-1]==="*")return!0;let f,p;for(f=0,p=t.skips.length;f<p;f++)if(t.skips[f].test(d))return!1;for(f=0,p=t.names.length;f<p;f++)if(t.names[f].test(d))return!0;return!1}function l(d){return d.toString().substring(2,d.toString().length-2).replace(/\.\*\?$/,"*")}function c(d){return d instanceof Error?d.stack||d.message:d}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return t.enable(t.load()),t}$s.exports=cc});var js=de((ge,cr)=>{"use strict";ge.formatArgs=fc;ge.save=pc;ge.load=gc;ge.useColors=dc;ge.storage=hc();ge.destroy=(()=>{let n=!1;return()=>{n||(n=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();ge.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function dc(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let n;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(n=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(n[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function fc(n){if(n[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+n[0]+(this.useColors?"%c ":" ")+"+"+cr.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;n.splice(1,0,e,"color: inherit");let t=0,r=0;n[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(t++,i==="%c"&&(r=t))}),n.splice(r,0,e)}ge.log=console.debug||console.log||(()=>{});function pc(n){try{n?ge.storage.setItem("debug",n):ge.storage.removeItem("debug")}catch{}}function gc(){let n;try{n=ge.storage.getItem("debug")}catch{}return!n&&typeof process<"u"&&"env"in process&&(n=process.env.DEBUG),n}function hc(){try{return localStorage}catch{}}cr.exports=ki()(ge);var{formatters:mc}=cr.exports;mc.j=function(n){try{return JSON.stringify(n)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var Hs=de((f4,zs)=>{"use strict";zs.exports=(n,e)=>{e=e||process.argv;let t=n.startsWith("-")?"":n.length===1?"-":"--",r=e.indexOf(t+n),i=e.indexOf("--");return r!==-1&&(i===-1?!0:r<i)}});var Js=de((p4,Gs)=>{"use strict";var bc=ne("os"),_e=Hs(),ie=process.env,Dt;_e("no-color")||_e("no-colors")||_e("color=false")?Dt=!1:(_e("color")||_e("colors")||_e("color=true")||_e("color=always"))&&(Dt=!0);"FORCE_COLOR"in ie&&(Dt=ie.FORCE_COLOR.length===0||parseInt(ie.FORCE_COLOR,10)!==0);function yc(n){return n===0?!1:{level:n,hasBasic:!0,has256:n>=2,has16m:n>=3}}function vc(n){if(Dt===!1)return 0;if(_e("color=16m")||_e("color=full")||_e("color=truecolor"))return 3;if(_e("color=256"))return 2;if(n&&!n.isTTY&&Dt!==!0)return 0;let e=Dt?1:0;if(process.platform==="win32"){let t=bc.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(t[0])>=10&&Number(t[2])>=10586?Number(t[2])>=14931?3:2:1}if("CI"in ie)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(t=>t in ie)||ie.CI_NAME==="codeship"?1:e;if("TEAMCITY_VERSION"in ie)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(ie.TEAMCITY_VERSION)?1:0;if(ie.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in ie){let t=parseInt((ie.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(ie.TERM_PROGRAM){case"iTerm.app":return t>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(ie.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(ie.TERM)||"COLORTERM"in ie?1:(ie.TERM==="dumb",e)}function Oi(n){let e=vc(n);return yc(e)}Gs.exports={supportsColor:Oi,stdout:Oi(process.stdout),stderr:Oi(process.stderr)}});var Ys=de((X,fr)=>{"use strict";var xc=ne("tty"),dr=ne("util");X.init=Rc;X.log=Ec;X.formatArgs=Ic;X.save=wc;X.load=Sc;X.useColors=Tc;X.destroy=dr.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");X.colors=[6,2,3,4,5,1];try{let n=Js();n&&(n.stderr||n).level>=2&&(X.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}X.inspectOpts=Object.keys(process.env).filter(n=>/^debug_/i.test(n)).reduce((n,e)=>{let t=e.substring(6).toLowerCase().replace(/_([a-z])/g,(i,s)=>s.toUpperCase()),r=process.env[e];return/^(yes|on|true|enabled)$/i.test(r)?r=!0:/^(no|off|false|disabled)$/i.test(r)?r=!1:r==="null"?r=null:r=Number(r),n[t]=r,n},{});function Tc(){return"colors"in X.inspectOpts?!!X.inspectOpts.colors:xc.isatty(process.stderr.fd)}function Ic(n){let{namespace:e,useColors:t}=this;if(t){let r=this.color,i="\x1B[3"+(r<8?r:"8;5;"+r),s=`  ${i};1m${e} \x1B[0m`;n[0]=s+n[0].split(`
`).join(`
`+s),n.push(i+"m+"+fr.exports.humanize(this.diff)+"\x1B[0m")}else n[0]=_c()+e+" "+n[0]}function _c(){return X.inspectOpts.hideDate?"":new Date().toISOString()+" "}function Ec(...n){return process.stderr.write(dr.formatWithOptions(X.inspectOpts,...n)+`
`)}function wc(n){n?process.env.DEBUG=n:delete process.env.DEBUG}function Sc(){return process.env.DEBUG}function Rc(n){n.inspectOpts={};let e=Object.keys(X.inspectOpts);for(let t=0;t<e.length;t++)n.inspectOpts[e[t]]=X.inspectOpts[e[t]]}fr.exports=ki()(X);var{formatters:Qs}=fr.exports;Qs.o=function(n){return this.inspectOpts.colors=this.useColors,dr.inspect(n,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};Qs.O=function(n){return this.inspectOpts.colors=this.useColors,dr.inspect(n,this.inspectOpts)}});var pr=de((g4,Ci)=>{"use strict";typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?Ci.exports=js():Ci.exports=Ys()});var ea=de(ce=>{"use strict";var Dc=ce&&ce.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),kc=ce&&ce.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),Xs=ce&&ce.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&Dc(e,n,t);return kc(e,n),e};Object.defineProperty(ce,"__esModule",{value:!0});ce.req=ce.json=ce.toBuffer=void 0;var Oc=Xs(ne("http")),Cc=Xs(ne("https"));async function Zs(n){let e=0,t=[];for await(let r of n)e+=r.length,t.push(r);return Buffer.concat(t,e)}ce.toBuffer=Zs;async function Ac(n){let t=(await Zs(n)).toString("utf8");try{return JSON.parse(t)}catch(r){let i=r;throw i.message+=` (input: ${t})`,i}}ce.json=Ac;function Lc(n,e={}){let r=((typeof n=="string"?n:n.href).startsWith("https:")?Cc:Oc).request(n,e),i=new Promise((s,a)=>{r.once("response",s).once("error",a).end()});return r.then=i.then.bind(i),r}ce.req=Lc});var Li=de(he=>{"use strict";var na=he&&he.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),Pc=he&&he.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),ra=he&&he.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&na(e,n,t);return Pc(e,n),e},Uc=he&&he.__exportStar||function(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&na(e,n,t)};Object.defineProperty(he,"__esModule",{value:!0});he.Agent=void 0;var Nc=ra(ne("net")),ta=ra(ne("http")),Fc=ne("https");Uc(ea(),he);var Oe=Symbol("AgentBaseInternalState"),Ai=class extends ta.Agent{constructor(e){super(e),this[Oe]={}}isSecureEndpoint(e){if(e){if(typeof e.secureEndpoint=="boolean")return e.secureEndpoint;if(typeof e.protocol=="string")return e.protocol==="https:"}let{stack:t}=new Error;return typeof t!="string"?!1:t.split(`
`).some(r=>r.indexOf("(https.js:")!==-1||r.indexOf("node:https:")!==-1)}incrementSockets(e){if(this.maxSockets===1/0&&this.maxTotalSockets===1/0)return null;this.sockets[e]||(this.sockets[e]=[]);let t=new Nc.Socket({writable:!1});return this.sockets[e].push(t),this.totalSocketCount++,t}decrementSockets(e,t){if(!this.sockets[e]||t===null)return;let r=this.sockets[e],i=r.indexOf(t);i!==-1&&(r.splice(i,1),this.totalSocketCount--,r.length===0&&delete this.sockets[e])}getName(e){return(typeof e.secureEndpoint=="boolean"?e.secureEndpoint:this.isSecureEndpoint(e))?Fc.Agent.prototype.getName.call(this,e):super.getName(e)}createSocket(e,t,r){let i={...t,secureEndpoint:this.isSecureEndpoint(t)},s=this.getName(i),a=this.incrementSockets(s);Promise.resolve().then(()=>this.connect(e,i)).then(l=>{if(this.decrementSockets(s,a),l instanceof ta.Agent)return l.addRequest(e,i);this[Oe].currentSocket=l,super.createSocket(e,t,r)},l=>{this.decrementSockets(s,a),r(l)})}createConnection(){let e=this[Oe].currentSocket;if(this[Oe].currentSocket=void 0,!e)throw new Error("No socket was returned in the `connect()` function");return e}get defaultPort(){return this[Oe].defaultPort??(this.protocol==="https:"?443:80)}set defaultPort(e){this[Oe]&&(this[Oe].defaultPort=e)}get protocol(){return this[Oe].protocol??(this.isSecureEndpoint()?"https:":"http:")}set protocol(e){this[Oe]&&(this[Oe].protocol=e)}};he.Agent=Ai});var sa=de(me=>{"use strict";var Kc=me&&me.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),Mc=me&&me.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),oa=me&&me.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&Kc(e,n,t);return Mc(e,n),e},Vc=me&&me.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(me,"__esModule",{value:!0});me.HttpProxyAgent=void 0;var Bc=oa(ne("net")),Wc=oa(ne("tls")),qc=Vc(pr()),$c=ne("events"),jc=Li(),ia=ne("url"),kt=(0,qc.default)("http-proxy-agent"),gr=class extends jc.Agent{constructor(e,t){super(t),this.proxy=typeof e=="string"?new ia.URL(e):e,this.proxyHeaders=t?.headers??{},kt("Creating new HttpProxyAgent instance: %o",this.proxy.href);let r=(this.proxy.hostname||this.proxy.host).replace(/^\[|\]$/g,""),i=this.proxy.port?parseInt(this.proxy.port,10):this.proxy.protocol==="https:"?443:80;this.connectOpts={...t?zc(t,"headers"):null,host:r,port:i}}addRequest(e,t){e._header=null,this.setRequestProps(e,t),super.addRequest(e,t)}setRequestProps(e,t){let{proxy:r}=this,i=t.secureEndpoint?"https:":"http:",s=e.getHeader("host")||"localhost",a=`${i}//${s}`,l=new ia.URL(e.path,a);t.port!==80&&(l.port=String(t.port)),e.path=String(l);let c=typeof this.proxyHeaders=="function"?this.proxyHeaders():{...this.proxyHeaders};if(r.username||r.password){let u=`${decodeURIComponent(r.username)}:${decodeURIComponent(r.password)}`;c["Proxy-Authorization"]=`Basic ${Buffer.from(u).toString("base64")}`}c["Proxy-Connection"]||(c["Proxy-Connection"]=this.keepAlive?"Keep-Alive":"close");for(let u of Object.keys(c)){let d=c[u];d&&e.setHeader(u,d)}}async connect(e,t){e._header=null,e.path.includes("://")||this.setRequestProps(e,t);let r,i;kt("Regenerating stored HTTP header string for request"),e._implicitHeader(),e.outputData&&e.outputData.length>0&&(kt("Patching connection write() output buffer with updated header"),r=e.outputData[0].data,i=r.indexOf(`\r
\r
`)+4,e.outputData[0].data=e._header+r.substring(i),kt("Output buffer: %o",e.outputData[0].data));let s;return this.proxy.protocol==="https:"?(kt("Creating `tls.Socket`: %o",this.connectOpts),s=Wc.connect(this.connectOpts)):(kt("Creating `net.Socket`: %o",this.connectOpts),s=Bc.connect(this.connectOpts)),await(0,$c.once)(s,"connect"),s}};gr.protocols=["http","https"];me.HttpProxyAgent=gr;function zc(n,...e){let t={},r;for(r in n)e.includes(r)||(t[r]=n[r]);return t}});var aa=de(Ot=>{"use strict";var Hc=Ot&&Ot.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Ot,"__esModule",{value:!0});Ot.parseProxyResponse=void 0;var Gc=Hc(pr()),hr=(0,Gc.default)("https-proxy-agent:parse-proxy-response");function Jc(n){return new Promise((e,t)=>{let r=0,i=[];function s(){let d=n.read();d?u(d):n.once("readable",s)}function a(){n.removeListener("end",l),n.removeListener("error",c),n.removeListener("readable",s)}function l(){a(),hr("onend"),t(new Error("Proxy connection ended before receiving CONNECT response"))}function c(d){a(),hr("onerror %o",d),t(d)}function u(d){i.push(d),r+=d.length;let f=Buffer.concat(i,r),p=f.indexOf(`\r
\r
`);if(p===-1){hr("have not received end of HTTP headers yet..."),s();return}let T=f.slice(0,p).toString("ascii").split(`\r
`),A=T.shift();if(!A)return n.destroy(),t(new Error("No header received from proxy CONNECT response"));let N=A.split(" "),w=+N[1],E=N.slice(2).join(" "),U={};for(let C of T){if(!C)continue;let g=C.indexOf(":");if(g===-1)return n.destroy(),t(new Error(`Invalid header from proxy CONNECT response: "${C}"`));let I=C.slice(0,g).toLowerCase(),S=C.slice(g+1).trimStart(),x=U[I];typeof x=="string"?U[I]=[x,S]:Array.isArray(x)?x.push(S):U[I]=S}hr("got proxy server response: %o %o",A,U),a(),e({connect:{statusCode:w,statusText:E,headers:U},buffered:f})}n.on("error",c),n.on("end",l),s()})}Ot.parseProxyResponse=Jc});var fa=de(be=>{"use strict";var Qc=be&&be.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),Yc=be&&be.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),ca=be&&be.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&Qc(e,n,t);return Yc(e,n),e},da=be&&be.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(be,"__esModule",{value:!0});be.HttpsProxyAgent=void 0;var Pi=ca(ne("net")),la=ca(ne("tls")),Xc=da(ne("assert")),Zc=da(pr()),ed=Li(),td=ne("url"),nd=aa(),gn=(0,Zc.default)("https-proxy-agent"),mr=class extends ed.Agent{constructor(e,t){super(t),this.options={path:void 0},this.proxy=typeof e=="string"?new td.URL(e):e,this.proxyHeaders=t?.headers??{},gn("Creating new HttpsProxyAgent instance: %o",this.proxy.href);let r=(this.proxy.hostname||this.proxy.host).replace(/^\[|\]$/g,""),i=this.proxy.port?parseInt(this.proxy.port,10):this.proxy.protocol==="https:"?443:80;this.connectOpts={ALPNProtocols:["http/1.1"],...t?ua(t,"headers"):null,host:r,port:i}}async connect(e,t){let{proxy:r}=this;if(!t.host)throw new TypeError('No "host" provided');let i;if(r.protocol==="https:"){gn("Creating `tls.Socket`: %o",this.connectOpts);let p=this.connectOpts.servername||this.connectOpts.host;i=la.connect({...this.connectOpts,servername:p})}else gn("Creating `net.Socket`: %o",this.connectOpts),i=Pi.connect(this.connectOpts);let s=typeof this.proxyHeaders=="function"?this.proxyHeaders():{...this.proxyHeaders},a=Pi.isIPv6(t.host)?`[${t.host}]`:t.host,l=`CONNECT ${a}:${t.port} HTTP/1.1\r
`;if(r.username||r.password){let p=`${decodeURIComponent(r.username)}:${decodeURIComponent(r.password)}`;s["Proxy-Authorization"]=`Basic ${Buffer.from(p).toString("base64")}`}s.Host=`${a}:${t.port}`,s["Proxy-Connection"]||(s["Proxy-Connection"]=this.keepAlive?"Keep-Alive":"close");for(let p of Object.keys(s))l+=`${p}: ${s[p]}\r
`;let c=(0,nd.parseProxyResponse)(i);i.write(`${l}\r
`);let{connect:u,buffered:d}=await c;if(e.emit("proxyConnect",u),this.emit("proxyConnect",u,e),u.statusCode===200){if(e.once("socket",rd),t.secureEndpoint){gn("Upgrading socket connection to TLS");let p=t.servername||t.host;return la.connect({...ua(t,"host","path","port"),socket:i,servername:p})}return i}i.destroy();let f=new Pi.Socket({writable:!1});return f.readable=!0,e.once("socket",p=>{gn("Replaying proxy buffer for failed request"),(0,Xc.default)(p.listenerCount("data")>0),p.push(d),p.push(null)}),f}};mr.protocols=["http","https"];be.HttpsProxyAgent=mr;function rd(n){n.resume()}function ua(n,...e){let t={},r;for(r in n)e.includes(r)||(t[r]=n[r]);return t}});import{parse as ha}from"url";var xr=class{unexpectedErrorHandler;listeners;constructor(){this.listeners=[],this.unexpectedErrorHandler=function(e){setTimeout(()=>{throw e.stack?yn.isErrorNoTelemetry(e)?new yn(e.message+`

`+e.stack):new Error(e.message+`

`+e.stack):e},0)}}addListener(e){return this.listeners.push(e),()=>{this._removeListener(e)}}emit(e){this.listeners.forEach(t=>{t(e)})}_removeListener(e){this.listeners.splice(this.listeners.indexOf(e),1)}setUnexpectedErrorHandler(e){this.unexpectedErrorHandler=e}getUnexpectedErrorHandler(){return this.unexpectedErrorHandler}onUnexpectedError(e){this.unexpectedErrorHandler(e),this.emit(e)}onUnexpectedExternalError(e){this.unexpectedErrorHandler(e)}},Mi=new xr;function lt(n){Mi.onUnexpectedError(n)}function Ee(n){Ir(n)||Mi.onUnexpectedError(n)}var Tr="Canceled";function Ir(n){return n instanceof se?!0:n instanceof Error&&n.name===Tr&&n.message===Tr}var se=class extends Error{constructor(){super(Tr),this.name=this.message}};function Vi(n){return n?new Error(`Illegal state: ${n}`):new Error("Illegal state")}function vn(n){return n?n.message?n.message:n.stack?n.stack.split(`
`)[0]:String(n):"Error"}var yn=class n extends Error{name;constructor(e){super(e),this.name="CodeExpectedError"}static fromError(e){if(e instanceof n)return e;let t=new n;return t.message=e.message,t.stack=e.stack,t}static isErrorNoTelemetry(e){return e.name==="CodeExpectedError"}},at=class n extends Error{constructor(e){super(e||"An unexpected bug occurred."),Object.setPrototypeOf(this,n.prototype)}};function _r(n,e){let t=this,r=!1,i;return function(){if(r)return i;if(r=!0,e)try{i=n.apply(t,arguments)}finally{e()}else i=n.apply(t,arguments);return i}}function Wi(n){return n.filter(e=>!!e)}function qi(n,e=t=>t){let t=new Set;return n.filter(r=>{let i=e(r);return t.has(i)?!1:(t.add(i),!0)})}var $i;(l=>{function n(c){return c<0}l.isLessThan=n;function e(c){return c<=0}l.isLessThanOrEqual=e;function t(c){return c>0}l.isGreaterThan=t;function r(c){return c===0}l.isNeitherLessOrGreaterThan=r,l.greaterThan=1,l.lessThan=-1,l.neitherLessOrGreaterThan=0})($i||={});var Bi=class n{constructor(e){this.iterate=e}static empty=new n(e=>{});forEach(e){this.iterate(t=>(e(t),!0))}toArray(){let e=[];return this.iterate(t=>(e.push(t),!0)),e}filter(e){return new n(t=>this.iterate(r=>e(r)?t(r):!0))}map(e){return new n(t=>this.iterate(r=>t(e(r))))}some(e){let t=!1;return this.iterate(r=>(t=e(r),!t)),t}findFirst(e){let t;return this.iterate(r=>e(r)?(t=r,!1):!0),t}findLast(e){let t;return this.iterate(r=>(e(r)&&(t=r),!0)),t}findLastMaxBy(e){let t,r=!0;return this.iterate(i=>((r||$i.isGreaterThan(e(i,t)))&&(r=!1,t=i),!0)),t}};function Er(){return globalThis._VSCODE_NLS_MESSAGES}function At(){return globalThis._VSCODE_NLS_LANGUAGE}var Ra=At()==="pseudo"||typeof document<"u"&&document.location&&document.location.hash.indexOf("pseudo=true")>=0;function xn(n,e){let t;return e.length===0?t=n:t=n.replace(/\{(\d+)\}/g,(r,i)=>{let s=i[0],a=e[s],l=r;return typeof a=="string"?l=a:(typeof a=="number"||typeof a=="boolean"||a===void 0||a===null)&&(l=String(a)),l}),Ra&&(t="\uFF3B"+t.replace(/[aouei]/g,"$&$&")+"\uFF3D"),t}function h(n,e,...t){return xn(typeof n=="number"?zi(n,e):e,t)}function zi(n,e){let t=Er()?.[n];if(typeof t!="string"){if(typeof e=="string")return e;throw new Error(`!!! NLS MISSING: ${n} !!!`)}return t}function Je(n,e,...t){let r;typeof n=="number"?r=zi(n,e):r=e;let i=xn(r,t);return{value:i,original:e===r?i:xn(e,t)}}var ut="en",Ut=!1,Nt=!1,Pt=!1,Da=!1,Gi=!1,Sr=!1,ka=!1,Ji=!1,Oa=!1,Ca=!1,Tn,In=ut,Hi=ut,Aa,Ce,Ae=globalThis,fe;typeof Ae.vscode<"u"&&typeof Ae.vscode.process<"u"?fe=Ae.vscode.process:typeof process<"u"&&typeof process?.versions?.node=="string"&&(fe=process);var Qi=typeof fe?.versions?.electron=="string",La=Qi&&fe?.type==="renderer";if(typeof fe=="object"){Ut=fe.platform==="win32",Nt=fe.platform==="darwin",Pt=fe.platform==="linux",Da=Pt&&!!fe.env.SNAP&&!!fe.env.SNAP_REVISION,ka=Qi,Oa=!!fe.env.CI||!!fe.env.BUILD_ARTIFACTSTAGINGDIRECTORY,Tn=ut,In=ut;let n=fe.env.VSCODE_NLS_CONFIG;if(n)try{let e=JSON.parse(n);Tn=e.userLocale,Hi=e.osLocale,In=e.resolvedLanguage||ut,Aa=e.languagePack?.translationsConfigFile}catch{}Gi=!0}else typeof navigator=="object"&&!La?(Ce=navigator.userAgent,Ut=Ce.indexOf("Windows")>=0,Nt=Ce.indexOf("Macintosh")>=0,Ji=(Ce.indexOf("Macintosh")>=0||Ce.indexOf("iPad")>=0||Ce.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,Pt=Ce.indexOf("Linux")>=0,Ca=Ce?.indexOf("Mobi")>=0,Sr=!0,In=At()||ut,Tn=navigator.language.toLowerCase(),Hi=Tn):console.error("Unable to resolve platform.");var wr=0;Nt?wr=1:Ut?wr=3:Pt&&(wr=2);var M=Ut,Se=Nt,Le=Pt;var Yi=Gi;var Ft=Sr,Pa=Sr&&typeof Ae.importScripts=="function",Xi=Pa?Ae.origin:void 0;var we=Ce,Fe=In,Ua;(r=>{function n(){return Fe}r.value=n;function e(){return Fe.length===2?Fe==="en":Fe.length>=3?Fe[0]==="e"&&Fe[1]==="n"&&Fe[2]==="-":!1}r.isDefaultVariant=e;function t(){return Fe==="en"}r.isDefault=t})(Ua||={});var Na=typeof Ae.postMessage=="function"&&!Ae.importScripts,Zi=(()=>{if(Na){let n=[];Ae.addEventListener("message",t=>{if(t.data&&t.data.vscodeScheduleAsyncWork)for(let r=0,i=n.length;r<i;r++){let s=n[r];if(s.id===t.data.vscodeScheduleAsyncWork){n.splice(r,1),s.callback();return}}});let e=0;return t=>{let r=++e;n.push({id:r,callback:t}),Ae.postMessage({vscodeScheduleAsyncWork:r},"*")}}return n=>setTimeout(n)})();var eo=Nt||Ji?2:Ut?1:3;var Rr=!!(we&&we.indexOf("Chrome")>=0),to=!!(we&&we.indexOf("Firefox")>=0),no=!!(!Rr&&we&&we.indexOf("Safari")>=0),ro=!!(we&&we.indexOf("Edg/")>=0),Dd=!!(we&&we.indexOf("Android")>=0);var Qe,kr=globalThis.vscode;if(typeof kr<"u"&&typeof kr.process<"u"){let n=kr.process;Qe={get platform(){return n.platform},get arch(){return n.arch},get env(){return n.env},cwd(){return n.cwd()}}}else typeof process<"u"&&typeof process?.versions?.node=="string"?Qe={get platform(){return process.platform},get arch(){return process.arch},get env(){return process.env},cwd(){return process.env.VSCODE_CWD||process.cwd()}}:Qe={get platform(){return M?"win32":Se?"darwin":"linux"},get arch(){},get env(){return{}},cwd(){return"/"}};var Ye=Qe.cwd,ct=Qe.env,io=Qe.platform,Cd=Qe.arch;var Fa=65,Ka=97,Ma=90,Va=122,Ve=46,J=47,ae=92,Ke=58,Ba=63,_n=class extends Error{code;constructor(e,t,r){let i;typeof t=="string"&&t.indexOf("not ")===0?(i="must not be",t=t.replace(/^not /,"")):i="must be";let s=e.indexOf(".")!==-1?"property":"argument",a=`The "${e}" ${s} ${i} of type ${t}`;a+=`. Received type ${typeof r}`,super(a),this.code="ERR_INVALID_ARG_TYPE"}};function Wa(n,e){if(n===null||typeof n!="object")throw new _n(e,"Object",n)}function q(n,e){if(typeof n!="string")throw new _n(e,"string",n)}var le=io==="win32";function O(n){return n===J||n===ae}function Or(n){return n===J}function Me(n){return n>=Fa&&n<=Ma||n>=Ka&&n<=Va}function En(n,e,t,r){let i="",s=0,a=-1,l=0,c=0;for(let u=0;u<=n.length;++u){if(u<n.length)c=n.charCodeAt(u);else{if(r(c))break;c=J}if(r(c)){if(!(a===u-1||l===1))if(l===2){if(i.length<2||s!==2||i.charCodeAt(i.length-1)!==Ve||i.charCodeAt(i.length-2)!==Ve){if(i.length>2){let d=i.lastIndexOf(t);d===-1?(i="",s=0):(i=i.slice(0,d),s=i.length-1-i.lastIndexOf(t)),a=u,l=0;continue}else if(i.length!==0){i="",s=0,a=u,l=0;continue}}e&&(i+=i.length>0?`${t}..`:"..",s=2)}else i.length>0?i+=`${t}${n.slice(a+1,u)}`:i=n.slice(a+1,u),s=u-a-1;a=u,l=0}else c===Ve&&l!==-1?++l:l=-1}return i}function qa(n){return n?`${n[0]==="."?"":"."}${n}`:""}function so(n,e){Wa(e,"pathObject");let t=e.dir||e.root,r=e.base||`${e.name||""}${qa(e.ext)}`;return t?t===e.root?`${t}${r}`:`${t}${n}${r}`:r}var $={resolve(...n){let e="",t="",r=!1;for(let i=n.length-1;i>=-1;i--){let s;if(i>=0){if(s=n[i],q(s,`paths[${i}]`),s.length===0)continue}else e.length===0?s=Ye():(s=ct[`=${e}`]||Ye(),(s===void 0||s.slice(0,2).toLowerCase()!==e.toLowerCase()&&s.charCodeAt(2)===ae)&&(s=`${e}\\`));let a=s.length,l=0,c="",u=!1,d=s.charCodeAt(0);if(a===1)O(d)&&(l=1,u=!0);else if(O(d))if(u=!0,O(s.charCodeAt(1))){let f=2,p=f;for(;f<a&&!O(s.charCodeAt(f));)f++;if(f<a&&f!==p){let T=s.slice(p,f);for(p=f;f<a&&O(s.charCodeAt(f));)f++;if(f<a&&f!==p){for(p=f;f<a&&!O(s.charCodeAt(f));)f++;(f===a||f!==p)&&(c=`\\\\${T}\\${s.slice(p,f)}`,l=f)}}}else l=1;else Me(d)&&s.charCodeAt(1)===Ke&&(c=s.slice(0,2),l=2,a>2&&O(s.charCodeAt(2))&&(u=!0,l=3));if(c.length>0)if(e.length>0){if(c.toLowerCase()!==e.toLowerCase())continue}else e=c;if(r){if(e.length>0)break}else if(t=`${s.slice(l)}\\${t}`,r=u,u&&e.length>0)break}return t=En(t,!r,"\\",O),r?`${e}\\${t}`:`${e}${t}`||"."},normalize(n){q(n,"path");let e=n.length;if(e===0)return".";let t=0,r,i=!1,s=n.charCodeAt(0);if(e===1)return Or(s)?"\\":n;if(O(s))if(i=!0,O(n.charCodeAt(1))){let l=2,c=l;for(;l<e&&!O(n.charCodeAt(l));)l++;if(l<e&&l!==c){let u=n.slice(c,l);for(c=l;l<e&&O(n.charCodeAt(l));)l++;if(l<e&&l!==c){for(c=l;l<e&&!O(n.charCodeAt(l));)l++;if(l===e)return`\\\\${u}\\${n.slice(c)}\\`;l!==c&&(r=`\\\\${u}\\${n.slice(c,l)}`,t=l)}}}else t=1;else Me(s)&&n.charCodeAt(1)===Ke&&(r=n.slice(0,2),t=2,e>2&&O(n.charCodeAt(2))&&(i=!0,t=3));let a=t<e?En(n.slice(t),!i,"\\",O):"";return a.length===0&&!i&&(a="."),a.length>0&&O(n.charCodeAt(e-1))&&(a+="\\"),r===void 0?i?`\\${a}`:a:i?`${r}\\${a}`:`${r}${a}`},isAbsolute(n){q(n,"path");let e=n.length;if(e===0)return!1;let t=n.charCodeAt(0);return O(t)||e>2&&Me(t)&&n.charCodeAt(1)===Ke&&O(n.charCodeAt(2))},join(...n){if(n.length===0)return".";let e,t;for(let s=0;s<n.length;++s){let a=n[s];q(a,"path"),a.length>0&&(e===void 0?e=t=a:e+=`\\${a}`)}if(e===void 0)return".";let r=!0,i=0;if(typeof t=="string"&&O(t.charCodeAt(0))){++i;let s=t.length;s>1&&O(t.charCodeAt(1))&&(++i,s>2&&(O(t.charCodeAt(2))?++i:r=!1))}if(r){for(;i<e.length&&O(e.charCodeAt(i));)i++;i>=2&&(e=`\\${e.slice(i)}`)}return $.normalize(e)},relative(n,e){if(q(n,"from"),q(e,"to"),n===e)return"";let t=$.resolve(n),r=$.resolve(e);if(t===r||(n=t.toLowerCase(),e=r.toLowerCase(),n===e))return"";let i=0;for(;i<n.length&&n.charCodeAt(i)===ae;)i++;let s=n.length;for(;s-1>i&&n.charCodeAt(s-1)===ae;)s--;let a=s-i,l=0;for(;l<e.length&&e.charCodeAt(l)===ae;)l++;let c=e.length;for(;c-1>l&&e.charCodeAt(c-1)===ae;)c--;let u=c-l,d=a<u?a:u,f=-1,p=0;for(;p<d;p++){let A=n.charCodeAt(i+p);if(A!==e.charCodeAt(l+p))break;A===ae&&(f=p)}if(p!==d){if(f===-1)return r}else{if(u>d){if(e.charCodeAt(l+p)===ae)return r.slice(l+p+1);if(p===2)return r.slice(l+p)}a>d&&(n.charCodeAt(i+p)===ae?f=p:p===2&&(f=3)),f===-1&&(f=0)}let T="";for(p=i+f+1;p<=s;++p)(p===s||n.charCodeAt(p)===ae)&&(T+=T.length===0?"..":"\\..");return l+=f,T.length>0?`${T}${r.slice(l,c)}`:(r.charCodeAt(l)===ae&&++l,r.slice(l,c))},toNamespacedPath(n){if(typeof n!="string"||n.length===0)return n;let e=$.resolve(n);if(e.length<=2)return n;if(e.charCodeAt(0)===ae){if(e.charCodeAt(1)===ae){let t=e.charCodeAt(2);if(t!==Ba&&t!==Ve)return`\\\\?\\UNC\\${e.slice(2)}`}}else if(Me(e.charCodeAt(0))&&e.charCodeAt(1)===Ke&&e.charCodeAt(2)===ae)return`\\\\?\\${e}`;return n},dirname(n){q(n,"path");let e=n.length;if(e===0)return".";let t=-1,r=0,i=n.charCodeAt(0);if(e===1)return O(i)?n:".";if(O(i)){if(t=r=1,O(n.charCodeAt(1))){let l=2,c=l;for(;l<e&&!O(n.charCodeAt(l));)l++;if(l<e&&l!==c){for(c=l;l<e&&O(n.charCodeAt(l));)l++;if(l<e&&l!==c){for(c=l;l<e&&!O(n.charCodeAt(l));)l++;if(l===e)return n;l!==c&&(t=r=l+1)}}}}else Me(i)&&n.charCodeAt(1)===Ke&&(t=e>2&&O(n.charCodeAt(2))?3:2,r=t);let s=-1,a=!0;for(let l=e-1;l>=r;--l)if(O(n.charCodeAt(l))){if(!a){s=l;break}}else a=!1;if(s===-1){if(t===-1)return".";s=t}return n.slice(0,s)},basename(n,e){e!==void 0&&q(e,"suffix"),q(n,"path");let t=0,r=-1,i=!0,s;if(n.length>=2&&Me(n.charCodeAt(0))&&n.charCodeAt(1)===Ke&&(t=2),e!==void 0&&e.length>0&&e.length<=n.length){if(e===n)return"";let a=e.length-1,l=-1;for(s=n.length-1;s>=t;--s){let c=n.charCodeAt(s);if(O(c)){if(!i){t=s+1;break}}else l===-1&&(i=!1,l=s+1),a>=0&&(c===e.charCodeAt(a)?--a===-1&&(r=s):(a=-1,r=l))}return t===r?r=l:r===-1&&(r=n.length),n.slice(t,r)}for(s=n.length-1;s>=t;--s)if(O(n.charCodeAt(s))){if(!i){t=s+1;break}}else r===-1&&(i=!1,r=s+1);return r===-1?"":n.slice(t,r)},extname(n){q(n,"path");let e=0,t=-1,r=0,i=-1,s=!0,a=0;n.length>=2&&n.charCodeAt(1)===Ke&&Me(n.charCodeAt(0))&&(e=r=2);for(let l=n.length-1;l>=e;--l){let c=n.charCodeAt(l);if(O(c)){if(!s){r=l+1;break}continue}i===-1&&(s=!1,i=l+1),c===Ve?t===-1?t=l:a!==1&&(a=1):t!==-1&&(a=-1)}return t===-1||i===-1||a===0||a===1&&t===i-1&&t===r+1?"":n.slice(t,i)},format:so.bind(null,"\\"),parse(n){q(n,"path");let e={root:"",dir:"",base:"",ext:"",name:""};if(n.length===0)return e;let t=n.length,r=0,i=n.charCodeAt(0);if(t===1)return O(i)?(e.root=e.dir=n,e):(e.base=e.name=n,e);if(O(i)){if(r=1,O(n.charCodeAt(1))){let f=2,p=f;for(;f<t&&!O(n.charCodeAt(f));)f++;if(f<t&&f!==p){for(p=f;f<t&&O(n.charCodeAt(f));)f++;if(f<t&&f!==p){for(p=f;f<t&&!O(n.charCodeAt(f));)f++;f===t?r=f:f!==p&&(r=f+1)}}}}else if(Me(i)&&n.charCodeAt(1)===Ke){if(t<=2)return e.root=e.dir=n,e;if(r=2,O(n.charCodeAt(2))){if(t===3)return e.root=e.dir=n,e;r=3}}r>0&&(e.root=n.slice(0,r));let s=-1,a=r,l=-1,c=!0,u=n.length-1,d=0;for(;u>=r;--u){if(i=n.charCodeAt(u),O(i)){if(!c){a=u+1;break}continue}l===-1&&(c=!1,l=u+1),i===Ve?s===-1?s=u:d!==1&&(d=1):s!==-1&&(d=-1)}return l!==-1&&(s===-1||d===0||d===1&&s===l-1&&s===a+1?e.base=e.name=n.slice(a,l):(e.name=n.slice(a,s),e.base=n.slice(a,l),e.ext=n.slice(s,l))),a>0&&a!==r?e.dir=n.slice(0,a-1):e.dir=e.root,e},sep:"\\",delimiter:";",win32:null,posix:null},$a=(()=>{if(le){let n=/\\/g;return()=>{let e=Ye().replace(n,"/");return e.slice(e.indexOf("/"))}}return()=>Ye()})(),L={resolve(...n){let e="",t=!1;for(let r=n.length-1;r>=-1&&!t;r--){let i=r>=0?n[r]:$a();q(i,`paths[${r}]`),i.length!==0&&(e=`${i}/${e}`,t=i.charCodeAt(0)===J)}return e=En(e,!t,"/",Or),t?`/${e}`:e.length>0?e:"."},normalize(n){if(q(n,"path"),n.length===0)return".";let e=n.charCodeAt(0)===J,t=n.charCodeAt(n.length-1)===J;return n=En(n,!e,"/",Or),n.length===0?e?"/":t?"./":".":(t&&(n+="/"),e?`/${n}`:n)},isAbsolute(n){return q(n,"path"),n.length>0&&n.charCodeAt(0)===J},join(...n){if(n.length===0)return".";let e;for(let t=0;t<n.length;++t){let r=n[t];q(r,"path"),r.length>0&&(e===void 0?e=r:e+=`/${r}`)}return e===void 0?".":L.normalize(e)},relative(n,e){if(q(n,"from"),q(e,"to"),n===e||(n=L.resolve(n),e=L.resolve(e),n===e))return"";let t=1,r=n.length,i=r-t,s=1,a=e.length-s,l=i<a?i:a,c=-1,u=0;for(;u<l;u++){let f=n.charCodeAt(t+u);if(f!==e.charCodeAt(s+u))break;f===J&&(c=u)}if(u===l)if(a>l){if(e.charCodeAt(s+u)===J)return e.slice(s+u+1);if(u===0)return e.slice(s+u)}else i>l&&(n.charCodeAt(t+u)===J?c=u:u===0&&(c=0));let d="";for(u=t+c+1;u<=r;++u)(u===r||n.charCodeAt(u)===J)&&(d+=d.length===0?"..":"/..");return`${d}${e.slice(s+c)}`},toNamespacedPath(n){return n},dirname(n){if(q(n,"path"),n.length===0)return".";let e=n.charCodeAt(0)===J,t=-1,r=!0;for(let i=n.length-1;i>=1;--i)if(n.charCodeAt(i)===J){if(!r){t=i;break}}else r=!1;return t===-1?e?"/":".":e&&t===1?"//":n.slice(0,t)},basename(n,e){e!==void 0&&q(e,"ext"),q(n,"path");let t=0,r=-1,i=!0,s;if(e!==void 0&&e.length>0&&e.length<=n.length){if(e===n)return"";let a=e.length-1,l=-1;for(s=n.length-1;s>=0;--s){let c=n.charCodeAt(s);if(c===J){if(!i){t=s+1;break}}else l===-1&&(i=!1,l=s+1),a>=0&&(c===e.charCodeAt(a)?--a===-1&&(r=s):(a=-1,r=l))}return t===r?r=l:r===-1&&(r=n.length),n.slice(t,r)}for(s=n.length-1;s>=0;--s)if(n.charCodeAt(s)===J){if(!i){t=s+1;break}}else r===-1&&(i=!1,r=s+1);return r===-1?"":n.slice(t,r)},extname(n){q(n,"path");let e=-1,t=0,r=-1,i=!0,s=0;for(let a=n.length-1;a>=0;--a){let l=n.charCodeAt(a);if(l===J){if(!i){t=a+1;break}continue}r===-1&&(i=!1,r=a+1),l===Ve?e===-1?e=a:s!==1&&(s=1):e!==-1&&(s=-1)}return e===-1||r===-1||s===0||s===1&&e===r-1&&e===t+1?"":n.slice(e,r)},format:so.bind(null,"/"),parse(n){q(n,"path");let e={root:"",dir:"",base:"",ext:"",name:""};if(n.length===0)return e;let t=n.charCodeAt(0)===J,r;t?(e.root="/",r=1):r=0;let i=-1,s=0,a=-1,l=!0,c=n.length-1,u=0;for(;c>=r;--c){let d=n.charCodeAt(c);if(d===J){if(!l){s=c+1;break}continue}a===-1&&(l=!1,a=c+1),d===Ve?i===-1?i=c:u!==1&&(u=1):i!==-1&&(u=-1)}if(a!==-1){let d=s===0&&t?1:s;i===-1||u===0||u===1&&i===a-1&&i===s+1?e.base=e.name=n.slice(d,a):(e.name=n.slice(d,i),e.base=n.slice(d,a),e.ext=n.slice(i,a))}return s>0?e.dir=n.slice(0,s-1):t&&(e.dir="/"),e},sep:"/",delimiter:":",win32:null,posix:null};L.win32=$.win32=$;L.posix=$.posix=L;var wn=le?$.normalize:L.normalize,Sn=le?$.isAbsolute:L.isAbsolute,W=le?$.join:L.join,ao=le?$.resolve:L.resolve,lo=le?$.relative:L.relative,Rn=le?$.dirname:L.dirname,Cr=le?$.basename:L.basename,ja=le?$.extname:L.extname,Ad=le?$.format:L.format,Ld=le?$.parse:L.parse,Pd=le?$.toNamespacedPath:L.toNamespacedPath,dt=le?$.sep:L.sep,uo=le?$.delimiter:L.delimiter;var za=/^\w[\w\d+.-]*$/,Ha=/^\//,Ga=/^\/\//;function Ja(n,e){if(!n.scheme&&e)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${n.authority}", path: "${n.path}", query: "${n.query}", fragment: "${n.fragment}"}`);if(n.scheme&&!za.test(n.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(n.path){if(n.authority){if(!Ha.test(n.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(Ga.test(n.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function Qa(n,e){return!n&&!e?"file":n}function Ya(n,e){switch(n){case"https":case"http":case"file":e?e[0]!==ve&&(e=ve+e):e=ve;break}return e}var K="",ve="/",Xa=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,j=class n{static isUri(e){return e instanceof n?!0:e?typeof e.authority=="string"&&typeof e.fragment=="string"&&typeof e.path=="string"&&typeof e.query=="string"&&typeof e.scheme=="string"&&typeof e.fsPath=="string"&&typeof e.with=="function"&&typeof e.toString=="function":!1}scheme;authority;path;query;fragment;constructor(e,t,r,i,s,a=!1){typeof e=="object"?(this.scheme=e.scheme||K,this.authority=e.authority||K,this.path=e.path||K,this.query=e.query||K,this.fragment=e.fragment||K):(this.scheme=Qa(e,a),this.authority=t||K,this.path=Ya(this.scheme,r||K),this.query=i||K,this.fragment=s||K,Ja(this,a))}get fsPath(){return Mt(this,!1)}with(e){if(!e)return this;let{scheme:t,authority:r,path:i,query:s,fragment:a}=e;return t===void 0?t=this.scheme:t===null&&(t=K),r===void 0?r=this.authority:r===null&&(r=K),i===void 0?i=this.path:i===null&&(i=K),s===void 0?s=this.query:s===null&&(s=K),a===void 0?a=this.fragment:a===null&&(a=K),t===this.scheme&&r===this.authority&&i===this.path&&s===this.query&&a===this.fragment?this:new Be(t,r,i,s,a)}static parse(e,t=!1){let r=Xa.exec(e);return r?new Be(r[2]||K,Dn(r[4]||K),Dn(r[5]||K),Dn(r[7]||K),Dn(r[9]||K),t):new Be(K,K,K,K,K)}static file(e){let t=K;if(M&&(e=e.replace(/\\/g,ve)),e[0]===ve&&e[1]===ve){let r=e.indexOf(ve,2);r===-1?(t=e.substring(2),e=ve):(t=e.substring(2,r),e=e.substring(r)||ve)}return new Be("file",t,e,K,K)}static from(e,t){return new Be(e.scheme,e.authority,e.path,e.query,e.fragment,t)}static joinPath(e,...t){if(!e.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let r;return M&&e.scheme==="file"?r=n.file($.join(Mt(e,!0),...t)).path:r=L.join(e.path,...t),e.with({path:r})}toString(e=!1){return Ar(this,e)}toJSON(){return this}static revive(e){if(e){if(e instanceof n)return e;{let t=new Be(e);return t._formatted=e.external??null,t._fsPath=e._sep===po?e.fsPath??null:null,t}}else return e}[Symbol.for("debug.description")](){return`URI(${this.toString()})`}};var po=M?1:void 0,Be=class extends j{_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=Mt(this,!1)),this._fsPath}toString(e=!1){return e?Ar(this,!0):(this._formatted||(this._formatted=Ar(this,!1)),this._formatted)}toJSON(){let e={$mid:1};return this._fsPath&&(e.fsPath=this._fsPath,e._sep=po),this._formatted&&(e.external=this._formatted),this.path&&(e.path=this.path),this.scheme&&(e.scheme=this.scheme),this.authority&&(e.authority=this.authority),this.query&&(e.query=this.query),this.fragment&&(e.fragment=this.fragment),e}},go={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function co(n,e,t){let r,i=-1;for(let s=0;s<n.length;s++){let a=n.charCodeAt(s);if(a>=97&&a<=122||a>=65&&a<=90||a>=48&&a<=57||a===45||a===46||a===95||a===126||e&&a===47||t&&a===91||t&&a===93||t&&a===58)i!==-1&&(r+=encodeURIComponent(n.substring(i,s)),i=-1),r!==void 0&&(r+=n.charAt(s));else{r===void 0&&(r=n.substr(0,s));let l=go[a];l!==void 0?(i!==-1&&(r+=encodeURIComponent(n.substring(i,s)),i=-1),r+=l):i===-1&&(i=s)}}return i!==-1&&(r+=encodeURIComponent(n.substring(i))),r!==void 0?r:n}function Za(n){let e;for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r===35||r===63?(e===void 0&&(e=n.substr(0,t)),e+=go[r]):e!==void 0&&(e+=n[t])}return e!==void 0?e:n}function Mt(n,e){let t;return n.authority&&n.path.length>1&&n.scheme==="file"?t=`//${n.authority}${n.path}`:n.path.charCodeAt(0)===47&&(n.path.charCodeAt(1)>=65&&n.path.charCodeAt(1)<=90||n.path.charCodeAt(1)>=97&&n.path.charCodeAt(1)<=122)&&n.path.charCodeAt(2)===58?e?t=n.path.substr(1):t=n.path[1].toLowerCase()+n.path.substr(2):t=n.path,M&&(t=t.replace(/\//g,"\\")),t}function Ar(n,e){let t=e?Za:co,r="",{scheme:i,authority:s,path:a,query:l,fragment:c}=n;if(i&&(r+=i,r+=":"),(s||i==="file")&&(r+=ve,r+=ve),s){let u=s.indexOf("@");if(u!==-1){let d=s.substr(0,u);s=s.substr(u+1),u=d.lastIndexOf(":"),u===-1?r+=t(d,!1,!1):(r+=t(d.substr(0,u),!1,!1),r+=":",r+=t(d.substr(u+1),!1,!0)),r+="@"}s=s.toLowerCase(),u=s.lastIndexOf(":"),u===-1?r+=t(s,!1,!0):(r+=t(s.substr(0,u),!1,!0),r+=s.substr(u))}if(a){if(a.length>=3&&a.charCodeAt(0)===47&&a.charCodeAt(2)===58){let u=a.charCodeAt(1);u>=65&&u<=90&&(a=`/${String.fromCharCode(u+32)}:${a.substr(3)}`)}else if(a.length>=2&&a.charCodeAt(1)===58){let u=a.charCodeAt(0);u>=65&&u<=90&&(a=`${String.fromCharCode(u+32)}:${a.substr(2)}`)}r+=t(a,!0,!1)}return l&&(r+="?",r+=t(l,!1,!1)),c&&(r+="#",r+=e?c:co(c,!1,!1)),r}function ho(n){try{return decodeURIComponent(n)}catch{return n.length>3?n.substr(0,3)+ho(n.substr(3)):n}}var fo=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function Dn(n){return n.match(fo)?n.replace(fo,e=>ho(e)):n}var Lr=class{[Symbol.toStringTag]="LinkedMap";_map;_head;_tail;_size;_state;constructor(){this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(e){return this._map.has(e)}get(e,t=0){let r=this._map.get(e);if(r)return t!==0&&this.touch(r,t),r.value}set(e,t,r=0){let i=this._map.get(e);if(i)i.value=t,r!==0&&this.touch(i,r);else{switch(i={key:e,value:t,next:void 0,previous:void 0},r){case 0:this.addItemLast(i);break;case 1:this.addItemFirst(i);break;case 2:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(e,i),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let t=this._map.get(e);if(t)return this._map.delete(e),this.removeItem(t),this._size--,t.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){let r=this._state,i=this._head;for(;i;){if(t?e.bind(t)(i.value,i.key,this):e(i.value,i.key,this),this._state!==r)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let e=this,t=this._state,r=this._head,i={[Symbol.iterator](){return i},next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(r){let s={value:r.key,done:!1};return r=r.next,s}else return{value:void 0,done:!0}}};return i}values(){let e=this,t=this._state,r=this._head,i={[Symbol.iterator](){return i},next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(r){let s={value:r.value,done:!1};return r=r.next,s}else return{value:void 0,done:!0}}};return i}entries(){let e=this,t=this._state,r=this._head,i={[Symbol.iterator](){return i},next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(r){let s={value:[r.key,r.value],done:!1};return r=r.next,s}else return{value:void 0,done:!0}}};return i}[Symbol.iterator](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let t=this._head,r=this.size;for(;t&&r>e;)this._map.delete(t.key),t=t.next,r--;this._head=t,this._size=r,t&&(t.previous=void 0),this._state++}trimNew(e){if(e>=this.size)return;if(e===0){this.clear();return}let t=this._tail,r=this.size;for(;t&&r>e;)this._map.delete(t.key),t=t.previous,r--;this._tail=t,this._size=r,t&&(t.next=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let t=e.next,r=e.previous;if(!t||!r)throw new Error("Invalid list");t.previous=r,r.next=t}e.next=void 0,e.previous=void 0,this._state++}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(t!==1&&t!==2)){if(t===1){if(e===this._head)return;let r=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(r.previous=i,i.next=r),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(t===2){if(e===this._tail)return;let r=e.next,i=e.previous;e===this._head?(r.previous=void 0,this._head=r):(r.previous=i,i.next=r),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((t,r)=>{e.push([r,t])}),e}fromJSON(e){this.clear();for(let[t,r]of e)this.set(t,r)}},Pr=class extends Lr{_limit;_ratio;constructor(e,t=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,t),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,t=2){return super.get(e,t)}peek(e){return super.get(e,0)}set(e,t){return super.set(e,t,2),this}checkTrim(){this.size>this._limit&&this.trim(Math.round(this._limit*this._ratio))}},Vt=class extends Pr{constructor(e,t=1){super(e,t)}trim(e){this.trimOld(e)}set(e,t){return super.set(e,t),this.checkTrim(),this}};var pt;(C=>{function n(g){return g&&typeof g=="object"&&typeof g[Symbol.iterator]=="function"}C.is=n;let e=Object.freeze([]);function t(){return e}C.empty=t;function*r(g){yield g}C.single=r;function i(g){return n(g)?g:r(g)}C.wrap=i;function s(g){return g||e}C.from=s;function*a(g){for(let I=g.length-1;I>=0;I--)yield g[I]}C.reverse=a;function l(g){return!g||g[Symbol.iterator]().next().done===!0}C.isEmpty=l;function c(g){return g[Symbol.iterator]().next().value}C.first=c;function u(g,I){let S=0;for(let x of g)if(I(x,S++))return!0;return!1}C.some=u;function d(g,I){for(let S of g)if(I(S))return S}C.find=d;function*f(g,I){for(let S of g)I(S)&&(yield S)}C.filter=f;function*p(g,I){let S=0;for(let x of g)yield I(x,S++)}C.map=p;function*T(g,I){let S=0;for(let x of g)yield*I(x,S++)}C.flatMap=T;function*A(...g){for(let I of g)yield*I}C.concat=A;function N(g,I,S){let x=S;for(let oe of g)x=I(x,oe);return x}C.reduce=N;function*w(g,I,S=g.length){for(I<0&&(I+=g.length),S<0?S+=g.length:S>g.length&&(S=g.length);I<S;I++)yield g[I]}C.slice=w;function E(g,I=Number.POSITIVE_INFINITY){let S=[];if(I===0)return[S,g];let x=g[Symbol.iterator]();for(let oe=0;oe<I;oe++){let Z=x.next();if(Z.done)return[S,C.empty()];S.push(Z.value)}return[S,{[Symbol.iterator](){return x}}]}C.consume=E;async function U(g){let I=[];for await(let S of g)I.push(S);return Promise.resolve(I)}C.asyncToArray=U})(pt||={});var el=!1,gt=null;function tl(n){gt=n}if(el){let n="__is_disposable_tracked__";tl(new class{trackDisposable(e){let t=new Error("Potentially leaked disposable").stack;setTimeout(()=>{e[n]||console.log(t)},3e3)}setParent(e,t){if(e&&e!==ue.None)try{e[n]=!0}catch{}}markAsDisposed(e){if(e&&e!==ue.None)try{e[n]=!0}catch{}}markAsSingleton(e){}})}function ht(n){return gt?.trackDisposable(n),n}function mt(n){gt?.markAsDisposed(n)}function Ur(n,e){gt?.setParent(n,e)}function nl(n,e){if(gt)for(let t of n)gt.setParent(t,e)}function Nr(n){if(pt.is(n)){let e=[];for(let t of n)if(t)try{t.dispose()}catch(r){e.push(r)}if(e.length===1)throw e[0];if(e.length>1)throw new AggregateError(e,"Encountered errors while disposing of store");return Array.isArray(n)?[]:n}else if(n)return n.dispose(),n}function mo(...n){let e=xe(()=>Nr(n));return nl(n,e),e}function xe(n){let e=ht({dispose:_r(()=>{mt(e),n()})});return e}var Re=class n{static DISABLE_DISPOSED_WARNING=!1;_toDispose=new Set;_isDisposed=!1;constructor(){ht(this)}dispose(){this._isDisposed||(mt(this),this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){if(this._toDispose.size!==0)try{Nr(this._toDispose)}finally{this._toDispose.clear()}}add(e){if(!e)return e;if(e===this)throw new Error("Cannot register a disposable on itself!");return Ur(e,this),this._isDisposed?n.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(e),e}delete(e){if(e){if(e===this)throw new Error("Cannot dispose a disposable on itself!");this._toDispose.delete(e),e.dispose()}}deleteAndLeak(e){e&&this._toDispose.has(e)&&(this._toDispose.delete(e),Ur(e,null))}},ue=class{static None=Object.freeze({dispose(){}});_store=new Re;constructor(){ht(this),Ur(this._store,this)}dispose(){mt(this),this._store.dispose()}_register(e){if(e===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(e)}};var Bt=class{_store=new Map;_isDisposed=!1;constructor(){ht(this)}dispose(){mt(this),this._isDisposed=!0,this.clearAndDisposeAll()}clearAndDisposeAll(){if(this._store.size)try{Nr(this._store.values())}finally{this._store.clear()}}has(e){return this._store.has(e)}get size(){return this._store.size}get(e){return this._store.get(e)}set(e,t,r=!1){this._isDisposed&&console.warn(new Error("Trying to add a disposable to a DisposableMap that has already been disposed of. The added object will be leaked!").stack),r||this._store.get(e)?.dispose(),this._store.set(e,t)}deleteAndDispose(e){this._store.get(e)?.dispose(),this._store.delete(e)}deleteAndLeak(e){let t=this._store.get(e);return this._store.delete(e),t}keys(){return this._store.keys()}values(){return this._store.values()}[Symbol.iterator](){return this._store[Symbol.iterator]()}};var B=class n{static Undefined=new n(void 0);element;next;prev;constructor(e){this.element=e,this.next=n.Undefined,this.prev=n.Undefined}},Wt=class{_first=B.Undefined;_last=B.Undefined;_size=0;get size(){return this._size}isEmpty(){return this._first===B.Undefined}clear(){let e=this._first;for(;e!==B.Undefined;){let t=e.next;e.prev=B.Undefined,e.next=B.Undefined,e=t}this._first=B.Undefined,this._last=B.Undefined,this._size=0}unshift(e){return this._insert(e,!1)}push(e){return this._insert(e,!0)}_insert(e,t){let r=new B(e);if(this._first===B.Undefined)this._first=r,this._last=r;else if(t){let s=this._last;this._last=r,r.prev=s,s.next=r}else{let s=this._first;this._first=r,r.next=s,s.prev=r}this._size+=1;let i=!1;return()=>{i||(i=!0,this._remove(r))}}shift(){if(this._first!==B.Undefined){let e=this._first.element;return this._remove(this._first),e}}pop(){if(this._last!==B.Undefined){let e=this._last.element;return this._remove(this._last),e}}_remove(e){if(e.prev!==B.Undefined&&e.next!==B.Undefined){let t=e.prev;t.next=e.next,e.next.prev=t}else e.prev===B.Undefined&&e.next===B.Undefined?(this._first=B.Undefined,this._last=B.Undefined):e.next===B.Undefined?(this._last=this._last.prev,this._last.next=B.Undefined):e.prev===B.Undefined&&(this._first=this._first.next,this._first.prev=B.Undefined);this._size-=1}*[Symbol.iterator](){let e=this._first;for(;e!==B.Undefined;)yield e.element,e=e.next}};var Xe=(n,e)=>n===e;var Te=class{constructor(e,t,r){this.owner=e;this.debugNameSource=t;this.referenceFn=r}getDebugName(e){return xo(e,this)}},bo=new Map,Fr=new WeakMap;function xo(n,e){let t=Fr.get(n);if(t)return t;let r=rl(n,e);if(r){let i=bo.get(r)??0;i++,bo.set(r,i);let s=i===1?r:`${r}#${i}`;return Fr.set(n,s),s}}function rl(n,e){let t=Fr.get(n);if(t)return t;let r=e.owner?ol(e.owner)+".":"",i,s=e.debugNameSource;if(s!==void 0)if(typeof s=="function"){if(i=s(),i!==void 0)return r+i}else return r+s;let a=e.referenceFn;if(a!==void 0&&(i=kn(a),i!==void 0))return r+i;if(e.owner!==void 0){let l=il(e.owner,n);if(l!==void 0)return r+l}}function il(n,e){for(let t in n)if(n[t]===e)return t}var yo=new Map,vo=new WeakMap;function ol(n){let e=vo.get(n);if(e)return e;let t=sl(n),r=yo.get(t)??0;r++,yo.set(t,r);let i=r===1?t:`${t}#${r}`;return vo.set(n,i),i}function sl(n){let e=n.constructor;return e?e.name:"Object"}function kn(n){let e=n.toString(),r=/\/\*\*\s*@description\s*([^*]*)\*\//.exec(e);return(r?r[1]:void 0)?.trim()}function On(n,e){if(!n)throw new Error(e?`Assertion failed (${e})`:"Assertion Failed")}function Cn(n){if(!n()){debugger;n(),Ee(new at("Assertion Failed"))}}function qt(n){return new An(new Te(void 0,void 0,n),n,void 0,void 0)}var An=class{constructor(e,t,r,i){this._debugNameData=e;this._runFn=t;this.createChangeSummary=r;this._handleChange=i;this.changeSummary=this.createChangeSummary?.(),pe()?.handleAutorunCreated(this),this._runIfNeeded(),ht(this)}state=2;updateCount=0;disposed=!1;dependencies=new Set;dependenciesToBeRemoved=new Set;changeSummary;get debugName(){return this._debugNameData.getDebugName(this)??"(anonymous)"}dispose(){this.disposed=!0;for(let e of this.dependencies)e.removeObserver(this);this.dependencies.clear(),mt(this)}_runIfNeeded(){if(this.state===3)return;let e=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=e,this.state=3;let t=this.disposed;try{if(!t){pe()?.handleAutorunTriggered(this);let r=this.changeSummary;try{this.changeSummary=this.createChangeSummary?.(),this._runFn(this,r)}catch(i){lt(i)}}}finally{t||pe()?.handleAutorunFinished(this);for(let r of this.dependenciesToBeRemoved)r.removeObserver(this);this.dependenciesToBeRemoved.clear()}}toString(){return`Autorun<${this.debugName}>`}beginUpdate(){this.state===3&&(this.state=1),this.updateCount++}endUpdate(){try{if(this.updateCount===1)do{if(this.state===1){this.state=3;for(let e of this.dependencies)if(e.reportChanges(),this.state===2)break}this._runIfNeeded()}while(this.state!==3)}finally{this.updateCount--}Cn(()=>this.updateCount>=0)}handlePossibleChange(e){this.state===3&&this.dependencies.has(e)&&!this.dependenciesToBeRemoved.has(e)&&(this.state=1)}handleChange(e,t){if(this.dependencies.has(e)&&!this.dependenciesToBeRemoved.has(e))try{(this._handleChange?this._handleChange({changedObservable:e,change:t,didChange:i=>i===e},this.changeSummary):!0)&&(this.state=2)}catch(r){lt(r)}}readObservable(e){if(this.disposed)return e.get();e.addObserver(this);let t=e.get();return this.dependencies.add(e),this.dependenciesToBeRemoved.delete(e),t}};(e=>e.Observer=An)(qt||={});function Kr(n,e){return new Ln(new Te(n.owner,n.debugName,n.debugReferenceFn),e,void 0,void 0,n.onLastObserverRemoved,n.equalsFn??Xe)}To(Kr);var Ln=class extends Ze{constructor(t,r,i,s,a=void 0,l){super();this._debugNameData=t;this._computeFn=r;this.createChangeSummary=i;this._handleChange=s;this._handleLastObserverRemoved=a;this._equalityComparator=l;this.changeSummary=this.createChangeSummary?.(),pe()?.handleDerivedCreated(this)}state=0;value=void 0;updateCount=0;dependencies=new Set;dependenciesToBeRemoved=new Set;changeSummary=void 0;get debugName(){return this._debugNameData.getDebugName(this)??"(anonymous)"}onLastObserverRemoved(){this.state=0,this.value=void 0;for(let t of this.dependencies)t.removeObserver(this);this.dependencies.clear(),this._handleLastObserverRemoved?.()}get(){if(this.observers.size===0){let t=this._computeFn(this,this.createChangeSummary?.());return this.onLastObserverRemoved(),t}else{do{if(this.state===1){for(let t of this.dependencies)if(t.reportChanges(),this.state===2)break}this.state===1&&(this.state=3),this._recomputeIfNeeded()}while(this.state!==3);return this.value}}_recomputeIfNeeded(){if(this.state===3)return;let t=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=t;let r=this.state!==0,i=this.value;this.state=3;let s=!1;try{let a=this.changeSummary;this.changeSummary=this.createChangeSummary?.();try{this.value=this._computeFn(this,a)}finally{for(let l of this.dependenciesToBeRemoved)l.removeObserver(this);this.dependenciesToBeRemoved.clear()}s=r&&!this._equalityComparator(i,this.value),pe()?.handleDerivedRecomputed(this,{oldValue:i,newValue:this.value,change:void 0,didChange:s,hadValue:r})}catch(a){lt(a)}if(s)for(let a of this.observers)a.handleChange(this,void 0)}toString(){return`LazyDerived<${this.debugName}>`}beginUpdate(t){this.updateCount++;let r=this.updateCount===1;if(this.state===3&&(this.state=1,!r))for(let i of this.observers)i.handlePossibleChange(this);if(r)for(let i of this.observers)i.beginUpdate(this)}endUpdate(t){if(this.updateCount--,this.updateCount===0){let r=[...this.observers];for(let i of r)i.endUpdate(this)}Cn(()=>this.updateCount>=0)}handlePossibleChange(t){if(this.state===3&&this.dependencies.has(t)&&!this.dependenciesToBeRemoved.has(t)){this.state=1;for(let r of this.observers)r.handlePossibleChange(this)}}handleChange(t,r){if(this.dependencies.has(t)&&!this.dependenciesToBeRemoved.has(t)){let i=!1;try{i=this._handleChange?this._handleChange({changedObservable:t,change:r,didChange:a=>a===t},this.changeSummary):!0}catch(a){lt(a)}let s=this.state===3;if(i&&(this.state===1||s)&&(this.state=2,s))for(let a of this.observers)a.handlePossibleChange(this)}}readObservable(t){t.addObserver(this);let r=t.get();return this.dependencies.add(t),this.dependenciesToBeRemoved.delete(t),r}addObserver(t){let r=!this.observers.has(t)&&this.updateCount>0;super.addObserver(t),r&&t.beginUpdate(this)}removeObserver(t){let r=this.observers.has(t)&&this.updateCount>0;super.removeObserver(t),r&&t.endUpdate(this)}};function Mr(...n){let e,t,r;return n.length===3?[e,t,r]=n:[t,r]=n,new We(new Te(e,void 0,r),t,r,()=>We.globalTransaction,Xe)}var We=class extends Ze{constructor(t,r,i,s,a){super();this._debugNameData=t;this.event=r;this._getValue=i;this._getTransaction=s;this._equalityComparator=a}static globalTransaction;value;hasValue=!1;subscription;getDebugName(){return this._debugNameData.getDebugName(this)}get debugName(){let t=this.getDebugName();return"From Event"+(t?`: ${t}`:"")}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}handleEvent=t=>{let r=this._getValue(t),i=this.value,s=!this.hasValue||!this._equalityComparator(i,r),a=!1;s&&(this.value=r,this.hasValue&&(a=!0,Vr(this._getTransaction(),l=>{pe()?.handleFromEventObservableTriggered(this,{oldValue:i,newValue:r,change:void 0,didChange:s,hadValue:this.hasValue});for(let c of this.observers)l.updateObserver(c,this),c.handleChange(this,void 0)},()=>{let l=this.getDebugName();return"Event fired"+(l?`: ${l}`:"")})),this.hasValue=!0),a||pe()?.handleFromEventObservableTriggered(this,{oldValue:i,newValue:r,change:void 0,didChange:s,hadValue:this.hasValue})};onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0,this.hasValue=!1,this.value=void 0}get(){return this.subscription?(this.hasValue||this.handleEvent(void 0),this.value):this._getValue(void 0)}};(t=>{t.Observer=We;function e(r,i){let s=!1;We.globalTransaction===void 0&&(We.globalTransaction=r,s=!0);try{i()}finally{s&&(We.globalTransaction=void 0)}}t.batchEventsGlobally=e})(Mr||={});function _o(n){let e=new Pn(!1,void 0);return n.addObserver(e),xe(()=>{n.removeObserver(e)})}So(_o);function Eo(n,e){let t=new Pn(!0,e);return n.addObserver(t),e?e(n.get()):n.reportChanges(),xe(()=>{n.removeObserver(t)})}wo(Eo);var Pn=class{constructor(e,t){this._forceRecompute=e;this._handleValue=t}_counter=0;beginUpdate(e){this._counter++}endUpdate(e){this._counter--,this._counter===0&&this._forceRecompute&&(this._handleValue?this._handleValue(e.get()):e.reportChanges())}handlePossibleChange(e){}handleChange(e,t){}};var Do;function ko(n){Do=n}function pe(){return Do}var Fn=class{indentation=0;textToConsoleArgs(e){return cl([bt(pl("|  ",this.indentation)),e])}formatInfo(e){return e.hadValue?e.didChange?[bt(" "),Ie(jt(e.oldValue,70),{color:"red",strikeThrough:!0}),bt(" "),Ie(jt(e.newValue,60),{color:"green"})]:[bt(" (unchanged)")]:[bt(" "),Ie(jt(e.newValue,60),{color:"green"}),bt(" (initial)")]}handleObservableChanged(e,t){console.log(...this.textToConsoleArgs([$t("observable value changed"),Ie(e.debugName,{color:"BlueViolet"}),...this.formatInfo(t)]))}changedObservablesSets=new WeakMap;formatChanges(e){if(e.size!==0)return Ie(" (changed deps: "+[...e].map(t=>t.debugName).join(", ")+")",{color:"gray"})}handleDerivedCreated(e){let t=e.handleChange;this.changedObservablesSets.set(e,new Set),e.handleChange=(r,i)=>(this.changedObservablesSets.get(e).add(r),t.apply(e,[r,i]))}handleDerivedRecomputed(e,t){let r=this.changedObservablesSets.get(e);console.log(...this.textToConsoleArgs([$t("derived recomputed"),Ie(e.debugName,{color:"BlueViolet"}),...this.formatInfo(t),this.formatChanges(r),{data:[{fn:e._debugNameData.referenceFn??e._computeFn}]}])),r.clear()}handleFromEventObservableTriggered(e,t){console.log(...this.textToConsoleArgs([$t("observable from event triggered"),Ie(e.debugName,{color:"BlueViolet"}),...this.formatInfo(t),{data:[{fn:e._getValue}]}]))}handleAutorunCreated(e){let t=e.handleChange;this.changedObservablesSets.set(e,new Set),e.handleChange=(r,i)=>(this.changedObservablesSets.get(e).add(r),t.apply(e,[r,i]))}handleAutorunTriggered(e){let t=this.changedObservablesSets.get(e);console.log(...this.textToConsoleArgs([$t("autorun"),Ie(e.debugName,{color:"BlueViolet"}),this.formatChanges(t),{data:[{fn:e._debugNameData.referenceFn??e._runFn}]}])),t.clear(),this.indentation++}handleAutorunFinished(e){this.indentation--}handleBeginTransaction(e){let t=e.getDebugName();t===void 0&&(t=""),console.log(...this.textToConsoleArgs([$t("transaction"),Ie(t,{color:"BlueViolet"}),{data:[{fn:e._fn}]}])),this.indentation++}handleEndTransaction(){this.indentation--}};function cl(n){let e=new Array,t=[],r="";function i(a){if("length"in a)for(let l of a)l&&i(l);else"text"in a?(r+=`%c${a.text}`,e.push(a.style),a.data&&t.push(...a.data)):"data"in a&&t.push(...a.data)}i(n);let s=[r,...e];return s.push(...t),s}function bt(n){return Ie(n,{color:"black"})}function $t(n){return Ie(gl(`${n}: `,10),{color:"black",bold:!0})}function Ie(n,e={color:"black"}){function t(i){return Object.entries(i).reduce((s,[a,l])=>`${s}${a}:${l};`,"")}let r={color:e.color};return e.strikeThrough&&(r["text-decoration"]="line-through"),e.bold&&(r["font-weight"]="bold"),{text:n,style:t(r)}}function jt(n,e){switch(typeof n){case"number":return""+n;case"string":return n.length+2<=e?`"${n}"`:`"${n.substr(0,e-7)}"+...`;case"boolean":return n?"true":"false";case"undefined":return"undefined";case"object":return n===null?"null":Array.isArray(n)?dl(n,e):fl(n,e);case"symbol":return n.toString();case"function":return`[[Function${n.name?" "+n.name:""}]]`;default:return""+n}}function dl(n,e){let t="[ ",r=!0;for(let i of n){if(r||(t+=", "),t.length-5>e){t+="...";break}r=!1,t+=`${jt(i,e-t.length)}`}return t+=" ]",t}function fl(n,e){let t="{ ",r=!0;for(let[i,s]of Object.entries(n)){if(r||(t+=", "),t.length-5>e){t+="...";break}r=!1,t+=`${i}: ${jt(s,e-t.length)}`}return t+=" }",t}function pl(n,e){let t="";for(let r=1;r<=e;r++)t+=n;return t}function gl(n,e){for(;n.length<e;)n+=" ";return n}var Oo;function wo(n){Oo=n}var Co;function So(n){Co=n}var Br;function To(n){Br=n}var Un=class{get TChange(){return null}reportChanges(){this.get()}read(e){return e?e.readObservable(this):this.get()}map(e,t){let r=t===void 0?void 0:e,i=t===void 0?e:t;return Br({owner:r,debugName:()=>{let s=kn(i);if(s!==void 0)return s;let l=/^\s*\(?\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*\)?\s*=>\s*\1(?:\??)\.([a-zA-Z_$][a-zA-Z_$0-9]*)\s*$/.exec(i.toString());if(l)return`${this.debugName}.${l[2]}`;if(!r)return`${this.debugName} (mapped)`},debugReferenceFn:i},s=>i(this.read(s),s))}flatten(){return Br({owner:void 0,debugName:()=>`${this.debugName} (flattened)`},e=>this.read(e).read(e))}recomputeInitiallyAndOnChange(e,t){return e.add(Oo(this,t)),this}keepObserved(e){return e.add(Co(this)),this}get debugValue(){return this.get()}},Ze=class extends Un{observers=new Set;addObserver(e){let t=this.observers.size;this.observers.add(e),t===0&&this.onFirstObserverAdded()}removeObserver(e){this.observers.delete(e)&&this.observers.size===0&&this.onLastObserverRemoved()}onFirstObserverAdded(){}onLastObserverRemoved(){}};function Nn(n,e){let t=new Kn(n,e);try{n(t)}finally{t.finish()}}function Vr(n,e,t){n?e(n):Nn(e,t)}var Kn=class{constructor(e,t){this._fn=e;this._getDebugName=t;pe()?.handleBeginTransaction(this)}updatingObservers=[];getDebugName(){return this._getDebugName?this._getDebugName():kn(this._fn)}updateObserver(e,t){this.updatingObservers.push({observer:e,observable:t}),e.beginUpdate(t)}finish(){let e=this.updatingObservers;for(let t=0;t<e.length;t++){let{observer:r,observable:i}=e[t];r.endUpdate(i)}this.updatingObservers=null,pe()?.handleEndTransaction()}};var hl=!1;hl&&ko(new Fn);var ml=globalThis.performance&&typeof globalThis.performance.now=="function",Mn=class n{_startTime;_stopTime;_now;static create(e){return new n(e)}constructor(e){this._now=ml&&e===!1?Date.now:globalThis.performance.now.bind(globalThis.performance),this._startTime=this._now(),this._stopTime=-1}stop(){this._stopTime=this._now()}reset(){this._startTime=this._now(),this._stopTime=-1}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}};var bl=Symbol("MicrotaskDelay");var yl=!1,Ao=!1,vl=!1,Pe;(Ge=>{Ge.None=()=>ue.None;function e(y){if(vl){let{onDidAddListener:m}=y,v=zt.create(),b=0;y.onDidAddListener=()=>{++b===2&&(console.warn("snapshotted emitter LIKELY used public and SHOULD HAVE BEEN created with DisposableStore. snapshotted here"),v.print()),m?.()}}}function t(y,m){return T(y,()=>{},0,void 0,!0,void 0,m)}Ge.defer=t;function r(y){return(m,v=null,b)=>{let _=!1,k;return k=y(F=>{if(!_)return k?k.dispose():_=!0,m.call(v,F)},null,b),_&&k.dispose(),k}}Ge.once=r;function i(y,m){return Ge.once(Ge.filter(y,m))}Ge.onceIf=i;function s(y,m,v){return f((b,_=null,k)=>y(F=>b.call(_,m(F)),null,k),v)}Ge.map=s;function a(y,m,v){return f((b,_=null,k)=>y(F=>{m(F),b.call(_,F)},null,k),v)}Ge.forEach=a;function l(y,m,v){return f((b,_=null,k)=>y(F=>m(F)&&b.call(_,F),null,k),v)}Ge.filter=l;function c(y){return y}Ge.signal=c;function u(...y){return(m,v=null,b)=>{let _=mo(...y.map(k=>k(F=>m.call(v,F))));return p(_,b)}}Ge.any=u;function d(y,m,v,b){let _=v;return s(y,k=>(_=m(_,k),_),b)}Ge.reduce=d;function f(y,m){let v,b={onWillAddFirstListener(){v=y(_.fire,_)},onDidRemoveLastListener(){v?.dispose()}};m||e(b);let _=new V(b);return m?.add(_),_.event}function p(y,m){return m instanceof Array?m.push(y):m&&m.add(y),y}function T(y,m,v=100,b=!1,_=!1,k,F){let z,ee,R,hn=0,Ct,Ni={leakWarningThreshold:k,onWillAddFirstListener(){z=y(va=>{hn++,ee=m(ee,va),b&&!R&&(mn.fire(ee),ee=void 0),Ct=()=>{let xa=ee;ee=void 0,R=void 0,(!b||hn>1)&&mn.fire(xa),hn=0},typeof v=="number"?(clearTimeout(R),R=setTimeout(Ct,v)):R===void 0&&(R=0,queueMicrotask(Ct))})},onWillRemoveListener(){_&&hn>0&&Ct?.()},onDidRemoveLastListener(){Ct=void 0,z.dispose()}};F||e(Ni);let mn=new V(Ni);return F?.add(mn),mn.event}Ge.debounce=T;function A(y,m=0,v){return Ge.debounce(y,(b,_)=>b?(b.push(_),b):[_],m,void 0,!0,void 0,v)}Ge.accumulate=A;function N(y,m=(b,_)=>b===_,v){let b=!0,_;return l(y,k=>{let F=b||!m(k,_);return b=!1,_=k,F},v)}Ge.latch=N;function w(y,m,v){return[Ge.filter(y,m,v),Ge.filter(y,b=>!m(b),v)]}Ge.split=w;function E(y,m=!1,v=[],b){let _=v.slice(),k=y(ee=>{_?_.push(ee):z.fire(ee)});b&&b.add(k);let F=()=>{_?.forEach(ee=>z.fire(ee)),_=null},z=new V({onWillAddFirstListener(){k||(k=y(ee=>z.fire(ee)),b&&b.add(k))},onDidAddFirstListener(){_&&(m?setTimeout(F):F())},onDidRemoveLastListener(){k&&k.dispose(),k=null}});return b&&b.add(z),z.event}Ge.buffer=E;function U(y,m){return(b,_,k)=>{let F=m(new g);return y(function(z){let ee=F.evaluate(z);ee!==C&&b.call(_,ee)},void 0,k)}}Ge.chain=U;let C=Symbol("HaltChainable");class g{steps=[];map(m){return this.steps.push(m),this}forEach(m){return this.steps.push(v=>(m(v),v)),this}filter(m){return this.steps.push(v=>m(v)?v:C),this}reduce(m,v){let b=v;return this.steps.push(_=>(b=m(b,_),b)),this}latch(m=(v,b)=>v===b){let v=!0,b;return this.steps.push(_=>{let k=v||!m(_,b);return v=!1,b=_,k?_:C}),this}evaluate(m){for(let v of this.steps)if(m=v(m),m===C)break;return m}}function I(y,m,v=b=>b){let b=(...z)=>F.fire(v(...z)),_=()=>y.on(m,b),k=()=>y.removeListener(m,b),F=new V({onWillAddFirstListener:_,onDidRemoveLastListener:k});return F.event}Ge.fromNodeEventEmitter=I;function S(y,m,v=b=>b){let b=(...z)=>F.fire(v(...z)),_=()=>y.addEventListener(m,b),k=()=>y.removeEventListener(m,b),F=new V({onWillAddFirstListener:_,onDidRemoveLastListener:k});return F.event}Ge.fromDOMEventEmitter=S;function x(y){return new Promise(m=>r(y)(m))}Ge.toPromise=x;function oe(y){let m=new V;return y.then(v=>{m.fire(v)},()=>{m.fire(void 0)}).finally(()=>{m.dispose()}),m.event}Ge.fromPromise=oe;function Z(y,m){return y(v=>m.fire(v))}Ge.forward=Z;function ye(y,m,v){return m(v),y(b=>m(b))}Ge.runAndSubscribe=ye;class Ui{constructor(m,v){this._observable=m;let b={onWillAddFirstListener:()=>{m.addObserver(this),this._observable.reportChanges()},onDidRemoveLastListener:()=>{m.removeObserver(this)}};v||e(b),this.emitter=new V(b),v&&v.add(this.emitter)}emitter;_counter=0;_hasChanged=!1;beginUpdate(m){this._counter++}handlePossibleChange(m){}handleChange(m,v){this._hasChanged=!0}endUpdate(m){this._counter--,this._counter===0&&(this._observable.reportChanges(),this._hasChanged&&(this._hasChanged=!1,this.emitter.fire(this._observable.get())))}}function ba(y,m){return new Ui(y,m).emitter.event}Ge.fromObservable=ba;function ya(y){return(m,v,b)=>{let _=0,k=!1,F={beginUpdate(){_++},endUpdate(){_--,_===0&&(y.reportChanges(),k&&(k=!1,m.call(v)))},handlePossibleChange(){},handleChange(){k=!0}};y.addObserver(F),y.reportChanges();let z={dispose(){y.removeObserver(F)}};return b instanceof Re?b.add(z):Array.isArray(b)&&b.push(z),z}}Ge.fromObservableLight=ya})(Pe||={});var Wr=class n{static all=new Set;static _idPool=0;name;listenerCount=0;invocationCount=0;elapsedOverall=0;durations=[];_stopWatch;constructor(e){this.name=`${e}_${n._idPool++}`,n.all.add(this)}start(e){this._stopWatch=new Mn,this.listenerCount=e}stop(){if(this._stopWatch){let e=this._stopWatch.elapsed();this.durations.push(e),this.elapsedOverall+=e,this.invocationCount+=1,this._stopWatch=void 0}}},Lo=-1;var qr=class n{constructor(e,t,r=(n._idPool++).toString(16).padStart(3,"0")){this._errorHandler=e;this.threshold=t;this.name=r}static _idPool=1;_stacks;_warnCountdown=0;dispose(){this._stacks?.clear()}check(e,t){let r=this.threshold;if(r<=0||t<r)return;this._stacks||(this._stacks=new Map);let i=this._stacks.get(e.value)||0;if(this._stacks.set(e.value,i+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=r*.5;let[s,a]=this.getMostFrequentStack(),l=`[${this.name}] potential listener LEAK detected, having ${t} listeners already. MOST frequent listener (${a}):`;console.warn(l),console.warn(s);let c=new $r(l,s);this._errorHandler(c)}return()=>{let s=this._stacks.get(e.value)||0;this._stacks.set(e.value,s-1)}}getMostFrequentStack(){if(!this._stacks)return;let e,t=0;for(let[r,i]of this._stacks)(!e||t<i)&&(e=[r,i],t=i);return e}},zt=class n{constructor(e){this.value=e}static create(){let e=new Error;return new n(e.stack??"")}print(){console.warn(this.value.split(`
`).slice(2).join(`
`))}},$r=class extends Error{constructor(e,t){super(e),this.name="ListenerLeakError",this.stack=t}},jr=class extends Error{constructor(e,t){super(e),this.name="ListenerRefusalError",this.stack=t}},xl=0,yt=class{constructor(e){this.value=e}stack;id=xl++},Tl=2,Il=(n,e)=>{if(n instanceof yt)e(n);else for(let t=0;t<n.length;t++){let r=n[t];r&&e(r)}},Vn;if(yl){let n=[];setInterval(()=>{n.length!==0&&(console.warn("[LEAKING LISTENERS] GC'ed these listeners that were NOT yet disposed:"),console.warn(n.join(`
`)),n.length=0)},3e3),Vn=new FinalizationRegistry(e=>{typeof e=="string"&&n.push(e)})}var V=class{_options;_leakageMon;_perfMon;_disposed;_event;_listeners;_deliveryQueue;_size=0;constructor(e){this._options=e,this._leakageMon=Lo>0||this._options?.leakWarningThreshold?new qr(e?.onListenerError??Ee,this._options?.leakWarningThreshold??Lo):void 0,this._perfMon=this._options?._profName?new Wr(this._options._profName):void 0,this._deliveryQueue=this._options?.deliveryQueue}dispose(){if(!this._disposed){if(this._disposed=!0,this._deliveryQueue?.current===this&&this._deliveryQueue.reset(),this._listeners){if(Ao){let e=this._listeners;queueMicrotask(()=>{Il(e,t=>t.stack?.print())})}this._listeners=void 0,this._size=0}this._options?.onDidRemoveLastListener?.(),this._leakageMon?.dispose()}}get event(){return this._event??=(e,t,r)=>{if(this._leakageMon&&this._size>this._leakageMon.threshold**2){let c=`[${this._leakageMon.name}] REFUSES to accept new listeners because it exceeded its threshold by far (${this._size} vs ${this._leakageMon.threshold})`;console.warn(c);let u=this._leakageMon.getMostFrequentStack()??["UNKNOWN stack",-1],d=new jr(`${c}. HINT: Stack shows most frequent listener (${u[1]}-times)`,u[0]);return(this._options?.onListenerError||Ee)(d),ue.None}if(this._disposed)return ue.None;t&&(e=e.bind(t));let i=new yt(e),s,a;this._leakageMon&&this._size>=Math.ceil(this._leakageMon.threshold*.2)&&(i.stack=zt.create(),s=this._leakageMon.check(i.stack,this._size+1)),Ao&&(i.stack=a??zt.create()),this._listeners?this._listeners instanceof yt?(this._deliveryQueue??=new zr,this._listeners=[this._listeners,i]):this._listeners.push(i):(this._options?.onWillAddFirstListener?.(this),this._listeners=i,this._options?.onDidAddFirstListener?.(this)),this._size++;let l=xe(()=>{Vn?.unregister(l),s?.(),this._removeListener(i)});if(r instanceof Re?r.add(l):Array.isArray(r)&&r.push(l),Vn){let c=new Error().stack.split(`
`).slice(2,3).join(`
`).trim(),u=/(file:|vscode-file:\/\/vscode-app)?(\/[^:]*:\d+:\d+)/.exec(c);Vn.register(l,u?.[2]??c,l)}return l},this._event}_removeListener(e){if(this._options?.onWillRemoveListener?.(this),!this._listeners)return;if(this._size===1){this._listeners=void 0,this._options?.onDidRemoveLastListener?.(this),this._size=0;return}let t=this._listeners,r=t.indexOf(e);if(r===-1)throw console.log("disposed?",this._disposed),console.log("size?",this._size),console.log("arr?",JSON.stringify(this._listeners)),new Error("Attempted to dispose unknown listener");this._size--,t[r]=void 0;let i=this._deliveryQueue.current===this;if(this._size*Tl<=t.length){let s=0;for(let a=0;a<t.length;a++)t[a]?t[s++]=t[a]:i&&(this._deliveryQueue.end--,s<this._deliveryQueue.i&&this._deliveryQueue.i--);t.length=s}}_deliver(e,t){if(!e)return;let r=this._options?.onListenerError||Ee;if(!r){e.value(t);return}try{e.value(t)}catch(i){r(i)}}_deliverQueue(e){let t=e.current._listeners;for(;e.i<e.end;)this._deliver(t[e.i++],e.value);e.reset()}fire(e){if(this._deliveryQueue?.current&&(this._deliverQueue(this._deliveryQueue),this._perfMon?.stop()),this._perfMon?.start(this._size),this._listeners)if(this._listeners instanceof yt)this._deliver(this._listeners,e);else{let t=this._deliveryQueue;t.enqueue(this,e,this._listeners.length),this._deliverQueue(t)}this._perfMon?.stop()}hasListeners(){return this._size>0}};var zr=class{i=-1;end=0;current;value;enqueue(e,t,r){this.i=0,this.end=r,this.current=e,this.value=t}reset(){this.i=this.end,this.current=void 0,this.value=void 0}};var Po=Object.freeze(function(n,e){let t=setTimeout(n.bind(e),0);return{dispose(){clearTimeout(t)}}}),Hr;(r=>{function n(i){return i===r.None||i===r.Cancelled||i instanceof vt?!0:!i||typeof i!="object"?!1:typeof i.isCancellationRequested=="boolean"&&typeof i.onCancellationRequested=="function"}r.isCancellationToken=n,r.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:Pe.None}),r.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:Po})})(Hr||={});var vt=class{_isCancelled=!1;_emitter=null;cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?Po:(this._emitter||(this._emitter=new V),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}},qe=class{_token=void 0;_parentListener=void 0;constructor(e){this._parentListener=e&&e.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new vt),this._token}cancel(){this._token?this._token instanceof vt&&this._token.cancel():this._token=Hr.Cancelled}dispose(e=!1){e&&this.cancel(),this._parentListener?.dispose(),this._token?this._token instanceof vt&&this._token.dispose():this._token=Hr.None}};function _l(n){return n}var Bn=class{lastCache=void 0;lastArgKey=void 0;_fn;_computeKey;constructor(e,t){typeof e=="function"?(this._fn=e,this._computeKey=_l):(this._fn=t,this._computeKey=e.getCacheKey)}get(e){let t=this._computeKey(e);return this.lastArgKey!==t&&(this.lastArgKey=t,this.lastCache=this._fn(e)),this.lastCache}};var $e=class{constructor(e){this.executor=e}_didRun=!1;_value;_error;get hasValue(){return this._didRun}get value(){if(!this._didRun)try{this._value=this.executor()}catch(e){this._error=e}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}};function Fo(n){return!n||typeof n!="string"?!0:n.trim().length===0}function Gr(n,e){return n<e?-1:n>e?1:0}function Ko(n,e,t=0,r=n.length,i=0,s=e.length){for(;t<r&&i<s;t++,i++){let c=n.charCodeAt(t),u=e.charCodeAt(i);if(c<u)return-1;if(c>u)return 1}let a=r-t,l=s-i;return a<l?-1:a>l?1:0}function Jr(n,e,t=0,r=n.length,i=0,s=e.length){for(;t<r&&i<s;t++,i++){let c=n.charCodeAt(t),u=e.charCodeAt(i);if(c===u)continue;if(c>=128||u>=128)return Ko(n.toLowerCase(),e.toLowerCase(),t,r,i,s);Uo(c)&&(c-=32),Uo(u)&&(u-=32);let d=c-u;if(d!==0)return d}let a=r-t,l=s-i;return a<l?-1:a>l?1:0}function Uo(n){return n>=97&&n<=122}function Wn(n,e){return n.length===e.length&&Jr(n,e)===0}function Qr(n,e){let t=e.length;return e.length>n.length?!1:Jr(n,e,0,t)===0}function Mo(n){return 55296<=n&&n<=56319}function Yr(n){return 56320<=n&&n<=57343}function Vo(n,e){return(n-55296<<10)+(e-56320)+65536}var pg=String.fromCharCode(65279);var No=class n{constructor(e){this.confusableDictionary=e}static ambiguousCharacterData=new $e(()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125,119846,109],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}'));static cache=new Bn({getCacheKey:JSON.stringify},e=>{function t(d){let f=new Map;for(let p=0;p<d.length;p+=2)f.set(d[p],d[p+1]);return f}function r(d,f){let p=new Map(d);for(let[T,A]of f)p.set(T,A);return p}function i(d,f){if(!d)return f;let p=new Map;for(let[T,A]of d)f.has(T)&&p.set(T,A);return p}let s=this.ambiguousCharacterData.value,a=e.filter(d=>!d.startsWith("_")&&d in s);a.length===0&&(a=["_default"]);let l;for(let d of a){let f=t(s[d]);l=i(l,f)}let c=t(s._common),u=r(c,l);return new n(u)});static getInstance(e){return n.cache.get(Array.from(e))}static _locales=new $e(()=>Object.keys(n.ambiguousCharacterData.value).filter(e=>!e.startsWith("_")));static getLocales(){return n._locales.value}isAmbiguous(e){return this.confusableDictionary.has(e)}containsAmbiguousCharacter(e){for(let t=0;t<e.length;t++){let r=e.codePointAt(t);if(typeof r=="number"&&this.isAmbiguous(r))return!0}return!1}getPrimaryConfusable(e){return this.confusableDictionary.get(e)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}};function De(n){return typeof n=="string"}function ke(n){return typeof n=="object"&&n!==null&&!Array.isArray(n)&&!(n instanceof RegExp)&&!(n instanceof Date)}function qn(n){return typeof n=="number"&&!isNaN(n)}function $n(n){return n===!0||n===!1}function xt(n){return typeof n>"u"}function Ht(n){return xt(n)||n===null}var wl=Object.prototype.hasOwnProperty;function Bo(n){if(!ke(n))return!1;for(let e in n)if(wl.call(n,e))return!1;return!0}function Sl(n){return typeof n=="function"}function Wo(n,e){let t=Math.min(n.length,e.length);for(let r=0;r<t;r++)Rl(n[r],e[r])}function Rl(n,e){if(De(e)){if(typeof n!==e)throw new Error(`argument does not match constraint: typeof ${e}`)}else if(Sl(e)){try{if(n instanceof e)return}catch{}if(!Ht(n)&&n.constructor===e||e.length===1&&e.call(void 0,n)===!0)return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}function je(n){return n===47||n===92}function Xr(n){return n.replace(/[\\/]/g,L.sep)}function qo(n){return n.indexOf("/")===-1&&(n=Xr(n)),/^[a-zA-Z]:(\/|$)/.test(n)&&(n="/"+n),n}function Zr(n,e=L.sep){if(!n)return"";let t=n.length,r=n.charCodeAt(0);if(je(r)){if(je(n.charCodeAt(1))&&!je(n.charCodeAt(2))){let s=3,a=s;for(;s<t&&!je(n.charCodeAt(s));s++);if(a!==s&&!je(n.charCodeAt(s+1))){for(s+=1;s<t;s++)if(je(n.charCodeAt(s)))return n.slice(0,s+1).replace(/[\\/]/g,e)}}return e}else if($o(r)&&n.charCodeAt(1)===58)return je(n.charCodeAt(2))?n.slice(0,2)+e:n.slice(0,2);let i=n.indexOf("://");if(i!==-1){for(i+=3;i<t;i++)if(je(n.charCodeAt(i)))return n.slice(0,i+1)}return""}function Jt(n,e,t,r=dt){if(n===e)return!0;if(!n||!e||e.length>n.length)return!1;if(t){if(!Qr(n,e))return!1;if(e.length===n.length)return!0;let s=e.length;return e.charAt(e.length-1)===r&&s--,n.charAt(s)===r}return e.charAt(e.length-1)!==r&&(e+=r),n.indexOf(e)===0}function $o(n){return n>=65&&n<=90||n>=97&&n<=122}function jo(n){let e=wn(n);return M?n.length>3?!1:Dl(e)&&(n.length===2||e.charCodeAt(2)===92):e===L.sep}function Dl(n,e=M){return e?$o(n.charCodeAt(0))&&n.charCodeAt(1)===58:!1}var kl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",Ol="BDEFGHIJKMOQRSTUVWXYZbdefghijkmoqrstuvwxyz0123456789";function zo(n,e,t=8){let r="";for(let s=0;s<t;s++){let a;s===0&&M&&!e&&(t===3||t===4)?a=Ol:a=kl,r+=a.charAt(Math.floor(Math.random()*a.length))}let i;return e?i=`${e}-${r}`:i=r,n?W(n,i):i}var H;(R=>(R.inMemory="inmemory",R.vscode="vscode",R.internal="private",R.walkThrough="walkThrough",R.walkThroughSnippet="walkThroughSnippet",R.http="http",R.https="https",R.file="file",R.mailto="mailto",R.untitled="untitled",R.data="data",R.command="command",R.vscodeRemote="vscode-remote",R.vscodeRemoteResource="vscode-remote-resource",R.vscodeManagedRemoteResource="vscode-managed-remote-resource",R.vscodeUserData="vscode-userdata",R.vscodeCustomEditor="vscode-custom-editor",R.vscodeNotebookCell="vscode-notebook-cell",R.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",R.vscodeNotebookCellMetadataDiff="vscode-notebook-cell-metadata-diff",R.vscodeNotebookCellOutput="vscode-notebook-cell-output",R.vscodeNotebookCellOutputDiff="vscode-notebook-cell-output-diff",R.vscodeNotebookMetadata="vscode-notebook-metadata",R.vscodeInteractiveInput="vscode-interactive-input",R.vscodeSettings="vscode-settings",R.vscodeWorkspaceTrust="vscode-workspace-trust",R.vscodeTerminal="vscode-terminal",R.vscodeChatCodeBlock="vscode-chat-code-block",R.vscodeChatCodeCompareBlock="vscode-chat-code-compare-block",R.vscodeChatSesssion="vscode-chat-editor",R.webviewPanel="webview-panel",R.vscodeWebview="vscode-webview",R.extension="extension",R.vscodeFileResource="vscode-file",R.tmp="tmp",R.vsls="vsls",R.vscodeSourceControl="vscode-scm",R.commentsInput="comment",R.codeSetting="code-setting",R.outputChannel="output"))(H||={});var Al="tkn",ei=class{_hosts=Object.create(null);_ports=Object.create(null);_connectionTokens=Object.create(null);_preferredWebSchema="http";_delegate=null;_serverRootPath="/";setPreferredWebSchema(e){this._preferredWebSchema=e}setDelegate(e){this._delegate=e}setServerRootPath(e,t){this._serverRootPath=Pl(e,t)}getServerRootPath(){return this._serverRootPath}get _remoteResourcesPath(){return L.join(this._serverRootPath,H.vscodeRemoteResource)}set(e,t,r){this._hosts[e]=t,this._ports[e]=r}setConnectionToken(e,t){this._connectionTokens[e]=t}getPreferredWebSchema(){return this._preferredWebSchema}rewrite(e){if(this._delegate)try{return this._delegate(e)}catch(l){return Ee(l),e}let t=e.authority,r=this._hosts[t];r&&r.indexOf(":")!==-1&&r.indexOf("[")===-1&&(r=`[${r}]`);let i=this._ports[t],s=this._connectionTokens[t],a=`path=${encodeURIComponent(e.path)}`;return typeof s=="string"&&(a+=`&${Al}=${encodeURIComponent(s)}`),j.from({scheme:Ft?this._preferredWebSchema:H.vscodeRemoteResource,authority:`${r}:${i}`,path:this._remoteResourcesPath,query:a})}},Ll=new ei;function Pl(n,e){return L.join(e??"/",`${n.quality??"oss"}-${n.commit??"dev"}`)}var Ul="vscode-app",ti=class n{static FALLBACK_AUTHORITY=Ul;asBrowserUri(e){let t=this.toUri(e);return this.uriToBrowserUri(t)}uriToBrowserUri(e){return e.scheme===H.vscodeRemote?Ll.rewrite(e):e.scheme===H.file&&(Yi||Xi===`${H.vscodeFileResource}://${n.FALLBACK_AUTHORITY}`)?e.with({scheme:H.vscodeFileResource,authority:e.authority||n.FALLBACK_AUTHORITY,query:null,fragment:null}):e}asFileUri(e){let t=this.toUri(e);return this.uriToFileUri(t)}uriToFileUri(e){return e.scheme===H.vscodeFileResource?e.with({scheme:H.file,authority:e.authority!==n.FALLBACK_AUTHORITY?e.authority:null,query:null,fragment:null}):e}toUri(e,t){if(j.isUri(e))return e;if(globalThis._VSCODE_FILE_ROOT){let r=globalThis._VSCODE_FILE_ROOT;if(/^\w[\w\d+.-]*:\/\//.test(r))return j.joinPath(j.parse(r,!0),e);let i=W(r,e);return j.file(i)}return j.parse(t.toUrl(e))}},Ig=new ti,Nl;(s=>{let n=new Map([["1",{"Cross-Origin-Opener-Policy":"same-origin"}],["2",{"Cross-Origin-Embedder-Policy":"require-corp"}],["3",{"Cross-Origin-Opener-Policy":"same-origin","Cross-Origin-Embedder-Policy":"require-corp"}]]);s.CoopAndCoep=Object.freeze(n.get("3"));let t="vscode-coi";function r(a){let l;typeof a=="string"?l=new URL(a).searchParams:a instanceof URL?l=a.searchParams:j.isUri(a)&&(l=new URL(a.toString(!0)).searchParams);let c=l?.get(t);if(c)return n.get(c)}s.getHeadersFromQuery=r;function i(a,l,c){if(!globalThis.crossOriginIsolated)return;let u=l&&c?"3":c?"2":"1";a instanceof URLSearchParams?a.set(t,u):a[t]=u}s.addSearchParam=i})(Nl||={});function Ue(n){return Mt(n,!0)}var Qt=class{constructor(e){this._ignorePathCasing=e}compare(e,t,r=!1){return e===t?0:Gr(this.getComparisonKey(e,r),this.getComparisonKey(t,r))}isEqual(e,t,r=!1){return e===t?!0:!e||!t?!1:this.getComparisonKey(e,r)===this.getComparisonKey(t,r)}getComparisonKey(e,t=!1){return e.with({path:this._ignorePathCasing(e)?e.path.toLowerCase():void 0,fragment:t?null:void 0}).toString()}ignorePathCasing(e){return this._ignorePathCasing(e)}isEqualOrParent(e,t,r=!1){if(e.scheme===t.scheme){if(e.scheme===H.file)return Jt(Ue(e),Ue(t),this._ignorePathCasing(e))&&e.query===t.query&&(r||e.fragment===t.fragment);if(Ho(e.authority,t.authority))return Jt(e.path,t.path,this._ignorePathCasing(e),"/")&&e.query===t.query&&(r||e.fragment===t.fragment)}return!1}joinPath(e,...t){return j.joinPath(e,...t)}basenameOrAuthority(e){return Kl(e)||e.authority}basename(e){return L.basename(e.path)}extname(e){return L.extname(e.path)}dirname(e){if(e.path.length===0)return e;let t;return e.scheme===H.file?t=j.file(Rn(Ue(e))).path:(t=L.dirname(e.path),e.authority&&t.length&&t.charCodeAt(0)!==47&&(console.error(`dirname("${e.toString})) resulted in a relative path`),t="/")),e.with({path:t})}normalizePath(e){if(!e.path.length)return e;let t;return e.scheme===H.file?t=j.file(wn(Ue(e))).path:t=L.normalize(e.path),e.with({path:t})}relativePath(e,t){if(e.scheme!==t.scheme||!Ho(e.authority,t.authority))return;if(e.scheme===H.file){let s=lo(Ue(e),Ue(t));return M?Xr(s):s}let r=e.path||"/",i=t.path||"/";if(this._ignorePathCasing(e)){let s=0;for(let a=Math.min(r.length,i.length);s<a&&!(r.charCodeAt(s)!==i.charCodeAt(s)&&r.charAt(s).toLowerCase()!==i.charAt(s).toLowerCase());s++);r=i.substr(0,s)+r.substr(s)}return L.relative(r,i)}resolvePath(e,t){if(e.scheme===H.file){let r=j.file(ao(Ue(e),t));return e.with({authority:r.authority,path:r.path})}return t=qo(t),e.with({path:L.resolve(e.path,t)})}isAbsolutePath(e){return!!e.path&&e.path[0]==="/"}isEqualAuthority(e,t){return e===t||e!==void 0&&t!==void 0&&Wn(e,t)}hasTrailingPathSeparator(e,t=dt){if(e.scheme===H.file){let r=Ue(e);return r.length>Zr(r).length&&r[r.length-1]===t}else{let r=e.path;return r.length>1&&r.charCodeAt(r.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(e.fsPath)}}removeTrailingPathSeparator(e,t=dt){return Go(e,t)?e.with({path:e.path.substr(0,e.path.length-1)}):e}addTrailingPathSeparator(e,t=dt){let r=!1;if(e.scheme===H.file){let i=Ue(e);r=i!==void 0&&i.length===Zr(i).length&&i[i.length-1]===t}else{t="/";let i=e.path;r=i.length===1&&i.charCodeAt(i.length-1)===47}return!r&&!Go(e,t)?e.with({path:e.path+"/"}):e}},P=new Qt(()=>!1),ni=new Qt(n=>n.scheme===H.file?!Le:!0),kg=new Qt(n=>!0),Og=P.isEqual.bind(P),Cg=P.isEqualOrParent.bind(P),Ag=P.getComparisonKey.bind(P),Fl=P.basenameOrAuthority.bind(P),Kl=P.basename.bind(P),Ml=P.extname.bind(P),Lg=P.dirname.bind(P),Jo=P.joinPath.bind(P),Pg=P.normalizePath.bind(P),Ug=P.relativePath.bind(P),Ng=P.resolvePath.bind(P),Fg=P.isAbsolutePath.bind(P),Ho=P.isEqualAuthority.bind(P),Go=P.hasTrailingPathSeparator.bind(P),Kg=P.removeTrailingPathSeparator.bind(P),Mg=P.addTrailingPathSeparator.bind(P);var Vl;(s=>{s.META_DATA_LABEL="label",s.META_DATA_DESCRIPTION="description",s.META_DATA_SIZE="size",s.META_DATA_MIME="mime";function i(a){let l=new Map;a.path.substring(a.path.indexOf(";")+1,a.path.lastIndexOf(";")).split(";").forEach(d=>{let[f,p]=d.split(":");f&&p&&l.set(f,p)});let u=a.path.substring(0,a.path.indexOf(";"));return u&&l.set(s.META_DATA_MIME,u),l}s.parseMetaData=i})(Vl||={});function Bl(n){let e=new qe,t=n(e.token),r=new Promise((i,s)=>{let a=e.token.onCancellationRequested(()=>{a.dispose(),s(new se)});Promise.resolve(t).then(l=>{a.dispose(),e.dispose(),i(l)},l=>{a.dispose(),e.dispose(),s(l)})});return new class{cancel(){e.cancel(),e.dispose()}then(i,s){return r.then(i,s)}catch(i){return this.then(void 0,i)}finally(i){return r.finally(i)}}}function ai(n,e){return e?new Promise((t,r)=>{let i=setTimeout(()=>{s.dispose(),t()},n),s=e.onCancellationRequested(()=>{clearTimeout(i),s.dispose(),r(new se)})}):Bl(t=>ai(n,t))}var ii=class{_size=0;_isDisposed=!1;runningPromises;maxDegreeOfParalellism;outstandingPromises;_onDrained;constructor(e){this.maxDegreeOfParalellism=e,this.outstandingPromises=[],this.runningPromises=0,this._onDrained=new V}whenIdle(){return this.size>0?Pe.toPromise(this.onDrained):Promise.resolve()}get onDrained(){return this._onDrained.event}get size(){return this._size}queue(e){if(this._isDisposed)throw new Error("Object has been disposed");return this._size++,new Promise((t,r)=>{this.outstandingPromises.push({factory:e,c:t,e:r}),this.consume()})}consume(){for(;this.outstandingPromises.length&&this.runningPromises<this.maxDegreeOfParalellism;){let e=this.outstandingPromises.shift();this.runningPromises++;let t=e.factory();t.then(e.c,e.e),t.then(()=>this.consumed(),()=>this.consumed())}}consumed(){this._isDisposed||(this.runningPromises--,--this._size===0&&this._onDrained.fire(),this.outstandingPromises.length>0&&this.consume())}clear(){if(this._isDisposed)throw new Error("Object has been disposed");this.outstandingPromises.length=0,this._size=this.runningPromises}dispose(){this._isDisposed=!0,this.outstandingPromises.length=0,this._size=0,this._onDrained.dispose()}},oi=class extends ii{constructor(){super(1)}};var jn=class{queues=new Map;drainers=new Set;drainListeners=void 0;drainListenerCount=0;async whenDrained(){if(this.isDrained())return;let e=new si;return this.drainers.add(e),e.p}isDrained(){for(let[,e]of this.queues)if(e.size>0)return!1;return!0}queueSize(e,t=P){let r=t.getComparisonKey(e);return this.queues.get(r)?.size??0}queueFor(e,t,r=P){let i=r.getComparisonKey(e),s=this.queues.get(i);if(!s){s=new oi;let a=this.drainListenerCount++,l=Pe.once(s.onDrained)(()=>{s?.dispose(),this.queues.delete(i),this.onDidQueueDrain(),this.drainListeners?.deleteAndDispose(a),this.drainListeners?.size===0&&(this.drainListeners.dispose(),this.drainListeners=void 0)});this.drainListeners||(this.drainListeners=new Bt),this.drainListeners.set(a,l),this.queues.set(i,s)}return s.queue(t)}onDidQueueDrain(){this.isDrained()&&this.releaseDrainers()}releaseDrainers(){for(let e of this.drainers)e.complete();this.drainers.clear()}dispose(){for(let[,e]of this.queues)e.dispose();this.queues.clear(),this.releaseDrainers(),this.drainListeners?.dispose()}};var Wl,ri;(function(){typeof globalThis.requestIdleCallback!="function"||typeof globalThis.cancelIdleCallback!="function"?ri=(n,e)=>{Zi(()=>{if(t)return;let r=Date.now()+15;e(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,r-Date.now())}}))});let t=!1;return{dispose(){t||(t=!0)}}}:ri=(n,e,t)=>{let r=n.requestIdleCallback(e,typeof t=="number"?{timeout:t}:void 0),i=!1;return{dispose(){i||(i=!0,n.cancelIdleCallback(r))}}},Wl=n=>ri(globalThis,n)})();var si=class{completeCallback;errorCallback;outcome;get isRejected(){return this.outcome?.outcome===1}get isResolved(){return this.outcome?.outcome===0}get isSettled(){return!!this.outcome}get value(){return this.outcome?.outcome===0?this.outcome?.value:void 0}p;constructor(){this.p=new Promise((e,t)=>{this.completeCallback=e,this.errorCallback=t})}complete(e){return new Promise(t=>{this.completeCallback(e),this.outcome={outcome:0,value:e},t()})}error(e){return new Promise(t=>{this.errorCallback(e),this.outcome={outcome:1,value:e},t()})}cancel(){return this.error(new se)}},Yt;(t=>{async function n(r){let i,s=await Promise.all(r.map(a=>a.then(l=>l,l=>{i||(i=l)})));if(typeof i<"u")throw i;return s}t.settled=n;function e(r){return new Promise(async(i,s)=>{try{await r(i,s)}catch(a){s(a)}})}t.withAsyncBody=e})(Yt||={});var Qo=class n{static fromArray(e){return new n(t=>{t.emitMany(e)})}static fromPromise(e){return new n(async t=>{t.emitMany(await e)})}static fromPromises(e){return new n(async t=>{await Promise.all(e.map(async r=>t.emitOne(await r)))})}static merge(e){return new n(async t=>{await Promise.all(e.map(async r=>{for await(let i of r)t.emitOne(i)}))})}static EMPTY=n.fromArray([]);_state;_results;_error;_onReturn;_onStateChanged;constructor(e,t){this._state=0,this._results=[],this._error=null,this._onReturn=t,this._onStateChanged=new V,queueMicrotask(async()=>{let r={emitOne:i=>this.emitOne(i),emitMany:i=>this.emitMany(i),reject:i=>this.reject(i)};try{await Promise.resolve(e(r)),this.resolve()}catch(i){this.reject(i)}finally{r.emitOne=void 0,r.emitMany=void 0,r.reject=void 0}})}[Symbol.asyncIterator](){let e=0;return{next:async()=>{do{if(this._state===2)throw this._error;if(e<this._results.length)return{done:!1,value:this._results[e++]};if(this._state===1)return{done:!0,value:void 0};await Pe.toPromise(this._onStateChanged.event)}while(!0)},return:async()=>(this._onReturn?.(),{done:!0,value:void 0})}}static map(e,t){return new n(async r=>{for await(let i of e)r.emitOne(t(i))})}map(e){return n.map(this,e)}static filter(e,t){return new n(async r=>{for await(let i of e)t(i)&&r.emitOne(i)})}filter(e){return n.filter(this,e)}static coalesce(e){return n.filter(e,t=>!!t)}coalesce(){return n.coalesce(this)}static async toPromise(e){let t=[];for await(let r of e)t.push(r);return t}toPromise(){return n.toPromise(this)}emitOne(e){this._state===0&&(this._results.push(e),this._onStateChanged.fire())}emitMany(e){this._state===0&&(this._results=this._results.concat(e),this._onStateChanged.fire())}resolve(){this._state===0&&(this._state=1,this._onStateChanged.fire())}reject(e){this._state===0&&(this._state=2,this._error=e,this._onStateChanged.fire())}};function Yo(n,e){return new li(n,e)}var li=class{constructor(e,t){this.reducer=e;this.options=t}state={flowing:!1,ended:!1,destroyed:!1};buffer={data:[],error:[]};listeners={data:[],error:[],end:[]};pendingWritePromises=[];pause(){this.state.destroyed||(this.state.flowing=!1)}resume(){this.state.destroyed||this.state.flowing||(this.state.flowing=!0,this.flowData(),this.flowErrors(),this.flowEnd())}write(e){if(!this.state.destroyed){if(this.state.flowing)this.emitData(e);else if(this.buffer.data.push(e),typeof this.options?.highWaterMark=="number"&&this.buffer.data.length>this.options.highWaterMark)return new Promise(t=>this.pendingWritePromises.push(t))}}error(e){this.state.destroyed||(this.state.flowing?this.emitError(e):this.buffer.error.push(e))}end(e){this.state.destroyed||(typeof e<"u"&&this.write(e),this.state.flowing?(this.emitEnd(),this.destroy()):this.state.ended=!0)}emitData(e){this.listeners.data.slice(0).forEach(t=>t(e))}emitError(e){this.listeners.error.length===0?Ee(e):this.listeners.error.slice(0).forEach(t=>t(e))}emitEnd(){this.listeners.end.slice(0).forEach(e=>e())}on(e,t){if(!this.state.destroyed)switch(e){case"data":this.listeners.data.push(t),this.resume();break;case"end":this.listeners.end.push(t),this.state.flowing&&this.flowEnd()&&this.destroy();break;case"error":this.listeners.error.push(t),this.state.flowing&&this.flowErrors();break}}removeListener(e,t){if(this.state.destroyed)return;let r;switch(e){case"data":r=this.listeners.data;break;case"end":r=this.listeners.end;break;case"error":r=this.listeners.error;break}if(r){let i=r.indexOf(t);i>=0&&r.splice(i,1)}}flowData(){if(this.buffer.data.length>0){let e=this.reducer(this.buffer.data);this.emitData(e),this.buffer.data.length=0;let t=[...this.pendingWritePromises];this.pendingWritePromises.length=0,t.forEach(r=>r())}}flowErrors(){if(this.listeners.error.length>0){for(let e of this.buffer.error)this.emitError(e);this.buffer.error.length=0}}flowEnd(){return this.state.ended?(this.emitEnd(),this.listeners.end.length>0):!1}destroy(){this.state.destroyed||(this.state.destroyed=!0,this.state.ended=!0,this.buffer.data.length=0,this.buffer.error.length=0,this.listeners.data.length=0,this.listeners.error.length=0,this.listeners.end.length=0,this.pendingWritePromises.length=0)}};function ql(n,e,t){n.on("error",r=>{t?.isCancellationRequested||e.onError(r)}),n.on("end",()=>{t?.isCancellationRequested||e.onEnd()}),n.on("data",r=>{t?.isCancellationRequested||e.onData(r)})}function Xo(n,e,t){let r=Yo(t);return ql(n,{onData:i=>r.write(e.data(i)),onError:i=>r.error(e.error?e.error(i):i),onEnd:()=>r.end()}),r}var zn=typeof Buffer<"u",jl=new $e(()=>new Uint8Array(256)),ui,ci,Xt=class n{static alloc(e){return zn?new n(Buffer.allocUnsafe(e)):new n(new Uint8Array(e))}static wrap(e){return zn&&!Buffer.isBuffer(e)&&(e=Buffer.from(e.buffer,e.byteOffset,e.byteLength)),new n(e)}static fromString(e,t){return!(t?.dontUseNodeBuffer||!1)&&zn?new n(Buffer.from(e)):(ui||(ui=new TextEncoder),new n(ui.encode(e)))}static fromByteArray(e){let t=n.alloc(e.length);for(let r=0,i=e.length;r<i;r++)t.buffer[r]=e[r];return t}static concat(e,t){if(typeof t>"u"){t=0;for(let s=0,a=e.length;s<a;s++)t+=e[s].byteLength}let r=n.alloc(t),i=0;for(let s=0,a=e.length;s<a;s++){let l=e[s];r.set(l,i),i+=l.byteLength}return r}buffer;byteLength;constructor(e){this.buffer=e,this.byteLength=this.buffer.byteLength}clone(){let e=n.alloc(this.byteLength);return e.set(this),e}toString(){return zn?this.buffer.toString():(ci||(ci=new TextDecoder),ci.decode(this.buffer))}slice(e,t){return new n(this.buffer.subarray(e,t))}set(e,t){if(e instanceof n)this.buffer.set(e.buffer,t);else if(e instanceof Uint8Array)this.buffer.set(e,t);else if(e instanceof ArrayBuffer)this.buffer.set(new Uint8Array(e),t);else if(ArrayBuffer.isView(e))this.buffer.set(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),t);else throw new Error("Unknown argument 'array'")}readUInt32BE(e){return Hl(this.buffer,e)}writeUInt32BE(e,t){Gl(this.buffer,e,t)}readUInt32LE(e){return Jl(this.buffer,e)}writeUInt32LE(e,t){Ql(this.buffer,e,t)}readUInt8(e){return Yl(this.buffer,e)}writeUInt8(e,t){Xl(this.buffer,e,t)}indexOf(e,t=0){return zl(this.buffer,e instanceof n?e.buffer:e,t)}};function zl(n,e,t=0){let r=e.byteLength,i=n.byteLength;if(r===0)return 0;if(r===1)return n.indexOf(e[0]);if(r>i-t)return-1;let s=jl.value;s.fill(e.length);for(let u=0;u<e.length;u++)s[e[u]]=e.length-u-1;let a=t+e.length-1,l=a,c=-1;for(;a<i;)if(n[a]===e[l]){if(l===0){c=a;break}a--,l--}else a+=Math.max(e.length-l,s[n[a]]),l=e.length-1;return c}function Hl(n,e){return n[e]*2**24+n[e+1]*2**16+n[e+2]*2**8+n[e+3]}function Gl(n,e,t){n[t+3]=e,e=e>>>8,n[t+2]=e,e=e>>>8,n[t+1]=e,e=e>>>8,n[t]=e}function Jl(n,e){return n[e+0]<<0>>>0|n[e+1]<<8>>>0|n[e+2]<<16>>>0|n[e+3]<<24>>>0}function Ql(n,e,t){n[t+0]=e&255,e=e>>>8,n[t+1]=e&255,e=e>>>8,n[t+2]=e&255,e=e>>>8,n[t+3]=e&255}function Yl(n,e){return n[e]}function Xl(n,e,t){n[t]=e}function Zo(n){return Xo(n,{data:e=>typeof e=="string"?Xt.fromString(e):Xt.wrap(e)},e=>Xt.concat(e))}var ze;(i=>{i.serviceIds=new Map,i.DI_TARGET="$di$target",i.DI_DEPENDENCIES="$di$dependencies";function r(s){return s[i.DI_DEPENDENCIES]||[]}i.getServiceDependencies=r})(ze||={});var O0=Q("instantiationService");function Zl(n,e,t){e[ze.DI_TARGET]===e?e[ze.DI_DEPENDENCIES].push({id:n,index:t}):(e[ze.DI_DEPENDENCIES]=[{id:n,index:t}],e[ze.DI_TARGET]=e)}function Q(n){if(ze.serviceIds.has(n))return ze.serviceIds.get(n);let e=function(t,r,i){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");Zl(e,t,i)};return e.toString=()=>n,ze.serviceIds.set(n,e),e}var eu=Q("environmentService"),es=eu;var ih=Q("contextService");var ts="code-workspace",oh=`.${ts}`,sh=[{name:h("codeWorkspace","Code Workspace"),extensions:[ts]}];var ns=Q("configurationService");function rs(n){return n.replace(/[\[\]]/g,"")}import{spawn as Qu}from"child_process";function di(n,e){return e&&(n.stack||n.stacktrace)?h("stackTrace.format","{0}: {1}",os(n),is(n.stack)||is(n.stacktrace)):os(n)}function is(n){return Array.isArray(n)?n.join(`
`):n}function os(n){return n.code==="ERR_UNC_HOST_NOT_ALLOWED"?`${n.message}. Please update the 'security.allowedUNCHosts' setting if you want to allow this host.`:typeof n.code=="string"&&typeof n.errno=="number"&&typeof n.syscall=="string"?h("nodeExceptionMessage","A system error occurred ({0})",n.message):n.message||h("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}function Tt(n=null,e=!1){if(!n)return h("error.defaultMessage","An unknown error occurred. Please consult the log for more details.");if(Array.isArray(n)){let t=Wi(n),r=Tt(t[0],e);return t.length>1?h("error.moreErrors","{0} ({1} errors in total)",r,t.length):r}if(De(n))return n;if(n.detail){let t=n.detail;if(t.error)return di(t.error,e);if(t.exception)return di(t.exception,e)}return n.stack?di(n,e):n.message?n.message:h("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}var ss=function(){if(typeof crypto=="object"&&typeof crypto.randomUUID=="function")return crypto.randomUUID.bind(crypto);let n;typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?n=crypto.getRandomValues.bind(crypto):n=function(r){for(let i=0;i<r.length;i++)r[i]=Math.floor(Math.random()*256);return r};let e=new Uint8Array(16),t=[];for(let r=0;r<256;r++)t.push(r.toString(16).padStart(2,"0"));return function(){n(e),e[6]=e[6]&15|64,e[8]=e[8]&63|128;let i=0,s="";return s+=t[e[i++]],s+=t[e[i++]],s+=t[e[i++]],s+=t[e[i++]],s+="-",s+=t[e[i++]],s+=t[e[i++]],s+="-",s+=t[e[i++]],s+=t[e[i++]],s+="-",s+=t[e[i++]],s+=t[e[i++]],s+="-",s+=t[e[i++]],s+=t[e[i++]],s+=t[e[i++]],s+=t[e[i++]],s+=t[e[i++]],s+=t[e[i++]],s}}();import{userInfo as Ru}from"os";import*as ms from"os";import*as D from"fs";import{tmpdir as iu}from"os";import{promisify as Hn}from"util";var tu=new Vt(1e4);function fi(n){return ru(n,"NFC",tu)}var Sh=new Vt(1e4);var nu=/[^\u0000-\u0080]/;function ru(n,e,t){if(!n)return n;let r=t.get(n);if(r)return r;let i;return nu.test(n)?i=n.normalize(e):i=n,t.set(n,i),i}async function ls(n,e=0,t){if(jo(n))throw new Error("rimraf - will refuse to recursively delete root");return e===0?pi(n):ou(n,t)}async function ou(n,e=zo(iu())){try{try{await D.promises.rename(n,e)}catch(t){return t.code==="ENOENT"?void 0:pi(n)}pi(e).catch(t=>{})}catch(t){if(t.code!=="ENOENT")throw t}}async function pi(n){return D.promises.rm(n,{recursive:!0,force:!0,maxRetries:3})}async function Gn(n,e){return au(await(e?su(n):D.promises.readdir(n)))}async function su(n){try{return await D.promises.readdir(n,{withFileTypes:!0})}catch(r){console.warn("[node.js fs] readdir with filetypes failed with error: ",r)}let e=[],t=await Gn(n);for(let r of t){let i=!1,s=!1,a=!1;try{let l=await D.promises.lstat(W(n,r));i=l.isFile(),s=l.isDirectory(),a=l.isSymbolicLink()}catch(l){console.warn("[node.js fs] unexpected error from lstat after readdir: ",l)}e.push({name:r,isFile:()=>i,isDirectory:()=>s,isSymbolicLink:()=>a})}return e}function au(n){return n.map(e=>typeof e=="string"?Se?fi(e):e:(e.name=Se?fi(e.name):e.name,e))}async function lu(n){let e=await Gn(n),t=[];for(let r of e)await Ne.existsDirectory(W(n,r))&&t.push(r);return t}var Ne;(r=>{async function n(i){let s;try{if(s=await D.promises.lstat(i),!s.isSymbolicLink())return{stat:s}}catch{}try{return{stat:await D.promises.stat(i),symbolicLink:s?.isSymbolicLink()?{dangling:!1}:void 0}}catch(a){if(a.code==="ENOENT"&&s)return{stat:s,symbolicLink:{dangling:!0}};if(M&&a.code==="EACCES")try{return{stat:await D.promises.stat(await D.promises.readlink(i)),symbolicLink:{dangling:!1}}}catch(l){if(l.code==="ENOENT"&&s)return{stat:s,symbolicLink:{dangling:!0}};throw l}throw a}}r.stat=n;async function e(i){try{let{stat:s,symbolicLink:a}=await r.stat(i);return s.isFile()&&a?.dangling!==!0}catch{}return!1}r.existsFile=e;async function t(i){try{let{stat:s,symbolicLink:a}=await r.stat(i);return s.isDirectory()&&a?.dangling!==!0}catch{}return!1}r.existsDirectory=t})(Ne||={});var uu=new jn;function cu(n,e,t){return uu.queueFor(j.file(n),()=>{let r=pu(t);return new Promise((i,s)=>fu(n,e,r,a=>a?s(a):i()))},ni)}var us=!0;function du(n){us=n}function fu(n,e,t,r){if(!us)return D.writeFile(n,e,{mode:t.mode,flag:t.flag},r);D.open(n,t.flag,t.mode,(i,s)=>{if(i)return r(i);D.writeFile(s,e,a=>{if(a)return D.close(s,()=>r(a));D.fdatasync(s,l=>(l&&(console.warn("[node.js fs] fdatasync is now disabled for this session because it failed: ",l),du(!1)),D.close(s,c=>r(c))))})})}function pu(n){return n?{mode:typeof n.mode=="number"?n.mode:438,flag:typeof n.flag=="string"?n.flag:"w"}:{mode:438,flag:"w"}}async function gu(n,e,t=6e4){if(n!==e)try{M&&typeof t=="number"?await cs(n,e,Date.now(),t):await D.promises.rename(n,e)}catch(r){if(n.toLowerCase()!==e.toLowerCase()&&r.code==="EXDEV"||n.endsWith("."))await ds(n,e,{preserveSymlinks:!1}),await ls(n,1);else throw r}}async function cs(n,e,t,r,i=0){try{return await D.promises.rename(n,e)}catch(s){if(s.code!=="EACCES"&&s.code!=="EPERM"&&s.code!=="EBUSY")throw s;if(Date.now()-t>=r)throw console.error(`[node.js fs] rename failed after ${i} retries with error: ${s}`),s;if(i===0){let a=!1;try{let{stat:l}=await Ne.stat(e);l.isFile()||(a=!0)}catch{}if(a)throw s}return await ai(Math.min(100,i*10)),cs(n,e,t,r,i+1)}}async function ds(n,e,t){return fs(n,e,{root:{source:n,target:e},options:t,handledSourcePaths:new Set})}var as=511;async function fs(n,e,t){if(t.handledSourcePaths.has(n))return;t.handledSourcePaths.add(n);let{stat:r,symbolicLink:i}=await Ne.stat(n);if(i){if(t.options.preserveSymlinks)try{return await bu(n,e,t)}catch{}if(i.dangling)return}return r.isDirectory()?hu(n,e,r.mode&as,t):mu(n,e,r.mode&as)}async function hu(n,e,t,r){await D.promises.mkdir(e,{recursive:!0,mode:t});let i=await Gn(n);for(let s of i)await fs(W(n,s),W(e,s),r)}async function mu(n,e,t){await D.promises.copyFile(n,e),await D.promises.chmod(e,t)}async function bu(n,e,t){let r=await D.promises.readlink(n);Jt(r,t.root.source,!Le)&&(r=W(t.root.target,r.substr(t.root.source.length+1))),await D.promises.symlink(r,e)}var Zt=new class{get read(){return(n,e,t,r,i)=>new Promise((s,a)=>{D.read(n,e,t,r,i,(l,c,u)=>l?a(l):s({bytesRead:c,buffer:u}))})}get write(){return(n,e,t,r,i)=>new Promise((s,a)=>{D.write(n,e,t,r,i,(l,c,u)=>l?a(l):s({bytesWritten:c,buffer:u}))})}get fdatasync(){return Hn(D.fdatasync)}get open(){return Hn(D.open)}get close(){return Hn(D.close)}get realpath(){return Hn(D.realpath)}async exists(n){try{return await D.promises.access(n),!0}catch{return!1}}get readdir(){return Gn}get readDirsInDir(){return lu}get writeFile(){return cu}get rm(){return ls}get rename(){return gu}get copy(){return ds}};var gs=/^\d+$/,yu=/^Microsoft.PowerShell_.*/,vu=/^Microsoft.PowerShellPreview_.*/;var en;switch(process.arch){case"ia32":en=1;break;case"arm":case"arm64":en=2;break;default:en=0;break}var It;process.env.PROCESSOR_ARCHITEW6432?It=process.env.PROCESSOR_ARCHITEW6432==="ARM64"?2:0:process.env.PROCESSOR_ARCHITECTURE==="ARM64"?It=2:process.env.PROCESSOR_ARCHITECTURE==="X86"?It=1:It=0;var _t=class{constructor(e,t,r){this.exePath=e;this.displayName=t;this.knownToExist=r}async exists(){return this.knownToExist===void 0&&(this.knownToExist=await Ne.existsFile(this.exePath)),this.knownToExist}};function xu({useAlternateBitness:n=!1}={}){return n?en===0?process.env["ProgramFiles(x86)"]||null:It===0&&process.env.ProgramW6432||null:process.env.ProgramFiles||null}async function Jn({useAlternateBitness:n=!1,findPreview:e=!1}={}){let t=xu({useAlternateBitness:n});if(!t)return null;let r=W(t,"PowerShell");if(!await Ne.existsDirectory(r))return null;let i=-1,s=null;for(let c of await Zt.readdir(r)){let u=-1;if(e){let f=c.indexOf("-");if(f<0)continue;let p=c.substring(0,f);if(!gs.test(p)||c.substring(f+1)!=="preview")continue;u=parseInt(p,10)}else{if(!gs.test(c))continue;u=parseInt(c,10)}if(u<=i)continue;let d=W(r,c,"pwsh.exe");await Ne.existsFile(d)&&(s=d,i=u)}if(!s)return null;let a=t.includes("x86")?" (x86)":"",l=e?" Preview":"";return new _t(s,`PowerShell${l}${a}`,!0)}async function hs({findPreview:n}={}){if(!process.env.LOCALAPPDATA)return null;let e=W(process.env.LOCALAPPDATA,"Microsoft","WindowsApps");if(!await Ne.existsDirectory(e))return null;let{pwshMsixDirRegex:t,pwshMsixName:r}=n?{pwshMsixDirRegex:vu,pwshMsixName:"PowerShell Preview (Store)"}:{pwshMsixDirRegex:yu,pwshMsixName:"PowerShell (Store)"};for(let i of await Zt.readdir(e))if(t.test(i)){let s=W(e,i,"pwsh.exe");return new _t(s,r)}return null}function Tu(){let n=W(ms.homedir(),".dotnet","tools","pwsh.exe");return new _t(n,".NET Core PowerShell Global Tool")}function Iu(){let n=W(process.env.windir,en===1&&It!==1?"SysNative":"System32","WindowsPowerShell","v1.0","powershell.exe");return new _t(n,"Windows PowerShell",!0)}async function*_u(){let n=await Jn();n&&(yield n),n=await Jn({useAlternateBitness:!0}),n&&(yield n),n=await hs(),n&&(yield n),n=Tu(),n&&(yield n),n=await Jn({findPreview:!0}),n&&(yield n),n=await hs({findPreview:!0}),n&&(yield n),n=await Jn({useAlternateBitness:!0,findPreview:!0}),n&&(yield n),n=Iu(),n&&(yield n)}async function*Eu(){for await(let n of _u())await n.exists()&&(yield n)}async function bs(){for await(let n of Eu())return n;return null}import{promises as ys}from"fs";function vs(n=ct){return n.comspec||"cmd.exe"}var wu;(e=>{async function n(t,r,i){if(Sn(t))return t;if(r===void 0&&(r=Ye()),Rn(t)!==".")return W(r,t);if(i===void 0&&De(ct.PATH)&&(i=ct.PATH.split(uo)),i===void 0||i.length===0)return W(r,t);async function a(l){if(await Zt.exists(l)){let c;try{c=await ys.stat(l)}catch(u){u.message.startsWith("EACCES")&&(c=await ys.lstat(l))}return c?!c.isDirectory():!1}return!1}for(let l of i){let c;if(Sn(l)?c=W(l,t):c=W(r,l,t),await a(c))return c;let u=c+".com";if(await a(u)||(u=c+".exe",await a(u)))return u}return W(r,t)}e.findExecutable=n})(wu||={});async function xs(n,e){return n===1?M?ku():vs(e):Du(n,e)}var gi=null;function Du(n,e){if(Le&&n===2||Se&&n===3)return"/bin/bash";if(!gi){let t;if(M)t="/bin/bash";else{if(t=e.SHELL,!t)try{t=Ru().shell}catch{}t||(t="sh"),t==="/bin/false"&&(t="/bin/bash")}gi=t}return gi}var hi=null;async function ku(){return hi||(hi=(await bs()).exePath),hi}var Cu=vr(Es());var im={o:h("optionsUpperCase","Options"),e:h("extensionsManagement","Extensions Management"),t:h("troubleshooting","Troubleshooting")};var Au={tunnel:{type:"subcommand",description:"Make the current machine accessible from vscode.dev or other machines through a secure tunnel",options:{"cli-data-dir":{type:"string",args:"dir",description:h("cliDataDir","Directory where CLI metadata should be stored.")},"disable-telemetry":{type:"boolean"},"telemetry-level":{type:"string"},user:{type:"subcommand",options:{login:{type:"subcommand",options:{provider:{type:"string"},"access-token":{type:"string"}}}}}}},"serve-web":{type:"subcommand",description:"Run a server that displays the editor UI in browsers.",options:{"cli-data-dir":{type:"string",args:"dir",description:h("cliDataDir","Directory where CLI metadata should be stored.")},"disable-telemetry":{type:"boolean"},"telemetry-level":{type:"string"}}},diff:{type:"boolean",cat:"o",alias:"d",args:["file","file"],description:h("diff","Compare two files with each other.")},merge:{type:"boolean",cat:"o",alias:"m",args:["path1","path2","base","result"],description:h("merge","Perform a three-way merge by providing paths for two modified versions of a file, the common origin of both modified versions and the output file to save merge results.")},add:{type:"boolean",cat:"o",alias:"a",args:"folder",description:h("add","Add folder(s) to the last active window.")},goto:{type:"boolean",cat:"o",alias:"g",args:"file:line[:character]",description:h("goto","Open a file at the path on the specified line and character position.")},"new-window":{type:"boolean",cat:"o",alias:"n",description:h("newWindow","Force to open a new window.")},"reuse-window":{type:"boolean",cat:"o",alias:"r",description:h("reuseWindow","Force to open a file or folder in an already opened window.")},wait:{type:"boolean",cat:"o",alias:"w",description:h("wait","Wait for the files to be closed before returning.")},waitMarkerFilePath:{type:"string"},locale:{type:"string",cat:"o",args:"locale",description:h("locale","The locale to use (e.g. en-US or zh-TW).")},"user-data-dir":{type:"string",cat:"o",args:"dir",description:h("userDataDir","Specifies the directory that user data is kept in. Can be used to open multiple distinct instances of Code.")},profile:{type:"string",cat:"o",args:"profileName",description:h("profileName","Opens the provided folder or workspace with the given profile and associates the profile with the workspace. If the profile does not exist, a new empty one is created.")},help:{type:"boolean",cat:"o",alias:"h",description:h("help","Print usage.")},"extensions-dir":{type:"string",deprecates:["extensionHomePath"],cat:"e",args:"dir",description:h("extensionHomePath","Set the root path for extensions.")},"extensions-download-dir":{type:"string"},"builtin-extensions-dir":{type:"string"},"list-extensions":{type:"boolean",cat:"e",description:h("listExtensions","List the installed extensions.")},"show-versions":{type:"boolean",cat:"e",description:h("showVersions","Show versions of installed extensions, when using --list-extensions.")},category:{type:"string",allowEmptyValue:!0,cat:"e",description:h("category","Filters installed extensions by provided category, when using --list-extensions."),args:"category"},"install-extension":{type:"string[]",cat:"e",args:"ext-id | path",description:h("installExtension","Installs or updates an extension. The argument is either an extension id or a path to a VSIX. The identifier of an extension is '${publisher}.${name}'. Use '--force' argument to update to latest version. To install a specific version provide '@${version}'. For example: 'vscode.csharp@1.2.3'.")},"pre-release":{type:"boolean",cat:"e",description:h("install prerelease","Installs the pre-release version of the extension, when using --install-extension")},"uninstall-extension":{type:"string[]",cat:"e",args:"ext-id",description:h("uninstallExtension","Uninstalls an extension.")},"update-extensions":{type:"boolean",cat:"e",description:h("updateExtensions","Update the installed extensions.")},"enable-proposed-api":{type:"string[]",allowEmptyValue:!0,cat:"e",args:"ext-id",description:h("experimentalApis","Enables proposed API features for extensions. Can receive one or more extension IDs to enable individually.")},version:{type:"boolean",cat:"t",alias:"v",description:h("version","Print version.")},verbose:{type:"boolean",cat:"t",global:!0,description:h("verbose","Print verbose output (implies --wait).")},log:{type:"string[]",cat:"t",args:"level",global:!0,description:h("log","Log level to use. Default is 'info'. Allowed values are 'critical', 'error', 'warn', 'info', 'debug', 'trace', 'off'. You can also configure the log level of an extension by passing extension id and log level in the following format: '${publisher}.${name}:${logLevel}'. For example: 'vscode.csharp:trace'. Can receive one or more such entries.")},status:{type:"boolean",alias:"s",cat:"t",description:h("status","Print process usage and diagnostics information.")},"prof-startup":{type:"boolean",cat:"t",description:h("prof-startup","Run CPU profiler during startup.")},"prof-append-timers":{type:"string"},"prof-duration-markers":{type:"string[]"},"prof-duration-markers-file":{type:"string"},"no-cached-data":{type:"boolean"},"prof-startup-prefix":{type:"string"},"prof-v8-extensions":{type:"boolean"},"disable-extensions":{type:"boolean",deprecates:["disableExtensions"],cat:"t",description:h("disableExtensions","Disable all installed extensions. This option is not persisted and is effective only when the command opens a new window.")},"disable-extension":{type:"string[]",cat:"t",args:"ext-id",description:h("disableExtension","Disable the provided extension. This option is not persisted and is effective only when the command opens a new window.")},sync:{type:"string",cat:"t",description:h("turn sync","Turn sync on or off."),args:["on | off"]},"inspect-extensions":{type:"string",allowEmptyValue:!0,deprecates:["debugPluginHost"],args:"port",cat:"t",description:h("inspect-extensions","Allow debugging and profiling of extensions. Check the developer tools for the connection URI.")},"inspect-brk-extensions":{type:"string",allowEmptyValue:!0,deprecates:["debugBrkPluginHost"],args:"port",cat:"t",description:h("inspect-brk-extensions","Allow debugging and profiling of extensions with the extension host being paused after start. Check the developer tools for the connection URI.")},"disable-lcd-text":{type:"boolean",cat:"t",description:h("disableLCDText","Disable LCD font rendering.")},"disable-gpu":{type:"boolean",cat:"t",description:h("disableGPU","Disable GPU hardware acceleration.")},"disable-chromium-sandbox":{type:"boolean",cat:"t",description:h("disableChromiumSandbox","Use this option only when there is requirement to launch the application as sudo user on Linux or when running as an elevated user in an applocker environment on Windows.")},sandbox:{type:"boolean"},telemetry:{type:"boolean",cat:"t",description:h("telemetry","Shows all telemetry events which VS code collects.")},remote:{type:"string",allowEmptyValue:!0},"folder-uri":{type:"string[]",cat:"o",args:"uri"},"file-uri":{type:"string[]",cat:"o",args:"uri"},"locate-extension":{type:"string[]"},extensionDevelopmentPath:{type:"string[]"},extensionDevelopmentKind:{type:"string[]"},extensionTestsPath:{type:"string"},extensionEnvironment:{type:"string"},debugId:{type:"string"},debugRenderer:{type:"boolean"},"inspect-ptyhost":{type:"string",allowEmptyValue:!0},"inspect-brk-ptyhost":{type:"string",allowEmptyValue:!0},"inspect-search":{type:"string",deprecates:["debugSearch"],allowEmptyValue:!0},"inspect-brk-search":{type:"string",deprecates:["debugBrkSearch"],allowEmptyValue:!0},"inspect-sharedprocess":{type:"string",allowEmptyValue:!0},"inspect-brk-sharedprocess":{type:"string",allowEmptyValue:!0},"export-default-configuration":{type:"string"},"install-source":{type:"string"},"enable-smoke-test-driver":{type:"boolean"},logExtensionHostCommunication:{type:"boolean"},"skip-release-notes":{type:"boolean"},"skip-welcome":{type:"boolean"},"disable-telemetry":{type:"boolean"},"disable-updates":{type:"boolean"},"use-inmemory-secretstorage":{type:"boolean",deprecates:["disable-keytar"]},"password-store":{type:"string"},"disable-workspace-trust":{type:"boolean"},"disable-crash-reporter":{type:"boolean"},"crash-reporter-directory":{type:"string"},"crash-reporter-id":{type:"string"},"skip-add-to-recently-opened":{type:"boolean"},"open-url":{type:"boolean"},"file-write":{type:"boolean"},"file-chmod":{type:"boolean"},"install-builtin-extension":{type:"string[]"},force:{type:"boolean"},"do-not-sync":{type:"boolean"},trace:{type:"boolean"},"trace-category-filter":{type:"string"},"trace-options":{type:"string"},"preserve-env":{type:"boolean"},"force-user-env":{type:"boolean"},"force-disable-user-env":{type:"boolean"},"open-devtools":{type:"boolean"},"disable-gpu-sandbox":{type:"boolean"},logsPath:{type:"string"},"__enable-file-policy":{type:"boolean"},editSessionId:{type:"string"},continueOn:{type:"string"},"locate-shell-integration-path":{type:"string",args:["bash","pwsh","zsh","fish"]},"enable-coi":{type:"boolean"},"no-proxy-server":{type:"boolean"},"no-sandbox":{type:"boolean",alias:"sandbox"},"proxy-server":{type:"string"},"proxy-bypass-list":{type:"string"},"proxy-pac-url":{type:"string"},"js-flags":{type:"string"},inspect:{type:"string",allowEmptyValue:!0},"inspect-brk":{type:"string",allowEmptyValue:!0},nolazy:{type:"boolean"},"force-device-scale-factor":{type:"string"},"force-renderer-accessibility":{type:"boolean"},"ignore-certificate-errors":{type:"boolean"},"allow-insecure-localhost":{type:"boolean"},"log-net-log":{type:"string"},vmodule:{type:"string"},_urls:{type:"string[]"},"disable-dev-shm-usage":{type:"boolean"},"profile-temp":{type:"boolean"},"ozone-platform":{type:"string"},"enable-tracing":{type:"string"},"trace-startup-format":{type:"string"},"trace-startup-file":{type:"string"},"trace-startup-duration":{type:"string"},_:{type:"string[]"}};function mi(n){return n.VSCODE_CLI==="1"}function bi(n,e,t=32){let r=t-e,i=~((1<<r)-1);return(n<<e|(i&n)>>>r)>>>0}function ws(n,e=0,t=n.byteLength,r=0){for(let i=0;i<t;i++)n[e+i]=r}function Lu(n,e,t="0"){for(;n.length<e;)n=t+n;return n}function tn(n,e=32){return n instanceof ArrayBuffer?Array.from(new Uint8Array(n)).map(t=>t.toString(16).padStart(2,"0")).join(""):Lu((n>>>0).toString(16),e/4)}var Ss=class n{static _bigBlock32=new DataView(new ArrayBuffer(320));_h0=1732584193;_h1=4023233417;_h2=2562383102;_h3=271733878;_h4=3285377520;_buff;_buffDV;_buffLen;_totalLen;_leftoverHighSurrogate;_finished;constructor(){this._buff=new Uint8Array(67),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(e){let t=e.length;if(t===0)return;let r=this._buff,i=this._buffLen,s=this._leftoverHighSurrogate,a,l;for(s!==0?(a=s,l=-1,s=0):(a=e.charCodeAt(0),l=0);;){let c=a;if(Mo(a))if(l+1<t){let u=e.charCodeAt(l+1);Yr(u)?(l++,c=Vo(a,u)):c=65533}else{s=a;break}else Yr(a)&&(c=65533);if(i=this._push(r,i,c),l++,l<t)a=e.charCodeAt(l);else break}this._buffLen=i,this._leftoverHighSurrogate=s}_push(e,t,r){return r<128?e[t++]=r:r<2048?(e[t++]=192|(r&1984)>>>6,e[t++]=128|(r&63)>>>0):r<65536?(e[t++]=224|(r&61440)>>>12,e[t++]=128|(r&4032)>>>6,e[t++]=128|(r&63)>>>0):(e[t++]=240|(r&1835008)>>>18,e[t++]=128|(r&258048)>>>12,e[t++]=128|(r&4032)>>>6,e[t++]=128|(r&63)>>>0),t>=64&&(this._step(),t-=64,this._totalLen+=64,e[0]=e[64],e[1]=e[65],e[2]=e[66]),t}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),tn(this._h0)+tn(this._h1)+tn(this._h2)+tn(this._h3)+tn(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,ws(this._buff,this._buffLen),this._buffLen>56&&(this._step(),ws(this._buff));let e=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(e/4294967296),!1),this._buffDV.setUint32(60,e%4294967296,!1),this._step()}_step(){let e=n._bigBlock32,t=this._buffDV;for(let f=0;f<64;f+=4)e.setUint32(f,t.getUint32(f,!1),!1);for(let f=64;f<320;f+=4)e.setUint32(f,bi(e.getUint32(f-12,!1)^e.getUint32(f-32,!1)^e.getUint32(f-56,!1)^e.getUint32(f-64,!1),1),!1);let r=this._h0,i=this._h1,s=this._h2,a=this._h3,l=this._h4,c,u,d;for(let f=0;f<80;f++)f<20?(c=i&s|~i&a,u=1518500249):f<40?(c=i^s^a,u=1859775393):f<60?(c=i&s|i&a|s&a,u=2400959708):(c=i^s^a,u=3395469782),d=bi(r,5)+c+l+u+e.getUint32(f*4,!1)&4294967295,l=a,a=s,s=bi(i,30),i=r,r=d;this._h0=this._h0+r&4294967295,this._h1=this._h1+i&4294967295,this._h2=this._h2+s&4294967295,this._h3=this._h3+a&4294967295,this._h4=this._h4+l&4294967295}};function yi(...n){switch(n.length){case 1:return h("contextkey.scanner.hint.didYouMean1","Did you mean {0}?",n[0]);case 2:return h("contextkey.scanner.hint.didYouMean2","Did you mean {0} or {1}?",n[0],n[1]);case 3:return h("contextkey.scanner.hint.didYouMean3","Did you mean {0}, {1} or {2}?",n[0],n[1],n[2]);default:return}}var Pu=h("contextkey.scanner.hint.didYouForgetToOpenOrCloseQuote","Did you forget to open or close the quote?"),Uu=h("contextkey.scanner.hint.didYouForgetToEscapeSlash","Did you forget to escape the '/' (slash) character? Put two backslashes before it to escape, e.g., '\\\\/'."),He=class n{static getLexeme(e){switch(e.type){case 0:return"(";case 1:return")";case 2:return"!";case 3:return e.isTripleEq?"===":"==";case 4:return e.isTripleEq?"!==":"!=";case 5:return"<";case 6:return"<=";case 7:return">=";case 8:return">=";case 9:return"=~";case 10:return e.lexeme;case 11:return"true";case 12:return"false";case 13:return"in";case 14:return"not";case 15:return"&&";case 16:return"||";case 17:return e.lexeme;case 18:return e.lexeme;case 19:return e.lexeme;case 20:return"EOF";default:throw Vi(`unhandled token type: ${JSON.stringify(e)}; have you forgotten to add a case?`)}}static _regexFlags=new Set(["i","g","s","m","y","u"].map(e=>e.charCodeAt(0)));static _keywords=new Map([["not",14],["in",13],["false",12],["true",11]]);_input="";_start=0;_current=0;_tokens=[];_errors=[];get errors(){return this._errors}reset(e){return this._input=e,this._start=0,this._current=0,this._tokens=[],this._errors=[],this}scan(){for(;!this._isAtEnd();)switch(this._start=this._current,this._advance()){case 40:this._addToken(0);break;case 41:this._addToken(1);break;case 33:if(this._match(61)){let t=this._match(61);this._tokens.push({type:4,offset:this._start,isTripleEq:t})}else this._addToken(2);break;case 39:this._quotedString();break;case 47:this._regex();break;case 61:if(this._match(61)){let t=this._match(61);this._tokens.push({type:3,offset:this._start,isTripleEq:t})}else this._match(126)?this._addToken(9):this._error(yi("==","=~"));break;case 60:this._addToken(this._match(61)?6:5);break;case 62:this._addToken(this._match(61)?8:7);break;case 38:this._match(38)?this._addToken(15):this._error(yi("&&"));break;case 124:this._match(124)?this._addToken(16):this._error(yi("||"));break;case 32:case 13:case 9:case 10:case 160:break;default:this._string()}return this._start=this._current,this._addToken(20),Array.from(this._tokens)}_match(e){return this._isAtEnd()||this._input.charCodeAt(this._current)!==e?!1:(this._current++,!0)}_advance(){return this._input.charCodeAt(this._current++)}_peek(){return this._isAtEnd()?0:this._input.charCodeAt(this._current)}_addToken(e){this._tokens.push({type:e,offset:this._start})}_error(e){let t=this._start,r=this._input.substring(this._start,this._current),i={type:19,offset:this._start,lexeme:r};this._errors.push({offset:t,lexeme:r,additionalInfo:e}),this._tokens.push(i)}stringRe=/[a-zA-Z0-9_<>\-\./\\:\*\?\+\[\]\^,#@;"%\$\p{L}-]+/uy;_string(){this.stringRe.lastIndex=this._start;let e=this.stringRe.exec(this._input);if(e){this._current=this._start+e[0].length;let t=this._input.substring(this._start,this._current),r=n._keywords.get(t);r?this._addToken(r):this._tokens.push({type:17,lexeme:t,offset:this._start})}}_quotedString(){for(;this._peek()!==39&&!this._isAtEnd();)this._advance();if(this._isAtEnd()){this._error(Pu);return}this._advance(),this._tokens.push({type:18,lexeme:this._input.substring(this._start+1,this._current-1),offset:this._start+1})}_regex(){let e=this._current,t=!1,r=!1;for(;;){if(e>=this._input.length){this._current=e,this._error(Uu);return}let s=this._input.charCodeAt(e);if(t)t=!1;else if(s===47&&!r){e++;break}else s===91?r=!0:s===92?t=!0:s===93&&(r=!1);e++}for(;e<this._input.length&&n._regexFlags.has(this._input.charCodeAt(e));)e++;this._current=e;let i=this._input.substring(this._start,this._current);this._tokens.push({type:10,lexeme:i,offset:this._start})}_isAtEnd(){return this._current>=this._input.length}};var G=new Map;G.set("false",!1);G.set("true",!0);G.set("isMac",Se);G.set("isLinux",Le);G.set("isWindows",M);G.set("isWeb",Ft);G.set("isMacNative",Se&&!Ft);G.set("isEdge",ro);G.set("isFirefox",to);G.set("isChrome",Rr);G.set("isSafari",no);var Nu=Object.prototype.hasOwnProperty;var Fu={regexParsingWithErrorRecovery:!0},Ku=h("contextkey.parser.error.emptyString","Empty context key expression"),Mu=h("contextkey.parser.error.emptyString.hint","Did you forget to write an expression? You can also put 'false' or 'true' to always evaluate to false or true, respectively."),Vu=h("contextkey.parser.error.noInAfterNot","'in' after 'not'."),Rs=h("contextkey.parser.error.closingParenthesis","closing parenthesis ')'"),Bu=h("contextkey.parser.error.unexpectedToken","Unexpected token"),Wu=h("contextkey.parser.error.unexpectedToken.hint","Did you forget to put && or || before the token?"),qu=h("contextkey.parser.error.unexpectedEOF","Unexpected end of expression"),$u=h("contextkey.parser.error.unexpectedEOF.hint","Did you forget to put a context key?"),vi=class n{constructor(e=Fu){this._config=e}static _parseError=new Error;_scanner=new He;_tokens=[];_current=0;_parsingErrors=[];get lexingErrors(){return this._scanner.errors}get parsingErrors(){return this._parsingErrors}parse(e){if(e===""){this._parsingErrors.push({message:Ku,offset:0,lexeme:"",additionalInfo:Mu});return}this._tokens=this._scanner.reset(e).scan(),this._current=0,this._parsingErrors=[];try{let t=this._expr();if(!this._isAtEnd()){let r=this._peek(),i=r.type===17?Wu:void 0;throw this._parsingErrors.push({message:Bu,offset:r.offset,lexeme:He.getLexeme(r),additionalInfo:i}),n._parseError}return t}catch(t){if(t!==n._parseError)throw t;return}}_expr(){return this._or()}_or(){let e=[this._and()];for(;this._matchOne(16);){let t=this._and();e.push(t)}return e.length===1?e[0]:Y.or(...e)}_and(){let e=[this._term()];for(;this._matchOne(15);){let t=this._term();e.push(t)}return e.length===1?e[0]:Y.and(...e)}_term(){if(this._matchOne(2)){let e=this._peek();switch(e.type){case 11:return this._advance(),te.INSTANCE;case 12:return this._advance(),re.INSTANCE;case 0:{this._advance();let t=this._expr();return this._consume(1,Rs),t?.negate()}case 17:return this._advance(),tt.create(e.lexeme);default:throw this._errExpectedButGot("KEY | true | false | '(' expression ')'",e)}}return this._primary()}_primary(){let e=this._peek();switch(e.type){case 11:return this._advance(),Y.true();case 12:return this._advance(),Y.false();case 0:{this._advance();let t=this._expr();return this._consume(1,Rs),t}case 17:{let t=e.lexeme;if(this._advance(),this._matchOne(9)){let i=this._peek();if(!this._config.regexParsingWithErrorRecovery){if(this._advance(),i.type!==10)throw this._errExpectedButGot("REGEX",i);let s=i.lexeme,a=s.lastIndexOf("/"),l=a===s.length-1?void 0:this._removeFlagsGY(s.substring(a+1)),c;try{c=new RegExp(s.substring(1,a),l)}catch{throw this._errExpectedButGot("REGEX",i)}return cn.create(t,c)}switch(i.type){case 10:case 19:{let s=[i.lexeme];this._advance();let a=this._peek(),l=0;for(let p=0;p<i.lexeme.length;p++)i.lexeme.charCodeAt(p)===40?l++:i.lexeme.charCodeAt(p)===41&&l--;for(;!this._isAtEnd()&&a.type!==15&&a.type!==16;){switch(a.type){case 0:l++;break;case 1:l--;break;case 10:case 18:for(let p=0;p<a.lexeme.length;p++)a.lexeme.charCodeAt(p)===40?l++:i.lexeme.charCodeAt(p)===41&&l--}if(l<0)break;s.push(He.getLexeme(a)),this._advance(),a=this._peek()}let c=s.join(""),u=c.lastIndexOf("/"),d=u===c.length-1?void 0:this._removeFlagsGY(c.substring(u+1)),f;try{f=new RegExp(c.substring(1,u),d)}catch{throw this._errExpectedButGot("REGEX",i)}return Y.regex(t,f)}case 18:{let s=i.lexeme;this._advance();let a=null;if(!Fo(s)){let l=s.indexOf("/"),c=s.lastIndexOf("/");if(l!==c&&l>=0){let u=s.slice(l+1,c),d=s[c+1]==="i"?"i":"";try{a=new RegExp(u,d)}catch{throw this._errExpectedButGot("REGEX",i)}}}if(a===null)throw this._errExpectedButGot("REGEX",i);return cn.create(t,a)}default:throw this._errExpectedButGot("REGEX",this._peek())}}if(this._matchOne(14)){this._consume(13,Vu);let i=this._value();return Y.notIn(t,i)}switch(this._peek().type){case 3:{this._advance();let i=this._value();if(this._previous().type===18)return Y.equals(t,i);switch(i){case"true":return Y.has(t);case"false":return Y.not(t);default:return Y.equals(t,i)}}case 4:{this._advance();let i=this._value();if(this._previous().type===18)return Y.notEquals(t,i);switch(i){case"true":return Y.not(t);case"false":return Y.has(t);default:return Y.notEquals(t,i)}}case 5:return this._advance(),ln.create(t,this._value());case 6:return this._advance(),un.create(t,this._value());case 7:return this._advance(),sn.create(t,this._value());case 8:return this._advance(),an.create(t,this._value());case 13:return this._advance(),Y.in(t,this._value());default:return Y.has(t)}}case 20:throw this._parsingErrors.push({message:qu,offset:e.offset,lexeme:"",additionalInfo:$u}),n._parseError;default:throw this._errExpectedButGot(`true | false | KEY 
	| KEY '=~' REGEX 
	| KEY ('==' | '!=' | '<' | '<=' | '>' | '>=' | 'in' | 'not' 'in') value`,this._peek())}}_value(){let e=this._peek();switch(e.type){case 17:case 18:return this._advance(),e.lexeme;case 11:return this._advance(),"true";case 12:return this._advance(),"false";case 13:return this._advance(),"in";default:return""}}_flagsGYRe=/g|y/g;_removeFlagsGY(e){return e.replaceAll(this._flagsGYRe,"")}_previous(){return this._tokens[this._current-1]}_matchOne(e){return this._check(e)?(this._advance(),!0):!1}_advance(){return this._isAtEnd()||this._current++,this._previous()}_consume(e,t){if(this._check(e))return this._advance();throw this._errExpectedButGot(t,this._peek())}_errExpectedButGot(e,t,r){let i=h("contextkey.parser.error.expectedButGot",`Expected: {0}
Received: '{1}'.`,e,He.getLexeme(t)),s=t.offset,a=He.getLexeme(t);return this._parsingErrors.push({message:i,offset:s,lexeme:a,additionalInfo:r}),n._parseError}_check(e){return this._peek().type===e}_peek(){return this._tokens[this._current]}_isAtEnd(){return this._peek().type===20}},Y=class{static false(){return te.INSTANCE}static true(){return re.INSTANCE}static has(e){return et.create(e)}static equals(e,t){return rn.create(e,t)}static notEquals(e,t){return on.create(e,t)}static regex(e,t){return cn.create(e,t)}static in(e,t){return Qn.create(e,t)}static notIn(e,t){return Yn.create(e,t)}static not(e){return tt.create(e)}static and(...e){return Xn.create(e,null,!0)}static or(...e){return dn.create(e,null,!0)}static greater(e,t){return sn.create(e,t)}static greaterEquals(e,t){return an.create(e,t)}static smaller(e,t){return ln.create(e,t)}static smallerEquals(e,t){return un.create(e,t)}static _parser=new vi({regexParsingWithErrorRecovery:!1});static deserialize(e){return e==null?void 0:this._parser.parse(e)}};function nn(n,e){return n.cmp(e)}var te=class n{static INSTANCE=new n;type=0;constructor(){}cmp(e){return this.type-e.type}equals(e){return e.type===this.type}substituteConstants(){return this}evaluate(e){return!1}serialize(){return"false"}keys(){return[]}map(e){return this}negate(){return re.INSTANCE}},re=class n{static INSTANCE=new n;type=1;constructor(){}cmp(e){return this.type-e.type}equals(e){return e.type===this.type}substituteConstants(){return this}evaluate(e){return!0}serialize(){return"true"}keys(){return[]}map(e){return this}negate(){return te.INSTANCE}},et=class n{constructor(e,t){this.key=e;this.negated=t}static create(e,t=null){let r=G.get(e);return typeof r=="boolean"?r?re.INSTANCE:te.INSTANCE:new n(e,t)}type=2;cmp(e){return e.type!==this.type?this.type-e.type:Os(this.key,e.key)}equals(e){return e.type===this.type?this.key===e.key:!1}substituteConstants(){let e=G.get(this.key);return typeof e=="boolean"?e?re.INSTANCE:te.INSTANCE:this}evaluate(e){return!!e.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}map(e){return e.mapDefined(this.key)}negate(){return this.negated||(this.negated=tt.create(this.key,this)),this.negated}},rn=class n{constructor(e,t,r){this.key=e;this.value=t;this.negated=r}static create(e,t,r=null){if(typeof t=="boolean")return t?et.create(e,r):tt.create(e,r);let i=G.get(e);return typeof i=="boolean"?t===(i?"true":"false")?re.INSTANCE:te.INSTANCE:new n(e,t,r)}type=4;cmp(e){return e.type!==this.type?this.type-e.type:nt(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){let e=G.get(this.key);if(typeof e=="boolean"){let t=e?"true":"false";return this.value===t?re.INSTANCE:te.INSTANCE}return this}evaluate(e){return e.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}map(e){return e.mapEquals(this.key,this.value)}negate(){return this.negated||(this.negated=on.create(this.key,this.value,this)),this.negated}},Qn=class n{constructor(e,t){this.key=e;this.valueKey=t}static create(e,t){return new n(e,t)}type=10;negated=null;cmp(e){return e.type!==this.type?this.type-e.type:nt(this.key,this.valueKey,e.key,e.valueKey)}equals(e){return e.type===this.type?this.key===e.key&&this.valueKey===e.valueKey:!1}substituteConstants(){return this}evaluate(e){let t=e.getValue(this.valueKey),r=e.getValue(this.key);return Array.isArray(t)?t.includes(r):typeof r=="string"&&typeof t=="object"&&t!==null?Nu.call(t,r):!1}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}map(e){return e.mapIn(this.key,this.valueKey)}negate(){return this.negated||(this.negated=Yn.create(this.key,this.valueKey)),this.negated}},Yn=class n{constructor(e,t){this.key=e;this.valueKey=t;this._negated=Qn.create(e,t)}static create(e,t){return new n(e,t)}type=11;_negated;cmp(e){return e.type!==this.type?this.type-e.type:this._negated.cmp(e._negated)}equals(e){return e.type===this.type?this._negated.equals(e._negated):!1}substituteConstants(){return this}evaluate(e){return!this._negated.evaluate(e)}serialize(){return`${this.key} not in '${this.valueKey}'`}keys(){return this._negated.keys()}map(e){return e.mapNotIn(this.key,this.valueKey)}negate(){return this._negated}},on=class n{constructor(e,t,r){this.key=e;this.value=t;this.negated=r}static create(e,t,r=null){if(typeof t=="boolean")return t?tt.create(e,r):et.create(e,r);let i=G.get(e);return typeof i=="boolean"?t===(i?"true":"false")?te.INSTANCE:re.INSTANCE:new n(e,t,r)}type=5;cmp(e){return e.type!==this.type?this.type-e.type:nt(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){let e=G.get(this.key);if(typeof e=="boolean"){let t=e?"true":"false";return this.value===t?te.INSTANCE:re.INSTANCE}return this}evaluate(e){return e.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}map(e){return e.mapNotEquals(this.key,this.value)}negate(){return this.negated||(this.negated=rn.create(this.key,this.value,this)),this.negated}},tt=class n{constructor(e,t){this.key=e;this.negated=t}static create(e,t=null){let r=G.get(e);return typeof r=="boolean"?r?te.INSTANCE:re.INSTANCE:new n(e,t)}type=3;cmp(e){return e.type!==this.type?this.type-e.type:Os(this.key,e.key)}equals(e){return e.type===this.type?this.key===e.key:!1}substituteConstants(){let e=G.get(this.key);return typeof e=="boolean"?e?te.INSTANCE:re.INSTANCE:this}evaluate(e){return!e.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}map(e){return e.mapNot(this.key)}negate(){return this.negated||(this.negated=et.create(this.key,this)),this.negated}};function er(n,e){if(typeof n=="string"){let t=parseFloat(n);isNaN(t)||(n=t)}return typeof n=="string"||typeof n=="number"?e(n):te.INSTANCE}var sn=class n{constructor(e,t,r){this.key=e;this.value=t;this.negated=r}static create(e,t,r=null){return er(t,i=>new n(e,i,r))}type=12;cmp(e){return e.type!==this.type?this.type-e.type:nt(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}map(e){return e.mapGreater(this.key,this.value)}negate(){return this.negated||(this.negated=un.create(this.key,this.value,this)),this.negated}},an=class n{constructor(e,t,r){this.key=e;this.value=t;this.negated=r}static create(e,t,r=null){return er(t,i=>new n(e,i,r))}type=13;cmp(e){return e.type!==this.type?this.type-e.type:nt(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}map(e){return e.mapGreaterEquals(this.key,this.value)}negate(){return this.negated||(this.negated=ln.create(this.key,this.value,this)),this.negated}},ln=class n{constructor(e,t,r){this.key=e;this.value=t;this.negated=r}static create(e,t,r=null){return er(t,i=>new n(e,i,r))}type=14;cmp(e){return e.type!==this.type?this.type-e.type:nt(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}map(e){return e.mapSmaller(this.key,this.value)}negate(){return this.negated||(this.negated=an.create(this.key,this.value,this)),this.negated}},un=class n{constructor(e,t,r){this.key=e;this.value=t;this.negated=r}static create(e,t,r=null){return er(t,i=>new n(e,i,r))}type=15;cmp(e){return e.type!==this.type?this.type-e.type:nt(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}map(e){return e.mapSmallerEquals(this.key,this.value)}negate(){return this.negated||(this.negated=sn.create(this.key,this.value,this)),this.negated}},cn=class n{constructor(e,t){this.key=e;this.regexp=t}static create(e,t){return new n(e,t)}type=7;negated=null;cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.key<e.key)return-1;if(this.key>e.key)return 1;let t=this.regexp?this.regexp.source:"",r=e.regexp?e.regexp.source:"";return t<r?-1:t>r?1:0}equals(e){if(e.type===this.type){let t=this.regexp?this.regexp.source:"",r=e.regexp?e.regexp.source:"";return this.key===e.key&&t===r}return!1}substituteConstants(){return this}evaluate(e){let t=e.getValue(this.key);return this.regexp?this.regexp.test(t):!1}serialize(){let e=this.regexp?`/${this.regexp.source}/${this.regexp.flags}`:"/invalid/";return`${this.key} =~ ${e}`}keys(){return[this.key]}map(e){return e.mapRegex(this.key,this.regexp)}negate(){return this.negated||(this.negated=xi.create(this)),this.negated}},xi=class n{constructor(e){this._actual=e}static create(e){return new n(e)}type=8;cmp(e){return e.type!==this.type?this.type-e.type:this._actual.cmp(e._actual)}equals(e){return e.type===this.type?this._actual.equals(e._actual):!1}substituteConstants(){return this}evaluate(e){return!this._actual.evaluate(e)}serialize(){return`!(${this._actual.serialize()})`}keys(){return this._actual.keys()}map(e){return new n(this._actual.map(e))}negate(){return this._actual}};function ks(n){let e=null;for(let t=0,r=n.length;t<r;t++){let i=n[t].substituteConstants();if(n[t]!==i&&e===null){e=[];for(let s=0;s<t;s++)e[s]=n[s]}e!==null&&(e[t]=i)}return e===null?n:e}var Xn=class n{constructor(e,t){this.expr=e;this.negated=t}static create(e,t,r){return n._normalizeArr(e,t,r)}type=6;cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.expr.length<e.expr.length)return-1;if(this.expr.length>e.expr.length)return 1;for(let t=0,r=this.expr.length;t<r;t++){let i=nn(this.expr[t],e.expr[t]);if(i!==0)return i}return 0}equals(e){if(e.type===this.type){if(this.expr.length!==e.expr.length)return!1;for(let t=0,r=this.expr.length;t<r;t++)if(!this.expr[t].equals(e.expr[t]))return!1;return!0}return!1}substituteConstants(){let e=ks(this.expr);return e===this.expr?this:n.create(e,this.negated,!1)}evaluate(e){for(let t=0,r=this.expr.length;t<r;t++)if(!this.expr[t].evaluate(e))return!1;return!0}static _normalizeArr(e,t,r){let i=[],s=!1;for(let a of e)if(a){if(a.type===1){s=!0;continue}if(a.type===0)return te.INSTANCE;if(a.type===6){i.push(...a.expr);continue}i.push(a)}if(i.length===0&&s)return re.INSTANCE;if(i.length!==0){if(i.length===1)return i[0];i.sort(nn);for(let a=1;a<i.length;a++)i[a-1].equals(i[a])&&(i.splice(a,1),a--);if(i.length===1)return i[0];for(;i.length>1;){let a=i[i.length-1];if(a.type!==9)break;i.pop();let l=i.pop(),c=i.length===0,u=dn.create(a.expr.map(d=>n.create([d,l],null,r)),null,c);u&&(i.push(u),i.sort(nn))}if(i.length===1)return i[0];if(r){for(let a=0;a<i.length;a++)for(let l=a+1;l<i.length;l++)if(i[a].negate().equals(i[l]))return te.INSTANCE;if(i.length===1)return i[0]}return new n(i,t)}}serialize(){return this.expr.map(e=>e.serialize()).join(" && ")}keys(){let e=[];for(let t of this.expr)e.push(...t.keys());return e}map(e){return new n(this.expr.map(t=>t.map(e)),null)}negate(){if(!this.negated){let e=[];for(let t of this.expr)e.push(t.negate());this.negated=dn.create(e,this,!0)}return this.negated}},dn=class n{constructor(e,t){this.expr=e;this.negated=t}static create(e,t,r){return n._normalizeArr(e,t,r)}type=9;cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.expr.length<e.expr.length)return-1;if(this.expr.length>e.expr.length)return 1;for(let t=0,r=this.expr.length;t<r;t++){let i=nn(this.expr[t],e.expr[t]);if(i!==0)return i}return 0}equals(e){if(e.type===this.type){if(this.expr.length!==e.expr.length)return!1;for(let t=0,r=this.expr.length;t<r;t++)if(!this.expr[t].equals(e.expr[t]))return!1;return!0}return!1}substituteConstants(){let e=ks(this.expr);return e===this.expr?this:n.create(e,this.negated,!1)}evaluate(e){for(let t=0,r=this.expr.length;t<r;t++)if(this.expr[t].evaluate(e))return!0;return!1}static _normalizeArr(e,t,r){let i=[],s=!1;if(e){for(let a=0,l=e.length;a<l;a++){let c=e[a];if(c){if(c.type===0){s=!0;continue}if(c.type===1)return re.INSTANCE;if(c.type===9){i=i.concat(c.expr);continue}i.push(c)}}if(i.length===0&&s)return te.INSTANCE;i.sort(nn)}if(i.length!==0){if(i.length===1)return i[0];for(let a=1;a<i.length;a++)i[a-1].equals(i[a])&&(i.splice(a,1),a--);if(i.length===1)return i[0];if(r){for(let a=0;a<i.length;a++)for(let l=a+1;l<i.length;l++)if(i[a].negate().equals(i[l]))return re.INSTANCE;if(i.length===1)return i[0]}return new n(i,t)}}serialize(){return this.expr.map(e=>e.serialize()).join(" || ")}keys(){let e=[];for(let t of this.expr)e.push(...t.keys());return e}map(e){return new n(this.expr.map(t=>t.map(e)),null)}negate(){if(!this.negated){let e=[];for(let t of this.expr)e.push(t.negate());for(;e.length>1;){let t=e.shift(),r=e.shift(),i=[];for(let s of Ds(t))for(let a of Ds(r))i.push(Xn.create([s,a],null,!1));e.unshift(n.create(i,null,!1))}this.negated=n.create(e,this,!0)}return this.negated}},Zn=class n extends et{static _info=[];static all(){return n._info.values()}_defaultValue;constructor(e,t,r){super(e,null),this._defaultValue=t,typeof r=="object"?n._info.push({...r,key:e}):r!==!0&&n._info.push({key:e,description:r,type:t!=null?typeof t:void 0})}bindTo(e){return e.createKey(this.key,this._defaultValue)}getValue(e){return e.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(e){return rn.create(this.key,e)}notEqualsTo(e){return on.create(this.key,e)}},Pm=Q("contextKeyService");function Os(n,e){return n<e?-1:n>e?1:0}function nt(n,e,t,r){return n<t?-1:n>t?1:e<r?-1:e>r?1:0}function Ds(n){return n.type===9?n.expr:[n]}var Cs=Object.create(null);function o(n,e){if(De(e)){let t=Cs[e];if(t===void 0)throw new Error(`${n} references an unknown codicon: ${e}`);e=t}return Cs[n]=e,{id:n}}var As={add:o("add",6e4),plus:o("plus",6e4),gistNew:o("gist-new",6e4),repoCreate:o("repo-create",6e4),lightbulb:o("lightbulb",60001),lightBulb:o("light-bulb",60001),repo:o("repo",60002),repoDelete:o("repo-delete",60002),gistFork:o("gist-fork",60003),repoForked:o("repo-forked",60003),gitPullRequest:o("git-pull-request",60004),gitPullRequestAbandoned:o("git-pull-request-abandoned",60004),recordKeys:o("record-keys",60005),keyboard:o("keyboard",60005),tag:o("tag",60006),gitPullRequestLabel:o("git-pull-request-label",60006),tagAdd:o("tag-add",60006),tagRemove:o("tag-remove",60006),person:o("person",60007),personFollow:o("person-follow",60007),personOutline:o("person-outline",60007),personFilled:o("person-filled",60007),gitBranch:o("git-branch",60008),gitBranchCreate:o("git-branch-create",60008),gitBranchDelete:o("git-branch-delete",60008),sourceControl:o("source-control",60008),mirror:o("mirror",60009),mirrorPublic:o("mirror-public",60009),star:o("star",60010),starAdd:o("star-add",60010),starDelete:o("star-delete",60010),starEmpty:o("star-empty",60010),comment:o("comment",60011),commentAdd:o("comment-add",60011),alert:o("alert",60012),warning:o("warning",60012),search:o("search",60013),searchSave:o("search-save",60013),logOut:o("log-out",60014),signOut:o("sign-out",60014),logIn:o("log-in",60015),signIn:o("sign-in",60015),eye:o("eye",60016),eyeUnwatch:o("eye-unwatch",60016),eyeWatch:o("eye-watch",60016),circleFilled:o("circle-filled",60017),primitiveDot:o("primitive-dot",60017),closeDirty:o("close-dirty",60017),debugBreakpoint:o("debug-breakpoint",60017),debugBreakpointDisabled:o("debug-breakpoint-disabled",60017),debugHint:o("debug-hint",60017),terminalDecorationSuccess:o("terminal-decoration-success",60017),primitiveSquare:o("primitive-square",60018),edit:o("edit",60019),pencil:o("pencil",60019),info:o("info",60020),issueOpened:o("issue-opened",60020),gistPrivate:o("gist-private",60021),gitForkPrivate:o("git-fork-private",60021),lock:o("lock",60021),mirrorPrivate:o("mirror-private",60021),close:o("close",60022),removeClose:o("remove-close",60022),x:o("x",60022),repoSync:o("repo-sync",60023),sync:o("sync",60023),clone:o("clone",60024),desktopDownload:o("desktop-download",60024),beaker:o("beaker",60025),microscope:o("microscope",60025),vm:o("vm",60026),deviceDesktop:o("device-desktop",60026),file:o("file",60027),fileText:o("file-text",60027),more:o("more",60028),ellipsis:o("ellipsis",60028),kebabHorizontal:o("kebab-horizontal",60028),mailReply:o("mail-reply",60029),reply:o("reply",60029),organization:o("organization",60030),organizationFilled:o("organization-filled",60030),organizationOutline:o("organization-outline",60030),newFile:o("new-file",60031),fileAdd:o("file-add",60031),newFolder:o("new-folder",60032),fileDirectoryCreate:o("file-directory-create",60032),trash:o("trash",60033),trashcan:o("trashcan",60033),history:o("history",60034),clock:o("clock",60034),folder:o("folder",60035),fileDirectory:o("file-directory",60035),symbolFolder:o("symbol-folder",60035),logoGithub:o("logo-github",60036),markGithub:o("mark-github",60036),github:o("github",60036),terminal:o("terminal",60037),console:o("console",60037),repl:o("repl",60037),zap:o("zap",60038),symbolEvent:o("symbol-event",60038),error:o("error",60039),stop:o("stop",60039),variable:o("variable",60040),symbolVariable:o("symbol-variable",60040),array:o("array",60042),symbolArray:o("symbol-array",60042),symbolModule:o("symbol-module",60043),symbolPackage:o("symbol-package",60043),symbolNamespace:o("symbol-namespace",60043),symbolObject:o("symbol-object",60043),symbolMethod:o("symbol-method",60044),symbolFunction:o("symbol-function",60044),symbolConstructor:o("symbol-constructor",60044),symbolBoolean:o("symbol-boolean",60047),symbolNull:o("symbol-null",60047),symbolNumeric:o("symbol-numeric",60048),symbolNumber:o("symbol-number",60048),symbolStructure:o("symbol-structure",60049),symbolStruct:o("symbol-struct",60049),symbolParameter:o("symbol-parameter",60050),symbolTypeParameter:o("symbol-type-parameter",60050),symbolKey:o("symbol-key",60051),symbolText:o("symbol-text",60051),symbolReference:o("symbol-reference",60052),goToFile:o("go-to-file",60052),symbolEnum:o("symbol-enum",60053),symbolValue:o("symbol-value",60053),symbolRuler:o("symbol-ruler",60054),symbolUnit:o("symbol-unit",60054),activateBreakpoints:o("activate-breakpoints",60055),archive:o("archive",60056),arrowBoth:o("arrow-both",60057),arrowDown:o("arrow-down",60058),arrowLeft:o("arrow-left",60059),arrowRight:o("arrow-right",60060),arrowSmallDown:o("arrow-small-down",60061),arrowSmallLeft:o("arrow-small-left",60062),arrowSmallRight:o("arrow-small-right",60063),arrowSmallUp:o("arrow-small-up",60064),arrowUp:o("arrow-up",60065),bell:o("bell",60066),bold:o("bold",60067),book:o("book",60068),bookmark:o("bookmark",60069),debugBreakpointConditionalUnverified:o("debug-breakpoint-conditional-unverified",60070),debugBreakpointConditional:o("debug-breakpoint-conditional",60071),debugBreakpointConditionalDisabled:o("debug-breakpoint-conditional-disabled",60071),debugBreakpointDataUnverified:o("debug-breakpoint-data-unverified",60072),debugBreakpointData:o("debug-breakpoint-data",60073),debugBreakpointDataDisabled:o("debug-breakpoint-data-disabled",60073),debugBreakpointLogUnverified:o("debug-breakpoint-log-unverified",60074),debugBreakpointLog:o("debug-breakpoint-log",60075),debugBreakpointLogDisabled:o("debug-breakpoint-log-disabled",60075),briefcase:o("briefcase",60076),broadcast:o("broadcast",60077),browser:o("browser",60078),bug:o("bug",60079),calendar:o("calendar",60080),caseSensitive:o("case-sensitive",60081),check:o("check",60082),checklist:o("checklist",60083),chevronDown:o("chevron-down",60084),chevronLeft:o("chevron-left",60085),chevronRight:o("chevron-right",60086),chevronUp:o("chevron-up",60087),chromeClose:o("chrome-close",60088),chromeMaximize:o("chrome-maximize",60089),chromeMinimize:o("chrome-minimize",60090),chromeRestore:o("chrome-restore",60091),circleOutline:o("circle-outline",60092),circle:o("circle",60092),debugBreakpointUnverified:o("debug-breakpoint-unverified",60092),terminalDecorationIncomplete:o("terminal-decoration-incomplete",60092),circleSlash:o("circle-slash",60093),circuitBoard:o("circuit-board",60094),clearAll:o("clear-all",60095),clippy:o("clippy",60096),closeAll:o("close-all",60097),cloudDownload:o("cloud-download",60098),cloudUpload:o("cloud-upload",60099),code:o("code",60100),collapseAll:o("collapse-all",60101),colorMode:o("color-mode",60102),commentDiscussion:o("comment-discussion",60103),creditCard:o("credit-card",60105),dash:o("dash",60108),dashboard:o("dashboard",60109),database:o("database",60110),debugContinue:o("debug-continue",60111),debugDisconnect:o("debug-disconnect",60112),debugPause:o("debug-pause",60113),debugRestart:o("debug-restart",60114),debugStart:o("debug-start",60115),debugStepInto:o("debug-step-into",60116),debugStepOut:o("debug-step-out",60117),debugStepOver:o("debug-step-over",60118),debugStop:o("debug-stop",60119),debug:o("debug",60120),deviceCameraVideo:o("device-camera-video",60121),deviceCamera:o("device-camera",60122),deviceMobile:o("device-mobile",60123),diffAdded:o("diff-added",60124),diffIgnored:o("diff-ignored",60125),diffModified:o("diff-modified",60126),diffRemoved:o("diff-removed",60127),diffRenamed:o("diff-renamed",60128),diff:o("diff",60129),diffSidebyside:o("diff-sidebyside",60129),discard:o("discard",60130),editorLayout:o("editor-layout",60131),emptyWindow:o("empty-window",60132),exclude:o("exclude",60133),extensions:o("extensions",60134),eyeClosed:o("eye-closed",60135),fileBinary:o("file-binary",60136),fileCode:o("file-code",60137),fileMedia:o("file-media",60138),filePdf:o("file-pdf",60139),fileSubmodule:o("file-submodule",60140),fileSymlinkDirectory:o("file-symlink-directory",60141),fileSymlinkFile:o("file-symlink-file",60142),fileZip:o("file-zip",60143),files:o("files",60144),filter:o("filter",60145),flame:o("flame",60146),foldDown:o("fold-down",60147),foldUp:o("fold-up",60148),fold:o("fold",60149),folderActive:o("folder-active",60150),folderOpened:o("folder-opened",60151),gear:o("gear",60152),gift:o("gift",60153),gistSecret:o("gist-secret",60154),gist:o("gist",60155),gitCommit:o("git-commit",60156),gitCompare:o("git-compare",60157),compareChanges:o("compare-changes",60157),gitMerge:o("git-merge",60158),githubAction:o("github-action",60159),githubAlt:o("github-alt",60160),globe:o("globe",60161),grabber:o("grabber",60162),graph:o("graph",60163),gripper:o("gripper",60164),heart:o("heart",60165),home:o("home",60166),horizontalRule:o("horizontal-rule",60167),hubot:o("hubot",60168),inbox:o("inbox",60169),issueReopened:o("issue-reopened",60171),issues:o("issues",60172),italic:o("italic",60173),jersey:o("jersey",60174),json:o("json",60175),kebabVertical:o("kebab-vertical",60176),key:o("key",60177),law:o("law",60178),lightbulbAutofix:o("lightbulb-autofix",60179),linkExternal:o("link-external",60180),link:o("link",60181),listOrdered:o("list-ordered",60182),listUnordered:o("list-unordered",60183),liveShare:o("live-share",60184),loading:o("loading",60185),location:o("location",60186),mailRead:o("mail-read",60187),mail:o("mail",60188),markdown:o("markdown",60189),megaphone:o("megaphone",60190),mention:o("mention",60191),milestone:o("milestone",60192),gitPullRequestMilestone:o("git-pull-request-milestone",60192),mortarBoard:o("mortar-board",60193),move:o("move",60194),multipleWindows:o("multiple-windows",60195),mute:o("mute",60196),noNewline:o("no-newline",60197),note:o("note",60198),octoface:o("octoface",60199),openPreview:o("open-preview",60200),package:o("package",60201),paintcan:o("paintcan",60202),pin:o("pin",60203),play:o("play",60204),run:o("run",60204),plug:o("plug",60205),preserveCase:o("preserve-case",60206),preview:o("preview",60207),project:o("project",60208),pulse:o("pulse",60209),question:o("question",60210),quote:o("quote",60211),radioTower:o("radio-tower",60212),reactions:o("reactions",60213),references:o("references",60214),refresh:o("refresh",60215),regex:o("regex",60216),remoteExplorer:o("remote-explorer",60217),remote:o("remote",60218),remove:o("remove",60219),replaceAll:o("replace-all",60220),replace:o("replace",60221),repoClone:o("repo-clone",60222),repoForcePush:o("repo-force-push",60223),repoPull:o("repo-pull",60224),repoPush:o("repo-push",60225),report:o("report",60226),requestChanges:o("request-changes",60227),rocket:o("rocket",60228),rootFolderOpened:o("root-folder-opened",60229),rootFolder:o("root-folder",60230),rss:o("rss",60231),ruby:o("ruby",60232),saveAll:o("save-all",60233),saveAs:o("save-as",60234),save:o("save",60235),screenFull:o("screen-full",60236),screenNormal:o("screen-normal",60237),searchStop:o("search-stop",60238),server:o("server",60240),settingsGear:o("settings-gear",60241),settings:o("settings",60242),shield:o("shield",60243),smiley:o("smiley",60244),sortPrecedence:o("sort-precedence",60245),splitHorizontal:o("split-horizontal",60246),splitVertical:o("split-vertical",60247),squirrel:o("squirrel",60248),starFull:o("star-full",60249),starHalf:o("star-half",60250),symbolClass:o("symbol-class",60251),symbolColor:o("symbol-color",60252),symbolConstant:o("symbol-constant",60253),symbolEnumMember:o("symbol-enum-member",60254),symbolField:o("symbol-field",60255),symbolFile:o("symbol-file",60256),symbolInterface:o("symbol-interface",60257),symbolKeyword:o("symbol-keyword",60258),symbolMisc:o("symbol-misc",60259),symbolOperator:o("symbol-operator",60260),symbolProperty:o("symbol-property",60261),wrench:o("wrench",60261),wrenchSubaction:o("wrench-subaction",60261),symbolSnippet:o("symbol-snippet",60262),tasklist:o("tasklist",60263),telescope:o("telescope",60264),textSize:o("text-size",60265),threeBars:o("three-bars",60266),thumbsdown:o("thumbsdown",60267),thumbsup:o("thumbsup",60268),tools:o("tools",60269),triangleDown:o("triangle-down",60270),triangleLeft:o("triangle-left",60271),triangleRight:o("triangle-right",60272),triangleUp:o("triangle-up",60273),twitter:o("twitter",60274),unfold:o("unfold",60275),unlock:o("unlock",60276),unmute:o("unmute",60277),unverified:o("unverified",60278),verified:o("verified",60279),versions:o("versions",60280),vmActive:o("vm-active",60281),vmOutline:o("vm-outline",60282),vmRunning:o("vm-running",60283),watch:o("watch",60284),whitespace:o("whitespace",60285),wholeWord:o("whole-word",60286),window:o("window",60287),wordWrap:o("word-wrap",60288),zoomIn:o("zoom-in",60289),zoomOut:o("zoom-out",60290),listFilter:o("list-filter",60291),listFlat:o("list-flat",60292),listSelection:o("list-selection",60293),selection:o("selection",60293),listTree:o("list-tree",60294),debugBreakpointFunctionUnverified:o("debug-breakpoint-function-unverified",60295),debugBreakpointFunction:o("debug-breakpoint-function",60296),debugBreakpointFunctionDisabled:o("debug-breakpoint-function-disabled",60296),debugStackframeActive:o("debug-stackframe-active",60297),circleSmallFilled:o("circle-small-filled",60298),debugStackframeDot:o("debug-stackframe-dot",60298),terminalDecorationMark:o("terminal-decoration-mark",60298),debugStackframe:o("debug-stackframe",60299),debugStackframeFocused:o("debug-stackframe-focused",60299),debugBreakpointUnsupported:o("debug-breakpoint-unsupported",60300),symbolString:o("symbol-string",60301),debugReverseContinue:o("debug-reverse-continue",60302),debugStepBack:o("debug-step-back",60303),debugRestartFrame:o("debug-restart-frame",60304),debugAlt:o("debug-alt",60305),callIncoming:o("call-incoming",60306),callOutgoing:o("call-outgoing",60307),menu:o("menu",60308),expandAll:o("expand-all",60309),feedback:o("feedback",60310),gitPullRequestReviewer:o("git-pull-request-reviewer",60310),groupByRefType:o("group-by-ref-type",60311),ungroupByRefType:o("ungroup-by-ref-type",60312),account:o("account",60313),gitPullRequestAssignee:o("git-pull-request-assignee",60313),bellDot:o("bell-dot",60314),debugConsole:o("debug-console",60315),library:o("library",60316),output:o("output",60317),runAll:o("run-all",60318),syncIgnored:o("sync-ignored",60319),pinned:o("pinned",60320),githubInverted:o("github-inverted",60321),serverProcess:o("server-process",60322),serverEnvironment:o("server-environment",60323),pass:o("pass",60324),issueClosed:o("issue-closed",60324),stopCircle:o("stop-circle",60325),playCircle:o("play-circle",60326),record:o("record",60327),debugAltSmall:o("debug-alt-small",60328),vmConnect:o("vm-connect",60329),cloud:o("cloud",60330),merge:o("merge",60331),export:o("export",60332),graphLeft:o("graph-left",60333),magnet:o("magnet",60334),notebook:o("notebook",60335),redo:o("redo",60336),checkAll:o("check-all",60337),pinnedDirty:o("pinned-dirty",60338),passFilled:o("pass-filled",60339),circleLargeFilled:o("circle-large-filled",60340),circleLarge:o("circle-large",60341),circleLargeOutline:o("circle-large-outline",60341),combine:o("combine",60342),gather:o("gather",60342),table:o("table",60343),variableGroup:o("variable-group",60344),typeHierarchy:o("type-hierarchy",60345),typeHierarchySub:o("type-hierarchy-sub",60346),typeHierarchySuper:o("type-hierarchy-super",60347),gitPullRequestCreate:o("git-pull-request-create",60348),runAbove:o("run-above",60349),runBelow:o("run-below",60350),notebookTemplate:o("notebook-template",60351),debugRerun:o("debug-rerun",60352),workspaceTrusted:o("workspace-trusted",60353),workspaceUntrusted:o("workspace-untrusted",60354),workspaceUnknown:o("workspace-unknown",60355),terminalCmd:o("terminal-cmd",60356),terminalDebian:o("terminal-debian",60357),terminalLinux:o("terminal-linux",60358),terminalPowershell:o("terminal-powershell",60359),terminalTmux:o("terminal-tmux",60360),terminalUbuntu:o("terminal-ubuntu",60361),terminalBash:o("terminal-bash",60362),arrowSwap:o("arrow-swap",60363),copy:o("copy",60364),personAdd:o("person-add",60365),filterFilled:o("filter-filled",60366),wand:o("wand",60367),debugLineByLine:o("debug-line-by-line",60368),inspect:o("inspect",60369),layers:o("layers",60370),layersDot:o("layers-dot",60371),layersActive:o("layers-active",60372),compass:o("compass",60373),compassDot:o("compass-dot",60374),compassActive:o("compass-active",60375),azure:o("azure",60376),issueDraft:o("issue-draft",60377),gitPullRequestClosed:o("git-pull-request-closed",60378),gitPullRequestDraft:o("git-pull-request-draft",60379),debugAll:o("debug-all",60380),debugCoverage:o("debug-coverage",60381),runErrors:o("run-errors",60382),folderLibrary:o("folder-library",60383),debugContinueSmall:o("debug-continue-small",60384),beakerStop:o("beaker-stop",60385),graphLine:o("graph-line",60386),graphScatter:o("graph-scatter",60387),pieChart:o("pie-chart",60388),bracket:o("bracket",60175),bracketDot:o("bracket-dot",60389),bracketError:o("bracket-error",60390),lockSmall:o("lock-small",60391),azureDevops:o("azure-devops",60392),verifiedFilled:o("verified-filled",60393),newline:o("newline",60394),layout:o("layout",60395),layoutActivitybarLeft:o("layout-activitybar-left",60396),layoutActivitybarRight:o("layout-activitybar-right",60397),layoutPanelLeft:o("layout-panel-left",60398),layoutPanelCenter:o("layout-panel-center",60399),layoutPanelJustify:o("layout-panel-justify",60400),layoutPanelRight:o("layout-panel-right",60401),layoutPanel:o("layout-panel",60402),layoutSidebarLeft:o("layout-sidebar-left",60403),layoutSidebarRight:o("layout-sidebar-right",60404),layoutStatusbar:o("layout-statusbar",60405),layoutMenubar:o("layout-menubar",60406),layoutCentered:o("layout-centered",60407),target:o("target",60408),indent:o("indent",60409),recordSmall:o("record-small",60410),errorSmall:o("error-small",60411),terminalDecorationError:o("terminal-decoration-error",60411),arrowCircleDown:o("arrow-circle-down",60412),arrowCircleLeft:o("arrow-circle-left",60413),arrowCircleRight:o("arrow-circle-right",60414),arrowCircleUp:o("arrow-circle-up",60415),layoutSidebarRightOff:o("layout-sidebar-right-off",60416),layoutPanelOff:o("layout-panel-off",60417),layoutSidebarLeftOff:o("layout-sidebar-left-off",60418),blank:o("blank",60419),heartFilled:o("heart-filled",60420),map:o("map",60421),mapHorizontal:o("map-horizontal",60421),foldHorizontal:o("fold-horizontal",60421),mapFilled:o("map-filled",60422),mapHorizontalFilled:o("map-horizontal-filled",60422),foldHorizontalFilled:o("fold-horizontal-filled",60422),circleSmall:o("circle-small",60423),bellSlash:o("bell-slash",60424),bellSlashDot:o("bell-slash-dot",60425),commentUnresolved:o("comment-unresolved",60426),gitPullRequestGoToChanges:o("git-pull-request-go-to-changes",60427),gitPullRequestNewChanges:o("git-pull-request-new-changes",60428),searchFuzzy:o("search-fuzzy",60429),commentDraft:o("comment-draft",60430),send:o("send",60431),sparkle:o("sparkle",60432),insert:o("insert",60433),mic:o("mic",60434),thumbsdownFilled:o("thumbsdown-filled",60435),thumbsupFilled:o("thumbsup-filled",60436),coffee:o("coffee",60437),snake:o("snake",60438),game:o("game",60439),vr:o("vr",60440),chip:o("chip",60441),piano:o("piano",60442),music:o("music",60443),micFilled:o("mic-filled",60444),repoFetch:o("repo-fetch",60445),copilot:o("copilot",60446),lightbulbSparkle:o("lightbulb-sparkle",60447),robot:o("robot",60448),sparkleFilled:o("sparkle-filled",60449),diffSingle:o("diff-single",60450),diffMultiple:o("diff-multiple",60451),surroundWith:o("surround-with",60452),share:o("share",60453),gitStash:o("git-stash",60454),gitStashApply:o("git-stash-apply",60455),gitStashPop:o("git-stash-pop",60456),vscode:o("vscode",60457),vscodeInsiders:o("vscode-insiders",60458),codeOss:o("code-oss",60459),runCoverage:o("run-coverage",60460),runAllCoverage:o("run-all-coverage",60461),coverage:o("coverage",60462),githubProject:o("github-project",60463),mapVertical:o("map-vertical",60464),foldVertical:o("fold-vertical",60464),mapVerticalFilled:o("map-vertical-filled",60465),foldVerticalFilled:o("fold-vertical-filled",60465),goToSearch:o("go-to-search",60466),percentage:o("percentage",60467),sortPercentage:o("sort-percentage",60467),attach:o("attach",60468)};var ju={dialogError:o("dialog-error","error"),dialogWarning:o("dialog-warning","warning"),dialogInfo:o("dialog-info","info"),dialogClose:o("dialog-close","close"),treeItemExpanded:o("tree-item-expanded","chevron-down"),treeFilterOnTypeOn:o("tree-filter-on-type-on","list-filter"),treeFilterOnTypeOff:o("tree-filter-on-type-off","list-selection"),treeFilterClear:o("tree-filter-clear","close"),treeItemLoading:o("tree-item-loading","loading"),menuSelection:o("menu-selection","check"),menuSubmenu:o("menu-submenu","chevron-right"),menuBarMore:o("menubar-more","more"),scrollbarButtonLeft:o("scrollbar-button-left","triangle-left"),scrollbarButtonRight:o("scrollbar-button-right","triangle-right"),scrollbarButtonUp:o("scrollbar-button-up","triangle-up"),scrollbarButtonDown:o("scrollbar-button-down","triangle-down"),toolBarMore:o("toolbar-more","more"),quickInputBack:o("quick-input-back","arrow-left"),dropDownButton:o("drop-down-button",60084),symbolCustomColor:o("symbol-customcolor",60252),exportIcon:o("export",60332),workspaceUnspecified:o("workspace-unspecified",60355),newLine:o("newline",60394),thumbsDownFilled:o("thumbsdown-filled",60435),thumbsUpFilled:o("thumbsup-filled",60436),gitFetch:o("git-fetch",60445),lightbulbSparkleAutofix:o("lightbulb-sparkle-autofix",60447),debugBreakpointPending:o("debug-breakpoint-pending",60377)},Ls={...As,...ju};var Ps;(e=>{function n(t){return t&&typeof t=="object"&&typeof t.id=="string"}e.isThemeColor=n})(Ps||={});var zu;(N=>{N.iconNameSegment="[A-Za-z0-9]+",N.iconNameExpression="[A-Za-z0-9-]+",N.iconModifierExpression="~[A-Za-z]+",N.iconNameCharacter="[A-Za-z0-9~-]";let i=new RegExp(`^(${N.iconNameExpression})(${N.iconModifierExpression})?$`);function s(w){let E=i.exec(w.id);if(!E)return s(Ls.error);let[,U,C]=E,g=["codicon","codicon-"+U];return C&&g.push("codicon-modifier-"+C.substring(1)),g}N.asClassNameArray=s;function a(w){return s(w).join(" ")}N.asClassName=a;function l(w){return"."+s(w).join(".")}N.asCSSSelector=l;function c(w){return w&&typeof w=="object"&&typeof w.id=="string"&&(typeof w.color>"u"||Ps.isThemeColor(w.color))}N.isThemeIcon=c;let u=new RegExp(`^\\$\\((${N.iconNameExpression}(?:${N.iconModifierExpression})?)\\)$`);function d(w){let E=u.exec(w);if(!E)return;let[,U]=E;return{id:U}}N.fromString=d;function f(w){return{id:w}}N.fromId=f;function p(w,E){let U=w.id,C=U.lastIndexOf("~");return C!==-1&&(U=U.substring(0,C)),E&&(U=`${U}~${E}`),{id:U}}N.modify=p;function T(w){let E=w.id.lastIndexOf("~");if(E!==-1)return w.id.substring(E+1)}N.getModifier=T;function A(w,E){return w.id===E.id&&w.color?.id===E.color?.id}N.isEqual=A})(zu||={});var Qm=Object.freeze({View:Je("view","View"),Help:Je("help","Help"),Test:Je("test","Test"),File:Je("file","File"),Preferences:Je("preferences","Preferences"),Developer:Je({key:"developer",comment:["A developer on Code itself or someone diagnosing issues in Code"]},"Developer")});function Us(n){let e=!1,t=new Map,r=new Map;if(Hu(n,d=>{if(n===d)return!0;let f=JSON.stringify(d);if(f.length<30)return!0;let p=t.get(f);if(!p){let T={schemas:[d]};return t.set(f,T),r.set(d,T),!0}return p.schemas.push(d),r.set(d,p),e=!0,!1}),t.clear(),!e)return JSON.stringify(n);let s="$defs";for(;n.hasOwnProperty(s);)s+="_";let a=[];function l(d){return JSON.stringify(d,(f,p)=>{if(p!==d){let T=r.get(p);if(T&&T.schemas.length>1)return T.id||(T.id=`_${a.length}`,a.push(T.schemas[0])),{$ref:`#/${s}/${T.id}`}}return p})}let c=l(n),u=[];for(let d=0;d<a.length;d++)u.push(`"_${d}":${l(a[d])}`);return u.length?`${c.substring(0,c.length-1)},"${s}":{${u.join(",")}}}`:c}function Et(n){return typeof n=="object"&&n!==null}function Hu(n,e){if(!n||typeof n!="object")return;let t=(...c)=>{for(let u of c)Et(u)&&a.push(u)},r=(...c)=>{for(let u of c)if(Et(u))for(let d in u){let f=u[d];Et(f)&&a.push(f)}},i=(...c)=>{for(let u of c)if(Array.isArray(u))for(let d of u)Et(d)&&a.push(d)},s=c=>{if(Array.isArray(c))for(let u of c)Et(u)&&a.push(u);else Et(c)&&a.push(c)},a=[n],l=a.pop();for(;l;)e(l)&&(t(l.additionalItems,l.additionalProperties,l.not,l.contains,l.propertyNames,l.if,l.then,l.else,l.unevaluatedItems,l.unevaluatedProperties),r(l.definitions,l.$defs,l.properties,l.patternProperties,l.dependencies,l.dependentSchemas),i(l.anyOf,l.allOf,l.oneOf,l.prefixItems),s(l.items)),l=a.pop()}var Gu=Q("commandService"),Ns=new class{_commands=new Map;_onDidRegisterCommand=new V;onDidRegisterCommand=this._onDidRegisterCommand.event;registerCommand(n,e){if(!n)throw new Error("invalid command");if(typeof n=="string"){if(!e)throw new Error("invalid command");return this.registerCommand({id:n,handler:e})}if(n.metadata&&Array.isArray(n.metadata.args)){let a=[];for(let c of n.metadata.args)a.push(c.constraint);let l=n.handler;n.handler=function(c,...u){return Wo(u,a),l(c,...u)}}let{id:t}=n,r=this._commands.get(t);r||(r=new Wt,this._commands.set(t,r));let i=r.unshift(n),s=xe(()=>{i(),this._commands.get(t)?.isEmpty()&&this._commands.delete(t)});return this._onDidRegisterCommand.fire(t),s}registerCommandAlias(n,e){return Ns.registerCommand(n,(t,...r)=>t.get(Gu).executeCommand(e,...r))}getCommand(n){let e=this._commands.get(n);if(!(!e||e.isEmpty()))return pt.first(e)}getCommands(){let n=new Map;for(let e of this._commands.keys()){let t=this.getCommand(e);t&&n.set(e,t)}return n}};Ns.registerCommand("noop",()=>{});var Fs=Q("logService"),H2=Q("loggerService");function Ju(n){switch(n){case 1:return"trace";case 2:return"debug";case 3:return"info";case 4:return"warn";case 5:return"error";case 0:return"off"}}var G2=new Zn("logLevel",Ju(3));function Ks(n,e,t){return Math.min(Math.max(n,e),t)}var Ti;async function Ms(n,e,t,r){return t["force-disable-user-env"]?(e.trace("resolveShellEnv(): skipped (--force-disable-user-env)"),{}):M?(e.trace("resolveShellEnv(): skipped (Windows)"),{}):mi(r)&&!t["force-user-env"]?(e.trace("resolveShellEnv(): skipped (VSCODE_CLI is set)"),{}):(mi(r)?e.trace("resolveShellEnv(): running (--force-user-env)"):e.trace("resolveShellEnv(): running (macOS/Linux)"),Ti||(Ti=Yt.withAsyncBody(async(i,s)=>{let a=new qe,l=1e4,c=n.getValue("application.shellEnvironmentResolutionTimeout");typeof c=="number"&&(l=Ks(c,1,120)*1e3);let u=setTimeout(()=>{a.dispose(!0),s(new Error(h("resolveShellEnvTimeout","Unable to resolve your shell environment in a reasonable time. Please review your shell configuration and restart.")))},l);try{i(await Yu(e,a.token))}catch(d){!Ir(d)&&!a.token.isCancellationRequested?s(new Error(h("resolveShellEnvError","Unable to resolve your shell environment: {0}",Tt(d)))):i({})}finally{clearTimeout(u),a.dispose()}})),Ti)}async function Yu(n,e){let t=process.env.ELECTRON_RUN_AS_NODE;n.trace("getUnixShellEnvironment#runAsNode",t);let r=process.env.ELECTRON_NO_ATTACH_CONSOLE;n.trace("getUnixShellEnvironment#noAttach",r);let i=ss().replace(/-/g,"").substr(0,12),s=new RegExp(i+"({.*})"+i),a={...process.env,ELECTRON_RUN_AS_NODE:"1",ELECTRON_NO_ATTACH_CONSOLE:"1",VSCODE_RESOLVING_ENVIRONMENT:"1"};n.trace("getUnixShellEnvironment#env",a);let l=await xs(eo,a);return n.trace("getUnixShellEnvironment#shell",l),new Promise((c,u)=>{if(e.isCancellationRequested)return u(new se);let d=Cr(l),f,p,T="";/^pwsh(-preview)?$/.test(d)?(f=`& '${process.execPath}' ${T} -p '''${i}'' + JSON.stringify(process.env) + ''${i}'''`,p=["-Login","-Command"]):d==="nu"?(f=`^'${process.execPath}' ${T} -p '"${i}" + JSON.stringify(process.env) + "${i}"'`,p=["-i","-l","-c"]):d==="xonsh"?(f=`import os, json; print("${i}", json.dumps(dict(os.environ)), "${i}")`,p=["-i","-l","-c"]):(f=`'${process.execPath}' ${T} -p '"${i}" + JSON.stringify(process.env) + "${i}"'`,d==="tcsh"||d==="csh"?p=["-ic"]:p=["-i","-l","-c"]),n.trace("getUnixShellEnvironment#spawn",JSON.stringify(p),f);let A=Qu(l,[...p,f],{detached:!0,stdio:["ignore","pipe","pipe"],env:a});e.onCancellationRequested(()=>(A.kill(),u(new se))),A.on("error",E=>{n.error("getUnixShellEnvironment#errorChildProcess",Tt(E)),u(E)});let N=[];A.stdout.on("data",E=>N.push(E));let w=[];A.stderr.on("data",E=>w.push(E)),A.on("close",(E,U)=>{let C=Buffer.concat(N).toString("utf8");n.trace("getUnixShellEnvironment#raw",C);let g=Buffer.concat(w).toString("utf8");if(g.trim()&&n.trace("getUnixShellEnvironment#stderr",g),E||U)return u(new Error(h("resolveShellEnvExitError","Unexpected exit code from spawned shell (code {0}, signal {1})",E,U)));let I=s.exec(C),S=I?I[1]:"{}";try{let x=JSON.parse(S);t?x.ELECTRON_RUN_AS_NODE=t:delete x.ELECTRON_RUN_AS_NODE,r?x.ELECTRON_NO_ATTACH_CONSOLE=r:delete x.ELECTRON_NO_ATTACH_CONSOLE,delete x.VSCODE_RESOLVING_ENVIRONMENT,delete x.XDG_RUNTIME_DIR,n.trace("getUnixShellEnvironment#result",x),c(x)}catch(x){n.error("getUnixShellEnvironment#errorCaught",Tt(x)),u(x)}})})}var Ii=class{data=new Map;add(e,t){On(De(e)),On(ke(t)),On(!this.data.has(e),"There is already an extension with this id"),this.data.set(e,t)}knows(e){return this.data.has(e)}as(e){return this.data.get(e)||null}},rt=new Ii;var Ei={JSONContribution:"base.contributions.json"};function Zu(n){return n.length>0&&n.charAt(n.length-1)==="#"?n.substring(0,n.length-1):n}var _i=class{schemasById;_onDidChangeSchema=new V;onDidChangeSchema=this._onDidChangeSchema.event;constructor(){this.schemasById={}}registerSchema(e,t){this.schemasById[Zu(e)]=t,this._onDidChangeSchema.fire(e)}notifySchemaChanged(e){this._onDidChangeSchema.fire(e)}getSchemaContributions(){return{schemas:this.schemasById}}getSchemaContent(e){let t=this.schemasById[e];return t?Us(t):void 0}hasSchemaContent(e){return!!this.schemasById[e]}},ec=new _i;rt.add(Ei.JSONContribution,ec);var Rb=Q("policy");var Si={Configuration:"base.contributions.configuration"};var tr={properties:{},patternProperties:{}},nr={properties:{},patternProperties:{}},rr={properties:{},patternProperties:{}},ir={properties:{},patternProperties:{}},or={properties:{},patternProperties:{}},fn={properties:{},patternProperties:{}},it="vscode://schemas/settings/resourceLanguage";var sr=rt.as(Ei.JSONContribution),wi=class{registeredConfigurationDefaults=[];configurationDefaultsOverrides;defaultLanguageConfigurationOverridesNode;configurationContributors;configurationProperties;policyConfigurations;excludedConfigurationProperties;resourceLanguageSettingsSchema;overrideIdentifiers=new Set;_onDidSchemaChange=new V;onDidSchemaChange=this._onDidSchemaChange.event;_onDidUpdateConfiguration=new V;onDidUpdateConfiguration=this._onDidUpdateConfiguration.event;constructor(){this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:h("defaultLanguageConfigurationOverrides.title","Default Language Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!0,allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.policyConfigurations=new Map,this.excludedConfigurationProperties={},sr.registerSchema(it,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}registerConfiguration(e,t=!0){this.registerConfigurations([e],t)}registerConfigurations(e,t=!0){let r=new Set;this.doRegisterConfigurations(e,t,r),sr.registerSchema(it,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:r})}deregisterConfigurations(e){let t=new Set;this.doDeregisterConfigurations(e,t),sr.registerSchema(it,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:t})}updateConfigurations({add:e,remove:t}){let r=new Set;this.doDeregisterConfigurations(t,r),this.doRegisterConfigurations(e,!1,r),sr.registerSchema(it,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:r})}registerDefaultConfigurations(e){let t=new Set;this.doRegisterDefaultConfigurations(e,t),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:t,defaultsOverrides:!0})}doRegisterDefaultConfigurations(e,t){this.registeredConfigurationDefaults.push(...e);let r=[];for(let{overrides:i,source:s}of e)for(let a in i){t.add(a);let l=this.configurationDefaultsOverrides.get(a)??this.configurationDefaultsOverrides.set(a,{configurationDefaultOverrides:[]}).get(a),c=i[a];if(l.configurationDefaultOverrides.push({value:c,source:s}),pn.test(a)){let u=this.mergeDefaultConfigurationsForOverrideIdentifier(a,c,s,l.configurationDefaultOverrideValue);if(!u)continue;l.configurationDefaultOverrideValue=u,this.updateDefaultOverrideProperty(a,u,s),r.push(...tc(a))}else{let u=this.mergeDefaultConfigurationsForConfigurationProperty(a,c,s,l.configurationDefaultOverrideValue);if(!u)continue;l.configurationDefaultOverrideValue=u;let d=this.configurationProperties[a];d&&(this.updatePropertyDefaultValue(a,d),this.updateSchema(a,d))}}this.doRegisterOverrideIdentifiers(r)}deregisterDefaultConfigurations(e){let t=new Set;this.doDeregisterDefaultConfigurations(e,t),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:t,defaultsOverrides:!0})}doDeregisterDefaultConfigurations(e,t){for(let r of e){let i=this.registeredConfigurationDefaults.indexOf(r);i!==-1&&this.registeredConfigurationDefaults.splice(i,1)}for(let{overrides:r,source:i}of e)for(let s in r){let a=this.configurationDefaultsOverrides.get(s);if(!a)continue;let l=a.configurationDefaultOverrides.findIndex(c=>i?c.source?.id===i.id:c.value===r[s]);if(l!==-1){if(a.configurationDefaultOverrides.splice(l,1),a.configurationDefaultOverrides.length===0&&this.configurationDefaultsOverrides.delete(s),pn.test(s)){let c;for(let u of a.configurationDefaultOverrides)c=this.mergeDefaultConfigurationsForOverrideIdentifier(s,u.value,u.source,c);c&&!Bo(c.value)?(a.configurationDefaultOverrideValue=c,this.updateDefaultOverrideProperty(s,c,i)):(this.configurationDefaultsOverrides.delete(s),delete this.configurationProperties[s],delete this.defaultLanguageConfigurationOverridesNode.properties[s])}else{let c;for(let d of a.configurationDefaultOverrides)c=this.mergeDefaultConfigurationsForConfigurationProperty(s,d.value,d.source,c);a.configurationDefaultOverrideValue=c;let u=this.configurationProperties[s];u&&(this.updatePropertyDefaultValue(s,u),this.updateSchema(s,u))}t.add(s)}}this.updateOverridePropertyPatternKey()}updateDefaultOverrideProperty(e,t,r){let i={type:"object",default:t.value,description:h("defaultLanguageConfiguration.description","Configure settings to be overridden for the {0} language.",rs(e)),$ref:it,defaultDefaultValue:t.value,source:r,defaultValueSource:r};this.configurationProperties[e]=i,this.defaultLanguageConfigurationOverridesNode.properties[e]=i}mergeDefaultConfigurationsForOverrideIdentifier(e,t,r,i){let s=i?.value||{},a=i?.source??new Map;if(!(a instanceof Map)){console.error("objectConfigurationSources is not a Map");return}for(let l of Object.keys(t)){let c=t[l];if(ke(c)&&(xt(s[l])||ke(s[l]))){if(s[l]={...s[l]??{},...c},r)for(let d in c)a.set(`${l}.${d}`,r)}else s[l]=c,r?a.set(l,r):a.delete(l)}return{value:s,source:a}}mergeDefaultConfigurationsForConfigurationProperty(e,t,r,i){let s=this.configurationProperties[e],a=i?.value??s?.defaultDefaultValue,l=r;if(ke(t)&&(s!==void 0&&s.type==="object"||s===void 0&&(xt(a)||ke(a)))){if(l=i?.source??new Map,!(l instanceof Map)){console.error("defaultValueSource is not a Map");return}for(let u in t)r&&l.set(`${e}.${u}`,r);t={...ke(a)?a:{},...t}}return{value:t,source:l}}deltaConfiguration(e){let t=!1,r=new Set;e.removedDefaults&&(this.doDeregisterDefaultConfigurations(e.removedDefaults,r),t=!0),e.addedDefaults&&(this.doRegisterDefaultConfigurations(e.addedDefaults,r),t=!0),e.removedConfigurations&&this.doDeregisterConfigurations(e.removedConfigurations,r),e.addedConfigurations&&this.doRegisterConfigurations(e.addedConfigurations,!1,r),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:r,defaultsOverrides:t})}notifyConfigurationSchemaUpdated(...e){this._onDidSchemaChange.fire()}registerOverrideIdentifiers(e){this.doRegisterOverrideIdentifiers(e),this._onDidSchemaChange.fire()}doRegisterOverrideIdentifiers(e){for(let t of e)this.overrideIdentifiers.add(t);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(e,t,r){e.forEach(i=>{this.validateAndRegisterProperties(i,t,i.extensionInfo,i.restrictedProperties,void 0,r),this.configurationContributors.push(i),this.registerJSONConfiguration(i)})}doDeregisterConfigurations(e,t){let r=i=>{if(i.properties)for(let s in i.properties){t.add(s);let a=this.configurationProperties[s];a?.policy?.name&&this.policyConfigurations.delete(a.policy.name),delete this.configurationProperties[s],this.removeFromSchema(s,i.properties[s])}i.allOf?.forEach(s=>r(s))};for(let i of e){r(i);let s=this.configurationContributors.indexOf(i);s!==-1&&this.configurationContributors.splice(s,1)}}validateAndRegisterProperties(e,t=!0,r,i,s=3,a){s=Ht(e.scope)?s:e.scope;let l=e.properties;if(l)for(let u in l){let d=l[u];if(t&&rc(u,d)){delete l[u];continue}if(d.source=r,d.defaultDefaultValue=l[u].default,this.updatePropertyDefaultValue(u,d),pn.test(u)?d.scope=void 0:(d.scope=Ht(d.scope)?s:d.scope,d.restricted=Ht(d.restricted)?!!i?.includes(u):d.restricted),l[u].hasOwnProperty("included")&&!l[u].included){this.excludedConfigurationProperties[u]=l[u],delete l[u];continue}else this.configurationProperties[u]=l[u],l[u].policy?.name&&this.policyConfigurations.set(l[u].policy.name,u);!l[u].deprecationMessage&&l[u].markdownDeprecationMessage&&(l[u].deprecationMessage=l[u].markdownDeprecationMessage),a.add(u)}let c=e.allOf;if(c)for(let u of c)this.validateAndRegisterProperties(u,t,r,i,s,a)}getConfigurations(){return this.configurationContributors}getConfigurationProperties(){return this.configurationProperties}getPolicyConfigurations(){return this.policyConfigurations}getExcludedConfigurationProperties(){return this.excludedConfigurationProperties}getRegisteredDefaultConfigurations(){return[...this.registeredConfigurationDefaults]}getConfigurationDefaultsOverrides(){let e=new Map;for(let[t,r]of this.configurationDefaultsOverrides)r.configurationDefaultOverrideValue&&e.set(t,r.configurationDefaultOverrideValue);return e}registerJSONConfiguration(e){let t=r=>{let i=r.properties;if(i)for(let a in i)this.updateSchema(a,i[a]);r.allOf?.forEach(t)};t(e)}updateSchema(e,t){switch(tr.properties[e]=t,t.scope){case 1:nr.properties[e]=t;break;case 2:rr.properties[e]=t;break;case 6:ir.properties[e]=t;break;case 3:or.properties[e]=t;break;case 4:fn.properties[e]=t;break;case 5:fn.properties[e]=t,this.resourceLanguageSettingsSchema.properties[e]=t;break}}removeFromSchema(e,t){switch(delete tr.properties[e],t.scope){case 1:delete nr.properties[e];break;case 2:delete rr.properties[e];break;case 6:delete ir.properties[e];break;case 3:delete or.properties[e];break;case 4:case 5:delete fn.properties[e],delete this.resourceLanguageSettingsSchema.properties[e];break}}updateOverridePropertyPatternKey(){for(let e of this.overrideIdentifiers.values()){let t=`[${e}]`,r={type:"object",description:h("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:h("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:it};this.updatePropertyDefaultValue(t,r),tr.properties[t]=r,nr.properties[t]=r,rr.properties[t]=r,ir.properties[t]=r,or.properties[t]=r,fn.properties[t]=r}}registerOverridePropertyPatternKey(){let e={type:"object",description:h("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:h("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:it};tr.patternProperties[ot]=e,nr.patternProperties[ot]=e,rr.patternProperties[ot]=e,ir.patternProperties[ot]=e,or.patternProperties[ot]=e,fn.patternProperties[ot]=e,this._onDidSchemaChange.fire()}updatePropertyDefaultValue(e,t){let r=this.configurationDefaultsOverrides.get(e)?.configurationDefaultOverrideValue,i,s;r&&(!t.disallowConfigurationDefault||!r.source)&&(i=r.value,s=r.source),xt(i)&&(i=t.defaultDefaultValue,s=void 0),xt(i)&&(i=nc(t.type)),t.default=i,t.defaultValueSource=s}},Bs="\\[([^\\]]+)\\]",Vs=new RegExp(Bs,"g"),ot=`^(${Bs})+$`,pn=new RegExp(ot);function tc(n){let e=[];if(pn.test(n)){let t=Vs.exec(n);for(;t?.length;){let r=t[1].trim();r&&e.push(r),t=Vs.exec(n)}}return qi(e)}function nc(n){switch(Array.isArray(n)?n[0]:n){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}var ar=new wi;rt.add(Si.Configuration,ar);function rc(n,e){return n.trim()?pn.test(n)?h("config.property.languageDefault","Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",n):ar.getConfigurationProperties()[n]!==void 0?h("config.property.duplicate","Cannot register '{0}'. This property is already registered.",n):e.policy?.name&&ar.getPolicyConfigurations().get(e.policy?.name)!==void 0?h("config.policy.duplicate","Cannot register '{0}'. The associated policy {1} is already registered with {2}.",n,e.policy?.name,ar.getPolicyConfigurations().get(e.policy?.name)):null:h("config.property.empty","Cannot register an empty property")}var l4=Q("requestService"),Di=class{constructor(e){this.original=e}headers;toJSON(){if(!this.headers){let e=Object.create(null);for(let t in this.original)t.toLowerCase()==="authorization"||t.toLowerCase()==="proxy-authorization"?e[t]="*****":e[t]=this.original[t];this.headers=e}return this.headers}},lr=class extends ue{constructor(t){super();this.logService=t}counter=0;async logAndRequest(t,r){let i=`[network] #${++this.counter}: ${t.url}`;this.logService.trace(`${i} - begin`,t.type,new Di(t.headers??{}));try{let s=await r();return this.logService.trace(`${i} - end`,t.type,s.res.statusCode,s.res.headers),s}catch(s){throw this.logService.error(`${i} - error`,t.type,vn(s)),s}}};var Ri;function ic(n){let e=rt.as(Si.Configuration),t=Ri;Ri={id:"http",order:15,title:h("httpConfigurationTitle","HTTP"),type:"object",scope:n,properties:{"http.proxy":{type:"string",pattern:"^(https?|socks|socks4a?|socks5h?)://([^:]*(:[^@]*)?@)?([^:]+|\\[[:0-9a-fA-F]+\\])(:\\d+)?/?$|^$",markdownDescription:h("proxy","The proxy setting to use. If not set, will be inherited from the `http_proxy` and `https_proxy` environment variables."),restricted:!0},"http.proxyStrictSSL":{type:"boolean",default:!0,description:h("strictSSL","Controls whether the proxy server certificate should be verified against the list of supplied CAs."),restricted:!0},"http.proxyKerberosServicePrincipal":{type:"string",markdownDescription:h("proxyKerberosServicePrincipal","Overrides the principal service name for Kerberos authentication with the HTTP proxy. A default based on the proxy hostname is used when this is not set."),restricted:!0},"http.noProxy":{type:"array",items:{type:"string"},markdownDescription:h("noProxy","Specifies domain names for which proxy settings should be ignored for HTTP/HTTPS requests."),restricted:!0},"http.proxyAuthorization":{type:["null","string"],default:null,markdownDescription:h("proxyAuthorization","The value to send as the `Proxy-Authorization` header for every network request."),restricted:!0},"http.proxySupport":{type:"string",enum:["off","on","fallback","override"],enumDescriptions:[h("proxySupportOff","Disable proxy support for extensions."),h("proxySupportOn","Enable proxy support for extensions."),h("proxySupportFallback","Enable proxy support for extensions, fall back to request options, when no proxy found."),h("proxySupportOverride","Enable proxy support for extensions, override request options.")],default:"override",description:h("proxySupport","Use the proxy support for extensions."),restricted:!0},"http.systemCertificates":{type:"boolean",default:!0,description:h("systemCertificates","Controls whether CA certificates should be loaded from the OS. (On Windows and macOS, a reload of the window is required after turning this off.)"),restricted:!0},"http.experimental.systemCertificatesV2":{type:"boolean",tags:["experimental"],default:!1,description:h("systemCertificatesV2","Controls whether experimental loading of CA certificates from the OS should be enabled. This uses a more general approach than the default implemenation."),restricted:!0}}},e.updateConfigurations({add:[Ri],remove:t?[t]:[]})}ic(1);import{parse as pa}from"url";function id(n,e){return n.protocol==="http:"?e.HTTP_PROXY||e.http_proxy||null:n.protocol==="https:"&&(e.HTTPS_PROXY||e.https_proxy||e.HTTP_PROXY||e.http_proxy)||null}async function ga(n,e,t={}){let r=pa(n),i=t.proxyUrl||id(r,e);if(!i)return null;let s=pa(i);if(!/^https?:$/.test(s.protocol||""))return null;let a={host:s.hostname||"",port:(s.port?+s.port:0)||(s.protocol==="https"?443:80),auth:s.auth,rejectUnauthorized:$n(t.strictSSL)?t.strictSSL:!0};if(r.protocol==="http:"){let{default:l}=await Promise.resolve().then(()=>vr(sa()));return new l.HttpProxyAgent(i,a)}else{let{default:l}=await Promise.resolve().then(()=>vr(fa()));return new l.HttpsProxyAgent(i,a)}}import{createGunzip as od}from"zlib";var br=class extends lr{constructor(t,r,i){super(i);this.configurationService=t;this.environmentService=r;this.configure(),this._register(t.onDidChangeConfiguration(s=>{s.affectsConfiguration("http")&&this.configure()}))}proxyUrl;strictSSL;authorization;shellEnvErrorLogged;configure(){let t=this.configurationService.getValue("http");this.proxyUrl=t?.proxy,this.strictSSL=!!t?.proxyStrictSSL,this.authorization=t?.proxyAuthorization}async request(t,r){let{proxyUrl:i,strictSSL:s}=this,a;try{a=await Ms(this.configurationService,this.logService,this.environmentService.args,process.env)}catch(u){this.shellEnvErrorLogged||(this.shellEnvErrorLogged=!0,this.logService.error("resolving shell environment failed",vn(u)))}let l={...process.env,...a},c=t.agent?t.agent:await ga(t.url||"",l,{proxyUrl:i,strictSSL:s});return t.agent=c,t.strictSSL=s,this.authorization&&(t.headers={...t.headers||{},"Proxy-Authorization":this.authorization}),this.logAndRequest(t,()=>ma(t,r))}async resolveProxy(t){}async lookupAuthorization(t){}async lookupKerberosAuthorization(t){try{let r=await import("kerberos"),i=new URL(t),s=this.configurationService.getValue("http.proxyKerberosServicePrincipal")||(process.platform==="win32"?`HTTP/${i.hostname}`:`HTTP@${i.hostname}`);return this.logService.debug("RequestService#lookupKerberosAuthorization Kerberos authentication lookup",`proxyURL:${i}`,`spn:${s}`),"Negotiate "+await(await r.initializeClient(s)).step("")}catch(r){this.logService.debug("RequestService#lookupKerberosAuthorization Kerberos authentication failed",r);return}}async loadCertificates(){return(await import("@vscode/proxy-agent")).loadSystemCertificates({log:this.logService})}};br=Ki([bn(0,ns),bn(1,es),bn(2,Fs)],br);async function sd(n){return(ha(n.url).protocol==="https:"?await import("https"):await import("http")).request}async function ma(n,e){return Yt.withAsyncBody(async(t,r)=>{let i=ha(n.url),s=n.getRawRequest?n.getRawRequest(n):await sd(n),a={hostname:i.hostname,port:i.port?parseInt(i.port):i.protocol==="https:"?443:80,protocol:i.protocol,path:i.path,method:n.type||"GET",headers:n.headers,agent:n.agent,rejectUnauthorized:$n(n.strictSSL)?n.strictSSL:!0};n.user&&n.password&&(a.auth=n.user+":"+n.password);let l=s(a,c=>{let u=qn(n.followRedirects)?n.followRedirects:3;if(c.statusCode&&c.statusCode>=300&&c.statusCode<400&&u>0&&c.headers.location)ma({...n,url:c.headers.location,followRedirects:u-1},e).then(t,r);else{let d=c;!n.isChromiumNetwork&&c.headers["content-encoding"]==="gzip"&&(d=c.pipe(od())),t({res:c,stream:Zo(d)})}});l.on("error",r),n.timeout&&l.setTimeout(n.timeout),n.isChromiumNetwork&&l.removeHeader("Content-Length"),n.data&&typeof n.data=="string"&&l.write(n.data),l.end(),e.onCancellationRequested(()=>{l.abort(),r(new se)})})}export{br as RequestService,ma as nodeRequest};
