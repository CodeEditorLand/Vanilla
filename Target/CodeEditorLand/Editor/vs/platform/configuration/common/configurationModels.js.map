{
  "version": 3,
  "sources": ["../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/platform/configuration/common/configurationModels.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as arrays from \"../../../base/common/arrays.js\";\nimport type { IStringDictionary } from \"../../../base/common/collections.js\";\nimport { Emitter, Event } from \"../../../base/common/event.js\";\nimport * as json from \"../../../base/common/json.js\";\nimport { Disposable } from \"../../../base/common/lifecycle.js\";\nimport { ResourceMap, getOrSet } from \"../../../base/common/map.js\";\nimport * as objects from \"../../../base/common/objects.js\";\nimport type { IExtUri } from \"../../../base/common/resources.js\";\nimport * as types from \"../../../base/common/types.js\";\nimport { URI, type UriComponents } from \"../../../base/common/uri.js\";\nimport { FileOperation, type IFileService } from \"../../files/common/files.js\";\nimport type { ILogService } from \"../../log/common/log.js\";\nimport { Registry } from \"../../registry/common/platform.js\";\nimport type { Workspace } from \"../../workspace/common/workspace.js\";\nimport {\n\ttype ConfigurationTarget,\n\ttype IConfigurationChange,\n\ttype IConfigurationChangeEvent,\n\ttype IConfigurationCompareResult,\n\ttype IConfigurationData,\n\ttype IConfigurationModel,\n\ttype IConfigurationOverrides,\n\ttype IConfigurationUpdateOverrides,\n\ttype IConfigurationValue,\n\ttype IInspectValue,\n\ttype IOverrides,\n\taddToValueTree,\n\tgetConfigurationValue,\n\tremoveFromValueTree,\n\ttoValuesTree,\n} from \"./configuration.js\";\nimport {\n\tConfigurationScope,\n\tExtensions,\n\ttype IConfigurationPropertySchema,\n\ttype IConfigurationRegistry,\n\tOVERRIDE_PROPERTY_REGEX,\n\toverrideIdentifiersFromKey,\n} from \"./configurationRegistry.js\";\n\nfunction freeze<T>(data: T): T {\n\treturn Object.isFrozen(data) ? data : objects.deepFreeze(data);\n}\n\ntype InspectValue<V> = IInspectValue<V> & { merged?: V };\n\nexport class ConfigurationModel implements IConfigurationModel {\n\tstatic createEmptyModel(logService: ILogService): ConfigurationModel {\n\t\treturn new ConfigurationModel({}, [], [], undefined, logService);\n\t}\n\n\tprivate readonly overrideConfigurations = new Map<\n\t\tstring,\n\t\tConfigurationModel\n\t>();\n\n\tconstructor(\n\t\tprivate readonly _contents: any,\n\t\tprivate readonly _keys: string[],\n\t\tprivate readonly _overrides: IOverrides[],\n\t\treadonly raw:\n\t\t\t| ReadonlyArray<IStringDictionary<any> | ConfigurationModel>\n\t\t\t| undefined,\n\t\tprivate readonly logService: ILogService,\n\t) {}\n\n\tprivate _rawConfiguration: ConfigurationModel | undefined;\n\tget rawConfiguration(): ConfigurationModel {\n\t\tif (!this._rawConfiguration) {\n\t\t\tif (this.raw?.length) {\n\t\t\t\tconst rawConfigurationModels = this.raw.map((raw) => {\n\t\t\t\t\tif (raw instanceof ConfigurationModel) {\n\t\t\t\t\t\treturn raw;\n\t\t\t\t\t}\n\t\t\t\t\tconst parser = new ConfigurationModelParser(\n\t\t\t\t\t\t\"\",\n\t\t\t\t\t\tthis.logService,\n\t\t\t\t\t);\n\t\t\t\t\tparser.parseRaw(raw);\n\t\t\t\t\treturn parser.configurationModel;\n\t\t\t\t});\n\t\t\t\tthis._rawConfiguration = rawConfigurationModels.reduce(\n\t\t\t\t\t(previous, current) =>\n\t\t\t\t\t\tcurrent === previous\n\t\t\t\t\t\t\t? current\n\t\t\t\t\t\t\t: previous.merge(current),\n\t\t\t\t\trawConfigurationModels[0],\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\t// raw is same as current\n\t\t\t\tthis._rawConfiguration = this;\n\t\t\t}\n\t\t}\n\t\treturn this._rawConfiguration;\n\t}\n\n\tget contents(): any {\n\t\treturn this._contents;\n\t}\n\n\tget overrides(): IOverrides[] {\n\t\treturn this._overrides;\n\t}\n\n\tget keys(): string[] {\n\t\treturn this._keys;\n\t}\n\n\tisEmpty(): boolean {\n\t\treturn (\n\t\t\tthis._keys.length === 0 &&\n\t\t\tObject.keys(this._contents).length === 0 &&\n\t\t\tthis._overrides.length === 0\n\t\t);\n\t}\n\n\tgetValue<V>(section: string | undefined): V {\n\t\treturn section\n\t\t\t? getConfigurationValue<any>(this.contents, section)\n\t\t\t: this.contents;\n\t}\n\n\tinspect<V>(\n\t\tsection: string | undefined,\n\t\toverrideIdentifier?: string | null,\n\t): InspectValue<V> {\n\t\tconst that = this;\n\t\treturn {\n\t\t\tget value() {\n\t\t\t\treturn freeze(that.rawConfiguration.getValue<V>(section));\n\t\t\t},\n\t\t\tget override() {\n\t\t\t\treturn overrideIdentifier\n\t\t\t\t\t? freeze(\n\t\t\t\t\t\t\tthat.rawConfiguration.getOverrideValue<V>(\n\t\t\t\t\t\t\t\tsection,\n\t\t\t\t\t\t\t\toverrideIdentifier,\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t)\n\t\t\t\t\t: undefined;\n\t\t\t},\n\t\t\tget merged() {\n\t\t\t\treturn freeze(\n\t\t\t\t\toverrideIdentifier\n\t\t\t\t\t\t? that.rawConfiguration\n\t\t\t\t\t\t\t\t.override(overrideIdentifier)\n\t\t\t\t\t\t\t\t.getValue<V>(section)\n\t\t\t\t\t\t: that.rawConfiguration.getValue<V>(section),\n\t\t\t\t);\n\t\t\t},\n\t\t\tget overrides() {\n\t\t\t\tconst overrides: {\n\t\t\t\t\treadonly identifiers: string[];\n\t\t\t\t\treadonly value: V;\n\t\t\t\t}[] = [];\n\t\t\t\tfor (const { contents, identifiers, keys } of that\n\t\t\t\t\t.rawConfiguration.overrides) {\n\t\t\t\t\tconst value = new ConfigurationModel(\n\t\t\t\t\t\tcontents,\n\t\t\t\t\t\tkeys,\n\t\t\t\t\t\t[],\n\t\t\t\t\t\tundefined,\n\t\t\t\t\t\tthat.logService,\n\t\t\t\t\t).getValue<V>(section);\n\t\t\t\t\tif (value !== undefined) {\n\t\t\t\t\t\toverrides.push({ identifiers, value });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn overrides.length ? freeze(overrides) : undefined;\n\t\t\t},\n\t\t};\n\t}\n\n\tgetOverrideValue<V>(\n\t\tsection: string | undefined,\n\t\toverrideIdentifier: string,\n\t): V | undefined {\n\t\tconst overrideContents =\n\t\t\tthis.getContentsForOverrideIdentifer(overrideIdentifier);\n\t\treturn overrideContents\n\t\t\t? section\n\t\t\t\t? getConfigurationValue<any>(overrideContents, section)\n\t\t\t\t: overrideContents\n\t\t\t: undefined;\n\t}\n\n\tgetKeysForOverrideIdentifier(identifier: string): string[] {\n\t\tconst keys: string[] = [];\n\t\tfor (const override of this.overrides) {\n\t\t\tif (override.identifiers.includes(identifier)) {\n\t\t\t\tkeys.push(...override.keys);\n\t\t\t}\n\t\t}\n\t\treturn arrays.distinct(keys);\n\t}\n\n\tgetAllOverrideIdentifiers(): string[] {\n\t\tconst result: string[] = [];\n\t\tfor (const override of this.overrides) {\n\t\t\tresult.push(...override.identifiers);\n\t\t}\n\t\treturn arrays.distinct(result);\n\t}\n\n\toverride(identifier: string): ConfigurationModel {\n\t\tlet overrideConfigurationModel =\n\t\t\tthis.overrideConfigurations.get(identifier);\n\t\tif (!overrideConfigurationModel) {\n\t\t\toverrideConfigurationModel =\n\t\t\t\tthis.createOverrideConfigurationModel(identifier);\n\t\t\tthis.overrideConfigurations.set(\n\t\t\t\tidentifier,\n\t\t\t\toverrideConfigurationModel,\n\t\t\t);\n\t\t}\n\t\treturn overrideConfigurationModel;\n\t}\n\n\tmerge(...others: ConfigurationModel[]): ConfigurationModel {\n\t\tconst contents = objects.deepClone(this.contents);\n\t\tconst overrides = objects.deepClone(this.overrides);\n\t\tconst keys = [...this.keys];\n\t\tconst raws = this.raw?.length ? [...this.raw] : [this];\n\n\t\tfor (const other of others) {\n\t\t\traws.push(...(other.raw?.length ? other.raw : [other]));\n\t\t\tif (other.isEmpty()) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tthis.mergeContents(contents, other.contents);\n\n\t\t\tfor (const otherOverride of other.overrides) {\n\t\t\t\tconst [override] = overrides.filter((o) =>\n\t\t\t\t\tarrays.equals(o.identifiers, otherOverride.identifiers),\n\t\t\t\t);\n\t\t\t\tif (override) {\n\t\t\t\t\tthis.mergeContents(\n\t\t\t\t\t\toverride.contents,\n\t\t\t\t\t\totherOverride.contents,\n\t\t\t\t\t);\n\t\t\t\t\toverride.keys.push(...otherOverride.keys);\n\t\t\t\t\toverride.keys = arrays.distinct(override.keys);\n\t\t\t\t} else {\n\t\t\t\t\toverrides.push(objects.deepClone(otherOverride));\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (const key of other.keys) {\n\t\t\t\tif (keys.indexOf(key) === -1) {\n\t\t\t\t\tkeys.push(key);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn new ConfigurationModel(\n\t\t\tcontents,\n\t\t\tkeys,\n\t\t\toverrides,\n\t\t\traws.every((raw) => raw instanceof ConfigurationModel)\n\t\t\t\t? undefined\n\t\t\t\t: raws,\n\t\t\tthis.logService,\n\t\t);\n\t}\n\n\tprivate createOverrideConfigurationModel(\n\t\tidentifier: string,\n\t): ConfigurationModel {\n\t\tconst overrideContents =\n\t\t\tthis.getContentsForOverrideIdentifer(identifier);\n\n\t\tif (\n\t\t\t!overrideContents ||\n\t\t\ttypeof overrideContents !== \"object\" ||\n\t\t\t!Object.keys(overrideContents).length\n\t\t) {\n\t\t\t// If there are no valid overrides, return self\n\t\t\treturn this;\n\t\t}\n\n\t\tconst contents: any = {};\n\t\tfor (const key of arrays.distinct([\n\t\t\t...Object.keys(this.contents),\n\t\t\t...Object.keys(overrideContents),\n\t\t])) {\n\t\t\tlet contentsForKey = this.contents[key];\n\t\t\tconst overrideContentsForKey = overrideContents[key];\n\n\t\t\t// If there are override contents for the key, clone and merge otherwise use base contents\n\t\t\tif (overrideContentsForKey) {\n\t\t\t\t// Clone and merge only if base contents and override contents are of type object otherwise just override\n\t\t\t\tif (\n\t\t\t\t\ttypeof contentsForKey === \"object\" &&\n\t\t\t\t\ttypeof overrideContentsForKey === \"object\"\n\t\t\t\t) {\n\t\t\t\t\tcontentsForKey = objects.deepClone(contentsForKey);\n\t\t\t\t\tthis.mergeContents(contentsForKey, overrideContentsForKey);\n\t\t\t\t} else {\n\t\t\t\t\tcontentsForKey = overrideContentsForKey;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tcontents[key] = contentsForKey;\n\t\t}\n\n\t\treturn new ConfigurationModel(\n\t\t\tcontents,\n\t\t\tthis.keys,\n\t\t\tthis.overrides,\n\t\t\tundefined,\n\t\t\tthis.logService,\n\t\t);\n\t}\n\n\tprivate mergeContents(source: any, target: any): void {\n\t\tfor (const key of Object.keys(target)) {\n\t\t\tif (key in source) {\n\t\t\t\tif (\n\t\t\t\t\ttypes.isObject(source[key]) &&\n\t\t\t\t\ttypes.isObject(target[key])\n\t\t\t\t) {\n\t\t\t\t\tthis.mergeContents(source[key], target[key]);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\t\t\tsource[key] = objects.deepClone(target[key]);\n\t\t}\n\t}\n\n\tprivate getContentsForOverrideIdentifer(identifier: string): any {\n\t\tlet contentsForIdentifierOnly: IStringDictionary<any> | null = null;\n\t\tlet contents: IStringDictionary<any> | null = null;\n\t\tconst mergeContents = (contentsToMerge: any) => {\n\t\t\tif (contentsToMerge) {\n\t\t\t\tif (contents) {\n\t\t\t\t\tthis.mergeContents(contents, contentsToMerge);\n\t\t\t\t} else {\n\t\t\t\t\tcontents = objects.deepClone(contentsToMerge);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\tfor (const override of this.overrides) {\n\t\t\tif (\n\t\t\t\toverride.identifiers.length === 1 &&\n\t\t\t\toverride.identifiers[0] === identifier\n\t\t\t) {\n\t\t\t\tcontentsForIdentifierOnly = override.contents;\n\t\t\t} else if (override.identifiers.includes(identifier)) {\n\t\t\t\tmergeContents(override.contents);\n\t\t\t}\n\t\t}\n\t\t// Merge contents of the identifier only at the end to take precedence.\n\t\tmergeContents(contentsForIdentifierOnly);\n\t\treturn contents;\n\t}\n\n\ttoJSON(): IConfigurationModel {\n\t\treturn {\n\t\t\tcontents: this.contents,\n\t\t\toverrides: this.overrides,\n\t\t\tkeys: this.keys,\n\t\t};\n\t}\n\n\t// Update methods\n\n\tpublic addValue(key: string, value: any): void {\n\t\tthis.updateValue(key, value, true);\n\t}\n\n\tpublic setValue(key: string, value: any): void {\n\t\tthis.updateValue(key, value, false);\n\t}\n\n\tpublic removeValue(key: string): void {\n\t\tconst index = this.keys.indexOf(key);\n\t\tif (index === -1) {\n\t\t\treturn;\n\t\t}\n\t\tthis.keys.splice(index, 1);\n\t\tremoveFromValueTree(this.contents, key);\n\t\tif (OVERRIDE_PROPERTY_REGEX.test(key)) {\n\t\t\tthis.overrides.splice(\n\t\t\t\tthis.overrides.findIndex((o) =>\n\t\t\t\t\tarrays.equals(\n\t\t\t\t\t\to.identifiers,\n\t\t\t\t\t\toverrideIdentifiersFromKey(key),\n\t\t\t\t\t),\n\t\t\t\t),\n\t\t\t\t1,\n\t\t\t);\n\t\t}\n\t}\n\n\tprivate updateValue(key: string, value: any, add: boolean): void {\n\t\taddToValueTree(this.contents, key, value, (e) =>\n\t\t\tthis.logService.error(e),\n\t\t);\n\t\tadd = add || this.keys.indexOf(key) === -1;\n\t\tif (add) {\n\t\t\tthis.keys.push(key);\n\t\t}\n\t\tif (OVERRIDE_PROPERTY_REGEX.test(key)) {\n\t\t\tconst identifiers = overrideIdentifiersFromKey(key);\n\t\t\tconst override = {\n\t\t\t\tidentifiers,\n\t\t\t\tkeys: Object.keys(this.contents[key]),\n\t\t\t\tcontents: toValuesTree(this.contents[key], (message) =>\n\t\t\t\t\tthis.logService.error(message),\n\t\t\t\t),\n\t\t\t};\n\t\t\tconst index = this.overrides.findIndex((o) =>\n\t\t\t\tarrays.equals(o.identifiers, identifiers),\n\t\t\t);\n\t\t\tif (index !== -1) {\n\t\t\t\tthis.overrides[index] = override;\n\t\t\t} else {\n\t\t\t\tthis.overrides.push(override);\n\t\t\t}\n\t\t}\n\t}\n}\n\nexport interface ConfigurationParseOptions {\n\tscopes?: ConfigurationScope[];\n\tskipRestricted?: boolean;\n\tinclude?: string[];\n\texclude?: string[];\n}\n\nexport class ConfigurationModelParser {\n\tprivate _raw: any = null;\n\tprivate _configurationModel: ConfigurationModel | null = null;\n\tprivate _restrictedConfigurations: string[] = [];\n\tprivate _parseErrors: any[] = [];\n\n\tconstructor(\n\t\tprotected readonly _name: string,\n\t\tprotected readonly logService: ILogService,\n\t) {}\n\n\tget configurationModel(): ConfigurationModel {\n\t\treturn (\n\t\t\tthis._configurationModel ||\n\t\t\tConfigurationModel.createEmptyModel(this.logService)\n\t\t);\n\t}\n\n\tget restrictedConfigurations(): string[] {\n\t\treturn this._restrictedConfigurations;\n\t}\n\n\tget errors(): any[] {\n\t\treturn this._parseErrors;\n\t}\n\n\tpublic parse(\n\t\tcontent: string | null | undefined,\n\t\toptions?: ConfigurationParseOptions,\n\t): void {\n\t\tif (!types.isUndefinedOrNull(content)) {\n\t\t\tconst raw = this.doParseContent(content);\n\t\t\tthis.parseRaw(raw, options);\n\t\t}\n\t}\n\n\tpublic reparse(options: ConfigurationParseOptions): void {\n\t\tif (this._raw) {\n\t\t\tthis.parseRaw(this._raw, options);\n\t\t}\n\t}\n\n\tpublic parseRaw(raw: any, options?: ConfigurationParseOptions): void {\n\t\tthis._raw = raw;\n\t\tconst { contents, keys, overrides, restricted, hasExcludedProperties } =\n\t\t\tthis.doParseRaw(raw, options);\n\t\tthis._configurationModel = new ConfigurationModel(\n\t\t\tcontents,\n\t\t\tkeys,\n\t\t\toverrides,\n\t\t\thasExcludedProperties ? [raw] : undefined /* raw has not changed */,\n\t\t\tthis.logService,\n\t\t);\n\t\tthis._restrictedConfigurations = restricted || [];\n\t}\n\n\tprivate doParseContent(content: string): any {\n\t\tlet raw: any = {};\n\t\tlet currentProperty: string | null = null;\n\t\tlet currentParent: any = [];\n\t\tconst previousParents: any[] = [];\n\t\tconst parseErrors: json.ParseError[] = [];\n\n\t\tfunction onValue(value: any) {\n\t\t\tif (Array.isArray(currentParent)) {\n\t\t\t\t(<any[]>currentParent).push(value);\n\t\t\t} else if (currentProperty !== null) {\n\t\t\t\tcurrentParent[currentProperty] = value;\n\t\t\t}\n\t\t}\n\n\t\tconst visitor: json.JSONVisitor = {\n\t\t\tonObjectBegin: () => {\n\t\t\t\tconst object = {};\n\t\t\t\tonValue(object);\n\t\t\t\tpreviousParents.push(currentParent);\n\t\t\t\tcurrentParent = object;\n\t\t\t\tcurrentProperty = null;\n\t\t\t},\n\t\t\tonObjectProperty: (name: string) => {\n\t\t\t\tcurrentProperty = name;\n\t\t\t},\n\t\t\tonObjectEnd: () => {\n\t\t\t\tcurrentParent = previousParents.pop();\n\t\t\t},\n\t\t\tonArrayBegin: () => {\n\t\t\t\tconst array: any[] = [];\n\t\t\t\tonValue(array);\n\t\t\t\tpreviousParents.push(currentParent);\n\t\t\t\tcurrentParent = array;\n\t\t\t\tcurrentProperty = null;\n\t\t\t},\n\t\t\tonArrayEnd: () => {\n\t\t\t\tcurrentParent = previousParents.pop();\n\t\t\t},\n\t\t\tonLiteralValue: onValue,\n\t\t\tonError: (\n\t\t\t\terror: json.ParseErrorCode,\n\t\t\t\toffset: number,\n\t\t\t\tlength: number,\n\t\t\t) => {\n\t\t\t\tparseErrors.push({ error, offset, length });\n\t\t\t},\n\t\t};\n\t\tif (content) {\n\t\t\ttry {\n\t\t\t\tjson.visit(content, visitor);\n\t\t\t\traw = currentParent[0] || {};\n\t\t\t} catch (e) {\n\t\t\t\tthis.logService.error(\n\t\t\t\t\t`Error while parsing settings file ${this._name}: ${e}`,\n\t\t\t\t);\n\t\t\t\tthis._parseErrors = [e];\n\t\t\t}\n\t\t}\n\n\t\treturn raw;\n\t}\n\n\tprotected doParseRaw(\n\t\traw: any,\n\t\toptions?: ConfigurationParseOptions,\n\t): IConfigurationModel & {\n\t\trestricted?: string[];\n\t\thasExcludedProperties?: boolean;\n\t} {\n\t\tconst configurationProperties = Registry.as<IConfigurationRegistry>(\n\t\t\tExtensions.Configuration,\n\t\t).getConfigurationProperties();\n\t\tconst filtered = this.filter(\n\t\t\traw,\n\t\t\tconfigurationProperties,\n\t\t\ttrue,\n\t\t\toptions,\n\t\t);\n\t\traw = filtered.raw;\n\t\tconst contents = toValuesTree(raw, (message) =>\n\t\t\tthis.logService.error(\n\t\t\t\t`Conflict in settings file ${this._name}: ${message}`,\n\t\t\t),\n\t\t);\n\t\tconst keys = Object.keys(raw);\n\t\tconst overrides = this.toOverrides(raw, (message) =>\n\t\t\tthis.logService.error(\n\t\t\t\t`Conflict in settings file ${this._name}: ${message}`,\n\t\t\t),\n\t\t);\n\t\treturn {\n\t\t\tcontents,\n\t\t\tkeys,\n\t\t\toverrides,\n\t\t\trestricted: filtered.restricted,\n\t\t\thasExcludedProperties: filtered.hasExcludedProperties,\n\t\t};\n\t}\n\n\tprivate filter(\n\t\tproperties: any,\n\t\tconfigurationProperties: {\n\t\t\t[qualifiedKey: string]: IConfigurationPropertySchema | undefined;\n\t\t},\n\t\tfilterOverriddenProperties: boolean,\n\t\toptions?: ConfigurationParseOptions,\n\t): { raw: {}; restricted: string[]; hasExcludedProperties: boolean } {\n\t\tlet hasExcludedProperties = false;\n\t\tif (\n\t\t\t!options?.scopes &&\n\t\t\t!options?.skipRestricted &&\n\t\t\t!options?.exclude?.length\n\t\t) {\n\t\t\treturn { raw: properties, restricted: [], hasExcludedProperties };\n\t\t}\n\t\tconst raw: any = {};\n\t\tconst restricted: string[] = [];\n\t\tfor (const key in properties) {\n\t\t\tif (\n\t\t\t\tOVERRIDE_PROPERTY_REGEX.test(key) &&\n\t\t\t\tfilterOverriddenProperties\n\t\t\t) {\n\t\t\t\tconst result = this.filter(\n\t\t\t\t\tproperties[key],\n\t\t\t\t\tconfigurationProperties,\n\t\t\t\t\tfalse,\n\t\t\t\t\toptions,\n\t\t\t\t);\n\t\t\t\traw[key] = result.raw;\n\t\t\t\thasExcludedProperties =\n\t\t\t\t\thasExcludedProperties || result.hasExcludedProperties;\n\t\t\t\trestricted.push(...result.restricted);\n\t\t\t} else {\n\t\t\t\tconst propertySchema = configurationProperties[key];\n\t\t\t\tconst scope = propertySchema\n\t\t\t\t\t? typeof propertySchema.scope !== \"undefined\"\n\t\t\t\t\t\t? propertySchema.scope\n\t\t\t\t\t\t: ConfigurationScope.WINDOW\n\t\t\t\t\t: undefined;\n\t\t\t\tif (propertySchema?.restricted) {\n\t\t\t\t\trestricted.push(key);\n\t\t\t\t}\n\t\t\t\tif (\n\t\t\t\t\t!options.exclude?.includes(key) /* Check exclude */ &&\n\t\t\t\t\t(options.include?.includes(key) /* Check include */ ||\n\t\t\t\t\t\t((scope === undefined ||\n\t\t\t\t\t\t\toptions.scopes === undefined ||\n\t\t\t\t\t\t\toptions.scopes.includes(\n\t\t\t\t\t\t\t\tscope,\n\t\t\t\t\t\t\t)) /* Check scopes */ &&\n\t\t\t\t\t\t\t!(\n\t\t\t\t\t\t\t\toptions.skipRestricted &&\n\t\t\t\t\t\t\t\tpropertySchema?.restricted\n\t\t\t\t\t\t\t)))\n\t\t\t\t) {\n\t\t\t\t\t/* Check restricted */ raw[key] = properties[key];\n\t\t\t\t} else {\n\t\t\t\t\thasExcludedProperties = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn { raw, restricted, hasExcludedProperties };\n\t}\n\n\tprivate toOverrides(\n\t\traw: any,\n\t\tconflictReporter: (message: string) => void,\n\t): IOverrides[] {\n\t\tconst overrides: IOverrides[] = [];\n\t\tfor (const key of Object.keys(raw)) {\n\t\t\tif (OVERRIDE_PROPERTY_REGEX.test(key)) {\n\t\t\t\tconst overrideRaw: any = {};\n\t\t\t\tfor (const keyInOverrideRaw in raw[key]) {\n\t\t\t\t\toverrideRaw[keyInOverrideRaw] = raw[key][keyInOverrideRaw];\n\t\t\t\t}\n\t\t\t\toverrides.push({\n\t\t\t\t\tidentifiers: overrideIdentifiersFromKey(key),\n\t\t\t\t\tkeys: Object.keys(overrideRaw),\n\t\t\t\t\tcontents: toValuesTree(overrideRaw, conflictReporter),\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\treturn overrides;\n\t}\n}\n\nexport class UserSettings extends Disposable {\n\tprivate readonly parser: ConfigurationModelParser;\n\tprotected readonly _onDidChange: Emitter<void> = this._register(\n\t\tnew Emitter<void>(),\n\t);\n\treadonly onDidChange: Event<void> = this._onDidChange.event;\n\n\tconstructor(\n\t\tprivate readonly userSettingsResource: URI,\n\t\tprotected parseOptions: ConfigurationParseOptions,\n\t\textUri: IExtUri,\n\t\tprivate readonly fileService: IFileService,\n\t\tprivate readonly logService: ILogService,\n\t) {\n\t\tsuper();\n\t\tthis.parser = new ConfigurationModelParser(\n\t\t\tthis.userSettingsResource.toString(),\n\t\t\tlogService,\n\t\t);\n\t\tthis._register(\n\t\t\tthis.fileService.watch(extUri.dirname(this.userSettingsResource)),\n\t\t);\n\t\t// Also listen to the resource incase the resource is a symlink - https://github.com/microsoft/vscode/issues/118134\n\t\tthis._register(this.fileService.watch(this.userSettingsResource));\n\t\tthis._register(\n\t\t\tEvent.any(\n\t\t\t\tEvent.filter(this.fileService.onDidFilesChange, (e) =>\n\t\t\t\t\te.contains(this.userSettingsResource),\n\t\t\t\t),\n\t\t\t\tEvent.filter(\n\t\t\t\t\tthis.fileService.onDidRunOperation,\n\t\t\t\t\t(e) =>\n\t\t\t\t\t\t(e.isOperation(FileOperation.CREATE) ||\n\t\t\t\t\t\t\te.isOperation(FileOperation.COPY) ||\n\t\t\t\t\t\t\te.isOperation(FileOperation.DELETE) ||\n\t\t\t\t\t\t\te.isOperation(FileOperation.WRITE)) &&\n\t\t\t\t\t\textUri.isEqual(e.resource, userSettingsResource),\n\t\t\t\t),\n\t\t\t)(() => this._onDidChange.fire()),\n\t\t);\n\t}\n\n\tasync loadConfiguration(): Promise<ConfigurationModel> {\n\t\ttry {\n\t\t\tconst content = await this.fileService.readFile(\n\t\t\t\tthis.userSettingsResource,\n\t\t\t);\n\t\t\tthis.parser.parse(\n\t\t\t\tcontent.value.toString() || \"{}\",\n\t\t\t\tthis.parseOptions,\n\t\t\t);\n\t\t\treturn this.parser.configurationModel;\n\t\t} catch (e) {\n\t\t\treturn ConfigurationModel.createEmptyModel(this.logService);\n\t\t}\n\t}\n\n\treparse(parseOptions?: ConfigurationParseOptions): ConfigurationModel {\n\t\tif (parseOptions) {\n\t\t\tthis.parseOptions = parseOptions;\n\t\t}\n\t\tthis.parser.reparse(this.parseOptions);\n\t\treturn this.parser.configurationModel;\n\t}\n\n\tgetRestrictedSettings(): string[] {\n\t\treturn this.parser.restrictedConfigurations;\n\t}\n}\n\nclass ConfigurationInspectValue<V> implements IConfigurationValue<V> {\n\tconstructor(\n\t\tprivate readonly key: string,\n\t\tprivate readonly overrides: IConfigurationOverrides,\n\t\tprivate readonly _value: V | undefined,\n\t\treadonly overrideIdentifiers: string[] | undefined,\n\t\tprivate readonly defaultConfiguration: ConfigurationModel,\n\t\tprivate readonly policyConfiguration: ConfigurationModel | undefined,\n\t\tprivate readonly applicationConfiguration:\n\t\t\t| ConfigurationModel\n\t\t\t| undefined,\n\t\tprivate readonly userConfiguration: ConfigurationModel,\n\t\tprivate readonly localUserConfiguration: ConfigurationModel,\n\t\tprivate readonly remoteUserConfiguration: ConfigurationModel,\n\t\tprivate readonly workspaceConfiguration: ConfigurationModel | undefined,\n\t\tprivate readonly folderConfigurationModel:\n\t\t\t| ConfigurationModel\n\t\t\t| undefined,\n\t\tprivate readonly memoryConfigurationModel: ConfigurationModel,\n\t) {}\n\n\tget value(): V | undefined {\n\t\treturn freeze(this._value);\n\t}\n\n\tprivate toInspectValue(\n\t\tinspectValue: IInspectValue<V> | undefined | null,\n\t): IInspectValue<V> | undefined {\n\t\treturn inspectValue?.value !== undefined ||\n\t\t\tinspectValue?.override !== undefined ||\n\t\t\tinspectValue?.overrides !== undefined\n\t\t\t? inspectValue\n\t\t\t: undefined;\n\t}\n\n\tprivate _defaultInspectValue: InspectValue<V> | undefined;\n\tprivate get defaultInspectValue(): InspectValue<V> {\n\t\tif (!this._defaultInspectValue) {\n\t\t\tthis._defaultInspectValue = this.defaultConfiguration.inspect<V>(\n\t\t\t\tthis.key,\n\t\t\t\tthis.overrides.overrideIdentifier,\n\t\t\t);\n\t\t}\n\t\treturn this._defaultInspectValue;\n\t}\n\n\tget defaultValue(): V | undefined {\n\t\treturn this.defaultInspectValue.merged;\n\t}\n\n\tget default(): IInspectValue<V> | undefined {\n\t\treturn this.toInspectValue(this.defaultInspectValue);\n\t}\n\n\tprivate _policyInspectValue: InspectValue<V> | undefined | null;\n\tprivate get policyInspectValue(): InspectValue<V> | null {\n\t\tif (this._policyInspectValue === undefined) {\n\t\t\tthis._policyInspectValue = this.policyConfiguration\n\t\t\t\t? this.policyConfiguration.inspect<V>(this.key)\n\t\t\t\t: null;\n\t\t}\n\t\treturn this._policyInspectValue;\n\t}\n\n\tget policyValue(): V | undefined {\n\t\treturn this.policyInspectValue?.merged;\n\t}\n\n\tget policy(): IInspectValue<V> | undefined {\n\t\treturn this.policyInspectValue?.value !== undefined\n\t\t\t? { value: this.policyInspectValue.value }\n\t\t\t: undefined;\n\t}\n\n\tprivate _applicationInspectValue: InspectValue<V> | undefined | null;\n\tprivate get applicationInspectValue(): InspectValue<V> | null {\n\t\tif (this._applicationInspectValue === undefined) {\n\t\t\tthis._applicationInspectValue = this.applicationConfiguration\n\t\t\t\t? this.applicationConfiguration.inspect<V>(this.key)\n\t\t\t\t: null;\n\t\t}\n\t\treturn this._applicationInspectValue;\n\t}\n\n\tget applicationValue(): V | undefined {\n\t\treturn this.applicationInspectValue?.merged;\n\t}\n\n\tget application(): IInspectValue<V> | undefined {\n\t\treturn this.toInspectValue(this.applicationInspectValue);\n\t}\n\n\tprivate _userInspectValue: InspectValue<V> | undefined;\n\tprivate get userInspectValue(): InspectValue<V> {\n\t\tif (!this._userInspectValue) {\n\t\t\tthis._userInspectValue = this.userConfiguration.inspect<V>(\n\t\t\t\tthis.key,\n\t\t\t\tthis.overrides.overrideIdentifier,\n\t\t\t);\n\t\t}\n\t\treturn this._userInspectValue;\n\t}\n\n\tget userValue(): V | undefined {\n\t\treturn this.userInspectValue.merged;\n\t}\n\n\tget user(): IInspectValue<V> | undefined {\n\t\treturn this.toInspectValue(this.userInspectValue);\n\t}\n\n\tprivate _userLocalInspectValue: InspectValue<V> | undefined;\n\tprivate get userLocalInspectValue(): InspectValue<V> {\n\t\tif (!this._userLocalInspectValue) {\n\t\t\tthis._userLocalInspectValue =\n\t\t\t\tthis.localUserConfiguration.inspect<V>(\n\t\t\t\t\tthis.key,\n\t\t\t\t\tthis.overrides.overrideIdentifier,\n\t\t\t\t);\n\t\t}\n\t\treturn this._userLocalInspectValue;\n\t}\n\n\tget userLocalValue(): V | undefined {\n\t\treturn this.userLocalInspectValue.merged;\n\t}\n\n\tget userLocal(): IInspectValue<V> | undefined {\n\t\treturn this.toInspectValue(this.userLocalInspectValue);\n\t}\n\n\tprivate _userRemoteInspectValue: InspectValue<V> | undefined;\n\tprivate get userRemoteInspectValue(): InspectValue<V> {\n\t\tif (!this._userRemoteInspectValue) {\n\t\t\tthis._userRemoteInspectValue =\n\t\t\t\tthis.remoteUserConfiguration.inspect<V>(\n\t\t\t\t\tthis.key,\n\t\t\t\t\tthis.overrides.overrideIdentifier,\n\t\t\t\t);\n\t\t}\n\t\treturn this._userRemoteInspectValue;\n\t}\n\n\tget userRemoteValue(): V | undefined {\n\t\treturn this.userRemoteInspectValue.merged;\n\t}\n\n\tget userRemote(): IInspectValue<V> | undefined {\n\t\treturn this.toInspectValue(this.userRemoteInspectValue);\n\t}\n\n\tprivate _workspaceInspectValue: InspectValue<V> | undefined | null;\n\tprivate get workspaceInspectValue(): InspectValue<V> | null {\n\t\tif (this._workspaceInspectValue === undefined) {\n\t\t\tthis._workspaceInspectValue = this.workspaceConfiguration\n\t\t\t\t? this.workspaceConfiguration.inspect<V>(\n\t\t\t\t\t\tthis.key,\n\t\t\t\t\t\tthis.overrides.overrideIdentifier,\n\t\t\t\t\t)\n\t\t\t\t: null;\n\t\t}\n\t\treturn this._workspaceInspectValue;\n\t}\n\n\tget workspaceValue(): V | undefined {\n\t\treturn this.workspaceInspectValue?.merged;\n\t}\n\n\tget workspace(): IInspectValue<V> | undefined {\n\t\treturn this.toInspectValue(this.workspaceInspectValue);\n\t}\n\n\tprivate _workspaceFolderInspectValue: InspectValue<V> | undefined | null;\n\tprivate get workspaceFolderInspectValue(): InspectValue<V> | null {\n\t\tif (this._workspaceFolderInspectValue === undefined) {\n\t\t\tthis._workspaceFolderInspectValue = this.folderConfigurationModel\n\t\t\t\t? this.folderConfigurationModel.inspect<V>(\n\t\t\t\t\t\tthis.key,\n\t\t\t\t\t\tthis.overrides.overrideIdentifier,\n\t\t\t\t\t)\n\t\t\t\t: null;\n\t\t}\n\t\treturn this._workspaceFolderInspectValue;\n\t}\n\n\tget workspaceFolderValue(): V | undefined {\n\t\treturn this.workspaceFolderInspectValue?.merged;\n\t}\n\n\tget workspaceFolder(): IInspectValue<V> | undefined {\n\t\treturn this.toInspectValue(this.workspaceFolderInspectValue);\n\t}\n\n\tprivate _memoryInspectValue: InspectValue<V> | undefined;\n\tprivate get memoryInspectValue(): InspectValue<V> {\n\t\tif (this._memoryInspectValue === undefined) {\n\t\t\tthis._memoryInspectValue = this.memoryConfigurationModel.inspect<V>(\n\t\t\t\tthis.key,\n\t\t\t\tthis.overrides.overrideIdentifier,\n\t\t\t);\n\t\t}\n\t\treturn this._memoryInspectValue;\n\t}\n\n\tget memoryValue(): V | undefined {\n\t\treturn this.memoryInspectValue.merged;\n\t}\n\n\tget memory(): IInspectValue<V> | undefined {\n\t\treturn this.toInspectValue(this.memoryInspectValue);\n\t}\n}\n\nexport class Configuration {\n\tprivate _workspaceConsolidatedConfiguration: ConfigurationModel | null =\n\t\tnull;\n\tprivate _foldersConsolidatedConfigurations =\n\t\tnew ResourceMap<ConfigurationModel>();\n\n\tconstructor(\n\t\tprivate _defaultConfiguration: ConfigurationModel,\n\t\tprivate _policyConfiguration: ConfigurationModel,\n\t\tprivate _applicationConfiguration: ConfigurationModel,\n\t\tprivate _localUserConfiguration: ConfigurationModel,\n\t\tprivate _remoteUserConfiguration: ConfigurationModel,\n\t\tprivate _workspaceConfiguration: ConfigurationModel,\n\t\tprivate _folderConfigurations: ResourceMap<ConfigurationModel>,\n\t\tprivate _memoryConfiguration: ConfigurationModel,\n\t\tprivate _memoryConfigurationByResource: ResourceMap<ConfigurationModel>,\n\t\tprivate readonly logService: ILogService,\n\t) {}\n\n\tgetValue(\n\t\tsection: string | undefined,\n\t\toverrides: IConfigurationOverrides,\n\t\tworkspace: Workspace | undefined,\n\t): any {\n\t\tconst consolidateConfigurationModel =\n\t\t\tthis.getConsolidatedConfigurationModel(\n\t\t\t\tsection,\n\t\t\t\toverrides,\n\t\t\t\tworkspace,\n\t\t\t);\n\t\treturn consolidateConfigurationModel.getValue(section);\n\t}\n\n\tupdateValue(\n\t\tkey: string,\n\t\tvalue: any,\n\t\toverrides: IConfigurationUpdateOverrides = {},\n\t): void {\n\t\tlet memoryConfiguration: ConfigurationModel | undefined;\n\t\tif (overrides.resource) {\n\t\t\tmemoryConfiguration = this._memoryConfigurationByResource.get(\n\t\t\t\toverrides.resource,\n\t\t\t);\n\t\t\tif (!memoryConfiguration) {\n\t\t\t\tmemoryConfiguration = ConfigurationModel.createEmptyModel(\n\t\t\t\t\tthis.logService,\n\t\t\t\t);\n\t\t\t\tthis._memoryConfigurationByResource.set(\n\t\t\t\t\toverrides.resource,\n\t\t\t\t\tmemoryConfiguration,\n\t\t\t\t);\n\t\t\t}\n\t\t} else {\n\t\t\tmemoryConfiguration = this._memoryConfiguration;\n\t\t}\n\n\t\tif (value === undefined) {\n\t\t\tmemoryConfiguration.removeValue(key);\n\t\t} else {\n\t\t\tmemoryConfiguration.setValue(key, value);\n\t\t}\n\n\t\tif (!overrides.resource) {\n\t\t\tthis._workspaceConsolidatedConfiguration = null;\n\t\t}\n\t}\n\n\tinspect<C>(\n\t\tkey: string,\n\t\toverrides: IConfigurationOverrides,\n\t\tworkspace: Workspace | undefined,\n\t): IConfigurationValue<C> {\n\t\tconst consolidateConfigurationModel =\n\t\t\tthis.getConsolidatedConfigurationModel(key, overrides, workspace);\n\t\tconst folderConfigurationModel =\n\t\t\tthis.getFolderConfigurationModelForResource(\n\t\t\t\toverrides.resource,\n\t\t\t\tworkspace,\n\t\t\t);\n\t\tconst memoryConfigurationModel = overrides.resource\n\t\t\t? this._memoryConfigurationByResource.get(overrides.resource) ||\n\t\t\t\tthis._memoryConfiguration\n\t\t\t: this._memoryConfiguration;\n\t\tconst overrideIdentifiers = new Set<string>();\n\t\tfor (const override of consolidateConfigurationModel.overrides) {\n\t\t\tfor (const overrideIdentifier of override.identifiers) {\n\t\t\t\tif (\n\t\t\t\t\tconsolidateConfigurationModel.getOverrideValue(\n\t\t\t\t\t\tkey,\n\t\t\t\t\t\toverrideIdentifier,\n\t\t\t\t\t) !== undefined\n\t\t\t\t) {\n\t\t\t\t\toverrideIdentifiers.add(overrideIdentifier);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn new ConfigurationInspectValue<C>(\n\t\t\tkey,\n\t\t\toverrides,\n\t\t\tconsolidateConfigurationModel.getValue<C>(key),\n\t\t\toverrideIdentifiers.size ? [...overrideIdentifiers] : undefined,\n\t\t\tthis._defaultConfiguration,\n\t\t\tthis._policyConfiguration.isEmpty()\n\t\t\t\t? undefined\n\t\t\t\t: this._policyConfiguration,\n\t\t\tthis.applicationConfiguration.isEmpty()\n\t\t\t\t? undefined\n\t\t\t\t: this.applicationConfiguration,\n\t\t\tthis.userConfiguration,\n\t\t\tthis.localUserConfiguration,\n\t\t\tthis.remoteUserConfiguration,\n\t\t\tworkspace ? this._workspaceConfiguration : undefined,\n\t\t\tfolderConfigurationModel ? folderConfigurationModel : undefined,\n\t\t\tmemoryConfigurationModel,\n\t\t);\n\t}\n\n\tkeys(workspace: Workspace | undefined): {\n\t\tdefault: string[];\n\t\tuser: string[];\n\t\tworkspace: string[];\n\t\tworkspaceFolder: string[];\n\t} {\n\t\tconst folderConfigurationModel =\n\t\t\tthis.getFolderConfigurationModelForResource(undefined, workspace);\n\t\treturn {\n\t\t\tdefault: this._defaultConfiguration.keys.slice(0),\n\t\t\tuser: this.userConfiguration.keys.slice(0),\n\t\t\tworkspace: this._workspaceConfiguration.keys.slice(0),\n\t\t\tworkspaceFolder: folderConfigurationModel\n\t\t\t\t? folderConfigurationModel.keys.slice(0)\n\t\t\t\t: [],\n\t\t};\n\t}\n\n\tupdateDefaultConfiguration(defaultConfiguration: ConfigurationModel): void {\n\t\tthis._defaultConfiguration = defaultConfiguration;\n\t\tthis._workspaceConsolidatedConfiguration = null;\n\t\tthis._foldersConsolidatedConfigurations.clear();\n\t}\n\n\tupdatePolicyConfiguration(policyConfiguration: ConfigurationModel): void {\n\t\tthis._policyConfiguration = policyConfiguration;\n\t}\n\n\tupdateApplicationConfiguration(\n\t\tapplicationConfiguration: ConfigurationModel,\n\t): void {\n\t\tthis._applicationConfiguration = applicationConfiguration;\n\t\tthis._workspaceConsolidatedConfiguration = null;\n\t\tthis._foldersConsolidatedConfigurations.clear();\n\t}\n\n\tupdateLocalUserConfiguration(\n\t\tlocalUserConfiguration: ConfigurationModel,\n\t): void {\n\t\tthis._localUserConfiguration = localUserConfiguration;\n\t\tthis._userConfiguration = null;\n\t\tthis._workspaceConsolidatedConfiguration = null;\n\t\tthis._foldersConsolidatedConfigurations.clear();\n\t}\n\n\tupdateRemoteUserConfiguration(\n\t\tremoteUserConfiguration: ConfigurationModel,\n\t): void {\n\t\tthis._remoteUserConfiguration = remoteUserConfiguration;\n\t\tthis._userConfiguration = null;\n\t\tthis._workspaceConsolidatedConfiguration = null;\n\t\tthis._foldersConsolidatedConfigurations.clear();\n\t}\n\n\tupdateWorkspaceConfiguration(\n\t\tworkspaceConfiguration: ConfigurationModel,\n\t): void {\n\t\tthis._workspaceConfiguration = workspaceConfiguration;\n\t\tthis._workspaceConsolidatedConfiguration = null;\n\t\tthis._foldersConsolidatedConfigurations.clear();\n\t}\n\n\tupdateFolderConfiguration(\n\t\tresource: URI,\n\t\tconfiguration: ConfigurationModel,\n\t): void {\n\t\tthis._folderConfigurations.set(resource, configuration);\n\t\tthis._foldersConsolidatedConfigurations.delete(resource);\n\t}\n\n\tdeleteFolderConfiguration(resource: URI): void {\n\t\tthis.folderConfigurations.delete(resource);\n\t\tthis._foldersConsolidatedConfigurations.delete(resource);\n\t}\n\n\tcompareAndUpdateDefaultConfiguration(\n\t\tdefaults: ConfigurationModel,\n\t\tkeys?: string[],\n\t): IConfigurationChange {\n\t\tconst overrides: [string, string[]][] = [];\n\t\tif (!keys) {\n\t\t\tconst { added, updated, removed } = compare(\n\t\t\t\tthis._defaultConfiguration,\n\t\t\t\tdefaults,\n\t\t\t);\n\t\t\tkeys = [...added, ...updated, ...removed];\n\t\t}\n\t\tfor (const key of keys) {\n\t\t\tfor (const overrideIdentifier of overrideIdentifiersFromKey(key)) {\n\t\t\t\tconst fromKeys =\n\t\t\t\t\tthis._defaultConfiguration.getKeysForOverrideIdentifier(\n\t\t\t\t\t\toverrideIdentifier,\n\t\t\t\t\t);\n\t\t\t\tconst toKeys =\n\t\t\t\t\tdefaults.getKeysForOverrideIdentifier(overrideIdentifier);\n\t\t\t\tconst keys = [\n\t\t\t\t\t...toKeys.filter((key) => fromKeys.indexOf(key) === -1),\n\t\t\t\t\t...fromKeys.filter((key) => toKeys.indexOf(key) === -1),\n\t\t\t\t\t...fromKeys.filter(\n\t\t\t\t\t\t(key) =>\n\t\t\t\t\t\t\t!objects.equals(\n\t\t\t\t\t\t\t\tthis._defaultConfiguration\n\t\t\t\t\t\t\t\t\t.override(overrideIdentifier)\n\t\t\t\t\t\t\t\t\t.getValue(key),\n\t\t\t\t\t\t\t\tdefaults\n\t\t\t\t\t\t\t\t\t.override(overrideIdentifier)\n\t\t\t\t\t\t\t\t\t.getValue(key),\n\t\t\t\t\t\t\t),\n\t\t\t\t\t),\n\t\t\t\t];\n\t\t\t\toverrides.push([overrideIdentifier, keys]);\n\t\t\t}\n\t\t}\n\t\tthis.updateDefaultConfiguration(defaults);\n\t\treturn { keys, overrides };\n\t}\n\n\tcompareAndUpdatePolicyConfiguration(\n\t\tpolicyConfiguration: ConfigurationModel,\n\t): IConfigurationChange {\n\t\tconst { added, updated, removed } = compare(\n\t\t\tthis._policyConfiguration,\n\t\t\tpolicyConfiguration,\n\t\t);\n\t\tconst keys = [...added, ...updated, ...removed];\n\t\tif (keys.length) {\n\t\t\tthis.updatePolicyConfiguration(policyConfiguration);\n\t\t}\n\t\treturn { keys, overrides: [] };\n\t}\n\n\tcompareAndUpdateApplicationConfiguration(\n\t\tapplication: ConfigurationModel,\n\t): IConfigurationChange {\n\t\tconst { added, updated, removed, overrides } = compare(\n\t\t\tthis.applicationConfiguration,\n\t\t\tapplication,\n\t\t);\n\t\tconst keys = [...added, ...updated, ...removed];\n\t\tif (keys.length) {\n\t\t\tthis.updateApplicationConfiguration(application);\n\t\t}\n\t\treturn { keys, overrides };\n\t}\n\n\tcompareAndUpdateLocalUserConfiguration(\n\t\tuser: ConfigurationModel,\n\t): IConfigurationChange {\n\t\tconst { added, updated, removed, overrides } = compare(\n\t\t\tthis.localUserConfiguration,\n\t\t\tuser,\n\t\t);\n\t\tconst keys = [...added, ...updated, ...removed];\n\t\tif (keys.length) {\n\t\t\tthis.updateLocalUserConfiguration(user);\n\t\t}\n\t\treturn { keys, overrides };\n\t}\n\n\tcompareAndUpdateRemoteUserConfiguration(\n\t\tuser: ConfigurationModel,\n\t): IConfigurationChange {\n\t\tconst { added, updated, removed, overrides } = compare(\n\t\t\tthis.remoteUserConfiguration,\n\t\t\tuser,\n\t\t);\n\t\tconst keys = [...added, ...updated, ...removed];\n\t\tif (keys.length) {\n\t\t\tthis.updateRemoteUserConfiguration(user);\n\t\t}\n\t\treturn { keys, overrides };\n\t}\n\n\tcompareAndUpdateWorkspaceConfiguration(\n\t\tworkspaceConfiguration: ConfigurationModel,\n\t): IConfigurationChange {\n\t\tconst { added, updated, removed, overrides } = compare(\n\t\t\tthis.workspaceConfiguration,\n\t\t\tworkspaceConfiguration,\n\t\t);\n\t\tconst keys = [...added, ...updated, ...removed];\n\t\tif (keys.length) {\n\t\t\tthis.updateWorkspaceConfiguration(workspaceConfiguration);\n\t\t}\n\t\treturn { keys, overrides };\n\t}\n\n\tcompareAndUpdateFolderConfiguration(\n\t\tresource: URI,\n\t\tfolderConfiguration: ConfigurationModel,\n\t): IConfigurationChange {\n\t\tconst currentFolderConfiguration =\n\t\t\tthis.folderConfigurations.get(resource);\n\t\tconst { added, updated, removed, overrides } = compare(\n\t\t\tcurrentFolderConfiguration,\n\t\t\tfolderConfiguration,\n\t\t);\n\t\tconst keys = [...added, ...updated, ...removed];\n\t\tif (keys.length || !currentFolderConfiguration) {\n\t\t\tthis.updateFolderConfiguration(resource, folderConfiguration);\n\t\t}\n\t\treturn { keys, overrides };\n\t}\n\n\tcompareAndDeleteFolderConfiguration(folder: URI): IConfigurationChange {\n\t\tconst folderConfig = this.folderConfigurations.get(folder);\n\t\tif (!folderConfig) {\n\t\t\tthrow new Error(\"Unknown folder\");\n\t\t}\n\t\tthis.deleteFolderConfiguration(folder);\n\t\tconst { added, updated, removed, overrides } = compare(\n\t\t\tfolderConfig,\n\t\t\tundefined,\n\t\t);\n\t\treturn { keys: [...added, ...updated, ...removed], overrides };\n\t}\n\n\tget defaults(): ConfigurationModel {\n\t\treturn this._defaultConfiguration;\n\t}\n\n\tget applicationConfiguration(): ConfigurationModel {\n\t\treturn this._applicationConfiguration;\n\t}\n\n\tprivate _userConfiguration: ConfigurationModel | null = null;\n\tget userConfiguration(): ConfigurationModel {\n\t\tif (!this._userConfiguration) {\n\t\t\tthis._userConfiguration = this._remoteUserConfiguration.isEmpty()\n\t\t\t\t? this._localUserConfiguration\n\t\t\t\t: this._localUserConfiguration.merge(\n\t\t\t\t\t\tthis._remoteUserConfiguration,\n\t\t\t\t\t);\n\t\t}\n\t\treturn this._userConfiguration;\n\t}\n\n\tget localUserConfiguration(): ConfigurationModel {\n\t\treturn this._localUserConfiguration;\n\t}\n\n\tget remoteUserConfiguration(): ConfigurationModel {\n\t\treturn this._remoteUserConfiguration;\n\t}\n\n\tget workspaceConfiguration(): ConfigurationModel {\n\t\treturn this._workspaceConfiguration;\n\t}\n\n\tget folderConfigurations(): ResourceMap<ConfigurationModel> {\n\t\treturn this._folderConfigurations;\n\t}\n\n\tprivate getConsolidatedConfigurationModel(\n\t\tsection: string | undefined,\n\t\toverrides: IConfigurationOverrides,\n\t\tworkspace: Workspace | undefined,\n\t): ConfigurationModel {\n\t\tlet configurationModel =\n\t\t\tthis.getConsolidatedConfigurationModelForResource(\n\t\t\t\toverrides,\n\t\t\t\tworkspace,\n\t\t\t);\n\t\tif (overrides.overrideIdentifier) {\n\t\t\tconfigurationModel = configurationModel.override(\n\t\t\t\toverrides.overrideIdentifier,\n\t\t\t);\n\t\t}\n\t\tif (\n\t\t\t!this._policyConfiguration.isEmpty() &&\n\t\t\tthis._policyConfiguration.getValue(section) !== undefined\n\t\t) {\n\t\t\tconfigurationModel = configurationModel.merge(\n\t\t\t\tthis._policyConfiguration,\n\t\t\t);\n\t\t}\n\t\treturn configurationModel;\n\t}\n\n\tprivate getConsolidatedConfigurationModelForResource(\n\t\t{ resource }: IConfigurationOverrides,\n\t\tworkspace: Workspace | undefined,\n\t): ConfigurationModel {\n\t\tlet consolidateConfiguration =\n\t\t\tthis.getWorkspaceConsolidatedConfiguration();\n\n\t\tif (workspace && resource) {\n\t\t\tconst root = workspace.getFolder(resource);\n\t\t\tif (root) {\n\t\t\t\tconsolidateConfiguration =\n\t\t\t\t\tthis.getFolderConsolidatedConfiguration(root.uri) ||\n\t\t\t\t\tconsolidateConfiguration;\n\t\t\t}\n\t\t\tconst memoryConfigurationForResource =\n\t\t\t\tthis._memoryConfigurationByResource.get(resource);\n\t\t\tif (memoryConfigurationForResource) {\n\t\t\t\tconsolidateConfiguration = consolidateConfiguration.merge(\n\t\t\t\t\tmemoryConfigurationForResource,\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\treturn consolidateConfiguration;\n\t}\n\n\tprivate getWorkspaceConsolidatedConfiguration(): ConfigurationModel {\n\t\tif (!this._workspaceConsolidatedConfiguration) {\n\t\t\tthis._workspaceConsolidatedConfiguration =\n\t\t\t\tthis._defaultConfiguration.merge(\n\t\t\t\t\tthis.applicationConfiguration,\n\t\t\t\t\tthis.userConfiguration,\n\t\t\t\t\tthis._workspaceConfiguration,\n\t\t\t\t\tthis._memoryConfiguration,\n\t\t\t\t);\n\t\t}\n\t\treturn this._workspaceConsolidatedConfiguration;\n\t}\n\n\tprivate getFolderConsolidatedConfiguration(\n\t\tfolder: URI,\n\t): ConfigurationModel {\n\t\tlet folderConsolidatedConfiguration =\n\t\t\tthis._foldersConsolidatedConfigurations.get(folder);\n\t\tif (!folderConsolidatedConfiguration) {\n\t\t\tconst workspaceConsolidateConfiguration =\n\t\t\t\tthis.getWorkspaceConsolidatedConfiguration();\n\t\t\tconst folderConfiguration = this._folderConfigurations.get(folder);\n\t\t\tif (folderConfiguration) {\n\t\t\t\tfolderConsolidatedConfiguration =\n\t\t\t\t\tworkspaceConsolidateConfiguration.merge(\n\t\t\t\t\t\tfolderConfiguration,\n\t\t\t\t\t);\n\t\t\t\tthis._foldersConsolidatedConfigurations.set(\n\t\t\t\t\tfolder,\n\t\t\t\t\tfolderConsolidatedConfiguration,\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tfolderConsolidatedConfiguration =\n\t\t\t\t\tworkspaceConsolidateConfiguration;\n\t\t\t}\n\t\t}\n\t\treturn folderConsolidatedConfiguration;\n\t}\n\n\tprivate getFolderConfigurationModelForResource(\n\t\tresource: URI | null | undefined,\n\t\tworkspace: Workspace | undefined,\n\t): ConfigurationModel | undefined {\n\t\tif (workspace && resource) {\n\t\t\tconst root = workspace.getFolder(resource);\n\t\t\tif (root) {\n\t\t\t\treturn this._folderConfigurations.get(root.uri);\n\t\t\t}\n\t\t}\n\t\treturn undefined;\n\t}\n\n\ttoData(): IConfigurationData {\n\t\treturn {\n\t\t\tdefaults: {\n\t\t\t\tcontents: this._defaultConfiguration.contents,\n\t\t\t\toverrides: this._defaultConfiguration.overrides,\n\t\t\t\tkeys: this._defaultConfiguration.keys,\n\t\t\t},\n\t\t\tpolicy: {\n\t\t\t\tcontents: this._policyConfiguration.contents,\n\t\t\t\toverrides: this._policyConfiguration.overrides,\n\t\t\t\tkeys: this._policyConfiguration.keys,\n\t\t\t},\n\t\t\tapplication: {\n\t\t\t\tcontents: this.applicationConfiguration.contents,\n\t\t\t\toverrides: this.applicationConfiguration.overrides,\n\t\t\t\tkeys: this.applicationConfiguration.keys,\n\t\t\t},\n\t\t\tuser: {\n\t\t\t\tcontents: this.userConfiguration.contents,\n\t\t\t\toverrides: this.userConfiguration.overrides,\n\t\t\t\tkeys: this.userConfiguration.keys,\n\t\t\t},\n\t\t\tworkspace: {\n\t\t\t\tcontents: this._workspaceConfiguration.contents,\n\t\t\t\toverrides: this._workspaceConfiguration.overrides,\n\t\t\t\tkeys: this._workspaceConfiguration.keys,\n\t\t\t},\n\t\t\tfolders: [...this._folderConfigurations.keys()].reduce<\n\t\t\t\t[UriComponents, IConfigurationModel][]\n\t\t\t>((result, folder) => {\n\t\t\t\tconst { contents, overrides, keys } =\n\t\t\t\t\tthis._folderConfigurations.get(folder)!;\n\t\t\t\tresult.push([folder, { contents, overrides, keys }]);\n\t\t\t\treturn result;\n\t\t\t}, []),\n\t\t};\n\t}\n\n\tallKeys(): string[] {\n\t\tconst keys: Set<string> = new Set<string>();\n\t\tthis._defaultConfiguration.keys.forEach((key) => keys.add(key));\n\t\tthis.userConfiguration.keys.forEach((key) => keys.add(key));\n\t\tthis._workspaceConfiguration.keys.forEach((key) => keys.add(key));\n\t\tthis._folderConfigurations.forEach((folderConfiguration) =>\n\t\t\tfolderConfiguration.keys.forEach((key) => keys.add(key)),\n\t\t);\n\t\treturn [...keys.values()];\n\t}\n\n\tprotected allOverrideIdentifiers(): string[] {\n\t\tconst keys: Set<string> = new Set<string>();\n\t\tthis._defaultConfiguration\n\t\t\t.getAllOverrideIdentifiers()\n\t\t\t.forEach((key) => keys.add(key));\n\t\tthis.userConfiguration\n\t\t\t.getAllOverrideIdentifiers()\n\t\t\t.forEach((key) => keys.add(key));\n\t\tthis._workspaceConfiguration\n\t\t\t.getAllOverrideIdentifiers()\n\t\t\t.forEach((key) => keys.add(key));\n\t\tthis._folderConfigurations.forEach((folderConfiguration) =>\n\t\t\tfolderConfiguration\n\t\t\t\t.getAllOverrideIdentifiers()\n\t\t\t\t.forEach((key) => keys.add(key)),\n\t\t);\n\t\treturn [...keys.values()];\n\t}\n\n\tprotected getAllKeysForOverrideIdentifier(\n\t\toverrideIdentifier: string,\n\t): string[] {\n\t\tconst keys: Set<string> = new Set<string>();\n\t\tthis._defaultConfiguration\n\t\t\t.getKeysForOverrideIdentifier(overrideIdentifier)\n\t\t\t.forEach((key) => keys.add(key));\n\t\tthis.userConfiguration\n\t\t\t.getKeysForOverrideIdentifier(overrideIdentifier)\n\t\t\t.forEach((key) => keys.add(key));\n\t\tthis._workspaceConfiguration\n\t\t\t.getKeysForOverrideIdentifier(overrideIdentifier)\n\t\t\t.forEach((key) => keys.add(key));\n\t\tthis._folderConfigurations.forEach((folderConfiguration) =>\n\t\t\tfolderConfiguration\n\t\t\t\t.getKeysForOverrideIdentifier(overrideIdentifier)\n\t\t\t\t.forEach((key) => keys.add(key)),\n\t\t);\n\t\treturn [...keys.values()];\n\t}\n\n\tstatic parse(\n\t\tdata: IConfigurationData,\n\t\tlogService: ILogService,\n\t): Configuration {\n\t\tconst defaultConfiguration = this.parseConfigurationModel(\n\t\t\tdata.defaults,\n\t\t\tlogService,\n\t\t);\n\t\tconst policyConfiguration = this.parseConfigurationModel(\n\t\t\tdata.policy,\n\t\t\tlogService,\n\t\t);\n\t\tconst applicationConfiguration = this.parseConfigurationModel(\n\t\t\tdata.application,\n\t\t\tlogService,\n\t\t);\n\t\tconst userConfiguration = this.parseConfigurationModel(\n\t\t\tdata.user,\n\t\t\tlogService,\n\t\t);\n\t\tconst workspaceConfiguration = this.parseConfigurationModel(\n\t\t\tdata.workspace,\n\t\t\tlogService,\n\t\t);\n\t\tconst folders: ResourceMap<ConfigurationModel> = data.folders.reduce(\n\t\t\t(result, value) => {\n\t\t\t\tresult.set(\n\t\t\t\t\tURI.revive(value[0]),\n\t\t\t\t\tthis.parseConfigurationModel(value[1], logService),\n\t\t\t\t);\n\t\t\t\treturn result;\n\t\t\t},\n\t\t\tnew ResourceMap<ConfigurationModel>(),\n\t\t);\n\t\treturn new Configuration(\n\t\t\tdefaultConfiguration,\n\t\t\tpolicyConfiguration,\n\t\t\tapplicationConfiguration,\n\t\t\tuserConfiguration,\n\t\t\tConfigurationModel.createEmptyModel(logService),\n\t\t\tworkspaceConfiguration,\n\t\t\tfolders,\n\t\t\tConfigurationModel.createEmptyModel(logService),\n\t\t\tnew ResourceMap<ConfigurationModel>(),\n\t\t\tlogService,\n\t\t);\n\t}\n\n\tprivate static parseConfigurationModel(\n\t\tmodel: IConfigurationModel,\n\t\tlogService: ILogService,\n\t): ConfigurationModel {\n\t\treturn new ConfigurationModel(\n\t\t\tmodel.contents,\n\t\t\tmodel.keys,\n\t\t\tmodel.overrides,\n\t\t\tundefined,\n\t\t\tlogService,\n\t\t);\n\t}\n}\n\nexport function mergeChanges(\n\t...changes: IConfigurationChange[]\n): IConfigurationChange {\n\tif (changes.length === 0) {\n\t\treturn { keys: [], overrides: [] };\n\t}\n\tif (changes.length === 1) {\n\t\treturn changes[0];\n\t}\n\tconst keysSet = new Set<string>();\n\tconst overridesMap = new Map<string, Set<string>>();\n\tfor (const change of changes) {\n\t\tchange.keys.forEach((key) => keysSet.add(key));\n\t\tchange.overrides.forEach(([identifier, keys]) => {\n\t\t\tconst result = getOrSet(\n\t\t\t\toverridesMap,\n\t\t\t\tidentifier,\n\t\t\t\tnew Set<string>(),\n\t\t\t);\n\t\t\tkeys.forEach((key) => result.add(key));\n\t\t});\n\t}\n\tconst overrides: [string, string[]][] = [];\n\toverridesMap.forEach((keys, identifier) =>\n\t\toverrides.push([identifier, [...keys.values()]]),\n\t);\n\treturn { keys: [...keysSet.values()], overrides };\n}\n\nexport class ConfigurationChangeEvent implements IConfigurationChangeEvent {\n\tprivate readonly _marker = \"\\n\";\n\tprivate readonly _markerCode1 = this._marker.charCodeAt(0);\n\tprivate readonly _markerCode2 = \".\".charCodeAt(0);\n\tprivate readonly _affectsConfigStr: string;\n\n\treadonly affectedKeys = new Set<string>();\n\tsource!: ConfigurationTarget;\n\n\tconstructor(\n\t\treadonly change: IConfigurationChange,\n\t\tprivate readonly previous:\n\t\t\t| { workspace?: Workspace; data: IConfigurationData }\n\t\t\t| undefined,\n\t\tprivate readonly currentConfiguraiton: Configuration,\n\t\tprivate readonly currentWorkspace: Workspace | undefined,\n\t\tprivate readonly logService: ILogService,\n\t) {\n\t\tfor (const key of change.keys) {\n\t\t\tthis.affectedKeys.add(key);\n\t\t}\n\t\tfor (const [, keys] of change.overrides) {\n\t\t\tfor (const key of keys) {\n\t\t\t\tthis.affectedKeys.add(key);\n\t\t\t}\n\t\t}\n\n\t\t// Example: '\\nfoo.bar\\nabc.def\\n'\n\t\tthis._affectsConfigStr = this._marker;\n\t\tfor (const key of this.affectedKeys) {\n\t\t\tthis._affectsConfigStr += key + this._marker;\n\t\t}\n\t}\n\n\tprivate _previousConfiguration: Configuration | undefined = undefined;\n\tget previousConfiguration(): Configuration | undefined {\n\t\tif (!this._previousConfiguration && this.previous) {\n\t\t\tthis._previousConfiguration = Configuration.parse(\n\t\t\t\tthis.previous.data,\n\t\t\t\tthis.logService,\n\t\t\t);\n\t\t}\n\t\treturn this._previousConfiguration;\n\t}\n\n\taffectsConfiguration(\n\t\tsection: string,\n\t\toverrides?: IConfigurationOverrides,\n\t): boolean {\n\t\t// we have one large string with all keys that have changed. we pad (marker) the section\n\t\t// and check that either find it padded or before a segment character\n\t\tconst needle = this._marker + section;\n\t\tconst idx = this._affectsConfigStr.indexOf(needle);\n\t\tif (idx < 0) {\n\t\t\t// NOT: (marker + section)\n\t\t\treturn false;\n\t\t}\n\t\tconst pos = idx + needle.length;\n\t\tif (pos >= this._affectsConfigStr.length) {\n\t\t\treturn false;\n\t\t}\n\t\tconst code = this._affectsConfigStr.charCodeAt(pos);\n\t\tif (code !== this._markerCode1 && code !== this._markerCode2) {\n\t\t\t// NOT: section + (marker | segment)\n\t\t\treturn false;\n\t\t}\n\t\tif (overrides) {\n\t\t\tconst value1 = this.previousConfiguration\n\t\t\t\t? this.previousConfiguration.getValue(\n\t\t\t\t\t\tsection,\n\t\t\t\t\t\toverrides,\n\t\t\t\t\t\tthis.previous?.workspace,\n\t\t\t\t\t)\n\t\t\t\t: undefined;\n\t\t\tconst value2 = this.currentConfiguraiton.getValue(\n\t\t\t\tsection,\n\t\t\t\toverrides,\n\t\t\t\tthis.currentWorkspace,\n\t\t\t);\n\t\t\treturn !objects.equals(value1, value2);\n\t\t}\n\t\treturn true;\n\t}\n}\n\nfunction compare(\n\tfrom: ConfigurationModel | undefined,\n\tto: ConfigurationModel | undefined,\n): IConfigurationCompareResult {\n\tconst { added, removed, updated } = compareConfigurationContents(\n\t\tto?.rawConfiguration,\n\t\tfrom?.rawConfiguration,\n\t);\n\tconst overrides: [string, string[]][] = [];\n\n\tconst fromOverrideIdentifiers = from?.getAllOverrideIdentifiers() || [];\n\tconst toOverrideIdentifiers = to?.getAllOverrideIdentifiers() || [];\n\n\tif (to) {\n\t\tconst addedOverrideIdentifiers = toOverrideIdentifiers.filter(\n\t\t\t(key) => !fromOverrideIdentifiers.includes(key),\n\t\t);\n\t\tfor (const identifier of addedOverrideIdentifiers) {\n\t\t\toverrides.push([\n\t\t\t\tidentifier,\n\t\t\t\tto.getKeysForOverrideIdentifier(identifier),\n\t\t\t]);\n\t\t}\n\t}\n\n\tif (from) {\n\t\tconst removedOverrideIdentifiers = fromOverrideIdentifiers.filter(\n\t\t\t(key) => !toOverrideIdentifiers.includes(key),\n\t\t);\n\t\tfor (const identifier of removedOverrideIdentifiers) {\n\t\t\toverrides.push([\n\t\t\t\tidentifier,\n\t\t\t\tfrom.getKeysForOverrideIdentifier(identifier),\n\t\t\t]);\n\t\t}\n\t}\n\n\tif (to && from) {\n\t\tfor (const identifier of fromOverrideIdentifiers) {\n\t\t\tif (toOverrideIdentifiers.includes(identifier)) {\n\t\t\t\tconst result = compareConfigurationContents(\n\t\t\t\t\t{\n\t\t\t\t\t\tcontents:\n\t\t\t\t\t\t\tfrom.getOverrideValue(undefined, identifier) || {},\n\t\t\t\t\t\tkeys: from.getKeysForOverrideIdentifier(identifier),\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tcontents:\n\t\t\t\t\t\t\tto.getOverrideValue(undefined, identifier) || {},\n\t\t\t\t\t\tkeys: to.getKeysForOverrideIdentifier(identifier),\n\t\t\t\t\t},\n\t\t\t\t);\n\t\t\t\toverrides.push([\n\t\t\t\t\tidentifier,\n\t\t\t\t\t[...result.added, ...result.removed, ...result.updated],\n\t\t\t\t]);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn { added, removed, updated, overrides };\n}\n\nfunction compareConfigurationContents(\n\tto: { keys: string[]; contents: any } | undefined,\n\tfrom: { keys: string[]; contents: any } | undefined,\n) {\n\tconst added = to\n\t\t? from\n\t\t\t? to.keys.filter((key) => from.keys.indexOf(key) === -1)\n\t\t\t: [...to.keys]\n\t\t: [];\n\tconst removed = from\n\t\t? to\n\t\t\t? from.keys.filter((key) => to.keys.indexOf(key) === -1)\n\t\t\t: [...from.keys]\n\t\t: [];\n\tconst updated: string[] = [];\n\n\tif (to && from) {\n\t\tfor (const key of from.keys) {\n\t\t\tif (to.keys.indexOf(key) !== -1) {\n\t\t\t\tconst value1 = getConfigurationValue(from.contents, key);\n\t\t\t\tconst value2 = getConfigurationValue(to.contents, key);\n\t\t\t\tif (!objects.equals(value1, value2)) {\n\t\t\t\t\tupdated.push(key);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn { added, removed, updated };\n}\n"],
  "mappings": "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",
  "names": ["keys", "key"]
}
