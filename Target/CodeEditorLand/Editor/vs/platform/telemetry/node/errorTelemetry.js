import{isCancellationError as s,isSigPipeError as c,onUnexpectedError as i,setUnexpectedErrorHandler as d}from"../../../base/common/errors.js";import a from"../common/errorTelemetry.js";class l extends a{installErrorListeners(){d(e=>{});const o=[];process.on("unhandledRejection",(e,r)=>{o.push(r),setTimeout(()=>{const n=o.indexOf(r);n>=0&&r.catch(t=>{o.splice(n,1),s(t)||(t.stack,e&&i(e))})},1e3)}),process.on("rejectionHandled",e=>{const r=o.indexOf(e);r>=0&&o.splice(r,1)}),process.on("uncaughtException",e=>{c(e)||i(e)})}}export{l as default};
