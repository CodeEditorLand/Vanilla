import{DisposableStore as e}from"../../../../base/common/lifecycle.js";import{ProxyChannel as s}from"../../../../base/parts/ipc/common/ipc.js";import{Server as o}from"../../../../base/parts/ipc/node/ipc.cp.js";import{Server as i}from"../../../../base/parts/ipc/node/ipc.mp.js";import{isUtilityProcess as t}from"../../../../base/parts/sandbox/node/electronTypes.js";import{UniversalWatcher as m}from"./watcher.js";let r;t(process)?r=new i:r=new o("watcher");const c=new m;r.registerChannel("watcher",s.fromService(c,new e));
