import{Codicon as a}from"../../../base/common/codicons.js";import"../../../base/common/color.js";import{Emitter as l}from"../../../base/common/event.js";import{Disposable as s,toDisposable as c}from"../../../base/common/lifecycle.js";import"../../environment/common/environment.js";import{createDecorator as h}from"../../instantiation/common/instantiation.js";import*as m from"../../registry/common/platform.js";import"./colorRegistry.js";import"./iconRegistry.js";import{ColorScheme as o}from"./theme.js";const F=h("themeService");function R(e){return{id:e}}const w=a.file,H=a.folder;function _(e){switch(e){case o.DARK:return"vs-dark";case o.HIGH_CONTRAST_DARK:return"hc-black";case o.HIGH_CONTRAST_LIGHT:return"hc-light";default:return"vs"}}const g={ThemingContribution:"base.contributions.theming"};class u{themingParticipants=[];onThemingParticipantAddedEmitter;constructor(){this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new l}onColorThemeChange(r){return this.themingParticipants.push(r),this.onThemingParticipantAddedEmitter.fire(r),c(()=>{const n=this.themingParticipants.indexOf(r);this.themingParticipants.splice(n,1)})}get onThemingParticipantAdded(){return this.onThemingParticipantAddedEmitter.event}getThemingParticipants(){return this.themingParticipants}}const d=new u;m.Registry.add(g.ThemingContribution,d);function G(e){return d.onColorThemeChange(e)}class L extends s{constructor(n){super();this.themeService=n;this.theme=n.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(i=>this.onThemeChange(i)))}theme;onThemeChange(n){this.theme=n,this.updateStyles()}updateStyles(){}getColor(n,i){let t=this.theme.getColor(n);return t&&i&&(t=i(t,this.theme)),t?t.toString():null}}export{g as Extensions,w as FileThemeIcon,H as FolderThemeIcon,F as IThemeService,L as Themable,_ as getThemeTypeSelector,G as registerThemingParticipant,R as themeColorFromId};
