var Ov=Object.defineProperty;var Rv=Object.getOwnPropertyDescriptor;var ie=(i,e,t,n)=>{for(var o=n>1?void 0:n?Rv(e,t):e,r=i.length-1,s;r>=0;r--)(s=i[r])&&(o=(n?s(e,t,o):s(o))||o);return n&&o&&Ov(e,t,o),o},ue=(i,e)=>(t,n)=>e(t,n,i);function Ap(i,e){let t=i;typeof t.vscodeWindowId!="number"&&Object.defineProperty(t,"vscodeWindowId",{get:()=>e})}var Xe=window;var Xd=class{unexpectedErrorHandler;listeners;constructor(){this.listeners=[],this.unexpectedErrorHandler=function(e){setTimeout(()=>{throw e.stack?ua.isErrorNoTelemetry(e)?new ua(e.message+`

`+e.stack):new Error(e.message+`

`+e.stack):e},0)}}addListener(e){return this.listeners.push(e),()=>{this._removeListener(e)}}emit(e){this.listeners.forEach(t=>{t(e)})}_removeListener(e){this.listeners.splice(this.listeners.indexOf(e),1)}setUnexpectedErrorHandler(e){this.unexpectedErrorHandler=e}getUnexpectedErrorHandler(){return this.unexpectedErrorHandler}onUnexpectedError(e){this.unexpectedErrorHandler(e),this.emit(e)}onUnexpectedExternalError(e){this.unexpectedErrorHandler(e)}},Mp=new Xd;function Wo(i){Mp.onUnexpectedError(i)}function Pt(i){Vr(i)||Mp.onUnexpectedError(i)}var Jd="Canceled";function Vr(i){return i instanceof On?!0:i instanceof Error&&i.name===Jd&&i.message===Jd}var On=class extends Error{constructor(){super(Jd),this.name=this.message}};function ha(i){return i?new Error(`Illegal argument: ${i}`):new Error("Illegal argument")}function Np(i){return i?new Error(`Illegal state: ${i}`):new Error("Illegal state")}var ua=class i extends Error{name;constructor(e){super(e),this.name="CodeExpectedError"}static fromError(e){if(e instanceof i)return e;let t=new i;return t.message=e.message,t.stack=e.stack,t}static isErrorNoTelemetry(e){return e.name==="CodeExpectedError"}},pn=class i extends Error{constructor(e){super(e||"An unexpected bug occurred."),Object.setPrototypeOf(this,i.prototype)}};function Bt(i,e=0){return i[i.length-(1+e)]}function Rp(i){if(i.length===0)throw new Error("Invalid tail call");return[i.slice(0,i.length-1),i[i.length-1]]}function xt(i,e,t=(n,o)=>n===o){if(i===e)return!0;if(!i||!e||i.length!==e.length)return!1;for(let n=0,o=i.length;n<o;n++)if(!t(i[n],e[n]))return!1;return!0}function Fp(i,e,t){return Pv(i.length,n=>t(i[n],e))}function Pv(i,e){let t=0,n=i-1;for(;t<=n;){let o=(t+n)/2|0,r=e(o);if(r<0)t=o+1;else if(r>0)n=o-1;else return o}return-(t+1)}function Pp(i){return i.filter(e=>!!e)}function co(i,e=t=>t){let t=new Set;return i.filter(n=>{let o=e(n);return t.has(o)?!1:(t.add(o),!0)})}function st(i,e){let t=typeof e=="number"?i:0;typeof e=="number"?t=i:(t=0,e=i);let n=[];if(t<=e)for(let o=t;o<e;o++)n.push(o);else for(let o=t;o>e;o--)n.push(o);return n}function pa(i,e){let t=i.indexOf(e);t>-1&&(i.splice(t,1),i.unshift(e))}function Wr(i,e){let t=i.indexOf(e);t>-1&&(i.splice(t,1),i.push(e))}function Bv(i,e,t){let n=Bp(i,e),o=i.length,r=t.length;i.length=o+r;for(let s=o-1;s>=n;s--)i[s+r]=i[s];for(let s=0;s<r;s++)i[s+n]=t[s]}function Zd(i,e,t,n){let o=Bp(i,e),r=i.splice(o,t);return r===void 0&&(r=[]),Bv(i,o,n),r}function Bp(i,e){return e<0?Math.max(e+i.length,0):Math.min(e,i.length)}var Hp;(a=>{function i(l){return l<0}a.isLessThan=i;function e(l){return l<=0}a.isLessThanOrEqual=e;function t(l){return l>0}a.isGreaterThan=t;function n(l){return l===0}a.isNeitherLessOrGreaterThan=n,a.greaterThan=1,a.lessThan=-1,a.neitherLessOrGreaterThan=0})(Hp||={});var Op=class i{constructor(e){this.iterate=e}static empty=new i(e=>{});forEach(e){this.iterate(t=>(e(t),!0))}toArray(){let e=[];return this.iterate(t=>(e.push(t),!0)),e}filter(e){return new i(t=>this.iterate(n=>e(n)?t(n):!0))}map(e){return new i(t=>this.iterate(n=>t(e(n))))}some(e){let t=!1;return this.iterate(n=>(t=e(n),!t)),t}findFirst(e){let t;return this.iterate(n=>e(n)?(t=n,!1):!0),t}findLast(e){let t;return this.iterate(n=>(e(n)&&(t=n),!0)),t}findLastMaxBy(e){let t,n=!0;return this.iterate(o=>((n||Hp.isGreaterThan(e(o,t)))&&(n=!1,t=o),!0)),t}};function ec(){return globalThis._VSCODE_NLS_MESSAGES}function $r(){return globalThis._VSCODE_NLS_LANGUAGE}var Hv=$r()==="pseudo"||typeof document<"u"&&document.location&&document.location.hash.indexOf("pseudo=true")>=0;function fa(i,e){let t;return e.length===0?t=i:t=i.replace(/\{(\d+)\}/g,(n,o)=>{let r=o[0],s=e[r],a=n;return typeof s=="string"?a=s:(typeof s=="number"||typeof s=="boolean"||s===void 0||s===null)&&(a=String(s)),a}),Hv&&(t="\uFF3B"+t.replace(/[aouei]/g,"$&$&")+"\uFF3D"),t}function p(i,e,...t){return fa(typeof i=="number"?Kp(i,e):e,t)}function Kp(i,e){let t=ec()?.[i];if(typeof t!="string"){if(typeof e=="string")return e;throw new Error(`!!! NLS MISSING: ${i} !!!`)}return t}function uo(i,e,...t){let n;typeof i=="number"?n=Kp(i,e):n=e;let o=fa(n,t);return{value:o,original:e===n?o:fa(e,t)}}var $o="en",Gr=!1,jr=!1,qr=!1,Kv=!1,Up=!1,nc=!1,zv=!1,ic=!1,Uv=!1,Vp=!1,ga,ba=$o,zp=$o,Vv,ri,si=globalThis,Qt;typeof si.vscode<"u"&&typeof si.vscode.process<"u"?Qt=si.vscode.process:typeof process<"u"&&typeof process?.versions?.node=="string"&&(Qt=process);var Wp=typeof Qt?.versions?.electron=="string",Wv=Wp&&Qt?.type==="renderer";if(typeof Qt=="object"){Gr=Qt.platform==="win32",jr=Qt.platform==="darwin",qr=Qt.platform==="linux",Kv=qr&&!!Qt.env.SNAP&&!!Qt.env.SNAP_REVISION,zv=Wp,Uv=!!Qt.env.CI||!!Qt.env.BUILD_ARTIFACTSTAGINGDIRECTORY,ga=$o,ba=$o;let i=Qt.env.VSCODE_NLS_CONFIG;if(i)try{let e=JSON.parse(i);ga=e.userLocale,zp=e.osLocale,ba=e.resolvedLanguage||$o,Vv=e.languagePack?.translationsConfigFile}catch{}Up=!0}else typeof navigator=="object"&&!Wv?(ri=navigator.userAgent,Gr=ri.indexOf("Windows")>=0,jr=ri.indexOf("Macintosh")>=0,ic=(ri.indexOf("Macintosh")>=0||ri.indexOf("iPad")>=0||ri.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,qr=ri.indexOf("Linux")>=0,Vp=ri?.indexOf("Mobi")>=0,nc=!0,ba=$r()||$o,ga=navigator.language.toLowerCase(),zp=ga):console.error("Unable to resolve platform.");var tc=0;jr?tc=1:Gr?tc=3:qr&&(tc=2);var at=Gr,ke=jr,rn=qr;var qo=Up;var Ei=nc,$v=nc&&typeof si.importScripts=="function",$p=$v?si.origin:void 0,ho=ic,qp=Vp;var Rn=ri,wi=ba,qv;(n=>{function i(){return wi}n.value=i;function e(){return wi.length===2?wi==="en":wi.length>=3?wi[0]==="e"&&wi[1]==="n"&&wi[2]==="-":!1}n.isDefaultVariant=e;function t(){return wi==="en"}n.isDefault=t})(qv||={});var Gv=typeof si.postMessage=="function"&&!si.importScripts,Gp=(()=>{if(Gv){let i=[];si.addEventListener("message",t=>{if(t.data&&t.data.vscodeScheduleAsyncWork)for(let n=0,o=i.length;n<o;n++){let r=i[n];if(r.id===t.data.vscodeScheduleAsyncWork){i.splice(n,1),r.callback();return}}});let e=0;return t=>{let n=++e;i.push({id:n,callback:t}),si.postMessage({vscodeScheduleAsyncWork:n},"*")}}return i=>setTimeout(i)})();var Di=jr||ic?2:Gr?1:3;var oc=!!(Rn&&Rn.indexOf("Chrome")>=0),jp=!!(Rn&&Rn.indexOf("Firefox")>=0),Qp=!!(!oc&&Rn&&Rn.indexOf("Safari")>=0),Yp=!!(Rn&&Rn.indexOf("Edg/")>=0),Zx=!!(Rn&&Rn.indexOf("Android")>=0);var po,rc=globalThis.vscode;if(typeof rc<"u"&&typeof rc.process<"u"){let i=rc.process;po={get platform(){return i.platform},get arch(){return i.arch},get env(){return i.env},cwd(){return i.cwd()}}}else typeof process<"u"&&typeof process?.versions?.node=="string"?po={get platform(){return process.platform},get arch(){return process.arch},get env(){return process.env},cwd(){return process.env.VSCODE_CWD||process.cwd()}}:po={get platform(){return at?"win32":ke?"darwin":"linux"},get arch(){},get env(){return{}},cwd(){return"/"}};var Qr=po.cwd,Xp=po.env,Jp=po.platform,n0=po.arch;var Qv=65,Yv=97,Xv=90,Jv=122,Ci=46,vt=47,Ht=92,ki=58,Zv=63,va=class extends Error{code;constructor(e,t,n){let o;typeof t=="string"&&t.indexOf("not ")===0?(o="must not be",t=t.replace(/^not /,"")):o="must be";let r=e.indexOf(".")!==-1?"property":"argument",s=`The "${e}" ${r} ${o} of type ${t}`;s+=`. Received type ${typeof n}`,super(s),this.code="ERR_INVALID_ARG_TYPE"}};function ey(i,e){if(i===null||typeof i!="object")throw new va(e,"Object",i)}function nt(i,e){if(typeof i!="string")throw new va(e,"string",i)}var Kt=Jp==="win32";function xe(i){return i===vt||i===Ht}function sc(i){return i===vt}function _i(i){return i>=Qv&&i<=Xv||i>=Yv&&i<=Jv}function ya(i,e,t,n){let o="",r=0,s=-1,a=0,l=0;for(let d=0;d<=i.length;++d){if(d<i.length)l=i.charCodeAt(d);else{if(n(l))break;l=vt}if(n(l)){if(!(s===d-1||a===1))if(a===2){if(o.length<2||r!==2||o.charCodeAt(o.length-1)!==Ci||o.charCodeAt(o.length-2)!==Ci){if(o.length>2){let u=o.lastIndexOf(t);u===-1?(o="",r=0):(o=o.slice(0,u),r=o.length-1-o.lastIndexOf(t)),s=d,a=0;continue}else if(o.length!==0){o="",r=0,s=d,a=0;continue}}e&&(o+=o.length>0?`${t}..`:"..",r=2)}else o.length>0?o+=`${t}${i.slice(s+1,d)}`:o=i.slice(s+1,d),r=d-s-1;s=d,a=0}else l===Ci&&a!==-1?++a:a=-1}return o}function ty(i){return i?`${i[0]==="."?"":"."}${i}`:""}function Zp(i,e){ey(e,"pathObject");let t=e.dir||e.root,n=e.base||`${e.name||""}${ty(e.ext)}`;return t?t===e.root?`${t}${n}`:`${t}${i}${n}`:n}var Je={resolve(...i){let e="",t="",n=!1;for(let o=i.length-1;o>=-1;o--){let r;if(o>=0){if(r=i[o],nt(r,`paths[${o}]`),r.length===0)continue}else e.length===0?r=Qr():(r=Xp[`=${e}`]||Qr(),(r===void 0||r.slice(0,2).toLowerCase()!==e.toLowerCase()&&r.charCodeAt(2)===Ht)&&(r=`${e}\\`));let s=r.length,a=0,l="",d=!1,u=r.charCodeAt(0);if(s===1)xe(u)&&(a=1,d=!0);else if(xe(u))if(d=!0,xe(r.charCodeAt(1))){let h=2,f=h;for(;h<s&&!xe(r.charCodeAt(h));)h++;if(h<s&&h!==f){let T=r.slice(f,h);for(f=h;h<s&&xe(r.charCodeAt(h));)h++;if(h<s&&h!==f){for(f=h;h<s&&!xe(r.charCodeAt(h));)h++;(h===s||h!==f)&&(l=`\\\\${T}\\${r.slice(f,h)}`,a=h)}}}else a=1;else _i(u)&&r.charCodeAt(1)===ki&&(l=r.slice(0,2),a=2,s>2&&xe(r.charCodeAt(2))&&(d=!0,a=3));if(l.length>0)if(e.length>0){if(l.toLowerCase()!==e.toLowerCase())continue}else e=l;if(n){if(e.length>0)break}else if(t=`${r.slice(a)}\\${t}`,n=d,d&&e.length>0)break}return t=ya(t,!n,"\\",xe),n?`${e}\\${t}`:`${e}${t}`||"."},normalize(i){nt(i,"path");let e=i.length;if(e===0)return".";let t=0,n,o=!1,r=i.charCodeAt(0);if(e===1)return sc(r)?"\\":i;if(xe(r))if(o=!0,xe(i.charCodeAt(1))){let a=2,l=a;for(;a<e&&!xe(i.charCodeAt(a));)a++;if(a<e&&a!==l){let d=i.slice(l,a);for(l=a;a<e&&xe(i.charCodeAt(a));)a++;if(a<e&&a!==l){for(l=a;a<e&&!xe(i.charCodeAt(a));)a++;if(a===e)return`\\\\${d}\\${i.slice(l)}\\`;a!==l&&(n=`\\\\${d}\\${i.slice(l,a)}`,t=a)}}}else t=1;else _i(r)&&i.charCodeAt(1)===ki&&(n=i.slice(0,2),t=2,e>2&&xe(i.charCodeAt(2))&&(o=!0,t=3));let s=t<e?ya(i.slice(t),!o,"\\",xe):"";return s.length===0&&!o&&(s="."),s.length>0&&xe(i.charCodeAt(e-1))&&(s+="\\"),n===void 0?o?`\\${s}`:s:o?`${n}\\${s}`:`${n}${s}`},isAbsolute(i){nt(i,"path");let e=i.length;if(e===0)return!1;let t=i.charCodeAt(0);return xe(t)||e>2&&_i(t)&&i.charCodeAt(1)===ki&&xe(i.charCodeAt(2))},join(...i){if(i.length===0)return".";let e,t;for(let r=0;r<i.length;++r){let s=i[r];nt(s,"path"),s.length>0&&(e===void 0?e=t=s:e+=`\\${s}`)}if(e===void 0)return".";let n=!0,o=0;if(typeof t=="string"&&xe(t.charCodeAt(0))){++o;let r=t.length;r>1&&xe(t.charCodeAt(1))&&(++o,r>2&&(xe(t.charCodeAt(2))?++o:n=!1))}if(n){for(;o<e.length&&xe(e.charCodeAt(o));)o++;o>=2&&(e=`\\${e.slice(o)}`)}return Je.normalize(e)},relative(i,e){if(nt(i,"from"),nt(e,"to"),i===e)return"";let t=Je.resolve(i),n=Je.resolve(e);if(t===n||(i=t.toLowerCase(),e=n.toLowerCase(),i===e))return"";let o=0;for(;o<i.length&&i.charCodeAt(o)===Ht;)o++;let r=i.length;for(;r-1>o&&i.charCodeAt(r-1)===Ht;)r--;let s=r-o,a=0;for(;a<e.length&&e.charCodeAt(a)===Ht;)a++;let l=e.length;for(;l-1>a&&e.charCodeAt(l-1)===Ht;)l--;let d=l-a,u=s<d?s:d,h=-1,f=0;for(;f<u;f++){let w=i.charCodeAt(o+f);if(w!==e.charCodeAt(a+f))break;w===Ht&&(h=f)}if(f!==u){if(h===-1)return n}else{if(d>u){if(e.charCodeAt(a+f)===Ht)return n.slice(a+f+1);if(f===2)return n.slice(a+f)}s>u&&(i.charCodeAt(o+f)===Ht?h=f:f===2&&(h=3)),h===-1&&(h=0)}let T="";for(f=o+h+1;f<=r;++f)(f===r||i.charCodeAt(f)===Ht)&&(T+=T.length===0?"..":"\\..");return a+=h,T.length>0?`${T}${n.slice(a,l)}`:(n.charCodeAt(a)===Ht&&++a,n.slice(a,l))},toNamespacedPath(i){if(typeof i!="string"||i.length===0)return i;let e=Je.resolve(i);if(e.length<=2)return i;if(e.charCodeAt(0)===Ht){if(e.charCodeAt(1)===Ht){let t=e.charCodeAt(2);if(t!==Zv&&t!==Ci)return`\\\\?\\UNC\\${e.slice(2)}`}}else if(_i(e.charCodeAt(0))&&e.charCodeAt(1)===ki&&e.charCodeAt(2)===Ht)return`\\\\?\\${e}`;return i},dirname(i){nt(i,"path");let e=i.length;if(e===0)return".";let t=-1,n=0,o=i.charCodeAt(0);if(e===1)return xe(o)?i:".";if(xe(o)){if(t=n=1,xe(i.charCodeAt(1))){let a=2,l=a;for(;a<e&&!xe(i.charCodeAt(a));)a++;if(a<e&&a!==l){for(l=a;a<e&&xe(i.charCodeAt(a));)a++;if(a<e&&a!==l){for(l=a;a<e&&!xe(i.charCodeAt(a));)a++;if(a===e)return i;a!==l&&(t=n=a+1)}}}}else _i(o)&&i.charCodeAt(1)===ki&&(t=e>2&&xe(i.charCodeAt(2))?3:2,n=t);let r=-1,s=!0;for(let a=e-1;a>=n;--a)if(xe(i.charCodeAt(a))){if(!s){r=a;break}}else s=!1;if(r===-1){if(t===-1)return".";r=t}return i.slice(0,r)},basename(i,e){e!==void 0&&nt(e,"suffix"),nt(i,"path");let t=0,n=-1,o=!0,r;if(i.length>=2&&_i(i.charCodeAt(0))&&i.charCodeAt(1)===ki&&(t=2),e!==void 0&&e.length>0&&e.length<=i.length){if(e===i)return"";let s=e.length-1,a=-1;for(r=i.length-1;r>=t;--r){let l=i.charCodeAt(r);if(xe(l)){if(!o){t=r+1;break}}else a===-1&&(o=!1,a=r+1),s>=0&&(l===e.charCodeAt(s)?--s===-1&&(n=r):(s=-1,n=a))}return t===n?n=a:n===-1&&(n=i.length),i.slice(t,n)}for(r=i.length-1;r>=t;--r)if(xe(i.charCodeAt(r))){if(!o){t=r+1;break}}else n===-1&&(o=!1,n=r+1);return n===-1?"":i.slice(t,n)},extname(i){nt(i,"path");let e=0,t=-1,n=0,o=-1,r=!0,s=0;i.length>=2&&i.charCodeAt(1)===ki&&_i(i.charCodeAt(0))&&(e=n=2);for(let a=i.length-1;a>=e;--a){let l=i.charCodeAt(a);if(xe(l)){if(!r){n=a+1;break}continue}o===-1&&(r=!1,o=a+1),l===Ci?t===-1?t=a:s!==1&&(s=1):t!==-1&&(s=-1)}return t===-1||o===-1||s===0||s===1&&t===o-1&&t===n+1?"":i.slice(t,o)},format:Zp.bind(null,"\\"),parse(i){nt(i,"path");let e={root:"",dir:"",base:"",ext:"",name:""};if(i.length===0)return e;let t=i.length,n=0,o=i.charCodeAt(0);if(t===1)return xe(o)?(e.root=e.dir=i,e):(e.base=e.name=i,e);if(xe(o)){if(n=1,xe(i.charCodeAt(1))){let h=2,f=h;for(;h<t&&!xe(i.charCodeAt(h));)h++;if(h<t&&h!==f){for(f=h;h<t&&xe(i.charCodeAt(h));)h++;if(h<t&&h!==f){for(f=h;h<t&&!xe(i.charCodeAt(h));)h++;h===t?n=h:h!==f&&(n=h+1)}}}}else if(_i(o)&&i.charCodeAt(1)===ki){if(t<=2)return e.root=e.dir=i,e;if(n=2,xe(i.charCodeAt(2))){if(t===3)return e.root=e.dir=i,e;n=3}}n>0&&(e.root=i.slice(0,n));let r=-1,s=n,a=-1,l=!0,d=i.length-1,u=0;for(;d>=n;--d){if(o=i.charCodeAt(d),xe(o)){if(!l){s=d+1;break}continue}a===-1&&(l=!1,a=d+1),o===Ci?r===-1?r=d:u!==1&&(u=1):r!==-1&&(u=-1)}return a!==-1&&(r===-1||u===0||u===1&&r===a-1&&r===s+1?e.base=e.name=i.slice(s,a):(e.name=i.slice(s,r),e.base=i.slice(s,a),e.ext=i.slice(r,a))),s>0&&s!==n?e.dir=i.slice(0,s-1):e.dir=e.root,e},sep:"\\",delimiter:";",win32:null,posix:null},ny=(()=>{if(Kt){let i=/\\/g;return()=>{let e=Qr().replace(i,"/");return e.slice(e.indexOf("/"))}}return()=>Qr()})(),Ce={resolve(...i){let e="",t=!1;for(let n=i.length-1;n>=-1&&!t;n--){let o=n>=0?i[n]:ny();nt(o,`paths[${n}]`),o.length!==0&&(e=`${o}/${e}`,t=o.charCodeAt(0)===vt)}return e=ya(e,!t,"/",sc),t?`/${e}`:e.length>0?e:"."},normalize(i){if(nt(i,"path"),i.length===0)return".";let e=i.charCodeAt(0)===vt,t=i.charCodeAt(i.length-1)===vt;return i=ya(i,!e,"/",sc),i.length===0?e?"/":t?"./":".":(t&&(i+="/"),e?`/${i}`:i)},isAbsolute(i){return nt(i,"path"),i.length>0&&i.charCodeAt(0)===vt},join(...i){if(i.length===0)return".";let e;for(let t=0;t<i.length;++t){let n=i[t];nt(n,"path"),n.length>0&&(e===void 0?e=n:e+=`/${n}`)}return e===void 0?".":Ce.normalize(e)},relative(i,e){if(nt(i,"from"),nt(e,"to"),i===e||(i=Ce.resolve(i),e=Ce.resolve(e),i===e))return"";let t=1,n=i.length,o=n-t,r=1,s=e.length-r,a=o<s?o:s,l=-1,d=0;for(;d<a;d++){let h=i.charCodeAt(t+d);if(h!==e.charCodeAt(r+d))break;h===vt&&(l=d)}if(d===a)if(s>a){if(e.charCodeAt(r+d)===vt)return e.slice(r+d+1);if(d===0)return e.slice(r+d)}else o>a&&(i.charCodeAt(t+d)===vt?l=d:d===0&&(l=0));let u="";for(d=t+l+1;d<=n;++d)(d===n||i.charCodeAt(d)===vt)&&(u+=u.length===0?"..":"/..");return`${u}${e.slice(r+l)}`},toNamespacedPath(i){return i},dirname(i){if(nt(i,"path"),i.length===0)return".";let e=i.charCodeAt(0)===vt,t=-1,n=!0;for(let o=i.length-1;o>=1;--o)if(i.charCodeAt(o)===vt){if(!n){t=o;break}}else n=!1;return t===-1?e?"/":".":e&&t===1?"//":i.slice(0,t)},basename(i,e){e!==void 0&&nt(e,"ext"),nt(i,"path");let t=0,n=-1,o=!0,r;if(e!==void 0&&e.length>0&&e.length<=i.length){if(e===i)return"";let s=e.length-1,a=-1;for(r=i.length-1;r>=0;--r){let l=i.charCodeAt(r);if(l===vt){if(!o){t=r+1;break}}else a===-1&&(o=!1,a=r+1),s>=0&&(l===e.charCodeAt(s)?--s===-1&&(n=r):(s=-1,n=a))}return t===n?n=a:n===-1&&(n=i.length),i.slice(t,n)}for(r=i.length-1;r>=0;--r)if(i.charCodeAt(r)===vt){if(!o){t=r+1;break}}else n===-1&&(o=!1,n=r+1);return n===-1?"":i.slice(t,n)},extname(i){nt(i,"path");let e=-1,t=0,n=-1,o=!0,r=0;for(let s=i.length-1;s>=0;--s){let a=i.charCodeAt(s);if(a===vt){if(!o){t=s+1;break}continue}n===-1&&(o=!1,n=s+1),a===Ci?e===-1?e=s:r!==1&&(r=1):e!==-1&&(r=-1)}return e===-1||n===-1||r===0||r===1&&e===n-1&&e===t+1?"":i.slice(e,n)},format:Zp.bind(null,"/"),parse(i){nt(i,"path");let e={root:"",dir:"",base:"",ext:"",name:""};if(i.length===0)return e;let t=i.charCodeAt(0)===vt,n;t?(e.root="/",n=1):n=0;let o=-1,r=0,s=-1,a=!0,l=i.length-1,d=0;for(;l>=n;--l){let u=i.charCodeAt(l);if(u===vt){if(!a){r=l+1;break}continue}s===-1&&(a=!1,s=l+1),u===Ci?o===-1?o=l:d!==1&&(d=1):o!==-1&&(d=-1)}if(s!==-1){let u=r===0&&t?1:r;o===-1||d===0||d===1&&o===s-1&&o===r+1?e.base=e.name=i.slice(u,s):(e.name=i.slice(u,o),e.base=i.slice(u,s),e.ext=i.slice(o,s))}return r>0?e.dir=i.slice(0,r-1):t&&(e.dir="/"),e},sep:"/",delimiter:":",win32:null,posix:null};Ce.win32=Je.win32=Je;Ce.posix=Je.posix=Ce;var ac=Kt?Je.normalize:Ce.normalize,iy=Kt?Je.isAbsolute:Ce.isAbsolute,lc=Kt?Je.join:Ce.join,em=Kt?Je.resolve:Ce.resolve,tm=Kt?Je.relative:Ce.relative,nm=Kt?Je.dirname:Ce.dirname,oy=Kt?Je.basename:Ce.basename,im=Kt?Je.extname:Ce.extname,i0=Kt?Je.format:Ce.format,o0=Kt?Je.parse:Ce.parse,r0=Kt?Je.toNamespacedPath:Ce.toNamespacedPath,ai=Kt?Je.sep:Ce.sep,s0=Kt?Je.delimiter:Ce.delimiter;var sy=/^\w[\w\d+.-]*$/,ay=/^\//,ly=/^\/\//;function dy(i,e){if(!i.scheme&&e)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${i.authority}", path: "${i.path}", query: "${i.query}", fragment: "${i.fragment}"}`);if(i.scheme&&!sy.test(i.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(i.path){if(i.authority){if(!ay.test(i.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(ly.test(i.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function cy(i,e){return!i&&!e?"file":i}function uy(i,e){switch(i){case"https":case"http":case"file":e?e[0]!==mn&&(e=mn+e):e=mn;break}return e}var He="",mn="/",hy=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,Ve=class i{static isUri(e){return e instanceof i?!0:e?typeof e.authority=="string"&&typeof e.fragment=="string"&&typeof e.path=="string"&&typeof e.query=="string"&&typeof e.scheme=="string"&&typeof e.fsPath=="string"&&typeof e.with=="function"&&typeof e.toString=="function":!1}scheme;authority;path;query;fragment;constructor(e,t,n,o,r,s=!1){typeof e=="object"?(this.scheme=e.scheme||He,this.authority=e.authority||He,this.path=e.path||He,this.query=e.query||He,this.fragment=e.fragment||He):(this.scheme=cy(e,s),this.authority=t||He,this.path=uy(this.scheme,n||He),this.query=o||He,this.fragment=r||He,dy(this,s))}get fsPath(){return Yr(this,!1)}with(e){if(!e)return this;let{scheme:t,authority:n,path:o,query:r,fragment:s}=e;return t===void 0?t=this.scheme:t===null&&(t=He),n===void 0?n=this.authority:n===null&&(n=He),o===void 0?o=this.path:o===null&&(o=He),r===void 0?r=this.query:r===null&&(r=He),s===void 0?s=this.fragment:s===null&&(s=He),t===this.scheme&&n===this.authority&&o===this.path&&r===this.query&&s===this.fragment?this:new Li(t,n,o,r,s)}static parse(e,t=!1){let n=hy.exec(e);return n?new Li(n[2]||He,Ta(n[4]||He),Ta(n[5]||He),Ta(n[7]||He),Ta(n[9]||He),t):new Li(He,He,He,He,He)}static file(e){let t=He;if(at&&(e=e.replace(/\\/g,mn)),e[0]===mn&&e[1]===mn){let n=e.indexOf(mn,2);n===-1?(t=e.substring(2),e=mn):(t=e.substring(2,n),e=e.substring(n)||mn)}return new Li("file",t,e,He,He)}static from(e,t){return new Li(e.scheme,e.authority,e.path,e.query,e.fragment,t)}static joinPath(e,...t){if(!e.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let n;return at&&e.scheme==="file"?n=i.file(Je.join(Yr(e,!0),...t)).path:n=Ce.join(e.path,...t),e.with({path:n})}toString(e=!1){return cc(this,e)}toJSON(){return this}static revive(e){if(e){if(e instanceof i)return e;{let t=new Li(e);return t._formatted=e.external??null,t._fsPath=e._sep===sm?e.fsPath??null:null,t}}else return e}[Symbol.for("debug.description")](){return`URI(${this.toString()})`}};var sm=at?1:void 0,Li=class extends Ve{_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=Yr(this,!1)),this._fsPath}toString(e=!1){return e?cc(this,!0):(this._formatted||(this._formatted=cc(this,!1)),this._formatted)}toJSON(){let e={$mid:1};return this._fsPath&&(e.fsPath=this._fsPath,e._sep=sm),this._formatted&&(e.external=this._formatted),this.path&&(e.path=this.path),this.scheme&&(e.scheme=this.scheme),this.authority&&(e.authority=this.authority),this.query&&(e.query=this.query),this.fragment&&(e.fragment=this.fragment),e}},am={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function om(i,e,t){let n,o=-1;for(let r=0;r<i.length;r++){let s=i.charCodeAt(r);if(s>=97&&s<=122||s>=65&&s<=90||s>=48&&s<=57||s===45||s===46||s===95||s===126||e&&s===47||t&&s===91||t&&s===93||t&&s===58)o!==-1&&(n+=encodeURIComponent(i.substring(o,r)),o=-1),n!==void 0&&(n+=i.charAt(r));else{n===void 0&&(n=i.substr(0,r));let a=am[s];a!==void 0?(o!==-1&&(n+=encodeURIComponent(i.substring(o,r)),o=-1),n+=a):o===-1&&(o=r)}}return o!==-1&&(n+=encodeURIComponent(i.substring(o))),n!==void 0?n:i}function py(i){let e;for(let t=0;t<i.length;t++){let n=i.charCodeAt(t);n===35||n===63?(e===void 0&&(e=i.substr(0,t)),e+=am[n]):e!==void 0&&(e+=i[t])}return e!==void 0?e:i}function Yr(i,e){let t;return i.authority&&i.path.length>1&&i.scheme==="file"?t=`//${i.authority}${i.path}`:i.path.charCodeAt(0)===47&&(i.path.charCodeAt(1)>=65&&i.path.charCodeAt(1)<=90||i.path.charCodeAt(1)>=97&&i.path.charCodeAt(1)<=122)&&i.path.charCodeAt(2)===58?e?t=i.path.substr(1):t=i.path[1].toLowerCase()+i.path.substr(2):t=i.path,at&&(t=t.replace(/\//g,"\\")),t}function cc(i,e){let t=e?py:om,n="",{scheme:o,authority:r,path:s,query:a,fragment:l}=i;if(o&&(n+=o,n+=":"),(r||o==="file")&&(n+=mn,n+=mn),r){let d=r.indexOf("@");if(d!==-1){let u=r.substr(0,d);r=r.substr(d+1),d=u.lastIndexOf(":"),d===-1?n+=t(u,!1,!1):(n+=t(u.substr(0,d),!1,!1),n+=":",n+=t(u.substr(d+1),!1,!0)),n+="@"}r=r.toLowerCase(),d=r.lastIndexOf(":"),d===-1?n+=t(r,!1,!0):(n+=t(r.substr(0,d),!1,!0),n+=r.substr(d))}if(s){if(s.length>=3&&s.charCodeAt(0)===47&&s.charCodeAt(2)===58){let d=s.charCodeAt(1);d>=65&&d<=90&&(s=`/${String.fromCharCode(d+32)}:${s.substr(3)}`)}else if(s.length>=2&&s.charCodeAt(1)===58){let d=s.charCodeAt(0);d>=65&&d<=90&&(s=`${String.fromCharCode(d+32)}:${s.substr(2)}`)}n+=t(s,!0,!1)}return a&&(n+="?",n+=t(a,!1,!1)),l&&(n+="#",n+=e?l:om(l,!1,!1)),n}function lm(i){try{return decodeURIComponent(i)}catch{return i.length>3?i.substr(0,3)+lm(i.substr(3)):i}}var rm=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function Ta(i){return i.match(rm)?i.replace(rm,e=>lm(e)):i}var uc=class{[Symbol.toStringTag]="LinkedMap";_map;_head;_tail;_size;_state;constructor(){this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(e){return this._map.has(e)}get(e,t=0){let n=this._map.get(e);if(n)return t!==0&&this.touch(n,t),n.value}set(e,t,n=0){let o=this._map.get(e);if(o)o.value=t,n!==0&&this.touch(o,n);else{switch(o={key:e,value:t,next:void 0,previous:void 0},n){case 0:this.addItemLast(o);break;case 1:this.addItemFirst(o);break;case 2:this.addItemLast(o);break;default:this.addItemLast(o);break}this._map.set(e,o),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let t=this._map.get(e);if(t)return this._map.delete(e),this.removeItem(t),this._size--,t.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){let n=this._state,o=this._head;for(;o;){if(t?e.bind(t)(o.value,o.key,this):e(o.value,o.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");o=o.next}}keys(){let e=this,t=this._state,n=this._head,o={[Symbol.iterator](){return o},next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(n){let r={value:n.key,done:!1};return n=n.next,r}else return{value:void 0,done:!0}}};return o}values(){let e=this,t=this._state,n=this._head,o={[Symbol.iterator](){return o},next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(n){let r={value:n.value,done:!1};return n=n.next,r}else return{value:void 0,done:!0}}};return o}entries(){let e=this,t=this._state,n=this._head,o={[Symbol.iterator](){return o},next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(n){let r={value:[n.key,n.value],done:!1};return n=n.next,r}else return{value:void 0,done:!0}}};return o}[Symbol.iterator](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let t=this._head,n=this.size;for(;t&&n>e;)this._map.delete(t.key),t=t.next,n--;this._head=t,this._size=n,t&&(t.previous=void 0),this._state++}trimNew(e){if(e>=this.size)return;if(e===0){this.clear();return}let t=this._tail,n=this.size;for(;t&&n>e;)this._map.delete(t.key),t=t.previous,n--;this._tail=t,this._size=n,t&&(t.next=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let t=e.next,n=e.previous;if(!t||!n)throw new Error("Invalid list");t.previous=n,n.next=t}e.next=void 0,e.previous=void 0,this._state++}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(t!==1&&t!==2)){if(t===1){if(e===this._head)return;let n=e.next,o=e.previous;e===this._tail?(o.next=void 0,this._tail=o):(n.previous=o,o.next=n),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(t===2){if(e===this._tail)return;let n=e.next,o=e.previous;e===this._head?(n.previous=void 0,this._head=n):(n.previous=o,o.next=n),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((t,n)=>{e.push([n,t])}),e}fromJSON(e){this.clear();for(let[t,n]of e)this.set(t,n)}},hc=class extends uc{_limit;_ratio;constructor(e,t=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,t),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,t=2){return super.get(e,t)}peek(e){return super.get(e,0)}set(e,t){return super.set(e,t,2),this}checkTrim(){this.size>this._limit&&this.trim(Math.round(this._limit*this._ratio))}},Ia=class extends hc{constructor(e,t=1){super(e,t)}trim(e){this.trimOld(e)}set(e,t){return super.set(e,t),this.checkTrim(),this}};var Xr=class{map=new Map;add(e,t){let n=this.map.get(e);n||(n=new Set,this.map.set(e,n)),n.add(t)}delete(e,t){let n=this.map.get(e);n&&(n.delete(t),n.size===0&&this.map.delete(e))}forEach(e,t){let n=this.map.get(e);n&&n.forEach(t)}get(e){let t=this.map.get(e);return t||new Set}};function pc(i,e){let t=this,n=!1,o;return function(){if(n)return o;if(n=!0,e)try{o=i.apply(t,arguments)}finally{e()}else o=i.apply(t,arguments);return o}}var fe;(U=>{function i(R){return R&&typeof R=="object"&&typeof R[Symbol.iterator]=="function"}U.is=i;let e=Object.freeze([]);function t(){return e}U.empty=t;function*n(R){yield R}U.single=n;function o(R){return i(R)?R:n(R)}U.wrap=o;function r(R){return R||e}U.from=r;function*s(R){for(let L=R.length-1;L>=0;L--)yield R[L]}U.reverse=s;function a(R){return!R||R[Symbol.iterator]().next().done===!0}U.isEmpty=a;function l(R){return R[Symbol.iterator]().next().value}U.first=l;function d(R,L){let H=0;for(let B of R)if(L(B,H++))return!0;return!1}U.some=d;function u(R,L){for(let H of R)if(L(H))return H}U.find=u;function*h(R,L){for(let H of R)L(H)&&(yield H)}U.filter=h;function*f(R,L){let H=0;for(let B of R)yield L(B,H++)}U.map=f;function*T(R,L){let H=0;for(let B of R)yield*L(B,H++)}U.flatMap=T;function*w(...R){for(let L of R)yield*L}U.concat=w;function v(R,L,H){let B=H;for(let M of R)B=L(B,M);return B}U.reduce=v;function*E(R,L,H=R.length){for(L<0&&(L+=R.length),H<0?H+=R.length:H>R.length&&(H=R.length);L<H;L++)yield R[L]}U.slice=E;function P(R,L=Number.POSITIVE_INFINITY){let H=[];if(L===0)return[H,R];let B=R[Symbol.iterator]();for(let M=0;M<L;M++){let te=B.next();if(te.done)return[H,U.empty()];H.push(te.value)}return[H,{[Symbol.iterator](){return B}}]}U.consume=P;async function O(R){let L=[];for await(let H of R)L.push(H);return Promise.resolve(L)}U.asyncToArray=O})(fe||={});var my=!1,mo=null;function fy(i){mo=i}if(my){let i="__is_disposable_tracked__";fy(new class{trackDisposable(e){let t=new Error("Potentially leaked disposable").stack;setTimeout(()=>{e[i]||console.log(t)},3e3)}setParent(e,t){if(e&&e!==V.None)try{e[i]=!0}catch{}}markAsDisposed(e){if(e&&e!==V.None)try{e[i]=!0}catch{}}markAsSingleton(e){}})}function go(i){return mo?.trackDisposable(i),i}function bo(i){mo?.markAsDisposed(i)}function Jr(i,e){mo?.setParent(i,e)}function gy(i,e){if(mo)for(let t of i)mo.setParent(t,e)}function mc(i){return mo?.markAsSingleton(i),i}function je(i){if(fe.is(i)){let e=[];for(let t of i)if(t)try{t.dispose()}catch(n){e.push(n)}if(e.length===1)throw e[0];if(e.length>1)throw new AggregateError(e,"Encountered errors while disposing of store");return Array.isArray(i)?[]:i}else if(i)return i.dispose(),i}function li(...i){let e=he(()=>je(i));return gy(i,e),e}function he(i){let e=go({dispose:pc(()=>{bo(e),i()})});return e}var W=class i{static DISABLE_DISPOSED_WARNING=!1;_toDispose=new Set;_isDisposed=!1;constructor(){go(this)}dispose(){this._isDisposed||(bo(this),this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){if(this._toDispose.size!==0)try{je(this._toDispose)}finally{this._toDispose.clear()}}add(e){if(!e)return e;if(e===this)throw new Error("Cannot register a disposable on itself!");return Jr(e,this),this._isDisposed?i.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(e),e}delete(e){if(e){if(e===this)throw new Error("Cannot dispose a disposable on itself!");this._toDispose.delete(e),e.dispose()}}deleteAndLeak(e){e&&this._toDispose.has(e)&&(this._toDispose.delete(e),Jr(e,null))}},V=class{static None=Object.freeze({dispose(){}});_store=new W;constructor(){go(this),Jr(this._store,this)}dispose(){bo(this),this._store.dispose()}_register(e){if(e===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(e)}},Go=class{_value;_isDisposed=!1;constructor(){go(this)}get value(){return this._isDisposed?void 0:this._value}set value(e){this._isDisposed||e===this._value||(this._value?.dispose(),e&&Jr(e,this),this._value=e)}clear(){this.value=void 0}dispose(){this._isDisposed=!0,bo(this),this._value?.dispose(),this._value=void 0}clearAndLeak(){let e=this._value;return this._value=void 0,e&&Jr(e,null),e}};var fo=class{_store=new Map;_isDisposed=!1;constructor(){go(this)}dispose(){bo(this),this._isDisposed=!0,this.clearAndDisposeAll()}clearAndDisposeAll(){if(this._store.size)try{je(this._store.values())}finally{this._store.clear()}}has(e){return this._store.has(e)}get size(){return this._store.size}get(e){return this._store.get(e)}set(e,t,n=!1){this._isDisposed&&console.warn(new Error("Trying to add a disposable to a DisposableMap that has already been disposed of. The added object will be leaked!").stack),n||this._store.get(e)?.dispose(),this._store.set(e,t)}deleteAndDispose(e){this._store.get(e)?.dispose(),this._store.delete(e)}deleteAndLeak(e){let t=this._store.get(e);return this._store.delete(e),t}keys(){return this._store.keys()}values(){return this._store.values()}[Symbol.iterator](){return this._store[Symbol.iterator]()}};var dm=Object.freeze(function(i,e){let t=setTimeout(i.bind(e),0);return{dispose(){clearTimeout(t)}}}),fc;(n=>{function i(o){return o===n.None||o===n.Cancelled||o instanceof jo?!0:!o||typeof o!="object"?!1:typeof o.isCancellationRequested=="boolean"&&typeof o.onCancellationRequested=="function"}n.isCancellationToken=i,n.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:_.None}),n.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:dm})})(fc||={});var jo=class{_isCancelled=!1;_emitter=null;cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?dm:(this._emitter||(this._emitter=new k),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}},di=class{_token=void 0;_parentListener=void 0;constructor(e){this._parentListener=e&&e.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new jo),this._token}cancel(){this._token?this._token instanceof jo&&this._token.cancel():this._token=fc.Cancelled}dispose(e=!1){e&&this.cancel(),this._parentListener?.dispose(),this._token?this._token instanceof jo&&this._token.dispose():this._token=fc.None}};var qe=class i{static Undefined=new i(void 0);element;next;prev;constructor(e){this.element=e,this.next=i.Undefined,this.prev=i.Undefined}},sn=class{_first=qe.Undefined;_last=qe.Undefined;_size=0;get size(){return this._size}isEmpty(){return this._first===qe.Undefined}clear(){let e=this._first;for(;e!==qe.Undefined;){let t=e.next;e.prev=qe.Undefined,e.next=qe.Undefined,e=t}this._first=qe.Undefined,this._last=qe.Undefined,this._size=0}unshift(e){return this._insert(e,!1)}push(e){return this._insert(e,!0)}_insert(e,t){let n=new qe(e);if(this._first===qe.Undefined)this._first=n,this._last=n;else if(t){let r=this._last;this._last=n,n.prev=r,r.next=n}else{let r=this._first;this._first=n,n.next=r,r.prev=n}this._size+=1;let o=!1;return()=>{o||(o=!0,this._remove(n))}}shift(){if(this._first!==qe.Undefined){let e=this._first.element;return this._remove(this._first),e}}pop(){if(this._last!==qe.Undefined){let e=this._last.element;return this._remove(this._last),e}}_remove(e){if(e.prev!==qe.Undefined&&e.next!==qe.Undefined){let t=e.prev;t.next=e.next,e.next.prev=t}else e.prev===qe.Undefined&&e.next===qe.Undefined?(this._first=qe.Undefined,this._last=qe.Undefined):e.next===qe.Undefined?(this._last=this._last.prev,this._last.next=qe.Undefined):e.prev===qe.Undefined&&(this._first=this._first.next,this._first.prev=qe.Undefined);this._size-=1}*[Symbol.iterator](){let e=this._first;for(;e!==qe.Undefined;)yield e.element,e=e.next}};var Bn=(i,e)=>i===e;var Nt=class{constructor(e,t,n){this.owner=e;this.debugNameSource=t;this.referenceFn=n}getDebugName(e){return pm(e,this)}},cm=new Map,gc=new WeakMap;function pm(i,e){let t=gc.get(i);if(t)return t;let n=by(i,e);if(n){let o=cm.get(n)??0;o++,cm.set(n,o);let r=o===1?n:`${n}#${o}`;return gc.set(i,r),r}}function by(i,e){let t=gc.get(i);if(t)return t;let n=e.owner?yy(e.owner)+".":"",o,r=e.debugNameSource;if(r!==void 0)if(typeof r=="function"){if(o=r(),o!==void 0)return n+o}else return n+r;let s=e.referenceFn;if(s!==void 0&&(o=xa(s),o!==void 0))return n+o;if(e.owner!==void 0){let a=vy(e.owner,i);if(a!==void 0)return n+a}}function vy(i,e){for(let t in i)if(i[t]===e)return t}var um=new Map,hm=new WeakMap;function yy(i){let e=hm.get(i);if(e)return e;let t=Ty(i),n=um.get(t)??0;n++,um.set(t,n);let o=n===1?t:`${t}#${n}`;return hm.set(i,o),o}function Ty(i){let e=i.constructor;return e?e.name:"Object"}function xa(i){let e=i.toString(),n=/\/\*\*\s*@description\s*([^*]*)\*\//.exec(e);return(n?n[1]:void 0)?.trim()}function Sa(i,e){if(!i)throw new Error(e?`Assertion failed (${e})`:"Assertion Failed")}function mm(i,e="Unreachable"){throw new Error(e)}function wa(i){if(!i()){debugger;i(),Pt(new pn("Assertion Failed"))}}function ci(i){return new Ea(new Nt(void 0,void 0,i),i,void 0,void 0)}var Ea=class{constructor(e,t,n,o){this._debugNameData=e;this._runFn=t;this.createChangeSummary=n;this._handleChange=o;this.changeSummary=this.createChangeSummary?.(),zt()?.handleAutorunCreated(this),this._runIfNeeded(),go(this)}state=2;updateCount=0;disposed=!1;dependencies=new Set;dependenciesToBeRemoved=new Set;changeSummary;get debugName(){return this._debugNameData.getDebugName(this)??"(anonymous)"}dispose(){this.disposed=!0;for(let e of this.dependencies)e.removeObserver(this);this.dependencies.clear(),bo(this)}_runIfNeeded(){if(this.state===3)return;let e=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=e,this.state=3;let t=this.disposed;try{if(!t){zt()?.handleAutorunTriggered(this);let n=this.changeSummary;try{this.changeSummary=this.createChangeSummary?.(),this._runFn(this,n)}catch(o){Wo(o)}}}finally{t||zt()?.handleAutorunFinished(this);for(let n of this.dependenciesToBeRemoved)n.removeObserver(this);this.dependenciesToBeRemoved.clear()}}toString(){return`Autorun<${this.debugName}>`}beginUpdate(){this.state===3&&(this.state=1),this.updateCount++}endUpdate(){try{if(this.updateCount===1)do{if(this.state===1){this.state=3;for(let e of this.dependencies)if(e.reportChanges(),this.state===2)break}this._runIfNeeded()}while(this.state!==3)}finally{this.updateCount--}wa(()=>this.updateCount>=0)}handlePossibleChange(e){this.state===3&&this.dependencies.has(e)&&!this.dependenciesToBeRemoved.has(e)&&(this.state=1)}handleChange(e,t){if(this.dependencies.has(e)&&!this.dependenciesToBeRemoved.has(e))try{(this._handleChange?this._handleChange({changedObservable:e,change:t,didChange:o=>o===e},this.changeSummary):!0)&&(this.state=2)}catch(n){Wo(n)}}readObservable(e){if(this.disposed)return e.get();e.addObserver(this);let t=e.get();return this.dependencies.add(e),this.dependenciesToBeRemoved.delete(e),t}};(e=>e.Observer=Ea)(ci||={});function bc(i,e){return new Da(new Nt(i.owner,i.debugName,i.debugReferenceFn),e,void 0,void 0,i.onLastObserverRemoved,i.equalsFn??Bn)}fm(bc);var Da=class extends ui{constructor(t,n,o,r,s=void 0,a){super();this._debugNameData=t;this._computeFn=n;this.createChangeSummary=o;this._handleChange=r;this._handleLastObserverRemoved=s;this._equalityComparator=a;this.changeSummary=this.createChangeSummary?.(),zt()?.handleDerivedCreated(this)}state=0;value=void 0;updateCount=0;dependencies=new Set;dependenciesToBeRemoved=new Set;changeSummary=void 0;get debugName(){return this._debugNameData.getDebugName(this)??"(anonymous)"}onLastObserverRemoved(){this.state=0,this.value=void 0;for(let t of this.dependencies)t.removeObserver(this);this.dependencies.clear(),this._handleLastObserverRemoved?.()}get(){if(this.observers.size===0){let t=this._computeFn(this,this.createChangeSummary?.());return this.onLastObserverRemoved(),t}else{do{if(this.state===1){for(let t of this.dependencies)if(t.reportChanges(),this.state===2)break}this.state===1&&(this.state=3),this._recomputeIfNeeded()}while(this.state!==3);return this.value}}_recomputeIfNeeded(){if(this.state===3)return;let t=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=t;let n=this.state!==0,o=this.value;this.state=3;let r=!1;try{let s=this.changeSummary;this.changeSummary=this.createChangeSummary?.();try{this.value=this._computeFn(this,s)}finally{for(let a of this.dependenciesToBeRemoved)a.removeObserver(this);this.dependenciesToBeRemoved.clear()}r=n&&!this._equalityComparator(o,this.value),zt()?.handleDerivedRecomputed(this,{oldValue:o,newValue:this.value,change:void 0,didChange:r,hadValue:n})}catch(s){Wo(s)}if(r)for(let s of this.observers)s.handleChange(this,void 0)}toString(){return`LazyDerived<${this.debugName}>`}beginUpdate(t){this.updateCount++;let n=this.updateCount===1;if(this.state===3&&(this.state=1,!n))for(let o of this.observers)o.handlePossibleChange(this);if(n)for(let o of this.observers)o.beginUpdate(this)}endUpdate(t){if(this.updateCount--,this.updateCount===0){let n=[...this.observers];for(let o of n)o.endUpdate(this)}wa(()=>this.updateCount>=0)}handlePossibleChange(t){if(this.state===3&&this.dependencies.has(t)&&!this.dependenciesToBeRemoved.has(t)){this.state=1;for(let n of this.observers)n.handlePossibleChange(this)}}handleChange(t,n){if(this.dependencies.has(t)&&!this.dependenciesToBeRemoved.has(t)){let o=!1;try{o=this._handleChange?this._handleChange({changedObservable:t,change:n,didChange:s=>s===t},this.changeSummary):!0}catch(s){Wo(s)}let r=this.state===3;if(o&&(this.state===1||r)&&(this.state=2,r))for(let s of this.observers)s.handlePossibleChange(this)}}readObservable(t){t.addObserver(this);let n=t.get();return this.dependencies.add(t),this.dependenciesToBeRemoved.delete(t),n}addObserver(t){let n=!this.observers.has(t)&&this.updateCount>0;super.addObserver(t),n&&t.beginUpdate(this)}removeObserver(t){let n=this.observers.has(t)&&this.updateCount>0;super.removeObserver(t),n&&t.endUpdate(this)}};function Zr(i){return new vc(i)}var vc=class extends es{constructor(t){super();this.value=t}get debugName(){return this.toString()}get(){return this.value}addObserver(t){}removeObserver(t){}toString(){return`Const: ${this.value}`}};function yc(...i){let e,t,n;return i.length===3?[e,t,n]=i:[t,n]=i,new Ai(new Nt(e,void 0,n),t,n,()=>Ai.globalTransaction,Bn)}var Ai=class extends ui{constructor(t,n,o,r,s){super();this._debugNameData=t;this.event=n;this._getValue=o;this._getTransaction=r;this._equalityComparator=s}static globalTransaction;value;hasValue=!1;subscription;getDebugName(){return this._debugNameData.getDebugName(this)}get debugName(){let t=this.getDebugName();return"From Event"+(t?`: ${t}`:"")}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}handleEvent=t=>{let n=this._getValue(t),o=this.value,r=!this.hasValue||!this._equalityComparator(o,n),s=!1;r&&(this.value=n,this.hasValue&&(s=!0,Tc(this._getTransaction(),a=>{zt()?.handleFromEventObservableTriggered(this,{oldValue:o,newValue:n,change:void 0,didChange:r,hadValue:this.hasValue});for(let l of this.observers)a.updateObserver(l,this),l.handleChange(this,void 0)},()=>{let a=this.getDebugName();return"Event fired"+(a?`: ${a}`:"")})),this.hasValue=!0),s||zt()?.handleFromEventObservableTriggered(this,{oldValue:o,newValue:n,change:void 0,didChange:r,hadValue:this.hasValue})};onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0,this.hasValue=!1,this.value=void 0}get(){return this.subscription?(this.hasValue||this.handleEvent(void 0),this.value):this._getValue(void 0)}};(t=>{t.Observer=Ai;function e(n,o){let r=!1;Ai.globalTransaction===void 0&&(Ai.globalTransaction=n,r=!0);try{o()}finally{r&&(Ai.globalTransaction=void 0)}}t.batchEventsGlobally=e})(yc||={});function bm(i){let e=new ka(!1,void 0);return i.addObserver(e),he(()=>{i.removeObserver(e)})}Tm(bm);function vm(i,e){let t=new ka(!0,e);return i.addObserver(t),e?e(i.get()):i.reportChanges(),he(()=>{i.removeObserver(t)})}ym(vm);var ka=class{constructor(e,t){this._forceRecompute=e;this._handleValue=t}_counter=0;beginUpdate(e){this._counter++}endUpdate(e){this._counter--,this._counter===0&&this._forceRecompute&&(this._handleValue?this._handleValue(e.get()):e.reportChanges())}handlePossibleChange(e){}handleChange(e,t){}};var Im;function xm(i){Im=i}function zt(){return Im}var _a=class{indentation=0;textToConsoleArgs(e){return wy([Yo(ky("|  ",this.indentation)),e])}formatInfo(e){return e.hadValue?e.didChange?[Yo(" "),fn(ns(e.oldValue,70),{color:"red",strikeThrough:!0}),Yo(" "),fn(ns(e.newValue,60),{color:"green"})]:[Yo(" (unchanged)")]:[Yo(" "),fn(ns(e.newValue,60),{color:"green"}),Yo(" (initial)")]}handleObservableChanged(e,t){console.log(...this.textToConsoleArgs([ts("observable value changed"),fn(e.debugName,{color:"BlueViolet"}),...this.formatInfo(t)]))}changedObservablesSets=new WeakMap;formatChanges(e){if(e.size!==0)return fn(" (changed deps: "+[...e].map(t=>t.debugName).join(", ")+")",{color:"gray"})}handleDerivedCreated(e){let t=e.handleChange;this.changedObservablesSets.set(e,new Set),e.handleChange=(n,o)=>(this.changedObservablesSets.get(e).add(n),t.apply(e,[n,o]))}handleDerivedRecomputed(e,t){let n=this.changedObservablesSets.get(e);console.log(...this.textToConsoleArgs([ts("derived recomputed"),fn(e.debugName,{color:"BlueViolet"}),...this.formatInfo(t),this.formatChanges(n),{data:[{fn:e._debugNameData.referenceFn??e._computeFn}]}])),n.clear()}handleFromEventObservableTriggered(e,t){console.log(...this.textToConsoleArgs([ts("observable from event triggered"),fn(e.debugName,{color:"BlueViolet"}),...this.formatInfo(t),{data:[{fn:e._getValue}]}]))}handleAutorunCreated(e){let t=e.handleChange;this.changedObservablesSets.set(e,new Set),e.handleChange=(n,o)=>(this.changedObservablesSets.get(e).add(n),t.apply(e,[n,o]))}handleAutorunTriggered(e){let t=this.changedObservablesSets.get(e);console.log(...this.textToConsoleArgs([ts("autorun"),fn(e.debugName,{color:"BlueViolet"}),this.formatChanges(t),{data:[{fn:e._debugNameData.referenceFn??e._runFn}]}])),t.clear(),this.indentation++}handleAutorunFinished(e){this.indentation--}handleBeginTransaction(e){let t=e.getDebugName();t===void 0&&(t=""),console.log(...this.textToConsoleArgs([ts("transaction"),fn(t,{color:"BlueViolet"}),{data:[{fn:e._fn}]}])),this.indentation++}handleEndTransaction(){this.indentation--}};function wy(i){let e=new Array,t=[],n="";function o(s){if("length"in s)for(let a of s)a&&o(a);else"text"in s?(n+=`%c${s.text}`,e.push(s.style),s.data&&t.push(...s.data)):"data"in s&&t.push(...s.data)}o(i);let r=[n,...e];return r.push(...t),r}function Yo(i){return fn(i,{color:"black"})}function ts(i){return fn(_y(`${i}: `,10),{color:"black",bold:!0})}function fn(i,e={color:"black"}){function t(o){return Object.entries(o).reduce((r,[s,a])=>`${r}${s}:${a};`,"")}let n={color:e.color};return e.strikeThrough&&(n["text-decoration"]="line-through"),e.bold&&(n["font-weight"]="bold"),{text:i,style:t(n)}}function ns(i,e){switch(typeof i){case"number":return""+i;case"string":return i.length+2<=e?`"${i}"`:`"${i.substr(0,e-7)}"+...`;case"boolean":return i?"true":"false";case"undefined":return"undefined";case"object":return i===null?"null":Array.isArray(i)?Ey(i,e):Dy(i,e);case"symbol":return i.toString();case"function":return`[[Function${i.name?" "+i.name:""}]]`;default:return""+i}}function Ey(i,e){let t="[ ",n=!0;for(let o of i){if(n||(t+=", "),t.length-5>e){t+="...";break}n=!1,t+=`${ns(o,e-t.length)}`}return t+=" ]",t}function Dy(i,e){let t="{ ",n=!0;for(let[o,r]of Object.entries(i)){if(n||(t+=", "),t.length-5>e){t+="...";break}n=!1,t+=`${o}: ${ns(r,e-t.length)}`}return t+=" }",t}function ky(i,e){let t="";for(let n=1;n<=e;n++)t+=i;return t}function _y(i,e){for(;i.length<e;)i+=" ";return i}var Sm;function ym(i){Sm=i}var wm;function Tm(i){wm=i}var Ic;function fm(i){Ic=i}var es=class{get TChange(){return null}reportChanges(){this.get()}read(e){return e?e.readObservable(this):this.get()}map(e,t){let n=t===void 0?void 0:e,o=t===void 0?e:t;return Ic({owner:n,debugName:()=>{let r=xa(o);if(r!==void 0)return r;let a=/^\s*\(?\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*\)?\s*=>\s*\1(?:\??)\.([a-zA-Z_$][a-zA-Z_$0-9]*)\s*$/.exec(o.toString());if(a)return`${this.debugName}.${a[2]}`;if(!n)return`${this.debugName} (mapped)`},debugReferenceFn:o},r=>o(this.read(r),r))}flatten(){return Ic({owner:void 0,debugName:()=>`${this.debugName} (flattened)`},e=>this.read(e).read(e))}recomputeInitiallyAndOnChange(e,t){return e.add(Sm(this,t)),this}keepObserved(e){return e.add(wm(this)),this}get debugValue(){return this.get()}},ui=class extends es{observers=new Set;addObserver(e){let t=this.observers.size;this.observers.add(e),t===0&&this.onFirstObserverAdded()}removeObserver(e){this.observers.delete(e)&&this.observers.size===0&&this.onLastObserverRemoved()}onFirstObserverAdded(){}onLastObserverRemoved(){}};function Qo(i,e){let t=new Xo(i,e);try{i(t)}finally{t.finish()}}function Tc(i,e,t){i?e(i):Qo(e,t)}var Xo=class{constructor(e,t){this._fn=e;this._getDebugName=t;zt()?.handleBeginTransaction(this)}updatingObservers=[];getDebugName(){return this._getDebugName?this._getDebugName():xa(this._fn)}updateObserver(e,t){this.updatingObservers.push({observer:e,observable:t}),e.beginUpdate(t)}finish(){let e=this.updatingObservers;for(let t=0;t<e.length;t++){let{observer:n,observable:o}=e[t];n.endUpdate(o)}this.updatingObservers=null,zt()?.handleEndTransaction()}};function vo(i,e){let t;return typeof i=="string"?t=new Nt(void 0,i,void 0):t=new Nt(i,void 0,void 0),new is(t,e,Bn)}var is=class extends ui{constructor(t,n,o){super();this._debugNameData=t;this._equalityComparator=o;this._value=n}_value;get debugName(){return this._debugNameData.getDebugName(this)??"ObservableValue"}get(){return this._value}set(t,n,o){if(o===void 0&&this._equalityComparator(this._value,t))return;let r;n||(n=r=new Xo(()=>{},()=>`Setting ${this.debugName}`));try{let s=this._value;this._setValue(t),zt()?.handleObservableChanged(this,{oldValue:s,newValue:t,change:o,didChange:!0,hadValue:!0});for(let a of this.observers)n.updateObserver(a,this),a.handleChange(this,o)}finally{r&&r.finish()}}toString(){return`${this.debugName}: ${this._value}`}_setValue(t){this._value=t}};var Ca=class extends ui{constructor(t,n,o){super();this._debugNameData=t;this._equalityComparator=o;this._value=n}_value;_isUpToDate=!0;_deltas=[];get debugName(){return this._debugNameData.getDebugName(this)??"LazyObservableValue"}get(){return this._update(),this._value}_update(){if(!this._isUpToDate)if(this._isUpToDate=!0,this._deltas.length>0){for(let t of this.observers)for(let n of this._deltas)t.handleChange(this,n);this._deltas.length=0}else for(let t of this.observers)t.handleChange(this,void 0)}_updateCounter=0;_beginUpdate(){if(this._updateCounter++,this._updateCounter===1)for(let t of this.observers)t.beginUpdate(this)}_endUpdate(){if(this._updateCounter--,this._updateCounter===0){this._update();let t=[...this.observers];for(let n of t)n.endUpdate(this)}}addObserver(t){let n=!this.observers.has(t)&&this._updateCounter>0;super.addObserver(t),n&&t.beginUpdate(this)}removeObserver(t){let n=this.observers.has(t)&&this._updateCounter>0;super.removeObserver(t),n&&t.endUpdate(this)}set(t,n,o){if(o===void 0&&this._equalityComparator(this._value,t))return;let r;n||(n=r=new Xo(()=>{},()=>`Setting ${this.debugName}`));try{if(this._isUpToDate=!1,this._setValue(t),o!==void 0&&this._deltas.push(o),n.updateObserver({beginUpdate:()=>this._beginUpdate(),endUpdate:()=>this._endUpdate(),handleChange:(s,a)=>{},handlePossibleChange:s=>{}},this),this._updateCounter>1)for(let s of this.observers)s.handlePossibleChange(this)}finally{r&&r.finish()}}toString(){return`${this.debugName}: ${this._value}`}_setValue(t){this._value=t}};function xc(i,e){return i.lazy?new Ca(new Nt(i.owner,i.debugName,void 0),e,i.equalsFn??Bn):new is(new Nt(i.owner,i.debugName,void 0),e,i.equalsFn??Bn)}var Cy=!1;Cy&&xm(new _a);var Ly=globalThis.performance&&typeof globalThis.performance.now=="function",La=class i{_startTime;_stopTime;_now;static create(e){return new i(e)}constructor(e){this._now=Ly&&e===!1?Date.now:globalThis.performance.now.bind(globalThis.performance),this._startTime=this._now(),this._stopTime=-1}stop(){this._stopTime=this._now()}reset(){this._startTime=this._now(),this._stopTime=-1}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}};var Aa=Symbol("MicrotaskDelay");var Ay=!1,Em=!1,My=!1,_;(jt=>{jt.None=()=>V.None;function e(J){if(My){let{onDidAddListener:K}=J,Y=os.create(),q=0;J.onDidAddListener=()=>{++q===2&&(console.warn("snapshotted emitter LIKELY used public and SHOULD HAVE BEEN created with DisposableStore. snapshotted here"),Y.print()),K?.()}}}function t(J,K){return T(J,()=>{},0,void 0,!0,void 0,K)}jt.defer=t;function n(J){return(K,Y=null,q)=>{let G=!1,me;return me=J(ce=>{if(!G)return me?me.dispose():G=!0,K.call(Y,ce)},null,q),G&&me.dispose(),me}}jt.once=n;function o(J,K){return jt.once(jt.filter(J,K))}jt.onceIf=o;function r(J,K,Y){return h((q,G=null,me)=>J(ce=>q.call(G,K(ce)),null,me),Y)}jt.map=r;function s(J,K,Y){return h((q,G=null,me)=>J(ce=>{K(ce),q.call(G,ce)},null,me),Y)}jt.forEach=s;function a(J,K,Y){return h((q,G=null,me)=>J(ce=>K(ce)&&q.call(G,ce),null,me),Y)}jt.filter=a;function l(J){return J}jt.signal=l;function d(...J){return(K,Y=null,q)=>{let G=li(...J.map(me=>me(ce=>K.call(Y,ce))));return f(G,q)}}jt.any=d;function u(J,K,Y,q){let G=Y;return r(J,me=>(G=K(G,me),G),q)}jt.reduce=u;function h(J,K){let Y,q={onWillAddFirstListener(){Y=J(G.fire,G)},onDidRemoveLastListener(){Y?.dispose()}};K||e(q);let G=new k(q);return K?.add(G),G.event}function f(J,K){return K instanceof Array?K.push(J):K&&K.add(J),J}function T(J,K,Y=100,q=!1,G=!1,me,ce){let Ue,ye,se,Cn=0,hn,yi={leakWarningThreshold:me,onWillAddFirstListener(){Ue=J(Ko=>{Cn++,ye=K(ye,Ko),q&&!se&&(Ln.fire(ye),ye=void 0),hn=()=>{let Ft=ye;ye=void 0,se=void 0,(!q||Cn>1)&&Ln.fire(Ft),Cn=0},typeof Y=="number"?(clearTimeout(se),se=setTimeout(hn,Y)):se===void 0&&(se=0,queueMicrotask(hn))})},onWillRemoveListener(){G&&Cn>0&&hn?.()},onDidRemoveLastListener(){hn=void 0,Ue.dispose()}};ce||e(yi);let Ln=new k(yi);return ce?.add(Ln),Ln.event}jt.debounce=T;function w(J,K=0,Y){return jt.debounce(J,(q,G)=>q?(q.push(G),q):[G],K,void 0,!0,void 0,Y)}jt.accumulate=w;function v(J,K=(q,G)=>q===G,Y){let q=!0,G;return a(J,me=>{let ce=q||!K(me,G);return q=!1,G=me,ce},Y)}jt.latch=v;function E(J,K,Y){return[jt.filter(J,K,Y),jt.filter(J,q=>!K(q),Y)]}jt.split=E;function P(J,K=!1,Y=[],q){let G=Y.slice(),me=J(ye=>{G?G.push(ye):Ue.fire(ye)});q&&q.add(me);let ce=()=>{G?.forEach(ye=>Ue.fire(ye)),G=null},Ue=new k({onWillAddFirstListener(){me||(me=J(ye=>Ue.fire(ye)),q&&q.add(me))},onDidAddFirstListener(){G&&(K?setTimeout(ce):ce())},onDidRemoveLastListener(){me&&me.dispose(),me=null}});return q&&q.add(Ue),Ue.event}jt.buffer=P;function O(J,K){return(q,G,me)=>{let ce=K(new R);return J(function(Ue){let ye=ce.evaluate(Ue);ye!==U&&q.call(G,ye)},void 0,me)}}jt.chain=O;let U=Symbol("HaltChainable");class R{steps=[];map(K){return this.steps.push(K),this}forEach(K){return this.steps.push(Y=>(K(Y),Y)),this}filter(K){return this.steps.push(Y=>K(Y)?Y:U),this}reduce(K,Y){let q=Y;return this.steps.push(G=>(q=K(q,G),q)),this}latch(K=(Y,q)=>Y===q){let Y=!0,q;return this.steps.push(G=>{let me=Y||!K(G,q);return Y=!1,q=G,me?G:U}),this}evaluate(K){for(let Y of this.steps)if(K=Y(K),K===U)break;return K}}function L(J,K,Y=q=>q){let q=(...Ue)=>ce.fire(Y(...Ue)),G=()=>J.on(K,q),me=()=>J.removeListener(K,q),ce=new k({onWillAddFirstListener:G,onDidRemoveLastListener:me});return ce.event}jt.fromNodeEventEmitter=L;function H(J,K,Y=q=>q){let q=(...Ue)=>ce.fire(Y(...Ue)),G=()=>J.addEventListener(K,q),me=()=>J.removeEventListener(K,q),ce=new k({onWillAddFirstListener:G,onDidRemoveLastListener:me});return ce.event}jt.fromDOMEventEmitter=H;function B(J){return new Promise(K=>n(J)(K))}jt.toPromise=B;function M(J){let K=new k;return J.then(Y=>{K.fire(Y)},()=>{K.fire(void 0)}).finally(()=>{K.dispose()}),K.event}jt.fromPromise=M;function te(J,K){return J(Y=>K.fire(Y))}jt.forward=te;function Ie(J,K,Y){return K(Y),J(q=>K(q))}jt.runAndSubscribe=Ie;class pe{constructor(K,Y){this._observable=K;let q={onWillAddFirstListener:()=>{K.addObserver(this),this._observable.reportChanges()},onDidRemoveLastListener:()=>{K.removeObserver(this)}};Y||e(q),this.emitter=new k(q),Y&&Y.add(this.emitter)}emitter;_counter=0;_hasChanged=!1;beginUpdate(K){this._counter++}handlePossibleChange(K){}handleChange(K,Y){this._hasChanged=!0}endUpdate(K){this._counter--,this._counter===0&&(this._observable.reportChanges(),this._hasChanged&&(this._hasChanged=!1,this.emitter.fire(this._observable.get())))}}function ae(J,K){return new pe(J,K).emitter.event}jt.fromObservable=ae;function Et(J){return(K,Y,q)=>{let G=0,me=!1,ce={beginUpdate(){G++},endUpdate(){G--,G===0&&(J.reportChanges(),me&&(me=!1,K.call(Y)))},handlePossibleChange(){},handleChange(){me=!0}};J.addObserver(ce),J.reportChanges();let Ue={dispose(){J.removeObserver(ce)}};return q instanceof W?q.add(Ue):Array.isArray(q)&&q.push(Ue),Ue}}jt.fromObservableLight=Et})(_||={});var Sc=class i{static all=new Set;static _idPool=0;name;listenerCount=0;invocationCount=0;elapsedOverall=0;durations=[];_stopWatch;constructor(e){this.name=`${e}_${i._idPool++}`,i.all.add(this)}start(e){this._stopWatch=new La,this.listenerCount=e}stop(){if(this._stopWatch){let e=this._stopWatch.elapsed();this.durations.push(e),this.elapsedOverall+=e,this.invocationCount+=1,this._stopWatch=void 0}}},Dm=-1;var wc=class i{constructor(e,t,n=(i._idPool++).toString(16).padStart(3,"0")){this._errorHandler=e;this.threshold=t;this.name=n}static _idPool=1;_stacks;_warnCountdown=0;dispose(){this._stacks?.clear()}check(e,t){let n=this.threshold;if(n<=0||t<n)return;this._stacks||(this._stacks=new Map);let o=this._stacks.get(e.value)||0;if(this._stacks.set(e.value,o+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=n*.5;let[r,s]=this.getMostFrequentStack(),a=`[${this.name}] potential listener LEAK detected, having ${t} listeners already. MOST frequent listener (${s}):`;console.warn(a),console.warn(r);let l=new Ec(a,r);this._errorHandler(l)}return()=>{let r=this._stacks.get(e.value)||0;this._stacks.set(e.value,r-1)}}getMostFrequentStack(){if(!this._stacks)return;let e,t=0;for(let[n,o]of this._stacks)(!e||t<o)&&(e=[n,o],t=o);return e}},os=class i{constructor(e){this.value=e}static create(){let e=new Error;return new i(e.stack??"")}print(){console.warn(this.value.split(`
`).slice(2).join(`
`))}},Ec=class extends Error{constructor(e,t){super(e),this.name="ListenerLeakError",this.stack=t}},Dc=class extends Error{constructor(e,t){super(e),this.name="ListenerRefusalError",this.stack=t}},Ny=0,Jo=class{constructor(e){this.value=e}stack;id=Ny++},Oy=2,Ry=(i,e)=>{if(i instanceof Jo)e(i);else for(let t=0;t<i.length;t++){let n=i[t];n&&e(n)}},Ma;if(Ay){let i=[];setInterval(()=>{i.length!==0&&(console.warn("[LEAKING LISTENERS] GC'ed these listeners that were NOT yet disposed:"),console.warn(i.join(`
`)),i.length=0)},3e3),Ma=new FinalizationRegistry(e=>{typeof e=="string"&&i.push(e)})}var k=class{_options;_leakageMon;_perfMon;_disposed;_event;_listeners;_deliveryQueue;_size=0;constructor(e){this._options=e,this._leakageMon=Dm>0||this._options?.leakWarningThreshold?new wc(e?.onListenerError??Pt,this._options?.leakWarningThreshold??Dm):void 0,this._perfMon=this._options?._profName?new Sc(this._options._profName):void 0,this._deliveryQueue=this._options?.deliveryQueue}dispose(){if(!this._disposed){if(this._disposed=!0,this._deliveryQueue?.current===this&&this._deliveryQueue.reset(),this._listeners){if(Em){let e=this._listeners;queueMicrotask(()=>{Ry(e,t=>t.stack?.print())})}this._listeners=void 0,this._size=0}this._options?.onDidRemoveLastListener?.(),this._leakageMon?.dispose()}}get event(){return this._event??=(e,t,n)=>{if(this._leakageMon&&this._size>this._leakageMon.threshold**2){let l=`[${this._leakageMon.name}] REFUSES to accept new listeners because it exceeded its threshold by far (${this._size} vs ${this._leakageMon.threshold})`;console.warn(l);let d=this._leakageMon.getMostFrequentStack()??["UNKNOWN stack",-1],u=new Dc(`${l}. HINT: Stack shows most frequent listener (${d[1]}-times)`,d[0]);return(this._options?.onListenerError||Pt)(u),V.None}if(this._disposed)return V.None;t&&(e=e.bind(t));let o=new Jo(e),r,s;this._leakageMon&&this._size>=Math.ceil(this._leakageMon.threshold*.2)&&(o.stack=os.create(),r=this._leakageMon.check(o.stack,this._size+1)),Em&&(o.stack=s??os.create()),this._listeners?this._listeners instanceof Jo?(this._deliveryQueue??=new kc,this._listeners=[this._listeners,o]):this._listeners.push(o):(this._options?.onWillAddFirstListener?.(this),this._listeners=o,this._options?.onDidAddFirstListener?.(this)),this._size++;let a=he(()=>{Ma?.unregister(a),r?.(),this._removeListener(o)});if(n instanceof W?n.add(a):Array.isArray(n)&&n.push(a),Ma){let l=new Error().stack.split(`
`).slice(2,3).join(`
`).trim(),d=/(file:|vscode-file:\/\/vscode-app)?(\/[^:]*:\d+:\d+)/.exec(l);Ma.register(a,d?.[2]??l,a)}return a},this._event}_removeListener(e){if(this._options?.onWillRemoveListener?.(this),!this._listeners)return;if(this._size===1){this._listeners=void 0,this._options?.onDidRemoveLastListener?.(this),this._size=0;return}let t=this._listeners,n=t.indexOf(e);if(n===-1)throw console.log("disposed?",this._disposed),console.log("size?",this._size),console.log("arr?",JSON.stringify(this._listeners)),new Error("Attempted to dispose unknown listener");this._size--,t[n]=void 0;let o=this._deliveryQueue.current===this;if(this._size*Oy<=t.length){let r=0;for(let s=0;s<t.length;s++)t[s]?t[r++]=t[s]:o&&(this._deliveryQueue.end--,r<this._deliveryQueue.i&&this._deliveryQueue.i--);t.length=r}}_deliver(e,t){if(!e)return;let n=this._options?.onListenerError||Pt;if(!n){e.value(t);return}try{e.value(t)}catch(o){n(o)}}_deliverQueue(e){let t=e.current._listeners;for(;e.i<e.end;)this._deliver(t[e.i++],e.value);e.reset()}fire(e){if(this._deliveryQueue?.current&&(this._deliverQueue(this._deliveryQueue),this._perfMon?.stop()),this._perfMon?.start(this._size),this._listeners)if(this._listeners instanceof Jo)this._deliver(this._listeners,e);else{let t=this._deliveryQueue;t.enqueue(this,e,this._listeners.length),this._deliverQueue(t)}this._perfMon?.stop()}hasListeners(){return this._size>0}};var kc=class{i=-1;end=0;current;value;enqueue(e,t,n){this.i=0,this.end=n,this.current=e,this.value=t}reset(){this.i=this.end,this.current=void 0,this.value=void 0}};var Na=class extends k{_queuedEvents=[];_mergeFn;constructor(e){super(e),this._mergeFn=e?.merge}fire(e){this.hasListeners()&&(this._queuedEvents.push(e),this._queuedEvents.length===1&&queueMicrotask(()=>{this._mergeFn?super.fire(this._mergeFn(this._queuedEvents)):this._queuedEvents.forEach(t=>super.fire(t)),this._queuedEvents=[]}))}};var an=class{data=[];wrapEvent(e,t,n){return(o,r,s)=>e(a=>{let l=this.data[this.data.length-1];if(!t){l?l.buffers.push(()=>o.call(r,a)):o.call(r,a);return}let d=l;if(!d){o.call(r,t(n,a));return}d.items??=[],d.items.push(a),d.buffers.length===0&&l.buffers.push(()=>{d.reducedResult??=n?d.items.reduce(t,n):d.items.reduce(t),o.call(r,d.reducedResult)})},void 0,s)}bufferEvents(e){let t={buffers:new Array};this.data.push(t);let n=e();return this.data.pop(),t.buffers.forEach(o=>o()),n}},Mi=class{listening=!1;inputEvent=_.None;inputEventListener=V.None;emitter=new k({onDidAddFirstListener:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onDidRemoveLastListener:()=>{this.listening=!1,this.inputEventListener.dispose()}});event=this.emitter.event;set input(e){this.inputEvent=e,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=e(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}};var rs=class i{static INSTANCE=new i;mapWindowIdToZoomLevel=new Map;_onDidChangeZoomLevel=new k;onDidChangeZoomLevel=this._onDidChangeZoomLevel.event;getZoomLevel(e){return this.mapWindowIdToZoomLevel.get(this.getWindowId(e))??0}setZoomLevel(e,t){if(this.getZoomLevel(t)===e)return;let n=this.getWindowId(t);this.mapWindowIdToZoomLevel.set(n,e),this._onDidChangeZoomLevel.fire(n)}mapWindowIdToZoomFactor=new Map;getZoomFactor(e){return this.mapWindowIdToZoomFactor.get(this.getWindowId(e))??1}setZoomFactor(e,t){this.mapWindowIdToZoomFactor.set(this.getWindowId(t),e)}_onDidChangeFullscreen=new k;onDidChangeFullscreen=this._onDidChangeFullscreen.event;mapWindowIdToFullScreen=new Map;setFullscreen(e,t){if(this.isFullscreen(t)===e)return;let n=this.getWindowId(t);this.mapWindowIdToFullScreen.set(n,e),this._onDidChangeFullscreen.fire(n)}isFullscreen(e){return!!this.mapWindowIdToFullScreen.get(this.getWindowId(e))}getWindowId(e){return e.vscodeWindowId}};function Py(i,e,t){typeof e=="string"&&(e=i.matchMedia(e)),e.addEventListener("change",t)}var xE=rs.INSTANCE.onDidChangeZoomLevel;function km(i){return rs.INSTANCE.getZoomFactor(i)}var SE=rs.INSTANCE.onDidChangeFullscreen,Zo=navigator.userAgent,Ni=Zo.indexOf("Firefox")>=0,er=Zo.indexOf("AppleWebKit")>=0,ss=Zo.indexOf("Chrome")>=0,Ra=!ss&&Zo.indexOf("Safari")>=0;var wE=Zo.indexOf("Electron/")>=0,EE=Zo.indexOf("Android")>=0,Oa=!1;if(typeof Xe.matchMedia=="function"){let i=Xe.matchMedia("(display-mode: standalone) or (display-mode: window-controls-overlay)"),e=Xe.matchMedia("(display-mode: fullscreen)");Oa=i.matches,Py(Xe,i,({matches:t})=>{Oa&&e.matches||(Oa=t)})}function _m(){return Oa}var Cm={clipboard:{writeText:qo||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:qo||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText)},keyboard:qo||_m()?0:navigator.keyboard||Ra?1:2,touch:"ontouchstart"in Xe||navigator.maxTouchPoints>0,pointerEvents:Xe.PointerEvent&&("ontouchstart"in Xe||navigator.maxTouchPoints>0)};var as=class{_keyCodeToStr;_strToKeyCode;constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(e,t){this._keyCodeToStr[e]=t,this._strToKeyCode[t.toLowerCase()]=e}keyCodeToStr(e){return this._keyCodeToStr[e]}strToKeyCode(e){return this._strToKeyCode[e.toLowerCase()]||0}},Pa=new as,_c=new as,Cc=new as,Ac=new Array(230),By={},Hy=[],Ky=Object.create(null),zy=Object.create(null);var Lm=[],Lc=[];for(let i=0;i<=193;i++)Lm[i]=-1;for(let i=0;i<=132;i++)Lc[i]=-1;(function(){let i="",e=[[1,0,"None",0,"unknown",0,"VK_UNKNOWN",i,i],[1,1,"Hyper",0,i,0,i,i,i],[1,2,"Super",0,i,0,i,i,i],[1,3,"Fn",0,i,0,i,i,i],[1,4,"FnLock",0,i,0,i,i,i],[1,5,"Suspend",0,i,0,i,i,i],[1,6,"Resume",0,i,0,i,i,i],[1,7,"Turbo",0,i,0,i,i,i],[1,8,"Sleep",0,i,0,"VK_SLEEP",i,i],[1,9,"WakeUp",0,i,0,i,i,i],[0,10,"KeyA",31,"A",65,"VK_A",i,i],[0,11,"KeyB",32,"B",66,"VK_B",i,i],[0,12,"KeyC",33,"C",67,"VK_C",i,i],[0,13,"KeyD",34,"D",68,"VK_D",i,i],[0,14,"KeyE",35,"E",69,"VK_E",i,i],[0,15,"KeyF",36,"F",70,"VK_F",i,i],[0,16,"KeyG",37,"G",71,"VK_G",i,i],[0,17,"KeyH",38,"H",72,"VK_H",i,i],[0,18,"KeyI",39,"I",73,"VK_I",i,i],[0,19,"KeyJ",40,"J",74,"VK_J",i,i],[0,20,"KeyK",41,"K",75,"VK_K",i,i],[0,21,"KeyL",42,"L",76,"VK_L",i,i],[0,22,"KeyM",43,"M",77,"VK_M",i,i],[0,23,"KeyN",44,"N",78,"VK_N",i,i],[0,24,"KeyO",45,"O",79,"VK_O",i,i],[0,25,"KeyP",46,"P",80,"VK_P",i,i],[0,26,"KeyQ",47,"Q",81,"VK_Q",i,i],[0,27,"KeyR",48,"R",82,"VK_R",i,i],[0,28,"KeyS",49,"S",83,"VK_S",i,i],[0,29,"KeyT",50,"T",84,"VK_T",i,i],[0,30,"KeyU",51,"U",85,"VK_U",i,i],[0,31,"KeyV",52,"V",86,"VK_V",i,i],[0,32,"KeyW",53,"W",87,"VK_W",i,i],[0,33,"KeyX",54,"X",88,"VK_X",i,i],[0,34,"KeyY",55,"Y",89,"VK_Y",i,i],[0,35,"KeyZ",56,"Z",90,"VK_Z",i,i],[0,36,"Digit1",22,"1",49,"VK_1",i,i],[0,37,"Digit2",23,"2",50,"VK_2",i,i],[0,38,"Digit3",24,"3",51,"VK_3",i,i],[0,39,"Digit4",25,"4",52,"VK_4",i,i],[0,40,"Digit5",26,"5",53,"VK_5",i,i],[0,41,"Digit6",27,"6",54,"VK_6",i,i],[0,42,"Digit7",28,"7",55,"VK_7",i,i],[0,43,"Digit8",29,"8",56,"VK_8",i,i],[0,44,"Digit9",30,"9",57,"VK_9",i,i],[0,45,"Digit0",21,"0",48,"VK_0",i,i],[1,46,"Enter",3,"Enter",13,"VK_RETURN",i,i],[1,47,"Escape",9,"Escape",27,"VK_ESCAPE",i,i],[1,48,"Backspace",1,"Backspace",8,"VK_BACK",i,i],[1,49,"Tab",2,"Tab",9,"VK_TAB",i,i],[1,50,"Space",10,"Space",32,"VK_SPACE",i,i],[0,51,"Minus",88,"-",189,"VK_OEM_MINUS","-","OEM_MINUS"],[0,52,"Equal",86,"=",187,"VK_OEM_PLUS","=","OEM_PLUS"],[0,53,"BracketLeft",92,"[",219,"VK_OEM_4","[","OEM_4"],[0,54,"BracketRight",94,"]",221,"VK_OEM_6","]","OEM_6"],[0,55,"Backslash",93,"\\",220,"VK_OEM_5","\\","OEM_5"],[0,56,"IntlHash",0,i,0,i,i,i],[0,57,"Semicolon",85,";",186,"VK_OEM_1",";","OEM_1"],[0,58,"Quote",95,"'",222,"VK_OEM_7","'","OEM_7"],[0,59,"Backquote",91,"`",192,"VK_OEM_3","`","OEM_3"],[0,60,"Comma",87,",",188,"VK_OEM_COMMA",",","OEM_COMMA"],[0,61,"Period",89,".",190,"VK_OEM_PERIOD",".","OEM_PERIOD"],[0,62,"Slash",90,"/",191,"VK_OEM_2","/","OEM_2"],[1,63,"CapsLock",8,"CapsLock",20,"VK_CAPITAL",i,i],[1,64,"F1",59,"F1",112,"VK_F1",i,i],[1,65,"F2",60,"F2",113,"VK_F2",i,i],[1,66,"F3",61,"F3",114,"VK_F3",i,i],[1,67,"F4",62,"F4",115,"VK_F4",i,i],[1,68,"F5",63,"F5",116,"VK_F5",i,i],[1,69,"F6",64,"F6",117,"VK_F6",i,i],[1,70,"F7",65,"F7",118,"VK_F7",i,i],[1,71,"F8",66,"F8",119,"VK_F8",i,i],[1,72,"F9",67,"F9",120,"VK_F9",i,i],[1,73,"F10",68,"F10",121,"VK_F10",i,i],[1,74,"F11",69,"F11",122,"VK_F11",i,i],[1,75,"F12",70,"F12",123,"VK_F12",i,i],[1,76,"PrintScreen",0,i,0,i,i,i],[1,77,"ScrollLock",84,"ScrollLock",145,"VK_SCROLL",i,i],[1,78,"Pause",7,"PauseBreak",19,"VK_PAUSE",i,i],[1,79,"Insert",19,"Insert",45,"VK_INSERT",i,i],[1,80,"Home",14,"Home",36,"VK_HOME",i,i],[1,81,"PageUp",11,"PageUp",33,"VK_PRIOR",i,i],[1,82,"Delete",20,"Delete",46,"VK_DELETE",i,i],[1,83,"End",13,"End",35,"VK_END",i,i],[1,84,"PageDown",12,"PageDown",34,"VK_NEXT",i,i],[1,85,"ArrowRight",17,"RightArrow",39,"VK_RIGHT","Right",i],[1,86,"ArrowLeft",15,"LeftArrow",37,"VK_LEFT","Left",i],[1,87,"ArrowDown",18,"DownArrow",40,"VK_DOWN","Down",i],[1,88,"ArrowUp",16,"UpArrow",38,"VK_UP","Up",i],[1,89,"NumLock",83,"NumLock",144,"VK_NUMLOCK",i,i],[1,90,"NumpadDivide",113,"NumPad_Divide",111,"VK_DIVIDE",i,i],[1,91,"NumpadMultiply",108,"NumPad_Multiply",106,"VK_MULTIPLY",i,i],[1,92,"NumpadSubtract",111,"NumPad_Subtract",109,"VK_SUBTRACT",i,i],[1,93,"NumpadAdd",109,"NumPad_Add",107,"VK_ADD",i,i],[1,94,"NumpadEnter",3,i,0,i,i,i],[1,95,"Numpad1",99,"NumPad1",97,"VK_NUMPAD1",i,i],[1,96,"Numpad2",100,"NumPad2",98,"VK_NUMPAD2",i,i],[1,97,"Numpad3",101,"NumPad3",99,"VK_NUMPAD3",i,i],[1,98,"Numpad4",102,"NumPad4",100,"VK_NUMPAD4",i,i],[1,99,"Numpad5",103,"NumPad5",101,"VK_NUMPAD5",i,i],[1,100,"Numpad6",104,"NumPad6",102,"VK_NUMPAD6",i,i],[1,101,"Numpad7",105,"NumPad7",103,"VK_NUMPAD7",i,i],[1,102,"Numpad8",106,"NumPad8",104,"VK_NUMPAD8",i,i],[1,103,"Numpad9",107,"NumPad9",105,"VK_NUMPAD9",i,i],[1,104,"Numpad0",98,"NumPad0",96,"VK_NUMPAD0",i,i],[1,105,"NumpadDecimal",112,"NumPad_Decimal",110,"VK_DECIMAL",i,i],[0,106,"IntlBackslash",97,"OEM_102",226,"VK_OEM_102",i,i],[1,107,"ContextMenu",58,"ContextMenu",93,i,i,i],[1,108,"Power",0,i,0,i,i,i],[1,109,"NumpadEqual",0,i,0,i,i,i],[1,110,"F13",71,"F13",124,"VK_F13",i,i],[1,111,"F14",72,"F14",125,"VK_F14",i,i],[1,112,"F15",73,"F15",126,"VK_F15",i,i],[1,113,"F16",74,"F16",127,"VK_F16",i,i],[1,114,"F17",75,"F17",128,"VK_F17",i,i],[1,115,"F18",76,"F18",129,"VK_F18",i,i],[1,116,"F19",77,"F19",130,"VK_F19",i,i],[1,117,"F20",78,"F20",131,"VK_F20",i,i],[1,118,"F21",79,"F21",132,"VK_F21",i,i],[1,119,"F22",80,"F22",133,"VK_F22",i,i],[1,120,"F23",81,"F23",134,"VK_F23",i,i],[1,121,"F24",82,"F24",135,"VK_F24",i,i],[1,122,"Open",0,i,0,i,i,i],[1,123,"Help",0,i,0,i,i,i],[1,124,"Select",0,i,0,i,i,i],[1,125,"Again",0,i,0,i,i,i],[1,126,"Undo",0,i,0,i,i,i],[1,127,"Cut",0,i,0,i,i,i],[1,128,"Copy",0,i,0,i,i,i],[1,129,"Paste",0,i,0,i,i,i],[1,130,"Find",0,i,0,i,i,i],[1,131,"AudioVolumeMute",117,"AudioVolumeMute",173,"VK_VOLUME_MUTE",i,i],[1,132,"AudioVolumeUp",118,"AudioVolumeUp",175,"VK_VOLUME_UP",i,i],[1,133,"AudioVolumeDown",119,"AudioVolumeDown",174,"VK_VOLUME_DOWN",i,i],[1,134,"NumpadComma",110,"NumPad_Separator",108,"VK_SEPARATOR",i,i],[0,135,"IntlRo",115,"ABNT_C1",193,"VK_ABNT_C1",i,i],[1,136,"KanaMode",0,i,0,i,i,i],[0,137,"IntlYen",0,i,0,i,i,i],[1,138,"Convert",0,i,0,i,i,i],[1,139,"NonConvert",0,i,0,i,i,i],[1,140,"Lang1",0,i,0,i,i,i],[1,141,"Lang2",0,i,0,i,i,i],[1,142,"Lang3",0,i,0,i,i,i],[1,143,"Lang4",0,i,0,i,i,i],[1,144,"Lang5",0,i,0,i,i,i],[1,145,"Abort",0,i,0,i,i,i],[1,146,"Props",0,i,0,i,i,i],[1,147,"NumpadParenLeft",0,i,0,i,i,i],[1,148,"NumpadParenRight",0,i,0,i,i,i],[1,149,"NumpadBackspace",0,i,0,i,i,i],[1,150,"NumpadMemoryStore",0,i,0,i,i,i],[1,151,"NumpadMemoryRecall",0,i,0,i,i,i],[1,152,"NumpadMemoryClear",0,i,0,i,i,i],[1,153,"NumpadMemoryAdd",0,i,0,i,i,i],[1,154,"NumpadMemorySubtract",0,i,0,i,i,i],[1,155,"NumpadClear",131,"Clear",12,"VK_CLEAR",i,i],[1,156,"NumpadClearEntry",0,i,0,i,i,i],[1,0,i,5,"Ctrl",17,"VK_CONTROL",i,i],[1,0,i,4,"Shift",16,"VK_SHIFT",i,i],[1,0,i,6,"Alt",18,"VK_MENU",i,i],[1,0,i,57,"Meta",91,"VK_COMMAND",i,i],[1,157,"ControlLeft",5,i,0,"VK_LCONTROL",i,i],[1,158,"ShiftLeft",4,i,0,"VK_LSHIFT",i,i],[1,159,"AltLeft",6,i,0,"VK_LMENU",i,i],[1,160,"MetaLeft",57,i,0,"VK_LWIN",i,i],[1,161,"ControlRight",5,i,0,"VK_RCONTROL",i,i],[1,162,"ShiftRight",4,i,0,"VK_RSHIFT",i,i],[1,163,"AltRight",6,i,0,"VK_RMENU",i,i],[1,164,"MetaRight",57,i,0,"VK_RWIN",i,i],[1,165,"BrightnessUp",0,i,0,i,i,i],[1,166,"BrightnessDown",0,i,0,i,i,i],[1,167,"MediaPlay",0,i,0,i,i,i],[1,168,"MediaRecord",0,i,0,i,i,i],[1,169,"MediaFastForward",0,i,0,i,i,i],[1,170,"MediaRewind",0,i,0,i,i,i],[1,171,"MediaTrackNext",124,"MediaTrackNext",176,"VK_MEDIA_NEXT_TRACK",i,i],[1,172,"MediaTrackPrevious",125,"MediaTrackPrevious",177,"VK_MEDIA_PREV_TRACK",i,i],[1,173,"MediaStop",126,"MediaStop",178,"VK_MEDIA_STOP",i,i],[1,174,"Eject",0,i,0,i,i,i],[1,175,"MediaPlayPause",127,"MediaPlayPause",179,"VK_MEDIA_PLAY_PAUSE",i,i],[1,176,"MediaSelect",128,"LaunchMediaPlayer",181,"VK_MEDIA_LAUNCH_MEDIA_SELECT",i,i],[1,177,"LaunchMail",129,"LaunchMail",180,"VK_MEDIA_LAUNCH_MAIL",i,i],[1,178,"LaunchApp2",130,"LaunchApp2",183,"VK_MEDIA_LAUNCH_APP2",i,i],[1,179,"LaunchApp1",0,i,0,"VK_MEDIA_LAUNCH_APP1",i,i],[1,180,"SelectTask",0,i,0,i,i,i],[1,181,"LaunchScreenSaver",0,i,0,i,i,i],[1,182,"BrowserSearch",120,"BrowserSearch",170,"VK_BROWSER_SEARCH",i,i],[1,183,"BrowserHome",121,"BrowserHome",172,"VK_BROWSER_HOME",i,i],[1,184,"BrowserBack",122,"BrowserBack",166,"VK_BROWSER_BACK",i,i],[1,185,"BrowserForward",123,"BrowserForward",167,"VK_BROWSER_FORWARD",i,i],[1,186,"BrowserStop",0,i,0,"VK_BROWSER_STOP",i,i],[1,187,"BrowserRefresh",0,i,0,"VK_BROWSER_REFRESH",i,i],[1,188,"BrowserFavorites",0,i,0,"VK_BROWSER_FAVORITES",i,i],[1,189,"ZoomToggle",0,i,0,i,i,i],[1,190,"MailReply",0,i,0,i,i,i],[1,191,"MailForward",0,i,0,i,i,i],[1,192,"MailSend",0,i,0,i,i,i],[1,0,i,114,"KeyInComposition",229,i,i,i],[1,0,i,116,"ABNT_C2",194,"VK_ABNT_C2",i,i],[1,0,i,96,"OEM_8",223,"VK_OEM_8",i,i],[1,0,i,0,i,0,"VK_KANA",i,i],[1,0,i,0,i,0,"VK_HANGUL",i,i],[1,0,i,0,i,0,"VK_JUNJA",i,i],[1,0,i,0,i,0,"VK_FINAL",i,i],[1,0,i,0,i,0,"VK_HANJA",i,i],[1,0,i,0,i,0,"VK_KANJI",i,i],[1,0,i,0,i,0,"VK_CONVERT",i,i],[1,0,i,0,i,0,"VK_NONCONVERT",i,i],[1,0,i,0,i,0,"VK_ACCEPT",i,i],[1,0,i,0,i,0,"VK_MODECHANGE",i,i],[1,0,i,0,i,0,"VK_SELECT",i,i],[1,0,i,0,i,0,"VK_PRINT",i,i],[1,0,i,0,i,0,"VK_EXECUTE",i,i],[1,0,i,0,i,0,"VK_SNAPSHOT",i,i],[1,0,i,0,i,0,"VK_HELP",i,i],[1,0,i,0,i,0,"VK_APPS",i,i],[1,0,i,0,i,0,"VK_PROCESSKEY",i,i],[1,0,i,0,i,0,"VK_PACKET",i,i],[1,0,i,0,i,0,"VK_DBE_SBCSCHAR",i,i],[1,0,i,0,i,0,"VK_DBE_DBCSCHAR",i,i],[1,0,i,0,i,0,"VK_ATTN",i,i],[1,0,i,0,i,0,"VK_CRSEL",i,i],[1,0,i,0,i,0,"VK_EXSEL",i,i],[1,0,i,0,i,0,"VK_EREOF",i,i],[1,0,i,0,i,0,"VK_PLAY",i,i],[1,0,i,0,i,0,"VK_ZOOM",i,i],[1,0,i,0,i,0,"VK_NONAME",i,i],[1,0,i,0,i,0,"VK_PA1",i,i],[1,0,i,0,i,0,"VK_OEM_CLEAR",i,i]],t=[],n=[];for(let o of e){let[r,s,a,l,d,u,h,f,T]=o;if(n[s]||(n[s]=!0,Hy[s]=a,Ky[a]=s,zy[a.toLowerCase()]=s,r&&(Lm[s]=l,l!==0&&l!==3&&l!==5&&l!==4&&l!==6&&l!==57&&(Lc[l]=s))),!t[l]){if(t[l]=!0,!d)throw new Error(`String representation missing for key code ${l} around scan code ${a}`);Pa.define(l,d),_c.define(l,f||d),Cc.define(l,T||f||d)}u&&(Ac[u]=l),h&&(By[h]=l)}Lc[3]=46})();var Ba;(s=>{function i(a){return Pa.keyCodeToStr(a)}s.toString=i;function e(a){return Pa.strToKeyCode(a)}s.fromString=e;function t(a){return _c.keyCodeToStr(a)}s.toUserSettingsUS=t;function n(a){return Cc.keyCodeToStr(a)}s.toUserSettingsGeneral=n;function o(a){return _c.strToKeyCode(a)||Cc.strToKeyCode(a)}s.fromUserSettings=o;function r(a){if(a>=98&&a<=113)return null;switch(a){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return Pa.keyCodeToStr(a)}s.toElectronAccelerator=r})(Ba||={});function Nc(i,e){if(typeof i=="number"){if(i===0)return null;let t=(i&65535)>>>0,n=(i&4294901760)>>>16;return n!==0?new tr([Ha(t,e),Ha(n,e)]):new tr([Ha(t,e)])}else{let t=[];for(let n=0;n<i.length;n++)t.push(Ha(i[n],e));return new tr(t)}}function Ha(i,e){let t=!!(i&2048),n=!!(i&256),o=e===2?n:t,r=!!(i&1024),s=!!(i&512),a=e===2?t:n,l=i&255;return new ls(o,r,s,a,l)}var ls=class i{constructor(e,t,n,o,r){this.ctrlKey=e;this.shiftKey=t;this.altKey=n;this.metaKey=o;this.keyCode=r}equals(e){return e instanceof i&&this.ctrlKey===e.ctrlKey&&this.shiftKey===e.shiftKey&&this.altKey===e.altKey&&this.metaKey===e.metaKey&&this.keyCode===e.keyCode}getHashCode(){let e=this.ctrlKey?"1":"0",t=this.shiftKey?"1":"0",n=this.altKey?"1":"0",o=this.metaKey?"1":"0";return`K${e}${t}${n}${o}${this.keyCode}`}isModifierKey(){return this.keyCode===0||this.keyCode===5||this.keyCode===57||this.keyCode===6||this.keyCode===4}toKeybinding(){return new tr([this])}isDuplicateModifierCase(){return this.ctrlKey&&this.keyCode===5||this.shiftKey&&this.keyCode===4||this.altKey&&this.keyCode===6||this.metaKey&&this.keyCode===57}};var tr=class{chords;constructor(e){if(e.length===0)throw ha("chords");this.chords=e}getHashCode(){let e="";for(let t=0,n=this.chords.length;t<n;t++)t!==0&&(e+=";"),e+=this.chords[t].getHashCode();return e}equals(e){if(e===null||this.chords.length!==e.chords.length)return!1;for(let t=0;t<this.chords.length;t++)if(!this.chords[t].equals(e.chords[t]))return!1;return!0}};function Uy(i){if(i.charCode){let t=String.fromCharCode(i.charCode).toUpperCase();return Ba.fromString(t)}let e=i.keyCode;if(e===3)return 7;if(Ni)switch(e){case 59:return 85;case 60:if(rn)return 97;break;case 61:return 86;case 107:return 109;case 109:return 111;case 173:return 88;case 224:if(ke)return 57;break}else if(er){if(ke&&e===93)return 57;if(!ke&&e===92)return 57}return Ac[e]||0}var Vy=ke?256:2048,Wy=512,$y=1024,qy=ke?2048:256;var Me=class{_standardKeyboardEventBrand=!0;browserEvent;target;ctrlKey;shiftKey;altKey;metaKey;altGraphKey;keyCode;code;_asKeybinding;_asKeyCodeChord;constructor(e){let t=e;this.browserEvent=t,this.target=t.target,this.ctrlKey=t.ctrlKey,this.shiftKey=t.shiftKey,this.altKey=t.altKey,this.metaKey=t.metaKey,this.altGraphKey=t.getModifierState?.("AltGraph"),this.keyCode=Uy(t),this.code=t.code,this.ctrlKey=this.ctrlKey||this.keyCode===5,this.altKey=this.altKey||this.keyCode===6,this.shiftKey=this.shiftKey||this.keyCode===4,this.metaKey=this.metaKey||this.keyCode===57,this._asKeybinding=this._computeKeybinding(),this._asKeyCodeChord=this._computeKeyCodeChord()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeyCodeChord(){return this._asKeyCodeChord}equals(e){return this._asKeybinding===e}_computeKeybinding(){let e=0;this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(e=this.keyCode);let t=0;return this.ctrlKey&&(t|=Vy),this.altKey&&(t|=Wy),this.shiftKey&&(t|=$y),this.metaKey&&(t|=qy),t|=e,t}_computeKeyCodeChord(){let e=0;return this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(e=this.keyCode),new ls(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,e)}};var Mm=new WeakMap;function Gy(i){if(!i.parent||i.parent===i)return null;try{let e=i.location,t=i.parent.location;if(e.origin!=="null"&&t.origin!=="null"&&e.origin!==t.origin)return null}catch{return null}return i.parent}var Ka=class{static getSameOriginWindowChain(e){let t=Mm.get(e);if(!t){t=[],Mm.set(e,t);let n=e,o;do o=Gy(n),o?t.push({window:new WeakRef(n),iframeElement:n.frameElement||null}):t.push({window:new WeakRef(n),iframeElement:null}),n=o;while(n)}return t.slice(0)}static getPositionOfChildWindowRelativeToAncestorWindow(e,t){if(!t||e===t)return{top:0,left:0};let n=0,o=0,r=this.getSameOriginWindowChain(e);for(let s of r){let a=s.window.deref();if(n+=a?.scrollY??0,o+=a?.scrollX??0,a===t||!s.iframeElement)break;let l=s.iframeElement.getBoundingClientRect();n+=l.top,o+=l.left}return{top:n,left:o}}};var Yt=class{browserEvent;leftButton;middleButton;rightButton;buttons;target;detail;posx;posy;ctrlKey;shiftKey;altKey;metaKey;timestamp;constructor(e,t){this.timestamp=Date.now(),this.browserEvent=t,this.leftButton=t.button===0,this.middleButton=t.button===1,this.rightButton=t.button===2,this.buttons=t.buttons,this.target=t.target,this.detail=t.detail||1,t.type==="dblclick"&&(this.detail=2),this.ctrlKey=t.ctrlKey,this.shiftKey=t.shiftKey,this.altKey=t.altKey,this.metaKey=t.metaKey,typeof t.pageX=="number"?(this.posx=t.pageX,this.posy=t.pageY):(this.posx=t.clientX+this.target.ownerDocument.body.scrollLeft+this.target.ownerDocument.documentElement.scrollLeft,this.posy=t.clientY+this.target.ownerDocument.body.scrollTop+this.target.ownerDocument.documentElement.scrollTop);let n=Ka.getPositionOfChildWindowRelativeToAncestorWindow(e,t.view);this.posx-=n.left,this.posy-=n.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}};var gn=class{browserEvent;deltaY;deltaX;target;constructor(e,t=0,n=0){this.browserEvent=e||null,this.target=e?e.target||e.targetNode||e.srcElement:null,this.deltaY=n,this.deltaX=t;let o=!1;if(ss){let r=navigator.userAgent.match(/Chrome\/(\d+)/);o=(r?parseInt(r[1]):123)<=122}if(e){let r=e,s=e,a=e.view?.devicePixelRatio||1;if(typeof r.wheelDeltaY<"u")o?this.deltaY=r.wheelDeltaY/(120*a):this.deltaY=r.wheelDeltaY/120;else if(typeof s.VERTICAL_AXIS<"u"&&s.axis===s.VERTICAL_AXIS)this.deltaY=-s.detail/3;else if(e.type==="wheel"){let l=e;l.deltaMode===l.DOM_DELTA_LINE?Ni&&!ke?this.deltaY=-e.deltaY/3:this.deltaY=-e.deltaY:this.deltaY=-e.deltaY/40}if(typeof r.wheelDeltaX<"u")Ra&&at?this.deltaX=-(r.wheelDeltaX/120):o?this.deltaX=r.wheelDeltaX/(120*a):this.deltaX=r.wheelDeltaX/120;else if(typeof s.HORIZONTAL_AXIS<"u"&&s.axis===s.HORIZONTAL_AXIS)this.deltaX=-e.detail/3;else if(e.type==="wheel"){let l=e;l.deltaMode===l.DOM_DELTA_LINE?Ni&&!ke?this.deltaX=-e.deltaX/3:this.deltaX=-e.deltaX:this.deltaX=-e.deltaX/40}this.deltaY===0&&this.deltaX===0&&e.wheelDelta&&(o?this.deltaY=e.wheelDelta/(120*a):this.deltaY=e.wheelDelta/120)}}preventDefault(){this.browserEvent?.preventDefault()}stopPropagation(){this.browserEvent?.stopPropagation()}};function jy(i){return i}var za=class{lastCache=void 0;lastArgKey=void 0;_fn;_computeKey;constructor(e,t){typeof e=="function"?(this._fn=e,this._computeKey=jy):(this._fn=t,this._computeKey=e.getCacheKey)}get(e){let t=this._computeKey(e);return this.lastArgKey!==t&&(this.lastArgKey=t,this.lastCache=this._fn(e)),this.lastCache}};var ct=class{constructor(e){this.executor=e}_didRun=!1;_value;_error;get hasValue(){return this._didRun}get value(){if(!this._didRun)try{this._value=this.executor()}catch(e){this._error=e}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}};function Rm(i){return!i||typeof i!="string"?!0:i.trim().length===0}function ds(i,e){if(!i||!e)return i;let t=e.length;if(t===0||i.length===0)return i;let n=0;for(;i.indexOf(e,n)===n;)n=n+t;return i.substring(n)}function Fm(i){return i.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}function Oc(i,e){return i<e?-1:i>e?1:0}function Pm(i,e,t=0,n=i.length,o=0,r=e.length){for(;t<n&&o<r;t++,o++){let l=i.charCodeAt(t),d=e.charCodeAt(o);if(l<d)return-1;if(l>d)return 1}let s=n-t,a=r-o;return s<a?-1:s>a?1:0}function Rc(i,e,t=0,n=i.length,o=0,r=e.length){for(;t<n&&o<r;t++,o++){let l=i.charCodeAt(t),d=e.charCodeAt(o);if(l===d)continue;if(l>=128||d>=128)return Pm(i.toLowerCase(),e.toLowerCase(),t,n,o,r);Nm(l)&&(l-=32),Nm(d)&&(d-=32);let u=l-d;if(u!==0)return u}let s=n-t,a=r-o;return s<a?-1:s>a?1:0}function Nm(i){return i>=97&&i<=122}function Hn(i,e){return i.length===e.length&&Rc(i,e)===0}function nr(i,e){let t=e.length;return e.length>i.length?!1:Rc(i,e,0,t)===0}function Bm(i){return 55296<=i&&i<=56319}function Fc(i){return 56320<=i&&i<=57343}function Hm(i,e){return(i-55296<<10)+(e-56320)+65536}function Km(i){return i>=127462&&i<=127487||i===8986||i===8987||i===9200||i===9203||i>=9728&&i<=10175||i===11088||i===11093||i>=127744&&i<=128591||i>=128640&&i<=128764||i>=128992&&i<=129008||i>=129280&&i<=129535||i>=129648&&i<=129782}var XE=String.fromCharCode(65279);var Om=class i{constructor(e){this.confusableDictionary=e}static ambiguousCharacterData=new ct(()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125,119846,109],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}'));static cache=new za({getCacheKey:JSON.stringify},e=>{function t(u){let h=new Map;for(let f=0;f<u.length;f+=2)h.set(u[f],u[f+1]);return h}function n(u,h){let f=new Map(u);for(let[T,w]of h)f.set(T,w);return f}function o(u,h){if(!u)return h;let f=new Map;for(let[T,w]of u)h.has(T)&&f.set(T,w);return f}let r=this.ambiguousCharacterData.value,s=e.filter(u=>!u.startsWith("_")&&u in r);s.length===0&&(s=["_default"]);let a;for(let u of s){let h=t(r[u]);a=o(a,h)}let l=t(r._common),d=n(l,a);return new i(d)});static getInstance(e){return i.cache.get(Array.from(e))}static _locales=new ct(()=>Object.keys(i.ambiguousCharacterData.value).filter(e=>!e.startsWith("_")));static getLocales(){return i._locales.value}isAmbiguous(e){return this.confusableDictionary.has(e)}containsAmbiguousCharacter(e){for(let t=0;t<e.length;t++){let n=e.codePointAt(t);if(typeof n=="number"&&this.isAmbiguous(n))return!0}return!1}getPrimaryConfusable(e){return this.confusableDictionary.get(e)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}};function bn(i){return typeof i=="string"}function vn(i){return typeof i=="object"&&i!==null&&!Array.isArray(i)&&!(i instanceof RegExp)&&!(i instanceof Date)}function Oi(i){return typeof i=="number"&&!isNaN(i)}function Pc(i){return!!i&&typeof i[Symbol.iterator]=="function"}function Ri(i){return typeof i>"u"}function Fi(i){return Ri(i)||i===null}function zm(i,e){if(!i)throw new Error(e?`Unexpected type, expected '${e}'`:"Unexpected type")}var Yy=Object.prototype.hasOwnProperty;function Um(i){if(!vn(i))return!1;for(let e in i)if(Yy.call(i,e))return!1;return!0}function Va(i){return typeof i=="function"}function Vm(i,e){let t=Math.min(i.length,e.length);for(let n=0;n<t;n++)Xy(i[n],e[n])}function Xy(i,e){if(bn(e)){if(typeof i!==e)throw new Error(`argument does not match constraint: typeof ${e}`)}else if(Va(e)){try{if(i instanceof e)return}catch{}if(!Fi(i)&&i.constructor===e||e.length===1&&e.call(void 0,i)===!0)return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}function Pi(i){return i===47||i===92}function Wa(i){return i.replace(/[\\/]/g,Ce.sep)}function $m(i){return i.indexOf("/")===-1&&(i=Wa(i)),/^[a-zA-Z]:(\/|$)/.test(i)&&(i="/"+i),i}function Bc(i,e=Ce.sep){if(!i)return"";let t=i.length,n=i.charCodeAt(0);if(Pi(n)){if(Pi(i.charCodeAt(1))&&!Pi(i.charCodeAt(2))){let r=3,s=r;for(;r<t&&!Pi(i.charCodeAt(r));r++);if(s!==r&&!Pi(i.charCodeAt(r+1))){for(r+=1;r<t;r++)if(Pi(i.charCodeAt(r)))return i.slice(0,r+1).replace(/[\\/]/g,e)}}return e}else if(Jy(n)&&i.charCodeAt(1)===58)return Pi(i.charCodeAt(2))?i.slice(0,2)+e:i.slice(0,2);let o=i.indexOf("://");if(o!==-1){for(o+=3;o<t;o++)if(Pi(i.charCodeAt(o)))return i.slice(0,o+1)}return""}function Hc(i,e,t,n=ai){if(i===e)return!0;if(!i||!e||e.length>i.length)return!1;if(t){if(!nr(i,e))return!1;if(e.length===i.length)return!0;let r=e.length;return e.charAt(e.length-1)===n&&r--,i.charAt(r)===n}return e.charAt(e.length-1)!==n&&(e+=n),i.indexOf(e)===0}function Jy(i){return i>=65&&i<=90||i>=97&&i<=122}var We;(se=>(se.inMemory="inmemory",se.vscode="vscode",se.internal="private",se.walkThrough="walkThrough",se.walkThroughSnippet="walkThroughSnippet",se.http="http",se.https="https",se.file="file",se.mailto="mailto",se.untitled="untitled",se.data="data",se.command="command",se.vscodeRemote="vscode-remote",se.vscodeRemoteResource="vscode-remote-resource",se.vscodeManagedRemoteResource="vscode-managed-remote-resource",se.vscodeUserData="vscode-userdata",se.vscodeCustomEditor="vscode-custom-editor",se.vscodeNotebookCell="vscode-notebook-cell",se.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",se.vscodeNotebookCellMetadataDiff="vscode-notebook-cell-metadata-diff",se.vscodeNotebookCellOutput="vscode-notebook-cell-output",se.vscodeNotebookCellOutputDiff="vscode-notebook-cell-output-diff",se.vscodeNotebookMetadata="vscode-notebook-metadata",se.vscodeInteractiveInput="vscode-interactive-input",se.vscodeSettings="vscode-settings",se.vscodeWorkspaceTrust="vscode-workspace-trust",se.vscodeTerminal="vscode-terminal",se.vscodeChatCodeBlock="vscode-chat-code-block",se.vscodeChatCodeCompareBlock="vscode-chat-code-compare-block",se.vscodeChatSesssion="vscode-chat-editor",se.webviewPanel="webview-panel",se.vscodeWebview="vscode-webview",se.extension="extension",se.vscodeFileResource="vscode-file",se.tmp="tmp",se.vsls="vsls",se.vscodeSourceControl="vscode-scm",se.commentsInput="comment",se.codeSetting="code-setting",se.outputChannel="output"))(We||={});var e1="tkn",Kc=class{_hosts=Object.create(null);_ports=Object.create(null);_connectionTokens=Object.create(null);_preferredWebSchema="http";_delegate=null;_serverRootPath="/";setPreferredWebSchema(e){this._preferredWebSchema=e}setDelegate(e){this._delegate=e}setServerRootPath(e,t){this._serverRootPath=t1(e,t)}getServerRootPath(){return this._serverRootPath}get _remoteResourcesPath(){return Ce.join(this._serverRootPath,We.vscodeRemoteResource)}set(e,t,n){this._hosts[e]=t,this._ports[e]=n}setConnectionToken(e,t){this._connectionTokens[e]=t}getPreferredWebSchema(){return this._preferredWebSchema}rewrite(e){if(this._delegate)try{return this._delegate(e)}catch(a){return Pt(a),e}let t=e.authority,n=this._hosts[t];n&&n.indexOf(":")!==-1&&n.indexOf("[")===-1&&(n=`[${n}]`);let o=this._ports[t],r=this._connectionTokens[t],s=`path=${encodeURIComponent(e.path)}`;return typeof r=="string"&&(s+=`&${e1}=${encodeURIComponent(r)}`),Ve.from({scheme:Ei?this._preferredWebSchema:We.vscodeRemoteResource,authority:`${n}:${o}`,path:this._remoteResourcesPath,query:s})}},Uc=new Kc;function t1(i,e){return Ce.join(e??"/",`${i.quality??"oss"}-${i.commit??"dev"}`)}var n1="vscode-app",zc=class i{static FALLBACK_AUTHORITY=n1;asBrowserUri(e){let t=this.toUri(e);return this.uriToBrowserUri(t)}uriToBrowserUri(e){return e.scheme===We.vscodeRemote?Uc.rewrite(e):e.scheme===We.file&&(qo||$p===`${We.vscodeFileResource}://${i.FALLBACK_AUTHORITY}`)?e.with({scheme:We.vscodeFileResource,authority:e.authority||i.FALLBACK_AUTHORITY,query:null,fragment:null}):e}asFileUri(e){let t=this.toUri(e);return this.uriToFileUri(t)}uriToFileUri(e){return e.scheme===We.vscodeFileResource?e.with({scheme:We.file,authority:e.authority!==i.FALLBACK_AUTHORITY?e.authority:null,query:null,fragment:null}):e}toUri(e,t){if(Ve.isUri(e))return e;if(globalThis._VSCODE_FILE_ROOT){let n=globalThis._VSCODE_FILE_ROOT;if(/^\w[\w\d+.-]*:\/\//.test(n))return Ve.joinPath(Ve.parse(n,!0),e);let o=lc(n,e);return Ve.file(o)}return Ve.parse(t.toUrl(e))}},Vc=new zc,i1;(r=>{let i=new Map([["1",{"Cross-Origin-Opener-Policy":"same-origin"}],["2",{"Cross-Origin-Embedder-Policy":"require-corp"}],["3",{"Cross-Origin-Opener-Policy":"same-origin","Cross-Origin-Embedder-Policy":"require-corp"}]]);r.CoopAndCoep=Object.freeze(i.get("3"));let t="vscode-coi";function n(s){let a;typeof s=="string"?a=new URL(s).searchParams:s instanceof URL?a=s.searchParams:Ve.isUri(s)&&(a=new URL(s.toString(!0)).searchParams);let l=a?.get(t);if(l)return i.get(l)}r.getHeadersFromQuery=n;function o(s,a,l){if(!globalThis.crossOriginIsolated)return;let d=a&&l?"3":l?"2":"1";s instanceof URLSearchParams?s.set(t,d):s[t]=d}r.addSearchParam=o})(i1||={});function hi(i){return Yr(i,!0)}var cs=class{constructor(e){this._ignorePathCasing=e}compare(e,t,n=!1){return e===t?0:Oc(this.getComparisonKey(e,n),this.getComparisonKey(t,n))}isEqual(e,t,n=!1){return e===t?!0:!e||!t?!1:this.getComparisonKey(e,n)===this.getComparisonKey(t,n)}getComparisonKey(e,t=!1){return e.with({path:this._ignorePathCasing(e)?e.path.toLowerCase():void 0,fragment:t?null:void 0}).toString()}ignorePathCasing(e){return this._ignorePathCasing(e)}isEqualOrParent(e,t,n=!1){if(e.scheme===t.scheme){if(e.scheme===We.file)return Hc(hi(e),hi(t),this._ignorePathCasing(e))&&e.query===t.query&&(n||e.fragment===t.fragment);if(qm(e.authority,t.authority))return Hc(e.path,t.path,this._ignorePathCasing(e),"/")&&e.query===t.query&&(n||e.fragment===t.fragment)}return!1}joinPath(e,...t){return Ve.joinPath(e,...t)}basenameOrAuthority(e){return l1(e)||e.authority}basename(e){return Ce.basename(e.path)}extname(e){return Ce.extname(e.path)}dirname(e){if(e.path.length===0)return e;let t;return e.scheme===We.file?t=Ve.file(nm(hi(e))).path:(t=Ce.dirname(e.path),e.authority&&t.length&&t.charCodeAt(0)!==47&&(console.error(`dirname("${e.toString})) resulted in a relative path`),t="/")),e.with({path:t})}normalizePath(e){if(!e.path.length)return e;let t;return e.scheme===We.file?t=Ve.file(ac(hi(e))).path:t=Ce.normalize(e.path),e.with({path:t})}relativePath(e,t){if(e.scheme!==t.scheme||!qm(e.authority,t.authority))return;if(e.scheme===We.file){let r=tm(hi(e),hi(t));return at?Wa(r):r}let n=e.path||"/",o=t.path||"/";if(this._ignorePathCasing(e)){let r=0;for(let s=Math.min(n.length,o.length);r<s&&!(n.charCodeAt(r)!==o.charCodeAt(r)&&n.charAt(r).toLowerCase()!==o.charAt(r).toLowerCase());r++);n=o.substr(0,r)+n.substr(r)}return Ce.relative(n,o)}resolvePath(e,t){if(e.scheme===We.file){let n=Ve.file(em(hi(e),t));return e.with({authority:n.authority,path:n.path})}return t=$m(t),e.with({path:Ce.resolve(e.path,t)})}isAbsolutePath(e){return!!e.path&&e.path[0]==="/"}isEqualAuthority(e,t){return e===t||e!==void 0&&t!==void 0&&Hn(e,t)}hasTrailingPathSeparator(e,t=ai){if(e.scheme===We.file){let n=hi(e);return n.length>Bc(n).length&&n[n.length-1]===t}else{let n=e.path;return n.length>1&&n.charCodeAt(n.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(e.fsPath)}}removeTrailingPathSeparator(e,t=ai){return Gm(e,t)?e.with({path:e.path.substr(0,e.path.length-1)}):e}addTrailingPathSeparator(e,t=ai){let n=!1;if(e.scheme===We.file){let o=hi(e);n=o!==void 0&&o.length===Bc(o).length&&o[o.length-1]===t}else{t="/";let o=e.path;n=o.length===1&&o.charCodeAt(o.length-1)===47}return!n&&!Gm(e,t)?e.with({path:e.path+"/"}):e}},Le=new cs(()=>!1),o1=new cs(i=>i.scheme===We.file?!rn:!0),r1=new cs(i=>!0),s1=Le.isEqual.bind(Le),uD=Le.isEqualOrParent.bind(Le),hD=Le.getComparisonKey.bind(Le),a1=Le.basenameOrAuthority.bind(Le),l1=Le.basename.bind(Le),d1=Le.extname.bind(Le),c1=Le.dirname.bind(Le),u1=Le.joinPath.bind(Le),pD=Le.normalizePath.bind(Le),mD=Le.relativePath.bind(Le),h1=Le.resolvePath.bind(Le),fD=Le.isAbsolutePath.bind(Le),qm=Le.isEqualAuthority.bind(Le),Gm=Le.hasTrailingPathSeparator.bind(Le),gD=Le.removeTrailingPathSeparator.bind(Le),bD=Le.addTrailingPathSeparator.bind(Le);var p1;(r=>{r.META_DATA_LABEL="label",r.META_DATA_DESCRIPTION="description",r.META_DATA_SIZE="size",r.META_DATA_MIME="mime";function o(s){let a=new Map;s.path.substring(s.path.indexOf(";")+1,s.path.lastIndexOf(";")).split(";").forEach(u=>{let[h,f]=u.split(":");h&&f&&a.set(h,f)});let d=s.path.substring(0,s.path.indexOf(";"));return d&&a.set(r.META_DATA_MIME,d),a}r.parseMetaData=o})(p1||={});function $c(i){let e=new di,t=i(e.token),n=new Promise((o,r)=>{let s=e.token.onCancellationRequested(()=>{s.dispose(),r(new On)});Promise.resolve(t).then(a=>{s.dispose(),e.dispose(),o(a)},a=>{s.dispose(),e.dispose(),r(a)})});return new class{cancel(){e.cancel(),e.dispose()}then(o,r){return n.then(o,r)}catch(o){return this.then(void 0,o)}finally(o){return n.finally(o)}}}var Wc=class{activePromise;queuedPromise;queuedPromiseFactory;isDisposed=!1;constructor(){this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(e){if(this.isDisposed)return Promise.reject(new Error("Throttler is disposed"));if(this.activePromise){if(this.queuedPromiseFactory=e,!this.queuedPromise){let t=()=>{if(this.queuedPromise=null,this.isDisposed)return;let n=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,n};this.queuedPromise=new Promise(n=>{this.activePromise.then(t,t).then(n)})}return new Promise((t,n)=>{this.queuedPromise.then(t,n)})}return this.activePromise=e(),new Promise((t,n)=>{this.activePromise.then(o=>{this.activePromise=null,t(o)},o=>{this.activePromise=null,n(o)})})}dispose(){this.isDisposed=!0}};var m1=(i,e)=>{let t=!0,n=setTimeout(()=>{t=!1,e()},i);return{isTriggered:()=>t,dispose:()=>{clearTimeout(n),t=!1}}},f1=i=>{let e=!0;return queueMicrotask(()=>{e&&(e=!1,i())}),{isTriggered:()=>e,dispose:()=>{e=!1}}},yn=class{constructor(e){this.defaultDelay=e;this.deferred=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}deferred;completionPromise;doResolve;doReject;task;trigger(e,t=this.defaultDelay){this.task=e,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((o,r)=>{this.doResolve=o,this.doReject=r}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){let o=this.task;return this.task=null,o()}}));let n=()=>{this.deferred=null,this.doResolve?.(null)};return this.deferred=t===Aa?f1(n):m1(t,n),this.completionPromise}isTriggered(){return!!this.deferred?.isTriggered()}cancel(){this.cancelTimeout(),this.completionPromise&&(this.doReject?.(new On),this.completionPromise=null)}cancelTimeout(){this.deferred?.dispose(),this.deferred=null}dispose(){this.cancel()}},qa=class{delayer;throttler;constructor(e){this.delayer=new yn(e),this.throttler=new Wc}trigger(e,t){return this.delayer.trigger(()=>this.throttler.queue(e),t)}isTriggered(){return this.delayer.isTriggered()}cancel(){this.delayer.cancel()}dispose(){this.delayer.dispose(),this.throttler.dispose()}};function Hi(i,e){return e?new Promise((t,n)=>{let o=setTimeout(()=>{r.dispose(),t()},i),r=e.onCancellationRequested(()=>{clearTimeout(o),r.dispose(),n(new On)})}):$c(t=>Hi(i,t))}function us(i,e=0,t){let n=setTimeout(()=>{i(),t&&o.dispose()},e),o=he(()=>{clearTimeout(n),t?.deleteAndLeak(o)});return t?.add(o),o}var Tn=class{_token;_isDisposed=!1;constructor(e,t){this._token=-1,typeof e=="function"&&typeof t=="number"&&this.setIfNotSet(e,t)}dispose(){this.cancel(),this._isDisposed=!0}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(e,t){if(this._isDisposed)throw new pn("Calling 'cancelAndSet' on a disposed TimeoutTimer");this.cancel(),this._token=setTimeout(()=>{this._token=-1,e()},t)}setIfNotSet(e,t){if(this._isDisposed)throw new pn("Calling 'setIfNotSet' on a disposed TimeoutTimer");this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,e()},t))}},Ga=class{disposable=void 0;isDisposed=!1;cancel(){this.disposable?.dispose(),this.disposable=void 0}cancelAndSet(e,t,n=globalThis){if(this.isDisposed)throw new pn("Calling 'cancelAndSet' on a disposed IntervalTimer");this.cancel();let o=n.setInterval(()=>{e()},t);this.disposable=he(()=>{n.clearInterval(o),this.disposable=void 0})}dispose(){this.cancel(),this.isDisposed=!0}},Bi=class{runner;timeoutToken;timeout;timeoutHandler;constructor(e,t){this.timeoutToken=-1,this.runner=e,this.timeout=t,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(e=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,e)}get delay(){return this.timeout}set delay(e){this.timeout=e}isScheduled(){return this.timeoutToken!==-1}flush(){this.isScheduled()&&(this.cancel(),this.doRun())}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){this.runner?.()}};var g1,$a;(function(){typeof globalThis.requestIdleCallback!="function"||typeof globalThis.cancelIdleCallback!="function"?$a=(i,e)=>{Gp(()=>{if(t)return;let n=Date.now()+15;e(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,n-Date.now())}}))});let t=!1;return{dispose(){t||(t=!0)}}}:$a=(i,e,t)=>{let n=i.requestIdleCallback(e,typeof t=="number"?{timeout:t}:void 0),o=!1;return{dispose(){o||(o=!0,i.cancelIdleCallback(n))}}},g1=i=>$a(globalThis,i)})();var qc;(t=>{async function i(n){let o,r=await Promise.all(n.map(s=>s.then(a=>a,a=>{o||(o=a)})));if(typeof o<"u")throw o;return r}t.settled=i;function e(n){return new Promise(async(o,r)=>{try{await n(o,r)}catch(s){r(s)}})}t.withAsyncBody=e})(qc||={});var jm=class i{static fromArray(e){return new i(t=>{t.emitMany(e)})}static fromPromise(e){return new i(async t=>{t.emitMany(await e)})}static fromPromises(e){return new i(async t=>{await Promise.all(e.map(async n=>t.emitOne(await n)))})}static merge(e){return new i(async t=>{await Promise.all(e.map(async n=>{for await(let o of n)t.emitOne(o)}))})}static EMPTY=i.fromArray([]);_state;_results;_error;_onReturn;_onStateChanged;constructor(e,t){this._state=0,this._results=[],this._error=null,this._onReturn=t,this._onStateChanged=new k,queueMicrotask(async()=>{let n={emitOne:o=>this.emitOne(o),emitMany:o=>this.emitMany(o),reject:o=>this.reject(o)};try{await Promise.resolve(e(n)),this.resolve()}catch(o){this.reject(o)}finally{n.emitOne=void 0,n.emitMany=void 0,n.reject=void 0}})}[Symbol.asyncIterator](){let e=0;return{next:async()=>{do{if(this._state===2)throw this._error;if(e<this._results.length)return{done:!1,value:this._results[e++]};if(this._state===1)return{done:!0,value:void 0};await _.toPromise(this._onStateChanged.event)}while(!0)},return:async()=>(this._onReturn?.(),{done:!0,value:void 0})}}static map(e,t){return new i(async n=>{for await(let o of e)n.emitOne(t(o))})}map(e){return i.map(this,e)}static filter(e,t){return new i(async n=>{for await(let o of e)t(o)&&n.emitOne(o)})}filter(e){return i.filter(this,e)}static coalesce(e){return i.filter(e,t=>!!t)}coalesce(){return i.coalesce(this)}static async toPromise(e){let t=[];for await(let n of e)t.push(n);return t}toPromise(){return i.toPromise(this)}emitOne(e){this._state===0&&(this._results.push(e),this._onStateChanged.fire())}emitMany(e){this._state===0&&(this._results=this._results.concat(e),this._onStateChanged.fire())}resolve(){this._state===0&&(this._state=1,this._onStateChanged.fire())}reject(e){this._state===0&&(this._state=2,this._error=e,this._onStateChanged.fire())}};var{entries:nf,setPrototypeOf:Qm,isFrozen:b1,getPrototypeOf:v1,getOwnPropertyDescriptor:y1}=Object,{freeze:Ot,seal:xn,create:T1}=Object,{apply:Jc,construct:Zc}=typeof Reflect<"u"&&Reflect;Jc||(Jc=function(e,t,n){return e.apply(t,n)});Ot||(Ot=function(e){return e});xn||(xn=function(e){return e});Zc||(Zc=function(e,t){return new e(...t)});var I1=ln(Array.prototype.forEach),Ym=ln(Array.prototype.pop),hs=ln(Array.prototype.push),Ya=ln(String.prototype.toLowerCase),Gc=ln(String.prototype.toString),x1=ln(String.prototype.match),In=ln(String.prototype.replace),S1=ln(String.prototype.indexOf),w1=ln(String.prototype.trim),Xt=ln(RegExp.prototype.test),ps=E1(TypeError);function ln(i){return function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return Jc(i,e,n)}}function E1(i){return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Zc(i,t)}}function we(i,e,t){var n;t=(n=t)!==null&&n!==void 0?n:Ya,Qm&&Qm(i,null);let o=e.length;for(;o--;){let r=e[o];if(typeof r=="string"){let s=t(r);s!==r&&(b1(e)||(e[o]=s),r=s)}i[r]=!0}return i}function or(i){let e=T1(null);for(let[t,n]of nf(i))e[t]=n;return e}function ja(i,e){for(;i!==null;){let n=y1(i,e);if(n){if(n.get)return ln(n.get);if(typeof n.value=="function")return ln(n.value)}i=v1(i)}function t(n){return console.warn("fallback value for",n),null}return t}var Xm=Ot(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),jc=Ot(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Qc=Ot(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),D1=Ot(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Yc=Ot(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),k1=Ot(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Jm=Ot(["#text"]),Zm=Ot(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Xc=Ot(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),ef=Ot(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Qa=Ot(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),_1=xn(/\{\{[\w\W]*|[\w\W]*\}\}/gm),C1=xn(/<%[\w\W]*|[\w\W]*%>/gm),L1=xn(/\${[\w\W]*}/gm),A1=xn(/^data-[\-\w.\u00B7-\uFFFF]/),M1=xn(/^aria-[\-\w]+$/),of=xn(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),N1=xn(/^(?:\w+script|data):/i),O1=xn(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),rf=xn(/^html$/i),tf=Object.freeze({__proto__:null,MUSTACHE_EXPR:_1,ERB_EXPR:C1,TMPLIT_EXPR:L1,DATA_ATTR:A1,ARIA_ATTR:M1,IS_ALLOWED_URI:of,IS_SCRIPT_OR_DATA:N1,ATTR_WHITESPACE:O1,DOCTYPE_NAME:rf}),R1=()=>typeof window>"u"?null:window,F1=function(e,t){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let n=null,o="data-tt-policy-suffix";t&&t.hasAttribute(o)&&(n=t.getAttribute(o));let r="dompurify"+(n?"#"+n:"");try{return e.createPolicy(r,{createHTML(s){return s},createScriptURL(s){return s}})}catch{return console.warn("TrustedTypes policy "+r+" could not be created."),null}};function sf(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:R1(),e=X=>sf(X);if(e.version="3.0.5",e.removed=[],!i||!i.document||i.document.nodeType!==9)return e.isSupported=!1,e;let t=i.document,n=t.currentScript,{document:o}=i,{DocumentFragment:r,HTMLTemplateElement:s,Node:a,Element:l,NodeFilter:d,NamedNodeMap:u=i.NamedNodeMap||i.MozNamedAttrMap,HTMLFormElement:h,DOMParser:f,trustedTypes:T}=i,w=l.prototype,v=ja(w,"cloneNode"),E=ja(w,"nextSibling"),P=ja(w,"childNodes"),O=ja(w,"parentNode");if(typeof s=="function"){let X=o.createElement("template");X.content&&X.content.ownerDocument&&(o=X.content.ownerDocument)}let U,R="",{implementation:L,createNodeIterator:H,createDocumentFragment:B,getElementsByTagName:M}=o,{importNode:te}=t,Ie={};e.isSupported=typeof nf=="function"&&typeof O=="function"&&L&&L.createHTMLDocument!==void 0;let{MUSTACHE_EXPR:pe,ERB_EXPR:ae,TMPLIT_EXPR:Et,DATA_ATTR:jt,ARIA_ATTR:J,IS_SCRIPT_OR_DATA:K,ATTR_WHITESPACE:Y}=tf,{IS_ALLOWED_URI:q}=tf,G=null,me=we({},[...Xm,...jc,...Qc,...Yc,...Jm]),ce=null,Ue=we({},[...Zm,...Xc,...ef,...Qa]),ye=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),se=null,Cn=null,hn=!0,yi=!0,Ln=!1,Ko=!0,Ft=!1,ei=!1,Kr=!1,zr=!1,Ti=!1,zo=!1,Uo=!1,ia=!0,oa=!1,Gd="user-content-",Ii=!0,so=!1,ti={},ni=null,ra=we({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Vo=null,sa=we({},["audio","video","img","source","image","track"]),ao=null,aa=we({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ii="http://www.w3.org/1998/Math/MathML",An="http://www.w3.org/2000/svg",ot="http://www.w3.org/1999/xhtml",on=ot,xi=!1,Mt=null,lo=we({},[ii,An,ot],Gc),Mn,oi=["application/xhtml+xml","text/html"],Ne="text/html",lt,Si=null,jd=o.createElement("form"),la=function(S){return S instanceof RegExp||S instanceof Function},Ur=function(S){if(!(Si&&Si===S)){if((!S||typeof S!="object")&&(S={}),S=or(S),Mn=oi.indexOf(S.PARSER_MEDIA_TYPE)===-1?Mn=Ne:Mn=S.PARSER_MEDIA_TYPE,lt=Mn==="application/xhtml+xml"?Gc:Ya,G="ALLOWED_TAGS"in S?we({},S.ALLOWED_TAGS,lt):me,ce="ALLOWED_ATTR"in S?we({},S.ALLOWED_ATTR,lt):Ue,Mt="ALLOWED_NAMESPACES"in S?we({},S.ALLOWED_NAMESPACES,Gc):lo,ao="ADD_URI_SAFE_ATTR"in S?we(or(aa),S.ADD_URI_SAFE_ATTR,lt):aa,Vo="ADD_DATA_URI_TAGS"in S?we(or(sa),S.ADD_DATA_URI_TAGS,lt):sa,ni="FORBID_CONTENTS"in S?we({},S.FORBID_CONTENTS,lt):ra,se="FORBID_TAGS"in S?we({},S.FORBID_TAGS,lt):{},Cn="FORBID_ATTR"in S?we({},S.FORBID_ATTR,lt):{},ti="USE_PROFILES"in S?S.USE_PROFILES:!1,hn=S.ALLOW_ARIA_ATTR!==!1,yi=S.ALLOW_DATA_ATTR!==!1,Ln=S.ALLOW_UNKNOWN_PROTOCOLS||!1,Ko=S.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Ft=S.SAFE_FOR_TEMPLATES||!1,ei=S.WHOLE_DOCUMENT||!1,Ti=S.RETURN_DOM||!1,zo=S.RETURN_DOM_FRAGMENT||!1,Uo=S.RETURN_TRUSTED_TYPE||!1,zr=S.FORCE_BODY||!1,ia=S.SANITIZE_DOM!==!1,oa=S.SANITIZE_NAMED_PROPS||!1,Ii=S.KEEP_CONTENT!==!1,so=S.IN_PLACE||!1,q=S.ALLOWED_URI_REGEXP||of,on=S.NAMESPACE||ot,ye=S.CUSTOM_ELEMENT_HANDLING||{},S.CUSTOM_ELEMENT_HANDLING&&la(S.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ye.tagNameCheck=S.CUSTOM_ELEMENT_HANDLING.tagNameCheck),S.CUSTOM_ELEMENT_HANDLING&&la(S.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ye.attributeNameCheck=S.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),S.CUSTOM_ELEMENT_HANDLING&&typeof S.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ye.allowCustomizedBuiltInElements=S.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Ft&&(yi=!1),zo&&(Ti=!0),ti&&(G=we({},[...Jm]),ce=[],ti.html===!0&&(we(G,Xm),we(ce,Zm)),ti.svg===!0&&(we(G,jc),we(ce,Xc),we(ce,Qa)),ti.svgFilters===!0&&(we(G,Qc),we(ce,Xc),we(ce,Qa)),ti.mathMl===!0&&(we(G,Yc),we(ce,ef),we(ce,Qa))),S.ADD_TAGS&&(G===me&&(G=or(G)),we(G,S.ADD_TAGS,lt)),S.ADD_ATTR&&(ce===Ue&&(ce=or(ce)),we(ce,S.ADD_ATTR,lt)),S.ADD_URI_SAFE_ATTR&&we(ao,S.ADD_URI_SAFE_ATTR,lt),S.FORBID_CONTENTS&&(ni===ra&&(ni=or(ni)),we(ni,S.FORBID_CONTENTS,lt)),Ii&&(G["#text"]=!0),ei&&we(G,["html","head","body"]),G.table&&(we(G,["tbody"]),delete se.tbody),S.TRUSTED_TYPES_POLICY){if(typeof S.TRUSTED_TYPES_POLICY.createHTML!="function")throw ps('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof S.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw ps('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');U=S.TRUSTED_TYPES_POLICY,R=U.createHTML("")}else U===void 0&&(U=F1(T,n)),U!==null&&typeof R=="string"&&(R=U.createHTML(""));Ot&&Ot(S),Si=S}},da=we({},["mi","mo","mn","ms","mtext"]),ca=we({},["foreignobject","desc","title","annotation-xml"]),Qd=we({},["title","style","font","a","script"]),le=we({},jc);we(le,Qc),we(le,D1);let m=we({},Yc);we(m,k1);let g=function(S){let F=O(S);(!F||!F.tagName)&&(F={namespaceURI:on,tagName:"template"});let j=Ya(S.tagName),Oe=Ya(F.tagName);return Mt[S.namespaceURI]?S.namespaceURI===An?F.namespaceURI===ot?j==="svg":F.namespaceURI===ii?j==="svg"&&(Oe==="annotation-xml"||da[Oe]):!!le[j]:S.namespaceURI===ii?F.namespaceURI===ot?j==="math":F.namespaceURI===An?j==="math"&&ca[Oe]:!!m[j]:S.namespaceURI===ot?F.namespaceURI===An&&!ca[Oe]||F.namespaceURI===ii&&!da[Oe]?!1:!m[j]&&(Qd[j]||!le[j]):!!(Mn==="application/xhtml+xml"&&Mt[S.namespaceURI]):!1},b=function(S){hs(e.removed,{element:S});try{S.parentNode.removeChild(S)}catch{S.remove()}},I=function(S,F){try{hs(e.removed,{attribute:F.getAttributeNode(S),from:F})}catch{hs(e.removed,{attribute:null,from:F})}if(F.removeAttribute(S),S==="is"&&!ce[S])if(Ti||zo)try{b(F)}catch{}else try{F.setAttribute(S,"")}catch{}},x=function(S){let F,j;if(zr)S="<remove></remove>"+S;else{let Dt=x1(S,/^[\r\n\t ]+/);j=Dt&&Dt[0]}Mn==="application/xhtml+xml"&&on===ot&&(S='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+S+"</body></html>");let Oe=U?U.createHTML(S):S;if(on===ot)try{F=new f().parseFromString(Oe,Mn)}catch{}if(!F||!F.documentElement){F=L.createDocument(on,"template",null);try{F.documentElement.innerHTML=xi?R:Oe}catch{}}let rt=F.body||F.documentElement;return S&&j&&rt.insertBefore(o.createTextNode(j),rt.childNodes[0]||null),on===ot?M.call(F,ei?"html":"body")[0]:ei?F.documentElement:rt},D=function(S){return H.call(S.ownerDocument||S,S,d.SHOW_ELEMENT|d.SHOW_COMMENT|d.SHOW_TEXT,null,!1)},C=function(S){return S instanceof h&&(typeof S.nodeName!="string"||typeof S.textContent!="string"||typeof S.removeChild!="function"||!(S.attributes instanceof u)||typeof S.removeAttribute!="function"||typeof S.setAttribute!="function"||typeof S.namespaceURI!="string"||typeof S.insertBefore!="function"||typeof S.hasChildNodes!="function")},z=function(S){return typeof a=="object"?S instanceof a:S&&typeof S=="object"&&typeof S.nodeType=="number"&&typeof S.nodeName=="string"},$=function(S,F,j){Ie[S]&&I1(Ie[S],Oe=>{Oe.call(e,F,j,Si)})},de=function(S){let F;if($("beforeSanitizeElements",S,null),C(S))return b(S),!0;let j=lt(S.nodeName);if($("uponSanitizeElement",S,{tagName:j,allowedTags:G}),S.hasChildNodes()&&!z(S.firstElementChild)&&(!z(S.content)||!z(S.content.firstElementChild))&&Xt(/<[/\w]/g,S.innerHTML)&&Xt(/<[/\w]/g,S.textContent))return b(S),!0;if(!G[j]||se[j]){if(!se[j]&&Fe(j)&&(ye.tagNameCheck instanceof RegExp&&Xt(ye.tagNameCheck,j)||ye.tagNameCheck instanceof Function&&ye.tagNameCheck(j)))return!1;if(Ii&&!ni[j]){let Oe=O(S)||S.parentNode,rt=P(S)||S.childNodes;if(rt&&Oe){let Dt=rt.length;for(let Ye=Dt-1;Ye>=0;--Ye)Oe.insertBefore(v(rt[Ye],!0),E(S))}}return b(S),!0}return S instanceof l&&!g(S)||(j==="noscript"||j==="noembed"||j==="noframes")&&Xt(/<\/no(script|embed|frames)/i,S.innerHTML)?(b(S),!0):(Ft&&S.nodeType===3&&(F=S.textContent,F=In(F,pe," "),F=In(F,ae," "),F=In(F,Et," "),S.textContent!==F&&(hs(e.removed,{element:S.cloneNode()}),S.textContent=F)),$("afterSanitizeElements",S,null),!1)},De=function(S,F,j){if(ia&&(F==="id"||F==="name")&&(j in o||j in jd))return!1;if(!(yi&&!Cn[F]&&Xt(jt,F))){if(!(hn&&Xt(J,F))){if(!ce[F]||Cn[F]){if(!(Fe(S)&&(ye.tagNameCheck instanceof RegExp&&Xt(ye.tagNameCheck,S)||ye.tagNameCheck instanceof Function&&ye.tagNameCheck(S))&&(ye.attributeNameCheck instanceof RegExp&&Xt(ye.attributeNameCheck,F)||ye.attributeNameCheck instanceof Function&&ye.attributeNameCheck(F))||F==="is"&&ye.allowCustomizedBuiltInElements&&(ye.tagNameCheck instanceof RegExp&&Xt(ye.tagNameCheck,j)||ye.tagNameCheck instanceof Function&&ye.tagNameCheck(j))))return!1}else if(!ao[F]){if(!Xt(q,In(j,Y,""))){if(!((F==="src"||F==="xlink:href"||F==="href")&&S!=="script"&&S1(j,"data:")===0&&Vo[S])){if(!(Ln&&!Xt(K,In(j,Y,"")))){if(j)return!1}}}}}}return!0},Fe=function(S){return S.indexOf("-")>0},tt=function(S){let F,j,Oe,rt;$("beforeSanitizeAttributes",S,null);let{attributes:Dt}=S;if(!Dt)return;let Ye={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ce};for(rt=Dt.length;rt--;){F=Dt[rt];let{name:Nn,namespaceURI:Yd}=F;if(j=Nn==="value"?F.value:w1(F.value),Oe=lt(Nn),Ye.attrName=Oe,Ye.attrValue=j,Ye.keepAttr=!0,Ye.forceKeepAttr=void 0,$("uponSanitizeAttribute",S,Ye),j=Ye.attrValue,Ye.forceKeepAttr||(I(Nn,S),!Ye.keepAttr))continue;if(!Ko&&Xt(/\/>/i,j)){I(Nn,S);continue}Ft&&(j=In(j,pe," "),j=In(j,ae," "),j=In(j,Et," "));let Lp=lt(S.nodeName);if(De(Lp,Oe,j)){if(oa&&(Oe==="id"||Oe==="name")&&(I(Nn,S),j=Gd+j),U&&typeof T=="object"&&typeof T.getAttributeType=="function"&&!Yd)switch(T.getAttributeType(Lp,Oe)){case"TrustedHTML":{j=U.createHTML(j);break}case"TrustedScriptURL":{j=U.createScriptURL(j);break}}try{Yd?S.setAttributeNS(Yd,Nn,j):S.setAttribute(Nn,j),Ym(e.removed)}catch{}}}$("afterSanitizeAttributes",S,null)},Be=function X(S){let F,j=D(S);for($("beforeSanitizeShadowDOM",S,null);F=j.nextNode();)$("uponSanitizeShadowNode",F,null),!de(F)&&(F.content instanceof r&&X(F.content),tt(F));$("afterSanitizeShadowDOM",S,null)};return e.sanitize=function(X){let S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},F,j,Oe,rt;if(xi=!X,xi&&(X="<!-->"),typeof X!="string"&&!z(X))if(typeof X.toString=="function"){if(X=X.toString(),typeof X!="string")throw ps("dirty is not a string, aborting")}else throw ps("toString is not a function");if(!e.isSupported)return X;if(Kr||Ur(S),e.removed=[],typeof X=="string"&&(so=!1),so){if(X.nodeName){let Nn=lt(X.nodeName);if(!G[Nn]||se[Nn])throw ps("root node is forbidden and cannot be sanitized in-place")}}else if(X instanceof a)F=x("<!---->"),j=F.ownerDocument.importNode(X,!0),j.nodeType===1&&j.nodeName==="BODY"||j.nodeName==="HTML"?F=j:F.appendChild(j);else{if(!Ti&&!Ft&&!ei&&X.indexOf("<")===-1)return U&&Uo?U.createHTML(X):X;if(F=x(X),!F)return Ti?null:Uo?R:""}F&&zr&&b(F.firstChild);let Dt=D(so?X:F);for(;Oe=Dt.nextNode();)de(Oe)||(Oe.content instanceof r&&Be(Oe.content),tt(Oe));if(so)return X;if(Ti){if(zo)for(rt=B.call(F.ownerDocument);F.firstChild;)rt.appendChild(F.firstChild);else rt=F;return(ce.shadowroot||ce.shadowrootmode)&&(rt=te.call(t,rt,!0)),rt}let Ye=ei?F.outerHTML:F.innerHTML;return ei&&G["!doctype"]&&F.ownerDocument&&F.ownerDocument.doctype&&F.ownerDocument.doctype.name&&Xt(rf,F.ownerDocument.doctype.name)&&(Ye="<!DOCTYPE "+F.ownerDocument.doctype.name+`>
`+Ye),Ft&&(Ye=In(Ye,pe," "),Ye=In(Ye,ae," "),Ye=In(Ye,Et," ")),U&&Uo?U.createHTML(Ye):Ye},e.setConfig=function(X){Ur(X),Kr=!0},e.clearConfig=function(){Si=null,Kr=!1},e.isValidAttribute=function(X,S,F){Si||Ur({});let j=lt(X),Oe=lt(S);return De(j,Oe,F)},e.addHook=function(X,S){typeof S=="function"&&(Ie[X]=Ie[X]||[],hs(Ie[X],S))},e.removeHook=function(X){if(Ie[X])return Ym(Ie[X])},e.removeHooks=function(X){Ie[X]&&(Ie[X]=[])},e.removeAllHooks=function(){Ie={}},e}var Kn=sf();var RD=Kn.version,FD=Kn.isSupported,eu=Kn.sanitize,PD=Kn.setConfig,BD=Kn.clearConfig,HD=Kn.isValidAttribute,af=Kn.addHook,lf=Kn.removeHook,KD=Kn.removeHooks,zD=Kn.removeAllHooks;function nu(i){return iu(i,0)}function iu(i,e){switch(typeof i){case"object":return i===null?pi(349,e):Array.isArray(i)?B1(i,e):H1(i,e);case"string":return Xa(i,e);case"boolean":return P1(i,e);case"number":return pi(i,e);case"undefined":return pi(937,e);default:return pi(617,e)}}function pi(i,e){return(e<<5)-e+i|0}function P1(i,e){return pi(i?433:863,e)}function Xa(i,e){e=pi(149417,e);for(let t=0,n=i.length;t<n;t++)e=pi(i.charCodeAt(t),e);return e}function B1(i,e){return e=pi(104579,e),i.reduce((t,n)=>iu(n,t),e)}function H1(i,e){return e=pi(181387,e),Object.keys(i).sort().reduce((t,n)=>(t=Xa(n,t),iu(i[n],t)),e)}function tu(i,e,t=32){let n=t-e,o=~((1<<n)-1);return(i<<e|(o&i)>>>n)>>>0}function cf(i,e=0,t=i.byteLength,n=0){for(let o=0;o<t;o++)i[e+o]=n}function K1(i,e,t="0"){for(;i.length<e;)i=t+i;return i}function ms(i,e=32){return i instanceof ArrayBuffer?Array.from(new Uint8Array(i)).map(t=>t.toString(16).padStart(2,"0")).join(""):K1((i>>>0).toString(16),e/4)}var uf=class i{static _bigBlock32=new DataView(new ArrayBuffer(320));_h0=1732584193;_h1=4023233417;_h2=2562383102;_h3=271733878;_h4=3285377520;_buff;_buffDV;_buffLen;_totalLen;_leftoverHighSurrogate;_finished;constructor(){this._buff=new Uint8Array(67),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(e){let t=e.length;if(t===0)return;let n=this._buff,o=this._buffLen,r=this._leftoverHighSurrogate,s,a;for(r!==0?(s=r,a=-1,r=0):(s=e.charCodeAt(0),a=0);;){let l=s;if(Bm(s))if(a+1<t){let d=e.charCodeAt(a+1);Fc(d)?(a++,l=Hm(s,d)):l=65533}else{r=s;break}else Fc(s)&&(l=65533);if(o=this._push(n,o,l),a++,a<t)s=e.charCodeAt(a);else break}this._buffLen=o,this._leftoverHighSurrogate=r}_push(e,t,n){return n<128?e[t++]=n:n<2048?(e[t++]=192|(n&1984)>>>6,e[t++]=128|(n&63)>>>0):n<65536?(e[t++]=224|(n&61440)>>>12,e[t++]=128|(n&4032)>>>6,e[t++]=128|(n&63)>>>0):(e[t++]=240|(n&1835008)>>>18,e[t++]=128|(n&258048)>>>12,e[t++]=128|(n&4032)>>>6,e[t++]=128|(n&63)>>>0),t>=64&&(this._step(),t-=64,this._totalLen+=64,e[0]=e[64],e[1]=e[65],e[2]=e[66]),t}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),ms(this._h0)+ms(this._h1)+ms(this._h2)+ms(this._h3)+ms(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,cf(this._buff,this._buffLen),this._buffLen>56&&(this._step(),cf(this._buff));let e=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(e/4294967296),!1),this._buffDV.setUint32(60,e%4294967296,!1),this._step()}_step(){let e=i._bigBlock32,t=this._buffDV;for(let h=0;h<64;h+=4)e.setUint32(h,t.getUint32(h,!1),!1);for(let h=64;h<320;h+=4)e.setUint32(h,tu(e.getUint32(h-12,!1)^e.getUint32(h-32,!1)^e.getUint32(h-56,!1)^e.getUint32(h-64,!1),1),!1);let n=this._h0,o=this._h1,r=this._h2,s=this._h3,a=this._h4,l,d,u;for(let h=0;h<80;h++)h<20?(l=o&r|~o&s,d=1518500249):h<40?(l=o^r^s,d=1859775393):h<60?(l=o&r|o&s|r&s,d=2400959708):(l=o^r^s,d=3395469782),u=tu(n,5)+l+a+d+e.getUint32(h*4,!1)&4294967295,a=s,s=r,r=tu(o,30),o=n,n=u;this._h0=this._h0+n&4294967295,this._h1=this._h1+o&4294967295,this._h2=this._h2+r&4294967295,this._h3=this._h3+s&4294967295,this._h4=this._h4+a&4294967295}};function pt(i,e,t){return Math.min(Math.max(i,e),t)}var{registerWindow:dk,getWindow:ge,getDocument:ck,getWindows:mf,getWindowsCount:z1,getWindowId:hf,getWindowById:uk,hasWindow:hk,onDidRegisterWindow:ff,onWillUnregisterWindow:pk,onDidUnregisterWindow:mk}=function(){let i=new Map;Ap(Xe,1);let e={window:Xe,disposables:new W};i.set(Xe.vscodeWindowId,e);let t=new k,n=new k,o=new k;function r(s,a){return(typeof s=="number"?i.get(s):void 0)??(a?e:void 0)}return{onDidRegisterWindow:t.event,onWillUnregisterWindow:o.event,onDidUnregisterWindow:n.event,registerWindow(s){if(i.has(s.vscodeWindowId))return V.None;let a=new W,l={window:s,disposables:a.add(new W)};return i.set(s.vscodeWindowId,l),a.add(he(()=>{i.delete(s.vscodeWindowId),n.fire(s)})),a.add(Q(s,oe.BEFORE_UNLOAD,()=>{o.fire(s)})),t.fire(l),a},getWindows(){return i.values()},getWindowsCount(){return i.size},getWindowId(s){return s.vscodeWindowId},hasWindow(s){return i.has(s)},getWindowById:r,getWindow(s){let a=s;if(a?.ownerDocument?.defaultView)return a.ownerDocument.defaultView.window;let l=s;return l?.view?l.view.window:Xe},getDocument(s){return ge(s).document}}}();function yt(i){for(;i.firstChild;)i.firstChild.remove()}var ru=class{_handler;_node;_type;_options;constructor(e,t,n,o){this._node=e,this._type=t,this._handler=n,this._options=o||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){this._handler&&(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}};function Q(i,e,t,n){return new ru(i,e,t,n)}function U1(i,e){return function(t){return e(new Yt(i,t))}}function V1(i){return function(e){return i(new Me(e))}}var Rt=function(e,t,n,o){let r=n;return t==="click"||t==="mousedown"||t==="contextmenu"?r=U1(ge(e),n):(t==="keydown"||t==="keypress"||t==="keyup")&&(r=V1(n)),Q(e,t,r,o)};var W1,Jt;var Ja=class extends Ga{defaultTarget;constructor(e){super(),this.defaultTarget=e&&ge(e)}cancelAndSet(e,t,n){return super.cancelAndSet(e,t,n??this.defaultTarget)}},fs=class{_runner;priority;_canceled;constructor(e,t=0){this._runner=e,this.priority=t,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(e){Pt(e)}}static sort(e,t){return t.priority-e.priority}};(function(){let i=new Map,e=new Map,t=new Map,n=new Map,o=r=>{t.set(r,!1);let s=i.get(r)??[];for(e.set(r,s),i.set(r,[]),n.set(r,!0);s.length>0;)s.sort(fs.sort),s.shift().execute();n.set(r,!1)};Jt=(r,s,a=0)=>{let l=hf(r),d=new fs(s,a),u=i.get(l);return u||(u=[],i.set(l,u)),u.push(d),t.get(l)||(t.set(l,!0),r.requestAnimationFrame(()=>o(l))),d},W1=(r,s,a)=>{let l=hf(r);if(n.get(l)){let d=new fs(s,a),u=e.get(l);return u||(u=[],e.set(l,u)),u.push(d),d}else return Jt(r,s,a)}})();function gf(i){return ge(i).getComputedStyle(i,null)}var kt=class i{static convertToPixels(e,t){return parseFloat(t)||0}static getDimension(e,t,n){let o=gf(e),r=o?o.getPropertyValue(t):"0";return i.convertToPixels(e,r)}static getBorderLeftWidth(e){return i.getDimension(e,"border-left-width","borderLeftWidth")}static getBorderRightWidth(e){return i.getDimension(e,"border-right-width","borderRightWidth")}static getBorderTopWidth(e){return i.getDimension(e,"border-top-width","borderTopWidth")}static getBorderBottomWidth(e){return i.getDimension(e,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(e){return i.getDimension(e,"padding-left","paddingLeft")}static getPaddingRight(e){return i.getDimension(e,"padding-right","paddingRight")}static getPaddingTop(e){return i.getDimension(e,"padding-top","paddingTop")}static getPaddingBottom(e){return i.getDimension(e,"padding-bottom","paddingBottom")}static getMarginLeft(e){return i.getDimension(e,"margin-left","marginLeft")}static getMarginTop(e){return i.getDimension(e,"margin-top","marginTop")}static getMarginRight(e){return i.getDimension(e,"margin-right","marginRight")}static getMarginBottom(e){return i.getDimension(e,"margin-bottom","marginBottom")}},Za=class i{constructor(e,t){this.width=e;this.height=t}static None=new i(0,0);with(e=this.width,t=this.height){return e!==this.width||t!==this.height?new i(e,t):this}static is(e){return typeof e=="object"&&typeof e.height=="number"&&typeof e.width=="number"}static lift(e){return e instanceof i?e:new i(e.width,e.height)}static equals(e,t){return e===t?!0:!e||!t?!1:e.width===t.width&&e.height===t.height}};function bf(i){let e=i.offsetParent,t=i.offsetTop,n=i.offsetLeft;for(;(i=i.parentNode)!==null&&i!==i.ownerDocument.body&&i!==i.ownerDocument.documentElement;){t-=i.scrollTop;let o=vf(i)?null:gf(i);o&&(n-=o.direction!=="rtl"?i.scrollLeft:-i.scrollLeft),i===e&&(n+=kt.getBorderLeftWidth(i),t+=kt.getBorderTopWidth(i),t+=i.offsetTop,n+=i.offsetLeft,e=i.offsetParent)}return{left:n,top:t}}function el(i){let e=i.getBoundingClientRect(),t=ge(i);return{left:e.left+t.scrollX,top:e.top+t.scrollY,width:e.width,height:e.height}}function gs(i){let e=kt.getMarginLeft(i)+kt.getMarginRight(i);return i.offsetWidth+e}function rr(i){let e=kt.getBorderLeftWidth(i)+kt.getBorderRightWidth(i),t=kt.getPaddingLeft(i)+kt.getPaddingRight(i);return i.offsetWidth-e-t}function tl(i){let e=kt.getBorderTopWidth(i)+kt.getBorderBottomWidth(i),t=kt.getPaddingTop(i)+kt.getPaddingBottom(i);return i.offsetHeight-e-t}function nl(i){let e=kt.getMarginTop(i)+kt.getMarginBottom(i);return i.offsetHeight+e}function Ut(i,e){return!!e?.contains(i)}function $1(i,e,t){for(;i&&i.nodeType===i.ELEMENT_NODE;){if(i.classList.contains(e))return i;if(t){if(typeof t=="string"){if(i.classList.contains(t))return null}else if(i===t)return null}i=i.parentNode}return null}function il(i,e,t){return!!$1(i,e,t)}function vf(i){return i&&!!i.host&&!!i.mode}function q1(i){for(;i.parentNode;){if(i===i.ownerDocument?.body)return null;i=i.parentNode}return vf(i)?i:null}function Ki(){let i=G1().activeElement;for(;i?.shadowRoot;)i=i.shadowRoot.activeElement;return i}function Zt(i){return Ki()===i}function G1(){return z1()<=1?Xe.document:Array.from(mf()).map(({window:e})=>e.document).find(e=>e.hasFocus())??Xe.document}var yf=new Map;function en(i=Xe.document.head,e,t){let n=document.createElement("style");if(n.type="text/css",n.media="screen",e?.(n),i.appendChild(n),t&&t.add(he(()=>n.remove())),i===Xe.document.head){let o=new Set;yf.set(n,o);for(let{window:r,disposables:s}of mf()){if(r===Xe)continue;let a=s.add(j1(n,o,r));t?.add(a)}}return n}function j1(i,e,t){let n=new W,o=i.cloneNode(!0);t.document.head.appendChild(o),n.add(he(()=>o.remove()));for(let r of X1(i))o.sheet?.insertRule(r.cssText,o.sheet?.cssRules.length);return n.add(Q1.observe(i,n,{childList:!0})(()=>{o.textContent=i.textContent})),e.add(o),n.add(he(()=>e.delete(o))),n}var Q1=new class{mutationObservers=new Map;observe(i,e,t){let n=this.mutationObservers.get(i);n||(n=new Map,this.mutationObservers.set(i,n));let o=nu(t),r=n.get(o);if(r)r.users+=1;else{let s=new k,a=new MutationObserver(d=>s.fire(d));a.observe(i,t);let l=r={users:1,observer:a,onDidMutate:s.event};e.add(he(()=>{l.users-=1,l.users===0&&(s.dispose(),a.disconnect(),n?.delete(o),n?.size===0&&this.mutationObservers.delete(i))})),n.set(o,r)}return r.onDidMutate}};var ou=null;function Y1(){return ou||(ou=en()),ou}function X1(i){return i?.sheet?.rules?i.sheet.rules:i?.sheet?.cssRules?i.sheet.cssRules:[]}function ol(i,e,t=Y1()){if(!(!t||!e)){t.sheet?.insertRule(`${i} {${e}}`,0);for(let n of yf.get(t)??[])ol(i,e,n)}}function Ze(i){return i instanceof HTMLElement||i instanceof ge(i).HTMLElement}function au(i){return i instanceof HTMLAnchorElement||i instanceof ge(i).HTMLAnchorElement}function Tf(i){return i instanceof SVGElement||i instanceof ge(i).SVGElement}function bs(i){return i instanceof MouseEvent||i instanceof ge(i).MouseEvent}function zn(i){return i instanceof KeyboardEvent||i instanceof ge(i).KeyboardEvent}var oe={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",POINTER_LEAVE:"pointerleave",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",PAGE_SHOW:"pageshow",PAGE_HIDE:"pagehide",PASTE:"paste",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:er?"webkitAnimationStart":"animationstart",ANIMATION_END:er?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:er?"webkitAnimationIteration":"animationiteration"};function If(i){let e=i;return!!(e&&typeof e.preventDefault=="function"&&typeof e.stopPropagation=="function")}var $e={stop:(i,e)=>(i.preventDefault(),e&&i.stopPropagation(),i)};var su=class i extends V{_onDidFocus=this._register(new k);onDidFocus=this._onDidFocus.event;_onDidBlur=this._register(new k);onDidBlur=this._onDidBlur.event;_refreshStateHandler;static hasFocusWithin(e){if(Ze(e)){let t=q1(e),n=t?t.activeElement:e.ownerDocument.activeElement;return Ut(n,e)}else{let t=e;return Ut(t.document.activeElement,t.document)}}constructor(e){super();let t=i.hasFocusWithin(e),n=!1,o=()=>{n=!1,t||(t=!0,this._onDidFocus.fire())},r=()=>{t&&(n=!0,(Ze(e)?ge(e):e).setTimeout(()=>{n&&(n=!1,t=!1,this._onDidBlur.fire())},0))};this._refreshStateHandler=()=>{i.hasFocusWithin(e)!==t&&(t?r():o())},this._register(Q(e,oe.FOCUS,o,!0)),this._register(Q(e,oe.BLUR,r,!0)),Ze(e)&&(this._register(Q(e,oe.FOCUS_IN,()=>this._refreshStateHandler())),this._register(Q(e,oe.FOCUS_OUT,()=>this._refreshStateHandler())))}refreshState(){this._refreshStateHandler()}};function rl(i){return new su(i)}function xf(i,e){return i.after(e),e}function ee(i,...e){if(i.append(...e),e.length===1&&typeof e[0]!="string")return e[0]}function Sf(i,e){return i.insertBefore(e,i.firstChild),e}function Un(i,...e){i.innerText="",ee(i,...e)}var J1=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;function wf(i,e,t,...n){let o=J1.exec(e);if(!o)throw new Error("Bad use of emmet");let r=o[1]||"div",s;return i!=="http://www.w3.org/1999/xhtml"?s=document.createElementNS(i,r):s=document.createElement(r),o[3]&&(s.id=o[3]),o[4]&&(s.className=o[4].replace(/\./g," ").trim()),t&&Object.entries(t).forEach(([a,l])=>{typeof l>"u"||(/^on\w+$/.test(a)?s[a]=l:a==="selected"?l&&s.setAttribute(a,"true"):s.setAttribute(a,l))}),s.append(...n),s}function Z(i,e,...t){return wf("http://www.w3.org/1999/xhtml",i,e,...t)}Z.SVG=function(i,e,...t){return wf("http://www.w3.org/2000/svg",i,e,...t)};function Ef(i,e){let t=()=>{e(),n=Jt(i,t)},n=Jt(i,t);return he(()=>n.dispose())}Uc.setPreferredWebSchema(/^https:/.test(Xe.location.href)?"https":"http");function yo(i){return i?`url('${Vc.uriToBrowserUri(i).toString(!0).replace(/'/g,"%27")}')`:"url('')"}function dn(i,e){if(i!==void 0){let t=i.match(/^\s*var\((.+)\)$/);if(t){let n=t[1].split(",",2);return n.length===2&&(e=dn(n[1].trim(),e)),`var(${n[0]}, ${e})`}return i}return e}var fk=[We.http,We.https,We.command],Z1=Object.freeze(["a","abbr","b","bdo","blockquote","br","caption","cite","code","col","colgroup","dd","del","details","dfn","div","dl","dt","em","figcaption","figure","h1","h2","h3","h4","h5","h6","hr","i","img","input","ins","kbd","label","li","mark","ol","p","pre","q","rp","rt","ruby","samp","small","small","source","span","strike","strong","sub","summary","sup","table","tbody","td","tfoot","th","thead","time","tr","tt","u","ul","var","video","wbr"]),gk=Object.freeze({ALLOWED_TAGS:["a","button","blockquote","code","div","h1","h2","h3","h4","h5","h6","hr","input","label","li","p","pre","select","small","span","strong","textarea","ul","ol"],ALLOWED_ATTR:["href","data-href","data-command","target","title","name","src","alt","class","id","role","tabindex","style","data-code","width","height","align","x-dispatch","required","checked","placeholder","type","start"],RETURN_DOM:!1,RETURN_DOM_FRAGMENT:!1,RETURN_TRUSTED_TYPE:!0});var eT=/(?<tag>[\w\-]+)?(?:#(?<id>[\w\-]+))?(?<class>(?:\.(?:[\w\-]+))*)(?:@(?<name>(?:[\w\_])+))?/;function vs(i,...e){let t,n;Array.isArray(e[0])?(t={},n=e[0]):(t=e[0]||{},n=e[1]);let o=eT.exec(i);if(!o||!o.groups)throw new Error("Bad use of h");let r=o.groups.tag||"div",s=document.createElement(r);o.groups.id&&(s.id=o.groups.id);let a=[];if(o.groups.class)for(let d of o.groups.class.split("."))d!==""&&a.push(d);if(t.className!==void 0)for(let d of t.className.split("."))d!==""&&a.push(d);a.length>0&&(s.className=a.join(" "));let l={};if(o.groups.name&&(l[o.groups.name]=s),n)for(let d of n)Ze(d)?s.appendChild(d):typeof d=="string"?s.append(d):"root"in d&&(Object.assign(l,d),s.appendChild(d.root));for(let[d,u]of Object.entries(t))if(d!=="className")if(d==="style")for(let[h,f]of Object.entries(u))s.style.setProperty(pf(h),typeof f=="number"?f+"px":""+f);else d==="tabIndex"?s.tabIndex=u:s.setAttribute(pf(d),u.toString());return l.root=s,l}function pf(i){return i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Vn(i){return i.tagName.toLowerCase()==="input"||i.tagName.toLowerCase()==="textarea"||Ze(i)&&!!i.editContext}var Df=Object.freeze({text:"text/plain",binary:"application/octet-stream",unknown:"application/unknown",markdown:"text/markdown",latex:"text/latex",uriList:"text/uri-list"});var sl={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:Df.text,INTERNAL_URI_LIST:"application/vnd.code.uri-list"};function Ee(i,e,t){let n=null,o=null;if(typeof t.value=="function"?(n="value",o=t.value,o.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof t.get=="function"&&(n="get",o=t.get),!o)throw new Error("not supported");let r=`$memoize$${e}`;t[n]=function(...s){return this.hasOwnProperty(r)||Object.defineProperty(this,r,{configurable:!1,enumerable:!1,writable:!1,value:o.apply(this,s)}),this[r]}}var Ke;(r=>(r.Tap="-monaco-gesturetap",r.Change="-monaco-gesturechange",r.Start="-monaco-gesturestart",r.End="-monaco-gesturesend",r.Contextmenu="-monaco-gesturecontextmenu"))(Ke||={});var Tt=class Tt extends V{static SCROLL_FRICTION=-.005;static INSTANCE;static HOLD_DELAY=700;dispatched=!1;targets=new sn;ignoreTargets=new sn;handle;activeTouches;_lastSetTapCountTime;static CLEAR_TAP_COUNT_TIME=400;constructor(){super(),this.activeTouches={},this.handle=null,this._lastSetTapCountTime=0,this._register(_.runAndSubscribe(ff,({window:e,disposables:t})=>{t.add(Q(e.document,"touchstart",n=>this.onTouchStart(n),{passive:!1})),t.add(Q(e.document,"touchend",n=>this.onTouchEnd(e,n))),t.add(Q(e.document,"touchmove",n=>this.onTouchMove(n),{passive:!1}))},{window:Xe,disposables:this._store}))}static addTarget(e){if(!Tt.isTouchDevice())return V.None;Tt.INSTANCE||(Tt.INSTANCE=mc(new Tt));let t=Tt.INSTANCE.targets.push(e);return he(t)}static ignoreTarget(e){if(!Tt.isTouchDevice())return V.None;Tt.INSTANCE||(Tt.INSTANCE=mc(new Tt));let t=Tt.INSTANCE.ignoreTargets.push(e);return he(t)}static isTouchDevice(){return"ontouchstart"in Xe||navigator.maxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(e){let t=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let n=0,o=e.targetTouches.length;n<o;n++){let r=e.targetTouches.item(n);this.activeTouches[r.identifier]={id:r.identifier,initialTarget:r.target,initialTimeStamp:t,initialPageX:r.pageX,initialPageY:r.pageY,rollingTimestamps:[t],rollingPageX:[r.pageX],rollingPageY:[r.pageY]};let s=this.newGestureEvent(Ke.Start,r.target);s.pageX=r.pageX,s.pageY=r.pageY,this.dispatchEvent(s)}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)}onTouchEnd(e,t){let n=Date.now(),o=Object.keys(this.activeTouches).length;for(let r=0,s=t.changedTouches.length;r<s;r++){let a=t.changedTouches.item(r);if(!this.activeTouches.hasOwnProperty(String(a.identifier))){console.warn("move of an UNKNOWN touch",a);continue}let l=this.activeTouches[a.identifier],d=Date.now()-l.initialTimeStamp;if(d<Tt.HOLD_DELAY&&Math.abs(l.initialPageX-Bt(l.rollingPageX))<30&&Math.abs(l.initialPageY-Bt(l.rollingPageY))<30){let u=this.newGestureEvent(Ke.Tap,l.initialTarget);u.pageX=Bt(l.rollingPageX),u.pageY=Bt(l.rollingPageY),this.dispatchEvent(u)}else if(d>=Tt.HOLD_DELAY&&Math.abs(l.initialPageX-Bt(l.rollingPageX))<30&&Math.abs(l.initialPageY-Bt(l.rollingPageY))<30){let u=this.newGestureEvent(Ke.Contextmenu,l.initialTarget);u.pageX=Bt(l.rollingPageX),u.pageY=Bt(l.rollingPageY),this.dispatchEvent(u)}else if(o===1){let u=Bt(l.rollingPageX),h=Bt(l.rollingPageY),f=Bt(l.rollingTimestamps)-l.rollingTimestamps[0],T=u-l.rollingPageX[0],w=h-l.rollingPageY[0],v=[...this.targets].filter(E=>l.initialTarget instanceof Node&&E.contains(l.initialTarget));this.inertia(e,v,n,Math.abs(T)/f,T>0?1:-1,u,Math.abs(w)/f,w>0?1:-1,h)}this.dispatchEvent(this.newGestureEvent(Ke.End,l.initialTarget)),delete this.activeTouches[a.identifier]}this.dispatched&&(t.preventDefault(),t.stopPropagation(),this.dispatched=!1)}newGestureEvent(e,t){let n=document.createEvent("CustomEvent");return n.initEvent(e,!1,!0),n.initialTarget=t,n.tapCount=0,n}dispatchEvent(e){if(e.type===Ke.Tap){let t=new Date().getTime(),n=0;t-this._lastSetTapCountTime>Tt.CLEAR_TAP_COUNT_TIME?n=1:n=2,this._lastSetTapCountTime=t,e.tapCount=n}else(e.type===Ke.Change||e.type===Ke.Contextmenu)&&(this._lastSetTapCountTime=0);if(e.initialTarget instanceof Node){for(let n of this.ignoreTargets)if(n.contains(e.initialTarget))return;let t=[];for(let n of this.targets)if(n.contains(e.initialTarget)){let o=0,r=e.initialTarget;for(;r&&r!==n;)o++,r=r.parentElement;t.push([o,n])}t.sort((n,o)=>n[0]-o[0]);for(let[n,o]of t)o.dispatchEvent(e),this.dispatched=!0}}inertia(e,t,n,o,r,s,a,l,d){this.handle=Jt(e,()=>{let u=Date.now(),h=u-n,f=0,T=0,w=!0;o+=Tt.SCROLL_FRICTION*h,a+=Tt.SCROLL_FRICTION*h,o>0&&(w=!1,f=r*o*h),a>0&&(w=!1,T=l*a*h);let v=this.newGestureEvent(Ke.Change);v.translationX=f,v.translationY=T,t.forEach(E=>E.dispatchEvent(v)),w||this.inertia(e,t,u,o,r,s+f,a,l,d+T)})}onTouchMove(e){let t=Date.now();for(let n=0,o=e.changedTouches.length;n<o;n++){let r=e.changedTouches.item(n);if(!this.activeTouches.hasOwnProperty(String(r.identifier))){console.warn("end of an UNKNOWN touch",r);continue}let s=this.activeTouches[r.identifier],a=this.newGestureEvent(Ke.Change,s.initialTarget);a.translationX=r.pageX-Bt(s.rollingPageX),a.translationY=r.pageY-Bt(s.rollingPageY),a.pageX=r.pageX,a.pageY=r.pageY,this.dispatchEvent(a),s.rollingPageX.length>3&&(s.rollingPageX.shift(),s.rollingPageY.shift(),s.rollingTimestamps.shift()),s.rollingPageX.push(r.pageX),s.rollingPageY.push(r.pageY),s.rollingTimestamps.push(t)}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)}};ie([Ee],Tt,"isTouchDevice",1);var It=Tt;var ut;(o=>{function i(r,s){if(r.start>=s.end||s.start>=r.end)return{start:0,end:0};let a=Math.max(r.start,s.start),l=Math.min(r.end,s.end);return l-a<=0?{start:0,end:0}:{start:a,end:l}}o.intersect=i;function e(r){return r.end-r.start<=0}o.isEmpty=e;function t(r,s){return!e(i(r,s))}o.intersects=t;function n(r,s){let a=[],l={start:r.start,end:Math.min(s.start,r.end)},d={start:Math.max(s.end,r.start),end:r.end};return e(l)||a.push(l),e(d)||a.push(d),a}o.relativeComplement=n})(ut||={});var lu=class{constructor(e){this.domNode=e}_maxWidth="";_width="";_height="";_top="";_left="";_bottom="";_right="";_paddingTop="";_paddingLeft="";_paddingBottom="";_paddingRight="";_fontFamily="";_fontWeight="";_fontSize="";_fontStyle="";_fontFeatureSettings="";_fontVariationSettings="";_textDecoration="";_lineHeight="";_letterSpacing="";_className="";_display="";_position="";_visibility="";_color="";_backgroundColor="";_layerHint=!1;_contain="none";_boxShadow="";setMaxWidth(e){let t=Vt(e);this._maxWidth!==t&&(this._maxWidth=t,this.domNode.style.maxWidth=this._maxWidth)}setWidth(e){let t=Vt(e);this._width!==t&&(this._width=t,this.domNode.style.width=this._width)}setHeight(e){let t=Vt(e);this._height!==t&&(this._height=t,this.domNode.style.height=this._height)}setTop(e){let t=Vt(e);this._top!==t&&(this._top=t,this.domNode.style.top=this._top)}setLeft(e){let t=Vt(e);this._left!==t&&(this._left=t,this.domNode.style.left=this._left)}setBottom(e){let t=Vt(e);this._bottom!==t&&(this._bottom=t,this.domNode.style.bottom=this._bottom)}setRight(e){let t=Vt(e);this._right!==t&&(this._right=t,this.domNode.style.right=this._right)}setPaddingTop(e){let t=Vt(e);this._paddingTop!==t&&(this._paddingTop=t,this.domNode.style.paddingTop=this._paddingTop)}setPaddingLeft(e){let t=Vt(e);this._paddingLeft!==t&&(this._paddingLeft=t,this.domNode.style.paddingLeft=this._paddingLeft)}setPaddingBottom(e){let t=Vt(e);this._paddingBottom!==t&&(this._paddingBottom=t,this.domNode.style.paddingBottom=this._paddingBottom)}setPaddingRight(e){let t=Vt(e);this._paddingRight!==t&&(this._paddingRight=t,this.domNode.style.paddingRight=this._paddingRight)}setFontFamily(e){this._fontFamily!==e&&(this._fontFamily=e,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(e){let t=Vt(e);this._fontSize!==t&&(this._fontSize=t,this.domNode.style.fontSize=this._fontSize)}setFontStyle(e){this._fontStyle!==e&&(this._fontStyle=e,this.domNode.style.fontStyle=this._fontStyle)}setFontFeatureSettings(e){this._fontFeatureSettings!==e&&(this._fontFeatureSettings=e,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setFontVariationSettings(e){this._fontVariationSettings!==e&&(this._fontVariationSettings=e,this.domNode.style.fontVariationSettings=this._fontVariationSettings)}setTextDecoration(e){this._textDecoration!==e&&(this._textDecoration=e,this.domNode.style.textDecoration=this._textDecoration)}setLineHeight(e){let t=Vt(e);this._lineHeight!==t&&(this._lineHeight=t,this.domNode.style.lineHeight=this._lineHeight)}setLetterSpacing(e){let t=Vt(e);this._letterSpacing!==t&&(this._letterSpacing=t,this.domNode.style.letterSpacing=this._letterSpacing)}setClassName(e){this._className!==e&&(this._className=e,this.domNode.className=this._className)}toggleClassName(e,t){this.domNode.classList.toggle(e,t),this._className=this.domNode.className}setDisplay(e){this._display!==e&&(this._display=e,this.domNode.style.display=this._display)}setPosition(e){this._position!==e&&(this._position=e,this.domNode.style.position=this._position)}setVisibility(e){this._visibility!==e&&(this._visibility=e,this.domNode.style.visibility=this._visibility)}setColor(e){this._color!==e&&(this._color=e,this.domNode.style.color=this._color)}setBackgroundColor(e){this._backgroundColor!==e&&(this._backgroundColor=e,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(e){this._layerHint!==e&&(this._layerHint=e,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(e){this._boxShadow!==e&&(this._boxShadow=e,this.domNode.style.boxShadow=e)}setContain(e){this._contain!==e&&(this._contain=e,this.domNode.style.contain=this._contain)}setAttribute(e,t){this.domNode.setAttribute(e,t)}removeAttribute(e){this.domNode.removeAttribute(e)}appendChild(e){this.domNode.appendChild(e.domNode)}removeChild(e){this.domNode.removeChild(e.domNode)}};function Vt(i){return typeof i=="number"?`${i}px`:i}function To(i){return new lu(i)}var sr=class{_hooks=new W;_pointerMoveCallback=null;_onStopCallback=null;dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(e,t){if(!this.isMonitoring())return;this._hooks.clear(),this._pointerMoveCallback=null;let n=this._onStopCallback;this._onStopCallback=null,e&&n&&n(t)}isMonitoring(){return!!this._pointerMoveCallback}startMonitoring(e,t,n,o,r){this.isMonitoring()&&this.stopMonitoring(!1),this._pointerMoveCallback=o,this._onStopCallback=r;let s=e;try{e.setPointerCapture(t),this._hooks.add(he(()=>{try{e.releasePointerCapture(t)}catch{}}))}catch{s=ge(e)}this._hooks.add(Q(s,oe.POINTER_MOVE,a=>{if(a.buttons!==n){this.stopMonitoring(!0);return}a.preventDefault(),this._pointerMoveCallback(a)})),this._hooks.add(Q(s,oe.POINTER_UP,a=>this.stopMonitoring(!0)))}};var _t=class extends V{onclick(e,t){this._register(Q(e,oe.CLICK,n=>t(new Yt(ge(e),n))))}onmousedown(e,t){this._register(Q(e,oe.MOUSE_DOWN,n=>t(new Yt(ge(e),n))))}onmouseover(e,t){this._register(Q(e,oe.MOUSE_OVER,n=>t(new Yt(ge(e),n))))}onmouseleave(e,t){this._register(Q(e,oe.MOUSE_LEAVE,n=>t(new Yt(ge(e),n))))}onkeydown(e,t){this._register(Q(e,oe.KEY_DOWN,n=>t(new Me(n))))}onkeyup(e,t){this._register(Q(e,oe.KEY_UP,n=>t(new Me(n))))}oninput(e,t){this._register(Q(e,oe.INPUT,t))}onblur(e,t){this._register(Q(e,oe.BLUR,t))}onfocus(e,t){this._register(Q(e,oe.FOCUS,t))}onchange(e,t){this._register(Q(e,oe.CHANGE,t))}ignoreGesture(e){return It.ignoreTarget(e)}};var du=Object.create(null);function c(i,e){if(bn(e)){let t=du[e];if(t===void 0)throw new Error(`${i} references an unknown codicon: ${e}`);e=t}return du[i]=e,{id:i}}function cu(){return du}var Cf={add:c("add",6e4),plus:c("plus",6e4),gistNew:c("gist-new",6e4),repoCreate:c("repo-create",6e4),lightbulb:c("lightbulb",60001),lightBulb:c("light-bulb",60001),repo:c("repo",60002),repoDelete:c("repo-delete",60002),gistFork:c("gist-fork",60003),repoForked:c("repo-forked",60003),gitPullRequest:c("git-pull-request",60004),gitPullRequestAbandoned:c("git-pull-request-abandoned",60004),recordKeys:c("record-keys",60005),keyboard:c("keyboard",60005),tag:c("tag",60006),gitPullRequestLabel:c("git-pull-request-label",60006),tagAdd:c("tag-add",60006),tagRemove:c("tag-remove",60006),person:c("person",60007),personFollow:c("person-follow",60007),personOutline:c("person-outline",60007),personFilled:c("person-filled",60007),gitBranch:c("git-branch",60008),gitBranchCreate:c("git-branch-create",60008),gitBranchDelete:c("git-branch-delete",60008),sourceControl:c("source-control",60008),mirror:c("mirror",60009),mirrorPublic:c("mirror-public",60009),star:c("star",60010),starAdd:c("star-add",60010),starDelete:c("star-delete",60010),starEmpty:c("star-empty",60010),comment:c("comment",60011),commentAdd:c("comment-add",60011),alert:c("alert",60012),warning:c("warning",60012),search:c("search",60013),searchSave:c("search-save",60013),logOut:c("log-out",60014),signOut:c("sign-out",60014),logIn:c("log-in",60015),signIn:c("sign-in",60015),eye:c("eye",60016),eyeUnwatch:c("eye-unwatch",60016),eyeWatch:c("eye-watch",60016),circleFilled:c("circle-filled",60017),primitiveDot:c("primitive-dot",60017),closeDirty:c("close-dirty",60017),debugBreakpoint:c("debug-breakpoint",60017),debugBreakpointDisabled:c("debug-breakpoint-disabled",60017),debugHint:c("debug-hint",60017),terminalDecorationSuccess:c("terminal-decoration-success",60017),primitiveSquare:c("primitive-square",60018),edit:c("edit",60019),pencil:c("pencil",60019),info:c("info",60020),issueOpened:c("issue-opened",60020),gistPrivate:c("gist-private",60021),gitForkPrivate:c("git-fork-private",60021),lock:c("lock",60021),mirrorPrivate:c("mirror-private",60021),close:c("close",60022),removeClose:c("remove-close",60022),x:c("x",60022),repoSync:c("repo-sync",60023),sync:c("sync",60023),clone:c("clone",60024),desktopDownload:c("desktop-download",60024),beaker:c("beaker",60025),microscope:c("microscope",60025),vm:c("vm",60026),deviceDesktop:c("device-desktop",60026),file:c("file",60027),fileText:c("file-text",60027),more:c("more",60028),ellipsis:c("ellipsis",60028),kebabHorizontal:c("kebab-horizontal",60028),mailReply:c("mail-reply",60029),reply:c("reply",60029),organization:c("organization",60030),organizationFilled:c("organization-filled",60030),organizationOutline:c("organization-outline",60030),newFile:c("new-file",60031),fileAdd:c("file-add",60031),newFolder:c("new-folder",60032),fileDirectoryCreate:c("file-directory-create",60032),trash:c("trash",60033),trashcan:c("trashcan",60033),history:c("history",60034),clock:c("clock",60034),folder:c("folder",60035),fileDirectory:c("file-directory",60035),symbolFolder:c("symbol-folder",60035),logoGithub:c("logo-github",60036),markGithub:c("mark-github",60036),github:c("github",60036),terminal:c("terminal",60037),console:c("console",60037),repl:c("repl",60037),zap:c("zap",60038),symbolEvent:c("symbol-event",60038),error:c("error",60039),stop:c("stop",60039),variable:c("variable",60040),symbolVariable:c("symbol-variable",60040),array:c("array",60042),symbolArray:c("symbol-array",60042),symbolModule:c("symbol-module",60043),symbolPackage:c("symbol-package",60043),symbolNamespace:c("symbol-namespace",60043),symbolObject:c("symbol-object",60043),symbolMethod:c("symbol-method",60044),symbolFunction:c("symbol-function",60044),symbolConstructor:c("symbol-constructor",60044),symbolBoolean:c("symbol-boolean",60047),symbolNull:c("symbol-null",60047),symbolNumeric:c("symbol-numeric",60048),symbolNumber:c("symbol-number",60048),symbolStructure:c("symbol-structure",60049),symbolStruct:c("symbol-struct",60049),symbolParameter:c("symbol-parameter",60050),symbolTypeParameter:c("symbol-type-parameter",60050),symbolKey:c("symbol-key",60051),symbolText:c("symbol-text",60051),symbolReference:c("symbol-reference",60052),goToFile:c("go-to-file",60052),symbolEnum:c("symbol-enum",60053),symbolValue:c("symbol-value",60053),symbolRuler:c("symbol-ruler",60054),symbolUnit:c("symbol-unit",60054),activateBreakpoints:c("activate-breakpoints",60055),archive:c("archive",60056),arrowBoth:c("arrow-both",60057),arrowDown:c("arrow-down",60058),arrowLeft:c("arrow-left",60059),arrowRight:c("arrow-right",60060),arrowSmallDown:c("arrow-small-down",60061),arrowSmallLeft:c("arrow-small-left",60062),arrowSmallRight:c("arrow-small-right",60063),arrowSmallUp:c("arrow-small-up",60064),arrowUp:c("arrow-up",60065),bell:c("bell",60066),bold:c("bold",60067),book:c("book",60068),bookmark:c("bookmark",60069),debugBreakpointConditionalUnverified:c("debug-breakpoint-conditional-unverified",60070),debugBreakpointConditional:c("debug-breakpoint-conditional",60071),debugBreakpointConditionalDisabled:c("debug-breakpoint-conditional-disabled",60071),debugBreakpointDataUnverified:c("debug-breakpoint-data-unverified",60072),debugBreakpointData:c("debug-breakpoint-data",60073),debugBreakpointDataDisabled:c("debug-breakpoint-data-disabled",60073),debugBreakpointLogUnverified:c("debug-breakpoint-log-unverified",60074),debugBreakpointLog:c("debug-breakpoint-log",60075),debugBreakpointLogDisabled:c("debug-breakpoint-log-disabled",60075),briefcase:c("briefcase",60076),broadcast:c("broadcast",60077),browser:c("browser",60078),bug:c("bug",60079),calendar:c("calendar",60080),caseSensitive:c("case-sensitive",60081),check:c("check",60082),checklist:c("checklist",60083),chevronDown:c("chevron-down",60084),chevronLeft:c("chevron-left",60085),chevronRight:c("chevron-right",60086),chevronUp:c("chevron-up",60087),chromeClose:c("chrome-close",60088),chromeMaximize:c("chrome-maximize",60089),chromeMinimize:c("chrome-minimize",60090),chromeRestore:c("chrome-restore",60091),circleOutline:c("circle-outline",60092),circle:c("circle",60092),debugBreakpointUnverified:c("debug-breakpoint-unverified",60092),terminalDecorationIncomplete:c("terminal-decoration-incomplete",60092),circleSlash:c("circle-slash",60093),circuitBoard:c("circuit-board",60094),clearAll:c("clear-all",60095),clippy:c("clippy",60096),closeAll:c("close-all",60097),cloudDownload:c("cloud-download",60098),cloudUpload:c("cloud-upload",60099),code:c("code",60100),collapseAll:c("collapse-all",60101),colorMode:c("color-mode",60102),commentDiscussion:c("comment-discussion",60103),creditCard:c("credit-card",60105),dash:c("dash",60108),dashboard:c("dashboard",60109),database:c("database",60110),debugContinue:c("debug-continue",60111),debugDisconnect:c("debug-disconnect",60112),debugPause:c("debug-pause",60113),debugRestart:c("debug-restart",60114),debugStart:c("debug-start",60115),debugStepInto:c("debug-step-into",60116),debugStepOut:c("debug-step-out",60117),debugStepOver:c("debug-step-over",60118),debugStop:c("debug-stop",60119),debug:c("debug",60120),deviceCameraVideo:c("device-camera-video",60121),deviceCamera:c("device-camera",60122),deviceMobile:c("device-mobile",60123),diffAdded:c("diff-added",60124),diffIgnored:c("diff-ignored",60125),diffModified:c("diff-modified",60126),diffRemoved:c("diff-removed",60127),diffRenamed:c("diff-renamed",60128),diff:c("diff",60129),diffSidebyside:c("diff-sidebyside",60129),discard:c("discard",60130),editorLayout:c("editor-layout",60131),emptyWindow:c("empty-window",60132),exclude:c("exclude",60133),extensions:c("extensions",60134),eyeClosed:c("eye-closed",60135),fileBinary:c("file-binary",60136),fileCode:c("file-code",60137),fileMedia:c("file-media",60138),filePdf:c("file-pdf",60139),fileSubmodule:c("file-submodule",60140),fileSymlinkDirectory:c("file-symlink-directory",60141),fileSymlinkFile:c("file-symlink-file",60142),fileZip:c("file-zip",60143),files:c("files",60144),filter:c("filter",60145),flame:c("flame",60146),foldDown:c("fold-down",60147),foldUp:c("fold-up",60148),fold:c("fold",60149),folderActive:c("folder-active",60150),folderOpened:c("folder-opened",60151),gear:c("gear",60152),gift:c("gift",60153),gistSecret:c("gist-secret",60154),gist:c("gist",60155),gitCommit:c("git-commit",60156),gitCompare:c("git-compare",60157),compareChanges:c("compare-changes",60157),gitMerge:c("git-merge",60158),githubAction:c("github-action",60159),githubAlt:c("github-alt",60160),globe:c("globe",60161),grabber:c("grabber",60162),graph:c("graph",60163),gripper:c("gripper",60164),heart:c("heart",60165),home:c("home",60166),horizontalRule:c("horizontal-rule",60167),hubot:c("hubot",60168),inbox:c("inbox",60169),issueReopened:c("issue-reopened",60171),issues:c("issues",60172),italic:c("italic",60173),jersey:c("jersey",60174),json:c("json",60175),kebabVertical:c("kebab-vertical",60176),key:c("key",60177),law:c("law",60178),lightbulbAutofix:c("lightbulb-autofix",60179),linkExternal:c("link-external",60180),link:c("link",60181),listOrdered:c("list-ordered",60182),listUnordered:c("list-unordered",60183),liveShare:c("live-share",60184),loading:c("loading",60185),location:c("location",60186),mailRead:c("mail-read",60187),mail:c("mail",60188),markdown:c("markdown",60189),megaphone:c("megaphone",60190),mention:c("mention",60191),milestone:c("milestone",60192),gitPullRequestMilestone:c("git-pull-request-milestone",60192),mortarBoard:c("mortar-board",60193),move:c("move",60194),multipleWindows:c("multiple-windows",60195),mute:c("mute",60196),noNewline:c("no-newline",60197),note:c("note",60198),octoface:c("octoface",60199),openPreview:c("open-preview",60200),package:c("package",60201),paintcan:c("paintcan",60202),pin:c("pin",60203),play:c("play",60204),run:c("run",60204),plug:c("plug",60205),preserveCase:c("preserve-case",60206),preview:c("preview",60207),project:c("project",60208),pulse:c("pulse",60209),question:c("question",60210),quote:c("quote",60211),radioTower:c("radio-tower",60212),reactions:c("reactions",60213),references:c("references",60214),refresh:c("refresh",60215),regex:c("regex",60216),remoteExplorer:c("remote-explorer",60217),remote:c("remote",60218),remove:c("remove",60219),replaceAll:c("replace-all",60220),replace:c("replace",60221),repoClone:c("repo-clone",60222),repoForcePush:c("repo-force-push",60223),repoPull:c("repo-pull",60224),repoPush:c("repo-push",60225),report:c("report",60226),requestChanges:c("request-changes",60227),rocket:c("rocket",60228),rootFolderOpened:c("root-folder-opened",60229),rootFolder:c("root-folder",60230),rss:c("rss",60231),ruby:c("ruby",60232),saveAll:c("save-all",60233),saveAs:c("save-as",60234),save:c("save",60235),screenFull:c("screen-full",60236),screenNormal:c("screen-normal",60237),searchStop:c("search-stop",60238),server:c("server",60240),settingsGear:c("settings-gear",60241),settings:c("settings",60242),shield:c("shield",60243),smiley:c("smiley",60244),sortPrecedence:c("sort-precedence",60245),splitHorizontal:c("split-horizontal",60246),splitVertical:c("split-vertical",60247),squirrel:c("squirrel",60248),starFull:c("star-full",60249),starHalf:c("star-half",60250),symbolClass:c("symbol-class",60251),symbolColor:c("symbol-color",60252),symbolConstant:c("symbol-constant",60253),symbolEnumMember:c("symbol-enum-member",60254),symbolField:c("symbol-field",60255),symbolFile:c("symbol-file",60256),symbolInterface:c("symbol-interface",60257),symbolKeyword:c("symbol-keyword",60258),symbolMisc:c("symbol-misc",60259),symbolOperator:c("symbol-operator",60260),symbolProperty:c("symbol-property",60261),wrench:c("wrench",60261),wrenchSubaction:c("wrench-subaction",60261),symbolSnippet:c("symbol-snippet",60262),tasklist:c("tasklist",60263),telescope:c("telescope",60264),textSize:c("text-size",60265),threeBars:c("three-bars",60266),thumbsdown:c("thumbsdown",60267),thumbsup:c("thumbsup",60268),tools:c("tools",60269),triangleDown:c("triangle-down",60270),triangleLeft:c("triangle-left",60271),triangleRight:c("triangle-right",60272),triangleUp:c("triangle-up",60273),twitter:c("twitter",60274),unfold:c("unfold",60275),unlock:c("unlock",60276),unmute:c("unmute",60277),unverified:c("unverified",60278),verified:c("verified",60279),versions:c("versions",60280),vmActive:c("vm-active",60281),vmOutline:c("vm-outline",60282),vmRunning:c("vm-running",60283),watch:c("watch",60284),whitespace:c("whitespace",60285),wholeWord:c("whole-word",60286),window:c("window",60287),wordWrap:c("word-wrap",60288),zoomIn:c("zoom-in",60289),zoomOut:c("zoom-out",60290),listFilter:c("list-filter",60291),listFlat:c("list-flat",60292),listSelection:c("list-selection",60293),selection:c("selection",60293),listTree:c("list-tree",60294),debugBreakpointFunctionUnverified:c("debug-breakpoint-function-unverified",60295),debugBreakpointFunction:c("debug-breakpoint-function",60296),debugBreakpointFunctionDisabled:c("debug-breakpoint-function-disabled",60296),debugStackframeActive:c("debug-stackframe-active",60297),circleSmallFilled:c("circle-small-filled",60298),debugStackframeDot:c("debug-stackframe-dot",60298),terminalDecorationMark:c("terminal-decoration-mark",60298),debugStackframe:c("debug-stackframe",60299),debugStackframeFocused:c("debug-stackframe-focused",60299),debugBreakpointUnsupported:c("debug-breakpoint-unsupported",60300),symbolString:c("symbol-string",60301),debugReverseContinue:c("debug-reverse-continue",60302),debugStepBack:c("debug-step-back",60303),debugRestartFrame:c("debug-restart-frame",60304),debugAlt:c("debug-alt",60305),callIncoming:c("call-incoming",60306),callOutgoing:c("call-outgoing",60307),menu:c("menu",60308),expandAll:c("expand-all",60309),feedback:c("feedback",60310),gitPullRequestReviewer:c("git-pull-request-reviewer",60310),groupByRefType:c("group-by-ref-type",60311),ungroupByRefType:c("ungroup-by-ref-type",60312),account:c("account",60313),gitPullRequestAssignee:c("git-pull-request-assignee",60313),bellDot:c("bell-dot",60314),debugConsole:c("debug-console",60315),library:c("library",60316),output:c("output",60317),runAll:c("run-all",60318),syncIgnored:c("sync-ignored",60319),pinned:c("pinned",60320),githubInverted:c("github-inverted",60321),serverProcess:c("server-process",60322),serverEnvironment:c("server-environment",60323),pass:c("pass",60324),issueClosed:c("issue-closed",60324),stopCircle:c("stop-circle",60325),playCircle:c("play-circle",60326),record:c("record",60327),debugAltSmall:c("debug-alt-small",60328),vmConnect:c("vm-connect",60329),cloud:c("cloud",60330),merge:c("merge",60331),export:c("export",60332),graphLeft:c("graph-left",60333),magnet:c("magnet",60334),notebook:c("notebook",60335),redo:c("redo",60336),checkAll:c("check-all",60337),pinnedDirty:c("pinned-dirty",60338),passFilled:c("pass-filled",60339),circleLargeFilled:c("circle-large-filled",60340),circleLarge:c("circle-large",60341),circleLargeOutline:c("circle-large-outline",60341),combine:c("combine",60342),gather:c("gather",60342),table:c("table",60343),variableGroup:c("variable-group",60344),typeHierarchy:c("type-hierarchy",60345),typeHierarchySub:c("type-hierarchy-sub",60346),typeHierarchySuper:c("type-hierarchy-super",60347),gitPullRequestCreate:c("git-pull-request-create",60348),runAbove:c("run-above",60349),runBelow:c("run-below",60350),notebookTemplate:c("notebook-template",60351),debugRerun:c("debug-rerun",60352),workspaceTrusted:c("workspace-trusted",60353),workspaceUntrusted:c("workspace-untrusted",60354),workspaceUnknown:c("workspace-unknown",60355),terminalCmd:c("terminal-cmd",60356),terminalDebian:c("terminal-debian",60357),terminalLinux:c("terminal-linux",60358),terminalPowershell:c("terminal-powershell",60359),terminalTmux:c("terminal-tmux",60360),terminalUbuntu:c("terminal-ubuntu",60361),terminalBash:c("terminal-bash",60362),arrowSwap:c("arrow-swap",60363),copy:c("copy",60364),personAdd:c("person-add",60365),filterFilled:c("filter-filled",60366),wand:c("wand",60367),debugLineByLine:c("debug-line-by-line",60368),inspect:c("inspect",60369),layers:c("layers",60370),layersDot:c("layers-dot",60371),layersActive:c("layers-active",60372),compass:c("compass",60373),compassDot:c("compass-dot",60374),compassActive:c("compass-active",60375),azure:c("azure",60376),issueDraft:c("issue-draft",60377),gitPullRequestClosed:c("git-pull-request-closed",60378),gitPullRequestDraft:c("git-pull-request-draft",60379),debugAll:c("debug-all",60380),debugCoverage:c("debug-coverage",60381),runErrors:c("run-errors",60382),folderLibrary:c("folder-library",60383),debugContinueSmall:c("debug-continue-small",60384),beakerStop:c("beaker-stop",60385),graphLine:c("graph-line",60386),graphScatter:c("graph-scatter",60387),pieChart:c("pie-chart",60388),bracket:c("bracket",60175),bracketDot:c("bracket-dot",60389),bracketError:c("bracket-error",60390),lockSmall:c("lock-small",60391),azureDevops:c("azure-devops",60392),verifiedFilled:c("verified-filled",60393),newline:c("newline",60394),layout:c("layout",60395),layoutActivitybarLeft:c("layout-activitybar-left",60396),layoutActivitybarRight:c("layout-activitybar-right",60397),layoutPanelLeft:c("layout-panel-left",60398),layoutPanelCenter:c("layout-panel-center",60399),layoutPanelJustify:c("layout-panel-justify",60400),layoutPanelRight:c("layout-panel-right",60401),layoutPanel:c("layout-panel",60402),layoutSidebarLeft:c("layout-sidebar-left",60403),layoutSidebarRight:c("layout-sidebar-right",60404),layoutStatusbar:c("layout-statusbar",60405),layoutMenubar:c("layout-menubar",60406),layoutCentered:c("layout-centered",60407),target:c("target",60408),indent:c("indent",60409),recordSmall:c("record-small",60410),errorSmall:c("error-small",60411),terminalDecorationError:c("terminal-decoration-error",60411),arrowCircleDown:c("arrow-circle-down",60412),arrowCircleLeft:c("arrow-circle-left",60413),arrowCircleRight:c("arrow-circle-right",60414),arrowCircleUp:c("arrow-circle-up",60415),layoutSidebarRightOff:c("layout-sidebar-right-off",60416),layoutPanelOff:c("layout-panel-off",60417),layoutSidebarLeftOff:c("layout-sidebar-left-off",60418),blank:c("blank",60419),heartFilled:c("heart-filled",60420),map:c("map",60421),mapHorizontal:c("map-horizontal",60421),foldHorizontal:c("fold-horizontal",60421),mapFilled:c("map-filled",60422),mapHorizontalFilled:c("map-horizontal-filled",60422),foldHorizontalFilled:c("fold-horizontal-filled",60422),circleSmall:c("circle-small",60423),bellSlash:c("bell-slash",60424),bellSlashDot:c("bell-slash-dot",60425),commentUnresolved:c("comment-unresolved",60426),gitPullRequestGoToChanges:c("git-pull-request-go-to-changes",60427),gitPullRequestNewChanges:c("git-pull-request-new-changes",60428),searchFuzzy:c("search-fuzzy",60429),commentDraft:c("comment-draft",60430),send:c("send",60431),sparkle:c("sparkle",60432),insert:c("insert",60433),mic:c("mic",60434),thumbsdownFilled:c("thumbsdown-filled",60435),thumbsupFilled:c("thumbsup-filled",60436),coffee:c("coffee",60437),snake:c("snake",60438),game:c("game",60439),vr:c("vr",60440),chip:c("chip",60441),piano:c("piano",60442),music:c("music",60443),micFilled:c("mic-filled",60444),repoFetch:c("repo-fetch",60445),copilot:c("copilot",60446),lightbulbSparkle:c("lightbulb-sparkle",60447),robot:c("robot",60448),sparkleFilled:c("sparkle-filled",60449),diffSingle:c("diff-single",60450),diffMultiple:c("diff-multiple",60451),surroundWith:c("surround-with",60452),share:c("share",60453),gitStash:c("git-stash",60454),gitStashApply:c("git-stash-apply",60455),gitStashPop:c("git-stash-pop",60456),vscode:c("vscode",60457),vscodeInsiders:c("vscode-insiders",60458),codeOss:c("code-oss",60459),runCoverage:c("run-coverage",60460),runAllCoverage:c("run-all-coverage",60461),coverage:c("coverage",60462),githubProject:c("github-project",60463),mapVertical:c("map-vertical",60464),foldVertical:c("fold-vertical",60464),mapVerticalFilled:c("map-vertical-filled",60465),foldVerticalFilled:c("fold-vertical-filled",60465),goToSearch:c("go-to-search",60466),percentage:c("percentage",60467),sortPercentage:c("sort-percentage",60467),attach:c("attach",60468)};var tT={dialogError:c("dialog-error","error"),dialogWarning:c("dialog-warning","warning"),dialogInfo:c("dialog-info","info"),dialogClose:c("dialog-close","close"),treeItemExpanded:c("tree-item-expanded","chevron-down"),treeFilterOnTypeOn:c("tree-filter-on-type-on","list-filter"),treeFilterOnTypeOff:c("tree-filter-on-type-off","list-selection"),treeFilterClear:c("tree-filter-clear","close"),treeItemLoading:c("tree-item-loading","loading"),menuSelection:c("menu-selection","check"),menuSubmenu:c("menu-submenu","chevron-right"),menuBarMore:c("menubar-more","more"),scrollbarButtonLeft:c("scrollbar-button-left","triangle-left"),scrollbarButtonRight:c("scrollbar-button-right","triangle-right"),scrollbarButtonUp:c("scrollbar-button-up","triangle-up"),scrollbarButtonDown:c("scrollbar-button-down","triangle-down"),toolBarMore:c("toolbar-more","more"),quickInputBack:c("quick-input-back","arrow-left"),dropDownButton:c("drop-down-button",60084),symbolCustomColor:c("symbol-customcolor",60252),exportIcon:c("export",60332),workspaceUnspecified:c("workspace-unspecified",60355),newLine:c("newline",60394),thumbsDownFilled:c("thumbsdown-filled",60435),thumbsUpFilled:c("thumbsup-filled",60436),gitFetch:c("git-fetch",60445),lightbulbSparkleAutofix:c("lightbulb-sparkle-autofix",60447),debugBreakpointPending:c("debug-breakpoint-pending",60377)},_e={...Cf,...tT};var Lf;(e=>{function i(t){return t&&typeof t=="object"&&typeof t.id=="string"}e.isThemeColor=i})(Lf||={});var Se;(v=>{v.iconNameSegment="[A-Za-z0-9]+",v.iconNameExpression="[A-Za-z0-9-]+",v.iconModifierExpression="~[A-Za-z]+",v.iconNameCharacter="[A-Za-z0-9~-]";let o=new RegExp(`^(${v.iconNameExpression})(${v.iconModifierExpression})?$`);function r(E){let P=o.exec(E.id);if(!P)return r(_e.error);let[,O,U]=P,R=["codicon","codicon-"+O];return U&&R.push("codicon-modifier-"+U.substring(1)),R}v.asClassNameArray=r;function s(E){return r(E).join(" ")}v.asClassName=s;function a(E){return"."+r(E).join(".")}v.asCSSSelector=a;function l(E){return E&&typeof E=="object"&&typeof E.id=="string"&&(typeof E.color>"u"||Lf.isThemeColor(E.color))}v.isThemeIcon=l;let d=new RegExp(`^\\$\\((${v.iconNameExpression}(?:${v.iconModifierExpression})?)\\)$`);function u(E){let P=d.exec(E);if(!P)return;let[,O]=P;return{id:O}}v.fromString=u;function h(E){return{id:E}}v.fromId=h;function f(E,P){let O=E.id,U=O.lastIndexOf("~");return U!==-1&&(O=O.substring(0,U)),P&&(O=`${O}~${P}`),{id:O}}v.modify=f;function T(E){let P=E.id.lastIndexOf("~");if(P!==-1)return E.id.substring(P+1)}v.getModifier=T;function w(E,P){return E.id===P.id&&E.color?.id===P.color?.id}v.isEqual=w})(Se||={});var zi=11,al=class extends _t{_onActivate;bgDomNode;domNode;_pointerdownRepeatTimer;_pointerdownScheduleRepeatTimer;_pointerMoveMonitor;constructor(e){super(),this._onActivate=e.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=e.bgWidth+"px",this.bgDomNode.style.height=e.bgHeight+"px",typeof e.top<"u"&&(this.bgDomNode.style.top="0px"),typeof e.left<"u"&&(this.bgDomNode.style.left="0px"),typeof e.bottom<"u"&&(this.bgDomNode.style.bottom="0px"),typeof e.right<"u"&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=e.className,this.domNode.classList.add(...Se.asClassNameArray(e.icon)),this.domNode.style.position="absolute",this.domNode.style.width=zi+"px",this.domNode.style.height=zi+"px",typeof e.top<"u"&&(this.domNode.style.top=e.top+"px"),typeof e.left<"u"&&(this.domNode.style.left=e.left+"px"),typeof e.bottom<"u"&&(this.domNode.style.bottom=e.bottom+"px"),typeof e.right<"u"&&(this.domNode.style.right=e.right+"px"),this._pointerMoveMonitor=this._register(new sr),this._register(Rt(this.bgDomNode,oe.POINTER_DOWN,t=>this._arrowPointerDown(t))),this._register(Rt(this.domNode,oe.POINTER_DOWN,t=>this._arrowPointerDown(t))),this._pointerdownRepeatTimer=this._register(new Ja),this._pointerdownScheduleRepeatTimer=this._register(new Tn)}_arrowPointerDown(e){if(!e.target||!(e.target instanceof Element))return;let t=()=>{this._pointerdownRepeatTimer.cancelAndSet(()=>this._onActivate(),1e3/24,ge(e))};this._onActivate(),this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancelAndSet(t,200),this._pointerMoveMonitor.startMonitoring(e.target,e.pointerId,e.buttons,n=>{},()=>{this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancel()}),e.preventDefault()}};var ar=class i{_scrollbarSize;_oppositeScrollbarSize;_arrowSize;_visibleSize;_scrollSize;_scrollPosition;_computedAvailableSize;_computedIsNeeded;_computedSliderSize;_computedSliderRatio;_computedSliderPosition;constructor(e,t,n,o,r,s){this._scrollbarSize=Math.round(t),this._oppositeScrollbarSize=Math.round(n),this._arrowSize=Math.round(e),this._visibleSize=o,this._scrollSize=r,this._scrollPosition=s,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new i(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(e){let t=Math.round(e);return this._visibleSize!==t?(this._visibleSize=t,this._refreshComputedValues(),!0):!1}setScrollSize(e){let t=Math.round(e);return this._scrollSize!==t?(this._scrollSize=t,this._refreshComputedValues(),!0):!1}setScrollPosition(e){let t=Math.round(e);return this._scrollPosition!==t?(this._scrollPosition=t,this._refreshComputedValues(),!0):!1}setScrollbarSize(e){this._scrollbarSize=Math.round(e)}setOppositeScrollbarSize(e){this._oppositeScrollbarSize=Math.round(e)}static _computeValues(e,t,n,o,r){let s=Math.max(0,n-e),a=Math.max(0,s-2*t),l=o>0&&o>n;if(!l)return{computedAvailableSize:Math.round(s),computedIsNeeded:l,computedSliderSize:Math.round(a),computedSliderRatio:0,computedSliderPosition:0};let d=Math.round(Math.max(20,Math.floor(n*a/o))),u=(a-d)/(o-n),h=r*u;return{computedAvailableSize:Math.round(s),computedIsNeeded:l,computedSliderSize:Math.round(d),computedSliderRatio:u,computedSliderPosition:Math.round(h)}}_refreshComputedValues(){let e=i._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=e.computedAvailableSize,this._computedIsNeeded=e.computedIsNeeded,this._computedSliderSize=e.computedSliderSize,this._computedSliderRatio=e.computedSliderRatio,this._computedSliderPosition=e.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(e){if(!this._computedIsNeeded)return 0;let t=e-this._arrowSize-this._computedSliderSize/2;return Math.round(t/this._computedSliderRatio)}getDesiredScrollPositionFromOffsetPaged(e){if(!this._computedIsNeeded)return 0;let t=e-this._arrowSize,n=this._scrollPosition;return t<this._computedSliderPosition?n-=this._visibleSize:n+=this._visibleSize,n}getDesiredScrollPositionFromDelta(e){if(!this._computedIsNeeded)return 0;let t=this._computedSliderPosition+e;return Math.round(t/this._computedSliderRatio)}};var hu=class i{constructor(e,t,n,o,r,s,a){this._forceIntegerValues=e;this._forceIntegerValues&&(t=t|0,n=n|0,o=o|0,r=r|0,s=s|0,a=a|0),this.rawScrollLeft=o,this.rawScrollTop=a,t<0&&(t=0),o+t>n&&(o=n-t),o<0&&(o=0),r<0&&(r=0),a+r>s&&(a=s-r),a<0&&(a=0),this.width=t,this.scrollWidth=n,this.scrollLeft=o,this.height=r,this.scrollHeight=s,this.scrollTop=a}_scrollStateBrand=void 0;rawScrollLeft;rawScrollTop;width;scrollWidth;scrollLeft;height;scrollHeight;scrollTop;equals(e){return this.rawScrollLeft===e.rawScrollLeft&&this.rawScrollTop===e.rawScrollTop&&this.width===e.width&&this.scrollWidth===e.scrollWidth&&this.scrollLeft===e.scrollLeft&&this.height===e.height&&this.scrollHeight===e.scrollHeight&&this.scrollTop===e.scrollTop}withScrollDimensions(e,t){return new i(this._forceIntegerValues,typeof e.width<"u"?e.width:this.width,typeof e.scrollWidth<"u"?e.scrollWidth:this.scrollWidth,t?this.rawScrollLeft:this.scrollLeft,typeof e.height<"u"?e.height:this.height,typeof e.scrollHeight<"u"?e.scrollHeight:this.scrollHeight,t?this.rawScrollTop:this.scrollTop)}withScrollPosition(e){return new i(this._forceIntegerValues,this.width,this.scrollWidth,typeof e.scrollLeft<"u"?e.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,typeof e.scrollTop<"u"?e.scrollTop:this.rawScrollTop)}createScrollEvent(e,t){let n=this.width!==e.width,o=this.scrollWidth!==e.scrollWidth,r=this.scrollLeft!==e.scrollLeft,s=this.height!==e.height,a=this.scrollHeight!==e.scrollHeight,l=this.scrollTop!==e.scrollTop;return{inSmoothScrolling:t,oldWidth:e.width,oldScrollWidth:e.scrollWidth,oldScrollLeft:e.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:e.height,oldScrollHeight:e.scrollHeight,oldScrollTop:e.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:n,scrollWidthChanged:o,scrollLeftChanged:r,heightChanged:s,scrollHeightChanged:a,scrollTopChanged:l}}},Ui=class extends V{_scrollableBrand=void 0;_smoothScrollDuration;_scheduleAtNextAnimationFrame;_state;_smoothScrolling;_onScroll=this._register(new k);onScroll=this._onScroll.event;constructor(e){super(),this._smoothScrollDuration=e.smoothScrollDuration,this._scheduleAtNextAnimationFrame=e.scheduleAtNextAnimationFrame,this._state=new hu(e.forceIntegerValues,0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(e){this._smoothScrollDuration=e}validateScrollPosition(e){return this._state.withScrollPosition(e)}getScrollDimensions(){return this._state}setScrollDimensions(e,t){let n=this._state.withScrollDimensions(e,t);this._setState(n,!!this._smoothScrolling),this._smoothScrolling?.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(e){let t=this._state.withScrollPosition(e);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(t,!1)}setScrollPositionSmooth(e,t){if(this._smoothScrollDuration===0)return this.setScrollPositionNow(e);if(this._smoothScrolling){e={scrollLeft:typeof e.scrollLeft>"u"?this._smoothScrolling.to.scrollLeft:e.scrollLeft,scrollTop:typeof e.scrollTop>"u"?this._smoothScrolling.to.scrollTop:e.scrollTop};let n=this._state.withScrollPosition(e);if(this._smoothScrolling.to.scrollLeft===n.scrollLeft&&this._smoothScrolling.to.scrollTop===n.scrollTop)return;let o;t?o=new dl(this._smoothScrolling.from,n,this._smoothScrolling.startTime,this._smoothScrolling.duration):o=this._smoothScrolling.combine(this._state,n,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=o}else{let n=this._state.withScrollPosition(e);this._smoothScrolling=dl.start(this._state,n,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}hasPendingScrollAnimation(){return!!this._smoothScrolling}_performSmoothScrolling(){if(!this._smoothScrolling)return;let e=this._smoothScrolling.tick(),t=this._state.withScrollPosition(e);if(this._setState(t,!0),!!this._smoothScrolling){if(e.isDone){this._smoothScrolling.dispose(),this._smoothScrolling=null;return}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}}_setState(e,t){let n=this._state;n.equals(e)||(this._state=e,this._onScroll.fire(this._state.createScrollEvent(n,t)))}},ll=class{scrollLeft;scrollTop;isDone;constructor(e,t,n){this.scrollLeft=e,this.scrollTop=t,this.isDone=n}};function uu(i,e){let t=e-i;return function(n){return i+t*oT(n)}}function nT(i,e,t){return function(n){return n<t?i(n/t):e((n-t)/(1-t))}}var dl=class i{from;to;duration;startTime;animationFrameDisposable;scrollLeft;scrollTop;constructor(e,t,n,o){this.from=e,this.to=t,this.duration=o,this.startTime=n,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(e,t,n){if(Math.abs(e-t)>2.5*n){let r,s;return e<t?(r=e+.75*n,s=t-.75*n):(r=e-.75*n,s=t+.75*n),nT(uu(e,r),uu(s,t),.33)}return uu(e,t)}dispose(){this.animationFrameDisposable!==null&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(e){this.to=e.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(e){let t=(e-this.startTime)/this.duration;if(t<1){let n=this.scrollLeft(t),o=this.scrollTop(t);return new ll(n,o,!1)}return new ll(this.to.scrollLeft,this.to.scrollTop,!0)}combine(e,t,n){return i.start(e,t,n)}static start(e,t,n){n=n+10;let o=Date.now()-10;return new i(e,t,o,n)}};function iT(i){return Math.pow(i,3)}function oT(i){return 1-iT(1-i)}var cl=class extends V{_visibility;_visibleClassName;_invisibleClassName;_domNode;_rawShouldBeVisible;_shouldBeVisible;_isNeeded;_isVisible;_revealTimer;constructor(e,t,n){super(),this._visibility=e,this._visibleClassName=t,this._invisibleClassName=n,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new Tn)}setVisibility(e){this._visibility!==e&&(this._visibility=e,this._updateShouldBeVisible())}setShouldBeVisible(e){this._rawShouldBeVisible=e,this._updateShouldBeVisible()}_applyVisibilitySetting(){return this._visibility===2?!1:this._visibility===3?!0:this._rawShouldBeVisible}_updateShouldBeVisible(){let e=this._applyVisibilitySetting();this._shouldBeVisible!==e&&(this._shouldBeVisible=e,this.ensureVisibility())}setIsNeeded(e){this._isNeeded!==e&&(this._isNeeded=e,this.ensureVisibility())}setDomNode(e){this._domNode=e,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){if(!this._isNeeded){this._hide(!1);return}this._shouldBeVisible?this._reveal():this._hide(!0)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{this._domNode?.setClassName(this._visibleClassName)},0))}_hide(e){this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,this._domNode?.setClassName(this._invisibleClassName+(e?" fade":"")))}};var rT=140,lr=class extends _t{_host;_scrollable;_scrollByPage;_lazyRender;_scrollbarState;_visibilityController;_pointerMoveMonitor;domNode;slider;_shouldRender;constructor(e){super(),this._lazyRender=e.lazyRender,this._host=e.host,this._scrollable=e.scrollable,this._scrollByPage=e.scrollByPage,this._scrollbarState=e.scrollbarState,this._visibilityController=this._register(new cl(e.visibility,"visible scrollbar "+e.extraScrollbarClassName,"invisible scrollbar "+e.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._pointerMoveMonitor=this._register(new sr),this._shouldRender=!0,this.domNode=To(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this._register(Q(this.domNode.domNode,oe.POINTER_DOWN,t=>this._domNodePointerDown(t)))}_createArrow(e){let t=this._register(new al(e));this.domNode.domNode.appendChild(t.bgDomNode),this.domNode.domNode.appendChild(t.domNode)}_createSlider(e,t,n,o){this.slider=To(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(e),this.slider.setLeft(t),typeof n=="number"&&this.slider.setWidth(n),typeof o=="number"&&this.slider.setHeight(o),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this._register(Q(this.slider.domNode,oe.POINTER_DOWN,r=>{r.button===0&&(r.preventDefault(),this._sliderPointerDown(r))})),this.onclick(this.slider.domNode,r=>{r.leftButton&&r.stopPropagation()})}_onElementSize(e){return this._scrollbarState.setVisibleSize(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(e){return this._scrollbarState.setScrollSize(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(e){return this._scrollbarState.setScrollPosition(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){this._shouldRender&&(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodePointerDown(e){e.target===this.domNode.domNode&&this._onPointerDown(e)}delegatePointerDown(e){let t=this.domNode.domNode.getClientRects()[0].top,n=t+this._scrollbarState.getSliderPosition(),o=t+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),r=this._sliderPointerPosition(e);n<=r&&r<=o?e.button===0&&(e.preventDefault(),this._sliderPointerDown(e)):this._onPointerDown(e)}_onPointerDown(e){let t,n;if(e.target===this.domNode.domNode&&typeof e.offsetX=="number"&&typeof e.offsetY=="number")t=e.offsetX,n=e.offsetY;else{let r=el(this.domNode.domNode);t=e.pageX-r.left,n=e.pageY-r.top}let o=this._pointerDownRelativePosition(t,n);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(o):this._scrollbarState.getDesiredScrollPositionFromOffset(o)),e.button===0&&(e.preventDefault(),this._sliderPointerDown(e))}_sliderPointerDown(e){if(!e.target||!(e.target instanceof Element))return;let t=this._sliderPointerPosition(e),n=this._sliderOrthogonalPointerPosition(e),o=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._pointerMoveMonitor.startMonitoring(e.target,e.pointerId,e.buttons,r=>{let s=this._sliderOrthogonalPointerPosition(r),a=Math.abs(s-n);if(at&&a>rT){this._setDesiredScrollPositionNow(o.getScrollPosition());return}let d=this._sliderPointerPosition(r)-t;this._setDesiredScrollPositionNow(o.getDesiredScrollPositionFromDelta(d))},()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd()}),this._host.onDragStart()}_setDesiredScrollPositionNow(e){let t={};this.writeScrollPosition(t,e),this._scrollable.setScrollPositionNow(t)}updateScrollbarSize(e){this._updateScrollbarSize(e),this._scrollbarState.setScrollbarSize(e),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}};var ul=class extends lr{constructor(e,t,n){let o=e.getScrollDimensions(),r=e.getCurrentScrollPosition();if(super({lazyRender:t.lazyRender,host:n,scrollbarState:new ar(t.horizontalHasArrows?t.arrowSize:0,t.horizontal===2?0:t.horizontalScrollbarSize,t.vertical===2?0:t.verticalScrollbarSize,o.width,o.scrollWidth,r.scrollLeft),visibility:t.horizontal,extraScrollbarClassName:"horizontal",scrollable:e,scrollByPage:t.scrollByPage}),t.horizontalHasArrows){let s=(t.arrowSize-zi)/2,a=(t.horizontalScrollbarSize-zi)/2;this._createArrow({className:"scra",icon:_e.scrollbarButtonLeft,top:a,left:s,bottom:void 0,right:void 0,bgWidth:t.arrowSize,bgHeight:t.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new gn(null,1,0))}),this._createArrow({className:"scra",icon:_e.scrollbarButtonRight,top:a,left:void 0,bottom:void 0,right:s,bgWidth:t.arrowSize,bgHeight:t.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new gn(null,-1,0))})}this._createSlider(Math.floor((t.horizontalScrollbarSize-t.horizontalSliderSize)/2),0,void 0,t.horizontalSliderSize)}_updateSlider(e,t){this.slider.setWidth(e),this.slider.setLeft(t)}_renderDomNode(e,t){this.domNode.setWidth(e),this.domNode.setHeight(t),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(e){return this._shouldRender=this._onElementScrollSize(e.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(e.width)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(e,t){return e}_sliderPointerPosition(e){return e.pageX}_sliderOrthogonalPointerPosition(e){return e.pageY}_updateScrollbarSize(e){this.slider.setHeight(e)}writeScrollPosition(e,t){e.scrollLeft=t}updateOptions(e){this.updateScrollbarSize(e.horizontal===2?0:e.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(e.vertical===2?0:e.verticalScrollbarSize),this._visibilityController.setVisibility(e.horizontal),this._scrollByPage=e.scrollByPage}};var hl=class extends lr{constructor(e,t,n){let o=e.getScrollDimensions(),r=e.getCurrentScrollPosition();if(super({lazyRender:t.lazyRender,host:n,scrollbarState:new ar(t.verticalHasArrows?t.arrowSize:0,t.vertical===2?0:t.verticalScrollbarSize,0,o.height,o.scrollHeight,r.scrollTop),visibility:t.vertical,extraScrollbarClassName:"vertical",scrollable:e,scrollByPage:t.scrollByPage}),t.verticalHasArrows){let s=(t.arrowSize-zi)/2,a=(t.verticalScrollbarSize-zi)/2;this._createArrow({className:"scra",icon:_e.scrollbarButtonUp,top:s,left:a,bottom:void 0,right:void 0,bgWidth:t.verticalScrollbarSize,bgHeight:t.arrowSize,onActivate:()=>this._host.onMouseWheel(new gn(null,0,1))}),this._createArrow({className:"scra",icon:_e.scrollbarButtonDown,top:void 0,left:a,bottom:s,right:void 0,bgWidth:t.verticalScrollbarSize,bgHeight:t.arrowSize,onActivate:()=>this._host.onMouseWheel(new gn(null,0,-1))})}this._createSlider(0,Math.floor((t.verticalScrollbarSize-t.verticalSliderSize)/2),t.verticalSliderSize,void 0)}_updateSlider(e,t){this.slider.setHeight(e),this.slider.setTop(t)}_renderDomNode(e,t){this.domNode.setWidth(t),this.domNode.setHeight(e),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(e){return this._shouldRender=this._onElementScrollSize(e.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(e.height)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(e,t){return t}_sliderPointerPosition(e){return e.pageY}_sliderOrthogonalPointerPosition(e){return e.pageX}_updateScrollbarSize(e){this.slider.setWidth(e)}writeScrollPosition(e,t){e.scrollTop=t}updateOptions(e){this.updateScrollbarSize(e.vertical===2?0:e.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(e.vertical),this._scrollByPage=e.scrollByPage}};var sT=500,Af=50,Mf=!0,pu=class{timestamp;deltaX;deltaY;score;constructor(e,t,n){this.timestamp=e,this.deltaX=t,this.deltaY=n,this.score=0}},mu=class i{static INSTANCE=new i;_capacity;_memory;_front;_rear;constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(this._front===-1&&this._rear===-1)return!1;let e=1,t=0,n=1,o=this._rear;do{let r=o===this._front?e:Math.pow(2,-n);if(e-=r,t+=this._memory[o].score*r,o===this._front)break;o=(this._capacity+o-1)%this._capacity,n++}while(!0);return t<=.5}acceptStandardWheelEvent(e){if(ss){let t=ge(e.browserEvent),n=km(t);this.accept(Date.now(),e.deltaX*n,e.deltaY*n)}else this.accept(Date.now(),e.deltaX,e.deltaY)}accept(e,t,n){let o=null,r=new pu(e,t,n);this._front===-1&&this._rear===-1?(this._memory[0]=r,this._front=0,this._rear=0):(o=this._memory[this._rear],this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=r),r.score=this._computeScore(r,o)}_computeScore(e,t){if(Math.abs(e.deltaX)>0&&Math.abs(e.deltaY)>0)return 1;let n=.5;if((!this._isAlmostInt(e.deltaX)||!this._isAlmostInt(e.deltaY))&&(n+=.25),t){let o=Math.abs(e.deltaX),r=Math.abs(e.deltaY),s=Math.abs(t.deltaX),a=Math.abs(t.deltaY),l=Math.max(Math.min(o,s),1),d=Math.max(Math.min(r,a),1),u=Math.max(o,s),h=Math.max(r,a);u%l===0&&h%d===0&&(n-=.5)}return Math.min(Math.max(n,0),1)}_isAlmostInt(e){return Math.abs(Math.round(e)-e)<.01}},pl=class extends _t{_options;_scrollable;_verticalScrollbar;_horizontalScrollbar;_domNode;_leftShadowDomNode;_topShadowDomNode;_topLeftShadowDomNode;_listenOnDomNode;_mouseWheelToDispose;_isDragging;_mouseIsOver;_hideTimeout;_shouldRender;_revealOnScroll;_onScroll=this._register(new k);onScroll=this._onScroll.event;_onWillScroll=this._register(new k);onWillScroll=this._onWillScroll.event;get options(){return this._options}constructor(e,t,n){super(),e.style.overflow="hidden",this._options=aT(t),this._scrollable=n,this._register(this._scrollable.onScroll(r=>{this._onWillScroll.fire(r),this._onDidScroll(r),this._onScroll.fire(r)}));let o={onMouseWheel:r=>this._onMouseWheel(r),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new hl(this._scrollable,this._options,o)),this._horizontalScrollbar=this._register(new ul(this._scrollable,this._options,o)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(e),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=To(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=To(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=To(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,r=>this._onMouseOver(r)),this.onmouseleave(this._listenOnDomNode,r=>this._onMouseLeave(r)),this._hideTimeout=this._register(new Tn),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}dispose(){this._mouseWheelToDispose=je(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarPointerDown(e){this._verticalScrollbar.delegatePointerDown(e)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(e){this._scrollable.setScrollDimensions(e,!1)}updateClassName(e){this._options.className=e,ke&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(e){typeof e.handleMouseWheel<"u"&&(this._options.handleMouseWheel=e.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),typeof e.mouseWheelScrollSensitivity<"u"&&(this._options.mouseWheelScrollSensitivity=e.mouseWheelScrollSensitivity),typeof e.fastScrollSensitivity<"u"&&(this._options.fastScrollSensitivity=e.fastScrollSensitivity),typeof e.scrollPredominantAxis<"u"&&(this._options.scrollPredominantAxis=e.scrollPredominantAxis),typeof e.horizontal<"u"&&(this._options.horizontal=e.horizontal),typeof e.vertical<"u"&&(this._options.vertical=e.vertical),typeof e.horizontalScrollbarSize<"u"&&(this._options.horizontalScrollbarSize=e.horizontalScrollbarSize),typeof e.verticalScrollbarSize<"u"&&(this._options.verticalScrollbarSize=e.verticalScrollbarSize),typeof e.scrollByPage<"u"&&(this._options.scrollByPage=e.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}setRevealOnScroll(e){this._revealOnScroll=e}delegateScrollFromMouseWheelEvent(e){this._onMouseWheel(new gn(e))}_setListeningToMouseWheel(e){if(this._mouseWheelToDispose.length>0!==e&&(this._mouseWheelToDispose=je(this._mouseWheelToDispose),e)){let n=o=>{this._onMouseWheel(new gn(o))};this._mouseWheelToDispose.push(Q(this._listenOnDomNode,oe.MOUSE_WHEEL,n,{passive:!1}))}}_onMouseWheel(e){if(e.browserEvent?.defaultPrevented)return;let t=mu.INSTANCE;Mf&&t.acceptStandardWheelEvent(e);let n=!1;if(e.deltaY||e.deltaX){let r=e.deltaY*this._options.mouseWheelScrollSensitivity,s=e.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(this._options.scrollYToX&&s+r===0?s=r=0:Math.abs(r)>=Math.abs(s)?s=0:r=0),this._options.flipAxes&&([r,s]=[s,r]);let a=!ke&&e.browserEvent&&e.browserEvent.shiftKey;(this._options.scrollYToX||a)&&!s&&(s=r,r=0),e.browserEvent&&e.browserEvent.altKey&&(s=s*this._options.fastScrollSensitivity,r=r*this._options.fastScrollSensitivity);let l=this._scrollable.getFutureScrollPosition(),d={};if(r){let u=Af*r,h=l.scrollTop-(u<0?Math.floor(u):Math.ceil(u));this._verticalScrollbar.writeScrollPosition(d,h)}if(s){let u=Af*s,h=l.scrollLeft-(u<0?Math.floor(u):Math.ceil(u));this._horizontalScrollbar.writeScrollPosition(d,h)}d=this._scrollable.validateScrollPosition(d),(l.scrollLeft!==d.scrollLeft||l.scrollTop!==d.scrollTop)&&(Mf&&this._options.mouseWheelSmoothScroll&&t.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(d):this._scrollable.setScrollPositionNow(d),n=!0)}let o=n;!o&&this._options.alwaysConsumeMouseWheel&&(o=!0),!o&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(o=!0),o&&(e.preventDefault(),e.stopPropagation())}_onDidScroll(e){this._shouldRender=this._horizontalScrollbar.onDidScroll(e)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(e)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){let e=this._scrollable.getCurrentScrollPosition(),t=e.scrollTop>0,n=e.scrollLeft>0,o=n?" left":"",r=t?" top":"",s=n||t?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${o}`),this._topShadowDomNode.setClassName(`shadow${r}`),this._topLeftShadowDomNode.setClassName(`shadow${s}${r}${o}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseLeave(e){this._mouseIsOver=!1,this._hide()}_onMouseOver(e){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){!this._mouseIsOver&&!this._isDragging&&(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){!this._mouseIsOver&&!this._isDragging&&this._hideTimeout.cancelAndSet(()=>this._hide(),sT)}},ml=class extends pl{constructor(e,t){t=t||{},t.mouseWheelSmoothScroll=!1;let n=new Ui({forceIntegerValues:!0,smoothScrollDuration:0,scheduleAtNextAnimationFrame:o=>Jt(ge(e),o)});super(e,t,n),this._register(n)}setScrollPosition(e){this._scrollable.setScrollPositionNow(e)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}},dr=class extends pl{constructor(e,t,n){super(e,t,n)}setScrollPosition(e){e.reuseAnimation?this._scrollable.setScrollPositionSmooth(e,e.reuseAnimation):this._scrollable.setScrollPositionNow(e)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}};function aT(i){let e={lazyRender:typeof i.lazyRender<"u"?i.lazyRender:!1,className:typeof i.className<"u"?i.className:"",useShadows:typeof i.useShadows<"u"?i.useShadows:!0,handleMouseWheel:typeof i.handleMouseWheel<"u"?i.handleMouseWheel:!0,flipAxes:typeof i.flipAxes<"u"?i.flipAxes:!1,consumeMouseWheelIfScrollbarIsNeeded:typeof i.consumeMouseWheelIfScrollbarIsNeeded<"u"?i.consumeMouseWheelIfScrollbarIsNeeded:!1,alwaysConsumeMouseWheel:typeof i.alwaysConsumeMouseWheel<"u"?i.alwaysConsumeMouseWheel:!1,scrollYToX:typeof i.scrollYToX<"u"?i.scrollYToX:!1,mouseWheelScrollSensitivity:typeof i.mouseWheelScrollSensitivity<"u"?i.mouseWheelScrollSensitivity:1,fastScrollSensitivity:typeof i.fastScrollSensitivity<"u"?i.fastScrollSensitivity:5,scrollPredominantAxis:typeof i.scrollPredominantAxis<"u"?i.scrollPredominantAxis:!0,mouseWheelSmoothScroll:typeof i.mouseWheelSmoothScroll<"u"?i.mouseWheelSmoothScroll:!0,arrowSize:typeof i.arrowSize<"u"?i.arrowSize:11,listenOnDomNode:typeof i.listenOnDomNode<"u"?i.listenOnDomNode:null,horizontal:typeof i.horizontal<"u"?i.horizontal:1,horizontalScrollbarSize:typeof i.horizontalScrollbarSize<"u"?i.horizontalScrollbarSize:10,horizontalSliderSize:typeof i.horizontalSliderSize<"u"?i.horizontalSliderSize:0,horizontalHasArrows:typeof i.horizontalHasArrows<"u"?i.horizontalHasArrows:!1,vertical:typeof i.vertical<"u"?i.vertical:1,verticalScrollbarSize:typeof i.verticalScrollbarSize<"u"?i.verticalScrollbarSize:10,verticalHasArrows:typeof i.verticalHasArrows<"u"?i.verticalHasArrows:!1,verticalSliderSize:typeof i.verticalSliderSize<"u"?i.verticalSliderSize:0,scrollByPage:typeof i.scrollByPage<"u"?i.scrollByPage:!1};return e.horizontalSliderSize=typeof i.horizontalSliderSize<"u"?i.horizontalSliderSize:e.horizontalScrollbarSize,e.verticalSliderSize=typeof i.verticalSliderSize<"u"?i.verticalSliderSize:e.verticalScrollbarSize,ke&&(e.className+=" mac"),e}var p2=new Uint32Array(10);var m2=new Uint8Array([114,82,115,101,69,102,97,113,81,116,84,100,119,87,99,122,120,118,103]),f2=new Uint16Array([107,111,105,79,106,112,117,80,104,27496,28520,27752,121,110,27246,28782,27758,98,109,27757,108]),g2=new Uint16Array([114,82,29810,115,30579,26483,101,102,29286,24934,29030,29798,30822,30310,26470,97,113,29809,116,84,100,119,99,122,120,118,103]),b2=new Uint16Array([114,82,29810,115,30579,26483,101,69,102,29286,24934,29030,29798,30822,30310,26470,97,113,81,29809,116,84,100,119,87,99,122,120,118,103,107,111,105,79,106,112,117,80,104,27496,28520,27752,121,110,27246,28782,27758,98,109,27757,108]);function Ff(...i){return function(e,t){for(let n=0,o=i.length;n<o;n++){let r=i[n](e,t);if(r)return r}return null}}var S2=Pf.bind(void 0,!1),cr=Pf.bind(void 0,!0);function Pf(i,e,t){if(!t||t.length<e.length)return null;let n;return i?n=nr(t,e):n=t.indexOf(e)===0,n?e.length>0?[{start:0,end:e.length}]:[]:null}function lT(i,e){let t=e.toLowerCase().indexOf(i.toLowerCase());return t===-1?null:[{start:t,end:t+i.length}]}function dT(i,e){return gu(i.toLowerCase(),e.toLowerCase(),0,0)}function gu(i,e,t,n){if(t===i.length)return[];if(n===e.length)return null;if(i[t]===e[n]){let o=null;return(o=gu(i,e,t+1,n+1))?Hf({start:n,end:n+1},o):null}return gu(i,e,t,n+1)}function Tu(i){return 97<=i&&i<=122}function Ts(i){return 65<=i&&i<=90}function Iu(i){return 48<=i&&i<=57}function cT(i){return i===32||i===9||i===10||i===13}var uT=new Set;"()[]{}<>`'\"-/;:,.?!".split("").forEach(i=>uT.add(i.charCodeAt(0)));function Bf(i){return Tu(i)||Ts(i)||Iu(i)}function Hf(i,e){return e.length===0?e=[i]:i.end===e[0].start?e[0].start=i.start:e.unshift(i),e}function Kf(i,e){for(let t=e;t<i.length;t++){let n=i.charCodeAt(t);if(Ts(n)||Iu(n)||t>0&&!Bf(i.charCodeAt(t-1)))return t}return i.length}function bu(i,e,t,n){if(t===i.length)return[];if(n===e.length)return null;if(i[t]!==e[n].toLowerCase())return null;{let o=null,r=n+1;for(o=bu(i,e,t+1,n+1);!o&&(r=Kf(e,r))<e.length;)o=bu(i,e,t+1,r),r++;return o===null?null:Hf({start:n,end:n+1},o)}}function hT(i){let e=0,t=0,n=0,o=0,r=0;for(let u=0;u<i.length;u++)r=i.charCodeAt(u),Ts(r)&&e++,Tu(r)&&t++,Bf(r)&&n++,Iu(r)&&o++;let s=e/i.length,a=t/i.length,l=n/i.length,d=o/i.length;return{upperPercent:s,lowerPercent:a,alphaPercent:l,numericPercent:d}}function pT(i){let{upperPercent:e,lowerPercent:t}=i;return t===0&&e>.6}function mT(i){let{upperPercent:e,lowerPercent:t,alphaPercent:n,numericPercent:o}=i;return t>.2&&e<.8&&n>.6&&o<.2}function fT(i){let e=0,t=0,n=0,o=0;for(let r=0;r<i.length;r++)n=i.charCodeAt(r),Ts(n)&&e++,Tu(n)&&t++,cT(n)&&o++;return(e===0||t===0)&&o===0?i.length<=30:e<=5}function zf(i,e){if(!e||(e=e.trim(),e.length===0)||!fT(i))return null;e.length>60&&(e=e.substring(0,60));let t=hT(e);if(!mT(t)){if(!pT(t))return null;e=e.toLowerCase()}let n=null,o=0;for(i=i.toLowerCase();o<e.length&&(n=bu(i,e,0,o))===null;)o=Kf(e,o+1);return n}var gT=Ff(cr,zf,lT),bT=Ff(cr,zf,dT),Of=new Ia(1e4);function xu(i,e,t=!1){if(typeof i!="string"||typeof e!="string")return null;let n=Of.get(i);n||(n=new RegExp(Fm(i),"i"),Of.set(i,n));let o=n.exec(e);return o?[{start:o.index,end:o.index+o[0].length}]:t?bT(i,e):gT(i,e)}function Uf(i,e){let t=bl(i,i.toLowerCase(),0,e,e.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});return t?Vf(t):null}function Vf(i){if(typeof i>"u")return[];let e=[],t=i[1];for(let n=i.length-1;n>1;n--){let o=i[n]+t,r=e[e.length-1];r&&r.end===o?r.end=o+1:e.push({start:o,end:o+1})}return e}var Wi=128;function Su(){let i=[],e=[];for(let t=0;t<=Wi;t++)e[t]=0;for(let t=0;t<=Wi;t++)i.push(e.slice(0));return i}function Wf(i){let e=[];for(let t=0;t<=i;t++)e[t]=0;return e}var $f=Wf(2*Wi),vu=Wf(2*Wi),$n=Su(),Vi=Su(),ys=Su(),vT=!1;function fu(i,e,t,n,o){function r(a,l,d=" "){for(;a.length<l;)a=d+a;return a}let s=` |   |${n.split("").map(a=>r(a,3)).join("|")}
`;for(let a=0;a<=t;a++)a===0?s+=" |":s+=`${e[a-1]}|`,s+=i[a].slice(0,o+1).map(l=>r(l.toString(),3)).join("|")+`
`;return s}function yT(i,e,t,n){i=i.substr(e),t=t.substr(n),console.log(fu(Vi,i,i.length,t,t.length)),console.log(fu(ys,i,i.length,t,t.length)),console.log(fu($n,i,i.length,t,t.length))}function fl(i,e){if(e<0||e>=i.length)return!1;let t=i.codePointAt(e);switch(t){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 62:case 40:case 41:case 91:case 93:case 123:case 125:return!0;case void 0:return!1;default:return!!Km(t)}}function Rf(i,e){if(e<0||e>=i.length)return!1;switch(i.charCodeAt(e)){case 32:case 9:return!0;default:return!1}}function gl(i,e,t){return e[i]!==t[i]}function TT(i,e,t,n,o,r,s=!1){for(;e<t&&o<r;)i[e]===n[o]&&(s&&($f[e]=o),e+=1),o+=1;return e===t}var Io;(t=>{t.Default=[-100,0];function e(n){return!n||n.length===2&&n[0]===-100&&n[1]===0}t.isDefault=e})(Io||={});var yu=class{constructor(e,t){this.firstMatchCanBeWeak=e;this.boostFullMatch=t}static default={boostFullMatch:!0,firstMatchCanBeWeak:!1}};function bl(i,e,t,n,o,r,s=yu.default){let a=i.length>Wi?Wi:i.length,l=n.length>Wi?Wi:n.length;if(t>=a||r>=l||a-t>l-r||!TT(e,t,a,o,r,l,!0))return;IT(a,l,t,r,e,o);let d=1,u=1,h=t,f=r,T=[!1];for(d=1,h=t;h<a;d++,h++){let O=$f[h],U=vu[h],R=h+1<a?vu[h+1]:l;for(u=O-r+1,f=O;f<R;u++,f++){let L=Number.MIN_SAFE_INTEGER,H=!1;f<=U&&(L=xT(i,e,h,t,n,o,f,l,r,$n[d-1][u-1]===0,T));let B=0;L!==Number.MAX_SAFE_INTEGER&&(H=!0,B=L+Vi[d-1][u-1]);let M=f>O,te=M?Vi[d][u-1]+($n[d][u-1]>0?-5:0):0,Ie=f>O+1&&$n[d][u-1]>0,pe=Ie?Vi[d][u-2]+($n[d][u-2]>0?-5:0):0;if(Ie&&(!M||pe>=te)&&(!H||pe>=B))Vi[d][u]=pe,ys[d][u]=3,$n[d][u]=0;else if(M&&(!H||te>=B))Vi[d][u]=te,ys[d][u]=2,$n[d][u]=0;else if(H)Vi[d][u]=B,ys[d][u]=1,$n[d][u]=$n[d-1][u-1]+1;else throw new Error("not possible")}}if(vT&&yT(i,t,n,r),!T[0]&&!s.firstMatchCanBeWeak)return;d--,u--;let w=[Vi[d][u],r],v=0,E=0;for(;d>=1;){let O=u;do{let U=ys[d][O];if(U===3)O=O-2;else if(U===2)O=O-1;else break}while(O>=1);v>1&&e[t+d-1]===o[r+u-1]&&!gl(O+r-1,n,o)&&v+1>$n[d][O]&&(O=u),O===u?v++:v=1,E||(E=O),d--,u=O-1,w.push(u)}l-r===a&&s.boostFullMatch&&(w[0]+=2);let P=E-a;return w[0]-=P,w}function IT(i,e,t,n,o,r){let s=i-1,a=e-1;for(;s>=t&&a>=n;)o[s]===r[a]&&(vu[s]=a,s--),a--}function xT(i,e,t,n,o,r,s,a,l,d,u){if(e[t]!==r[s])return Number.MIN_SAFE_INTEGER;let h=1,f=!1;return s===t-n?h=i[t]===o[s]?7:5:gl(s,o,r)&&(s===0||!gl(s-1,o,r))?(h=i[t]===o[s]?7:5,f=!0):fl(r,s)&&(s===0||!fl(r,s-1))?h=5:(fl(r,s-1)||Rf(r,s-1))&&(h=5,f=!0),h>1&&t===n&&(u[0]=!0),f||(f=gl(s,o,r)||fl(r,s-1)||Rf(r,s-1)),t===n?s>l&&(h-=f?3:5):d?h+=f?2:0:h+=f?0:1,s+1===a&&(h-=f?3:5),h}var ST="$(",Eu=new RegExp(`\\$\\(${Se.iconNameExpression}(?:${Se.iconModifierExpression})?\\)`,"g"),C2=new RegExp(`(\\\\)?${Eu.source}`,"g");var L2=new RegExp(`\\\\${Eu.source}`,"g");var wT=new RegExp(`(\\s)?(\\\\)?${Eu.source}(\\s)?`,"g");function Du(i){return i.indexOf(ST)===-1?i:i.replace(wT,(e,t,n,o)=>n?e:t||o||"")}function qf(i){return i?i.replace(/\$\((.*?)\)/g,(e,t)=>` ${t} `).trim():""}var wu=new RegExp(`\\$\\(${Se.iconNameCharacter}+\\)`,"g");function ur(i){wu.lastIndex=0;let e="",t=[],n=0;for(;;){let o=wu.lastIndex,r=wu.exec(i),s=i.substring(o,r?.index);if(s.length>0){e+=s;for(let a=0;a<s.length;a++)t.push(n)}if(!r)break;n+=r[0].length}return{text:e,iconOffsets:t}}function vl(i,e,t=!1){let{text:n,iconOffsets:o}=e;if(!o||o.length===0)return xu(i,n,t);let r=ds(n," "),s=n.length-r.length,a=xu(i,r,t);if(a)for(let l of a){let d=o[l.start+s]+s;l.start+=d,l.end+=d}return a}function Is(i){return i.replace(/"/g,"&quot;")}function yl(i){return i&&i.replace(/\\([\\`*_{}[\]()#+\-.!~])/g,"$1")}function Gf(i){let e=[],t=i.split("|").map(o=>o.trim());i=t[0];let n=t[1];if(n){let o=/height=(\d+)/.exec(n),r=/width=(\d+)/.exec(n),s=o?o[1]:"",a=r?r[1]:"",l=isFinite(parseInt(a)),d=isFinite(parseInt(s));l&&e.push(`width="${a}"`),d&&e.push(`height="${s}"`)}return{href:i,dimensions:e}}var ET=()=>({get delay(){return-1},dispose:()=>{},showHover:()=>{}}),ku=ET,DT=new ct(()=>ku("mouse",!1)),kT=new ct(()=>ku("element",!1));function Qe(i){return i==="element"?kT.value:DT.value}function xo(){return ku("element",!0)}function jf(i,e={}){let t=Lu(e);return t.textContent=i,t}function Qf(i,e={}){let t=Lu(e);return Yf(t,_T(i,!!e.renderCodeSegments),e.actionHandler,e.renderCodeSegments),t}function Lu(i){let e=i.inline?"span":"div",t=document.createElement(e);return i.className&&(t.className=i.className),t}var _u=class{source;index;constructor(e){this.source=e,this.index=0}eos(){return this.index>=this.source.length}next(){let e=this.peek();return this.advance(),e}peek(){return this.source[this.index]}advance(){this.index++}};function Yf(i,e,t,n){let o;if(e.type===2)o=document.createTextNode(e.content||"");else if(e.type===3)o=document.createElement("b");else if(e.type===4)o=document.createElement("i");else if(e.type===7&&n)o=document.createElement("code");else if(e.type===5&&t){let r=document.createElement("a");t.disposables.add(Rt(r,"click",s=>{t.callback(String(e.index),s)})),o=r}else e.type===8?o=document.createElement("br"):e.type===1&&(o=i);o&&i!==o&&i.appendChild(o),o&&Array.isArray(e.children)&&e.children.forEach(r=>{Yf(o,r,t,n)})}function _T(i,e){let t={type:1,children:[]},n=0,o=t,r=[],s=new _u(i);for(;!s.eos();){let a=s.next(),l=a==="\\"&&Cu(s.peek(),e)!==0;if(l&&(a=s.next()),!l&&CT(a,e)&&a===s.peek()){s.advance(),o.type===2&&(o=r.pop());let d=Cu(a,e);if(o.type===d||o.type===5&&d===6)o=r.pop();else{let u={type:d,children:[]};d===5&&(u.index=n,n++),o.children.push(u),r.push(o),o=u}}else if(a===`
`)o.type===2&&(o=r.pop()),o.children.push({type:8});else if(o.type!==2){let d={type:2,content:a};o.children.push(d),r.push(o),o=d}else o.content+=a}return o.type===2&&(o=r.pop()),r.length,t}function CT(i,e){return Cu(i,e)!==0}function Cu(i,e){switch(i){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return e?7:0;default:return 0}}var re=class{emitter;get event(){return this.emitter.event}constructor(e,t,n){let o=r=>this.emitter.fire(r);this.emitter=new k({onWillAddFirstListener:()=>e.addEventListener(t,o,n),onDidRemoveLastListener:()=>e.removeEventListener(t,o,n)})}dispose(){this.emitter.dispose()}};var Xf=2e4,eg,Au,Jf,Mu,Zf;function $i(i){eg&&(Au.textContent!==i?(yt(Jf),Tl(Au,i)):(yt(Au),Tl(Jf,i)))}function Nu(i){eg&&(Mu.textContent!==i?(yt(Zf),Tl(Mu,i)):(yt(Mu),Tl(Zf,i)))}function Tl(i,e){yt(i),e.length>Xf&&(e=e.substr(0,Xf)),i.textContent=e,i.style.visibility="hidden",i.style.visibility="visible"}var Il=class{constructor(e){this.spliceables=e}splice(e,t,n){this.spliceables.forEach(o=>o.splice(e,t,n))}};function Gi(i,e){let t=Math.pow(10,e);return Math.round(i*t)/t}var be=class{_rgbaBrand=void 0;r;g;b;a;constructor(e,t,n,o=1){this.r=Math.min(255,Math.max(0,e))|0,this.g=Math.min(255,Math.max(0,t))|0,this.b=Math.min(255,Math.max(0,n))|0,this.a=Gi(Math.max(Math.min(1,o),0),3)}static equals(e,t){return e.r===t.r&&e.g===t.g&&e.b===t.b&&e.a===t.a}},qi=class i{_hslaBrand=void 0;h;s;l;a;constructor(e,t,n,o){this.h=Math.max(Math.min(360,e),0)|0,this.s=Gi(Math.max(Math.min(1,t),0),3),this.l=Gi(Math.max(Math.min(1,n),0),3),this.a=Gi(Math.max(Math.min(1,o),0),3)}static equals(e,t){return e.h===t.h&&e.s===t.s&&e.l===t.l&&e.a===t.a}static fromRGBA(e){let t=e.r/255,n=e.g/255,o=e.b/255,r=e.a,s=Math.max(t,n,o),a=Math.min(t,n,o),l=0,d=0,u=(a+s)/2,h=s-a;if(h>0){switch(d=Math.min(u<=.5?h/(2*u):h/(2-2*u),1),s){case t:l=(n-o)/h+(n<o?6:0);break;case n:l=(o-t)/h+2;break;case o:l=(t-n)/h+4;break}l*=60,l=Math.round(l)}return new i(l,d,u,r)}static _hue2rgb(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}static toRGBA(e){let t=e.h/360,{s:n,l:o,a:r}=e,s,a,l;if(n===0)s=a=l=o;else{let d=o<.5?o*(1+n):o+n-o*n,u=2*o-d;s=i._hue2rgb(u,d,t+1/3),a=i._hue2rgb(u,d,t),l=i._hue2rgb(u,d,t-1/3)}return new be(Math.round(s*255),Math.round(a*255),Math.round(l*255),r)}},hr=class i{_hsvaBrand=void 0;h;s;v;a;constructor(e,t,n,o){this.h=Math.max(Math.min(360,e),0)|0,this.s=Gi(Math.max(Math.min(1,t),0),3),this.v=Gi(Math.max(Math.min(1,n),0),3),this.a=Gi(Math.max(Math.min(1,o),0),3)}static equals(e,t){return e.h===t.h&&e.s===t.s&&e.v===t.v&&e.a===t.a}static fromRGBA(e){let t=e.r/255,n=e.g/255,o=e.b/255,r=Math.max(t,n,o),s=Math.min(t,n,o),a=r-s,l=r===0?0:a/r,d;return a===0?d=0:r===t?d=((n-o)/a%6+6)%6:r===n?d=(o-t)/a+2:d=(t-n)/a+4,new i(Math.round(d*60),l,r,e.a)}static toRGBA(e){let{h:t,s:n,v:o,a:r}=e,s=o*n,a=s*(1-Math.abs(t/60%2-1)),l=o-s,[d,u,h]=[0,0,0];return t<60?(d=s,u=a):t<120?(d=a,u=s):t<180?(u=s,h=a):t<240?(u=a,h=s):t<300?(d=a,h=s):t<=360&&(d=s,h=a),d=Math.round((d+l)*255),u=Math.round((u+l)*255),h=Math.round((h+l)*255),new be(d,u,h,r)}},A=class i{static fromHex(e){return i.Format.CSS.parseHex(e)||i.red}static equals(e,t){return!e&&!t?!0:!e||!t?!1:e.equals(t)}rgba;_hsla;get hsla(){return this._hsla?this._hsla:qi.fromRGBA(this.rgba)}_hsva;get hsva(){return this._hsva?this._hsva:hr.fromRGBA(this.rgba)}constructor(e){if(e)if(e instanceof be)this.rgba=e;else if(e instanceof qi)this._hsla=e,this.rgba=qi.toRGBA(e);else if(e instanceof hr)this._hsva=e,this.rgba=hr.toRGBA(e);else throw new Error("Invalid color ctor argument");else throw new Error("Color needs a value")}equals(e){return!!e&&be.equals(this.rgba,e.rgba)&&qi.equals(this.hsla,e.hsla)&&hr.equals(this.hsva,e.hsva)}getRelativeLuminance(){let e=i._relativeLuminanceForComponent(this.rgba.r),t=i._relativeLuminanceForComponent(this.rgba.g),n=i._relativeLuminanceForComponent(this.rgba.b),o=.2126*e+.7152*t+.0722*n;return Gi(o,4)}static _relativeLuminanceForComponent(e){let t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}getContrastRatio(e){let t=this.getRelativeLuminance(),n=e.getRelativeLuminance();return t>n?(t+.05)/(n+.05):(n+.05)/(t+.05)}isDarker(){return(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3<128}isLighter(){return(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3>=128}isLighterThan(e){let t=this.getRelativeLuminance(),n=e.getRelativeLuminance();return t>n}isDarkerThan(e){let t=this.getRelativeLuminance(),n=e.getRelativeLuminance();return t<n}lighten(e){return new i(new qi(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*e,this.hsla.a))}darken(e){return new i(new qi(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*e,this.hsla.a))}transparent(e){let{r:t,g:n,b:o,a:r}=this.rgba;return new i(new be(t,n,o,r*e))}isTransparent(){return this.rgba.a===0}isOpaque(){return this.rgba.a===1}opposite(){return new i(new be(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}blend(e){let t=e.rgba,n=this.rgba.a,o=t.a,r=n+o*(1-n);if(r<1e-6)return i.transparent;let s=this.rgba.r*n/r+t.r*o*(1-n)/r,a=this.rgba.g*n/r+t.g*o*(1-n)/r,l=this.rgba.b*n/r+t.b*o*(1-n)/r;return new i(new be(s,a,l,r))}makeOpaque(e){if(this.isOpaque()||e.rgba.a!==1)return this;let{r:t,g:n,b:o,a:r}=this.rgba;return new i(new be(e.rgba.r-r*(e.rgba.r-t),e.rgba.g-r*(e.rgba.g-n),e.rgba.b-r*(e.rgba.b-o),1))}flatten(...e){let t=e.reduceRight((n,o)=>i._flatten(o,n));return i._flatten(this,t)}static _flatten(e,t){let n=1-e.rgba.a;return new i(new be(n*t.rgba.r+e.rgba.a*e.rgba.r,n*t.rgba.g+e.rgba.a*e.rgba.g,n*t.rgba.b+e.rgba.a*e.rgba.b))}_toString;toString(){return this._toString||(this._toString=i.Format.CSS.format(this)),this._toString}static getLighterColor(e,t,n){if(e.isLighterThan(t))return e;n=n||.5;let o=e.getRelativeLuminance(),r=t.getRelativeLuminance();return n=n*(r-o)/r,e.lighten(n)}static getDarkerColor(e,t,n){if(e.isDarkerThan(t))return e;n=n||.5;let o=e.getRelativeLuminance(),r=t.getRelativeLuminance();return n=n*(o-r)/o,e.darken(n)}static white=new i(new be(255,255,255,1));static black=new i(new be(0,0,0,1));static red=new i(new be(255,0,0,1));static blue=new i(new be(0,0,255,1));static green=new i(new be(0,255,0,1));static cyan=new i(new be(0,255,255,1));static lightgrey=new i(new be(211,211,211,1));static transparent=new i(new be(0,0,0,0))};(e=>{let i;(n=>{let t;(w=>{function o(v){return v.rgba.a===1?`rgb(${v.rgba.r}, ${v.rgba.g}, ${v.rgba.b})`:e.Format.CSS.formatRGBA(v)}w.formatRGB=o;function r(v){return`rgba(${v.rgba.r}, ${v.rgba.g}, ${v.rgba.b}, ${+v.rgba.a.toFixed(2)})`}w.formatRGBA=r;function s(v){return v.hsla.a===1?`hsl(${v.hsla.h}, ${(v.hsla.s*100).toFixed(2)}%, ${(v.hsla.l*100).toFixed(2)}%)`:e.Format.CSS.formatHSLA(v)}w.formatHSL=s;function a(v){return`hsla(${v.hsla.h}, ${(v.hsla.s*100).toFixed(2)}%, ${(v.hsla.l*100).toFixed(2)}%, ${v.hsla.a.toFixed(2)})`}w.formatHSLA=a;function l(v){let E=v.toString(16);return E.length!==2?"0"+E:E}function d(v){return`#${l(v.rgba.r)}${l(v.rgba.g)}${l(v.rgba.b)}`}w.formatHex=d;function u(v,E=!1){return E&&v.rgba.a===1?e.Format.CSS.formatHex(v):`#${l(v.rgba.r)}${l(v.rgba.g)}${l(v.rgba.b)}${l(Math.round(v.rgba.a*255))}`}w.formatHexA=u;function h(v){return v.isOpaque()?e.Format.CSS.formatHex(v):e.Format.CSS.formatRGBA(v)}w.format=h;function f(v){let E=v.length;if(E===0||v.charCodeAt(0)!==35)return null;if(E===7){let P=16*T(v.charCodeAt(1))+T(v.charCodeAt(2)),O=16*T(v.charCodeAt(3))+T(v.charCodeAt(4)),U=16*T(v.charCodeAt(5))+T(v.charCodeAt(6));return new e(new be(P,O,U,1))}if(E===9){let P=16*T(v.charCodeAt(1))+T(v.charCodeAt(2)),O=16*T(v.charCodeAt(3))+T(v.charCodeAt(4)),U=16*T(v.charCodeAt(5))+T(v.charCodeAt(6)),R=16*T(v.charCodeAt(7))+T(v.charCodeAt(8));return new e(new be(P,O,U,R/255))}if(E===4){let P=T(v.charCodeAt(1)),O=T(v.charCodeAt(2)),U=T(v.charCodeAt(3));return new e(new be(16*P+P,16*O+O,16*U+U))}if(E===5){let P=T(v.charCodeAt(1)),O=T(v.charCodeAt(2)),U=T(v.charCodeAt(3)),R=T(v.charCodeAt(4));return new e(new be(16*P+P,16*O+O,16*U+U,(16*R+R)/255))}return null}w.parseHex=f;function T(v){switch(v){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:return 10;case 65:return 10;case 98:return 11;case 66:return 11;case 99:return 12;case 67:return 12;case 100:return 13;case 68:return 13;case 101:return 14;case 69:return 14;case 102:return 15;case 70:return 15}return 0}})(t=n.CSS||={})})(i=e.Format||={})})(A||={});function tg(i,e){let t=[];for(let n of e){if(i.start>=n.range.end)continue;if(i.end<n.range.start)break;let o=ut.intersect(i,n.range);ut.isEmpty(o)||t.push({range:o,size:n.size})}return t}function Sl({start:i,end:e},t){return{start:i+t,end:e+t}}function AT(i){let e=[],t=null;for(let n of i){let o=n.range.start,r=n.range.end,s=n.size;if(t&&s===t.size){t.range.end=r;continue}t={range:{start:o,end:r},size:s},e.push(t)}return e}function MT(...i){return AT(i.reduce((e,t)=>e.concat(t),[]))}var xl=class{groups=[];_size=0;_paddingTop=0;get paddingTop(){return this._paddingTop}set paddingTop(e){this._size=this._size+e-this._paddingTop,this._paddingTop=e}constructor(e){this._paddingTop=e??0,this._size=this._paddingTop}splice(e,t,n=[]){let o=n.length-t,r=tg({start:0,end:e},this.groups),s=tg({start:e+t,end:Number.POSITIVE_INFINITY},this.groups).map(l=>({range:Sl(l.range,o),size:l.size})),a=n.map((l,d)=>({range:{start:e+d,end:e+d+1},size:l.size}));this.groups=MT(r,a,s),this._size=this._paddingTop+this.groups.reduce((l,d)=>l+d.size*(d.range.end-d.range.start),0)}get count(){let e=this.groups.length;return e?this.groups[e-1].range.end:0}get size(){return this._size}indexAt(e){if(e<0)return-1;if(e<this._paddingTop)return 0;let t=0,n=this._paddingTop;for(let o of this.groups){let r=o.range.end-o.range.start,s=n+r*o.size;if(e<s)return t+Math.floor((e-n)/o.size);t+=r,n=s}return t}indexAfter(e){return Math.min(this.indexAt(e)+1,this.count)}positionAt(e){if(e<0)return-1;let t=0,n=0;for(let o of this.groups){let r=o.range.end-o.range.start,s=n+r;if(e<s)return this._paddingTop+t+(e-n)*o.size;t+=r*o.size,n=s}return-1}};var wl=class{constructor(e){this.renderers=e}cache=new Map;transactionNodesPendingRemoval=new Set;inTransaction=!1;alloc(e){let t=this.getTemplateCache(e).pop(),n=!1;if(t)n=this.transactionNodesPendingRemoval.has(t.domNode),n&&this.transactionNodesPendingRemoval.delete(t.domNode);else{let o=Z(".monaco-list-row"),s=this.getRenderer(e).renderTemplate(o);t={domNode:o,templateId:e,templateData:s}}return{row:t,isReusingConnectedDomNode:n}}release(e){e&&this.releaseRow(e)}transact(e){if(this.inTransaction)throw new Error("Already in transaction");this.inTransaction=!0;try{e()}finally{for(let t of this.transactionNodesPendingRemoval)this.doRemoveNode(t);this.transactionNodesPendingRemoval.clear(),this.inTransaction=!1}}releaseRow(e){let{domNode:t,templateId:n}=e;t&&(this.inTransaction?this.transactionNodesPendingRemoval.add(t):this.doRemoveNode(t)),this.getTemplateCache(n).push(e)}doRemoveNode(e){e.classList.remove("scrolling"),e.remove()}getTemplateCache(e){let t=this.cache.get(e);return t||(t=[],this.cache.set(e,t)),t}dispose(){this.cache.forEach((e,t)=>{for(let n of e)this.getRenderer(t).disposeTemplate(n.templateData),n.templateData=null}),this.cache.clear(),this.transactionNodesPendingRemoval.clear()}getRenderer(e){let t=this.renderers.get(e);if(!t)throw new Error(`No renderer found for ${e}`);return t}};var So={CurrentDragAndDropData:void 0};var qn={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements(i){return[i]},getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){},dispose(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0},mi=class{elements;_context;get context(){return this._context}set context(e){this._context=e}constructor(e){this.elements=e}update(){}getData(){return this.elements}},Ou=class{elements;constructor(e){this.elements=e}update(){}getData(){return this.elements}},Ru=class{types;files;constructor(){this.types=[],this.files=[]}update(e){if(e.types&&this.types.splice(0,this.types.length,...e.types),e.files){this.files.splice(0,this.files.length);for(let t=0;t<e.files.length;t++){let n=e.files.item(t);n&&(n.size||n.type)&&this.files.push(n)}}}getData(){return{types:this.types,files:this.files}}};function NT(i,e){return Array.isArray(i)&&Array.isArray(e)?xt(i,e):i===e}var Fu=class{getSetSize;getPosInSet;getRole;isChecked;constructor(e){e?.getSetSize?this.getSetSize=e.getSetSize.bind(e):this.getSetSize=(t,n,o)=>o,e?.getPosInSet?this.getPosInSet=e.getPosInSet.bind(e):this.getPosInSet=(t,n)=>n+1,e?.getRole?this.getRole=e.getRole.bind(e):this.getRole=t=>"listitem",e?.isChecked?this.isChecked=e.isChecked.bind(e):this.isChecked=t=>{}}},Wt=class Wt{constructor(e,t,n,o=qn){this.virtualDelegate=t;if(o.horizontalScrolling&&o.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=this.createRangeMap(o.paddingTop??0);for(let s of n)this.renderers.set(s.templateId,s);this.cache=this.disposables.add(new wl(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support",typeof o.mouseSupport=="boolean"?o.mouseSupport:!0),this._horizontalScrolling=o.horizontalScrolling??qn.horizontalScrolling,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.paddingBottom=typeof o.paddingBottom>"u"?0:o.paddingBottom,this.accessibilityProvider=new Fu(o.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",(o.transformOptimization??qn.transformOptimization)&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)",this.rowsContainer.style.overflow="hidden",this.rowsContainer.style.contain="strict"),this.disposables.add(It.addTarget(this.rowsContainer)),this.scrollable=this.disposables.add(new Ui({forceIntegerValues:!0,smoothScrollDuration:o.smoothScrolling??!1?125:0,scheduleAtNextAnimationFrame:s=>Jt(ge(this.domNode),s)})),this.scrollableElement=this.disposables.add(new dr(this.rowsContainer,{alwaysConsumeMouseWheel:o.alwaysConsumeMouseWheel??qn.alwaysConsumeMouseWheel,horizontal:1,vertical:o.verticalScrollMode??qn.verticalScrollMode,useShadows:o.useShadows??qn.useShadows,mouseWheelScrollSensitivity:o.mouseWheelScrollSensitivity,fastScrollSensitivity:o.fastScrollSensitivity,scrollByPage:o.scrollByPage},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),e.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),this.disposables.add(Q(this.rowsContainer,Ke.Change,s=>this.onTouchChange(s))),this.disposables.add(Q(this.scrollableElement.getDomNode(),"scroll",s=>s.target.scrollTop=0)),this.disposables.add(Q(this.domNode,"dragover",s=>this.onDragOver(this.toDragEvent(s)))),this.disposables.add(Q(this.domNode,"drop",s=>this.onDrop(this.toDragEvent(s)))),this.disposables.add(Q(this.domNode,"dragleave",s=>this.onDragLeave(this.toDragEvent(s)))),this.disposables.add(Q(this.domNode,"dragend",s=>this.onDragEnd(s))),this.setRowLineHeight=o.setRowLineHeight??qn.setRowLineHeight,this.setRowHeight=o.setRowHeight??qn.setRowHeight,this.supportDynamicHeights=o.supportDynamicHeights??qn.supportDynamicHeights,this.dnd=o.dnd??this.disposables.add(qn.dnd),this.layout(o.initialSize?.height,o.initialSize?.width)}static InstanceCount=0;domId=`list_id_${++Wt.InstanceCount}`;domNode;items;itemId;rangeMap;cache;renderers=new Map;lastRenderTop;lastRenderHeight;renderWidth=0;rowsContainer;scrollable;scrollableElement;_scrollHeight=0;scrollableElementUpdateDisposable=null;scrollableElementWidthDelayer=new yn(50);splicing=!1;dragOverAnimationDisposable;dragOverAnimationStopDisposable=V.None;dragOverMouseY=0;setRowLineHeight;setRowHeight;supportDynamicHeights;paddingBottom;accessibilityProvider;scrollWidth;dnd;canDrop=!1;currentDragData;currentDragFeedback;currentDragFeedbackPosition;currentDragFeedbackDisposable=V.None;onDragLeaveTimeout=V.None;disposables=new W;_onDidChangeContentHeight=new k;_onDidChangeContentWidth=new k;onDidChangeContentHeight=_.latch(this._onDidChangeContentHeight.event,void 0,this.disposables);onDidChangeContentWidth=_.latch(this._onDidChangeContentWidth.event,void 0,this.disposables);get contentHeight(){return this.rangeMap.size}get contentWidth(){return this.scrollWidth??0}get onDidScroll(){return this.scrollableElement.onScroll}get onWillScroll(){return this.scrollableElement.onWillScroll}get containerDomNode(){return this.rowsContainer}get scrollableElementDomNode(){return this.scrollableElement.getDomNode()}_horizontalScrolling=!1;get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(e){if(e!==this._horizontalScrolling){if(e&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=e,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(let t of this.items)this.measureItemWidth(t);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:rr(this.domNode)}),this.rowsContainer.style.width=`${Math.max(this.scrollWidth||0,this.renderWidth)}px`}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}}updateOptions(e){e.paddingBottom!==void 0&&(this.paddingBottom=e.paddingBottom,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),e.smoothScrolling!==void 0&&this.scrollable.setSmoothScrollDuration(e.smoothScrolling?125:0),e.horizontalScrolling!==void 0&&(this.horizontalScrolling=e.horizontalScrolling);let t;if(e.scrollByPage!==void 0&&(t={...t??{},scrollByPage:e.scrollByPage}),e.mouseWheelScrollSensitivity!==void 0&&(t={...t??{},mouseWheelScrollSensitivity:e.mouseWheelScrollSensitivity}),e.fastScrollSensitivity!==void 0&&(t={...t??{},fastScrollSensitivity:e.fastScrollSensitivity}),t&&this.scrollableElement.updateOptions(t),e.paddingTop!==void 0&&e.paddingTop!==this.rangeMap.paddingTop){let n=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),o=e.paddingTop-this.rangeMap.paddingTop;this.rangeMap.paddingTop=e.paddingTop,this.render(n,Math.max(0,this.lastRenderTop+o),this.lastRenderHeight,void 0,void 0,!0),this.setScrollTop(this.lastRenderTop),this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.lastRenderTop,this.lastRenderHeight)}}delegateScrollFromMouseWheelEvent(e){this.scrollableElement.delegateScrollFromMouseWheelEvent(e)}delegateVerticalScrollbarPointerDown(e){this.scrollableElement.delegateVerticalScrollbarPointerDown(e)}updateElementHeight(e,t,n){if(e<0||e>=this.items.length)return;let o=this.items[e].size;if(typeof t>"u"){if(!this.supportDynamicHeights){console.warn("Dynamic heights not supported",new Error().stack);return}this.items[e].lastDynamicHeightWidth=void 0,t=o+this.probeDynamicHeight(e)}if(o===t)return;let r=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),s=0;e<r.start||n!==null&&n>e&&n<r.end?s=t-o:s=0,this.rangeMap.splice(e,1,[{size:t}]),this.items[e].size=t,this.render(r,Math.max(0,this.lastRenderTop+s),this.lastRenderHeight,void 0,void 0,!0),this.setScrollTop(this.lastRenderTop),this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.lastRenderTop,this.lastRenderHeight)}createRangeMap(e){return new xl(e)}splice(e,t,n=[]){if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(e,t,n)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice(e,t,n=[]){let o=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),r={start:e,end:e+t},s=ut.intersect(o,r),a=new Map;for(let L=s.end-1;L>=s.start;L--){let H=this.items[L];if(H.dragStartDisposable.dispose(),H.checkedDisposable.dispose(),H.row){let B=a.get(H.templateId);B||(B=[],a.set(H.templateId,B));let M=this.renderers.get(H.templateId);M&&M.disposeElement&&M.disposeElement(H.element,L,H.row.templateData,H.size),B.unshift(H.row)}H.row=null,H.stale=!0}let l={start:e+t,end:this.items.length},d=ut.intersect(l,o),u=ut.relativeComplement(l,o),h=n.map(L=>({id:String(this.itemId++),element:L,templateId:this.virtualDelegate.getTemplateId(L),size:this.virtualDelegate.getHeight(L),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(L),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:V.None,checkedDisposable:V.None,stale:!1})),f;e===0&&t>=this.items.length?(this.rangeMap=this.createRangeMap(this.rangeMap.paddingTop),this.rangeMap.splice(0,0,h),f=this.items,this.items=h):(this.rangeMap.splice(e,t,h),f=this.items.splice(e,t,...h));let T=n.length-t,w=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),v=Sl(d,T),E=ut.intersect(w,v);for(let L=E.start;L<E.end;L++)this.updateItemInDOM(this.items[L],L);let P=ut.relativeComplement(v,w);for(let L of P)for(let H=L.start;H<L.end;H++)this.removeItemFromDOM(H);let O=u.map(L=>Sl(L,T)),R=[{start:e,end:e+n.length},...O].map(L=>ut.intersect(w,L)).reverse();for(let L of R)for(let H=L.end-1;H>=L.start;H--){let B=this.items[H],te=a.get(B.templateId)?.pop();this.insertItemInDOM(H,te)}for(let L of a.values())for(let H of L)this.cache.release(H);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),f.map(L=>L.element)}eventuallyUpdateScrollDimensions(){this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=`${this._scrollHeight}px`,this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=Jt(ge(this.domNode),()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null}))}eventuallyUpdateScrollWidth(){if(!this.horizontalScrolling){this.scrollableElementWidthDelayer.cancel();return}this.scrollableElementWidthDelayer.trigger(()=>this.updateScrollWidth())}updateScrollWidth(){if(!this.horizontalScrolling)return;let e=0;for(let t of this.items)typeof t.width<"u"&&(e=Math.max(e,t.width));this.scrollWidth=e,this.scrollableElement.setScrollDimensions({scrollWidth:e===0?0:e+10}),this._onDidChangeContentWidth.fire(this.scrollWidth)}updateWidth(e){if(!this.horizontalScrolling||typeof this.scrollWidth>"u")return;let t=this.items[e];this.measureItemWidth(t),typeof t.width<"u"&&t.width>this.scrollWidth&&(this.scrollWidth=t.width,this.scrollableElement.setScrollDimensions({scrollWidth:this.scrollWidth+10}),this._onDidChangeContentWidth.fire(this.scrollWidth))}rerender(){if(this.supportDynamicHeights){for(let e of this.items)e.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}get firstVisibleIndex(){return this.getRenderRange(this.lastRenderTop,this.lastRenderHeight).start}get firstMostlyVisibleIndex(){let e=this.firstVisibleIndex,t=this.rangeMap.positionAt(e),n=this.rangeMap.positionAt(e+1);return n!==-1&&(n-t)/2+t<this.scrollTop?e+1:e}get lastVisibleIndex(){return this.getRenderRange(this.lastRenderTop,this.lastRenderHeight).end-1}element(e){return this.items[e].element}indexOf(e){return this.items.findIndex(t=>t.element===e)}domElement(e){let t=this.items[e].row;return t&&t.domNode}elementHeight(e){return this.items[e].size}elementTop(e){return this.rangeMap.positionAt(e)}indexAt(e){return this.rangeMap.indexAt(e)}indexAfter(e){return this.rangeMap.indexAfter(e)}layout(e,t){let n={height:typeof e=="number"?e:tl(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,n.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(n),typeof t<"u"&&(this.renderWidth=t,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight)),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:typeof t=="number"?t:rr(this.domNode)})}render(e,t,n,o,r,s=!1){let a=this.getRenderRange(t,n),l=ut.relativeComplement(a,e).reverse(),d=ut.relativeComplement(e,a);if(s){let u=ut.intersect(e,a);for(let h=u.start;h<u.end;h++)this.updateItemInDOM(this.items[h],h)}this.cache.transact(()=>{for(let u of d)for(let h=u.start;h<u.end;h++)this.removeItemFromDOM(h);for(let u of l)for(let h=u.end-1;h>=u.start;h--)this.insertItemInDOM(h)}),o!==void 0&&(this.rowsContainer.style.left=`-${o}px`),this.rowsContainer.style.top=`-${t}px`,this.horizontalScrolling&&r!==void 0&&(this.rowsContainer.style.width=`${Math.max(r,this.renderWidth)}px`),this.lastRenderTop=t,this.lastRenderHeight=n}insertItemInDOM(e,t){let n=this.items[e];if(!n.row)if(t)n.row=t,n.stale=!0;else{let l=this.cache.alloc(n.templateId);n.row=l.row,n.stale||=l.isReusingConnectedDomNode}let o=this.accessibilityProvider.getRole(n.element)||"listitem";n.row.domNode.setAttribute("role",o);let r=this.accessibilityProvider.isChecked(n.element);if(typeof r=="boolean")n.row.domNode.setAttribute("aria-checked",String(!!r));else if(r){let l=d=>n.row.domNode.setAttribute("aria-checked",String(!!d));l(r.value),n.checkedDisposable=r.onDidChange(()=>l(r.value))}if(n.stale||!n.row.domNode.parentElement){let l=this.items.at(e+1)?.row?.domNode??null;(n.row.domNode.parentElement!==this.rowsContainer||n.row.domNode.nextElementSibling!==l)&&this.rowsContainer.insertBefore(n.row.domNode,l),n.stale=!1}this.updateItemInDOM(n,e);let s=this.renderers.get(n.templateId);if(!s)throw new Error(`No renderer found for template id ${n.templateId}`);s?.renderElement(n.element,e,n.row.templateData,n.size);let a=this.dnd.getDragURI(n.element);n.dragStartDisposable.dispose(),n.row.domNode.draggable=!!a,a&&(n.dragStartDisposable=Q(n.row.domNode,"dragstart",l=>this.onDragStart(n.element,a,l))),this.horizontalScrolling&&(this.measureItemWidth(n),this.eventuallyUpdateScrollWidth())}measureItemWidth(e){if(!e.row||!e.row.domNode)return;e.row.domNode.style.width="fit-content",e.width=rr(e.row.domNode);let t=ge(e.row.domNode).getComputedStyle(e.row.domNode);t.paddingLeft&&(e.width+=parseFloat(t.paddingLeft)),t.paddingRight&&(e.width+=parseFloat(t.paddingRight)),e.row.domNode.style.width=""}updateItemInDOM(e,t){e.row.domNode.style.top=`${this.elementTop(t)}px`,this.setRowHeight&&(e.row.domNode.style.height=`${e.size}px`),this.setRowLineHeight&&(e.row.domNode.style.lineHeight=`${e.size}px`),e.row.domNode.setAttribute("data-index",`${t}`),e.row.domNode.setAttribute("data-last-element",t===this.length-1?"true":"false"),e.row.domNode.setAttribute("data-parity",t%2===0?"even":"odd"),e.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(e.element,t,this.length))),e.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(e.element,t))),e.row.domNode.setAttribute("id",this.getElementDomId(t)),e.row.domNode.classList.toggle("drop-target",e.dropTarget)}removeItemFromDOM(e){let t=this.items[e];if(t.dragStartDisposable.dispose(),t.checkedDisposable.dispose(),t.row){let n=this.renderers.get(t.templateId);n&&n.disposeElement&&n.disposeElement(t.element,e,t.row.templateData,t.size),this.cache.release(t.row),t.row=null}this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop(e,t){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:e,reuseAnimation:t})}getScrollLeft(){return this.scrollableElement.getScrollPosition().scrollLeft}setScrollLeft(e){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollWidth:this.scrollWidth})),this.scrollableElement.setScrollPosition({scrollLeft:e})}get scrollTop(){return this.getScrollTop()}set scrollTop(e){this.setScrollTop(e)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.paddingBottom}get onMouseClick(){return _.map(this.disposables.add(new re(this.domNode,"click")).event,e=>this.toMouseEvent(e),this.disposables)}get onMouseDblClick(){return _.map(this.disposables.add(new re(this.domNode,"dblclick")).event,e=>this.toMouseEvent(e),this.disposables)}get onMouseMiddleClick(){return _.filter(_.map(this.disposables.add(new re(this.domNode,"auxclick")).event,e=>this.toMouseEvent(e),this.disposables),e=>e.browserEvent.button===1,this.disposables)}get onMouseUp(){return _.map(this.disposables.add(new re(this.domNode,"mouseup")).event,e=>this.toMouseEvent(e),this.disposables)}get onMouseDown(){return _.map(this.disposables.add(new re(this.domNode,"mousedown")).event,e=>this.toMouseEvent(e),this.disposables)}get onMouseOver(){return _.map(this.disposables.add(new re(this.domNode,"mouseover")).event,e=>this.toMouseEvent(e),this.disposables)}get onMouseMove(){return _.map(this.disposables.add(new re(this.domNode,"mousemove")).event,e=>this.toMouseEvent(e),this.disposables)}get onMouseOut(){return _.map(this.disposables.add(new re(this.domNode,"mouseout")).event,e=>this.toMouseEvent(e),this.disposables)}get onContextMenu(){return _.any(_.map(this.disposables.add(new re(this.domNode,"contextmenu")).event,e=>this.toMouseEvent(e),this.disposables),_.map(this.disposables.add(new re(this.domNode,Ke.Contextmenu)).event,e=>this.toGestureEvent(e),this.disposables))}get onTouchStart(){return _.map(this.disposables.add(new re(this.domNode,"touchstart")).event,e=>this.toTouchEvent(e),this.disposables)}get onTap(){return _.map(this.disposables.add(new re(this.rowsContainer,Ke.Tap)).event,e=>this.toGestureEvent(e),this.disposables)}toMouseEvent(e){let t=this.getItemIndexFromEventTarget(e.target||null),n=typeof t>"u"?void 0:this.items[t],o=n&&n.element;return{browserEvent:e,index:t,element:o}}toTouchEvent(e){let t=this.getItemIndexFromEventTarget(e.target||null),n=typeof t>"u"?void 0:this.items[t],o=n&&n.element;return{browserEvent:e,index:t,element:o}}toGestureEvent(e){let t=this.getItemIndexFromEventTarget(e.initialTarget||null),n=typeof t>"u"?void 0:this.items[t],o=n&&n.element;return{browserEvent:e,index:t,element:o}}toDragEvent(e){let t=this.getItemIndexFromEventTarget(e.target||null),n=typeof t>"u"?void 0:this.items[t],o=n&&n.element,r=this.getTargetSector(e,t);return{browserEvent:e,index:t,element:o,sector:r}}onScroll(e){try{let t=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render(t,e.scrollTop,e.height,e.scrollLeft,e.scrollWidth),this.supportDynamicHeights&&this._rerender(e.scrollTop,e.height,e.inSmoothScrolling)}catch(t){throw console.error("Got bad scroll event:",e),t}}onTouchChange(e){e.preventDefault(),e.stopPropagation(),this.scrollTop-=e.translationY}onDragStart(e,t,n){if(!n.dataTransfer)return;let o=this.dnd.getDragElements(e);if(n.dataTransfer.effectAllowed="copyMove",n.dataTransfer.setData(sl.TEXT,t),n.dataTransfer.setDragImage){let r;this.dnd.getDragLabel&&(r=this.dnd.getDragLabel(o,n)),typeof r>"u"&&(r=String(o.length));let s=Z(".monaco-drag-image");s.textContent=r,(d=>{for(;d&&!d.classList.contains("monaco-workbench");)d=d.parentElement;return d||this.domNode.ownerDocument})(this.domNode).appendChild(s),n.dataTransfer.setDragImage(s,-10,-10),setTimeout(()=>s.remove(),0)}this.domNode.classList.add("dragging"),this.currentDragData=new mi(o),So.CurrentDragAndDropData=new Ou(o),this.dnd.onDragStart?.(this.currentDragData,n)}onDragOver(e){if(e.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),So.CurrentDragAndDropData&&So.CurrentDragAndDropData.getData()==="vscode-ui"||(this.setupDragAndDropScrollTopAnimation(e.browserEvent),!e.browserEvent.dataTransfer))return!1;if(!this.currentDragData)if(So.CurrentDragAndDropData)this.currentDragData=So.CurrentDragAndDropData;else{if(!e.browserEvent.dataTransfer.types)return!1;this.currentDragData=new Ru}let t=this.dnd.onDragOver(this.currentDragData,e.element,e.index,e.sector,e.browserEvent);if(this.canDrop=typeof t=="boolean"?t:t.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;e.browserEvent.dataTransfer.dropEffect=typeof t!="boolean"&&t.effect?.type===0?"copy":"move";let n;typeof t!="boolean"&&t.feedback?n=t.feedback:typeof e.index>"u"?n=[-1]:n=[e.index],n=co(n).filter(r=>r>=-1&&r<this.length).sort((r,s)=>r-s),n=n[0]===-1?[-1]:n;let o=typeof t!="boolean"&&t.effect&&t.effect.position?t.effect.position:"drop-target";if(NT(this.currentDragFeedback,n)&&this.currentDragFeedbackPosition===o)return!0;if(this.currentDragFeedback=n,this.currentDragFeedbackPosition=o,this.currentDragFeedbackDisposable.dispose(),n[0]===-1)this.domNode.classList.add(o),this.rowsContainer.classList.add(o),this.currentDragFeedbackDisposable=he(()=>{this.domNode.classList.remove(o),this.rowsContainer.classList.remove(o)});else{if(n.length>1&&o!=="drop-target")throw new Error("Can't use multiple feedbacks with position different than 'over'");o==="drop-target-after"&&n[0]<this.length-1&&(n[0]+=1,o="drop-target-before");for(let r of n){let s=this.items[r];s.dropTarget=!0,s.row?.domNode.classList.add(o)}this.currentDragFeedbackDisposable=he(()=>{for(let r of n){let s=this.items[r];s.dropTarget=!1,s.row?.domNode.classList.remove(o)}})}return!0}onDragLeave(e){this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=us(()=>this.clearDragOverFeedback(),100,this.disposables),this.currentDragData&&this.dnd.onDragLeave?.(this.currentDragData,e.element,e.index,e.browserEvent)}onDrop(e){if(!this.canDrop)return;let t=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.domNode.classList.remove("dragging"),this.currentDragData=void 0,So.CurrentDragAndDropData=void 0,!(!t||!e.browserEvent.dataTransfer)&&(e.browserEvent.preventDefault(),t.update(e.browserEvent.dataTransfer),this.dnd.drop(t,e.element,e.index,e.sector,e.browserEvent))}onDragEnd(e){this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.domNode.classList.remove("dragging"),this.currentDragData=void 0,So.CurrentDragAndDropData=void 0,this.dnd.onDragEnd?.(e)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackPosition=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=V.None}setupDragAndDropScrollTopAnimation(e){if(!this.dragOverAnimationDisposable){let t=bf(this.domNode).top;this.dragOverAnimationDisposable=Ef(ge(this.domNode),this.animateDragAndDropScrollTop.bind(this,t))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=us(()=>{this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)},1e3,this.disposables),this.dragOverMouseY=e.pageY}animateDragAndDropScrollTop(e){if(this.dragOverMouseY===void 0)return;let t=this.dragOverMouseY-e,n=this.renderHeight-35;t<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(t-35))):t>n&&(this.scrollTop+=Math.min(14,Math.floor(.3*(t-n))))}teardownDragAndDropScrollTopAnimation(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}getTargetSector(e,t){if(t===void 0)return;let n=e.offsetY/this.items[t].size,o=Math.floor(n/.25);return pt(o,0,3)}getItemIndexFromEventTarget(e){let t=this.scrollableElement.getDomNode(),n=e;for(;(Ze(n)||Tf(n))&&n!==this.rowsContainer&&t.contains(n);){let o=n.getAttribute("data-index");if(o){let r=Number(o);if(!isNaN(r))return r}n=n.parentElement}}getRenderRange(e,t){return{start:this.rangeMap.indexAt(e),end:this.rangeMap.indexAfter(e+t-1)}}_rerender(e,t,n){let o=this.getRenderRange(e,t),r,s;e===this.elementTop(o.start)?(r=o.start,s=0):o.end-o.start>1&&(r=o.start+1,s=this.elementTop(r)-e);let a=0;for(;;){let l=this.getRenderRange(e,t),d=!1;for(let u=l.start;u<l.end;u++){let h=this.probeDynamicHeight(u);h!==0&&this.rangeMap.splice(u,1,[this.items[u]]),a+=h,d=d||h!==0}if(!d){a!==0&&this.eventuallyUpdateScrollDimensions();let u=ut.relativeComplement(o,l);for(let f of u)for(let T=f.start;T<f.end;T++)this.items[T].row&&this.removeItemFromDOM(T);let h=ut.relativeComplement(l,o).reverse();for(let f of h)for(let T=f.end-1;T>=f.start;T--)this.insertItemInDOM(T);for(let f=l.start;f<l.end;f++)this.items[f].row&&this.updateItemInDOM(this.items[f],f);if(typeof r=="number"){let f=this.scrollable.getFutureScrollPosition().scrollTop-e,T=this.elementTop(r)-s+f;this.setScrollTop(T,n)}this._onDidChangeContentHeight.fire(this.contentHeight);return}}}probeDynamicHeight(e){let t=this.items[e];if(this.virtualDelegate.getDynamicHeight){let s=this.virtualDelegate.getDynamicHeight(t.element);if(s!==null){let a=t.size;return t.size=s,t.lastDynamicHeightWidth=this.renderWidth,s-a}}if(!t.hasDynamicHeight||t.lastDynamicHeightWidth===this.renderWidth||this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(t.element))return 0;let n=t.size;if(t.row)return t.row.domNode.style.height="",t.size=t.row.domNode.offsetHeight,t.size===0&&!Ut(t.row.domNode,ge(t.row.domNode).document.body)&&console.warn("Measuring item node that is not in DOM! Add ListView to the DOM before measuring row height!",new Error().stack),t.lastDynamicHeightWidth=this.renderWidth,t.size-n;let{row:o}=this.cache.alloc(t.templateId);o.domNode.style.height="",this.rowsContainer.appendChild(o.domNode);let r=this.renderers.get(t.templateId);if(!r)throw new pn("Missing renderer for templateId: "+t.templateId);return r.renderElement(t.element,e,o.templateData,void 0),t.size=o.domNode.offsetHeight,r.disposeElement?.(t.element,e,o.templateData,void 0),this.virtualDelegate.setDynamicHeight?.(t.element,t.size),t.lastDynamicHeightWidth=this.renderWidth,o.domNode.remove(),this.cache.release(o),t.size-n}getElementDomId(e){return`${this.domId}_${e}`}dispose(){for(let e of this.items)if(e.dragStartDisposable.dispose(),e.checkedDisposable.dispose(),e.row){let t=this.renderers.get(e.row.templateId);t&&(t.disposeElement?.(e.element,-1,e.row.templateData,void 0),t.disposeTemplate(e.row.templateData))}this.items=[],this.domNode?.remove(),this.dragOverAnimationDisposable?.dispose(),this.disposables.dispose()}};ie([Ee],Wt.prototype,"onMouseClick",1),ie([Ee],Wt.prototype,"onMouseDblClick",1),ie([Ee],Wt.prototype,"onMouseMiddleClick",1),ie([Ee],Wt.prototype,"onMouseUp",1),ie([Ee],Wt.prototype,"onMouseDown",1),ie([Ee],Wt.prototype,"onMouseOver",1),ie([Ee],Wt.prototype,"onMouseMove",1),ie([Ee],Wt.prototype,"onMouseOut",1),ie([Ee],Wt.prototype,"onContextMenu",1),ie([Ee],Wt.prototype,"onTouchStart",1),ie([Ee],Wt.prototype,"onTap",1);var El=Wt;var Gn=class extends Error{constructor(e,t){super(`ListError [${e}] ${t}`)}};var Pu=class{constructor(e){this.trait=e}renderedElements=[];get templateId(){return`template:${this.trait.name}`}renderTemplate(e){return e}renderElement(e,t,n){let o=this.renderedElements.findIndex(r=>r.templateData===n);if(o>=0){let r=this.renderedElements[o];this.trait.unrender(n),r.index=t}else{let r={index:t,templateData:n};this.renderedElements.push(r)}this.trait.renderIndex(t,n)}splice(e,t,n){let o=[];for(let r of this.renderedElements)r.index<e?o.push(r):r.index>=e+t&&o.push({index:r.index+n-t,templateData:r.templateData});this.renderedElements=o}renderIndexes(e){for(let{index:t,templateData:n}of this.renderedElements)e.indexOf(t)>-1&&this.trait.renderIndex(t,n)}disposeTemplate(e){let t=this.renderedElements.findIndex(n=>n.templateData===e);t<0||this.renderedElements.splice(t,1)}},mr=class{constructor(e){this._trait=e}indexes=[];sortedIndexes=[];_onChange=new k;onChange=this._onChange.event;get name(){return this._trait}get renderer(){return new Pu(this)}splice(e,t,n){let o=n.length-t,r=e+t,s=[],a=0;for(;a<this.sortedIndexes.length&&this.sortedIndexes[a]<e;)s.push(this.sortedIndexes[a++]);for(let l=0;l<n.length;l++)n[l]&&s.push(l+e);for(;a<this.sortedIndexes.length&&this.sortedIndexes[a]>=r;)s.push(this.sortedIndexes[a++]+o);this.renderer.splice(e,t,n.length),this._set(s,s)}renderIndex(e,t){t.classList.toggle(this._trait,this.contains(e))}unrender(e){e.classList.remove(this._trait)}set(e,t){return this._set(e,[...e].sort(ig),t)}_set(e,t,n){let o=this.indexes,r=this.sortedIndexes;this.indexes=e,this.sortedIndexes=t;let s=zu(r,e);return this.renderer.renderIndexes(s),this._onChange.fire({indexes:e,browserEvent:n}),o}get(){return this.indexes}contains(e){return Fp(this.sortedIndexes,e,ig)>=0}dispose(){je(this._onChange)}};ie([Ee],mr.prototype,"renderer",1);var Bu=class extends mr{constructor(t){super("selected");this.setAriaSelected=t}renderIndex(t,n){super.renderIndex(t,n),this.setAriaSelected&&(this.contains(t)?n.setAttribute("aria-selected","true"):n.setAttribute("aria-selected","false"))}},xs=class{constructor(e,t,n){this.trait=e;this.view=t;this.identityProvider=n}splice(e,t,n){if(!this.identityProvider)return this.trait.splice(e,t,new Array(n.length).fill(!1));let o=this.trait.get().map(a=>this.identityProvider.getId(this.view.element(a)).toString());if(o.length===0)return this.trait.splice(e,t,new Array(n.length).fill(!1));let r=new Set(o),s=n.map(a=>r.has(this.identityProvider.getId(a).toString()));this.trait.splice(e,t,s)}};function ws(i,e){return i.classList.contains(e)?!0:i.classList.contains("monaco-list")||!i.parentElement?!1:ws(i.parentElement,e)}function pr(i){return ws(i,"monaco-editor")}function og(i){return ws(i,"monaco-custom-toggle")}function rg(i){return ws(i,"action-item")}function fr(i){return ws(i,"monaco-tree-sticky-row")}function gr(i){return i.classList.contains("monaco-tree-sticky-container")}function $u(i){return i.tagName==="A"&&i.classList.contains("monaco-button")||i.tagName==="DIV"&&i.classList.contains("monaco-button-dropdown")?!0:i.classList.contains("monaco-list")||!i.parentElement?!1:$u(i.parentElement)}var Dl=class{constructor(e,t,n){this.list=e;this.view=t;this.multipleSelectionSupport=n.multipleSelectionSupport,this.disposables.add(this.onKeyDown(o=>{switch(o.keyCode){case 3:return this.onEnter(o);case 16:return this.onUpArrow(o);case 18:return this.onDownArrow(o);case 11:return this.onPageUpArrow(o);case 12:return this.onPageDownArrow(o);case 9:return this.onEscape(o);case 31:this.multipleSelectionSupport&&(ke?o.metaKey:o.ctrlKey)&&this.onCtrlA(o)}}))}disposables=new W;multipleSelectionDisposables=new W;multipleSelectionSupport;get onKeyDown(){return _.chain(this.disposables.add(new re(this.view.domNode,"keydown")).event,e=>e.filter(t=>!Vn(t.target)).map(t=>new Me(t)))}updateOptions(e){e.multipleSelectionSupport!==void 0&&(this.multipleSelectionSupport=e.multipleSelectionSupport)}onEnter(e){e.preventDefault(),e.stopPropagation(),this.list.setSelection(this.list.getFocus(),e.browserEvent)}onUpArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusPrevious(1,!1,e.browserEvent);let t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onDownArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusNext(1,!1,e.browserEvent);let t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onPageUpArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusPreviousPage(e.browserEvent);let t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onPageDownArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusNextPage(e.browserEvent);let t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onCtrlA(e){e.preventDefault(),e.stopPropagation(),this.list.setSelection(st(this.list.length),e.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus()}onEscape(e){this.list.getSelection().length&&(e.preventDefault(),e.stopPropagation(),this.list.setSelection([],e.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus())}dispose(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()}};ie([Ee],Dl.prototype,"onKeyDown",1);var FT=new class{mightProducePrintableCharacter(i){return i.ctrlKey||i.metaKey||i.altKey?!1:i.keyCode>=31&&i.keyCode<=56||i.keyCode>=21&&i.keyCode<=30||i.keyCode>=98&&i.keyCode<=107||i.keyCode>=85&&i.keyCode<=95}},Hu=class{constructor(e,t,n,o,r){this.list=e;this.view=t;this.keyboardNavigationLabelProvider=n;this.keyboardNavigationEventFilter=o;this.delegate=r;this.updateOptions(e.options)}enabled=!1;state=0;mode=0;triggered=!1;previouslyFocused=-1;enabledDisposables=new W;disposables=new W;updateOptions(e){e.typeNavigationEnabled??!0?this.enable():this.disable(),this.mode=e.typeNavigationMode??0}trigger(){this.triggered=!this.triggered}enable(){if(this.enabled)return;let e=!1,t=_.chain(this.enabledDisposables.add(new re(this.view.domNode,"keydown")).event,r=>r.filter(s=>!Vn(s.target)).filter(()=>this.mode===0||this.triggered).map(s=>new Me(s)).filter(s=>e||this.keyboardNavigationEventFilter(s)).filter(s=>this.delegate.mightProducePrintableCharacter(s)).forEach(s=>$e.stop(s,!0)).map(s=>s.browserEvent.key)),n=_.debounce(t,()=>null,800,void 0,void 0,void 0,this.enabledDisposables);_.reduce(_.any(t,n),(r,s)=>s===null?null:(r||"")+s,void 0,this.enabledDisposables)(this.onInput,this,this.enabledDisposables),n(this.onClear,this,this.enabledDisposables),t(()=>e=!0,void 0,this.enabledDisposables),n(()=>e=!1,void 0,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){this.enabled&&(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){let e=this.list.getFocus();if(e.length>0&&e[0]===this.previouslyFocused){let t=this.list.options.accessibilityProvider?.getAriaLabel(this.list.element(e[0]));typeof t=="string"?$i(t):t&&$i(t.get())}this.previouslyFocused=-1}onInput(e){if(!e){this.state=0,this.triggered=!1;return}let t=this.list.getFocus(),n=t.length>0?t[0]:0,o=this.state===0?1:0;this.state=1;for(let r=0;r<this.list.length;r++){let s=(n+r+o)%this.list.length,a=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(s)),l=a&&a.toString();if(this.list.options.typeNavigationEnabled){if(typeof l<"u"){if(cr(e,l)){this.previouslyFocused=n,this.list.setFocus([s]),this.list.reveal(s);return}let d=Uf(e,l);if(d&&d[0].end-d[0].start>1&&d.length===1){this.previouslyFocused=n,this.list.setFocus([s]),this.list.reveal(s);return}}}else if(typeof l>"u"||cr(e,l)){this.previouslyFocused=n,this.list.setFocus([s]),this.list.reveal(s);return}}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}},Ku=class{constructor(e,t){this.list=e;this.view=t;let n=_.chain(this.disposables.add(new re(t.domNode,"keydown")).event,r=>r.filter(s=>!Vn(s.target)).map(s=>new Me(s)));_.chain(n,r=>r.filter(s=>s.keyCode===2&&!s.ctrlKey&&!s.metaKey&&!s.shiftKey&&!s.altKey))(this.onTab,this,this.disposables)}disposables=new W;onTab(e){if(e.target!==this.view.domNode)return;let t=this.list.getFocus();if(t.length===0)return;let n=this.view.domElement(t[0]);if(!n)return;let o=n.querySelector("[tabIndex]");if(!o||!Ze(o)||o.tabIndex===-1)return;let r=ge(o).getComputedStyle(o);r.visibility==="hidden"||r.display==="none"||(e.preventDefault(),e.stopPropagation(),o.focus())}dispose(){this.disposables.dispose()}};function qu(i){return ke?i.browserEvent.metaKey:i.browserEvent.ctrlKey}function Gu(i){return i.browserEvent.shiftKey}function PT(i){return bs(i)&&i.button===2}var ng={isSelectionSingleChangeEvent:qu,isSelectionRangeChangeEvent:Gu},Ss=class{constructor(e){this.list=e;e.options.multipleSelectionSupport!==!1&&(this.multipleSelectionController=this.list.options.multipleSelectionController||ng),this.mouseSupport=typeof e.options.mouseSupport>"u"||!!e.options.mouseSupport,this.mouseSupport&&(e.onMouseDown(this.onMouseDown,this,this.disposables),e.onContextMenu(this.onContextMenu,this,this.disposables),e.onMouseDblClick(this.onDoubleClick,this,this.disposables),e.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(It.addTarget(e.getHTMLElement()))),_.any(e.onMouseClick,e.onMouseMiddleClick,e.onTap)(this.onViewPointer,this,this.disposables)}multipleSelectionController;mouseSupport;disposables=new W;_onPointer=new k;onPointer=this._onPointer.event;updateOptions(e){e.multipleSelectionSupport!==void 0&&(this.multipleSelectionController=void 0,e.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||ng))}isSelectionSingleChangeEvent(e){return this.multipleSelectionController?this.multipleSelectionController.isSelectionSingleChangeEvent(e):!1}isSelectionRangeChangeEvent(e){return this.multipleSelectionController?this.multipleSelectionController.isSelectionRangeChangeEvent(e):!1}isSelectionChangeEvent(e){return this.isSelectionSingleChangeEvent(e)||this.isSelectionRangeChangeEvent(e)}onMouseDown(e){pr(e.browserEvent.target)||Ki()!==e.browserEvent.target&&this.list.domFocus()}onContextMenu(e){if(Vn(e.browserEvent.target)||pr(e.browserEvent.target))return;let t=typeof e.index>"u"?[]:[e.index];this.list.setFocus(t,e.browserEvent)}onViewPointer(e){if(!this.mouseSupport||Vn(e.browserEvent.target)||pr(e.browserEvent.target)||e.browserEvent.isHandledByList)return;e.browserEvent.isHandledByList=!0;let t=e.index;if(typeof t>"u"){this.list.setFocus([],e.browserEvent),this.list.setSelection([],e.browserEvent),this.list.setAnchor(void 0);return}if(this.isSelectionChangeEvent(e))return this.changeSelection(e);this.list.setFocus([t],e.browserEvent),this.list.setAnchor(t),PT(e.browserEvent)||this.list.setSelection([t],e.browserEvent),this._onPointer.fire(e)}onDoubleClick(e){if(Vn(e.browserEvent.target)||pr(e.browserEvent.target)||this.isSelectionChangeEvent(e)||e.browserEvent.isHandledByList)return;e.browserEvent.isHandledByList=!0;let t=this.list.getFocus();this.list.setSelection(t,e.browserEvent)}changeSelection(e){let t=e.index,n=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(e)){typeof n>"u"&&(n=this.list.getFocus()[0]??t,this.list.setAnchor(n));let o=Math.min(n,t),r=Math.max(n,t),s=st(o,r+1),a=this.list.getSelection(),l=HT(zu(a,[n]),n);if(l.length===0)return;let d=zu(s,KT(a,l));this.list.setSelection(d,e.browserEvent),this.list.setFocus([t],e.browserEvent)}else if(this.isSelectionSingleChangeEvent(e)){let o=this.list.getSelection(),r=o.filter(s=>s!==t);this.list.setFocus([t]),this.list.setAnchor(t),o.length===r.length?this.list.setSelection([...r,t],e.browserEvent):this.list.setSelection(r,e.browserEvent)}}dispose(){this.disposables.dispose()}},kl=class{constructor(e,t){this.styleElement=e;this.selectorSuffix=t}style(e){let t=this.selectorSuffix&&`.${this.selectorSuffix}`,n=[];e.listBackground&&n.push(`.monaco-list${t} .monaco-list-rows { background: ${e.listBackground}; }`),e.listFocusBackground&&(n.push(`.monaco-list${t}:focus .monaco-list-row.focused { background-color: ${e.listFocusBackground}; }`),n.push(`.monaco-list${t}:focus .monaco-list-row.focused:hover { background-color: ${e.listFocusBackground}; }`)),e.listFocusForeground&&n.push(`.monaco-list${t}:focus .monaco-list-row.focused { color: ${e.listFocusForeground}; }`),e.listActiveSelectionBackground&&(n.push(`.monaco-list${t}:focus .monaco-list-row.selected { background-color: ${e.listActiveSelectionBackground}; }`),n.push(`.monaco-list${t}:focus .monaco-list-row.selected:hover { background-color: ${e.listActiveSelectionBackground}; }`)),e.listActiveSelectionForeground&&n.push(`.monaco-list${t}:focus .monaco-list-row.selected { color: ${e.listActiveSelectionForeground}; }`),e.listActiveSelectionIconForeground&&n.push(`.monaco-list${t}:focus .monaco-list-row.selected .codicon { color: ${e.listActiveSelectionIconForeground}; }`),e.listFocusAndSelectionBackground&&n.push(`
				.monaco-drag-image,
				.monaco-list${t}:focus .monaco-list-row.selected.focused { background-color: ${e.listFocusAndSelectionBackground}; }
			`),e.listFocusAndSelectionForeground&&n.push(`
				.monaco-drag-image,
				.monaco-list${t}:focus .monaco-list-row.selected.focused { color: ${e.listFocusAndSelectionForeground}; }
			`),e.listInactiveFocusForeground&&(n.push(`.monaco-list${t} .monaco-list-row.focused { color:  ${e.listInactiveFocusForeground}; }`),n.push(`.monaco-list${t} .monaco-list-row.focused:hover { color:  ${e.listInactiveFocusForeground}; }`)),e.listInactiveSelectionIconForeground&&n.push(`.monaco-list${t} .monaco-list-row.focused .codicon { color:  ${e.listInactiveSelectionIconForeground}; }`),e.listInactiveFocusBackground&&(n.push(`.monaco-list${t} .monaco-list-row.focused { background-color:  ${e.listInactiveFocusBackground}; }`),n.push(`.monaco-list${t} .monaco-list-row.focused:hover { background-color:  ${e.listInactiveFocusBackground}; }`)),e.listInactiveSelectionBackground&&(n.push(`.monaco-list${t} .monaco-list-row.selected { background-color:  ${e.listInactiveSelectionBackground}; }`),n.push(`.monaco-list${t} .monaco-list-row.selected:hover { background-color:  ${e.listInactiveSelectionBackground}; }`)),e.listInactiveSelectionForeground&&n.push(`.monaco-list${t} .monaco-list-row.selected { color: ${e.listInactiveSelectionForeground}; }`),e.listHoverBackground&&n.push(`.monaco-list${t}:not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${e.listHoverBackground}; }`),e.listHoverForeground&&n.push(`.monaco-list${t}:not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${e.listHoverForeground}; }`);let o=dn(e.listFocusAndSelectionOutline,dn(e.listSelectionOutline,e.listFocusOutline??""));o&&n.push(`.monaco-list${t}:focus .monaco-list-row.focused.selected { outline: 1px solid ${o}; outline-offset: -1px;}`),e.listFocusOutline&&n.push(`
				.monaco-drag-image,
				.monaco-list${t}:focus .monaco-list-row.focused { outline: 1px solid ${e.listFocusOutline}; outline-offset: -1px; }
				.monaco-workbench.context-menu-visible .monaco-list${t}.last-focused .monaco-list-row.focused { outline: 1px solid ${e.listFocusOutline}; outline-offset: -1px; }
			`);let r=dn(e.listSelectionOutline,e.listInactiveFocusOutline??"");r&&n.push(`.monaco-list${t} .monaco-list-row.focused.selected { outline: 1px dotted ${r}; outline-offset: -1px; }`),e.listSelectionOutline&&n.push(`.monaco-list${t} .monaco-list-row.selected { outline: 1px dotted ${e.listSelectionOutline}; outline-offset: -1px; }`),e.listInactiveFocusOutline&&n.push(`.monaco-list${t} .monaco-list-row.focused { outline: 1px dotted ${e.listInactiveFocusOutline}; outline-offset: -1px; }`),e.listHoverOutline&&n.push(`.monaco-list${t} .monaco-list-row:hover { outline: 1px dashed ${e.listHoverOutline}; outline-offset: -1px; }`),e.listDropOverBackground&&n.push(`
				.monaco-list${t}.drop-target,
				.monaco-list${t} .monaco-list-rows.drop-target,
				.monaco-list${t} .monaco-list-row.drop-target { background-color: ${e.listDropOverBackground} !important; color: inherit !important; }
			`),e.listDropBetweenBackground&&(n.push(`
			.monaco-list${t} .monaco-list-rows.drop-target-before .monaco-list-row:first-child::before,
			.monaco-list${t} .monaco-list-row.drop-target-before::before {
				content: ""; position: absolute; top: 0px; left: 0px; width: 100%; height: 1px;
				background-color: ${e.listDropBetweenBackground};
			}`),n.push(`
			.monaco-list${t} .monaco-list-rows.drop-target-after .monaco-list-row:last-child::after,
			.monaco-list${t} .monaco-list-row.drop-target-after::after {
				content: ""; position: absolute; bottom: 0px; left: 0px; width: 100%; height: 1px;
				background-color: ${e.listDropBetweenBackground};
			}`)),e.tableColumnsBorder&&n.push(`
				.monaco-table > .monaco-split-view2,
				.monaco-table > .monaco-split-view2 .monaco-sash.vertical::before,
				.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2,
				.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: ${e.tableColumnsBorder};
				}

				.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2,
				.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: transparent;
				}
			`),e.tableOddRowsBackgroundColor&&n.push(`
				.monaco-table .monaco-list-row[data-parity=odd]:not(.focused):not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(:focus) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(.focused) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr {
					background-color: ${e.tableOddRowsBackgroundColor};
				}
			`),this.styleElement.textContent=n.join(`
`)}},_l={listFocusBackground:"#7FB0D0",listActiveSelectionBackground:"#0E639C",listActiveSelectionForeground:"#FFFFFF",listActiveSelectionIconForeground:"#FFFFFF",listFocusAndSelectionOutline:"#90C2F9",listFocusAndSelectionBackground:"#094771",listFocusAndSelectionForeground:"#FFFFFF",listInactiveSelectionBackground:"#3F3F46",listInactiveSelectionIconForeground:"#FFFFFF",listHoverBackground:"#2A2D2E",listDropOverBackground:"#383B3D",listDropBetweenBackground:"#EEEEEE",treeIndentGuidesStroke:"#a9a9a9",treeInactiveIndentGuidesStroke:A.fromHex("#a9a9a9").transparent(.4).toString(),tableColumnsBorder:A.fromHex("#cccccc").transparent(.2).toString(),tableOddRowsBackgroundColor:A.fromHex("#cccccc").transparent(.04).toString(),listBackground:void 0,listFocusForeground:void 0,listInactiveSelectionForeground:void 0,listInactiveFocusForeground:void 0,listInactiveFocusBackground:void 0,listHoverForeground:void 0,listFocusOutline:void 0,listInactiveFocusOutline:void 0,listSelectionOutline:void 0,listHoverOutline:void 0,treeStickyScrollBackground:void 0,treeStickyScrollBorder:void 0,treeStickyScrollShadow:void 0},BT={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){},dispose(){}}};function HT(i,e){let t=i.indexOf(e);if(t===-1)return[];let n=[],o=t-1;for(;o>=0&&i[o]===e-(t-o);)n.push(i[o--]);for(n.reverse(),o=t;o<i.length&&i[o]===e+(o-t);)n.push(i[o++]);return n}function zu(i,e){let t=[],n=0,o=0;for(;n<i.length||o<e.length;)if(n>=i.length)t.push(e[o++]);else if(o>=e.length)t.push(i[n++]);else if(i[n]===e[o]){t.push(i[n]),n++,o++;continue}else i[n]<e[o]?t.push(i[n++]):t.push(e[o++]);return t}function KT(i,e){let t=[],n=0,o=0;for(;n<i.length||o<e.length;)if(n>=i.length)t.push(e[o++]);else if(o>=e.length)t.push(i[n++]);else if(i[n]===e[o]){n++,o++;continue}else i[n]<e[o]?t.push(i[n++]):o++;return t}var ig=(i,e)=>i-e,Uu=class{constructor(e,t){this._templateId=e;this.renderers=t}get templateId(){return this._templateId}renderTemplate(e){return this.renderers.map(t=>t.renderTemplate(e))}renderElement(e,t,n,o){let r=0;for(let s of this.renderers)s.renderElement(e,t,n[r++],o)}disposeElement(e,t,n,o){let r=0;for(let s of this.renderers)s.disposeElement?.(e,t,n[r],o),r+=1}disposeTemplate(e){let t=0;for(let n of this.renderers)n.disposeTemplate(e[t++])}},Vu=class{constructor(e){this.accessibilityProvider=e}templateId="a18n";renderTemplate(e){return{container:e,disposables:new W}}renderElement(e,t,n){let o=this.accessibilityProvider.getAriaLabel(e),r=o&&typeof o!="string"?o:Zr(o);n.disposables.add(ci(a=>{this.setAriaLabel(a.readObservable(r),n.container)}));let s=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(e);typeof s=="number"?n.container.setAttribute("aria-level",`${s}`):n.container.removeAttribute("aria-level")}setAriaLabel(e,t){e?t.setAttribute("aria-label",e):t.removeAttribute("aria-label")}disposeElement(e,t,n,o){n.disposables.clear()}disposeTemplate(e){e.disposables.dispose()}},Wu=class{constructor(e,t){this.list=e;this.dnd=t}getDragElements(e){let t=this.list.getSelectedElements();return t.indexOf(e)>-1?t:[e]}getDragURI(e){return this.dnd.getDragURI(e)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e,t)}onDragStart(e,t){this.dnd.onDragStart?.(e,t)}onDragOver(e,t,n,o,r){return this.dnd.onDragOver(e,t,n,o,r)}onDragLeave(e,t,n,o){this.dnd.onDragLeave?.(e,t,n,o)}onDragEnd(e){this.dnd.onDragEnd?.(e)}drop(e,t,n,o,r){this.dnd.drop(e,t,n,o,r)}dispose(){this.dnd.dispose()}},mt=class{constructor(e,t,n,o,r=BT){this.user=e;this._options=r;let s=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?this._options.accessibilityProvider?.getWidgetRole():"list";this.selection=new Bu(s!=="listbox");let a=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=r.accessibilityProvider,this.accessibilityProvider&&(a.push(new Vu(this.accessibilityProvider)),this.accessibilityProvider.onDidChangeActiveDescendant?.(this.onDidChangeActiveDescendant,this,this.disposables)),o=o.map(d=>new Uu(d.templateId,[...a,d]));let l={...r,dnd:r.dnd&&new Wu(this,r.dnd)};if(this.view=this.createListView(t,n,o,l),this.view.domNode.setAttribute("role",s),r.styleController)this.styleController=r.styleController(this.view.domId);else{let d=en(this.view.domNode);this.styleController=new kl(d,this.view.domId)}if(this.spliceable=new Il([new xs(this.focus,this.view,r.identityProvider),new xs(this.selection,this.view,r.identityProvider),new xs(this.anchor,this.view,r.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new Ku(this,this.view)),(typeof r.keyboardSupport!="boolean"||r.keyboardSupport)&&(this.keyboardController=new Dl(this,this.view,r),this.disposables.add(this.keyboardController)),r.keyboardNavigationLabelProvider){let d=r.keyboardNavigationDelegate||FT;this.typeNavigationController=new Hu(this,this.view,r.keyboardNavigationLabelProvider,r.keyboardNavigationEventFilter??(()=>!0),d),this.disposables.add(this.typeNavigationController)}this.mouseController=this.createMouseController(r),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),this._options.multipleSelectionSupport!==!1&&this.view.domNode.setAttribute("aria-multiselectable","true")}focus=new mr("focused");selection;anchor=new mr("anchor");eventBufferer=new an;view;spliceable;styleController;typeNavigationController;accessibilityProvider;keyboardController;mouseController;_ariaLabel="";disposables=new W;get onDidChangeFocus(){return _.map(this.eventBufferer.wrapEvent(this.focus.onChange),e=>this.toListEvent(e),this.disposables)}get onDidChangeSelection(){return _.map(this.eventBufferer.wrapEvent(this.selection.onChange),e=>this.toListEvent(e),this.disposables)}get domId(){return this.view.domId}get onDidScroll(){return this.view.onDidScroll}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseUp(){return this.view.onMouseUp}get onMouseDown(){return this.view.onMouseDown}get onMouseOver(){return this.view.onMouseOver}get onMouseMove(){return this.view.onMouseMove}get onMouseOut(){return this.view.onMouseOut}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let e=!1,t=_.chain(this.disposables.add(new re(this.view.domNode,"keydown")).event,r=>r.map(s=>new Me(s)).filter(s=>e=s.keyCode===58||s.shiftKey&&s.keyCode===68).map(s=>$e.stop(s,!0)).filter(()=>!1)),n=_.chain(this.disposables.add(new re(this.view.domNode,"keyup")).event,r=>r.forEach(()=>e=!1).map(s=>new Me(s)).filter(s=>s.keyCode===58||s.shiftKey&&s.keyCode===68).map(s=>$e.stop(s,!0)).map(({browserEvent:s})=>{let a=this.getFocus(),l=a.length?a[0]:void 0,d=typeof l<"u"?this.view.element(l):void 0,u=typeof l<"u"?this.view.domElement(l):this.view.domNode;return{index:l,element:d,anchor:u,browserEvent:s}})),o=_.chain(this.view.onContextMenu,r=>r.filter(s=>!e).map(({element:s,index:a,browserEvent:l})=>({element:s,index:a,anchor:new Yt(ge(this.view.domNode),l),browserEvent:l})));return _.any(t,n,o)}get onKeyDown(){return this.disposables.add(new re(this.view.domNode,"keydown")).event}get onKeyUp(){return this.disposables.add(new re(this.view.domNode,"keyup")).event}get onKeyPress(){return this.disposables.add(new re(this.view.domNode,"keypress")).event}get onDidFocus(){return _.signal(this.disposables.add(new re(this.view.domNode,"focus",!0)).event)}get onDidBlur(){return _.signal(this.disposables.add(new re(this.view.domNode,"blur",!0)).event)}_onDidDispose=new k;onDidDispose=this._onDidDispose.event;createListView(e,t,n,o){return new El(e,t,n,o)}createMouseController(e){return new Ss(this)}updateOptions(e={}){this._options={...this._options,...e},this.typeNavigationController?.updateOptions(this._options),this._options.multipleSelectionController!==void 0&&(this._options.multipleSelectionSupport?this.view.domNode.setAttribute("aria-multiselectable","true"):this.view.domNode.removeAttribute("aria-multiselectable")),this.mouseController.updateOptions(e),this.keyboardController?.updateOptions(e),this.view.updateOptions(e)}get options(){return this._options}splice(e,t,n=[]){if(e<0||e>this.view.length)throw new Gn(this.user,`Invalid start index: ${e}`);if(t<0)throw new Gn(this.user,`Invalid delete count: ${t}`);t===0&&n.length===0||this.eventBufferer.bufferEvents(()=>this.spliceable.splice(e,t,n))}updateWidth(e){this.view.updateWidth(e)}updateElementHeight(e,t){this.view.updateElementHeight(e,t,null)}rerender(){this.view.rerender()}element(e){return this.view.element(e)}indexOf(e){return this.view.indexOf(e)}indexAt(e){return this.view.indexAt(e)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get contentWidth(){return this.view.contentWidth}get onDidChangeContentHeight(){return this.view.onDidChangeContentHeight}get onDidChangeContentWidth(){return this.view.onDidChangeContentWidth}get scrollTop(){return this.view.getScrollTop()}set scrollTop(e){this.view.setScrollTop(e)}get scrollLeft(){return this.view.getScrollLeft()}set scrollLeft(e){this.view.setScrollLeft(e)}get scrollHeight(){return this.view.scrollHeight}get renderHeight(){return this.view.renderHeight}get firstVisibleIndex(){return this.view.firstVisibleIndex}get firstMostlyVisibleIndex(){return this.view.firstMostlyVisibleIndex}get lastVisibleIndex(){return this.view.lastVisibleIndex}get ariaLabel(){return this._ariaLabel}set ariaLabel(e){this._ariaLabel=e,this.view.domNode.setAttribute("aria-label",e)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(e,t){this.view.layout(e,t)}triggerTypeNavigation(){this.typeNavigationController?.trigger()}setSelection(e,t){for(let n of e)if(n<0||n>=this.length)throw new Gn(this.user,`Invalid index ${n}`);this.selection.set(e,t)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map(e=>this.view.element(e))}setAnchor(e){if(typeof e>"u"){this.anchor.set([]);return}if(e<0||e>=this.length)throw new Gn(this.user,`Invalid index ${e}`);this.anchor.set([e])}getAnchor(){return this.anchor.get().at(0)}getAnchorElement(){let e=this.getAnchor();return typeof e>"u"?void 0:this.element(e)}setFocus(e,t){for(let n of e)if(n<0||n>=this.length)throw new Gn(this.user,`Invalid index ${n}`);this.focus.set(e,t)}focusNext(e=1,t=!1,n,o){if(this.length===0)return;let r=this.focus.get(),s=this.findNextIndex(r.length>0?r[0]+e:0,t,o);s>-1&&this.setFocus([s],n)}focusPrevious(e=1,t=!1,n,o){if(this.length===0)return;let r=this.focus.get(),s=this.findPreviousIndex(r.length>0?r[0]-e:0,t,o);s>-1&&this.setFocus([s],n)}async focusNextPage(e,t){let n=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);n=n===0?0:n-1;let o=this.getFocus()[0];if(o!==n&&(o===void 0||n>o)){let r=this.findPreviousIndex(n,!1,t);r>-1&&o!==r?this.setFocus([r],e):this.setFocus([n],e)}else{let r=this.view.getScrollTop(),s=r+this.view.renderHeight;n>o&&(s-=this.view.elementHeight(n)),this.view.setScrollTop(s),this.view.getScrollTop()!==r&&(this.setFocus([]),await Hi(0),await this.focusNextPage(e,t))}}async focusPreviousPage(e,t,n=()=>0){let o,r=n(),s=this.view.getScrollTop()+r;s===0?o=this.view.indexAt(s):o=this.view.indexAfter(s-1);let a=this.getFocus()[0];if(a!==o&&(a===void 0||a>=o)){let l=this.findNextIndex(o,!1,t);l>-1&&a!==l?this.setFocus([l],e):this.setFocus([o],e)}else{let l=s;this.view.setScrollTop(s-this.view.renderHeight-r),this.view.getScrollTop()+n()!==l&&(this.setFocus([]),await Hi(0),await this.focusPreviousPage(e,t,n))}}focusLast(e,t){if(this.length===0)return;let n=this.findPreviousIndex(this.length-1,!1,t);n>-1&&this.setFocus([n],e)}focusFirst(e,t){this.focusNth(0,e,t)}focusNth(e,t,n){if(this.length===0)return;let o=this.findNextIndex(e,!1,n);o>-1&&this.setFocus([o],t)}findNextIndex(e,t=!1,n){for(let o=0;o<this.length;o++){if(e>=this.length&&!t)return-1;if(e=e%this.length,!n||n(this.element(e)))return e;e++}return-1}findPreviousIndex(e,t=!1,n){for(let o=0;o<this.length;o++){if(e<0&&!t)return-1;if(e=(this.length+e%this.length)%this.length,!n||n(this.element(e)))return e;e--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map(e=>this.view.element(e))}reveal(e,t,n=0){if(e<0||e>=this.length)throw new Gn(this.user,`Invalid index ${e}`);let o=this.view.getScrollTop(),r=this.view.elementTop(e),s=this.view.elementHeight(e);if(Oi(t)){let a=s-this.view.renderHeight+n;this.view.setScrollTop(a*pt(t,0,1)+r-n)}else{let a=r+s,l=o+this.view.renderHeight;r<o+n&&a>=l||(r<o+n||a>=l&&s>=this.view.renderHeight?this.view.setScrollTop(r-n):a>=l&&this.view.setScrollTop(a-this.view.renderHeight))}}getRelativeTop(e,t=0){if(e<0||e>=this.length)throw new Gn(this.user,`Invalid index ${e}`);let n=this.view.getScrollTop(),o=this.view.elementTop(e),r=this.view.elementHeight(e);if(o<n+t||o+r>n+this.view.renderHeight)return null;let s=r-this.view.renderHeight+t;return Math.abs((n+t-o)/s)}isDOMFocused(){return Zt(this.view.domNode)}getHTMLElement(){return this.view.domNode}getScrollableElement(){return this.view.scrollableElementDomNode}getElementID(e){return this.view.getElementDomId(e)}getElementTop(e){return this.view.elementTop(e)}style(e){this.styleController.style(e)}toListEvent({indexes:e,browserEvent:t}){return{indexes:e,elements:e.map(n=>this.view.element(n)),browserEvent:t}}_onFocusChange(){let e=this.focus.get();this.view.domNode.classList.toggle("element-focused",e.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){let e=this.focus.get();if(e.length>0){let t;this.accessibilityProvider?.getActiveDescendantId&&(t=this.accessibilityProvider.getActiveDescendantId(this.view.element(e[0]))),this.view.domNode.setAttribute("aria-activedescendant",t||this.view.getElementDomId(e[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){let e=this.selection.get();this.view.domNode.classList.toggle("selection-none",e.length===0),this.view.domNode.classList.toggle("selection-single",e.length===1),this.view.domNode.classList.toggle("selection-multiple",e.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}};ie([Ee],mt.prototype,"onDidChangeFocus",1),ie([Ee],mt.prototype,"onDidChangeSelection",1),ie([Ee],mt.prototype,"onContextMenu",1),ie([Ee],mt.prototype,"onKeyDown",1),ie([Ee],mt.prototype,"onKeyUp",1),ie([Ee],mt.prototype,"onKeyPress",1),ie([Ee],mt.prototype,"onDidFocus",1),ie([Ee],mt.prototype,"onDidBlur",1);var zT=new RegExp(`(\\\\)?\\$\\((${Se.iconNameExpression}(?:${Se.iconModifierExpression})?)\\)`,"g");function ji(i){let e=new Array,t,n=0,o=0;for(;(t=zT.exec(i))!==null;){o=t.index||0,n<o&&e.push(i.substring(n,o)),n=(t.index||0)+t[0].length;let[,r,s]=t;e.push(r?`$(${s})`:UT({id:s}))}return n<i.length&&e.push(i.substring(n)),e}function UT(i){let e=Z("span");return e.classList.add(...Se.asClassNameArray(i)),e}var Es=class{_prefix;_lastId;constructor(e){this._prefix=e,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}},VT=new Es("id#");var ft={};(function(){function i(e,t){t(ft)}i.amd=!0,function(e,t){typeof i=="function"&&i.amd?i(["exports"],t):typeof exports=="object"&&typeof module<"u"?t(exports):(e=typeof globalThis<"u"?globalThis:e||self,t(e.marked={}))}(this,function(e){"use strict";function t(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}e.defaults=t();function n(le){e.defaults=le}let o=/[&<>"']/,r=new RegExp(o.source,"g"),s=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,a=new RegExp(s.source,"g"),l={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},d=le=>l[le];function u(le,m){if(m){if(o.test(le))return le.replace(r,d)}else if(s.test(le))return le.replace(a,d);return le}let h=/(^|[^\[])\^/g;function f(le,m){let g=typeof le=="string"?le:le.source;m=m||"";let b={replace:(I,x)=>{let D=typeof x=="string"?x:x.source;return D=D.replace(h,"$1"),g=g.replace(I,D),b},getRegex:()=>new RegExp(g,m)};return b}function T(le){try{le=encodeURI(le).replace(/%25/g,"%")}catch{return null}return le}let w={exec:()=>null};function v(le,m){let g=le.replace(/\|/g,(x,D,C)=>{let z=!1,$=D;for(;--$>=0&&C[$]==="\\";)z=!z;return z?"|":" |"}),b=g.split(/ \|/),I=0;if(b[0].trim()||b.shift(),b.length>0&&!b[b.length-1].trim()&&b.pop(),m)if(b.length>m)b.splice(m);else for(;b.length<m;)b.push("");for(;I<b.length;I++)b[I]=b[I].trim().replace(/\\\|/g,"|");return b}function E(le,m,g){let b=le.length;if(b===0)return"";let I=0;for(;I<b;){let x=le.charAt(b-I-1);if(x===m&&!g)I++;else if(x!==m&&g)I++;else break}return le.slice(0,b-I)}function P(le,m){if(le.indexOf(m[1])===-1)return-1;let g=0;for(let b=0;b<le.length;b++)if(le[b]==="\\")b++;else if(le[b]===m[0])g++;else if(le[b]===m[1]&&(g--,g<0))return b;return-1}function O(le,m,g,b){let I=m.href,x=m.title?u(m.title):null,D=le[1].replace(/\\([\[\]])/g,"$1");if(le[0].charAt(0)!=="!"){b.state.inLink=!0;let C={type:"link",raw:g,href:I,title:x,text:D,tokens:b.inlineTokens(D)};return b.state.inLink=!1,C}return{type:"image",raw:g,href:I,title:x,text:u(D)}}function U(le,m){let g=le.match(/^(\s+)(?:```)/);if(g===null)return m;let b=g[1];return m.split(`
`).map(I=>{let x=I.match(/^\s+/);if(x===null)return I;let[D]=x;return D.length>=b.length?I.slice(b.length):I}).join(`
`)}class R{options;rules;lexer;constructor(m){this.options=m||e.defaults}space(m){let g=this.rules.block.newline.exec(m);if(g&&g[0].length>0)return{type:"space",raw:g[0]}}code(m){let g=this.rules.block.code.exec(m);if(g){let b=g[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:g[0],codeBlockStyle:"indented",text:this.options.pedantic?b:E(b,`
`)}}}fences(m){let g=this.rules.block.fences.exec(m);if(g){let b=g[0],I=U(b,g[3]||"");return{type:"code",raw:b,lang:g[2]?g[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):g[2],text:I}}}heading(m){let g=this.rules.block.heading.exec(m);if(g){let b=g[2].trim();if(/#$/.test(b)){let I=E(b,"#");(this.options.pedantic||!I||/ $/.test(I))&&(b=I.trim())}return{type:"heading",raw:g[0],depth:g[1].length,text:b,tokens:this.lexer.inline(b)}}}hr(m){let g=this.rules.block.hr.exec(m);if(g)return{type:"hr",raw:E(g[0],`
`)}}blockquote(m){let g=this.rules.block.blockquote.exec(m);if(g){let b=E(g[0],`
`).split(`
`),I="",x="",D=[];for(;b.length>0;){let C=!1,z=[],$;for($=0;$<b.length;$++)if(/^ {0,3}>/.test(b[$]))z.push(b[$]),C=!0;else if(!C)z.push(b[$]);else break;b=b.slice($);let de=z.join(`
`),De=de.replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,`
    $1`).replace(/^ {0,3}>[ \t]?/gm,"");I=I?`${I}
${de}`:de,x=x?`${x}
${De}`:De;let Fe=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(De,D,!0),this.lexer.state.top=Fe,b.length===0)break;let tt=D[D.length-1];if(tt?.type==="code")break;if(tt?.type==="blockquote"){let Be=tt,X=Be.raw+`
`+b.join(`
`),S=this.blockquote(X);D[D.length-1]=S,I=I.substring(0,I.length-Be.raw.length)+S.raw,x=x.substring(0,x.length-Be.text.length)+S.text;break}else if(tt?.type==="list"){let Be=tt,X=Be.raw+`
`+b.join(`
`),S=this.list(X);D[D.length-1]=S,I=I.substring(0,I.length-tt.raw.length)+S.raw,x=x.substring(0,x.length-Be.raw.length)+S.raw,b=X.substring(D[D.length-1].raw.length).split(`
`);continue}}return{type:"blockquote",raw:I,tokens:D,text:x}}}list(m){let g=this.rules.block.list.exec(m);if(g){let b=g[1].trim(),I=b.length>1,x={type:"list",raw:"",ordered:I,start:I?+b.slice(0,-1):"",loose:!1,items:[]};b=I?`\\d{1,9}\\${b.slice(-1)}`:`\\${b}`,this.options.pedantic&&(b=I?b:"[*+-]");let D=new RegExp(`^( {0,3}${b})((?:[	 ][^\\n]*)?(?:\\n|$))`),C=!1;for(;m;){let z=!1,$="",de="";if(!(g=D.exec(m))||this.rules.block.hr.test(m))break;$=g[0],m=m.substring($.length);let De=g[2].split(`
`,1)[0].replace(/^\t+/,F=>" ".repeat(3*F.length)),Fe=m.split(`
`,1)[0],tt=!De.trim(),Be=0;if(this.options.pedantic?(Be=2,de=De.trimStart()):tt?Be=g[1].length+1:(Be=g[2].search(/[^ ]/),Be=Be>4?1:Be,de=De.slice(Be),Be+=g[1].length),tt&&/^ *$/.test(Fe)&&($+=Fe+`
`,m=m.substring(Fe.length+1),z=!0),!z){let F=new RegExp(`^ {0,${Math.min(3,Be-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),j=new RegExp(`^ {0,${Math.min(3,Be-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),Oe=new RegExp(`^ {0,${Math.min(3,Be-1)}}(?:\`\`\`|~~~)`),rt=new RegExp(`^ {0,${Math.min(3,Be-1)}}#`);for(;m;){let Dt=m.split(`
`,1)[0];if(Fe=Dt,this.options.pedantic&&(Fe=Fe.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),Oe.test(Fe)||rt.test(Fe)||F.test(Fe)||j.test(m))break;if(Fe.search(/[^ ]/)>=Be||!Fe.trim())de+=`
`+Fe.slice(Be);else{if(tt||De.search(/[^ ]/)>=4||Oe.test(De)||rt.test(De)||j.test(De))break;de+=`
`+Fe}!tt&&!Fe.trim()&&(tt=!0),$+=Dt+`
`,m=m.substring(Dt.length+1),De=Fe.slice(Be)}}x.loose||(C?x.loose=!0:/\n *\n *$/.test($)&&(C=!0));let X=null,S;this.options.gfm&&(X=/^\[[ xX]\] /.exec(de),X&&(S=X[0]!=="[ ] ",de=de.replace(/^\[[ xX]\] +/,""))),x.items.push({type:"list_item",raw:$,task:!!X,checked:S,loose:!1,text:de,tokens:[]}),x.raw+=$}x.items[x.items.length-1].raw=x.items[x.items.length-1].raw.trimEnd(),x.items[x.items.length-1].text=x.items[x.items.length-1].text.trimEnd(),x.raw=x.raw.trimEnd();for(let z=0;z<x.items.length;z++)if(this.lexer.state.top=!1,x.items[z].tokens=this.lexer.blockTokens(x.items[z].text,[]),!x.loose){let $=x.items[z].tokens.filter(De=>De.type==="space"),de=$.length>0&&$.some(De=>/\n.*\n/.test(De.raw));x.loose=de}if(x.loose)for(let z=0;z<x.items.length;z++)x.items[z].loose=!0;return x}}html(m){let g=this.rules.block.html.exec(m);if(g)return{type:"html",block:!0,raw:g[0],pre:g[1]==="pre"||g[1]==="script"||g[1]==="style",text:g[0]}}def(m){let g=this.rules.block.def.exec(m);if(g){let b=g[1].toLowerCase().replace(/\s+/g," "),I=g[2]?g[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",x=g[3]?g[3].substring(1,g[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):g[3];return{type:"def",tag:b,raw:g[0],href:I,title:x}}}table(m){let g=this.rules.block.table.exec(m);if(!g||!/[:|]/.test(g[2]))return;let b=v(g[1]),I=g[2].replace(/^\||\| *$/g,"").split("|"),x=g[3]&&g[3].trim()?g[3].replace(/\n[ \t]*$/,"").split(`
`):[],D={type:"table",raw:g[0],header:[],align:[],rows:[]};if(b.length===I.length){for(let C of I)/^ *-+: *$/.test(C)?D.align.push("right"):/^ *:-+: *$/.test(C)?D.align.push("center"):/^ *:-+ *$/.test(C)?D.align.push("left"):D.align.push(null);for(let C=0;C<b.length;C++)D.header.push({text:b[C],tokens:this.lexer.inline(b[C]),header:!0,align:D.align[C]});for(let C of x)D.rows.push(v(C,D.header.length).map((z,$)=>({text:z,tokens:this.lexer.inline(z),header:!1,align:D.align[$]})));return D}}lheading(m){let g=this.rules.block.lheading.exec(m);if(g)return{type:"heading",raw:g[0],depth:g[2].charAt(0)==="="?1:2,text:g[1],tokens:this.lexer.inline(g[1])}}paragraph(m){let g=this.rules.block.paragraph.exec(m);if(g){let b=g[1].charAt(g[1].length-1)===`
`?g[1].slice(0,-1):g[1];return{type:"paragraph",raw:g[0],text:b,tokens:this.lexer.inline(b)}}}text(m){let g=this.rules.block.text.exec(m);if(g)return{type:"text",raw:g[0],text:g[0],tokens:this.lexer.inline(g[0])}}escape(m){let g=this.rules.inline.escape.exec(m);if(g)return{type:"escape",raw:g[0],text:u(g[1])}}tag(m){let g=this.rules.inline.tag.exec(m);if(g)return!this.lexer.state.inLink&&/^<a /i.test(g[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(g[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(g[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(g[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:g[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:g[0]}}link(m){let g=this.rules.inline.link.exec(m);if(g){let b=g[2].trim();if(!this.options.pedantic&&/^</.test(b)){if(!/>$/.test(b))return;let D=E(b.slice(0,-1),"\\");if((b.length-D.length)%2===0)return}else{let D=P(g[2],"()");if(D>-1){let z=(g[0].indexOf("!")===0?5:4)+g[1].length+D;g[2]=g[2].substring(0,D),g[0]=g[0].substring(0,z).trim(),g[3]=""}}let I=g[2],x="";if(this.options.pedantic){let D=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(I);D&&(I=D[1],x=D[3])}else x=g[3]?g[3].slice(1,-1):"";return I=I.trim(),/^</.test(I)&&(this.options.pedantic&&!/>$/.test(b)?I=I.slice(1):I=I.slice(1,-1)),O(g,{href:I&&I.replace(this.rules.inline.anyPunctuation,"$1"),title:x&&x.replace(this.rules.inline.anyPunctuation,"$1")},g[0],this.lexer)}}reflink(m,g){let b;if((b=this.rules.inline.reflink.exec(m))||(b=this.rules.inline.nolink.exec(m))){let I=(b[2]||b[1]).replace(/\s+/g," "),x=g[I.toLowerCase()];if(!x){let D=b[0].charAt(0);return{type:"text",raw:D,text:D}}return O(b,x,b[0],this.lexer)}}emStrong(m,g,b=""){let I=this.rules.inline.emStrongLDelim.exec(m);if(!I||I[3]&&b.match(/[\p{L}\p{N}]/u))return;if(!(I[1]||I[2]||"")||!b||this.rules.inline.punctuation.exec(b)){let D=[...I[0]].length-1,C,z,$=D,de=0,De=I[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(De.lastIndex=0,g=g.slice(-1*m.length+D);(I=De.exec(g))!=null;){if(C=I[1]||I[2]||I[3]||I[4]||I[5]||I[6],!C)continue;if(z=[...C].length,I[3]||I[4]){$+=z;continue}else if((I[5]||I[6])&&D%3&&!((D+z)%3)){de+=z;continue}if($-=z,$>0)continue;z=Math.min(z,z+$+de);let Fe=[...I[0]][0].length,tt=m.slice(0,D+I.index+Fe+z);if(Math.min(D,z)%2){let X=tt.slice(1,-1);return{type:"em",raw:tt,text:X,tokens:this.lexer.inlineTokens(X)}}let Be=tt.slice(2,-2);return{type:"strong",raw:tt,text:Be,tokens:this.lexer.inlineTokens(Be)}}}}codespan(m){let g=this.rules.inline.code.exec(m);if(g){let b=g[2].replace(/\n/g," "),I=/[^ ]/.test(b),x=/^ /.test(b)&&/ $/.test(b);return I&&x&&(b=b.substring(1,b.length-1)),b=u(b,!0),{type:"codespan",raw:g[0],text:b}}}br(m){let g=this.rules.inline.br.exec(m);if(g)return{type:"br",raw:g[0]}}del(m){let g=this.rules.inline.del.exec(m);if(g)return{type:"del",raw:g[0],text:g[2],tokens:this.lexer.inlineTokens(g[2])}}autolink(m){let g=this.rules.inline.autolink.exec(m);if(g){let b,I;return g[2]==="@"?(b=u(g[1]),I="mailto:"+b):(b=u(g[1]),I=b),{type:"link",raw:g[0],text:b,href:I,tokens:[{type:"text",raw:b,text:b}]}}}url(m){let g;if(g=this.rules.inline.url.exec(m)){let b,I;if(g[2]==="@")b=u(g[0]),I="mailto:"+b;else{let x;do x=g[0],g[0]=this.rules.inline._backpedal.exec(g[0])?.[0]??"";while(x!==g[0]);b=u(g[0]),g[1]==="www."?I="http://"+g[0]:I=g[0]}return{type:"link",raw:g[0],text:b,href:I,tokens:[{type:"text",raw:b,text:b}]}}}inlineText(m){let g=this.rules.inline.text.exec(m);if(g){let b;return this.lexer.state.inRawBlock?b=g[0]:b=u(g[0]),{type:"text",raw:g[0],text:b}}}}let L=/^(?: *(?:\n|$))+/,H=/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,B=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,M=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,te=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,Ie=/(?:[*+-]|\d{1,9}[.)])/,pe=f(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,Ie).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),ae=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,Et=/^[^\n]+/,jt=/(?!\s*\])(?:\\.|[^\[\]\\])+/,J=f(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",jt).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),K=f(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Ie).getRegex(),Y="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",q=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,G=f("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",q).replace("tag",Y).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),me=f(ae).replace("hr",M).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Y).getRegex(),Ue={blockquote:f(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",me).getRegex(),code:H,def:J,fences:B,heading:te,hr:M,html:G,lheading:pe,list:K,newline:L,paragraph:me,table:w,text:Et},ye=f("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",M).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Y).getRegex(),se={...Ue,table:ye,paragraph:f(ae).replace("hr",M).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",ye).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Y).getRegex()},Cn={...Ue,html:f(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",q).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:w,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:f(ae).replace("hr",M).replace("heading",` *#{1,6} *[^
]`).replace("lheading",pe).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},hn=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,yi=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,Ln=/^( {2,}|\\)\n(?!\s*$)/,Ko=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Ft="\\p{P}\\p{S}",ei=f(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,Ft).getRegex(),Kr=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,zr=f(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,Ft).getRegex(),Ti=f("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,Ft).getRegex(),zo=f("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,Ft).getRegex(),Uo=f(/\\([punct])/,"gu").replace(/punct/g,Ft).getRegex(),ia=f(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),oa=f(q).replace("(?:-->|$)","-->").getRegex(),Gd=f("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",oa).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Ii=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,so=f(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",Ii).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),ti=f(/^!?\[(label)\]\[(ref)\]/).replace("label",Ii).replace("ref",jt).getRegex(),ni=f(/^!?\[(ref)\](?:\[\])?/).replace("ref",jt).getRegex(),ra=f("reflink|nolink(?!\\()","g").replace("reflink",ti).replace("nolink",ni).getRegex(),Vo={_backpedal:w,anyPunctuation:Uo,autolink:ia,blockSkip:Kr,br:Ln,code:yi,del:w,emStrongLDelim:zr,emStrongRDelimAst:Ti,emStrongRDelimUnd:zo,escape:hn,link:so,nolink:ni,punctuation:ei,reflink:ti,reflinkSearch:ra,tag:Gd,text:Ko,url:w},sa={...Vo,link:f(/^!?\[(label)\]\((.*?)\)/).replace("label",Ii).getRegex(),reflink:f(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Ii).getRegex()},ao={...Vo,escape:f(hn).replace("])","~|])").getRegex(),url:f(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},aa={...ao,br:f(Ln).replace("{2,}","*").getRegex(),text:f(ao.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},ii={normal:Ue,gfm:se,pedantic:Cn},An={normal:Vo,gfm:ao,breaks:aa,pedantic:sa};class ot{tokens;options;state;tokenizer;inlineQueue;constructor(m){this.tokens=[],this.tokens.links=Object.create(null),this.options=m||e.defaults,this.options.tokenizer=this.options.tokenizer||new R,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let g={block:ii.normal,inline:An.normal};this.options.pedantic?(g.block=ii.pedantic,g.inline=An.pedantic):this.options.gfm&&(g.block=ii.gfm,this.options.breaks?g.inline=An.breaks:g.inline=An.gfm),this.tokenizer.rules=g}static get rules(){return{block:ii,inline:An}}static lex(m,g){return new ot(g).lex(m)}static lexInline(m,g){return new ot(g).inlineTokens(m)}lex(m){m=m.replace(/\r\n|\r/g,`
`),this.blockTokens(m,this.tokens);for(let g=0;g<this.inlineQueue.length;g++){let b=this.inlineQueue[g];this.inlineTokens(b.src,b.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(m,g=[],b=!1){this.options.pedantic?m=m.replace(/\t/g,"    ").replace(/^ +$/gm,""):m=m.replace(/^( *)(\t+)/gm,(C,z,$)=>z+"    ".repeat($.length));let I,x,D;for(;m;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(C=>(I=C.call({lexer:this},m,g))?(m=m.substring(I.raw.length),g.push(I),!0):!1))){if(I=this.tokenizer.space(m)){m=m.substring(I.raw.length),I.raw.length===1&&g.length>0?g[g.length-1].raw+=`
`:g.push(I);continue}if(I=this.tokenizer.code(m)){m=m.substring(I.raw.length),x=g[g.length-1],x&&(x.type==="paragraph"||x.type==="text")?(x.raw+=`
`+I.raw,x.text+=`
`+I.text,this.inlineQueue[this.inlineQueue.length-1].src=x.text):g.push(I);continue}if(I=this.tokenizer.fences(m)){m=m.substring(I.raw.length),g.push(I);continue}if(I=this.tokenizer.heading(m)){m=m.substring(I.raw.length),g.push(I);continue}if(I=this.tokenizer.hr(m)){m=m.substring(I.raw.length),g.push(I);continue}if(I=this.tokenizer.blockquote(m)){m=m.substring(I.raw.length),g.push(I);continue}if(I=this.tokenizer.list(m)){m=m.substring(I.raw.length),g.push(I);continue}if(I=this.tokenizer.html(m)){m=m.substring(I.raw.length),g.push(I);continue}if(I=this.tokenizer.def(m)){m=m.substring(I.raw.length),x=g[g.length-1],x&&(x.type==="paragraph"||x.type==="text")?(x.raw+=`
`+I.raw,x.text+=`
`+I.raw,this.inlineQueue[this.inlineQueue.length-1].src=x.text):this.tokens.links[I.tag]||(this.tokens.links[I.tag]={href:I.href,title:I.title});continue}if(I=this.tokenizer.table(m)){m=m.substring(I.raw.length),g.push(I);continue}if(I=this.tokenizer.lheading(m)){m=m.substring(I.raw.length),g.push(I);continue}if(D=m,this.options.extensions&&this.options.extensions.startBlock){let C=1/0,z=m.slice(1),$;this.options.extensions.startBlock.forEach(de=>{$=de.call({lexer:this},z),typeof $=="number"&&$>=0&&(C=Math.min(C,$))}),C<1/0&&C>=0&&(D=m.substring(0,C+1))}if(this.state.top&&(I=this.tokenizer.paragraph(D))){x=g[g.length-1],b&&x?.type==="paragraph"?(x.raw+=`
`+I.raw,x.text+=`
`+I.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=x.text):g.push(I),b=D.length!==m.length,m=m.substring(I.raw.length);continue}if(I=this.tokenizer.text(m)){m=m.substring(I.raw.length),x=g[g.length-1],x&&x.type==="text"?(x.raw+=`
`+I.raw,x.text+=`
`+I.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=x.text):g.push(I);continue}if(m){let C="Infinite loop on byte: "+m.charCodeAt(0);if(this.options.silent){console.error(C);break}else throw new Error(C)}}return this.state.top=!0,g}inline(m,g=[]){return this.inlineQueue.push({src:m,tokens:g}),g}inlineTokens(m,g=[]){let b,I,x,D=m,C,z,$;if(this.tokens.links){let de=Object.keys(this.tokens.links);if(de.length>0)for(;(C=this.tokenizer.rules.inline.reflinkSearch.exec(D))!=null;)de.includes(C[0].slice(C[0].lastIndexOf("[")+1,-1))&&(D=D.slice(0,C.index)+"["+"a".repeat(C[0].length-2)+"]"+D.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(C=this.tokenizer.rules.inline.blockSkip.exec(D))!=null;)D=D.slice(0,C.index)+"["+"a".repeat(C[0].length-2)+"]"+D.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(C=this.tokenizer.rules.inline.anyPunctuation.exec(D))!=null;)D=D.slice(0,C.index)+"++"+D.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;m;)if(z||($=""),z=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(de=>(b=de.call({lexer:this},m,g))?(m=m.substring(b.raw.length),g.push(b),!0):!1))){if(b=this.tokenizer.escape(m)){m=m.substring(b.raw.length),g.push(b);continue}if(b=this.tokenizer.tag(m)){m=m.substring(b.raw.length),I=g[g.length-1],I&&b.type==="text"&&I.type==="text"?(I.raw+=b.raw,I.text+=b.text):g.push(b);continue}if(b=this.tokenizer.link(m)){m=m.substring(b.raw.length),g.push(b);continue}if(b=this.tokenizer.reflink(m,this.tokens.links)){m=m.substring(b.raw.length),I=g[g.length-1],I&&b.type==="text"&&I.type==="text"?(I.raw+=b.raw,I.text+=b.text):g.push(b);continue}if(b=this.tokenizer.emStrong(m,D,$)){m=m.substring(b.raw.length),g.push(b);continue}if(b=this.tokenizer.codespan(m)){m=m.substring(b.raw.length),g.push(b);continue}if(b=this.tokenizer.br(m)){m=m.substring(b.raw.length),g.push(b);continue}if(b=this.tokenizer.del(m)){m=m.substring(b.raw.length),g.push(b);continue}if(b=this.tokenizer.autolink(m)){m=m.substring(b.raw.length),g.push(b);continue}if(!this.state.inLink&&(b=this.tokenizer.url(m))){m=m.substring(b.raw.length),g.push(b);continue}if(x=m,this.options.extensions&&this.options.extensions.startInline){let de=1/0,De=m.slice(1),Fe;this.options.extensions.startInline.forEach(tt=>{Fe=tt.call({lexer:this},De),typeof Fe=="number"&&Fe>=0&&(de=Math.min(de,Fe))}),de<1/0&&de>=0&&(x=m.substring(0,de+1))}if(b=this.tokenizer.inlineText(x)){m=m.substring(b.raw.length),b.raw.slice(-1)!=="_"&&($=b.raw.slice(-1)),z=!0,I=g[g.length-1],I&&I.type==="text"?(I.raw+=b.raw,I.text+=b.text):g.push(b);continue}if(m){let de="Infinite loop on byte: "+m.charCodeAt(0);if(this.options.silent){console.error(de);break}else throw new Error(de)}}return g}}class on{options;parser;constructor(m){this.options=m||e.defaults}space(m){return""}code({text:m,lang:g,escaped:b}){let I=(g||"").match(/^\S*/)?.[0],x=m.replace(/\n$/,"")+`
`;return I?'<pre><code class="language-'+u(I)+'">'+(b?x:u(x,!0))+`</code></pre>
`:"<pre><code>"+(b?x:u(x,!0))+`</code></pre>
`}blockquote({tokens:m}){return`<blockquote>
${this.parser.parse(m)}</blockquote>
`}html({text:m}){return m}heading({tokens:m,depth:g}){return`<h${g}>${this.parser.parseInline(m)}</h${g}>
`}hr(m){return`<hr>
`}list(m){let g=m.ordered,b=m.start,I="";for(let C=0;C<m.items.length;C++){let z=m.items[C];I+=this.listitem(z)}let x=g?"ol":"ul",D=g&&b!==1?' start="'+b+'"':"";return"<"+x+D+`>
`+I+"</"+x+`>
`}listitem(m){let g="";if(m.task){let b=this.checkbox({checked:!!m.checked});m.loose?m.tokens.length>0&&m.tokens[0].type==="paragraph"?(m.tokens[0].text=b+" "+m.tokens[0].text,m.tokens[0].tokens&&m.tokens[0].tokens.length>0&&m.tokens[0].tokens[0].type==="text"&&(m.tokens[0].tokens[0].text=b+" "+m.tokens[0].tokens[0].text)):m.tokens.unshift({type:"text",raw:b+" ",text:b+" "}):g+=b+" "}return g+=this.parser.parse(m.tokens,!!m.loose),`<li>${g}</li>
`}checkbox({checked:m}){return"<input "+(m?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:m}){return`<p>${this.parser.parseInline(m)}</p>
`}table(m){let g="",b="";for(let x=0;x<m.header.length;x++)b+=this.tablecell(m.header[x]);g+=this.tablerow({text:b});let I="";for(let x=0;x<m.rows.length;x++){let D=m.rows[x];b="";for(let C=0;C<D.length;C++)b+=this.tablecell(D[C]);I+=this.tablerow({text:b})}return I&&(I=`<tbody>${I}</tbody>`),`<table>
<thead>
`+g+`</thead>
`+I+`</table>
`}tablerow({text:m}){return`<tr>
${m}</tr>
`}tablecell(m){let g=this.parser.parseInline(m.tokens),b=m.header?"th":"td";return(m.align?`<${b} align="${m.align}">`:`<${b}>`)+g+`</${b}>
`}strong({tokens:m}){return`<strong>${this.parser.parseInline(m)}</strong>`}em({tokens:m}){return`<em>${this.parser.parseInline(m)}</em>`}codespan({text:m}){return`<code>${m}</code>`}br(m){return"<br>"}del({tokens:m}){return`<del>${this.parser.parseInline(m)}</del>`}link({href:m,title:g,tokens:b}){let I=this.parser.parseInline(b),x=T(m);if(x===null)return I;m=x;let D='<a href="'+m+'"';return g&&(D+=' title="'+g+'"'),D+=">"+I+"</a>",D}image({href:m,title:g,text:b}){let I=T(m);if(I===null)return b;m=I;let x=`<img src="${m}" alt="${b}"`;return g&&(x+=` title="${g}"`),x+=">",x}text(m){return"tokens"in m&&m.tokens?this.parser.parseInline(m.tokens):m.text}}class xi{strong({text:m}){return m}em({text:m}){return m}codespan({text:m}){return m}del({text:m}){return m}html({text:m}){return m}text({text:m}){return m}link({text:m}){return""+m}image({text:m}){return""+m}br(){return""}}class Mt{options;renderer;textRenderer;constructor(m){this.options=m||e.defaults,this.options.renderer=this.options.renderer||new on,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new xi}static parse(m,g){return new Mt(g).parse(m)}static parseInline(m,g){return new Mt(g).parseInline(m)}parse(m,g=!0){let b="";for(let I=0;I<m.length;I++){let x=m[I];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[x.type]){let C=x,z=this.options.extensions.renderers[C.type].call({parser:this},C);if(z!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(C.type)){b+=z||"";continue}}let D=x;switch(D.type){case"space":{b+=this.renderer.space(D);continue}case"hr":{b+=this.renderer.hr(D);continue}case"heading":{b+=this.renderer.heading(D);continue}case"code":{b+=this.renderer.code(D);continue}case"table":{b+=this.renderer.table(D);continue}case"blockquote":{b+=this.renderer.blockquote(D);continue}case"list":{b+=this.renderer.list(D);continue}case"html":{b+=this.renderer.html(D);continue}case"paragraph":{b+=this.renderer.paragraph(D);continue}case"text":{let C=D,z=this.renderer.text(C);for(;I+1<m.length&&m[I+1].type==="text";)C=m[++I],z+=`
`+this.renderer.text(C);g?b+=this.renderer.paragraph({type:"paragraph",raw:z,text:z,tokens:[{type:"text",raw:z,text:z}]}):b+=z;continue}default:{let C='Token with "'+D.type+'" type was not found.';if(this.options.silent)return console.error(C),"";throw new Error(C)}}}return b}parseInline(m,g){g=g||this.renderer;let b="";for(let I=0;I<m.length;I++){let x=m[I];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[x.type]){let C=this.options.extensions.renderers[x.type].call({parser:this},x);if(C!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(x.type)){b+=C||"";continue}}let D=x;switch(D.type){case"escape":{b+=g.text(D);break}case"html":{b+=g.html(D);break}case"link":{b+=g.link(D);break}case"image":{b+=g.image(D);break}case"strong":{b+=g.strong(D);break}case"em":{b+=g.em(D);break}case"codespan":{b+=g.codespan(D);break}case"br":{b+=g.br(D);break}case"del":{b+=g.del(D);break}case"text":{b+=g.text(D);break}default:{let C='Token with "'+D.type+'" type was not found.';if(this.options.silent)return console.error(C),"";throw new Error(C)}}}return b}}class lo{options;constructor(m){this.options=m||e.defaults}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(m){return m}postprocess(m){return m}processAllTokens(m){return m}}class Mn{defaults=t();options=this.setOptions;parse=this.parseMarkdown(ot.lex,Mt.parse);parseInline=this.parseMarkdown(ot.lexInline,Mt.parseInline);Parser=Mt;Renderer=on;TextRenderer=xi;Lexer=ot;Tokenizer=R;Hooks=lo;constructor(...m){this.use(...m)}walkTokens(m,g){let b=[];for(let I of m)switch(b=b.concat(g.call(this,I)),I.type){case"table":{let x=I;for(let D of x.header)b=b.concat(this.walkTokens(D.tokens,g));for(let D of x.rows)for(let C of D)b=b.concat(this.walkTokens(C.tokens,g));break}case"list":{let x=I;b=b.concat(this.walkTokens(x.items,g));break}default:{let x=I;this.defaults.extensions?.childTokens?.[x.type]?this.defaults.extensions.childTokens[x.type].forEach(D=>{let C=x[D].flat(1/0);b=b.concat(this.walkTokens(C,g))}):x.tokens&&(b=b.concat(this.walkTokens(x.tokens,g)))}}return b}use(...m){let g=this.defaults.extensions||{renderers:{},childTokens:{}};return m.forEach(b=>{let I={...b};if(I.async=this.defaults.async||I.async||!1,b.extensions&&(b.extensions.forEach(x=>{if(!x.name)throw new Error("extension name required");if("renderer"in x){let D=g.renderers[x.name];D?g.renderers[x.name]=function(...C){let z=x.renderer.apply(this,C);return z===!1&&(z=D.apply(this,C)),z}:g.renderers[x.name]=x.renderer}if("tokenizer"in x){if(!x.level||x.level!=="block"&&x.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let D=g[x.level];D?D.unshift(x.tokenizer):g[x.level]=[x.tokenizer],x.start&&(x.level==="block"?g.startBlock?g.startBlock.push(x.start):g.startBlock=[x.start]:x.level==="inline"&&(g.startInline?g.startInline.push(x.start):g.startInline=[x.start]))}"childTokens"in x&&x.childTokens&&(g.childTokens[x.name]=x.childTokens)}),I.extensions=g),b.renderer){let x=this.defaults.renderer||new on(this.defaults);for(let D in b.renderer){if(!(D in x))throw new Error(`renderer '${D}' does not exist`);if(["options","parser"].includes(D))continue;let C=D,z=b.renderer[C],$=x[C];x[C]=(...de)=>{let De=z.apply(x,de);return De===!1&&(De=$.apply(x,de)),De||""}}I.renderer=x}if(b.tokenizer){let x=this.defaults.tokenizer||new R(this.defaults);for(let D in b.tokenizer){if(!(D in x))throw new Error(`tokenizer '${D}' does not exist`);if(["options","rules","lexer"].includes(D))continue;let C=D,z=b.tokenizer[C],$=x[C];x[C]=(...de)=>{let De=z.apply(x,de);return De===!1&&(De=$.apply(x,de)),De}}I.tokenizer=x}if(b.hooks){let x=this.defaults.hooks||new lo;for(let D in b.hooks){if(!(D in x))throw new Error(`hook '${D}' does not exist`);if(D==="options")continue;let C=D,z=b.hooks[C],$=x[C];lo.passThroughHooks.has(D)?x[C]=de=>{if(this.defaults.async)return Promise.resolve(z.call(x,de)).then(Fe=>$.call(x,Fe));let De=z.call(x,de);return $.call(x,De)}:x[C]=(...de)=>{let De=z.apply(x,de);return De===!1&&(De=$.apply(x,de)),De}}I.hooks=x}if(b.walkTokens){let x=this.defaults.walkTokens,D=b.walkTokens;I.walkTokens=function(C){let z=[];return z.push(D.call(this,C)),x&&(z=z.concat(x.call(this,C))),z}}this.defaults={...this.defaults,...I}}),this}setOptions(m){return this.defaults={...this.defaults,...m},this}lexer(m,g){return ot.lex(m,g??this.defaults)}parser(m,g){return Mt.parse(m,g??this.defaults)}parseMarkdown(m,g){return(I,x)=>{let D={...x},C={...this.defaults,...D},z=this.onError(!!C.silent,!!C.async);if(this.defaults.async===!0&&D.async===!1)return z(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof I>"u"||I===null)return z(new Error("marked(): input parameter is undefined or null"));if(typeof I!="string")return z(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(I)+", string expected"));if(C.hooks&&(C.hooks.options=C),C.async)return Promise.resolve(C.hooks?C.hooks.preprocess(I):I).then($=>m($,C)).then($=>C.hooks?C.hooks.processAllTokens($):$).then($=>C.walkTokens?Promise.all(this.walkTokens($,C.walkTokens)).then(()=>$):$).then($=>g($,C)).then($=>C.hooks?C.hooks.postprocess($):$).catch(z);try{C.hooks&&(I=C.hooks.preprocess(I));let $=m(I,C);C.hooks&&($=C.hooks.processAllTokens($)),C.walkTokens&&this.walkTokens($,C.walkTokens);let de=g($,C);return C.hooks&&(de=C.hooks.postprocess(de)),de}catch($){return z($)}}}onError(m,g){return b=>{if(b.message+=`
Please report this to https://github.com/markedjs/marked.`,m){let I="<p>An error occurred:</p><pre>"+u(b.message+"",!0)+"</pre>";return g?Promise.resolve(I):I}if(g)return Promise.reject(b);throw b}}}let oi=new Mn;function Ne(le,m){return oi.parse(le,m)}Ne.options=Ne.setOptions=function(le){return oi.setOptions(le),Ne.defaults=oi.defaults,n(Ne.defaults),Ne},Ne.getDefaults=t,Ne.defaults=e.defaults,Ne.use=function(...le){return oi.use(...le),Ne.defaults=oi.defaults,n(Ne.defaults),Ne},Ne.walkTokens=function(le,m){return oi.walkTokens(le,m)},Ne.parseInline=oi.parseInline,Ne.Parser=Mt,Ne.parser=Mt.parse,Ne.Renderer=on,Ne.TextRenderer=xi,Ne.Lexer=ot,Ne.lexer=ot.lex,Ne.Tokenizer=R,Ne.Hooks=lo,Ne.parse=Ne;let lt=Ne.options,Si=Ne.setOptions,jd=Ne.use,la=Ne.walkTokens,Ur=Ne.parseInline,da=Ne,ca=Mt.parse,Qd=ot.lex;e.Hooks=lo,e.Lexer=ot,e.Marked=Mn,e.Parser=Mt,e.Renderer=on,e.TextRenderer=xi,e.Tokenizer=R,e.getDefaults=t,e.lexer=Qd,e.marked=Ne,e.options=lt,e.parse=da,e.parseInline=Ur,e.parser=ca,e.setOptions=Si,e.use=jd,e.walkTokens=la})})();var H5=ft.Hooks||exports.Hooks,K5=ft.Lexer||exports.Lexer,z5=ft.Marked||exports.Marked,U5=ft.Parser||exports.Parser,sg=ft.Renderer||exports.Renderer,V5=ft.TextRenderer||exports.TextRenderer,W5=ft.Tokenizer||exports.Tokenizer,WT=ft.defaults||exports.defaults,$5=ft.getDefaults||exports.getDefaults,$T=ft.lexer||exports.lexer,q5=ft.marked||exports.marked,G5=ft.options||exports.options,qT=ft.parse||exports.parse,j5=ft.parseInline||exports.parseInline,GT=ft.parser||exports.parser,Q5=ft.setOptions||exports.setOptions,Y5=ft.use||exports.use,X5=ft.walkTokens||exports.walkTokens;var uA=new ct(()=>new Uint8Array(256));function $t(i,e){if(i===e)return!0;if(i==null||e===null||e===void 0||typeof i!=typeof e||typeof i!="object"||Array.isArray(i)!==Array.isArray(e))return!1;let t,n;if(Array.isArray(i)){if(i.length!==e.length)return!1;for(t=0;t<i.length;t++)if(!$t(i[t],e[t]))return!1}else{let o=[];for(n in i)o.push(n);o.sort();let r=[];for(n in e)r.push(n);if(r.sort(),!$t(o,r))return!1;for(t=0;t<o.length;t++)if(!$t(i[o[t]],e[o[t]]))return!1}return!0}var jA=Object.freeze({image:({href:i,title:e,text:t})=>{let n=[],o=[];return i&&({href:i,dimensions:n}=Gf(i),o.push(`src="${Is(i)}"`)),t&&o.push(`alt="${Is(t)}"`),e&&o.push(`title="${Is(e)}"`),n.length&&(o=o.concat(n)),"<img "+o.join(" ")+">"},paragraph({tokens:i}){return`<p>${this.parser.parseInline(i)}</p>`},link({href:i,title:e,tokens:t}){let n=this.parser.parseInline(t);return typeof i!="string"?"":(i===n&&(n=yl(n)),e=typeof e=="string"?Is(yl(e)):"",i=yl(i),i=i.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),`<a href="${i}" title="${e||i}" draggable="false">${n}</a>`)}});function ag(){let i=new sg;return i.code=({text:e})=>e,i.blockquote=({text:e})=>e+`
`,i.html=e=>"",i.heading=function({tokens:e}){return this.parser.parseInline(e)+`
`},i.hr=()=>"",i.list=function({items:e}){return e.map(t=>this.listitem(t)).join(`
`)+`
`},i.listitem=({text:e})=>e+`
`,i.paragraph=function({tokens:e}){return this.parser.parseInline(e)+`
`},i.table=function({header:e,rows:t}){return e.map(n=>this.tablecell(n)).join(" ")+`
`+t.map(n=>n.map(o=>this.tablecell(o)).join(" ")).join(`
`)+`
`},i.tablerow=({text:e})=>e,i.tablecell=function({tokens:e}){return this.parser.parseInline(e)},i.strong=({text:e})=>e,i.em=({text:e})=>e,i.codespan=({text:e})=>e,i.br=e=>`
`,i.del=({text:e})=>e,i.image=e=>"",i.text=({text:e})=>e,i.link=({text:e})=>e,i}var QA=new ct(i=>ag()),YA=new ct(()=>{let i=ag();return i.code=({text:e})=>`
\`\`\`
${e}
\`\`\`
`,i});var JT={showHover:()=>{},hideHover:()=>{},showAndFocusLastHover:()=>{},setupManagedHover:()=>null,showManagedHover:()=>{}};function St(){return JT}var d7={..._l,selectBackground:"#3C3C3C",selectForeground:"#F0F0F0",selectBorder:"#3C3C3C",decoratorRightForeground:void 0,selectListBackground:void 0,selectListBorder:void 0,focusBorder:void 0};var Qi=class extends V{_onDidChange=this._register(new k);onDidChange=this._onDidChange.event;_id;_label;_tooltip;_cssClass;_enabled=!0;_checked;_actionCallback;constructor(e,t="",n="",o=!0,r){super(),this._id=e,this._label=t,this._cssClass=n,this._enabled=o,this._actionCallback=r}get id(){return this._id}get label(){return this._label}set label(e){this._setLabel(e)}_setLabel(e){this._label!==e&&(this._label=e,this._onDidChange.fire({label:e}))}get tooltip(){return this._tooltip||""}set tooltip(e){this._setTooltip(e)}_setTooltip(e){this._tooltip!==e&&(this._tooltip=e,this._onDidChange.fire({tooltip:e}))}get class(){return this._cssClass}set class(e){this._setClass(e)}_setClass(e){this._cssClass!==e&&(this._cssClass=e,this._onDidChange.fire({class:e}))}get enabled(){return this._enabled}set enabled(e){this._setEnabled(e)}_setEnabled(e){this._enabled!==e&&(this._enabled=e,this._onDidChange.fire({enabled:e}))}get checked(){return this._checked}set checked(e){this._setChecked(e)}_setChecked(e){this._checked!==e&&(this._checked=e,this._onDidChange.fire({checked:e}))}async run(e,t){this._actionCallback&&await this._actionCallback(e)}},wo=class extends V{_onWillRun=this._register(new k);onWillRun=this._onWillRun.event;_onDidRun=this._register(new k);onDidRun=this._onDidRun.event;async run(e,t){if(!e.enabled)return;this._onWillRun.fire({action:e});let n;try{await this.runAction(e,t)}catch(o){n=o}this._onDidRun.fire({action:e,error:n})}async runAction(e,t){await e.run(t)}},fi=class i{static join(...e){let t=[];for(let n of e)n.length&&(t.length?t=[...t,new i,...n]:t=n);return t}static ID="vs.actions.separator";id=i.ID;label="";tooltip="";class="separator";enabled=!1;checked=!1;async run(){}};var lg={inputActiveOptionBorder:"#007ACC00",inputActiveOptionForeground:"#FFFFFF",inputActiveOptionBackground:"#0E639C50"};var Sn=class extends _t{_onChange=this._register(new k);onChange=this._onChange.event;_onKeyDown=this._register(new k);onKeyDown=this._onKeyDown.event;_opts;_icon;domNode;_checked;_hover;constructor(e){super(),this._opts=e,this._checked=this._opts.isChecked;let t=["monaco-custom-toggle"];this._opts.icon&&(this._icon=this._opts.icon,t.push(...Se.asClassNameArray(this._icon))),this._opts.actionClassName&&t.push(...this._opts.actionClassName.split(" ")),this._checked&&t.push("checked"),this.domNode=document.createElement("div"),this._hover=this._register(St().setupManagedHover(e.hoverDelegate??Qe("mouse"),this.domNode,this._opts.title)),this.domNode.classList.add(...t),this._opts.notFocusable||(this.domNode.tabIndex=0),this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,n=>{this.enabled&&(this.checked=!this._checked,this._onChange.fire(!1),n.preventDefault())}),this._register(this.ignoreGesture(this.domNode)),this.onkeydown(this.domNode,n=>{if(n.keyCode===10||n.keyCode===3){this.checked=!this._checked,this._onChange.fire(!0),n.preventDefault(),n.stopPropagation();return}this._onKeyDown.fire(n)})}get enabled(){return this.domNode.getAttribute("aria-disabled")!=="true"}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(e){this._checked=e,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}setIcon(e){this._icon&&this.domNode.classList.remove(...Se.asClassNameArray(this._icon)),this._icon=e,this._icon&&this.domNode.classList.add(...Se.asClassNameArray(this._icon))}width(){return 22}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder||"",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground||"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground||"")}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}setTitle(e){this._hover.update(e),this.domNode.setAttribute("aria-label",e)}set visible(e){this.domNode.style.display=e?"":"none"}get visible(){return this.domNode.style.display!=="none"}};var cn=class extends V{constructor(t,n,o={}){super();this.options=o;this._context=t||this,this._action=n,n instanceof Qi&&this._register(n.onDidChange(r=>{this.element&&this.handleActionChangeEvent(r)}))}element;_context;_action;customHover;get action(){return this._action}_actionRunner;handleActionChangeEvent(t){t.enabled!==void 0&&this.updateEnabled(),t.checked!==void 0&&this.updateChecked(),t.class!==void 0&&this.updateClass(),t.label!==void 0&&(this.updateLabel(),this.updateTooltip()),t.tooltip!==void 0&&this.updateTooltip()}get actionRunner(){return this._actionRunner||(this._actionRunner=this._register(new wo)),this._actionRunner}set actionRunner(t){this._actionRunner=t}isEnabled(){return this._action.enabled}setActionContext(t){this._context=t}render(t){let n=this.element=t;this._register(It.addTarget(t));let o=this.options&&this.options.draggable;o&&(t.draggable=!0,Ni&&this._register(Q(t,oe.DRAG_START,r=>r.dataTransfer?.setData(sl.TEXT,this._action.label)))),this._register(Q(n,Ke.Tap,r=>this.onClick(r,!0))),this._register(Q(n,oe.MOUSE_DOWN,r=>{o||$e.stop(r,!0),this._action.enabled&&r.button===0&&n.classList.add("active")})),ke&&this._register(Q(n,oe.CONTEXT_MENU,r=>{r.button===0&&r.ctrlKey===!0&&this.onClick(r)})),this._register(Q(n,oe.CLICK,r=>{$e.stop(r,!0),this.options&&this.options.isMenu||this.onClick(r)})),this._register(Q(n,oe.DBLCLICK,r=>{$e.stop(r,!0)})),[oe.MOUSE_UP,oe.MOUSE_OUT].forEach(r=>{this._register(Q(n,r,s=>{$e.stop(s),n.classList.remove("active")}))})}onClick(t,n=!1){$e.stop(t,!0);let o=Fi(this._context)?this.options?.useEventAsContext?t:{preserveFocus:n}:this._context;this.actionRunner.run(this._action,o)}focus(){this.element&&(this.element.tabIndex=0,this.element.focus(),this.element.classList.add("focused"))}isFocused(){return!!this.element?.classList.contains("focused")}blur(){this.element&&(this.element.blur(),this.element.tabIndex=-1,this.element.classList.remove("focused"))}setFocusable(t){this.element&&(this.element.tabIndex=t?0:-1)}get trapsArrowNavigation(){return!1}updateEnabled(){}updateLabel(){}getClass(){return this.action.class}getTooltip(){return this.action.tooltip}updateTooltip(){if(!this.element)return;let t=this.getTooltip()??"";if(this.updateAriaLabel(),this.options.hoverDelegate?.showNativeHover)this.element.title=t;else if(!this.customHover&&t!==""){let n=this.options.hoverDelegate??Qe("element");this.customHover=this._store.add(St().setupManagedHover(n,this.element,t))}else this.customHover&&this.customHover.update(t)}updateAriaLabel(){if(this.element){let t=this.getTooltip()??"";this.element.setAttribute("aria-label",t)}}updateClass(){}updateChecked(){}dispose(){this.element&&(this.element.remove(),this.element=void 0),this._context=void 0,super.dispose()}},Ds=class extends cn{label;options;cssClass;constructor(e,t,n){super(e,t,n),this.options=n,this.options.icon=n.icon!==void 0?n.icon:!1,this.options.label=n.label!==void 0?n.label:!0,this.cssClass=""}render(e){super.render(e),zm(this.element);let t=document.createElement("a");if(t.classList.add("action-label"),t.setAttribute("role",this.getDefaultAriaRole()),this.label=t,this.element.appendChild(t),this.options.label&&this.options.keybinding){let n=document.createElement("span");n.classList.add("keybinding"),n.textContent=this.options.keybinding,this.element.appendChild(n)}this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}getDefaultAriaRole(){return this._action.id===fi.ID?"presentation":this.options.isMenu?"menuitem":this.options.isTabList?"tab":"button"}focus(){this.label&&(this.label.tabIndex=0,this.label.focus())}isFocused(){return!!this.label&&this.label?.tabIndex===0}blur(){this.label&&(this.label.tabIndex=-1)}setFocusable(e){this.label&&(this.label.tabIndex=e?0:-1)}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this.action.label)}getTooltip(){let e=null;return this.action.tooltip?e=this.action.tooltip:!this.options.label&&this.action.label&&this.options.icon&&(e=this.action.label,this.options.keybinding&&(e=p({key:"titleLabel",comment:["action title","action keybinding"]},"{0} ({1})",e,this.options.keybinding))),e??void 0}updateClass(){this.cssClass&&this.label&&this.label.classList.remove(...this.cssClass.split(" ")),this.options.icon?(this.cssClass=this.getClass(),this.label&&(this.label.classList.add("codicon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" "))),this.updateEnabled()):this.label?.classList.remove("codicon")}updateEnabled(){this.action.enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled")),this.element?.classList.remove("disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled")),this.element?.classList.add("disabled"))}updateAriaLabel(){if(this.label){let e=this.getTooltip()??"";this.label.setAttribute("aria-label",e)}}updateChecked(){this.label&&(this.action.checked!==void 0?(this.label.classList.toggle("checked",this.action.checked),this.options.isTabList?this.label.setAttribute("aria-selected",this.action.checked?"true":"false"):(this.label.setAttribute("aria-checked",this.action.checked?"true":"false"),this.label.setAttribute("role","checkbox"))):(this.label.classList.remove("checked"),this.label.removeAttribute(this.options.isTabList?"aria-selected":"aria-checked"),this.label.setAttribute("role",this.getDefaultAriaRole())))}};var jn=class extends V{options;_hoverDelegate;_actionRunner;_actionRunnerDisposables=this._register(new W);_context;_orientation;_triggerKeys;viewItems;viewItemDisposables=this._register(new fo);previouslyFocusedItem;focusedItem;focusTracker;triggerKeyDown=!1;focusable=!0;domNode;actionsList;_onDidBlur=this._register(new k);onDidBlur=this._onDidBlur.event;_onDidCancel=this._register(new k({onWillAddFirstListener:()=>this.cancelHasListener=!0}));onDidCancel=this._onDidCancel.event;cancelHasListener=!1;_onDidRun=this._register(new k);onDidRun=this._onDidRun.event;_onWillRun=this._register(new k);onWillRun=this._onWillRun.event;constructor(e,t={}){super(),this.options=t,this._context=t.context??null,this._orientation=this.options.orientation??0,this._triggerKeys={keyDown:this.options.triggerKeys?.keyDown??!1,keys:this.options.triggerKeys?.keys??[3,10]},this._hoverDelegate=t.hoverDelegate??this._register(xo()),this.options.actionRunner?this._actionRunner=this.options.actionRunner:(this._actionRunner=new wo,this._actionRunnerDisposables.add(this._actionRunner)),this._actionRunnerDisposables.add(this._actionRunner.onDidRun(r=>this._onDidRun.fire(r))),this._actionRunnerDisposables.add(this._actionRunner.onWillRun(r=>this._onWillRun.fire(r))),this.viewItems=[],this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar";let n,o;switch(this._orientation){case 0:n=[15],o=[17];break;case 1:n=[16],o=[18],this.domNode.className+=" vertical";break}this._register(Q(this.domNode,oe.KEY_DOWN,r=>{let s=new Me(r),a=!0,l=typeof this.focusedItem=="number"?this.viewItems[this.focusedItem]:void 0;n&&(s.equals(n[0])||s.equals(n[1]))?a=this.focusPrevious():o&&(s.equals(o[0])||s.equals(o[1]))?a=this.focusNext():s.equals(9)&&this.cancelHasListener?this._onDidCancel.fire():s.equals(14)?a=this.focusFirst():s.equals(13)?a=this.focusLast():s.equals(2)&&l instanceof cn&&l.trapsArrowNavigation?a=this.focusNext(void 0,!0):this.isTriggerKeyEvent(s)?this._triggerKeys.keyDown?this.doTrigger(s):this.triggerKeyDown=!0:a=!1,a&&(s.preventDefault(),s.stopPropagation())})),this._register(Q(this.domNode,oe.KEY_UP,r=>{let s=new Me(r);this.isTriggerKeyEvent(s)?(!this._triggerKeys.keyDown&&this.triggerKeyDown&&(this.triggerKeyDown=!1,this.doTrigger(s)),s.preventDefault(),s.stopPropagation()):(s.equals(2)||s.equals(1026)||s.equals(16)||s.equals(18)||s.equals(15)||s.equals(17))&&this.updateFocusedItem()})),this.focusTracker=this._register(rl(this.domNode)),this._register(this.focusTracker.onDidBlur(()=>{(Ki()===this.domNode||!Ut(Ki(),this.domNode))&&(this._onDidBlur.fire(),this.previouslyFocusedItem=this.focusedItem,this.focusedItem=void 0,this.triggerKeyDown=!1)})),this._register(this.focusTracker.onDidFocus(()=>this.updateFocusedItem())),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.options.highlightToggledItems&&this.actionsList.classList.add("highlight-toggled"),this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"),this.options.ariaLabel&&this.actionsList.setAttribute("aria-label",this.options.ariaLabel),this.domNode.appendChild(this.actionsList),e.appendChild(this.domNode)}refreshRole(){this.length()>=1?this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"):this.actionsList.setAttribute("role","presentation")}setAriaLabel(e){e?this.actionsList.setAttribute("aria-label",e):this.actionsList.removeAttribute("aria-label")}setFocusable(e){if(this.focusable=e,this.focusable){let t=this.viewItems.find(n=>n instanceof cn&&n.isEnabled());t instanceof cn&&t.setFocusable(!0)}else this.viewItems.forEach(t=>{t instanceof cn&&t.setFocusable(!1)})}isTriggerKeyEvent(e){let t=!1;return this._triggerKeys.keys.forEach(n=>{t=t||e.equals(n)}),t}updateFocusedItem(){for(let e=0;e<this.actionsList.children.length;e++){let t=this.actionsList.children[e];if(Ut(Ki(),t)){this.focusedItem=e,this.viewItems[this.focusedItem]?.showHover?.();break}}}get context(){return this._context}set context(e){this._context=e,this.viewItems.forEach(t=>t.setActionContext(e))}get actionRunner(){return this._actionRunner}set actionRunner(e){this._actionRunner=e,this._actionRunnerDisposables.clear(),this._actionRunnerDisposables.add(this._actionRunner.onDidRun(t=>this._onDidRun.fire(t))),this._actionRunnerDisposables.add(this._actionRunner.onWillRun(t=>this._onWillRun.fire(t))),this.viewItems.forEach(t=>t.actionRunner=e)}getContainer(){return this.domNode}hasAction(e){return this.viewItems.findIndex(t=>t.action.id===e.id)!==-1}getAction(e){if(typeof e=="number")return this.viewItems[e]?.action;if(Ze(e)){for(;e.parentElement!==this.actionsList;){if(!e.parentElement)return;e=e.parentElement}for(let t=0;t<this.actionsList.childNodes.length;t++)if(this.actionsList.childNodes[t]===e)return this.viewItems[t].action}}push(e,t={}){let n=Array.isArray(e)?e:[e],o=Oi(t.index)?t.index:null;n.forEach(r=>{let s=document.createElement("li");s.className="action-item",s.setAttribute("role","presentation");let a,l={hoverDelegate:this._hoverDelegate,...t,isTabList:this.options.ariaRole==="tablist"};this.options.actionViewItemProvider&&(a=this.options.actionViewItemProvider(r,l)),a||(a=new Ds(this.context,r,l)),this.options.allowContextMenu||this.viewItemDisposables.set(a,Q(s,oe.CONTEXT_MENU,d=>{$e.stop(d,!0)})),a.actionRunner=this._actionRunner,a.setActionContext(this.context),a.render(s),this.focusable&&a instanceof cn&&this.viewItems.length===0&&a.setFocusable(!0),o===null||o<0||o>=this.actionsList.children.length?(this.actionsList.appendChild(s),this.viewItems.push(a)):(this.actionsList.insertBefore(s,this.actionsList.children[o]),this.viewItems.splice(o,0,a),o++)}),typeof this.focusedItem=="number"&&this.focus(this.focusedItem),this.refreshRole()}getWidth(e){if(e>=0&&e<this.actionsList.children.length){let t=this.actionsList.children.item(e);if(t)return t.clientWidth}return 0}getHeight(e){if(e>=0&&e<this.actionsList.children.length){let t=this.actionsList.children.item(e);if(t)return t.clientHeight}return 0}pull(e){e>=0&&e<this.viewItems.length&&(this.actionsList.childNodes[e].remove(),this.viewItemDisposables.deleteAndDispose(this.viewItems[e]),je(this.viewItems.splice(e,1)),this.refreshRole())}clear(){this.isEmpty()||(this.viewItems=je(this.viewItems),this.viewItemDisposables.clearAndDisposeAll(),yt(this.actionsList),this.refreshRole())}length(){return this.viewItems.length}isEmpty(){return this.viewItems.length===0}focus(e){let t=!1,n;if(e===void 0?t=!0:typeof e=="number"?n=e:typeof e=="boolean"&&(t=e),t&&typeof this.focusedItem>"u"){let o=this.viewItems.findIndex(r=>r.isEnabled());this.focusedItem=o===-1?void 0:o,this.updateFocus(void 0,void 0,!0)}else n!==void 0&&(this.focusedItem=n),this.updateFocus(void 0,void 0,!0)}focusFirst(){return this.focusedItem=this.length()-1,this.focusNext(!0)}focusLast(){return this.focusedItem=0,this.focusPrevious(!0)}focusNext(e,t){if(typeof this.focusedItem>"u")this.focusedItem=this.viewItems.length-1;else if(this.viewItems.length<=1)return!1;let n=this.focusedItem,o;do{if(!e&&this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=n,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,o=this.viewItems[this.focusedItem]}while(this.focusedItem!==n&&(this.options.focusOnlyEnabledItems&&!o.isEnabled()||o.action.id===fi.ID));return this.updateFocus(void 0,void 0,t),!0}focusPrevious(e){if(typeof this.focusedItem>"u")this.focusedItem=0;else if(this.viewItems.length<=1)return!1;let t=this.focusedItem,n;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(!e&&this.options.preventLoopNavigation)return this.focusedItem=t,!1;this.focusedItem=this.viewItems.length-1}n=this.viewItems[this.focusedItem]}while(this.focusedItem!==t&&(this.options.focusOnlyEnabledItems&&!n.isEnabled()||n.action.id===fi.ID));return this.updateFocus(!0),!0}updateFocus(e,t,n=!1){typeof this.focusedItem>"u"&&this.actionsList.focus({preventScroll:t}),this.previouslyFocusedItem!==void 0&&this.previouslyFocusedItem!==this.focusedItem&&this.viewItems[this.previouslyFocusedItem]?.blur();let o=this.focusedItem!==void 0?this.viewItems[this.focusedItem]:void 0;if(o){let r=!0;Va(o.focus)||(r=!1),this.options.focusOnlyEnabledItems&&Va(o.isEnabled)&&!o.isEnabled()&&(r=!1),o.action.id===fi.ID&&(r=!1),r?(n||this.previouslyFocusedItem!==this.focusedItem)&&(o.focus(e),this.previouslyFocusedItem=this.focusedItem):(this.actionsList.focus({preventScroll:t}),this.previouslyFocusedItem=void 0),r&&o.showHover?.()}}doTrigger(e){if(typeof this.focusedItem>"u")return;let t=this.viewItems[this.focusedItem];if(t instanceof cn){let n=t._context===null||t._context===void 0?e:t._context;this.run(t._action,n)}}async run(e,t){await this._actionRunner.run(e,t)}dispose(){this._context=void 0,this.viewItems=je(this.viewItems),this.getContainer().remove(),super.dispose()}};var CO={buttonBackground:"#0E639C",buttonHoverBackground:"#006BB3",buttonSeparator:A.white.toString(),buttonForeground:A.white.toString(),buttonBorder:void 0,buttonSecondaryBackground:void 0,buttonSecondaryForeground:void 0,buttonSecondaryHoverBackground:void 0};var Cl=class{constructor(e,t=0,n=e.length,o=t-1){this.items=e;this.start=t;this.end=n;this.index=o}current(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]}next(){return this.index=Math.min(this.index+1,this.end),this.current()}previous(){return this.index=Math.max(this.index-1,this.start-1),this.current()}first(){return this.index=this.start,this.current()}last(){return this.index=this.end-1,this.current()}};var Ll=class{_history;_limit;_navigator;constructor(e=[],t=10){this._initialize(e),this._limit=t,this._onChange()}getHistory(){return this._elements}add(e){this._history.delete(e),this._history.add(e),this._onChange()}next(){return this._navigator.next()}previous(){return this._currentPosition()!==0?this._navigator.previous():null}current(){return this._navigator.current()}first(){return this._navigator.first()}last(){return this._navigator.last()}isFirst(){return this._currentPosition()===0}isLast(){return this._currentPosition()>=this._elements.length-1}isNowhere(){return this._navigator.current()===null}has(e){return this._history.has(e)}clear(){this._initialize([]),this._onChange()}_onChange(){this._reduceToLimit();let e=this._elements;this._navigator=new Cl(e,0,e.length,e.length)}_reduceToLimit(){let e=this._elements;e.length>this._limit&&this._initialize(e.slice(e.length-this._limit))}_currentPosition(){let e=this._navigator.current();return e?this._elements.indexOf(e):-1}_initialize(e){this._history=new Set;for(let t of e)this._history.add(t)}get _elements(){let e=[];return this._history.forEach(t=>e.push(t)),e}};var ks=Z;var dg={inputBackground:"#3C3C3C",inputForeground:"#CCCCCC",inputValidationInfoBorder:"#55AAFF",inputValidationInfoBackground:"#063B49",inputValidationWarningBorder:"#B89500",inputValidationWarningBackground:"#352A05",inputValidationErrorBorder:"#BE1100",inputValidationErrorBackground:"#5A1D1D",inputBorder:void 0,inputValidationErrorForeground:void 0,inputValidationInfoForeground:void 0,inputValidationWarningForeground:void 0},Al=class extends _t{contextViewProvider;element;input;actionbar;options;message;placeholder;tooltip;ariaLabel;validation;state="idle";mirror;cachedHeight;cachedContentHeight;maxHeight=Number.POSITIVE_INFINITY;scrollableElement;hover;_onDidChange=this._register(new k);onDidChange=this._onDidChange.event;_onDidHeightChange=this._register(new k);onDidHeightChange=this._onDidHeightChange.event;constructor(e,t,n){super(),this.contextViewProvider=t,this.options=n,this.message=null,this.placeholder=this.options.placeholder||"",this.tooltip=this.options.tooltip??(this.placeholder||""),this.ariaLabel=this.options.ariaLabel||"",this.options.validationOptions&&(this.validation=this.options.validationOptions.validation),this.element=ee(e,ks(".monaco-inputbox.idle"));let o=this.options.flexibleHeight?"textarea":"input",r=ee(this.element,ks(".ibwrapper"));if(this.input=ee(r,ks(o+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,()=>this.element.classList.add("synthetic-focus")),this.onblur(this.input,()=>this.element.classList.remove("synthetic-focus")),this.options.flexibleHeight){this.maxHeight=typeof this.options.flexibleMaxHeight=="number"?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=ee(r,ks("div.mirror")),this.mirror.innerText="\xA0",this.scrollableElement=new ml(this.element,{vertical:1}),this.options.flexibleWidth&&(this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial"),ee(e,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll(l=>this.input.scrollTop=l.scrollTop));let s=this._register(new re(e.ownerDocument,"selectionchange")),a=_.filter(s.event,()=>e.ownerDocument.getSelection()?.anchorNode===r);this._register(a(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");this.ariaLabel&&this.input.setAttribute("aria-label",this.ariaLabel),this.placeholder&&!this.options.showPlaceholderOnFocus&&this.setPlaceHolder(this.placeholder),this.tooltip&&this.setTooltip(this.tooltip),this.oninput(this.input,()=>this.onValueChange()),this.onblur(this.input,()=>this.onBlur()),this.onfocus(this.input,()=>this.onFocus()),this._register(this.ignoreGesture(this.input)),setTimeout(()=>this.updateMirror(),0),this.options.actions&&(this.actionbar=this._register(new jn(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1})),this.applyStyles()}onBlur(){this._hideMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder","")}onFocus(){this._showMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder",this.placeholder||"")}setPlaceHolder(e){this.placeholder=e,this.input.setAttribute("placeholder",e)}setTooltip(e){this.tooltip=e,this.hover?this.hover.update(e):this.hover=this._register(St().setupManagedHover(Qe("mouse"),this.input,e))}setAriaLabel(e){this.ariaLabel=e,e?this.input.setAttribute("aria-label",this.ariaLabel):this.input.removeAttribute("aria-label")}getAriaLabel(){return this.ariaLabel}get mirrorElement(){return this.mirror}get inputElement(){return this.input}get value(){return this.input.value}set value(e){this.input.value!==e&&(this.input.value=e,this.onValueChange())}get step(){return this.input.step}set step(e){this.input.step=e}get height(){return typeof this.cachedHeight=="number"?this.cachedHeight:nl(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return Zt(this.input)}select(e=null){this.input.select(),e&&(this.input.setSelectionRange(e.start,e.end),e.end===this.input.value.length&&(this.input.scrollLeft=this.input.scrollWidth))}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}getSelection(){let e=this.input.selectionStart;if(e===null)return null;let t=this.input.selectionEnd??e;return{start:e,end:t}}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}setEnabled(e){e?this.enable():this.disable()}get width(){return gs(this.input)}set width(e){if(this.options.flexibleHeight&&this.options.flexibleWidth){let t=0;if(this.mirror){let n=parseFloat(this.mirror.style.paddingLeft||"")||0,o=parseFloat(this.mirror.style.paddingRight||"")||0;t=n+o}this.input.style.width=e-t+"px"}else this.input.style.width=e+"px";this.mirror&&(this.mirror.style.width=e+"px")}set paddingRight(e){this.input.style.width=`calc(100% - ${e}px)`,this.mirror&&(this.mirror.style.paddingRight=e+"px")}updateScrollDimensions(){if(typeof this.cachedContentHeight!="number"||typeof this.cachedHeight!="number"||!this.scrollableElement)return;let e=this.cachedContentHeight,t=this.cachedHeight,n=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:e,height:t}),this.scrollableElement.setScrollPosition({scrollTop:n})}showMessage(e,t){if(this.state==="open"&&$t(this.message,e))return;this.message=e,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(e.type));let n=this.stylesForType(this.message.type);this.element.style.border=`1px solid ${dn(n.border,"transparent")}`,this.message.content&&(this.hasFocus()||t)&&this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}isInputValid(){return!!this.validation&&!this.validation(this.value)}validate(){let e=null;return this.validation&&(e=this.validation(this.value),e?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(e)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),e?.type}stylesForType(e){let t=this.options.inputBoxStyles;switch(e){case 1:return{border:t.inputValidationInfoBorder,background:t.inputValidationInfoBackground,foreground:t.inputValidationInfoForeground};case 2:return{border:t.inputValidationWarningBorder,background:t.inputValidationWarningBackground,foreground:t.inputValidationWarningForeground};default:return{border:t.inputValidationErrorBorder,background:t.inputValidationErrorBackground,foreground:t.inputValidationErrorForeground}}}classForType(e){switch(e){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(!this.contextViewProvider||!this.message)return;let e,t=()=>e.style.width=gs(this.element)+"px";this.contextViewProvider.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:o=>{if(!this.message)return null;e=ee(o,ks(".monaco-inputbox-container")),t();let r={inline:!0,className:"monaco-inputbox-message"},s=this.message.formatContent?Qf(this.message.content,r):jf(this.message.content,r);s.classList.add(this.classForType(this.message.type));let a=this.stylesForType(this.message.type);return s.style.backgroundColor=a.background??"",s.style.color=a.foreground??"",s.style.border=a.border?`1px solid ${a.border}`:"",ee(e,s),null},onHide:()=>{this.state="closed"},layout:t});let n;this.message.type===3?n=p("alertErrorMessage","Error: {0}",this.message.content):this.message.type===2?n=p("alertWarningMessage","Warning: {0}",this.message.content):n=p("alertInfoMessage","Info: {0}",this.message.content),$i(n),this.state="open"}_hideMessage(){this.contextViewProvider&&(this.state==="open"&&this.contextViewProvider.hideContextView(),this.state="idle")}onValueChange(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),this.state==="open"&&this.contextViewProvider&&this.contextViewProvider.layout()}updateMirror(){if(!this.mirror)return;let e=this.value,n=e.charCodeAt(e.length-1)===10?" ":"";(e+n).replace(/\u000c/g,"")?this.mirror.textContent=e+n:this.mirror.innerText="\xA0",this.layout()}applyStyles(){let e=this.options.inputBoxStyles,t=e.inputBackground??"",n=e.inputForeground??"",o=e.inputBorder??"";this.element.style.backgroundColor=t,this.element.style.color=n,this.input.style.backgroundColor="inherit",this.input.style.color=n,this.element.style.border=`1px solid ${dn(o,"transparent")}`}layout(){if(!this.mirror)return;let e=this.cachedContentHeight;this.cachedContentHeight=nl(this.mirror),e!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}insertAtCursor(e){let t=this.inputElement,n=t.selectionStart,o=t.selectionEnd,r=t.value;n!==null&&o!==null&&(this.value=r.substr(0,n)+e+r.substr(o),t.setSelectionRange(n+1,n+1),this.layout())}dispose(){this._hideMessage(),this.message=null,this.actionbar?.dispose(),super.dispose()}},Ml=class extends Al{history;observer;_onDidFocus=this._register(new k);onDidFocus=this._onDidFocus.event;_onDidBlur=this._register(new k);onDidBlur=this._onDidBlur.event;constructor(e,t,n){let o=p({key:"history.inputbox.hint.suffix.noparens",comment:['Text is the suffix of an input field placeholder coming after the action the input field performs, this will be used when the input field ends in a closing parenthesis ")", for example "Filter (e.g. text, !exclude)". The character inserted into the final string is \u21C5 to represent the up and down arrow keys.']}," or {0} for history","\u21C5"),r=p({key:"history.inputbox.hint.suffix.inparens",comment:['Text is the suffix of an input field placeholder coming after the action the input field performs, this will be used when the input field does NOT end in a closing parenthesis (eg. "Find"). The character inserted into the final string is \u21C5 to represent the up and down arrow keys.']}," ({0} for history)","\u21C5");super(e,t,n),this.history=new Ll(n.history,100);let s=()=>{if(n.showHistoryHint&&n.showHistoryHint()&&!this.placeholder.endsWith(o)&&!this.placeholder.endsWith(r)&&this.history.getHistory().length){let a=this.placeholder.endsWith(")")?o:r,l=this.placeholder+a;n.showPlaceholderOnFocus&&!Zt(this.input)?this.placeholder=l:this.setPlaceHolder(l)}};this.observer=new MutationObserver((a,l)=>{a.forEach(d=>{d.target.textContent||s()})}),this.observer.observe(this.input,{attributeFilter:["class"]}),this.onfocus(this.input,()=>s()),this.onblur(this.input,()=>{let a=l=>{if(this.placeholder.endsWith(l)){let d=this.placeholder.slice(0,this.placeholder.length-l.length);return n.showPlaceholderOnFocus?this.placeholder=d:this.setPlaceHolder(d),!0}else return!1};a(r)||a(o)})}dispose(){super.dispose(),this.observer&&(this.observer.disconnect(),this.observer=void 0)}addToHistory(e){this.value&&(e||this.value!==this.getCurrentValue())&&this.history.add(this.value)}prependHistory(e){let t=this.getHistory();this.clearHistory(),e.forEach(n=>{this.history.add(n)}),t.forEach(n=>{this.history.add(n)})}getHistory(){return this.history.getHistory()}isAtFirstInHistory(){return this.history.isFirst()}isAtLastInHistory(){return this.history.isLast()}isNowhereInHistory(){return this.history.isNowhere()}showNextValue(){this.history.has(this.value)||this.addToHistory();let e=this.getNextValue();e&&(e=e===this.value?this.getNextValue():e),this.value=e??"",Nu(this.value?this.value:p("clearedInput","Cleared Input"))}showPreviousValue(){this.history.has(this.value)||this.addToHistory();let e=this.getPreviousValue();e&&(e=e===this.value?this.getPreviousValue():e),e&&(this.value=e,Nu(this.value))}clearHistory(){this.history.clear()}setPlaceHolder(e){super.setPlaceHolder(e),this.setTooltip(e)}onBlur(){super.onBlur(),this._onDidBlur.fire()}onFocus(){super.onFocus(),this._onDidFocus.fire()}getCurrentValue(){let e=this.history.current();return e||(e=this.history.last(),this.history.next()),e}getPreviousValue(){return this.history.previous()||this.history.first()}getNextValue(){return this.history.next()}};var br=class{modifierLabels;constructor(e,t,n=t){this.modifierLabels=[null],this.modifierLabels[2]=e,this.modifierLabels[1]=t,this.modifierLabels[3]=n}toLabel(e,t,n){if(t.length===0)return null;let o=[];for(let r=0,s=t.length;r<s;r++){let a=t[r],l=n(a);if(l===null)return null;o[r]=nI(a,l,this.modifierLabels[e])}return o.join(" ")}},cg=new br({ctrlKey:"\u2303",shiftKey:"\u21E7",altKey:"\u2325",metaKey:"\u2318",separator:""},{ctrlKey:p({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:p({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:p({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:p({key:"windowsKey",comment:["This is the short form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:p({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:p({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:p({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:p({key:"superKey",comment:["This is the short form for the Super key on the keyboard"]},"Super"),separator:"+"}),vR=new br({ctrlKey:p({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:p({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:p({key:"optKey.long",comment:["This is the long form for the Alt/Option key on the keyboard"]},"Option"),metaKey:p({key:"cmdKey.long",comment:["This is the long form for the Command key on the keyboard"]},"Command"),separator:"+"},{ctrlKey:p({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:p({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:p({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:p({key:"windowsKey.long",comment:["This is the long form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:p({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:p({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:p({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:p({key:"superKey.long",comment:["This is the long form for the Super key on the keyboard"]},"Super"),separator:"+"}),yR=new br({ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Cmd",separator:"+"},{ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Super",separator:"+"}),TR=new br({ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"cmd",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"win",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"meta",separator:"+"});function nI(i,e,t){if(e===null)return"";let n=[];return i.ctrlKey&&n.push(t.ctrlKey),i.shiftKey&&n.push(t.shiftKey),i.altKey&&n.push(t.altKey),i.metaKey&&n.push(t.metaKey),e!==""&&n.push(e),n.join(t.separator)}var Nl=Z;var Ol=class i extends V{constructor(t,n,o){super();this.os=n;this.options=o||Object.create(null);let r=this.options.keybindingLabelForeground;this.domNode=ee(t,Nl(".monaco-keybinding")),r&&(this.domNode.style.color=r),this.hover=this._register(St().setupManagedHover(Qe("mouse"),this.domNode,"")),this.didEverRender=!1,t.appendChild(this.domNode)}domNode;options;keyElements=new Set;hover;keybinding;matches;didEverRender;get element(){return this.domNode}set(t,n){this.didEverRender&&this.keybinding===t&&i.areSame(this.matches,n)||(this.keybinding=t,this.matches=n,this.render())}render(){if(this.clear(),this.keybinding){let t=this.keybinding.getChords();t[0]&&this.renderChord(this.domNode,t[0],this.matches?this.matches.firstPart:null);for(let o=1;o<t.length;o++)ee(this.domNode,Nl("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderChord(this.domNode,t[o],this.matches?this.matches.chordPart:null);let n=this.options.disableTitle??!1?void 0:this.keybinding.getAriaLabel()||void 0;this.hover.update(n),this.domNode.setAttribute("aria-label",n||"")}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.didEverRender=!0}clear(){yt(this.domNode),this.keyElements.clear()}renderChord(t,n,o){let r=cg.modifierLabels[this.os];n.ctrlKey&&this.renderKey(t,r.ctrlKey,!!o?.ctrlKey,r.separator),n.shiftKey&&this.renderKey(t,r.shiftKey,!!o?.shiftKey,r.separator),n.altKey&&this.renderKey(t,r.altKey,!!o?.altKey,r.separator),n.metaKey&&this.renderKey(t,r.metaKey,!!o?.metaKey,r.separator);let s=n.keyLabel;s&&this.renderKey(t,s,!!o?.keyCode,"")}renderKey(t,n,o,r){ee(t,this.createKeyElement(n,o?".highlight":"")),r&&ee(t,Nl("span.monaco-keybinding-key-separator",void 0,r))}renderUnbound(t){ee(t,this.createKeyElement(p("unbound","Unbound")))}createKeyElement(t,n=""){let o=Nl("span.monaco-keybinding-key"+n,void 0,t);return this.keyElements.add(o),this.options.keybindingLabelBackground&&(o.style.backgroundColor=this.options.keybindingLabelBackground),this.options.keybindingLabelBorder&&(o.style.borderColor=this.options.keybindingLabelBorder),this.options.keybindingLabelBottomBorder&&(o.style.borderBottomColor=this.options.keybindingLabelBottomBorder),this.options.keybindingLabelShadow&&(o.style.boxShadow=`inset 0 -1px 0 ${this.options.keybindingLabelShadow}`),o}static areSame(t,n){return t===n||!t&&!n?!0:!!t&&!!n&&$t(t.firstPart,n.firstPart)&&$t(t.chordPart,n.chordPart)}};var Rl=(o=>(o[o.Ignore=0]="Ignore",o[o.Info=1]="Info",o[o.Warning=2]="Warning",o[o.Error=3]="Error",o))(Rl||{});(a=>{let i="error",e="warning",t="warn",n="info",o="ignore";function r(l){return l?Hn(i,l)?3:Hn(e,l)||Hn(t,l)?2:Hn(n,l)?1:0:0}a.fromValue=r;function s(l){switch(l){case 3:return i;case 2:return e;case 1:return n;default:return o}}a.toString=s})(Rl||={});var Fl=Rl;var Yi;(o=>{o.serviceIds=new Map,o.DI_TARGET="$di$target",o.DI_DEPENDENCIES="$di$dependencies";function n(r){return r[o.DI_DEPENDENCIES]||[]}o.getServiceDependencies=n})(Yi||={});var un=Re("instantiationService");function iI(i,e,t){e[Yi.DI_TARGET]===e?e[Yi.DI_DEPENDENCIES].push({id:i,index:t}):(e[Yi.DI_DEPENDENCIES]=[{id:i,index:t}],e[Yi.DI_TARGET]=e)}function Re(i){if(Yi.serviceIds.has(i))return Yi.serviceIds.get(i);let e=function(t,n,o){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");iI(e,t,o)};return e.toString=()=>i,Yi.serviceIds.set(i,e),e}var ju=class{data=new Map;add(e,t){Sa(bn(e)),Sa(vn(t)),Sa(!this.data.has(e),"There is already an extension with this id"),this.data.set(e,t)}knows(e){return this.data.has(e)}as(e){return this.data.get(e)||null}},gt=new ju;var oI={Quickaccess:"workbench.contributions.quickaccess"},Qu=class{providers=[];defaultProvider=void 0;registerQuickAccessProvider(e){return e.prefix.length===0?this.defaultProvider=e:this.providers.push(e),this.providers.sort((t,n)=>n.prefix.length-t.prefix.length),he(()=>{this.providers.splice(this.providers.indexOf(e),1),this.defaultProvider===e&&(this.defaultProvider=void 0)})}getQuickAccessProviders(){return Pp([this.defaultProvider,...this.providers])}getQuickAccessProvider(e){return e&&this.providers.find(n=>e.startsWith(n.prefix))||void 0||this.defaultProvider}clear(){let e=[...this.providers],t=this.defaultProvider;return this.providers=[],this.defaultProvider=void 0,()=>{this.providers=e,this.defaultProvider=t}}};gt.add(oI.Quickaccess,new Qu);var ug=new ct(()=>{let i=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:i,collatorIsNumeric:i.resolvedOptions().numeric}}),k8=new ct(()=>({collator:new Intl.Collator(void 0,{numeric:!0})})),_8=new ct(()=>({collator:new Intl.Collator(void 0,{numeric:!0,sensitivity:"accent"})}));function rI(i,e,t=!1){let n=i||"",o=e||"",r=ug.value.collator.compare(n,o);return ug.value.collatorIsNumeric&&r===0&&n!==o?n<o?-1:1:r}function Yu(i,e,t){let n=i.toLowerCase(),o=e.toLowerCase(),r=sI(i,e,t);if(r)return r;let s=n.endsWith(t),a=o.endsWith(t);if(s!==a)return s?-1:1;let l=rI(n,o);return l!==0?l:n.localeCompare(o)}function sI(i,e,t){let n=i.toLowerCase(),o=e.toLowerCase(),r=n.startsWith(t),s=o.startsWith(t);if(r!==s)return r?-1:1;if(r&&s){if(n.length<o.length)return-1;if(n.length>o.length)return 1}return 0}var H8=Object.freeze({score:0}),K8=1<<18,z8=1<<17;var hg={ctrlCmd:!1,alt:!1};var Xu=class{constructor(e){this.options=e}getItemLabel(e){return e.label}getItemDescription(e){if(!this.options?.skipDescription)return e.description}getItemPath(e){if(!this.options?.skipPath)return e.resource?.scheme===We.file?e.resource.fsPath:e.resource?.path}},uF=new Xu,hF=Re("quickInputService");var aI=p("caseDescription","Match Case"),lI=p("wordsDescription","Match Whole Word"),dI=p("regexDescription","Use Regular Expression"),Bl=class extends Sn{constructor(e){super({icon:_e.caseSensitive,title:aI+e.appendTitle,isChecked:e.isChecked,hoverDelegate:e.hoverDelegate??Qe("element"),inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}},Hl=class extends Sn{constructor(e){super({icon:_e.wholeWord,title:lI+e.appendTitle,isChecked:e.isChecked,hoverDelegate:e.hoverDelegate??Qe("element"),inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}},Kl=class extends Sn{constructor(e){super({icon:_e.regex,title:dI+e.appendTitle,isChecked:e.isChecked,hoverDelegate:e.hoverDelegate??Qe("element"),inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}};var cI=p("defaultLabel","input"),_s=class extends _t{static OPTION_CHANGE="optionChange";placeholder;validation;label;showCommonFindToggles;fixFocusOnOptionClickEnabled=!0;imeSessionInProgress=!1;additionalTogglesDisposables=this._register(new Go);controls;regex;wholeWords;caseSensitive;additionalToggles=[];domNode;inputBox;_onDidOptionChange=this._register(new k);onDidOptionChange=this._onDidOptionChange.event;_onKeyDown=this._register(new k);onKeyDown=this._onKeyDown.event;_onMouseDown=this._register(new k);onMouseDown=this._onMouseDown.event;_onInput=this._register(new k);onInput=this._onInput.event;_onKeyUp=this._register(new k);onKeyUp=this._onKeyUp.event;_onCaseSensitiveKeyDown=this._register(new k);onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event;_onRegexKeyDown=this._register(new k);onRegexKeyDown=this._onRegexKeyDown.event;constructor(e,t,n){super(),this.placeholder=n.placeholder||"",this.validation=n.validation,this.label=n.label||cI,this.showCommonFindToggles=!!n.showCommonFindToggles;let o=n.appendCaseSensitiveLabel||"",r=n.appendWholeWordsLabel||"",s=n.appendRegexLabel||"",a=n.history||[],l=!!n.flexibleHeight,d=!!n.flexibleWidth,u=n.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new Ml(this.domNode,t,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},history:a,showHistoryHint:n.showHistoryHint,flexibleHeight:l,flexibleWidth:d,flexibleMaxHeight:u,inputBoxStyles:n.inputBoxStyles}));let h=this._register(xo());if(this.showCommonFindToggles){this.regex=this._register(new Kl({appendTitle:s,isChecked:!1,hoverDelegate:h,...n.toggleStyles})),this._register(this.regex.onChange(T=>{this._onDidOptionChange.fire(T),!T&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.regex.onKeyDown(T=>{this._onRegexKeyDown.fire(T)})),this.wholeWords=this._register(new Hl({appendTitle:r,isChecked:!1,hoverDelegate:h,...n.toggleStyles})),this._register(this.wholeWords.onChange(T=>{this._onDidOptionChange.fire(T),!T&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this.caseSensitive=this._register(new Bl({appendTitle:o,isChecked:!1,hoverDelegate:h,...n.toggleStyles})),this._register(this.caseSensitive.onChange(T=>{this._onDidOptionChange.fire(T),!T&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.caseSensitive.onKeyDown(T=>{this._onCaseSensitiveKeyDown.fire(T)}));let f=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,T=>{if(T.equals(15)||T.equals(17)||T.equals(9)){let w=f.indexOf(this.domNode.ownerDocument.activeElement);if(w>=0){let v=-1;T.equals(17)?v=(w+1)%f.length:T.equals(15)&&(w===0?v=f.length-1:v=w-1),T.equals(9)?(f[w].blur(),this.inputBox.focus()):v>=0&&f[v].focus(),$e.stop(T,!0)}}})}this.controls=document.createElement("div"),this.controls.className="controls",this.controls.style.display=this.showCommonFindToggles?"":"none",this.caseSensitive&&this.controls.append(this.caseSensitive.domNode),this.wholeWords&&this.controls.appendChild(this.wholeWords.domNode),this.regex&&this.controls.appendChild(this.regex.domNode),this.setAdditionalToggles(n?.additionalToggles),this.controls&&this.domNode.appendChild(this.controls),e?.appendChild(this.domNode),this._register(Q(this.inputBox.inputElement,"compositionstart",f=>{this.imeSessionInProgress=!0})),this._register(Q(this.inputBox.inputElement,"compositionend",f=>{this.imeSessionInProgress=!1,this._onInput.fire()})),this.onkeydown(this.inputBox.inputElement,f=>this._onKeyDown.fire(f)),this.onkeyup(this.inputBox.inputElement,f=>this._onKeyUp.fire(f)),this.oninput(this.inputBox.inputElement,f=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,f=>this._onMouseDown.fire(f))}get isImeSessionInProgress(){return this.imeSessionInProgress}get onDidChange(){return this.inputBox.onDidChange}layout(e){this.inputBox.layout(),this.updateInputBoxPadding(e.collapsedFindWidget)}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.regex?.enable(),this.wholeWords?.enable(),this.caseSensitive?.enable();for(let e of this.additionalToggles)e.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.regex?.disable(),this.wholeWords?.disable(),this.caseSensitive?.disable();for(let e of this.additionalToggles)e.disable()}setFocusInputOnOptionClick(e){this.fixFocusOnOptionClickEnabled=e}setEnabled(e){e?this.enable():this.disable()}setAdditionalToggles(e){for(let t of this.additionalToggles)t.domNode.remove();this.additionalToggles=[],this.additionalTogglesDisposables.value=new W;for(let t of e??[])this.additionalTogglesDisposables.value.add(t),this.controls.appendChild(t.domNode),this.additionalTogglesDisposables.value.add(t.onChange(n=>{this._onDidOptionChange.fire(n),!n&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus()})),this.additionalToggles.push(t);this.additionalToggles.length>0&&(this.controls.style.display=""),this.updateInputBoxPadding()}updateInputBoxPadding(e=!1){e?this.inputBox.paddingRight=0:this.inputBox.paddingRight=(this.caseSensitive?.width()??0)+(this.wholeWords?.width()??0)+(this.regex?.width()??0)+this.additionalToggles.reduce((t,n)=>t+n.width(),0)}clear(){this.clearValidation(),this.setValue(""),this.focus()}getValue(){return this.inputBox.value}setValue(e){this.inputBox.value!==e&&(this.inputBox.value=e)}onSearchSubmit(){this.inputBox.addToHistory()}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){return this.caseSensitive?.checked??!1}setCaseSensitive(e){this.caseSensitive&&(this.caseSensitive.checked=e)}getWholeWords(){return this.wholeWords?.checked??!1}setWholeWords(e){this.wholeWords&&(this.wholeWords.checked=e)}getRegex(){return this.regex?.checked??!1}setRegex(e){this.regex&&(this.regex.checked=e,this.validate())}focusOnCaseSensitive(){this.caseSensitive?.focus()}focusOnRegex(){this.regex?.focus()}_lastHighlightFindOptions=0;highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}showMessage(e){this.inputBox.showMessage(e)}clearMessage(){this.inputBox.hideMessage()}clearValidation(){this.inputBox.hideMessage()}};var zl=class{constructor(e){this.nodes=e}toString(){return this.nodes.map(e=>typeof e=="string"?e:e.label).join("")}};ie([Ee],zl.prototype,"toString",1);var hI=/\[([^\]]+)\]\(((?:https?:\/\/|command:|file:)[^\)\s]+)(?: (["'])(.+?)(\3))?\)/gi;function pg(i){let e=[],t=0,n;for(;n=hI.exec(i);){n.index-t>0&&e.push(i.substring(t,n.index));let[,o,r,,s]=n;s?e.push({label:o,href:r,title:s}):e.push({label:o,href:r}),t=n.index+n[0].length}return t<i.length&&e.push(i.substring(t)),new zl(e)}var Ju={},pI=new Es("quick-input-button-icon-");function mI(i){if(!i)return;let e,t=i.dark.toString();return Ju[t]?e=Ju[t]:(e=pI.nextId(),ol(`.${e}, .hc-light .${e}`,`background-image: ${yo(i.light||i.dark)}`),ol(`.vs-dark .${e}, .hc-black .${e}`,`background-image: ${yo(i.dark)}`),Ju[t]=e),e}function Eo(i,e,t){let n=i.iconClass||mI(i.iconPath);return i.alwaysVisible&&(n=n?`${n} always-visible`:"always-visible"),{id:e,label:"",tooltip:i.tooltip||"",class:n,enabled:!0,run:t}}function mg(i,e,t){Un(e);let n=pg(i),o=0;for(let r of n.nodes)if(typeof r=="string")e.append(...ji(r));else{let s=r.title;!s&&r.href.startsWith("command:")?s=p("executeCommand","Click to execute command '{0}'",r.href.substring(8)):s||(s=r.href);let a=Z("a",{href:r.href,title:s,tabIndex:o++},r.label);a.style.textDecoration="underline";let l=T=>{If(T)&&$e.stop(T,!0),t.callback(r.href)},d=t.disposables.add(new re(a,oe.CLICK)).event,u=t.disposables.add(new re(a,oe.KEY_DOWN)).event,h=_.chain(u,T=>T.filter(w=>{let v=new Me(w);return v.equals(10)||v.equals(3)}));t.disposables.add(It.addTarget(a));let f=t.disposables.add(new re(a,Ke.Tap)).event;_.any(d,f,h)(l,null,t.disposables),e.appendChild(a)}}var fI=Re("environmentService"),K6=fI;var t3=Re("contextService");var fg="code-workspace",n3=`.${fg}`,i3=[{name:p("codeWorkspace","Code Workspace"),extensions:[fg]}];var Ct=Re("configurationService");function gg(i){return i.replace(/[\[\]]/g,"")}var Zu=Re("hoverService"),vr=class extends V{constructor(t,n,o={},r,s){super();this.placement=t;this.instantHover=n;this.overrideOptions=o;this.configurationService=r;this.hoverService=s;this._delay=this.configurationService.getValue("workbench.hover.delay"),this._register(this.configurationService.onDidChangeConfiguration(a=>{a.affectsConfiguration("workbench.hover.delay")&&(this._delay=this.configurationService.getValue("workbench.hover.delay"))}))}lastHoverHideTime=0;timeLimit=200;_delay;get delay(){return this.isInstantlyHovering()?0:this._delay}hoverDisposables=this._register(new W);showHover(t,n){let o=typeof this.overrideOptions=="function"?this.overrideOptions(t,n):this.overrideOptions;this.hoverDisposables.clear();let r=Ze(t.target)?[t.target]:t.target.targetElements;for(let a of r)this.hoverDisposables.add(Rt(a,"keydown",l=>{l.equals(9)&&this.hoverService.hideHover()}));let s=Ze(t.content)?void 0:t.content.toString();return this.hoverService.showHover({...t,...o,persistence:{hideOnKeyDown:!0,...o.persistence},id:s,appearance:{...t.appearance,compact:!0,skipFadeInAnimation:this.isInstantlyHovering(),...o.appearance}},n)}isInstantlyHovering(){return this.instantHover&&Date.now()-this.lastHoverHideTime<this.timeLimit}setInstantHoverTimeLimit(t){if(!this.instantHover)throw new Error("Instant hover is not enabled");this.timeLimit=t}onDidHideHover(){this.hoverDisposables.clear(),this.instantHover&&(this.lastHoverHideTime=Date.now())}};vr=ie([ue(3,Ct),ue(4,Zu)],vr);var Pe=class extends Error{constructor(e,t){super(`TreeError [${e}] ${t}`)}},Do=class{constructor(e){this.fn=e}_map=new WeakMap;map(e){let t=this._map.get(e);return t||(t=this.fn(e),this._map.set(e,t)),t}};var eh=class{constructor(e,t){this.renderer=e;this.modelProvider=t}get templateId(){return this.renderer.templateId}renderTemplate(e){return{data:this.renderer.renderTemplate(e),disposable:V.None}}renderElement(e,t,n,o){if(n.disposable?.dispose(),!n.data)return;let r=this.modelProvider();if(r.isResolved(e))return this.renderer.renderElement(r.get(e),e,n.data,o);let s=new di,a=r.resolve(e,s.token);n.disposable={dispose:()=>s.cancel()},this.renderer.renderPlaceholder(e,n.data),a.then(l=>this.renderer.renderElement(l,e,n.data,o))}disposeTemplate(e){e.disposable&&(e.disposable.dispose(),e.disposable=void 0),e.data&&(this.renderer.disposeTemplate(e.data),e.data=void 0)}},th=class{constructor(e,t){this.modelProvider=e;this.accessibilityProvider=t}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(e){let t=this.modelProvider();return t.isResolved(e)?this.accessibilityProvider.getAriaLabel(t.get(e)):null}};function gI(i,e){return{...e,accessibilityProvider:e.accessibilityProvider&&new th(i,e.accessibilityProvider)}}var Ul=class{list;_model;constructor(e,t,n,o,r={}){let s=()=>this.model,a=o.map(l=>new eh(l,s));this.list=new mt(e,t,n,a,gI(s,r))}updateOptions(e){this.list.updateOptions(e)}getHTMLElement(){return this.list.getHTMLElement()}isDOMFocused(){return Zt(this.getHTMLElement())}domFocus(){this.list.domFocus()}get onDidFocus(){return this.list.onDidFocus}get onDidBlur(){return this.list.onDidBlur}get widget(){return this.list}get onDidDispose(){return this.list.onDidDispose}get onMouseClick(){return _.map(this.list.onMouseClick,({element:e,index:t,browserEvent:n})=>({element:e===void 0?void 0:this._model.get(e),index:t,browserEvent:n}))}get onMouseDblClick(){return _.map(this.list.onMouseDblClick,({element:e,index:t,browserEvent:n})=>({element:e===void 0?void 0:this._model.get(e),index:t,browserEvent:n}))}get onTap(){return _.map(this.list.onTap,({element:e,index:t,browserEvent:n})=>({element:e===void 0?void 0:this._model.get(e),index:t,browserEvent:n}))}get onPointer(){return _.map(this.list.onPointer,({element:e,index:t,browserEvent:n})=>({element:e===void 0?void 0:this._model.get(e),index:t,browserEvent:n}))}get onDidChangeFocus(){return _.map(this.list.onDidChangeFocus,({elements:e,indexes:t,browserEvent:n})=>({elements:e.map(o=>this._model.get(o)),indexes:t,browserEvent:n}))}get onDidChangeSelection(){return _.map(this.list.onDidChangeSelection,({elements:e,indexes:t,browserEvent:n})=>({elements:e.map(o=>this._model.get(o)),indexes:t,browserEvent:n}))}get onContextMenu(){return _.map(this.list.onContextMenu,({element:e,index:t,anchor:n,browserEvent:o})=>typeof e>"u"?{element:e,index:t,anchor:n,browserEvent:o}:{element:this._model.get(e),index:t,anchor:n,browserEvent:o})}get model(){return this._model}set model(e){this._model=e,this.list.splice(0,this.list.length,st(e.length))}get length(){return this.list.length}get scrollTop(){return this.list.scrollTop}set scrollTop(e){this.list.scrollTop=e}get scrollLeft(){return this.list.scrollLeft}set scrollLeft(e){this.list.scrollLeft=e}setAnchor(e){this.list.setAnchor(e)}getAnchor(){return this.list.getAnchor()}setFocus(e){this.list.setFocus(e)}focusNext(e,t){this.list.focusNext(e,t)}focusPrevious(e,t){this.list.focusPrevious(e,t)}focusNextPage(){return this.list.focusNextPage()}focusPreviousPage(){return this.list.focusPreviousPage()}focusLast(){this.list.focusLast()}focusFirst(){this.list.focusFirst()}getFocus(){return this.list.getFocus()}setSelection(e,t){this.list.setSelection(e,t)}getSelection(){return this.list.getSelection()}getSelectedElements(){return this.getSelection().map(e=>this.model.get(e))}layout(e,t){this.list.layout(e,t)}triggerTypeNavigation(){this.list.triggerTypeNavigation()}reveal(e,t){this.list.reveal(e,t)}style(e){this.list.style(e)}dispose(){this.list.dispose()}};var bI=!1;var vI=4,yI=new k;var TI=300,II=new k;var Cs=class{constructor(e){this.el=e}disposables=new W;get onPointerMove(){return this.disposables.add(new re(ge(this.el),"mousemove")).event}get onPointerUp(){return this.disposables.add(new re(ge(this.el),"mouseup")).event}dispose(){this.disposables.dispose()}};ie([Ee],Cs.prototype,"onPointerMove",1),ie([Ee],Cs.prototype,"onPointerUp",1);var Ls=class{constructor(e){this.el=e}disposables=new W;get onPointerMove(){return this.disposables.add(new re(this.el,Ke.Change)).event}get onPointerUp(){return this.disposables.add(new re(this.el,Ke.End)).event}dispose(){this.disposables.dispose()}};ie([Ee],Ls.prototype,"onPointerMove",1),ie([Ee],Ls.prototype,"onPointerUp",1);var yr=class{constructor(e){this.factory=e}get onPointerMove(){return this.factory.onPointerMove}get onPointerUp(){return this.factory.onPointerUp}dispose(){}};ie([Ee],yr.prototype,"onPointerMove",1),ie([Ee],yr.prototype,"onPointerUp",1);var bg="pointer-events-disabled",As=class i extends V{el;layoutProvider;orientation;size;hoverDelay=TI;hoverDelayer=this._register(new yn(this.hoverDelay));_state=3;onDidEnablementChange=this._register(new k);_onDidStart=this._register(new k);_onDidChange=this._register(new k);_onDidReset=this._register(new k);_onDidEnd=this._register(new k);orthogonalStartSashDisposables=this._register(new W);_orthogonalStartSash;orthogonalStartDragHandleDisposables=this._register(new W);_orthogonalStartDragHandle;orthogonalEndSashDisposables=this._register(new W);_orthogonalEndSash;orthogonalEndDragHandleDisposables=this._register(new W);_orthogonalEndDragHandle;get state(){return this._state}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}set state(e){this._state!==e&&(this.el.classList.toggle("disabled",e===0),this.el.classList.toggle("minimum",e===1),this.el.classList.toggle("maximum",e===2),this._state=e,this.onDidEnablementChange.fire(e))}onDidStart=this._onDidStart.event;onDidChange=this._onDidChange.event;onDidReset=this._onDidReset.event;onDidEnd=this._onDidEnd.event;linkedSash=void 0;set orthogonalStartSash(e){if(this._orthogonalStartSash!==e){if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),e){let t=n=>{this.orthogonalStartDragHandleDisposables.clear(),n!==0&&(this._orthogonalStartDragHandle=ee(this.el,Z(".orthogonal-drag-handle.start")),this.orthogonalStartDragHandleDisposables.add(he(()=>this._orthogonalStartDragHandle.remove())),this.orthogonalStartDragHandleDisposables.add(new re(this._orthogonalStartDragHandle,"mouseenter")).event(()=>i.onMouseEnter(e),void 0,this.orthogonalStartDragHandleDisposables),this.orthogonalStartDragHandleDisposables.add(new re(this._orthogonalStartDragHandle,"mouseleave")).event(()=>i.onMouseLeave(e),void 0,this.orthogonalStartDragHandleDisposables))};this.orthogonalStartSashDisposables.add(e.onDidEnablementChange.event(t,this)),t(e.state)}this._orthogonalStartSash=e}}set orthogonalEndSash(e){if(this._orthogonalEndSash!==e){if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),e){let t=n=>{this.orthogonalEndDragHandleDisposables.clear(),n!==0&&(this._orthogonalEndDragHandle=ee(this.el,Z(".orthogonal-drag-handle.end")),this.orthogonalEndDragHandleDisposables.add(he(()=>this._orthogonalEndDragHandle.remove())),this.orthogonalEndDragHandleDisposables.add(new re(this._orthogonalEndDragHandle,"mouseenter")).event(()=>i.onMouseEnter(e),void 0,this.orthogonalEndDragHandleDisposables),this.orthogonalEndDragHandleDisposables.add(new re(this._orthogonalEndDragHandle,"mouseleave")).event(()=>i.onMouseLeave(e),void 0,this.orthogonalEndDragHandleDisposables))};this.orthogonalEndSashDisposables.add(e.onDidEnablementChange.event(t,this)),t(e.state)}this._orthogonalEndSash=e}}constructor(e,t,n){super(),this.el=ee(e,Z(".monaco-sash")),n.orthogonalEdge&&this.el.classList.add(`orthogonal-edge-${n.orthogonalEdge}`),ke&&this.el.classList.add("mac");let o=this._register(new re(this.el,"mousedown")).event;this._register(o(h=>this.onPointerStart(h,new Cs(e)),this));let r=this._register(new re(this.el,"dblclick")).event;this._register(r(this.onPointerDoublePress,this));let s=this._register(new re(this.el,"mouseenter")).event;this._register(s(()=>i.onMouseEnter(this)));let a=this._register(new re(this.el,"mouseleave")).event;this._register(a(()=>i.onMouseLeave(this))),this._register(It.addTarget(this.el));let l=this._register(new re(this.el,Ke.Start)).event;this._register(l(h=>this.onPointerStart(h,new Ls(this.el)),this));let d=this._register(new re(this.el,Ke.Tap)).event,u;this._register(d(h=>{if(u){clearTimeout(u),u=void 0,this.onPointerDoublePress(h);return}clearTimeout(u),u=setTimeout(()=>u=void 0,250)},this)),typeof n.size=="number"?(this.size=n.size,n.orientation===0?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=vI,this._register(yI.event(h=>{this.size=h,this.layout()}))),this._register(II.event(h=>this.hoverDelay=h)),this.layoutProvider=t,this.orthogonalStartSash=n.orthogonalStartSash,this.orthogonalEndSash=n.orthogonalEndSash,this.orientation=n.orientation||0,this.orientation===1?(this.el.classList.add("horizontal"),this.el.classList.remove("vertical")):(this.el.classList.remove("horizontal"),this.el.classList.add("vertical")),this.el.classList.toggle("debug",bI),this.layout()}onPointerStart(e,t){$e.stop(e);let n=!1;if(!e.__orthogonalSashEvent){let w=this.getOrthogonalSash(e);w&&(n=!0,e.__orthogonalSashEvent=!0,w.onPointerStart(e,new yr(t)))}if(this.linkedSash&&!e.__linkedSashEvent&&(e.__linkedSashEvent=!0,this.linkedSash.onPointerStart(e,new yr(t))),!this.state)return;let o=this.el.ownerDocument.getElementsByTagName("iframe");for(let w of o)w.classList.add(bg);let r=e.pageX,s=e.pageY,a=e.altKey,l={startX:r,currentX:r,startY:s,currentY:s,altKey:a};this.el.classList.add("active"),this._onDidStart.fire(l);let d=en(this.el),u=()=>{let w="";n?w="all-scroll":this.orientation===1?this.state===1?w="s-resize":this.state===2?w="n-resize":w=ke?"row-resize":"ns-resize":this.state===1?w="e-resize":this.state===2?w="w-resize":w=ke?"col-resize":"ew-resize",d.textContent=`* { cursor: ${w} !important; }`},h=new W;u(),n||this.onDidEnablementChange.event(u,null,h);let f=w=>{$e.stop(w,!1);let v={startX:r,currentX:w.pageX,startY:s,currentY:w.pageY,altKey:a};this._onDidChange.fire(v)},T=w=>{$e.stop(w,!1),d.remove(),this.el.classList.remove("active"),this._onDidEnd.fire(),h.dispose();for(let v of o)v.classList.remove(bg)};t.onPointerMove(f,null,h),t.onPointerUp(T,null,h),h.add(t)}onPointerDoublePress(e){let t=this.getOrthogonalSash(e);t&&t._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}static onMouseEnter(e,t=!1){e.el.classList.contains("active")?(e.hoverDelayer.cancel(),e.el.classList.add("hover")):e.hoverDelayer.trigger(()=>e.el.classList.add("hover"),e.hoverDelay).then(void 0,()=>{}),!t&&e.linkedSash&&i.onMouseEnter(e.linkedSash,!0)}static onMouseLeave(e,t=!1){e.hoverDelayer.cancel(),e.el.classList.remove("hover"),!t&&e.linkedSash&&i.onMouseLeave(e.linkedSash,!0)}clearSashHoverState(){i.onMouseLeave(this)}layout(){if(this.orientation===0){let e=this.layoutProvider;this.el.style.left=e.getVerticalSashLeft(this)-this.size/2+"px",e.getVerticalSashTop&&(this.el.style.top=e.getVerticalSashTop(this)+"px"),e.getVerticalSashHeight&&(this.el.style.height=e.getVerticalSashHeight(this)+"px")}else{let e=this.layoutProvider;this.el.style.top=e.getHorizontalSashTop(this)-this.size/2+"px",e.getHorizontalSashLeft&&(this.el.style.left=e.getHorizontalSashLeft(this)+"px"),e.getHorizontalSashWidth&&(this.el.style.width=e.getHorizontalSashWidth(this)+"px")}}getOrthogonalSash(e){let t=e.initialTarget??e.target;if(!(!t||!Ze(t))&&t.classList.contains("orthogonal-drag-handle"))return t.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash}dispose(){super.dispose(),this.el.remove()}};var xI={separatorBorder:A.transparent};var Vl=class{constructor(e,t,n,o){this.container=e;this.view=t;this.disposable=o;typeof n=="number"?(this._size=n,this._cachedVisibleSize=void 0,e.classList.add("visible")):(this._size=0,this._cachedVisibleSize=n.cachedVisibleSize)}_size;set size(e){this._size=e}get size(){return this._size}_cachedVisibleSize=void 0;get cachedVisibleSize(){return this._cachedVisibleSize}get visible(){return typeof this._cachedVisibleSize>"u"}setVisible(e,t){if(e!==this.visible){e?(this.size=pt(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize=typeof t=="number"?t:this.size,this.size=0),this.container.classList.toggle("visible",e);try{this.view.setVisible?.(e)}catch(n){console.error("Splitview: Failed to set visible view"),console.error(n)}}}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get proportionalLayout(){return this.view.proportionalLayout??!0}get snap(){return!!this.view.snap}set enabled(e){this.container.style.pointerEvents=e?"":"none"}layout(e,t){this.layoutContainer(e);try{this.view.layout(this.size,e,t)}catch(n){console.error("Splitview: Failed to layout view"),console.error(n)}}dispose(){this.disposable.dispose()}},nh=class extends Vl{layoutContainer(e){this.container.style.top=`${e}px`,this.container.style.height=`${this.size}px`}},ih=class extends Vl{layoutContainer(e){this.container.style.left=`${e}px`,this.container.style.width=`${this.size}px`}};var yg;(o=>{o.Distribute={type:"distribute"};function e(r){return{type:"split",index:r}}o.Split=e;function t(r){return{type:"auto",index:r}}o.Auto=t;function n(r){return{type:"invisible",cachedVisibleSize:r}}o.Invisible=n})(yg||={});var Wl=class extends V{orientation;el;sashContainer;viewContainer;scrollable;scrollableElement;size=0;layoutContext;_contentSize=0;proportions=void 0;viewItems=[];sashItems=[];sashDragState;state=0;inverseAltBehavior;proportionalLayout;getSashOrthogonalSize;_onDidSashChange=this._register(new k);_onDidSashReset=this._register(new k);_orthogonalStartSash;_orthogonalEndSash;_startSnappingEnabled=!0;_endSnappingEnabled=!0;get contentSize(){return this._contentSize}onDidSashChange=this._onDidSashChange.event;onDidSashReset=this._onDidSashReset.event;onDidScroll;get length(){return this.viewItems.length}get minimumSize(){return this.viewItems.reduce((e,t)=>e+t.minimumSize,0)}get maximumSize(){return this.length===0?Number.POSITIVE_INFINITY:this.viewItems.reduce((e,t)=>e+t.maximumSize,0)}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}get startSnappingEnabled(){return this._startSnappingEnabled}get endSnappingEnabled(){return this._endSnappingEnabled}set orthogonalStartSash(e){for(let t of this.sashItems)t.sash.orthogonalStartSash=e;this._orthogonalStartSash=e}set orthogonalEndSash(e){for(let t of this.sashItems)t.sash.orthogonalEndSash=e;this._orthogonalEndSash=e}get sashes(){return this.sashItems.map(e=>e.sash)}set startSnappingEnabled(e){this._startSnappingEnabled!==e&&(this._startSnappingEnabled=e,this.updateSashEnablement())}set endSnappingEnabled(e){this._endSnappingEnabled!==e&&(this._endSnappingEnabled=e,this.updateSashEnablement())}constructor(e,t={}){super(),this.orientation=t.orientation??0,this.inverseAltBehavior=t.inverseAltBehavior??!1,this.proportionalLayout=t.proportionalLayout??!0,this.getSashOrthogonalSize=t.getSashOrthogonalSize,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(this.orientation===0?"vertical":"horizontal"),e.appendChild(this.el),this.sashContainer=ee(this.el,Z(".sash-container")),this.viewContainer=Z(".split-view-container"),this.scrollable=this._register(new Ui({forceIntegerValues:!0,smoothScrollDuration:125,scheduleAtNextAnimationFrame:o=>Jt(ge(this.el),o)})),this.scrollableElement=this._register(new dr(this.viewContainer,{vertical:this.orientation===0?t.scrollbarVisibility??1:2,horizontal:this.orientation===1?t.scrollbarVisibility??1:2},this.scrollable));let n=this._register(new re(this.viewContainer,"scroll")).event;this._register(n(o=>{let r=this.scrollableElement.getScrollPosition(),s=Math.abs(this.viewContainer.scrollLeft-r.scrollLeft)<=1?void 0:this.viewContainer.scrollLeft,a=Math.abs(this.viewContainer.scrollTop-r.scrollTop)<=1?void 0:this.viewContainer.scrollTop;(s!==void 0||a!==void 0)&&this.scrollableElement.setScrollPosition({scrollLeft:s,scrollTop:a})})),this.onDidScroll=this.scrollableElement.onScroll,this._register(this.onDidScroll(o=>{o.scrollTopChanged&&(this.viewContainer.scrollTop=o.scrollTop),o.scrollLeftChanged&&(this.viewContainer.scrollLeft=o.scrollLeft)})),ee(this.el,this.scrollableElement.getDomNode()),this.style(t.styles||xI),t.descriptor&&(this.size=t.descriptor.size,t.descriptor.views.forEach((o,r)=>{let s=Ri(o.visible)||o.visible?o.size:{type:"invisible",cachedVisibleSize:o.size},a=o.view;this.doAddView(a,s,r,!0)}),this._contentSize=this.viewItems.reduce((o,r)=>o+r.size,0),this.saveProportions())}style(e){e.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",e.separatorBorder.toString()))}addView(e,t,n=this.viewItems.length,o){this.doAddView(e,t,n,o)}removeView(e,t){if(e<0||e>=this.viewItems.length)throw new Error("Index out of bounds");if(this.state!==0)throw new Error("Cant modify splitview");this.state=1;try{t?.type==="auto"&&(this.areViewsDistributed()?t={type:"distribute"}:t={type:"split",index:t.index});let n=t?.type==="split"?this.viewItems[t.index]:void 0,o=this.viewItems.splice(e,1)[0];if(n&&(n.size+=o.size),this.viewItems.length>=1){let s=Math.max(e-1,0);this.sashItems.splice(s,1)[0].disposable.dispose()}this.relayout(),t?.type==="distribute"&&this.distributeViewSizes();let r=o.view;return o.dispose(),r}finally{this.state=0}}removeAllViews(){if(this.state!==0)throw new Error("Cant modify splitview");this.state=1;try{let e=this.viewItems.splice(0,this.viewItems.length);for(let n of e)n.dispose();let t=this.sashItems.splice(0,this.sashItems.length);for(let n of t)n.disposable.dispose();return this.relayout(),e.map(n=>n.view)}finally{this.state=0}}moveView(e,t){if(this.state!==0)throw new Error("Cant modify splitview");let n=this.getViewCachedVisibleSize(e),o=typeof n>"u"?this.getViewSize(e):yg.Invisible(n),r=this.removeView(e);this.addView(r,o,t)}swapViews(e,t){if(this.state!==0)throw new Error("Cant modify splitview");if(e>t)return this.swapViews(t,e);let n=this.getViewSize(e),o=this.getViewSize(t),r=this.removeView(t),s=this.removeView(e);this.addView(r,n,e),this.addView(s,o,t)}isViewVisible(e){if(e<0||e>=this.viewItems.length)throw new Error("Index out of bounds");return this.viewItems[e].visible}setViewVisible(e,t){if(e<0||e>=this.viewItems.length)throw new Error("Index out of bounds");this.viewItems[e].setVisible(t),this.distributeEmptySpace(e),this.layoutViews(),this.saveProportions()}getViewCachedVisibleSize(e){if(e<0||e>=this.viewItems.length)throw new Error("Index out of bounds");return this.viewItems[e].cachedVisibleSize}layout(e,t){let n=Math.max(this.size,this._contentSize);if(this.size=e,this.layoutContext=t,this.proportions){let o=0;for(let r=0;r<this.viewItems.length;r++){let s=this.viewItems[r],a=this.proportions[r];typeof a=="number"?o+=a:e-=s.size}for(let r=0;r<this.viewItems.length;r++){let s=this.viewItems[r],a=this.proportions[r];typeof a=="number"&&o>0&&(s.size=pt(Math.round(a*e/o),s.minimumSize,s.maximumSize))}}else{let o=st(this.viewItems.length),r=o.filter(a=>this.viewItems[a].priority===1),s=o.filter(a=>this.viewItems[a].priority===2);this.resize(this.viewItems.length-1,e-n,void 0,r,s)}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){this.proportionalLayout&&this._contentSize>0&&(this.proportions=this.viewItems.map(e=>e.proportionalLayout&&e.visible?e.size/this._contentSize:void 0))}onSashStart({sash:e,start:t,alt:n}){for(let a of this.viewItems)a.enabled=!1;let o=this.sashItems.findIndex(a=>a.sash===e),r=li(Q(this.el.ownerDocument.body,"keydown",a=>s(this.sashDragState.current,a.altKey)),Q(this.el.ownerDocument.body,"keyup",()=>s(this.sashDragState.current,!1))),s=(a,l)=>{let d=this.viewItems.map(w=>w.size),u=Number.NEGATIVE_INFINITY,h=Number.POSITIVE_INFINITY;if(this.inverseAltBehavior&&(l=!l),l)if(o===this.sashItems.length-1){let v=this.viewItems[o];u=(v.minimumSize-v.size)/2,h=(v.maximumSize-v.size)/2}else{let v=this.viewItems[o+1];u=(v.size-v.maximumSize)/2,h=(v.size-v.minimumSize)/2}let f,T;if(!l){let w=st(o,-1),v=st(o+1,this.viewItems.length),E=w.reduce((M,te)=>M+(this.viewItems[te].minimumSize-d[te]),0),P=w.reduce((M,te)=>M+(this.viewItems[te].viewMaximumSize-d[te]),0),O=v.length===0?Number.POSITIVE_INFINITY:v.reduce((M,te)=>M+(d[te]-this.viewItems[te].minimumSize),0),U=v.length===0?Number.NEGATIVE_INFINITY:v.reduce((M,te)=>M+(d[te]-this.viewItems[te].viewMaximumSize),0),R=Math.max(E,U),L=Math.min(O,P),H=this.findFirstSnapIndex(w),B=this.findFirstSnapIndex(v);if(typeof H=="number"){let M=this.viewItems[H],te=Math.floor(M.viewMinimumSize/2);f={index:H,limitDelta:M.visible?R-te:R+te,size:M.size}}if(typeof B=="number"){let M=this.viewItems[B],te=Math.floor(M.viewMinimumSize/2);T={index:B,limitDelta:M.visible?L+te:L-te,size:M.size}}}this.sashDragState={start:a,current:a,index:o,sizes:d,minDelta:u,maxDelta:h,alt:l,snapBefore:f,snapAfter:T,disposable:r}};s(t,n)}onSashChange({current:e}){let{index:t,start:n,sizes:o,alt:r,minDelta:s,maxDelta:a,snapBefore:l,snapAfter:d}=this.sashDragState;this.sashDragState.current=e;let u=e-n,h=this.resize(t,u,o,void 0,void 0,s,a,l,d);if(r){let f=t===this.sashItems.length-1,T=this.viewItems.map(U=>U.size),w=f?t:t+1,v=this.viewItems[w],E=v.size-v.maximumSize,P=v.size-v.minimumSize,O=f?t-1:t+1;this.resize(O,-h,T,void 0,void 0,E,P)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(e){this._onDidSashChange.fire(e),this.sashDragState.disposable.dispose(),this.saveProportions();for(let t of this.viewItems)t.enabled=!0}onViewChange(e,t){let n=this.viewItems.indexOf(e);n<0||n>=this.viewItems.length||(t=typeof t=="number"?t:e.size,t=pt(t,e.minimumSize,e.maximumSize),this.inverseAltBehavior&&n>0?(this.resize(n-1,Math.floor((e.size-t)/2)),this.distributeEmptySpace(),this.layoutViews()):(e.size=t,this.relayout([n],void 0)))}resizeView(e,t){if(!(e<0||e>=this.viewItems.length)){if(this.state!==0)throw new Error("Cant modify splitview");this.state=1;try{let n=st(this.viewItems.length).filter(a=>a!==e),o=[...n.filter(a=>this.viewItems[a].priority===1),e],r=n.filter(a=>this.viewItems[a].priority===2),s=this.viewItems[e];t=Math.round(t),t=pt(t,s.minimumSize,Math.min(s.maximumSize,this.size)),s.size=t,this.relayout(o,r)}finally{this.state=0}}}isViewExpanded(e){if(e<0||e>=this.viewItems.length)return!1;for(let t of this.viewItems)if(t!==this.viewItems[e]&&t.size>t.minimumSize)return!1;return!0}distributeViewSizes(){let e=[],t=0;for(let a of this.viewItems)a.maximumSize-a.minimumSize>0&&(e.push(a),t+=a.size);let n=Math.floor(t/e.length);for(let a of e)a.size=pt(n,a.minimumSize,a.maximumSize);let o=st(this.viewItems.length),r=o.filter(a=>this.viewItems[a].priority===1),s=o.filter(a=>this.viewItems[a].priority===2);this.relayout(r,s)}getViewSize(e){return e<0||e>=this.viewItems.length?-1:this.viewItems[e].size}doAddView(e,t,n=this.viewItems.length,o){if(this.state!==0)throw new Error("Cant modify splitview");this.state=1;try{let r=Z(".split-view-view");n===this.viewItems.length?this.viewContainer.appendChild(r):this.viewContainer.insertBefore(r,this.viewContainer.children.item(n));let s=e.onDidChange(f=>this.onViewChange(u,f)),a=he(()=>r.remove()),l=li(s,a),d;typeof t=="number"?d=t:(t.type==="auto"&&(this.areViewsDistributed()?t={type:"distribute"}:t={type:"split",index:t.index}),t.type==="split"?d=this.getViewSize(t.index)/2:t.type==="invisible"?d={cachedVisibleSize:t.cachedVisibleSize}:d=e.minimumSize);let u=this.orientation===0?new nh(r,e,d,l):new ih(r,e,d,l);if(this.viewItems.splice(n,0,u),this.viewItems.length>1){let f={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash},T=this.orientation===0?new As(this.sashContainer,{getHorizontalSashTop:M=>this.getSashPosition(M),getHorizontalSashWidth:this.getSashOrthogonalSize},{...f,orientation:1}):new As(this.sashContainer,{getVerticalSashLeft:M=>this.getSashPosition(M),getVerticalSashHeight:this.getSashOrthogonalSize},{...f,orientation:0}),w=this.orientation===0?M=>({sash:T,start:M.startY,current:M.currentY,alt:M.altKey}):M=>({sash:T,start:M.startX,current:M.currentX,alt:M.altKey}),E=_.map(T.onDidStart,w)(this.onSashStart,this),O=_.map(T.onDidChange,w)(this.onSashChange,this),R=_.map(T.onDidEnd,()=>this.sashItems.findIndex(M=>M.sash===T))(this.onSashEnd,this),L=T.onDidReset(()=>{let M=this.sashItems.findIndex(Et=>Et.sash===T),te=st(M,-1),Ie=st(M+1,this.viewItems.length),pe=this.findFirstSnapIndex(te),ae=this.findFirstSnapIndex(Ie);typeof pe=="number"&&!this.viewItems[pe].visible||typeof ae=="number"&&!this.viewItems[ae].visible||this._onDidSashReset.fire(M)}),H=li(E,O,R,L,T),B={sash:T,disposable:H};this.sashItems.splice(n-1,0,B)}r.appendChild(e.element);let h;typeof t!="number"&&t.type==="split"&&(h=[t.index]),o||this.relayout([n],h),!o&&typeof t!="number"&&t.type==="distribute"&&this.distributeViewSizes()}finally{this.state=0}}relayout(e,t){let n=this.viewItems.reduce((o,r)=>o+r.size,0);this.resize(this.viewItems.length-1,this.size-n,void 0,e,t),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(e,t,n=this.viewItems.map(u=>u.size),o,r,s=Number.NEGATIVE_INFINITY,a=Number.POSITIVE_INFINITY,l,d){if(e<0||e>=this.viewItems.length)return 0;let u=st(e,-1),h=st(e+1,this.viewItems.length);if(r)for(let B of r)pa(u,B),pa(h,B);if(o)for(let B of o)Wr(u,B),Wr(h,B);let f=u.map(B=>this.viewItems[B]),T=u.map(B=>n[B]),w=h.map(B=>this.viewItems[B]),v=h.map(B=>n[B]),E=u.reduce((B,M)=>B+(this.viewItems[M].minimumSize-n[M]),0),P=u.reduce((B,M)=>B+(this.viewItems[M].maximumSize-n[M]),0),O=h.length===0?Number.POSITIVE_INFINITY:h.reduce((B,M)=>B+(n[M]-this.viewItems[M].minimumSize),0),U=h.length===0?Number.NEGATIVE_INFINITY:h.reduce((B,M)=>B+(n[M]-this.viewItems[M].maximumSize),0),R=Math.max(E,U,s),L=Math.min(O,P,a),H=!1;if(l){let B=this.viewItems[l.index],M=t>=l.limitDelta;H=M!==B.visible,B.setVisible(M,l.size)}if(!H&&d){let B=this.viewItems[d.index],M=t<d.limitDelta;H=M!==B.visible,B.setVisible(M,d.size)}if(H)return this.resize(e,t,n,o,r,s,a);t=pt(t,R,L);for(let B=0,M=t;B<f.length;B++){let te=f[B],Ie=pt(T[B]+M,te.minimumSize,te.maximumSize),pe=Ie-T[B];M-=pe,te.size=Ie}for(let B=0,M=t;B<w.length;B++){let te=w[B],Ie=pt(v[B]-M,te.minimumSize,te.maximumSize),pe=Ie-v[B];M+=pe,te.size=Ie}return t}distributeEmptySpace(e){let t=this.viewItems.reduce((a,l)=>a+l.size,0),n=this.size-t,o=st(this.viewItems.length-1,-1),r=o.filter(a=>this.viewItems[a].priority===1),s=o.filter(a=>this.viewItems[a].priority===2);for(let a of s)pa(o,a);for(let a of r)Wr(o,a);typeof e=="number"&&Wr(o,e);for(let a=0;n!==0&&a<o.length;a++){let l=this.viewItems[o[a]],d=pt(l.size+n,l.minimumSize,l.maximumSize),u=d-l.size;n-=u,l.size=d}}layoutViews(){this._contentSize=this.viewItems.reduce((t,n)=>t+n.size,0);let e=0;for(let t of this.viewItems)t.layout(e,this.layoutContext),e+=t.size;this.sashItems.forEach(t=>t.sash.layout()),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){this.orientation===0?this.scrollableElement.setScrollDimensions({height:this.size,scrollHeight:this._contentSize}):this.scrollableElement.setScrollDimensions({width:this.size,scrollWidth:this._contentSize})}updateSashEnablement(){let e=!1,t=this.viewItems.map(l=>e=l.size-l.minimumSize>0||e);e=!1;let n=this.viewItems.map(l=>e=l.maximumSize-l.size>0||e),o=[...this.viewItems].reverse();e=!1;let r=o.map(l=>e=l.size-l.minimumSize>0||e).reverse();e=!1;let s=o.map(l=>e=l.maximumSize-l.size>0||e).reverse(),a=0;for(let l=0;l<this.sashItems.length;l++){let{sash:d}=this.sashItems[l],u=this.viewItems[l];a+=u.size;let h=!(t[l]&&s[l+1]),f=!(n[l]&&r[l+1]);if(h&&f){let T=st(l,-1),w=st(l+1,this.viewItems.length),v=this.findFirstSnapIndex(T),E=this.findFirstSnapIndex(w),P=typeof v=="number"&&!this.viewItems[v].visible,O=typeof E=="number"&&!this.viewItems[E].visible;P&&r[l]&&(a>0||this.startSnappingEnabled)?d.state=1:O&&t[l]&&(a<this._contentSize||this.endSnappingEnabled)?d.state=2:d.state=0}else h&&!f?d.state=1:!h&&f?d.state=2:d.state=3}}getSashPosition(e){let t=0;for(let n=0;n<this.sashItems.length;n++)if(t+=this.viewItems[n].size,this.sashItems[n].sash===e)return t;return 0}findFirstSnapIndex(e){for(let t of e){let n=this.viewItems[t];if(n.visible&&n.snap)return t}for(let t of e){let n=this.viewItems[t];if(n.visible&&n.maximumSize-n.minimumSize>0)return;if(!n.visible&&n.snap)return t}}areViewsDistributed(){let e,t;for(let n of this.viewItems)if(e=e===void 0?n.size:Math.min(e,n.size),t=t===void 0?n.size:Math.max(t,n.size),t-e>2)return!1;return!0}dispose(){this.sashDragState?.disposable.dispose(),je(this.viewItems),this.viewItems=[],this.sashItems.forEach(e=>e.disposable.dispose()),this.sashItems=[],super.dispose()}};var $l=class i{constructor(e,t,n){this.columns=e;this.getColumnSize=n;let o=new Map(t.map(r=>[r.templateId,r]));this.renderers=[];for(let r of e){let s=o.get(r.templateId);if(!s)throw new Error(`Table cell renderer for template id ${r.templateId} not found.`);this.renderers.push(s)}}static TemplateId="row";templateId=i.TemplateId;renderers;renderedTemplates=new Set;renderTemplate(e){let t=ee(e,Z(".monaco-table-tr")),n=[],o=[];for(let s=0;s<this.columns.length;s++){let a=this.renderers[s],l=ee(t,Z(".monaco-table-td",{"data-col-index":s}));l.style.width=`${this.getColumnSize(s)}px`,n.push(l),o.push(a.renderTemplate(l))}let r={container:e,cellContainers:n,cellTemplateData:o};return this.renderedTemplates.add(r),r}renderElement(e,t,n,o){for(let r=0;r<this.columns.length;r++){let a=this.columns[r].project(e);this.renderers[r].renderElement(a,t,n.cellTemplateData[r],o)}}disposeElement(e,t,n,o){for(let r=0;r<this.columns.length;r++){let s=this.renderers[r];if(s.disposeElement){let l=this.columns[r].project(e);s.disposeElement(l,t,n.cellTemplateData[r],o)}}}disposeTemplate(e){for(let t=0;t<this.columns.length;t++)this.renderers[t].disposeTemplate(e.cellTemplateData[t]);yt(e.container),this.renderedTemplates.delete(e)}layoutColumn(e,t){for(let{cellContainers:n}of this.renderedTemplates)n[e].style.width=`${t}px`}};function SI(i){return{getHeight(e){return i.getHeight(e)},getTemplateId(){return $l.TemplateId}}}var oh=class extends V{constructor(t,n){super();this.column=t;this.index=n;this.element=Z(".monaco-table-th",{"data-col-index":n},t.label),t.tooltip&&this._register(St().setupManagedHover(Qe("mouse"),this.element,t.tooltip))}element;get minimumSize(){return this.column.minimumWidth??120}get maximumSize(){return this.column.maximumWidth??Number.POSITIVE_INFINITY}get onDidChange(){return this.column.onDidChangeWidthConstraints??_.None}_onDidLayout=new k;onDidLayout=this._onDidLayout.event;layout(t){this._onDidLayout.fire([this.index,t])}},ql=class i{constructor(e,t,n,o,r,s){this.virtualDelegate=n;this.columns=o;this.domNode=ee(t,Z(`.monaco-table.${this.domId}`));let a=o.map((u,h)=>this.disposables.add(new oh(u,h))),l={size:a.reduce((u,h)=>u+h.column.weight,0),views:a.map(u=>({size:u.column.weight,view:u}))};this.splitview=this.disposables.add(new Wl(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:()=>this.cachedHeight,descriptor:l})),this.splitview.el.style.height=`${n.headerRowHeight}px`,this.splitview.el.style.lineHeight=`${n.headerRowHeight}px`;let d=new $l(o,r,u=>this.splitview.getViewSize(u));this.list=this.disposables.add(new mt(e,this.domNode,SI(n),[d],s)),_.any(...a.map(u=>u.onDidLayout))(([u,h])=>d.layoutColumn(u,h),null,this.disposables),this.splitview.onDidSashReset(u=>{let h=o.reduce((T,w)=>T+w.weight,0),f=o[u].weight/h*this.cachedWidth;this.splitview.resizeView(u,f)},null,this.disposables),this.styleElement=en(this.domNode),this.style(_l)}static InstanceCount=0;domId=`table_id_${++i.InstanceCount}`;domNode;splitview;list;styleElement;disposables=new W;cachedWidth=0;cachedHeight=0;get onDidChangeFocus(){return this.list.onDidChangeFocus}get onDidChangeSelection(){return this.list.onDidChangeSelection}get onDidScroll(){return this.list.onDidScroll}get onMouseClick(){return this.list.onMouseClick}get onMouseDblClick(){return this.list.onMouseDblClick}get onMouseMiddleClick(){return this.list.onMouseMiddleClick}get onPointer(){return this.list.onPointer}get onMouseUp(){return this.list.onMouseUp}get onMouseDown(){return this.list.onMouseDown}get onMouseOver(){return this.list.onMouseOver}get onMouseMove(){return this.list.onMouseMove}get onMouseOut(){return this.list.onMouseOut}get onTouchStart(){return this.list.onTouchStart}get onTap(){return this.list.onTap}get onContextMenu(){return this.list.onContextMenu}get onDidFocus(){return this.list.onDidFocus}get onDidBlur(){return this.list.onDidBlur}get scrollTop(){return this.list.scrollTop}set scrollTop(e){this.list.scrollTop=e}get scrollLeft(){return this.list.scrollLeft}set scrollLeft(e){this.list.scrollLeft=e}get scrollHeight(){return this.list.scrollHeight}get renderHeight(){return this.list.renderHeight}get onDidDispose(){return this.list.onDidDispose}getColumnLabels(){return this.columns.map(e=>e.label)}resizeColumn(e,t){let n=Math.round(t/100*this.cachedWidth);this.splitview.resizeView(e,n)}updateOptions(e){this.list.updateOptions(e)}splice(e,t,n=[]){this.list.splice(e,t,n)}rerender(){this.list.rerender()}row(e){return this.list.element(e)}indexOf(e){return this.list.indexOf(e)}get length(){return this.list.length}getHTMLElement(){return this.domNode}layout(e,t){e=e??tl(this.domNode),t=t??rr(this.domNode),this.cachedWidth=t,this.cachedHeight=e,this.splitview.layout(t);let n=e-this.virtualDelegate.headerRowHeight;this.list.getHTMLElement().style.height=`${n}px`,this.list.layout(n,t)}triggerTypeNavigation(){this.list.triggerTypeNavigation()}style(e){let t=[];t.push(`.monaco-table.${this.domId} > .monaco-split-view2 .monaco-sash.vertical::before {
			top: ${this.virtualDelegate.headerRowHeight+1}px;
			height: calc(100% - ${this.virtualDelegate.headerRowHeight}px);
		}`),this.styleElement.textContent=t.join(`
`),this.list.style(e)}domFocus(){this.list.domFocus()}setAnchor(e){this.list.setAnchor(e)}getAnchor(){return this.list.getAnchor()}getSelectedElements(){return this.list.getSelectedElements()}setSelection(e,t){this.list.setSelection(e,t)}getSelection(){return this.list.getSelection()}setFocus(e,t){this.list.setFocus(e,t)}focusNext(e=1,t=!1,n){this.list.focusNext(e,t,n)}focusPrevious(e=1,t=!1,n){this.list.focusPrevious(e,t,n)}focusNextPage(e){return this.list.focusNextPage(e)}focusPreviousPage(e){return this.list.focusPreviousPage(e)}focusFirst(e){this.list.focusFirst(e)}focusLast(e){this.list.focusLast(e)}getFocus(){return this.list.getFocus()}getFocusedElements(){return this.list.getFocusedElements()}getRelativeTop(e){return this.list.getRelativeTop(e)}reveal(e,t){this.list.reveal(e,t)}dispose(){this.disposables.dispose()}};var wn=class{originalStart;originalLength;modifiedStart;modifiedLength;constructor(e,t,n,o){this.originalStart=e,this.originalLength=t,this.modifiedStart=n,this.modifiedLength=o}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}};var Xi=class{static Assert(e,t){if(!e)throw new Error(t)}},Ji=class{static Copy(e,t,n,o,r){for(let s=0;s<r;s++)n[o+s]=e[t+s]}static Copy2(e,t,n,o,r){for(let s=0;s<r;s++)n[o+s]=e[t+s]}};var Gl=class{m_changes;m_originalStart;m_modifiedStart;m_originalCount;m_modifiedCount;constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new wn(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(e,t){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,t),this.m_originalCount++}AddModifiedElement(e,t){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,t),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}},jl=class i{ContinueProcessingPredicate;_originalSequence;_modifiedSequence;_hasStrings;_originalStringElements;_originalElementsOrHash;_modifiedStringElements;_modifiedElementsOrHash;m_forwardHistory;m_reverseHistory;constructor(e,t,n=null){this.ContinueProcessingPredicate=n,this._originalSequence=e,this._modifiedSequence=t;let[o,r,s]=i._getElements(e),[a,l,d]=i._getElements(t);this._hasStrings=s&&d,this._originalStringElements=o,this._originalElementsOrHash=r,this._modifiedStringElements=a,this._modifiedElementsOrHash=l,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(e){return e.length>0&&typeof e[0]=="string"}static _getElements(e){let t=e.getElements();if(i._isStringArray(t)){let n=new Int32Array(t.length);for(let o=0,r=t.length;o<r;o++)n[o]=Xa(t[o],0);return[t,n,!0]}return t instanceof Int32Array?[[],t,!1]:[[],new Int32Array(t),!1]}ElementsAreEqual(e,t){return this._originalElementsOrHash[e]!==this._modifiedElementsOrHash[t]?!1:this._hasStrings?this._originalStringElements[e]===this._modifiedStringElements[t]:!0}ElementsAreStrictEqual(e,t){if(!this.ElementsAreEqual(e,t))return!1;let n=i._getStrictElement(this._originalSequence,e),o=i._getStrictElement(this._modifiedSequence,t);return n===o}static _getStrictElement(e,t){return typeof e.getStrictElement=="function"?e.getStrictElement(t):null}OriginalElementsAreEqual(e,t){return this._originalElementsOrHash[e]!==this._originalElementsOrHash[t]?!1:this._hasStrings?this._originalStringElements[e]===this._originalStringElements[t]:!0}ModifiedElementsAreEqual(e,t){return this._modifiedElementsOrHash[e]!==this._modifiedElementsOrHash[t]?!1:this._hasStrings?this._modifiedStringElements[e]===this._modifiedStringElements[t]:!0}ComputeDiff(e){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,e)}_ComputeDiff(e,t,n,o,r){let s=[!1],a=this.ComputeDiffRecursive(e,t,n,o,s);return r&&(a=this.PrettifyChanges(a)),{quitEarly:s[0],changes:a}}ComputeDiffRecursive(e,t,n,o,r){for(r[0]=!1;e<=t&&n<=o&&this.ElementsAreEqual(e,n);)e++,n++;for(;t>=e&&o>=n&&this.ElementsAreEqual(t,o);)t--,o--;if(e>t||n>o){let h;return n<=o?(Xi.Assert(e===t+1,"originalStart should only be one more than originalEnd"),h=[new wn(e,0,n,o-n+1)]):e<=t?(Xi.Assert(n===o+1,"modifiedStart should only be one more than modifiedEnd"),h=[new wn(e,t-e+1,n,0)]):(Xi.Assert(e===t+1,"originalStart should only be one more than originalEnd"),Xi.Assert(n===o+1,"modifiedStart should only be one more than modifiedEnd"),h=[]),h}let s=[0],a=[0],l=this.ComputeRecursionPoint(e,t,n,o,s,a,r),d=s[0],u=a[0];if(l!==null)return l;if(!r[0]){let h=this.ComputeDiffRecursive(e,d,n,u,r),f=[];return r[0]?f=[new wn(d+1,t-(d+1)+1,u+1,o-(u+1)+1)]:f=this.ComputeDiffRecursive(d+1,t,u+1,o,r),this.ConcatenateChanges(h,f)}return[new wn(e,t-e+1,n,o-n+1)]}WALKTRACE(e,t,n,o,r,s,a,l,d,u,h,f,T,w,v,E,P,O){let U=null,R=null,L=new Gl,H=t,B=n,M=T[0]-E[0]-o,te=-1073741824,Ie=this.m_forwardHistory.length-1;do{let pe=M+e;pe===H||pe<B&&d[pe-1]<d[pe+1]?(h=d[pe+1],w=h-M-o,h<te&&L.MarkNextChange(),te=h,L.AddModifiedElement(h+1,w),M=pe+1-e):(h=d[pe-1]+1,w=h-M-o,h<te&&L.MarkNextChange(),te=h-1,L.AddOriginalElement(h,w+1),M=pe-1-e),Ie>=0&&(d=this.m_forwardHistory[Ie],e=d[0],H=1,B=d.length-1)}while(--Ie>=-1);if(U=L.getReverseChanges(),O[0]){let pe=T[0]+1,ae=E[0]+1;if(U!==null&&U.length>0){let Et=U[U.length-1];pe=Math.max(pe,Et.getOriginalEnd()),ae=Math.max(ae,Et.getModifiedEnd())}R=[new wn(pe,f-pe+1,ae,v-ae+1)]}else{L=new Gl,H=s,B=a,M=T[0]-E[0]-l,te=1073741824,Ie=P?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{let pe=M+r;pe===H||pe<B&&u[pe-1]>=u[pe+1]?(h=u[pe+1]-1,w=h-M-l,h>te&&L.MarkNextChange(),te=h+1,L.AddOriginalElement(h+1,w+1),M=pe+1-r):(h=u[pe-1],w=h-M-l,h>te&&L.MarkNextChange(),te=h,L.AddModifiedElement(h+1,w+1),M=pe-1-r),Ie>=0&&(u=this.m_reverseHistory[Ie],r=u[0],H=1,B=u.length-1)}while(--Ie>=-1);R=L.getChanges()}return this.ConcatenateChanges(U,R)}ComputeRecursionPoint(e,t,n,o,r,s,a){let l=0,d=0,u=0,h=0,f=0,T=0;e--,n--,r[0]=0,s[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];let w=t-e+(o-n),v=w+1,E=new Int32Array(v),P=new Int32Array(v),O=o-n,U=t-e,R=e-n,L=t-o,B=(U-O)%2===0;E[O]=e,P[U]=t,a[0]=!1;for(let M=1;M<=w/2+1;M++){let te=0,Ie=0;u=this.ClipDiagonalBound(O-M,M,O,v),h=this.ClipDiagonalBound(O+M,M,O,v);for(let ae=u;ae<=h;ae+=2){ae===u||ae<h&&E[ae-1]<E[ae+1]?l=E[ae+1]:l=E[ae-1]+1,d=l-(ae-O)-R;let Et=l;for(;l<t&&d<o&&this.ElementsAreEqual(l+1,d+1);)l++,d++;if(E[ae]=l,l+d>te+Ie&&(te=l,Ie=d),!B&&Math.abs(ae-U)<=M-1&&l>=P[ae])return r[0]=l,s[0]=d,Et<=P[ae]&&M<=1448?this.WALKTRACE(O,u,h,R,U,f,T,L,E,P,l,t,r,d,o,s,B,a):null}let pe=(te-e+(Ie-n)-M)/2;if(this.ContinueProcessingPredicate!==null&&!this.ContinueProcessingPredicate(te,pe))return a[0]=!0,r[0]=te,s[0]=Ie,pe>0&&M<=1448?this.WALKTRACE(O,u,h,R,U,f,T,L,E,P,l,t,r,d,o,s,B,a):(e++,n++,[new wn(e,t-e+1,n,o-n+1)]);f=this.ClipDiagonalBound(U-M,M,U,v),T=this.ClipDiagonalBound(U+M,M,U,v);for(let ae=f;ae<=T;ae+=2){ae===f||ae<T&&P[ae-1]>=P[ae+1]?l=P[ae+1]-1:l=P[ae-1],d=l-(ae-U)-L;let Et=l;for(;l>e&&d>n&&this.ElementsAreEqual(l,d);)l--,d--;if(P[ae]=l,B&&Math.abs(ae-O)<=M&&l<=E[ae])return r[0]=l,s[0]=d,Et>=E[ae]&&M<=1448?this.WALKTRACE(O,u,h,R,U,f,T,L,E,P,l,t,r,d,o,s,B,a):null}if(M<=1447){let ae=new Int32Array(h-u+2);ae[0]=O-u+1,Ji.Copy2(E,u,ae,1,h-u+1),this.m_forwardHistory.push(ae),ae=new Int32Array(T-f+2),ae[0]=U-f+1,Ji.Copy2(P,f,ae,1,T-f+1),this.m_reverseHistory.push(ae)}}return this.WALKTRACE(O,u,h,R,U,f,T,L,E,P,l,t,r,d,o,s,B,a)}PrettifyChanges(e){for(let t=0;t<e.length;t++){let n=e[t],o=t<e.length-1?e[t+1].originalStart:this._originalElementsOrHash.length,r=t<e.length-1?e[t+1].modifiedStart:this._modifiedElementsOrHash.length,s=n.originalLength>0,a=n.modifiedLength>0;for(;n.originalStart+n.originalLength<o&&n.modifiedStart+n.modifiedLength<r&&(!s||this.OriginalElementsAreEqual(n.originalStart,n.originalStart+n.originalLength))&&(!a||this.ModifiedElementsAreEqual(n.modifiedStart,n.modifiedStart+n.modifiedLength));){let d=this.ElementsAreStrictEqual(n.originalStart,n.modifiedStart);if(this.ElementsAreStrictEqual(n.originalStart+n.originalLength,n.modifiedStart+n.modifiedLength)&&!d)break;n.originalStart++,n.modifiedStart++}let l=[null];if(t<e.length-1&&this.ChangesOverlap(e[t],e[t+1],l)){e[t]=l[0],e.splice(t+1,1),t--;continue}}for(let t=e.length-1;t>=0;t--){let n=e[t],o=0,r=0;if(t>0){let h=e[t-1];o=h.originalStart+h.originalLength,r=h.modifiedStart+h.modifiedLength}let s=n.originalLength>0,a=n.modifiedLength>0,l=0,d=this._boundaryScore(n.originalStart,n.originalLength,n.modifiedStart,n.modifiedLength);for(let h=1;;h++){let f=n.originalStart-h,T=n.modifiedStart-h;if(f<o||T<r||s&&!this.OriginalElementsAreEqual(f,f+n.originalLength)||a&&!this.ModifiedElementsAreEqual(T,T+n.modifiedLength))break;let v=(f===o&&T===r?5:0)+this._boundaryScore(f,n.originalLength,T,n.modifiedLength);v>d&&(d=v,l=h)}n.originalStart-=l,n.modifiedStart-=l;let u=[null];if(t>0&&this.ChangesOverlap(e[t-1],e[t],u)){e[t-1]=u[0],e.splice(t,1),t++;continue}}if(this._hasStrings)for(let t=1,n=e.length;t<n;t++){let o=e[t-1],r=e[t],s=r.originalStart-o.originalStart-o.originalLength,a=o.originalStart,l=r.originalStart+r.originalLength,d=l-a,u=o.modifiedStart,h=r.modifiedStart+r.modifiedLength,f=h-u;if(s<5&&d<20&&f<20){let T=this._findBetterContiguousSequence(a,d,u,f,s);if(T){let[w,v]=T;(w!==o.originalStart+o.originalLength||v!==o.modifiedStart+o.modifiedLength)&&(o.originalLength=w-o.originalStart,o.modifiedLength=v-o.modifiedStart,r.originalStart=w+s,r.modifiedStart=v+s,r.originalLength=l-r.originalStart,r.modifiedLength=h-r.modifiedStart)}}}return e}_findBetterContiguousSequence(e,t,n,o,r){if(t<r||o<r)return null;let s=e+t-r+1,a=n+o-r+1,l=0,d=0,u=0;for(let h=e;h<s;h++)for(let f=n;f<a;f++){let T=this._contiguousSequenceScore(h,f,r);T>0&&T>l&&(l=T,d=h,u=f)}return l>0?[d,u]:null}_contiguousSequenceScore(e,t,n){let o=0;for(let r=0;r<n;r++){if(!this.ElementsAreEqual(e+r,t+r))return 0;o+=this._originalStringElements[e+r].length}return o}_OriginalIsBoundary(e){return e<=0||e>=this._originalElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._originalStringElements[e])}_OriginalRegionIsBoundary(e,t){if(this._OriginalIsBoundary(e)||this._OriginalIsBoundary(e-1))return!0;if(t>0){let n=e+t;if(this._OriginalIsBoundary(n-1)||this._OriginalIsBoundary(n))return!0}return!1}_ModifiedIsBoundary(e){return e<=0||e>=this._modifiedElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[e])}_ModifiedRegionIsBoundary(e,t){if(this._ModifiedIsBoundary(e)||this._ModifiedIsBoundary(e-1))return!0;if(t>0){let n=e+t;if(this._ModifiedIsBoundary(n-1)||this._ModifiedIsBoundary(n))return!0}return!1}_boundaryScore(e,t,n,o){let r=this._OriginalRegionIsBoundary(e,t)?1:0,s=this._ModifiedRegionIsBoundary(n,o)?1:0;return r+s}ConcatenateChanges(e,t){let n=[];if(e.length===0||t.length===0)return t.length>0?t:e;if(this.ChangesOverlap(e[e.length-1],t[0],n)){let o=new Array(e.length+t.length-1);return Ji.Copy(e,0,o,0,e.length-1),o[e.length-1]=n[0],Ji.Copy(t,1,o,e.length,t.length-1),o}else{let o=new Array(e.length+t.length);return Ji.Copy(e,0,o,0,e.length),Ji.Copy(t,0,o,e.length,t.length),o}}ChangesOverlap(e,t,n){if(Xi.Assert(e.originalStart<=t.originalStart,"Left change is not less than or equal to right change"),Xi.Assert(e.modifiedStart<=t.modifiedStart,"Left change is not less than or equal to right change"),e.originalStart+e.originalLength>=t.originalStart||e.modifiedStart+e.modifiedLength>=t.modifiedStart){let o=e.originalStart,r=e.originalLength,s=e.modifiedStart,a=e.modifiedLength;return e.originalStart+e.originalLength>=t.originalStart&&(r=t.originalStart+t.originalLength-e.originalStart),e.modifiedStart+e.modifiedLength>=t.modifiedStart&&(a=t.modifiedStart+t.modifiedLength-e.modifiedStart),n[0]=new wn(o,r,s,a),!0}else return n[0]=null,!1}ClipDiagonalBound(e,t,n,o){if(e>=0&&e<o)return e;let r=n,s=o-n-1,a=t%2===0;if(e<0){let l=r%2===0;return a===l?0:1}else{let l=s%2===0;return a===l?o-1:o-2}}};function Ms(i){return typeof i=="object"&&"visibility"in i&&"data"in i}function ko(i){switch(i){case!0:return 1;case!1:return 0;default:return i}}function rh(i){return typeof i.collapsible=="boolean"}var Ql=class{constructor(e,t,n={}){this.user=e;this.collapseByDefault=typeof n.collapseByDefault>"u"?!1:n.collapseByDefault,this.allowNonCollapsibleParents=n.allowNonCollapsibleParents??!1,this.filter=n.filter,this.autoExpandSingleChildren=typeof n.autoExpandSingleChildren>"u"?!1:n.autoExpandSingleChildren,this.root={parent:void 0,element:t,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}rootRef=[];root;eventBufferer=new an;_onDidSpliceModel=new k;onDidSpliceModel=this._onDidSpliceModel.event;_onDidSpliceRenderedNodes=new k;onDidSpliceRenderedNodes=this._onDidSpliceRenderedNodes.event;_onDidChangeCollapseState=new k;onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event);_onDidChangeRenderNodeCount=new k;onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event);collapseByDefault;allowNonCollapsibleParents;filter;autoExpandSingleChildren;refilterDelayer=new yn(Aa);splice(e,t,n=fe.empty(),o={}){if(e.length===0)throw new Pe(this.user,"Invalid tree location");o.diffIdentityProvider?this.spliceSmart(o.diffIdentityProvider,e,t,n,o):this.spliceSimple(e,t,n,o)}spliceSmart(e,t,n,o=fe.empty(),r,s=r.diffDepth??0){let{parentNode:a}=this.getParentNodeWithListIndex(t);if(!a.lastDiffIds)return this.spliceSimple(t,n,o,r);let l=[...o],d=t[t.length-1],u=new jl({getElements:()=>a.lastDiffIds},{getElements:()=>[...a.children.slice(0,d),...l,...a.children.slice(d+n)].map(v=>e.getId(v.element).toString())}).ComputeDiff(!1);if(u.quitEarly)return a.lastDiffIds=void 0,this.spliceSimple(t,n,l,r);let h=t.slice(0,-1),f=(v,E,P)=>{if(s>0)for(let O=0;O<P;O++)v--,E--,this.spliceSmart(e,[...h,v,0],Number.MAX_SAFE_INTEGER,l[E].children,r,s-1)},T=Math.min(a.children.length,d+n),w=l.length;for(let v of u.changes.sort((E,P)=>P.originalStart-E.originalStart))f(T,w,T-(v.originalStart+v.originalLength)),T=v.originalStart,w=v.modifiedStart-d,this.spliceSimple([...h,T],v.originalLength,fe.slice(l,w,w+v.modifiedLength),r);f(T,w,T)}spliceSimple(e,t,n=fe.empty(),{onDidCreateNode:o,onDidDeleteNode:r,diffIdentityProvider:s}){let{parentNode:a,listIndex:l,revealed:d,visible:u}=this.getParentNodeWithListIndex(e),h=[],f=fe.map(n,L=>this.createTreeNode(L,a,a.visible?1:0,d,h,o)),T=e[e.length-1],w=0;for(let L=T;L>=0&&L<a.children.length;L--){let H=a.children[L];if(H.visible){w=H.visibleChildIndex;break}}let v=[],E=0,P=0;for(let L of f)v.push(L),P+=L.renderNodeCount,L.visible&&(L.visibleChildIndex=w+E++);let O=Zd(a.children,T,t,v);s?a.lastDiffIds?Zd(a.lastDiffIds,T,t,v.map(L=>s.getId(L.element).toString())):a.lastDiffIds=a.children.map(L=>s.getId(L.element).toString()):a.lastDiffIds=void 0;let U=0;for(let L of O)L.visible&&U++;if(U!==0)for(let L=T+v.length;L<a.children.length;L++){let H=a.children[L];H.visible&&(H.visibleChildIndex-=U)}if(a.visibleChildrenCount+=E-U,d&&u){let L=O.reduce((H,B)=>H+(B.visible?B.renderNodeCount:0),0);this._updateAncestorsRenderNodeCount(a,P-L),this._onDidSpliceRenderedNodes.fire({start:l,deleteCount:L,elements:h})}if(O.length>0&&r){let L=H=>{r(H),H.children.forEach(L)};O.forEach(L)}this._onDidSpliceModel.fire({insertedNodes:v,deletedNodes:O});let R=a;for(;R;){if(R.visibility===2){this.refilterDelayer.trigger(()=>this.refilter());break}R=R.parent}}rerender(e){if(e.length===0)throw new Pe(this.user,"Invalid tree location");let{node:t,listIndex:n,revealed:o}=this.getTreeNodeWithListIndex(e);t.visible&&o&&this._onDidSpliceRenderedNodes.fire({start:n,deleteCount:1,elements:[t]})}has(e){return this.hasTreeNode(e)}getListIndex(e){let{listIndex:t,visible:n,revealed:o}=this.getTreeNodeWithListIndex(e);return n&&o?t:-1}getListRenderCount(e){return this.getTreeNode(e).renderNodeCount}isCollapsible(e){return this.getTreeNode(e).collapsible}setCollapsible(e,t){let n=this.getTreeNode(e);typeof t>"u"&&(t=!n.collapsible);let o={collapsible:t};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(e,o))}isCollapsed(e){return this.getTreeNode(e).collapsed}setCollapsed(e,t,n){let o=this.getTreeNode(e);typeof t>"u"&&(t=!o.collapsed);let r={collapsed:t,recursive:n||!1};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(e,r))}_setCollapseState(e,t){let{node:n,listIndex:o,revealed:r}=this.getTreeNodeWithListIndex(e),s=this._setListNodeCollapseState(n,o,r,t);if(n!==this.root&&this.autoExpandSingleChildren&&s&&!rh(t)&&n.collapsible&&!n.collapsed&&!t.recursive){let a=-1;for(let l=0;l<n.children.length;l++)if(n.children[l].visible)if(a>-1){a=-1;break}else a=l;a>-1&&this._setCollapseState([...e,a],t)}return s}_setListNodeCollapseState(e,t,n,o){let r=this._setNodeCollapseState(e,o,!1);if(!n||!e.visible||!r)return r;let s=e.renderNodeCount,a=this.updateNodeAfterCollapseChange(e),l=s-(t===-1?0:1);return this._onDidSpliceRenderedNodes.fire({start:t+1,deleteCount:l,elements:a.slice(1)}),r}_setNodeCollapseState(e,t,n){let o;if(e===this.root?o=!1:(rh(t)?(o=e.collapsible!==t.collapsible,e.collapsible=t.collapsible):e.collapsible?(o=e.collapsed!==t.collapsed,e.collapsed=t.collapsed):o=!1,o&&this._onDidChangeCollapseState.fire({node:e,deep:n})),!rh(t)&&t.recursive)for(let r of e.children)o=this._setNodeCollapseState(r,t,!0)||o;return o}expandTo(e){this.eventBufferer.bufferEvents(()=>{let t=this.getTreeNode(e);for(;t.parent;)t=t.parent,e=e.slice(0,e.length-1),t.collapsed&&this._setCollapseState(e,{collapsed:!1,recursive:!1})})}refilter(){let e=this.root.renderNodeCount,t=this.updateNodeAfterFilterChange(this.root);this._onDidSpliceRenderedNodes.fire({start:0,deleteCount:e,elements:t}),this.refilterDelayer.cancel()}createTreeNode(e,t,n,o,r,s){let a={parent:t,element:e.element,children:[],depth:t.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:typeof e.collapsible=="boolean"?e.collapsible:typeof e.collapsed<"u",collapsed:typeof e.collapsed>"u"?this.collapseByDefault:e.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},l=this._filterNode(a,n);a.visibility=l,o&&r.push(a);let d=e.children||fe.empty(),u=o&&l!==0&&!a.collapsed,h=0,f=1;for(let T of d){let w=this.createTreeNode(T,a,l,u,r,s);a.children.push(w),f+=w.renderNodeCount,w.visible&&(w.visibleChildIndex=h++)}return this.allowNonCollapsibleParents||(a.collapsible=a.collapsible||a.children.length>0),a.visibleChildrenCount=h,a.visible=l===2?h>0:l===1,a.visible?a.collapsed||(a.renderNodeCount=f):(a.renderNodeCount=0,o&&r.pop()),s?.(a),a}updateNodeAfterCollapseChange(e){let t=e.renderNodeCount,n=[];return this._updateNodeAfterCollapseChange(e,n),this._updateAncestorsRenderNodeCount(e.parent,n.length-t),n}_updateNodeAfterCollapseChange(e,t){if(e.visible===!1)return 0;if(t.push(e),e.renderNodeCount=1,!e.collapsed)for(let n of e.children)e.renderNodeCount+=this._updateNodeAfterCollapseChange(n,t);return this._onDidChangeRenderNodeCount.fire(e),e.renderNodeCount}updateNodeAfterFilterChange(e){let t=e.renderNodeCount,n=[];return this._updateNodeAfterFilterChange(e,e.visible?1:0,n),this._updateAncestorsRenderNodeCount(e.parent,n.length-t),n}_updateNodeAfterFilterChange(e,t,n,o=!0){let r;if(e!==this.root){if(r=this._filterNode(e,t),r===0)return e.visible=!1,e.renderNodeCount=0,!1;o&&n.push(e)}let s=n.length;e.renderNodeCount=e===this.root?0:1;let a=!1;if(!e.collapsed||r!==0){let l=0;for(let d of e.children)a=this._updateNodeAfterFilterChange(d,r,n,o&&!e.collapsed)||a,d.visible&&(d.visibleChildIndex=l++);e.visibleChildrenCount=l}else e.visibleChildrenCount=0;return e!==this.root&&(e.visible=r===2?a:r===1,e.visibility=r),e.visible?e.collapsed||(e.renderNodeCount+=n.length-s):(e.renderNodeCount=0,o&&n.pop()),this._onDidChangeRenderNodeCount.fire(e),e.visible}_updateAncestorsRenderNodeCount(e,t){if(t!==0)for(;e;)e.renderNodeCount+=t,this._onDidChangeRenderNodeCount.fire(e),e=e.parent}_filterNode(e,t){let n=this.filter?this.filter.filter(e.element,t):1;return typeof n=="boolean"?(e.filterData=void 0,n?1:0):Ms(n)?(e.filterData=n.data,ko(n.visibility)):(e.filterData=void 0,ko(n))}hasTreeNode(e,t=this.root){if(!e||e.length===0)return!0;let[n,...o]=e;return n<0||n>t.children.length?!1:this.hasTreeNode(o,t.children[n])}getTreeNode(e,t=this.root){if(!e||e.length===0)return t;let[n,...o]=e;if(n<0||n>t.children.length)throw new Pe(this.user,"Invalid tree location");return this.getTreeNode(o,t.children[n])}getTreeNodeWithListIndex(e){if(e.length===0)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};let{parentNode:t,listIndex:n,revealed:o,visible:r}=this.getParentNodeWithListIndex(e),s=e[e.length-1];if(s<0||s>t.children.length)throw new Pe(this.user,"Invalid tree location");let a=t.children[s];return{node:a,listIndex:n,revealed:o,visible:r&&a.visible}}getParentNodeWithListIndex(e,t=this.root,n=0,o=!0,r=!0){let[s,...a]=e;if(s<0||s>t.children.length)throw new Pe(this.user,"Invalid tree location");for(let l=0;l<s;l++)n+=t.children[l].renderNodeCount;return o=o&&!t.collapsed,r=r&&t.visible,a.length===0?{parentNode:t,listIndex:n,revealed:o,visible:r}:this.getParentNodeWithListIndex(a,t.children[s],n+1,o,r)}getNode(e=[]){return this.getTreeNode(e)}getNodeLocation(e){let t=[],n=e;for(;n.parent;)t.push(n.parent.children.indexOf(n)),n=n.parent;return t.reverse()}getParentNodeLocation(e){if(e.length!==0)return e.length===1?[]:Rp(e)[0]}getFirstElementChild(e){let t=this.getTreeNode(e);if(t.children.length!==0)return t.children[0].element}getLastElementAncestor(e=[]){let t=this.getTreeNode(e);if(t.children.length!==0)return this._getLastElementAncestor(t)}_getLastElementAncestor(e){return e.children.length===0?e.element:this._getLastElementAncestor(e.children[e.children.length-1])}};var lh=class extends mi{constructor(t){super(t.elements.map(n=>n.element));this.data=t}set context(t){this.data.context=t}get context(){return this.data.context}};function ah(i){return i instanceof mi?new lh(i):i}var dh=class{constructor(e,t){this.modelProvider=e;this.dnd=t}autoExpandNode;autoExpandDisposable=V.None;disposables=new W;getDragURI(e){return this.dnd.getDragURI(e.element)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e.map(n=>n.element),t)}onDragStart(e,t){this.dnd.onDragStart?.(ah(e),t)}onDragOver(e,t,n,o,r,s=!0){let a=this.dnd.onDragOver(ah(e),t&&t.element,n,o,r),l=this.autoExpandNode!==t;if(l&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=t),typeof t>"u")return a;if(l&&typeof a!="boolean"&&a.autoExpand&&(this.autoExpandDisposable=us(()=>{let T=this.modelProvider(),w=T.getNodeLocation(t);T.isCollapsed(w)&&T.setCollapsed(w,!1),this.autoExpandNode=void 0},500,this.disposables)),typeof a=="boolean"||!a.accept||typeof a.bubble>"u"||a.feedback){if(!s){let T=typeof a=="boolean"?a:a.accept,w=typeof a=="boolean"?void 0:a.effect;return{accept:T,effect:w,feedback:[n]}}return a}if(a.bubble===1){let T=this.modelProvider(),w=T.getNodeLocation(t),v=T.getParentNodeLocation(w),E=T.getNode(v),P=v&&T.getListIndex(v);return this.onDragOver(e,E,P,o,r,!1)}let d=this.modelProvider(),u=d.getNodeLocation(t),h=d.getListIndex(u),f=d.getListRenderCount(u);return{...a,feedback:st(h,h+f)}}drop(e,t,n,o,r){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(ah(e),t&&t.element,n,o,r)}onDragEnd(e){this.dnd.onDragEnd?.(e)}dispose(){this.disposables.dispose(),this.dnd.dispose()}};function wI(i,e){return e&&{...e,identityProvider:e.identityProvider&&{getId(t){return e.identityProvider.getId(t.element)}},dnd:e.dnd&&new dh(i,e.dnd),multipleSelectionController:e.multipleSelectionController&&{isSelectionSingleChangeEvent(t){return e.multipleSelectionController.isSelectionSingleChangeEvent({...t,element:t.element})},isSelectionRangeChangeEvent(t){return e.multipleSelectionController.isSelectionRangeChangeEvent({...t,element:t.element})}},accessibilityProvider:e.accessibilityProvider&&{...e.accessibilityProvider,getSetSize(t){let n=i(),o=n.getNodeLocation(t),r=n.getParentNodeLocation(o);return n.getNode(r).visibleChildrenCount},getPosInSet(t){return t.visibleChildIndex+1},isChecked:e.accessibilityProvider&&e.accessibilityProvider.isChecked?t=>e.accessibilityProvider.isChecked(t.element):void 0,getRole:e.accessibilityProvider&&e.accessibilityProvider.getRole?t=>e.accessibilityProvider.getRole(t.element):()=>"treeitem",getAriaLabel(t){return e.accessibilityProvider.getAriaLabel(t.element)},getWidgetAriaLabel(){return e.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:e.accessibilityProvider&&e.accessibilityProvider.getWidgetRole?()=>e.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:e.accessibilityProvider&&e.accessibilityProvider.getAriaLevel?t=>e.accessibilityProvider.getAriaLevel(t.element):t=>t.depth,getActiveDescendantId:e.accessibilityProvider.getActiveDescendantId&&(t=>e.accessibilityProvider.getActiveDescendantId(t.element))},keyboardNavigationLabelProvider:e.keyboardNavigationLabelProvider&&{...e.keyboardNavigationLabelProvider,getKeyboardNavigationLabel(t){return e.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t.element)}}}}var Ir=class{constructor(e){this.delegate=e}getHeight(e){return this.delegate.getHeight(e.element)}getTemplateId(e){return this.delegate.getTemplateId(e.element)}hasDynamicHeight(e){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(e.element)}setDynamicHeight(e,t){this.delegate.setDynamicHeight?.(e.element,t)}},ch=class i{focus;selection;expanded;scrollTop;static lift(e){return e instanceof i?e:new i(e)}static empty(e=0){return new i({focus:[],selection:[],expanded:Object.create(null),scrollTop:e})}constructor(e){if(this.focus=new Set(e.focus),this.selection=new Set(e.selection),e.expanded instanceof Array){this.expanded=Object.create(null);for(let t of e.expanded)this.expanded[t]=1}else this.expanded=e.expanded;this.expanded=e.expanded,this.scrollTop=e.scrollTop}toJSON(){return{focus:Array.from(this.focus),selection:Array.from(this.selection),expanded:this.expanded,scrollTop:this.scrollTop}}};var uh=class{constructor(e,t=[]){this._elements=t;this.onDidChange=_.forEach(e,n=>this._elements=n,this.disposables)}disposables=new W;onDidChange;get elements(){return this._elements}dispose(){this.disposables.dispose()}},hh=class i{constructor(e,t,n,o,r,s={}){this.renderer=e;this.model=t;this.activeNodes=o;this.renderedIndentGuides=r;this.templateId=e.templateId,this.updateOptions(s),_.map(n,a=>a.node)(this.onDidChangeNodeTwistieState,this,this.disposables),e.onDidChangeTwistieState?.(this.onDidChangeTwistieState,this,this.disposables)}static DefaultIndent=8;templateId;renderedElements=new Map;renderedNodes=new Map;indent=i.DefaultIndent;hideTwistiesOfChildlessElements=!1;shouldRenderIndentGuides=!1;activeIndentNodes=new Set;indentGuidesDisposable=V.None;disposables=new W;updateOptions(e={}){if(typeof e.indent<"u"){let t=pt(e.indent,0,40);if(t!==this.indent){this.indent=t;for(let[n,o]of this.renderedNodes)this.renderTreeElement(n,o)}}if(typeof e.renderIndentGuides<"u"){let t=e.renderIndentGuides!=="none";if(t!==this.shouldRenderIndentGuides){this.shouldRenderIndentGuides=t;for(let[n,o]of this.renderedNodes)this._renderIndentGuides(n,o);if(this.indentGuidesDisposable.dispose(),t){let n=new W;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,n),this.indentGuidesDisposable=n,this._onDidChangeActiveNodes(this.activeNodes.elements)}}}typeof e.hideTwistiesOfChildlessElements<"u"&&(this.hideTwistiesOfChildlessElements=e.hideTwistiesOfChildlessElements)}renderTemplate(e){let t=ee(e,Z(".monaco-tl-row")),n=ee(t,Z(".monaco-tl-indent")),o=ee(t,Z(".monaco-tl-twistie")),r=ee(t,Z(".monaco-tl-contents")),s=this.renderer.renderTemplate(r);return{container:e,indent:n,twistie:o,indentGuidesDisposable:V.None,templateData:s}}renderElement(e,t,n,o){this.renderedNodes.set(e,n),this.renderedElements.set(e.element,e),this.renderTreeElement(e,n),this.renderer.renderElement(e,t,n.templateData,o)}disposeElement(e,t,n,o){n.indentGuidesDisposable.dispose(),this.renderer.disposeElement?.(e,t,n.templateData,o),typeof o=="number"&&(this.renderedNodes.delete(e),this.renderedElements.delete(e.element))}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}onDidChangeTwistieState(e){let t=this.renderedElements.get(e);t&&this.onDidChangeNodeTwistieState(t)}onDidChangeNodeTwistieState(e){let t=this.renderedNodes.get(e);t&&(this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderTreeElement(e,t))}renderTreeElement(e,t){let n=i.DefaultIndent+(e.depth-1)*this.indent;t.twistie.style.paddingLeft=`${n}px`,t.indent.style.width=`${n+this.indent-16}px`,e.collapsible?t.container.setAttribute("aria-expanded",String(!e.collapsed)):t.container.removeAttribute("aria-expanded"),t.twistie.classList.remove(...Se.asClassNameArray(_e.treeItemExpanded));let o=!1;this.renderer.renderTwistie&&(o=this.renderer.renderTwistie(e.element,t.twistie)),e.collapsible&&(!this.hideTwistiesOfChildlessElements||e.visibleChildrenCount>0)?(o||t.twistie.classList.add(...Se.asClassNameArray(_e.treeItemExpanded)),t.twistie.classList.add("collapsible"),t.twistie.classList.toggle("collapsed",e.collapsed)):t.twistie.classList.remove("collapsible","collapsed"),this._renderIndentGuides(e,t)}_renderIndentGuides(e,t){if(yt(t.indent),t.indentGuidesDisposable.dispose(),!this.shouldRenderIndentGuides)return;let n=new W;for(;;){let o=this.model.getNodeLocation(e),r=this.model.getParentNodeLocation(o);if(!r)break;let s=this.model.getNode(r),a=Z(".indent-guide",{style:`width: ${this.indent}px`});this.activeIndentNodes.has(s)&&a.classList.add("active"),t.indent.childElementCount===0?t.indent.appendChild(a):t.indent.insertBefore(a,t.indent.firstElementChild),this.renderedIndentGuides.add(s,a),n.add(he(()=>this.renderedIndentGuides.delete(s,a))),e=s}t.indentGuidesDisposable=n}_onDidChangeActiveNodes(e){if(!this.shouldRenderIndentGuides)return;let t=new Set;e.forEach(n=>{let o=this.model.getNodeLocation(n);try{let r=this.model.getParentNodeLocation(o);n.collapsible&&n.children.length>0&&!n.collapsed?t.add(n):r&&t.add(this.model.getNode(r))}catch{}}),this.activeIndentNodes.forEach(n=>{t.has(n)||this.renderedIndentGuides.forEach(n,o=>o.classList.remove("active"))}),t.forEach(n=>{this.activeIndentNodes.has(n)||this.renderedIndentGuides.forEach(n,o=>o.classList.add("active"))}),this.activeIndentNodes=t}setModel(e){this.model=e}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),je(this.disposables)}},ph=class{constructor(e,t,n){this.tree=e;this.keyboardNavigationLabelProvider=t;this._filter=n;e.onWillRefilter(this.reset,this,this.disposables)}_totalCount=0;get totalCount(){return this._totalCount}_matchCount=0;get matchCount(){return this._matchCount}_pattern="";_lowercasePattern="";disposables=new W;set pattern(e){this._pattern=e,this._lowercasePattern=e.toLowerCase()}filter(e,t){let n=1;if(this._filter){let s=this._filter.filter(e,t);if(typeof s=="boolean"?n=s?1:0:Ms(s)?n=ko(s.visibility):n=s,n===0)return!1}if(this._totalCount++,!this._pattern)return this._matchCount++,{data:Io.Default,visibility:n};let o=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(e),r=Array.isArray(o)?o:[o];for(let s of r){let a=s&&s.toString();if(typeof a>"u")return{data:Io.Default,visibility:n};let l;if(this.tree.findMatchType===1){let d=a.toLowerCase().indexOf(this._lowercasePattern);if(d>-1){l=[Number.MAX_SAFE_INTEGER,0];for(let u=this._lowercasePattern.length;u>0;u--)l.push(d+u-1)}}else l=bl(this._pattern,this._lowercasePattern,0,a,a.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(l)return this._matchCount++,r.length===1?{data:l,visibility:n}:{data:{label:a,score:l},visibility:n}}return this.tree.findMode===1?typeof this.tree.options.defaultFindVisibility=="number"?this.tree.options.defaultFindVisibility:this.tree.options.defaultFindVisibility?this.tree.options.defaultFindVisibility(e):2:{data:Io.Default,visibility:n}}reset(){this._totalCount=0,this._matchCount=0}dispose(){je(this.disposables)}},mh=class extends Sn{constructor(e){super({icon:_e.listFilter,title:p("filter","Filter"),isChecked:e.isChecked??!1,hoverDelegate:e.hoverDelegate??Qe("element"),inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}},fh=class extends Sn{constructor(e){super({icon:_e.searchFuzzy,title:p("fuzzySearch","Fuzzy Match"),isChecked:e.isChecked??!1,hoverDelegate:e.hoverDelegate??Qe("element"),inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}},EI={inputBoxStyles:dg,toggleStyles:lg,listFilterWidgetBackground:void 0,listFilterWidgetNoMatchesOutline:void 0,listFilterWidgetOutline:void 0,listFilterWidgetShadow:void 0};var gh=class extends V{constructor(t,n,o,r,s,a){super();this.tree=n;t.appendChild(this.elements.root),this._register(he(()=>this.elements.root.remove()));let l=a?.styles??EI;l.listFilterWidgetBackground&&(this.elements.root.style.backgroundColor=l.listFilterWidgetBackground),l.listFilterWidgetShadow&&(this.elements.root.style.boxShadow=`0 0 8px 2px ${l.listFilterWidgetShadow}`);let d=this._register(xo());this.modeToggle=this._register(new mh({...l.toggleStyles,isChecked:r===1,hoverDelegate:d})),this.matchTypeToggle=this._register(new fh({...l.toggleStyles,isChecked:s===0,hoverDelegate:d})),this.onDidChangeMode=_.map(this.modeToggle.onChange,()=>this.modeToggle.checked?1:0,this._store),this.onDidChangeMatchType=_.map(this.matchTypeToggle.onChange,()=>this.matchTypeToggle.checked?0:1,this._store),this.findInput=this._register(new _s(this.elements.findInput,o,{label:p("type to search","Type to search"),additionalToggles:[this.modeToggle,this.matchTypeToggle],showCommonFindToggles:!1,inputBoxStyles:l.inputBoxStyles,toggleStyles:l.toggleStyles,history:a?.history})),this.actionbar=this._register(new jn(this.elements.actionbar)),this.mode=r;let u=this._register(new re(this.findInput.inputBox.inputElement,"keydown")),h=_.chain(u.event,v=>v.map(E=>new Me(E)));this._register(h(v=>{if(v.equals(3)){v.preventDefault(),v.stopPropagation(),this.findInput.inputBox.addToHistory(),this.tree.domFocus();return}if(v.equals(18)){v.preventDefault(),v.stopPropagation(),this.findInput.inputBox.isAtLastInHistory()||this.findInput.inputBox.isNowhereInHistory()?(this.findInput.inputBox.addToHistory(),this.tree.domFocus()):this.findInput.inputBox.showNextValue();return}if(v.equals(16)){v.preventDefault(),v.stopPropagation(),this.findInput.inputBox.showPreviousValue();return}}));let f=this._register(new Qi("close",p("close","Close"),"codicon codicon-close",!0,()=>this.dispose()));this.actionbar.push(f,{icon:!0,label:!1});let T=this._register(new re(this.elements.grab,"mousedown"));this._register(T.event(v=>{let E=new W,P=E.add(new re(ge(v),"mousemove")),O=E.add(new re(ge(v),"mouseup")),U=this.right,R=v.pageX,L=this.top,H=v.pageY;this.elements.grab.classList.add("grabbing");let B=this.elements.root.style.transition;this.elements.root.style.transition="unset";let M=te=>{let Ie=te.pageX-R;this.right=U-Ie;let pe=te.pageY-H;this.top=L+pe,this.layout()};E.add(P.event(M)),E.add(O.event(te=>{M(te),this.elements.grab.classList.remove("grabbing"),this.elements.root.style.transition=B,E.dispose()}))}));let w=_.chain(this._register(new re(this.elements.grab,"keydown")).event,v=>v.map(E=>new Me(E)));this._register(w(v=>{let E,P;if(v.keyCode===15?E=Number.POSITIVE_INFINITY:v.keyCode===17?E=0:v.keyCode===10&&(E=this.right===0?Number.POSITIVE_INFINITY:0),v.keyCode===16?P=0:v.keyCode===18&&(P=Number.POSITIVE_INFINITY),E!==void 0&&(v.preventDefault(),v.stopPropagation(),this.right=E,this.layout()),P!==void 0){v.preventDefault(),v.stopPropagation(),this.top=P;let O=this.elements.root.style.transition;this.elements.root.style.transition="unset",this.layout(),setTimeout(()=>{this.elements.root.style.transition=O},0)}})),this.onDidChangeValue=this.findInput.onDidChange}elements=vs(".monaco-tree-type-filter",[vs(".monaco-tree-type-filter-grab.codicon.codicon-debug-gripper@grab",{tabIndex:0}),vs(".monaco-tree-type-filter-input@findInput"),vs(".monaco-tree-type-filter-actionbar@actionbar")]);set mode(t){this.modeToggle.checked=t===1,this.findInput.inputBox.setPlaceHolder(t===1?p("type to filter","Type to filter"):p("type to search","Type to search"))}set matchType(t){this.matchTypeToggle.checked=t===0}get value(){return this.findInput.inputBox.value}set value(t){this.findInput.inputBox.value=t}modeToggle;matchTypeToggle;findInput;actionbar;width=0;right=0;top=0;_onDidDisable=new k;onDidDisable=this._onDidDisable.event;onDidChangeValue;onDidChangeMode;onDidChangeMatchType;getHistory(){return this.findInput.inputBox.getHistory()}focus(){this.findInput.focus()}select(){this.findInput.select(),this.findInput.inputBox.addToHistory(!0)}layout(t=this.width){this.width=t,this.right=pt(this.right,0,Math.max(0,t-212)),this.elements.root.style.right=`${this.right}px`,this.top=pt(this.top,0,24),this.elements.root.style.top=`${this.top}px`}showMessage(t){this.findInput.showMessage(t)}clearMessage(){this.findInput.clearMessage()}async dispose(){this._onDidDisable.fire(),this.elements.root.classList.add("disabled"),await Hi(300),super.dispose()}},bh=class{constructor(e,t,n,o,r={}){this.tree=e;this.view=t;this.filter=n;this.contextViewProvider=o;this.options=r;this._mode=e.options.defaultFindMode??0,this._matchType=e.options.defaultFindMatchType??0}_history;_pattern="";get pattern(){return this._pattern}previousPattern="";_mode;get mode(){return this._mode}set mode(e){e!==this._mode&&(this._mode=e,this.widget&&(this.widget.mode=this._mode),this.tree.refilter(),this.render(),this._onDidChangeMode.fire(e))}_matchType;get matchType(){return this._matchType}set matchType(e){e!==this._matchType&&(this._matchType=e,this.widget&&(this.widget.matchType=this._matchType),this.tree.refilter(),this.render(),this._onDidChangeMatchType.fire(e))}widget;width=0;_onDidChangeMode=new k;onDidChangeMode=this._onDidChangeMode.event;_onDidChangeMatchType=new k;onDidChangeMatchType=this._onDidChangeMatchType.event;_onDidChangePattern=new k;onDidChangePattern=this._onDidChangePattern.event;_onDidChangeOpenState=new k;onDidChangeOpenState=this._onDidChangeOpenState.event;enabledDisposables=new W;disposables=new W;updateOptions(e={}){e.defaultFindMode!==void 0&&(this.mode=e.defaultFindMode),e.defaultFindMatchType!==void 0&&(this.matchType=e.defaultFindMatchType)}isOpened(){return!!this.widget}open(){if(this.widget){this.widget.focus(),this.widget.select();return}this.widget=new gh(this.view.getHTMLElement(),this.tree,this.contextViewProvider,this.mode,this.matchType,{...this.options,history:this._history}),this.enabledDisposables.add(this.widget),this.widget.onDidChangeValue(this.onDidChangeValue,this,this.enabledDisposables),this.widget.onDidChangeMode(e=>this.mode=e,void 0,this.enabledDisposables),this.widget.onDidChangeMatchType(e=>this.matchType=e,void 0,this.enabledDisposables),this.widget.onDidDisable(this.close,this,this.enabledDisposables),this.widget.layout(this.width),this.widget.focus(),this.widget.value=this.previousPattern,this.widget.select(),this._onDidChangeOpenState.fire(!0)}close(){this.widget&&(this._history=this.widget.getHistory(),this.widget=void 0,this.enabledDisposables.clear(),this.previousPattern=this.pattern,this.onDidChangeValue(""),this.tree.domFocus(),this._onDidChangeOpenState.fire(!1))}onDidChangeValue(e){this._pattern=e,this._onDidChangePattern.fire(e),this.filter.pattern=e,this.tree.refilter(),e&&this.tree.focusNext(0,!0,void 0,n=>!Io.isDefault(n.filterData));let t=this.tree.getFocus();if(t.length>0){let n=t[0];this.tree.getRelativeTop(n)===null&&this.tree.reveal(n,.5)}this.render()}render(){let e=this.filter.totalCount>0&&this.filter.matchCount===0;this.pattern&&e?($i(p("replFindNoResults","No results")),this.tree.options.showNotFoundMessage??!0?this.widget?.showMessage({type:2,content:p("not found","No elements found.")}):this.widget?.showMessage({type:2})):(this.widget?.clearMessage(),this.pattern&&$i(p("replFindResults","{0} results",this.filter.matchCount)))}shouldAllowFocus(e){return!this.widget||!this.pattern||this.filter.totalCount>0&&this.filter.matchCount<=1?!0:!Io.isDefault(e.filterData)}layout(e){this.width=e,this.widget?.layout(e)}dispose(){this._history=void 0,this._onDidChangePattern.dispose(),this.enabledDisposables.dispose(),this.disposables.dispose()}};function DI(i,e){return i.position===e.position&&Tg(i,e)}function Tg(i,e){return i.node.element===e.node.element&&i.startIndex===e.startIndex&&i.height===e.height&&i.endIndex===e.endIndex}var vh=class{constructor(e=[]){this.stickyNodes=e}get count(){return this.stickyNodes.length}equal(e){return xt(this.stickyNodes,e.stickyNodes,DI)}lastNodePartiallyVisible(){if(this.count===0)return!1;let e=this.stickyNodes[this.count-1];if(this.count===1)return e.position!==0;let t=this.stickyNodes[this.count-2];return t.position+t.height!==e.position}animationStateChanged(e){if(!xt(this.stickyNodes,e.stickyNodes,Tg)||this.count===0)return!1;let t=this.stickyNodes[this.count-1],n=e.stickyNodes[e.count-1];return t.position!==n.position}},yh=class{constrainStickyScrollNodes(e,t,n){for(let o=0;o<e.length;o++){let r=e[o];if(r.position+r.height>n||o>=t)return e.slice(0,o)}return e}},Xl=class extends V{constructor(t,n,o,r,s,a={}){super();this.tree=t;this.model=n;this.view=o;this.treeDelegate=s;let l=this.validateStickySettings(a);this.stickyScrollMaxItemCount=l.stickyScrollMaxItemCount,this.stickyScrollDelegate=a.stickyScrollDelegate??new yh,this._widget=this._register(new Th(o.getScrollableElement(),o,t,r,s,a.accessibilityProvider)),this.onDidChangeHasFocus=this._widget.onDidChangeHasFocus,this.onContextMenu=this._widget.onContextMenu,this._register(o.onDidScroll(()=>this.update())),this._register(o.onDidChangeContentHeight(()=>this.update())),this._register(t.onDidChangeCollapseState(()=>this.update())),this.update()}onDidChangeHasFocus;onContextMenu;stickyScrollDelegate;stickyScrollMaxItemCount;maxWidgetViewRatio=.4;_widget;get height(){return this._widget.height}get count(){return this._widget.count}getNode(t){return this._widget.getNode(t)}getNodeAtHeight(t){let n;if(t===0?n=this.view.firstVisibleIndex:n=this.view.indexAt(t+this.view.scrollTop),!(n<0||n>=this.view.length))return this.view.element(n)}update(){let t=this.getNodeAtHeight(0);if(!t||this.tree.scrollTop===0){this._widget.setState(void 0);return}let n=this.findStickyState(t);this._widget.setState(n)}findStickyState(t){let n=[],o=t,r=0,s=this.getNextStickyNode(o,void 0,r);for(;s&&(n.push(s),r+=s.height,!(n.length<=this.stickyScrollMaxItemCount&&(o=this.getNextVisibleNode(s),!o)));)s=this.getNextStickyNode(o,s.node,r);let a=this.constrainStickyNodes(n);return a.length?new vh(a):void 0}getNextVisibleNode(t){return this.getNodeAtHeight(t.position+t.height)}getNextStickyNode(t,n,o){let r=this.getAncestorUnderPrevious(t,n);if(r&&!(r===t&&(!this.nodeIsUncollapsedParent(t)||this.nodeTopAlignsWithStickyNodesBottom(t,o))))return this.createStickyScrollNode(r,o)}nodeTopAlignsWithStickyNodesBottom(t,n){let o=this.getNodeIndex(t),r=this.view.getElementTop(o),s=n;return this.view.scrollTop===r-s}createStickyScrollNode(t,n){let o=this.treeDelegate.getHeight(t),{startIndex:r,endIndex:s}=this.getNodeRange(t),a=this.calculateStickyNodePosition(s,n,o);return{node:t,position:a,height:o,startIndex:r,endIndex:s}}getAncestorUnderPrevious(t,n=void 0){let o=t,r=this.getParentNode(o);for(;r;){if(r===n)return o;o=r,r=this.getParentNode(o)}if(n===void 0)return o}calculateStickyNodePosition(t,n,o){let r=this.view.getRelativeTop(t);if(r===null&&this.view.firstVisibleIndex===t&&t+1<this.view.length){let u=this.treeDelegate.getHeight(this.view.element(t)),h=this.view.getRelativeTop(t+1);r=h?h-u/this.view.renderHeight:null}if(r===null)return n;let s=this.view.element(t),a=this.treeDelegate.getHeight(s),d=r*this.view.renderHeight+a;return n+o>d&&n<=d?d-o:n}constrainStickyNodes(t){if(t.length===0)return[];let n=this.view.renderHeight*this.maxWidgetViewRatio,o=t[t.length-1];if(t.length<=this.stickyScrollMaxItemCount&&o.position+o.height<=n)return t;let r=this.stickyScrollDelegate.constrainStickyScrollNodes(t,this.stickyScrollMaxItemCount,n);if(!r.length)return[];let s=r[r.length-1];if(r.length>this.stickyScrollMaxItemCount||s.position+s.height>n)throw new Error("stickyScrollDelegate violates constraints");return r}getParentNode(t){let n=this.model.getNodeLocation(t),o=this.model.getParentNodeLocation(n);return o?this.model.getNode(o):void 0}nodeIsUncollapsedParent(t){let n=this.model.getNodeLocation(t);return this.model.getListRenderCount(n)>1}getNodeIndex(t){let n=this.model.getNodeLocation(t);return this.model.getListIndex(n)}getNodeRange(t){let n=this.model.getNodeLocation(t),o=this.model.getListIndex(n);if(o<0)throw new Error("Node not found in tree");let r=this.model.getListRenderCount(n),s=o+r-1;return{startIndex:o,endIndex:s}}nodePositionTopBelowWidget(t){let n=[],o=this.getParentNode(t);for(;o;)n.push(o),o=this.getParentNode(o);let r=0;for(let s=0;s<n.length&&s<this.stickyScrollMaxItemCount;s++)r+=this.treeDelegate.getHeight(n[s]);return r}getFocus(){return this._widget.getFocus()}domFocus(){this._widget.domFocus()}focusedLast(){return this._widget.focusedLast()}updateOptions(t={}){if(!t.stickyScrollMaxItemCount)return;let n=this.validateStickySettings(t);this.stickyScrollMaxItemCount!==n.stickyScrollMaxItemCount&&(this.stickyScrollMaxItemCount=n.stickyScrollMaxItemCount,this.update())}validateStickySettings(t){let n=7;return typeof t.stickyScrollMaxItemCount=="number"&&(n=Math.max(t.stickyScrollMaxItemCount,1)),{stickyScrollMaxItemCount:n}}setModel(t){this.model=t}},Th=class{constructor(e,t,n,o,r,s){this.view=t;this.tree=n;this.treeRenderers=o;this.treeDelegate=r;this.accessibilityProvider=s;this._rootDomNode=Z(".monaco-tree-sticky-container.empty"),e.appendChild(this._rootDomNode);let a=Z(".monaco-tree-sticky-container-shadow");this._rootDomNode.appendChild(a),this.stickyScrollFocus=new Ih(this._rootDomNode,t),this.onDidChangeHasFocus=this.stickyScrollFocus.onDidChangeHasFocus,this.onContextMenu=this.stickyScrollFocus.onContextMenu}_rootDomNode;_previousState;_previousElements=[];_previousStateDisposables=new W;stickyScrollFocus;onDidChangeHasFocus;onContextMenu;get height(){if(!this._previousState)return 0;let e=this._previousState.stickyNodes[this._previousState.count-1];return e.position+e.height}get count(){return this._previousState?.count??0}getNode(e){return this._previousState?.stickyNodes.find(t=>t.node===e)}setState(e){let t=!!this._previousState&&this._previousState.count>0,n=!!e&&e.count>0;if(!t&&!n||t&&n&&this._previousState.equal(e))return;if(t!==n&&this.setVisible(n),!n){this._previousState=void 0,this._previousElements=[],this._previousStateDisposables.clear();return}let o=e.stickyNodes[e.count-1];if(this._previousState&&e.animationStateChanged(this._previousState))this._previousElements[this._previousState.count-1].style.top=`${o.position}px`;else{this._previousStateDisposables.clear();let r=Array(e.count);for(let s=e.count-1;s>=0;s--){let a=e.stickyNodes[s],{element:l,disposable:d}=this.createElement(a,s,e.count);r[s]=l,this._rootDomNode.appendChild(l),this._previousStateDisposables.add(d)}this.stickyScrollFocus.updateElements(r,e),this._previousElements=r}this._previousState=e,this._rootDomNode.style.height=`${o.position+o.height}px`}createElement(e,t,n){let o=e.startIndex,r=document.createElement("div");r.style.top=`${e.position}px`,this.tree.options.setRowHeight!==!1&&(r.style.height=`${e.height}px`),this.tree.options.setRowLineHeight!==!1&&(r.style.lineHeight=`${e.height}px`),r.classList.add("monaco-tree-sticky-row"),r.classList.add("monaco-list-row"),r.setAttribute("data-index",`${o}`),r.setAttribute("data-parity",o%2===0?"even":"odd"),r.setAttribute("id",this.view.getElementID(o));let s=this.setAccessibilityAttributes(r,e.node.element,t,n),a=this.treeDelegate.getTemplateId(e.node),l=this.treeRenderers.find(f=>f.templateId===a);if(!l)throw new Error(`No renderer found for template id ${a}`);let d=e.node;d===this.tree.getNode(this.tree.getNodeLocation(e.node))&&(d=new Proxy(e.node,{}));let u=l.renderTemplate(r);l.renderElement(d,e.startIndex,u,e.height);let h=he(()=>{s.dispose(),l.disposeElement(d,e.startIndex,u,e.height),l.disposeTemplate(u),r.remove()});return{element:r,disposable:h}}setAccessibilityAttributes(e,t,n,o){if(!this.accessibilityProvider)return V.None;this.accessibilityProvider.getSetSize&&e.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(t,n,o))),this.accessibilityProvider.getPosInSet&&e.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(t,n))),this.accessibilityProvider.getRole&&e.setAttribute("role",this.accessibilityProvider.getRole(t)??"treeitem");let r=this.accessibilityProvider.getAriaLabel(t),s=r&&typeof r!="string"?r:Zr(r),a=ci(d=>{let u=d.readObservable(s);u?e.setAttribute("aria-label",u):e.removeAttribute("aria-label")});typeof r=="string"||r&&e.setAttribute("aria-label",r.get());let l=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(t);return typeof l=="number"&&e.setAttribute("aria-level",`${l}`),e.setAttribute("aria-selected",String(!1)),a}setVisible(e){this._rootDomNode.classList.toggle("empty",!e),e||this.stickyScrollFocus.updateElements([],void 0)}getFocus(){return this.stickyScrollFocus.getFocus()}domFocus(){this.stickyScrollFocus.domFocus()}focusedLast(){return this.stickyScrollFocus.focusedLast()}dispose(){this.stickyScrollFocus.dispose(),this._previousStateDisposables.dispose(),this._rootDomNode.remove()}},Ih=class extends V{constructor(t,n){super();this.container=t;this.view=n;this._register(Q(this.container,"focus",()=>this.onFocus())),this._register(Q(this.container,"blur",()=>this.onBlur())),this._register(this.view.onDidFocus(()=>this.toggleStickyScrollFocused(!1))),this._register(this.view.onKeyDown(o=>this.onKeyDown(o))),this._register(this.view.onMouseDown(o=>this.onMouseDown(o))),this._register(this.view.onContextMenu(o=>this.handleContextMenu(o)))}focusedIndex=-1;elements=[];state;_onDidChangeHasFocus=new k;onDidChangeHasFocus=this._onDidChangeHasFocus.event;_onContextMenu=new k;onContextMenu=this._onContextMenu.event;_domHasFocus=!1;get domHasFocus(){return this._domHasFocus}set domHasFocus(t){t!==this._domHasFocus&&(this._onDidChangeHasFocus.fire(t),this._domHasFocus=t)}handleContextMenu(t){let n=t.browserEvent.target;if(!gr(n)&&!fr(n)){this.focusedLast()&&this.view.domFocus();return}if(!zn(t.browserEvent)){if(!this.state)throw new Error("Context menu should not be triggered when state is undefined");let a=this.state.stickyNodes.findIndex(l=>l.node.element===t.element?.element);if(a===-1)throw new Error("Context menu should not be triggered when element is not in sticky scroll widget");this.container.focus(),this.setFocus(a);return}if(!this.state||this.focusedIndex<0)throw new Error("Context menu key should not be triggered when focus is not in sticky scroll widget");let r=this.state.stickyNodes[this.focusedIndex].node.element,s=this.elements[this.focusedIndex];this._onContextMenu.fire({element:r,anchor:s,browserEvent:t.browserEvent,isStickyScroll:!0})}onKeyDown(t){if(this.domHasFocus&&this.state){if(t.key==="ArrowUp")this.setFocusedElement(Math.max(0,this.focusedIndex-1)),t.preventDefault(),t.stopPropagation();else if(t.key==="ArrowDown"||t.key==="ArrowRight"){if(this.focusedIndex>=this.state.count-1){let n=this.state.stickyNodes[this.state.count-1].startIndex+1;this.view.domFocus(),this.view.setFocus([n]),this.scrollNodeUnderWidget(n,this.state)}else this.setFocusedElement(this.focusedIndex+1);t.preventDefault(),t.stopPropagation()}}}onMouseDown(t){let n=t.browserEvent.target;!gr(n)&&!fr(n)||(t.browserEvent.preventDefault(),t.browserEvent.stopPropagation())}updateElements(t,n){if(n&&n.count===0)throw new Error("Sticky scroll state must be undefined when there are no sticky nodes");if(n&&n.count!==t.length)throw new Error("Sticky scroll focus received illigel state");let o=this.focusedIndex;if(this.removeFocus(),this.elements=t,this.state=n,n){let r=pt(o,0,n.count-1);this.setFocus(r)}else this.domHasFocus&&this.view.domFocus();this.container.tabIndex=n?0:-1}setFocusedElement(t){let n=this.state;if(!n)throw new Error("Cannot set focus when state is undefined");if(this.setFocus(t),!(t<n.count-1)&&n.lastNodePartiallyVisible()){let o=n.stickyNodes[t];this.scrollNodeUnderWidget(o.endIndex+1,n)}}scrollNodeUnderWidget(t,n){let o=n.stickyNodes[n.count-1],r=n.count>1?n.stickyNodes[n.count-2]:void 0,s=this.view.getElementTop(t),a=r?r.position+r.height+o.height:o.height;this.view.scrollTop=s-a}getFocus(){if(!(!this.state||this.focusedIndex===-1))return this.state.stickyNodes[this.focusedIndex].node.element}domFocus(){if(!this.state)throw new Error("Cannot focus when state is undefined");this.container.focus()}focusedLast(){return this.state?this.view.getHTMLElement().classList.contains("sticky-scroll-focused"):!1}removeFocus(){this.focusedIndex!==-1&&(this.toggleElementFocus(this.elements[this.focusedIndex],!1),this.focusedIndex=-1)}setFocus(t){if(0>t)throw new Error("addFocus() can not remove focus");if(!this.state&&t>=0)throw new Error("Cannot set focus index when state is undefined");if(this.state&&t>=this.state.count)throw new Error("Cannot set focus index to an index that does not exist");let n=this.focusedIndex;n>=0&&this.toggleElementFocus(this.elements[n],!1),t>=0&&this.toggleElementFocus(this.elements[t],!0),this.focusedIndex=t}toggleElementFocus(t,n){this.toggleElementActiveFocus(t,n&&this.domHasFocus),this.toggleElementPassiveFocus(t,n)}toggleCurrentElementActiveFocus(t){this.focusedIndex!==-1&&this.toggleElementActiveFocus(this.elements[this.focusedIndex],t)}toggleElementActiveFocus(t,n){t.classList.toggle("focused",n)}toggleElementPassiveFocus(t,n){t.classList.toggle("passive-focused",n)}toggleStickyScrollFocused(t){this.view.getHTMLElement().classList.toggle("sticky-scroll-focused",t)}onFocus(){if(!this.state||this.elements.length===0)throw new Error("Cannot focus when state is undefined or elements are empty");this.domHasFocus=!0,this.toggleStickyScrollFocused(!0),this.toggleCurrentElementActiveFocus(!0),this.focusedIndex===-1&&this.setFocus(0)}onBlur(){this.domHasFocus=!1,this.toggleCurrentElementActiveFocus(!1)}dispose(){this.toggleStickyScrollFocused(!1),this._onDidChangeHasFocus.fire(!1),super.dispose()}};function Tr(i){let e=0;return il(i.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?e=1:il(i.browserEvent.target,"monaco-tl-contents","monaco-tl-row")?e=2:il(i.browserEvent.target,"monaco-tree-type-filter","monaco-list")&&(e=3),{browserEvent:i.browserEvent,element:i.element?i.element.element:null,target:e}}function kI(i){let e=gr(i.browserEvent.target);return{element:i.element?i.element.element:null,browserEvent:i.browserEvent,anchor:i.anchor,isStickyScroll:e}}function Yl(i,e){e(i),i.children.forEach(t=>Yl(t,e))}var Ns=class{constructor(e,t){this.getFirstViewElementWithTrait=e;this.identityProvider=t}nodes=[];elements;_onDidChange=new k;onDidChange=this._onDidChange.event;_nodeSet;get nodeSet(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}set(e,t){!t?.__forceEvent&&xt(this.nodes,e)||this._set(e,!1,t)}_set(e,t,n){if(this.nodes=[...e],this.elements=void 0,this._nodeSet=void 0,!t){let o=this;this._onDidChange.fire({get elements(){return o.get()},browserEvent:n})}}get(){return this.elements||(this.elements=this.nodes.map(e=>e.element)),[...this.elements]}getNodes(){return this.nodes}has(e){return this.nodeSet.has(e)}onDidModelSplice({insertedNodes:e,deletedNodes:t}){if(!this.identityProvider){let l=this.createNodeSet(),d=u=>l.delete(u);t.forEach(u=>Yl(u,d)),this.set([...l.values()]);return}let n=new Set,o=l=>n.add(this.identityProvider.getId(l.element).toString());t.forEach(l=>Yl(l,o));let r=new Map,s=l=>r.set(this.identityProvider.getId(l.element).toString(),l);e.forEach(l=>Yl(l,s));let a=[];for(let l of this.nodes){let d=this.identityProvider.getId(l.element).toString();if(!n.has(d))a.push(l);else{let h=r.get(d);h&&h.visible&&a.push(h)}}if(this.nodes.length>0&&a.length===0){let l=this.getFirstViewElementWithTrait();l&&a.push(l)}this._set(a,!0)}createNodeSet(){let e=new Set;for(let t of this.nodes)e.add(t);return e}},xh=class extends Ss{constructor(t,n,o){super(t);this.tree=n;this.stickyScrollProvider=o}onViewPointer(t){if($u(t.browserEvent.target)||Vn(t.browserEvent.target)||pr(t.browserEvent.target)||t.browserEvent.isHandledByList)return;let n=t.element;if(!n)return super.onViewPointer(t);if(this.isSelectionRangeChangeEvent(t)||this.isSelectionSingleChangeEvent(t))return super.onViewPointer(t);let o=t.browserEvent.target,r=o.classList.contains("monaco-tl-twistie")||o.classList.contains("monaco-icon-label")&&o.classList.contains("folder-icon")&&t.browserEvent.offsetX<16,s=fr(t.browserEvent.target),a=!1;if(s?a=!0:typeof this.tree.expandOnlyOnTwistieClick=="function"?a=this.tree.expandOnlyOnTwistieClick(n.element):a=!!this.tree.expandOnlyOnTwistieClick,s)this.handleStickyScrollMouseEvent(t,n);else{if(a&&!r&&t.browserEvent.detail!==2)return super.onViewPointer(t);if(!this.tree.expandOnDoubleClick&&t.browserEvent.detail===2)return super.onViewPointer(t)}if(n.collapsible&&(!s||r)){let l=this.tree.getNodeLocation(n),d=t.browserEvent.altKey;if(this.tree.setFocus([l]),this.tree.toggleCollapsed(l,d),r){t.browserEvent.isHandledByList=!0;return}}s||super.onViewPointer(t)}handleStickyScrollMouseEvent(t,n){if(og(t.browserEvent.target)||rg(t.browserEvent.target))return;let o=this.stickyScrollProvider();if(!o)throw new Error("Sticky scroll controller not found");let r=this.list.indexOf(n),s=this.list.getElementTop(r),a=o.nodePositionTopBelowWidget(n);this.tree.scrollTop=s-a,this.list.domFocus(),this.list.setFocus([r]),this.list.setSelection([r])}onDoubleClick(t){t.browserEvent.target.classList.contains("monaco-tl-twistie")||!this.tree.expandOnDoubleClick||t.browserEvent.isHandledByList||super.onDoubleClick(t)}onMouseDown(t){let n=t.browserEvent.target;if(!gr(n)&&!fr(n)){super.onMouseDown(t);return}}onContextMenu(t){let n=t.browserEvent.target;if(!gr(n)&&!fr(n)){super.onContextMenu(t);return}}},Sh=class extends mt{constructor(t,n,o,r,s,a,l,d){super(t,n,o,r,d);this.focusTrait=s;this.selectionTrait=a;this.anchorTrait=l}createMouseController(t){return new xh(this,t.tree,t.stickyScrollProvider)}splice(t,n,o=[]){if(super.splice(t,n,o),o.length===0)return;let r=[],s=[],a;o.forEach((l,d)=>{this.focusTrait.has(l)&&r.push(t+d),this.selectionTrait.has(l)&&s.push(t+d),this.anchorTrait.has(l)&&(a=t+d)}),r.length>0&&super.setFocus(co([...super.getFocus(),...r])),s.length>0&&super.setSelection(co([...super.getSelection(),...s])),typeof a=="number"&&super.setAnchor(a)}setFocus(t,n,o=!1){super.setFocus(t,n),o||this.focusTrait.set(t.map(r=>this.element(r)),n)}setSelection(t,n,o=!1){super.setSelection(t,n),o||this.selectionTrait.set(t.map(r=>this.element(r)),n)}setAnchor(t,n=!1){super.setAnchor(t),n||(typeof t>"u"?this.anchorTrait.set([]):this.anchorTrait.set([this.element(t)]))}};var xr=class{constructor(e,t,n,o,r={}){this._user=e;this._options=r;let s;r.keyboardNavigationLabelProvider&&(s=new ph(this,r.keyboardNavigationLabelProvider,r.filter),r={...r,filter:s},this.disposables.add(s)),this.model=this.createModel(e,r),this.treeDelegate=new Ir(n);let a=this.disposables.add(new uh(this.onDidChangeActiveNodesRelay.event)),l=new Xr;this.renderers=o.map(d=>new hh(d,this.model,this.onDidChangeCollapseStateRelay.event,a,l,r));for(let d of this.renderers)this.disposables.add(d);if(this.focus=new Ns(()=>this.view.getFocusedElements()[0],r.identityProvider),this.selection=new Ns(()=>this.view.getSelectedElements()[0],r.identityProvider),this.anchor=new Ns(()=>this.view.getAnchorElement(),r.identityProvider),this.view=new Sh(e,t,this.treeDelegate,this.renderers,this.focus,this.selection,this.anchor,{...wI(()=>this.model,r),tree:this,stickyScrollProvider:()=>this.stickyScrollController}),this.setupModel(this.model),r.keyboardSupport!==!1){let d=_.chain(this.view.onKeyDown,u=>u.filter(h=>!Vn(h.target)).map(h=>new Me(h)));_.chain(d,u=>u.filter(h=>h.keyCode===15))(this.onLeftArrow,this,this.disposables),_.chain(d,u=>u.filter(h=>h.keyCode===17))(this.onRightArrow,this,this.disposables),_.chain(d,u=>u.filter(h=>h.keyCode===10))(this.onSpace,this,this.disposables)}if((r.findWidgetEnabled??!0)&&r.keyboardNavigationLabelProvider&&r.contextViewProvider){let d=this.options.findWidgetStyles?{styles:this.options.findWidgetStyles}:void 0;this.findController=new bh(this,this.view,s,r.contextViewProvider,d),this.focusNavigationFilter=u=>this.findController.shouldAllowFocus(u),this.onDidChangeFindOpenState=this.findController.onDidChangeOpenState,this.disposables.add(this.findController),this.onDidChangeFindMode=this.findController.onDidChangeMode,this.onDidChangeFindMatchType=this.findController.onDidChangeMatchType,this.disposables.add(this.onDidSpliceModelRelay.event(()=>{!this.findController.isOpened()||this.findController.pattern.length===0||(this.refilter(),this.findController.render())}))}else this.onDidChangeFindMode=_.None,this.onDidChangeFindMatchType=_.None;r.enableStickyScroll&&(this.stickyScrollController=new Xl(this,this.model,this.view,this.renderers,this.treeDelegate,r),this.onDidChangeStickyScrollFocused=this.stickyScrollController.onDidChangeHasFocus),this.styleElement=en(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides==="always")}view;renderers;model;treeDelegate;focus;selection;anchor;eventBufferer=new an;findController;onDidChangeFindOpenState=_.None;onDidChangeStickyScrollFocused=_.None;focusNavigationFilter;stickyScrollController;styleElement;disposables=new W;get onDidScroll(){return this.view.onDidScroll}get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseClick(){return _.map(this.view.onMouseClick,Tr)}get onMouseDblClick(){return _.filter(_.map(this.view.onMouseDblClick,Tr),e=>e.target!==3)}get onMouseOver(){return _.map(this.view.onMouseOver,Tr)}get onMouseOut(){return _.map(this.view.onMouseOut,Tr)}get onContextMenu(){return _.any(_.filter(_.map(this.view.onContextMenu,kI),e=>!e.isStickyScroll),this.stickyScrollController?.onContextMenu??_.None)}get onTap(){return _.map(this.view.onTap,Tr)}get onPointer(){return _.map(this.view.onPointer,Tr)}get onKeyDown(){return this.view.onKeyDown}get onKeyUp(){return this.view.onKeyUp}get onKeyPress(){return this.view.onKeyPress}get onDidFocus(){return this.view.onDidFocus}get onDidBlur(){return this.view.onDidBlur}onDidSwapModel=this.disposables.add(new k);onDidChangeModelRelay=this.disposables.add(new Mi);onDidSpliceModelRelay=this.disposables.add(new Mi);onDidChangeCollapseStateRelay=this.disposables.add(new Mi);onDidChangeRenderNodeCountRelay=this.disposables.add(new Mi);onDidChangeActiveNodesRelay=this.disposables.add(new Mi);get onDidChangeModel(){return _.any(this.onDidChangeModelRelay.event,this.onDidSwapModel.event)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}_onWillRefilter=new k;onWillRefilter=this._onWillRefilter.event;get findMode(){return this.findController?.mode??0}set findMode(e){this.findController&&(this.findController.mode=e)}onDidChangeFindMode;get findMatchType(){return this.findController?.matchType??0}set findMatchType(e){this.findController&&(this.findController.matchType=e)}onDidChangeFindMatchType;get onDidChangeFindPattern(){return this.findController?this.findController.onDidChangePattern:_.None}get expandOnDoubleClick(){return typeof this._options.expandOnDoubleClick>"u"?!0:this._options.expandOnDoubleClick}get expandOnlyOnTwistieClick(){return typeof this._options.expandOnlyOnTwistieClick>"u"?!0:this._options.expandOnlyOnTwistieClick}_onDidUpdateOptions=new k;onDidUpdateOptions=this._onDidUpdateOptions.event;get onDidDispose(){return this.view.onDidDispose}updateOptions(e={}){this._options={...this._options,...e};for(let t of this.renderers)t.updateOptions(e);this.view.updateOptions(this._options),this.findController?.updateOptions(e),this.updateStickyScroll(e),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides==="always")}get options(){return this._options}updateStickyScroll(e){!this.stickyScrollController&&this._options.enableStickyScroll?(this.stickyScrollController=new Xl(this,this.model,this.view,this.renderers,this.treeDelegate,this._options),this.onDidChangeStickyScrollFocused=this.stickyScrollController.onDidChangeHasFocus):this.stickyScrollController&&!this._options.enableStickyScroll&&(this.onDidChangeStickyScrollFocused=_.None,this.stickyScrollController.dispose(),this.stickyScrollController=void 0),this.stickyScrollController?.updateOptions(e)}updateWidth(e){let t=this.model.getListIndex(e);t!==-1&&this.view.updateWidth(t)}getHTMLElement(){return this.view.getHTMLElement()}get contentHeight(){return this.view.contentHeight}get contentWidth(){return this.view.contentWidth}get onDidChangeContentHeight(){return this.view.onDidChangeContentHeight}get onDidChangeContentWidth(){return this.view.onDidChangeContentWidth}get scrollTop(){return this.view.scrollTop}set scrollTop(e){this.view.scrollTop=e}get scrollLeft(){return this.view.scrollLeft}set scrollLeft(e){this.view.scrollLeft=e}get scrollHeight(){return this.view.scrollHeight}get renderHeight(){return this.view.renderHeight}get firstVisibleElement(){let e=this.view.firstVisibleIndex;return this.stickyScrollController&&(e+=this.stickyScrollController.count),e<0||e>=this.view.length?void 0:this.view.element(e).element}get lastVisibleElement(){let e=this.view.lastVisibleIndex;return this.view.element(e).element}get ariaLabel(){return this.view.ariaLabel}set ariaLabel(e){this.view.ariaLabel=e}get selectionSize(){return this.selection.getNodes().length}domFocus(){this.stickyScrollController?.focusedLast()?this.stickyScrollController.domFocus():this.view.domFocus()}isDOMFocused(){return Zt(this.getHTMLElement())}layout(e,t){this.view.layout(e,t),Oi(t)&&this.findController?.layout(t)}style(e){let t=`.${this.view.domId}`,n=[];e.treeIndentGuidesStroke&&(n.push(`.monaco-list${t}:hover .monaco-tl-indent > .indent-guide, .monaco-list${t}.always .monaco-tl-indent > .indent-guide  { border-color: ${e.treeInactiveIndentGuidesStroke}; }`),n.push(`.monaco-list${t} .monaco-tl-indent > .indent-guide.active { border-color: ${e.treeIndentGuidesStroke}; }`));let o=e.treeStickyScrollBackground??e.listBackground;o&&(n.push(`.monaco-list${t} .monaco-scrollable-element .monaco-tree-sticky-container { background-color: ${o}; }`),n.push(`.monaco-list${t} .monaco-scrollable-element .monaco-tree-sticky-container .monaco-tree-sticky-row { background-color: ${o}; }`)),e.treeStickyScrollBorder&&n.push(`.monaco-list${t} .monaco-scrollable-element .monaco-tree-sticky-container { border-bottom: 1px solid ${e.treeStickyScrollBorder}; }`),e.treeStickyScrollShadow&&n.push(`.monaco-list${t} .monaco-scrollable-element .monaco-tree-sticky-container .monaco-tree-sticky-container-shadow { box-shadow: ${e.treeStickyScrollShadow} 0 6px 6px -6px inset; height: 3px; }`),e.listFocusForeground&&(n.push(`.monaco-list${t}.sticky-scroll-focused .monaco-scrollable-element .monaco-tree-sticky-container:focus .monaco-list-row.focused { color: ${e.listFocusForeground}; }`),n.push(`.monaco-list${t}:not(.sticky-scroll-focused) .monaco-scrollable-element .monaco-tree-sticky-container .monaco-list-row.focused { color: inherit; }`));let r=dn(e.listFocusAndSelectionOutline,dn(e.listSelectionOutline,e.listFocusOutline??""));r&&(n.push(`.monaco-list${t}.sticky-scroll-focused .monaco-scrollable-element .monaco-tree-sticky-container:focus .monaco-list-row.focused.selected { outline: 1px solid ${r}; outline-offset: -1px;}`),n.push(`.monaco-list${t}:not(.sticky-scroll-focused) .monaco-scrollable-element .monaco-tree-sticky-container .monaco-list-row.focused.selected { outline: inherit;}`)),e.listFocusOutline&&(n.push(`.monaco-list${t}.sticky-scroll-focused .monaco-scrollable-element .monaco-tree-sticky-container:focus .monaco-list-row.focused { outline: 1px solid ${e.listFocusOutline}; outline-offset: -1px; }`),n.push(`.monaco-list${t}:not(.sticky-scroll-focused) .monaco-scrollable-element .monaco-tree-sticky-container .monaco-list-row.focused { outline: inherit; }`),n.push(`.monaco-workbench.context-menu-visible .monaco-list${t}.last-focused.sticky-scroll-focused .monaco-scrollable-element .monaco-tree-sticky-container .monaco-list-row.passive-focused { outline: 1px solid ${e.listFocusOutline}; outline-offset: -1px; }`),n.push(`.monaco-workbench.context-menu-visible .monaco-list${t}.last-focused.sticky-scroll-focused .monaco-list-rows .monaco-list-row.focused { outline: inherit; }`),n.push(`.monaco-workbench.context-menu-visible .monaco-list${t}.last-focused:not(.sticky-scroll-focused) .monaco-tree-sticky-container .monaco-list-rows .monaco-list-row.focused { outline: inherit; }`)),this.styleElement.textContent=n.join(`
`),this.view.style(e)}getParentElement(e){let t=this.model.getParentNodeLocation(e);return this.model.getNode(t).element}getFirstElementChild(e){return this.model.getFirstElementChild(e)}getNode(e){return this.model.getNode(e)}getNodeLocation(e){return this.model.getNodeLocation(e)}collapse(e,t=!1){return this.model.setCollapsed(e,!0,t)}expand(e,t=!1){return this.model.setCollapsed(e,!1,t)}toggleCollapsed(e,t=!1){return this.model.setCollapsed(e,void 0,t)}expandAll(){this.model.setCollapsed(this.model.rootRef,!1,!0)}collapseAll(){this.model.setCollapsed(this.model.rootRef,!0,!0)}isCollapsible(e){return this.model.isCollapsible(e)}setCollapsible(e,t){return this.model.setCollapsible(e,t)}isCollapsed(e){return this.model.isCollapsed(e)}expandTo(e){this.model.expandTo(e)}triggerTypeNavigation(){this.view.triggerTypeNavigation()}openFind(){this.findController?.open()}closeFind(){this.findController?.close()}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setAnchor(e){if(typeof e>"u")return this.view.setAnchor(void 0);this.eventBufferer.bufferEvents(()=>{let t=this.model.getNode(e);this.anchor.set([t]);let n=this.model.getListIndex(e);n>-1&&this.view.setAnchor(n,!0)})}getAnchor(){return this.anchor.get().at(0)}setSelection(e,t){this.eventBufferer.bufferEvents(()=>{let n=e.map(r=>this.model.getNode(r));this.selection.set(n,t);let o=e.map(r=>this.model.getListIndex(r)).filter(r=>r>-1);this.view.setSelection(o,t,!0)})}getSelection(){return this.selection.get()}setFocus(e,t){this.eventBufferer.bufferEvents(()=>{let n=e.map(r=>this.model.getNode(r));this.focus.set(n,t);let o=e.map(r=>this.model.getListIndex(r)).filter(r=>r>-1);this.view.setFocus(o,t,!0)})}focusNext(e=1,t=!1,n,o=zn(n)&&n.altKey?void 0:this.focusNavigationFilter){this.view.focusNext(e,t,n,o)}focusPrevious(e=1,t=!1,n,o=zn(n)&&n.altKey?void 0:this.focusNavigationFilter){this.view.focusPrevious(e,t,n,o)}focusNextPage(e,t=zn(e)&&e.altKey?void 0:this.focusNavigationFilter){return this.view.focusNextPage(e,t)}focusPreviousPage(e,t=zn(e)&&e.altKey?void 0:this.focusNavigationFilter){return this.view.focusPreviousPage(e,t,()=>this.stickyScrollController?.height??0)}focusLast(e,t=zn(e)&&e.altKey?void 0:this.focusNavigationFilter){this.view.focusLast(e,t)}focusFirst(e,t=zn(e)&&e.altKey?void 0:this.focusNavigationFilter){this.view.focusFirst(e,t)}getFocus(){return this.focus.get()}getStickyScrollFocus(){let e=this.stickyScrollController?.getFocus();return e!==void 0?[e]:[]}getFocusedPart(){return this.stickyScrollController?.focusedLast()?1:0}reveal(e,t){this.model.expandTo(e);let n=this.model.getListIndex(e);if(n!==-1)if(!this.stickyScrollController)this.view.reveal(n,t);else{let o=this.stickyScrollController.nodePositionTopBelowWidget(this.getNode(e));this.view.reveal(n,t,o)}}getRelativeTop(e){let t=this.model.getListIndex(e);if(t===-1)return null;let n=this.stickyScrollController?.getNode(this.getNode(e));return this.view.getRelativeTop(t,n?.position??this.stickyScrollController?.height)}getViewState(e=this.options.identityProvider){if(!e)throw new Pe(this._user,"Can't get tree view state without an identity provider");let t=s=>e.getId(s).toString(),n=ch.empty(this.scrollTop);for(let s of this.getFocus())n.focus.add(t(s));for(let s of this.getSelection())n.selection.add(t(s));let o=this.model.getNode(),r=[o];for(;r.length>0;){let s=r.shift();s!==o&&s.collapsible&&(n.expanded[t(s.element)]=s.collapsed?0:1),r.push(...s.children)}return n}onLeftArrow(e){e.preventDefault(),e.stopPropagation();let t=this.view.getFocusedElements();if(t.length===0)return;let n=t[0],o=this.model.getNodeLocation(n);if(!this.model.setCollapsed(o,!0)){let s=this.model.getParentNodeLocation(o);if(!s)return;let a=this.model.getListIndex(s);this.view.reveal(a),this.view.setFocus([a])}}onRightArrow(e){e.preventDefault(),e.stopPropagation();let t=this.view.getFocusedElements();if(t.length===0)return;let n=t[0],o=this.model.getNodeLocation(n);if(!this.model.setCollapsed(o,!1)){if(!n.children.some(l=>l.visible))return;let[s]=this.view.getFocus(),a=s+1;this.view.reveal(a),this.view.setFocus([a])}}onSpace(e){e.preventDefault(),e.stopPropagation();let t=this.view.getFocusedElements();if(t.length===0)return;let n=t[0],o=this.model.getNodeLocation(n),r=e.browserEvent.altKey;this.model.setCollapsed(o,void 0,r)}modelDisposables=new W;setupModel(e){this.modelDisposables.clear(),this.modelDisposables.add(e.onDidSpliceRenderedNodes(({start:r,deleteCount:s,elements:a})=>this.view.splice(r,s,a)));let t=_.forEach(e.onDidSpliceModel,r=>{this.eventBufferer.bufferEvents(()=>{this.focus.onDidModelSplice(r),this.selection.onDidModelSplice(r)})},this.modelDisposables);t(()=>null,null,this.modelDisposables);let n=this.modelDisposables.add(new k),o=this.modelDisposables.add(new yn(0));this.modelDisposables.add(_.any(t,this.focus.onDidChange,this.selection.onDidChange)(()=>{o.trigger(()=>{let r=new Set;for(let s of this.focus.getNodes())r.add(s);for(let s of this.selection.getNodes())r.add(s);n.fire([...r.values()])})})),this.onDidChangeActiveNodesRelay.input=n.event,this.onDidChangeModelRelay.input=_.signal(e.onDidSpliceModel),this.onDidChangeCollapseStateRelay.input=e.onDidChangeCollapseState,this.onDidChangeRenderNodeCountRelay.input=e.onDidChangeRenderNodeCount}setModel(e){let t=this.model;this.model=e,this.setupModel(e),this.renderers.forEach(n=>n.setModel(e)),this.stickyScrollController?.setModel(e),this.focus.set([]),this.selection.set([]),this.anchor.set([]),this.view.splice(0,t.getListRenderCount(t.rootRef)),this.model.refilter(),this.onDidSwapModel.fire()}getModel(){return this.model}navigate(e){return new wh(this.view,this.model,e)}dispose(){je(this.disposables),this.stickyScrollController?.dispose(),this.view.dispose(),this.modelDisposables.dispose()}},wh=class{constructor(e,t,n){this.view=e;this.model=t;n?this.index=this.model.getListIndex(n):this.index=-1}index;current(){return this.index<0||this.index>=this.view.length?null:this.view.element(this.index).element}previous(){return this.index--,this.current()}next(){return this.index++,this.current()}first(){return this.index=0,this.current()}last(){return this.index=this.view.length-1,this.current()}};var Zi=class{constructor(e,t={}){this.user=e;this.model=new Ql(e,null,t),this.onDidSpliceModel=this.model.onDidSpliceModel,this.onDidSpliceRenderedNodes=this.model.onDidSpliceRenderedNodes,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,t.sorter&&(this.sorter={compare(n,o){return t.sorter.compare(n.element,o.element)}}),this.identityProvider=t.identityProvider}rootRef=null;model;nodes=new Map;nodesByIdentity=new Map;identityProvider;sorter;onDidSpliceModel;onDidSpliceRenderedNodes;onDidChangeCollapseState;onDidChangeRenderNodeCount;get size(){return this.nodes.size}setChildren(e,t=fe.empty(),n={}){let o=this.getElementLocation(e);this._setChildren(o,this.preserveCollapseState(t),n)}_setChildren(e,t=fe.empty(),n){let o=new Set,r=new Set,s=l=>{if(l.element===null)return;let d=l;if(o.add(d.element),this.nodes.set(d.element,d),this.identityProvider){let u=this.identityProvider.getId(d.element).toString();r.add(u),this.nodesByIdentity.set(u,d)}n.onDidCreateNode?.(d)},a=l=>{if(l.element===null)return;let d=l;if(o.has(d.element)||this.nodes.delete(d.element),this.identityProvider){let u=this.identityProvider.getId(d.element).toString();r.has(u)||this.nodesByIdentity.delete(u)}n.onDidDeleteNode?.(d)};this.model.splice([...e,0],Number.MAX_VALUE,t,{...n,onDidCreateNode:s,onDidDeleteNode:a})}preserveCollapseState(e=fe.empty()){return this.sorter&&(e=[...e].sort(this.sorter.compare.bind(this.sorter))),fe.map(e,t=>{let n=this.nodes.get(t.element);if(!n&&this.identityProvider){let s=this.identityProvider.getId(t.element).toString();n=this.nodesByIdentity.get(s)}if(!n){let s;return typeof t.collapsed>"u"?s=void 0:t.collapsed===1||t.collapsed===3?s=!0:t.collapsed===0||t.collapsed===2?s=!1:s=!!t.collapsed,{...t,children:this.preserveCollapseState(t.children),collapsed:s}}let o=typeof t.collapsible=="boolean"?t.collapsible:n.collapsible,r;return typeof t.collapsed>"u"||t.collapsed===3||t.collapsed===2?r=n.collapsed:t.collapsed===1?r=!0:t.collapsed===0?r=!1:r=!!t.collapsed,{...t,collapsible:o,collapsed:r,children:this.preserveCollapseState(t.children)}})}rerender(e){let t=this.getElementLocation(e);this.model.rerender(t)}resort(e=null,t=!0){if(!this.sorter)return;let n=this.getElementLocation(e),o=this.model.getNode(n);this._setChildren(n,this.resortChildren(o,t),{})}resortChildren(e,t,n=!0){let o=[...e.children];return(t||n)&&(o=o.sort(this.sorter.compare.bind(this.sorter))),fe.map(o,r=>({element:r.element,collapsible:r.collapsible,collapsed:r.collapsed,children:this.resortChildren(r,t,!1)}))}getFirstElementChild(e=null){let t=this.getElementLocation(e);return this.model.getFirstElementChild(t)}getLastElementAncestor(e=null){let t=this.getElementLocation(e);return this.model.getLastElementAncestor(t)}has(e){return this.nodes.has(e)}getListIndex(e){let t=this.getElementLocation(e);return this.model.getListIndex(t)}getListRenderCount(e){let t=this.getElementLocation(e);return this.model.getListRenderCount(t)}isCollapsible(e){let t=this.getElementLocation(e);return this.model.isCollapsible(t)}setCollapsible(e,t){let n=this.getElementLocation(e);return this.model.setCollapsible(n,t)}isCollapsed(e){let t=this.getElementLocation(e);return this.model.isCollapsed(t)}setCollapsed(e,t,n){let o=this.getElementLocation(e);return this.model.setCollapsed(o,t,n)}expandTo(e){let t=this.getElementLocation(e);this.model.expandTo(t)}refilter(){this.model.refilter()}getNode(e=null){if(e===null)return this.model.getNode(this.model.rootRef);let t=this.nodes.get(e);if(!t)throw new Pe(this.user,`Tree element not found: ${e}`);return t}getNodeLocation(e){return e.element}getParentNodeLocation(e){if(e===null)throw new Pe(this.user,"Invalid getParentNodeLocation call");let t=this.nodes.get(e);if(!t)throw new Pe(this.user,`Tree element not found: ${e}`);let n=this.model.getNodeLocation(t),o=this.model.getParentNodeLocation(n);return this.model.getNode(o).element}getElementLocation(e){if(e===null)return[];let t=this.nodes.get(e);if(!t)throw new Pe(this.user,`Tree element not found: ${e}`);return this.model.getNodeLocation(t)}};function Jl(i){let e=[i.element],t=i.incompressible||!1;return{element:{elements:e,incompressible:t},children:fe.map(fe.from(i.children),Jl),collapsible:i.collapsible,collapsed:i.collapsed}}function Zl(i){let e=[i.element],t=i.incompressible||!1,n,o;for(;[o,n]=fe.consume(fe.from(i.children),2),!(o.length!==1||o[0].incompressible);)i=o[0],e.push(i.element);return{element:{elements:e,incompressible:t},children:fe.map(fe.concat(o,n),Zl),collapsible:i.collapsible,collapsed:i.collapsed}}function Eh(i,e=0){let t;return e<i.element.elements.length-1?t=[Eh(i,e+1)]:t=fe.map(fe.from(i.children),n=>Eh(n,0)),e===0&&i.element.incompressible?{element:i.element.elements[e],children:t,incompressible:!0,collapsible:i.collapsible,collapsed:i.collapsed}:{element:i.element.elements[e],children:t,collapsible:i.collapsible,collapsed:i.collapsed}}function Ig(i){return Eh(i,0)}function xg(i,e,t){return i.element===e?{...i,children:t}:{...i,children:fe.map(fe.from(i.children),n=>xg(n,e,t))}}var CI=i=>({getId(e){return e.elements.map(t=>i.getId(t).toString()).join("\0")}}),Dh=class{constructor(e,t={}){this.user=e;this.model=new Zi(e,t),this.enabled=typeof t.compressionEnabled>"u"?!0:t.compressionEnabled,this.identityProvider=t.identityProvider}rootRef=null;get onDidSpliceRenderedNodes(){return this.model.onDidSpliceRenderedNodes}get onDidSpliceModel(){return this.model.onDidSpliceModel}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}model;nodes=new Map;enabled;identityProvider;get size(){return this.nodes.size}setChildren(e,t=fe.empty(),n){let o=n.diffIdentityProvider&&CI(n.diffIdentityProvider);if(e===null){let w=fe.map(t,this.enabled?Zl:Jl);this._setChildren(null,w,{diffIdentityProvider:o,diffDepth:1/0});return}let r=this.nodes.get(e);if(!r)throw new Pe(this.user,"Unknown compressed tree node");let s=this.model.getNode(r),a=this.model.getParentNodeLocation(r),l=this.model.getNode(a),d=Ig(s),u=xg(d,e,t),h=(this.enabled?Zl:Jl)(u),f=n.diffIdentityProvider?(w,v)=>n.diffIdentityProvider.getId(w)===n.diffIdentityProvider.getId(v):void 0;if(xt(h.element.elements,s.element.elements,f)){this._setChildren(r,h.children||fe.empty(),{diffIdentityProvider:o,diffDepth:1});return}let T=l.children.map(w=>w===s?h:w);this._setChildren(l.element,T,{diffIdentityProvider:o,diffDepth:s.depth-l.depth})}isCompressionEnabled(){return this.enabled}setCompressionEnabled(e){if(e===this.enabled)return;this.enabled=e;let n=this.model.getNode().children,o=fe.map(n,Ig),r=fe.map(o,e?Zl:Jl);this._setChildren(null,r,{diffIdentityProvider:this.identityProvider,diffDepth:1/0})}_setChildren(e,t,n){let o=new Set,r=a=>{for(let l of a.element.elements)o.add(l),this.nodes.set(l,a.element)},s=a=>{for(let l of a.element.elements)o.has(l)||this.nodes.delete(l)};this.model.setChildren(e,t,{...n,onDidCreateNode:r,onDidDeleteNode:s})}has(e){return this.nodes.has(e)}getListIndex(e){let t=this.getCompressedNode(e);return this.model.getListIndex(t)}getListRenderCount(e){let t=this.getCompressedNode(e);return this.model.getListRenderCount(t)}getNode(e){if(typeof e>"u")return this.model.getNode();let t=this.getCompressedNode(e);return this.model.getNode(t)}getNodeLocation(e){let t=this.model.getNodeLocation(e);return t===null?null:t.elements[t.elements.length-1]}getParentNodeLocation(e){let t=this.getCompressedNode(e),n=this.model.getParentNodeLocation(t);return n===null?null:n.elements[n.elements.length-1]}getFirstElementChild(e){let t=this.getCompressedNode(e);return this.model.getFirstElementChild(t)}getLastElementAncestor(e){let t=typeof e>"u"?void 0:this.getCompressedNode(e);return this.model.getLastElementAncestor(t)}isCollapsible(e){let t=this.getCompressedNode(e);return this.model.isCollapsible(t)}setCollapsible(e,t){let n=this.getCompressedNode(e);return this.model.setCollapsible(n,t)}isCollapsed(e){let t=this.getCompressedNode(e);return this.model.isCollapsed(t)}setCollapsed(e,t,n){let o=this.getCompressedNode(e);return this.model.setCollapsed(o,t,n)}expandTo(e){let t=this.getCompressedNode(e);this.model.expandTo(t)}rerender(e){let t=this.getCompressedNode(e);this.model.rerender(t)}refilter(){this.model.refilter()}resort(e=null,t=!0){let n=this.getCompressedNode(e);this.model.resort(n,t)}getCompressedNode(e){if(e===null)return null;let t=this.nodes.get(e);if(!t)throw new Pe(this.user,`Tree element not found: ${e}`);return t}},LI=i=>i[i.length-1],kh=class i{constructor(e,t){this.unwrapper=e;this.node=t}get element(){return this.node.element===null?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map(e=>new i(this.unwrapper,e))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}};function AI(i,e){return{...e,identityProvider:e.identityProvider&&{getId(t){return e.identityProvider.getId(i(t))}},sorter:e.sorter&&{compare(t,n){return e.sorter.compare(t.elements[0],n.elements[0])}},filter:e.filter&&{filter(t,n){return e.filter.filter(i(t),n)}}}}var ed=class{rootRef=null;get onDidSpliceModel(){return _.map(this.model.onDidSpliceModel,({insertedNodes:e,deletedNodes:t})=>({insertedNodes:e.map(n=>this.nodeMapper.map(n)),deletedNodes:t.map(n=>this.nodeMapper.map(n))}))}get onDidSpliceRenderedNodes(){return _.map(this.model.onDidSpliceRenderedNodes,({start:e,deleteCount:t,elements:n})=>({start:e,deleteCount:t,elements:n.map(o=>this.nodeMapper.map(o))}))}get onDidChangeCollapseState(){return _.map(this.model.onDidChangeCollapseState,({node:e,deep:t})=>({node:this.nodeMapper.map(e),deep:t}))}get onDidChangeRenderNodeCount(){return _.map(this.model.onDidChangeRenderNodeCount,e=>this.nodeMapper.map(e))}elementMapper;nodeMapper;model;constructor(e,t={}){this.elementMapper=t.elementMapper||LI;let n=o=>this.elementMapper(o.elements);this.nodeMapper=new Do(o=>new kh(n,o)),this.model=new Dh(e,AI(n,t))}setChildren(e,t=fe.empty(),n={}){this.model.setChildren(e,t,n)}isCompressionEnabled(){return this.model.isCompressionEnabled()}setCompressionEnabled(e){this.model.setCompressionEnabled(e)}has(e){return this.model.has(e)}getListIndex(e){return this.model.getListIndex(e)}getListRenderCount(e){return this.model.getListRenderCount(e)}getNode(e){return this.nodeMapper.map(this.model.getNode(e))}getNodeLocation(e){return e.element}getParentNodeLocation(e){return this.model.getParentNodeLocation(e)}getFirstElementChild(e){let t=this.model.getFirstElementChild(e);return t===null||typeof t>"u"?t:this.elementMapper(t.elements)}getLastElementAncestor(e){let t=this.model.getLastElementAncestor(e);return t===null||typeof t>"u"?t:this.elementMapper(t.elements)}isCollapsible(e){return this.model.isCollapsible(e)}setCollapsible(e,t){return this.model.setCollapsible(e,t)}isCollapsed(e){return this.model.isCollapsed(e)}setCollapsed(e,t,n){return this.model.setCollapsed(e,t,n)}expandTo(e){return this.model.expandTo(e)}rerender(e){return this.model.rerender(e)}refilter(){return this.model.refilter()}resort(e=null,t=!0){return this.model.resort(e,t)}getCompressedTreeNode(e=null){return this.model.getNode(e)}};var _o=class extends xr{constructor(t,n,o,r,s={}){super(t,n,o,r,s);this.user=t}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}setChildren(t,n=fe.empty(),o){this.model.setChildren(t,n,o)}rerender(t){if(t===void 0){this.view.rerender();return}this.model.rerender(t)}updateElementHeight(t,n){let o=this.model.getListIndex(t);if(o===-1)throw new Pe(this.user,"updateElementHeight failed - index not found");this.view.updateElementHeight(o,n)}resort(t,n=!0){this.model.resort(t,n)}hasElement(t){return this.model.has(t)}createModel(t,n){return new Zi(t,n)}},td=class{constructor(e,t,n){this._compressedTreeNodeProvider=e;this.stickyScrollDelegate=t;this.renderer=n;this.templateId=n.templateId,n.onDidChangeTwistieState&&(this.onDidChangeTwistieState=n.onDidChangeTwistieState)}templateId;onDidChangeTwistieState;get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}renderTemplate(e){return{compressedTreeNode:void 0,data:this.renderer.renderTemplate(e)}}renderElement(e,t,n,o){let r=this.stickyScrollDelegate.getCompressedNode(e);r||(r=this.compressedTreeNodeProvider.getCompressedTreeNode(e.element)),r.element.elements.length===1?(n.compressedTreeNode=void 0,this.renderer.renderElement(e,t,n.data,o)):(n.compressedTreeNode=r,this.renderer.renderCompressedElements(r,t,n.data,o))}disposeElement(e,t,n,o){n.compressedTreeNode?this.renderer.disposeCompressedElements?.(n.compressedTreeNode,t,n.data,o):this.renderer.disposeElement?.(e,t,n.data,o)}disposeTemplate(e){this.renderer.disposeTemplate(e.data)}renderTwistie(e,t){return this.renderer.renderTwistie?this.renderer.renderTwistie(e,t):!1}};ie([Ee],td.prototype,"compressedTreeNodeProvider",1);var _h=class{constructor(e){this.modelProvider=e}compressedStickyNodes=new Map;getCompressedNode(e){return this.compressedStickyNodes.get(e)}constrainStickyScrollNodes(e,t,n){if(this.compressedStickyNodes.clear(),e.length===0)return[];for(let o=0;o<e.length;o++){let r=e[o],s=r.position+r.height;if(o+1<e.length&&s+e[o+1].height>n||o>=t-1&&t<e.length){let l=e.slice(0,o),d=e.slice(o),u=this.compressStickyNodes(d);return[...l,u]}}return e}compressStickyNodes(e){if(e.length===0)throw new Error("Can't compress empty sticky nodes");let t=this.modelProvider();if(!t.isCompressionEnabled())return e[0];let n=[];for(let d=0;d<e.length;d++){let u=e[d],h=t.getCompressedTreeNode(u.node.element);if(h.element){if(d!==0&&h.element.incompressible)break;n.push(...h.element.elements)}}if(n.length<2)return e[0];let o=e[e.length-1],r={elements:n,incompressible:!1},s={...o.node,children:[],element:r},a=new Proxy(e[0].node,{}),l={node:a,startIndex:e[0].startIndex,endIndex:o.endIndex,position:e[0].position,height:e[0].height};return this.compressedStickyNodes.set(a,s),l}};function MI(i,e){return e&&{...e,keyboardNavigationLabelProvider:e.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(t){let n;try{n=i().getCompressedTreeNode(t)}catch{return e.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t)}return n.element.elements.length===1?e.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t):e.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(n.element.elements)}}}}var Sr=class extends _o{constructor(e,t,n,o,r={}){let s=()=>this,a=new _h(()=>this.model),l=o.map(d=>new td(s,a,d));super(e,t,n,l,{...MI(s,r),stickyScrollDelegate:a})}setChildren(e,t=fe.empty(),n){this.model.setChildren(e,t,n)}createModel(e,t){return new ed(e,t)}updateOptions(e={}){super.updateOptions(e),typeof e.compressionEnabled<"u"&&this.model.setCompressionEnabled(e.compressionEnabled)}getCompressedTreeNode(e=null){return this.model.getCompressedTreeNode(e)}};function Ch(i){return{...i,children:[],refreshPromise:void 0,stale:!0,slow:!1,forceExpanded:!1}}function Ah(i,e){return e.parent?e.parent===i?!0:Ah(i,e.parent):!1}function NI(i,e){return i===e||Ah(i,e)||Ah(e,i)}var Mh=class i{constructor(e){this.node=e}get element(){return this.node.element.element}get children(){return this.node.children.map(e=>new i(e))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}},Nh=class{constructor(e,t,n){this.renderer=e;this.nodeMapper=t;this.onDidChangeTwistieState=n;this.templateId=e.templateId}templateId;renderedNodes=new Map;renderTemplate(e){return{templateData:this.renderer.renderTemplate(e)}}renderElement(e,t,n,o){this.renderer.renderElement(this.nodeMapper.map(e),t,n.templateData,o)}renderTwistie(e,t){return e.slow?(t.classList.add(...Se.asClassNameArray(_e.treeItemLoading)),!0):(t.classList.remove(...Se.asClassNameArray(_e.treeItemLoading)),!1)}disposeElement(e,t,n,o){this.renderer.disposeElement?.(this.nodeMapper.map(e),t,n.templateData,o)}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}dispose(){this.renderedNodes.clear()}};function Sg(i){return{browserEvent:i.browserEvent,elements:i.elements.map(e=>e.element)}}function nd(i){return{browserEvent:i.browserEvent,element:i.element&&i.element.element,target:i.target}}function OI(i){return{browserEvent:i.browserEvent,element:i.element&&i.element.element,anchor:i.anchor,isStickyScroll:i.isStickyScroll}}var Oh=class extends mi{constructor(t){super(t.elements.map(n=>n.element));this.data=t}set context(t){this.data.context=t}get context(){return this.data.context}};function Lh(i){return i instanceof mi?new Oh(i):i}var Rh=class{constructor(e){this.dnd=e}getDragURI(e){return this.dnd.getDragURI(e.element)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e.map(n=>n.element),t)}onDragStart(e,t){this.dnd.onDragStart?.(Lh(e),t)}onDragOver(e,t,n,o,r,s=!0){return this.dnd.onDragOver(Lh(e),t&&t.element,n,o,r)}drop(e,t,n,o,r){this.dnd.drop(Lh(e),t&&t.element,n,o,r)}onDragEnd(e){this.dnd.onDragEnd?.(e)}dispose(){this.dnd.dispose()}};function wg(i){return i&&{...i,collapseByDefault:!0,identityProvider:i.identityProvider&&{getId(e){return i.identityProvider.getId(e.element)}},dnd:i.dnd&&new Rh(i.dnd),multipleSelectionController:i.multipleSelectionController&&{isSelectionSingleChangeEvent(e){return i.multipleSelectionController.isSelectionSingleChangeEvent({...e,element:e.element})},isSelectionRangeChangeEvent(e){return i.multipleSelectionController.isSelectionRangeChangeEvent({...e,element:e.element})}},accessibilityProvider:i.accessibilityProvider&&{...i.accessibilityProvider,getPosInSet:void 0,getSetSize:void 0,getRole:i.accessibilityProvider.getRole?e=>i.accessibilityProvider.getRole(e.element):()=>"treeitem",isChecked:i.accessibilityProvider.isChecked?e=>!!i.accessibilityProvider?.isChecked(e.element):void 0,getAriaLabel(e){return i.accessibilityProvider.getAriaLabel(e.element)},getWidgetAriaLabel(){return i.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:i.accessibilityProvider.getWidgetRole?()=>i.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:i.accessibilityProvider.getAriaLevel&&(e=>i.accessibilityProvider.getAriaLevel(e.element)),getActiveDescendantId:i.accessibilityProvider.getActiveDescendantId&&(e=>i.accessibilityProvider.getActiveDescendantId(e.element))},filter:i.filter&&{filter(e,t){return i.filter.filter(e.element,t)}},keyboardNavigationLabelProvider:i.keyboardNavigationLabelProvider&&{...i.keyboardNavigationLabelProvider,getKeyboardNavigationLabel(e){return i.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(e.element)}},sorter:void 0,expandOnlyOnTwistieClick:typeof i.expandOnlyOnTwistieClick>"u"?void 0:typeof i.expandOnlyOnTwistieClick!="function"?i.expandOnlyOnTwistieClick:e=>i.expandOnlyOnTwistieClick(e.element),defaultFindVisibility:e=>e.hasChildren&&e.stale?1:typeof i.defaultFindVisibility=="number"?i.defaultFindVisibility:typeof i.defaultFindVisibility>"u"?2:i.defaultFindVisibility(e.element)}}function Fh(i,e){e(i),i.children.forEach(t=>Fh(t,e))}var Os=class{constructor(e,t,n,o,r,s={}){this.user=e;this.dataSource=r;this.identityProvider=s.identityProvider,this.autoExpandSingleChildren=typeof s.autoExpandSingleChildren>"u"?!1:s.autoExpandSingleChildren,this.sorter=s.sorter,this.getDefaultCollapseState=a=>s.collapseByDefault?s.collapseByDefault(a)?3:2:void 0,this.tree=this.createTree(e,t,n,o,s),this.onDidChangeFindMode=this.tree.onDidChangeFindMode,this.onDidChangeFindMatchType=this.tree.onDidChangeFindMatchType,this.root=Ch({element:void 0,parent:null,hasChildren:!0,defaultCollapseState:void 0}),this.identityProvider&&(this.root={...this.root,id:null}),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}tree;root;nodes=new Map;sorter;getDefaultCollapseState;subTreeRefreshPromises=new Map;refreshPromises=new Map;identityProvider;autoExpandSingleChildren;_onDidRender=new k;_onDidChangeNodeSlowState=new k;nodeMapper=new Do(e=>new Mh(e));disposables=new W;get onDidScroll(){return this.tree.onDidScroll}get onDidChangeFocus(){return _.map(this.tree.onDidChangeFocus,Sg)}get onDidChangeSelection(){return _.map(this.tree.onDidChangeSelection,Sg)}get onKeyDown(){return this.tree.onKeyDown}get onMouseClick(){return _.map(this.tree.onMouseClick,nd)}get onMouseDblClick(){return _.map(this.tree.onMouseDblClick,nd)}get onContextMenu(){return _.map(this.tree.onContextMenu,OI)}get onTap(){return _.map(this.tree.onTap,nd)}get onPointer(){return _.map(this.tree.onPointer,nd)}get onDidFocus(){return this.tree.onDidFocus}get onDidBlur(){return this.tree.onDidBlur}get onDidChangeModel(){return this.tree.onDidChangeModel}get onDidChangeCollapseState(){return this.tree.onDidChangeCollapseState}get onDidUpdateOptions(){return this.tree.onDidUpdateOptions}get onDidChangeFindOpenState(){return this.tree.onDidChangeFindOpenState}get onDidChangeStickyScrollFocused(){return this.tree.onDidChangeStickyScrollFocused}get findMode(){return this.tree.findMode}set findMode(e){this.tree.findMode=e}onDidChangeFindMode;get findMatchType(){return this.tree.findMatchType}set findMatchType(e){this.tree.findMatchType=e}onDidChangeFindMatchType;get expandOnlyOnTwistieClick(){if(typeof this.tree.expandOnlyOnTwistieClick=="boolean")return this.tree.expandOnlyOnTwistieClick;let e=this.tree.expandOnlyOnTwistieClick;return t=>e(this.nodes.get(t===this.root.element?null:t)||null)}get onDidDispose(){return this.tree.onDidDispose}createTree(e,t,n,o,r){let s=new Ir(n),a=o.map(d=>new Nh(d,this.nodeMapper,this._onDidChangeNodeSlowState.event)),l=wg(r)||{};return new _o(e,t,s,a,l)}updateOptions(e={}){this.tree.updateOptions(e)}get options(){return this.tree.options}getHTMLElement(){return this.tree.getHTMLElement()}get contentHeight(){return this.tree.contentHeight}get contentWidth(){return this.tree.contentWidth}get onDidChangeContentHeight(){return this.tree.onDidChangeContentHeight}get onDidChangeContentWidth(){return this.tree.onDidChangeContentWidth}get scrollTop(){return this.tree.scrollTop}set scrollTop(e){this.tree.scrollTop=e}get scrollLeft(){return this.tree.scrollLeft}set scrollLeft(e){this.tree.scrollLeft=e}get scrollHeight(){return this.tree.scrollHeight}get renderHeight(){return this.tree.renderHeight}get lastVisibleElement(){return this.tree.lastVisibleElement.element}get ariaLabel(){return this.tree.ariaLabel}set ariaLabel(e){this.tree.ariaLabel=e}domFocus(){this.tree.domFocus()}layout(e,t){this.tree.layout(e,t)}style(e){this.tree.style(e)}getInput(){return this.root.element}async setInput(e,t){this.refreshPromises.forEach(o=>o.cancel()),this.refreshPromises.clear(),this.root.element=e;let n=t&&{viewState:t,focus:[],selection:[]};await this._updateChildren(e,!0,!1,n),n&&(this.tree.setFocus(n.focus),this.tree.setSelection(n.selection)),t&&typeof t.scrollTop=="number"&&(this.scrollTop=t.scrollTop)}async updateChildren(e=this.root.element,t=!0,n=!1,o){await this._updateChildren(e,t,n,void 0,o)}async _updateChildren(e=this.root.element,t=!0,n=!1,o,r){if(typeof this.root.element>"u")throw new Pe(this.user,"Tree input not set");this.root.refreshPromise&&(await this.root.refreshPromise,await _.toPromise(this._onDidRender.event));let s=this.getDataNode(e);if(await this.refreshAndRenderNode(s,t,o,r),n)try{this.tree.rerender(s)}catch{}}resort(e=this.root.element,t=!0){this.tree.resort(this.getDataNode(e),t)}hasNode(e){return e===this.root.element||this.nodes.has(e)}rerender(e){if(e===void 0||e===this.root.element){this.tree.rerender();return}let t=this.getDataNode(e);this.tree.rerender(t)}updateElementHeight(e,t){let n=this.getDataNode(e);this.tree.updateElementHeight(n,t)}updateWidth(e){let t=this.getDataNode(e);this.tree.updateWidth(t)}getNode(e=this.root.element){let t=this.getDataNode(e),n=this.tree.getNode(t===this.root?null:t);return this.nodeMapper.map(n)}collapse(e,t=!1){let n=this.getDataNode(e);return this.tree.collapse(n===this.root?null:n,t)}async expand(e,t=!1){if(typeof this.root.element>"u")throw new Pe(this.user,"Tree input not set");this.root.refreshPromise&&(await this.root.refreshPromise,await _.toPromise(this._onDidRender.event));let n=this.getDataNode(e);if(this.tree.hasElement(n)&&!this.tree.isCollapsible(n)||(n.refreshPromise&&(await this.root.refreshPromise,await _.toPromise(this._onDidRender.event)),n!==this.root&&!n.refreshPromise&&!this.tree.isCollapsed(n)))return!1;let o=this.tree.expand(n===this.root?null:n,t);return n.refreshPromise&&(await this.root.refreshPromise,await _.toPromise(this._onDidRender.event)),o}toggleCollapsed(e,t=!1){return this.tree.toggleCollapsed(this.getDataNode(e),t)}expandAll(){this.tree.expandAll()}async expandTo(e){if(!this.dataSource.getParent)throw new Error("Can't expand to element without getParent method");let t=[];for(;!this.hasNode(e);)e=this.dataSource.getParent(e),e!==this.root.element&&t.push(e);for(let n of fe.reverse(t))await this.expand(n);this.tree.expandTo(this.getDataNode(e))}collapseAll(){this.tree.collapseAll()}isCollapsible(e){return this.tree.isCollapsible(this.getDataNode(e))}isCollapsed(e){return this.tree.isCollapsed(this.getDataNode(e))}triggerTypeNavigation(){this.tree.triggerTypeNavigation()}openFind(){this.tree.openFind()}closeFind(){this.tree.closeFind()}refilter(){this.tree.refilter()}setAnchor(e){this.tree.setAnchor(typeof e>"u"?void 0:this.getDataNode(e))}getAnchor(){return this.tree.getAnchor()?.element}setSelection(e,t){let n=e.map(o=>this.getDataNode(o));this.tree.setSelection(n,t)}getSelection(){return this.tree.getSelection().map(t=>t.element)}setFocus(e,t){let n=e.map(o=>this.getDataNode(o));this.tree.setFocus(n,t)}focusNext(e=1,t=!1,n){this.tree.focusNext(e,t,n)}focusPrevious(e=1,t=!1,n){this.tree.focusPrevious(e,t,n)}focusNextPage(e){return this.tree.focusNextPage(e)}focusPreviousPage(e){return this.tree.focusPreviousPage(e)}focusLast(e){this.tree.focusLast(e)}focusFirst(e){this.tree.focusFirst(e)}getFocus(){return this.tree.getFocus().map(t=>t.element)}getStickyScrollFocus(){return this.tree.getStickyScrollFocus().map(t=>t.element)}getFocusedPart(){return this.tree.getFocusedPart()}reveal(e,t){this.tree.reveal(this.getDataNode(e),t)}getRelativeTop(e){return this.tree.getRelativeTop(this.getDataNode(e))}getParentElement(e){let t=this.tree.getParentElement(this.getDataNode(e));return t&&t.element}getFirstElementChild(e=this.root.element){let t=this.getDataNode(e),n=this.tree.getFirstElementChild(t===this.root?null:t);return n&&n.element}getDataNode(e){let t=this.nodes.get(e===this.root.element?null:e);if(!t)throw new Pe(this.user,`Data tree node not found: ${e}`);return t}async refreshAndRenderNode(e,t,n,o){await this.refreshNode(e,t,n),!this.disposables.isDisposed&&this.render(e,n,o)}async refreshNode(e,t,n){let o;if(this.subTreeRefreshPromises.forEach((r,s)=>{!o&&NI(s,e)&&(o=r.then(()=>this.refreshNode(e,t,n)))}),o)return o;if(e!==this.root&&this.tree.getNode(e).collapsed){e.hasChildren=!!this.dataSource.hasChildren(e.element),e.stale=!0,this.setChildren(e,[],t,n);return}return this.doRefreshSubTree(e,t,n)}async doRefreshSubTree(e,t,n){let o;e.refreshPromise=new Promise(r=>o=r),this.subTreeRefreshPromises.set(e,e.refreshPromise),e.refreshPromise.finally(()=>{e.refreshPromise=void 0,this.subTreeRefreshPromises.delete(e)});try{let r=await this.doRefreshNode(e,t,n);e.stale=!1,await qc.settled(r.map(s=>this.doRefreshSubTree(s,t,n)))}finally{o()}}async doRefreshNode(e,t,n){e.hasChildren=!!this.dataSource.hasChildren(e.element);let o;if(!e.hasChildren)o=Promise.resolve(fe.empty());else{let r=this.doGetChildren(e);if(Pc(r))o=Promise.resolve(r);else{let s=Hi(800);s.then(()=>{e.slow=!0,this._onDidChangeNodeSlowState.fire(e)},a=>null),o=r.finally(()=>s.cancel())}}try{let r=await o;return this.setChildren(e,r,t,n)}catch(r){if(e!==this.root&&this.tree.hasElement(e)&&this.tree.collapse(e),Vr(r))return[];throw r}finally{e.slow&&(e.slow=!1,this._onDidChangeNodeSlowState.fire(e))}}doGetChildren(e){let t=this.refreshPromises.get(e);if(t)return t;let n=this.dataSource.getChildren(e.element);return Pc(n)?this.processChildren(n):(t=$c(async()=>this.processChildren(await n)),this.refreshPromises.set(e,t),t.finally(()=>{this.refreshPromises.delete(e)}))}_onDidChangeCollapseState({node:e,deep:t}){e.element!==null&&!e.collapsed&&e.element.stale&&(t?this.collapse(e.element.element):this.refreshAndRenderNode(e.element,!1).catch(Pt))}setChildren(e,t,n,o){let r=[...t];if(e.children.length===0&&r.length===0)return[];let s=new Map,a=new Map;for(let u of e.children)s.set(u.element,u),this.identityProvider&&a.set(u.id,{node:u,collapsed:this.tree.hasElement(u)&&this.tree.isCollapsed(u)});let l=[],d=r.map(u=>{let h=!!this.dataSource.hasChildren(u);if(!this.identityProvider){let v=Ch({element:u,parent:e,hasChildren:h,defaultCollapseState:this.getDefaultCollapseState(u)});return h&&v.defaultCollapseState===2&&l.push(v),v}let f=this.identityProvider.getId(u).toString(),T=a.get(f);if(T){let v=T.node;return s.delete(v.element),this.nodes.delete(v.element),this.nodes.set(u,v),v.element=u,v.hasChildren=h,n?T.collapsed?(v.children.forEach(E=>Fh(E,P=>this.nodes.delete(P.element))),v.children.splice(0,v.children.length),v.stale=!0):l.push(v):h&&!T.collapsed&&l.push(v),v}let w=Ch({element:u,parent:e,id:f,hasChildren:h,defaultCollapseState:this.getDefaultCollapseState(u)});return o&&o.viewState.focus&&o.viewState.focus.indexOf(f)>-1&&o.focus.push(w),o&&o.viewState.selection&&o.viewState.selection.indexOf(f)>-1&&o.selection.push(w),(o&&o.viewState.expanded&&o.viewState.expanded.indexOf(f)>-1||h&&w.defaultCollapseState===2)&&l.push(w),w});for(let u of s.values())Fh(u,h=>this.nodes.delete(h.element));for(let u of d)this.nodes.set(u.element,u);return e.children.splice(0,e.children.length,...d),e!==this.root&&this.autoExpandSingleChildren&&d.length===1&&l.length===0&&(d[0].forceExpanded=!0,l.push(d[0])),l}render(e,t,n){let o=e.children.map(s=>this.asTreeElement(s,t)),r=n&&{...n,diffIdentityProvider:n.diffIdentityProvider&&{getId(s){return n.diffIdentityProvider.getId(s.element)}}};this.tree.setChildren(e===this.root?null:e,o,r),e!==this.root&&this.tree.setCollapsible(e,e.hasChildren),this._onDidRender.fire()}asTreeElement(e,t){if(e.stale)return{element:e,collapsible:e.hasChildren,collapsed:!0};let n;return t&&t.viewState.expanded&&e.id&&t.viewState.expanded.indexOf(e.id)>-1?n=!1:e.forceExpanded?(n=!1,e.forceExpanded=!1):n=e.defaultCollapseState,{element:e,children:e.hasChildren?fe.map(e.children,o=>this.asTreeElement(o,t)):[],collapsible:e.hasChildren,collapsed:n}}processChildren(e){return this.sorter&&(e=[...e].sort(this.sorter.compare.bind(this.sorter))),e}getViewState(){if(!this.identityProvider)throw new Pe(this.user,"Can't get tree view state without an identity provider");let e=a=>this.identityProvider.getId(a).toString(),t=this.getFocus().map(e),n=this.getSelection().map(e),o=[],r=this.tree.getNode(),s=[r];for(;s.length>0;){let a=s.pop();a!==r&&a.collapsible&&!a.collapsed&&o.push(e(a.element.element)),s.push(...a.children)}return{focus:t,selection:n,expanded:o,scrollTop:this.scrollTop}}dispose(){this.disposables.dispose(),this.tree.dispose()}},Ph=class i{constructor(e){this.node=e}get element(){return{elements:this.node.element.elements.map(e=>e.element),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map(e=>new i(e))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}},Bh=class{constructor(e,t,n,o){this.renderer=e;this.nodeMapper=t;this.compressibleNodeMapperProvider=n;this.onDidChangeTwistieState=o;this.templateId=e.templateId}templateId;renderedNodes=new Map;disposables=[];renderTemplate(e){return{templateData:this.renderer.renderTemplate(e)}}renderElement(e,t,n,o){this.renderer.renderElement(this.nodeMapper.map(e),t,n.templateData,o)}renderCompressedElements(e,t,n,o){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(e),t,n.templateData,o)}renderTwistie(e,t){return e.slow?(t.classList.add(...Se.asClassNameArray(_e.treeItemLoading)),!0):(t.classList.remove(...Se.asClassNameArray(_e.treeItemLoading)),!1)}disposeElement(e,t,n,o){this.renderer.disposeElement?.(this.nodeMapper.map(e),t,n.templateData,o)}disposeCompressedElements(e,t,n,o){this.renderer.disposeCompressedElements?.(this.compressibleNodeMapperProvider().map(e),t,n.templateData,o)}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=je(this.disposables)}};function RI(i){let e=i&&wg(i);return e&&{...e,keyboardNavigationLabelProvider:e.keyboardNavigationLabelProvider&&{...e.keyboardNavigationLabelProvider,getCompressedNodeKeyboardNavigationLabel(t){return i.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(t.map(n=>n.element))}}}}var id=class extends Os{constructor(t,n,o,r,s,a,l={}){super(t,n,o,s,a,l);this.compressionDelegate=r;this.filter=l.filter}compressibleNodeMapper=new Do(t=>new Ph(t));filter;createTree(t,n,o,r,s){let a=new Ir(o),l=r.map(u=>new Bh(u,this.nodeMapper,()=>this.compressibleNodeMapper,this._onDidChangeNodeSlowState.event)),d=RI(s)||{};return new Sr(t,n,a,l,d)}asTreeElement(t,n){return{incompressible:this.compressionDelegate.isIncompressible(t.element),...super.asTreeElement(t,n)}}updateOptions(t={}){this.tree.updateOptions(t)}getViewState(){if(!this.identityProvider)throw new Pe(this.user,"Can't get tree view state without an identity provider");let t=l=>this.identityProvider.getId(l).toString(),n=this.getFocus().map(t),o=this.getSelection().map(t),r=[],s=this.tree.getCompressedTreeNode(),a=[s];for(;a.length>0;){let l=a.pop();if(l!==s&&l.collapsible&&!l.collapsed)for(let d of l.element.elements)r.push(t(d.element));a.push(...l.children)}return{focus:n,selection:o,expanded:r,scrollTop:this.scrollTop}}render(t,n,o){if(!this.identityProvider)return super.render(t,n);let r=w=>this.identityProvider.getId(w).toString(),s=w=>{let v=new Set;for(let E of w){let P=this.tree.getCompressedTreeNode(E===this.root?null:E);if(P.element)for(let O of P.element.elements)v.add(r(O.element))}return v},a=s(this.tree.getSelection()),l=s(this.tree.getFocus());super.render(t,n,o);let d=this.getSelection(),u=!1,h=this.getFocus(),f=!1,T=w=>{let v=w.element;if(v)for(let E=0;E<v.elements.length;E++){let P=r(v.elements[E].element),O=v.elements[v.elements.length-1].element;a.has(P)&&d.indexOf(O)===-1&&(d.push(O),u=!0),l.has(P)&&h.indexOf(O)===-1&&(h.push(O),f=!0)}w.children.forEach(T)};T(this.tree.getCompressedTreeNode(t===this.root?null:t)),u&&this.setSelection(d),f&&this.setFocus(h)}processChildren(t){return this.filter&&(t=fe.filter(t,n=>{let o=this.filter.filter(n,1),r=FI(o);if(r===2)throw new Error("Recursive tree visibility not supported in async data compressed trees");return r===1})),super.processChildren(t)}};function FI(i){return typeof i=="boolean"?i?1:0:Ms(i)?ko(i.visibility):ko(i)}var od=class extends xr{constructor(t,n,o,r,s,a={}){super(t,n,o,r,a);this.user=t;this.dataSource=s;this.identityProvider=a.identityProvider}input;identityProvider;nodesByIdentity=new Map;getInput(){return this.input}setInput(t,n){if(n&&!this.identityProvider)throw new Pe(this.user,"Can't restore tree view state without an identity provider");if(this.input=t,!t){this.nodesByIdentity.clear(),this.model.setChildren(null,fe.empty());return}if(!n){this._refresh(t);return}let o=[],r=[],s=l=>{let d=this.identityProvider.getId(l).toString();return!n.expanded[d]},a=l=>{let d=this.identityProvider.getId(l.element).toString();n.focus.has(d)&&o.push(l.element),n.selection.has(d)&&r.push(l.element)};this._refresh(t,s,a),this.setFocus(o),this.setSelection(r),n&&typeof n.scrollTop=="number"&&(this.scrollTop=n.scrollTop)}updateChildren(t=this.input){if(typeof this.input>"u")throw new Pe(this.user,"Tree input not set");let n;this.identityProvider&&(n=o=>{let r=this.identityProvider.getId(o).toString(),s=this.nodesByIdentity.get(r);if(s)return s.collapsed}),this._refresh(t,n)}resort(t=this.input,n=!0){this.model.resort(t===this.input?null:t,n)}refresh(t){if(t===void 0){this.view.rerender();return}this.model.rerender(t)}_refresh(t,n,o){let r;if(this.identityProvider){let s=new Set,a=o;o=l=>{let d=this.identityProvider.getId(l.element).toString();s.add(d),this.nodesByIdentity.set(d,l),a?.(l)},r=l=>{let d=this.identityProvider.getId(l.element).toString();s.has(d)||this.nodesByIdentity.delete(d)}}this.model.setChildren(t===this.input?null:t,this.iterate(t,n).elements,{onDidCreateNode:o,onDidDeleteNode:r})}iterate(t,n){let o=[...this.dataSource.getChildren(t)];return{elements:fe.map(o,s=>{let{elements:a,size:l}=this.iterate(s,n),d=this.dataSource.hasChildren?this.dataSource.hasChildren(s):void 0,u=l===0?void 0:n&&n(s);return{element:s,children:a,collapsible:d,collapsed:u}}),size:o.length}}createModel(t,n){return new Zi(t,n)}};function Eg(i){let e=!1,t=new Map,n=new Map;if(PI(i,u=>{if(i===u)return!0;let h=JSON.stringify(u);if(h.length<30)return!0;let f=t.get(h);if(!f){let T={schemas:[u]};return t.set(h,T),n.set(u,T),!0}return f.schemas.push(u),n.set(u,f),e=!0,!1}),t.clear(),!e)return JSON.stringify(i);let r="$defs";for(;i.hasOwnProperty(r);)r+="_";let s=[];function a(u){return JSON.stringify(u,(h,f)=>{if(f!==u){let T=n.get(f);if(T&&T.schemas.length>1)return T.id||(T.id=`_${s.length}`,s.push(T.schemas[0])),{$ref:`#/${r}/${T.id}`}}return f})}let l=a(i),d=[];for(let u=0;u<s.length;u++)d.push(`"_${u}":${a(s[u])}`);return d.length?`${l.substring(0,l.length-1)},"${r}":{${d.join(",")}}}`:l}function wr(i){return typeof i=="object"&&i!==null}function PI(i,e){if(!i||typeof i!="object")return;let t=(...l)=>{for(let d of l)wr(d)&&s.push(d)},n=(...l)=>{for(let d of l)if(wr(d))for(let u in d){let h=d[u];wr(h)&&s.push(h)}},o=(...l)=>{for(let d of l)if(Array.isArray(d))for(let u of d)wr(u)&&s.push(u)},r=l=>{if(Array.isArray(l))for(let d of l)wr(d)&&s.push(d);else wr(l)&&s.push(l)},s=[i],a=s.pop();for(;a;)e(a)&&(t(a.additionalItems,a.additionalProperties,a.not,a.contains,a.propertyNames,a.if,a.then,a.else,a.unevaluatedItems,a.unevaluatedProperties),n(a.definitions,a.$defs,a.properties,a.patternProperties,a.dependencies,a.dependentSchemas),o(a.anyOf,a.allOf,a.oneOf,a.prefixItems),r(a.items)),a=s.pop()}var Co={JSONContribution:"base.contributions.json"};function BI(i){return i.length>0&&i.charAt(i.length-1)==="#"?i.substring(0,i.length-1):i}var Hh=class{schemasById;_onDidChangeSchema=new k;onDidChangeSchema=this._onDidChangeSchema.event;constructor(){this.schemasById={}}registerSchema(e,t){this.schemasById[BI(e)]=t,this._onDidChangeSchema.fire(e)}notifySchemaChanged(e){this._onDidChangeSchema.fire(e)}getSchemaContributions(){return{schemas:this.schemasById}}getSchemaContent(e){let t=this.schemasById[e];return t?Eg(t):void 0}hasSchemaContent(e){return!!this.schemasById[e]}},HI=new Hh;gt.add(Co.JSONContribution,HI);var lV=Re("policy");var zh={Configuration:"base.contributions.configuration"};var rd={properties:{},patternProperties:{}},sd={properties:{},patternProperties:{}},ad={properties:{},patternProperties:{}},ld={properties:{},patternProperties:{}},dd={properties:{},patternProperties:{}},Rs={properties:{},patternProperties:{}},Lo="vscode://schemas/settings/resourceLanguage";var cd=gt.as(Co.JSONContribution),Kh=class{registeredConfigurationDefaults=[];configurationDefaultsOverrides;defaultLanguageConfigurationOverridesNode;configurationContributors;configurationProperties;policyConfigurations;excludedConfigurationProperties;resourceLanguageSettingsSchema;overrideIdentifiers=new Set;_onDidSchemaChange=new k;onDidSchemaChange=this._onDidSchemaChange.event;_onDidUpdateConfiguration=new k;onDidUpdateConfiguration=this._onDidUpdateConfiguration.event;constructor(){this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:p("defaultLanguageConfigurationOverrides.title","Default Language Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!0,allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.policyConfigurations=new Map,this.excludedConfigurationProperties={},cd.registerSchema(Lo,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}registerConfiguration(e,t=!0){this.registerConfigurations([e],t)}registerConfigurations(e,t=!0){let n=new Set;this.doRegisterConfigurations(e,t,n),cd.registerSchema(Lo,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:n})}deregisterConfigurations(e){let t=new Set;this.doDeregisterConfigurations(e,t),cd.registerSchema(Lo,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:t})}updateConfigurations({add:e,remove:t}){let n=new Set;this.doDeregisterConfigurations(t,n),this.doRegisterConfigurations(e,!1,n),cd.registerSchema(Lo,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:n})}registerDefaultConfigurations(e){let t=new Set;this.doRegisterDefaultConfigurations(e,t),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:t,defaultsOverrides:!0})}doRegisterDefaultConfigurations(e,t){this.registeredConfigurationDefaults.push(...e);let n=[];for(let{overrides:o,source:r}of e)for(let s in o){t.add(s);let a=this.configurationDefaultsOverrides.get(s)??this.configurationDefaultsOverrides.set(s,{configurationDefaultOverrides:[]}).get(s),l=o[s];if(a.configurationDefaultOverrides.push({value:l,source:r}),Fs.test(s)){let d=this.mergeDefaultConfigurationsForOverrideIdentifier(s,l,r,a.configurationDefaultOverrideValue);if(!d)continue;a.configurationDefaultOverrideValue=d,this.updateDefaultOverrideProperty(s,d,r),n.push(...KI(s))}else{let d=this.mergeDefaultConfigurationsForConfigurationProperty(s,l,r,a.configurationDefaultOverrideValue);if(!d)continue;a.configurationDefaultOverrideValue=d;let u=this.configurationProperties[s];u&&(this.updatePropertyDefaultValue(s,u),this.updateSchema(s,u))}}this.doRegisterOverrideIdentifiers(n)}deregisterDefaultConfigurations(e){let t=new Set;this.doDeregisterDefaultConfigurations(e,t),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:t,defaultsOverrides:!0})}doDeregisterDefaultConfigurations(e,t){for(let n of e){let o=this.registeredConfigurationDefaults.indexOf(n);o!==-1&&this.registeredConfigurationDefaults.splice(o,1)}for(let{overrides:n,source:o}of e)for(let r in n){let s=this.configurationDefaultsOverrides.get(r);if(!s)continue;let a=s.configurationDefaultOverrides.findIndex(l=>o?l.source?.id===o.id:l.value===n[r]);if(a!==-1){if(s.configurationDefaultOverrides.splice(a,1),s.configurationDefaultOverrides.length===0&&this.configurationDefaultsOverrides.delete(r),Fs.test(r)){let l;for(let d of s.configurationDefaultOverrides)l=this.mergeDefaultConfigurationsForOverrideIdentifier(r,d.value,d.source,l);l&&!Um(l.value)?(s.configurationDefaultOverrideValue=l,this.updateDefaultOverrideProperty(r,l,o)):(this.configurationDefaultsOverrides.delete(r),delete this.configurationProperties[r],delete this.defaultLanguageConfigurationOverridesNode.properties[r])}else{let l;for(let u of s.configurationDefaultOverrides)l=this.mergeDefaultConfigurationsForConfigurationProperty(r,u.value,u.source,l);s.configurationDefaultOverrideValue=l;let d=this.configurationProperties[r];d&&(this.updatePropertyDefaultValue(r,d),this.updateSchema(r,d))}t.add(r)}}this.updateOverridePropertyPatternKey()}updateDefaultOverrideProperty(e,t,n){let o={type:"object",default:t.value,description:p("defaultLanguageConfiguration.description","Configure settings to be overridden for the {0} language.",gg(e)),$ref:Lo,defaultDefaultValue:t.value,source:n,defaultValueSource:n};this.configurationProperties[e]=o,this.defaultLanguageConfigurationOverridesNode.properties[e]=o}mergeDefaultConfigurationsForOverrideIdentifier(e,t,n,o){let r=o?.value||{},s=o?.source??new Map;if(!(s instanceof Map)){console.error("objectConfigurationSources is not a Map");return}for(let a of Object.keys(t)){let l=t[a];if(vn(l)&&(Ri(r[a])||vn(r[a]))){if(r[a]={...r[a]??{},...l},n)for(let u in l)s.set(`${a}.${u}`,n)}else r[a]=l,n?s.set(a,n):s.delete(a)}return{value:r,source:s}}mergeDefaultConfigurationsForConfigurationProperty(e,t,n,o){let r=this.configurationProperties[e],s=o?.value??r?.defaultDefaultValue,a=n;if(vn(t)&&(r!==void 0&&r.type==="object"||r===void 0&&(Ri(s)||vn(s)))){if(a=o?.source??new Map,!(a instanceof Map)){console.error("defaultValueSource is not a Map");return}for(let d in t)n&&a.set(`${e}.${d}`,n);t={...vn(s)?s:{},...t}}return{value:t,source:a}}deltaConfiguration(e){let t=!1,n=new Set;e.removedDefaults&&(this.doDeregisterDefaultConfigurations(e.removedDefaults,n),t=!0),e.addedDefaults&&(this.doRegisterDefaultConfigurations(e.addedDefaults,n),t=!0),e.removedConfigurations&&this.doDeregisterConfigurations(e.removedConfigurations,n),e.addedConfigurations&&this.doRegisterConfigurations(e.addedConfigurations,!1,n),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:n,defaultsOverrides:t})}notifyConfigurationSchemaUpdated(...e){this._onDidSchemaChange.fire()}registerOverrideIdentifiers(e){this.doRegisterOverrideIdentifiers(e),this._onDidSchemaChange.fire()}doRegisterOverrideIdentifiers(e){for(let t of e)this.overrideIdentifiers.add(t);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(e,t,n){e.forEach(o=>{this.validateAndRegisterProperties(o,t,o.extensionInfo,o.restrictedProperties,void 0,n),this.configurationContributors.push(o),this.registerJSONConfiguration(o)})}doDeregisterConfigurations(e,t){let n=o=>{if(o.properties)for(let r in o.properties){t.add(r);let s=this.configurationProperties[r];s?.policy?.name&&this.policyConfigurations.delete(s.policy.name),delete this.configurationProperties[r],this.removeFromSchema(r,o.properties[r])}o.allOf?.forEach(r=>n(r))};for(let o of e){n(o);let r=this.configurationContributors.indexOf(o);r!==-1&&this.configurationContributors.splice(r,1)}}validateAndRegisterProperties(e,t=!0,n,o,r=3,s){r=Fi(e.scope)?r:e.scope;let a=e.properties;if(a)for(let d in a){let u=a[d];if(t&&UI(d,u)){delete a[d];continue}if(u.source=n,u.defaultDefaultValue=a[d].default,this.updatePropertyDefaultValue(d,u),Fs.test(d)?u.scope=void 0:(u.scope=Fi(u.scope)?r:u.scope,u.restricted=Fi(u.restricted)?!!o?.includes(d):u.restricted),a[d].hasOwnProperty("included")&&!a[d].included){this.excludedConfigurationProperties[d]=a[d],delete a[d];continue}else this.configurationProperties[d]=a[d],a[d].policy?.name&&this.policyConfigurations.set(a[d].policy.name,d);!a[d].deprecationMessage&&a[d].markdownDeprecationMessage&&(a[d].deprecationMessage=a[d].markdownDeprecationMessage),s.add(d)}let l=e.allOf;if(l)for(let d of l)this.validateAndRegisterProperties(d,t,n,o,r,s)}getConfigurations(){return this.configurationContributors}getConfigurationProperties(){return this.configurationProperties}getPolicyConfigurations(){return this.policyConfigurations}getExcludedConfigurationProperties(){return this.excludedConfigurationProperties}getRegisteredDefaultConfigurations(){return[...this.registeredConfigurationDefaults]}getConfigurationDefaultsOverrides(){let e=new Map;for(let[t,n]of this.configurationDefaultsOverrides)n.configurationDefaultOverrideValue&&e.set(t,n.configurationDefaultOverrideValue);return e}registerJSONConfiguration(e){let t=n=>{let o=n.properties;if(o)for(let s in o)this.updateSchema(s,o[s]);n.allOf?.forEach(t)};t(e)}updateSchema(e,t){switch(rd.properties[e]=t,t.scope){case 1:sd.properties[e]=t;break;case 2:ad.properties[e]=t;break;case 6:ld.properties[e]=t;break;case 3:dd.properties[e]=t;break;case 4:Rs.properties[e]=t;break;case 5:Rs.properties[e]=t,this.resourceLanguageSettingsSchema.properties[e]=t;break}}removeFromSchema(e,t){switch(delete rd.properties[e],t.scope){case 1:delete sd.properties[e];break;case 2:delete ad.properties[e];break;case 6:delete ld.properties[e];break;case 3:delete dd.properties[e];break;case 4:case 5:delete Rs.properties[e],delete this.resourceLanguageSettingsSchema.properties[e];break}}updateOverridePropertyPatternKey(){for(let e of this.overrideIdentifiers.values()){let t=`[${e}]`,n={type:"object",description:p("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:p("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:Lo};this.updatePropertyDefaultValue(t,n),rd.properties[t]=n,sd.properties[t]=n,ad.properties[t]=n,ld.properties[t]=n,dd.properties[t]=n,Rs.properties[t]=n}}registerOverridePropertyPatternKey(){let e={type:"object",description:p("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:p("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:Lo};rd.patternProperties[Ao]=e,sd.patternProperties[Ao]=e,ad.patternProperties[Ao]=e,ld.patternProperties[Ao]=e,dd.patternProperties[Ao]=e,Rs.patternProperties[Ao]=e,this._onDidSchemaChange.fire()}updatePropertyDefaultValue(e,t){let n=this.configurationDefaultsOverrides.get(e)?.configurationDefaultOverrideValue,o,r;n&&(!t.disallowConfigurationDefault||!n.source)&&(o=n.value,r=n.source),Ri(o)&&(o=t.defaultDefaultValue,r=void 0),Ri(o)&&(o=zI(t.type)),t.default=o,t.defaultValueSource=r}},kg="\\[([^\\]]+)\\]",Dg=new RegExp(kg,"g"),Ao=`^(${kg})+$`,Fs=new RegExp(Ao);function KI(i){let e=[];if(Fs.test(i)){let t=Dg.exec(i);for(;t?.length;){let n=t[1].trim();n&&e.push(n),t=Dg.exec(i)}}return co(e)}function zI(i){switch(Array.isArray(i)?i[0]:i){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}var ud=new Kh;gt.add(zh.Configuration,ud);function UI(i,e){return i.trim()?Fs.test(i)?p("config.property.languageDefault","Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",i):ud.getConfigurationProperties()[i]!==void 0?p("config.property.duplicate","Cannot register '{0}'. This property is already registered.",i):e.policy?.name&&ud.getPolicyConfigurations().get(e.policy?.name)!==void 0?p("config.policy.duplicate","Cannot register '{0}'. The associated policy {1} is already registered with {2}.",i,e.policy?.name,ud.getPolicyConfigurations().get(e.policy?.name)):null:p("config.property.empty","Cannot register an empty property")}function Uh(...i){switch(i.length){case 1:return p("contextkey.scanner.hint.didYouMean1","Did you mean {0}?",i[0]);case 2:return p("contextkey.scanner.hint.didYouMean2","Did you mean {0} or {1}?",i[0],i[1]);case 3:return p("contextkey.scanner.hint.didYouMean3","Did you mean {0}, {1} or {2}?",i[0],i[1],i[2]);default:return}}var VI=p("contextkey.scanner.hint.didYouForgetToOpenOrCloseQuote","Did you forget to open or close the quote?"),WI=p("contextkey.scanner.hint.didYouForgetToEscapeSlash","Did you forget to escape the '/' (slash) character? Put two backslashes before it to escape, e.g., '\\\\/'."),eo=class i{static getLexeme(e){switch(e.type){case 0:return"(";case 1:return")";case 2:return"!";case 3:return e.isTripleEq?"===":"==";case 4:return e.isTripleEq?"!==":"!=";case 5:return"<";case 6:return"<=";case 7:return">=";case 8:return">=";case 9:return"=~";case 10:return e.lexeme;case 11:return"true";case 12:return"false";case 13:return"in";case 14:return"not";case 15:return"&&";case 16:return"||";case 17:return e.lexeme;case 18:return e.lexeme;case 19:return e.lexeme;case 20:return"EOF";default:throw Np(`unhandled token type: ${JSON.stringify(e)}; have you forgotten to add a case?`)}}static _regexFlags=new Set(["i","g","s","m","y","u"].map(e=>e.charCodeAt(0)));static _keywords=new Map([["not",14],["in",13],["false",12],["true",11]]);_input="";_start=0;_current=0;_tokens=[];_errors=[];get errors(){return this._errors}reset(e){return this._input=e,this._start=0,this._current=0,this._tokens=[],this._errors=[],this}scan(){for(;!this._isAtEnd();)switch(this._start=this._current,this._advance()){case 40:this._addToken(0);break;case 41:this._addToken(1);break;case 33:if(this._match(61)){let t=this._match(61);this._tokens.push({type:4,offset:this._start,isTripleEq:t})}else this._addToken(2);break;case 39:this._quotedString();break;case 47:this._regex();break;case 61:if(this._match(61)){let t=this._match(61);this._tokens.push({type:3,offset:this._start,isTripleEq:t})}else this._match(126)?this._addToken(9):this._error(Uh("==","=~"));break;case 60:this._addToken(this._match(61)?6:5);break;case 62:this._addToken(this._match(61)?8:7);break;case 38:this._match(38)?this._addToken(15):this._error(Uh("&&"));break;case 124:this._match(124)?this._addToken(16):this._error(Uh("||"));break;case 32:case 13:case 9:case 10:case 160:break;default:this._string()}return this._start=this._current,this._addToken(20),Array.from(this._tokens)}_match(e){return this._isAtEnd()||this._input.charCodeAt(this._current)!==e?!1:(this._current++,!0)}_advance(){return this._input.charCodeAt(this._current++)}_peek(){return this._isAtEnd()?0:this._input.charCodeAt(this._current)}_addToken(e){this._tokens.push({type:e,offset:this._start})}_error(e){let t=this._start,n=this._input.substring(this._start,this._current),o={type:19,offset:this._start,lexeme:n};this._errors.push({offset:t,lexeme:n,additionalInfo:e}),this._tokens.push(o)}stringRe=/[a-zA-Z0-9_<>\-\./\\:\*\?\+\[\]\^,#@;"%\$\p{L}-]+/uy;_string(){this.stringRe.lastIndex=this._start;let e=this.stringRe.exec(this._input);if(e){this._current=this._start+e[0].length;let t=this._input.substring(this._start,this._current),n=i._keywords.get(t);n?this._addToken(n):this._tokens.push({type:17,lexeme:t,offset:this._start})}}_quotedString(){for(;this._peek()!==39&&!this._isAtEnd();)this._advance();if(this._isAtEnd()){this._error(VI);return}this._advance(),this._tokens.push({type:18,lexeme:this._input.substring(this._start+1,this._current-1),offset:this._start+1})}_regex(){let e=this._current,t=!1,n=!1;for(;;){if(e>=this._input.length){this._current=e,this._error(WI);return}let r=this._input.charCodeAt(e);if(t)t=!1;else if(r===47&&!n){e++;break}else r===91?n=!0:r===92?t=!0:r===93&&(n=!1);e++}for(;e<this._input.length&&i._regexFlags.has(this._input.charCodeAt(e));)e++;this._current=e;let o=this._input.substring(this._start,this._current);this._tokens.push({type:10,lexeme:o,offset:this._start})}_isAtEnd(){return this._current>=this._input.length}};var bt=new Map;bt.set("false",!1);bt.set("true",!0);bt.set("isMac",ke);bt.set("isLinux",rn);bt.set("isWindows",at);bt.set("isWeb",Ei);bt.set("isMacNative",ke&&!Ei);bt.set("isEdge",Yp);bt.set("isFirefox",jp);bt.set("isChrome",oc);bt.set("isSafari",Qp);var $I=Object.prototype.hasOwnProperty;var qI={regexParsingWithErrorRecovery:!0},GI=p("contextkey.parser.error.emptyString","Empty context key expression"),jI=p("contextkey.parser.error.emptyString.hint","Did you forget to write an expression? You can also put 'false' or 'true' to always evaluate to false or true, respectively."),QI=p("contextkey.parser.error.noInAfterNot","'in' after 'not'."),_g=p("contextkey.parser.error.closingParenthesis","closing parenthesis ')'"),YI=p("contextkey.parser.error.unexpectedToken","Unexpected token"),XI=p("contextkey.parser.error.unexpectedToken.hint","Did you forget to put && or || before the token?"),JI=p("contextkey.parser.error.unexpectedEOF","Unexpected end of expression"),ZI=p("contextkey.parser.error.unexpectedEOF.hint","Did you forget to put a context key?"),Vh=class i{constructor(e=qI){this._config=e}static _parseError=new Error;_scanner=new eo;_tokens=[];_current=0;_parsingErrors=[];get lexingErrors(){return this._scanner.errors}get parsingErrors(){return this._parsingErrors}parse(e){if(e===""){this._parsingErrors.push({message:GI,offset:0,lexeme:"",additionalInfo:jI});return}this._tokens=this._scanner.reset(e).scan(),this._current=0,this._parsingErrors=[];try{let t=this._expr();if(!this._isAtEnd()){let n=this._peek(),o=n.type===17?XI:void 0;throw this._parsingErrors.push({message:YI,offset:n.offset,lexeme:eo.getLexeme(n),additionalInfo:o}),i._parseError}return t}catch(t){if(t!==i._parseError)throw t;return}}_expr(){return this._or()}_or(){let e=[this._and()];for(;this._matchOne(16);){let t=this._and();e.push(t)}return e.length===1?e[0]:ze.or(...e)}_and(){let e=[this._term()];for(;this._matchOne(15);){let t=this._term();e.push(t)}return e.length===1?e[0]:ze.and(...e)}_term(){if(this._matchOne(2)){let e=this._peek();switch(e.type){case 11:return this._advance(),wt.INSTANCE;case 12:return this._advance(),Lt.INSTANCE;case 0:{this._advance();let t=this._expr();return this._consume(1,_g),t?.negate()}case 17:return this._advance(),No.create(e.lexeme);default:throw this._errExpectedButGot("KEY | true | false | '(' expression ')'",e)}}return this._primary()}_primary(){let e=this._peek();switch(e.type){case 11:return this._advance(),ze.true();case 12:return this._advance(),ze.false();case 0:{this._advance();let t=this._expr();return this._consume(1,_g),t}case 17:{let t=e.lexeme;if(this._advance(),this._matchOne(9)){let o=this._peek();if(!this._config.regexParsingWithErrorRecovery){if(this._advance(),o.type!==10)throw this._errExpectedButGot("REGEX",o);let r=o.lexeme,s=r.lastIndexOf("/"),a=s===r.length-1?void 0:this._removeFlagsGY(r.substring(s+1)),l;try{l=new RegExp(r.substring(1,s),a)}catch{throw this._errExpectedButGot("REGEX",o)}return Ws.create(t,l)}switch(o.type){case 10:case 19:{let r=[o.lexeme];this._advance();let s=this._peek(),a=0;for(let f=0;f<o.lexeme.length;f++)o.lexeme.charCodeAt(f)===40?a++:o.lexeme.charCodeAt(f)===41&&a--;for(;!this._isAtEnd()&&s.type!==15&&s.type!==16;){switch(s.type){case 0:a++;break;case 1:a--;break;case 10:case 18:for(let f=0;f<s.lexeme.length;f++)s.lexeme.charCodeAt(f)===40?a++:o.lexeme.charCodeAt(f)===41&&a--}if(a<0)break;r.push(eo.getLexeme(s)),this._advance(),s=this._peek()}let l=r.join(""),d=l.lastIndexOf("/"),u=d===l.length-1?void 0:this._removeFlagsGY(l.substring(d+1)),h;try{h=new RegExp(l.substring(1,d),u)}catch{throw this._errExpectedButGot("REGEX",o)}return ze.regex(t,h)}case 18:{let r=o.lexeme;this._advance();let s=null;if(!Rm(r)){let a=r.indexOf("/"),l=r.lastIndexOf("/");if(a!==l&&a>=0){let d=r.slice(a+1,l),u=r[l+1]==="i"?"i":"";try{s=new RegExp(d,u)}catch{throw this._errExpectedButGot("REGEX",o)}}}if(s===null)throw this._errExpectedButGot("REGEX",o);return Ws.create(t,s)}default:throw this._errExpectedButGot("REGEX",this._peek())}}if(this._matchOne(14)){this._consume(13,QI);let o=this._value();return ze.notIn(t,o)}switch(this._peek().type){case 3:{this._advance();let o=this._value();if(this._previous().type===18)return ze.equals(t,o);switch(o){case"true":return ze.has(t);case"false":return ze.not(t);default:return ze.equals(t,o)}}case 4:{this._advance();let o=this._value();if(this._previous().type===18)return ze.notEquals(t,o);switch(o){case"true":return ze.not(t);case"false":return ze.has(t);default:return ze.notEquals(t,o)}}case 5:return this._advance(),Us.create(t,this._value());case 6:return this._advance(),Vs.create(t,this._value());case 7:return this._advance(),Ks.create(t,this._value());case 8:return this._advance(),zs.create(t,this._value());case 13:return this._advance(),ze.in(t,this._value());default:return ze.has(t)}}case 20:throw this._parsingErrors.push({message:JI,offset:e.offset,lexeme:"",additionalInfo:ZI}),i._parseError;default:throw this._errExpectedButGot(`true | false | KEY 
	| KEY '=~' REGEX 
	| KEY ('==' | '!=' | '<' | '<=' | '>' | '>=' | 'in' | 'not' 'in') value`,this._peek())}}_value(){let e=this._peek();switch(e.type){case 17:case 18:return this._advance(),e.lexeme;case 11:return this._advance(),"true";case 12:return this._advance(),"false";case 13:return this._advance(),"in";default:return""}}_flagsGYRe=/g|y/g;_removeFlagsGY(e){return e.replaceAll(this._flagsGYRe,"")}_previous(){return this._tokens[this._current-1]}_matchOne(e){return this._check(e)?(this._advance(),!0):!1}_advance(){return this._isAtEnd()||this._current++,this._previous()}_consume(e,t){if(this._check(e))return this._advance();throw this._errExpectedButGot(t,this._peek())}_errExpectedButGot(e,t,n){let o=p("contextkey.parser.error.expectedButGot",`Expected: {0}
Received: '{1}'.`,e,eo.getLexeme(t)),r=t.offset,s=eo.getLexeme(t);return this._parsingErrors.push({message:o,offset:r,lexeme:s,additionalInfo:n}),i._parseError}_check(e){return this._peek().type===e}_peek(){return this._tokens[this._current]}_isAtEnd(){return this._peek().type===20}},ze=class{static false(){return wt.INSTANCE}static true(){return Lt.INSTANCE}static has(e){return Mo.create(e)}static equals(e,t){return Bs.create(e,t)}static notEquals(e,t){return Hs.create(e,t)}static regex(e,t){return Ws.create(e,t)}static in(e,t){return hd.create(e,t)}static notIn(e,t){return pd.create(e,t)}static not(e){return No.create(e)}static and(...e){return md.create(e,null,!0)}static or(...e){return $s.create(e,null,!0)}static greater(e,t){return Ks.create(e,t)}static greaterEquals(e,t){return zs.create(e,t)}static smaller(e,t){return Us.create(e,t)}static smallerEquals(e,t){return Vs.create(e,t)}static _parser=new Vh({regexParsingWithErrorRecovery:!1});static deserialize(e){return e==null?void 0:this._parser.parse(e)}};function Ps(i,e){return i.cmp(e)}var wt=class i{static INSTANCE=new i;type=0;constructor(){}cmp(e){return this.type-e.type}equals(e){return e.type===this.type}substituteConstants(){return this}evaluate(e){return!1}serialize(){return"false"}keys(){return[]}map(e){return this}negate(){return Lt.INSTANCE}},Lt=class i{static INSTANCE=new i;type=1;constructor(){}cmp(e){return this.type-e.type}equals(e){return e.type===this.type}substituteConstants(){return this}evaluate(e){return!0}serialize(){return"true"}keys(){return[]}map(e){return this}negate(){return wt.INSTANCE}},Mo=class i{constructor(e,t){this.key=e;this.negated=t}static create(e,t=null){let n=bt.get(e);return typeof n=="boolean"?n?Lt.INSTANCE:wt.INSTANCE:new i(e,t)}type=2;cmp(e){return e.type!==this.type?this.type-e.type:Ag(this.key,e.key)}equals(e){return e.type===this.type?this.key===e.key:!1}substituteConstants(){let e=bt.get(this.key);return typeof e=="boolean"?e?Lt.INSTANCE:wt.INSTANCE:this}evaluate(e){return!!e.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}map(e){return e.mapDefined(this.key)}negate(){return this.negated||(this.negated=No.create(this.key,this)),this.negated}},Bs=class i{constructor(e,t,n){this.key=e;this.value=t;this.negated=n}static create(e,t,n=null){if(typeof t=="boolean")return t?Mo.create(e,n):No.create(e,n);let o=bt.get(e);return typeof o=="boolean"?t===(o?"true":"false")?Lt.INSTANCE:wt.INSTANCE:new i(e,t,n)}type=4;cmp(e){return e.type!==this.type?this.type-e.type:Oo(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){let e=bt.get(this.key);if(typeof e=="boolean"){let t=e?"true":"false";return this.value===t?Lt.INSTANCE:wt.INSTANCE}return this}evaluate(e){return e.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}map(e){return e.mapEquals(this.key,this.value)}negate(){return this.negated||(this.negated=Hs.create(this.key,this.value,this)),this.negated}},hd=class i{constructor(e,t){this.key=e;this.valueKey=t}static create(e,t){return new i(e,t)}type=10;negated=null;cmp(e){return e.type!==this.type?this.type-e.type:Oo(this.key,this.valueKey,e.key,e.valueKey)}equals(e){return e.type===this.type?this.key===e.key&&this.valueKey===e.valueKey:!1}substituteConstants(){return this}evaluate(e){let t=e.getValue(this.valueKey),n=e.getValue(this.key);return Array.isArray(t)?t.includes(n):typeof n=="string"&&typeof t=="object"&&t!==null?$I.call(t,n):!1}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}map(e){return e.mapIn(this.key,this.valueKey)}negate(){return this.negated||(this.negated=pd.create(this.key,this.valueKey)),this.negated}},pd=class i{constructor(e,t){this.key=e;this.valueKey=t;this._negated=hd.create(e,t)}static create(e,t){return new i(e,t)}type=11;_negated;cmp(e){return e.type!==this.type?this.type-e.type:this._negated.cmp(e._negated)}equals(e){return e.type===this.type?this._negated.equals(e._negated):!1}substituteConstants(){return this}evaluate(e){return!this._negated.evaluate(e)}serialize(){return`${this.key} not in '${this.valueKey}'`}keys(){return this._negated.keys()}map(e){return e.mapNotIn(this.key,this.valueKey)}negate(){return this._negated}},Hs=class i{constructor(e,t,n){this.key=e;this.value=t;this.negated=n}static create(e,t,n=null){if(typeof t=="boolean")return t?No.create(e,n):Mo.create(e,n);let o=bt.get(e);return typeof o=="boolean"?t===(o?"true":"false")?wt.INSTANCE:Lt.INSTANCE:new i(e,t,n)}type=5;cmp(e){return e.type!==this.type?this.type-e.type:Oo(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){let e=bt.get(this.key);if(typeof e=="boolean"){let t=e?"true":"false";return this.value===t?wt.INSTANCE:Lt.INSTANCE}return this}evaluate(e){return e.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}map(e){return e.mapNotEquals(this.key,this.value)}negate(){return this.negated||(this.negated=Bs.create(this.key,this.value,this)),this.negated}},No=class i{constructor(e,t){this.key=e;this.negated=t}static create(e,t=null){let n=bt.get(e);return typeof n=="boolean"?n?wt.INSTANCE:Lt.INSTANCE:new i(e,t)}type=3;cmp(e){return e.type!==this.type?this.type-e.type:Ag(this.key,e.key)}equals(e){return e.type===this.type?this.key===e.key:!1}substituteConstants(){let e=bt.get(this.key);return typeof e=="boolean"?e?wt.INSTANCE:Lt.INSTANCE:this}evaluate(e){return!e.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}map(e){return e.mapNot(this.key)}negate(){return this.negated||(this.negated=Mo.create(this.key,this)),this.negated}};function fd(i,e){if(typeof i=="string"){let t=parseFloat(i);isNaN(t)||(i=t)}return typeof i=="string"||typeof i=="number"?e(i):wt.INSTANCE}var Ks=class i{constructor(e,t,n){this.key=e;this.value=t;this.negated=n}static create(e,t,n=null){return fd(t,o=>new i(e,o,n))}type=12;cmp(e){return e.type!==this.type?this.type-e.type:Oo(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}map(e){return e.mapGreater(this.key,this.value)}negate(){return this.negated||(this.negated=Vs.create(this.key,this.value,this)),this.negated}},zs=class i{constructor(e,t,n){this.key=e;this.value=t;this.negated=n}static create(e,t,n=null){return fd(t,o=>new i(e,o,n))}type=13;cmp(e){return e.type!==this.type?this.type-e.type:Oo(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}map(e){return e.mapGreaterEquals(this.key,this.value)}negate(){return this.negated||(this.negated=Us.create(this.key,this.value,this)),this.negated}},Us=class i{constructor(e,t,n){this.key=e;this.value=t;this.negated=n}static create(e,t,n=null){return fd(t,o=>new i(e,o,n))}type=14;cmp(e){return e.type!==this.type?this.type-e.type:Oo(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}map(e){return e.mapSmaller(this.key,this.value)}negate(){return this.negated||(this.negated=zs.create(this.key,this.value,this)),this.negated}},Vs=class i{constructor(e,t,n){this.key=e;this.value=t;this.negated=n}static create(e,t,n=null){return fd(t,o=>new i(e,o,n))}type=15;cmp(e){return e.type!==this.type?this.type-e.type:Oo(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}map(e){return e.mapSmallerEquals(this.key,this.value)}negate(){return this.negated||(this.negated=Ks.create(this.key,this.value,this)),this.negated}},Ws=class i{constructor(e,t){this.key=e;this.regexp=t}static create(e,t){return new i(e,t)}type=7;negated=null;cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.key<e.key)return-1;if(this.key>e.key)return 1;let t=this.regexp?this.regexp.source:"",n=e.regexp?e.regexp.source:"";return t<n?-1:t>n?1:0}equals(e){if(e.type===this.type){let t=this.regexp?this.regexp.source:"",n=e.regexp?e.regexp.source:"";return this.key===e.key&&t===n}return!1}substituteConstants(){return this}evaluate(e){let t=e.getValue(this.key);return this.regexp?this.regexp.test(t):!1}serialize(){let e=this.regexp?`/${this.regexp.source}/${this.regexp.flags}`:"/invalid/";return`${this.key} =~ ${e}`}keys(){return[this.key]}map(e){return e.mapRegex(this.key,this.regexp)}negate(){return this.negated||(this.negated=Wh.create(this)),this.negated}},Wh=class i{constructor(e){this._actual=e}static create(e){return new i(e)}type=8;cmp(e){return e.type!==this.type?this.type-e.type:this._actual.cmp(e._actual)}equals(e){return e.type===this.type?this._actual.equals(e._actual):!1}substituteConstants(){return this}evaluate(e){return!this._actual.evaluate(e)}serialize(){return`!(${this._actual.serialize()})`}keys(){return this._actual.keys()}map(e){return new i(this._actual.map(e))}negate(){return this._actual}};function Lg(i){let e=null;for(let t=0,n=i.length;t<n;t++){let o=i[t].substituteConstants();if(i[t]!==o&&e===null){e=[];for(let r=0;r<t;r++)e[r]=i[r]}e!==null&&(e[t]=o)}return e===null?i:e}var md=class i{constructor(e,t){this.expr=e;this.negated=t}static create(e,t,n){return i._normalizeArr(e,t,n)}type=6;cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.expr.length<e.expr.length)return-1;if(this.expr.length>e.expr.length)return 1;for(let t=0,n=this.expr.length;t<n;t++){let o=Ps(this.expr[t],e.expr[t]);if(o!==0)return o}return 0}equals(e){if(e.type===this.type){if(this.expr.length!==e.expr.length)return!1;for(let t=0,n=this.expr.length;t<n;t++)if(!this.expr[t].equals(e.expr[t]))return!1;return!0}return!1}substituteConstants(){let e=Lg(this.expr);return e===this.expr?this:i.create(e,this.negated,!1)}evaluate(e){for(let t=0,n=this.expr.length;t<n;t++)if(!this.expr[t].evaluate(e))return!1;return!0}static _normalizeArr(e,t,n){let o=[],r=!1;for(let s of e)if(s){if(s.type===1){r=!0;continue}if(s.type===0)return wt.INSTANCE;if(s.type===6){o.push(...s.expr);continue}o.push(s)}if(o.length===0&&r)return Lt.INSTANCE;if(o.length!==0){if(o.length===1)return o[0];o.sort(Ps);for(let s=1;s<o.length;s++)o[s-1].equals(o[s])&&(o.splice(s,1),s--);if(o.length===1)return o[0];for(;o.length>1;){let s=o[o.length-1];if(s.type!==9)break;o.pop();let a=o.pop(),l=o.length===0,d=$s.create(s.expr.map(u=>i.create([u,a],null,n)),null,l);d&&(o.push(d),o.sort(Ps))}if(o.length===1)return o[0];if(n){for(let s=0;s<o.length;s++)for(let a=s+1;a<o.length;a++)if(o[s].negate().equals(o[a]))return wt.INSTANCE;if(o.length===1)return o[0]}return new i(o,t)}}serialize(){return this.expr.map(e=>e.serialize()).join(" && ")}keys(){let e=[];for(let t of this.expr)e.push(...t.keys());return e}map(e){return new i(this.expr.map(t=>t.map(e)),null)}negate(){if(!this.negated){let e=[];for(let t of this.expr)e.push(t.negate());this.negated=$s.create(e,this,!0)}return this.negated}},$s=class i{constructor(e,t){this.expr=e;this.negated=t}static create(e,t,n){return i._normalizeArr(e,t,n)}type=9;cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.expr.length<e.expr.length)return-1;if(this.expr.length>e.expr.length)return 1;for(let t=0,n=this.expr.length;t<n;t++){let o=Ps(this.expr[t],e.expr[t]);if(o!==0)return o}return 0}equals(e){if(e.type===this.type){if(this.expr.length!==e.expr.length)return!1;for(let t=0,n=this.expr.length;t<n;t++)if(!this.expr[t].equals(e.expr[t]))return!1;return!0}return!1}substituteConstants(){let e=Lg(this.expr);return e===this.expr?this:i.create(e,this.negated,!1)}evaluate(e){for(let t=0,n=this.expr.length;t<n;t++)if(this.expr[t].evaluate(e))return!0;return!1}static _normalizeArr(e,t,n){let o=[],r=!1;if(e){for(let s=0,a=e.length;s<a;s++){let l=e[s];if(l){if(l.type===0){r=!0;continue}if(l.type===1)return Lt.INSTANCE;if(l.type===9){o=o.concat(l.expr);continue}o.push(l)}}if(o.length===0&&r)return wt.INSTANCE;o.sort(Ps)}if(o.length!==0){if(o.length===1)return o[0];for(let s=1;s<o.length;s++)o[s-1].equals(o[s])&&(o.splice(s,1),s--);if(o.length===1)return o[0];if(n){for(let s=0;s<o.length;s++)for(let a=s+1;a<o.length;a++)if(o[s].negate().equals(o[a]))return Lt.INSTANCE;if(o.length===1)return o[0]}return new i(o,t)}}serialize(){return this.expr.map(e=>e.serialize()).join(" || ")}keys(){let e=[];for(let t of this.expr)e.push(...t.keys());return e}map(e){return new i(this.expr.map(t=>t.map(e)),null)}negate(){if(!this.negated){let e=[];for(let t of this.expr)e.push(t.negate());for(;e.length>1;){let t=e.shift(),n=e.shift(),o=[];for(let r of Cg(t))for(let s of Cg(n))o.push(md.create([r,s],null,!1));e.unshift(i.create(o,null,!1))}this.negated=i.create(e,this,!0)}return this.negated}},Ae=class i extends Mo{static _info=[];static all(){return i._info.values()}_defaultValue;constructor(e,t,n){super(e,null),this._defaultValue=t,typeof n=="object"?i._info.push({...n,key:e}):n!==!0&&i._info.push({key:e,description:n,type:t!=null?typeof t:void 0})}bindTo(e){return e.createKey(this.key,this._defaultValue)}getValue(e){return e.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(e){return Bs.create(this.key,e)}notEqualsTo(e){return Hs.create(this.key,e)}},tn=Re("contextKeyService");function Ag(i,e){return i<e?-1:i>e?1:0}function Oo(i,e,t,n){return i<t?-1:i>t?1:e<n?-1:e>n?1:0}function Cg(i){return i.type===9?i.expr:[i]}var qV=new Ae("isMac",ke,p("isMac","Whether the operating system is macOS")),GV=new Ae("isLinux",rn,p("isLinux","Whether the operating system is Linux")),jV=new Ae("isWindows",at,p("isWindows","Whether the operating system is Windows")),QV=new Ae("isWeb",Ei,p("isWeb","Whether the platform is a web browser")),YV=new Ae("isMacNative",ke&&!Ei,p("isMacNative","Whether the operating system is macOS on a non-browser platform")),XV=new Ae("isIOS",ho,p("isIOS","Whether the operating system is iOS")),JV=new Ae("isMobile",qp,p("isMobile","Whether the platform is a mobile web browser")),ZV=new Ae("isDevelopment",!1,!0),eW=new Ae("productQualityType","",p("productQualityType","Quality type of VS Code")),$h="inputFocus",tW=new Ae($h,!1,p("inputFocus","Whether keyboard focus is inside an input box"));var oW=Object.freeze({View:uo("view","View"),Help:uo("help","Help"),Test:uo("test","Test"),File:uo("file","File"),Preferences:uo("preferences","Preferences"),Developer:uo({key:"developer",comment:["A developer on Code itself or someone diagnosing issues in Code"]},"Developer")});var qh=Re("commandService"),qs=new class{_commands=new Map;_onDidRegisterCommand=new k;onDidRegisterCommand=this._onDidRegisterCommand.event;registerCommand(i,e){if(!i)throw new Error("invalid command");if(typeof i=="string"){if(!e)throw new Error("invalid command");return this.registerCommand({id:i,handler:e})}if(i.metadata&&Array.isArray(i.metadata.args)){let s=[];for(let l of i.metadata.args)s.push(l.constraint);let a=i.handler;i.handler=function(l,...d){return Vm(d,s),a(l,...d)}}let{id:t}=i,n=this._commands.get(t);n||(n=new sn,this._commands.set(t,n));let o=n.unshift(i),r=he(()=>{o(),this._commands.get(t)?.isEmpty()&&this._commands.delete(t)});return this._onDidRegisterCommand.fire(t),r}registerCommandAlias(i,e){return qs.registerCommand(i,(t,...n)=>t.get(qh).executeCommand(e,...n))}getCommand(i){let e=this._commands.get(i);if(!(!e||e.isEmpty()))return fe.first(e)}getCommands(){let i=new Map;for(let e of this._commands.keys()){let t=this.getCommand(e);t&&i.set(e,t)}return i}};qs.registerCommand("noop",()=>{});var Gh=class i{_coreKeybindings;_extensionKeybindings;_cachedMergedKeybindings;constructor(){this._coreKeybindings=new sn,this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(e){if(Di===1){if(e&&e.win)return e.win}else if(Di===2){if(e&&e.mac)return e.mac}else if(e&&e.linux)return e.linux;return e}registerKeybindingRule(e){let t=i.bindToCurrentPlatform(e),n=new W;if(t&&t.primary){let o=Nc(t.primary,Di);o&&n.add(this._registerDefaultKeybinding(o,e.id,e.args,e.weight,0,e.when))}if(t&&Array.isArray(t.secondary))for(let o=0,r=t.secondary.length;o<r;o++){let s=t.secondary[o],a=Nc(s,Di);a&&n.add(this._registerDefaultKeybinding(a,e.id,e.args,e.weight,-o-1,e.when))}return n}setExtensionKeybindings(e){let t=[],n=0;for(let o of e)o.keybinding&&(t[n++]={keybinding:o.keybinding,command:o.id,commandArgs:o.args,when:o.when,weight1:o.weight,weight2:0,extensionId:o.extensionId||null,isBuiltinExtension:o.isBuiltinExtension||!1});this._extensionKeybindings=t,this._cachedMergedKeybindings=null}registerCommandAndKeybindingRule(e){return li(this.registerKeybindingRule(e),qs.registerCommand(e))}_registerDefaultKeybinding(e,t,n,o,r,s){let a=this._coreKeybindings.push({keybinding:e,command:t,commandArgs:n,when:s,weight1:o,weight2:r,extensionId:null,isBuiltinExtension:!1});return this._cachedMergedKeybindings=null,he(()=>{a(),this._cachedMergedKeybindings=null})}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=Array.from(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(tx)),this._cachedMergedKeybindings.slice(0)}},Mg=new Gh,ex={EditorModes:"platform.keybindingsRegistry"};gt.add(ex.EditorModes,Mg);function tx(i,e){if(i.weight1!==e.weight1)return i.weight1-e.weight1;if(i.command&&e.command){if(i.command<e.command)return-1;if(i.command>e.command)return 1}return i.weight2-e.weight2}function nx(i){return i.command!==void 0}var Gs=class i{static _instances=new Map;static CommandPalette=new i("CommandPalette");static DebugBreakpointsContext=new i("DebugBreakpointsContext");static DebugCallStackContext=new i("DebugCallStackContext");static DebugConsoleContext=new i("DebugConsoleContext");static DebugVariablesContext=new i("DebugVariablesContext");static NotebookVariablesContext=new i("NotebookVariablesContext");static DebugHoverContext=new i("DebugHoverContext");static DebugWatchContext=new i("DebugWatchContext");static DebugToolBar=new i("DebugToolBar");static DebugToolBarStop=new i("DebugToolBarStop");static DebugCallStackToolbar=new i("DebugCallStackToolbar");static DebugCreateConfiguration=new i("DebugCreateConfiguration");static EditorContext=new i("EditorContext");static SimpleEditorContext=new i("SimpleEditorContext");static EditorContent=new i("EditorContent");static EditorLineNumberContext=new i("EditorLineNumberContext");static EditorContextCopy=new i("EditorContextCopy");static EditorContextPeek=new i("EditorContextPeek");static EditorContextShare=new i("EditorContextShare");static EditorTitle=new i("EditorTitle");static EditorTitleRun=new i("EditorTitleRun");static EditorTitleContext=new i("EditorTitleContext");static EditorTitleContextShare=new i("EditorTitleContextShare");static EmptyEditorGroup=new i("EmptyEditorGroup");static EmptyEditorGroupContext=new i("EmptyEditorGroupContext");static EditorTabsBarContext=new i("EditorTabsBarContext");static EditorTabsBarShowTabsSubmenu=new i("EditorTabsBarShowTabsSubmenu");static EditorTabsBarShowTabsZenModeSubmenu=new i("EditorTabsBarShowTabsZenModeSubmenu");static EditorActionsPositionSubmenu=new i("EditorActionsPositionSubmenu");static ExplorerContext=new i("ExplorerContext");static ExplorerContextShare=new i("ExplorerContextShare");static ExtensionContext=new i("ExtensionContext");static ExtensionEditorContextMenu=new i("ExtensionEditorContextMenu");static GlobalActivity=new i("GlobalActivity");static CommandCenter=new i("CommandCenter");static CommandCenterCenter=new i("CommandCenterCenter");static LayoutControlMenuSubmenu=new i("LayoutControlMenuSubmenu");static LayoutControlMenu=new i("LayoutControlMenu");static MenubarMainMenu=new i("MenubarMainMenu");static MenubarAppearanceMenu=new i("MenubarAppearanceMenu");static MenubarDebugMenu=new i("MenubarDebugMenu");static MenubarEditMenu=new i("MenubarEditMenu");static MenubarCopy=new i("MenubarCopy");static MenubarFileMenu=new i("MenubarFileMenu");static MenubarGoMenu=new i("MenubarGoMenu");static MenubarHelpMenu=new i("MenubarHelpMenu");static MenubarLayoutMenu=new i("MenubarLayoutMenu");static MenubarNewBreakpointMenu=new i("MenubarNewBreakpointMenu");static PanelAlignmentMenu=new i("PanelAlignmentMenu");static PanelPositionMenu=new i("PanelPositionMenu");static ActivityBarPositionMenu=new i("ActivityBarPositionMenu");static MenubarPreferencesMenu=new i("MenubarPreferencesMenu");static MenubarRecentMenu=new i("MenubarRecentMenu");static MenubarSelectionMenu=new i("MenubarSelectionMenu");static MenubarShare=new i("MenubarShare");static MenubarSwitchEditorMenu=new i("MenubarSwitchEditorMenu");static MenubarSwitchGroupMenu=new i("MenubarSwitchGroupMenu");static MenubarTerminalMenu=new i("MenubarTerminalMenu");static MenubarViewMenu=new i("MenubarViewMenu");static MenubarHomeMenu=new i("MenubarHomeMenu");static OpenEditorsContext=new i("OpenEditorsContext");static OpenEditorsContextShare=new i("OpenEditorsContextShare");static ProblemsPanelContext=new i("ProblemsPanelContext");static SCMInputBox=new i("SCMInputBox");static SCMChangesContext=new i("SCMChangesContext");static SCMChangeContext=new i("SCMChangeContext");static SCMResourceContext=new i("SCMResourceContext");static SCMResourceContextShare=new i("SCMResourceContextShare");static SCMResourceFolderContext=new i("SCMResourceFolderContext");static SCMResourceGroupContext=new i("SCMResourceGroupContext");static SCMSourceControl=new i("SCMSourceControl");static SCMSourceControlInline=new i("SCMSourceControlInline");static SCMSourceControlTitle=new i("SCMSourceControlTitle");static SCMHistoryTitle=new i("SCMHistoryTitle");static SCMTitle=new i("SCMTitle");static SearchContext=new i("SearchContext");static SearchActionMenu=new i("SearchActionContext");static StatusBarWindowIndicatorMenu=new i("StatusBarWindowIndicatorMenu");static StatusBarRemoteIndicatorMenu=new i("StatusBarRemoteIndicatorMenu");static StickyScrollContext=new i("StickyScrollContext");static TestItem=new i("TestItem");static TestItemGutter=new i("TestItemGutter");static TestProfilesContext=new i("TestProfilesContext");static TestMessageContext=new i("TestMessageContext");static TestMessageContent=new i("TestMessageContent");static TestPeekElement=new i("TestPeekElement");static TestPeekTitle=new i("TestPeekTitle");static TestCallStack=new i("TestCallStack");static TouchBarContext=new i("TouchBarContext");static TitleBarContext=new i("TitleBarContext");static TitleBarTitleContext=new i("TitleBarTitleContext");static TunnelContext=new i("TunnelContext");static TunnelPrivacy=new i("TunnelPrivacy");static TunnelProtocol=new i("TunnelProtocol");static TunnelPortInline=new i("TunnelInline");static TunnelTitle=new i("TunnelTitle");static TunnelLocalAddressInline=new i("TunnelLocalAddressInline");static TunnelOriginInline=new i("TunnelOriginInline");static ViewItemContext=new i("ViewItemContext");static ViewContainerTitle=new i("ViewContainerTitle");static ViewContainerTitleContext=new i("ViewContainerTitleContext");static ViewTitle=new i("ViewTitle");static ViewTitleContext=new i("ViewTitleContext");static CommentEditorActions=new i("CommentEditorActions");static CommentThreadTitle=new i("CommentThreadTitle");static CommentThreadActions=new i("CommentThreadActions");static CommentThreadAdditionalActions=new i("CommentThreadAdditionalActions");static CommentThreadTitleContext=new i("CommentThreadTitleContext");static CommentThreadCommentContext=new i("CommentThreadCommentContext");static CommentTitle=new i("CommentTitle");static CommentActions=new i("CommentActions");static CommentsViewThreadActions=new i("CommentsViewThreadActions");static InteractiveToolbar=new i("InteractiveToolbar");static InteractiveCellTitle=new i("InteractiveCellTitle");static InteractiveCellDelete=new i("InteractiveCellDelete");static InteractiveCellExecute=new i("InteractiveCellExecute");static InteractiveInputExecute=new i("InteractiveInputExecute");static InteractiveInputConfig=new i("InteractiveInputConfig");static ReplInputExecute=new i("ReplInputExecute");static IssueReporter=new i("IssueReporter");static NotebookToolbar=new i("NotebookToolbar");static NotebookStickyScrollContext=new i("NotebookStickyScrollContext");static NotebookCellTitle=new i("NotebookCellTitle");static NotebookCellDelete=new i("NotebookCellDelete");static NotebookCellInsert=new i("NotebookCellInsert");static NotebookCellBetween=new i("NotebookCellBetween");static NotebookCellListTop=new i("NotebookCellTop");static NotebookCellExecute=new i("NotebookCellExecute");static NotebookCellExecuteGoTo=new i("NotebookCellExecuteGoTo");static NotebookCellExecutePrimary=new i("NotebookCellExecutePrimary");static NotebookDiffCellInputTitle=new i("NotebookDiffCellInputTitle");static NotebookDiffCellMetadataTitle=new i("NotebookDiffCellMetadataTitle");static NotebookDiffCellOutputsTitle=new i("NotebookDiffCellOutputsTitle");static NotebookOutputToolbar=new i("NotebookOutputToolbar");static NotebookOutlineFilter=new i("NotebookOutlineFilter");static NotebookOutlineActionMenu=new i("NotebookOutlineActionMenu");static NotebookEditorLayoutConfigure=new i("NotebookEditorLayoutConfigure");static NotebookKernelSource=new i("NotebookKernelSource");static BulkEditTitle=new i("BulkEditTitle");static BulkEditContext=new i("BulkEditContext");static TimelineItemContext=new i("TimelineItemContext");static TimelineTitle=new i("TimelineTitle");static TimelineTitleContext=new i("TimelineTitleContext");static TimelineFilterSubMenu=new i("TimelineFilterSubMenu");static AccountsContext=new i("AccountsContext");static SidebarTitle=new i("SidebarTitle");static PanelTitle=new i("PanelTitle");static AuxiliaryBarTitle=new i("AuxiliaryBarTitle");static AuxiliaryBarHeader=new i("AuxiliaryBarHeader");static TerminalInstanceContext=new i("TerminalInstanceContext");static TerminalEditorInstanceContext=new i("TerminalEditorInstanceContext");static TerminalNewDropdownContext=new i("TerminalNewDropdownContext");static TerminalTabContext=new i("TerminalTabContext");static TerminalTabEmptyAreaContext=new i("TerminalTabEmptyAreaContext");static TerminalStickyScrollContext=new i("TerminalStickyScrollContext");static WebviewContext=new i("WebviewContext");static InlineCompletionsActions=new i("InlineCompletionsActions");static InlineEditsActions=new i("InlineEditsActions");static InlineEditActions=new i("InlineEditActions");static NewFile=new i("NewFile");static MergeInput1Toolbar=new i("MergeToolbar1Toolbar");static MergeInput2Toolbar=new i("MergeToolbar2Toolbar");static MergeBaseToolbar=new i("MergeBaseToolbar");static MergeInputResultToolbar=new i("MergeToolbarResultToolbar");static InlineSuggestionToolbar=new i("InlineSuggestionToolbar");static InlineEditToolbar=new i("InlineEditToolbar");static ChatContext=new i("ChatContext");static ChatCodeBlock=new i("ChatCodeblock");static ChatCompareBlock=new i("ChatCompareBlock");static ChatMessageTitle=new i("ChatMessageTitle");static ChatExecute=new i("ChatExecute");static ChatExecuteSecondary=new i("ChatExecuteSecondary");static ChatInputSide=new i("ChatInputSide");static AccessibleView=new i("AccessibleView");static MultiDiffEditorFileToolbar=new i("MultiDiffEditorFileToolbar");static DiffEditorHunkToolbar=new i("DiffEditorHunkToolbar");static DiffEditorSelectionToolbar=new i("DiffEditorSelectionToolbar");static for(e){return i._instances.get(e)??new i(e)}id;constructor(e){if(i._instances.has(e))throw new TypeError(`MenuId with identifier '${e}' already exists. Use MenuId.for(ident) or a unique identifier`);i._instances.set(e,this),this.id=e}},f$=Re("menuService"),Ro=class i{constructor(e){this.id=e;this.has=t=>t===e}static _all=new Map;static for(e){let t=this._all.get(e);return t||(t=new i(e),this._all.set(e,t)),t}static merge(e){let t=new Set;for(let n of e)n instanceof i&&t.add(n.id);return t}has},g$=new class{_commands=new Map;_menuItems=new Map;_onDidChangeMenu=new Na({merge:Ro.merge});onDidChangeMenu=this._onDidChangeMenu.event;addCommand(i){return this._commands.set(i.id,i),this._onDidChangeMenu.fire(Ro.for(Gs.CommandPalette)),he(()=>{this._commands.delete(i.id)&&this._onDidChangeMenu.fire(Ro.for(Gs.CommandPalette))})}getCommand(i){return this._commands.get(i)}getCommands(){let i=new Map;return this._commands.forEach((e,t)=>i.set(t,e)),i}appendMenuItem(i,e){let t=this._menuItems.get(i);t||(t=new sn,this._menuItems.set(i,t));let n=t.push(e);return this._onDidChangeMenu.fire(Ro.for(i)),he(()=>{n(),this._onDidChangeMenu.fire(Ro.for(i))})}appendMenuItems(i){let e=new W;for(let{id:t,item:n}of i)e.add(this.appendMenuItem(t,n));return e}getMenuItems(i){let e;return this._menuItems.has(i)?e=[...this._menuItems.get(i)]:e=[],i===Gs.CommandPalette&&this._appendImplicitItems(e),e}_appendImplicitItems(i){let e=new Set;for(let t of i)nx(t)&&(e.add(t.command.id),t.alt&&e.add(t.alt.id));this._commands.forEach((t,n)=>{e.has(n)||i.push({command:t})})}};var Fo=class{constructor(e,t,n,o,r,s,a){this.hideActions=o;this.menuKeybinding=r;this._commandService=a;this.id=e.id,this.label=Fo.label(e,n),this.tooltip=(typeof e.tooltip=="string"?e.tooltip:e.tooltip?.value)??"",this.enabled=!e.precondition||s.contextMatchesRules(e.precondition),this.checked=void 0;let l;if(e.toggled){let d=e.toggled.condition?e.toggled:{condition:e.toggled};this.checked=s.contextMatchesRules(d.condition),this.checked&&d.tooltip&&(this.tooltip=typeof d.tooltip=="string"?d.tooltip:d.tooltip.value),this.checked&&Se.isThemeIcon(d.icon)&&(l=d.icon),this.checked&&d.title&&(this.label=typeof d.title=="string"?d.title:d.title.value)}l||(l=Se.isThemeIcon(e.icon)?e.icon:void 0),this.item=e,this.alt=t?new Fo(t,void 0,n,o,void 0,s,a):void 0,this._options=n,this.class=l&&Se.asClassName(l)}static label(e,t){return t?.renderShortTitle&&e.shortTitle?typeof e.shortTitle=="string"?e.shortTitle:e.shortTitle.value:typeof e.title=="string"?e.title:e.title.value}item;alt;_options;id;label;tooltip;class;enabled;checked;run(...e){let t=[];return this._options?.arg&&(t=[...t,this._options.arg]),this._options?.shouldForwardArgs&&(t=[...t,...e]),this._commandService.executeCommand(this.id,...t)}};Fo=ie([ue(5,tn),ue(6,qh)],Fo);var Ng=Re("contextViewService"),z$=Re("contextMenuService");var Og=Re("keybindingService");var ix={IconContribution:"base.contributions.icons"},ox;(e=>{function i(t,n){let o=t.defaults;for(;Se.isThemeIcon(o);){let r=Er.getIcon(o.id);if(!r)return;o=r.defaults}return o}e.getDefinition=i})(ox||={});var rx;(t=>{function i(n){return{weight:n.weight,style:n.style,src:n.src.map(o=>({format:o.format,location:o.location.toString()}))}}t.toJSONObject=i;function e(n){let o=r=>bn(r)?r:void 0;if(n&&Array.isArray(n.src)&&n.src.every(r=>bn(r.format)&&bn(r.location)))return{weight:o(n.weight),style:o(n.style),src:n.src.map(r=>({format:r.format,location:Ve.parse(r.location)}))}}t.fromJSONObject=e})(rx||={});var jh=class{_onDidChange=new k;onDidChange=this._onDidChange.event;iconsById;iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:p("iconDefinition.fontId","The id of the font to use. If not set, the font that is defined first is used.")},fontCharacter:{type:"string",description:p("iconDefinition.fontCharacter","The font character associated with the icon definition.")}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}};iconReferenceSchema={type:"string",pattern:`^${Se.iconNameExpression}$`,enum:[],enumDescriptions:[]};iconFontsById;constructor(){this.iconsById={},this.iconFontsById={}}registerIcon(e,t,n,o){let r=this.iconsById[e];if(r){if(n&&!r.description){r.description=n,this.iconSchema.properties[e].markdownDescription=`${n} $(${e})`;let l=this.iconReferenceSchema.enum.indexOf(e);l!==-1&&(this.iconReferenceSchema.enumDescriptions[l]=n),this._onDidChange.fire()}return r}let s={id:e,description:n,defaults:t,deprecationMessage:o};this.iconsById[e]=s;let a={$ref:"#/definitions/icons"};return o&&(a.deprecationMessage=o),n&&(a.markdownDescription=`${n}: $(${e})`),this.iconSchema.properties[e]=a,this.iconReferenceSchema.enum.push(e),this.iconReferenceSchema.enumDescriptions.push(n||""),this._onDidChange.fire(),{id:e}}deregisterIcon(e){delete this.iconsById[e],delete this.iconSchema.properties[e];let t=this.iconReferenceSchema.enum.indexOf(e);t!==-1&&(this.iconReferenceSchema.enum.splice(t,1),this.iconReferenceSchema.enumDescriptions.splice(t,1)),this._onDidChange.fire()}getIcons(){return Object.keys(this.iconsById).map(e=>this.iconsById[e])}getIcon(e){return this.iconsById[e]}getIconSchema(){return this.iconSchema}getIconReferenceSchema(){return this.iconReferenceSchema}registerIconFont(e,t){let n=this.iconFontsById[e];return n||(this.iconFontsById[e]=t,this._onDidChange.fire(),t)}deregisterIconFont(e){delete this.iconFontsById[e]}getIconFont(e){return this.iconFontsById[e]}toString(){let e=(r,s)=>r.id.localeCompare(s.id),t=r=>{for(;Se.isThemeIcon(r.defaults);)r=this.iconsById[r.defaults.id];return`codicon codicon-${r?r.id:""}`},n=[];n.push("| preview     | identifier                        | default codicon ID                | description"),n.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");let o=Object.keys(this.iconsById).map(r=>this.iconsById[r]);for(let r of o.filter(s=>!!s.description).sort(e))n.push(`|<i class="${t(r)}"></i>|${r.id}|${Se.isThemeIcon(r.defaults)?r.defaults.id:r.id}|${r.description||""}|`);n.push("| preview     | identifier                        "),n.push("| ----------- | --------------------------------- |");for(let r of o.filter(s=>!Se.isThemeIcon(s.defaults)).sort(e))n.push(`|<i class="${t(r)}"></i>|${r.id}|`);return n.join(`
`)}},Er=new jh;gt.add(ix.IconContribution,Er);function Qh(i,e,t,n){return Er.registerIcon(i,e,t,n)}function sx(){let i=cu();for(let e in i){let t="\\"+i[e].toString(16);Er.registerIcon(e,{fontCharacter:t})}}sx();var Fg="vscode://schemas/icons",Pg=gt.as(Co.JSONContribution);Pg.registerSchema(Fg,Er.getIconSchema());var Rg=new Bi(()=>Pg.notifySchemaChanged(Fg),200);Er.onDidChange(()=>{Rg.isScheduled()||Rg.schedule()});var Vq=Qh("widget-close",_e.close,p("widgetClose","Icon for the close action in widgets.")),Wq=Qh("goto-previous-location",_e.arrowUp,p("previousChangeIcon","Icon for goto previous editor location.")),$q=Qh("goto-next-location",_e.arrowDown,p("nextChangeIcon","Icon for goto next editor location.")),qq=Se.modify(_e.sync,"spin"),Gq=Se.modify(_e.loading,"spin");function Bg(i){return i==="dark"||i==="hcDark"}var Hg=Re("themeService");var pG=_e.file,mG=_e.folder;var ax={ThemingContribution:"base.contributions.theming"},Yh=class{themingParticipants=[];onThemingParticipantAddedEmitter;constructor(){this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new k}onColorThemeChange(e){return this.themingParticipants.push(e),this.onThemingParticipantAddedEmitter.fire(e),he(()=>{let t=this.themingParticipants.indexOf(e);this.themingParticipants.splice(t,1)})}get onThemingParticipantAdded(){return this.onThemingParticipantAddedEmitter.event}getThemingParticipants(){return this.themingParticipants}},lx=new Yh;gt.add(ax.ThemingContribution,lx);function zg(i){return`--vscode-${i.replace(/\./g,"-")}`}function N(i){return`var(${zg(i)})`}function Ug(i,e){return`var(${zg(i)}, ${e})`}function dx(i){return i!==null&&typeof i=="object"&&"light"in i&&"dark"in i}var cx={ColorContribution:"base.contributions.colors"},ux="default",Xh=class{_onDidChangeSchema=new k;onDidChangeSchema=this._onDidChangeSchema.event;colorsById;colorSchema={type:"object",properties:{}};colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]};constructor(){this.colorsById={}}notifyThemeUpdate(e){for(let t of Object.keys(this.colorsById)){let n=e.getColor(t);n&&(this.colorSchema.properties[t].oneOf[0].defaultSnippets[0].body=`\${1:${n.toString()}}`)}this._onDidChangeSchema.fire()}registerColor(e,t,n,o=!1,r){let s={id:e,description:n,defaults:t,needsTransparency:o,deprecationMessage:r};this.colorsById[e]=s;let a={type:"string",format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return r&&(a.deprecationMessage=r),o&&(a.pattern="^#(?:(?<rgba>[0-9a-fA-f]{3}[0-9a-eA-E])|(?:[0-9a-fA-F]{6}(?:(?![fF]{2})(?:[0-9a-fA-F]{2}))))?$",a.patternErrorMessage=p("transparecyRequired","This color must be transparent or it will obscure content")),this.colorSchema.properties[e]={description:n,oneOf:[a,{type:"string",const:ux,description:p("useDefault","Use the default color.")}]},this.colorReferenceSchema.enum.push(e),this.colorReferenceSchema.enumDescriptions.push(n),this._onDidChangeSchema.fire(),e}deregisterColor(e){delete this.colorsById[e],delete this.colorSchema.properties[e];let t=this.colorReferenceSchema.enum.indexOf(e);t!==-1&&(this.colorReferenceSchema.enum.splice(t,1),this.colorReferenceSchema.enumDescriptions.splice(t,1)),this._onDidChangeSchema.fire()}getColors(){return Object.keys(this.colorsById).map(e=>this.colorsById[e])}resolveDefaultColor(e,t){let n=this.colorsById[e];if(n?.defaults){let o=dx(n.defaults)?n.defaults[t.type]:n.defaults;return En(o,t)}}getColorSchema(){return this.colorSchema}getColorReferenceSchema(){return this.colorReferenceSchema}toString(){let e=(t,n)=>{let o=t.indexOf(".")===-1?0:1,r=n.indexOf(".")===-1?0:1;return o!==r?o-r:t.localeCompare(n)};return Object.keys(this.colorsById).sort(e).map(t=>`- \`${t}\`: ${this.colorsById[t].description}`).join(`
`)}},gd=new Xh;gt.add(cx.ColorContribution,gd);function y(i,e,t,n,o){return gd.registerColor(i,e,t,n,o)}function hx(i,e){switch(i.op){case 0:return En(i.value,e)?.darken(i.factor);case 1:return En(i.value,e)?.lighten(i.factor);case 2:return En(i.value,e)?.transparent(i.factor);case 3:{let t=En(i.background,e);return t?En(i.value,e)?.makeOpaque(t):En(i.value,e)}case 4:for(let t of i.values){let n=En(t,e);if(n)return n}return;case 6:return En(e.defines(i.if)?i.then:i.else,e);case 5:{let t=En(i.value,e);if(!t)return;let n=En(i.background,e);return n?t.isDarkerThan(n)?A.getLighterColor(t,n,i.factor).transparent(i.transparency):A.getDarkerColor(t,n,i.factor).transparent(i.transparency):t.transparent(i.factor*i.transparency)}default:throw mm(i)}}function Qn(i,e){return{op:0,value:i,factor:e}}function qt(i,e){return{op:1,value:i,factor:e}}function ne(i,e){return{op:2,value:i,factor:e}}function Jh(...i){return{op:4,values:i}}function Vg(i,e,t){return{op:6,if:i,then:e,else:t}}function Zh(i,e,t,n){return{op:5,value:i,background:e,factor:t,transparency:n}}function En(i,e){if(i!==null){if(typeof i=="string")return i[0]==="#"?A.fromHex(i):e.getColor(i);if(i instanceof A)return i;if(typeof i=="object")return hx(i,e)}}var Wg="vscode://schemas/workbench-colors",$g=gt.as(Co.JSONContribution);$g.registerSchema(Wg,gd.getColorSchema());var Kg=new Bi(()=>$g.notifySchemaChanged(Wg),200);gd.onDidChangeSchema(()=>{Kg.isScheduled()||Kg.schedule()});var Te=y("foreground",{dark:"#CCCCCC",light:"#616161",hcDark:"#FFFFFF",hcLight:"#292929"},p("foreground","Overall foreground color. This color is only used if not overridden by a component.")),AG=y("disabledForeground",{dark:"#CCCCCC80",light:"#61616180",hcDark:"#A5A5A5",hcLight:"#7F7F7F"},p("disabledForeground","Overall foreground for disabled elements. This color is only used if not overridden by a component.")),MG=y("errorForeground",{dark:"#F48771",light:"#A1260D",hcDark:"#F48771",hcLight:"#B5200D"},p("errorForeground","Overall foreground color for error messages. This color is only used if not overridden by a component.")),NG=y("descriptionForeground",{light:"#717171",dark:ne(Te,.7),hcDark:ne(Te,.7),hcLight:ne(Te,.7)},p("descriptionForeground","Foreground color for description text providing additional information, for example for a label.")),js=y("icon.foreground",{dark:"#C5C5C5",light:"#424242",hcDark:"#FFFFFF",hcLight:"#292929"},p("iconForeground","The default color for icons in the workbench.")),Gt=y("focusBorder",{dark:"#007FD4",light:"#0090F1",hcDark:"#F38518",hcLight:"#006BBD"},p("focusBorder","Overall border color for focused elements. This color is only used if not overridden by a component.")),ve=y("contrastBorder",{light:null,dark:null,hcDark:"#6FC3DF",hcLight:"#0F4A85"},p("contrastBorder","An extra border around elements to separate them from others for greater contrast.")),et=y("contrastActiveBorder",{light:null,dark:null,hcDark:Gt,hcLight:Gt},p("activeContrastBorder","An extra border around active elements to separate them from others for greater contrast.")),OG=y("selection.background",null,p("selectionBackground","The background color of text selections in the workbench (e.g. for input fields or text areas). Note that this does not apply to selections within the editor.")),qg=y("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hcDark:"#21A6FF",hcLight:"#0F4A85"},p("textLinkForeground","Foreground color for links in text.")),RG=y("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hcDark:"#21A6FF",hcLight:"#0F4A85"},p("textLinkActiveForeground","Foreground color for links in text when clicked on and on mouse hover.")),FG=y("textSeparator.foreground",{light:"#0000002e",dark:"#ffffff2e",hcDark:A.black,hcLight:"#292929"},p("textSeparatorForeground","Color for text separators.")),PG=y("textPreformat.foreground",{light:"#A31515",dark:"#D7BA7D",hcDark:"#000000",hcLight:"#FFFFFF"},p("textPreformatForeground","Foreground color for preformatted text segments.")),BG=y("textPreformat.background",{light:"#0000001A",dark:"#FFFFFF1A",hcDark:"#FFFFFF",hcLight:"#09345f"},p("textPreformatBackground","Background color for preformatted text segments.")),HG=y("textBlockQuote.background",{light:"#f2f2f2",dark:"#222222",hcDark:null,hcLight:"#F2F2F2"},p("textBlockQuoteBackground","Background color for block quotes in text.")),KG=y("textBlockQuote.border",{light:"#007acc80",dark:"#007acc80",hcDark:A.white,hcLight:"#292929"},p("textBlockQuoteBorder","Border color for block quotes in text.")),zG=y("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hcDark:A.black,hcLight:"#F2F2F2"},p("textCodeBlockBackground","Background color for code blocks in text."));var qG=y("sash.hoverBorder",Gt,p("sashActiveBorder","Border color of active sashes.")),Dr=y("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hcDark:A.black,hcLight:"#0F4A85"},p("badgeBackground","Badge background color. Badges are small information labels, e.g. for search results count.")),Gg=y("badge.foreground",{dark:A.white,light:"#333",hcDark:A.white,hcLight:A.white},p("badgeForeground","Badge foreground color. Badges are small information labels, e.g. for search results count.")),Qs=y("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hcDark:null,hcLight:null},p("scrollbarShadow","Scrollbar shadow to indicate that the view is scrolled.")),bd=y("scrollbarSlider.background",{dark:A.fromHex("#797979").transparent(.4),light:A.fromHex("#646464").transparent(.4),hcDark:ne(ve,.6),hcLight:ne(ve,.4)},p("scrollbarSliderBackground","Scrollbar slider background color.")),vd=y("scrollbarSlider.hoverBackground",{dark:A.fromHex("#646464").transparent(.7),light:A.fromHex("#646464").transparent(.7),hcDark:ne(ve,.8),hcLight:ne(ve,.8)},p("scrollbarSliderHoverBackground","Scrollbar slider background color when hovering.")),yd=y("scrollbarSlider.activeBackground",{dark:A.fromHex("#BFBFBF").transparent(.4),light:A.fromHex("#000000").transparent(.6),hcDark:ve,hcLight:ve},p("scrollbarSliderActiveBackground","Scrollbar slider background color when clicked on.")),jg=y("progressBar.background",{dark:A.fromHex("#0E70C0"),light:A.fromHex("#0E70C0"),hcDark:ve,hcLight:ve},p("progressBarBackground","Background color of the progress bar that can show for long running operations."));var Td=y("editor.background",{light:"#ffffff",dark:"#1E1E1E",hcDark:A.black,hcLight:A.white},p("editorBackground","Editor background color.")),JG=y("editor.foreground",{light:"#333333",dark:"#BBBBBB",hcDark:A.white,hcLight:Te},p("editorForeground","Editor default foreground color.")),ZG=y("editorStickyScroll.background",Td,p("editorStickyScrollBackground","Background color of sticky scroll in the editor")),ej=y("editorStickyScrollHover.background",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:null,hcLight:A.fromHex("#0F4A85").transparent(.1)},p("editorStickyScrollHoverBackground","Background color of sticky scroll on hover in the editor")),tj=y("editorStickyScroll.border",{dark:null,light:null,hcDark:ve,hcLight:ve},p("editorStickyScrollBorder","Border color of sticky scroll in the editor")),nj=y("editorStickyScroll.shadow",Qs,p("editorStickyScrollShadow"," Shadow color of sticky scroll in the editor")),At=y("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hcDark:"#0C141F",hcLight:A.white},p("editorWidgetBackground","Background color of editor widgets, such as find/replace.")),Po=y("editorWidget.foreground",Te,p("editorWidgetForeground","Foreground color of editor widgets, such as find/replace.")),ip=y("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hcDark:ve,hcLight:ve},p("editorWidgetBorder","Border color of editor widgets. The color is only used if the widget chooses to have a border and if the color is not overridden by a widget.")),ij=y("editorWidget.resizeBorder",null,p("editorWidgetResizeBorder","Border color of the resize bar of editor widgets. The color is only used if the widget chooses to have a resize border and if the color is not overridden by a widget.")),oj=y("editorError.background",null,p("editorError.background","Background color of error text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),op=y("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hcDark:"#F48771",hcLight:"#B5200D"},p("editorError.foreground","Foreground color of error squigglies in the editor.")),rj=y("editorError.border",{dark:null,light:null,hcDark:A.fromHex("#E47777").transparent(.8),hcLight:"#B5200D"},p("errorBorder","If set, color of double underlines for errors in the editor.")),sj=y("editorWarning.background",null,p("editorWarning.background","Background color of warning text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),Lr=y("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hcDark:"#FFD370",hcLight:"#895503"},p("editorWarning.foreground","Foreground color of warning squigglies in the editor.")),rp=y("editorWarning.border",{dark:null,light:null,hcDark:A.fromHex("#FFCC00").transparent(.8),hcLight:A.fromHex("#FFCC00").transparent(.8)},p("warningBorder","If set, color of double underlines for warnings in the editor.")),aj=y("editorInfo.background",null,p("editorInfo.background","Background color of info text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),Ar=y("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hcDark:"#3794FF",hcLight:"#1a85ff"},p("editorInfo.foreground","Foreground color of info squigglies in the editor.")),sp=y("editorInfo.border",{dark:null,light:null,hcDark:A.fromHex("#3794FF").transparent(.8),hcLight:"#292929"},p("infoBorder","If set, color of double underlines for infos in the editor.")),lj=y("editorHint.foreground",{dark:A.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hcDark:null,hcLight:null},p("editorHint.foreground","Foreground color of hint squigglies in the editor.")),dj=y("editorHint.border",{dark:null,light:null,hcDark:A.fromHex("#eeeeee").transparent(.8),hcLight:"#292929"},p("hintBorder","If set, color of double underlines for hints in the editor.")),cj=y("editorLink.activeForeground",{dark:"#4E94CE",light:A.blue,hcDark:A.cyan,hcLight:"#292929"},p("activeLinkForeground","Color of active links.")),kr=y("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hcDark:"#f3f518",hcLight:"#0F4A85"},p("editorSelectionBackground","Color of the editor selection.")),uj=y("editor.selectionForeground",{light:null,dark:null,hcDark:"#000000",hcLight:A.white},p("editorSelectionForeground","Color of the selected text for high contrast.")),hj=y("editor.inactiveSelectionBackground",{light:ne(kr,.5),dark:ne(kr,.5),hcDark:ne(kr,.7),hcLight:ne(kr,.5)},p("editorInactiveSelection","Color of the selection in an inactive editor. The color must not be opaque so as not to hide underlying decorations."),!0),pj=y("editor.selectionHighlightBackground",{light:Zh(kr,Td,.3,.6),dark:Zh(kr,Td,.3,.6),hcDark:null,hcLight:null},p("editorSelectionHighlight","Color for regions with the same content as the selection. The color must not be opaque so as not to hide underlying decorations."),!0),mj=y("editor.selectionHighlightBorder",{light:null,dark:null,hcDark:et,hcLight:et},p("editorSelectionHighlightBorder","Border color for regions with the same content as the selection.")),fj=y("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hcDark:null,hcLight:null},p("editorFindMatch","Color of the current search match.")),gj=y("editor.findMatchForeground",null,p("editorFindMatchForeground","Text color of the current search match.")),to=y("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hcDark:null,hcLight:null},p("findMatchHighlight","Color of the other search matches. The color must not be opaque so as not to hide underlying decorations."),!0),bj=y("editor.findMatchHighlightForeground",null,p("findMatchHighlightForeground","Foreground color of the other search matches."),!0),vj=y("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hcDark:null,hcLight:null},p("findRangeHighlight","Color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),yj=y("editor.findMatchBorder",{light:null,dark:null,hcDark:et,hcLight:et},p("editorFindMatchBorder","Border color of the current search match.")),no=y("editor.findMatchHighlightBorder",{light:null,dark:null,hcDark:et,hcLight:et},p("findMatchHighlightBorder","Border color of the other search matches.")),Tj=y("editor.findRangeHighlightBorder",{dark:null,light:null,hcDark:ne(et,.4),hcLight:ne(et,.4)},p("findRangeHighlightBorder","Border color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),Ij=y("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hcDark:"#ADD6FF26",hcLight:null},p("hoverHighlight","Highlight below the word for which a hover is shown. The color must not be opaque so as not to hide underlying decorations."),!0),Qg=y("editorHoverWidget.background",At,p("hoverBackground","Background color of the editor hover.")),xj=y("editorHoverWidget.foreground",Po,p("hoverForeground","Foreground color of the editor hover.")),Sj=y("editorHoverWidget.border",ip,p("hoverBorder","Border color of the editor hover.")),wj=y("editorHoverWidget.statusBarBackground",{dark:qt(Qg,.2),light:Qn(Qg,.05),hcDark:At,hcLight:At},p("statusBarBackground","Background color of the editor hover status bar.")),nb=y("editorInlayHint.foreground",{dark:"#969696",light:"#969696",hcDark:A.white,hcLight:A.black},p("editorInlayHintForeground","Foreground color of inline hints")),ib=y("editorInlayHint.background",{dark:ne(Dr,.1),light:ne(Dr,.1),hcDark:ne(A.white,.1),hcLight:ne(Dr,.1)},p("editorInlayHintBackground","Background color of inline hints")),Ej=y("editorInlayHint.typeForeground",nb,p("editorInlayHintForegroundTypes","Foreground color of inline hints for types")),Dj=y("editorInlayHint.typeBackground",ib,p("editorInlayHintBackgroundTypes","Background color of inline hints for types")),kj=y("editorInlayHint.parameterForeground",nb,p("editorInlayHintForegroundParameter","Foreground color of inline hints for parameters")),_j=y("editorInlayHint.parameterBackground",ib,p("editorInlayHintBackgroundParameter","Background color of inline hints for parameters")),px=y("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hcDark:"#FFCC00",hcLight:"#007ACC"},p("editorLightBulbForeground","The color used for the lightbulb actions icon.")),Cj=y("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},p("editorLightBulbAutoFixForeground","The color used for the lightbulb auto fix actions icon.")),Lj=y("editorLightBulbAi.foreground",px,p("editorLightBulbAiForeground","The color used for the lightbulb AI icon.")),Aj=y("editor.snippetTabstopHighlightBackground",{dark:new A(new be(124,124,124,.3)),light:new A(new be(10,50,100,.2)),hcDark:new A(new be(124,124,124,.3)),hcLight:new A(new be(10,50,100,.2))},p("snippetTabstopHighlightBackground","Highlight background color of a snippet tabstop.")),Mj=y("editor.snippetTabstopHighlightBorder",null,p("snippetTabstopHighlightBorder","Highlight border color of a snippet tabstop.")),Nj=y("editor.snippetFinalTabstopHighlightBackground",null,p("snippetFinalTabstopHighlightBackground","Highlight background color of the final tabstop of a snippet.")),Oj=y("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new A(new be(10,50,100,.5)),hcDark:"#525252",hcLight:"#292929"},p("snippetFinalTabstopHighlightBorder","Highlight border color of the final tabstop of a snippet.")),Yg=new A(new be(155,185,85,.2)),Xg=new A(new be(255,0,0,.2)),Rj=y("diffEditor.insertedTextBackground",{dark:"#9ccc2c33",light:"#9ccc2c40",hcDark:null,hcLight:null},p("diffEditorInserted","Background color for text that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),Fj=y("diffEditor.removedTextBackground",{dark:"#ff000033",light:"#ff000033",hcDark:null,hcLight:null},p("diffEditorRemoved","Background color for text that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),Pj=y("diffEditor.insertedLineBackground",{dark:Yg,light:Yg,hcDark:null,hcLight:null},p("diffEditorInsertedLines","Background color for lines that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),Bj=y("diffEditor.removedLineBackground",{dark:Xg,light:Xg,hcDark:null,hcLight:null},p("diffEditorRemovedLines","Background color for lines that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),Hj=y("diffEditorGutter.insertedLineBackground",null,p("diffEditorInsertedLineGutter","Background color for the margin where lines got inserted.")),Kj=y("diffEditorGutter.removedLineBackground",null,p("diffEditorRemovedLineGutter","Background color for the margin where lines got removed.")),zj=y("diffEditorOverview.insertedForeground",null,p("diffEditorOverviewInserted","Diff overview ruler foreground for inserted content.")),Uj=y("diffEditorOverview.removedForeground",null,p("diffEditorOverviewRemoved","Diff overview ruler foreground for removed content.")),Vj=y("diffEditor.insertedTextBorder",{dark:null,light:null,hcDark:"#33ff2eff",hcLight:"#374E06"},p("diffEditorInsertedOutline","Outline color for the text that got inserted.")),Wj=y("diffEditor.removedTextBorder",{dark:null,light:null,hcDark:"#FF008F",hcLight:"#AD0707"},p("diffEditorRemovedOutline","Outline color for text that got removed.")),$j=y("diffEditor.border",{dark:null,light:null,hcDark:ve,hcLight:ve},p("diffEditorBorder","Border color between the two text editors.")),qj=y("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hcDark:null,hcLight:null},p("diffDiagonalFill","Color of the diff editor's diagonal fill. The diagonal fill is used in side-by-side diff views.")),Gj=y("diffEditor.unchangedRegionBackground","sideBar.background",p("diffEditor.unchangedRegionBackground","The background color of unchanged blocks in the diff editor.")),jj=y("diffEditor.unchangedRegionForeground","foreground",p("diffEditor.unchangedRegionForeground","The foreground color of unchanged blocks in the diff editor.")),Qj=y("diffEditor.unchangedCodeBackground",{dark:"#74747429",light:"#b8b8b829",hcDark:null,hcLight:null},p("diffEditor.unchangedCodeBackground","The background color of unchanged code in the diff editor.")),Mr=y("widget.shadow",{dark:ne(A.black,.36),light:ne(A.black,.16),hcDark:null,hcLight:null},p("widgetShadow","Shadow color of widgets such as find/replace inside the editor.")),Yj=y("widget.border",{dark:null,light:null,hcDark:ve,hcLight:ve},p("widgetBorder","Border color of widgets such as find/replace inside the editor.")),Jg=y("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hcDark:null,hcLight:null},p("toolbarHoverBackground","Toolbar background when hovering over actions using the mouse")),Xj=y("toolbar.hoverOutline",{dark:null,light:null,hcDark:et,hcLight:et},p("toolbarHoverOutline","Toolbar outline when hovering over actions using the mouse")),Jj=y("toolbar.activeBackground",{dark:qt(Jg,.1),light:Qn(Jg,.1),hcDark:null,hcLight:null},p("toolbarActiveBackground","Toolbar background when holding the mouse over actions")),ob=y("breadcrumb.foreground",ne(Te,.8),p("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),rb=y("breadcrumb.background",Td,p("breadcrumbsBackground","Background color of breadcrumb items.")),ap=y("breadcrumb.focusForeground",{light:Qn(Te,.2),dark:qt(Te,.1),hcDark:qt(Te,.1),hcLight:qt(Te,.1)},p("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),sb=y("breadcrumb.activeSelectionForeground",{light:Qn(Te,.2),dark:qt(Te,.1),hcDark:qt(Te,.1),hcLight:qt(Te,.1)},p("breadcrumbsSelectedForeground","Color of selected breadcrumb items.")),Zj=y("breadcrumbPicker.background",At,p("breadcrumbsSelectedBackground","Background color of breadcrumb item picker.")),ab=.5,Zg=A.fromHex("#40C8AE").transparent(ab),eb=A.fromHex("#40A6FF").transparent(ab),tb=A.fromHex("#606060").transparent(.4),lp=.4,_r=1,ep=y("merge.currentHeaderBackground",{dark:Zg,light:Zg,hcDark:null,hcLight:null},p("mergeCurrentHeaderBackground","Current header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),eQ=y("merge.currentContentBackground",ne(ep,lp),p("mergeCurrentContentBackground","Current content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),tp=y("merge.incomingHeaderBackground",{dark:eb,light:eb,hcDark:null,hcLight:null},p("mergeIncomingHeaderBackground","Incoming header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),tQ=y("merge.incomingContentBackground",ne(tp,lp),p("mergeIncomingContentBackground","Incoming content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),np=y("merge.commonHeaderBackground",{dark:tb,light:tb,hcDark:null,hcLight:null},p("mergeCommonHeaderBackground","Common ancestor header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),nQ=y("merge.commonContentBackground",ne(np,lp),p("mergeCommonContentBackground","Common ancestor content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),Cr=y("merge.border",{dark:null,light:null,hcDark:"#C3DF6F",hcLight:"#007ACC"},p("mergeBorder","Border color on headers and the splitter in inline merge-conflicts.")),iQ=y("editorOverviewRuler.currentContentForeground",{dark:ne(ep,_r),light:ne(ep,_r),hcDark:Cr,hcLight:Cr},p("overviewRulerCurrentContentForeground","Current overview ruler foreground for inline merge-conflicts.")),oQ=y("editorOverviewRuler.incomingContentForeground",{dark:ne(tp,_r),light:ne(tp,_r),hcDark:Cr,hcLight:Cr},p("overviewRulerIncomingContentForeground","Incoming overview ruler foreground for inline merge-conflicts.")),rQ=y("editorOverviewRuler.commonContentForeground",{dark:ne(np,_r),light:ne(np,_r),hcDark:Cr,hcLight:Cr},p("overviewRulerCommonContentForeground","Common ancestor overview ruler foreground for inline merge-conflicts.")),sQ=y("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hcDark:"#AB5A00",hcLight:"#AB5A00"},p("overviewRulerFindMatchForeground","Overview ruler marker color for find matches. The color must not be opaque so as not to hide underlying decorations."),!0),aQ=y("editorOverviewRuler.selectionHighlightForeground","#A0A0A0CC",p("overviewRulerSelectionHighlightForeground","Overview ruler marker color for selection highlights. The color must not be opaque so as not to hide underlying decorations."),!0),lb=y("problemsErrorIcon.foreground",op,p("problemsErrorIconForeground","The color used for the problems error icon.")),db=y("problemsWarningIcon.foreground",Lr,p("problemsWarningIconForeground","The color used for the problems warning icon.")),cb=y("problemsInfoIcon.foreground",Ar,p("problemsInfoIconForeground","The color used for the problems info icon."));var ub=y("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hcDark:"#AB5A00",hcLight:"#0F4A85"},p("minimapFindMatchHighlight","Minimap marker color for find matches."),!0),pQ=y("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hcDark:"#ffffff",hcLight:"#0F4A85"},p("minimapSelectionOccurrenceHighlight","Minimap marker color for repeating editor selections."),!0),mQ=y("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hcDark:"#ffffff",hcLight:"#0F4A85"},p("minimapSelectionHighlight","Minimap marker color for the editor selection."),!0),fQ=y("minimap.infoHighlight",{dark:Ar,light:Ar,hcDark:sp,hcLight:sp},p("minimapInfo","Minimap marker color for infos.")),gQ=y("minimap.warningHighlight",{dark:Lr,light:Lr,hcDark:rp,hcLight:rp},p("overviewRuleWarning","Minimap marker color for warnings.")),bQ=y("minimap.errorHighlight",{dark:new A(new be(255,18,18,.7)),light:new A(new be(255,18,18,.7)),hcDark:new A(new be(255,50,50,1)),hcLight:"#B5200D"},p("minimapError","Minimap marker color for errors.")),vQ=y("minimap.background",null,p("minimapBackground","Minimap background color.")),yQ=y("minimap.foregroundOpacity",A.fromHex("#000f"),p("minimapForegroundOpacity",'Opacity of foreground elements rendered in the minimap. For example, "#000000c0" will render the elements with 75% opacity.')),TQ=y("minimapSlider.background",ne(bd,.5),p("minimapSliderBackground","Minimap slider background color.")),IQ=y("minimapSlider.hoverBackground",ne(vd,.5),p("minimapSliderHoverBackground","Minimap slider background color when hovering.")),xQ=y("minimapSlider.activeBackground",ne(yd,.5),p("minimapSliderActiveBackground","Minimap slider background color when clicked on."));var _Q=y("charts.foreground",Te,p("chartsForeground","The foreground color used in charts.")),CQ=y("charts.lines",ne(Te,.5),p("chartsLines","The color used for horizontal lines in charts.")),LQ=y("charts.red",op,p("chartsRed","The red color used in chart visualizations.")),AQ=y("charts.blue",Ar,p("chartsBlue","The blue color used in chart visualizations.")),MQ=y("charts.yellow",Lr,p("chartsYellow","The yellow color used in chart visualizations.")),NQ=y("charts.orange",ub,p("chartsOrange","The orange color used in chart visualizations.")),OQ=y("charts.green",{dark:"#89D185",light:"#388A34",hcDark:"#89D185",hcLight:"#374e06"},p("chartsGreen","The green color used in chart visualizations.")),RQ=y("charts.purple",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},p("chartsPurple","The purple color used in chart visualizations."));var hb=y("input.background",{dark:"#3C3C3C",light:A.white,hcDark:A.black,hcLight:A.white},p("inputBoxBackground","Input box background.")),pb=y("input.foreground",Te,p("inputBoxForeground","Input box foreground.")),mb=y("input.border",{dark:null,light:null,hcDark:ve,hcLight:ve},p("inputBoxBorder","Input box border.")),dp=y("inputOption.activeBorder",{dark:"#007ACC",light:"#007ACC",hcDark:ve,hcLight:ve},p("inputBoxActiveOptionBorder","Border color of activated options in input fields.")),mx=y("inputOption.hoverBackground",{dark:"#5a5d5e80",light:"#b8b8b850",hcDark:null,hcLight:null},p("inputOption.hoverBackground","Background color of activated options in input fields.")),cp=y("inputOption.activeBackground",{dark:ne(Gt,.4),light:ne(Gt,.2),hcDark:A.transparent,hcLight:A.transparent},p("inputOption.activeBackground","Background hover color of options in input fields.")),up=y("inputOption.activeForeground",{dark:A.white,light:A.black,hcDark:Te,hcLight:Te},p("inputOption.activeForeground","Foreground color of activated options in input fields.")),zQ=y("input.placeholderForeground",{light:ne(Te,.5),dark:ne(Te,.5),hcDark:ne(Te,.7),hcLight:ne(Te,.7)},p("inputPlaceholderForeground","Input box foreground color for placeholder text.")),fb=y("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hcDark:A.black,hcLight:A.white},p("inputValidationInfoBackground","Input validation background color for information severity.")),gb=y("inputValidation.infoForeground",{dark:null,light:null,hcDark:null,hcLight:Te},p("inputValidationInfoForeground","Input validation foreground color for information severity.")),bb=y("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hcDark:ve,hcLight:ve},p("inputValidationInfoBorder","Input validation border color for information severity.")),vb=y("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hcDark:A.black,hcLight:A.white},p("inputValidationWarningBackground","Input validation background color for warning severity.")),yb=y("inputValidation.warningForeground",{dark:null,light:null,hcDark:null,hcLight:Te},p("inputValidationWarningForeground","Input validation foreground color for warning severity.")),Tb=y("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hcDark:ve,hcLight:ve},p("inputValidationWarningBorder","Input validation border color for warning severity.")),Ib=y("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hcDark:A.black,hcLight:A.white},p("inputValidationErrorBackground","Input validation background color for error severity.")),xb=y("inputValidation.errorForeground",{dark:null,light:null,hcDark:null,hcLight:Te},p("inputValidationErrorForeground","Input validation foreground color for error severity.")),Sb=y("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hcDark:ve,hcLight:ve},p("inputValidationErrorBorder","Input validation border color for error severity.")),Rr=y("dropdown.background",{dark:"#3C3C3C",light:A.white,hcDark:A.black,hcLight:A.white},p("dropdownBackground","Dropdown background.")),wb=y("dropdown.listBackground",{dark:null,light:null,hcDark:A.black,hcLight:A.white},p("dropdownListBackground","Dropdown list background.")),Ys=y("dropdown.foreground",{dark:"#F0F0F0",light:Te,hcDark:A.white,hcLight:Te},p("dropdownForeground","Dropdown foreground.")),hp=y("dropdown.border",{dark:Rr,light:"#CECECE",hcDark:ve,hcLight:ve},p("dropdownBorder","Dropdown border.")),pp=y("button.foreground",A.white,p("buttonForeground","Button foreground color.")),Eb=y("button.separator",ne(pp,.4),p("buttonSeparator","Button separator color.")),Nr=y("button.background",{dark:"#0E639C",light:"#007ACC",hcDark:null,hcLight:"#0F4A85"},p("buttonBackground","Button background color.")),Db=y("button.hoverBackground",{dark:qt(Nr,.2),light:Qn(Nr,.2),hcDark:Nr,hcLight:Nr},p("buttonHoverBackground","Button background color when hovering.")),kb=y("button.border",ve,p("buttonBorder","Button border color.")),_b=y("button.secondaryForeground",{dark:A.white,light:A.white,hcDark:A.white,hcLight:Te},p("buttonSecondaryForeground","Secondary button foreground color.")),Id=y("button.secondaryBackground",{dark:"#3A3D41",light:"#5F6A79",hcDark:null,hcLight:A.white},p("buttonSecondaryBackground","Secondary button background color.")),Cb=y("button.secondaryHoverBackground",{dark:qt(Id,.2),light:Qn(Id,.2),hcDark:null,hcLight:null},p("buttonSecondaryHoverBackground","Secondary button background color when hovering.")),Or=y("radio.activeForeground",up,p("radioActiveForeground","Foreground color of active radio option.")),Lb=y("radio.activeBackground",cp,p("radioBackground","Background color of active radio option.")),Ab=y("radio.activeBorder",dp,p("radioActiveBorder","Border color of the active radio option.")),Mb=y("radio.inactiveForeground",null,p("radioInactiveForeground","Foreground color of inactive radio option.")),Nb=y("radio.inactiveBackground",null,p("radioInactiveBackground","Background color of inactive radio option.")),Ob=y("radio.inactiveBorder",{light:ne(Or,.2),dark:ne(Or,.2),hcDark:ne(Or,.4),hcLight:ne(Or,.2)},p("radioInactiveBorder","Border color of the inactive radio option.")),Rb=y("radio.inactiveHoverBackground",mx,p("radioHoverBackground","Background color of inactive active radio option when hovering.")),Fb=y("checkbox.background",Rr,p("checkbox.background","Background color of checkbox widget.")),UQ=y("checkbox.selectBackground",At,p("checkbox.select.background","Background color of checkbox widget when the element it's in is selected.")),Pb=y("checkbox.foreground",Ys,p("checkbox.foreground","Foreground color of checkbox widget.")),Bb=y("checkbox.border",hp,p("checkbox.border","Border color of checkbox widget.")),VQ=y("checkbox.selectBorder",js,p("checkbox.select.border","Border color of checkbox widget when the element it's in is selected.")),Hb=y("keybindingLabel.background",{dark:new A(new be(128,128,128,.17)),light:new A(new be(221,221,221,.4)),hcDark:A.transparent,hcLight:A.transparent},p("keybindingLabelBackground","Keybinding label background color. The keybinding label is used to represent a keyboard shortcut.")),Kb=y("keybindingLabel.foreground",{dark:A.fromHex("#CCCCCC"),light:A.fromHex("#555555"),hcDark:A.white,hcLight:Te},p("keybindingLabelForeground","Keybinding label foreground color. The keybinding label is used to represent a keyboard shortcut.")),zb=y("keybindingLabel.border",{dark:new A(new be(51,51,51,.6)),light:new A(new be(204,204,204,.4)),hcDark:new A(new be(111,195,223)),hcLight:ve},p("keybindingLabelBorder","Keybinding label border color. The keybinding label is used to represent a keyboard shortcut.")),Ub=y("keybindingLabel.bottomBorder",{dark:new A(new be(68,68,68,.6)),light:new A(new be(187,187,187,.4)),hcDark:new A(new be(111,195,223)),hcLight:Te},p("keybindingLabelBottomBorder","Keybinding label border bottom color. The keybinding label is used to represent a keyboard shortcut."));var Vb=y("list.focusBackground",null,p("listFocusBackground","List/Tree background color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Wb=y("list.focusForeground",null,p("listFocusForeground","List/Tree foreground color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),$b=y("list.focusOutline",{dark:Gt,light:Gt,hcDark:et,hcLight:et},p("listFocusOutline","List/Tree outline color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),qb=y("list.focusAndSelectionOutline",null,p("listFocusAndSelectionOutline","List/Tree outline color for the focused item when the list/tree is active and selected. An active list/tree has keyboard focus, an inactive does not.")),Yn=y("list.activeSelectionBackground",{dark:"#04395E",light:"#0060C0",hcDark:null,hcLight:A.fromHex("#0F4A85").transparent(.1)},p("listActiveSelectionBackground","List/Tree background color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),io=y("list.activeSelectionForeground",{dark:A.white,light:A.white,hcDark:null,hcLight:null},p("listActiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Sd=y("list.activeSelectionIconForeground",null,p("listActiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Gb=y("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hcDark:null,hcLight:A.fromHex("#0F4A85").transparent(.1)},p("listInactiveSelectionBackground","List/Tree background color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),jb=y("list.inactiveSelectionForeground",null,p("listInactiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Qb=y("list.inactiveSelectionIconForeground",null,p("listInactiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Yb=y("list.inactiveFocusBackground",null,p("listInactiveFocusBackground","List/Tree background color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Xb=y("list.inactiveFocusOutline",null,p("listInactiveFocusOutline","List/Tree outline color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),mp=y("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:A.white.transparent(.1),hcLight:A.fromHex("#0F4A85").transparent(.1)},p("listHoverBackground","List/Tree background when hovering over items using the mouse.")),fp=y("list.hoverForeground",null,p("listHoverForeground","List/Tree foreground when hovering over items using the mouse.")),Jb=y("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hcDark:null,hcLight:null},p("listDropBackground","List/Tree drag and drop background when moving items over other items when using the mouse.")),Zb=y("list.dropBetweenBackground",{dark:js,light:js,hcDark:null,hcLight:null},p("listDropBetweenBackground","List/Tree drag and drop border color when moving items between items when using the mouse.")),xd=y("list.highlightForeground",{dark:"#2AAAFF",light:"#0066BF",hcDark:Gt,hcLight:Gt},p("highlight","List/Tree foreground color of the match highlights when searching inside the list/tree.")),QQ=y("list.focusHighlightForeground",{dark:xd,light:Vg(Yn,xd,"#BBE7FF"),hcDark:xd,hcLight:xd},p("listFocusHighlightForeground","List/Tree foreground color of the match highlights on actively focused items when searching inside the list/tree.")),YQ=y("list.invalidItemForeground",{dark:"#B89500",light:"#B89500",hcDark:"#B89500",hcLight:"#B5200D"},p("invalidItemForeground","List/Tree foreground color for invalid items, for example an unresolved root in explorer.")),XQ=y("list.errorForeground",{dark:"#F88070",light:"#B01011",hcDark:null,hcLight:null},p("listErrorForeground","Foreground color of list items containing errors.")),JQ=y("list.warningForeground",{dark:"#CCA700",light:"#855F00",hcDark:null,hcLight:null},p("listWarningForeground","Foreground color of list items containing warnings.")),ev=y("listFilterWidget.background",{light:Qn(At,0),dark:qt(At,0),hcDark:At,hcLight:At},p("listFilterWidgetBackground","Background color of the type filter widget in lists and trees.")),tv=y("listFilterWidget.outline",{dark:A.transparent,light:A.transparent,hcDark:"#f38518",hcLight:"#007ACC"},p("listFilterWidgetOutline","Outline color of the type filter widget in lists and trees.")),nv=y("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hcDark:ve,hcLight:ve},p("listFilterWidgetNoMatchesOutline","Outline color of the type filter widget in lists and trees, when there are no matches.")),iv=y("listFilterWidget.shadow",Mr,p("listFilterWidgetShadow","Shadow color of the type filter widget in lists and trees.")),ZQ=y("list.filterMatchBackground",{dark:to,light:to,hcDark:null,hcLight:null},p("listFilterMatchHighlight","Background color of the filtered match.")),eY=y("list.filterMatchBorder",{dark:no,light:no,hcDark:ve,hcLight:et},p("listFilterMatchHighlightBorder","Border color of the filtered match.")),tY=y("list.deemphasizedForeground",{dark:"#8C8C8C",light:"#8E8E90",hcDark:"#A7A8A9",hcLight:"#666666"},p("listDeemphasizedForeground","List/Tree foreground color for items that are deemphasized.")),gp=y("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hcDark:"#a9a9a9",hcLight:"#a5a5a5"},p("treeIndentGuidesStroke","Tree stroke color for the indentation guides.")),ov=y("tree.inactiveIndentGuidesStroke",ne(gp,.4),p("treeInactiveIndentGuidesStroke","Tree stroke color for the indentation guides that are not active.")),rv=y("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hcDark:null,hcLight:null},p("tableColumnsBorder","Table border color between columns.")),sv=y("tree.tableOddRowsBackground",{dark:ne(Te,.04),light:ne(Te,.04),hcDark:null,hcLight:null},p("tableOddRowsBackgroundColor","Background color for odd table rows.")),nY=y("editorActionList.background",At,p("editorActionListBackground","Action List background color.")),iY=y("editorActionList.foreground",Po,p("editorActionListForeground","Action List foreground color.")),oY=y("editorActionList.focusForeground",io,p("editorActionListFocusForeground","Action List foreground color for the focused item.")),rY=y("editorActionList.focusBackground",Yn,p("editorActionListFocusBackground","Action List background color for the focused item."));var av=y("menu.border",{dark:null,light:null,hcDark:ve,hcLight:ve},p("menuBorder","Border color of menus.")),lv=y("menu.foreground",Ys,p("menuForeground","Foreground color of menu items.")),dv=y("menu.background",Rr,p("menuBackground","Background color of menu items.")),cv=y("menu.selectionForeground",io,p("menuSelectionForeground","Foreground color of the selected menu item in menus.")),uv=y("menu.selectionBackground",Yn,p("menuSelectionBackground","Background color of the selected menu item in menus.")),hv=y("menu.selectionBorder",{dark:null,light:null,hcDark:et,hcLight:et},p("menuSelectionBorder","Border color of the selected menu item in menus.")),pv=y("menu.separatorBackground",{dark:"#606060",light:"#D4D4D4",hcDark:ve,hcLight:ve},p("menuSeparatorBackground","Color of a separator menu item in menus."));var gY=y("quickInput.background",At,p("pickerBackground","Quick picker background color. The quick picker widget is the container for pickers like the command palette.")),bY=y("quickInput.foreground",Po,p("pickerForeground","Quick picker foreground color. The quick picker widget is the container for pickers like the command palette.")),vY=y("quickInputTitle.background",{dark:new A(new be(255,255,255,.105)),light:new A(new be(0,0,0,.06)),hcDark:"#000000",hcLight:A.white},p("pickerTitleBackground","Quick picker title background color. The quick picker widget is the container for pickers like the command palette.")),fv=y("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hcDark:A.white,hcLight:"#0F4A85"},p("pickerGroupForeground","Quick picker color for grouping labels.")),yY=y("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hcDark:A.white,hcLight:"#0F4A85"},p("pickerGroupBorder","Quick picker color for grouping borders.")),mv=y("quickInput.list.focusBackground",null,"",void 0,p("quickInput.list.focusBackground deprecation","Please use quickInputList.focusBackground instead")),gv=y("quickInputList.focusForeground",io,p("quickInput.listFocusForeground","Quick picker foreground color for the focused item.")),bv=y("quickInputList.focusIconForeground",Sd,p("quickInput.listFocusIconForeground","Quick picker icon foreground color for the focused item.")),vv=y("quickInputList.focusBackground",{dark:Jh(mv,Yn),light:Jh(mv,Yn),hcDark:null,hcLight:null},p("quickInput.listFocusBackground","Quick picker background color for the focused item."));var wY=y("search.resultsInfoForeground",{light:Te,dark:ne(Te,.65),hcDark:Te,hcLight:Te},p("search.resultsInfoForeground","Color of the text in the search viewlet's completion message.")),EY=y("searchEditor.findMatchBackground",{light:ne(to,.66),dark:ne(to,.66),hcDark:to,hcLight:to},p("searchEditor.queryMatch","Color of the Search Editor query matches.")),DY=y("searchEditor.findMatchBorder",{light:ne(no,.66),dark:ne(no,.66),hcDark:no,hcLight:no},p("searchEditor.editorFindMatchBorder","Border color of the Search Editor query matches."));function fx(i,e){let t={...e};for(let n in i){let o=i[n];t[n]=o!==void 0?N(o):void 0}return t}var _J={keybindingLabelBackground:N(Hb),keybindingLabelForeground:N(Kb),keybindingLabelBorder:N(zb),keybindingLabelBottomBorder:N(Ub),keybindingLabelShadow:N(Mr)};var CJ={buttonForeground:N(pp),buttonSeparator:N(Eb),buttonBackground:N(Nr),buttonHoverBackground:N(Db),buttonSecondaryForeground:N(_b),buttonSecondaryBackground:N(Id),buttonSecondaryHoverBackground:N(Cb),buttonBorder:N(kb)};var LJ={progressBarBackground:N(jg)};var gx={inputActiveOptionBorder:N(dp),inputActiveOptionForeground:N(up),inputActiveOptionBackground:N(cp)},AJ={activeForeground:N(Or),activeBackground:N(Lb),activeBorder:N(Ab),inactiveForeground:N(Mb),inactiveBackground:N(Nb),inactiveBorder:N(Ob),inactiveHoverBackground:N(Rb)};var MJ={checkboxBackground:N(Fb),checkboxBorder:N(Bb),checkboxForeground:N(Pb)};var NJ={dialogBackground:N(At),dialogForeground:N(Po),dialogShadow:N(Mr),dialogBorder:N(ve),errorIconForeground:N(lb),warningIconForeground:N(db),infoIconForeground:N(cb),textLinkForeground:N(qg)};var bx={inputBackground:N(hb),inputForeground:N(pb),inputBorder:N(mb),inputValidationInfoBorder:N(bb),inputValidationInfoBackground:N(fb),inputValidationInfoForeground:N(gb),inputValidationWarningBorder:N(Tb),inputValidationWarningBackground:N(vb),inputValidationWarningForeground:N(yb),inputValidationErrorBorder:N(Sb),inputValidationErrorBackground:N(Ib),inputValidationErrorForeground:N(xb)};var yv={listFilterWidgetBackground:N(ev),listFilterWidgetOutline:N(tv),listFilterWidgetNoMatchesOutline:N(nv),listFilterWidgetShadow:N(iv),inputBoxStyles:bx,toggleStyles:gx},OJ={badgeBackground:N(Dr),badgeForeground:N(Gg),badgeBorder:N(ve)};var RJ={breadcrumbsBackground:N(rb),breadcrumbsForeground:N(ob),breadcrumbsHoverForeground:N(ap),breadcrumbsFocusForeground:N(ap),breadcrumbsFocusAndSelectionForeground:N(sb)};var Fr={listBackground:void 0,listInactiveFocusForeground:void 0,listFocusBackground:N(Vb),listFocusForeground:N(Wb),listFocusOutline:N($b),listActiveSelectionBackground:N(Yn),listActiveSelectionForeground:N(io),listActiveSelectionIconForeground:N(Sd),listFocusAndSelectionOutline:N(qb),listFocusAndSelectionBackground:N(Yn),listFocusAndSelectionForeground:N(io),listInactiveSelectionBackground:N(Gb),listInactiveSelectionIconForeground:N(Qb),listInactiveSelectionForeground:N(jb),listInactiveFocusBackground:N(Yb),listInactiveFocusOutline:N(Xb),listHoverBackground:N(mp),listHoverForeground:N(fp),listDropOverBackground:N(Jb),listDropBetweenBackground:N(Zb),listSelectionOutline:N(et),listHoverOutline:N(et),treeIndentGuidesStroke:N(gp),treeInactiveIndentGuidesStroke:N(ov),treeStickyScrollBackground:void 0,treeStickyScrollBorder:void 0,treeStickyScrollShadow:N(Qs),tableColumnsBorder:N(rv),tableOddRowsBackgroundColor:N(sv)};function Xs(i){return fx(i,Fr)}var FJ={selectBackground:N(Rr),selectListBackground:N(wb),selectForeground:N(Ys),decoratorRightForeground:N(fv),selectBorder:N(hp),focusBorder:N(Gt),listFocusBackground:N(vv),listInactiveSelectionIconForeground:N(bv),listFocusForeground:N(gv),listFocusOutline:Ug(et,A.transparent.toString()),listHoverBackground:N(mp),listHoverForeground:N(fp),listHoverOutline:N(et),selectListBorder:N(ip),listBackground:void 0,listActiveSelectionBackground:void 0,listActiveSelectionForeground:void 0,listActiveSelectionIconForeground:void 0,listFocusAndSelectionBackground:void 0,listDropOverBackground:void 0,listDropBetweenBackground:void 0,listInactiveSelectionBackground:void 0,listInactiveSelectionForeground:void 0,listInactiveFocusBackground:void 0,listInactiveFocusOutline:void 0,listSelectionOutline:void 0,listFocusAndSelectionForeground:void 0,listFocusAndSelectionOutline:void 0,listInactiveFocusForeground:void 0,tableColumnsBorder:void 0,tableOddRowsBackgroundColor:void 0,treeIndentGuidesStroke:void 0,treeInactiveIndentGuidesStroke:void 0,treeStickyScrollBackground:void 0,treeStickyScrollBorder:void 0,treeStickyScrollShadow:void 0};var PJ={shadowColor:N(Mr),borderColor:N(av),foregroundColor:N(lv),backgroundColor:N(dv),selectionForegroundColor:N(cv),selectionBackgroundColor:N(uv),selectionBorderColor:N(hv),separatorColor:N(pv),scrollbarShadow:N(Qs),scrollbarSliderBackground:N(bd),scrollbarSliderHoverBackground:N(vd),scrollbarSliderActiveBackground:N(yd)};var bi=Re("listService");var Js=new Ae("listScrollAtBoundary","none"),oee=ze.or(Js.isEqualTo("top"),Js.isEqualTo("both")),ree=ze.or(Js.isEqualTo("bottom"),Js.isEqualTo("both")),Tv=new Ae("listFocus",!0),Iv=new Ae("treestickyScrollFocused",!1),Bd=new Ae("listSupportsMultiselect",!0),see=ze.and(Tv,ze.not($h),Iv.negate()),Tp=new Ae("listHasSelectionOrFocus",!1),Ip=new Ae("listDoubleSelection",!1),xp=new Ae("listMultiSelection",!1),Hd=new Ae("listSelectionNavigation",!1),vx=new Ae("listSupportsFind",!0),yx=new Ae("treeElementCanCollapse",!1),Tx=new Ae("treeElementHasParent",!1),Ix=new Ae("treeElementCanExpand",!1),xx=new Ae("treeElementHasChild",!1),Sx=new Ae("treeFindOpen",!1),xv="listTypeNavigationMode",Sv="listAutomaticKeyboardNavigation";function Kd(i,e){let t=i.createScoped(e.getHTMLElement());return Tv.bindTo(t),t}function zd(i,e){let t=Js.bindTo(i),n=()=>{let o=e.scrollTop===0,r=e.scrollHeight-e.renderHeight-e.scrollTop<1;o&&r?t.set("both"):o?t.set("top"):r?t.set("bottom"):t.set("none")};return n(),e.onDidScroll(n)}var Bo="workbench.list.multiSelectModifier",Ad="workbench.list.openMode",nn="workbench.list.horizontalScrolling",Sp="workbench.list.defaultFindMode",wp="workbench.list.typeNavigationMode",Md="workbench.list.keyboardNavigation",Dn="workbench.list.scrollByPage",Ep="workbench.list.defaultFindMatchType",Zs="workbench.tree.indent",Nd="workbench.tree.renderIndentGuides",kn="workbench.list.smoothScrolling",Xn="workbench.list.mouseWheelScrollSensitivity",Jn="workbench.list.fastScrollSensitivity",Od="workbench.tree.expandMode",Rd="workbench.tree.enableStickyScroll",Fd="workbench.tree.stickyScrollMaxItemCount";function Zn(i){return i.getValue(Bo)==="alt"}var bp=class extends V{constructor(t){super();this.configurationService=t;this.useAltAsMultipleSelectionModifier=Zn(t),this.registerListeners()}useAltAsMultipleSelectionModifier;registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(t=>{t.affectsConfiguration(Bo)&&(this.useAltAsMultipleSelectionModifier=Zn(this.configurationService))}))}isSelectionSingleChangeEvent(t){return this.useAltAsMultipleSelectionModifier?t.browserEvent.altKey:qu(t)}isSelectionRangeChangeEvent(t){return Gu(t)}};function Ud(i,e){let t=i.get(Ct),n=i.get(Og),o=new W;return[{...e,keyboardNavigationDelegate:{mightProducePrintableCharacter(s){return n.mightProducePrintableCharacter(s)}},smoothScrolling:!!t.getValue(kn),mouseWheelScrollSensitivity:t.getValue(Xn),fastScrollSensitivity:t.getValue(Jn),multipleSelectionController:e.multipleSelectionController??o.add(new bp(t)),keyboardNavigationEventFilter:wx(n),scrollByPage:!!t.getValue(Dn)},o]}var wd=class extends mt{contextKeyService;listSupportsMultiSelect;listHasSelectionOrFocus;listDoubleSelection;listMultiSelection;horizontalScrolling;_useAltAsMultipleSelectionModifier;navigator;get onDidOpen(){return this.navigator.onDidOpen}constructor(e,t,n,o,r,s,a,l,d){let u=typeof r.horizontalScrolling<"u"?r.horizontalScrolling:!!l.getValue(nn),[h,f]=d.invokeFunction(Ud,r);super(e,t,n,o,{keyboardSupport:!1,...h,horizontalScrolling:u}),this.disposables.add(f),this.contextKeyService=Kd(s,this),this.disposables.add(zd(this.contextKeyService,this)),this.listSupportsMultiSelect=Bd.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(r.multipleSelectionSupport!==!1),Hd.bindTo(this.contextKeyService).set(!!r.selectionNavigation),this.listHasSelectionOrFocus=Tp.bindTo(this.contextKeyService),this.listDoubleSelection=Ip.bindTo(this.contextKeyService),this.listMultiSelection=xp.bindTo(this.contextKeyService),this.horizontalScrolling=r.horizontalScrolling,this._useAltAsMultipleSelectionModifier=Zn(l),this.disposables.add(this.contextKeyService),this.disposables.add(a.register(this)),this.updateStyles(r.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{let w=this.getSelection(),v=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(w.length>0||v.length>0),this.listMultiSelection.set(w.length>1),this.listDoubleSelection.set(w.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{let w=this.getSelection(),v=this.getFocus();this.listHasSelectionOrFocus.set(w.length>0||v.length>0)})),this.disposables.add(l.onDidChangeConfiguration(w=>{w.affectsConfiguration(Bo)&&(this._useAltAsMultipleSelectionModifier=Zn(l));let v={};if(w.affectsConfiguration(nn)&&this.horizontalScrolling===void 0){let E=!!l.getValue(nn);v={...v,horizontalScrolling:E}}if(w.affectsConfiguration(Dn)){let E=!!l.getValue(Dn);v={...v,scrollByPage:E}}if(w.affectsConfiguration(kn)){let E=!!l.getValue(kn);v={...v,smoothScrolling:E}}if(w.affectsConfiguration(Xn)){let E=l.getValue(Xn);v={...v,mouseWheelScrollSensitivity:E}}if(w.affectsConfiguration(Jn)){let E=l.getValue(Jn);v={...v,fastScrollSensitivity:E}}Object.keys(v).length>0&&this.updateOptions(v)})),this.navigator=new Pd(this,{configurationService:l,...r}),this.disposables.add(this.navigator)}updateOptions(e){super.updateOptions(e),e.overrideStyles!==void 0&&this.updateStyles(e.overrideStyles),e.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyles(e){this.style(e?Xs(e):Fr)}get useAltAsMultipleSelectionModifier(){return this._useAltAsMultipleSelectionModifier}};wd=ie([ue(5,tn),ue(6,bi),ue(7,Ct),ue(8,un)],wd);var Ed=class extends Ul{contextKeyService;disposables;listSupportsMultiSelect;_useAltAsMultipleSelectionModifier;horizontalScrolling;navigator;get onDidOpen(){return this.navigator.onDidOpen}constructor(e,t,n,o,r,s,a,l,d){let u=typeof r.horizontalScrolling<"u"?r.horizontalScrolling:!!l.getValue(nn),[h,f]=d.invokeFunction(Ud,r);super(e,t,n,o,{keyboardSupport:!1,...h,horizontalScrolling:u}),this.disposables=new W,this.disposables.add(f),this.contextKeyService=Kd(s,this),this.disposables.add(zd(this.contextKeyService,this.widget)),this.horizontalScrolling=r.horizontalScrolling,this.listSupportsMultiSelect=Bd.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(r.multipleSelectionSupport!==!1),Hd.bindTo(this.contextKeyService).set(!!r.selectionNavigation),this._useAltAsMultipleSelectionModifier=Zn(l),this.disposables.add(this.contextKeyService),this.disposables.add(a.register(this)),this.updateStyles(r.overrideStyles),this.disposables.add(l.onDidChangeConfiguration(w=>{w.affectsConfiguration(Bo)&&(this._useAltAsMultipleSelectionModifier=Zn(l));let v={};if(w.affectsConfiguration(nn)&&this.horizontalScrolling===void 0){let E=!!l.getValue(nn);v={...v,horizontalScrolling:E}}if(w.affectsConfiguration(Dn)){let E=!!l.getValue(Dn);v={...v,scrollByPage:E}}if(w.affectsConfiguration(kn)){let E=!!l.getValue(kn);v={...v,smoothScrolling:E}}if(w.affectsConfiguration(Xn)){let E=l.getValue(Xn);v={...v,mouseWheelScrollSensitivity:E}}if(w.affectsConfiguration(Jn)){let E=l.getValue(Jn);v={...v,fastScrollSensitivity:E}}Object.keys(v).length>0&&this.updateOptions(v)})),this.navigator=new Pd(this,{configurationService:l,...r}),this.disposables.add(this.navigator)}updateOptions(e){super.updateOptions(e),e.overrideStyles!==void 0&&this.updateStyles(e.overrideStyles),e.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyles(e){this.style(e?Xs(e):Fr)}get useAltAsMultipleSelectionModifier(){return this._useAltAsMultipleSelectionModifier}dispose(){this.disposables.dispose(),super.dispose()}};Ed=ie([ue(5,tn),ue(6,bi),ue(7,Ct),ue(8,un)],Ed);var Dd=class extends ql{contextKeyService;listSupportsMultiSelect;listHasSelectionOrFocus;listDoubleSelection;listMultiSelection;horizontalScrolling;_useAltAsMultipleSelectionModifier;navigator;get onDidOpen(){return this.navigator.onDidOpen}constructor(e,t,n,o,r,s,a,l,d,u){let h=typeof s.horizontalScrolling<"u"?s.horizontalScrolling:!!d.getValue(nn),[f,T]=u.invokeFunction(Ud,s);super(e,t,n,o,r,{keyboardSupport:!1,...f,horizontalScrolling:h}),this.disposables.add(T),this.contextKeyService=Kd(a,this),this.disposables.add(zd(this.contextKeyService,this)),this.listSupportsMultiSelect=Bd.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(s.multipleSelectionSupport!==!1),Hd.bindTo(this.contextKeyService).set(!!s.selectionNavigation),this.listHasSelectionOrFocus=Tp.bindTo(this.contextKeyService),this.listDoubleSelection=Ip.bindTo(this.contextKeyService),this.listMultiSelection=xp.bindTo(this.contextKeyService),this.horizontalScrolling=s.horizontalScrolling,this._useAltAsMultipleSelectionModifier=Zn(d),this.disposables.add(this.contextKeyService),this.disposables.add(l.register(this)),this.updateStyles(s.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{let v=this.getSelection(),E=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(v.length>0||E.length>0),this.listMultiSelection.set(v.length>1),this.listDoubleSelection.set(v.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{let v=this.getSelection(),E=this.getFocus();this.listHasSelectionOrFocus.set(v.length>0||E.length>0)})),this.disposables.add(d.onDidChangeConfiguration(v=>{v.affectsConfiguration(Bo)&&(this._useAltAsMultipleSelectionModifier=Zn(d));let E={};if(v.affectsConfiguration(nn)&&this.horizontalScrolling===void 0){let P=!!d.getValue(nn);E={...E,horizontalScrolling:P}}if(v.affectsConfiguration(Dn)){let P=!!d.getValue(Dn);E={...E,scrollByPage:P}}if(v.affectsConfiguration(kn)){let P=!!d.getValue(kn);E={...E,smoothScrolling:P}}if(v.affectsConfiguration(Xn)){let P=d.getValue(Xn);E={...E,mouseWheelScrollSensitivity:P}}if(v.affectsConfiguration(Jn)){let P=d.getValue(Jn);E={...E,fastScrollSensitivity:P}}Object.keys(E).length>0&&this.updateOptions(E)})),this.navigator=new vp(this,{configurationService:d,...s}),this.disposables.add(this.navigator)}updateOptions(e){super.updateOptions(e),e.overrideStyles!==void 0&&this.updateStyles(e.overrideStyles),e.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyles(e){this.style(e?Xs(e):Fr)}get useAltAsMultipleSelectionModifier(){return this._useAltAsMultipleSelectionModifier}dispose(){this.disposables.dispose(),super.dispose()}};Dd=ie([ue(6,tn),ue(7,bi),ue(8,Ct),ue(9,un)],Dd);var ea=class extends V{constructor(t,n){super();this.widget=t;this._register(_.filter(this.widget.onDidChangeSelection,o=>zn(o.browserEvent))(o=>this.onSelectionFromKeyboard(o))),this._register(this.widget.onPointer(o=>this.onPointer(o.element,o.browserEvent))),this._register(this.widget.onMouseDblClick(o=>this.onMouseDblClick(o.element,o.browserEvent))),typeof n?.openOnSingleClick!="boolean"&&n?.configurationService?(this.openOnSingleClick=n?.configurationService.getValue(Ad)!=="doubleClick",this._register(n?.configurationService.onDidChangeConfiguration(o=>{o.affectsConfiguration(Ad)&&(this.openOnSingleClick=n?.configurationService.getValue(Ad)!=="doubleClick")}))):this.openOnSingleClick=n?.openOnSingleClick??!0}openOnSingleClick;_onDidOpen=this._register(new k);onDidOpen=this._onDidOpen.event;onSelectionFromKeyboard(t){if(t.elements.length!==1)return;let n=t.browserEvent,o=typeof n.preserveFocus=="boolean"?n.preserveFocus:!0,r=typeof n.pinned=="boolean"?n.pinned:!o;this._open(this.getSelectedElement(),o,r,!1,t.browserEvent)}onPointer(t,n){if(!this.openOnSingleClick||n.detail===2)return;let r=n.button===1,s=!0,a=r,l=n.ctrlKey||n.metaKey||n.altKey;this._open(t,s,a,l,n)}onMouseDblClick(t,n){if(!n)return;let o=n.target;if(o.classList.contains("monaco-tl-twistie")||o.classList.contains("monaco-icon-label")&&o.classList.contains("folder-icon")&&n.offsetX<16)return;let s=!1,a=!0,l=n.ctrlKey||n.metaKey||n.altKey;this._open(t,s,a,l,n)}_open(t,n,o,r,s){t&&this._onDidOpen.fire({editorOptions:{preserveFocus:n,pinned:o,revealIfVisible:!0},sideBySide:r,element:t,browserEvent:s})}},Pd=class extends ea{widget;constructor(e,t){super(e,t),this.widget=e}getSelectedElement(){return this.widget.getSelectedElements()[0]}},vp=class extends ea{constructor(e,t){super(e,t)}getSelectedElement(){return this.widget.getSelectedElements()[0]}},yp=class extends ea{constructor(e,t){super(e,t)}getSelectedElement(){return this.widget.getSelection()[0]??void 0}};function wx(i){let e=!1;return t=>{if(t.toKeyCodeChord().isModifierKey())return!1;if(e)return e=!1,!1;let n=i.softDispatch(t,t.target);return n.kind===1?(e=!0,!1):(e=!1,n.kind===0)}}var Pr=class extends _o{internals;get contextKeyService(){return this.internals.contextKeyService}get useAltAsMultipleSelectionModifier(){return this.internals.useAltAsMultipleSelectionModifier}get onDidOpen(){return this.internals.onDidOpen}constructor(e,t,n,o,r,s,a,l,d){let{options:u,getTypeNavigationMode:h,disposable:f}=s.invokeFunction(ta,r);super(e,t,n,o,u),this.disposables.add(f),this.internals=new gi(this,r,h,r.overrideStyles,a,l,d),this.disposables.add(this.internals)}updateOptions(e){super.updateOptions(e),this.internals.updateOptions(e)}};Pr=ie([ue(5,un),ue(6,tn),ue(7,bi),ue(8,Ct)],Pr);var kd=class extends Sr{internals;get contextKeyService(){return this.internals.contextKeyService}get useAltAsMultipleSelectionModifier(){return this.internals.useAltAsMultipleSelectionModifier}get onDidOpen(){return this.internals.onDidOpen}constructor(e,t,n,o,r,s,a,l,d){let{options:u,getTypeNavigationMode:h,disposable:f}=s.invokeFunction(ta,r);super(e,t,n,o,u),this.disposables.add(f),this.internals=new gi(this,r,h,r.overrideStyles,a,l,d),this.disposables.add(this.internals)}updateOptions(e={}){super.updateOptions(e),e.overrideStyles&&this.internals.updateStyleOverrides(e.overrideStyles),this.internals.updateOptions(e)}};kd=ie([ue(5,un),ue(6,tn),ue(7,bi),ue(8,Ct)],kd);var _d=class extends od{internals;get contextKeyService(){return this.internals.contextKeyService}get useAltAsMultipleSelectionModifier(){return this.internals.useAltAsMultipleSelectionModifier}get onDidOpen(){return this.internals.onDidOpen}constructor(e,t,n,o,r,s,a,l,d,u){let{options:h,getTypeNavigationMode:f,disposable:T}=a.invokeFunction(ta,s);super(e,t,n,o,r,h),this.disposables.add(T),this.internals=new gi(this,s,f,s.overrideStyles,l,d,u),this.disposables.add(this.internals)}updateOptions(e={}){super.updateOptions(e),e.overrideStyles!==void 0&&this.internals.updateStyleOverrides(e.overrideStyles),this.internals.updateOptions(e)}};_d=ie([ue(6,un),ue(7,tn),ue(8,bi),ue(9,Ct)],_d);var Cd=class extends Os{internals;get contextKeyService(){return this.internals.contextKeyService}get useAltAsMultipleSelectionModifier(){return this.internals.useAltAsMultipleSelectionModifier}get onDidOpen(){return this.internals.onDidOpen}constructor(e,t,n,o,r,s,a,l,d,u){let{options:h,getTypeNavigationMode:f,disposable:T}=a.invokeFunction(ta,s);super(e,t,n,o,r,h),this.disposables.add(T),this.internals=new gi(this,s,f,s.overrideStyles,l,d,u),this.disposables.add(this.internals)}updateOptions(e={}){super.updateOptions(e),e.overrideStyles&&this.internals.updateStyleOverrides(e.overrideStyles),this.internals.updateOptions(e)}};Cd=ie([ue(6,un),ue(7,tn),ue(8,bi),ue(9,Ct)],Cd);var Ld=class extends id{internals;get contextKeyService(){return this.internals.contextKeyService}get useAltAsMultipleSelectionModifier(){return this.internals.useAltAsMultipleSelectionModifier}get onDidOpen(){return this.internals.onDidOpen}constructor(e,t,n,o,r,s,a,l,d,u,h){let{options:f,getTypeNavigationMode:T,disposable:w}=l.invokeFunction(ta,a);super(e,t,n,o,r,s,f),this.disposables.add(w),this.internals=new gi(this,a,T,a.overrideStyles,d,u,h),this.disposables.add(this.internals)}updateOptions(e){super.updateOptions(e),this.internals.updateOptions(e)}};Ld=ie([ue(7,un),ue(8,tn),ue(9,bi),ue(10,Ct)],Ld);function wv(i){let e=i.getValue(Sp);if(e==="highlight")return 0;if(e==="filter")return 1;let t=i.getValue(Md);if(t==="simple"||t==="highlight")return 0;if(t==="filter")return 1}function Ev(i){let e=i.getValue(Ep);if(e==="fuzzy")return 0;if(e==="contiguous")return 1}function ta(i,e){let t=i.get(Ct),n=i.get(Ng),o=i.get(tn),r=i.get(un),s=()=>{let f=o.getContextKeyValue(xv);if(f==="automatic")return 0;if(f==="trigger")return 1;if(o.getContextKeyValue(Sv)===!1)return 1;let w=t.getValue(wp);if(w==="automatic")return 0;if(w==="trigger")return 1},a=e.horizontalScrolling!==void 0?e.horizontalScrolling:!!t.getValue(nn),[l,d]=r.invokeFunction(Ud,e),u=e.paddingBottom,h=e.renderIndentGuides!==void 0?e.renderIndentGuides:t.getValue(Nd);return{getTypeNavigationMode:s,disposable:d,options:{keyboardSupport:!1,...l,indent:typeof t.getValue(Zs)=="number"?t.getValue(Zs):void 0,renderIndentGuides:h,smoothScrolling:!!t.getValue(kn),defaultFindMode:wv(t),defaultFindMatchType:Ev(t),horizontalScrolling:a,scrollByPage:!!t.getValue(Dn),paddingBottom:u,hideTwistiesOfChildlessElements:e.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:e.expandOnlyOnTwistieClick??t.getValue(Od)==="doubleClick",contextViewProvider:n,findWidgetStyles:yv,enableStickyScroll:!!t.getValue(Rd),stickyScrollMaxItemCount:Number(t.getValue(Fd))}}}var gi=class{constructor(e,t,n,o,r,s,a){this.tree=e;this.contextKeyService=Kd(r,e),this.disposables.push(zd(this.contextKeyService,e)),this.listSupportsMultiSelect=Bd.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(t.multipleSelectionSupport!==!1),Hd.bindTo(this.contextKeyService).set(!!t.selectionNavigation),this.listSupportFindWidget=vx.bindTo(this.contextKeyService),this.listSupportFindWidget.set(t.findWidgetEnabled??!0),this.hasSelectionOrFocus=Tp.bindTo(this.contextKeyService),this.hasDoubleSelection=Ip.bindTo(this.contextKeyService),this.hasMultiSelection=xp.bindTo(this.contextKeyService),this.treeElementCanCollapse=yx.bindTo(this.contextKeyService),this.treeElementHasParent=Tx.bindTo(this.contextKeyService),this.treeElementCanExpand=Ix.bindTo(this.contextKeyService),this.treeElementHasChild=xx.bindTo(this.contextKeyService),this.treeFindOpen=Sx.bindTo(this.contextKeyService),this.treeStickyScrollFocused=Iv.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=Zn(a),this.updateStyleOverrides(o);let d=()=>{let h=e.getFocus()[0];if(!h)return;let f=e.getNode(h);this.treeElementCanCollapse.set(f.collapsible&&!f.collapsed),this.treeElementHasParent.set(!!e.getParentElement(h)),this.treeElementCanExpand.set(f.collapsible&&f.collapsed),this.treeElementHasChild.set(!!e.getFirstElementChild(h))},u=new Set;u.add(xv),u.add(Sv),this.disposables.push(this.contextKeyService,s.register(e),e.onDidChangeSelection(()=>{let h=e.getSelection(),f=e.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.hasSelectionOrFocus.set(h.length>0||f.length>0),this.hasMultiSelection.set(h.length>1),this.hasDoubleSelection.set(h.length===2)})}),e.onDidChangeFocus(()=>{let h=e.getSelection(),f=e.getFocus();this.hasSelectionOrFocus.set(h.length>0||f.length>0),d()}),e.onDidChangeCollapseState(d),e.onDidChangeModel(d),e.onDidChangeFindOpenState(h=>this.treeFindOpen.set(h)),e.onDidChangeStickyScrollFocused(h=>this.treeStickyScrollFocused.set(h)),a.onDidChangeConfiguration(h=>{let f={};if(h.affectsConfiguration(Bo)&&(this._useAltAsMultipleSelectionModifier=Zn(a)),h.affectsConfiguration(Zs)){let T=a.getValue(Zs);f={...f,indent:T}}if(h.affectsConfiguration(Nd)&&t.renderIndentGuides===void 0){let T=a.getValue(Nd);f={...f,renderIndentGuides:T}}if(h.affectsConfiguration(kn)){let T=!!a.getValue(kn);f={...f,smoothScrolling:T}}if(h.affectsConfiguration(Sp)||h.affectsConfiguration(Md)){let T=wv(a);f={...f,defaultFindMode:T}}if(h.affectsConfiguration(wp)||h.affectsConfiguration(Md)){let T=n();f={...f,typeNavigationMode:T}}if(h.affectsConfiguration(Ep)){let T=Ev(a);f={...f,defaultFindMatchType:T}}if(h.affectsConfiguration(nn)&&t.horizontalScrolling===void 0){let T=!!a.getValue(nn);f={...f,horizontalScrolling:T}}if(h.affectsConfiguration(Dn)){let T=!!a.getValue(Dn);f={...f,scrollByPage:T}}if(h.affectsConfiguration(Od)&&t.expandOnlyOnTwistieClick===void 0&&(f={...f,expandOnlyOnTwistieClick:a.getValue(Od)==="doubleClick"}),h.affectsConfiguration(Rd)){let T=a.getValue(Rd);f={...f,enableStickyScroll:T}}if(h.affectsConfiguration(Fd)){let T=Math.max(1,a.getValue(Fd));f={...f,stickyScrollMaxItemCount:T}}if(h.affectsConfiguration(Xn)){let T=a.getValue(Xn);f={...f,mouseWheelScrollSensitivity:T}}if(h.affectsConfiguration(Jn)){let T=a.getValue(Jn);f={...f,fastScrollSensitivity:T}}Object.keys(f).length>0&&e.updateOptions(f)}),this.contextKeyService.onDidChangeContext(h=>{h.affectsSome(u)&&e.updateOptions({typeNavigationMode:n()})})),this.navigator=new yp(e,{configurationService:a,...t}),this.disposables.push(this.navigator)}contextKeyService;listSupportsMultiSelect;listSupportFindWidget;hasSelectionOrFocus;hasDoubleSelection;hasMultiSelection;treeElementCanCollapse;treeElementHasParent;treeElementCanExpand;treeElementHasChild;treeFindOpen;treeStickyScrollFocused;_useAltAsMultipleSelectionModifier;disposables=[];navigator;get onDidOpen(){return this.navigator.onDidOpen}get useAltAsMultipleSelectionModifier(){return this._useAltAsMultipleSelectionModifier}updateOptions(e){e.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyleOverrides(e){this.tree.style(e?Xs(e):Fr)}dispose(){this.disposables=je(this.disposables)}};gi=ie([ue(4,tn),ue(5,bi),ue(6,Ct)],gi);var Ex=gt.as(zh.Configuration);Ex.registerConfiguration({id:"workbench",order:7,title:p("workbenchConfigurationTitle","Workbench"),type:"object",properties:{[Bo]:{type:"string",enum:["ctrlCmd","alt"],markdownEnumDescriptions:[p("multiSelectModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),p("multiSelectModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],default:"ctrlCmd",description:p({key:"multiSelectModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add an item in trees and lists to a multi-selection with the mouse (for example in the explorer, open editors and scm view). The 'Open to Side' mouse gestures - if supported - will adapt such that they do not conflict with the multiselect modifier.")},[Ad]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:p({key:"openModeModifier",comment:["`singleClick` and `doubleClick` refers to a value the setting can take and should not be localized."]},"Controls how to open items in trees and lists using the mouse (if supported). Note that some trees and lists might choose to ignore this setting if it is not applicable.")},[nn]:{type:"boolean",default:!1,description:p("horizontalScrolling setting","Controls whether lists and trees support horizontal scrolling in the workbench. Warning: turning on this setting has a performance implication.")},[Dn]:{type:"boolean",default:!1,description:p("list.scrollByPage","Controls whether clicks in the scrollbar scroll page by page.")},[Zs]:{type:"number",default:8,minimum:4,maximum:40,description:p("tree indent setting","Controls tree indentation in pixels.")},[Nd]:{type:"string",enum:["none","onHover","always"],default:"onHover",description:p("render tree indent guides","Controls whether the tree should render indent guides.")},[kn]:{type:"boolean",default:!1,description:p("list smoothScrolling setting","Controls whether lists and trees have smooth scrolling.")},[Xn]:{type:"number",default:1,markdownDescription:p("Mouse Wheel Scroll Sensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")},[Jn]:{type:"number",default:5,markdownDescription:p("Fast Scroll Sensitivity","Scrolling speed multiplier when pressing `Alt`.")},[Sp]:{type:"string",enum:["highlight","filter"],enumDescriptions:[p("defaultFindModeSettingKey.highlight","Highlight elements when searching. Further up and down navigation will traverse only the highlighted elements."),p("defaultFindModeSettingKey.filter","Filter elements when searching.")],default:"highlight",description:p("defaultFindModeSettingKey","Controls the default find mode for lists and trees in the workbench.")},[Md]:{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[p("keyboardNavigationSettingKey.simple","Simple keyboard navigation focuses elements which match the keyboard input. Matching is done only on prefixes."),p("keyboardNavigationSettingKey.highlight","Highlight keyboard navigation highlights elements which match the keyboard input. Further up and down navigation will traverse only the highlighted elements."),p("keyboardNavigationSettingKey.filter","Filter keyboard navigation will filter out and hide all the elements which do not match the keyboard input.")],default:"highlight",description:p("keyboardNavigationSettingKey","Controls the keyboard navigation style for lists and trees in the workbench. Can be simple, highlight and filter."),deprecated:!0,deprecationMessage:p("keyboardNavigationSettingKeyDeprecated","Please use 'workbench.list.defaultFindMode' and	'workbench.list.typeNavigationMode' instead.")},[Ep]:{type:"string",enum:["fuzzy","contiguous"],enumDescriptions:[p("defaultFindMatchTypeSettingKey.fuzzy","Use fuzzy matching when searching."),p("defaultFindMatchTypeSettingKey.contiguous","Use contiguous matching when searching.")],default:"fuzzy",description:p("defaultFindMatchTypeSettingKey","Controls the type of matching used when searching lists and trees in the workbench.")},[Od]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:p("expand mode","Controls how tree folders are expanded when clicking the folder names. Note that some trees and lists might choose to ignore this setting if it is not applicable.")},[Rd]:{type:"boolean",default:!0,description:p("sticky scroll","Controls whether sticky scrolling is enabled in trees.")},[Fd]:{type:"number",minimum:1,default:7,markdownDescription:p("sticky scroll maximum items","Controls the number of sticky elements displayed in the tree when {0} is enabled.","`#workbench.tree.enableStickyScroll#`")},[wp]:{type:"string",enum:["automatic","trigger"],default:"automatic",markdownDescription:p("typeNavigationMode2","Controls how type navigation works in lists and trees in the workbench. When set to `trigger`, type navigation begins once the `list.triggerTypeNavigation` command is run.")}}});var oo=class i extends V{constructor(t,n){super();this.options=n;this.supportIcons=n?.supportIcons??!1,this.domNode=ee(t,Z("span.monaco-highlighted-label"))}domNode;text="";title="";highlights=[];supportIcons;didEverRender=!1;customHover;get element(){return this.domNode}set(t,n=[],o="",r){t||(t=""),r&&(t=i.escapeNewLines(t,n)),!(this.didEverRender&&this.text===t&&this.title===o&&$t(this.highlights,n))&&(this.text=t,this.title=o,this.highlights=n,this.render())}render(){let t=[],n=0;for(let o of this.highlights){if(o.end===o.start)continue;if(n<o.start){let a=this.text.substring(n,o.start);this.supportIcons?t.push(...ji(a)):t.push(a),n=o.start}let r=this.text.substring(n,o.end),s=Z("span.highlight",void 0,...this.supportIcons?ji(r):[r]);o.extraClasses&&s.classList.add(...o.extraClasses),t.push(s),n=o.end}if(n<this.text.length){let o=this.text.substring(n);this.supportIcons?t.push(...ji(o)):t.push(o)}if(Un(this.domNode,...t),this.options?.hoverDelegate?.showNativeHover)this.domNode.title=this.title;else if(!this.customHover&&this.title!==""){let o=this.options?.hoverDelegate??Qe("mouse");this.customHover=this._register(St().setupManagedHover(o,this.domNode,this.title))}else this.customHover&&this.customHover.update(this.title);this.didEverRender=!0}static escapeNewLines(t,n){let o=0,r=0;return t.replace(/\r\n|\r|\n/g,(s,a)=>{r=s===`\r
`?-1:0,a+=o;for(let l of n)l.end<=a||(l.start>=a&&(l.start+=r),l.end>=a&&(l.end+=r));return o+=r,"\u23CE"})}};var Ho=class{constructor(e){this._element=e}disposed;_textContent;_classNames;_empty;get element(){return this._element}set textContent(e){this.disposed||e===this._textContent||(this._textContent=e,this._element.textContent=e)}set classNames(e){this.disposed||$t(e,this._classNames)||(this._classNames=e,this._element.classList.value="",this._element.classList.add(...e))}set empty(e){this.disposed||e===this._empty||(this._empty=e,this._element.style.marginLeft=e?"0":"")}dispose(){this.disposed=!0}},na=class extends V{creationOptions;domNode;nameContainer;nameNode;descriptionNode;suffixNode;labelContainer;hoverDelegate;customHovers=new Map;constructor(e,t){super(),this.creationOptions=t,this.domNode=this._register(new Ho(ee(e,Z(".monaco-icon-label")))),this.labelContainer=ee(this.domNode.element,Z(".monaco-icon-label-container")),this.nameContainer=ee(this.labelContainer,Z("span.monaco-icon-name-container")),t?.supportHighlights||t?.supportIcons?this.nameNode=this._register(new kp(this.nameContainer,!!t.supportIcons)):this.nameNode=new Dp(this.nameContainer),this.hoverDelegate=t?.hoverDelegate??Qe("mouse")}get element(){return this.domNode.element}setLabel(e,t,n){let o=["monaco-icon-label"],r=["monaco-icon-label-container"],s="";n&&(n.extraClasses&&o.push(...n.extraClasses),n.italic&&o.push("italic"),n.strikethrough&&o.push("strikethrough"),n.disabledCommand&&r.push("disabled"),n.title&&(typeof n.title=="string"?s+=n.title:s+=e));let a=this.domNode.element.querySelector(".monaco-icon-label-iconpath");if(n?.iconPath){let l;!a||!Ze(a)?(l=Z(".monaco-icon-label-iconpath"),this.domNode.element.prepend(l)):l=a,l.style.backgroundImage=yo(n?.iconPath)}else a&&a.remove();if(this.domNode.classNames=o,this.domNode.element.setAttribute("aria-label",s),this.labelContainer.classList.value="",this.labelContainer.classList.add(...r),this.setupHover(n?.descriptionTitle?this.labelContainer:this.element,n?.title),this.nameNode.setLabel(e,n),t||this.descriptionNode){let l=this.getOrCreateDescriptionNode();l instanceof oo?(l.set(t||"",n?n.descriptionMatches:void 0,void 0,n?.labelEscapeNewLines),this.setupHover(l.element,n?.descriptionTitle)):(l.textContent=t&&n?.labelEscapeNewLines?oo.escapeNewLines(t,[]):t||"",this.setupHover(l.element,n?.descriptionTitle||""),l.empty=!t)}if(n?.suffix||this.suffixNode){let l=this.getOrCreateSuffixNode();l.textContent=n?.suffix??""}}setupHover(e,t){let n=this.customHovers.get(e);if(n&&(n.dispose(),this.customHovers.delete(e)),!t){e.removeAttribute("title");return}if(this.hoverDelegate.showNativeHover){let r=function(s,a){bn(a)?s.title=Du(a):a?.markdownNotSupportedFallback?s.title=a.markdownNotSupportedFallback:s.removeAttribute("title")};var o=r;r(e,t)}else{let r=St().setupManagedHover(this.hoverDelegate,e,t);r&&this.customHovers.set(e,r)}}dispose(){super.dispose();for(let e of this.customHovers.values())e.dispose();this.customHovers.clear()}getOrCreateSuffixNode(){if(!this.suffixNode){let e=this._register(new Ho(xf(this.nameContainer,Z("span.monaco-icon-suffix-container"))));this.suffixNode=this._register(new Ho(ee(e.element,Z("span.label-suffix"))))}return this.suffixNode}getOrCreateDescriptionNode(){if(!this.descriptionNode){let e=this._register(new Ho(ee(this.labelContainer,Z("span.monaco-icon-description-container"))));this.creationOptions?.supportDescriptionHighlights?this.descriptionNode=this._register(new oo(ee(e.element,Z("span.label-description")),{supportIcons:!!this.creationOptions.supportIcons})):this.descriptionNode=this._register(new Ho(ee(e.element,Z("span.label-description"))))}return this.descriptionNode}},Dp=class{constructor(e){this.container=e}label=void 0;singleLabel=void 0;options;setLabel(e,t){if(!(this.label===e&&$t(this.options,t)))if(this.label=e,this.options=t,typeof e=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=ee(this.container,Z("a.label-name",{id:t?.domId}))),this.singleLabel.textContent=e;else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;for(let n=0;n<e.length;n++){let o=e[n],r=t?.domId&&`${t?.domId}_${n}`;ee(this.container,Z("a.label-name",{id:r,"data-icon-label-count":e.length,"data-icon-label-index":n,role:"treeitem"},o)),n<e.length-1&&ee(this.container,Z("span.label-separator",void 0,t?.separator||"/"))}}}};function Dx(i,e,t){if(!t)return;let n=0;return i.map(o=>{let r={start:n,end:n+o.length},s=t.map(a=>ut.intersect(r,a)).filter(a=>!ut.isEmpty(a)).map(({start:a,end:l})=>({start:a-n,end:l-n}));return n=r.end+e.length,s})}var kp=class extends V{constructor(t,n){super();this.container=t;this.supportIcons=n}label=void 0;singleLabel=void 0;options;setLabel(t,n){if(!(this.label===t&&$t(this.options,n)))if(this.label=t,this.options=n,typeof t=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=this._register(new oo(ee(this.container,Z("a.label-name",{id:n?.domId})),{supportIcons:this.supportIcons}))),this.singleLabel.set(t,n?.matches,void 0,n?.labelEscapeNewLines);else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;let o=n?.separator||"/",r=Dx(t,o,n?.matches);for(let s=0;s<t.length;s++){let a=t[s],l=r?r[s]:void 0,d=n?.domId&&`${n?.domId}_${s}`,u=Z("a.label-name",{id:d,"data-icon-label-count":t.length,"data-icon-label-index":s,role:"treeitem"});this._register(new oo(ee(this.container,u),{supportIcons:this.supportIcons})).set(a,l,void 0,n?.labelEscapeNewLines),s<t.length-1&&ee(u,Z("span.label-separator",void 0,o))}}}};var Dv=Re("accessibilityService");var Hee=new Ae("accessibilityModeEnabled",!1);var _n=Z,Vd=class{constructor(e,t,n){this.index=e;this.hasCheckbox=t;this._init=new ct(()=>{let o=n.label??"",r=ur(o).text.trim(),s=n.ariaLabel||[o,this.saneDescription,this.saneDetail].map(a=>qf(a)).filter(a=>!!a).join(", ");return{saneLabel:o,saneSortLabel:r,saneAriaLabel:s}}),this._saneDescription=n.description,this._saneTooltip=n.tooltip}_init;get saneLabel(){return this._init.value.saneLabel}get saneSortLabel(){return this._init.value.saneSortLabel}get saneAriaLabel(){return this._init.value.saneAriaLabel}_element;get element(){return this._element}set element(e){this._element=e}_hidden=!1;get hidden(){return this._hidden}set hidden(e){this._hidden=e}_saneDescription;get saneDescription(){return this._saneDescription}set saneDescription(e){this._saneDescription=e}_saneDetail;get saneDetail(){return this._saneDetail}set saneDetail(e){this._saneDetail=e}_saneTooltip;get saneTooltip(){return this._saneTooltip}set saneTooltip(e){this._saneTooltip=e}_labelHighlights;get labelHighlights(){return this._labelHighlights}set labelHighlights(e){this._labelHighlights=e}_descriptionHighlights;get descriptionHighlights(){return this._descriptionHighlights}set descriptionHighlights(e){this._descriptionHighlights=e}_detailHighlights;get detailHighlights(){return this._detailHighlights}set detailHighlights(e){this._detailHighlights=e}},it=class extends Vd{constructor(t,n,o,r,s,a){super(t,n,s);this.fireButtonTriggered=o;this._onChecked=r;this.item=s;this._separator=a;this.onChecked=n?_.map(_.filter(this._onChecked.event,l=>l.element===this),l=>l.checked):_.None,this._saneDetail=s.detail,this._labelHighlights=s.highlights?.label,this._descriptionHighlights=s.highlights?.description,this._detailHighlights=s.highlights?.detail}onChecked;get separator(){return this._separator}set separator(t){this._separator=t}_checked=!1;get checked(){return this._checked}set checked(t){t!==this._checked&&(this._checked=t,this._onChecked.fire({element:this,checked:t}))}get checkboxDisabled(){return!!this.item.disabled}};var vi=class extends Vd{constructor(t,n,o){super(t,!1,o);this.fireSeparatorButtonTriggered=n;this.separator=o}children=new Array;focusInsideSeparator=0},_p=class{getHeight(e){return e instanceof vi?30:e.saneDetail?44:22}getTemplateId(e){return e instanceof it?ro.ID:$d.ID}},Cp=class{getWidgetAriaLabel(){return p("quickInput","Quick Input")}getAriaLabel(e){return e.separator?.label?`${e.saneAriaLabel}, ${e.separator.label}`:e.saneAriaLabel}getWidgetRole(){return"listbox"}getRole(e){return e.hasCheckbox?"checkbox":"option"}isChecked(e){if(!(!e.hasCheckbox||!(e instanceof it)))return{get value(){return e.checked},onDidChange:t=>e.onChecked(()=>t())}}},Wd=class{constructor(e){this.hoverDelegate=e}renderTemplate(e){let t=Object.create(null);t.toDisposeElement=new W,t.toDisposeTemplate=new W,t.entry=ee(e,_n(".quick-input-list-entry"));let n=ee(t.entry,_n("label.quick-input-list-label"));t.toDisposeTemplate.add(Rt(n,oe.CLICK,d=>{t.checkbox.offsetParent||d.preventDefault()})),t.checkbox=ee(n,_n("input.quick-input-list-checkbox")),t.checkbox.type="checkbox";let o=ee(n,_n(".quick-input-list-rows")),r=ee(o,_n(".quick-input-list-row")),s=ee(o,_n(".quick-input-list-row"));t.label=new na(r,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0,hoverDelegate:this.hoverDelegate}),t.toDisposeTemplate.add(t.label),t.icon=Sf(t.label.element,_n(".quick-input-list-icon"));let a=ee(r,_n(".quick-input-list-entry-keybinding"));t.keybinding=new Ol(a,Di),t.toDisposeTemplate.add(t.keybinding);let l=ee(s,_n(".quick-input-list-label-meta"));return t.detail=new na(l,{supportHighlights:!0,supportIcons:!0,hoverDelegate:this.hoverDelegate}),t.toDisposeTemplate.add(t.detail),t.separator=ee(t.entry,_n(".quick-input-list-separator")),t.actionBar=new jn(t.entry,this.hoverDelegate?{hoverDelegate:this.hoverDelegate}:void 0),t.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),t.toDisposeTemplate.add(t.actionBar),t}disposeTemplate(e){e.toDisposeElement.dispose(),e.toDisposeTemplate.dispose()}disposeElement(e,t,n){n.toDisposeElement.clear(),n.actionBar.clear()}},ro=class extends Wd{constructor(t,n){super(t);this.themeService=n}static ID="quickpickitem";_itemsWithSeparatorsFrequency=new Map;get templateId(){return ro.ID}renderTemplate(t){let n=super.renderTemplate(t);return n.toDisposeTemplate.add(Rt(n.checkbox,oe.CHANGE,o=>{n.element.checked=n.checkbox.checked})),n}renderElement(t,n,o){let r=t.element;o.element=r,r.element=o.entry??void 0;let s=r.item;o.checkbox.checked=r.checked,o.toDisposeElement.add(r.onChecked(T=>o.checkbox.checked=T)),o.checkbox.disabled=r.checkboxDisabled;let{labelHighlights:a,descriptionHighlights:l,detailHighlights:d}=r;if(s.iconPath){let T=Bg(this.themeService.getColorTheme().type)?s.iconPath.dark:s.iconPath.light??s.iconPath.dark,w=Ve.revive(T);o.icon.className="quick-input-list-icon",o.icon.style.backgroundImage=yo(w)}else o.icon.style.backgroundImage="",o.icon.className=s.iconClass?`quick-input-list-icon ${s.iconClass}`:"";let u;!r.saneTooltip&&r.saneDescription&&(u={markdown:{value:r.saneDescription,supportThemeIcons:!0},markdownNotSupportedFallback:r.saneDescription});let h={matches:a||[],descriptionTitle:u,descriptionMatches:l||[],labelEscapeNewLines:!0};if(h.extraClasses=s.iconClasses,h.italic=s.italic,h.strikethrough=s.strikethrough,o.entry.classList.remove("quick-input-list-separator-as-item"),o.label.setLabel(r.saneLabel,r.saneDescription,h),o.keybinding.set(s.keybinding),r.saneDetail){let T;r.saneTooltip||(T={markdown:{value:r.saneDetail,supportThemeIcons:!0},markdownNotSupportedFallback:r.saneDetail}),o.detail.element.style.display="",o.detail.setLabel(r.saneDetail,void 0,{matches:d,title:T,labelEscapeNewLines:!0})}else o.detail.element.style.display="none";r.separator?.label?(o.separator.textContent=r.separator.label,o.separator.style.display="",this.addItemWithSeparator(r)):o.separator.style.display="none",o.entry.classList.toggle("quick-input-list-separator-border",!!r.separator);let f=s.buttons;f&&f.length?(o.actionBar.push(f.map((T,w)=>Eo(T,`id-${w}`,()=>r.fireButtonTriggered({button:T,item:r.item}))),{icon:!0,label:!1}),o.entry.classList.add("has-actions")):o.entry.classList.remove("has-actions")}disposeElement(t,n,o){this.removeItemWithSeparator(t.element),super.disposeElement(t,n,o)}isItemWithSeparatorVisible(t){return this._itemsWithSeparatorsFrequency.has(t)}addItemWithSeparator(t){this._itemsWithSeparatorsFrequency.set(t,(this._itemsWithSeparatorsFrequency.get(t)||0)+1)}removeItemWithSeparator(t){let n=this._itemsWithSeparatorsFrequency.get(t)||0;n>1?this._itemsWithSeparatorsFrequency.set(t,n-1):this._itemsWithSeparatorsFrequency.delete(t)}};ro=ie([ue(1,Hg)],ro);var $d=class i extends Wd{static ID="quickpickseparator";_visibleSeparatorsFrequency=new Map;get templateId(){return i.ID}get visibleSeparators(){return[...this._visibleSeparatorsFrequency.keys()]}isSeparatorVisible(e){return this._visibleSeparatorsFrequency.has(e)}renderTemplate(e){let t=super.renderTemplate(e);return t.checkbox.style.display="none",t}renderElement(e,t,n){let o=e.element;n.element=o,o.element=n.entry??void 0,o.element.classList.toggle("focus-inside",!!o.focusInsideSeparator);let r=o.separator,{labelHighlights:s,descriptionHighlights:a,detailHighlights:l}=o;n.icon.style.backgroundImage="",n.icon.className="";let d;!o.saneTooltip&&o.saneDescription&&(d={markdown:{value:o.saneDescription,supportThemeIcons:!0},markdownNotSupportedFallback:o.saneDescription});let u={matches:s||[],descriptionTitle:d,descriptionMatches:a||[],labelEscapeNewLines:!0};if(n.entry.classList.add("quick-input-list-separator-as-item"),n.label.setLabel(o.saneLabel,o.saneDescription,u),o.saneDetail){let f;o.saneTooltip||(f={markdown:{value:o.saneDetail,supportThemeIcons:!0},markdownNotSupportedFallback:o.saneDetail}),n.detail.element.style.display="",n.detail.setLabel(o.saneDetail,void 0,{matches:l,title:f,labelEscapeNewLines:!0})}else n.detail.element.style.display="none";n.separator.style.display="none",n.entry.classList.add("quick-input-list-separator-border");let h=r.buttons;h&&h.length?(n.actionBar.push(h.map((f,T)=>Eo(f,`id-${T}`,()=>o.fireSeparatorButtonTriggered({button:f,separator:o.separator}))),{icon:!0,label:!1}),n.entry.classList.add("has-actions")):n.entry.classList.remove("has-actions"),this.addSeparator(o)}disposeElement(e,t,n){this.removeSeparator(e.element),this.isSeparatorVisible(e.element)||e.element.element?.classList.remove("focus-inside"),super.disposeElement(e,t,n)}addSeparator(e){this._visibleSeparatorsFrequency.set(e,(this._visibleSeparatorsFrequency.get(e)||0)+1)}removeSeparator(e){let t=this._visibleSeparatorsFrequency.get(e)||0;t>1?this._visibleSeparatorsFrequency.set(e,t-1):this._visibleSeparatorsFrequency.delete(e)}},Br=class extends V{constructor(t,n,o,r,s,a){super();this.parent=t;this.hoverDelegate=n;this.linkOpenerDelegate=o;this.accessibilityService=a;this._container=ee(this.parent,_n(".quick-input-list")),this._separatorRenderer=new $d(n),this._itemRenderer=s.createInstance(ro,n),this._tree=this._register(s.createInstance(Pr,"QuickInput",this._container,new _p,[this._itemRenderer,this._separatorRenderer],{filter:{filter(l){return l.hidden?0:l instanceof vi?2:1}},sorter:{compare:(l,d)=>{if(!this.sortByLabel||!this._lastQueryString)return 0;let u=this._lastQueryString.toLowerCase();return Cx(l,d,u)}},accessibilityProvider:new Cp,setRowLineHeight:!1,multipleSelectionSupport:!1,hideTwistiesOfChildlessElements:!0,renderIndentGuides:"none",findWidgetEnabled:!1,indent:0,horizontalScrolling:!1,allowNonCollapsibleParents:!0,alwaysConsumeMouseWheel:!0})),this._tree.getHTMLElement().id=r,this._registerListeners()}_onKeyDown=new k;onKeyDown=this._onKeyDown.event;_onLeave=new k;onLeave=this._onLeave.event;_visibleCountObservable=vo("VisibleCount",0);onChangedVisibleCount=_.fromObservable(this._visibleCountObservable,this._store);_allVisibleCheckedObservable=vo("AllVisibleChecked",!1);onChangedAllVisibleChecked=_.fromObservable(this._allVisibleCheckedObservable,this._store);_checkedCountObservable=vo("CheckedCount",0);onChangedCheckedCount=_.fromObservable(this._checkedCountObservable,this._store);_checkedElementsObservable=xc({equalsFn:xt},new Array);onChangedCheckedElements=_.fromObservable(this._checkedElementsObservable,this._store);_onButtonTriggered=new k;onButtonTriggered=this._onButtonTriggered.event;_onSeparatorButtonTriggered=new k;onSeparatorButtonTriggered=this._onSeparatorButtonTriggered.event;_elementChecked=new k;_elementCheckedEventBufferer=new an;_hasCheckboxes=!1;_container;_tree;_separatorRenderer;_itemRenderer;_inputElements=new Array;_elementTree=new Array;_itemElements=new Array;_elementDisposable=this._register(new W);_lastHover;_lastQueryString;get onDidChangeFocus(){return _.map(this._tree.onDidChangeFocus,t=>t.elements.filter(n=>n instanceof it).map(n=>n.item),this._store)}get onDidChangeSelection(){return _.map(this._tree.onDidChangeSelection,t=>({items:t.elements.filter(n=>n instanceof it).map(n=>n.item),event:t.browserEvent}),this._store)}get displayed(){return this._container.style.display!=="none"}set displayed(t){this._container.style.display=t?"":"none"}get scrollTop(){return this._tree.scrollTop}set scrollTop(t){this._tree.scrollTop=t}get ariaLabel(){return this._tree.ariaLabel}set ariaLabel(t){this._tree.ariaLabel=t??""}set enabled(t){this._tree.getHTMLElement().style.pointerEvents=t?"":"none"}_matchOnDescription=!1;get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(t){this._matchOnDescription=t}_matchOnDetail=!1;get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(t){this._matchOnDetail=t}_matchOnLabel=!0;get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(t){this._matchOnLabel=t}_matchOnLabelMode="fuzzy";get matchOnLabelMode(){return this._matchOnLabelMode}set matchOnLabelMode(t){this._matchOnLabelMode=t}_matchOnMeta=!0;get matchOnMeta(){return this._matchOnMeta}set matchOnMeta(t){this._matchOnMeta=t}_sortByLabel=!0;get sortByLabel(){return this._sortByLabel}set sortByLabel(t){this._sortByLabel=t}_shouldLoop=!0;get shouldLoop(){return this._shouldLoop}set shouldLoop(t){this._shouldLoop=t}_registerListeners(){this._registerOnKeyDown(),this._registerOnContainerClick(),this._registerOnMouseMiddleClick(),this._registerOnTreeModelChanged(),this._registerOnElementChecked(),this._registerOnContextMenu(),this._registerHoverListeners(),this._registerSelectionChangeListener(),this._registerSeparatorActionShowingListeners()}_registerOnKeyDown(){this._register(this._tree.onKeyDown(t=>{let n=new Me(t);switch(n.keyCode){case 10:this.toggleCheckbox();break}this._onKeyDown.fire(n)}))}_registerOnContainerClick(){this._register(Q(this._container,oe.CLICK,t=>{(t.x||t.y)&&this._onLeave.fire()}))}_registerOnMouseMiddleClick(){this._register(Q(this._container,oe.AUXCLICK,t=>{t.button===1&&this._onLeave.fire()}))}_registerOnTreeModelChanged(){this._register(this._tree.onDidChangeModel(()=>{let t=this._itemElements.filter(n=>!n.hidden).length;this._visibleCountObservable.set(t,void 0),this._hasCheckboxes&&this._updateCheckedObservables()}))}_registerOnElementChecked(){this._register(this._elementCheckedEventBufferer.wrapEvent(this._elementChecked.event,(t,n)=>n)(t=>this._updateCheckedObservables()))}_registerOnContextMenu(){this._register(this._tree.onContextMenu(t=>{t.element&&(t.browserEvent.preventDefault(),this._tree.setSelection([t.element]))}))}_registerHoverListeners(){let t=this._register(new qa(this.hoverDelegate.delay));this._register(this._tree.onMouseOver(async n=>{if(au(n.browserEvent.target)){t.cancel();return}if(!(!au(n.browserEvent.relatedTarget)&&Ut(n.browserEvent.relatedTarget,n.element?.element)))try{await t.trigger(async()=>{n.element instanceof it&&this.showHover(n.element)})}catch(o){if(!Vr(o))throw o}})),this._register(this._tree.onMouseOut(n=>{Ut(n.browserEvent.relatedTarget,n.element?.element)||t.cancel()}))}_registerSeparatorActionShowingListeners(){this._register(this._tree.onDidChangeFocus(t=>{let n=t.elements[0]?this._tree.getParentElement(t.elements[0]):null;for(let o of this._separatorRenderer.visibleSeparators){let r=o===n;!!(o.focusInsideSeparator&2)!==r&&(r?o.focusInsideSeparator|=2:o.focusInsideSeparator&=-3,this._tree.rerender(o))}})),this._register(this._tree.onMouseOver(t=>{let n=t.element?this._tree.getParentElement(t.element):null;for(let o of this._separatorRenderer.visibleSeparators){if(o!==n)continue;!!(o.focusInsideSeparator&1)||(o.focusInsideSeparator|=1,this._tree.rerender(o))}})),this._register(this._tree.onMouseOut(t=>{let n=t.element?this._tree.getParentElement(t.element):null;for(let o of this._separatorRenderer.visibleSeparators){if(o!==n)continue;!!(o.focusInsideSeparator&1)&&(o.focusInsideSeparator&=-2,this._tree.rerender(o))}}))}_registerSelectionChangeListener(){this._register(this._tree.onDidChangeSelection(t=>{let n=t.elements.filter(o=>o instanceof it);n.length!==t.elements.length&&(t.elements.length===1&&t.elements[0]instanceof vi&&(this._tree.setFocus([t.elements[0].children[0]]),this._tree.reveal(t.elements[0],0)),this._tree.setSelection(n))}))}setAllVisibleChecked(t){this._elementCheckedEventBufferer.bufferEvents(()=>{this._itemElements.forEach(n=>{!n.hidden&&!n.checkboxDisabled&&(n.checked=t)})})}setElements(t){this._elementDisposable.clear(),this._lastQueryString=void 0,this._inputElements=t,this._hasCheckboxes=this.parent.classList.contains("show-checkboxes");let n;this._itemElements=new Array,this._elementTree=t.reduce((o,r,s)=>{let a;if(r.type==="separator"){if(!r.buttons)return o;n=new vi(s,l=>this._onSeparatorButtonTriggered.fire(l),r),a=n}else{let l=s>0?t[s-1]:void 0,d;l&&l.type==="separator"&&!l.buttons&&(n=void 0,d=l);let u=new it(s,this._hasCheckboxes,h=>this._onButtonTriggered.fire(h),this._elementChecked,r,d);if(this._itemElements.push(u),n)return n.children.push(u),o;a=u}return o.push(a),o},new Array),this._setElementsToTree(this._elementTree),this.accessibilityService.isScreenReaderOptimized()&&setTimeout(()=>{let o=this._tree.getHTMLElement().querySelector(".monaco-list-row.focused"),r=o?.parentNode;if(o&&r){let s=o.nextSibling;o.remove(),r.insertBefore(o,s)}},0)}setFocusedElements(t){let n=t.map(o=>this._itemElements.find(r=>r.item===o)).filter(o=>!!o).filter(o=>!o.hidden);if(this._tree.setFocus(n),t.length>0){let o=this._tree.getFocus()[0];o&&this._tree.reveal(o)}}getActiveDescendant(){return this._tree.getHTMLElement().getAttribute("aria-activedescendant")}setSelectedElements(t){let n=t.map(o=>this._itemElements.find(r=>r.item===o)).filter(o=>!!o);this._tree.setSelection(n)}getCheckedElements(){return this._itemElements.filter(t=>t.checked).map(t=>t.item)}setCheckedElements(t){this._elementCheckedEventBufferer.bufferEvents(()=>{let n=new Set;for(let o of t)n.add(o);for(let o of this._itemElements)o.checked=n.has(o.item)})}focus(t){if(this._itemElements.length)switch(t===2&&this._itemElements.length<2&&(t=1),t){case 1:this._tree.scrollTop=0,this._tree.focusFirst(void 0,n=>n.element instanceof it);break;case 2:{this._tree.scrollTop=0;let n=!1;this._tree.focusFirst(void 0,o=>o.element instanceof it?n?!0:(n=!n,!1):!1);break}case 3:this._tree.scrollTop=this._tree.scrollHeight,this._tree.focusLast(void 0,n=>n.element instanceof it);break;case 4:{let n=this._tree.getFocus();this._tree.focusNext(void 0,this._shouldLoop,void 0,r=>r.element instanceof it?(this._tree.reveal(r.element),!0):!1);let o=this._tree.getFocus();n.length&&n[0]===o[0]&&n[0]===this._itemElements[this._itemElements.length-1]&&this._onLeave.fire();break}case 5:{let n=this._tree.getFocus();this._tree.focusPrevious(void 0,this._shouldLoop,void 0,r=>{if(!(r.element instanceof it))return!1;let s=this._tree.getParentElement(r.element);return s===null||s.children[0]!==r.element?this._tree.reveal(r.element):this._tree.reveal(s),!0});let o=this._tree.getFocus();n.length&&n[0]===o[0]&&n[0]===this._itemElements[0]&&this._onLeave.fire();break}case 6:this._tree.focusNextPage(void 0,n=>n.element instanceof it?(this._tree.reveal(n.element),!0):!1);break;case 7:this._tree.focusPreviousPage(void 0,n=>{if(!(n.element instanceof it))return!1;let o=this._tree.getParentElement(n.element);return o===null||o.children[0]!==n.element?this._tree.reveal(n.element):this._tree.reveal(o),!0});break;case 8:{let n=!1,o=this._tree.getFocus()[0];this._tree.focusNext(void 0,!0,void 0,s=>{if(n)return!0;if(s.element instanceof vi)n=!0,this._separatorRenderer.isSeparatorVisible(s.element)?this._tree.reveal(s.element.children[0]):this._tree.reveal(s.element,0);else if(s.element instanceof it){if(s.element.separator)return this._itemRenderer.isItemWithSeparatorVisible(s.element)?this._tree.reveal(s.element):this._tree.reveal(s.element,0),!0;if(s.element===this._elementTree[0])return this._tree.reveal(s.element,0),!0}return!1});let r=this._tree.getFocus()[0];o===r&&(this._tree.scrollTop=this._tree.scrollHeight,this._tree.focusLast(void 0,s=>s.element instanceof it));break}case 9:{let n,o=!!this._tree.getFocus()[0]?.separator;this._tree.focusPrevious(void 0,!0,void 0,r=>{if(r.element instanceof vi)o?n||(this._separatorRenderer.isSeparatorVisible(r.element)?this._tree.reveal(r.element):this._tree.reveal(r.element,0),n=r.element.children[0]):o=!0;else if(r.element instanceof it&&!n){if(r.element.separator)this._itemRenderer.isItemWithSeparatorVisible(r.element)?this._tree.reveal(r.element):this._tree.reveal(r.element,0),n=r.element;else if(r.element===this._elementTree[0])return this._tree.reveal(r.element,0),!0}return!1}),n&&this._tree.setFocus([n]);break}}}clearFocus(){this._tree.setFocus([])}domFocus(){this._tree.domFocus()}layout(t){this._tree.getHTMLElement().style.maxHeight=t?`${Math.floor(t/44)*44+6}px`:"",this._tree.layout()}filter(t){if(this._lastQueryString=t,!(this._sortByLabel||this._matchOnLabel||this._matchOnDescription||this._matchOnDetail))return this._tree.layout(),!1;let n=t;if(t=t.trim(),!t||!(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))this._itemElements.forEach(o=>{o.labelHighlights=void 0,o.descriptionHighlights=void 0,o.detailHighlights=void 0,o.hidden=!1;let r=o.index&&this._inputElements[o.index-1];o.item&&(o.separator=r&&r.type==="separator"&&!r.buttons?r:void 0)});else{let o;this._itemElements.forEach(r=>{let s;this.matchOnLabelMode==="fuzzy"?s=this.matchOnLabel?vl(t,ur(r.saneLabel))??void 0:void 0:s=this.matchOnLabel?_x(n,ur(r.saneLabel))??void 0:void 0;let a=this.matchOnDescription?vl(t,ur(r.saneDescription||""))??void 0:void 0,l=this.matchOnDetail?vl(t,ur(r.saneDetail||""))??void 0:void 0;if(s||a||l?(r.labelHighlights=s,r.descriptionHighlights=a,r.detailHighlights=l,r.hidden=!1):(r.labelHighlights=void 0,r.descriptionHighlights=void 0,r.detailHighlights=void 0,r.hidden=r.item?!r.item.alwaysShow:!0),r.item?r.separator=void 0:r.separator&&(r.hidden=!0),!this.sortByLabel){let d=r.index&&this._inputElements[r.index-1]||void 0;d?.type==="separator"&&!d.buttons&&(o=d),o&&!r.hidden&&(r.separator=o,o=void 0)}})}return this._setElementsToTree(this._sortByLabel&&t?this._itemElements:this._elementTree),this._tree.layout(),!0}toggleCheckbox(){this._elementCheckedEventBufferer.bufferEvents(()=>{let t=this._tree.getFocus().filter(o=>o instanceof it),n=this._allVisibleChecked(t);for(let o of t)o.checkboxDisabled||(o.checked=!n)})}style(t){this._tree.style(t)}toggleHover(){let t=this._tree.getFocus()[0];if(!t?.saneTooltip||!(t instanceof it))return;if(this._lastHover&&!this._lastHover.isDisposed){this._lastHover.dispose();return}this.showHover(t);let n=new W;n.add(this._tree.onDidChangeFocus(o=>{o.elements[0]instanceof it&&this.showHover(o.elements[0])})),this._lastHover&&n.add(this._lastHover),this._elementDisposable.add(n)}_setElementsToTree(t){let n=new Array;for(let o of t)o instanceof vi?n.push({element:o,collapsible:!1,collapsed:!1,children:o.children.map(r=>({element:r,collapsible:!1,collapsed:!1}))}):n.push({element:o,collapsible:!1,collapsed:!1});this._tree.setChildren(null,n)}_allVisibleChecked(t,n=!0){for(let o=0,r=t.length;o<r;o++){let s=t[o];if(!s.hidden)if(s.checked)n=!0;else return!1}return n}_updateCheckedObservables(){Qo(t=>{this._allVisibleCheckedObservable.set(this._allVisibleChecked(this._itemElements,!1),t);let n=this._itemElements.filter(o=>o.checked).length;this._checkedCountObservable.set(n,t),this._checkedElementsObservable.set(this.getCheckedElements(),t)})}showHover(t){this._lastHover&&!this._lastHover.isDisposed&&(this.hoverDelegate.onDidHideHover?.(),this._lastHover?.dispose()),!(!t.element||!t.saneTooltip)&&(this._lastHover=this.hoverDelegate.showHover({content:t.saneTooltip,target:t.element,linkHandler:n=>{this.linkOpenerDelegate(n)},appearance:{showPointer:!0},container:this._container,position:{hoverPosition:1}},!1))}};ie([Ee],Br.prototype,"onDidChangeFocus",1),ie([Ee],Br.prototype,"onDidChangeSelection",1),Br=ie([ue(4,un),ue(5,Dv)],Br);function _x(i,e){let{text:t,iconOffsets:n}=e;if(!n||n.length===0)return kv(i,t);let o=ds(t," "),r=t.length-o.length,s=kv(i,o);if(s)for(let a of s){let l=n[a.start+r]+r;a.start+=l,a.end+=l}return s}function kv(i,e){let t=e.toLowerCase().indexOf(i.toLowerCase());return t!==-1?[{start:t,end:t+i.length}]:null}function Cx(i,e,t){let n=i.labelHighlights||[],o=e.labelHighlights||[];return n.length&&!o.length?-1:!n.length&&o.length?1:n.length===0&&o.length===0?0:Yu(i.saneSortLabel,e.saneSortLabel,t)}var Mv="inQuickInput",Zne=new Ae(Mv,!1,p("inQuickInput","Whether keyboard focus is inside the quick input control")),eie=ze.has(Mv),Lx="quickInputType",tie=new Ae(Lx,void 0,p("quickInputType","The type of the currently visible quick input")),Nv="cursorAtEndOfQuickInputBox",nie=new Ae(Nv,!1,p("cursorAtEndOfQuickInputBox","Whether the cursor in the quick input is at the end of the input box")),iie=ze.has(Nv),_v={iconClass:Se.asClassName(_e.quickInputBack),tooltip:p("quickInput.back","Back"),handle:-1},Hr=class i extends V{constructor(t){super();this.ui=t}static noPromptMessage=p("inputModeEntry","Press 'Enter' to confirm your input or 'Escape' to cancel");_title;_description;_widget;_widgetUpdated=!1;_steps;_totalSteps;visible=!1;_enabled=!0;_contextKey;_busy=!1;_ignoreFocusOut=!1;_leftButtons=[];_rightButtons=[];_inlineButtons=[];buttonsUpdated=!1;_toggles=[];togglesUpdated=!1;noValidationMessage=i.noPromptMessage;_validationMessage;_lastValidationMessage;_severity=Fl.Ignore;_lastSeverity;onDidTriggerButtonEmitter=this._register(new k);onDidHideEmitter=this._register(new k);onWillHideEmitter=this._register(new k);onDisposeEmitter=this._register(new k);visibleDisposables=this._register(new W);busyDelay;get title(){return this._title}set title(t){this._title=t,this.update()}get description(){return this._description}set description(t){this._description=t,this.update()}get widget(){return this._widget}set widget(t){Ze(t)&&this._widget!==t&&(this._widget=t,this._widgetUpdated=!0,this.update())}get step(){return this._steps}set step(t){this._steps=t,this.update()}get totalSteps(){return this._totalSteps}set totalSteps(t){this._totalSteps=t,this.update()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this.update()}get contextKey(){return this._contextKey}set contextKey(t){this._contextKey=t,this.update()}get busy(){return this._busy}set busy(t){this._busy=t,this.update()}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(t){let n=this._ignoreFocusOut!==t&&!ho;this._ignoreFocusOut=t&&!ho,n&&this.update()}get titleButtons(){return this._leftButtons.length?[...this._leftButtons,this._rightButtons]:this._rightButtons}get buttons(){return[...this._leftButtons,...this._rightButtons,...this._inlineButtons]}set buttons(t){this._leftButtons=t.filter(n=>n===_v),this._rightButtons=t.filter(n=>n!==_v&&n.location!==2),this._inlineButtons=t.filter(n=>n.location===2),this.buttonsUpdated=!0,this.update()}get toggles(){return this._toggles}set toggles(t){this._toggles=t??[],this.togglesUpdated=!0,this.update()}get validationMessage(){return this._validationMessage}set validationMessage(t){this._validationMessage=t,this.update()}get severity(){return this._severity}set severity(t){this._severity=t,this.update()}onDidTriggerButton=this.onDidTriggerButtonEmitter.event;show(){this.visible||(this.visibleDisposables.add(this.ui.onDidTriggerButton(t=>{this.buttons.indexOf(t)!==-1&&this.onDidTriggerButtonEmitter.fire(t)})),this.ui.show(this),this.visible=!0,this._lastValidationMessage=void 0,this._lastSeverity=void 0,this.buttons.length&&(this.buttonsUpdated=!0),this.toggles.length&&(this.togglesUpdated=!0),this.update())}hide(){this.visible&&this.ui.hide()}didHide(t=3){this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire({reason:t})}onDidHide=this.onDidHideEmitter.event;willHide(t=3){this.onWillHideEmitter.fire({reason:t})}onWillHide=this.onWillHideEmitter.event;update(){if(!this.visible)return;let t=this.getTitle();t&&this.ui.title.textContent!==t?this.ui.title.textContent=t:!t&&this.ui.title.innerHTML!=="&nbsp;"&&(this.ui.title.innerText="\xA0");let n=this.getDescription();if(this.ui.description1.textContent!==n&&(this.ui.description1.textContent=n),this.ui.description2.textContent!==n&&(this.ui.description2.textContent=n),this._widgetUpdated&&(this._widgetUpdated=!1,this._widget?Un(this.ui.widget,this._widget):Un(this.ui.widget)),this.busy&&!this.busyDelay&&(this.busyDelay=new Tn,this.busyDelay.setIfNotSet(()=>{this.visible&&this.ui.progressBar.infinite()},800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();let r=this._leftButtons.map((l,d)=>Eo(l,`id-${d}`,async()=>this.onDidTriggerButtonEmitter.fire(l)));this.ui.leftActionBar.push(r,{icon:!0,label:!1}),this.ui.rightActionBar.clear();let s=this._rightButtons.map((l,d)=>Eo(l,`id-${d}`,async()=>this.onDidTriggerButtonEmitter.fire(l)));this.ui.rightActionBar.push(s,{icon:!0,label:!1}),this.ui.inlineActionBar.clear();let a=this._inlineButtons.map((l,d)=>Eo(l,`id-${d}`,async()=>this.onDidTriggerButtonEmitter.fire(l)));this.ui.inlineActionBar.push(a,{icon:!0,label:!1})}if(this.togglesUpdated){this.togglesUpdated=!1;let r=this.toggles?.filter(s=>s instanceof Sn)??[];this.ui.inputBox.toggles=r}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey);let o=this.validationMessage||this.noValidationMessage;this._lastValidationMessage!==o&&(this._lastValidationMessage=o,Un(this.ui.message),mg(o,this.ui.message,{callback:r=>{this.ui.linkOpenerDelegate(r)},disposables:this.visibleDisposables})),this._lastSeverity!==this.severity&&(this._lastSeverity=this.severity,this.showMessageDecoration(this.severity))}getTitle(){return this.title&&this.step?`${this.title} (${this.getSteps()})`:this.title?this.title:this.step?this.getSteps():""}getDescription(){return this.description||""}getSteps(){return this.step&&this.totalSteps?p("quickInput.steps","{0}/{1}",this.step,this.totalSteps):this.step?String(this.step):""}showMessageDecoration(t){if(this.ui.inputBox.showDecoration(t),t!==Fl.Ignore){let n=this.ui.inputBox.stylesForType(t);this.ui.message.style.color=n.foreground?`${n.foreground}`:"",this.ui.message.style.backgroundColor=n.background?`${n.background}`:"",this.ui.message.style.border=n.border?`1px solid ${n.border}`:"",this.ui.message.style.marginBottom="-2px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.marginBottom=""}onDispose=this.onDisposeEmitter.event;dispose(){this.hide(),this.onDisposeEmitter.fire(),super.dispose()}},Cv=class i extends Hr{static DEFAULT_ARIA_LABEL=p("quickInputBox.ariaLabel","Type to narrow down results.");_value="";_ariaLabel;_placeholder;onDidChangeValueEmitter=this._register(new k);onWillAcceptEmitter=this._register(new k);onDidAcceptEmitter=this._register(new k);onDidCustomEmitter=this._register(new k);_items=[];itemsUpdated=!1;_canSelectMany=!1;_canAcceptInBackground=!1;_matchOnDescription=!1;_matchOnDetail=!1;_matchOnLabel=!0;_matchOnLabelMode="fuzzy";_sortByLabel=!0;_keepScrollPosition=!1;_itemActivation=1;_activeItems=[];activeItemsUpdated=!1;activeItemsToConfirm=[];onDidChangeActiveEmitter=this._register(new k);_selectedItems=[];selectedItemsUpdated=!1;selectedItemsToConfirm=[];onDidChangeSelectionEmitter=this._register(new k);onDidTriggerItemButtonEmitter=this._register(new k);onDidTriggerSeparatorButtonEmitter=this._register(new k);_valueSelection;valueSelectionUpdated=!0;_ok="default";_customButton=!1;_customButtonLabel;_customButtonHover;_quickNavigate;_hideInput;_hideCountBadge;_hideCheckAll;_focusEventBufferer=new an;type="quickPick";get quickNavigate(){return this._quickNavigate}set quickNavigate(e){this._quickNavigate=e,this.update()}get value(){return this._value}set value(e){this.doSetValue(e)}doSetValue(e,t){this._value!==e&&(this._value=e,t||this.update(),this.visible&&this.ui.list.filter(this.filterValue(this._value))&&this.trySelectFirst(),this.onDidChangeValueEmitter.fire(this._value))}filterValue=e=>e;set ariaLabel(e){this._ariaLabel=e,this.update()}get ariaLabel(){return this._ariaLabel}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.update()}onDidChangeValue=this.onDidChangeValueEmitter.event;onWillAccept=this.onWillAcceptEmitter.event;onDidAccept=this.onDidAcceptEmitter.event;onDidCustom=this.onDidCustomEmitter.event;get items(){return this._items}get scrollTop(){return this.ui.list.scrollTop}set scrollTop(e){this.ui.list.scrollTop=e}set items(e){this._items=e,this.itemsUpdated=!0,this.update()}get canSelectMany(){return this._canSelectMany}set canSelectMany(e){this._canSelectMany=e,this.update()}get canAcceptInBackground(){return this._canAcceptInBackground}set canAcceptInBackground(e){this._canAcceptInBackground=e}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(e){this._matchOnDescription=e,this.update()}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(e){this._matchOnDetail=e,this.update()}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(e){this._matchOnLabel=e,this.update()}get matchOnLabelMode(){return this._matchOnLabelMode}set matchOnLabelMode(e){this._matchOnLabelMode=e,this.update()}get sortByLabel(){return this._sortByLabel}set sortByLabel(e){this._sortByLabel=e,this.update()}get keepScrollPosition(){return this._keepScrollPosition}set keepScrollPosition(e){this._keepScrollPosition=e}get itemActivation(){return this._itemActivation}set itemActivation(e){this._itemActivation=e}get activeItems(){return this._activeItems}set activeItems(e){this._activeItems=e,this.activeItemsUpdated=!0,this.update()}onDidChangeActive=this.onDidChangeActiveEmitter.event;get selectedItems(){return this._selectedItems}set selectedItems(e){this._selectedItems=e,this.selectedItemsUpdated=!0,this.update()}get keyMods(){return this._quickNavigate?hg:this.ui.keyMods}get valueSelection(){let e=this.ui.inputBox.getSelection();if(e)return[e.start,e.end]}set valueSelection(e){this._valueSelection=e,this.valueSelectionUpdated=!0,this.update()}get customButton(){return this._customButton}set customButton(e){this._customButton=e,this.update()}get customLabel(){return this._customButtonLabel}set customLabel(e){this._customButtonLabel=e,this.update()}get customHover(){return this._customButtonHover}set customHover(e){this._customButtonHover=e,this.update()}get ok(){return this._ok}set ok(e){this._ok=e,this.update()}inputHasFocus(){return this.visible?this.ui.inputBox.hasFocus():!1}focusOnInput(){this.ui.inputBox.setFocus()}get hideInput(){return!!this._hideInput}set hideInput(e){this._hideInput=e,this.update()}get hideCountBadge(){return!!this._hideCountBadge}set hideCountBadge(e){this._hideCountBadge=e,this.update()}get hideCheckAll(){return!!this._hideCheckAll}set hideCheckAll(e){this._hideCheckAll=e,this.update()}onDidChangeSelection=this.onDidChangeSelectionEmitter.event;onDidTriggerItemButton=this.onDidTriggerItemButtonEmitter.event;onDidTriggerSeparatorButton=this.onDidTriggerSeparatorButtonEmitter.event;trySelectFirst(){this.canSelectMany||this.ui.list.focus(1)}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(e=>{this.doSetValue(e,!0)})),this.visibleDisposables.add(this.ui.onDidAccept(()=>{this.canSelectMany?this.ui.list.getCheckedElements().length||(this._selectedItems=[],this.onDidChangeSelectionEmitter.fire(this.selectedItems)):this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems)),this.handleAccept(!1)})),this.visibleDisposables.add(this.ui.onDidCustom(()=>{this.onDidCustomEmitter.fire()})),this.visibleDisposables.add(this._focusEventBufferer.wrapEvent(this.ui.list.onDidChangeFocus,(e,t)=>t)(e=>{this.activeItemsUpdated||this.activeItemsToConfirm!==this._activeItems&&xt(e,this._activeItems,(t,n)=>t===n)||(this._activeItems=e,this.onDidChangeActiveEmitter.fire(e))})),this.visibleDisposables.add(this.ui.list.onDidChangeSelection(({items:e,event:t})=>{if(this.canSelectMany){e.length&&this.ui.list.setSelectedElements([]);return}this.selectedItemsToConfirm!==this._selectedItems&&xt(e,this._selectedItems,(n,o)=>n===o)||(this._selectedItems=e,this.onDidChangeSelectionEmitter.fire(e),e.length&&this.handleAccept(bs(t)&&t.button===1))})),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements(e=>{!this.canSelectMany||!this.visible||this.selectedItemsToConfirm!==this._selectedItems&&xt(e,this._selectedItems,(t,n)=>t===n)||(this._selectedItems=e,this.onDidChangeSelectionEmitter.fire(e))})),this.visibleDisposables.add(this.ui.list.onButtonTriggered(e=>this.onDidTriggerItemButtonEmitter.fire(e))),this.visibleDisposables.add(this.ui.list.onSeparatorButtonTriggered(e=>this.onDidTriggerSeparatorButtonEmitter.fire(e))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0),super.show()}handleAccept(e){let t=!1;this.onWillAcceptEmitter.fire({veto:()=>t=!0}),t||this.onDidAcceptEmitter.fire({inBackground:e})}registerQuickNavigation(){return Q(this.ui.container,oe.KEY_UP,e=>{if(this.canSelectMany||!this._quickNavigate)return;let t=new Me(e),n=t.keyCode;this._quickNavigate.keybindings.some(s=>{let a=s.getChords();return a.length>1?!1:a[0].shiftKey&&n===4?!(t.ctrlKey||t.altKey||t.metaKey):!!(a[0].altKey&&n===6||a[0].ctrlKey&&n===5||a[0].metaKey&&n===57)})&&(this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!1)),this._quickNavigate=void 0)})}update(){if(!this.visible)return;let e=this.keepScrollPosition?this.scrollTop:0,t=!!this.description,n={title:!!this.title||!!this.step||!!this.titleButtons.length,description:t,checkAll:this.canSelectMany&&!this._hideCheckAll,checkBox:this.canSelectMany,inputBox:!this._hideInput,progressBar:!this._hideInput||t,visibleCount:!0,count:this.canSelectMany&&!this._hideCountBadge,ok:this.ok==="default"?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};this.ui.setVisibilities(n),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||"");let o=this.ariaLabel;!o&&n.inputBox&&(o=this.placeholder||i.DEFAULT_ARIA_LABEL,this.title&&(o+=` - ${this.title}`)),this.ui.list.ariaLabel!==o&&(this.ui.list.ariaLabel=o??null),this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.matchOnLabelMode=this.matchOnLabelMode,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated&&(this.itemsUpdated=!1,this._focusEventBufferer.bufferEvents(()=>{switch(this.ui.list.setElements(this.items),this.ui.list.shouldLoop=!this.canSelectMany,this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this._itemActivation){case 0:this._itemActivation=1;break;case 2:this.ui.list.focus(2),this._itemActivation=1;break;case 3:this.ui.list.focus(3),this._itemActivation=1;break;default:this.trySelectFirst();break}})),this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.trySelectFirst()),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null)),this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",n.inputBox||(this.ui.list.domFocus(),this.canSelectMany&&this.ui.list.focus(1)),this.keepScrollPosition&&(this.scrollTop=e)}focus(e){this.ui.list.focus(e),this.canSelectMany&&this.ui.list.domFocus()}accept(e){e&&!this._canAcceptInBackground||this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(e??!1))}},Lv=class extends Hr{_value="";_valueSelection;valueSelectionUpdated=!0;_placeholder;_password=!1;_prompt;onDidValueChangeEmitter=this._register(new k);onDidAcceptEmitter=this._register(new k);type="inputBox";get value(){return this._value}set value(e){this._value=e||"",this.update()}get valueSelection(){let e=this.ui.inputBox.getSelection();if(e)return[e.start,e.end]}set valueSelection(e){this._valueSelection=e,this.valueSelectionUpdated=!0,this.update()}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.update()}get password(){return this._password}set password(e){this._password=e,this.update()}get prompt(){return this._prompt}set prompt(e){this._prompt=e,this.noValidationMessage=e?p("inputModeEntryDescription","{0} (Press 'Enter' to confirm or 'Escape' to cancel)",e):Hr.noPromptMessage,this.update()}onDidChangeValue=this.onDidValueChangeEmitter.event;onDidAccept=this.onDidAcceptEmitter.event;show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(e=>{e!==this.value&&(this._value=e,this.onDidValueChangeEmitter.fire(e))})),this.visibleDisposables.add(this.ui.onDidAccept(()=>this.onDidAcceptEmitter.fire())),this.valueSelectionUpdated=!0),super.show()}update(){if(!this.visible)return;this.ui.container.classList.remove("hidden-input");let e={title:!!this.title||!!this.step||!!this.titleButtons.length,description:!!this.description||!!this.step,inputBox:!0,message:!0,progressBar:!0};this.ui.setVisibilities(e),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||""),this.ui.inputBox.password!==this.password&&(this.ui.inputBox.password=this.password)}},Av=class extends Hr{type="quickWidget";update(){if(!this.visible)return;let e={title:!!this.title||!!this.step||!!this.titleButtons.length,description:!!this.description||!!this.step};this.ui.setVisibilities(e),super.update()}},qd=class extends vr{constructor(e,t){super("element",!1,n=>this.getOverrideOptions(n),e,t)}getOverrideOptions(e){let t=(Ze(e.content)?e.content.textContent??"":typeof e.content=="string"?e.content:e.content.value).includes(`
`);return{persistence:{hideOnKeyDown:!1},appearance:{showHoverHint:t,skipFadeInAnimation:!0}}}};qd=ie([ue(0,Ct),ue(1,Zu)],qd);export{nie as EndOfQuickInputBoxContextKey,Zne as InQuickInputContextKey,Lv as InputBox,qd as QuickInputHoverDelegate,tie as QuickInputTypeContextKey,Cv as QuickPick,Av as QuickWidget,_v as backButton,iie as endOfQuickInputBoxContext,Nv as endOfQuickInputBoxContextKeyValue,eie as inQuickInputContext,Mv as inQuickInputContextKeyValue,Lx as quickInputTypeContextKeyValue};
