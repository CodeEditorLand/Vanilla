var d1=Object.defineProperty;var c1=Object.getOwnPropertyDescriptor;var ie=(n,e,t,i)=>{for(var o=i>1?void 0:i?c1(e,t):e,r=n.length-1,s;r>=0;r--)(s=n[r])&&(o=(i?s(e,t,o):s(o))||o);return i&&o&&d1(e,t,o),o},oe=(n,e)=>(t,i)=>e(t,i,n);var Kc=class{unexpectedErrorHandler;listeners;constructor(){this.listeners=[],this.unexpectedErrorHandler=function(e){setTimeout(()=>{throw e.stack?Na.isErrorNoTelemetry(e)?new Na(e.message+`

`+e.stack):new Error(e.message+`

`+e.stack):e},0)}}addListener(e){return this.listeners.push(e),()=>{this._removeListener(e)}}emit(e){this.listeners.forEach(t=>{t(e)})}_removeListener(e){this.listeners.splice(this.listeners.indexOf(e),1)}setUnexpectedErrorHandler(e){this.unexpectedErrorHandler=e}getUnexpectedErrorHandler(){return this.unexpectedErrorHandler}onUnexpectedError(e){this.unexpectedErrorHandler(e),this.emit(e)}onUnexpectedExternalError(e){this.unexpectedErrorHandler(e)}},zm=new Kc;function ir(n){zm.onUnexpectedError(n)}function Ht(n){is(n)||zm.onUnexpectedError(n)}var zc="Canceled";function is(n){return n instanceof In?!0:n instanceof Error&&n.name===zc&&n.message===zc}var In=class extends Error{constructor(){super(zc),this.name=this.message}};function os(n){return n?new Error(`Illegal argument: ${n}`):new Error("Illegal argument")}function Um(n){return n?new Error(`Illegal state: ${n}`):new Error("Illegal state")}var Na=class n extends Error{name;constructor(e){super(e),this.name="CodeExpectedError"}static fromError(e){if(e instanceof n)return e;let t=new n;return t.message=e.message,t.stack=e.stack,t}static isErrorNoTelemetry(e){return e.name==="CodeExpectedError"}},xn=class n extends Error{constructor(e){super(e||"An unexpected bug occurred."),Object.setPrototypeOf(this,n.prototype)}};function Uc(n,e){let t=this,i=!1,o;return function(){if(i)return o;if(i=!0,e)try{o=n.apply(t,arguments)}finally{e()}else o=n.apply(t,arguments);return o}}function Gt(n,e=0){return n[n.length-(1+e)]}function Wm(n){if(n.length===0)throw new Error("Invalid tail call");return[n.slice(0,n.length-1),n[n.length-1]]}function Ct(n,e,t=(i,o)=>i===o){if(n===e)return!0;if(!n||!e||n.length!==e.length)return!1;for(let i=0,o=n.length;i<o;i++)if(!t(n[i],e[i]))return!1;return!0}function qm(n,e,t){return h1(n.length,i=>t(n[i],e))}function h1(n,e){let t=0,i=n-1;for(;t<=i;){let o=(t+i)/2|0,r=e(o);if(r<0)t=o+1;else if(r>0)i=o-1;else return o}return-(t+1)}function $m(n){return n.filter(e=>!!e)}function yo(n,e=t=>t){let t=new Set;return n.filter(i=>{let o=e(i);return t.has(o)?!1:(t.add(o),!0)})}function at(n,e){let t=typeof e=="number"?n:0;typeof e=="number"?t=n:(t=0,e=n);let i=[];if(t<=e)for(let o=t;o<e;o++)i.push(o);else for(let o=t;o>e;o--)i.push(o);return i}function Oa(n,e){let t=n.indexOf(e);t>-1&&(n.splice(t,1),n.unshift(e))}function rs(n,e){let t=n.indexOf(e);t>-1&&(n.splice(t,1),n.push(e))}function p1(n,e,t){let i=Gm(n,e),o=n.length,r=t.length;n.length=o+r;for(let s=o-1;s>=i;s--)n[s+r]=n[s];for(let s=0;s<r;s++)n[s+i]=t[s]}function Vc(n,e,t,i){let o=Gm(n,e),r=n.splice(o,t);return r===void 0&&(r=[]),p1(n,o,i),r}function Gm(n,e){return e<0?Math.max(e+n.length,0):Math.min(e,n.length)}var Qm;(a=>{function n(l){return l<0}a.isLessThan=n;function e(l){return l<=0}a.isLessThanOrEqual=e;function t(l){return l>0}a.isGreaterThan=t;function i(l){return l===0}a.isNeitherLessOrGreaterThan=i,a.greaterThan=1,a.lessThan=-1,a.neitherLessOrGreaterThan=0})(Qm||={});var Vm=class n{constructor(e){this.iterate=e}static empty=new n(e=>{});forEach(e){this.iterate(t=>(e(t),!0))}toArray(){let e=[];return this.iterate(t=>(e.push(t),!0)),e}filter(e){return new n(t=>this.iterate(i=>e(i)?t(i):!0))}map(e){return new n(t=>this.iterate(i=>t(e(i))))}some(e){let t=!1;return this.iterate(i=>(t=e(i),!t)),t}findFirst(e){let t;return this.iterate(i=>e(i)?(t=i,!1):!0),t}findLast(e){let t;return this.iterate(i=>(e(i)&&(t=i),!0)),t}findLastMaxBy(e){let t,i=!0;return this.iterate(o=>((i||Qm.isGreaterThan(e(o,t)))&&(i=!1,t=o),!0)),t}};function Wc(){return globalThis._VSCODE_NLS_MESSAGES}function ss(){return globalThis._VSCODE_NLS_LANGUAGE}var m1=ss()==="pseudo"||typeof document<"u"&&document.location&&document.location.hash.indexOf("pseudo=true")>=0;function Ra(n,e){let t;return e.length===0?t=n:t=n.replace(/\{(\d+)\}/g,(i,o)=>{let r=o[0],s=e[r],a=i;return typeof s=="string"?a=s:(typeof s=="number"||typeof s=="boolean"||s===void 0||s===null)&&(a=String(s)),a}),m1&&(t="\uFF3B"+t.replace(/[aouei]/g,"$&$&")+"\uFF3D"),t}function p(n,e,...t){return Ra(typeof n=="number"?jm(n,e):e,t)}function jm(n,e){let t=Wc()?.[n];if(typeof t!="string"){if(typeof e=="string")return e;throw new Error(`!!! NLS MISSING: ${n} !!!`)}return t}function To(n,e,...t){let i;typeof n=="number"?i=jm(n,e):i=e;let o=Ra(i,t);return{value:o,original:e===i?o:Ra(e,t)}}var or="en",ls=!1,ds=!1,as=!1,f1=!1,Xm=!1,$c=!1,g1=!1,Gc=!1,b1=!1,Jm=!1,Pa,Ba=or,Ym=or,v1,hi,pi=globalThis,ln;typeof pi.vscode<"u"&&typeof pi.vscode.process<"u"?ln=pi.vscode.process:typeof process<"u"&&typeof process?.versions?.node=="string"&&(ln=process);var Zm=typeof ln?.versions?.electron=="string",y1=Zm&&ln?.type==="renderer";if(typeof ln=="object"){ls=ln.platform==="win32",ds=ln.platform==="darwin",as=ln.platform==="linux",f1=as&&!!ln.env.SNAP&&!!ln.env.SNAP_REVISION,g1=Zm,b1=!!ln.env.CI||!!ln.env.BUILD_ARTIFACTSTAGINGDIRECTORY,Pa=or,Ba=or;let n=ln.env.VSCODE_NLS_CONFIG;if(n)try{let e=JSON.parse(n);Pa=e.userLocale,Ym=e.osLocale,Ba=e.resolvedLanguage||or,v1=e.languagePack?.translationsConfigFile}catch{}Xm=!0}else typeof navigator=="object"&&!y1?(hi=navigator.userAgent,ls=hi.indexOf("Windows")>=0,ds=hi.indexOf("Macintosh")>=0,Gc=(hi.indexOf("Macintosh")>=0||hi.indexOf("iPad")>=0||hi.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,as=hi.indexOf("Linux")>=0,Jm=hi?.indexOf("Mobi")>=0,$c=!0,Ba=ss()||or,Pa=navigator.language.toLowerCase(),Ym=Pa):console.error("Unable to resolve platform.");var qc=0;ds?qc=1:ls?qc=3:as&&(qc=2);var lt=ls,Se=ds,pn=as;var rr=Xm;var Fi=$c,T1=$c&&typeof pi.importScripts=="function",ef=T1?pi.origin:void 0,Io=Gc,tf=Jm;var Un=hi,Oi=Ba,I1;(i=>{function n(){return Oi}i.value=n;function e(){return Oi.length===2?Oi==="en":Oi.length>=3?Oi[0]==="e"&&Oi[1]==="n"&&Oi[2]==="-":!1}i.isDefaultVariant=e;function t(){return Oi==="en"}i.isDefault=t})(I1||={});var x1=typeof pi.postMessage=="function"&&!pi.importScripts,nf=(()=>{if(x1){let n=[];pi.addEventListener("message",t=>{if(t.data&&t.data.vscodeScheduleAsyncWork)for(let i=0,o=n.length;i<o;i++){let r=n[i];if(r.id===t.data.vscodeScheduleAsyncWork){n.splice(i,1),r.callback();return}}});let e=0;return t=>{let i=++e;n.push({id:i,callback:t}),pi.postMessage({vscodeScheduleAsyncWork:i},"*")}}return n=>setTimeout(n)})();var Ri=ds||Gc?2:ls?1:3;var Qc=!!(Un&&Un.indexOf("Chrome")>=0),of=!!(Un&&Un.indexOf("Firefox")>=0),rf=!!(!Qc&&Un&&Un.indexOf("Safari")>=0),sf=!!(Un&&Un.indexOf("Edg/")>=0),tw=!!(Un&&Un.indexOf("Android")>=0);var xo,jc=globalThis.vscode;if(typeof jc<"u"&&typeof jc.process<"u"){let n=jc.process;xo={get platform(){return n.platform},get arch(){return n.arch},get env(){return n.env},cwd(){return n.cwd()}}}else typeof process<"u"&&typeof process?.versions?.node=="string"?xo={get platform(){return process.platform},get arch(){return process.arch},get env(){return process.env},cwd(){return process.env.VSCODE_CWD||process.cwd()}}:xo={get platform(){return lt?"win32":Se?"darwin":"linux"},get arch(){},get env(){return{}},cwd(){return"/"}};var cs=xo.cwd,af=xo.env,lf=xo.platform,ow=xo.arch;var w1=65,E1=97,k1=90,D1=122,Hi=46,xt=47,Qt=92,Pi=58,_1=63,Ha=class extends Error{code;constructor(e,t,i){let o;typeof t=="string"&&t.indexOf("not ")===0?(o="must not be",t=t.replace(/^not /,"")):o="must be";let r=e.indexOf(".")!==-1?"property":"argument",s=`The "${e}" ${r} ${o} of type ${t}`;s+=`. Received type ${typeof i}`,super(s),this.code="ERR_INVALID_ARG_TYPE"}};function C1(n,e){if(n===null||typeof n!="object")throw new Ha(e,"Object",n)}function it(n,e){if(typeof n!="string")throw new Ha(e,"string",n)}var jt=lf==="win32";function we(n){return n===xt||n===Qt}function Yc(n){return n===xt}function Bi(n){return n>=w1&&n<=k1||n>=E1&&n<=D1}function Ka(n,e,t,i){let o="",r=0,s=-1,a=0,l=0;for(let d=0;d<=n.length;++d){if(d<n.length)l=n.charCodeAt(d);else{if(i(l))break;l=xt}if(i(l)){if(!(s===d-1||a===1))if(a===2){if(o.length<2||r!==2||o.charCodeAt(o.length-1)!==Hi||o.charCodeAt(o.length-2)!==Hi){if(o.length>2){let u=o.lastIndexOf(t);u===-1?(o="",r=0):(o=o.slice(0,u),r=o.length-1-o.lastIndexOf(t)),s=d,a=0;continue}else if(o.length!==0){o="",r=0,s=d,a=0;continue}}e&&(o+=o.length>0?`${t}..`:"..",r=2)}else o.length>0?o+=`${t}${n.slice(s+1,d)}`:o=n.slice(s+1,d),r=d-s-1;s=d,a=0}else l===Hi&&a!==-1?++a:a=-1}return o}function L1(n){return n?`${n[0]==="."?"":"."}${n}`:""}function df(n,e){C1(e,"pathObject");let t=e.dir||e.root,i=e.base||`${e.name||""}${L1(e.ext)}`;return t?t===e.root?`${t}${i}`:`${t}${n}${i}`:i}var tt={resolve(...n){let e="",t="",i=!1;for(let o=n.length-1;o>=-1;o--){let r;if(o>=0){if(r=n[o],it(r,`paths[${o}]`),r.length===0)continue}else e.length===0?r=cs():(r=af[`=${e}`]||cs(),(r===void 0||r.slice(0,2).toLowerCase()!==e.toLowerCase()&&r.charCodeAt(2)===Qt)&&(r=`${e}\\`));let s=r.length,a=0,l="",d=!1,u=r.charCodeAt(0);if(s===1)we(u)&&(a=1,d=!0);else if(we(u))if(d=!0,we(r.charCodeAt(1))){let h=2,m=h;for(;h<s&&!we(r.charCodeAt(h));)h++;if(h<s&&h!==m){let y=r.slice(m,h);for(m=h;h<s&&we(r.charCodeAt(h));)h++;if(h<s&&h!==m){for(m=h;h<s&&!we(r.charCodeAt(h));)h++;(h===s||h!==m)&&(l=`\\\\${y}\\${r.slice(m,h)}`,a=h)}}}else a=1;else Bi(u)&&r.charCodeAt(1)===Pi&&(l=r.slice(0,2),a=2,s>2&&we(r.charCodeAt(2))&&(d=!0,a=3));if(l.length>0)if(e.length>0){if(l.toLowerCase()!==e.toLowerCase())continue}else e=l;if(i){if(e.length>0)break}else if(t=`${r.slice(a)}\\${t}`,i=d,d&&e.length>0)break}return t=Ka(t,!i,"\\",we),i?`${e}\\${t}`:`${e}${t}`||"."},normalize(n){it(n,"path");let e=n.length;if(e===0)return".";let t=0,i,o=!1,r=n.charCodeAt(0);if(e===1)return Yc(r)?"\\":n;if(we(r))if(o=!0,we(n.charCodeAt(1))){let a=2,l=a;for(;a<e&&!we(n.charCodeAt(a));)a++;if(a<e&&a!==l){let d=n.slice(l,a);for(l=a;a<e&&we(n.charCodeAt(a));)a++;if(a<e&&a!==l){for(l=a;a<e&&!we(n.charCodeAt(a));)a++;if(a===e)return`\\\\${d}\\${n.slice(l)}\\`;a!==l&&(i=`\\\\${d}\\${n.slice(l,a)}`,t=a)}}}else t=1;else Bi(r)&&n.charCodeAt(1)===Pi&&(i=n.slice(0,2),t=2,e>2&&we(n.charCodeAt(2))&&(o=!0,t=3));let s=t<e?Ka(n.slice(t),!o,"\\",we):"";return s.length===0&&!o&&(s="."),s.length>0&&we(n.charCodeAt(e-1))&&(s+="\\"),i===void 0?o?`\\${s}`:s:o?`${i}\\${s}`:`${i}${s}`},isAbsolute(n){it(n,"path");let e=n.length;if(e===0)return!1;let t=n.charCodeAt(0);return we(t)||e>2&&Bi(t)&&n.charCodeAt(1)===Pi&&we(n.charCodeAt(2))},join(...n){if(n.length===0)return".";let e,t;for(let r=0;r<n.length;++r){let s=n[r];it(s,"path"),s.length>0&&(e===void 0?e=t=s:e+=`\\${s}`)}if(e===void 0)return".";let i=!0,o=0;if(typeof t=="string"&&we(t.charCodeAt(0))){++o;let r=t.length;r>1&&we(t.charCodeAt(1))&&(++o,r>2&&(we(t.charCodeAt(2))?++o:i=!1))}if(i){for(;o<e.length&&we(e.charCodeAt(o));)o++;o>=2&&(e=`\\${e.slice(o)}`)}return tt.normalize(e)},relative(n,e){if(it(n,"from"),it(e,"to"),n===e)return"";let t=tt.resolve(n),i=tt.resolve(e);if(t===i||(n=t.toLowerCase(),e=i.toLowerCase(),n===e))return"";let o=0;for(;o<n.length&&n.charCodeAt(o)===Qt;)o++;let r=n.length;for(;r-1>o&&n.charCodeAt(r-1)===Qt;)r--;let s=r-o,a=0;for(;a<e.length&&e.charCodeAt(a)===Qt;)a++;let l=e.length;for(;l-1>a&&e.charCodeAt(l-1)===Qt;)l--;let d=l-a,u=s<d?s:d,h=-1,m=0;for(;m<u;m++){let w=n.charCodeAt(o+m);if(w!==e.charCodeAt(a+m))break;w===Qt&&(h=m)}if(m!==u){if(h===-1)return i}else{if(d>u){if(e.charCodeAt(a+m)===Qt)return i.slice(a+m+1);if(m===2)return i.slice(a+m)}s>u&&(n.charCodeAt(o+m)===Qt?h=m:m===2&&(h=3)),h===-1&&(h=0)}let y="";for(m=o+h+1;m<=r;++m)(m===r||n.charCodeAt(m)===Qt)&&(y+=y.length===0?"..":"\\..");return a+=h,y.length>0?`${y}${i.slice(a,l)}`:(i.charCodeAt(a)===Qt&&++a,i.slice(a,l))},toNamespacedPath(n){if(typeof n!="string"||n.length===0)return n;let e=tt.resolve(n);if(e.length<=2)return n;if(e.charCodeAt(0)===Qt){if(e.charCodeAt(1)===Qt){let t=e.charCodeAt(2);if(t!==_1&&t!==Hi)return`\\\\?\\UNC\\${e.slice(2)}`}}else if(Bi(e.charCodeAt(0))&&e.charCodeAt(1)===Pi&&e.charCodeAt(2)===Qt)return`\\\\?\\${e}`;return n},dirname(n){it(n,"path");let e=n.length;if(e===0)return".";let t=-1,i=0,o=n.charCodeAt(0);if(e===1)return we(o)?n:".";if(we(o)){if(t=i=1,we(n.charCodeAt(1))){let a=2,l=a;for(;a<e&&!we(n.charCodeAt(a));)a++;if(a<e&&a!==l){for(l=a;a<e&&we(n.charCodeAt(a));)a++;if(a<e&&a!==l){for(l=a;a<e&&!we(n.charCodeAt(a));)a++;if(a===e)return n;a!==l&&(t=i=a+1)}}}}else Bi(o)&&n.charCodeAt(1)===Pi&&(t=e>2&&we(n.charCodeAt(2))?3:2,i=t);let r=-1,s=!0;for(let a=e-1;a>=i;--a)if(we(n.charCodeAt(a))){if(!s){r=a;break}}else s=!1;if(r===-1){if(t===-1)return".";r=t}return n.slice(0,r)},basename(n,e){e!==void 0&&it(e,"suffix"),it(n,"path");let t=0,i=-1,o=!0,r;if(n.length>=2&&Bi(n.charCodeAt(0))&&n.charCodeAt(1)===Pi&&(t=2),e!==void 0&&e.length>0&&e.length<=n.length){if(e===n)return"";let s=e.length-1,a=-1;for(r=n.length-1;r>=t;--r){let l=n.charCodeAt(r);if(we(l)){if(!o){t=r+1;break}}else a===-1&&(o=!1,a=r+1),s>=0&&(l===e.charCodeAt(s)?--s===-1&&(i=r):(s=-1,i=a))}return t===i?i=a:i===-1&&(i=n.length),n.slice(t,i)}for(r=n.length-1;r>=t;--r)if(we(n.charCodeAt(r))){if(!o){t=r+1;break}}else i===-1&&(o=!1,i=r+1);return i===-1?"":n.slice(t,i)},extname(n){it(n,"path");let e=0,t=-1,i=0,o=-1,r=!0,s=0;n.length>=2&&n.charCodeAt(1)===Pi&&Bi(n.charCodeAt(0))&&(e=i=2);for(let a=n.length-1;a>=e;--a){let l=n.charCodeAt(a);if(we(l)){if(!r){i=a+1;break}continue}o===-1&&(r=!1,o=a+1),l===Hi?t===-1?t=a:s!==1&&(s=1):t!==-1&&(s=-1)}return t===-1||o===-1||s===0||s===1&&t===o-1&&t===i+1?"":n.slice(t,o)},format:df.bind(null,"\\"),parse(n){it(n,"path");let e={root:"",dir:"",base:"",ext:"",name:""};if(n.length===0)return e;let t=n.length,i=0,o=n.charCodeAt(0);if(t===1)return we(o)?(e.root=e.dir=n,e):(e.base=e.name=n,e);if(we(o)){if(i=1,we(n.charCodeAt(1))){let h=2,m=h;for(;h<t&&!we(n.charCodeAt(h));)h++;if(h<t&&h!==m){for(m=h;h<t&&we(n.charCodeAt(h));)h++;if(h<t&&h!==m){for(m=h;h<t&&!we(n.charCodeAt(h));)h++;h===t?i=h:h!==m&&(i=h+1)}}}}else if(Bi(o)&&n.charCodeAt(1)===Pi){if(t<=2)return e.root=e.dir=n,e;if(i=2,we(n.charCodeAt(2))){if(t===3)return e.root=e.dir=n,e;i=3}}i>0&&(e.root=n.slice(0,i));let r=-1,s=i,a=-1,l=!0,d=n.length-1,u=0;for(;d>=i;--d){if(o=n.charCodeAt(d),we(o)){if(!l){s=d+1;break}continue}a===-1&&(l=!1,a=d+1),o===Hi?r===-1?r=d:u!==1&&(u=1):r!==-1&&(u=-1)}return a!==-1&&(r===-1||u===0||u===1&&r===a-1&&r===s+1?e.base=e.name=n.slice(s,a):(e.name=n.slice(s,r),e.base=n.slice(s,a),e.ext=n.slice(r,a))),s>0&&s!==i?e.dir=n.slice(0,s-1):e.dir=e.root,e},sep:"\\",delimiter:";",win32:null,posix:null},A1=(()=>{if(jt){let n=/\\/g;return()=>{let e=cs().replace(n,"/");return e.slice(e.indexOf("/"))}}return()=>cs()})(),Me={resolve(...n){let e="",t=!1;for(let i=n.length-1;i>=-1&&!t;i--){let o=i>=0?n[i]:A1();it(o,`paths[${i}]`),o.length!==0&&(e=`${o}/${e}`,t=o.charCodeAt(0)===xt)}return e=Ka(e,!t,"/",Yc),t?`/${e}`:e.length>0?e:"."},normalize(n){if(it(n,"path"),n.length===0)return".";let e=n.charCodeAt(0)===xt,t=n.charCodeAt(n.length-1)===xt;return n=Ka(n,!e,"/",Yc),n.length===0?e?"/":t?"./":".":(t&&(n+="/"),e?`/${n}`:n)},isAbsolute(n){return it(n,"path"),n.length>0&&n.charCodeAt(0)===xt},join(...n){if(n.length===0)return".";let e;for(let t=0;t<n.length;++t){let i=n[t];it(i,"path"),i.length>0&&(e===void 0?e=i:e+=`/${i}`)}return e===void 0?".":Me.normalize(e)},relative(n,e){if(it(n,"from"),it(e,"to"),n===e||(n=Me.resolve(n),e=Me.resolve(e),n===e))return"";let t=1,i=n.length,o=i-t,r=1,s=e.length-r,a=o<s?o:s,l=-1,d=0;for(;d<a;d++){let h=n.charCodeAt(t+d);if(h!==e.charCodeAt(r+d))break;h===xt&&(l=d)}if(d===a)if(s>a){if(e.charCodeAt(r+d)===xt)return e.slice(r+d+1);if(d===0)return e.slice(r+d)}else o>a&&(n.charCodeAt(t+d)===xt?l=d:d===0&&(l=0));let u="";for(d=t+l+1;d<=i;++d)(d===i||n.charCodeAt(d)===xt)&&(u+=u.length===0?"..":"/..");return`${u}${e.slice(r+l)}`},toNamespacedPath(n){return n},dirname(n){if(it(n,"path"),n.length===0)return".";let e=n.charCodeAt(0)===xt,t=-1,i=!0;for(let o=n.length-1;o>=1;--o)if(n.charCodeAt(o)===xt){if(!i){t=o;break}}else i=!1;return t===-1?e?"/":".":e&&t===1?"//":n.slice(0,t)},basename(n,e){e!==void 0&&it(e,"ext"),it(n,"path");let t=0,i=-1,o=!0,r;if(e!==void 0&&e.length>0&&e.length<=n.length){if(e===n)return"";let s=e.length-1,a=-1;for(r=n.length-1;r>=0;--r){let l=n.charCodeAt(r);if(l===xt){if(!o){t=r+1;break}}else a===-1&&(o=!1,a=r+1),s>=0&&(l===e.charCodeAt(s)?--s===-1&&(i=r):(s=-1,i=a))}return t===i?i=a:i===-1&&(i=n.length),n.slice(t,i)}for(r=n.length-1;r>=0;--r)if(n.charCodeAt(r)===xt){if(!o){t=r+1;break}}else i===-1&&(o=!1,i=r+1);return i===-1?"":n.slice(t,i)},extname(n){it(n,"path");let e=-1,t=0,i=-1,o=!0,r=0;for(let s=n.length-1;s>=0;--s){let a=n.charCodeAt(s);if(a===xt){if(!o){t=s+1;break}continue}i===-1&&(o=!1,i=s+1),a===Hi?e===-1?e=s:r!==1&&(r=1):e!==-1&&(r=-1)}return e===-1||i===-1||r===0||r===1&&e===i-1&&e===t+1?"":n.slice(e,i)},format:df.bind(null,"/"),parse(n){it(n,"path");let e={root:"",dir:"",base:"",ext:"",name:""};if(n.length===0)return e;let t=n.charCodeAt(0)===xt,i;t?(e.root="/",i=1):i=0;let o=-1,r=0,s=-1,a=!0,l=n.length-1,d=0;for(;l>=i;--l){let u=n.charCodeAt(l);if(u===xt){if(!a){r=l+1;break}continue}s===-1&&(a=!1,s=l+1),u===Hi?o===-1?o=l:d!==1&&(d=1):o!==-1&&(d=-1)}if(s!==-1){let u=r===0&&t?1:r;o===-1||d===0||d===1&&o===s-1&&o===r+1?e.base=e.name=n.slice(u,s):(e.name=n.slice(u,o),e.base=n.slice(u,s),e.ext=n.slice(o,s))}return r>0?e.dir=n.slice(0,r-1):t&&(e.dir="/"),e},sep:"/",delimiter:":",win32:null,posix:null};Me.win32=tt.win32=tt;Me.posix=tt.posix=Me;var Xc=jt?tt.normalize:Me.normalize,M1=jt?tt.isAbsolute:Me.isAbsolute,Jc=jt?tt.join:Me.join,cf=jt?tt.resolve:Me.resolve,uf=jt?tt.relative:Me.relative,hf=jt?tt.dirname:Me.dirname,N1=jt?tt.basename:Me.basename,pf=jt?tt.extname:Me.extname,rw=jt?tt.format:Me.format,sw=jt?tt.parse:Me.parse,aw=jt?tt.toNamespacedPath:Me.toNamespacedPath,mi=jt?tt.sep:Me.sep,lw=jt?tt.delimiter:Me.delimiter;var F1=/^\w[\w\d+.-]*$/,R1=/^\//,P1=/^\/\//;function B1(n,e){if(!n.scheme&&e)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${n.authority}", path: "${n.path}", query: "${n.query}", fragment: "${n.fragment}"}`);if(n.scheme&&!F1.test(n.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(n.path){if(n.authority){if(!R1.test(n.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(P1.test(n.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function H1(n,e){return!n&&!e?"file":n}function K1(n,e){switch(n){case"https":case"http":case"file":e?e[0]!==Sn&&(e=Sn+e):e=Sn;break}return e}var qe="",Sn="/",z1=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,Ce=class n{static isUri(e){return e instanceof n?!0:e?typeof e.authority=="string"&&typeof e.fragment=="string"&&typeof e.path=="string"&&typeof e.query=="string"&&typeof e.scheme=="string"&&typeof e.fsPath=="string"&&typeof e.with=="function"&&typeof e.toString=="function":!1}scheme;authority;path;query;fragment;constructor(e,t,i,o,r,s=!1){typeof e=="object"?(this.scheme=e.scheme||qe,this.authority=e.authority||qe,this.path=e.path||qe,this.query=e.query||qe,this.fragment=e.fragment||qe):(this.scheme=H1(e,s),this.authority=t||qe,this.path=K1(this.scheme,i||qe),this.query=o||qe,this.fragment=r||qe,B1(this,s))}get fsPath(){return us(this,!1)}with(e){if(!e)return this;let{scheme:t,authority:i,path:o,query:r,fragment:s}=e;return t===void 0?t=this.scheme:t===null&&(t=qe),i===void 0?i=this.authority:i===null&&(i=qe),o===void 0?o=this.path:o===null&&(o=qe),r===void 0?r=this.query:r===null&&(r=qe),s===void 0?s=this.fragment:s===null&&(s=qe),t===this.scheme&&i===this.authority&&o===this.path&&r===this.query&&s===this.fragment?this:new Ki(t,i,o,r,s)}static parse(e,t=!1){let i=z1.exec(e);return i?new Ki(i[2]||qe,za(i[4]||qe),za(i[5]||qe),za(i[7]||qe),za(i[9]||qe),t):new Ki(qe,qe,qe,qe,qe)}static file(e){let t=qe;if(lt&&(e=e.replace(/\\/g,Sn)),e[0]===Sn&&e[1]===Sn){let i=e.indexOf(Sn,2);i===-1?(t=e.substring(2),e=Sn):(t=e.substring(2,i),e=e.substring(i)||Sn)}return new Ki("file",t,e,qe,qe)}static from(e,t){return new Ki(e.scheme,e.authority,e.path,e.query,e.fragment,t)}static joinPath(e,...t){if(!e.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let i;return lt&&e.scheme==="file"?i=n.file(tt.join(us(e,!0),...t)).path:i=Me.join(e.path,...t),e.with({path:i})}toString(e=!1){return eu(this,e)}toJSON(){return this}static revive(e){if(e){if(e instanceof n)return e;{let t=new Ki(e);return t._formatted=e.external??null,t._fsPath=e._sep===gf?e.fsPath??null:null,t}}else return e}[Symbol.for("debug.description")](){return`URI(${this.toString()})`}};var gf=lt?1:void 0,Ki=class extends Ce{_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=us(this,!1)),this._fsPath}toString(e=!1){return e?eu(this,!0):(this._formatted||(this._formatted=eu(this,!1)),this._formatted)}toJSON(){let e={$mid:1};return this._fsPath&&(e.fsPath=this._fsPath,e._sep=gf),this._formatted&&(e.external=this._formatted),this.path&&(e.path=this.path),this.scheme&&(e.scheme=this.scheme),this.authority&&(e.authority=this.authority),this.query&&(e.query=this.query),this.fragment&&(e.fragment=this.fragment),e}},bf={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function mf(n,e,t){let i,o=-1;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);if(s>=97&&s<=122||s>=65&&s<=90||s>=48&&s<=57||s===45||s===46||s===95||s===126||e&&s===47||t&&s===91||t&&s===93||t&&s===58)o!==-1&&(i+=encodeURIComponent(n.substring(o,r)),o=-1),i!==void 0&&(i+=n.charAt(r));else{i===void 0&&(i=n.substr(0,r));let a=bf[s];a!==void 0?(o!==-1&&(i+=encodeURIComponent(n.substring(o,r)),o=-1),i+=a):o===-1&&(o=r)}}return o!==-1&&(i+=encodeURIComponent(n.substring(o))),i!==void 0?i:n}function U1(n){let e;for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);i===35||i===63?(e===void 0&&(e=n.substr(0,t)),e+=bf[i]):e!==void 0&&(e+=n[t])}return e!==void 0?e:n}function us(n,e){let t;return n.authority&&n.path.length>1&&n.scheme==="file"?t=`//${n.authority}${n.path}`:n.path.charCodeAt(0)===47&&(n.path.charCodeAt(1)>=65&&n.path.charCodeAt(1)<=90||n.path.charCodeAt(1)>=97&&n.path.charCodeAt(1)<=122)&&n.path.charCodeAt(2)===58?e?t=n.path.substr(1):t=n.path[1].toLowerCase()+n.path.substr(2):t=n.path,lt&&(t=t.replace(/\//g,"\\")),t}function eu(n,e){let t=e?U1:mf,i="",{scheme:o,authority:r,path:s,query:a,fragment:l}=n;if(o&&(i+=o,i+=":"),(r||o==="file")&&(i+=Sn,i+=Sn),r){let d=r.indexOf("@");if(d!==-1){let u=r.substr(0,d);r=r.substr(d+1),d=u.lastIndexOf(":"),d===-1?i+=t(u,!1,!1):(i+=t(u.substr(0,d),!1,!1),i+=":",i+=t(u.substr(d+1),!1,!0)),i+="@"}r=r.toLowerCase(),d=r.lastIndexOf(":"),d===-1?i+=t(r,!1,!0):(i+=t(r.substr(0,d),!1,!0),i+=r.substr(d))}if(s){if(s.length>=3&&s.charCodeAt(0)===47&&s.charCodeAt(2)===58){let d=s.charCodeAt(1);d>=65&&d<=90&&(s=`/${String.fromCharCode(d+32)}:${s.substr(3)}`)}else if(s.length>=2&&s.charCodeAt(1)===58){let d=s.charCodeAt(0);d>=65&&d<=90&&(s=`${String.fromCharCode(d+32)}:${s.substr(2)}`)}i+=t(s,!0,!1)}return a&&(i+="?",i+=t(a,!1,!1)),l&&(i+="#",i+=e?l:mf(l,!1,!1)),i}function vf(n){try{return decodeURIComponent(n)}catch{return n.length>3?n.substr(0,3)+vf(n.substr(3)):n}}var ff=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function za(n){return n.match(ff)?n.replace(ff,e=>vf(e)):n}var tu=class{[Symbol.toStringTag]="LinkedMap";_map;_head;_tail;_size;_state;constructor(){this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(e){return this._map.has(e)}get(e,t=0){let i=this._map.get(e);if(i)return t!==0&&this.touch(i,t),i.value}set(e,t,i=0){let o=this._map.get(e);if(o)o.value=t,i!==0&&this.touch(o,i);else{switch(o={key:e,value:t,next:void 0,previous:void 0},i){case 0:this.addItemLast(o);break;case 1:this.addItemFirst(o);break;case 2:this.addItemLast(o);break;default:this.addItemLast(o);break}this._map.set(e,o),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let t=this._map.get(e);if(t)return this._map.delete(e),this.removeItem(t),this._size--,t.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){let i=this._state,o=this._head;for(;o;){if(t?e.bind(t)(o.value,o.key,this):e(o.value,o.key,this),this._state!==i)throw new Error("LinkedMap got modified during iteration.");o=o.next}}keys(){let e=this,t=this._state,i=this._head,o={[Symbol.iterator](){return o},next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(i){let r={value:i.key,done:!1};return i=i.next,r}else return{value:void 0,done:!0}}};return o}values(){let e=this,t=this._state,i=this._head,o={[Symbol.iterator](){return o},next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(i){let r={value:i.value,done:!1};return i=i.next,r}else return{value:void 0,done:!0}}};return o}entries(){let e=this,t=this._state,i=this._head,o={[Symbol.iterator](){return o},next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(i){let r={value:[i.key,i.value],done:!1};return i=i.next,r}else return{value:void 0,done:!0}}};return o}[Symbol.iterator](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let t=this._head,i=this.size;for(;t&&i>e;)this._map.delete(t.key),t=t.next,i--;this._head=t,this._size=i,t&&(t.previous=void 0),this._state++}trimNew(e){if(e>=this.size)return;if(e===0){this.clear();return}let t=this._tail,i=this.size;for(;t&&i>e;)this._map.delete(t.key),t=t.previous,i--;this._tail=t,this._size=i,t&&(t.next=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let t=e.next,i=e.previous;if(!t||!i)throw new Error("Invalid list");t.previous=i,i.next=t}e.next=void 0,e.previous=void 0,this._state++}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(t!==1&&t!==2)){if(t===1){if(e===this._head)return;let i=e.next,o=e.previous;e===this._tail?(o.next=void 0,this._tail=o):(i.previous=o,o.next=i),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(t===2){if(e===this._tail)return;let i=e.next,o=e.previous;e===this._head?(i.previous=void 0,this._head=i):(i.previous=o,o.next=i),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((t,i)=>{e.push([i,t])}),e}fromJSON(e){this.clear();for(let[t,i]of e)this.set(t,i)}},nu=class extends tu{_limit;_ratio;constructor(e,t=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,t),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,t=2){return super.get(e,t)}peek(e){return super.get(e,0)}set(e,t){return super.set(e,t,2),this}checkTrim(){this.size>this._limit&&this.trim(Math.round(this._limit*this._ratio))}},Ua=class extends nu{constructor(e,t=1){super(e,t)}trim(e){this.trimOld(e)}set(e,t){return super.set(e,t),this.checkTrim(),this}};var hs=class{map=new Map;add(e,t){let i=this.map.get(e);i||(i=new Set,this.map.set(e,i)),i.add(t)}delete(e,t){let i=this.map.get(e);i&&(i.delete(t),i.size===0&&this.map.delete(e))}forEach(e,t){let i=this.map.get(e);i&&i.forEach(t)}get(e){let t=this.map.get(e);return t||new Set}};var ge;(H=>{function n(P){return P&&typeof P=="object"&&typeof P[Symbol.iterator]=="function"}H.is=n;let e=Object.freeze([]);function t(){return e}H.empty=t;function*i(P){yield P}H.single=i;function o(P){return n(P)?P:i(P)}H.wrap=o;function r(P){return P||e}H.from=r;function*s(P){for(let A=P.length-1;A>=0;A--)yield P[A]}H.reverse=s;function a(P){return!P||P[Symbol.iterator]().next().done===!0}H.isEmpty=a;function l(P){return P[Symbol.iterator]().next().value}H.first=l;function d(P,A){let z=0;for(let K of P)if(A(K,z++))return!0;return!1}H.some=d;function u(P,A){for(let z of P)if(A(z))return z}H.find=u;function*h(P,A){for(let z of P)A(z)&&(yield z)}H.filter=h;function*m(P,A){let z=0;for(let K of P)yield A(K,z++)}H.map=m;function*y(P,A){let z=0;for(let K of P)yield*A(K,z++)}H.flatMap=y;function*w(...P){for(let A of P)yield*A}H.concat=w;function f(P,A,z){let K=z;for(let F of P)K=A(K,F);return K}H.reduce=f;function*x(P,A,z=P.length){for(A<0&&(A+=P.length),z<0?z+=P.length:z>P.length&&(z=P.length);A<z;A++)yield P[A]}H.slice=x;function L(P,A=Number.POSITIVE_INFINITY){let z=[];if(A===0)return[z,P];let K=P[Symbol.iterator]();for(let F=0;F<A;F++){let ne=K.next();if(ne.done)return[z,H.empty()];z.push(ne.value)}return[z,{[Symbol.iterator](){return K}}]}H.consume=L;async function C(P){let A=[];for await(let z of P)A.push(z);return Promise.resolve(A)}H.asyncToArray=C})(ge||={});var V1=!1,So=null;function W1(n){So=n}if(V1){let n="__is_disposable_tracked__";W1(new class{trackDisposable(e){let t=new Error("Potentially leaked disposable").stack;setTimeout(()=>{e[n]||console.log(t)},3e3)}setParent(e,t){if(e&&e!==V.None)try{e[n]=!0}catch{}}markAsDisposed(e){if(e&&e!==V.None)try{e[n]=!0}catch{}}markAsSingleton(e){}})}function ko(n){return So?.trackDisposable(n),n}function Do(n){So?.markAsDisposed(n)}function ps(n,e){So?.setParent(n,e)}function q1(n,e){if(So)for(let t of n)So.setParent(t,e)}function iu(n){return So?.markAsSingleton(n),n}function $e(n){if(ge.is(n)){let e=[];for(let t of n)if(t)try{t.dispose()}catch(i){e.push(i)}if(e.length===1)throw e[0];if(e.length>1)throw new AggregateError(e,"Encountered errors while disposing of store");return Array.isArray(n)?[]:n}else if(n)return n.dispose(),n}function fi(...n){let e=ce(()=>$e(n));return q1(n,e),e}function ce(n){let e=ko({dispose:Uc(()=>{Do(e),n()})});return e}var q=class n{static DISABLE_DISPOSED_WARNING=!1;_toDispose=new Set;_isDisposed=!1;constructor(){ko(this)}dispose(){this._isDisposed||(Do(this),this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){if(this._toDispose.size!==0)try{$e(this._toDispose)}finally{this._toDispose.clear()}}add(e){if(!e)return e;if(e===this)throw new Error("Cannot register a disposable on itself!");return ps(e,this),this._isDisposed?n.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(e),e}delete(e){if(e){if(e===this)throw new Error("Cannot dispose a disposable on itself!");this._toDispose.delete(e),e.dispose()}}deleteAndLeak(e){e&&this._toDispose.has(e)&&(this._toDispose.delete(e),ps(e,null))}},V=class{static None=Object.freeze({dispose(){}});_store=new q;constructor(){ko(this),ps(this._store,this)}dispose(){Do(this),this._store.dispose()}_register(e){if(e===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(e)}},wo=class{_value;_isDisposed=!1;constructor(){ko(this)}get value(){return this._isDisposed?void 0:this._value}set value(e){this._isDisposed||e===this._value||(this._value?.dispose(),e&&ps(e,this),this._value=e)}clear(){this.value=void 0}dispose(){this._isDisposed=!0,Do(this),this._value?.dispose(),this._value=void 0}clearAndLeak(){let e=this._value;return this._value=void 0,e&&ps(e,null),e}};var Eo=class{_store=new Map;_isDisposed=!1;constructor(){ko(this)}dispose(){Do(this),this._isDisposed=!0,this.clearAndDisposeAll()}clearAndDisposeAll(){if(this._store.size)try{$e(this._store.values())}finally{this._store.clear()}}has(e){return this._store.has(e)}get size(){return this._store.size}get(e){return this._store.get(e)}set(e,t,i=!1){this._isDisposed&&console.warn(new Error("Trying to add a disposable to a DisposableMap that has already been disposed of. The added object will be leaked!").stack),i||this._store.get(e)?.dispose(),this._store.set(e,t)}deleteAndDispose(e){this._store.get(e)?.dispose(),this._store.delete(e)}deleteAndLeak(e){let t=this._store.get(e);return this._store.delete(e),t}keys(){return this._store.keys()}values(){return this._store.values()}[Symbol.iterator](){return this._store[Symbol.iterator]()}};var Xe=class n{static Undefined=new n(void 0);element;next;prev;constructor(e){this.element=e,this.next=n.Undefined,this.prev=n.Undefined}},mn=class{_first=Xe.Undefined;_last=Xe.Undefined;_size=0;get size(){return this._size}isEmpty(){return this._first===Xe.Undefined}clear(){let e=this._first;for(;e!==Xe.Undefined;){let t=e.next;e.prev=Xe.Undefined,e.next=Xe.Undefined,e=t}this._first=Xe.Undefined,this._last=Xe.Undefined,this._size=0}unshift(e){return this._insert(e,!1)}push(e){return this._insert(e,!0)}_insert(e,t){let i=new Xe(e);if(this._first===Xe.Undefined)this._first=i,this._last=i;else if(t){let r=this._last;this._last=i,i.prev=r,r.next=i}else{let r=this._first;this._first=i,i.next=r,r.prev=i}this._size+=1;let o=!1;return()=>{o||(o=!0,this._remove(i))}}shift(){if(this._first!==Xe.Undefined){let e=this._first.element;return this._remove(this._first),e}}pop(){if(this._last!==Xe.Undefined){let e=this._last.element;return this._remove(this._last),e}}_remove(e){if(e.prev!==Xe.Undefined&&e.next!==Xe.Undefined){let t=e.prev;t.next=e.next,e.next.prev=t}else e.prev===Xe.Undefined&&e.next===Xe.Undefined?(this._first=Xe.Undefined,this._last=Xe.Undefined):e.next===Xe.Undefined?(this._last=this._last.prev,this._last.next=Xe.Undefined):e.prev===Xe.Undefined&&(this._first=this._first.next,this._first.prev=Xe.Undefined);this._size-=1}*[Symbol.iterator](){let e=this._first;for(;e!==Xe.Undefined;)yield e.element,e=e.next}};var qn=(n,e)=>n===e;var Kt=class{constructor(e,t,i){this.owner=e;this.debugNameSource=t;this.referenceFn=i}getDebugName(e){return xf(e,this)}},yf=new Map,ou=new WeakMap;function xf(n,e){let t=ou.get(n);if(t)return t;let i=$1(n,e);if(i){let o=yf.get(i)??0;o++,yf.set(i,o);let r=o===1?i:`${i}#${o}`;return ou.set(n,r),r}}function $1(n,e){let t=ou.get(n);if(t)return t;let i=e.owner?Q1(e.owner)+".":"",o,r=e.debugNameSource;if(r!==void 0)if(typeof r=="function"){if(o=r(),o!==void 0)return i+o}else return i+r;let s=e.referenceFn;if(s!==void 0&&(o=Va(s),o!==void 0))return i+o;if(e.owner!==void 0){let a=G1(e.owner,n);if(a!==void 0)return i+a}}function G1(n,e){for(let t in n)if(n[t]===e)return t}var Tf=new Map,If=new WeakMap;function Q1(n){let e=If.get(n);if(e)return e;let t=j1(n),i=Tf.get(t)??0;i++,Tf.set(t,i);let o=i===1?t:`${t}#${i}`;return If.set(n,o),o}function j1(n){let e=n.constructor;return e?e.name:"Object"}function Va(n){let e=n.toString(),i=/\/\*\*\s*@description\s*([^*]*)\*\//.exec(e);return(i?i[1]:void 0)?.trim()}function Wa(n,e){if(!n)throw new Error(e?`Assertion failed (${e})`:"Assertion Failed")}function Sf(n,e="Unreachable"){throw new Error(e)}function qa(n){if(!n()){debugger;n(),Ht(new xn("Assertion Failed"))}}function gi(n){return new $a(new Kt(void 0,void 0,n),n,void 0,void 0)}var $a=class{constructor(e,t,i,o){this._debugNameData=e;this._runFn=t;this.createChangeSummary=i;this._handleChange=o;this.changeSummary=this.createChangeSummary?.(),Yt()?.handleAutorunCreated(this),this._runIfNeeded(),ko(this)}state=2;updateCount=0;disposed=!1;dependencies=new Set;dependenciesToBeRemoved=new Set;changeSummary;get debugName(){return this._debugNameData.getDebugName(this)??"(anonymous)"}dispose(){this.disposed=!0;for(let e of this.dependencies)e.removeObserver(this);this.dependencies.clear(),Do(this)}_runIfNeeded(){if(this.state===3)return;let e=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=e,this.state=3;let t=this.disposed;try{if(!t){Yt()?.handleAutorunTriggered(this);let i=this.changeSummary;try{this.changeSummary=this.createChangeSummary?.(),this._runFn(this,i)}catch(o){ir(o)}}}finally{t||Yt()?.handleAutorunFinished(this);for(let i of this.dependenciesToBeRemoved)i.removeObserver(this);this.dependenciesToBeRemoved.clear()}}toString(){return`Autorun<${this.debugName}>`}beginUpdate(){this.state===3&&(this.state=1),this.updateCount++}endUpdate(){try{if(this.updateCount===1)do{if(this.state===1){this.state=3;for(let e of this.dependencies)if(e.reportChanges(),this.state===2)break}this._runIfNeeded()}while(this.state!==3)}finally{this.updateCount--}qa(()=>this.updateCount>=0)}handlePossibleChange(e){this.state===3&&this.dependencies.has(e)&&!this.dependenciesToBeRemoved.has(e)&&(this.state=1)}handleChange(e,t){if(this.dependencies.has(e)&&!this.dependenciesToBeRemoved.has(e))try{(this._handleChange?this._handleChange({changedObservable:e,change:t,didChange:o=>o===e},this.changeSummary):!0)&&(this.state=2)}catch(i){ir(i)}}readObservable(e){if(this.disposed)return e.get();e.addObserver(this);let t=e.get();return this.dependencies.add(e),this.dependenciesToBeRemoved.delete(e),t}};(e=>e.Observer=$a)(gi||={});function ru(n,e){return new Ga(new Kt(n.owner,n.debugName,n.debugReferenceFn),e,void 0,void 0,n.onLastObserverRemoved,n.equalsFn??qn)}wf(ru);var Ga=class extends bi{constructor(t,i,o,r,s=void 0,a){super();this._debugNameData=t;this._computeFn=i;this.createChangeSummary=o;this._handleChange=r;this._handleLastObserverRemoved=s;this._equalityComparator=a;this.changeSummary=this.createChangeSummary?.(),Yt()?.handleDerivedCreated(this)}state=0;value=void 0;updateCount=0;dependencies=new Set;dependenciesToBeRemoved=new Set;changeSummary=void 0;get debugName(){return this._debugNameData.getDebugName(this)??"(anonymous)"}onLastObserverRemoved(){this.state=0,this.value=void 0;for(let t of this.dependencies)t.removeObserver(this);this.dependencies.clear(),this._handleLastObserverRemoved?.()}get(){if(this.observers.size===0){let t=this._computeFn(this,this.createChangeSummary?.());return this.onLastObserverRemoved(),t}else{do{if(this.state===1){for(let t of this.dependencies)if(t.reportChanges(),this.state===2)break}this.state===1&&(this.state=3),this._recomputeIfNeeded()}while(this.state!==3);return this.value}}_recomputeIfNeeded(){if(this.state===3)return;let t=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=t;let i=this.state!==0,o=this.value;this.state=3;let r=!1;try{let s=this.changeSummary;this.changeSummary=this.createChangeSummary?.();try{this.value=this._computeFn(this,s)}finally{for(let a of this.dependenciesToBeRemoved)a.removeObserver(this);this.dependenciesToBeRemoved.clear()}r=i&&!this._equalityComparator(o,this.value),Yt()?.handleDerivedRecomputed(this,{oldValue:o,newValue:this.value,change:void 0,didChange:r,hadValue:i})}catch(s){ir(s)}if(r)for(let s of this.observers)s.handleChange(this,void 0)}toString(){return`LazyDerived<${this.debugName}>`}beginUpdate(t){this.updateCount++;let i=this.updateCount===1;if(this.state===3&&(this.state=1,!i))for(let o of this.observers)o.handlePossibleChange(this);if(i)for(let o of this.observers)o.beginUpdate(this)}endUpdate(t){if(this.updateCount--,this.updateCount===0){let i=[...this.observers];for(let o of i)o.endUpdate(this)}qa(()=>this.updateCount>=0)}handlePossibleChange(t){if(this.state===3&&this.dependencies.has(t)&&!this.dependenciesToBeRemoved.has(t)){this.state=1;for(let i of this.observers)i.handlePossibleChange(this)}}handleChange(t,i){if(this.dependencies.has(t)&&!this.dependenciesToBeRemoved.has(t)){let o=!1;try{o=this._handleChange?this._handleChange({changedObservable:t,change:i,didChange:s=>s===t},this.changeSummary):!0}catch(s){ir(s)}let r=this.state===3;if(o&&(this.state===1||r)&&(this.state=2,r))for(let s of this.observers)s.handlePossibleChange(this)}}readObservable(t){t.addObserver(this);let i=t.get();return this.dependencies.add(t),this.dependenciesToBeRemoved.delete(t),i}addObserver(t){let i=!this.observers.has(t)&&this.updateCount>0;super.addObserver(t),i&&t.beginUpdate(this)}removeObserver(t){let i=this.observers.has(t)&&this.updateCount>0;super.removeObserver(t),i&&t.endUpdate(this)}};function ms(n){return new su(n)}var su=class extends fs{constructor(t){super();this.value=t}get debugName(){return this.toString()}get(){return this.value}addObserver(t){}removeObserver(t){}toString(){return`Const: ${this.value}`}};function au(...n){let e,t,i;return n.length===3?[e,t,i]=n:[t,i]=n,new zi(new Kt(e,void 0,i),t,i,()=>zi.globalTransaction,qn)}var zi=class extends bi{constructor(t,i,o,r,s){super();this._debugNameData=t;this.event=i;this._getValue=o;this._getTransaction=r;this._equalityComparator=s}static globalTransaction;value;hasValue=!1;subscription;getDebugName(){return this._debugNameData.getDebugName(this)}get debugName(){let t=this.getDebugName();return"From Event"+(t?`: ${t}`:"")}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}handleEvent=t=>{let i=this._getValue(t),o=this.value,r=!this.hasValue||!this._equalityComparator(o,i),s=!1;r&&(this.value=i,this.hasValue&&(s=!0,lu(this._getTransaction(),a=>{Yt()?.handleFromEventObservableTriggered(this,{oldValue:o,newValue:i,change:void 0,didChange:r,hadValue:this.hasValue});for(let l of this.observers)a.updateObserver(l,this),l.handleChange(this,void 0)},()=>{let a=this.getDebugName();return"Event fired"+(a?`: ${a}`:"")})),this.hasValue=!0),s||Yt()?.handleFromEventObservableTriggered(this,{oldValue:o,newValue:i,change:void 0,didChange:r,hadValue:this.hasValue})};onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0,this.hasValue=!1,this.value=void 0}get(){return this.subscription?(this.hasValue||this.handleEvent(void 0),this.value):this._getValue(void 0)}};(t=>{t.Observer=zi;function e(i,o){let r=!1;zi.globalTransaction===void 0&&(zi.globalTransaction=i,r=!0);try{o()}finally{r&&(zi.globalTransaction=void 0)}}t.batchEventsGlobally=e})(au||={});function kf(n){let e=new Qa(!1,void 0);return n.addObserver(e),ce(()=>{n.removeObserver(e)})}Cf(kf);function Df(n,e){let t=new Qa(!0,e);return n.addObserver(t),e?e(n.get()):n.reportChanges(),ce(()=>{n.removeObserver(t)})}_f(Df);var Qa=class{constructor(e,t){this._forceRecompute=e;this._handleValue=t}_counter=0;beginUpdate(e){this._counter++}endUpdate(e){this._counter--,this._counter===0&&this._forceRecompute&&(this._handleValue?this._handleValue(e.get()):e.reportChanges())}handlePossibleChange(e){}handleChange(e,t){}};var Lf;function Af(n){Lf=n}function Yt(){return Lf}var ja=class{indentation=0;textToConsoleArgs(e){return Z1([ar(nT("|  ",this.indentation)),e])}formatInfo(e){return e.hadValue?e.didChange?[ar(" "),wn(bs(e.oldValue,70),{color:"red",strikeThrough:!0}),ar(" "),wn(bs(e.newValue,60),{color:"green"})]:[ar(" (unchanged)")]:[ar(" "),wn(bs(e.newValue,60),{color:"green"}),ar(" (initial)")]}handleObservableChanged(e,t){console.log(...this.textToConsoleArgs([gs("observable value changed"),wn(e.debugName,{color:"BlueViolet"}),...this.formatInfo(t)]))}changedObservablesSets=new WeakMap;formatChanges(e){if(e.size!==0)return wn(" (changed deps: "+[...e].map(t=>t.debugName).join(", ")+")",{color:"gray"})}handleDerivedCreated(e){let t=e.handleChange;this.changedObservablesSets.set(e,new Set),e.handleChange=(i,o)=>(this.changedObservablesSets.get(e).add(i),t.apply(e,[i,o]))}handleDerivedRecomputed(e,t){let i=this.changedObservablesSets.get(e);console.log(...this.textToConsoleArgs([gs("derived recomputed"),wn(e.debugName,{color:"BlueViolet"}),...this.formatInfo(t),this.formatChanges(i),{data:[{fn:e._debugNameData.referenceFn??e._computeFn}]}])),i.clear()}handleFromEventObservableTriggered(e,t){console.log(...this.textToConsoleArgs([gs("observable from event triggered"),wn(e.debugName,{color:"BlueViolet"}),...this.formatInfo(t),{data:[{fn:e._getValue}]}]))}handleAutorunCreated(e){let t=e.handleChange;this.changedObservablesSets.set(e,new Set),e.handleChange=(i,o)=>(this.changedObservablesSets.get(e).add(i),t.apply(e,[i,o]))}handleAutorunTriggered(e){let t=this.changedObservablesSets.get(e);console.log(...this.textToConsoleArgs([gs("autorun"),wn(e.debugName,{color:"BlueViolet"}),this.formatChanges(t),{data:[{fn:e._debugNameData.referenceFn??e._runFn}]}])),t.clear(),this.indentation++}handleAutorunFinished(e){this.indentation--}handleBeginTransaction(e){let t=e.getDebugName();t===void 0&&(t=""),console.log(...this.textToConsoleArgs([gs("transaction"),wn(t,{color:"BlueViolet"}),{data:[{fn:e._fn}]}])),this.indentation++}handleEndTransaction(){this.indentation--}};function Z1(n){let e=new Array,t=[],i="";function o(s){if("length"in s)for(let a of s)a&&o(a);else"text"in s?(i+=`%c${s.text}`,e.push(s.style),s.data&&t.push(...s.data)):"data"in s&&t.push(...s.data)}o(n);let r=[i,...e];return r.push(...t),r}function ar(n){return wn(n,{color:"black"})}function gs(n){return wn(iT(`${n}: `,10),{color:"black",bold:!0})}function wn(n,e={color:"black"}){function t(o){return Object.entries(o).reduce((r,[s,a])=>`${r}${s}:${a};`,"")}let i={color:e.color};return e.strikeThrough&&(i["text-decoration"]="line-through"),e.bold&&(i["font-weight"]="bold"),{text:n,style:t(i)}}function bs(n,e){switch(typeof n){case"number":return""+n;case"string":return n.length+2<=e?`"${n}"`:`"${n.substr(0,e-7)}"+...`;case"boolean":return n?"true":"false";case"undefined":return"undefined";case"object":return n===null?"null":Array.isArray(n)?eT(n,e):tT(n,e);case"symbol":return n.toString();case"function":return`[[Function${n.name?" "+n.name:""}]]`;default:return""+n}}function eT(n,e){let t="[ ",i=!0;for(let o of n){if(i||(t+=", "),t.length-5>e){t+="...";break}i=!1,t+=`${bs(o,e-t.length)}`}return t+=" ]",t}function tT(n,e){let t="{ ",i=!0;for(let[o,r]of Object.entries(n)){if(i||(t+=", "),t.length-5>e){t+="...";break}i=!1,t+=`${o}: ${bs(r,e-t.length)}`}return t+=" }",t}function nT(n,e){let t="";for(let i=1;i<=e;i++)t+=n;return t}function iT(n,e){for(;n.length<e;)n+=" ";return n}var Mf;function _f(n){Mf=n}var Nf;function Cf(n){Nf=n}var du;function wf(n){du=n}var fs=class{get TChange(){return null}reportChanges(){this.get()}read(e){return e?e.readObservable(this):this.get()}map(e,t){let i=t===void 0?void 0:e,o=t===void 0?e:t;return du({owner:i,debugName:()=>{let r=Va(o);if(r!==void 0)return r;let a=/^\s*\(?\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*\)?\s*=>\s*\1(?:\??)\.([a-zA-Z_$][a-zA-Z_$0-9]*)\s*$/.exec(o.toString());if(a)return`${this.debugName}.${a[2]}`;if(!i)return`${this.debugName} (mapped)`},debugReferenceFn:o},r=>o(this.read(r),r))}flatten(){return du({owner:void 0,debugName:()=>`${this.debugName} (flattened)`},e=>this.read(e).read(e))}recomputeInitiallyAndOnChange(e,t){return e.add(Mf(this,t)),this}keepObserved(e){return e.add(Nf(this)),this}get debugValue(){return this.get()}},bi=class extends fs{observers=new Set;addObserver(e){let t=this.observers.size;this.observers.add(e),t===0&&this.onFirstObserverAdded()}removeObserver(e){this.observers.delete(e)&&this.observers.size===0&&this.onLastObserverRemoved()}onFirstObserverAdded(){}onLastObserverRemoved(){}};function sr(n,e){let t=new lr(n,e);try{n(t)}finally{t.finish()}}function lu(n,e,t){n?e(n):sr(e,t)}var lr=class{constructor(e,t){this._fn=e;this._getDebugName=t;Yt()?.handleBeginTransaction(this)}updatingObservers=[];getDebugName(){return this._getDebugName?this._getDebugName():Va(this._fn)}updateObserver(e,t){this.updatingObservers.push({observer:e,observable:t}),e.beginUpdate(t)}finish(){let e=this.updatingObservers;for(let t=0;t<e.length;t++){let{observer:i,observable:o}=e[t];i.endUpdate(o)}this.updatingObservers=null,Yt()?.handleEndTransaction()}};function _o(n,e){let t;return typeof n=="string"?t=new Kt(void 0,n,void 0):t=new Kt(n,void 0,void 0),new vs(t,e,qn)}var vs=class extends bi{constructor(t,i,o){super();this._debugNameData=t;this._equalityComparator=o;this._value=i}_value;get debugName(){return this._debugNameData.getDebugName(this)??"ObservableValue"}get(){return this._value}set(t,i,o){if(o===void 0&&this._equalityComparator(this._value,t))return;let r;i||(i=r=new lr(()=>{},()=>`Setting ${this.debugName}`));try{let s=this._value;this._setValue(t),Yt()?.handleObservableChanged(this,{oldValue:s,newValue:t,change:o,didChange:!0,hadValue:!0});for(let a of this.observers)i.updateObserver(a,this),a.handleChange(this,o)}finally{r&&r.finish()}}toString(){return`${this.debugName}: ${this._value}`}_setValue(t){this._value=t}};var Ya=class extends bi{constructor(t,i,o){super();this._debugNameData=t;this._equalityComparator=o;this._value=i}_value;_isUpToDate=!0;_deltas=[];get debugName(){return this._debugNameData.getDebugName(this)??"LazyObservableValue"}get(){return this._update(),this._value}_update(){if(!this._isUpToDate)if(this._isUpToDate=!0,this._deltas.length>0){for(let t of this.observers)for(let i of this._deltas)t.handleChange(this,i);this._deltas.length=0}else for(let t of this.observers)t.handleChange(this,void 0)}_updateCounter=0;_beginUpdate(){if(this._updateCounter++,this._updateCounter===1)for(let t of this.observers)t.beginUpdate(this)}_endUpdate(){if(this._updateCounter--,this._updateCounter===0){this._update();let t=[...this.observers];for(let i of t)i.endUpdate(this)}}addObserver(t){let i=!this.observers.has(t)&&this._updateCounter>0;super.addObserver(t),i&&t.beginUpdate(this)}removeObserver(t){let i=this.observers.has(t)&&this._updateCounter>0;super.removeObserver(t),i&&t.endUpdate(this)}set(t,i,o){if(o===void 0&&this._equalityComparator(this._value,t))return;let r;i||(i=r=new lr(()=>{},()=>`Setting ${this.debugName}`));try{if(this._isUpToDate=!1,this._setValue(t),o!==void 0&&this._deltas.push(o),i.updateObserver({beginUpdate:()=>this._beginUpdate(),endUpdate:()=>this._endUpdate(),handleChange:(s,a)=>{},handlePossibleChange:s=>{}},this),this._updateCounter>1)for(let s of this.observers)s.handlePossibleChange(this)}finally{r&&r.finish()}}toString(){return`${this.debugName}: ${this._value}`}_setValue(t){this._value=t}};function cu(n,e){return n.lazy?new Ya(new Kt(n.owner,n.debugName,void 0),e,n.equalsFn??qn):new vs(new Kt(n.owner,n.debugName,void 0),e,n.equalsFn??qn)}var oT=!1;oT&&Af(new ja);var rT=globalThis.performance&&typeof globalThis.performance.now=="function",Xa=class n{_startTime;_stopTime;_now;static create(e){return new n(e)}constructor(e){this._now=rT&&e===!1?Date.now:globalThis.performance.now.bind(globalThis.performance),this._startTime=this._now(),this._stopTime=-1}stop(){this._stopTime=this._now()}reset(){this._startTime=this._now(),this._stopTime=-1}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}};var Ja=Symbol("MicrotaskDelay");var sT=!1,Of=!1,aT=!1,_;(Mt=>{Mt.None=()=>V.None;function e(R){if(aT){let{onDidAddListener:B}=R,Q=ys.create(),Y=0;R.onDidAddListener=()=>{++Y===2&&(console.warn("snapshotted emitter LIKELY used public and SHOULD HAVE BEEN created with DisposableStore. snapshotted here"),Q.print()),B?.()}}}function t(R,B){return y(R,()=>{},0,void 0,!0,void 0,B)}Mt.defer=t;function i(R){return(B,Q=null,Y)=>{let X=!1,fe;return fe=R(pe=>{if(!X)return fe?fe.dispose():X=!0,B.call(Q,pe)},null,Y),X&&fe.dispose(),fe}}Mt.once=i;function o(R,B){return Mt.once(Mt.filter(R,B))}Mt.onceIf=o;function r(R,B,Q){return h((Y,X=null,fe)=>R(pe=>Y.call(X,B(pe)),null,fe),Q)}Mt.map=r;function s(R,B,Q){return h((Y,X=null,fe)=>R(pe=>{B(pe),Y.call(X,pe)},null,fe),Q)}Mt.forEach=s;function a(R,B,Q){return h((Y,X=null,fe)=>R(pe=>B(pe)&&Y.call(X,pe),null,fe),Q)}Mt.filter=a;function l(R){return R}Mt.signal=l;function d(...R){return(B,Q=null,Y)=>{let X=fi(...R.map(fe=>fe(pe=>B.call(Q,pe))));return m(X,Y)}}Mt.any=d;function u(R,B,Q,Y){let X=Q;return r(R,fe=>(X=B(X,fe),X),Y)}Mt.reduce=u;function h(R,B){let Q,Y={onWillAddFirstListener(){Q=R(X.fire,X)},onDidRemoveLastListener(){Q?.dispose()}};B||e(Y);let X=new k(Y);return B?.add(X),X.event}function m(R,B){return B instanceof Array?B.push(R):B&&B.add(R),R}function y(R,B,Q=100,Y=!1,X=!1,fe,pe){let Ge,Te,le,Pn=0,Tn,Ci={leakWarningThreshold:fe,onWillAddFirstListener(){Ge=R(Zo=>{Pn++,Te=B(Te,Zo),Y&&!le&&(Bn.fire(Te),Te=void 0),Tn=()=>{let $t=Te;Te=void 0,le=void 0,(!Y||Pn>1)&&Bn.fire($t),Pn=0},typeof Q=="number"?(clearTimeout(le),le=setTimeout(Tn,Q)):le===void 0&&(le=0,queueMicrotask(Tn))})},onWillRemoveListener(){X&&Pn>0&&Tn?.()},onDidRemoveLastListener(){Tn=void 0,Ge.dispose()}};pe||e(Ci);let Bn=new k(Ci);return pe?.add(Bn),Bn.event}Mt.debounce=y;function w(R,B=0,Q){return Mt.debounce(R,(Y,X)=>Y?(Y.push(X),Y):[X],B,void 0,!0,void 0,Q)}Mt.accumulate=w;function f(R,B=(Y,X)=>Y===X,Q){let Y=!0,X;return a(R,fe=>{let pe=Y||!B(fe,X);return Y=!1,X=fe,pe},Q)}Mt.latch=f;function x(R,B,Q){return[Mt.filter(R,B,Q),Mt.filter(R,Y=>!B(Y),Q)]}Mt.split=x;function L(R,B=!1,Q=[],Y){let X=Q.slice(),fe=R(Te=>{X?X.push(Te):Ge.fire(Te)});Y&&Y.add(fe);let pe=()=>{X?.forEach(Te=>Ge.fire(Te)),X=null},Ge=new k({onWillAddFirstListener(){fe||(fe=R(Te=>Ge.fire(Te)),Y&&Y.add(fe))},onDidAddFirstListener(){X&&(B?setTimeout(pe):pe())},onDidRemoveLastListener(){fe&&fe.dispose(),fe=null}});return Y&&Y.add(Ge),Ge.event}Mt.buffer=L;function C(R,B){return(Y,X,fe)=>{let pe=B(new P);return R(function(Ge){let Te=pe.evaluate(Ge);Te!==H&&Y.call(X,Te)},void 0,fe)}}Mt.chain=C;let H=Symbol("HaltChainable");class P{steps=[];map(B){return this.steps.push(B),this}forEach(B){return this.steps.push(Q=>(B(Q),Q)),this}filter(B){return this.steps.push(Q=>B(Q)?Q:H),this}reduce(B,Q){let Y=Q;return this.steps.push(X=>(Y=B(Y,X),Y)),this}latch(B=(Q,Y)=>Q===Y){let Q=!0,Y;return this.steps.push(X=>{let fe=Q||!B(X,Y);return Q=!1,Y=X,fe?X:H}),this}evaluate(B){for(let Q of this.steps)if(B=Q(B),B===H)break;return B}}function A(R,B,Q=Y=>Y){let Y=(...Ge)=>pe.fire(Q(...Ge)),X=()=>R.on(B,Y),fe=()=>R.removeListener(B,Y),pe=new k({onWillAddFirstListener:X,onDidRemoveLastListener:fe});return pe.event}Mt.fromNodeEventEmitter=A;function z(R,B,Q=Y=>Y){let Y=(...Ge)=>pe.fire(Q(...Ge)),X=()=>R.addEventListener(B,Y),fe=()=>R.removeEventListener(B,Y),pe=new k({onWillAddFirstListener:X,onDidRemoveLastListener:fe});return pe.event}Mt.fromDOMEventEmitter=z;function K(R){return new Promise(B=>i(R)(B))}Mt.toPromise=K;function F(R){let B=new k;return R.then(Q=>{B.fire(Q)},()=>{B.fire(void 0)}).finally(()=>{B.dispose()}),B.event}Mt.fromPromise=F;function ne(R,B){return R(Q=>B.fire(Q))}Mt.forward=ne;function ve(R,B,Q){return B(Q),R(Y=>B(Y))}Mt.runAndSubscribe=ve;class me{constructor(B,Q){this._observable=B;let Y={onWillAddFirstListener:()=>{B.addObserver(this),this._observable.reportChanges()},onDidRemoveLastListener:()=>{B.removeObserver(this)}};Q||e(Y),this.emitter=new k(Y),Q&&Q.add(this.emitter)}emitter;_counter=0;_hasChanged=!1;beginUpdate(B){this._counter++}handlePossibleChange(B){}handleChange(B,Q){this._hasChanged=!0}endUpdate(B){this._counter--,this._counter===0&&(this._observable.reportChanges(),this._hasChanged&&(this._hasChanged=!1,this.emitter.fire(this._observable.get())))}}function ae(R,B){return new me(R,B).emitter.event}Mt.fromObservable=ae;function Ve(R){return(B,Q,Y)=>{let X=0,fe=!1,pe={beginUpdate(){X++},endUpdate(){X--,X===0&&(R.reportChanges(),fe&&(fe=!1,B.call(Q)))},handlePossibleChange(){},handleChange(){fe=!0}};R.addObserver(pe),R.reportChanges();let Ge={dispose(){R.removeObserver(pe)}};return Y instanceof q?Y.add(Ge):Array.isArray(Y)&&Y.push(Ge),Ge}}Mt.fromObservableLight=Ve})(_||={});var uu=class n{static all=new Set;static _idPool=0;name;listenerCount=0;invocationCount=0;elapsedOverall=0;durations=[];_stopWatch;constructor(e){this.name=`${e}_${n._idPool++}`,n.all.add(this)}start(e){this._stopWatch=new Xa,this.listenerCount=e}stop(){if(this._stopWatch){let e=this._stopWatch.elapsed();this.durations.push(e),this.elapsedOverall+=e,this.invocationCount+=1,this._stopWatch=void 0}}},Ff=-1;var hu=class n{constructor(e,t,i=(n._idPool++).toString(16).padStart(3,"0")){this._errorHandler=e;this.threshold=t;this.name=i}static _idPool=1;_stacks;_warnCountdown=0;dispose(){this._stacks?.clear()}check(e,t){let i=this.threshold;if(i<=0||t<i)return;this._stacks||(this._stacks=new Map);let o=this._stacks.get(e.value)||0;if(this._stacks.set(e.value,o+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=i*.5;let[r,s]=this.getMostFrequentStack(),a=`[${this.name}] potential listener LEAK detected, having ${t} listeners already. MOST frequent listener (${s}):`;console.warn(a),console.warn(r);let l=new pu(a,r);this._errorHandler(l)}return()=>{let r=this._stacks.get(e.value)||0;this._stacks.set(e.value,r-1)}}getMostFrequentStack(){if(!this._stacks)return;let e,t=0;for(let[i,o]of this._stacks)(!e||t<o)&&(e=[i,o],t=o);return e}},ys=class n{constructor(e){this.value=e}static create(){let e=new Error;return new n(e.stack??"")}print(){console.warn(this.value.split(`
`).slice(2).join(`
`))}},pu=class extends Error{constructor(e,t){super(e),this.name="ListenerLeakError",this.stack=t}},mu=class extends Error{constructor(e,t){super(e),this.name="ListenerRefusalError",this.stack=t}},lT=0,dr=class{constructor(e){this.value=e}stack;id=lT++},dT=2,cT=(n,e)=>{if(n instanceof dr)e(n);else for(let t=0;t<n.length;t++){let i=n[t];i&&e(i)}},Za;if(sT){let n=[];setInterval(()=>{n.length!==0&&(console.warn("[LEAKING LISTENERS] GC'ed these listeners that were NOT yet disposed:"),console.warn(n.join(`
`)),n.length=0)},3e3),Za=new FinalizationRegistry(e=>{typeof e=="string"&&n.push(e)})}var k=class{_options;_leakageMon;_perfMon;_disposed;_event;_listeners;_deliveryQueue;_size=0;constructor(e){this._options=e,this._leakageMon=Ff>0||this._options?.leakWarningThreshold?new hu(e?.onListenerError??Ht,this._options?.leakWarningThreshold??Ff):void 0,this._perfMon=this._options?._profName?new uu(this._options._profName):void 0,this._deliveryQueue=this._options?.deliveryQueue}dispose(){if(!this._disposed){if(this._disposed=!0,this._deliveryQueue?.current===this&&this._deliveryQueue.reset(),this._listeners){if(Of){let e=this._listeners;queueMicrotask(()=>{cT(e,t=>t.stack?.print())})}this._listeners=void 0,this._size=0}this._options?.onDidRemoveLastListener?.(),this._leakageMon?.dispose()}}get event(){return this._event??=(e,t,i)=>{if(this._leakageMon&&this._size>this._leakageMon.threshold**2){let l=`[${this._leakageMon.name}] REFUSES to accept new listeners because it exceeded its threshold by far (${this._size} vs ${this._leakageMon.threshold})`;console.warn(l);let d=this._leakageMon.getMostFrequentStack()??["UNKNOWN stack",-1],u=new mu(`${l}. HINT: Stack shows most frequent listener (${d[1]}-times)`,d[0]);return(this._options?.onListenerError||Ht)(u),V.None}if(this._disposed)return V.None;t&&(e=e.bind(t));let o=new dr(e),r,s;this._leakageMon&&this._size>=Math.ceil(this._leakageMon.threshold*.2)&&(o.stack=ys.create(),r=this._leakageMon.check(o.stack,this._size+1)),Of&&(o.stack=s??ys.create()),this._listeners?this._listeners instanceof dr?(this._deliveryQueue??=new fu,this._listeners=[this._listeners,o]):this._listeners.push(o):(this._options?.onWillAddFirstListener?.(this),this._listeners=o,this._options?.onDidAddFirstListener?.(this)),this._size++;let a=ce(()=>{Za?.unregister(a),r?.(),this._removeListener(o)});if(i instanceof q?i.add(a):Array.isArray(i)&&i.push(a),Za){let l=new Error().stack.split(`
`).slice(2,3).join(`
`).trim(),d=/(file:|vscode-file:\/\/vscode-app)?(\/[^:]*:\d+:\d+)/.exec(l);Za.register(a,d?.[2]??l,a)}return a},this._event}_removeListener(e){if(this._options?.onWillRemoveListener?.(this),!this._listeners)return;if(this._size===1){this._listeners=void 0,this._options?.onDidRemoveLastListener?.(this),this._size=0;return}let t=this._listeners,i=t.indexOf(e);if(i===-1)throw console.log("disposed?",this._disposed),console.log("size?",this._size),console.log("arr?",JSON.stringify(this._listeners)),new Error("Attempted to dispose unknown listener");this._size--,t[i]=void 0;let o=this._deliveryQueue.current===this;if(this._size*dT<=t.length){let r=0;for(let s=0;s<t.length;s++)t[s]?t[r++]=t[s]:o&&(this._deliveryQueue.end--,r<this._deliveryQueue.i&&this._deliveryQueue.i--);t.length=r}}_deliver(e,t){if(!e)return;let i=this._options?.onListenerError||Ht;if(!i){e.value(t);return}try{e.value(t)}catch(o){i(o)}}_deliverQueue(e){let t=e.current._listeners;for(;e.i<e.end;)this._deliver(t[e.i++],e.value);e.reset()}fire(e){if(this._deliveryQueue?.current&&(this._deliverQueue(this._deliveryQueue),this._perfMon?.stop()),this._perfMon?.start(this._size),this._listeners)if(this._listeners instanceof dr)this._deliver(this._listeners,e);else{let t=this._deliveryQueue;t.enqueue(this,e,this._listeners.length),this._deliverQueue(t)}this._perfMon?.stop()}hasListeners(){return this._size>0}};var fu=class{i=-1;end=0;current;value;enqueue(e,t,i){this.i=0,this.end=i,this.current=e,this.value=t}reset(){this.i=this.end,this.current=void 0,this.value=void 0}};var el=class extends k{_queuedEvents=[];_mergeFn;constructor(e){super(e),this._mergeFn=e?.merge}fire(e){this.hasListeners()&&(this._queuedEvents.push(e),this._queuedEvents.length===1&&queueMicrotask(()=>{this._mergeFn?super.fire(this._mergeFn(this._queuedEvents)):this._queuedEvents.forEach(t=>super.fire(t)),this._queuedEvents=[]}))}};var fn=class{data=[];wrapEvent(e,t,i){return(o,r,s)=>e(a=>{let l=this.data[this.data.length-1];if(!t){l?l.buffers.push(()=>o.call(r,a)):o.call(r,a);return}let d=l;if(!d){o.call(r,t(i,a));return}d.items??=[],d.items.push(a),d.buffers.length===0&&l.buffers.push(()=>{d.reducedResult??=i?d.items.reduce(t,i):d.items.reduce(t),o.call(r,d.reducedResult)})},void 0,s)}bufferEvents(e){let t={buffers:new Array};this.data.push(t);let i=e();return this.data.pop(),t.buffers.forEach(o=>o()),i}},Ui=class{listening=!1;inputEvent=_.None;inputEventListener=V.None;emitter=new k({onDidAddFirstListener:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onDidRemoveLastListener:()=>{this.listening=!1,this.inputEventListener.dispose()}});event=this.emitter.event;set input(e){this.inputEvent=e,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=e(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}};var Rf=Object.freeze(function(n,e){let t=setTimeout(n.bind(e),0);return{dispose(){clearTimeout(t)}}}),vi;(i=>{function n(o){return o===i.None||o===i.Cancelled||o instanceof cr?!0:!o||typeof o!="object"?!1:typeof o.isCancellationRequested=="boolean"&&typeof o.onCancellationRequested=="function"}i.isCancellationToken=n,i.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:_.None}),i.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:Rf})})(vi||={});var cr=class{_isCancelled=!1;_emitter=null;cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?Rf:(this._emitter||(this._emitter=new k),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}},En=class{_token=void 0;_parentListener=void 0;constructor(e){this._parentListener=e&&e.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new cr),this._token}cancel(){this._token?this._token instanceof cr&&this._token.cancel():this._token=vi.Cancelled}dispose(e=!1){e&&this.cancel(),this._parentListener?.dispose(),this._token?this._token instanceof cr&&this._token.dispose():this._token=vi.None}};function hT(n){return n}var tl=class{lastCache=void 0;lastArgKey=void 0;_fn;_computeKey;constructor(e,t){typeof e=="function"?(this._fn=e,this._computeKey=hT):(this._fn=t,this._computeKey=e.getCacheKey)}get(e){let t=this._computeKey(e);return this.lastArgKey!==t&&(this.lastArgKey=t,this.lastCache=this._fn(e)),this.lastCache}};var mt=class{constructor(e){this.executor=e}_didRun=!1;_value;_error;get hasValue(){return this._didRun}get value(){if(!this._didRun)try{this._value=this.executor()}catch(e){this._error=e}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}};function Hf(n){return!n||typeof n!="string"?!0:n.trim().length===0}var mT=/{(\d+)}/g;function gu(n,...e){return e.length===0?n:n.replace(mT,function(t,i){let o=parseInt(i,10);return isNaN(o)||o<0||o>=e.length?t:e[o]})}function Ts(n){return n.replace(/[<>&]/g,function(e){switch(e){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return e}})}function Kf(n){return n.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}function Is(n,e){if(!n||!e)return n;let t=e.length;if(t===0||n.length===0)return n;let i=0;for(;n.indexOf(e,i)===i;)i=i+t;return n.substring(i)}function zf(n){return n.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}function bu(n,e){return n<e?-1:n>e?1:0}function Uf(n,e,t=0,i=n.length,o=0,r=e.length){for(;t<i&&o<r;t++,o++){let l=n.charCodeAt(t),d=e.charCodeAt(o);if(l<d)return-1;if(l>d)return 1}let s=i-t,a=r-o;return s<a?-1:s>a?1:0}function vu(n,e,t=0,i=n.length,o=0,r=e.length){for(;t<i&&o<r;t++,o++){let l=n.charCodeAt(t),d=e.charCodeAt(o);if(l===d)continue;if(l>=128||d>=128)return Uf(n.toLowerCase(),e.toLowerCase(),t,i,o,r);Pf(l)&&(l-=32),Pf(d)&&(d-=32);let u=l-d;if(u!==0)return u}let s=i-t,a=r-o;return s<a?-1:s>a?1:0}function Pf(n){return n>=97&&n<=122}function $n(n,e){return n.length===e.length&&vu(n,e)===0}function ur(n,e){let t=e.length;return e.length>n.length?!1:vu(n,e,0,t)===0}function Vf(n){return 55296<=n&&n<=56319}function yu(n){return 56320<=n&&n<=57343}function Wf(n,e){return(n-55296<<10)+(e-56320)+65536}function qf(n){return n>=127462&&n<=127487||n===8986||n===8987||n===9200||n===9203||n>=9728&&n<=10175||n===11088||n===11093||n>=127744&&n<=128591||n>=128640&&n<=128764||n>=128992&&n<=129008||n>=129280&&n<=129535||n>=129648&&n<=129782}var AD=String.fromCharCode(65279);var Bf=class n{constructor(e){this.confusableDictionary=e}static ambiguousCharacterData=new mt(()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125,119846,109],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}'));static cache=new tl({getCacheKey:JSON.stringify},e=>{function t(u){let h=new Map;for(let m=0;m<u.length;m+=2)h.set(u[m],u[m+1]);return h}function i(u,h){let m=new Map(u);for(let[y,w]of h)m.set(y,w);return m}function o(u,h){if(!u)return h;let m=new Map;for(let[y,w]of u)h.has(y)&&m.set(y,w);return m}let r=this.ambiguousCharacterData.value,s=e.filter(u=>!u.startsWith("_")&&u in r);s.length===0&&(s=["_default"]);let a;for(let u of s){let h=t(r[u]);a=o(a,h)}let l=t(r._common),d=i(l,a);return new n(d)});static getInstance(e){return n.cache.get(Array.from(e))}static _locales=new mt(()=>Object.keys(n.ambiguousCharacterData.value).filter(e=>!e.startsWith("_")));static getLocales(){return n._locales.value}isAmbiguous(e){return this.confusableDictionary.has(e)}containsAmbiguousCharacter(e){for(let t=0;t<e.length;t++){let i=e.codePointAt(t);if(typeof i=="number"&&this.isAmbiguous(i))return!0}return!1}getPrimaryConfusable(e){return this.confusableDictionary.get(e)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}};function Tu(...n){switch(n.length){case 1:return p("contextkey.scanner.hint.didYouMean1","Did you mean {0}?",n[0]);case 2:return p("contextkey.scanner.hint.didYouMean2","Did you mean {0} or {1}?",n[0],n[1]);case 3:return p("contextkey.scanner.hint.didYouMean3","Did you mean {0}, {1} or {2}?",n[0],n[1],n[2]);default:return}}var fT=p("contextkey.scanner.hint.didYouForgetToOpenOrCloseQuote","Did you forget to open or close the quote?"),gT=p("contextkey.scanner.hint.didYouForgetToEscapeSlash","Did you forget to escape the '/' (slash) character? Put two backslashes before it to escape, e.g., '\\\\/'."),Vi=class n{static getLexeme(e){switch(e.type){case 0:return"(";case 1:return")";case 2:return"!";case 3:return e.isTripleEq?"===":"==";case 4:return e.isTripleEq?"!==":"!=";case 5:return"<";case 6:return"<=";case 7:return">=";case 8:return">=";case 9:return"=~";case 10:return e.lexeme;case 11:return"true";case 12:return"false";case 13:return"in";case 14:return"not";case 15:return"&&";case 16:return"||";case 17:return e.lexeme;case 18:return e.lexeme;case 19:return e.lexeme;case 20:return"EOF";default:throw Um(`unhandled token type: ${JSON.stringify(e)}; have you forgotten to add a case?`)}}static _regexFlags=new Set(["i","g","s","m","y","u"].map(e=>e.charCodeAt(0)));static _keywords=new Map([["not",14],["in",13],["false",12],["true",11]]);_input="";_start=0;_current=0;_tokens=[];_errors=[];get errors(){return this._errors}reset(e){return this._input=e,this._start=0,this._current=0,this._tokens=[],this._errors=[],this}scan(){for(;!this._isAtEnd();)switch(this._start=this._current,this._advance()){case 40:this._addToken(0);break;case 41:this._addToken(1);break;case 33:if(this._match(61)){let t=this._match(61);this._tokens.push({type:4,offset:this._start,isTripleEq:t})}else this._addToken(2);break;case 39:this._quotedString();break;case 47:this._regex();break;case 61:if(this._match(61)){let t=this._match(61);this._tokens.push({type:3,offset:this._start,isTripleEq:t})}else this._match(126)?this._addToken(9):this._error(Tu("==","=~"));break;case 60:this._addToken(this._match(61)?6:5);break;case 62:this._addToken(this._match(61)?8:7);break;case 38:this._match(38)?this._addToken(15):this._error(Tu("&&"));break;case 124:this._match(124)?this._addToken(16):this._error(Tu("||"));break;case 32:case 13:case 9:case 10:case 160:break;default:this._string()}return this._start=this._current,this._addToken(20),Array.from(this._tokens)}_match(e){return this._isAtEnd()||this._input.charCodeAt(this._current)!==e?!1:(this._current++,!0)}_advance(){return this._input.charCodeAt(this._current++)}_peek(){return this._isAtEnd()?0:this._input.charCodeAt(this._current)}_addToken(e){this._tokens.push({type:e,offset:this._start})}_error(e){let t=this._start,i=this._input.substring(this._start,this._current),o={type:19,offset:this._start,lexeme:i};this._errors.push({offset:t,lexeme:i,additionalInfo:e}),this._tokens.push(o)}stringRe=/[a-zA-Z0-9_<>\-\./\\:\*\?\+\[\]\^,#@;"%\$\p{L}-]+/uy;_string(){this.stringRe.lastIndex=this._start;let e=this.stringRe.exec(this._input);if(e){this._current=this._start+e[0].length;let t=this._input.substring(this._start,this._current),i=n._keywords.get(t);i?this._addToken(i):this._tokens.push({type:17,lexeme:t,offset:this._start})}}_quotedString(){for(;this._peek()!==39&&!this._isAtEnd();)this._advance();if(this._isAtEnd()){this._error(fT);return}this._advance(),this._tokens.push({type:18,lexeme:this._input.substring(this._start+1,this._current-1),offset:this._start+1})}_regex(){let e=this._current,t=!1,i=!1;for(;;){if(e>=this._input.length){this._current=e,this._error(gT);return}let r=this._input.charCodeAt(e);if(t)t=!1;else if(r===47&&!i){e++;break}else r===91?i=!0:r===92?t=!0:r===93&&(i=!1);e++}for(;e<this._input.length&&n._regexFlags.has(this._input.charCodeAt(e));)e++;this._current=e;let o=this._input.substring(this._start,this._current);this._tokens.push({type:10,lexeme:o,offset:this._start})}_isAtEnd(){return this._current>=this._input.length}};var Wi;(o=>{o.serviceIds=new Map,o.DI_TARGET="$di$target",o.DI_DEPENDENCIES="$di$dependencies";function i(r){return r[o.DI_DEPENDENCIES]||[]}o.getServiceDependencies=i})(Wi||={});var St=Oe("instantiationService");function bT(n,e,t){e[Wi.DI_TARGET]===e?e[Wi.DI_DEPENDENCIES].push({id:n,index:t}):(e[Wi.DI_DEPENDENCIES]=[{id:n,index:t}],e[Wi.DI_TARGET]=e)}function Oe(n){if(Wi.serviceIds.has(n))return Wi.serviceIds.get(n);let e=function(t,i,o){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");bT(e,t,o)};return e.toString=()=>n,Wi.serviceIds.set(n,e),e}var bt=new Map;bt.set("false",!1);bt.set("true",!0);bt.set("isMac",Se);bt.set("isLinux",pn);bt.set("isWindows",lt);bt.set("isWeb",Fi);bt.set("isMacNative",Se&&!Fi);bt.set("isEdge",sf);bt.set("isFirefox",of);bt.set("isChrome",Qc);bt.set("isSafari",rf);var vT=Object.prototype.hasOwnProperty;var yT={regexParsingWithErrorRecovery:!0},TT=p("contextkey.parser.error.emptyString","Empty context key expression"),IT=p("contextkey.parser.error.emptyString.hint","Did you forget to write an expression? You can also put 'false' or 'true' to always evaluate to false or true, respectively."),xT=p("contextkey.parser.error.noInAfterNot","'in' after 'not'."),$f=p("contextkey.parser.error.closingParenthesis","closing parenthesis ')'"),ST=p("contextkey.parser.error.unexpectedToken","Unexpected token"),wT=p("contextkey.parser.error.unexpectedToken.hint","Did you forget to put && or || before the token?"),ET=p("contextkey.parser.error.unexpectedEOF","Unexpected end of expression"),kT=p("contextkey.parser.error.unexpectedEOF.hint","Did you forget to put a context key?"),Iu=class n{constructor(e=yT){this._config=e}static _parseError=new Error;_scanner=new Vi;_tokens=[];_current=0;_parsingErrors=[];get lexingErrors(){return this._scanner.errors}get parsingErrors(){return this._parsingErrors}parse(e){if(e===""){this._parsingErrors.push({message:TT,offset:0,lexeme:"",additionalInfo:IT});return}this._tokens=this._scanner.reset(e).scan(),this._current=0,this._parsingErrors=[];try{let t=this._expr();if(!this._isAtEnd()){let i=this._peek(),o=i.type===17?wT:void 0;throw this._parsingErrors.push({message:ST,offset:i.offset,lexeme:Vi.getLexeme(i),additionalInfo:o}),n._parseError}return t}catch(t){if(t!==n._parseError)throw t;return}}_expr(){return this._or()}_or(){let e=[this._and()];for(;this._matchOne(16);){let t=this._and();e.push(t)}return e.length===1?e[0]:Be.or(...e)}_and(){let e=[this._term()];for(;this._matchOne(15);){let t=this._term();e.push(t)}return e.length===1?e[0]:Be.and(...e)}_term(){if(this._matchOne(2)){let e=this._peek();switch(e.type){case 11:return this._advance(),Lt.INSTANCE;case 12:return this._advance(),Ot.INSTANCE;case 0:{this._advance();let t=this._expr();return this._consume(1,$f),t?.negate()}case 17:return this._advance(),Lo.create(e.lexeme);default:throw this._errExpectedButGot("KEY | true | false | '(' expression ')'",e)}}return this._primary()}_primary(){let e=this._peek();switch(e.type){case 11:return this._advance(),Be.true();case 12:return this._advance(),Be.false();case 0:{this._advance();let t=this._expr();return this._consume(1,$f),t}case 17:{let t=e.lexeme;if(this._advance(),this._matchOne(9)){let o=this._peek();if(!this._config.regexParsingWithErrorRecovery){if(this._advance(),o.type!==10)throw this._errExpectedButGot("REGEX",o);let r=o.lexeme,s=r.lastIndexOf("/"),a=s===r.length-1?void 0:this._removeFlagsGY(r.substring(s+1)),l;try{l=new RegExp(r.substring(1,s),a)}catch{throw this._errExpectedButGot("REGEX",o)}return Cs.create(t,l)}switch(o.type){case 10:case 19:{let r=[o.lexeme];this._advance();let s=this._peek(),a=0;for(let m=0;m<o.lexeme.length;m++)o.lexeme.charCodeAt(m)===40?a++:o.lexeme.charCodeAt(m)===41&&a--;for(;!this._isAtEnd()&&s.type!==15&&s.type!==16;){switch(s.type){case 0:a++;break;case 1:a--;break;case 10:case 18:for(let m=0;m<s.lexeme.length;m++)s.lexeme.charCodeAt(m)===40?a++:o.lexeme.charCodeAt(m)===41&&a--}if(a<0)break;r.push(Vi.getLexeme(s)),this._advance(),s=this._peek()}let l=r.join(""),d=l.lastIndexOf("/"),u=d===l.length-1?void 0:this._removeFlagsGY(l.substring(d+1)),h;try{h=new RegExp(l.substring(1,d),u)}catch{throw this._errExpectedButGot("REGEX",o)}return Be.regex(t,h)}case 18:{let r=o.lexeme;this._advance();let s=null;if(!Hf(r)){let a=r.indexOf("/"),l=r.lastIndexOf("/");if(a!==l&&a>=0){let d=r.slice(a+1,l),u=r[l+1]==="i"?"i":"";try{s=new RegExp(d,u)}catch{throw this._errExpectedButGot("REGEX",o)}}}if(s===null)throw this._errExpectedButGot("REGEX",o);return Cs.create(t,s)}default:throw this._errExpectedButGot("REGEX",this._peek())}}if(this._matchOne(14)){this._consume(13,xT);let o=this._value();return Be.notIn(t,o)}switch(this._peek().type){case 3:{this._advance();let o=this._value();if(this._previous().type===18)return Be.equals(t,o);switch(o){case"true":return Be.has(t);case"false":return Be.not(t);default:return Be.equals(t,o)}}case 4:{this._advance();let o=this._value();if(this._previous().type===18)return Be.notEquals(t,o);switch(o){case"true":return Be.not(t);case"false":return Be.has(t);default:return Be.notEquals(t,o)}}case 5:return this._advance(),Ds.create(t,this._value());case 6:return this._advance(),_s.create(t,this._value());case 7:return this._advance(),Es.create(t,this._value());case 8:return this._advance(),ks.create(t,this._value());case 13:return this._advance(),Be.in(t,this._value());default:return Be.has(t)}}case 20:throw this._parsingErrors.push({message:ET,offset:e.offset,lexeme:"",additionalInfo:kT}),n._parseError;default:throw this._errExpectedButGot(`true | false | KEY 
	| KEY '=~' REGEX 
	| KEY ('==' | '!=' | '<' | '<=' | '>' | '>=' | 'in' | 'not' 'in') value`,this._peek())}}_value(){let e=this._peek();switch(e.type){case 17:case 18:return this._advance(),e.lexeme;case 11:return this._advance(),"true";case 12:return this._advance(),"false";case 13:return this._advance(),"in";default:return""}}_flagsGYRe=/g|y/g;_removeFlagsGY(e){return e.replaceAll(this._flagsGYRe,"")}_previous(){return this._tokens[this._current-1]}_matchOne(e){return this._check(e)?(this._advance(),!0):!1}_advance(){return this._isAtEnd()||this._current++,this._previous()}_consume(e,t){if(this._check(e))return this._advance();throw this._errExpectedButGot(t,this._peek())}_errExpectedButGot(e,t,i){let o=p("contextkey.parser.error.expectedButGot",`Expected: {0}
Received: '{1}'.`,e,Vi.getLexeme(t)),r=t.offset,s=Vi.getLexeme(t);return this._parsingErrors.push({message:o,offset:r,lexeme:s,additionalInfo:i}),n._parseError}_check(e){return this._peek().type===e}_peek(){return this._tokens[this._current]}_isAtEnd(){return this._peek().type===20}},Be=class{static false(){return Lt.INSTANCE}static true(){return Ot.INSTANCE}static has(e){return Co.create(e)}static equals(e,t){return Ss.create(e,t)}static notEquals(e,t){return ws.create(e,t)}static regex(e,t){return Cs.create(e,t)}static in(e,t){return il.create(e,t)}static notIn(e,t){return ol.create(e,t)}static not(e){return Lo.create(e)}static and(...e){return rl.create(e,null,!0)}static or(...e){return Ls.create(e,null,!0)}static greater(e,t){return Es.create(e,t)}static greaterEquals(e,t){return ks.create(e,t)}static smaller(e,t){return Ds.create(e,t)}static smallerEquals(e,t){return _s.create(e,t)}static _parser=new Iu({regexParsingWithErrorRecovery:!1});static deserialize(e){return e==null?void 0:this._parser.parse(e)}};function xs(n,e){return n.cmp(e)}var Lt=class n{static INSTANCE=new n;type=0;constructor(){}cmp(e){return this.type-e.type}equals(e){return e.type===this.type}substituteConstants(){return this}evaluate(e){return!1}serialize(){return"false"}keys(){return[]}map(e){return this}negate(){return Ot.INSTANCE}},Ot=class n{static INSTANCE=new n;type=1;constructor(){}cmp(e){return this.type-e.type}equals(e){return e.type===this.type}substituteConstants(){return this}evaluate(e){return!0}serialize(){return"true"}keys(){return[]}map(e){return this}negate(){return Lt.INSTANCE}},Co=class n{constructor(e,t){this.key=e;this.negated=t}static create(e,t=null){let i=bt.get(e);return typeof i=="boolean"?i?Ot.INSTANCE:Lt.INSTANCE:new n(e,t)}type=2;cmp(e){return e.type!==this.type?this.type-e.type:jf(this.key,e.key)}equals(e){return e.type===this.type?this.key===e.key:!1}substituteConstants(){let e=bt.get(this.key);return typeof e=="boolean"?e?Ot.INSTANCE:Lt.INSTANCE:this}evaluate(e){return!!e.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}map(e){return e.mapDefined(this.key)}negate(){return this.negated||(this.negated=Lo.create(this.key,this)),this.negated}},Ss=class n{constructor(e,t,i){this.key=e;this.value=t;this.negated=i}static create(e,t,i=null){if(typeof t=="boolean")return t?Co.create(e,i):Lo.create(e,i);let o=bt.get(e);return typeof o=="boolean"?t===(o?"true":"false")?Ot.INSTANCE:Lt.INSTANCE:new n(e,t,i)}type=4;cmp(e){return e.type!==this.type?this.type-e.type:Ao(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){let e=bt.get(this.key);if(typeof e=="boolean"){let t=e?"true":"false";return this.value===t?Ot.INSTANCE:Lt.INSTANCE}return this}evaluate(e){return e.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}map(e){return e.mapEquals(this.key,this.value)}negate(){return this.negated||(this.negated=ws.create(this.key,this.value,this)),this.negated}},il=class n{constructor(e,t){this.key=e;this.valueKey=t}static create(e,t){return new n(e,t)}type=10;negated=null;cmp(e){return e.type!==this.type?this.type-e.type:Ao(this.key,this.valueKey,e.key,e.valueKey)}equals(e){return e.type===this.type?this.key===e.key&&this.valueKey===e.valueKey:!1}substituteConstants(){return this}evaluate(e){let t=e.getValue(this.valueKey),i=e.getValue(this.key);return Array.isArray(t)?t.includes(i):typeof i=="string"&&typeof t=="object"&&t!==null?vT.call(t,i):!1}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}map(e){return e.mapIn(this.key,this.valueKey)}negate(){return this.negated||(this.negated=ol.create(this.key,this.valueKey)),this.negated}},ol=class n{constructor(e,t){this.key=e;this.valueKey=t;this._negated=il.create(e,t)}static create(e,t){return new n(e,t)}type=11;_negated;cmp(e){return e.type!==this.type?this.type-e.type:this._negated.cmp(e._negated)}equals(e){return e.type===this.type?this._negated.equals(e._negated):!1}substituteConstants(){return this}evaluate(e){return!this._negated.evaluate(e)}serialize(){return`${this.key} not in '${this.valueKey}'`}keys(){return this._negated.keys()}map(e){return e.mapNotIn(this.key,this.valueKey)}negate(){return this._negated}},ws=class n{constructor(e,t,i){this.key=e;this.value=t;this.negated=i}static create(e,t,i=null){if(typeof t=="boolean")return t?Lo.create(e,i):Co.create(e,i);let o=bt.get(e);return typeof o=="boolean"?t===(o?"true":"false")?Lt.INSTANCE:Ot.INSTANCE:new n(e,t,i)}type=5;cmp(e){return e.type!==this.type?this.type-e.type:Ao(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){let e=bt.get(this.key);if(typeof e=="boolean"){let t=e?"true":"false";return this.value===t?Lt.INSTANCE:Ot.INSTANCE}return this}evaluate(e){return e.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}map(e){return e.mapNotEquals(this.key,this.value)}negate(){return this.negated||(this.negated=Ss.create(this.key,this.value,this)),this.negated}},Lo=class n{constructor(e,t){this.key=e;this.negated=t}static create(e,t=null){let i=bt.get(e);return typeof i=="boolean"?i?Lt.INSTANCE:Ot.INSTANCE:new n(e,t)}type=3;cmp(e){return e.type!==this.type?this.type-e.type:jf(this.key,e.key)}equals(e){return e.type===this.type?this.key===e.key:!1}substituteConstants(){let e=bt.get(this.key);return typeof e=="boolean"?e?Lt.INSTANCE:Ot.INSTANCE:this}evaluate(e){return!e.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}map(e){return e.mapNot(this.key)}negate(){return this.negated||(this.negated=Co.create(this.key,this)),this.negated}};function sl(n,e){if(typeof n=="string"){let t=parseFloat(n);isNaN(t)||(n=t)}return typeof n=="string"||typeof n=="number"?e(n):Lt.INSTANCE}var Es=class n{constructor(e,t,i){this.key=e;this.value=t;this.negated=i}static create(e,t,i=null){return sl(t,o=>new n(e,o,i))}type=12;cmp(e){return e.type!==this.type?this.type-e.type:Ao(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}map(e){return e.mapGreater(this.key,this.value)}negate(){return this.negated||(this.negated=_s.create(this.key,this.value,this)),this.negated}},ks=class n{constructor(e,t,i){this.key=e;this.value=t;this.negated=i}static create(e,t,i=null){return sl(t,o=>new n(e,o,i))}type=13;cmp(e){return e.type!==this.type?this.type-e.type:Ao(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}map(e){return e.mapGreaterEquals(this.key,this.value)}negate(){return this.negated||(this.negated=Ds.create(this.key,this.value,this)),this.negated}},Ds=class n{constructor(e,t,i){this.key=e;this.value=t;this.negated=i}static create(e,t,i=null){return sl(t,o=>new n(e,o,i))}type=14;cmp(e){return e.type!==this.type?this.type-e.type:Ao(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}map(e){return e.mapSmaller(this.key,this.value)}negate(){return this.negated||(this.negated=ks.create(this.key,this.value,this)),this.negated}},_s=class n{constructor(e,t,i){this.key=e;this.value=t;this.negated=i}static create(e,t,i=null){return sl(t,o=>new n(e,o,i))}type=15;cmp(e){return e.type!==this.type?this.type-e.type:Ao(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}map(e){return e.mapSmallerEquals(this.key,this.value)}negate(){return this.negated||(this.negated=Es.create(this.key,this.value,this)),this.negated}},Cs=class n{constructor(e,t){this.key=e;this.regexp=t}static create(e,t){return new n(e,t)}type=7;negated=null;cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.key<e.key)return-1;if(this.key>e.key)return 1;let t=this.regexp?this.regexp.source:"",i=e.regexp?e.regexp.source:"";return t<i?-1:t>i?1:0}equals(e){if(e.type===this.type){let t=this.regexp?this.regexp.source:"",i=e.regexp?e.regexp.source:"";return this.key===e.key&&t===i}return!1}substituteConstants(){return this}evaluate(e){let t=e.getValue(this.key);return this.regexp?this.regexp.test(t):!1}serialize(){let e=this.regexp?`/${this.regexp.source}/${this.regexp.flags}`:"/invalid/";return`${this.key} =~ ${e}`}keys(){return[this.key]}map(e){return e.mapRegex(this.key,this.regexp)}negate(){return this.negated||(this.negated=xu.create(this)),this.negated}},xu=class n{constructor(e){this._actual=e}static create(e){return new n(e)}type=8;cmp(e){return e.type!==this.type?this.type-e.type:this._actual.cmp(e._actual)}equals(e){return e.type===this.type?this._actual.equals(e._actual):!1}substituteConstants(){return this}evaluate(e){return!this._actual.evaluate(e)}serialize(){return`!(${this._actual.serialize()})`}keys(){return this._actual.keys()}map(e){return new n(this._actual.map(e))}negate(){return this._actual}};function Qf(n){let e=null;for(let t=0,i=n.length;t<i;t++){let o=n[t].substituteConstants();if(n[t]!==o&&e===null){e=[];for(let r=0;r<t;r++)e[r]=n[r]}e!==null&&(e[t]=o)}return e===null?n:e}var rl=class n{constructor(e,t){this.expr=e;this.negated=t}static create(e,t,i){return n._normalizeArr(e,t,i)}type=6;cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.expr.length<e.expr.length)return-1;if(this.expr.length>e.expr.length)return 1;for(let t=0,i=this.expr.length;t<i;t++){let o=xs(this.expr[t],e.expr[t]);if(o!==0)return o}return 0}equals(e){if(e.type===this.type){if(this.expr.length!==e.expr.length)return!1;for(let t=0,i=this.expr.length;t<i;t++)if(!this.expr[t].equals(e.expr[t]))return!1;return!0}return!1}substituteConstants(){let e=Qf(this.expr);return e===this.expr?this:n.create(e,this.negated,!1)}evaluate(e){for(let t=0,i=this.expr.length;t<i;t++)if(!this.expr[t].evaluate(e))return!1;return!0}static _normalizeArr(e,t,i){let o=[],r=!1;for(let s of e)if(s){if(s.type===1){r=!0;continue}if(s.type===0)return Lt.INSTANCE;if(s.type===6){o.push(...s.expr);continue}o.push(s)}if(o.length===0&&r)return Ot.INSTANCE;if(o.length!==0){if(o.length===1)return o[0];o.sort(xs);for(let s=1;s<o.length;s++)o[s-1].equals(o[s])&&(o.splice(s,1),s--);if(o.length===1)return o[0];for(;o.length>1;){let s=o[o.length-1];if(s.type!==9)break;o.pop();let a=o.pop(),l=o.length===0,d=Ls.create(s.expr.map(u=>n.create([u,a],null,i)),null,l);d&&(o.push(d),o.sort(xs))}if(o.length===1)return o[0];if(i){for(let s=0;s<o.length;s++)for(let a=s+1;a<o.length;a++)if(o[s].negate().equals(o[a]))return Lt.INSTANCE;if(o.length===1)return o[0]}return new n(o,t)}}serialize(){return this.expr.map(e=>e.serialize()).join(" && ")}keys(){let e=[];for(let t of this.expr)e.push(...t.keys());return e}map(e){return new n(this.expr.map(t=>t.map(e)),null)}negate(){if(!this.negated){let e=[];for(let t of this.expr)e.push(t.negate());this.negated=Ls.create(e,this,!0)}return this.negated}},Ls=class n{constructor(e,t){this.expr=e;this.negated=t}static create(e,t,i){return n._normalizeArr(e,t,i)}type=9;cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.expr.length<e.expr.length)return-1;if(this.expr.length>e.expr.length)return 1;for(let t=0,i=this.expr.length;t<i;t++){let o=xs(this.expr[t],e.expr[t]);if(o!==0)return o}return 0}equals(e){if(e.type===this.type){if(this.expr.length!==e.expr.length)return!1;for(let t=0,i=this.expr.length;t<i;t++)if(!this.expr[t].equals(e.expr[t]))return!1;return!0}return!1}substituteConstants(){let e=Qf(this.expr);return e===this.expr?this:n.create(e,this.negated,!1)}evaluate(e){for(let t=0,i=this.expr.length;t<i;t++)if(this.expr[t].evaluate(e))return!0;return!1}static _normalizeArr(e,t,i){let o=[],r=!1;if(e){for(let s=0,a=e.length;s<a;s++){let l=e[s];if(l){if(l.type===0){r=!0;continue}if(l.type===1)return Ot.INSTANCE;if(l.type===9){o=o.concat(l.expr);continue}o.push(l)}}if(o.length===0&&r)return Lt.INSTANCE;o.sort(xs)}if(o.length!==0){if(o.length===1)return o[0];for(let s=1;s<o.length;s++)o[s-1].equals(o[s])&&(o.splice(s,1),s--);if(o.length===1)return o[0];if(i){for(let s=0;s<o.length;s++)for(let a=s+1;a<o.length;a++)if(o[s].negate().equals(o[a]))return Ot.INSTANCE;if(o.length===1)return o[0]}return new n(o,t)}}serialize(){return this.expr.map(e=>e.serialize()).join(" || ")}keys(){let e=[];for(let t of this.expr)e.push(...t.keys());return e}map(e){return new n(this.expr.map(t=>t.map(e)),null)}negate(){if(!this.negated){let e=[];for(let t of this.expr)e.push(t.negate());for(;e.length>1;){let t=e.shift(),i=e.shift(),o=[];for(let r of Gf(t))for(let s of Gf(i))o.push(rl.create([r,s],null,!1));e.unshift(n.create(o,null,!1))}this.negated=n.create(e,this,!0)}return this.negated}},Ae=class n extends Co{static _info=[];static all(){return n._info.values()}_defaultValue;constructor(e,t,i){super(e,null),this._defaultValue=t,typeof i=="object"?n._info.push({...i,key:e}):i!==!0&&n._info.push({key:e,description:i,type:t!=null?typeof t:void 0})}bindTo(e){return e.createKey(this.key,this._defaultValue)}getValue(e){return e.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(e){return Ss.create(this.key,e)}notEqualsTo(e){return ws.create(this.key,e)}},At=Oe("contextKeyService");function jf(n,e){return n<e?-1:n>e?1:0}function Ao(n,e,t,i){return n<t?-1:n>t?1:e<i?-1:e>i?1:0}function Gf(n){return n.type===9?n.expr:[n]}function Yf(n,e){let t=n;typeof t.vscodeWindowId!="number"&&Object.defineProperty(t,"vscodeWindowId",{get:()=>e})}var Je=window;var As=class n{static INSTANCE=new n;mapWindowIdToZoomLevel=new Map;_onDidChangeZoomLevel=new k;onDidChangeZoomLevel=this._onDidChangeZoomLevel.event;getZoomLevel(e){return this.mapWindowIdToZoomLevel.get(this.getWindowId(e))??0}setZoomLevel(e,t){if(this.getZoomLevel(t)===e)return;let i=this.getWindowId(t);this.mapWindowIdToZoomLevel.set(i,e),this._onDidChangeZoomLevel.fire(i)}mapWindowIdToZoomFactor=new Map;getZoomFactor(e){return this.mapWindowIdToZoomFactor.get(this.getWindowId(e))??1}setZoomFactor(e,t){this.mapWindowIdToZoomFactor.set(this.getWindowId(t),e)}_onDidChangeFullscreen=new k;onDidChangeFullscreen=this._onDidChangeFullscreen.event;mapWindowIdToFullScreen=new Map;setFullscreen(e,t){if(this.isFullscreen(t)===e)return;let i=this.getWindowId(t);this.mapWindowIdToFullScreen.set(i,e),this._onDidChangeFullscreen.fire(i)}isFullscreen(e){return!!this.mapWindowIdToFullScreen.get(this.getWindowId(e))}getWindowId(e){return e.vscodeWindowId}};function DT(n,e,t){typeof e=="string"&&(e=n.matchMedia(e)),e.addEventListener("change",t)}var p_=As.INSTANCE.onDidChangeZoomLevel;function Xf(n){return As.INSTANCE.getZoomFactor(n)}var m_=As.INSTANCE.onDidChangeFullscreen,hr=navigator.userAgent,qi=hr.indexOf("Firefox")>=0,pr=hr.indexOf("AppleWebKit")>=0,Ms=hr.indexOf("Chrome")>=0,ll=!Ms&&hr.indexOf("Safari")>=0;var f_=hr.indexOf("Electron/")>=0,g_=hr.indexOf("Android")>=0,al=!1;if(typeof Je.matchMedia=="function"){let n=Je.matchMedia("(display-mode: standalone) or (display-mode: window-controls-overlay)"),e=Je.matchMedia("(display-mode: fullscreen)");al=n.matches,DT(Je,n,({matches:t})=>{al&&e.matches||(al=t)})}function Jf(){return al}var Zf={clipboard:{writeText:rr||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:rr||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText)},keyboard:rr||Jf()?0:navigator.keyboard||ll?1:2,touch:"ontouchstart"in Je||navigator.maxTouchPoints>0,pointerEvents:Je.PointerEvent&&("ontouchstart"in Je||navigator.maxTouchPoints>0)};var Ns=class{_keyCodeToStr;_strToKeyCode;constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(e,t){this._keyCodeToStr[e]=t,this._strToKeyCode[t.toLowerCase()]=e}keyCodeToStr(e){return this._keyCodeToStr[e]}strToKeyCode(e){return this._strToKeyCode[e.toLowerCase()]||0}},cl=new Ns,Su=new Ns,wu=new Ns,ku=new Array(230),_T={},CT=[],LT=Object.create(null),AT=Object.create(null);var eg=[],Eu=[];for(let n=0;n<=193;n++)eg[n]=-1;for(let n=0;n<=132;n++)Eu[n]=-1;(function(){let n="",e=[[1,0,"None",0,"unknown",0,"VK_UNKNOWN",n,n],[1,1,"Hyper",0,n,0,n,n,n],[1,2,"Super",0,n,0,n,n,n],[1,3,"Fn",0,n,0,n,n,n],[1,4,"FnLock",0,n,0,n,n,n],[1,5,"Suspend",0,n,0,n,n,n],[1,6,"Resume",0,n,0,n,n,n],[1,7,"Turbo",0,n,0,n,n,n],[1,8,"Sleep",0,n,0,"VK_SLEEP",n,n],[1,9,"WakeUp",0,n,0,n,n,n],[0,10,"KeyA",31,"A",65,"VK_A",n,n],[0,11,"KeyB",32,"B",66,"VK_B",n,n],[0,12,"KeyC",33,"C",67,"VK_C",n,n],[0,13,"KeyD",34,"D",68,"VK_D",n,n],[0,14,"KeyE",35,"E",69,"VK_E",n,n],[0,15,"KeyF",36,"F",70,"VK_F",n,n],[0,16,"KeyG",37,"G",71,"VK_G",n,n],[0,17,"KeyH",38,"H",72,"VK_H",n,n],[0,18,"KeyI",39,"I",73,"VK_I",n,n],[0,19,"KeyJ",40,"J",74,"VK_J",n,n],[0,20,"KeyK",41,"K",75,"VK_K",n,n],[0,21,"KeyL",42,"L",76,"VK_L",n,n],[0,22,"KeyM",43,"M",77,"VK_M",n,n],[0,23,"KeyN",44,"N",78,"VK_N",n,n],[0,24,"KeyO",45,"O",79,"VK_O",n,n],[0,25,"KeyP",46,"P",80,"VK_P",n,n],[0,26,"KeyQ",47,"Q",81,"VK_Q",n,n],[0,27,"KeyR",48,"R",82,"VK_R",n,n],[0,28,"KeyS",49,"S",83,"VK_S",n,n],[0,29,"KeyT",50,"T",84,"VK_T",n,n],[0,30,"KeyU",51,"U",85,"VK_U",n,n],[0,31,"KeyV",52,"V",86,"VK_V",n,n],[0,32,"KeyW",53,"W",87,"VK_W",n,n],[0,33,"KeyX",54,"X",88,"VK_X",n,n],[0,34,"KeyY",55,"Y",89,"VK_Y",n,n],[0,35,"KeyZ",56,"Z",90,"VK_Z",n,n],[0,36,"Digit1",22,"1",49,"VK_1",n,n],[0,37,"Digit2",23,"2",50,"VK_2",n,n],[0,38,"Digit3",24,"3",51,"VK_3",n,n],[0,39,"Digit4",25,"4",52,"VK_4",n,n],[0,40,"Digit5",26,"5",53,"VK_5",n,n],[0,41,"Digit6",27,"6",54,"VK_6",n,n],[0,42,"Digit7",28,"7",55,"VK_7",n,n],[0,43,"Digit8",29,"8",56,"VK_8",n,n],[0,44,"Digit9",30,"9",57,"VK_9",n,n],[0,45,"Digit0",21,"0",48,"VK_0",n,n],[1,46,"Enter",3,"Enter",13,"VK_RETURN",n,n],[1,47,"Escape",9,"Escape",27,"VK_ESCAPE",n,n],[1,48,"Backspace",1,"Backspace",8,"VK_BACK",n,n],[1,49,"Tab",2,"Tab",9,"VK_TAB",n,n],[1,50,"Space",10,"Space",32,"VK_SPACE",n,n],[0,51,"Minus",88,"-",189,"VK_OEM_MINUS","-","OEM_MINUS"],[0,52,"Equal",86,"=",187,"VK_OEM_PLUS","=","OEM_PLUS"],[0,53,"BracketLeft",92,"[",219,"VK_OEM_4","[","OEM_4"],[0,54,"BracketRight",94,"]",221,"VK_OEM_6","]","OEM_6"],[0,55,"Backslash",93,"\\",220,"VK_OEM_5","\\","OEM_5"],[0,56,"IntlHash",0,n,0,n,n,n],[0,57,"Semicolon",85,";",186,"VK_OEM_1",";","OEM_1"],[0,58,"Quote",95,"'",222,"VK_OEM_7","'","OEM_7"],[0,59,"Backquote",91,"`",192,"VK_OEM_3","`","OEM_3"],[0,60,"Comma",87,",",188,"VK_OEM_COMMA",",","OEM_COMMA"],[0,61,"Period",89,".",190,"VK_OEM_PERIOD",".","OEM_PERIOD"],[0,62,"Slash",90,"/",191,"VK_OEM_2","/","OEM_2"],[1,63,"CapsLock",8,"CapsLock",20,"VK_CAPITAL",n,n],[1,64,"F1",59,"F1",112,"VK_F1",n,n],[1,65,"F2",60,"F2",113,"VK_F2",n,n],[1,66,"F3",61,"F3",114,"VK_F3",n,n],[1,67,"F4",62,"F4",115,"VK_F4",n,n],[1,68,"F5",63,"F5",116,"VK_F5",n,n],[1,69,"F6",64,"F6",117,"VK_F6",n,n],[1,70,"F7",65,"F7",118,"VK_F7",n,n],[1,71,"F8",66,"F8",119,"VK_F8",n,n],[1,72,"F9",67,"F9",120,"VK_F9",n,n],[1,73,"F10",68,"F10",121,"VK_F10",n,n],[1,74,"F11",69,"F11",122,"VK_F11",n,n],[1,75,"F12",70,"F12",123,"VK_F12",n,n],[1,76,"PrintScreen",0,n,0,n,n,n],[1,77,"ScrollLock",84,"ScrollLock",145,"VK_SCROLL",n,n],[1,78,"Pause",7,"PauseBreak",19,"VK_PAUSE",n,n],[1,79,"Insert",19,"Insert",45,"VK_INSERT",n,n],[1,80,"Home",14,"Home",36,"VK_HOME",n,n],[1,81,"PageUp",11,"PageUp",33,"VK_PRIOR",n,n],[1,82,"Delete",20,"Delete",46,"VK_DELETE",n,n],[1,83,"End",13,"End",35,"VK_END",n,n],[1,84,"PageDown",12,"PageDown",34,"VK_NEXT",n,n],[1,85,"ArrowRight",17,"RightArrow",39,"VK_RIGHT","Right",n],[1,86,"ArrowLeft",15,"LeftArrow",37,"VK_LEFT","Left",n],[1,87,"ArrowDown",18,"DownArrow",40,"VK_DOWN","Down",n],[1,88,"ArrowUp",16,"UpArrow",38,"VK_UP","Up",n],[1,89,"NumLock",83,"NumLock",144,"VK_NUMLOCK",n,n],[1,90,"NumpadDivide",113,"NumPad_Divide",111,"VK_DIVIDE",n,n],[1,91,"NumpadMultiply",108,"NumPad_Multiply",106,"VK_MULTIPLY",n,n],[1,92,"NumpadSubtract",111,"NumPad_Subtract",109,"VK_SUBTRACT",n,n],[1,93,"NumpadAdd",109,"NumPad_Add",107,"VK_ADD",n,n],[1,94,"NumpadEnter",3,n,0,n,n,n],[1,95,"Numpad1",99,"NumPad1",97,"VK_NUMPAD1",n,n],[1,96,"Numpad2",100,"NumPad2",98,"VK_NUMPAD2",n,n],[1,97,"Numpad3",101,"NumPad3",99,"VK_NUMPAD3",n,n],[1,98,"Numpad4",102,"NumPad4",100,"VK_NUMPAD4",n,n],[1,99,"Numpad5",103,"NumPad5",101,"VK_NUMPAD5",n,n],[1,100,"Numpad6",104,"NumPad6",102,"VK_NUMPAD6",n,n],[1,101,"Numpad7",105,"NumPad7",103,"VK_NUMPAD7",n,n],[1,102,"Numpad8",106,"NumPad8",104,"VK_NUMPAD8",n,n],[1,103,"Numpad9",107,"NumPad9",105,"VK_NUMPAD9",n,n],[1,104,"Numpad0",98,"NumPad0",96,"VK_NUMPAD0",n,n],[1,105,"NumpadDecimal",112,"NumPad_Decimal",110,"VK_DECIMAL",n,n],[0,106,"IntlBackslash",97,"OEM_102",226,"VK_OEM_102",n,n],[1,107,"ContextMenu",58,"ContextMenu",93,n,n,n],[1,108,"Power",0,n,0,n,n,n],[1,109,"NumpadEqual",0,n,0,n,n,n],[1,110,"F13",71,"F13",124,"VK_F13",n,n],[1,111,"F14",72,"F14",125,"VK_F14",n,n],[1,112,"F15",73,"F15",126,"VK_F15",n,n],[1,113,"F16",74,"F16",127,"VK_F16",n,n],[1,114,"F17",75,"F17",128,"VK_F17",n,n],[1,115,"F18",76,"F18",129,"VK_F18",n,n],[1,116,"F19",77,"F19",130,"VK_F19",n,n],[1,117,"F20",78,"F20",131,"VK_F20",n,n],[1,118,"F21",79,"F21",132,"VK_F21",n,n],[1,119,"F22",80,"F22",133,"VK_F22",n,n],[1,120,"F23",81,"F23",134,"VK_F23",n,n],[1,121,"F24",82,"F24",135,"VK_F24",n,n],[1,122,"Open",0,n,0,n,n,n],[1,123,"Help",0,n,0,n,n,n],[1,124,"Select",0,n,0,n,n,n],[1,125,"Again",0,n,0,n,n,n],[1,126,"Undo",0,n,0,n,n,n],[1,127,"Cut",0,n,0,n,n,n],[1,128,"Copy",0,n,0,n,n,n],[1,129,"Paste",0,n,0,n,n,n],[1,130,"Find",0,n,0,n,n,n],[1,131,"AudioVolumeMute",117,"AudioVolumeMute",173,"VK_VOLUME_MUTE",n,n],[1,132,"AudioVolumeUp",118,"AudioVolumeUp",175,"VK_VOLUME_UP",n,n],[1,133,"AudioVolumeDown",119,"AudioVolumeDown",174,"VK_VOLUME_DOWN",n,n],[1,134,"NumpadComma",110,"NumPad_Separator",108,"VK_SEPARATOR",n,n],[0,135,"IntlRo",115,"ABNT_C1",193,"VK_ABNT_C1",n,n],[1,136,"KanaMode",0,n,0,n,n,n],[0,137,"IntlYen",0,n,0,n,n,n],[1,138,"Convert",0,n,0,n,n,n],[1,139,"NonConvert",0,n,0,n,n,n],[1,140,"Lang1",0,n,0,n,n,n],[1,141,"Lang2",0,n,0,n,n,n],[1,142,"Lang3",0,n,0,n,n,n],[1,143,"Lang4",0,n,0,n,n,n],[1,144,"Lang5",0,n,0,n,n,n],[1,145,"Abort",0,n,0,n,n,n],[1,146,"Props",0,n,0,n,n,n],[1,147,"NumpadParenLeft",0,n,0,n,n,n],[1,148,"NumpadParenRight",0,n,0,n,n,n],[1,149,"NumpadBackspace",0,n,0,n,n,n],[1,150,"NumpadMemoryStore",0,n,0,n,n,n],[1,151,"NumpadMemoryRecall",0,n,0,n,n,n],[1,152,"NumpadMemoryClear",0,n,0,n,n,n],[1,153,"NumpadMemoryAdd",0,n,0,n,n,n],[1,154,"NumpadMemorySubtract",0,n,0,n,n,n],[1,155,"NumpadClear",131,"Clear",12,"VK_CLEAR",n,n],[1,156,"NumpadClearEntry",0,n,0,n,n,n],[1,0,n,5,"Ctrl",17,"VK_CONTROL",n,n],[1,0,n,4,"Shift",16,"VK_SHIFT",n,n],[1,0,n,6,"Alt",18,"VK_MENU",n,n],[1,0,n,57,"Meta",91,"VK_COMMAND",n,n],[1,157,"ControlLeft",5,n,0,"VK_LCONTROL",n,n],[1,158,"ShiftLeft",4,n,0,"VK_LSHIFT",n,n],[1,159,"AltLeft",6,n,0,"VK_LMENU",n,n],[1,160,"MetaLeft",57,n,0,"VK_LWIN",n,n],[1,161,"ControlRight",5,n,0,"VK_RCONTROL",n,n],[1,162,"ShiftRight",4,n,0,"VK_RSHIFT",n,n],[1,163,"AltRight",6,n,0,"VK_RMENU",n,n],[1,164,"MetaRight",57,n,0,"VK_RWIN",n,n],[1,165,"BrightnessUp",0,n,0,n,n,n],[1,166,"BrightnessDown",0,n,0,n,n,n],[1,167,"MediaPlay",0,n,0,n,n,n],[1,168,"MediaRecord",0,n,0,n,n,n],[1,169,"MediaFastForward",0,n,0,n,n,n],[1,170,"MediaRewind",0,n,0,n,n,n],[1,171,"MediaTrackNext",124,"MediaTrackNext",176,"VK_MEDIA_NEXT_TRACK",n,n],[1,172,"MediaTrackPrevious",125,"MediaTrackPrevious",177,"VK_MEDIA_PREV_TRACK",n,n],[1,173,"MediaStop",126,"MediaStop",178,"VK_MEDIA_STOP",n,n],[1,174,"Eject",0,n,0,n,n,n],[1,175,"MediaPlayPause",127,"MediaPlayPause",179,"VK_MEDIA_PLAY_PAUSE",n,n],[1,176,"MediaSelect",128,"LaunchMediaPlayer",181,"VK_MEDIA_LAUNCH_MEDIA_SELECT",n,n],[1,177,"LaunchMail",129,"LaunchMail",180,"VK_MEDIA_LAUNCH_MAIL",n,n],[1,178,"LaunchApp2",130,"LaunchApp2",183,"VK_MEDIA_LAUNCH_APP2",n,n],[1,179,"LaunchApp1",0,n,0,"VK_MEDIA_LAUNCH_APP1",n,n],[1,180,"SelectTask",0,n,0,n,n,n],[1,181,"LaunchScreenSaver",0,n,0,n,n,n],[1,182,"BrowserSearch",120,"BrowserSearch",170,"VK_BROWSER_SEARCH",n,n],[1,183,"BrowserHome",121,"BrowserHome",172,"VK_BROWSER_HOME",n,n],[1,184,"BrowserBack",122,"BrowserBack",166,"VK_BROWSER_BACK",n,n],[1,185,"BrowserForward",123,"BrowserForward",167,"VK_BROWSER_FORWARD",n,n],[1,186,"BrowserStop",0,n,0,"VK_BROWSER_STOP",n,n],[1,187,"BrowserRefresh",0,n,0,"VK_BROWSER_REFRESH",n,n],[1,188,"BrowserFavorites",0,n,0,"VK_BROWSER_FAVORITES",n,n],[1,189,"ZoomToggle",0,n,0,n,n,n],[1,190,"MailReply",0,n,0,n,n,n],[1,191,"MailForward",0,n,0,n,n,n],[1,192,"MailSend",0,n,0,n,n,n],[1,0,n,114,"KeyInComposition",229,n,n,n],[1,0,n,116,"ABNT_C2",194,"VK_ABNT_C2",n,n],[1,0,n,96,"OEM_8",223,"VK_OEM_8",n,n],[1,0,n,0,n,0,"VK_KANA",n,n],[1,0,n,0,n,0,"VK_HANGUL",n,n],[1,0,n,0,n,0,"VK_JUNJA",n,n],[1,0,n,0,n,0,"VK_FINAL",n,n],[1,0,n,0,n,0,"VK_HANJA",n,n],[1,0,n,0,n,0,"VK_KANJI",n,n],[1,0,n,0,n,0,"VK_CONVERT",n,n],[1,0,n,0,n,0,"VK_NONCONVERT",n,n],[1,0,n,0,n,0,"VK_ACCEPT",n,n],[1,0,n,0,n,0,"VK_MODECHANGE",n,n],[1,0,n,0,n,0,"VK_SELECT",n,n],[1,0,n,0,n,0,"VK_PRINT",n,n],[1,0,n,0,n,0,"VK_EXECUTE",n,n],[1,0,n,0,n,0,"VK_SNAPSHOT",n,n],[1,0,n,0,n,0,"VK_HELP",n,n],[1,0,n,0,n,0,"VK_APPS",n,n],[1,0,n,0,n,0,"VK_PROCESSKEY",n,n],[1,0,n,0,n,0,"VK_PACKET",n,n],[1,0,n,0,n,0,"VK_DBE_SBCSCHAR",n,n],[1,0,n,0,n,0,"VK_DBE_DBCSCHAR",n,n],[1,0,n,0,n,0,"VK_ATTN",n,n],[1,0,n,0,n,0,"VK_CRSEL",n,n],[1,0,n,0,n,0,"VK_EXSEL",n,n],[1,0,n,0,n,0,"VK_EREOF",n,n],[1,0,n,0,n,0,"VK_PLAY",n,n],[1,0,n,0,n,0,"VK_ZOOM",n,n],[1,0,n,0,n,0,"VK_NONAME",n,n],[1,0,n,0,n,0,"VK_PA1",n,n],[1,0,n,0,n,0,"VK_OEM_CLEAR",n,n]],t=[],i=[];for(let o of e){let[r,s,a,l,d,u,h,m,y]=o;if(i[s]||(i[s]=!0,CT[s]=a,LT[a]=s,AT[a.toLowerCase()]=s,r&&(eg[s]=l,l!==0&&l!==3&&l!==5&&l!==4&&l!==6&&l!==57&&(Eu[l]=s))),!t[l]){if(t[l]=!0,!d)throw new Error(`String representation missing for key code ${l} around scan code ${a}`);cl.define(l,d),Su.define(l,m||d),wu.define(l,y||m||d)}u&&(ku[u]=l),h&&(_T[h]=l)}Eu[3]=46})();var ul;(s=>{function n(a){return cl.keyCodeToStr(a)}s.toString=n;function e(a){return cl.strToKeyCode(a)}s.fromString=e;function t(a){return Su.keyCodeToStr(a)}s.toUserSettingsUS=t;function i(a){return wu.keyCodeToStr(a)}s.toUserSettingsGeneral=i;function o(a){return Su.strToKeyCode(a)||wu.strToKeyCode(a)}s.fromUserSettings=o;function r(a){if(a>=98&&a<=113)return null;switch(a){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return cl.keyCodeToStr(a)}s.toElectronAccelerator=r})(ul||={});function _u(n,e){if(typeof n=="number"){if(n===0)return null;let t=(n&65535)>>>0,i=(n&4294901760)>>>16;return i!==0?new mr([hl(t,e),hl(i,e)]):new mr([hl(t,e)])}else{let t=[];for(let i=0;i<n.length;i++)t.push(hl(n[i],e));return new mr(t)}}function hl(n,e){let t=!!(n&2048),i=!!(n&256),o=e===2?i:t,r=!!(n&1024),s=!!(n&512),a=e===2?t:i,l=n&255;return new Os(o,r,s,a,l)}var Os=class n{constructor(e,t,i,o,r){this.ctrlKey=e;this.shiftKey=t;this.altKey=i;this.metaKey=o;this.keyCode=r}equals(e){return e instanceof n&&this.ctrlKey===e.ctrlKey&&this.shiftKey===e.shiftKey&&this.altKey===e.altKey&&this.metaKey===e.metaKey&&this.keyCode===e.keyCode}getHashCode(){let e=this.ctrlKey?"1":"0",t=this.shiftKey?"1":"0",i=this.altKey?"1":"0",o=this.metaKey?"1":"0";return`K${e}${t}${i}${o}${this.keyCode}`}isModifierKey(){return this.keyCode===0||this.keyCode===5||this.keyCode===57||this.keyCode===6||this.keyCode===4}toKeybinding(){return new mr([this])}isDuplicateModifierCase(){return this.ctrlKey&&this.keyCode===5||this.shiftKey&&this.keyCode===4||this.altKey&&this.keyCode===6||this.metaKey&&this.keyCode===57}};var mr=class{chords;constructor(e){if(e.length===0)throw os("chords");this.chords=e}getHashCode(){let e="";for(let t=0,i=this.chords.length;t<i;t++)t!==0&&(e+=";"),e+=this.chords[t].getHashCode();return e}equals(e){if(e===null||this.chords.length!==e.chords.length)return!1;for(let t=0;t<this.chords.length;t++)if(!this.chords[t].equals(e.chords[t]))return!1;return!0}};function MT(n){if(n.charCode){let t=String.fromCharCode(n.charCode).toUpperCase();return ul.fromString(t)}let e=n.keyCode;if(e===3)return 7;if(qi)switch(e){case 59:return 85;case 60:if(pn)return 97;break;case 61:return 86;case 107:return 109;case 109:return 111;case 173:return 88;case 224:if(Se)return 57;break}else if(pr){if(Se&&e===93)return 57;if(!Se&&e===92)return 57}return ku[e]||0}var NT=Se?256:2048,OT=512,FT=1024,RT=Se?2048:256;var Ne=class{_standardKeyboardEventBrand=!0;browserEvent;target;ctrlKey;shiftKey;altKey;metaKey;altGraphKey;keyCode;code;_asKeybinding;_asKeyCodeChord;constructor(e){let t=e;this.browserEvent=t,this.target=t.target,this.ctrlKey=t.ctrlKey,this.shiftKey=t.shiftKey,this.altKey=t.altKey,this.metaKey=t.metaKey,this.altGraphKey=t.getModifierState?.("AltGraph"),this.keyCode=MT(t),this.code=t.code,this.ctrlKey=this.ctrlKey||this.keyCode===5,this.altKey=this.altKey||this.keyCode===6,this.shiftKey=this.shiftKey||this.keyCode===4,this.metaKey=this.metaKey||this.keyCode===57,this._asKeybinding=this._computeKeybinding(),this._asKeyCodeChord=this._computeKeyCodeChord()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeyCodeChord(){return this._asKeyCodeChord}equals(e){return this._asKeybinding===e}_computeKeybinding(){let e=0;this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(e=this.keyCode);let t=0;return this.ctrlKey&&(t|=NT),this.altKey&&(t|=OT),this.shiftKey&&(t|=FT),this.metaKey&&(t|=RT),t|=e,t}_computeKeyCodeChord(){let e=0;return this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(e=this.keyCode),new Os(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,e)}};var tg=new WeakMap;function PT(n){if(!n.parent||n.parent===n)return null;try{let e=n.location,t=n.parent.location;if(e.origin!=="null"&&t.origin!=="null"&&e.origin!==t.origin)return null}catch{return null}return n.parent}var pl=class{static getSameOriginWindowChain(e){let t=tg.get(e);if(!t){t=[],tg.set(e,t);let i=e,o;do o=PT(i),o?t.push({window:new WeakRef(i),iframeElement:i.frameElement||null}):t.push({window:new WeakRef(i),iframeElement:null}),i=o;while(i)}return t.slice(0)}static getPositionOfChildWindowRelativeToAncestorWindow(e,t){if(!t||e===t)return{top:0,left:0};let i=0,o=0,r=this.getSameOriginWindowChain(e);for(let s of r){let a=s.window.deref();if(i+=a?.scrollY??0,o+=a?.scrollX??0,a===t||!s.iframeElement)break;let l=s.iframeElement.getBoundingClientRect();i+=l.top,o+=l.left}return{top:i,left:o}}};var Xt=class{browserEvent;leftButton;middleButton;rightButton;buttons;target;detail;posx;posy;ctrlKey;shiftKey;altKey;metaKey;timestamp;constructor(e,t){this.timestamp=Date.now(),this.browserEvent=t,this.leftButton=t.button===0,this.middleButton=t.button===1,this.rightButton=t.button===2,this.buttons=t.buttons,this.target=t.target,this.detail=t.detail||1,t.type==="dblclick"&&(this.detail=2),this.ctrlKey=t.ctrlKey,this.shiftKey=t.shiftKey,this.altKey=t.altKey,this.metaKey=t.metaKey,typeof t.pageX=="number"?(this.posx=t.pageX,this.posy=t.pageY):(this.posx=t.clientX+this.target.ownerDocument.body.scrollLeft+this.target.ownerDocument.documentElement.scrollLeft,this.posy=t.clientY+this.target.ownerDocument.body.scrollTop+this.target.ownerDocument.documentElement.scrollTop);let i=pl.getPositionOfChildWindowRelativeToAncestorWindow(e,t.view);this.posx-=i.left,this.posy-=i.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}};var kn=class{browserEvent;deltaY;deltaX;target;constructor(e,t=0,i=0){this.browserEvent=e||null,this.target=e?e.target||e.targetNode||e.srcElement:null,this.deltaY=i,this.deltaX=t;let o=!1;if(Ms){let r=navigator.userAgent.match(/Chrome\/(\d+)/);o=(r?parseInt(r[1]):123)<=122}if(e){let r=e,s=e,a=e.view?.devicePixelRatio||1;if(typeof r.wheelDeltaY<"u")o?this.deltaY=r.wheelDeltaY/(120*a):this.deltaY=r.wheelDeltaY/120;else if(typeof s.VERTICAL_AXIS<"u"&&s.axis===s.VERTICAL_AXIS)this.deltaY=-s.detail/3;else if(e.type==="wheel"){let l=e;l.deltaMode===l.DOM_DELTA_LINE?qi&&!Se?this.deltaY=-e.deltaY/3:this.deltaY=-e.deltaY:this.deltaY=-e.deltaY/40}if(typeof r.wheelDeltaX<"u")ll&&lt?this.deltaX=-(r.wheelDeltaX/120):o?this.deltaX=r.wheelDeltaX/(120*a):this.deltaX=r.wheelDeltaX/120;else if(typeof s.HORIZONTAL_AXIS<"u"&&s.axis===s.HORIZONTAL_AXIS)this.deltaX=-e.detail/3;else if(e.type==="wheel"){let l=e;l.deltaMode===l.DOM_DELTA_LINE?qi&&!Se?this.deltaX=-e.deltaX/3:this.deltaX=-e.deltaX:this.deltaX=-e.deltaX/40}this.deltaY===0&&this.deltaX===0&&e.wheelDelta&&(o?this.deltaY=e.wheelDelta/(120*a):this.deltaY=e.wheelDelta/120)}}preventDefault(){this.browserEvent?.preventDefault()}stopPropagation(){this.browserEvent?.stopPropagation()}};function zt(n){return typeof n=="string"}function gn(n){return typeof n=="object"&&n!==null&&!Array.isArray(n)&&!(n instanceof RegExp)&&!(n instanceof Date)}function yi(n){return typeof n=="number"&&!isNaN(n)}function Lu(n){return!!n&&typeof n[Symbol.iterator]=="function"}function $i(n){return typeof n>"u"}function Ti(n){return $i(n)||n===null}function ng(n,e){if(!n)throw new Error(e?`Unexpected type, expected '${e}'`:"Unexpected type")}var BT=Object.prototype.hasOwnProperty;function ig(n){if(!gn(n))return!1;for(let e in n)if(BT.call(n,e))return!1;return!0}function ml(n){return typeof n=="function"}function og(n,e){let t=Math.min(n.length,e.length);for(let i=0;i<t;i++)HT(n[i],e[i])}function HT(n,e){if(zt(e)){if(typeof n!==e)throw new Error(`argument does not match constraint: typeof ${e}`)}else if(ml(e)){try{if(n instanceof e)return}catch{}if(!Ti(n)&&n.constructor===e||e.length===1&&e.call(void 0,n)===!0)return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}function Gi(n){return n===47||n===92}function fl(n){return n.replace(/[\\/]/g,Me.sep)}function sg(n){return n.indexOf("/")===-1&&(n=fl(n)),/^[a-zA-Z]:(\/|$)/.test(n)&&(n="/"+n),n}function Au(n,e=Me.sep){if(!n)return"";let t=n.length,i=n.charCodeAt(0);if(Gi(i)){if(Gi(n.charCodeAt(1))&&!Gi(n.charCodeAt(2))){let r=3,s=r;for(;r<t&&!Gi(n.charCodeAt(r));r++);if(s!==r&&!Gi(n.charCodeAt(r+1))){for(r+=1;r<t;r++)if(Gi(n.charCodeAt(r)))return n.slice(0,r+1).replace(/[\\/]/g,e)}}return e}else if(KT(i)&&n.charCodeAt(1)===58)return Gi(n.charCodeAt(2))?n.slice(0,2)+e:n.slice(0,2);let o=n.indexOf("://");if(o!==-1){for(o+=3;o<t;o++)if(Gi(n.charCodeAt(o)))return n.slice(0,o+1)}return""}function Mu(n,e,t,i=mi){if(n===e)return!0;if(!n||!e||e.length>n.length)return!1;if(t){if(!ur(n,e))return!1;if(e.length===n.length)return!0;let r=e.length;return e.charAt(e.length-1)===i&&r--,n.charAt(r)===i}return e.charAt(e.length-1)!==i&&(e+=i),n.indexOf(e)===0}function KT(n){return n>=65&&n<=90||n>=97&&n<=122}var _e;(le=>(le.inMemory="inmemory",le.vscode="vscode",le.internal="private",le.walkThrough="walkThrough",le.walkThroughSnippet="walkThroughSnippet",le.http="http",le.https="https",le.file="file",le.mailto="mailto",le.untitled="untitled",le.data="data",le.command="command",le.vscodeRemote="vscode-remote",le.vscodeRemoteResource="vscode-remote-resource",le.vscodeManagedRemoteResource="vscode-managed-remote-resource",le.vscodeUserData="vscode-userdata",le.vscodeCustomEditor="vscode-custom-editor",le.vscodeNotebookCell="vscode-notebook-cell",le.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",le.vscodeNotebookCellMetadataDiff="vscode-notebook-cell-metadata-diff",le.vscodeNotebookCellOutput="vscode-notebook-cell-output",le.vscodeNotebookCellOutputDiff="vscode-notebook-cell-output-diff",le.vscodeNotebookMetadata="vscode-notebook-metadata",le.vscodeInteractiveInput="vscode-interactive-input",le.vscodeSettings="vscode-settings",le.vscodeWorkspaceTrust="vscode-workspace-trust",le.vscodeTerminal="vscode-terminal",le.vscodeChatCodeBlock="vscode-chat-code-block",le.vscodeChatCodeCompareBlock="vscode-chat-code-compare-block",le.vscodeChatSesssion="vscode-chat-editor",le.webviewPanel="webview-panel",le.vscodeWebview="vscode-webview",le.extension="extension",le.vscodeFileResource="vscode-file",le.tmp="tmp",le.vsls="vsls",le.vscodeSourceControl="vscode-scm",le.commentsInput="comment",le.codeSetting="code-setting",le.outputChannel="output"))(_e||={});var UT="tkn",Nu=class{_hosts=Object.create(null);_ports=Object.create(null);_connectionTokens=Object.create(null);_preferredWebSchema="http";_delegate=null;_serverRootPath="/";setPreferredWebSchema(e){this._preferredWebSchema=e}setDelegate(e){this._delegate=e}setServerRootPath(e,t){this._serverRootPath=VT(e,t)}getServerRootPath(){return this._serverRootPath}get _remoteResourcesPath(){return Me.join(this._serverRootPath,_e.vscodeRemoteResource)}set(e,t,i){this._hosts[e]=t,this._ports[e]=i}setConnectionToken(e,t){this._connectionTokens[e]=t}getPreferredWebSchema(){return this._preferredWebSchema}rewrite(e){if(this._delegate)try{return this._delegate(e)}catch(a){return Ht(a),e}let t=e.authority,i=this._hosts[t];i&&i.indexOf(":")!==-1&&i.indexOf("[")===-1&&(i=`[${i}]`);let o=this._ports[t],r=this._connectionTokens[t],s=`path=${encodeURIComponent(e.path)}`;return typeof r=="string"&&(s+=`&${UT}=${encodeURIComponent(r)}`),Ce.from({scheme:Fi?this._preferredWebSchema:_e.vscodeRemoteResource,authority:`${i}:${o}`,path:this._remoteResourcesPath,query:s})}},Fu=new Nu;function VT(n,e){return Me.join(e??"/",`${n.quality??"oss"}-${n.commit??"dev"}`)}var WT="vscode-app",Ou=class n{static FALLBACK_AUTHORITY=WT;asBrowserUri(e){let t=this.toUri(e);return this.uriToBrowserUri(t)}uriToBrowserUri(e){return e.scheme===_e.vscodeRemote?Fu.rewrite(e):e.scheme===_e.file&&(rr||ef===`${_e.vscodeFileResource}://${n.FALLBACK_AUTHORITY}`)?e.with({scheme:_e.vscodeFileResource,authority:e.authority||n.FALLBACK_AUTHORITY,query:null,fragment:null}):e}asFileUri(e){let t=this.toUri(e);return this.uriToFileUri(t)}uriToFileUri(e){return e.scheme===_e.vscodeFileResource?e.with({scheme:_e.file,authority:e.authority!==n.FALLBACK_AUTHORITY?e.authority:null,query:null,fragment:null}):e}toUri(e,t){if(Ce.isUri(e))return e;if(globalThis._VSCODE_FILE_ROOT){let i=globalThis._VSCODE_FILE_ROOT;if(/^\w[\w\d+.-]*:\/\//.test(i))return Ce.joinPath(Ce.parse(i,!0),e);let o=Jc(i,e);return Ce.file(o)}return Ce.parse(t.toUrl(e))}},gl=new Ou,qT;(r=>{let n=new Map([["1",{"Cross-Origin-Opener-Policy":"same-origin"}],["2",{"Cross-Origin-Embedder-Policy":"require-corp"}],["3",{"Cross-Origin-Opener-Policy":"same-origin","Cross-Origin-Embedder-Policy":"require-corp"}]]);r.CoopAndCoep=Object.freeze(n.get("3"));let t="vscode-coi";function i(s){let a;typeof s=="string"?a=new URL(s).searchParams:s instanceof URL?a=s.searchParams:Ce.isUri(s)&&(a=new URL(s.toString(!0)).searchParams);let l=a?.get(t);if(l)return n.get(l)}r.getHeadersFromQuery=i;function o(s,a,l){if(!globalThis.crossOriginIsolated)return;let d=a&&l?"3":l?"2":"1";s instanceof URLSearchParams?s.set(t,d):s[t]=d}r.addSearchParam=o})(qT||={});function Ii(n){return us(n,!0)}var Fs=class{constructor(e){this._ignorePathCasing=e}compare(e,t,i=!1){return e===t?0:bu(this.getComparisonKey(e,i),this.getComparisonKey(t,i))}isEqual(e,t,i=!1){return e===t?!0:!e||!t?!1:this.getComparisonKey(e,i)===this.getComparisonKey(t,i)}getComparisonKey(e,t=!1){return e.with({path:this._ignorePathCasing(e)?e.path.toLowerCase():void 0,fragment:t?null:void 0}).toString()}ignorePathCasing(e){return this._ignorePathCasing(e)}isEqualOrParent(e,t,i=!1){if(e.scheme===t.scheme){if(e.scheme===_e.file)return Mu(Ii(e),Ii(t),this._ignorePathCasing(e))&&e.query===t.query&&(i||e.fragment===t.fragment);if(ag(e.authority,t.authority))return Mu(e.path,t.path,this._ignorePathCasing(e),"/")&&e.query===t.query&&(i||e.fragment===t.fragment)}return!1}joinPath(e,...t){return Ce.joinPath(e,...t)}basenameOrAuthority(e){return jT(e)||e.authority}basename(e){return Me.basename(e.path)}extname(e){return Me.extname(e.path)}dirname(e){if(e.path.length===0)return e;let t;return e.scheme===_e.file?t=Ce.file(hf(Ii(e))).path:(t=Me.dirname(e.path),e.authority&&t.length&&t.charCodeAt(0)!==47&&(console.error(`dirname("${e.toString})) resulted in a relative path`),t="/")),e.with({path:t})}normalizePath(e){if(!e.path.length)return e;let t;return e.scheme===_e.file?t=Ce.file(Xc(Ii(e))).path:t=Me.normalize(e.path),e.with({path:t})}relativePath(e,t){if(e.scheme!==t.scheme||!ag(e.authority,t.authority))return;if(e.scheme===_e.file){let r=uf(Ii(e),Ii(t));return lt?fl(r):r}let i=e.path||"/",o=t.path||"/";if(this._ignorePathCasing(e)){let r=0;for(let s=Math.min(i.length,o.length);r<s&&!(i.charCodeAt(r)!==o.charCodeAt(r)&&i.charAt(r).toLowerCase()!==o.charAt(r).toLowerCase());r++);i=o.substr(0,r)+i.substr(r)}return Me.relative(i,o)}resolvePath(e,t){if(e.scheme===_e.file){let i=Ce.file(cf(Ii(e),t));return e.with({authority:i.authority,path:i.path})}return t=sg(t),e.with({path:Me.resolve(e.path,t)})}isAbsolutePath(e){return!!e.path&&e.path[0]==="/"}isEqualAuthority(e,t){return e===t||e!==void 0&&t!==void 0&&$n(e,t)}hasTrailingPathSeparator(e,t=mi){if(e.scheme===_e.file){let i=Ii(e);return i.length>Au(i).length&&i[i.length-1]===t}else{let i=e.path;return i.length>1&&i.charCodeAt(i.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(e.fsPath)}}removeTrailingPathSeparator(e,t=mi){return lg(e,t)?e.with({path:e.path.substr(0,e.path.length-1)}):e}addTrailingPathSeparator(e,t=mi){let i=!1;if(e.scheme===_e.file){let o=Ii(e);i=o!==void 0&&o.length===Au(o).length&&o[o.length-1]===t}else{t="/";let o=e.path;i=o.length===1&&o.charCodeAt(o.length-1)===47}return!i&&!lg(e,t)?e.with({path:e.path+"/"}):e}},Fe=new Fs(()=>!1),$T=new Fs(n=>n.scheme===_e.file?!pn:!0),GT=new Fs(n=>!0),dg=Fe.isEqual.bind(Fe),W_=Fe.isEqualOrParent.bind(Fe),q_=Fe.getComparisonKey.bind(Fe),QT=Fe.basenameOrAuthority.bind(Fe),jT=Fe.basename.bind(Fe),YT=Fe.extname.bind(Fe),cg=Fe.dirname.bind(Fe),XT=Fe.joinPath.bind(Fe),$_=Fe.normalizePath.bind(Fe),G_=Fe.relativePath.bind(Fe),Ru=Fe.resolvePath.bind(Fe),Q_=Fe.isAbsolutePath.bind(Fe),ag=Fe.isEqualAuthority.bind(Fe),lg=Fe.hasTrailingPathSeparator.bind(Fe),j_=Fe.removeTrailingPathSeparator.bind(Fe),Y_=Fe.addTrailingPathSeparator.bind(Fe);var JT;(r=>{r.META_DATA_LABEL="label",r.META_DATA_DESCRIPTION="description",r.META_DATA_SIZE="size",r.META_DATA_MIME="mime";function o(s){let a=new Map;s.path.substring(s.path.indexOf(";")+1,s.path.lastIndexOf(";")).split(";").forEach(u=>{let[h,m]=u.split(":");h&&m&&a.set(h,m)});let d=s.path.substring(0,s.path.indexOf(";"));return d&&a.set(r.META_DATA_MIME,d),a}r.parseMetaData=o})(JT||={});function Bu(n){let e=new En,t=n(e.token),i=new Promise((o,r)=>{let s=e.token.onCancellationRequested(()=>{s.dispose(),r(new In)});Promise.resolve(t).then(a=>{s.dispose(),e.dispose(),o(a)},a=>{s.dispose(),e.dispose(),r(a)})});return new class{cancel(){e.cancel(),e.dispose()}then(o,r){return i.then(o,r)}catch(o){return this.then(void 0,o)}finally(o){return i.finally(o)}}}var Pu=class{activePromise;queuedPromise;queuedPromiseFactory;isDisposed=!1;constructor(){this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(e){if(this.isDisposed)return Promise.reject(new Error("Throttler is disposed"));if(this.activePromise){if(this.queuedPromiseFactory=e,!this.queuedPromise){let t=()=>{if(this.queuedPromise=null,this.isDisposed)return;let i=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,i};this.queuedPromise=new Promise(i=>{this.activePromise.then(t,t).then(i)})}return new Promise((t,i)=>{this.queuedPromise.then(t,i)})}return this.activePromise=e(),new Promise((t,i)=>{this.activePromise.then(o=>{this.activePromise=null,t(o)},o=>{this.activePromise=null,i(o)})})}dispose(){this.isDisposed=!0}};var ZT=(n,e)=>{let t=!0,i=setTimeout(()=>{t=!1,e()},n);return{isTriggered:()=>t,dispose:()=>{clearTimeout(i),t=!1}}},eI=n=>{let e=!0;return queueMicrotask(()=>{e&&(e=!1,n())}),{isTriggered:()=>e,dispose:()=>{e=!1}}},Dn=class{constructor(e){this.defaultDelay=e;this.deferred=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}deferred;completionPromise;doResolve;doReject;task;trigger(e,t=this.defaultDelay){this.task=e,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((o,r)=>{this.doResolve=o,this.doReject=r}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){let o=this.task;return this.task=null,o()}}));let i=()=>{this.deferred=null,this.doResolve?.(null)};return this.deferred=t===Ja?eI(i):ZT(t,i),this.completionPromise}isTriggered(){return!!this.deferred?.isTriggered()}cancel(){this.cancelTimeout(),this.completionPromise&&(this.doReject?.(new In),this.completionPromise=null)}cancelTimeout(){this.deferred?.dispose(),this.deferred=null}dispose(){this.cancel()}},vl=class{delayer;throttler;constructor(e){this.delayer=new Dn(e),this.throttler=new Pu}trigger(e,t){return this.delayer.trigger(()=>this.throttler.queue(e),t)}isTriggered(){return this.delayer.isTriggered()}cancel(){this.delayer.cancel()}dispose(){this.delayer.dispose(),this.throttler.dispose()}};function Qi(n,e){return e?new Promise((t,i)=>{let o=setTimeout(()=>{r.dispose(),t()},n),r=e.onCancellationRequested(()=>{clearTimeout(o),r.dispose(),i(new In)})}):Bu(t=>Qi(n,t))}function Rs(n,e=0,t){let i=setTimeout(()=>{n(),t&&o.dispose()},e),o=ce(()=>{clearTimeout(i),t?.deleteAndLeak(o)});return t?.add(o),o}var _n=class{_token;_isDisposed=!1;constructor(e,t){this._token=-1,typeof e=="function"&&typeof t=="number"&&this.setIfNotSet(e,t)}dispose(){this.cancel(),this._isDisposed=!0}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(e,t){if(this._isDisposed)throw new xn("Calling 'cancelAndSet' on a disposed TimeoutTimer");this.cancel(),this._token=setTimeout(()=>{this._token=-1,e()},t)}setIfNotSet(e,t){if(this._isDisposed)throw new xn("Calling 'setIfNotSet' on a disposed TimeoutTimer");this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,e()},t))}},yl=class{disposable=void 0;isDisposed=!1;cancel(){this.disposable?.dispose(),this.disposable=void 0}cancelAndSet(e,t,i=globalThis){if(this.isDisposed)throw new xn("Calling 'cancelAndSet' on a disposed IntervalTimer");this.cancel();let o=i.setInterval(()=>{e()},t);this.disposable=ce(()=>{i.clearInterval(o),this.disposable=void 0})}dispose(){this.cancel(),this.isDisposed=!0}},Gn=class{runner;timeoutToken;timeout;timeoutHandler;constructor(e,t){this.timeoutToken=-1,this.runner=e,this.timeout=t,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(e=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,e)}get delay(){return this.timeout}set delay(e){this.timeout=e}isScheduled(){return this.timeoutToken!==-1}flush(){this.isScheduled()&&(this.cancel(),this.doRun())}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){this.runner?.()}};var tI,bl;(function(){typeof globalThis.requestIdleCallback!="function"||typeof globalThis.cancelIdleCallback!="function"?bl=(n,e)=>{nf(()=>{if(t)return;let i=Date.now()+15;e(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,i-Date.now())}}))});let t=!1;return{dispose(){t||(t=!0)}}}:bl=(n,e,t)=>{let i=n.requestIdleCallback(e,typeof t=="number"?{timeout:t}:void 0),o=!1;return{dispose(){o||(o=!0,n.cancelIdleCallback(i))}}},tI=n=>bl(globalThis,n)})();var Tl=class{completeCallback;errorCallback;outcome;get isRejected(){return this.outcome?.outcome===1}get isResolved(){return this.outcome?.outcome===0}get isSettled(){return!!this.outcome}get value(){return this.outcome?.outcome===0?this.outcome?.value:void 0}p;constructor(){this.p=new Promise((e,t)=>{this.completeCallback=e,this.errorCallback=t})}complete(e){return new Promise(t=>{this.completeCallback(e),this.outcome={outcome:0,value:e},t()})}error(e){return new Promise(t=>{this.errorCallback(e),this.outcome={outcome:1,value:e},t()})}cancel(){return this.error(new In)}},Hu;(t=>{async function n(i){let o,r=await Promise.all(i.map(s=>s.then(a=>a,a=>{o||(o=a)})));if(typeof o<"u")throw o;return r}t.settled=n;function e(i){return new Promise(async(o,r)=>{try{await i(o,r)}catch(s){r(s)}})}t.withAsyncBody=e})(Hu||={});var ug=class n{static fromArray(e){return new n(t=>{t.emitMany(e)})}static fromPromise(e){return new n(async t=>{t.emitMany(await e)})}static fromPromises(e){return new n(async t=>{await Promise.all(e.map(async i=>t.emitOne(await i)))})}static merge(e){return new n(async t=>{await Promise.all(e.map(async i=>{for await(let o of i)t.emitOne(o)}))})}static EMPTY=n.fromArray([]);_state;_results;_error;_onReturn;_onStateChanged;constructor(e,t){this._state=0,this._results=[],this._error=null,this._onReturn=t,this._onStateChanged=new k,queueMicrotask(async()=>{let i={emitOne:o=>this.emitOne(o),emitMany:o=>this.emitMany(o),reject:o=>this.reject(o)};try{await Promise.resolve(e(i)),this.resolve()}catch(o){this.reject(o)}finally{i.emitOne=void 0,i.emitMany=void 0,i.reject=void 0}})}[Symbol.asyncIterator](){let e=0;return{next:async()=>{do{if(this._state===2)throw this._error;if(e<this._results.length)return{done:!1,value:this._results[e++]};if(this._state===1)return{done:!0,value:void 0};await _.toPromise(this._onStateChanged.event)}while(!0)},return:async()=>(this._onReturn?.(),{done:!0,value:void 0})}}static map(e,t){return new n(async i=>{for await(let o of e)i.emitOne(t(o))})}map(e){return n.map(this,e)}static filter(e,t){return new n(async i=>{for await(let o of e)t(o)&&i.emitOne(o)})}filter(e){return n.filter(this,e)}static coalesce(e){return n.filter(e,t=>!!t)}coalesce(){return n.coalesce(this)}static async toPromise(e){let t=[];for await(let i of e)t.push(i);return t}toPromise(){return n.toPromise(this)}emitOne(e){this._state===0&&(this._results.push(e),this._onStateChanged.fire())}emitMany(e){this._state===0&&(this._results=this._results.concat(e),this._onStateChanged.fire())}resolve(){this._state===0&&(this._state=1,this._onStateChanged.fire())}reject(e){this._state===0&&(this._state=2,this._error=e,this._onStateChanged.fire())}};var{entries:yg,setPrototypeOf:hg,isFrozen:nI,getPrototypeOf:iI,getOwnPropertyDescriptor:oI}=Object,{freeze:Ut,seal:Ln,create:rI}=Object,{apply:qu,construct:$u}=typeof Reflect<"u"&&Reflect;qu||(qu=function(e,t,i){return e.apply(t,i)});Ut||(Ut=function(e){return e});Ln||(Ln=function(e){return e});$u||($u=function(e,t){return new e(...t)});var sI=bn(Array.prototype.forEach),pg=bn(Array.prototype.pop),Ps=bn(Array.prototype.push),Sl=bn(String.prototype.toLowerCase),Ku=bn(String.prototype.toString),aI=bn(String.prototype.match),Cn=bn(String.prototype.replace),lI=bn(String.prototype.indexOf),dI=bn(String.prototype.trim),dn=bn(RegExp.prototype.test),Bs=cI(TypeError);function bn(n){return function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];return qu(n,e,i)}}function cI(n){return function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return $u(n,t)}}function Ee(n,e,t){var i;t=(i=t)!==null&&i!==void 0?i:Sl,hg&&hg(n,null);let o=e.length;for(;o--;){let r=e[o];if(typeof r=="string"){let s=t(r);s!==r&&(nI(e)||(e[o]=s),r=s)}n[r]=!0}return n}function gr(n){let e=rI(null);for(let[t,i]of yg(n))e[t]=i;return e}function Il(n,e){for(;n!==null;){let i=oI(n,e);if(i){if(i.get)return bn(i.get);if(typeof i.value=="function")return bn(i.value)}n=iI(n)}function t(i){return console.warn("fallback value for",i),null}return t}var mg=Ut(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),zu=Ut(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Uu=Ut(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),uI=Ut(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Vu=Ut(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),hI=Ut(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),fg=Ut(["#text"]),gg=Ut(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Wu=Ut(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),bg=Ut(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),xl=Ut(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),pI=Ln(/\{\{[\w\W]*|[\w\W]*\}\}/gm),mI=Ln(/<%[\w\W]*|[\w\W]*%>/gm),fI=Ln(/\${[\w\W]*}/gm),gI=Ln(/^data-[\-\w.\u00B7-\uFFFF]/),bI=Ln(/^aria-[\-\w]+$/),Tg=Ln(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),vI=Ln(/^(?:\w+script|data):/i),yI=Ln(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Ig=Ln(/^html$/i),vg=Object.freeze({__proto__:null,MUSTACHE_EXPR:pI,ERB_EXPR:mI,TMPLIT_EXPR:fI,DATA_ATTR:gI,ARIA_ATTR:bI,IS_ALLOWED_URI:Tg,IS_SCRIPT_OR_DATA:vI,ATTR_WHITESPACE:yI,DOCTYPE_NAME:Ig}),TI=()=>typeof window>"u"?null:window,II=function(e,t){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let i=null,o="data-tt-policy-suffix";t&&t.hasAttribute(o)&&(i=t.getAttribute(o));let r="dompurify"+(i?"#"+i:"");try{return e.createPolicy(r,{createHTML(s){return s},createScriptURL(s){return s}})}catch{return console.warn("TrustedTypes policy "+r+" could not be created."),null}};function xg(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:TI(),e=te=>xg(te);if(e.version="3.0.5",e.removed=[],!n||!n.document||n.document.nodeType!==9)return e.isSupported=!1,e;let t=n.document,i=t.currentScript,{document:o}=n,{DocumentFragment:r,HTMLTemplateElement:s,Node:a,Element:l,NodeFilter:d,NamedNodeMap:u=n.NamedNodeMap||n.MozNamedAttrMap,HTMLFormElement:h,DOMParser:m,trustedTypes:y}=n,w=l.prototype,f=Il(w,"cloneNode"),x=Il(w,"nextSibling"),L=Il(w,"childNodes"),C=Il(w,"parentNode");if(typeof s=="function"){let te=o.createElement("template");te.content&&te.content.ownerDocument&&(o=te.content.ownerDocument)}let H,P="",{implementation:A,createNodeIterator:z,createDocumentFragment:K,getElementsByTagName:F}=o,{importNode:ne}=t,ve={};e.isSupported=typeof yg=="function"&&typeof C=="function"&&A&&A.createHTMLDocument!==void 0;let{MUSTACHE_EXPR:me,ERB_EXPR:ae,TMPLIT_EXPR:Ve,DATA_ATTR:Mt,ARIA_ATTR:R,IS_SCRIPT_OR_DATA:B,ATTR_WHITESPACE:Q}=vg,{IS_ALLOWED_URI:Y}=vg,X=null,fe=Ee({},[...mg,...zu,...Uu,...Vu,...fg]),pe=null,Ge=Ee({},[...gg,...Wu,...bg,...xl]),Te=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),le=null,Pn=null,Tn=!0,Ci=!0,Bn=!1,Zo=!0,$t=!1,ai=!1,es=!1,ts=!1,Li=!1,er=!1,tr=!1,Ea=!0,ka=!1,Rc="user-content-",Ai=!0,go=!1,li={},di=null,Da=Ee({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),nr=null,_a=Ee({},["audio","video","img","source","image","track"]),bo=null,Ca=Ee({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ci="http://www.w3.org/1998/Math/MathML",Hn="http://www.w3.org/2000/svg",rt="http://www.w3.org/1999/xhtml",hn=rt,Mi=!1,Bt=null,vo=Ee({},[ci,Hn,rt],Ku),Kn,ui=["application/xhtml+xml","text/html"],Pe="text/html",ht,Ni=null,Pc=o.createElement("form"),La=function(E){return E instanceof RegExp||E instanceof Function},ns=function(E){if(!(Ni&&Ni===E)){if((!E||typeof E!="object")&&(E={}),E=gr(E),Kn=ui.indexOf(E.PARSER_MEDIA_TYPE)===-1?Kn=Pe:Kn=E.PARSER_MEDIA_TYPE,ht=Kn==="application/xhtml+xml"?Ku:Sl,X="ALLOWED_TAGS"in E?Ee({},E.ALLOWED_TAGS,ht):fe,pe="ALLOWED_ATTR"in E?Ee({},E.ALLOWED_ATTR,ht):Ge,Bt="ALLOWED_NAMESPACES"in E?Ee({},E.ALLOWED_NAMESPACES,Ku):vo,bo="ADD_URI_SAFE_ATTR"in E?Ee(gr(Ca),E.ADD_URI_SAFE_ATTR,ht):Ca,nr="ADD_DATA_URI_TAGS"in E?Ee(gr(_a),E.ADD_DATA_URI_TAGS,ht):_a,di="FORBID_CONTENTS"in E?Ee({},E.FORBID_CONTENTS,ht):Da,le="FORBID_TAGS"in E?Ee({},E.FORBID_TAGS,ht):{},Pn="FORBID_ATTR"in E?Ee({},E.FORBID_ATTR,ht):{},li="USE_PROFILES"in E?E.USE_PROFILES:!1,Tn=E.ALLOW_ARIA_ATTR!==!1,Ci=E.ALLOW_DATA_ATTR!==!1,Bn=E.ALLOW_UNKNOWN_PROTOCOLS||!1,Zo=E.ALLOW_SELF_CLOSE_IN_ATTR!==!1,$t=E.SAFE_FOR_TEMPLATES||!1,ai=E.WHOLE_DOCUMENT||!1,Li=E.RETURN_DOM||!1,er=E.RETURN_DOM_FRAGMENT||!1,tr=E.RETURN_TRUSTED_TYPE||!1,ts=E.FORCE_BODY||!1,Ea=E.SANITIZE_DOM!==!1,ka=E.SANITIZE_NAMED_PROPS||!1,Ai=E.KEEP_CONTENT!==!1,go=E.IN_PLACE||!1,Y=E.ALLOWED_URI_REGEXP||Tg,hn=E.NAMESPACE||rt,Te=E.CUSTOM_ELEMENT_HANDLING||{},E.CUSTOM_ELEMENT_HANDLING&&La(E.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Te.tagNameCheck=E.CUSTOM_ELEMENT_HANDLING.tagNameCheck),E.CUSTOM_ELEMENT_HANDLING&&La(E.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Te.attributeNameCheck=E.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),E.CUSTOM_ELEMENT_HANDLING&&typeof E.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Te.allowCustomizedBuiltInElements=E.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),$t&&(Ci=!1),er&&(Li=!0),li&&(X=Ee({},[...fg]),pe=[],li.html===!0&&(Ee(X,mg),Ee(pe,gg)),li.svg===!0&&(Ee(X,zu),Ee(pe,Wu),Ee(pe,xl)),li.svgFilters===!0&&(Ee(X,Uu),Ee(pe,Wu),Ee(pe,xl)),li.mathMl===!0&&(Ee(X,Vu),Ee(pe,bg),Ee(pe,xl))),E.ADD_TAGS&&(X===fe&&(X=gr(X)),Ee(X,E.ADD_TAGS,ht)),E.ADD_ATTR&&(pe===Ge&&(pe=gr(pe)),Ee(pe,E.ADD_ATTR,ht)),E.ADD_URI_SAFE_ATTR&&Ee(bo,E.ADD_URI_SAFE_ATTR,ht),E.FORBID_CONTENTS&&(di===Da&&(di=gr(di)),Ee(di,E.FORBID_CONTENTS,ht)),Ai&&(X["#text"]=!0),ai&&Ee(X,["html","head","body"]),X.table&&(Ee(X,["tbody"]),delete le.tbody),E.TRUSTED_TYPES_POLICY){if(typeof E.TRUSTED_TYPES_POLICY.createHTML!="function")throw Bs('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof E.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Bs('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');H=E.TRUSTED_TYPES_POLICY,P=H.createHTML("")}else H===void 0&&(H=II(y,i)),H!==null&&typeof P=="string"&&(P=H.createHTML(""));Ut&&Ut(E),Ni=E}},Aa=Ee({},["mi","mo","mn","ms","mtext"]),Ma=Ee({},["foreignobject","desc","title","annotation-xml"]),Bc=Ee({},["title","style","font","a","script"]),ue=Ee({},zu);Ee(ue,Uu),Ee(ue,uI);let g=Ee({},Vu);Ee(g,hI);let b=function(E){let U=C(E);(!U||!U.tagName)&&(U={namespaceURI:hn,tagName:"template"});let J=Sl(E.tagName),He=Sl(U.tagName);return Bt[E.namespaceURI]?E.namespaceURI===Hn?U.namespaceURI===rt?J==="svg":U.namespaceURI===ci?J==="svg"&&(He==="annotation-xml"||Aa[He]):!!ue[J]:E.namespaceURI===ci?U.namespaceURI===rt?J==="math":U.namespaceURI===Hn?J==="math"&&Ma[He]:!!g[J]:E.namespaceURI===rt?U.namespaceURI===Hn&&!Ma[He]||U.namespaceURI===ci&&!Aa[He]?!1:!g[J]&&(Bc[J]||!ue[J]):!!(Kn==="application/xhtml+xml"&&Bt[E.namespaceURI]):!1},v=function(E){Ps(e.removed,{element:E});try{E.parentNode.removeChild(E)}catch{E.remove()}},I=function(E,U){try{Ps(e.removed,{attribute:U.getAttributeNode(E),from:U})}catch{Ps(e.removed,{attribute:null,from:U})}if(U.removeAttribute(E),E==="is"&&!pe[E])if(Li||er)try{v(U)}catch{}else try{U.setAttribute(E,"")}catch{}},S=function(E){let U,J;if(ts)E="<remove></remove>"+E;else{let Nt=aI(E,/^[\r\n\t ]+/);J=Nt&&Nt[0]}Kn==="application/xhtml+xml"&&hn===rt&&(E='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+E+"</body></html>");let He=H?H.createHTML(E):E;if(hn===rt)try{U=new m().parseFromString(He,Kn)}catch{}if(!U||!U.documentElement){U=A.createDocument(hn,"template",null);try{U.documentElement.innerHTML=Mi?P:He}catch{}}let st=U.body||U.documentElement;return E&&J&&st.insertBefore(o.createTextNode(J),st.childNodes[0]||null),hn===rt?F.call(U,ai?"html":"body")[0]:ai?U.documentElement:st},D=function(E){return z.call(E.ownerDocument||E,E,d.SHOW_ELEMENT|d.SHOW_COMMENT|d.SHOW_TEXT,null,!1)},M=function(E){return E instanceof h&&(typeof E.nodeName!="string"||typeof E.textContent!="string"||typeof E.removeChild!="function"||!(E.attributes instanceof u)||typeof E.removeAttribute!="function"||typeof E.setAttribute!="function"||typeof E.namespaceURI!="string"||typeof E.insertBefore!="function"||typeof E.hasChildNodes!="function")},W=function(E){return typeof a=="object"?E instanceof a:E&&typeof E=="object"&&typeof E.nodeType=="number"&&typeof E.nodeName=="string"},j=function(E,U,J){ve[E]&&sI(ve[E],He=>{He.call(e,U,J,Ni)})},he=function(E){let U;if(j("beforeSanitizeElements",E,null),M(E))return v(E),!0;let J=ht(E.nodeName);if(j("uponSanitizeElement",E,{tagName:J,allowedTags:X}),E.hasChildNodes()&&!W(E.firstElementChild)&&(!W(E.content)||!W(E.content.firstElementChild))&&dn(/<[/\w]/g,E.innerHTML)&&dn(/<[/\w]/g,E.textContent))return v(E),!0;if(!X[J]||le[J]){if(!le[J]&&Ke(J)&&(Te.tagNameCheck instanceof RegExp&&dn(Te.tagNameCheck,J)||Te.tagNameCheck instanceof Function&&Te.tagNameCheck(J)))return!1;if(Ai&&!di[J]){let He=C(E)||E.parentNode,st=L(E)||E.childNodes;if(st&&He){let Nt=st.length;for(let et=Nt-1;et>=0;--et)He.insertBefore(f(st[et],!0),x(E))}}return v(E),!0}return E instanceof l&&!b(E)||(J==="noscript"||J==="noembed"||J==="noframes")&&dn(/<\/no(script|embed|frames)/i,E.innerHTML)?(v(E),!0):($t&&E.nodeType===3&&(U=E.textContent,U=Cn(U,me," "),U=Cn(U,ae," "),U=Cn(U,Ve," "),E.textContent!==U&&(Ps(e.removed,{element:E.cloneNode()}),E.textContent=U)),j("afterSanitizeElements",E,null),!1)},De=function(E,U,J){if(Ea&&(U==="id"||U==="name")&&(J in o||J in Pc))return!1;if(!(Ci&&!Pn[U]&&dn(Mt,U))){if(!(Tn&&dn(R,U))){if(!pe[U]||Pn[U]){if(!(Ke(E)&&(Te.tagNameCheck instanceof RegExp&&dn(Te.tagNameCheck,E)||Te.tagNameCheck instanceof Function&&Te.tagNameCheck(E))&&(Te.attributeNameCheck instanceof RegExp&&dn(Te.attributeNameCheck,U)||Te.attributeNameCheck instanceof Function&&Te.attributeNameCheck(U))||U==="is"&&Te.allowCustomizedBuiltInElements&&(Te.tagNameCheck instanceof RegExp&&dn(Te.tagNameCheck,J)||Te.tagNameCheck instanceof Function&&Te.tagNameCheck(J))))return!1}else if(!bo[U]){if(!dn(Y,Cn(J,Q,""))){if(!((U==="src"||U==="xlink:href"||U==="href")&&E!=="script"&&lI(J,"data:")===0&&nr[E])){if(!(Bn&&!dn(B,Cn(J,Q,"")))){if(J)return!1}}}}}}return!0},Ke=function(E){return E.indexOf("-")>0},nt=function(E){let U,J,He,st;j("beforeSanitizeAttributes",E,null);let{attributes:Nt}=E;if(!Nt)return;let et={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:pe};for(st=Nt.length;st--;){U=Nt[st];let{name:zn,namespaceURI:Hc}=U;if(J=zn==="value"?U.value:dI(U.value),He=ht(zn),et.attrName=He,et.attrValue=J,et.keepAttr=!0,et.forceKeepAttr=void 0,j("uponSanitizeAttribute",E,et),J=et.attrValue,et.forceKeepAttr||(I(zn,E),!et.keepAttr))continue;if(!Zo&&dn(/\/>/i,J)){I(zn,E);continue}$t&&(J=Cn(J,me," "),J=Cn(J,ae," "),J=Cn(J,Ve," "));let Km=ht(E.nodeName);if(De(Km,He,J)){if(ka&&(He==="id"||He==="name")&&(I(zn,E),J=Rc+J),H&&typeof y=="object"&&typeof y.getAttributeType=="function"&&!Hc)switch(y.getAttributeType(Km,He)){case"TrustedHTML":{J=H.createHTML(J);break}case"TrustedScriptURL":{J=H.createScriptURL(J);break}}try{Hc?E.setAttributeNS(Hc,zn,J):E.setAttribute(zn,J),pg(e.removed)}catch{}}}j("afterSanitizeAttributes",E,null)},We=function te(E){let U,J=D(E);for(j("beforeSanitizeShadowDOM",E,null);U=J.nextNode();)j("uponSanitizeShadowNode",U,null),!he(U)&&(U.content instanceof r&&te(U.content),nt(U));j("afterSanitizeShadowDOM",E,null)};return e.sanitize=function(te){let E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},U,J,He,st;if(Mi=!te,Mi&&(te="<!-->"),typeof te!="string"&&!W(te))if(typeof te.toString=="function"){if(te=te.toString(),typeof te!="string")throw Bs("dirty is not a string, aborting")}else throw Bs("toString is not a function");if(!e.isSupported)return te;if(es||ns(E),e.removed=[],typeof te=="string"&&(go=!1),go){if(te.nodeName){let zn=ht(te.nodeName);if(!X[zn]||le[zn])throw Bs("root node is forbidden and cannot be sanitized in-place")}}else if(te instanceof a)U=S("<!---->"),J=U.ownerDocument.importNode(te,!0),J.nodeType===1&&J.nodeName==="BODY"||J.nodeName==="HTML"?U=J:U.appendChild(J);else{if(!Li&&!$t&&!ai&&te.indexOf("<")===-1)return H&&tr?H.createHTML(te):te;if(U=S(te),!U)return Li?null:tr?P:""}U&&ts&&v(U.firstChild);let Nt=D(go?te:U);for(;He=Nt.nextNode();)he(He)||(He.content instanceof r&&We(He.content),nt(He));if(go)return te;if(Li){if(er)for(st=K.call(U.ownerDocument);U.firstChild;)st.appendChild(U.firstChild);else st=U;return(pe.shadowroot||pe.shadowrootmode)&&(st=ne.call(t,st,!0)),st}let et=ai?U.outerHTML:U.innerHTML;return ai&&X["!doctype"]&&U.ownerDocument&&U.ownerDocument.doctype&&U.ownerDocument.doctype.name&&dn(Ig,U.ownerDocument.doctype.name)&&(et="<!DOCTYPE "+U.ownerDocument.doctype.name+`>
`+et),$t&&(et=Cn(et,me," "),et=Cn(et,ae," "),et=Cn(et,Ve," ")),H&&tr?H.createHTML(et):et},e.setConfig=function(te){ns(te),es=!0},e.clearConfig=function(){Ni=null,es=!1},e.isValidAttribute=function(te,E,U){Ni||ns({});let J=ht(te),He=ht(E);return De(J,He,U)},e.addHook=function(te,E){typeof E=="function"&&(ve[te]=ve[te]||[],Ps(ve[te],E))},e.removeHook=function(te){if(ve[te])return pg(ve[te])},e.removeHooks=function(te){ve[te]&&(ve[te]=[])},e.removeAllHooks=function(){ve={}},e}var Qn=xg();var mC=Qn.version,fC=Qn.isSupported,Hs=Qn.sanitize,gC=Qn.setConfig,bC=Qn.clearConfig,vC=Qn.isValidAttribute,wl=Qn.addHook,El=Qn.removeHook,yC=Qn.removeHooks,TC=Qn.removeAllHooks;function Qu(n){return ju(n,0)}function ju(n,e){switch(typeof n){case"object":return n===null?xi(349,e):Array.isArray(n)?SI(n,e):wI(n,e);case"string":return kl(n,e);case"boolean":return xI(n,e);case"number":return xi(n,e);case"undefined":return xi(937,e);default:return xi(617,e)}}function xi(n,e){return(e<<5)-e+n|0}function xI(n,e){return xi(n?433:863,e)}function kl(n,e){e=xi(149417,e);for(let t=0,i=n.length;t<i;t++)e=xi(n.charCodeAt(t),e);return e}function SI(n,e){return e=xi(104579,e),n.reduce((t,i)=>ju(i,t),e)}function wI(n,e){return e=xi(181387,e),Object.keys(n).sort().reduce((t,i)=>(t=kl(i,t),ju(n[i],t)),e)}function Gu(n,e,t=32){let i=t-e,o=~((1<<i)-1);return(n<<e|(o&n)>>>i)>>>0}function wg(n,e=0,t=n.byteLength,i=0){for(let o=0;o<t;o++)n[e+o]=i}function EI(n,e,t="0"){for(;n.length<e;)n=t+n;return n}function Ks(n,e=32){return n instanceof ArrayBuffer?Array.from(new Uint8Array(n)).map(t=>t.toString(16).padStart(2,"0")).join(""):EI((n>>>0).toString(16),e/4)}var Eg=class n{static _bigBlock32=new DataView(new ArrayBuffer(320));_h0=1732584193;_h1=4023233417;_h2=2562383102;_h3=271733878;_h4=3285377520;_buff;_buffDV;_buffLen;_totalLen;_leftoverHighSurrogate;_finished;constructor(){this._buff=new Uint8Array(67),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(e){let t=e.length;if(t===0)return;let i=this._buff,o=this._buffLen,r=this._leftoverHighSurrogate,s,a;for(r!==0?(s=r,a=-1,r=0):(s=e.charCodeAt(0),a=0);;){let l=s;if(Vf(s))if(a+1<t){let d=e.charCodeAt(a+1);yu(d)?(a++,l=Wf(s,d)):l=65533}else{r=s;break}else yu(s)&&(l=65533);if(o=this._push(i,o,l),a++,a<t)s=e.charCodeAt(a);else break}this._buffLen=o,this._leftoverHighSurrogate=r}_push(e,t,i){return i<128?e[t++]=i:i<2048?(e[t++]=192|(i&1984)>>>6,e[t++]=128|(i&63)>>>0):i<65536?(e[t++]=224|(i&61440)>>>12,e[t++]=128|(i&4032)>>>6,e[t++]=128|(i&63)>>>0):(e[t++]=240|(i&1835008)>>>18,e[t++]=128|(i&258048)>>>12,e[t++]=128|(i&4032)>>>6,e[t++]=128|(i&63)>>>0),t>=64&&(this._step(),t-=64,this._totalLen+=64,e[0]=e[64],e[1]=e[65],e[2]=e[66]),t}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),Ks(this._h0)+Ks(this._h1)+Ks(this._h2)+Ks(this._h3)+Ks(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,wg(this._buff,this._buffLen),this._buffLen>56&&(this._step(),wg(this._buff));let e=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(e/4294967296),!1),this._buffDV.setUint32(60,e%4294967296,!1),this._step()}_step(){let e=n._bigBlock32,t=this._buffDV;for(let h=0;h<64;h+=4)e.setUint32(h,t.getUint32(h,!1),!1);for(let h=64;h<320;h+=4)e.setUint32(h,Gu(e.getUint32(h-12,!1)^e.getUint32(h-32,!1)^e.getUint32(h-56,!1)^e.getUint32(h-64,!1),1),!1);let i=this._h0,o=this._h1,r=this._h2,s=this._h3,a=this._h4,l,d,u;for(let h=0;h<80;h++)h<20?(l=o&r|~o&s,d=1518500249):h<40?(l=o^r^s,d=1859775393):h<60?(l=o&r|o&s|r&s,d=2400959708):(l=o^r^s,d=3395469782),u=Gu(i,5)+l+a+d+e.getUint32(h*4,!1)&4294967295,a=s,s=r,r=Gu(o,30),o=i,i=u;this._h0=this._h0+i&4294967295,this._h1=this._h1+o&4294967295,this._h2=this._h2+r&4294967295,this._h3=this._h3+s&4294967295,this._h4=this._h4+a&4294967295}};function vt(n,e,t){return Math.min(Math.max(n,e),t)}var{registerWindow:UC,getWindow:de,getDocument:VC,getWindows:_g,getWindowsCount:kI,getWindowId:kg,getWindowById:WC,hasWindow:qC,onDidRegisterWindow:Cl,onWillUnregisterWindow:Cg,onDidUnregisterWindow:$C}=function(){let n=new Map;Yf(Je,1);let e={window:Je,disposables:new q};n.set(Je.vscodeWindowId,e);let t=new k,i=new k,o=new k;function r(s,a){return(typeof s=="number"?n.get(s):void 0)??(a?e:void 0)}return{onDidRegisterWindow:t.event,onWillUnregisterWindow:o.event,onDidUnregisterWindow:i.event,registerWindow(s){if(n.has(s.vscodeWindowId))return V.None;let a=new q,l={window:s,disposables:a.add(new q)};return n.set(s.vscodeWindowId,l),a.add(ce(()=>{n.delete(s.vscodeWindowId),i.fire(s)})),a.add($(s,Z.BEFORE_UNLOAD,()=>{o.fire(s)})),t.fire(l),a},getWindows(){return n.values()},getWindowsCount(){return n.size},getWindowId(s){return s.vscodeWindowId},hasWindow(s){return n.has(s)},getWindowById:r,getWindow(s){let a=s;if(a?.ownerDocument?.defaultView)return a.ownerDocument.defaultView.window;let l=s;return l?.view?l.view.window:Je},getDocument(s){return de(s).document}}}();function wt(n){for(;n.firstChild;)n.firstChild.remove()}var Xu=class{_handler;_node;_type;_options;constructor(e,t,i,o){this._node=e,this._type=t,this._handler=i,this._options=o||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){this._handler&&(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}};function $(n,e,t,i){return new Xu(n,e,t,i)}function DI(n,e){return function(t){return e(new Xt(n,t))}}function _I(n){return function(e){return n(new Ne(e))}}var ft=function(e,t,i,o){let r=i;return t==="click"||t==="mousedown"||t==="contextmenu"?r=DI(de(e),i):(t==="keydown"||t==="keypress"||t==="keyup")&&(r=_I(i)),$(e,t,r,o)};var CI,cn;var Dl=class extends yl{defaultTarget;constructor(e){super(),this.defaultTarget=e&&de(e)}cancelAndSet(e,t,i){return super.cancelAndSet(e,t,i??this.defaultTarget)}},zs=class{_runner;priority;_canceled;constructor(e,t=0){this._runner=e,this.priority=t,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(e){Ht(e)}}static sort(e,t){return t.priority-e.priority}};(function(){let n=new Map,e=new Map,t=new Map,i=new Map,o=r=>{t.set(r,!1);let s=n.get(r)??[];for(e.set(r,s),n.set(r,[]),i.set(r,!0);s.length>0;)s.sort(zs.sort),s.shift().execute();i.set(r,!1)};cn=(r,s,a=0)=>{let l=kg(r),d=new zs(s,a),u=n.get(l);return u||(u=[],n.set(l,u)),u.push(d),t.get(l)||(t.set(l,!0),r.requestAnimationFrame(()=>o(l))),d},CI=(r,s,a)=>{let l=kg(r);if(i.get(l)){let d=new zs(s,a),u=e.get(l);return u||(u=[],e.set(l,u)),u.push(d),d}else return cn(r,s,a)}})();function Lg(n){return de(n).getComputedStyle(n,null)}var Ft=class n{static convertToPixels(e,t){return parseFloat(t)||0}static getDimension(e,t,i){let o=Lg(e),r=o?o.getPropertyValue(t):"0";return n.convertToPixels(e,r)}static getBorderLeftWidth(e){return n.getDimension(e,"border-left-width","borderLeftWidth")}static getBorderRightWidth(e){return n.getDimension(e,"border-right-width","borderRightWidth")}static getBorderTopWidth(e){return n.getDimension(e,"border-top-width","borderTopWidth")}static getBorderBottomWidth(e){return n.getDimension(e,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(e){return n.getDimension(e,"padding-left","paddingLeft")}static getPaddingRight(e){return n.getDimension(e,"padding-right","paddingRight")}static getPaddingTop(e){return n.getDimension(e,"padding-top","paddingTop")}static getPaddingBottom(e){return n.getDimension(e,"padding-bottom","paddingBottom")}static getMarginLeft(e){return n.getDimension(e,"margin-left","marginLeft")}static getMarginTop(e){return n.getDimension(e,"margin-top","marginTop")}static getMarginRight(e){return n.getDimension(e,"margin-right","marginRight")}static getMarginBottom(e){return n.getDimension(e,"margin-bottom","marginBottom")}},_l=class n{constructor(e,t){this.width=e;this.height=t}static None=new n(0,0);with(e=this.width,t=this.height){return e!==this.width||t!==this.height?new n(e,t):this}static is(e){return typeof e=="object"&&typeof e.height=="number"&&typeof e.width=="number"}static lift(e){return e instanceof n?e:new n(e.width,e.height)}static equals(e,t){return e===t?!0:!e||!t?!1:e.width===t.width&&e.height===t.height}};function Ag(n){let e=n.offsetParent,t=n.offsetTop,i=n.offsetLeft;for(;(n=n.parentNode)!==null&&n!==n.ownerDocument.body&&n!==n.ownerDocument.documentElement;){t-=n.scrollTop;let o=Mg(n)?null:Lg(n);o&&(i-=o.direction!=="rtl"?n.scrollLeft:-n.scrollLeft),n===e&&(i+=Ft.getBorderLeftWidth(n),t+=Ft.getBorderTopWidth(n),t+=n.offsetTop,i+=n.offsetLeft,e=n.offsetParent)}return{left:i,top:t}}function Ll(n){let e=n.getBoundingClientRect(),t=de(n);return{left:e.left+t.scrollX,top:e.top+t.scrollY,width:e.width,height:e.height}}function Us(n){let e=Ft.getMarginLeft(n)+Ft.getMarginRight(n);return n.offsetWidth+e}function br(n){let e=Ft.getBorderLeftWidth(n)+Ft.getBorderRightWidth(n),t=Ft.getPaddingLeft(n)+Ft.getPaddingRight(n);return n.offsetWidth-e-t}function Al(n){let e=Ft.getBorderTopWidth(n)+Ft.getBorderBottomWidth(n),t=Ft.getPaddingTop(n)+Ft.getPaddingBottom(n);return n.offsetHeight-e-t}function Ml(n){let e=Ft.getMarginTop(n)+Ft.getMarginBottom(n);return n.offsetHeight+e}function ct(n,e){return!!e?.contains(n)}function LI(n,e,t){for(;n&&n.nodeType===n.ELEMENT_NODE;){if(n.classList.contains(e))return n;if(t){if(typeof t=="string"){if(n.classList.contains(t))return null}else if(n===t)return null}n=n.parentNode}return null}function Nl(n,e,t){return!!LI(n,e,t)}function Mg(n){return n&&!!n.host&&!!n.mode}function AI(n){for(;n.parentNode;){if(n===n.ownerDocument?.body)return null;n=n.parentNode}return Mg(n)?n:null}function Si(){let n=MI().activeElement;for(;n?.shadowRoot;)n=n.shadowRoot.activeElement;return n}function Jt(n){return Si()===n}function Zu(n){return ct(Si(),n)}function MI(){return kI()<=1?Je.document:Array.from(_g()).map(({window:e})=>e.document).find(e=>e.hasFocus())??Je.document}var Ng=new Map;function Vt(n=Je.document.head,e,t){let i=document.createElement("style");if(i.type="text/css",i.media="screen",e?.(i),n.appendChild(i),t&&t.add(ce(()=>i.remove())),n===Je.document.head){let o=new Set;Ng.set(i,o);for(let{window:r,disposables:s}of _g()){if(r===Je)continue;let a=s.add(NI(i,o,r));t?.add(a)}}return i}function NI(n,e,t){let i=new q,o=n.cloneNode(!0);t.document.head.appendChild(o),i.add(ce(()=>o.remove()));for(let r of RI(n))o.sheet?.insertRule(r.cssText,o.sheet?.cssRules.length);return i.add(OI.observe(n,i,{childList:!0})(()=>{o.textContent=n.textContent})),e.add(o),i.add(ce(()=>e.delete(o))),i}var OI=new class{mutationObservers=new Map;observe(n,e,t){let i=this.mutationObservers.get(n);i||(i=new Map,this.mutationObservers.set(n,i));let o=Qu(t),r=i.get(o);if(r)r.users+=1;else{let s=new k,a=new MutationObserver(d=>s.fire(d));a.observe(n,t);let l=r={users:1,observer:a,onDidMutate:s.event};e.add(ce(()=>{l.users-=1,l.users===0&&(s.dispose(),a.disconnect(),i?.delete(o),i?.size===0&&this.mutationObservers.delete(n))})),i.set(o,r)}return r.onDidMutate}};var Yu=null;function FI(){return Yu||(Yu=Vt()),Yu}function RI(n){return n?.sheet?.rules?n.sheet.rules:n?.sheet?.cssRules?n.sheet.cssRules:[]}function Ol(n,e,t=FI()){if(!(!t||!e)){t.sheet?.insertRule(`${n} {${e}}`,0);for(let i of Ng.get(t)??[])Ol(n,e,i)}}function Qe(n){return n instanceof HTMLElement||n instanceof de(n).HTMLElement}function eh(n){return n instanceof HTMLAnchorElement||n instanceof de(n).HTMLAnchorElement}function Og(n){return n instanceof SVGElement||n instanceof de(n).SVGElement}function Vs(n){return n instanceof MouseEvent||n instanceof de(n).MouseEvent}function jn(n){return n instanceof KeyboardEvent||n instanceof de(n).KeyboardEvent}var Z={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",POINTER_LEAVE:"pointerleave",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",PAGE_SHOW:"pageshow",PAGE_HIDE:"pagehide",PASTE:"paste",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:pr?"webkitAnimationStart":"animationstart",ANIMATION_END:pr?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:pr?"webkitAnimationIteration":"animationiteration"};function Fg(n){let e=n;return!!(e&&typeof e.preventDefault=="function"&&typeof e.stopPropagation=="function")}var Re={stop:(n,e)=>(n.preventDefault(),e&&n.stopPropagation(),n)};var Ju=class n extends V{_onDidFocus=this._register(new k);onDidFocus=this._onDidFocus.event;_onDidBlur=this._register(new k);onDidBlur=this._onDidBlur.event;_refreshStateHandler;static hasFocusWithin(e){if(Qe(e)){let t=AI(e),i=t?t.activeElement:e.ownerDocument.activeElement;return ct(i,e)}else{let t=e;return ct(t.document.activeElement,t.document)}}constructor(e){super();let t=n.hasFocusWithin(e),i=!1,o=()=>{i=!1,t||(t=!0,this._onDidFocus.fire())},r=()=>{t&&(i=!0,(Qe(e)?de(e):e).setTimeout(()=>{i&&(i=!1,t=!1,this._onDidBlur.fire())},0))};this._refreshStateHandler=()=>{n.hasFocusWithin(e)!==t&&(t?r():o())},this._register($(e,Z.FOCUS,o,!0)),this._register($(e,Z.BLUR,r,!0)),Qe(e)&&(this._register($(e,Z.FOCUS_IN,()=>this._refreshStateHandler())),this._register($(e,Z.FOCUS_OUT,()=>this._refreshStateHandler())))}refreshState(){this._refreshStateHandler()}};function Mo(n){return new Ju(n)}function Rg(n,e){return n.after(e),e}function G(n,...e){if(n.append(...e),e.length===1&&typeof e[0]!="string")return e[0]}function Pg(n,e){return n.insertBefore(e,n.firstChild),e}function Et(n,...e){n.innerText="",G(n,...e)}var PI=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;function Bg(n,e,t,...i){let o=PI.exec(e);if(!o)throw new Error("Bad use of emmet");let r=o[1]||"div",s;return n!=="http://www.w3.org/1999/xhtml"?s=document.createElementNS(n,r):s=document.createElement(r),o[3]&&(s.id=o[3]),o[4]&&(s.className=o[4].replace(/\./g," ").trim()),t&&Object.entries(t).forEach(([a,l])=>{typeof l>"u"||(/^on\w+$/.test(a)?s[a]=l:a==="selected"?l&&s.setAttribute(a,"true"):s.setAttribute(a,l))}),s.append(...i),s}function ee(n,e,...t){return Bg("http://www.w3.org/1999/xhtml",n,e,...t)}ee.SVG=function(n,e,...t){return Bg("http://www.w3.org/2000/svg",n,e,...t)};function Ws(...n){for(let e of n)e.style.display="",e.removeAttribute("aria-hidden")}function Fl(...n){for(let e of n)e.style.display="none",e.setAttribute("aria-hidden","true")}function Hg(n,e){let t=()=>{e(),i=cn(n,t)},i=cn(n,t);return ce(()=>i.dispose())}Fu.setPreferredWebSchema(/^https:/.test(Je.location.href)?"https":"http");function No(n){return n?`url('${gl.uriToBrowserUri(n).toString(!0).replace(/'/g,"%27")}')`:"url('')"}function vn(n,e){if(n!==void 0){let t=n.match(/^\s*var\((.+)\)$/);if(t){let i=t[1].split(",",2);return i.length===2&&(e=vn(i[1].trim(),e)),`var(${i[0]}, ${e})`}return n}return e}function Kg(n,e=!1){let t=document.createElement("a");return wl("afterSanitizeAttributes",i=>{for(let o of["href","src"])if(i.hasAttribute(o)){let r=i.getAttribute(o);if(o==="href"&&r.startsWith("#"))continue;if(t.href=r,!n.includes(t.protocol.replace(/:$/,""))){if(e&&o==="src"&&t.href.startsWith("data:"))continue;i.removeAttribute(o)}}}),ce(()=>{El("afterSanitizeAttributes")})}var GC=[_e.http,_e.https,_e.command],zg=Object.freeze(["a","abbr","b","bdo","blockquote","br","caption","cite","code","col","colgroup","dd","del","details","dfn","div","dl","dt","em","figcaption","figure","h1","h2","h3","h4","h5","h6","hr","i","img","input","ins","kbd","label","li","mark","ol","p","pre","q","rp","rt","ruby","samp","small","small","source","span","strike","strong","sub","summary","sup","table","tbody","td","tfoot","th","thead","time","tr","tt","u","ul","var","video","wbr"]),QC=Object.freeze({ALLOWED_TAGS:["a","button","blockquote","code","div","h1","h2","h3","h4","h5","h6","hr","input","label","li","p","pre","select","small","span","strong","textarea","ul","ol"],ALLOWED_ATTR:["href","data-href","data-command","target","title","name","src","alt","class","id","role","tabindex","style","data-code","width","height","align","x-dispatch","required","checked","placeholder","type","start"],RETURN_DOM:!1,RETURN_DOM_FRAGMENT:!1,RETURN_TRUSTED_TYPE:!0});var BI=/(?<tag>[\w\-]+)?(?:#(?<id>[\w\-]+))?(?<class>(?:\.(?:[\w\-]+))*)(?:@(?<name>(?:[\w\_])+))?/;function qs(n,...e){let t,i;Array.isArray(e[0])?(t={},i=e[0]):(t=e[0]||{},i=e[1]);let o=BI.exec(n);if(!o||!o.groups)throw new Error("Bad use of h");let r=o.groups.tag||"div",s=document.createElement(r);o.groups.id&&(s.id=o.groups.id);let a=[];if(o.groups.class)for(let d of o.groups.class.split("."))d!==""&&a.push(d);if(t.className!==void 0)for(let d of t.className.split("."))d!==""&&a.push(d);a.length>0&&(s.className=a.join(" "));let l={};if(o.groups.name&&(l[o.groups.name]=s),i)for(let d of i)Qe(d)?s.appendChild(d):typeof d=="string"?s.append(d):"root"in d&&(Object.assign(l,d),s.appendChild(d.root));for(let[d,u]of Object.entries(t))if(d!=="className")if(d==="style")for(let[h,m]of Object.entries(u))s.style.setProperty(Dg(h),typeof m=="number"?m+"px":""+m);else d==="tabIndex"?s.tabIndex=u:s.setAttribute(Dg(d),u.toString());return l.root=s,l}function Dg(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Yn(n){return n.tagName.toLowerCase()==="input"||n.tagName.toLowerCase()==="textarea"||Qe(n)&&!!n.editContext}var Rl=Oe("layoutService");var Ug=Oe("openerService");var T2=new Uint32Array(10);var I2=new Uint8Array([114,82,115,101,69,102,97,113,81,116,84,100,119,87,99,122,120,118,103]),x2=new Uint16Array([107,111,105,79,106,112,117,80,104,27496,28520,27752,121,110,27246,28782,27758,98,109,27757,108]),S2=new Uint16Array([114,82,29810,115,30579,26483,101,102,29286,24934,29030,29798,30822,30310,26470,97,113,29809,116,84,100,119,99,122,120,118,103]),w2=new Uint16Array([114,82,29810,115,30579,26483,101,69,102,29286,24934,29030,29798,30822,30310,26470,97,113,81,29809,116,84,100,119,87,99,122,120,118,103,107,111,105,79,106,112,117,80,104,27496,28520,27752,121,110,27246,28782,27758,98,109,27757,108]);function qg(...n){return function(e,t){for(let i=0,o=n.length;i<o;i++){let r=n[i](e,t);if(r)return r}return null}}var L2=$g.bind(void 0,!1),vr=$g.bind(void 0,!0);function $g(n,e,t){if(!t||t.length<e.length)return null;let i;return n?i=ur(t,e):i=t.indexOf(e)===0,i?e.length>0?[{start:0,end:e.length}]:[]:null}function HI(n,e){let t=e.toLowerCase().indexOf(n.toLowerCase());return t===-1?null:[{start:t,end:t+n.length}]}function KI(n,e){return nh(n.toLowerCase(),e.toLowerCase(),0,0)}function nh(n,e,t,i){if(t===n.length)return[];if(i===e.length)return null;if(n[t]===e[i]){let o=null;return(o=nh(n,e,t+1,i+1))?Qg({start:i,end:i+1},o):null}return nh(n,e,t,i+1)}function sh(n){return 97<=n&&n<=122}function Gs(n){return 65<=n&&n<=90}function ah(n){return 48<=n&&n<=57}function zI(n){return n===32||n===9||n===10||n===13}var UI=new Set;"()[]{}<>`'\"-/;:,.?!".split("").forEach(n=>UI.add(n.charCodeAt(0)));function Gg(n){return sh(n)||Gs(n)||ah(n)}function Qg(n,e){return e.length===0?e=[n]:n.end===e[0].start?e[0].start=n.start:e.unshift(n),e}function jg(n,e){for(let t=e;t<n.length;t++){let i=n.charCodeAt(t);if(Gs(i)||ah(i)||t>0&&!Gg(n.charCodeAt(t-1)))return t}return n.length}function ih(n,e,t,i){if(t===n.length)return[];if(i===e.length)return null;if(n[t]!==e[i].toLowerCase())return null;{let o=null,r=i+1;for(o=ih(n,e,t+1,i+1);!o&&(r=jg(e,r))<e.length;)o=ih(n,e,t+1,r),r++;return o===null?null:Qg({start:i,end:i+1},o)}}function VI(n){let e=0,t=0,i=0,o=0,r=0;for(let u=0;u<n.length;u++)r=n.charCodeAt(u),Gs(r)&&e++,sh(r)&&t++,Gg(r)&&i++,ah(r)&&o++;let s=e/n.length,a=t/n.length,l=i/n.length,d=o/n.length;return{upperPercent:s,lowerPercent:a,alphaPercent:l,numericPercent:d}}function WI(n){let{upperPercent:e,lowerPercent:t}=n;return t===0&&e>.6}function qI(n){let{upperPercent:e,lowerPercent:t,alphaPercent:i,numericPercent:o}=n;return t>.2&&e<.8&&i>.6&&o<.2}function $I(n){let e=0,t=0,i=0,o=0;for(let r=0;r<n.length;r++)i=n.charCodeAt(r),Gs(i)&&e++,sh(i)&&t++,zI(i)&&o++;return(e===0||t===0)&&o===0?n.length<=30:e<=5}function Yg(n,e){if(!e||(e=e.trim(),e.length===0)||!$I(n))return null;e.length>60&&(e=e.substring(0,60));let t=VI(e);if(!qI(t)){if(!WI(t))return null;e=e.toLowerCase()}let i=null,o=0;for(n=n.toLowerCase();o<e.length&&(i=ih(n,e,0,o))===null;)o=jg(e,o+1);return i}var GI=qg(vr,Yg,HI),QI=qg(vr,Yg,KI),Vg=new Ua(1e4);function lh(n,e,t=!1){if(typeof n!="string"||typeof e!="string")return null;let i=Vg.get(n);i||(i=new RegExp(zf(n),"i"),Vg.set(n,i));let o=i.exec(e);return o?[{start:o.index,end:o.index+o[0].length}]:t?QI(n,e):GI(n,e)}function Xg(n,e){let t=Hl(n,n.toLowerCase(),0,e,e.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});return t?Jg(t):null}function Jg(n){if(typeof n>"u")return[];let e=[],t=n[1];for(let i=n.length-1;i>1;i--){let o=n[i]+t,r=e[e.length-1];r&&r.end===o?r.end=o+1:e.push({start:o,end:o+1})}return e}var Yi=128;function dh(){let n=[],e=[];for(let t=0;t<=Yi;t++)e[t]=0;for(let t=0;t<=Yi;t++)n.push(e.slice(0));return n}function Zg(n){let e=[];for(let t=0;t<=n;t++)e[t]=0;return e}var eb=Zg(2*Yi),oh=Zg(2*Yi),Xn=dh(),ji=dh(),$s=dh(),jI=!1;function th(n,e,t,i,o){function r(a,l,d=" "){for(;a.length<l;)a=d+a;return a}let s=` |   |${i.split("").map(a=>r(a,3)).join("|")}
`;for(let a=0;a<=t;a++)a===0?s+=" |":s+=`${e[a-1]}|`,s+=n[a].slice(0,o+1).map(l=>r(l.toString(),3)).join("|")+`
`;return s}function YI(n,e,t,i){n=n.substr(e),t=t.substr(i),console.log(th(ji,n,n.length,t,t.length)),console.log(th($s,n,n.length,t,t.length)),console.log(th(Xn,n,n.length,t,t.length))}function Pl(n,e){if(e<0||e>=n.length)return!1;let t=n.codePointAt(e);switch(t){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 62:case 40:case 41:case 91:case 93:case 123:case 125:return!0;case void 0:return!1;default:return!!qf(t)}}function Wg(n,e){if(e<0||e>=n.length)return!1;switch(n.charCodeAt(e)){case 32:case 9:return!0;default:return!1}}function Bl(n,e,t){return e[n]!==t[n]}function XI(n,e,t,i,o,r,s=!1){for(;e<t&&o<r;)n[e]===i[o]&&(s&&(eb[e]=o),e+=1),o+=1;return e===t}var Oo;(t=>{t.Default=[-100,0];function e(i){return!i||i.length===2&&i[0]===-100&&i[1]===0}t.isDefault=e})(Oo||={});var rh=class{constructor(e,t){this.firstMatchCanBeWeak=e;this.boostFullMatch=t}static default={boostFullMatch:!0,firstMatchCanBeWeak:!1}};function Hl(n,e,t,i,o,r,s=rh.default){let a=n.length>Yi?Yi:n.length,l=i.length>Yi?Yi:i.length;if(t>=a||r>=l||a-t>l-r||!XI(e,t,a,o,r,l,!0))return;JI(a,l,t,r,e,o);let d=1,u=1,h=t,m=r,y=[!1];for(d=1,h=t;h<a;d++,h++){let C=eb[h],H=oh[h],P=h+1<a?oh[h+1]:l;for(u=C-r+1,m=C;m<P;u++,m++){let A=Number.MIN_SAFE_INTEGER,z=!1;m<=H&&(A=ZI(n,e,h,t,i,o,m,l,r,Xn[d-1][u-1]===0,y));let K=0;A!==Number.MAX_SAFE_INTEGER&&(z=!0,K=A+ji[d-1][u-1]);let F=m>C,ne=F?ji[d][u-1]+(Xn[d][u-1]>0?-5:0):0,ve=m>C+1&&Xn[d][u-1]>0,me=ve?ji[d][u-2]+(Xn[d][u-2]>0?-5:0):0;if(ve&&(!F||me>=ne)&&(!z||me>=K))ji[d][u]=me,$s[d][u]=3,Xn[d][u]=0;else if(F&&(!z||ne>=K))ji[d][u]=ne,$s[d][u]=2,Xn[d][u]=0;else if(z)ji[d][u]=K,$s[d][u]=1,Xn[d][u]=Xn[d-1][u-1]+1;else throw new Error("not possible")}}if(jI&&YI(n,t,i,r),!y[0]&&!s.firstMatchCanBeWeak)return;d--,u--;let w=[ji[d][u],r],f=0,x=0;for(;d>=1;){let C=u;do{let H=$s[d][C];if(H===3)C=C-2;else if(H===2)C=C-1;else break}while(C>=1);f>1&&e[t+d-1]===o[r+u-1]&&!Bl(C+r-1,i,o)&&f+1>Xn[d][C]&&(C=u),C===u?f++:f=1,x||(x=C),d--,u=C-1,w.push(u)}l-r===a&&s.boostFullMatch&&(w[0]+=2);let L=x-a;return w[0]-=L,w}function JI(n,e,t,i,o,r){let s=n-1,a=e-1;for(;s>=t&&a>=i;)o[s]===r[a]&&(oh[s]=a,s--),a--}function ZI(n,e,t,i,o,r,s,a,l,d,u){if(e[t]!==r[s])return Number.MIN_SAFE_INTEGER;let h=1,m=!1;return s===t-i?h=n[t]===o[s]?7:5:Bl(s,o,r)&&(s===0||!Bl(s-1,o,r))?(h=n[t]===o[s]?7:5,m=!0):Pl(r,s)&&(s===0||!Pl(r,s-1))?h=5:(Pl(r,s-1)||Wg(r,s-1))&&(h=5,m=!0),h>1&&t===i&&(u[0]=!0),m||(m=Bl(s,o,r)||Pl(r,s-1)||Wg(r,s-1)),t===i?s>l&&(h-=m?3:5):d?h+=m?2:0:h+=m?0:1,s+1===a&&(h-=m?3:5),h}var tb=new mt(()=>{let n=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:n,collatorIsNumeric:n.resolvedOptions().numeric}}),O2=new mt(()=>({collator:new Intl.Collator(void 0,{numeric:!0})})),F2=new mt(()=>({collator:new Intl.Collator(void 0,{numeric:!0,sensitivity:"accent"})}));function ex(n,e,t=!1){let i=n||"",o=e||"",r=tb.value.collator.compare(i,o);return tb.value.collatorIsNumeric&&r===0&&i!==o?i<o?-1:1:r}function ch(n,e,t){let i=n.toLowerCase(),o=e.toLowerCase(),r=tx(n,e,t);if(r)return r;let s=i.endsWith(t),a=o.endsWith(t);if(s!==a)return s?-1:1;let l=ex(i,o);return l!==0?l:i.localeCompare(o)}function tx(n,e,t){let i=n.toLowerCase(),o=e.toLowerCase(),r=i.startsWith(t),s=o.startsWith(t);if(r!==s)return r?-1:1;if(r&&s){if(i.length<o.length)return-1;if(i.length>o.length)return 1}return 0}var $2=Object.freeze({score:0}),G2=1<<18,Q2=1<<17;var Kl=(o=>(o[o.Ignore=0]="Ignore",o[o.Info=1]="Info",o[o.Warning=2]="Warning",o[o.Error=3]="Error",o))(Kl||{});(a=>{let n="error",e="warning",t="warn",i="info",o="ignore";function r(l){return l?$n(n,l)?3:$n(e,l)||$n(t,l)?2:$n(i,l)?1:0:0}a.fromValue=r;function s(l){switch(l){case 3:return n;case 2:return e;case 1:return i;default:return o}}a.toString=s})(Kl||={});var Zt=Kl;var uh=Object.create(null);function c(n,e){if(zt(e)){let t=uh[e];if(t===void 0)throw new Error(`${n} references an unknown codicon: ${e}`);e=t}return uh[n]=e,{id:n}}function hh(){return uh}var nb={add:c("add",6e4),plus:c("plus",6e4),gistNew:c("gist-new",6e4),repoCreate:c("repo-create",6e4),lightbulb:c("lightbulb",60001),lightBulb:c("light-bulb",60001),repo:c("repo",60002),repoDelete:c("repo-delete",60002),gistFork:c("gist-fork",60003),repoForked:c("repo-forked",60003),gitPullRequest:c("git-pull-request",60004),gitPullRequestAbandoned:c("git-pull-request-abandoned",60004),recordKeys:c("record-keys",60005),keyboard:c("keyboard",60005),tag:c("tag",60006),gitPullRequestLabel:c("git-pull-request-label",60006),tagAdd:c("tag-add",60006),tagRemove:c("tag-remove",60006),person:c("person",60007),personFollow:c("person-follow",60007),personOutline:c("person-outline",60007),personFilled:c("person-filled",60007),gitBranch:c("git-branch",60008),gitBranchCreate:c("git-branch-create",60008),gitBranchDelete:c("git-branch-delete",60008),sourceControl:c("source-control",60008),mirror:c("mirror",60009),mirrorPublic:c("mirror-public",60009),star:c("star",60010),starAdd:c("star-add",60010),starDelete:c("star-delete",60010),starEmpty:c("star-empty",60010),comment:c("comment",60011),commentAdd:c("comment-add",60011),alert:c("alert",60012),warning:c("warning",60012),search:c("search",60013),searchSave:c("search-save",60013),logOut:c("log-out",60014),signOut:c("sign-out",60014),logIn:c("log-in",60015),signIn:c("sign-in",60015),eye:c("eye",60016),eyeUnwatch:c("eye-unwatch",60016),eyeWatch:c("eye-watch",60016),circleFilled:c("circle-filled",60017),primitiveDot:c("primitive-dot",60017),closeDirty:c("close-dirty",60017),debugBreakpoint:c("debug-breakpoint",60017),debugBreakpointDisabled:c("debug-breakpoint-disabled",60017),debugHint:c("debug-hint",60017),terminalDecorationSuccess:c("terminal-decoration-success",60017),primitiveSquare:c("primitive-square",60018),edit:c("edit",60019),pencil:c("pencil",60019),info:c("info",60020),issueOpened:c("issue-opened",60020),gistPrivate:c("gist-private",60021),gitForkPrivate:c("git-fork-private",60021),lock:c("lock",60021),mirrorPrivate:c("mirror-private",60021),close:c("close",60022),removeClose:c("remove-close",60022),x:c("x",60022),repoSync:c("repo-sync",60023),sync:c("sync",60023),clone:c("clone",60024),desktopDownload:c("desktop-download",60024),beaker:c("beaker",60025),microscope:c("microscope",60025),vm:c("vm",60026),deviceDesktop:c("device-desktop",60026),file:c("file",60027),fileText:c("file-text",60027),more:c("more",60028),ellipsis:c("ellipsis",60028),kebabHorizontal:c("kebab-horizontal",60028),mailReply:c("mail-reply",60029),reply:c("reply",60029),organization:c("organization",60030),organizationFilled:c("organization-filled",60030),organizationOutline:c("organization-outline",60030),newFile:c("new-file",60031),fileAdd:c("file-add",60031),newFolder:c("new-folder",60032),fileDirectoryCreate:c("file-directory-create",60032),trash:c("trash",60033),trashcan:c("trashcan",60033),history:c("history",60034),clock:c("clock",60034),folder:c("folder",60035),fileDirectory:c("file-directory",60035),symbolFolder:c("symbol-folder",60035),logoGithub:c("logo-github",60036),markGithub:c("mark-github",60036),github:c("github",60036),terminal:c("terminal",60037),console:c("console",60037),repl:c("repl",60037),zap:c("zap",60038),symbolEvent:c("symbol-event",60038),error:c("error",60039),stop:c("stop",60039),variable:c("variable",60040),symbolVariable:c("symbol-variable",60040),array:c("array",60042),symbolArray:c("symbol-array",60042),symbolModule:c("symbol-module",60043),symbolPackage:c("symbol-package",60043),symbolNamespace:c("symbol-namespace",60043),symbolObject:c("symbol-object",60043),symbolMethod:c("symbol-method",60044),symbolFunction:c("symbol-function",60044),symbolConstructor:c("symbol-constructor",60044),symbolBoolean:c("symbol-boolean",60047),symbolNull:c("symbol-null",60047),symbolNumeric:c("symbol-numeric",60048),symbolNumber:c("symbol-number",60048),symbolStructure:c("symbol-structure",60049),symbolStruct:c("symbol-struct",60049),symbolParameter:c("symbol-parameter",60050),symbolTypeParameter:c("symbol-type-parameter",60050),symbolKey:c("symbol-key",60051),symbolText:c("symbol-text",60051),symbolReference:c("symbol-reference",60052),goToFile:c("go-to-file",60052),symbolEnum:c("symbol-enum",60053),symbolValue:c("symbol-value",60053),symbolRuler:c("symbol-ruler",60054),symbolUnit:c("symbol-unit",60054),activateBreakpoints:c("activate-breakpoints",60055),archive:c("archive",60056),arrowBoth:c("arrow-both",60057),arrowDown:c("arrow-down",60058),arrowLeft:c("arrow-left",60059),arrowRight:c("arrow-right",60060),arrowSmallDown:c("arrow-small-down",60061),arrowSmallLeft:c("arrow-small-left",60062),arrowSmallRight:c("arrow-small-right",60063),arrowSmallUp:c("arrow-small-up",60064),arrowUp:c("arrow-up",60065),bell:c("bell",60066),bold:c("bold",60067),book:c("book",60068),bookmark:c("bookmark",60069),debugBreakpointConditionalUnverified:c("debug-breakpoint-conditional-unverified",60070),debugBreakpointConditional:c("debug-breakpoint-conditional",60071),debugBreakpointConditionalDisabled:c("debug-breakpoint-conditional-disabled",60071),debugBreakpointDataUnverified:c("debug-breakpoint-data-unverified",60072),debugBreakpointData:c("debug-breakpoint-data",60073),debugBreakpointDataDisabled:c("debug-breakpoint-data-disabled",60073),debugBreakpointLogUnverified:c("debug-breakpoint-log-unverified",60074),debugBreakpointLog:c("debug-breakpoint-log",60075),debugBreakpointLogDisabled:c("debug-breakpoint-log-disabled",60075),briefcase:c("briefcase",60076),broadcast:c("broadcast",60077),browser:c("browser",60078),bug:c("bug",60079),calendar:c("calendar",60080),caseSensitive:c("case-sensitive",60081),check:c("check",60082),checklist:c("checklist",60083),chevronDown:c("chevron-down",60084),chevronLeft:c("chevron-left",60085),chevronRight:c("chevron-right",60086),chevronUp:c("chevron-up",60087),chromeClose:c("chrome-close",60088),chromeMaximize:c("chrome-maximize",60089),chromeMinimize:c("chrome-minimize",60090),chromeRestore:c("chrome-restore",60091),circleOutline:c("circle-outline",60092),circle:c("circle",60092),debugBreakpointUnverified:c("debug-breakpoint-unverified",60092),terminalDecorationIncomplete:c("terminal-decoration-incomplete",60092),circleSlash:c("circle-slash",60093),circuitBoard:c("circuit-board",60094),clearAll:c("clear-all",60095),clippy:c("clippy",60096),closeAll:c("close-all",60097),cloudDownload:c("cloud-download",60098),cloudUpload:c("cloud-upload",60099),code:c("code",60100),collapseAll:c("collapse-all",60101),colorMode:c("color-mode",60102),commentDiscussion:c("comment-discussion",60103),creditCard:c("credit-card",60105),dash:c("dash",60108),dashboard:c("dashboard",60109),database:c("database",60110),debugContinue:c("debug-continue",60111),debugDisconnect:c("debug-disconnect",60112),debugPause:c("debug-pause",60113),debugRestart:c("debug-restart",60114),debugStart:c("debug-start",60115),debugStepInto:c("debug-step-into",60116),debugStepOut:c("debug-step-out",60117),debugStepOver:c("debug-step-over",60118),debugStop:c("debug-stop",60119),debug:c("debug",60120),deviceCameraVideo:c("device-camera-video",60121),deviceCamera:c("device-camera",60122),deviceMobile:c("device-mobile",60123),diffAdded:c("diff-added",60124),diffIgnored:c("diff-ignored",60125),diffModified:c("diff-modified",60126),diffRemoved:c("diff-removed",60127),diffRenamed:c("diff-renamed",60128),diff:c("diff",60129),diffSidebyside:c("diff-sidebyside",60129),discard:c("discard",60130),editorLayout:c("editor-layout",60131),emptyWindow:c("empty-window",60132),exclude:c("exclude",60133),extensions:c("extensions",60134),eyeClosed:c("eye-closed",60135),fileBinary:c("file-binary",60136),fileCode:c("file-code",60137),fileMedia:c("file-media",60138),filePdf:c("file-pdf",60139),fileSubmodule:c("file-submodule",60140),fileSymlinkDirectory:c("file-symlink-directory",60141),fileSymlinkFile:c("file-symlink-file",60142),fileZip:c("file-zip",60143),files:c("files",60144),filter:c("filter",60145),flame:c("flame",60146),foldDown:c("fold-down",60147),foldUp:c("fold-up",60148),fold:c("fold",60149),folderActive:c("folder-active",60150),folderOpened:c("folder-opened",60151),gear:c("gear",60152),gift:c("gift",60153),gistSecret:c("gist-secret",60154),gist:c("gist",60155),gitCommit:c("git-commit",60156),gitCompare:c("git-compare",60157),compareChanges:c("compare-changes",60157),gitMerge:c("git-merge",60158),githubAction:c("github-action",60159),githubAlt:c("github-alt",60160),globe:c("globe",60161),grabber:c("grabber",60162),graph:c("graph",60163),gripper:c("gripper",60164),heart:c("heart",60165),home:c("home",60166),horizontalRule:c("horizontal-rule",60167),hubot:c("hubot",60168),inbox:c("inbox",60169),issueReopened:c("issue-reopened",60171),issues:c("issues",60172),italic:c("italic",60173),jersey:c("jersey",60174),json:c("json",60175),kebabVertical:c("kebab-vertical",60176),key:c("key",60177),law:c("law",60178),lightbulbAutofix:c("lightbulb-autofix",60179),linkExternal:c("link-external",60180),link:c("link",60181),listOrdered:c("list-ordered",60182),listUnordered:c("list-unordered",60183),liveShare:c("live-share",60184),loading:c("loading",60185),location:c("location",60186),mailRead:c("mail-read",60187),mail:c("mail",60188),markdown:c("markdown",60189),megaphone:c("megaphone",60190),mention:c("mention",60191),milestone:c("milestone",60192),gitPullRequestMilestone:c("git-pull-request-milestone",60192),mortarBoard:c("mortar-board",60193),move:c("move",60194),multipleWindows:c("multiple-windows",60195),mute:c("mute",60196),noNewline:c("no-newline",60197),note:c("note",60198),octoface:c("octoface",60199),openPreview:c("open-preview",60200),package:c("package",60201),paintcan:c("paintcan",60202),pin:c("pin",60203),play:c("play",60204),run:c("run",60204),plug:c("plug",60205),preserveCase:c("preserve-case",60206),preview:c("preview",60207),project:c("project",60208),pulse:c("pulse",60209),question:c("question",60210),quote:c("quote",60211),radioTower:c("radio-tower",60212),reactions:c("reactions",60213),references:c("references",60214),refresh:c("refresh",60215),regex:c("regex",60216),remoteExplorer:c("remote-explorer",60217),remote:c("remote",60218),remove:c("remove",60219),replaceAll:c("replace-all",60220),replace:c("replace",60221),repoClone:c("repo-clone",60222),repoForcePush:c("repo-force-push",60223),repoPull:c("repo-pull",60224),repoPush:c("repo-push",60225),report:c("report",60226),requestChanges:c("request-changes",60227),rocket:c("rocket",60228),rootFolderOpened:c("root-folder-opened",60229),rootFolder:c("root-folder",60230),rss:c("rss",60231),ruby:c("ruby",60232),saveAll:c("save-all",60233),saveAs:c("save-as",60234),save:c("save",60235),screenFull:c("screen-full",60236),screenNormal:c("screen-normal",60237),searchStop:c("search-stop",60238),server:c("server",60240),settingsGear:c("settings-gear",60241),settings:c("settings",60242),shield:c("shield",60243),smiley:c("smiley",60244),sortPrecedence:c("sort-precedence",60245),splitHorizontal:c("split-horizontal",60246),splitVertical:c("split-vertical",60247),squirrel:c("squirrel",60248),starFull:c("star-full",60249),starHalf:c("star-half",60250),symbolClass:c("symbol-class",60251),symbolColor:c("symbol-color",60252),symbolConstant:c("symbol-constant",60253),symbolEnumMember:c("symbol-enum-member",60254),symbolField:c("symbol-field",60255),symbolFile:c("symbol-file",60256),symbolInterface:c("symbol-interface",60257),symbolKeyword:c("symbol-keyword",60258),symbolMisc:c("symbol-misc",60259),symbolOperator:c("symbol-operator",60260),symbolProperty:c("symbol-property",60261),wrench:c("wrench",60261),wrenchSubaction:c("wrench-subaction",60261),symbolSnippet:c("symbol-snippet",60262),tasklist:c("tasklist",60263),telescope:c("telescope",60264),textSize:c("text-size",60265),threeBars:c("three-bars",60266),thumbsdown:c("thumbsdown",60267),thumbsup:c("thumbsup",60268),tools:c("tools",60269),triangleDown:c("triangle-down",60270),triangleLeft:c("triangle-left",60271),triangleRight:c("triangle-right",60272),triangleUp:c("triangle-up",60273),twitter:c("twitter",60274),unfold:c("unfold",60275),unlock:c("unlock",60276),unmute:c("unmute",60277),unverified:c("unverified",60278),verified:c("verified",60279),versions:c("versions",60280),vmActive:c("vm-active",60281),vmOutline:c("vm-outline",60282),vmRunning:c("vm-running",60283),watch:c("watch",60284),whitespace:c("whitespace",60285),wholeWord:c("whole-word",60286),window:c("window",60287),wordWrap:c("word-wrap",60288),zoomIn:c("zoom-in",60289),zoomOut:c("zoom-out",60290),listFilter:c("list-filter",60291),listFlat:c("list-flat",60292),listSelection:c("list-selection",60293),selection:c("selection",60293),listTree:c("list-tree",60294),debugBreakpointFunctionUnverified:c("debug-breakpoint-function-unverified",60295),debugBreakpointFunction:c("debug-breakpoint-function",60296),debugBreakpointFunctionDisabled:c("debug-breakpoint-function-disabled",60296),debugStackframeActive:c("debug-stackframe-active",60297),circleSmallFilled:c("circle-small-filled",60298),debugStackframeDot:c("debug-stackframe-dot",60298),terminalDecorationMark:c("terminal-decoration-mark",60298),debugStackframe:c("debug-stackframe",60299),debugStackframeFocused:c("debug-stackframe-focused",60299),debugBreakpointUnsupported:c("debug-breakpoint-unsupported",60300),symbolString:c("symbol-string",60301),debugReverseContinue:c("debug-reverse-continue",60302),debugStepBack:c("debug-step-back",60303),debugRestartFrame:c("debug-restart-frame",60304),debugAlt:c("debug-alt",60305),callIncoming:c("call-incoming",60306),callOutgoing:c("call-outgoing",60307),menu:c("menu",60308),expandAll:c("expand-all",60309),feedback:c("feedback",60310),gitPullRequestReviewer:c("git-pull-request-reviewer",60310),groupByRefType:c("group-by-ref-type",60311),ungroupByRefType:c("ungroup-by-ref-type",60312),account:c("account",60313),gitPullRequestAssignee:c("git-pull-request-assignee",60313),bellDot:c("bell-dot",60314),debugConsole:c("debug-console",60315),library:c("library",60316),output:c("output",60317),runAll:c("run-all",60318),syncIgnored:c("sync-ignored",60319),pinned:c("pinned",60320),githubInverted:c("github-inverted",60321),serverProcess:c("server-process",60322),serverEnvironment:c("server-environment",60323),pass:c("pass",60324),issueClosed:c("issue-closed",60324),stopCircle:c("stop-circle",60325),playCircle:c("play-circle",60326),record:c("record",60327),debugAltSmall:c("debug-alt-small",60328),vmConnect:c("vm-connect",60329),cloud:c("cloud",60330),merge:c("merge",60331),export:c("export",60332),graphLeft:c("graph-left",60333),magnet:c("magnet",60334),notebook:c("notebook",60335),redo:c("redo",60336),checkAll:c("check-all",60337),pinnedDirty:c("pinned-dirty",60338),passFilled:c("pass-filled",60339),circleLargeFilled:c("circle-large-filled",60340),circleLarge:c("circle-large",60341),circleLargeOutline:c("circle-large-outline",60341),combine:c("combine",60342),gather:c("gather",60342),table:c("table",60343),variableGroup:c("variable-group",60344),typeHierarchy:c("type-hierarchy",60345),typeHierarchySub:c("type-hierarchy-sub",60346),typeHierarchySuper:c("type-hierarchy-super",60347),gitPullRequestCreate:c("git-pull-request-create",60348),runAbove:c("run-above",60349),runBelow:c("run-below",60350),notebookTemplate:c("notebook-template",60351),debugRerun:c("debug-rerun",60352),workspaceTrusted:c("workspace-trusted",60353),workspaceUntrusted:c("workspace-untrusted",60354),workspaceUnknown:c("workspace-unknown",60355),terminalCmd:c("terminal-cmd",60356),terminalDebian:c("terminal-debian",60357),terminalLinux:c("terminal-linux",60358),terminalPowershell:c("terminal-powershell",60359),terminalTmux:c("terminal-tmux",60360),terminalUbuntu:c("terminal-ubuntu",60361),terminalBash:c("terminal-bash",60362),arrowSwap:c("arrow-swap",60363),copy:c("copy",60364),personAdd:c("person-add",60365),filterFilled:c("filter-filled",60366),wand:c("wand",60367),debugLineByLine:c("debug-line-by-line",60368),inspect:c("inspect",60369),layers:c("layers",60370),layersDot:c("layers-dot",60371),layersActive:c("layers-active",60372),compass:c("compass",60373),compassDot:c("compass-dot",60374),compassActive:c("compass-active",60375),azure:c("azure",60376),issueDraft:c("issue-draft",60377),gitPullRequestClosed:c("git-pull-request-closed",60378),gitPullRequestDraft:c("git-pull-request-draft",60379),debugAll:c("debug-all",60380),debugCoverage:c("debug-coverage",60381),runErrors:c("run-errors",60382),folderLibrary:c("folder-library",60383),debugContinueSmall:c("debug-continue-small",60384),beakerStop:c("beaker-stop",60385),graphLine:c("graph-line",60386),graphScatter:c("graph-scatter",60387),pieChart:c("pie-chart",60388),bracket:c("bracket",60175),bracketDot:c("bracket-dot",60389),bracketError:c("bracket-error",60390),lockSmall:c("lock-small",60391),azureDevops:c("azure-devops",60392),verifiedFilled:c("verified-filled",60393),newline:c("newline",60394),layout:c("layout",60395),layoutActivitybarLeft:c("layout-activitybar-left",60396),layoutActivitybarRight:c("layout-activitybar-right",60397),layoutPanelLeft:c("layout-panel-left",60398),layoutPanelCenter:c("layout-panel-center",60399),layoutPanelJustify:c("layout-panel-justify",60400),layoutPanelRight:c("layout-panel-right",60401),layoutPanel:c("layout-panel",60402),layoutSidebarLeft:c("layout-sidebar-left",60403),layoutSidebarRight:c("layout-sidebar-right",60404),layoutStatusbar:c("layout-statusbar",60405),layoutMenubar:c("layout-menubar",60406),layoutCentered:c("layout-centered",60407),target:c("target",60408),indent:c("indent",60409),recordSmall:c("record-small",60410),errorSmall:c("error-small",60411),terminalDecorationError:c("terminal-decoration-error",60411),arrowCircleDown:c("arrow-circle-down",60412),arrowCircleLeft:c("arrow-circle-left",60413),arrowCircleRight:c("arrow-circle-right",60414),arrowCircleUp:c("arrow-circle-up",60415),layoutSidebarRightOff:c("layout-sidebar-right-off",60416),layoutPanelOff:c("layout-panel-off",60417),layoutSidebarLeftOff:c("layout-sidebar-left-off",60418),blank:c("blank",60419),heartFilled:c("heart-filled",60420),map:c("map",60421),mapHorizontal:c("map-horizontal",60421),foldHorizontal:c("fold-horizontal",60421),mapFilled:c("map-filled",60422),mapHorizontalFilled:c("map-horizontal-filled",60422),foldHorizontalFilled:c("fold-horizontal-filled",60422),circleSmall:c("circle-small",60423),bellSlash:c("bell-slash",60424),bellSlashDot:c("bell-slash-dot",60425),commentUnresolved:c("comment-unresolved",60426),gitPullRequestGoToChanges:c("git-pull-request-go-to-changes",60427),gitPullRequestNewChanges:c("git-pull-request-new-changes",60428),searchFuzzy:c("search-fuzzy",60429),commentDraft:c("comment-draft",60430),send:c("send",60431),sparkle:c("sparkle",60432),insert:c("insert",60433),mic:c("mic",60434),thumbsdownFilled:c("thumbsdown-filled",60435),thumbsupFilled:c("thumbsup-filled",60436),coffee:c("coffee",60437),snake:c("snake",60438),game:c("game",60439),vr:c("vr",60440),chip:c("chip",60441),piano:c("piano",60442),music:c("music",60443),micFilled:c("mic-filled",60444),repoFetch:c("repo-fetch",60445),copilot:c("copilot",60446),lightbulbSparkle:c("lightbulb-sparkle",60447),robot:c("robot",60448),sparkleFilled:c("sparkle-filled",60449),diffSingle:c("diff-single",60450),diffMultiple:c("diff-multiple",60451),surroundWith:c("surround-with",60452),share:c("share",60453),gitStash:c("git-stash",60454),gitStashApply:c("git-stash-apply",60455),gitStashPop:c("git-stash-pop",60456),vscode:c("vscode",60457),vscodeInsiders:c("vscode-insiders",60458),codeOss:c("code-oss",60459),runCoverage:c("run-coverage",60460),runAllCoverage:c("run-all-coverage",60461),coverage:c("coverage",60462),githubProject:c("github-project",60463),mapVertical:c("map-vertical",60464),foldVertical:c("fold-vertical",60464),mapVerticalFilled:c("map-vertical-filled",60465),foldVerticalFilled:c("fold-vertical-filled",60465),goToSearch:c("go-to-search",60466),percentage:c("percentage",60467),sortPercentage:c("sort-percentage",60467),attach:c("attach",60468)};var nx={dialogError:c("dialog-error","error"),dialogWarning:c("dialog-warning","warning"),dialogInfo:c("dialog-info","info"),dialogClose:c("dialog-close","close"),treeItemExpanded:c("tree-item-expanded","chevron-down"),treeFilterOnTypeOn:c("tree-filter-on-type-on","list-filter"),treeFilterOnTypeOff:c("tree-filter-on-type-off","list-selection"),treeFilterClear:c("tree-filter-clear","close"),treeItemLoading:c("tree-item-loading","loading"),menuSelection:c("menu-selection","check"),menuSubmenu:c("menu-submenu","chevron-right"),menuBarMore:c("menubar-more","more"),scrollbarButtonLeft:c("scrollbar-button-left","triangle-left"),scrollbarButtonRight:c("scrollbar-button-right","triangle-right"),scrollbarButtonUp:c("scrollbar-button-up","triangle-up"),scrollbarButtonDown:c("scrollbar-button-down","triangle-down"),toolBarMore:c("toolbar-more","more"),quickInputBack:c("quick-input-back","arrow-left"),dropDownButton:c("drop-down-button",60084),symbolCustomColor:c("symbol-customcolor",60252),exportIcon:c("export",60332),workspaceUnspecified:c("workspace-unspecified",60355),newLine:c("newline",60394),thumbsDownFilled:c("thumbsdown-filled",60435),thumbsUpFilled:c("thumbsup-filled",60436),gitFetch:c("git-fetch",60445),lightbulbSparkleAutofix:c("lightbulb-sparkle-autofix",60447),debugBreakpointPending:c("debug-breakpoint-pending",60377)},Le={...nb,...nx};var ib;(e=>{function n(t){return t&&typeof t=="object"&&typeof t.id=="string"}e.isThemeColor=n})(ib||={});var Ie;(f=>{f.iconNameSegment="[A-Za-z0-9]+",f.iconNameExpression="[A-Za-z0-9-]+",f.iconModifierExpression="~[A-Za-z]+",f.iconNameCharacter="[A-Za-z0-9~-]";let o=new RegExp(`^(${f.iconNameExpression})(${f.iconModifierExpression})?$`);function r(x){let L=o.exec(x.id);if(!L)return r(Le.error);let[,C,H]=L,P=["codicon","codicon-"+C];return H&&P.push("codicon-modifier-"+H.substring(1)),P}f.asClassNameArray=r;function s(x){return r(x).join(" ")}f.asClassName=s;function a(x){return"."+r(x).join(".")}f.asCSSSelector=a;function l(x){return x&&typeof x=="object"&&typeof x.id=="string"&&(typeof x.color>"u"||ib.isThemeColor(x.color))}f.isThemeIcon=l;let d=new RegExp(`^\\$\\((${f.iconNameExpression}(?:${f.iconModifierExpression})?)\\)$`);function u(x){let L=d.exec(x);if(!L)return;let[,C]=L;return{id:C}}f.fromString=u;function h(x){return{id:x}}f.fromId=h;function m(x,L){let C=x.id,H=C.lastIndexOf("~");return H!==-1&&(C=C.substring(0,H)),L&&(C=`${C}~${L}`),{id:C}}f.modify=m;function y(x){let L=x.id.lastIndexOf("~");if(L!==-1)return x.id.substring(L+1)}f.getModifier=y;function w(x,L){return x.id===L.id&&x.color?.id===L.color?.id}f.isEqual=w})(Ie||={});var ix="$(",mh=new RegExp(`\\$\\(${Ie.iconNameExpression}(?:${Ie.iconModifierExpression})?\\)`,"g"),ox=new RegExp(`(\\\\)?${mh.source}`,"g");function ob(n){return n.replace(ox,(e,t)=>t?e:`\\${e}`)}var rx=new RegExp(`\\\\${mh.source}`,"g");function rb(n){return n.replace(rx,e=>`\\${e}`)}var sx=new RegExp(`(\\s)?(\\\\)?${mh.source}(\\s)?`,"g");function fh(n){return n.indexOf(ix)===-1?n:n.replace(sx,(e,t,i,o)=>i?e:t||o||"")}function sb(n){return n?n.replace(/\$\((.*?)\)/g,(e,t)=>` ${t} `).trim():""}var ph=new RegExp(`\\$\\(${Ie.iconNameCharacter}+\\)`,"g");function yr(n){ph.lastIndex=0;let e="",t=[],i=0;for(;;){let o=ph.lastIndex,r=ph.exec(n),s=n.substring(o,r?.index);if(s.length>0){e+=s;for(let a=0;a<s.length;a++)t.push(i)}if(!r)break;i+=r[0].length}return{text:e,iconOffsets:t}}function zl(n,e,t=!1){let{text:i,iconOffsets:o}=e;if(!o||o.length===0)return lh(n,i,t);let r=Is(i," "),s=i.length-r.length,a=lh(n,r,t);if(a)for(let l of a){let d=o[l.start+s]+s;l.start+=d,l.end+=d}return a}var gh=class{value;isTrusted;supportThemeIcons;supportHtml;baseUri;constructor(e="",t=!1){if(this.value=e,typeof this.value!="string")throw os("value");typeof t=="boolean"?(this.isTrusted=t,this.supportThemeIcons=!1,this.supportHtml=!1):(this.isTrusted=t.isTrusted??void 0,this.supportThemeIcons=t.supportThemeIcons??!1,this.supportHtml=t.supportHtml??!1)}appendText(e,t=0){return this.value+=ax(this.supportThemeIcons?ob(e):e).replace(/([ \t]+)/g,(i,o)=>"&nbsp;".repeat(o.length)).replace(/\>/gm,"\\>").replace(/\n/g,t===1?`\\
`:`

`),this}appendMarkdown(e){return this.value+=e,this}appendCodeblock(e,t){return this.value+=`
${lx(t,e)}
`,this}appendLink(e,t,i){return this.value+="[",this.value+=this._escape(t,"]"),this.value+="](",this.value+=this._escape(String(e),")"),i&&(this.value+=` "${this._escape(this._escape(i,'"'),")")}"`),this.value+=")",this}_escape(e,t){let i=new RegExp(Kf(t),"g");return e.replace(i,(o,r)=>e.charAt(r-1)!=="\\"?`\\${o}`:o)}};function Ul(n){return n instanceof gh?!0:n&&typeof n=="object"?typeof n.value=="string"&&(typeof n.isTrusted=="boolean"||typeof n.isTrusted=="object"||n.isTrusted===void 0)&&(typeof n.supportThemeIcons=="boolean"||n.supportThemeIcons===void 0):!1}function ab(n,e){return n===e?!0:!n||!e?!1:n.value===e.value&&n.isTrusted===e.isTrusted&&n.supportThemeIcons===e.supportThemeIcons&&n.supportHtml===e.supportHtml&&(n.baseUri===e.baseUri||!!n.baseUri&&!!e.baseUri&&dg(Ce.from(n.baseUri),Ce.from(e.baseUri)))}function ax(n){return n.replace(/[\\`*_{}[\]()#+\-!~]/g,"\\$&")}function lx(n,e){let t=n.match(/^`+/gm)?.reduce((o,r)=>o.length>r.length?o:r).length??0,i=t>=3?t+1:3;return[`${"`".repeat(i)}${e}`,n,`${"`".repeat(i)}`].join(`
`)}function Qs(n){return n.replace(/"/g,"&quot;")}function Vl(n){return n&&n.replace(/\\([\\`*_{}[\]()#+\-.!~])/g,"$1")}function lb(n){let e=[],t=n.split("|").map(o=>o.trim());n=t[0];let i=t[1];if(i){let o=/height=(\d+)/.exec(i),r=/width=(\d+)/.exec(i),s=o?o[1]:"",a=r?r[1]:"",l=isFinite(parseInt(a)),d=isFinite(parseInt(s));l&&e.push(`width="${a}"`),d&&e.push(`height="${s}"`)}return{href:n,dimensions:e}}var db={ctrlCmd:!1,alt:!1};var bh=class{constructor(e){this.options=e}getItemLabel(e){return e.label}getItemDescription(e){if(!this.options?.skipDescription)return e.description}getItemPath(e){if(!this.options?.skipPath)return e.resource?.scheme===_e.file?e.resource.fsPath:e.resource?.path}},WL=new bh,js=Oe("quickInputService");var vh=class{data=new Map;add(e,t){Wa(zt(e)),Wa(gn(t)),Wa(!this.data.has(e),"There is already an extension with this id"),this.data.set(e,t)}knows(e){return this.data.has(e)}as(e){return this.data.get(e)||null}},ut=new vh;var Th={Quickaccess:"workbench.contributions.quickaccess"},yh=class{providers=[];defaultProvider=void 0;registerQuickAccessProvider(e){return e.prefix.length===0?this.defaultProvider=e:this.providers.push(e),this.providers.sort((t,i)=>i.prefix.length-t.prefix.length),ce(()=>{this.providers.splice(this.providers.indexOf(e),1),this.defaultProvider===e&&(this.defaultProvider=void 0)})}getQuickAccessProviders(){return $m([this.defaultProvider,...this.providers])}getQuickAccessProvider(e){return e&&this.providers.find(i=>e.startsWith(i.prefix))||void 0||this.defaultProvider}clear(){let e=[...this.providers],t=this.defaultProvider;return this.providers=[],this.defaultProvider=void 0,()=>{this.providers=e,this.defaultProvider=t}}};ut.add(Th.Quickaccess,new yh);var Tr=class extends V{constructor(t,i){super();this.quickInputService=t;this.instantiationService=i}registry=ut.as(Th.Quickaccess);mapProviderToDescriptor=new Map;lastAcceptedPickerValues=new Map;visibleQuickAccess=void 0;pick(t="",i){return this.doShowOrPick(t,!0,i)}show(t="",i){this.doShowOrPick(t,!1,i)}doShowOrPick(t,i,o){let[r,s]=this.getOrInstantiateProvider(t,o?.enabledProviderPrefixes),a=this.visibleQuickAccess,l=a?.descriptor;if(a&&s&&l===s){t!==s.prefix&&!o?.preserveValue&&(a.picker.value=t),this.adjustValueSelection(a.picker,s,o);return}if(s&&!o?.preserveValue){let f;if(a&&l&&l!==s){let x=a.value.substr(l.prefix.length);x&&(f=`${s.prefix}${x}`)}if(!f){let x=r?.defaultFilterValue;x===1?f=this.lastAcceptedPickerValues.get(s):typeof x=="string"&&(f=`${s.prefix}${x}`)}typeof f=="string"&&(t=f)}let d=a?.picker?.valueSelection,u=a?.picker?.value,h=new q,m=h.add(this.quickInputService.createQuickPick({useSeparators:!0}));m.value=t,this.adjustValueSelection(m,s,o),m.placeholder=o?.placeholder??s?.placeholder,m.quickNavigate=o?.quickNavigateConfiguration,m.hideInput=!!m.quickNavigate&&!a,(typeof o?.itemActivation=="number"||o?.quickNavigateConfiguration)&&(m.itemActivation=o?.itemActivation??2),m.contextKey=s?.contextKey,m.filterValue=f=>f.substring(s?s.prefix.length:0);let y;i&&(y=new Tl,h.add(_.once(m.onWillAccept)(f=>{f.veto(),m.hide()}))),h.add(this.registerPickerListeners(m,r,s,t,o));let w=h.add(new En);if(r&&h.add(r.provide(m,w.token,o?.providerOptions)),_.once(m.onDidHide)(()=>{m.selectedItems.length===0&&w.cancel(),h.dispose(),y?.complete(m.selectedItems.slice(0))}),m.show(),d&&u===t&&(m.valueSelection=d),i)return y?.p}adjustValueSelection(t,i,o){let r;o?.preserveValue?r=[t.value.length,t.value.length]:r=[i?.prefix.length??0,t.value.length],t.valueSelection=r}registerPickerListeners(t,i,o,r,s){let a=new q,l=this.visibleQuickAccess={picker:t,descriptor:o,value:r};return a.add(ce(()=>{l===this.visibleQuickAccess&&(this.visibleQuickAccess=void 0)})),a.add(t.onDidChangeValue(d=>{let[u]=this.getOrInstantiateProvider(d,s?.enabledProviderPrefixes);u!==i?this.show(d,{enabledProviderPrefixes:s?.enabledProviderPrefixes,preserveValue:!0,providerOptions:s?.providerOptions}):l.value=d})),o&&a.add(t.onDidAccept(()=>{this.lastAcceptedPickerValues.set(o,t.value)})),a}getOrInstantiateProvider(t,i){let o=this.registry.getQuickAccessProvider(t);if(!o||i&&!i?.includes(o.prefix))return[void 0,void 0];let r=this.mapProviderToDescriptor.get(o);return r||(r=this.instantiationService.createInstance(o.ctor),this.mapProviderToDescriptor.set(o,r)),[r,o]}};Tr=ie([oe(0,js),oe(1,St)],Tr);var cb=Object.freeze({text:"text/plain",binary:"application/octet-stream",unknown:"application/unknown",markdown:"text/markdown",latex:"text/latex",uriList:"text/uri-list"});var ql={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:cb.text,INTERNAL_URI_LIST:"application/vnd.code.uri-list"};function ke(n,e,t){let i=null,o=null;if(typeof t.value=="function"?(i="value",o=t.value,o.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof t.get=="function"&&(i="get",o=t.get),!o)throw new Error("not supported");let r=`$memoize$${e}`;t[i]=function(...s){return this.hasOwnProperty(r)||Object.defineProperty(this,r,{configurable:!1,enumerable:!1,writable:!1,value:o.apply(this,s)}),this[r]}}var Ue;(r=>(r.Tap="-monaco-gesturetap",r.Change="-monaco-gesturechange",r.Start="-monaco-gesturestart",r.End="-monaco-gesturesend",r.Contextmenu="-monaco-gesturecontextmenu"))(Ue||={});var kt=class kt extends V{static SCROLL_FRICTION=-.005;static INSTANCE;static HOLD_DELAY=700;dispatched=!1;targets=new mn;ignoreTargets=new mn;handle;activeTouches;_lastSetTapCountTime;static CLEAR_TAP_COUNT_TIME=400;constructor(){super(),this.activeTouches={},this.handle=null,this._lastSetTapCountTime=0,this._register(_.runAndSubscribe(Cl,({window:e,disposables:t})=>{t.add($(e.document,"touchstart",i=>this.onTouchStart(i),{passive:!1})),t.add($(e.document,"touchend",i=>this.onTouchEnd(e,i))),t.add($(e.document,"touchmove",i=>this.onTouchMove(i),{passive:!1}))},{window:Je,disposables:this._store}))}static addTarget(e){if(!kt.isTouchDevice())return V.None;kt.INSTANCE||(kt.INSTANCE=iu(new kt));let t=kt.INSTANCE.targets.push(e);return ce(t)}static ignoreTarget(e){if(!kt.isTouchDevice())return V.None;kt.INSTANCE||(kt.INSTANCE=iu(new kt));let t=kt.INSTANCE.ignoreTargets.push(e);return ce(t)}static isTouchDevice(){return"ontouchstart"in Je||navigator.maxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(e){let t=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let i=0,o=e.targetTouches.length;i<o;i++){let r=e.targetTouches.item(i);this.activeTouches[r.identifier]={id:r.identifier,initialTarget:r.target,initialTimeStamp:t,initialPageX:r.pageX,initialPageY:r.pageY,rollingTimestamps:[t],rollingPageX:[r.pageX],rollingPageY:[r.pageY]};let s=this.newGestureEvent(Ue.Start,r.target);s.pageX=r.pageX,s.pageY=r.pageY,this.dispatchEvent(s)}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)}onTouchEnd(e,t){let i=Date.now(),o=Object.keys(this.activeTouches).length;for(let r=0,s=t.changedTouches.length;r<s;r++){let a=t.changedTouches.item(r);if(!this.activeTouches.hasOwnProperty(String(a.identifier))){console.warn("move of an UNKNOWN touch",a);continue}let l=this.activeTouches[a.identifier],d=Date.now()-l.initialTimeStamp;if(d<kt.HOLD_DELAY&&Math.abs(l.initialPageX-Gt(l.rollingPageX))<30&&Math.abs(l.initialPageY-Gt(l.rollingPageY))<30){let u=this.newGestureEvent(Ue.Tap,l.initialTarget);u.pageX=Gt(l.rollingPageX),u.pageY=Gt(l.rollingPageY),this.dispatchEvent(u)}else if(d>=kt.HOLD_DELAY&&Math.abs(l.initialPageX-Gt(l.rollingPageX))<30&&Math.abs(l.initialPageY-Gt(l.rollingPageY))<30){let u=this.newGestureEvent(Ue.Contextmenu,l.initialTarget);u.pageX=Gt(l.rollingPageX),u.pageY=Gt(l.rollingPageY),this.dispatchEvent(u)}else if(o===1){let u=Gt(l.rollingPageX),h=Gt(l.rollingPageY),m=Gt(l.rollingTimestamps)-l.rollingTimestamps[0],y=u-l.rollingPageX[0],w=h-l.rollingPageY[0],f=[...this.targets].filter(x=>l.initialTarget instanceof Node&&x.contains(l.initialTarget));this.inertia(e,f,i,Math.abs(y)/m,y>0?1:-1,u,Math.abs(w)/m,w>0?1:-1,h)}this.dispatchEvent(this.newGestureEvent(Ue.End,l.initialTarget)),delete this.activeTouches[a.identifier]}this.dispatched&&(t.preventDefault(),t.stopPropagation(),this.dispatched=!1)}newGestureEvent(e,t){let i=document.createEvent("CustomEvent");return i.initEvent(e,!1,!0),i.initialTarget=t,i.tapCount=0,i}dispatchEvent(e){if(e.type===Ue.Tap){let t=new Date().getTime(),i=0;t-this._lastSetTapCountTime>kt.CLEAR_TAP_COUNT_TIME?i=1:i=2,this._lastSetTapCountTime=t,e.tapCount=i}else(e.type===Ue.Change||e.type===Ue.Contextmenu)&&(this._lastSetTapCountTime=0);if(e.initialTarget instanceof Node){for(let i of this.ignoreTargets)if(i.contains(e.initialTarget))return;let t=[];for(let i of this.targets)if(i.contains(e.initialTarget)){let o=0,r=e.initialTarget;for(;r&&r!==i;)o++,r=r.parentElement;t.push([o,i])}t.sort((i,o)=>i[0]-o[0]);for(let[i,o]of t)o.dispatchEvent(e),this.dispatched=!0}}inertia(e,t,i,o,r,s,a,l,d){this.handle=cn(e,()=>{let u=Date.now(),h=u-i,m=0,y=0,w=!0;o+=kt.SCROLL_FRICTION*h,a+=kt.SCROLL_FRICTION*h,o>0&&(w=!1,m=r*o*h),a>0&&(w=!1,y=l*a*h);let f=this.newGestureEvent(Ue.Change);f.translationX=m,f.translationY=y,t.forEach(x=>x.dispatchEvent(f)),w||this.inertia(e,t,u,o,r,s+m,a,l,d+y)})}onTouchMove(e){let t=Date.now();for(let i=0,o=e.changedTouches.length;i<o;i++){let r=e.changedTouches.item(i);if(!this.activeTouches.hasOwnProperty(String(r.identifier))){console.warn("end of an UNKNOWN touch",r);continue}let s=this.activeTouches[r.identifier],a=this.newGestureEvent(Ue.Change,s.initialTarget);a.translationX=r.pageX-Gt(s.rollingPageX),a.translationY=r.pageY-Gt(s.rollingPageY),a.pageX=r.pageX,a.pageY=r.pageY,this.dispatchEvent(a),s.rollingPageX.length>3&&(s.rollingPageX.shift(),s.rollingPageY.shift(),s.rollingTimestamps.shift()),s.rollingPageX.push(r.pageX),s.rollingPageY.push(r.pageY),s.rollingTimestamps.push(t)}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)}};ie([ke],kt,"isTouchDevice",1);var yt=kt;var Ih=class{constructor(e){this.domNode=e}_maxWidth="";_width="";_height="";_top="";_left="";_bottom="";_right="";_paddingTop="";_paddingLeft="";_paddingBottom="";_paddingRight="";_fontFamily="";_fontWeight="";_fontSize="";_fontStyle="";_fontFeatureSettings="";_fontVariationSettings="";_textDecoration="";_lineHeight="";_letterSpacing="";_className="";_display="";_position="";_visibility="";_color="";_backgroundColor="";_layerHint=!1;_contain="none";_boxShadow="";setMaxWidth(e){let t=en(e);this._maxWidth!==t&&(this._maxWidth=t,this.domNode.style.maxWidth=this._maxWidth)}setWidth(e){let t=en(e);this._width!==t&&(this._width=t,this.domNode.style.width=this._width)}setHeight(e){let t=en(e);this._height!==t&&(this._height=t,this.domNode.style.height=this._height)}setTop(e){let t=en(e);this._top!==t&&(this._top=t,this.domNode.style.top=this._top)}setLeft(e){let t=en(e);this._left!==t&&(this._left=t,this.domNode.style.left=this._left)}setBottom(e){let t=en(e);this._bottom!==t&&(this._bottom=t,this.domNode.style.bottom=this._bottom)}setRight(e){let t=en(e);this._right!==t&&(this._right=t,this.domNode.style.right=this._right)}setPaddingTop(e){let t=en(e);this._paddingTop!==t&&(this._paddingTop=t,this.domNode.style.paddingTop=this._paddingTop)}setPaddingLeft(e){let t=en(e);this._paddingLeft!==t&&(this._paddingLeft=t,this.domNode.style.paddingLeft=this._paddingLeft)}setPaddingBottom(e){let t=en(e);this._paddingBottom!==t&&(this._paddingBottom=t,this.domNode.style.paddingBottom=this._paddingBottom)}setPaddingRight(e){let t=en(e);this._paddingRight!==t&&(this._paddingRight=t,this.domNode.style.paddingRight=this._paddingRight)}setFontFamily(e){this._fontFamily!==e&&(this._fontFamily=e,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(e){let t=en(e);this._fontSize!==t&&(this._fontSize=t,this.domNode.style.fontSize=this._fontSize)}setFontStyle(e){this._fontStyle!==e&&(this._fontStyle=e,this.domNode.style.fontStyle=this._fontStyle)}setFontFeatureSettings(e){this._fontFeatureSettings!==e&&(this._fontFeatureSettings=e,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setFontVariationSettings(e){this._fontVariationSettings!==e&&(this._fontVariationSettings=e,this.domNode.style.fontVariationSettings=this._fontVariationSettings)}setTextDecoration(e){this._textDecoration!==e&&(this._textDecoration=e,this.domNode.style.textDecoration=this._textDecoration)}setLineHeight(e){let t=en(e);this._lineHeight!==t&&(this._lineHeight=t,this.domNode.style.lineHeight=this._lineHeight)}setLetterSpacing(e){let t=en(e);this._letterSpacing!==t&&(this._letterSpacing=t,this.domNode.style.letterSpacing=this._letterSpacing)}setClassName(e){this._className!==e&&(this._className=e,this.domNode.className=this._className)}toggleClassName(e,t){this.domNode.classList.toggle(e,t),this._className=this.domNode.className}setDisplay(e){this._display!==e&&(this._display=e,this.domNode.style.display=this._display)}setPosition(e){this._position!==e&&(this._position=e,this.domNode.style.position=this._position)}setVisibility(e){this._visibility!==e&&(this._visibility=e,this.domNode.style.visibility=this._visibility)}setColor(e){this._color!==e&&(this._color=e,this.domNode.style.color=this._color)}setBackgroundColor(e){this._backgroundColor!==e&&(this._backgroundColor=e,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(e){this._layerHint!==e&&(this._layerHint=e,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(e){this._boxShadow!==e&&(this._boxShadow=e,this.domNode.style.boxShadow=e)}setContain(e){this._contain!==e&&(this._contain=e,this.domNode.style.contain=this._contain)}setAttribute(e,t){this.domNode.setAttribute(e,t)}removeAttribute(e){this.domNode.removeAttribute(e)}appendChild(e){this.domNode.appendChild(e.domNode)}removeChild(e){this.domNode.removeChild(e.domNode)}};function en(n){return typeof n=="number"?`${n}px`:n}function Fo(n){return new Ih(n)}var Ir=class{_hooks=new q;_pointerMoveCallback=null;_onStopCallback=null;dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(e,t){if(!this.isMonitoring())return;this._hooks.clear(),this._pointerMoveCallback=null;let i=this._onStopCallback;this._onStopCallback=null,e&&i&&i(t)}isMonitoring(){return!!this._pointerMoveCallback}startMonitoring(e,t,i,o,r){this.isMonitoring()&&this.stopMonitoring(!1),this._pointerMoveCallback=o,this._onStopCallback=r;let s=e;try{e.setPointerCapture(t),this._hooks.add(ce(()=>{try{e.releasePointerCapture(t)}catch{}}))}catch{s=de(e)}this._hooks.add($(s,Z.POINTER_MOVE,a=>{if(a.buttons!==i){this.stopMonitoring(!0);return}a.preventDefault(),this._pointerMoveCallback(a)})),this._hooks.add($(s,Z.POINTER_UP,a=>this.stopMonitoring(!0)))}};var Rt=class extends V{onclick(e,t){this._register($(e,Z.CLICK,i=>t(new Xt(de(e),i))))}onmousedown(e,t){this._register($(e,Z.MOUSE_DOWN,i=>t(new Xt(de(e),i))))}onmouseover(e,t){this._register($(e,Z.MOUSE_OVER,i=>t(new Xt(de(e),i))))}onmouseleave(e,t){this._register($(e,Z.MOUSE_LEAVE,i=>t(new Xt(de(e),i))))}onkeydown(e,t){this._register($(e,Z.KEY_DOWN,i=>t(new Ne(i))))}onkeyup(e,t){this._register($(e,Z.KEY_UP,i=>t(new Ne(i))))}oninput(e,t){this._register($(e,Z.INPUT,t))}onblur(e,t){this._register($(e,Z.BLUR,t))}onfocus(e,t){this._register($(e,Z.FOCUS,t))}onchange(e,t){this._register($(e,Z.CHANGE,t))}ignoreGesture(e){return yt.ignoreTarget(e)}};var Xi=11,$l=class extends Rt{_onActivate;bgDomNode;domNode;_pointerdownRepeatTimer;_pointerdownScheduleRepeatTimer;_pointerMoveMonitor;constructor(e){super(),this._onActivate=e.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=e.bgWidth+"px",this.bgDomNode.style.height=e.bgHeight+"px",typeof e.top<"u"&&(this.bgDomNode.style.top="0px"),typeof e.left<"u"&&(this.bgDomNode.style.left="0px"),typeof e.bottom<"u"&&(this.bgDomNode.style.bottom="0px"),typeof e.right<"u"&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=e.className,this.domNode.classList.add(...Ie.asClassNameArray(e.icon)),this.domNode.style.position="absolute",this.domNode.style.width=Xi+"px",this.domNode.style.height=Xi+"px",typeof e.top<"u"&&(this.domNode.style.top=e.top+"px"),typeof e.left<"u"&&(this.domNode.style.left=e.left+"px"),typeof e.bottom<"u"&&(this.domNode.style.bottom=e.bottom+"px"),typeof e.right<"u"&&(this.domNode.style.right=e.right+"px"),this._pointerMoveMonitor=this._register(new Ir),this._register(ft(this.bgDomNode,Z.POINTER_DOWN,t=>this._arrowPointerDown(t))),this._register(ft(this.domNode,Z.POINTER_DOWN,t=>this._arrowPointerDown(t))),this._pointerdownRepeatTimer=this._register(new Dl),this._pointerdownScheduleRepeatTimer=this._register(new _n)}_arrowPointerDown(e){if(!e.target||!(e.target instanceof Element))return;let t=()=>{this._pointerdownRepeatTimer.cancelAndSet(()=>this._onActivate(),1e3/24,de(e))};this._onActivate(),this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancelAndSet(t,200),this._pointerMoveMonitor.startMonitoring(e.target,e.pointerId,e.buttons,i=>{},()=>{this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancel()}),e.preventDefault()}};var xr=class n{_scrollbarSize;_oppositeScrollbarSize;_arrowSize;_visibleSize;_scrollSize;_scrollPosition;_computedAvailableSize;_computedIsNeeded;_computedSliderSize;_computedSliderRatio;_computedSliderPosition;constructor(e,t,i,o,r,s){this._scrollbarSize=Math.round(t),this._oppositeScrollbarSize=Math.round(i),this._arrowSize=Math.round(e),this._visibleSize=o,this._scrollSize=r,this._scrollPosition=s,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new n(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(e){let t=Math.round(e);return this._visibleSize!==t?(this._visibleSize=t,this._refreshComputedValues(),!0):!1}setScrollSize(e){let t=Math.round(e);return this._scrollSize!==t?(this._scrollSize=t,this._refreshComputedValues(),!0):!1}setScrollPosition(e){let t=Math.round(e);return this._scrollPosition!==t?(this._scrollPosition=t,this._refreshComputedValues(),!0):!1}setScrollbarSize(e){this._scrollbarSize=Math.round(e)}setOppositeScrollbarSize(e){this._oppositeScrollbarSize=Math.round(e)}static _computeValues(e,t,i,o,r){let s=Math.max(0,i-e),a=Math.max(0,s-2*t),l=o>0&&o>i;if(!l)return{computedAvailableSize:Math.round(s),computedIsNeeded:l,computedSliderSize:Math.round(a),computedSliderRatio:0,computedSliderPosition:0};let d=Math.round(Math.max(20,Math.floor(i*a/o))),u=(a-d)/(o-i),h=r*u;return{computedAvailableSize:Math.round(s),computedIsNeeded:l,computedSliderSize:Math.round(d),computedSliderRatio:u,computedSliderPosition:Math.round(h)}}_refreshComputedValues(){let e=n._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=e.computedAvailableSize,this._computedIsNeeded=e.computedIsNeeded,this._computedSliderSize=e.computedSliderSize,this._computedSliderRatio=e.computedSliderRatio,this._computedSliderPosition=e.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(e){if(!this._computedIsNeeded)return 0;let t=e-this._arrowSize-this._computedSliderSize/2;return Math.round(t/this._computedSliderRatio)}getDesiredScrollPositionFromOffsetPaged(e){if(!this._computedIsNeeded)return 0;let t=e-this._arrowSize,i=this._scrollPosition;return t<this._computedSliderPosition?i-=this._visibleSize:i+=this._visibleSize,i}getDesiredScrollPositionFromDelta(e){if(!this._computedIsNeeded)return 0;let t=this._computedSliderPosition+e;return Math.round(t/this._computedSliderRatio)}};var Sh=class n{constructor(e,t,i,o,r,s,a){this._forceIntegerValues=e;this._forceIntegerValues&&(t=t|0,i=i|0,o=o|0,r=r|0,s=s|0,a=a|0),this.rawScrollLeft=o,this.rawScrollTop=a,t<0&&(t=0),o+t>i&&(o=i-t),o<0&&(o=0),r<0&&(r=0),a+r>s&&(a=s-r),a<0&&(a=0),this.width=t,this.scrollWidth=i,this.scrollLeft=o,this.height=r,this.scrollHeight=s,this.scrollTop=a}_scrollStateBrand=void 0;rawScrollLeft;rawScrollTop;width;scrollWidth;scrollLeft;height;scrollHeight;scrollTop;equals(e){return this.rawScrollLeft===e.rawScrollLeft&&this.rawScrollTop===e.rawScrollTop&&this.width===e.width&&this.scrollWidth===e.scrollWidth&&this.scrollLeft===e.scrollLeft&&this.height===e.height&&this.scrollHeight===e.scrollHeight&&this.scrollTop===e.scrollTop}withScrollDimensions(e,t){return new n(this._forceIntegerValues,typeof e.width<"u"?e.width:this.width,typeof e.scrollWidth<"u"?e.scrollWidth:this.scrollWidth,t?this.rawScrollLeft:this.scrollLeft,typeof e.height<"u"?e.height:this.height,typeof e.scrollHeight<"u"?e.scrollHeight:this.scrollHeight,t?this.rawScrollTop:this.scrollTop)}withScrollPosition(e){return new n(this._forceIntegerValues,this.width,this.scrollWidth,typeof e.scrollLeft<"u"?e.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,typeof e.scrollTop<"u"?e.scrollTop:this.rawScrollTop)}createScrollEvent(e,t){let i=this.width!==e.width,o=this.scrollWidth!==e.scrollWidth,r=this.scrollLeft!==e.scrollLeft,s=this.height!==e.height,a=this.scrollHeight!==e.scrollHeight,l=this.scrollTop!==e.scrollTop;return{inSmoothScrolling:t,oldWidth:e.width,oldScrollWidth:e.scrollWidth,oldScrollLeft:e.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:e.height,oldScrollHeight:e.scrollHeight,oldScrollTop:e.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:i,scrollWidthChanged:o,scrollLeftChanged:r,heightChanged:s,scrollHeightChanged:a,scrollTopChanged:l}}},Ji=class extends V{_scrollableBrand=void 0;_smoothScrollDuration;_scheduleAtNextAnimationFrame;_state;_smoothScrolling;_onScroll=this._register(new k);onScroll=this._onScroll.event;constructor(e){super(),this._smoothScrollDuration=e.smoothScrollDuration,this._scheduleAtNextAnimationFrame=e.scheduleAtNextAnimationFrame,this._state=new Sh(e.forceIntegerValues,0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(e){this._smoothScrollDuration=e}validateScrollPosition(e){return this._state.withScrollPosition(e)}getScrollDimensions(){return this._state}setScrollDimensions(e,t){let i=this._state.withScrollDimensions(e,t);this._setState(i,!!this._smoothScrolling),this._smoothScrolling?.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(e){let t=this._state.withScrollPosition(e);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(t,!1)}setScrollPositionSmooth(e,t){if(this._smoothScrollDuration===0)return this.setScrollPositionNow(e);if(this._smoothScrolling){e={scrollLeft:typeof e.scrollLeft>"u"?this._smoothScrolling.to.scrollLeft:e.scrollLeft,scrollTop:typeof e.scrollTop>"u"?this._smoothScrolling.to.scrollTop:e.scrollTop};let i=this._state.withScrollPosition(e);if(this._smoothScrolling.to.scrollLeft===i.scrollLeft&&this._smoothScrolling.to.scrollTop===i.scrollTop)return;let o;t?o=new Ql(this._smoothScrolling.from,i,this._smoothScrolling.startTime,this._smoothScrolling.duration):o=this._smoothScrolling.combine(this._state,i,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=o}else{let i=this._state.withScrollPosition(e);this._smoothScrolling=Ql.start(this._state,i,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}hasPendingScrollAnimation(){return!!this._smoothScrolling}_performSmoothScrolling(){if(!this._smoothScrolling)return;let e=this._smoothScrolling.tick(),t=this._state.withScrollPosition(e);if(this._setState(t,!0),!!this._smoothScrolling){if(e.isDone){this._smoothScrolling.dispose(),this._smoothScrolling=null;return}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}}_setState(e,t){let i=this._state;i.equals(e)||(this._state=e,this._onScroll.fire(this._state.createScrollEvent(i,t)))}},Gl=class{scrollLeft;scrollTop;isDone;constructor(e,t,i){this.scrollLeft=e,this.scrollTop=t,this.isDone=i}};function xh(n,e){let t=e-n;return function(i){return n+t*hx(i)}}function cx(n,e,t){return function(i){return i<t?n(i/t):e((i-t)/(1-t))}}var Ql=class n{from;to;duration;startTime;animationFrameDisposable;scrollLeft;scrollTop;constructor(e,t,i,o){this.from=e,this.to=t,this.duration=o,this.startTime=i,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(e,t,i){if(Math.abs(e-t)>2.5*i){let r,s;return e<t?(r=e+.75*i,s=t-.75*i):(r=e-.75*i,s=t+.75*i),cx(xh(e,r),xh(s,t),.33)}return xh(e,t)}dispose(){this.animationFrameDisposable!==null&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(e){this.to=e.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(e){let t=(e-this.startTime)/this.duration;if(t<1){let i=this.scrollLeft(t),o=this.scrollTop(t);return new Gl(i,o,!1)}return new Gl(this.to.scrollLeft,this.to.scrollTop,!0)}combine(e,t,i){return n.start(e,t,i)}static start(e,t,i){i=i+10;let o=Date.now()-10;return new n(e,t,o,i)}};function ux(n){return Math.pow(n,3)}function hx(n){return 1-ux(1-n)}var jl=class extends V{_visibility;_visibleClassName;_invisibleClassName;_domNode;_rawShouldBeVisible;_shouldBeVisible;_isNeeded;_isVisible;_revealTimer;constructor(e,t,i){super(),this._visibility=e,this._visibleClassName=t,this._invisibleClassName=i,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new _n)}setVisibility(e){this._visibility!==e&&(this._visibility=e,this._updateShouldBeVisible())}setShouldBeVisible(e){this._rawShouldBeVisible=e,this._updateShouldBeVisible()}_applyVisibilitySetting(){return this._visibility===2?!1:this._visibility===3?!0:this._rawShouldBeVisible}_updateShouldBeVisible(){let e=this._applyVisibilitySetting();this._shouldBeVisible!==e&&(this._shouldBeVisible=e,this.ensureVisibility())}setIsNeeded(e){this._isNeeded!==e&&(this._isNeeded=e,this.ensureVisibility())}setDomNode(e){this._domNode=e,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){if(!this._isNeeded){this._hide(!1);return}this._shouldBeVisible?this._reveal():this._hide(!0)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{this._domNode?.setClassName(this._visibleClassName)},0))}_hide(e){this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,this._domNode?.setClassName(this._invisibleClassName+(e?" fade":"")))}};var px=140,Sr=class extends Rt{_host;_scrollable;_scrollByPage;_lazyRender;_scrollbarState;_visibilityController;_pointerMoveMonitor;domNode;slider;_shouldRender;constructor(e){super(),this._lazyRender=e.lazyRender,this._host=e.host,this._scrollable=e.scrollable,this._scrollByPage=e.scrollByPage,this._scrollbarState=e.scrollbarState,this._visibilityController=this._register(new jl(e.visibility,"visible scrollbar "+e.extraScrollbarClassName,"invisible scrollbar "+e.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._pointerMoveMonitor=this._register(new Ir),this._shouldRender=!0,this.domNode=Fo(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this._register($(this.domNode.domNode,Z.POINTER_DOWN,t=>this._domNodePointerDown(t)))}_createArrow(e){let t=this._register(new $l(e));this.domNode.domNode.appendChild(t.bgDomNode),this.domNode.domNode.appendChild(t.domNode)}_createSlider(e,t,i,o){this.slider=Fo(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(e),this.slider.setLeft(t),typeof i=="number"&&this.slider.setWidth(i),typeof o=="number"&&this.slider.setHeight(o),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this._register($(this.slider.domNode,Z.POINTER_DOWN,r=>{r.button===0&&(r.preventDefault(),this._sliderPointerDown(r))})),this.onclick(this.slider.domNode,r=>{r.leftButton&&r.stopPropagation()})}_onElementSize(e){return this._scrollbarState.setVisibleSize(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(e){return this._scrollbarState.setScrollSize(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(e){return this._scrollbarState.setScrollPosition(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){this._shouldRender&&(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodePointerDown(e){e.target===this.domNode.domNode&&this._onPointerDown(e)}delegatePointerDown(e){let t=this.domNode.domNode.getClientRects()[0].top,i=t+this._scrollbarState.getSliderPosition(),o=t+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),r=this._sliderPointerPosition(e);i<=r&&r<=o?e.button===0&&(e.preventDefault(),this._sliderPointerDown(e)):this._onPointerDown(e)}_onPointerDown(e){let t,i;if(e.target===this.domNode.domNode&&typeof e.offsetX=="number"&&typeof e.offsetY=="number")t=e.offsetX,i=e.offsetY;else{let r=Ll(this.domNode.domNode);t=e.pageX-r.left,i=e.pageY-r.top}let o=this._pointerDownRelativePosition(t,i);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(o):this._scrollbarState.getDesiredScrollPositionFromOffset(o)),e.button===0&&(e.preventDefault(),this._sliderPointerDown(e))}_sliderPointerDown(e){if(!e.target||!(e.target instanceof Element))return;let t=this._sliderPointerPosition(e),i=this._sliderOrthogonalPointerPosition(e),o=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._pointerMoveMonitor.startMonitoring(e.target,e.pointerId,e.buttons,r=>{let s=this._sliderOrthogonalPointerPosition(r),a=Math.abs(s-i);if(lt&&a>px){this._setDesiredScrollPositionNow(o.getScrollPosition());return}let d=this._sliderPointerPosition(r)-t;this._setDesiredScrollPositionNow(o.getDesiredScrollPositionFromDelta(d))},()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd()}),this._host.onDragStart()}_setDesiredScrollPositionNow(e){let t={};this.writeScrollPosition(t,e),this._scrollable.setScrollPositionNow(t)}updateScrollbarSize(e){this._updateScrollbarSize(e),this._scrollbarState.setScrollbarSize(e),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}};var Yl=class extends Sr{constructor(e,t,i){let o=e.getScrollDimensions(),r=e.getCurrentScrollPosition();if(super({lazyRender:t.lazyRender,host:i,scrollbarState:new xr(t.horizontalHasArrows?t.arrowSize:0,t.horizontal===2?0:t.horizontalScrollbarSize,t.vertical===2?0:t.verticalScrollbarSize,o.width,o.scrollWidth,r.scrollLeft),visibility:t.horizontal,extraScrollbarClassName:"horizontal",scrollable:e,scrollByPage:t.scrollByPage}),t.horizontalHasArrows){let s=(t.arrowSize-Xi)/2,a=(t.horizontalScrollbarSize-Xi)/2;this._createArrow({className:"scra",icon:Le.scrollbarButtonLeft,top:a,left:s,bottom:void 0,right:void 0,bgWidth:t.arrowSize,bgHeight:t.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new kn(null,1,0))}),this._createArrow({className:"scra",icon:Le.scrollbarButtonRight,top:a,left:void 0,bottom:void 0,right:s,bgWidth:t.arrowSize,bgHeight:t.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new kn(null,-1,0))})}this._createSlider(Math.floor((t.horizontalScrollbarSize-t.horizontalSliderSize)/2),0,void 0,t.horizontalSliderSize)}_updateSlider(e,t){this.slider.setWidth(e),this.slider.setLeft(t)}_renderDomNode(e,t){this.domNode.setWidth(e),this.domNode.setHeight(t),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(e){return this._shouldRender=this._onElementScrollSize(e.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(e.width)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(e,t){return e}_sliderPointerPosition(e){return e.pageX}_sliderOrthogonalPointerPosition(e){return e.pageY}_updateScrollbarSize(e){this.slider.setHeight(e)}writeScrollPosition(e,t){e.scrollLeft=t}updateOptions(e){this.updateScrollbarSize(e.horizontal===2?0:e.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(e.vertical===2?0:e.verticalScrollbarSize),this._visibilityController.setVisibility(e.horizontal),this._scrollByPage=e.scrollByPage}};var Xl=class extends Sr{constructor(e,t,i){let o=e.getScrollDimensions(),r=e.getCurrentScrollPosition();if(super({lazyRender:t.lazyRender,host:i,scrollbarState:new xr(t.verticalHasArrows?t.arrowSize:0,t.vertical===2?0:t.verticalScrollbarSize,0,o.height,o.scrollHeight,r.scrollTop),visibility:t.vertical,extraScrollbarClassName:"vertical",scrollable:e,scrollByPage:t.scrollByPage}),t.verticalHasArrows){let s=(t.arrowSize-Xi)/2,a=(t.verticalScrollbarSize-Xi)/2;this._createArrow({className:"scra",icon:Le.scrollbarButtonUp,top:s,left:a,bottom:void 0,right:void 0,bgWidth:t.verticalScrollbarSize,bgHeight:t.arrowSize,onActivate:()=>this._host.onMouseWheel(new kn(null,0,1))}),this._createArrow({className:"scra",icon:Le.scrollbarButtonDown,top:void 0,left:a,bottom:s,right:void 0,bgWidth:t.verticalScrollbarSize,bgHeight:t.arrowSize,onActivate:()=>this._host.onMouseWheel(new kn(null,0,-1))})}this._createSlider(0,Math.floor((t.verticalScrollbarSize-t.verticalSliderSize)/2),t.verticalSliderSize,void 0)}_updateSlider(e,t){this.slider.setHeight(e),this.slider.setTop(t)}_renderDomNode(e,t){this.domNode.setWidth(t),this.domNode.setHeight(e),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(e){return this._shouldRender=this._onElementScrollSize(e.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(e.height)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(e,t){return t}_sliderPointerPosition(e){return e.pageY}_sliderOrthogonalPointerPosition(e){return e.pageX}_updateScrollbarSize(e){this.slider.setWidth(e)}writeScrollPosition(e,t){e.scrollTop=t}updateOptions(e){this.updateScrollbarSize(e.vertical===2?0:e.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(e.vertical),this._scrollByPage=e.scrollByPage}};var mx=500,ub=50,hb=!0,wh=class{timestamp;deltaX;deltaY;score;constructor(e,t,i){this.timestamp=e,this.deltaX=t,this.deltaY=i,this.score=0}},Eh=class n{static INSTANCE=new n;_capacity;_memory;_front;_rear;constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(this._front===-1&&this._rear===-1)return!1;let e=1,t=0,i=1,o=this._rear;do{let r=o===this._front?e:Math.pow(2,-i);if(e-=r,t+=this._memory[o].score*r,o===this._front)break;o=(this._capacity+o-1)%this._capacity,i++}while(!0);return t<=.5}acceptStandardWheelEvent(e){if(Ms){let t=de(e.browserEvent),i=Xf(t);this.accept(Date.now(),e.deltaX*i,e.deltaY*i)}else this.accept(Date.now(),e.deltaX,e.deltaY)}accept(e,t,i){let o=null,r=new wh(e,t,i);this._front===-1&&this._rear===-1?(this._memory[0]=r,this._front=0,this._rear=0):(o=this._memory[this._rear],this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=r),r.score=this._computeScore(r,o)}_computeScore(e,t){if(Math.abs(e.deltaX)>0&&Math.abs(e.deltaY)>0)return 1;let i=.5;if((!this._isAlmostInt(e.deltaX)||!this._isAlmostInt(e.deltaY))&&(i+=.25),t){let o=Math.abs(e.deltaX),r=Math.abs(e.deltaY),s=Math.abs(t.deltaX),a=Math.abs(t.deltaY),l=Math.max(Math.min(o,s),1),d=Math.max(Math.min(r,a),1),u=Math.max(o,s),h=Math.max(r,a);u%l===0&&h%d===0&&(i-=.5)}return Math.min(Math.max(i,0),1)}_isAlmostInt(e){return Math.abs(Math.round(e)-e)<.01}},Jl=class extends Rt{_options;_scrollable;_verticalScrollbar;_horizontalScrollbar;_domNode;_leftShadowDomNode;_topShadowDomNode;_topLeftShadowDomNode;_listenOnDomNode;_mouseWheelToDispose;_isDragging;_mouseIsOver;_hideTimeout;_shouldRender;_revealOnScroll;_onScroll=this._register(new k);onScroll=this._onScroll.event;_onWillScroll=this._register(new k);onWillScroll=this._onWillScroll.event;get options(){return this._options}constructor(e,t,i){super(),e.style.overflow="hidden",this._options=fx(t),this._scrollable=i,this._register(this._scrollable.onScroll(r=>{this._onWillScroll.fire(r),this._onDidScroll(r),this._onScroll.fire(r)}));let o={onMouseWheel:r=>this._onMouseWheel(r),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new Xl(this._scrollable,this._options,o)),this._horizontalScrollbar=this._register(new Yl(this._scrollable,this._options,o)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(e),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=Fo(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=Fo(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=Fo(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,r=>this._onMouseOver(r)),this.onmouseleave(this._listenOnDomNode,r=>this._onMouseLeave(r)),this._hideTimeout=this._register(new _n),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}dispose(){this._mouseWheelToDispose=$e(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarPointerDown(e){this._verticalScrollbar.delegatePointerDown(e)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(e){this._scrollable.setScrollDimensions(e,!1)}updateClassName(e){this._options.className=e,Se&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(e){typeof e.handleMouseWheel<"u"&&(this._options.handleMouseWheel=e.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),typeof e.mouseWheelScrollSensitivity<"u"&&(this._options.mouseWheelScrollSensitivity=e.mouseWheelScrollSensitivity),typeof e.fastScrollSensitivity<"u"&&(this._options.fastScrollSensitivity=e.fastScrollSensitivity),typeof e.scrollPredominantAxis<"u"&&(this._options.scrollPredominantAxis=e.scrollPredominantAxis),typeof e.horizontal<"u"&&(this._options.horizontal=e.horizontal),typeof e.vertical<"u"&&(this._options.vertical=e.vertical),typeof e.horizontalScrollbarSize<"u"&&(this._options.horizontalScrollbarSize=e.horizontalScrollbarSize),typeof e.verticalScrollbarSize<"u"&&(this._options.verticalScrollbarSize=e.verticalScrollbarSize),typeof e.scrollByPage<"u"&&(this._options.scrollByPage=e.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}setRevealOnScroll(e){this._revealOnScroll=e}delegateScrollFromMouseWheelEvent(e){this._onMouseWheel(new kn(e))}_setListeningToMouseWheel(e){if(this._mouseWheelToDispose.length>0!==e&&(this._mouseWheelToDispose=$e(this._mouseWheelToDispose),e)){let i=o=>{this._onMouseWheel(new kn(o))};this._mouseWheelToDispose.push($(this._listenOnDomNode,Z.MOUSE_WHEEL,i,{passive:!1}))}}_onMouseWheel(e){if(e.browserEvent?.defaultPrevented)return;let t=Eh.INSTANCE;hb&&t.acceptStandardWheelEvent(e);let i=!1;if(e.deltaY||e.deltaX){let r=e.deltaY*this._options.mouseWheelScrollSensitivity,s=e.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(this._options.scrollYToX&&s+r===0?s=r=0:Math.abs(r)>=Math.abs(s)?s=0:r=0),this._options.flipAxes&&([r,s]=[s,r]);let a=!Se&&e.browserEvent&&e.browserEvent.shiftKey;(this._options.scrollYToX||a)&&!s&&(s=r,r=0),e.browserEvent&&e.browserEvent.altKey&&(s=s*this._options.fastScrollSensitivity,r=r*this._options.fastScrollSensitivity);let l=this._scrollable.getFutureScrollPosition(),d={};if(r){let u=ub*r,h=l.scrollTop-(u<0?Math.floor(u):Math.ceil(u));this._verticalScrollbar.writeScrollPosition(d,h)}if(s){let u=ub*s,h=l.scrollLeft-(u<0?Math.floor(u):Math.ceil(u));this._horizontalScrollbar.writeScrollPosition(d,h)}d=this._scrollable.validateScrollPosition(d),(l.scrollLeft!==d.scrollLeft||l.scrollTop!==d.scrollTop)&&(hb&&this._options.mouseWheelSmoothScroll&&t.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(d):this._scrollable.setScrollPositionNow(d),i=!0)}let o=i;!o&&this._options.alwaysConsumeMouseWheel&&(o=!0),!o&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(o=!0),o&&(e.preventDefault(),e.stopPropagation())}_onDidScroll(e){this._shouldRender=this._horizontalScrollbar.onDidScroll(e)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(e)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){let e=this._scrollable.getCurrentScrollPosition(),t=e.scrollTop>0,i=e.scrollLeft>0,o=i?" left":"",r=t?" top":"",s=i||t?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${o}`),this._topShadowDomNode.setClassName(`shadow${r}`),this._topLeftShadowDomNode.setClassName(`shadow${s}${r}${o}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseLeave(e){this._mouseIsOver=!1,this._hide()}_onMouseOver(e){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){!this._mouseIsOver&&!this._isDragging&&(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){!this._mouseIsOver&&!this._isDragging&&this._hideTimeout.cancelAndSet(()=>this._hide(),mx)}},Zl=class extends Jl{constructor(e,t){t=t||{},t.mouseWheelSmoothScroll=!1;let i=new Ji({forceIntegerValues:!0,smoothScrollDuration:0,scheduleAtNextAnimationFrame:o=>cn(de(e),o)});super(e,t,i),this._register(i)}setScrollPosition(e){this._scrollable.setScrollPositionNow(e)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}},wr=class extends Jl{constructor(e,t,i){super(e,t,i)}setScrollPosition(e){e.reuseAnimation?this._scrollable.setScrollPositionSmooth(e,e.reuseAnimation):this._scrollable.setScrollPositionNow(e)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}};function fx(n){let e={lazyRender:typeof n.lazyRender<"u"?n.lazyRender:!1,className:typeof n.className<"u"?n.className:"",useShadows:typeof n.useShadows<"u"?n.useShadows:!0,handleMouseWheel:typeof n.handleMouseWheel<"u"?n.handleMouseWheel:!0,flipAxes:typeof n.flipAxes<"u"?n.flipAxes:!1,consumeMouseWheelIfScrollbarIsNeeded:typeof n.consumeMouseWheelIfScrollbarIsNeeded<"u"?n.consumeMouseWheelIfScrollbarIsNeeded:!1,alwaysConsumeMouseWheel:typeof n.alwaysConsumeMouseWheel<"u"?n.alwaysConsumeMouseWheel:!1,scrollYToX:typeof n.scrollYToX<"u"?n.scrollYToX:!1,mouseWheelScrollSensitivity:typeof n.mouseWheelScrollSensitivity<"u"?n.mouseWheelScrollSensitivity:1,fastScrollSensitivity:typeof n.fastScrollSensitivity<"u"?n.fastScrollSensitivity:5,scrollPredominantAxis:typeof n.scrollPredominantAxis<"u"?n.scrollPredominantAxis:!0,mouseWheelSmoothScroll:typeof n.mouseWheelSmoothScroll<"u"?n.mouseWheelSmoothScroll:!0,arrowSize:typeof n.arrowSize<"u"?n.arrowSize:11,listenOnDomNode:typeof n.listenOnDomNode<"u"?n.listenOnDomNode:null,horizontal:typeof n.horizontal<"u"?n.horizontal:1,horizontalScrollbarSize:typeof n.horizontalScrollbarSize<"u"?n.horizontalScrollbarSize:10,horizontalSliderSize:typeof n.horizontalSliderSize<"u"?n.horizontalSliderSize:0,horizontalHasArrows:typeof n.horizontalHasArrows<"u"?n.horizontalHasArrows:!1,vertical:typeof n.vertical<"u"?n.vertical:1,verticalScrollbarSize:typeof n.verticalScrollbarSize<"u"?n.verticalScrollbarSize:10,verticalHasArrows:typeof n.verticalHasArrows<"u"?n.verticalHasArrows:!1,verticalSliderSize:typeof n.verticalSliderSize<"u"?n.verticalSliderSize:0,scrollByPage:typeof n.scrollByPage<"u"?n.scrollByPage:!1};return e.horizontalSliderSize=typeof n.horizontalSliderSize<"u"?n.horizontalSliderSize:e.horizontalScrollbarSize,e.verticalSliderSize=typeof n.verticalSliderSize<"u"?n.verticalSliderSize:e.verticalScrollbarSize,Se&&(e.className+=" mac"),e}var gx=()=>({get delay(){return-1},dispose:()=>{},showHover:()=>{}}),kh=gx,bx=new mt(()=>kh("mouse",!1)),vx=new mt(()=>kh("element",!1));function Ze(n){return n==="element"?vx.value:bx.value}function Ro(){return kh("element",!0)}var Zi=class extends V{_onDidChange=this._register(new k);onDidChange=this._onDidChange.event;_id;_label;_tooltip;_cssClass;_enabled=!0;_checked;_actionCallback;constructor(e,t="",i="",o=!0,r){super(),this._id=e,this._label=t,this._cssClass=i,this._enabled=o,this._actionCallback=r}get id(){return this._id}get label(){return this._label}set label(e){this._setLabel(e)}_setLabel(e){this._label!==e&&(this._label=e,this._onDidChange.fire({label:e}))}get tooltip(){return this._tooltip||""}set tooltip(e){this._setTooltip(e)}_setTooltip(e){this._tooltip!==e&&(this._tooltip=e,this._onDidChange.fire({tooltip:e}))}get class(){return this._cssClass}set class(e){this._setClass(e)}_setClass(e){this._cssClass!==e&&(this._cssClass=e,this._onDidChange.fire({class:e}))}get enabled(){return this._enabled}set enabled(e){this._setEnabled(e)}_setEnabled(e){this._enabled!==e&&(this._enabled=e,this._onDidChange.fire({enabled:e}))}get checked(){return this._checked}set checked(e){this._setChecked(e)}_setChecked(e){this._checked!==e&&(this._checked=e,this._onDidChange.fire({checked:e}))}async run(e,t){this._actionCallback&&await this._actionCallback(e)}},Po=class extends V{_onWillRun=this._register(new k);onWillRun=this._onWillRun.event;_onDidRun=this._register(new k);onDidRun=this._onDidRun.event;async run(e,t){if(!e.enabled)return;this._onWillRun.fire({action:e});let i;try{await this.runAction(e,t)}catch(o){i=o}this._onDidRun.fire({action:e,error:i})}async runAction(e,t){await e.run(t)}},wi=class n{static join(...e){let t=[];for(let i of e)i.length&&(t.length?t=[...t,new n,...i]:t=i);return t}static ID="vs.actions.separator";id=n.ID;label="";tooltip="";class="separator";enabled=!1;checked=!1;async run(){}};var tn=class extends V{options;_hoverDelegate;_actionRunner;_actionRunnerDisposables=this._register(new q);_context;_orientation;_triggerKeys;viewItems;viewItemDisposables=this._register(new Eo);previouslyFocusedItem;focusedItem;focusTracker;triggerKeyDown=!1;focusable=!0;domNode;actionsList;_onDidBlur=this._register(new k);onDidBlur=this._onDidBlur.event;_onDidCancel=this._register(new k({onWillAddFirstListener:()=>this.cancelHasListener=!0}));onDidCancel=this._onDidCancel.event;cancelHasListener=!1;_onDidRun=this._register(new k);onDidRun=this._onDidRun.event;_onWillRun=this._register(new k);onWillRun=this._onWillRun.event;constructor(e,t={}){super(),this.options=t,this._context=t.context??null,this._orientation=this.options.orientation??0,this._triggerKeys={keyDown:this.options.triggerKeys?.keyDown??!1,keys:this.options.triggerKeys?.keys??[3,10]},this._hoverDelegate=t.hoverDelegate??this._register(Ro()),this.options.actionRunner?this._actionRunner=this.options.actionRunner:(this._actionRunner=new Po,this._actionRunnerDisposables.add(this._actionRunner)),this._actionRunnerDisposables.add(this._actionRunner.onDidRun(r=>this._onDidRun.fire(r))),this._actionRunnerDisposables.add(this._actionRunner.onWillRun(r=>this._onWillRun.fire(r))),this.viewItems=[],this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar";let i,o;switch(this._orientation){case 0:i=[15],o=[17];break;case 1:i=[16],o=[18],this.domNode.className+=" vertical";break}this._register($(this.domNode,Z.KEY_DOWN,r=>{let s=new Ne(r),a=!0,l=typeof this.focusedItem=="number"?this.viewItems[this.focusedItem]:void 0;i&&(s.equals(i[0])||s.equals(i[1]))?a=this.focusPrevious():o&&(s.equals(o[0])||s.equals(o[1]))?a=this.focusNext():s.equals(9)&&this.cancelHasListener?this._onDidCancel.fire():s.equals(14)?a=this.focusFirst():s.equals(13)?a=this.focusLast():s.equals(2)&&l instanceof yn&&l.trapsArrowNavigation?a=this.focusNext(void 0,!0):this.isTriggerKeyEvent(s)?this._triggerKeys.keyDown?this.doTrigger(s):this.triggerKeyDown=!0:a=!1,a&&(s.preventDefault(),s.stopPropagation())})),this._register($(this.domNode,Z.KEY_UP,r=>{let s=new Ne(r);this.isTriggerKeyEvent(s)?(!this._triggerKeys.keyDown&&this.triggerKeyDown&&(this.triggerKeyDown=!1,this.doTrigger(s)),s.preventDefault(),s.stopPropagation()):(s.equals(2)||s.equals(1026)||s.equals(16)||s.equals(18)||s.equals(15)||s.equals(17))&&this.updateFocusedItem()})),this.focusTracker=this._register(Mo(this.domNode)),this._register(this.focusTracker.onDidBlur(()=>{(Si()===this.domNode||!ct(Si(),this.domNode))&&(this._onDidBlur.fire(),this.previouslyFocusedItem=this.focusedItem,this.focusedItem=void 0,this.triggerKeyDown=!1)})),this._register(this.focusTracker.onDidFocus(()=>this.updateFocusedItem())),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.options.highlightToggledItems&&this.actionsList.classList.add("highlight-toggled"),this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"),this.options.ariaLabel&&this.actionsList.setAttribute("aria-label",this.options.ariaLabel),this.domNode.appendChild(this.actionsList),e.appendChild(this.domNode)}refreshRole(){this.length()>=1?this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"):this.actionsList.setAttribute("role","presentation")}setAriaLabel(e){e?this.actionsList.setAttribute("aria-label",e):this.actionsList.removeAttribute("aria-label")}setFocusable(e){if(this.focusable=e,this.focusable){let t=this.viewItems.find(i=>i instanceof yn&&i.isEnabled());t instanceof yn&&t.setFocusable(!0)}else this.viewItems.forEach(t=>{t instanceof yn&&t.setFocusable(!1)})}isTriggerKeyEvent(e){let t=!1;return this._triggerKeys.keys.forEach(i=>{t=t||e.equals(i)}),t}updateFocusedItem(){for(let e=0;e<this.actionsList.children.length;e++){let t=this.actionsList.children[e];if(ct(Si(),t)){this.focusedItem=e,this.viewItems[this.focusedItem]?.showHover?.();break}}}get context(){return this._context}set context(e){this._context=e,this.viewItems.forEach(t=>t.setActionContext(e))}get actionRunner(){return this._actionRunner}set actionRunner(e){this._actionRunner=e,this._actionRunnerDisposables.clear(),this._actionRunnerDisposables.add(this._actionRunner.onDidRun(t=>this._onDidRun.fire(t))),this._actionRunnerDisposables.add(this._actionRunner.onWillRun(t=>this._onWillRun.fire(t))),this.viewItems.forEach(t=>t.actionRunner=e)}getContainer(){return this.domNode}hasAction(e){return this.viewItems.findIndex(t=>t.action.id===e.id)!==-1}getAction(e){if(typeof e=="number")return this.viewItems[e]?.action;if(Qe(e)){for(;e.parentElement!==this.actionsList;){if(!e.parentElement)return;e=e.parentElement}for(let t=0;t<this.actionsList.childNodes.length;t++)if(this.actionsList.childNodes[t]===e)return this.viewItems[t].action}}push(e,t={}){let i=Array.isArray(e)?e:[e],o=yi(t.index)?t.index:null;i.forEach(r=>{let s=document.createElement("li");s.className="action-item",s.setAttribute("role","presentation");let a,l={hoverDelegate:this._hoverDelegate,...t,isTabList:this.options.ariaRole==="tablist"};this.options.actionViewItemProvider&&(a=this.options.actionViewItemProvider(r,l)),a||(a=new Ys(this.context,r,l)),this.options.allowContextMenu||this.viewItemDisposables.set(a,$(s,Z.CONTEXT_MENU,d=>{Re.stop(d,!0)})),a.actionRunner=this._actionRunner,a.setActionContext(this.context),a.render(s),this.focusable&&a instanceof yn&&this.viewItems.length===0&&a.setFocusable(!0),o===null||o<0||o>=this.actionsList.children.length?(this.actionsList.appendChild(s),this.viewItems.push(a)):(this.actionsList.insertBefore(s,this.actionsList.children[o]),this.viewItems.splice(o,0,a),o++)}),typeof this.focusedItem=="number"&&this.focus(this.focusedItem),this.refreshRole()}getWidth(e){if(e>=0&&e<this.actionsList.children.length){let t=this.actionsList.children.item(e);if(t)return t.clientWidth}return 0}getHeight(e){if(e>=0&&e<this.actionsList.children.length){let t=this.actionsList.children.item(e);if(t)return t.clientHeight}return 0}pull(e){e>=0&&e<this.viewItems.length&&(this.actionsList.childNodes[e].remove(),this.viewItemDisposables.deleteAndDispose(this.viewItems[e]),$e(this.viewItems.splice(e,1)),this.refreshRole())}clear(){this.isEmpty()||(this.viewItems=$e(this.viewItems),this.viewItemDisposables.clearAndDisposeAll(),wt(this.actionsList),this.refreshRole())}length(){return this.viewItems.length}isEmpty(){return this.viewItems.length===0}focus(e){let t=!1,i;if(e===void 0?t=!0:typeof e=="number"?i=e:typeof e=="boolean"&&(t=e),t&&typeof this.focusedItem>"u"){let o=this.viewItems.findIndex(r=>r.isEnabled());this.focusedItem=o===-1?void 0:o,this.updateFocus(void 0,void 0,!0)}else i!==void 0&&(this.focusedItem=i),this.updateFocus(void 0,void 0,!0)}focusFirst(){return this.focusedItem=this.length()-1,this.focusNext(!0)}focusLast(){return this.focusedItem=0,this.focusPrevious(!0)}focusNext(e,t){if(typeof this.focusedItem>"u")this.focusedItem=this.viewItems.length-1;else if(this.viewItems.length<=1)return!1;let i=this.focusedItem,o;do{if(!e&&this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=i,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,o=this.viewItems[this.focusedItem]}while(this.focusedItem!==i&&(this.options.focusOnlyEnabledItems&&!o.isEnabled()||o.action.id===wi.ID));return this.updateFocus(void 0,void 0,t),!0}focusPrevious(e){if(typeof this.focusedItem>"u")this.focusedItem=0;else if(this.viewItems.length<=1)return!1;let t=this.focusedItem,i;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(!e&&this.options.preventLoopNavigation)return this.focusedItem=t,!1;this.focusedItem=this.viewItems.length-1}i=this.viewItems[this.focusedItem]}while(this.focusedItem!==t&&(this.options.focusOnlyEnabledItems&&!i.isEnabled()||i.action.id===wi.ID));return this.updateFocus(!0),!0}updateFocus(e,t,i=!1){typeof this.focusedItem>"u"&&this.actionsList.focus({preventScroll:t}),this.previouslyFocusedItem!==void 0&&this.previouslyFocusedItem!==this.focusedItem&&this.viewItems[this.previouslyFocusedItem]?.blur();let o=this.focusedItem!==void 0?this.viewItems[this.focusedItem]:void 0;if(o){let r=!0;ml(o.focus)||(r=!1),this.options.focusOnlyEnabledItems&&ml(o.isEnabled)&&!o.isEnabled()&&(r=!1),o.action.id===wi.ID&&(r=!1),r?(i||this.previouslyFocusedItem!==this.focusedItem)&&(o.focus(e),this.previouslyFocusedItem=this.focusedItem):(this.actionsList.focus({preventScroll:t}),this.previouslyFocusedItem=void 0),r&&o.showHover?.()}}doTrigger(e){if(typeof this.focusedItem>"u")return;let t=this.viewItems[this.focusedItem];if(t instanceof yn){let i=t._context===null||t._context===void 0?e:t._context;this.run(t._action,i)}}async run(e,t){await this._actionRunner.run(e,t)}dispose(){this._context=void 0,this.viewItems=$e(this.viewItems),this.getContainer().remove(),super.dispose()}};var gt;(o=>{function n(r,s){if(r.start>=s.end||s.start>=r.end)return{start:0,end:0};let a=Math.max(r.start,s.start),l=Math.min(r.end,s.end);return l-a<=0?{start:0,end:0}:{start:a,end:l}}o.intersect=n;function e(r){return r.end-r.start<=0}o.isEmpty=e;function t(r,s){return!e(n(r,s))}o.intersects=t;function i(r,s){let a=[],l={start:r.start,end:Math.min(s.start,r.end)},d={start:Math.max(s.end,r.start),end:r.end};return e(l)||a.push(l),e(d)||a.push(d),a}o.relativeComplement=i})(gt||={});function mb(n,e={}){let t=ed(e);return t.textContent=n,t}function fb(n,e={}){let t=ed(e);return gb(t,yx(n,!!e.renderCodeSegments),e.actionHandler,e.renderCodeSegments),t}function ed(n){let e=n.inline?"span":"div",t=document.createElement(e);return n.className&&(t.className=n.className),t}var Dh=class{source;index;constructor(e){this.source=e,this.index=0}eos(){return this.index>=this.source.length}next(){let e=this.peek();return this.advance(),e}peek(){return this.source[this.index]}advance(){this.index++}};function gb(n,e,t,i){let o;if(e.type===2)o=document.createTextNode(e.content||"");else if(e.type===3)o=document.createElement("b");else if(e.type===4)o=document.createElement("i");else if(e.type===7&&i)o=document.createElement("code");else if(e.type===5&&t){let r=document.createElement("a");t.disposables.add(ft(r,"click",s=>{t.callback(String(e.index),s)})),o=r}else e.type===8?o=document.createElement("br"):e.type===1&&(o=n);o&&n!==o&&n.appendChild(o),o&&Array.isArray(e.children)&&e.children.forEach(r=>{gb(o,r,t,i)})}function yx(n,e){let t={type:1,children:[]},i=0,o=t,r=[],s=new Dh(n);for(;!s.eos();){let a=s.next(),l=a==="\\"&&_h(s.peek(),e)!==0;if(l&&(a=s.next()),!l&&Tx(a,e)&&a===s.peek()){s.advance(),o.type===2&&(o=r.pop());let d=_h(a,e);if(o.type===d||o.type===5&&d===6)o=r.pop();else{let u={type:d,children:[]};d===5&&(u.index=i,i++),o.children.push(u),r.push(o),o=u}}else if(a===`
`)o.type===2&&(o=r.pop()),o.children.push({type:8});else if(o.type!==2){let d={type:2,content:a};o.children.push(d),r.push(o),o=d}else o.content+=a}return o.type===2&&(o=r.pop()),r.length,t}function Tx(n,e){return _h(n,e)!==0}function _h(n,e){switch(n){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return e?7:0;default:return 0}}var se=class{emitter;get event(){return this.emitter.event}constructor(e,t,i){let o=r=>this.emitter.fire(r);this.emitter=new k({onWillAddFirstListener:()=>e.addEventListener(t,o,i),onDidRemoveLastListener:()=>e.removeEventListener(t,o,i)})}dispose(){this.emitter.dispose()}};var bb=2e4,Tb,Ch,vb,Lh,yb;function eo(n){Tb&&(Ch.textContent!==n?(wt(vb),td(Ch,n)):(wt(Ch),td(vb,n)))}function Ah(n){Tb&&(Lh.textContent!==n?(wt(yb),td(Lh,n)):(wt(Lh),td(yb,n)))}function td(n,e){wt(n),e.length>bb&&(e=e.substr(0,bb)),n.textContent=e,n.style.visibility="hidden",n.style.visibility="visible"}var nd=class{constructor(e){this.spliceables=e}splice(e,t,i){this.spliceables.forEach(o=>o.splice(e,t,i))}};function no(n,e){let t=Math.pow(10,e);return Math.round(n*t)/t}var be=class{_rgbaBrand=void 0;r;g;b;a;constructor(e,t,i,o=1){this.r=Math.min(255,Math.max(0,e))|0,this.g=Math.min(255,Math.max(0,t))|0,this.b=Math.min(255,Math.max(0,i))|0,this.a=no(Math.max(Math.min(1,o),0),3)}static equals(e,t){return e.r===t.r&&e.g===t.g&&e.b===t.b&&e.a===t.a}},to=class n{_hslaBrand=void 0;h;s;l;a;constructor(e,t,i,o){this.h=Math.max(Math.min(360,e),0)|0,this.s=no(Math.max(Math.min(1,t),0),3),this.l=no(Math.max(Math.min(1,i),0),3),this.a=no(Math.max(Math.min(1,o),0),3)}static equals(e,t){return e.h===t.h&&e.s===t.s&&e.l===t.l&&e.a===t.a}static fromRGBA(e){let t=e.r/255,i=e.g/255,o=e.b/255,r=e.a,s=Math.max(t,i,o),a=Math.min(t,i,o),l=0,d=0,u=(a+s)/2,h=s-a;if(h>0){switch(d=Math.min(u<=.5?h/(2*u):h/(2-2*u),1),s){case t:l=(i-o)/h+(i<o?6:0);break;case i:l=(o-t)/h+2;break;case o:l=(t-i)/h+4;break}l*=60,l=Math.round(l)}return new n(l,d,u,r)}static _hue2rgb(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+(t-e)*6*i:i<1/2?t:i<2/3?e+(t-e)*(2/3-i)*6:e}static toRGBA(e){let t=e.h/360,{s:i,l:o,a:r}=e,s,a,l;if(i===0)s=a=l=o;else{let d=o<.5?o*(1+i):o+i-o*i,u=2*o-d;s=n._hue2rgb(u,d,t+1/3),a=n._hue2rgb(u,d,t),l=n._hue2rgb(u,d,t-1/3)}return new be(Math.round(s*255),Math.round(a*255),Math.round(l*255),r)}},Er=class n{_hsvaBrand=void 0;h;s;v;a;constructor(e,t,i,o){this.h=Math.max(Math.min(360,e),0)|0,this.s=no(Math.max(Math.min(1,t),0),3),this.v=no(Math.max(Math.min(1,i),0),3),this.a=no(Math.max(Math.min(1,o),0),3)}static equals(e,t){return e.h===t.h&&e.s===t.s&&e.v===t.v&&e.a===t.a}static fromRGBA(e){let t=e.r/255,i=e.g/255,o=e.b/255,r=Math.max(t,i,o),s=Math.min(t,i,o),a=r-s,l=r===0?0:a/r,d;return a===0?d=0:r===t?d=((i-o)/a%6+6)%6:r===i?d=(o-t)/a+2:d=(t-i)/a+4,new n(Math.round(d*60),l,r,e.a)}static toRGBA(e){let{h:t,s:i,v:o,a:r}=e,s=o*i,a=s*(1-Math.abs(t/60%2-1)),l=o-s,[d,u,h]=[0,0,0];return t<60?(d=s,u=a):t<120?(d=a,u=s):t<180?(u=s,h=a):t<240?(u=a,h=s):t<300?(d=a,h=s):t<=360&&(d=s,h=a),d=Math.round((d+l)*255),u=Math.round((u+l)*255),h=Math.round((h+l)*255),new be(d,u,h,r)}},N=class n{static fromHex(e){return n.Format.CSS.parseHex(e)||n.red}static equals(e,t){return!e&&!t?!0:!e||!t?!1:e.equals(t)}rgba;_hsla;get hsla(){return this._hsla?this._hsla:to.fromRGBA(this.rgba)}_hsva;get hsva(){return this._hsva?this._hsva:Er.fromRGBA(this.rgba)}constructor(e){if(e)if(e instanceof be)this.rgba=e;else if(e instanceof to)this._hsla=e,this.rgba=to.toRGBA(e);else if(e instanceof Er)this._hsva=e,this.rgba=Er.toRGBA(e);else throw new Error("Invalid color ctor argument");else throw new Error("Color needs a value")}equals(e){return!!e&&be.equals(this.rgba,e.rgba)&&to.equals(this.hsla,e.hsla)&&Er.equals(this.hsva,e.hsva)}getRelativeLuminance(){let e=n._relativeLuminanceForComponent(this.rgba.r),t=n._relativeLuminanceForComponent(this.rgba.g),i=n._relativeLuminanceForComponent(this.rgba.b),o=.2126*e+.7152*t+.0722*i;return no(o,4)}static _relativeLuminanceForComponent(e){let t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}getContrastRatio(e){let t=this.getRelativeLuminance(),i=e.getRelativeLuminance();return t>i?(t+.05)/(i+.05):(i+.05)/(t+.05)}isDarker(){return(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3<128}isLighter(){return(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3>=128}isLighterThan(e){let t=this.getRelativeLuminance(),i=e.getRelativeLuminance();return t>i}isDarkerThan(e){let t=this.getRelativeLuminance(),i=e.getRelativeLuminance();return t<i}lighten(e){return new n(new to(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*e,this.hsla.a))}darken(e){return new n(new to(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*e,this.hsla.a))}transparent(e){let{r:t,g:i,b:o,a:r}=this.rgba;return new n(new be(t,i,o,r*e))}isTransparent(){return this.rgba.a===0}isOpaque(){return this.rgba.a===1}opposite(){return new n(new be(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}blend(e){let t=e.rgba,i=this.rgba.a,o=t.a,r=i+o*(1-i);if(r<1e-6)return n.transparent;let s=this.rgba.r*i/r+t.r*o*(1-i)/r,a=this.rgba.g*i/r+t.g*o*(1-i)/r,l=this.rgba.b*i/r+t.b*o*(1-i)/r;return new n(new be(s,a,l,r))}makeOpaque(e){if(this.isOpaque()||e.rgba.a!==1)return this;let{r:t,g:i,b:o,a:r}=this.rgba;return new n(new be(e.rgba.r-r*(e.rgba.r-t),e.rgba.g-r*(e.rgba.g-i),e.rgba.b-r*(e.rgba.b-o),1))}flatten(...e){let t=e.reduceRight((i,o)=>n._flatten(o,i));return n._flatten(this,t)}static _flatten(e,t){let i=1-e.rgba.a;return new n(new be(i*t.rgba.r+e.rgba.a*e.rgba.r,i*t.rgba.g+e.rgba.a*e.rgba.g,i*t.rgba.b+e.rgba.a*e.rgba.b))}_toString;toString(){return this._toString||(this._toString=n.Format.CSS.format(this)),this._toString}static getLighterColor(e,t,i){if(e.isLighterThan(t))return e;i=i||.5;let o=e.getRelativeLuminance(),r=t.getRelativeLuminance();return i=i*(r-o)/r,e.lighten(i)}static getDarkerColor(e,t,i){if(e.isDarkerThan(t))return e;i=i||.5;let o=e.getRelativeLuminance(),r=t.getRelativeLuminance();return i=i*(o-r)/o,e.darken(i)}static white=new n(new be(255,255,255,1));static black=new n(new be(0,0,0,1));static red=new n(new be(255,0,0,1));static blue=new n(new be(0,0,255,1));static green=new n(new be(0,255,0,1));static cyan=new n(new be(0,255,255,1));static lightgrey=new n(new be(211,211,211,1));static transparent=new n(new be(0,0,0,0))};(e=>{let n;(i=>{let t;(w=>{function o(f){return f.rgba.a===1?`rgb(${f.rgba.r}, ${f.rgba.g}, ${f.rgba.b})`:e.Format.CSS.formatRGBA(f)}w.formatRGB=o;function r(f){return`rgba(${f.rgba.r}, ${f.rgba.g}, ${f.rgba.b}, ${+f.rgba.a.toFixed(2)})`}w.formatRGBA=r;function s(f){return f.hsla.a===1?`hsl(${f.hsla.h}, ${(f.hsla.s*100).toFixed(2)}%, ${(f.hsla.l*100).toFixed(2)}%)`:e.Format.CSS.formatHSLA(f)}w.formatHSL=s;function a(f){return`hsla(${f.hsla.h}, ${(f.hsla.s*100).toFixed(2)}%, ${(f.hsla.l*100).toFixed(2)}%, ${f.hsla.a.toFixed(2)})`}w.formatHSLA=a;function l(f){let x=f.toString(16);return x.length!==2?"0"+x:x}function d(f){return`#${l(f.rgba.r)}${l(f.rgba.g)}${l(f.rgba.b)}`}w.formatHex=d;function u(f,x=!1){return x&&f.rgba.a===1?e.Format.CSS.formatHex(f):`#${l(f.rgba.r)}${l(f.rgba.g)}${l(f.rgba.b)}${l(Math.round(f.rgba.a*255))}`}w.formatHexA=u;function h(f){return f.isOpaque()?e.Format.CSS.formatHex(f):e.Format.CSS.formatRGBA(f)}w.format=h;function m(f){let x=f.length;if(x===0||f.charCodeAt(0)!==35)return null;if(x===7){let L=16*y(f.charCodeAt(1))+y(f.charCodeAt(2)),C=16*y(f.charCodeAt(3))+y(f.charCodeAt(4)),H=16*y(f.charCodeAt(5))+y(f.charCodeAt(6));return new e(new be(L,C,H,1))}if(x===9){let L=16*y(f.charCodeAt(1))+y(f.charCodeAt(2)),C=16*y(f.charCodeAt(3))+y(f.charCodeAt(4)),H=16*y(f.charCodeAt(5))+y(f.charCodeAt(6)),P=16*y(f.charCodeAt(7))+y(f.charCodeAt(8));return new e(new be(L,C,H,P/255))}if(x===4){let L=y(f.charCodeAt(1)),C=y(f.charCodeAt(2)),H=y(f.charCodeAt(3));return new e(new be(16*L+L,16*C+C,16*H+H))}if(x===5){let L=y(f.charCodeAt(1)),C=y(f.charCodeAt(2)),H=y(f.charCodeAt(3)),P=y(f.charCodeAt(4));return new e(new be(16*L+L,16*C+C,16*H+H,(16*P+P)/255))}return null}w.parseHex=m;function y(f){switch(f){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:return 10;case 65:return 10;case 98:return 11;case 66:return 11;case 99:return 12;case 67:return 12;case 100:return 13;case 68:return 13;case 101:return 14;case 69:return 14;case 102:return 15;case 70:return 15}return 0}})(t=i.CSS||={})})(n=e.Format||={})})(N||={});function Ib(n,e){let t=[];for(let i of e){if(n.start>=i.range.end)continue;if(n.end<i.range.start)break;let o=gt.intersect(n,i.range);gt.isEmpty(o)||t.push({range:o,size:i.size})}return t}function od({start:n,end:e},t){return{start:n+t,end:e+t}}function xx(n){let e=[],t=null;for(let i of n){let o=i.range.start,r=i.range.end,s=i.size;if(t&&s===t.size){t.range.end=r;continue}t={range:{start:o,end:r},size:s},e.push(t)}return e}function Sx(...n){return xx(n.reduce((e,t)=>e.concat(t),[]))}var id=class{groups=[];_size=0;_paddingTop=0;get paddingTop(){return this._paddingTop}set paddingTop(e){this._size=this._size+e-this._paddingTop,this._paddingTop=e}constructor(e){this._paddingTop=e??0,this._size=this._paddingTop}splice(e,t,i=[]){let o=i.length-t,r=Ib({start:0,end:e},this.groups),s=Ib({start:e+t,end:Number.POSITIVE_INFINITY},this.groups).map(l=>({range:od(l.range,o),size:l.size})),a=i.map((l,d)=>({range:{start:e+d,end:e+d+1},size:l.size}));this.groups=Sx(r,a,s),this._size=this._paddingTop+this.groups.reduce((l,d)=>l+d.size*(d.range.end-d.range.start),0)}get count(){let e=this.groups.length;return e?this.groups[e-1].range.end:0}get size(){return this._size}indexAt(e){if(e<0)return-1;if(e<this._paddingTop)return 0;let t=0,i=this._paddingTop;for(let o of this.groups){let r=o.range.end-o.range.start,s=i+r*o.size;if(e<s)return t+Math.floor((e-i)/o.size);t+=r,i=s}return t}indexAfter(e){return Math.min(this.indexAt(e)+1,this.count)}positionAt(e){if(e<0)return-1;let t=0,i=0;for(let o of this.groups){let r=o.range.end-o.range.start,s=i+r;if(e<s)return this._paddingTop+t+(e-i)*o.size;t+=r*o.size,i=s}return-1}};var rd=class{constructor(e){this.renderers=e}cache=new Map;transactionNodesPendingRemoval=new Set;inTransaction=!1;alloc(e){let t=this.getTemplateCache(e).pop(),i=!1;if(t)i=this.transactionNodesPendingRemoval.has(t.domNode),i&&this.transactionNodesPendingRemoval.delete(t.domNode);else{let o=ee(".monaco-list-row"),s=this.getRenderer(e).renderTemplate(o);t={domNode:o,templateId:e,templateData:s}}return{row:t,isReusingConnectedDomNode:i}}release(e){e&&this.releaseRow(e)}transact(e){if(this.inTransaction)throw new Error("Already in transaction");this.inTransaction=!0;try{e()}finally{for(let t of this.transactionNodesPendingRemoval)this.doRemoveNode(t);this.transactionNodesPendingRemoval.clear(),this.inTransaction=!1}}releaseRow(e){let{domNode:t,templateId:i}=e;t&&(this.inTransaction?this.transactionNodesPendingRemoval.add(t):this.doRemoveNode(t)),this.getTemplateCache(i).push(e)}doRemoveNode(e){e.classList.remove("scrolling"),e.remove()}getTemplateCache(e){let t=this.cache.get(e);return t||(t=[],this.cache.set(e,t)),t}dispose(){this.cache.forEach((e,t)=>{for(let i of e)this.getRenderer(t).disposeTemplate(i.templateData),i.templateData=null}),this.cache.clear(),this.transactionNodesPendingRemoval.clear()}getRenderer(e){let t=this.renderers.get(e);if(!t)throw new Error(`No renderer found for ${e}`);return t}};var Bo={CurrentDragAndDropData:void 0};var Zn={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements(n){return[n]},getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){},dispose(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0},Ei=class{elements;_context;get context(){return this._context}set context(e){this._context=e}constructor(e){this.elements=e}update(){}getData(){return this.elements}},Mh=class{elements;constructor(e){this.elements=e}update(){}getData(){return this.elements}},Nh=class{types;files;constructor(){this.types=[],this.files=[]}update(e){if(e.types&&this.types.splice(0,this.types.length,...e.types),e.files){this.files.splice(0,this.files.length);for(let t=0;t<e.files.length;t++){let i=e.files.item(t);i&&(i.size||i.type)&&this.files.push(i)}}}getData(){return{types:this.types,files:this.files}}};function wx(n,e){return Array.isArray(n)&&Array.isArray(e)?Ct(n,e):n===e}var Oh=class{getSetSize;getPosInSet;getRole;isChecked;constructor(e){e?.getSetSize?this.getSetSize=e.getSetSize.bind(e):this.getSetSize=(t,i,o)=>o,e?.getPosInSet?this.getPosInSet=e.getPosInSet.bind(e):this.getPosInSet=(t,i)=>i+1,e?.getRole?this.getRole=e.getRole.bind(e):this.getRole=t=>"listitem",e?.isChecked?this.isChecked=e.isChecked.bind(e):this.isChecked=t=>{}}},nn=class nn{constructor(e,t,i,o=Zn){this.virtualDelegate=t;if(o.horizontalScrolling&&o.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=this.createRangeMap(o.paddingTop??0);for(let s of i)this.renderers.set(s.templateId,s);this.cache=this.disposables.add(new rd(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support",typeof o.mouseSupport=="boolean"?o.mouseSupport:!0),this._horizontalScrolling=o.horizontalScrolling??Zn.horizontalScrolling,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.paddingBottom=typeof o.paddingBottom>"u"?0:o.paddingBottom,this.accessibilityProvider=new Oh(o.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",(o.transformOptimization??Zn.transformOptimization)&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)",this.rowsContainer.style.overflow="hidden",this.rowsContainer.style.contain="strict"),this.disposables.add(yt.addTarget(this.rowsContainer)),this.scrollable=this.disposables.add(new Ji({forceIntegerValues:!0,smoothScrollDuration:o.smoothScrolling??!1?125:0,scheduleAtNextAnimationFrame:s=>cn(de(this.domNode),s)})),this.scrollableElement=this.disposables.add(new wr(this.rowsContainer,{alwaysConsumeMouseWheel:o.alwaysConsumeMouseWheel??Zn.alwaysConsumeMouseWheel,horizontal:1,vertical:o.verticalScrollMode??Zn.verticalScrollMode,useShadows:o.useShadows??Zn.useShadows,mouseWheelScrollSensitivity:o.mouseWheelScrollSensitivity,fastScrollSensitivity:o.fastScrollSensitivity,scrollByPage:o.scrollByPage},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),e.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),this.disposables.add($(this.rowsContainer,Ue.Change,s=>this.onTouchChange(s))),this.disposables.add($(this.scrollableElement.getDomNode(),"scroll",s=>s.target.scrollTop=0)),this.disposables.add($(this.domNode,"dragover",s=>this.onDragOver(this.toDragEvent(s)))),this.disposables.add($(this.domNode,"drop",s=>this.onDrop(this.toDragEvent(s)))),this.disposables.add($(this.domNode,"dragleave",s=>this.onDragLeave(this.toDragEvent(s)))),this.disposables.add($(this.domNode,"dragend",s=>this.onDragEnd(s))),this.setRowLineHeight=o.setRowLineHeight??Zn.setRowLineHeight,this.setRowHeight=o.setRowHeight??Zn.setRowHeight,this.supportDynamicHeights=o.supportDynamicHeights??Zn.supportDynamicHeights,this.dnd=o.dnd??this.disposables.add(Zn.dnd),this.layout(o.initialSize?.height,o.initialSize?.width)}static InstanceCount=0;domId=`list_id_${++nn.InstanceCount}`;domNode;items;itemId;rangeMap;cache;renderers=new Map;lastRenderTop;lastRenderHeight;renderWidth=0;rowsContainer;scrollable;scrollableElement;_scrollHeight=0;scrollableElementUpdateDisposable=null;scrollableElementWidthDelayer=new Dn(50);splicing=!1;dragOverAnimationDisposable;dragOverAnimationStopDisposable=V.None;dragOverMouseY=0;setRowLineHeight;setRowHeight;supportDynamicHeights;paddingBottom;accessibilityProvider;scrollWidth;dnd;canDrop=!1;currentDragData;currentDragFeedback;currentDragFeedbackPosition;currentDragFeedbackDisposable=V.None;onDragLeaveTimeout=V.None;disposables=new q;_onDidChangeContentHeight=new k;_onDidChangeContentWidth=new k;onDidChangeContentHeight=_.latch(this._onDidChangeContentHeight.event,void 0,this.disposables);onDidChangeContentWidth=_.latch(this._onDidChangeContentWidth.event,void 0,this.disposables);get contentHeight(){return this.rangeMap.size}get contentWidth(){return this.scrollWidth??0}get onDidScroll(){return this.scrollableElement.onScroll}get onWillScroll(){return this.scrollableElement.onWillScroll}get containerDomNode(){return this.rowsContainer}get scrollableElementDomNode(){return this.scrollableElement.getDomNode()}_horizontalScrolling=!1;get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(e){if(e!==this._horizontalScrolling){if(e&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=e,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(let t of this.items)this.measureItemWidth(t);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:br(this.domNode)}),this.rowsContainer.style.width=`${Math.max(this.scrollWidth||0,this.renderWidth)}px`}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}}updateOptions(e){e.paddingBottom!==void 0&&(this.paddingBottom=e.paddingBottom,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),e.smoothScrolling!==void 0&&this.scrollable.setSmoothScrollDuration(e.smoothScrolling?125:0),e.horizontalScrolling!==void 0&&(this.horizontalScrolling=e.horizontalScrolling);let t;if(e.scrollByPage!==void 0&&(t={...t??{},scrollByPage:e.scrollByPage}),e.mouseWheelScrollSensitivity!==void 0&&(t={...t??{},mouseWheelScrollSensitivity:e.mouseWheelScrollSensitivity}),e.fastScrollSensitivity!==void 0&&(t={...t??{},fastScrollSensitivity:e.fastScrollSensitivity}),t&&this.scrollableElement.updateOptions(t),e.paddingTop!==void 0&&e.paddingTop!==this.rangeMap.paddingTop){let i=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),o=e.paddingTop-this.rangeMap.paddingTop;this.rangeMap.paddingTop=e.paddingTop,this.render(i,Math.max(0,this.lastRenderTop+o),this.lastRenderHeight,void 0,void 0,!0),this.setScrollTop(this.lastRenderTop),this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.lastRenderTop,this.lastRenderHeight)}}delegateScrollFromMouseWheelEvent(e){this.scrollableElement.delegateScrollFromMouseWheelEvent(e)}delegateVerticalScrollbarPointerDown(e){this.scrollableElement.delegateVerticalScrollbarPointerDown(e)}updateElementHeight(e,t,i){if(e<0||e>=this.items.length)return;let o=this.items[e].size;if(typeof t>"u"){if(!this.supportDynamicHeights){console.warn("Dynamic heights not supported",new Error().stack);return}this.items[e].lastDynamicHeightWidth=void 0,t=o+this.probeDynamicHeight(e)}if(o===t)return;let r=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),s=0;e<r.start||i!==null&&i>e&&i<r.end?s=t-o:s=0,this.rangeMap.splice(e,1,[{size:t}]),this.items[e].size=t,this.render(r,Math.max(0,this.lastRenderTop+s),this.lastRenderHeight,void 0,void 0,!0),this.setScrollTop(this.lastRenderTop),this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.lastRenderTop,this.lastRenderHeight)}createRangeMap(e){return new id(e)}splice(e,t,i=[]){if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(e,t,i)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice(e,t,i=[]){let o=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),r={start:e,end:e+t},s=gt.intersect(o,r),a=new Map;for(let A=s.end-1;A>=s.start;A--){let z=this.items[A];if(z.dragStartDisposable.dispose(),z.checkedDisposable.dispose(),z.row){let K=a.get(z.templateId);K||(K=[],a.set(z.templateId,K));let F=this.renderers.get(z.templateId);F&&F.disposeElement&&F.disposeElement(z.element,A,z.row.templateData,z.size),K.unshift(z.row)}z.row=null,z.stale=!0}let l={start:e+t,end:this.items.length},d=gt.intersect(l,o),u=gt.relativeComplement(l,o),h=i.map(A=>({id:String(this.itemId++),element:A,templateId:this.virtualDelegate.getTemplateId(A),size:this.virtualDelegate.getHeight(A),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(A),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:V.None,checkedDisposable:V.None,stale:!1})),m;e===0&&t>=this.items.length?(this.rangeMap=this.createRangeMap(this.rangeMap.paddingTop),this.rangeMap.splice(0,0,h),m=this.items,this.items=h):(this.rangeMap.splice(e,t,h),m=this.items.splice(e,t,...h));let y=i.length-t,w=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),f=od(d,y),x=gt.intersect(w,f);for(let A=x.start;A<x.end;A++)this.updateItemInDOM(this.items[A],A);let L=gt.relativeComplement(f,w);for(let A of L)for(let z=A.start;z<A.end;z++)this.removeItemFromDOM(z);let C=u.map(A=>od(A,y)),P=[{start:e,end:e+i.length},...C].map(A=>gt.intersect(w,A)).reverse();for(let A of P)for(let z=A.end-1;z>=A.start;z--){let K=this.items[z],ne=a.get(K.templateId)?.pop();this.insertItemInDOM(z,ne)}for(let A of a.values())for(let z of A)this.cache.release(z);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),m.map(A=>A.element)}eventuallyUpdateScrollDimensions(){this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=`${this._scrollHeight}px`,this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=cn(de(this.domNode),()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null}))}eventuallyUpdateScrollWidth(){if(!this.horizontalScrolling){this.scrollableElementWidthDelayer.cancel();return}this.scrollableElementWidthDelayer.trigger(()=>this.updateScrollWidth())}updateScrollWidth(){if(!this.horizontalScrolling)return;let e=0;for(let t of this.items)typeof t.width<"u"&&(e=Math.max(e,t.width));this.scrollWidth=e,this.scrollableElement.setScrollDimensions({scrollWidth:e===0?0:e+10}),this._onDidChangeContentWidth.fire(this.scrollWidth)}updateWidth(e){if(!this.horizontalScrolling||typeof this.scrollWidth>"u")return;let t=this.items[e];this.measureItemWidth(t),typeof t.width<"u"&&t.width>this.scrollWidth&&(this.scrollWidth=t.width,this.scrollableElement.setScrollDimensions({scrollWidth:this.scrollWidth+10}),this._onDidChangeContentWidth.fire(this.scrollWidth))}rerender(){if(this.supportDynamicHeights){for(let e of this.items)e.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}get firstVisibleIndex(){return this.getRenderRange(this.lastRenderTop,this.lastRenderHeight).start}get firstMostlyVisibleIndex(){let e=this.firstVisibleIndex,t=this.rangeMap.positionAt(e),i=this.rangeMap.positionAt(e+1);return i!==-1&&(i-t)/2+t<this.scrollTop?e+1:e}get lastVisibleIndex(){return this.getRenderRange(this.lastRenderTop,this.lastRenderHeight).end-1}element(e){return this.items[e].element}indexOf(e){return this.items.findIndex(t=>t.element===e)}domElement(e){let t=this.items[e].row;return t&&t.domNode}elementHeight(e){return this.items[e].size}elementTop(e){return this.rangeMap.positionAt(e)}indexAt(e){return this.rangeMap.indexAt(e)}indexAfter(e){return this.rangeMap.indexAfter(e)}layout(e,t){let i={height:typeof e=="number"?e:Al(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,i.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(i),typeof t<"u"&&(this.renderWidth=t,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight)),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:typeof t=="number"?t:br(this.domNode)})}render(e,t,i,o,r,s=!1){let a=this.getRenderRange(t,i),l=gt.relativeComplement(a,e).reverse(),d=gt.relativeComplement(e,a);if(s){let u=gt.intersect(e,a);for(let h=u.start;h<u.end;h++)this.updateItemInDOM(this.items[h],h)}this.cache.transact(()=>{for(let u of d)for(let h=u.start;h<u.end;h++)this.removeItemFromDOM(h);for(let u of l)for(let h=u.end-1;h>=u.start;h--)this.insertItemInDOM(h)}),o!==void 0&&(this.rowsContainer.style.left=`-${o}px`),this.rowsContainer.style.top=`-${t}px`,this.horizontalScrolling&&r!==void 0&&(this.rowsContainer.style.width=`${Math.max(r,this.renderWidth)}px`),this.lastRenderTop=t,this.lastRenderHeight=i}insertItemInDOM(e,t){let i=this.items[e];if(!i.row)if(t)i.row=t,i.stale=!0;else{let l=this.cache.alloc(i.templateId);i.row=l.row,i.stale||=l.isReusingConnectedDomNode}let o=this.accessibilityProvider.getRole(i.element)||"listitem";i.row.domNode.setAttribute("role",o);let r=this.accessibilityProvider.isChecked(i.element);if(typeof r=="boolean")i.row.domNode.setAttribute("aria-checked",String(!!r));else if(r){let l=d=>i.row.domNode.setAttribute("aria-checked",String(!!d));l(r.value),i.checkedDisposable=r.onDidChange(()=>l(r.value))}if(i.stale||!i.row.domNode.parentElement){let l=this.items.at(e+1)?.row?.domNode??null;(i.row.domNode.parentElement!==this.rowsContainer||i.row.domNode.nextElementSibling!==l)&&this.rowsContainer.insertBefore(i.row.domNode,l),i.stale=!1}this.updateItemInDOM(i,e);let s=this.renderers.get(i.templateId);if(!s)throw new Error(`No renderer found for template id ${i.templateId}`);s?.renderElement(i.element,e,i.row.templateData,i.size);let a=this.dnd.getDragURI(i.element);i.dragStartDisposable.dispose(),i.row.domNode.draggable=!!a,a&&(i.dragStartDisposable=$(i.row.domNode,"dragstart",l=>this.onDragStart(i.element,a,l))),this.horizontalScrolling&&(this.measureItemWidth(i),this.eventuallyUpdateScrollWidth())}measureItemWidth(e){if(!e.row||!e.row.domNode)return;e.row.domNode.style.width="fit-content",e.width=br(e.row.domNode);let t=de(e.row.domNode).getComputedStyle(e.row.domNode);t.paddingLeft&&(e.width+=parseFloat(t.paddingLeft)),t.paddingRight&&(e.width+=parseFloat(t.paddingRight)),e.row.domNode.style.width=""}updateItemInDOM(e,t){e.row.domNode.style.top=`${this.elementTop(t)}px`,this.setRowHeight&&(e.row.domNode.style.height=`${e.size}px`),this.setRowLineHeight&&(e.row.domNode.style.lineHeight=`${e.size}px`),e.row.domNode.setAttribute("data-index",`${t}`),e.row.domNode.setAttribute("data-last-element",t===this.length-1?"true":"false"),e.row.domNode.setAttribute("data-parity",t%2===0?"even":"odd"),e.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(e.element,t,this.length))),e.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(e.element,t))),e.row.domNode.setAttribute("id",this.getElementDomId(t)),e.row.domNode.classList.toggle("drop-target",e.dropTarget)}removeItemFromDOM(e){let t=this.items[e];if(t.dragStartDisposable.dispose(),t.checkedDisposable.dispose(),t.row){let i=this.renderers.get(t.templateId);i&&i.disposeElement&&i.disposeElement(t.element,e,t.row.templateData,t.size),this.cache.release(t.row),t.row=null}this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop(e,t){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:e,reuseAnimation:t})}getScrollLeft(){return this.scrollableElement.getScrollPosition().scrollLeft}setScrollLeft(e){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollWidth:this.scrollWidth})),this.scrollableElement.setScrollPosition({scrollLeft:e})}get scrollTop(){return this.getScrollTop()}set scrollTop(e){this.setScrollTop(e)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.paddingBottom}get onMouseClick(){return _.map(this.disposables.add(new se(this.domNode,"click")).event,e=>this.toMouseEvent(e),this.disposables)}get onMouseDblClick(){return _.map(this.disposables.add(new se(this.domNode,"dblclick")).event,e=>this.toMouseEvent(e),this.disposables)}get onMouseMiddleClick(){return _.filter(_.map(this.disposables.add(new se(this.domNode,"auxclick")).event,e=>this.toMouseEvent(e),this.disposables),e=>e.browserEvent.button===1,this.disposables)}get onMouseUp(){return _.map(this.disposables.add(new se(this.domNode,"mouseup")).event,e=>this.toMouseEvent(e),this.disposables)}get onMouseDown(){return _.map(this.disposables.add(new se(this.domNode,"mousedown")).event,e=>this.toMouseEvent(e),this.disposables)}get onMouseOver(){return _.map(this.disposables.add(new se(this.domNode,"mouseover")).event,e=>this.toMouseEvent(e),this.disposables)}get onMouseMove(){return _.map(this.disposables.add(new se(this.domNode,"mousemove")).event,e=>this.toMouseEvent(e),this.disposables)}get onMouseOut(){return _.map(this.disposables.add(new se(this.domNode,"mouseout")).event,e=>this.toMouseEvent(e),this.disposables)}get onContextMenu(){return _.any(_.map(this.disposables.add(new se(this.domNode,"contextmenu")).event,e=>this.toMouseEvent(e),this.disposables),_.map(this.disposables.add(new se(this.domNode,Ue.Contextmenu)).event,e=>this.toGestureEvent(e),this.disposables))}get onTouchStart(){return _.map(this.disposables.add(new se(this.domNode,"touchstart")).event,e=>this.toTouchEvent(e),this.disposables)}get onTap(){return _.map(this.disposables.add(new se(this.rowsContainer,Ue.Tap)).event,e=>this.toGestureEvent(e),this.disposables)}toMouseEvent(e){let t=this.getItemIndexFromEventTarget(e.target||null),i=typeof t>"u"?void 0:this.items[t],o=i&&i.element;return{browserEvent:e,index:t,element:o}}toTouchEvent(e){let t=this.getItemIndexFromEventTarget(e.target||null),i=typeof t>"u"?void 0:this.items[t],o=i&&i.element;return{browserEvent:e,index:t,element:o}}toGestureEvent(e){let t=this.getItemIndexFromEventTarget(e.initialTarget||null),i=typeof t>"u"?void 0:this.items[t],o=i&&i.element;return{browserEvent:e,index:t,element:o}}toDragEvent(e){let t=this.getItemIndexFromEventTarget(e.target||null),i=typeof t>"u"?void 0:this.items[t],o=i&&i.element,r=this.getTargetSector(e,t);return{browserEvent:e,index:t,element:o,sector:r}}onScroll(e){try{let t=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render(t,e.scrollTop,e.height,e.scrollLeft,e.scrollWidth),this.supportDynamicHeights&&this._rerender(e.scrollTop,e.height,e.inSmoothScrolling)}catch(t){throw console.error("Got bad scroll event:",e),t}}onTouchChange(e){e.preventDefault(),e.stopPropagation(),this.scrollTop-=e.translationY}onDragStart(e,t,i){if(!i.dataTransfer)return;let o=this.dnd.getDragElements(e);if(i.dataTransfer.effectAllowed="copyMove",i.dataTransfer.setData(ql.TEXT,t),i.dataTransfer.setDragImage){let r;this.dnd.getDragLabel&&(r=this.dnd.getDragLabel(o,i)),typeof r>"u"&&(r=String(o.length));let s=ee(".monaco-drag-image");s.textContent=r,(d=>{for(;d&&!d.classList.contains("monaco-workbench");)d=d.parentElement;return d||this.domNode.ownerDocument})(this.domNode).appendChild(s),i.dataTransfer.setDragImage(s,-10,-10),setTimeout(()=>s.remove(),0)}this.domNode.classList.add("dragging"),this.currentDragData=new Ei(o),Bo.CurrentDragAndDropData=new Mh(o),this.dnd.onDragStart?.(this.currentDragData,i)}onDragOver(e){if(e.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),Bo.CurrentDragAndDropData&&Bo.CurrentDragAndDropData.getData()==="vscode-ui"||(this.setupDragAndDropScrollTopAnimation(e.browserEvent),!e.browserEvent.dataTransfer))return!1;if(!this.currentDragData)if(Bo.CurrentDragAndDropData)this.currentDragData=Bo.CurrentDragAndDropData;else{if(!e.browserEvent.dataTransfer.types)return!1;this.currentDragData=new Nh}let t=this.dnd.onDragOver(this.currentDragData,e.element,e.index,e.sector,e.browserEvent);if(this.canDrop=typeof t=="boolean"?t:t.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;e.browserEvent.dataTransfer.dropEffect=typeof t!="boolean"&&t.effect?.type===0?"copy":"move";let i;typeof t!="boolean"&&t.feedback?i=t.feedback:typeof e.index>"u"?i=[-1]:i=[e.index],i=yo(i).filter(r=>r>=-1&&r<this.length).sort((r,s)=>r-s),i=i[0]===-1?[-1]:i;let o=typeof t!="boolean"&&t.effect&&t.effect.position?t.effect.position:"drop-target";if(wx(this.currentDragFeedback,i)&&this.currentDragFeedbackPosition===o)return!0;if(this.currentDragFeedback=i,this.currentDragFeedbackPosition=o,this.currentDragFeedbackDisposable.dispose(),i[0]===-1)this.domNode.classList.add(o),this.rowsContainer.classList.add(o),this.currentDragFeedbackDisposable=ce(()=>{this.domNode.classList.remove(o),this.rowsContainer.classList.remove(o)});else{if(i.length>1&&o!=="drop-target")throw new Error("Can't use multiple feedbacks with position different than 'over'");o==="drop-target-after"&&i[0]<this.length-1&&(i[0]+=1,o="drop-target-before");for(let r of i){let s=this.items[r];s.dropTarget=!0,s.row?.domNode.classList.add(o)}this.currentDragFeedbackDisposable=ce(()=>{for(let r of i){let s=this.items[r];s.dropTarget=!1,s.row?.domNode.classList.remove(o)}})}return!0}onDragLeave(e){this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=Rs(()=>this.clearDragOverFeedback(),100,this.disposables),this.currentDragData&&this.dnd.onDragLeave?.(this.currentDragData,e.element,e.index,e.browserEvent)}onDrop(e){if(!this.canDrop)return;let t=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.domNode.classList.remove("dragging"),this.currentDragData=void 0,Bo.CurrentDragAndDropData=void 0,!(!t||!e.browserEvent.dataTransfer)&&(e.browserEvent.preventDefault(),t.update(e.browserEvent.dataTransfer),this.dnd.drop(t,e.element,e.index,e.sector,e.browserEvent))}onDragEnd(e){this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.domNode.classList.remove("dragging"),this.currentDragData=void 0,Bo.CurrentDragAndDropData=void 0,this.dnd.onDragEnd?.(e)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackPosition=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=V.None}setupDragAndDropScrollTopAnimation(e){if(!this.dragOverAnimationDisposable){let t=Ag(this.domNode).top;this.dragOverAnimationDisposable=Hg(de(this.domNode),this.animateDragAndDropScrollTop.bind(this,t))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=Rs(()=>{this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)},1e3,this.disposables),this.dragOverMouseY=e.pageY}animateDragAndDropScrollTop(e){if(this.dragOverMouseY===void 0)return;let t=this.dragOverMouseY-e,i=this.renderHeight-35;t<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(t-35))):t>i&&(this.scrollTop+=Math.min(14,Math.floor(.3*(t-i))))}teardownDragAndDropScrollTopAnimation(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}getTargetSector(e,t){if(t===void 0)return;let i=e.offsetY/this.items[t].size,o=Math.floor(i/.25);return vt(o,0,3)}getItemIndexFromEventTarget(e){let t=this.scrollableElement.getDomNode(),i=e;for(;(Qe(i)||Og(i))&&i!==this.rowsContainer&&t.contains(i);){let o=i.getAttribute("data-index");if(o){let r=Number(o);if(!isNaN(r))return r}i=i.parentElement}}getRenderRange(e,t){return{start:this.rangeMap.indexAt(e),end:this.rangeMap.indexAfter(e+t-1)}}_rerender(e,t,i){let o=this.getRenderRange(e,t),r,s;e===this.elementTop(o.start)?(r=o.start,s=0):o.end-o.start>1&&(r=o.start+1,s=this.elementTop(r)-e);let a=0;for(;;){let l=this.getRenderRange(e,t),d=!1;for(let u=l.start;u<l.end;u++){let h=this.probeDynamicHeight(u);h!==0&&this.rangeMap.splice(u,1,[this.items[u]]),a+=h,d=d||h!==0}if(!d){a!==0&&this.eventuallyUpdateScrollDimensions();let u=gt.relativeComplement(o,l);for(let m of u)for(let y=m.start;y<m.end;y++)this.items[y].row&&this.removeItemFromDOM(y);let h=gt.relativeComplement(l,o).reverse();for(let m of h)for(let y=m.end-1;y>=m.start;y--)this.insertItemInDOM(y);for(let m=l.start;m<l.end;m++)this.items[m].row&&this.updateItemInDOM(this.items[m],m);if(typeof r=="number"){let m=this.scrollable.getFutureScrollPosition().scrollTop-e,y=this.elementTop(r)-s+m;this.setScrollTop(y,i)}this._onDidChangeContentHeight.fire(this.contentHeight);return}}}probeDynamicHeight(e){let t=this.items[e];if(this.virtualDelegate.getDynamicHeight){let s=this.virtualDelegate.getDynamicHeight(t.element);if(s!==null){let a=t.size;return t.size=s,t.lastDynamicHeightWidth=this.renderWidth,s-a}}if(!t.hasDynamicHeight||t.lastDynamicHeightWidth===this.renderWidth||this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(t.element))return 0;let i=t.size;if(t.row)return t.row.domNode.style.height="",t.size=t.row.domNode.offsetHeight,t.size===0&&!ct(t.row.domNode,de(t.row.domNode).document.body)&&console.warn("Measuring item node that is not in DOM! Add ListView to the DOM before measuring row height!",new Error().stack),t.lastDynamicHeightWidth=this.renderWidth,t.size-i;let{row:o}=this.cache.alloc(t.templateId);o.domNode.style.height="",this.rowsContainer.appendChild(o.domNode);let r=this.renderers.get(t.templateId);if(!r)throw new xn("Missing renderer for templateId: "+t.templateId);return r.renderElement(t.element,e,o.templateData,void 0),t.size=o.domNode.offsetHeight,r.disposeElement?.(t.element,e,o.templateData,void 0),this.virtualDelegate.setDynamicHeight?.(t.element,t.size),t.lastDynamicHeightWidth=this.renderWidth,o.domNode.remove(),this.cache.release(o),t.size-i}getElementDomId(e){return`${this.domId}_${e}`}dispose(){for(let e of this.items)if(e.dragStartDisposable.dispose(),e.checkedDisposable.dispose(),e.row){let t=this.renderers.get(e.row.templateId);t&&(t.disposeElement?.(e.element,-1,e.row.templateData,void 0),t.disposeTemplate(e.row.templateData))}this.items=[],this.domNode?.remove(),this.dragOverAnimationDisposable?.dispose(),this.disposables.dispose()}};ie([ke],nn.prototype,"onMouseClick",1),ie([ke],nn.prototype,"onMouseDblClick",1),ie([ke],nn.prototype,"onMouseMiddleClick",1),ie([ke],nn.prototype,"onMouseUp",1),ie([ke],nn.prototype,"onMouseDown",1),ie([ke],nn.prototype,"onMouseOver",1),ie([ke],nn.prototype,"onMouseMove",1),ie([ke],nn.prototype,"onMouseOut",1),ie([ke],nn.prototype,"onContextMenu",1),ie([ke],nn.prototype,"onTouchStart",1),ie([ke],nn.prototype,"onTap",1);var sd=nn;var ei=class extends Error{constructor(e,t){super(`ListError [${e}] ${t}`)}};var Fh=class{constructor(e){this.trait=e}renderedElements=[];get templateId(){return`template:${this.trait.name}`}renderTemplate(e){return e}renderElement(e,t,i){let o=this.renderedElements.findIndex(r=>r.templateData===i);if(o>=0){let r=this.renderedElements[o];this.trait.unrender(i),r.index=t}else{let r={index:t,templateData:i};this.renderedElements.push(r)}this.trait.renderIndex(t,i)}splice(e,t,i){let o=[];for(let r of this.renderedElements)r.index<e?o.push(r):r.index>=e+t&&o.push({index:r.index+i-t,templateData:r.templateData});this.renderedElements=o}renderIndexes(e){for(let{index:t,templateData:i}of this.renderedElements)e.indexOf(t)>-1&&this.trait.renderIndex(t,i)}disposeTemplate(e){let t=this.renderedElements.findIndex(i=>i.templateData===e);t<0||this.renderedElements.splice(t,1)}},Dr=class{constructor(e){this._trait=e}indexes=[];sortedIndexes=[];_onChange=new k;onChange=this._onChange.event;get name(){return this._trait}get renderer(){return new Fh(this)}splice(e,t,i){let o=i.length-t,r=e+t,s=[],a=0;for(;a<this.sortedIndexes.length&&this.sortedIndexes[a]<e;)s.push(this.sortedIndexes[a++]);for(let l=0;l<i.length;l++)i[l]&&s.push(l+e);for(;a<this.sortedIndexes.length&&this.sortedIndexes[a]>=r;)s.push(this.sortedIndexes[a++]+o);this.renderer.splice(e,t,i.length),this._set(s,s)}renderIndex(e,t){t.classList.toggle(this._trait,this.contains(e))}unrender(e){e.classList.remove(this._trait)}set(e,t){return this._set(e,[...e].sort(Sb),t)}_set(e,t,i){let o=this.indexes,r=this.sortedIndexes;this.indexes=e,this.sortedIndexes=t;let s=Hh(r,e);return this.renderer.renderIndexes(s),this._onChange.fire({indexes:e,browserEvent:i}),o}get(){return this.indexes}contains(e){return qm(this.sortedIndexes,e,Sb)>=0}dispose(){$e(this._onChange)}};ie([ke],Dr.prototype,"renderer",1);var Rh=class extends Dr{constructor(t){super("selected");this.setAriaSelected=t}renderIndex(t,i){super.renderIndex(t,i),this.setAriaSelected&&(this.contains(t)?i.setAttribute("aria-selected","true"):i.setAttribute("aria-selected","false"))}},Xs=class{constructor(e,t,i){this.trait=e;this.view=t;this.identityProvider=i}splice(e,t,i){if(!this.identityProvider)return this.trait.splice(e,t,new Array(i.length).fill(!1));let o=this.trait.get().map(a=>this.identityProvider.getId(this.view.element(a)).toString());if(o.length===0)return this.trait.splice(e,t,new Array(i.length).fill(!1));let r=new Set(o),s=i.map(a=>r.has(this.identityProvider.getId(a).toString()));this.trait.splice(e,t,s)}};function Zs(n,e){return n.classList.contains(e)?!0:n.classList.contains("monaco-list")||!n.parentElement?!1:Zs(n.parentElement,e)}function kr(n){return Zs(n,"monaco-editor")}function wb(n){return Zs(n,"monaco-custom-toggle")}function Eb(n){return Zs(n,"action-item")}function _r(n){return Zs(n,"monaco-tree-sticky-row")}function Cr(n){return n.classList.contains("monaco-tree-sticky-container")}function Vh(n){return n.tagName==="A"&&n.classList.contains("monaco-button")||n.tagName==="DIV"&&n.classList.contains("monaco-button-dropdown")?!0:n.classList.contains("monaco-list")||!n.parentElement?!1:Vh(n.parentElement)}var ad=class{constructor(e,t,i){this.list=e;this.view=t;this.multipleSelectionSupport=i.multipleSelectionSupport,this.disposables.add(this.onKeyDown(o=>{switch(o.keyCode){case 3:return this.onEnter(o);case 16:return this.onUpArrow(o);case 18:return this.onDownArrow(o);case 11:return this.onPageUpArrow(o);case 12:return this.onPageDownArrow(o);case 9:return this.onEscape(o);case 31:this.multipleSelectionSupport&&(Se?o.metaKey:o.ctrlKey)&&this.onCtrlA(o)}}))}disposables=new q;multipleSelectionDisposables=new q;multipleSelectionSupport;get onKeyDown(){return _.chain(this.disposables.add(new se(this.view.domNode,"keydown")).event,e=>e.filter(t=>!Yn(t.target)).map(t=>new Ne(t)))}updateOptions(e){e.multipleSelectionSupport!==void 0&&(this.multipleSelectionSupport=e.multipleSelectionSupport)}onEnter(e){e.preventDefault(),e.stopPropagation(),this.list.setSelection(this.list.getFocus(),e.browserEvent)}onUpArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusPrevious(1,!1,e.browserEvent);let t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onDownArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusNext(1,!1,e.browserEvent);let t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onPageUpArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusPreviousPage(e.browserEvent);let t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onPageDownArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusNextPage(e.browserEvent);let t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onCtrlA(e){e.preventDefault(),e.stopPropagation(),this.list.setSelection(at(this.list.length),e.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus()}onEscape(e){this.list.getSelection().length&&(e.preventDefault(),e.stopPropagation(),this.list.setSelection([],e.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus())}dispose(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()}};ie([ke],ad.prototype,"onKeyDown",1);var Dx=new class{mightProducePrintableCharacter(n){return n.ctrlKey||n.metaKey||n.altKey?!1:n.keyCode>=31&&n.keyCode<=56||n.keyCode>=21&&n.keyCode<=30||n.keyCode>=98&&n.keyCode<=107||n.keyCode>=85&&n.keyCode<=95}},Ph=class{constructor(e,t,i,o,r){this.list=e;this.view=t;this.keyboardNavigationLabelProvider=i;this.keyboardNavigationEventFilter=o;this.delegate=r;this.updateOptions(e.options)}enabled=!1;state=0;mode=0;triggered=!1;previouslyFocused=-1;enabledDisposables=new q;disposables=new q;updateOptions(e){e.typeNavigationEnabled??!0?this.enable():this.disable(),this.mode=e.typeNavigationMode??0}trigger(){this.triggered=!this.triggered}enable(){if(this.enabled)return;let e=!1,t=_.chain(this.enabledDisposables.add(new se(this.view.domNode,"keydown")).event,r=>r.filter(s=>!Yn(s.target)).filter(()=>this.mode===0||this.triggered).map(s=>new Ne(s)).filter(s=>e||this.keyboardNavigationEventFilter(s)).filter(s=>this.delegate.mightProducePrintableCharacter(s)).forEach(s=>Re.stop(s,!0)).map(s=>s.browserEvent.key)),i=_.debounce(t,()=>null,800,void 0,void 0,void 0,this.enabledDisposables);_.reduce(_.any(t,i),(r,s)=>s===null?null:(r||"")+s,void 0,this.enabledDisposables)(this.onInput,this,this.enabledDisposables),i(this.onClear,this,this.enabledDisposables),t(()=>e=!0,void 0,this.enabledDisposables),i(()=>e=!1,void 0,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){this.enabled&&(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){let e=this.list.getFocus();if(e.length>0&&e[0]===this.previouslyFocused){let t=this.list.options.accessibilityProvider?.getAriaLabel(this.list.element(e[0]));typeof t=="string"?eo(t):t&&eo(t.get())}this.previouslyFocused=-1}onInput(e){if(!e){this.state=0,this.triggered=!1;return}let t=this.list.getFocus(),i=t.length>0?t[0]:0,o=this.state===0?1:0;this.state=1;for(let r=0;r<this.list.length;r++){let s=(i+r+o)%this.list.length,a=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(s)),l=a&&a.toString();if(this.list.options.typeNavigationEnabled){if(typeof l<"u"){if(vr(e,l)){this.previouslyFocused=i,this.list.setFocus([s]),this.list.reveal(s);return}let d=Xg(e,l);if(d&&d[0].end-d[0].start>1&&d.length===1){this.previouslyFocused=i,this.list.setFocus([s]),this.list.reveal(s);return}}}else if(typeof l>"u"||vr(e,l)){this.previouslyFocused=i,this.list.setFocus([s]),this.list.reveal(s);return}}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}},Bh=class{constructor(e,t){this.list=e;this.view=t;let i=_.chain(this.disposables.add(new se(t.domNode,"keydown")).event,r=>r.filter(s=>!Yn(s.target)).map(s=>new Ne(s)));_.chain(i,r=>r.filter(s=>s.keyCode===2&&!s.ctrlKey&&!s.metaKey&&!s.shiftKey&&!s.altKey))(this.onTab,this,this.disposables)}disposables=new q;onTab(e){if(e.target!==this.view.domNode)return;let t=this.list.getFocus();if(t.length===0)return;let i=this.view.domElement(t[0]);if(!i)return;let o=i.querySelector("[tabIndex]");if(!o||!Qe(o)||o.tabIndex===-1)return;let r=de(o).getComputedStyle(o);r.visibility==="hidden"||r.display==="none"||(e.preventDefault(),e.stopPropagation(),o.focus())}dispose(){this.disposables.dispose()}};function Wh(n){return Se?n.browserEvent.metaKey:n.browserEvent.ctrlKey}function qh(n){return n.browserEvent.shiftKey}function _x(n){return Vs(n)&&n.button===2}var xb={isSelectionSingleChangeEvent:Wh,isSelectionRangeChangeEvent:qh},Js=class{constructor(e){this.list=e;e.options.multipleSelectionSupport!==!1&&(this.multipleSelectionController=this.list.options.multipleSelectionController||xb),this.mouseSupport=typeof e.options.mouseSupport>"u"||!!e.options.mouseSupport,this.mouseSupport&&(e.onMouseDown(this.onMouseDown,this,this.disposables),e.onContextMenu(this.onContextMenu,this,this.disposables),e.onMouseDblClick(this.onDoubleClick,this,this.disposables),e.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(yt.addTarget(e.getHTMLElement()))),_.any(e.onMouseClick,e.onMouseMiddleClick,e.onTap)(this.onViewPointer,this,this.disposables)}multipleSelectionController;mouseSupport;disposables=new q;_onPointer=new k;onPointer=this._onPointer.event;updateOptions(e){e.multipleSelectionSupport!==void 0&&(this.multipleSelectionController=void 0,e.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||xb))}isSelectionSingleChangeEvent(e){return this.multipleSelectionController?this.multipleSelectionController.isSelectionSingleChangeEvent(e):!1}isSelectionRangeChangeEvent(e){return this.multipleSelectionController?this.multipleSelectionController.isSelectionRangeChangeEvent(e):!1}isSelectionChangeEvent(e){return this.isSelectionSingleChangeEvent(e)||this.isSelectionRangeChangeEvent(e)}onMouseDown(e){kr(e.browserEvent.target)||Si()!==e.browserEvent.target&&this.list.domFocus()}onContextMenu(e){if(Yn(e.browserEvent.target)||kr(e.browserEvent.target))return;let t=typeof e.index>"u"?[]:[e.index];this.list.setFocus(t,e.browserEvent)}onViewPointer(e){if(!this.mouseSupport||Yn(e.browserEvent.target)||kr(e.browserEvent.target)||e.browserEvent.isHandledByList)return;e.browserEvent.isHandledByList=!0;let t=e.index;if(typeof t>"u"){this.list.setFocus([],e.browserEvent),this.list.setSelection([],e.browserEvent),this.list.setAnchor(void 0);return}if(this.isSelectionChangeEvent(e))return this.changeSelection(e);this.list.setFocus([t],e.browserEvent),this.list.setAnchor(t),_x(e.browserEvent)||this.list.setSelection([t],e.browserEvent),this._onPointer.fire(e)}onDoubleClick(e){if(Yn(e.browserEvent.target)||kr(e.browserEvent.target)||this.isSelectionChangeEvent(e)||e.browserEvent.isHandledByList)return;e.browserEvent.isHandledByList=!0;let t=this.list.getFocus();this.list.setSelection(t,e.browserEvent)}changeSelection(e){let t=e.index,i=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(e)){typeof i>"u"&&(i=this.list.getFocus()[0]??t,this.list.setAnchor(i));let o=Math.min(i,t),r=Math.max(i,t),s=at(o,r+1),a=this.list.getSelection(),l=Lx(Hh(a,[i]),i);if(l.length===0)return;let d=Hh(s,Ax(a,l));this.list.setSelection(d,e.browserEvent),this.list.setFocus([t],e.browserEvent)}else if(this.isSelectionSingleChangeEvent(e)){let o=this.list.getSelection(),r=o.filter(s=>s!==t);this.list.setFocus([t]),this.list.setAnchor(t),o.length===r.length?this.list.setSelection([...r,t],e.browserEvent):this.list.setSelection(r,e.browserEvent)}}dispose(){this.disposables.dispose()}},ld=class{constructor(e,t){this.styleElement=e;this.selectorSuffix=t}style(e){let t=this.selectorSuffix&&`.${this.selectorSuffix}`,i=[];e.listBackground&&i.push(`.monaco-list${t} .monaco-list-rows { background: ${e.listBackground}; }`),e.listFocusBackground&&(i.push(`.monaco-list${t}:focus .monaco-list-row.focused { background-color: ${e.listFocusBackground}; }`),i.push(`.monaco-list${t}:focus .monaco-list-row.focused:hover { background-color: ${e.listFocusBackground}; }`)),e.listFocusForeground&&i.push(`.monaco-list${t}:focus .monaco-list-row.focused { color: ${e.listFocusForeground}; }`),e.listActiveSelectionBackground&&(i.push(`.monaco-list${t}:focus .monaco-list-row.selected { background-color: ${e.listActiveSelectionBackground}; }`),i.push(`.monaco-list${t}:focus .monaco-list-row.selected:hover { background-color: ${e.listActiveSelectionBackground}; }`)),e.listActiveSelectionForeground&&i.push(`.monaco-list${t}:focus .monaco-list-row.selected { color: ${e.listActiveSelectionForeground}; }`),e.listActiveSelectionIconForeground&&i.push(`.monaco-list${t}:focus .monaco-list-row.selected .codicon { color: ${e.listActiveSelectionIconForeground}; }`),e.listFocusAndSelectionBackground&&i.push(`
				.monaco-drag-image,
				.monaco-list${t}:focus .monaco-list-row.selected.focused { background-color: ${e.listFocusAndSelectionBackground}; }
			`),e.listFocusAndSelectionForeground&&i.push(`
				.monaco-drag-image,
				.monaco-list${t}:focus .monaco-list-row.selected.focused { color: ${e.listFocusAndSelectionForeground}; }
			`),e.listInactiveFocusForeground&&(i.push(`.monaco-list${t} .monaco-list-row.focused { color:  ${e.listInactiveFocusForeground}; }`),i.push(`.monaco-list${t} .monaco-list-row.focused:hover { color:  ${e.listInactiveFocusForeground}; }`)),e.listInactiveSelectionIconForeground&&i.push(`.monaco-list${t} .monaco-list-row.focused .codicon { color:  ${e.listInactiveSelectionIconForeground}; }`),e.listInactiveFocusBackground&&(i.push(`.monaco-list${t} .monaco-list-row.focused { background-color:  ${e.listInactiveFocusBackground}; }`),i.push(`.monaco-list${t} .monaco-list-row.focused:hover { background-color:  ${e.listInactiveFocusBackground}; }`)),e.listInactiveSelectionBackground&&(i.push(`.monaco-list${t} .monaco-list-row.selected { background-color:  ${e.listInactiveSelectionBackground}; }`),i.push(`.monaco-list${t} .monaco-list-row.selected:hover { background-color:  ${e.listInactiveSelectionBackground}; }`)),e.listInactiveSelectionForeground&&i.push(`.monaco-list${t} .monaco-list-row.selected { color: ${e.listInactiveSelectionForeground}; }`),e.listHoverBackground&&i.push(`.monaco-list${t}:not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${e.listHoverBackground}; }`),e.listHoverForeground&&i.push(`.monaco-list${t}:not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${e.listHoverForeground}; }`);let o=vn(e.listFocusAndSelectionOutline,vn(e.listSelectionOutline,e.listFocusOutline??""));o&&i.push(`.monaco-list${t}:focus .monaco-list-row.focused.selected { outline: 1px solid ${o}; outline-offset: -1px;}`),e.listFocusOutline&&i.push(`
				.monaco-drag-image,
				.monaco-list${t}:focus .monaco-list-row.focused { outline: 1px solid ${e.listFocusOutline}; outline-offset: -1px; }
				.monaco-workbench.context-menu-visible .monaco-list${t}.last-focused .monaco-list-row.focused { outline: 1px solid ${e.listFocusOutline}; outline-offset: -1px; }
			`);let r=vn(e.listSelectionOutline,e.listInactiveFocusOutline??"");r&&i.push(`.monaco-list${t} .monaco-list-row.focused.selected { outline: 1px dotted ${r}; outline-offset: -1px; }`),e.listSelectionOutline&&i.push(`.monaco-list${t} .monaco-list-row.selected { outline: 1px dotted ${e.listSelectionOutline}; outline-offset: -1px; }`),e.listInactiveFocusOutline&&i.push(`.monaco-list${t} .monaco-list-row.focused { outline: 1px dotted ${e.listInactiveFocusOutline}; outline-offset: -1px; }`),e.listHoverOutline&&i.push(`.monaco-list${t} .monaco-list-row:hover { outline: 1px dashed ${e.listHoverOutline}; outline-offset: -1px; }`),e.listDropOverBackground&&i.push(`
				.monaco-list${t}.drop-target,
				.monaco-list${t} .monaco-list-rows.drop-target,
				.monaco-list${t} .monaco-list-row.drop-target { background-color: ${e.listDropOverBackground} !important; color: inherit !important; }
			`),e.listDropBetweenBackground&&(i.push(`
			.monaco-list${t} .monaco-list-rows.drop-target-before .monaco-list-row:first-child::before,
			.monaco-list${t} .monaco-list-row.drop-target-before::before {
				content: ""; position: absolute; top: 0px; left: 0px; width: 100%; height: 1px;
				background-color: ${e.listDropBetweenBackground};
			}`),i.push(`
			.monaco-list${t} .monaco-list-rows.drop-target-after .monaco-list-row:last-child::after,
			.monaco-list${t} .monaco-list-row.drop-target-after::after {
				content: ""; position: absolute; bottom: 0px; left: 0px; width: 100%; height: 1px;
				background-color: ${e.listDropBetweenBackground};
			}`)),e.tableColumnsBorder&&i.push(`
				.monaco-table > .monaco-split-view2,
				.monaco-table > .monaco-split-view2 .monaco-sash.vertical::before,
				.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2,
				.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: ${e.tableColumnsBorder};
				}

				.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2,
				.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: transparent;
				}
			`),e.tableOddRowsBackgroundColor&&i.push(`
				.monaco-table .monaco-list-row[data-parity=odd]:not(.focused):not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(:focus) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(.focused) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr {
					background-color: ${e.tableOddRowsBackgroundColor};
				}
			`),this.styleElement.textContent=i.join(`
`)}},dd={listFocusBackground:"#7FB0D0",listActiveSelectionBackground:"#0E639C",listActiveSelectionForeground:"#FFFFFF",listActiveSelectionIconForeground:"#FFFFFF",listFocusAndSelectionOutline:"#90C2F9",listFocusAndSelectionBackground:"#094771",listFocusAndSelectionForeground:"#FFFFFF",listInactiveSelectionBackground:"#3F3F46",listInactiveSelectionIconForeground:"#FFFFFF",listHoverBackground:"#2A2D2E",listDropOverBackground:"#383B3D",listDropBetweenBackground:"#EEEEEE",treeIndentGuidesStroke:"#a9a9a9",treeInactiveIndentGuidesStroke:N.fromHex("#a9a9a9").transparent(.4).toString(),tableColumnsBorder:N.fromHex("#cccccc").transparent(.2).toString(),tableOddRowsBackgroundColor:N.fromHex("#cccccc").transparent(.04).toString(),listBackground:void 0,listFocusForeground:void 0,listInactiveSelectionForeground:void 0,listInactiveFocusForeground:void 0,listInactiveFocusBackground:void 0,listHoverForeground:void 0,listFocusOutline:void 0,listInactiveFocusOutline:void 0,listSelectionOutline:void 0,listHoverOutline:void 0,treeStickyScrollBackground:void 0,treeStickyScrollBorder:void 0,treeStickyScrollShadow:void 0},Cx={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){},dispose(){}}};function Lx(n,e){let t=n.indexOf(e);if(t===-1)return[];let i=[],o=t-1;for(;o>=0&&n[o]===e-(t-o);)i.push(n[o--]);for(i.reverse(),o=t;o<n.length&&n[o]===e+(o-t);)i.push(n[o++]);return i}function Hh(n,e){let t=[],i=0,o=0;for(;i<n.length||o<e.length;)if(i>=n.length)t.push(e[o++]);else if(o>=e.length)t.push(n[i++]);else if(n[i]===e[o]){t.push(n[i]),i++,o++;continue}else n[i]<e[o]?t.push(n[i++]):t.push(e[o++]);return t}function Ax(n,e){let t=[],i=0,o=0;for(;i<n.length||o<e.length;)if(i>=n.length)t.push(e[o++]);else if(o>=e.length)t.push(n[i++]);else if(n[i]===e[o]){i++,o++;continue}else n[i]<e[o]?t.push(n[i++]):o++;return t}var Sb=(n,e)=>n-e,Kh=class{constructor(e,t){this._templateId=e;this.renderers=t}get templateId(){return this._templateId}renderTemplate(e){return this.renderers.map(t=>t.renderTemplate(e))}renderElement(e,t,i,o){let r=0;for(let s of this.renderers)s.renderElement(e,t,i[r++],o)}disposeElement(e,t,i,o){let r=0;for(let s of this.renderers)s.disposeElement?.(e,t,i[r],o),r+=1}disposeTemplate(e){let t=0;for(let i of this.renderers)i.disposeTemplate(e[t++])}},zh=class{constructor(e){this.accessibilityProvider=e}templateId="a18n";renderTemplate(e){return{container:e,disposables:new q}}renderElement(e,t,i){let o=this.accessibilityProvider.getAriaLabel(e),r=o&&typeof o!="string"?o:ms(o);i.disposables.add(gi(a=>{this.setAriaLabel(a.readObservable(r),i.container)}));let s=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(e);typeof s=="number"?i.container.setAttribute("aria-level",`${s}`):i.container.removeAttribute("aria-level")}setAriaLabel(e,t){e?t.setAttribute("aria-label",e):t.removeAttribute("aria-label")}disposeElement(e,t,i,o){i.disposables.clear()}disposeTemplate(e){e.disposables.dispose()}},Uh=class{constructor(e,t){this.list=e;this.dnd=t}getDragElements(e){let t=this.list.getSelectedElements();return t.indexOf(e)>-1?t:[e]}getDragURI(e){return this.dnd.getDragURI(e)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e,t)}onDragStart(e,t){this.dnd.onDragStart?.(e,t)}onDragOver(e,t,i,o,r){return this.dnd.onDragOver(e,t,i,o,r)}onDragLeave(e,t,i,o){this.dnd.onDragLeave?.(e,t,i,o)}onDragEnd(e){this.dnd.onDragEnd?.(e)}drop(e,t,i,o,r){this.dnd.drop(e,t,i,o,r)}dispose(){this.dnd.dispose()}},Tt=class{constructor(e,t,i,o,r=Cx){this.user=e;this._options=r;let s=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?this._options.accessibilityProvider?.getWidgetRole():"list";this.selection=new Rh(s!=="listbox");let a=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=r.accessibilityProvider,this.accessibilityProvider&&(a.push(new zh(this.accessibilityProvider)),this.accessibilityProvider.onDidChangeActiveDescendant?.(this.onDidChangeActiveDescendant,this,this.disposables)),o=o.map(d=>new Kh(d.templateId,[...a,d]));let l={...r,dnd:r.dnd&&new Uh(this,r.dnd)};if(this.view=this.createListView(t,i,o,l),this.view.domNode.setAttribute("role",s),r.styleController)this.styleController=r.styleController(this.view.domId);else{let d=Vt(this.view.domNode);this.styleController=new ld(d,this.view.domId)}if(this.spliceable=new nd([new Xs(this.focus,this.view,r.identityProvider),new Xs(this.selection,this.view,r.identityProvider),new Xs(this.anchor,this.view,r.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new Bh(this,this.view)),(typeof r.keyboardSupport!="boolean"||r.keyboardSupport)&&(this.keyboardController=new ad(this,this.view,r),this.disposables.add(this.keyboardController)),r.keyboardNavigationLabelProvider){let d=r.keyboardNavigationDelegate||Dx;this.typeNavigationController=new Ph(this,this.view,r.keyboardNavigationLabelProvider,r.keyboardNavigationEventFilter??(()=>!0),d),this.disposables.add(this.typeNavigationController)}this.mouseController=this.createMouseController(r),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),this._options.multipleSelectionSupport!==!1&&this.view.domNode.setAttribute("aria-multiselectable","true")}focus=new Dr("focused");selection;anchor=new Dr("anchor");eventBufferer=new fn;view;spliceable;styleController;typeNavigationController;accessibilityProvider;keyboardController;mouseController;_ariaLabel="";disposables=new q;get onDidChangeFocus(){return _.map(this.eventBufferer.wrapEvent(this.focus.onChange),e=>this.toListEvent(e),this.disposables)}get onDidChangeSelection(){return _.map(this.eventBufferer.wrapEvent(this.selection.onChange),e=>this.toListEvent(e),this.disposables)}get domId(){return this.view.domId}get onDidScroll(){return this.view.onDidScroll}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseUp(){return this.view.onMouseUp}get onMouseDown(){return this.view.onMouseDown}get onMouseOver(){return this.view.onMouseOver}get onMouseMove(){return this.view.onMouseMove}get onMouseOut(){return this.view.onMouseOut}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let e=!1,t=_.chain(this.disposables.add(new se(this.view.domNode,"keydown")).event,r=>r.map(s=>new Ne(s)).filter(s=>e=s.keyCode===58||s.shiftKey&&s.keyCode===68).map(s=>Re.stop(s,!0)).filter(()=>!1)),i=_.chain(this.disposables.add(new se(this.view.domNode,"keyup")).event,r=>r.forEach(()=>e=!1).map(s=>new Ne(s)).filter(s=>s.keyCode===58||s.shiftKey&&s.keyCode===68).map(s=>Re.stop(s,!0)).map(({browserEvent:s})=>{let a=this.getFocus(),l=a.length?a[0]:void 0,d=typeof l<"u"?this.view.element(l):void 0,u=typeof l<"u"?this.view.domElement(l):this.view.domNode;return{index:l,element:d,anchor:u,browserEvent:s}})),o=_.chain(this.view.onContextMenu,r=>r.filter(s=>!e).map(({element:s,index:a,browserEvent:l})=>({element:s,index:a,anchor:new Xt(de(this.view.domNode),l),browserEvent:l})));return _.any(t,i,o)}get onKeyDown(){return this.disposables.add(new se(this.view.domNode,"keydown")).event}get onKeyUp(){return this.disposables.add(new se(this.view.domNode,"keyup")).event}get onKeyPress(){return this.disposables.add(new se(this.view.domNode,"keypress")).event}get onDidFocus(){return _.signal(this.disposables.add(new se(this.view.domNode,"focus",!0)).event)}get onDidBlur(){return _.signal(this.disposables.add(new se(this.view.domNode,"blur",!0)).event)}_onDidDispose=new k;onDidDispose=this._onDidDispose.event;createListView(e,t,i,o){return new sd(e,t,i,o)}createMouseController(e){return new Js(this)}updateOptions(e={}){this._options={...this._options,...e},this.typeNavigationController?.updateOptions(this._options),this._options.multipleSelectionController!==void 0&&(this._options.multipleSelectionSupport?this.view.domNode.setAttribute("aria-multiselectable","true"):this.view.domNode.removeAttribute("aria-multiselectable")),this.mouseController.updateOptions(e),this.keyboardController?.updateOptions(e),this.view.updateOptions(e)}get options(){return this._options}splice(e,t,i=[]){if(e<0||e>this.view.length)throw new ei(this.user,`Invalid start index: ${e}`);if(t<0)throw new ei(this.user,`Invalid delete count: ${t}`);t===0&&i.length===0||this.eventBufferer.bufferEvents(()=>this.spliceable.splice(e,t,i))}updateWidth(e){this.view.updateWidth(e)}updateElementHeight(e,t){this.view.updateElementHeight(e,t,null)}rerender(){this.view.rerender()}element(e){return this.view.element(e)}indexOf(e){return this.view.indexOf(e)}indexAt(e){return this.view.indexAt(e)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get contentWidth(){return this.view.contentWidth}get onDidChangeContentHeight(){return this.view.onDidChangeContentHeight}get onDidChangeContentWidth(){return this.view.onDidChangeContentWidth}get scrollTop(){return this.view.getScrollTop()}set scrollTop(e){this.view.setScrollTop(e)}get scrollLeft(){return this.view.getScrollLeft()}set scrollLeft(e){this.view.setScrollLeft(e)}get scrollHeight(){return this.view.scrollHeight}get renderHeight(){return this.view.renderHeight}get firstVisibleIndex(){return this.view.firstVisibleIndex}get firstMostlyVisibleIndex(){return this.view.firstMostlyVisibleIndex}get lastVisibleIndex(){return this.view.lastVisibleIndex}get ariaLabel(){return this._ariaLabel}set ariaLabel(e){this._ariaLabel=e,this.view.domNode.setAttribute("aria-label",e)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(e,t){this.view.layout(e,t)}triggerTypeNavigation(){this.typeNavigationController?.trigger()}setSelection(e,t){for(let i of e)if(i<0||i>=this.length)throw new ei(this.user,`Invalid index ${i}`);this.selection.set(e,t)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map(e=>this.view.element(e))}setAnchor(e){if(typeof e>"u"){this.anchor.set([]);return}if(e<0||e>=this.length)throw new ei(this.user,`Invalid index ${e}`);this.anchor.set([e])}getAnchor(){return this.anchor.get().at(0)}getAnchorElement(){let e=this.getAnchor();return typeof e>"u"?void 0:this.element(e)}setFocus(e,t){for(let i of e)if(i<0||i>=this.length)throw new ei(this.user,`Invalid index ${i}`);this.focus.set(e,t)}focusNext(e=1,t=!1,i,o){if(this.length===0)return;let r=this.focus.get(),s=this.findNextIndex(r.length>0?r[0]+e:0,t,o);s>-1&&this.setFocus([s],i)}focusPrevious(e=1,t=!1,i,o){if(this.length===0)return;let r=this.focus.get(),s=this.findPreviousIndex(r.length>0?r[0]-e:0,t,o);s>-1&&this.setFocus([s],i)}async focusNextPage(e,t){let i=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);i=i===0?0:i-1;let o=this.getFocus()[0];if(o!==i&&(o===void 0||i>o)){let r=this.findPreviousIndex(i,!1,t);r>-1&&o!==r?this.setFocus([r],e):this.setFocus([i],e)}else{let r=this.view.getScrollTop(),s=r+this.view.renderHeight;i>o&&(s-=this.view.elementHeight(i)),this.view.setScrollTop(s),this.view.getScrollTop()!==r&&(this.setFocus([]),await Qi(0),await this.focusNextPage(e,t))}}async focusPreviousPage(e,t,i=()=>0){let o,r=i(),s=this.view.getScrollTop()+r;s===0?o=this.view.indexAt(s):o=this.view.indexAfter(s-1);let a=this.getFocus()[0];if(a!==o&&(a===void 0||a>=o)){let l=this.findNextIndex(o,!1,t);l>-1&&a!==l?this.setFocus([l],e):this.setFocus([o],e)}else{let l=s;this.view.setScrollTop(s-this.view.renderHeight-r),this.view.getScrollTop()+i()!==l&&(this.setFocus([]),await Qi(0),await this.focusPreviousPage(e,t,i))}}focusLast(e,t){if(this.length===0)return;let i=this.findPreviousIndex(this.length-1,!1,t);i>-1&&this.setFocus([i],e)}focusFirst(e,t){this.focusNth(0,e,t)}focusNth(e,t,i){if(this.length===0)return;let o=this.findNextIndex(e,!1,i);o>-1&&this.setFocus([o],t)}findNextIndex(e,t=!1,i){for(let o=0;o<this.length;o++){if(e>=this.length&&!t)return-1;if(e=e%this.length,!i||i(this.element(e)))return e;e++}return-1}findPreviousIndex(e,t=!1,i){for(let o=0;o<this.length;o++){if(e<0&&!t)return-1;if(e=(this.length+e%this.length)%this.length,!i||i(this.element(e)))return e;e--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map(e=>this.view.element(e))}reveal(e,t,i=0){if(e<0||e>=this.length)throw new ei(this.user,`Invalid index ${e}`);let o=this.view.getScrollTop(),r=this.view.elementTop(e),s=this.view.elementHeight(e);if(yi(t)){let a=s-this.view.renderHeight+i;this.view.setScrollTop(a*vt(t,0,1)+r-i)}else{let a=r+s,l=o+this.view.renderHeight;r<o+i&&a>=l||(r<o+i||a>=l&&s>=this.view.renderHeight?this.view.setScrollTop(r-i):a>=l&&this.view.setScrollTop(a-this.view.renderHeight))}}getRelativeTop(e,t=0){if(e<0||e>=this.length)throw new ei(this.user,`Invalid index ${e}`);let i=this.view.getScrollTop(),o=this.view.elementTop(e),r=this.view.elementHeight(e);if(o<i+t||o+r>i+this.view.renderHeight)return null;let s=r-this.view.renderHeight+t;return Math.abs((i+t-o)/s)}isDOMFocused(){return Jt(this.view.domNode)}getHTMLElement(){return this.view.domNode}getScrollableElement(){return this.view.scrollableElementDomNode}getElementID(e){return this.view.getElementDomId(e)}getElementTop(e){return this.view.elementTop(e)}style(e){this.styleController.style(e)}toListEvent({indexes:e,browserEvent:t}){return{indexes:e,elements:e.map(i=>this.view.element(i)),browserEvent:t}}_onFocusChange(){let e=this.focus.get();this.view.domNode.classList.toggle("element-focused",e.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){let e=this.focus.get();if(e.length>0){let t;this.accessibilityProvider?.getActiveDescendantId&&(t=this.accessibilityProvider.getActiveDescendantId(this.view.element(e[0]))),this.view.domNode.setAttribute("aria-activedescendant",t||this.view.getElementDomId(e[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){let e=this.selection.get();this.view.domNode.classList.toggle("selection-none",e.length===0),this.view.domNode.classList.toggle("selection-single",e.length===1),this.view.domNode.classList.toggle("selection-multiple",e.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}};ie([ke],Tt.prototype,"onDidChangeFocus",1),ie([ke],Tt.prototype,"onDidChangeSelection",1),ie([ke],Tt.prototype,"onContextMenu",1),ie([ke],Tt.prototype,"onKeyDown",1),ie([ke],Tt.prototype,"onKeyUp",1),ie([ke],Tt.prototype,"onKeyPress",1),ie([ke],Tt.prototype,"onDidFocus",1),ie([ke],Tt.prototype,"onDidBlur",1);var Mx=new RegExp(`(\\\\)?\\$\\((${Ie.iconNameExpression}(?:${Ie.iconModifierExpression})?)\\)`,"g");function ti(n){let e=new Array,t,i=0,o=0;for(;(t=Mx.exec(n))!==null;){o=t.index||0,i<o&&e.push(n.substring(i,o)),i=(t.index||0)+t[0].length;let[,r,s]=t;e.push(r?`$(${s})`:Nx({id:s}))}return i<n.length&&e.push(n.substring(i)),e}function Nx(n){let e=ee("span");return e.classList.add(...Ie.asClassNameArray(n)),e}var ea=class{_prefix;_lastId;constructor(e){this._prefix=e,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}},$h=new ea("id#");var It={};(function(){function n(e,t){t(It)}n.amd=!0,function(e,t){typeof n=="function"&&n.amd?n(["exports"],t):typeof exports=="object"&&typeof module<"u"?t(exports):(e=typeof globalThis<"u"?globalThis:e||self,t(e.marked={}))}(this,function(e){"use strict";function t(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}e.defaults=t();function i(ue){e.defaults=ue}let o=/[&<>"']/,r=new RegExp(o.source,"g"),s=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,a=new RegExp(s.source,"g"),l={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},d=ue=>l[ue];function u(ue,g){if(g){if(o.test(ue))return ue.replace(r,d)}else if(s.test(ue))return ue.replace(a,d);return ue}let h=/(^|[^\[])\^/g;function m(ue,g){let b=typeof ue=="string"?ue:ue.source;g=g||"";let v={replace:(I,S)=>{let D=typeof S=="string"?S:S.source;return D=D.replace(h,"$1"),b=b.replace(I,D),v},getRegex:()=>new RegExp(b,g)};return v}function y(ue){try{ue=encodeURI(ue).replace(/%25/g,"%")}catch{return null}return ue}let w={exec:()=>null};function f(ue,g){let b=ue.replace(/\|/g,(S,D,M)=>{let W=!1,j=D;for(;--j>=0&&M[j]==="\\";)W=!W;return W?"|":" |"}),v=b.split(/ \|/),I=0;if(v[0].trim()||v.shift(),v.length>0&&!v[v.length-1].trim()&&v.pop(),g)if(v.length>g)v.splice(g);else for(;v.length<g;)v.push("");for(;I<v.length;I++)v[I]=v[I].trim().replace(/\\\|/g,"|");return v}function x(ue,g,b){let v=ue.length;if(v===0)return"";let I=0;for(;I<v;){let S=ue.charAt(v-I-1);if(S===g&&!b)I++;else if(S!==g&&b)I++;else break}return ue.slice(0,v-I)}function L(ue,g){if(ue.indexOf(g[1])===-1)return-1;let b=0;for(let v=0;v<ue.length;v++)if(ue[v]==="\\")v++;else if(ue[v]===g[0])b++;else if(ue[v]===g[1]&&(b--,b<0))return v;return-1}function C(ue,g,b,v){let I=g.href,S=g.title?u(g.title):null,D=ue[1].replace(/\\([\[\]])/g,"$1");if(ue[0].charAt(0)!=="!"){v.state.inLink=!0;let M={type:"link",raw:b,href:I,title:S,text:D,tokens:v.inlineTokens(D)};return v.state.inLink=!1,M}return{type:"image",raw:b,href:I,title:S,text:u(D)}}function H(ue,g){let b=ue.match(/^(\s+)(?:```)/);if(b===null)return g;let v=b[1];return g.split(`
`).map(I=>{let S=I.match(/^\s+/);if(S===null)return I;let[D]=S;return D.length>=v.length?I.slice(v.length):I}).join(`
`)}class P{options;rules;lexer;constructor(g){this.options=g||e.defaults}space(g){let b=this.rules.block.newline.exec(g);if(b&&b[0].length>0)return{type:"space",raw:b[0]}}code(g){let b=this.rules.block.code.exec(g);if(b){let v=b[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:b[0],codeBlockStyle:"indented",text:this.options.pedantic?v:x(v,`
`)}}}fences(g){let b=this.rules.block.fences.exec(g);if(b){let v=b[0],I=H(v,b[3]||"");return{type:"code",raw:v,lang:b[2]?b[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):b[2],text:I}}}heading(g){let b=this.rules.block.heading.exec(g);if(b){let v=b[2].trim();if(/#$/.test(v)){let I=x(v,"#");(this.options.pedantic||!I||/ $/.test(I))&&(v=I.trim())}return{type:"heading",raw:b[0],depth:b[1].length,text:v,tokens:this.lexer.inline(v)}}}hr(g){let b=this.rules.block.hr.exec(g);if(b)return{type:"hr",raw:x(b[0],`
`)}}blockquote(g){let b=this.rules.block.blockquote.exec(g);if(b){let v=x(b[0],`
`).split(`
`),I="",S="",D=[];for(;v.length>0;){let M=!1,W=[],j;for(j=0;j<v.length;j++)if(/^ {0,3}>/.test(v[j]))W.push(v[j]),M=!0;else if(!M)W.push(v[j]);else break;v=v.slice(j);let he=W.join(`
`),De=he.replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,`
    $1`).replace(/^ {0,3}>[ \t]?/gm,"");I=I?`${I}
${he}`:he,S=S?`${S}
${De}`:De;let Ke=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(De,D,!0),this.lexer.state.top=Ke,v.length===0)break;let nt=D[D.length-1];if(nt?.type==="code")break;if(nt?.type==="blockquote"){let We=nt,te=We.raw+`
`+v.join(`
`),E=this.blockquote(te);D[D.length-1]=E,I=I.substring(0,I.length-We.raw.length)+E.raw,S=S.substring(0,S.length-We.text.length)+E.text;break}else if(nt?.type==="list"){let We=nt,te=We.raw+`
`+v.join(`
`),E=this.list(te);D[D.length-1]=E,I=I.substring(0,I.length-nt.raw.length)+E.raw,S=S.substring(0,S.length-We.raw.length)+E.raw,v=te.substring(D[D.length-1].raw.length).split(`
`);continue}}return{type:"blockquote",raw:I,tokens:D,text:S}}}list(g){let b=this.rules.block.list.exec(g);if(b){let v=b[1].trim(),I=v.length>1,S={type:"list",raw:"",ordered:I,start:I?+v.slice(0,-1):"",loose:!1,items:[]};v=I?`\\d{1,9}\\${v.slice(-1)}`:`\\${v}`,this.options.pedantic&&(v=I?v:"[*+-]");let D=new RegExp(`^( {0,3}${v})((?:[	 ][^\\n]*)?(?:\\n|$))`),M=!1;for(;g;){let W=!1,j="",he="";if(!(b=D.exec(g))||this.rules.block.hr.test(g))break;j=b[0],g=g.substring(j.length);let De=b[2].split(`
`,1)[0].replace(/^\t+/,U=>" ".repeat(3*U.length)),Ke=g.split(`
`,1)[0],nt=!De.trim(),We=0;if(this.options.pedantic?(We=2,he=De.trimStart()):nt?We=b[1].length+1:(We=b[2].search(/[^ ]/),We=We>4?1:We,he=De.slice(We),We+=b[1].length),nt&&/^ *$/.test(Ke)&&(j+=Ke+`
`,g=g.substring(Ke.length+1),W=!0),!W){let U=new RegExp(`^ {0,${Math.min(3,We-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),J=new RegExp(`^ {0,${Math.min(3,We-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),He=new RegExp(`^ {0,${Math.min(3,We-1)}}(?:\`\`\`|~~~)`),st=new RegExp(`^ {0,${Math.min(3,We-1)}}#`);for(;g;){let Nt=g.split(`
`,1)[0];if(Ke=Nt,this.options.pedantic&&(Ke=Ke.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),He.test(Ke)||st.test(Ke)||U.test(Ke)||J.test(g))break;if(Ke.search(/[^ ]/)>=We||!Ke.trim())he+=`
`+Ke.slice(We);else{if(nt||De.search(/[^ ]/)>=4||He.test(De)||st.test(De)||J.test(De))break;he+=`
`+Ke}!nt&&!Ke.trim()&&(nt=!0),j+=Nt+`
`,g=g.substring(Nt.length+1),De=Ke.slice(We)}}S.loose||(M?S.loose=!0:/\n *\n *$/.test(j)&&(M=!0));let te=null,E;this.options.gfm&&(te=/^\[[ xX]\] /.exec(he),te&&(E=te[0]!=="[ ] ",he=he.replace(/^\[[ xX]\] +/,""))),S.items.push({type:"list_item",raw:j,task:!!te,checked:E,loose:!1,text:he,tokens:[]}),S.raw+=j}S.items[S.items.length-1].raw=S.items[S.items.length-1].raw.trimEnd(),S.items[S.items.length-1].text=S.items[S.items.length-1].text.trimEnd(),S.raw=S.raw.trimEnd();for(let W=0;W<S.items.length;W++)if(this.lexer.state.top=!1,S.items[W].tokens=this.lexer.blockTokens(S.items[W].text,[]),!S.loose){let j=S.items[W].tokens.filter(De=>De.type==="space"),he=j.length>0&&j.some(De=>/\n.*\n/.test(De.raw));S.loose=he}if(S.loose)for(let W=0;W<S.items.length;W++)S.items[W].loose=!0;return S}}html(g){let b=this.rules.block.html.exec(g);if(b)return{type:"html",block:!0,raw:b[0],pre:b[1]==="pre"||b[1]==="script"||b[1]==="style",text:b[0]}}def(g){let b=this.rules.block.def.exec(g);if(b){let v=b[1].toLowerCase().replace(/\s+/g," "),I=b[2]?b[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",S=b[3]?b[3].substring(1,b[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):b[3];return{type:"def",tag:v,raw:b[0],href:I,title:S}}}table(g){let b=this.rules.block.table.exec(g);if(!b||!/[:|]/.test(b[2]))return;let v=f(b[1]),I=b[2].replace(/^\||\| *$/g,"").split("|"),S=b[3]&&b[3].trim()?b[3].replace(/\n[ \t]*$/,"").split(`
`):[],D={type:"table",raw:b[0],header:[],align:[],rows:[]};if(v.length===I.length){for(let M of I)/^ *-+: *$/.test(M)?D.align.push("right"):/^ *:-+: *$/.test(M)?D.align.push("center"):/^ *:-+ *$/.test(M)?D.align.push("left"):D.align.push(null);for(let M=0;M<v.length;M++)D.header.push({text:v[M],tokens:this.lexer.inline(v[M]),header:!0,align:D.align[M]});for(let M of S)D.rows.push(f(M,D.header.length).map((W,j)=>({text:W,tokens:this.lexer.inline(W),header:!1,align:D.align[j]})));return D}}lheading(g){let b=this.rules.block.lheading.exec(g);if(b)return{type:"heading",raw:b[0],depth:b[2].charAt(0)==="="?1:2,text:b[1],tokens:this.lexer.inline(b[1])}}paragraph(g){let b=this.rules.block.paragraph.exec(g);if(b){let v=b[1].charAt(b[1].length-1)===`
`?b[1].slice(0,-1):b[1];return{type:"paragraph",raw:b[0],text:v,tokens:this.lexer.inline(v)}}}text(g){let b=this.rules.block.text.exec(g);if(b)return{type:"text",raw:b[0],text:b[0],tokens:this.lexer.inline(b[0])}}escape(g){let b=this.rules.inline.escape.exec(g);if(b)return{type:"escape",raw:b[0],text:u(b[1])}}tag(g){let b=this.rules.inline.tag.exec(g);if(b)return!this.lexer.state.inLink&&/^<a /i.test(b[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(b[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(b[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(b[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:b[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:b[0]}}link(g){let b=this.rules.inline.link.exec(g);if(b){let v=b[2].trim();if(!this.options.pedantic&&/^</.test(v)){if(!/>$/.test(v))return;let D=x(v.slice(0,-1),"\\");if((v.length-D.length)%2===0)return}else{let D=L(b[2],"()");if(D>-1){let W=(b[0].indexOf("!")===0?5:4)+b[1].length+D;b[2]=b[2].substring(0,D),b[0]=b[0].substring(0,W).trim(),b[3]=""}}let I=b[2],S="";if(this.options.pedantic){let D=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(I);D&&(I=D[1],S=D[3])}else S=b[3]?b[3].slice(1,-1):"";return I=I.trim(),/^</.test(I)&&(this.options.pedantic&&!/>$/.test(v)?I=I.slice(1):I=I.slice(1,-1)),C(b,{href:I&&I.replace(this.rules.inline.anyPunctuation,"$1"),title:S&&S.replace(this.rules.inline.anyPunctuation,"$1")},b[0],this.lexer)}}reflink(g,b){let v;if((v=this.rules.inline.reflink.exec(g))||(v=this.rules.inline.nolink.exec(g))){let I=(v[2]||v[1]).replace(/\s+/g," "),S=b[I.toLowerCase()];if(!S){let D=v[0].charAt(0);return{type:"text",raw:D,text:D}}return C(v,S,v[0],this.lexer)}}emStrong(g,b,v=""){let I=this.rules.inline.emStrongLDelim.exec(g);if(!I||I[3]&&v.match(/[\p{L}\p{N}]/u))return;if(!(I[1]||I[2]||"")||!v||this.rules.inline.punctuation.exec(v)){let D=[...I[0]].length-1,M,W,j=D,he=0,De=I[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(De.lastIndex=0,b=b.slice(-1*g.length+D);(I=De.exec(b))!=null;){if(M=I[1]||I[2]||I[3]||I[4]||I[5]||I[6],!M)continue;if(W=[...M].length,I[3]||I[4]){j+=W;continue}else if((I[5]||I[6])&&D%3&&!((D+W)%3)){he+=W;continue}if(j-=W,j>0)continue;W=Math.min(W,W+j+he);let Ke=[...I[0]][0].length,nt=g.slice(0,D+I.index+Ke+W);if(Math.min(D,W)%2){let te=nt.slice(1,-1);return{type:"em",raw:nt,text:te,tokens:this.lexer.inlineTokens(te)}}let We=nt.slice(2,-2);return{type:"strong",raw:nt,text:We,tokens:this.lexer.inlineTokens(We)}}}}codespan(g){let b=this.rules.inline.code.exec(g);if(b){let v=b[2].replace(/\n/g," "),I=/[^ ]/.test(v),S=/^ /.test(v)&&/ $/.test(v);return I&&S&&(v=v.substring(1,v.length-1)),v=u(v,!0),{type:"codespan",raw:b[0],text:v}}}br(g){let b=this.rules.inline.br.exec(g);if(b)return{type:"br",raw:b[0]}}del(g){let b=this.rules.inline.del.exec(g);if(b)return{type:"del",raw:b[0],text:b[2],tokens:this.lexer.inlineTokens(b[2])}}autolink(g){let b=this.rules.inline.autolink.exec(g);if(b){let v,I;return b[2]==="@"?(v=u(b[1]),I="mailto:"+v):(v=u(b[1]),I=v),{type:"link",raw:b[0],text:v,href:I,tokens:[{type:"text",raw:v,text:v}]}}}url(g){let b;if(b=this.rules.inline.url.exec(g)){let v,I;if(b[2]==="@")v=u(b[0]),I="mailto:"+v;else{let S;do S=b[0],b[0]=this.rules.inline._backpedal.exec(b[0])?.[0]??"";while(S!==b[0]);v=u(b[0]),b[1]==="www."?I="http://"+b[0]:I=b[0]}return{type:"link",raw:b[0],text:v,href:I,tokens:[{type:"text",raw:v,text:v}]}}}inlineText(g){let b=this.rules.inline.text.exec(g);if(b){let v;return this.lexer.state.inRawBlock?v=b[0]:v=u(b[0]),{type:"text",raw:b[0],text:v}}}}let A=/^(?: *(?:\n|$))+/,z=/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,K=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,F=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,ne=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,ve=/(?:[*+-]|\d{1,9}[.)])/,me=m(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,ve).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),ae=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,Ve=/^[^\n]+/,Mt=/(?!\s*\])(?:\\.|[^\[\]\\])+/,R=m(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",Mt).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),B=m(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,ve).getRegex(),Q="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Y=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,X=m("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",Y).replace("tag",Q).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),fe=m(ae).replace("hr",F).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Q).getRegex(),Ge={blockquote:m(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",fe).getRegex(),code:z,def:R,fences:K,heading:ne,hr:F,html:X,lheading:me,list:B,newline:A,paragraph:fe,table:w,text:Ve},Te=m("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",F).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Q).getRegex(),le={...Ge,table:Te,paragraph:m(ae).replace("hr",F).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Te).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Q).getRegex()},Pn={...Ge,html:m(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Y).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:w,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:m(ae).replace("hr",F).replace("heading",` *#{1,6} *[^
]`).replace("lheading",me).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Tn=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Ci=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,Bn=/^( {2,}|\\)\n(?!\s*$)/,Zo=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,$t="\\p{P}\\p{S}",ai=m(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,$t).getRegex(),es=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,ts=m(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,$t).getRegex(),Li=m("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,$t).getRegex(),er=m("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,$t).getRegex(),tr=m(/\\([punct])/,"gu").replace(/punct/g,$t).getRegex(),Ea=m(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),ka=m(Y).replace("(?:-->|$)","-->").getRegex(),Rc=m("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",ka).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Ai=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,go=m(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",Ai).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),li=m(/^!?\[(label)\]\[(ref)\]/).replace("label",Ai).replace("ref",Mt).getRegex(),di=m(/^!?\[(ref)\](?:\[\])?/).replace("ref",Mt).getRegex(),Da=m("reflink|nolink(?!\\()","g").replace("reflink",li).replace("nolink",di).getRegex(),nr={_backpedal:w,anyPunctuation:tr,autolink:Ea,blockSkip:es,br:Bn,code:Ci,del:w,emStrongLDelim:ts,emStrongRDelimAst:Li,emStrongRDelimUnd:er,escape:Tn,link:go,nolink:di,punctuation:ai,reflink:li,reflinkSearch:Da,tag:Rc,text:Zo,url:w},_a={...nr,link:m(/^!?\[(label)\]\((.*?)\)/).replace("label",Ai).getRegex(),reflink:m(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Ai).getRegex()},bo={...nr,escape:m(Tn).replace("])","~|])").getRegex(),url:m(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},Ca={...bo,br:m(Bn).replace("{2,}","*").getRegex(),text:m(bo.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},ci={normal:Ge,gfm:le,pedantic:Pn},Hn={normal:nr,gfm:bo,breaks:Ca,pedantic:_a};class rt{tokens;options;state;tokenizer;inlineQueue;constructor(g){this.tokens=[],this.tokens.links=Object.create(null),this.options=g||e.defaults,this.options.tokenizer=this.options.tokenizer||new P,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let b={block:ci.normal,inline:Hn.normal};this.options.pedantic?(b.block=ci.pedantic,b.inline=Hn.pedantic):this.options.gfm&&(b.block=ci.gfm,this.options.breaks?b.inline=Hn.breaks:b.inline=Hn.gfm),this.tokenizer.rules=b}static get rules(){return{block:ci,inline:Hn}}static lex(g,b){return new rt(b).lex(g)}static lexInline(g,b){return new rt(b).inlineTokens(g)}lex(g){g=g.replace(/\r\n|\r/g,`
`),this.blockTokens(g,this.tokens);for(let b=0;b<this.inlineQueue.length;b++){let v=this.inlineQueue[b];this.inlineTokens(v.src,v.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(g,b=[],v=!1){this.options.pedantic?g=g.replace(/\t/g,"    ").replace(/^ +$/gm,""):g=g.replace(/^( *)(\t+)/gm,(M,W,j)=>W+"    ".repeat(j.length));let I,S,D;for(;g;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(M=>(I=M.call({lexer:this},g,b))?(g=g.substring(I.raw.length),b.push(I),!0):!1))){if(I=this.tokenizer.space(g)){g=g.substring(I.raw.length),I.raw.length===1&&b.length>0?b[b.length-1].raw+=`
`:b.push(I);continue}if(I=this.tokenizer.code(g)){g=g.substring(I.raw.length),S=b[b.length-1],S&&(S.type==="paragraph"||S.type==="text")?(S.raw+=`
`+I.raw,S.text+=`
`+I.text,this.inlineQueue[this.inlineQueue.length-1].src=S.text):b.push(I);continue}if(I=this.tokenizer.fences(g)){g=g.substring(I.raw.length),b.push(I);continue}if(I=this.tokenizer.heading(g)){g=g.substring(I.raw.length),b.push(I);continue}if(I=this.tokenizer.hr(g)){g=g.substring(I.raw.length),b.push(I);continue}if(I=this.tokenizer.blockquote(g)){g=g.substring(I.raw.length),b.push(I);continue}if(I=this.tokenizer.list(g)){g=g.substring(I.raw.length),b.push(I);continue}if(I=this.tokenizer.html(g)){g=g.substring(I.raw.length),b.push(I);continue}if(I=this.tokenizer.def(g)){g=g.substring(I.raw.length),S=b[b.length-1],S&&(S.type==="paragraph"||S.type==="text")?(S.raw+=`
`+I.raw,S.text+=`
`+I.raw,this.inlineQueue[this.inlineQueue.length-1].src=S.text):this.tokens.links[I.tag]||(this.tokens.links[I.tag]={href:I.href,title:I.title});continue}if(I=this.tokenizer.table(g)){g=g.substring(I.raw.length),b.push(I);continue}if(I=this.tokenizer.lheading(g)){g=g.substring(I.raw.length),b.push(I);continue}if(D=g,this.options.extensions&&this.options.extensions.startBlock){let M=1/0,W=g.slice(1),j;this.options.extensions.startBlock.forEach(he=>{j=he.call({lexer:this},W),typeof j=="number"&&j>=0&&(M=Math.min(M,j))}),M<1/0&&M>=0&&(D=g.substring(0,M+1))}if(this.state.top&&(I=this.tokenizer.paragraph(D))){S=b[b.length-1],v&&S?.type==="paragraph"?(S.raw+=`
`+I.raw,S.text+=`
`+I.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=S.text):b.push(I),v=D.length!==g.length,g=g.substring(I.raw.length);continue}if(I=this.tokenizer.text(g)){g=g.substring(I.raw.length),S=b[b.length-1],S&&S.type==="text"?(S.raw+=`
`+I.raw,S.text+=`
`+I.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=S.text):b.push(I);continue}if(g){let M="Infinite loop on byte: "+g.charCodeAt(0);if(this.options.silent){console.error(M);break}else throw new Error(M)}}return this.state.top=!0,b}inline(g,b=[]){return this.inlineQueue.push({src:g,tokens:b}),b}inlineTokens(g,b=[]){let v,I,S,D=g,M,W,j;if(this.tokens.links){let he=Object.keys(this.tokens.links);if(he.length>0)for(;(M=this.tokenizer.rules.inline.reflinkSearch.exec(D))!=null;)he.includes(M[0].slice(M[0].lastIndexOf("[")+1,-1))&&(D=D.slice(0,M.index)+"["+"a".repeat(M[0].length-2)+"]"+D.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(M=this.tokenizer.rules.inline.blockSkip.exec(D))!=null;)D=D.slice(0,M.index)+"["+"a".repeat(M[0].length-2)+"]"+D.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(M=this.tokenizer.rules.inline.anyPunctuation.exec(D))!=null;)D=D.slice(0,M.index)+"++"+D.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;g;)if(W||(j=""),W=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(he=>(v=he.call({lexer:this},g,b))?(g=g.substring(v.raw.length),b.push(v),!0):!1))){if(v=this.tokenizer.escape(g)){g=g.substring(v.raw.length),b.push(v);continue}if(v=this.tokenizer.tag(g)){g=g.substring(v.raw.length),I=b[b.length-1],I&&v.type==="text"&&I.type==="text"?(I.raw+=v.raw,I.text+=v.text):b.push(v);continue}if(v=this.tokenizer.link(g)){g=g.substring(v.raw.length),b.push(v);continue}if(v=this.tokenizer.reflink(g,this.tokens.links)){g=g.substring(v.raw.length),I=b[b.length-1],I&&v.type==="text"&&I.type==="text"?(I.raw+=v.raw,I.text+=v.text):b.push(v);continue}if(v=this.tokenizer.emStrong(g,D,j)){g=g.substring(v.raw.length),b.push(v);continue}if(v=this.tokenizer.codespan(g)){g=g.substring(v.raw.length),b.push(v);continue}if(v=this.tokenizer.br(g)){g=g.substring(v.raw.length),b.push(v);continue}if(v=this.tokenizer.del(g)){g=g.substring(v.raw.length),b.push(v);continue}if(v=this.tokenizer.autolink(g)){g=g.substring(v.raw.length),b.push(v);continue}if(!this.state.inLink&&(v=this.tokenizer.url(g))){g=g.substring(v.raw.length),b.push(v);continue}if(S=g,this.options.extensions&&this.options.extensions.startInline){let he=1/0,De=g.slice(1),Ke;this.options.extensions.startInline.forEach(nt=>{Ke=nt.call({lexer:this},De),typeof Ke=="number"&&Ke>=0&&(he=Math.min(he,Ke))}),he<1/0&&he>=0&&(S=g.substring(0,he+1))}if(v=this.tokenizer.inlineText(S)){g=g.substring(v.raw.length),v.raw.slice(-1)!=="_"&&(j=v.raw.slice(-1)),W=!0,I=b[b.length-1],I&&I.type==="text"?(I.raw+=v.raw,I.text+=v.text):b.push(v);continue}if(g){let he="Infinite loop on byte: "+g.charCodeAt(0);if(this.options.silent){console.error(he);break}else throw new Error(he)}}return b}}class hn{options;parser;constructor(g){this.options=g||e.defaults}space(g){return""}code({text:g,lang:b,escaped:v}){let I=(b||"").match(/^\S*/)?.[0],S=g.replace(/\n$/,"")+`
`;return I?'<pre><code class="language-'+u(I)+'">'+(v?S:u(S,!0))+`</code></pre>
`:"<pre><code>"+(v?S:u(S,!0))+`</code></pre>
`}blockquote({tokens:g}){return`<blockquote>
${this.parser.parse(g)}</blockquote>
`}html({text:g}){return g}heading({tokens:g,depth:b}){return`<h${b}>${this.parser.parseInline(g)}</h${b}>
`}hr(g){return`<hr>
`}list(g){let b=g.ordered,v=g.start,I="";for(let M=0;M<g.items.length;M++){let W=g.items[M];I+=this.listitem(W)}let S=b?"ol":"ul",D=b&&v!==1?' start="'+v+'"':"";return"<"+S+D+`>
`+I+"</"+S+`>
`}listitem(g){let b="";if(g.task){let v=this.checkbox({checked:!!g.checked});g.loose?g.tokens.length>0&&g.tokens[0].type==="paragraph"?(g.tokens[0].text=v+" "+g.tokens[0].text,g.tokens[0].tokens&&g.tokens[0].tokens.length>0&&g.tokens[0].tokens[0].type==="text"&&(g.tokens[0].tokens[0].text=v+" "+g.tokens[0].tokens[0].text)):g.tokens.unshift({type:"text",raw:v+" ",text:v+" "}):b+=v+" "}return b+=this.parser.parse(g.tokens,!!g.loose),`<li>${b}</li>
`}checkbox({checked:g}){return"<input "+(g?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:g}){return`<p>${this.parser.parseInline(g)}</p>
`}table(g){let b="",v="";for(let S=0;S<g.header.length;S++)v+=this.tablecell(g.header[S]);b+=this.tablerow({text:v});let I="";for(let S=0;S<g.rows.length;S++){let D=g.rows[S];v="";for(let M=0;M<D.length;M++)v+=this.tablecell(D[M]);I+=this.tablerow({text:v})}return I&&(I=`<tbody>${I}</tbody>`),`<table>
<thead>
`+b+`</thead>
`+I+`</table>
`}tablerow({text:g}){return`<tr>
${g}</tr>
`}tablecell(g){let b=this.parser.parseInline(g.tokens),v=g.header?"th":"td";return(g.align?`<${v} align="${g.align}">`:`<${v}>`)+b+`</${v}>
`}strong({tokens:g}){return`<strong>${this.parser.parseInline(g)}</strong>`}em({tokens:g}){return`<em>${this.parser.parseInline(g)}</em>`}codespan({text:g}){return`<code>${g}</code>`}br(g){return"<br>"}del({tokens:g}){return`<del>${this.parser.parseInline(g)}</del>`}link({href:g,title:b,tokens:v}){let I=this.parser.parseInline(v),S=y(g);if(S===null)return I;g=S;let D='<a href="'+g+'"';return b&&(D+=' title="'+b+'"'),D+=">"+I+"</a>",D}image({href:g,title:b,text:v}){let I=y(g);if(I===null)return v;g=I;let S=`<img src="${g}" alt="${v}"`;return b&&(S+=` title="${b}"`),S+=">",S}text(g){return"tokens"in g&&g.tokens?this.parser.parseInline(g.tokens):g.text}}class Mi{strong({text:g}){return g}em({text:g}){return g}codespan({text:g}){return g}del({text:g}){return g}html({text:g}){return g}text({text:g}){return g}link({text:g}){return""+g}image({text:g}){return""+g}br(){return""}}class Bt{options;renderer;textRenderer;constructor(g){this.options=g||e.defaults,this.options.renderer=this.options.renderer||new hn,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Mi}static parse(g,b){return new Bt(b).parse(g)}static parseInline(g,b){return new Bt(b).parseInline(g)}parse(g,b=!0){let v="";for(let I=0;I<g.length;I++){let S=g[I];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[S.type]){let M=S,W=this.options.extensions.renderers[M.type].call({parser:this},M);if(W!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(M.type)){v+=W||"";continue}}let D=S;switch(D.type){case"space":{v+=this.renderer.space(D);continue}case"hr":{v+=this.renderer.hr(D);continue}case"heading":{v+=this.renderer.heading(D);continue}case"code":{v+=this.renderer.code(D);continue}case"table":{v+=this.renderer.table(D);continue}case"blockquote":{v+=this.renderer.blockquote(D);continue}case"list":{v+=this.renderer.list(D);continue}case"html":{v+=this.renderer.html(D);continue}case"paragraph":{v+=this.renderer.paragraph(D);continue}case"text":{let M=D,W=this.renderer.text(M);for(;I+1<g.length&&g[I+1].type==="text";)M=g[++I],W+=`
`+this.renderer.text(M);b?v+=this.renderer.paragraph({type:"paragraph",raw:W,text:W,tokens:[{type:"text",raw:W,text:W}]}):v+=W;continue}default:{let M='Token with "'+D.type+'" type was not found.';if(this.options.silent)return console.error(M),"";throw new Error(M)}}}return v}parseInline(g,b){b=b||this.renderer;let v="";for(let I=0;I<g.length;I++){let S=g[I];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[S.type]){let M=this.options.extensions.renderers[S.type].call({parser:this},S);if(M!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(S.type)){v+=M||"";continue}}let D=S;switch(D.type){case"escape":{v+=b.text(D);break}case"html":{v+=b.html(D);break}case"link":{v+=b.link(D);break}case"image":{v+=b.image(D);break}case"strong":{v+=b.strong(D);break}case"em":{v+=b.em(D);break}case"codespan":{v+=b.codespan(D);break}case"br":{v+=b.br(D);break}case"del":{v+=b.del(D);break}case"text":{v+=b.text(D);break}default:{let M='Token with "'+D.type+'" type was not found.';if(this.options.silent)return console.error(M),"";throw new Error(M)}}}return v}}class vo{options;constructor(g){this.options=g||e.defaults}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(g){return g}postprocess(g){return g}processAllTokens(g){return g}}class Kn{defaults=t();options=this.setOptions;parse=this.parseMarkdown(rt.lex,Bt.parse);parseInline=this.parseMarkdown(rt.lexInline,Bt.parseInline);Parser=Bt;Renderer=hn;TextRenderer=Mi;Lexer=rt;Tokenizer=P;Hooks=vo;constructor(...g){this.use(...g)}walkTokens(g,b){let v=[];for(let I of g)switch(v=v.concat(b.call(this,I)),I.type){case"table":{let S=I;for(let D of S.header)v=v.concat(this.walkTokens(D.tokens,b));for(let D of S.rows)for(let M of D)v=v.concat(this.walkTokens(M.tokens,b));break}case"list":{let S=I;v=v.concat(this.walkTokens(S.items,b));break}default:{let S=I;this.defaults.extensions?.childTokens?.[S.type]?this.defaults.extensions.childTokens[S.type].forEach(D=>{let M=S[D].flat(1/0);v=v.concat(this.walkTokens(M,b))}):S.tokens&&(v=v.concat(this.walkTokens(S.tokens,b)))}}return v}use(...g){let b=this.defaults.extensions||{renderers:{},childTokens:{}};return g.forEach(v=>{let I={...v};if(I.async=this.defaults.async||I.async||!1,v.extensions&&(v.extensions.forEach(S=>{if(!S.name)throw new Error("extension name required");if("renderer"in S){let D=b.renderers[S.name];D?b.renderers[S.name]=function(...M){let W=S.renderer.apply(this,M);return W===!1&&(W=D.apply(this,M)),W}:b.renderers[S.name]=S.renderer}if("tokenizer"in S){if(!S.level||S.level!=="block"&&S.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let D=b[S.level];D?D.unshift(S.tokenizer):b[S.level]=[S.tokenizer],S.start&&(S.level==="block"?b.startBlock?b.startBlock.push(S.start):b.startBlock=[S.start]:S.level==="inline"&&(b.startInline?b.startInline.push(S.start):b.startInline=[S.start]))}"childTokens"in S&&S.childTokens&&(b.childTokens[S.name]=S.childTokens)}),I.extensions=b),v.renderer){let S=this.defaults.renderer||new hn(this.defaults);for(let D in v.renderer){if(!(D in S))throw new Error(`renderer '${D}' does not exist`);if(["options","parser"].includes(D))continue;let M=D,W=v.renderer[M],j=S[M];S[M]=(...he)=>{let De=W.apply(S,he);return De===!1&&(De=j.apply(S,he)),De||""}}I.renderer=S}if(v.tokenizer){let S=this.defaults.tokenizer||new P(this.defaults);for(let D in v.tokenizer){if(!(D in S))throw new Error(`tokenizer '${D}' does not exist`);if(["options","rules","lexer"].includes(D))continue;let M=D,W=v.tokenizer[M],j=S[M];S[M]=(...he)=>{let De=W.apply(S,he);return De===!1&&(De=j.apply(S,he)),De}}I.tokenizer=S}if(v.hooks){let S=this.defaults.hooks||new vo;for(let D in v.hooks){if(!(D in S))throw new Error(`hook '${D}' does not exist`);if(D==="options")continue;let M=D,W=v.hooks[M],j=S[M];vo.passThroughHooks.has(D)?S[M]=he=>{if(this.defaults.async)return Promise.resolve(W.call(S,he)).then(Ke=>j.call(S,Ke));let De=W.call(S,he);return j.call(S,De)}:S[M]=(...he)=>{let De=W.apply(S,he);return De===!1&&(De=j.apply(S,he)),De}}I.hooks=S}if(v.walkTokens){let S=this.defaults.walkTokens,D=v.walkTokens;I.walkTokens=function(M){let W=[];return W.push(D.call(this,M)),S&&(W=W.concat(S.call(this,M))),W}}this.defaults={...this.defaults,...I}}),this}setOptions(g){return this.defaults={...this.defaults,...g},this}lexer(g,b){return rt.lex(g,b??this.defaults)}parser(g,b){return Bt.parse(g,b??this.defaults)}parseMarkdown(g,b){return(I,S)=>{let D={...S},M={...this.defaults,...D},W=this.onError(!!M.silent,!!M.async);if(this.defaults.async===!0&&D.async===!1)return W(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof I>"u"||I===null)return W(new Error("marked(): input parameter is undefined or null"));if(typeof I!="string")return W(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(I)+", string expected"));if(M.hooks&&(M.hooks.options=M),M.async)return Promise.resolve(M.hooks?M.hooks.preprocess(I):I).then(j=>g(j,M)).then(j=>M.hooks?M.hooks.processAllTokens(j):j).then(j=>M.walkTokens?Promise.all(this.walkTokens(j,M.walkTokens)).then(()=>j):j).then(j=>b(j,M)).then(j=>M.hooks?M.hooks.postprocess(j):j).catch(W);try{M.hooks&&(I=M.hooks.preprocess(I));let j=g(I,M);M.hooks&&(j=M.hooks.processAllTokens(j)),M.walkTokens&&this.walkTokens(j,M.walkTokens);let he=b(j,M);return M.hooks&&(he=M.hooks.postprocess(he)),he}catch(j){return W(j)}}}onError(g,b){return v=>{if(v.message+=`
Please report this to https://github.com/markedjs/marked.`,g){let I="<p>An error occurred:</p><pre>"+u(v.message+"",!0)+"</pre>";return b?Promise.resolve(I):I}if(b)return Promise.reject(v);throw v}}}let ui=new Kn;function Pe(ue,g){return ui.parse(ue,g)}Pe.options=Pe.setOptions=function(ue){return ui.setOptions(ue),Pe.defaults=ui.defaults,i(Pe.defaults),Pe},Pe.getDefaults=t,Pe.defaults=e.defaults,Pe.use=function(...ue){return ui.use(...ue),Pe.defaults=ui.defaults,i(Pe.defaults),Pe},Pe.walkTokens=function(ue,g){return ui.walkTokens(ue,g)},Pe.parseInline=ui.parseInline,Pe.Parser=Bt,Pe.parser=Bt.parse,Pe.Renderer=hn,Pe.TextRenderer=Mi,Pe.Lexer=rt,Pe.lexer=rt.lex,Pe.Tokenizer=P,Pe.Hooks=vo,Pe.parse=Pe;let ht=Pe.options,Ni=Pe.setOptions,Pc=Pe.use,La=Pe.walkTokens,ns=Pe.parseInline,Aa=Pe,Ma=Bt.parse,Bc=rt.lex;e.Hooks=vo,e.Lexer=rt,e.Marked=Kn,e.Parser=Bt,e.Renderer=hn,e.TextRenderer=Mi,e.Tokenizer=P,e.getDefaults=t,e.lexer=Bc,e.marked=Pe,e.options=ht,e.parse=Aa,e.parseInline=ns,e.parser=Ma,e.setOptions=Ni,e.use=Pc,e.walkTokens=La})})();var DO=It.Hooks||exports.Hooks,_O=It.Lexer||exports.Lexer,CO=It.Marked||exports.Marked,LO=It.Parser||exports.Parser,Gh=It.Renderer||exports.Renderer,AO=It.TextRenderer||exports.TextRenderer,MO=It.Tokenizer||exports.Tokenizer,kb=It.defaults||exports.defaults,NO=It.getDefaults||exports.getDefaults,ta=It.lexer||exports.lexer,OO=It.marked||exports.marked,FO=It.options||exports.options,Qh=It.parse||exports.parse,RO=It.parseInline||exports.parseInline,Db=It.parser||exports.parser,PO=It.setOptions||exports.setOptions,BO=It.use||exports.use,HO=It.walkTokens||exports.walkTokens;var cd=typeof Buffer<"u",Rx=new mt(()=>new Uint8Array(256)),jh,Yh,ud=class n{static alloc(e){return cd?new n(Buffer.allocUnsafe(e)):new n(new Uint8Array(e))}static wrap(e){return cd&&!Buffer.isBuffer(e)&&(e=Buffer.from(e.buffer,e.byteOffset,e.byteLength)),new n(e)}static fromString(e,t){return!(t?.dontUseNodeBuffer||!1)&&cd?new n(Buffer.from(e)):(jh||(jh=new TextEncoder),new n(jh.encode(e)))}static fromByteArray(e){let t=n.alloc(e.length);for(let i=0,o=e.length;i<o;i++)t.buffer[i]=e[i];return t}static concat(e,t){if(typeof t>"u"){t=0;for(let r=0,s=e.length;r<s;r++)t+=e[r].byteLength}let i=n.alloc(t),o=0;for(let r=0,s=e.length;r<s;r++){let a=e[r];i.set(a,o),o+=a.byteLength}return i}buffer;byteLength;constructor(e){this.buffer=e,this.byteLength=this.buffer.byteLength}clone(){let e=n.alloc(this.byteLength);return e.set(this),e}toString(){return cd?this.buffer.toString():(Yh||(Yh=new TextDecoder),Yh.decode(this.buffer))}slice(e,t){return new n(this.buffer.subarray(e,t))}set(e,t){if(e instanceof n)this.buffer.set(e.buffer,t);else if(e instanceof Uint8Array)this.buffer.set(e,t);else if(e instanceof ArrayBuffer)this.buffer.set(new Uint8Array(e),t);else if(ArrayBuffer.isView(e))this.buffer.set(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),t);else throw new Error("Unknown argument 'array'")}readUInt32BE(e){return Bx(this.buffer,e)}writeUInt32BE(e,t){Hx(this.buffer,e,t)}readUInt32LE(e){return Kx(this.buffer,e)}writeUInt32LE(e,t){zx(this.buffer,e,t)}readUInt8(e){return Ux(this.buffer,e)}writeUInt8(e,t){Vx(this.buffer,e,t)}indexOf(e,t=0){return Px(this.buffer,e instanceof n?e.buffer:e,t)}};function Px(n,e,t=0){let i=e.byteLength,o=n.byteLength;if(i===0)return 0;if(i===1)return n.indexOf(e[0]);if(i>o-t)return-1;let r=Rx.value;r.fill(e.length);for(let d=0;d<e.length;d++)r[e[d]]=e.length-d-1;let s=t+e.length-1,a=s,l=-1;for(;s<o;)if(n[s]===e[a]){if(a===0){l=s;break}s--,a--}else s+=Math.max(e.length-a,r[n[s]]),a=e.length-1;return l}function Bx(n,e){return n[e]*2**24+n[e+1]*2**16+n[e+2]*2**8+n[e+3]}function Hx(n,e,t){n[t+3]=e,e=e>>>8,n[t+2]=e,e=e>>>8,n[t+1]=e,e=e>>>8,n[t]=e}function Kx(n,e){return n[e+0]<<0>>>0|n[e+1]<<8>>>0|n[e+2]<<16>>>0|n[e+3]<<24>>>0}function zx(n,e,t){n[t+0]=e&255,e=e>>>8,n[t+1]=e&255,e=e>>>8,n[t+2]=e&255,e=e>>>8,n[t+3]=e&255}function Ux(n,e){return n[e]}function Vx(n,e,t){n[t]=e}function _b(n){let e=JSON.parse(n);return e=Xh(e),e}function Xh(n,e=0){if(!n||e>200)return n;if(typeof n=="object"){switch(n.$mid){case 1:return Ce.revive(n);case 2:return new RegExp(n.source,n.flags);case 17:return new Date(n.source)}if(n instanceof ud||n instanceof Uint8Array)return n;if(Array.isArray(n))for(let t=0;t<n.length;++t)n[t]=Xh(n[t],e+1);else for(let t in n)Object.hasOwnProperty.call(n,t)&&(n[t]=Xh(n[t],e+1))}return n}var Wx=Object.prototype.hasOwnProperty;function Cb(n,e){return Jh(n,e,new Set)}function Jh(n,e,t){if(Ti(n))return n;let i=e(n);if(typeof i<"u")return i;if(Array.isArray(n)){let o=[];for(let r of n)o.push(Jh(r,e,t));return o}if(gn(n)){if(t.has(n))throw new Error("Cannot clone recursive data-structure");t.add(n);let o={};for(let r in n)Wx.call(n,r)&&(o[r]=Jh(n[r],e,t));return t.delete(n),o}return n}function on(n,e){if(n===e)return!0;if(n==null||e===null||e===void 0||typeof n!=typeof e||typeof n!="object"||Array.isArray(n)!==Array.isArray(e))return!1;let t,i;if(Array.isArray(n)){if(n.length!==e.length)return!1;for(t=0;t<n.length;t++)if(!on(n[t],e[t]))return!1}else{let o=[];for(i in n)o.push(i);o.sort();let r=[];for(i in e)r.push(i);if(r.sort(),!on(o,r))return!1;for(t=0;t<o.length;t++)if(!on(n[o[t]],e[o[t]]))return!1}return!0}var Zh=Object.freeze({image:({href:n,title:e,text:t})=>{let i=[],o=[];return n&&({href:n,dimensions:i}=lb(n),o.push(`src="${Qs(n)}"`)),t&&o.push(`alt="${Qs(t)}"`),e&&o.push(`title="${Qs(e)}"`),i.length&&(o=o.concat(i)),"<img "+o.join(" ")+">"},paragraph({tokens:n}){return`<p>${this.parser.parseInline(n)}</p>`},link({href:n,title:e,tokens:t}){let i=this.parser.parseInline(t);return typeof n!="string"?"":(n===i&&(i=Vl(i)),e=typeof e=="string"?Qs(Vl(e)):"",n=Vl(n),n=n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),`<a href="${n}" title="${e||n}" draggable="false">${i}</a>`)}});function np(n,e={},t={}){let i=new q,o=!1,r=ed(e),s=function(f){let x;try{x=_b(decodeURIComponent(f))}catch{}return x?(x=Cb(x,L=>{if(n.uris&&n.uris[L])return Ce.revive(n.uris[L])}),encodeURIComponent(JSON.stringify(x))):f},a=function(f,x){let L=n.uris&&n.uris[f],C=Ce.revive(L);return x?f.startsWith(_e.data+":")?f:(C||(C=Ce.parse(f)),gl.uriToBrowserUri(C).toString(!0)):!C||Ce.parse(f).toString()===C.toString()?f:(C.query&&(C=C.with({query:s(C.query)})),C.toString())},l=new Gh;l.image=Zh.image,l.link=Zh.link,l.paragraph=Zh.paragraph;let d=[],u=[];if(e.codeBlockRendererSync?l.code=({text:f,lang:x})=>{let L=$h.nextId(),C=e.codeBlockRendererSync(Lb(x),f);return u.push([L,C]),`<div class="code" data-code="${L}">${Ts(f)}</div>`}:e.codeBlockRenderer&&(l.code=({text:f,lang:x})=>{let L=$h.nextId(),C=e.codeBlockRenderer(Lb(x),f);return d.push(C.then(H=>[L,H])),`<div class="code" data-code="${L}">${Ts(f)}</div>`}),e.actionHandler){let f=function(C){let H=C.target.closest("a[data-href]");if(Qe(H))try{let P=H.dataset.href;P&&(n.baseUri&&(P=ep(Ce.from(n.baseUri),P)),e.actionHandler.callback(P,C))}catch(P){Ht(P)}finally{C.preventDefault()}},x=e.actionHandler.disposables.add(new se(r,"click")),L=e.actionHandler.disposables.add(new se(r,"auxclick"));e.actionHandler.disposables.add(_.any(x.event,L.event)(C=>{let H=new Xt(de(r),C);!H.leftButton&&!H.middleButton||f(H)})),e.actionHandler.disposables.add($(r,"keydown",C=>{let H=new Ne(C);!H.equals(10)&&!H.equals(3)||f(H)}))}n.supportHtml||(l.html=({text:f})=>e.sanitizerOptions?.replaceWithPlaintext?Ts(f):(n.isTrusted?f.match(/^(<span[^>]+>)|(<\/\s*span>)$/):void 0)?f:""),t.renderer=l;let h=n.value??"";h.length>1e5&&(h=`${h.substr(0,1e5)}\u2026`),n.supportThemeIcons&&(h=rb(h));let m;if(e.fillInIncompleteTokens){let f={...kb,...t},x=ta(h,f),L=i0(x);m=Db(L,f)}else m=Qh(h,{...t,async:!1});n.supportThemeIcons&&(m=ti(m).map(x=>typeof x=="string"?x:x.outerHTML).join(""));let w=new DOMParser().parseFromString(tp({isTrusted:n.isTrusted,...e.sanitizerOptions},m),"text/html");if(w.body.querySelectorAll("img, audio, video, source").forEach(f=>{let x=f.getAttribute("src");if(x){let L=x;try{n.baseUri&&(L=ep(Ce.from(n.baseUri),L))}catch{}if(f.setAttribute("src",a(L,!0)),e.remoteImageIsAllowed){let C=Ce.parse(L);C.scheme!==_e.file&&C.scheme!==_e.data&&!e.remoteImageIsAllowed(C)&&f.replaceWith(ee("",void 0,f.outerHTML))}}}),w.body.querySelectorAll("a").forEach(f=>{let x=f.getAttribute("href");if(f.setAttribute("href",""),!x||/^data:|javascript:/i.test(x)||/^command:/i.test(x)&&!n.isTrusted||/^command:(\/\/\/)?_workbench\.downloadResource/i.test(x))f.replaceWith(...f.childNodes);else{let L=a(x,!1);n.baseUri&&(L=ep(Ce.from(n.baseUri),x)),f.dataset.href=L}}),r.innerHTML=tp({isTrusted:n.isTrusted,...e.sanitizerOptions},w.body.innerHTML),d.length>0)Promise.all(d).then(f=>{if(o)return;let x=new Map(f),L=r.querySelectorAll("div[data-code]");for(let C of L){let H=x.get(C.dataset.code??"");H&&Et(C,H)}e.asyncRenderCallback?.()});else if(u.length>0){let f=new Map(u),x=r.querySelectorAll("div[data-code]");for(let L of x){let C=f.get(L.dataset.code??"");C&&Et(L,C)}}if(e.asyncRenderCallback)for(let f of r.getElementsByTagName("img")){let x=i.add($(f,"load",()=>{x.dispose(),e.asyncRenderCallback()}))}return{element:r,dispose:()=>{o=!0,i.dispose()}}}function Lb(n){if(!n)return"";let e=n.split(/[\s+|:|,|\{|\?]/,1);return e.length?e[0]:n}function ep(n,e){return/^\w[\w\d+.-]*:/.test(e)?e:n.path.endsWith("/")?Ru(n,e).toString():Ru(cg(n),e).toString()}var $x=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"];function tp(n,e){let{config:t,allowedSchemes:i}=Qx(n),o=new q;o.add(Ab("uponSanitizeAttribute",(r,s)=>{if(s.attrName==="style"||s.attrName==="class"){if(r.tagName==="SPAN"){if(s.attrName==="style"){s.keepAttr=/^(color\:(#[0-9a-fA-F]+|var\(--vscode(-[a-zA-Z0-9]+)+\));)?(background-color\:(#[0-9a-fA-F]+|var\(--vscode(-[a-zA-Z0-9]+)+\));)?(border-radius:[0-9]+px;)?$/.test(s.attrValue);return}else if(s.attrName==="class"){s.keepAttr=/^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/.test(s.attrValue);return}}s.keepAttr=!1;return}else if(r.tagName==="INPUT"&&r.attributes.getNamedItem("type")?.value==="checkbox"){if(s.attrName==="type"&&s.attrValue==="checkbox"||s.attrName==="disabled"||s.attrName==="checked"){s.keepAttr=!0;return}s.keepAttr=!1}})),o.add(Ab("uponSanitizeElement",(r,s)=>{if(s.tagName==="input"&&(r.attributes.getNamedItem("type")?.value==="checkbox"?r.setAttribute("disabled",""):n.replaceWithPlaintext||r.remove()),n.replaceWithPlaintext&&!s.allowedTags[s.tagName]&&s.tagName!=="body"&&r.parentElement){let a,l;if(s.tagName==="#comment")a=`<!--${r.textContent}-->`;else{let m=$x.includes(s.tagName),y=r.attributes.length?" "+Array.from(r.attributes).map(w=>`${w.name}="${w.value}"`).join(" "):"";a=`<${s.tagName}${y}>`,m||(l=`</${s.tagName}>`)}let d=document.createDocumentFragment(),u=r.parentElement.ownerDocument.createTextNode(a);d.appendChild(u);let h=l?r.parentElement.ownerDocument.createTextNode(l):void 0;for(;r.firstChild;)d.appendChild(r.firstChild);h&&d.appendChild(h),r.parentElement.replaceChild(d,r)}})),o.add(Kg(i));try{return Hs(e,{...t,RETURN_TRUSTED_TYPE:!0})}finally{o.dispose()}}var Gx=["align","autoplay","alt","checked","class","colspan","controls","data-code","data-href","disabled","draggable","height","href","loop","muted","playsinline","poster","rowspan","src","style","target","title","type","width","start"];function Qx(n){let e=[_e.http,_e.https,_e.mailto,_e.data,_e.file,_e.vscodeFileResource,_e.vscodeRemote,_e.vscodeRemoteResource];return n.isTrusted&&e.push(_e.command),{config:{ALLOWED_TAGS:n.allowedTags??[...zg],ALLOWED_ATTR:Gx,ALLOW_UNKNOWN_PROTOCOLS:!0},allowedSchemes:e}}function Mb(n){return typeof n=="string"?n:jx(n)}function jx(n,e){let t=n.value??"";t.length>1e5&&(t=`${t.substr(0,1e5)}\u2026`);let i=Qh(t,{async:!1,renderer:e?Jx.value:Xx.value}).replace(/&(#\d+|[a-zA-Z]+);/g,o=>Yx.get(o)??o);return tp({isTrusted:!1},i).toString()}var Yx=new Map([["&quot;",'"'],["&nbsp;"," "],["&amp;","&"],["&#39;","'"],["&lt;","<"],["&gt;",">"]]);function Nb(){let n=new Gh;return n.code=({text:e})=>e,n.blockquote=({text:e})=>e+`
`,n.html=e=>"",n.heading=function({tokens:e}){return this.parser.parseInline(e)+`
`},n.hr=()=>"",n.list=function({items:e}){return e.map(t=>this.listitem(t)).join(`
`)+`
`},n.listitem=({text:e})=>e+`
`,n.paragraph=function({tokens:e}){return this.parser.parseInline(e)+`
`},n.table=function({header:e,rows:t}){return e.map(i=>this.tablecell(i)).join(" ")+`
`+t.map(i=>i.map(o=>this.tablecell(o)).join(" ")).join(`
`)+`
`},n.tablerow=({text:e})=>e,n.tablecell=function({tokens:e}){return this.parser.parseInline(e)},n.strong=({text:e})=>e,n.em=({text:e})=>e,n.codespan=({text:e})=>e,n.br=e=>`
`,n.del=({text:e})=>e,n.image=e=>"",n.text=({text:e})=>e,n.link=({text:e})=>e,n}var Xx=new mt(n=>Nb()),Jx=new mt(()=>{let n=Nb();return n.code=({text:e})=>`
\`\`\`
${e}
\`\`\`
`,n});function hd(n){let e="";return n.forEach(t=>{e+=t.raw}),e}function Ob(n){if(n.tokens)for(let e=n.tokens.length-1;e>=0;e--){let t=n.tokens[e];if(t.type==="text"){let i=t.raw.split(`
`),o=i[i.length-1];if(o.includes("`"))return r0(n);if(o.includes("**"))return u0(n);if(o.match(/\*\w/))return s0(n);if(o.match(/(^|\s)__\w/))return h0(n);if(o.match(/(^|\s)_\w/))return a0(n);if(Zx(o)||e0(o)&&n.tokens.slice(0,e).some(r=>r.type==="text"&&r.raw.match(/\[[^\]]*$/))){let r=n.tokens.slice(e+1);return r[0]?.type==="link"&&r[1]?.type==="text"&&r[1].raw.match(/^ *"[^"]*$/)||o.match(/^[^"]* +"[^"]*$/)?d0(n):l0(n)}else if(o.match(/(^|\s)\[\w*/))return c0(n)}}}function Zx(n){return!!n.match(/(^|\s)\[.*\]\(\w*/)}function e0(n){return!!n.match(/^[^\[]*\]\([^\)]*$/)}function t0(n){let e=n.items[n.items.length-1],t=e.tokens?e.tokens[e.tokens.length-1]:void 0,i;if(t?.type==="text"&&!("inRawBlock"in e)&&(i=Ob(t)),!i||i.type!=="paragraph")return;let o=hd(n.items.slice(0,-1)),r=e.raw.match(/^(\s*(-|\d+\.|\*) +)/)?.[0];if(!r)return;let s=r+hd(e.tokens.slice(0,-1))+i.raw,a=ta(o+s)[0];if(a.type==="list")return a}var n0=3;function i0(n){for(let e=0;e<n0;e++){let t=o0(n);if(t)n=t;else break}return n}function o0(n){let e,t;for(e=0;e<n.length;e++){let i=n[e];if(i.type==="paragraph"&&i.raw.match(/(\n|^)\|/)){t=p0(n.slice(e));break}if(e===n.length-1&&i.type==="list"){let o=t0(i);if(o){t=[o];break}}if(e===n.length-1&&i.type==="paragraph"){let o=Ob(i);if(o){t=[o];break}}}if(t){let i=[...n.slice(0,e),...t];return i.links=n.links,i}return null}function r0(n){return io(n,"`")}function s0(n){return io(n,"*")}function a0(n){return io(n,"_")}function l0(n){return io(n,")")}function d0(n){return io(n,'")')}function c0(n){return io(n,"](https://microsoft.com)")}function u0(n){return io(n,"**")}function h0(n){return io(n,"__")}function io(n,e){let t=hd(Array.isArray(n)?n:[n]);return ta(t+e)[0]}function p0(n){let e=hd(n),t=e.split(`
`),i,o=!1;for(let r=0;r<t.length;r++){let s=t[r].trim();if(typeof i>"u"&&s.match(/^\s*\|/)){let a=s.match(/(\|[^\|]+)(?=\||$)/g);a&&(i=a.length)}else if(typeof i=="number")if(s.match(/^\s*\|/)){if(r!==t.length-1)return;o=!0}else return}if(typeof i=="number"&&i>0){let r=o?t.slice(0,-1).join(`
`):e,s=!!r.match(/\|\s*$/),a=r+(s?"":"|")+`
|${" --- |".repeat(i)}`;return ta(a)}}function Ab(n,e){return wl(n,e),ce(()=>El(n))}var m0={showHover:()=>{},hideHover:()=>{},showAndFocusLastHover:()=>{},setupManagedHover:()=>null,showManagedHover:()=>{}};function Dt(){return m0}var UF={...dd,selectBackground:"#3C3C3C",selectForeground:"#F0F0F0",selectBorder:"#3C3C3C",decoratorRightForeground:void 0,selectListBackground:void 0,selectListBorder:void 0,focusBorder:void 0};var Fb={inputActiveOptionBorder:"#007ACC00",inputActiveOptionForeground:"#FFFFFF",inputActiveOptionBackground:"#0E639C50"};var An=class extends Rt{_onChange=this._register(new k);onChange=this._onChange.event;_onKeyDown=this._register(new k);onKeyDown=this._onKeyDown.event;_opts;_icon;domNode;_checked;_hover;constructor(e){super(),this._opts=e,this._checked=this._opts.isChecked;let t=["monaco-custom-toggle"];this._opts.icon&&(this._icon=this._opts.icon,t.push(...Ie.asClassNameArray(this._icon))),this._opts.actionClassName&&t.push(...this._opts.actionClassName.split(" ")),this._checked&&t.push("checked"),this.domNode=document.createElement("div"),this._hover=this._register(Dt().setupManagedHover(e.hoverDelegate??Ze("mouse"),this.domNode,this._opts.title)),this.domNode.classList.add(...t),this._opts.notFocusable||(this.domNode.tabIndex=0),this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,i=>{this.enabled&&(this.checked=!this._checked,this._onChange.fire(!1),i.preventDefault())}),this._register(this.ignoreGesture(this.domNode)),this.onkeydown(this.domNode,i=>{if(i.keyCode===10||i.keyCode===3){this.checked=!this._checked,this._onChange.fire(!0),i.preventDefault(),i.stopPropagation();return}this._onKeyDown.fire(i)})}get enabled(){return this.domNode.getAttribute("aria-disabled")!=="true"}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(e){this._checked=e,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}setIcon(e){this._icon&&this.domNode.classList.remove(...Ie.asClassNameArray(this._icon)),this._icon=e,this._icon&&this.domNode.classList.add(...Ie.asClassNameArray(this._icon))}width(){return 22}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder||"",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground||"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground||"")}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}setTitle(e){this._hover.update(e),this.domNode.setAttribute("aria-label",e)}set visible(e){this.domNode.style.display=e?"":"none"}get visible(){return this.domNode.style.display!=="none"}};var yn=class extends V{constructor(t,i,o={}){super();this.options=o;this._context=t||this,this._action=i,i instanceof Zi&&this._register(i.onDidChange(r=>{this.element&&this.handleActionChangeEvent(r)}))}element;_context;_action;customHover;get action(){return this._action}_actionRunner;handleActionChangeEvent(t){t.enabled!==void 0&&this.updateEnabled(),t.checked!==void 0&&this.updateChecked(),t.class!==void 0&&this.updateClass(),t.label!==void 0&&(this.updateLabel(),this.updateTooltip()),t.tooltip!==void 0&&this.updateTooltip()}get actionRunner(){return this._actionRunner||(this._actionRunner=this._register(new Po)),this._actionRunner}set actionRunner(t){this._actionRunner=t}isEnabled(){return this._action.enabled}setActionContext(t){this._context=t}render(t){let i=this.element=t;this._register(yt.addTarget(t));let o=this.options&&this.options.draggable;o&&(t.draggable=!0,qi&&this._register($(t,Z.DRAG_START,r=>r.dataTransfer?.setData(ql.TEXT,this._action.label)))),this._register($(i,Ue.Tap,r=>this.onClick(r,!0))),this._register($(i,Z.MOUSE_DOWN,r=>{o||Re.stop(r,!0),this._action.enabled&&r.button===0&&i.classList.add("active")})),Se&&this._register($(i,Z.CONTEXT_MENU,r=>{r.button===0&&r.ctrlKey===!0&&this.onClick(r)})),this._register($(i,Z.CLICK,r=>{Re.stop(r,!0),this.options&&this.options.isMenu||this.onClick(r)})),this._register($(i,Z.DBLCLICK,r=>{Re.stop(r,!0)})),[Z.MOUSE_UP,Z.MOUSE_OUT].forEach(r=>{this._register($(i,r,s=>{Re.stop(s),i.classList.remove("active")}))})}onClick(t,i=!1){Re.stop(t,!0);let o=Ti(this._context)?this.options?.useEventAsContext?t:{preserveFocus:i}:this._context;this.actionRunner.run(this._action,o)}focus(){this.element&&(this.element.tabIndex=0,this.element.focus(),this.element.classList.add("focused"))}isFocused(){return!!this.element?.classList.contains("focused")}blur(){this.element&&(this.element.blur(),this.element.tabIndex=-1,this.element.classList.remove("focused"))}setFocusable(t){this.element&&(this.element.tabIndex=t?0:-1)}get trapsArrowNavigation(){return!1}updateEnabled(){}updateLabel(){}getClass(){return this.action.class}getTooltip(){return this.action.tooltip}updateTooltip(){if(!this.element)return;let t=this.getTooltip()??"";if(this.updateAriaLabel(),this.options.hoverDelegate?.showNativeHover)this.element.title=t;else if(!this.customHover&&t!==""){let i=this.options.hoverDelegate??Ze("element");this.customHover=this._store.add(Dt().setupManagedHover(i,this.element,t))}else this.customHover&&this.customHover.update(t)}updateAriaLabel(){if(this.element){let t=this.getTooltip()??"";this.element.setAttribute("aria-label",t)}}updateClass(){}updateChecked(){}dispose(){this.element&&(this.element.remove(),this.element=void 0),this._context=void 0,super.dispose()}},Ys=class extends yn{label;options;cssClass;constructor(e,t,i){super(e,t,i),this.options=i,this.options.icon=i.icon!==void 0?i.icon:!1,this.options.label=i.label!==void 0?i.label:!0,this.cssClass=""}render(e){super.render(e),ng(this.element);let t=document.createElement("a");if(t.classList.add("action-label"),t.setAttribute("role",this.getDefaultAriaRole()),this.label=t,this.element.appendChild(t),this.options.label&&this.options.keybinding){let i=document.createElement("span");i.classList.add("keybinding"),i.textContent=this.options.keybinding,this.element.appendChild(i)}this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}getDefaultAriaRole(){return this._action.id===wi.ID?"presentation":this.options.isMenu?"menuitem":this.options.isTabList?"tab":"button"}focus(){this.label&&(this.label.tabIndex=0,this.label.focus())}isFocused(){return!!this.label&&this.label?.tabIndex===0}blur(){this.label&&(this.label.tabIndex=-1)}setFocusable(e){this.label&&(this.label.tabIndex=e?0:-1)}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this.action.label)}getTooltip(){let e=null;return this.action.tooltip?e=this.action.tooltip:!this.options.label&&this.action.label&&this.options.icon&&(e=this.action.label,this.options.keybinding&&(e=p({key:"titleLabel",comment:["action title","action keybinding"]},"{0} ({1})",e,this.options.keybinding))),e??void 0}updateClass(){this.cssClass&&this.label&&this.label.classList.remove(...this.cssClass.split(" ")),this.options.icon?(this.cssClass=this.getClass(),this.label&&(this.label.classList.add("codicon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" "))),this.updateEnabled()):this.label?.classList.remove("codicon")}updateEnabled(){this.action.enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled")),this.element?.classList.remove("disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled")),this.element?.classList.add("disabled"))}updateAriaLabel(){if(this.label){let e=this.getTooltip()??"";this.label.setAttribute("aria-label",e)}}updateChecked(){this.label&&(this.action.checked!==void 0?(this.label.classList.toggle("checked",this.action.checked),this.options.isTabList?this.label.setAttribute("aria-selected",this.action.checked?"true":"false"):(this.label.setAttribute("aria-checked",this.action.checked?"true":"false"),this.label.setAttribute("role","checkbox"))):(this.label.classList.remove("checked"),this.label.removeAttribute(this.options.isTabList?"aria-selected":"aria-checked"),this.label.setAttribute("role",this.getDefaultAriaRole())))}};var RP={buttonBackground:"#0E639C",buttonHoverBackground:"#006BB3",buttonSeparator:N.white.toString(),buttonForeground:N.white.toString(),buttonBorder:void 0,buttonSecondaryBackground:void 0,buttonSecondaryForeground:void 0,buttonSecondaryHoverBackground:void 0},Lr=class extends V{options;_element;_label="";_labelElement;_labelShortElement;_hover;_onDidClick=this._register(new k);get onDidClick(){return this._onDidClick.event}_onDidEscape=this._register(new k);get onDidEscape(){return this._onDidEscape.event}focusTracker;constructor(e,t){super(),this.options=t,this._element=document.createElement("a"),this._element.classList.add("monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button"),this._element.classList.toggle("secondary",!!t.secondary);let i=t.secondary?t.buttonSecondaryBackground:t.buttonBackground,o=t.secondary?t.buttonSecondaryForeground:t.buttonForeground;this._element.style.color=o||"",this._element.style.backgroundColor=i||"",t.supportShortLabel&&(this._labelShortElement=document.createElement("div"),this._labelShortElement.classList.add("monaco-button-label-short"),this._element.appendChild(this._labelShortElement),this._labelElement=document.createElement("div"),this._labelElement.classList.add("monaco-button-label"),this._element.appendChild(this._labelElement),this._element.classList.add("monaco-text-button-with-short-label")),typeof t.title=="string"&&this.setTitle(t.title),typeof t.ariaLabel=="string"&&this._element.setAttribute("aria-label",t.ariaLabel),e.appendChild(this._element),this._register(yt.addTarget(this._element)),[Z.CLICK,Ue.Tap].forEach(r=>{this._register($(this._element,r,s=>{if(!this.enabled){Re.stop(s);return}this._onDidClick.fire(s)}))}),this._register($(this._element,Z.KEY_DOWN,r=>{let s=new Ne(r),a=!1;this.enabled&&(s.equals(3)||s.equals(10))?(this._onDidClick.fire(r),a=!0):s.equals(9)&&(this._onDidEscape.fire(r),this._element.blur(),a=!0),a&&Re.stop(s,!0)})),this._register($(this._element,Z.MOUSE_OVER,r=>{this._element.classList.contains("disabled")||this.updateBackground(!0)})),this._register($(this._element,Z.MOUSE_OUT,r=>{this.updateBackground(!1)})),this.focusTracker=this._register(Mo(this._element)),this._register(this.focusTracker.onDidFocus(()=>{this.enabled&&this.updateBackground(!0)})),this._register(this.focusTracker.onDidBlur(()=>{this.enabled&&this.updateBackground(!1)}))}dispose(){super.dispose(),this._element.remove()}getContentElements(e){let t=[];for(let i of ti(e))if(typeof i=="string"){if(i=i.trim(),i==="")continue;let o=document.createElement("span");o.textContent=i,t.push(o)}else t.push(i);return t}updateBackground(e){let t;this.options.secondary?t=e?this.options.buttonSecondaryHoverBackground:this.options.buttonSecondaryBackground:t=e?this.options.buttonHoverBackground:this.options.buttonBackground,t&&(this._element.style.backgroundColor=t)}get element(){return this._element}set label(e){if(this._label===e||Ul(this._label)&&Ul(e)&&ab(this._label,e))return;this._element.classList.add("monaco-text-button");let t=this.options.supportShortLabel?this._labelElement:this._element;if(Ul(e)){let o=np(e,{inline:!0});o.dispose();let r=o.element.querySelector("p")?.innerHTML;if(r){let s=Hs(r,{ADD_TAGS:["b","i","u","code","span"],ALLOWED_ATTR:["class"],RETURN_TRUSTED_TYPE:!0});t.innerHTML=s}else Et(t)}else this.options.supportIcons?Et(t,...this.getContentElements(e)):t.textContent=e;let i="";typeof this.options.title=="string"?i=this.options.title:this.options.title&&(i=Mb(e)),this.setTitle(i),typeof this.options.ariaLabel=="string"?this._element.setAttribute("aria-label",this.options.ariaLabel):this.options.ariaLabel&&this._element.setAttribute("aria-label",i),this._label=e}get label(){return this._label}set labelShort(e){!this.options.supportShortLabel||!this._labelShortElement||(this.options.supportIcons?Et(this._labelShortElement,...this.getContentElements(e)):this._labelShortElement.textContent=e)}set icon(e){this._element.classList.add(...Ie.asClassNameArray(e))}set enabled(e){e?(this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0)))}get enabled(){return!this._element.classList.contains("disabled")}set checked(e){e?(this._element.classList.add("checked"),this._element.setAttribute("aria-checked","true")):(this._element.classList.remove("checked"),this._element.setAttribute("aria-checked","false"))}get checked(){return this._element.classList.contains("checked")}setTitle(e){!this._hover&&e!==""?this._hover=this._register(Dt().setupManagedHover(this.options.hoverDelegate??Ze("mouse"),this._element,e)):this._hover&&this._hover.update(e)}focus(){this._element.focus()}hasFocus(){return Jt(this._element)}};var Ar=class{modifierLabels;constructor(e,t,i=t){this.modifierLabels=[null],this.modifierLabels[2]=e,this.modifierLabels[1]=t,this.modifierLabels[3]=i}toLabel(e,t,i){if(t.length===0)return null;let o=[];for(let r=0,s=t.length;r<s;r++){let a=t[r],l=i(a);if(l===null)return null;o[r]=b0(a,l,this.modifierLabels[e])}return o.join(" ")}},Rb=new Ar({ctrlKey:"\u2303",shiftKey:"\u21E7",altKey:"\u2325",metaKey:"\u2318",separator:""},{ctrlKey:p({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:p({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:p({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:p({key:"windowsKey",comment:["This is the short form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:p({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:p({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:p({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:p({key:"superKey",comment:["This is the short form for the Super key on the keyboard"]},"Super"),separator:"+"}),zP=new Ar({ctrlKey:p({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:p({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:p({key:"optKey.long",comment:["This is the long form for the Alt/Option key on the keyboard"]},"Option"),metaKey:p({key:"cmdKey.long",comment:["This is the long form for the Command key on the keyboard"]},"Command"),separator:"+"},{ctrlKey:p({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:p({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:p({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:p({key:"windowsKey.long",comment:["This is the long form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:p({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:p({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:p({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:p({key:"superKey.long",comment:["This is the long form for the Super key on the keyboard"]},"Super"),separator:"+"}),UP=new Ar({ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Cmd",separator:"+"},{ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Super",separator:"+"}),VP=new Ar({ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"cmd",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"win",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"meta",separator:"+"});function b0(n,e,t){if(e===null)return"";let i=[];return n.ctrlKey&&i.push(t.ctrlKey),n.shiftKey&&i.push(t.shiftKey),n.altKey&&i.push(t.altKey),n.metaKey&&i.push(t.metaKey),e!==""&&i.push(e),i.join(t.separator)}var pd=ee;var md=class n extends V{constructor(t,i,o){super();this.os=i;this.options=o||Object.create(null);let r=this.options.keybindingLabelForeground;this.domNode=G(t,pd(".monaco-keybinding")),r&&(this.domNode.style.color=r),this.hover=this._register(Dt().setupManagedHover(Ze("mouse"),this.domNode,"")),this.didEverRender=!1,t.appendChild(this.domNode)}domNode;options;keyElements=new Set;hover;keybinding;matches;didEverRender;get element(){return this.domNode}set(t,i){this.didEverRender&&this.keybinding===t&&n.areSame(this.matches,i)||(this.keybinding=t,this.matches=i,this.render())}render(){if(this.clear(),this.keybinding){let t=this.keybinding.getChords();t[0]&&this.renderChord(this.domNode,t[0],this.matches?this.matches.firstPart:null);for(let o=1;o<t.length;o++)G(this.domNode,pd("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderChord(this.domNode,t[o],this.matches?this.matches.chordPart:null);let i=this.options.disableTitle??!1?void 0:this.keybinding.getAriaLabel()||void 0;this.hover.update(i),this.domNode.setAttribute("aria-label",i||"")}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.didEverRender=!0}clear(){wt(this.domNode),this.keyElements.clear()}renderChord(t,i,o){let r=Rb.modifierLabels[this.os];i.ctrlKey&&this.renderKey(t,r.ctrlKey,!!o?.ctrlKey,r.separator),i.shiftKey&&this.renderKey(t,r.shiftKey,!!o?.shiftKey,r.separator),i.altKey&&this.renderKey(t,r.altKey,!!o?.altKey,r.separator),i.metaKey&&this.renderKey(t,r.metaKey,!!o?.metaKey,r.separator);let s=i.keyLabel;s&&this.renderKey(t,s,!!o?.keyCode,"")}renderKey(t,i,o,r){G(t,this.createKeyElement(i,o?".highlight":"")),r&&G(t,pd("span.monaco-keybinding-key-separator",void 0,r))}renderUnbound(t){G(t,this.createKeyElement(p("unbound","Unbound")))}createKeyElement(t,i=""){let o=pd("span.monaco-keybinding-key"+i,void 0,t);return this.keyElements.add(o),this.options.keybindingLabelBackground&&(o.style.backgroundColor=this.options.keybindingLabelBackground),this.options.keybindingLabelBorder&&(o.style.borderColor=this.options.keybindingLabelBorder),this.options.keybindingLabelBottomBorder&&(o.style.borderBottomColor=this.options.keybindingLabelBottomBorder),this.options.keybindingLabelShadow&&(o.style.boxShadow=`inset 0 -1px 0 ${this.options.keybindingLabelShadow}`),o}static areSame(t,i){return t===i||!t&&!i?!0:!!t&&!!i&&on(t.firstPart,i.firstPart)&&on(t.chordPart,i.chordPart)}};function Pb(n){let e=!1,t=new Map,i=new Map;if(v0(n,u=>{if(n===u)return!0;let h=JSON.stringify(u);if(h.length<30)return!0;let m=t.get(h);if(!m){let y={schemas:[u]};return t.set(h,y),i.set(u,y),!0}return m.schemas.push(u),i.set(u,m),e=!0,!1}),t.clear(),!e)return JSON.stringify(n);let r="$defs";for(;n.hasOwnProperty(r);)r+="_";let s=[];function a(u){return JSON.stringify(u,(h,m)=>{if(m!==u){let y=i.get(m);if(y&&y.schemas.length>1)return y.id||(y.id=`_${s.length}`,s.push(y.schemas[0])),{$ref:`#/${r}/${y.id}`}}return m})}let l=a(n),d=[];for(let u=0;u<s.length;u++)d.push(`"_${u}":${a(s[u])}`);return d.length?`${l.substring(0,l.length-1)},"${r}":{${d.join(",")}}}`:l}function Mr(n){return typeof n=="object"&&n!==null}function v0(n,e){if(!n||typeof n!="object")return;let t=(...l)=>{for(let d of l)Mr(d)&&s.push(d)},i=(...l)=>{for(let d of l)if(Mr(d))for(let u in d){let h=d[u];Mr(h)&&s.push(h)}},o=(...l)=>{for(let d of l)if(Array.isArray(d))for(let u of d)Mr(u)&&s.push(u)},r=l=>{if(Array.isArray(l))for(let d of l)Mr(d)&&s.push(d);else Mr(l)&&s.push(l)},s=[n],a=s.pop();for(;a;)e(a)&&(t(a.additionalItems,a.additionalProperties,a.not,a.contains,a.propertyNames,a.if,a.then,a.else,a.unevaluatedItems,a.unevaluatedProperties),i(a.definitions,a.$defs,a.properties,a.patternProperties,a.dependencies,a.dependentSchemas),o(a.anyOf,a.allOf,a.oneOf,a.prefixItems),r(a.items)),a=s.pop()}var Ho={JSONContribution:"base.contributions.json"};function y0(n){return n.length>0&&n.charAt(n.length-1)==="#"?n.substring(0,n.length-1):n}var ip=class{schemasById;_onDidChangeSchema=new k;onDidChangeSchema=this._onDidChangeSchema.event;constructor(){this.schemasById={}}registerSchema(e,t){this.schemasById[y0(e)]=t,this._onDidChangeSchema.fire(e)}notifySchemaChanged(e){this._onDidChangeSchema.fire(e)}getSchemaContributions(){return{schemas:this.schemasById}}getSchemaContent(e){let t=this.schemasById[e];return t?Pb(t):void 0}hasSchemaContent(e){return!!this.schemasById[e]}},T0=new ip;ut.add(Ho.JSONContribution,T0);var I0=Oe("environmentService"),g6=I0;var x0={IconContribution:"base.contributions.icons"},S0;(e=>{function n(t,i){let o=t.defaults;for(;Ie.isThemeIcon(o);){let r=Nr.getIcon(o.id);if(!r)return;o=r.defaults}return o}e.getDefinition=n})(S0||={});var w0;(t=>{function n(i){return{weight:i.weight,style:i.style,src:i.src.map(o=>({format:o.format,location:o.location.toString()}))}}t.toJSONObject=n;function e(i){let o=r=>zt(r)?r:void 0;if(i&&Array.isArray(i.src)&&i.src.every(r=>zt(r.format)&&zt(r.location)))return{weight:o(i.weight),style:o(i.style),src:i.src.map(r=>({format:r.format,location:Ce.parse(r.location)}))}}t.fromJSONObject=e})(w0||={});var op=class{_onDidChange=new k;onDidChange=this._onDidChange.event;iconsById;iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:p("iconDefinition.fontId","The id of the font to use. If not set, the font that is defined first is used.")},fontCharacter:{type:"string",description:p("iconDefinition.fontCharacter","The font character associated with the icon definition.")}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}};iconReferenceSchema={type:"string",pattern:`^${Ie.iconNameExpression}$`,enum:[],enumDescriptions:[]};iconFontsById;constructor(){this.iconsById={},this.iconFontsById={}}registerIcon(e,t,i,o){let r=this.iconsById[e];if(r){if(i&&!r.description){r.description=i,this.iconSchema.properties[e].markdownDescription=`${i} $(${e})`;let l=this.iconReferenceSchema.enum.indexOf(e);l!==-1&&(this.iconReferenceSchema.enumDescriptions[l]=i),this._onDidChange.fire()}return r}let s={id:e,description:i,defaults:t,deprecationMessage:o};this.iconsById[e]=s;let a={$ref:"#/definitions/icons"};return o&&(a.deprecationMessage=o),i&&(a.markdownDescription=`${i}: $(${e})`),this.iconSchema.properties[e]=a,this.iconReferenceSchema.enum.push(e),this.iconReferenceSchema.enumDescriptions.push(i||""),this._onDidChange.fire(),{id:e}}deregisterIcon(e){delete this.iconsById[e],delete this.iconSchema.properties[e];let t=this.iconReferenceSchema.enum.indexOf(e);t!==-1&&(this.iconReferenceSchema.enum.splice(t,1),this.iconReferenceSchema.enumDescriptions.splice(t,1)),this._onDidChange.fire()}getIcons(){return Object.keys(this.iconsById).map(e=>this.iconsById[e])}getIcon(e){return this.iconsById[e]}getIconSchema(){return this.iconSchema}getIconReferenceSchema(){return this.iconReferenceSchema}registerIconFont(e,t){let i=this.iconFontsById[e];return i||(this.iconFontsById[e]=t,this._onDidChange.fire(),t)}deregisterIconFont(e){delete this.iconFontsById[e]}getIconFont(e){return this.iconFontsById[e]}toString(){let e=(r,s)=>r.id.localeCompare(s.id),t=r=>{for(;Ie.isThemeIcon(r.defaults);)r=this.iconsById[r.defaults.id];return`codicon codicon-${r?r.id:""}`},i=[];i.push("| preview     | identifier                        | default codicon ID                | description"),i.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");let o=Object.keys(this.iconsById).map(r=>this.iconsById[r]);for(let r of o.filter(s=>!!s.description).sort(e))i.push(`|<i class="${t(r)}"></i>|${r.id}|${Ie.isThemeIcon(r.defaults)?r.defaults.id:r.id}|${r.description||""}|`);i.push("| preview     | identifier                        "),i.push("| ----------- | --------------------------------- |");for(let r of o.filter(s=>!Ie.isThemeIcon(s.defaults)).sort(e))i.push(`|<i class="${t(r)}"></i>|${r.id}|`);return i.join(`
`)}},Nr=new op;ut.add(x0.IconContribution,Nr);function rp(n,e,t,i){return Nr.registerIcon(n,e,t,i)}function E0(){let n=hh();for(let e in n){let t="\\"+n[e].toString(16);Nr.registerIcon(e,{fontCharacter:t})}}E0();var Hb="vscode://schemas/icons",Kb=ut.as(Ho.JSONContribution);Kb.registerSchema(Hb,Nr.getIconSchema());var Bb=new Gn(()=>Kb.notifySchemaChanged(Hb),200);Nr.onDidChange(()=>{Bb.isScheduled()||Bb.schedule()});var N6=rp("widget-close",Le.close,p("widgetClose","Icon for the close action in widgets.")),O6=rp("goto-previous-location",Le.arrowUp,p("previousChangeIcon","Icon for goto previous editor location.")),F6=rp("goto-next-location",Le.arrowDown,p("nextChangeIcon","Icon for goto next editor location.")),R6=Ie.modify(Le.sync,"spin"),P6=Ie.modify(Le.loading,"spin");function zb(n){return n==="dark"||n==="hcDark"}var gd=Oe("themeService");var i3=Le.file,o3=Le.folder;var k0={ThemingContribution:"base.contributions.theming"},sp=class{themingParticipants=[];onThemingParticipantAddedEmitter;constructor(){this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new k}onColorThemeChange(e){return this.themingParticipants.push(e),this.onThemingParticipantAddedEmitter.fire(e),ce(()=>{let t=this.themingParticipants.indexOf(e);this.themingParticipants.splice(t,1)})}get onThemingParticipantAdded(){return this.onThemingParticipantAddedEmitter.event}getThemingParticipants(){return this.themingParticipants}},D0=new sp;ut.add(k0.ThemingContribution,D0);var fd=class extends V{constructor(t){super();this.themeService=t;this.theme=t.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(i=>this.onThemeChange(i)))}theme;onThemeChange(t){this.theme=t,this.updateStyles()}updateStyles(){}getColor(t,i){let o=this.theme.getColor(t);return o&&i&&(o=i(o,this.theme)),o?o.toString():null}};function Vb(n){return`--vscode-${n.replace(/\./g,"-")}`}function O(n){return`var(${Vb(n)})`}function Wb(n,e){return`var(${Vb(n)}, ${e})`}function _0(n){return n!==null&&typeof n=="object"&&"light"in n&&"dark"in n}var C0={ColorContribution:"base.contributions.colors"},L0="default",ap=class{_onDidChangeSchema=new k;onDidChangeSchema=this._onDidChangeSchema.event;colorsById;colorSchema={type:"object",properties:{}};colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]};constructor(){this.colorsById={}}notifyThemeUpdate(e){for(let t of Object.keys(this.colorsById)){let i=e.getColor(t);i&&(this.colorSchema.properties[t].oneOf[0].defaultSnippets[0].body=`\${1:${i.toString()}}`)}this._onDidChangeSchema.fire()}registerColor(e,t,i,o=!1,r){let s={id:e,description:i,defaults:t,needsTransparency:o,deprecationMessage:r};this.colorsById[e]=s;let a={type:"string",format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return r&&(a.deprecationMessage=r),o&&(a.pattern="^#(?:(?<rgba>[0-9a-fA-f]{3}[0-9a-eA-E])|(?:[0-9a-fA-F]{6}(?:(?![fF]{2})(?:[0-9a-fA-F]{2}))))?$",a.patternErrorMessage=p("transparecyRequired","This color must be transparent or it will obscure content")),this.colorSchema.properties[e]={description:i,oneOf:[a,{type:"string",const:L0,description:p("useDefault","Use the default color.")}]},this.colorReferenceSchema.enum.push(e),this.colorReferenceSchema.enumDescriptions.push(i),this._onDidChangeSchema.fire(),e}deregisterColor(e){delete this.colorsById[e],delete this.colorSchema.properties[e];let t=this.colorReferenceSchema.enum.indexOf(e);t!==-1&&(this.colorReferenceSchema.enum.splice(t,1),this.colorReferenceSchema.enumDescriptions.splice(t,1)),this._onDidChangeSchema.fire()}getColors(){return Object.keys(this.colorsById).map(e=>this.colorsById[e])}resolveDefaultColor(e,t){let i=this.colorsById[e];if(i?.defaults){let o=_0(i.defaults)?i.defaults[t.type]:i.defaults;return Mn(o,t)}}getColorSchema(){return this.colorSchema}getColorReferenceSchema(){return this.colorReferenceSchema}toString(){let e=(t,i)=>{let o=t.indexOf(".")===-1?0:1,r=i.indexOf(".")===-1?0:1;return o!==r?o-r:t.localeCompare(i)};return Object.keys(this.colorsById).sort(e).map(t=>`- \`${t}\`: ${this.colorsById[t].description}`).join(`
`)}},bd=new ap;ut.add(C0.ColorContribution,bd);function T(n,e,t,i,o){return bd.registerColor(n,e,t,i,o)}function A0(n,e){switch(n.op){case 0:return Mn(n.value,e)?.darken(n.factor);case 1:return Mn(n.value,e)?.lighten(n.factor);case 2:return Mn(n.value,e)?.transparent(n.factor);case 3:{let t=Mn(n.background,e);return t?Mn(n.value,e)?.makeOpaque(t):Mn(n.value,e)}case 4:for(let t of n.values){let i=Mn(t,e);if(i)return i}return;case 6:return Mn(e.defines(n.if)?n.then:n.else,e);case 5:{let t=Mn(n.value,e);if(!t)return;let i=Mn(n.background,e);return i?t.isDarkerThan(i)?N.getLighterColor(t,i,n.factor).transparent(n.transparency):N.getDarkerColor(t,i,n.factor).transparent(n.transparency):t.transparent(n.factor*n.transparency)}default:throw Sf(n)}}function ni(n,e){return{op:0,value:n,factor:e}}function rn(n,e){return{op:1,value:n,factor:e}}function re(n,e){return{op:2,value:n,factor:e}}function lp(...n){return{op:4,values:n}}function qb(n,e,t){return{op:6,if:n,then:e,else:t}}function dp(n,e,t,i){return{op:5,value:n,background:e,factor:t,transparency:i}}function Mn(n,e){if(n!==null){if(typeof n=="string")return n[0]==="#"?N.fromHex(n):e.getColor(n);if(n instanceof N)return n;if(typeof n=="object")return A0(n,e)}}var $b="vscode://schemas/workbench-colors",Gb=ut.as(Ho.JSONContribution);Gb.registerSchema($b,bd.getColorSchema());var Ub=new Gn(()=>Gb.notifySchemaChanged($b),200);bd.onDidChangeSchema(()=>{Ub.isScheduled()||Ub.schedule()});var xe=T("foreground",{dark:"#CCCCCC",light:"#616161",hcDark:"#FFFFFF",hcLight:"#292929"},p("foreground","Overall foreground color. This color is only used if not overridden by a component.")),I3=T("disabledForeground",{dark:"#CCCCCC80",light:"#61616180",hcDark:"#A5A5A5",hcLight:"#7F7F7F"},p("disabledForeground","Overall foreground for disabled elements. This color is only used if not overridden by a component.")),x3=T("errorForeground",{dark:"#F48771",light:"#A1260D",hcDark:"#F48771",hcLight:"#B5200D"},p("errorForeground","Overall foreground color for error messages. This color is only used if not overridden by a component.")),S3=T("descriptionForeground",{light:"#717171",dark:re(xe,.7),hcDark:re(xe,.7),hcLight:re(xe,.7)},p("descriptionForeground","Foreground color for description text providing additional information, for example for a label.")),na=T("icon.foreground",{dark:"#C5C5C5",light:"#424242",hcDark:"#FFFFFF",hcLight:"#292929"},p("iconForeground","The default color for icons in the workbench.")),sn=T("focusBorder",{dark:"#007FD4",light:"#0090F1",hcDark:"#F38518",hcLight:"#006BBD"},p("focusBorder","Overall border color for focused elements. This color is only used if not overridden by a component.")),ye=T("contrastBorder",{light:null,dark:null,hcDark:"#6FC3DF",hcLight:"#0F4A85"},p("contrastBorder","An extra border around elements to separate them from others for greater contrast.")),Ye=T("contrastActiveBorder",{light:null,dark:null,hcDark:sn,hcLight:sn},p("activeContrastBorder","An extra border around active elements to separate them from others for greater contrast.")),w3=T("selection.background",null,p("selectionBackground","The background color of text selections in the workbench (e.g. for input fields or text areas). Note that this does not apply to selections within the editor.")),Qb=T("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hcDark:"#21A6FF",hcLight:"#0F4A85"},p("textLinkForeground","Foreground color for links in text.")),E3=T("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hcDark:"#21A6FF",hcLight:"#0F4A85"},p("textLinkActiveForeground","Foreground color for links in text when clicked on and on mouse hover.")),k3=T("textSeparator.foreground",{light:"#0000002e",dark:"#ffffff2e",hcDark:N.black,hcLight:"#292929"},p("textSeparatorForeground","Color for text separators.")),D3=T("textPreformat.foreground",{light:"#A31515",dark:"#D7BA7D",hcDark:"#000000",hcLight:"#FFFFFF"},p("textPreformatForeground","Foreground color for preformatted text segments.")),_3=T("textPreformat.background",{light:"#0000001A",dark:"#FFFFFF1A",hcDark:"#FFFFFF",hcLight:"#09345f"},p("textPreformatBackground","Background color for preformatted text segments.")),C3=T("textBlockQuote.background",{light:"#f2f2f2",dark:"#222222",hcDark:null,hcLight:"#F2F2F2"},p("textBlockQuoteBackground","Background color for block quotes in text.")),L3=T("textBlockQuote.border",{light:"#007acc80",dark:"#007acc80",hcDark:N.white,hcLight:"#292929"},p("textBlockQuoteBorder","Border color for block quotes in text.")),A3=T("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hcDark:N.black,hcLight:"#F2F2F2"},p("textCodeBlockBackground","Background color for code blocks in text."));var R3=T("sash.hoverBorder",sn,p("sashActiveBorder","Border color of active sashes.")),Or=T("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hcDark:N.black,hcLight:"#0F4A85"},p("badgeBackground","Badge background color. Badges are small information labels, e.g. for search results count.")),jb=T("badge.foreground",{dark:N.white,light:"#333",hcDark:N.white,hcLight:N.white},p("badgeForeground","Badge foreground color. Badges are small information labels, e.g. for search results count.")),ia=T("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hcDark:null,hcLight:null},p("scrollbarShadow","Scrollbar shadow to indicate that the view is scrolled.")),vd=T("scrollbarSlider.background",{dark:N.fromHex("#797979").transparent(.4),light:N.fromHex("#646464").transparent(.4),hcDark:re(ye,.6),hcLight:re(ye,.4)},p("scrollbarSliderBackground","Scrollbar slider background color.")),yd=T("scrollbarSlider.hoverBackground",{dark:N.fromHex("#646464").transparent(.7),light:N.fromHex("#646464").transparent(.7),hcDark:re(ye,.8),hcLight:re(ye,.8)},p("scrollbarSliderHoverBackground","Scrollbar slider background color when hovering.")),Td=T("scrollbarSlider.activeBackground",{dark:N.fromHex("#BFBFBF").transparent(.4),light:N.fromHex("#000000").transparent(.6),hcDark:ye,hcLight:ye},p("scrollbarSliderActiveBackground","Scrollbar slider background color when clicked on.")),Yb=T("progressBar.background",{dark:N.fromHex("#0E70C0"),light:N.fromHex("#0E70C0"),hcDark:ye,hcLight:ye},p("progressBarBackground","Background color of the progress bar that can show for long running operations."));var Id=T("editor.background",{light:"#ffffff",dark:"#1E1E1E",hcDark:N.black,hcLight:N.white},p("editorBackground","Editor background color.")),U3=T("editor.foreground",{light:"#333333",dark:"#BBBBBB",hcDark:N.white,hcLight:xe},p("editorForeground","Editor default foreground color.")),V3=T("editorStickyScroll.background",Id,p("editorStickyScrollBackground","Background color of sticky scroll in the editor")),W3=T("editorStickyScrollHover.background",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:null,hcLight:N.fromHex("#0F4A85").transparent(.1)},p("editorStickyScrollHoverBackground","Background color of sticky scroll on hover in the editor")),q3=T("editorStickyScroll.border",{dark:null,light:null,hcDark:ye,hcLight:ye},p("editorStickyScrollBorder","Border color of sticky scroll in the editor")),$3=T("editorStickyScroll.shadow",ia,p("editorStickyScrollShadow"," Shadow color of sticky scroll in the editor")),Pt=T("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hcDark:"#0C141F",hcLight:N.white},p("editorWidgetBackground","Background color of editor widgets, such as find/replace.")),Ko=T("editorWidget.foreground",xe,p("editorWidgetForeground","Foreground color of editor widgets, such as find/replace.")),pp=T("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hcDark:ye,hcLight:ye},p("editorWidgetBorder","Border color of editor widgets. The color is only used if the widget chooses to have a border and if the color is not overridden by a widget.")),G3=T("editorWidget.resizeBorder",null,p("editorWidgetResizeBorder","Border color of the resize bar of editor widgets. The color is only used if the widget chooses to have a resize border and if the color is not overridden by a widget.")),Q3=T("editorError.background",null,p("editorError.background","Background color of error text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),mp=T("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hcDark:"#F48771",hcLight:"#B5200D"},p("editorError.foreground","Foreground color of error squigglies in the editor.")),j3=T("editorError.border",{dark:null,light:null,hcDark:N.fromHex("#E47777").transparent(.8),hcLight:"#B5200D"},p("errorBorder","If set, color of double underlines for errors in the editor.")),Y3=T("editorWarning.background",null,p("editorWarning.background","Background color of warning text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),Br=T("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hcDark:"#FFD370",hcLight:"#895503"},p("editorWarning.foreground","Foreground color of warning squigglies in the editor.")),fp=T("editorWarning.border",{dark:null,light:null,hcDark:N.fromHex("#FFCC00").transparent(.8),hcLight:N.fromHex("#FFCC00").transparent(.8)},p("warningBorder","If set, color of double underlines for warnings in the editor.")),X3=T("editorInfo.background",null,p("editorInfo.background","Background color of info text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),Hr=T("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hcDark:"#3794FF",hcLight:"#1a85ff"},p("editorInfo.foreground","Foreground color of info squigglies in the editor.")),gp=T("editorInfo.border",{dark:null,light:null,hcDark:N.fromHex("#3794FF").transparent(.8),hcLight:"#292929"},p("infoBorder","If set, color of double underlines for infos in the editor.")),J3=T("editorHint.foreground",{dark:N.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hcDark:null,hcLight:null},p("editorHint.foreground","Foreground color of hint squigglies in the editor.")),Z3=T("editorHint.border",{dark:null,light:null,hcDark:N.fromHex("#eeeeee").transparent(.8),hcLight:"#292929"},p("hintBorder","If set, color of double underlines for hints in the editor.")),eB=T("editorLink.activeForeground",{dark:"#4E94CE",light:N.blue,hcDark:N.cyan,hcLight:"#292929"},p("activeLinkForeground","Color of active links.")),Fr=T("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hcDark:"#f3f518",hcLight:"#0F4A85"},p("editorSelectionBackground","Color of the editor selection.")),tB=T("editor.selectionForeground",{light:null,dark:null,hcDark:"#000000",hcLight:N.white},p("editorSelectionForeground","Color of the selected text for high contrast.")),nB=T("editor.inactiveSelectionBackground",{light:re(Fr,.5),dark:re(Fr,.5),hcDark:re(Fr,.7),hcLight:re(Fr,.5)},p("editorInactiveSelection","Color of the selection in an inactive editor. The color must not be opaque so as not to hide underlying decorations."),!0),iB=T("editor.selectionHighlightBackground",{light:dp(Fr,Id,.3,.6),dark:dp(Fr,Id,.3,.6),hcDark:null,hcLight:null},p("editorSelectionHighlight","Color for regions with the same content as the selection. The color must not be opaque so as not to hide underlying decorations."),!0),oB=T("editor.selectionHighlightBorder",{light:null,dark:null,hcDark:Ye,hcLight:Ye},p("editorSelectionHighlightBorder","Border color for regions with the same content as the selection.")),rB=T("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hcDark:null,hcLight:null},p("editorFindMatch","Color of the current search match.")),sB=T("editor.findMatchForeground",null,p("editorFindMatchForeground","Text color of the current search match.")),oo=T("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hcDark:null,hcLight:null},p("findMatchHighlight","Color of the other search matches. The color must not be opaque so as not to hide underlying decorations."),!0),aB=T("editor.findMatchHighlightForeground",null,p("findMatchHighlightForeground","Foreground color of the other search matches."),!0),lB=T("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hcDark:null,hcLight:null},p("findRangeHighlight","Color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),dB=T("editor.findMatchBorder",{light:null,dark:null,hcDark:Ye,hcLight:Ye},p("editorFindMatchBorder","Border color of the current search match.")),ro=T("editor.findMatchHighlightBorder",{light:null,dark:null,hcDark:Ye,hcLight:Ye},p("findMatchHighlightBorder","Border color of the other search matches.")),cB=T("editor.findRangeHighlightBorder",{dark:null,light:null,hcDark:re(Ye,.4),hcLight:re(Ye,.4)},p("findRangeHighlightBorder","Border color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),uB=T("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hcDark:"#ADD6FF26",hcLight:null},p("hoverHighlight","Highlight below the word for which a hover is shown. The color must not be opaque so as not to hide underlying decorations."),!0),Xb=T("editorHoverWidget.background",Pt,p("hoverBackground","Background color of the editor hover.")),hB=T("editorHoverWidget.foreground",Ko,p("hoverForeground","Foreground color of the editor hover.")),pB=T("editorHoverWidget.border",pp,p("hoverBorder","Border color of the editor hover.")),mB=T("editorHoverWidget.statusBarBackground",{dark:rn(Xb,.2),light:ni(Xb,.05),hcDark:Pt,hcLight:Pt},p("statusBarBackground","Background color of the editor hover status bar.")),ov=T("editorInlayHint.foreground",{dark:"#969696",light:"#969696",hcDark:N.white,hcLight:N.black},p("editorInlayHintForeground","Foreground color of inline hints")),rv=T("editorInlayHint.background",{dark:re(Or,.1),light:re(Or,.1),hcDark:re(N.white,.1),hcLight:re(Or,.1)},p("editorInlayHintBackground","Background color of inline hints")),fB=T("editorInlayHint.typeForeground",ov,p("editorInlayHintForegroundTypes","Foreground color of inline hints for types")),gB=T("editorInlayHint.typeBackground",rv,p("editorInlayHintBackgroundTypes","Background color of inline hints for types")),bB=T("editorInlayHint.parameterForeground",ov,p("editorInlayHintForegroundParameter","Foreground color of inline hints for parameters")),vB=T("editorInlayHint.parameterBackground",rv,p("editorInlayHintBackgroundParameter","Background color of inline hints for parameters")),M0=T("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hcDark:"#FFCC00",hcLight:"#007ACC"},p("editorLightBulbForeground","The color used for the lightbulb actions icon.")),yB=T("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},p("editorLightBulbAutoFixForeground","The color used for the lightbulb auto fix actions icon.")),TB=T("editorLightBulbAi.foreground",M0,p("editorLightBulbAiForeground","The color used for the lightbulb AI icon.")),IB=T("editor.snippetTabstopHighlightBackground",{dark:new N(new be(124,124,124,.3)),light:new N(new be(10,50,100,.2)),hcDark:new N(new be(124,124,124,.3)),hcLight:new N(new be(10,50,100,.2))},p("snippetTabstopHighlightBackground","Highlight background color of a snippet tabstop.")),xB=T("editor.snippetTabstopHighlightBorder",null,p("snippetTabstopHighlightBorder","Highlight border color of a snippet tabstop.")),SB=T("editor.snippetFinalTabstopHighlightBackground",null,p("snippetFinalTabstopHighlightBackground","Highlight background color of the final tabstop of a snippet.")),wB=T("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new N(new be(10,50,100,.5)),hcDark:"#525252",hcLight:"#292929"},p("snippetFinalTabstopHighlightBorder","Highlight border color of the final tabstop of a snippet.")),Jb=new N(new be(155,185,85,.2)),Zb=new N(new be(255,0,0,.2)),EB=T("diffEditor.insertedTextBackground",{dark:"#9ccc2c33",light:"#9ccc2c40",hcDark:null,hcLight:null},p("diffEditorInserted","Background color for text that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),kB=T("diffEditor.removedTextBackground",{dark:"#ff000033",light:"#ff000033",hcDark:null,hcLight:null},p("diffEditorRemoved","Background color for text that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),DB=T("diffEditor.insertedLineBackground",{dark:Jb,light:Jb,hcDark:null,hcLight:null},p("diffEditorInsertedLines","Background color for lines that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),_B=T("diffEditor.removedLineBackground",{dark:Zb,light:Zb,hcDark:null,hcLight:null},p("diffEditorRemovedLines","Background color for lines that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),CB=T("diffEditorGutter.insertedLineBackground",null,p("diffEditorInsertedLineGutter","Background color for the margin where lines got inserted.")),LB=T("diffEditorGutter.removedLineBackground",null,p("diffEditorRemovedLineGutter","Background color for the margin where lines got removed.")),AB=T("diffEditorOverview.insertedForeground",null,p("diffEditorOverviewInserted","Diff overview ruler foreground for inserted content.")),MB=T("diffEditorOverview.removedForeground",null,p("diffEditorOverviewRemoved","Diff overview ruler foreground for removed content.")),NB=T("diffEditor.insertedTextBorder",{dark:null,light:null,hcDark:"#33ff2eff",hcLight:"#374E06"},p("diffEditorInsertedOutline","Outline color for the text that got inserted.")),OB=T("diffEditor.removedTextBorder",{dark:null,light:null,hcDark:"#FF008F",hcLight:"#AD0707"},p("diffEditorRemovedOutline","Outline color for text that got removed.")),FB=T("diffEditor.border",{dark:null,light:null,hcDark:ye,hcLight:ye},p("diffEditorBorder","Border color between the two text editors.")),RB=T("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hcDark:null,hcLight:null},p("diffDiagonalFill","Color of the diff editor's diagonal fill. The diagonal fill is used in side-by-side diff views.")),PB=T("diffEditor.unchangedRegionBackground","sideBar.background",p("diffEditor.unchangedRegionBackground","The background color of unchanged blocks in the diff editor.")),BB=T("diffEditor.unchangedRegionForeground","foreground",p("diffEditor.unchangedRegionForeground","The foreground color of unchanged blocks in the diff editor.")),HB=T("diffEditor.unchangedCodeBackground",{dark:"#74747429",light:"#b8b8b829",hcDark:null,hcLight:null},p("diffEditor.unchangedCodeBackground","The background color of unchanged code in the diff editor.")),so=T("widget.shadow",{dark:re(N.black,.36),light:re(N.black,.16),hcDark:null,hcLight:null},p("widgetShadow","Shadow color of widgets such as find/replace inside the editor.")),sv=T("widget.border",{dark:null,light:null,hcDark:ye,hcLight:ye},p("widgetBorder","Border color of widgets such as find/replace inside the editor.")),ev=T("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hcDark:null,hcLight:null},p("toolbarHoverBackground","Toolbar background when hovering over actions using the mouse")),KB=T("toolbar.hoverOutline",{dark:null,light:null,hcDark:Ye,hcLight:Ye},p("toolbarHoverOutline","Toolbar outline when hovering over actions using the mouse")),zB=T("toolbar.activeBackground",{dark:rn(ev,.1),light:ni(ev,.1),hcDark:null,hcLight:null},p("toolbarActiveBackground","Toolbar background when holding the mouse over actions")),av=T("breadcrumb.foreground",re(xe,.8),p("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),lv=T("breadcrumb.background",Id,p("breadcrumbsBackground","Background color of breadcrumb items.")),bp=T("breadcrumb.focusForeground",{light:ni(xe,.2),dark:rn(xe,.1),hcDark:rn(xe,.1),hcLight:rn(xe,.1)},p("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),dv=T("breadcrumb.activeSelectionForeground",{light:ni(xe,.2),dark:rn(xe,.1),hcDark:rn(xe,.1),hcLight:rn(xe,.1)},p("breadcrumbsSelectedForeground","Color of selected breadcrumb items.")),UB=T("breadcrumbPicker.background",Pt,p("breadcrumbsSelectedBackground","Background color of breadcrumb item picker.")),cv=.5,tv=N.fromHex("#40C8AE").transparent(cv),nv=N.fromHex("#40A6FF").transparent(cv),iv=N.fromHex("#606060").transparent(.4),vp=.4,Rr=1,cp=T("merge.currentHeaderBackground",{dark:tv,light:tv,hcDark:null,hcLight:null},p("mergeCurrentHeaderBackground","Current header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),VB=T("merge.currentContentBackground",re(cp,vp),p("mergeCurrentContentBackground","Current content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),up=T("merge.incomingHeaderBackground",{dark:nv,light:nv,hcDark:null,hcLight:null},p("mergeIncomingHeaderBackground","Incoming header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),WB=T("merge.incomingContentBackground",re(up,vp),p("mergeIncomingContentBackground","Incoming content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),hp=T("merge.commonHeaderBackground",{dark:iv,light:iv,hcDark:null,hcLight:null},p("mergeCommonHeaderBackground","Common ancestor header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),qB=T("merge.commonContentBackground",re(hp,vp),p("mergeCommonContentBackground","Common ancestor content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),Pr=T("merge.border",{dark:null,light:null,hcDark:"#C3DF6F",hcLight:"#007ACC"},p("mergeBorder","Border color on headers and the splitter in inline merge-conflicts.")),$B=T("editorOverviewRuler.currentContentForeground",{dark:re(cp,Rr),light:re(cp,Rr),hcDark:Pr,hcLight:Pr},p("overviewRulerCurrentContentForeground","Current overview ruler foreground for inline merge-conflicts.")),GB=T("editorOverviewRuler.incomingContentForeground",{dark:re(up,Rr),light:re(up,Rr),hcDark:Pr,hcLight:Pr},p("overviewRulerIncomingContentForeground","Incoming overview ruler foreground for inline merge-conflicts.")),QB=T("editorOverviewRuler.commonContentForeground",{dark:re(hp,Rr),light:re(hp,Rr),hcDark:Pr,hcLight:Pr},p("overviewRulerCommonContentForeground","Common ancestor overview ruler foreground for inline merge-conflicts.")),jB=T("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hcDark:"#AB5A00",hcLight:"#AB5A00"},p("overviewRulerFindMatchForeground","Overview ruler marker color for find matches. The color must not be opaque so as not to hide underlying decorations."),!0),YB=T("editorOverviewRuler.selectionHighlightForeground","#A0A0A0CC",p("overviewRulerSelectionHighlightForeground","Overview ruler marker color for selection highlights. The color must not be opaque so as not to hide underlying decorations."),!0),uv=T("problemsErrorIcon.foreground",mp,p("problemsErrorIconForeground","The color used for the problems error icon.")),hv=T("problemsWarningIcon.foreground",Br,p("problemsWarningIconForeground","The color used for the problems warning icon.")),pv=T("problemsInfoIcon.foreground",Hr,p("problemsInfoIconForeground","The color used for the problems info icon."));var mv=T("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hcDark:"#AB5A00",hcLight:"#0F4A85"},p("minimapFindMatchHighlight","Minimap marker color for find matches."),!0),nH=T("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hcDark:"#ffffff",hcLight:"#0F4A85"},p("minimapSelectionOccurrenceHighlight","Minimap marker color for repeating editor selections."),!0),iH=T("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hcDark:"#ffffff",hcLight:"#0F4A85"},p("minimapSelectionHighlight","Minimap marker color for the editor selection."),!0),oH=T("minimap.infoHighlight",{dark:Hr,light:Hr,hcDark:gp,hcLight:gp},p("minimapInfo","Minimap marker color for infos.")),rH=T("minimap.warningHighlight",{dark:Br,light:Br,hcDark:fp,hcLight:fp},p("overviewRuleWarning","Minimap marker color for warnings.")),sH=T("minimap.errorHighlight",{dark:new N(new be(255,18,18,.7)),light:new N(new be(255,18,18,.7)),hcDark:new N(new be(255,50,50,1)),hcLight:"#B5200D"},p("minimapError","Minimap marker color for errors.")),aH=T("minimap.background",null,p("minimapBackground","Minimap background color.")),lH=T("minimap.foregroundOpacity",N.fromHex("#000f"),p("minimapForegroundOpacity",'Opacity of foreground elements rendered in the minimap. For example, "#000000c0" will render the elements with 75% opacity.')),dH=T("minimapSlider.background",re(vd,.5),p("minimapSliderBackground","Minimap slider background color.")),cH=T("minimapSlider.hoverBackground",re(yd,.5),p("minimapSliderHoverBackground","Minimap slider background color when hovering.")),uH=T("minimapSlider.activeBackground",re(Td,.5),p("minimapSliderActiveBackground","Minimap slider background color when clicked on."));var bH=T("charts.foreground",xe,p("chartsForeground","The foreground color used in charts.")),vH=T("charts.lines",re(xe,.5),p("chartsLines","The color used for horizontal lines in charts.")),yH=T("charts.red",mp,p("chartsRed","The red color used in chart visualizations.")),TH=T("charts.blue",Hr,p("chartsBlue","The blue color used in chart visualizations.")),IH=T("charts.yellow",Br,p("chartsYellow","The yellow color used in chart visualizations.")),xH=T("charts.orange",mv,p("chartsOrange","The orange color used in chart visualizations.")),SH=T("charts.green",{dark:"#89D185",light:"#388A34",hcDark:"#89D185",hcLight:"#374e06"},p("chartsGreen","The green color used in chart visualizations.")),wH=T("charts.purple",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},p("chartsPurple","The purple color used in chart visualizations."));var fv=T("input.background",{dark:"#3C3C3C",light:N.white,hcDark:N.black,hcLight:N.white},p("inputBoxBackground","Input box background.")),gv=T("input.foreground",xe,p("inputBoxForeground","Input box foreground.")),bv=T("input.border",{dark:null,light:null,hcDark:ye,hcLight:ye},p("inputBoxBorder","Input box border.")),yp=T("inputOption.activeBorder",{dark:"#007ACC",light:"#007ACC",hcDark:ye,hcLight:ye},p("inputBoxActiveOptionBorder","Border color of activated options in input fields.")),N0=T("inputOption.hoverBackground",{dark:"#5a5d5e80",light:"#b8b8b850",hcDark:null,hcLight:null},p("inputOption.hoverBackground","Background color of activated options in input fields.")),Tp=T("inputOption.activeBackground",{dark:re(sn,.4),light:re(sn,.2),hcDark:N.transparent,hcLight:N.transparent},p("inputOption.activeBackground","Background hover color of options in input fields.")),Ip=T("inputOption.activeForeground",{dark:N.white,light:N.black,hcDark:xe,hcLight:xe},p("inputOption.activeForeground","Foreground color of activated options in input fields.")),LH=T("input.placeholderForeground",{light:re(xe,.5),dark:re(xe,.5),hcDark:re(xe,.7),hcLight:re(xe,.7)},p("inputPlaceholderForeground","Input box foreground color for placeholder text.")),vv=T("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hcDark:N.black,hcLight:N.white},p("inputValidationInfoBackground","Input validation background color for information severity.")),yv=T("inputValidation.infoForeground",{dark:null,light:null,hcDark:null,hcLight:xe},p("inputValidationInfoForeground","Input validation foreground color for information severity.")),Tv=T("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hcDark:ye,hcLight:ye},p("inputValidationInfoBorder","Input validation border color for information severity.")),Iv=T("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hcDark:N.black,hcLight:N.white},p("inputValidationWarningBackground","Input validation background color for warning severity.")),xv=T("inputValidation.warningForeground",{dark:null,light:null,hcDark:null,hcLight:xe},p("inputValidationWarningForeground","Input validation foreground color for warning severity.")),Sv=T("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hcDark:ye,hcLight:ye},p("inputValidationWarningBorder","Input validation border color for warning severity.")),wv=T("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hcDark:N.black,hcLight:N.white},p("inputValidationErrorBackground","Input validation background color for error severity.")),Ev=T("inputValidation.errorForeground",{dark:null,light:null,hcDark:null,hcLight:xe},p("inputValidationErrorForeground","Input validation foreground color for error severity.")),kv=T("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hcDark:ye,hcLight:ye},p("inputValidationErrorBorder","Input validation border color for error severity.")),Ur=T("dropdown.background",{dark:"#3C3C3C",light:N.white,hcDark:N.black,hcLight:N.white},p("dropdownBackground","Dropdown background.")),Dv=T("dropdown.listBackground",{dark:null,light:null,hcDark:N.black,hcLight:N.white},p("dropdownListBackground","Dropdown list background.")),oa=T("dropdown.foreground",{dark:"#F0F0F0",light:xe,hcDark:N.white,hcLight:xe},p("dropdownForeground","Dropdown foreground.")),xp=T("dropdown.border",{dark:Ur,light:"#CECECE",hcDark:ye,hcLight:ye},p("dropdownBorder","Dropdown border.")),Sp=T("button.foreground",N.white,p("buttonForeground","Button foreground color.")),_v=T("button.separator",re(Sp,.4),p("buttonSeparator","Button separator color.")),Kr=T("button.background",{dark:"#0E639C",light:"#007ACC",hcDark:null,hcLight:"#0F4A85"},p("buttonBackground","Button background color.")),Cv=T("button.hoverBackground",{dark:rn(Kr,.2),light:ni(Kr,.2),hcDark:Kr,hcLight:Kr},p("buttonHoverBackground","Button background color when hovering.")),Lv=T("button.border",ye,p("buttonBorder","Button border color.")),Av=T("button.secondaryForeground",{dark:N.white,light:N.white,hcDark:N.white,hcLight:xe},p("buttonSecondaryForeground","Secondary button foreground color.")),xd=T("button.secondaryBackground",{dark:"#3A3D41",light:"#5F6A79",hcDark:null,hcLight:N.white},p("buttonSecondaryBackground","Secondary button background color.")),Mv=T("button.secondaryHoverBackground",{dark:rn(xd,.2),light:ni(xd,.2),hcDark:null,hcLight:null},p("buttonSecondaryHoverBackground","Secondary button background color when hovering.")),zr=T("radio.activeForeground",Ip,p("radioActiveForeground","Foreground color of active radio option.")),Nv=T("radio.activeBackground",Tp,p("radioBackground","Background color of active radio option.")),Ov=T("radio.activeBorder",yp,p("radioActiveBorder","Border color of the active radio option.")),Fv=T("radio.inactiveForeground",null,p("radioInactiveForeground","Foreground color of inactive radio option.")),Rv=T("radio.inactiveBackground",null,p("radioInactiveBackground","Background color of inactive radio option.")),Pv=T("radio.inactiveBorder",{light:re(zr,.2),dark:re(zr,.2),hcDark:re(zr,.4),hcLight:re(zr,.2)},p("radioInactiveBorder","Border color of the inactive radio option.")),Bv=T("radio.inactiveHoverBackground",N0,p("radioHoverBackground","Background color of inactive active radio option when hovering.")),Hv=T("checkbox.background",Ur,p("checkbox.background","Background color of checkbox widget.")),AH=T("checkbox.selectBackground",Pt,p("checkbox.select.background","Background color of checkbox widget when the element it's in is selected.")),Kv=T("checkbox.foreground",oa,p("checkbox.foreground","Foreground color of checkbox widget.")),zv=T("checkbox.border",xp,p("checkbox.border","Border color of checkbox widget.")),MH=T("checkbox.selectBorder",na,p("checkbox.select.border","Border color of checkbox widget when the element it's in is selected.")),Uv=T("keybindingLabel.background",{dark:new N(new be(128,128,128,.17)),light:new N(new be(221,221,221,.4)),hcDark:N.transparent,hcLight:N.transparent},p("keybindingLabelBackground","Keybinding label background color. The keybinding label is used to represent a keyboard shortcut.")),Vv=T("keybindingLabel.foreground",{dark:N.fromHex("#CCCCCC"),light:N.fromHex("#555555"),hcDark:N.white,hcLight:xe},p("keybindingLabelForeground","Keybinding label foreground color. The keybinding label is used to represent a keyboard shortcut.")),Wv=T("keybindingLabel.border",{dark:new N(new be(51,51,51,.6)),light:new N(new be(204,204,204,.4)),hcDark:new N(new be(111,195,223)),hcLight:ye},p("keybindingLabelBorder","Keybinding label border color. The keybinding label is used to represent a keyboard shortcut.")),qv=T("keybindingLabel.bottomBorder",{dark:new N(new be(68,68,68,.6)),light:new N(new be(187,187,187,.4)),hcDark:new N(new be(111,195,223)),hcLight:xe},p("keybindingLabelBottomBorder","Keybinding label border bottom color. The keybinding label is used to represent a keyboard shortcut."));var $v=T("list.focusBackground",null,p("listFocusBackground","List/Tree background color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Gv=T("list.focusForeground",null,p("listFocusForeground","List/Tree foreground color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Qv=T("list.focusOutline",{dark:sn,light:sn,hcDark:Ye,hcLight:Ye},p("listFocusOutline","List/Tree outline color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),jv=T("list.focusAndSelectionOutline",null,p("listFocusAndSelectionOutline","List/Tree outline color for the focused item when the list/tree is active and selected. An active list/tree has keyboard focus, an inactive does not.")),ii=T("list.activeSelectionBackground",{dark:"#04395E",light:"#0060C0",hcDark:null,hcLight:N.fromHex("#0F4A85").transparent(.1)},p("listActiveSelectionBackground","List/Tree background color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),ao=T("list.activeSelectionForeground",{dark:N.white,light:N.white,hcDark:null,hcLight:null},p("listActiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),wd=T("list.activeSelectionIconForeground",null,p("listActiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Yv=T("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hcDark:null,hcLight:N.fromHex("#0F4A85").transparent(.1)},p("listInactiveSelectionBackground","List/Tree background color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Xv=T("list.inactiveSelectionForeground",null,p("listInactiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Jv=T("list.inactiveSelectionIconForeground",null,p("listInactiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Zv=T("list.inactiveFocusBackground",null,p("listInactiveFocusBackground","List/Tree background color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),ey=T("list.inactiveFocusOutline",null,p("listInactiveFocusOutline","List/Tree outline color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),wp=T("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:N.white.transparent(.1),hcLight:N.fromHex("#0F4A85").transparent(.1)},p("listHoverBackground","List/Tree background when hovering over items using the mouse.")),Ep=T("list.hoverForeground",null,p("listHoverForeground","List/Tree foreground when hovering over items using the mouse.")),ty=T("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hcDark:null,hcLight:null},p("listDropBackground","List/Tree drag and drop background when moving items over other items when using the mouse.")),ny=T("list.dropBetweenBackground",{dark:na,light:na,hcDark:null,hcLight:null},p("listDropBetweenBackground","List/Tree drag and drop border color when moving items between items when using the mouse.")),Sd=T("list.highlightForeground",{dark:"#2AAAFF",light:"#0066BF",hcDark:sn,hcLight:sn},p("highlight","List/Tree foreground color of the match highlights when searching inside the list/tree.")),BH=T("list.focusHighlightForeground",{dark:Sd,light:qb(ii,Sd,"#BBE7FF"),hcDark:Sd,hcLight:Sd},p("listFocusHighlightForeground","List/Tree foreground color of the match highlights on actively focused items when searching inside the list/tree.")),HH=T("list.invalidItemForeground",{dark:"#B89500",light:"#B89500",hcDark:"#B89500",hcLight:"#B5200D"},p("invalidItemForeground","List/Tree foreground color for invalid items, for example an unresolved root in explorer.")),KH=T("list.errorForeground",{dark:"#F88070",light:"#B01011",hcDark:null,hcLight:null},p("listErrorForeground","Foreground color of list items containing errors.")),zH=T("list.warningForeground",{dark:"#CCA700",light:"#855F00",hcDark:null,hcLight:null},p("listWarningForeground","Foreground color of list items containing warnings.")),iy=T("listFilterWidget.background",{light:ni(Pt,0),dark:rn(Pt,0),hcDark:Pt,hcLight:Pt},p("listFilterWidgetBackground","Background color of the type filter widget in lists and trees.")),oy=T("listFilterWidget.outline",{dark:N.transparent,light:N.transparent,hcDark:"#f38518",hcLight:"#007ACC"},p("listFilterWidgetOutline","Outline color of the type filter widget in lists and trees.")),ry=T("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hcDark:ye,hcLight:ye},p("listFilterWidgetNoMatchesOutline","Outline color of the type filter widget in lists and trees, when there are no matches.")),sy=T("listFilterWidget.shadow",so,p("listFilterWidgetShadow","Shadow color of the type filter widget in lists and trees.")),UH=T("list.filterMatchBackground",{dark:oo,light:oo,hcDark:null,hcLight:null},p("listFilterMatchHighlight","Background color of the filtered match.")),VH=T("list.filterMatchBorder",{dark:ro,light:ro,hcDark:ye,hcLight:Ye},p("listFilterMatchHighlightBorder","Border color of the filtered match.")),WH=T("list.deemphasizedForeground",{dark:"#8C8C8C",light:"#8E8E90",hcDark:"#A7A8A9",hcLight:"#666666"},p("listDeemphasizedForeground","List/Tree foreground color for items that are deemphasized.")),kp=T("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hcDark:"#a9a9a9",hcLight:"#a5a5a5"},p("treeIndentGuidesStroke","Tree stroke color for the indentation guides.")),ay=T("tree.inactiveIndentGuidesStroke",re(kp,.4),p("treeInactiveIndentGuidesStroke","Tree stroke color for the indentation guides that are not active.")),ly=T("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hcDark:null,hcLight:null},p("tableColumnsBorder","Table border color between columns.")),dy=T("tree.tableOddRowsBackground",{dark:re(xe,.04),light:re(xe,.04),hcDark:null,hcLight:null},p("tableOddRowsBackgroundColor","Background color for odd table rows.")),qH=T("editorActionList.background",Pt,p("editorActionListBackground","Action List background color.")),$H=T("editorActionList.foreground",Ko,p("editorActionListForeground","Action List foreground color.")),GH=T("editorActionList.focusForeground",ao,p("editorActionListFocusForeground","Action List foreground color for the focused item.")),QH=T("editorActionList.focusBackground",ii,p("editorActionListFocusBackground","Action List background color for the focused item."));var cy=T("menu.border",{dark:null,light:null,hcDark:ye,hcLight:ye},p("menuBorder","Border color of menus.")),uy=T("menu.foreground",oa,p("menuForeground","Foreground color of menu items.")),hy=T("menu.background",Ur,p("menuBackground","Background color of menu items.")),py=T("menu.selectionForeground",ao,p("menuSelectionForeground","Foreground color of the selected menu item in menus.")),my=T("menu.selectionBackground",ii,p("menuSelectionBackground","Background color of the selected menu item in menus.")),fy=T("menu.selectionBorder",{dark:null,light:null,hcDark:Ye,hcLight:Ye},p("menuSelectionBorder","Border color of the selected menu item in menus.")),gy=T("menu.separatorBackground",{dark:"#606060",light:"#D4D4D4",hcDark:ye,hcLight:ye},p("menuSeparatorBackground","Color of a separator menu item in menus."));var Dp=T("quickInput.background",Pt,p("pickerBackground","Quick picker background color. The quick picker widget is the container for pickers like the command palette.")),vy=T("quickInput.foreground",Ko,p("pickerForeground","Quick picker foreground color. The quick picker widget is the container for pickers like the command palette.")),yy=T("quickInputTitle.background",{dark:new N(new be(255,255,255,.105)),light:new N(new be(0,0,0,.06)),hcDark:"#000000",hcLight:N.white},p("pickerTitleBackground","Quick picker title background color. The quick picker widget is the container for pickers like the command palette.")),Ed=T("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hcDark:N.white,hcLight:"#0F4A85"},p("pickerGroupForeground","Quick picker color for grouping labels.")),Ty=T("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hcDark:N.white,hcLight:"#0F4A85"},p("pickerGroupBorder","Quick picker color for grouping borders.")),by=T("quickInput.list.focusBackground",null,"",void 0,p("quickInput.list.focusBackground deprecation","Please use quickInputList.focusBackground instead")),ra=T("quickInputList.focusForeground",ao,p("quickInput.listFocusForeground","Quick picker foreground color for the focused item.")),kd=T("quickInputList.focusIconForeground",wd,p("quickInput.listFocusIconForeground","Quick picker icon foreground color for the focused item.")),sa=T("quickInputList.focusBackground",{dark:lp(by,ii),light:lp(by,ii),hcDark:null,hcLight:null},p("quickInput.listFocusBackground","Quick picker background color for the focused item."));var dK=T("search.resultsInfoForeground",{light:xe,dark:re(xe,.65),hcDark:xe,hcLight:xe},p("search.resultsInfoForeground","Color of the text in the search viewlet's completion message.")),cK=T("searchEditor.findMatchBackground",{light:re(oo,.66),dark:re(oo,.66),hcDark:oo,hcLight:oo},p("searchEditor.queryMatch","Color of the Search Editor query matches.")),uK=T("searchEditor.findMatchBorder",{light:re(ro,.66),dark:re(ro,.66),hcDark:ro,hcLight:ro},p("searchEditor.editorFindMatchBorder","Border color of the Search Editor query matches."));var O0=()=>({msLoopTime:-1,msDelayTime:-1,dispose:()=>{}}),F0=O0;function Iy(n,e){return F0(n,e)}var _p="done",Cp="active",Dd="infinite",_d="infinite-long-running",Lp="discrete";var Cd=class n extends V{static LONG_RUNNING_INFINITE_THRESHOLD=1e4;static PROGRESS_SIGNAL_DEFAULT_DELAY=3e3;workedVal;element;bit;totalWork;showDelayedScheduler;longRunningScheduler;progressSignal=this._register(new wo);constructor(e,t){super(),this.workedVal=0,this.showDelayedScheduler=this._register(new Gn(()=>Ws(this.element),0)),this.longRunningScheduler=this._register(new Gn(()=>this.infiniteLongRunning(),n.LONG_RUNNING_INFINITE_THRESHOLD)),this.create(e,t)}create(e,t){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),e.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.bit.style.backgroundColor=t?.progressBarBackground||"#0E70C0",this.element.appendChild(this.bit)}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove(Cp,Dd,_d,Lp),this.workedVal=0,this.totalWork=void 0,this.longRunningScheduler.cancel(),this.progressSignal.clear()}done(){return this.doDone(!0)}stop(){return this.doDone(!1)}doDone(e){return this.element.classList.add(_p),this.element.classList.contains(Dd)?(this.bit.style.opacity="0",e?setTimeout(()=>this.off(),200):this.off()):(this.bit.style.width="inherit",e?setTimeout(()=>this.off(),200):this.off()),this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove(Lp,_p,_d),this.element.classList.add(Cp,Dd),this.longRunningScheduler.schedule(),this}infiniteLongRunning(){this.element.classList.add(_d)}total(e){return this.workedVal=0,this.totalWork=e,this.element.setAttribute("aria-valuemax",e.toString()),this}hasTotal(){return yi(this.totalWork)}worked(e){return e=Math.max(1,Number(e)),this.doSetWorked(this.workedVal+e)}setWorked(e){return e=Math.max(1,Number(e)),this.doSetWorked(e)}doSetWorked(e){let t=this.totalWork||100;return this.workedVal=e,this.workedVal=Math.min(t,this.workedVal),this.element.classList.remove(Dd,_d,_p),this.element.classList.add(Cp,Lp),this.element.setAttribute("aria-valuenow",e.toString()),this.bit.style.width=100*(this.workedVal/t)+"%",this}getContainer(){return this.element}show(e){this.showDelayedScheduler.cancel(),this.progressSignal.value=Iy(n.PROGRESS_SIGNAL_DEFAULT_DELAY),typeof e=="number"?this.showDelayedScheduler.schedule(e):Ws(this.element)}hide(){Fl(this.element),this.showDelayedScheduler.cancel(),this.progressSignal.clear()}};var Ld=class{constructor(e,t=0,i=e.length,o=t-1){this.items=e;this.start=t;this.end=i;this.index=o}current(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]}next(){return this.index=Math.min(this.index+1,this.end),this.current()}previous(){return this.index=Math.max(this.index-1,this.start-1),this.current()}first(){return this.index=this.start,this.current()}last(){return this.index=this.end-1,this.current()}};var Ad=class{_history;_limit;_navigator;constructor(e=[],t=10){this._initialize(e),this._limit=t,this._onChange()}getHistory(){return this._elements}add(e){this._history.delete(e),this._history.add(e),this._onChange()}next(){return this._navigator.next()}previous(){return this._currentPosition()!==0?this._navigator.previous():null}current(){return this._navigator.current()}first(){return this._navigator.first()}last(){return this._navigator.last()}isFirst(){return this._currentPosition()===0}isLast(){return this._currentPosition()>=this._elements.length-1}isNowhere(){return this._navigator.current()===null}has(e){return this._history.has(e)}clear(){this._initialize([]),this._onChange()}_onChange(){this._reduceToLimit();let e=this._elements;this._navigator=new Ld(e,0,e.length,e.length)}_reduceToLimit(){let e=this._elements;e.length>this._limit&&this._initialize(e.slice(e.length-this._limit))}_currentPosition(){let e=this._navigator.current();return e?this._elements.indexOf(e):-1}_initialize(e){this._history=new Set;for(let t of e)this._history.add(t)}get _elements(){let e=[];return this._history.forEach(t=>e.push(t)),e}};var aa=ee;var xy={inputBackground:"#3C3C3C",inputForeground:"#CCCCCC",inputValidationInfoBorder:"#55AAFF",inputValidationInfoBackground:"#063B49",inputValidationWarningBorder:"#B89500",inputValidationWarningBackground:"#352A05",inputValidationErrorBorder:"#BE1100",inputValidationErrorBackground:"#5A1D1D",inputBorder:void 0,inputValidationErrorForeground:void 0,inputValidationInfoForeground:void 0,inputValidationWarningForeground:void 0},Md=class extends Rt{contextViewProvider;element;input;actionbar;options;message;placeholder;tooltip;ariaLabel;validation;state="idle";mirror;cachedHeight;cachedContentHeight;maxHeight=Number.POSITIVE_INFINITY;scrollableElement;hover;_onDidChange=this._register(new k);onDidChange=this._onDidChange.event;_onDidHeightChange=this._register(new k);onDidHeightChange=this._onDidHeightChange.event;constructor(e,t,i){super(),this.contextViewProvider=t,this.options=i,this.message=null,this.placeholder=this.options.placeholder||"",this.tooltip=this.options.tooltip??(this.placeholder||""),this.ariaLabel=this.options.ariaLabel||"",this.options.validationOptions&&(this.validation=this.options.validationOptions.validation),this.element=G(e,aa(".monaco-inputbox.idle"));let o=this.options.flexibleHeight?"textarea":"input",r=G(this.element,aa(".ibwrapper"));if(this.input=G(r,aa(o+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,()=>this.element.classList.add("synthetic-focus")),this.onblur(this.input,()=>this.element.classList.remove("synthetic-focus")),this.options.flexibleHeight){this.maxHeight=typeof this.options.flexibleMaxHeight=="number"?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=G(r,aa("div.mirror")),this.mirror.innerText="\xA0",this.scrollableElement=new Zl(this.element,{vertical:1}),this.options.flexibleWidth&&(this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial"),G(e,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll(l=>this.input.scrollTop=l.scrollTop));let s=this._register(new se(e.ownerDocument,"selectionchange")),a=_.filter(s.event,()=>e.ownerDocument.getSelection()?.anchorNode===r);this._register(a(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");this.ariaLabel&&this.input.setAttribute("aria-label",this.ariaLabel),this.placeholder&&!this.options.showPlaceholderOnFocus&&this.setPlaceHolder(this.placeholder),this.tooltip&&this.setTooltip(this.tooltip),this.oninput(this.input,()=>this.onValueChange()),this.onblur(this.input,()=>this.onBlur()),this.onfocus(this.input,()=>this.onFocus()),this._register(this.ignoreGesture(this.input)),setTimeout(()=>this.updateMirror(),0),this.options.actions&&(this.actionbar=this._register(new tn(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1})),this.applyStyles()}onBlur(){this._hideMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder","")}onFocus(){this._showMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder",this.placeholder||"")}setPlaceHolder(e){this.placeholder=e,this.input.setAttribute("placeholder",e)}setTooltip(e){this.tooltip=e,this.hover?this.hover.update(e):this.hover=this._register(Dt().setupManagedHover(Ze("mouse"),this.input,e))}setAriaLabel(e){this.ariaLabel=e,e?this.input.setAttribute("aria-label",this.ariaLabel):this.input.removeAttribute("aria-label")}getAriaLabel(){return this.ariaLabel}get mirrorElement(){return this.mirror}get inputElement(){return this.input}get value(){return this.input.value}set value(e){this.input.value!==e&&(this.input.value=e,this.onValueChange())}get step(){return this.input.step}set step(e){this.input.step=e}get height(){return typeof this.cachedHeight=="number"?this.cachedHeight:Ml(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return Jt(this.input)}select(e=null){this.input.select(),e&&(this.input.setSelectionRange(e.start,e.end),e.end===this.input.value.length&&(this.input.scrollLeft=this.input.scrollWidth))}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}getSelection(){let e=this.input.selectionStart;if(e===null)return null;let t=this.input.selectionEnd??e;return{start:e,end:t}}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}setEnabled(e){e?this.enable():this.disable()}get width(){return Us(this.input)}set width(e){if(this.options.flexibleHeight&&this.options.flexibleWidth){let t=0;if(this.mirror){let i=parseFloat(this.mirror.style.paddingLeft||"")||0,o=parseFloat(this.mirror.style.paddingRight||"")||0;t=i+o}this.input.style.width=e-t+"px"}else this.input.style.width=e+"px";this.mirror&&(this.mirror.style.width=e+"px")}set paddingRight(e){this.input.style.width=`calc(100% - ${e}px)`,this.mirror&&(this.mirror.style.paddingRight=e+"px")}updateScrollDimensions(){if(typeof this.cachedContentHeight!="number"||typeof this.cachedHeight!="number"||!this.scrollableElement)return;let e=this.cachedContentHeight,t=this.cachedHeight,i=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:e,height:t}),this.scrollableElement.setScrollPosition({scrollTop:i})}showMessage(e,t){if(this.state==="open"&&on(this.message,e))return;this.message=e,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(e.type));let i=this.stylesForType(this.message.type);this.element.style.border=`1px solid ${vn(i.border,"transparent")}`,this.message.content&&(this.hasFocus()||t)&&this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}isInputValid(){return!!this.validation&&!this.validation(this.value)}validate(){let e=null;return this.validation&&(e=this.validation(this.value),e?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(e)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),e?.type}stylesForType(e){let t=this.options.inputBoxStyles;switch(e){case 1:return{border:t.inputValidationInfoBorder,background:t.inputValidationInfoBackground,foreground:t.inputValidationInfoForeground};case 2:return{border:t.inputValidationWarningBorder,background:t.inputValidationWarningBackground,foreground:t.inputValidationWarningForeground};default:return{border:t.inputValidationErrorBorder,background:t.inputValidationErrorBackground,foreground:t.inputValidationErrorForeground}}}classForType(e){switch(e){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(!this.contextViewProvider||!this.message)return;let e,t=()=>e.style.width=Us(this.element)+"px";this.contextViewProvider.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:o=>{if(!this.message)return null;e=G(o,aa(".monaco-inputbox-container")),t();let r={inline:!0,className:"monaco-inputbox-message"},s=this.message.formatContent?fb(this.message.content,r):mb(this.message.content,r);s.classList.add(this.classForType(this.message.type));let a=this.stylesForType(this.message.type);return s.style.backgroundColor=a.background??"",s.style.color=a.foreground??"",s.style.border=a.border?`1px solid ${a.border}`:"",G(e,s),null},onHide:()=>{this.state="closed"},layout:t});let i;this.message.type===3?i=p("alertErrorMessage","Error: {0}",this.message.content):this.message.type===2?i=p("alertWarningMessage","Warning: {0}",this.message.content):i=p("alertInfoMessage","Info: {0}",this.message.content),eo(i),this.state="open"}_hideMessage(){this.contextViewProvider&&(this.state==="open"&&this.contextViewProvider.hideContextView(),this.state="idle")}onValueChange(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),this.state==="open"&&this.contextViewProvider&&this.contextViewProvider.layout()}updateMirror(){if(!this.mirror)return;let e=this.value,i=e.charCodeAt(e.length-1)===10?" ":"";(e+i).replace(/\u000c/g,"")?this.mirror.textContent=e+i:this.mirror.innerText="\xA0",this.layout()}applyStyles(){let e=this.options.inputBoxStyles,t=e.inputBackground??"",i=e.inputForeground??"",o=e.inputBorder??"";this.element.style.backgroundColor=t,this.element.style.color=i,this.input.style.backgroundColor="inherit",this.input.style.color=i,this.element.style.border=`1px solid ${vn(o,"transparent")}`}layout(){if(!this.mirror)return;let e=this.cachedContentHeight;this.cachedContentHeight=Ml(this.mirror),e!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}insertAtCursor(e){let t=this.inputElement,i=t.selectionStart,o=t.selectionEnd,r=t.value;i!==null&&o!==null&&(this.value=r.substr(0,i)+e+r.substr(o),t.setSelectionRange(i+1,i+1),this.layout())}dispose(){this._hideMessage(),this.message=null,this.actionbar?.dispose(),super.dispose()}},Nd=class extends Md{history;observer;_onDidFocus=this._register(new k);onDidFocus=this._onDidFocus.event;_onDidBlur=this._register(new k);onDidBlur=this._onDidBlur.event;constructor(e,t,i){let o=p({key:"history.inputbox.hint.suffix.noparens",comment:['Text is the suffix of an input field placeholder coming after the action the input field performs, this will be used when the input field ends in a closing parenthesis ")", for example "Filter (e.g. text, !exclude)". The character inserted into the final string is \u21C5 to represent the up and down arrow keys.']}," or {0} for history","\u21C5"),r=p({key:"history.inputbox.hint.suffix.inparens",comment:['Text is the suffix of an input field placeholder coming after the action the input field performs, this will be used when the input field does NOT end in a closing parenthesis (eg. "Find"). The character inserted into the final string is \u21C5 to represent the up and down arrow keys.']}," ({0} for history)","\u21C5");super(e,t,i),this.history=new Ad(i.history,100);let s=()=>{if(i.showHistoryHint&&i.showHistoryHint()&&!this.placeholder.endsWith(o)&&!this.placeholder.endsWith(r)&&this.history.getHistory().length){let a=this.placeholder.endsWith(")")?o:r,l=this.placeholder+a;i.showPlaceholderOnFocus&&!Jt(this.input)?this.placeholder=l:this.setPlaceHolder(l)}};this.observer=new MutationObserver((a,l)=>{a.forEach(d=>{d.target.textContent||s()})}),this.observer.observe(this.input,{attributeFilter:["class"]}),this.onfocus(this.input,()=>s()),this.onblur(this.input,()=>{let a=l=>{if(this.placeholder.endsWith(l)){let d=this.placeholder.slice(0,this.placeholder.length-l.length);return i.showPlaceholderOnFocus?this.placeholder=d:this.setPlaceHolder(d),!0}else return!1};a(r)||a(o)})}dispose(){super.dispose(),this.observer&&(this.observer.disconnect(),this.observer=void 0)}addToHistory(e){this.value&&(e||this.value!==this.getCurrentValue())&&this.history.add(this.value)}prependHistory(e){let t=this.getHistory();this.clearHistory(),e.forEach(i=>{this.history.add(i)}),t.forEach(i=>{this.history.add(i)})}getHistory(){return this.history.getHistory()}isAtFirstInHistory(){return this.history.isFirst()}isAtLastInHistory(){return this.history.isLast()}isNowhereInHistory(){return this.history.isNowhere()}showNextValue(){this.history.has(this.value)||this.addToHistory();let e=this.getNextValue();e&&(e=e===this.value?this.getNextValue():e),this.value=e??"",Ah(this.value?this.value:p("clearedInput","Cleared Input"))}showPreviousValue(){this.history.has(this.value)||this.addToHistory();let e=this.getPreviousValue();e&&(e=e===this.value?this.getPreviousValue():e),e&&(this.value=e,Ah(this.value))}clearHistory(){this.history.clear()}setPlaceHolder(e){super.setPlaceHolder(e),this.setTooltip(e)}onBlur(){super.onBlur(),this._onDidBlur.fire()}onFocus(){super.onFocus(),this._onDidFocus.fire()}getCurrentValue(){let e=this.history.current();return e||(e=this.history.last(),this.history.next()),e}getPreviousValue(){return this.history.previous()||this.history.first()}getNextValue(){return this.history.next()}};var R0=p("caseDescription","Match Case"),P0=p("wordsDescription","Match Whole Word"),B0=p("regexDescription","Use Regular Expression"),Od=class extends An{constructor(e){super({icon:Le.caseSensitive,title:R0+e.appendTitle,isChecked:e.isChecked,hoverDelegate:e.hoverDelegate??Ze("element"),inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}},Fd=class extends An{constructor(e){super({icon:Le.wholeWord,title:P0+e.appendTitle,isChecked:e.isChecked,hoverDelegate:e.hoverDelegate??Ze("element"),inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}},Rd=class extends An{constructor(e){super({icon:Le.regex,title:B0+e.appendTitle,isChecked:e.isChecked,hoverDelegate:e.hoverDelegate??Ze("element"),inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}};var H0=p("defaultLabel","input"),Vr=class extends Rt{static OPTION_CHANGE="optionChange";placeholder;validation;label;showCommonFindToggles;fixFocusOnOptionClickEnabled=!0;imeSessionInProgress=!1;additionalTogglesDisposables=this._register(new wo);controls;regex;wholeWords;caseSensitive;additionalToggles=[];domNode;inputBox;_onDidOptionChange=this._register(new k);onDidOptionChange=this._onDidOptionChange.event;_onKeyDown=this._register(new k);onKeyDown=this._onKeyDown.event;_onMouseDown=this._register(new k);onMouseDown=this._onMouseDown.event;_onInput=this._register(new k);onInput=this._onInput.event;_onKeyUp=this._register(new k);onKeyUp=this._onKeyUp.event;_onCaseSensitiveKeyDown=this._register(new k);onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event;_onRegexKeyDown=this._register(new k);onRegexKeyDown=this._onRegexKeyDown.event;constructor(e,t,i){super(),this.placeholder=i.placeholder||"",this.validation=i.validation,this.label=i.label||H0,this.showCommonFindToggles=!!i.showCommonFindToggles;let o=i.appendCaseSensitiveLabel||"",r=i.appendWholeWordsLabel||"",s=i.appendRegexLabel||"",a=i.history||[],l=!!i.flexibleHeight,d=!!i.flexibleWidth,u=i.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new Nd(this.domNode,t,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},history:a,showHistoryHint:i.showHistoryHint,flexibleHeight:l,flexibleWidth:d,flexibleMaxHeight:u,inputBoxStyles:i.inputBoxStyles}));let h=this._register(Ro());if(this.showCommonFindToggles){this.regex=this._register(new Rd({appendTitle:s,isChecked:!1,hoverDelegate:h,...i.toggleStyles})),this._register(this.regex.onChange(y=>{this._onDidOptionChange.fire(y),!y&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.regex.onKeyDown(y=>{this._onRegexKeyDown.fire(y)})),this.wholeWords=this._register(new Fd({appendTitle:r,isChecked:!1,hoverDelegate:h,...i.toggleStyles})),this._register(this.wholeWords.onChange(y=>{this._onDidOptionChange.fire(y),!y&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this.caseSensitive=this._register(new Od({appendTitle:o,isChecked:!1,hoverDelegate:h,...i.toggleStyles})),this._register(this.caseSensitive.onChange(y=>{this._onDidOptionChange.fire(y),!y&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.caseSensitive.onKeyDown(y=>{this._onCaseSensitiveKeyDown.fire(y)}));let m=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,y=>{if(y.equals(15)||y.equals(17)||y.equals(9)){let w=m.indexOf(this.domNode.ownerDocument.activeElement);if(w>=0){let f=-1;y.equals(17)?f=(w+1)%m.length:y.equals(15)&&(w===0?f=m.length-1:f=w-1),y.equals(9)?(m[w].blur(),this.inputBox.focus()):f>=0&&m[f].focus(),Re.stop(y,!0)}}})}this.controls=document.createElement("div"),this.controls.className="controls",this.controls.style.display=this.showCommonFindToggles?"":"none",this.caseSensitive&&this.controls.append(this.caseSensitive.domNode),this.wholeWords&&this.controls.appendChild(this.wholeWords.domNode),this.regex&&this.controls.appendChild(this.regex.domNode),this.setAdditionalToggles(i?.additionalToggles),this.controls&&this.domNode.appendChild(this.controls),e?.appendChild(this.domNode),this._register($(this.inputBox.inputElement,"compositionstart",m=>{this.imeSessionInProgress=!0})),this._register($(this.inputBox.inputElement,"compositionend",m=>{this.imeSessionInProgress=!1,this._onInput.fire()})),this.onkeydown(this.inputBox.inputElement,m=>this._onKeyDown.fire(m)),this.onkeyup(this.inputBox.inputElement,m=>this._onKeyUp.fire(m)),this.oninput(this.inputBox.inputElement,m=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,m=>this._onMouseDown.fire(m))}get isImeSessionInProgress(){return this.imeSessionInProgress}get onDidChange(){return this.inputBox.onDidChange}layout(e){this.inputBox.layout(),this.updateInputBoxPadding(e.collapsedFindWidget)}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.regex?.enable(),this.wholeWords?.enable(),this.caseSensitive?.enable();for(let e of this.additionalToggles)e.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.regex?.disable(),this.wholeWords?.disable(),this.caseSensitive?.disable();for(let e of this.additionalToggles)e.disable()}setFocusInputOnOptionClick(e){this.fixFocusOnOptionClickEnabled=e}setEnabled(e){e?this.enable():this.disable()}setAdditionalToggles(e){for(let t of this.additionalToggles)t.domNode.remove();this.additionalToggles=[],this.additionalTogglesDisposables.value=new q;for(let t of e??[])this.additionalTogglesDisposables.value.add(t),this.controls.appendChild(t.domNode),this.additionalTogglesDisposables.value.add(t.onChange(i=>{this._onDidOptionChange.fire(i),!i&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus()})),this.additionalToggles.push(t);this.additionalToggles.length>0&&(this.controls.style.display=""),this.updateInputBoxPadding()}updateInputBoxPadding(e=!1){e?this.inputBox.paddingRight=0:this.inputBox.paddingRight=(this.caseSensitive?.width()??0)+(this.wholeWords?.width()??0)+(this.regex?.width()??0)+this.additionalToggles.reduce((t,i)=>t+i.width(),0)}clear(){this.clearValidation(),this.setValue(""),this.focus()}getValue(){return this.inputBox.value}setValue(e){this.inputBox.value!==e&&(this.inputBox.value=e)}onSearchSubmit(){this.inputBox.addToHistory()}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){return this.caseSensitive?.checked??!1}setCaseSensitive(e){this.caseSensitive&&(this.caseSensitive.checked=e)}getWholeWords(){return this.wholeWords?.checked??!1}setWholeWords(e){this.wholeWords&&(this.wholeWords.checked=e)}getRegex(){return this.regex?.checked??!1}setRegex(e){this.regex&&(this.regex.checked=e,this.validate())}focusOnCaseSensitive(){this.caseSensitive?.focus()}focusOnRegex(){this.regex?.focus()}_lastHighlightFindOptions=0;highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}showMessage(e){this.inputBox.showMessage(e)}clearMessage(){this.inputBox.hideMessage()}clearValidation(){this.inputBox.hideMessage()}};var ze=class extends Error{constructor(e,t){super(`TreeError [${e}] ${t}`)}},zo=class{constructor(e){this.fn=e}_map=new WeakMap;map(e){let t=this._map.get(e);return t||(t=this.fn(e),this._map.set(e,t)),t}};var Nn=class{originalStart;originalLength;modifiedStart;modifiedLength;constructor(e,t,i,o){this.originalStart=e,this.originalLength=t,this.modifiedStart=i,this.modifiedLength=o}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}};var lo=class{static Assert(e,t){if(!e)throw new Error(t)}},co=class{static Copy(e,t,i,o,r){for(let s=0;s<r;s++)i[o+s]=e[t+s]}static Copy2(e,t,i,o,r){for(let s=0;s<r;s++)i[o+s]=e[t+s]}};var Pd=class{m_changes;m_originalStart;m_modifiedStart;m_originalCount;m_modifiedCount;constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new Nn(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(e,t){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,t),this.m_originalCount++}AddModifiedElement(e,t){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,t),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}},Bd=class n{ContinueProcessingPredicate;_originalSequence;_modifiedSequence;_hasStrings;_originalStringElements;_originalElementsOrHash;_modifiedStringElements;_modifiedElementsOrHash;m_forwardHistory;m_reverseHistory;constructor(e,t,i=null){this.ContinueProcessingPredicate=i,this._originalSequence=e,this._modifiedSequence=t;let[o,r,s]=n._getElements(e),[a,l,d]=n._getElements(t);this._hasStrings=s&&d,this._originalStringElements=o,this._originalElementsOrHash=r,this._modifiedStringElements=a,this._modifiedElementsOrHash=l,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(e){return e.length>0&&typeof e[0]=="string"}static _getElements(e){let t=e.getElements();if(n._isStringArray(t)){let i=new Int32Array(t.length);for(let o=0,r=t.length;o<r;o++)i[o]=kl(t[o],0);return[t,i,!0]}return t instanceof Int32Array?[[],t,!1]:[[],new Int32Array(t),!1]}ElementsAreEqual(e,t){return this._originalElementsOrHash[e]!==this._modifiedElementsOrHash[t]?!1:this._hasStrings?this._originalStringElements[e]===this._modifiedStringElements[t]:!0}ElementsAreStrictEqual(e,t){if(!this.ElementsAreEqual(e,t))return!1;let i=n._getStrictElement(this._originalSequence,e),o=n._getStrictElement(this._modifiedSequence,t);return i===o}static _getStrictElement(e,t){return typeof e.getStrictElement=="function"?e.getStrictElement(t):null}OriginalElementsAreEqual(e,t){return this._originalElementsOrHash[e]!==this._originalElementsOrHash[t]?!1:this._hasStrings?this._originalStringElements[e]===this._originalStringElements[t]:!0}ModifiedElementsAreEqual(e,t){return this._modifiedElementsOrHash[e]!==this._modifiedElementsOrHash[t]?!1:this._hasStrings?this._modifiedStringElements[e]===this._modifiedStringElements[t]:!0}ComputeDiff(e){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,e)}_ComputeDiff(e,t,i,o,r){let s=[!1],a=this.ComputeDiffRecursive(e,t,i,o,s);return r&&(a=this.PrettifyChanges(a)),{quitEarly:s[0],changes:a}}ComputeDiffRecursive(e,t,i,o,r){for(r[0]=!1;e<=t&&i<=o&&this.ElementsAreEqual(e,i);)e++,i++;for(;t>=e&&o>=i&&this.ElementsAreEqual(t,o);)t--,o--;if(e>t||i>o){let h;return i<=o?(lo.Assert(e===t+1,"originalStart should only be one more than originalEnd"),h=[new Nn(e,0,i,o-i+1)]):e<=t?(lo.Assert(i===o+1,"modifiedStart should only be one more than modifiedEnd"),h=[new Nn(e,t-e+1,i,0)]):(lo.Assert(e===t+1,"originalStart should only be one more than originalEnd"),lo.Assert(i===o+1,"modifiedStart should only be one more than modifiedEnd"),h=[]),h}let s=[0],a=[0],l=this.ComputeRecursionPoint(e,t,i,o,s,a,r),d=s[0],u=a[0];if(l!==null)return l;if(!r[0]){let h=this.ComputeDiffRecursive(e,d,i,u,r),m=[];return r[0]?m=[new Nn(d+1,t-(d+1)+1,u+1,o-(u+1)+1)]:m=this.ComputeDiffRecursive(d+1,t,u+1,o,r),this.ConcatenateChanges(h,m)}return[new Nn(e,t-e+1,i,o-i+1)]}WALKTRACE(e,t,i,o,r,s,a,l,d,u,h,m,y,w,f,x,L,C){let H=null,P=null,A=new Pd,z=t,K=i,F=y[0]-x[0]-o,ne=-1073741824,ve=this.m_forwardHistory.length-1;do{let me=F+e;me===z||me<K&&d[me-1]<d[me+1]?(h=d[me+1],w=h-F-o,h<ne&&A.MarkNextChange(),ne=h,A.AddModifiedElement(h+1,w),F=me+1-e):(h=d[me-1]+1,w=h-F-o,h<ne&&A.MarkNextChange(),ne=h-1,A.AddOriginalElement(h,w+1),F=me-1-e),ve>=0&&(d=this.m_forwardHistory[ve],e=d[0],z=1,K=d.length-1)}while(--ve>=-1);if(H=A.getReverseChanges(),C[0]){let me=y[0]+1,ae=x[0]+1;if(H!==null&&H.length>0){let Ve=H[H.length-1];me=Math.max(me,Ve.getOriginalEnd()),ae=Math.max(ae,Ve.getModifiedEnd())}P=[new Nn(me,m-me+1,ae,f-ae+1)]}else{A=new Pd,z=s,K=a,F=y[0]-x[0]-l,ne=1073741824,ve=L?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{let me=F+r;me===z||me<K&&u[me-1]>=u[me+1]?(h=u[me+1]-1,w=h-F-l,h>ne&&A.MarkNextChange(),ne=h+1,A.AddOriginalElement(h+1,w+1),F=me+1-r):(h=u[me-1],w=h-F-l,h>ne&&A.MarkNextChange(),ne=h,A.AddModifiedElement(h+1,w+1),F=me-1-r),ve>=0&&(u=this.m_reverseHistory[ve],r=u[0],z=1,K=u.length-1)}while(--ve>=-1);P=A.getChanges()}return this.ConcatenateChanges(H,P)}ComputeRecursionPoint(e,t,i,o,r,s,a){let l=0,d=0,u=0,h=0,m=0,y=0;e--,i--,r[0]=0,s[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];let w=t-e+(o-i),f=w+1,x=new Int32Array(f),L=new Int32Array(f),C=o-i,H=t-e,P=e-i,A=t-o,K=(H-C)%2===0;x[C]=e,L[H]=t,a[0]=!1;for(let F=1;F<=w/2+1;F++){let ne=0,ve=0;u=this.ClipDiagonalBound(C-F,F,C,f),h=this.ClipDiagonalBound(C+F,F,C,f);for(let ae=u;ae<=h;ae+=2){ae===u||ae<h&&x[ae-1]<x[ae+1]?l=x[ae+1]:l=x[ae-1]+1,d=l-(ae-C)-P;let Ve=l;for(;l<t&&d<o&&this.ElementsAreEqual(l+1,d+1);)l++,d++;if(x[ae]=l,l+d>ne+ve&&(ne=l,ve=d),!K&&Math.abs(ae-H)<=F-1&&l>=L[ae])return r[0]=l,s[0]=d,Ve<=L[ae]&&F<=1448?this.WALKTRACE(C,u,h,P,H,m,y,A,x,L,l,t,r,d,o,s,K,a):null}let me=(ne-e+(ve-i)-F)/2;if(this.ContinueProcessingPredicate!==null&&!this.ContinueProcessingPredicate(ne,me))return a[0]=!0,r[0]=ne,s[0]=ve,me>0&&F<=1448?this.WALKTRACE(C,u,h,P,H,m,y,A,x,L,l,t,r,d,o,s,K,a):(e++,i++,[new Nn(e,t-e+1,i,o-i+1)]);m=this.ClipDiagonalBound(H-F,F,H,f),y=this.ClipDiagonalBound(H+F,F,H,f);for(let ae=m;ae<=y;ae+=2){ae===m||ae<y&&L[ae-1]>=L[ae+1]?l=L[ae+1]-1:l=L[ae-1],d=l-(ae-H)-A;let Ve=l;for(;l>e&&d>i&&this.ElementsAreEqual(l,d);)l--,d--;if(L[ae]=l,K&&Math.abs(ae-C)<=F&&l<=x[ae])return r[0]=l,s[0]=d,Ve>=x[ae]&&F<=1448?this.WALKTRACE(C,u,h,P,H,m,y,A,x,L,l,t,r,d,o,s,K,a):null}if(F<=1447){let ae=new Int32Array(h-u+2);ae[0]=C-u+1,co.Copy2(x,u,ae,1,h-u+1),this.m_forwardHistory.push(ae),ae=new Int32Array(y-m+2),ae[0]=H-m+1,co.Copy2(L,m,ae,1,y-m+1),this.m_reverseHistory.push(ae)}}return this.WALKTRACE(C,u,h,P,H,m,y,A,x,L,l,t,r,d,o,s,K,a)}PrettifyChanges(e){for(let t=0;t<e.length;t++){let i=e[t],o=t<e.length-1?e[t+1].originalStart:this._originalElementsOrHash.length,r=t<e.length-1?e[t+1].modifiedStart:this._modifiedElementsOrHash.length,s=i.originalLength>0,a=i.modifiedLength>0;for(;i.originalStart+i.originalLength<o&&i.modifiedStart+i.modifiedLength<r&&(!s||this.OriginalElementsAreEqual(i.originalStart,i.originalStart+i.originalLength))&&(!a||this.ModifiedElementsAreEqual(i.modifiedStart,i.modifiedStart+i.modifiedLength));){let d=this.ElementsAreStrictEqual(i.originalStart,i.modifiedStart);if(this.ElementsAreStrictEqual(i.originalStart+i.originalLength,i.modifiedStart+i.modifiedLength)&&!d)break;i.originalStart++,i.modifiedStart++}let l=[null];if(t<e.length-1&&this.ChangesOverlap(e[t],e[t+1],l)){e[t]=l[0],e.splice(t+1,1),t--;continue}}for(let t=e.length-1;t>=0;t--){let i=e[t],o=0,r=0;if(t>0){let h=e[t-1];o=h.originalStart+h.originalLength,r=h.modifiedStart+h.modifiedLength}let s=i.originalLength>0,a=i.modifiedLength>0,l=0,d=this._boundaryScore(i.originalStart,i.originalLength,i.modifiedStart,i.modifiedLength);for(let h=1;;h++){let m=i.originalStart-h,y=i.modifiedStart-h;if(m<o||y<r||s&&!this.OriginalElementsAreEqual(m,m+i.originalLength)||a&&!this.ModifiedElementsAreEqual(y,y+i.modifiedLength))break;let f=(m===o&&y===r?5:0)+this._boundaryScore(m,i.originalLength,y,i.modifiedLength);f>d&&(d=f,l=h)}i.originalStart-=l,i.modifiedStart-=l;let u=[null];if(t>0&&this.ChangesOverlap(e[t-1],e[t],u)){e[t-1]=u[0],e.splice(t,1),t++;continue}}if(this._hasStrings)for(let t=1,i=e.length;t<i;t++){let o=e[t-1],r=e[t],s=r.originalStart-o.originalStart-o.originalLength,a=o.originalStart,l=r.originalStart+r.originalLength,d=l-a,u=o.modifiedStart,h=r.modifiedStart+r.modifiedLength,m=h-u;if(s<5&&d<20&&m<20){let y=this._findBetterContiguousSequence(a,d,u,m,s);if(y){let[w,f]=y;(w!==o.originalStart+o.originalLength||f!==o.modifiedStart+o.modifiedLength)&&(o.originalLength=w-o.originalStart,o.modifiedLength=f-o.modifiedStart,r.originalStart=w+s,r.modifiedStart=f+s,r.originalLength=l-r.originalStart,r.modifiedLength=h-r.modifiedStart)}}}return e}_findBetterContiguousSequence(e,t,i,o,r){if(t<r||o<r)return null;let s=e+t-r+1,a=i+o-r+1,l=0,d=0,u=0;for(let h=e;h<s;h++)for(let m=i;m<a;m++){let y=this._contiguousSequenceScore(h,m,r);y>0&&y>l&&(l=y,d=h,u=m)}return l>0?[d,u]:null}_contiguousSequenceScore(e,t,i){let o=0;for(let r=0;r<i;r++){if(!this.ElementsAreEqual(e+r,t+r))return 0;o+=this._originalStringElements[e+r].length}return o}_OriginalIsBoundary(e){return e<=0||e>=this._originalElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._originalStringElements[e])}_OriginalRegionIsBoundary(e,t){if(this._OriginalIsBoundary(e)||this._OriginalIsBoundary(e-1))return!0;if(t>0){let i=e+t;if(this._OriginalIsBoundary(i-1)||this._OriginalIsBoundary(i))return!0}return!1}_ModifiedIsBoundary(e){return e<=0||e>=this._modifiedElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[e])}_ModifiedRegionIsBoundary(e,t){if(this._ModifiedIsBoundary(e)||this._ModifiedIsBoundary(e-1))return!0;if(t>0){let i=e+t;if(this._ModifiedIsBoundary(i-1)||this._ModifiedIsBoundary(i))return!0}return!1}_boundaryScore(e,t,i,o){let r=this._OriginalRegionIsBoundary(e,t)?1:0,s=this._ModifiedRegionIsBoundary(i,o)?1:0;return r+s}ConcatenateChanges(e,t){let i=[];if(e.length===0||t.length===0)return t.length>0?t:e;if(this.ChangesOverlap(e[e.length-1],t[0],i)){let o=new Array(e.length+t.length-1);return co.Copy(e,0,o,0,e.length-1),o[e.length-1]=i[0],co.Copy(t,1,o,e.length,t.length-1),o}else{let o=new Array(e.length+t.length);return co.Copy(e,0,o,0,e.length),co.Copy(t,0,o,e.length,t.length),o}}ChangesOverlap(e,t,i){if(lo.Assert(e.originalStart<=t.originalStart,"Left change is not less than or equal to right change"),lo.Assert(e.modifiedStart<=t.modifiedStart,"Left change is not less than or equal to right change"),e.originalStart+e.originalLength>=t.originalStart||e.modifiedStart+e.modifiedLength>=t.modifiedStart){let o=e.originalStart,r=e.originalLength,s=e.modifiedStart,a=e.modifiedLength;return e.originalStart+e.originalLength>=t.originalStart&&(r=t.originalStart+t.originalLength-e.originalStart),e.modifiedStart+e.modifiedLength>=t.modifiedStart&&(a=t.modifiedStart+t.modifiedLength-e.modifiedStart),i[0]=new Nn(o,r,s,a),!0}else return i[0]=null,!1}ClipDiagonalBound(e,t,i,o){if(e>=0&&e<o)return e;let r=i,s=o-i-1,a=t%2===0;if(e<0){let l=r%2===0;return a===l?0:1}else{let l=s%2===0;return a===l?o-1:o-2}}};function la(n){return typeof n=="object"&&"visibility"in n&&"data"in n}function Uo(n){switch(n){case!0:return 1;case!1:return 0;default:return n}}function Ap(n){return typeof n.collapsible=="boolean"}var Hd=class{constructor(e,t,i={}){this.user=e;this.collapseByDefault=typeof i.collapseByDefault>"u"?!1:i.collapseByDefault,this.allowNonCollapsibleParents=i.allowNonCollapsibleParents??!1,this.filter=i.filter,this.autoExpandSingleChildren=typeof i.autoExpandSingleChildren>"u"?!1:i.autoExpandSingleChildren,this.root={parent:void 0,element:t,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}rootRef=[];root;eventBufferer=new fn;_onDidSpliceModel=new k;onDidSpliceModel=this._onDidSpliceModel.event;_onDidSpliceRenderedNodes=new k;onDidSpliceRenderedNodes=this._onDidSpliceRenderedNodes.event;_onDidChangeCollapseState=new k;onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event);_onDidChangeRenderNodeCount=new k;onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event);collapseByDefault;allowNonCollapsibleParents;filter;autoExpandSingleChildren;refilterDelayer=new Dn(Ja);splice(e,t,i=ge.empty(),o={}){if(e.length===0)throw new ze(this.user,"Invalid tree location");o.diffIdentityProvider?this.spliceSmart(o.diffIdentityProvider,e,t,i,o):this.spliceSimple(e,t,i,o)}spliceSmart(e,t,i,o=ge.empty(),r,s=r.diffDepth??0){let{parentNode:a}=this.getParentNodeWithListIndex(t);if(!a.lastDiffIds)return this.spliceSimple(t,i,o,r);let l=[...o],d=t[t.length-1],u=new Bd({getElements:()=>a.lastDiffIds},{getElements:()=>[...a.children.slice(0,d),...l,...a.children.slice(d+i)].map(f=>e.getId(f.element).toString())}).ComputeDiff(!1);if(u.quitEarly)return a.lastDiffIds=void 0,this.spliceSimple(t,i,l,r);let h=t.slice(0,-1),m=(f,x,L)=>{if(s>0)for(let C=0;C<L;C++)f--,x--,this.spliceSmart(e,[...h,f,0],Number.MAX_SAFE_INTEGER,l[x].children,r,s-1)},y=Math.min(a.children.length,d+i),w=l.length;for(let f of u.changes.sort((x,L)=>L.originalStart-x.originalStart))m(y,w,y-(f.originalStart+f.originalLength)),y=f.originalStart,w=f.modifiedStart-d,this.spliceSimple([...h,y],f.originalLength,ge.slice(l,w,w+f.modifiedLength),r);m(y,w,y)}spliceSimple(e,t,i=ge.empty(),{onDidCreateNode:o,onDidDeleteNode:r,diffIdentityProvider:s}){let{parentNode:a,listIndex:l,revealed:d,visible:u}=this.getParentNodeWithListIndex(e),h=[],m=ge.map(i,A=>this.createTreeNode(A,a,a.visible?1:0,d,h,o)),y=e[e.length-1],w=0;for(let A=y;A>=0&&A<a.children.length;A--){let z=a.children[A];if(z.visible){w=z.visibleChildIndex;break}}let f=[],x=0,L=0;for(let A of m)f.push(A),L+=A.renderNodeCount,A.visible&&(A.visibleChildIndex=w+x++);let C=Vc(a.children,y,t,f);s?a.lastDiffIds?Vc(a.lastDiffIds,y,t,f.map(A=>s.getId(A.element).toString())):a.lastDiffIds=a.children.map(A=>s.getId(A.element).toString()):a.lastDiffIds=void 0;let H=0;for(let A of C)A.visible&&H++;if(H!==0)for(let A=y+f.length;A<a.children.length;A++){let z=a.children[A];z.visible&&(z.visibleChildIndex-=H)}if(a.visibleChildrenCount+=x-H,d&&u){let A=C.reduce((z,K)=>z+(K.visible?K.renderNodeCount:0),0);this._updateAncestorsRenderNodeCount(a,L-A),this._onDidSpliceRenderedNodes.fire({start:l,deleteCount:A,elements:h})}if(C.length>0&&r){let A=z=>{r(z),z.children.forEach(A)};C.forEach(A)}this._onDidSpliceModel.fire({insertedNodes:f,deletedNodes:C});let P=a;for(;P;){if(P.visibility===2){this.refilterDelayer.trigger(()=>this.refilter());break}P=P.parent}}rerender(e){if(e.length===0)throw new ze(this.user,"Invalid tree location");let{node:t,listIndex:i,revealed:o}=this.getTreeNodeWithListIndex(e);t.visible&&o&&this._onDidSpliceRenderedNodes.fire({start:i,deleteCount:1,elements:[t]})}has(e){return this.hasTreeNode(e)}getListIndex(e){let{listIndex:t,visible:i,revealed:o}=this.getTreeNodeWithListIndex(e);return i&&o?t:-1}getListRenderCount(e){return this.getTreeNode(e).renderNodeCount}isCollapsible(e){return this.getTreeNode(e).collapsible}setCollapsible(e,t){let i=this.getTreeNode(e);typeof t>"u"&&(t=!i.collapsible);let o={collapsible:t};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(e,o))}isCollapsed(e){return this.getTreeNode(e).collapsed}setCollapsed(e,t,i){let o=this.getTreeNode(e);typeof t>"u"&&(t=!o.collapsed);let r={collapsed:t,recursive:i||!1};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(e,r))}_setCollapseState(e,t){let{node:i,listIndex:o,revealed:r}=this.getTreeNodeWithListIndex(e),s=this._setListNodeCollapseState(i,o,r,t);if(i!==this.root&&this.autoExpandSingleChildren&&s&&!Ap(t)&&i.collapsible&&!i.collapsed&&!t.recursive){let a=-1;for(let l=0;l<i.children.length;l++)if(i.children[l].visible)if(a>-1){a=-1;break}else a=l;a>-1&&this._setCollapseState([...e,a],t)}return s}_setListNodeCollapseState(e,t,i,o){let r=this._setNodeCollapseState(e,o,!1);if(!i||!e.visible||!r)return r;let s=e.renderNodeCount,a=this.updateNodeAfterCollapseChange(e),l=s-(t===-1?0:1);return this._onDidSpliceRenderedNodes.fire({start:t+1,deleteCount:l,elements:a.slice(1)}),r}_setNodeCollapseState(e,t,i){let o;if(e===this.root?o=!1:(Ap(t)?(o=e.collapsible!==t.collapsible,e.collapsible=t.collapsible):e.collapsible?(o=e.collapsed!==t.collapsed,e.collapsed=t.collapsed):o=!1,o&&this._onDidChangeCollapseState.fire({node:e,deep:i})),!Ap(t)&&t.recursive)for(let r of e.children)o=this._setNodeCollapseState(r,t,!0)||o;return o}expandTo(e){this.eventBufferer.bufferEvents(()=>{let t=this.getTreeNode(e);for(;t.parent;)t=t.parent,e=e.slice(0,e.length-1),t.collapsed&&this._setCollapseState(e,{collapsed:!1,recursive:!1})})}refilter(){let e=this.root.renderNodeCount,t=this.updateNodeAfterFilterChange(this.root);this._onDidSpliceRenderedNodes.fire({start:0,deleteCount:e,elements:t}),this.refilterDelayer.cancel()}createTreeNode(e,t,i,o,r,s){let a={parent:t,element:e.element,children:[],depth:t.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:typeof e.collapsible=="boolean"?e.collapsible:typeof e.collapsed<"u",collapsed:typeof e.collapsed>"u"?this.collapseByDefault:e.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},l=this._filterNode(a,i);a.visibility=l,o&&r.push(a);let d=e.children||ge.empty(),u=o&&l!==0&&!a.collapsed,h=0,m=1;for(let y of d){let w=this.createTreeNode(y,a,l,u,r,s);a.children.push(w),m+=w.renderNodeCount,w.visible&&(w.visibleChildIndex=h++)}return this.allowNonCollapsibleParents||(a.collapsible=a.collapsible||a.children.length>0),a.visibleChildrenCount=h,a.visible=l===2?h>0:l===1,a.visible?a.collapsed||(a.renderNodeCount=m):(a.renderNodeCount=0,o&&r.pop()),s?.(a),a}updateNodeAfterCollapseChange(e){let t=e.renderNodeCount,i=[];return this._updateNodeAfterCollapseChange(e,i),this._updateAncestorsRenderNodeCount(e.parent,i.length-t),i}_updateNodeAfterCollapseChange(e,t){if(e.visible===!1)return 0;if(t.push(e),e.renderNodeCount=1,!e.collapsed)for(let i of e.children)e.renderNodeCount+=this._updateNodeAfterCollapseChange(i,t);return this._onDidChangeRenderNodeCount.fire(e),e.renderNodeCount}updateNodeAfterFilterChange(e){let t=e.renderNodeCount,i=[];return this._updateNodeAfterFilterChange(e,e.visible?1:0,i),this._updateAncestorsRenderNodeCount(e.parent,i.length-t),i}_updateNodeAfterFilterChange(e,t,i,o=!0){let r;if(e!==this.root){if(r=this._filterNode(e,t),r===0)return e.visible=!1,e.renderNodeCount=0,!1;o&&i.push(e)}let s=i.length;e.renderNodeCount=e===this.root?0:1;let a=!1;if(!e.collapsed||r!==0){let l=0;for(let d of e.children)a=this._updateNodeAfterFilterChange(d,r,i,o&&!e.collapsed)||a,d.visible&&(d.visibleChildIndex=l++);e.visibleChildrenCount=l}else e.visibleChildrenCount=0;return e!==this.root&&(e.visible=r===2?a:r===1,e.visibility=r),e.visible?e.collapsed||(e.renderNodeCount+=i.length-s):(e.renderNodeCount=0,o&&i.pop()),this._onDidChangeRenderNodeCount.fire(e),e.visible}_updateAncestorsRenderNodeCount(e,t){if(t!==0)for(;e;)e.renderNodeCount+=t,this._onDidChangeRenderNodeCount.fire(e),e=e.parent}_filterNode(e,t){let i=this.filter?this.filter.filter(e.element,t):1;return typeof i=="boolean"?(e.filterData=void 0,i?1:0):la(i)?(e.filterData=i.data,Uo(i.visibility)):(e.filterData=void 0,Uo(i))}hasTreeNode(e,t=this.root){if(!e||e.length===0)return!0;let[i,...o]=e;return i<0||i>t.children.length?!1:this.hasTreeNode(o,t.children[i])}getTreeNode(e,t=this.root){if(!e||e.length===0)return t;let[i,...o]=e;if(i<0||i>t.children.length)throw new ze(this.user,"Invalid tree location");return this.getTreeNode(o,t.children[i])}getTreeNodeWithListIndex(e){if(e.length===0)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};let{parentNode:t,listIndex:i,revealed:o,visible:r}=this.getParentNodeWithListIndex(e),s=e[e.length-1];if(s<0||s>t.children.length)throw new ze(this.user,"Invalid tree location");let a=t.children[s];return{node:a,listIndex:i,revealed:o,visible:r&&a.visible}}getParentNodeWithListIndex(e,t=this.root,i=0,o=!0,r=!0){let[s,...a]=e;if(s<0||s>t.children.length)throw new ze(this.user,"Invalid tree location");for(let l=0;l<s;l++)i+=t.children[l].renderNodeCount;return o=o&&!t.collapsed,r=r&&t.visible,a.length===0?{parentNode:t,listIndex:i,revealed:o,visible:r}:this.getParentNodeWithListIndex(a,t.children[s],i+1,o,r)}getNode(e=[]){return this.getTreeNode(e)}getNodeLocation(e){let t=[],i=e;for(;i.parent;)t.push(i.parent.children.indexOf(i)),i=i.parent;return t.reverse()}getParentNodeLocation(e){if(e.length!==0)return e.length===1?[]:Wm(e)[0]}getFirstElementChild(e){let t=this.getTreeNode(e);if(t.children.length!==0)return t.children[0].element}getLastElementAncestor(e=[]){let t=this.getTreeNode(e);if(t.children.length!==0)return this._getLastElementAncestor(t)}_getLastElementAncestor(e){return e.children.length===0?e.element:this._getLastElementAncestor(e.children[e.children.length-1])}};var Op=class extends Ei{constructor(t){super(t.elements.map(i=>i.element));this.data=t}set context(t){this.data.context=t}get context(){return this.data.context}};function Np(n){return n instanceof Ei?new Op(n):n}var Fp=class{constructor(e,t){this.modelProvider=e;this.dnd=t}autoExpandNode;autoExpandDisposable=V.None;disposables=new q;getDragURI(e){return this.dnd.getDragURI(e.element)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e.map(i=>i.element),t)}onDragStart(e,t){this.dnd.onDragStart?.(Np(e),t)}onDragOver(e,t,i,o,r,s=!0){let a=this.dnd.onDragOver(Np(e),t&&t.element,i,o,r),l=this.autoExpandNode!==t;if(l&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=t),typeof t>"u")return a;if(l&&typeof a!="boolean"&&a.autoExpand&&(this.autoExpandDisposable=Rs(()=>{let y=this.modelProvider(),w=y.getNodeLocation(t);y.isCollapsed(w)&&y.setCollapsed(w,!1),this.autoExpandNode=void 0},500,this.disposables)),typeof a=="boolean"||!a.accept||typeof a.bubble>"u"||a.feedback){if(!s){let y=typeof a=="boolean"?a:a.accept,w=typeof a=="boolean"?void 0:a.effect;return{accept:y,effect:w,feedback:[i]}}return a}if(a.bubble===1){let y=this.modelProvider(),w=y.getNodeLocation(t),f=y.getParentNodeLocation(w),x=y.getNode(f),L=f&&y.getListIndex(f);return this.onDragOver(e,x,L,o,r,!1)}let d=this.modelProvider(),u=d.getNodeLocation(t),h=d.getListIndex(u),m=d.getListRenderCount(u);return{...a,feedback:at(h,h+m)}}drop(e,t,i,o,r){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(Np(e),t&&t.element,i,o,r)}onDragEnd(e){this.dnd.onDragEnd?.(e)}dispose(){this.disposables.dispose(),this.dnd.dispose()}};function z0(n,e){return e&&{...e,identityProvider:e.identityProvider&&{getId(t){return e.identityProvider.getId(t.element)}},dnd:e.dnd&&new Fp(n,e.dnd),multipleSelectionController:e.multipleSelectionController&&{isSelectionSingleChangeEvent(t){return e.multipleSelectionController.isSelectionSingleChangeEvent({...t,element:t.element})},isSelectionRangeChangeEvent(t){return e.multipleSelectionController.isSelectionRangeChangeEvent({...t,element:t.element})}},accessibilityProvider:e.accessibilityProvider&&{...e.accessibilityProvider,getSetSize(t){let i=n(),o=i.getNodeLocation(t),r=i.getParentNodeLocation(o);return i.getNode(r).visibleChildrenCount},getPosInSet(t){return t.visibleChildIndex+1},isChecked:e.accessibilityProvider&&e.accessibilityProvider.isChecked?t=>e.accessibilityProvider.isChecked(t.element):void 0,getRole:e.accessibilityProvider&&e.accessibilityProvider.getRole?t=>e.accessibilityProvider.getRole(t.element):()=>"treeitem",getAriaLabel(t){return e.accessibilityProvider.getAriaLabel(t.element)},getWidgetAriaLabel(){return e.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:e.accessibilityProvider&&e.accessibilityProvider.getWidgetRole?()=>e.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:e.accessibilityProvider&&e.accessibilityProvider.getAriaLevel?t=>e.accessibilityProvider.getAriaLevel(t.element):t=>t.depth,getActiveDescendantId:e.accessibilityProvider.getActiveDescendantId&&(t=>e.accessibilityProvider.getActiveDescendantId(t.element))},keyboardNavigationLabelProvider:e.keyboardNavigationLabelProvider&&{...e.keyboardNavigationLabelProvider,getKeyboardNavigationLabel(t){return e.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t.element)}}}}var qr=class{constructor(e){this.delegate=e}getHeight(e){return this.delegate.getHeight(e.element)}getTemplateId(e){return this.delegate.getTemplateId(e.element)}hasDynamicHeight(e){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(e.element)}setDynamicHeight(e,t){this.delegate.setDynamicHeight?.(e.element,t)}},Rp=class n{focus;selection;expanded;scrollTop;static lift(e){return e instanceof n?e:new n(e)}static empty(e=0){return new n({focus:[],selection:[],expanded:Object.create(null),scrollTop:e})}constructor(e){if(this.focus=new Set(e.focus),this.selection=new Set(e.selection),e.expanded instanceof Array){this.expanded=Object.create(null);for(let t of e.expanded)this.expanded[t]=1}else this.expanded=e.expanded;this.expanded=e.expanded,this.scrollTop=e.scrollTop}toJSON(){return{focus:Array.from(this.focus),selection:Array.from(this.selection),expanded:this.expanded,scrollTop:this.scrollTop}}};var Pp=class{constructor(e,t=[]){this._elements=t;this.onDidChange=_.forEach(e,i=>this._elements=i,this.disposables)}disposables=new q;onDidChange;get elements(){return this._elements}dispose(){this.disposables.dispose()}},Bp=class n{constructor(e,t,i,o,r,s={}){this.renderer=e;this.model=t;this.activeNodes=o;this.renderedIndentGuides=r;this.templateId=e.templateId,this.updateOptions(s),_.map(i,a=>a.node)(this.onDidChangeNodeTwistieState,this,this.disposables),e.onDidChangeTwistieState?.(this.onDidChangeTwistieState,this,this.disposables)}static DefaultIndent=8;templateId;renderedElements=new Map;renderedNodes=new Map;indent=n.DefaultIndent;hideTwistiesOfChildlessElements=!1;shouldRenderIndentGuides=!1;activeIndentNodes=new Set;indentGuidesDisposable=V.None;disposables=new q;updateOptions(e={}){if(typeof e.indent<"u"){let t=vt(e.indent,0,40);if(t!==this.indent){this.indent=t;for(let[i,o]of this.renderedNodes)this.renderTreeElement(i,o)}}if(typeof e.renderIndentGuides<"u"){let t=e.renderIndentGuides!=="none";if(t!==this.shouldRenderIndentGuides){this.shouldRenderIndentGuides=t;for(let[i,o]of this.renderedNodes)this._renderIndentGuides(i,o);if(this.indentGuidesDisposable.dispose(),t){let i=new q;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,i),this.indentGuidesDisposable=i,this._onDidChangeActiveNodes(this.activeNodes.elements)}}}typeof e.hideTwistiesOfChildlessElements<"u"&&(this.hideTwistiesOfChildlessElements=e.hideTwistiesOfChildlessElements)}renderTemplate(e){let t=G(e,ee(".monaco-tl-row")),i=G(t,ee(".monaco-tl-indent")),o=G(t,ee(".monaco-tl-twistie")),r=G(t,ee(".monaco-tl-contents")),s=this.renderer.renderTemplate(r);return{container:e,indent:i,twistie:o,indentGuidesDisposable:V.None,templateData:s}}renderElement(e,t,i,o){this.renderedNodes.set(e,i),this.renderedElements.set(e.element,e),this.renderTreeElement(e,i),this.renderer.renderElement(e,t,i.templateData,o)}disposeElement(e,t,i,o){i.indentGuidesDisposable.dispose(),this.renderer.disposeElement?.(e,t,i.templateData,o),typeof o=="number"&&(this.renderedNodes.delete(e),this.renderedElements.delete(e.element))}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}onDidChangeTwistieState(e){let t=this.renderedElements.get(e);t&&this.onDidChangeNodeTwistieState(t)}onDidChangeNodeTwistieState(e){let t=this.renderedNodes.get(e);t&&(this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderTreeElement(e,t))}renderTreeElement(e,t){let i=n.DefaultIndent+(e.depth-1)*this.indent;t.twistie.style.paddingLeft=`${i}px`,t.indent.style.width=`${i+this.indent-16}px`,e.collapsible?t.container.setAttribute("aria-expanded",String(!e.collapsed)):t.container.removeAttribute("aria-expanded"),t.twistie.classList.remove(...Ie.asClassNameArray(Le.treeItemExpanded));let o=!1;this.renderer.renderTwistie&&(o=this.renderer.renderTwistie(e.element,t.twistie)),e.collapsible&&(!this.hideTwistiesOfChildlessElements||e.visibleChildrenCount>0)?(o||t.twistie.classList.add(...Ie.asClassNameArray(Le.treeItemExpanded)),t.twistie.classList.add("collapsible"),t.twistie.classList.toggle("collapsed",e.collapsed)):t.twistie.classList.remove("collapsible","collapsed"),this._renderIndentGuides(e,t)}_renderIndentGuides(e,t){if(wt(t.indent),t.indentGuidesDisposable.dispose(),!this.shouldRenderIndentGuides)return;let i=new q;for(;;){let o=this.model.getNodeLocation(e),r=this.model.getParentNodeLocation(o);if(!r)break;let s=this.model.getNode(r),a=ee(".indent-guide",{style:`width: ${this.indent}px`});this.activeIndentNodes.has(s)&&a.classList.add("active"),t.indent.childElementCount===0?t.indent.appendChild(a):t.indent.insertBefore(a,t.indent.firstElementChild),this.renderedIndentGuides.add(s,a),i.add(ce(()=>this.renderedIndentGuides.delete(s,a))),e=s}t.indentGuidesDisposable=i}_onDidChangeActiveNodes(e){if(!this.shouldRenderIndentGuides)return;let t=new Set;e.forEach(i=>{let o=this.model.getNodeLocation(i);try{let r=this.model.getParentNodeLocation(o);i.collapsible&&i.children.length>0&&!i.collapsed?t.add(i):r&&t.add(this.model.getNode(r))}catch{}}),this.activeIndentNodes.forEach(i=>{t.has(i)||this.renderedIndentGuides.forEach(i,o=>o.classList.remove("active"))}),t.forEach(i=>{this.activeIndentNodes.has(i)||this.renderedIndentGuides.forEach(i,o=>o.classList.add("active"))}),this.activeIndentNodes=t}setModel(e){this.model=e}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),$e(this.disposables)}},Hp=class{constructor(e,t,i){this.tree=e;this.keyboardNavigationLabelProvider=t;this._filter=i;e.onWillRefilter(this.reset,this,this.disposables)}_totalCount=0;get totalCount(){return this._totalCount}_matchCount=0;get matchCount(){return this._matchCount}_pattern="";_lowercasePattern="";disposables=new q;set pattern(e){this._pattern=e,this._lowercasePattern=e.toLowerCase()}filter(e,t){let i=1;if(this._filter){let s=this._filter.filter(e,t);if(typeof s=="boolean"?i=s?1:0:la(s)?i=Uo(s.visibility):i=s,i===0)return!1}if(this._totalCount++,!this._pattern)return this._matchCount++,{data:Oo.Default,visibility:i};let o=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(e),r=Array.isArray(o)?o:[o];for(let s of r){let a=s&&s.toString();if(typeof a>"u")return{data:Oo.Default,visibility:i};let l;if(this.tree.findMatchType===1){let d=a.toLowerCase().indexOf(this._lowercasePattern);if(d>-1){l=[Number.MAX_SAFE_INTEGER,0];for(let u=this._lowercasePattern.length;u>0;u--)l.push(d+u-1)}}else l=Hl(this._pattern,this._lowercasePattern,0,a,a.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(l)return this._matchCount++,r.length===1?{data:l,visibility:i}:{data:{label:a,score:l},visibility:i}}return this.tree.findMode===1?typeof this.tree.options.defaultFindVisibility=="number"?this.tree.options.defaultFindVisibility:this.tree.options.defaultFindVisibility?this.tree.options.defaultFindVisibility(e):2:{data:Oo.Default,visibility:i}}reset(){this._totalCount=0,this._matchCount=0}dispose(){$e(this.disposables)}},Kp=class extends An{constructor(e){super({icon:Le.listFilter,title:p("filter","Filter"),isChecked:e.isChecked??!1,hoverDelegate:e.hoverDelegate??Ze("element"),inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}},zp=class extends An{constructor(e){super({icon:Le.searchFuzzy,title:p("fuzzySearch","Fuzzy Match"),isChecked:e.isChecked??!1,hoverDelegate:e.hoverDelegate??Ze("element"),inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}},U0={inputBoxStyles:xy,toggleStyles:Fb,listFilterWidgetBackground:void 0,listFilterWidgetNoMatchesOutline:void 0,listFilterWidgetOutline:void 0,listFilterWidgetShadow:void 0};var Up=class extends V{constructor(t,i,o,r,s,a){super();this.tree=i;t.appendChild(this.elements.root),this._register(ce(()=>this.elements.root.remove()));let l=a?.styles??U0;l.listFilterWidgetBackground&&(this.elements.root.style.backgroundColor=l.listFilterWidgetBackground),l.listFilterWidgetShadow&&(this.elements.root.style.boxShadow=`0 0 8px 2px ${l.listFilterWidgetShadow}`);let d=this._register(Ro());this.modeToggle=this._register(new Kp({...l.toggleStyles,isChecked:r===1,hoverDelegate:d})),this.matchTypeToggle=this._register(new zp({...l.toggleStyles,isChecked:s===0,hoverDelegate:d})),this.onDidChangeMode=_.map(this.modeToggle.onChange,()=>this.modeToggle.checked?1:0,this._store),this.onDidChangeMatchType=_.map(this.matchTypeToggle.onChange,()=>this.matchTypeToggle.checked?0:1,this._store),this.findInput=this._register(new Vr(this.elements.findInput,o,{label:p("type to search","Type to search"),additionalToggles:[this.modeToggle,this.matchTypeToggle],showCommonFindToggles:!1,inputBoxStyles:l.inputBoxStyles,toggleStyles:l.toggleStyles,history:a?.history})),this.actionbar=this._register(new tn(this.elements.actionbar)),this.mode=r;let u=this._register(new se(this.findInput.inputBox.inputElement,"keydown")),h=_.chain(u.event,f=>f.map(x=>new Ne(x)));this._register(h(f=>{if(f.equals(3)){f.preventDefault(),f.stopPropagation(),this.findInput.inputBox.addToHistory(),this.tree.domFocus();return}if(f.equals(18)){f.preventDefault(),f.stopPropagation(),this.findInput.inputBox.isAtLastInHistory()||this.findInput.inputBox.isNowhereInHistory()?(this.findInput.inputBox.addToHistory(),this.tree.domFocus()):this.findInput.inputBox.showNextValue();return}if(f.equals(16)){f.preventDefault(),f.stopPropagation(),this.findInput.inputBox.showPreviousValue();return}}));let m=this._register(new Zi("close",p("close","Close"),"codicon codicon-close",!0,()=>this.dispose()));this.actionbar.push(m,{icon:!0,label:!1});let y=this._register(new se(this.elements.grab,"mousedown"));this._register(y.event(f=>{let x=new q,L=x.add(new se(de(f),"mousemove")),C=x.add(new se(de(f),"mouseup")),H=this.right,P=f.pageX,A=this.top,z=f.pageY;this.elements.grab.classList.add("grabbing");let K=this.elements.root.style.transition;this.elements.root.style.transition="unset";let F=ne=>{let ve=ne.pageX-P;this.right=H-ve;let me=ne.pageY-z;this.top=A+me,this.layout()};x.add(L.event(F)),x.add(C.event(ne=>{F(ne),this.elements.grab.classList.remove("grabbing"),this.elements.root.style.transition=K,x.dispose()}))}));let w=_.chain(this._register(new se(this.elements.grab,"keydown")).event,f=>f.map(x=>new Ne(x)));this._register(w(f=>{let x,L;if(f.keyCode===15?x=Number.POSITIVE_INFINITY:f.keyCode===17?x=0:f.keyCode===10&&(x=this.right===0?Number.POSITIVE_INFINITY:0),f.keyCode===16?L=0:f.keyCode===18&&(L=Number.POSITIVE_INFINITY),x!==void 0&&(f.preventDefault(),f.stopPropagation(),this.right=x,this.layout()),L!==void 0){f.preventDefault(),f.stopPropagation(),this.top=L;let C=this.elements.root.style.transition;this.elements.root.style.transition="unset",this.layout(),setTimeout(()=>{this.elements.root.style.transition=C},0)}})),this.onDidChangeValue=this.findInput.onDidChange}elements=qs(".monaco-tree-type-filter",[qs(".monaco-tree-type-filter-grab.codicon.codicon-debug-gripper@grab",{tabIndex:0}),qs(".monaco-tree-type-filter-input@findInput"),qs(".monaco-tree-type-filter-actionbar@actionbar")]);set mode(t){this.modeToggle.checked=t===1,this.findInput.inputBox.setPlaceHolder(t===1?p("type to filter","Type to filter"):p("type to search","Type to search"))}set matchType(t){this.matchTypeToggle.checked=t===0}get value(){return this.findInput.inputBox.value}set value(t){this.findInput.inputBox.value=t}modeToggle;matchTypeToggle;findInput;actionbar;width=0;right=0;top=0;_onDidDisable=new k;onDidDisable=this._onDidDisable.event;onDidChangeValue;onDidChangeMode;onDidChangeMatchType;getHistory(){return this.findInput.inputBox.getHistory()}focus(){this.findInput.focus()}select(){this.findInput.select(),this.findInput.inputBox.addToHistory(!0)}layout(t=this.width){this.width=t,this.right=vt(this.right,0,Math.max(0,t-212)),this.elements.root.style.right=`${this.right}px`,this.top=vt(this.top,0,24),this.elements.root.style.top=`${this.top}px`}showMessage(t){this.findInput.showMessage(t)}clearMessage(){this.findInput.clearMessage()}async dispose(){this._onDidDisable.fire(),this.elements.root.classList.add("disabled"),await Qi(300),super.dispose()}},Vp=class{constructor(e,t,i,o,r={}){this.tree=e;this.view=t;this.filter=i;this.contextViewProvider=o;this.options=r;this._mode=e.options.defaultFindMode??0,this._matchType=e.options.defaultFindMatchType??0}_history;_pattern="";get pattern(){return this._pattern}previousPattern="";_mode;get mode(){return this._mode}set mode(e){e!==this._mode&&(this._mode=e,this.widget&&(this.widget.mode=this._mode),this.tree.refilter(),this.render(),this._onDidChangeMode.fire(e))}_matchType;get matchType(){return this._matchType}set matchType(e){e!==this._matchType&&(this._matchType=e,this.widget&&(this.widget.matchType=this._matchType),this.tree.refilter(),this.render(),this._onDidChangeMatchType.fire(e))}widget;width=0;_onDidChangeMode=new k;onDidChangeMode=this._onDidChangeMode.event;_onDidChangeMatchType=new k;onDidChangeMatchType=this._onDidChangeMatchType.event;_onDidChangePattern=new k;onDidChangePattern=this._onDidChangePattern.event;_onDidChangeOpenState=new k;onDidChangeOpenState=this._onDidChangeOpenState.event;enabledDisposables=new q;disposables=new q;updateOptions(e={}){e.defaultFindMode!==void 0&&(this.mode=e.defaultFindMode),e.defaultFindMatchType!==void 0&&(this.matchType=e.defaultFindMatchType)}isOpened(){return!!this.widget}open(){if(this.widget){this.widget.focus(),this.widget.select();return}this.widget=new Up(this.view.getHTMLElement(),this.tree,this.contextViewProvider,this.mode,this.matchType,{...this.options,history:this._history}),this.enabledDisposables.add(this.widget),this.widget.onDidChangeValue(this.onDidChangeValue,this,this.enabledDisposables),this.widget.onDidChangeMode(e=>this.mode=e,void 0,this.enabledDisposables),this.widget.onDidChangeMatchType(e=>this.matchType=e,void 0,this.enabledDisposables),this.widget.onDidDisable(this.close,this,this.enabledDisposables),this.widget.layout(this.width),this.widget.focus(),this.widget.value=this.previousPattern,this.widget.select(),this._onDidChangeOpenState.fire(!0)}close(){this.widget&&(this._history=this.widget.getHistory(),this.widget=void 0,this.enabledDisposables.clear(),this.previousPattern=this.pattern,this.onDidChangeValue(""),this.tree.domFocus(),this._onDidChangeOpenState.fire(!1))}onDidChangeValue(e){this._pattern=e,this._onDidChangePattern.fire(e),this.filter.pattern=e,this.tree.refilter(),e&&this.tree.focusNext(0,!0,void 0,i=>!Oo.isDefault(i.filterData));let t=this.tree.getFocus();if(t.length>0){let i=t[0];this.tree.getRelativeTop(i)===null&&this.tree.reveal(i,.5)}this.render()}render(){let e=this.filter.totalCount>0&&this.filter.matchCount===0;this.pattern&&e?(eo(p("replFindNoResults","No results")),this.tree.options.showNotFoundMessage??!0?this.widget?.showMessage({type:2,content:p("not found","No elements found.")}):this.widget?.showMessage({type:2})):(this.widget?.clearMessage(),this.pattern&&eo(p("replFindResults","{0} results",this.filter.matchCount)))}shouldAllowFocus(e){return!this.widget||!this.pattern||this.filter.totalCount>0&&this.filter.matchCount<=1?!0:!Oo.isDefault(e.filterData)}layout(e){this.width=e,this.widget?.layout(e)}dispose(){this._history=void 0,this._onDidChangePattern.dispose(),this.enabledDisposables.dispose(),this.disposables.dispose()}};function V0(n,e){return n.position===e.position&&Sy(n,e)}function Sy(n,e){return n.node.element===e.node.element&&n.startIndex===e.startIndex&&n.height===e.height&&n.endIndex===e.endIndex}var Wp=class{constructor(e=[]){this.stickyNodes=e}get count(){return this.stickyNodes.length}equal(e){return Ct(this.stickyNodes,e.stickyNodes,V0)}lastNodePartiallyVisible(){if(this.count===0)return!1;let e=this.stickyNodes[this.count-1];if(this.count===1)return e.position!==0;let t=this.stickyNodes[this.count-2];return t.position+t.height!==e.position}animationStateChanged(e){if(!Ct(this.stickyNodes,e.stickyNodes,Sy)||this.count===0)return!1;let t=this.stickyNodes[this.count-1],i=e.stickyNodes[e.count-1];return t.position!==i.position}},qp=class{constrainStickyScrollNodes(e,t,i){for(let o=0;o<e.length;o++){let r=e[o];if(r.position+r.height>i||o>=t)return e.slice(0,o)}return e}},zd=class extends V{constructor(t,i,o,r,s,a={}){super();this.tree=t;this.model=i;this.view=o;this.treeDelegate=s;let l=this.validateStickySettings(a);this.stickyScrollMaxItemCount=l.stickyScrollMaxItemCount,this.stickyScrollDelegate=a.stickyScrollDelegate??new qp,this._widget=this._register(new $p(o.getScrollableElement(),o,t,r,s,a.accessibilityProvider)),this.onDidChangeHasFocus=this._widget.onDidChangeHasFocus,this.onContextMenu=this._widget.onContextMenu,this._register(o.onDidScroll(()=>this.update())),this._register(o.onDidChangeContentHeight(()=>this.update())),this._register(t.onDidChangeCollapseState(()=>this.update())),this.update()}onDidChangeHasFocus;onContextMenu;stickyScrollDelegate;stickyScrollMaxItemCount;maxWidgetViewRatio=.4;_widget;get height(){return this._widget.height}get count(){return this._widget.count}getNode(t){return this._widget.getNode(t)}getNodeAtHeight(t){let i;if(t===0?i=this.view.firstVisibleIndex:i=this.view.indexAt(t+this.view.scrollTop),!(i<0||i>=this.view.length))return this.view.element(i)}update(){let t=this.getNodeAtHeight(0);if(!t||this.tree.scrollTop===0){this._widget.setState(void 0);return}let i=this.findStickyState(t);this._widget.setState(i)}findStickyState(t){let i=[],o=t,r=0,s=this.getNextStickyNode(o,void 0,r);for(;s&&(i.push(s),r+=s.height,!(i.length<=this.stickyScrollMaxItemCount&&(o=this.getNextVisibleNode(s),!o)));)s=this.getNextStickyNode(o,s.node,r);let a=this.constrainStickyNodes(i);return a.length?new Wp(a):void 0}getNextVisibleNode(t){return this.getNodeAtHeight(t.position+t.height)}getNextStickyNode(t,i,o){let r=this.getAncestorUnderPrevious(t,i);if(r&&!(r===t&&(!this.nodeIsUncollapsedParent(t)||this.nodeTopAlignsWithStickyNodesBottom(t,o))))return this.createStickyScrollNode(r,o)}nodeTopAlignsWithStickyNodesBottom(t,i){let o=this.getNodeIndex(t),r=this.view.getElementTop(o),s=i;return this.view.scrollTop===r-s}createStickyScrollNode(t,i){let o=this.treeDelegate.getHeight(t),{startIndex:r,endIndex:s}=this.getNodeRange(t),a=this.calculateStickyNodePosition(s,i,o);return{node:t,position:a,height:o,startIndex:r,endIndex:s}}getAncestorUnderPrevious(t,i=void 0){let o=t,r=this.getParentNode(o);for(;r;){if(r===i)return o;o=r,r=this.getParentNode(o)}if(i===void 0)return o}calculateStickyNodePosition(t,i,o){let r=this.view.getRelativeTop(t);if(r===null&&this.view.firstVisibleIndex===t&&t+1<this.view.length){let u=this.treeDelegate.getHeight(this.view.element(t)),h=this.view.getRelativeTop(t+1);r=h?h-u/this.view.renderHeight:null}if(r===null)return i;let s=this.view.element(t),a=this.treeDelegate.getHeight(s),d=r*this.view.renderHeight+a;return i+o>d&&i<=d?d-o:i}constrainStickyNodes(t){if(t.length===0)return[];let i=this.view.renderHeight*this.maxWidgetViewRatio,o=t[t.length-1];if(t.length<=this.stickyScrollMaxItemCount&&o.position+o.height<=i)return t;let r=this.stickyScrollDelegate.constrainStickyScrollNodes(t,this.stickyScrollMaxItemCount,i);if(!r.length)return[];let s=r[r.length-1];if(r.length>this.stickyScrollMaxItemCount||s.position+s.height>i)throw new Error("stickyScrollDelegate violates constraints");return r}getParentNode(t){let i=this.model.getNodeLocation(t),o=this.model.getParentNodeLocation(i);return o?this.model.getNode(o):void 0}nodeIsUncollapsedParent(t){let i=this.model.getNodeLocation(t);return this.model.getListRenderCount(i)>1}getNodeIndex(t){let i=this.model.getNodeLocation(t);return this.model.getListIndex(i)}getNodeRange(t){let i=this.model.getNodeLocation(t),o=this.model.getListIndex(i);if(o<0)throw new Error("Node not found in tree");let r=this.model.getListRenderCount(i),s=o+r-1;return{startIndex:o,endIndex:s}}nodePositionTopBelowWidget(t){let i=[],o=this.getParentNode(t);for(;o;)i.push(o),o=this.getParentNode(o);let r=0;for(let s=0;s<i.length&&s<this.stickyScrollMaxItemCount;s++)r+=this.treeDelegate.getHeight(i[s]);return r}getFocus(){return this._widget.getFocus()}domFocus(){this._widget.domFocus()}focusedLast(){return this._widget.focusedLast()}updateOptions(t={}){if(!t.stickyScrollMaxItemCount)return;let i=this.validateStickySettings(t);this.stickyScrollMaxItemCount!==i.stickyScrollMaxItemCount&&(this.stickyScrollMaxItemCount=i.stickyScrollMaxItemCount,this.update())}validateStickySettings(t){let i=7;return typeof t.stickyScrollMaxItemCount=="number"&&(i=Math.max(t.stickyScrollMaxItemCount,1)),{stickyScrollMaxItemCount:i}}setModel(t){this.model=t}},$p=class{constructor(e,t,i,o,r,s){this.view=t;this.tree=i;this.treeRenderers=o;this.treeDelegate=r;this.accessibilityProvider=s;this._rootDomNode=ee(".monaco-tree-sticky-container.empty"),e.appendChild(this._rootDomNode);let a=ee(".monaco-tree-sticky-container-shadow");this._rootDomNode.appendChild(a),this.stickyScrollFocus=new Gp(this._rootDomNode,t),this.onDidChangeHasFocus=this.stickyScrollFocus.onDidChangeHasFocus,this.onContextMenu=this.stickyScrollFocus.onContextMenu}_rootDomNode;_previousState;_previousElements=[];_previousStateDisposables=new q;stickyScrollFocus;onDidChangeHasFocus;onContextMenu;get height(){if(!this._previousState)return 0;let e=this._previousState.stickyNodes[this._previousState.count-1];return e.position+e.height}get count(){return this._previousState?.count??0}getNode(e){return this._previousState?.stickyNodes.find(t=>t.node===e)}setState(e){let t=!!this._previousState&&this._previousState.count>0,i=!!e&&e.count>0;if(!t&&!i||t&&i&&this._previousState.equal(e))return;if(t!==i&&this.setVisible(i),!i){this._previousState=void 0,this._previousElements=[],this._previousStateDisposables.clear();return}let o=e.stickyNodes[e.count-1];if(this._previousState&&e.animationStateChanged(this._previousState))this._previousElements[this._previousState.count-1].style.top=`${o.position}px`;else{this._previousStateDisposables.clear();let r=Array(e.count);for(let s=e.count-1;s>=0;s--){let a=e.stickyNodes[s],{element:l,disposable:d}=this.createElement(a,s,e.count);r[s]=l,this._rootDomNode.appendChild(l),this._previousStateDisposables.add(d)}this.stickyScrollFocus.updateElements(r,e),this._previousElements=r}this._previousState=e,this._rootDomNode.style.height=`${o.position+o.height}px`}createElement(e,t,i){let o=e.startIndex,r=document.createElement("div");r.style.top=`${e.position}px`,this.tree.options.setRowHeight!==!1&&(r.style.height=`${e.height}px`),this.tree.options.setRowLineHeight!==!1&&(r.style.lineHeight=`${e.height}px`),r.classList.add("monaco-tree-sticky-row"),r.classList.add("monaco-list-row"),r.setAttribute("data-index",`${o}`),r.setAttribute("data-parity",o%2===0?"even":"odd"),r.setAttribute("id",this.view.getElementID(o));let s=this.setAccessibilityAttributes(r,e.node.element,t,i),a=this.treeDelegate.getTemplateId(e.node),l=this.treeRenderers.find(m=>m.templateId===a);if(!l)throw new Error(`No renderer found for template id ${a}`);let d=e.node;d===this.tree.getNode(this.tree.getNodeLocation(e.node))&&(d=new Proxy(e.node,{}));let u=l.renderTemplate(r);l.renderElement(d,e.startIndex,u,e.height);let h=ce(()=>{s.dispose(),l.disposeElement(d,e.startIndex,u,e.height),l.disposeTemplate(u),r.remove()});return{element:r,disposable:h}}setAccessibilityAttributes(e,t,i,o){if(!this.accessibilityProvider)return V.None;this.accessibilityProvider.getSetSize&&e.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(t,i,o))),this.accessibilityProvider.getPosInSet&&e.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(t,i))),this.accessibilityProvider.getRole&&e.setAttribute("role",this.accessibilityProvider.getRole(t)??"treeitem");let r=this.accessibilityProvider.getAriaLabel(t),s=r&&typeof r!="string"?r:ms(r),a=gi(d=>{let u=d.readObservable(s);u?e.setAttribute("aria-label",u):e.removeAttribute("aria-label")});typeof r=="string"||r&&e.setAttribute("aria-label",r.get());let l=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(t);return typeof l=="number"&&e.setAttribute("aria-level",`${l}`),e.setAttribute("aria-selected",String(!1)),a}setVisible(e){this._rootDomNode.classList.toggle("empty",!e),e||this.stickyScrollFocus.updateElements([],void 0)}getFocus(){return this.stickyScrollFocus.getFocus()}domFocus(){this.stickyScrollFocus.domFocus()}focusedLast(){return this.stickyScrollFocus.focusedLast()}dispose(){this.stickyScrollFocus.dispose(),this._previousStateDisposables.dispose(),this._rootDomNode.remove()}},Gp=class extends V{constructor(t,i){super();this.container=t;this.view=i;this._register($(this.container,"focus",()=>this.onFocus())),this._register($(this.container,"blur",()=>this.onBlur())),this._register(this.view.onDidFocus(()=>this.toggleStickyScrollFocused(!1))),this._register(this.view.onKeyDown(o=>this.onKeyDown(o))),this._register(this.view.onMouseDown(o=>this.onMouseDown(o))),this._register(this.view.onContextMenu(o=>this.handleContextMenu(o)))}focusedIndex=-1;elements=[];state;_onDidChangeHasFocus=new k;onDidChangeHasFocus=this._onDidChangeHasFocus.event;_onContextMenu=new k;onContextMenu=this._onContextMenu.event;_domHasFocus=!1;get domHasFocus(){return this._domHasFocus}set domHasFocus(t){t!==this._domHasFocus&&(this._onDidChangeHasFocus.fire(t),this._domHasFocus=t)}handleContextMenu(t){let i=t.browserEvent.target;if(!Cr(i)&&!_r(i)){this.focusedLast()&&this.view.domFocus();return}if(!jn(t.browserEvent)){if(!this.state)throw new Error("Context menu should not be triggered when state is undefined");let a=this.state.stickyNodes.findIndex(l=>l.node.element===t.element?.element);if(a===-1)throw new Error("Context menu should not be triggered when element is not in sticky scroll widget");this.container.focus(),this.setFocus(a);return}if(!this.state||this.focusedIndex<0)throw new Error("Context menu key should not be triggered when focus is not in sticky scroll widget");let r=this.state.stickyNodes[this.focusedIndex].node.element,s=this.elements[this.focusedIndex];this._onContextMenu.fire({element:r,anchor:s,browserEvent:t.browserEvent,isStickyScroll:!0})}onKeyDown(t){if(this.domHasFocus&&this.state){if(t.key==="ArrowUp")this.setFocusedElement(Math.max(0,this.focusedIndex-1)),t.preventDefault(),t.stopPropagation();else if(t.key==="ArrowDown"||t.key==="ArrowRight"){if(this.focusedIndex>=this.state.count-1){let i=this.state.stickyNodes[this.state.count-1].startIndex+1;this.view.domFocus(),this.view.setFocus([i]),this.scrollNodeUnderWidget(i,this.state)}else this.setFocusedElement(this.focusedIndex+1);t.preventDefault(),t.stopPropagation()}}}onMouseDown(t){let i=t.browserEvent.target;!Cr(i)&&!_r(i)||(t.browserEvent.preventDefault(),t.browserEvent.stopPropagation())}updateElements(t,i){if(i&&i.count===0)throw new Error("Sticky scroll state must be undefined when there are no sticky nodes");if(i&&i.count!==t.length)throw new Error("Sticky scroll focus received illigel state");let o=this.focusedIndex;if(this.removeFocus(),this.elements=t,this.state=i,i){let r=vt(o,0,i.count-1);this.setFocus(r)}else this.domHasFocus&&this.view.domFocus();this.container.tabIndex=i?0:-1}setFocusedElement(t){let i=this.state;if(!i)throw new Error("Cannot set focus when state is undefined");if(this.setFocus(t),!(t<i.count-1)&&i.lastNodePartiallyVisible()){let o=i.stickyNodes[t];this.scrollNodeUnderWidget(o.endIndex+1,i)}}scrollNodeUnderWidget(t,i){let o=i.stickyNodes[i.count-1],r=i.count>1?i.stickyNodes[i.count-2]:void 0,s=this.view.getElementTop(t),a=r?r.position+r.height+o.height:o.height;this.view.scrollTop=s-a}getFocus(){if(!(!this.state||this.focusedIndex===-1))return this.state.stickyNodes[this.focusedIndex].node.element}domFocus(){if(!this.state)throw new Error("Cannot focus when state is undefined");this.container.focus()}focusedLast(){return this.state?this.view.getHTMLElement().classList.contains("sticky-scroll-focused"):!1}removeFocus(){this.focusedIndex!==-1&&(this.toggleElementFocus(this.elements[this.focusedIndex],!1),this.focusedIndex=-1)}setFocus(t){if(0>t)throw new Error("addFocus() can not remove focus");if(!this.state&&t>=0)throw new Error("Cannot set focus index when state is undefined");if(this.state&&t>=this.state.count)throw new Error("Cannot set focus index to an index that does not exist");let i=this.focusedIndex;i>=0&&this.toggleElementFocus(this.elements[i],!1),t>=0&&this.toggleElementFocus(this.elements[t],!0),this.focusedIndex=t}toggleElementFocus(t,i){this.toggleElementActiveFocus(t,i&&this.domHasFocus),this.toggleElementPassiveFocus(t,i)}toggleCurrentElementActiveFocus(t){this.focusedIndex!==-1&&this.toggleElementActiveFocus(this.elements[this.focusedIndex],t)}toggleElementActiveFocus(t,i){t.classList.toggle("focused",i)}toggleElementPassiveFocus(t,i){t.classList.toggle("passive-focused",i)}toggleStickyScrollFocused(t){this.view.getHTMLElement().classList.toggle("sticky-scroll-focused",t)}onFocus(){if(!this.state||this.elements.length===0)throw new Error("Cannot focus when state is undefined or elements are empty");this.domHasFocus=!0,this.toggleStickyScrollFocused(!0),this.toggleCurrentElementActiveFocus(!0),this.focusedIndex===-1&&this.setFocus(0)}onBlur(){this.domHasFocus=!1,this.toggleCurrentElementActiveFocus(!1)}dispose(){this.toggleStickyScrollFocused(!1),this._onDidChangeHasFocus.fire(!1),super.dispose()}};function Wr(n){let e=0;return Nl(n.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?e=1:Nl(n.browserEvent.target,"monaco-tl-contents","monaco-tl-row")?e=2:Nl(n.browserEvent.target,"monaco-tree-type-filter","monaco-list")&&(e=3),{browserEvent:n.browserEvent,element:n.element?n.element.element:null,target:e}}function W0(n){let e=Cr(n.browserEvent.target);return{element:n.element?n.element.element:null,browserEvent:n.browserEvent,anchor:n.anchor,isStickyScroll:e}}function Kd(n,e){e(n),n.children.forEach(t=>Kd(t,e))}var da=class{constructor(e,t){this.getFirstViewElementWithTrait=e;this.identityProvider=t}nodes=[];elements;_onDidChange=new k;onDidChange=this._onDidChange.event;_nodeSet;get nodeSet(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}set(e,t){!t?.__forceEvent&&Ct(this.nodes,e)||this._set(e,!1,t)}_set(e,t,i){if(this.nodes=[...e],this.elements=void 0,this._nodeSet=void 0,!t){let o=this;this._onDidChange.fire({get elements(){return o.get()},browserEvent:i})}}get(){return this.elements||(this.elements=this.nodes.map(e=>e.element)),[...this.elements]}getNodes(){return this.nodes}has(e){return this.nodeSet.has(e)}onDidModelSplice({insertedNodes:e,deletedNodes:t}){if(!this.identityProvider){let l=this.createNodeSet(),d=u=>l.delete(u);t.forEach(u=>Kd(u,d)),this.set([...l.values()]);return}let i=new Set,o=l=>i.add(this.identityProvider.getId(l.element).toString());t.forEach(l=>Kd(l,o));let r=new Map,s=l=>r.set(this.identityProvider.getId(l.element).toString(),l);e.forEach(l=>Kd(l,s));let a=[];for(let l of this.nodes){let d=this.identityProvider.getId(l.element).toString();if(!i.has(d))a.push(l);else{let h=r.get(d);h&&h.visible&&a.push(h)}}if(this.nodes.length>0&&a.length===0){let l=this.getFirstViewElementWithTrait();l&&a.push(l)}this._set(a,!0)}createNodeSet(){let e=new Set;for(let t of this.nodes)e.add(t);return e}},Qp=class extends Js{constructor(t,i,o){super(t);this.tree=i;this.stickyScrollProvider=o}onViewPointer(t){if(Vh(t.browserEvent.target)||Yn(t.browserEvent.target)||kr(t.browserEvent.target)||t.browserEvent.isHandledByList)return;let i=t.element;if(!i)return super.onViewPointer(t);if(this.isSelectionRangeChangeEvent(t)||this.isSelectionSingleChangeEvent(t))return super.onViewPointer(t);let o=t.browserEvent.target,r=o.classList.contains("monaco-tl-twistie")||o.classList.contains("monaco-icon-label")&&o.classList.contains("folder-icon")&&t.browserEvent.offsetX<16,s=_r(t.browserEvent.target),a=!1;if(s?a=!0:typeof this.tree.expandOnlyOnTwistieClick=="function"?a=this.tree.expandOnlyOnTwistieClick(i.element):a=!!this.tree.expandOnlyOnTwistieClick,s)this.handleStickyScrollMouseEvent(t,i);else{if(a&&!r&&t.browserEvent.detail!==2)return super.onViewPointer(t);if(!this.tree.expandOnDoubleClick&&t.browserEvent.detail===2)return super.onViewPointer(t)}if(i.collapsible&&(!s||r)){let l=this.tree.getNodeLocation(i),d=t.browserEvent.altKey;if(this.tree.setFocus([l]),this.tree.toggleCollapsed(l,d),r){t.browserEvent.isHandledByList=!0;return}}s||super.onViewPointer(t)}handleStickyScrollMouseEvent(t,i){if(wb(t.browserEvent.target)||Eb(t.browserEvent.target))return;let o=this.stickyScrollProvider();if(!o)throw new Error("Sticky scroll controller not found");let r=this.list.indexOf(i),s=this.list.getElementTop(r),a=o.nodePositionTopBelowWidget(i);this.tree.scrollTop=s-a,this.list.domFocus(),this.list.setFocus([r]),this.list.setSelection([r])}onDoubleClick(t){t.browserEvent.target.classList.contains("monaco-tl-twistie")||!this.tree.expandOnDoubleClick||t.browserEvent.isHandledByList||super.onDoubleClick(t)}onMouseDown(t){let i=t.browserEvent.target;if(!Cr(i)&&!_r(i)){super.onMouseDown(t);return}}onContextMenu(t){let i=t.browserEvent.target;if(!Cr(i)&&!_r(i)){super.onContextMenu(t);return}}},jp=class extends Tt{constructor(t,i,o,r,s,a,l,d){super(t,i,o,r,d);this.focusTrait=s;this.selectionTrait=a;this.anchorTrait=l}createMouseController(t){return new Qp(this,t.tree,t.stickyScrollProvider)}splice(t,i,o=[]){if(super.splice(t,i,o),o.length===0)return;let r=[],s=[],a;o.forEach((l,d)=>{this.focusTrait.has(l)&&r.push(t+d),this.selectionTrait.has(l)&&s.push(t+d),this.anchorTrait.has(l)&&(a=t+d)}),r.length>0&&super.setFocus(yo([...super.getFocus(),...r])),s.length>0&&super.setSelection(yo([...super.getSelection(),...s])),typeof a=="number"&&super.setAnchor(a)}setFocus(t,i,o=!1){super.setFocus(t,i),o||this.focusTrait.set(t.map(r=>this.element(r)),i)}setSelection(t,i,o=!1){super.setSelection(t,i),o||this.selectionTrait.set(t.map(r=>this.element(r)),i)}setAnchor(t,i=!1){super.setAnchor(t),i||(typeof t>"u"?this.anchorTrait.set([]):this.anchorTrait.set([this.element(t)]))}};var $r=class{constructor(e,t,i,o,r={}){this._user=e;this._options=r;let s;r.keyboardNavigationLabelProvider&&(s=new Hp(this,r.keyboardNavigationLabelProvider,r.filter),r={...r,filter:s},this.disposables.add(s)),this.model=this.createModel(e,r),this.treeDelegate=new qr(i);let a=this.disposables.add(new Pp(this.onDidChangeActiveNodesRelay.event)),l=new hs;this.renderers=o.map(d=>new Bp(d,this.model,this.onDidChangeCollapseStateRelay.event,a,l,r));for(let d of this.renderers)this.disposables.add(d);if(this.focus=new da(()=>this.view.getFocusedElements()[0],r.identityProvider),this.selection=new da(()=>this.view.getSelectedElements()[0],r.identityProvider),this.anchor=new da(()=>this.view.getAnchorElement(),r.identityProvider),this.view=new jp(e,t,this.treeDelegate,this.renderers,this.focus,this.selection,this.anchor,{...z0(()=>this.model,r),tree:this,stickyScrollProvider:()=>this.stickyScrollController}),this.setupModel(this.model),r.keyboardSupport!==!1){let d=_.chain(this.view.onKeyDown,u=>u.filter(h=>!Yn(h.target)).map(h=>new Ne(h)));_.chain(d,u=>u.filter(h=>h.keyCode===15))(this.onLeftArrow,this,this.disposables),_.chain(d,u=>u.filter(h=>h.keyCode===17))(this.onRightArrow,this,this.disposables),_.chain(d,u=>u.filter(h=>h.keyCode===10))(this.onSpace,this,this.disposables)}if((r.findWidgetEnabled??!0)&&r.keyboardNavigationLabelProvider&&r.contextViewProvider){let d=this.options.findWidgetStyles?{styles:this.options.findWidgetStyles}:void 0;this.findController=new Vp(this,this.view,s,r.contextViewProvider,d),this.focusNavigationFilter=u=>this.findController.shouldAllowFocus(u),this.onDidChangeFindOpenState=this.findController.onDidChangeOpenState,this.disposables.add(this.findController),this.onDidChangeFindMode=this.findController.onDidChangeMode,this.onDidChangeFindMatchType=this.findController.onDidChangeMatchType,this.disposables.add(this.onDidSpliceModelRelay.event(()=>{!this.findController.isOpened()||this.findController.pattern.length===0||(this.refilter(),this.findController.render())}))}else this.onDidChangeFindMode=_.None,this.onDidChangeFindMatchType=_.None;r.enableStickyScroll&&(this.stickyScrollController=new zd(this,this.model,this.view,this.renderers,this.treeDelegate,r),this.onDidChangeStickyScrollFocused=this.stickyScrollController.onDidChangeHasFocus),this.styleElement=Vt(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides==="always")}view;renderers;model;treeDelegate;focus;selection;anchor;eventBufferer=new fn;findController;onDidChangeFindOpenState=_.None;onDidChangeStickyScrollFocused=_.None;focusNavigationFilter;stickyScrollController;styleElement;disposables=new q;get onDidScroll(){return this.view.onDidScroll}get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseClick(){return _.map(this.view.onMouseClick,Wr)}get onMouseDblClick(){return _.filter(_.map(this.view.onMouseDblClick,Wr),e=>e.target!==3)}get onMouseOver(){return _.map(this.view.onMouseOver,Wr)}get onMouseOut(){return _.map(this.view.onMouseOut,Wr)}get onContextMenu(){return _.any(_.filter(_.map(this.view.onContextMenu,W0),e=>!e.isStickyScroll),this.stickyScrollController?.onContextMenu??_.None)}get onTap(){return _.map(this.view.onTap,Wr)}get onPointer(){return _.map(this.view.onPointer,Wr)}get onKeyDown(){return this.view.onKeyDown}get onKeyUp(){return this.view.onKeyUp}get onKeyPress(){return this.view.onKeyPress}get onDidFocus(){return this.view.onDidFocus}get onDidBlur(){return this.view.onDidBlur}onDidSwapModel=this.disposables.add(new k);onDidChangeModelRelay=this.disposables.add(new Ui);onDidSpliceModelRelay=this.disposables.add(new Ui);onDidChangeCollapseStateRelay=this.disposables.add(new Ui);onDidChangeRenderNodeCountRelay=this.disposables.add(new Ui);onDidChangeActiveNodesRelay=this.disposables.add(new Ui);get onDidChangeModel(){return _.any(this.onDidChangeModelRelay.event,this.onDidSwapModel.event)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}_onWillRefilter=new k;onWillRefilter=this._onWillRefilter.event;get findMode(){return this.findController?.mode??0}set findMode(e){this.findController&&(this.findController.mode=e)}onDidChangeFindMode;get findMatchType(){return this.findController?.matchType??0}set findMatchType(e){this.findController&&(this.findController.matchType=e)}onDidChangeFindMatchType;get onDidChangeFindPattern(){return this.findController?this.findController.onDidChangePattern:_.None}get expandOnDoubleClick(){return typeof this._options.expandOnDoubleClick>"u"?!0:this._options.expandOnDoubleClick}get expandOnlyOnTwistieClick(){return typeof this._options.expandOnlyOnTwistieClick>"u"?!0:this._options.expandOnlyOnTwistieClick}_onDidUpdateOptions=new k;onDidUpdateOptions=this._onDidUpdateOptions.event;get onDidDispose(){return this.view.onDidDispose}updateOptions(e={}){this._options={...this._options,...e};for(let t of this.renderers)t.updateOptions(e);this.view.updateOptions(this._options),this.findController?.updateOptions(e),this.updateStickyScroll(e),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides==="always")}get options(){return this._options}updateStickyScroll(e){!this.stickyScrollController&&this._options.enableStickyScroll?(this.stickyScrollController=new zd(this,this.model,this.view,this.renderers,this.treeDelegate,this._options),this.onDidChangeStickyScrollFocused=this.stickyScrollController.onDidChangeHasFocus):this.stickyScrollController&&!this._options.enableStickyScroll&&(this.onDidChangeStickyScrollFocused=_.None,this.stickyScrollController.dispose(),this.stickyScrollController=void 0),this.stickyScrollController?.updateOptions(e)}updateWidth(e){let t=this.model.getListIndex(e);t!==-1&&this.view.updateWidth(t)}getHTMLElement(){return this.view.getHTMLElement()}get contentHeight(){return this.view.contentHeight}get contentWidth(){return this.view.contentWidth}get onDidChangeContentHeight(){return this.view.onDidChangeContentHeight}get onDidChangeContentWidth(){return this.view.onDidChangeContentWidth}get scrollTop(){return this.view.scrollTop}set scrollTop(e){this.view.scrollTop=e}get scrollLeft(){return this.view.scrollLeft}set scrollLeft(e){this.view.scrollLeft=e}get scrollHeight(){return this.view.scrollHeight}get renderHeight(){return this.view.renderHeight}get firstVisibleElement(){let e=this.view.firstVisibleIndex;return this.stickyScrollController&&(e+=this.stickyScrollController.count),e<0||e>=this.view.length?void 0:this.view.element(e).element}get lastVisibleElement(){let e=this.view.lastVisibleIndex;return this.view.element(e).element}get ariaLabel(){return this.view.ariaLabel}set ariaLabel(e){this.view.ariaLabel=e}get selectionSize(){return this.selection.getNodes().length}domFocus(){this.stickyScrollController?.focusedLast()?this.stickyScrollController.domFocus():this.view.domFocus()}isDOMFocused(){return Jt(this.getHTMLElement())}layout(e,t){this.view.layout(e,t),yi(t)&&this.findController?.layout(t)}style(e){let t=`.${this.view.domId}`,i=[];e.treeIndentGuidesStroke&&(i.push(`.monaco-list${t}:hover .monaco-tl-indent > .indent-guide, .monaco-list${t}.always .monaco-tl-indent > .indent-guide  { border-color: ${e.treeInactiveIndentGuidesStroke}; }`),i.push(`.monaco-list${t} .monaco-tl-indent > .indent-guide.active { border-color: ${e.treeIndentGuidesStroke}; }`));let o=e.treeStickyScrollBackground??e.listBackground;o&&(i.push(`.monaco-list${t} .monaco-scrollable-element .monaco-tree-sticky-container { background-color: ${o}; }`),i.push(`.monaco-list${t} .monaco-scrollable-element .monaco-tree-sticky-container .monaco-tree-sticky-row { background-color: ${o}; }`)),e.treeStickyScrollBorder&&i.push(`.monaco-list${t} .monaco-scrollable-element .monaco-tree-sticky-container { border-bottom: 1px solid ${e.treeStickyScrollBorder}; }`),e.treeStickyScrollShadow&&i.push(`.monaco-list${t} .monaco-scrollable-element .monaco-tree-sticky-container .monaco-tree-sticky-container-shadow { box-shadow: ${e.treeStickyScrollShadow} 0 6px 6px -6px inset; height: 3px; }`),e.listFocusForeground&&(i.push(`.monaco-list${t}.sticky-scroll-focused .monaco-scrollable-element .monaco-tree-sticky-container:focus .monaco-list-row.focused { color: ${e.listFocusForeground}; }`),i.push(`.monaco-list${t}:not(.sticky-scroll-focused) .monaco-scrollable-element .monaco-tree-sticky-container .monaco-list-row.focused { color: inherit; }`));let r=vn(e.listFocusAndSelectionOutline,vn(e.listSelectionOutline,e.listFocusOutline??""));r&&(i.push(`.monaco-list${t}.sticky-scroll-focused .monaco-scrollable-element .monaco-tree-sticky-container:focus .monaco-list-row.focused.selected { outline: 1px solid ${r}; outline-offset: -1px;}`),i.push(`.monaco-list${t}:not(.sticky-scroll-focused) .monaco-scrollable-element .monaco-tree-sticky-container .monaco-list-row.focused.selected { outline: inherit;}`)),e.listFocusOutline&&(i.push(`.monaco-list${t}.sticky-scroll-focused .monaco-scrollable-element .monaco-tree-sticky-container:focus .monaco-list-row.focused { outline: 1px solid ${e.listFocusOutline}; outline-offset: -1px; }`),i.push(`.monaco-list${t}:not(.sticky-scroll-focused) .monaco-scrollable-element .monaco-tree-sticky-container .monaco-list-row.focused { outline: inherit; }`),i.push(`.monaco-workbench.context-menu-visible .monaco-list${t}.last-focused.sticky-scroll-focused .monaco-scrollable-element .monaco-tree-sticky-container .monaco-list-row.passive-focused { outline: 1px solid ${e.listFocusOutline}; outline-offset: -1px; }`),i.push(`.monaco-workbench.context-menu-visible .monaco-list${t}.last-focused.sticky-scroll-focused .monaco-list-rows .monaco-list-row.focused { outline: inherit; }`),i.push(`.monaco-workbench.context-menu-visible .monaco-list${t}.last-focused:not(.sticky-scroll-focused) .monaco-tree-sticky-container .monaco-list-rows .monaco-list-row.focused { outline: inherit; }`)),this.styleElement.textContent=i.join(`
`),this.view.style(e)}getParentElement(e){let t=this.model.getParentNodeLocation(e);return this.model.getNode(t).element}getFirstElementChild(e){return this.model.getFirstElementChild(e)}getNode(e){return this.model.getNode(e)}getNodeLocation(e){return this.model.getNodeLocation(e)}collapse(e,t=!1){return this.model.setCollapsed(e,!0,t)}expand(e,t=!1){return this.model.setCollapsed(e,!1,t)}toggleCollapsed(e,t=!1){return this.model.setCollapsed(e,void 0,t)}expandAll(){this.model.setCollapsed(this.model.rootRef,!1,!0)}collapseAll(){this.model.setCollapsed(this.model.rootRef,!0,!0)}isCollapsible(e){return this.model.isCollapsible(e)}setCollapsible(e,t){return this.model.setCollapsible(e,t)}isCollapsed(e){return this.model.isCollapsed(e)}expandTo(e){this.model.expandTo(e)}triggerTypeNavigation(){this.view.triggerTypeNavigation()}openFind(){this.findController?.open()}closeFind(){this.findController?.close()}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setAnchor(e){if(typeof e>"u")return this.view.setAnchor(void 0);this.eventBufferer.bufferEvents(()=>{let t=this.model.getNode(e);this.anchor.set([t]);let i=this.model.getListIndex(e);i>-1&&this.view.setAnchor(i,!0)})}getAnchor(){return this.anchor.get().at(0)}setSelection(e,t){this.eventBufferer.bufferEvents(()=>{let i=e.map(r=>this.model.getNode(r));this.selection.set(i,t);let o=e.map(r=>this.model.getListIndex(r)).filter(r=>r>-1);this.view.setSelection(o,t,!0)})}getSelection(){return this.selection.get()}setFocus(e,t){this.eventBufferer.bufferEvents(()=>{let i=e.map(r=>this.model.getNode(r));this.focus.set(i,t);let o=e.map(r=>this.model.getListIndex(r)).filter(r=>r>-1);this.view.setFocus(o,t,!0)})}focusNext(e=1,t=!1,i,o=jn(i)&&i.altKey?void 0:this.focusNavigationFilter){this.view.focusNext(e,t,i,o)}focusPrevious(e=1,t=!1,i,o=jn(i)&&i.altKey?void 0:this.focusNavigationFilter){this.view.focusPrevious(e,t,i,o)}focusNextPage(e,t=jn(e)&&e.altKey?void 0:this.focusNavigationFilter){return this.view.focusNextPage(e,t)}focusPreviousPage(e,t=jn(e)&&e.altKey?void 0:this.focusNavigationFilter){return this.view.focusPreviousPage(e,t,()=>this.stickyScrollController?.height??0)}focusLast(e,t=jn(e)&&e.altKey?void 0:this.focusNavigationFilter){this.view.focusLast(e,t)}focusFirst(e,t=jn(e)&&e.altKey?void 0:this.focusNavigationFilter){this.view.focusFirst(e,t)}getFocus(){return this.focus.get()}getStickyScrollFocus(){let e=this.stickyScrollController?.getFocus();return e!==void 0?[e]:[]}getFocusedPart(){return this.stickyScrollController?.focusedLast()?1:0}reveal(e,t){this.model.expandTo(e);let i=this.model.getListIndex(e);if(i!==-1)if(!this.stickyScrollController)this.view.reveal(i,t);else{let o=this.stickyScrollController.nodePositionTopBelowWidget(this.getNode(e));this.view.reveal(i,t,o)}}getRelativeTop(e){let t=this.model.getListIndex(e);if(t===-1)return null;let i=this.stickyScrollController?.getNode(this.getNode(e));return this.view.getRelativeTop(t,i?.position??this.stickyScrollController?.height)}getViewState(e=this.options.identityProvider){if(!e)throw new ze(this._user,"Can't get tree view state without an identity provider");let t=s=>e.getId(s).toString(),i=Rp.empty(this.scrollTop);for(let s of this.getFocus())i.focus.add(t(s));for(let s of this.getSelection())i.selection.add(t(s));let o=this.model.getNode(),r=[o];for(;r.length>0;){let s=r.shift();s!==o&&s.collapsible&&(i.expanded[t(s.element)]=s.collapsed?0:1),r.push(...s.children)}return i}onLeftArrow(e){e.preventDefault(),e.stopPropagation();let t=this.view.getFocusedElements();if(t.length===0)return;let i=t[0],o=this.model.getNodeLocation(i);if(!this.model.setCollapsed(o,!0)){let s=this.model.getParentNodeLocation(o);if(!s)return;let a=this.model.getListIndex(s);this.view.reveal(a),this.view.setFocus([a])}}onRightArrow(e){e.preventDefault(),e.stopPropagation();let t=this.view.getFocusedElements();if(t.length===0)return;let i=t[0],o=this.model.getNodeLocation(i);if(!this.model.setCollapsed(o,!1)){if(!i.children.some(l=>l.visible))return;let[s]=this.view.getFocus(),a=s+1;this.view.reveal(a),this.view.setFocus([a])}}onSpace(e){e.preventDefault(),e.stopPropagation();let t=this.view.getFocusedElements();if(t.length===0)return;let i=t[0],o=this.model.getNodeLocation(i),r=e.browserEvent.altKey;this.model.setCollapsed(o,void 0,r)}modelDisposables=new q;setupModel(e){this.modelDisposables.clear(),this.modelDisposables.add(e.onDidSpliceRenderedNodes(({start:r,deleteCount:s,elements:a})=>this.view.splice(r,s,a)));let t=_.forEach(e.onDidSpliceModel,r=>{this.eventBufferer.bufferEvents(()=>{this.focus.onDidModelSplice(r),this.selection.onDidModelSplice(r)})},this.modelDisposables);t(()=>null,null,this.modelDisposables);let i=this.modelDisposables.add(new k),o=this.modelDisposables.add(new Dn(0));this.modelDisposables.add(_.any(t,this.focus.onDidChange,this.selection.onDidChange)(()=>{o.trigger(()=>{let r=new Set;for(let s of this.focus.getNodes())r.add(s);for(let s of this.selection.getNodes())r.add(s);i.fire([...r.values()])})})),this.onDidChangeActiveNodesRelay.input=i.event,this.onDidChangeModelRelay.input=_.signal(e.onDidSpliceModel),this.onDidChangeCollapseStateRelay.input=e.onDidChangeCollapseState,this.onDidChangeRenderNodeCountRelay.input=e.onDidChangeRenderNodeCount}setModel(e){let t=this.model;this.model=e,this.setupModel(e),this.renderers.forEach(i=>i.setModel(e)),this.stickyScrollController?.setModel(e),this.focus.set([]),this.selection.set([]),this.anchor.set([]),this.view.splice(0,t.getListRenderCount(t.rootRef)),this.model.refilter(),this.onDidSwapModel.fire()}getModel(){return this.model}navigate(e){return new Yp(this.view,this.model,e)}dispose(){$e(this.disposables),this.stickyScrollController?.dispose(),this.view.dispose(),this.modelDisposables.dispose()}},Yp=class{constructor(e,t,i){this.view=e;this.model=t;i?this.index=this.model.getListIndex(i):this.index=-1}index;current(){return this.index<0||this.index>=this.view.length?null:this.view.element(this.index).element}previous(){return this.index--,this.current()}next(){return this.index++,this.current()}first(){return this.index=0,this.current()}last(){return this.index=this.view.length-1,this.current()}};var ca=class{constructor(e,t,i){this.options=t;this.styles=i;this.element=G(e,ee(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}element;count=0;countFormat;titleFormat;setCount(e){this.count=e,this.render()}setCountFormat(e){this.countFormat=e,this.render()}setTitleFormat(e){this.titleFormat=e,this.render()}render(){this.element.textContent=gu(this.countFormat,this.count),this.element.title=gu(this.titleFormat,this.count),this.element.style.backgroundColor=this.styles.badgeBackground??"",this.element.style.color=this.styles.badgeForeground??"",this.styles.badgeBorder&&(this.element.style.border=`1px solid ${this.styles.badgeBorder}`)}};function q0(n,e){let t={...e};for(let i in n){let o=n[i];t[i]=o!==void 0?O(o):void 0}return t}var wy={keybindingLabelBackground:O(Uv),keybindingLabelForeground:O(Vv),keybindingLabelBorder:O(Wv),keybindingLabelBottomBorder:O(qv),keybindingLabelShadow:O(so)};var Ey={buttonForeground:O(Sp),buttonSeparator:O(_v),buttonBackground:O(Kr),buttonHoverBackground:O(Cv),buttonSecondaryForeground:O(Av),buttonSecondaryBackground:O(xd),buttonSecondaryHoverBackground:O(Mv),buttonBorder:O(Lv)};var ky={progressBarBackground:O(Yb)};var Xp={inputActiveOptionBorder:O(yp),inputActiveOptionForeground:O(Ip),inputActiveOptionBackground:O(Tp)},Bq={activeForeground:O(zr),activeBackground:O(Nv),activeBorder:O(Ov),inactiveForeground:O(Fv),inactiveBackground:O(Rv),inactiveBorder:O(Pv),inactiveHoverBackground:O(Bv)};var Hq={checkboxBackground:O(Hv),checkboxBorder:O(zv),checkboxForeground:O(Kv)};var Kq={dialogBackground:O(Pt),dialogForeground:O(Ko),dialogShadow:O(so),dialogBorder:O(ye),errorIconForeground:O(uv),warningIconForeground:O(hv),infoIconForeground:O(pv),textLinkForeground:O(Qb)};var Jp={inputBackground:O(fv),inputForeground:O(gv),inputBorder:O(bv),inputValidationInfoBorder:O(Tv),inputValidationInfoBackground:O(vv),inputValidationInfoForeground:O(yv),inputValidationWarningBorder:O(Sv),inputValidationWarningBackground:O(Iv),inputValidationWarningForeground:O(xv),inputValidationErrorBorder:O(kv),inputValidationErrorBackground:O(wv),inputValidationErrorForeground:O(Ev)};var Dy={listFilterWidgetBackground:O(iy),listFilterWidgetOutline:O(oy),listFilterWidgetNoMatchesOutline:O(ry),listFilterWidgetShadow:O(sy),inputBoxStyles:Jp,toggleStyles:Xp},_y={badgeBackground:O(Or),badgeForeground:O(jb),badgeBorder:O(ye)};var zq={breadcrumbsBackground:O(lv),breadcrumbsForeground:O(av),breadcrumbsHoverForeground:O(bp),breadcrumbsFocusForeground:O(bp),breadcrumbsFocusAndSelectionForeground:O(dv)};var Gr={listBackground:void 0,listInactiveFocusForeground:void 0,listFocusBackground:O($v),listFocusForeground:O(Gv),listFocusOutline:O(Qv),listActiveSelectionBackground:O(ii),listActiveSelectionForeground:O(ao),listActiveSelectionIconForeground:O(wd),listFocusAndSelectionOutline:O(jv),listFocusAndSelectionBackground:O(ii),listFocusAndSelectionForeground:O(ao),listInactiveSelectionBackground:O(Yv),listInactiveSelectionIconForeground:O(Jv),listInactiveSelectionForeground:O(Xv),listInactiveFocusBackground:O(Zv),listInactiveFocusOutline:O(ey),listHoverBackground:O(wp),listHoverForeground:O(Ep),listDropOverBackground:O(ty),listDropBetweenBackground:O(ny),listSelectionOutline:O(Ye),listHoverOutline:O(Ye),treeIndentGuidesStroke:O(kp),treeInactiveIndentGuidesStroke:O(ay),treeStickyScrollBackground:void 0,treeStickyScrollBorder:void 0,treeStickyScrollShadow:O(ia),tableColumnsBorder:O(ly),tableOddRowsBackgroundColor:O(dy)};function Vo(n){return q0(n,Gr)}var Uq={selectBackground:O(Ur),selectListBackground:O(Dv),selectForeground:O(oa),decoratorRightForeground:O(Ed),selectBorder:O(xp),focusBorder:O(sn),listFocusBackground:O(sa),listInactiveSelectionIconForeground:O(kd),listFocusForeground:O(ra),listFocusOutline:Wb(Ye,N.transparent.toString()),listHoverBackground:O(wp),listHoverForeground:O(Ep),listHoverOutline:O(Ye),selectListBorder:O(pp),listBackground:void 0,listActiveSelectionBackground:void 0,listActiveSelectionForeground:void 0,listActiveSelectionIconForeground:void 0,listFocusAndSelectionBackground:void 0,listDropOverBackground:void 0,listDropBetweenBackground:void 0,listInactiveSelectionBackground:void 0,listInactiveSelectionForeground:void 0,listInactiveFocusBackground:void 0,listInactiveFocusOutline:void 0,listSelectionOutline:void 0,listFocusAndSelectionForeground:void 0,listFocusAndSelectionOutline:void 0,listInactiveFocusForeground:void 0,tableColumnsBorder:void 0,tableOddRowsBackgroundColor:void 0,treeIndentGuidesStroke:void 0,treeInactiveIndentGuidesStroke:void 0,treeStickyScrollBackground:void 0,treeStickyScrollBorder:void 0,treeStickyScrollShadow:void 0};var Vq={shadowColor:O(so),borderColor:O(cy),foregroundColor:O(uy),backgroundColor:O(hy),selectionForegroundColor:O(py),selectionBackgroundColor:O(my),selectionBorderColor:O(fy),separatorColor:O(gy),scrollbarShadow:O(ia),scrollbarSliderBackground:O(vd),scrollbarSliderHoverBackground:O(yd),scrollbarSliderActiveBackground:O(Td)};var $0=ee,Ud=class extends V{constructor(t,i,o){super();this.parent=t;this.container=G(this.parent,$0(".quick-input-box")),this.findInput=this._register(new Vr(this.container,void 0,{label:"",inputBoxStyles:i,toggleStyles:o}));let r=this.findInput.inputBox.inputElement;r.role="combobox",r.ariaHasPopup="menu",r.ariaAutoComplete="list",r.ariaExpanded="true"}container;findInput;onKeyDown=t=>ft(this.findInput.inputBox.inputElement,Z.KEY_DOWN,t);onMouseDown=t=>ft(this.findInput.inputBox.inputElement,Z.MOUSE_DOWN,t);onDidChange=t=>this.findInput.onDidChange(t);get value(){return this.findInput.getValue()}set value(t){this.findInput.setValue(t)}select(t=null){this.findInput.inputBox.select(t)}getSelection(){return this.findInput.inputBox.getSelection()}isSelectionAtEnd(){return this.findInput.inputBox.isSelectionAtEnd()}setPlaceholder(t){this.findInput.inputBox.setPlaceHolder(t)}get placeholder(){return this.findInput.inputBox.inputElement.getAttribute("placeholder")||""}set placeholder(t){this.findInput.inputBox.setPlaceHolder(t)}get password(){return this.findInput.inputBox.inputElement.type==="password"}set password(t){this.findInput.inputBox.inputElement.type=t?"password":"text"}set enabled(t){this.findInput.inputBox.inputElement.toggleAttribute("readonly",!t)}set toggles(t){this.findInput.setAdditionalToggles(t)}hasFocus(){return this.findInput.inputBox.hasFocus()}setAttribute(t,i){this.findInput.inputBox.inputElement.setAttribute(t,i)}removeAttribute(t){this.findInput.inputBox.inputElement.removeAttribute(t)}showDecoration(t){t===Zt.Ignore?this.findInput.clearMessage():this.findInput.showMessage({type:t===Zt.Info?1:t===Zt.Warning?2:3,content:""})}stylesForType(t){return this.findInput.inputBox.stylesForType(t===Zt.Info?1:t===Zt.Warning?2:3)}setFocus(){this.findInput.focus()}layout(){this.findInput.inputBox.layout()}};var Vd=class{constructor(e){this.nodes=e}toString(){return this.nodes.map(e=>typeof e=="string"?e:e.label).join("")}};ie([ke],Vd.prototype,"toString",1);var G0=/\[([^\]]+)\]\(((?:https?:\/\/|command:|file:)[^\)\s]+)(?: (["'])(.+?)(\3))?\)/gi;function Cy(n){let e=[],t=0,i;for(;i=G0.exec(n);){i.index-t>0&&e.push(n.substring(t,i.index));let[,o,r,,s]=i;s?e.push({label:o,href:r,title:s}):e.push({label:o,href:r}),t=i.index+i[0].length}return t<n.length&&e.push(n.substring(t)),new Vd(e)}var Zp={},Q0=new ea("quick-input-button-icon-");function j0(n){if(!n)return;let e,t=n.dark.toString();return Zp[t]?e=Zp[t]:(e=Q0.nextId(),Ol(`.${e}, .hc-light .${e}`,`background-image: ${No(n.light||n.dark)}`),Ol(`.vs-dark .${e}, .hc-black .${e}`,`background-image: ${No(n.dark)}`),Zp[t]=e),e}function Wo(n,e,t){let i=n.iconClass||j0(n.iconPath);return n.alwaysVisible&&(i=i?`${i} always-visible`:"always-visible"),{id:e,label:"",tooltip:n.tooltip||"",class:i,enabled:!0,run:t}}function Ly(n,e,t){Et(e);let i=Cy(n),o=0;for(let r of i.nodes)if(typeof r=="string")e.append(...ti(r));else{let s=r.title;!s&&r.href.startsWith("command:")?s=p("executeCommand","Click to execute command '{0}'",r.href.substring(8)):s||(s=r.href);let a=ee("a",{href:r.href,title:s,tabIndex:o++},r.label);a.style.textDecoration="underline";let l=y=>{Fg(y)&&Re.stop(y,!0),t.callback(r.href)},d=t.disposables.add(new se(a,Z.CLICK)).event,u=t.disposables.add(new se(a,Z.KEY_DOWN)).event,h=_.chain(u,y=>y.filter(w=>{let f=new Ne(w);return f.equals(10)||f.equals(3)}));t.disposables.add(yt.addTarget(a));let m=t.disposables.add(new se(a,Ue.Tap)).event;_.any(d,m,h)(l,null,t.disposables),e.appendChild(a)}}var J$=Oe("contextService");var Ay="code-workspace",Z$=`.${Ay}`,eG=[{name:p("codeWorkspace","Code Workspace"),extensions:[Ay]}];var _t=Oe("configurationService");function My(n){return n.replace(/[\[\]]/g,"")}var em=Oe("hoverService"),Qr=class extends V{constructor(t,i,o={},r,s){super();this.placement=t;this.instantHover=i;this.overrideOptions=o;this.configurationService=r;this.hoverService=s;this._delay=this.configurationService.getValue("workbench.hover.delay"),this._register(this.configurationService.onDidChangeConfiguration(a=>{a.affectsConfiguration("workbench.hover.delay")&&(this._delay=this.configurationService.getValue("workbench.hover.delay"))}))}lastHoverHideTime=0;timeLimit=200;_delay;get delay(){return this.isInstantlyHovering()?0:this._delay}hoverDisposables=this._register(new q);showHover(t,i){let o=typeof this.overrideOptions=="function"?this.overrideOptions(t,i):this.overrideOptions;this.hoverDisposables.clear();let r=Qe(t.target)?[t.target]:t.target.targetElements;for(let a of r)this.hoverDisposables.add(ft(a,"keydown",l=>{l.equals(9)&&this.hoverService.hideHover()}));let s=Qe(t.content)?void 0:t.content.toString();return this.hoverService.showHover({...t,...o,persistence:{hideOnKeyDown:!0,...o.persistence},id:s,appearance:{...t.appearance,compact:!0,skipFadeInAnimation:this.isInstantlyHovering(),...o.appearance}},i)}isInstantlyHovering(){return this.instantHover&&Date.now()-this.lastHoverHideTime<this.timeLimit}setInstantHoverTimeLimit(t){if(!this.instantHover)throw new Error("Instant hover is not enabled");this.timeLimit=t}onDidHideHover(){this.hoverDisposables.clear(),this.instantHover&&(this.lastHoverHideTime=Date.now())}};Qr=ie([oe(3,_t),oe(4,em)],Qr);var tm=class{constructor(e,t){this.renderer=e;this.modelProvider=t}get templateId(){return this.renderer.templateId}renderTemplate(e){return{data:this.renderer.renderTemplate(e),disposable:V.None}}renderElement(e,t,i,o){if(i.disposable?.dispose(),!i.data)return;let r=this.modelProvider();if(r.isResolved(e))return this.renderer.renderElement(r.get(e),e,i.data,o);let s=new En,a=r.resolve(e,s.token);i.disposable={dispose:()=>s.cancel()},this.renderer.renderPlaceholder(e,i.data),a.then(l=>this.renderer.renderElement(l,e,i.data,o))}disposeTemplate(e){e.disposable&&(e.disposable.dispose(),e.disposable=void 0),e.data&&(this.renderer.disposeTemplate(e.data),e.data=void 0)}},nm=class{constructor(e,t){this.modelProvider=e;this.accessibilityProvider=t}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(e){let t=this.modelProvider();return t.isResolved(e)?this.accessibilityProvider.getAriaLabel(t.get(e)):null}};function Y0(n,e){return{...e,accessibilityProvider:e.accessibilityProvider&&new nm(n,e.accessibilityProvider)}}var Wd=class{list;_model;constructor(e,t,i,o,r={}){let s=()=>this.model,a=o.map(l=>new tm(l,s));this.list=new Tt(e,t,i,a,Y0(s,r))}updateOptions(e){this.list.updateOptions(e)}getHTMLElement(){return this.list.getHTMLElement()}isDOMFocused(){return Jt(this.getHTMLElement())}domFocus(){this.list.domFocus()}get onDidFocus(){return this.list.onDidFocus}get onDidBlur(){return this.list.onDidBlur}get widget(){return this.list}get onDidDispose(){return this.list.onDidDispose}get onMouseClick(){return _.map(this.list.onMouseClick,({element:e,index:t,browserEvent:i})=>({element:e===void 0?void 0:this._model.get(e),index:t,browserEvent:i}))}get onMouseDblClick(){return _.map(this.list.onMouseDblClick,({element:e,index:t,browserEvent:i})=>({element:e===void 0?void 0:this._model.get(e),index:t,browserEvent:i}))}get onTap(){return _.map(this.list.onTap,({element:e,index:t,browserEvent:i})=>({element:e===void 0?void 0:this._model.get(e),index:t,browserEvent:i}))}get onPointer(){return _.map(this.list.onPointer,({element:e,index:t,browserEvent:i})=>({element:e===void 0?void 0:this._model.get(e),index:t,browserEvent:i}))}get onDidChangeFocus(){return _.map(this.list.onDidChangeFocus,({elements:e,indexes:t,browserEvent:i})=>({elements:e.map(o=>this._model.get(o)),indexes:t,browserEvent:i}))}get onDidChangeSelection(){return _.map(this.list.onDidChangeSelection,({elements:e,indexes:t,browserEvent:i})=>({elements:e.map(o=>this._model.get(o)),indexes:t,browserEvent:i}))}get onContextMenu(){return _.map(this.list.onContextMenu,({element:e,index:t,anchor:i,browserEvent:o})=>typeof e>"u"?{element:e,index:t,anchor:i,browserEvent:o}:{element:this._model.get(e),index:t,anchor:i,browserEvent:o})}get model(){return this._model}set model(e){this._model=e,this.list.splice(0,this.list.length,at(e.length))}get length(){return this.list.length}get scrollTop(){return this.list.scrollTop}set scrollTop(e){this.list.scrollTop=e}get scrollLeft(){return this.list.scrollLeft}set scrollLeft(e){this.list.scrollLeft=e}setAnchor(e){this.list.setAnchor(e)}getAnchor(){return this.list.getAnchor()}setFocus(e){this.list.setFocus(e)}focusNext(e,t){this.list.focusNext(e,t)}focusPrevious(e,t){this.list.focusPrevious(e,t)}focusNextPage(){return this.list.focusNextPage()}focusPreviousPage(){return this.list.focusPreviousPage()}focusLast(){this.list.focusLast()}focusFirst(){this.list.focusFirst()}getFocus(){return this.list.getFocus()}setSelection(e,t){this.list.setSelection(e,t)}getSelection(){return this.list.getSelection()}getSelectedElements(){return this.getSelection().map(e=>this.model.get(e))}layout(e,t){this.list.layout(e,t)}triggerTypeNavigation(){this.list.triggerTypeNavigation()}reveal(e,t){this.list.reveal(e,t)}style(e){this.list.style(e)}dispose(){this.list.dispose()}};var X0=!1;var J0=4,Z0=new k;var eS=300,tS=new k;var ua=class{constructor(e){this.el=e}disposables=new q;get onPointerMove(){return this.disposables.add(new se(de(this.el),"mousemove")).event}get onPointerUp(){return this.disposables.add(new se(de(this.el),"mouseup")).event}dispose(){this.disposables.dispose()}};ie([ke],ua.prototype,"onPointerMove",1),ie([ke],ua.prototype,"onPointerUp",1);var ha=class{constructor(e){this.el=e}disposables=new q;get onPointerMove(){return this.disposables.add(new se(this.el,Ue.Change)).event}get onPointerUp(){return this.disposables.add(new se(this.el,Ue.End)).event}dispose(){this.disposables.dispose()}};ie([ke],ha.prototype,"onPointerMove",1),ie([ke],ha.prototype,"onPointerUp",1);var jr=class{constructor(e){this.factory=e}get onPointerMove(){return this.factory.onPointerMove}get onPointerUp(){return this.factory.onPointerUp}dispose(){}};ie([ke],jr.prototype,"onPointerMove",1),ie([ke],jr.prototype,"onPointerUp",1);var Ny="pointer-events-disabled",pa=class n extends V{el;layoutProvider;orientation;size;hoverDelay=eS;hoverDelayer=this._register(new Dn(this.hoverDelay));_state=3;onDidEnablementChange=this._register(new k);_onDidStart=this._register(new k);_onDidChange=this._register(new k);_onDidReset=this._register(new k);_onDidEnd=this._register(new k);orthogonalStartSashDisposables=this._register(new q);_orthogonalStartSash;orthogonalStartDragHandleDisposables=this._register(new q);_orthogonalStartDragHandle;orthogonalEndSashDisposables=this._register(new q);_orthogonalEndSash;orthogonalEndDragHandleDisposables=this._register(new q);_orthogonalEndDragHandle;get state(){return this._state}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}set state(e){this._state!==e&&(this.el.classList.toggle("disabled",e===0),this.el.classList.toggle("minimum",e===1),this.el.classList.toggle("maximum",e===2),this._state=e,this.onDidEnablementChange.fire(e))}onDidStart=this._onDidStart.event;onDidChange=this._onDidChange.event;onDidReset=this._onDidReset.event;onDidEnd=this._onDidEnd.event;linkedSash=void 0;set orthogonalStartSash(e){if(this._orthogonalStartSash!==e){if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),e){let t=i=>{this.orthogonalStartDragHandleDisposables.clear(),i!==0&&(this._orthogonalStartDragHandle=G(this.el,ee(".orthogonal-drag-handle.start")),this.orthogonalStartDragHandleDisposables.add(ce(()=>this._orthogonalStartDragHandle.remove())),this.orthogonalStartDragHandleDisposables.add(new se(this._orthogonalStartDragHandle,"mouseenter")).event(()=>n.onMouseEnter(e),void 0,this.orthogonalStartDragHandleDisposables),this.orthogonalStartDragHandleDisposables.add(new se(this._orthogonalStartDragHandle,"mouseleave")).event(()=>n.onMouseLeave(e),void 0,this.orthogonalStartDragHandleDisposables))};this.orthogonalStartSashDisposables.add(e.onDidEnablementChange.event(t,this)),t(e.state)}this._orthogonalStartSash=e}}set orthogonalEndSash(e){if(this._orthogonalEndSash!==e){if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),e){let t=i=>{this.orthogonalEndDragHandleDisposables.clear(),i!==0&&(this._orthogonalEndDragHandle=G(this.el,ee(".orthogonal-drag-handle.end")),this.orthogonalEndDragHandleDisposables.add(ce(()=>this._orthogonalEndDragHandle.remove())),this.orthogonalEndDragHandleDisposables.add(new se(this._orthogonalEndDragHandle,"mouseenter")).event(()=>n.onMouseEnter(e),void 0,this.orthogonalEndDragHandleDisposables),this.orthogonalEndDragHandleDisposables.add(new se(this._orthogonalEndDragHandle,"mouseleave")).event(()=>n.onMouseLeave(e),void 0,this.orthogonalEndDragHandleDisposables))};this.orthogonalEndSashDisposables.add(e.onDidEnablementChange.event(t,this)),t(e.state)}this._orthogonalEndSash=e}}constructor(e,t,i){super(),this.el=G(e,ee(".monaco-sash")),i.orthogonalEdge&&this.el.classList.add(`orthogonal-edge-${i.orthogonalEdge}`),Se&&this.el.classList.add("mac");let o=this._register(new se(this.el,"mousedown")).event;this._register(o(h=>this.onPointerStart(h,new ua(e)),this));let r=this._register(new se(this.el,"dblclick")).event;this._register(r(this.onPointerDoublePress,this));let s=this._register(new se(this.el,"mouseenter")).event;this._register(s(()=>n.onMouseEnter(this)));let a=this._register(new se(this.el,"mouseleave")).event;this._register(a(()=>n.onMouseLeave(this))),this._register(yt.addTarget(this.el));let l=this._register(new se(this.el,Ue.Start)).event;this._register(l(h=>this.onPointerStart(h,new ha(this.el)),this));let d=this._register(new se(this.el,Ue.Tap)).event,u;this._register(d(h=>{if(u){clearTimeout(u),u=void 0,this.onPointerDoublePress(h);return}clearTimeout(u),u=setTimeout(()=>u=void 0,250)},this)),typeof i.size=="number"?(this.size=i.size,i.orientation===0?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=J0,this._register(Z0.event(h=>{this.size=h,this.layout()}))),this._register(tS.event(h=>this.hoverDelay=h)),this.layoutProvider=t,this.orthogonalStartSash=i.orthogonalStartSash,this.orthogonalEndSash=i.orthogonalEndSash,this.orientation=i.orientation||0,this.orientation===1?(this.el.classList.add("horizontal"),this.el.classList.remove("vertical")):(this.el.classList.remove("horizontal"),this.el.classList.add("vertical")),this.el.classList.toggle("debug",X0),this.layout()}onPointerStart(e,t){Re.stop(e);let i=!1;if(!e.__orthogonalSashEvent){let w=this.getOrthogonalSash(e);w&&(i=!0,e.__orthogonalSashEvent=!0,w.onPointerStart(e,new jr(t)))}if(this.linkedSash&&!e.__linkedSashEvent&&(e.__linkedSashEvent=!0,this.linkedSash.onPointerStart(e,new jr(t))),!this.state)return;let o=this.el.ownerDocument.getElementsByTagName("iframe");for(let w of o)w.classList.add(Ny);let r=e.pageX,s=e.pageY,a=e.altKey,l={startX:r,currentX:r,startY:s,currentY:s,altKey:a};this.el.classList.add("active"),this._onDidStart.fire(l);let d=Vt(this.el),u=()=>{let w="";i?w="all-scroll":this.orientation===1?this.state===1?w="s-resize":this.state===2?w="n-resize":w=Se?"row-resize":"ns-resize":this.state===1?w="e-resize":this.state===2?w="w-resize":w=Se?"col-resize":"ew-resize",d.textContent=`* { cursor: ${w} !important; }`},h=new q;u(),i||this.onDidEnablementChange.event(u,null,h);let m=w=>{Re.stop(w,!1);let f={startX:r,currentX:w.pageX,startY:s,currentY:w.pageY,altKey:a};this._onDidChange.fire(f)},y=w=>{Re.stop(w,!1),d.remove(),this.el.classList.remove("active"),this._onDidEnd.fire(),h.dispose();for(let f of o)f.classList.remove(Ny)};t.onPointerMove(m,null,h),t.onPointerUp(y,null,h),h.add(t)}onPointerDoublePress(e){let t=this.getOrthogonalSash(e);t&&t._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}static onMouseEnter(e,t=!1){e.el.classList.contains("active")?(e.hoverDelayer.cancel(),e.el.classList.add("hover")):e.hoverDelayer.trigger(()=>e.el.classList.add("hover"),e.hoverDelay).then(void 0,()=>{}),!t&&e.linkedSash&&n.onMouseEnter(e.linkedSash,!0)}static onMouseLeave(e,t=!1){e.hoverDelayer.cancel(),e.el.classList.remove("hover"),!t&&e.linkedSash&&n.onMouseLeave(e.linkedSash,!0)}clearSashHoverState(){n.onMouseLeave(this)}layout(){if(this.orientation===0){let e=this.layoutProvider;this.el.style.left=e.getVerticalSashLeft(this)-this.size/2+"px",e.getVerticalSashTop&&(this.el.style.top=e.getVerticalSashTop(this)+"px"),e.getVerticalSashHeight&&(this.el.style.height=e.getVerticalSashHeight(this)+"px")}else{let e=this.layoutProvider;this.el.style.top=e.getHorizontalSashTop(this)-this.size/2+"px",e.getHorizontalSashLeft&&(this.el.style.left=e.getHorizontalSashLeft(this)+"px"),e.getHorizontalSashWidth&&(this.el.style.width=e.getHorizontalSashWidth(this)+"px")}}getOrthogonalSash(e){let t=e.initialTarget??e.target;if(!(!t||!Qe(t))&&t.classList.contains("orthogonal-drag-handle"))return t.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash}dispose(){super.dispose(),this.el.remove()}};var nS={separatorBorder:N.transparent};var qd=class{constructor(e,t,i,o){this.container=e;this.view=t;this.disposable=o;typeof i=="number"?(this._size=i,this._cachedVisibleSize=void 0,e.classList.add("visible")):(this._size=0,this._cachedVisibleSize=i.cachedVisibleSize)}_size;set size(e){this._size=e}get size(){return this._size}_cachedVisibleSize=void 0;get cachedVisibleSize(){return this._cachedVisibleSize}get visible(){return typeof this._cachedVisibleSize>"u"}setVisible(e,t){if(e!==this.visible){e?(this.size=vt(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize=typeof t=="number"?t:this.size,this.size=0),this.container.classList.toggle("visible",e);try{this.view.setVisible?.(e)}catch(i){console.error("Splitview: Failed to set visible view"),console.error(i)}}}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get proportionalLayout(){return this.view.proportionalLayout??!0}get snap(){return!!this.view.snap}set enabled(e){this.container.style.pointerEvents=e?"":"none"}layout(e,t){this.layoutContainer(e);try{this.view.layout(this.size,e,t)}catch(i){console.error("Splitview: Failed to layout view"),console.error(i)}}dispose(){this.disposable.dispose()}},im=class extends qd{layoutContainer(e){this.container.style.top=`${e}px`,this.container.style.height=`${this.size}px`}},om=class extends qd{layoutContainer(e){this.container.style.left=`${e}px`,this.container.style.width=`${this.size}px`}};var Fy;(o=>{o.Distribute={type:"distribute"};function e(r){return{type:"split",index:r}}o.Split=e;function t(r){return{type:"auto",index:r}}o.Auto=t;function i(r){return{type:"invisible",cachedVisibleSize:r}}o.Invisible=i})(Fy||={});var $d=class extends V{orientation;el;sashContainer;viewContainer;scrollable;scrollableElement;size=0;layoutContext;_contentSize=0;proportions=void 0;viewItems=[];sashItems=[];sashDragState;state=0;inverseAltBehavior;proportionalLayout;getSashOrthogonalSize;_onDidSashChange=this._register(new k);_onDidSashReset=this._register(new k);_orthogonalStartSash;_orthogonalEndSash;_startSnappingEnabled=!0;_endSnappingEnabled=!0;get contentSize(){return this._contentSize}onDidSashChange=this._onDidSashChange.event;onDidSashReset=this._onDidSashReset.event;onDidScroll;get length(){return this.viewItems.length}get minimumSize(){return this.viewItems.reduce((e,t)=>e+t.minimumSize,0)}get maximumSize(){return this.length===0?Number.POSITIVE_INFINITY:this.viewItems.reduce((e,t)=>e+t.maximumSize,0)}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}get startSnappingEnabled(){return this._startSnappingEnabled}get endSnappingEnabled(){return this._endSnappingEnabled}set orthogonalStartSash(e){for(let t of this.sashItems)t.sash.orthogonalStartSash=e;this._orthogonalStartSash=e}set orthogonalEndSash(e){for(let t of this.sashItems)t.sash.orthogonalEndSash=e;this._orthogonalEndSash=e}get sashes(){return this.sashItems.map(e=>e.sash)}set startSnappingEnabled(e){this._startSnappingEnabled!==e&&(this._startSnappingEnabled=e,this.updateSashEnablement())}set endSnappingEnabled(e){this._endSnappingEnabled!==e&&(this._endSnappingEnabled=e,this.updateSashEnablement())}constructor(e,t={}){super(),this.orientation=t.orientation??0,this.inverseAltBehavior=t.inverseAltBehavior??!1,this.proportionalLayout=t.proportionalLayout??!0,this.getSashOrthogonalSize=t.getSashOrthogonalSize,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(this.orientation===0?"vertical":"horizontal"),e.appendChild(this.el),this.sashContainer=G(this.el,ee(".sash-container")),this.viewContainer=ee(".split-view-container"),this.scrollable=this._register(new Ji({forceIntegerValues:!0,smoothScrollDuration:125,scheduleAtNextAnimationFrame:o=>cn(de(this.el),o)})),this.scrollableElement=this._register(new wr(this.viewContainer,{vertical:this.orientation===0?t.scrollbarVisibility??1:2,horizontal:this.orientation===1?t.scrollbarVisibility??1:2},this.scrollable));let i=this._register(new se(this.viewContainer,"scroll")).event;this._register(i(o=>{let r=this.scrollableElement.getScrollPosition(),s=Math.abs(this.viewContainer.scrollLeft-r.scrollLeft)<=1?void 0:this.viewContainer.scrollLeft,a=Math.abs(this.viewContainer.scrollTop-r.scrollTop)<=1?void 0:this.viewContainer.scrollTop;(s!==void 0||a!==void 0)&&this.scrollableElement.setScrollPosition({scrollLeft:s,scrollTop:a})})),this.onDidScroll=this.scrollableElement.onScroll,this._register(this.onDidScroll(o=>{o.scrollTopChanged&&(this.viewContainer.scrollTop=o.scrollTop),o.scrollLeftChanged&&(this.viewContainer.scrollLeft=o.scrollLeft)})),G(this.el,this.scrollableElement.getDomNode()),this.style(t.styles||nS),t.descriptor&&(this.size=t.descriptor.size,t.descriptor.views.forEach((o,r)=>{let s=$i(o.visible)||o.visible?o.size:{type:"invisible",cachedVisibleSize:o.size},a=o.view;this.doAddView(a,s,r,!0)}),this._contentSize=this.viewItems.reduce((o,r)=>o+r.size,0),this.saveProportions())}style(e){e.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",e.separatorBorder.toString()))}addView(e,t,i=this.viewItems.length,o){this.doAddView(e,t,i,o)}removeView(e,t){if(e<0||e>=this.viewItems.length)throw new Error("Index out of bounds");if(this.state!==0)throw new Error("Cant modify splitview");this.state=1;try{t?.type==="auto"&&(this.areViewsDistributed()?t={type:"distribute"}:t={type:"split",index:t.index});let i=t?.type==="split"?this.viewItems[t.index]:void 0,o=this.viewItems.splice(e,1)[0];if(i&&(i.size+=o.size),this.viewItems.length>=1){let s=Math.max(e-1,0);this.sashItems.splice(s,1)[0].disposable.dispose()}this.relayout(),t?.type==="distribute"&&this.distributeViewSizes();let r=o.view;return o.dispose(),r}finally{this.state=0}}removeAllViews(){if(this.state!==0)throw new Error("Cant modify splitview");this.state=1;try{let e=this.viewItems.splice(0,this.viewItems.length);for(let i of e)i.dispose();let t=this.sashItems.splice(0,this.sashItems.length);for(let i of t)i.disposable.dispose();return this.relayout(),e.map(i=>i.view)}finally{this.state=0}}moveView(e,t){if(this.state!==0)throw new Error("Cant modify splitview");let i=this.getViewCachedVisibleSize(e),o=typeof i>"u"?this.getViewSize(e):Fy.Invisible(i),r=this.removeView(e);this.addView(r,o,t)}swapViews(e,t){if(this.state!==0)throw new Error("Cant modify splitview");if(e>t)return this.swapViews(t,e);let i=this.getViewSize(e),o=this.getViewSize(t),r=this.removeView(t),s=this.removeView(e);this.addView(r,i,e),this.addView(s,o,t)}isViewVisible(e){if(e<0||e>=this.viewItems.length)throw new Error("Index out of bounds");return this.viewItems[e].visible}setViewVisible(e,t){if(e<0||e>=this.viewItems.length)throw new Error("Index out of bounds");this.viewItems[e].setVisible(t),this.distributeEmptySpace(e),this.layoutViews(),this.saveProportions()}getViewCachedVisibleSize(e){if(e<0||e>=this.viewItems.length)throw new Error("Index out of bounds");return this.viewItems[e].cachedVisibleSize}layout(e,t){let i=Math.max(this.size,this._contentSize);if(this.size=e,this.layoutContext=t,this.proportions){let o=0;for(let r=0;r<this.viewItems.length;r++){let s=this.viewItems[r],a=this.proportions[r];typeof a=="number"?o+=a:e-=s.size}for(let r=0;r<this.viewItems.length;r++){let s=this.viewItems[r],a=this.proportions[r];typeof a=="number"&&o>0&&(s.size=vt(Math.round(a*e/o),s.minimumSize,s.maximumSize))}}else{let o=at(this.viewItems.length),r=o.filter(a=>this.viewItems[a].priority===1),s=o.filter(a=>this.viewItems[a].priority===2);this.resize(this.viewItems.length-1,e-i,void 0,r,s)}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){this.proportionalLayout&&this._contentSize>0&&(this.proportions=this.viewItems.map(e=>e.proportionalLayout&&e.visible?e.size/this._contentSize:void 0))}onSashStart({sash:e,start:t,alt:i}){for(let a of this.viewItems)a.enabled=!1;let o=this.sashItems.findIndex(a=>a.sash===e),r=fi($(this.el.ownerDocument.body,"keydown",a=>s(this.sashDragState.current,a.altKey)),$(this.el.ownerDocument.body,"keyup",()=>s(this.sashDragState.current,!1))),s=(a,l)=>{let d=this.viewItems.map(w=>w.size),u=Number.NEGATIVE_INFINITY,h=Number.POSITIVE_INFINITY;if(this.inverseAltBehavior&&(l=!l),l)if(o===this.sashItems.length-1){let f=this.viewItems[o];u=(f.minimumSize-f.size)/2,h=(f.maximumSize-f.size)/2}else{let f=this.viewItems[o+1];u=(f.size-f.maximumSize)/2,h=(f.size-f.minimumSize)/2}let m,y;if(!l){let w=at(o,-1),f=at(o+1,this.viewItems.length),x=w.reduce((F,ne)=>F+(this.viewItems[ne].minimumSize-d[ne]),0),L=w.reduce((F,ne)=>F+(this.viewItems[ne].viewMaximumSize-d[ne]),0),C=f.length===0?Number.POSITIVE_INFINITY:f.reduce((F,ne)=>F+(d[ne]-this.viewItems[ne].minimumSize),0),H=f.length===0?Number.NEGATIVE_INFINITY:f.reduce((F,ne)=>F+(d[ne]-this.viewItems[ne].viewMaximumSize),0),P=Math.max(x,H),A=Math.min(C,L),z=this.findFirstSnapIndex(w),K=this.findFirstSnapIndex(f);if(typeof z=="number"){let F=this.viewItems[z],ne=Math.floor(F.viewMinimumSize/2);m={index:z,limitDelta:F.visible?P-ne:P+ne,size:F.size}}if(typeof K=="number"){let F=this.viewItems[K],ne=Math.floor(F.viewMinimumSize/2);y={index:K,limitDelta:F.visible?A+ne:A-ne,size:F.size}}}this.sashDragState={start:a,current:a,index:o,sizes:d,minDelta:u,maxDelta:h,alt:l,snapBefore:m,snapAfter:y,disposable:r}};s(t,i)}onSashChange({current:e}){let{index:t,start:i,sizes:o,alt:r,minDelta:s,maxDelta:a,snapBefore:l,snapAfter:d}=this.sashDragState;this.sashDragState.current=e;let u=e-i,h=this.resize(t,u,o,void 0,void 0,s,a,l,d);if(r){let m=t===this.sashItems.length-1,y=this.viewItems.map(H=>H.size),w=m?t:t+1,f=this.viewItems[w],x=f.size-f.maximumSize,L=f.size-f.minimumSize,C=m?t-1:t+1;this.resize(C,-h,y,void 0,void 0,x,L)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(e){this._onDidSashChange.fire(e),this.sashDragState.disposable.dispose(),this.saveProportions();for(let t of this.viewItems)t.enabled=!0}onViewChange(e,t){let i=this.viewItems.indexOf(e);i<0||i>=this.viewItems.length||(t=typeof t=="number"?t:e.size,t=vt(t,e.minimumSize,e.maximumSize),this.inverseAltBehavior&&i>0?(this.resize(i-1,Math.floor((e.size-t)/2)),this.distributeEmptySpace(),this.layoutViews()):(e.size=t,this.relayout([i],void 0)))}resizeView(e,t){if(!(e<0||e>=this.viewItems.length)){if(this.state!==0)throw new Error("Cant modify splitview");this.state=1;try{let i=at(this.viewItems.length).filter(a=>a!==e),o=[...i.filter(a=>this.viewItems[a].priority===1),e],r=i.filter(a=>this.viewItems[a].priority===2),s=this.viewItems[e];t=Math.round(t),t=vt(t,s.minimumSize,Math.min(s.maximumSize,this.size)),s.size=t,this.relayout(o,r)}finally{this.state=0}}}isViewExpanded(e){if(e<0||e>=this.viewItems.length)return!1;for(let t of this.viewItems)if(t!==this.viewItems[e]&&t.size>t.minimumSize)return!1;return!0}distributeViewSizes(){let e=[],t=0;for(let a of this.viewItems)a.maximumSize-a.minimumSize>0&&(e.push(a),t+=a.size);let i=Math.floor(t/e.length);for(let a of e)a.size=vt(i,a.minimumSize,a.maximumSize);let o=at(this.viewItems.length),r=o.filter(a=>this.viewItems[a].priority===1),s=o.filter(a=>this.viewItems[a].priority===2);this.relayout(r,s)}getViewSize(e){return e<0||e>=this.viewItems.length?-1:this.viewItems[e].size}doAddView(e,t,i=this.viewItems.length,o){if(this.state!==0)throw new Error("Cant modify splitview");this.state=1;try{let r=ee(".split-view-view");i===this.viewItems.length?this.viewContainer.appendChild(r):this.viewContainer.insertBefore(r,this.viewContainer.children.item(i));let s=e.onDidChange(m=>this.onViewChange(u,m)),a=ce(()=>r.remove()),l=fi(s,a),d;typeof t=="number"?d=t:(t.type==="auto"&&(this.areViewsDistributed()?t={type:"distribute"}:t={type:"split",index:t.index}),t.type==="split"?d=this.getViewSize(t.index)/2:t.type==="invisible"?d={cachedVisibleSize:t.cachedVisibleSize}:d=e.minimumSize);let u=this.orientation===0?new im(r,e,d,l):new om(r,e,d,l);if(this.viewItems.splice(i,0,u),this.viewItems.length>1){let m={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash},y=this.orientation===0?new pa(this.sashContainer,{getHorizontalSashTop:F=>this.getSashPosition(F),getHorizontalSashWidth:this.getSashOrthogonalSize},{...m,orientation:1}):new pa(this.sashContainer,{getVerticalSashLeft:F=>this.getSashPosition(F),getVerticalSashHeight:this.getSashOrthogonalSize},{...m,orientation:0}),w=this.orientation===0?F=>({sash:y,start:F.startY,current:F.currentY,alt:F.altKey}):F=>({sash:y,start:F.startX,current:F.currentX,alt:F.altKey}),x=_.map(y.onDidStart,w)(this.onSashStart,this),C=_.map(y.onDidChange,w)(this.onSashChange,this),P=_.map(y.onDidEnd,()=>this.sashItems.findIndex(F=>F.sash===y))(this.onSashEnd,this),A=y.onDidReset(()=>{let F=this.sashItems.findIndex(Ve=>Ve.sash===y),ne=at(F,-1),ve=at(F+1,this.viewItems.length),me=this.findFirstSnapIndex(ne),ae=this.findFirstSnapIndex(ve);typeof me=="number"&&!this.viewItems[me].visible||typeof ae=="number"&&!this.viewItems[ae].visible||this._onDidSashReset.fire(F)}),z=fi(x,C,P,A,y),K={sash:y,disposable:z};this.sashItems.splice(i-1,0,K)}r.appendChild(e.element);let h;typeof t!="number"&&t.type==="split"&&(h=[t.index]),o||this.relayout([i],h),!o&&typeof t!="number"&&t.type==="distribute"&&this.distributeViewSizes()}finally{this.state=0}}relayout(e,t){let i=this.viewItems.reduce((o,r)=>o+r.size,0);this.resize(this.viewItems.length-1,this.size-i,void 0,e,t),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(e,t,i=this.viewItems.map(u=>u.size),o,r,s=Number.NEGATIVE_INFINITY,a=Number.POSITIVE_INFINITY,l,d){if(e<0||e>=this.viewItems.length)return 0;let u=at(e,-1),h=at(e+1,this.viewItems.length);if(r)for(let K of r)Oa(u,K),Oa(h,K);if(o)for(let K of o)rs(u,K),rs(h,K);let m=u.map(K=>this.viewItems[K]),y=u.map(K=>i[K]),w=h.map(K=>this.viewItems[K]),f=h.map(K=>i[K]),x=u.reduce((K,F)=>K+(this.viewItems[F].minimumSize-i[F]),0),L=u.reduce((K,F)=>K+(this.viewItems[F].maximumSize-i[F]),0),C=h.length===0?Number.POSITIVE_INFINITY:h.reduce((K,F)=>K+(i[F]-this.viewItems[F].minimumSize),0),H=h.length===0?Number.NEGATIVE_INFINITY:h.reduce((K,F)=>K+(i[F]-this.viewItems[F].maximumSize),0),P=Math.max(x,H,s),A=Math.min(C,L,a),z=!1;if(l){let K=this.viewItems[l.index],F=t>=l.limitDelta;z=F!==K.visible,K.setVisible(F,l.size)}if(!z&&d){let K=this.viewItems[d.index],F=t<d.limitDelta;z=F!==K.visible,K.setVisible(F,d.size)}if(z)return this.resize(e,t,i,o,r,s,a);t=vt(t,P,A);for(let K=0,F=t;K<m.length;K++){let ne=m[K],ve=vt(y[K]+F,ne.minimumSize,ne.maximumSize),me=ve-y[K];F-=me,ne.size=ve}for(let K=0,F=t;K<w.length;K++){let ne=w[K],ve=vt(f[K]-F,ne.minimumSize,ne.maximumSize),me=ve-f[K];F+=me,ne.size=ve}return t}distributeEmptySpace(e){let t=this.viewItems.reduce((a,l)=>a+l.size,0),i=this.size-t,o=at(this.viewItems.length-1,-1),r=o.filter(a=>this.viewItems[a].priority===1),s=o.filter(a=>this.viewItems[a].priority===2);for(let a of s)Oa(o,a);for(let a of r)rs(o,a);typeof e=="number"&&rs(o,e);for(let a=0;i!==0&&a<o.length;a++){let l=this.viewItems[o[a]],d=vt(l.size+i,l.minimumSize,l.maximumSize),u=d-l.size;i-=u,l.size=d}}layoutViews(){this._contentSize=this.viewItems.reduce((t,i)=>t+i.size,0);let e=0;for(let t of this.viewItems)t.layout(e,this.layoutContext),e+=t.size;this.sashItems.forEach(t=>t.sash.layout()),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){this.orientation===0?this.scrollableElement.setScrollDimensions({height:this.size,scrollHeight:this._contentSize}):this.scrollableElement.setScrollDimensions({width:this.size,scrollWidth:this._contentSize})}updateSashEnablement(){let e=!1,t=this.viewItems.map(l=>e=l.size-l.minimumSize>0||e);e=!1;let i=this.viewItems.map(l=>e=l.maximumSize-l.size>0||e),o=[...this.viewItems].reverse();e=!1;let r=o.map(l=>e=l.size-l.minimumSize>0||e).reverse();e=!1;let s=o.map(l=>e=l.maximumSize-l.size>0||e).reverse(),a=0;for(let l=0;l<this.sashItems.length;l++){let{sash:d}=this.sashItems[l],u=this.viewItems[l];a+=u.size;let h=!(t[l]&&s[l+1]),m=!(i[l]&&r[l+1]);if(h&&m){let y=at(l,-1),w=at(l+1,this.viewItems.length),f=this.findFirstSnapIndex(y),x=this.findFirstSnapIndex(w),L=typeof f=="number"&&!this.viewItems[f].visible,C=typeof x=="number"&&!this.viewItems[x].visible;L&&r[l]&&(a>0||this.startSnappingEnabled)?d.state=1:C&&t[l]&&(a<this._contentSize||this.endSnappingEnabled)?d.state=2:d.state=0}else h&&!m?d.state=1:!h&&m?d.state=2:d.state=3}}getSashPosition(e){let t=0;for(let i=0;i<this.sashItems.length;i++)if(t+=this.viewItems[i].size,this.sashItems[i].sash===e)return t;return 0}findFirstSnapIndex(e){for(let t of e){let i=this.viewItems[t];if(i.visible&&i.snap)return t}for(let t of e){let i=this.viewItems[t];if(i.visible&&i.maximumSize-i.minimumSize>0)return;if(!i.visible&&i.snap)return t}}areViewsDistributed(){let e,t;for(let i of this.viewItems)if(e=e===void 0?i.size:Math.min(e,i.size),t=t===void 0?i.size:Math.max(t,i.size),t-e>2)return!1;return!0}dispose(){this.sashDragState?.disposable.dispose(),$e(this.viewItems),this.viewItems=[],this.sashItems.forEach(e=>e.disposable.dispose()),this.sashItems=[],super.dispose()}};var Gd=class n{constructor(e,t,i){this.columns=e;this.getColumnSize=i;let o=new Map(t.map(r=>[r.templateId,r]));this.renderers=[];for(let r of e){let s=o.get(r.templateId);if(!s)throw new Error(`Table cell renderer for template id ${r.templateId} not found.`);this.renderers.push(s)}}static TemplateId="row";templateId=n.TemplateId;renderers;renderedTemplates=new Set;renderTemplate(e){let t=G(e,ee(".monaco-table-tr")),i=[],o=[];for(let s=0;s<this.columns.length;s++){let a=this.renderers[s],l=G(t,ee(".monaco-table-td",{"data-col-index":s}));l.style.width=`${this.getColumnSize(s)}px`,i.push(l),o.push(a.renderTemplate(l))}let r={container:e,cellContainers:i,cellTemplateData:o};return this.renderedTemplates.add(r),r}renderElement(e,t,i,o){for(let r=0;r<this.columns.length;r++){let a=this.columns[r].project(e);this.renderers[r].renderElement(a,t,i.cellTemplateData[r],o)}}disposeElement(e,t,i,o){for(let r=0;r<this.columns.length;r++){let s=this.renderers[r];if(s.disposeElement){let l=this.columns[r].project(e);s.disposeElement(l,t,i.cellTemplateData[r],o)}}}disposeTemplate(e){for(let t=0;t<this.columns.length;t++)this.renderers[t].disposeTemplate(e.cellTemplateData[t]);wt(e.container),this.renderedTemplates.delete(e)}layoutColumn(e,t){for(let{cellContainers:i}of this.renderedTemplates)i[e].style.width=`${t}px`}};function iS(n){return{getHeight(e){return n.getHeight(e)},getTemplateId(){return Gd.TemplateId}}}var rm=class extends V{constructor(t,i){super();this.column=t;this.index=i;this.element=ee(".monaco-table-th",{"data-col-index":i},t.label),t.tooltip&&this._register(Dt().setupManagedHover(Ze("mouse"),this.element,t.tooltip))}element;get minimumSize(){return this.column.minimumWidth??120}get maximumSize(){return this.column.maximumWidth??Number.POSITIVE_INFINITY}get onDidChange(){return this.column.onDidChangeWidthConstraints??_.None}_onDidLayout=new k;onDidLayout=this._onDidLayout.event;layout(t){this._onDidLayout.fire([this.index,t])}},Qd=class n{constructor(e,t,i,o,r,s){this.virtualDelegate=i;this.columns=o;this.domNode=G(t,ee(`.monaco-table.${this.domId}`));let a=o.map((u,h)=>this.disposables.add(new rm(u,h))),l={size:a.reduce((u,h)=>u+h.column.weight,0),views:a.map(u=>({size:u.column.weight,view:u}))};this.splitview=this.disposables.add(new $d(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:()=>this.cachedHeight,descriptor:l})),this.splitview.el.style.height=`${i.headerRowHeight}px`,this.splitview.el.style.lineHeight=`${i.headerRowHeight}px`;let d=new Gd(o,r,u=>this.splitview.getViewSize(u));this.list=this.disposables.add(new Tt(e,this.domNode,iS(i),[d],s)),_.any(...a.map(u=>u.onDidLayout))(([u,h])=>d.layoutColumn(u,h),null,this.disposables),this.splitview.onDidSashReset(u=>{let h=o.reduce((y,w)=>y+w.weight,0),m=o[u].weight/h*this.cachedWidth;this.splitview.resizeView(u,m)},null,this.disposables),this.styleElement=Vt(this.domNode),this.style(dd)}static InstanceCount=0;domId=`table_id_${++n.InstanceCount}`;domNode;splitview;list;styleElement;disposables=new q;cachedWidth=0;cachedHeight=0;get onDidChangeFocus(){return this.list.onDidChangeFocus}get onDidChangeSelection(){return this.list.onDidChangeSelection}get onDidScroll(){return this.list.onDidScroll}get onMouseClick(){return this.list.onMouseClick}get onMouseDblClick(){return this.list.onMouseDblClick}get onMouseMiddleClick(){return this.list.onMouseMiddleClick}get onPointer(){return this.list.onPointer}get onMouseUp(){return this.list.onMouseUp}get onMouseDown(){return this.list.onMouseDown}get onMouseOver(){return this.list.onMouseOver}get onMouseMove(){return this.list.onMouseMove}get onMouseOut(){return this.list.onMouseOut}get onTouchStart(){return this.list.onTouchStart}get onTap(){return this.list.onTap}get onContextMenu(){return this.list.onContextMenu}get onDidFocus(){return this.list.onDidFocus}get onDidBlur(){return this.list.onDidBlur}get scrollTop(){return this.list.scrollTop}set scrollTop(e){this.list.scrollTop=e}get scrollLeft(){return this.list.scrollLeft}set scrollLeft(e){this.list.scrollLeft=e}get scrollHeight(){return this.list.scrollHeight}get renderHeight(){return this.list.renderHeight}get onDidDispose(){return this.list.onDidDispose}getColumnLabels(){return this.columns.map(e=>e.label)}resizeColumn(e,t){let i=Math.round(t/100*this.cachedWidth);this.splitview.resizeView(e,i)}updateOptions(e){this.list.updateOptions(e)}splice(e,t,i=[]){this.list.splice(e,t,i)}rerender(){this.list.rerender()}row(e){return this.list.element(e)}indexOf(e){return this.list.indexOf(e)}get length(){return this.list.length}getHTMLElement(){return this.domNode}layout(e,t){e=e??Al(this.domNode),t=t??br(this.domNode),this.cachedWidth=t,this.cachedHeight=e,this.splitview.layout(t);let i=e-this.virtualDelegate.headerRowHeight;this.list.getHTMLElement().style.height=`${i}px`,this.list.layout(i,t)}triggerTypeNavigation(){this.list.triggerTypeNavigation()}style(e){let t=[];t.push(`.monaco-table.${this.domId} > .monaco-split-view2 .monaco-sash.vertical::before {
			top: ${this.virtualDelegate.headerRowHeight+1}px;
			height: calc(100% - ${this.virtualDelegate.headerRowHeight}px);
		}`),this.styleElement.textContent=t.join(`
`),this.list.style(e)}domFocus(){this.list.domFocus()}setAnchor(e){this.list.setAnchor(e)}getAnchor(){return this.list.getAnchor()}getSelectedElements(){return this.list.getSelectedElements()}setSelection(e,t){this.list.setSelection(e,t)}getSelection(){return this.list.getSelection()}setFocus(e,t){this.list.setFocus(e,t)}focusNext(e=1,t=!1,i){this.list.focusNext(e,t,i)}focusPrevious(e=1,t=!1,i){this.list.focusPrevious(e,t,i)}focusNextPage(e){return this.list.focusNextPage(e)}focusPreviousPage(e){return this.list.focusPreviousPage(e)}focusFirst(e){this.list.focusFirst(e)}focusLast(e){this.list.focusLast(e)}getFocus(){return this.list.getFocus()}getFocusedElements(){return this.list.getFocusedElements()}getRelativeTop(e){return this.list.getRelativeTop(e)}reveal(e,t){this.list.reveal(e,t)}dispose(){this.disposables.dispose()}};var uo=class{constructor(e,t={}){this.user=e;this.model=new Hd(e,null,t),this.onDidSpliceModel=this.model.onDidSpliceModel,this.onDidSpliceRenderedNodes=this.model.onDidSpliceRenderedNodes,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,t.sorter&&(this.sorter={compare(i,o){return t.sorter.compare(i.element,o.element)}}),this.identityProvider=t.identityProvider}rootRef=null;model;nodes=new Map;nodesByIdentity=new Map;identityProvider;sorter;onDidSpliceModel;onDidSpliceRenderedNodes;onDidChangeCollapseState;onDidChangeRenderNodeCount;get size(){return this.nodes.size}setChildren(e,t=ge.empty(),i={}){let o=this.getElementLocation(e);this._setChildren(o,this.preserveCollapseState(t),i)}_setChildren(e,t=ge.empty(),i){let o=new Set,r=new Set,s=l=>{if(l.element===null)return;let d=l;if(o.add(d.element),this.nodes.set(d.element,d),this.identityProvider){let u=this.identityProvider.getId(d.element).toString();r.add(u),this.nodesByIdentity.set(u,d)}i.onDidCreateNode?.(d)},a=l=>{if(l.element===null)return;let d=l;if(o.has(d.element)||this.nodes.delete(d.element),this.identityProvider){let u=this.identityProvider.getId(d.element).toString();r.has(u)||this.nodesByIdentity.delete(u)}i.onDidDeleteNode?.(d)};this.model.splice([...e,0],Number.MAX_VALUE,t,{...i,onDidCreateNode:s,onDidDeleteNode:a})}preserveCollapseState(e=ge.empty()){return this.sorter&&(e=[...e].sort(this.sorter.compare.bind(this.sorter))),ge.map(e,t=>{let i=this.nodes.get(t.element);if(!i&&this.identityProvider){let s=this.identityProvider.getId(t.element).toString();i=this.nodesByIdentity.get(s)}if(!i){let s;return typeof t.collapsed>"u"?s=void 0:t.collapsed===1||t.collapsed===3?s=!0:t.collapsed===0||t.collapsed===2?s=!1:s=!!t.collapsed,{...t,children:this.preserveCollapseState(t.children),collapsed:s}}let o=typeof t.collapsible=="boolean"?t.collapsible:i.collapsible,r;return typeof t.collapsed>"u"||t.collapsed===3||t.collapsed===2?r=i.collapsed:t.collapsed===1?r=!0:t.collapsed===0?r=!1:r=!!t.collapsed,{...t,collapsible:o,collapsed:r,children:this.preserveCollapseState(t.children)}})}rerender(e){let t=this.getElementLocation(e);this.model.rerender(t)}resort(e=null,t=!0){if(!this.sorter)return;let i=this.getElementLocation(e),o=this.model.getNode(i);this._setChildren(i,this.resortChildren(o,t),{})}resortChildren(e,t,i=!0){let o=[...e.children];return(t||i)&&(o=o.sort(this.sorter.compare.bind(this.sorter))),ge.map(o,r=>({element:r.element,collapsible:r.collapsible,collapsed:r.collapsed,children:this.resortChildren(r,t,!1)}))}getFirstElementChild(e=null){let t=this.getElementLocation(e);return this.model.getFirstElementChild(t)}getLastElementAncestor(e=null){let t=this.getElementLocation(e);return this.model.getLastElementAncestor(t)}has(e){return this.nodes.has(e)}getListIndex(e){let t=this.getElementLocation(e);return this.model.getListIndex(t)}getListRenderCount(e){let t=this.getElementLocation(e);return this.model.getListRenderCount(t)}isCollapsible(e){let t=this.getElementLocation(e);return this.model.isCollapsible(t)}setCollapsible(e,t){let i=this.getElementLocation(e);return this.model.setCollapsible(i,t)}isCollapsed(e){let t=this.getElementLocation(e);return this.model.isCollapsed(t)}setCollapsed(e,t,i){let o=this.getElementLocation(e);return this.model.setCollapsed(o,t,i)}expandTo(e){let t=this.getElementLocation(e);this.model.expandTo(t)}refilter(){this.model.refilter()}getNode(e=null){if(e===null)return this.model.getNode(this.model.rootRef);let t=this.nodes.get(e);if(!t)throw new ze(this.user,`Tree element not found: ${e}`);return t}getNodeLocation(e){return e.element}getParentNodeLocation(e){if(e===null)throw new ze(this.user,"Invalid getParentNodeLocation call");let t=this.nodes.get(e);if(!t)throw new ze(this.user,`Tree element not found: ${e}`);let i=this.model.getNodeLocation(t),o=this.model.getParentNodeLocation(i);return this.model.getNode(o).element}getElementLocation(e){if(e===null)return[];let t=this.nodes.get(e);if(!t)throw new ze(this.user,`Tree element not found: ${e}`);return this.model.getNodeLocation(t)}};function jd(n){let e=[n.element],t=n.incompressible||!1;return{element:{elements:e,incompressible:t},children:ge.map(ge.from(n.children),jd),collapsible:n.collapsible,collapsed:n.collapsed}}function Yd(n){let e=[n.element],t=n.incompressible||!1,i,o;for(;[o,i]=ge.consume(ge.from(n.children),2),!(o.length!==1||o[0].incompressible);)n=o[0],e.push(n.element);return{element:{elements:e,incompressible:t},children:ge.map(ge.concat(o,i),Yd),collapsible:n.collapsible,collapsed:n.collapsed}}function sm(n,e=0){let t;return e<n.element.elements.length-1?t=[sm(n,e+1)]:t=ge.map(ge.from(n.children),i=>sm(i,0)),e===0&&n.element.incompressible?{element:n.element.elements[e],children:t,incompressible:!0,collapsible:n.collapsible,collapsed:n.collapsed}:{element:n.element.elements[e],children:t,collapsible:n.collapsible,collapsed:n.collapsed}}function Ry(n){return sm(n,0)}function Py(n,e,t){return n.element===e?{...n,children:t}:{...n,children:ge.map(ge.from(n.children),i=>Py(i,e,t))}}var rS=n=>({getId(e){return e.elements.map(t=>n.getId(t).toString()).join("\0")}}),am=class{constructor(e,t={}){this.user=e;this.model=new uo(e,t),this.enabled=typeof t.compressionEnabled>"u"?!0:t.compressionEnabled,this.identityProvider=t.identityProvider}rootRef=null;get onDidSpliceRenderedNodes(){return this.model.onDidSpliceRenderedNodes}get onDidSpliceModel(){return this.model.onDidSpliceModel}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}model;nodes=new Map;enabled;identityProvider;get size(){return this.nodes.size}setChildren(e,t=ge.empty(),i){let o=i.diffIdentityProvider&&rS(i.diffIdentityProvider);if(e===null){let w=ge.map(t,this.enabled?Yd:jd);this._setChildren(null,w,{diffIdentityProvider:o,diffDepth:1/0});return}let r=this.nodes.get(e);if(!r)throw new ze(this.user,"Unknown compressed tree node");let s=this.model.getNode(r),a=this.model.getParentNodeLocation(r),l=this.model.getNode(a),d=Ry(s),u=Py(d,e,t),h=(this.enabled?Yd:jd)(u),m=i.diffIdentityProvider?(w,f)=>i.diffIdentityProvider.getId(w)===i.diffIdentityProvider.getId(f):void 0;if(Ct(h.element.elements,s.element.elements,m)){this._setChildren(r,h.children||ge.empty(),{diffIdentityProvider:o,diffDepth:1});return}let y=l.children.map(w=>w===s?h:w);this._setChildren(l.element,y,{diffIdentityProvider:o,diffDepth:s.depth-l.depth})}isCompressionEnabled(){return this.enabled}setCompressionEnabled(e){if(e===this.enabled)return;this.enabled=e;let i=this.model.getNode().children,o=ge.map(i,Ry),r=ge.map(o,e?Yd:jd);this._setChildren(null,r,{diffIdentityProvider:this.identityProvider,diffDepth:1/0})}_setChildren(e,t,i){let o=new Set,r=a=>{for(let l of a.element.elements)o.add(l),this.nodes.set(l,a.element)},s=a=>{for(let l of a.element.elements)o.has(l)||this.nodes.delete(l)};this.model.setChildren(e,t,{...i,onDidCreateNode:r,onDidDeleteNode:s})}has(e){return this.nodes.has(e)}getListIndex(e){let t=this.getCompressedNode(e);return this.model.getListIndex(t)}getListRenderCount(e){let t=this.getCompressedNode(e);return this.model.getListRenderCount(t)}getNode(e){if(typeof e>"u")return this.model.getNode();let t=this.getCompressedNode(e);return this.model.getNode(t)}getNodeLocation(e){let t=this.model.getNodeLocation(e);return t===null?null:t.elements[t.elements.length-1]}getParentNodeLocation(e){let t=this.getCompressedNode(e),i=this.model.getParentNodeLocation(t);return i===null?null:i.elements[i.elements.length-1]}getFirstElementChild(e){let t=this.getCompressedNode(e);return this.model.getFirstElementChild(t)}getLastElementAncestor(e){let t=typeof e>"u"?void 0:this.getCompressedNode(e);return this.model.getLastElementAncestor(t)}isCollapsible(e){let t=this.getCompressedNode(e);return this.model.isCollapsible(t)}setCollapsible(e,t){let i=this.getCompressedNode(e);return this.model.setCollapsible(i,t)}isCollapsed(e){let t=this.getCompressedNode(e);return this.model.isCollapsed(t)}setCollapsed(e,t,i){let o=this.getCompressedNode(e);return this.model.setCollapsed(o,t,i)}expandTo(e){let t=this.getCompressedNode(e);this.model.expandTo(t)}rerender(e){let t=this.getCompressedNode(e);this.model.rerender(t)}refilter(){this.model.refilter()}resort(e=null,t=!0){let i=this.getCompressedNode(e);this.model.resort(i,t)}getCompressedNode(e){if(e===null)return null;let t=this.nodes.get(e);if(!t)throw new ze(this.user,`Tree element not found: ${e}`);return t}},sS=n=>n[n.length-1],lm=class n{constructor(e,t){this.unwrapper=e;this.node=t}get element(){return this.node.element===null?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map(e=>new n(this.unwrapper,e))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}};function aS(n,e){return{...e,identityProvider:e.identityProvider&&{getId(t){return e.identityProvider.getId(n(t))}},sorter:e.sorter&&{compare(t,i){return e.sorter.compare(t.elements[0],i.elements[0])}},filter:e.filter&&{filter(t,i){return e.filter.filter(n(t),i)}}}}var Xd=class{rootRef=null;get onDidSpliceModel(){return _.map(this.model.onDidSpliceModel,({insertedNodes:e,deletedNodes:t})=>({insertedNodes:e.map(i=>this.nodeMapper.map(i)),deletedNodes:t.map(i=>this.nodeMapper.map(i))}))}get onDidSpliceRenderedNodes(){return _.map(this.model.onDidSpliceRenderedNodes,({start:e,deleteCount:t,elements:i})=>({start:e,deleteCount:t,elements:i.map(o=>this.nodeMapper.map(o))}))}get onDidChangeCollapseState(){return _.map(this.model.onDidChangeCollapseState,({node:e,deep:t})=>({node:this.nodeMapper.map(e),deep:t}))}get onDidChangeRenderNodeCount(){return _.map(this.model.onDidChangeRenderNodeCount,e=>this.nodeMapper.map(e))}elementMapper;nodeMapper;model;constructor(e,t={}){this.elementMapper=t.elementMapper||sS;let i=o=>this.elementMapper(o.elements);this.nodeMapper=new zo(o=>new lm(i,o)),this.model=new am(e,aS(i,t))}setChildren(e,t=ge.empty(),i={}){this.model.setChildren(e,t,i)}isCompressionEnabled(){return this.model.isCompressionEnabled()}setCompressionEnabled(e){this.model.setCompressionEnabled(e)}has(e){return this.model.has(e)}getListIndex(e){return this.model.getListIndex(e)}getListRenderCount(e){return this.model.getListRenderCount(e)}getNode(e){return this.nodeMapper.map(this.model.getNode(e))}getNodeLocation(e){return e.element}getParentNodeLocation(e){return this.model.getParentNodeLocation(e)}getFirstElementChild(e){let t=this.model.getFirstElementChild(e);return t===null||typeof t>"u"?t:this.elementMapper(t.elements)}getLastElementAncestor(e){let t=this.model.getLastElementAncestor(e);return t===null||typeof t>"u"?t:this.elementMapper(t.elements)}isCollapsible(e){return this.model.isCollapsible(e)}setCollapsible(e,t){return this.model.setCollapsible(e,t)}isCollapsed(e){return this.model.isCollapsed(e)}setCollapsed(e,t,i){return this.model.setCollapsed(e,t,i)}expandTo(e){return this.model.expandTo(e)}rerender(e){return this.model.rerender(e)}refilter(){return this.model.refilter()}resort(e=null,t=!0){return this.model.resort(e,t)}getCompressedTreeNode(e=null){return this.model.getNode(e)}};var qo=class extends $r{constructor(t,i,o,r,s={}){super(t,i,o,r,s);this.user=t}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}setChildren(t,i=ge.empty(),o){this.model.setChildren(t,i,o)}rerender(t){if(t===void 0){this.view.rerender();return}this.model.rerender(t)}updateElementHeight(t,i){let o=this.model.getListIndex(t);if(o===-1)throw new ze(this.user,"updateElementHeight failed - index not found");this.view.updateElementHeight(o,i)}resort(t,i=!0){this.model.resort(t,i)}hasElement(t){return this.model.has(t)}createModel(t,i){return new uo(t,i)}},Jd=class{constructor(e,t,i){this._compressedTreeNodeProvider=e;this.stickyScrollDelegate=t;this.renderer=i;this.templateId=i.templateId,i.onDidChangeTwistieState&&(this.onDidChangeTwistieState=i.onDidChangeTwistieState)}templateId;onDidChangeTwistieState;get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}renderTemplate(e){return{compressedTreeNode:void 0,data:this.renderer.renderTemplate(e)}}renderElement(e,t,i,o){let r=this.stickyScrollDelegate.getCompressedNode(e);r||(r=this.compressedTreeNodeProvider.getCompressedTreeNode(e.element)),r.element.elements.length===1?(i.compressedTreeNode=void 0,this.renderer.renderElement(e,t,i.data,o)):(i.compressedTreeNode=r,this.renderer.renderCompressedElements(r,t,i.data,o))}disposeElement(e,t,i,o){i.compressedTreeNode?this.renderer.disposeCompressedElements?.(i.compressedTreeNode,t,i.data,o):this.renderer.disposeElement?.(e,t,i.data,o)}disposeTemplate(e){this.renderer.disposeTemplate(e.data)}renderTwistie(e,t){return this.renderer.renderTwistie?this.renderer.renderTwistie(e,t):!1}};ie([ke],Jd.prototype,"compressedTreeNodeProvider",1);var dm=class{constructor(e){this.modelProvider=e}compressedStickyNodes=new Map;getCompressedNode(e){return this.compressedStickyNodes.get(e)}constrainStickyScrollNodes(e,t,i){if(this.compressedStickyNodes.clear(),e.length===0)return[];for(let o=0;o<e.length;o++){let r=e[o],s=r.position+r.height;if(o+1<e.length&&s+e[o+1].height>i||o>=t-1&&t<e.length){let l=e.slice(0,o),d=e.slice(o),u=this.compressStickyNodes(d);return[...l,u]}}return e}compressStickyNodes(e){if(e.length===0)throw new Error("Can't compress empty sticky nodes");let t=this.modelProvider();if(!t.isCompressionEnabled())return e[0];let i=[];for(let d=0;d<e.length;d++){let u=e[d],h=t.getCompressedTreeNode(u.node.element);if(h.element){if(d!==0&&h.element.incompressible)break;i.push(...h.element.elements)}}if(i.length<2)return e[0];let o=e[e.length-1],r={elements:i,incompressible:!1},s={...o.node,children:[],element:r},a=new Proxy(e[0].node,{}),l={node:a,startIndex:e[0].startIndex,endIndex:o.endIndex,position:e[0].position,height:e[0].height};return this.compressedStickyNodes.set(a,s),l}};function lS(n,e){return e&&{...e,keyboardNavigationLabelProvider:e.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(t){let i;try{i=n().getCompressedTreeNode(t)}catch{return e.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t)}return i.element.elements.length===1?e.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t):e.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(i.element.elements)}}}}var Yr=class extends qo{constructor(e,t,i,o,r={}){let s=()=>this,a=new dm(()=>this.model),l=o.map(d=>new Jd(s,a,d));super(e,t,i,l,{...lS(s,r),stickyScrollDelegate:a})}setChildren(e,t=ge.empty(),i){this.model.setChildren(e,t,i)}createModel(e,t){return new Xd(e,t)}updateOptions(e={}){super.updateOptions(e),typeof e.compressionEnabled<"u"&&this.model.setCompressionEnabled(e.compressionEnabled)}getCompressedTreeNode(e=null){return this.model.getCompressedTreeNode(e)}};function cm(n){return{...n,children:[],refreshPromise:void 0,stale:!0,slow:!1,forceExpanded:!1}}function hm(n,e){return e.parent?e.parent===n?!0:hm(n,e.parent):!1}function dS(n,e){return n===e||hm(n,e)||hm(e,n)}var pm=class n{constructor(e){this.node=e}get element(){return this.node.element.element}get children(){return this.node.children.map(e=>new n(e))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}},mm=class{constructor(e,t,i){this.renderer=e;this.nodeMapper=t;this.onDidChangeTwistieState=i;this.templateId=e.templateId}templateId;renderedNodes=new Map;renderTemplate(e){return{templateData:this.renderer.renderTemplate(e)}}renderElement(e,t,i,o){this.renderer.renderElement(this.nodeMapper.map(e),t,i.templateData,o)}renderTwistie(e,t){return e.slow?(t.classList.add(...Ie.asClassNameArray(Le.treeItemLoading)),!0):(t.classList.remove(...Ie.asClassNameArray(Le.treeItemLoading)),!1)}disposeElement(e,t,i,o){this.renderer.disposeElement?.(this.nodeMapper.map(e),t,i.templateData,o)}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}dispose(){this.renderedNodes.clear()}};function By(n){return{browserEvent:n.browserEvent,elements:n.elements.map(e=>e.element)}}function Zd(n){return{browserEvent:n.browserEvent,element:n.element&&n.element.element,target:n.target}}function cS(n){return{browserEvent:n.browserEvent,element:n.element&&n.element.element,anchor:n.anchor,isStickyScroll:n.isStickyScroll}}var fm=class extends Ei{constructor(t){super(t.elements.map(i=>i.element));this.data=t}set context(t){this.data.context=t}get context(){return this.data.context}};function um(n){return n instanceof Ei?new fm(n):n}var gm=class{constructor(e){this.dnd=e}getDragURI(e){return this.dnd.getDragURI(e.element)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e.map(i=>i.element),t)}onDragStart(e,t){this.dnd.onDragStart?.(um(e),t)}onDragOver(e,t,i,o,r,s=!0){return this.dnd.onDragOver(um(e),t&&t.element,i,o,r)}drop(e,t,i,o,r){this.dnd.drop(um(e),t&&t.element,i,o,r)}onDragEnd(e){this.dnd.onDragEnd?.(e)}dispose(){this.dnd.dispose()}};function Hy(n){return n&&{...n,collapseByDefault:!0,identityProvider:n.identityProvider&&{getId(e){return n.identityProvider.getId(e.element)}},dnd:n.dnd&&new gm(n.dnd),multipleSelectionController:n.multipleSelectionController&&{isSelectionSingleChangeEvent(e){return n.multipleSelectionController.isSelectionSingleChangeEvent({...e,element:e.element})},isSelectionRangeChangeEvent(e){return n.multipleSelectionController.isSelectionRangeChangeEvent({...e,element:e.element})}},accessibilityProvider:n.accessibilityProvider&&{...n.accessibilityProvider,getPosInSet:void 0,getSetSize:void 0,getRole:n.accessibilityProvider.getRole?e=>n.accessibilityProvider.getRole(e.element):()=>"treeitem",isChecked:n.accessibilityProvider.isChecked?e=>!!n.accessibilityProvider?.isChecked(e.element):void 0,getAriaLabel(e){return n.accessibilityProvider.getAriaLabel(e.element)},getWidgetAriaLabel(){return n.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:n.accessibilityProvider.getWidgetRole?()=>n.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:n.accessibilityProvider.getAriaLevel&&(e=>n.accessibilityProvider.getAriaLevel(e.element)),getActiveDescendantId:n.accessibilityProvider.getActiveDescendantId&&(e=>n.accessibilityProvider.getActiveDescendantId(e.element))},filter:n.filter&&{filter(e,t){return n.filter.filter(e.element,t)}},keyboardNavigationLabelProvider:n.keyboardNavigationLabelProvider&&{...n.keyboardNavigationLabelProvider,getKeyboardNavigationLabel(e){return n.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(e.element)}},sorter:void 0,expandOnlyOnTwistieClick:typeof n.expandOnlyOnTwistieClick>"u"?void 0:typeof n.expandOnlyOnTwistieClick!="function"?n.expandOnlyOnTwistieClick:e=>n.expandOnlyOnTwistieClick(e.element),defaultFindVisibility:e=>e.hasChildren&&e.stale?1:typeof n.defaultFindVisibility=="number"?n.defaultFindVisibility:typeof n.defaultFindVisibility>"u"?2:n.defaultFindVisibility(e.element)}}function bm(n,e){e(n),n.children.forEach(t=>bm(t,e))}var ma=class{constructor(e,t,i,o,r,s={}){this.user=e;this.dataSource=r;this.identityProvider=s.identityProvider,this.autoExpandSingleChildren=typeof s.autoExpandSingleChildren>"u"?!1:s.autoExpandSingleChildren,this.sorter=s.sorter,this.getDefaultCollapseState=a=>s.collapseByDefault?s.collapseByDefault(a)?3:2:void 0,this.tree=this.createTree(e,t,i,o,s),this.onDidChangeFindMode=this.tree.onDidChangeFindMode,this.onDidChangeFindMatchType=this.tree.onDidChangeFindMatchType,this.root=cm({element:void 0,parent:null,hasChildren:!0,defaultCollapseState:void 0}),this.identityProvider&&(this.root={...this.root,id:null}),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}tree;root;nodes=new Map;sorter;getDefaultCollapseState;subTreeRefreshPromises=new Map;refreshPromises=new Map;identityProvider;autoExpandSingleChildren;_onDidRender=new k;_onDidChangeNodeSlowState=new k;nodeMapper=new zo(e=>new pm(e));disposables=new q;get onDidScroll(){return this.tree.onDidScroll}get onDidChangeFocus(){return _.map(this.tree.onDidChangeFocus,By)}get onDidChangeSelection(){return _.map(this.tree.onDidChangeSelection,By)}get onKeyDown(){return this.tree.onKeyDown}get onMouseClick(){return _.map(this.tree.onMouseClick,Zd)}get onMouseDblClick(){return _.map(this.tree.onMouseDblClick,Zd)}get onContextMenu(){return _.map(this.tree.onContextMenu,cS)}get onTap(){return _.map(this.tree.onTap,Zd)}get onPointer(){return _.map(this.tree.onPointer,Zd)}get onDidFocus(){return this.tree.onDidFocus}get onDidBlur(){return this.tree.onDidBlur}get onDidChangeModel(){return this.tree.onDidChangeModel}get onDidChangeCollapseState(){return this.tree.onDidChangeCollapseState}get onDidUpdateOptions(){return this.tree.onDidUpdateOptions}get onDidChangeFindOpenState(){return this.tree.onDidChangeFindOpenState}get onDidChangeStickyScrollFocused(){return this.tree.onDidChangeStickyScrollFocused}get findMode(){return this.tree.findMode}set findMode(e){this.tree.findMode=e}onDidChangeFindMode;get findMatchType(){return this.tree.findMatchType}set findMatchType(e){this.tree.findMatchType=e}onDidChangeFindMatchType;get expandOnlyOnTwistieClick(){if(typeof this.tree.expandOnlyOnTwistieClick=="boolean")return this.tree.expandOnlyOnTwistieClick;let e=this.tree.expandOnlyOnTwistieClick;return t=>e(this.nodes.get(t===this.root.element?null:t)||null)}get onDidDispose(){return this.tree.onDidDispose}createTree(e,t,i,o,r){let s=new qr(i),a=o.map(d=>new mm(d,this.nodeMapper,this._onDidChangeNodeSlowState.event)),l=Hy(r)||{};return new qo(e,t,s,a,l)}updateOptions(e={}){this.tree.updateOptions(e)}get options(){return this.tree.options}getHTMLElement(){return this.tree.getHTMLElement()}get contentHeight(){return this.tree.contentHeight}get contentWidth(){return this.tree.contentWidth}get onDidChangeContentHeight(){return this.tree.onDidChangeContentHeight}get onDidChangeContentWidth(){return this.tree.onDidChangeContentWidth}get scrollTop(){return this.tree.scrollTop}set scrollTop(e){this.tree.scrollTop=e}get scrollLeft(){return this.tree.scrollLeft}set scrollLeft(e){this.tree.scrollLeft=e}get scrollHeight(){return this.tree.scrollHeight}get renderHeight(){return this.tree.renderHeight}get lastVisibleElement(){return this.tree.lastVisibleElement.element}get ariaLabel(){return this.tree.ariaLabel}set ariaLabel(e){this.tree.ariaLabel=e}domFocus(){this.tree.domFocus()}layout(e,t){this.tree.layout(e,t)}style(e){this.tree.style(e)}getInput(){return this.root.element}async setInput(e,t){this.refreshPromises.forEach(o=>o.cancel()),this.refreshPromises.clear(),this.root.element=e;let i=t&&{viewState:t,focus:[],selection:[]};await this._updateChildren(e,!0,!1,i),i&&(this.tree.setFocus(i.focus),this.tree.setSelection(i.selection)),t&&typeof t.scrollTop=="number"&&(this.scrollTop=t.scrollTop)}async updateChildren(e=this.root.element,t=!0,i=!1,o){await this._updateChildren(e,t,i,void 0,o)}async _updateChildren(e=this.root.element,t=!0,i=!1,o,r){if(typeof this.root.element>"u")throw new ze(this.user,"Tree input not set");this.root.refreshPromise&&(await this.root.refreshPromise,await _.toPromise(this._onDidRender.event));let s=this.getDataNode(e);if(await this.refreshAndRenderNode(s,t,o,r),i)try{this.tree.rerender(s)}catch{}}resort(e=this.root.element,t=!0){this.tree.resort(this.getDataNode(e),t)}hasNode(e){return e===this.root.element||this.nodes.has(e)}rerender(e){if(e===void 0||e===this.root.element){this.tree.rerender();return}let t=this.getDataNode(e);this.tree.rerender(t)}updateElementHeight(e,t){let i=this.getDataNode(e);this.tree.updateElementHeight(i,t)}updateWidth(e){let t=this.getDataNode(e);this.tree.updateWidth(t)}getNode(e=this.root.element){let t=this.getDataNode(e),i=this.tree.getNode(t===this.root?null:t);return this.nodeMapper.map(i)}collapse(e,t=!1){let i=this.getDataNode(e);return this.tree.collapse(i===this.root?null:i,t)}async expand(e,t=!1){if(typeof this.root.element>"u")throw new ze(this.user,"Tree input not set");this.root.refreshPromise&&(await this.root.refreshPromise,await _.toPromise(this._onDidRender.event));let i=this.getDataNode(e);if(this.tree.hasElement(i)&&!this.tree.isCollapsible(i)||(i.refreshPromise&&(await this.root.refreshPromise,await _.toPromise(this._onDidRender.event)),i!==this.root&&!i.refreshPromise&&!this.tree.isCollapsed(i)))return!1;let o=this.tree.expand(i===this.root?null:i,t);return i.refreshPromise&&(await this.root.refreshPromise,await _.toPromise(this._onDidRender.event)),o}toggleCollapsed(e,t=!1){return this.tree.toggleCollapsed(this.getDataNode(e),t)}expandAll(){this.tree.expandAll()}async expandTo(e){if(!this.dataSource.getParent)throw new Error("Can't expand to element without getParent method");let t=[];for(;!this.hasNode(e);)e=this.dataSource.getParent(e),e!==this.root.element&&t.push(e);for(let i of ge.reverse(t))await this.expand(i);this.tree.expandTo(this.getDataNode(e))}collapseAll(){this.tree.collapseAll()}isCollapsible(e){return this.tree.isCollapsible(this.getDataNode(e))}isCollapsed(e){return this.tree.isCollapsed(this.getDataNode(e))}triggerTypeNavigation(){this.tree.triggerTypeNavigation()}openFind(){this.tree.openFind()}closeFind(){this.tree.closeFind()}refilter(){this.tree.refilter()}setAnchor(e){this.tree.setAnchor(typeof e>"u"?void 0:this.getDataNode(e))}getAnchor(){return this.tree.getAnchor()?.element}setSelection(e,t){let i=e.map(o=>this.getDataNode(o));this.tree.setSelection(i,t)}getSelection(){return this.tree.getSelection().map(t=>t.element)}setFocus(e,t){let i=e.map(o=>this.getDataNode(o));this.tree.setFocus(i,t)}focusNext(e=1,t=!1,i){this.tree.focusNext(e,t,i)}focusPrevious(e=1,t=!1,i){this.tree.focusPrevious(e,t,i)}focusNextPage(e){return this.tree.focusNextPage(e)}focusPreviousPage(e){return this.tree.focusPreviousPage(e)}focusLast(e){this.tree.focusLast(e)}focusFirst(e){this.tree.focusFirst(e)}getFocus(){return this.tree.getFocus().map(t=>t.element)}getStickyScrollFocus(){return this.tree.getStickyScrollFocus().map(t=>t.element)}getFocusedPart(){return this.tree.getFocusedPart()}reveal(e,t){this.tree.reveal(this.getDataNode(e),t)}getRelativeTop(e){return this.tree.getRelativeTop(this.getDataNode(e))}getParentElement(e){let t=this.tree.getParentElement(this.getDataNode(e));return t&&t.element}getFirstElementChild(e=this.root.element){let t=this.getDataNode(e),i=this.tree.getFirstElementChild(t===this.root?null:t);return i&&i.element}getDataNode(e){let t=this.nodes.get(e===this.root.element?null:e);if(!t)throw new ze(this.user,`Data tree node not found: ${e}`);return t}async refreshAndRenderNode(e,t,i,o){await this.refreshNode(e,t,i),!this.disposables.isDisposed&&this.render(e,i,o)}async refreshNode(e,t,i){let o;if(this.subTreeRefreshPromises.forEach((r,s)=>{!o&&dS(s,e)&&(o=r.then(()=>this.refreshNode(e,t,i)))}),o)return o;if(e!==this.root&&this.tree.getNode(e).collapsed){e.hasChildren=!!this.dataSource.hasChildren(e.element),e.stale=!0,this.setChildren(e,[],t,i);return}return this.doRefreshSubTree(e,t,i)}async doRefreshSubTree(e,t,i){let o;e.refreshPromise=new Promise(r=>o=r),this.subTreeRefreshPromises.set(e,e.refreshPromise),e.refreshPromise.finally(()=>{e.refreshPromise=void 0,this.subTreeRefreshPromises.delete(e)});try{let r=await this.doRefreshNode(e,t,i);e.stale=!1,await Hu.settled(r.map(s=>this.doRefreshSubTree(s,t,i)))}finally{o()}}async doRefreshNode(e,t,i){e.hasChildren=!!this.dataSource.hasChildren(e.element);let o;if(!e.hasChildren)o=Promise.resolve(ge.empty());else{let r=this.doGetChildren(e);if(Lu(r))o=Promise.resolve(r);else{let s=Qi(800);s.then(()=>{e.slow=!0,this._onDidChangeNodeSlowState.fire(e)},a=>null),o=r.finally(()=>s.cancel())}}try{let r=await o;return this.setChildren(e,r,t,i)}catch(r){if(e!==this.root&&this.tree.hasElement(e)&&this.tree.collapse(e),is(r))return[];throw r}finally{e.slow&&(e.slow=!1,this._onDidChangeNodeSlowState.fire(e))}}doGetChildren(e){let t=this.refreshPromises.get(e);if(t)return t;let i=this.dataSource.getChildren(e.element);return Lu(i)?this.processChildren(i):(t=Bu(async()=>this.processChildren(await i)),this.refreshPromises.set(e,t),t.finally(()=>{this.refreshPromises.delete(e)}))}_onDidChangeCollapseState({node:e,deep:t}){e.element!==null&&!e.collapsed&&e.element.stale&&(t?this.collapse(e.element.element):this.refreshAndRenderNode(e.element,!1).catch(Ht))}setChildren(e,t,i,o){let r=[...t];if(e.children.length===0&&r.length===0)return[];let s=new Map,a=new Map;for(let u of e.children)s.set(u.element,u),this.identityProvider&&a.set(u.id,{node:u,collapsed:this.tree.hasElement(u)&&this.tree.isCollapsed(u)});let l=[],d=r.map(u=>{let h=!!this.dataSource.hasChildren(u);if(!this.identityProvider){let f=cm({element:u,parent:e,hasChildren:h,defaultCollapseState:this.getDefaultCollapseState(u)});return h&&f.defaultCollapseState===2&&l.push(f),f}let m=this.identityProvider.getId(u).toString(),y=a.get(m);if(y){let f=y.node;return s.delete(f.element),this.nodes.delete(f.element),this.nodes.set(u,f),f.element=u,f.hasChildren=h,i?y.collapsed?(f.children.forEach(x=>bm(x,L=>this.nodes.delete(L.element))),f.children.splice(0,f.children.length),f.stale=!0):l.push(f):h&&!y.collapsed&&l.push(f),f}let w=cm({element:u,parent:e,id:m,hasChildren:h,defaultCollapseState:this.getDefaultCollapseState(u)});return o&&o.viewState.focus&&o.viewState.focus.indexOf(m)>-1&&o.focus.push(w),o&&o.viewState.selection&&o.viewState.selection.indexOf(m)>-1&&o.selection.push(w),(o&&o.viewState.expanded&&o.viewState.expanded.indexOf(m)>-1||h&&w.defaultCollapseState===2)&&l.push(w),w});for(let u of s.values())bm(u,h=>this.nodes.delete(h.element));for(let u of d)this.nodes.set(u.element,u);return e.children.splice(0,e.children.length,...d),e!==this.root&&this.autoExpandSingleChildren&&d.length===1&&l.length===0&&(d[0].forceExpanded=!0,l.push(d[0])),l}render(e,t,i){let o=e.children.map(s=>this.asTreeElement(s,t)),r=i&&{...i,diffIdentityProvider:i.diffIdentityProvider&&{getId(s){return i.diffIdentityProvider.getId(s.element)}}};this.tree.setChildren(e===this.root?null:e,o,r),e!==this.root&&this.tree.setCollapsible(e,e.hasChildren),this._onDidRender.fire()}asTreeElement(e,t){if(e.stale)return{element:e,collapsible:e.hasChildren,collapsed:!0};let i;return t&&t.viewState.expanded&&e.id&&t.viewState.expanded.indexOf(e.id)>-1?i=!1:e.forceExpanded?(i=!1,e.forceExpanded=!1):i=e.defaultCollapseState,{element:e,children:e.hasChildren?ge.map(e.children,o=>this.asTreeElement(o,t)):[],collapsible:e.hasChildren,collapsed:i}}processChildren(e){return this.sorter&&(e=[...e].sort(this.sorter.compare.bind(this.sorter))),e}getViewState(){if(!this.identityProvider)throw new ze(this.user,"Can't get tree view state without an identity provider");let e=a=>this.identityProvider.getId(a).toString(),t=this.getFocus().map(e),i=this.getSelection().map(e),o=[],r=this.tree.getNode(),s=[r];for(;s.length>0;){let a=s.pop();a!==r&&a.collapsible&&!a.collapsed&&o.push(e(a.element.element)),s.push(...a.children)}return{focus:t,selection:i,expanded:o,scrollTop:this.scrollTop}}dispose(){this.disposables.dispose(),this.tree.dispose()}},vm=class n{constructor(e){this.node=e}get element(){return{elements:this.node.element.elements.map(e=>e.element),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map(e=>new n(e))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}},ym=class{constructor(e,t,i,o){this.renderer=e;this.nodeMapper=t;this.compressibleNodeMapperProvider=i;this.onDidChangeTwistieState=o;this.templateId=e.templateId}templateId;renderedNodes=new Map;disposables=[];renderTemplate(e){return{templateData:this.renderer.renderTemplate(e)}}renderElement(e,t,i,o){this.renderer.renderElement(this.nodeMapper.map(e),t,i.templateData,o)}renderCompressedElements(e,t,i,o){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(e),t,i.templateData,o)}renderTwistie(e,t){return e.slow?(t.classList.add(...Ie.asClassNameArray(Le.treeItemLoading)),!0):(t.classList.remove(...Ie.asClassNameArray(Le.treeItemLoading)),!1)}disposeElement(e,t,i,o){this.renderer.disposeElement?.(this.nodeMapper.map(e),t,i.templateData,o)}disposeCompressedElements(e,t,i,o){this.renderer.disposeCompressedElements?.(this.compressibleNodeMapperProvider().map(e),t,i.templateData,o)}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=$e(this.disposables)}};function uS(n){let e=n&&Hy(n);return e&&{...e,keyboardNavigationLabelProvider:e.keyboardNavigationLabelProvider&&{...e.keyboardNavigationLabelProvider,getCompressedNodeKeyboardNavigationLabel(t){return n.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(t.map(i=>i.element))}}}}var ec=class extends ma{constructor(t,i,o,r,s,a,l={}){super(t,i,o,s,a,l);this.compressionDelegate=r;this.filter=l.filter}compressibleNodeMapper=new zo(t=>new vm(t));filter;createTree(t,i,o,r,s){let a=new qr(o),l=r.map(u=>new ym(u,this.nodeMapper,()=>this.compressibleNodeMapper,this._onDidChangeNodeSlowState.event)),d=uS(s)||{};return new Yr(t,i,a,l,d)}asTreeElement(t,i){return{incompressible:this.compressionDelegate.isIncompressible(t.element),...super.asTreeElement(t,i)}}updateOptions(t={}){this.tree.updateOptions(t)}getViewState(){if(!this.identityProvider)throw new ze(this.user,"Can't get tree view state without an identity provider");let t=l=>this.identityProvider.getId(l).toString(),i=this.getFocus().map(t),o=this.getSelection().map(t),r=[],s=this.tree.getCompressedTreeNode(),a=[s];for(;a.length>0;){let l=a.pop();if(l!==s&&l.collapsible&&!l.collapsed)for(let d of l.element.elements)r.push(t(d.element));a.push(...l.children)}return{focus:i,selection:o,expanded:r,scrollTop:this.scrollTop}}render(t,i,o){if(!this.identityProvider)return super.render(t,i);let r=w=>this.identityProvider.getId(w).toString(),s=w=>{let f=new Set;for(let x of w){let L=this.tree.getCompressedTreeNode(x===this.root?null:x);if(L.element)for(let C of L.element.elements)f.add(r(C.element))}return f},a=s(this.tree.getSelection()),l=s(this.tree.getFocus());super.render(t,i,o);let d=this.getSelection(),u=!1,h=this.getFocus(),m=!1,y=w=>{let f=w.element;if(f)for(let x=0;x<f.elements.length;x++){let L=r(f.elements[x].element),C=f.elements[f.elements.length-1].element;a.has(L)&&d.indexOf(C)===-1&&(d.push(C),u=!0),l.has(L)&&h.indexOf(C)===-1&&(h.push(C),m=!0)}w.children.forEach(y)};y(this.tree.getCompressedTreeNode(t===this.root?null:t)),u&&this.setSelection(d),m&&this.setFocus(h)}processChildren(t){return this.filter&&(t=ge.filter(t,i=>{let o=this.filter.filter(i,1),r=hS(o);if(r===2)throw new Error("Recursive tree visibility not supported in async data compressed trees");return r===1})),super.processChildren(t)}};function hS(n){return typeof n=="boolean"?n?1:0:la(n)?Uo(n.visibility):Uo(n)}var tc=class extends $r{constructor(t,i,o,r,s,a={}){super(t,i,o,r,a);this.user=t;this.dataSource=s;this.identityProvider=a.identityProvider}input;identityProvider;nodesByIdentity=new Map;getInput(){return this.input}setInput(t,i){if(i&&!this.identityProvider)throw new ze(this.user,"Can't restore tree view state without an identity provider");if(this.input=t,!t){this.nodesByIdentity.clear(),this.model.setChildren(null,ge.empty());return}if(!i){this._refresh(t);return}let o=[],r=[],s=l=>{let d=this.identityProvider.getId(l).toString();return!i.expanded[d]},a=l=>{let d=this.identityProvider.getId(l.element).toString();i.focus.has(d)&&o.push(l.element),i.selection.has(d)&&r.push(l.element)};this._refresh(t,s,a),this.setFocus(o),this.setSelection(r),i&&typeof i.scrollTop=="number"&&(this.scrollTop=i.scrollTop)}updateChildren(t=this.input){if(typeof this.input>"u")throw new ze(this.user,"Tree input not set");let i;this.identityProvider&&(i=o=>{let r=this.identityProvider.getId(o).toString(),s=this.nodesByIdentity.get(r);if(s)return s.collapsed}),this._refresh(t,i)}resort(t=this.input,i=!0){this.model.resort(t===this.input?null:t,i)}refresh(t){if(t===void 0){this.view.rerender();return}this.model.rerender(t)}_refresh(t,i,o){let r;if(this.identityProvider){let s=new Set,a=o;o=l=>{let d=this.identityProvider.getId(l.element).toString();s.add(d),this.nodesByIdentity.set(d,l),a?.(l)},r=l=>{let d=this.identityProvider.getId(l.element).toString();s.has(d)||this.nodesByIdentity.delete(d)}}this.model.setChildren(t===this.input?null:t,this.iterate(t,i).elements,{onDidCreateNode:o,onDidDeleteNode:r})}iterate(t,i){let o=[...this.dataSource.getChildren(t)];return{elements:ge.map(o,s=>{let{elements:a,size:l}=this.iterate(s,i),d=this.dataSource.hasChildren?this.dataSource.hasChildren(s):void 0,u=l===0?void 0:i&&i(s);return{element:s,children:a,collapsible:d,collapsed:u}}),size:o.length}}createModel(t,i){return new uo(t,i)}};var JX=Oe("policy");var Im={Configuration:"base.contributions.configuration"};var nc={properties:{},patternProperties:{}},ic={properties:{},patternProperties:{}},oc={properties:{},patternProperties:{}},rc={properties:{},patternProperties:{}},sc={properties:{},patternProperties:{}},fa={properties:{},patternProperties:{}},$o="vscode://schemas/settings/resourceLanguage";var ac=ut.as(Ho.JSONContribution),Tm=class{registeredConfigurationDefaults=[];configurationDefaultsOverrides;defaultLanguageConfigurationOverridesNode;configurationContributors;configurationProperties;policyConfigurations;excludedConfigurationProperties;resourceLanguageSettingsSchema;overrideIdentifiers=new Set;_onDidSchemaChange=new k;onDidSchemaChange=this._onDidSchemaChange.event;_onDidUpdateConfiguration=new k;onDidUpdateConfiguration=this._onDidUpdateConfiguration.event;constructor(){this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:p("defaultLanguageConfigurationOverrides.title","Default Language Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!0,allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.policyConfigurations=new Map,this.excludedConfigurationProperties={},ac.registerSchema($o,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}registerConfiguration(e,t=!0){this.registerConfigurations([e],t)}registerConfigurations(e,t=!0){let i=new Set;this.doRegisterConfigurations(e,t,i),ac.registerSchema($o,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:i})}deregisterConfigurations(e){let t=new Set;this.doDeregisterConfigurations(e,t),ac.registerSchema($o,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:t})}updateConfigurations({add:e,remove:t}){let i=new Set;this.doDeregisterConfigurations(t,i),this.doRegisterConfigurations(e,!1,i),ac.registerSchema($o,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:i})}registerDefaultConfigurations(e){let t=new Set;this.doRegisterDefaultConfigurations(e,t),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:t,defaultsOverrides:!0})}doRegisterDefaultConfigurations(e,t){this.registeredConfigurationDefaults.push(...e);let i=[];for(let{overrides:o,source:r}of e)for(let s in o){t.add(s);let a=this.configurationDefaultsOverrides.get(s)??this.configurationDefaultsOverrides.set(s,{configurationDefaultOverrides:[]}).get(s),l=o[s];if(a.configurationDefaultOverrides.push({value:l,source:r}),ga.test(s)){let d=this.mergeDefaultConfigurationsForOverrideIdentifier(s,l,r,a.configurationDefaultOverrideValue);if(!d)continue;a.configurationDefaultOverrideValue=d,this.updateDefaultOverrideProperty(s,d,r),i.push(...pS(s))}else{let d=this.mergeDefaultConfigurationsForConfigurationProperty(s,l,r,a.configurationDefaultOverrideValue);if(!d)continue;a.configurationDefaultOverrideValue=d;let u=this.configurationProperties[s];u&&(this.updatePropertyDefaultValue(s,u),this.updateSchema(s,u))}}this.doRegisterOverrideIdentifiers(i)}deregisterDefaultConfigurations(e){let t=new Set;this.doDeregisterDefaultConfigurations(e,t),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:t,defaultsOverrides:!0})}doDeregisterDefaultConfigurations(e,t){for(let i of e){let o=this.registeredConfigurationDefaults.indexOf(i);o!==-1&&this.registeredConfigurationDefaults.splice(o,1)}for(let{overrides:i,source:o}of e)for(let r in i){let s=this.configurationDefaultsOverrides.get(r);if(!s)continue;let a=s.configurationDefaultOverrides.findIndex(l=>o?l.source?.id===o.id:l.value===i[r]);if(a!==-1){if(s.configurationDefaultOverrides.splice(a,1),s.configurationDefaultOverrides.length===0&&this.configurationDefaultsOverrides.delete(r),ga.test(r)){let l;for(let d of s.configurationDefaultOverrides)l=this.mergeDefaultConfigurationsForOverrideIdentifier(r,d.value,d.source,l);l&&!ig(l.value)?(s.configurationDefaultOverrideValue=l,this.updateDefaultOverrideProperty(r,l,o)):(this.configurationDefaultsOverrides.delete(r),delete this.configurationProperties[r],delete this.defaultLanguageConfigurationOverridesNode.properties[r])}else{let l;for(let u of s.configurationDefaultOverrides)l=this.mergeDefaultConfigurationsForConfigurationProperty(r,u.value,u.source,l);s.configurationDefaultOverrideValue=l;let d=this.configurationProperties[r];d&&(this.updatePropertyDefaultValue(r,d),this.updateSchema(r,d))}t.add(r)}}this.updateOverridePropertyPatternKey()}updateDefaultOverrideProperty(e,t,i){let o={type:"object",default:t.value,description:p("defaultLanguageConfiguration.description","Configure settings to be overridden for the {0} language.",My(e)),$ref:$o,defaultDefaultValue:t.value,source:i,defaultValueSource:i};this.configurationProperties[e]=o,this.defaultLanguageConfigurationOverridesNode.properties[e]=o}mergeDefaultConfigurationsForOverrideIdentifier(e,t,i,o){let r=o?.value||{},s=o?.source??new Map;if(!(s instanceof Map)){console.error("objectConfigurationSources is not a Map");return}for(let a of Object.keys(t)){let l=t[a];if(gn(l)&&($i(r[a])||gn(r[a]))){if(r[a]={...r[a]??{},...l},i)for(let u in l)s.set(`${a}.${u}`,i)}else r[a]=l,i?s.set(a,i):s.delete(a)}return{value:r,source:s}}mergeDefaultConfigurationsForConfigurationProperty(e,t,i,o){let r=this.configurationProperties[e],s=o?.value??r?.defaultDefaultValue,a=i;if(gn(t)&&(r!==void 0&&r.type==="object"||r===void 0&&($i(s)||gn(s)))){if(a=o?.source??new Map,!(a instanceof Map)){console.error("defaultValueSource is not a Map");return}for(let d in t)i&&a.set(`${e}.${d}`,i);t={...gn(s)?s:{},...t}}return{value:t,source:a}}deltaConfiguration(e){let t=!1,i=new Set;e.removedDefaults&&(this.doDeregisterDefaultConfigurations(e.removedDefaults,i),t=!0),e.addedDefaults&&(this.doRegisterDefaultConfigurations(e.addedDefaults,i),t=!0),e.removedConfigurations&&this.doDeregisterConfigurations(e.removedConfigurations,i),e.addedConfigurations&&this.doRegisterConfigurations(e.addedConfigurations,!1,i),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:i,defaultsOverrides:t})}notifyConfigurationSchemaUpdated(...e){this._onDidSchemaChange.fire()}registerOverrideIdentifiers(e){this.doRegisterOverrideIdentifiers(e),this._onDidSchemaChange.fire()}doRegisterOverrideIdentifiers(e){for(let t of e)this.overrideIdentifiers.add(t);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(e,t,i){e.forEach(o=>{this.validateAndRegisterProperties(o,t,o.extensionInfo,o.restrictedProperties,void 0,i),this.configurationContributors.push(o),this.registerJSONConfiguration(o)})}doDeregisterConfigurations(e,t){let i=o=>{if(o.properties)for(let r in o.properties){t.add(r);let s=this.configurationProperties[r];s?.policy?.name&&this.policyConfigurations.delete(s.policy.name),delete this.configurationProperties[r],this.removeFromSchema(r,o.properties[r])}o.allOf?.forEach(r=>i(r))};for(let o of e){i(o);let r=this.configurationContributors.indexOf(o);r!==-1&&this.configurationContributors.splice(r,1)}}validateAndRegisterProperties(e,t=!0,i,o,r=3,s){r=Ti(e.scope)?r:e.scope;let a=e.properties;if(a)for(let d in a){let u=a[d];if(t&&fS(d,u)){delete a[d];continue}if(u.source=i,u.defaultDefaultValue=a[d].default,this.updatePropertyDefaultValue(d,u),ga.test(d)?u.scope=void 0:(u.scope=Ti(u.scope)?r:u.scope,u.restricted=Ti(u.restricted)?!!o?.includes(d):u.restricted),a[d].hasOwnProperty("included")&&!a[d].included){this.excludedConfigurationProperties[d]=a[d],delete a[d];continue}else this.configurationProperties[d]=a[d],a[d].policy?.name&&this.policyConfigurations.set(a[d].policy.name,d);!a[d].deprecationMessage&&a[d].markdownDeprecationMessage&&(a[d].deprecationMessage=a[d].markdownDeprecationMessage),s.add(d)}let l=e.allOf;if(l)for(let d of l)this.validateAndRegisterProperties(d,t,i,o,r,s)}getConfigurations(){return this.configurationContributors}getConfigurationProperties(){return this.configurationProperties}getPolicyConfigurations(){return this.policyConfigurations}getExcludedConfigurationProperties(){return this.excludedConfigurationProperties}getRegisteredDefaultConfigurations(){return[...this.registeredConfigurationDefaults]}getConfigurationDefaultsOverrides(){let e=new Map;for(let[t,i]of this.configurationDefaultsOverrides)i.configurationDefaultOverrideValue&&e.set(t,i.configurationDefaultOverrideValue);return e}registerJSONConfiguration(e){let t=i=>{let o=i.properties;if(o)for(let s in o)this.updateSchema(s,o[s]);i.allOf?.forEach(t)};t(e)}updateSchema(e,t){switch(nc.properties[e]=t,t.scope){case 1:ic.properties[e]=t;break;case 2:oc.properties[e]=t;break;case 6:rc.properties[e]=t;break;case 3:sc.properties[e]=t;break;case 4:fa.properties[e]=t;break;case 5:fa.properties[e]=t,this.resourceLanguageSettingsSchema.properties[e]=t;break}}removeFromSchema(e,t){switch(delete nc.properties[e],t.scope){case 1:delete ic.properties[e];break;case 2:delete oc.properties[e];break;case 6:delete rc.properties[e];break;case 3:delete sc.properties[e];break;case 4:case 5:delete fa.properties[e],delete this.resourceLanguageSettingsSchema.properties[e];break}}updateOverridePropertyPatternKey(){for(let e of this.overrideIdentifiers.values()){let t=`[${e}]`,i={type:"object",description:p("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:p("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:$o};this.updatePropertyDefaultValue(t,i),nc.properties[t]=i,ic.properties[t]=i,oc.properties[t]=i,rc.properties[t]=i,sc.properties[t]=i,fa.properties[t]=i}}registerOverridePropertyPatternKey(){let e={type:"object",description:p("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:p("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:$o};nc.patternProperties[Go]=e,ic.patternProperties[Go]=e,oc.patternProperties[Go]=e,rc.patternProperties[Go]=e,sc.patternProperties[Go]=e,fa.patternProperties[Go]=e,this._onDidSchemaChange.fire()}updatePropertyDefaultValue(e,t){let i=this.configurationDefaultsOverrides.get(e)?.configurationDefaultOverrideValue,o,r;i&&(!t.disallowConfigurationDefault||!i.source)&&(o=i.value,r=i.source),$i(o)&&(o=t.defaultDefaultValue,r=void 0),$i(o)&&(o=mS(t.type)),t.default=o,t.defaultValueSource=r}},zy="\\[([^\\]]+)\\]",Ky=new RegExp(zy,"g"),Go=`^(${zy})+$`,ga=new RegExp(Go);function pS(n){let e=[];if(ga.test(n)){let t=Ky.exec(n);for(;t?.length;){let i=t[1].trim();i&&e.push(i),t=Ky.exec(n)}}return yo(e)}function mS(n){switch(Array.isArray(n)?n[0]:n){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}var lc=new Tm;ut.add(Im.Configuration,lc);function fS(n,e){return n.trim()?ga.test(n)?p("config.property.languageDefault","Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",n):lc.getConfigurationProperties()[n]!==void 0?p("config.property.duplicate","Cannot register '{0}'. This property is already registered.",n):e.policy?.name&&lc.getPolicyConfigurations().get(e.policy?.name)!==void 0?p("config.policy.duplicate","Cannot register '{0}'. The associated policy {1} is already registered with {2}.",n,e.policy?.name,lc.getPolicyConfigurations().get(e.policy?.name)):null:p("config.property.empty","Cannot register an empty property")}var bJ=new Ae("isMac",Se,p("isMac","Whether the operating system is macOS")),vJ=new Ae("isLinux",pn,p("isLinux","Whether the operating system is Linux")),yJ=new Ae("isWindows",lt,p("isWindows","Whether the operating system is Windows")),TJ=new Ae("isWeb",Fi,p("isWeb","Whether the platform is a web browser")),IJ=new Ae("isMacNative",Se&&!Fi,p("isMacNative","Whether the operating system is macOS on a non-browser platform")),xJ=new Ae("isIOS",Io,p("isIOS","Whether the operating system is iOS")),SJ=new Ae("isMobile",tf,p("isMobile","Whether the platform is a mobile web browser")),wJ=new Ae("isDevelopment",!1,!0),EJ=new Ae("productQualityType","",p("productQualityType","Quality type of VS Code")),xm="inputFocus",Uy=new Ae(xm,!1,p("inputFocus","Whether keyboard focus is inside an input box"));var _J=Object.freeze({View:To("view","View"),Help:To("help","Help"),Test:To("test","Test"),File:To("file","File"),Preferences:To("preferences","Preferences"),Developer:To({key:"developer",comment:["A developer on Code itself or someone diagnosing issues in Code"]},"Developer")});var Sm=Oe("commandService"),ba=new class{_commands=new Map;_onDidRegisterCommand=new k;onDidRegisterCommand=this._onDidRegisterCommand.event;registerCommand(n,e){if(!n)throw new Error("invalid command");if(typeof n=="string"){if(!e)throw new Error("invalid command");return this.registerCommand({id:n,handler:e})}if(n.metadata&&Array.isArray(n.metadata.args)){let s=[];for(let l of n.metadata.args)s.push(l.constraint);let a=n.handler;n.handler=function(l,...d){return og(d,s),a(l,...d)}}let{id:t}=n,i=this._commands.get(t);i||(i=new mn,this._commands.set(t,i));let o=i.unshift(n),r=ce(()=>{o(),this._commands.get(t)?.isEmpty()&&this._commands.delete(t)});return this._onDidRegisterCommand.fire(t),r}registerCommandAlias(n,e){return ba.registerCommand(n,(t,...i)=>t.get(Sm).executeCommand(e,...i))}getCommand(n){let e=this._commands.get(n);if(!(!e||e.isEmpty()))return ge.first(e)}getCommands(){let n=new Map;for(let e of this._commands.keys()){let t=this.getCommand(e);t&&n.set(e,t)}return n}};ba.registerCommand("noop",()=>{});var wm=class n{_coreKeybindings;_extensionKeybindings;_cachedMergedKeybindings;constructor(){this._coreKeybindings=new mn,this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(e){if(Ri===1){if(e&&e.win)return e.win}else if(Ri===2){if(e&&e.mac)return e.mac}else if(e&&e.linux)return e.linux;return e}registerKeybindingRule(e){let t=n.bindToCurrentPlatform(e),i=new q;if(t&&t.primary){let o=_u(t.primary,Ri);o&&i.add(this._registerDefaultKeybinding(o,e.id,e.args,e.weight,0,e.when))}if(t&&Array.isArray(t.secondary))for(let o=0,r=t.secondary.length;o<r;o++){let s=t.secondary[o],a=_u(s,Ri);a&&i.add(this._registerDefaultKeybinding(a,e.id,e.args,e.weight,-o-1,e.when))}return i}setExtensionKeybindings(e){let t=[],i=0;for(let o of e)o.keybinding&&(t[i++]={keybinding:o.keybinding,command:o.id,commandArgs:o.args,when:o.when,weight1:o.weight,weight2:0,extensionId:o.extensionId||null,isBuiltinExtension:o.isBuiltinExtension||!1});this._extensionKeybindings=t,this._cachedMergedKeybindings=null}registerCommandAndKeybindingRule(e){return fi(this.registerKeybindingRule(e),ba.registerCommand(e))}_registerDefaultKeybinding(e,t,i,o,r,s){let a=this._coreKeybindings.push({keybinding:e,command:t,commandArgs:i,when:s,weight1:o,weight2:r,extensionId:null,isBuiltinExtension:!1});return this._cachedMergedKeybindings=null,ce(()=>{a(),this._cachedMergedKeybindings=null})}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=Array.from(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(bS)),this._cachedMergedKeybindings.slice(0)}},dc=new wm,gS={EditorModes:"platform.keybindingsRegistry"};ut.add(gS.EditorModes,dc);function bS(n,e){if(n.weight1!==e.weight1)return n.weight1-e.weight1;if(n.command&&e.command){if(n.command<e.command)return-1;if(n.command>e.command)return 1}return n.weight2-e.weight2}function vS(n){return n.command!==void 0}var va=class n{static _instances=new Map;static CommandPalette=new n("CommandPalette");static DebugBreakpointsContext=new n("DebugBreakpointsContext");static DebugCallStackContext=new n("DebugCallStackContext");static DebugConsoleContext=new n("DebugConsoleContext");static DebugVariablesContext=new n("DebugVariablesContext");static NotebookVariablesContext=new n("NotebookVariablesContext");static DebugHoverContext=new n("DebugHoverContext");static DebugWatchContext=new n("DebugWatchContext");static DebugToolBar=new n("DebugToolBar");static DebugToolBarStop=new n("DebugToolBarStop");static DebugCallStackToolbar=new n("DebugCallStackToolbar");static DebugCreateConfiguration=new n("DebugCreateConfiguration");static EditorContext=new n("EditorContext");static SimpleEditorContext=new n("SimpleEditorContext");static EditorContent=new n("EditorContent");static EditorLineNumberContext=new n("EditorLineNumberContext");static EditorContextCopy=new n("EditorContextCopy");static EditorContextPeek=new n("EditorContextPeek");static EditorContextShare=new n("EditorContextShare");static EditorTitle=new n("EditorTitle");static EditorTitleRun=new n("EditorTitleRun");static EditorTitleContext=new n("EditorTitleContext");static EditorTitleContextShare=new n("EditorTitleContextShare");static EmptyEditorGroup=new n("EmptyEditorGroup");static EmptyEditorGroupContext=new n("EmptyEditorGroupContext");static EditorTabsBarContext=new n("EditorTabsBarContext");static EditorTabsBarShowTabsSubmenu=new n("EditorTabsBarShowTabsSubmenu");static EditorTabsBarShowTabsZenModeSubmenu=new n("EditorTabsBarShowTabsZenModeSubmenu");static EditorActionsPositionSubmenu=new n("EditorActionsPositionSubmenu");static ExplorerContext=new n("ExplorerContext");static ExplorerContextShare=new n("ExplorerContextShare");static ExtensionContext=new n("ExtensionContext");static ExtensionEditorContextMenu=new n("ExtensionEditorContextMenu");static GlobalActivity=new n("GlobalActivity");static CommandCenter=new n("CommandCenter");static CommandCenterCenter=new n("CommandCenterCenter");static LayoutControlMenuSubmenu=new n("LayoutControlMenuSubmenu");static LayoutControlMenu=new n("LayoutControlMenu");static MenubarMainMenu=new n("MenubarMainMenu");static MenubarAppearanceMenu=new n("MenubarAppearanceMenu");static MenubarDebugMenu=new n("MenubarDebugMenu");static MenubarEditMenu=new n("MenubarEditMenu");static MenubarCopy=new n("MenubarCopy");static MenubarFileMenu=new n("MenubarFileMenu");static MenubarGoMenu=new n("MenubarGoMenu");static MenubarHelpMenu=new n("MenubarHelpMenu");static MenubarLayoutMenu=new n("MenubarLayoutMenu");static MenubarNewBreakpointMenu=new n("MenubarNewBreakpointMenu");static PanelAlignmentMenu=new n("PanelAlignmentMenu");static PanelPositionMenu=new n("PanelPositionMenu");static ActivityBarPositionMenu=new n("ActivityBarPositionMenu");static MenubarPreferencesMenu=new n("MenubarPreferencesMenu");static MenubarRecentMenu=new n("MenubarRecentMenu");static MenubarSelectionMenu=new n("MenubarSelectionMenu");static MenubarShare=new n("MenubarShare");static MenubarSwitchEditorMenu=new n("MenubarSwitchEditorMenu");static MenubarSwitchGroupMenu=new n("MenubarSwitchGroupMenu");static MenubarTerminalMenu=new n("MenubarTerminalMenu");static MenubarViewMenu=new n("MenubarViewMenu");static MenubarHomeMenu=new n("MenubarHomeMenu");static OpenEditorsContext=new n("OpenEditorsContext");static OpenEditorsContextShare=new n("OpenEditorsContextShare");static ProblemsPanelContext=new n("ProblemsPanelContext");static SCMInputBox=new n("SCMInputBox");static SCMChangesContext=new n("SCMChangesContext");static SCMChangeContext=new n("SCMChangeContext");static SCMResourceContext=new n("SCMResourceContext");static SCMResourceContextShare=new n("SCMResourceContextShare");static SCMResourceFolderContext=new n("SCMResourceFolderContext");static SCMResourceGroupContext=new n("SCMResourceGroupContext");static SCMSourceControl=new n("SCMSourceControl");static SCMSourceControlInline=new n("SCMSourceControlInline");static SCMSourceControlTitle=new n("SCMSourceControlTitle");static SCMHistoryTitle=new n("SCMHistoryTitle");static SCMTitle=new n("SCMTitle");static SearchContext=new n("SearchContext");static SearchActionMenu=new n("SearchActionContext");static StatusBarWindowIndicatorMenu=new n("StatusBarWindowIndicatorMenu");static StatusBarRemoteIndicatorMenu=new n("StatusBarRemoteIndicatorMenu");static StickyScrollContext=new n("StickyScrollContext");static TestItem=new n("TestItem");static TestItemGutter=new n("TestItemGutter");static TestProfilesContext=new n("TestProfilesContext");static TestMessageContext=new n("TestMessageContext");static TestMessageContent=new n("TestMessageContent");static TestPeekElement=new n("TestPeekElement");static TestPeekTitle=new n("TestPeekTitle");static TestCallStack=new n("TestCallStack");static TouchBarContext=new n("TouchBarContext");static TitleBarContext=new n("TitleBarContext");static TitleBarTitleContext=new n("TitleBarTitleContext");static TunnelContext=new n("TunnelContext");static TunnelPrivacy=new n("TunnelPrivacy");static TunnelProtocol=new n("TunnelProtocol");static TunnelPortInline=new n("TunnelInline");static TunnelTitle=new n("TunnelTitle");static TunnelLocalAddressInline=new n("TunnelLocalAddressInline");static TunnelOriginInline=new n("TunnelOriginInline");static ViewItemContext=new n("ViewItemContext");static ViewContainerTitle=new n("ViewContainerTitle");static ViewContainerTitleContext=new n("ViewContainerTitleContext");static ViewTitle=new n("ViewTitle");static ViewTitleContext=new n("ViewTitleContext");static CommentEditorActions=new n("CommentEditorActions");static CommentThreadTitle=new n("CommentThreadTitle");static CommentThreadActions=new n("CommentThreadActions");static CommentThreadAdditionalActions=new n("CommentThreadAdditionalActions");static CommentThreadTitleContext=new n("CommentThreadTitleContext");static CommentThreadCommentContext=new n("CommentThreadCommentContext");static CommentTitle=new n("CommentTitle");static CommentActions=new n("CommentActions");static CommentsViewThreadActions=new n("CommentsViewThreadActions");static InteractiveToolbar=new n("InteractiveToolbar");static InteractiveCellTitle=new n("InteractiveCellTitle");static InteractiveCellDelete=new n("InteractiveCellDelete");static InteractiveCellExecute=new n("InteractiveCellExecute");static InteractiveInputExecute=new n("InteractiveInputExecute");static InteractiveInputConfig=new n("InteractiveInputConfig");static ReplInputExecute=new n("ReplInputExecute");static IssueReporter=new n("IssueReporter");static NotebookToolbar=new n("NotebookToolbar");static NotebookStickyScrollContext=new n("NotebookStickyScrollContext");static NotebookCellTitle=new n("NotebookCellTitle");static NotebookCellDelete=new n("NotebookCellDelete");static NotebookCellInsert=new n("NotebookCellInsert");static NotebookCellBetween=new n("NotebookCellBetween");static NotebookCellListTop=new n("NotebookCellTop");static NotebookCellExecute=new n("NotebookCellExecute");static NotebookCellExecuteGoTo=new n("NotebookCellExecuteGoTo");static NotebookCellExecutePrimary=new n("NotebookCellExecutePrimary");static NotebookDiffCellInputTitle=new n("NotebookDiffCellInputTitle");static NotebookDiffCellMetadataTitle=new n("NotebookDiffCellMetadataTitle");static NotebookDiffCellOutputsTitle=new n("NotebookDiffCellOutputsTitle");static NotebookOutputToolbar=new n("NotebookOutputToolbar");static NotebookOutlineFilter=new n("NotebookOutlineFilter");static NotebookOutlineActionMenu=new n("NotebookOutlineActionMenu");static NotebookEditorLayoutConfigure=new n("NotebookEditorLayoutConfigure");static NotebookKernelSource=new n("NotebookKernelSource");static BulkEditTitle=new n("BulkEditTitle");static BulkEditContext=new n("BulkEditContext");static TimelineItemContext=new n("TimelineItemContext");static TimelineTitle=new n("TimelineTitle");static TimelineTitleContext=new n("TimelineTitleContext");static TimelineFilterSubMenu=new n("TimelineFilterSubMenu");static AccountsContext=new n("AccountsContext");static SidebarTitle=new n("SidebarTitle");static PanelTitle=new n("PanelTitle");static AuxiliaryBarTitle=new n("AuxiliaryBarTitle");static AuxiliaryBarHeader=new n("AuxiliaryBarHeader");static TerminalInstanceContext=new n("TerminalInstanceContext");static TerminalEditorInstanceContext=new n("TerminalEditorInstanceContext");static TerminalNewDropdownContext=new n("TerminalNewDropdownContext");static TerminalTabContext=new n("TerminalTabContext");static TerminalTabEmptyAreaContext=new n("TerminalTabEmptyAreaContext");static TerminalStickyScrollContext=new n("TerminalStickyScrollContext");static WebviewContext=new n("WebviewContext");static InlineCompletionsActions=new n("InlineCompletionsActions");static InlineEditsActions=new n("InlineEditsActions");static InlineEditActions=new n("InlineEditActions");static NewFile=new n("NewFile");static MergeInput1Toolbar=new n("MergeToolbar1Toolbar");static MergeInput2Toolbar=new n("MergeToolbar2Toolbar");static MergeBaseToolbar=new n("MergeBaseToolbar");static MergeInputResultToolbar=new n("MergeToolbarResultToolbar");static InlineSuggestionToolbar=new n("InlineSuggestionToolbar");static InlineEditToolbar=new n("InlineEditToolbar");static ChatContext=new n("ChatContext");static ChatCodeBlock=new n("ChatCodeblock");static ChatCompareBlock=new n("ChatCompareBlock");static ChatMessageTitle=new n("ChatMessageTitle");static ChatExecute=new n("ChatExecute");static ChatExecuteSecondary=new n("ChatExecuteSecondary");static ChatInputSide=new n("ChatInputSide");static AccessibleView=new n("AccessibleView");static MultiDiffEditorFileToolbar=new n("MultiDiffEditorFileToolbar");static DiffEditorHunkToolbar=new n("DiffEditorHunkToolbar");static DiffEditorSelectionToolbar=new n("DiffEditorSelectionToolbar");static for(e){return n._instances.get(e)??new n(e)}id;constructor(e){if(n._instances.has(e))throw new TypeError(`MenuId with identifier '${e}' already exists. Use MenuId.for(ident) or a unique identifier`);n._instances.set(e,this),this.id=e}},HZ=Oe("menuService"),Qo=class n{constructor(e){this.id=e;this.has=t=>t===e}static _all=new Map;static for(e){let t=this._all.get(e);return t||(t=new n(e),this._all.set(e,t)),t}static merge(e){let t=new Set;for(let i of e)i instanceof n&&t.add(i.id);return t}has},KZ=new class{_commands=new Map;_menuItems=new Map;_onDidChangeMenu=new el({merge:Qo.merge});onDidChangeMenu=this._onDidChangeMenu.event;addCommand(n){return this._commands.set(n.id,n),this._onDidChangeMenu.fire(Qo.for(va.CommandPalette)),ce(()=>{this._commands.delete(n.id)&&this._onDidChangeMenu.fire(Qo.for(va.CommandPalette))})}getCommand(n){return this._commands.get(n)}getCommands(){let n=new Map;return this._commands.forEach((e,t)=>n.set(t,e)),n}appendMenuItem(n,e){let t=this._menuItems.get(n);t||(t=new mn,this._menuItems.set(n,t));let i=t.push(e);return this._onDidChangeMenu.fire(Qo.for(n)),ce(()=>{i(),this._onDidChangeMenu.fire(Qo.for(n))})}appendMenuItems(n){let e=new q;for(let{id:t,item:i}of n)e.add(this.appendMenuItem(t,i));return e}getMenuItems(n){let e;return this._menuItems.has(n)?e=[...this._menuItems.get(n)]:e=[],n===va.CommandPalette&&this._appendImplicitItems(e),e}_appendImplicitItems(n){let e=new Set;for(let t of n)vS(t)&&(e.add(t.command.id),t.alt&&e.add(t.alt.id));this._commands.forEach((t,i)=>{e.has(i)||n.push({command:t})})}};var jo=class{constructor(e,t,i,o,r,s,a){this.hideActions=o;this.menuKeybinding=r;this._commandService=a;this.id=e.id,this.label=jo.label(e,i),this.tooltip=(typeof e.tooltip=="string"?e.tooltip:e.tooltip?.value)??"",this.enabled=!e.precondition||s.contextMatchesRules(e.precondition),this.checked=void 0;let l;if(e.toggled){let d=e.toggled.condition?e.toggled:{condition:e.toggled};this.checked=s.contextMatchesRules(d.condition),this.checked&&d.tooltip&&(this.tooltip=typeof d.tooltip=="string"?d.tooltip:d.tooltip.value),this.checked&&Ie.isThemeIcon(d.icon)&&(l=d.icon),this.checked&&d.title&&(this.label=typeof d.title=="string"?d.title:d.title.value)}l||(l=Ie.isThemeIcon(e.icon)?e.icon:void 0),this.item=e,this.alt=t?new jo(t,void 0,i,o,void 0,s,a):void 0,this._options=i,this.class=l&&Ie.asClassName(l)}static label(e,t){return t?.renderShortTitle&&e.shortTitle?typeof e.shortTitle=="string"?e.shortTitle:e.shortTitle.value:typeof e.title=="string"?e.title:e.title.value}item;alt;_options;id;label;tooltip;class;enabled;checked;run(...e){let t=[];return this._options?.arg&&(t=[...t,this._options.arg]),this._options?.shouldForwardArgs&&(t=[...t,...e]),this._commandService.executeCommand(this.id,...t)}};jo=ie([oe(5,At),oe(6,Sm)],jo);var Vy=Oe("contextViewService"),uee=Oe("contextMenuService");var Wy=Oe("keybindingService");var Di=Oe("listService");var ya=new Ae("listScrollAtBoundary","none"),hne=Be.or(ya.isEqualTo("top"),ya.isEqualTo("both")),pne=Be.or(ya.isEqualTo("bottom"),ya.isEqualTo("both")),qy=new Ae("listFocus",!0),$y=new Ae("treestickyScrollFocused",!1),wc=new Ae("listSupportsMultiselect",!0),mne=Be.and(qy,Be.not(xm),$y.negate()),_m=new Ae("listHasSelectionOrFocus",!1),Cm=new Ae("listDoubleSelection",!1),Lm=new Ae("listMultiSelection",!1),Ec=new Ae("listSelectionNavigation",!1),yS=new Ae("listSupportsFind",!0),TS=new Ae("treeElementCanCollapse",!1),IS=new Ae("treeElementHasParent",!1),xS=new Ae("treeElementCanExpand",!1),SS=new Ae("treeElementHasChild",!1),wS=new Ae("treeFindOpen",!1),Gy="listTypeNavigationMode",Qy="listAutomaticKeyboardNavigation";function kc(n,e){let t=n.createScoped(e.getHTMLElement());return qy.bindTo(t),t}function Dc(n,e){let t=ya.bindTo(n),i=()=>{let o=e.scrollTop===0,r=e.scrollHeight-e.renderHeight-e.scrollTop<1;o&&r?t.set("both"):o?t.set("top"):r?t.set("bottom"):t.set("none")};return i(),e.onDidScroll(i)}var Yo="workbench.list.multiSelectModifier",bc="workbench.list.openMode",un="workbench.list.horizontalScrolling",Am="workbench.list.defaultFindMode",Mm="workbench.list.typeNavigationMode",vc="workbench.list.keyboardNavigation",On="workbench.list.scrollByPage",Nm="workbench.list.defaultFindMatchType",Ta="workbench.tree.indent",yc="workbench.tree.renderIndentGuides",Fn="workbench.list.smoothScrolling",oi="workbench.list.mouseWheelScrollSensitivity",ri="workbench.list.fastScrollSensitivity",Tc="workbench.tree.expandMode",Ic="workbench.tree.enableStickyScroll",xc="workbench.tree.stickyScrollMaxItemCount";function si(n){return n.getValue(Yo)==="alt"}var Em=class extends V{constructor(t){super();this.configurationService=t;this.useAltAsMultipleSelectionModifier=si(t),this.registerListeners()}useAltAsMultipleSelectionModifier;registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(t=>{t.affectsConfiguration(Yo)&&(this.useAltAsMultipleSelectionModifier=si(this.configurationService))}))}isSelectionSingleChangeEvent(t){return this.useAltAsMultipleSelectionModifier?t.browserEvent.altKey:Wh(t)}isSelectionRangeChangeEvent(t){return qh(t)}};function _c(n,e){let t=n.get(_t),i=n.get(Wy),o=new q;return[{...e,keyboardNavigationDelegate:{mightProducePrintableCharacter(s){return i.mightProducePrintableCharacter(s)}},smoothScrolling:!!t.getValue(Fn),mouseWheelScrollSensitivity:t.getValue(oi),fastScrollSensitivity:t.getValue(ri),multipleSelectionController:e.multipleSelectionController??o.add(new Em(t)),keyboardNavigationEventFilter:ES(i),scrollByPage:!!t.getValue(On)},o]}var cc=class extends Tt{contextKeyService;listSupportsMultiSelect;listHasSelectionOrFocus;listDoubleSelection;listMultiSelection;horizontalScrolling;_useAltAsMultipleSelectionModifier;navigator;get onDidOpen(){return this.navigator.onDidOpen}constructor(e,t,i,o,r,s,a,l,d){let u=typeof r.horizontalScrolling<"u"?r.horizontalScrolling:!!l.getValue(un),[h,m]=d.invokeFunction(_c,r);super(e,t,i,o,{keyboardSupport:!1,...h,horizontalScrolling:u}),this.disposables.add(m),this.contextKeyService=kc(s,this),this.disposables.add(Dc(this.contextKeyService,this)),this.listSupportsMultiSelect=wc.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(r.multipleSelectionSupport!==!1),Ec.bindTo(this.contextKeyService).set(!!r.selectionNavigation),this.listHasSelectionOrFocus=_m.bindTo(this.contextKeyService),this.listDoubleSelection=Cm.bindTo(this.contextKeyService),this.listMultiSelection=Lm.bindTo(this.contextKeyService),this.horizontalScrolling=r.horizontalScrolling,this._useAltAsMultipleSelectionModifier=si(l),this.disposables.add(this.contextKeyService),this.disposables.add(a.register(this)),this.updateStyles(r.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{let w=this.getSelection(),f=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(w.length>0||f.length>0),this.listMultiSelection.set(w.length>1),this.listDoubleSelection.set(w.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{let w=this.getSelection(),f=this.getFocus();this.listHasSelectionOrFocus.set(w.length>0||f.length>0)})),this.disposables.add(l.onDidChangeConfiguration(w=>{w.affectsConfiguration(Yo)&&(this._useAltAsMultipleSelectionModifier=si(l));let f={};if(w.affectsConfiguration(un)&&this.horizontalScrolling===void 0){let x=!!l.getValue(un);f={...f,horizontalScrolling:x}}if(w.affectsConfiguration(On)){let x=!!l.getValue(On);f={...f,scrollByPage:x}}if(w.affectsConfiguration(Fn)){let x=!!l.getValue(Fn);f={...f,smoothScrolling:x}}if(w.affectsConfiguration(oi)){let x=l.getValue(oi);f={...f,mouseWheelScrollSensitivity:x}}if(w.affectsConfiguration(ri)){let x=l.getValue(ri);f={...f,fastScrollSensitivity:x}}Object.keys(f).length>0&&this.updateOptions(f)})),this.navigator=new Sc(this,{configurationService:l,...r}),this.disposables.add(this.navigator)}updateOptions(e){super.updateOptions(e),e.overrideStyles!==void 0&&this.updateStyles(e.overrideStyles),e.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyles(e){this.style(e?Vo(e):Gr)}get useAltAsMultipleSelectionModifier(){return this._useAltAsMultipleSelectionModifier}};cc=ie([oe(5,At),oe(6,Di),oe(7,_t),oe(8,St)],cc);var uc=class extends Wd{contextKeyService;disposables;listSupportsMultiSelect;_useAltAsMultipleSelectionModifier;horizontalScrolling;navigator;get onDidOpen(){return this.navigator.onDidOpen}constructor(e,t,i,o,r,s,a,l,d){let u=typeof r.horizontalScrolling<"u"?r.horizontalScrolling:!!l.getValue(un),[h,m]=d.invokeFunction(_c,r);super(e,t,i,o,{keyboardSupport:!1,...h,horizontalScrolling:u}),this.disposables=new q,this.disposables.add(m),this.contextKeyService=kc(s,this),this.disposables.add(Dc(this.contextKeyService,this.widget)),this.horizontalScrolling=r.horizontalScrolling,this.listSupportsMultiSelect=wc.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(r.multipleSelectionSupport!==!1),Ec.bindTo(this.contextKeyService).set(!!r.selectionNavigation),this._useAltAsMultipleSelectionModifier=si(l),this.disposables.add(this.contextKeyService),this.disposables.add(a.register(this)),this.updateStyles(r.overrideStyles),this.disposables.add(l.onDidChangeConfiguration(w=>{w.affectsConfiguration(Yo)&&(this._useAltAsMultipleSelectionModifier=si(l));let f={};if(w.affectsConfiguration(un)&&this.horizontalScrolling===void 0){let x=!!l.getValue(un);f={...f,horizontalScrolling:x}}if(w.affectsConfiguration(On)){let x=!!l.getValue(On);f={...f,scrollByPage:x}}if(w.affectsConfiguration(Fn)){let x=!!l.getValue(Fn);f={...f,smoothScrolling:x}}if(w.affectsConfiguration(oi)){let x=l.getValue(oi);f={...f,mouseWheelScrollSensitivity:x}}if(w.affectsConfiguration(ri)){let x=l.getValue(ri);f={...f,fastScrollSensitivity:x}}Object.keys(f).length>0&&this.updateOptions(f)})),this.navigator=new Sc(this,{configurationService:l,...r}),this.disposables.add(this.navigator)}updateOptions(e){super.updateOptions(e),e.overrideStyles!==void 0&&this.updateStyles(e.overrideStyles),e.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyles(e){this.style(e?Vo(e):Gr)}get useAltAsMultipleSelectionModifier(){return this._useAltAsMultipleSelectionModifier}dispose(){this.disposables.dispose(),super.dispose()}};uc=ie([oe(5,At),oe(6,Di),oe(7,_t),oe(8,St)],uc);var hc=class extends Qd{contextKeyService;listSupportsMultiSelect;listHasSelectionOrFocus;listDoubleSelection;listMultiSelection;horizontalScrolling;_useAltAsMultipleSelectionModifier;navigator;get onDidOpen(){return this.navigator.onDidOpen}constructor(e,t,i,o,r,s,a,l,d,u){let h=typeof s.horizontalScrolling<"u"?s.horizontalScrolling:!!d.getValue(un),[m,y]=u.invokeFunction(_c,s);super(e,t,i,o,r,{keyboardSupport:!1,...m,horizontalScrolling:h}),this.disposables.add(y),this.contextKeyService=kc(a,this),this.disposables.add(Dc(this.contextKeyService,this)),this.listSupportsMultiSelect=wc.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(s.multipleSelectionSupport!==!1),Ec.bindTo(this.contextKeyService).set(!!s.selectionNavigation),this.listHasSelectionOrFocus=_m.bindTo(this.contextKeyService),this.listDoubleSelection=Cm.bindTo(this.contextKeyService),this.listMultiSelection=Lm.bindTo(this.contextKeyService),this.horizontalScrolling=s.horizontalScrolling,this._useAltAsMultipleSelectionModifier=si(d),this.disposables.add(this.contextKeyService),this.disposables.add(l.register(this)),this.updateStyles(s.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{let f=this.getSelection(),x=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(f.length>0||x.length>0),this.listMultiSelection.set(f.length>1),this.listDoubleSelection.set(f.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{let f=this.getSelection(),x=this.getFocus();this.listHasSelectionOrFocus.set(f.length>0||x.length>0)})),this.disposables.add(d.onDidChangeConfiguration(f=>{f.affectsConfiguration(Yo)&&(this._useAltAsMultipleSelectionModifier=si(d));let x={};if(f.affectsConfiguration(un)&&this.horizontalScrolling===void 0){let L=!!d.getValue(un);x={...x,horizontalScrolling:L}}if(f.affectsConfiguration(On)){let L=!!d.getValue(On);x={...x,scrollByPage:L}}if(f.affectsConfiguration(Fn)){let L=!!d.getValue(Fn);x={...x,smoothScrolling:L}}if(f.affectsConfiguration(oi)){let L=d.getValue(oi);x={...x,mouseWheelScrollSensitivity:L}}if(f.affectsConfiguration(ri)){let L=d.getValue(ri);x={...x,fastScrollSensitivity:L}}Object.keys(x).length>0&&this.updateOptions(x)})),this.navigator=new km(this,{configurationService:d,...s}),this.disposables.add(this.navigator)}updateOptions(e){super.updateOptions(e),e.overrideStyles!==void 0&&this.updateStyles(e.overrideStyles),e.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyles(e){this.style(e?Vo(e):Gr)}get useAltAsMultipleSelectionModifier(){return this._useAltAsMultipleSelectionModifier}dispose(){this.disposables.dispose(),super.dispose()}};hc=ie([oe(6,At),oe(7,Di),oe(8,_t),oe(9,St)],hc);var Ia=class extends V{constructor(t,i){super();this.widget=t;this._register(_.filter(this.widget.onDidChangeSelection,o=>jn(o.browserEvent))(o=>this.onSelectionFromKeyboard(o))),this._register(this.widget.onPointer(o=>this.onPointer(o.element,o.browserEvent))),this._register(this.widget.onMouseDblClick(o=>this.onMouseDblClick(o.element,o.browserEvent))),typeof i?.openOnSingleClick!="boolean"&&i?.configurationService?(this.openOnSingleClick=i?.configurationService.getValue(bc)!=="doubleClick",this._register(i?.configurationService.onDidChangeConfiguration(o=>{o.affectsConfiguration(bc)&&(this.openOnSingleClick=i?.configurationService.getValue(bc)!=="doubleClick")}))):this.openOnSingleClick=i?.openOnSingleClick??!0}openOnSingleClick;_onDidOpen=this._register(new k);onDidOpen=this._onDidOpen.event;onSelectionFromKeyboard(t){if(t.elements.length!==1)return;let i=t.browserEvent,o=typeof i.preserveFocus=="boolean"?i.preserveFocus:!0,r=typeof i.pinned=="boolean"?i.pinned:!o;this._open(this.getSelectedElement(),o,r,!1,t.browserEvent)}onPointer(t,i){if(!this.openOnSingleClick||i.detail===2)return;let r=i.button===1,s=!0,a=r,l=i.ctrlKey||i.metaKey||i.altKey;this._open(t,s,a,l,i)}onMouseDblClick(t,i){if(!i)return;let o=i.target;if(o.classList.contains("monaco-tl-twistie")||o.classList.contains("monaco-icon-label")&&o.classList.contains("folder-icon")&&i.offsetX<16)return;let s=!1,a=!0,l=i.ctrlKey||i.metaKey||i.altKey;this._open(t,s,a,l,i)}_open(t,i,o,r,s){t&&this._onDidOpen.fire({editorOptions:{preserveFocus:i,pinned:o,revealIfVisible:!0},sideBySide:r,element:t,browserEvent:s})}},Sc=class extends Ia{widget;constructor(e,t){super(e,t),this.widget=e}getSelectedElement(){return this.widget.getSelectedElements()[0]}},km=class extends Ia{constructor(e,t){super(e,t)}getSelectedElement(){return this.widget.getSelectedElements()[0]}},Dm=class extends Ia{constructor(e,t){super(e,t)}getSelectedElement(){return this.widget.getSelection()[0]??void 0}};function ES(n){let e=!1;return t=>{if(t.toKeyCodeChord().isModifierKey())return!1;if(e)return e=!1,!1;let i=n.softDispatch(t,t.target);return i.kind===1?(e=!0,!1):(e=!1,i.kind===0)}}var Xr=class extends qo{internals;get contextKeyService(){return this.internals.contextKeyService}get useAltAsMultipleSelectionModifier(){return this.internals.useAltAsMultipleSelectionModifier}get onDidOpen(){return this.internals.onDidOpen}constructor(e,t,i,o,r,s,a,l,d){let{options:u,getTypeNavigationMode:h,disposable:m}=s.invokeFunction(xa,r);super(e,t,i,o,u),this.disposables.add(m),this.internals=new ki(this,r,h,r.overrideStyles,a,l,d),this.disposables.add(this.internals)}updateOptions(e){super.updateOptions(e),this.internals.updateOptions(e)}};Xr=ie([oe(5,St),oe(6,At),oe(7,Di),oe(8,_t)],Xr);var pc=class extends Yr{internals;get contextKeyService(){return this.internals.contextKeyService}get useAltAsMultipleSelectionModifier(){return this.internals.useAltAsMultipleSelectionModifier}get onDidOpen(){return this.internals.onDidOpen}constructor(e,t,i,o,r,s,a,l,d){let{options:u,getTypeNavigationMode:h,disposable:m}=s.invokeFunction(xa,r);super(e,t,i,o,u),this.disposables.add(m),this.internals=new ki(this,r,h,r.overrideStyles,a,l,d),this.disposables.add(this.internals)}updateOptions(e={}){super.updateOptions(e),e.overrideStyles&&this.internals.updateStyleOverrides(e.overrideStyles),this.internals.updateOptions(e)}};pc=ie([oe(5,St),oe(6,At),oe(7,Di),oe(8,_t)],pc);var mc=class extends tc{internals;get contextKeyService(){return this.internals.contextKeyService}get useAltAsMultipleSelectionModifier(){return this.internals.useAltAsMultipleSelectionModifier}get onDidOpen(){return this.internals.onDidOpen}constructor(e,t,i,o,r,s,a,l,d,u){let{options:h,getTypeNavigationMode:m,disposable:y}=a.invokeFunction(xa,s);super(e,t,i,o,r,h),this.disposables.add(y),this.internals=new ki(this,s,m,s.overrideStyles,l,d,u),this.disposables.add(this.internals)}updateOptions(e={}){super.updateOptions(e),e.overrideStyles!==void 0&&this.internals.updateStyleOverrides(e.overrideStyles),this.internals.updateOptions(e)}};mc=ie([oe(6,St),oe(7,At),oe(8,Di),oe(9,_t)],mc);var fc=class extends ma{internals;get contextKeyService(){return this.internals.contextKeyService}get useAltAsMultipleSelectionModifier(){return this.internals.useAltAsMultipleSelectionModifier}get onDidOpen(){return this.internals.onDidOpen}constructor(e,t,i,o,r,s,a,l,d,u){let{options:h,getTypeNavigationMode:m,disposable:y}=a.invokeFunction(xa,s);super(e,t,i,o,r,h),this.disposables.add(y),this.internals=new ki(this,s,m,s.overrideStyles,l,d,u),this.disposables.add(this.internals)}updateOptions(e={}){super.updateOptions(e),e.overrideStyles&&this.internals.updateStyleOverrides(e.overrideStyles),this.internals.updateOptions(e)}};fc=ie([oe(6,St),oe(7,At),oe(8,Di),oe(9,_t)],fc);var gc=class extends ec{internals;get contextKeyService(){return this.internals.contextKeyService}get useAltAsMultipleSelectionModifier(){return this.internals.useAltAsMultipleSelectionModifier}get onDidOpen(){return this.internals.onDidOpen}constructor(e,t,i,o,r,s,a,l,d,u,h){let{options:m,getTypeNavigationMode:y,disposable:w}=l.invokeFunction(xa,a);super(e,t,i,o,r,s,m),this.disposables.add(w),this.internals=new ki(this,a,y,a.overrideStyles,d,u,h),this.disposables.add(this.internals)}updateOptions(e){super.updateOptions(e),this.internals.updateOptions(e)}};gc=ie([oe(7,St),oe(8,At),oe(9,Di),oe(10,_t)],gc);function jy(n){let e=n.getValue(Am);if(e==="highlight")return 0;if(e==="filter")return 1;let t=n.getValue(vc);if(t==="simple"||t==="highlight")return 0;if(t==="filter")return 1}function Yy(n){let e=n.getValue(Nm);if(e==="fuzzy")return 0;if(e==="contiguous")return 1}function xa(n,e){let t=n.get(_t),i=n.get(Vy),o=n.get(At),r=n.get(St),s=()=>{let m=o.getContextKeyValue(Gy);if(m==="automatic")return 0;if(m==="trigger")return 1;if(o.getContextKeyValue(Qy)===!1)return 1;let w=t.getValue(Mm);if(w==="automatic")return 0;if(w==="trigger")return 1},a=e.horizontalScrolling!==void 0?e.horizontalScrolling:!!t.getValue(un),[l,d]=r.invokeFunction(_c,e),u=e.paddingBottom,h=e.renderIndentGuides!==void 0?e.renderIndentGuides:t.getValue(yc);return{getTypeNavigationMode:s,disposable:d,options:{keyboardSupport:!1,...l,indent:typeof t.getValue(Ta)=="number"?t.getValue(Ta):void 0,renderIndentGuides:h,smoothScrolling:!!t.getValue(Fn),defaultFindMode:jy(t),defaultFindMatchType:Yy(t),horizontalScrolling:a,scrollByPage:!!t.getValue(On),paddingBottom:u,hideTwistiesOfChildlessElements:e.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:e.expandOnlyOnTwistieClick??t.getValue(Tc)==="doubleClick",contextViewProvider:i,findWidgetStyles:Dy,enableStickyScroll:!!t.getValue(Ic),stickyScrollMaxItemCount:Number(t.getValue(xc))}}}var ki=class{constructor(e,t,i,o,r,s,a){this.tree=e;this.contextKeyService=kc(r,e),this.disposables.push(Dc(this.contextKeyService,e)),this.listSupportsMultiSelect=wc.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(t.multipleSelectionSupport!==!1),Ec.bindTo(this.contextKeyService).set(!!t.selectionNavigation),this.listSupportFindWidget=yS.bindTo(this.contextKeyService),this.listSupportFindWidget.set(t.findWidgetEnabled??!0),this.hasSelectionOrFocus=_m.bindTo(this.contextKeyService),this.hasDoubleSelection=Cm.bindTo(this.contextKeyService),this.hasMultiSelection=Lm.bindTo(this.contextKeyService),this.treeElementCanCollapse=TS.bindTo(this.contextKeyService),this.treeElementHasParent=IS.bindTo(this.contextKeyService),this.treeElementCanExpand=xS.bindTo(this.contextKeyService),this.treeElementHasChild=SS.bindTo(this.contextKeyService),this.treeFindOpen=wS.bindTo(this.contextKeyService),this.treeStickyScrollFocused=$y.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=si(a),this.updateStyleOverrides(o);let d=()=>{let h=e.getFocus()[0];if(!h)return;let m=e.getNode(h);this.treeElementCanCollapse.set(m.collapsible&&!m.collapsed),this.treeElementHasParent.set(!!e.getParentElement(h)),this.treeElementCanExpand.set(m.collapsible&&m.collapsed),this.treeElementHasChild.set(!!e.getFirstElementChild(h))},u=new Set;u.add(Gy),u.add(Qy),this.disposables.push(this.contextKeyService,s.register(e),e.onDidChangeSelection(()=>{let h=e.getSelection(),m=e.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.hasSelectionOrFocus.set(h.length>0||m.length>0),this.hasMultiSelection.set(h.length>1),this.hasDoubleSelection.set(h.length===2)})}),e.onDidChangeFocus(()=>{let h=e.getSelection(),m=e.getFocus();this.hasSelectionOrFocus.set(h.length>0||m.length>0),d()}),e.onDidChangeCollapseState(d),e.onDidChangeModel(d),e.onDidChangeFindOpenState(h=>this.treeFindOpen.set(h)),e.onDidChangeStickyScrollFocused(h=>this.treeStickyScrollFocused.set(h)),a.onDidChangeConfiguration(h=>{let m={};if(h.affectsConfiguration(Yo)&&(this._useAltAsMultipleSelectionModifier=si(a)),h.affectsConfiguration(Ta)){let y=a.getValue(Ta);m={...m,indent:y}}if(h.affectsConfiguration(yc)&&t.renderIndentGuides===void 0){let y=a.getValue(yc);m={...m,renderIndentGuides:y}}if(h.affectsConfiguration(Fn)){let y=!!a.getValue(Fn);m={...m,smoothScrolling:y}}if(h.affectsConfiguration(Am)||h.affectsConfiguration(vc)){let y=jy(a);m={...m,defaultFindMode:y}}if(h.affectsConfiguration(Mm)||h.affectsConfiguration(vc)){let y=i();m={...m,typeNavigationMode:y}}if(h.affectsConfiguration(Nm)){let y=Yy(a);m={...m,defaultFindMatchType:y}}if(h.affectsConfiguration(un)&&t.horizontalScrolling===void 0){let y=!!a.getValue(un);m={...m,horizontalScrolling:y}}if(h.affectsConfiguration(On)){let y=!!a.getValue(On);m={...m,scrollByPage:y}}if(h.affectsConfiguration(Tc)&&t.expandOnlyOnTwistieClick===void 0&&(m={...m,expandOnlyOnTwistieClick:a.getValue(Tc)==="doubleClick"}),h.affectsConfiguration(Ic)){let y=a.getValue(Ic);m={...m,enableStickyScroll:y}}if(h.affectsConfiguration(xc)){let y=Math.max(1,a.getValue(xc));m={...m,stickyScrollMaxItemCount:y}}if(h.affectsConfiguration(oi)){let y=a.getValue(oi);m={...m,mouseWheelScrollSensitivity:y}}if(h.affectsConfiguration(ri)){let y=a.getValue(ri);m={...m,fastScrollSensitivity:y}}Object.keys(m).length>0&&e.updateOptions(m)}),this.contextKeyService.onDidChangeContext(h=>{h.affectsSome(u)&&e.updateOptions({typeNavigationMode:i()})})),this.navigator=new Dm(e,{configurationService:a,...t}),this.disposables.push(this.navigator)}contextKeyService;listSupportsMultiSelect;listSupportFindWidget;hasSelectionOrFocus;hasDoubleSelection;hasMultiSelection;treeElementCanCollapse;treeElementHasParent;treeElementCanExpand;treeElementHasChild;treeFindOpen;treeStickyScrollFocused;_useAltAsMultipleSelectionModifier;disposables=[];navigator;get onDidOpen(){return this.navigator.onDidOpen}get useAltAsMultipleSelectionModifier(){return this._useAltAsMultipleSelectionModifier}updateOptions(e){e.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyleOverrides(e){this.tree.style(e?Vo(e):Gr)}dispose(){this.disposables=$e(this.disposables)}};ki=ie([oe(4,At),oe(5,Di),oe(6,_t)],ki);var kS=ut.as(Im.Configuration);kS.registerConfiguration({id:"workbench",order:7,title:p("workbenchConfigurationTitle","Workbench"),type:"object",properties:{[Yo]:{type:"string",enum:["ctrlCmd","alt"],markdownEnumDescriptions:[p("multiSelectModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),p("multiSelectModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],default:"ctrlCmd",description:p({key:"multiSelectModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add an item in trees and lists to a multi-selection with the mouse (for example in the explorer, open editors and scm view). The 'Open to Side' mouse gestures - if supported - will adapt such that they do not conflict with the multiselect modifier.")},[bc]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:p({key:"openModeModifier",comment:["`singleClick` and `doubleClick` refers to a value the setting can take and should not be localized."]},"Controls how to open items in trees and lists using the mouse (if supported). Note that some trees and lists might choose to ignore this setting if it is not applicable.")},[un]:{type:"boolean",default:!1,description:p("horizontalScrolling setting","Controls whether lists and trees support horizontal scrolling in the workbench. Warning: turning on this setting has a performance implication.")},[On]:{type:"boolean",default:!1,description:p("list.scrollByPage","Controls whether clicks in the scrollbar scroll page by page.")},[Ta]:{type:"number",default:8,minimum:4,maximum:40,description:p("tree indent setting","Controls tree indentation in pixels.")},[yc]:{type:"string",enum:["none","onHover","always"],default:"onHover",description:p("render tree indent guides","Controls whether the tree should render indent guides.")},[Fn]:{type:"boolean",default:!1,description:p("list smoothScrolling setting","Controls whether lists and trees have smooth scrolling.")},[oi]:{type:"number",default:1,markdownDescription:p("Mouse Wheel Scroll Sensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")},[ri]:{type:"number",default:5,markdownDescription:p("Fast Scroll Sensitivity","Scrolling speed multiplier when pressing `Alt`.")},[Am]:{type:"string",enum:["highlight","filter"],enumDescriptions:[p("defaultFindModeSettingKey.highlight","Highlight elements when searching. Further up and down navigation will traverse only the highlighted elements."),p("defaultFindModeSettingKey.filter","Filter elements when searching.")],default:"highlight",description:p("defaultFindModeSettingKey","Controls the default find mode for lists and trees in the workbench.")},[vc]:{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[p("keyboardNavigationSettingKey.simple","Simple keyboard navigation focuses elements which match the keyboard input. Matching is done only on prefixes."),p("keyboardNavigationSettingKey.highlight","Highlight keyboard navigation highlights elements which match the keyboard input. Further up and down navigation will traverse only the highlighted elements."),p("keyboardNavigationSettingKey.filter","Filter keyboard navigation will filter out and hide all the elements which do not match the keyboard input.")],default:"highlight",description:p("keyboardNavigationSettingKey","Controls the keyboard navigation style for lists and trees in the workbench. Can be simple, highlight and filter."),deprecated:!0,deprecationMessage:p("keyboardNavigationSettingKeyDeprecated","Please use 'workbench.list.defaultFindMode' and	'workbench.list.typeNavigationMode' instead.")},[Nm]:{type:"string",enum:["fuzzy","contiguous"],enumDescriptions:[p("defaultFindMatchTypeSettingKey.fuzzy","Use fuzzy matching when searching."),p("defaultFindMatchTypeSettingKey.contiguous","Use contiguous matching when searching.")],default:"fuzzy",description:p("defaultFindMatchTypeSettingKey","Controls the type of matching used when searching lists and trees in the workbench.")},[Tc]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:p("expand mode","Controls how tree folders are expanded when clicking the folder names. Note that some trees and lists might choose to ignore this setting if it is not applicable.")},[Ic]:{type:"boolean",default:!0,description:p("sticky scroll","Controls whether sticky scrolling is enabled in trees.")},[xc]:{type:"number",minimum:1,default:7,markdownDescription:p("sticky scroll maximum items","Controls the number of sticky elements displayed in the tree when {0} is enabled.","`#workbench.tree.enableStickyScroll#`")},[Mm]:{type:"string",enum:["automatic","trigger"],default:"automatic",markdownDescription:p("typeNavigationMode2","Controls how type navigation works in lists and trees in the workbench. When set to `trigger`, type navigation begins once the `list.triggerTypeNavigation` command is run.")}}});var ho=class n extends V{constructor(t,i){super();this.options=i;this.supportIcons=i?.supportIcons??!1,this.domNode=G(t,ee("span.monaco-highlighted-label"))}domNode;text="";title="";highlights=[];supportIcons;didEverRender=!1;customHover;get element(){return this.domNode}set(t,i=[],o="",r){t||(t=""),r&&(t=n.escapeNewLines(t,i)),!(this.didEverRender&&this.text===t&&this.title===o&&on(this.highlights,i))&&(this.text=t,this.title=o,this.highlights=i,this.render())}render(){let t=[],i=0;for(let o of this.highlights){if(o.end===o.start)continue;if(i<o.start){let a=this.text.substring(i,o.start);this.supportIcons?t.push(...ti(a)):t.push(a),i=o.start}let r=this.text.substring(i,o.end),s=ee("span.highlight",void 0,...this.supportIcons?ti(r):[r]);o.extraClasses&&s.classList.add(...o.extraClasses),t.push(s),i=o.end}if(i<this.text.length){let o=this.text.substring(i);this.supportIcons?t.push(...ti(o)):t.push(o)}if(Et(this.domNode,...t),this.options?.hoverDelegate?.showNativeHover)this.domNode.title=this.title;else if(!this.customHover&&this.title!==""){let o=this.options?.hoverDelegate??Ze("mouse");this.customHover=this._register(Dt().setupManagedHover(o,this.domNode,this.title))}else this.customHover&&this.customHover.update(this.title);this.didEverRender=!0}static escapeNewLines(t,i){let o=0,r=0;return t.replace(/\r\n|\r|\n/g,(s,a)=>{r=s===`\r
`?-1:0,a+=o;for(let l of i)l.end<=a||(l.start>=a&&(l.start+=r),l.end>=a&&(l.end+=r));return o+=r,"\u23CE"})}};var Xo=class{constructor(e){this._element=e}disposed;_textContent;_classNames;_empty;get element(){return this._element}set textContent(e){this.disposed||e===this._textContent||(this._textContent=e,this._element.textContent=e)}set classNames(e){this.disposed||on(e,this._classNames)||(this._classNames=e,this._element.classList.value="",this._element.classList.add(...e))}set empty(e){this.disposed||e===this._empty||(this._empty=e,this._element.style.marginLeft=e?"0":"")}dispose(){this.disposed=!0}},Sa=class extends V{creationOptions;domNode;nameContainer;nameNode;descriptionNode;suffixNode;labelContainer;hoverDelegate;customHovers=new Map;constructor(e,t){super(),this.creationOptions=t,this.domNode=this._register(new Xo(G(e,ee(".monaco-icon-label")))),this.labelContainer=G(this.domNode.element,ee(".monaco-icon-label-container")),this.nameContainer=G(this.labelContainer,ee("span.monaco-icon-name-container")),t?.supportHighlights||t?.supportIcons?this.nameNode=this._register(new Fm(this.nameContainer,!!t.supportIcons)):this.nameNode=new Om(this.nameContainer),this.hoverDelegate=t?.hoverDelegate??Ze("mouse")}get element(){return this.domNode.element}setLabel(e,t,i){let o=["monaco-icon-label"],r=["monaco-icon-label-container"],s="";i&&(i.extraClasses&&o.push(...i.extraClasses),i.italic&&o.push("italic"),i.strikethrough&&o.push("strikethrough"),i.disabledCommand&&r.push("disabled"),i.title&&(typeof i.title=="string"?s+=i.title:s+=e));let a=this.domNode.element.querySelector(".monaco-icon-label-iconpath");if(i?.iconPath){let l;!a||!Qe(a)?(l=ee(".monaco-icon-label-iconpath"),this.domNode.element.prepend(l)):l=a,l.style.backgroundImage=No(i?.iconPath)}else a&&a.remove();if(this.domNode.classNames=o,this.domNode.element.setAttribute("aria-label",s),this.labelContainer.classList.value="",this.labelContainer.classList.add(...r),this.setupHover(i?.descriptionTitle?this.labelContainer:this.element,i?.title),this.nameNode.setLabel(e,i),t||this.descriptionNode){let l=this.getOrCreateDescriptionNode();l instanceof ho?(l.set(t||"",i?i.descriptionMatches:void 0,void 0,i?.labelEscapeNewLines),this.setupHover(l.element,i?.descriptionTitle)):(l.textContent=t&&i?.labelEscapeNewLines?ho.escapeNewLines(t,[]):t||"",this.setupHover(l.element,i?.descriptionTitle||""),l.empty=!t)}if(i?.suffix||this.suffixNode){let l=this.getOrCreateSuffixNode();l.textContent=i?.suffix??""}}setupHover(e,t){let i=this.customHovers.get(e);if(i&&(i.dispose(),this.customHovers.delete(e)),!t){e.removeAttribute("title");return}if(this.hoverDelegate.showNativeHover){let r=function(s,a){zt(a)?s.title=fh(a):a?.markdownNotSupportedFallback?s.title=a.markdownNotSupportedFallback:s.removeAttribute("title")};var o=r;r(e,t)}else{let r=Dt().setupManagedHover(this.hoverDelegate,e,t);r&&this.customHovers.set(e,r)}}dispose(){super.dispose();for(let e of this.customHovers.values())e.dispose();this.customHovers.clear()}getOrCreateSuffixNode(){if(!this.suffixNode){let e=this._register(new Xo(Rg(this.nameContainer,ee("span.monaco-icon-suffix-container"))));this.suffixNode=this._register(new Xo(G(e.element,ee("span.label-suffix"))))}return this.suffixNode}getOrCreateDescriptionNode(){if(!this.descriptionNode){let e=this._register(new Xo(G(this.labelContainer,ee("span.monaco-icon-description-container"))));this.creationOptions?.supportDescriptionHighlights?this.descriptionNode=this._register(new ho(G(e.element,ee("span.label-description")),{supportIcons:!!this.creationOptions.supportIcons})):this.descriptionNode=this._register(new Xo(G(e.element,ee("span.label-description"))))}return this.descriptionNode}},Om=class{constructor(e){this.container=e}label=void 0;singleLabel=void 0;options;setLabel(e,t){if(!(this.label===e&&on(this.options,t)))if(this.label=e,this.options=t,typeof e=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=G(this.container,ee("a.label-name",{id:t?.domId}))),this.singleLabel.textContent=e;else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;for(let i=0;i<e.length;i++){let o=e[i],r=t?.domId&&`${t?.domId}_${i}`;G(this.container,ee("a.label-name",{id:r,"data-icon-label-count":e.length,"data-icon-label-index":i,role:"treeitem"},o)),i<e.length-1&&G(this.container,ee("span.label-separator",void 0,t?.separator||"/"))}}}};function DS(n,e,t){if(!t)return;let i=0;return n.map(o=>{let r={start:i,end:i+o.length},s=t.map(a=>gt.intersect(r,a)).filter(a=>!gt.isEmpty(a)).map(({start:a,end:l})=>({start:a-i,end:l-i}));return i=r.end+e.length,s})}var Fm=class extends V{constructor(t,i){super();this.container=t;this.supportIcons=i}label=void 0;singleLabel=void 0;options;setLabel(t,i){if(!(this.label===t&&on(this.options,i)))if(this.label=t,this.options=i,typeof t=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=this._register(new ho(G(this.container,ee("a.label-name",{id:i?.domId})),{supportIcons:this.supportIcons}))),this.singleLabel.set(t,i?.matches,void 0,i?.labelEscapeNewLines);else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;let o=i?.separator||"/",r=DS(t,o,i?.matches);for(let s=0;s<t.length;s++){let a=t[s],l=r?r[s]:void 0,d=i?.domId&&`${i?.domId}_${s}`,u=ee("a.label-name",{id:d,"data-icon-label-count":t.length,"data-icon-label-index":s,role:"treeitem"});this._register(new ho(G(this.container,u),{supportIcons:this.supportIcons})).set(a,l,void 0,i?.labelEscapeNewLines),s<t.length-1&&G(u,ee("span.label-separator",void 0,o))}}}};var Xy=Oe("accessibilityService");var Gne=new Ae("accessibilityModeEnabled",!1);var Rn=ee,Cc=class{constructor(e,t,i){this.index=e;this.hasCheckbox=t;this._init=new mt(()=>{let o=i.label??"",r=yr(o).text.trim(),s=i.ariaLabel||[o,this.saneDescription,this.saneDetail].map(a=>sb(a)).filter(a=>!!a).join(", ");return{saneLabel:o,saneSortLabel:r,saneAriaLabel:s}}),this._saneDescription=i.description,this._saneTooltip=i.tooltip}_init;get saneLabel(){return this._init.value.saneLabel}get saneSortLabel(){return this._init.value.saneSortLabel}get saneAriaLabel(){return this._init.value.saneAriaLabel}_element;get element(){return this._element}set element(e){this._element=e}_hidden=!1;get hidden(){return this._hidden}set hidden(e){this._hidden=e}_saneDescription;get saneDescription(){return this._saneDescription}set saneDescription(e){this._saneDescription=e}_saneDetail;get saneDetail(){return this._saneDetail}set saneDetail(e){this._saneDetail=e}_saneTooltip;get saneTooltip(){return this._saneTooltip}set saneTooltip(e){this._saneTooltip=e}_labelHighlights;get labelHighlights(){return this._labelHighlights}set labelHighlights(e){this._labelHighlights=e}_descriptionHighlights;get descriptionHighlights(){return this._descriptionHighlights}set descriptionHighlights(e){this._descriptionHighlights=e}_detailHighlights;get detailHighlights(){return this._detailHighlights}set detailHighlights(e){this._detailHighlights=e}},ot=class extends Cc{constructor(t,i,o,r,s,a){super(t,i,s);this.fireButtonTriggered=o;this._onChecked=r;this.item=s;this._separator=a;this.onChecked=i?_.map(_.filter(this._onChecked.event,l=>l.element===this),l=>l.checked):_.None,this._saneDetail=s.detail,this._labelHighlights=s.highlights?.label,this._descriptionHighlights=s.highlights?.description,this._detailHighlights=s.highlights?.detail}onChecked;get separator(){return this._separator}set separator(t){this._separator=t}_checked=!1;get checked(){return this._checked}set checked(t){t!==this._checked&&(this._checked=t,this._onChecked.fire({element:this,checked:t}))}get checkboxDisabled(){return!!this.item.disabled}};var _i=class extends Cc{constructor(t,i,o){super(t,!1,o);this.fireSeparatorButtonTriggered=i;this.separator=o}children=new Array;focusInsideSeparator=0},Rm=class{getHeight(e){return e instanceof _i?30:e.saneDetail?44:22}getTemplateId(e){return e instanceof ot?mo.ID:Ac.ID}},Pm=class{getWidgetAriaLabel(){return p("quickInput","Quick Input")}getAriaLabel(e){return e.separator?.label?`${e.saneAriaLabel}, ${e.separator.label}`:e.saneAriaLabel}getWidgetRole(){return"listbox"}getRole(e){return e.hasCheckbox?"checkbox":"option"}isChecked(e){if(!(!e.hasCheckbox||!(e instanceof ot)))return{get value(){return e.checked},onDidChange:t=>e.onChecked(()=>t())}}},Lc=class{constructor(e){this.hoverDelegate=e}renderTemplate(e){let t=Object.create(null);t.toDisposeElement=new q,t.toDisposeTemplate=new q,t.entry=G(e,Rn(".quick-input-list-entry"));let i=G(t.entry,Rn("label.quick-input-list-label"));t.toDisposeTemplate.add(ft(i,Z.CLICK,d=>{t.checkbox.offsetParent||d.preventDefault()})),t.checkbox=G(i,Rn("input.quick-input-list-checkbox")),t.checkbox.type="checkbox";let o=G(i,Rn(".quick-input-list-rows")),r=G(o,Rn(".quick-input-list-row")),s=G(o,Rn(".quick-input-list-row"));t.label=new Sa(r,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0,hoverDelegate:this.hoverDelegate}),t.toDisposeTemplate.add(t.label),t.icon=Pg(t.label.element,Rn(".quick-input-list-icon"));let a=G(r,Rn(".quick-input-list-entry-keybinding"));t.keybinding=new md(a,Ri),t.toDisposeTemplate.add(t.keybinding);let l=G(s,Rn(".quick-input-list-label-meta"));return t.detail=new Sa(l,{supportHighlights:!0,supportIcons:!0,hoverDelegate:this.hoverDelegate}),t.toDisposeTemplate.add(t.detail),t.separator=G(t.entry,Rn(".quick-input-list-separator")),t.actionBar=new tn(t.entry,this.hoverDelegate?{hoverDelegate:this.hoverDelegate}:void 0),t.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),t.toDisposeTemplate.add(t.actionBar),t}disposeTemplate(e){e.toDisposeElement.dispose(),e.toDisposeTemplate.dispose()}disposeElement(e,t,i){i.toDisposeElement.clear(),i.actionBar.clear()}},mo=class extends Lc{constructor(t,i){super(t);this.themeService=i}static ID="quickpickitem";_itemsWithSeparatorsFrequency=new Map;get templateId(){return mo.ID}renderTemplate(t){let i=super.renderTemplate(t);return i.toDisposeTemplate.add(ft(i.checkbox,Z.CHANGE,o=>{i.element.checked=i.checkbox.checked})),i}renderElement(t,i,o){let r=t.element;o.element=r,r.element=o.entry??void 0;let s=r.item;o.checkbox.checked=r.checked,o.toDisposeElement.add(r.onChecked(y=>o.checkbox.checked=y)),o.checkbox.disabled=r.checkboxDisabled;let{labelHighlights:a,descriptionHighlights:l,detailHighlights:d}=r;if(s.iconPath){let y=zb(this.themeService.getColorTheme().type)?s.iconPath.dark:s.iconPath.light??s.iconPath.dark,w=Ce.revive(y);o.icon.className="quick-input-list-icon",o.icon.style.backgroundImage=No(w)}else o.icon.style.backgroundImage="",o.icon.className=s.iconClass?`quick-input-list-icon ${s.iconClass}`:"";let u;!r.saneTooltip&&r.saneDescription&&(u={markdown:{value:r.saneDescription,supportThemeIcons:!0},markdownNotSupportedFallback:r.saneDescription});let h={matches:a||[],descriptionTitle:u,descriptionMatches:l||[],labelEscapeNewLines:!0};if(h.extraClasses=s.iconClasses,h.italic=s.italic,h.strikethrough=s.strikethrough,o.entry.classList.remove("quick-input-list-separator-as-item"),o.label.setLabel(r.saneLabel,r.saneDescription,h),o.keybinding.set(s.keybinding),r.saneDetail){let y;r.saneTooltip||(y={markdown:{value:r.saneDetail,supportThemeIcons:!0},markdownNotSupportedFallback:r.saneDetail}),o.detail.element.style.display="",o.detail.setLabel(r.saneDetail,void 0,{matches:d,title:y,labelEscapeNewLines:!0})}else o.detail.element.style.display="none";r.separator?.label?(o.separator.textContent=r.separator.label,o.separator.style.display="",this.addItemWithSeparator(r)):o.separator.style.display="none",o.entry.classList.toggle("quick-input-list-separator-border",!!r.separator);let m=s.buttons;m&&m.length?(o.actionBar.push(m.map((y,w)=>Wo(y,`id-${w}`,()=>r.fireButtonTriggered({button:y,item:r.item}))),{icon:!0,label:!1}),o.entry.classList.add("has-actions")):o.entry.classList.remove("has-actions")}disposeElement(t,i,o){this.removeItemWithSeparator(t.element),super.disposeElement(t,i,o)}isItemWithSeparatorVisible(t){return this._itemsWithSeparatorsFrequency.has(t)}addItemWithSeparator(t){this._itemsWithSeparatorsFrequency.set(t,(this._itemsWithSeparatorsFrequency.get(t)||0)+1)}removeItemWithSeparator(t){let i=this._itemsWithSeparatorsFrequency.get(t)||0;i>1?this._itemsWithSeparatorsFrequency.set(t,i-1):this._itemsWithSeparatorsFrequency.delete(t)}};mo=ie([oe(1,gd)],mo);var Ac=class n extends Lc{static ID="quickpickseparator";_visibleSeparatorsFrequency=new Map;get templateId(){return n.ID}get visibleSeparators(){return[...this._visibleSeparatorsFrequency.keys()]}isSeparatorVisible(e){return this._visibleSeparatorsFrequency.has(e)}renderTemplate(e){let t=super.renderTemplate(e);return t.checkbox.style.display="none",t}renderElement(e,t,i){let o=e.element;i.element=o,o.element=i.entry??void 0,o.element.classList.toggle("focus-inside",!!o.focusInsideSeparator);let r=o.separator,{labelHighlights:s,descriptionHighlights:a,detailHighlights:l}=o;i.icon.style.backgroundImage="",i.icon.className="";let d;!o.saneTooltip&&o.saneDescription&&(d={markdown:{value:o.saneDescription,supportThemeIcons:!0},markdownNotSupportedFallback:o.saneDescription});let u={matches:s||[],descriptionTitle:d,descriptionMatches:a||[],labelEscapeNewLines:!0};if(i.entry.classList.add("quick-input-list-separator-as-item"),i.label.setLabel(o.saneLabel,o.saneDescription,u),o.saneDetail){let m;o.saneTooltip||(m={markdown:{value:o.saneDetail,supportThemeIcons:!0},markdownNotSupportedFallback:o.saneDetail}),i.detail.element.style.display="",i.detail.setLabel(o.saneDetail,void 0,{matches:l,title:m,labelEscapeNewLines:!0})}else i.detail.element.style.display="none";i.separator.style.display="none",i.entry.classList.add("quick-input-list-separator-border");let h=r.buttons;h&&h.length?(i.actionBar.push(h.map((m,y)=>Wo(m,`id-${y}`,()=>o.fireSeparatorButtonTriggered({button:m,separator:o.separator}))),{icon:!0,label:!1}),i.entry.classList.add("has-actions")):i.entry.classList.remove("has-actions"),this.addSeparator(o)}disposeElement(e,t,i){this.removeSeparator(e.element),this.isSeparatorVisible(e.element)||e.element.element?.classList.remove("focus-inside"),super.disposeElement(e,t,i)}addSeparator(e){this._visibleSeparatorsFrequency.set(e,(this._visibleSeparatorsFrequency.get(e)||0)+1)}removeSeparator(e){let t=this._visibleSeparatorsFrequency.get(e)||0;t>1?this._visibleSeparatorsFrequency.set(e,t-1):this._visibleSeparatorsFrequency.delete(e)}},po=class extends V{constructor(t,i,o,r,s,a){super();this.parent=t;this.hoverDelegate=i;this.linkOpenerDelegate=o;this.accessibilityService=a;this._container=G(this.parent,Rn(".quick-input-list")),this._separatorRenderer=new Ac(i),this._itemRenderer=s.createInstance(mo,i),this._tree=this._register(s.createInstance(Xr,"QuickInput",this._container,new Rm,[this._itemRenderer,this._separatorRenderer],{filter:{filter(l){return l.hidden?0:l instanceof _i?2:1}},sorter:{compare:(l,d)=>{if(!this.sortByLabel||!this._lastQueryString)return 0;let u=this._lastQueryString.toLowerCase();return CS(l,d,u)}},accessibilityProvider:new Pm,setRowLineHeight:!1,multipleSelectionSupport:!1,hideTwistiesOfChildlessElements:!0,renderIndentGuides:"none",findWidgetEnabled:!1,indent:0,horizontalScrolling:!1,allowNonCollapsibleParents:!0,alwaysConsumeMouseWheel:!0})),this._tree.getHTMLElement().id=r,this._registerListeners()}_onKeyDown=new k;onKeyDown=this._onKeyDown.event;_onLeave=new k;onLeave=this._onLeave.event;_visibleCountObservable=_o("VisibleCount",0);onChangedVisibleCount=_.fromObservable(this._visibleCountObservable,this._store);_allVisibleCheckedObservable=_o("AllVisibleChecked",!1);onChangedAllVisibleChecked=_.fromObservable(this._allVisibleCheckedObservable,this._store);_checkedCountObservable=_o("CheckedCount",0);onChangedCheckedCount=_.fromObservable(this._checkedCountObservable,this._store);_checkedElementsObservable=cu({equalsFn:Ct},new Array);onChangedCheckedElements=_.fromObservable(this._checkedElementsObservable,this._store);_onButtonTriggered=new k;onButtonTriggered=this._onButtonTriggered.event;_onSeparatorButtonTriggered=new k;onSeparatorButtonTriggered=this._onSeparatorButtonTriggered.event;_elementChecked=new k;_elementCheckedEventBufferer=new fn;_hasCheckboxes=!1;_container;_tree;_separatorRenderer;_itemRenderer;_inputElements=new Array;_elementTree=new Array;_itemElements=new Array;_elementDisposable=this._register(new q);_lastHover;_lastQueryString;get onDidChangeFocus(){return _.map(this._tree.onDidChangeFocus,t=>t.elements.filter(i=>i instanceof ot).map(i=>i.item),this._store)}get onDidChangeSelection(){return _.map(this._tree.onDidChangeSelection,t=>({items:t.elements.filter(i=>i instanceof ot).map(i=>i.item),event:t.browserEvent}),this._store)}get displayed(){return this._container.style.display!=="none"}set displayed(t){this._container.style.display=t?"":"none"}get scrollTop(){return this._tree.scrollTop}set scrollTop(t){this._tree.scrollTop=t}get ariaLabel(){return this._tree.ariaLabel}set ariaLabel(t){this._tree.ariaLabel=t??""}set enabled(t){this._tree.getHTMLElement().style.pointerEvents=t?"":"none"}_matchOnDescription=!1;get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(t){this._matchOnDescription=t}_matchOnDetail=!1;get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(t){this._matchOnDetail=t}_matchOnLabel=!0;get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(t){this._matchOnLabel=t}_matchOnLabelMode="fuzzy";get matchOnLabelMode(){return this._matchOnLabelMode}set matchOnLabelMode(t){this._matchOnLabelMode=t}_matchOnMeta=!0;get matchOnMeta(){return this._matchOnMeta}set matchOnMeta(t){this._matchOnMeta=t}_sortByLabel=!0;get sortByLabel(){return this._sortByLabel}set sortByLabel(t){this._sortByLabel=t}_shouldLoop=!0;get shouldLoop(){return this._shouldLoop}set shouldLoop(t){this._shouldLoop=t}_registerListeners(){this._registerOnKeyDown(),this._registerOnContainerClick(),this._registerOnMouseMiddleClick(),this._registerOnTreeModelChanged(),this._registerOnElementChecked(),this._registerOnContextMenu(),this._registerHoverListeners(),this._registerSelectionChangeListener(),this._registerSeparatorActionShowingListeners()}_registerOnKeyDown(){this._register(this._tree.onKeyDown(t=>{let i=new Ne(t);switch(i.keyCode){case 10:this.toggleCheckbox();break}this._onKeyDown.fire(i)}))}_registerOnContainerClick(){this._register($(this._container,Z.CLICK,t=>{(t.x||t.y)&&this._onLeave.fire()}))}_registerOnMouseMiddleClick(){this._register($(this._container,Z.AUXCLICK,t=>{t.button===1&&this._onLeave.fire()}))}_registerOnTreeModelChanged(){this._register(this._tree.onDidChangeModel(()=>{let t=this._itemElements.filter(i=>!i.hidden).length;this._visibleCountObservable.set(t,void 0),this._hasCheckboxes&&this._updateCheckedObservables()}))}_registerOnElementChecked(){this._register(this._elementCheckedEventBufferer.wrapEvent(this._elementChecked.event,(t,i)=>i)(t=>this._updateCheckedObservables()))}_registerOnContextMenu(){this._register(this._tree.onContextMenu(t=>{t.element&&(t.browserEvent.preventDefault(),this._tree.setSelection([t.element]))}))}_registerHoverListeners(){let t=this._register(new vl(this.hoverDelegate.delay));this._register(this._tree.onMouseOver(async i=>{if(eh(i.browserEvent.target)){t.cancel();return}if(!(!eh(i.browserEvent.relatedTarget)&&ct(i.browserEvent.relatedTarget,i.element?.element)))try{await t.trigger(async()=>{i.element instanceof ot&&this.showHover(i.element)})}catch(o){if(!is(o))throw o}})),this._register(this._tree.onMouseOut(i=>{ct(i.browserEvent.relatedTarget,i.element?.element)||t.cancel()}))}_registerSeparatorActionShowingListeners(){this._register(this._tree.onDidChangeFocus(t=>{let i=t.elements[0]?this._tree.getParentElement(t.elements[0]):null;for(let o of this._separatorRenderer.visibleSeparators){let r=o===i;!!(o.focusInsideSeparator&2)!==r&&(r?o.focusInsideSeparator|=2:o.focusInsideSeparator&=-3,this._tree.rerender(o))}})),this._register(this._tree.onMouseOver(t=>{let i=t.element?this._tree.getParentElement(t.element):null;for(let o of this._separatorRenderer.visibleSeparators){if(o!==i)continue;!!(o.focusInsideSeparator&1)||(o.focusInsideSeparator|=1,this._tree.rerender(o))}})),this._register(this._tree.onMouseOut(t=>{let i=t.element?this._tree.getParentElement(t.element):null;for(let o of this._separatorRenderer.visibleSeparators){if(o!==i)continue;!!(o.focusInsideSeparator&1)&&(o.focusInsideSeparator&=-2,this._tree.rerender(o))}}))}_registerSelectionChangeListener(){this._register(this._tree.onDidChangeSelection(t=>{let i=t.elements.filter(o=>o instanceof ot);i.length!==t.elements.length&&(t.elements.length===1&&t.elements[0]instanceof _i&&(this._tree.setFocus([t.elements[0].children[0]]),this._tree.reveal(t.elements[0],0)),this._tree.setSelection(i))}))}setAllVisibleChecked(t){this._elementCheckedEventBufferer.bufferEvents(()=>{this._itemElements.forEach(i=>{!i.hidden&&!i.checkboxDisabled&&(i.checked=t)})})}setElements(t){this._elementDisposable.clear(),this._lastQueryString=void 0,this._inputElements=t,this._hasCheckboxes=this.parent.classList.contains("show-checkboxes");let i;this._itemElements=new Array,this._elementTree=t.reduce((o,r,s)=>{let a;if(r.type==="separator"){if(!r.buttons)return o;i=new _i(s,l=>this._onSeparatorButtonTriggered.fire(l),r),a=i}else{let l=s>0?t[s-1]:void 0,d;l&&l.type==="separator"&&!l.buttons&&(i=void 0,d=l);let u=new ot(s,this._hasCheckboxes,h=>this._onButtonTriggered.fire(h),this._elementChecked,r,d);if(this._itemElements.push(u),i)return i.children.push(u),o;a=u}return o.push(a),o},new Array),this._setElementsToTree(this._elementTree),this.accessibilityService.isScreenReaderOptimized()&&setTimeout(()=>{let o=this._tree.getHTMLElement().querySelector(".monaco-list-row.focused"),r=o?.parentNode;if(o&&r){let s=o.nextSibling;o.remove(),r.insertBefore(o,s)}},0)}setFocusedElements(t){let i=t.map(o=>this._itemElements.find(r=>r.item===o)).filter(o=>!!o).filter(o=>!o.hidden);if(this._tree.setFocus(i),t.length>0){let o=this._tree.getFocus()[0];o&&this._tree.reveal(o)}}getActiveDescendant(){return this._tree.getHTMLElement().getAttribute("aria-activedescendant")}setSelectedElements(t){let i=t.map(o=>this._itemElements.find(r=>r.item===o)).filter(o=>!!o);this._tree.setSelection(i)}getCheckedElements(){return this._itemElements.filter(t=>t.checked).map(t=>t.item)}setCheckedElements(t){this._elementCheckedEventBufferer.bufferEvents(()=>{let i=new Set;for(let o of t)i.add(o);for(let o of this._itemElements)o.checked=i.has(o.item)})}focus(t){if(this._itemElements.length)switch(t===2&&this._itemElements.length<2&&(t=1),t){case 1:this._tree.scrollTop=0,this._tree.focusFirst(void 0,i=>i.element instanceof ot);break;case 2:{this._tree.scrollTop=0;let i=!1;this._tree.focusFirst(void 0,o=>o.element instanceof ot?i?!0:(i=!i,!1):!1);break}case 3:this._tree.scrollTop=this._tree.scrollHeight,this._tree.focusLast(void 0,i=>i.element instanceof ot);break;case 4:{let i=this._tree.getFocus();this._tree.focusNext(void 0,this._shouldLoop,void 0,r=>r.element instanceof ot?(this._tree.reveal(r.element),!0):!1);let o=this._tree.getFocus();i.length&&i[0]===o[0]&&i[0]===this._itemElements[this._itemElements.length-1]&&this._onLeave.fire();break}case 5:{let i=this._tree.getFocus();this._tree.focusPrevious(void 0,this._shouldLoop,void 0,r=>{if(!(r.element instanceof ot))return!1;let s=this._tree.getParentElement(r.element);return s===null||s.children[0]!==r.element?this._tree.reveal(r.element):this._tree.reveal(s),!0});let o=this._tree.getFocus();i.length&&i[0]===o[0]&&i[0]===this._itemElements[0]&&this._onLeave.fire();break}case 6:this._tree.focusNextPage(void 0,i=>i.element instanceof ot?(this._tree.reveal(i.element),!0):!1);break;case 7:this._tree.focusPreviousPage(void 0,i=>{if(!(i.element instanceof ot))return!1;let o=this._tree.getParentElement(i.element);return o===null||o.children[0]!==i.element?this._tree.reveal(i.element):this._tree.reveal(o),!0});break;case 8:{let i=!1,o=this._tree.getFocus()[0];this._tree.focusNext(void 0,!0,void 0,s=>{if(i)return!0;if(s.element instanceof _i)i=!0,this._separatorRenderer.isSeparatorVisible(s.element)?this._tree.reveal(s.element.children[0]):this._tree.reveal(s.element,0);else if(s.element instanceof ot){if(s.element.separator)return this._itemRenderer.isItemWithSeparatorVisible(s.element)?this._tree.reveal(s.element):this._tree.reveal(s.element,0),!0;if(s.element===this._elementTree[0])return this._tree.reveal(s.element,0),!0}return!1});let r=this._tree.getFocus()[0];o===r&&(this._tree.scrollTop=this._tree.scrollHeight,this._tree.focusLast(void 0,s=>s.element instanceof ot));break}case 9:{let i,o=!!this._tree.getFocus()[0]?.separator;this._tree.focusPrevious(void 0,!0,void 0,r=>{if(r.element instanceof _i)o?i||(this._separatorRenderer.isSeparatorVisible(r.element)?this._tree.reveal(r.element):this._tree.reveal(r.element,0),i=r.element.children[0]):o=!0;else if(r.element instanceof ot&&!i){if(r.element.separator)this._itemRenderer.isItemWithSeparatorVisible(r.element)?this._tree.reveal(r.element):this._tree.reveal(r.element,0),i=r.element;else if(r.element===this._elementTree[0])return this._tree.reveal(r.element,0),!0}return!1}),i&&this._tree.setFocus([i]);break}}}clearFocus(){this._tree.setFocus([])}domFocus(){this._tree.domFocus()}layout(t){this._tree.getHTMLElement().style.maxHeight=t?`${Math.floor(t/44)*44+6}px`:"",this._tree.layout()}filter(t){if(this._lastQueryString=t,!(this._sortByLabel||this._matchOnLabel||this._matchOnDescription||this._matchOnDetail))return this._tree.layout(),!1;let i=t;if(t=t.trim(),!t||!(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))this._itemElements.forEach(o=>{o.labelHighlights=void 0,o.descriptionHighlights=void 0,o.detailHighlights=void 0,o.hidden=!1;let r=o.index&&this._inputElements[o.index-1];o.item&&(o.separator=r&&r.type==="separator"&&!r.buttons?r:void 0)});else{let o;this._itemElements.forEach(r=>{let s;this.matchOnLabelMode==="fuzzy"?s=this.matchOnLabel?zl(t,yr(r.saneLabel))??void 0:void 0:s=this.matchOnLabel?_S(i,yr(r.saneLabel))??void 0:void 0;let a=this.matchOnDescription?zl(t,yr(r.saneDescription||""))??void 0:void 0,l=this.matchOnDetail?zl(t,yr(r.saneDetail||""))??void 0:void 0;if(s||a||l?(r.labelHighlights=s,r.descriptionHighlights=a,r.detailHighlights=l,r.hidden=!1):(r.labelHighlights=void 0,r.descriptionHighlights=void 0,r.detailHighlights=void 0,r.hidden=r.item?!r.item.alwaysShow:!0),r.item?r.separator=void 0:r.separator&&(r.hidden=!0),!this.sortByLabel){let d=r.index&&this._inputElements[r.index-1]||void 0;d?.type==="separator"&&!d.buttons&&(o=d),o&&!r.hidden&&(r.separator=o,o=void 0)}})}return this._setElementsToTree(this._sortByLabel&&t?this._itemElements:this._elementTree),this._tree.layout(),!0}toggleCheckbox(){this._elementCheckedEventBufferer.bufferEvents(()=>{let t=this._tree.getFocus().filter(o=>o instanceof ot),i=this._allVisibleChecked(t);for(let o of t)o.checkboxDisabled||(o.checked=!i)})}style(t){this._tree.style(t)}toggleHover(){let t=this._tree.getFocus()[0];if(!t?.saneTooltip||!(t instanceof ot))return;if(this._lastHover&&!this._lastHover.isDisposed){this._lastHover.dispose();return}this.showHover(t);let i=new q;i.add(this._tree.onDidChangeFocus(o=>{o.elements[0]instanceof ot&&this.showHover(o.elements[0])})),this._lastHover&&i.add(this._lastHover),this._elementDisposable.add(i)}_setElementsToTree(t){let i=new Array;for(let o of t)o instanceof _i?i.push({element:o,collapsible:!1,collapsed:!1,children:o.children.map(r=>({element:r,collapsible:!1,collapsed:!1}))}):i.push({element:o,collapsible:!1,collapsed:!1});this._tree.setChildren(null,i)}_allVisibleChecked(t,i=!0){for(let o=0,r=t.length;o<r;o++){let s=t[o];if(!s.hidden)if(s.checked)i=!0;else return!1}return i}_updateCheckedObservables(){sr(t=>{this._allVisibleCheckedObservable.set(this._allVisibleChecked(this._itemElements,!1),t);let i=this._itemElements.filter(o=>o.checked).length;this._checkedCountObservable.set(i,t),this._checkedElementsObservable.set(this.getCheckedElements(),t)})}showHover(t){this._lastHover&&!this._lastHover.isDisposed&&(this.hoverDelegate.onDidHideHover?.(),this._lastHover?.dispose()),!(!t.element||!t.saneTooltip)&&(this._lastHover=this.hoverDelegate.showHover({content:t.saneTooltip,target:t.element,linkHandler:i=>{this.linkOpenerDelegate(i)},appearance:{showPointer:!0},container:this._container,position:{hoverPosition:1}},!1))}};ie([ke],po.prototype,"onDidChangeFocus",1),ie([ke],po.prototype,"onDidChangeSelection",1),po=ie([oe(4,St),oe(5,Xy)],po);function _S(n,e){let{text:t,iconOffsets:i}=e;if(!i||i.length===0)return Jy(n,t);let o=Is(t," "),r=t.length-o.length,s=Jy(n,o);if(s)for(let a of s){let l=i[a.start+r]+r;a.start+=l,a.end+=l}return s}function Jy(n,e){let t=e.toLowerCase().indexOf(n.toLowerCase());return t!==-1?[{start:t,end:t+n.length}]:null}function CS(n,e,t){let i=n.labelHighlights||[],o=e.labelHighlights||[];return i.length&&!o.length?-1:!i.length&&o.length?1:i.length===0&&o.length===0?0:ch(n.saneSortLabel,e.saneSortLabel,t)}var Zy="inQuickInput",e1=new Ae(Zy,!1,p("inQuickInput","Whether keyboard focus is inside the quick input control")),t1=Be.has(Zy),Hm="quickInputType",n1=new Ae(Hm,void 0,p("quickInputType","The type of the currently visible quick input")),i1="cursorAtEndOfQuickInputBox",o1=new Ae(i1,!1,p("cursorAtEndOfQuickInputBox","Whether the cursor in the quick input is at the end of the input box")),r1=Be.has(i1),wa={iconClass:Ie.asClassName(Le.quickInputBack),tooltip:p("quickInput.back","Back"),handle:-1},Zr=class n extends V{constructor(t){super();this.ui=t}static noPromptMessage=p("inputModeEntry","Press 'Enter' to confirm your input or 'Escape' to cancel");_title;_description;_widget;_widgetUpdated=!1;_steps;_totalSteps;visible=!1;_enabled=!0;_contextKey;_busy=!1;_ignoreFocusOut=!1;_leftButtons=[];_rightButtons=[];_inlineButtons=[];buttonsUpdated=!1;_toggles=[];togglesUpdated=!1;noValidationMessage=n.noPromptMessage;_validationMessage;_lastValidationMessage;_severity=Zt.Ignore;_lastSeverity;onDidTriggerButtonEmitter=this._register(new k);onDidHideEmitter=this._register(new k);onWillHideEmitter=this._register(new k);onDisposeEmitter=this._register(new k);visibleDisposables=this._register(new q);busyDelay;get title(){return this._title}set title(t){this._title=t,this.update()}get description(){return this._description}set description(t){this._description=t,this.update()}get widget(){return this._widget}set widget(t){Qe(t)&&this._widget!==t&&(this._widget=t,this._widgetUpdated=!0,this.update())}get step(){return this._steps}set step(t){this._steps=t,this.update()}get totalSteps(){return this._totalSteps}set totalSteps(t){this._totalSteps=t,this.update()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this.update()}get contextKey(){return this._contextKey}set contextKey(t){this._contextKey=t,this.update()}get busy(){return this._busy}set busy(t){this._busy=t,this.update()}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(t){let i=this._ignoreFocusOut!==t&&!Io;this._ignoreFocusOut=t&&!Io,i&&this.update()}get titleButtons(){return this._leftButtons.length?[...this._leftButtons,this._rightButtons]:this._rightButtons}get buttons(){return[...this._leftButtons,...this._rightButtons,...this._inlineButtons]}set buttons(t){this._leftButtons=t.filter(i=>i===wa),this._rightButtons=t.filter(i=>i!==wa&&i.location!==2),this._inlineButtons=t.filter(i=>i.location===2),this.buttonsUpdated=!0,this.update()}get toggles(){return this._toggles}set toggles(t){this._toggles=t??[],this.togglesUpdated=!0,this.update()}get validationMessage(){return this._validationMessage}set validationMessage(t){this._validationMessage=t,this.update()}get severity(){return this._severity}set severity(t){this._severity=t,this.update()}onDidTriggerButton=this.onDidTriggerButtonEmitter.event;show(){this.visible||(this.visibleDisposables.add(this.ui.onDidTriggerButton(t=>{this.buttons.indexOf(t)!==-1&&this.onDidTriggerButtonEmitter.fire(t)})),this.ui.show(this),this.visible=!0,this._lastValidationMessage=void 0,this._lastSeverity=void 0,this.buttons.length&&(this.buttonsUpdated=!0),this.toggles.length&&(this.togglesUpdated=!0),this.update())}hide(){this.visible&&this.ui.hide()}didHide(t=3){this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire({reason:t})}onDidHide=this.onDidHideEmitter.event;willHide(t=3){this.onWillHideEmitter.fire({reason:t})}onWillHide=this.onWillHideEmitter.event;update(){if(!this.visible)return;let t=this.getTitle();t&&this.ui.title.textContent!==t?this.ui.title.textContent=t:!t&&this.ui.title.innerHTML!=="&nbsp;"&&(this.ui.title.innerText="\xA0");let i=this.getDescription();if(this.ui.description1.textContent!==i&&(this.ui.description1.textContent=i),this.ui.description2.textContent!==i&&(this.ui.description2.textContent=i),this._widgetUpdated&&(this._widgetUpdated=!1,this._widget?Et(this.ui.widget,this._widget):Et(this.ui.widget)),this.busy&&!this.busyDelay&&(this.busyDelay=new _n,this.busyDelay.setIfNotSet(()=>{this.visible&&this.ui.progressBar.infinite()},800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();let r=this._leftButtons.map((l,d)=>Wo(l,`id-${d}`,async()=>this.onDidTriggerButtonEmitter.fire(l)));this.ui.leftActionBar.push(r,{icon:!0,label:!1}),this.ui.rightActionBar.clear();let s=this._rightButtons.map((l,d)=>Wo(l,`id-${d}`,async()=>this.onDidTriggerButtonEmitter.fire(l)));this.ui.rightActionBar.push(s,{icon:!0,label:!1}),this.ui.inlineActionBar.clear();let a=this._inlineButtons.map((l,d)=>Wo(l,`id-${d}`,async()=>this.onDidTriggerButtonEmitter.fire(l)));this.ui.inlineActionBar.push(a,{icon:!0,label:!1})}if(this.togglesUpdated){this.togglesUpdated=!1;let r=this.toggles?.filter(s=>s instanceof An)??[];this.ui.inputBox.toggles=r}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey);let o=this.validationMessage||this.noValidationMessage;this._lastValidationMessage!==o&&(this._lastValidationMessage=o,Et(this.ui.message),Ly(o,this.ui.message,{callback:r=>{this.ui.linkOpenerDelegate(r)},disposables:this.visibleDisposables})),this._lastSeverity!==this.severity&&(this._lastSeverity=this.severity,this.showMessageDecoration(this.severity))}getTitle(){return this.title&&this.step?`${this.title} (${this.getSteps()})`:this.title?this.title:this.step?this.getSteps():""}getDescription(){return this.description||""}getSteps(){return this.step&&this.totalSteps?p("quickInput.steps","{0}/{1}",this.step,this.totalSteps):this.step?String(this.step):""}showMessageDecoration(t){if(this.ui.inputBox.showDecoration(t),t!==Zt.Ignore){let i=this.ui.inputBox.stylesForType(t);this.ui.message.style.color=i.foreground?`${i.foreground}`:"",this.ui.message.style.backgroundColor=i.background?`${i.background}`:"",this.ui.message.style.border=i.border?`1px solid ${i.border}`:"",this.ui.message.style.marginBottom="-2px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.marginBottom=""}onDispose=this.onDisposeEmitter.event;dispose(){this.hide(),this.onDisposeEmitter.fire(),super.dispose()}},Jo=class n extends Zr{static DEFAULT_ARIA_LABEL=p("quickInputBox.ariaLabel","Type to narrow down results.");_value="";_ariaLabel;_placeholder;onDidChangeValueEmitter=this._register(new k);onWillAcceptEmitter=this._register(new k);onDidAcceptEmitter=this._register(new k);onDidCustomEmitter=this._register(new k);_items=[];itemsUpdated=!1;_canSelectMany=!1;_canAcceptInBackground=!1;_matchOnDescription=!1;_matchOnDetail=!1;_matchOnLabel=!0;_matchOnLabelMode="fuzzy";_sortByLabel=!0;_keepScrollPosition=!1;_itemActivation=1;_activeItems=[];activeItemsUpdated=!1;activeItemsToConfirm=[];onDidChangeActiveEmitter=this._register(new k);_selectedItems=[];selectedItemsUpdated=!1;selectedItemsToConfirm=[];onDidChangeSelectionEmitter=this._register(new k);onDidTriggerItemButtonEmitter=this._register(new k);onDidTriggerSeparatorButtonEmitter=this._register(new k);_valueSelection;valueSelectionUpdated=!0;_ok="default";_customButton=!1;_customButtonLabel;_customButtonHover;_quickNavigate;_hideInput;_hideCountBadge;_hideCheckAll;_focusEventBufferer=new fn;type="quickPick";get quickNavigate(){return this._quickNavigate}set quickNavigate(e){this._quickNavigate=e,this.update()}get value(){return this._value}set value(e){this.doSetValue(e)}doSetValue(e,t){this._value!==e&&(this._value=e,t||this.update(),this.visible&&this.ui.list.filter(this.filterValue(this._value))&&this.trySelectFirst(),this.onDidChangeValueEmitter.fire(this._value))}filterValue=e=>e;set ariaLabel(e){this._ariaLabel=e,this.update()}get ariaLabel(){return this._ariaLabel}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.update()}onDidChangeValue=this.onDidChangeValueEmitter.event;onWillAccept=this.onWillAcceptEmitter.event;onDidAccept=this.onDidAcceptEmitter.event;onDidCustom=this.onDidCustomEmitter.event;get items(){return this._items}get scrollTop(){return this.ui.list.scrollTop}set scrollTop(e){this.ui.list.scrollTop=e}set items(e){this._items=e,this.itemsUpdated=!0,this.update()}get canSelectMany(){return this._canSelectMany}set canSelectMany(e){this._canSelectMany=e,this.update()}get canAcceptInBackground(){return this._canAcceptInBackground}set canAcceptInBackground(e){this._canAcceptInBackground=e}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(e){this._matchOnDescription=e,this.update()}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(e){this._matchOnDetail=e,this.update()}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(e){this._matchOnLabel=e,this.update()}get matchOnLabelMode(){return this._matchOnLabelMode}set matchOnLabelMode(e){this._matchOnLabelMode=e,this.update()}get sortByLabel(){return this._sortByLabel}set sortByLabel(e){this._sortByLabel=e,this.update()}get keepScrollPosition(){return this._keepScrollPosition}set keepScrollPosition(e){this._keepScrollPosition=e}get itemActivation(){return this._itemActivation}set itemActivation(e){this._itemActivation=e}get activeItems(){return this._activeItems}set activeItems(e){this._activeItems=e,this.activeItemsUpdated=!0,this.update()}onDidChangeActive=this.onDidChangeActiveEmitter.event;get selectedItems(){return this._selectedItems}set selectedItems(e){this._selectedItems=e,this.selectedItemsUpdated=!0,this.update()}get keyMods(){return this._quickNavigate?db:this.ui.keyMods}get valueSelection(){let e=this.ui.inputBox.getSelection();if(e)return[e.start,e.end]}set valueSelection(e){this._valueSelection=e,this.valueSelectionUpdated=!0,this.update()}get customButton(){return this._customButton}set customButton(e){this._customButton=e,this.update()}get customLabel(){return this._customButtonLabel}set customLabel(e){this._customButtonLabel=e,this.update()}get customHover(){return this._customButtonHover}set customHover(e){this._customButtonHover=e,this.update()}get ok(){return this._ok}set ok(e){this._ok=e,this.update()}inputHasFocus(){return this.visible?this.ui.inputBox.hasFocus():!1}focusOnInput(){this.ui.inputBox.setFocus()}get hideInput(){return!!this._hideInput}set hideInput(e){this._hideInput=e,this.update()}get hideCountBadge(){return!!this._hideCountBadge}set hideCountBadge(e){this._hideCountBadge=e,this.update()}get hideCheckAll(){return!!this._hideCheckAll}set hideCheckAll(e){this._hideCheckAll=e,this.update()}onDidChangeSelection=this.onDidChangeSelectionEmitter.event;onDidTriggerItemButton=this.onDidTriggerItemButtonEmitter.event;onDidTriggerSeparatorButton=this.onDidTriggerSeparatorButtonEmitter.event;trySelectFirst(){this.canSelectMany||this.ui.list.focus(1)}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(e=>{this.doSetValue(e,!0)})),this.visibleDisposables.add(this.ui.onDidAccept(()=>{this.canSelectMany?this.ui.list.getCheckedElements().length||(this._selectedItems=[],this.onDidChangeSelectionEmitter.fire(this.selectedItems)):this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems)),this.handleAccept(!1)})),this.visibleDisposables.add(this.ui.onDidCustom(()=>{this.onDidCustomEmitter.fire()})),this.visibleDisposables.add(this._focusEventBufferer.wrapEvent(this.ui.list.onDidChangeFocus,(e,t)=>t)(e=>{this.activeItemsUpdated||this.activeItemsToConfirm!==this._activeItems&&Ct(e,this._activeItems,(t,i)=>t===i)||(this._activeItems=e,this.onDidChangeActiveEmitter.fire(e))})),this.visibleDisposables.add(this.ui.list.onDidChangeSelection(({items:e,event:t})=>{if(this.canSelectMany){e.length&&this.ui.list.setSelectedElements([]);return}this.selectedItemsToConfirm!==this._selectedItems&&Ct(e,this._selectedItems,(i,o)=>i===o)||(this._selectedItems=e,this.onDidChangeSelectionEmitter.fire(e),e.length&&this.handleAccept(Vs(t)&&t.button===1))})),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements(e=>{!this.canSelectMany||!this.visible||this.selectedItemsToConfirm!==this._selectedItems&&Ct(e,this._selectedItems,(t,i)=>t===i)||(this._selectedItems=e,this.onDidChangeSelectionEmitter.fire(e))})),this.visibleDisposables.add(this.ui.list.onButtonTriggered(e=>this.onDidTriggerItemButtonEmitter.fire(e))),this.visibleDisposables.add(this.ui.list.onSeparatorButtonTriggered(e=>this.onDidTriggerSeparatorButtonEmitter.fire(e))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0),super.show()}handleAccept(e){let t=!1;this.onWillAcceptEmitter.fire({veto:()=>t=!0}),t||this.onDidAcceptEmitter.fire({inBackground:e})}registerQuickNavigation(){return $(this.ui.container,Z.KEY_UP,e=>{if(this.canSelectMany||!this._quickNavigate)return;let t=new Ne(e),i=t.keyCode;this._quickNavigate.keybindings.some(s=>{let a=s.getChords();return a.length>1?!1:a[0].shiftKey&&i===4?!(t.ctrlKey||t.altKey||t.metaKey):!!(a[0].altKey&&i===6||a[0].ctrlKey&&i===5||a[0].metaKey&&i===57)})&&(this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!1)),this._quickNavigate=void 0)})}update(){if(!this.visible)return;let e=this.keepScrollPosition?this.scrollTop:0,t=!!this.description,i={title:!!this.title||!!this.step||!!this.titleButtons.length,description:t,checkAll:this.canSelectMany&&!this._hideCheckAll,checkBox:this.canSelectMany,inputBox:!this._hideInput,progressBar:!this._hideInput||t,visibleCount:!0,count:this.canSelectMany&&!this._hideCountBadge,ok:this.ok==="default"?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};this.ui.setVisibilities(i),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||"");let o=this.ariaLabel;!o&&i.inputBox&&(o=this.placeholder||n.DEFAULT_ARIA_LABEL,this.title&&(o+=` - ${this.title}`)),this.ui.list.ariaLabel!==o&&(this.ui.list.ariaLabel=o??null),this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.matchOnLabelMode=this.matchOnLabelMode,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated&&(this.itemsUpdated=!1,this._focusEventBufferer.bufferEvents(()=>{switch(this.ui.list.setElements(this.items),this.ui.list.shouldLoop=!this.canSelectMany,this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this._itemActivation){case 0:this._itemActivation=1;break;case 2:this.ui.list.focus(2),this._itemActivation=1;break;case 3:this.ui.list.focus(3),this._itemActivation=1;break;default:this.trySelectFirst();break}})),this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.trySelectFirst()),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null)),this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",i.inputBox||(this.ui.list.domFocus(),this.canSelectMany&&this.ui.list.focus(1)),this.keepScrollPosition&&(this.scrollTop=e)}focus(e){this.ui.list.focus(e),this.canSelectMany&&this.ui.list.domFocus()}accept(e){e&&!this._canAcceptInBackground||this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(e??!1))}},Mc=class extends Zr{_value="";_valueSelection;valueSelectionUpdated=!0;_placeholder;_password=!1;_prompt;onDidValueChangeEmitter=this._register(new k);onDidAcceptEmitter=this._register(new k);type="inputBox";get value(){return this._value}set value(e){this._value=e||"",this.update()}get valueSelection(){let e=this.ui.inputBox.getSelection();if(e)return[e.start,e.end]}set valueSelection(e){this._valueSelection=e,this.valueSelectionUpdated=!0,this.update()}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.update()}get password(){return this._password}set password(e){this._password=e,this.update()}get prompt(){return this._prompt}set prompt(e){this._prompt=e,this.noValidationMessage=e?p("inputModeEntryDescription","{0} (Press 'Enter' to confirm or 'Escape' to cancel)",e):Zr.noPromptMessage,this.update()}onDidChangeValue=this.onDidValueChangeEmitter.event;onDidAccept=this.onDidAcceptEmitter.event;show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(e=>{e!==this.value&&(this._value=e,this.onDidValueChangeEmitter.fire(e))})),this.visibleDisposables.add(this.ui.onDidAccept(()=>this.onDidAcceptEmitter.fire())),this.valueSelectionUpdated=!0),super.show()}update(){if(!this.visible)return;this.ui.container.classList.remove("hidden-input");let e={title:!!this.title||!!this.step||!!this.titleButtons.length,description:!!this.description||!!this.step,inputBox:!0,message:!0,progressBar:!0};this.ui.setVisibilities(e),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||""),this.ui.inputBox.password!==this.password&&(this.ui.inputBox.password=this.password)}},Nc=class extends Zr{type="quickWidget";update(){if(!this.visible)return;let e={title:!!this.title||!!this.step||!!this.titleButtons.length,description:!!this.description||!!this.step};this.ui.setVisibilities(e),super.update()}},Jr=class extends Qr{constructor(e,t){super("element",!1,i=>this.getOverrideOptions(i),e,t)}getOverrideOptions(e){let t=(Qe(e.content)?e.content.textContent??"":typeof e.content=="string"?e.content:e.content.value).includes(`
`);return{persistence:{hideOnKeyDown:!1},appearance:{showHoverHint:t,skipFadeInAnimation:!0}}}};Jr=ie([oe(0,_t),oe(1,em)],Jr);var l1={weight:200,when:Be.and(Be.equals(Hm,"quickPick"),t1),metadata:{description:p("quickPick","Used while in the context of the quick pick. If you change one keybinding for this command, you should change all of the other keybindings (modifier variants) of this command as well.")}};function Wt(n,e={}){dc.registerCommandAndKeybindingRule({...l1,...n,secondary:MS(n.primary,n.secondary??[],e)})}var Oc=Se?256:2048;function MS(n,e,t={}){return t.withAltMod&&e.push(512+n),t.withCtrlMod&&(e.push(Oc+n),t.withAltMod&&e.push(512+Oc+n)),t.withCmdMod&&Se&&(e.push(2048+n),t.withCtrlMod&&e.push(2304+n),t.withAltMod&&(e.push(2560+n),t.withCtrlMod&&e.push(2816+n))),e}function an(n,e){return t=>{let i=t.get(js).currentQuickInput;if(i)return e&&i.quickNavigate?i.focus(e):i.focus(n)}}Wt({id:"quickInput.pageNext",primary:12,handler:an(6)},{withAltMod:!0,withCtrlMod:!0,withCmdMod:!0});Wt({id:"quickInput.pagePrevious",primary:11,handler:an(7)},{withAltMod:!0,withCtrlMod:!0,withCmdMod:!0});Wt({id:"quickInput.first",primary:Oc+14,handler:an(1)},{withAltMod:!0,withCmdMod:!0});Wt({id:"quickInput.last",primary:Oc+13,handler:an(3)},{withAltMod:!0,withCmdMod:!0});Wt({id:"quickInput.next",primary:18,handler:an(4)},{withCtrlMod:!0});Wt({id:"quickInput.previous",primary:16,handler:an(5)},{withCtrlMod:!0});var s1=p("quickInput.nextSeparatorWithQuickAccessFallback","If we're in quick access mode, this will navigate to the next item. If we are not in quick access mode, this will navigate to the next separator."),a1=p("quickInput.previousSeparatorWithQuickAccessFallback","If we're in quick access mode, this will navigate to the previous item. If we are not in quick access mode, this will navigate to the previous separator.");Se?(Wt({id:"quickInput.nextSeparatorWithQuickAccessFallback",primary:2066,handler:an(8,4),metadata:{description:s1}}),Wt({id:"quickInput.nextSeparator",primary:2578,secondary:[2322],handler:an(8)},{withCtrlMod:!0}),Wt({id:"quickInput.previousSeparatorWithQuickAccessFallback",primary:2064,handler:an(9,5),metadata:{description:a1}}),Wt({id:"quickInput.previousSeparator",primary:2576,secondary:[2320],handler:an(9)},{withCtrlMod:!0})):(Wt({id:"quickInput.nextSeparatorWithQuickAccessFallback",primary:530,handler:an(8,4),metadata:{description:s1}}),Wt({id:"quickInput.nextSeparator",primary:2578,handler:an(8)}),Wt({id:"quickInput.previousSeparatorWithQuickAccessFallback",primary:528,handler:an(9,5),metadata:{description:a1}}),Wt({id:"quickInput.previousSeparator",primary:2576,handler:an(9)}));Wt({id:"quickInput.acceptInBackground",when:Be.and(l1.when,Be.or(Uy.negate(),r1)),primary:17,weight:250,handler:n=>{n.get(js).currentQuickInput?.accept(!0)}},{withAltMod:!0,withCtrlMod:!0,withCmdMod:!0});var qt=ee,fo=class extends V{constructor(t,i,o,r){super();this.options=t;this.layoutService=i;this.instantiationService=o;this.contextKeyService=r;this.idPrefix=t.idPrefix,this._container=t.container,this.styles=t.styles,this._register(_.runAndSubscribe(Cl,({window:s,disposables:a})=>this.registerKeyModsListeners(s,a),{window:Je,disposables:this._store})),this._register(Cg(s=>{this.ui&&de(this.ui.container)===s&&(this.reparentUI(this.layoutService.mainContainer),this.layout(this.layoutService.mainContainerDimension,this.layoutService.mainContainerOffset.quickPickTop))}))}static MAX_WIDTH=600;idPrefix;ui;dimension;titleBarOffset;enabled=!0;onDidAcceptEmitter=this._register(new k);onDidCustomEmitter=this._register(new k);onDidTriggerButtonEmitter=this._register(new k);keyMods={ctrlCmd:!1,alt:!1};controller=null;get currentQuickInput(){return this.controller??void 0}_container;get container(){return this._container}styles;onShowEmitter=this._register(new k);onShow=this.onShowEmitter.event;onHideEmitter=this._register(new k);onHide=this.onHideEmitter.event;previousFocusElement;inQuickInputContext=e1.bindTo(this.contextKeyService);quickInputTypeContext=n1.bindTo(this.contextKeyService);endOfQuickInputBoxContext=o1.bindTo(this.contextKeyService);registerKeyModsListeners(t,i){let o=r=>{this.keyMods.ctrlCmd=r.ctrlKey||r.metaKey,this.keyMods.alt=r.altKey};for(let r of[Z.KEY_DOWN,Z.KEY_UP,Z.MOUSE_DOWN])i.add($(t,r,o,!0))}getUI(t){if(this.ui)return t&&de(this._container)!==de(this.layoutService.activeContainer)&&(this.reparentUI(this.layoutService.activeContainer),this.layout(this.layoutService.activeContainerDimension,this.layoutService.activeContainerOffset.quickPickTop)),this.ui;let i=G(this._container,qt(".quick-input-widget.show-file-icons"));i.tabIndex=-1,i.style.display="none";let o=Vt(i),r=G(i,qt(".quick-input-titlebar")),s=this._register(new tn(r,{hoverDelegate:this.options.hoverDelegate}));s.domNode.classList.add("quick-input-left-action-bar");let a=G(r,qt(".quick-input-title")),l=this._register(new tn(r,{hoverDelegate:this.options.hoverDelegate}));l.domNode.classList.add("quick-input-right-action-bar");let d=G(i,qt(".quick-input-header")),u=G(d,qt("input.quick-input-check-all"));u.type="checkbox",u.setAttribute("aria-label",p("quickInput.checkAll","Toggle all checkboxes")),this._register(ft(u,Z.CHANGE,R=>{let B=u.checked;Ve.setAllVisibleChecked(B)})),this._register($(u,Z.CLICK,R=>{(R.x||R.y)&&w.setFocus()}));let h=G(d,qt(".quick-input-description")),m=G(d,qt(".quick-input-and-message")),y=G(m,qt(".quick-input-filter")),w=this._register(new Ud(y,this.styles.inputBox,this.styles.toggle));w.setAttribute("aria-describedby",`${this.idPrefix}message`);let f=G(y,qt(".quick-input-visible-count"));f.setAttribute("aria-live","polite"),f.setAttribute("aria-atomic","true");let x=new ca(f,{countFormat:p({key:"quickInput.visibleCount",comment:["This tells the user how many items are shown in a list of items to select from. The items can be anything. Currently not visible, but read by screen readers."]},"{0} Results")},this.styles.countBadge),L=G(y,qt(".quick-input-count"));L.setAttribute("aria-live","polite");let C=new ca(L,{countFormat:p({key:"quickInput.countSelected",comment:["This tells the user how many items are selected in a list of items to select from. The items can be anything."]},"{0} Selected")},this.styles.countBadge),H=this._register(new tn(d,{hoverDelegate:this.options.hoverDelegate}));H.domNode.classList.add("quick-input-inline-action-bar");let P=G(d,qt(".quick-input-action")),A=this._register(new Lr(P,this.styles.button));A.label=p("ok","OK"),this._register(A.onDidClick(R=>{this.onDidAcceptEmitter.fire()}));let z=G(d,qt(".quick-input-action")),K=this._register(new Lr(z,{...this.styles.button,supportIcons:!0}));K.label=p("custom","Custom"),this._register(K.onDidClick(R=>{this.onDidCustomEmitter.fire()}));let F=G(m,qt(`#${this.idPrefix}message.quick-input-message`)),ne=this._register(new Cd(i,this.styles.progressBar));ne.getContainer().classList.add("quick-input-progress");let ve=G(i,qt(".quick-input-html-widget"));ve.tabIndex=-1;let me=G(i,qt(".quick-input-description")),ae=this.idPrefix+"list",Ve=this._register(this.instantiationService.createInstance(po,i,this.options.hoverDelegate,this.options.linkOpenerDelegate,ae));w.setAttribute("aria-controls",ae),this._register(Ve.onDidChangeFocus(()=>{w.setAttribute("aria-activedescendant",Ve.getActiveDescendant()??"")})),this._register(Ve.onChangedAllVisibleChecked(R=>{u.checked=R})),this._register(Ve.onChangedVisibleCount(R=>{x.setCount(R)})),this._register(Ve.onChangedCheckedCount(R=>{C.setCount(R)})),this._register(Ve.onLeave(()=>{setTimeout(()=>{this.controller&&(w.setFocus(),this.controller instanceof Jo&&this.controller.canSelectMany&&Ve.clearFocus())},0)}));let Mt=Mo(i);return this._register(Mt),this._register($(i,Z.FOCUS,R=>{let B=this.getUI();if(ct(R.relatedTarget,B.inputContainer)){let Q=B.inputBox.isSelectionAtEnd();this.endOfQuickInputBoxContext.get()!==Q&&this.endOfQuickInputBoxContext.set(Q)}ct(R.relatedTarget,B.container)||(this.inQuickInputContext.set(!0),this.previousFocusElement=Qe(R.relatedTarget)?R.relatedTarget:void 0)},!0)),this._register(Mt.onDidBlur(()=>{!this.getUI().ignoreFocusOut&&!this.options.ignoreFocusOut()&&this.hide(1),this.inQuickInputContext.set(!1),this.endOfQuickInputBoxContext.set(!1),this.previousFocusElement=void 0})),this._register(w.onKeyDown(R=>{let B=this.getUI().inputBox.isSelectionAtEnd();this.endOfQuickInputBoxContext.get()!==B&&this.endOfQuickInputBoxContext.set(B)})),this._register($(i,Z.FOCUS,R=>{w.setFocus()})),this._register(ft(i,Z.KEY_DOWN,R=>{if(!ct(R.target,ve))switch(R.keyCode){case 3:Re.stop(R,!0),this.enabled&&this.onDidAcceptEmitter.fire();break;case 9:Re.stop(R,!0),this.hide(2);break;case 2:if(!R.altKey&&!R.ctrlKey&&!R.metaKey){let B=[".quick-input-list .monaco-action-bar .always-visible",".quick-input-list-entry:hover .monaco-action-bar",".monaco-list-row.focused .monaco-action-bar"];if(i.classList.contains("show-checkboxes")?B.push("input"):B.push("input[type=text]"),this.getUI().list.displayed&&B.push(".monaco-list"),this.getUI().message&&B.push(".quick-input-message a"),this.getUI().widget){if(ct(R.target,this.getUI().widget))break;B.push(".quick-input-html-widget")}let Q=i.querySelectorAll(B.join(", "));R.shiftKey&&R.target===Q[0]?(Re.stop(R,!0),Ve.clearFocus()):!R.shiftKey&&ct(R.target,Q[Q.length-1])&&(Re.stop(R,!0),Q[0].focus())}break;case 10:R.ctrlKey&&(Re.stop(R,!0),this.getUI().list.toggleHover());break}})),this.ui={container:i,styleSheet:o,leftActionBar:s,titleBar:r,title:a,description1:me,description2:h,widget:ve,rightActionBar:l,inlineActionBar:H,checkAll:u,inputContainer:m,filterContainer:y,inputBox:w,visibleCountContainer:f,visibleCount:x,countContainer:L,count:C,okContainer:P,ok:A,message:F,customButtonContainer:z,customButton:K,list:Ve,progressBar:ne,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,show:R=>this.show(R),hide:()=>this.hide(),setVisibilities:R=>this.setVisibilities(R),setEnabled:R=>this.setEnabled(R),setContextKey:R=>this.options.setContextKey(R),linkOpenerDelegate:R=>this.options.linkOpenerDelegate(R)},this.updateStyles(),this.ui}reparentUI(t){this.ui&&(this._container=t,G(this._container,this.ui.container))}pick(t,i={},o=vi.None){return new Promise((r,s)=>{let a=h=>{a=r,i.onKeyMods?.(l.keyMods),r(h)};if(o.isCancellationRequested){a(void 0);return}let l=this.createQuickPick({useSeparators:!0}),d,u=[l,l.onDidAccept(()=>{if(l.canSelectMany)a(l.selectedItems.slice()),l.hide();else{let h=l.activeItems[0];h&&(a(h),l.hide())}}),l.onDidChangeActive(h=>{let m=h[0];m&&i.onDidFocus&&i.onDidFocus(m)}),l.onDidChangeSelection(h=>{if(!l.canSelectMany){let m=h[0];m&&(a(m),l.hide())}}),l.onDidTriggerItemButton(h=>i.onDidTriggerItemButton&&i.onDidTriggerItemButton({...h,removeItem:()=>{let m=l.items.indexOf(h.item);if(m!==-1){let y=l.items.slice(),w=y.splice(m,1),f=l.activeItems.filter(L=>L!==w[0]),x=l.keepScrollPosition;l.keepScrollPosition=!0,l.items=y,f&&(l.activeItems=f),l.keepScrollPosition=x}}})),l.onDidTriggerSeparatorButton(h=>i.onDidTriggerSeparatorButton?.(h)),l.onDidChangeValue(h=>{d&&!h&&(l.activeItems.length!==1||l.activeItems[0]!==d)&&(l.activeItems=[d])}),o.onCancellationRequested(()=>{l.hide()}),l.onDidHide(()=>{$e(u),a(void 0)})];l.title=i.title,i.value&&(l.value=i.value),l.canSelectMany=!!i.canPickMany,l.placeholder=i.placeHolder,l.ignoreFocusOut=!!i.ignoreFocusLost,l.matchOnDescription=!!i.matchOnDescription,l.matchOnDetail=!!i.matchOnDetail,l.matchOnLabel=i.matchOnLabel===void 0||i.matchOnLabel,l.quickNavigate=i.quickNavigate,l.hideInput=!!i.hideInput,l.contextKey=i.contextKey,l.busy=!0,Promise.all([t,i.activeItem]).then(([h,m])=>{d=m,l.busy=!1,l.items=h,l.canSelectMany&&(l.selectedItems=h.filter(y=>y.type!=="separator"&&y.picked)),d&&(l.activeItems=[d])}),l.show(),Promise.resolve(t).then(void 0,h=>{s(h),l.hide()})})}setValidationOnInput(t,i){i&&zt(i)?(t.severity=Zt.Error,t.validationMessage=i):i&&!zt(i)?(t.severity=i.severity,t.validationMessage=i.content):(t.severity=Zt.Ignore,t.validationMessage=void 0)}input(t={},i=vi.None){return new Promise(o=>{if(i.isCancellationRequested){o(void 0);return}let r=this.createInputBox(),s=t.validateInput||(()=>Promise.resolve(void 0)),a=_.debounce(r.onDidChangeValue,(h,m)=>m,100),l=t.value||"",d=Promise.resolve(s(l)),u=[r,a(h=>{h!==l&&(d=Promise.resolve(s(h)),l=h),d.then(m=>{h===l&&this.setValidationOnInput(r,m)})}),r.onDidAccept(()=>{let h=r.value;h!==l&&(d=Promise.resolve(s(h)),l=h),d.then(m=>{!m||!zt(m)&&m.severity!==Zt.Error?(o(h),r.hide()):h===l&&this.setValidationOnInput(r,m)})}),i.onCancellationRequested(()=>{r.hide()}),r.onDidHide(()=>{$e(u),o(void 0)})];r.title=t.title,r.value=t.value||"",r.valueSelection=t.valueSelection,r.prompt=t.prompt,r.placeholder=t.placeHolder,r.password=!!t.password,r.ignoreFocusOut=!!t.ignoreFocusLost,r.show()})}backButton=wa;createQuickPick(t={useSeparators:!1}){let i=this.getUI(!0);return new Jo(i)}createInputBox(){let t=this.getUI(!0);return new Mc(t)}createQuickWidget(){let t=this.getUI(!0);return new Nc(t)}show(t){let i=this.getUI(!0);this.onShowEmitter.fire();let o=this.controller;this.controller=t,o?.didHide(),this.setEnabled(!0),i.leftActionBar.clear(),i.title.textContent="",i.description1.textContent="",i.description2.textContent="",Et(i.widget),i.rightActionBar.clear(),i.inlineActionBar.clear(),i.checkAll.checked=!1,i.inputBox.placeholder="",i.inputBox.password=!1,i.inputBox.showDecoration(Zt.Ignore),i.visibleCount.setCount(0),i.count.setCount(0),Et(i.message),i.progressBar.stop(),i.list.setElements([]),i.list.matchOnDescription=!1,i.list.matchOnDetail=!1,i.list.matchOnLabel=!0,i.list.sortByLabel=!0,i.ignoreFocusOut=!1,i.inputBox.toggles=void 0;let r=this.options.backKeybindingLabel();wa.tooltip=r?p("quickInput.backWithKeybinding","Back ({0})",r):p("quickInput.back","Back"),i.container.style.display="",this.updateLayout(),i.inputBox.setFocus(),this.quickInputTypeContext.set(t.type)}isVisible(){return!!this.ui&&this.ui.container.style.display!=="none"}setVisibilities(t){let i=this.getUI();i.title.style.display=t.title?"":"none",i.description1.style.display=t.description&&(t.inputBox||t.checkAll)?"":"none",i.description2.style.display=t.description&&!(t.inputBox||t.checkAll)?"":"none",i.checkAll.style.display=t.checkAll?"":"none",i.inputContainer.style.display=t.inputBox?"":"none",i.filterContainer.style.display=t.inputBox?"":"none",i.visibleCountContainer.style.display=t.visibleCount?"":"none",i.countContainer.style.display=t.count?"":"none",i.okContainer.style.display=t.ok?"":"none",i.customButtonContainer.style.display=t.customButton?"":"none",i.message.style.display=t.message?"":"none",i.progressBar.getContainer().style.display=t.progressBar?"":"none",i.list.displayed=!!t.list,i.container.classList.toggle("show-checkboxes",!!t.checkBox),i.container.classList.toggle("hidden-input",!t.inputBox&&!t.description),this.updateLayout()}setEnabled(t){if(t!==this.enabled){this.enabled=t;for(let i of this.getUI().leftActionBar.viewItems)i.action.enabled=t;for(let i of this.getUI().rightActionBar.viewItems)i.action.enabled=t;this.getUI().checkAll.disabled=!t,this.getUI().inputBox.enabled=t,this.getUI().ok.enabled=t,this.getUI().list.enabled=t}}hide(t){let i=this.controller;if(!i)return;i.willHide(t);let o=this.ui?.container,r=o&&!Zu(o);if(this.controller=null,this.onHideEmitter.fire(),o&&(o.style.display="none"),!r){let s=this.previousFocusElement;for(;s&&!s.offsetParent;)s=s.parentElement??void 0;s?.offsetParent?(s.focus(),this.previousFocusElement=void 0):this.options.returnFocus()}i.didHide(t)}focus(){if(this.isVisible()){let t=this.getUI();t.inputBox.enabled?t.inputBox.setFocus():t.list.domFocus()}}toggle(){this.isVisible()&&this.controller instanceof Jo&&this.controller.canSelectMany&&this.getUI().list.toggleCheckbox()}navigate(t,i){this.isVisible()&&this.getUI().list.displayed&&(this.getUI().list.focus(t?4:5),i&&this.controller instanceof Jo&&(this.controller.quickNavigate=i))}async accept(t={alt:!1,ctrlCmd:!1}){this.keyMods.alt=t.alt,this.keyMods.ctrlCmd=t.ctrlCmd,this.onDidAcceptEmitter.fire()}async back(){this.onDidTriggerButtonEmitter.fire(this.backButton)}async cancel(){this.hide()}layout(t,i){this.dimension=t,this.titleBarOffset=i,this.updateLayout()}updateLayout(){if(this.ui&&this.isVisible()){this.ui.container.style.top=`${this.titleBarOffset}px`;let t=this.ui.container.style,i=Math.min(this.dimension.width*.62,fo.MAX_WIDTH);t.width=i+"px",t.marginLeft="-"+i/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&this.dimension.height*.4)}}applyStyles(t){this.styles=t,this.updateStyles()}updateStyles(){if(this.ui){let{quickInputTitleBackground:t,quickInputBackground:i,quickInputForeground:o,widgetBorder:r,widgetShadow:s}=this.styles.widget;this.ui.titleBar.style.backgroundColor=t??"",this.ui.container.style.backgroundColor=i??"",this.ui.container.style.color=o??"",this.ui.container.style.border=r?`1px solid ${r}`:"",this.ui.container.style.boxShadow=s?`0 0 8px 2px ${s}`:"",this.ui.list.style(this.styles.list);let a=[];this.styles.pickerGroup.pickerGroupBorder&&a.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.pickerGroup.pickerGroupBorder}; }`),this.styles.pickerGroup.pickerGroupForeground&&a.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.pickerGroup.pickerGroupForeground}; }`),this.styles.pickerGroup.pickerGroupForeground&&a.push(".quick-input-list .quick-input-list-separator-as-item { color: var(--vscode-descriptionForeground); }"),(this.styles.keybindingLabel.keybindingLabelBackground||this.styles.keybindingLabel.keybindingLabelBorder||this.styles.keybindingLabel.keybindingLabelBottomBorder||this.styles.keybindingLabel.keybindingLabelShadow||this.styles.keybindingLabel.keybindingLabelForeground)&&(a.push(".quick-input-list .monaco-keybinding > .monaco-keybinding-key {"),this.styles.keybindingLabel.keybindingLabelBackground&&a.push(`background-color: ${this.styles.keybindingLabel.keybindingLabelBackground};`),this.styles.keybindingLabel.keybindingLabelBorder&&a.push(`border-color: ${this.styles.keybindingLabel.keybindingLabelBorder};`),this.styles.keybindingLabel.keybindingLabelBottomBorder&&a.push(`border-bottom-color: ${this.styles.keybindingLabel.keybindingLabelBottomBorder};`),this.styles.keybindingLabel.keybindingLabelShadow&&a.push(`box-shadow: inset 0 -1px 0 ${this.styles.keybindingLabel.keybindingLabelShadow};`),this.styles.keybindingLabel.keybindingLabelForeground&&a.push(`color: ${this.styles.keybindingLabel.keybindingLabelForeground};`),a.push("}"));let l=a.join(`
`);l!==this.ui.styleSheet.textContent&&(this.ui.styleSheet.textContent=l)}}};fo=ie([oe(1,Rl),oe(2,St),oe(3,At)],fo);var Fc=class extends fd{constructor(t,i,o,r,s){super(o);this.instantiationService=t;this.contextKeyService=i;this.layoutService=r;this.configurationService=s}get backButton(){return this.controller.backButton}_onShow=this._register(new k);onShow=this._onShow.event;_onHide=this._register(new k);onHide=this._onHide.event;_controller;get controller(){return this._controller||(this._controller=this._register(this.createController())),this._controller}get hasController(){return!!this._controller}get currentQuickInput(){return this.controller.currentQuickInput}_quickAccess;get quickAccess(){return this._quickAccess||(this._quickAccess=this._register(this.instantiationService.createInstance(Tr))),this._quickAccess}contexts=new Map;createController(t=this.layoutService,i){let o={idPrefix:"quickInput_",container:t.activeContainer,ignoreFocusOut:()=>!1,backKeybindingLabel:()=>{},setContextKey:s=>this.setContextKey(s),linkOpenerDelegate:s=>{this.instantiationService.invokeFunction(a=>{a.get(Ug).open(s,{allowCommands:!0,fromUserGesture:!0})})},returnFocus:()=>t.focus(),styles:this.computeStyles(),hoverDelegate:this._register(this.instantiationService.createInstance(Jr))},r=this._register(this.instantiationService.createInstance(fo,{...o,...i}));return r.layout(t.activeContainerDimension,t.activeContainerOffset.quickPickTop),this._register(t.onDidLayoutActiveContainer(s=>{de(t.activeContainer)===de(r.container)&&r.layout(s,t.activeContainerOffset.quickPickTop)})),this._register(t.onDidChangeActiveContainer(()=>{r.isVisible()||r.layout(t.activeContainerDimension,t.activeContainerOffset.quickPickTop)})),this._register(r.onShow(()=>{this.resetContextKeys(),this._onShow.fire()})),this._register(r.onHide(()=>{this.resetContextKeys(),this._onHide.fire()})),r}setContextKey(t){let i;t&&(i=this.contexts.get(t),i||(i=new Ae(t,!1).bindTo(this.contextKeyService),this.contexts.set(t,i))),!(i&&i.get())&&(this.resetContextKeys(),i?.set(!0))}resetContextKeys(){this.contexts.forEach(t=>{t.get()&&t.reset()})}pick(t,i,o=vi.None){return this.controller.pick(t,i,o)}input(t={},i=vi.None){return this.controller.input(t,i)}createQuickPick(t={useSeparators:!1}){return this.controller.createQuickPick(t)}createInputBox(){return this.controller.createInputBox()}createQuickWidget(){return this.controller.createQuickWidget()}focus(){this.controller.focus()}toggle(){this.controller.toggle()}navigate(t,i){this.controller.navigate(t,i)}accept(t){return this.controller.accept(t)}back(){return this.controller.back()}cancel(){return this.controller.cancel()}updateStyles(){this.hasController&&this.controller.applyStyles(this.computeStyles())}computeStyles(){return{widget:{quickInputBackground:O(Dp),quickInputForeground:O(vy),quickInputTitleBackground:O(yy),widgetBorder:O(sv),widgetShadow:O(so)},inputBox:Jp,toggle:Xp,countBadge:_y,button:Ey,progressBar:ky,keybindingLabel:wy,list:Vo({listBackground:Dp,listFocusBackground:sa,listFocusForeground:ra,listInactiveFocusForeground:ra,listInactiveSelectionIconForeground:kd,listInactiveFocusBackground:sa,listFocusOutline:Ye,listInactiveFocusOutline:Ye}),pickerGroup:{pickerGroupBorder:O(Ty),pickerGroupForeground:O(Ed)}}}};Fc=ie([oe(0,St),oe(1,At),oe(2,gd),oe(3,Rl),oe(4,_t)],Fc);export{Fc as QuickInputService};
