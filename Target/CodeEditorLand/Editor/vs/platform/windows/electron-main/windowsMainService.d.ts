import { WebContents } from "electron";
import { Disposable } from "vs/base/common/lifecycle";
import { IProcessEnvironment } from "vs/base/common/platform";
import { IAuxiliaryWindowsMainService } from "vs/platform/auxiliaryWindow/electron-main/auxiliaryWindows";
import { IBackupMainService } from "vs/platform/backup/electron-main/backup";
import { IConfigurationService } from "vs/platform/configuration/common/configuration";
import { ICSSDevelopmentService } from "vs/platform/cssDev/node/cssDevService";
import { IDialogMainService } from "vs/platform/dialogs/electron-main/dialogMainService";
import { IEnvironmentMainService } from "vs/platform/environment/electron-main/environmentMainService";
import { IFileService } from "vs/platform/files/common/files";
import { IInstantiationService } from "vs/platform/instantiation/common/instantiation";
import { ILifecycleMainService } from "vs/platform/lifecycle/electron-main/lifecycleMainService";
import { ILogService } from "vs/platform/log/common/log";
import { ILoggerMainService } from "vs/platform/log/electron-main/loggerService";
import { IPolicyService } from "vs/platform/policy/common/policy";
import { IProtocolMainService } from "vs/platform/protocol/electron-main/protocol";
import { IStateService } from "vs/platform/state/node/state";
import { IThemeMainService } from "vs/platform/theme/electron-main/themeMainService";
import { IUserDataProfilesMainService } from "vs/platform/userDataProfile/electron-main/userDataProfile";
import { IOpenEmptyWindowOptions } from "vs/platform/window/common/window";
import { ICodeWindow } from "vs/platform/window/electron-main/window";
import { IOpenConfiguration, IOpenEmptyConfiguration, IWindowsMainService } from "vs/platform/windows/electron-main/windows";
import { IWorkspacesHistoryMainService } from "vs/platform/workspaces/electron-main/workspacesHistoryMainService";
import { IWorkspacesManagementMainService } from "vs/platform/workspaces/electron-main/workspacesManagementMainService";
export declare class WindowsMainService extends Disposable implements IWindowsMainService {
    private readonly machineId;
    private readonly sqmId;
    private readonly devDeviceId;
    private readonly initialUserEnv;
    private readonly logService;
    private readonly loggerService;
    private readonly stateService;
    private readonly policyService;
    private readonly environmentMainService;
    private readonly userDataProfilesMainService;
    private readonly lifecycleMainService;
    private readonly backupMainService;
    private readonly configurationService;
    private readonly workspacesHistoryMainService;
    private readonly workspacesManagementMainService;
    private readonly instantiationService;
    private readonly dialogMainService;
    private readonly fileService;
    private readonly protocolMainService;
    private readonly themeMainService;
    private readonly auxiliaryWindowsMainService;
    private readonly cssDevelopmentService;
    readonly _serviceBrand: undefined;
    private readonly _onDidOpenWindow;
    readonly onDidOpenWindow: any;
    private readonly _onDidSignalReadyWindow;
    readonly onDidSignalReadyWindow: any;
    private readonly _onDidDestroyWindow;
    readonly onDidDestroyWindow: any;
    private readonly _onDidChangeWindowsCount;
    readonly onDidChangeWindowsCount: any;
    private readonly _onDidMaximizeWindow;
    readonly onDidMaximizeWindow: any;
    private readonly _onDidUnmaximizeWindow;
    readonly onDidUnmaximizeWindow: any;
    private readonly _onDidChangeFullScreen;
    readonly onDidChangeFullScreen: any;
    private readonly _onDidTriggerSystemContextMenu;
    readonly onDidTriggerSystemContextMenu: any;
    private readonly windows;
    private readonly windowsStateHandler;
    constructor(machineId: string, sqmId: string, devDeviceId: string, initialUserEnv: IProcessEnvironment, logService: ILogService, loggerService: ILoggerMainService, stateService: IStateService, policyService: IPolicyService, environmentMainService: IEnvironmentMainService, userDataProfilesMainService: IUserDataProfilesMainService, lifecycleMainService: ILifecycleMainService, backupMainService: IBackupMainService, configurationService: IConfigurationService, workspacesHistoryMainService: IWorkspacesHistoryMainService, workspacesManagementMainService: IWorkspacesManagementMainService, instantiationService: IInstantiationService, dialogMainService: IDialogMainService, fileService: IFileService, protocolMainService: IProtocolMainService, themeMainService: IThemeMainService, auxiliaryWindowsMainService: IAuxiliaryWindowsMainService, cssDevelopmentService: ICSSDevelopmentService);
    private registerListeners;
    openEmptyWindow(openConfig: IOpenEmptyConfiguration, options?: IOpenEmptyWindowOptions): Promise<ICodeWindow[]>;
    openExistingWindow(window: ICodeWindow, openConfig: IOpenConfiguration): void;
    open(openConfig: IOpenConfiguration): Promise<ICodeWindow[]>;
    private handleWaitMarkerFile;
    private doOpen;
    private doOpenFilesInExistingWindow;
    private focusMainOrChildWindow;
    private doAddFoldersToExistingWindow;
    private doOpenEmpty;
    private doOpenFolderOrWorkspace;
    private getPathsToOpen;
    private doExtractPathsFromAPI;
    private doExtractPathsFromCLI;
    private cliArgToUri;
    private doGetPathsFromLastSession;
    private getRestoreWindowsSetting;
    private resolveOpenable;
    private doResolveRemoteOpenable;
    private resourceFromOpenable;
    private doResolveFilePath;
    private onUNCHostNotAllowed;
    private doResolveRemotePath;
    private shouldOpenNewWindow;
    openExtensionDevelopmentHostWindow(extensionDevelopmentPaths: string[], openConfig: IOpenConfiguration): Promise<ICodeWindow[]>;
    private openInBrowserWindow;
    private doOpenInBrowserWindow;
    private resolveProfileForBrowserWindow;
    private onWindowClosed;
    private onWindowDestroyed;
    getFocusedWindow(): ICodeWindow | undefined;
    getLastActiveWindow(): ICodeWindow | undefined;
    private getLastActiveWindowForAuthority;
    private doGetLastActiveWindow;
    sendToFocused(channel: string, ...args: any[]): void;
    sendToOpeningWindow(channel: string, ...args: any[]): void;
    sendToAll(channel: string, payload?: any, windowIdsToIgnore?: number[]): void;
    getWindows(): ICodeWindow[];
    getWindowCount(): number;
    getWindowById(windowId: number): ICodeWindow | undefined;
    getWindowByWebContents(webContents: WebContents): ICodeWindow | undefined;
}
