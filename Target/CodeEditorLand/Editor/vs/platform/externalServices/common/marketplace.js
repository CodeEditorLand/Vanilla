import"../../../../vs/base/parts/request/common/request.js";import"../../../../vs/platform/configuration/common/configuration.js";import"../../../../vs/platform/environment/common/environment.js";import{getServiceMachineId as a}from"../../../../vs/platform/externalServices/common/serviceMachineId.js";import"../../../../vs/platform/files/common/files.js";import"../../../../vs/platform/product/common/productService.js";import"../../../../vs/platform/storage/common/storage.js";import{TelemetryLevel as S}from"../../../../vs/platform/telemetry/common/telemetry.js";import{getTelemetryLevel as d,supportsTelemetry as s}from"../../../../vs/platform/telemetry/common/telemetryUtils.js";async function V(r,i,o,m,n,c,I){const e={"X-Market-Client-Id":`VSCode ${r}`,"User-Agent":`VSCode ${r} (${i.nameShort})`};if(s(i,o)&&d(m)===S.USAGE){const t=await a(o,n,c);e["X-Market-User-Id"]=t,e["VSCode-SessionId"]=I.machineId||t}return e}export{V as resolveMarketplaceHeaders};
