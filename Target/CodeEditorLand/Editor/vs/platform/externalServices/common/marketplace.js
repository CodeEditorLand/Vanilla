import{TelemetryLevel as a}from"../../telemetry/common/telemetry.js";import{getTelemetryLevel as p,supportsTelemetry as I}from"../../telemetry/common/telemetryUtils.js";import{getServiceMachineId as S}from"./serviceMachineId.js";async function l(r,o,t,m,n,c,s){const e={"X-Market-Client-Id":`VSCode ${r}`,"User-Agent":`VSCode ${r} (${o.nameShort})`};if(I(o,t)&&p(m)===a.USAGE){const i=await S(t,n,c);e["X-Market-User-Id"]=i,e["VSCode-SessionId"]=s.machineId||i}return e}export{l as resolveMarketplaceHeaders};
