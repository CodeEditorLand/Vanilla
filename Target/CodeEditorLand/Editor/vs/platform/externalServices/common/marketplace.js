import"../../../base/parts/request/common/request.js";import"../../configuration/common/configuration.js";import"../../environment/common/environment.js";import"../../files/common/files.js";import"../../product/common/productService.js";import"../../storage/common/storage.js";import{TelemetryLevel as a}from"../../telemetry/common/telemetry.js";import{getTelemetryLevel as S,supportsTelemetry as d}from"../../telemetry/common/telemetryUtils.js";import{getServiceMachineId as s}from"./serviceMachineId.js";async function V(r,i,o,m,n,c,I){const e={"X-Market-Client-Id":`VSCode ${r}`,"User-Agent":`VSCode ${r} (${i.nameShort})`};if(d(i,o)&&S(m)===a.USAGE){const t=await s(o,n,c);e["X-Market-User-Id"]=t,e["VSCode-SessionId"]=I.machineId||t}return e}export{V as resolveMarketplaceHeaders};
