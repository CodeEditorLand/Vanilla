import{createHash as n}from"crypto";import{Schemas as d}from"../../../base/common/network.js";import{isLinux as s,isMacintosh as f,isWindows as p}from"../../../base/common/platform.js";import{originalFSPath as m}from"../../../base/common/resources.js";const g=128/4;function l(e){function i(){let r=e.scheme===d.file?m(e):e.toString();return s||(r=r.toLowerCase()),n("md5").update(r).digest("hex")}return{id:i(),configPath:e}}function k(e,i){function r(){if(e.scheme!==d.file)return n("md5").update(e.toString()).digest("hex");if(!i)return;let t;return s?t=i.ino:f?t=i.birthtime.getTime():p&&(typeof i.birthtimeMs=="number"?t=Math.floor(i.birthtimeMs):t=i.birthtime.getTime()),n("md5").update(e.fsPath).update(t?String(t):"").digest("hex")}const o=r();if(typeof o=="string")return{id:o,uri:e}}function W(){return{id:(Date.now()+Math.round(Math.random()*1e3)).toString()}}export{g as NON_EMPTY_WORKSPACE_ID_LENGTH,W as createEmptyWorkspaceIdentifier,k as getSingleFolderWorkspaceIdentifier,l as getWorkspaceIdentifier};
