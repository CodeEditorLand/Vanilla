var u=Object.defineProperty;var v=Object.getOwnPropertyDescriptor;var m=(a,i,e,r)=>{for(var n=r>1?void 0:r?v(i,e):i,c=a.length-1,s;c>=0;c--)(s=a[c])&&(n=(r?s(i,e,n):s(n))||n);return r&&n&&u(i,e,n),n},t=(a,i)=>(e,r)=>i(e,r,a);import{Disposable as p}from"../../../base/common/lifecycle.js";import{IInstantiationService as l,createDecorator as d}from"../../instantiation/common/instantiation.js";import{ILifecycleMainService as M,LifecycleMainPhase as b}from"../../lifecycle/electron-main/lifecycleMainService.js";import{ILogService as f}from"../../log/common/log.js";import{Menubar as S}from"./menubar.js";const w=d("menubarMainService");let o=class extends p{constructor(e,r,n){super();this.instantiationService=e;this.lifecycleMainService=r;this.logService=n}menubar=this.installMenuBarAfterWindowOpen();async installMenuBarAfterWindowOpen(){return await this.lifecycleMainService.when(b.AfterWindowOpen),this._register(this.instantiationService.createInstance(S))}async updateMenubar(e,r){this.logService.trace("menubarService#updateMenubar",e),(await this.menubar).updateMenu(r,e)}};o=m([t(0,l),t(1,M),t(2,f)],o);export{w as IMenubarMainService,o as MenubarMainService};
