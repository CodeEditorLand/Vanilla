var u=Object.defineProperty;var v=Object.getOwnPropertyDescriptor;var m=(a,n,e,r)=>{for(var i=r>1?void 0:r?v(n,e):n,c=a.length-1,s;c>=0;c--)(s=a[c])&&(i=(r?s(n,e,i):s(i))||i);return r&&i&&u(n,e,i),i},t=(a,n)=>(e,r)=>n(e,r,a);import{createDecorator as l,IInstantiationService as p}from"../../instantiation/common/instantiation.js";import{ILifecycleMainService as d,LifecycleMainPhase as M}from"../../lifecycle/electron-main/lifecycleMainService.js";import{ILogService as b}from"../../log/common/log.js";import"../common/menubar.js";import{Menubar as f}from"./menubar.js";import{Disposable as S}from"../../../base/common/lifecycle.js";const A=l("menubarMainService");let o=class extends S{constructor(e,r,i){super();this.instantiationService=e;this.lifecycleMainService=r;this.logService=i}menubar=this.installMenuBarAfterWindowOpen();async installMenuBarAfterWindowOpen(){return await this.lifecycleMainService.when(M.AfterWindowOpen),this._register(this.instantiationService.createInstance(f))}async updateMenubar(e,r){this.logService.trace("menubarService#updateMenubar",e),(await this.menubar).updateMenu(r,e)}};o=m([t(0,p),t(1,d),t(2,b)],o);export{A as IMenubarMainService,o as MenubarMainService};
