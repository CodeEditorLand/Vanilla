var u=Object.defineProperty;var v=Object.getOwnPropertyDescriptor;var m=(a,n,e,r)=>{for(var i=r>1?void 0:r?v(n,e):n,c=a.length-1,s;c>=0;c--)(s=a[c])&&(i=(r?s(n,e,i):s(i))||i);return r&&i&&u(n,e,i),i},t=(a,n)=>(e,r)=>n(e,r,a);import{Disposable as l}from"../../../base/common/lifecycle.js";import{createDecorator as p,IInstantiationService as d}from"../../instantiation/common/instantiation.js";import{ILifecycleMainService as M,LifecycleMainPhase as b}from"../../lifecycle/electron-main/lifecycleMainService.js";import{ILogService as f}from"../../log/common/log.js";import"../common/menubar.js";import{Menubar as S}from"./menubar.js";const A=p("menubarMainService");let o=class extends l{constructor(e,r,i){super();this.instantiationService=e;this.lifecycleMainService=r;this.logService=i}menubar=this.installMenuBarAfterWindowOpen();async installMenuBarAfterWindowOpen(){return await this.lifecycleMainService.when(b.AfterWindowOpen),this._register(this.instantiationService.createInstance(S))}async updateMenubar(e,r){this.logService.trace("menubarService#updateMenubar",e),(await this.menubar).updateMenu(r,e)}};o=m([t(0,d),t(1,M),t(2,f)],o);export{A as IMenubarMainService,o as MenubarMainService};
