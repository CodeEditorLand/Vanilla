{
  "version": 3,
  "sources": ["../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/platform/userDataSync/common/content.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport type { JSONPath } from \"../../../base/common/json.js\";\nimport { setProperty } from \"../../../base/common/jsonEdit.js\";\nimport type { FormattingOptions } from \"../../../base/common/jsonFormatter.js\";\n\nexport function edit(\n\tcontent: string,\n\toriginalPath: JSONPath,\n\tvalue: any,\n\tformattingOptions: FormattingOptions,\n): string {\n\tconst edit = setProperty(\n\t\tcontent,\n\t\toriginalPath,\n\t\tvalue,\n\t\tformattingOptions,\n\t)[0];\n\tif (edit) {\n\t\tcontent =\n\t\t\tcontent.substring(0, edit.offset) +\n\t\t\tedit.content +\n\t\t\tcontent.substring(edit.offset + edit.length);\n\t}\n\treturn content;\n}\n\nexport function getLineStartOffset(\n\tcontent: string,\n\teol: string,\n\tatOffset: number,\n): number {\n\tlet lineStartingOffset = atOffset;\n\twhile (lineStartingOffset >= 0) {\n\t\tif (content.charAt(lineStartingOffset) === eol.charAt(eol.length - 1)) {\n\t\t\tif (eol.length === 1) {\n\t\t\t\treturn lineStartingOffset + 1;\n\t\t\t}\n\t\t}\n\t\tlineStartingOffset--;\n\t\tif (eol.length === 2) {\n\t\t\tif (\n\t\t\t\tlineStartingOffset >= 0 &&\n\t\t\t\tcontent.charAt(lineStartingOffset) === eol.charAt(0)\n\t\t\t) {\n\t\t\t\treturn lineStartingOffset + 2;\n\t\t\t}\n\t\t}\n\t}\n\treturn 0;\n}\n\nexport function getLineEndOffset(\n\tcontent: string,\n\teol: string,\n\tatOffset: number,\n): number {\n\tlet lineEndOffset = atOffset;\n\twhile (lineEndOffset >= 0) {\n\t\tif (content.charAt(lineEndOffset) === eol.charAt(eol.length - 1)) {\n\t\t\tif (eol.length === 1) {\n\t\t\t\treturn lineEndOffset;\n\t\t\t}\n\t\t}\n\t\tlineEndOffset++;\n\t\tif (eol.length === 2) {\n\t\t\tif (\n\t\t\t\tlineEndOffset >= 0 &&\n\t\t\t\tcontent.charAt(lineEndOffset) === eol.charAt(1)\n\t\t\t) {\n\t\t\t\treturn lineEndOffset;\n\t\t\t}\n\t\t}\n\t}\n\treturn content.length - 1;\n}\n"],
  "mappings": ";;AAMA,SAAS,mBAAmB;AAGrB,SAAS,KACf,SACA,cACA,OACA,mBACS;AACT,QAAMA,QAAO;AAAA,IACZ;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACD,EAAE,CAAC;AACH,MAAIA,OAAM;AACT,cACC,QAAQ,UAAU,GAAGA,MAAK,MAAM,IAChCA,MAAK,UACL,QAAQ,UAAUA,MAAK,SAASA,MAAK,MAAM;AAAA,EAC7C;AACA,SAAO;AACR;AAnBgB;AAqBT,SAAS,mBACf,SACA,KACA,UACS;AACT,MAAI,qBAAqB;AACzB,SAAO,sBAAsB,GAAG;AAC/B,QAAI,QAAQ,OAAO,kBAAkB,MAAM,IAAI,OAAO,IAAI,SAAS,CAAC,GAAG;AACtE,UAAI,IAAI,WAAW,GAAG;AACrB,eAAO,qBAAqB;AAAA,MAC7B;AAAA,IACD;AACA;AACA,QAAI,IAAI,WAAW,GAAG;AACrB,UACC,sBAAsB,KACtB,QAAQ,OAAO,kBAAkB,MAAM,IAAI,OAAO,CAAC,GAClD;AACD,eAAO,qBAAqB;AAAA,MAC7B;AAAA,IACD;AAAA,EACD;AACA,SAAO;AACR;AAvBgB;AAyBT,SAAS,iBACf,SACA,KACA,UACS;AACT,MAAI,gBAAgB;AACpB,SAAO,iBAAiB,GAAG;AAC1B,QAAI,QAAQ,OAAO,aAAa,MAAM,IAAI,OAAO,IAAI,SAAS,CAAC,GAAG;AACjE,UAAI,IAAI,WAAW,GAAG;AACrB,eAAO;AAAA,MACR;AAAA,IACD;AACA;AACA,QAAI,IAAI,WAAW,GAAG;AACrB,UACC,iBAAiB,KACjB,QAAQ,OAAO,aAAa,MAAM,IAAI,OAAO,CAAC,GAC7C;AACD,eAAO;AAAA,MACR;AAAA,IACD;AAAA,EACD;AACA,SAAO,QAAQ,SAAS;AACzB;AAvBgB;",
  "names": ["edit"]
}
