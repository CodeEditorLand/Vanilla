var d=Object.defineProperty;var f=Object.getOwnPropertyDescriptor;var I=(n,t,i,c)=>{for(var r=c>1?void 0:c?f(t,i):t,o=n.length-1,a;o>=0;o--)(a=n[o])&&(r=(c?a(t,i,r):a(r))||r);return c&&r&&d(t,i,r),r},e=(n,t)=>(i,c)=>t(i,c,n);import{Event as s}from"../../../base/common/event.js";import{INativeHostService as u}from"../../native/common/native.js";import{IProductService as w}from"../../product/common/productService.js";import{IStorageService as M}from"../../storage/common/storage.js";import{ITelemetryService as l}from"../../telemetry/common/telemetry.js";import{UserDataAutoSyncService as h}from"../common/userDataAutoSyncService.js";import{IUserDataSyncEnablementService as b,IUserDataSyncLogService as E,IUserDataSyncService as x,IUserDataSyncStoreManagementService as F,IUserDataSyncStoreService as L}from"../common/userDataSync.js";import{IUserDataSyncAccountService as N}from"../common/userDataSyncAccount.js";import{IUserDataSyncMachinesService as O}from"../common/userDataSyncMachines.js";let m=class extends h{constructor(t,i,c,r,o,a,y,p,D,U,g){super(t,i,c,r,o,y,p,D,U,g),this._register(s.debounce(s.any(s.map(a.onDidFocusMainWindow,()=>"windowFocus"),s.map(a.onDidOpenMainWindow,()=>"windowOpen")),(S,v)=>S?[...S,v]:[v],1e3)(S=>this.triggerSync(S,!0,!1)))}};m=I([e(0,w),e(1,F),e(2,L),e(3,b),e(4,x),e(5,u),e(6,E),e(7,N),e(8,l),e(9,O),e(10,M)],m);export{m as UserDataAutoSyncService};
