import{toDisposable as n}from"../../../base/common/lifecycle.js";import{createDecorator as i}from"../../instantiation/common/instantiation.js";const m=i("remoteSocketFactoryService");class y{factories={};register(e,o){return this.factories[e]??=[],this.factories[e].push(o),n(()=>{const t=this.factories[e]?.indexOf(o);typeof t=="number"&&t>=0&&this.factories[e]?.splice(t,1)})}getSocketFactory(e){return(this.factories[e.type]||[]).find(t=>t.supports(e))}connect(e,o,t,c){const r=this.getSocketFactory(e);if(!r)throw new Error(`No socket factory found for ${e}`);return r.connect(e,o,t,c)}}export{m as IRemoteSocketFactoryService,y as RemoteSocketFactoryService};
