var Xs=Object.create;var gr=Object.defineProperty;var Ni=Object.getOwnPropertyDescriptor;var Ys=Object.getOwnPropertyNames;var Zs=Object.getPrototypeOf,ea=Object.prototype.hasOwnProperty;var ta=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var na=(n,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Ys(e))!ea.call(n,i)&&i!==t&&gr(n,i,{get:()=>e[i],enumerable:!(r=Ni(e,i))||r.enumerable});return n};var ra=(n,e,t)=>(t=n!=null?Xs(Zs(n)):{},na(e||!n||!n.__esModule?gr(t,"default",{value:n,enumerable:!0}):t,n));var at=(n,e,t,r)=>{for(var i=r>1?void 0:r?Ni(e,t):e,o=n.length-1,a;o>=0;o--)(a=n[o])&&(i=(r?a(e,t,i):a(i))||i);return r&&i&&gr(e,t,i),i},lt=(n,e)=>(t,r)=>e(t,r,n);var ks=ta((Eb,Cs)=>{"use strict";function Eu(n,e){var t=n;e.slice(0,-1).forEach(function(i){t=t[i]||{}});var r=e[e.length-1];return r in t}function Ps(n){return typeof n=="number"||/^0x[0-9a-f]+$/i.test(n)?!0:/^[-+]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(n)}function Rs(n,e){return e==="constructor"&&typeof n[e]=="function"||e==="__proto__"}Cs.exports=function(n,e){e||(e={});var t={bools:{},strings:{},unknownFn:null};typeof e.unknown=="function"&&(t.unknownFn=e.unknown),typeof e.boolean=="boolean"&&e.boolean?t.allBools=!0:[].concat(e.boolean).filter(Boolean).forEach(function(h){t.bools[h]=!0});var r={};function i(h){return r[h].some(function(_){return t.bools[_]})}Object.keys(e.alias||{}).forEach(function(h){r[h]=[].concat(e.alias[h]),r[h].forEach(function(_){r[_]=[h].concat(r[h].filter(function(O){return _!==O}))})}),[].concat(e.string).filter(Boolean).forEach(function(h){t.strings[h]=!0,r[h]&&[].concat(r[h]).forEach(function(_){t.strings[_]=!0})});var o=e.default||{},a={_:[]};function l(h,_){return t.allBools&&/^--[^=]+$/.test(_)||t.strings[h]||t.bools[h]||r[h]}function u(h,_,O){for(var T=h,fe=0;fe<_.length-1;fe++){var oe=_[fe];if(Rs(T,oe))return;T[oe]===void 0&&(T[oe]={}),(T[oe]===Object.prototype||T[oe]===Number.prototype||T[oe]===String.prototype)&&(T[oe]={}),T[oe]===Array.prototype&&(T[oe]=[]),T=T[oe]}var ge=_[_.length-1];Rs(T,ge)||((T===Object.prototype||T===Number.prototype||T===String.prototype)&&(T={}),T===Array.prototype&&(T=[]),T[ge]===void 0||t.bools[ge]||typeof T[ge]=="boolean"?T[ge]=O:Array.isArray(T[ge])?T[ge].push(O):T[ge]=[T[ge],O])}function c(h,_,O){if(!(O&&t.unknownFn&&!l(h,O)&&t.unknownFn(O)===!1)){var T=!t.strings[h]&&Ps(_)?Number(_):_;u(a,h.split("."),T),(r[h]||[]).forEach(function(fe){u(a,fe.split("."),T)})}}Object.keys(t.bools).forEach(function(h){c(h,o[h]===void 0?!1:o[h])});var d=[];n.indexOf("--")!==-1&&(d=n.slice(n.indexOf("--")+1),n=n.slice(0,n.indexOf("--")));for(var p=0;p<n.length;p++){var f=n[p],g,I;if(/^--.+=/.test(f)){var P=f.match(/^--([^=]+)=([\s\S]*)$/);g=P[1];var R=P[2];t.bools[g]&&(R=R!=="false"),c(g,R,f)}else if(/^--no-.+/.test(f))g=f.match(/^--no-(.+)/)[1],c(g,!1,f);else if(/^--.+/.test(f))g=f.match(/^--(.+)/)[1],I=n[p+1],I!==void 0&&!/^(-|--)[^-]/.test(I)&&!t.bools[g]&&!t.allBools&&(!r[g]||!i(g))?(c(g,I,f),p+=1):/^(true|false)$/.test(I)?(c(g,I==="true",f),p+=1):c(g,t.strings[g]?"":!0,f);else if(/^-[^-]+/.test(f)){for(var w=f.slice(1,-1).split(""),W=!1,M=0;M<w.length;M++){if(I=f.slice(M+2),I==="-"){c(w[M],I,f);continue}if(/[A-Za-z]/.test(w[M])&&I[0]==="="){c(w[M],I.slice(1),f),W=!0;break}if(/[A-Za-z]/.test(w[M])&&/-?\d+(\.\d*)?(e-?\d+)?$/.test(I)){c(w[M],I,f),W=!0;break}if(w[M+1]&&w[M+1].match(/\W/)){c(w[M],f.slice(M+2),f),W=!0;break}else c(w[M],t.strings[w[M]]?"":!0,f)}g=f.slice(-1)[0],!W&&g!=="-"&&(n[p+1]&&!/^(-|--)[^-]/.test(n[p+1])&&!t.bools[g]&&(!r[g]||!i(g))?(c(g,n[p+1],f),p+=1):n[p+1]&&/^(true|false)$/.test(n[p+1])?(c(g,n[p+1]==="true",f),p+=1):c(g,t.strings[g]?"":!0,f))}else if((!t.unknownFn||t.unknownFn(f)!==!1)&&a._.push(t.strings._||!Ps(f)?f:Number(f)),e.stopEarly){a._.push.apply(a._,n.slice(p+1));break}}return Object.keys(o).forEach(function(h){Eu(a,h.split("."))||(u(a,h.split("."),o[h]),(r[h]||[]).forEach(function(_){u(a,_.split("."),o[h])}))}),e["--"]?a["--"]=d.slice():d.forEach(function(h){a._.push(h)}),a}});var hr=class{unexpectedErrorHandler;listeners;constructor(){this.listeners=[],this.unexpectedErrorHandler=function(e){setTimeout(()=>{throw e.stack?De.isErrorNoTelemetry(e)?new De(e.message+`

`+e.stack):new Error(e.message+`

`+e.stack):e},0)}}addListener(e){return this.listeners.push(e),()=>{this._removeListener(e)}}emit(e){this.listeners.forEach(t=>{t(e)})}_removeListener(e){this.listeners.splice(this.listeners.indexOf(e),1)}setUnexpectedErrorHandler(e){this.unexpectedErrorHandler=e}getUnexpectedErrorHandler(){return this.unexpectedErrorHandler}onUnexpectedError(e){this.unexpectedErrorHandler(e),this.emit(e)}onUnexpectedExternalError(e){this.unexpectedErrorHandler(e)}},Mi=new hr;function ct(n){Mi.onUnexpectedError(n)}function Se(n){yr(n)||Mi.onUnexpectedError(n)}var br="Canceled";function yr(n){return n instanceof te?!0:n instanceof Error&&n.name===br&&n.message===br}var te=class extends Error{constructor(){super(br),this.name=this.message}};function Fi(n){return n?new Error(`Illegal state: ${n}`):new Error("Illegal state")}var De=class n extends Error{name;constructor(e){super(e),this.name="CodeExpectedError"}static fromError(e){if(e instanceof n)return e;let t=new n;return t.message=e.message,t.stack=e.stack,t}static isErrorNoTelemetry(e){return e.name==="CodeExpectedError"}},ut=class n extends Error{constructor(e){super(e||"An unexpected bug occurred."),Object.setPrototypeOf(this,n.prototype)}};function Ki(n){return n.filter(e=>!!e)}function Bi(n,e=t=>t){let t=new Set;return n.filter(r=>{let i=e(r);return t.has(i)?!1:(t.add(i),!0)})}var Wi;(l=>{function n(u){return u<0}l.isLessThan=n;function e(u){return u<=0}l.isLessThanOrEqual=e;function t(u){return u>0}l.isGreaterThan=t;function r(u){return u===0}l.isNeitherLessOrGreaterThan=r,l.greaterThan=1,l.lessThan=-1,l.neitherLessOrGreaterThan=0})(Wi||={});var Vi=class n{constructor(e){this.iterate=e}static empty=new n(e=>{});forEach(e){this.iterate(t=>(e(t),!0))}toArray(){let e=[];return this.iterate(t=>(e.push(t),!0)),e}filter(e){return new n(t=>this.iterate(r=>e(r)?t(r):!0))}map(e){return new n(t=>this.iterate(r=>t(e(r))))}some(e){let t=!1;return this.iterate(r=>(t=e(r),!t)),t}findFirst(e){let t;return this.iterate(r=>e(r)?(t=r,!1):!0),t}findLast(e){let t;return this.iterate(r=>(e(r)&&(t=r),!0)),t}findLastMaxBy(e){let t,r=!0;return this.iterate(i=>((r||Wi.isGreaterThan(e(i,t)))&&(r=!1,t=i),!0)),t}};function vr(){return globalThis._VSCODE_NLS_MESSAGES}function Ft(){return globalThis._VSCODE_NLS_LANGUAGE}var oa=Ft()==="pseudo"||typeof document<"u"&&document.location&&document.location.hash.indexOf("pseudo=true")>=0;function Tn(n,e){let t;return e.length===0?t=n:t=n.replace(/\{(\d+)\}/g,(r,i)=>{let o=i[0],a=e[o],l=r;return typeof a=="string"?l=a:(typeof a=="number"||typeof a=="boolean"||a===void 0||a===null)&&(l=String(a)),l}),oa&&(t="\uFF3B"+t.replace(/[aouei]/g,"$&$&")+"\uFF3D"),t}function m(n,e,...t){return Tn(typeof n=="number"?$i(n,e):e,t)}function $i(n,e){let t=vr()?.[n];if(typeof t!="string"){if(typeof e=="string")return e;throw new Error(`!!! NLS MISSING: ${n} !!!`)}return t}function He(n,e,...t){let r;typeof n=="number"?r=$i(n,e):r=e;let i=Tn(r,t);return{value:i,original:e===r?i:Tn(e,t)}}var dt="en",Bt=!1,Wt=!1,Kt=!1,sa=!1,ji=!1,Ir=!1,aa=!1,Hi=!1,la=!1,ua=!1,_n,En=dt,zi=dt,ca,Pe,Re=globalThis,ce;typeof Re.vscode<"u"&&typeof Re.vscode.process<"u"?ce=Re.vscode.process:typeof process<"u"&&typeof process?.versions?.node=="string"&&(ce=process);var Gi=typeof ce?.versions?.electron=="string",da=Gi&&ce?.type==="renderer";if(typeof ce=="object"){Bt=ce.platform==="win32",Wt=ce.platform==="darwin",Kt=ce.platform==="linux",sa=Kt&&!!ce.env.SNAP&&!!ce.env.SNAP_REVISION,aa=Gi,la=!!ce.env.CI||!!ce.env.BUILD_ARTIFACTSTAGINGDIRECTORY,_n=dt,En=dt;let n=ce.env.VSCODE_NLS_CONFIG;if(n)try{let e=JSON.parse(n);_n=e.userLocale,zi=e.osLocale,En=e.resolvedLanguage||dt,ca=e.languagePack?.translationsConfigFile}catch{}ji=!0}else typeof navigator=="object"&&!da?(Pe=navigator.userAgent,Bt=Pe.indexOf("Windows")>=0,Wt=Pe.indexOf("Macintosh")>=0,Hi=(Pe.indexOf("Macintosh")>=0||Pe.indexOf("iPad")>=0||Pe.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,Kt=Pe.indexOf("Linux")>=0,ua=Pe?.indexOf("Mobi")>=0,Ir=!0,En=Ft()||dt,_n=navigator.language.toLowerCase(),zi=_n):console.error("Unable to resolve platform.");function Ji(n){switch(n){case 0:return"Web";case 1:return"Mac";case 2:return"Linux";case 3:return"Windows"}}var xr=0;Wt?xr=1:Bt?xr=3:Kt&&(xr=2);var N=Bt,he=Wt,me=Kt;var Qi=ji;var qt=Ir,pa=Ir&&typeof Re.importScripts=="function",Xi=pa?Re.origin:void 0;var Ee=Pe,Le=En,fa;(r=>{function n(){return Le}r.value=n;function e(){return Le.length===2?Le==="en":Le.length>=3?Le[0]==="e"&&Le[1]==="n"&&Le[2]==="-":!1}r.isDefaultVariant=e;function t(){return Le==="en"}r.isDefault=t})(fa||={});var ma=typeof Re.postMessage=="function"&&!Re.importScripts,Yi=(()=>{if(ma){let n=[];Re.addEventListener("message",t=>{if(t.data&&t.data.vscodeScheduleAsyncWork)for(let r=0,i=n.length;r<i;r++){let o=n[r];if(o.id===t.data.vscodeScheduleAsyncWork){n.splice(r,1),o.callback();return}}});let e=0;return t=>{let r=++e;n.push({id:r,callback:t}),Re.postMessage({vscodeScheduleAsyncWork:r},"*")}}return n=>setTimeout(n)})();var wn=Wt||Hi?2:Bt?1:3;var Tr=!!(Ee&&Ee.indexOf("Chrome")>=0),Zi=!!(Ee&&Ee.indexOf("Firefox")>=0),eo=!!(!Tr&&Ee&&Ee.indexOf("Safari")>=0),to=!!(Ee&&Ee.indexOf("Edg/")>=0),vc=!!(Ee&&Ee.indexOf("Android")>=0);var Ge,Er=globalThis.vscode;if(typeof Er<"u"&&typeof Er.process<"u"){let n=Er.process;Ge={get platform(){return n.platform},get arch(){return n.arch},get env(){return n.env},cwd(){return n.cwd()}}}else typeof process<"u"&&typeof process?.versions?.node=="string"?Ge={get platform(){return process.platform},get arch(){return process.arch},get env(){return process.env},cwd(){return process.env.VSCODE_CWD||process.cwd()}}:Ge={get platform(){return N?"win32":he?"darwin":"linux"},get arch(){},get env(){return{}},cwd(){return"/"}};var Ce=Ge.cwd,Oe=Ge.env,wr=Ge.platform,Tc=Ge.arch;var ga=65,ha=97,ba=90,ya=122,Ne=46,Q=47,ae=92,Ae=58,va=63,Sn=class extends Error{code;constructor(e,t,r){let i;typeof t=="string"&&t.indexOf("not ")===0?(i="must not be",t=t.replace(/^not /,"")):i="must be";let o=e.indexOf(".")!==-1?"property":"argument",a=`The "${e}" ${o} ${i} of type ${t}`;a+=`. Received type ${typeof r}`,super(a),this.code="ERR_INVALID_ARG_TYPE"}};function xa(n,e){if(n===null||typeof n!="object")throw new Sn(e,"Object",n)}function $(n,e){if(typeof n!="string")throw new Sn(e,"string",n)}var le=wr==="win32";function L(n){return n===Q||n===ae}function Pr(n){return n===Q}function Ue(n){return n>=ga&&n<=ba||n>=ha&&n<=ya}function Pn(n,e,t,r){let i="",o=0,a=-1,l=0,u=0;for(let c=0;c<=n.length;++c){if(c<n.length)u=n.charCodeAt(c);else{if(r(u))break;u=Q}if(r(u)){if(!(a===c-1||l===1))if(l===2){if(i.length<2||o!==2||i.charCodeAt(i.length-1)!==Ne||i.charCodeAt(i.length-2)!==Ne){if(i.length>2){let d=i.lastIndexOf(t);d===-1?(i="",o=0):(i=i.slice(0,d),o=i.length-1-i.lastIndexOf(t)),a=c,l=0;continue}else if(i.length!==0){i="",o=0,a=c,l=0;continue}}e&&(i+=i.length>0?`${t}..`:"..",o=2)}else i.length>0?i+=`${t}${n.slice(a+1,c)}`:i=n.slice(a+1,c),o=c-a-1;a=c,l=0}else u===Ne&&l!==-1?++l:l=-1}return i}function Ia(n){return n?`${n[0]==="."?"":"."}${n}`:""}function no(n,e){xa(e,"pathObject");let t=e.dir||e.root,r=e.base||`${e.name||""}${Ia(e.ext)}`;return t?t===e.root?`${t}${r}`:`${t}${n}${r}`:r}var z={resolve(...n){let e="",t="",r=!1;for(let i=n.length-1;i>=-1;i--){let o;if(i>=0){if(o=n[i],$(o,`paths[${i}]`),o.length===0)continue}else e.length===0?o=Ce():(o=Oe[`=${e}`]||Ce(),(o===void 0||o.slice(0,2).toLowerCase()!==e.toLowerCase()&&o.charCodeAt(2)===ae)&&(o=`${e}\\`));let a=o.length,l=0,u="",c=!1,d=o.charCodeAt(0);if(a===1)L(d)&&(l=1,c=!0);else if(L(d))if(c=!0,L(o.charCodeAt(1))){let p=2,f=p;for(;p<a&&!L(o.charCodeAt(p));)p++;if(p<a&&p!==f){let g=o.slice(f,p);for(f=p;p<a&&L(o.charCodeAt(p));)p++;if(p<a&&p!==f){for(f=p;p<a&&!L(o.charCodeAt(p));)p++;(p===a||p!==f)&&(u=`\\\\${g}\\${o.slice(f,p)}`,l=p)}}}else l=1;else Ue(d)&&o.charCodeAt(1)===Ae&&(u=o.slice(0,2),l=2,a>2&&L(o.charCodeAt(2))&&(c=!0,l=3));if(u.length>0)if(e.length>0){if(u.toLowerCase()!==e.toLowerCase())continue}else e=u;if(r){if(e.length>0)break}else if(t=`${o.slice(l)}\\${t}`,r=c,c&&e.length>0)break}return t=Pn(t,!r,"\\",L),r?`${e}\\${t}`:`${e}${t}`||"."},normalize(n){$(n,"path");let e=n.length;if(e===0)return".";let t=0,r,i=!1,o=n.charCodeAt(0);if(e===1)return Pr(o)?"\\":n;if(L(o))if(i=!0,L(n.charCodeAt(1))){let l=2,u=l;for(;l<e&&!L(n.charCodeAt(l));)l++;if(l<e&&l!==u){let c=n.slice(u,l);for(u=l;l<e&&L(n.charCodeAt(l));)l++;if(l<e&&l!==u){for(u=l;l<e&&!L(n.charCodeAt(l));)l++;if(l===e)return`\\\\${c}\\${n.slice(u)}\\`;l!==u&&(r=`\\\\${c}\\${n.slice(u,l)}`,t=l)}}}else t=1;else Ue(o)&&n.charCodeAt(1)===Ae&&(r=n.slice(0,2),t=2,e>2&&L(n.charCodeAt(2))&&(i=!0,t=3));let a=t<e?Pn(n.slice(t),!i,"\\",L):"";return a.length===0&&!i&&(a="."),a.length>0&&L(n.charCodeAt(e-1))&&(a+="\\"),r===void 0?i?`\\${a}`:a:i?`${r}\\${a}`:`${r}${a}`},isAbsolute(n){$(n,"path");let e=n.length;if(e===0)return!1;let t=n.charCodeAt(0);return L(t)||e>2&&Ue(t)&&n.charCodeAt(1)===Ae&&L(n.charCodeAt(2))},join(...n){if(n.length===0)return".";let e,t;for(let o=0;o<n.length;++o){let a=n[o];$(a,"path"),a.length>0&&(e===void 0?e=t=a:e+=`\\${a}`)}if(e===void 0)return".";let r=!0,i=0;if(typeof t=="string"&&L(t.charCodeAt(0))){++i;let o=t.length;o>1&&L(t.charCodeAt(1))&&(++i,o>2&&(L(t.charCodeAt(2))?++i:r=!1))}if(r){for(;i<e.length&&L(e.charCodeAt(i));)i++;i>=2&&(e=`\\${e.slice(i)}`)}return z.normalize(e)},relative(n,e){if($(n,"from"),$(e,"to"),n===e)return"";let t=z.resolve(n),r=z.resolve(e);if(t===r||(n=t.toLowerCase(),e=r.toLowerCase(),n===e))return"";let i=0;for(;i<n.length&&n.charCodeAt(i)===ae;)i++;let o=n.length;for(;o-1>i&&n.charCodeAt(o-1)===ae;)o--;let a=o-i,l=0;for(;l<e.length&&e.charCodeAt(l)===ae;)l++;let u=e.length;for(;u-1>l&&e.charCodeAt(u-1)===ae;)u--;let c=u-l,d=a<c?a:c,p=-1,f=0;for(;f<d;f++){let I=n.charCodeAt(i+f);if(I!==e.charCodeAt(l+f))break;I===ae&&(p=f)}if(f!==d){if(p===-1)return r}else{if(c>d){if(e.charCodeAt(l+f)===ae)return r.slice(l+f+1);if(f===2)return r.slice(l+f)}a>d&&(n.charCodeAt(i+f)===ae?p=f:f===2&&(p=3)),p===-1&&(p=0)}let g="";for(f=i+p+1;f<=o;++f)(f===o||n.charCodeAt(f)===ae)&&(g+=g.length===0?"..":"\\..");return l+=p,g.length>0?`${g}${r.slice(l,u)}`:(r.charCodeAt(l)===ae&&++l,r.slice(l,u))},toNamespacedPath(n){if(typeof n!="string"||n.length===0)return n;let e=z.resolve(n);if(e.length<=2)return n;if(e.charCodeAt(0)===ae){if(e.charCodeAt(1)===ae){let t=e.charCodeAt(2);if(t!==va&&t!==Ne)return`\\\\?\\UNC\\${e.slice(2)}`}}else if(Ue(e.charCodeAt(0))&&e.charCodeAt(1)===Ae&&e.charCodeAt(2)===ae)return`\\\\?\\${e}`;return n},dirname(n){$(n,"path");let e=n.length;if(e===0)return".";let t=-1,r=0,i=n.charCodeAt(0);if(e===1)return L(i)?n:".";if(L(i)){if(t=r=1,L(n.charCodeAt(1))){let l=2,u=l;for(;l<e&&!L(n.charCodeAt(l));)l++;if(l<e&&l!==u){for(u=l;l<e&&L(n.charCodeAt(l));)l++;if(l<e&&l!==u){for(u=l;l<e&&!L(n.charCodeAt(l));)l++;if(l===e)return n;l!==u&&(t=r=l+1)}}}}else Ue(i)&&n.charCodeAt(1)===Ae&&(t=e>2&&L(n.charCodeAt(2))?3:2,r=t);let o=-1,a=!0;for(let l=e-1;l>=r;--l)if(L(n.charCodeAt(l))){if(!a){o=l;break}}else a=!1;if(o===-1){if(t===-1)return".";o=t}return n.slice(0,o)},basename(n,e){e!==void 0&&$(e,"suffix"),$(n,"path");let t=0,r=-1,i=!0,o;if(n.length>=2&&Ue(n.charCodeAt(0))&&n.charCodeAt(1)===Ae&&(t=2),e!==void 0&&e.length>0&&e.length<=n.length){if(e===n)return"";let a=e.length-1,l=-1;for(o=n.length-1;o>=t;--o){let u=n.charCodeAt(o);if(L(u)){if(!i){t=o+1;break}}else l===-1&&(i=!1,l=o+1),a>=0&&(u===e.charCodeAt(a)?--a===-1&&(r=o):(a=-1,r=l))}return t===r?r=l:r===-1&&(r=n.length),n.slice(t,r)}for(o=n.length-1;o>=t;--o)if(L(n.charCodeAt(o))){if(!i){t=o+1;break}}else r===-1&&(i=!1,r=o+1);return r===-1?"":n.slice(t,r)},extname(n){$(n,"path");let e=0,t=-1,r=0,i=-1,o=!0,a=0;n.length>=2&&n.charCodeAt(1)===Ae&&Ue(n.charCodeAt(0))&&(e=r=2);for(let l=n.length-1;l>=e;--l){let u=n.charCodeAt(l);if(L(u)){if(!o){r=l+1;break}continue}i===-1&&(o=!1,i=l+1),u===Ne?t===-1?t=l:a!==1&&(a=1):t!==-1&&(a=-1)}return t===-1||i===-1||a===0||a===1&&t===i-1&&t===r+1?"":n.slice(t,i)},format:no.bind(null,"\\"),parse(n){$(n,"path");let e={root:"",dir:"",base:"",ext:"",name:""};if(n.length===0)return e;let t=n.length,r=0,i=n.charCodeAt(0);if(t===1)return L(i)?(e.root=e.dir=n,e):(e.base=e.name=n,e);if(L(i)){if(r=1,L(n.charCodeAt(1))){let p=2,f=p;for(;p<t&&!L(n.charCodeAt(p));)p++;if(p<t&&p!==f){for(f=p;p<t&&L(n.charCodeAt(p));)p++;if(p<t&&p!==f){for(f=p;p<t&&!L(n.charCodeAt(p));)p++;p===t?r=p:p!==f&&(r=p+1)}}}}else if(Ue(i)&&n.charCodeAt(1)===Ae){if(t<=2)return e.root=e.dir=n,e;if(r=2,L(n.charCodeAt(2))){if(t===3)return e.root=e.dir=n,e;r=3}}r>0&&(e.root=n.slice(0,r));let o=-1,a=r,l=-1,u=!0,c=n.length-1,d=0;for(;c>=r;--c){if(i=n.charCodeAt(c),L(i)){if(!u){a=c+1;break}continue}l===-1&&(u=!1,l=c+1),i===Ne?o===-1?o=c:d!==1&&(d=1):o!==-1&&(d=-1)}return l!==-1&&(o===-1||d===0||d===1&&o===l-1&&o===a+1?e.base=e.name=n.slice(a,l):(e.name=n.slice(a,o),e.base=n.slice(a,l),e.ext=n.slice(o,l))),a>0&&a!==r?e.dir=n.slice(0,a-1):e.dir=e.root,e},sep:"\\",delimiter:";",win32:null,posix:null},Ta=(()=>{if(le){let n=/\\/g;return()=>{let e=Ce().replace(n,"/");return e.slice(e.indexOf("/"))}}return()=>Ce()})(),A={resolve(...n){let e="",t=!1;for(let r=n.length-1;r>=-1&&!t;r--){let i=r>=0?n[r]:Ta();$(i,`paths[${r}]`),i.length!==0&&(e=`${i}/${e}`,t=i.charCodeAt(0)===Q)}return e=Pn(e,!t,"/",Pr),t?`/${e}`:e.length>0?e:"."},normalize(n){if($(n,"path"),n.length===0)return".";let e=n.charCodeAt(0)===Q,t=n.charCodeAt(n.length-1)===Q;return n=Pn(n,!e,"/",Pr),n.length===0?e?"/":t?"./":".":(t&&(n+="/"),e?`/${n}`:n)},isAbsolute(n){return $(n,"path"),n.length>0&&n.charCodeAt(0)===Q},join(...n){if(n.length===0)return".";let e;for(let t=0;t<n.length;++t){let r=n[t];$(r,"path"),r.length>0&&(e===void 0?e=r:e+=`/${r}`)}return e===void 0?".":A.normalize(e)},relative(n,e){if($(n,"from"),$(e,"to"),n===e||(n=A.resolve(n),e=A.resolve(e),n===e))return"";let t=1,r=n.length,i=r-t,o=1,a=e.length-o,l=i<a?i:a,u=-1,c=0;for(;c<l;c++){let p=n.charCodeAt(t+c);if(p!==e.charCodeAt(o+c))break;p===Q&&(u=c)}if(c===l)if(a>l){if(e.charCodeAt(o+c)===Q)return e.slice(o+c+1);if(c===0)return e.slice(o+c)}else i>l&&(n.charCodeAt(t+c)===Q?u=c:c===0&&(u=0));let d="";for(c=t+u+1;c<=r;++c)(c===r||n.charCodeAt(c)===Q)&&(d+=d.length===0?"..":"/..");return`${d}${e.slice(o+u)}`},toNamespacedPath(n){return n},dirname(n){if($(n,"path"),n.length===0)return".";let e=n.charCodeAt(0)===Q,t=-1,r=!0;for(let i=n.length-1;i>=1;--i)if(n.charCodeAt(i)===Q){if(!r){t=i;break}}else r=!1;return t===-1?e?"/":".":e&&t===1?"//":n.slice(0,t)},basename(n,e){e!==void 0&&$(e,"ext"),$(n,"path");let t=0,r=-1,i=!0,o;if(e!==void 0&&e.length>0&&e.length<=n.length){if(e===n)return"";let a=e.length-1,l=-1;for(o=n.length-1;o>=0;--o){let u=n.charCodeAt(o);if(u===Q){if(!i){t=o+1;break}}else l===-1&&(i=!1,l=o+1),a>=0&&(u===e.charCodeAt(a)?--a===-1&&(r=o):(a=-1,r=l))}return t===r?r=l:r===-1&&(r=n.length),n.slice(t,r)}for(o=n.length-1;o>=0;--o)if(n.charCodeAt(o)===Q){if(!i){t=o+1;break}}else r===-1&&(i=!1,r=o+1);return r===-1?"":n.slice(t,r)},extname(n){$(n,"path");let e=-1,t=0,r=-1,i=!0,o=0;for(let a=n.length-1;a>=0;--a){let l=n.charCodeAt(a);if(l===Q){if(!i){t=a+1;break}continue}r===-1&&(i=!1,r=a+1),l===Ne?e===-1?e=a:o!==1&&(o=1):e!==-1&&(o=-1)}return e===-1||r===-1||o===0||o===1&&e===r-1&&e===t+1?"":n.slice(e,r)},format:no.bind(null,"/"),parse(n){$(n,"path");let e={root:"",dir:"",base:"",ext:"",name:""};if(n.length===0)return e;let t=n.charCodeAt(0)===Q,r;t?(e.root="/",r=1):r=0;let i=-1,o=0,a=-1,l=!0,u=n.length-1,c=0;for(;u>=r;--u){let d=n.charCodeAt(u);if(d===Q){if(!l){o=u+1;break}continue}a===-1&&(l=!1,a=u+1),d===Ne?i===-1?i=u:c!==1&&(c=1):i!==-1&&(c=-1)}if(a!==-1){let d=o===0&&t?1:o;i===-1||c===0||c===1&&i===a-1&&i===o+1?e.base=e.name=n.slice(d,a):(e.name=n.slice(d,i),e.base=n.slice(d,a),e.ext=n.slice(i,a))}return o>0?e.dir=n.slice(0,o-1):t&&(e.dir="/"),e},sep:"/",delimiter:":",win32:null,posix:null};A.win32=z.win32=z;A.posix=z.posix=A;var pt=le?z.normalize:A.normalize,Je=le?z.isAbsolute:A.isAbsolute,V=le?z.join:A.join,ro=le?z.resolve:A.resolve,io=le?z.relative:A.relative,ft=le?z.dirname:A.dirname,Qe=le?z.basename:A.basename,_a=le?z.extname:A.extname,_c=le?z.format:A.format,Ec=le?z.parse:A.parse,wc=le?z.toNamespacedPath:A.toNamespacedPath,mt=le?z.sep:A.sep,gt=le?z.delimiter:A.delimiter;var Ea=/^\w[\w\d+.-]*$/,wa=/^\//,Sa=/^\/\//;function Pa(n,e){if(!n.scheme&&e)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${n.authority}", path: "${n.path}", query: "${n.query}", fragment: "${n.fragment}"}`);if(n.scheme&&!Ea.test(n.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(n.path){if(n.authority){if(!wa.test(n.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(Sa.test(n.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function Ra(n,e){return!n&&!e?"file":n}function Ca(n,e){switch(n){case"https":case"http":case"file":e?e[0]!==be&&(e=be+e):e=be;break}return e}var B="",be="/",ka=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,K=class n{static isUri(e){return e instanceof n?!0:e?typeof e.authority=="string"&&typeof e.fragment=="string"&&typeof e.path=="string"&&typeof e.query=="string"&&typeof e.scheme=="string"&&typeof e.fsPath=="string"&&typeof e.with=="function"&&typeof e.toString=="function":!1}scheme;authority;path;query;fragment;constructor(e,t,r,i,o,a=!1){typeof e=="object"?(this.scheme=e.scheme||B,this.authority=e.authority||B,this.path=e.path||B,this.query=e.query||B,this.fragment=e.fragment||B):(this.scheme=Ra(e,a),this.authority=t||B,this.path=Ca(this.scheme,r||B),this.query=i||B,this.fragment=o||B,Pa(this,a))}get fsPath(){return $t(this,!1)}with(e){if(!e)return this;let{scheme:t,authority:r,path:i,query:o,fragment:a}=e;return t===void 0?t=this.scheme:t===null&&(t=B),r===void 0?r=this.authority:r===null&&(r=B),i===void 0?i=this.path:i===null&&(i=B),o===void 0?o=this.query:o===null&&(o=B),a===void 0?a=this.fragment:a===null&&(a=B),t===this.scheme&&r===this.authority&&i===this.path&&o===this.query&&a===this.fragment?this:new Me(t,r,i,o,a)}static parse(e,t=!1){let r=ka.exec(e);return r?new Me(r[2]||B,Rn(r[4]||B),Rn(r[5]||B),Rn(r[7]||B),Rn(r[9]||B),t):new Me(B,B,B,B,B)}static file(e){let t=B;if(N&&(e=e.replace(/\\/g,be)),e[0]===be&&e[1]===be){let r=e.indexOf(be,2);r===-1?(t=e.substring(2),e=be):(t=e.substring(2,r),e=e.substring(r)||be)}return new Me("file",t,e,B,B)}static from(e,t){return new Me(e.scheme,e.authority,e.path,e.query,e.fragment,t)}static joinPath(e,...t){if(!e.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let r;return N&&e.scheme==="file"?r=n.file(z.join($t(e,!0),...t)).path:r=A.join(e.path,...t),e.with({path:r})}toString(e=!1){return Rr(this,e)}toJSON(){return this}static revive(e){if(e){if(e instanceof n)return e;{let t=new Me(e);return t._formatted=e.external??null,t._fsPath=e._sep===lo?e.fsPath??null:null,t}}else return e}[Symbol.for("debug.description")](){return`URI(${this.toString()})`}};var lo=N?1:void 0,Me=class extends K{_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=$t(this,!1)),this._fsPath}toString(e=!1){return e?Rr(this,!0):(this._formatted||(this._formatted=Rr(this,!1)),this._formatted)}toJSON(){let e={$mid:1};return this._fsPath&&(e.fsPath=this._fsPath,e._sep=lo),this._formatted&&(e.external=this._formatted),this.path&&(e.path=this.path),this.scheme&&(e.scheme=this.scheme),this.authority&&(e.authority=this.authority),this.query&&(e.query=this.query),this.fragment&&(e.fragment=this.fragment),e}},uo={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function oo(n,e,t){let r,i=-1;for(let o=0;o<n.length;o++){let a=n.charCodeAt(o);if(a>=97&&a<=122||a>=65&&a<=90||a>=48&&a<=57||a===45||a===46||a===95||a===126||e&&a===47||t&&a===91||t&&a===93||t&&a===58)i!==-1&&(r+=encodeURIComponent(n.substring(i,o)),i=-1),r!==void 0&&(r+=n.charAt(o));else{r===void 0&&(r=n.substr(0,o));let l=uo[a];l!==void 0?(i!==-1&&(r+=encodeURIComponent(n.substring(i,o)),i=-1),r+=l):i===-1&&(i=o)}}return i!==-1&&(r+=encodeURIComponent(n.substring(i))),r!==void 0?r:n}function Da(n){let e;for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r===35||r===63?(e===void 0&&(e=n.substr(0,t)),e+=uo[r]):e!==void 0&&(e+=n[t])}return e!==void 0?e:n}function $t(n,e){let t;return n.authority&&n.path.length>1&&n.scheme==="file"?t=`//${n.authority}${n.path}`:n.path.charCodeAt(0)===47&&(n.path.charCodeAt(1)>=65&&n.path.charCodeAt(1)<=90||n.path.charCodeAt(1)>=97&&n.path.charCodeAt(1)<=122)&&n.path.charCodeAt(2)===58?e?t=n.path.substr(1):t=n.path[1].toLowerCase()+n.path.substr(2):t=n.path,N&&(t=t.replace(/\//g,"\\")),t}function Rr(n,e){let t=e?Da:oo,r="",{scheme:i,authority:o,path:a,query:l,fragment:u}=n;if(i&&(r+=i,r+=":"),(o||i==="file")&&(r+=be,r+=be),o){let c=o.indexOf("@");if(c!==-1){let d=o.substr(0,c);o=o.substr(c+1),c=d.lastIndexOf(":"),c===-1?r+=t(d,!1,!1):(r+=t(d.substr(0,c),!1,!1),r+=":",r+=t(d.substr(c+1),!1,!0)),r+="@"}o=o.toLowerCase(),c=o.lastIndexOf(":"),c===-1?r+=t(o,!1,!0):(r+=t(o.substr(0,c),!1,!0),r+=o.substr(c))}if(a){if(a.length>=3&&a.charCodeAt(0)===47&&a.charCodeAt(2)===58){let c=a.charCodeAt(1);c>=65&&c<=90&&(a=`/${String.fromCharCode(c+32)}:${a.substr(3)}`)}else if(a.length>=2&&a.charCodeAt(1)===58){let c=a.charCodeAt(0);c>=65&&c<=90&&(a=`${String.fromCharCode(c+32)}:${a.substr(2)}`)}r+=t(a,!0,!1)}return l&&(r+="?",r+=t(l,!1,!1)),u&&(r+="#",r+=e?u:oo(u,!1,!1)),r}function co(n){try{return decodeURIComponent(n)}catch{return n.length>3?n.substr(0,3)+co(n.substr(3)):n}}var so=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function Rn(n){return n.match(so)?n.replace(so,e=>co(e)):n}var Cr=class{[Symbol.toStringTag]="LinkedMap";_map;_head;_tail;_size;_state;constructor(){this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(e){return this._map.has(e)}get(e,t=0){let r=this._map.get(e);if(r)return t!==0&&this.touch(r,t),r.value}set(e,t,r=0){let i=this._map.get(e);if(i)i.value=t,r!==0&&this.touch(i,r);else{switch(i={key:e,value:t,next:void 0,previous:void 0},r){case 0:this.addItemLast(i);break;case 1:this.addItemFirst(i);break;case 2:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(e,i),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let t=this._map.get(e);if(t)return this._map.delete(e),this.removeItem(t),this._size--,t.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){let r=this._state,i=this._head;for(;i;){if(t?e.bind(t)(i.value,i.key,this):e(i.value,i.key,this),this._state!==r)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let e=this,t=this._state,r=this._head,i={[Symbol.iterator](){return i},next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(r){let o={value:r.key,done:!1};return r=r.next,o}else return{value:void 0,done:!0}}};return i}values(){let e=this,t=this._state,r=this._head,i={[Symbol.iterator](){return i},next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(r){let o={value:r.value,done:!1};return r=r.next,o}else return{value:void 0,done:!0}}};return i}entries(){let e=this,t=this._state,r=this._head,i={[Symbol.iterator](){return i},next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(r){let o={value:[r.key,r.value],done:!1};return r=r.next,o}else return{value:void 0,done:!0}}};return i}[Symbol.iterator](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let t=this._head,r=this.size;for(;t&&r>e;)this._map.delete(t.key),t=t.next,r--;this._head=t,this._size=r,t&&(t.previous=void 0),this._state++}trimNew(e){if(e>=this.size)return;if(e===0){this.clear();return}let t=this._tail,r=this.size;for(;t&&r>e;)this._map.delete(t.key),t=t.previous,r--;this._tail=t,this._size=r,t&&(t.next=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let t=e.next,r=e.previous;if(!t||!r)throw new Error("Invalid list");t.previous=r,r.next=t}e.next=void 0,e.previous=void 0,this._state++}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(t!==1&&t!==2)){if(t===1){if(e===this._head)return;let r=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(r.previous=i,i.next=r),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(t===2){if(e===this._tail)return;let r=e.next,i=e.previous;e===this._head?(r.previous=void 0,this._head=r):(r.previous=i,i.next=r),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((t,r)=>{e.push([r,t])}),e}fromJSON(e){this.clear();for(let[t,r]of e)this.set(t,r)}},kr=class extends Cr{_limit;_ratio;constructor(e,t=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,t),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,t=2){return super.get(e,t)}peek(e){return super.get(e,0)}set(e,t){return super.set(e,t,2),this}checkTrim(){this.size>this._limit&&this.trim(Math.round(this._limit*this._ratio))}},zt=class extends kr{constructor(e,t=1){super(e,t)}trim(e){this.trimOld(e)}set(e,t){return super.set(e,t),this.checkTrim(),this}};function Dr(n,e){let t=this,r=!1,i;return function(){if(r)return i;if(r=!0,e)try{i=n.apply(t,arguments)}finally{e()}else i=n.apply(t,arguments);return i}}var yt;(M=>{function n(h){return h&&typeof h=="object"&&typeof h[Symbol.iterator]=="function"}M.is=n;let e=Object.freeze([]);function t(){return e}M.empty=t;function*r(h){yield h}M.single=r;function i(h){return n(h)?h:r(h)}M.wrap=i;function o(h){return h||e}M.from=o;function*a(h){for(let _=h.length-1;_>=0;_--)yield h[_]}M.reverse=a;function l(h){return!h||h[Symbol.iterator]().next().done===!0}M.isEmpty=l;function u(h){return h[Symbol.iterator]().next().value}M.first=u;function c(h,_){let O=0;for(let T of h)if(_(T,O++))return!0;return!1}M.some=c;function d(h,_){for(let O of h)if(_(O))return O}M.find=d;function*p(h,_){for(let O of h)_(O)&&(yield O)}M.filter=p;function*f(h,_){let O=0;for(let T of h)yield _(T,O++)}M.map=f;function*g(h,_){let O=0;for(let T of h)yield*_(T,O++)}M.flatMap=g;function*I(...h){for(let _ of h)yield*_}M.concat=I;function P(h,_,O){let T=O;for(let fe of h)T=_(T,fe);return T}M.reduce=P;function*R(h,_,O=h.length){for(_<0&&(_+=h.length),O<0?O+=h.length:O>h.length&&(O=h.length);_<O;_++)yield h[_]}M.slice=R;function w(h,_=Number.POSITIVE_INFINITY){let O=[];if(_===0)return[O,h];let T=h[Symbol.iterator]();for(let fe=0;fe<_;fe++){let oe=T.next();if(oe.done)return[O,M.empty()];O.push(oe.value)}return[O,{[Symbol.iterator](){return T}}]}M.consume=w;async function W(h){let _=[];for await(let O of h)_.push(O);return Promise.resolve(_)}M.asyncToArray=W})(yt||={});var La=!1,vt=null;function Oa(n){vt=n}if(La){let n="__is_disposable_tracked__";Oa(new class{trackDisposable(e){let t=new Error("Potentially leaked disposable").stack;setTimeout(()=>{e[n]||console.log(t)},3e3)}setParent(e,t){if(e&&e!==X.None)try{e[n]=!0}catch{}}markAsDisposed(e){if(e&&e!==X.None)try{e[n]=!0}catch{}}markAsSingleton(e){}})}function xt(n){return vt?.trackDisposable(n),n}function It(n){vt?.markAsDisposed(n)}function Lr(n,e){vt?.setParent(n,e)}function Aa(n,e){if(vt)for(let t of n)vt.setParent(t,e)}function Fe(n){if(yt.is(n)){let e=[];for(let t of n)if(t)try{t.dispose()}catch(r){e.push(r)}if(e.length===1)throw e[0];if(e.length>1)throw new AggregateError(e,"Encountered errors while disposing of store");return Array.isArray(n)?[]:n}else if(n)return n.dispose(),n}function Cn(...n){let e=Y(()=>Fe(n));return Aa(n,e),e}function Y(n){let e=xt({dispose:Dr(()=>{It(e),n()})});return e}var ye=class n{static DISABLE_DISPOSED_WARNING=!1;_toDispose=new Set;_isDisposed=!1;constructor(){xt(this)}dispose(){this._isDisposed||(It(this),this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){if(this._toDispose.size!==0)try{Fe(this._toDispose)}finally{this._toDispose.clear()}}add(e){if(!e)return e;if(e===this)throw new Error("Cannot register a disposable on itself!");return Lr(e,this),this._isDisposed?n.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(e),e}delete(e){if(e){if(e===this)throw new Error("Cannot dispose a disposable on itself!");this._toDispose.delete(e),e.dispose()}}deleteAndLeak(e){e&&this._toDispose.has(e)&&(this._toDispose.delete(e),Lr(e,null))}},X=class{static None=Object.freeze({dispose(){}});_store=new ye;constructor(){xt(this),Lr(this._store,this)}dispose(){It(this),this._store.dispose()}_register(e){if(e===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(e)}};var jt=class{_store=new Map;_isDisposed=!1;constructor(){xt(this)}dispose(){It(this),this._isDisposed=!0,this.clearAndDisposeAll()}clearAndDisposeAll(){if(this._store.size)try{Fe(this._store.values())}finally{this._store.clear()}}has(e){return this._store.has(e)}get size(){return this._store.size}get(e){return this._store.get(e)}set(e,t,r=!1){this._isDisposed&&console.warn(new Error("Trying to add a disposable to a DisposableMap that has already been disposed of. The added object will be leaked!").stack),r||this._store.get(e)?.dispose(),this._store.set(e,t)}deleteAndDispose(e){this._store.get(e)?.dispose(),this._store.delete(e)}deleteAndLeak(e){let t=this._store.get(e);return this._store.delete(e),t}keys(){return this._store.keys()}values(){return this._store.values()}[Symbol.iterator](){return this._store[Symbol.iterator]()}};var po=Object.freeze(function(n,e){let t=setTimeout(n.bind(e),0);return{dispose(){clearTimeout(t)}}}),Ht;(r=>{function n(i){return i===r.None||i===r.Cancelled||i instanceof Tt?!0:!i||typeof i!="object"?!1:typeof i.isCancellationRequested=="boolean"&&typeof i.onCancellationRequested=="function"}r.isCancellationToken=n,r.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:ne.None}),r.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:po})})(Ht||={});var Tt=class{_isCancelled=!1;_emitter=null;cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?po:(this._emitter||(this._emitter=new k),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}},ve=class{_token=void 0;_parentListener=void 0;constructor(e){this._parentListener=e&&e.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new Tt),this._token}cancel(){this._token?this._token instanceof Tt&&this._token.cancel():this._token=Ht.Cancelled}dispose(e=!1){e&&this.cancel(),this._parentListener?.dispose(),this._token?this._token instanceof Tt&&this._token.dispose():this._token=Ht.None}};var q=class n{static Undefined=new n(void 0);element;next;prev;constructor(e){this.element=e,this.next=n.Undefined,this.prev=n.Undefined}},Gt=class{_first=q.Undefined;_last=q.Undefined;_size=0;get size(){return this._size}isEmpty(){return this._first===q.Undefined}clear(){let e=this._first;for(;e!==q.Undefined;){let t=e.next;e.prev=q.Undefined,e.next=q.Undefined,e=t}this._first=q.Undefined,this._last=q.Undefined,this._size=0}unshift(e){return this._insert(e,!1)}push(e){return this._insert(e,!0)}_insert(e,t){let r=new q(e);if(this._first===q.Undefined)this._first=r,this._last=r;else if(t){let o=this._last;this._last=r,r.prev=o,o.next=r}else{let o=this._first;this._first=r,r.next=o,o.prev=r}this._size+=1;let i=!1;return()=>{i||(i=!0,this._remove(r))}}shift(){if(this._first!==q.Undefined){let e=this._first.element;return this._remove(this._first),e}}pop(){if(this._last!==q.Undefined){let e=this._last.element;return this._remove(this._last),e}}_remove(e){if(e.prev!==q.Undefined&&e.next!==q.Undefined){let t=e.prev;t.next=e.next,e.next.prev=t}else e.prev===q.Undefined&&e.next===q.Undefined?(this._first=q.Undefined,this._last=q.Undefined):e.next===q.Undefined?(this._last=this._last.prev,this._last.next=q.Undefined):e.prev===q.Undefined&&(this._first=this._first.next,this._first.prev=q.Undefined);this._size-=1}*[Symbol.iterator](){let e=this._first;for(;e!==q.Undefined;)yield e.element,e=e.next}};var Xe=(n,e)=>n===e;var xe=class{constructor(e,t,r){this.owner=e;this.debugNameSource=t;this.referenceFn=r}getDebugName(e){return ho(e,this)}},fo=new Map,Or=new WeakMap;function ho(n,e){let t=Or.get(n);if(t)return t;let r=Ua(n,e);if(r){let i=fo.get(r)??0;i++,fo.set(r,i);let o=i===1?r:`${r}#${i}`;return Or.set(n,o),o}}function Ua(n,e){let t=Or.get(n);if(t)return t;let r=e.owner?Ma(e.owner)+".":"",i,o=e.debugNameSource;if(o!==void 0)if(typeof o=="function"){if(i=o(),i!==void 0)return r+i}else return r+o;let a=e.referenceFn;if(a!==void 0&&(i=kn(a),i!==void 0))return r+i;if(e.owner!==void 0){let l=Na(e.owner,n);if(l!==void 0)return r+l}}function Na(n,e){for(let t in n)if(n[t]===e)return t}var mo=new Map,go=new WeakMap;function Ma(n){let e=go.get(n);if(e)return e;let t=Fa(n),r=mo.get(t)??0;r++,mo.set(t,r);let i=r===1?t:`${t}#${r}`;return go.set(n,i),i}function Fa(n){let e=n.constructor;return e?e.name:"Object"}function kn(n){let e=n.toString(),r=/\/\*\*\s*@description\s*([^*]*)\*\//.exec(e);return(r?r[1]:void 0)?.trim()}function Dn(n,e){if(!n)throw new Error(e?`Assertion failed (${e})`:"Assertion Failed")}function Ln(n){if(!n()){debugger;n(),Se(new ut("Assertion Failed"))}}function Jt(n){return new On(new xe(void 0,void 0,n),n,void 0,void 0)}var On=class{constructor(e,t,r,i){this._debugNameData=e;this._runFn=t;this.createChangeSummary=r;this._handleChange=i;this.changeSummary=this.createChangeSummary?.(),de()?.handleAutorunCreated(this),this._runIfNeeded(),xt(this)}state=2;updateCount=0;disposed=!1;dependencies=new Set;dependenciesToBeRemoved=new Set;changeSummary;get debugName(){return this._debugNameData.getDebugName(this)??"(anonymous)"}dispose(){this.disposed=!0;for(let e of this.dependencies)e.removeObserver(this);this.dependencies.clear(),It(this)}_runIfNeeded(){if(this.state===3)return;let e=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=e,this.state=3;let t=this.disposed;try{if(!t){de()?.handleAutorunTriggered(this);let r=this.changeSummary;try{this.changeSummary=this.createChangeSummary?.(),this._runFn(this,r)}catch(i){ct(i)}}}finally{t||de()?.handleAutorunFinished(this);for(let r of this.dependenciesToBeRemoved)r.removeObserver(this);this.dependenciesToBeRemoved.clear()}}toString(){return`Autorun<${this.debugName}>`}beginUpdate(){this.state===3&&(this.state=1),this.updateCount++}endUpdate(){try{if(this.updateCount===1)do{if(this.state===1){this.state=3;for(let e of this.dependencies)if(e.reportChanges(),this.state===2)break}this._runIfNeeded()}while(this.state!==3)}finally{this.updateCount--}Ln(()=>this.updateCount>=0)}handlePossibleChange(e){this.state===3&&this.dependencies.has(e)&&!this.dependenciesToBeRemoved.has(e)&&(this.state=1)}handleChange(e,t){if(this.dependencies.has(e)&&!this.dependenciesToBeRemoved.has(e))try{(this._handleChange?this._handleChange({changedObservable:e,change:t,didChange:i=>i===e},this.changeSummary):!0)&&(this.state=2)}catch(r){ct(r)}}readObservable(e){if(this.disposed)return e.get();e.addObserver(this);let t=e.get();return this.dependencies.add(e),this.dependenciesToBeRemoved.delete(e),t}};(e=>e.Observer=On)(Jt||={});function Ar(n,e){return new An(new xe(n.owner,n.debugName,n.debugReferenceFn),e,void 0,void 0,n.onLastObserverRemoved,n.equalsFn??Xe)}bo(Ar);var An=class extends Ye{constructor(t,r,i,o,a=void 0,l){super();this._debugNameData=t;this._computeFn=r;this.createChangeSummary=i;this._handleChange=o;this._handleLastObserverRemoved=a;this._equalityComparator=l;this.changeSummary=this.createChangeSummary?.(),de()?.handleDerivedCreated(this)}state=0;value=void 0;updateCount=0;dependencies=new Set;dependenciesToBeRemoved=new Set;changeSummary=void 0;get debugName(){return this._debugNameData.getDebugName(this)??"(anonymous)"}onLastObserverRemoved(){this.state=0,this.value=void 0;for(let t of this.dependencies)t.removeObserver(this);this.dependencies.clear(),this._handleLastObserverRemoved?.()}get(){if(this.observers.size===0){let t=this._computeFn(this,this.createChangeSummary?.());return this.onLastObserverRemoved(),t}else{do{if(this.state===1){for(let t of this.dependencies)if(t.reportChanges(),this.state===2)break}this.state===1&&(this.state=3),this._recomputeIfNeeded()}while(this.state!==3);return this.value}}_recomputeIfNeeded(){if(this.state===3)return;let t=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=t;let r=this.state!==0,i=this.value;this.state=3;let o=!1;try{let a=this.changeSummary;this.changeSummary=this.createChangeSummary?.();try{this.value=this._computeFn(this,a)}finally{for(let l of this.dependenciesToBeRemoved)l.removeObserver(this);this.dependenciesToBeRemoved.clear()}o=r&&!this._equalityComparator(i,this.value),de()?.handleDerivedRecomputed(this,{oldValue:i,newValue:this.value,change:void 0,didChange:o,hadValue:r})}catch(a){ct(a)}if(o)for(let a of this.observers)a.handleChange(this,void 0)}toString(){return`LazyDerived<${this.debugName}>`}beginUpdate(t){this.updateCount++;let r=this.updateCount===1;if(this.state===3&&(this.state=1,!r))for(let i of this.observers)i.handlePossibleChange(this);if(r)for(let i of this.observers)i.beginUpdate(this)}endUpdate(t){if(this.updateCount--,this.updateCount===0){let r=[...this.observers];for(let i of r)i.endUpdate(this)}Ln(()=>this.updateCount>=0)}handlePossibleChange(t){if(this.state===3&&this.dependencies.has(t)&&!this.dependenciesToBeRemoved.has(t)){this.state=1;for(let r of this.observers)r.handlePossibleChange(this)}}handleChange(t,r){if(this.dependencies.has(t)&&!this.dependenciesToBeRemoved.has(t)){let i=!1;try{i=this._handleChange?this._handleChange({changedObservable:t,change:r,didChange:a=>a===t},this.changeSummary):!0}catch(a){ct(a)}let o=this.state===3;if(i&&(this.state===1||o)&&(this.state=2,o))for(let a of this.observers)a.handlePossibleChange(this)}}readObservable(t){t.addObserver(this);let r=t.get();return this.dependencies.add(t),this.dependenciesToBeRemoved.delete(t),r}addObserver(t){let r=!this.observers.has(t)&&this.updateCount>0;super.addObserver(t),r&&t.beginUpdate(this)}removeObserver(t){let r=this.observers.has(t)&&this.updateCount>0;super.removeObserver(t),r&&t.endUpdate(this)}};function Ur(...n){let e,t,r;return n.length===3?[e,t,r]=n:[t,r]=n,new Ve(new xe(e,void 0,r),t,r,()=>Ve.globalTransaction,Xe)}var Ve=class extends Ye{constructor(t,r,i,o,a){super();this._debugNameData=t;this.event=r;this._getValue=i;this._getTransaction=o;this._equalityComparator=a}static globalTransaction;value;hasValue=!1;subscription;getDebugName(){return this._debugNameData.getDebugName(this)}get debugName(){let t=this.getDebugName();return"From Event"+(t?`: ${t}`:"")}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}handleEvent=t=>{let r=this._getValue(t),i=this.value,o=!this.hasValue||!this._equalityComparator(i,r),a=!1;o&&(this.value=r,this.hasValue&&(a=!0,Nr(this._getTransaction(),l=>{de()?.handleFromEventObservableTriggered(this,{oldValue:i,newValue:r,change:void 0,didChange:o,hadValue:this.hasValue});for(let u of this.observers)l.updateObserver(u,this),u.handleChange(this,void 0)},()=>{let l=this.getDebugName();return"Event fired"+(l?`: ${l}`:"")})),this.hasValue=!0),a||de()?.handleFromEventObservableTriggered(this,{oldValue:i,newValue:r,change:void 0,didChange:o,hadValue:this.hasValue})};onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0,this.hasValue=!1,this.value=void 0}get(){return this.subscription?(this.hasValue||this.handleEvent(void 0),this.value):this._getValue(void 0)}};(t=>{t.Observer=Ve;function e(r,i){let o=!1;Ve.globalTransaction===void 0&&(Ve.globalTransaction=r,o=!0);try{i()}finally{o&&(Ve.globalTransaction=void 0)}}t.batchEventsGlobally=e})(Ur||={});function vo(n){let e=new Un(!1,void 0);return n.addObserver(e),Y(()=>{n.removeObserver(e)})}To(vo);function xo(n,e){let t=new Un(!0,e);return n.addObserver(t),e?e(n.get()):n.reportChanges(),Y(()=>{n.removeObserver(t)})}Io(xo);var Un=class{constructor(e,t){this._forceRecompute=e;this._handleValue=t}_counter=0;beginUpdate(e){this._counter++}endUpdate(e){this._counter--,this._counter===0&&this._forceRecompute&&(this._handleValue?this._handleValue(e.get()):e.reportChanges())}handlePossibleChange(e){}handleChange(e,t){}};var Eo;function wo(n){Eo=n}function de(){return Eo}var Fn=class{indentation=0;textToConsoleArgs(e){return Wa([_t(za("|  ",this.indentation)),e])}formatInfo(e){return e.hadValue?e.didChange?[_t(" "),Ie(Xt(e.oldValue,70),{color:"red",strikeThrough:!0}),_t(" "),Ie(Xt(e.newValue,60),{color:"green"})]:[_t(" (unchanged)")]:[_t(" "),Ie(Xt(e.newValue,60),{color:"green"}),_t(" (initial)")]}handleObservableChanged(e,t){console.log(...this.textToConsoleArgs([Qt("observable value changed"),Ie(e.debugName,{color:"BlueViolet"}),...this.formatInfo(t)]))}changedObservablesSets=new WeakMap;formatChanges(e){if(e.size!==0)return Ie(" (changed deps: "+[...e].map(t=>t.debugName).join(", ")+")",{color:"gray"})}handleDerivedCreated(e){let t=e.handleChange;this.changedObservablesSets.set(e,new Set),e.handleChange=(r,i)=>(this.changedObservablesSets.get(e).add(r),t.apply(e,[r,i]))}handleDerivedRecomputed(e,t){let r=this.changedObservablesSets.get(e);console.log(...this.textToConsoleArgs([Qt("derived recomputed"),Ie(e.debugName,{color:"BlueViolet"}),...this.formatInfo(t),this.formatChanges(r),{data:[{fn:e._debugNameData.referenceFn??e._computeFn}]}])),r.clear()}handleFromEventObservableTriggered(e,t){console.log(...this.textToConsoleArgs([Qt("observable from event triggered"),Ie(e.debugName,{color:"BlueViolet"}),...this.formatInfo(t),{data:[{fn:e._getValue}]}]))}handleAutorunCreated(e){let t=e.handleChange;this.changedObservablesSets.set(e,new Set),e.handleChange=(r,i)=>(this.changedObservablesSets.get(e).add(r),t.apply(e,[r,i]))}handleAutorunTriggered(e){let t=this.changedObservablesSets.get(e);console.log(...this.textToConsoleArgs([Qt("autorun"),Ie(e.debugName,{color:"BlueViolet"}),this.formatChanges(t),{data:[{fn:e._debugNameData.referenceFn??e._runFn}]}])),t.clear(),this.indentation++}handleAutorunFinished(e){this.indentation--}handleBeginTransaction(e){let t=e.getDebugName();t===void 0&&(t=""),console.log(...this.textToConsoleArgs([Qt("transaction"),Ie(t,{color:"BlueViolet"}),{data:[{fn:e._fn}]}])),this.indentation++}handleEndTransaction(){this.indentation--}};function Wa(n){let e=new Array,t=[],r="";function i(a){if("length"in a)for(let l of a)l&&i(l);else"text"in a?(r+=`%c${a.text}`,e.push(a.style),a.data&&t.push(...a.data)):"data"in a&&t.push(...a.data)}i(n);let o=[r,...e];return o.push(...t),o}function _t(n){return Ie(n,{color:"black"})}function Qt(n){return Ie(ja(`${n}: `,10),{color:"black",bold:!0})}function Ie(n,e={color:"black"}){function t(i){return Object.entries(i).reduce((o,[a,l])=>`${o}${a}:${l};`,"")}let r={color:e.color};return e.strikeThrough&&(r["text-decoration"]="line-through"),e.bold&&(r["font-weight"]="bold"),{text:n,style:t(r)}}function Xt(n,e){switch(typeof n){case"number":return""+n;case"string":return n.length+2<=e?`"${n}"`:`"${n.substr(0,e-7)}"+...`;case"boolean":return n?"true":"false";case"undefined":return"undefined";case"object":return n===null?"null":Array.isArray(n)?qa(n,e):$a(n,e);case"symbol":return n.toString();case"function":return`[[Function${n.name?" "+n.name:""}]]`;default:return""+n}}function qa(n,e){let t="[ ",r=!0;for(let i of n){if(r||(t+=", "),t.length-5>e){t+="...";break}r=!1,t+=`${Xt(i,e-t.length)}`}return t+=" ]",t}function $a(n,e){let t="{ ",r=!0;for(let[i,o]of Object.entries(n)){if(r||(t+=", "),t.length-5>e){t+="...";break}r=!1,t+=`${i}: ${Xt(o,e-t.length)}`}return t+=" }",t}function za(n,e){let t="";for(let r=1;r<=e;r++)t+=n;return t}function ja(n,e){for(;n.length<e;)n+=" ";return n}var So;function Io(n){So=n}var Po;function To(n){Po=n}var Mr;function bo(n){Mr=n}var Nn=class{get TChange(){return null}reportChanges(){this.get()}read(e){return e?e.readObservable(this):this.get()}map(e,t){let r=t===void 0?void 0:e,i=t===void 0?e:t;return Mr({owner:r,debugName:()=>{let o=kn(i);if(o!==void 0)return o;let l=/^\s*\(?\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*\)?\s*=>\s*\1(?:\??)\.([a-zA-Z_$][a-zA-Z_$0-9]*)\s*$/.exec(i.toString());if(l)return`${this.debugName}.${l[2]}`;if(!r)return`${this.debugName} (mapped)`},debugReferenceFn:i},o=>i(this.read(o),o))}flatten(){return Mr({owner:void 0,debugName:()=>`${this.debugName} (flattened)`},e=>this.read(e).read(e))}recomputeInitiallyAndOnChange(e,t){return e.add(So(this,t)),this}keepObserved(e){return e.add(Po(this)),this}get debugValue(){return this.get()}},Ye=class extends Nn{observers=new Set;addObserver(e){let t=this.observers.size;this.observers.add(e),t===0&&this.onFirstObserverAdded()}removeObserver(e){this.observers.delete(e)&&this.observers.size===0&&this.onLastObserverRemoved()}onFirstObserverAdded(){}onLastObserverRemoved(){}};function Mn(n,e){let t=new Vn(n,e);try{n(t)}finally{t.finish()}}function Nr(n,e,t){n?e(n):Mn(e,t)}var Vn=class{constructor(e,t){this._fn=e;this._getDebugName=t;de()?.handleBeginTransaction(this)}updatingObservers=[];getDebugName(){return this._getDebugName?this._getDebugName():kn(this._fn)}updateObserver(e,t){this.updatingObservers.push({observer:e,observable:t}),e.beginUpdate(t)}finish(){let e=this.updatingObservers;for(let t=0;t<e.length;t++){let{observer:r,observable:i}=e[t];r.endUpdate(i)}this.updatingObservers=null,de()?.handleEndTransaction()}};var Ha=!1;Ha&&wo(new Fn);var Ga=globalThis.performance&&typeof globalThis.performance.now=="function",Et=class n{_startTime;_stopTime;_now;static create(e){return new n(e)}constructor(e){this._now=Ga&&e===!1?Date.now:globalThis.performance.now.bind(globalThis.performance),this._startTime=this._now(),this._stopTime=-1}stop(){this._stopTime=this._now()}reset(){this._startTime=this._now(),this._stopTime=-1}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}};var Ja=Symbol("MicrotaskDelay");var Qa=!1,Ro=!1,Xa=!1,ne;(je=>{je.None=()=>X.None;function e(v){if(Xa){let{onDidAddListener:b}=v,x=Yt.create(),y=0;v.onDidAddListener=()=>{++y===2&&(console.warn("snapshotted emitter LIKELY used public and SHOULD HAVE BEEN created with DisposableStore. snapshotted here"),x.print()),b?.()}}}function t(v,b){return g(v,()=>{},0,void 0,!0,void 0,b)}je.defer=t;function r(v){return(b,x=null,y)=>{let E=!1,D;return D=v(F=>{if(!E)return D?D.dispose():E=!0,b.call(x,F)},null,y),E&&D.dispose(),D}}je.once=r;function i(v,b){return je.once(je.filter(v,b))}je.onceIf=i;function o(v,b,x){return p((y,E=null,D)=>v(F=>y.call(E,b(F)),null,D),x)}je.map=o;function a(v,b,x){return p((y,E=null,D)=>v(F=>{b(F),y.call(E,F)},null,D),x)}je.forEach=a;function l(v,b,x){return p((y,E=null,D)=>v(F=>b(F)&&y.call(E,F),null,D),x)}je.filter=l;function u(v){return v}je.signal=u;function c(...v){return(b,x=null,y)=>{let E=Cn(...v.map(D=>D(F=>b.call(x,F))));return f(E,y)}}je.any=c;function d(v,b,x,y){let E=x;return o(v,D=>(E=b(E,D),E),y)}je.reduce=d;function p(v,b){let x,y={onWillAddFirstListener(){x=v(E.fire,E)},onDidRemoveLastListener(){x?.dispose()}};b||e(y);let E=new k(y);return b?.add(E),E.event}function f(v,b){return b instanceof Array?b.push(v):b&&b.add(v),v}function g(v,b,x=100,y=!1,E=!1,D,F){let H,ee,S,xn=0,Mt,Ui={leakWarningThreshold:D,onWillAddFirstListener(){H=v(Js=>{xn++,ee=b(ee,Js),y&&!S&&(In.fire(ee),ee=void 0),Mt=()=>{let Qs=ee;ee=void 0,S=void 0,(!y||xn>1)&&In.fire(Qs),xn=0},typeof x=="number"?(clearTimeout(S),S=setTimeout(Mt,x)):S===void 0&&(S=0,queueMicrotask(Mt))})},onWillRemoveListener(){E&&xn>0&&Mt?.()},onDidRemoveLastListener(){Mt=void 0,H.dispose()}};F||e(Ui);let In=new k(Ui);return F?.add(In),In.event}je.debounce=g;function I(v,b=0,x){return je.debounce(v,(y,E)=>y?(y.push(E),y):[E],b,void 0,!0,void 0,x)}je.accumulate=I;function P(v,b=(y,E)=>y===E,x){let y=!0,E;return l(v,D=>{let F=y||!b(D,E);return y=!1,E=D,F},x)}je.latch=P;function R(v,b,x){return[je.filter(v,b,x),je.filter(v,y=>!b(y),x)]}je.split=R;function w(v,b=!1,x=[],y){let E=x.slice(),D=v(ee=>{E?E.push(ee):H.fire(ee)});y&&y.add(D);let F=()=>{E?.forEach(ee=>H.fire(ee)),E=null},H=new k({onWillAddFirstListener(){D||(D=v(ee=>H.fire(ee)),y&&y.add(D))},onDidAddFirstListener(){E&&(b?setTimeout(F):F())},onDidRemoveLastListener(){D&&D.dispose(),D=null}});return y&&y.add(H),H.event}je.buffer=w;function W(v,b){return(y,E,D)=>{let F=b(new h);return v(function(H){let ee=F.evaluate(H);ee!==M&&y.call(E,ee)},void 0,D)}}je.chain=W;let M=Symbol("HaltChainable");class h{steps=[];map(b){return this.steps.push(b),this}forEach(b){return this.steps.push(x=>(b(x),x)),this}filter(b){return this.steps.push(x=>b(x)?x:M),this}reduce(b,x){let y=x;return this.steps.push(E=>(y=b(y,E),y)),this}latch(b=(x,y)=>x===y){let x=!0,y;return this.steps.push(E=>{let D=x||!b(E,y);return x=!1,y=E,D?E:M}),this}evaluate(b){for(let x of this.steps)if(b=x(b),b===M)break;return b}}function _(v,b,x=y=>y){let y=(...H)=>F.fire(x(...H)),E=()=>v.on(b,y),D=()=>v.removeListener(b,y),F=new k({onWillAddFirstListener:E,onDidRemoveLastListener:D});return F.event}je.fromNodeEventEmitter=_;function O(v,b,x=y=>y){let y=(...H)=>F.fire(x(...H)),E=()=>v.addEventListener(b,y),D=()=>v.removeEventListener(b,y),F=new k({onWillAddFirstListener:E,onDidRemoveLastListener:D});return F.event}je.fromDOMEventEmitter=O;function T(v){return new Promise(b=>r(v)(b))}je.toPromise=T;function fe(v){let b=new k;return v.then(x=>{b.fire(x)},()=>{b.fire(void 0)}).finally(()=>{b.dispose()}),b.event}je.fromPromise=fe;function oe(v,b){return v(x=>b.fire(x))}je.forward=oe;function ge(v,b,x){return b(x),v(y=>b(y))}je.runAndSubscribe=ge;class Ai{constructor(b,x){this._observable=b;let y={onWillAddFirstListener:()=>{b.addObserver(this),this._observable.reportChanges()},onDidRemoveLastListener:()=>{b.removeObserver(this)}};x||e(y),this.emitter=new k(y),x&&x.add(this.emitter)}emitter;_counter=0;_hasChanged=!1;beginUpdate(b){this._counter++}handlePossibleChange(b){}handleChange(b,x){this._hasChanged=!0}endUpdate(b){this._counter--,this._counter===0&&(this._observable.reportChanges(),this._hasChanged&&(this._hasChanged=!1,this.emitter.fire(this._observable.get())))}}function Hs(v,b){return new Ai(v,b).emitter.event}je.fromObservable=Hs;function Gs(v){return(b,x,y)=>{let E=0,D=!1,F={beginUpdate(){E++},endUpdate(){E--,E===0&&(v.reportChanges(),D&&(D=!1,b.call(x)))},handlePossibleChange(){},handleChange(){D=!0}};v.addObserver(F),v.reportChanges();let H={dispose(){v.removeObserver(F)}};return y instanceof ye?y.add(H):Array.isArray(y)&&y.push(H),H}}je.fromObservableLight=Gs})(ne||={});var Fr=class n{static all=new Set;static _idPool=0;name;listenerCount=0;invocationCount=0;elapsedOverall=0;durations=[];_stopWatch;constructor(e){this.name=`${e}_${n._idPool++}`,n.all.add(this)}start(e){this._stopWatch=new Et,this.listenerCount=e}stop(){if(this._stopWatch){let e=this._stopWatch.elapsed();this.durations.push(e),this.elapsedOverall+=e,this.invocationCount+=1,this._stopWatch=void 0}}},Co=-1;var Vr=class n{constructor(e,t,r=(n._idPool++).toString(16).padStart(3,"0")){this._errorHandler=e;this.threshold=t;this.name=r}static _idPool=1;_stacks;_warnCountdown=0;dispose(){this._stacks?.clear()}check(e,t){let r=this.threshold;if(r<=0||t<r)return;this._stacks||(this._stacks=new Map);let i=this._stacks.get(e.value)||0;if(this._stacks.set(e.value,i+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=r*.5;let[o,a]=this.getMostFrequentStack(),l=`[${this.name}] potential listener LEAK detected, having ${t} listeners already. MOST frequent listener (${a}):`;console.warn(l),console.warn(o);let u=new Kr(l,o);this._errorHandler(u)}return()=>{let o=this._stacks.get(e.value)||0;this._stacks.set(e.value,o-1)}}getMostFrequentStack(){if(!this._stacks)return;let e,t=0;for(let[r,i]of this._stacks)(!e||t<i)&&(e=[r,i],t=i);return e}},Yt=class n{constructor(e){this.value=e}static create(){let e=new Error;return new n(e.stack??"")}print(){console.warn(this.value.split(`
`).slice(2).join(`
`))}},Kr=class extends Error{constructor(e,t){super(e),this.name="ListenerLeakError",this.stack=t}},Br=class extends Error{constructor(e,t){super(e),this.name="ListenerRefusalError",this.stack=t}},Ya=0,wt=class{constructor(e){this.value=e}stack;id=Ya++},Za=2,el=(n,e)=>{if(n instanceof wt)e(n);else for(let t=0;t<n.length;t++){let r=n[t];r&&e(r)}},Kn;if(Qa){let n=[];setInterval(()=>{n.length!==0&&(console.warn("[LEAKING LISTENERS] GC'ed these listeners that were NOT yet disposed:"),console.warn(n.join(`
`)),n.length=0)},3e3),Kn=new FinalizationRegistry(e=>{typeof e=="string"&&n.push(e)})}var k=class{_options;_leakageMon;_perfMon;_disposed;_event;_listeners;_deliveryQueue;_size=0;constructor(e){this._options=e,this._leakageMon=Co>0||this._options?.leakWarningThreshold?new Vr(e?.onListenerError??Se,this._options?.leakWarningThreshold??Co):void 0,this._perfMon=this._options?._profName?new Fr(this._options._profName):void 0,this._deliveryQueue=this._options?.deliveryQueue}dispose(){if(!this._disposed){if(this._disposed=!0,this._deliveryQueue?.current===this&&this._deliveryQueue.reset(),this._listeners){if(Ro){let e=this._listeners;queueMicrotask(()=>{el(e,t=>t.stack?.print())})}this._listeners=void 0,this._size=0}this._options?.onDidRemoveLastListener?.(),this._leakageMon?.dispose()}}get event(){return this._event??=(e,t,r)=>{if(this._leakageMon&&this._size>this._leakageMon.threshold**2){let u=`[${this._leakageMon.name}] REFUSES to accept new listeners because it exceeded its threshold by far (${this._size} vs ${this._leakageMon.threshold})`;console.warn(u);let c=this._leakageMon.getMostFrequentStack()??["UNKNOWN stack",-1],d=new Br(`${u}. HINT: Stack shows most frequent listener (${c[1]}-times)`,c[0]);return(this._options?.onListenerError||Se)(d),X.None}if(this._disposed)return X.None;t&&(e=e.bind(t));let i=new wt(e),o,a;this._leakageMon&&this._size>=Math.ceil(this._leakageMon.threshold*.2)&&(i.stack=Yt.create(),o=this._leakageMon.check(i.stack,this._size+1)),Ro&&(i.stack=a??Yt.create()),this._listeners?this._listeners instanceof wt?(this._deliveryQueue??=new Wr,this._listeners=[this._listeners,i]):this._listeners.push(i):(this._options?.onWillAddFirstListener?.(this),this._listeners=i,this._options?.onDidAddFirstListener?.(this)),this._size++;let l=Y(()=>{Kn?.unregister(l),o?.(),this._removeListener(i)});if(r instanceof ye?r.add(l):Array.isArray(r)&&r.push(l),Kn){let u=new Error().stack.split(`
`).slice(2,3).join(`
`).trim(),c=/(file:|vscode-file:\/\/vscode-app)?(\/[^:]*:\d+:\d+)/.exec(u);Kn.register(l,c?.[2]??u,l)}return l},this._event}_removeListener(e){if(this._options?.onWillRemoveListener?.(this),!this._listeners)return;if(this._size===1){this._listeners=void 0,this._options?.onDidRemoveLastListener?.(this),this._size=0;return}let t=this._listeners,r=t.indexOf(e);if(r===-1)throw console.log("disposed?",this._disposed),console.log("size?",this._size),console.log("arr?",JSON.stringify(this._listeners)),new Error("Attempted to dispose unknown listener");this._size--,t[r]=void 0;let i=this._deliveryQueue.current===this;if(this._size*Za<=t.length){let o=0;for(let a=0;a<t.length;a++)t[a]?t[o++]=t[a]:i&&(this._deliveryQueue.end--,o<this._deliveryQueue.i&&this._deliveryQueue.i--);t.length=o}}_deliver(e,t){if(!e)return;let r=this._options?.onListenerError||Se;if(!r){e.value(t);return}try{e.value(t)}catch(i){r(i)}}_deliverQueue(e){let t=e.current._listeners;for(;e.i<e.end;)this._deliver(t[e.i++],e.value);e.reset()}fire(e){if(this._deliveryQueue?.current&&(this._deliverQueue(this._deliveryQueue),this._perfMon?.stop()),this._perfMon?.start(this._size),this._listeners)if(this._listeners instanceof wt)this._deliver(this._listeners,e);else{let t=this._deliveryQueue;t.enqueue(this,e,this._listeners.length),this._deliverQueue(t)}this._perfMon?.stop()}hasListeners(){return this._size>0}};var Wr=class{i=-1;end=0;current;value;enqueue(e,t,r){this.i=0,this.end=r,this.current=e,this.value=t}reset(){this.i=this.end,this.current=void 0,this.value=void 0}};function tl(n){return n}var Bn=class{lastCache=void 0;lastArgKey=void 0;_fn;_computeKey;constructor(e,t){typeof e=="function"?(this._fn=e,this._computeKey=tl):(this._fn=t,this._computeKey=e.getCacheKey)}get(e){let t=this._computeKey(e);return this.lastArgKey!==t&&(this.lastArgKey=t,this.lastCache=this._fn(e)),this.lastCache}};var Ke=class{constructor(e){this.executor=e}_didRun=!1;_value;_error;get hasValue(){return this._didRun}get value(){if(!this._didRun)try{this._value=this.executor()}catch(e){this._error=e}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}};function Lo(n){return!n||typeof n!="string"?!0:n.trim().length===0}function qr(n,e){return n<e?-1:n>e?1:0}function Oo(n,e,t=0,r=n.length,i=0,o=e.length){for(;t<r&&i<o;t++,i++){let u=n.charCodeAt(t),c=e.charCodeAt(i);if(u<c)return-1;if(u>c)return 1}let a=r-t,l=o-i;return a<l?-1:a>l?1:0}function $r(n,e,t=0,r=n.length,i=0,o=e.length){for(;t<r&&i<o;t++,i++){let u=n.charCodeAt(t),c=e.charCodeAt(i);if(u===c)continue;if(u>=128||c>=128)return Oo(n.toLowerCase(),e.toLowerCase(),t,r,i,o);ko(u)&&(u-=32),ko(c)&&(c-=32);let d=u-c;if(d!==0)return d}let a=r-t,l=o-i;return a<l?-1:a>l?1:0}function ko(n){return n>=97&&n<=122}function zr(n){return n>=65&&n<=90}function Wn(n,e){return n.length===e.length&&$r(n,e)===0}function jr(n,e){let t=e.length;return e.length>n.length?!1:$r(n,e,0,t)===0}function Ao(n){return 55296<=n&&n<=56319}function Hr(n){return 56320<=n&&n<=57343}function Uo(n,e){return(n-55296<<10)+(e-56320)+65536}var i1=String.fromCharCode(65279);var Do=class n{constructor(e){this.confusableDictionary=e}static ambiguousCharacterData=new Ke(()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125,119846,109],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}'));static cache=new Bn({getCacheKey:JSON.stringify},e=>{function t(d){let p=new Map;for(let f=0;f<d.length;f+=2)p.set(d[f],d[f+1]);return p}function r(d,p){let f=new Map(d);for(let[g,I]of p)f.set(g,I);return f}function i(d,p){if(!d)return p;let f=new Map;for(let[g,I]of d)p.has(g)&&f.set(g,I);return f}let o=this.ambiguousCharacterData.value,a=e.filter(d=>!d.startsWith("_")&&d in o);a.length===0&&(a=["_default"]);let l;for(let d of a){let p=t(o[d]);l=i(l,p)}let u=t(o._common),c=r(u,l);return new n(c)});static getInstance(e){return n.cache.get(Array.from(e))}static _locales=new Ke(()=>Object.keys(n.ambiguousCharacterData.value).filter(e=>!e.startsWith("_")));static getLocales(){return n._locales.value}isAmbiguous(e){return this.confusableDictionary.has(e)}containsAmbiguousCharacter(e){for(let t=0;t<e.length;t++){let r=e.codePointAt(t);if(typeof r=="number"&&this.isAmbiguous(r))return!0}return!1}getPrimaryConfusable(e){return this.confusableDictionary.get(e)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}};function ue(n){return typeof n=="string"}function Te(n){return typeof n=="object"&&n!==null&&!Array.isArray(n)&&!(n instanceof RegExp)&&!(n instanceof Date)}function St(n){return typeof n>"u"}function Be(n){return St(n)||n===null}var nl=Object.prototype.hasOwnProperty;function Mo(n){if(!Te(n))return!1;for(let e in n)if(nl.call(n,e))return!1;return!0}function Fo(n){return typeof n=="function"}function Vo(n,e){let t=Math.min(n.length,e.length);for(let r=0;r<t;r++)rl(n[r],e[r])}function rl(n,e){if(ue(e)){if(typeof n!==e)throw new Error(`argument does not match constraint: typeof ${e}`)}else if(Fo(e)){try{if(n instanceof e)return}catch{}if(!Be(n)&&n.constructor===e||e.length===1&&e.call(void 0,n)===!0)return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}function We(n){return n===47||n===92}function Gr(n){return n.replace(/[\\/]/g,A.sep)}function Ko(n){return n.indexOf("/")===-1&&(n=Gr(n)),/^[a-zA-Z]:(\/|$)/.test(n)&&(n="/"+n),n}function Jr(n,e=A.sep){if(!n)return"";let t=n.length,r=n.charCodeAt(0);if(We(r)){if(We(n.charCodeAt(1))&&!We(n.charCodeAt(2))){let o=3,a=o;for(;o<t&&!We(n.charCodeAt(o));o++);if(a!==o&&!We(n.charCodeAt(o+1))){for(o+=1;o<t;o++)if(We(n.charCodeAt(o)))return n.slice(0,o+1).replace(/[\\/]/g,e)}}return e}else if(Bo(r)&&n.charCodeAt(1)===58)return We(n.charCodeAt(2))?n.slice(0,2)+e:n.slice(0,2);let i=n.indexOf("://");if(i!==-1){for(i+=3;i<t;i++)if(We(n.charCodeAt(i)))return n.slice(0,i+1)}return""}function en(n,e,t,r=mt){if(n===e)return!0;if(!n||!e||e.length>n.length)return!1;if(t){if(!jr(n,e))return!1;if(e.length===n.length)return!0;let o=e.length;return e.charAt(e.length-1)===r&&o--,n.charAt(o)===r}return e.charAt(e.length-1)!==r&&(e+=r),n.indexOf(e)===0}function Bo(n){return n>=65&&n<=90||n>=97&&n<=122}function Wo(n){let e=pt(n);return N?n.length>3?!1:ol(e)&&(n.length===2||e.charCodeAt(2)===92):e===A.sep}function ol(n,e=N){return e?Bo(n.charCodeAt(0))&&n.charCodeAt(1)===58:!1}var sl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",al="BDEFGHIJKMOQRSTUVWXYZbdefghijkmoqrstuvwxyz0123456789";function qo(n,e,t=8){let r="";for(let o=0;o<t;o++){let a;o===0&&N&&!e&&(t===3||t===4)?a=al:a=sl,r+=a.charAt(Math.floor(Math.random()*a.length))}let i;return e?i=`${e}-${r}`:i=r,n?V(n,i):i}var G;(S=>(S.inMemory="inmemory",S.vscode="vscode",S.internal="private",S.walkThrough="walkThrough",S.walkThroughSnippet="walkThroughSnippet",S.http="http",S.https="https",S.file="file",S.mailto="mailto",S.untitled="untitled",S.data="data",S.command="command",S.vscodeRemote="vscode-remote",S.vscodeRemoteResource="vscode-remote-resource",S.vscodeManagedRemoteResource="vscode-managed-remote-resource",S.vscodeUserData="vscode-userdata",S.vscodeCustomEditor="vscode-custom-editor",S.vscodeNotebookCell="vscode-notebook-cell",S.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",S.vscodeNotebookCellMetadataDiff="vscode-notebook-cell-metadata-diff",S.vscodeNotebookCellOutput="vscode-notebook-cell-output",S.vscodeNotebookCellOutputDiff="vscode-notebook-cell-output-diff",S.vscodeNotebookMetadata="vscode-notebook-metadata",S.vscodeInteractiveInput="vscode-interactive-input",S.vscodeSettings="vscode-settings",S.vscodeWorkspaceTrust="vscode-workspace-trust",S.vscodeTerminal="vscode-terminal",S.vscodeChatCodeBlock="vscode-chat-code-block",S.vscodeChatCodeCompareBlock="vscode-chat-code-compare-block",S.vscodeChatSesssion="vscode-chat-editor",S.webviewPanel="webview-panel",S.vscodeWebview="vscode-webview",S.extension="extension",S.vscodeFileResource="vscode-file",S.tmp="tmp",S.vsls="vsls",S.vscodeSourceControl="vscode-scm",S.commentsInput="comment",S.codeSetting="code-setting",S.outputChannel="output"))(G||={});var ul="tkn",Qr=class{_hosts=Object.create(null);_ports=Object.create(null);_connectionTokens=Object.create(null);_preferredWebSchema="http";_delegate=null;_serverRootPath="/";setPreferredWebSchema(e){this._preferredWebSchema=e}setDelegate(e){this._delegate=e}setServerRootPath(e,t){this._serverRootPath=dl(e,t)}getServerRootPath(){return this._serverRootPath}get _remoteResourcesPath(){return A.join(this._serverRootPath,G.vscodeRemoteResource)}set(e,t,r){this._hosts[e]=t,this._ports[e]=r}setConnectionToken(e,t){this._connectionTokens[e]=t}getPreferredWebSchema(){return this._preferredWebSchema}rewrite(e){if(this._delegate)try{return this._delegate(e)}catch(l){return Se(l),e}let t=e.authority,r=this._hosts[t];r&&r.indexOf(":")!==-1&&r.indexOf("[")===-1&&(r=`[${r}]`);let i=this._ports[t],o=this._connectionTokens[t],a=`path=${encodeURIComponent(e.path)}`;return typeof o=="string"&&(a+=`&${ul}=${encodeURIComponent(o)}`),K.from({scheme:qt?this._preferredWebSchema:G.vscodeRemoteResource,authority:`${r}:${i}`,path:this._remoteResourcesPath,query:a})}},cl=new Qr;function dl(n,e){return A.join(e??"/",`${n.quality??"oss"}-${n.commit??"dev"}`)}var pl="vscode-app",Xr=class n{static FALLBACK_AUTHORITY=pl;asBrowserUri(e){let t=this.toUri(e);return this.uriToBrowserUri(t)}uriToBrowserUri(e){return e.scheme===G.vscodeRemote?cl.rewrite(e):e.scheme===G.file&&(Qi||Xi===`${G.vscodeFileResource}://${n.FALLBACK_AUTHORITY}`)?e.with({scheme:G.vscodeFileResource,authority:e.authority||n.FALLBACK_AUTHORITY,query:null,fragment:null}):e}asFileUri(e){let t=this.toUri(e);return this.uriToFileUri(t)}uriToFileUri(e){return e.scheme===G.vscodeFileResource?e.with({scheme:G.file,authority:e.authority!==n.FALLBACK_AUTHORITY?e.authority:null,query:null,fragment:null}):e}toUri(e,t){if(K.isUri(e))return e;if(globalThis._VSCODE_FILE_ROOT){let r=globalThis._VSCODE_FILE_ROOT;if(/^\w[\w\d+.-]*:\/\//.test(r))return K.joinPath(K.parse(r,!0),e);let i=V(r,e);return K.file(i)}return K.parse(t.toUrl(e))}},fl=new Xr,ml;(o=>{let n=new Map([["1",{"Cross-Origin-Opener-Policy":"same-origin"}],["2",{"Cross-Origin-Embedder-Policy":"require-corp"}],["3",{"Cross-Origin-Opener-Policy":"same-origin","Cross-Origin-Embedder-Policy":"require-corp"}]]);o.CoopAndCoep=Object.freeze(n.get("3"));let t="vscode-coi";function r(a){let l;typeof a=="string"?l=new URL(a).searchParams:a instanceof URL?l=a.searchParams:K.isUri(a)&&(l=new URL(a.toString(!0)).searchParams);let u=l?.get(t);if(u)return n.get(u)}o.getHeadersFromQuery=r;function i(a,l,u){if(!globalThis.crossOriginIsolated)return;let c=l&&u?"3":u?"2":"1";a instanceof URLSearchParams?a.set(t,c):a[t]=c}o.addSearchParam=i})(ml||={});function ke(n){return $t(n,!0)}var tn=class{constructor(e){this._ignorePathCasing=e}compare(e,t,r=!1){return e===t?0:qr(this.getComparisonKey(e,r),this.getComparisonKey(t,r))}isEqual(e,t,r=!1){return e===t?!0:!e||!t?!1:this.getComparisonKey(e,r)===this.getComparisonKey(t,r)}getComparisonKey(e,t=!1){return e.with({path:this._ignorePathCasing(e)?e.path.toLowerCase():void 0,fragment:t?null:void 0}).toString()}ignorePathCasing(e){return this._ignorePathCasing(e)}isEqualOrParent(e,t,r=!1){if(e.scheme===t.scheme){if(e.scheme===G.file)return en(ke(e),ke(t),this._ignorePathCasing(e))&&e.query===t.query&&(r||e.fragment===t.fragment);if($o(e.authority,t.authority))return en(e.path,t.path,this._ignorePathCasing(e),"/")&&e.query===t.query&&(r||e.fragment===t.fragment)}return!1}joinPath(e,...t){return K.joinPath(e,...t)}basenameOrAuthority(e){return hl(e)||e.authority}basename(e){return A.basename(e.path)}extname(e){return A.extname(e.path)}dirname(e){if(e.path.length===0)return e;let t;return e.scheme===G.file?t=K.file(ft(ke(e))).path:(t=A.dirname(e.path),e.authority&&t.length&&t.charCodeAt(0)!==47&&(console.error(`dirname("${e.toString})) resulted in a relative path`),t="/")),e.with({path:t})}normalizePath(e){if(!e.path.length)return e;let t;return e.scheme===G.file?t=K.file(pt(ke(e))).path:t=A.normalize(e.path),e.with({path:t})}relativePath(e,t){if(e.scheme!==t.scheme||!$o(e.authority,t.authority))return;if(e.scheme===G.file){let o=io(ke(e),ke(t));return N?Gr(o):o}let r=e.path||"/",i=t.path||"/";if(this._ignorePathCasing(e)){let o=0;for(let a=Math.min(r.length,i.length);o<a&&!(r.charCodeAt(o)!==i.charCodeAt(o)&&r.charAt(o).toLowerCase()!==i.charAt(o).toLowerCase());o++);r=i.substr(0,o)+r.substr(o)}return A.relative(r,i)}resolvePath(e,t){if(e.scheme===G.file){let r=K.file(ro(ke(e),t));return e.with({authority:r.authority,path:r.path})}return t=Ko(t),e.with({path:A.resolve(e.path,t)})}isAbsolutePath(e){return!!e.path&&e.path[0]==="/"}isEqualAuthority(e,t){return e===t||e!==void 0&&t!==void 0&&Wn(e,t)}hasTrailingPathSeparator(e,t=mt){if(e.scheme===G.file){let r=ke(e);return r.length>Jr(r).length&&r[r.length-1]===t}else{let r=e.path;return r.length>1&&r.charCodeAt(r.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(e.fsPath)}}removeTrailingPathSeparator(e,t=mt){return zo(e,t)?e.with({path:e.path.substr(0,e.path.length-1)}):e}addTrailingPathSeparator(e,t=mt){let r=!1;if(e.scheme===G.file){let i=ke(e);r=i!==void 0&&i.length===Jr(i).length&&i[i.length-1]===t}else{t="/";let i=e.path;r=i.length===1&&i.charCodeAt(i.length-1)===47}return!r&&!zo(e,t)?e.with({path:e.path+"/"}):e}},U=new tn(()=>!1),Yr=new tn(n=>n.scheme===G.file?!me:!0),v1=new tn(n=>!0),x1=U.isEqual.bind(U),I1=U.isEqualOrParent.bind(U),T1=U.getComparisonKey.bind(U),gl=U.basenameOrAuthority.bind(U),hl=U.basename.bind(U),bl=U.extname.bind(U),_1=U.dirname.bind(U),jo=U.joinPath.bind(U),E1=U.normalizePath.bind(U),w1=U.relativePath.bind(U),S1=U.resolvePath.bind(U),P1=U.isAbsolutePath.bind(U),$o=U.isEqualAuthority.bind(U),zo=U.hasTrailingPathSeparator.bind(U),R1=U.removeTrailingPathSeparator.bind(U),C1=U.addTrailingPathSeparator.bind(U);var yl;(o=>{o.META_DATA_LABEL="label",o.META_DATA_DESCRIPTION="description",o.META_DATA_SIZE="size",o.META_DATA_MIME="mime";function i(a){let l=new Map;a.path.substring(a.path.indexOf(";")+1,a.path.lastIndexOf(";")).split(";").forEach(d=>{let[p,f]=d.split(":");p&&f&&l.set(p,f)});let c=a.path.substring(0,a.path.indexOf(";"));return c&&l.set(o.META_DATA_MIME,c),l}o.parseMetaData=i})(yl||={});function $n(n){let e=new ve,t=n(e.token),r=new Promise((i,o)=>{let a=e.token.onCancellationRequested(()=>{a.dispose(),o(new te)});Promise.resolve(t).then(l=>{a.dispose(),e.dispose(),i(l)},l=>{a.dispose(),e.dispose(),o(l)})});return new class{cancel(){e.cancel(),e.dispose()}then(i,o){return r.then(i,o)}catch(i){return this.then(void 0,i)}finally(i){return r.finally(i)}}}function Pt(n,e){return e?new Promise((t,r)=>{let i=setTimeout(()=>{o.dispose(),t()},n),o=e.onCancellationRequested(()=>{clearTimeout(i),o.dispose(),r(new te)})}):$n(t=>Pt(n,t))}var ei=class{_size=0;_isDisposed=!1;runningPromises;maxDegreeOfParalellism;outstandingPromises;_onDrained;constructor(e){this.maxDegreeOfParalellism=e,this.outstandingPromises=[],this.runningPromises=0,this._onDrained=new k}whenIdle(){return this.size>0?ne.toPromise(this.onDrained):Promise.resolve()}get onDrained(){return this._onDrained.event}get size(){return this._size}queue(e){if(this._isDisposed)throw new Error("Object has been disposed");return this._size++,new Promise((t,r)=>{this.outstandingPromises.push({factory:e,c:t,e:r}),this.consume()})}consume(){for(;this.outstandingPromises.length&&this.runningPromises<this.maxDegreeOfParalellism;){let e=this.outstandingPromises.shift();this.runningPromises++;let t=e.factory();t.then(e.c,e.e),t.then(()=>this.consumed(),()=>this.consumed())}}consumed(){this._isDisposed||(this.runningPromises--,--this._size===0&&this._onDrained.fire(),this.outstandingPromises.length>0&&this.consume())}clear(){if(this._isDisposed)throw new Error("Object has been disposed");this.outstandingPromises.length=0,this._size=this.runningPromises}dispose(){this._isDisposed=!0,this.outstandingPromises.length=0,this._size=0,this._onDrained.dispose()}},ti=class extends ei{constructor(){super(1)}};var qn=class{queues=new Map;drainers=new Set;drainListeners=void 0;drainListenerCount=0;async whenDrained(){if(this.isDrained())return;let e=new ni;return this.drainers.add(e),e.p}isDrained(){for(let[,e]of this.queues)if(e.size>0)return!1;return!0}queueSize(e,t=U){let r=t.getComparisonKey(e);return this.queues.get(r)?.size??0}queueFor(e,t,r=U){let i=r.getComparisonKey(e),o=this.queues.get(i);if(!o){o=new ti;let a=this.drainListenerCount++,l=ne.once(o.onDrained)(()=>{o?.dispose(),this.queues.delete(i),this.onDidQueueDrain(),this.drainListeners?.deleteAndDispose(a),this.drainListeners?.size===0&&(this.drainListeners.dispose(),this.drainListeners=void 0)});this.drainListeners||(this.drainListeners=new jt),this.drainListeners.set(a,l),this.queues.set(i,o)}return o.queue(t)}onDidQueueDrain(){this.isDrained()&&this.releaseDrainers()}releaseDrainers(){for(let e of this.drainers)e.complete();this.drainers.clear()}dispose(){for(let[,e]of this.queues)e.dispose();this.queues.clear(),this.releaseDrainers(),this.drainListeners?.dispose()}};var vl,Zr;(function(){typeof globalThis.requestIdleCallback!="function"||typeof globalThis.cancelIdleCallback!="function"?Zr=(n,e)=>{Yi(()=>{if(t)return;let r=Date.now()+15;e(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,r-Date.now())}}))});let t=!1;return{dispose(){t||(t=!0)}}}:Zr=(n,e,t)=>{let r=n.requestIdleCallback(e,typeof t=="number"?{timeout:t}:void 0),i=!1;return{dispose(){i||(i=!0,n.cancelIdleCallback(r))}}},vl=n=>Zr(globalThis,n)})();var ni=class{completeCallback;errorCallback;outcome;get isRejected(){return this.outcome?.outcome===1}get isResolved(){return this.outcome?.outcome===0}get isSettled(){return!!this.outcome}get value(){return this.outcome?.outcome===0?this.outcome?.value:void 0}p;constructor(){this.p=new Promise((e,t)=>{this.completeCallback=e,this.errorCallback=t})}complete(e){return new Promise(t=>{this.completeCallback(e),this.outcome={outcome:0,value:e},t()})}error(e){return new Promise(t=>{this.errorCallback(e),this.outcome={outcome:1,value:e},t()})}cancel(){return this.error(new te)}},ri;(t=>{async function n(r){let i,o=await Promise.all(r.map(a=>a.then(l=>l,l=>{i||(i=l)})));if(typeof i<"u")throw i;return o}t.settled=n;function e(r){return new Promise(async(i,o)=>{try{await r(i,o)}catch(a){o(a)}})}t.withAsyncBody=e})(ri||={});var Ho=class n{static fromArray(e){return new n(t=>{t.emitMany(e)})}static fromPromise(e){return new n(async t=>{t.emitMany(await e)})}static fromPromises(e){return new n(async t=>{await Promise.all(e.map(async r=>t.emitOne(await r)))})}static merge(e){return new n(async t=>{await Promise.all(e.map(async r=>{for await(let i of r)t.emitOne(i)}))})}static EMPTY=n.fromArray([]);_state;_results;_error;_onReturn;_onStateChanged;constructor(e,t){this._state=0,this._results=[],this._error=null,this._onReturn=t,this._onStateChanged=new k,queueMicrotask(async()=>{let r={emitOne:i=>this.emitOne(i),emitMany:i=>this.emitMany(i),reject:i=>this.reject(i)};try{await Promise.resolve(e(r)),this.resolve()}catch(i){this.reject(i)}finally{r.emitOne=void 0,r.emitMany=void 0,r.reject=void 0}})}[Symbol.asyncIterator](){let e=0;return{next:async()=>{do{if(this._state===2)throw this._error;if(e<this._results.length)return{done:!1,value:this._results[e++]};if(this._state===1)return{done:!0,value:void 0};await ne.toPromise(this._onStateChanged.event)}while(!0)},return:async()=>(this._onReturn?.(),{done:!0,value:void 0})}}static map(e,t){return new n(async r=>{for await(let i of e)r.emitOne(t(i))})}map(e){return n.map(this,e)}static filter(e,t){return new n(async r=>{for await(let i of e)t(i)&&r.emitOne(i)})}filter(e){return n.filter(this,e)}static coalesce(e){return n.filter(e,t=>!!t)}coalesce(){return n.coalesce(this)}static async toPromise(e){let t=[];for await(let r of e)t.push(r);return t}toPromise(){return n.toPromise(this)}emitOne(e){this._state===0&&(this._results.push(e),this._onStateChanged.fire())}emitMany(e){this._state===0&&(this._results=this._results.concat(e),this._onStateChanged.fire())}resolve(){this._state===0&&(this._state=1,this._onStateChanged.fire())}reject(e){this._state===0&&(this._state=2,this._error=e,this._onStateChanged.fire())}};var zn=typeof Buffer<"u",Il=new Ke(()=>new Uint8Array(256)),ii,oi,pe=class n{static alloc(e){return zn?new n(Buffer.allocUnsafe(e)):new n(new Uint8Array(e))}static wrap(e){return zn&&!Buffer.isBuffer(e)&&(e=Buffer.from(e.buffer,e.byteOffset,e.byteLength)),new n(e)}static fromString(e,t){return!(t?.dontUseNodeBuffer||!1)&&zn?new n(Buffer.from(e)):(ii||(ii=new TextEncoder),new n(ii.encode(e)))}static fromByteArray(e){let t=n.alloc(e.length);for(let r=0,i=e.length;r<i;r++)t.buffer[r]=e[r];return t}static concat(e,t){if(typeof t>"u"){t=0;for(let o=0,a=e.length;o<a;o++)t+=e[o].byteLength}let r=n.alloc(t),i=0;for(let o=0,a=e.length;o<a;o++){let l=e[o];r.set(l,i),i+=l.byteLength}return r}buffer;byteLength;constructor(e){this.buffer=e,this.byteLength=this.buffer.byteLength}clone(){let e=n.alloc(this.byteLength);return e.set(this),e}toString(){return zn?this.buffer.toString():(oi||(oi=new TextDecoder),oi.decode(this.buffer))}slice(e,t){return new n(this.buffer.subarray(e,t))}set(e,t){if(e instanceof n)this.buffer.set(e.buffer,t);else if(e instanceof Uint8Array)this.buffer.set(e,t);else if(e instanceof ArrayBuffer)this.buffer.set(new Uint8Array(e),t);else if(ArrayBuffer.isView(e))this.buffer.set(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),t);else throw new Error("Unknown argument 'array'")}readUInt32BE(e){return _l(this.buffer,e)}writeUInt32BE(e,t){El(this.buffer,e,t)}readUInt32LE(e){return wl(this.buffer,e)}writeUInt32LE(e,t){Sl(this.buffer,e,t)}readUInt8(e){return Pl(this.buffer,e)}writeUInt8(e,t){Rl(this.buffer,e,t)}indexOf(e,t=0){return Tl(this.buffer,e instanceof n?e.buffer:e,t)}};function Tl(n,e,t=0){let r=e.byteLength,i=n.byteLength;if(r===0)return 0;if(r===1)return n.indexOf(e[0]);if(r>i-t)return-1;let o=Il.value;o.fill(e.length);for(let c=0;c<e.length;c++)o[e[c]]=e.length-c-1;let a=t+e.length-1,l=a,u=-1;for(;a<i;)if(n[a]===e[l]){if(l===0){u=a;break}a--,l--}else a+=Math.max(e.length-l,o[n[a]]),l=e.length-1;return u}function _l(n,e){return n[e]*2**24+n[e+1]*2**16+n[e+2]*2**8+n[e+3]}function El(n,e,t){n[t+3]=e,e=e>>>8,n[t+2]=e,e=e>>>8,n[t+1]=e,e=e>>>8,n[t]=e}function wl(n,e){return n[e+0]<<0>>>0|n[e+1]<<8>>>0|n[e+2]<<16>>>0|n[e+3]<<24>>>0}function Sl(n,e,t){n[t+0]=e&255,e=e>>>8,n[t+1]=e&255,e=e>>>8,n[t+2]=e&255,e=e>>>8,n[t+3]=e&255}function Pl(n,e){return n[e]}function Rl(n,e,t){n[t]=e}function Go(n,e,t){let r=null,i=null;if(typeof t.value=="function"?(r="value",i=t.value,i.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof t.get=="function"&&(r="get",i=t.get),!i)throw new Error("not supported");let o=`$memoize$${e}`;t[r]=function(...a){return this.hasOwnProperty(o)||Object.defineProperty(this,o,{configurable:!1,enumerable:!1,writable:!1,value:i.apply(this,a)}),this[o]}}function nn(n,e=0){if(!n||e>200)return n;if(typeof n=="object"){switch(n.$mid){case 1:return K.revive(n);case 2:return new RegExp(n.source,n.flags);case 17:return new Date(n.source)}if(n instanceof pe||n instanceof Uint8Array)return n;if(Array.isArray(n))for(let t=0;t<n.length;++t)n[t]=nn(n[t],e+1);else for(let t in n)Object.hasOwnProperty.call(n,t)&&(n[t]=nn(n[t],e+1))}return n}function Jo(n){switch(n){case 100:return"req";case 101:return"cancel";case 102:return"subscribe";case 103:return"unsubscribe"}}function Qo(n){switch(n){case 200:return"init";case 201:return"reply:";case 202:case 203:return"replyErr:";case 204:return"event:"}}function Rt(n){let e=0;for(let t=0;;t+=7){let r=n.read(1);if(e|=(r.buffer[0]&127)<<t,!(r.buffer[0]&128))return e}}var Cl=qe(0);function Ct(n,e){if(e===0){n.write(Cl);return}let t=0;for(let i=e;i!==0;i=i>>>7)t++;let r=pe.alloc(t);for(let i=0;e!==0;i++)r.buffer[i]=e&127,e=e>>>7,e>0&&(r.buffer[i]|=128);n.write(r)}var ai=class{constructor(e){this.buffer=e}pos=0;read(e){let t=this.buffer.slice(this.pos,this.pos+e);return this.pos+=t.byteLength,t}},li=class{buffers=[];get buffer(){return pe.concat(this.buffers)}write(e){this.buffers.push(e)}};function qe(n){let e=pe.alloc(1);return e.writeUInt8(n,0),e}var Ze={Undefined:qe(0),String:qe(1),Buffer:qe(2),VSBuffer:qe(3),Array:qe(4),Object:qe(5),Uint:qe(6)},kl=typeof Buffer<"u";function ui(n,e){if(typeof e>"u")n.write(Ze.Undefined);else if(typeof e=="string"){let t=pe.fromString(e);n.write(Ze.String),Ct(n,t.byteLength),n.write(t)}else if(kl&&Buffer.isBuffer(e)){let t=pe.wrap(e);n.write(Ze.Buffer),Ct(n,t.byteLength),n.write(t)}else if(e instanceof pe)n.write(Ze.VSBuffer),Ct(n,e.byteLength),n.write(e);else if(Array.isArray(e)){n.write(Ze.Array),Ct(n,e.length);for(let t of e)ui(n,t)}else if(typeof e=="number"&&(e|0)===e)n.write(Ze.Uint),Ct(n,e);else{let t=pe.fromString(JSON.stringify(e));n.write(Ze.Object),Ct(n,t.byteLength),n.write(t)}}function ci(n){switch(n.read(1).readUInt8(0)){case 0:return;case 1:return n.read(Rt(n)).toString();case 2:return n.read(Rt(n)).buffer;case 3:return n.read(Rt(n));case 4:{let t=Rt(n),r=[];for(let i=0;i<t;i++)r.push(ci(n));return r}case 5:return JSON.parse(n.read(Rt(n)).toString());case 6:return Rt(n)}}var si=class{constructor(e,t=null){this.protocol=e;this.protocolListener=this.protocol.onMessage(r=>this.onBuffer(r)),this.logger=t}isDisposed=!1;state=0;activeRequests=new Set;handlers=new Map;lastRequestId=0;protocolListener;logger;_onDidInitialize=new k;onDidInitialize=this._onDidInitialize.event;getChannel(e){let t=this;return{call(r,i,o){return t.isDisposed?Promise.reject(new te):t.requestPromise(e,r,i,o)},listen(r,i){return t.isDisposed?ne.None:t.requestEvent(e,r,i)}}}requestPromise(e,t,r,i=Ht.None){let o=this.lastRequestId++,l={id:o,type:100,channelName:e,name:t,arg:r};if(i.isCancellationRequested)return Promise.reject(new te);let u;return new Promise((d,p)=>{if(i.isCancellationRequested)return p(new te);let f=()=>{let R=w=>{switch(w.type){case 201:this.handlers.delete(o),d(w.data);break;case 202:{this.handlers.delete(o);let W=new Error(w.data.message);W.stack=Array.isArray(w.data.stack)?w.data.stack.join(`
`):w.data.stack,W.name=w.data.name,p(W);break}case 203:this.handlers.delete(o),p(w.data);break}};this.handlers.set(o,R),this.sendRequest(l)},g=null;this.state===1?f():(g=$n(R=>this.whenInitialized()),g.then(()=>{g=null,f()}));let I=()=>{g?(g.cancel(),g=null):this.sendRequest({id:o,type:101}),p(new te)},P=i.onCancellationRequested(I);u=Cn(Y(I),P),this.activeRequests.add(u)}).finally(()=>{u.dispose(),this.activeRequests.delete(u)})}requestEvent(e,t,r){let i=this.lastRequestId++,a={id:i,type:102,channelName:e,name:t,arg:r},l=null,u=new k({onWillAddFirstListener:()=>{l=$n(d=>this.whenInitialized()),l.then(()=>{l=null,this.activeRequests.add(u),this.sendRequest(a)})},onDidRemoveLastListener:()=>{l?(l.cancel(),l=null):(this.activeRequests.delete(u),this.sendRequest({id:i,type:103}))}}),c=d=>u.fire(d.data);return this.handlers.set(i,c),u.event}sendRequest(e){switch(e.type){case 100:case 102:{let t=this.send([e.type,e.id,e.channelName,e.name],e.arg);this.logger?.logOutgoing(t,e.id,0,`${Jo(e.type)}: ${e.channelName}.${e.name}`,e.arg);return}case 101:case 103:{let t=this.send([e.type,e.id]);this.logger?.logOutgoing(t,e.id,0,Jo(e.type));return}}}send(e,t=void 0){let r=new li;return ui(r,e),ui(r,t),this.sendBuffer(r.buffer)}sendBuffer(e){try{return this.protocol.send(e),e.byteLength}catch{return 0}}onBuffer(e){let t=new ai(e),r=ci(t),i=ci(t),o=r[0];switch(o){case 200:return this.logger?.logIncoming(e.byteLength,0,0,Qo(o)),this.onResponse({type:r[0]});case 201:case 202:case 204:case 203:return this.logger?.logIncoming(e.byteLength,r[1],0,Qo(o),i),this.onResponse({type:r[0],id:r[1],data:i})}}onResponse(e){if(e.type===200){this.state=1,this._onDidInitialize.fire();return}this.handlers.get(e.id)?.(e)}get onDidInitializePromise(){return ne.toPromise(this.onDidInitialize)}whenInitialized(){return this.state===1?Promise.resolve():this.onDidInitializePromise}dispose(){this.isDisposed=!0,this.protocolListener&&(this.protocolListener.dispose(),this.protocolListener=null),Fe(this.activeRequests.values()),this.activeRequests.clear()}};at([Go],si.prototype,"onDidInitializePromise",1);var jn;(i=>{function n(o,a,l){let u=o,c=l&&l.disableMarshalling,d=new Map;for(let p in u)t(p)&&d.set(p,ne.buffer(u[p],!0,void 0,a));return new class{listen(p,f,g){let I=d.get(f);if(I)return I;let P=u[f];if(typeof P=="function"){if(r(f))return P.call(u,g);if(t(f))return d.set(f,ne.buffer(u[f],!0,void 0,a)),d.get(f)}throw new De(`Event not found: ${f}`)}call(p,f,g){let I=u[f];if(typeof I=="function"){if(!c&&Array.isArray(g))for(let R=0;R<g.length;R++)g[R]=nn(g[R]);let P=I.apply(u,g);return P instanceof Promise||(P=Promise.resolve(P)),P}throw new De(`Method not found: ${f}`)}}}i.fromService=n;function e(o,a){let l=a&&a.disableMarshalling;return new Proxy({},{get(u,c){if(typeof c=="string")return a?.properties?.has(c)?a.properties.get(c):r(c)?function(d){return o.listen(c,d)}:t(c)?o.listen(c):async function(...d){let p;a&&!Be(a.context)?p=[a.context,...d]:p=d;let f=await o.call(c,p);return l?f:nn(f)};throw new De(`Property not found: ${String(c)}`)}})}i.toService=e;function t(o){return o[0]==="o"&&o[1]==="n"&&zr(o.charCodeAt(2))}function r(o){return/^onDynamic/.test(o)&&zr(o.charCodeAt(9))}})(jn||={});var $e;(i=>{i.serviceIds=new Map,i.DI_TARGET="$di$target",i.DI_DEPENDENCIES="$di$dependencies";function r(o){return o[i.DI_DEPENDENCIES]||[]}i.getServiceDependencies=r})($e||={});var qm=j("instantiationService");function Dl(n,e,t){e[$e.DI_TARGET]===e?e[$e.DI_DEPENDENCIES].push({id:n,index:t}):(e[$e.DI_DEPENDENCIES]=[{id:n,index:t}],e[$e.DI_TARGET]=e)}function j(n){if($e.serviceIds.has(n))return $e.serviceIds.get(n);let e=function(t,r,i){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");Dl(e,t,i)};return e.toString=()=>n,$e.serviceIds.set(n,e),e}var Ll=j("environmentService"),rg=Ll;var yg=j("contextService");var Xo="code-workspace",vg=`.${Xo}`,xg=[{name:m("codeWorkspace","Code Workspace"),extensions:[Xo]}];var Yo=j("configurationService");function Zo(n){return n.replace(/[\[\]]/g,"")}function di(n,e){return e&&(n.stack||n.stacktrace)?m("stackTrace.format","{0}: {1}",ts(n),es(n.stack)||es(n.stacktrace)):ts(n)}function es(n){return Array.isArray(n)?n.join(`
`):n}function ts(n){return n.code==="ERR_UNC_HOST_NOT_ALLOWED"?`${n.message}. Please update the 'security.allowedUNCHosts' setting if you want to allow this host.`:typeof n.code=="string"&&typeof n.errno=="number"&&typeof n.syscall=="string"?m("nodeExceptionMessage","A system error occurred ({0})",n.message):n.message||m("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}function kt(n=null,e=!1){if(!n)return m("error.defaultMessage","An unknown error occurred. Please consult the log for more details.");if(Array.isArray(n)){let t=Ki(n),r=kt(t[0],e);return t.length>1?m("error.moreErrors","{0} ({1} errors in total)",r,t.length):r}if(ue(n))return n;if(n.detail){let t=n.detail;if(t.error)return di(t.error,e);if(t.exception)return di(t.exception,e)}return n.stack?di(n,e):n.message?n.message:m("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}function pi(n,e,t=32){let r=t-e,i=~((1<<r)-1);return(n<<e|(i&n)>>>r)>>>0}function ns(n,e=0,t=n.byteLength,r=0){for(let i=0;i<t;i++)n[e+i]=r}function Ol(n,e,t="0"){for(;n.length<e;)n=t+n;return n}function rn(n,e=32){return n instanceof ArrayBuffer?Array.from(new Uint8Array(n)).map(t=>t.toString(16).padStart(2,"0")).join(""):Ol((n>>>0).toString(16),e/4)}var rs=class n{static _bigBlock32=new DataView(new ArrayBuffer(320));_h0=1732584193;_h1=4023233417;_h2=2562383102;_h3=271733878;_h4=3285377520;_buff;_buffDV;_buffLen;_totalLen;_leftoverHighSurrogate;_finished;constructor(){this._buff=new Uint8Array(67),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(e){let t=e.length;if(t===0)return;let r=this._buff,i=this._buffLen,o=this._leftoverHighSurrogate,a,l;for(o!==0?(a=o,l=-1,o=0):(a=e.charCodeAt(0),l=0);;){let u=a;if(Ao(a))if(l+1<t){let c=e.charCodeAt(l+1);Hr(c)?(l++,u=Uo(a,c)):u=65533}else{o=a;break}else Hr(a)&&(u=65533);if(i=this._push(r,i,u),l++,l<t)a=e.charCodeAt(l);else break}this._buffLen=i,this._leftoverHighSurrogate=o}_push(e,t,r){return r<128?e[t++]=r:r<2048?(e[t++]=192|(r&1984)>>>6,e[t++]=128|(r&63)>>>0):r<65536?(e[t++]=224|(r&61440)>>>12,e[t++]=128|(r&4032)>>>6,e[t++]=128|(r&63)>>>0):(e[t++]=240|(r&1835008)>>>18,e[t++]=128|(r&258048)>>>12,e[t++]=128|(r&4032)>>>6,e[t++]=128|(r&63)>>>0),t>=64&&(this._step(),t-=64,this._totalLen+=64,e[0]=e[64],e[1]=e[65],e[2]=e[66]),t}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),rn(this._h0)+rn(this._h1)+rn(this._h2)+rn(this._h3)+rn(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,ns(this._buff,this._buffLen),this._buffLen>56&&(this._step(),ns(this._buff));let e=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(e/4294967296),!1),this._buffDV.setUint32(60,e%4294967296,!1),this._step()}_step(){let e=n._bigBlock32,t=this._buffDV;for(let p=0;p<64;p+=4)e.setUint32(p,t.getUint32(p,!1),!1);for(let p=64;p<320;p+=4)e.setUint32(p,pi(e.getUint32(p-12,!1)^e.getUint32(p-32,!1)^e.getUint32(p-56,!1)^e.getUint32(p-64,!1),1),!1);let r=this._h0,i=this._h1,o=this._h2,a=this._h3,l=this._h4,u,c,d;for(let p=0;p<80;p++)p<20?(u=i&o|~i&a,c=1518500249):p<40?(u=i^o^a,c=1859775393):p<60?(u=i&o|i&a|o&a,c=2400959708):(u=i^o^a,c=3395469782),d=pi(r,5)+u+l+c+e.getUint32(p*4,!1)&4294967295,l=a,a=o,o=pi(i,30),i=r,r=d;this._h0=this._h0+r&4294967295,this._h1=this._h1+i&4294967295,this._h2=this._h2+o&4294967295,this._h3=this._h3+a&4294967295,this._h4=this._h4+l&4294967295}};function fi(...n){switch(n.length){case 1:return m("contextkey.scanner.hint.didYouMean1","Did you mean {0}?",n[0]);case 2:return m("contextkey.scanner.hint.didYouMean2","Did you mean {0} or {1}?",n[0],n[1]);case 3:return m("contextkey.scanner.hint.didYouMean3","Did you mean {0}, {1} or {2}?",n[0],n[1],n[2]);default:return}}var Al=m("contextkey.scanner.hint.didYouForgetToOpenOrCloseQuote","Did you forget to open or close the quote?"),Ul=m("contextkey.scanner.hint.didYouForgetToEscapeSlash","Did you forget to escape the '/' (slash) character? Put two backslashes before it to escape, e.g., '\\\\/'."),ze=class n{static getLexeme(e){switch(e.type){case 0:return"(";case 1:return")";case 2:return"!";case 3:return e.isTripleEq?"===":"==";case 4:return e.isTripleEq?"!==":"!=";case 5:return"<";case 6:return"<=";case 7:return">=";case 8:return">=";case 9:return"=~";case 10:return e.lexeme;case 11:return"true";case 12:return"false";case 13:return"in";case 14:return"not";case 15:return"&&";case 16:return"||";case 17:return e.lexeme;case 18:return e.lexeme;case 19:return e.lexeme;case 20:return"EOF";default:throw Fi(`unhandled token type: ${JSON.stringify(e)}; have you forgotten to add a case?`)}}static _regexFlags=new Set(["i","g","s","m","y","u"].map(e=>e.charCodeAt(0)));static _keywords=new Map([["not",14],["in",13],["false",12],["true",11]]);_input="";_start=0;_current=0;_tokens=[];_errors=[];get errors(){return this._errors}reset(e){return this._input=e,this._start=0,this._current=0,this._tokens=[],this._errors=[],this}scan(){for(;!this._isAtEnd();)switch(this._start=this._current,this._advance()){case 40:this._addToken(0);break;case 41:this._addToken(1);break;case 33:if(this._match(61)){let t=this._match(61);this._tokens.push({type:4,offset:this._start,isTripleEq:t})}else this._addToken(2);break;case 39:this._quotedString();break;case 47:this._regex();break;case 61:if(this._match(61)){let t=this._match(61);this._tokens.push({type:3,offset:this._start,isTripleEq:t})}else this._match(126)?this._addToken(9):this._error(fi("==","=~"));break;case 60:this._addToken(this._match(61)?6:5);break;case 62:this._addToken(this._match(61)?8:7);break;case 38:this._match(38)?this._addToken(15):this._error(fi("&&"));break;case 124:this._match(124)?this._addToken(16):this._error(fi("||"));break;case 32:case 13:case 9:case 10:case 160:break;default:this._string()}return this._start=this._current,this._addToken(20),Array.from(this._tokens)}_match(e){return this._isAtEnd()||this._input.charCodeAt(this._current)!==e?!1:(this._current++,!0)}_advance(){return this._input.charCodeAt(this._current++)}_peek(){return this._isAtEnd()?0:this._input.charCodeAt(this._current)}_addToken(e){this._tokens.push({type:e,offset:this._start})}_error(e){let t=this._start,r=this._input.substring(this._start,this._current),i={type:19,offset:this._start,lexeme:r};this._errors.push({offset:t,lexeme:r,additionalInfo:e}),this._tokens.push(i)}stringRe=/[a-zA-Z0-9_<>\-\./\\:\*\?\+\[\]\^,#@;"%\$\p{L}-]+/uy;_string(){this.stringRe.lastIndex=this._start;let e=this.stringRe.exec(this._input);if(e){this._current=this._start+e[0].length;let t=this._input.substring(this._start,this._current),r=n._keywords.get(t);r?this._addToken(r):this._tokens.push({type:17,lexeme:t,offset:this._start})}}_quotedString(){for(;this._peek()!==39&&!this._isAtEnd();)this._advance();if(this._isAtEnd()){this._error(Al);return}this._advance(),this._tokens.push({type:18,lexeme:this._input.substring(this._start+1,this._current-1),offset:this._start+1})}_regex(){let e=this._current,t=!1,r=!1;for(;;){if(e>=this._input.length){this._current=e,this._error(Ul);return}let o=this._input.charCodeAt(e);if(t)t=!1;else if(o===47&&!r){e++;break}else o===91?r=!0:o===92?t=!0:o===93&&(r=!1);e++}for(;e<this._input.length&&n._regexFlags.has(this._input.charCodeAt(e));)e++;this._current=e;let i=this._input.substring(this._start,this._current);this._tokens.push({type:10,lexeme:i,offset:this._start})}_isAtEnd(){return this._current>=this._input.length}};var J=new Map;J.set("false",!1);J.set("true",!0);J.set("isMac",he);J.set("isLinux",me);J.set("isWindows",N);J.set("isWeb",qt);J.set("isMacNative",he&&!qt);J.set("isEdge",to);J.set("isFirefox",Zi);J.set("isChrome",Tr);J.set("isSafari",eo);var Nl=Object.prototype.hasOwnProperty;var Ml={regexParsingWithErrorRecovery:!0},Fl=m("contextkey.parser.error.emptyString","Empty context key expression"),Vl=m("contextkey.parser.error.emptyString.hint","Did you forget to write an expression? You can also put 'false' or 'true' to always evaluate to false or true, respectively."),Kl=m("contextkey.parser.error.noInAfterNot","'in' after 'not'."),is=m("contextkey.parser.error.closingParenthesis","closing parenthesis ')'"),Bl=m("contextkey.parser.error.unexpectedToken","Unexpected token"),Wl=m("contextkey.parser.error.unexpectedToken.hint","Did you forget to put && or || before the token?"),ql=m("contextkey.parser.error.unexpectedEOF","Unexpected end of expression"),$l=m("contextkey.parser.error.unexpectedEOF.hint","Did you forget to put a context key?"),mi=class n{constructor(e=Ml){this._config=e}static _parseError=new Error;_scanner=new ze;_tokens=[];_current=0;_parsingErrors=[];get lexingErrors(){return this._scanner.errors}get parsingErrors(){return this._parsingErrors}parse(e){if(e===""){this._parsingErrors.push({message:Fl,offset:0,lexeme:"",additionalInfo:Vl});return}this._tokens=this._scanner.reset(e).scan(),this._current=0,this._parsingErrors=[];try{let t=this._expr();if(!this._isAtEnd()){let r=this._peek(),i=r.type===17?Wl:void 0;throw this._parsingErrors.push({message:Bl,offset:r.offset,lexeme:ze.getLexeme(r),additionalInfo:i}),n._parseError}return t}catch(t){if(t!==n._parseError)throw t;return}}_expr(){return this._or()}_or(){let e=[this._and()];for(;this._matchOne(16);){let t=this._and();e.push(t)}return e.length===1?e[0]:Z.or(...e)}_and(){let e=[this._term()];for(;this._matchOne(15);){let t=this._term();e.push(t)}return e.length===1?e[0]:Z.and(...e)}_term(){if(this._matchOne(2)){let e=this._peek();switch(e.type){case 11:return this._advance(),re.INSTANCE;case 12:return this._advance(),ie.INSTANCE;case 0:{this._advance();let t=this._expr();return this._consume(1,is),t?.negate()}case 17:return this._advance(),tt.create(e.lexeme);default:throw this._errExpectedButGot("KEY | true | false | '(' expression ')'",e)}}return this._primary()}_primary(){let e=this._peek();switch(e.type){case 11:return this._advance(),Z.true();case 12:return this._advance(),Z.false();case 0:{this._advance();let t=this._expr();return this._consume(1,is),t}case 17:{let t=e.lexeme;if(this._advance(),this._matchOne(9)){let i=this._peek();if(!this._config.regexParsingWithErrorRecovery){if(this._advance(),i.type!==10)throw this._errExpectedButGot("REGEX",i);let o=i.lexeme,a=o.lastIndexOf("/"),l=a===o.length-1?void 0:this._removeFlagsGY(o.substring(a+1)),u;try{u=new RegExp(o.substring(1,a),l)}catch{throw this._errExpectedButGot("REGEX",i)}return pn.create(t,u)}switch(i.type){case 10:case 19:{let o=[i.lexeme];this._advance();let a=this._peek(),l=0;for(let f=0;f<i.lexeme.length;f++)i.lexeme.charCodeAt(f)===40?l++:i.lexeme.charCodeAt(f)===41&&l--;for(;!this._isAtEnd()&&a.type!==15&&a.type!==16;){switch(a.type){case 0:l++;break;case 1:l--;break;case 10:case 18:for(let f=0;f<a.lexeme.length;f++)a.lexeme.charCodeAt(f)===40?l++:i.lexeme.charCodeAt(f)===41&&l--}if(l<0)break;o.push(ze.getLexeme(a)),this._advance(),a=this._peek()}let u=o.join(""),c=u.lastIndexOf("/"),d=c===u.length-1?void 0:this._removeFlagsGY(u.substring(c+1)),p;try{p=new RegExp(u.substring(1,c),d)}catch{throw this._errExpectedButGot("REGEX",i)}return Z.regex(t,p)}case 18:{let o=i.lexeme;this._advance();let a=null;if(!Lo(o)){let l=o.indexOf("/"),u=o.lastIndexOf("/");if(l!==u&&l>=0){let c=o.slice(l+1,u),d=o[u+1]==="i"?"i":"";try{a=new RegExp(c,d)}catch{throw this._errExpectedButGot("REGEX",i)}}}if(a===null)throw this._errExpectedButGot("REGEX",i);return pn.create(t,a)}default:throw this._errExpectedButGot("REGEX",this._peek())}}if(this._matchOne(14)){this._consume(13,Kl);let i=this._value();return Z.notIn(t,i)}switch(this._peek().type){case 3:{this._advance();let i=this._value();if(this._previous().type===18)return Z.equals(t,i);switch(i){case"true":return Z.has(t);case"false":return Z.not(t);default:return Z.equals(t,i)}}case 4:{this._advance();let i=this._value();if(this._previous().type===18)return Z.notEquals(t,i);switch(i){case"true":return Z.not(t);case"false":return Z.has(t);default:return Z.notEquals(t,i)}}case 5:return this._advance(),cn.create(t,this._value());case 6:return this._advance(),dn.create(t,this._value());case 7:return this._advance(),ln.create(t,this._value());case 8:return this._advance(),un.create(t,this._value());case 13:return this._advance(),Z.in(t,this._value());default:return Z.has(t)}}case 20:throw this._parsingErrors.push({message:ql,offset:e.offset,lexeme:"",additionalInfo:$l}),n._parseError;default:throw this._errExpectedButGot(`true | false | KEY 
	| KEY '=~' REGEX 
	| KEY ('==' | '!=' | '<' | '<=' | '>' | '>=' | 'in' | 'not' 'in') value`,this._peek())}}_value(){let e=this._peek();switch(e.type){case 17:case 18:return this._advance(),e.lexeme;case 11:return this._advance(),"true";case 12:return this._advance(),"false";case 13:return this._advance(),"in";default:return""}}_flagsGYRe=/g|y/g;_removeFlagsGY(e){return e.replaceAll(this._flagsGYRe,"")}_previous(){return this._tokens[this._current-1]}_matchOne(e){return this._check(e)?(this._advance(),!0):!1}_advance(){return this._isAtEnd()||this._current++,this._previous()}_consume(e,t){if(this._check(e))return this._advance();throw this._errExpectedButGot(t,this._peek())}_errExpectedButGot(e,t,r){let i=m("contextkey.parser.error.expectedButGot",`Expected: {0}
Received: '{1}'.`,e,ze.getLexeme(t)),o=t.offset,a=ze.getLexeme(t);return this._parsingErrors.push({message:i,offset:o,lexeme:a,additionalInfo:r}),n._parseError}_check(e){return this._peek().type===e}_peek(){return this._tokens[this._current]}_isAtEnd(){return this._peek().type===20}},Z=class{static false(){return re.INSTANCE}static true(){return ie.INSTANCE}static has(e){return et.create(e)}static equals(e,t){return sn.create(e,t)}static notEquals(e,t){return an.create(e,t)}static regex(e,t){return pn.create(e,t)}static in(e,t){return Hn.create(e,t)}static notIn(e,t){return Gn.create(e,t)}static not(e){return tt.create(e)}static and(...e){return Jn.create(e,null,!0)}static or(...e){return fn.create(e,null,!0)}static greater(e,t){return ln.create(e,t)}static greaterEquals(e,t){return un.create(e,t)}static smaller(e,t){return cn.create(e,t)}static smallerEquals(e,t){return dn.create(e,t)}static _parser=new mi({regexParsingWithErrorRecovery:!1});static deserialize(e){return e==null?void 0:this._parser.parse(e)}};function on(n,e){return n.cmp(e)}var re=class n{static INSTANCE=new n;type=0;constructor(){}cmp(e){return this.type-e.type}equals(e){return e.type===this.type}substituteConstants(){return this}evaluate(e){return!1}serialize(){return"false"}keys(){return[]}map(e){return this}negate(){return ie.INSTANCE}},ie=class n{static INSTANCE=new n;type=1;constructor(){}cmp(e){return this.type-e.type}equals(e){return e.type===this.type}substituteConstants(){return this}evaluate(e){return!0}serialize(){return"true"}keys(){return[]}map(e){return this}negate(){return re.INSTANCE}},et=class n{constructor(e,t){this.key=e;this.negated=t}static create(e,t=null){let r=J.get(e);return typeof r=="boolean"?r?ie.INSTANCE:re.INSTANCE:new n(e,t)}type=2;cmp(e){return e.type!==this.type?this.type-e.type:as(this.key,e.key)}equals(e){return e.type===this.type?this.key===e.key:!1}substituteConstants(){let e=J.get(this.key);return typeof e=="boolean"?e?ie.INSTANCE:re.INSTANCE:this}evaluate(e){return!!e.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}map(e){return e.mapDefined(this.key)}negate(){return this.negated||(this.negated=tt.create(this.key,this)),this.negated}},sn=class n{constructor(e,t,r){this.key=e;this.value=t;this.negated=r}static create(e,t,r=null){if(typeof t=="boolean")return t?et.create(e,r):tt.create(e,r);let i=J.get(e);return typeof i=="boolean"?t===(i?"true":"false")?ie.INSTANCE:re.INSTANCE:new n(e,t,r)}type=4;cmp(e){return e.type!==this.type?this.type-e.type:nt(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){let e=J.get(this.key);if(typeof e=="boolean"){let t=e?"true":"false";return this.value===t?ie.INSTANCE:re.INSTANCE}return this}evaluate(e){return e.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}map(e){return e.mapEquals(this.key,this.value)}negate(){return this.negated||(this.negated=an.create(this.key,this.value,this)),this.negated}},Hn=class n{constructor(e,t){this.key=e;this.valueKey=t}static create(e,t){return new n(e,t)}type=10;negated=null;cmp(e){return e.type!==this.type?this.type-e.type:nt(this.key,this.valueKey,e.key,e.valueKey)}equals(e){return e.type===this.type?this.key===e.key&&this.valueKey===e.valueKey:!1}substituteConstants(){return this}evaluate(e){let t=e.getValue(this.valueKey),r=e.getValue(this.key);return Array.isArray(t)?t.includes(r):typeof r=="string"&&typeof t=="object"&&t!==null?Nl.call(t,r):!1}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}map(e){return e.mapIn(this.key,this.valueKey)}negate(){return this.negated||(this.negated=Gn.create(this.key,this.valueKey)),this.negated}},Gn=class n{constructor(e,t){this.key=e;this.valueKey=t;this._negated=Hn.create(e,t)}static create(e,t){return new n(e,t)}type=11;_negated;cmp(e){return e.type!==this.type?this.type-e.type:this._negated.cmp(e._negated)}equals(e){return e.type===this.type?this._negated.equals(e._negated):!1}substituteConstants(){return this}evaluate(e){return!this._negated.evaluate(e)}serialize(){return`${this.key} not in '${this.valueKey}'`}keys(){return this._negated.keys()}map(e){return e.mapNotIn(this.key,this.valueKey)}negate(){return this._negated}},an=class n{constructor(e,t,r){this.key=e;this.value=t;this.negated=r}static create(e,t,r=null){if(typeof t=="boolean")return t?tt.create(e,r):et.create(e,r);let i=J.get(e);return typeof i=="boolean"?t===(i?"true":"false")?re.INSTANCE:ie.INSTANCE:new n(e,t,r)}type=5;cmp(e){return e.type!==this.type?this.type-e.type:nt(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){let e=J.get(this.key);if(typeof e=="boolean"){let t=e?"true":"false";return this.value===t?re.INSTANCE:ie.INSTANCE}return this}evaluate(e){return e.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}map(e){return e.mapNotEquals(this.key,this.value)}negate(){return this.negated||(this.negated=sn.create(this.key,this.value,this)),this.negated}},tt=class n{constructor(e,t){this.key=e;this.negated=t}static create(e,t=null){let r=J.get(e);return typeof r=="boolean"?r?re.INSTANCE:ie.INSTANCE:new n(e,t)}type=3;cmp(e){return e.type!==this.type?this.type-e.type:as(this.key,e.key)}equals(e){return e.type===this.type?this.key===e.key:!1}substituteConstants(){let e=J.get(this.key);return typeof e=="boolean"?e?re.INSTANCE:ie.INSTANCE:this}evaluate(e){return!e.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}map(e){return e.mapNot(this.key)}negate(){return this.negated||(this.negated=et.create(this.key,this)),this.negated}};function Qn(n,e){if(typeof n=="string"){let t=parseFloat(n);isNaN(t)||(n=t)}return typeof n=="string"||typeof n=="number"?e(n):re.INSTANCE}var ln=class n{constructor(e,t,r){this.key=e;this.value=t;this.negated=r}static create(e,t,r=null){return Qn(t,i=>new n(e,i,r))}type=12;cmp(e){return e.type!==this.type?this.type-e.type:nt(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}map(e){return e.mapGreater(this.key,this.value)}negate(){return this.negated||(this.negated=dn.create(this.key,this.value,this)),this.negated}},un=class n{constructor(e,t,r){this.key=e;this.value=t;this.negated=r}static create(e,t,r=null){return Qn(t,i=>new n(e,i,r))}type=13;cmp(e){return e.type!==this.type?this.type-e.type:nt(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}map(e){return e.mapGreaterEquals(this.key,this.value)}negate(){return this.negated||(this.negated=cn.create(this.key,this.value,this)),this.negated}},cn=class n{constructor(e,t,r){this.key=e;this.value=t;this.negated=r}static create(e,t,r=null){return Qn(t,i=>new n(e,i,r))}type=14;cmp(e){return e.type!==this.type?this.type-e.type:nt(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}map(e){return e.mapSmaller(this.key,this.value)}negate(){return this.negated||(this.negated=un.create(this.key,this.value,this)),this.negated}},dn=class n{constructor(e,t,r){this.key=e;this.value=t;this.negated=r}static create(e,t,r=null){return Qn(t,i=>new n(e,i,r))}type=15;cmp(e){return e.type!==this.type?this.type-e.type:nt(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}map(e){return e.mapSmallerEquals(this.key,this.value)}negate(){return this.negated||(this.negated=ln.create(this.key,this.value,this)),this.negated}},pn=class n{constructor(e,t){this.key=e;this.regexp=t}static create(e,t){return new n(e,t)}type=7;negated=null;cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.key<e.key)return-1;if(this.key>e.key)return 1;let t=this.regexp?this.regexp.source:"",r=e.regexp?e.regexp.source:"";return t<r?-1:t>r?1:0}equals(e){if(e.type===this.type){let t=this.regexp?this.regexp.source:"",r=e.regexp?e.regexp.source:"";return this.key===e.key&&t===r}return!1}substituteConstants(){return this}evaluate(e){let t=e.getValue(this.key);return this.regexp?this.regexp.test(t):!1}serialize(){let e=this.regexp?`/${this.regexp.source}/${this.regexp.flags}`:"/invalid/";return`${this.key} =~ ${e}`}keys(){return[this.key]}map(e){return e.mapRegex(this.key,this.regexp)}negate(){return this.negated||(this.negated=gi.create(this)),this.negated}},gi=class n{constructor(e){this._actual=e}static create(e){return new n(e)}type=8;cmp(e){return e.type!==this.type?this.type-e.type:this._actual.cmp(e._actual)}equals(e){return e.type===this.type?this._actual.equals(e._actual):!1}substituteConstants(){return this}evaluate(e){return!this._actual.evaluate(e)}serialize(){return`!(${this._actual.serialize()})`}keys(){return this._actual.keys()}map(e){return new n(this._actual.map(e))}negate(){return this._actual}};function ss(n){let e=null;for(let t=0,r=n.length;t<r;t++){let i=n[t].substituteConstants();if(n[t]!==i&&e===null){e=[];for(let o=0;o<t;o++)e[o]=n[o]}e!==null&&(e[t]=i)}return e===null?n:e}var Jn=class n{constructor(e,t){this.expr=e;this.negated=t}static create(e,t,r){return n._normalizeArr(e,t,r)}type=6;cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.expr.length<e.expr.length)return-1;if(this.expr.length>e.expr.length)return 1;for(let t=0,r=this.expr.length;t<r;t++){let i=on(this.expr[t],e.expr[t]);if(i!==0)return i}return 0}equals(e){if(e.type===this.type){if(this.expr.length!==e.expr.length)return!1;for(let t=0,r=this.expr.length;t<r;t++)if(!this.expr[t].equals(e.expr[t]))return!1;return!0}return!1}substituteConstants(){let e=ss(this.expr);return e===this.expr?this:n.create(e,this.negated,!1)}evaluate(e){for(let t=0,r=this.expr.length;t<r;t++)if(!this.expr[t].evaluate(e))return!1;return!0}static _normalizeArr(e,t,r){let i=[],o=!1;for(let a of e)if(a){if(a.type===1){o=!0;continue}if(a.type===0)return re.INSTANCE;if(a.type===6){i.push(...a.expr);continue}i.push(a)}if(i.length===0&&o)return ie.INSTANCE;if(i.length!==0){if(i.length===1)return i[0];i.sort(on);for(let a=1;a<i.length;a++)i[a-1].equals(i[a])&&(i.splice(a,1),a--);if(i.length===1)return i[0];for(;i.length>1;){let a=i[i.length-1];if(a.type!==9)break;i.pop();let l=i.pop(),u=i.length===0,c=fn.create(a.expr.map(d=>n.create([d,l],null,r)),null,u);c&&(i.push(c),i.sort(on))}if(i.length===1)return i[0];if(r){for(let a=0;a<i.length;a++)for(let l=a+1;l<i.length;l++)if(i[a].negate().equals(i[l]))return re.INSTANCE;if(i.length===1)return i[0]}return new n(i,t)}}serialize(){return this.expr.map(e=>e.serialize()).join(" && ")}keys(){let e=[];for(let t of this.expr)e.push(...t.keys());return e}map(e){return new n(this.expr.map(t=>t.map(e)),null)}negate(){if(!this.negated){let e=[];for(let t of this.expr)e.push(t.negate());this.negated=fn.create(e,this,!0)}return this.negated}},fn=class n{constructor(e,t){this.expr=e;this.negated=t}static create(e,t,r){return n._normalizeArr(e,t,r)}type=9;cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.expr.length<e.expr.length)return-1;if(this.expr.length>e.expr.length)return 1;for(let t=0,r=this.expr.length;t<r;t++){let i=on(this.expr[t],e.expr[t]);if(i!==0)return i}return 0}equals(e){if(e.type===this.type){if(this.expr.length!==e.expr.length)return!1;for(let t=0,r=this.expr.length;t<r;t++)if(!this.expr[t].equals(e.expr[t]))return!1;return!0}return!1}substituteConstants(){let e=ss(this.expr);return e===this.expr?this:n.create(e,this.negated,!1)}evaluate(e){for(let t=0,r=this.expr.length;t<r;t++)if(this.expr[t].evaluate(e))return!0;return!1}static _normalizeArr(e,t,r){let i=[],o=!1;if(e){for(let a=0,l=e.length;a<l;a++){let u=e[a];if(u){if(u.type===0){o=!0;continue}if(u.type===1)return ie.INSTANCE;if(u.type===9){i=i.concat(u.expr);continue}i.push(u)}}if(i.length===0&&o)return re.INSTANCE;i.sort(on)}if(i.length!==0){if(i.length===1)return i[0];for(let a=1;a<i.length;a++)i[a-1].equals(i[a])&&(i.splice(a,1),a--);if(i.length===1)return i[0];if(r){for(let a=0;a<i.length;a++)for(let l=a+1;l<i.length;l++)if(i[a].negate().equals(i[l]))return ie.INSTANCE;if(i.length===1)return i[0]}return new n(i,t)}}serialize(){return this.expr.map(e=>e.serialize()).join(" || ")}keys(){let e=[];for(let t of this.expr)e.push(...t.keys());return e}map(e){return new n(this.expr.map(t=>t.map(e)),null)}negate(){if(!this.negated){let e=[];for(let t of this.expr)e.push(t.negate());for(;e.length>1;){let t=e.shift(),r=e.shift(),i=[];for(let o of os(t))for(let a of os(r))i.push(Jn.create([o,a],null,!1));e.unshift(n.create(i,null,!1))}this.negated=n.create(e,this,!0)}return this.negated}},Dt=class n extends et{static _info=[];static all(){return n._info.values()}_defaultValue;constructor(e,t,r){super(e,null),this._defaultValue=t,typeof r=="object"?n._info.push({...r,key:e}):r!==!0&&n._info.push({key:e,description:r,type:t!=null?typeof t:void 0})}bindTo(e){return e.createKey(this.key,this._defaultValue)}getValue(e){return e.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(e){return sn.create(this.key,e)}notEqualsTo(e){return an.create(this.key,e)}},ih=j("contextKeyService");function as(n,e){return n<e?-1:n>e?1:0}function nt(n,e,t,r){return n<t?-1:n>t?1:e<r?-1:e>r?1:0}function os(n){return n.type===9?n.expr:[n]}var ls=Object.create(null);function s(n,e){if(ue(e)){let t=ls[e];if(t===void 0)throw new Error(`${n} references an unknown codicon: ${e}`);e=t}return ls[n]=e,{id:n}}var us={add:s("add",6e4),plus:s("plus",6e4),gistNew:s("gist-new",6e4),repoCreate:s("repo-create",6e4),lightbulb:s("lightbulb",60001),lightBulb:s("light-bulb",60001),repo:s("repo",60002),repoDelete:s("repo-delete",60002),gistFork:s("gist-fork",60003),repoForked:s("repo-forked",60003),gitPullRequest:s("git-pull-request",60004),gitPullRequestAbandoned:s("git-pull-request-abandoned",60004),recordKeys:s("record-keys",60005),keyboard:s("keyboard",60005),tag:s("tag",60006),gitPullRequestLabel:s("git-pull-request-label",60006),tagAdd:s("tag-add",60006),tagRemove:s("tag-remove",60006),person:s("person",60007),personFollow:s("person-follow",60007),personOutline:s("person-outline",60007),personFilled:s("person-filled",60007),gitBranch:s("git-branch",60008),gitBranchCreate:s("git-branch-create",60008),gitBranchDelete:s("git-branch-delete",60008),sourceControl:s("source-control",60008),mirror:s("mirror",60009),mirrorPublic:s("mirror-public",60009),star:s("star",60010),starAdd:s("star-add",60010),starDelete:s("star-delete",60010),starEmpty:s("star-empty",60010),comment:s("comment",60011),commentAdd:s("comment-add",60011),alert:s("alert",60012),warning:s("warning",60012),search:s("search",60013),searchSave:s("search-save",60013),logOut:s("log-out",60014),signOut:s("sign-out",60014),logIn:s("log-in",60015),signIn:s("sign-in",60015),eye:s("eye",60016),eyeUnwatch:s("eye-unwatch",60016),eyeWatch:s("eye-watch",60016),circleFilled:s("circle-filled",60017),primitiveDot:s("primitive-dot",60017),closeDirty:s("close-dirty",60017),debugBreakpoint:s("debug-breakpoint",60017),debugBreakpointDisabled:s("debug-breakpoint-disabled",60017),debugHint:s("debug-hint",60017),terminalDecorationSuccess:s("terminal-decoration-success",60017),primitiveSquare:s("primitive-square",60018),edit:s("edit",60019),pencil:s("pencil",60019),info:s("info",60020),issueOpened:s("issue-opened",60020),gistPrivate:s("gist-private",60021),gitForkPrivate:s("git-fork-private",60021),lock:s("lock",60021),mirrorPrivate:s("mirror-private",60021),close:s("close",60022),removeClose:s("remove-close",60022),x:s("x",60022),repoSync:s("repo-sync",60023),sync:s("sync",60023),clone:s("clone",60024),desktopDownload:s("desktop-download",60024),beaker:s("beaker",60025),microscope:s("microscope",60025),vm:s("vm",60026),deviceDesktop:s("device-desktop",60026),file:s("file",60027),fileText:s("file-text",60027),more:s("more",60028),ellipsis:s("ellipsis",60028),kebabHorizontal:s("kebab-horizontal",60028),mailReply:s("mail-reply",60029),reply:s("reply",60029),organization:s("organization",60030),organizationFilled:s("organization-filled",60030),organizationOutline:s("organization-outline",60030),newFile:s("new-file",60031),fileAdd:s("file-add",60031),newFolder:s("new-folder",60032),fileDirectoryCreate:s("file-directory-create",60032),trash:s("trash",60033),trashcan:s("trashcan",60033),history:s("history",60034),clock:s("clock",60034),folder:s("folder",60035),fileDirectory:s("file-directory",60035),symbolFolder:s("symbol-folder",60035),logoGithub:s("logo-github",60036),markGithub:s("mark-github",60036),github:s("github",60036),terminal:s("terminal",60037),console:s("console",60037),repl:s("repl",60037),zap:s("zap",60038),symbolEvent:s("symbol-event",60038),error:s("error",60039),stop:s("stop",60039),variable:s("variable",60040),symbolVariable:s("symbol-variable",60040),array:s("array",60042),symbolArray:s("symbol-array",60042),symbolModule:s("symbol-module",60043),symbolPackage:s("symbol-package",60043),symbolNamespace:s("symbol-namespace",60043),symbolObject:s("symbol-object",60043),symbolMethod:s("symbol-method",60044),symbolFunction:s("symbol-function",60044),symbolConstructor:s("symbol-constructor",60044),symbolBoolean:s("symbol-boolean",60047),symbolNull:s("symbol-null",60047),symbolNumeric:s("symbol-numeric",60048),symbolNumber:s("symbol-number",60048),symbolStructure:s("symbol-structure",60049),symbolStruct:s("symbol-struct",60049),symbolParameter:s("symbol-parameter",60050),symbolTypeParameter:s("symbol-type-parameter",60050),symbolKey:s("symbol-key",60051),symbolText:s("symbol-text",60051),symbolReference:s("symbol-reference",60052),goToFile:s("go-to-file",60052),symbolEnum:s("symbol-enum",60053),symbolValue:s("symbol-value",60053),symbolRuler:s("symbol-ruler",60054),symbolUnit:s("symbol-unit",60054),activateBreakpoints:s("activate-breakpoints",60055),archive:s("archive",60056),arrowBoth:s("arrow-both",60057),arrowDown:s("arrow-down",60058),arrowLeft:s("arrow-left",60059),arrowRight:s("arrow-right",60060),arrowSmallDown:s("arrow-small-down",60061),arrowSmallLeft:s("arrow-small-left",60062),arrowSmallRight:s("arrow-small-right",60063),arrowSmallUp:s("arrow-small-up",60064),arrowUp:s("arrow-up",60065),bell:s("bell",60066),bold:s("bold",60067),book:s("book",60068),bookmark:s("bookmark",60069),debugBreakpointConditionalUnverified:s("debug-breakpoint-conditional-unverified",60070),debugBreakpointConditional:s("debug-breakpoint-conditional",60071),debugBreakpointConditionalDisabled:s("debug-breakpoint-conditional-disabled",60071),debugBreakpointDataUnverified:s("debug-breakpoint-data-unverified",60072),debugBreakpointData:s("debug-breakpoint-data",60073),debugBreakpointDataDisabled:s("debug-breakpoint-data-disabled",60073),debugBreakpointLogUnverified:s("debug-breakpoint-log-unverified",60074),debugBreakpointLog:s("debug-breakpoint-log",60075),debugBreakpointLogDisabled:s("debug-breakpoint-log-disabled",60075),briefcase:s("briefcase",60076),broadcast:s("broadcast",60077),browser:s("browser",60078),bug:s("bug",60079),calendar:s("calendar",60080),caseSensitive:s("case-sensitive",60081),check:s("check",60082),checklist:s("checklist",60083),chevronDown:s("chevron-down",60084),chevronLeft:s("chevron-left",60085),chevronRight:s("chevron-right",60086),chevronUp:s("chevron-up",60087),chromeClose:s("chrome-close",60088),chromeMaximize:s("chrome-maximize",60089),chromeMinimize:s("chrome-minimize",60090),chromeRestore:s("chrome-restore",60091),circleOutline:s("circle-outline",60092),circle:s("circle",60092),debugBreakpointUnverified:s("debug-breakpoint-unverified",60092),terminalDecorationIncomplete:s("terminal-decoration-incomplete",60092),circleSlash:s("circle-slash",60093),circuitBoard:s("circuit-board",60094),clearAll:s("clear-all",60095),clippy:s("clippy",60096),closeAll:s("close-all",60097),cloudDownload:s("cloud-download",60098),cloudUpload:s("cloud-upload",60099),code:s("code",60100),collapseAll:s("collapse-all",60101),colorMode:s("color-mode",60102),commentDiscussion:s("comment-discussion",60103),creditCard:s("credit-card",60105),dash:s("dash",60108),dashboard:s("dashboard",60109),database:s("database",60110),debugContinue:s("debug-continue",60111),debugDisconnect:s("debug-disconnect",60112),debugPause:s("debug-pause",60113),debugRestart:s("debug-restart",60114),debugStart:s("debug-start",60115),debugStepInto:s("debug-step-into",60116),debugStepOut:s("debug-step-out",60117),debugStepOver:s("debug-step-over",60118),debugStop:s("debug-stop",60119),debug:s("debug",60120),deviceCameraVideo:s("device-camera-video",60121),deviceCamera:s("device-camera",60122),deviceMobile:s("device-mobile",60123),diffAdded:s("diff-added",60124),diffIgnored:s("diff-ignored",60125),diffModified:s("diff-modified",60126),diffRemoved:s("diff-removed",60127),diffRenamed:s("diff-renamed",60128),diff:s("diff",60129),diffSidebyside:s("diff-sidebyside",60129),discard:s("discard",60130),editorLayout:s("editor-layout",60131),emptyWindow:s("empty-window",60132),exclude:s("exclude",60133),extensions:s("extensions",60134),eyeClosed:s("eye-closed",60135),fileBinary:s("file-binary",60136),fileCode:s("file-code",60137),fileMedia:s("file-media",60138),filePdf:s("file-pdf",60139),fileSubmodule:s("file-submodule",60140),fileSymlinkDirectory:s("file-symlink-directory",60141),fileSymlinkFile:s("file-symlink-file",60142),fileZip:s("file-zip",60143),files:s("files",60144),filter:s("filter",60145),flame:s("flame",60146),foldDown:s("fold-down",60147),foldUp:s("fold-up",60148),fold:s("fold",60149),folderActive:s("folder-active",60150),folderOpened:s("folder-opened",60151),gear:s("gear",60152),gift:s("gift",60153),gistSecret:s("gist-secret",60154),gist:s("gist",60155),gitCommit:s("git-commit",60156),gitCompare:s("git-compare",60157),compareChanges:s("compare-changes",60157),gitMerge:s("git-merge",60158),githubAction:s("github-action",60159),githubAlt:s("github-alt",60160),globe:s("globe",60161),grabber:s("grabber",60162),graph:s("graph",60163),gripper:s("gripper",60164),heart:s("heart",60165),home:s("home",60166),horizontalRule:s("horizontal-rule",60167),hubot:s("hubot",60168),inbox:s("inbox",60169),issueReopened:s("issue-reopened",60171),issues:s("issues",60172),italic:s("italic",60173),jersey:s("jersey",60174),json:s("json",60175),kebabVertical:s("kebab-vertical",60176),key:s("key",60177),law:s("law",60178),lightbulbAutofix:s("lightbulb-autofix",60179),linkExternal:s("link-external",60180),link:s("link",60181),listOrdered:s("list-ordered",60182),listUnordered:s("list-unordered",60183),liveShare:s("live-share",60184),loading:s("loading",60185),location:s("location",60186),mailRead:s("mail-read",60187),mail:s("mail",60188),markdown:s("markdown",60189),megaphone:s("megaphone",60190),mention:s("mention",60191),milestone:s("milestone",60192),gitPullRequestMilestone:s("git-pull-request-milestone",60192),mortarBoard:s("mortar-board",60193),move:s("move",60194),multipleWindows:s("multiple-windows",60195),mute:s("mute",60196),noNewline:s("no-newline",60197),note:s("note",60198),octoface:s("octoface",60199),openPreview:s("open-preview",60200),package:s("package",60201),paintcan:s("paintcan",60202),pin:s("pin",60203),play:s("play",60204),run:s("run",60204),plug:s("plug",60205),preserveCase:s("preserve-case",60206),preview:s("preview",60207),project:s("project",60208),pulse:s("pulse",60209),question:s("question",60210),quote:s("quote",60211),radioTower:s("radio-tower",60212),reactions:s("reactions",60213),references:s("references",60214),refresh:s("refresh",60215),regex:s("regex",60216),remoteExplorer:s("remote-explorer",60217),remote:s("remote",60218),remove:s("remove",60219),replaceAll:s("replace-all",60220),replace:s("replace",60221),repoClone:s("repo-clone",60222),repoForcePush:s("repo-force-push",60223),repoPull:s("repo-pull",60224),repoPush:s("repo-push",60225),report:s("report",60226),requestChanges:s("request-changes",60227),rocket:s("rocket",60228),rootFolderOpened:s("root-folder-opened",60229),rootFolder:s("root-folder",60230),rss:s("rss",60231),ruby:s("ruby",60232),saveAll:s("save-all",60233),saveAs:s("save-as",60234),save:s("save",60235),screenFull:s("screen-full",60236),screenNormal:s("screen-normal",60237),searchStop:s("search-stop",60238),server:s("server",60240),settingsGear:s("settings-gear",60241),settings:s("settings",60242),shield:s("shield",60243),smiley:s("smiley",60244),sortPrecedence:s("sort-precedence",60245),splitHorizontal:s("split-horizontal",60246),splitVertical:s("split-vertical",60247),squirrel:s("squirrel",60248),starFull:s("star-full",60249),starHalf:s("star-half",60250),symbolClass:s("symbol-class",60251),symbolColor:s("symbol-color",60252),symbolConstant:s("symbol-constant",60253),symbolEnumMember:s("symbol-enum-member",60254),symbolField:s("symbol-field",60255),symbolFile:s("symbol-file",60256),symbolInterface:s("symbol-interface",60257),symbolKeyword:s("symbol-keyword",60258),symbolMisc:s("symbol-misc",60259),symbolOperator:s("symbol-operator",60260),symbolProperty:s("symbol-property",60261),wrench:s("wrench",60261),wrenchSubaction:s("wrench-subaction",60261),symbolSnippet:s("symbol-snippet",60262),tasklist:s("tasklist",60263),telescope:s("telescope",60264),textSize:s("text-size",60265),threeBars:s("three-bars",60266),thumbsdown:s("thumbsdown",60267),thumbsup:s("thumbsup",60268),tools:s("tools",60269),triangleDown:s("triangle-down",60270),triangleLeft:s("triangle-left",60271),triangleRight:s("triangle-right",60272),triangleUp:s("triangle-up",60273),twitter:s("twitter",60274),unfold:s("unfold",60275),unlock:s("unlock",60276),unmute:s("unmute",60277),unverified:s("unverified",60278),verified:s("verified",60279),versions:s("versions",60280),vmActive:s("vm-active",60281),vmOutline:s("vm-outline",60282),vmRunning:s("vm-running",60283),watch:s("watch",60284),whitespace:s("whitespace",60285),wholeWord:s("whole-word",60286),window:s("window",60287),wordWrap:s("word-wrap",60288),zoomIn:s("zoom-in",60289),zoomOut:s("zoom-out",60290),listFilter:s("list-filter",60291),listFlat:s("list-flat",60292),listSelection:s("list-selection",60293),selection:s("selection",60293),listTree:s("list-tree",60294),debugBreakpointFunctionUnverified:s("debug-breakpoint-function-unverified",60295),debugBreakpointFunction:s("debug-breakpoint-function",60296),debugBreakpointFunctionDisabled:s("debug-breakpoint-function-disabled",60296),debugStackframeActive:s("debug-stackframe-active",60297),circleSmallFilled:s("circle-small-filled",60298),debugStackframeDot:s("debug-stackframe-dot",60298),terminalDecorationMark:s("terminal-decoration-mark",60298),debugStackframe:s("debug-stackframe",60299),debugStackframeFocused:s("debug-stackframe-focused",60299),debugBreakpointUnsupported:s("debug-breakpoint-unsupported",60300),symbolString:s("symbol-string",60301),debugReverseContinue:s("debug-reverse-continue",60302),debugStepBack:s("debug-step-back",60303),debugRestartFrame:s("debug-restart-frame",60304),debugAlt:s("debug-alt",60305),callIncoming:s("call-incoming",60306),callOutgoing:s("call-outgoing",60307),menu:s("menu",60308),expandAll:s("expand-all",60309),feedback:s("feedback",60310),gitPullRequestReviewer:s("git-pull-request-reviewer",60310),groupByRefType:s("group-by-ref-type",60311),ungroupByRefType:s("ungroup-by-ref-type",60312),account:s("account",60313),gitPullRequestAssignee:s("git-pull-request-assignee",60313),bellDot:s("bell-dot",60314),debugConsole:s("debug-console",60315),library:s("library",60316),output:s("output",60317),runAll:s("run-all",60318),syncIgnored:s("sync-ignored",60319),pinned:s("pinned",60320),githubInverted:s("github-inverted",60321),serverProcess:s("server-process",60322),serverEnvironment:s("server-environment",60323),pass:s("pass",60324),issueClosed:s("issue-closed",60324),stopCircle:s("stop-circle",60325),playCircle:s("play-circle",60326),record:s("record",60327),debugAltSmall:s("debug-alt-small",60328),vmConnect:s("vm-connect",60329),cloud:s("cloud",60330),merge:s("merge",60331),export:s("export",60332),graphLeft:s("graph-left",60333),magnet:s("magnet",60334),notebook:s("notebook",60335),redo:s("redo",60336),checkAll:s("check-all",60337),pinnedDirty:s("pinned-dirty",60338),passFilled:s("pass-filled",60339),circleLargeFilled:s("circle-large-filled",60340),circleLarge:s("circle-large",60341),circleLargeOutline:s("circle-large-outline",60341),combine:s("combine",60342),gather:s("gather",60342),table:s("table",60343),variableGroup:s("variable-group",60344),typeHierarchy:s("type-hierarchy",60345),typeHierarchySub:s("type-hierarchy-sub",60346),typeHierarchySuper:s("type-hierarchy-super",60347),gitPullRequestCreate:s("git-pull-request-create",60348),runAbove:s("run-above",60349),runBelow:s("run-below",60350),notebookTemplate:s("notebook-template",60351),debugRerun:s("debug-rerun",60352),workspaceTrusted:s("workspace-trusted",60353),workspaceUntrusted:s("workspace-untrusted",60354),workspaceUnknown:s("workspace-unknown",60355),terminalCmd:s("terminal-cmd",60356),terminalDebian:s("terminal-debian",60357),terminalLinux:s("terminal-linux",60358),terminalPowershell:s("terminal-powershell",60359),terminalTmux:s("terminal-tmux",60360),terminalUbuntu:s("terminal-ubuntu",60361),terminalBash:s("terminal-bash",60362),arrowSwap:s("arrow-swap",60363),copy:s("copy",60364),personAdd:s("person-add",60365),filterFilled:s("filter-filled",60366),wand:s("wand",60367),debugLineByLine:s("debug-line-by-line",60368),inspect:s("inspect",60369),layers:s("layers",60370),layersDot:s("layers-dot",60371),layersActive:s("layers-active",60372),compass:s("compass",60373),compassDot:s("compass-dot",60374),compassActive:s("compass-active",60375),azure:s("azure",60376),issueDraft:s("issue-draft",60377),gitPullRequestClosed:s("git-pull-request-closed",60378),gitPullRequestDraft:s("git-pull-request-draft",60379),debugAll:s("debug-all",60380),debugCoverage:s("debug-coverage",60381),runErrors:s("run-errors",60382),folderLibrary:s("folder-library",60383),debugContinueSmall:s("debug-continue-small",60384),beakerStop:s("beaker-stop",60385),graphLine:s("graph-line",60386),graphScatter:s("graph-scatter",60387),pieChart:s("pie-chart",60388),bracket:s("bracket",60175),bracketDot:s("bracket-dot",60389),bracketError:s("bracket-error",60390),lockSmall:s("lock-small",60391),azureDevops:s("azure-devops",60392),verifiedFilled:s("verified-filled",60393),newline:s("newline",60394),layout:s("layout",60395),layoutActivitybarLeft:s("layout-activitybar-left",60396),layoutActivitybarRight:s("layout-activitybar-right",60397),layoutPanelLeft:s("layout-panel-left",60398),layoutPanelCenter:s("layout-panel-center",60399),layoutPanelJustify:s("layout-panel-justify",60400),layoutPanelRight:s("layout-panel-right",60401),layoutPanel:s("layout-panel",60402),layoutSidebarLeft:s("layout-sidebar-left",60403),layoutSidebarRight:s("layout-sidebar-right",60404),layoutStatusbar:s("layout-statusbar",60405),layoutMenubar:s("layout-menubar",60406),layoutCentered:s("layout-centered",60407),target:s("target",60408),indent:s("indent",60409),recordSmall:s("record-small",60410),errorSmall:s("error-small",60411),terminalDecorationError:s("terminal-decoration-error",60411),arrowCircleDown:s("arrow-circle-down",60412),arrowCircleLeft:s("arrow-circle-left",60413),arrowCircleRight:s("arrow-circle-right",60414),arrowCircleUp:s("arrow-circle-up",60415),layoutSidebarRightOff:s("layout-sidebar-right-off",60416),layoutPanelOff:s("layout-panel-off",60417),layoutSidebarLeftOff:s("layout-sidebar-left-off",60418),blank:s("blank",60419),heartFilled:s("heart-filled",60420),map:s("map",60421),mapHorizontal:s("map-horizontal",60421),foldHorizontal:s("fold-horizontal",60421),mapFilled:s("map-filled",60422),mapHorizontalFilled:s("map-horizontal-filled",60422),foldHorizontalFilled:s("fold-horizontal-filled",60422),circleSmall:s("circle-small",60423),bellSlash:s("bell-slash",60424),bellSlashDot:s("bell-slash-dot",60425),commentUnresolved:s("comment-unresolved",60426),gitPullRequestGoToChanges:s("git-pull-request-go-to-changes",60427),gitPullRequestNewChanges:s("git-pull-request-new-changes",60428),searchFuzzy:s("search-fuzzy",60429),commentDraft:s("comment-draft",60430),send:s("send",60431),sparkle:s("sparkle",60432),insert:s("insert",60433),mic:s("mic",60434),thumbsdownFilled:s("thumbsdown-filled",60435),thumbsupFilled:s("thumbsup-filled",60436),coffee:s("coffee",60437),snake:s("snake",60438),game:s("game",60439),vr:s("vr",60440),chip:s("chip",60441),piano:s("piano",60442),music:s("music",60443),micFilled:s("mic-filled",60444),repoFetch:s("repo-fetch",60445),copilot:s("copilot",60446),lightbulbSparkle:s("lightbulb-sparkle",60447),robot:s("robot",60448),sparkleFilled:s("sparkle-filled",60449),diffSingle:s("diff-single",60450),diffMultiple:s("diff-multiple",60451),surroundWith:s("surround-with",60452),share:s("share",60453),gitStash:s("git-stash",60454),gitStashApply:s("git-stash-apply",60455),gitStashPop:s("git-stash-pop",60456),vscode:s("vscode",60457),vscodeInsiders:s("vscode-insiders",60458),codeOss:s("code-oss",60459),runCoverage:s("run-coverage",60460),runAllCoverage:s("run-all-coverage",60461),coverage:s("coverage",60462),githubProject:s("github-project",60463),mapVertical:s("map-vertical",60464),foldVertical:s("fold-vertical",60464),mapVerticalFilled:s("map-vertical-filled",60465),foldVerticalFilled:s("fold-vertical-filled",60465),goToSearch:s("go-to-search",60466),percentage:s("percentage",60467),sortPercentage:s("sort-percentage",60467),attach:s("attach",60468)};function hi(){return Object.values(se)}var zl={dialogError:s("dialog-error","error"),dialogWarning:s("dialog-warning","warning"),dialogInfo:s("dialog-info","info"),dialogClose:s("dialog-close","close"),treeItemExpanded:s("tree-item-expanded","chevron-down"),treeFilterOnTypeOn:s("tree-filter-on-type-on","list-filter"),treeFilterOnTypeOff:s("tree-filter-on-type-off","list-selection"),treeFilterClear:s("tree-filter-clear","close"),treeItemLoading:s("tree-item-loading","loading"),menuSelection:s("menu-selection","check"),menuSubmenu:s("menu-submenu","chevron-right"),menuBarMore:s("menubar-more","more"),scrollbarButtonLeft:s("scrollbar-button-left","triangle-left"),scrollbarButtonRight:s("scrollbar-button-right","triangle-right"),scrollbarButtonUp:s("scrollbar-button-up","triangle-up"),scrollbarButtonDown:s("scrollbar-button-down","triangle-down"),toolBarMore:s("toolbar-more","more"),quickInputBack:s("quick-input-back","arrow-left"),dropDownButton:s("drop-down-button",60084),symbolCustomColor:s("symbol-customcolor",60252),exportIcon:s("export",60332),workspaceUnspecified:s("workspace-unspecified",60355),newLine:s("newline",60394),thumbsDownFilled:s("thumbsdown-filled",60435),thumbsUpFilled:s("thumbsup-filled",60436),gitFetch:s("git-fetch",60445),lightbulbSparkleAutofix:s("lightbulb-sparkle-autofix",60447),debugBreakpointPending:s("debug-breakpoint-pending",60377)},se={...us,...zl};var cs;(e=>{function n(t){return t&&typeof t=="object"&&typeof t.id=="string"}e.isThemeColor=n})(cs||={});var Xn;(P=>{P.iconNameSegment="[A-Za-z0-9]+",P.iconNameExpression="[A-Za-z0-9-]+",P.iconModifierExpression="~[A-Za-z]+",P.iconNameCharacter="[A-Za-z0-9~-]";let i=new RegExp(`^(${P.iconNameExpression})(${P.iconModifierExpression})?$`);function o(R){let w=i.exec(R.id);if(!w)return o(se.error);let[,W,M]=w,h=["codicon","codicon-"+W];return M&&h.push("codicon-modifier-"+M.substring(1)),h}P.asClassNameArray=o;function a(R){return o(R).join(" ")}P.asClassName=a;function l(R){return"."+o(R).join(".")}P.asCSSSelector=l;function u(R){return R&&typeof R=="object"&&typeof R.id=="string"&&(typeof R.color>"u"||cs.isThemeColor(R.color))}P.isThemeIcon=u;let c=new RegExp(`^\\$\\((${P.iconNameExpression}(?:${P.iconModifierExpression})?)\\)$`);function d(R){let w=c.exec(R);if(!w)return;let[,W]=w;return{id:W}}P.fromString=d;function p(R){return{id:R}}P.fromId=p;function f(R,w){let W=R.id,M=W.lastIndexOf("~");return M!==-1&&(W=W.substring(0,M)),w&&(W=`${W}~${w}`),{id:W}}P.modify=f;function g(R){let w=R.id.lastIndexOf("~");if(w!==-1)return R.id.substring(w+1)}P.getModifier=g;function I(R,w){return R.id===w.id&&R.color?.id===w.color?.id}P.isEqual=I})(Xn||={});var xh=Object.freeze({View:He("view","View"),Help:He("help","Help"),Test:He("test","Test"),File:He("file","File"),Preferences:He("preferences","Preferences"),Developer:He({key:"developer",comment:["A developer on Code itself or someone diagnosing issues in Code"]},"Developer")});function ds(n){let e=!1,t=new Map,r=new Map;if(jl(n,d=>{if(n===d)return!0;let p=JSON.stringify(d);if(p.length<30)return!0;let f=t.get(p);if(!f){let g={schemas:[d]};return t.set(p,g),r.set(d,g),!0}return f.schemas.push(d),r.set(d,f),e=!0,!1}),t.clear(),!e)return JSON.stringify(n);let o="$defs";for(;n.hasOwnProperty(o);)o+="_";let a=[];function l(d){return JSON.stringify(d,(p,f)=>{if(f!==d){let g=r.get(f);if(g&&g.schemas.length>1)return g.id||(g.id=`_${a.length}`,a.push(g.schemas[0])),{$ref:`#/${o}/${g.id}`}}return f})}let u=l(n),c=[];for(let d=0;d<a.length;d++)c.push(`"_${d}":${l(a[d])}`);return c.length?`${u.substring(0,u.length-1)},"${o}":{${c.join(",")}}}`:u}function Lt(n){return typeof n=="object"&&n!==null}function jl(n,e){if(!n||typeof n!="object")return;let t=(...u)=>{for(let c of u)Lt(c)&&a.push(c)},r=(...u)=>{for(let c of u)if(Lt(c))for(let d in c){let p=c[d];Lt(p)&&a.push(p)}},i=(...u)=>{for(let c of u)if(Array.isArray(c))for(let d of c)Lt(d)&&a.push(d)},o=u=>{if(Array.isArray(u))for(let c of u)Lt(c)&&a.push(c);else Lt(u)&&a.push(u)},a=[n],l=a.pop();for(;l;)e(l)&&(t(l.additionalItems,l.additionalProperties,l.not,l.contains,l.propertyNames,l.if,l.then,l.else,l.unevaluatedItems,l.unevaluatedProperties),r(l.definitions,l.$defs,l.properties,l.patternProperties,l.dependencies,l.dependentSchemas),i(l.anyOf,l.allOf,l.oneOf,l.prefixItems),o(l.items)),l=a.pop()}var Hl=j("commandService"),ps=new class{_commands=new Map;_onDidRegisterCommand=new k;onDidRegisterCommand=this._onDidRegisterCommand.event;registerCommand(n,e){if(!n)throw new Error("invalid command");if(typeof n=="string"){if(!e)throw new Error("invalid command");return this.registerCommand({id:n,handler:e})}if(n.metadata&&Array.isArray(n.metadata.args)){let a=[];for(let u of n.metadata.args)a.push(u.constraint);let l=n.handler;n.handler=function(u,...c){return Vo(c,a),l(u,...c)}}let{id:t}=n,r=this._commands.get(t);r||(r=new Gt,this._commands.set(t,r));let i=r.unshift(n),o=Y(()=>{i(),this._commands.get(t)?.isEmpty()&&this._commands.delete(t)});return this._onDidRegisterCommand.fire(t),o}registerCommandAlias(n,e){return ps.registerCommand(n,(t,...r)=>t.get(Hl).executeCommand(e,...r))}getCommand(n){let e=this._commands.get(n);if(!(!e||e.isEmpty()))return yt.first(e)}getCommands(){let n=new Map;for(let e of this._commands.keys()){let t=this.getCommand(e);t&&n.set(e,t)}return n}};ps.registerCommand("noop",()=>{});var Yn=j("logService"),fs=j("loggerService");function Gl(n){switch(n){case 1:return"trace";case 2:return"debug";case 3:return"info";case 4:return"warn";case 5:return"error";case 0:return"off"}}var b0=new Dt("logLevel",Gl(3));var w0=new class{transformIncoming(n){return n}transformOutgoing(n){return n}transformOutgoingURI(n){return n}transformOutgoingScheme(n){return n}};var Zn=class extends X{constructor(e,t){super(),t.call("setLogLevel",[e.getLogLevel()]),this._register(e.onDidChangeLogLevel(r=>t.call("setLogLevel",[r]))),t.call("getRegisteredLoggers").then(r=>{for(let i of r)e.registerLogger({...i,resource:K.revive(i.resource)})}),this._register(t.listen("onDidChangeVisibility")(([r,i])=>e.setVisibility(K.revive(r),i))),this._register(t.listen("onDidChangeLoggers")(({added:r,removed:i})=>{for(let o of r)e.registerLogger({...o,resource:K.revive(o.resource)});for(let o of i)e.deregisterLogger(o.resource)}))}};import{spawn as Pu}from"child_process";var ms=function(){if(typeof crypto=="object"&&typeof crypto.randomUUID=="function")return crypto.randomUUID.bind(crypto);let n;typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?n=crypto.getRandomValues.bind(crypto):n=function(r){for(let i=0;i<r.length;i++)r[i]=Math.floor(Math.random()*256);return r};let e=new Uint8Array(16),t=[];for(let r=0;r<256;r++)t.push(r.toString(16).padStart(2,"0"));return function(){n(e),e[6]=e[6]&15|64,e[8]=e[8]&63|128;let i=0,o="";return o+=t[e[i++]],o+=t[e[i++]],o+=t[e[i++]],o+=t[e[i++]],o+="-",o+=t[e[i++]],o+=t[e[i++]],o+="-",o+=t[e[i++]],o+=t[e[i++]],o+="-",o+=t[e[i++]],o+=t[e[i++]],o+="-",o+=t[e[i++]],o+=t[e[i++]],o+=t[e[i++]],o+=t[e[i++]],o+=t[e[i++]],o+=t[e[i++]],o}}();import{userInfo as Iu}from"os";import*as _s from"os";import*as C from"fs";import{tmpdir as Yl}from"os";import{promisify as er}from"util";var Jl=new zt(1e4);function bi(n){return Xl(n,"NFC",Jl)}var Q0=new zt(1e4);var Ql=/[^\u0000-\u0080]/;function Xl(n,e,t){if(!n)return n;let r=t.get(n);if(r)return r;let i;return Ql.test(n)?i=n.normalize(e):i=n,t.set(n,i),i}async function hs(n,e=0,t){if(Wo(n))throw new Error("rimraf - will refuse to recursively delete root");return e===0?yi(n):Zl(n,t)}async function Zl(n,e=qo(Yl())){try{try{await C.promises.rename(n,e)}catch(t){return t.code==="ENOENT"?void 0:yi(n)}yi(e).catch(t=>{})}catch(t){if(t.code!=="ENOENT")throw t}}async function yi(n){return C.promises.rm(n,{recursive:!0,force:!0,maxRetries:3})}async function tr(n,e){return tu(await(e?eu(n):C.promises.readdir(n)))}async function eu(n){try{return await C.promises.readdir(n,{withFileTypes:!0})}catch(r){console.warn("[node.js fs] readdir with filetypes failed with error: ",r)}let e=[],t=await tr(n);for(let r of t){let i=!1,o=!1,a=!1;try{let l=await C.promises.lstat(V(n,r));i=l.isFile(),o=l.isDirectory(),a=l.isSymbolicLink()}catch(l){console.warn("[node.js fs] unexpected error from lstat after readdir: ",l)}e.push({name:r,isFile:()=>i,isDirectory:()=>o,isSymbolicLink:()=>a})}return e}function tu(n){return n.map(e=>typeof e=="string"?he?bi(e):e:(e.name=he?bi(e.name):e.name,e))}async function nu(n){let e=await tr(n),t=[];for(let r of e)await _e.existsDirectory(V(n,r))&&t.push(r);return t}var _e;(r=>{async function n(i){let o;try{if(o=await C.promises.lstat(i),!o.isSymbolicLink())return{stat:o}}catch{}try{return{stat:await C.promises.stat(i),symbolicLink:o?.isSymbolicLink()?{dangling:!1}:void 0}}catch(a){if(a.code==="ENOENT"&&o)return{stat:o,symbolicLink:{dangling:!0}};if(N&&a.code==="EACCES")try{return{stat:await C.promises.stat(await C.promises.readlink(i)),symbolicLink:{dangling:!1}}}catch(l){if(l.code==="ENOENT"&&o)return{stat:o,symbolicLink:{dangling:!0}};throw l}throw a}}r.stat=n;async function e(i){try{let{stat:o,symbolicLink:a}=await r.stat(i);return o.isFile()&&a?.dangling!==!0}catch{}return!1}r.existsFile=e;async function t(i){try{let{stat:o,symbolicLink:a}=await r.stat(i);return o.isDirectory()&&a?.dangling!==!0}catch{}return!1}r.existsDirectory=t})(_e||={});var ru=new qn;function iu(n,e,t){return ru.queueFor(K.file(n),()=>{let r=au(t);return new Promise((i,o)=>su(n,e,r,a=>a?o(a):i()))},Yr)}var bs=!0;function ou(n){bs=n}function su(n,e,t,r){if(!bs)return C.writeFile(n,e,{mode:t.mode,flag:t.flag},r);C.open(n,t.flag,t.mode,(i,o)=>{if(i)return r(i);C.writeFile(o,e,a=>{if(a)return C.close(o,()=>r(a));C.fdatasync(o,l=>(l&&(console.warn("[node.js fs] fdatasync is now disabled for this session because it failed: ",l),ou(!1)),C.close(o,u=>r(u))))})})}function au(n){return n?{mode:typeof n.mode=="number"?n.mode:438,flag:typeof n.flag=="string"?n.flag:"w"}:{mode:438,flag:"w"}}async function lu(n,e,t=6e4){if(n!==e)try{N&&typeof t=="number"?await ys(n,e,Date.now(),t):await C.promises.rename(n,e)}catch(r){if(n.toLowerCase()!==e.toLowerCase()&&r.code==="EXDEV"||n.endsWith("."))await vs(n,e,{preserveSymlinks:!1}),await hs(n,1);else throw r}}async function ys(n,e,t,r,i=0){try{return await C.promises.rename(n,e)}catch(o){if(o.code!=="EACCES"&&o.code!=="EPERM"&&o.code!=="EBUSY")throw o;if(Date.now()-t>=r)throw console.error(`[node.js fs] rename failed after ${i} retries with error: ${o}`),o;if(i===0){let a=!1;try{let{stat:l}=await _e.stat(e);l.isFile()||(a=!0)}catch{}if(a)throw o}return await Pt(Math.min(100,i*10)),ys(n,e,t,r,i+1)}}async function vs(n,e,t){return xs(n,e,{root:{source:n,target:e},options:t,handledSourcePaths:new Set})}var gs=511;async function xs(n,e,t){if(t.handledSourcePaths.has(n))return;t.handledSourcePaths.add(n);let{stat:r,symbolicLink:i}=await _e.stat(n);if(i){if(t.options.preserveSymlinks)try{return await du(n,e,t)}catch{}if(i.dangling)return}return r.isDirectory()?uu(n,e,r.mode&gs,t):cu(n,e,r.mode&gs)}async function uu(n,e,t,r){await C.promises.mkdir(e,{recursive:!0,mode:t});let i=await tr(n);for(let o of i)await xs(V(n,o),V(e,o),r)}async function cu(n,e,t){await C.promises.copyFile(n,e),await C.promises.chmod(e,t)}async function du(n,e,t){let r=await C.promises.readlink(n);en(r,t.root.source,!me)&&(r=V(t.root.target,r.substr(t.root.source.length+1))),await C.promises.symlink(r,e)}var rt=new class{get read(){return(n,e,t,r,i)=>new Promise((o,a)=>{C.read(n,e,t,r,i,(l,u,c)=>l?a(l):o({bytesRead:u,buffer:c}))})}get write(){return(n,e,t,r,i)=>new Promise((o,a)=>{C.write(n,e,t,r,i,(l,u,c)=>l?a(l):o({bytesWritten:u,buffer:c}))})}get fdatasync(){return er(C.fdatasync)}get open(){return er(C.open)}get close(){return er(C.close)}get realpath(){return er(C.realpath)}async exists(n){try{return await C.promises.access(n),!0}catch{return!1}}get readdir(){return tr}get readDirsInDir(){return nu}get writeFile(){return iu}get rm(){return hs}get rename(){return lu}get copy(){return vs}};var Is=/^\d+$/,pu=/^Microsoft.PowerShell_.*/,fu=/^Microsoft.PowerShellPreview_.*/;var mn;switch(process.arch){case"ia32":mn=1;break;case"arm":case"arm64":mn=2;break;default:mn=0;break}var Ot;process.env.PROCESSOR_ARCHITEW6432?Ot=process.env.PROCESSOR_ARCHITEW6432==="ARM64"?2:0:process.env.PROCESSOR_ARCHITECTURE==="ARM64"?Ot=2:process.env.PROCESSOR_ARCHITECTURE==="X86"?Ot=1:Ot=0;var At=class{constructor(e,t,r){this.exePath=e;this.displayName=t;this.knownToExist=r}async exists(){return this.knownToExist===void 0&&(this.knownToExist=await _e.existsFile(this.exePath)),this.knownToExist}};function mu({useAlternateBitness:n=!1}={}){return n?mn===0?process.env["ProgramFiles(x86)"]||null:Ot===0&&process.env.ProgramW6432||null:process.env.ProgramFiles||null}async function rr({useAlternateBitness:n=!1,findPreview:e=!1}={}){let t=mu({useAlternateBitness:n});if(!t)return null;let r=V(t,"PowerShell");if(!await _e.existsDirectory(r))return null;let i=-1,o=null;for(let u of await rt.readdir(r)){let c=-1;if(e){let p=u.indexOf("-");if(p<0)continue;let f=u.substring(0,p);if(!Is.test(f)||u.substring(p+1)!=="preview")continue;c=parseInt(f,10)}else{if(!Is.test(u))continue;c=parseInt(u,10)}if(c<=i)continue;let d=V(r,u,"pwsh.exe");await _e.existsFile(d)&&(o=d,i=c)}if(!o)return null;let a=t.includes("x86")?" (x86)":"",l=e?" Preview":"";return new At(o,`PowerShell${l}${a}`,!0)}async function Ts({findPreview:n}={}){if(!process.env.LOCALAPPDATA)return null;let e=V(process.env.LOCALAPPDATA,"Microsoft","WindowsApps");if(!await _e.existsDirectory(e))return null;let{pwshMsixDirRegex:t,pwshMsixName:r}=n?{pwshMsixDirRegex:fu,pwshMsixName:"PowerShell Preview (Store)"}:{pwshMsixDirRegex:pu,pwshMsixName:"PowerShell (Store)"};for(let i of await rt.readdir(e))if(t.test(i)){let o=V(e,i,"pwsh.exe");return new At(o,r)}return null}function gu(){let n=V(_s.homedir(),".dotnet","tools","pwsh.exe");return new At(n,".NET Core PowerShell Global Tool")}function hu(){let n=V(process.env.windir,mn===1&&Ot!==1?"SysNative":"System32","WindowsPowerShell","v1.0","powershell.exe");return new At(n,"Windows PowerShell",!0)}async function*bu(){let n=await rr();n&&(yield n),n=await rr({useAlternateBitness:!0}),n&&(yield n),n=await Ts(),n&&(yield n),n=gu(),n&&(yield n),n=await rr({findPreview:!0}),n&&(yield n),n=await Ts({findPreview:!0}),n&&(yield n),n=await rr({useAlternateBitness:!0,findPreview:!0}),n&&(yield n),n=hu(),n&&(yield n)}async function*vi(){for await(let n of bu())await n.exists()&&(yield n)}async function Es(){for await(let n of vi())return n;return null}import{promises as ws}from"fs";function Ss(n=Oe){return n.comspec||"cmd.exe"}var yu;(e=>{async function n(t,r,i){if(Je(t))return t;if(r===void 0&&(r=Ce()),ft(t)!==".")return V(r,t);if(i===void 0&&ue(Oe.PATH)&&(i=Oe.PATH.split(gt)),i===void 0||i.length===0)return V(r,t);async function a(l){if(await rt.exists(l)){let u;try{u=await ws.stat(l)}catch(c){c.message.startsWith("EACCES")&&(u=await ws.lstat(l))}return u?!u.isDirectory():!1}return!1}for(let l of i){let u;if(Je(l)?u=V(l,t):u=V(r,l,t),await a(u))return u;let c=u+".com";if(await a(c)||(c=u+".exe",await a(c)))return c}return V(r,t)}e.findExecutable=n})(yu||={});async function ir(n,e){return n===1?N?_u():Ss(e):Tu(n,e)}var xi=null;function Tu(n,e){if(me&&n===2||he&&n===3)return"/bin/bash";if(!xi){let t;if(N)t="/bin/bash";else{if(t=e.SHELL,!t)try{t=Iu().shell}catch{}t||(t="sh"),t==="/bin/false"&&(t="/bin/bash")}xi=t}return xi}var Ii=null;async function _u(){return Ii||(Ii=(await Es()).exePath),Ii}var wu=ra(ks());var Pb={o:m("optionsUpperCase","Options"),e:m("extensionsManagement","Extensions Management"),t:m("troubleshooting","Troubleshooting")};var Su={tunnel:{type:"subcommand",description:"Make the current machine accessible from vscode.dev or other machines through a secure tunnel",options:{"cli-data-dir":{type:"string",args:"dir",description:m("cliDataDir","Directory where CLI metadata should be stored.")},"disable-telemetry":{type:"boolean"},"telemetry-level":{type:"string"},user:{type:"subcommand",options:{login:{type:"subcommand",options:{provider:{type:"string"},"access-token":{type:"string"}}}}}}},"serve-web":{type:"subcommand",description:"Run a server that displays the editor UI in browsers.",options:{"cli-data-dir":{type:"string",args:"dir",description:m("cliDataDir","Directory where CLI metadata should be stored.")},"disable-telemetry":{type:"boolean"},"telemetry-level":{type:"string"}}},diff:{type:"boolean",cat:"o",alias:"d",args:["file","file"],description:m("diff","Compare two files with each other.")},merge:{type:"boolean",cat:"o",alias:"m",args:["path1","path2","base","result"],description:m("merge","Perform a three-way merge by providing paths for two modified versions of a file, the common origin of both modified versions and the output file to save merge results.")},add:{type:"boolean",cat:"o",alias:"a",args:"folder",description:m("add","Add folder(s) to the last active window.")},goto:{type:"boolean",cat:"o",alias:"g",args:"file:line[:character]",description:m("goto","Open a file at the path on the specified line and character position.")},"new-window":{type:"boolean",cat:"o",alias:"n",description:m("newWindow","Force to open a new window.")},"reuse-window":{type:"boolean",cat:"o",alias:"r",description:m("reuseWindow","Force to open a file or folder in an already opened window.")},wait:{type:"boolean",cat:"o",alias:"w",description:m("wait","Wait for the files to be closed before returning.")},waitMarkerFilePath:{type:"string"},locale:{type:"string",cat:"o",args:"locale",description:m("locale","The locale to use (e.g. en-US or zh-TW).")},"user-data-dir":{type:"string",cat:"o",args:"dir",description:m("userDataDir","Specifies the directory that user data is kept in. Can be used to open multiple distinct instances of Code.")},profile:{type:"string",cat:"o",args:"profileName",description:m("profileName","Opens the provided folder or workspace with the given profile and associates the profile with the workspace. If the profile does not exist, a new empty one is created.")},help:{type:"boolean",cat:"o",alias:"h",description:m("help","Print usage.")},"extensions-dir":{type:"string",deprecates:["extensionHomePath"],cat:"e",args:"dir",description:m("extensionHomePath","Set the root path for extensions.")},"extensions-download-dir":{type:"string"},"builtin-extensions-dir":{type:"string"},"list-extensions":{type:"boolean",cat:"e",description:m("listExtensions","List the installed extensions.")},"show-versions":{type:"boolean",cat:"e",description:m("showVersions","Show versions of installed extensions, when using --list-extensions.")},category:{type:"string",allowEmptyValue:!0,cat:"e",description:m("category","Filters installed extensions by provided category, when using --list-extensions."),args:"category"},"install-extension":{type:"string[]",cat:"e",args:"ext-id | path",description:m("installExtension","Installs or updates an extension. The argument is either an extension id or a path to a VSIX. The identifier of an extension is '${publisher}.${name}'. Use '--force' argument to update to latest version. To install a specific version provide '@${version}'. For example: 'vscode.csharp@1.2.3'.")},"pre-release":{type:"boolean",cat:"e",description:m("install prerelease","Installs the pre-release version of the extension, when using --install-extension")},"uninstall-extension":{type:"string[]",cat:"e",args:"ext-id",description:m("uninstallExtension","Uninstalls an extension.")},"update-extensions":{type:"boolean",cat:"e",description:m("updateExtensions","Update the installed extensions.")},"enable-proposed-api":{type:"string[]",allowEmptyValue:!0,cat:"e",args:"ext-id",description:m("experimentalApis","Enables proposed API features for extensions. Can receive one or more extension IDs to enable individually.")},version:{type:"boolean",cat:"t",alias:"v",description:m("version","Print version.")},verbose:{type:"boolean",cat:"t",global:!0,description:m("verbose","Print verbose output (implies --wait).")},log:{type:"string[]",cat:"t",args:"level",global:!0,description:m("log","Log level to use. Default is 'info'. Allowed values are 'critical', 'error', 'warn', 'info', 'debug', 'trace', 'off'. You can also configure the log level of an extension by passing extension id and log level in the following format: '${publisher}.${name}:${logLevel}'. For example: 'vscode.csharp:trace'. Can receive one or more such entries.")},status:{type:"boolean",alias:"s",cat:"t",description:m("status","Print process usage and diagnostics information.")},"prof-startup":{type:"boolean",cat:"t",description:m("prof-startup","Run CPU profiler during startup.")},"prof-append-timers":{type:"string"},"prof-duration-markers":{type:"string[]"},"prof-duration-markers-file":{type:"string"},"no-cached-data":{type:"boolean"},"prof-startup-prefix":{type:"string"},"prof-v8-extensions":{type:"boolean"},"disable-extensions":{type:"boolean",deprecates:["disableExtensions"],cat:"t",description:m("disableExtensions","Disable all installed extensions. This option is not persisted and is effective only when the command opens a new window.")},"disable-extension":{type:"string[]",cat:"t",args:"ext-id",description:m("disableExtension","Disable the provided extension. This option is not persisted and is effective only when the command opens a new window.")},sync:{type:"string",cat:"t",description:m("turn sync","Turn sync on or off."),args:["on | off"]},"inspect-extensions":{type:"string",allowEmptyValue:!0,deprecates:["debugPluginHost"],args:"port",cat:"t",description:m("inspect-extensions","Allow debugging and profiling of extensions. Check the developer tools for the connection URI.")},"inspect-brk-extensions":{type:"string",allowEmptyValue:!0,deprecates:["debugBrkPluginHost"],args:"port",cat:"t",description:m("inspect-brk-extensions","Allow debugging and profiling of extensions with the extension host being paused after start. Check the developer tools for the connection URI.")},"disable-lcd-text":{type:"boolean",cat:"t",description:m("disableLCDText","Disable LCD font rendering.")},"disable-gpu":{type:"boolean",cat:"t",description:m("disableGPU","Disable GPU hardware acceleration.")},"disable-chromium-sandbox":{type:"boolean",cat:"t",description:m("disableChromiumSandbox","Use this option only when there is requirement to launch the application as sudo user on Linux or when running as an elevated user in an applocker environment on Windows.")},sandbox:{type:"boolean"},telemetry:{type:"boolean",cat:"t",description:m("telemetry","Shows all telemetry events which VS code collects.")},remote:{type:"string",allowEmptyValue:!0},"folder-uri":{type:"string[]",cat:"o",args:"uri"},"file-uri":{type:"string[]",cat:"o",args:"uri"},"locate-extension":{type:"string[]"},extensionDevelopmentPath:{type:"string[]"},extensionDevelopmentKind:{type:"string[]"},extensionTestsPath:{type:"string"},extensionEnvironment:{type:"string"},debugId:{type:"string"},debugRenderer:{type:"boolean"},"inspect-ptyhost":{type:"string",allowEmptyValue:!0},"inspect-brk-ptyhost":{type:"string",allowEmptyValue:!0},"inspect-search":{type:"string",deprecates:["debugSearch"],allowEmptyValue:!0},"inspect-brk-search":{type:"string",deprecates:["debugBrkSearch"],allowEmptyValue:!0},"inspect-sharedprocess":{type:"string",allowEmptyValue:!0},"inspect-brk-sharedprocess":{type:"string",allowEmptyValue:!0},"export-default-configuration":{type:"string"},"install-source":{type:"string"},"enable-smoke-test-driver":{type:"boolean"},logExtensionHostCommunication:{type:"boolean"},"skip-release-notes":{type:"boolean"},"skip-welcome":{type:"boolean"},"disable-telemetry":{type:"boolean"},"disable-updates":{type:"boolean"},"use-inmemory-secretstorage":{type:"boolean",deprecates:["disable-keytar"]},"password-store":{type:"string"},"disable-workspace-trust":{type:"boolean"},"disable-crash-reporter":{type:"boolean"},"crash-reporter-directory":{type:"string"},"crash-reporter-id":{type:"string"},"skip-add-to-recently-opened":{type:"boolean"},"open-url":{type:"boolean"},"file-write":{type:"boolean"},"file-chmod":{type:"boolean"},"install-builtin-extension":{type:"string[]"},force:{type:"boolean"},"do-not-sync":{type:"boolean"},trace:{type:"boolean"},"trace-category-filter":{type:"string"},"trace-options":{type:"string"},"preserve-env":{type:"boolean"},"force-user-env":{type:"boolean"},"force-disable-user-env":{type:"boolean"},"open-devtools":{type:"boolean"},"disable-gpu-sandbox":{type:"boolean"},logsPath:{type:"string"},"__enable-file-policy":{type:"boolean"},editSessionId:{type:"string"},continueOn:{type:"string"},"locate-shell-integration-path":{type:"string",args:["bash","pwsh","zsh","fish"]},"enable-coi":{type:"boolean"},"no-proxy-server":{type:"boolean"},"no-sandbox":{type:"boolean",alias:"sandbox"},"proxy-server":{type:"string"},"proxy-bypass-list":{type:"string"},"proxy-pac-url":{type:"string"},"js-flags":{type:"string"},inspect:{type:"string",allowEmptyValue:!0},"inspect-brk":{type:"string",allowEmptyValue:!0},nolazy:{type:"boolean"},"force-device-scale-factor":{type:"string"},"force-renderer-accessibility":{type:"boolean"},"ignore-certificate-errors":{type:"boolean"},"allow-insecure-localhost":{type:"boolean"},"log-net-log":{type:"string"},vmodule:{type:"string"},_urls:{type:"string[]"},"disable-dev-shm-usage":{type:"boolean"},"profile-temp":{type:"boolean"},"ozone-platform":{type:"string"},"enable-tracing":{type:"string"},"trace-startup-format":{type:"string"},"trace-startup-file":{type:"string"},"trace-startup-duration":{type:"string"},_:{type:"string[]"}};function Ti(n){return n.VSCODE_CLI==="1"}function Ds(n,e,t){return Math.min(Math.max(n,e),t)}var _i;async function Ls(n,e,t,r){return t["force-disable-user-env"]?(e.trace("resolveShellEnv(): skipped (--force-disable-user-env)"),{}):N?(e.trace("resolveShellEnv(): skipped (Windows)"),{}):Ti(r)&&!t["force-user-env"]?(e.trace("resolveShellEnv(): skipped (VSCODE_CLI is set)"),{}):(Ti(r)?e.trace("resolveShellEnv(): running (--force-user-env)"):e.trace("resolveShellEnv(): running (macOS/Linux)"),_i||(_i=ri.withAsyncBody(async(i,o)=>{let a=new ve,l=1e4,u=n.getValue("application.shellEnvironmentResolutionTimeout");typeof u=="number"&&(l=Ds(u,1,120)*1e3);let c=setTimeout(()=>{a.dispose(!0),o(new Error(m("resolveShellEnvTimeout","Unable to resolve your shell environment in a reasonable time. Please review your shell configuration and restart.")))},l);try{i(await Ru(e,a.token))}catch(d){!yr(d)&&!a.token.isCancellationRequested?o(new Error(m("resolveShellEnvError","Unable to resolve your shell environment: {0}",kt(d)))):i({})}finally{clearTimeout(c),a.dispose()}})),_i)}async function Ru(n,e){let t=process.env.ELECTRON_RUN_AS_NODE;n.trace("getUnixShellEnvironment#runAsNode",t);let r=process.env.ELECTRON_NO_ATTACH_CONSOLE;n.trace("getUnixShellEnvironment#noAttach",r);let i=ms().replace(/-/g,"").substr(0,12),o=new RegExp(i+"({.*})"+i),a={...process.env,ELECTRON_RUN_AS_NODE:"1",ELECTRON_NO_ATTACH_CONSOLE:"1",VSCODE_RESOLVING_ENVIRONMENT:"1"};n.trace("getUnixShellEnvironment#env",a);let l=await ir(wn,a);return n.trace("getUnixShellEnvironment#shell",l),new Promise((u,c)=>{if(e.isCancellationRequested)return c(new te);let d=Qe(l),p,f,g="";/^pwsh(-preview)?$/.test(d)?(p=`& '${process.execPath}' ${g} -p '''${i}'' + JSON.stringify(process.env) + ''${i}'''`,f=["-Login","-Command"]):d==="nu"?(p=`^'${process.execPath}' ${g} -p '"${i}" + JSON.stringify(process.env) + "${i}"'`,f=["-i","-l","-c"]):d==="xonsh"?(p=`import os, json; print("${i}", json.dumps(dict(os.environ)), "${i}")`,f=["-i","-l","-c"]):(p=`'${process.execPath}' ${g} -p '"${i}" + JSON.stringify(process.env) + "${i}"'`,d==="tcsh"||d==="csh"?f=["-ic"]:f=["-i","-l","-c"]),n.trace("getUnixShellEnvironment#spawn",JSON.stringify(f),p);let I=Pu(l,[...f,p],{detached:!0,stdio:["ignore","pipe","pipe"],env:a});e.onCancellationRequested(()=>(I.kill(),c(new te))),I.on("error",w=>{n.error("getUnixShellEnvironment#errorChildProcess",kt(w)),c(w)});let P=[];I.stdout.on("data",w=>P.push(w));let R=[];I.stderr.on("data",w=>R.push(w)),I.on("close",(w,W)=>{let M=Buffer.concat(P).toString("utf8");n.trace("getUnixShellEnvironment#raw",M);let h=Buffer.concat(R).toString("utf8");if(h.trim()&&n.trace("getUnixShellEnvironment#stderr",h),w||W)return c(new Error(m("resolveShellEnvExitError","Unexpected exit code from spawned shell (code {0}, signal {1})",w,W)));let _=o.exec(M),O=_?_[1]:"{}";try{let T=JSON.parse(O);t?T.ELECTRON_RUN_AS_NODE=t:delete T.ELECTRON_RUN_AS_NODE,r?T.ELECTRON_NO_ATTACH_CONSOLE=r:delete T.ELECTRON_NO_ATTACH_CONSOLE,delete T.VSCODE_RESOLVING_ENVIRONMENT,delete T.XDG_RUNTIME_DIR,n.trace("getUnixShellEnvironment#result",T),u(T)}catch(T){n.error("getUnixShellEnvironment#errorCaught",kt(T)),c(T)}})})}var Ei=class{data=new Map;add(e,t){Dn(ue(e)),Dn(Te(t)),Dn(!this.data.has(e),"There is already an extension with this id"),this.data.set(e,t)}knows(e){return this.data.has(e)}as(e){return this.data.get(e)||null}},we=new Ei;var Xy=new Dt("terminalTabFocusMode",!1,!0);var Yy=j("ptyService");var ku={Backend:"workbench.contributions.terminal.processBackend"},wi=class{_backends=new Map;get backends(){return this._backends}registerTerminalBackend(e){let t=this._sanitizeRemoteAuthority(e.remoteAuthority);if(this._backends.has(t))throw new Error(`A terminal backend with remote authority '${t}' was already registered.`);this._backends.set(t,e)}getTerminalBackend(e){return this._backends.get(this._sanitizeRemoteAuthority(e))}_sanitizeRemoteAuthority(e){return e?.toLowerCase()??""}};we.add(ku.Backend,new wi);var Zy=j("localPtyService"),e2=j("terminalLogService");var Ut=class extends X{constructor(t,r){super();this._logService=r;this._timeout=t===void 0?15e3:t,this._register(Y(()=>{for(let i of this._pendingRequestDisposables.values())Fe(i)}))}_lastRequestId=0;_timeout;_pendingRequests=new Map;_pendingRequestDisposables=new Map;_onCreateRequest=this._register(new k);onCreateRequest=this._onCreateRequest.event;createRequest(t){return new Promise((r,i)=>{let o=++this._lastRequestId;this._pendingRequests.set(o,r),this._onCreateRequest.fire({requestId:o,...t});let a=new ve;Pt(this._timeout,a.token).then(()=>i(`Request ${o} timed out (${this._timeout}ms)`)),this._pendingRequestDisposables.set(o,[Y(()=>a.cancel())])})}acceptReply(t,r){let i=this._pendingRequests.get(t);i?(this._pendingRequests.delete(t),Fe(this._pendingRequestDisposables.get(t)||[]),this._pendingRequestDisposables.delete(t),i(r)):this._logService.warn(`RequestStore#acceptReply was called without receiving a matching request ${t}`)}};Ut=at([lt(1,Yn)],Ut);var Pi={JSONContribution:"base.contributions.json"};function Du(n){return n.length>0&&n.charAt(n.length-1)==="#"?n.substring(0,n.length-1):n}var Si=class{schemasById;_onDidChangeSchema=new k;onDidChangeSchema=this._onDidChangeSchema.event;constructor(){this.schemasById={}}registerSchema(e,t){this.schemasById[Du(e)]=t,this._onDidChangeSchema.fire(e)}notifySchemaChanged(e){this._onDidChangeSchema.fire(e)}getSchemaContributions(){return{schemas:this.schemasById}}getSchemaContent(e){let t=this.schemasById[e];return t?ds(t):void 0}hasSchemaContent(e){return!!this.schemasById[e]}},Lu=new Si;we.add(Pi.JSONContribution,Lu);var q2=j("policy");var pr={Configuration:"base.contributions.configuration"};var or={properties:{},patternProperties:{}},sr={properties:{},patternProperties:{}},ar={properties:{},patternProperties:{}},lr={properties:{},patternProperties:{}},ur={properties:{},patternProperties:{}},gn={properties:{},patternProperties:{}},it="vscode://schemas/settings/resourceLanguage";var cr=we.as(Pi.JSONContribution),Ri=class{registeredConfigurationDefaults=[];configurationDefaultsOverrides;defaultLanguageConfigurationOverridesNode;configurationContributors;configurationProperties;policyConfigurations;excludedConfigurationProperties;resourceLanguageSettingsSchema;overrideIdentifiers=new Set;_onDidSchemaChange=new k;onDidSchemaChange=this._onDidSchemaChange.event;_onDidUpdateConfiguration=new k;onDidUpdateConfiguration=this._onDidUpdateConfiguration.event;constructor(){this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:m("defaultLanguageConfigurationOverrides.title","Default Language Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!0,allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.policyConfigurations=new Map,this.excludedConfigurationProperties={},cr.registerSchema(it,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}registerConfiguration(e,t=!0){this.registerConfigurations([e],t)}registerConfigurations(e,t=!0){let r=new Set;this.doRegisterConfigurations(e,t,r),cr.registerSchema(it,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:r})}deregisterConfigurations(e){let t=new Set;this.doDeregisterConfigurations(e,t),cr.registerSchema(it,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:t})}updateConfigurations({add:e,remove:t}){let r=new Set;this.doDeregisterConfigurations(t,r),this.doRegisterConfigurations(e,!1,r),cr.registerSchema(it,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:r})}registerDefaultConfigurations(e){let t=new Set;this.doRegisterDefaultConfigurations(e,t),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:t,defaultsOverrides:!0})}doRegisterDefaultConfigurations(e,t){this.registeredConfigurationDefaults.push(...e);let r=[];for(let{overrides:i,source:o}of e)for(let a in i){t.add(a);let l=this.configurationDefaultsOverrides.get(a)??this.configurationDefaultsOverrides.set(a,{configurationDefaultOverrides:[]}).get(a),u=i[a];if(l.configurationDefaultOverrides.push({value:u,source:o}),hn.test(a)){let c=this.mergeDefaultConfigurationsForOverrideIdentifier(a,u,o,l.configurationDefaultOverrideValue);if(!c)continue;l.configurationDefaultOverrideValue=c,this.updateDefaultOverrideProperty(a,c,o),r.push(...Ou(a))}else{let c=this.mergeDefaultConfigurationsForConfigurationProperty(a,u,o,l.configurationDefaultOverrideValue);if(!c)continue;l.configurationDefaultOverrideValue=c;let d=this.configurationProperties[a];d&&(this.updatePropertyDefaultValue(a,d),this.updateSchema(a,d))}}this.doRegisterOverrideIdentifiers(r)}deregisterDefaultConfigurations(e){let t=new Set;this.doDeregisterDefaultConfigurations(e,t),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:t,defaultsOverrides:!0})}doDeregisterDefaultConfigurations(e,t){for(let r of e){let i=this.registeredConfigurationDefaults.indexOf(r);i!==-1&&this.registeredConfigurationDefaults.splice(i,1)}for(let{overrides:r,source:i}of e)for(let o in r){let a=this.configurationDefaultsOverrides.get(o);if(!a)continue;let l=a.configurationDefaultOverrides.findIndex(u=>i?u.source?.id===i.id:u.value===r[o]);if(l!==-1){if(a.configurationDefaultOverrides.splice(l,1),a.configurationDefaultOverrides.length===0&&this.configurationDefaultsOverrides.delete(o),hn.test(o)){let u;for(let c of a.configurationDefaultOverrides)u=this.mergeDefaultConfigurationsForOverrideIdentifier(o,c.value,c.source,u);u&&!Mo(u.value)?(a.configurationDefaultOverrideValue=u,this.updateDefaultOverrideProperty(o,u,i)):(this.configurationDefaultsOverrides.delete(o),delete this.configurationProperties[o],delete this.defaultLanguageConfigurationOverridesNode.properties[o])}else{let u;for(let d of a.configurationDefaultOverrides)u=this.mergeDefaultConfigurationsForConfigurationProperty(o,d.value,d.source,u);a.configurationDefaultOverrideValue=u;let c=this.configurationProperties[o];c&&(this.updatePropertyDefaultValue(o,c),this.updateSchema(o,c))}t.add(o)}}this.updateOverridePropertyPatternKey()}updateDefaultOverrideProperty(e,t,r){let i={type:"object",default:t.value,description:m("defaultLanguageConfiguration.description","Configure settings to be overridden for the {0} language.",Zo(e)),$ref:it,defaultDefaultValue:t.value,source:r,defaultValueSource:r};this.configurationProperties[e]=i,this.defaultLanguageConfigurationOverridesNode.properties[e]=i}mergeDefaultConfigurationsForOverrideIdentifier(e,t,r,i){let o=i?.value||{},a=i?.source??new Map;if(!(a instanceof Map)){console.error("objectConfigurationSources is not a Map");return}for(let l of Object.keys(t)){let u=t[l];if(Te(u)&&(St(o[l])||Te(o[l]))){if(o[l]={...o[l]??{},...u},r)for(let d in u)a.set(`${l}.${d}`,r)}else o[l]=u,r?a.set(l,r):a.delete(l)}return{value:o,source:a}}mergeDefaultConfigurationsForConfigurationProperty(e,t,r,i){let o=this.configurationProperties[e],a=i?.value??o?.defaultDefaultValue,l=r;if(Te(t)&&(o!==void 0&&o.type==="object"||o===void 0&&(St(a)||Te(a)))){if(l=i?.source??new Map,!(l instanceof Map)){console.error("defaultValueSource is not a Map");return}for(let c in t)r&&l.set(`${e}.${c}`,r);t={...Te(a)?a:{},...t}}return{value:t,source:l}}deltaConfiguration(e){let t=!1,r=new Set;e.removedDefaults&&(this.doDeregisterDefaultConfigurations(e.removedDefaults,r),t=!0),e.addedDefaults&&(this.doRegisterDefaultConfigurations(e.addedDefaults,r),t=!0),e.removedConfigurations&&this.doDeregisterConfigurations(e.removedConfigurations,r),e.addedConfigurations&&this.doRegisterConfigurations(e.addedConfigurations,!1,r),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:r,defaultsOverrides:t})}notifyConfigurationSchemaUpdated(...e){this._onDidSchemaChange.fire()}registerOverrideIdentifiers(e){this.doRegisterOverrideIdentifiers(e),this._onDidSchemaChange.fire()}doRegisterOverrideIdentifiers(e){for(let t of e)this.overrideIdentifiers.add(t);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(e,t,r){e.forEach(i=>{this.validateAndRegisterProperties(i,t,i.extensionInfo,i.restrictedProperties,void 0,r),this.configurationContributors.push(i),this.registerJSONConfiguration(i)})}doDeregisterConfigurations(e,t){let r=i=>{if(i.properties)for(let o in i.properties){t.add(o);let a=this.configurationProperties[o];a?.policy?.name&&this.policyConfigurations.delete(a.policy.name),delete this.configurationProperties[o],this.removeFromSchema(o,i.properties[o])}i.allOf?.forEach(o=>r(o))};for(let i of e){r(i);let o=this.configurationContributors.indexOf(i);o!==-1&&this.configurationContributors.splice(o,1)}}validateAndRegisterProperties(e,t=!0,r,i,o=3,a){o=Be(e.scope)?o:e.scope;let l=e.properties;if(l)for(let c in l){let d=l[c];if(t&&Uu(c,d)){delete l[c];continue}if(d.source=r,d.defaultDefaultValue=l[c].default,this.updatePropertyDefaultValue(c,d),hn.test(c)?d.scope=void 0:(d.scope=Be(d.scope)?o:d.scope,d.restricted=Be(d.restricted)?!!i?.includes(c):d.restricted),l[c].hasOwnProperty("included")&&!l[c].included){this.excludedConfigurationProperties[c]=l[c],delete l[c];continue}else this.configurationProperties[c]=l[c],l[c].policy?.name&&this.policyConfigurations.set(l[c].policy.name,c);!l[c].deprecationMessage&&l[c].markdownDeprecationMessage&&(l[c].deprecationMessage=l[c].markdownDeprecationMessage),a.add(c)}let u=e.allOf;if(u)for(let c of u)this.validateAndRegisterProperties(c,t,r,i,o,a)}getConfigurations(){return this.configurationContributors}getConfigurationProperties(){return this.configurationProperties}getPolicyConfigurations(){return this.policyConfigurations}getExcludedConfigurationProperties(){return this.excludedConfigurationProperties}getRegisteredDefaultConfigurations(){return[...this.registeredConfigurationDefaults]}getConfigurationDefaultsOverrides(){let e=new Map;for(let[t,r]of this.configurationDefaultsOverrides)r.configurationDefaultOverrideValue&&e.set(t,r.configurationDefaultOverrideValue);return e}registerJSONConfiguration(e){let t=r=>{let i=r.properties;if(i)for(let a in i)this.updateSchema(a,i[a]);r.allOf?.forEach(t)};t(e)}updateSchema(e,t){switch(or.properties[e]=t,t.scope){case 1:sr.properties[e]=t;break;case 2:ar.properties[e]=t;break;case 6:lr.properties[e]=t;break;case 3:ur.properties[e]=t;break;case 4:gn.properties[e]=t;break;case 5:gn.properties[e]=t,this.resourceLanguageSettingsSchema.properties[e]=t;break}}removeFromSchema(e,t){switch(delete or.properties[e],t.scope){case 1:delete sr.properties[e];break;case 2:delete ar.properties[e];break;case 6:delete lr.properties[e];break;case 3:delete ur.properties[e];break;case 4:case 5:delete gn.properties[e],delete this.resourceLanguageSettingsSchema.properties[e];break}}updateOverridePropertyPatternKey(){for(let e of this.overrideIdentifiers.values()){let t=`[${e}]`,r={type:"object",description:m("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:m("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:it};this.updatePropertyDefaultValue(t,r),or.properties[t]=r,sr.properties[t]=r,ar.properties[t]=r,lr.properties[t]=r,ur.properties[t]=r,gn.properties[t]=r}}registerOverridePropertyPatternKey(){let e={type:"object",description:m("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:m("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:it};or.patternProperties[ot]=e,sr.patternProperties[ot]=e,ar.patternProperties[ot]=e,lr.patternProperties[ot]=e,ur.patternProperties[ot]=e,gn.patternProperties[ot]=e,this._onDidSchemaChange.fire()}updatePropertyDefaultValue(e,t){let r=this.configurationDefaultsOverrides.get(e)?.configurationDefaultOverrideValue,i,o;r&&(!t.disallowConfigurationDefault||!r.source)&&(i=r.value,o=r.source),St(i)&&(i=t.defaultDefaultValue,o=void 0),St(i)&&(i=Au(t.type)),t.default=i,t.defaultValueSource=o}},As="\\[([^\\]]+)\\]",Os=new RegExp(As,"g"),ot=`^(${As})+$`,hn=new RegExp(ot);function Ou(n){let e=[];if(hn.test(n)){let t=Os.exec(n);for(;t?.length;){let r=t[1].trim();r&&e.push(r),t=Os.exec(n)}}return Bi(e)}function Au(n){switch(Array.isArray(n)?n[0]:n){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}var dr=new Ri;we.add(pr.Configuration,dr);function Uu(n,e){return n.trim()?hn.test(n)?m("config.property.languageDefault","Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",n):dr.getConfigurationProperties()[n]!==void 0?m("config.property.duplicate","Cannot register '{0}'. This property is already registered.",n):e.policy?.name&&dr.getPolicyConfigurations().get(e.policy?.name)!==void 0?m("config.policy.duplicate","Cannot register '{0}'. The associated policy {1} is already registered with {2}.",n,e.policy?.name,dr.getPolicyConfigurations().get(e.policy?.name)):null:m("config.property.empty","Cannot register an empty property")}function Us(n,e){let t=[{name:null,description:m("terminalAutomaticProfile","Automatically detect the default")}];return t.push(...n.map(r=>({name:r.profileName,description:Nu(r)}))),e&&t.push(...e.map(r=>({name:r.title,description:Mu(r)}))),{values:t.map(r=>r.name),markdownDescriptions:t.map(r=>r.description)}}function Nu(n){let e=`$(${Xn.isThemeIcon(n.icon)?n.icon.id:n.icon?n.icon:se.terminal.id}) ${n.profileName}
- path: ${n.path}`;return n.args&&(typeof n.args=="string"?e+=`
- args: "${n.args}"`:e+=`
- args: [${n.args.length===0?"":`'${n.args.join("','")}'`}]`),n.overrideName!==void 0&&(e+=`
- overrideName: ${n.overrideName}`),n.color&&(e+=`
- color: ${n.color}`),n.env&&(e+=`
- env: ${JSON.stringify(n.env)}`),e}function Mu(n){return`$(${Xn.isThemeIcon(n.icon)?n.icon.id:n.icon?n.icon:se.terminal.id}) ${n.title}
- extensionIdentifier: ${n.extensionIdentifier}`}var Fu={type:["string","null"],enum:["terminal.ansiBlack","terminal.ansiRed","terminal.ansiGreen","terminal.ansiYellow","terminal.ansiBlue","terminal.ansiMagenta","terminal.ansiCyan","terminal.ansiWhite"],default:null},Vu={type:"string",enum:Array.from(hi(),n=>n.id),markdownEnumDescriptions:Array.from(hi(),n=>`$(${n.id})`)},Nt={args:{description:m("terminalProfile.args","An optional set of arguments to run the shell executable with."),type:"array",items:{type:"string"}},overrideName:{description:m("terminalProfile.overrideName","Whether or not to replace the dynamic terminal title that detects what program is running with the static profile name."),type:"boolean"},icon:{description:m("terminalProfile.icon","A codicon ID to associate with the terminal icon."),...Vu},color:{description:m("terminalProfile.color","A theme color ID to associate with the terminal icon."),...Fu},env:{markdownDescription:m("terminalProfile.env","An object with environment variables that will be added to the terminal profile process. Set to `null` to delete environment variables from the base environment."),type:"object",additionalProperties:{type:["string","null"]},default:{}}},Ci={type:"object",required:["path"],properties:{path:{description:m("terminalProfile.path","A single path to a shell executable or an array of paths that will be used as fallbacks when one fails."),type:["string","array"],items:{type:"string"}},...Nt}},ki={type:"object",required:["path"],properties:{path:{description:m("terminalAutomationProfile.path","A single path to a shell executable."),type:["string"],items:{type:"string"}},...Nt}};function Di(n){let e=n===2?"linux":n===1?"osx":"windows";return m({key:"terminal.integrated.profile",comment:["{0} is the platform, {1} is a code block, {2} and {3} are a link start and end"]},`A set of terminal profile customizations for {0} which allows adding, removing or changing how terminals are launched. Profiles are made up of a mandatory path, optional arguments and other presentation options.

To override an existing profile use its profile name as the key, for example:

{1}

{2}Read more about configuring profiles{3}.`,Ji(n),'```json\n"terminal.integrated.profile.'+e+'": {\n  "bash": null\n}\n```',"[","](https://code.visualstudio.com/docs/terminal/profiles)")}var Ku={id:"terminal",order:100,title:m("terminalIntegratedConfigurationTitle","Integrated Terminal"),type:"object",properties:{"terminal.integrated.automationProfile.linux":{restricted:!0,markdownDescription:m("terminal.integrated.automationProfile.linux","The terminal profile to use on Linux for automation-related terminal usage like tasks and debug."),type:["object","null"],default:null,anyOf:[{type:"null"},ki],defaultSnippets:[{body:{path:"${1}",icon:"${2}"}}]},"terminal.integrated.automationProfile.osx":{restricted:!0,markdownDescription:m("terminal.integrated.automationProfile.osx","The terminal profile to use on macOS for automation-related terminal usage like tasks and debug."),type:["object","null"],default:null,anyOf:[{type:"null"},ki],defaultSnippets:[{body:{path:"${1}",icon:"${2}"}}]},"terminal.integrated.automationProfile.windows":{restricted:!0,markdownDescription:m("terminal.integrated.automationProfile.windows","The terminal profile to use for automation-related terminal usage like tasks and debug. This setting will currently be ignored if {0} (now deprecated) is set.","`terminal.integrated.automationShell.windows`"),type:["object","null"],default:null,anyOf:[{type:"null"},ki],defaultSnippets:[{body:{path:"${1}",icon:"${2}"}}]},"terminal.integrated.profiles.windows":{restricted:!0,markdownDescription:Di(3),type:"object",default:{PowerShell:{source:"PowerShell",icon:"terminal-powershell"},"Command Prompt":{path:["${env:windir}\\Sysnative\\cmd.exe","${env:windir}\\System32\\cmd.exe"],args:[],icon:"terminal-cmd"},"Git Bash":{source:"Git Bash"}},additionalProperties:{anyOf:[{type:"object",required:["source"],properties:{source:{description:m("terminalProfile.windowsSource","A profile source that will auto detect the paths to the shell. Note that non-standard executable locations are not supported and must be created manually in a new profile."),enum:["PowerShell","Git Bash"]},...Nt}},{type:"object",required:["extensionIdentifier","id","title"],properties:{extensionIdentifier:{description:m("terminalProfile.windowsExtensionIdentifier","The extension that contributed this profile."),type:"string"},id:{description:m("terminalProfile.windowsExtensionId","The id of the extension terminal"),type:"string"},title:{description:m("terminalProfile.windowsExtensionTitle","The name of the extension terminal"),type:"string"},...Nt}},{type:"null"},Ci]}},"terminal.integrated.profiles.osx":{restricted:!0,markdownDescription:Di(1),type:"object",default:{bash:{path:"bash",args:["-l"],icon:"terminal-bash"},zsh:{path:"zsh",args:["-l"]},fish:{path:"fish",args:["-l"]},tmux:{path:"tmux",icon:"terminal-tmux"},pwsh:{path:"pwsh",icon:"terminal-powershell"}},additionalProperties:{anyOf:[{type:"object",required:["extensionIdentifier","id","title"],properties:{extensionIdentifier:{description:m("terminalProfile.osxExtensionIdentifier","The extension that contributed this profile."),type:"string"},id:{description:m("terminalProfile.osxExtensionId","The id of the extension terminal"),type:"string"},title:{description:m("terminalProfile.osxExtensionTitle","The name of the extension terminal"),type:"string"},...Nt}},{type:"null"},Ci]}},"terminal.integrated.profiles.linux":{restricted:!0,markdownDescription:Di(2),type:"object",default:{bash:{path:"bash",icon:"terminal-bash"},zsh:{path:"zsh"},fish:{path:"fish"},tmux:{path:"tmux",icon:"terminal-tmux"},pwsh:{path:"pwsh",icon:"terminal-powershell"}},additionalProperties:{anyOf:[{type:"object",required:["extensionIdentifier","id","title"],properties:{extensionIdentifier:{description:m("terminalProfile.linuxExtensionIdentifier","The extension that contributed this profile."),type:"string"},id:{description:m("terminalProfile.linuxExtensionId","The id of the extension terminal"),type:"string"},title:{description:m("terminalProfile.linuxExtensionTitle","The name of the extension terminal"),type:"string"},...Nt}},{type:"null"},Ci]}},"terminal.integrated.useWslProfiles":{description:m("terminal.integrated.useWslProfiles","Controls whether or not WSL distros are shown in the terminal dropdown"),type:"boolean",default:!0},"terminal.integrated.inheritEnv":{scope:1,description:m("terminal.integrated.inheritEnv","Whether new shells should inherit their environment from VS Code, which may source a login shell to ensure $PATH and other development variables are initialized. This has no effect on Windows."),type:"boolean",default:!0},"terminal.integrated.persistentSessionScrollback":{scope:1,markdownDescription:m("terminal.integrated.persistentSessionScrollback","Controls the maximum amount of lines that will be restored when reconnecting to a persistent terminal session. Increasing this will restore more lines of scrollback at the cost of more memory and increase the time it takes to connect to terminals on start up. This setting requires a restart to take effect and should be set to a value less than or equal to `#terminal.integrated.scrollback#`."),type:"number",default:100},"terminal.integrated.showLinkHover":{scope:1,description:m("terminal.integrated.showLinkHover","Whether to show hovers for links in the terminal output."),type:"boolean",default:!0},"terminal.integrated.ignoreProcessNames":{markdownDescription:m("terminal.integrated.confirmIgnoreProcesses","A set of process names to ignore when using the {0} setting.","`#terminal.integrated.confirmOnKill#`"),type:"array",items:{type:"string",uniqueItems:!0},default:["starship","oh-my-posh","bash","zsh"]}}};function Ms(){we.as(pr.Configuration).registerConfiguration(Ku),Bu()}var Li;function Bu(n,e){let t=we.as(pr.Configuration),r;n&&(r=Us(n?.profiles,e));let i=Li;Li={id:"terminal",order:100,title:m("terminalIntegratedConfigurationTitle","Integrated Terminal"),type:"object",properties:{"terminal.integrated.defaultProfile.linux":{restricted:!0,markdownDescription:m("terminal.integrated.defaultProfile.linux","The default terminal profile on Linux."),type:["string","null"],default:null,enum:n?.os===3?r?.values:void 0,markdownEnumDescriptions:n?.os===3?r?.markdownDescriptions:void 0},"terminal.integrated.defaultProfile.osx":{restricted:!0,markdownDescription:m("terminal.integrated.defaultProfile.osx","The default terminal profile on macOS."),type:["string","null"],default:null,enum:n?.os===2?r?.values:void 0,markdownEnumDescriptions:n?.os===2?r?.markdownDescriptions:void 0},"terminal.integrated.defaultProfile.windows":{restricted:!0,markdownDescription:m("terminal.integrated.defaultProfile.windows","The default terminal profile on Windows."),type:["string","null"],default:null,enum:n?.os===1?r?.values:void 0,markdownEnumDescriptions:n?.os===1?r?.markdownDescriptions:void 0}}},t.updateConfigurations({add:[Li],remove:i?[i]:[]})}import*as Ws from"fs";import*as qs from"child_process";import*as bn from"os";function Fs(n,e){let t=e.toLowerCase(),r=Object.keys(n).find(i=>i.toLowerCase()===t);return r?n[r]:n[e]}var Jv=j("productService");var mx=new Map([[2,"APPEND"],[3,"PREPEND"],[1,"REPLACE"]]);function Vs(){let n=/(\d+)\.(\d+)\.(\d+)/g.exec(bn.release()),e=0;return n&&n.length===4&&(e=parseInt(n[3])),e}async function Oi(n,e,t,r=Oe,i=rt.exists){if(Je(n))return await i(n)?n:void 0;if(e===void 0&&(e=Ce()),ft(n)!=="."){let u=V(e,n);return await i(u)?u:void 0}let a=Fs(r,"PATH");if(t===void 0&&ue(a)&&(t=a.split(gt)),t===void 0||t.length===0){let u=V(e,n);return await i(u)?u:void 0}for(let u of t){let c;if(Je(u)?c=V(u,n):c=V(e,u,n),await i(c))return c;if(N){let d=c+".com";if(await i(d)||(d=c+".exe",await i(d)))return d}}let l=V(e,n);return await i(l)?l:void 0}var st=new Map;st.set("windows-pwsh",["-noexit","-command",'try { . "{0}\\out\\vs\\workbench\\contrib\\terminal\\common\\scripts\\shellIntegration.ps1" } catch {}{1}']);st.set("windows-pwsh-login",["-l","-noexit","-command",'try { . "{0}\\out\\vs\\workbench\\contrib\\terminal\\common\\scripts\\shellIntegration.ps1" } catch {}{1}']);st.set("pwsh",["-noexit","-command",'. "{0}/out/vs/workbench/contrib/terminal/common/scripts/shellIntegration.ps1"{1}']);st.set("pwsh-login",["-l","-noexit","-command",'. "{0}/out/vs/workbench/contrib/terminal/common/scripts/shellIntegration.ps1"']);st.set("zsh",["-i"]);st.set("zsh-login",["-il"]);st.set("bash",["--init-file","{0}/out/vs/workbench/contrib/terminal/common/scripts/shellIntegration-bash.sh"]);import{dirname as qu,resolve as $u}from"path";var yn,Ks=!0;function $s(n,e,t,r,i=process.env,o,a,l,u){return o=o||{existsFile:_e.existsFile,readFile:Ws.promises.readFile},N?zu(t,o,i,a,r.getValue("terminal.integrated.useWslProfiles")!==!1,n&&typeof n=="object"?{...n}:r.getValue("terminal.integrated.profiles.windows"),typeof e=="string"?e:r.getValue("terminal.integrated.defaultProfile.windows"),u,l):Yu(o,a,t,n&&typeof n=="object"?{...n}:r.getValue(me?"terminal.integrated.profiles.linux":"terminal.integrated.profiles.osx"),typeof e=="string"?e:r.getValue(me?"terminal.integrated.defaultProfile.linux":"terminal.integrated.defaultProfile.osx"),u,l,i)}async function zu(n,e,t,r,i,o,a,l,u){let c=process.env.hasOwnProperty("PROCESSOR_ARCHITEW6432"),d=`${process.env.windir}\\${c?"Sysnative":"System32"}`,p=!1;Vs()>=16299&&(p=!0),await Hu(l);let f=new Map;if(n){f.set("PowerShell",{source:"PowerShell",icon:se.terminalPowershell,isAutoDetected:!0}),f.set("Windows PowerShell",{path:`${d}\\WindowsPowerShell\\v1.0\\powershell.exe`,icon:se.terminalPowershell,isAutoDetected:!0}),f.set("Git Bash",{source:"Git Bash",isAutoDetected:!0}),f.set("Command Prompt",{path:`${d}\\cmd.exe`,icon:se.terminalCmd,isAutoDetected:!0}),f.set("Cygwin",{path:[{path:`${process.env.HOMEDRIVE}\\cygwin64\\bin\\bash.exe`,isUnsafe:!0},{path:`${process.env.HOMEDRIVE}\\cygwin\\bin\\bash.exe`,isUnsafe:!0}],args:["--login"],isAutoDetected:!0}),f.set("bash (MSYS2)",{path:[{path:`${process.env.HOMEDRIVE}\\msys64\\usr\\bin\\bash.exe`,isUnsafe:!0}],args:["--login","-i"],env:{CHERE_INVOKING:"1"},icon:se.terminalBash,isAutoDetected:!0});let I=`${process.env.CMDER_ROOT||`${process.env.HOMEDRIVE}\\cmder`}\\vendor\\bin\\vscode_init.cmd`;f.set("Cmder",{path:`${d}\\cmd.exe`,args:["/K",I],requiresPath:process.env.CMDER_ROOT?I:{path:I,isUnsafe:!0},isAutoDetected:!0})}js(o,f);let g=await zs(f.entries(),a,e,t,r,u);if(n&&i)try{let I=await Qu(`${d}\\${p?"wsl":"bash"}.exe`,a);for(let P of I)(!o||!(P.profileName in o))&&g.push(P)}catch{Ks&&(r?.trace("WSL is not installed, so could not detect WSL profiles"),Ks=!1)}return g}async function zs(n,e,t,r=process.env,i,o){let a=[];for(let[l,u]of n)a.push(ju(l,u,e,t,r,i,o));return(await Promise.all(a)).filter(l=>!!l)}async function ju(n,e,t,r,i=process.env,o,a){if(e===null)return;let l,u,c;if("source"in e&&!("path"in e)){let g=yn?.get(e.source);if(!g)return;l=g.paths,u=e.args||g.args,e.icon?c=Bs(e.icon):g.icon&&(c=g.icon)}else l=Array.isArray(e.path)?e.path:[e.path],u=N||Array.isArray(e.args)?e.args:void 0,c=Bs(e.icon);let d;if(a){let g=l.map(P=>typeof P=="string"?P:P.path),I=await a(g);d=new Array(l.length);for(let P=0;P<l.length;P++)typeof l[P]=="string"?d[P]=I[P]:d[P]={path:I[P],isUnsafe:!0}}else d=l.slice();let p;if(e.requiresPath){let g;if(ue(e.requiresPath)?g=e.requiresPath:(g=e.requiresPath.path,e.requiresPath.isUnsafe&&(p=g)),!await r.existsFile(g))return}let f=await fr(n,t,d,r,i,u,e.env,e.overrideName,e.isAutoDetected,p);if(!f){o?.debug("Terminal profile not validated",n,l);return}return f.isAutoDetected=e.isAutoDetected,f.icon=c,f.color=e.color,f}function Bs(n){return typeof n=="string"?{id:n}:n}async function Hu(n){if(yn&&!n)return;let[e,t]=await Promise.all([Gu(),n||Ju()]);yn=new Map,yn.set("Git Bash",{profileName:"Git Bash",paths:e,args:["--login","-i"]}),yn.set("PowerShell",{profileName:"PowerShell",paths:t,icon:se.terminalPowershell})}async function Gu(){let n=new Set,e=await Oi("git.exe");if(e){let i=qu(e);n.add($u(i,"../.."))}function t(i,o){o&&i.add(o)}t(n,process.env.ProgramW6432),t(n,process.env.ProgramFiles),t(n,process.env["ProgramFiles(X86)"]),t(n,`${process.env.LocalAppData}\\Program`);let r=[];for(let i of n)r.push(`${i}\\Git\\bin\\bash.exe`,`${i}\\Git\\usr\\bin\\bash.exe`,`${i}\\usr\\bin\\bash.exe`);return r.push(`${process.env.UserProfile}\\scoop\\apps\\git\\current\\bin\\bash.exe`),r.push(`${process.env.UserProfile}\\scoop\\apps\\git-with-openssh\\current\\bin\\bash.exe`),r}async function Ju(){let n=[];for await(let e of vi())n.push(e.exePath);return n}async function Qu(n,e){let t=[],r=await new Promise((a,l)=>{qs.exec("wsl.exe -l -q",{encoding:"utf16le",timeout:1e3},(u,c)=>{if(u)return l("Problem occurred when getting wsl distros");a(c)})});if(!r)return[];let i=new RegExp(/[\r?\n]/),o=r.split(i).filter(a=>a.trim().length>0&&a!=="");for(let a of o){if(a===""||a.startsWith("docker-desktop"))continue;let l=`${a} (WSL)`,u={profileName:l,path:n,args:["-d",`${a}`],isDefault:l===e,icon:Xu(a),isAutoDetected:!1};t.push(u)}return t}function Xu(n){return n.includes("Ubuntu")?se.terminalUbuntu:n.includes("Debian")?se.terminalDebian:se.terminalLinux}async function Yu(n,e,t,r,i,o,a,l){let u=new Map;if(t&&await n.existsFile("/etc/shells")){let c=(await n.readFile("/etc/shells")).toString(),d=(o||c.split(`
`)).map(f=>{let g=f.indexOf("#");return g===-1?f:f.substring(0,g)}).filter(f=>f.trim().length>0),p=new Map;for(let f of d){let g=Qe(f),I=p.get(g)||0;I++,I>1&&(g=`${g} (${I})`),p.set(g,I),u.set(g,{path:f,isAutoDetected:!0})}}return js(r,u),await zs(u.entries(),i,n,l,e,a)}function js(n,e){if(n)for(let[t,r]of Object.entries(n))r===null||typeof r!="object"||!("path"in r)&&!("source"in r)?e.delete(t):(r.icon=r.icon||e.get(t)?.icon,e.set(t,r))}async function fr(n,e,t,r,i,o,a,l,u,c){if(t.length===0)return Promise.resolve(void 0);let d=t.shift();if(d==="")return fr(n,e,t,r,i,o,a,l,u);let p=typeof d!="string"&&d.isUnsafe,f=typeof d=="string"?d:d.path,g={profileName:n,path:f,args:o,env:a,overrideName:l,isAutoDetected:u,isDefault:n===e,isUnsafePath:p,requiresUnsafePath:c};if(Qe(f)===f){let P=i.PATH?i.PATH.split(gt):void 0,R=await Oi(f,void 0,P,void 0,r.existsFile);return R?(g.path=R,g.isFromPath=!0,g):fr(n,e,t,r,i,o)}return await r.existsFile(pt(f))?g:fr(n,e,t,r,i,o,a,l,u)}var vn={exports:{}};(function(){function e(o){let a=[];typeof o=="number"&&a.push("code/timeOrigin",o);function l(c){a.push(c,Date.now())}function u(){let c=[];for(let d=0;d<a.length;d+=2)c.push({name:a[d],startTime:a[d+1]});return c}return{mark:l,getMarks:u}}function t(){if(typeof performance=="object"&&typeof performance.mark=="function"&&!performance.nodeTiming)return typeof performance.timeOrigin!="number"&&!performance.timing?e():{mark(o){performance.mark(o)},getMarks(){let o=performance.timeOrigin;typeof o!="number"&&(o=performance.timing.navigationStart||performance.timing.redirectStart||performance.timing.fetchStart);let a=[{name:"code/timeOrigin",startTime:Math.round(o)}];for(let l of performance.getEntriesByType("mark"))a.push({name:l.name,startTime:Math.round(o+l.startTime)});return a}};if(typeof process=="object"){let o=performance?.timeOrigin;return e(o)}else return console.trace("perf-util loaded in UNKNOWN environment"),e()}function r(o){return o.MonacoPerformanceMarks||(o.MonacoPerformanceMarks=t()),o.MonacoPerformanceMarks}var i;typeof global=="object"?i=global:typeof self=="object"?i=self:i={},typeof vn=="object"&&typeof vn.exports=="object"?vn.exports=r(i):(console.trace("perf-util defined in UNKNOWN context (neither requirejs or commonjs)"),i.perf=r(i))})();var a4=vn.exports.mark,l4=vn.exports.getMarks;var mr=class extends X{constructor(t,r,i,o){super();this._ptyHostStarter=t;this._configurationService=r;this._logService=i;this._loggerService=o;Ms(),this._register(this._ptyHostStarter),this._register(Y(()=>this._disposePtyHost())),this._resolveVariablesRequestStore=this._register(new Ut(void 0,this._logService)),this._register(this._resolveVariablesRequestStore.onCreateRequest(this._onPtyHostRequestResolveVariables.fire,this._onPtyHostRequestResolveVariables)),this._ptyHostStarter.onRequestConnection&&this._register(ne.once(this._ptyHostStarter.onRequestConnection)(()=>this._ensurePtyHost())),this._ptyHostStarter.onWillShutdown&&this._register(this._ptyHostStarter.onWillShutdown(()=>this._wasQuitRequested=!0))}__connection;__proxy;get _connection(){return this._ensurePtyHost(),this.__connection}get _proxy(){return this._ensurePtyHost(),this.__proxy}get _optionalProxy(){return this.__proxy}_ensurePtyHost(){this.__connection||this._startPtyHost()}_resolveVariablesRequestStore;_wasQuitRequested=!1;_restartCount=0;_isResponsive=!0;_heartbeatFirstTimeout;_heartbeatSecondTimeout;_onPtyHostExit=this._register(new k);onPtyHostExit=this._onPtyHostExit.event;_onPtyHostStart=this._register(new k);onPtyHostStart=this._onPtyHostStart.event;_onPtyHostUnresponsive=this._register(new k);onPtyHostUnresponsive=this._onPtyHostUnresponsive.event;_onPtyHostResponsive=this._register(new k);onPtyHostResponsive=this._onPtyHostResponsive.event;_onPtyHostRequestResolveVariables=this._register(new k);onPtyHostRequestResolveVariables=this._onPtyHostRequestResolveVariables.event;_onProcessData=this._register(new k);onProcessData=this._onProcessData.event;_onProcessReady=this._register(new k);onProcessReady=this._onProcessReady.event;_onProcessReplay=this._register(new k);onProcessReplay=this._onProcessReplay.event;_onProcessOrphanQuestion=this._register(new k);onProcessOrphanQuestion=this._onProcessOrphanQuestion.event;_onDidRequestDetach=this._register(new k);onDidRequestDetach=this._onDidRequestDetach.event;_onDidChangeProperty=this._register(new k);onDidChangeProperty=this._onDidChangeProperty.event;_onProcessExit=this._register(new k);onProcessExit=this._onProcessExit.event;get _ignoreProcessNames(){return this._configurationService.getValue("terminal.integrated.ignoreProcessNames")}async _refreshIgnoreProcessNames(){return this._optionalProxy?.refreshIgnoreProcessNames?.(this._ignoreProcessNames)}async _resolveShellEnv(){if(N)return process.env;try{return await Ls(this._configurationService,this._logService,{_:[]},process.env)}catch(t){return this._logService.error("ptyHost was unable to resolve shell environment",t),{}}}_startPtyHost(){let t=this._ptyHostStarter.start(),r=t.client;this._logService.getLevel()===1&&this._logService.trace("PtyHostService#_startPtyHost",new Error().stack?.replace(/^Error/,"")),jn.toService(r.getChannel("heartbeat")).onBeat(()=>this._handleHeartbeat()),this._handleHeartbeat(!0),this._register(t.onDidProcessExit(a=>{this._onPtyHostExit.fire(a.code),!this._wasQuitRequested&&!this._store.isDisposed&&(this._restartCount<=5?(this._logService.error(`ptyHost terminated unexpectedly with code ${a.code}`),this._restartCount++,this.restartPtyHost()):this._logService.error(`ptyHost terminated unexpectedly with code ${a.code}, giving up`))}));let o=jn.toService(r.getChannel("ptyHost"));return this._register(o.onProcessData(a=>this._onProcessData.fire(a))),this._register(o.onProcessReady(a=>this._onProcessReady.fire(a))),this._register(o.onProcessExit(a=>this._onProcessExit.fire(a))),this._register(o.onDidChangeProperty(a=>this._onDidChangeProperty.fire(a))),this._register(o.onProcessReplay(a=>this._onProcessReplay.fire(a))),this._register(o.onProcessOrphanQuestion(a=>this._onProcessOrphanQuestion.fire(a))),this._register(o.onDidRequestDetach(a=>this._onDidRequestDetach.fire(a))),this._register(new Zn(this._loggerService,r.getChannel("logger"))),this.__connection=t,this.__proxy=o,this._onPtyHostStart.fire(),this._register(this._configurationService.onDidChangeConfiguration(async a=>{a.affectsConfiguration("terminal.integrated.ignoreProcessNames")&&await this._refreshIgnoreProcessNames()})),this._refreshIgnoreProcessNames(),[t,o]}async createProcess(t,r,i,o,a,l,u,c,d,p,f){let g=setTimeout(()=>this._handleUnresponsiveCreateProcess(),5e3),I=await this._proxy.createProcess(t,r,i,o,a,l,u,c,d,p,f);return clearTimeout(g),I}updateTitle(t,r,i){return this._proxy.updateTitle(t,r,i)}updateIcon(t,r,i,o){return this._proxy.updateIcon(t,r,i,o)}attachToProcess(t){return this._proxy.attachToProcess(t)}detachFromProcess(t,r){return this._proxy.detachFromProcess(t,r)}shutdownAll(){return this._proxy.shutdownAll()}listProcesses(){return this._proxy.listProcesses()}async getPerformanceMarks(){return this._optionalProxy?.getPerformanceMarks()??[]}async reduceConnectionGraceTime(){return this._optionalProxy?.reduceConnectionGraceTime()}start(t){return this._proxy.start(t)}shutdown(t,r){return this._proxy.shutdown(t,r)}input(t,r){return this._proxy.input(t,r)}processBinary(t,r){return this._proxy.processBinary(t,r)}resize(t,r,i){return this._proxy.resize(t,r,i)}clearBuffer(t){return this._proxy.clearBuffer(t)}acknowledgeDataEvent(t,r){return this._proxy.acknowledgeDataEvent(t,r)}setUnicodeVersion(t,r){return this._proxy.setUnicodeVersion(t,r)}getInitialCwd(t){return this._proxy.getInitialCwd(t)}getCwd(t){return this._proxy.getCwd(t)}async getLatency(){let t=new Et,r=await this._proxy.getLatency();return t.stop(),[{label:"ptyhostservice<->ptyhost",latency:t.elapsed()},...r]}orphanQuestionReply(t){return this._proxy.orphanQuestionReply(t)}installAutoReply(t,r){return this._proxy.installAutoReply(t,r)}uninstallAllAutoReplies(){return this._proxy.uninstallAllAutoReplies()}uninstallAutoReply(t){return this._proxy.uninstallAutoReply(t)}getDefaultSystemShell(t){return this._optionalProxy?.getDefaultSystemShell(t)??ir(t??wn,process.env)}async getProfiles(t,r,i,o=!1){let a=await this._resolveShellEnv();return $s(r,i,o,this._configurationService,a,void 0,this._logService,this._resolveVariables.bind(this,t))}async getEnvironment(){return this.__proxy?this._proxy.getEnvironment():{...process.env}}getWslPath(t,r){return this._proxy.getWslPath(t,r)}getRevivedPtyNewId(t,r){return this._proxy.getRevivedPtyNewId(t,r)}setTerminalLayoutInfo(t){return this._proxy.setTerminalLayoutInfo(t)}async getTerminalLayoutInfo(t){return this._optionalProxy?.getTerminalLayoutInfo(t)}async requestDetachInstance(t,r){return this._proxy.requestDetachInstance(t,r)}async acceptDetachInstanceReply(t,r){return this._proxy.acceptDetachInstanceReply(t,r)}async freePortKillProcess(t){if(!this._proxy.freePortKillProcess)throw new Error("freePortKillProcess does not exist on the pty proxy");return this._proxy.freePortKillProcess(t)}async serializeTerminalState(t){return this._proxy.serializeTerminalState(t)}async reviveTerminalProcesses(t,r,i){return this._proxy.reviveTerminalProcesses(t,r,i)}async refreshProperty(t,r){return this._proxy.refreshProperty(t,r)}async updateProperty(t,r,i){return this._proxy.updateProperty(t,r,i)}async restartPtyHost(){this._disposePtyHost(),this._isResponsive=!0,this._startPtyHost()}_disposePtyHost(){this._proxy.shutdownAll(),this._connection.store.dispose()}_handleHeartbeat(t){this._clearHeartbeatTimeouts(),this._heartbeatFirstTimeout=setTimeout(()=>this._handleHeartbeatFirstTimeout(),t?2e4:5e3*1.2),this._isResponsive||(this._isResponsive=!0,this._onPtyHostResponsive.fire())}_handleHeartbeatFirstTimeout(){this._logService.warn(`No ptyHost heartbeat after ${5e3*1.2/1e3} seconds`),this._heartbeatFirstTimeout=void 0,this._heartbeatSecondTimeout=setTimeout(()=>this._handleHeartbeatSecondTimeout(),5e3*1)}_handleHeartbeatSecondTimeout(){this._logService.error(`No ptyHost heartbeat after ${(5e3*1.2+5e3*1.2)/1e3} seconds`),this._heartbeatSecondTimeout=void 0,this._isResponsive&&(this._isResponsive=!1,this._onPtyHostUnresponsive.fire())}_handleUnresponsiveCreateProcess(){this._clearHeartbeatTimeouts(),this._logService.error(`No ptyHost response to createProcess after ${5e3/1e3} seconds`),this._isResponsive&&(this._isResponsive=!1,this._onPtyHostUnresponsive.fire())}_clearHeartbeatTimeouts(){this._heartbeatFirstTimeout&&(clearTimeout(this._heartbeatFirstTimeout),this._heartbeatFirstTimeout=void 0),this._heartbeatSecondTimeout&&(clearTimeout(this._heartbeatSecondTimeout),this._heartbeatSecondTimeout=void 0)}_resolveVariables(t,r){return this._resolveVariablesRequestStore.createRequest({workspaceId:t,originalText:r})}async acceptPtyHostResolvedVariables(t,r){this._resolveVariablesRequestStore.acceptReply(t,r)}};mr=at([lt(1,Yo),lt(2,Yn),lt(3,fs)],mr);export{mr as PtyHostService};
