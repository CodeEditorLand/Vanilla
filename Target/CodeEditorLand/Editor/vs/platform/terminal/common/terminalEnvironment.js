function g(){return globalThis._VSCODE_NLS_LANGUAGE}var $=g()==="pseudo"||typeof document<"u"&&document.location&&document.location.hash.indexOf("pseudo=true")>=0;var c="en",p=!1,x=!1,f=!1,P=!1,C=!1,I=!1,E=!1,S=!1,W=!1,O=!1,u,d=c,b=c,k,s,a=globalThis,t;typeof a.vscode<"u"&&typeof a.vscode.process<"u"?t=a.vscode.process:typeof process<"u"&&typeof process?.versions?.node=="string"&&(t=process);var h=typeof t?.versions?.electron=="string",w=h&&t?.type==="renderer";if(typeof t=="object"){p=t.platform==="win32",x=t.platform==="darwin",f=t.platform==="linux",P=f&&!!t.env.SNAP&&!!t.env.SNAP_REVISION,E=h,W=!!t.env.CI||!!t.env.BUILD_ARTIFACTSTAGINGDIRECTORY,u=c,d=c;let e=t.env.VSCODE_NLS_CONFIG;if(e)try{let n=JSON.parse(e);u=n.userLocale,b=n.osLocale,d=n.resolvedLanguage||c,k=n.languagePack?.translationsConfigFile}catch{}C=!0}else typeof navigator=="object"&&!w?(s=navigator.userAgent,p=s.indexOf("Windows")>=0,x=s.indexOf("Macintosh")>=0,S=(s.indexOf("Macintosh")>=0||s.indexOf("iPad")>=0||s.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,f=s.indexOf("Linux")>=0,O=s?.indexOf("Mobi")>=0,I=!0,d=g()||c,u=navigator.language.toLowerCase(),b=u):console.error("Unable to resolve platform.");var L=0;x?L=1:p?L=3:f&&(L=2);var A=I&&typeof a.importScripts=="function",G=A?a.origin:void 0;var i=s,l=d,M;(r=>{function e(){return l}r.value=e;function n(){return l.length===2?l==="en":l.length>=3?l[0]==="e"&&l[1]==="n"&&l[2]==="-":!1}r.isDefaultVariant=n;function o(){return l==="en"}r.isDefault=o})(M||={});var F=typeof a.postMessage=="function"&&!a.importScripts,R=(()=>{if(F){let e=[];a.addEventListener("message",o=>{if(o.data&&o.data.vscodeScheduleAsyncWork)for(let r=0,m=e.length;r<m;r++){let y=e[r];if(y.id===o.data.vscodeScheduleAsyncWork){e.splice(r,1),y.callback();return}}});let n=0;return o=>{let r=++n;e.push({id:r,callback:o}),a.postMessage({vscodeScheduleAsyncWork:r},"*")}}return e=>setTimeout(e)})();var v=x||S?2:p?1:3;var z=!!(i&&i.indexOf("Chrome")>=0),V=!!(i&&i.indexOf("Firefox")>=0),j=!!(!z&&i&&i.indexOf("Safari")>=0),B=!!(i&&i.indexOf("Edg/")>=0),Q=!!(i&&i.indexOf("Android")>=0);function K(e){let n=e;n.includes("\\")&&(n=n.replace(/\\/g,"\\\\"));let o=/[\`\$\|\&\>\~\#\!\^\*\;\<\"\']/g;return n=n.replace(o,""),`'${n}'`}function X(e,n,o){if(!e)return"";if(!n)return e;n.match(/[\/\\]$/)&&(n=n.slice(0,n.length-1));let r=e.replace(/\\/g,"/").toLowerCase(),m=n.replace(/\\/g,"/").toLowerCase();return r.includes(m)?`~${o}${e.slice(n.length+1)}`:e}function Z(e){return e.match(/^['"].*['"]$/)&&(e=e.substring(1,e.length-1)),v===1&&e&&e[1]===":"?e[0].toUpperCase()+e.substring(1):e}function H(e){return!e.strictEnv}export{X as collapseTildePath,K as escapeNonWindowsPath,Z as sanitizeCwd,H as shouldUseEnvironmentVariableCollection};
