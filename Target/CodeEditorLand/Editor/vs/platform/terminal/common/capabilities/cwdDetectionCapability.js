import{Emitter as s}from"../../../../../vs/base/common/event.js";import{Disposable as d}from"../../../../../vs/base/common/lifecycle.js";import{TerminalCapability as n}from"../../../../../vs/platform/terminal/common/capabilities/capabilities.js";class C extends d{type=n.CwdDetection;_cwd="";_cwds=new Map;get cwds(){return Array.from(this._cwds.keys())}_onDidChangeCwd=this._register(new s);onDidChangeCwd=this._onDidChangeCwd.event;getCwd(){return this._cwd}updateCwd(t){const i=this._cwd!==t;this._cwd=t;const e=this._cwds.get(this._cwd)||0;this._cwds.delete(this._cwd),this._cwds.set(this._cwd,e+1),i&&this._onDidChangeCwd.fire(t)}}export{C as CwdDetectionCapability};
