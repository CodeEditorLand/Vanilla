{
  "version": 3,
  "sources": ["../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/platform/terminal/common/capabilities/naiveCwdDetectionCapability.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Emitter } from '../../../../base/common/event.js';\nimport { ITerminalChildProcess } from '../terminal.js';\nimport { TerminalCapability, INaiveCwdDetectionCapability } from './capabilities.js';\n\nexport class NaiveCwdDetectionCapability implements INaiveCwdDetectionCapability {\n\tconstructor(private readonly _process: ITerminalChildProcess) { }\n\treadonly type = TerminalCapability.NaiveCwdDetection;\n\tprivate _cwd = '';\n\n\tprivate readonly _onDidChangeCwd = new Emitter<string>();\n\treadonly onDidChangeCwd = this._onDidChangeCwd.event;\n\n\tasync getCwd(): Promise<string> {\n\t\tif (!this._process) {\n\t\t\treturn Promise.resolve('');\n\t\t}\n\t\tconst newCwd = await this._process.getCwd();\n\t\tif (newCwd !== this._cwd) {\n\t\t\tthis._onDidChangeCwd.fire(newCwd);\n\t\t}\n\t\tthis._cwd = newCwd;\n\t\treturn this._cwd;\n\t}\n}\n"],
  "mappings": ";;AAKA,SAAS,eAAe;AACxB,SAAS,6BAA6B;AACtC,SAAS,oBAAoB,oCAAoC;AAE1D,MAAM,4BAAoE;AAAA,EAChF,YAA6B,UAAiC;AAAjC;AAAA,EAAmC;AAAA,EAVjE,OASiF;AAAA;AAAA;AAAA,EAEvE,OAAO,mBAAmB;AAAA,EAC3B,OAAO;AAAA,EAEE,kBAAkB,IAAI,QAAgB;AAAA,EAC9C,iBAAiB,KAAK,gBAAgB;AAAA,EAE/C,MAAM,SAA0B;AAC/B,QAAI,CAAC,KAAK,UAAU;AACnB,aAAO,QAAQ,QAAQ,EAAE;AAAA,IAC1B;AACA,UAAM,SAAS,MAAM,KAAK,SAAS,OAAO;AAC1C,QAAI,WAAW,KAAK,MAAM;AACzB,WAAK,gBAAgB,KAAK,MAAM;AAAA,IACjC;AACA,SAAK,OAAO;AACZ,WAAO,KAAK;AAAA,EACb;AACD;",
  "names": []
}
