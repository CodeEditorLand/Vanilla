import{AbstractMessageLogger as o,DEFAULT_LOG_LEVEL as i,log as s}from"./log.js";class d extends o{buffer=[];_logger=void 0;constructor(e=i){super(),this.setLevel(e),this._register(this.onDidChangeLogLevel(r=>{this._logger?.setLevel(r)}))}set logger(e){this._logger=e;for(const{level:r,message:g}of this.buffer)s(e,r,g);this.buffer=[]}log(e,r){this._logger?s(this._logger,e,r):this.getLevel()<=e&&this.buffer.push({level:e,message:r})}dispose(){this._logger?.dispose(),super.dispose()}flush(){this._logger?.flush()}}export{d as BufferLogger};
