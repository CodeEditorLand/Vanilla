{
  "version": 3,
  "sources": ["../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/api/common/extHostNotebookEditors.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport type * as vscode from \"vscode\";\nimport { Emitter } from \"../../../base/common/event.js\";\nimport { ILogService } from \"../../../platform/log/common/log.js\";\nimport type {\n\tExtHostNotebookEditorsShape,\n\tINotebookEditorPropertiesChangeData,\n\tINotebookEditorViewColumnInfo,\n} from \"./extHost.protocol.js\";\nimport type { ExtHostNotebookController } from \"./extHostNotebook.js\";\nimport * as typeConverters from \"./extHostTypeConverters.js\";\n\nexport class ExtHostNotebookEditors implements ExtHostNotebookEditorsShape {\n\tprivate readonly _onDidChangeNotebookEditorSelection =\n\t\tnew Emitter<vscode.NotebookEditorSelectionChangeEvent>();\n\tprivate readonly _onDidChangeNotebookEditorVisibleRanges =\n\t\tnew Emitter<vscode.NotebookEditorVisibleRangesChangeEvent>();\n\n\treadonly onDidChangeNotebookEditorSelection =\n\t\tthis._onDidChangeNotebookEditorSelection.event;\n\treadonly onDidChangeNotebookEditorVisibleRanges =\n\t\tthis._onDidChangeNotebookEditorVisibleRanges.event;\n\n\tconstructor(\n\t\t@ILogService private readonly _logService: ILogService,\n\t\tprivate readonly _notebooksAndEditors: ExtHostNotebookController,\n\t) { }\n\n\t$acceptEditorPropertiesChanged(\n\t\tid: string,\n\t\tdata: INotebookEditorPropertiesChangeData,\n\t): void {\n\t\tthis._logService.debug(\n\t\t\t\"ExtHostNotebook#$acceptEditorPropertiesChanged\",\n\t\t\tid,\n\t\t\tdata,\n\t\t);\n\t\tconst editor = this._notebooksAndEditors.getEditorById(id);\n\t\t// ONE: make all state updates\n\t\tif (data.visibleRanges) {\n\t\t\teditor._acceptVisibleRanges(\n\t\t\t\tdata.visibleRanges.ranges.map(typeConverters.NotebookRange.to),\n\t\t\t);\n\t\t}\n\t\tif (data.selections) {\n\t\t\teditor._acceptSelections(\n\t\t\t\tdata.selections.selections.map(typeConverters.NotebookRange.to),\n\t\t\t);\n\t\t}\n\n\t\t// TWO: send all events after states have been updated\n\t\tif (data.visibleRanges) {\n\t\t\tthis._onDidChangeNotebookEditorVisibleRanges.fire({\n\t\t\t\tnotebookEditor: editor.apiEditor,\n\t\t\t\tvisibleRanges: editor.apiEditor.visibleRanges,\n\t\t\t});\n\t\t}\n\t\tif (data.selections) {\n\t\t\tthis._onDidChangeNotebookEditorSelection.fire(\n\t\t\t\tObject.freeze({\n\t\t\t\t\tnotebookEditor: editor.apiEditor,\n\t\t\t\t\tselections: editor.apiEditor.selections,\n\t\t\t\t}),\n\t\t\t);\n\t\t}\n\t}\n\n\t$acceptEditorViewColumns(data: INotebookEditorViewColumnInfo): void {\n\t\tfor (const id in data) {\n\t\t\tconst editor = this._notebooksAndEditors.getEditorById(id);\n\t\t\teditor._acceptViewColumn(typeConverters.ViewColumn.to(data[id]));\n\t\t}\n\t}\n}\n"],
  "mappings": ";;;;;;;;;;;;AAMA,SAAS,eAAe;AACxB,SAAS,mBAAmB;AAO5B,YAAY,oBAAoB;AAEzB,IAAM,yBAAN,MAAoE;AAAA,EAW1E,YAC+B,aACb,sBAChB;AAF6B;AACb;AAAA,EACd;AAAA,EA9BL,OAgB2E;AAAA;AAAA;AAAA,EACzD,sCAChB,IAAI,QAAmD;AAAA,EACvC,0CAChB,IAAI,QAAuD;AAAA,EAEnD,qCACR,KAAK,oCAAoC;AAAA,EACjC,yCACR,KAAK,wCAAwC;AAAA,EAO9C,+BACC,IACA,MACO;AACP,SAAK,YAAY;AAAA,MAChB;AAAA,MACA;AAAA,MACA;AAAA,IACD;AACA,UAAM,SAAS,KAAK,qBAAqB,cAAc,EAAE;AAEzD,QAAI,KAAK,eAAe;AACvB,aAAO;AAAA,QACN,KAAK,cAAc,OAAO,IAAI,eAAe,cAAc,EAAE;AAAA,MAC9D;AAAA,IACD;AACA,QAAI,KAAK,YAAY;AACpB,aAAO;AAAA,QACN,KAAK,WAAW,WAAW,IAAI,eAAe,cAAc,EAAE;AAAA,MAC/D;AAAA,IACD;AAGA,QAAI,KAAK,eAAe;AACvB,WAAK,wCAAwC,KAAK;AAAA,QACjD,gBAAgB,OAAO;AAAA,QACvB,eAAe,OAAO,UAAU;AAAA,MACjC,CAAC;AAAA,IACF;AACA,QAAI,KAAK,YAAY;AACpB,WAAK,oCAAoC;AAAA,QACxC,OAAO,OAAO;AAAA,UACb,gBAAgB,OAAO;AAAA,UACvB,YAAY,OAAO,UAAU;AAAA,QAC9B,CAAC;AAAA,MACF;AAAA,IACD;AAAA,EACD;AAAA,EAEA,yBAAyB,MAA2C;AACnE,eAAW,MAAM,MAAM;AACtB,YAAM,SAAS,KAAK,qBAAqB,cAAc,EAAE;AACzD,aAAO,kBAAkB,eAAe,WAAW,GAAG,KAAK,EAAE,CAAC,CAAC;AAAA,IAChE;AAAA,EACD;AACD;AA7Da,yBAAN;AAAA,EAYJ;AAAA,GAZU;",
  "names": []
}
