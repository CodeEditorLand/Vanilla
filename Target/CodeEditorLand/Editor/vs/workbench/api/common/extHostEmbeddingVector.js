import{MainContext as n}from"./extHost.protocol.js";import{Disposable as d}from"./extHostTypes.js";class p{_AiEmbeddingVectorProviders=new Map;_nextHandle=0;_proxy;constructor(r){this._proxy=r.getProxy(n.MainThreadAiEmbeddingVector)}async $provideAiEmbeddingVector(r,i,t){if(this._AiEmbeddingVectorProviders.size===0)throw new Error("No embedding vector providers registered");const e=this._AiEmbeddingVectorProviders.get(r);if(!e)throw new Error("Embedding vector provider not found");const o=await e.provideEmbeddingVector(i,t);if(!o)throw new Error("Embedding vector provider returned undefined");return o}registerEmbeddingVectorProvider(r,i,t){const e=this._nextHandle;return this._nextHandle++,this._AiEmbeddingVectorProviders.set(e,t),this._proxy.$registerAiEmbeddingVectorProvider(i,e),new d(()=>{this._proxy.$unregisterAiEmbeddingVectorProvider(e),this._AiEmbeddingVectorProviders.delete(e)})}}export{p as ExtHostAiEmbeddingVector};
