{
  "version": 3,
  "sources": ["../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/api/common/extHostInteractive.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { URI, UriComponents } from '../../../base/common/uri.js';\nimport { ILogService } from '../../../platform/log/common/log.js';\nimport { ExtHostInteractiveShape, IMainContext } from './extHost.protocol.js';\nimport { ApiCommand, ApiCommandArgument, ApiCommandResult, ExtHostCommands } from './extHostCommands.js';\nimport { ExtHostDocumentsAndEditors } from './extHostDocumentsAndEditors.js';\nimport { ExtHostNotebookController } from './extHostNotebook.js';\nimport { NotebookEditor } from 'vscode';\n\nexport class ExtHostInteractive implements ExtHostInteractiveShape {\n\tconstructor(\n\t\tmainContext: IMainContext,\n\t\tprivate _extHostNotebooks: ExtHostNotebookController,\n\t\tprivate _textDocumentsAndEditors: ExtHostDocumentsAndEditors,\n\t\tprivate _commands: ExtHostCommands,\n\t\t_logService: ILogService\n\t) {\n\t\tconst openApiCommand = new ApiCommand(\n\t\t\t'interactive.open',\n\t\t\t'_interactive.open',\n\t\t\t'Open interactive window and return notebook editor and input URI',\n\t\t\t[\n\t\t\t\tnew ApiCommandArgument('showOptions', 'Show Options', v => true, v => v),\n\t\t\t\tnew ApiCommandArgument('resource', 'Interactive resource Uri', v => true, v => v),\n\t\t\t\tnew ApiCommandArgument('controllerId', 'Notebook controller Id', v => true, v => v),\n\t\t\t\tnew ApiCommandArgument('title', 'Interactive editor title', v => true, v => v)\n\t\t\t],\n\t\t\tnew ApiCommandResult<{ notebookUri: UriComponents; inputUri: UriComponents; notebookEditorId?: string }, { notebookUri: URI; inputUri: URI; notebookEditor?: NotebookEditor }>('Notebook and input URI', (v: { notebookUri: UriComponents; inputUri: UriComponents; notebookEditorId?: string }) => {\n\t\t\t\t_logService.debug('[ExtHostInteractive] open iw with notebook editor id', v.notebookEditorId);\n\t\t\t\tif (v.notebookEditorId !== undefined) {\n\t\t\t\t\tconst editor = this._extHostNotebooks.getEditorById(v.notebookEditorId);\n\t\t\t\t\t_logService.debug('[ExtHostInteractive] notebook editor found', editor.id);\n\t\t\t\t\treturn { notebookUri: URI.revive(v.notebookUri), inputUri: URI.revive(v.inputUri), notebookEditor: editor.apiEditor };\n\t\t\t\t}\n\t\t\t\t_logService.debug('[ExtHostInteractive] notebook editor not found, uris for the interactive document', v.notebookUri, v.inputUri);\n\t\t\t\treturn { notebookUri: URI.revive(v.notebookUri), inputUri: URI.revive(v.inputUri) };\n\t\t\t})\n\t\t);\n\t\tthis._commands.registerApiCommand(openApiCommand);\n\t}\n\n\t$willAddInteractiveDocument(uri: UriComponents, eol: string, languageId: string, notebookUri: UriComponents) {\n\t\tthis._textDocumentsAndEditors.acceptDocumentsAndEditorsDelta({\n\t\t\taddedDocuments: [{\n\t\t\t\tEOL: eol,\n\t\t\t\tlines: [''],\n\t\t\t\tlanguageId: languageId,\n\t\t\t\turi: uri,\n\t\t\t\tisDirty: false,\n\t\t\t\tversionId: 1,\n\t\t\t}]\n\t\t});\n\t}\n\n\t$willRemoveInteractiveDocument(uri: UriComponents, notebookUri: UriComponents) {\n\t\tthis._textDocumentsAndEditors.acceptDocumentsAndEditorsDelta({\n\t\t\tremovedDocuments: [uri]\n\t\t});\n\t}\n}\n"],
  "mappings": ";;AAKA,SAAS,KAAK,qBAAqB;AACnC,SAAS,mBAAmB;AAC5B,SAAS,yBAAyB,oBAAoB;AACtD,SAAS,YAAY,oBAAoB,kBAAkB,uBAAuB;AAClF,SAAS,kCAAkC;AAC3C,SAAS,iCAAiC;AAC1C,SAAS,sBAAsB;AAExB,MAAM,mBAAsD;AAAA,EAClE,YACC,aACQ,mBACA,0BACA,WACR,aACC;AAJO;AACA;AACA;AAGR,UAAM,iBAAiB,IAAI;AAAA,MAC1B;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,QACC,IAAI,mBAAmB,eAAe,gBAAgB,OAAK,MAAM,OAAK,CAAC;AAAA,QACvE,IAAI,mBAAmB,YAAY,4BAA4B,OAAK,MAAM,OAAK,CAAC;AAAA,QAChF,IAAI,mBAAmB,gBAAgB,0BAA0B,OAAK,MAAM,OAAK,CAAC;AAAA,QAClF,IAAI,mBAAmB,SAAS,4BAA4B,OAAK,MAAM,OAAK,CAAC;AAAA,MAC9E;AAAA,MACA,IAAI,iBAA2K,0BAA0B,CAAC,MAA0F;AACnS,oBAAY,MAAM,wDAAwD,EAAE,gBAAgB;AAC5F,YAAI,EAAE,qBAAqB,QAAW;AACrC,gBAAM,SAAS,KAAK,kBAAkB,cAAc,EAAE,gBAAgB;AACtE,sBAAY,MAAM,8CAA8C,OAAO,EAAE;AACzE,iBAAO,EAAE,aAAa,IAAI,OAAO,EAAE,WAAW,GAAG,UAAU,IAAI,OAAO,EAAE,QAAQ,GAAG,gBAAgB,OAAO,UAAU;AAAA,QACrH;AACA,oBAAY,MAAM,qFAAqF,EAAE,aAAa,EAAE,QAAQ;AAChI,eAAO,EAAE,aAAa,IAAI,OAAO,EAAE,WAAW,GAAG,UAAU,IAAI,OAAO,EAAE,QAAQ,EAAE;AAAA,MACnF,CAAC;AAAA,IACF;AACA,SAAK,UAAU,mBAAmB,cAAc;AAAA,EACjD;AAAA,EA3CD,OAamE;AAAA;AAAA;AAAA,EAgClE,4BAA4B,KAAoB,KAAa,YAAoB,aAA4B;AAC5G,SAAK,yBAAyB,+BAA+B;AAAA,MAC5D,gBAAgB,CAAC;AAAA,QAChB,KAAK;AAAA,QACL,OAAO,CAAC,EAAE;AAAA,QACV;AAAA,QACA;AAAA,QACA,SAAS;AAAA,QACT,WAAW;AAAA,MACZ,CAAC;AAAA,IACF,CAAC;AAAA,EACF;AAAA,EAEA,+BAA+B,KAAoB,aAA4B;AAC9E,SAAK,yBAAyB,+BAA+B;AAAA,MAC5D,kBAAkB,CAAC,GAAG;AAAA,IACvB,CAAC;AAAA,EACF;AACD;",
  "names": []
}
