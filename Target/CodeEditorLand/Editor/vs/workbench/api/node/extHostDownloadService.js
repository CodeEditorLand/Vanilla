var c=Object.defineProperty;var f=Object.getOwnPropertyDescriptor;var p=(i,r,m,t)=>{for(var o=t>1?void 0:t?f(r,m):r,e=i.length-1,s;e>=0;e--)(s=i[e])&&(o=(t?s(r,m,o):s(o))||o);return t&&o&&c(r,m,o),o},a=(i,r)=>(m,t)=>r(m,t,i);import{join as d}from"../../../base/common/path.js";import{tmpdir as x}from"os";import{generateUuid as I}from"../../../base/common/uuid.js";import{IExtHostCommands as l}from"../common/extHostCommands.js";import{Disposable as u}from"../../../base/common/lifecycle.js";import{MainContext as R}from"../common/extHost.protocol.js";import{URI as y}from"../../../base/common/uri.js";import{IExtHostRpcService as C}from"../common/extHostRpcService.js";let n=class extends u{constructor(r,m){super();const t=r.getProxy(R.MainThreadDownloadService);m.registerCommand(!1,"_workbench.downloadResource",async o=>{const e=y.file(d(x(),I()));return await t.$download(o,e),e})}};n=p([a(0,C),a(1,l)],n);export{n as ExtHostDownloadService};
