import { Disposable } from "vs/base/common/lifecycle";
import { UriComponents } from "vs/base/common/uri";
import { ILanguageFeaturesService } from "vs/editor/common/services/languageFeatures";
import { ExtensionIdentifier } from "vs/platform/extensions/common/extensions";
import { IInstantiationService } from "vs/platform/instantiation/common/instantiation";
import { ILogService } from "vs/platform/log/common/log";
import { IChatProgressDto, IDynamicChatAgentProps, IExtensionChatAgentMetadata, MainThreadChatAgentsShape2 } from "vs/workbench/api/common/extHost.protocol";
import { IChatWidgetService } from "vs/workbench/contrib/chat/browser/chat";
import { IChatAgentService } from "vs/workbench/contrib/chat/common/chatAgents";
import { IChatService } from "vs/workbench/contrib/chat/common/chatService";
import { IExtensionService } from "vs/workbench/services/extensions/common/extensions";
import { IExtHostContext } from "vs/workbench/services/extensions/common/extHostCustomers";
export declare class MainThreadChatAgents2 extends Disposable implements MainThreadChatAgentsShape2 {
    private readonly _chatAgentService;
    private readonly _chatService;
    private readonly _languageFeaturesService;
    private readonly _chatWidgetService;
    private readonly _instantiationService;
    private readonly _logService;
    private readonly _extensionService;
    private readonly _agents;
    private readonly _agentCompletionProviders;
    private readonly _agentIdsToCompletionProviders;
    private readonly _chatParticipantDetectionProviders;
    private readonly _pendingProgress;
    private readonly _proxy;
    private _responsePartHandlePool;
    private readonly _activeTasks;
    constructor(extHostContext: IExtHostContext, _chatAgentService: IChatAgentService, _chatService: IChatService, _languageFeaturesService: ILanguageFeaturesService, _chatWidgetService: IChatWidgetService, _instantiationService: IInstantiationService, _logService: ILogService, _extensionService: IExtensionService);
    $unregisterAgent(handle: number): void;
    $transferActiveChatSession(toWorkspace: UriComponents): void;
    $registerAgent(handle: number, extension: ExtensionIdentifier, id: string, metadata: IExtensionChatAgentMetadata, dynamicProps: IDynamicChatAgentProps | undefined): void;
    $updateAgent(handle: number, metadataUpdate: IExtensionChatAgentMetadata): void;
    $handleProgressChunk(requestId: string, progress: IChatProgressDto, responsePartHandle?: number): Promise<number | void>;
    $registerAgentCompletionsProvider(handle: number, id: string, triggerCharacters: string[]): void;
    $unregisterAgentCompletionsProvider(handle: number, id: string): void;
    $registerChatParticipantDetectionProvider(handle: number): void;
    $unregisterChatParticipantDetectionProvider(handle: number): void;
}
