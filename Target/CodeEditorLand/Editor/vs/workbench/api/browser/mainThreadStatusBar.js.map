{
  "version": 3,
  "sources": ["../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/api/browser/mainThreadStatusBar.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport type { IMarkdownString } from \"../../../base/common/htmlContent.js\";\nimport {\n\tDisposableStore,\n\ttoDisposable,\n} from \"../../../base/common/lifecycle.js\";\nimport type { ThemeColor } from \"../../../base/common/themables.js\";\nimport type { Command } from \"../../../editor/common/languages.js\";\nimport type { IAccessibilityInformation } from \"../../../platform/accessibility/common/accessibility.js\";\nimport {\n\ttype IExtHostContext,\n\textHostNamedCustomer,\n} from \"../../services/extensions/common/extHostCustomers.js\";\nimport {\n\ttype IStatusbarEntry,\n\tStatusbarAlignment,\n} from \"../../services/statusbar/browser/statusbar.js\";\nimport {\n\tExtHostContext,\n\tMainContext,\n\ttype MainThreadStatusBarShape,\n\ttype StatusBarItemDto,\n} from \"../common/extHost.protocol.js\";\nimport {\n\tIExtensionStatusBarItemService,\n\tStatusBarUpdateKind,\n} from \"./statusBarExtensionPoint.js\";\n\n@extHostNamedCustomer(MainContext.MainThreadStatusBar)\nexport class MainThreadStatusBar implements MainThreadStatusBarShape {\n\tprivate readonly _store = new DisposableStore();\n\n\tconstructor(\n\t\textHostContext: IExtHostContext,\n\t\t@IExtensionStatusBarItemService private readonly statusbarService: IExtensionStatusBarItemService\n\t) {\n\t\tconst proxy = extHostContext.getProxy(ExtHostContext.ExtHostStatusBar);\n\n\t\t// once, at startup read existing items and send them over\n\t\tconst entries: StatusBarItemDto[] = [];\n\t\tfor (const [entryId, item] of statusbarService.getEntries()) {\n\t\t\tentries.push(asDto(entryId, item));\n\t\t}\n\n\t\tproxy.$acceptStaticEntries(entries);\n\n\t\tthis._store.add(statusbarService.onDidChange(e => {\n\t\t\tif (e.added) {\n\t\t\t\tproxy.$acceptStaticEntries([asDto(e.added[0], e.added[1])]);\n\t\t\t}\n\t\t}));\n\n\t\tfunction asDto(entryId: string, item: { entry: IStatusbarEntry; alignment: StatusbarAlignment; priority: number }): StatusBarItemDto {\n\t\t\treturn {\n\t\t\t\tentryId,\n\t\t\t\tname: item.entry.name,\n\t\t\t\ttext: item.entry.text,\n\t\t\t\ttooltip: item.entry.tooltip as string | undefined,\n\t\t\t\tcommand: typeof item.entry.command === 'string' ? item.entry.command : typeof item.entry.command === 'object' ? item.entry.command.id : undefined,\n\t\t\t\tpriority: item.priority,\n\t\t\t\talignLeft: item.alignment === StatusbarAlignment.LEFT,\n\t\t\t\taccessibilityInformation: item.entry.ariaLabel ? { label: item.entry.ariaLabel, role: item.entry.role } : undefined\n\t\t\t};\n\t\t}\n\t}\n\n\tdispose(): void {\n\t\tthis._store.dispose();\n\t}\n\n\t$setEntry(\n\t\tentryId: string,\n\t\tid: string,\n\t\textensionId: string | undefined,\n\t\tname: string,\n\t\ttext: string,\n\t\ttooltip: IMarkdownString | string | undefined,\n\t\tcommand: Command | undefined,\n\t\tcolor: string | ThemeColor | undefined,\n\t\tbackgroundColor: ThemeColor | undefined,\n\t\talignLeft: boolean,\n\t\tpriority: number | undefined,\n\t\taccessibilityInformation: IAccessibilityInformation | undefined,\n\t): void {\n\t\tconst kind = this.statusbarService.setOrUpdateEntry(\n\t\t\tentryId,\n\t\t\tid,\n\t\t\textensionId,\n\t\t\tname,\n\t\t\ttext,\n\t\t\ttooltip,\n\t\t\tcommand,\n\t\t\tcolor,\n\t\t\tbackgroundColor,\n\t\t\talignLeft,\n\t\t\tpriority,\n\t\t\taccessibilityInformation,\n\t\t);\n\t\tif (kind === StatusBarUpdateKind.DidDefine) {\n\t\t\tthis._store.add(\n\t\t\t\ttoDisposable(() => this.statusbarService.unsetEntry(entryId)),\n\t\t\t);\n\t\t}\n\t}\n\n\t$disposeEntry(entryId: string) {\n\t\tthis.statusbarService.unsetEntry(entryId);\n\t}\n}\n"],
  "mappings": ";;;;;;;;;;;;AAMA;AAAA,EACC;AAAA,EACA;AAAA,OACM;AAIP;AAAA,EAEC;AAAA,OACM;AACP;AAAA,EAEC;AAAA,OACM;AACP;AAAA,EACC;AAAA,EACA;AAAA,OAGM;AACP;AAAA,EACC;AAAA,EACA;AAAA,OACM;AAGA,IAAM,sBAAN,MAA8D;AAAA,EAGpE,YACC,gBACiD,kBAChD;AADgD;AAEjD,UAAM,QAAQ,eAAe,SAAS,eAAe,gBAAgB;AAGrE,UAAM,UAA8B,CAAC;AACrC,eAAW,CAAC,SAAS,IAAI,KAAK,iBAAiB,WAAW,GAAG;AAC5D,cAAQ,KAAK,MAAM,SAAS,IAAI,CAAC;AAAA,IAClC;AAEA,UAAM,qBAAqB,OAAO;AAElC,SAAK,OAAO,IAAI,iBAAiB,YAAY,OAAK;AACjD,UAAI,EAAE,OAAO;AACZ,cAAM,qBAAqB,CAAC,MAAM,EAAE,MAAM,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC;AAAA,MAC3D;AAAA,IACD,CAAC,CAAC;AAEF,aAAS,MAAM,SAAiB,MAAqG;AACpI,aAAO;AAAA,QACN;AAAA,QACA,MAAM,KAAK,MAAM;AAAA,QACjB,MAAM,KAAK,MAAM;AAAA,QACjB,SAAS,KAAK,MAAM;AAAA,QACpB,SAAS,OAAO,KAAK,MAAM,YAAY,WAAW,KAAK,MAAM,UAAU,OAAO,KAAK,MAAM,YAAY,WAAW,KAAK,MAAM,QAAQ,KAAK;AAAA,QACxI,UAAU,KAAK;AAAA,QACf,WAAW,KAAK,cAAc,mBAAmB;AAAA,QACjD,0BAA0B,KAAK,MAAM,YAAY,EAAE,OAAO,KAAK,MAAM,WAAW,MAAM,KAAK,MAAM,KAAK,IAAI;AAAA,MAC3G;AAAA,IACD;AAXS;AAAA,EAYV;AAAA,EAlCiB,SAAS,IAAI,gBAAgB;AAAA,EAoC9C,UAAgB;AACf,SAAK,OAAO,QAAQ;AAAA,EACrB;AAAA,EAEA,UACC,SACA,IACA,aACA,MACA,MACA,SACA,SACA,OACA,iBACA,WACA,UACA,0BACO;AACP,UAAM,OAAO,KAAK,iBAAiB;AAAA,MAClC;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACD;AACA,QAAI,SAAS,oBAAoB,WAAW;AAC3C,WAAK,OAAO;AAAA,QACX,aAAa,MAAM,KAAK,iBAAiB,WAAW,OAAO,CAAC;AAAA,MAC7D;AAAA,IACD;AAAA,EACD;AAAA,EAEA,cAAc,SAAiB;AAC9B,SAAK,iBAAiB,WAAW,OAAO;AAAA,EACzC;AACD;AA/EqE;AAAxD,sBAAN;AAAA,EADN,qBAAqB,YAAY,mBAAmB;AAAA,EAMlD;AAAA,GALU;",
  "names": []
}
