{
  "version": 3,
  "sources": ["../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/api/test/browser/extHostDocumentSaveParticipant.test.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport assert from 'assert';\nimport { URI } from '../../../../base/common/uri.js';\nimport { ExtHostDocuments } from '../../common/extHostDocuments.js';\nimport { ExtHostDocumentsAndEditors } from '../../common/extHostDocumentsAndEditors.js';\nimport { TextDocumentSaveReason, TextEdit, Position, EndOfLine } from '../../common/extHostTypes.js';\nimport { MainThreadTextEditorsShape, IWorkspaceEditDto, IWorkspaceTextEditDto, MainThreadBulkEditsShape } from '../../common/extHost.protocol.js';\nimport { ExtHostDocumentSaveParticipant } from '../../common/extHostDocumentSaveParticipant.js';\nimport { SingleProxyRPCProtocol } from '../common/testRPCProtocol.js';\nimport { SaveReason } from '../../../common/editor.js';\nimport type * as vscode from 'vscode';\nimport { mock } from '../../../../base/test/common/mock.js';\nimport { NullLogService } from '../../../../platform/log/common/log.js';\nimport { nullExtensionDescription } from '../../../services/extensions/common/extensions.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../base/test/common/utils.js';\nimport { SerializableObjectWithBuffers } from '../../../services/extensions/common/proxyIdentifier.js';\n\nfunction timeout(n: number) {\n\treturn new Promise(resolve => setTimeout(resolve, n));\n}\n\nsuite('ExtHostDocumentSaveParticipant', () => {\n\n\tconst resource = URI.parse('foo:bar');\n\tconst mainThreadBulkEdits = new class extends mock<MainThreadBulkEditsShape>() { };\n\tlet documents: ExtHostDocuments;\n\tconst nullLogService = new NullLogService();\n\n\tsetup(() => {\n\t\tconst documentsAndEditors = new ExtHostDocumentsAndEditors(SingleProxyRPCProtocol(null), new NullLogService());\n\t\tdocumentsAndEditors.$acceptDocumentsAndEditorsDelta({\n\t\t\taddedDocuments: [{\n\t\t\t\tisDirty: false,\n\t\t\t\tlanguageId: 'foo',\n\t\t\t\turi: resource,\n\t\t\t\tversionId: 1,\n\t\t\t\tlines: ['foo'],\n\t\t\t\tEOL: '\\n',\n\t\t\t}]\n\t\t});\n\t\tdocuments = new ExtHostDocuments(SingleProxyRPCProtocol(null), documentsAndEditors);\n\t});\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('no listeners, no problem', () => {\n\t\tconst participant = new ExtHostDocumentSaveParticipant(nullLogService, documents, mainThreadBulkEdits);\n\t\treturn participant.$participateInSave(resource, SaveReason.EXPLICIT).then(() => assert.ok(true));\n\t});\n\n\ttest('event delivery', () => {\n\t\tconst participant = new ExtHostDocumentSaveParticipant(nullLogService, documents, mainThreadBulkEdits);\n\n\t\tlet event: vscode.TextDocumentWillSaveEvent;\n\t\tconst sub = participant.getOnWillSaveTextDocumentEvent(nullExtensionDescription)(function (e) {\n\t\t\tevent = e;\n\t\t});\n\n\t\treturn participant.$participateInSave(resource, SaveReason.EXPLICIT).then(() => {\n\t\t\tsub.dispose();\n\n\t\t\tassert.ok(event);\n\t\t\tassert.strictEqual(event.reason, TextDocumentSaveReason.Manual);\n\t\t\tassert.strictEqual(typeof event.waitUntil, 'function');\n\t\t});\n\t});\n\n\ttest('event delivery, immutable', () => {\n\t\tconst participant = new ExtHostDocumentSaveParticipant(nullLogService, documents, mainThreadBulkEdits);\n\n\t\tlet event: vscode.TextDocumentWillSaveEvent;\n\t\tconst sub = participant.getOnWillSaveTextDocumentEvent(nullExtensionDescription)(function (e) {\n\t\t\tevent = e;\n\t\t});\n\n\t\treturn participant.$participateInSave(resource, SaveReason.EXPLICIT).then(() => {\n\t\t\tsub.dispose();\n\n\t\t\tassert.ok(event);\n\t\t\tassert.throws(() => { (event.document as any) = null!; });\n\t\t});\n\t});\n\n\ttest('event delivery, bad listener', () => {\n\t\tconst participant = new ExtHostDocumentSaveParticipant(nullLogService, documents, mainThreadBulkEdits);\n\n\t\tconst sub = participant.getOnWillSaveTextDocumentEvent(nullExtensionDescription)(function (e) {\n\t\t\tthrow new Error('\uD83D\uDC80');\n\t\t});\n\n\t\treturn participant.$participateInSave(resource, SaveReason.EXPLICIT).then(values => {\n\t\t\tsub.dispose();\n\n\t\t\tconst [first] = values;\n\t\t\tassert.strictEqual(first, false);\n\t\t});\n\t});\n\n\ttest('event delivery, bad listener doesn\\'t prevent more events', () => {\n\t\tconst participant = new ExtHostDocumentSaveParticipant(nullLogService, documents, mainThreadBulkEdits);\n\n\t\tconst sub1 = participant.getOnWillSaveTextDocumentEvent(nullExtensionDescription)(function (e) {\n\t\t\tthrow new Error('\uD83D\uDC80');\n\t\t});\n\t\tlet event: vscode.TextDocumentWillSaveEvent;\n\t\tconst sub2 = participant.getOnWillSaveTextDocumentEvent(nullExtensionDescription)(function (e) {\n\t\t\tevent = e;\n\t\t});\n\n\t\treturn participant.$participateInSave(resource, SaveReason.EXPLICIT).then(() => {\n\t\t\tsub1.dispose();\n\t\t\tsub2.dispose();\n\n\t\t\tassert.ok(event);\n\t\t});\n\t});\n\n\ttest('event delivery, in subscriber order', () => {\n\t\tconst participant = new ExtHostDocumentSaveParticipant(nullLogService, documents, mainThreadBulkEdits);\n\n\t\tlet counter = 0;\n\t\tconst sub1 = participant.getOnWillSaveTextDocumentEvent(nullExtensionDescription)(function (event) {\n\t\t\tassert.strictEqual(counter++, 0);\n\t\t});\n\n\t\tconst sub2 = participant.getOnWillSaveTextDocumentEvent(nullExtensionDescription)(function (event) {\n\t\t\tassert.strictEqual(counter++, 1);\n\t\t});\n\n\t\treturn participant.$participateInSave(resource, SaveReason.EXPLICIT).then(() => {\n\t\t\tsub1.dispose();\n\t\t\tsub2.dispose();\n\t\t});\n\t});\n\n\ttest('event delivery, ignore bad listeners', async () => {\n\t\tconst participant = new ExtHostDocumentSaveParticipant(nullLogService, documents, mainThreadBulkEdits, { timeout: 5, errors: 1 });\n\n\t\tlet callCount = 0;\n\t\tconst sub = participant.getOnWillSaveTextDocumentEvent(nullExtensionDescription)(function (event) {\n\t\t\tcallCount += 1;\n\t\t\tthrow new Error('boom');\n\t\t});\n\n\t\tawait participant.$participateInSave(resource, SaveReason.EXPLICIT);\n\t\tawait participant.$participateInSave(resource, SaveReason.EXPLICIT);\n\t\tawait participant.$participateInSave(resource, SaveReason.EXPLICIT);\n\t\tawait participant.$participateInSave(resource, SaveReason.EXPLICIT);\n\n\t\tsub.dispose();\n\t\tassert.strictEqual(callCount, 2);\n\t});\n\n\ttest('event delivery, overall timeout', async function () {\n\t\tconst participant = new ExtHostDocumentSaveParticipant(nullLogService, documents, mainThreadBulkEdits, { timeout: 20, errors: 5 });\n\n\t\t// let callCount = 0;\n\t\tconst calls: number[] = [];\n\t\tconst sub1 = participant.getOnWillSaveTextDocumentEvent(nullExtensionDescription)(function (event) {\n\t\t\tcalls.push(1);\n\t\t});\n\n\t\tconst sub2 = participant.getOnWillSaveTextDocumentEvent(nullExtensionDescription)(function (event) {\n\t\t\tcalls.push(2);\n\t\t\tevent.waitUntil(timeout(100));\n\t\t});\n\n\t\tconst sub3 = participant.getOnWillSaveTextDocumentEvent(nullExtensionDescription)(function (event) {\n\t\t\tcalls.push(3);\n\t\t});\n\n\t\tconst values = await participant.$participateInSave(resource, SaveReason.EXPLICIT);\n\t\tsub1.dispose();\n\t\tsub2.dispose();\n\t\tsub3.dispose();\n\t\tassert.deepStrictEqual(calls, [1, 2]);\n\t\tassert.strictEqual(values.length, 2);\n\t});\n\n\ttest('event delivery, waitUntil', () => {\n\t\tconst participant = new ExtHostDocumentSaveParticipant(nullLogService, documents, mainThreadBulkEdits);\n\n\t\tconst sub = participant.getOnWillSaveTextDocumentEvent(nullExtensionDescription)(function (event) {\n\n\t\t\tevent.waitUntil(timeout(10));\n\t\t\tevent.waitUntil(timeout(10));\n\t\t\tevent.waitUntil(timeout(10));\n\t\t});\n\n\t\treturn participant.$participateInSave(resource, SaveReason.EXPLICIT).then(() => {\n\t\t\tsub.dispose();\n\t\t});\n\n\t});\n\n\ttest('event delivery, waitUntil must be called sync', () => {\n\t\tconst participant = new ExtHostDocumentSaveParticipant(nullLogService, documents, mainThreadBulkEdits);\n\n\t\tconst sub = participant.getOnWillSaveTextDocumentEvent(nullExtensionDescription)(function (event) {\n\n\t\t\tevent.waitUntil(new Promise<undefined>((resolve, reject) => {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tassert.throws(() => event.waitUntil(timeout(10)));\n\t\t\t\t\t\tresolve(undefined);\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\treject(e);\n\t\t\t\t\t}\n\n\t\t\t\t}, 10);\n\t\t\t}));\n\t\t});\n\n\t\treturn participant.$participateInSave(resource, SaveReason.EXPLICIT).then(() => {\n\t\t\tsub.dispose();\n\t\t});\n\t});\n\n\ttest('event delivery, waitUntil will timeout', function () {\n\n\t\tconst participant = new ExtHostDocumentSaveParticipant(nullLogService, documents, mainThreadBulkEdits, { timeout: 5, errors: 3 });\n\n\t\tconst sub = participant.getOnWillSaveTextDocumentEvent(nullExtensionDescription)(function (event) {\n\t\t\tevent.waitUntil(timeout(100));\n\t\t});\n\n\t\treturn participant.$participateInSave(resource, SaveReason.EXPLICIT).then(values => {\n\t\t\tsub.dispose();\n\n\t\t\tconst [first] = values;\n\t\t\tassert.strictEqual(first, false);\n\t\t});\n\t});\n\n\ttest('event delivery, waitUntil failure handling', () => {\n\t\tconst participant = new ExtHostDocumentSaveParticipant(nullLogService, documents, mainThreadBulkEdits);\n\n\t\tconst sub1 = participant.getOnWillSaveTextDocumentEvent(nullExtensionDescription)(function (e) {\n\t\t\te.waitUntil(Promise.reject(new Error('dddd')));\n\t\t});\n\n\t\tlet event: vscode.TextDocumentWillSaveEvent;\n\t\tconst sub2 = participant.getOnWillSaveTextDocumentEvent(nullExtensionDescription)(function (e) {\n\t\t\tevent = e;\n\t\t});\n\n\t\treturn participant.$participateInSave(resource, SaveReason.EXPLICIT).then(() => {\n\t\t\tassert.ok(event);\n\t\t\tsub1.dispose();\n\t\t\tsub2.dispose();\n\t\t});\n\t});\n\n\ttest('event delivery, pushEdits sync', () => {\n\n\t\tlet dto: IWorkspaceEditDto;\n\t\tconst participant = new ExtHostDocumentSaveParticipant(nullLogService, documents, new class extends mock<MainThreadTextEditorsShape>() {\n\t\t\t$tryApplyWorkspaceEdit(_edits: SerializableObjectWithBuffers<IWorkspaceEditDto>) {\n\t\t\t\tdto = _edits.value;\n\t\t\t\treturn Promise.resolve(true);\n\t\t\t}\n\t\t});\n\n\t\tconst sub = participant.getOnWillSaveTextDocumentEvent(nullExtensionDescription)(function (e) {\n\t\t\te.waitUntil(Promise.resolve([TextEdit.insert(new Position(0, 0), 'bar')]));\n\t\t\te.waitUntil(Promise.resolve([TextEdit.setEndOfLine(EndOfLine.CRLF)]));\n\t\t});\n\n\t\treturn participant.$participateInSave(resource, SaveReason.EXPLICIT).then(() => {\n\t\t\tsub.dispose();\n\n\t\t\tassert.strictEqual(dto.edits.length, 2);\n\t\t\tassert.ok((<IWorkspaceTextEditDto>dto.edits[0]).textEdit);\n\t\t\tassert.ok((<IWorkspaceTextEditDto>dto.edits[1]).textEdit);\n\t\t});\n\t});\n\n\ttest('event delivery, concurrent change', () => {\n\n\t\tlet edits: IWorkspaceEditDto;\n\t\tconst participant = new ExtHostDocumentSaveParticipant(nullLogService, documents, new class extends mock<MainThreadTextEditorsShape>() {\n\t\t\t$tryApplyWorkspaceEdit(_edits: SerializableObjectWithBuffers<IWorkspaceEditDto>) {\n\t\t\t\tedits = _edits.value;\n\t\t\t\treturn Promise.resolve(true);\n\t\t\t}\n\t\t});\n\n\t\tconst sub = participant.getOnWillSaveTextDocumentEvent(nullExtensionDescription)(function (e) {\n\n\t\t\t// concurrent change from somewhere\n\t\t\tdocuments.$acceptModelChanged(resource, {\n\t\t\t\tchanges: [{\n\t\t\t\t\trange: { startLineNumber: 1, startColumn: 1, endLineNumber: 1, endColumn: 1 },\n\t\t\t\t\trangeOffset: undefined!,\n\t\t\t\t\trangeLength: undefined!,\n\t\t\t\t\ttext: 'bar'\n\t\t\t\t}],\n\t\t\t\teol: undefined!,\n\t\t\t\tversionId: 2,\n\t\t\t\tisRedoing: false,\n\t\t\t\tisUndoing: false,\n\t\t\t}, true);\n\n\t\t\te.waitUntil(Promise.resolve([TextEdit.insert(new Position(0, 0), 'bar')]));\n\t\t});\n\n\t\treturn participant.$participateInSave(resource, SaveReason.EXPLICIT).then(values => {\n\t\t\tsub.dispose();\n\n\t\t\tassert.strictEqual(edits, undefined);\n\t\t\tassert.strictEqual(values[0], false);\n\t\t});\n\n\t});\n\n\ttest('event delivery, two listeners -> two document states', () => {\n\n\t\tconst participant = new ExtHostDocumentSaveParticipant(nullLogService, documents, new class extends mock<MainThreadTextEditorsShape>() {\n\t\t\t$tryApplyWorkspaceEdit(dto: SerializableObjectWithBuffers<IWorkspaceEditDto>) {\n\n\t\t\t\tfor (const edit of dto.value.edits) {\n\n\t\t\t\t\tconst uri = URI.revive((<IWorkspaceTextEditDto>edit).resource);\n\t\t\t\t\tconst { text, range } = (<IWorkspaceTextEditDto>edit).textEdit;\n\t\t\t\t\tdocuments.$acceptModelChanged(uri, {\n\t\t\t\t\t\tchanges: [{\n\t\t\t\t\t\t\trange,\n\t\t\t\t\t\t\ttext,\n\t\t\t\t\t\t\trangeOffset: undefined!,\n\t\t\t\t\t\t\trangeLength: undefined!,\n\t\t\t\t\t\t}],\n\t\t\t\t\t\teol: undefined!,\n\t\t\t\t\t\tversionId: documents.getDocumentData(uri)!.version + 1,\n\t\t\t\t\t\tisRedoing: false,\n\t\t\t\t\t\tisUndoing: false,\n\t\t\t\t\t}, true);\n\t\t\t\t\t// }\n\t\t\t\t}\n\n\t\t\t\treturn Promise.resolve(true);\n\t\t\t}\n\t\t});\n\n\t\tconst document = documents.getDocument(resource);\n\n\t\tconst sub1 = participant.getOnWillSaveTextDocumentEvent(nullExtensionDescription)(function (e) {\n\t\t\t// the document state we started with\n\t\t\tassert.strictEqual(document.version, 1);\n\t\t\tassert.strictEqual(document.getText(), 'foo');\n\n\t\t\te.waitUntil(Promise.resolve([TextEdit.insert(new Position(0, 0), 'bar')]));\n\t\t});\n\n\t\tconst sub2 = participant.getOnWillSaveTextDocumentEvent(nullExtensionDescription)(function (e) {\n\t\t\t// the document state AFTER the first listener kicked in\n\t\t\tassert.strictEqual(document.version, 2);\n\t\t\tassert.strictEqual(document.getText(), 'barfoo');\n\n\t\t\te.waitUntil(Promise.resolve([TextEdit.insert(new Position(0, 0), 'bar')]));\n\t\t});\n\n\t\treturn participant.$participateInSave(resource, SaveReason.EXPLICIT).then(values => {\n\t\t\tsub1.dispose();\n\t\t\tsub2.dispose();\n\n\t\t\t// the document state AFTER eventing is done\n\t\t\tassert.strictEqual(document.version, 3);\n\t\t\tassert.strictEqual(document.getText(), 'barbarfoo');\n\t\t});\n\n\t});\n\n\ttest('Log failing listener', function () {\n\t\tlet didLogSomething = false;\n\t\tconst participant = new ExtHostDocumentSaveParticipant(new class extends NullLogService {\n\t\t\toverride error(message: string | Error, ...args: any[]): void {\n\t\t\t\tdidLogSomething = true;\n\t\t\t}\n\t\t}, documents, mainThreadBulkEdits);\n\n\n\t\tconst sub = participant.getOnWillSaveTextDocumentEvent(nullExtensionDescription)(function (e) {\n\t\t\tthrow new Error('boom');\n\t\t});\n\n\t\treturn participant.$participateInSave(resource, SaveReason.EXPLICIT).then(() => {\n\t\t\tsub.dispose();\n\t\t\tassert.strictEqual(didLogSomething, true);\n\t\t});\n\t});\n});\n"],
  "mappings": "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",
  "names": []
}
