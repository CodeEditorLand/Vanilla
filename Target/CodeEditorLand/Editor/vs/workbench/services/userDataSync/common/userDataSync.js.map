{
  "version": 3,
  "sources": ["../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/services/userDataSync/common/userDataSync.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Codicon } from \"../../../../base/common/codicons.js\";\nimport type { Event } from \"../../../../base/common/event.js\";\nimport type { URI } from \"../../../../base/common/uri.js\";\nimport { localize, localize2 } from \"../../../../nls.js\";\nimport type { ILocalizedString } from \"../../../../platform/action/common/action.js\";\nimport { Categories } from \"../../../../platform/action/common/actionCommonCategories.js\";\nimport type { IAction2Options } from \"../../../../platform/actions/common/actions.js\";\nimport {\n\tContextKeyExpr,\n\tRawContextKey,\n} from \"../../../../platform/contextkey/common/contextkey.js\";\nimport { createDecorator } from \"../../../../platform/instantiation/common/instantiation.js\";\nimport { registerIcon } from \"../../../../platform/theme/common/iconRegistry.js\";\nimport {\n\ttype IAuthenticationProvider,\n\ttype IResourcePreview,\n\ttype IUserDataSyncResource,\n\tSyncResource,\n\tSyncStatus,\n} from \"../../../../platform/userDataSync/common/userDataSync.js\";\nimport type { IView } from \"../../../common/views.js\";\n\nexport interface IUserDataSyncAccount {\n\treadonly authenticationProviderId: string;\n\treadonly accountName: string;\n\treadonly accountId: string;\n}\n\nexport const IUserDataSyncWorkbenchService =\n\tcreateDecorator<IUserDataSyncWorkbenchService>(\n\t\t\"IUserDataSyncWorkbenchService\",\n\t);\nexport interface IUserDataSyncWorkbenchService {\n\t_serviceBrand: any;\n\n\treadonly enabled: boolean;\n\treadonly authenticationProviders: IAuthenticationProvider[];\n\n\treadonly current: IUserDataSyncAccount | undefined;\n\n\treadonly accountStatus: AccountStatus;\n\treadonly onDidChangeAccountStatus: Event<AccountStatus>;\n\n\tturnOn(): Promise<void>;\n\tturnoff(everyWhere: boolean): Promise<void>;\n\tsignIn(): Promise<void>;\n\n\tresetSyncedData(): Promise<void>;\n\tshowSyncActivity(): Promise<void>;\n\tsyncNow(): Promise<void>;\n\n\tsynchroniseUserDataSyncStoreType(): Promise<void>;\n\n\tshowConflicts(conflictToOpen?: IResourcePreview): Promise<void>;\n\taccept(\n\t\tresource: IUserDataSyncResource,\n\t\tconflictResource: URI,\n\t\tcontent: string | null | undefined,\n\t\tapply: boolean,\n\t): Promise<void>;\n\n\tgetAllLogResources(): Promise<URI[]>;\n\tdownloadSyncActivity(): Promise<URI | undefined>;\n}\n\nexport function getSyncAreaLabel(source: SyncResource): string {\n\tswitch (source) {\n\t\tcase SyncResource.Settings:\n\t\t\treturn localize(\"settings\", \"Settings\");\n\t\tcase SyncResource.Keybindings:\n\t\t\treturn localize(\"keybindings\", \"Keyboard Shortcuts\");\n\t\tcase SyncResource.Snippets:\n\t\t\treturn localize(\"snippets\", \"Snippets\");\n\t\tcase SyncResource.Tasks:\n\t\t\treturn localize(\"tasks\", \"Tasks\");\n\t\tcase SyncResource.Extensions:\n\t\t\treturn localize(\"extensions\", \"Extensions\");\n\t\tcase SyncResource.GlobalState:\n\t\t\treturn localize(\"ui state label\", \"UI State\");\n\t\tcase SyncResource.Profiles:\n\t\t\treturn localize(\"profiles\", \"Profiles\");\n\t\tcase SyncResource.WorkspaceState:\n\t\t\treturn localize(\"workspace state label\", \"Workspace State\");\n\t}\n}\n\nexport enum AccountStatus {\n\tUnavailable = \"unavailable\",\n\tAvailable = \"available\",\n}\n\nexport interface IUserDataSyncConflictsView extends IView {\n\topen(conflict: IResourcePreview): Promise<void>;\n}\n\nexport const SYNC_TITLE: ILocalizedString = localize2(\n\t\"sync category\",\n\t\"Settings Sync\",\n);\n\nexport const SYNC_VIEW_ICON = registerIcon(\n\t\"settings-sync-view-icon\",\n\tCodicon.sync,\n\tlocalize(\"syncViewIcon\", \"View icon of the Settings Sync view.\"),\n);\n\n// Contexts\nexport const CONTEXT_SYNC_STATE = new RawContextKey<string>(\n\t\"syncStatus\",\n\tSyncStatus.Uninitialized,\n);\nexport const CONTEXT_SYNC_ENABLEMENT = new RawContextKey<boolean>(\n\t\"syncEnabled\",\n\tfalse,\n);\nexport const CONTEXT_ACCOUNT_STATE = new RawContextKey<string>(\n\t\"userDataSyncAccountStatus\",\n\tAccountStatus.Unavailable,\n);\nexport const CONTEXT_ENABLE_ACTIVITY_VIEWS = new RawContextKey<boolean>(\n\t`enableSyncActivityViews`,\n\tfalse,\n);\nexport const CONTEXT_ENABLE_SYNC_CONFLICTS_VIEW = new RawContextKey<boolean>(\n\t`enableSyncConflictsView`,\n\tfalse,\n);\nexport const CONTEXT_HAS_CONFLICTS = new RawContextKey<boolean>(\n\t\"hasConflicts\",\n\tfalse,\n);\n\n// Commands\nexport const CONFIGURE_SYNC_COMMAND_ID =\n\t\"workbench.userDataSync.actions.configure\";\nexport const SHOW_SYNC_LOG_COMMAND_ID =\n\t\"workbench.userDataSync.actions.showLog\";\n\n// VIEWS\nexport const SYNC_VIEW_CONTAINER_ID = \"workbench.view.sync\";\nexport const SYNC_CONFLICTS_VIEW_ID = \"workbench.views.sync.conflicts\";\n\nexport const DOWNLOAD_ACTIVITY_ACTION_DESCRIPTOR: Readonly<IAction2Options> = {\n\tid: \"workbench.userDataSync.actions.downloadSyncActivity\",\n\ttitle: localize2(\n\t\t\"download sync activity title\",\n\t\t\"Download Settings Sync Activity\",\n\t),\n\tcategory: Categories.Developer,\n\tf1: true,\n\tprecondition: ContextKeyExpr.and(\n\t\tCONTEXT_ACCOUNT_STATE.isEqualTo(AccountStatus.Available),\n\t\tCONTEXT_SYNC_STATE.notEqualsTo(SyncStatus.Uninitialized),\n\t),\n};\n"],
  "mappings": ";;AAKA,SAAS,eAAe;AAGxB,SAAS,UAAU,iBAAiB;AAEpC,SAAS,kBAAkB;AAE3B;AAAA,EACC;AAAA,EACA;AAAA,OACM;AACP,SAAS,uBAAuB;AAChC,SAAS,oBAAoB;AAC7B;AAAA,EAIC;AAAA,EACA;AAAA,OACM;AASA,MAAM,gCACZ;AAAA,EACC;AACD;AAkCM,SAAS,iBAAiB,QAA8B;AAC9D,UAAQ,QAAQ;AAAA,IACf,KAAK,aAAa;AACjB,aAAO,SAAS,YAAY,UAAU;AAAA,IACvC,KAAK,aAAa;AACjB,aAAO,SAAS,eAAe,oBAAoB;AAAA,IACpD,KAAK,aAAa;AACjB,aAAO,SAAS,YAAY,UAAU;AAAA,IACvC,KAAK,aAAa;AACjB,aAAO,SAAS,SAAS,OAAO;AAAA,IACjC,KAAK,aAAa;AACjB,aAAO,SAAS,cAAc,YAAY;AAAA,IAC3C,KAAK,aAAa;AACjB,aAAO,SAAS,kBAAkB,UAAU;AAAA,IAC7C,KAAK,aAAa;AACjB,aAAO,SAAS,YAAY,UAAU;AAAA,IACvC,KAAK,aAAa;AACjB,aAAO,SAAS,yBAAyB,iBAAiB;AAAA,EAC5D;AACD;AAnBgB;AAqBT,IAAK,gBAAL,kBAAKA,mBAAL;AACN,EAAAA,eAAA,iBAAc;AACd,EAAAA,eAAA,eAAY;AAFD,SAAAA;AAAA,GAAA;AASL,MAAM,aAA+B;AAAA,EAC3C;AAAA,EACA;AACD;AAEO,MAAM,iBAAiB;AAAA,EAC7B;AAAA,EACA,QAAQ;AAAA,EACR,SAAS,gBAAgB,sCAAsC;AAChE;AAGO,MAAM,qBAAqB,IAAI;AAAA,EACrC;AAAA,EACA,WAAW;AACZ;AACO,MAAM,0BAA0B,IAAI;AAAA,EAC1C;AAAA,EACA;AACD;AACO,MAAM,wBAAwB,IAAI;AAAA,EACxC;AAAA,EACA;AACD;AACO,MAAM,gCAAgC,IAAI;AAAA,EAChD;AAAA,EACA;AACD;AACO,MAAM,qCAAqC,IAAI;AAAA,EACrD;AAAA,EACA;AACD;AACO,MAAM,wBAAwB,IAAI;AAAA,EACxC;AAAA,EACA;AACD;AAGO,MAAM,4BACZ;AACM,MAAM,2BACZ;AAGM,MAAM,yBAAyB;AAC/B,MAAM,yBAAyB;AAE/B,MAAM,sCAAiE;AAAA,EAC7E,IAAI;AAAA,EACJ,OAAO;AAAA,IACN;AAAA,IACA;AAAA,EACD;AAAA,EACA,UAAU,WAAW;AAAA,EACrB,IAAI;AAAA,EACJ,cAAc,eAAe;AAAA,IAC5B,sBAAsB,UAAU,2BAAuB;AAAA,IACvD,mBAAmB,YAAY,WAAW,aAAa;AAAA,EACxD;AACD;",
  "names": ["AccountStatus"]
}
