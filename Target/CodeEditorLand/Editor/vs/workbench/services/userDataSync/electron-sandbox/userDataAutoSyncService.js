var m=Object.defineProperty;var h=Object.getOwnPropertyDescriptor;var l=(t,r,e,n)=>{for(var o=n>1?void 0:n?h(r,e):r,i=t.length-1,s;i>=0;i--)(s=t[i])&&(o=(n?s(r,e,o):s(o))||o);return n&&o&&m(r,e,o),o},c=(t,r)=>(e,n)=>r(e,n,t);import{Event as p}from"../../../../base/common/event.js";import{InstantiationType as d,registerSingleton as u}from"../../../../platform/instantiation/common/extensions.js";import{ISharedProcessService as f}from"../../../../platform/ipc/electron-sandbox/services.js";import{IUserDataAutoSyncService as y,UserDataSyncError as g}from"../../../../platform/userDataSync/common/userDataSync.js";let a=class{channel;get onError(){return p.map(this.channel.listen("onError"),r=>g.toUserDataSyncError(r))}constructor(r){this.channel=r.getChannel("userDataAutoSync")}triggerSync(r,e,n){return this.channel.call("triggerSync",[r,e,n])}turnOn(){return this.channel.call("turnOn")}turnOff(r){return this.channel.call("turnOff",[r])}};a=l([c(0,f)],a),u(y,a,d.Delayed);
