var h=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var s=(t,r,e,n)=>{for(var o=n>1?void 0:n?m(r,e):r,i=t.length-1,l;i>=0;i--)(l=t[i])&&(o=(n?l(r,e,o):l(o))||o);return n&&o&&h(r,e,o),o},c=(t,r)=>(e,n)=>r(e,n,t);import{Event as d}from"../../../../../vs/base/common/event.js";import"../../../../../vs/base/parts/ipc/common/ipc.js";import{InstantiationType as u,registerSingleton as f}from"../../../../../vs/platform/instantiation/common/extensions.js";import{ISharedProcessService as g}from"../../../../../vs/platform/ipc/electron-sandbox/services.js";import{IUserDataAutoSyncService as p,UserDataSyncError as y}from"../../../../../vs/platform/userDataSync/common/userDataSync.js";let a=class{channel;get onError(){return d.map(this.channel.listen("onError"),r=>y.toUserDataSyncError(r))}constructor(r){this.channel=r.getChannel("userDataAutoSync")}triggerSync(r,e,n){return this.channel.call("triggerSync",[r,e,n])}turnOn(){return this.channel.call("turnOn")}turnOff(r){return this.channel.call("turnOff",[r])}};a=s([c(0,g)],a),f(p,a,u.Delayed);
