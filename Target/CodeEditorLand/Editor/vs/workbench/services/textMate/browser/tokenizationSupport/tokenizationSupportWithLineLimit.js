import{Disposable as n}from"../../../../../base/common/lifecycle.js";import{keepObserved as i}from"../../../../../base/common/observable.js";import{nullTokenizeEncoded as r}from"../../../../../editor/common/languages/nullTokenize.js";class c extends n{constructor(e,t,o,u){super();this._encodedLanguageId=e;this._actual=t;this._maxTokenizationLineLength=u;this._register(i(this._maxTokenizationLineLength)),this._register(o)}get backgroundTokenizerShouldOnlyVerifyTokens(){return this._actual.backgroundTokenizerShouldOnlyVerifyTokens}getInitialState(){return this._actual.getInitialState()}tokenize(e,t,o){throw new Error("Not supported!")}tokenizeEncoded(e,t,o){return e.length>=this._maxTokenizationLineLength.get()?r(this._encodedLanguageId,o):this._actual.tokenizeEncoded(e,t,o)}createBackgroundTokenizer(e,t){if(this._actual.createBackgroundTokenizer)return this._actual.createBackgroundTokenizer(e,t)}}export{c as TokenizationSupportWithLineLimit};
