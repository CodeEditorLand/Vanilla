{
  "version": 3,
  "sources": ["../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/services/contextmenu/electron-sandbox/contextmenuService.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { getZoomFactor } from \"../../../../base/browser/browser.js\";\nimport type {\n\tIContextMenuDelegate,\n\tIContextMenuEvent,\n} from \"../../../../base/browser/contextmenu.js\";\nimport * as dom from \"../../../../base/browser/dom.js\";\nimport {\n\tAnchorAlignment,\n\tAnchorAxisAlignment,\n\tisAnchor,\n} from \"../../../../base/browser/ui/contextview/contextview.js\";\nimport {\n\tActionRunner,\n\ttype IAction,\n\ttype IActionRunner,\n\tSeparator,\n\tSubmenuAction,\n\ttype WorkbenchActionExecutedClassification,\n\ttype WorkbenchActionExecutedEvent,\n} from \"../../../../base/common/actions.js\";\nimport { coalesce } from \"../../../../base/common/arrays.js\";\nimport { Emitter, type Event } from \"../../../../base/common/event.js\";\nimport { createSingleCallFunction } from \"../../../../base/common/functional.js\";\nimport { stripIcons } from \"../../../../base/common/iconLabels.js\";\nimport { unmnemonicLabel } from \"../../../../base/common/labels.js\";\nimport { Disposable } from \"../../../../base/common/lifecycle.js\";\nimport { isMacintosh, isWindows } from \"../../../../base/common/platform.js\";\nimport type { IContextMenuItem } from \"../../../../base/parts/contextmenu/common/contextmenu.js\";\nimport { popup } from \"../../../../base/parts/contextmenu/electron-sandbox/contextmenu.js\";\nimport { IMenuService } from \"../../../../platform/actions/common/actions.js\";\nimport { IConfigurationService } from \"../../../../platform/configuration/common/configuration.js\";\nimport { IContextKeyService } from \"../../../../platform/contextkey/common/contextkey.js\";\nimport {\n\tContextMenuMenuDelegate,\n\tContextMenuService as HTMLContextMenuService,\n} from \"../../../../platform/contextview/browser/contextMenuService.js\";\nimport {\n\ttype IContextMenuMenuDelegate,\n\tIContextMenuService,\n\tIContextViewService,\n} from \"../../../../platform/contextview/browser/contextView.js\";\nimport {\n\tInstantiationType,\n\tregisterSingleton,\n} from \"../../../../platform/instantiation/common/extensions.js\";\nimport { IKeybindingService } from \"../../../../platform/keybinding/common/keybinding.js\";\nimport { INotificationService } from \"../../../../platform/notification/common/notification.js\";\nimport { ITelemetryService } from \"../../../../platform/telemetry/common/telemetry.js\";\nimport { hasNativeTitlebar } from \"../../../../platform/window/common/window.js\";\n\nexport class ContextMenuService implements IContextMenuService {\n\tdeclare readonly _serviceBrand: undefined;\n\n\tprivate impl: HTMLContextMenuService | NativeContextMenuService;\n\n\tget onDidShowContextMenu(): Event<void> {\n\t\treturn this.impl.onDidShowContextMenu;\n\t}\n\tget onDidHideContextMenu(): Event<void> {\n\t\treturn this.impl.onDidHideContextMenu;\n\t}\n\n\tconstructor(\n\t\t@INotificationService notificationService: INotificationService,\n\t\t@ITelemetryService telemetryService: ITelemetryService,\n\t\t@IKeybindingService keybindingService: IKeybindingService,\n\t\t@IConfigurationService configurationService: IConfigurationService,\n\t\t@IContextViewService contextViewService: IContextViewService,\n\t\t@IMenuService menuService: IMenuService,\n\t\t@IContextKeyService contextKeyService: IContextKeyService,\n\t) {\n\t\t// Custom context menu: Linux/Windows if custom title is enabled\n\t\tif (!isMacintosh && !hasNativeTitlebar(configurationService)) {\n\t\t\tthis.impl = new HTMLContextMenuService(\n\t\t\t\ttelemetryService,\n\t\t\t\tnotificationService,\n\t\t\t\tcontextViewService,\n\t\t\t\tkeybindingService,\n\t\t\t\tmenuService,\n\t\t\t\tcontextKeyService,\n\t\t\t);\n\t\t}\n\n\t\t// Native context menu: otherwise\n\t\telse {\n\t\t\tthis.impl = new NativeContextMenuService(\n\t\t\t\tnotificationService,\n\t\t\t\ttelemetryService,\n\t\t\t\tkeybindingService,\n\t\t\t\tmenuService,\n\t\t\t\tcontextKeyService,\n\t\t\t);\n\t\t}\n\t}\n\n\tdispose(): void {\n\t\tthis.impl.dispose();\n\t}\n\n\tshowContextMenu(\n\t\tdelegate: IContextMenuDelegate | IContextMenuMenuDelegate,\n\t): void {\n\t\tthis.impl.showContextMenu(delegate);\n\t}\n}\n\nclass NativeContextMenuService\n\textends Disposable\n\timplements IContextMenuService\n{\n\tdeclare readonly _serviceBrand: undefined;\n\n\tprivate readonly _onDidShowContextMenu = this._store.add(\n\t\tnew Emitter<void>(),\n\t);\n\treadonly onDidShowContextMenu = this._onDidShowContextMenu.event;\n\n\tprivate readonly _onDidHideContextMenu = this._store.add(\n\t\tnew Emitter<void>(),\n\t);\n\treadonly onDidHideContextMenu = this._onDidHideContextMenu.event;\n\n\tconstructor(\n\t\t@INotificationService private readonly notificationService: INotificationService,\n\t\t@ITelemetryService private readonly telemetryService: ITelemetryService,\n\t\t@IKeybindingService private readonly keybindingService: IKeybindingService,\n\t\t@IMenuService private readonly menuService: IMenuService,\n\t\t@IContextKeyService private readonly contextKeyService: IContextKeyService\n\t) {\n\t\tsuper();\n\t}\n\n\tshowContextMenu(\n\t\tdelegate: IContextMenuDelegate | IContextMenuMenuDelegate,\n\t): void {\n\t\tdelegate = ContextMenuMenuDelegate.transform(\n\t\t\tdelegate,\n\t\t\tthis.menuService,\n\t\t\tthis.contextKeyService,\n\t\t);\n\n\t\tconst actions = delegate.getActions();\n\t\tif (actions.length) {\n\t\t\tconst onHide = createSingleCallFunction(() => {\n\t\t\t\tdelegate.onHide?.(false);\n\n\t\t\t\tdom.ModifierKeyEmitter.getInstance().resetKeyStatus();\n\t\t\t\tthis._onDidHideContextMenu.fire();\n\t\t\t});\n\n\t\t\tconst menu = this.createMenu(delegate, actions, onHide);\n\t\t\tconst anchor = delegate.getAnchor();\n\n\t\t\tlet x: number | undefined;\n\t\t\tlet y: number | undefined;\n\n\t\t\tlet zoom = getZoomFactor(\n\t\t\t\tdom.isHTMLElement(anchor)\n\t\t\t\t\t? dom.getWindow(anchor)\n\t\t\t\t\t: dom.getActiveWindow(),\n\t\t\t);\n\t\t\tif (dom.isHTMLElement(anchor)) {\n\t\t\t\tconst elementPosition = dom.getDomNodePagePosition(anchor);\n\n\t\t\t\t// When drawing context menus, we adjust the pixel position for native menus using zoom level\n\t\t\t\t// In areas where zoom is applied to the element or its ancestors, we need to adjust accordingly\n\t\t\t\t// e.g. The title bar has counter zoom behavior meaning it applies the inverse of zoom level.\n\t\t\t\t// Window Zoom Level: 1.5, Title Bar Zoom: 1/1.5, Coordinate Multiplier: 1.5 * 1.0 / 1.5 = 1.0\n\t\t\t\tzoom *= dom.getDomNodeZoomLevel(anchor);\n\n\t\t\t\t// Position according to the axis alignment and the anchor alignment:\n\t\t\t\t// `HORIZONTAL` aligns at the top left or right of the anchor and\n\t\t\t\t//  `VERTICAL` aligns at the bottom left of the anchor.\n\t\t\t\tif (\n\t\t\t\t\tdelegate.anchorAxisAlignment ===\n\t\t\t\t\tAnchorAxisAlignment.HORIZONTAL\n\t\t\t\t) {\n\t\t\t\t\tif (delegate.anchorAlignment === AnchorAlignment.LEFT) {\n\t\t\t\t\t\tx = elementPosition.left;\n\t\t\t\t\t\ty = elementPosition.top;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tx = elementPosition.left + elementPosition.width;\n\t\t\t\t\t\ty = elementPosition.top;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!isMacintosh) {\n\t\t\t\t\t\tconst window = dom.getWindow(anchor);\n\t\t\t\t\t\tconst availableHeightForMenu = window.screen.height - y;\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tavailableHeightForMenu <\n\t\t\t\t\t\t\tactions.length *\n\t\t\t\t\t\t\t\t(isWindows\n\t\t\t\t\t\t\t\t\t? 45\n\t\t\t\t\t\t\t\t\t: 32) /* guess of 1 menu item height */\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t// this is a guess to detect whether the context menu would\n\t\t\t\t\t\t\t// open to the bottom from this point or to the top. If the\n\t\t\t\t\t\t\t// menu opens to the top, make sure to align it to the bottom\n\t\t\t\t\t\t\t// of the anchor and not to the top.\n\t\t\t\t\t\t\t// this seems to be only necessary for Windows and Linux.\n\t\t\t\t\t\t\ty += elementPosition.height;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else if (delegate.anchorAlignment === AnchorAlignment.LEFT) {\n\t\t\t\t\tx = elementPosition.left;\n\t\t\t\t\ty = elementPosition.top + elementPosition.height;\n\t\t\t\t} else {\n\t\t\t\t\tx = elementPosition.left + elementPosition.width;\n\t\t\t\t\ty = elementPosition.top + elementPosition.height;\n\t\t\t\t}\n\n\t\t\t\t// Shift macOS menus by a few pixels below elements\n\t\t\t\t// to account for extra padding on top of native menu\n\t\t\t\t// https://github.com/microsoft/vscode/issues/84231\n\t\t\t\tif (isMacintosh) {\n\t\t\t\t\ty += 4 / zoom;\n\t\t\t\t}\n\t\t\t} else if (isAnchor(anchor)) {\n\t\t\t\tx = anchor.x;\n\t\t\t\ty = anchor.y;\n\t\t\t} else {\n\t\t\t\t// We leave x/y undefined in this case which will result in\n\t\t\t\t// Electron taking care of opening the menu at the cursor position.\n\t\t\t}\n\n\t\t\tif (typeof x === \"number\") {\n\t\t\t\tx = Math.floor(x * zoom);\n\t\t\t}\n\n\t\t\tif (typeof y === \"number\") {\n\t\t\t\ty = Math.floor(y * zoom);\n\t\t\t}\n\n\t\t\tpopup(\n\t\t\t\tmenu,\n\t\t\t\t{\n\t\t\t\t\tx,\n\t\t\t\t\ty,\n\t\t\t\t\tpositioningItem: delegate.autoSelectFirstItem\n\t\t\t\t\t\t? 0\n\t\t\t\t\t\t: undefined,\n\t\t\t\t},\n\t\t\t\t() => onHide(),\n\t\t\t);\n\n\t\t\tthis._onDidShowContextMenu.fire();\n\t\t}\n\t}\n\n\tprivate createMenu(\n\t\tdelegate: IContextMenuDelegate,\n\t\tentries: readonly IAction[],\n\t\tonHide: () => void,\n\t\tsubmenuIds = new Set<string>(),\n\t): IContextMenuItem[] {\n\t\tconst actionRunner = delegate.actionRunner || new ActionRunner();\n\t\treturn coalesce(\n\t\t\tentries.map((entry) =>\n\t\t\t\tthis.createMenuItem(\n\t\t\t\t\tdelegate,\n\t\t\t\t\tentry,\n\t\t\t\t\tactionRunner,\n\t\t\t\t\tonHide,\n\t\t\t\t\tsubmenuIds,\n\t\t\t\t),\n\t\t\t),\n\t\t);\n\t}\n\n\tprivate createMenuItem(\n\t\tdelegate: IContextMenuDelegate,\n\t\tentry: IAction,\n\t\tactionRunner: IActionRunner,\n\t\tonHide: () => void,\n\t\tsubmenuIds: Set<string>,\n\t): IContextMenuItem | undefined {\n\t\t// Separator\n\t\tif (entry instanceof Separator) {\n\t\t\treturn { type: \"separator\" };\n\t\t}\n\n\t\t// Submenu\n\t\tif (entry instanceof SubmenuAction) {\n\t\t\tif (submenuIds.has(entry.id)) {\n\t\t\t\tconsole.warn(`Found submenu cycle: ${entry.id}`);\n\t\t\t\treturn undefined;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tlabel: unmnemonicLabel(stripIcons(entry.label)).trim(),\n\t\t\t\tsubmenu: this.createMenu(\n\t\t\t\t\tdelegate,\n\t\t\t\t\tentry.actions,\n\t\t\t\t\tonHide,\n\t\t\t\t\tnew Set([...submenuIds, entry.id]),\n\t\t\t\t),\n\t\t\t};\n\t\t}\n\n\t\t// Normal Menu Item\n\t\telse {\n\t\t\tlet type: \"radio\" | \"checkbox\" | undefined;\n\t\t\tif (!!entry.checked) {\n\t\t\t\tif (\n\t\t\t\t\ttypeof delegate.getCheckedActionsRepresentation ===\n\t\t\t\t\t\"function\"\n\t\t\t\t) {\n\t\t\t\t\ttype = delegate.getCheckedActionsRepresentation(entry);\n\t\t\t\t} else {\n\t\t\t\t\ttype = \"checkbox\";\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst item: IContextMenuItem = {\n\t\t\t\tlabel: unmnemonicLabel(stripIcons(entry.label)).trim(),\n\t\t\t\tchecked: !!entry.checked,\n\t\t\t\ttype,\n\t\t\t\tenabled: !!entry.enabled,\n\t\t\t\tclick: (event) => {\n\t\t\t\t\t// To preserve pre-electron-2.x behaviour, we first trigger\n\t\t\t\t\t// the onHide callback and then the action.\n\t\t\t\t\t// Fixes https://github.com/microsoft/vscode/issues/45601\n\t\t\t\t\tonHide();\n\n\t\t\t\t\t// Run action which will close the menu\n\t\t\t\t\tthis.runAction(actionRunner, entry, delegate, event);\n\t\t\t\t},\n\t\t\t};\n\n\t\t\tconst keybinding = !!delegate.getKeyBinding\n\t\t\t\t? delegate.getKeyBinding(entry)\n\t\t\t\t: this.keybindingService.lookupKeybinding(entry.id);\n\t\t\tif (keybinding) {\n\t\t\t\tconst electronAccelerator = keybinding.getElectronAccelerator();\n\t\t\t\tif (electronAccelerator) {\n\t\t\t\t\titem.accelerator = electronAccelerator;\n\t\t\t\t} else {\n\t\t\t\t\tconst label = keybinding.getLabel();\n\t\t\t\t\tif (label) {\n\t\t\t\t\t\titem.label = `${item.label} [${label}]`;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn item;\n\t\t}\n\t}\n\n\tprivate async runAction(\n\t\tactionRunner: IActionRunner,\n\t\tactionToRun: IAction,\n\t\tdelegate: IContextMenuDelegate,\n\t\tevent: IContextMenuEvent,\n\t): Promise<void> {\n\t\tif (!delegate.skipTelemetry) {\n\t\t\tthis.telemetryService.publicLog2<\n\t\t\t\tWorkbenchActionExecutedEvent,\n\t\t\t\tWorkbenchActionExecutedClassification\n\t\t\t>(\"workbenchActionExecuted\", {\n\t\t\t\tid: actionToRun.id,\n\t\t\t\tfrom: \"contextMenu\",\n\t\t\t});\n\t\t}\n\n\t\tconst context = delegate.getActionsContext\n\t\t\t? delegate.getActionsContext(event)\n\t\t\t: undefined;\n\n\t\tconst runnable = actionRunner.run(actionToRun, context);\n\t\ttry {\n\t\t\tawait runnable;\n\t\t} catch (error) {\n\t\t\tthis.notificationService.error(error);\n\t\t}\n\t}\n}\n\nregisterSingleton(\n\tIContextMenuService,\n\tContextMenuService,\n\tInstantiationType.Delayed,\n);\n"],
  "mappings": "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",
  "names": []
}
