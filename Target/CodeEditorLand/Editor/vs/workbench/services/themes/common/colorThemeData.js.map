{
  "version": 3,
  "sources": ["../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/services/themes/common/colorThemeData.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { basename } from '../../../../base/common/path.js';\nimport * as Json from '../../../../base/common/json.js';\nimport { Color } from '../../../../base/common/color.js';\nimport { ExtensionData, ITokenColorCustomizations, ITextMateThemingRule, IWorkbenchColorTheme, IColorMap, IThemeExtensionPoint, VS_LIGHT_THEME, VS_HC_THEME, IColorCustomizations, ISemanticTokenRules, ISemanticTokenColorizationSetting, ISemanticTokenColorCustomizations, IThemeScopableCustomizations, IThemeScopedCustomizations, THEME_SCOPE_CLOSE_PAREN, THEME_SCOPE_OPEN_PAREN, themeScopeRegex, THEME_SCOPE_WILDCARD, VS_HC_LIGHT_THEME } from './workbenchThemeService.js';\nimport { convertSettings } from './themeCompatibility.js';\nimport * as nls from '../../../../nls.js';\nimport * as types from '../../../../base/common/types.js';\nimport * as resources from '../../../../base/common/resources.js';\nimport { Extensions as ColorRegistryExtensions, IColorRegistry, ColorIdentifier, editorBackground, editorForeground, DEFAULT_COLOR_CONFIG_VALUE } from '../../../../platform/theme/common/colorRegistry.js';\nimport { ITokenStyle, getThemeTypeSelector } from '../../../../platform/theme/common/themeService.js';\nimport { Registry } from '../../../../platform/registry/common/platform.js';\nimport { getParseErrorMessage } from '../../../../base/common/jsonErrorMessages.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { parse as parsePList } from './plistParser.js';\nimport { TokenStyle, SemanticTokenRule, ProbeScope, getTokenClassificationRegistry, TokenStyleValue, TokenStyleData, parseClassifierString } from '../../../../platform/theme/common/tokenClassificationRegistry.js';\nimport { MatcherWithPriority, Matcher, createMatchers } from './textMateScopeMatcher.js';\nimport { IExtensionResourceLoaderService } from '../../../../platform/extensionResourceLoader/common/extensionResourceLoader.js';\nimport { CharCode } from '../../../../base/common/charCode.js';\nimport { StorageScope, IStorageService, StorageTarget } from '../../../../platform/storage/common/storage.js';\nimport { ThemeConfiguration } from './themeConfiguration.js';\nimport { ColorScheme } from '../../../../platform/theme/common/theme.js';\n\nconst colorRegistry = Registry.as<IColorRegistry>(ColorRegistryExtensions.ColorContribution);\n\nconst tokenClassificationRegistry = getTokenClassificationRegistry();\n\nconst tokenGroupToScopesMap = {\n\tcomments: ['comment', 'punctuation.definition.comment'],\n\tstrings: ['string', 'meta.embedded.assembly'],\n\tkeywords: ['keyword - keyword.operator', 'keyword.control', 'storage', 'storage.type'],\n\tnumbers: ['constant.numeric'],\n\ttypes: ['entity.name.type', 'entity.name.class', 'support.type', 'support.class'],\n\tfunctions: ['entity.name.function', 'support.function'],\n\tvariables: ['variable', 'entity.name.variable']\n};\n\n\nexport type TokenStyleDefinition = SemanticTokenRule | ProbeScope[] | TokenStyleValue;\nexport type TokenStyleDefinitions = { [P in keyof TokenStyleData]?: TokenStyleDefinition | undefined };\n\nexport type TextMateThemingRuleDefinitions = { [P in keyof TokenStyleData]?: ITextMateThemingRule | undefined; } & { scope?: ProbeScope };\n\ninterface IColorOrDefaultMap {\n\t[id: string]: Color | typeof DEFAULT_COLOR_CONFIG_VALUE;\n}\n\nexport class ColorThemeData implements IWorkbenchColorTheme {\n\n\tstatic readonly STORAGE_KEY = 'colorThemeData';\n\n\tid: string;\n\tlabel: string;\n\tsettingsId: string;\n\tdescription?: string;\n\tisLoaded: boolean;\n\tlocation?: URI; // only set for extension from the registry, not for themes restored from the storage\n\twatch?: boolean;\n\textensionData?: ExtensionData;\n\n\tprivate themeSemanticHighlighting: boolean | undefined;\n\tprivate customSemanticHighlighting: boolean | undefined;\n\tprivate customSemanticHighlightingDeprecated: boolean | undefined;\n\n\tprivate themeTokenColors: ITextMateThemingRule[] = [];\n\tprivate customTokenColors: ITextMateThemingRule[] = [];\n\tprivate colorMap: IColorMap = {};\n\tprivate customColorMap: IColorOrDefaultMap = {};\n\n\tprivate semanticTokenRules: SemanticTokenRule[] = [];\n\tprivate customSemanticTokenRules: SemanticTokenRule[] = [];\n\n\tprivate themeTokenScopeMatchers: Matcher<ProbeScope>[] | undefined;\n\tprivate customTokenScopeMatchers: Matcher<ProbeScope>[] | undefined;\n\n\tprivate textMateThemingRules: ITextMateThemingRule[] | undefined = undefined; // created on demand\n\tprivate tokenColorIndex: TokenColorIndex | undefined = undefined; // created on demand\n\n\tprivate constructor(id: string, label: string, settingsId: string) {\n\t\tthis.id = id;\n\t\tthis.label = label;\n\t\tthis.settingsId = settingsId;\n\t\tthis.isLoaded = false;\n\t}\n\n\tget semanticHighlighting(): boolean {\n\t\tif (this.customSemanticHighlighting !== undefined) {\n\t\t\treturn this.customSemanticHighlighting;\n\t\t}\n\t\tif (this.customSemanticHighlightingDeprecated !== undefined) {\n\t\t\treturn this.customSemanticHighlightingDeprecated;\n\t\t}\n\t\treturn !!this.themeSemanticHighlighting;\n\t}\n\n\tget tokenColors(): ITextMateThemingRule[] {\n\t\tif (!this.textMateThemingRules) {\n\t\t\tconst result: ITextMateThemingRule[] = [];\n\n\t\t\t// the default rule (scope empty) is always the first rule. Ignore all other default rules.\n\t\t\tconst foreground = this.getColor(editorForeground) || this.getDefault(editorForeground)!;\n\t\t\tconst background = this.getColor(editorBackground) || this.getDefault(editorBackground)!;\n\t\t\tresult.push({\n\t\t\t\tsettings: {\n\t\t\t\t\tforeground: normalizeColor(foreground),\n\t\t\t\t\tbackground: normalizeColor(background)\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tlet hasDefaultTokens = false;\n\n\t\t\tfunction addRule(rule: ITextMateThemingRule) {\n\t\t\t\tif (rule.scope && rule.settings) {\n\t\t\t\t\tif (rule.scope === 'token.info-token') {\n\t\t\t\t\t\thasDefaultTokens = true;\n\t\t\t\t\t}\n\t\t\t\t\tresult.push({ scope: rule.scope, settings: { foreground: normalizeColor(rule.settings.foreground), background: normalizeColor(rule.settings.background), fontStyle: rule.settings.fontStyle } });\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.themeTokenColors.forEach(addRule);\n\t\t\t// Add the custom colors after the theme colors\n\t\t\t// so that they will override them\n\t\t\tthis.customTokenColors.forEach(addRule);\n\n\t\t\tif (!hasDefaultTokens) {\n\t\t\t\tdefaultThemeColors[this.type].forEach(addRule);\n\t\t\t}\n\t\t\tthis.textMateThemingRules = result;\n\t\t}\n\t\treturn this.textMateThemingRules;\n\t}\n\n\tpublic getColor(colorId: ColorIdentifier, useDefault?: boolean): Color | undefined {\n\t\tconst customColor = this.customColorMap[colorId];\n\t\tif (customColor instanceof Color) {\n\t\t\treturn customColor;\n\t\t}\n\t\tif (customColor === undefined) { /* !== DEFAULT_COLOR_CONFIG_VALUE */\n\t\t\tconst color = this.colorMap[colorId];\n\t\t\tif (color !== undefined) {\n\t\t\t\treturn color;\n\t\t\t}\n\t\t}\n\t\tif (useDefault !== false) {\n\t\t\treturn this.getDefault(colorId);\n\t\t}\n\t\treturn undefined;\n\t}\n\n\tprivate getTokenStyle(type: string, modifiers: string[], language: string, useDefault = true, definitions: TokenStyleDefinitions = {}): TokenStyle | undefined {\n\t\tconst result: any = {\n\t\t\tforeground: undefined,\n\t\t\tbold: undefined,\n\t\t\tunderline: undefined,\n\t\t\tstrikethrough: undefined,\n\t\t\titalic: undefined\n\t\t};\n\t\tconst score = {\n\t\t\tforeground: -1,\n\t\t\tbold: -1,\n\t\t\tunderline: -1,\n\t\t\tstrikethrough: -1,\n\t\t\titalic: -1\n\t\t};\n\n\t\tfunction _processStyle(matchScore: number, style: TokenStyle, definition: TokenStyleDefinition) {\n\t\t\tif (style.foreground && score.foreground <= matchScore) {\n\t\t\t\tscore.foreground = matchScore;\n\t\t\t\tresult.foreground = style.foreground;\n\t\t\t\tdefinitions.foreground = definition;\n\t\t\t}\n\t\t\tfor (const p of ['bold', 'underline', 'strikethrough', 'italic']) {\n\t\t\t\tconst property = p as keyof TokenStyle;\n\t\t\t\tconst info = style[property];\n\t\t\t\tif (info !== undefined) {\n\t\t\t\t\tif (score[property] <= matchScore) {\n\t\t\t\t\t\tscore[property] = matchScore;\n\t\t\t\t\t\tresult[property] = info;\n\t\t\t\t\t\tdefinitions[property] = definition;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfunction _processSemanticTokenRule(rule: SemanticTokenRule) {\n\t\t\tconst matchScore = rule.selector.match(type, modifiers, language);\n\t\t\tif (matchScore >= 0) {\n\t\t\t\t_processStyle(matchScore, rule.style, rule);\n\t\t\t}\n\t\t}\n\n\t\tthis.semanticTokenRules.forEach(_processSemanticTokenRule);\n\t\tthis.customSemanticTokenRules.forEach(_processSemanticTokenRule);\n\n\t\tlet hasUndefinedStyleProperty = false;\n\t\tfor (const k in score) {\n\t\t\tconst key = k as keyof TokenStyle;\n\t\t\tif (score[key] === -1) {\n\t\t\t\thasUndefinedStyleProperty = true;\n\t\t\t} else {\n\t\t\t\tscore[key] = Number.MAX_VALUE; // set it to the max, so it won't be replaced by a default\n\t\t\t}\n\t\t}\n\t\tif (hasUndefinedStyleProperty) {\n\t\t\tfor (const rule of tokenClassificationRegistry.getTokenStylingDefaultRules()) {\n\t\t\t\tconst matchScore = rule.selector.match(type, modifiers, language);\n\t\t\t\tif (matchScore >= 0) {\n\t\t\t\t\tlet style: TokenStyle | undefined;\n\t\t\t\t\tif (rule.defaults.scopesToProbe) {\n\t\t\t\t\t\tstyle = this.resolveScopes(rule.defaults.scopesToProbe);\n\t\t\t\t\t\tif (style) {\n\t\t\t\t\t\t\t_processStyle(matchScore, style, rule.defaults.scopesToProbe);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (!style && useDefault !== false) {\n\t\t\t\t\t\tconst tokenStyleValue = rule.defaults[this.type];\n\t\t\t\t\t\tstyle = this.resolveTokenStyleValue(tokenStyleValue);\n\t\t\t\t\t\tif (style) {\n\t\t\t\t\t\t\t_processStyle(matchScore, style, tokenStyleValue!);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn TokenStyle.fromData(result);\n\n\t}\n\n\t/**\n\t * @param tokenStyleValue Resolve a tokenStyleValue in the context of a theme\n\t */\n\tpublic resolveTokenStyleValue(tokenStyleValue: TokenStyleValue | undefined): TokenStyle | undefined {\n\t\tif (tokenStyleValue === undefined) {\n\t\t\treturn undefined;\n\t\t} else if (typeof tokenStyleValue === 'string') {\n\t\t\tconst { type, modifiers, language } = parseClassifierString(tokenStyleValue, '');\n\t\t\treturn this.getTokenStyle(type, modifiers, language);\n\t\t} else if (typeof tokenStyleValue === 'object') {\n\t\t\treturn tokenStyleValue;\n\t\t}\n\t\treturn undefined;\n\t}\n\n\tpublic getTokenColorIndex(): TokenColorIndex {\n\t\t// collect all colors that tokens can have\n\t\tif (!this.tokenColorIndex) {\n\t\t\tconst index = new TokenColorIndex();\n\t\t\tthis.tokenColors.forEach(rule => {\n\t\t\t\tindex.add(rule.settings.foreground);\n\t\t\t\tindex.add(rule.settings.background);\n\t\t\t});\n\n\t\t\tthis.semanticTokenRules.forEach(r => index.add(r.style.foreground));\n\t\t\ttokenClassificationRegistry.getTokenStylingDefaultRules().forEach(r => {\n\t\t\t\tconst defaultColor = r.defaults[this.type];\n\t\t\t\tif (defaultColor && typeof defaultColor === 'object') {\n\t\t\t\t\tindex.add(defaultColor.foreground);\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.customSemanticTokenRules.forEach(r => index.add(r.style.foreground));\n\n\t\t\tthis.tokenColorIndex = index;\n\t\t}\n\t\treturn this.tokenColorIndex;\n\t}\n\n\tpublic get tokenColorMap(): string[] {\n\t\treturn this.getTokenColorIndex().asArray();\n\t}\n\n\tpublic getTokenStyleMetadata(typeWithLanguage: string, modifiers: string[], defaultLanguage: string, useDefault = true, definitions: TokenStyleDefinitions = {}): ITokenStyle | undefined {\n\t\tconst { type, language } = parseClassifierString(typeWithLanguage, defaultLanguage);\n\t\tconst style = this.getTokenStyle(type, modifiers, language, useDefault, definitions);\n\t\tif (!style) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\treturn {\n\t\t\tforeground: this.getTokenColorIndex().get(style.foreground),\n\t\t\tbold: style.bold,\n\t\t\tunderline: style.underline,\n\t\t\tstrikethrough: style.strikethrough,\n\t\t\titalic: style.italic,\n\t\t};\n\t}\n\n\tpublic getTokenStylingRuleScope(rule: SemanticTokenRule): 'setting' | 'theme' | undefined {\n\t\tif (this.customSemanticTokenRules.indexOf(rule) !== -1) {\n\t\t\treturn 'setting';\n\t\t}\n\t\tif (this.semanticTokenRules.indexOf(rule) !== -1) {\n\t\t\treturn 'theme';\n\t\t}\n\t\treturn undefined;\n\t}\n\n\tpublic getDefault(colorId: ColorIdentifier): Color | undefined {\n\t\treturn colorRegistry.resolveDefaultColor(colorId, this);\n\t}\n\n\n\tpublic resolveScopes(scopes: ProbeScope[], definitions?: TextMateThemingRuleDefinitions): TokenStyle | undefined {\n\n\t\tif (!this.themeTokenScopeMatchers) {\n\t\t\tthis.themeTokenScopeMatchers = this.themeTokenColors.map(getScopeMatcher);\n\t\t}\n\t\tif (!this.customTokenScopeMatchers) {\n\t\t\tthis.customTokenScopeMatchers = this.customTokenColors.map(getScopeMatcher);\n\t\t}\n\n\t\tfor (const scope of scopes) {\n\t\t\tlet foreground: string | undefined = undefined;\n\t\t\tlet fontStyle: string | undefined = undefined;\n\t\t\tlet foregroundScore = -1;\n\t\t\tlet fontStyleScore = -1;\n\t\t\tlet fontStyleThemingRule: ITextMateThemingRule | undefined = undefined;\n\t\t\tlet foregroundThemingRule: ITextMateThemingRule | undefined = undefined;\n\n\t\t\tfunction findTokenStyleForScopeInScopes(scopeMatchers: Matcher<ProbeScope>[], themingRules: ITextMateThemingRule[]) {\n\t\t\t\tfor (let i = 0; i < scopeMatchers.length; i++) {\n\t\t\t\t\tconst score = scopeMatchers[i](scope);\n\t\t\t\t\tif (score >= 0) {\n\t\t\t\t\t\tconst themingRule = themingRules[i];\n\t\t\t\t\t\tconst settings = themingRules[i].settings;\n\t\t\t\t\t\tif (score >= foregroundScore && settings.foreground) {\n\t\t\t\t\t\t\tforeground = settings.foreground;\n\t\t\t\t\t\t\tforegroundScore = score;\n\t\t\t\t\t\t\tforegroundThemingRule = themingRule;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (score >= fontStyleScore && types.isString(settings.fontStyle)) {\n\t\t\t\t\t\t\tfontStyle = settings.fontStyle;\n\t\t\t\t\t\t\tfontStyleScore = score;\n\t\t\t\t\t\t\tfontStyleThemingRule = themingRule;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tfindTokenStyleForScopeInScopes(this.themeTokenScopeMatchers, this.themeTokenColors);\n\t\t\tfindTokenStyleForScopeInScopes(this.customTokenScopeMatchers, this.customTokenColors);\n\t\t\tif (foreground !== undefined || fontStyle !== undefined) {\n\t\t\t\tif (definitions) {\n\t\t\t\t\tdefinitions.foreground = foregroundThemingRule;\n\t\t\t\t\tdefinitions.bold = definitions.italic = definitions.underline = definitions.strikethrough = fontStyleThemingRule;\n\t\t\t\t\tdefinitions.scope = scope;\n\t\t\t\t}\n\n\t\t\t\treturn TokenStyle.fromSettings(foreground, fontStyle);\n\t\t\t}\n\t\t}\n\t\treturn undefined;\n\t}\n\n\tpublic defines(colorId: ColorIdentifier): boolean {\n\t\tconst customColor = this.customColorMap[colorId];\n\t\tif (customColor instanceof Color) {\n\t\t\treturn true;\n\t\t}\n\t\treturn customColor === undefined /* !== DEFAULT_COLOR_CONFIG_VALUE */ && this.colorMap.hasOwnProperty(colorId);\n\t}\n\n\tpublic setCustomizations(settings: ThemeConfiguration) {\n\t\tthis.setCustomColors(settings.colorCustomizations);\n\t\tthis.setCustomTokenColors(settings.tokenColorCustomizations);\n\t\tthis.setCustomSemanticTokenColors(settings.semanticTokenColorCustomizations);\n\t}\n\n\tpublic setCustomColors(colors: IColorCustomizations) {\n\t\tthis.customColorMap = {};\n\t\tthis.overwriteCustomColors(colors);\n\n\t\tconst themeSpecificColors = this.getThemeSpecificColors(colors) as IColorCustomizations;\n\t\tif (types.isObject(themeSpecificColors)) {\n\t\t\tthis.overwriteCustomColors(themeSpecificColors);\n\t\t}\n\n\t\tthis.tokenColorIndex = undefined;\n\t\tthis.textMateThemingRules = undefined;\n\t\tthis.customTokenScopeMatchers = undefined;\n\t}\n\n\tprivate overwriteCustomColors(colors: IColorCustomizations) {\n\t\tfor (const id in colors) {\n\t\t\tconst colorVal = colors[id];\n\t\t\tif (colorVal === DEFAULT_COLOR_CONFIG_VALUE) {\n\t\t\t\tthis.customColorMap[id] = DEFAULT_COLOR_CONFIG_VALUE;\n\t\t\t} else if (typeof colorVal === 'string') {\n\t\t\t\tthis.customColorMap[id] = Color.fromHex(colorVal);\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic setCustomTokenColors(customTokenColors: ITokenColorCustomizations) {\n\t\tthis.customTokenColors = [];\n\t\tthis.customSemanticHighlightingDeprecated = undefined;\n\n\t\t// first add the non-theme specific settings\n\t\tthis.addCustomTokenColors(customTokenColors);\n\n\t\t// append theme specific settings. Last rules will win.\n\t\tconst themeSpecificTokenColors = this.getThemeSpecificColors(customTokenColors) as ITokenColorCustomizations;\n\t\tif (types.isObject(themeSpecificTokenColors)) {\n\t\t\tthis.addCustomTokenColors(themeSpecificTokenColors);\n\t\t}\n\n\t\tthis.tokenColorIndex = undefined;\n\t\tthis.textMateThemingRules = undefined;\n\t\tthis.customTokenScopeMatchers = undefined;\n\t}\n\n\tpublic setCustomSemanticTokenColors(semanticTokenColors: ISemanticTokenColorCustomizations | undefined) {\n\t\tthis.customSemanticTokenRules = [];\n\t\tthis.customSemanticHighlighting = undefined;\n\n\t\tif (semanticTokenColors) {\n\t\t\tthis.customSemanticHighlighting = semanticTokenColors.enabled;\n\t\t\tif (semanticTokenColors.rules) {\n\t\t\t\tthis.readSemanticTokenRules(semanticTokenColors.rules);\n\t\t\t}\n\t\t\tconst themeSpecificColors = this.getThemeSpecificColors(semanticTokenColors) as ISemanticTokenColorCustomizations;\n\t\t\tif (types.isObject(themeSpecificColors)) {\n\t\t\t\tif (themeSpecificColors.enabled !== undefined) {\n\t\t\t\t\tthis.customSemanticHighlighting = themeSpecificColors.enabled;\n\t\t\t\t}\n\t\t\t\tif (themeSpecificColors.rules) {\n\t\t\t\t\tthis.readSemanticTokenRules(themeSpecificColors.rules);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.tokenColorIndex = undefined;\n\t\tthis.textMateThemingRules = undefined;\n\t}\n\n\tpublic isThemeScope(key: string): boolean {\n\t\treturn key.charAt(0) === THEME_SCOPE_OPEN_PAREN && key.charAt(key.length - 1) === THEME_SCOPE_CLOSE_PAREN;\n\t}\n\n\tpublic isThemeScopeMatch(themeId: string): boolean {\n\t\tconst themeIdFirstChar = themeId.charAt(0);\n\t\tconst themeIdLastChar = themeId.charAt(themeId.length - 1);\n\t\tconst themeIdPrefix = themeId.slice(0, -1);\n\t\tconst themeIdInfix = themeId.slice(1, -1);\n\t\tconst themeIdSuffix = themeId.slice(1);\n\t\treturn themeId === this.settingsId\n\t\t\t|| (this.settingsId.includes(themeIdInfix) && themeIdFirstChar === THEME_SCOPE_WILDCARD && themeIdLastChar === THEME_SCOPE_WILDCARD)\n\t\t\t|| (this.settingsId.startsWith(themeIdPrefix) && themeIdLastChar === THEME_SCOPE_WILDCARD)\n\t\t\t|| (this.settingsId.endsWith(themeIdSuffix) && themeIdFirstChar === THEME_SCOPE_WILDCARD);\n\t}\n\n\tpublic getThemeSpecificColors(colors: IThemeScopableCustomizations): IThemeScopedCustomizations | undefined {\n\t\tlet themeSpecificColors: IThemeScopedCustomizations | undefined;\n\t\tfor (const key in colors) {\n\t\t\tconst scopedColors = colors[key];\n\t\t\tif (this.isThemeScope(key) && scopedColors instanceof Object && !Array.isArray(scopedColors)) {\n\t\t\t\tconst themeScopeList = key.match(themeScopeRegex) || [];\n\t\t\t\tfor (const themeScope of themeScopeList) {\n\t\t\t\t\tconst themeId = themeScope.substring(1, themeScope.length - 1);\n\t\t\t\t\tif (this.isThemeScopeMatch(themeId)) {\n\t\t\t\t\t\tif (!themeSpecificColors) {\n\t\t\t\t\t\t\tthemeSpecificColors = {};\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconst scopedThemeSpecificColors = scopedColors as IThemeScopedCustomizations;\n\t\t\t\t\t\tfor (const subkey in scopedThemeSpecificColors) {\n\t\t\t\t\t\t\tconst originalColors = themeSpecificColors[subkey];\n\t\t\t\t\t\t\tconst overrideColors = scopedThemeSpecificColors[subkey];\n\t\t\t\t\t\t\tif (Array.isArray(originalColors) && Array.isArray(overrideColors)) {\n\t\t\t\t\t\t\t\tthemeSpecificColors[subkey] = originalColors.concat(overrideColors);\n\t\t\t\t\t\t\t} else if (overrideColors) {\n\t\t\t\t\t\t\t\tthemeSpecificColors[subkey] = overrideColors;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn themeSpecificColors;\n\t}\n\n\tprivate readSemanticTokenRules(tokenStylingRuleSection: ISemanticTokenRules) {\n\t\tfor (const key in tokenStylingRuleSection) {\n\t\t\tif (!this.isThemeScope(key)) { // still do this test until experimental settings are gone\n\t\t\t\ttry {\n\t\t\t\t\tconst rule = readSemanticTokenRule(key, tokenStylingRuleSection[key]);\n\t\t\t\t\tif (rule) {\n\t\t\t\t\t\tthis.customSemanticTokenRules.push(rule);\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {\n\t\t\t\t\t// invalid selector, ignore\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate addCustomTokenColors(customTokenColors: ITokenColorCustomizations) {\n\t\t// Put the general customizations such as comments, strings, etc. first so that\n\t\t// they can be overridden by specific customizations like \"string.interpolated\"\n\t\tfor (const tokenGroup in tokenGroupToScopesMap) {\n\t\t\tconst group = <keyof typeof tokenGroupToScopesMap>tokenGroup; // TS doesn't type 'tokenGroup' properly\n\t\t\tconst value = customTokenColors[group];\n\t\t\tif (value) {\n\t\t\t\tconst settings = typeof value === 'string' ? { foreground: value } : value;\n\t\t\t\tconst scopes = tokenGroupToScopesMap[group];\n\t\t\t\tfor (const scope of scopes) {\n\t\t\t\t\tthis.customTokenColors.push({ scope, settings });\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// specific customizations\n\t\tif (Array.isArray(customTokenColors.textMateRules)) {\n\t\t\tfor (const rule of customTokenColors.textMateRules) {\n\t\t\t\tif (rule.scope && rule.settings) {\n\t\t\t\t\tthis.customTokenColors.push(rule);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (customTokenColors.semanticHighlighting !== undefined) {\n\t\t\tthis.customSemanticHighlightingDeprecated = customTokenColors.semanticHighlighting;\n\t\t}\n\t}\n\n\tpublic ensureLoaded(extensionResourceLoaderService: IExtensionResourceLoaderService): Promise<void> {\n\t\treturn !this.isLoaded ? this.load(extensionResourceLoaderService) : Promise.resolve(undefined);\n\t}\n\n\tpublic reload(extensionResourceLoaderService: IExtensionResourceLoaderService): Promise<void> {\n\t\treturn this.load(extensionResourceLoaderService);\n\t}\n\n\tprivate load(extensionResourceLoaderService: IExtensionResourceLoaderService): Promise<void> {\n\t\tif (!this.location) {\n\t\t\treturn Promise.resolve(undefined);\n\t\t}\n\t\tthis.themeTokenColors = [];\n\t\tthis.clearCaches();\n\n\t\tconst result = {\n\t\t\tcolors: {},\n\t\t\ttextMateRules: [],\n\t\t\tsemanticTokenRules: [],\n\t\t\tsemanticHighlighting: false\n\t\t};\n\t\treturn _loadColorTheme(extensionResourceLoaderService, this.location, result).then(_ => {\n\t\t\tthis.isLoaded = true;\n\t\t\tthis.semanticTokenRules = result.semanticTokenRules;\n\t\t\tthis.colorMap = result.colors;\n\t\t\tthis.themeTokenColors = result.textMateRules;\n\t\t\tthis.themeSemanticHighlighting = result.semanticHighlighting;\n\t\t});\n\t}\n\n\tpublic clearCaches() {\n\t\tthis.tokenColorIndex = undefined;\n\t\tthis.textMateThemingRules = undefined;\n\t\tthis.themeTokenScopeMatchers = undefined;\n\t\tthis.customTokenScopeMatchers = undefined;\n\t}\n\n\ttoStorage(storageService: IStorageService) {\n\t\tconst colorMapData: { [key: string]: string } = {};\n\t\tfor (const key in this.colorMap) {\n\t\t\tcolorMapData[key] = Color.Format.CSS.formatHexA(this.colorMap[key], true);\n\t\t}\n\t\t// no need to persist custom colors, they will be taken from the settings\n\t\tconst value = JSON.stringify({\n\t\t\tid: this.id,\n\t\t\tlabel: this.label,\n\t\t\tsettingsId: this.settingsId,\n\t\t\tthemeTokenColors: this.themeTokenColors.map(tc => ({ settings: tc.settings, scope: tc.scope })), // don't persist names\n\t\t\tsemanticTokenRules: this.semanticTokenRules.map(SemanticTokenRule.toJSONObject),\n\t\t\textensionData: ExtensionData.toJSONObject(this.extensionData),\n\t\t\tthemeSemanticHighlighting: this.themeSemanticHighlighting,\n\t\t\tcolorMap: colorMapData,\n\t\t\twatch: this.watch\n\t\t});\n\n\t\t// roam persisted color theme colors. Don't enable for icons as they contain references to fonts and images.\n\t\tstorageService.store(ColorThemeData.STORAGE_KEY, value, StorageScope.PROFILE, StorageTarget.USER);\n\t}\n\n\tget baseTheme(): string {\n\t\treturn this.classNames[0];\n\t}\n\n\tget classNames(): string[] {\n\t\treturn this.id.split(' ');\n\t}\n\n\tget type(): ColorScheme {\n\t\tswitch (this.baseTheme) {\n\t\t\tcase VS_LIGHT_THEME: return ColorScheme.LIGHT;\n\t\t\tcase VS_HC_THEME: return ColorScheme.HIGH_CONTRAST_DARK;\n\t\t\tcase VS_HC_LIGHT_THEME: return ColorScheme.HIGH_CONTRAST_LIGHT;\n\t\t\tdefault: return ColorScheme.DARK;\n\t\t}\n\t}\n\n\t// constructors\n\n\tstatic createUnloadedThemeForThemeType(themeType: ColorScheme, colorMap?: { [id: string]: string }): ColorThemeData {\n\t\treturn ColorThemeData.createUnloadedTheme(getThemeTypeSelector(themeType), colorMap);\n\t}\n\n\tstatic createUnloadedTheme(id: string, colorMap?: { [id: string]: string }): ColorThemeData {\n\t\tconst themeData = new ColorThemeData(id, '', '__' + id);\n\t\tthemeData.isLoaded = false;\n\t\tthemeData.themeTokenColors = [];\n\t\tthemeData.watch = false;\n\t\tif (colorMap) {\n\t\t\tfor (const id in colorMap) {\n\t\t\t\tthemeData.colorMap[id] = Color.fromHex(colorMap[id]);\n\t\t\t}\n\t\t}\n\t\treturn themeData;\n\t}\n\n\tstatic createLoadedEmptyTheme(id: string, settingsId: string): ColorThemeData {\n\t\tconst themeData = new ColorThemeData(id, '', settingsId);\n\t\tthemeData.isLoaded = true;\n\t\tthemeData.themeTokenColors = [];\n\t\tthemeData.watch = false;\n\t\treturn themeData;\n\t}\n\n\tstatic fromStorageData(storageService: IStorageService): ColorThemeData | undefined {\n\t\tconst input = storageService.get(ColorThemeData.STORAGE_KEY, StorageScope.PROFILE);\n\t\tif (!input) {\n\t\t\treturn undefined;\n\t\t}\n\t\ttry {\n\t\t\tconst data = JSON.parse(input);\n\t\t\tconst theme = new ColorThemeData('', '', '');\n\t\t\tfor (const key in data) {\n\t\t\t\tswitch (key) {\n\t\t\t\t\tcase 'colorMap': {\n\t\t\t\t\t\tconst colorMapData = data[key];\n\t\t\t\t\t\tfor (const id in colorMapData) {\n\t\t\t\t\t\t\ttheme.colorMap[id] = Color.fromHex(colorMapData[id]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tcase 'themeTokenColors':\n\t\t\t\t\tcase 'id': case 'label': case 'settingsId': case 'watch': case 'themeSemanticHighlighting':\n\t\t\t\t\t\t(theme as any)[key] = data[key];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'semanticTokenRules': {\n\t\t\t\t\t\tconst rulesData = data[key];\n\t\t\t\t\t\tif (Array.isArray(rulesData)) {\n\t\t\t\t\t\t\tfor (const d of rulesData) {\n\t\t\t\t\t\t\t\tconst rule = SemanticTokenRule.fromJSONObject(tokenClassificationRegistry, d);\n\t\t\t\t\t\t\t\tif (rule) {\n\t\t\t\t\t\t\t\t\ttheme.semanticTokenRules.push(rule);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tcase 'location':\n\t\t\t\t\t\t// ignore, no longer restore\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'extensionData':\n\t\t\t\t\t\ttheme.extensionData = ExtensionData.fromJSONObject(data.extensionData);\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!theme.id || !theme.settingsId) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t\treturn theme;\n\t\t} catch (e) {\n\t\t\treturn undefined;\n\t\t}\n\t}\n\n\tstatic fromExtensionTheme(theme: IThemeExtensionPoint, colorThemeLocation: URI, extensionData: ExtensionData): ColorThemeData {\n\t\tconst baseTheme: string = theme['uiTheme'] || 'vs-dark';\n\t\tconst themeSelector = toCSSSelector(extensionData.extensionId, theme.path);\n\t\tconst id = `${baseTheme} ${themeSelector}`;\n\t\tconst label = theme.label || basename(theme.path);\n\t\tconst settingsId = theme.id || label;\n\t\tconst themeData = new ColorThemeData(id, label, settingsId);\n\t\tthemeData.description = theme.description;\n\t\tthemeData.watch = theme._watch === true;\n\t\tthemeData.location = colorThemeLocation;\n\t\tthemeData.extensionData = extensionData;\n\t\tthemeData.isLoaded = false;\n\t\treturn themeData;\n\t}\n}\n\nfunction toCSSSelector(extensionId: string, path: string) {\n\tif (path.startsWith('./')) {\n\t\tpath = path.substr(2);\n\t}\n\tlet str = `${extensionId}-${path}`;\n\n\t//remove all characters that are not allowed in css\n\tstr = str.replace(/[^_a-zA-Z0-9-]/g, '-');\n\tif (str.charAt(0).match(/[0-9-]/)) {\n\t\tstr = '_' + str;\n\t}\n\treturn str;\n}\n\nasync function _loadColorTheme(extensionResourceLoaderService: IExtensionResourceLoaderService, themeLocation: URI, result: { textMateRules: ITextMateThemingRule[]; colors: IColorMap; semanticTokenRules: SemanticTokenRule[]; semanticHighlighting: boolean }): Promise<any> {\n\tif (resources.extname(themeLocation) === '.json') {\n\t\tconst content = await extensionResourceLoaderService.readExtensionResource(themeLocation);\n\t\tconst errors: Json.ParseError[] = [];\n\t\tconst contentValue = Json.parse(content, errors);\n\t\tif (errors.length > 0) {\n\t\t\treturn Promise.reject(new Error(nls.localize('error.cannotparsejson', \"Problems parsing JSON theme file: {0}\", errors.map(e => getParseErrorMessage(e.error)).join(', '))));\n\t\t} else if (Json.getNodeType(contentValue) !== 'object') {\n\t\t\treturn Promise.reject(new Error(nls.localize('error.invalidformat', \"Invalid format for JSON theme file: Object expected.\")));\n\t\t}\n\t\tif (contentValue.include) {\n\t\t\tawait _loadColorTheme(extensionResourceLoaderService, resources.joinPath(resources.dirname(themeLocation), contentValue.include), result);\n\t\t}\n\t\tif (Array.isArray(contentValue.settings)) {\n\t\t\tconvertSettings(contentValue.settings, result);\n\t\t\treturn null;\n\t\t}\n\t\tresult.semanticHighlighting = result.semanticHighlighting || contentValue.semanticHighlighting;\n\t\tconst colors = contentValue.colors;\n\t\tif (colors) {\n\t\t\tif (typeof colors !== 'object') {\n\t\t\t\treturn Promise.reject(new Error(nls.localize({ key: 'error.invalidformat.colors', comment: ['{0} will be replaced by a path. Values in quotes should not be translated.'] }, \"Problem parsing color theme file: {0}. Property 'colors' is not of type 'object'.\", themeLocation.toString())));\n\t\t\t}\n\t\t\t// new JSON color themes format\n\t\t\tfor (const colorId in colors) {\n\t\t\t\tconst colorVal = colors[colorId];\n\t\t\t\tif (colorVal === DEFAULT_COLOR_CONFIG_VALUE) { // ignore colors that are set to to default\n\t\t\t\t\tdelete result.colors[colorId];\n\t\t\t\t} else if (typeof colorVal === 'string') {\n\t\t\t\t\tresult.colors[colorId] = Color.fromHex(colors[colorId]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tconst tokenColors = contentValue.tokenColors;\n\t\tif (tokenColors) {\n\t\t\tif (Array.isArray(tokenColors)) {\n\t\t\t\tresult.textMateRules.push(...tokenColors);\n\t\t\t} else if (typeof tokenColors === 'string') {\n\t\t\t\tawait _loadSyntaxTokens(extensionResourceLoaderService, resources.joinPath(resources.dirname(themeLocation), tokenColors), result);\n\t\t\t} else {\n\t\t\t\treturn Promise.reject(new Error(nls.localize({ key: 'error.invalidformat.tokenColors', comment: ['{0} will be replaced by a path. Values in quotes should not be translated.'] }, \"Problem parsing color theme file: {0}. Property 'tokenColors' should be either an array specifying colors or a path to a TextMate theme file\", themeLocation.toString())));\n\t\t\t}\n\t\t}\n\t\tconst semanticTokenColors = contentValue.semanticTokenColors;\n\t\tif (semanticTokenColors && typeof semanticTokenColors === 'object') {\n\t\t\tfor (const key in semanticTokenColors) {\n\t\t\t\ttry {\n\t\t\t\t\tconst rule = readSemanticTokenRule(key, semanticTokenColors[key]);\n\t\t\t\t\tif (rule) {\n\t\t\t\t\t\tresult.semanticTokenRules.push(rule);\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {\n\t\t\t\t\treturn Promise.reject(new Error(nls.localize({ key: 'error.invalidformat.semanticTokenColors', comment: ['{0} will be replaced by a path. Values in quotes should not be translated.'] }, \"Problem parsing color theme file: {0}. Property 'semanticTokenColors' contains a invalid selector\", themeLocation.toString())));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t} else {\n\t\treturn _loadSyntaxTokens(extensionResourceLoaderService, themeLocation, result);\n\t}\n}\n\nfunction _loadSyntaxTokens(extensionResourceLoaderService: IExtensionResourceLoaderService, themeLocation: URI, result: { textMateRules: ITextMateThemingRule[]; colors: IColorMap }): Promise<any> {\n\treturn extensionResourceLoaderService.readExtensionResource(themeLocation).then(content => {\n\t\ttry {\n\t\t\tconst contentValue = parsePList(content);\n\t\t\tconst settings: ITextMateThemingRule[] = contentValue.settings;\n\t\t\tif (!Array.isArray(settings)) {\n\t\t\t\treturn Promise.reject(new Error(nls.localize('error.plist.invalidformat', \"Problem parsing tmTheme file: {0}. 'settings' is not array.\")));\n\t\t\t}\n\t\t\tconvertSettings(settings, result);\n\t\t\treturn Promise.resolve(null);\n\t\t} catch (e) {\n\t\t\treturn Promise.reject(new Error(nls.localize('error.cannotparse', \"Problems parsing tmTheme file: {0}\", e.message)));\n\t\t}\n\t}, error => {\n\t\treturn Promise.reject(new Error(nls.localize('error.cannotload', \"Problems loading tmTheme file {0}: {1}\", themeLocation.toString(), error.message)));\n\t});\n}\n\nconst defaultThemeColors: { [baseTheme: string]: ITextMateThemingRule[] } = {\n\t'light': [\n\t\t{ scope: 'token.info-token', settings: { foreground: '#316bcd' } },\n\t\t{ scope: 'token.warn-token', settings: { foreground: '#cd9731' } },\n\t\t{ scope: 'token.error-token', settings: { foreground: '#cd3131' } },\n\t\t{ scope: 'token.debug-token', settings: { foreground: '#800080' } }\n\t],\n\t'dark': [\n\t\t{ scope: 'token.info-token', settings: { foreground: '#6796e6' } },\n\t\t{ scope: 'token.warn-token', settings: { foreground: '#cd9731' } },\n\t\t{ scope: 'token.error-token', settings: { foreground: '#f44747' } },\n\t\t{ scope: 'token.debug-token', settings: { foreground: '#b267e6' } }\n\t],\n\t'hcLight': [\n\t\t{ scope: 'token.info-token', settings: { foreground: '#316bcd' } },\n\t\t{ scope: 'token.warn-token', settings: { foreground: '#cd9731' } },\n\t\t{ scope: 'token.error-token', settings: { foreground: '#cd3131' } },\n\t\t{ scope: 'token.debug-token', settings: { foreground: '#800080' } }\n\t],\n\t'hcDark': [\n\t\t{ scope: 'token.info-token', settings: { foreground: '#6796e6' } },\n\t\t{ scope: 'token.warn-token', settings: { foreground: '#008000' } },\n\t\t{ scope: 'token.error-token', settings: { foreground: '#FF0000' } },\n\t\t{ scope: 'token.debug-token', settings: { foreground: '#b267e6' } }\n\t]\n};\n\nconst noMatch = (_scope: ProbeScope) => -1;\n\nfunction nameMatcher(identifers: string[], scope: ProbeScope): number {\n\tfunction findInIdents(s: string, lastIndent: number): number {\n\t\tfor (let i = lastIndent - 1; i >= 0; i--) {\n\t\t\tif (scopesAreMatching(s, identifers[i])) {\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\t\treturn -1;\n\t}\n\tif (scope.length < identifers.length) {\n\t\treturn -1;\n\t}\n\tlet lastScopeIndex = scope.length - 1;\n\tlet lastIdentifierIndex = findInIdents(scope[lastScopeIndex--], identifers.length);\n\tif (lastIdentifierIndex >= 0) {\n\t\tconst score = (lastIdentifierIndex + 1) * 0x10000 + identifers[lastIdentifierIndex].length;\n\t\twhile (lastScopeIndex >= 0) {\n\t\t\tlastIdentifierIndex = findInIdents(scope[lastScopeIndex--], lastIdentifierIndex);\n\t\t\tif (lastIdentifierIndex === -1) {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t}\n\t\treturn score;\n\t}\n\treturn -1;\n}\n\n\nfunction scopesAreMatching(thisScopeName: string, scopeName: string): boolean {\n\tif (!thisScopeName) {\n\t\treturn false;\n\t}\n\tif (thisScopeName === scopeName) {\n\t\treturn true;\n\t}\n\tconst len = scopeName.length;\n\treturn thisScopeName.length > len && thisScopeName.substr(0, len) === scopeName && thisScopeName[len] === '.';\n}\n\nfunction getScopeMatcher(rule: ITextMateThemingRule): Matcher<ProbeScope> {\n\tconst ruleScope = rule.scope;\n\tif (!ruleScope || !rule.settings) {\n\t\treturn noMatch;\n\t}\n\tconst matchers: MatcherWithPriority<ProbeScope>[] = [];\n\tif (Array.isArray(ruleScope)) {\n\t\tfor (const rs of ruleScope) {\n\t\t\tcreateMatchers(rs, nameMatcher, matchers);\n\t\t}\n\t} else {\n\t\tcreateMatchers(ruleScope, nameMatcher, matchers);\n\t}\n\n\tif (matchers.length === 0) {\n\t\treturn noMatch;\n\t}\n\treturn (scope: ProbeScope) => {\n\t\tlet max = matchers[0].matcher(scope);\n\t\tfor (let i = 1; i < matchers.length; i++) {\n\t\t\tmax = Math.max(max, matchers[i].matcher(scope));\n\t\t}\n\t\treturn max;\n\t};\n}\n\nfunction readSemanticTokenRule(selectorString: string, settings: ISemanticTokenColorizationSetting | string | boolean | undefined): SemanticTokenRule | undefined {\n\tconst selector = tokenClassificationRegistry.parseTokenSelector(selectorString);\n\tlet style: TokenStyle | undefined;\n\tif (typeof settings === 'string') {\n\t\tstyle = TokenStyle.fromSettings(settings, undefined);\n\t} else if (isSemanticTokenColorizationSetting(settings)) {\n\t\tstyle = TokenStyle.fromSettings(settings.foreground, settings.fontStyle, settings.bold, settings.underline, settings.strikethrough, settings.italic);\n\t}\n\tif (style) {\n\t\treturn { selector, style };\n\t}\n\treturn undefined;\n}\n\nfunction isSemanticTokenColorizationSetting(style: any): style is ISemanticTokenColorizationSetting {\n\treturn style && (types.isString(style.foreground) || types.isString(style.fontStyle) || types.isBoolean(style.italic)\n\t\t|| types.isBoolean(style.underline) || types.isBoolean(style.strikethrough) || types.isBoolean(style.bold));\n}\n\n\nclass TokenColorIndex {\n\n\tprivate _lastColorId: number;\n\tprivate _id2color: string[];\n\tprivate _color2id: { [color: string]: number };\n\n\tconstructor() {\n\t\tthis._lastColorId = 0;\n\t\tthis._id2color = [];\n\t\tthis._color2id = Object.create(null);\n\t}\n\n\tpublic add(color: string | Color | undefined): number {\n\t\tcolor = normalizeColor(color);\n\t\tif (color === undefined) {\n\t\t\treturn 0;\n\t\t}\n\n\t\tlet value = this._color2id[color];\n\t\tif (value) {\n\t\t\treturn value;\n\t\t}\n\t\tvalue = ++this._lastColorId;\n\t\tthis._color2id[color] = value;\n\t\tthis._id2color[value] = color;\n\t\treturn value;\n\t}\n\n\tpublic get(color: string | Color | undefined): number {\n\t\tcolor = normalizeColor(color);\n\t\tif (color === undefined) {\n\t\t\treturn 0;\n\t\t}\n\t\tconst value = this._color2id[color];\n\t\tif (value) {\n\t\t\treturn value;\n\t\t}\n\t\tconsole.log(`Color ${color} not in index.`);\n\t\treturn 0;\n\t}\n\n\tpublic asArray(): string[] {\n\t\treturn this._id2color.slice(0);\n\t}\n\n}\n\nfunction normalizeColor(color: string | Color | undefined | null): string | undefined {\n\tif (!color) {\n\t\treturn undefined;\n\t}\n\tif (typeof color !== 'string') {\n\t\tcolor = Color.Format.CSS.formatHexA(color, true);\n\t}\n\tconst len = color.length;\n\tif (color.charCodeAt(0) !== CharCode.Hash || (len !== 4 && len !== 5 && len !== 7 && len !== 9)) {\n\t\treturn undefined;\n\t}\n\tconst result = [CharCode.Hash];\n\n\tfor (let i = 1; i < len; i++) {\n\t\tconst upper = hexUpper(color.charCodeAt(i));\n\t\tif (!upper) {\n\t\t\treturn undefined;\n\t\t}\n\t\tresult.push(upper);\n\t\tif (len === 4 || len === 5) {\n\t\t\tresult.push(upper);\n\t\t}\n\t}\n\n\tif (result.length === 9 && result[7] === CharCode.F && result[8] === CharCode.F) {\n\t\tresult.length = 7;\n\t}\n\treturn String.fromCharCode(...result);\n}\n\nfunction hexUpper(charCode: CharCode): number {\n\tif (charCode >= CharCode.Digit0 && charCode <= CharCode.Digit9 || charCode >= CharCode.A && charCode <= CharCode.F) {\n\t\treturn charCode;\n\t} else if (charCode >= CharCode.a && charCode <= CharCode.f) {\n\t\treturn charCode - CharCode.a + CharCode.A;\n\t}\n\treturn 0;\n}\n"],
  "mappings": "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",
  "names": ["addRule", "findTokenStyleForScopeInScopes", "id"]
}
