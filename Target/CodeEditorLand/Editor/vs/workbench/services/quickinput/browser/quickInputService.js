var m=Object.defineProperty;var I=Object.getOwnPropertyDescriptor;var a=(n,t,r,e)=>{for(var i=e>1?void 0:e?I(t,r):t,c=n.length-1,s;c>=0;c--)(s=n[c])&&(i=(e?s(t,r,i):s(i))||i);return e&&i&&m(t,r,i),i},o=(n,t)=>(r,e)=>t(r,e,n);import{IConfigurationService as v}from"../../../../../vs/platform/configuration/common/configuration.js";import{IContextKeyService as l}from"../../../../../vs/platform/contextkey/common/contextkey.js";import{InstantiationType as S,registerSingleton as g}from"../../../../../vs/platform/instantiation/common/extensions.js";import{IInstantiationService as d}from"../../../../../vs/platform/instantiation/common/instantiation.js";import{IKeybindingService as y}from"../../../../../vs/platform/keybinding/common/keybinding.js";import{ILayoutService as f}from"../../../../../vs/platform/layout/browser/layoutService.js";import"../../../../../vs/platform/quickinput/browser/quickInputController.js";import{QuickInputService as h}from"../../../../../vs/platform/quickinput/browser/quickInputService.js";import{IQuickInputService as k}from"../../../../../vs/platform/quickinput/common/quickInput.js";import{IThemeService as b}from"../../../../../vs/platform/theme/common/themeService.js";import{InQuickPickContextKey as C}from"../../../../../vs/workbench/browser/quickaccess.js";let u=class extends h{constructor(r,e,i,c,s,p){super(e,c,s,p,r);this.keybindingService=i;this.registerListeners()}inQuickInputContext=C.bindTo(this.contextKeyService);registerListeners(){this._register(this.onShow(()=>this.inQuickInputContext.set(!0))),this._register(this.onHide(()=>this.inQuickInputContext.set(!1)))}createController(){return super.createController(this.layoutService,{ignoreFocusOut:()=>!this.configurationService.getValue("workbench.quickOpen.closeOnFocusLost"),backKeybindingLabel:()=>this.keybindingService.lookupKeybinding("workbench.action.quickInputBack")?.getLabel()||void 0})}};u=a([o(0,v),o(1,d),o(2,y),o(3,l),o(4,b),o(5,f)],u),g(k,u,S.Delayed);export{u as QuickInputService};
