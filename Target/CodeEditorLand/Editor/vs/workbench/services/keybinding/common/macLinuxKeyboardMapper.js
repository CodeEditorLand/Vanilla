import{CharCode as t}from"../../../../base/common/charCode.js";import{KeyCode as r,KeyCodeUtils as D,IMMUTABLE_CODE_TO_KEY_CODE as A,IMMUTABLE_KEY_CODE_TO_CODE as N,ScanCode as n,ScanCodeUtils as m}from"../../../../base/common/keyCodes.js";import{KeyCodeChord as Y,ScanCodeChord as w}from"../../../../base/common/keybindings.js";import{OperatingSystem as $}from"../../../../base/common/platform.js";import"../../../../platform/keybinding/common/keybinding.js";import"../../../../platform/keyboardLayout/common/keyboardMapper.js";import{BaseResolvedKeybinding as q}from"../../../../platform/keybinding/common/baseResolvedKeybinding.js";import"../../../../platform/keyboardLayout/common/keyboardLayout.js";const L=[];class F extends q{_mapper;constructor(e,o,i){super(o,i),this._mapper=e}_getLabel(e){return this._mapper.getUILabelForScanCodeChord(e)}_getAriaLabel(e){return this._mapper.getAriaLabelForScanCodeChord(e)}_getElectronAccelerator(e){return this._mapper.getElectronAcceleratorLabelForScanCodeChord(e)}_getUserSettingsLabel(e){return this._mapper.getUserSettingsLabelForScanCodeChord(e)}_isWYSIWYG(e){if(!e||A[e.scanCode]!==r.DependsOnKbLayout)return!0;const o=this._mapper.getAriaLabelForScanCodeChord(e),i=this._mapper.getUserSettingsLabelForScanCodeChord(e);return!o&&!i?!0:!o||!i?!1:o.toLowerCase()===i.toLowerCase()}_getChordDispatch(e){return this._mapper.getDispatchStrForScanCodeChord(e)}_getSingleModifierChordDispatch(e){return(e.scanCode===n.ControlLeft||e.scanCode===n.ControlRight)&&!e.shiftKey&&!e.altKey&&!e.metaKey?"ctrl":(e.scanCode===n.AltLeft||e.scanCode===n.AltRight)&&!e.ctrlKey&&!e.shiftKey&&!e.metaKey?"alt":(e.scanCode===n.ShiftLeft||e.scanCode===n.ShiftRight)&&!e.ctrlKey&&!e.altKey&&!e.metaKey?"shift":(e.scanCode===n.MetaLeft||e.scanCode===n.MetaRight)&&!e.ctrlKey&&!e.shiftKey&&!e.altKey?"meta":null}}class k{ctrlKey;shiftKey;altKey;scanCode;constructor(e,o,i,c){this.ctrlKey=e,this.shiftKey=o,this.altKey=i,this.scanCode=c}toString(){return`${this.ctrlKey?"Ctrl+":""}${this.shiftKey?"Shift+":""}${this.altKey?"Alt+":""}${m.toString(this.scanCode)}`}equals(e){return this.ctrlKey===e.ctrlKey&&this.shiftKey===e.shiftKey&&this.altKey===e.altKey&&this.scanCode===e.scanCode}getProducedCharCode(e){return e?this.ctrlKey&&this.shiftKey&&this.altKey?e.withShiftAltGr:this.ctrlKey&&this.altKey?e.withAltGr:this.shiftKey?e.withShift:e.value:""}getProducedChar(e){const o=S.getCharCode(this.getProducedCharCode(e));return o===0?" --- ":o>=t.U_Combining_Grave_Accent&&o<=t.U_Combining_Latin_Small_Letter_X?"U+"+o.toString(16):"  "+String.fromCharCode(o)+"  "}}class M{ctrlKey;shiftKey;altKey;keyCode;constructor(e,o,i,c){this.ctrlKey=e,this.shiftKey=o,this.altKey=i,this.keyCode=c}toString(){return`${this.ctrlKey?"Ctrl+":""}${this.shiftKey?"Shift+":""}${this.altKey?"Alt+":""}${D.toString(this.keyCode)}`}}class V{_scanCodeToKeyCode=[];_keyCodeToScanCode=[];constructor(){this._scanCodeToKeyCode=[],this._keyCodeToScanCode=[]}registrationComplete(){this._moveToEnd(n.IntlHash),this._moveToEnd(n.IntlBackslash)}_moveToEnd(e){for(let o=0;o<8;o++){const i=this._scanCodeToKeyCode[(e<<3)+o];if(i)for(let c=0,a=i.length;c<a;c++){const C=this._keyCodeToScanCode[i[c]];if(C.length!==1)for(let u=0,p=C.length;u<p;u++){const b=C[u];if(b>>>3===e){for(let s=u+1;s<p;s++)C[s-1]=C[s];C[p-1]=b}}}}}registerIfUnknown(e,o){if(o.keyCode===r.Unknown)return;const i=this._encodeScanCodeCombo(e),c=this._encodeKeyCodeCombo(o),a=o.keyCode>=r.Digit0&&o.keyCode<=r.Digit9,C=o.keyCode>=r.KeyA&&o.keyCode<=r.KeyZ,u=this._scanCodeToKeyCode[i];if(a||C){if(u){for(let p=0,b=u.length;p<b;p++)if(u[p]===c)return}}else if(u&&u.length!==0)return;this._scanCodeToKeyCode[i]=this._scanCodeToKeyCode[i]||[],this._scanCodeToKeyCode[i].unshift(c),this._keyCodeToScanCode[c]=this._keyCodeToScanCode[c]||[],this._keyCodeToScanCode[c].unshift(i)}lookupKeyCodeCombo(e){const o=this._encodeKeyCodeCombo(e),i=this._keyCodeToScanCode[o];if(!i||i.length===0)return[];const c=[];for(let a=0,C=i.length;a<C;a++){const u=i[a],p=!!(u&1),b=!!(u&2),l=!!(u&4),s=u>>>3;c[a]=new k(p,b,l,s)}return c}lookupScanCodeCombo(e){const o=this._encodeScanCodeCombo(e),i=this._scanCodeToKeyCode[o];if(!i||i.length===0)return[];const c=[];for(let a=0,C=i.length;a<C;a++){const u=i[a],p=!!(u&1),b=!!(u&2),l=!!(u&4),s=u>>>3;c[a]=new M(p,b,l,s)}return c}guessStableKeyCode(e){if(e>=n.Digit1&&e<=n.Digit0)switch(e){case n.Digit1:return r.Digit1;case n.Digit2:return r.Digit2;case n.Digit3:return r.Digit3;case n.Digit4:return r.Digit4;case n.Digit5:return r.Digit5;case n.Digit6:return r.Digit6;case n.Digit7:return r.Digit7;case n.Digit8:return r.Digit8;case n.Digit9:return r.Digit9;case n.Digit0:return r.Digit0}const o=this.lookupScanCodeCombo(new k(!1,!1,!1,e)),i=this.lookupScanCodeCombo(new k(!1,!0,!1,e));if(o.length===1&&i.length===1){const c=o[0].shiftKey,a=o[0].keyCode,C=i[0].shiftKey,u=i[0].keyCode;if(a===u&&c!==C)return a}return r.DependsOnKbLayout}_encodeScanCodeCombo(e){return this._encode(e.ctrlKey,e.shiftKey,e.altKey,e.scanCode)}_encodeKeyCodeCombo(e){return this._encode(e.ctrlKey,e.shiftKey,e.altKey,e.keyCode)}_encode(e,o,i,c){return((e?1:0)<<0|(o?1:0)<<1|(i?1:0)<<2|c<<3)>>>0}}class S{constructor(e,o,i,c){this._isUSStandard=e;this._mapAltGrToCtrlAlt=i;this._OS=c;this._codeInfo=[],this._scanCodeKeyCodeMapper=new V,this._scanCodeToLabel=[],this._scanCodeToDispatch=[];const a=(l,s,d,h,g,y,f,_)=>{this._scanCodeKeyCodeMapper.registerIfUnknown(new k(!!l,!!s,!!d,h),new M(!!g,!!y,!!f,_))},C=(l,s,d,h,g)=>{for(let y=l;y<=1;y++)for(let f=s;f<=1;f++)for(let _=d;_<=1;_++)a(y,f,_,h,y,f,_,g)};for(let l=n.None;l<n.MAX_VALUE;l++)this._scanCodeToLabel[l]=null;for(let l=n.None;l<n.MAX_VALUE;l++)this._scanCodeToDispatch[l]=null;for(let l=n.None;l<n.MAX_VALUE;l++){const s=A[l];s!==r.DependsOnKbLayout&&(C(0,0,0,l,s),this._scanCodeToLabel[l]=D.toString(s),s===r.Unknown||s===r.Ctrl||s===r.Meta||s===r.Alt||s===r.Shift?this._scanCodeToDispatch[l]=null:this._scanCodeToDispatch[l]=`[${m.toString(l)}]`)}const u={};{const l=[];for(const d in o)if(o.hasOwnProperty(d)){const h=m.toEnum(d);if(h===n.None||A[h]!==r.DependsOnKbLayout)continue;const g=o[d],y=S.getCharCode(g.value);if(y>=t.a&&y<=t.z){const f=t.A+(y-t.a);l[f]=!0}}const s=(d,h,g,y)=>{l[d]||(u[m.toString(h)]={value:g,withShift:y,withAltGr:"",withShiftAltGr:""})};s(t.A,n.KeyA,"a","A"),s(t.B,n.KeyB,"b","B"),s(t.C,n.KeyC,"c","C"),s(t.D,n.KeyD,"d","D"),s(t.E,n.KeyE,"e","E"),s(t.F,n.KeyF,"f","F"),s(t.G,n.KeyG,"g","G"),s(t.H,n.KeyH,"h","H"),s(t.I,n.KeyI,"i","I"),s(t.J,n.KeyJ,"j","J"),s(t.K,n.KeyK,"k","K"),s(t.L,n.KeyL,"l","L"),s(t.M,n.KeyM,"m","M"),s(t.N,n.KeyN,"n","N"),s(t.O,n.KeyO,"o","O"),s(t.P,n.KeyP,"p","P"),s(t.Q,n.KeyQ,"q","Q"),s(t.R,n.KeyR,"r","R"),s(t.S,n.KeyS,"s","S"),s(t.T,n.KeyT,"t","T"),s(t.U,n.KeyU,"u","U"),s(t.V,n.KeyV,"v","V"),s(t.W,n.KeyW,"w","W"),s(t.X,n.KeyX,"x","X"),s(t.Y,n.KeyY,"y","Y"),s(t.Z,n.KeyZ,"z","Z")}const p=[];let b=0;for(const l in o)if(o.hasOwnProperty(l)){const s=m.toEnum(l);if(s===n.None||A[s]!==r.DependsOnKbLayout)continue;this._codeInfo[s]=o[l];const d=u[l]||o[l],h=S.getCharCode(d.value),g=S.getCharCode(d.withShift),y=S.getCharCode(d.withAltGr),f=S.getCharCode(d.withShiftAltGr),_={scanCode:s,value:h,withShift:g,withAltGr:y,withShiftAltGr:f};if(p[b++]=_,this._scanCodeToDispatch[s]=`[${m.toString(s)}]`,h>=t.a&&h<=t.z){const U=t.A+(h-t.a);this._scanCodeToLabel[s]=String.fromCharCode(U)}else h>=t.A&&h<=t.Z?this._scanCodeToLabel[s]=String.fromCharCode(h):h?this._scanCodeToLabel[s]=String.fromCharCode(h):this._scanCodeToLabel[s]=null}for(let l=p.length-1;l>=0;l--){const s=p[l],d=s.scanCode,h=s.withShiftAltGr;if(h===s.withAltGr||h===s.withShift||h===s.value)continue;const g=S._charCodeToKb(h);if(!g)continue;const y=g.shiftKey,f=g.keyCode;y?a(1,1,1,d,0,1,0,f):a(1,1,1,d,0,0,0,f)}for(let l=p.length-1;l>=0;l--){const s=p[l],d=s.scanCode,h=s.withAltGr;if(h===s.withShift||h===s.value)continue;const g=S._charCodeToKb(h);if(!g)continue;const y=g.shiftKey,f=g.keyCode;y?a(1,0,1,d,0,1,0,f):a(1,0,1,d,0,0,0,f)}for(let l=p.length-1;l>=0;l--){const s=p[l],d=s.scanCode,h=s.withShift;if(h===s.value)continue;const g=S._charCodeToKb(h);if(!g)continue;const y=g.shiftKey,f=g.keyCode;y?(a(0,1,0,d,0,1,0,f),a(0,1,1,d,0,1,1,f),a(1,1,0,d,1,1,0,f),a(1,1,1,d,1,1,1,f)):(a(0,1,0,d,0,0,0,f),a(0,1,0,d,0,1,0,f),a(0,1,1,d,0,0,1,f),a(0,1,1,d,0,1,1,f),a(1,1,0,d,1,0,0,f),a(1,1,0,d,1,1,0,f),a(1,1,1,d,1,0,1,f),a(1,1,1,d,1,1,1,f))}for(let l=p.length-1;l>=0;l--){const s=p[l],d=s.scanCode,h=S._charCodeToKb(s.value);if(!h)continue;const g=h.shiftKey,y=h.keyCode;g?(a(0,0,0,d,0,1,0,y),a(0,0,1,d,0,1,1,y),a(1,0,0,d,1,1,0,y),a(1,0,1,d,1,1,1,y)):(a(0,0,0,d,0,0,0,y),a(0,0,1,d,0,0,1,y),a(0,1,0,d,0,1,0,y),a(0,1,1,d,0,1,1,y),a(1,0,0,d,1,0,0,y),a(1,0,1,d,1,0,1,y),a(1,1,0,d,1,1,0,y),a(1,1,1,d,1,1,1,y))}C(0,0,0,n.Digit1,r.Digit1),C(0,0,0,n.Digit2,r.Digit2),C(0,0,0,n.Digit3,r.Digit3),C(0,0,0,n.Digit4,r.Digit4),C(0,0,0,n.Digit5,r.Digit5),C(0,0,0,n.Digit6,r.Digit6),C(0,0,0,n.Digit7,r.Digit7),C(0,0,0,n.Digit8,r.Digit8),C(0,0,0,n.Digit9,r.Digit9),C(0,0,0,n.Digit0,r.Digit0),this._scanCodeKeyCodeMapper.registrationComplete()}_codeInfo;_scanCodeKeyCodeMapper;_scanCodeToLabel=[];_scanCodeToDispatch=[];dumpDebugInfo(){const e=[],o=[n.ArrowUp,n.Numpad0];let i=0;e.push(`isUSStandard: ${this._isUSStandard}`),e.push("----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------");for(let c=n.None;c<n.MAX_VALUE;c++){if(A[c]!==r.DependsOnKbLayout&&o.indexOf(c)===-1)continue;i%4===0&&(e.push("|       HW Code combination      |  Key  |    KeyCode combination    | Pri |          UI label         |         User settings          |    Electron accelerator   |       Dispatching string       | WYSIWYG |"),e.push("----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------")),i++;const a=this._codeInfo[c];for(let C=0;C<8;C++){const u=!!(C&1),p=!!(C&2),b=!!(C&4),l=new k(u,p,b,c),s=this.resolveKeyboardEvent({_standardKeyboardEventBrand:!0,ctrlKey:l.ctrlKey,shiftKey:l.shiftKey,altKey:l.altKey,metaKey:!1,altGraphKey:!1,keyCode:r.DependsOnKbLayout,code:m.toString(c)}),d=l.toString(),h=l.getProducedChar(a),g=s.getAriaLabel(),y=g?g.replace(/Control\+/,"Ctrl+"):null,f=s.getUserSettingsLabel(),_=s.getElectronAccelerator(),U=s.getDispatchChords()[0],R=(s?s.isWYSIWYG():!1)?"       ":"   NO  ",O=this._scanCodeKeyCodeMapper.lookupScanCodeCombo(l);if(O.length===0)e.push(`| ${this._leftPad(d,30)} | ${h} | ${this._leftPad("",25)} | ${this._leftPad("",3)} | ${this._leftPad(y,25)} | ${this._leftPad(f,30)} | ${this._leftPad(_,25)} | ${this._leftPad(U,30)} | ${R} |`);else for(let T=0,W=O.length;T<W;T++){const B=O[T];let E;const I=this._scanCodeKeyCodeMapper.lookupKeyCodeCombo(B);if(I.length===1)E="";else{let G=-1;for(let v=0;v<I.length;v++)if(I[v].equals(l)){G=v+1;break}E=String(G)}const P=B.toString();T===0?e.push(`| ${this._leftPad(d,30)} | ${h} | ${this._leftPad(P,25)} | ${this._leftPad(E,3)} | ${this._leftPad(y,25)} | ${this._leftPad(f,30)} | ${this._leftPad(_,25)} | ${this._leftPad(U,30)} | ${R} |`):e.push(`| ${this._leftPad("",30)} |       | ${this._leftPad(P,25)} | ${this._leftPad(E,3)} | ${this._leftPad("",25)} | ${this._leftPad("",30)} | ${this._leftPad("",25)} | ${this._leftPad("",30)} |         |`)}}e.push("----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------")}return e.join(`
`)}_leftPad(e,o){for(e===null&&(e="null");e.length<o;)e=" "+e;return e}keyCodeChordToScanCodeChord(e){if(e.keyCode===r.Enter)return[new w(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,n.Enter)];const o=this._scanCodeKeyCodeMapper.lookupKeyCodeCombo(new M(e.ctrlKey,e.shiftKey,e.altKey,e.keyCode)),i=[];for(let c=0,a=o.length;c<a;c++){const C=o[c];i[c]=new w(C.ctrlKey,C.shiftKey,C.altKey,e.metaKey,C.scanCode)}return i}getUILabelForScanCodeChord(e){if(!e)return null;if(e.isDuplicateModifierCase())return"";if(this._OS===$.Macintosh)switch(e.scanCode){case n.ArrowLeft:return"\u2190";case n.ArrowUp:return"\u2191";case n.ArrowRight:return"\u2192";case n.ArrowDown:return"\u2193"}return this._scanCodeToLabel[e.scanCode]}getAriaLabelForScanCodeChord(e){return e?e.isDuplicateModifierCase()?"":this._scanCodeToLabel[e.scanCode]:null}getDispatchStrForScanCodeChord(e){const o=this._scanCodeToDispatch[e.scanCode];if(!o)return null;let i="";return e.ctrlKey&&(i+="ctrl+"),e.shiftKey&&(i+="shift+"),e.altKey&&(i+="alt+"),e.metaKey&&(i+="meta+"),i+=o,i}getUserSettingsLabelForScanCodeChord(e){if(!e)return null;if(e.isDuplicateModifierCase())return"";const o=A[e.scanCode];if(o!==r.DependsOnKbLayout)return D.toUserSettingsUS(o).toLowerCase();const i=this._scanCodeKeyCodeMapper.guessStableKeyCode(e.scanCode);if(i!==r.DependsOnKbLayout){const c=this.keyCodeChordToScanCodeChord(new Y(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,i));for(let a=0,C=c.length;a<C;a++)if(c[a].scanCode===e.scanCode)return D.toUserSettingsUS(i).toLowerCase()}return this._scanCodeToDispatch[e.scanCode]}getElectronAcceleratorLabelForScanCodeChord(e){if(!e)return null;const o=A[e.scanCode];if(o!==r.DependsOnKbLayout)return D.toElectronAccelerator(o);const i=this._scanCodeKeyCodeMapper.guessStableKeyCode(e.scanCode);return this._OS===$.Linux&&!this._isUSStandard&&(i===r.Semicolon||i===r.Equal||i===r.Comma||i===r.Minus||i===r.Period||i===r.Slash||i===r.Backquote||i===r.BracketLeft||i===r.Backslash||i===r.BracketRight)?null:i!==r.DependsOnKbLayout?D.toElectronAccelerator(i):null}_toResolvedKeybinding(e){if(e.length===0)return[];const o=[];return this._generateResolvedKeybindings(e,0,[],o),o}_generateResolvedKeybindings(e,o,i,c){const a=e[o],C=o===e.length-1;for(let u=0,p=a.length;u<p;u++){const b=[...i,a[u]];C?c.push(new F(this,this._OS,b)):this._generateResolvedKeybindings(e,o+1,b,c)}}resolveKeyboardEvent(e){let o=m.toEnum(e.code);o===n.NumpadEnter&&(o=n.Enter);const i=e.keyCode;if(i===r.LeftArrow||i===r.UpArrow||i===r.RightArrow||i===r.DownArrow||i===r.Delete||i===r.Insert||i===r.Home||i===r.End||i===r.PageDown||i===r.PageUp||i===r.Backspace){const u=N[i];u!==n.DependsOnKbLayout&&(o=u)}else if((o===n.Numpad1||o===n.Numpad2||o===n.Numpad3||o===n.Numpad4||o===n.Numpad5||o===n.Numpad6||o===n.Numpad7||o===n.Numpad8||o===n.Numpad9||o===n.Numpad0||o===n.NumpadDecimal)&&i>=0){const u=N[i];u!==n.DependsOnKbLayout&&(o=u)}const c=e.ctrlKey||this._mapAltGrToCtrlAlt&&e.altGraphKey,a=e.altKey||this._mapAltGrToCtrlAlt&&e.altGraphKey,C=new w(c,e.shiftKey,a,e.metaKey,o);return new F(this,this._OS,[C])}_resolveChord(e){return e?e instanceof w?[e]:this.keyCodeChordToScanCodeChord(e):[]}resolveKeybinding(e){const o=e.chords.map(i=>this._resolveChord(i));return this._toResolvedKeybinding(o)}static _redirectCharCode(e){switch(e){case t.U_IDEOGRAPHIC_FULL_STOP:return t.Period;case t.U_LEFT_CORNER_BRACKET:return t.OpenSquareBracket;case t.U_RIGHT_CORNER_BRACKET:return t.CloseSquareBracket;case t.U_LEFT_BLACK_LENTICULAR_BRACKET:return t.OpenSquareBracket;case t.U_RIGHT_BLACK_LENTICULAR_BRACKET:return t.CloseSquareBracket;case t.U_FULLWIDTH_SEMICOLON:return t.Semicolon;case t.U_FULLWIDTH_COMMA:return t.Comma}return e}static _charCodeToKb(e){return e=this._redirectCharCode(e),e<L.length?L[e]:null}static getCharCode(e){if(e.length===0)return 0;const o=e.charCodeAt(0);switch(o){case t.U_Combining_Grave_Accent:return t.U_GRAVE_ACCENT;case t.U_Combining_Acute_Accent:return t.U_ACUTE_ACCENT;case t.U_Combining_Circumflex_Accent:return t.U_CIRCUMFLEX;case t.U_Combining_Tilde:return t.U_SMALL_TILDE;case t.U_Combining_Macron:return t.U_MACRON;case t.U_Combining_Overline:return t.U_OVERLINE;case t.U_Combining_Breve:return t.U_BREVE;case t.U_Combining_Dot_Above:return t.U_DOT_ABOVE;case t.U_Combining_Diaeresis:return t.U_DIAERESIS;case t.U_Combining_Ring_Above:return t.U_RING_ABOVE;case t.U_Combining_Double_Acute_Accent:return t.U_DOUBLE_ACUTE_ACCENT}return o}}(function(){function K(e,o,i){for(let c=L.length;c<e;c++)L[c]=null;L[e]={keyCode:o,shiftKey:i}}for(let e=t.A;e<=t.Z;e++)K(e,r.KeyA+(e-t.A),!0);for(let e=t.a;e<=t.z;e++)K(e,r.KeyA+(e-t.a),!1);K(t.Semicolon,r.Semicolon,!1),K(t.Colon,r.Semicolon,!0),K(t.Equals,r.Equal,!1),K(t.Plus,r.Equal,!0),K(t.Comma,r.Comma,!1),K(t.LessThan,r.Comma,!0),K(t.Dash,r.Minus,!1),K(t.Underline,r.Minus,!0),K(t.Period,r.Period,!1),K(t.GreaterThan,r.Period,!0),K(t.Slash,r.Slash,!1),K(t.QuestionMark,r.Slash,!0),K(t.BackTick,r.Backquote,!1),K(t.Tilde,r.Backquote,!0),K(t.OpenSquareBracket,r.BracketLeft,!1),K(t.OpenCurlyBrace,r.BracketLeft,!0),K(t.Backslash,r.Backslash,!1),K(t.Pipe,r.Backslash,!0),K(t.CloseSquareBracket,r.BracketRight,!1),K(t.CloseCurlyBrace,r.BracketRight,!0),K(t.SingleQuote,r.Quote,!1),K(t.DoubleQuote,r.Quote,!0)})();export{S as MacLinuxKeyboardMapper,F as NativeResolvedKeybinding};
