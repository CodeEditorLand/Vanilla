import{Emitter as r}from"../../../../base/common/event.js";import{toDisposable as o}from"../../../../base/common/lifecycle.js";import{LinkedList as a}from"../../../../base/common/linkedList.js";import{InstantiationType as s,registerSingleton as l}from"../../../../platform/instantiation/common/extensions.js";import{IOutlineService as c}from"./outline.js";class f{_factories=new a;_onDidChange=new r;onDidChange=this._onDidChange.event;canCreateOutline(e){for(const t of this._factories)if(t.matches(e))return!0;return!1}async createOutline(e,t,i){for(const n of this._factories)if(n.matches(e))return await n.createOutline(e,t,i)}registerOutlineCreator(e){const t=this._factories.push(e);return this._onDidChange.fire(),o(()=>{t(),this._onDidChange.fire()})}}l(c,f,s.Delayed);
