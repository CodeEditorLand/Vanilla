var y=Object.defineProperty;var C=Object.getOwnPropertyDescriptor;var I=(c,i,t,o)=>{for(var r=o>1?void 0:o?C(i,t):i,n=c.length-1,v;n>=0;n--)(v=c[n])&&(r=(o?v(i,t,r):v(r))||r);return o&&r&&y(i,t,r),r},e=(c,i)=>(t,o)=>i(t,o,c);import{ICodeEditorService as L}from"../../../../../vs/editor/browser/services/codeEditorService.js";import{ILanguageService as x}from"../../../../../vs/editor/common/languages/language.js";import{IModelService as D}from"../../../../../vs/editor/common/services/model.js";import{ITextResourceConfigurationService as T}from"../../../../../vs/editor/common/services/textResourceConfiguration.js";import{IDialogService as b,IFileDialogService as k}from"../../../../../vs/platform/dialogs/common/dialogs.js";import{IFileService as U}from"../../../../../vs/platform/files/common/files.js";import{InstantiationType as W,registerSingleton as M}from"../../../../../vs/platform/instantiation/common/extensions.js";import{IInstantiationService as P}from"../../../../../vs/platform/instantiation/common/instantiation.js";import{ILogService as A}from"../../../../../vs/platform/log/common/log.js";import{IUriIdentityService as N}from"../../../../../vs/platform/uriIdentity/common/uriIdentity.js";import{IDecorationsService as R}from"../../../../../vs/workbench/services/decorations/common/decorations.js";import{IWorkbenchEnvironmentService as _}from"../../../../../vs/workbench/services/environment/common/environmentService.js";import{IElevatedFileService as G}from"../../../../../vs/workbench/services/files/common/elevatedFileService.js";import{IFilesConfigurationService as V}from"../../../../../vs/workbench/services/filesConfiguration/common/filesConfigurationService.js";import{ILifecycleService as j}from"../../../../../vs/workbench/services/lifecycle/common/lifecycle.js";import{IPathService as q}from"../../../../../vs/workbench/services/path/common/pathService.js";import{AbstractTextFileService as w}from"../../../../../vs/workbench/services/textfile/browser/textFileService.js";import{ITextFileService as z,TextFileEditorModelState as B}from"../../../../../vs/workbench/services/textfile/common/textfiles.js";import{IUntitledTextEditorService as H}from"../../../../../vs/workbench/services/untitled/common/untitledTextEditorService.js";import{IWorkingCopyFileService as J}from"../../../../../vs/workbench/services/workingCopy/common/workingCopyFileService.js";let m=class extends w{constructor(i,t,o,r,n,v,S,a,f,l,s,p,d,g,u,h,E,F){super(i,t,o,r,n,v,S,a,f,l,s,p,d,g,u,E,h,F),this.registerListeners()}registerListeners(){this._register(this.lifecycleService.onBeforeShutdown(i=>i.veto(this.onBeforeShutdown(),"veto.textFiles")))}onBeforeShutdown(){return!!this.files.models.some(i=>i.hasState(B.PENDING_SAVE))}};m=I([e(0,U),e(1,H),e(2,j),e(3,P),e(4,D),e(5,_),e(6,b),e(7,k),e(8,T),e(9,V),e(10,L),e(11,q),e(12,J),e(13,N),e(14,x),e(15,G),e(16,A),e(17,R)],m),M(z,m,W.Eager);export{m as BrowserTextFileService};
