{
  "version": 3,
  "sources": ["../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/services/preferences/common/preferencesModels.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { tail, coalesce } from '../../../../base/common/arrays.js';\nimport { IStringDictionary } from '../../../../base/common/collections.js';\nimport { Emitter, Event } from '../../../../base/common/event.js';\nimport { JSONVisitor, visit } from '../../../../base/common/json.js';\nimport { Disposable, IReference } from '../../../../base/common/lifecycle.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { IRange, Range } from '../../../../editor/common/core/range.js';\nimport { Selection } from '../../../../editor/common/core/selection.js';\nimport { ITextModel } from '../../../../editor/common/model.js';\nimport { ISingleEditOperation } from '../../../../editor/common/core/editOperation.js';\nimport { ITextEditorModel } from '../../../../editor/common/services/resolverService.js';\nimport * as nls from '../../../../nls.js';\nimport { ConfigurationTarget, IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { ConfigurationDefaultValueSource, ConfigurationScope, Extensions, IConfigurationNode, IConfigurationPropertySchema, IConfigurationRegistry, IRegisteredConfigurationPropertySchema, OVERRIDE_PROPERTY_REGEX } from '../../../../platform/configuration/common/configurationRegistry.js';\nimport { IKeybindingService } from '../../../../platform/keybinding/common/keybinding.js';\nimport { Registry } from '../../../../platform/registry/common/platform.js';\nimport { EditorModel } from '../../../common/editor/editorModel.js';\nimport { IFilterMetadata, IFilterResult, IGroupFilter, IKeybindingsEditorModel, ISearchResultGroup, ISetting, ISettingMatch, ISettingMatcher, ISettingsEditorModel, ISettingsGroup, SettingMatchType } from './preferences.js';\nimport { FOLDER_SCOPES, WORKSPACE_SCOPES } from '../../configuration/common/configuration.js';\nimport { createValidator } from './preferencesValidation.js';\n\nexport const nullRange: IRange = { startLineNumber: -1, startColumn: -1, endLineNumber: -1, endColumn: -1 };\nfunction isNullRange(range: IRange): boolean { return range.startLineNumber === -1 && range.startColumn === -1 && range.endLineNumber === -1 && range.endColumn === -1; }\n\nabstract class AbstractSettingsModel extends EditorModel {\n\n\tprotected _currentResultGroups = new Map<string, ISearchResultGroup>();\n\n\tupdateResultGroup(id: string, resultGroup: ISearchResultGroup | undefined): IFilterResult | undefined {\n\t\tif (resultGroup) {\n\t\t\tthis._currentResultGroups.set(id, resultGroup);\n\t\t} else {\n\t\t\tthis._currentResultGroups.delete(id);\n\t\t}\n\n\t\tthis.removeDuplicateResults();\n\t\treturn this.update();\n\t}\n\n\t/**\n\t * Remove duplicates between result groups, preferring results in earlier groups\n\t */\n\tprivate removeDuplicateResults(): void {\n\t\tconst settingKeys = new Set<string>();\n\t\t[...this._currentResultGroups.keys()]\n\t\t\t.sort((a, b) => this._currentResultGroups.get(a)!.order - this._currentResultGroups.get(b)!.order)\n\t\t\t.forEach(groupId => {\n\t\t\t\tconst group = this._currentResultGroups.get(groupId)!;\n\t\t\t\tgroup.result.filterMatches = group.result.filterMatches.filter(s => !settingKeys.has(s.setting.key));\n\t\t\t\tgroup.result.filterMatches.forEach(s => settingKeys.add(s.setting.key));\n\t\t\t});\n\t}\n\n\tfilterSettings(filter: string, groupFilter: IGroupFilter, settingMatcher: ISettingMatcher): ISettingMatch[] {\n\t\tconst allGroups = this.filterGroups;\n\n\t\tconst filterMatches: ISettingMatch[] = [];\n\t\tfor (const group of allGroups) {\n\t\t\tconst groupMatched = groupFilter(group);\n\t\t\tfor (const section of group.sections) {\n\t\t\t\tfor (const setting of section.settings) {\n\t\t\t\t\tconst settingMatchResult = settingMatcher(setting, group);\n\n\t\t\t\t\tif (groupMatched || settingMatchResult) {\n\t\t\t\t\t\tfilterMatches.push({\n\t\t\t\t\t\t\tsetting,\n\t\t\t\t\t\t\tmatches: settingMatchResult && settingMatchResult.matches,\n\t\t\t\t\t\t\tmatchType: settingMatchResult?.matchType ?? SettingMatchType.None,\n\t\t\t\t\t\t\tscore: settingMatchResult?.score ?? 0\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn filterMatches;\n\t}\n\n\tgetPreference(key: string): ISetting | undefined {\n\t\tfor (const group of this.settingsGroups) {\n\t\t\tfor (const section of group.sections) {\n\t\t\t\tfor (const setting of section.settings) {\n\t\t\t\t\tif (key === setting.key) {\n\t\t\t\t\t\treturn setting;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn undefined;\n\t}\n\n\tprotected collectMetadata(groups: ISearchResultGroup[]): IStringDictionary<IFilterMetadata> {\n\t\tconst metadata = Object.create(null);\n\t\tlet hasMetadata = false;\n\t\tgroups.forEach(g => {\n\t\t\tif (g.result.metadata) {\n\t\t\t\tmetadata[g.id] = g.result.metadata;\n\t\t\t\thasMetadata = true;\n\t\t\t}\n\t\t});\n\n\t\treturn hasMetadata ? metadata : null;\n\t}\n\n\n\tprotected get filterGroups(): ISettingsGroup[] {\n\t\treturn this.settingsGroups;\n\t}\n\n\tabstract settingsGroups: ISettingsGroup[];\n\n\tabstract findValueMatches(filter: string, setting: ISetting): IRange[];\n\n\tprotected abstract update(): IFilterResult | undefined;\n}\n\nexport class SettingsEditorModel extends AbstractSettingsModel implements ISettingsEditorModel {\n\n\tprivate _settingsGroups: ISettingsGroup[] | undefined;\n\tprotected settingsModel: ITextModel;\n\n\tprivate readonly _onDidChangeGroups: Emitter<void> = this._register(new Emitter<void>());\n\treadonly onDidChangeGroups: Event<void> = this._onDidChangeGroups.event;\n\n\tconstructor(reference: IReference<ITextEditorModel>, private _configurationTarget: ConfigurationTarget) {\n\t\tsuper();\n\t\tthis.settingsModel = reference.object.textEditorModel!;\n\t\tthis._register(this.onWillDispose(() => reference.dispose()));\n\t\tthis._register(this.settingsModel.onDidChangeContent(() => {\n\t\t\tthis._settingsGroups = undefined;\n\t\t\tthis._onDidChangeGroups.fire();\n\t\t}));\n\t}\n\n\tget uri(): URI {\n\t\treturn this.settingsModel.uri;\n\t}\n\n\tget configurationTarget(): ConfigurationTarget {\n\t\treturn this._configurationTarget;\n\t}\n\n\tget settingsGroups(): ISettingsGroup[] {\n\t\tif (!this._settingsGroups) {\n\t\t\tthis.parse();\n\t\t}\n\t\treturn this._settingsGroups!;\n\t}\n\n\tget content(): string {\n\t\treturn this.settingsModel.getValue();\n\t}\n\n\tfindValueMatches(filter: string, setting: ISetting): IRange[] {\n\t\treturn this.settingsModel.findMatches(filter, setting.valueRange, false, false, null, false).map(match => match.range);\n\t}\n\n\tprotected isSettingsProperty(property: string, previousParents: string[]): boolean {\n\t\treturn previousParents.length === 0; // Settings is root\n\t}\n\n\tprotected parse(): void {\n\t\tthis._settingsGroups = parse(this.settingsModel, (property: string, previousParents: string[]): boolean => this.isSettingsProperty(property, previousParents));\n\t}\n\n\tprotected update(): IFilterResult | undefined {\n\t\tconst resultGroups = [...this._currentResultGroups.values()];\n\t\tif (!resultGroups.length) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\t// Transform resultGroups into IFilterResult - ISetting ranges are already correct here\n\t\tconst filteredSettings: ISetting[] = [];\n\t\tconst matches: IRange[] = [];\n\t\tresultGroups.forEach(group => {\n\t\t\tgroup.result.filterMatches.forEach(filterMatch => {\n\t\t\t\tfilteredSettings.push(filterMatch.setting);\n\t\t\t\tif (filterMatch.matches) {\n\t\t\t\t\tmatches.push(...filterMatch.matches);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\t\tlet filteredGroup: ISettingsGroup | undefined;\n\t\tconst modelGroup = this.settingsGroups[0]; // Editable model has one or zero groups\n\t\tif (modelGroup) {\n\t\t\tfilteredGroup = {\n\t\t\t\tid: modelGroup.id,\n\t\t\t\trange: modelGroup.range,\n\t\t\t\tsections: [{\n\t\t\t\t\tsettings: filteredSettings\n\t\t\t\t}],\n\t\t\t\ttitle: modelGroup.title,\n\t\t\t\ttitleRange: modelGroup.titleRange,\n\t\t\t\torder: modelGroup.order,\n\t\t\t\textensionInfo: modelGroup.extensionInfo\n\t\t\t};\n\t\t}\n\n\t\tconst metadata = this.collectMetadata(resultGroups);\n\t\treturn {\n\t\t\tallGroups: this.settingsGroups,\n\t\t\tfilteredGroups: filteredGroup ? [filteredGroup] : [],\n\t\t\tmatches,\n\t\t\tmetadata\n\t\t};\n\t}\n}\n\nexport class Settings2EditorModel extends AbstractSettingsModel implements ISettingsEditorModel {\n\tprivate readonly _onDidChangeGroups: Emitter<void> = this._register(new Emitter<void>());\n\treadonly onDidChangeGroups: Event<void> = this._onDidChangeGroups.event;\n\n\tprivate additionalGroups: ISettingsGroup[] = [];\n\tprivate dirty = false;\n\n\tconstructor(\n\t\tprivate _defaultSettings: DefaultSettings,\n\t\t@IConfigurationService configurationService: IConfigurationService,\n\t) {\n\t\tsuper();\n\n\t\tthis._register(configurationService.onDidChangeConfiguration(e => {\n\t\t\tif (e.source === ConfigurationTarget.DEFAULT) {\n\t\t\t\tthis.dirty = true;\n\t\t\t\tthis._onDidChangeGroups.fire();\n\t\t\t}\n\t\t}));\n\t\tthis._register(Registry.as<IConfigurationRegistry>(Extensions.Configuration).onDidSchemaChange(e => {\n\t\t\tthis.dirty = true;\n\t\t\tthis._onDidChangeGroups.fire();\n\t\t}));\n\t}\n\n\t/** Doesn't include the \"Commonly Used\" group */\n\tprotected override get filterGroups(): ISettingsGroup[] {\n\t\treturn this.settingsGroups.slice(1);\n\t}\n\n\tget settingsGroups(): ISettingsGroup[] {\n\t\tconst groups = this._defaultSettings.getSettingsGroups(this.dirty);\n\t\tthis.dirty = false;\n\t\treturn [...groups, ...this.additionalGroups];\n\t}\n\n\t/** For programmatically added groups outside of registered configurations */\n\tsetAdditionalGroups(groups: ISettingsGroup[]) {\n\t\tthis.additionalGroups = groups;\n\t}\n\n\tfindValueMatches(filter: string, setting: ISetting): IRange[] {\n\t\t// TODO @roblou\n\t\treturn [];\n\t}\n\n\tprotected update(): IFilterResult {\n\t\tthrow new Error('Not supported');\n\t}\n}\n\nfunction parse(model: ITextModel, isSettingsProperty: (currentProperty: string, previousParents: string[]) => boolean): ISettingsGroup[] {\n\tconst settings: ISetting[] = [];\n\tlet overrideSetting: ISetting | null = null;\n\n\tlet currentProperty: string | null = null;\n\tlet currentParent: any = [];\n\tconst previousParents: any[] = [];\n\tlet settingsPropertyIndex: number = -1;\n\tconst range = {\n\t\tstartLineNumber: 0,\n\t\tstartColumn: 0,\n\t\tendLineNumber: 0,\n\t\tendColumn: 0\n\t};\n\n\tfunction onValue(value: any, offset: number, length: number) {\n\t\tif (Array.isArray(currentParent)) {\n\t\t\t(<any[]>currentParent).push(value);\n\t\t} else if (currentProperty) {\n\t\t\tcurrentParent[currentProperty] = value;\n\t\t}\n\t\tif (previousParents.length === settingsPropertyIndex + 1 || (previousParents.length === settingsPropertyIndex + 2 && overrideSetting !== null)) {\n\t\t\t// settings value started\n\t\t\tconst setting = previousParents.length === settingsPropertyIndex + 1 ? settings[settings.length - 1] : overrideSetting!.overrides![overrideSetting!.overrides!.length - 1];\n\t\t\tif (setting) {\n\t\t\t\tconst valueStartPosition = model.getPositionAt(offset);\n\t\t\t\tconst valueEndPosition = model.getPositionAt(offset + length);\n\t\t\t\tsetting.value = value;\n\t\t\t\tsetting.valueRange = {\n\t\t\t\t\tstartLineNumber: valueStartPosition.lineNumber,\n\t\t\t\t\tstartColumn: valueStartPosition.column,\n\t\t\t\t\tendLineNumber: valueEndPosition.lineNumber,\n\t\t\t\t\tendColumn: valueEndPosition.column\n\t\t\t\t};\n\t\t\t\tsetting.range = Object.assign(setting.range, {\n\t\t\t\t\tendLineNumber: valueEndPosition.lineNumber,\n\t\t\t\t\tendColumn: valueEndPosition.column\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\tconst visitor: JSONVisitor = {\n\t\tonObjectBegin: (offset: number, length: number) => {\n\t\t\tif (isSettingsProperty(currentProperty!, previousParents)) {\n\t\t\t\t// Settings started\n\t\t\t\tsettingsPropertyIndex = previousParents.length;\n\t\t\t\tconst position = model.getPositionAt(offset);\n\t\t\t\trange.startLineNumber = position.lineNumber;\n\t\t\t\trange.startColumn = position.column;\n\t\t\t}\n\t\t\tconst object = {};\n\t\t\tonValue(object, offset, length);\n\t\t\tcurrentParent = object;\n\t\t\tcurrentProperty = null;\n\t\t\tpreviousParents.push(currentParent);\n\t\t},\n\t\tonObjectProperty: (name: string, offset: number, length: number) => {\n\t\t\tcurrentProperty = name;\n\t\t\tif (previousParents.length === settingsPropertyIndex + 1 || (previousParents.length === settingsPropertyIndex + 2 && overrideSetting !== null)) {\n\t\t\t\t// setting started\n\t\t\t\tconst settingStartPosition = model.getPositionAt(offset);\n\t\t\t\tconst setting: ISetting = {\n\t\t\t\t\tdescription: [],\n\t\t\t\t\tdescriptionIsMarkdown: false,\n\t\t\t\t\tkey: name,\n\t\t\t\t\tkeyRange: {\n\t\t\t\t\t\tstartLineNumber: settingStartPosition.lineNumber,\n\t\t\t\t\t\tstartColumn: settingStartPosition.column + 1,\n\t\t\t\t\t\tendLineNumber: settingStartPosition.lineNumber,\n\t\t\t\t\t\tendColumn: settingStartPosition.column + length\n\t\t\t\t\t},\n\t\t\t\t\trange: {\n\t\t\t\t\t\tstartLineNumber: settingStartPosition.lineNumber,\n\t\t\t\t\t\tstartColumn: settingStartPosition.column,\n\t\t\t\t\t\tendLineNumber: 0,\n\t\t\t\t\t\tendColumn: 0\n\t\t\t\t\t},\n\t\t\t\t\tvalue: null,\n\t\t\t\t\tvalueRange: nullRange,\n\t\t\t\t\tdescriptionRanges: [],\n\t\t\t\t\toverrides: [],\n\t\t\t\t\toverrideOf: overrideSetting ?? undefined,\n\t\t\t\t};\n\t\t\t\tif (previousParents.length === settingsPropertyIndex + 1) {\n\t\t\t\t\tsettings.push(setting);\n\t\t\t\t\tif (OVERRIDE_PROPERTY_REGEX.test(name)) {\n\t\t\t\t\t\toverrideSetting = setting;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\toverrideSetting!.overrides!.push(setting);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tonObjectEnd: (offset: number, length: number) => {\n\t\t\tcurrentParent = previousParents.pop();\n\t\t\tif (settingsPropertyIndex !== -1 && (previousParents.length === settingsPropertyIndex + 1 || (previousParents.length === settingsPropertyIndex + 2 && overrideSetting !== null))) {\n\t\t\t\t// setting ended\n\t\t\t\tconst setting = previousParents.length === settingsPropertyIndex + 1 ? settings[settings.length - 1] : overrideSetting!.overrides![overrideSetting!.overrides!.length - 1];\n\t\t\t\tif (setting) {\n\t\t\t\t\tconst valueEndPosition = model.getPositionAt(offset + length);\n\t\t\t\t\tsetting.valueRange = Object.assign(setting.valueRange, {\n\t\t\t\t\t\tendLineNumber: valueEndPosition.lineNumber,\n\t\t\t\t\t\tendColumn: valueEndPosition.column\n\t\t\t\t\t});\n\t\t\t\t\tsetting.range = Object.assign(setting.range, {\n\t\t\t\t\t\tendLineNumber: valueEndPosition.lineNumber,\n\t\t\t\t\t\tendColumn: valueEndPosition.column\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tif (previousParents.length === settingsPropertyIndex + 1) {\n\t\t\t\t\toverrideSetting = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (previousParents.length === settingsPropertyIndex) {\n\t\t\t\t// settings ended\n\t\t\t\tconst position = model.getPositionAt(offset);\n\t\t\t\trange.endLineNumber = position.lineNumber;\n\t\t\t\trange.endColumn = position.column;\n\t\t\t\tsettingsPropertyIndex = -1;\n\t\t\t}\n\t\t},\n\t\tonArrayBegin: (offset: number, length: number) => {\n\t\t\tconst array: any[] = [];\n\t\t\tonValue(array, offset, length);\n\t\t\tpreviousParents.push(currentParent);\n\t\t\tcurrentParent = array;\n\t\t\tcurrentProperty = null;\n\t\t},\n\t\tonArrayEnd: (offset: number, length: number) => {\n\t\t\tcurrentParent = previousParents.pop();\n\t\t\tif (previousParents.length === settingsPropertyIndex + 1 || (previousParents.length === settingsPropertyIndex + 2 && overrideSetting !== null)) {\n\t\t\t\t// setting value ended\n\t\t\t\tconst setting = previousParents.length === settingsPropertyIndex + 1 ? settings[settings.length - 1] : overrideSetting!.overrides![overrideSetting!.overrides!.length - 1];\n\t\t\t\tif (setting) {\n\t\t\t\t\tconst valueEndPosition = model.getPositionAt(offset + length);\n\t\t\t\t\tsetting.valueRange = Object.assign(setting.valueRange, {\n\t\t\t\t\t\tendLineNumber: valueEndPosition.lineNumber,\n\t\t\t\t\t\tendColumn: valueEndPosition.column\n\t\t\t\t\t});\n\t\t\t\t\tsetting.range = Object.assign(setting.range, {\n\t\t\t\t\t\tendLineNumber: valueEndPosition.lineNumber,\n\t\t\t\t\t\tendColumn: valueEndPosition.column\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tonLiteralValue: onValue,\n\t\tonError: (error) => {\n\t\t\tconst setting = settings[settings.length - 1];\n\t\t\tif (setting && (isNullRange(setting.range) || isNullRange(setting.keyRange) || isNullRange(setting.valueRange))) {\n\t\t\t\tsettings.pop();\n\t\t\t}\n\t\t}\n\t};\n\tif (!model.isDisposed()) {\n\t\tvisit(model.getValue(), visitor);\n\t}\n\treturn settings.length > 0 ? [<ISettingsGroup>{\n\t\tsections: [\n\t\t\t{\n\t\t\t\tsettings\n\t\t\t}\n\t\t],\n\t\ttitle: '',\n\t\ttitleRange: nullRange,\n\t\trange\n\t}] : [];\n}\n\nexport class WorkspaceConfigurationEditorModel extends SettingsEditorModel {\n\n\tprivate _configurationGroups: ISettingsGroup[] = [];\n\n\tget configurationGroups(): ISettingsGroup[] {\n\t\treturn this._configurationGroups;\n\t}\n\n\tprotected override parse(): void {\n\t\tsuper.parse();\n\t\tthis._configurationGroups = parse(this.settingsModel, (property: string, previousParents: string[]): boolean => previousParents.length === 0);\n\t}\n\n\tprotected override isSettingsProperty(property: string, previousParents: string[]): boolean {\n\t\treturn property === 'settings' && previousParents.length === 1;\n\t}\n\n}\n\nexport class DefaultSettings extends Disposable {\n\n\tprivate _allSettingsGroups: ISettingsGroup[] | undefined;\n\tprivate _content: string | undefined;\n\tprivate _contentWithoutMostCommonlyUsed: string | undefined;\n\tprivate _settingsByName = new Map<string, ISetting>();\n\n\tprivate readonly _onDidChange: Emitter<void> = this._register(new Emitter<void>());\n\treadonly onDidChange: Event<void> = this._onDidChange.event;\n\n\tconstructor(\n\t\tprivate _mostCommonlyUsedSettingsKeys: string[],\n\t\treadonly target: ConfigurationTarget,\n\t\treadonly configurationService: IConfigurationService\n\t) {\n\t\tsuper();\n\t\tthis._register(configurationService.onDidChangeConfiguration(e => {\n\t\t\tif (e.source === ConfigurationTarget.DEFAULT) {\n\t\t\t\tthis.reset();\n\t\t\t\tthis._onDidChange.fire();\n\t\t\t}\n\t\t}));\n\t}\n\n\tgetContent(forceUpdate = false): string {\n\t\tif (!this._content || forceUpdate) {\n\t\t\tthis.initialize();\n\t\t}\n\n\t\treturn this._content!;\n\t}\n\n\tgetContentWithoutMostCommonlyUsed(forceUpdate = false): string {\n\t\tif (!this._contentWithoutMostCommonlyUsed || forceUpdate) {\n\t\t\tthis.initialize();\n\t\t}\n\n\t\treturn this._contentWithoutMostCommonlyUsed!;\n\t}\n\n\tgetSettingsGroups(forceUpdate = false): ISettingsGroup[] {\n\t\tif (!this._allSettingsGroups || forceUpdate) {\n\t\t\tthis.initialize();\n\t\t}\n\n\t\treturn this._allSettingsGroups!;\n\t}\n\n\tprivate initialize(): void {\n\t\tthis._allSettingsGroups = this.parse();\n\t\tthis._content = this.toContent(this._allSettingsGroups, 0);\n\t\tthis._contentWithoutMostCommonlyUsed = this.toContent(this._allSettingsGroups, 1);\n\t}\n\n\tprivate reset(): void {\n\t\tthis._content = undefined;\n\t\tthis._contentWithoutMostCommonlyUsed = undefined;\n\t\tthis._allSettingsGroups = undefined;\n\t}\n\n\tprivate parse(): ISettingsGroup[] {\n\t\tconst settingsGroups = this.getRegisteredGroups();\n\t\tthis.initAllSettingsMap(settingsGroups);\n\t\tconst mostCommonlyUsed = this.getMostCommonlyUsedSettings();\n\t\treturn [mostCommonlyUsed, ...settingsGroups];\n\t}\n\n\tgetRegisteredGroups(): ISettingsGroup[] {\n\t\tconst configurations = Registry.as<IConfigurationRegistry>(Extensions.Configuration).getConfigurations().slice();\n\t\tconst groups = this.removeEmptySettingsGroups(configurations.sort(this.compareConfigurationNodes)\n\t\t\t.reduce<ISettingsGroup[]>((result, config, index, array) => this.parseConfig(config, result, array), []));\n\n\t\treturn this.sortGroups(groups);\n\t}\n\n\tprivate sortGroups(groups: ISettingsGroup[]): ISettingsGroup[] {\n\t\tgroups.forEach(group => {\n\t\t\tgroup.sections.forEach(section => {\n\t\t\t\tsection.settings.sort((a, b) => a.key.localeCompare(b.key));\n\t\t\t});\n\t\t});\n\n\t\treturn groups;\n\t}\n\n\tprivate initAllSettingsMap(allSettingsGroups: ISettingsGroup[]): void {\n\t\tthis._settingsByName = new Map<string, ISetting>();\n\t\tfor (const group of allSettingsGroups) {\n\t\t\tfor (const section of group.sections) {\n\t\t\t\tfor (const setting of section.settings) {\n\t\t\t\t\tthis._settingsByName.set(setting.key, setting);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate getMostCommonlyUsedSettings(): ISettingsGroup {\n\t\tconst settings = coalesce(this._mostCommonlyUsedSettingsKeys.map(key => {\n\t\t\tconst setting = this._settingsByName.get(key);\n\t\t\tif (setting) {\n\t\t\t\treturn {\n\t\t\t\t\tdescription: setting.description,\n\t\t\t\t\tkey: setting.key,\n\t\t\t\t\tvalue: setting.value,\n\t\t\t\t\tkeyRange: nullRange,\n\t\t\t\t\trange: nullRange,\n\t\t\t\t\tvalueRange: nullRange,\n\t\t\t\t\toverrides: [],\n\t\t\t\t\tscope: ConfigurationScope.RESOURCE,\n\t\t\t\t\ttype: setting.type,\n\t\t\t\t\tenum: setting.enum,\n\t\t\t\t\tenumDescriptions: setting.enumDescriptions,\n\t\t\t\t\tdescriptionRanges: []\n\t\t\t\t} satisfies ISetting;\n\t\t\t}\n\t\t\treturn null;\n\t\t}));\n\n\t\treturn {\n\t\t\tid: 'mostCommonlyUsed',\n\t\t\trange: nullRange,\n\t\t\ttitle: nls.localize('commonlyUsed', \"Commonly Used\"),\n\t\t\ttitleRange: nullRange,\n\t\t\tsections: [\n\t\t\t\t{\n\t\t\t\t\tsettings\n\t\t\t\t}\n\t\t\t]\n\t\t} satisfies ISettingsGroup;\n\t}\n\n\tprivate parseConfig(config: IConfigurationNode, result: ISettingsGroup[], configurations: IConfigurationNode[], settingsGroup?: ISettingsGroup, seenSettings?: { [key: string]: boolean }): ISettingsGroup[] {\n\t\tseenSettings = seenSettings ? seenSettings : {};\n\t\tlet title = config.title;\n\t\tif (!title) {\n\t\t\tconst configWithTitleAndSameId = configurations.find(c => (c.id === config.id) && c.title);\n\t\t\tif (configWithTitleAndSameId) {\n\t\t\t\ttitle = configWithTitleAndSameId.title;\n\t\t\t}\n\t\t}\n\t\tif (title) {\n\t\t\tif (!settingsGroup) {\n\t\t\t\tsettingsGroup = result.find(g => g.title === title && g.extensionInfo?.id === config.extensionInfo?.id);\n\t\t\t\tif (!settingsGroup) {\n\t\t\t\t\tsettingsGroup = { sections: [{ settings: [] }], id: config.id || '', title: title || '', titleRange: nullRange, order: config.order, range: nullRange, extensionInfo: config.extensionInfo };\n\t\t\t\t\tresult.push(settingsGroup);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tsettingsGroup.sections[settingsGroup.sections.length - 1].title = title;\n\t\t\t}\n\t\t}\n\t\tif (config.properties) {\n\t\t\tif (!settingsGroup) {\n\t\t\t\tsettingsGroup = { sections: [{ settings: [] }], id: config.id || '', title: config.id || '', titleRange: nullRange, order: config.order, range: nullRange, extensionInfo: config.extensionInfo };\n\t\t\t\tresult.push(settingsGroup);\n\t\t\t}\n\t\t\tconst configurationSettings: ISetting[] = [];\n\t\t\tfor (const setting of [...settingsGroup.sections[settingsGroup.sections.length - 1].settings, ...this.parseSettings(config)]) {\n\t\t\t\tif (!seenSettings[setting.key]) {\n\t\t\t\t\tconfigurationSettings.push(setting);\n\t\t\t\t\tseenSettings[setting.key] = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (configurationSettings.length) {\n\t\t\t\tsettingsGroup.sections[settingsGroup.sections.length - 1].settings = configurationSettings;\n\t\t\t}\n\t\t}\n\t\tconfig.allOf?.forEach(c => this.parseConfig(c, result, configurations, settingsGroup, seenSettings));\n\t\treturn result;\n\t}\n\n\tprivate removeEmptySettingsGroups(settingsGroups: ISettingsGroup[]): ISettingsGroup[] {\n\t\tconst result: ISettingsGroup[] = [];\n\t\tfor (const settingsGroup of settingsGroups) {\n\t\t\tsettingsGroup.sections = settingsGroup.sections.filter(section => section.settings.length > 0);\n\t\t\tif (settingsGroup.sections.length) {\n\t\t\t\tresult.push(settingsGroup);\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tprivate parseSettings(config: IConfigurationNode): ISetting[] {\n\t\tconst result: ISetting[] = [];\n\n\t\tconst settingsObject = config.properties;\n\t\tconst extensionInfo = config.extensionInfo;\n\n\t\t// Try using the title if the category id wasn't given\n\t\t// (in which case the category id is the same as the extension id)\n\t\tconst categoryLabel = config.extensionInfo?.id === config.id ? config.title : config.id;\n\n\t\tfor (const key in settingsObject) {\n\t\t\tconst prop: IConfigurationPropertySchema = settingsObject[key];\n\t\t\tif (this.matchesScope(prop)) {\n\t\t\t\tconst value = prop.default;\n\t\t\t\tlet description = (prop.markdownDescription || prop.description || '');\n\t\t\t\tif (typeof description !== 'string') {\n\t\t\t\t\tdescription = '';\n\t\t\t\t}\n\t\t\t\tconst descriptionLines = description.split('\\n');\n\t\t\t\tconst overrides = OVERRIDE_PROPERTY_REGEX.test(key) ? this.parseOverrideSettings(prop.default) : [];\n\t\t\t\tlet listItemType: string | undefined;\n\t\t\t\tif (prop.type === 'array' && prop.items && !Array.isArray(prop.items) && prop.items.type) {\n\t\t\t\t\tif (prop.items.enum) {\n\t\t\t\t\t\tlistItemType = 'enum';\n\t\t\t\t\t} else if (!Array.isArray(prop.items.type)) {\n\t\t\t\t\t\tlistItemType = prop.items.type;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tconst objectProperties = prop.type === 'object' ? prop.properties : undefined;\n\t\t\t\tconst objectPatternProperties = prop.type === 'object' ? prop.patternProperties : undefined;\n\t\t\t\tconst objectAdditionalProperties = prop.type === 'object' ? prop.additionalProperties : undefined;\n\n\t\t\t\tlet enumToUse = prop.enum;\n\t\t\t\tlet enumDescriptions = prop.markdownEnumDescriptions ?? prop.enumDescriptions;\n\t\t\t\tlet enumDescriptionsAreMarkdown = !!prop.markdownEnumDescriptions;\n\t\t\t\tif (listItemType === 'enum' && !Array.isArray(prop.items)) {\n\t\t\t\t\tenumToUse = prop.items!.enum;\n\t\t\t\t\tenumDescriptions = prop.items!.markdownEnumDescriptions ?? prop.items!.enumDescriptions;\n\t\t\t\t\tenumDescriptionsAreMarkdown = !!prop.items!.markdownEnumDescriptions;\n\t\t\t\t}\n\n\t\t\t\tlet allKeysAreBoolean = false;\n\t\t\t\tif (prop.type === 'object' && !prop.additionalProperties && prop.properties && Object.keys(prop.properties).length) {\n\t\t\t\t\tallKeysAreBoolean = Object.keys(prop.properties).every(key => {\n\t\t\t\t\t\treturn prop.properties![key].type === 'boolean';\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tlet isLanguageTagSetting = false;\n\t\t\t\tif (OVERRIDE_PROPERTY_REGEX.test(key)) {\n\t\t\t\t\tisLanguageTagSetting = true;\n\t\t\t\t}\n\n\t\t\t\tlet defaultValueSource: ConfigurationDefaultValueSource | undefined;\n\t\t\t\tif (!isLanguageTagSetting) {\n\t\t\t\t\tconst registeredConfigurationProp = prop as IRegisteredConfigurationPropertySchema;\n\t\t\t\t\tif (registeredConfigurationProp && registeredConfigurationProp.defaultValueSource) {\n\t\t\t\t\t\tdefaultValueSource = registeredConfigurationProp.defaultValueSource;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (!enumToUse && (prop.enumItemLabels || enumDescriptions || enumDescriptionsAreMarkdown)) {\n\t\t\t\t\tconsole.error(`The setting ${key} has enum-related fields, but doesn't have an enum field. This setting may render improperly in the Settings editor.`);\n\t\t\t\t}\n\n\t\t\t\tresult.push({\n\t\t\t\t\tkey,\n\t\t\t\t\tvalue,\n\t\t\t\t\tdescription: descriptionLines,\n\t\t\t\t\tdescriptionIsMarkdown: !!prop.markdownDescription,\n\t\t\t\t\trange: nullRange,\n\t\t\t\t\tkeyRange: nullRange,\n\t\t\t\t\tvalueRange: nullRange,\n\t\t\t\t\tdescriptionRanges: [],\n\t\t\t\t\toverrides,\n\t\t\t\t\tscope: prop.scope,\n\t\t\t\t\ttype: prop.type,\n\t\t\t\t\tarrayItemType: listItemType,\n\t\t\t\t\tobjectProperties,\n\t\t\t\t\tobjectPatternProperties,\n\t\t\t\t\tobjectAdditionalProperties,\n\t\t\t\t\tenum: enumToUse,\n\t\t\t\t\tenumDescriptions: enumDescriptions,\n\t\t\t\t\tenumDescriptionsAreMarkdown: enumDescriptionsAreMarkdown,\n\t\t\t\t\tenumItemLabels: prop.enumItemLabels,\n\t\t\t\t\tuniqueItems: prop.uniqueItems,\n\t\t\t\t\ttags: prop.tags,\n\t\t\t\t\tdisallowSyncIgnore: prop.disallowSyncIgnore,\n\t\t\t\t\trestricted: prop.restricted,\n\t\t\t\t\textensionInfo: extensionInfo,\n\t\t\t\t\tdeprecationMessage: prop.markdownDeprecationMessage || prop.deprecationMessage,\n\t\t\t\t\tdeprecationMessageIsMarkdown: !!prop.markdownDeprecationMessage,\n\t\t\t\t\tvalidator: createValidator(prop),\n\t\t\t\t\tallKeysAreBoolean,\n\t\t\t\t\teditPresentation: prop.editPresentation,\n\t\t\t\t\torder: prop.order,\n\t\t\t\t\tnonLanguageSpecificDefaultValueSource: defaultValueSource,\n\t\t\t\t\tisLanguageTagSetting,\n\t\t\t\t\tcategoryLabel\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tprivate parseOverrideSettings(overrideSettings: any): ISetting[] {\n\t\treturn Object.keys(overrideSettings).map((key) => ({\n\t\t\tkey,\n\t\t\tvalue: overrideSettings[key],\n\t\t\tdescription: [],\n\t\t\tdescriptionIsMarkdown: false,\n\t\t\trange: nullRange,\n\t\t\tkeyRange: nullRange,\n\t\t\tvalueRange: nullRange,\n\t\t\tdescriptionRanges: [],\n\t\t\toverrides: []\n\t\t}));\n\t}\n\n\tprivate matchesScope(property: IConfigurationNode): boolean {\n\t\tif (!property.scope) {\n\t\t\treturn true;\n\t\t}\n\t\tif (this.target === ConfigurationTarget.WORKSPACE_FOLDER) {\n\t\t\treturn FOLDER_SCOPES.indexOf(property.scope) !== -1;\n\t\t}\n\t\tif (this.target === ConfigurationTarget.WORKSPACE) {\n\t\t\treturn WORKSPACE_SCOPES.indexOf(property.scope) !== -1;\n\t\t}\n\t\treturn true;\n\t}\n\n\tprivate compareConfigurationNodes(c1: IConfigurationNode, c2: IConfigurationNode): number {\n\t\tif (typeof c1.order !== 'number') {\n\t\t\treturn 1;\n\t\t}\n\t\tif (typeof c2.order !== 'number') {\n\t\t\treturn -1;\n\t\t}\n\t\tif (c1.order === c2.order) {\n\t\t\tconst title1 = c1.title || '';\n\t\t\tconst title2 = c2.title || '';\n\t\t\treturn title1.localeCompare(title2);\n\t\t}\n\t\treturn c1.order - c2.order;\n\t}\n\n\tprivate toContent(settingsGroups: ISettingsGroup[], startIndex: number): string {\n\t\tconst builder = new SettingsContentBuilder();\n\t\tfor (let i = startIndex; i < settingsGroups.length; i++) {\n\t\t\tbuilder.pushGroup(settingsGroups[i], i === startIndex, i === settingsGroups.length - 1);\n\t\t}\n\t\treturn builder.getContent();\n\t}\n\n}\n\nexport class DefaultSettingsEditorModel extends AbstractSettingsModel implements ISettingsEditorModel {\n\n\tprivate _model: ITextModel;\n\n\tprivate readonly _onDidChangeGroups: Emitter<void> = this._register(new Emitter<void>());\n\treadonly onDidChangeGroups: Event<void> = this._onDidChangeGroups.event;\n\n\tconstructor(\n\t\tprivate _uri: URI,\n\t\treference: IReference<ITextEditorModel>,\n\t\tprivate readonly defaultSettings: DefaultSettings\n\t) {\n\t\tsuper();\n\n\t\tthis._register(defaultSettings.onDidChange(() => this._onDidChangeGroups.fire()));\n\t\tthis._model = reference.object.textEditorModel!;\n\t\tthis._register(this.onWillDispose(() => reference.dispose()));\n\t}\n\n\tget uri(): URI {\n\t\treturn this._uri;\n\t}\n\n\tget target(): ConfigurationTarget {\n\t\treturn this.defaultSettings.target;\n\t}\n\n\tget settingsGroups(): ISettingsGroup[] {\n\t\treturn this.defaultSettings.getSettingsGroups();\n\t}\n\n\tprotected override get filterGroups(): ISettingsGroup[] {\n\t\t// Don't look at \"commonly used\" for filter\n\t\treturn this.settingsGroups.slice(1);\n\t}\n\n\tprotected update(): IFilterResult | undefined {\n\t\tif (this._model.isDisposed()) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\t// Grab current result groups, only render non-empty groups\n\t\tconst resultGroups = [...this._currentResultGroups.values()]\n\t\t\t.sort((a, b) => a.order - b.order);\n\t\tconst nonEmptyResultGroups = resultGroups.filter(group => group.result.filterMatches.length);\n\n\t\tconst startLine = tail(this.settingsGroups)!.range.endLineNumber + 2;\n\t\tconst { settingsGroups: filteredGroups, matches } = this.writeResultGroups(nonEmptyResultGroups, startLine);\n\n\t\tconst metadata = this.collectMetadata(resultGroups);\n\t\treturn resultGroups.length ?\n\t\t\t<IFilterResult>{\n\t\t\t\tallGroups: this.settingsGroups,\n\t\t\t\tfilteredGroups,\n\t\t\t\tmatches,\n\t\t\t\tmetadata\n\t\t\t} :\n\t\t\tundefined;\n\t}\n\n\t/**\n\t * Translate the ISearchResultGroups to text, and write it to the editor model\n\t */\n\tprivate writeResultGroups(groups: ISearchResultGroup[], startLine: number): { matches: IRange[]; settingsGroups: ISettingsGroup[] } {\n\t\tconst contentBuilderOffset = startLine - 1;\n\t\tconst builder = new SettingsContentBuilder(contentBuilderOffset);\n\n\t\tconst settingsGroups: ISettingsGroup[] = [];\n\t\tconst matches: IRange[] = [];\n\t\tif (groups.length) {\n\t\t\tbuilder.pushLine(',');\n\t\t\tgroups.forEach(resultGroup => {\n\t\t\t\tconst settingsGroup = this.getGroup(resultGroup);\n\t\t\t\tsettingsGroups.push(settingsGroup);\n\t\t\t\tmatches.push(...this.writeSettingsGroupToBuilder(builder, settingsGroup, resultGroup.result.filterMatches));\n\t\t\t});\n\t\t}\n\n\t\t// note: 1-indexed line numbers here\n\t\tconst groupContent = builder.getContent() + '\\n';\n\t\tconst groupEndLine = this._model.getLineCount();\n\t\tconst cursorPosition = new Selection(startLine, 1, startLine, 1);\n\t\tconst edit: ISingleEditOperation = {\n\t\t\ttext: groupContent,\n\t\t\tforceMoveMarkers: true,\n\t\t\trange: new Range(startLine, 1, groupEndLine, 1)\n\t\t};\n\n\t\tthis._model.pushEditOperations([cursorPosition], [edit], () => [cursorPosition]);\n\n\t\t// Force tokenization now - otherwise it may be slightly delayed, causing a flash of white text\n\t\tconst tokenizeTo = Math.min(startLine + 60, this._model.getLineCount());\n\t\tthis._model.tokenization.forceTokenization(tokenizeTo);\n\n\t\treturn { matches, settingsGroups };\n\t}\n\n\tprivate writeSettingsGroupToBuilder(builder: SettingsContentBuilder, settingsGroup: ISettingsGroup, filterMatches: ISettingMatch[]): IRange[] {\n\t\tfilterMatches = filterMatches\n\t\t\t.map(filteredMatch => {\n\t\t\t\t// Fix match ranges to offset from setting start line\n\t\t\t\treturn <ISettingMatch>{\n\t\t\t\t\tsetting: filteredMatch.setting,\n\t\t\t\t\tscore: filteredMatch.score,\n\t\t\t\t\tmatches: filteredMatch.matches && filteredMatch.matches.map(match => {\n\t\t\t\t\t\treturn new Range(\n\t\t\t\t\t\t\tmatch.startLineNumber - filteredMatch.setting.range.startLineNumber,\n\t\t\t\t\t\t\tmatch.startColumn,\n\t\t\t\t\t\t\tmatch.endLineNumber - filteredMatch.setting.range.startLineNumber,\n\t\t\t\t\t\t\tmatch.endColumn);\n\t\t\t\t\t})\n\t\t\t\t};\n\t\t\t});\n\n\t\tbuilder.pushGroup(settingsGroup);\n\n\t\t// builder has rewritten settings ranges, fix match ranges\n\t\tconst fixedMatches = filterMatches\n\t\t\t.map(m => m.matches || [])\n\t\t\t.flatMap((settingMatches, i) => {\n\t\t\t\tconst setting = settingsGroup.sections[0].settings[i];\n\t\t\t\treturn settingMatches.map(range => {\n\t\t\t\t\treturn new Range(\n\t\t\t\t\t\trange.startLineNumber + setting.range.startLineNumber,\n\t\t\t\t\t\trange.startColumn,\n\t\t\t\t\t\trange.endLineNumber + setting.range.startLineNumber,\n\t\t\t\t\t\trange.endColumn);\n\t\t\t\t});\n\t\t\t});\n\n\t\treturn fixedMatches;\n\t}\n\n\tprivate copySetting(setting: ISetting): ISetting {\n\t\treturn {\n\t\t\tdescription: setting.description,\n\t\t\tscope: setting.scope,\n\t\t\ttype: setting.type,\n\t\t\tenum: setting.enum,\n\t\t\tenumDescriptions: setting.enumDescriptions,\n\t\t\tkey: setting.key,\n\t\t\tvalue: setting.value,\n\t\t\trange: setting.range,\n\t\t\toverrides: [],\n\t\t\toverrideOf: setting.overrideOf,\n\t\t\ttags: setting.tags,\n\t\t\tdeprecationMessage: setting.deprecationMessage,\n\t\t\tkeyRange: nullRange,\n\t\t\tvalueRange: nullRange,\n\t\t\tdescriptionIsMarkdown: undefined,\n\t\t\tdescriptionRanges: []\n\t\t};\n\t}\n\n\tfindValueMatches(filter: string, setting: ISetting): IRange[] {\n\t\treturn [];\n\t}\n\n\toverride getPreference(key: string): ISetting | undefined {\n\t\tfor (const group of this.settingsGroups) {\n\t\t\tfor (const section of group.sections) {\n\t\t\t\tfor (const setting of section.settings) {\n\t\t\t\t\tif (setting.key === key) {\n\t\t\t\t\t\treturn setting;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn undefined;\n\t}\n\n\tprivate getGroup(resultGroup: ISearchResultGroup): ISettingsGroup {\n\t\treturn <ISettingsGroup>{\n\t\t\tid: resultGroup.id,\n\t\t\trange: nullRange,\n\t\t\ttitle: resultGroup.label,\n\t\t\ttitleRange: nullRange,\n\t\t\tsections: [\n\t\t\t\t{\n\t\t\t\t\tsettings: resultGroup.result.filterMatches.map(m => this.copySetting(m.setting))\n\t\t\t\t}\n\t\t\t]\n\t\t};\n\t}\n}\n\nclass SettingsContentBuilder {\n\tprivate _contentByLines: string[];\n\n\tprivate get lineCountWithOffset(): number {\n\t\treturn this._contentByLines.length + this._rangeOffset;\n\t}\n\n\tprivate get lastLine(): string {\n\t\treturn this._contentByLines[this._contentByLines.length - 1] || '';\n\t}\n\n\tconstructor(private _rangeOffset = 0) {\n\t\tthis._contentByLines = [];\n\t}\n\n\tpushLine(...lineText: string[]): void {\n\t\tthis._contentByLines.push(...lineText);\n\t}\n\n\tpushGroup(settingsGroups: ISettingsGroup, isFirst?: boolean, isLast?: boolean): void {\n\t\tthis._contentByLines.push(isFirst ? '[{' : '{');\n\t\tconst lastSetting = this._pushGroup(settingsGroups, '  ');\n\n\t\tif (lastSetting) {\n\t\t\t// Strip the comma from the last setting\n\t\t\tconst lineIdx = lastSetting.range.endLineNumber - this._rangeOffset;\n\t\t\tconst content = this._contentByLines[lineIdx - 2];\n\t\t\tthis._contentByLines[lineIdx - 2] = content.substring(0, content.length - 1);\n\t\t}\n\n\t\tthis._contentByLines.push(isLast ? '}]' : '},');\n\t}\n\n\tprotected _pushGroup(group: ISettingsGroup, indent: string): ISetting | null {\n\t\tlet lastSetting: ISetting | null = null;\n\t\tconst groupStart = this.lineCountWithOffset + 1;\n\t\tfor (const section of group.sections) {\n\t\t\tif (section.title) {\n\t\t\t\tconst sectionTitleStart = this.lineCountWithOffset + 1;\n\t\t\t\tthis.addDescription([section.title], indent, this._contentByLines);\n\t\t\t\tsection.titleRange = { startLineNumber: sectionTitleStart, startColumn: 1, endLineNumber: this.lineCountWithOffset, endColumn: this.lastLine.length };\n\t\t\t}\n\n\t\t\tif (section.settings.length) {\n\t\t\t\tfor (const setting of section.settings) {\n\t\t\t\t\tthis.pushSetting(setting, indent);\n\t\t\t\t\tlastSetting = setting;\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\t\tgroup.range = { startLineNumber: groupStart, startColumn: 1, endLineNumber: this.lineCountWithOffset, endColumn: this.lastLine.length };\n\t\treturn lastSetting;\n\t}\n\n\tgetContent(): string {\n\t\treturn this._contentByLines.join('\\n');\n\t}\n\n\tprivate pushSetting(setting: ISetting, indent: string): void {\n\t\tconst settingStart = this.lineCountWithOffset + 1;\n\n\t\tthis.pushSettingDescription(setting, indent);\n\n\t\tlet preValueContent = indent;\n\t\tconst keyString = JSON.stringify(setting.key);\n\t\tpreValueContent += keyString;\n\t\tsetting.keyRange = { startLineNumber: this.lineCountWithOffset + 1, startColumn: preValueContent.indexOf(setting.key) + 1, endLineNumber: this.lineCountWithOffset + 1, endColumn: setting.key.length };\n\n\t\tpreValueContent += ': ';\n\t\tconst valueStart = this.lineCountWithOffset + 1;\n\t\tthis.pushValue(setting, preValueContent, indent);\n\n\t\tsetting.valueRange = { startLineNumber: valueStart, startColumn: preValueContent.length + 1, endLineNumber: this.lineCountWithOffset, endColumn: this.lastLine.length + 1 };\n\t\tthis._contentByLines[this._contentByLines.length - 1] += ',';\n\t\tthis._contentByLines.push('');\n\t\tsetting.range = { startLineNumber: settingStart, startColumn: 1, endLineNumber: this.lineCountWithOffset, endColumn: this.lastLine.length };\n\t}\n\n\tprivate pushSettingDescription(setting: ISetting, indent: string): void {\n\t\tconst fixSettingLink = (line: string) => line.replace(/`#(.*)#`/g, (match, settingName) => `\\`${settingName}\\``);\n\n\t\tsetting.descriptionRanges = [];\n\t\tconst descriptionPreValue = indent + '// ';\n\t\tconst deprecationMessageLines = setting.deprecationMessage?.split(/\\n/g) ?? [];\n\t\tfor (let line of [...deprecationMessageLines, ...setting.description]) {\n\t\t\tline = fixSettingLink(line);\n\n\t\t\tthis._contentByLines.push(descriptionPreValue + line);\n\t\t\tsetting.descriptionRanges.push({ startLineNumber: this.lineCountWithOffset, startColumn: this.lastLine.indexOf(line) + 1, endLineNumber: this.lineCountWithOffset, endColumn: this.lastLine.length });\n\t\t}\n\n\t\tif (setting.enum && setting.enumDescriptions?.some(desc => !!desc)) {\n\t\t\tsetting.enumDescriptions.forEach((desc, i) => {\n\t\t\t\tconst displayEnum = escapeInvisibleChars(String(setting.enum![i]));\n\t\t\t\tconst line = desc ?\n\t\t\t\t\t`${displayEnum}: ${fixSettingLink(desc)}` :\n\t\t\t\t\tdisplayEnum;\n\n\t\t\t\tconst lines = line.split(/\\n/g);\n\t\t\t\tlines[0] = ' - ' + lines[0];\n\t\t\t\tthis._contentByLines.push(...lines.map(l => `${indent}// ${l}`));\n\n\t\t\t\tsetting.descriptionRanges.push({ startLineNumber: this.lineCountWithOffset, startColumn: this.lastLine.indexOf(line) + 1, endLineNumber: this.lineCountWithOffset, endColumn: this.lastLine.length });\n\t\t\t});\n\t\t}\n\t}\n\n\tprivate pushValue(setting: ISetting, preValueConent: string, indent: string): void {\n\t\tconst valueString = JSON.stringify(setting.value, null, indent);\n\t\tif (valueString && (typeof setting.value === 'object')) {\n\t\t\tif (setting.overrides && setting.overrides.length) {\n\t\t\t\tthis._contentByLines.push(preValueConent + ' {');\n\t\t\t\tfor (const subSetting of setting.overrides) {\n\t\t\t\t\tthis.pushSetting(subSetting, indent + indent);\n\t\t\t\t\tthis._contentByLines.pop();\n\t\t\t\t}\n\t\t\t\tconst lastSetting = setting.overrides[setting.overrides.length - 1];\n\t\t\t\tconst content = this._contentByLines[lastSetting.range.endLineNumber - 2];\n\t\t\t\tthis._contentByLines[lastSetting.range.endLineNumber - 2] = content.substring(0, content.length - 1);\n\t\t\t\tthis._contentByLines.push(indent + '}');\n\t\t\t} else {\n\t\t\t\tconst mulitLineValue = valueString.split('\\n');\n\t\t\t\tthis._contentByLines.push(preValueConent + mulitLineValue[0]);\n\t\t\t\tfor (let i = 1; i < mulitLineValue.length; i++) {\n\t\t\t\t\tthis._contentByLines.push(indent + mulitLineValue[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tthis._contentByLines.push(preValueConent + valueString);\n\t\t}\n\t}\n\n\tprivate addDescription(description: string[], indent: string, result: string[]) {\n\t\tfor (const line of description) {\n\t\t\tresult.push(indent + '// ' + line);\n\t\t}\n\t}\n}\n\nclass RawSettingsContentBuilder extends SettingsContentBuilder {\n\n\tconstructor(private indent: string = '\\t') {\n\t\tsuper(0);\n\t}\n\n\toverride pushGroup(settingsGroups: ISettingsGroup): void {\n\t\tthis._pushGroup(settingsGroups, this.indent);\n\t}\n\n}\n\nexport class DefaultRawSettingsEditorModel extends Disposable {\n\n\tprivate _content: string | null = null;\n\n\tprivate readonly _onDidContentChanged = this._register(new Emitter<void>());\n\treadonly onDidContentChanged = this._onDidContentChanged.event;\n\n\tconstructor(private defaultSettings: DefaultSettings) {\n\t\tsuper();\n\t\tthis._register(defaultSettings.onDidChange(() => {\n\t\t\tthis._content = null;\n\t\t\tthis._onDidContentChanged.fire();\n\t\t}));\n\t}\n\n\tget content(): string {\n\t\tif (this._content === null) {\n\t\t\tconst builder = new RawSettingsContentBuilder();\n\t\t\tbuilder.pushLine('{');\n\t\t\tfor (const settingsGroup of this.defaultSettings.getRegisteredGroups()) {\n\t\t\t\tbuilder.pushGroup(settingsGroup);\n\t\t\t}\n\t\t\tbuilder.pushLine('}');\n\t\t\tthis._content = builder.getContent();\n\t\t}\n\t\treturn this._content;\n\t}\n}\n\nfunction escapeInvisibleChars(enumValue: string): string {\n\treturn enumValue && enumValue\n\t\t.replace(/\\n/g, '\\\\n')\n\t\t.replace(/\\r/g, '\\\\r');\n}\n\nexport function defaultKeybindingsContents(keybindingService: IKeybindingService): string {\n\tconst defaultsHeader = '// ' + nls.localize('defaultKeybindingsHeader', \"Override key bindings by placing them into your key bindings file.\");\n\treturn defaultsHeader + '\\n' + keybindingService.getDefaultKeybindingsContent();\n}\n\nexport class DefaultKeybindingsEditorModel implements IKeybindingsEditorModel<any> {\n\n\tprivate _content: string | undefined;\n\n\tconstructor(private _uri: URI,\n\t\t@IKeybindingService private readonly keybindingService: IKeybindingService) {\n\t}\n\n\tget uri(): URI {\n\t\treturn this._uri;\n\t}\n\n\tget content(): string {\n\t\tif (!this._content) {\n\t\t\tthis._content = defaultKeybindingsContents(this.keybindingService);\n\t\t}\n\t\treturn this._content;\n\t}\n\n\tgetPreference(): any {\n\t\treturn null;\n\t}\n\n\tdispose(): void {\n\t\t// Not disposable\n\t}\n}\n"],
  "mappings": ";;;;;;;;;;;;AAKA,SAAS,MAAM,gBAAgB;AAC/B,SAAS,yBAAyB;AAClC,SAAS,SAAS,aAAa;AAC/B,SAAS,aAAa,aAAa;AACnC,SAAS,YAAY,kBAAkB;AACvC,SAAS,WAAW;AACpB,SAAS,QAAQ,aAAa;AAC9B,SAAS,iBAAiB;AAC1B,SAAS,kBAAkB;AAC3B,SAAS,4BAA4B;AACrC,SAAS,wBAAwB;AACjC,YAAY,SAAS;AACrB,SAAS,qBAAqB,6BAA6B;AAC3D,SAAS,iCAAiC,oBAAoB,YAAY,oBAAoB,8BAA8B,wBAAwB,wCAAwC,+BAA+B;AAC3N,SAAS,0BAA0B;AACnC,SAAS,gBAAgB;AACzB,SAAS,mBAAmB;AAC5B,SAAS,iBAAiB,eAAe,cAAc,yBAAyB,oBAAoB,UAAU,eAAe,iBAAiB,sBAAsB,gBAAgB,wBAAwB;AAC5M,SAAS,eAAe,wBAAwB;AAChD,SAAS,uBAAuB;AAEzB,MAAM,YAAoB,EAAE,iBAAiB,IAAI,aAAa,IAAI,eAAe,IAAI,WAAW,GAAG;AAC1G,SAAS,YAAY,OAAwB;AAAE,SAAO,MAAM,oBAAoB,MAAM,MAAM,gBAAgB,MAAM,MAAM,kBAAkB,MAAM,MAAM,cAAc;AAAI;AAA/J;AAET,MAAe,8BAA8B,YAAY;AAAA,EA7BzD,OA6ByD;AAAA;AAAA;AAAA,EAE9C,uBAAuB,oBAAI,IAAgC;AAAA,EAErE,kBAAkB,IAAY,aAAwE;AACrG,QAAI,aAAa;AAChB,WAAK,qBAAqB,IAAI,IAAI,WAAW;AAAA,IAC9C,OAAO;AACN,WAAK,qBAAqB,OAAO,EAAE;AAAA,IACpC;AAEA,SAAK,uBAAuB;AAC5B,WAAO,KAAK,OAAO;AAAA,EACpB;AAAA;AAAA;AAAA;AAAA,EAKQ,yBAA+B;AACtC,UAAM,cAAc,oBAAI,IAAY;AACpC,KAAC,GAAG,KAAK,qBAAqB,KAAK,CAAC,EAClC,KAAK,CAAC,GAAG,MAAM,KAAK,qBAAqB,IAAI,CAAC,EAAG,QAAQ,KAAK,qBAAqB,IAAI,CAAC,EAAG,KAAK,EAChG,QAAQ,aAAW;AACnB,YAAM,QAAQ,KAAK,qBAAqB,IAAI,OAAO;AACnD,YAAM,OAAO,gBAAgB,MAAM,OAAO,cAAc,OAAO,OAAK,CAAC,YAAY,IAAI,EAAE,QAAQ,GAAG,CAAC;AACnG,YAAM,OAAO,cAAc,QAAQ,OAAK,YAAY,IAAI,EAAE,QAAQ,GAAG,CAAC;AAAA,IACvE,CAAC;AAAA,EACH;AAAA,EAEA,eAAe,QAAgB,aAA2B,gBAAkD;AAC3G,UAAM,YAAY,KAAK;AAEvB,UAAM,gBAAiC,CAAC;AACxC,eAAW,SAAS,WAAW;AAC9B,YAAM,eAAe,YAAY,KAAK;AACtC,iBAAW,WAAW,MAAM,UAAU;AACrC,mBAAW,WAAW,QAAQ,UAAU;AACvC,gBAAM,qBAAqB,eAAe,SAAS,KAAK;AAExD,cAAI,gBAAgB,oBAAoB;AACvC,0BAAc,KAAK;AAAA,cAClB;AAAA,cACA,SAAS,sBAAsB,mBAAmB;AAAA,cAClD,WAAW,oBAAoB,aAAa,iBAAiB;AAAA,cAC7D,OAAO,oBAAoB,SAAS;AAAA,YACrC,CAAC;AAAA,UACF;AAAA,QACD;AAAA,MACD;AAAA,IACD;AAEA,WAAO;AAAA,EACR;AAAA,EAEA,cAAc,KAAmC;AAChD,eAAW,SAAS,KAAK,gBAAgB;AACxC,iBAAW,WAAW,MAAM,UAAU;AACrC,mBAAW,WAAW,QAAQ,UAAU;AACvC,cAAI,QAAQ,QAAQ,KAAK;AACxB,mBAAO;AAAA,UACR;AAAA,QACD;AAAA,MACD;AAAA,IACD;AAEA,WAAO;AAAA,EACR;AAAA,EAEU,gBAAgB,QAAkE;AAC3F,UAAM,WAAW,uBAAO,OAAO,IAAI;AACnC,QAAI,cAAc;AAClB,WAAO,QAAQ,OAAK;AACnB,UAAI,EAAE,OAAO,UAAU;AACtB,iBAAS,EAAE,EAAE,IAAI,EAAE,OAAO;AAC1B,sBAAc;AAAA,MACf;AAAA,IACD,CAAC;AAED,WAAO,cAAc,WAAW;AAAA,EACjC;AAAA,EAGA,IAAc,eAAiC;AAC9C,WAAO,KAAK;AAAA,EACb;AAOD;AAEO,MAAM,4BAA4B,sBAAsD;AAAA,EAQ9F,YAAY,WAAiD,sBAA2C;AACvG,UAAM;AADsD;AAE5D,SAAK,gBAAgB,UAAU,OAAO;AACtC,SAAK,UAAU,KAAK,cAAc,MAAM,UAAU,QAAQ,CAAC,CAAC;AAC5D,SAAK,UAAU,KAAK,cAAc,mBAAmB,MAAM;AAC1D,WAAK,kBAAkB;AACvB,WAAK,mBAAmB,KAAK;AAAA,IAC9B,CAAC,CAAC;AAAA,EACH;AAAA,EA1ID,OA0H+F;AAAA;AAAA;AAAA,EAEtF;AAAA,EACE;AAAA,EAEO,qBAAoC,KAAK,UAAU,IAAI,QAAc,CAAC;AAAA,EAC9E,oBAAiC,KAAK,mBAAmB;AAAA,EAYlE,IAAI,MAAW;AACd,WAAO,KAAK,cAAc;AAAA,EAC3B;AAAA,EAEA,IAAI,sBAA2C;AAC9C,WAAO,KAAK;AAAA,EACb;AAAA,EAEA,IAAI,iBAAmC;AACtC,QAAI,CAAC,KAAK,iBAAiB;AAC1B,WAAK,MAAM;AAAA,IACZ;AACA,WAAO,KAAK;AAAA,EACb;AAAA,EAEA,IAAI,UAAkB;AACrB,WAAO,KAAK,cAAc,SAAS;AAAA,EACpC;AAAA,EAEA,iBAAiB,QAAgB,SAA6B;AAC7D,WAAO,KAAK,cAAc,YAAY,QAAQ,QAAQ,YAAY,OAAO,OAAO,MAAM,KAAK,EAAE,IAAI,WAAS,MAAM,KAAK;AAAA,EACtH;AAAA,EAEU,mBAAmB,UAAkB,iBAAoC;AAClF,WAAO,gBAAgB,WAAW;AAAA,EACnC;AAAA,EAEU,QAAc;AACvB,SAAK,kBAAkB,MAAM,KAAK,eAAe,CAAC,UAAkB,oBAAuC,KAAK,mBAAmB,UAAU,eAAe,CAAC;AAAA,EAC9J;AAAA,EAEU,SAAoC;AAC7C,UAAM,eAAe,CAAC,GAAG,KAAK,qBAAqB,OAAO,CAAC;AAC3D,QAAI,CAAC,aAAa,QAAQ;AACzB,aAAO;AAAA,IACR;AAGA,UAAM,mBAA+B,CAAC;AACtC,UAAM,UAAoB,CAAC;AAC3B,iBAAa,QAAQ,WAAS;AAC7B,YAAM,OAAO,cAAc,QAAQ,iBAAe;AACjD,yBAAiB,KAAK,YAAY,OAAO;AACzC,YAAI,YAAY,SAAS;AACxB,kBAAQ,KAAK,GAAG,YAAY,OAAO;AAAA,QACpC;AAAA,MACD,CAAC;AAAA,IACF,CAAC;AAED,QAAI;AACJ,UAAM,aAAa,KAAK,eAAe,CAAC;AACxC,QAAI,YAAY;AACf,sBAAgB;AAAA,QACf,IAAI,WAAW;AAAA,QACf,OAAO,WAAW;AAAA,QAClB,UAAU,CAAC;AAAA,UACV,UAAU;AAAA,QACX,CAAC;AAAA,QACD,OAAO,WAAW;AAAA,QAClB,YAAY,WAAW;AAAA,QACvB,OAAO,WAAW;AAAA,QAClB,eAAe,WAAW;AAAA,MAC3B;AAAA,IACD;AAEA,UAAM,WAAW,KAAK,gBAAgB,YAAY;AAClD,WAAO;AAAA,MACN,WAAW,KAAK;AAAA,MAChB,gBAAgB,gBAAgB,CAAC,aAAa,IAAI,CAAC;AAAA,MACnD;AAAA,MACA;AAAA,IACD;AAAA,EACD;AACD;AAEO,IAAM,uBAAN,cAAmC,sBAAsD;AAAA,EAO/F,YACS,kBACe,sBACtB;AACD,UAAM;AAHE;AAKR,SAAK,UAAU,qBAAqB,yBAAyB,OAAK;AACjE,UAAI,EAAE,WAAW,oBAAoB,SAAS;AAC7C,aAAK,QAAQ;AACb,aAAK,mBAAmB,KAAK;AAAA,MAC9B;AAAA,IACD,CAAC,CAAC;AACF,SAAK,UAAU,SAAS,GAA2B,WAAW,aAAa,EAAE,kBAAkB,OAAK;AACnG,WAAK,QAAQ;AACb,WAAK,mBAAmB,KAAK;AAAA,IAC9B,CAAC,CAAC;AAAA,EACH;AAAA,EA9OD,OAuNgG;AAAA;AAAA;AAAA,EAC9E,qBAAoC,KAAK,UAAU,IAAI,QAAc,CAAC;AAAA,EAC9E,oBAAiC,KAAK,mBAAmB;AAAA,EAE1D,mBAAqC,CAAC;AAAA,EACtC,QAAQ;AAAA;AAAA,EAqBhB,IAAuB,eAAiC;AACvD,WAAO,KAAK,eAAe,MAAM,CAAC;AAAA,EACnC;AAAA,EAEA,IAAI,iBAAmC;AACtC,UAAM,SAAS,KAAK,iBAAiB,kBAAkB,KAAK,KAAK;AACjE,SAAK,QAAQ;AACb,WAAO,CAAC,GAAG,QAAQ,GAAG,KAAK,gBAAgB;AAAA,EAC5C;AAAA;AAAA,EAGA,oBAAoB,QAA0B;AAC7C,SAAK,mBAAmB;AAAA,EACzB;AAAA,EAEA,iBAAiB,QAAgB,SAA6B;AAE7D,WAAO,CAAC;AAAA,EACT;AAAA,EAEU,SAAwB;AACjC,UAAM,IAAI,MAAM,eAAe;AAAA,EAChC;AACD;AAjDa,uBAAN;AAAA,EASJ;AAAA,GATU;AAmDb,SAAS,MAAM,OAAmB,oBAAuG;AACxI,QAAM,WAAuB,CAAC;AAC9B,MAAI,kBAAmC;AAEvC,MAAI,kBAAiC;AACrC,MAAI,gBAAqB,CAAC;AAC1B,QAAM,kBAAyB,CAAC;AAChC,MAAI,wBAAgC;AACpC,QAAM,QAAQ;AAAA,IACb,iBAAiB;AAAA,IACjB,aAAa;AAAA,IACb,eAAe;AAAA,IACf,WAAW;AAAA,EACZ;AAEA,WAAS,QAAQ,OAAY,QAAgB,QAAgB;AAC5D,QAAI,MAAM,QAAQ,aAAa,GAAG;AACjC,MAAQ,cAAe,KAAK,KAAK;AAAA,IAClC,WAAW,iBAAiB;AAC3B,oBAAc,eAAe,IAAI;AAAA,IAClC;AACA,QAAI,gBAAgB,WAAW,wBAAwB,KAAM,gBAAgB,WAAW,wBAAwB,KAAK,oBAAoB,MAAO;AAE/I,YAAM,UAAU,gBAAgB,WAAW,wBAAwB,IAAI,SAAS,SAAS,SAAS,CAAC,IAAI,gBAAiB,UAAW,gBAAiB,UAAW,SAAS,CAAC;AACzK,UAAI,SAAS;AACZ,cAAM,qBAAqB,MAAM,cAAc,MAAM;AACrD,cAAM,mBAAmB,MAAM,cAAc,SAAS,MAAM;AAC5D,gBAAQ,QAAQ;AAChB,gBAAQ,aAAa;AAAA,UACpB,iBAAiB,mBAAmB;AAAA,UACpC,aAAa,mBAAmB;AAAA,UAChC,eAAe,iBAAiB;AAAA,UAChC,WAAW,iBAAiB;AAAA,QAC7B;AACA,gBAAQ,QAAQ,OAAO,OAAO,QAAQ,OAAO;AAAA,UAC5C,eAAe,iBAAiB;AAAA,UAChC,WAAW,iBAAiB;AAAA,QAC7B,CAAC;AAAA,MACF;AAAA,IACD;AAAA,EACD;AAzBS;AA0BT,QAAM,UAAuB;AAAA,IAC5B,eAAe,wBAAC,QAAgB,WAAmB;AAClD,UAAI,mBAAmB,iBAAkB,eAAe,GAAG;AAE1D,gCAAwB,gBAAgB;AACxC,cAAM,WAAW,MAAM,cAAc,MAAM;AAC3C,cAAM,kBAAkB,SAAS;AACjC,cAAM,cAAc,SAAS;AAAA,MAC9B;AACA,YAAM,SAAS,CAAC;AAChB,cAAQ,QAAQ,QAAQ,MAAM;AAC9B,sBAAgB;AAChB,wBAAkB;AAClB,sBAAgB,KAAK,aAAa;AAAA,IACnC,GAbe;AAAA,IAcf,kBAAkB,wBAAC,MAAc,QAAgB,WAAmB;AACnE,wBAAkB;AAClB,UAAI,gBAAgB,WAAW,wBAAwB,KAAM,gBAAgB,WAAW,wBAAwB,KAAK,oBAAoB,MAAO;AAE/I,cAAM,uBAAuB,MAAM,cAAc,MAAM;AACvD,cAAM,UAAoB;AAAA,UACzB,aAAa,CAAC;AAAA,UACd,uBAAuB;AAAA,UACvB,KAAK;AAAA,UACL,UAAU;AAAA,YACT,iBAAiB,qBAAqB;AAAA,YACtC,aAAa,qBAAqB,SAAS;AAAA,YAC3C,eAAe,qBAAqB;AAAA,YACpC,WAAW,qBAAqB,SAAS;AAAA,UAC1C;AAAA,UACA,OAAO;AAAA,YACN,iBAAiB,qBAAqB;AAAA,YACtC,aAAa,qBAAqB;AAAA,YAClC,eAAe;AAAA,YACf,WAAW;AAAA,UACZ;AAAA,UACA,OAAO;AAAA,UACP,YAAY;AAAA,UACZ,mBAAmB,CAAC;AAAA,UACpB,WAAW,CAAC;AAAA,UACZ,YAAY,mBAAmB;AAAA,QAChC;AACA,YAAI,gBAAgB,WAAW,wBAAwB,GAAG;AACzD,mBAAS,KAAK,OAAO;AACrB,cAAI,wBAAwB,KAAK,IAAI,GAAG;AACvC,8BAAkB;AAAA,UACnB;AAAA,QACD,OAAO;AACN,0BAAiB,UAAW,KAAK,OAAO;AAAA,QACzC;AAAA,MACD;AAAA,IACD,GApCkB;AAAA,IAqClB,aAAa,wBAAC,QAAgB,WAAmB;AAChD,sBAAgB,gBAAgB,IAAI;AACpC,UAAI,0BAA0B,OAAO,gBAAgB,WAAW,wBAAwB,KAAM,gBAAgB,WAAW,wBAAwB,KAAK,oBAAoB,OAAQ;AAEjL,cAAM,UAAU,gBAAgB,WAAW,wBAAwB,IAAI,SAAS,SAAS,SAAS,CAAC,IAAI,gBAAiB,UAAW,gBAAiB,UAAW,SAAS,CAAC;AACzK,YAAI,SAAS;AACZ,gBAAM,mBAAmB,MAAM,cAAc,SAAS,MAAM;AAC5D,kBAAQ,aAAa,OAAO,OAAO,QAAQ,YAAY;AAAA,YACtD,eAAe,iBAAiB;AAAA,YAChC,WAAW,iBAAiB;AAAA,UAC7B,CAAC;AACD,kBAAQ,QAAQ,OAAO,OAAO,QAAQ,OAAO;AAAA,YAC5C,eAAe,iBAAiB;AAAA,YAChC,WAAW,iBAAiB;AAAA,UAC7B,CAAC;AAAA,QACF;AAEA,YAAI,gBAAgB,WAAW,wBAAwB,GAAG;AACzD,4BAAkB;AAAA,QACnB;AAAA,MACD;AACA,UAAI,gBAAgB,WAAW,uBAAuB;AAErD,cAAM,WAAW,MAAM,cAAc,MAAM;AAC3C,cAAM,gBAAgB,SAAS;AAC/B,cAAM,YAAY,SAAS;AAC3B,gCAAwB;AAAA,MACzB;AAAA,IACD,GA5Ba;AAAA,IA6Bb,cAAc,wBAAC,QAAgB,WAAmB;AACjD,YAAM,QAAe,CAAC;AACtB,cAAQ,OAAO,QAAQ,MAAM;AAC7B,sBAAgB,KAAK,aAAa;AAClC,sBAAgB;AAChB,wBAAkB;AAAA,IACnB,GANc;AAAA,IAOd,YAAY,wBAAC,QAAgB,WAAmB;AAC/C,sBAAgB,gBAAgB,IAAI;AACpC,UAAI,gBAAgB,WAAW,wBAAwB,KAAM,gBAAgB,WAAW,wBAAwB,KAAK,oBAAoB,MAAO;AAE/I,cAAM,UAAU,gBAAgB,WAAW,wBAAwB,IAAI,SAAS,SAAS,SAAS,CAAC,IAAI,gBAAiB,UAAW,gBAAiB,UAAW,SAAS,CAAC;AACzK,YAAI,SAAS;AACZ,gBAAM,mBAAmB,MAAM,cAAc,SAAS,MAAM;AAC5D,kBAAQ,aAAa,OAAO,OAAO,QAAQ,YAAY;AAAA,YACtD,eAAe,iBAAiB;AAAA,YAChC,WAAW,iBAAiB;AAAA,UAC7B,CAAC;AACD,kBAAQ,QAAQ,OAAO,OAAO,QAAQ,OAAO;AAAA,YAC5C,eAAe,iBAAiB;AAAA,YAChC,WAAW,iBAAiB;AAAA,UAC7B,CAAC;AAAA,QACF;AAAA,MACD;AAAA,IACD,GAjBY;AAAA,IAkBZ,gBAAgB;AAAA,IAChB,SAAS,wBAAC,UAAU;AACnB,YAAM,UAAU,SAAS,SAAS,SAAS,CAAC;AAC5C,UAAI,YAAY,YAAY,QAAQ,KAAK,KAAK,YAAY,QAAQ,QAAQ,KAAK,YAAY,QAAQ,UAAU,IAAI;AAChH,iBAAS,IAAI;AAAA,MACd;AAAA,IACD,GALS;AAAA,EAMV;AACA,MAAI,CAAC,MAAM,WAAW,GAAG;AACxB,UAAM,MAAM,SAAS,GAAG,OAAO;AAAA,EAChC;AACA,SAAO,SAAS,SAAS,IAAI,CAAiB;AAAA,IAC7C,UAAU;AAAA,MACT;AAAA,QACC;AAAA,MACD;AAAA,IACD;AAAA,IACA,OAAO;AAAA,IACP,YAAY;AAAA,IACZ;AAAA,EACD,CAAC,IAAI,CAAC;AACP;AAxKS;AA0KF,MAAM,0CAA0C,oBAAoB;AAAA,EApb3E,OAob2E;AAAA;AAAA;AAAA,EAElE,uBAAyC,CAAC;AAAA,EAElD,IAAI,sBAAwC;AAC3C,WAAO,KAAK;AAAA,EACb;AAAA,EAEmB,QAAc;AAChC,UAAM,MAAM;AACZ,SAAK,uBAAuB,MAAM,KAAK,eAAe,CAAC,UAAkB,oBAAuC,gBAAgB,WAAW,CAAC;AAAA,EAC7I;AAAA,EAEmB,mBAAmB,UAAkB,iBAAoC;AAC3F,WAAO,aAAa,cAAc,gBAAgB,WAAW;AAAA,EAC9D;AAED;AAEO,MAAM,wBAAwB,WAAW;AAAA,EAU/C,YACS,+BACC,QACA,sBACR;AACD,UAAM;AAJE;AACC;AACA;AAGT,SAAK,UAAU,qBAAqB,yBAAyB,OAAK;AACjE,UAAI,EAAE,WAAW,oBAAoB,SAAS;AAC7C,aAAK,MAAM;AACX,aAAK,aAAa,KAAK;AAAA,MACxB;AAAA,IACD,CAAC,CAAC;AAAA,EACH;AAAA,EA7dD,OAucgD;AAAA;AAAA;AAAA,EAEvC;AAAA,EACA;AAAA,EACA;AAAA,EACA,kBAAkB,oBAAI,IAAsB;AAAA,EAEnC,eAA8B,KAAK,UAAU,IAAI,QAAc,CAAC;AAAA,EACxE,cAA2B,KAAK,aAAa;AAAA,EAgBtD,WAAW,cAAc,OAAe;AACvC,QAAI,CAAC,KAAK,YAAY,aAAa;AAClC,WAAK,WAAW;AAAA,IACjB;AAEA,WAAO,KAAK;AAAA,EACb;AAAA,EAEA,kCAAkC,cAAc,OAAe;AAC9D,QAAI,CAAC,KAAK,mCAAmC,aAAa;AACzD,WAAK,WAAW;AAAA,IACjB;AAEA,WAAO,KAAK;AAAA,EACb;AAAA,EAEA,kBAAkB,cAAc,OAAyB;AACxD,QAAI,CAAC,KAAK,sBAAsB,aAAa;AAC5C,WAAK,WAAW;AAAA,IACjB;AAEA,WAAO,KAAK;AAAA,EACb;AAAA,EAEQ,aAAmB;AAC1B,SAAK,qBAAqB,KAAK,MAAM;AACrC,SAAK,WAAW,KAAK,UAAU,KAAK,oBAAoB,CAAC;AACzD,SAAK,kCAAkC,KAAK,UAAU,KAAK,oBAAoB,CAAC;AAAA,EACjF;AAAA,EAEQ,QAAc;AACrB,SAAK,WAAW;AAChB,SAAK,kCAAkC;AACvC,SAAK,qBAAqB;AAAA,EAC3B;AAAA,EAEQ,QAA0B;AACjC,UAAM,iBAAiB,KAAK,oBAAoB;AAChD,SAAK,mBAAmB,cAAc;AACtC,UAAM,mBAAmB,KAAK,4BAA4B;AAC1D,WAAO,CAAC,kBAAkB,GAAG,cAAc;AAAA,EAC5C;AAAA,EAEA,sBAAwC;AACvC,UAAM,iBAAiB,SAAS,GAA2B,WAAW,aAAa,EAAE,kBAAkB,EAAE,MAAM;AAC/G,UAAM,SAAS,KAAK,0BAA0B,eAAe,KAAK,KAAK,yBAAyB,EAC9F,OAAyB,CAAC,QAAQ,QAAQ,OAAO,UAAU,KAAK,YAAY,QAAQ,QAAQ,KAAK,GAAG,CAAC,CAAC,CAAC;AAEzG,WAAO,KAAK,WAAW,MAAM;AAAA,EAC9B;AAAA,EAEQ,WAAW,QAA4C;AAC9D,WAAO,QAAQ,WAAS;AACvB,YAAM,SAAS,QAAQ,aAAW;AACjC,gBAAQ,SAAS,KAAK,CAAC,GAAG,MAAM,EAAE,IAAI,cAAc,EAAE,GAAG,CAAC;AAAA,MAC3D,CAAC;AAAA,IACF,CAAC;AAED,WAAO;AAAA,EACR;AAAA,EAEQ,mBAAmB,mBAA2C;AACrE,SAAK,kBAAkB,oBAAI,IAAsB;AACjD,eAAW,SAAS,mBAAmB;AACtC,iBAAW,WAAW,MAAM,UAAU;AACrC,mBAAW,WAAW,QAAQ,UAAU;AACvC,eAAK,gBAAgB,IAAI,QAAQ,KAAK,OAAO;AAAA,QAC9C;AAAA,MACD;AAAA,IACD;AAAA,EACD;AAAA,EAEQ,8BAA8C;AACrD,UAAM,WAAW,SAAS,KAAK,8BAA8B,IAAI,SAAO;AACvE,YAAM,UAAU,KAAK,gBAAgB,IAAI,GAAG;AAC5C,UAAI,SAAS;AACZ,eAAO;AAAA,UACN,aAAa,QAAQ;AAAA,UACrB,KAAK,QAAQ;AAAA,UACb,OAAO,QAAQ;AAAA,UACf,UAAU;AAAA,UACV,OAAO;AAAA,UACP,YAAY;AAAA,UACZ,WAAW,CAAC;AAAA,UACZ,OAAO,mBAAmB;AAAA,UAC1B,MAAM,QAAQ;AAAA,UACd,MAAM,QAAQ;AAAA,UACd,kBAAkB,QAAQ;AAAA,UAC1B,mBAAmB,CAAC;AAAA,QACrB;AAAA,MACD;AACA,aAAO;AAAA,IACR,CAAC,CAAC;AAEF,WAAO;AAAA,MACN,IAAI;AAAA,MACJ,OAAO;AAAA,MACP,OAAO,IAAI,SAAS,gBAAgB,eAAe;AAAA,MACnD,YAAY;AAAA,MACZ,UAAU;AAAA,QACT;AAAA,UACC;AAAA,QACD;AAAA,MACD;AAAA,IACD;AAAA,EACD;AAAA,EAEQ,YAAY,QAA4B,QAA0B,gBAAsC,eAAgC,cAA6D;AAC5M,mBAAe,eAAe,eAAe,CAAC;AAC9C,QAAI,QAAQ,OAAO;AACnB,QAAI,CAAC,OAAO;AACX,YAAM,2BAA2B,eAAe,KAAK,OAAM,EAAE,OAAO,OAAO,MAAO,EAAE,KAAK;AACzF,UAAI,0BAA0B;AAC7B,gBAAQ,yBAAyB;AAAA,MAClC;AAAA,IACD;AACA,QAAI,OAAO;AACV,UAAI,CAAC,eAAe;AACnB,wBAAgB,OAAO,KAAK,OAAK,EAAE,UAAU,SAAS,EAAE,eAAe,OAAO,OAAO,eAAe,EAAE;AACtG,YAAI,CAAC,eAAe;AACnB,0BAAgB,EAAE,UAAU,CAAC,EAAE,UAAU,CAAC,EAAE,CAAC,GAAG,IAAI,OAAO,MAAM,IAAI,OAAO,SAAS,IAAI,YAAY,WAAW,OAAO,OAAO,OAAO,OAAO,WAAW,eAAe,OAAO,cAAc;AAC3L,iBAAO,KAAK,aAAa;AAAA,QAC1B;AAAA,MACD,OAAO;AACN,sBAAc,SAAS,cAAc,SAAS,SAAS,CAAC,EAAE,QAAQ;AAAA,MACnE;AAAA,IACD;AACA,QAAI,OAAO,YAAY;AACtB,UAAI,CAAC,eAAe;AACnB,wBAAgB,EAAE,UAAU,CAAC,EAAE,UAAU,CAAC,EAAE,CAAC,GAAG,IAAI,OAAO,MAAM,IAAI,OAAO,OAAO,MAAM,IAAI,YAAY,WAAW,OAAO,OAAO,OAAO,OAAO,WAAW,eAAe,OAAO,cAAc;AAC/L,eAAO,KAAK,aAAa;AAAA,MAC1B;AACA,YAAM,wBAAoC,CAAC;AAC3C,iBAAW,WAAW,CAAC,GAAG,cAAc,SAAS,cAAc,SAAS,SAAS,CAAC,EAAE,UAAU,GAAG,KAAK,cAAc,MAAM,CAAC,GAAG;AAC7H,YAAI,CAAC,aAAa,QAAQ,GAAG,GAAG;AAC/B,gCAAsB,KAAK,OAAO;AAClC,uBAAa,QAAQ,GAAG,IAAI;AAAA,QAC7B;AAAA,MACD;AACA,UAAI,sBAAsB,QAAQ;AACjC,sBAAc,SAAS,cAAc,SAAS,SAAS,CAAC,EAAE,WAAW;AAAA,MACtE;AAAA,IACD;AACA,WAAO,OAAO,QAAQ,OAAK,KAAK,YAAY,GAAG,QAAQ,gBAAgB,eAAe,YAAY,CAAC;AACnG,WAAO;AAAA,EACR;AAAA,EAEQ,0BAA0B,gBAAoD;AACrF,UAAM,SAA2B,CAAC;AAClC,eAAW,iBAAiB,gBAAgB;AAC3C,oBAAc,WAAW,cAAc,SAAS,OAAO,aAAW,QAAQ,SAAS,SAAS,CAAC;AAC7F,UAAI,cAAc,SAAS,QAAQ;AAClC,eAAO,KAAK,aAAa;AAAA,MAC1B;AAAA,IACD;AACA,WAAO;AAAA,EACR;AAAA,EAEQ,cAAc,QAAwC;AAC7D,UAAM,SAAqB,CAAC;AAE5B,UAAM,iBAAiB,OAAO;AAC9B,UAAM,gBAAgB,OAAO;AAI7B,UAAM,gBAAgB,OAAO,eAAe,OAAO,OAAO,KAAK,OAAO,QAAQ,OAAO;AAErF,eAAW,OAAO,gBAAgB;AACjC,YAAM,OAAqC,eAAe,GAAG;AAC7D,UAAI,KAAK,aAAa,IAAI,GAAG;AAC5B,cAAM,QAAQ,KAAK;AACnB,YAAI,cAAe,KAAK,uBAAuB,KAAK,eAAe;AACnE,YAAI,OAAO,gBAAgB,UAAU;AACpC,wBAAc;AAAA,QACf;AACA,cAAM,mBAAmB,YAAY,MAAM,IAAI;AAC/C,cAAM,YAAY,wBAAwB,KAAK,GAAG,IAAI,KAAK,sBAAsB,KAAK,OAAO,IAAI,CAAC;AAClG,YAAI;AACJ,YAAI,KAAK,SAAS,WAAW,KAAK,SAAS,CAAC,MAAM,QAAQ,KAAK,KAAK,KAAK,KAAK,MAAM,MAAM;AACzF,cAAI,KAAK,MAAM,MAAM;AACpB,2BAAe;AAAA,UAChB,WAAW,CAAC,MAAM,QAAQ,KAAK,MAAM,IAAI,GAAG;AAC3C,2BAAe,KAAK,MAAM;AAAA,UAC3B;AAAA,QACD;AAEA,cAAM,mBAAmB,KAAK,SAAS,WAAW,KAAK,aAAa;AACpE,cAAM,0BAA0B,KAAK,SAAS,WAAW,KAAK,oBAAoB;AAClF,cAAM,6BAA6B,KAAK,SAAS,WAAW,KAAK,uBAAuB;AAExF,YAAI,YAAY,KAAK;AACrB,YAAI,mBAAmB,KAAK,4BAA4B,KAAK;AAC7D,YAAI,8BAA8B,CAAC,CAAC,KAAK;AACzC,YAAI,iBAAiB,UAAU,CAAC,MAAM,QAAQ,KAAK,KAAK,GAAG;AAC1D,sBAAY,KAAK,MAAO;AACxB,6BAAmB,KAAK,MAAO,4BAA4B,KAAK,MAAO;AACvE,wCAA8B,CAAC,CAAC,KAAK,MAAO;AAAA,QAC7C;AAEA,YAAI,oBAAoB;AACxB,YAAI,KAAK,SAAS,YAAY,CAAC,KAAK,wBAAwB,KAAK,cAAc,OAAO,KAAK,KAAK,UAAU,EAAE,QAAQ;AACnH,8BAAoB,OAAO,KAAK,KAAK,UAAU,EAAE,MAAM,CAAAA,SAAO;AAC7D,mBAAO,KAAK,WAAYA,IAAG,EAAE,SAAS;AAAA,UACvC,CAAC;AAAA,QACF;AAEA,YAAI,uBAAuB;AAC3B,YAAI,wBAAwB,KAAK,GAAG,GAAG;AACtC,iCAAuB;AAAA,QACxB;AAEA,YAAI;AACJ,YAAI,CAAC,sBAAsB;AAC1B,gBAAM,8BAA8B;AACpC,cAAI,+BAA+B,4BAA4B,oBAAoB;AAClF,iCAAqB,4BAA4B;AAAA,UAClD;AAAA,QACD;AAEA,YAAI,CAAC,cAAc,KAAK,kBAAkB,oBAAoB,8BAA8B;AAC3F,kBAAQ,MAAM,eAAe,GAAG,sHAAsH;AAAA,QACvJ;AAEA,eAAO,KAAK;AAAA,UACX;AAAA,UACA;AAAA,UACA,aAAa;AAAA,UACb,uBAAuB,CAAC,CAAC,KAAK;AAAA,UAC9B,OAAO;AAAA,UACP,UAAU;AAAA,UACV,YAAY;AAAA,UACZ,mBAAmB,CAAC;AAAA,UACpB;AAAA,UACA,OAAO,KAAK;AAAA,UACZ,MAAM,KAAK;AAAA,UACX,eAAe;AAAA,UACf;AAAA,UACA;AAAA,UACA;AAAA,UACA,MAAM;AAAA,UACN;AAAA,UACA;AAAA,UACA,gBAAgB,KAAK;AAAA,UACrB,aAAa,KAAK;AAAA,UAClB,MAAM,KAAK;AAAA,UACX,oBAAoB,KAAK;AAAA,UACzB,YAAY,KAAK;AAAA,UACjB;AAAA,UACA,oBAAoB,KAAK,8BAA8B,KAAK;AAAA,UAC5D,8BAA8B,CAAC,CAAC,KAAK;AAAA,UACrC,WAAW,gBAAgB,IAAI;AAAA,UAC/B;AAAA,UACA,kBAAkB,KAAK;AAAA,UACvB,OAAO,KAAK;AAAA,UACZ,uCAAuC;AAAA,UACvC;AAAA,UACA;AAAA,QACD,CAAC;AAAA,MACF;AAAA,IACD;AACA,WAAO;AAAA,EACR;AAAA,EAEQ,sBAAsB,kBAAmC;AAChE,WAAO,OAAO,KAAK,gBAAgB,EAAE,IAAI,CAAC,SAAS;AAAA,MAClD;AAAA,MACA,OAAO,iBAAiB,GAAG;AAAA,MAC3B,aAAa,CAAC;AAAA,MACd,uBAAuB;AAAA,MACvB,OAAO;AAAA,MACP,UAAU;AAAA,MACV,YAAY;AAAA,MACZ,mBAAmB,CAAC;AAAA,MACpB,WAAW,CAAC;AAAA,IACb,EAAE;AAAA,EACH;AAAA,EAEQ,aAAa,UAAuC;AAC3D,QAAI,CAAC,SAAS,OAAO;AACpB,aAAO;AAAA,IACR;AACA,QAAI,KAAK,WAAW,oBAAoB,kBAAkB;AACzD,aAAO,cAAc,QAAQ,SAAS,KAAK,MAAM;AAAA,IAClD;AACA,QAAI,KAAK,WAAW,oBAAoB,WAAW;AAClD,aAAO,iBAAiB,QAAQ,SAAS,KAAK,MAAM;AAAA,IACrD;AACA,WAAO;AAAA,EACR;AAAA,EAEQ,0BAA0B,IAAwB,IAAgC;AACzF,QAAI,OAAO,GAAG,UAAU,UAAU;AACjC,aAAO;AAAA,IACR;AACA,QAAI,OAAO,GAAG,UAAU,UAAU;AACjC,aAAO;AAAA,IACR;AACA,QAAI,GAAG,UAAU,GAAG,OAAO;AAC1B,YAAM,SAAS,GAAG,SAAS;AAC3B,YAAM,SAAS,GAAG,SAAS;AAC3B,aAAO,OAAO,cAAc,MAAM;AAAA,IACnC;AACA,WAAO,GAAG,QAAQ,GAAG;AAAA,EACtB;AAAA,EAEQ,UAAU,gBAAkC,YAA4B;AAC/E,UAAM,UAAU,IAAI,uBAAuB;AAC3C,aAAS,IAAI,YAAY,IAAI,eAAe,QAAQ,KAAK;AACxD,cAAQ,UAAU,eAAe,CAAC,GAAG,MAAM,YAAY,MAAM,eAAe,SAAS,CAAC;AAAA,IACvF;AACA,WAAO,QAAQ,WAAW;AAAA,EAC3B;AAED;AAEO,MAAM,mCAAmC,sBAAsD;AAAA,EAOrG,YACS,MACR,WACiB,iBAChB;AACD,UAAM;AAJE;AAES;AAIjB,SAAK,UAAU,gBAAgB,YAAY,MAAM,KAAK,mBAAmB,KAAK,CAAC,CAAC;AAChF,SAAK,SAAS,UAAU,OAAO;AAC/B,SAAK,UAAU,KAAK,cAAc,MAAM,UAAU,QAAQ,CAAC,CAAC;AAAA,EAC7D;AAAA,EA5yBD,OA2xBsG;AAAA;AAAA;AAAA,EAE7F;AAAA,EAES,qBAAoC,KAAK,UAAU,IAAI,QAAc,CAAC;AAAA,EAC9E,oBAAiC,KAAK,mBAAmB;AAAA,EAclE,IAAI,MAAW;AACd,WAAO,KAAK;AAAA,EACb;AAAA,EAEA,IAAI,SAA8B;AACjC,WAAO,KAAK,gBAAgB;AAAA,EAC7B;AAAA,EAEA,IAAI,iBAAmC;AACtC,WAAO,KAAK,gBAAgB,kBAAkB;AAAA,EAC/C;AAAA,EAEA,IAAuB,eAAiC;AAEvD,WAAO,KAAK,eAAe,MAAM,CAAC;AAAA,EACnC;AAAA,EAEU,SAAoC;AAC7C,QAAI,KAAK,OAAO,WAAW,GAAG;AAC7B,aAAO;AAAA,IACR;AAGA,UAAM,eAAe,CAAC,GAAG,KAAK,qBAAqB,OAAO,CAAC,EACzD,KAAK,CAAC,GAAG,MAAM,EAAE,QAAQ,EAAE,KAAK;AAClC,UAAM,uBAAuB,aAAa,OAAO,WAAS,MAAM,OAAO,cAAc,MAAM;AAE3F,UAAM,YAAY,KAAK,KAAK,cAAc,EAAG,MAAM,gBAAgB;AACnE,UAAM,EAAE,gBAAgB,gBAAgB,QAAQ,IAAI,KAAK,kBAAkB,sBAAsB,SAAS;AAE1G,UAAM,WAAW,KAAK,gBAAgB,YAAY;AAClD,WAAO,aAAa,SACJ;AAAA,MACd,WAAW,KAAK;AAAA,MAChB;AAAA,MACA;AAAA,MACA;AAAA,IACD,IACA;AAAA,EACF;AAAA;AAAA;AAAA;AAAA,EAKQ,kBAAkB,QAA8B,WAA4E;AACnI,UAAM,uBAAuB,YAAY;AACzC,UAAM,UAAU,IAAI,uBAAuB,oBAAoB;AAE/D,UAAM,iBAAmC,CAAC;AAC1C,UAAM,UAAoB,CAAC;AAC3B,QAAI,OAAO,QAAQ;AAClB,cAAQ,SAAS,GAAG;AACpB,aAAO,QAAQ,iBAAe;AAC7B,cAAM,gBAAgB,KAAK,SAAS,WAAW;AAC/C,uBAAe,KAAK,aAAa;AACjC,gBAAQ,KAAK,GAAG,KAAK,4BAA4B,SAAS,eAAe,YAAY,OAAO,aAAa,CAAC;AAAA,MAC3G,CAAC;AAAA,IACF;AAGA,UAAM,eAAe,QAAQ,WAAW,IAAI;AAC5C,UAAM,eAAe,KAAK,OAAO,aAAa;AAC9C,UAAM,iBAAiB,IAAI,UAAU,WAAW,GAAG,WAAW,CAAC;AAC/D,UAAM,OAA6B;AAAA,MAClC,MAAM;AAAA,MACN,kBAAkB;AAAA,MAClB,OAAO,IAAI,MAAM,WAAW,GAAG,cAAc,CAAC;AAAA,IAC/C;AAEA,SAAK,OAAO,mBAAmB,CAAC,cAAc,GAAG,CAAC,IAAI,GAAG,MAAM,CAAC,cAAc,CAAC;AAG/E,UAAM,aAAa,KAAK,IAAI,YAAY,IAAI,KAAK,OAAO,aAAa,CAAC;AACtE,SAAK,OAAO,aAAa,kBAAkB,UAAU;AAErD,WAAO,EAAE,SAAS,eAAe;AAAA,EAClC;AAAA,EAEQ,4BAA4B,SAAiC,eAA+B,eAA0C;AAC7I,oBAAgB,cACd,IAAI,mBAAiB;AAErB,aAAsB;AAAA,QACrB,SAAS,cAAc;AAAA,QACvB,OAAO,cAAc;AAAA,QACrB,SAAS,cAAc,WAAW,cAAc,QAAQ,IAAI,WAAS;AACpE,iBAAO,IAAI;AAAA,YACV,MAAM,kBAAkB,cAAc,QAAQ,MAAM;AAAA,YACpD,MAAM;AAAA,YACN,MAAM,gBAAgB,cAAc,QAAQ,MAAM;AAAA,YAClD,MAAM;AAAA,UAAS;AAAA,QACjB,CAAC;AAAA,MACF;AAAA,IACD,CAAC;AAEF,YAAQ,UAAU,aAAa;AAG/B,UAAM,eAAe,cACnB,IAAI,OAAK,EAAE,WAAW,CAAC,CAAC,EACxB,QAAQ,CAAC,gBAAgB,MAAM;AAC/B,YAAM,UAAU,cAAc,SAAS,CAAC,EAAE,SAAS,CAAC;AACpD,aAAO,eAAe,IAAI,WAAS;AAClC,eAAO,IAAI;AAAA,UACV,MAAM,kBAAkB,QAAQ,MAAM;AAAA,UACtC,MAAM;AAAA,UACN,MAAM,gBAAgB,QAAQ,MAAM;AAAA,UACpC,MAAM;AAAA,QAAS;AAAA,MACjB,CAAC;AAAA,IACF,CAAC;AAEF,WAAO;AAAA,EACR;AAAA,EAEQ,YAAY,SAA6B;AAChD,WAAO;AAAA,MACN,aAAa,QAAQ;AAAA,MACrB,OAAO,QAAQ;AAAA,MACf,MAAM,QAAQ;AAAA,MACd,MAAM,QAAQ;AAAA,MACd,kBAAkB,QAAQ;AAAA,MAC1B,KAAK,QAAQ;AAAA,MACb,OAAO,QAAQ;AAAA,MACf,OAAO,QAAQ;AAAA,MACf,WAAW,CAAC;AAAA,MACZ,YAAY,QAAQ;AAAA,MACpB,MAAM,QAAQ;AAAA,MACd,oBAAoB,QAAQ;AAAA,MAC5B,UAAU;AAAA,MACV,YAAY;AAAA,MACZ,uBAAuB;AAAA,MACvB,mBAAmB,CAAC;AAAA,IACrB;AAAA,EACD;AAAA,EAEA,iBAAiB,QAAgB,SAA6B;AAC7D,WAAO,CAAC;AAAA,EACT;AAAA,EAES,cAAc,KAAmC;AACzD,eAAW,SAAS,KAAK,gBAAgB;AACxC,iBAAW,WAAW,MAAM,UAAU;AACrC,mBAAW,WAAW,QAAQ,UAAU;AACvC,cAAI,QAAQ,QAAQ,KAAK;AACxB,mBAAO;AAAA,UACR;AAAA,QACD;AAAA,MACD;AAAA,IACD;AACA,WAAO;AAAA,EACR;AAAA,EAEQ,SAAS,aAAiD;AACjE,WAAuB;AAAA,MACtB,IAAI,YAAY;AAAA,MAChB,OAAO;AAAA,MACP,OAAO,YAAY;AAAA,MACnB,YAAY;AAAA,MACZ,UAAU;AAAA,QACT;AAAA,UACC,UAAU,YAAY,OAAO,cAAc,IAAI,OAAK,KAAK,YAAY,EAAE,OAAO,CAAC;AAAA,QAChF;AAAA,MACD;AAAA,IACD;AAAA,EACD;AACD;AAEA,MAAM,uBAAuB;AAAA,EAW5B,YAAoB,eAAe,GAAG;AAAlB;AACnB,SAAK,kBAAkB,CAAC;AAAA,EACzB;AAAA,EAl+BD,OAq9B6B;AAAA;AAAA;AAAA,EACpB;AAAA,EAER,IAAY,sBAA8B;AACzC,WAAO,KAAK,gBAAgB,SAAS,KAAK;AAAA,EAC3C;AAAA,EAEA,IAAY,WAAmB;AAC9B,WAAO,KAAK,gBAAgB,KAAK,gBAAgB,SAAS,CAAC,KAAK;AAAA,EACjE;AAAA,EAMA,YAAY,UAA0B;AACrC,SAAK,gBAAgB,KAAK,GAAG,QAAQ;AAAA,EACtC;AAAA,EAEA,UAAU,gBAAgC,SAAmB,QAAwB;AACpF,SAAK,gBAAgB,KAAK,UAAU,OAAO,GAAG;AAC9C,UAAM,cAAc,KAAK,WAAW,gBAAgB,IAAI;AAExD,QAAI,aAAa;AAEhB,YAAM,UAAU,YAAY,MAAM,gBAAgB,KAAK;AACvD,YAAM,UAAU,KAAK,gBAAgB,UAAU,CAAC;AAChD,WAAK,gBAAgB,UAAU,CAAC,IAAI,QAAQ,UAAU,GAAG,QAAQ,SAAS,CAAC;AAAA,IAC5E;AAEA,SAAK,gBAAgB,KAAK,SAAS,OAAO,IAAI;AAAA,EAC/C;AAAA,EAEU,WAAW,OAAuB,QAAiC;AAC5E,QAAI,cAA+B;AACnC,UAAM,aAAa,KAAK,sBAAsB;AAC9C,eAAW,WAAW,MAAM,UAAU;AACrC,UAAI,QAAQ,OAAO;AAClB,cAAM,oBAAoB,KAAK,sBAAsB;AACrD,aAAK,eAAe,CAAC,QAAQ,KAAK,GAAG,QAAQ,KAAK,eAAe;AACjE,gBAAQ,aAAa,EAAE,iBAAiB,mBAAmB,aAAa,GAAG,eAAe,KAAK,qBAAqB,WAAW,KAAK,SAAS,OAAO;AAAA,MACrJ;AAEA,UAAI,QAAQ,SAAS,QAAQ;AAC5B,mBAAW,WAAW,QAAQ,UAAU;AACvC,eAAK,YAAY,SAAS,MAAM;AAChC,wBAAc;AAAA,QACf;AAAA,MACD;AAAA,IAED;AACA,UAAM,QAAQ,EAAE,iBAAiB,YAAY,aAAa,GAAG,eAAe,KAAK,qBAAqB,WAAW,KAAK,SAAS,OAAO;AACtI,WAAO;AAAA,EACR;AAAA,EAEA,aAAqB;AACpB,WAAO,KAAK,gBAAgB,KAAK,IAAI;AAAA,EACtC;AAAA,EAEQ,YAAY,SAAmB,QAAsB;AAC5D,UAAM,eAAe,KAAK,sBAAsB;AAEhD,SAAK,uBAAuB,SAAS,MAAM;AAE3C,QAAI,kBAAkB;AACtB,UAAM,YAAY,KAAK,UAAU,QAAQ,GAAG;AAC5C,uBAAmB;AACnB,YAAQ,WAAW,EAAE,iBAAiB,KAAK,sBAAsB,GAAG,aAAa,gBAAgB,QAAQ,QAAQ,GAAG,IAAI,GAAG,eAAe,KAAK,sBAAsB,GAAG,WAAW,QAAQ,IAAI,OAAO;AAEtM,uBAAmB;AACnB,UAAM,aAAa,KAAK,sBAAsB;AAC9C,SAAK,UAAU,SAAS,iBAAiB,MAAM;AAE/C,YAAQ,aAAa,EAAE,iBAAiB,YAAY,aAAa,gBAAgB,SAAS,GAAG,eAAe,KAAK,qBAAqB,WAAW,KAAK,SAAS,SAAS,EAAE;AAC1K,SAAK,gBAAgB,KAAK,gBAAgB,SAAS,CAAC,KAAK;AACzD,SAAK,gBAAgB,KAAK,EAAE;AAC5B,YAAQ,QAAQ,EAAE,iBAAiB,cAAc,aAAa,GAAG,eAAe,KAAK,qBAAqB,WAAW,KAAK,SAAS,OAAO;AAAA,EAC3I;AAAA,EAEQ,uBAAuB,SAAmB,QAAsB;AACvE,UAAM,iBAAiB,wBAAC,SAAiB,KAAK,QAAQ,aAAa,CAAC,OAAO,gBAAgB,KAAK,WAAW,IAAI,GAAxF;AAEvB,YAAQ,oBAAoB,CAAC;AAC7B,UAAM,sBAAsB,SAAS;AACrC,UAAM,0BAA0B,QAAQ,oBAAoB,MAAM,KAAK,KAAK,CAAC;AAC7E,aAAS,QAAQ,CAAC,GAAG,yBAAyB,GAAG,QAAQ,WAAW,GAAG;AACtE,aAAO,eAAe,IAAI;AAE1B,WAAK,gBAAgB,KAAK,sBAAsB,IAAI;AACpD,cAAQ,kBAAkB,KAAK,EAAE,iBAAiB,KAAK,qBAAqB,aAAa,KAAK,SAAS,QAAQ,IAAI,IAAI,GAAG,eAAe,KAAK,qBAAqB,WAAW,KAAK,SAAS,OAAO,CAAC;AAAA,IACrM;AAEA,QAAI,QAAQ,QAAQ,QAAQ,kBAAkB,KAAK,UAAQ,CAAC,CAAC,IAAI,GAAG;AACnE,cAAQ,iBAAiB,QAAQ,CAAC,MAAM,MAAM;AAC7C,cAAM,cAAc,qBAAqB,OAAO,QAAQ,KAAM,CAAC,CAAC,CAAC;AACjE,cAAM,OAAO,OACZ,GAAG,WAAW,KAAK,eAAe,IAAI,CAAC,KACvC;AAED,cAAM,QAAQ,KAAK,MAAM,KAAK;AAC9B,cAAM,CAAC,IAAI,QAAQ,MAAM,CAAC;AAC1B,aAAK,gBAAgB,KAAK,GAAG,MAAM,IAAI,OAAK,GAAG,MAAM,MAAM,CAAC,EAAE,CAAC;AAE/D,gBAAQ,kBAAkB,KAAK,EAAE,iBAAiB,KAAK,qBAAqB,aAAa,KAAK,SAAS,QAAQ,IAAI,IAAI,GAAG,eAAe,KAAK,qBAAqB,WAAW,KAAK,SAAS,OAAO,CAAC;AAAA,MACrM,CAAC;AAAA,IACF;AAAA,EACD;AAAA,EAEQ,UAAU,SAAmB,gBAAwB,QAAsB;AAClF,UAAM,cAAc,KAAK,UAAU,QAAQ,OAAO,MAAM,MAAM;AAC9D,QAAI,eAAgB,OAAO,QAAQ,UAAU,UAAW;AACvD,UAAI,QAAQ,aAAa,QAAQ,UAAU,QAAQ;AAClD,aAAK,gBAAgB,KAAK,iBAAiB,IAAI;AAC/C,mBAAW,cAAc,QAAQ,WAAW;AAC3C,eAAK,YAAY,YAAY,SAAS,MAAM;AAC5C,eAAK,gBAAgB,IAAI;AAAA,QAC1B;AACA,cAAM,cAAc,QAAQ,UAAU,QAAQ,UAAU,SAAS,CAAC;AAClE,cAAM,UAAU,KAAK,gBAAgB,YAAY,MAAM,gBAAgB,CAAC;AACxE,aAAK,gBAAgB,YAAY,MAAM,gBAAgB,CAAC,IAAI,QAAQ,UAAU,GAAG,QAAQ,SAAS,CAAC;AACnG,aAAK,gBAAgB,KAAK,SAAS,GAAG;AAAA,MACvC,OAAO;AACN,cAAM,iBAAiB,YAAY,MAAM,IAAI;AAC7C,aAAK,gBAAgB,KAAK,iBAAiB,eAAe,CAAC,CAAC;AAC5D,iBAAS,IAAI,GAAG,IAAI,eAAe,QAAQ,KAAK;AAC/C,eAAK,gBAAgB,KAAK,SAAS,eAAe,CAAC,CAAC;AAAA,QACrD;AAAA,MACD;AAAA,IACD,OAAO;AACN,WAAK,gBAAgB,KAAK,iBAAiB,WAAW;AAAA,IACvD;AAAA,EACD;AAAA,EAEQ,eAAe,aAAuB,QAAgB,QAAkB;AAC/E,eAAW,QAAQ,aAAa;AAC/B,aAAO,KAAK,SAAS,QAAQ,IAAI;AAAA,IAClC;AAAA,EACD;AACD;AAEA,MAAM,kCAAkC,uBAAuB;AAAA,EAE9D,YAAoB,SAAiB,KAAM;AAC1C,UAAM,CAAC;AADY;AAAA,EAEpB;AAAA,EArmCD,OAimC+D;AAAA;AAAA;AAAA,EAMrD,UAAU,gBAAsC;AACxD,SAAK,WAAW,gBAAgB,KAAK,MAAM;AAAA,EAC5C;AAED;AAEO,MAAM,sCAAsC,WAAW;AAAA,EAO7D,YAAoB,iBAAkC;AACrD,UAAM;AADa;AAEnB,SAAK,UAAU,gBAAgB,YAAY,MAAM;AAChD,WAAK,WAAW;AAChB,WAAK,qBAAqB,KAAK;AAAA,IAChC,CAAC,CAAC;AAAA,EACH;AAAA,EA1nCD,OA6mC8D;AAAA;AAAA;AAAA,EAErD,WAA0B;AAAA,EAEjB,uBAAuB,KAAK,UAAU,IAAI,QAAc,CAAC;AAAA,EACjE,sBAAsB,KAAK,qBAAqB;AAAA,EAUzD,IAAI,UAAkB;AACrB,QAAI,KAAK,aAAa,MAAM;AAC3B,YAAM,UAAU,IAAI,0BAA0B;AAC9C,cAAQ,SAAS,GAAG;AACpB,iBAAW,iBAAiB,KAAK,gBAAgB,oBAAoB,GAAG;AACvE,gBAAQ,UAAU,aAAa;AAAA,MAChC;AACA,cAAQ,SAAS,GAAG;AACpB,WAAK,WAAW,QAAQ,WAAW;AAAA,IACpC;AACA,WAAO,KAAK;AAAA,EACb;AACD;AAEA,SAAS,qBAAqB,WAA2B;AACxD,SAAO,aAAa,UAClB,QAAQ,OAAO,KAAK,EACpB,QAAQ,OAAO,KAAK;AACvB;AAJS;AAMF,SAAS,2BAA2B,mBAA+C;AACzF,QAAM,iBAAiB,QAAQ,IAAI,SAAS,4BAA4B,oEAAoE;AAC5I,SAAO,iBAAiB,OAAO,kBAAkB,6BAA6B;AAC/E;AAHgB;AAKT,IAAM,gCAAN,MAA4E;AAAA,EAIlF,YAAoB,MACkB,mBAAuC;AADzD;AACkB;AAAA,EACtC;AAAA,EA3pCD,OAqpCmF;AAAA;AAAA;AAAA,EAE1E;AAAA,EAMR,IAAI,MAAW;AACd,WAAO,KAAK;AAAA,EACb;AAAA,EAEA,IAAI,UAAkB;AACrB,QAAI,CAAC,KAAK,UAAU;AACnB,WAAK,WAAW,2BAA2B,KAAK,iBAAiB;AAAA,IAClE;AACA,WAAO,KAAK;AAAA,EACb;AAAA,EAEA,gBAAqB;AACpB,WAAO;AAAA,EACR;AAAA,EAEA,UAAgB;AAAA,EAEhB;AACD;AA1Ba,gCAAN;AAAA,EAKJ;AAAA,GALU;",
  "names": ["key"]
}
