{
  "version": 3,
  "sources": ["../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/services/treeSitter/browser/treeSitterTokenizationFeature.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport type { Parser } from '@vscode/tree-sitter-wasm';\nimport { Emitter, Event } from '../../../../base/common/event.js';\nimport { Disposable, DisposableMap, DisposableStore, IDisposable } from '../../../../base/common/lifecycle.js';\nimport { AppResourcePath, FileAccess } from '../../../../base/common/network.js';\nimport { FontStyle, MetadataConsts } from '../../../../editor/common/encodedTokenAttributes.js';\nimport { ITreeSitterTokenizationSupport, LazyTokenizationSupport, TreeSitterTokenizationRegistry } from '../../../../editor/common/languages.js';\nimport { ITextModel } from '../../../../editor/common/model.js';\nimport { EDITOR_EXPERIMENTAL_PREFER_TREESITTER, ITreeSitterParserService, ITreeSitterParseResult } from '../../../../editor/common/services/treeSitterParserService.js';\nimport { IModelTokensChangedEvent } from '../../../../editor/common/textModelEvents.js';\nimport { ColumnRange } from '../../../../editor/contrib/inlineCompletions/browser/utils.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { IFileService } from '../../../../platform/files/common/files.js';\nimport { InstantiationType, registerSingleton } from '../../../../platform/instantiation/common/extensions.js';\nimport { createDecorator, IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { IThemeService } from '../../../../platform/theme/common/themeService.js';\nimport { TokenStyle } from '../../../../platform/theme/common/tokenClassificationRegistry.js';\nimport { ColorThemeData } from '../../themes/common/colorThemeData.js';\n\nconst ALLOWED_SUPPORT = ['typescript'];\ntype TreeSitterQueries = string;\n\nexport const ITreeSitterTokenizationFeature = createDecorator<ITreeSitterTokenizationFeature>('treeSitterTokenizationFeature');\n\nexport interface ITreeSitterTokenizationFeature {\n\t_serviceBrand: undefined;\n}\n\nclass TreeSitterTokenizationFeature extends Disposable implements ITreeSitterTokenizationFeature {\n\tpublic _serviceBrand: undefined;\n\tprivate readonly _tokenizersRegistrations: DisposableMap<string, DisposableStore> = new DisposableMap();\n\n\tconstructor(\n\t\t@IConfigurationService private readonly _configurationService: IConfigurationService,\n\t\t@IInstantiationService private readonly _instantiationService: IInstantiationService,\n\t\t@IFileService private readonly _fileService: IFileService\n\t) {\n\t\tsuper();\n\n\t\tthis._handleGrammarsExtPoint();\n\t\tthis._register(this._configurationService.onDidChangeConfiguration(e => {\n\t\t\tif (e.affectsConfiguration(EDITOR_EXPERIMENTAL_PREFER_TREESITTER)) {\n\t\t\t\tthis._handleGrammarsExtPoint();\n\t\t\t}\n\t\t}));\n\t}\n\n\tprivate _getSetting(): string[] {\n\t\treturn this._configurationService.getValue<string[]>(EDITOR_EXPERIMENTAL_PREFER_TREESITTER) || [];\n\t}\n\n\tprivate _handleGrammarsExtPoint(): void {\n\t\tconst setting = this._getSetting();\n\n\t\t// Eventually, this should actually use an extension point to add tree sitter grammars, but for now they are hard coded in core\n\t\tfor (const languageId of setting) {\n\t\t\tif (ALLOWED_SUPPORT.includes(languageId) && !this._tokenizersRegistrations.has(languageId)) {\n\t\t\t\tconst lazyTokenizationSupport = new LazyTokenizationSupport(() => this._createTokenizationSupport(languageId));\n\t\t\t\tconst disposableStore = new DisposableStore();\n\t\t\t\tdisposableStore.add(lazyTokenizationSupport);\n\t\t\t\tdisposableStore.add(TreeSitterTokenizationRegistry.registerFactory(languageId, lazyTokenizationSupport));\n\t\t\t\tthis._tokenizersRegistrations.set(languageId, disposableStore);\n\t\t\t\tTreeSitterTokenizationRegistry.getOrCreate(languageId);\n\t\t\t}\n\t\t}\n\t\tconst languagesToUnregister = [...this._tokenizersRegistrations.keys()].filter(languageId => !setting.includes(languageId));\n\t\tfor (const languageId of languagesToUnregister) {\n\t\t\tthis._tokenizersRegistrations.deleteAndDispose(languageId);\n\t\t}\n\t}\n\n\tprivate async _fetchQueries(newLanguage: string): Promise<TreeSitterQueries> {\n\t\tconst languageLocation: AppResourcePath = `vs/editor/common/languages/highlights/${newLanguage}.scm`;\n\t\tconst query = await this._fileService.readFile(FileAccess.asFileUri(languageLocation));\n\t\treturn query.value.toString();\n\t}\n\n\tprivate async _createTokenizationSupport(languageId: string): Promise<ITreeSitterTokenizationSupport & IDisposable | null> {\n\t\tconst queries = await this._fetchQueries(languageId);\n\t\treturn this._instantiationService.createInstance(TreeSitterTokenizationSupport, queries, languageId);\n\t}\n}\n\nclass TreeSitterTokenizationSupport extends Disposable implements ITreeSitterTokenizationSupport {\n\tprivate _query: Parser.Query | undefined;\n\tprivate readonly _onDidChangeTokens: Emitter<IModelTokensChangedEvent> = new Emitter();\n\tpublic readonly onDidChangeTokens: Event<IModelTokensChangedEvent> = this._onDidChangeTokens.event;\n\tprivate _colorThemeData!: ColorThemeData;\n\tprivate _languageAddedListener: IDisposable | undefined;\n\n\tconstructor(\n\t\tprivate readonly _queries: TreeSitterQueries,\n\t\tprivate readonly _languageId: string,\n\t\t@ITreeSitterParserService private readonly _treeSitterService: ITreeSitterParserService,\n\t\t@IThemeService private readonly _themeService: IThemeService,\n\t) {\n\t\tsuper();\n\t\tthis._register(Event.runAndSubscribe(this._themeService.onDidColorThemeChange, () => this.reset()));\n\t}\n\n\tprivate _getTree(textModel: ITextModel): ITreeSitterParseResult | undefined {\n\t\treturn this._treeSitterService.getParseResult(textModel);\n\t}\n\n\tprivate _ensureQuery() {\n\t\tif (!this._query) {\n\t\t\tconst language = this._treeSitterService.getOrInitLanguage(this._languageId);\n\t\t\tif (!language) {\n\t\t\t\tif (!this._languageAddedListener) {\n\t\t\t\t\tthis._languageAddedListener = this._register(Event.onceIf(this._treeSitterService.onDidAddLanguage, e => e.id === this._languageId)((e) => {\n\t\t\t\t\t\tthis._query = e.language.query(this._queries);\n\t\t\t\t\t}));\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis._query = language.query(this._queries);\n\t\t}\n\t\treturn this._query;\n\t}\n\n\tprivate reset() {\n\t\tthis._colorThemeData = this._themeService.getColorTheme() as ColorThemeData;\n\t}\n\n\tcaptureAtPosition(lineNumber: number, column: number, textModel: ITextModel): any {\n\t\tconst captures = this._captureAtRange(lineNumber, new ColumnRange(column, column), textModel);\n\t\treturn captures;\n\t}\n\n\tprivate _captureAtRange(lineNumber: number, columnRange: ColumnRange, textModel: ITextModel): Parser.QueryCapture[] {\n\t\tconst tree = this._getTree(textModel);\n\t\tconst query = this._ensureQuery();\n\t\tif (!tree?.tree || !query) {\n\t\t\treturn [];\n\t\t}\n\t\t// Tree sitter row is 0 based, column is 0 based\n\t\treturn query.captures(tree.tree.rootNode, { startPosition: { row: lineNumber - 1, column: columnRange.startColumn - 1 }, endPosition: { row: lineNumber - 1, column: columnRange.endColumnExclusive } });\n\t}\n\n\t/**\n\t * Gets the tokens for a given line.\n\t * Each token takes 2 elements in the array. The first element is the offset of the end of the token *in the line, not in the document*, and the second element is the metadata.\n\t *\n\t * @param lineNumber\n\t * @returns\n\t */\n\tpublic tokenizeEncoded(lineNumber: number, textModel: ITextModel): Uint32Array | undefined {\n\t\tconst lineLength = textModel.getLineMaxColumn(lineNumber);\n\t\tconst captures = this._captureAtRange(lineNumber, new ColumnRange(1, lineLength), textModel);\n\n\t\tif (captures.length === 0) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tlet tokens: Uint32Array = new Uint32Array(captures.length * 2);\n\t\tlet tokenIndex = 0;\n\t\tconst lineStartOffset = textModel.getOffsetAt({ lineNumber: lineNumber, column: 1 });\n\n\t\tfor (let captureIndex = 0; captureIndex < captures.length; captureIndex++) {\n\t\t\tconst capture = captures[captureIndex];\n\t\t\tconst metadata = this.findMetadata(capture.name);\n\t\t\tconst tokenEndIndex = capture.node.endIndex < lineStartOffset + lineLength ? capture.node.endIndex : lineStartOffset + lineLength;\n\t\t\tconst tokenStartIndex = capture.node.startIndex < lineStartOffset ? lineStartOffset : capture.node.startIndex;\n\n\t\t\tconst lineRelativeOffset = tokenEndIndex - lineStartOffset;\n\t\t\t// Not every character will get captured, so we need to make sure that our current capture doesn't bleed toward the start of the line and cover characters that it doesn't apply to.\n\t\t\t// We do this by creating a new token in the array if the previous token ends before the current token starts.\n\t\t\tlet previousTokenEnd: number;\n\t\t\tconst currentTokenLength = tokenEndIndex - tokenStartIndex;\n\t\t\tif (captureIndex > 0) {\n\t\t\t\tpreviousTokenEnd = tokens[(tokenIndex - 1) * 2];\n\t\t\t} else {\n\t\t\t\tpreviousTokenEnd = tokenStartIndex - lineStartOffset - 1;\n\t\t\t}\n\t\t\tconst intermediateTokenOffset = lineRelativeOffset - currentTokenLength;\n\t\t\tif (previousTokenEnd < intermediateTokenOffset) {\n\t\t\t\ttokens[tokenIndex * 2] = intermediateTokenOffset;\n\t\t\t\ttokens[tokenIndex * 2 + 1] = 0;\n\t\t\t\ttokenIndex++;\n\t\t\t\tconst newTokens = new Uint32Array(tokens.length + 2);\n\t\t\t\tnewTokens.set(tokens);\n\t\t\t\ttokens = newTokens;\n\t\t\t}\n\n\t\t\ttokens[tokenIndex * 2] = lineRelativeOffset;\n\t\t\ttokens[tokenIndex * 2 + 1] = metadata;\n\t\t\ttokenIndex++;\n\t\t}\n\n\t\tif (captures[captures.length - 1].node.endPosition.column + 1 < lineLength) {\n\t\t\tconst newTokens = new Uint32Array(tokens.length + 2);\n\t\t\tnewTokens.set(tokens);\n\t\t\ttokens = newTokens;\n\t\t\ttokens[tokenIndex * 2] = lineLength;\n\t\t\ttokens[tokenIndex * 2 + 1] = 0;\n\t\t}\n\t\treturn tokens;\n\t}\n\n\tprivate findMetadata(captureName: string): number {\n\t\tconst tokenStyle: TokenStyle | undefined = this._colorThemeData.resolveScopes([[captureName]]);\n\t\tif (!tokenStyle) {\n\t\t\treturn 0;\n\t\t}\n\n\t\tlet metadata = 0;\n\t\tif (typeof tokenStyle.italic !== 'undefined') {\n\t\t\tconst italicBit = (tokenStyle.italic ? FontStyle.Italic : 0);\n\t\t\tmetadata |= italicBit | MetadataConsts.ITALIC_MASK;\n\t\t}\n\t\tif (typeof tokenStyle.bold !== 'undefined') {\n\t\t\tconst boldBit = (tokenStyle.bold ? FontStyle.Bold : 0);\n\t\t\tmetadata |= boldBit | MetadataConsts.BOLD_MASK;\n\t\t}\n\t\tif (typeof tokenStyle.underline !== 'undefined') {\n\t\t\tconst underlineBit = (tokenStyle.underline ? FontStyle.Underline : 0);\n\t\t\tmetadata |= underlineBit | MetadataConsts.UNDERLINE_MASK;\n\t\t}\n\t\tif (typeof tokenStyle.strikethrough !== 'undefined') {\n\t\t\tconst strikethroughBit = (tokenStyle.strikethrough ? FontStyle.Strikethrough : 0);\n\t\t\tmetadata |= strikethroughBit | MetadataConsts.STRIKETHROUGH_MASK;\n\t\t}\n\t\tif (tokenStyle.foreground) {\n\t\t\tconst tokenStyleForeground = this._colorThemeData.getTokenColorIndex().get(tokenStyle?.foreground);\n\t\t\tconst foregroundBits = tokenStyleForeground << MetadataConsts.FOREGROUND_OFFSET;\n\t\t\tmetadata |= foregroundBits;\n\t\t}\n\n\t\treturn metadata;\n\t}\n\n\toverride dispose() {\n\t\tsuper.dispose();\n\t\tthis._query?.delete();\n\t\tthis._query = undefined;\n\t}\n}\n\nregisterSingleton(ITreeSitterTokenizationFeature, TreeSitterTokenizationFeature, InstantiationType.Eager);\n\n"],
  "mappings": "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",
  "names": []
}
