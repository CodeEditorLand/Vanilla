{
  "version": 3,
  "sources": ["../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/services/userDataProfile/browser/iconSelectBox.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { IIconSelectBoxOptions, IconSelectBox } from '../../../../base/browser/ui/icons/iconSelectBox.js';\nimport { KeyCode } from '../../../../base/common/keyCodes.js';\nimport * as dom from '../../../../base/browser/dom.js';\nimport { ContextKeyExpr, IContextKey, IContextKeyService, RawContextKey } from '../../../../platform/contextkey/common/contextkey.js';\nimport { KeybindingsRegistry, KeybindingWeight } from '../../../../platform/keybinding/common/keybindingsRegistry.js';\n\nexport const WorkbenchIconSelectBoxFocusContextKey = new RawContextKey<boolean>('iconSelectBoxFocus', true);\nexport const WorkbenchIconSelectBoxInputFocusContextKey = new RawContextKey<boolean>('iconSelectBoxInputFocus', true);\nexport const WorkbenchIconSelectBoxInputEmptyContextKey = new RawContextKey<boolean>('iconSelectBoxInputEmpty', true);\n\nexport class WorkbenchIconSelectBox extends IconSelectBox {\n\n\tprivate static focusedWidget: WorkbenchIconSelectBox | undefined;\n\tstatic getFocusedWidget(): WorkbenchIconSelectBox | undefined {\n\t\treturn WorkbenchIconSelectBox.focusedWidget;\n\t}\n\n\tprivate readonly contextKeyService: IContextKeyService;\n\tprivate readonly inputFocusContextKey: IContextKey<boolean>;\n\tprivate readonly inputEmptyContextKey: IContextKey<boolean>;\n\n\tconstructor(\n\t\toptions: IIconSelectBoxOptions,\n\t\t@IContextKeyService contextKeyService: IContextKeyService\n\t) {\n\t\tsuper(options);\n\t\tthis.contextKeyService = this._register(contextKeyService.createScoped(this.domNode));\n\t\tWorkbenchIconSelectBoxFocusContextKey.bindTo(this.contextKeyService);\n\t\tthis.inputFocusContextKey = WorkbenchIconSelectBoxInputFocusContextKey.bindTo(this.contextKeyService);\n\t\tthis.inputEmptyContextKey = WorkbenchIconSelectBoxInputEmptyContextKey.bindTo(this.contextKeyService);\n\t\tif (this.inputBox) {\n\t\t\tconst focusTracker = this._register(dom.trackFocus(this.inputBox.inputElement));\n\t\t\tthis._register(focusTracker.onDidFocus(() => this.inputFocusContextKey.set(true)));\n\t\t\tthis._register(focusTracker.onDidBlur(() => this.inputFocusContextKey.set(false)));\n\t\t\tthis._register(this.inputBox.onDidChange(() => this.inputEmptyContextKey.set(this.inputBox?.value.length === 0)));\n\t\t}\n\t}\n\n\toverride focus(): void {\n\t\tsuper.focus();\n\t\tWorkbenchIconSelectBox.focusedWidget = this;\n\t}\n\n}\n\nKeybindingsRegistry.registerCommandAndKeybindingRule({\n\tid: 'iconSelectBox.focusUp',\n\tweight: KeybindingWeight.WorkbenchContrib,\n\twhen: WorkbenchIconSelectBoxFocusContextKey,\n\tprimary: KeyCode.UpArrow,\n\thandler: () => {\n\t\tconst selectBox = WorkbenchIconSelectBox.getFocusedWidget();\n\t\tif (selectBox) {\n\t\t\tselectBox.focusPreviousRow();\n\t\t}\n\t}\n});\n\nKeybindingsRegistry.registerCommandAndKeybindingRule({\n\tid: 'iconSelectBox.focusDown',\n\tweight: KeybindingWeight.WorkbenchContrib,\n\twhen: WorkbenchIconSelectBoxFocusContextKey,\n\tprimary: KeyCode.DownArrow,\n\thandler: () => {\n\t\tconst selectBox = WorkbenchIconSelectBox.getFocusedWidget();\n\t\tif (selectBox) {\n\t\t\tselectBox.focusNextRow();\n\t\t}\n\t}\n});\n\nKeybindingsRegistry.registerCommandAndKeybindingRule({\n\tid: 'iconSelectBox.focusNext',\n\tweight: KeybindingWeight.WorkbenchContrib,\n\twhen: ContextKeyExpr.and(WorkbenchIconSelectBoxFocusContextKey, ContextKeyExpr.or(WorkbenchIconSelectBoxInputEmptyContextKey, WorkbenchIconSelectBoxInputFocusContextKey.toNegated())),\n\tprimary: KeyCode.RightArrow,\n\thandler: () => {\n\t\tconst selectBox = WorkbenchIconSelectBox.getFocusedWidget();\n\t\tif (selectBox) {\n\t\t\tselectBox.focusNext();\n\t\t}\n\t}\n});\n\nKeybindingsRegistry.registerCommandAndKeybindingRule({\n\tid: 'iconSelectBox.focusPrevious',\n\tweight: KeybindingWeight.WorkbenchContrib,\n\twhen: ContextKeyExpr.and(WorkbenchIconSelectBoxFocusContextKey, ContextKeyExpr.or(WorkbenchIconSelectBoxInputEmptyContextKey, WorkbenchIconSelectBoxInputFocusContextKey.toNegated())),\n\tprimary: KeyCode.LeftArrow,\n\thandler: () => {\n\t\tconst selectBox = WorkbenchIconSelectBox.getFocusedWidget();\n\t\tif (selectBox) {\n\t\t\tselectBox.focusPrevious();\n\t\t}\n\t}\n});\n\nKeybindingsRegistry.registerCommandAndKeybindingRule({\n\tid: 'iconSelectBox.selectFocused',\n\tweight: KeybindingWeight.WorkbenchContrib,\n\twhen: WorkbenchIconSelectBoxFocusContextKey,\n\tprimary: KeyCode.Enter,\n\thandler: () => {\n\t\tconst selectBox = WorkbenchIconSelectBox.getFocusedWidget();\n\t\tif (selectBox) {\n\t\t\tselectBox.setSelection(selectBox.getFocus()[0]);\n\t\t}\n\t}\n});\n"],
  "mappings": "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",
  "names": []
}
