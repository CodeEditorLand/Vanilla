{
  "version": 3,
  "sources": ["../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/services/userDataProfile/common/userDataProfile.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { isUndefined } from '../../../../base/common/types.js';\nimport { Event } from '../../../../base/common/event.js';\nimport { localize, localize2 } from '../../../../nls.js';\nimport { createDecorator } from '../../../../platform/instantiation/common/instantiation.js';\nimport { IUserDataProfile, IUserDataProfileOptions, IUserDataProfileUpdateOptions, ProfileResourceType, ProfileResourceTypeFlags } from '../../../../platform/userDataProfile/common/userDataProfile.js';\nimport { RawContextKey } from '../../../../platform/contextkey/common/contextkey.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { registerIcon } from '../../../../platform/theme/common/iconRegistry.js';\nimport { Codicon } from '../../../../base/common/codicons.js';\nimport { ITreeItem, ITreeItemLabel } from '../../../common/views.js';\nimport { CancellationToken } from '../../../../base/common/cancellation.js';\nimport { IDisposable } from '../../../../base/common/lifecycle.js';\nimport { IProductService } from '../../../../platform/product/common/productService.js';\n\nexport interface DidChangeUserDataProfileEvent {\n\treadonly previous: IUserDataProfile;\n\treadonly profile: IUserDataProfile;\n\tjoin(promise: Promise<void>): void;\n}\n\nexport const IUserDataProfileService = createDecorator<IUserDataProfileService>('IUserDataProfileService');\nexport interface IUserDataProfileService {\n\treadonly _serviceBrand: undefined;\n\treadonly currentProfile: IUserDataProfile;\n\treadonly onDidChangeCurrentProfile: Event<DidChangeUserDataProfileEvent>;\n\tupdateCurrentProfile(currentProfile: IUserDataProfile): Promise<void>;\n\tgetShortName(profile: IUserDataProfile): string;\n}\n\nexport interface IProfileTemplateInfo {\n\treadonly name: string;\n\treadonly url: string;\n}\n\nexport const IUserDataProfileManagementService = createDecorator<IUserDataProfileManagementService>('IUserDataProfileManagementService');\nexport interface IUserDataProfileManagementService {\n\treadonly _serviceBrand: undefined;\n\n\tcreateProfile(name: string, options?: IUserDataProfileOptions): Promise<IUserDataProfile>;\n\tcreateAndEnterProfile(name: string, options?: IUserDataProfileOptions): Promise<IUserDataProfile>;\n\tcreateAndEnterTransientProfile(): Promise<IUserDataProfile>;\n\tremoveProfile(profile: IUserDataProfile): Promise<void>;\n\tupdateProfile(profile: IUserDataProfile, updateOptions: IUserDataProfileUpdateOptions): Promise<IUserDataProfile>;\n\tswitchProfile(profile: IUserDataProfile): Promise<void>;\n\tgetBuiltinProfileTemplates(): Promise<IProfileTemplateInfo[]>;\n\n}\n\nexport interface IUserDataProfileTemplate {\n\treadonly name: string;\n\treadonly icon?: string;\n\treadonly settings?: string;\n\treadonly keybindings?: string;\n\treadonly tasks?: string;\n\treadonly snippets?: string;\n\treadonly globalState?: string;\n\treadonly extensions?: string;\n}\n\nexport function isUserDataProfileTemplate(thing: unknown): thing is IUserDataProfileTemplate {\n\tconst candidate = thing as IUserDataProfileTemplate | undefined;\n\n\treturn !!(candidate && typeof candidate === 'object'\n\t\t&& (isUndefined(candidate.settings) || typeof candidate.settings === 'string')\n\t\t&& (isUndefined(candidate.globalState) || typeof candidate.globalState === 'string')\n\t\t&& (isUndefined(candidate.extensions) || typeof candidate.extensions === 'string'));\n}\n\nexport const PROFILE_URL_AUTHORITY = 'profile';\nexport function toUserDataProfileUri(path: string, productService: IProductService): URI {\n\treturn URI.from({\n\t\tscheme: productService.urlProtocol,\n\t\tauthority: PROFILE_URL_AUTHORITY,\n\t\tpath: path.startsWith('/') ? path : `/${path}`\n\t});\n}\n\nexport const PROFILE_URL_AUTHORITY_PREFIX = 'profile-';\nexport function isProfileURL(uri: URI): boolean {\n\treturn uri.authority === PROFILE_URL_AUTHORITY || new RegExp(`^${PROFILE_URL_AUTHORITY_PREFIX}`).test(uri.authority);\n}\n\nexport interface IUserDataProfileCreateOptions extends IUserDataProfileOptions {\n\treadonly name?: string;\n\treadonly resourceTypeFlags?: ProfileResourceTypeFlags;\n}\n\nexport interface IProfileImportOptions extends IUserDataProfileCreateOptions {\n\treadonly name?: string;\n\treadonly icon?: string;\n\treadonly mode?: 'apply';\n}\n\nexport const IUserDataProfileImportExportService = createDecorator<IUserDataProfileImportExportService>('IUserDataProfileImportExportService');\nexport interface IUserDataProfileImportExportService {\n\treadonly _serviceBrand: undefined;\n\n\tregisterProfileContentHandler(id: string, profileContentHandler: IUserDataProfileContentHandler): IDisposable;\n\tunregisterProfileContentHandler(id: string): void;\n\n\tresolveProfileTemplate(uri: URI): Promise<IUserDataProfileTemplate | null>;\n\texportProfile(profile: IUserDataProfile, exportFlags?: ProfileResourceTypeFlags): Promise<void>;\n\tcreateFromProfile(from: IUserDataProfile, options: IUserDataProfileCreateOptions, token: CancellationToken): Promise<IUserDataProfile | undefined>;\n\tcreateProfileFromTemplate(profileTemplate: IUserDataProfileTemplate, options: IUserDataProfileCreateOptions, token: CancellationToken): Promise<IUserDataProfile | undefined>;\n\tcreateTroubleshootProfile(): Promise<void>;\n}\n\nexport interface IProfileResourceInitializer {\n\tinitialize(content: string): Promise<void>;\n}\n\nexport interface IProfileResource {\n\tgetContent(profile: IUserDataProfile): Promise<string>;\n\tapply(content: string, profile: IUserDataProfile): Promise<void>;\n}\n\nexport interface IProfileResourceTreeItem extends ITreeItem {\n\treadonly type: ProfileResourceType;\n\treadonly label: ITreeItemLabel;\n\tisFromDefaultProfile(): boolean;\n\tgetChildren(): Promise<IProfileResourceChildTreeItem[] | undefined>;\n\tgetContent(): Promise<string>;\n}\n\nexport interface IProfileResourceChildTreeItem extends ITreeItem {\n\tparent: IProfileResourceTreeItem;\n}\n\nexport interface ISaveProfileResult {\n\treadonly id: string;\n\treadonly link: URI;\n}\n\nexport interface IUserDataProfileContentHandler {\n\treadonly name: string;\n\treadonly description?: string;\n\treadonly extensionId?: string;\n\tsaveProfile(name: string, content: string, token: CancellationToken): Promise<ISaveProfileResult | null>;\n\treadProfile(idOrUri: string | URI, token: CancellationToken): Promise<string | null>;\n}\n\nexport const defaultUserDataProfileIcon = registerIcon('defaultProfile-icon', Codicon.settings, localize('defaultProfileIcon', 'Icon for Default Profile.'));\n\nexport const PROFILES_TITLE = localize2('profiles', 'Profiles');\nexport const PROFILES_CATEGORY = { ...PROFILES_TITLE };\nexport const PROFILE_EXTENSION = 'code-profile';\nexport const PROFILE_FILTER = [{ name: localize('profile', \"Profile\"), extensions: [PROFILE_EXTENSION] }];\nexport const PROFILES_ENABLEMENT_CONTEXT = new RawContextKey<boolean>('profiles.enabled', true);\nexport const CURRENT_PROFILE_CONTEXT = new RawContextKey<string>('currentProfile', '');\nexport const IS_CURRENT_PROFILE_TRANSIENT_CONTEXT = new RawContextKey<boolean>('isCurrentProfileTransient', false);\nexport const HAS_PROFILES_CONTEXT = new RawContextKey<boolean>('hasProfiles', false);\n"],
  "mappings": ";;AAKA,SAAS,mBAAmB;AAC5B,SAAS,aAAa;AACtB,SAAS,UAAU,iBAAiB;AACpC,SAAS,uBAAuB;AAChC,SAAS,kBAAkB,yBAAyB,+BAA+B,qBAAqB,gCAAgC;AACxI,SAAS,qBAAqB;AAC9B,SAAS,WAAW;AACpB,SAAS,oBAAoB;AAC7B,SAAS,eAAe;AACxB,SAAS,WAAW,sBAAsB;AAC1C,SAAS,yBAAyB;AAClC,SAAS,mBAAmB;AAC5B,SAAS,uBAAuB;AAQzB,MAAM,0BAA0B,gBAAyC,yBAAyB;AAclG,MAAM,oCAAoC,gBAAmD,mCAAmC;AAyBhI,SAAS,0BAA0B,OAAmD;AAC5F,QAAM,YAAY;AAElB,SAAO,CAAC,EAAE,aAAa,OAAO,cAAc,aACvC,YAAY,UAAU,QAAQ,KAAK,OAAO,UAAU,aAAa,cACjE,YAAY,UAAU,WAAW,KAAK,OAAO,UAAU,gBAAgB,cACvE,YAAY,UAAU,UAAU,KAAK,OAAO,UAAU,eAAe;AAC3E;AAPgB;AAST,MAAM,wBAAwB;AAC9B,SAAS,qBAAqB,MAAc,gBAAsC;AACxF,SAAO,IAAI,KAAK;AAAA,IACf,QAAQ,eAAe;AAAA,IACvB,WAAW;AAAA,IACX,MAAM,KAAK,WAAW,GAAG,IAAI,OAAO,IAAI,IAAI;AAAA,EAC7C,CAAC;AACF;AANgB;AAQT,MAAM,+BAA+B;AACrC,SAAS,aAAa,KAAmB;AAC/C,SAAO,IAAI,cAAc,yBAAyB,IAAI,OAAO,IAAI,4BAA4B,EAAE,EAAE,KAAK,IAAI,SAAS;AACpH;AAFgB;AAeT,MAAM,sCAAsC,gBAAqD,qCAAqC;AAgDtI,MAAM,6BAA6B,aAAa,uBAAuB,QAAQ,UAAU,SAAS,sBAAsB,2BAA2B,CAAC;AAEpJ,MAAM,iBAAiB,UAAU,YAAY,UAAU;AACvD,MAAM,oBAAoB,EAAE,GAAG,eAAe;AAC9C,MAAM,oBAAoB;AAC1B,MAAM,iBAAiB,CAAC,EAAE,MAAM,SAAS,WAAW,SAAS,GAAG,YAAY,CAAC,iBAAiB,EAAE,CAAC;AACjG,MAAM,8BAA8B,IAAI,cAAuB,oBAAoB,IAAI;AACvF,MAAM,0BAA0B,IAAI,cAAsB,kBAAkB,EAAE;AAC9E,MAAM,uCAAuC,IAAI,cAAuB,6BAA6B,KAAK;AAC1G,MAAM,uBAAuB,IAAI,cAAuB,eAAe,KAAK;",
  "names": []
}
