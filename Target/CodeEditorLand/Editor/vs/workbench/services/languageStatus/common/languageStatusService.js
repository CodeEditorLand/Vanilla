import"../../../../../vs/base/common/cancellation.js";import"../../../../../vs/base/common/event.js";import"../../../../../vs/base/common/lifecycle.js";import"../../../../../vs/base/common/severity.js";import{compare as n}from"../../../../../vs/base/common/strings.js";import{LanguageFeatureRegistry as o}from"../../../../../vs/editor/common/languageFeatureRegistry.js";import"../../../../../vs/editor/common/languages.js";import"../../../../../vs/editor/common/languageSelector.js";import"../../../../../vs/editor/common/model.js";import"../../../../../vs/platform/accessibility/common/accessibility.js";import{InstantiationType as i,registerSingleton as s}from"../../../../../vs/platform/instantiation/common/extensions.js";import{createDecorator as g}from"../../../../../vs/platform/instantiation/common/instantiation.js";const d=g("ILanguageStatusService");class u{_provider=new o;onDidChange=this._provider.onDidChange;addStatus(t){return this._provider.register(t.selector,t)}getLanguageStatus(t){return this._provider.ordered(t).sort((a,r)=>{let e=r.severity-a.severity;return e===0&&(e=n(a.source,r.source)),e===0&&(e=n(a.id,r.id)),e})}}s(d,u,i.Delayed);export{d as ILanguageStatusService};
