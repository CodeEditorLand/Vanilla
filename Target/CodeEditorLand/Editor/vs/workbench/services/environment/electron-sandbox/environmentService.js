var m=Object.defineProperty;var l=Object.getOwnPropertyDescriptor;var t=(u,n,r,s)=>{for(var i=s>1?void 0:s?l(n,r):n,g=u.length-1,d;g>=0;g--)(d=u[g])&&(i=(s?d(n,r,i):d(i))||i);return s&&i&&m(n,r,i),i};import{memoize as e}from"../../../../base/common/decorators.js";import{Schemas as p}from"../../../../base/common/network.js";import{joinPath as a}from"../../../../base/common/resources.js";import{IEnvironmentService as f}from"../../../../platform/environment/common/environment.js";import{AbstractNativeEnvironmentService as h}from"../../../../platform/environment/common/environmentService.js";import{refineServiceDecorator as c}from"../../../../platform/instantiation/common/instantiation.js";const T=c(f);class o extends h{constructor(r,s){super(r,{homeDir:r.homeDir,tmpDir:r.tmpDir,userDataDir:r.userDataDir},s);this.configuration=r}get mainPid(){return this.configuration.mainPid}get machineId(){return this.configuration.machineId}get sqmId(){return this.configuration.sqmId}get devDeviceId(){return this.configuration.devDeviceId}get remoteAuthority(){return this.configuration.remoteAuthority}get expectsResolverExtension(){return!!this.configuration.remoteAuthority?.includes("+")}get execPath(){return this.configuration.execPath}get backupPath(){return this.configuration.backupPath}get window(){return{id:this.configuration.windowId,colorScheme:this.configuration.colorScheme,maximized:this.configuration.maximized,accessibilitySupport:this.configuration.accessibilitySupport,perfMarks:this.configuration.perfMarks,isInitialStartup:this.configuration.isInitialStartup,isCodeCaching:typeof this.configuration.codeCachePath=="string"}}get windowLogsPath(){return a(this.logsHome,`window${this.configuration.windowId}`)}get logFile(){return a(this.windowLogsPath,"renderer.log")}get extHostLogsPath(){return a(this.windowLogsPath,"exthost")}get extHostTelemetryLogFile(){return a(this.extHostLogsPath,"extensionTelemetry.log")}get webviewExternalEndpoint(){return`${p.vscodeWebview}://{{uuid}}`}get skipReleaseNotes(){return!!this.args["skip-release-notes"]}get skipWelcome(){return!!this.args["skip-welcome"]}get logExtensionHostCommunication(){return!!this.args.logExtensionHostCommunication}get enableSmokeTestDriver(){return!!this.args["enable-smoke-test-driver"]}get extensionEnabledProposedApi(){if(Array.isArray(this.args["enable-proposed-api"]))return this.args["enable-proposed-api"];if("enable-proposed-api"in this.args)return[]}get os(){return this.configuration.os}get filesToOpenOrCreate(){return this.configuration.filesToOpenOrCreate}get filesToDiff(){return this.configuration.filesToDiff}get filesToMerge(){return this.configuration.filesToMerge}get filesToWait(){return this.configuration.filesToWait}}t([e],o.prototype,"mainPid",1),t([e],o.prototype,"machineId",1),t([e],o.prototype,"sqmId",1),t([e],o.prototype,"devDeviceId",1),t([e],o.prototype,"remoteAuthority",1),t([e],o.prototype,"expectsResolverExtension",1),t([e],o.prototype,"execPath",1),t([e],o.prototype,"backupPath",1),t([e],o.prototype,"window",1),t([e],o.prototype,"windowLogsPath",1),t([e],o.prototype,"logFile",1),t([e],o.prototype,"extHostLogsPath",1),t([e],o.prototype,"extHostTelemetryLogFile",1),t([e],o.prototype,"webviewExternalEndpoint",1),t([e],o.prototype,"skipReleaseNotes",1),t([e],o.prototype,"skipWelcome",1),t([e],o.prototype,"logExtensionHostCommunication",1),t([e],o.prototype,"enableSmokeTestDriver",1),t([e],o.prototype,"extensionEnabledProposedApi",1),t([e],o.prototype,"os",1),t([e],o.prototype,"filesToOpenOrCreate",1),t([e],o.prototype,"filesToDiff",1),t([e],o.prototype,"filesToMerge",1),t([e],o.prototype,"filesToWait",1);export{T as INativeWorkbenchEnvironmentService,o as NativeWorkbenchEnvironmentService};
