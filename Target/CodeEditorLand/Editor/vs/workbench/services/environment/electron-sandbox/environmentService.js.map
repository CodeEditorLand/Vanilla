{
  "version": 3,
  "sources": ["../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/services/environment/electron-sandbox/environmentService.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { PerformanceMark } from '../../../../base/common/performance.js';\nimport { IBrowserWorkbenchEnvironmentService } from '../browser/environmentService.js';\nimport { IColorScheme, INativeWindowConfiguration, IOSConfiguration, IPath, IPathsToWaitFor } from '../../../../platform/window/common/window.js';\nimport { IEnvironmentService, INativeEnvironmentService } from '../../../../platform/environment/common/environment.js';\nimport { refineServiceDecorator } from '../../../../platform/instantiation/common/instantiation.js';\nimport { AbstractNativeEnvironmentService } from '../../../../platform/environment/common/environmentService.js';\nimport { memoize } from '../../../../base/common/decorators.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { Schemas } from '../../../../base/common/network.js';\nimport { IProductService } from '../../../../platform/product/common/productService.js';\nimport { joinPath } from '../../../../base/common/resources.js';\n\nexport const INativeWorkbenchEnvironmentService = refineServiceDecorator<IEnvironmentService, INativeWorkbenchEnvironmentService>(IEnvironmentService);\n\n/**\n * A subclass of the `IWorkbenchEnvironmentService` to be used only in native\n * environments (Windows, Linux, macOS) but not e.g. web.\n */\nexport interface INativeWorkbenchEnvironmentService extends IBrowserWorkbenchEnvironmentService, INativeEnvironmentService {\n\n\t// --- Window\n\treadonly window: {\n\t\tid: number;\n\t\tcolorScheme: IColorScheme;\n\t\tmaximized?: boolean;\n\t\taccessibilitySupport?: boolean;\n\t\tisInitialStartup?: boolean;\n\t\tisCodeCaching?: boolean;\n\t\tperfMarks: PerformanceMark[];\n\t};\n\n\t// --- Main\n\treadonly mainPid: number;\n\treadonly os: IOSConfiguration;\n\treadonly machineId: string;\n\treadonly sqmId: string;\n\treadonly devDeviceId: string;\n\n\t// --- Paths\n\treadonly execPath: string;\n\treadonly backupPath?: string;\n\n\t// --- Development\n\treadonly crashReporterDirectory?: string;\n\treadonly crashReporterId?: string;\n\n\t// --- Editors to --wait\n\treadonly filesToWait?: IPathsToWaitFor;\n}\n\nexport class NativeWorkbenchEnvironmentService extends AbstractNativeEnvironmentService implements INativeWorkbenchEnvironmentService {\n\n\t@memoize\n\tget mainPid() { return this.configuration.mainPid; }\n\n\t@memoize\n\tget machineId() { return this.configuration.machineId; }\n\n\t@memoize\n\tget sqmId() { return this.configuration.sqmId; }\n\n\t@memoize\n\tget devDeviceId() { return this.configuration.devDeviceId; }\n\n\t@memoize\n\tget remoteAuthority() { return this.configuration.remoteAuthority; }\n\n\t@memoize\n\tget expectsResolverExtension() { return !!this.configuration.remoteAuthority?.includes('+'); }\n\n\t@memoize\n\tget execPath() { return this.configuration.execPath; }\n\n\t@memoize\n\tget backupPath() { return this.configuration.backupPath; }\n\n\t@memoize\n\tget window() {\n\t\treturn {\n\t\t\tid: this.configuration.windowId,\n\t\t\tcolorScheme: this.configuration.colorScheme,\n\t\t\tmaximized: this.configuration.maximized,\n\t\t\taccessibilitySupport: this.configuration.accessibilitySupport,\n\t\t\tperfMarks: this.configuration.perfMarks,\n\t\t\tisInitialStartup: this.configuration.isInitialStartup,\n\t\t\tisCodeCaching: typeof this.configuration.codeCachePath === 'string'\n\t\t};\n\t}\n\n\t@memoize\n\tget windowLogsPath(): URI { return joinPath(this.logsHome, `window${this.configuration.windowId}`); }\n\n\t@memoize\n\tget logFile(): URI { return joinPath(this.windowLogsPath, `renderer.log`); }\n\n\t@memoize\n\tget extHostLogsPath(): URI { return joinPath(this.windowLogsPath, 'exthost'); }\n\n\t@memoize\n\tget extHostTelemetryLogFile(): URI {\n\t\treturn joinPath(this.extHostLogsPath, 'extensionTelemetry.log');\n\t}\n\n\t@memoize\n\tget webviewExternalEndpoint(): string { return `${Schemas.vscodeWebview}://{{uuid}}`; }\n\n\t@memoize\n\tget skipReleaseNotes(): boolean { return !!this.args['skip-release-notes']; }\n\n\t@memoize\n\tget skipWelcome(): boolean { return !!this.args['skip-welcome']; }\n\n\t@memoize\n\tget logExtensionHostCommunication(): boolean { return !!this.args.logExtensionHostCommunication; }\n\n\t@memoize\n\tget enableSmokeTestDriver(): boolean { return !!this.args['enable-smoke-test-driver']; }\n\n\t@memoize\n\tget extensionEnabledProposedApi(): string[] | undefined {\n\t\tif (Array.isArray(this.args['enable-proposed-api'])) {\n\t\t\treturn this.args['enable-proposed-api'];\n\t\t}\n\n\t\tif ('enable-proposed-api' in this.args) {\n\t\t\treturn [];\n\t\t}\n\n\t\treturn undefined;\n\t}\n\n\t@memoize\n\tget os(): IOSConfiguration { return this.configuration.os; }\n\n\t@memoize\n\tget filesToOpenOrCreate(): IPath[] | undefined { return this.configuration.filesToOpenOrCreate; }\n\n\t@memoize\n\tget filesToDiff(): IPath[] | undefined { return this.configuration.filesToDiff; }\n\n\t@memoize\n\tget filesToMerge(): IPath[] | undefined { return this.configuration.filesToMerge; }\n\n\t@memoize\n\tget filesToWait(): IPathsToWaitFor | undefined { return this.configuration.filesToWait; }\n\n\tconstructor(\n\t\tprivate readonly configuration: INativeWindowConfiguration,\n\t\tproductService: IProductService\n\t) {\n\t\tsuper(configuration, { homeDir: configuration.homeDir, tmpDir: configuration.tmpDir, userDataDir: configuration.userDataDir }, productService);\n\t}\n}\n"],
  "mappings": "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",
  "names": []
}
