var I=Object.defineProperty;var l=Object.getOwnPropertyDescriptor;var s=(t,o,e,r)=>{for(var i=r>1?void 0:r?l(o,e):o,d=t.length-1,p;d>=0;d--)(p=t[d])&&(i=(r?p(o,e,i):p(i))||i);return r&&i&&I(o,e,i),i},a=(t,o)=>(e,r)=>o(e,r,t);import{Emitter as y}from"../../../../base/common/event.js";import{Disposable as f,toDisposable as g}from"../../../../base/common/lifecycle.js";import{InstantiationType as E,registerSingleton as m}from"../../../../platform/instantiation/common/extensions.js";import{createDecorator as C}from"../../../../platform/instantiation/common/instantiation.js";import{EditorsOrder as c}from"../../../common/editor.js";import{IEditorService as k}from"../../editor/common/editorService.js";const u=C("workingCopyEditorService");let n=class extends f{constructor(e){super();this.editorService=e}_onDidRegisterHandler=this._register(new y);onDidRegisterHandler=this._onDidRegisterHandler.event;handlers=new Set;registerHandler(e){return this.handlers.add(e),this._onDidRegisterHandler.fire(e),g(()=>this.handlers.delete(e))}findEditor(e){for(const r of this.editorService.getEditors(c.MOST_RECENTLY_ACTIVE))if(this.isOpen(e,r.editor))return r}isOpen(e,r){for(const i of this.handlers)if(i.isOpen(e,r))return!0;return!1}};n=s([a(0,k)],n),m(u,n,E.Delayed);export{u as IWorkingCopyEditorService,n as WorkingCopyEditorService};
