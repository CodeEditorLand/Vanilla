var I=Object.defineProperty;var f=Object.getOwnPropertyDescriptor;var a=(i,o,t,e)=>{for(var r=e>1?void 0:e?f(o,t):o,c=i.length-1,p;c>=0;c--)(p=i[c])&&(r=(e?p(o,t,r):p(r))||r);return e&&r&&I(o,t,r),r},m=(i,o)=>(t,e)=>o(t,e,i);import{IFileService as k}from"../../../../platform/files/common/files.js";import{IWorkbenchEnvironmentService as v}from"../../environment/common/environmentService.js";import{ILogService as S}from"../../../../platform/log/common/log.js";import{WorkingCopyBackupService as g}from"../common/workingCopyBackupService.js";import{InstantiationType as W,registerSingleton as h}from"../../../../platform/instantiation/common/extensions.js";import{IWorkingCopyBackupService as u}from"../common/workingCopyBackup.js";import{joinPath as b}from"../../../../base/common/resources.js";import{IWorkspaceContextService as l}from"../../../../platform/workspace/common/workspace.js";import{WorkbenchPhase as x,registerWorkbenchContribution2 as C}from"../../../common/contributions.js";import{BrowserWorkingCopyBackupTracker as s}from"./workingCopyBackupTracker.js";let n=class extends g{constructor(o,t,e,r){super(b(t.userRoamingDataHome,"Backups",o.getWorkspace().id),e,r)}};n=a([m(0,l),m(1,v),m(2,k),m(3,S)],n),h(u,n,W.Eager),C(s.ID,s,x.BlockStartup);export{n as BrowserWorkingCopyBackupService};
