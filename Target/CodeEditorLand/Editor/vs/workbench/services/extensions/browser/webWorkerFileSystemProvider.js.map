{
  "version": 3,
  "sources": ["../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/services/extensions/browser/webWorkerFileSystemProvider.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { FileSystemProviderCapabilities, IStat, FileType, IFileDeleteOptions, IFileOverwriteOptions, IFileWriteOptions, FileSystemProviderErrorCode, IFileSystemProviderWithFileReadWriteCapability, createFileSystemProviderError } from '../../../../platform/files/common/files.js';\nimport { Event } from '../../../../base/common/event.js';\nimport { IDisposable, Disposable } from '../../../../base/common/lifecycle.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { NotSupportedError } from '../../../../base/common/errors.js';\n\nexport class FetchFileSystemProvider implements IFileSystemProviderWithFileReadWriteCapability {\n\n\treadonly capabilities = FileSystemProviderCapabilities.Readonly + FileSystemProviderCapabilities.FileReadWrite + FileSystemProviderCapabilities.PathCaseSensitive;\n\treadonly onDidChangeCapabilities = Event.None;\n\treadonly onDidChangeFile = Event.None;\n\n\t// working implementations\n\tasync readFile(resource: URI): Promise<Uint8Array> {\n\t\ttry {\n\t\t\tconst res = await fetch(resource.toString(true));\n\t\t\tif (res.status === 200) {\n\t\t\t\treturn new Uint8Array(await res.arrayBuffer());\n\t\t\t}\n\t\t\tthrow createFileSystemProviderError(res.statusText, FileSystemProviderErrorCode.Unknown);\n\t\t} catch (err) {\n\t\t\tthrow createFileSystemProviderError(err, FileSystemProviderErrorCode.Unknown);\n\t\t}\n\t}\n\n\t// fake implementations\n\tasync stat(_resource: URI): Promise<IStat> {\n\t\treturn {\n\t\t\ttype: FileType.File,\n\t\t\tsize: 0,\n\t\t\tmtime: 0,\n\t\t\tctime: 0\n\t\t};\n\t}\n\n\twatch(): IDisposable {\n\t\treturn Disposable.None;\n\t}\n\n\t// error implementations\n\twriteFile(_resource: URI, _content: Uint8Array, _opts: IFileWriteOptions): Promise<void> {\n\t\tthrow new NotSupportedError();\n\t}\n\treaddir(_resource: URI): Promise<[string, FileType][]> {\n\t\tthrow new NotSupportedError();\n\t}\n\tmkdir(_resource: URI): Promise<void> {\n\t\tthrow new NotSupportedError();\n\t}\n\tdelete(_resource: URI, _opts: IFileDeleteOptions): Promise<void> {\n\t\tthrow new NotSupportedError();\n\t}\n\trename(_from: URI, _to: URI, _opts: IFileOverwriteOptions): Promise<void> {\n\t\tthrow new NotSupportedError();\n\t}\n}\n"],
  "mappings": ";;AAKA,SAAS,gCAAgC,OAAO,UAAU,oBAAoB,uBAAuB,mBAAmB,6BAA6B,gDAAgD,qCAAqC;AAC1O,SAAS,aAAa;AACtB,SAAS,aAAa,kBAAkB;AACxC,SAAS,WAAW;AACpB,SAAS,yBAAyB;AAE3B,MAAM,wBAAkF;AAAA,EAX/F,OAW+F;AAAA;AAAA;AAAA,EAErF,eAAe,+BAA+B,WAAW,+BAA+B,gBAAgB,+BAA+B;AAAA,EACvI,0BAA0B,MAAM;AAAA,EAChC,kBAAkB,MAAM;AAAA;AAAA,EAGjC,MAAM,SAAS,UAAoC;AAClD,QAAI;AACH,YAAM,MAAM,MAAM,MAAM,SAAS,SAAS,IAAI,CAAC;AAC/C,UAAI,IAAI,WAAW,KAAK;AACvB,eAAO,IAAI,WAAW,MAAM,IAAI,YAAY,CAAC;AAAA,MAC9C;AACA,YAAM,8BAA8B,IAAI,YAAY,4BAA4B,OAAO;AAAA,IACxF,SAAS,KAAK;AACb,YAAM,8BAA8B,KAAK,4BAA4B,OAAO;AAAA,IAC7E;AAAA,EACD;AAAA;AAAA,EAGA,MAAM,KAAK,WAAgC;AAC1C,WAAO;AAAA,MACN,MAAM,SAAS;AAAA,MACf,MAAM;AAAA,MACN,OAAO;AAAA,MACP,OAAO;AAAA,IACR;AAAA,EACD;AAAA,EAEA,QAAqB;AACpB,WAAO,WAAW;AAAA,EACnB;AAAA;AAAA,EAGA,UAAU,WAAgB,UAAsB,OAAyC;AACxF,UAAM,IAAI,kBAAkB;AAAA,EAC7B;AAAA,EACA,QAAQ,WAA+C;AACtD,UAAM,IAAI,kBAAkB;AAAA,EAC7B;AAAA,EACA,MAAM,WAA+B;AACpC,UAAM,IAAI,kBAAkB;AAAA,EAC7B;AAAA,EACA,OAAO,WAAgB,OAA0C;AAChE,UAAM,IAAI,kBAAkB;AAAA,EAC7B;AAAA,EACA,OAAO,OAAY,KAAU,OAA6C;AACzE,UAAM,IAAI,kBAAkB;AAAA,EAC7B;AACD;",
  "names": []
}
