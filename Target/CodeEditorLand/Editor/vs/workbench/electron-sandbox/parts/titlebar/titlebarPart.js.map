{
  "version": 3,
  "sources": ["../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/electron-sandbox/parts/titlebar/titlebarPart.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport {\n\tgetZoomFactor,\n\tisWCOEnabled,\n} from \"../../../../base/browser/browser.js\";\nimport {\n\t$,\n\tEventType,\n\taddDisposableListener,\n\tappend,\n\tgetWindow,\n\tgetWindowId,\n\thide,\n\tshow,\n} from \"../../../../base/browser/dom.js\";\nimport {\n\ttype CodeWindow,\n\tmainWindow,\n} from \"../../../../base/browser/window.js\";\nimport { Codicon } from \"../../../../base/common/codicons.js\";\nimport { Event } from \"../../../../base/common/event.js\";\nimport {\n\tisBigSurOrNewer,\n\tisLinux,\n\tisMacintosh,\n\tisNative,\n\tisWindows,\n} from \"../../../../base/common/platform.js\";\nimport { ThemeIcon } from \"../../../../base/common/themables.js\";\nimport {\n\tIMenuService,\n\tMenuId,\n} from \"../../../../platform/actions/common/actions.js\";\nimport {\n\ttype IConfigurationChangeEvent,\n\tIConfigurationService,\n} from \"../../../../platform/configuration/common/configuration.js\";\nimport { IContextKeyService } from \"../../../../platform/contextkey/common/contextkey.js\";\nimport { IContextMenuService } from \"../../../../platform/contextview/browser/contextView.js\";\nimport { IInstantiationService } from \"../../../../platform/instantiation/common/instantiation.js\";\nimport { IKeybindingService } from \"../../../../platform/keybinding/common/keybinding.js\";\nimport { INativeHostService } from \"../../../../platform/native/common/native.js\";\nimport { IStorageService } from \"../../../../platform/storage/common/storage.js\";\nimport { IThemeService } from \"../../../../platform/theme/common/themeService.js\";\nimport {\n\tDEFAULT_CUSTOM_TITLEBAR_HEIGHT,\n\thasNativeTitlebar,\n\tuseWindowControlsOverlay,\n} from \"../../../../platform/window/common/window.js\";\nimport {\n\tBrowserTitleService,\n\tBrowserTitlebarPart,\n\ttype IAuxiliaryTitlebarPart,\n} from \"../../../browser/parts/titlebar/titlebarPart.js\";\nimport {\n\ttype IEditorGroupsContainer,\n\tIEditorGroupsService,\n} from \"../../../services/editor/common/editorGroupsService.js\";\nimport { IEditorService } from \"../../../services/editor/common/editorService.js\";\nimport { INativeWorkbenchEnvironmentService } from \"../../../services/environment/electron-sandbox/environmentService.js\";\nimport { IHostService } from \"../../../services/host/browser/host.js\";\nimport {\n\tIWorkbenchLayoutService,\n\tParts,\n} from \"../../../services/layout/browser/layoutService.js\";\nimport { NativeMenubarControl } from \"./menubarControl.js\";\n\nexport class NativeTitlebarPart extends BrowserTitlebarPart {\n\t//#region IView\n\n\toverride get minimumHeight(): number {\n\t\tif (!isMacintosh) {\n\t\t\treturn super.minimumHeight;\n\t\t}\n\n\t\treturn (\n\t\t\t(this.isCommandCenterVisible\n\t\t\t\t? DEFAULT_CUSTOM_TITLEBAR_HEIGHT\n\t\t\t\t: this.macTitlebarSize) /\n\t\t\t(this.preventZoom ? getZoomFactor(getWindow(this.element)) : 1)\n\t\t);\n\t}\n\toverride get maximumHeight(): number {\n\t\treturn this.minimumHeight;\n\t}\n\n\tprivate bigSurOrNewer: boolean;\n\tprivate get macTitlebarSize() {\n\t\tif (this.bigSurOrNewer) {\n\t\t\treturn 28; // macOS Big Sur increases title bar height\n\t\t}\n\n\t\treturn 22;\n\t}\n\n\t//#endregion\n\n\tprivate maxRestoreControl: HTMLElement | undefined;\n\tprivate resizer: HTMLElement | undefined;\n\tprivate cachedWindowControlStyles:\n\t\t| { bgColor: string; fgColor: string }\n\t\t| undefined;\n\tprivate cachedWindowControlHeight: number | undefined;\n\n\tconstructor(\n\t\tid: string,\n\t\ttargetWindow: CodeWindow,\n\t\teditorGroupsContainer: IEditorGroupsContainer | 'main',\n\t\t@IContextMenuService contextMenuService: IContextMenuService,\n\t\t@IConfigurationService configurationService: IConfigurationService,\n\t\t@INativeWorkbenchEnvironmentService environmentService: INativeWorkbenchEnvironmentService,\n\t\t@IInstantiationService instantiationService: IInstantiationService,\n\t\t@IThemeService themeService: IThemeService,\n\t\t@IStorageService storageService: IStorageService,\n\t\t@IWorkbenchLayoutService layoutService: IWorkbenchLayoutService,\n\t\t@IContextKeyService contextKeyService: IContextKeyService,\n\t\t@IHostService hostService: IHostService,\n\t\t@INativeHostService private readonly nativeHostService: INativeHostService,\n\t\t@IEditorGroupsService editorGroupService: IEditorGroupsService,\n\t\t@IEditorService editorService: IEditorService,\n\t\t@IMenuService menuService: IMenuService,\n\t\t@IKeybindingService keybindingService: IKeybindingService\n\t) {\n\t\tsuper(id, targetWindow, editorGroupsContainer, contextMenuService, configurationService, environmentService, instantiationService, themeService, storageService, layoutService, contextKeyService, hostService, editorGroupService, editorService, menuService, keybindingService);\n\n\t\tthis.bigSurOrNewer = isBigSurOrNewer(environmentService.os.release);\n\t}\n\n\tprotected override onMenubarVisibilityChanged(visible: boolean): void {\n\t\t// Hide title when toggling menu bar\n\t\tif (\n\t\t\t(isWindows || isLinux) &&\n\t\t\tthis.currentMenubarVisibility === \"toggle\" &&\n\t\t\tvisible\n\t\t) {\n\t\t\t// Hack to fix issue #52522 with layered webkit-app-region elements appearing under cursor\n\t\t\tif (this.dragRegion) {\n\t\t\t\thide(this.dragRegion);\n\t\t\t\tsetTimeout(() => show(this.dragRegion!), 50);\n\t\t\t}\n\t\t}\n\n\t\tsuper.onMenubarVisibilityChanged(visible);\n\t}\n\n\tprotected override onConfigurationChanged(\n\t\tevent: IConfigurationChangeEvent,\n\t): void {\n\t\tsuper.onConfigurationChanged(event);\n\n\t\tif (event.affectsConfiguration(\"window.doubleClickIconToClose\")) {\n\t\t\tif (this.appIcon) {\n\t\t\t\tthis.onUpdateAppIconDragBehavior();\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate onUpdateAppIconDragBehavior(): void {\n\t\tconst setting = this.configurationService.getValue(\n\t\t\t\"window.doubleClickIconToClose\",\n\t\t);\n\t\tif (setting && this.appIcon) {\n\t\t\t(this.appIcon.style as any)[\"-webkit-app-region\"] = \"no-drag\";\n\t\t} else if (this.appIcon) {\n\t\t\t(this.appIcon.style as any)[\"-webkit-app-region\"] = \"drag\";\n\t\t}\n\t}\n\n\tprotected override installMenubar(): void {\n\t\tsuper.installMenubar();\n\n\t\tif (this.menubar) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.customMenubar) {\n\t\t\tthis._register(\n\t\t\t\tthis.customMenubar.onFocusStateChange((e) =>\n\t\t\t\t\tthis.onMenubarFocusChanged(e),\n\t\t\t\t),\n\t\t\t);\n\t\t}\n\t}\n\n\tprivate onMenubarFocusChanged(focused: boolean): void {\n\t\tif (\n\t\t\t(isWindows || isLinux) &&\n\t\t\tthis.currentMenubarVisibility !== \"compact\" &&\n\t\t\tthis.dragRegion\n\t\t) {\n\t\t\tif (focused) {\n\t\t\t\thide(this.dragRegion);\n\t\t\t} else {\n\t\t\t\tshow(this.dragRegion);\n\t\t\t}\n\t\t}\n\t}\n\n\tprotected override createContentArea(parent: HTMLElement): HTMLElement {\n\t\tconst result = super.createContentArea(parent);\n\t\tconst targetWindow = getWindow(parent);\n\t\tconst targetWindowId = getWindowId(targetWindow);\n\n\t\t// Native menu controller\n\t\tif (isMacintosh || hasNativeTitlebar(this.configurationService)) {\n\t\t\tthis._register(\n\t\t\t\tthis.instantiationService.createInstance(NativeMenubarControl),\n\t\t\t);\n\t\t}\n\n\t\t// App Icon (Native Windows/Linux)\n\t\tif (this.appIcon) {\n\t\t\tthis.onUpdateAppIconDragBehavior();\n\n\t\t\tthis._register(\n\t\t\t\taddDisposableListener(this.appIcon, EventType.DBLCLICK, () => {\n\t\t\t\t\tthis.nativeHostService.closeWindow({ targetWindowId });\n\t\t\t\t}),\n\t\t\t);\n\t\t}\n\n\t\t// Window Controls (Native Linux when WCO is disabled)\n\t\tif (\n\t\t\tisLinux &&\n\t\t\t!hasNativeTitlebar(this.configurationService) &&\n\t\t\t!isWCOEnabled() &&\n\t\t\tthis.windowControlsContainer\n\t\t) {\n\t\t\t// Minimize\n\t\t\tconst minimizeIcon = append(\n\t\t\t\tthis.windowControlsContainer,\n\t\t\t\t$(\n\t\t\t\t\t\"div.window-icon.window-minimize\" +\n\t\t\t\t\t\tThemeIcon.asCSSSelector(Codicon.chromeMinimize),\n\t\t\t\t),\n\t\t\t);\n\t\t\tthis._register(\n\t\t\t\taddDisposableListener(minimizeIcon, EventType.CLICK, () => {\n\t\t\t\t\tthis.nativeHostService.minimizeWindow({ targetWindowId });\n\t\t\t\t}),\n\t\t\t);\n\n\t\t\t// Restore\n\t\t\tthis.maxRestoreControl = append(\n\t\t\t\tthis.windowControlsContainer,\n\t\t\t\t$(\"div.window-icon.window-max-restore\"),\n\t\t\t);\n\t\t\tthis._register(\n\t\t\t\taddDisposableListener(\n\t\t\t\t\tthis.maxRestoreControl,\n\t\t\t\t\tEventType.CLICK,\n\t\t\t\t\tasync () => {\n\t\t\t\t\t\tconst maximized =\n\t\t\t\t\t\t\tawait this.nativeHostService.isMaximized({\n\t\t\t\t\t\t\t\ttargetWindowId,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\tif (maximized) {\n\t\t\t\t\t\t\treturn this.nativeHostService.unmaximizeWindow({\n\t\t\t\t\t\t\t\ttargetWindowId,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn this.nativeHostService.maximizeWindow({\n\t\t\t\t\t\t\ttargetWindowId,\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t),\n\t\t\t);\n\n\t\t\t// Close\n\t\t\tconst closeIcon = append(\n\t\t\t\tthis.windowControlsContainer,\n\t\t\t\t$(\n\t\t\t\t\t\"div.window-icon.window-close\" +\n\t\t\t\t\t\tThemeIcon.asCSSSelector(Codicon.chromeClose),\n\t\t\t\t),\n\t\t\t);\n\t\t\tthis._register(\n\t\t\t\taddDisposableListener(closeIcon, EventType.CLICK, () => {\n\t\t\t\t\tthis.nativeHostService.closeWindow({ targetWindowId });\n\t\t\t\t}),\n\t\t\t);\n\n\t\t\t// Resizer\n\t\t\tthis.resizer = append(this.rootContainer, $(\"div.resizer\"));\n\t\t\tthis._register(\n\t\t\t\tEvent.runAndSubscribe(\n\t\t\t\t\tthis.layoutService.onDidChangeWindowMaximized,\n\t\t\t\t\t({ windowId, maximized }) => {\n\t\t\t\t\t\tif (windowId === targetWindowId) {\n\t\t\t\t\t\t\tthis.onDidChangeWindowMaximized(maximized);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\twindowId: targetWindowId,\n\t\t\t\t\t\tmaximized:\n\t\t\t\t\t\t\tthis.layoutService.isWindowMaximized(targetWindow),\n\t\t\t\t\t},\n\t\t\t\t),\n\t\t\t);\n\t\t}\n\n\t\t// Window System Context Menu\n\t\t// See https://github.com/electron/electron/issues/24893\n\t\tif (isWindows && !hasNativeTitlebar(this.configurationService)) {\n\t\t\tthis._register(\n\t\t\t\tthis.nativeHostService.onDidTriggerWindowSystemContextMenu(\n\t\t\t\t\t({ windowId, x, y }) => {\n\t\t\t\t\t\tif (targetWindowId !== windowId) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst zoomFactor = getZoomFactor(\n\t\t\t\t\t\t\tgetWindow(this.element),\n\t\t\t\t\t\t);\n\t\t\t\t\t\tthis.onContextMenu(\n\t\t\t\t\t\t\tnew MouseEvent(\"mouseup\", {\n\t\t\t\t\t\t\t\tclientX: x / zoomFactor,\n\t\t\t\t\t\t\t\tclientY: y / zoomFactor,\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\tMenuId.TitleBarContext,\n\t\t\t\t\t\t);\n\t\t\t\t\t},\n\t\t\t\t),\n\t\t\t);\n\t\t}\n\n\t\treturn result;\n\t}\n\n\tprivate onDidChangeWindowMaximized(maximized: boolean): void {\n\t\tif (this.maxRestoreControl) {\n\t\t\tif (maximized) {\n\t\t\t\tthis.maxRestoreControl.classList.remove(\n\t\t\t\t\t...ThemeIcon.asClassNameArray(Codicon.chromeMaximize),\n\t\t\t\t);\n\t\t\t\tthis.maxRestoreControl.classList.add(\n\t\t\t\t\t...ThemeIcon.asClassNameArray(Codicon.chromeRestore),\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tthis.maxRestoreControl.classList.remove(\n\t\t\t\t\t...ThemeIcon.asClassNameArray(Codicon.chromeRestore),\n\t\t\t\t);\n\t\t\t\tthis.maxRestoreControl.classList.add(\n\t\t\t\t\t...ThemeIcon.asClassNameArray(Codicon.chromeMaximize),\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tif (this.resizer) {\n\t\t\tif (maximized) {\n\t\t\t\thide(this.resizer);\n\t\t\t} else {\n\t\t\t\tshow(this.resizer);\n\t\t\t}\n\t\t}\n\t}\n\n\toverride updateStyles(): void {\n\t\tsuper.updateStyles();\n\n\t\t// WCO styles only supported on Windows currently\n\t\tif (useWindowControlsOverlay(this.configurationService)) {\n\t\t\tif (\n\t\t\t\t!this.cachedWindowControlStyles ||\n\t\t\t\tthis.cachedWindowControlStyles.bgColor !==\n\t\t\t\t\tthis.element.style.backgroundColor ||\n\t\t\t\tthis.cachedWindowControlStyles.fgColor !==\n\t\t\t\t\tthis.element.style.color\n\t\t\t) {\n\t\t\t\tthis.nativeHostService.updateWindowControls({\n\t\t\t\t\ttargetWindowId: getWindowId(getWindow(this.element)),\n\t\t\t\t\tbackgroundColor: this.element.style.backgroundColor,\n\t\t\t\t\tforegroundColor: this.element.style.color,\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\toverride layout(width: number, height: number): void {\n\t\tsuper.layout(width, height);\n\n\t\tif (\n\t\t\tuseWindowControlsOverlay(this.configurationService) ||\n\t\t\t(isMacintosh &&\n\t\t\t\tisNative &&\n\t\t\t\t!hasNativeTitlebar(this.configurationService))\n\t\t) {\n\t\t\t// When the user goes into full screen mode, the height of the title bar becomes 0.\n\t\t\t// Instead, set it back to the default titlebar height for Catalina users\n\t\t\t// so that they can have the traffic lights rendered at the proper offset.\n\t\t\t// Ref https://github.com/microsoft/vscode/issues/159862\n\n\t\t\tconst newHeight =\n\t\t\t\theight > 0 || this.bigSurOrNewer\n\t\t\t\t\t? Math.round(\n\t\t\t\t\t\t\theight * getZoomFactor(getWindow(this.element)),\n\t\t\t\t\t\t)\n\t\t\t\t\t: this.macTitlebarSize;\n\t\t\tif (newHeight !== this.cachedWindowControlHeight) {\n\t\t\t\tthis.cachedWindowControlHeight = newHeight;\n\t\t\t\tthis.nativeHostService.updateWindowControls({\n\t\t\t\t\ttargetWindowId: getWindowId(getWindow(this.element)),\n\t\t\t\t\theight: newHeight,\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n}\n\nexport class MainNativeTitlebarPart extends NativeTitlebarPart {\n\tconstructor(\n\t\t@IContextMenuService contextMenuService: IContextMenuService,\n\t\t@IConfigurationService configurationService: IConfigurationService,\n\t\t@INativeWorkbenchEnvironmentService environmentService: INativeWorkbenchEnvironmentService,\n\t\t@IInstantiationService instantiationService: IInstantiationService,\n\t\t@IThemeService themeService: IThemeService,\n\t\t@IStorageService storageService: IStorageService,\n\t\t@IWorkbenchLayoutService layoutService: IWorkbenchLayoutService,\n\t\t@IContextKeyService contextKeyService: IContextKeyService,\n\t\t@IHostService hostService: IHostService,\n\t\t@INativeHostService nativeHostService: INativeHostService,\n\t\t@IEditorGroupsService editorGroupService: IEditorGroupsService,\n\t\t@IEditorService editorService: IEditorService,\n\t\t@IMenuService menuService: IMenuService,\n\t\t@IKeybindingService keybindingService: IKeybindingService,\n\t) {\n\t\tsuper(\n\t\t\tParts.TITLEBAR_PART,\n\t\t\tmainWindow,\n\t\t\t\"main\",\n\t\t\tcontextMenuService,\n\t\t\tconfigurationService,\n\t\t\tenvironmentService,\n\t\t\tinstantiationService,\n\t\t\tthemeService,\n\t\t\tstorageService,\n\t\t\tlayoutService,\n\t\t\tcontextKeyService,\n\t\t\thostService,\n\t\t\tnativeHostService,\n\t\t\teditorGroupService,\n\t\t\teditorService,\n\t\t\tmenuService,\n\t\t\tkeybindingService,\n\t\t);\n\t}\n}\n\nexport class AuxiliaryNativeTitlebarPart\n\textends NativeTitlebarPart\n\timplements IAuxiliaryTitlebarPart\n{\n\tprivate static COUNTER = 1;\n\n\tget height() {\n\t\treturn this.minimumHeight;\n\t}\n\n\tconstructor(\n\t\treadonly container: HTMLElement,\n\t\teditorGroupsContainer: IEditorGroupsContainer,\n\t\tprivate readonly mainTitlebar: BrowserTitlebarPart,\n\t\t@IContextMenuService contextMenuService: IContextMenuService,\n\t\t@IConfigurationService configurationService: IConfigurationService,\n\t\t@INativeWorkbenchEnvironmentService environmentService: INativeWorkbenchEnvironmentService,\n\t\t@IInstantiationService instantiationService: IInstantiationService,\n\t\t@IThemeService themeService: IThemeService,\n\t\t@IStorageService storageService: IStorageService,\n\t\t@IWorkbenchLayoutService layoutService: IWorkbenchLayoutService,\n\t\t@IContextKeyService contextKeyService: IContextKeyService,\n\t\t@IHostService hostService: IHostService,\n\t\t@INativeHostService nativeHostService: INativeHostService,\n\t\t@IEditorGroupsService editorGroupService: IEditorGroupsService,\n\t\t@IEditorService editorService: IEditorService,\n\t\t@IMenuService menuService: IMenuService,\n\t\t@IKeybindingService keybindingService: IKeybindingService,\n\t) {\n\t\tconst id = AuxiliaryNativeTitlebarPart.COUNTER++;\n\t\tsuper(\n\t\t\t`workbench.parts.auxiliaryTitle.${id}`,\n\t\t\tgetWindow(container),\n\t\t\teditorGroupsContainer,\n\t\t\tcontextMenuService,\n\t\t\tconfigurationService,\n\t\t\tenvironmentService,\n\t\t\tinstantiationService,\n\t\t\tthemeService,\n\t\t\tstorageService,\n\t\t\tlayoutService,\n\t\t\tcontextKeyService,\n\t\t\thostService,\n\t\t\tnativeHostService,\n\t\t\teditorGroupService,\n\t\t\teditorService,\n\t\t\tmenuService,\n\t\t\tkeybindingService,\n\t\t);\n\t}\n\n\toverride get preventZoom(): boolean {\n\t\t// Prevent zooming behavior if any of the following conditions are met:\n\t\t// 1. Shrinking below the window control size (zoom < 1)\n\t\t// 2. No custom items are present in the main title bar\n\t\t// The auxiliary title bar never contains any zoomable items itself,\n\t\t// but we want to match the behavior of the main title bar.\n\n\t\treturn (\n\t\t\tgetZoomFactor(getWindow(this.element)) < 1 ||\n\t\t\t!this.mainTitlebar.hasZoomableElements\n\t\t);\n\t}\n}\n\nexport class NativeTitleService extends BrowserTitleService {\n\tprotected override createMainTitlebarPart(): MainNativeTitlebarPart {\n\t\treturn this.instantiationService.createInstance(MainNativeTitlebarPart);\n\t}\n\n\tprotected override doCreateAuxiliaryTitlebarPart(\n\t\tcontainer: HTMLElement,\n\t\teditorGroupsContainer: IEditorGroupsContainer,\n\t): AuxiliaryNativeTitlebarPart {\n\t\treturn this.instantiationService.createInstance(\n\t\t\tAuxiliaryNativeTitlebarPart,\n\t\t\tcontainer,\n\t\t\teditorGroupsContainer,\n\t\t\tthis.mainPart,\n\t\t);\n\t}\n}\n"],
  "mappings": "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",
  "names": []
}
