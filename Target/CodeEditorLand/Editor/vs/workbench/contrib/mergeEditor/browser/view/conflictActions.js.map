{
  "version": 3,
  "sources": ["../../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/contrib/mergeEditor/browser/view/conflictActions.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { $, createStyleSheet, h, isInShadowDOM, reset } from '../../../../../base/browser/dom.js';\nimport { renderLabelWithIcons } from '../../../../../base/browser/ui/iconLabel/iconLabels.js';\nimport { hash } from '../../../../../base/common/hash.js';\nimport { Disposable, IDisposable } from '../../../../../base/common/lifecycle.js';\nimport { autorun, derived, IObservable, transaction } from '../../../../../base/common/observable.js';\nimport { ICodeEditor, IViewZoneChangeAccessor } from '../../../../../editor/browser/editorBrowser.js';\nimport { EditorOption, EDITOR_FONT_DEFAULTS } from '../../../../../editor/common/config/editorOptions.js';\nimport { localize } from '../../../../../nls.js';\nimport { ModifiedBaseRange, ModifiedBaseRangeState, ModifiedBaseRangeStateKind } from '../model/modifiedBaseRange.js';\nimport { FixedZoneWidget } from './fixedZoneWidget.js';\nimport { MergeEditorViewModel } from './viewModel.js';\n\nexport class ConflictActionsFactory extends Disposable {\n\tprivate readonly _styleClassName: string;\n\tprivate readonly _styleElement: HTMLStyleElement;\n\n\tconstructor(private readonly _editor: ICodeEditor) {\n\t\tsuper();\n\n\t\tthis._register(this._editor.onDidChangeConfiguration((e) => {\n\t\t\tif (e.hasChanged(EditorOption.fontInfo) || e.hasChanged(EditorOption.codeLensFontSize) || e.hasChanged(EditorOption.codeLensFontFamily)) {\n\t\t\t\tthis._updateLensStyle();\n\t\t\t}\n\t\t}));\n\n\t\tthis._styleClassName = '_conflictActionsFactory_' + hash(this._editor.getId()).toString(16);\n\t\tthis._styleElement = createStyleSheet(\n\t\t\tisInShadowDOM(this._editor.getContainerDomNode())\n\t\t\t\t? this._editor.getContainerDomNode()\n\t\t\t\t: undefined, undefined, this._store\n\t\t);\n\n\t\tthis._updateLensStyle();\n\t}\n\n\tprivate _updateLensStyle(): void {\n\t\tconst { codeLensHeight, fontSize } = this._getLayoutInfo();\n\t\tconst fontFamily = this._editor.getOption(EditorOption.codeLensFontFamily);\n\t\tconst editorFontInfo = this._editor.getOption(EditorOption.fontInfo);\n\n\t\tconst fontFamilyVar = `--codelens-font-family${this._styleClassName}`;\n\t\tconst fontFeaturesVar = `--codelens-font-features${this._styleClassName}`;\n\n\t\tlet newStyle = `\n\t\t.${this._styleClassName} { line-height: ${codeLensHeight}px; font-size: ${fontSize}px; padding-right: ${Math.round(fontSize * 0.5)}px; font-feature-settings: var(${fontFeaturesVar}) }\n\t\t.monaco-workbench .${this._styleClassName} span.codicon { line-height: ${codeLensHeight}px; font-size: ${fontSize}px; }\n\t\t`;\n\t\tif (fontFamily) {\n\t\t\tnewStyle += `${this._styleClassName} { font-family: var(${fontFamilyVar}), ${EDITOR_FONT_DEFAULTS.fontFamily}}`;\n\t\t}\n\t\tthis._styleElement.textContent = newStyle;\n\t\tthis._editor.getContainerDomNode().style?.setProperty(fontFamilyVar, fontFamily ?? 'inherit');\n\t\tthis._editor.getContainerDomNode().style?.setProperty(fontFeaturesVar, editorFontInfo.fontFeatureSettings);\n\t}\n\n\tprivate _getLayoutInfo() {\n\t\tconst lineHeightFactor = Math.max(1.3, this._editor.getOption(EditorOption.lineHeight) / this._editor.getOption(EditorOption.fontSize));\n\t\tlet fontSize = this._editor.getOption(EditorOption.codeLensFontSize);\n\t\tif (!fontSize || fontSize < 5) {\n\t\t\tfontSize = (this._editor.getOption(EditorOption.fontSize) * .9) | 0;\n\t\t}\n\t\treturn {\n\t\t\tfontSize,\n\t\t\tcodeLensHeight: (fontSize * lineHeightFactor) | 0,\n\t\t};\n\t}\n\n\tpublic createWidget(viewZoneChangeAccessor: IViewZoneChangeAccessor, lineNumber: number, items: IObservable<IContentWidgetAction[]>, viewZoneIdsToCleanUp: string[]): IDisposable {\n\t\tconst layoutInfo = this._getLayoutInfo();\n\t\treturn new ActionsContentWidget(\n\t\t\tthis._editor,\n\t\t\tviewZoneChangeAccessor,\n\t\t\tlineNumber,\n\t\t\tlayoutInfo.codeLensHeight + 2,\n\t\t\tthis._styleClassName,\n\t\t\titems,\n\t\t\tviewZoneIdsToCleanUp,\n\t\t);\n\t}\n}\n\nexport class ActionsSource {\n\tconstructor(\n\t\tprivate readonly viewModel: MergeEditorViewModel,\n\t\tprivate readonly modifiedBaseRange: ModifiedBaseRange,\n\t) {\n\t}\n\n\tprivate getItemsInput(inputNumber: 1 | 2): IObservable<IContentWidgetAction[]> {\n\t\treturn derived(reader => {\n\t\t\t/** @description items */\n\t\t\tconst viewModel = this.viewModel;\n\t\t\tconst modifiedBaseRange = this.modifiedBaseRange;\n\n\t\t\tif (!viewModel.model.hasBaseRange(modifiedBaseRange)) {\n\t\t\t\treturn [];\n\t\t\t}\n\n\t\t\tconst state = viewModel.model.getState(modifiedBaseRange).read(reader);\n\t\t\tconst handled = viewModel.model.isHandled(modifiedBaseRange).read(reader);\n\t\t\tconst model = viewModel.model;\n\n\t\t\tconst result: IContentWidgetAction[] = [];\n\n\t\t\tconst inputData = inputNumber === 1 ? viewModel.model.input1 : viewModel.model.input2;\n\t\t\tconst showNonConflictingChanges = viewModel.showNonConflictingChanges.read(reader);\n\n\t\t\tif (!modifiedBaseRange.isConflicting && handled && !showNonConflictingChanges) {\n\t\t\t\treturn [];\n\t\t\t}\n\n\t\t\tconst otherInputNumber = inputNumber === 1 ? 2 : 1;\n\n\t\t\tif (state.kind !== ModifiedBaseRangeStateKind.unrecognized && !state.isInputIncluded(inputNumber)) {\n\t\t\t\tif (!state.isInputIncluded(otherInputNumber) || !this.viewModel.shouldUseAppendInsteadOfAccept.read(reader)) {\n\t\t\t\t\tresult.push(\n\t\t\t\t\t\tcommand(localize('accept', \"Accept {0}\", inputData.title), async () => {\n\t\t\t\t\t\t\ttransaction((tx) => {\n\t\t\t\t\t\t\t\tmodel.setState(\n\t\t\t\t\t\t\t\t\tmodifiedBaseRange,\n\t\t\t\t\t\t\t\t\tstate.withInputValue(inputNumber, true, false),\n\t\t\t\t\t\t\t\t\tinputNumber,\n\t\t\t\t\t\t\t\t\ttx\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\tmodel.telemetry.reportAcceptInvoked(inputNumber, state.includesInput(otherInputNumber));\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}, localize('acceptTooltip', \"Accept {0} in the result document.\", inputData.title))\n\t\t\t\t\t);\n\n\t\t\t\t\tif (modifiedBaseRange.canBeCombined) {\n\t\t\t\t\t\tconst commandName = modifiedBaseRange.isOrderRelevant\n\t\t\t\t\t\t\t? localize('acceptBoth0First', \"Accept Combination ({0} First)\", inputData.title)\n\t\t\t\t\t\t\t: localize('acceptBoth', \"Accept Combination\");\n\n\t\t\t\t\t\tresult.push(\n\t\t\t\t\t\t\tcommand(commandName, async () => {\n\t\t\t\t\t\t\t\ttransaction((tx) => {\n\t\t\t\t\t\t\t\t\tmodel.setState(\n\t\t\t\t\t\t\t\t\t\tmodifiedBaseRange,\n\t\t\t\t\t\t\t\t\t\tModifiedBaseRangeState.base\n\t\t\t\t\t\t\t\t\t\t\t.withInputValue(inputNumber, true)\n\t\t\t\t\t\t\t\t\t\t\t.withInputValue(otherInputNumber, true, true),\n\t\t\t\t\t\t\t\t\t\ttrue,\n\t\t\t\t\t\t\t\t\t\ttx\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\tmodel.telemetry.reportSmartCombinationInvoked(state.includesInput(otherInputNumber));\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}, localize('acceptBothTooltip', \"Accept an automatic combination of both sides in the result document.\")),\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tresult.push(\n\t\t\t\t\t\tcommand(localize('append', \"Append {0}\", inputData.title), async () => {\n\t\t\t\t\t\t\ttransaction((tx) => {\n\t\t\t\t\t\t\t\tmodel.setState(\n\t\t\t\t\t\t\t\t\tmodifiedBaseRange,\n\t\t\t\t\t\t\t\t\tstate.withInputValue(inputNumber, true, false),\n\t\t\t\t\t\t\t\t\tinputNumber,\n\t\t\t\t\t\t\t\t\ttx\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\tmodel.telemetry.reportAcceptInvoked(inputNumber, state.includesInput(otherInputNumber));\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}, localize('appendTooltip', \"Append {0} to the result document.\", inputData.title))\n\t\t\t\t\t);\n\n\t\t\t\t\tif (modifiedBaseRange.canBeCombined) {\n\t\t\t\t\t\tresult.push(\n\t\t\t\t\t\t\tcommand(localize('combine', \"Accept Combination\", inputData.title), async () => {\n\t\t\t\t\t\t\t\ttransaction((tx) => {\n\t\t\t\t\t\t\t\t\tmodel.setState(\n\t\t\t\t\t\t\t\t\t\tmodifiedBaseRange,\n\t\t\t\t\t\t\t\t\t\tstate.withInputValue(inputNumber, true, true),\n\t\t\t\t\t\t\t\t\t\tinputNumber,\n\t\t\t\t\t\t\t\t\t\ttx\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\tmodel.telemetry.reportSmartCombinationInvoked(state.includesInput(otherInputNumber));\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}, localize('acceptBothTooltip', \"Accept an automatic combination of both sides in the result document.\")),\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (!model.isInputHandled(modifiedBaseRange, inputNumber).read(reader)) {\n\t\t\t\t\tresult.push(\n\t\t\t\t\t\tcommand(\n\t\t\t\t\t\t\tlocalize('ignore', 'Ignore'),\n\t\t\t\t\t\t\tasync () => {\n\t\t\t\t\t\t\t\ttransaction((tx) => {\n\t\t\t\t\t\t\t\t\tmodel.setInputHandled(modifiedBaseRange, inputNumber, true, tx);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tlocalize('markAsHandledTooltip', \"Don't take this side of the conflict.\")\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t}\n\t\t\treturn result;\n\t\t});\n\t}\n\n\tpublic readonly itemsInput1 = this.getItemsInput(1);\n\tpublic readonly itemsInput2 = this.getItemsInput(2);\n\n\tpublic readonly resultItems = derived(this, reader => {\n\t\tconst viewModel = this.viewModel;\n\t\tconst modifiedBaseRange = this.modifiedBaseRange;\n\n\t\tconst state = viewModel.model.getState(modifiedBaseRange).read(reader);\n\t\tconst model = viewModel.model;\n\n\t\tconst result: IContentWidgetAction[] = [];\n\n\t\tif (state.kind === ModifiedBaseRangeStateKind.unrecognized) {\n\t\t\tresult.push({\n\t\t\t\ttext: localize('manualResolution', \"Manual Resolution\"),\n\t\t\t\ttooltip: localize('manualResolutionTooltip', \"This conflict has been resolved manually.\"),\n\t\t\t});\n\t\t} else if (state.kind === ModifiedBaseRangeStateKind.base) {\n\t\t\tresult.push({\n\t\t\t\ttext: localize('noChangesAccepted', 'No Changes Accepted'),\n\t\t\t\ttooltip: localize(\n\t\t\t\t\t'noChangesAcceptedTooltip',\n\t\t\t\t\t'The current resolution of this conflict equals the common ancestor of both the right and left changes.'\n\t\t\t\t),\n\t\t\t});\n\n\t\t} else {\n\t\t\tconst labels = [];\n\t\t\tif (state.includesInput1) {\n\t\t\t\tlabels.push(model.input1.title);\n\t\t\t}\n\t\t\tif (state.includesInput2) {\n\t\t\t\tlabels.push(model.input2.title);\n\t\t\t}\n\t\t\tif (state.kind === ModifiedBaseRangeStateKind.both && state.firstInput === 2) {\n\t\t\t\tlabels.reverse();\n\t\t\t}\n\t\t\tresult.push({\n\t\t\t\ttext: `${labels.join(' + ')}`\n\t\t\t});\n\t\t}\n\n\t\tconst stateToggles: IContentWidgetAction[] = [];\n\t\tif (state.includesInput1) {\n\t\t\tstateToggles.push(\n\t\t\t\tcommand(\n\t\t\t\t\tlocalize('remove', 'Remove {0}', model.input1.title),\n\t\t\t\t\tasync () => {\n\t\t\t\t\t\ttransaction((tx) => {\n\t\t\t\t\t\t\tmodel.setState(\n\t\t\t\t\t\t\t\tmodifiedBaseRange,\n\t\t\t\t\t\t\t\tstate.withInputValue(1, false),\n\t\t\t\t\t\t\t\ttrue,\n\t\t\t\t\t\t\t\ttx\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tmodel.telemetry.reportRemoveInvoked(1, state.includesInput(2));\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t\tlocalize('removeTooltip', 'Remove {0} from the result document.', model.input1.title)\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t\tif (state.includesInput2) {\n\t\t\tstateToggles.push(\n\t\t\t\tcommand(\n\t\t\t\t\tlocalize('remove', 'Remove {0}', model.input2.title),\n\t\t\t\t\tasync () => {\n\t\t\t\t\t\ttransaction((tx) => {\n\t\t\t\t\t\t\tmodel.setState(\n\t\t\t\t\t\t\t\tmodifiedBaseRange,\n\t\t\t\t\t\t\t\tstate.withInputValue(2, false),\n\t\t\t\t\t\t\t\ttrue,\n\t\t\t\t\t\t\t\ttx\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tmodel.telemetry.reportRemoveInvoked(2, state.includesInput(1));\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t\tlocalize('removeTooltip', 'Remove {0} from the result document.', model.input2.title)\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t\tif (\n\t\t\tstate.kind === ModifiedBaseRangeStateKind.both &&\n\t\t\tstate.firstInput === 2\n\t\t) {\n\t\t\tstateToggles.reverse();\n\t\t}\n\t\tresult.push(...stateToggles);\n\n\t\tif (state.kind === ModifiedBaseRangeStateKind.unrecognized) {\n\t\t\tresult.push(\n\t\t\t\tcommand(\n\t\t\t\t\tlocalize('resetToBase', 'Reset to base'),\n\t\t\t\t\tasync () => {\n\t\t\t\t\t\ttransaction((tx) => {\n\t\t\t\t\t\t\tmodel.setState(\n\t\t\t\t\t\t\t\tmodifiedBaseRange,\n\t\t\t\t\t\t\t\tModifiedBaseRangeState.base,\n\t\t\t\t\t\t\t\ttrue,\n\t\t\t\t\t\t\t\ttx\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tmodel.telemetry.reportResetToBaseInvoked();\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t\tlocalize('resetToBaseTooltip', 'Reset this conflict to the common ancestor of both the right and left changes.')\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\n\t\treturn result;\n\t});\n\n\tpublic readonly isEmpty = derived(this, reader => {\n\t\treturn this.itemsInput1.read(reader).length + this.itemsInput2.read(reader).length + this.resultItems.read(reader).length === 0;\n\t});\n\n\tpublic readonly inputIsEmpty = derived(this, reader => {\n\t\treturn this.itemsInput1.read(reader).length + this.itemsInput2.read(reader).length === 0;\n\t});\n}\n\nfunction command(title: string, action: () => Promise<void>, tooltip?: string): IContentWidgetAction {\n\treturn {\n\t\ttext: title,\n\t\taction,\n\t\ttooltip,\n\t};\n}\n\nexport interface IContentWidgetAction {\n\ttext: string;\n\ttooltip?: string;\n\taction?: () => Promise<void>;\n}\n\nclass ActionsContentWidget extends FixedZoneWidget {\n\tprivate readonly _domNode = h('div.merge-editor-conflict-actions').root;\n\n\tconstructor(\n\t\teditor: ICodeEditor,\n\t\tviewZoneAccessor: IViewZoneChangeAccessor,\n\t\tafterLineNumber: number,\n\t\theight: number,\n\n\t\tclassName: string,\n\t\titems: IObservable<IContentWidgetAction[]>,\n\t\tviewZoneIdsToCleanUp: string[],\n\t) {\n\t\tsuper(editor, viewZoneAccessor, afterLineNumber, height, viewZoneIdsToCleanUp);\n\n\t\tthis.widgetDomNode.appendChild(this._domNode);\n\n\t\tthis._domNode.classList.add(className);\n\n\t\tthis._register(autorun(reader => {\n\t\t\t/** @description update commands */\n\t\t\tconst i = items.read(reader);\n\t\t\tthis.setState(i);\n\t\t}));\n\t}\n\n\tprivate setState(items: IContentWidgetAction[]) {\n\t\tconst children: HTMLElement[] = [];\n\t\tlet isFirst = true;\n\t\tfor (const item of items) {\n\t\t\tif (isFirst) {\n\t\t\t\tisFirst = false;\n\t\t\t} else {\n\t\t\t\tchildren.push($('span', undefined, '\\u00a0|\\u00a0'));\n\t\t\t}\n\t\t\tconst title = renderLabelWithIcons(item.text);\n\n\t\t\tif (item.action) {\n\t\t\t\tchildren.push($('a', { title: item.tooltip, role: 'button', onclick: () => item.action!() }, ...title));\n\t\t\t} else {\n\t\t\t\tchildren.push($('span', { title: item.tooltip }, ...title));\n\t\t\t}\n\t\t}\n\n\t\treset(this._domNode, ...children);\n\t}\n}\n"],
  "mappings": "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",
  "names": []
}
