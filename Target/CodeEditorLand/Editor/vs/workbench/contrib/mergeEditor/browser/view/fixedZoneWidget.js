import{h as n}from"../../../../../base/browser/dom.js";import{Event as s}from"../../../../../base/common/event.js";import{Disposable as a}from"../../../../../base/common/lifecycle.js";import"../../../../../editor/browser/editorBrowser.js";class t extends a{constructor(h,o,i,d,r){super();this.editor=h;this.viewZoneId=o.addZone({domNode:document.createElement("div"),afterLineNumber:i,heightInPx:d,ordinal:50001,onComputedHeight:e=>{this.widgetDomNode.style.height=`${e}px`},onDomNodeTop:e=>{this.widgetDomNode.style.top=`${e}px`}}),r.push(this.viewZoneId),this._register(s.runAndSubscribe(this.editor.onDidLayoutChange,()=>{this.widgetDomNode.style.left=this.editor.getLayoutInfo().contentLeft+"px"})),this.editor.addOverlayWidget(this.overlayWidget),this._register({dispose:()=>{this.editor.removeOverlayWidget(this.overlayWidget)}})}static counter=0;overlayWidgetId=`fixedZoneWidget-${t.counter++}`;viewZoneId;widgetDomNode=n("div.fixed-zone-widget").root;overlayWidget={getId:()=>this.overlayWidgetId,getDomNode:()=>this.widgetDomNode,getPosition:()=>null}}export{t as FixedZoneWidget};
