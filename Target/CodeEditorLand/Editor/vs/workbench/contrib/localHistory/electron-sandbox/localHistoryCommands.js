import{Schemas as i}from"../../../../base/common/network.js";import{isMacintosh as s,isWindows as c}from"../../../../base/common/platform.js";import{localize2 as e}from"../../../../nls.js";import{Action2 as a,MenuId as l,registerAction2 as p}from"../../../../platform/actions/common/actions.js";import{ContextKeyExpr as d}from"../../../../platform/contextkey/common/contextkey.js";import{INativeHostService as f}from"../../../../platform/native/common/native.js";import{ResourceContextKey as v}from"../../../common/contextkeys.js";import{IWorkingCopyHistoryService as y}from"../../../services/workingCopy/common/workingCopyHistory.js";import{LOCAL_HISTORY_MENU_CONTEXT_KEY as I}from"../browser/localHistory.js";import{findLocalHistoryEntry as C}from"../browser/localHistoryCommands.js";p(class extends a{constructor(){super({id:"workbench.action.localHistory.revealInOS",title:c?e("revealInWindows","Reveal in File Explorer"):s?e("revealInMac","Reveal in Finder"):e("openContainer","Open Containing Folder"),menu:{id:l.TimelineItemContext,group:"4_reveal",order:1,when:d.and(I,v.Scheme.isEqualTo(i.file))}})}async run(o,t){const n=o.get(y),m=o.get(f),{entry:r}=await C(n,t);r&&await m.showItemInFolder(r.location.with({scheme:i.file}).fsPath)}});
