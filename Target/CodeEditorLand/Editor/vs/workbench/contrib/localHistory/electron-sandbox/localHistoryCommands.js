import{Schemas as r}from"../../../../../vs/base/common/network.js";import{isMacintosh as s,isWindows as c}from"../../../../../vs/base/common/platform.js";import"../../../../../vs/editor/browser/editorExtensions.js";import{localize2 as e}from"../../../../../vs/nls.js";import{Action2 as a,MenuId as l,registerAction2 as p}from"../../../../../vs/platform/actions/common/actions.js";import{ContextKeyExpr as f}from"../../../../../vs/platform/contextkey/common/contextkey.js";import{INativeHostService as d}from"../../../../../vs/platform/native/common/native.js";import{ResourceContextKey as v}from"../../../../../vs/workbench/common/contextkeys.js";import{LOCAL_HISTORY_MENU_CONTEXT_KEY as I}from"../../../../../vs/workbench/contrib/localHistory/browser/localHistory.js";import{findLocalHistoryEntry as y}from"../../../../../vs/workbench/contrib/localHistory/browser/localHistoryCommands.js";import{IWorkingCopyHistoryService as C}from"../../../../../vs/workbench/services/workingCopy/common/workingCopyHistory.js";p(class extends a{constructor(){super({id:"workbench.action.localHistory.revealInOS",title:c?e("revealInWindows","Reveal in File Explorer"):s?e("revealInMac","Reveal in Finder"):e("openContainer","Open Containing Folder"),menu:{id:l.TimelineItemContext,group:"4_reveal",order:1,when:f.and(I,v.Scheme.isEqualTo(r.file))}})}async run(o,t){const n=o.get(C),m=o.get(d),{entry:i}=await y(n,t);i&&await m.showItemInFolder(i.location.with({scheme:r.file}).fsPath)}});
