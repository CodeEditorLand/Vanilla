import{Schemas as r}from"../../../../base/common/network.js";import{isMacintosh as s,isWindows as c}from"../../../../base/common/platform.js";import"../../../../editor/browser/editorExtensions.js";import{localize2 as e}from"../../../../nls.js";import{Action2 as a,MenuId as l,registerAction2 as p}from"../../../../platform/actions/common/actions.js";import{ContextKeyExpr as f}from"../../../../platform/contextkey/common/contextkey.js";import{INativeHostService as d}from"../../../../platform/native/common/native.js";import{ResourceContextKey as v}from"../../../common/contextkeys.js";import{IWorkingCopyHistoryService as I}from"../../../services/workingCopy/common/workingCopyHistory.js";import{LOCAL_HISTORY_MENU_CONTEXT_KEY as y}from"../browser/localHistory.js";import{findLocalHistoryEntry as C}from"../browser/localHistoryCommands.js";p(class extends a{constructor(){super({id:"workbench.action.localHistory.revealInOS",title:c?e("revealInWindows","Reveal in File Explorer"):s?e("revealInMac","Reveal in Finder"):e("openContainer","Open Containing Folder"),menu:{id:l.TimelineItemContext,group:"4_reveal",order:1,when:f.and(y,v.Scheme.isEqualTo(r.file))}})}async run(o,t){const n=o.get(I),m=o.get(d),{entry:i}=await C(n,t);i&&await m.showItemInFolder(i.location.with({scheme:r.file}).fsPath)}});
