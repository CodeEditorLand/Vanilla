import{ICodeEditorService as g}from"../../../../editor/browser/services/codeEditorService.js";import{AccessibleDiffViewerNext as p,AccessibleDiffViewerPrev as y}from"../../../../editor/browser/widget/diffEditor/commands.js";import{DiffEditorWidget as b}from"../../../../editor/browser/widget/diffEditor/diffEditorWidget.js";import{localize as e}from"../../../../nls.js";import{AccessibleContentProvider as v,AccessibleViewProviderId as w,AccessibleViewType as s}from"../../../../platform/accessibility/browser/accessibleView.js";import"../../../../platform/accessibility/browser/accessibleViewRegistry.js";import{ContextKeyEqualsExpr as E,IContextKeyService as h}from"../../../../platform/contextkey/common/contextkey.js";import"../../../../platform/instantiation/common/instantiation.js";import{IKeybindingService as u}from"../../../../platform/keybinding/common/keybinding.js";import{IEditorService as A}from"../../../services/editor/common/editorService.js";import{AccessibilityVerbositySettingId as S}from"../../accessibility/browser/accessibilityConfiguration.js";import{getCommentCommandInfo as I}from"../../accessibility/browser/editorAccessibilityHelp.js";class N{priority=105;name="diff-editor";when=E.create("isInDiffEditor",!0);type=s.Help;getProvider(i){const c=i.get(A),o=i.get(g),d=i.get(u),f=i.get(h);if(!(c.activeTextEditorControl instanceof b))return;const t=o.getActiveCodeEditor()||o.getFocusedCodeEditor();if(!t)return;const m=e("msg3","Run the command Diff Editor: Switch Side{0} to toggle between the original and modified editors.","<keybinding:diffEditor.switchSide>"),l=e("msg5","The setting, accessibility.verbosity.diffEditorActive, controls if a diff editor announcement is made when it becomes the active editor."),a=["accessibility.signals.diffLineDeleted","accessibility.signals.diffLineInserted","accessibility.signals.diffLineModified"],r=[e("msg1","You are in a diff editor."),e("msg2","View the next{0} or previous{1} diff in diff review mode, which is optimized for screen readers.","<keybinding:"+p.id+">","<keybinding:"+y.id+">"),m,l,e("msg4","To control which accessibility signals should be played, the following settings can be configured: {0}.",a.join(", "))],n=I(d,f,t);return n&&r.push(n),new v(w.DiffEditor,{type:s.Help},()=>r.join(`
`),()=>t.focus(),S.DiffEditor)}}export{N as DiffEditorAccessibilityHelp};
