import"./accessibility.css";import{alert as d}from"../../../../../base/browser/ui/aria/aria.js";import{KeyCode as i,KeyMod as e}from"../../../../../base/common/keyCodes.js";import{AccessibilityHelpNLS as t}from"../../../../../editor/common/standaloneStrings.js";import*as c from"../../../../../nls.js";import{IAccessibilityService as l}from"../../../../../platform/accessibility/common/accessibility.js";import{Action2 as m,registerAction2 as g}from"../../../../../platform/actions/common/actions.js";import{ConfigurationTarget as p,IConfigurationService as f}from"../../../../../platform/configuration/common/configuration.js";import"../../../../../platform/instantiation/common/instantiation.js";import{KeybindingWeight as s}from"../../../../../platform/keybinding/common/keybindingsRegistry.js";import{accessibilityHelpIsShown as S}from"../../../accessibility/browser/accessibilityConfiguration.js";class b extends m{constructor(){super({id:"editor.action.toggleScreenReaderAccessibilityMode",title:c.localize2("toggleScreenReaderMode","Toggle Screen Reader Accessibility Mode"),metadata:{description:c.localize2("toggleScreenReaderModeDescription","Toggles an optimized mode for usage with screen readers, braille devices, and other assistive technologies.")},f1:!0,keybinding:[{primary:e.CtrlCmd|i.KeyE,weight:s.WorkbenchContrib+10,when:S},{primary:e.Alt|i.F1|e.Shift,linux:{primary:e.Alt|i.F4|e.Shift},weight:s.WorkbenchContrib+10}]})}async run(r){const n=r.get(l),a=r.get(f),o=n.isScreenReaderOptimized();a.updateValue("editor.accessibilitySupport",o?"off":"on",p.USER),d(o?t.screenReaderModeDisabled:t.screenReaderModeEnabled)}}g(b);
