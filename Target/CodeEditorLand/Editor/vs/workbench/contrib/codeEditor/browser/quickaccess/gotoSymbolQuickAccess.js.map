{
  "version": 3,
  "sources": ["../../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/contrib/codeEditor/browser/quickaccess/gotoSymbolQuickAccess.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { timeout } from \"../../../../../base/common/async.js\";\nimport {\n\ttype CancellationToken,\n\tCancellationTokenSource,\n} from \"../../../../../base/common/cancellation.js\";\nimport { onUnexpectedError } from \"../../../../../base/common/errors.js\";\nimport { fuzzyScore } from \"../../../../../base/common/filters.js\";\nimport { prepareQuery } from \"../../../../../base/common/fuzzyScorer.js\";\nimport {\n\tmatchesFuzzyIconAware,\n\tparseLabelWithIcons,\n} from \"../../../../../base/common/iconLabels.js\";\nimport { KeyCode, KeyMod } from \"../../../../../base/common/keyCodes.js\";\nimport {\n\tDisposable,\n\tDisposableStore,\n\ttype IDisposable,\n\tMutableDisposable,\n\ttoDisposable,\n} from \"../../../../../base/common/lifecycle.js\";\nimport { isCompositeEditor } from \"../../../../../editor/browser/editorBrowser.js\";\nimport type { IRange } from \"../../../../../editor/common/core/range.js\";\nimport { SymbolKind } from \"../../../../../editor/common/languages.js\";\nimport type { ITextModel } from \"../../../../../editor/common/model.js\";\nimport { ILanguageFeaturesService } from \"../../../../../editor/common/services/languageFeatures.js\";\nimport { IOutlineModelService } from \"../../../../../editor/contrib/documentSymbols/browser/outlineModel.js\";\nimport type { IQuickAccessTextEditorContext } from \"../../../../../editor/contrib/quickAccess/browser/editorNavigationQuickAccess.js\";\nimport {\n\tAbstractGotoSymbolQuickAccessProvider,\n\ttype IGotoSymbolQuickPickItem,\n} from \"../../../../../editor/contrib/quickAccess/browser/gotoSymbolQuickAccess.js\";\nimport { localize, localize2 } from \"../../../../../nls.js\";\nimport {\n\tAction2,\n\tMenuId,\n\tregisterAction2,\n} from \"../../../../../platform/actions/common/actions.js\";\nimport { IConfigurationService } from \"../../../../../platform/configuration/common/configuration.js\";\nimport { ContextKeyExpr } from \"../../../../../platform/contextkey/common/contextkey.js\";\nimport type { ITextEditorOptions } from \"../../../../../platform/editor/common/editor.js\";\nimport type { ServicesAccessor } from \"../../../../../platform/instantiation/common/instantiation.js\";\nimport { KeybindingWeight } from \"../../../../../platform/keybinding/common/keybindingsRegistry.js\";\nimport {\n\ttype IQuickAccessRegistry,\n\tExtensions as QuickaccessExtensions,\n} from \"../../../../../platform/quickinput/common/quickAccess.js\";\nimport {\n\ttype IKeyMods,\n\tIQuickInputService,\n\ttype IQuickPick,\n\ttype IQuickPickSeparator,\n\tItemActivation,\n} from \"../../../../../platform/quickinput/common/quickInput.js\";\nimport { Registry } from \"../../../../../platform/registry/common/platform.js\";\nimport type { IWorkbenchEditorConfiguration } from \"../../../../common/editor.js\";\nimport { IEditorGroupsService } from \"../../../../services/editor/common/editorGroupsService.js\";\nimport { IEditorService } from \"../../../../services/editor/common/editorService.js\";\nimport {\n\tIOutlineService,\n\tOutlineTarget,\n} from \"../../../../services/outline/browser/outline.js\";\nimport {\n\taccessibilityHelpIsShown,\n\taccessibleViewIsShown,\n} from \"../../../accessibility/browser/accessibilityConfiguration.js\";\n\nexport class GotoSymbolQuickAccessProvider extends AbstractGotoSymbolQuickAccessProvider {\n\tprotected readonly onDidActiveTextEditorControlChange =\n\t\tthis.editorService.onDidActiveEditorChange;\n\n\tconstructor(\n\t\t@IEditorService private readonly editorService: IEditorService,\n\t\t@IEditorGroupsService\n\t\tprivate readonly editorGroupService: IEditorGroupsService,\n\t\t@IConfigurationService\n\t\tprivate readonly configurationService: IConfigurationService,\n\t\t@ILanguageFeaturesService\n\t\tlanguageFeaturesService: ILanguageFeaturesService,\n\t\t@IOutlineService private readonly outlineService: IOutlineService,\n\t\t@IOutlineModelService outlineModelService: IOutlineModelService,\n\t) {\n\t\tsuper(languageFeaturesService, outlineModelService, {\n\t\t\topenSideBySideDirection: () =>\n\t\t\t\tthis.configuration.openSideBySideDirection,\n\t\t});\n\t}\n\n\t//#region DocumentSymbols (text editor required)\n\n\tprivate get configuration() {\n\t\tconst editorConfig =\n\t\t\tthis.configurationService.getValue<IWorkbenchEditorConfiguration>()\n\t\t\t\t.workbench?.editor;\n\n\t\treturn {\n\t\t\topenEditorPinned:\n\t\t\t\t!editorConfig?.enablePreviewFromQuickOpen ||\n\t\t\t\t!editorConfig?.enablePreview,\n\t\t\topenSideBySideDirection: editorConfig?.openSideBySideDirection,\n\t\t};\n\t}\n\n\tprotected get activeTextEditorControl() {\n\t\t// TODO: this distinction should go away by adopting `IOutlineService`\n\t\t// for all editors (either text based ones or not). Currently text based\n\t\t// editors are not yet using the new outline service infrastructure but the\n\t\t// \"classical\" document symbols approach.\n\t\tif (\n\t\t\tisCompositeEditor(this.editorService.activeEditorPane?.getControl())\n\t\t) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\treturn this.editorService.activeTextEditorControl;\n\t}\n\n\tprotected override gotoLocation(\n\t\tcontext: IQuickAccessTextEditorContext,\n\t\toptions: {\n\t\t\trange: IRange;\n\t\t\tkeyMods: IKeyMods;\n\t\t\tforceSideBySide?: boolean;\n\t\t\tpreserveFocus?: boolean;\n\t\t},\n\t): void {\n\t\t// Check for sideBySide use\n\t\tif (\n\t\t\t(options.keyMods.alt ||\n\t\t\t\t(this.configuration.openEditorPinned &&\n\t\t\t\t\toptions.keyMods.ctrlCmd) ||\n\t\t\t\toptions.forceSideBySide) &&\n\t\t\tthis.editorService.activeEditor\n\t\t) {\n\t\t\tcontext.restoreViewState?.(); // since we open to the side, restore view state in this editor\n\n\t\t\tconst editorOptions: ITextEditorOptions = {\n\t\t\t\tselection: options.range,\n\t\t\t\tpinned:\n\t\t\t\t\toptions.keyMods.ctrlCmd ||\n\t\t\t\t\tthis.configuration.openEditorPinned,\n\t\t\t\tpreserveFocus: options.preserveFocus,\n\t\t\t};\n\n\t\t\tthis.editorGroupService.sideGroup.openEditor(\n\t\t\t\tthis.editorService.activeEditor,\n\t\t\t\teditorOptions,\n\t\t\t);\n\t\t}\n\n\t\t// Otherwise let parent handle it\n\t\telse {\n\t\t\tsuper.gotoLocation(context, options);\n\t\t}\n\t}\n\n\t//#endregion\n\n\t//#region public methods to use this picker from other pickers\n\n\tprivate static readonly SYMBOL_PICKS_TIMEOUT = 8000;\n\n\tasync getSymbolPicks(\n\t\tmodel: ITextModel,\n\t\tfilter: string,\n\t\toptions: { extraContainerLabel?: string },\n\t\tdisposables: DisposableStore,\n\t\ttoken: CancellationToken,\n\t): Promise<Array<IGotoSymbolQuickPickItem | IQuickPickSeparator>> {\n\t\t// If the registry does not know the model, we wait for as long as\n\t\t// the registry knows it. This helps in cases where a language\n\t\t// registry was not activated yet for providing any symbols.\n\t\t// To not wait forever, we eventually timeout though.\n\t\tconst result = await Promise.race([\n\t\t\tthis.waitForLanguageSymbolRegistry(model, disposables),\n\t\t\ttimeout(GotoSymbolQuickAccessProvider.SYMBOL_PICKS_TIMEOUT),\n\t\t]);\n\n\t\tif (!result || token.isCancellationRequested) {\n\t\t\treturn [];\n\t\t}\n\n\t\treturn this.doGetSymbolPicks(\n\t\t\tthis.getDocumentSymbols(model, token),\n\t\t\tprepareQuery(filter),\n\t\t\toptions,\n\t\t\ttoken,\n\t\t\tmodel,\n\t\t);\n\t}\n\n\t//#endregion\n\n\tprotected override provideWithoutTextEditor(\n\t\tpicker: IQuickPick<IGotoSymbolQuickPickItem, { useSeparators: true }>,\n\t): IDisposable {\n\t\tif (this.canPickWithOutlineService()) {\n\t\t\treturn this.doGetOutlinePicks(picker);\n\t\t}\n\t\treturn super.provideWithoutTextEditor(picker);\n\t}\n\n\tprivate canPickWithOutlineService(): boolean {\n\t\treturn this.editorService.activeEditorPane\n\t\t\t? this.outlineService.canCreateOutline(\n\t\t\t\t\tthis.editorService.activeEditorPane,\n\t\t\t\t)\n\t\t\t: false;\n\t}\n\n\tprivate doGetOutlinePicks(\n\t\tpicker: IQuickPick<IGotoSymbolQuickPickItem, { useSeparators: true }>,\n\t): IDisposable {\n\t\tconst pane = this.editorService.activeEditorPane;\n\t\tif (!pane) {\n\t\t\treturn Disposable.None;\n\t\t}\n\t\tconst cts = new CancellationTokenSource();\n\n\t\tconst disposables = new DisposableStore();\n\t\tdisposables.add(toDisposable(() => cts.dispose(true)));\n\n\t\tpicker.busy = true;\n\n\t\tthis.outlineService\n\t\t\t.createOutline(pane, OutlineTarget.QuickPick, cts.token)\n\t\t\t.then((outline) => {\n\t\t\t\tif (!outline) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (cts.token.isCancellationRequested) {\n\t\t\t\t\toutline.dispose();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tdisposables.add(outline);\n\n\t\t\t\tconst viewState = outline.captureViewState();\n\t\t\t\tdisposables.add(\n\t\t\t\t\ttoDisposable(() => {\n\t\t\t\t\t\tif (picker.selectedItems.length === 0) {\n\t\t\t\t\t\t\tviewState.dispose();\n\t\t\t\t\t\t}\n\t\t\t\t\t}),\n\t\t\t\t);\n\n\t\t\t\tconst entries =\n\t\t\t\t\toutline.config.quickPickDataSource.getQuickPickElements();\n\n\t\t\t\tconst items: IGotoSymbolQuickPickItem[] = entries.map(\n\t\t\t\t\t(entry, idx) => {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tkind: SymbolKind.File,\n\t\t\t\t\t\t\tindex: idx,\n\t\t\t\t\t\t\tscore: 0,\n\t\t\t\t\t\t\tlabel: entry.label,\n\t\t\t\t\t\t\tdescription: entry.description,\n\t\t\t\t\t\t\tariaLabel: entry.ariaLabel,\n\t\t\t\t\t\t\ticonClasses: entry.iconClasses,\n\t\t\t\t\t\t};\n\t\t\t\t\t},\n\t\t\t\t);\n\n\t\t\t\tdisposables.add(\n\t\t\t\t\tpicker.onDidAccept(() => {\n\t\t\t\t\t\tpicker.hide();\n\t\t\t\t\t\tconst [entry] = picker.selectedItems;\n\t\t\t\t\t\tif (entry && entries[entry.index]) {\n\t\t\t\t\t\t\toutline.reveal(\n\t\t\t\t\t\t\t\tentries[entry.index].element,\n\t\t\t\t\t\t\t\t{},\n\t\t\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t}),\n\t\t\t\t);\n\n\t\t\t\tconst updatePickerItems = () => {\n\t\t\t\t\tconst filteredItems = items.filter((item) => {\n\t\t\t\t\t\tif (picker.value === \"@\") {\n\t\t\t\t\t\t\t// default, no filtering, scoring...\n\t\t\t\t\t\t\titem.score = 0;\n\t\t\t\t\t\t\titem.highlights = undefined;\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst trimmedQuery = picker.value\n\t\t\t\t\t\t\t.substring(\n\t\t\t\t\t\t\t\tAbstractGotoSymbolQuickAccessProvider.PREFIX\n\t\t\t\t\t\t\t\t\t.length,\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t.trim();\n\t\t\t\t\t\tconst parsedLabel = parseLabelWithIcons(item.label);\n\t\t\t\t\t\tconst score = fuzzyScore(\n\t\t\t\t\t\t\ttrimmedQuery,\n\t\t\t\t\t\t\ttrimmedQuery.toLowerCase(),\n\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\tparsedLabel.text,\n\t\t\t\t\t\t\tparsedLabel.text.toLowerCase(),\n\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t{ firstMatchCanBeWeak: true, boostFullMatch: true },\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tif (!score) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\titem.score = score[1];\n\t\t\t\t\t\titem.highlights = {\n\t\t\t\t\t\t\tlabel:\n\t\t\t\t\t\t\t\tmatchesFuzzyIconAware(\n\t\t\t\t\t\t\t\t\ttrimmedQuery,\n\t\t\t\t\t\t\t\t\tparsedLabel,\n\t\t\t\t\t\t\t\t) ?? undefined,\n\t\t\t\t\t\t};\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t});\n\n\t\t\t\t\tif (filteredItems.length === 0) {\n\t\t\t\t\t\tconst label = localize(\"empty\", \"No matching entries\");\n\t\t\t\t\t\tpicker.items = [\n\t\t\t\t\t\t\t{ label, index: -1, kind: SymbolKind.String },\n\t\t\t\t\t\t];\n\t\t\t\t\t\tpicker.ariaLabel = label;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tpicker.items = filteredItems;\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tupdatePickerItems();\n\t\t\t\tdisposables.add(picker.onDidChangeValue(updatePickerItems));\n\n\t\t\t\tconst previewDisposable = new MutableDisposable();\n\t\t\t\tdisposables.add(previewDisposable);\n\n\t\t\t\tdisposables.add(\n\t\t\t\t\tpicker.onDidChangeActive(() => {\n\t\t\t\t\t\tconst [entry] = picker.activeItems;\n\t\t\t\t\t\tif (entry && entries[entry.index]) {\n\t\t\t\t\t\t\tpreviewDisposable.value = outline.preview(\n\t\t\t\t\t\t\t\tentries[entry.index].element,\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tpreviewDisposable.clear();\n\t\t\t\t\t\t}\n\t\t\t\t\t}),\n\t\t\t\t);\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tonUnexpectedError(err);\n\t\t\t\tpicker.hide();\n\t\t\t})\n\t\t\t.finally(() => {\n\t\t\t\tpicker.busy = false;\n\t\t\t});\n\n\t\treturn disposables;\n\t}\n}\n\nclass GotoSymbolAction extends Action2 {\n\tstatic readonly ID = \"workbench.action.gotoSymbol\";\n\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: GotoSymbolAction.ID,\n\t\t\ttitle: {\n\t\t\t\t...localize2(\"gotoSymbol\", \"Go to Symbol in Editor...\"),\n\t\t\t\tmnemonicTitle: localize(\n\t\t\t\t\t{\n\t\t\t\t\t\tkey: \"miGotoSymbolInEditor\",\n\t\t\t\t\t\tcomment: [\"&& denotes a mnemonic\"],\n\t\t\t\t\t},\n\t\t\t\t\t\"Go to &&Symbol in Editor...\",\n\t\t\t\t),\n\t\t\t},\n\t\t\tf1: true,\n\t\t\tkeybinding: {\n\t\t\t\twhen: ContextKeyExpr.and(\n\t\t\t\t\taccessibleViewIsShown.negate(),\n\t\t\t\t\taccessibilityHelpIsShown.negate(),\n\t\t\t\t),\n\t\t\t\tweight: KeybindingWeight.WorkbenchContrib,\n\t\t\t\tprimary: KeyMod.CtrlCmd | KeyMod.Shift | KeyCode.KeyO,\n\t\t\t},\n\t\t\tmenu: [\n\t\t\t\t{\n\t\t\t\t\tid: MenuId.MenubarGoMenu,\n\t\t\t\t\tgroup: \"4_symbol_nav\",\n\t\t\t\t\torder: 1,\n\t\t\t\t},\n\t\t\t],\n\t\t});\n\t}\n\n\trun(accessor: ServicesAccessor) {\n\t\taccessor\n\t\t\t.get(IQuickInputService)\n\t\t\t.quickAccess.show(GotoSymbolQuickAccessProvider.PREFIX, {\n\t\t\t\titemActivation: ItemActivation.NONE,\n\t\t\t});\n\t}\n}\n\nregisterAction2(GotoSymbolAction);\n\nRegistry.as<IQuickAccessRegistry>(\n\tQuickaccessExtensions.Quickaccess,\n).registerQuickAccessProvider({\n\tctor: GotoSymbolQuickAccessProvider,\n\tprefix: AbstractGotoSymbolQuickAccessProvider.PREFIX,\n\tcontextKey: \"inFileSymbolsPicker\",\n\tplaceholder: localize(\n\t\t\"gotoSymbolQuickAccessPlaceholder\",\n\t\t\"Type the name of a symbol to go to.\",\n\t),\n\thelpEntries: [\n\t\t{\n\t\t\tdescription: localize(\n\t\t\t\t\"gotoSymbolQuickAccess\",\n\t\t\t\t\"Go to Symbol in Editor\",\n\t\t\t),\n\t\t\tprefix: AbstractGotoSymbolQuickAccessProvider.PREFIX,\n\t\t\tcommandId: GotoSymbolAction.ID,\n\t\t\tcommandCenterOrder: 40,\n\t\t},\n\t\t{\n\t\t\tdescription: localize(\n\t\t\t\t\"gotoSymbolByCategoryQuickAccess\",\n\t\t\t\t\"Go to Symbol in Editor by Category\",\n\t\t\t),\n\t\t\tprefix: AbstractGotoSymbolQuickAccessProvider.PREFIX_BY_CATEGORY,\n\t\t},\n\t],\n});\n"],
  "mappings": "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",
  "names": []
}
