var g=Object.defineProperty;var M=Object.getOwnPropertyDescriptor;var d=(n,o,i,t)=>{for(var r=t>1?void 0:t?M(o,i):o,u=n.length-1,c;u>=0;u--)(c=n[u])&&(r=(t?c(o,i,r):c(r))||r);return t&&r&&g(o,i,r),r},a=(n,o)=>(i,t)=>o(i,t,n);import{Disposable as h}from"../../../../base/common/lifecycle.js";import{isMacintosh as y}from"../../../../base/common/platform.js";import{localize as l,localize2 as b}from"../../../../nls.js";import{Action2 as I,MenuId as C,MenuRegistry as f,registerAction2 as v}from"../../../../platform/actions/common/actions.js";import{IConfigurationService as p}from"../../../../platform/configuration/common/configuration.js";import{IContextKeyService as S,RawContextKey as k}from"../../../../platform/contextkey/common/contextkey.js";import{Registry as w}from"../../../../platform/registry/common/platform.js";import{Extensions as x}from"../../../common/contributions.js";import{LifecyclePhase as K}from"../../../services/lifecycle/common/lifecycle.js";class e extends I{static ID="workbench.action.toggleMultiCursorModifier";static multiCursorModifierConfigurationKey="editor.multiCursorModifier";constructor(){super({id:e.ID,title:b("toggleLocation","Toggle Multi-Cursor Modifier"),f1:!0})}run(o){const i=o.get(p),r=i.getValue("editor").multiCursorModifier==="ctrlCmd"?"alt":"ctrlCmd";return i.updateValue(e.multiCursorModifierConfigurationKey,r)}}const m=new k("multiCursorModifier","altKey");let s=class extends h{constructor(i,t){super();this.configurationService=i;this._multiCursorModifier=m.bindTo(t),this._update(),this._register(i.onDidChangeConfiguration(r=>{r.affectsConfiguration("editor.multiCursorModifier")&&this._update()}))}_multiCursorModifier;_update(){const t=this.configurationService.getValue("editor").multiCursorModifier==="ctrlCmd"?"ctrlCmd":"altKey";this._multiCursorModifier.set(t)}};s=d([a(0,p),a(1,S)],s),w.as(x.Workbench).registerWorkbenchContribution(s,K.Restored),v(e),f.appendMenuItem(C.MenubarSelectionMenu,{group:"4_config",command:{id:e.ID,title:l("miMultiCursorAlt","Switch to Alt+Click for Multi-Cursor")},when:m.isEqualTo("ctrlCmd"),order:1}),f.appendMenuItem(C.MenubarSelectionMenu,{group:"4_config",command:{id:e.ID,title:y?l("miMultiCursorCmd","Switch to Cmd+Click for Multi-Cursor"):l("miMultiCursorCtrl","Switch to Ctrl+Click for Multi-Cursor")},when:m.isEqualTo("altKey"),order:1});export{e as ToggleMultiCursorModifierAction};
