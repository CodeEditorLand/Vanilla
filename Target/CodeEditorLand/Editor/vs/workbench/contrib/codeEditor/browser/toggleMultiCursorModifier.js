var p=Object.defineProperty;var M=Object.getOwnPropertyDescriptor;var m=(n,o,r,i)=>{for(var t=i>1?void 0:i?M(o,r):o,u=n.length-1,c;u>=0;u--)(c=n[u])&&(t=(i?c(o,r,t):c(t))||t);return i&&t&&p(o,r,t),t},l=(n,o)=>(r,i)=>o(r,i,n);import{Disposable as h}from"../../../../base/common/lifecycle.js";import{isMacintosh as b}from"../../../../base/common/platform.js";import{localize as a,localize2 as I}from"../../../../nls.js";import{Action2 as v,MenuId as C,MenuRegistry as f,registerAction2 as y}from"../../../../platform/actions/common/actions.js";import{IConfigurationService as g}from"../../../../platform/configuration/common/configuration.js";import{IContextKeyService as S,RawContextKey as k}from"../../../../platform/contextkey/common/contextkey.js";import"../../../../platform/instantiation/common/instantiation.js";import{Registry as w}from"../../../../platform/registry/common/platform.js";import{Extensions as x}from"../../../common/contributions.js";import{LifecyclePhase as K}from"../../../services/lifecycle/common/lifecycle.js";class e extends v{static ID="workbench.action.toggleMultiCursorModifier";static multiCursorModifierConfigurationKey="editor.multiCursorModifier";constructor(){super({id:e.ID,title:I("toggleLocation","Toggle Multi-Cursor Modifier"),f1:!0})}run(o){const r=o.get(g),t=r.getValue("editor").multiCursorModifier==="ctrlCmd"?"alt":"ctrlCmd";return r.updateValue(e.multiCursorModifierConfigurationKey,t)}}const d=new k("multiCursorModifier","altKey");let s=class extends h{constructor(r,i){super();this.configurationService=r;this._multiCursorModifier=d.bindTo(i),this._update(),this._register(r.onDidChangeConfiguration(t=>{t.affectsConfiguration("editor.multiCursorModifier")&&this._update()}))}_multiCursorModifier;_update(){const i=this.configurationService.getValue("editor").multiCursorModifier==="ctrlCmd"?"ctrlCmd":"altKey";this._multiCursorModifier.set(i)}};s=m([l(0,g),l(1,S)],s),w.as(x.Workbench).registerWorkbenchContribution(s,K.Restored),y(e),f.appendMenuItem(C.MenubarSelectionMenu,{group:"4_config",command:{id:e.ID,title:a("miMultiCursorAlt","Switch to Alt+Click for Multi-Cursor")},when:d.isEqualTo("ctrlCmd"),order:1}),f.appendMenuItem(C.MenubarSelectionMenu,{group:"4_config",command:{id:e.ID,title:b?a("miMultiCursorCmd","Switch to Cmd+Click for Multi-Cursor"):a("miMultiCursorCtrl","Switch to Ctrl+Click for Multi-Cursor")},when:d.isEqualTo("altKey"),order:1});export{e as ToggleMultiCursorModifierAction};
