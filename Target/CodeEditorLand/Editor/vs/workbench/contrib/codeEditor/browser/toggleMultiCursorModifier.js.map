{
  "version": 3,
  "sources": ["../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/contrib/codeEditor/browser/toggleMultiCursorModifier.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Disposable } from \"../../../../base/common/lifecycle.js\";\nimport { isMacintosh } from \"../../../../base/common/platform.js\";\nimport { localize, localize2 } from \"../../../../nls.js\";\nimport {\n\tAction2,\n\tMenuId,\n\tMenuRegistry,\n\tregisterAction2,\n} from \"../../../../platform/actions/common/actions.js\";\nimport { IConfigurationService } from \"../../../../platform/configuration/common/configuration.js\";\nimport {\n\ttype IContextKey,\n\tIContextKeyService,\n\tRawContextKey,\n} from \"../../../../platform/contextkey/common/contextkey.js\";\nimport type { ServicesAccessor } from \"../../../../platform/instantiation/common/instantiation.js\";\nimport { Registry } from \"../../../../platform/registry/common/platform.js\";\nimport {\n\ttype IWorkbenchContribution,\n\ttype IWorkbenchContributionsRegistry,\n\tExtensions as WorkbenchExtensions,\n} from \"../../../common/contributions.js\";\nimport { LifecyclePhase } from \"../../../services/lifecycle/common/lifecycle.js\";\n\nexport class ToggleMultiCursorModifierAction extends Action2 {\n\tstatic readonly ID = \"workbench.action.toggleMultiCursorModifier\";\n\n\tprivate static readonly multiCursorModifierConfigurationKey =\n\t\t\"editor.multiCursorModifier\";\n\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: ToggleMultiCursorModifierAction.ID,\n\t\t\ttitle: localize2(\"toggleLocation\", \"Toggle Multi-Cursor Modifier\"),\n\t\t\tf1: true,\n\t\t});\n\t}\n\n\toverride run(accessor: ServicesAccessor): Promise<void> {\n\t\tconst configurationService = accessor.get(IConfigurationService);\n\n\t\tconst editorConf = configurationService.getValue<{\n\t\t\tmultiCursorModifier: \"ctrlCmd\" | \"alt\";\n\t\t}>(\"editor\");\n\t\tconst newValue: \"ctrlCmd\" | \"alt\" =\n\t\t\teditorConf.multiCursorModifier === \"ctrlCmd\" ? \"alt\" : \"ctrlCmd\";\n\n\t\treturn configurationService.updateValue(\n\t\t\tToggleMultiCursorModifierAction.multiCursorModifierConfigurationKey,\n\t\t\tnewValue,\n\t\t);\n\t}\n}\n\nconst multiCursorModifier = new RawContextKey<string>(\n\t\"multiCursorModifier\",\n\t\"altKey\",\n);\n\nclass MultiCursorModifierContextKeyController\n\textends Disposable\n\timplements IWorkbenchContribution\n{\n\tprivate readonly _multiCursorModifier: IContextKey<string>;\n\n\tconstructor(\n\t\t@IConfigurationService\n\t\tprivate readonly configurationService: IConfigurationService,\n\t\t@IContextKeyService contextKeyService: IContextKeyService,\n\t) {\n\t\tsuper();\n\t\tthis._multiCursorModifier =\n\t\t\tmultiCursorModifier.bindTo(contextKeyService);\n\n\t\tthis._update();\n\t\tthis._register(\n\t\t\tconfigurationService.onDidChangeConfiguration((e) => {\n\t\t\t\tif (e.affectsConfiguration(\"editor.multiCursorModifier\")) {\n\t\t\t\t\tthis._update();\n\t\t\t\t}\n\t\t\t}),\n\t\t);\n\t}\n\n\tprivate _update(): void {\n\t\tconst editorConf = this.configurationService.getValue<{\n\t\t\tmultiCursorModifier: \"ctrlCmd\" | \"alt\";\n\t\t}>(\"editor\");\n\t\tconst value =\n\t\t\teditorConf.multiCursorModifier === \"ctrlCmd\" ? \"ctrlCmd\" : \"altKey\";\n\t\tthis._multiCursorModifier.set(value);\n\t}\n}\n\nRegistry.as<IWorkbenchContributionsRegistry>(\n\tWorkbenchExtensions.Workbench,\n).registerWorkbenchContribution(\n\tMultiCursorModifierContextKeyController,\n\tLifecyclePhase.Restored,\n);\n\nregisterAction2(ToggleMultiCursorModifierAction);\n\nMenuRegistry.appendMenuItem(MenuId.MenubarSelectionMenu, {\n\tgroup: \"4_config\",\n\tcommand: {\n\t\tid: ToggleMultiCursorModifierAction.ID,\n\t\ttitle: localize(\n\t\t\t\"miMultiCursorAlt\",\n\t\t\t\"Switch to Alt+Click for Multi-Cursor\",\n\t\t),\n\t},\n\twhen: multiCursorModifier.isEqualTo(\"ctrlCmd\"),\n\torder: 1,\n});\nMenuRegistry.appendMenuItem(MenuId.MenubarSelectionMenu, {\n\tgroup: \"4_config\",\n\tcommand: {\n\t\tid: ToggleMultiCursorModifierAction.ID,\n\t\ttitle: isMacintosh\n\t\t\t? localize(\n\t\t\t\t\t\"miMultiCursorCmd\",\n\t\t\t\t\t\"Switch to Cmd+Click for Multi-Cursor\",\n\t\t\t\t)\n\t\t\t: localize(\n\t\t\t\t\t\"miMultiCursorCtrl\",\n\t\t\t\t\t\"Switch to Ctrl+Click for Multi-Cursor\",\n\t\t\t\t),\n\t},\n\twhen: multiCursorModifier.isEqualTo(\"altKey\"),\n\torder: 1,\n});\n"],
  "mappings": ";;;;;;;;;;;;AAKA,SAAS,kBAAkB;AAC3B,SAAS,mBAAmB;AAC5B,SAAS,UAAU,iBAAiB;AACpC;AAAA,EACC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,OACM;AACP,SAAS,6BAA6B;AACtC;AAAA,EAEC;AAAA,EACA;AAAA,OACM;AAEP,SAAS,gBAAgB;AACzB;AAAA,EAGC,cAAc;AAAA,OACR;AACP,SAAS,sBAAsB;AAExB,MAAM,wCAAwC,QAAQ;AAAA,EA7B7D,OA6B6D;AAAA;AAAA;AAAA,EAC5D,OAAgB,KAAK;AAAA,EAErB,OAAwB,sCACvB;AAAA,EAED,cAAc;AACb,UAAM;AAAA,MACL,IAAI,gCAAgC;AAAA,MACpC,OAAO,UAAU,kBAAkB,8BAA8B;AAAA,MACjE,IAAI;AAAA,IACL,CAAC;AAAA,EACF;AAAA,EAES,IAAI,UAA2C;AACvD,UAAM,uBAAuB,SAAS,IAAI,qBAAqB;AAE/D,UAAM,aAAa,qBAAqB,SAErC,QAAQ;AACX,UAAM,WACL,WAAW,wBAAwB,YAAY,QAAQ;AAExD,WAAO,qBAAqB;AAAA,MAC3B,gCAAgC;AAAA,MAChC;AAAA,IACD;AAAA,EACD;AACD;AAEA,MAAM,sBAAsB,IAAI;AAAA,EAC/B;AAAA,EACA;AACD;AAEA,IAAM,0CAAN,cACS,WAET;AAAA,EAGC,YAEkB,sBACG,mBACnB;AACD,UAAM;AAHW;AAIjB,SAAK,uBACJ,oBAAoB,OAAO,iBAAiB;AAE7C,SAAK,QAAQ;AACb,SAAK;AAAA,MACJ,qBAAqB,yBAAyB,CAAC,MAAM;AACpD,YAAI,EAAE,qBAAqB,4BAA4B,GAAG;AACzD,eAAK,QAAQ;AAAA,QACd;AAAA,MACD,CAAC;AAAA,IACF;AAAA,EACD;AAAA,EAvFD,OAmEA;AAAA;AAAA;AAAA,EACkB;AAAA,EAqBT,UAAgB;AACvB,UAAM,aAAa,KAAK,qBAAqB,SAE1C,QAAQ;AACX,UAAM,QACL,WAAW,wBAAwB,YAAY,YAAY;AAC5D,SAAK,qBAAqB,IAAI,KAAK;AAAA,EACpC;AACD;AAjCM,0CAAN;AAAA,EAOG;AAAA,EAEA;AAAA,GATG;AAmCN,SAAS;AAAA,EACR,oBAAoB;AACrB,EAAE;AAAA,EACD;AAAA,EACA,eAAe;AAChB;AAEA,gBAAgB,+BAA+B;AAE/C,aAAa,eAAe,OAAO,sBAAsB;AAAA,EACxD,OAAO;AAAA,EACP,SAAS;AAAA,IACR,IAAI,gCAAgC;AAAA,IACpC,OAAO;AAAA,MACN;AAAA,MACA;AAAA,IACD;AAAA,EACD;AAAA,EACA,MAAM,oBAAoB,UAAU,SAAS;AAAA,EAC7C,OAAO;AACR,CAAC;AACD,aAAa,eAAe,OAAO,sBAAsB;AAAA,EACxD,OAAO;AAAA,EACP,SAAS;AAAA,IACR,IAAI,gCAAgC;AAAA,IACpC,OAAO,cACJ;AAAA,MACA;AAAA,MACA;AAAA,IACD,IACC;AAAA,MACA;AAAA,MACA;AAAA,IACD;AAAA,EACH;AAAA,EACA,MAAM,oBAAoB,UAAU,QAAQ;AAAA,EAC5C,OAAO;AACR,CAAC;",
  "names": []
}
