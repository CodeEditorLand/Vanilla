{
  "version": 3,
  "sources": ["../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/contrib/webview/browser/webviewElement.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { isFirefox } from '../../../../base/browser/browser.js';\nimport { addDisposableListener, EventType, getWindowById } from '../../../../base/browser/dom.js';\nimport { IMouseWheelEvent } from '../../../../base/browser/mouseEvent.js';\nimport { promiseWithResolvers, ThrottledDelayer } from '../../../../base/common/async.js';\nimport { streamToBuffer, VSBufferReadableStream } from '../../../../base/common/buffer.js';\nimport { CancellationTokenSource } from '../../../../base/common/cancellation.js';\nimport { Emitter, Event } from '../../../../base/common/event.js';\nimport { Disposable, IDisposable, toDisposable } from '../../../../base/common/lifecycle.js';\nimport { COI } from '../../../../base/common/network.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { generateUuid } from '../../../../base/common/uuid.js';\nimport { localize } from '../../../../nls.js';\nimport { IAccessibilityService } from '../../../../platform/accessibility/common/accessibility.js';\nimport { MenuId } from '../../../../platform/actions/common/actions.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { IContextKeyService } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IContextMenuService } from '../../../../platform/contextview/browser/contextView.js';\nimport { ExtensionIdentifier } from '../../../../platform/extensions/common/extensions.js';\nimport { IFileService } from '../../../../platform/files/common/files.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { ILogService } from '../../../../platform/log/common/log.js';\nimport { INotificationService } from '../../../../platform/notification/common/notification.js';\nimport { IRemoteAuthorityResolverService } from '../../../../platform/remote/common/remoteAuthorityResolver.js';\nimport { ITelemetryService } from '../../../../platform/telemetry/common/telemetry.js';\nimport { ITunnelService } from '../../../../platform/tunnel/common/tunnel.js';\nimport { WebviewPortMappingManager } from '../../../../platform/webview/common/webviewPortMapping.js';\nimport { parentOriginHash } from '../../../../base/browser/iframe.js';\nimport { loadLocalResource, WebviewResourceResponse } from './resourceLoading.js';\nimport { WebviewThemeDataProvider } from './themeing.js';\nimport { areWebviewContentOptionsEqual, IWebview, WebviewContentOptions, WebviewExtensionDescription, WebviewInitInfo, WebviewMessageReceivedEvent, WebviewOptions } from './webview.js';\nimport { WebviewFindDelegate, WebviewFindWidget } from './webviewFindWidget.js';\nimport { FromWebviewMessage, KeyEvent, ToWebviewMessage, WebViewDragEvent } from './webviewMessages.js';\nimport { decodeAuthority, webviewGenericCspSource, webviewRootResourceAuthority } from '../common/webview.js';\nimport { IWorkbenchEnvironmentService } from '../../../services/environment/common/environmentService.js';\nimport { CodeWindow } from '../../../../base/browser/window.js';\n\ninterface WebviewContent {\n\treadonly html: string;\n\treadonly title: string | undefined;\n\treadonly options: WebviewContentOptions;\n\treadonly state: string | undefined;\n}\n\nnamespace WebviewState {\n\texport const enum Type { Initializing, Ready }\n\n\texport class Initializing {\n\t\treadonly type = Type.Initializing;\n\n\t\tconstructor(\n\t\t\tpublic pendingMessages: Array<{\n\t\t\t\treadonly channel: string;\n\t\t\t\treadonly data?: any;\n\t\t\t\treadonly transferable: Transferable[];\n\t\t\t\treadonly resolve: (posted: boolean) => void;\n\t\t\t}>\n\t\t) { }\n\t}\n\n\texport const Ready = { type: Type.Ready } as const;\n\n\texport type State = typeof Ready | Initializing;\n}\n\ninterface WebviewActionContext {\n\treadonly webview?: string;\n\treadonly [key: string]: unknown;\n}\n\nconst webviewIdContext = 'webviewId';\n\nexport class WebviewElement extends Disposable implements IWebview, WebviewFindDelegate {\n\n\tprotected readonly id = generateUuid();\n\n\t/**\n\t * The provided identifier of this webview.\n\t */\n\tpublic readonly providedViewType?: string;\n\n\t/**\n\t * The origin this webview itself is loaded from. May not be unique\n\t */\n\tpublic readonly origin: string;\n\n\tprivate _windowId: number | undefined = undefined;\n\tprivate get window() { return typeof this._windowId === 'number' ? getWindowById(this._windowId)?.window : undefined; }\n\n\tprivate _encodedWebviewOriginPromise?: Promise<string>;\n\tprivate _encodedWebviewOrigin: string | undefined;\n\n\tprotected get platform(): string { return 'browser'; }\n\n\tprivate readonly _expectedServiceWorkerVersion = 4; // Keep this in sync with the version in service-worker.js\n\n\tprivate _element: HTMLIFrameElement | undefined;\n\tprotected get element(): HTMLIFrameElement | undefined { return this._element; }\n\n\tprivate _focused: boolean | undefined;\n\tpublic get isFocused(): boolean {\n\t\tif (!this._focused) {\n\t\t\treturn false;\n\t\t}\n\t\t// code window is only available after the webview is mounted.\n\t\tif (!this.window) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (this.window.document.activeElement && this.window.document.activeElement !== this.element) {\n\t\t\t// looks like https://github.com/microsoft/vscode/issues/132641\n\t\t\t// where the focus is actually not in the `<iframe>`\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t}\n\n\tprivate _state: WebviewState.State = new WebviewState.Initializing([]);\n\n\tprivate _content: WebviewContent;\n\n\tprivate readonly _portMappingManager: WebviewPortMappingManager;\n\n\tprivate readonly _resourceLoadingCts = this._register(new CancellationTokenSource());\n\n\tprivate _contextKeyService: IContextKeyService | undefined;\n\n\tprivate _confirmBeforeClose: string;\n\n\tprivate readonly _focusDelayer = this._register(new ThrottledDelayer(50));\n\n\tprivate readonly _onDidHtmlChange: Emitter<string> = this._register(new Emitter<string>());\n\tprotected readonly onDidHtmlChange = this._onDidHtmlChange.event;\n\n\tprivate _messagePort?: MessagePort;\n\tprivate readonly _messageHandlers = new Map<string, Set<(data: any, e: MessageEvent) => void>>();\n\n\tprotected readonly _webviewFindWidget: WebviewFindWidget | undefined;\n\tpublic readonly checkImeCompletionState = true;\n\n\tprivate _disposed = false;\n\n\n\tpublic extension: WebviewExtensionDescription | undefined;\n\tprivate readonly _options: WebviewOptions;\n\n\tconstructor(\n\t\tinitInfo: WebviewInitInfo,\n\t\tprotected readonly webviewThemeDataProvider: WebviewThemeDataProvider,\n\t\t@IConfigurationService configurationService: IConfigurationService,\n\t\t@IContextMenuService contextMenuService: IContextMenuService,\n\t\t@INotificationService notificationService: INotificationService,\n\t\t@IWorkbenchEnvironmentService private readonly _environmentService: IWorkbenchEnvironmentService,\n\t\t@IFileService private readonly _fileService: IFileService,\n\t\t@ILogService private readonly _logService: ILogService,\n\t\t@IRemoteAuthorityResolverService private readonly _remoteAuthorityResolverService: IRemoteAuthorityResolverService,\n\t\t@ITelemetryService private readonly _telemetryService: ITelemetryService,\n\t\t@ITunnelService private readonly _tunnelService: ITunnelService,\n\t\t@IInstantiationService instantiationService: IInstantiationService,\n\t\t@IAccessibilityService private readonly _accessibilityService: IAccessibilityService,\n\t) {\n\t\tsuper();\n\n\t\tthis.providedViewType = initInfo.providedViewType;\n\t\tthis.origin = initInfo.origin ?? this.id;\n\n\t\tthis._options = initInfo.options;\n\t\tthis.extension = initInfo.extension;\n\n\t\tthis._content = {\n\t\t\thtml: '',\n\t\t\ttitle: initInfo.title,\n\t\t\toptions: initInfo.contentOptions,\n\t\t\tstate: undefined\n\t\t};\n\n\t\tthis._portMappingManager = this._register(new WebviewPortMappingManager(\n\t\t\t() => this.extension?.location,\n\t\t\t() => this._content.options.portMapping || [],\n\t\t\tthis._tunnelService\n\t\t));\n\n\t\tthis._element = this._createElement(initInfo.options, initInfo.contentOptions);\n\n\t\tthis._register(this.on('no-csp-found', () => {\n\t\t\tthis.handleNoCspFound();\n\t\t}));\n\n\t\tthis._register(this.on('did-click-link', ({ uri }) => {\n\t\t\tthis._onDidClickLink.fire(uri);\n\t\t}));\n\n\t\tthis._register(this.on('onmessage', ({ message, transfer }) => {\n\t\t\tthis._onMessage.fire({ message, transfer });\n\t\t}));\n\n\t\tthis._register(this.on('did-scroll', ({ scrollYPercentage }) => {\n\t\t\tthis._onDidScroll.fire({ scrollYPercentage });\n\t\t}));\n\n\t\tthis._register(this.on('do-reload', () => {\n\t\t\tthis.reload();\n\t\t}));\n\n\t\tthis._register(this.on('do-update-state', (state) => {\n\t\t\tthis.state = state;\n\t\t\tthis._onDidUpdateState.fire(state);\n\t\t}));\n\n\t\tthis._register(this.on('did-focus', () => {\n\t\t\tthis.handleFocusChange(true);\n\t\t}));\n\n\t\tthis._register(this.on('did-blur', () => {\n\t\t\tthis.handleFocusChange(false);\n\t\t}));\n\n\t\tthis._register(this.on('did-scroll-wheel', (event) => {\n\t\t\tthis._onDidWheel.fire(event);\n\t\t}));\n\n\t\tthis._register(this.on('did-find', ({ didFind }) => {\n\t\t\tthis._hasFindResult.fire(didFind);\n\t\t}));\n\n\t\tthis._register(this.on('fatal-error', (e) => {\n\t\t\tnotificationService.error(localize('fatalErrorMessage', \"Error loading webview: {0}\", e.message));\n\t\t\tthis._onFatalError.fire({ message: e.message });\n\t\t}));\n\n\t\tthis._register(this.on('did-keydown', (data) => {\n\t\t\t// Electron: workaround for https://github.com/electron/electron/issues/14258\n\t\t\t// We have to detect keyboard events in the <webview> and dispatch them to our\n\t\t\t// keybinding service because these events do not bubble to the parent window anymore.\n\t\t\tthis.handleKeyEvent('keydown', data);\n\t\t}));\n\n\t\tthis._register(this.on('did-keyup', (data) => {\n\t\t\tthis.handleKeyEvent('keyup', data);\n\t\t}));\n\n\t\tthis._register(this.on('did-context-menu', (data) => {\n\t\t\tif (!this.element) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (!this._contextKeyService) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst elementBox = this.element.getBoundingClientRect();\n\t\t\tconst contextKeyService = this._contextKeyService.createOverlay([\n\t\t\t\t...Object.entries(data.context),\n\t\t\t\t[webviewIdContext, this.providedViewType],\n\t\t\t]);\n\t\t\tcontextMenuService.showContextMenu({\n\t\t\t\tmenuId: MenuId.WebviewContext,\n\t\t\t\tmenuActionOptions: { shouldForwardArgs: true },\n\t\t\t\tcontextKeyService,\n\t\t\t\tgetActionsContext: (): WebviewActionContext => ({ ...data.context, webview: this.providedViewType }),\n\t\t\t\tgetAnchor: () => ({\n\t\t\t\t\tx: elementBox.x + data.clientX,\n\t\t\t\t\ty: elementBox.y + data.clientY\n\t\t\t\t})\n\t\t\t});\n\t\t\tthis._send('set-context-menu-visible', { visible: true });\n\t\t}));\n\n\t\tthis._register(this.on('load-resource', async (entry) => {\n\t\t\ttry {\n\t\t\t\t// Restore the authority we previously encoded\n\t\t\t\tconst authority = decodeAuthority(entry.authority);\n\t\t\t\tconst uri = URI.from({\n\t\t\t\t\tscheme: entry.scheme,\n\t\t\t\t\tauthority: authority,\n\t\t\t\t\tpath: decodeURIComponent(entry.path), // This gets re-encoded\n\t\t\t\t\tquery: entry.query ? decodeURIComponent(entry.query) : entry.query,\n\t\t\t\t});\n\t\t\t\tthis.loadResource(entry.id, uri, entry.ifNoneMatch);\n\t\t\t} catch (e) {\n\t\t\t\tthis._send('did-load-resource', {\n\t\t\t\t\tid: entry.id,\n\t\t\t\t\tstatus: 404,\n\t\t\t\t\tpath: entry.path,\n\t\t\t\t});\n\t\t\t}\n\t\t}));\n\n\t\tthis._register(this.on('load-localhost', (entry) => {\n\t\t\tthis.localLocalhost(entry.id, entry.origin);\n\t\t}));\n\n\t\tthis._register(Event.runAndSubscribe(webviewThemeDataProvider.onThemeDataChanged, () => this.style()));\n\t\tthis._register(_accessibilityService.onDidChangeReducedMotion(() => this.style()));\n\t\tthis._register(_accessibilityService.onDidChangeScreenReaderOptimized(() => this.style()));\n\t\tthis._register(contextMenuService.onDidHideContextMenu(() => this._send('set-context-menu-visible', { visible: false })));\n\n\t\tthis._confirmBeforeClose = configurationService.getValue<string>('window.confirmBeforeClose');\n\n\t\tthis._register(configurationService.onDidChangeConfiguration(e => {\n\t\t\tif (e.affectsConfiguration('window.confirmBeforeClose')) {\n\t\t\t\tthis._confirmBeforeClose = configurationService.getValue('window.confirmBeforeClose');\n\t\t\t\tthis._send('set-confirm-before-close', this._confirmBeforeClose);\n\t\t\t}\n\t\t}));\n\n\t\tthis._register(this.on('drag-start', () => {\n\t\t\tthis._startBlockingIframeDragEvents();\n\t\t}));\n\n\t\tthis._register(this.on('drag', (event) => {\n\t\t\tthis.handleDragEvent('drag', event);\n\t\t}));\n\n\t\tif (initInfo.options.enableFindWidget) {\n\t\t\tthis._webviewFindWidget = this._register(instantiationService.createInstance(WebviewFindWidget, this));\n\t\t}\n\t}\n\n\toverride dispose(): void {\n\t\tthis._disposed = true;\n\n\t\tthis.element?.remove();\n\t\tthis._element = undefined;\n\n\t\tthis._messagePort = undefined;\n\n\t\tif (this._state.type === WebviewState.Type.Initializing) {\n\t\t\tfor (const message of this._state.pendingMessages) {\n\t\t\t\tmessage.resolve(false);\n\t\t\t}\n\t\t\tthis._state.pendingMessages = [];\n\t\t}\n\n\t\tthis._onDidDispose.fire();\n\n\t\tthis._resourceLoadingCts.dispose(true);\n\n\t\tsuper.dispose();\n\t}\n\n\tsetContextKeyService(contextKeyService: IContextKeyService) {\n\t\tthis._contextKeyService = contextKeyService;\n\t}\n\n\tprivate readonly _onMissingCsp = this._register(new Emitter<ExtensionIdentifier>());\n\tpublic readonly onMissingCsp = this._onMissingCsp.event;\n\n\tprivate readonly _onDidClickLink = this._register(new Emitter<string>());\n\tpublic readonly onDidClickLink = this._onDidClickLink.event;\n\n\tprivate readonly _onDidReload = this._register(new Emitter<void>());\n\tpublic readonly onDidReload = this._onDidReload.event;\n\n\tprivate readonly _onMessage = this._register(new Emitter<WebviewMessageReceivedEvent>());\n\tpublic readonly onMessage = this._onMessage.event;\n\n\tprivate readonly _onDidScroll = this._register(new Emitter<{ readonly scrollYPercentage: number }>());\n\tpublic readonly onDidScroll = this._onDidScroll.event;\n\n\tprivate readonly _onDidWheel = this._register(new Emitter<IMouseWheelEvent>());\n\tpublic readonly onDidWheel = this._onDidWheel.event;\n\n\tprivate readonly _onDidUpdateState = this._register(new Emitter<string | undefined>());\n\tpublic readonly onDidUpdateState = this._onDidUpdateState.event;\n\n\tprivate readonly _onDidFocus = this._register(new Emitter<void>());\n\tpublic readonly onDidFocus = this._onDidFocus.event;\n\n\tprivate readonly _onDidBlur = this._register(new Emitter<void>());\n\tpublic readonly onDidBlur = this._onDidBlur.event;\n\n\tprivate readonly _onFatalError = this._register(new Emitter<{ readonly message: string }>());\n\tpublic readonly onFatalError = this._onFatalError.event;\n\n\tprivate readonly _onDidDispose = this._register(new Emitter<void>());\n\tpublic readonly onDidDispose = this._onDidDispose.event;\n\n\tpublic postMessage(message: any, transfer?: ArrayBuffer[]): Promise<boolean> {\n\t\treturn this._send('message', { message, transfer });\n\t}\n\n\tprivate async _send<K extends keyof ToWebviewMessage>(channel: K, data: ToWebviewMessage[K], _createElement: Transferable[] = []): Promise<boolean> {\n\t\tif (this._state.type === WebviewState.Type.Initializing) {\n\t\t\tconst { promise, resolve } = promiseWithResolvers<boolean>();\n\t\t\tthis._state.pendingMessages.push({ channel, data, transferable: _createElement, resolve });\n\t\t\treturn promise;\n\t\t} else {\n\t\t\treturn this.doPostMessage(channel, data, _createElement);\n\t\t}\n\t}\n\n\tprivate _createElement(options: WebviewOptions, _contentOptions: WebviewContentOptions) {\n\t\t// Do not start loading the webview yet.\n\t\t// Wait the end of the ctor when all listeners have been hooked up.\n\t\tconst element = document.createElement('iframe');\n\t\telement.name = this.id;\n\t\telement.className = `webview ${options.customClasses || ''}`;\n\t\telement.sandbox.add('allow-scripts', 'allow-same-origin', 'allow-forms', 'allow-pointer-lock', 'allow-downloads');\n\n\t\tconst allowRules = ['cross-origin-isolated', 'autoplay'];\n\t\tif (!isFirefox) {\n\t\t\tallowRules.push('clipboard-read', 'clipboard-write');\n\t\t}\n\t\telement.setAttribute('allow', allowRules.join('; '));\n\n\t\telement.style.border = 'none';\n\t\telement.style.width = '100%';\n\t\telement.style.height = '100%';\n\n\t\telement.focus = () => {\n\t\t\tthis._doFocus();\n\t\t};\n\n\t\treturn element;\n\t}\n\n\tprivate _initElement(encodedWebviewOrigin: string, extension: WebviewExtensionDescription | undefined, options: WebviewOptions, targetWindow: CodeWindow) {\n\t\t// The extensionId and purpose in the URL are used for filtering in js-debug:\n\t\tconst params: { [key: string]: string } = {\n\t\t\tid: this.id,\n\t\t\torigin: this.origin,\n\t\t\tswVersion: String(this._expectedServiceWorkerVersion),\n\t\t\textensionId: extension?.id.value ?? '',\n\t\t\tplatform: this.platform,\n\t\t\t'vscode-resource-base-authority': webviewRootResourceAuthority,\n\t\t\tparentOrigin: targetWindow.origin,\n\t\t};\n\n\t\tif (this._options.disableServiceWorker) {\n\t\t\tparams.disableServiceWorker = 'true';\n\t\t}\n\n\t\tif (this._environmentService.remoteAuthority) {\n\t\t\tparams.remoteAuthority = this._environmentService.remoteAuthority;\n\t\t}\n\n\t\tif (options.purpose) {\n\t\t\tparams.purpose = options.purpose;\n\t\t}\n\n\t\tCOI.addSearchParam(params, true, true);\n\n\t\tconst queryString = new URLSearchParams(params).toString();\n\n\t\t// Workaround for https://bugzilla.mozilla.org/show_bug.cgi?id=1754872\n\t\tconst fileName = isFirefox ? 'index-no-csp.html' : 'index.html';\n\n\t\tthis.element!.setAttribute('src', `${this.webviewContentEndpoint(encodedWebviewOrigin)}/${fileName}?${queryString}`);\n\t}\n\n\tpublic mountTo(element: HTMLElement, targetWindow: CodeWindow) {\n\t\tif (!this.element) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._windowId = targetWindow.vscodeWindowId;\n\t\tthis._encodedWebviewOriginPromise = parentOriginHash(targetWindow.origin, this.origin).then(id => this._encodedWebviewOrigin = id);\n\t\tthis._encodedWebviewOriginPromise.then(encodedWebviewOrigin => {\n\t\t\tif (!this._disposed) {\n\t\t\t\tthis._initElement(encodedWebviewOrigin, this.extension, this._options, targetWindow);\n\t\t\t}\n\t\t});\n\t\tthis._registerMessageHandler(targetWindow);\n\n\t\tif (this._webviewFindWidget) {\n\t\t\telement.appendChild(this._webviewFindWidget.getDomNode());\n\t\t}\n\n\t\tfor (const eventName of [EventType.MOUSE_DOWN, EventType.MOUSE_MOVE, EventType.DROP]) {\n\t\t\tthis._register(addDisposableListener(element, eventName, () => {\n\t\t\t\tthis._stopBlockingIframeDragEvents();\n\t\t\t}));\n\t\t}\n\n\t\tfor (const node of [element, targetWindow]) {\n\t\t\tthis._register(addDisposableListener(node, EventType.DRAG_END, () => {\n\t\t\t\tthis._stopBlockingIframeDragEvents();\n\t\t\t}));\n\t\t}\n\n\t\telement.id = this.id; // This is used by aria-flow for accessibility order\n\n\t\telement.appendChild(this.element);\n\t}\n\n\tprivate _registerMessageHandler(targetWindow: CodeWindow) {\n\t\tconst subscription = this._register(addDisposableListener(targetWindow, 'message', (e: MessageEvent) => {\n\t\t\tif (!this._encodedWebviewOrigin || e?.data?.target !== this.id) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (e.origin !== this._webviewContentOrigin(this._encodedWebviewOrigin)) {\n\t\t\t\tconsole.log(`Skipped renderer receiving message due to mismatched origins: ${e.origin} ${this._webviewContentOrigin}`);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (e.data.channel === 'webview-ready') {\n\t\t\t\tif (this._messagePort) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tthis._logService.debug(`Webview(${this.id}): webview ready`);\n\n\t\t\t\tthis._messagePort = e.ports[0];\n\t\t\t\tthis._messagePort.onmessage = (e) => {\n\t\t\t\t\tconst handlers = this._messageHandlers.get(e.data.channel);\n\t\t\t\t\tif (!handlers) {\n\t\t\t\t\t\tconsole.log(`No handlers found for '${e.data.channel}'`);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\thandlers?.forEach(handler => handler(e.data.data, e));\n\t\t\t\t};\n\n\t\t\t\tthis.element?.classList.add('ready');\n\n\t\t\t\tif (this._state.type === WebviewState.Type.Initializing) {\n\t\t\t\t\tthis._state.pendingMessages.forEach(({ channel, data, resolve }) => resolve(this.doPostMessage(channel, data)));\n\t\t\t\t}\n\t\t\t\tthis._state = WebviewState.Ready;\n\n\t\t\t\tsubscription.dispose();\n\t\t\t}\n\t\t}));\n\t}\n\n\tprivate _startBlockingIframeDragEvents() {\n\t\tif (this.element) {\n\t\t\tthis.element.style.pointerEvents = 'none';\n\t\t}\n\t}\n\n\tprivate _stopBlockingIframeDragEvents() {\n\t\tif (this.element) {\n\t\t\tthis.element.style.pointerEvents = 'auto';\n\t\t}\n\t}\n\n\tprotected webviewContentEndpoint(encodedWebviewOrigin: string): string {\n\t\tconst webviewExternalEndpoint = this._environmentService.webviewExternalEndpoint;\n\t\tif (!webviewExternalEndpoint) {\n\t\t\tthrow new Error(`'webviewExternalEndpoint' has not been configured. Webviews will not work!`);\n\t\t}\n\n\t\tconst endpoint = webviewExternalEndpoint.replace('{{uuid}}', encodedWebviewOrigin);\n\t\tif (endpoint[endpoint.length - 1] === '/') {\n\t\t\treturn endpoint.slice(0, endpoint.length - 1);\n\t\t}\n\t\treturn endpoint;\n\t}\n\n\tprivate _webviewContentOrigin(encodedWebviewOrigin: string): string {\n\t\tconst uri = URI.parse(this.webviewContentEndpoint(encodedWebviewOrigin));\n\t\treturn uri.scheme + '://' + uri.authority.toLowerCase();\n\t}\n\n\tprivate doPostMessage(channel: string, data?: any, transferable: Transferable[] = []): boolean {\n\t\tif (this.element && this._messagePort) {\n\t\t\tthis._messagePort.postMessage({ channel, args: data }, transferable);\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tprivate on<K extends keyof FromWebviewMessage>(channel: K, handler: (data: FromWebviewMessage[K], e: MessageEvent) => void): IDisposable {\n\t\tlet handlers = this._messageHandlers.get(channel);\n\t\tif (!handlers) {\n\t\t\thandlers = new Set();\n\t\t\tthis._messageHandlers.set(channel, handlers);\n\t\t}\n\n\t\thandlers.add(handler);\n\t\treturn toDisposable(() => {\n\t\t\tthis._messageHandlers.get(channel)?.delete(handler);\n\t\t});\n\t}\n\n\tprivate _hasAlertedAboutMissingCsp = false;\n\tprivate handleNoCspFound(): void {\n\t\tif (this._hasAlertedAboutMissingCsp) {\n\t\t\treturn;\n\t\t}\n\t\tthis._hasAlertedAboutMissingCsp = true;\n\n\t\tif (this.extension?.id) {\n\t\t\tif (this._environmentService.isExtensionDevelopment) {\n\t\t\t\tthis._onMissingCsp.fire(this.extension.id);\n\t\t\t}\n\n\t\t\tconst payload = {\n\t\t\t\textension: this.extension.id.value\n\t\t\t} as const;\n\n\t\t\ttype Classification = {\n\t\t\t\textension: { classification: 'SystemMetaData'; purpose: 'FeatureInsight'; comment: 'The id of the extension that created the webview.' };\n\t\t\t\towner: 'mjbz';\n\t\t\t\tcomment: 'Helps find which extensions are contributing webviews with invalid CSPs';\n\t\t\t};\n\n\t\t\tthis._telemetryService.publicLog2<typeof payload, Classification>('webviewMissingCsp', payload);\n\t\t}\n\t}\n\n\tpublic reload(): void {\n\t\tthis.doUpdateContent(this._content);\n\n\t\tconst subscription = this._register(this.on('did-load', () => {\n\t\t\tthis._onDidReload.fire();\n\t\t\tsubscription.dispose();\n\t\t}));\n\t}\n\n\tpublic setHtml(html: string) {\n\t\tthis.doUpdateContent({ ...this._content, html });\n\t\tthis._onDidHtmlChange.fire(html);\n\t}\n\n\tpublic setTitle(title: string) {\n\t\tthis._content = { ...this._content, title };\n\t\tthis._send('set-title', title);\n\t}\n\n\tpublic set contentOptions(options: WebviewContentOptions) {\n\t\tthis._logService.debug(`Webview(${this.id}): will update content options`);\n\n\t\tif (areWebviewContentOptionsEqual(options, this._content.options)) {\n\t\t\tthis._logService.debug(`Webview(${this.id}): skipping content options update`);\n\t\t\treturn;\n\t\t}\n\n\t\tthis.doUpdateContent({ ...this._content, options });\n\t}\n\n\tpublic set localResourcesRoot(resources: readonly URI[]) {\n\t\tthis._content = {\n\t\t\t...this._content,\n\t\t\toptions: { ...this._content.options, localResourceRoots: resources }\n\t\t};\n\t}\n\n\tpublic set state(state: string | undefined) {\n\t\tthis._content = { ...this._content, state };\n\t}\n\n\tpublic set initialScrollProgress(value: number) {\n\t\tthis._send('initial-scroll-position', value);\n\t}\n\n\tprivate doUpdateContent(newContent: WebviewContent) {\n\t\tthis._logService.debug(`Webview(${this.id}): will update content`);\n\n\t\tthis._content = newContent;\n\n\t\tconst allowScripts = !!this._content.options.allowScripts;\n\t\tthis._send('content', {\n\t\t\tcontents: this._content.html,\n\t\t\ttitle: this._content.title,\n\t\t\toptions: {\n\t\t\t\tallowMultipleAPIAcquire: !!this._content.options.allowMultipleAPIAcquire,\n\t\t\t\tallowScripts: allowScripts,\n\t\t\t\tallowForms: this._content.options.allowForms ?? allowScripts, // For back compat, we allow forms by default when scripts are enabled\n\t\t\t},\n\t\t\tstate: this._content.state,\n\t\t\tcspSource: webviewGenericCspSource,\n\t\t\tconfirmBeforeClose: this._confirmBeforeClose,\n\t\t});\n\t}\n\n\tprotected style(): void {\n\t\tlet { styles, activeTheme, themeLabel, themeId } = this.webviewThemeDataProvider.getWebviewThemeData();\n\t\tif (this._options.transformCssVariables) {\n\t\t\tstyles = this._options.transformCssVariables(styles);\n\t\t}\n\n\t\tconst reduceMotion = this._accessibilityService.isMotionReduced();\n\t\tconst screenReader = this._accessibilityService.isScreenReaderOptimized();\n\n\t\tthis._send('styles', { styles, activeTheme, themeId, themeLabel, reduceMotion, screenReader });\n\t}\n\n\n\tprotected handleFocusChange(isFocused: boolean): void {\n\t\tthis._focused = isFocused;\n\t\tif (isFocused) {\n\t\t\tthis._onDidFocus.fire();\n\t\t} else {\n\t\t\tthis._onDidBlur.fire();\n\t\t}\n\t}\n\n\tprivate handleKeyEvent(type: 'keydown' | 'keyup', event: KeyEvent) {\n\t\t// Create a fake KeyboardEvent from the data provided\n\t\tconst emulatedKeyboardEvent = new KeyboardEvent(type, event);\n\t\t// Force override the target\n\t\tObject.defineProperty(emulatedKeyboardEvent, 'target', {\n\t\t\tget: () => this.element,\n\t\t});\n\t\t// And re-dispatch\n\t\tthis.window?.dispatchEvent(emulatedKeyboardEvent);\n\t}\n\n\tprivate handleDragEvent(type: 'drag', event: WebViewDragEvent) {\n\t\t// Create a fake DragEvent from the data provided\n\t\tconst emulatedDragEvent = new DragEvent(type, event);\n\t\t// Force override the target\n\t\tObject.defineProperty(emulatedDragEvent, 'target', {\n\t\t\tget: () => this.element,\n\t\t});\n\t\t// And re-dispatch\n\t\tthis.window?.dispatchEvent(emulatedDragEvent);\n\t}\n\n\twindowDidDragStart(): void {\n\t\t// Webview break drag and dropping around the main window (no events are generated when you are over them)\n\t\t// Work around this by disabling pointer events during the drag.\n\t\t// https://github.com/electron/electron/issues/18226\n\t\tthis._startBlockingIframeDragEvents();\n\t}\n\n\twindowDidDragEnd(): void {\n\t\tthis._stopBlockingIframeDragEvents();\n\t}\n\n\tpublic selectAll() {\n\t\tthis.execCommand('selectAll');\n\t}\n\n\tpublic copy() {\n\t\tthis.execCommand('copy');\n\t}\n\n\tpublic paste() {\n\t\tthis.execCommand('paste');\n\t}\n\n\tpublic cut() {\n\t\tthis.execCommand('cut');\n\t}\n\n\tpublic undo() {\n\t\tthis.execCommand('undo');\n\t}\n\n\tpublic redo() {\n\t\tthis.execCommand('redo');\n\t}\n\n\tprivate execCommand(command: string) {\n\t\tif (this.element) {\n\t\t\tthis._send('execCommand', command);\n\t\t}\n\t}\n\n\tprivate async loadResource(id: number, uri: URI, ifNoneMatch: string | undefined) {\n\t\ttry {\n\t\t\tconst result = await loadLocalResource(uri, {\n\t\t\t\tifNoneMatch,\n\t\t\t\troots: this._content.options.localResourceRoots || [],\n\t\t\t}, this._fileService, this._logService, this._resourceLoadingCts.token);\n\n\t\t\tswitch (result.type) {\n\t\t\t\tcase WebviewResourceResponse.Type.Success: {\n\t\t\t\t\tconst buffer = await this.streamToBuffer(result.stream);\n\t\t\t\t\treturn this._send('did-load-resource', {\n\t\t\t\t\t\tid,\n\t\t\t\t\t\tstatus: 200,\n\t\t\t\t\t\tpath: uri.path,\n\t\t\t\t\t\tmime: result.mimeType,\n\t\t\t\t\t\tdata: buffer,\n\t\t\t\t\t\tetag: result.etag,\n\t\t\t\t\t\tmtime: result.mtime\n\t\t\t\t\t}, [buffer]);\n\t\t\t\t}\n\t\t\t\tcase WebviewResourceResponse.Type.NotModified: {\n\t\t\t\t\treturn this._send('did-load-resource', {\n\t\t\t\t\t\tid,\n\t\t\t\t\t\tstatus: 304, // not modified\n\t\t\t\t\t\tpath: uri.path,\n\t\t\t\t\t\tmime: result.mimeType,\n\t\t\t\t\t\tmtime: result.mtime\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tcase WebviewResourceResponse.Type.AccessDenied: {\n\t\t\t\t\treturn this._send('did-load-resource', {\n\t\t\t\t\t\tid,\n\t\t\t\t\t\tstatus: 401, // unauthorized\n\t\t\t\t\t\tpath: uri.path,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t} catch {\n\t\t\t// noop\n\t\t}\n\n\t\treturn this._send('did-load-resource', {\n\t\t\tid,\n\t\t\tstatus: 404,\n\t\t\tpath: uri.path,\n\t\t});\n\t}\n\n\tprotected async streamToBuffer(stream: VSBufferReadableStream): Promise<ArrayBufferLike> {\n\t\tconst vsBuffer = await streamToBuffer(stream);\n\t\treturn vsBuffer.buffer.buffer;\n\t}\n\n\tprivate async localLocalhost(id: string, origin: string) {\n\t\tconst authority = this._environmentService.remoteAuthority;\n\t\tconst resolveAuthority = authority ? await this._remoteAuthorityResolverService.resolveAuthority(authority) : undefined;\n\t\tconst redirect = resolveAuthority ? await this._portMappingManager.getRedirect(resolveAuthority.authority, origin) : undefined;\n\t\treturn this._send('did-load-localhost', {\n\t\t\tid,\n\t\t\torigin,\n\t\t\tlocation: redirect\n\t\t});\n\t}\n\n\tpublic focus(): void {\n\t\tthis._doFocus();\n\n\t\t// Handle focus change programmatically (do not rely on event from <webview>)\n\t\tthis.handleFocusChange(true);\n\t}\n\n\tprivate _doFocus() {\n\t\tif (!this.element) {\n\t\t\treturn;\n\t\t}\n\n\t\ttry {\n\t\t\tthis.element.contentWindow?.focus();\n\t\t} catch {\n\t\t\t// noop\n\t\t}\n\n\t\t// Workaround for https://github.com/microsoft/vscode/issues/75209\n\t\t// Focusing the inner webview is async so for a sequence of actions such as:\n\t\t//\n\t\t// 1. Open webview\n\t\t// 1. Show quick pick from command palette\n\t\t//\n\t\t// We end up focusing the webview after showing the quick pick, which causes\n\t\t// the quick pick to instantly dismiss.\n\t\t//\n\t\t// Workaround this by debouncing the focus and making sure we are not focused on an input\n\t\t// when we try to re-focus.\n\t\tthis._focusDelayer.trigger(async () => {\n\t\t\tif (!this.isFocused || !this.element) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (this.window?.document.activeElement && this.window.document.activeElement !== this.element && this.window.document.activeElement?.tagName !== 'BODY') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// It is possible for the webview to be contained in another window\n\t\t\t// that does not have focus. As such, also focus the body of the\n\t\t\t// webview's window to ensure it is properly receiving keyboard focus.\n\t\t\tthis.window?.document.body?.focus();\n\n\t\t\tthis._send('focus', undefined);\n\t\t});\n\t}\n\n\tprotected readonly _hasFindResult = this._register(new Emitter<boolean>());\n\tpublic readonly hasFindResult: Event<boolean> = this._hasFindResult.event;\n\n\tprotected readonly _onDidStopFind = this._register(new Emitter<void>());\n\tpublic readonly onDidStopFind: Event<void> = this._onDidStopFind.event;\n\n\t/**\n\t * Webviews expose a stateful find API.\n\t * Successive calls to find will move forward or backward through onFindResults\n\t * depending on the supplied options.\n\t *\n\t * @param value The string to search for. Empty strings are ignored.\n\t */\n\tpublic find(value: string, previous: boolean): void {\n\t\tif (!this.element) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._send('find', { value, previous });\n\t}\n\n\tpublic updateFind(value: string) {\n\t\tif (!value || !this.element) {\n\t\t\treturn;\n\t\t}\n\t\tthis._send('find', { value });\n\t}\n\n\tpublic stopFind(keepSelection?: boolean): void {\n\t\tif (!this.element) {\n\t\t\treturn;\n\t\t}\n\t\tthis._send('find-stop', { clearSelection: !keepSelection });\n\t\tthis._onDidStopFind.fire();\n\t}\n\n\tpublic showFind(animated = true) {\n\t\tthis._webviewFindWidget?.reveal(undefined, animated);\n\t}\n\n\tpublic hideFind(animated = true) {\n\t\tthis._webviewFindWidget?.hide(animated);\n\t}\n\n\tpublic runFindAction(previous: boolean) {\n\t\tthis._webviewFindWidget?.find(previous);\n\t}\n}\n"],
  "mappings": "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",
  "names": ["WebviewState", "Type", "e"]
}
