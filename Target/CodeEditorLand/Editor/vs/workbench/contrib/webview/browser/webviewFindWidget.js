var l=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var a=(n,i,e,t)=>{for(var o=t>1?void 0:t?p(i,e):i,r=n.length-1,d;r>=0;r--)(d=n[r])&&(o=(t?d(i,e,o):d(o))||o);return t&&o&&l(i,e,o),o},s=(n,i)=>(e,t)=>i(e,t,n);import"../../../../base/common/event.js";import{IContextKeyService as f}from"../../../../platform/contextkey/common/contextkey.js";import{IContextViewService as h}from"../../../../platform/contextview/browser/contextView.js";import{IHoverService as m}from"../../../../platform/hover/browser/hover.js";import{IKeybindingService as F}from"../../../../platform/keybinding/common/keybinding.js";import{SimpleFindWidget as v}from"../../codeEditor/browser/find/simpleFindWidget.js";import{KEYBINDING_CONTEXT_WEBVIEW_FIND_WIDGET_FOCUSED as I}from"./webview.js";let u=class extends v{constructor(e,t,o,r,d){super({showCommonFindToggles:!1,checkImeCompletionState:e.checkImeCompletionState,enableSash:!0},t,o,r,d);this._delegate=e;this._findWidgetFocused=I.bindTo(o),this._register(e.hasFindResult(c=>{this.updateButtons(c),this.focusFindBox()})),this._register(e.onDidStopFind(()=>{this.updateButtons(!1)}))}async _getResultCount(e){}_findWidgetFocused;find(e){const t=this.inputValue;t&&this._delegate.find(t,e)}hide(e=!0){super.hide(e),this._delegate.stopFind(!0),this._delegate.focus()}_onInputChanged(){const e=this.inputValue;return e?this._delegate.updateFind(e):this._delegate.stopFind(!1),!1}_onFocusTrackerFocus(){this._findWidgetFocused.set(!0)}_onFocusTrackerBlur(){this._findWidgetFocused.reset()}_onFindInputFocusTrackerFocus(){}_onFindInputFocusTrackerBlur(){}findFirst(){}};u=a([s(1,h),s(2,f),s(3,m),s(4,F)],u);export{u as WebviewFindWidget};
