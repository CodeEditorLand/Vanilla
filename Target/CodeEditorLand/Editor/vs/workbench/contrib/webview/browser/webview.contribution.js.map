{
  "version": 3,
  "sources": ["../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/contrib/webview/browser/webview.contribution.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { getActiveElement } from '../../../../base/browser/dom.js';\nimport { MultiCommand, RedoCommand, SelectAllCommand, UndoCommand } from '../../../../editor/browser/editorExtensions.js';\nimport { CopyAction, CutAction, PasteAction } from '../../../../editor/contrib/clipboard/browser/clipboard.js';\nimport * as nls from '../../../../nls.js';\nimport { MenuId, MenuRegistry } from '../../../../platform/actions/common/actions.js';\nimport { ContextKeyExpr } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IWebviewService, IWebview } from './webview.js';\nimport { WebviewInput } from '../../webviewPanel/browser/webviewEditorInput.js';\nimport { IEditorService } from '../../../services/editor/common/editorService.js';\n\n\nconst PRIORITY = 100;\n\nfunction overrideCommandForWebview(command: MultiCommand | undefined, f: (webview: IWebview) => void) {\n\tcommand?.addImplementation(PRIORITY, 'webview', accessor => {\n\t\tconst webviewService = accessor.get(IWebviewService);\n\t\tconst webview = webviewService.activeWebview;\n\t\tif (webview?.isFocused) {\n\t\t\tf(webview);\n\t\t\treturn true;\n\t\t}\n\n\t\t// When focused in a custom menu try to fallback to the active webview\n\t\t// This is needed for context menu actions and the menubar\n\t\tif (getActiveElement()?.classList.contains('action-menu-item')) {\n\t\t\tconst editorService = accessor.get(IEditorService);\n\t\t\tif (editorService.activeEditor instanceof WebviewInput) {\n\t\t\t\tf(editorService.activeEditor.webview);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t});\n}\n\noverrideCommandForWebview(UndoCommand, webview => webview.undo());\noverrideCommandForWebview(RedoCommand, webview => webview.redo());\noverrideCommandForWebview(SelectAllCommand, webview => webview.selectAll());\noverrideCommandForWebview(CopyAction, webview => webview.copy());\noverrideCommandForWebview(PasteAction, webview => webview.paste());\noverrideCommandForWebview(CutAction, webview => webview.cut());\n\nexport const PreventDefaultContextMenuItemsContextKeyName = 'preventDefaultContextMenuItems';\n\nif (CutAction) {\n\tMenuRegistry.appendMenuItem(MenuId.WebviewContext, {\n\t\tcommand: {\n\t\t\tid: CutAction.id,\n\t\t\ttitle: nls.localize('cut', \"Cut\"),\n\t\t},\n\t\tgroup: '5_cutcopypaste',\n\t\torder: 1,\n\t\twhen: ContextKeyExpr.not(PreventDefaultContextMenuItemsContextKeyName),\n\t});\n}\n\nif (CopyAction) {\n\tMenuRegistry.appendMenuItem(MenuId.WebviewContext, {\n\t\tcommand: {\n\t\t\tid: CopyAction.id,\n\t\t\ttitle: nls.localize('copy', \"Copy\"),\n\t\t},\n\t\tgroup: '5_cutcopypaste',\n\t\torder: 2,\n\t\twhen: ContextKeyExpr.not(PreventDefaultContextMenuItemsContextKeyName),\n\t});\n}\n\nif (PasteAction) {\n\tMenuRegistry.appendMenuItem(MenuId.WebviewContext, {\n\t\tcommand: {\n\t\t\tid: PasteAction.id,\n\t\t\ttitle: nls.localize('paste', \"Paste\"),\n\t\t},\n\t\tgroup: '5_cutcopypaste',\n\t\torder: 3,\n\t\twhen: ContextKeyExpr.not(PreventDefaultContextMenuItemsContextKeyName),\n\t});\n}\n"],
  "mappings": ";;AAKA,SAAS,wBAAwB;AACjC,SAAS,cAAc,aAAa,kBAAkB,mBAAmB;AACzE,SAAS,YAAY,WAAW,mBAAmB;AACnD,YAAY,SAAS;AACrB,SAAS,QAAQ,oBAAoB;AACrC,SAAS,sBAAsB;AAC/B,SAAS,iBAAiB,gBAAgB;AAC1C,SAAS,oBAAoB;AAC7B,SAAS,sBAAsB;AAG/B,MAAM,WAAW;AAEjB,SAAS,0BAA0B,SAAmC,GAAgC;AACrG,WAAS,kBAAkB,UAAU,WAAW,cAAY;AAC3D,UAAM,iBAAiB,SAAS,IAAI,eAAe;AACnD,UAAM,UAAU,eAAe;AAC/B,QAAI,SAAS,WAAW;AACvB,QAAE,OAAO;AACT,aAAO;AAAA,IACR;AAIA,QAAI,iBAAiB,GAAG,UAAU,SAAS,kBAAkB,GAAG;AAC/D,YAAM,gBAAgB,SAAS,IAAI,cAAc;AACjD,UAAI,cAAc,wBAAwB,cAAc;AACvD,UAAE,cAAc,aAAa,OAAO;AACpC,eAAO;AAAA,MACR;AAAA,IACD;AAEA,WAAO;AAAA,EACR,CAAC;AACF;AArBS;AAuBT,0BAA0B,aAAa,aAAW,QAAQ,KAAK,CAAC;AAChE,0BAA0B,aAAa,aAAW,QAAQ,KAAK,CAAC;AAChE,0BAA0B,kBAAkB,aAAW,QAAQ,UAAU,CAAC;AAC1E,0BAA0B,YAAY,aAAW,QAAQ,KAAK,CAAC;AAC/D,0BAA0B,aAAa,aAAW,QAAQ,MAAM,CAAC;AACjE,0BAA0B,WAAW,aAAW,QAAQ,IAAI,CAAC;AAEtD,MAAM,+CAA+C;AAE5D,IAAI,WAAW;AACd,eAAa,eAAe,OAAO,gBAAgB;AAAA,IAClD,SAAS;AAAA,MACR,IAAI,UAAU;AAAA,MACd,OAAO,IAAI,SAAS,OAAO,KAAK;AAAA,IACjC;AAAA,IACA,OAAO;AAAA,IACP,OAAO;AAAA,IACP,MAAM,eAAe,IAAI,4CAA4C;AAAA,EACtE,CAAC;AACF;AAEA,IAAI,YAAY;AACf,eAAa,eAAe,OAAO,gBAAgB;AAAA,IAClD,SAAS;AAAA,MACR,IAAI,WAAW;AAAA,MACf,OAAO,IAAI,SAAS,QAAQ,MAAM;AAAA,IACnC;AAAA,IACA,OAAO;AAAA,IACP,OAAO;AAAA,IACP,MAAM,eAAe,IAAI,4CAA4C;AAAA,EACtE,CAAC;AACF;AAEA,IAAI,aAAa;AAChB,eAAa,eAAe,OAAO,gBAAgB;AAAA,IAClD,SAAS;AAAA,MACR,IAAI,YAAY;AAAA,MAChB,OAAO,IAAI,SAAS,SAAS,OAAO;AAAA,IACrC;AAAA,IACA,OAAO;AAAA,IACP,OAAO;AAAA,IACP,MAAM,eAAe,IAAI,4CAA4C;AAAA,EACtE,CAAC;AACF;",
  "names": []
}
