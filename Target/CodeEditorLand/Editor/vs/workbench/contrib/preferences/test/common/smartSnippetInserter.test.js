import j from"assert";import{SmartSnippetInserter as y}from"../../common/smartSnippetInserter.js";import{createTextModel as S}from"../../../../../editor/test/common/testTextModel.js";import{Position as n}from"../../../../../editor/common/core/position.js";import{ensureNoDisposablesAreLeakedInTestSuite as c}from"../../../../../base/test/common/utils.js";suite("SmartSnippetInserter",()=>{function w(e,o){const t=S(e.join(`
`));o((i,m,p,u)=>{const d=y.insertSnippet(t,i),x={position:m,prepend:p,append:u};j.deepStrictEqual(d,x)}),t.dispose()}test("empty text",()=>{w([],e=>{e(new n(1,1),new n(1,1),`
[`,"]")}),w([" "],e=>{e(new n(1,1),new n(1,2),`
[`,"]"),e(new n(1,2),new n(1,2),`
[`,"]")}),w(["// just some text"],e=>{e(new n(1,1),new n(1,18),`
[`,"]"),e(new n(1,18),new n(1,18),`
[`,"]")}),w(["// just some text",""],e=>{e(new n(1,1),new n(2,1),`
[`,"]"),e(new n(1,18),new n(2,1),`
[`,"]"),e(new n(2,1),new n(2,1),`
[`,"]")})}),test("empty array 1",()=>{w(["// just some text","[]"],e=>{e(new n(1,1),new n(2,2),"",""),e(new n(2,1),new n(2,2),"",""),e(new n(2,2),new n(2,2),"",""),e(new n(2,3),new n(2,2),"","")})}),test("empty array 2",()=>{w(["// just some text","[","]"],e=>{e(new n(1,1),new n(2,2),"",""),e(new n(2,1),new n(2,2),"",""),e(new n(2,2),new n(2,2),"",""),e(new n(3,1),new n(3,1),"",""),e(new n(3,2),new n(3,1),"","")})}),test("empty array 3",()=>{w(["// just some text","[","// just some text","]"],e=>{e(new n(1,1),new n(2,2),"",""),e(new n(2,1),new n(2,2),"",""),e(new n(2,2),new n(2,2),"",""),e(new n(3,1),new n(3,1),"",""),e(new n(3,2),new n(3,1),"",""),e(new n(4,1),new n(4,1),"",""),e(new n(4,2),new n(4,1),"","")})}),test("one element array 1",()=>{w(["// just some text","[","{}","]"],e=>{e(new n(1,1),new n(2,2),"",","),e(new n(2,1),new n(2,2),"",","),e(new n(2,2),new n(2,2),"",","),e(new n(3,1),new n(3,1),"",","),e(new n(3,2),new n(3,1),"",","),e(new n(3,3),new n(3,3),",",""),e(new n(4,1),new n(4,1),",",""),e(new n(4,2),new n(4,1),",","")})}),test("two elements array 1",()=>{w(["// just some text","[","{},","{}","]"],e=>{e(new n(1,1),new n(2,2),"",","),e(new n(2,1),new n(2,2),"",","),e(new n(2,2),new n(2,2),"",","),e(new n(3,1),new n(3,1),"",","),e(new n(3,2),new n(3,1),"",","),e(new n(3,3),new n(3,3),",",""),e(new n(3,4),new n(3,4),"",","),e(new n(4,1),new n(4,1),"",","),e(new n(4,2),new n(4,1),"",","),e(new n(4,3),new n(4,3),",",""),e(new n(5,1),new n(5,1),",",""),e(new n(5,2),new n(5,1),",","")})}),test("two elements array 2",()=>{w(["// just some text","[","{},{}","]"],e=>{e(new n(1,1),new n(2,2),"",","),e(new n(2,1),new n(2,2),"",","),e(new n(2,2),new n(2,2),"",","),e(new n(3,1),new n(3,1),"",","),e(new n(3,2),new n(3,1),"",","),e(new n(3,3),new n(3,3),",",""),e(new n(3,4),new n(3,4),"",","),e(new n(3,5),new n(3,4),"",","),e(new n(3,6),new n(3,6),",",""),e(new n(4,1),new n(4,1),",",""),e(new n(4,2),new n(4,1),",","")})}),c()});
