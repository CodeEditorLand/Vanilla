{
  "version": 3,
  "sources": ["../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/contrib/preferences/browser/keybindingsEditor.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport \"./media/keybindingsEditor.css\";\nimport * as DOM from \"../../../../base/browser/dom.js\";\nimport { StandardKeyboardEvent } from \"../../../../base/browser/keyboardEvent.js\";\nimport type { IActionViewItemOptions } from \"../../../../base/browser/ui/actionbar/actionViewItems.js\";\nimport { ActionBar } from \"../../../../base/browser/ui/actionbar/actionbar.js\";\nimport { HighlightedLabel } from \"../../../../base/browser/ui/highlightedlabel/highlightedLabel.js\";\nimport type { IManagedHover } from \"../../../../base/browser/ui/hover/hover.js\";\nimport { getDefaultHoverDelegate } from \"../../../../base/browser/ui/hover/hoverDelegateFactory.js\";\nimport { KeybindingLabel } from \"../../../../base/browser/ui/keybindingLabel/keybindingLabel.js\";\nimport type { IListContextMenuEvent } from \"../../../../base/browser/ui/list/list.js\";\nimport type { IListAccessibilityProvider } from \"../../../../base/browser/ui/list/listWidget.js\";\nimport type {\n\tITableRenderer,\n\tITableVirtualDelegate,\n} from \"../../../../base/browser/ui/table/table.js\";\nimport { ToggleActionViewItem } from \"../../../../base/browser/ui/toggle/toggle.js\";\nimport { ToolBar } from \"../../../../base/browser/ui/toolbar/toolbar.js\";\nimport {\n\tAction,\n\ttype IAction,\n\tSeparator,\n} from \"../../../../base/common/actions.js\";\nimport { Delayer } from \"../../../../base/common/async.js\";\nimport type { CancellationToken } from \"../../../../base/common/cancellation.js\";\nimport { Emitter, Event } from \"../../../../base/common/event.js\";\nimport { KeyCode } from \"../../../../base/common/keyCodes.js\";\nimport {\n\tDisposable,\n\tDisposableStore,\n\ttype IDisposable,\n\ttoDisposable,\n} from \"../../../../base/common/lifecycle.js\";\nimport { OS, isIOS } from \"../../../../base/common/platform.js\";\nimport { ThemeIcon } from \"../../../../base/common/themables.js\";\nimport { isString } from \"../../../../base/common/types.js\";\nimport { EditorExtensionsRegistry } from \"../../../../editor/browser/editorExtensions.js\";\nimport { CompletionItemKind } from \"../../../../editor/common/languages.js\";\nimport { localize } from \"../../../../nls.js\";\nimport { IAccessibilityService } from \"../../../../platform/accessibility/common/accessibility.js\";\nimport {\n\tMenuId,\n\tMenuRegistry,\n\tisIMenuItem,\n} from \"../../../../platform/actions/common/actions.js\";\nimport { IClipboardService } from \"../../../../platform/clipboard/common/clipboardService.js\";\nimport { IConfigurationService } from \"../../../../platform/configuration/common/configuration.js\";\nimport {\n\ttype IContextKey,\n\tIContextKeyService,\n\tRawContextKey,\n} from \"../../../../platform/contextkey/common/contextkey.js\";\nimport { IContextMenuService } from \"../../../../platform/contextview/browser/contextView.js\";\nimport type { IEditorOptions } from \"../../../../platform/editor/common/editor.js\";\nimport { IHoverService } from \"../../../../platform/hover/browser/hover.js\";\nimport { IInstantiationService } from \"../../../../platform/instantiation/common/instantiation.js\";\nimport {\n\tIKeybindingService,\n\ttype IUserFriendlyKeybinding,\n} from \"../../../../platform/keybinding/common/keybinding.js\";\nimport { WorkbenchTable } from \"../../../../platform/list/browser/listService.js\";\nimport { INotificationService } from \"../../../../platform/notification/common/notification.js\";\nimport {\n\tIStorageService,\n\tStorageScope,\n\tStorageTarget,\n} from \"../../../../platform/storage/common/storage.js\";\nimport { ITelemetryService } from \"../../../../platform/telemetry/common/telemetry.js\";\nimport {\n\tdefaultKeybindingLabelStyles,\n\tdefaultToggleStyles,\n\tgetInputBoxStyle,\n} from \"../../../../platform/theme/browser/defaultStyles.js\";\nimport {\n\tasCssVariable,\n\tbadgeBackground,\n\tbadgeForeground,\n\tcontrastBorder,\n\teditorBackground,\n\tforeground,\n\tlistActiveSelectionBackground,\n\tlistActiveSelectionForeground,\n\tlistFocusBackground,\n\tlistFocusForeground,\n\tlistHoverBackground,\n\tlistHoverForeground,\n\tlistInactiveSelectionBackground,\n\tlistInactiveSelectionForeground,\n\tregisterColor,\n\ttableOddRowsBackgroundColor,\n} from \"../../../../platform/theme/common/colorRegistry.js\";\nimport {\n\ttype IColorTheme,\n\ttype ICssStyleCollector,\n\tIThemeService,\n\tregisterThemingParticipant,\n} from \"../../../../platform/theme/common/themeService.js\";\nimport { registerNavigableContainer } from \"../../../browser/actions/widgetNavigationCommands.js\";\nimport { EditorPane } from \"../../../browser/parts/editor/editorPane.js\";\nimport type { IEditorOpenContext } from \"../../../common/editor.js\";\nimport { WORKBENCH_BACKGROUND } from \"../../../common/theme.js\";\nimport type { IEditorGroup } from \"../../../services/editor/common/editorGroupsService.js\";\nimport { IEditorService } from \"../../../services/editor/common/editorService.js\";\nimport { IKeybindingEditingService } from \"../../../services/keybinding/common/keybindingEditing.js\";\nimport type { KeybindingsEditorInput } from \"../../../services/preferences/browser/keybindingsEditorInput.js\";\nimport {\n\tKEYBINDING_ENTRY_TEMPLATE_ID,\n\ttype KeybindingsEditorModel,\n} from \"../../../services/preferences/browser/keybindingsEditorModel.js\";\nimport type {\n\tIKeybindingItemEntry,\n\tIKeybindingsEditorPane,\n} from \"../../../services/preferences/common/preferences.js\";\nimport { AccessibilityVerbositySettingId } from \"../../accessibility/browser/accessibilityConfiguration.js\";\nimport { SuggestEnabledInput } from \"../../codeEditor/browser/suggestEnabledInput/suggestEnabledInput.js\";\nimport { IExtensionsWorkbenchService } from \"../../extensions/common/extensions.js\";\nimport {\n\tCONTEXT_KEYBINDINGS_EDITOR,\n\tCONTEXT_KEYBINDINGS_SEARCH_FOCUS,\n\tCONTEXT_KEYBINDING_FOCUS,\n\tCONTEXT_WHEN_FOCUS,\n\tKEYBINDINGS_EDITOR_COMMAND_ADD,\n\tKEYBINDINGS_EDITOR_COMMAND_CLEAR_SEARCH_RESULTS,\n\tKEYBINDINGS_EDITOR_COMMAND_COPY,\n\tKEYBINDINGS_EDITOR_COMMAND_COPY_COMMAND,\n\tKEYBINDINGS_EDITOR_COMMAND_COPY_COMMAND_TITLE,\n\tKEYBINDINGS_EDITOR_COMMAND_DEFINE,\n\tKEYBINDINGS_EDITOR_COMMAND_DEFINE_WHEN,\n\tKEYBINDINGS_EDITOR_COMMAND_RECORD_SEARCH_KEYS,\n\tKEYBINDINGS_EDITOR_COMMAND_REMOVE,\n\tKEYBINDINGS_EDITOR_COMMAND_RESET,\n\tKEYBINDINGS_EDITOR_COMMAND_SHOW_SIMILAR,\n\tKEYBINDINGS_EDITOR_COMMAND_SORTBY_PRECEDENCE,\n} from \"../common/preferences.js\";\nimport { settingsTextInputBorder } from \"../common/settingsEditorColorRegistry.js\";\nimport {\n\tDefineKeybindingWidget,\n\tKeybindingsSearchWidget,\n} from \"./keybindingWidgets.js\";\nimport {\n\tkeybindingsAddIcon,\n\tkeybindingsEditIcon,\n\tkeybindingsRecordKeysIcon,\n\tkeybindingsSortIcon,\n\tpreferencesClearInputIcon,\n} from \"./preferencesIcons.js\";\n\nconst $ = DOM.$;\n\nexport class KeybindingsEditor\n\textends EditorPane\n\timplements IKeybindingsEditorPane\n{\n\tstatic readonly ID: string = \"workbench.editor.keybindings\";\n\n\tprivate _onDefineWhenExpression: Emitter<IKeybindingItemEntry> =\n\t\tthis._register(new Emitter<IKeybindingItemEntry>());\n\treadonly onDefineWhenExpression: Event<IKeybindingItemEntry> =\n\t\tthis._onDefineWhenExpression.event;\n\n\tprivate _onRejectWhenExpression = this._register(\n\t\tnew Emitter<IKeybindingItemEntry>(),\n\t);\n\treadonly onRejectWhenExpression = this._onRejectWhenExpression.event;\n\n\tprivate _onAcceptWhenExpression = this._register(\n\t\tnew Emitter<IKeybindingItemEntry>(),\n\t);\n\treadonly onAcceptWhenExpression = this._onAcceptWhenExpression.event;\n\n\tprivate _onLayout: Emitter<void> = this._register(new Emitter<void>());\n\treadonly onLayout: Event<void> = this._onLayout.event;\n\n\tprivate keybindingsEditorModel: KeybindingsEditorModel | null = null;\n\n\tprivate headerContainer!: HTMLElement;\n\tprivate actionsContainer!: HTMLElement;\n\tprivate searchWidget!: KeybindingsSearchWidget;\n\tprivate searchHistoryDelayer: Delayer<void>;\n\n\tprivate overlayContainer!: HTMLElement;\n\tprivate defineKeybindingWidget!: DefineKeybindingWidget;\n\n\tprivate unAssignedKeybindingItemToRevealAndFocus: IKeybindingItemEntry | null =\n\t\tnull;\n\tprivate tableEntries: IKeybindingItemEntry[] = [];\n\tprivate keybindingsTableContainer!: HTMLElement;\n\tprivate keybindingsTable!: WorkbenchTable<IKeybindingItemEntry>;\n\n\tprivate dimension: DOM.Dimension | null = null;\n\tprivate delayedFiltering: Delayer<void>;\n\tprivate latestEmptyFilters: string[] = [];\n\tprivate keybindingsEditorContextKey: IContextKey<boolean>;\n\tprivate keybindingFocusContextKey: IContextKey<boolean>;\n\tprivate searchFocusContextKey: IContextKey<boolean>;\n\n\tprivate readonly sortByPrecedenceAction: Action;\n\tprivate readonly recordKeysAction: Action;\n\n\tprivate ariaLabelElement!: HTMLElement;\n\treadonly overflowWidgetsDomNode: HTMLElement;\n\n\tconstructor(\n\t\tgroup: IEditorGroup,\n\t\t@ITelemetryService telemetryService: ITelemetryService,\n\t\t@IThemeService themeService: IThemeService,\n\t\t@IKeybindingService private readonly keybindingsService: IKeybindingService,\n\t\t@IContextMenuService private readonly contextMenuService: IContextMenuService,\n\t\t@IKeybindingEditingService private readonly keybindingEditingService: IKeybindingEditingService,\n\t\t@IContextKeyService private readonly contextKeyService: IContextKeyService,\n\t\t@INotificationService private readonly notificationService: INotificationService,\n\t\t@IClipboardService private readonly clipboardService: IClipboardService,\n\t\t@IInstantiationService private readonly instantiationService: IInstantiationService,\n\t\t@IEditorService private readonly editorService: IEditorService,\n\t\t@IStorageService storageService: IStorageService,\n\t\t@IConfigurationService private readonly configurationService: IConfigurationService,\n\t\t@IAccessibilityService private readonly accessibilityService: IAccessibilityService\n\t) {\n\t\tsuper(KeybindingsEditor.ID, group, telemetryService, themeService, storageService);\n\t\tthis.delayedFiltering = new Delayer<void>(300);\n\t\tthis._register(keybindingsService.onDidUpdateKeybindings(() => this.render(!!this.keybindingFocusContextKey.get())));\n\n\t\tthis.keybindingsEditorContextKey = CONTEXT_KEYBINDINGS_EDITOR.bindTo(this.contextKeyService);\n\t\tthis.searchFocusContextKey = CONTEXT_KEYBINDINGS_SEARCH_FOCUS.bindTo(this.contextKeyService);\n\t\tthis.keybindingFocusContextKey = CONTEXT_KEYBINDING_FOCUS.bindTo(this.contextKeyService);\n\t\tthis.searchHistoryDelayer = new Delayer<void>(500);\n\n\t\tthis.recordKeysAction = new Action(KEYBINDINGS_EDITOR_COMMAND_RECORD_SEARCH_KEYS, localize('recordKeysLabel', \"Record Keys\"), ThemeIcon.asClassName(keybindingsRecordKeysIcon));\n\t\tthis.recordKeysAction.checked = false;\n\n\t\tthis.sortByPrecedenceAction = new Action(KEYBINDINGS_EDITOR_COMMAND_SORTBY_PRECEDENCE, localize('sortByPrecedeneLabel', \"Sort by Precedence (Highest first)\"), ThemeIcon.asClassName(keybindingsSortIcon));\n\t\tthis.sortByPrecedenceAction.checked = false;\n\t\tthis.overflowWidgetsDomNode = $('.keybindings-overflow-widgets-container.monaco-editor');\n\t}\n\n\toverride create(parent: HTMLElement): void {\n\t\tsuper.create(parent);\n\t\tthis._register(\n\t\t\tregisterNavigableContainer({\n\t\t\t\tname: \"keybindingsEditor\",\n\t\t\t\tfocusNotifiers: [this],\n\t\t\t\tfocusNextWidget: () => {\n\t\t\t\t\tif (this.searchWidget.hasFocus()) {\n\t\t\t\t\t\tthis.focusKeybindings();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfocusPreviousWidget: () => {\n\t\t\t\t\tif (!this.searchWidget.hasFocus()) {\n\t\t\t\t\t\tthis.focusSearch();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t}),\n\t\t);\n\t}\n\n\tprotected createEditor(parent: HTMLElement): void {\n\t\tconst keybindingsEditorElement = DOM.append(\n\t\t\tparent,\n\t\t\t$(\"div\", { class: \"keybindings-editor\" }),\n\t\t);\n\n\t\tthis.createAriaLabelElement(keybindingsEditorElement);\n\t\tthis.createOverlayContainer(keybindingsEditorElement);\n\t\tthis.createHeader(keybindingsEditorElement);\n\t\tthis.createBody(keybindingsEditorElement);\n\t}\n\n\toverride setInput(\n\t\tinput: KeybindingsEditorInput,\n\t\toptions: IEditorOptions | undefined,\n\t\tcontext: IEditorOpenContext,\n\t\ttoken: CancellationToken,\n\t): Promise<void> {\n\t\tthis.keybindingsEditorContextKey.set(true);\n\t\treturn super\n\t\t\t.setInput(input, options, context, token)\n\t\t\t.then(() => this.render(!!(options && options.preserveFocus)));\n\t}\n\n\toverride clearInput(): void {\n\t\tsuper.clearInput();\n\t\tthis.keybindingsEditorContextKey.reset();\n\t\tthis.keybindingFocusContextKey.reset();\n\t}\n\n\tlayout(dimension: DOM.Dimension): void {\n\t\tthis.dimension = dimension;\n\t\tthis.layoutSearchWidget(dimension);\n\n\t\tthis.overlayContainer.style.width = dimension.width + \"px\";\n\t\tthis.overlayContainer.style.height = dimension.height + \"px\";\n\t\tthis.defineKeybindingWidget.layout(this.dimension);\n\n\t\tthis.layoutKeybindingsTable();\n\t\tthis._onLayout.fire();\n\t}\n\n\toverride focus(): void {\n\t\tsuper.focus();\n\n\t\tconst activeKeybindingEntry = this.activeKeybindingEntry;\n\t\tif (activeKeybindingEntry) {\n\t\t\tthis.selectEntry(activeKeybindingEntry);\n\t\t} else if (!isIOS) {\n\t\t\tthis.searchWidget.focus();\n\t\t}\n\t}\n\n\tget activeKeybindingEntry(): IKeybindingItemEntry | null {\n\t\tconst focusedElement = this.keybindingsTable.getFocusedElements()[0];\n\t\treturn focusedElement &&\n\t\t\tfocusedElement.templateId === KEYBINDING_ENTRY_TEMPLATE_ID\n\t\t\t? <IKeybindingItemEntry>focusedElement\n\t\t\t: null;\n\t}\n\n\tasync defineKeybinding(\n\t\tkeybindingEntry: IKeybindingItemEntry,\n\t\tadd: boolean,\n\t): Promise<void> {\n\t\tthis.selectEntry(keybindingEntry);\n\t\tthis.showOverlayContainer();\n\t\ttry {\n\t\t\tconst key = await this.defineKeybindingWidget.define();\n\t\t\tif (key) {\n\t\t\t\tawait this.updateKeybinding(\n\t\t\t\t\tkeybindingEntry,\n\t\t\t\t\tkey,\n\t\t\t\t\tkeybindingEntry.keybindingItem.when,\n\t\t\t\t\tadd,\n\t\t\t\t);\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tthis.onKeybindingEditingError(error);\n\t\t} finally {\n\t\t\tthis.hideOverlayContainer();\n\t\t\tthis.selectEntry(keybindingEntry);\n\t\t}\n\t}\n\n\tdefineWhenExpression(keybindingEntry: IKeybindingItemEntry): void {\n\t\tif (keybindingEntry.keybindingItem.keybinding) {\n\t\t\tthis.selectEntry(keybindingEntry);\n\t\t\tthis._onDefineWhenExpression.fire(keybindingEntry);\n\t\t}\n\t}\n\n\trejectWhenExpression(keybindingEntry: IKeybindingItemEntry): void {\n\t\tthis._onRejectWhenExpression.fire(keybindingEntry);\n\t}\n\n\tacceptWhenExpression(keybindingEntry: IKeybindingItemEntry): void {\n\t\tthis._onAcceptWhenExpression.fire(keybindingEntry);\n\t}\n\n\tasync updateKeybinding(\n\t\tkeybindingEntry: IKeybindingItemEntry,\n\t\tkey: string,\n\t\twhen: string | undefined,\n\t\tadd?: boolean,\n\t): Promise<void> {\n\t\tconst currentKey = keybindingEntry.keybindingItem.keybinding\n\t\t\t? keybindingEntry.keybindingItem.keybinding.getUserSettingsLabel()\n\t\t\t: \"\";\n\t\tif (\n\t\t\tcurrentKey !== key ||\n\t\t\tkeybindingEntry.keybindingItem.when !== when\n\t\t) {\n\t\t\tif (add) {\n\t\t\t\tawait this.keybindingEditingService.addKeybinding(\n\t\t\t\t\tkeybindingEntry.keybindingItem.keybindingItem,\n\t\t\t\t\tkey,\n\t\t\t\t\twhen || undefined,\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tawait this.keybindingEditingService.editKeybinding(\n\t\t\t\t\tkeybindingEntry.keybindingItem.keybindingItem,\n\t\t\t\t\tkey,\n\t\t\t\t\twhen || undefined,\n\t\t\t\t);\n\t\t\t}\n\t\t\tif (!keybindingEntry.keybindingItem.keybinding) {\n\t\t\t\t// reveal only if keybinding was added to unassinged. Because the entry will be placed in different position after rendering\n\t\t\t\tthis.unAssignedKeybindingItemToRevealAndFocus = keybindingEntry;\n\t\t\t}\n\t\t}\n\t}\n\n\tasync removeKeybinding(\n\t\tkeybindingEntry: IKeybindingItemEntry,\n\t): Promise<void> {\n\t\tthis.selectEntry(keybindingEntry);\n\t\tif (keybindingEntry.keybindingItem.keybinding) {\n\t\t\t// This should be a pre-condition\n\t\t\ttry {\n\t\t\t\tawait this.keybindingEditingService.removeKeybinding(\n\t\t\t\t\tkeybindingEntry.keybindingItem.keybindingItem,\n\t\t\t\t);\n\t\t\t\tthis.focus();\n\t\t\t} catch (error) {\n\t\t\t\tthis.onKeybindingEditingError(error);\n\t\t\t\tthis.selectEntry(keybindingEntry);\n\t\t\t}\n\t\t}\n\t}\n\n\tasync resetKeybinding(\n\t\tkeybindingEntry: IKeybindingItemEntry,\n\t): Promise<void> {\n\t\tthis.selectEntry(keybindingEntry);\n\t\ttry {\n\t\t\tawait this.keybindingEditingService.resetKeybinding(\n\t\t\t\tkeybindingEntry.keybindingItem.keybindingItem,\n\t\t\t);\n\t\t\tif (!keybindingEntry.keybindingItem.keybinding) {\n\t\t\t\t// reveal only if keybinding was added to unassinged. Because the entry will be placed in different position after rendering\n\t\t\t\tthis.unAssignedKeybindingItemToRevealAndFocus = keybindingEntry;\n\t\t\t}\n\t\t\tthis.selectEntry(keybindingEntry);\n\t\t} catch (error) {\n\t\t\tthis.onKeybindingEditingError(error);\n\t\t\tthis.selectEntry(keybindingEntry);\n\t\t}\n\t}\n\n\tasync copyKeybinding(keybinding: IKeybindingItemEntry): Promise<void> {\n\t\tthis.selectEntry(keybinding);\n\t\tconst userFriendlyKeybinding: IUserFriendlyKeybinding = {\n\t\t\tkey: keybinding.keybindingItem.keybinding\n\t\t\t\t? keybinding.keybindingItem.keybinding.getUserSettingsLabel() ||\n\t\t\t\t\t\"\"\n\t\t\t\t: \"\",\n\t\t\tcommand: keybinding.keybindingItem.command,\n\t\t};\n\t\tif (keybinding.keybindingItem.when) {\n\t\t\tuserFriendlyKeybinding.when = keybinding.keybindingItem.when;\n\t\t}\n\t\tawait this.clipboardService.writeText(\n\t\t\tJSON.stringify(userFriendlyKeybinding, null, \"  \"),\n\t\t);\n\t}\n\n\tasync copyKeybindingCommand(\n\t\tkeybinding: IKeybindingItemEntry,\n\t): Promise<void> {\n\t\tthis.selectEntry(keybinding);\n\t\tawait this.clipboardService.writeText(\n\t\t\tkeybinding.keybindingItem.command,\n\t\t);\n\t}\n\n\tasync copyKeybindingCommandTitle(\n\t\tkeybinding: IKeybindingItemEntry,\n\t): Promise<void> {\n\t\tthis.selectEntry(keybinding);\n\t\tawait this.clipboardService.writeText(\n\t\t\tkeybinding.keybindingItem.commandLabel,\n\t\t);\n\t}\n\n\tfocusSearch(): void {\n\t\tthis.searchWidget.focus();\n\t}\n\n\tsearch(filter: string): void {\n\t\tthis.focusSearch();\n\t\tthis.searchWidget.setValue(filter);\n\t\tthis.selectEntry(0);\n\t}\n\n\tclearSearchResults(): void {\n\t\tthis.searchWidget.clear();\n\t}\n\n\tshowSimilarKeybindings(keybindingEntry: IKeybindingItemEntry): void {\n\t\tconst value = `\"${keybindingEntry.keybindingItem.keybinding.getAriaLabel()}\"`;\n\t\tif (value !== this.searchWidget.getValue()) {\n\t\t\tthis.searchWidget.setValue(value);\n\t\t}\n\t}\n\n\tprivate createAriaLabelElement(parent: HTMLElement): void {\n\t\tthis.ariaLabelElement = DOM.append(parent, DOM.$(\"\"));\n\t\tthis.ariaLabelElement.setAttribute(\n\t\t\t\"id\",\n\t\t\t\"keybindings-editor-aria-label-element\",\n\t\t);\n\t\tthis.ariaLabelElement.setAttribute(\"aria-live\", \"assertive\");\n\t}\n\n\tprivate createOverlayContainer(parent: HTMLElement): void {\n\t\tthis.overlayContainer = DOM.append(parent, $(\".overlay-container\"));\n\t\tthis.overlayContainer.style.position = \"absolute\";\n\t\tthis.overlayContainer.style.zIndex = \"40\"; // has to greater than sash z-index which is 35\n\t\tthis.defineKeybindingWidget = this._register(\n\t\t\tthis.instantiationService.createInstance(\n\t\t\t\tDefineKeybindingWidget,\n\t\t\t\tthis.overlayContainer,\n\t\t\t),\n\t\t);\n\t\tthis._register(\n\t\t\tthis.defineKeybindingWidget.onDidChange((keybindingStr) =>\n\t\t\t\tthis.defineKeybindingWidget.printExisting(\n\t\t\t\t\tthis.keybindingsEditorModel!.fetch(`\"${keybindingStr}\"`)\n\t\t\t\t\t\t.length,\n\t\t\t\t),\n\t\t\t),\n\t\t);\n\t\tthis._register(\n\t\t\tthis.defineKeybindingWidget.onShowExistingKeybidings(\n\t\t\t\t(keybindingStr) =>\n\t\t\t\t\tthis.searchWidget.setValue(`\"${keybindingStr}\"`),\n\t\t\t),\n\t\t);\n\t\tthis.hideOverlayContainer();\n\t}\n\n\tprivate showOverlayContainer() {\n\t\tthis.overlayContainer.style.display = \"block\";\n\t}\n\n\tprivate hideOverlayContainer() {\n\t\tthis.overlayContainer.style.display = \"none\";\n\t}\n\n\tprivate createHeader(parent: HTMLElement): void {\n\t\tthis.headerContainer = DOM.append(parent, $(\".keybindings-header\"));\n\t\tconst fullTextSearchPlaceholder = localize(\n\t\t\t\"SearchKeybindings.FullTextSearchPlaceholder\",\n\t\t\t\"Type to search in keybindings\",\n\t\t);\n\t\tconst keybindingsSearchPlaceholder = localize(\n\t\t\t\"SearchKeybindings.KeybindingsSearchPlaceholder\",\n\t\t\t\"Recording Keys. Press Escape to exit\",\n\t\t);\n\n\t\tconst clearInputAction = new Action(\n\t\t\tKEYBINDINGS_EDITOR_COMMAND_CLEAR_SEARCH_RESULTS,\n\t\t\tlocalize(\"clearInput\", \"Clear Keybindings Search Input\"),\n\t\t\tThemeIcon.asClassName(preferencesClearInputIcon),\n\t\t\tfalse,\n\t\t\tasync () => this.clearSearchResults(),\n\t\t);\n\n\t\tconst searchContainer = DOM.append(\n\t\t\tthis.headerContainer,\n\t\t\t$(\".search-container\"),\n\t\t);\n\t\tthis.searchWidget = this._register(\n\t\t\tthis.instantiationService.createInstance(\n\t\t\t\tKeybindingsSearchWidget,\n\t\t\t\tsearchContainer,\n\t\t\t\t{\n\t\t\t\t\tariaLabel: fullTextSearchPlaceholder,\n\t\t\t\t\tplaceholder: fullTextSearchPlaceholder,\n\t\t\t\t\tfocusKey: this.searchFocusContextKey,\n\t\t\t\t\tariaLabelledBy: \"keybindings-editor-aria-label-element\",\n\t\t\t\t\trecordEnter: true,\n\t\t\t\t\tquoteRecordedKeys: true,\n\t\t\t\t\thistory:\n\t\t\t\t\t\tthis.getMemento(\n\t\t\t\t\t\t\tStorageScope.PROFILE,\n\t\t\t\t\t\t\tStorageTarget.USER,\n\t\t\t\t\t\t)[\"searchHistory\"] || [],\n\t\t\t\t\tinputBoxStyles: getInputBoxStyle({\n\t\t\t\t\t\tinputBorder: settingsTextInputBorder,\n\t\t\t\t\t}),\n\t\t\t\t},\n\t\t\t),\n\t\t);\n\t\tthis._register(\n\t\t\tthis.searchWidget.onDidChange((searchValue) => {\n\t\t\t\tclearInputAction.enabled = !!searchValue;\n\t\t\t\tthis.delayedFiltering.trigger(() => this.filterKeybindings());\n\t\t\t\tthis.updateSearchOptions();\n\t\t\t}),\n\t\t);\n\t\tthis._register(\n\t\t\tthis.searchWidget.onEscape(\n\t\t\t\t() => (this.recordKeysAction.checked = false),\n\t\t\t),\n\t\t);\n\n\t\tthis.actionsContainer = DOM.append(\n\t\t\tsearchContainer,\n\t\t\tDOM.$(\".keybindings-search-actions-container\"),\n\t\t);\n\t\tconst recordingBadge = this.createRecordingBadge(this.actionsContainer);\n\n\t\tthis._register(\n\t\t\tthis.sortByPrecedenceAction.onDidChange((e) => {\n\t\t\t\tif (e.checked !== undefined) {\n\t\t\t\t\tthis.renderKeybindingsEntries(false);\n\t\t\t\t}\n\t\t\t\tthis.updateSearchOptions();\n\t\t\t}),\n\t\t);\n\n\t\tthis._register(\n\t\t\tthis.recordKeysAction.onDidChange((e) => {\n\t\t\t\tif (e.checked !== undefined) {\n\t\t\t\t\trecordingBadge.classList.toggle(\"disabled\", !e.checked);\n\t\t\t\t\tif (e.checked) {\n\t\t\t\t\t\tthis.searchWidget.inputBox.setPlaceHolder(\n\t\t\t\t\t\t\tkeybindingsSearchPlaceholder,\n\t\t\t\t\t\t);\n\t\t\t\t\t\tthis.searchWidget.inputBox.setAriaLabel(\n\t\t\t\t\t\t\tkeybindingsSearchPlaceholder,\n\t\t\t\t\t\t);\n\t\t\t\t\t\tthis.searchWidget.startRecordingKeys();\n\t\t\t\t\t\tthis.searchWidget.focus();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.searchWidget.inputBox.setPlaceHolder(\n\t\t\t\t\t\t\tfullTextSearchPlaceholder,\n\t\t\t\t\t\t);\n\t\t\t\t\t\tthis.searchWidget.inputBox.setAriaLabel(\n\t\t\t\t\t\t\tfullTextSearchPlaceholder,\n\t\t\t\t\t\t);\n\t\t\t\t\t\tthis.searchWidget.stopRecordingKeys();\n\t\t\t\t\t\tthis.searchWidget.focus();\n\t\t\t\t\t}\n\t\t\t\t\tthis.updateSearchOptions();\n\t\t\t\t}\n\t\t\t}),\n\t\t);\n\n\t\tconst actions = [\n\t\t\tthis.recordKeysAction,\n\t\t\tthis.sortByPrecedenceAction,\n\t\t\tclearInputAction,\n\t\t];\n\t\tconst toolBar = this._register(\n\t\t\tnew ToolBar(this.actionsContainer, this.contextMenuService, {\n\t\t\t\tactionViewItemProvider: (\n\t\t\t\t\taction: IAction,\n\t\t\t\t\toptions: IActionViewItemOptions,\n\t\t\t\t) => {\n\t\t\t\t\tif (\n\t\t\t\t\t\taction.id === this.sortByPrecedenceAction.id ||\n\t\t\t\t\t\taction.id === this.recordKeysAction.id\n\t\t\t\t\t) {\n\t\t\t\t\t\treturn new ToggleActionViewItem(null, action, {\n\t\t\t\t\t\t\t...options,\n\t\t\t\t\t\t\tkeybinding: this.keybindingsService\n\t\t\t\t\t\t\t\t.lookupKeybinding(action.id)\n\t\t\t\t\t\t\t\t?.getLabel(),\n\t\t\t\t\t\t\ttoggleStyles: defaultToggleStyles,\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\treturn undefined;\n\t\t\t\t},\n\t\t\t\tgetKeyBinding: (action) =>\n\t\t\t\t\tthis.keybindingsService.lookupKeybinding(action.id),\n\t\t\t}),\n\t\t);\n\t\ttoolBar.setActions(actions);\n\t\tthis._register(\n\t\t\tthis.keybindingsService.onDidUpdateKeybindings(() =>\n\t\t\t\ttoolBar.setActions(actions),\n\t\t\t),\n\t\t);\n\t}\n\n\tprivate updateSearchOptions(): void {\n\t\tconst keybindingsEditorInput = this.input as KeybindingsEditorInput;\n\t\tif (keybindingsEditorInput) {\n\t\t\tkeybindingsEditorInput.searchOptions = {\n\t\t\t\tsearchValue: this.searchWidget.getValue(),\n\t\t\t\trecordKeybindings: !!this.recordKeysAction.checked,\n\t\t\t\tsortByPrecedence: !!this.sortByPrecedenceAction.checked,\n\t\t\t};\n\t\t}\n\t}\n\n\tprivate createRecordingBadge(container: HTMLElement): HTMLElement {\n\t\tconst recordingBadge = DOM.append(\n\t\t\tcontainer,\n\t\t\tDOM.$(\".recording-badge.monaco-count-badge.long.disabled\"),\n\t\t);\n\t\trecordingBadge.textContent = localize(\"recording\", \"Recording Keys\");\n\n\t\trecordingBadge.style.backgroundColor = asCssVariable(badgeBackground);\n\t\trecordingBadge.style.color = asCssVariable(badgeForeground);\n\t\trecordingBadge.style.border = `1px solid ${asCssVariable(contrastBorder)}`;\n\n\t\treturn recordingBadge;\n\t}\n\n\tprivate layoutSearchWidget(dimension: DOM.Dimension): void {\n\t\tthis.searchWidget.layout(dimension);\n\t\tthis.headerContainer.classList.toggle(\"small\", dimension.width < 400);\n\t\tthis.searchWidget.inputBox.inputElement.style.paddingRight = `${DOM.getTotalWidth(this.actionsContainer) + 12}px`;\n\t}\n\n\tprivate createBody(parent: HTMLElement): void {\n\t\tconst bodyContainer = DOM.append(parent, $(\".keybindings-body\"));\n\t\tthis.createTable(bodyContainer);\n\t}\n\n\tprivate createTable(parent: HTMLElement): void {\n\t\tthis.keybindingsTableContainer = DOM.append(\n\t\t\tparent,\n\t\t\t$(\".keybindings-table-container\"),\n\t\t);\n\t\tthis.keybindingsTable = this._register(\n\t\t\tthis.instantiationService.createInstance(\n\t\t\t\tWorkbenchTable,\n\t\t\t\t\"KeybindingsEditor\",\n\t\t\t\tthis.keybindingsTableContainer,\n\t\t\t\tnew Delegate(),\n\t\t\t\t[\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: \"\",\n\t\t\t\t\t\ttooltip: \"\",\n\t\t\t\t\t\tweight: 0,\n\t\t\t\t\t\tminimumWidth: 40,\n\t\t\t\t\t\tmaximumWidth: 40,\n\t\t\t\t\t\ttemplateId: ActionsColumnRenderer.TEMPLATE_ID,\n\t\t\t\t\t\tproject(\n\t\t\t\t\t\t\trow: IKeybindingItemEntry,\n\t\t\t\t\t\t): IKeybindingItemEntry {\n\t\t\t\t\t\t\treturn row;\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: localize(\"command\", \"Command\"),\n\t\t\t\t\t\ttooltip: \"\",\n\t\t\t\t\t\tweight: 0.3,\n\t\t\t\t\t\ttemplateId: CommandColumnRenderer.TEMPLATE_ID,\n\t\t\t\t\t\tproject(\n\t\t\t\t\t\t\trow: IKeybindingItemEntry,\n\t\t\t\t\t\t): IKeybindingItemEntry {\n\t\t\t\t\t\t\treturn row;\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: localize(\"keybinding\", \"Keybinding\"),\n\t\t\t\t\t\ttooltip: \"\",\n\t\t\t\t\t\tweight: 0.2,\n\t\t\t\t\t\ttemplateId: KeybindingColumnRenderer.TEMPLATE_ID,\n\t\t\t\t\t\tproject(\n\t\t\t\t\t\t\trow: IKeybindingItemEntry,\n\t\t\t\t\t\t): IKeybindingItemEntry {\n\t\t\t\t\t\t\treturn row;\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: localize(\"when\", \"When\"),\n\t\t\t\t\t\ttooltip: \"\",\n\t\t\t\t\t\tweight: 0.35,\n\t\t\t\t\t\ttemplateId: WhenColumnRenderer.TEMPLATE_ID,\n\t\t\t\t\t\tproject(\n\t\t\t\t\t\t\trow: IKeybindingItemEntry,\n\t\t\t\t\t\t): IKeybindingItemEntry {\n\t\t\t\t\t\t\treturn row;\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: localize(\"source\", \"Source\"),\n\t\t\t\t\t\ttooltip: \"\",\n\t\t\t\t\t\tweight: 0.15,\n\t\t\t\t\t\ttemplateId: SourceColumnRenderer.TEMPLATE_ID,\n\t\t\t\t\t\tproject(\n\t\t\t\t\t\t\trow: IKeybindingItemEntry,\n\t\t\t\t\t\t): IKeybindingItemEntry {\n\t\t\t\t\t\t\treturn row;\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\tthis.instantiationService.createInstance(\n\t\t\t\t\t\tActionsColumnRenderer,\n\t\t\t\t\t\tthis,\n\t\t\t\t\t),\n\t\t\t\t\tthis.instantiationService.createInstance(\n\t\t\t\t\t\tCommandColumnRenderer,\n\t\t\t\t\t),\n\t\t\t\t\tthis.instantiationService.createInstance(\n\t\t\t\t\t\tKeybindingColumnRenderer,\n\t\t\t\t\t),\n\t\t\t\t\tthis.instantiationService.createInstance(\n\t\t\t\t\t\tWhenColumnRenderer,\n\t\t\t\t\t\tthis,\n\t\t\t\t\t),\n\t\t\t\t\tthis.instantiationService.createInstance(\n\t\t\t\t\t\tSourceColumnRenderer,\n\t\t\t\t\t),\n\t\t\t\t],\n\t\t\t\t{\n\t\t\t\t\tidentityProvider: {\n\t\t\t\t\t\tgetId: (e: IKeybindingItemEntry) => e.id,\n\t\t\t\t\t},\n\t\t\t\t\thorizontalScrolling: false,\n\t\t\t\t\taccessibilityProvider: new AccessibilityProvider(\n\t\t\t\t\t\tthis.configurationService,\n\t\t\t\t\t),\n\t\t\t\t\tkeyboardNavigationLabelProvider: {\n\t\t\t\t\t\tgetKeyboardNavigationLabel: (e: IKeybindingItemEntry) =>\n\t\t\t\t\t\t\te.keybindingItem.commandLabel ||\n\t\t\t\t\t\t\te.keybindingItem.command,\n\t\t\t\t\t},\n\t\t\t\t\toverrideStyles: {\n\t\t\t\t\t\tlistBackground: editorBackground,\n\t\t\t\t\t},\n\t\t\t\t\tmultipleSelectionSupport: false,\n\t\t\t\t\tsetRowLineHeight: false,\n\t\t\t\t\topenOnSingleClick: false,\n\t\t\t\t\ttransformOptimization: false, // disable transform optimization as it causes the editor overflow widgets to be mispositioned\n\t\t\t\t},\n\t\t\t),\n\t\t) as WorkbenchTable<IKeybindingItemEntry>;\n\n\t\tthis._register(\n\t\t\tthis.keybindingsTable.onContextMenu((e) => this.onContextMenu(e)),\n\t\t);\n\t\tthis._register(\n\t\t\tthis.keybindingsTable.onDidChangeFocus((e) => this.onFocusChange()),\n\t\t);\n\t\tthis._register(\n\t\t\tthis.keybindingsTable.onDidFocus(() => {\n\t\t\t\tthis.keybindingsTable.getHTMLElement().classList.add(\"focused\");\n\t\t\t\tthis.onFocusChange();\n\t\t\t}),\n\t\t);\n\t\tthis._register(\n\t\t\tthis.keybindingsTable.onDidBlur(() => {\n\t\t\t\tthis.keybindingsTable\n\t\t\t\t\t.getHTMLElement()\n\t\t\t\t\t.classList.remove(\"focused\");\n\t\t\t\tthis.keybindingFocusContextKey.reset();\n\t\t\t}),\n\t\t);\n\t\tthis._register(\n\t\t\tthis.keybindingsTable.onDidOpen((e) => {\n\t\t\t\t// stop double click action on the input #148493\n\t\t\t\tif (e.browserEvent?.defaultPrevented) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconst activeKeybindingEntry = this.activeKeybindingEntry;\n\t\t\t\tif (activeKeybindingEntry) {\n\t\t\t\t\tthis.defineKeybinding(activeKeybindingEntry, false);\n\t\t\t\t}\n\t\t\t}),\n\t\t);\n\n\t\tDOM.append(this.keybindingsTableContainer, this.overflowWidgetsDomNode);\n\t}\n\n\tprivate async render(preserveFocus: boolean): Promise<void> {\n\t\tif (this.input) {\n\t\t\tconst input: KeybindingsEditorInput = this\n\t\t\t\t.input as KeybindingsEditorInput;\n\t\t\tthis.keybindingsEditorModel = await input.resolve();\n\t\t\tawait this.keybindingsEditorModel.resolve(this.getActionsLabels());\n\t\t\tthis.renderKeybindingsEntries(false, preserveFocus);\n\t\t\tif (input.searchOptions) {\n\t\t\t\tthis.recordKeysAction.checked =\n\t\t\t\t\tinput.searchOptions.recordKeybindings;\n\t\t\t\tthis.sortByPrecedenceAction.checked =\n\t\t\t\t\tinput.searchOptions.sortByPrecedence;\n\t\t\t\tthis.searchWidget.setValue(input.searchOptions.searchValue);\n\t\t\t} else {\n\t\t\t\tthis.updateSearchOptions();\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate getActionsLabels(): Map<string, string> {\n\t\tconst actionsLabels: Map<string, string> = new Map<string, string>();\n\t\tfor (const editorAction of EditorExtensionsRegistry.getEditorActions()) {\n\t\t\tactionsLabels.set(editorAction.id, editorAction.label);\n\t\t}\n\t\tfor (const menuItem of MenuRegistry.getMenuItems(\n\t\t\tMenuId.CommandPalette,\n\t\t)) {\n\t\t\tif (isIMenuItem(menuItem)) {\n\t\t\t\tconst title =\n\t\t\t\t\ttypeof menuItem.command.title === \"string\"\n\t\t\t\t\t\t? menuItem.command.title\n\t\t\t\t\t\t: menuItem.command.title.value;\n\t\t\t\tconst category = menuItem.command.category\n\t\t\t\t\t? typeof menuItem.command.category === \"string\"\n\t\t\t\t\t\t? menuItem.command.category\n\t\t\t\t\t\t: menuItem.command.category.value\n\t\t\t\t\t: undefined;\n\t\t\t\tactionsLabels.set(\n\t\t\t\t\tmenuItem.command.id,\n\t\t\t\t\tcategory ? `${category}: ${title}` : title,\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t\treturn actionsLabels;\n\t}\n\n\tprivate filterKeybindings(): void {\n\t\tthis.renderKeybindingsEntries(this.searchWidget.hasFocus());\n\t\tthis.searchHistoryDelayer.trigger(() => {\n\t\t\tthis.searchWidget.inputBox.addToHistory();\n\t\t\tthis.getMemento(StorageScope.PROFILE, StorageTarget.USER)[\n\t\t\t\t\"searchHistory\"\n\t\t\t] = this.searchWidget.inputBox.getHistory();\n\t\t\tthis.saveState();\n\t\t});\n\t}\n\n\tpublic clearKeyboardShortcutSearchHistory(): void {\n\t\tthis.searchWidget.inputBox.clearHistory();\n\t\tthis.getMemento(StorageScope.PROFILE, StorageTarget.USER)[\n\t\t\t\"searchHistory\"\n\t\t] = this.searchWidget.inputBox.getHistory();\n\t\tthis.saveState();\n\t}\n\n\tprivate renderKeybindingsEntries(\n\t\treset: boolean,\n\t\tpreserveFocus?: boolean,\n\t): void {\n\t\tif (this.keybindingsEditorModel) {\n\t\t\tconst filter = this.searchWidget.getValue();\n\t\t\tconst keybindingsEntries: IKeybindingItemEntry[] =\n\t\t\t\tthis.keybindingsEditorModel.fetch(\n\t\t\t\t\tfilter,\n\t\t\t\t\tthis.sortByPrecedenceAction.checked,\n\t\t\t\t);\n\t\t\tthis.accessibilityService.alert(\n\t\t\t\tlocalize(\n\t\t\t\t\t\"foundResults\",\n\t\t\t\t\t\"{0} results\",\n\t\t\t\t\tkeybindingsEntries.length,\n\t\t\t\t),\n\t\t\t);\n\t\t\tthis.ariaLabelElement.setAttribute(\n\t\t\t\t\"aria-label\",\n\t\t\t\tthis.getAriaLabel(keybindingsEntries),\n\t\t\t);\n\n\t\t\tif (keybindingsEntries.length === 0) {\n\t\t\t\tthis.latestEmptyFilters.push(filter);\n\t\t\t}\n\t\t\tconst currentSelectedIndex =\n\t\t\t\tthis.keybindingsTable.getSelection()[0];\n\t\t\tthis.tableEntries = keybindingsEntries;\n\t\t\tthis.keybindingsTable.splice(\n\t\t\t\t0,\n\t\t\t\tthis.keybindingsTable.length,\n\t\t\t\tthis.tableEntries,\n\t\t\t);\n\t\t\tthis.layoutKeybindingsTable();\n\n\t\t\tif (reset) {\n\t\t\t\tthis.keybindingsTable.setSelection([]);\n\t\t\t\tthis.keybindingsTable.setFocus([]);\n\t\t\t} else if (this.unAssignedKeybindingItemToRevealAndFocus) {\n\t\t\t\tconst index = this.getNewIndexOfUnassignedKeybinding(\n\t\t\t\t\tthis.unAssignedKeybindingItemToRevealAndFocus,\n\t\t\t\t);\n\t\t\t\tif (index !== -1) {\n\t\t\t\t\tthis.keybindingsTable.reveal(index, 0.2);\n\t\t\t\t\tthis.selectEntry(index);\n\t\t\t\t}\n\t\t\t\tthis.unAssignedKeybindingItemToRevealAndFocus = null;\n\t\t\t} else if (\n\t\t\t\tcurrentSelectedIndex !== -1 &&\n\t\t\t\tcurrentSelectedIndex < this.tableEntries.length\n\t\t\t) {\n\t\t\t\tthis.selectEntry(currentSelectedIndex, preserveFocus);\n\t\t\t} else if (\n\t\t\t\tthis.editorService.activeEditorPane === this &&\n\t\t\t\t!preserveFocus\n\t\t\t) {\n\t\t\t\tthis.focus();\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate getAriaLabel(keybindingsEntries: IKeybindingItemEntry[]): string {\n\t\tif (this.sortByPrecedenceAction.checked) {\n\t\t\treturn localize(\n\t\t\t\t\"show sorted keybindings\",\n\t\t\t\t\"Showing {0} Keybindings in precedence order\",\n\t\t\t\tkeybindingsEntries.length,\n\t\t\t);\n\t\t} else {\n\t\t\treturn localize(\n\t\t\t\t\"show keybindings\",\n\t\t\t\t\"Showing {0} Keybindings in alphabetical order\",\n\t\t\t\tkeybindingsEntries.length,\n\t\t\t);\n\t\t}\n\t}\n\n\tprivate layoutKeybindingsTable(): void {\n\t\tif (!this.dimension) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst tableHeight =\n\t\t\tthis.dimension.height -\n\t\t\t(DOM.getDomNodePagePosition(this.headerContainer).height +\n\t\t\t\t12) /*padding*/;\n\t\tthis.keybindingsTableContainer.style.height = `${tableHeight}px`;\n\t\tthis.keybindingsTable.layout(tableHeight);\n\t}\n\n\tprivate getIndexOf(listEntry: IKeybindingItemEntry): number {\n\t\tconst index = this.tableEntries.indexOf(listEntry);\n\t\tif (index === -1) {\n\t\t\tfor (let i = 0; i < this.tableEntries.length; i++) {\n\t\t\t\tif (this.tableEntries[i].id === listEntry.id) {\n\t\t\t\t\treturn i;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn index;\n\t}\n\n\tprivate getNewIndexOfUnassignedKeybinding(\n\t\tunassignedKeybinding: IKeybindingItemEntry,\n\t): number {\n\t\tfor (let index = 0; index < this.tableEntries.length; index++) {\n\t\t\tconst entry = this.tableEntries[index];\n\t\t\tif (entry.templateId === KEYBINDING_ENTRY_TEMPLATE_ID) {\n\t\t\t\tconst keybindingItemEntry = <IKeybindingItemEntry>entry;\n\t\t\t\tif (\n\t\t\t\t\tkeybindingItemEntry.keybindingItem.command ===\n\t\t\t\t\tunassignedKeybinding.keybindingItem.command\n\t\t\t\t) {\n\t\t\t\t\treturn index;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn -1;\n\t}\n\n\tprivate selectEntry(\n\t\tkeybindingItemEntry: IKeybindingItemEntry | number,\n\t\tfocus = true,\n\t): void {\n\t\tconst index =\n\t\t\ttypeof keybindingItemEntry === \"number\"\n\t\t\t\t? keybindingItemEntry\n\t\t\t\t: this.getIndexOf(keybindingItemEntry);\n\t\tif (index !== -1 && index < this.keybindingsTable.length) {\n\t\t\tif (focus) {\n\t\t\t\tthis.keybindingsTable.domFocus();\n\t\t\t\tthis.keybindingsTable.setFocus([index]);\n\t\t\t}\n\t\t\tthis.keybindingsTable.setSelection([index]);\n\t\t}\n\t}\n\n\tfocusKeybindings(): void {\n\t\tthis.keybindingsTable.domFocus();\n\t\tconst currentFocusIndices = this.keybindingsTable.getFocus();\n\t\tthis.keybindingsTable.setFocus([\n\t\t\tcurrentFocusIndices.length ? currentFocusIndices[0] : 0,\n\t\t]);\n\t}\n\n\tselectKeybinding(keybindingItemEntry: IKeybindingItemEntry): void {\n\t\tthis.selectEntry(keybindingItemEntry);\n\t}\n\n\trecordSearchKeys(): void {\n\t\tthis.recordKeysAction.checked = true;\n\t}\n\n\ttoggleSortByPrecedence(): void {\n\t\tthis.sortByPrecedenceAction.checked =\n\t\t\t!this.sortByPrecedenceAction.checked;\n\t}\n\n\tprivate onContextMenu(\n\t\te: IListContextMenuEvent<IKeybindingItemEntry>,\n\t): void {\n\t\tif (!e.element) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (e.element.templateId === KEYBINDING_ENTRY_TEMPLATE_ID) {\n\t\t\tconst keybindingItemEntry = <IKeybindingItemEntry>e.element;\n\t\t\tthis.selectEntry(keybindingItemEntry);\n\t\t\tthis.contextMenuService.showContextMenu({\n\t\t\t\tgetAnchor: () => e.anchor,\n\t\t\t\tgetActions: () => [\n\t\t\t\t\tthis.createCopyAction(keybindingItemEntry),\n\t\t\t\t\tthis.createCopyCommandAction(keybindingItemEntry),\n\t\t\t\t\tthis.createCopyCommandTitleAction(keybindingItemEntry),\n\t\t\t\t\tnew Separator(),\n\t\t\t\t\t...(keybindingItemEntry.keybindingItem.keybinding\n\t\t\t\t\t\t? [\n\t\t\t\t\t\t\t\tthis.createDefineKeybindingAction(\n\t\t\t\t\t\t\t\t\tkeybindingItemEntry,\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\tthis.createAddKeybindingAction(\n\t\t\t\t\t\t\t\t\tkeybindingItemEntry,\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t: [\n\t\t\t\t\t\t\t\tthis.createDefineKeybindingAction(\n\t\t\t\t\t\t\t\t\tkeybindingItemEntry,\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t]),\n\t\t\t\t\tnew Separator(),\n\t\t\t\t\tthis.createRemoveAction(keybindingItemEntry),\n\t\t\t\t\tthis.createResetAction(keybindingItemEntry),\n\t\t\t\t\tnew Separator(),\n\t\t\t\t\tthis.createDefineWhenExpressionAction(keybindingItemEntry),\n\t\t\t\t\tnew Separator(),\n\t\t\t\t\tthis.createShowConflictsAction(keybindingItemEntry),\n\t\t\t\t],\n\t\t\t});\n\t\t}\n\t}\n\n\tprivate onFocusChange(): void {\n\t\tthis.keybindingFocusContextKey.reset();\n\t\tconst element = this.keybindingsTable.getFocusedElements()[0];\n\t\tif (!element) {\n\t\t\treturn;\n\t\t}\n\t\tif (element.templateId === KEYBINDING_ENTRY_TEMPLATE_ID) {\n\t\t\tthis.keybindingFocusContextKey.set(true);\n\t\t}\n\t}\n\n\tprivate createDefineKeybindingAction(\n\t\tkeybindingItemEntry: IKeybindingItemEntry,\n\t): IAction {\n\t\treturn <IAction>{\n\t\t\tlabel: keybindingItemEntry.keybindingItem.keybinding\n\t\t\t\t? localize(\"changeLabel\", \"Change Keybinding...\")\n\t\t\t\t: localize(\"addLabel\", \"Add Keybinding...\"),\n\t\t\tenabled: true,\n\t\t\tid: KEYBINDINGS_EDITOR_COMMAND_DEFINE,\n\t\t\trun: () => this.defineKeybinding(keybindingItemEntry, false),\n\t\t};\n\t}\n\n\tprivate createAddKeybindingAction(\n\t\tkeybindingItemEntry: IKeybindingItemEntry,\n\t): IAction {\n\t\treturn <IAction>{\n\t\t\tlabel: localize(\"addLabel\", \"Add Keybinding...\"),\n\t\t\tenabled: true,\n\t\t\tid: KEYBINDINGS_EDITOR_COMMAND_ADD,\n\t\t\trun: () => this.defineKeybinding(keybindingItemEntry, true),\n\t\t};\n\t}\n\n\tprivate createDefineWhenExpressionAction(\n\t\tkeybindingItemEntry: IKeybindingItemEntry,\n\t): IAction {\n\t\treturn <IAction>{\n\t\t\tlabel: localize(\"editWhen\", \"Change When Expression\"),\n\t\t\tenabled: !!keybindingItemEntry.keybindingItem.keybinding,\n\t\t\tid: KEYBINDINGS_EDITOR_COMMAND_DEFINE_WHEN,\n\t\t\trun: () => this.defineWhenExpression(keybindingItemEntry),\n\t\t};\n\t}\n\n\tprivate createRemoveAction(keybindingItem: IKeybindingItemEntry): IAction {\n\t\treturn <IAction>{\n\t\t\tlabel: localize(\"removeLabel\", \"Remove Keybinding\"),\n\t\t\tenabled: !!keybindingItem.keybindingItem.keybinding,\n\t\t\tid: KEYBINDINGS_EDITOR_COMMAND_REMOVE,\n\t\t\trun: () => this.removeKeybinding(keybindingItem),\n\t\t};\n\t}\n\n\tprivate createResetAction(keybindingItem: IKeybindingItemEntry): IAction {\n\t\treturn <IAction>{\n\t\t\tlabel: localize(\"resetLabel\", \"Reset Keybinding\"),\n\t\t\tenabled: !keybindingItem.keybindingItem.keybindingItem.isDefault,\n\t\t\tid: KEYBINDINGS_EDITOR_COMMAND_RESET,\n\t\t\trun: () => this.resetKeybinding(keybindingItem),\n\t\t};\n\t}\n\n\tprivate createShowConflictsAction(\n\t\tkeybindingItem: IKeybindingItemEntry,\n\t): IAction {\n\t\treturn <IAction>{\n\t\t\tlabel: localize(\"showSameKeybindings\", \"Show Same Keybindings\"),\n\t\t\tenabled: !!keybindingItem.keybindingItem.keybinding,\n\t\t\tid: KEYBINDINGS_EDITOR_COMMAND_SHOW_SIMILAR,\n\t\t\trun: () => this.showSimilarKeybindings(keybindingItem),\n\t\t};\n\t}\n\n\tprivate createCopyAction(keybindingItem: IKeybindingItemEntry): IAction {\n\t\treturn <IAction>{\n\t\t\tlabel: localize(\"copyLabel\", \"Copy\"),\n\t\t\tenabled: true,\n\t\t\tid: KEYBINDINGS_EDITOR_COMMAND_COPY,\n\t\t\trun: () => this.copyKeybinding(keybindingItem),\n\t\t};\n\t}\n\n\tprivate createCopyCommandAction(keybinding: IKeybindingItemEntry): IAction {\n\t\treturn <IAction>{\n\t\t\tlabel: localize(\"copyCommandLabel\", \"Copy Command ID\"),\n\t\t\tenabled: true,\n\t\t\tid: KEYBINDINGS_EDITOR_COMMAND_COPY_COMMAND,\n\t\t\trun: () => this.copyKeybindingCommand(keybinding),\n\t\t};\n\t}\n\n\tprivate createCopyCommandTitleAction(\n\t\tkeybinding: IKeybindingItemEntry,\n\t): IAction {\n\t\treturn <IAction>{\n\t\t\tlabel: localize(\"copyCommandTitleLabel\", \"Copy Command Title\"),\n\t\t\tenabled: !!keybinding.keybindingItem.commandLabel,\n\t\t\tid: KEYBINDINGS_EDITOR_COMMAND_COPY_COMMAND_TITLE,\n\t\t\trun: () => this.copyKeybindingCommandTitle(keybinding),\n\t\t};\n\t}\n\n\tprivate onKeybindingEditingError(error: any): void {\n\t\tthis.notificationService.error(\n\t\t\ttypeof error === \"string\"\n\t\t\t\t? error\n\t\t\t\t: localize(\n\t\t\t\t\t\t\"error\",\n\t\t\t\t\t\t\"Error '{0}' while editing the keybinding. Please open 'keybindings.json' file and check for errors.\",\n\t\t\t\t\t\t`${error}`,\n\t\t\t\t\t),\n\t\t);\n\t}\n}\n\nclass Delegate implements ITableVirtualDelegate<IKeybindingItemEntry> {\n\treadonly headerRowHeight = 30;\n\n\tgetHeight(element: IKeybindingItemEntry) {\n\t\tif (element.templateId === KEYBINDING_ENTRY_TEMPLATE_ID) {\n\t\t\tconst commandIdMatched =\n\t\t\t\t(<IKeybindingItemEntry>element).keybindingItem.commandLabel &&\n\t\t\t\t(<IKeybindingItemEntry>element).commandIdMatches;\n\t\t\tconst commandDefaultLabelMatched = !!(<IKeybindingItemEntry>element)\n\t\t\t\t.commandDefaultLabelMatches;\n\t\t\tconst extensionIdMatched = !!(<IKeybindingItemEntry>element)\n\t\t\t\t.extensionIdMatches;\n\t\t\tif (commandIdMatched && commandDefaultLabelMatched) {\n\t\t\t\treturn 60;\n\t\t\t}\n\t\t\tif (\n\t\t\t\textensionIdMatched ||\n\t\t\t\tcommandIdMatched ||\n\t\t\t\tcommandDefaultLabelMatched\n\t\t\t) {\n\t\t\t\treturn 40;\n\t\t\t}\n\t\t}\n\t\treturn 24;\n\t}\n}\n\ninterface IActionsColumnTemplateData {\n\treadonly actionBar: ActionBar;\n}\n\nclass ActionsColumnRenderer\n\timplements ITableRenderer<IKeybindingItemEntry, IActionsColumnTemplateData>\n{\n\tstatic readonly TEMPLATE_ID = \"actions\";\n\n\treadonly templateId: string = ActionsColumnRenderer.TEMPLATE_ID;\n\n\tconstructor(\n\t\tprivate readonly keybindingsEditor: KeybindingsEditor,\n\t\t@IKeybindingService private readonly keybindingsService: IKeybindingService\n\t) {\n\t}\n\n\trenderTemplate(container: HTMLElement): IActionsColumnTemplateData {\n\t\tconst element = DOM.append(container, $(\".actions\"));\n\t\tconst actionBar = new ActionBar(element);\n\t\treturn { actionBar };\n\t}\n\n\trenderElement(\n\t\tkeybindingItemEntry: IKeybindingItemEntry,\n\t\tindex: number,\n\t\ttemplateData: IActionsColumnTemplateData,\n\t\theight: number | undefined,\n\t): void {\n\t\ttemplateData.actionBar.clear();\n\t\tconst actions: IAction[] = [];\n\t\tif (keybindingItemEntry.keybindingItem.keybinding) {\n\t\t\tactions.push(this.createEditAction(keybindingItemEntry));\n\t\t} else {\n\t\t\tactions.push(this.createAddAction(keybindingItemEntry));\n\t\t}\n\t\ttemplateData.actionBar.push(actions, { icon: true });\n\t}\n\n\tprivate createEditAction(\n\t\tkeybindingItemEntry: IKeybindingItemEntry,\n\t): IAction {\n\t\tconst keybinding = this.keybindingsService.lookupKeybinding(\n\t\t\tKEYBINDINGS_EDITOR_COMMAND_DEFINE,\n\t\t);\n\t\treturn <IAction>{\n\t\t\tclass: ThemeIcon.asClassName(keybindingsEditIcon),\n\t\t\tenabled: true,\n\t\t\tid: \"editKeybinding\",\n\t\t\ttooltip: keybinding\n\t\t\t\t? localize(\n\t\t\t\t\t\t\"editKeybindingLabelWithKey\",\n\t\t\t\t\t\t\"Change Keybinding {0}\",\n\t\t\t\t\t\t`(${keybinding.getLabel()})`,\n\t\t\t\t\t)\n\t\t\t\t: localize(\"editKeybindingLabel\", \"Change Keybinding\"),\n\t\t\trun: () =>\n\t\t\t\tthis.keybindingsEditor.defineKeybinding(\n\t\t\t\t\tkeybindingItemEntry,\n\t\t\t\t\tfalse,\n\t\t\t\t),\n\t\t};\n\t}\n\n\tprivate createAddAction(\n\t\tkeybindingItemEntry: IKeybindingItemEntry,\n\t): IAction {\n\t\tconst keybinding = this.keybindingsService.lookupKeybinding(\n\t\t\tKEYBINDINGS_EDITOR_COMMAND_DEFINE,\n\t\t);\n\t\treturn <IAction>{\n\t\t\tclass: ThemeIcon.asClassName(keybindingsAddIcon),\n\t\t\tenabled: true,\n\t\t\tid: \"addKeybinding\",\n\t\t\ttooltip: keybinding\n\t\t\t\t? localize(\n\t\t\t\t\t\t\"addKeybindingLabelWithKey\",\n\t\t\t\t\t\t\"Add Keybinding {0}\",\n\t\t\t\t\t\t`(${keybinding.getLabel()})`,\n\t\t\t\t\t)\n\t\t\t\t: localize(\"addKeybindingLabel\", \"Add Keybinding\"),\n\t\t\trun: () =>\n\t\t\t\tthis.keybindingsEditor.defineKeybinding(\n\t\t\t\t\tkeybindingItemEntry,\n\t\t\t\t\tfalse,\n\t\t\t\t),\n\t\t};\n\t}\n\n\tdisposeTemplate(templateData: IActionsColumnTemplateData): void {\n\t\ttemplateData.actionBar.dispose();\n\t}\n}\n\ninterface ICommandColumnTemplateData {\n\tcommandColumn: HTMLElement;\n\tcommandColumnHover: IManagedHover;\n\tcommandLabelContainer: HTMLElement;\n\tcommandLabel: HighlightedLabel;\n\tcommandDefaultLabelContainer: HTMLElement;\n\tcommandDefaultLabel: HighlightedLabel;\n\tcommandIdLabelContainer: HTMLElement;\n\tcommandIdLabel: HighlightedLabel;\n}\n\nclass CommandColumnRenderer\n\timplements ITableRenderer<IKeybindingItemEntry, ICommandColumnTemplateData>\n{\n\tstatic readonly TEMPLATE_ID = \"commands\";\n\n\treadonly templateId: string = CommandColumnRenderer.TEMPLATE_ID;\n\n\tconstructor(\n\t\t@IHoverService private readonly _hoverService: IHoverService\n\t) {\n\t}\n\n\trenderTemplate(container: HTMLElement): ICommandColumnTemplateData {\n\t\tconst commandColumn = DOM.append(container, $(\".command\"));\n\t\tconst commandColumnHover = this._hoverService.setupManagedHover(\n\t\t\tgetDefaultHoverDelegate(\"mouse\"),\n\t\t\tcommandColumn,\n\t\t\t\"\",\n\t\t);\n\t\tconst commandLabelContainer = DOM.append(\n\t\t\tcommandColumn,\n\t\t\t$(\".command-label\"),\n\t\t);\n\t\tconst commandLabel = new HighlightedLabel(commandLabelContainer);\n\t\tconst commandDefaultLabelContainer = DOM.append(\n\t\t\tcommandColumn,\n\t\t\t$(\".command-default-label\"),\n\t\t);\n\t\tconst commandDefaultLabel = new HighlightedLabel(\n\t\t\tcommandDefaultLabelContainer,\n\t\t);\n\t\tconst commandIdLabelContainer = DOM.append(\n\t\t\tcommandColumn,\n\t\t\t$(\".command-id.code\"),\n\t\t);\n\t\tconst commandIdLabel = new HighlightedLabel(commandIdLabelContainer);\n\t\treturn {\n\t\t\tcommandColumn,\n\t\t\tcommandColumnHover,\n\t\t\tcommandLabelContainer,\n\t\t\tcommandLabel,\n\t\t\tcommandDefaultLabelContainer,\n\t\t\tcommandDefaultLabel,\n\t\t\tcommandIdLabelContainer,\n\t\t\tcommandIdLabel,\n\t\t};\n\t}\n\n\trenderElement(\n\t\tkeybindingItemEntry: IKeybindingItemEntry,\n\t\tindex: number,\n\t\ttemplateData: ICommandColumnTemplateData,\n\t\theight: number | undefined,\n\t): void {\n\t\tconst keybindingItem = keybindingItemEntry.keybindingItem;\n\t\tconst commandIdMatched = !!(\n\t\t\tkeybindingItem.commandLabel && keybindingItemEntry.commandIdMatches\n\t\t);\n\t\tconst commandDefaultLabelMatched =\n\t\t\t!!keybindingItemEntry.commandDefaultLabelMatches;\n\n\t\ttemplateData.commandColumn.classList.toggle(\n\t\t\t\"vertical-align-column\",\n\t\t\tcommandIdMatched || commandDefaultLabelMatched,\n\t\t);\n\t\tconst title = keybindingItem.commandLabel\n\t\t\t? localize(\n\t\t\t\t\t\"title\",\n\t\t\t\t\t\"{0} ({1})\",\n\t\t\t\t\tkeybindingItem.commandLabel,\n\t\t\t\t\tkeybindingItem.command,\n\t\t\t\t)\n\t\t\t: keybindingItem.command;\n\t\ttemplateData.commandColumn.setAttribute(\"aria-label\", title);\n\t\ttemplateData.commandColumnHover.update(title);\n\n\t\tif (keybindingItem.commandLabel) {\n\t\t\ttemplateData.commandLabelContainer.classList.remove(\"hide\");\n\t\t\ttemplateData.commandLabel.set(\n\t\t\t\tkeybindingItem.commandLabel,\n\t\t\t\tkeybindingItemEntry.commandLabelMatches,\n\t\t\t);\n\t\t} else {\n\t\t\ttemplateData.commandLabelContainer.classList.add(\"hide\");\n\t\t\ttemplateData.commandLabel.set(undefined);\n\t\t}\n\n\t\tif (keybindingItemEntry.commandDefaultLabelMatches) {\n\t\t\ttemplateData.commandDefaultLabelContainer.classList.remove(\"hide\");\n\t\t\ttemplateData.commandDefaultLabel.set(\n\t\t\t\tkeybindingItem.commandDefaultLabel,\n\t\t\t\tkeybindingItemEntry.commandDefaultLabelMatches,\n\t\t\t);\n\t\t} else {\n\t\t\ttemplateData.commandDefaultLabelContainer.classList.add(\"hide\");\n\t\t\ttemplateData.commandDefaultLabel.set(undefined);\n\t\t}\n\n\t\tif (\n\t\t\tkeybindingItemEntry.commandIdMatches ||\n\t\t\t!keybindingItem.commandLabel\n\t\t) {\n\t\t\ttemplateData.commandIdLabelContainer.classList.remove(\"hide\");\n\t\t\ttemplateData.commandIdLabel.set(\n\t\t\t\tkeybindingItem.command,\n\t\t\t\tkeybindingItemEntry.commandIdMatches,\n\t\t\t);\n\t\t} else {\n\t\t\ttemplateData.commandIdLabelContainer.classList.add(\"hide\");\n\t\t\ttemplateData.commandIdLabel.set(undefined);\n\t\t}\n\t}\n\n\tdisposeTemplate(templateData: ICommandColumnTemplateData): void {\n\t\ttemplateData.commandColumnHover.dispose();\n\t\ttemplateData.commandDefaultLabel.dispose();\n\t\ttemplateData.commandIdLabel.dispose();\n\t\ttemplateData.commandLabel.dispose();\n\t}\n}\n\ninterface IKeybindingColumnTemplateData {\n\tkeybindingLabel: KeybindingLabel;\n}\n\nclass KeybindingColumnRenderer\n\timplements\n\t\tITableRenderer<IKeybindingItemEntry, IKeybindingColumnTemplateData>\n{\n\tstatic readonly TEMPLATE_ID = \"keybindings\";\n\n\treadonly templateId: string = KeybindingColumnRenderer.TEMPLATE_ID;\n\n\tconstructor() {}\n\n\trenderTemplate(container: HTMLElement): IKeybindingColumnTemplateData {\n\t\tconst element = DOM.append(container, $(\".keybinding\"));\n\t\tconst keybindingLabel = new KeybindingLabel(\n\t\t\tDOM.append(element, $(\"div.keybinding-label\")),\n\t\t\tOS,\n\t\t\tdefaultKeybindingLabelStyles,\n\t\t);\n\t\treturn { keybindingLabel };\n\t}\n\n\trenderElement(\n\t\tkeybindingItemEntry: IKeybindingItemEntry,\n\t\tindex: number,\n\t\ttemplateData: IKeybindingColumnTemplateData,\n\t\theight: number | undefined,\n\t): void {\n\t\tif (keybindingItemEntry.keybindingItem.keybinding) {\n\t\t\ttemplateData.keybindingLabel.set(\n\t\t\t\tkeybindingItemEntry.keybindingItem.keybinding,\n\t\t\t\tkeybindingItemEntry.keybindingMatches,\n\t\t\t);\n\t\t} else {\n\t\t\ttemplateData.keybindingLabel.set(undefined, undefined);\n\t\t}\n\t}\n\n\tdisposeTemplate(templateData: IKeybindingColumnTemplateData): void {\n\t\ttemplateData.keybindingLabel.dispose();\n\t}\n}\n\ninterface ISourceColumnTemplateData {\n\tsourceColumn: HTMLElement;\n\tsourceColumnHover: IManagedHover;\n\tsourceLabel: HighlightedLabel;\n\textensionContainer: HTMLElement;\n\textensionLabel: HTMLAnchorElement;\n\textensionId: HighlightedLabel;\n\tdisposables: DisposableStore;\n}\n\nfunction onClick(element: HTMLElement, callback: () => void): IDisposable {\n\tconst disposables = new DisposableStore();\n\tdisposables.add(\n\t\tDOM.addDisposableListener(\n\t\t\telement,\n\t\t\tDOM.EventType.CLICK,\n\t\t\tDOM.finalHandler(callback),\n\t\t),\n\t);\n\tdisposables.add(\n\t\tDOM.addDisposableListener(element, DOM.EventType.KEY_UP, (e) => {\n\t\t\tconst keyboardEvent = new StandardKeyboardEvent(e);\n\t\t\tif (\n\t\t\t\tkeyboardEvent.equals(KeyCode.Space) ||\n\t\t\t\tkeyboardEvent.equals(KeyCode.Enter)\n\t\t\t) {\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\t\t\t\tcallback();\n\t\t\t}\n\t\t}),\n\t);\n\treturn disposables;\n}\n\nclass SourceColumnRenderer\n\timplements ITableRenderer<IKeybindingItemEntry, ISourceColumnTemplateData>\n{\n\tstatic readonly TEMPLATE_ID = \"source\";\n\n\treadonly templateId: string = SourceColumnRenderer.TEMPLATE_ID;\n\n\tconstructor(\n\t\t@IExtensionsWorkbenchService private readonly extensionsWorkbenchService: IExtensionsWorkbenchService,\n\t\t@IHoverService private readonly hoverService: IHoverService,\n\t) { }\n\n\trenderTemplate(container: HTMLElement): ISourceColumnTemplateData {\n\t\tconst sourceColumn = DOM.append(container, $(\".source\"));\n\t\tconst sourceColumnHover = this.hoverService.setupManagedHover(\n\t\t\tgetDefaultHoverDelegate(\"mouse\"),\n\t\t\tsourceColumn,\n\t\t\t\"\",\n\t\t);\n\t\tconst sourceLabel = new HighlightedLabel(\n\t\t\tDOM.append(sourceColumn, $(\".source-label\")),\n\t\t);\n\t\tconst extensionContainer = DOM.append(\n\t\t\tsourceColumn,\n\t\t\t$(\".extension-container\"),\n\t\t);\n\t\tconst extensionLabel = DOM.append<HTMLAnchorElement>(\n\t\t\textensionContainer,\n\t\t\t$(\"a.extension-label\", { tabindex: 0 }),\n\t\t);\n\t\tconst extensionId = new HighlightedLabel(\n\t\t\tDOM.append(extensionContainer, $(\".extension-id-container.code\")),\n\t\t);\n\t\treturn {\n\t\t\tsourceColumn,\n\t\t\tsourceColumnHover,\n\t\t\tsourceLabel,\n\t\t\textensionLabel,\n\t\t\textensionContainer,\n\t\t\textensionId,\n\t\t\tdisposables: new DisposableStore(),\n\t\t};\n\t}\n\n\trenderElement(\n\t\tkeybindingItemEntry: IKeybindingItemEntry,\n\t\tindex: number,\n\t\ttemplateData: ISourceColumnTemplateData,\n\t\theight: number | undefined,\n\t): void {\n\t\ttemplateData.disposables.clear();\n\t\tif (isString(keybindingItemEntry.keybindingItem.source)) {\n\t\t\ttemplateData.extensionContainer.classList.add(\"hide\");\n\t\t\ttemplateData.sourceLabel.element.classList.remove(\"hide\");\n\t\t\ttemplateData.sourceColumnHover.update(\"\");\n\t\t\ttemplateData.sourceLabel.set(\n\t\t\t\tkeybindingItemEntry.keybindingItem.source || \"-\",\n\t\t\t\tkeybindingItemEntry.sourceMatches,\n\t\t\t);\n\t\t} else {\n\t\t\ttemplateData.extensionContainer.classList.remove(\"hide\");\n\t\t\ttemplateData.sourceLabel.element.classList.add(\"hide\");\n\t\t\tconst extension = keybindingItemEntry.keybindingItem.source;\n\t\t\tconst extensionLabel =\n\t\t\t\textension.displayName ?? extension.identifier.value;\n\t\t\ttemplateData.sourceColumnHover.update(\n\t\t\t\tlocalize(\"extension label\", \"Extension ({0})\", extensionLabel),\n\t\t\t);\n\t\t\ttemplateData.extensionLabel.textContent = extensionLabel;\n\t\t\ttemplateData.disposables.add(\n\t\t\t\tonClick(templateData.extensionLabel, () => {\n\t\t\t\t\tthis.extensionsWorkbenchService.open(\n\t\t\t\t\t\textension.identifier.value,\n\t\t\t\t\t);\n\t\t\t\t}),\n\t\t\t);\n\t\t\tif (keybindingItemEntry.extensionIdMatches) {\n\t\t\t\ttemplateData.extensionId.element.classList.remove(\"hide\");\n\t\t\t\ttemplateData.extensionId.set(\n\t\t\t\t\textension.identifier.value,\n\t\t\t\t\tkeybindingItemEntry.extensionIdMatches,\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\ttemplateData.extensionId.element.classList.add(\"hide\");\n\t\t\t\ttemplateData.extensionId.set(undefined);\n\t\t\t}\n\t\t}\n\t}\n\n\tdisposeTemplate(templateData: ISourceColumnTemplateData): void {\n\t\ttemplateData.sourceColumnHover.dispose();\n\t\ttemplateData.disposables.dispose();\n\t\ttemplateData.sourceLabel.dispose();\n\t\ttemplateData.extensionId.dispose();\n\t}\n}\n\nclass WhenInputWidget extends Disposable {\n\tprivate readonly input: SuggestEnabledInput;\n\n\tprivate readonly _onDidAccept = this._register(new Emitter<string>());\n\treadonly onDidAccept = this._onDidAccept.event;\n\n\tprivate readonly _onDidReject = this._register(new Emitter<void>());\n\treadonly onDidReject = this._onDidReject.event;\n\n\tconstructor(\n\t\tparent: HTMLElement,\n\t\tkeybindingsEditor: KeybindingsEditor,\n\t\t@IInstantiationService instantiationService: IInstantiationService,\n\t\t@IContextKeyService contextKeyService: IContextKeyService,\n\t) {\n\t\tsuper();\n\t\tconst focusContextKey = CONTEXT_WHEN_FOCUS.bindTo(contextKeyService);\n\t\tthis.input = this._register(\n\t\t\tinstantiationService.createInstance(\n\t\t\t\tSuggestEnabledInput,\n\t\t\t\t\"keyboardshortcutseditor#wheninput\",\n\t\t\t\tparent,\n\t\t\t\t{\n\t\t\t\t\tprovideResults: () => {\n\t\t\t\t\t\tconst result = [];\n\t\t\t\t\t\tfor (const contextKey of RawContextKey.all()) {\n\t\t\t\t\t\t\tresult.push({\n\t\t\t\t\t\t\t\tlabel: contextKey.key,\n\t\t\t\t\t\t\t\tdocumentation: contextKey.description,\n\t\t\t\t\t\t\t\tdetail: contextKey.type,\n\t\t\t\t\t\t\t\tkind: CompletionItemKind.Constant,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn result;\n\t\t\t\t\t},\n\t\t\t\t\ttriggerCharacters: [\"!\", \" \"],\n\t\t\t\t\twordDefinition: /[a-zA-Z.]+/,\n\t\t\t\t\talwaysShowSuggestions: true,\n\t\t\t\t},\n\t\t\t\t\"\",\n\t\t\t\t`keyboardshortcutseditor#wheninput`,\n\t\t\t\t{\n\t\t\t\t\tfocusContextKey,\n\t\t\t\t\toverflowWidgetsDomNode:\n\t\t\t\t\t\tkeybindingsEditor.overflowWidgetsDomNode,\n\t\t\t\t},\n\t\t\t),\n\t\t);\n\n\t\tthis._register(\n\t\t\tDOM.addDisposableListener(\n\t\t\t\tthis.input.element,\n\t\t\t\tDOM.EventType.DBLCLICK,\n\t\t\t\t(e) => DOM.EventHelper.stop(e),\n\t\t\t),\n\t\t);\n\t\tthis._register(toDisposable(() => focusContextKey.reset()));\n\n\t\tthis._register(\n\t\t\tkeybindingsEditor.onAcceptWhenExpression(() =>\n\t\t\t\tthis._onDidAccept.fire(this.input.getValue()),\n\t\t\t),\n\t\t);\n\t\tthis._register(\n\t\t\tEvent.any(\n\t\t\t\tkeybindingsEditor.onRejectWhenExpression,\n\t\t\t\tthis.input.onDidBlur,\n\t\t\t)(() => this._onDidReject.fire()),\n\t\t);\n\t}\n\n\tlayout(dimension: DOM.Dimension): void {\n\t\tthis.input.layout(dimension);\n\t}\n\n\tshow(value: string): void {\n\t\tthis.input.setValue(value);\n\t\tthis.input.focus(true);\n\t}\n}\n\ninterface IWhenColumnTemplateData {\n\treadonly element: HTMLElement;\n\treadonly whenLabelContainer: HTMLElement;\n\treadonly whenInputContainer: HTMLElement;\n\treadonly whenLabel: HighlightedLabel;\n\treadonly disposables: DisposableStore;\n}\n\nclass WhenColumnRenderer\n\timplements ITableRenderer<IKeybindingItemEntry, IWhenColumnTemplateData>\n{\n\tstatic readonly TEMPLATE_ID = \"when\";\n\n\treadonly templateId: string = WhenColumnRenderer.TEMPLATE_ID;\n\n\tconstructor(\n\t\tprivate readonly keybindingsEditor: KeybindingsEditor,\n\t\t@IHoverService private readonly hoverService: IHoverService,\n\t\t@IInstantiationService private readonly instantiationService: IInstantiationService,\n\t) { }\n\n\trenderTemplate(container: HTMLElement): IWhenColumnTemplateData {\n\t\tconst element = DOM.append(container, $(\".when\"));\n\n\t\tconst whenLabelContainer = DOM.append(element, $(\"div.when-label\"));\n\t\tconst whenLabel = new HighlightedLabel(whenLabelContainer);\n\n\t\tconst whenInputContainer = DOM.append(\n\t\t\telement,\n\t\t\t$(\"div.when-input-container\"),\n\t\t);\n\n\t\treturn {\n\t\t\telement,\n\t\t\twhenLabelContainer,\n\t\t\twhenLabel,\n\t\t\twhenInputContainer,\n\t\t\tdisposables: new DisposableStore(),\n\t\t};\n\t}\n\n\trenderElement(\n\t\tkeybindingItemEntry: IKeybindingItemEntry,\n\t\tindex: number,\n\t\ttemplateData: IWhenColumnTemplateData,\n\t\theight: number | undefined,\n\t): void {\n\t\ttemplateData.disposables.clear();\n\t\tconst whenInputDisposables = templateData.disposables.add(\n\t\t\tnew DisposableStore(),\n\t\t);\n\t\ttemplateData.disposables.add(\n\t\t\tthis.keybindingsEditor.onDefineWhenExpression((e) => {\n\t\t\t\tif (keybindingItemEntry === e) {\n\t\t\t\t\ttemplateData.element.classList.add(\"input-mode\");\n\n\t\t\t\t\tconst inputWidget = whenInputDisposables.add(\n\t\t\t\t\t\tthis.instantiationService.createInstance(\n\t\t\t\t\t\t\tWhenInputWidget,\n\t\t\t\t\t\t\ttemplateData.whenInputContainer,\n\t\t\t\t\t\t\tthis.keybindingsEditor,\n\t\t\t\t\t\t),\n\t\t\t\t\t);\n\t\t\t\t\tinputWidget.layout(\n\t\t\t\t\t\tnew DOM.Dimension(\n\t\t\t\t\t\t\ttemplateData.element.parentElement!.clientWidth,\n\t\t\t\t\t\t\t18,\n\t\t\t\t\t\t),\n\t\t\t\t\t);\n\t\t\t\t\tinputWidget.show(\n\t\t\t\t\t\tkeybindingItemEntry.keybindingItem.when || \"\",\n\t\t\t\t\t);\n\n\t\t\t\t\tconst hideInputWidget = () => {\n\t\t\t\t\t\twhenInputDisposables.clear();\n\t\t\t\t\t\ttemplateData.element.classList.remove(\"input-mode\");\n\t\t\t\t\t\ttemplateData.element.parentElement!.style.paddingLeft =\n\t\t\t\t\t\t\t\"10px\";\n\t\t\t\t\t\tDOM.clearNode(templateData.whenInputContainer);\n\t\t\t\t\t};\n\n\t\t\t\t\twhenInputDisposables.add(\n\t\t\t\t\t\tinputWidget.onDidAccept((value) => {\n\t\t\t\t\t\t\thideInputWidget();\n\t\t\t\t\t\t\tthis.keybindingsEditor.updateKeybinding(\n\t\t\t\t\t\t\t\tkeybindingItemEntry,\n\t\t\t\t\t\t\t\tkeybindingItemEntry.keybindingItem.keybinding\n\t\t\t\t\t\t\t\t\t? keybindingItemEntry.keybindingItem.keybinding.getUserSettingsLabel() ||\n\t\t\t\t\t\t\t\t\t\t\t\"\"\n\t\t\t\t\t\t\t\t\t: \"\",\n\t\t\t\t\t\t\t\tvalue,\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tthis.keybindingsEditor.selectKeybinding(\n\t\t\t\t\t\t\t\tkeybindingItemEntry,\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}),\n\t\t\t\t\t);\n\n\t\t\t\t\twhenInputDisposables.add(\n\t\t\t\t\t\tinputWidget.onDidReject(() => {\n\t\t\t\t\t\t\thideInputWidget();\n\t\t\t\t\t\t\tthis.keybindingsEditor.selectKeybinding(\n\t\t\t\t\t\t\t\tkeybindingItemEntry,\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}),\n\t\t\t\t\t);\n\n\t\t\t\t\ttemplateData.element.parentElement!.style.paddingLeft =\n\t\t\t\t\t\t\"0px\";\n\t\t\t\t}\n\t\t\t}),\n\t\t);\n\n\t\ttemplateData.whenLabelContainer.classList.toggle(\n\t\t\t\"code\",\n\t\t\t!!keybindingItemEntry.keybindingItem.when,\n\t\t);\n\t\ttemplateData.whenLabelContainer.classList.toggle(\n\t\t\t\"empty\",\n\t\t\t!keybindingItemEntry.keybindingItem.when,\n\t\t);\n\n\t\tif (keybindingItemEntry.keybindingItem.when) {\n\t\t\ttemplateData.whenLabel.set(\n\t\t\t\tkeybindingItemEntry.keybindingItem.when,\n\t\t\t\tkeybindingItemEntry.whenMatches,\n\t\t\t\tkeybindingItemEntry.keybindingItem.when,\n\t\t\t);\n\t\t\ttemplateData.disposables.add(\n\t\t\t\tthis.hoverService.setupManagedHover(\n\t\t\t\t\tgetDefaultHoverDelegate(\"mouse\"),\n\t\t\t\t\ttemplateData.element,\n\t\t\t\t\tkeybindingItemEntry.keybindingItem.when,\n\t\t\t\t),\n\t\t\t);\n\t\t} else {\n\t\t\ttemplateData.whenLabel.set(\"-\");\n\t\t}\n\t}\n\n\tdisposeTemplate(templateData: IWhenColumnTemplateData): void {\n\t\ttemplateData.disposables.dispose();\n\t\ttemplateData.whenLabel.dispose();\n\t}\n}\n\nclass AccessibilityProvider\n\timplements IListAccessibilityProvider<IKeybindingItemEntry>\n{\n\tconstructor(private readonly configurationService: IConfigurationService) {}\n\n\tgetWidgetAriaLabel(): string {\n\t\treturn localize(\"keybindingsLabel\", \"Keybindings\");\n\t}\n\n\tgetAriaLabel({ keybindingItem }: IKeybindingItemEntry): string {\n\t\tconst ariaLabel = [\n\t\t\tkeybindingItem.commandLabel\n\t\t\t\t? keybindingItem.commandLabel\n\t\t\t\t: keybindingItem.command,\n\t\t\tkeybindingItem.keybinding?.getAriaLabel() ||\n\t\t\t\tlocalize(\"noKeybinding\", \"No keybinding assigned\"),\n\t\t\tkeybindingItem.when\n\t\t\t\t? keybindingItem.when\n\t\t\t\t: localize(\"noWhen\", \"No when context\"),\n\t\t\tisString(keybindingItem.source)\n\t\t\t\t? keybindingItem.source\n\t\t\t\t: (keybindingItem.source.description ??\n\t\t\t\t\tkeybindingItem.source.identifier.value),\n\t\t];\n\t\tif (\n\t\t\tthis.configurationService.getValue(\n\t\t\t\tAccessibilityVerbositySettingId.KeybindingsEditor,\n\t\t\t)\n\t\t) {\n\t\t\tconst kbEditorAriaLabel = localize(\n\t\t\t\t\"keyboard shortcuts aria label\",\n\t\t\t\t\"use space or enter to change the keybinding.\",\n\t\t\t);\n\t\t\tariaLabel.push(kbEditorAriaLabel);\n\t\t}\n\t\treturn ariaLabel.join(\", \");\n\t}\n}\n\nregisterColor(\n\t\"keybindingTable.headerBackground\",\n\ttableOddRowsBackgroundColor,\n\t\"Background color for the keyboard shortcuts table header.\",\n);\nregisterColor(\n\t\"keybindingTable.rowsBackground\",\n\ttableOddRowsBackgroundColor,\n\t\"Background color for the keyboard shortcuts table alternating rows.\",\n);\n\nregisterThemingParticipant(\n\t(theme: IColorTheme, collector: ICssStyleCollector) => {\n\t\tconst foregroundColor = theme.getColor(foreground);\n\t\tif (foregroundColor) {\n\t\t\tconst whenForegroundColor = foregroundColor\n\t\t\t\t.transparent(0.8)\n\t\t\t\t.makeOpaque(WORKBENCH_BACKGROUND(theme));\n\t\t\tcollector.addRule(\n\t\t\t\t`.keybindings-editor > .keybindings-body > .keybindings-table-container .monaco-table .monaco-table-tr .monaco-table-td .code { color: ${whenForegroundColor}; }`,\n\t\t\t);\n\t\t}\n\n\t\tconst listActiveSelectionForegroundColor = theme.getColor(\n\t\t\tlistActiveSelectionForeground,\n\t\t);\n\t\tconst listActiveSelectionBackgroundColor = theme.getColor(\n\t\t\tlistActiveSelectionBackground,\n\t\t);\n\t\tif (\n\t\t\tlistActiveSelectionForegroundColor &&\n\t\t\tlistActiveSelectionBackgroundColor\n\t\t) {\n\t\t\tconst whenForegroundColor = listActiveSelectionForegroundColor\n\t\t\t\t.transparent(0.8)\n\t\t\t\t.makeOpaque(listActiveSelectionBackgroundColor);\n\t\t\tcollector.addRule(\n\t\t\t\t`.keybindings-editor > .keybindings-body > .keybindings-table-container .monaco-table.focused .monaco-list-row.selected .monaco-table-tr .monaco-table-td .code { color: ${whenForegroundColor}; }`,\n\t\t\t);\n\t\t}\n\n\t\tconst listInactiveSelectionForegroundColor = theme.getColor(\n\t\t\tlistInactiveSelectionForeground,\n\t\t);\n\t\tconst listInactiveSelectionBackgroundColor = theme.getColor(\n\t\t\tlistInactiveSelectionBackground,\n\t\t);\n\t\tif (\n\t\t\tlistInactiveSelectionForegroundColor &&\n\t\t\tlistInactiveSelectionBackgroundColor\n\t\t) {\n\t\t\tconst whenForegroundColor = listInactiveSelectionForegroundColor\n\t\t\t\t.transparent(0.8)\n\t\t\t\t.makeOpaque(listInactiveSelectionBackgroundColor);\n\t\t\tcollector.addRule(\n\t\t\t\t`.keybindings-editor > .keybindings-body > .keybindings-table-container .monaco-table .monaco-list-row.selected .monaco-table-tr .monaco-table-td .code { color: ${whenForegroundColor}; }`,\n\t\t\t);\n\t\t}\n\n\t\tconst listFocusForegroundColor = theme.getColor(listFocusForeground);\n\t\tconst listFocusBackgroundColor = theme.getColor(listFocusBackground);\n\t\tif (listFocusForegroundColor && listFocusBackgroundColor) {\n\t\t\tconst whenForegroundColor = listFocusForegroundColor\n\t\t\t\t.transparent(0.8)\n\t\t\t\t.makeOpaque(listFocusBackgroundColor);\n\t\t\tcollector.addRule(\n\t\t\t\t`.keybindings-editor > .keybindings-body > .keybindings-table-container .monaco-table.focused .monaco-list-row.focused .monaco-table-tr .monaco-table-td .code { color: ${whenForegroundColor}; }`,\n\t\t\t);\n\t\t}\n\n\t\tconst listHoverForegroundColor = theme.getColor(listHoverForeground);\n\t\tconst listHoverBackgroundColor = theme.getColor(listHoverBackground);\n\t\tif (listHoverForegroundColor && listHoverBackgroundColor) {\n\t\t\tconst whenForegroundColor = listHoverForegroundColor\n\t\t\t\t.transparent(0.8)\n\t\t\t\t.makeOpaque(listHoverBackgroundColor);\n\t\t\tcollector.addRule(\n\t\t\t\t`.keybindings-editor > .keybindings-body > .keybindings-table-container .monaco-table.focused .monaco-list-row:hover:not(.focused):not(.selected) .monaco-table-tr .monaco-table-td .code { color: ${whenForegroundColor}; }`,\n\t\t\t);\n\t\t}\n\t},\n);\n"],
  "mappings": "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",
  "names": []
}
