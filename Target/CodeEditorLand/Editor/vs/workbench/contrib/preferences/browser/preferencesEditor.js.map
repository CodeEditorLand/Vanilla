{
  "version": 3,
  "sources": ["../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/contrib/preferences/browser/preferencesEditor.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Disposable, DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { ICodeEditor } from '../../../../editor/browser/editorBrowser.js';\nimport { ConfigurationTarget } from '../../../../platform/configuration/common/configuration.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { IWorkspaceContextService } from '../../../../platform/workspace/common/workspace.js';\nimport { IPreferencesRenderer, UserSettingsRenderer, WorkspaceSettingsRenderer } from './preferencesRenderers.js';\nimport { IPreferencesService } from '../../../services/preferences/common/preferences.js';\nimport { SettingsEditorModel } from '../../../services/preferences/common/preferencesModels.js';\n\nexport class SettingsEditorContribution extends Disposable {\n\tstatic readonly ID: string = 'editor.contrib.settings';\n\n\tprivate currentRenderer: IPreferencesRenderer | undefined;\n\tprivate readonly disposables = this._register(new DisposableStore());\n\n\tconstructor(\n\t\tprivate readonly editor: ICodeEditor,\n\t\t@IInstantiationService private readonly instantiationService: IInstantiationService,\n\t\t@IPreferencesService private readonly preferencesService: IPreferencesService,\n\t\t@IWorkspaceContextService private readonly workspaceContextService: IWorkspaceContextService\n\t) {\n\t\tsuper();\n\t\tthis._createPreferencesRenderer();\n\t\tthis._register(this.editor.onDidChangeModel(e => this._createPreferencesRenderer()));\n\t\tthis._register(this.workspaceContextService.onDidChangeWorkbenchState(() => this._createPreferencesRenderer()));\n\t}\n\n\tprivate async _createPreferencesRenderer(): Promise<void> {\n\t\tthis.disposables.clear();\n\t\tthis.currentRenderer = undefined;\n\n\t\tconst model = this.editor.getModel();\n\t\tif (model && /\\.(json|code-workspace)$/.test(model.uri.path)) {\n\t\t\t// Fast check: the preferences renderer can only appear\n\t\t\t// in settings files or workspace files\n\t\t\tconst settingsModel = await this.preferencesService.createPreferencesEditorModel(model.uri);\n\t\t\tif (settingsModel instanceof SettingsEditorModel && this.editor.getModel()) {\n\t\t\t\tthis.disposables.add(settingsModel);\n\t\t\t\tswitch (settingsModel.configurationTarget) {\n\t\t\t\t\tcase ConfigurationTarget.WORKSPACE:\n\t\t\t\t\t\tthis.currentRenderer = this.disposables.add(this.instantiationService.createInstance(WorkspaceSettingsRenderer, this.editor, settingsModel));\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tthis.currentRenderer = this.disposables.add(this.instantiationService.createInstance(UserSettingsRenderer, this.editor, settingsModel));\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.currentRenderer?.render();\n\t\t}\n\t}\n}\n"],
  "mappings": ";;;;;;;;;;;;AAKA,SAAS,YAAY,uBAAuB;AAC5C,SAAS,mBAAmB;AAC5B,SAAS,2BAA2B;AACpC,SAAS,6BAA6B;AACtC,SAAS,gCAAgC;AACzC,SAAS,sBAAsB,sBAAsB,iCAAiC;AACtF,SAAS,2BAA2B;AACpC,SAAS,2BAA2B;AAE7B,IAAM,6BAAN,cAAyC,WAAW;AAAA,EAM1D,YACkB,QACuB,sBACF,oBACK,yBAC1C;AACD,UAAM;AALW;AACuB;AACF;AACK;AAG3C,SAAK,2BAA2B;AAChC,SAAK,UAAU,KAAK,OAAO,iBAAiB,OAAK,KAAK,2BAA2B,CAAC,CAAC;AACnF,SAAK,UAAU,KAAK,wBAAwB,0BAA0B,MAAM,KAAK,2BAA2B,CAAC,CAAC;AAAA,EAC/G;AAAA,EA9BD,OAc2D;AAAA;AAAA;AAAA,EAC1D,OAAgB,KAAa;AAAA,EAErB;AAAA,EACS,cAAc,KAAK,UAAU,IAAI,gBAAgB,CAAC;AAAA,EAcnE,MAAc,6BAA4C;AACzD,SAAK,YAAY,MAAM;AACvB,SAAK,kBAAkB;AAEvB,UAAM,QAAQ,KAAK,OAAO,SAAS;AACnC,QAAI,SAAS,2BAA2B,KAAK,MAAM,IAAI,IAAI,GAAG;AAG7D,YAAM,gBAAgB,MAAM,KAAK,mBAAmB,6BAA6B,MAAM,GAAG;AAC1F,UAAI,yBAAyB,uBAAuB,KAAK,OAAO,SAAS,GAAG;AAC3E,aAAK,YAAY,IAAI,aAAa;AAClC,gBAAQ,cAAc,qBAAqB;AAAA,UAC1C,KAAK,oBAAoB;AACxB,iBAAK,kBAAkB,KAAK,YAAY,IAAI,KAAK,qBAAqB,eAAe,2BAA2B,KAAK,QAAQ,aAAa,CAAC;AAC3I;AAAA,UACD;AACC,iBAAK,kBAAkB,KAAK,YAAY,IAAI,KAAK,qBAAqB,eAAe,sBAAsB,KAAK,QAAQ,aAAa,CAAC;AACtI;AAAA,QACF;AAAA,MACD;AAEA,WAAK,iBAAiB,OAAO;AAAA,IAC9B;AAAA,EACD;AACD;AA1Ca,6BAAN;AAAA,EAQJ;AAAA,EACA;AAAA,EACA;AAAA,GAVU;",
  "names": []
}
