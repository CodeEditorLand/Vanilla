{
  "version": 3,
  "sources": ["../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/contrib/issue/browser/issueTroubleshoot.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport {\n\tDisposable,\n\tDisposableStore,\n} from \"../../../../base/common/lifecycle.js\";\nimport { URI } from \"../../../../base/common/uri.js\";\nimport { localize, localize2 } from \"../../../../nls.js\";\nimport { Categories } from \"../../../../platform/action/common/actionCommonCategories.js\";\nimport {\n\tAction2,\n\tregisterAction2,\n} from \"../../../../platform/actions/common/actions.js\";\nimport {\n\tContextKeyExpr,\n\tIContextKeyService,\n\tRawContextKey,\n} from \"../../../../platform/contextkey/common/contextkey.js\";\nimport { IsWebContext } from \"../../../../platform/contextkey/common/contextkeys.js\";\nimport { IDialogService } from \"../../../../platform/dialogs/common/dialogs.js\";\nimport { IExtensionManagementService } from \"../../../../platform/extensionManagement/common/extensionManagement.js\";\nimport { ExtensionType } from \"../../../../platform/extensions/common/extensions.js\";\nimport {\n\tInstantiationType,\n\tregisterSingleton,\n} from \"../../../../platform/instantiation/common/extensions.js\";\nimport {\n\ttype ServicesAccessor,\n\tcreateDecorator,\n} from \"../../../../platform/instantiation/common/instantiation.js\";\nimport {\n\ttype INotificationHandle,\n\tINotificationService,\n\ttype IPromptChoice,\n\tNotificationPriority,\n\tSeverity,\n} from \"../../../../platform/notification/common/notification.js\";\nimport { IOpenerService } from \"../../../../platform/opener/common/opener.js\";\nimport { IProductService } from \"../../../../platform/product/common/productService.js\";\nimport { Registry } from \"../../../../platform/registry/common/platform.js\";\nimport {\n\tIStorageService,\n\tStorageScope,\n\tStorageTarget,\n} from \"../../../../platform/storage/common/storage.js\";\nimport {\n\ttype IUserDataProfile,\n\tIUserDataProfilesService,\n} from \"../../../../platform/userDataProfile/common/userDataProfile.js\";\nimport { RemoteNameContext } from \"../../../common/contextkeys.js\";\nimport {\n\tExtensions,\n\ttype IWorkbenchContributionsRegistry,\n} from \"../../../common/contributions.js\";\nimport { IExtensionBisectService } from \"../../../services/extensionManagement/browser/extensionBisect.js\";\nimport { IWorkbenchExtensionEnablementService } from \"../../../services/extensionManagement/common/extensionManagement.js\";\nimport { IHostService } from \"../../../services/host/browser/host.js\";\nimport { LifecyclePhase } from \"../../../services/lifecycle/common/lifecycle.js\";\nimport {\n\tIUserDataProfileImportExportService,\n\tIUserDataProfileManagementService,\n\tIUserDataProfileService,\n} from \"../../../services/userDataProfile/common/userDataProfile.js\";\nimport { IWorkbenchIssueService } from \"../common/issue.js\";\n\nconst ITroubleshootIssueService = createDecorator<ITroubleshootIssueService>(\n\t\"ITroubleshootIssueService\",\n);\n\ninterface ITroubleshootIssueService {\n\t_serviceBrand: undefined;\n\tisActive(): boolean;\n\tstart(): Promise<void>;\n\tresume(): Promise<void>;\n\tstop(): Promise<void>;\n}\n\nenum TroubleshootStage {\n\tEXTENSIONS = 1,\n\tWORKBENCH = 2,\n}\n\ntype TroubleShootResult = \"good\" | \"bad\" | \"stop\";\n\nclass TroubleShootState {\n\tstatic fromJSON(raw: string | undefined): TroubleShootState | undefined {\n\t\tif (!raw) {\n\t\t\treturn undefined;\n\t\t}\n\t\ttry {\n\t\t\tinterface Raw extends TroubleShootState {}\n\t\t\tconst data: Raw = JSON.parse(raw);\n\t\t\tif (\n\t\t\t\t(data.stage === TroubleshootStage.EXTENSIONS ||\n\t\t\t\t\tdata.stage === TroubleshootStage.WORKBENCH) &&\n\t\t\t\ttypeof data.profile === \"string\"\n\t\t\t) {\n\t\t\t\treturn new TroubleShootState(data.stage, data.profile);\n\t\t\t}\n\t\t} catch {\n\t\t\t/* ignore */\n\t\t}\n\t\treturn undefined;\n\t}\n\n\tconstructor(\n\t\treadonly stage: TroubleshootStage,\n\t\treadonly profile: string,\n\t) {}\n}\n\nclass TroubleshootIssueService\n\textends Disposable\n\timplements ITroubleshootIssueService\n{\n\treadonly _serviceBrand: undefined;\n\n\tstatic readonly storageKey = \"issueTroubleshootState\";\n\n\tprivate notificationHandle: INotificationHandle | undefined;\n\n\tconstructor(\n\t\t@IUserDataProfileService private readonly userDataProfileService: IUserDataProfileService,\n\t\t@IUserDataProfilesService private readonly userDataProfilesService: IUserDataProfilesService,\n\t\t@IUserDataProfileManagementService private readonly userDataProfileManagementService: IUserDataProfileManagementService,\n\t\t@IUserDataProfileImportExportService private readonly userDataProfileImportExportService: IUserDataProfileImportExportService,\n\t\t@IDialogService private readonly dialogService: IDialogService,\n\t\t@IExtensionBisectService private readonly extensionBisectService: IExtensionBisectService,\n\t\t@INotificationService private readonly notificationService: INotificationService,\n\t\t@IExtensionManagementService private readonly extensionManagementService: IExtensionManagementService,\n\t\t@IWorkbenchExtensionEnablementService private readonly extensionEnablementService: IWorkbenchExtensionEnablementService,\n\t\t@IWorkbenchIssueService private readonly issueService: IWorkbenchIssueService,\n\t\t@IProductService private readonly productService: IProductService,\n\t\t@IHostService private readonly hostService: IHostService,\n\t\t@IStorageService private readonly storageService: IStorageService,\n\t\t@IOpenerService private readonly openerService: IOpenerService,\n\t) {\n\t\tsuper();\n\t}\n\n\tisActive(): boolean {\n\t\treturn this.state !== undefined;\n\t}\n\n\tasync start(): Promise<void> {\n\t\tif (this.isActive()) {\n\t\t\tthrow new Error(\"invalid state\");\n\t\t}\n\n\t\tconst res = await this.dialogService.confirm({\n\t\t\tmessage: localize(\"troubleshoot issue\", \"Troubleshoot Issue\"),\n\t\t\tdetail: localize(\n\t\t\t\t\"detail.start\",\n\t\t\t\t\"Issue troubleshooting is a process to help you identify the cause for an issue. The cause for an issue can be a misconfiguration, due to an extension, or be {0} itself.\\n\\nDuring the process the window reloads repeatedly. Each time you must confirm if you are still seeing the issue.\",\n\t\t\t\tthis.productService.nameLong,\n\t\t\t),\n\t\t\tprimaryButton: localize(\n\t\t\t\t{ key: \"msg\", comment: [\"&& denotes a mnemonic\"] },\n\t\t\t\t\"&&Troubleshoot Issue\",\n\t\t\t),\n\t\t\tcustom: true,\n\t\t});\n\n\t\tif (!res.confirmed) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst originalProfile = this.userDataProfileService.currentProfile;\n\t\tawait this.userDataProfileImportExportService.createTroubleshootProfile();\n\t\tthis.state = new TroubleShootState(\n\t\t\tTroubleshootStage.EXTENSIONS,\n\t\t\toriginalProfile.id,\n\t\t);\n\t\tawait this.resume();\n\t}\n\n\tasync resume(): Promise<void> {\n\t\tif (!this.isActive()) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (\n\t\t\tthis.state?.stage === TroubleshootStage.EXTENSIONS &&\n\t\t\t!this.extensionBisectService.isActive\n\t\t) {\n\t\t\tawait this.reproduceIssueWithExtensionsDisabled();\n\t\t}\n\n\t\tif (this.state?.stage === TroubleshootStage.WORKBENCH) {\n\t\t\tawait this.reproduceIssueWithEmptyProfile();\n\t\t}\n\n\t\tawait this.stop();\n\t}\n\n\tasync stop(): Promise<void> {\n\t\tif (!this.isActive()) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.notificationHandle) {\n\t\t\tthis.notificationHandle.close();\n\t\t\tthis.notificationHandle = undefined;\n\t\t}\n\n\t\tif (this.extensionBisectService.isActive) {\n\t\t\tawait this.extensionBisectService.reset();\n\t\t}\n\n\t\tconst profile =\n\t\t\tthis.userDataProfilesService.profiles.find(\n\t\t\t\t(p) => p.id === this.state?.profile,\n\t\t\t) ?? this.userDataProfilesService.defaultProfile;\n\t\tthis.state = undefined;\n\t\tawait this.userDataProfileManagementService.switchProfile(profile);\n\t}\n\n\tprivate async reproduceIssueWithExtensionsDisabled(): Promise<void> {\n\t\tif (\n\t\t\t!(\n\t\t\t\tawait this.extensionManagementService.getInstalled(\n\t\t\t\t\tExtensionType.User,\n\t\t\t\t)\n\t\t\t).length\n\t\t) {\n\t\t\tthis.state = new TroubleShootState(\n\t\t\t\tTroubleshootStage.WORKBENCH,\n\t\t\t\tthis.state!.profile,\n\t\t\t);\n\t\t\treturn;\n\t\t}\n\n\t\tconst result = await this.askToReproduceIssue(\n\t\t\tlocalize(\n\t\t\t\t\"profile.extensions.disabled\",\n\t\t\t\t\"Issue troubleshooting is active and has temporarily disabled all installed extensions. Check if you can still reproduce the problem and proceed by selecting from these options.\",\n\t\t\t),\n\t\t);\n\t\tif (result === \"good\") {\n\t\t\tconst profile =\n\t\t\t\tthis.userDataProfilesService.profiles.find(\n\t\t\t\t\t(p) => p.id === this.state!.profile,\n\t\t\t\t) ?? this.userDataProfilesService.defaultProfile;\n\t\t\tawait this.reproduceIssueWithExtensionsBisect(profile);\n\t\t}\n\t\tif (result === \"bad\") {\n\t\t\tthis.state = new TroubleShootState(\n\t\t\t\tTroubleshootStage.WORKBENCH,\n\t\t\t\tthis.state!.profile,\n\t\t\t);\n\t\t}\n\t\tif (result === \"stop\") {\n\t\t\tawait this.stop();\n\t\t}\n\t}\n\n\tprivate async reproduceIssueWithEmptyProfile(): Promise<void> {\n\t\tawait this.userDataProfileManagementService.createAndEnterTransientProfile();\n\t\tthis.updateState(this.state);\n\t\tconst result = await this.askToReproduceIssue(\n\t\t\tlocalize(\n\t\t\t\t\"empty.profile\",\n\t\t\t\t\"Issue troubleshooting is active and has temporarily reset your configurations to defaults. Check if you can still reproduce the problem and proceed by selecting from these options.\",\n\t\t\t),\n\t\t);\n\t\tif (result === \"stop\") {\n\t\t\tawait this.stop();\n\t\t}\n\t\tif (result === \"good\") {\n\t\t\tawait this.askToReportIssue(\n\t\t\t\tlocalize(\n\t\t\t\t\t\"issue is with configuration\",\n\t\t\t\t\t'Issue troubleshooting has identified that the issue is caused by your configurations. Please report the issue by exporting your configurations using \"Export Profile\" command and share the file in the issue report.',\n\t\t\t\t),\n\t\t\t);\n\t\t}\n\t\tif (result === \"bad\") {\n\t\t\tawait this.askToReportIssue(\n\t\t\t\tlocalize(\n\t\t\t\t\t\"issue is in core\",\n\t\t\t\t\t\"Issue troubleshooting has identified that the issue is with {0}.\",\n\t\t\t\t\tthis.productService.nameLong,\n\t\t\t\t),\n\t\t\t);\n\t\t}\n\t}\n\n\tprivate async reproduceIssueWithExtensionsBisect(\n\t\tprofile: IUserDataProfile,\n\t): Promise<void> {\n\t\tawait this.userDataProfileManagementService.switchProfile(profile);\n\t\tconst extensions = (\n\t\t\tawait this.extensionManagementService.getInstalled(\n\t\t\t\tExtensionType.User,\n\t\t\t)\n\t\t).filter((ext) => this.extensionEnablementService.isEnabled(ext));\n\t\tawait this.extensionBisectService.start(extensions);\n\t\tawait this.hostService.reload();\n\t}\n\n\tprivate askToReproduceIssue(message: string): Promise<TroubleShootResult> {\n\t\treturn new Promise((c, e) => {\n\t\t\tconst goodPrompt: IPromptChoice = {\n\t\t\t\tlabel: localize(\"I cannot reproduce\", \"I Can't Reproduce\"),\n\t\t\t\trun: () => c(\"good\"),\n\t\t\t};\n\t\t\tconst badPrompt: IPromptChoice = {\n\t\t\t\tlabel: localize(\"This is Bad\", \"I Can Reproduce\"),\n\t\t\t\trun: () => c(\"bad\"),\n\t\t\t};\n\t\t\tconst stop: IPromptChoice = {\n\t\t\t\tlabel: localize(\"Stop\", \"Stop\"),\n\t\t\t\trun: () => c(\"stop\"),\n\t\t\t};\n\t\t\tthis.notificationHandle = this.notificationService.prompt(\n\t\t\t\tSeverity.Info,\n\t\t\t\tmessage,\n\t\t\t\t[goodPrompt, badPrompt, stop],\n\t\t\t\t{ sticky: true, priority: NotificationPriority.URGENT },\n\t\t\t);\n\t\t});\n\t}\n\n\tprivate async askToReportIssue(message: string): Promise<void> {\n\t\tlet isCheckedInInsiders = false;\n\t\tif (this.productService.quality === \"stable\") {\n\t\t\tconst res = await this.askToReproduceIssueWithInsiders();\n\t\t\tif (res === \"good\") {\n\t\t\t\tawait this.dialogService.prompt({\n\t\t\t\t\ttype: Severity.Info,\n\t\t\t\t\tmessage: localize(\n\t\t\t\t\t\t\"troubleshoot issue\",\n\t\t\t\t\t\t\"Troubleshoot Issue\",\n\t\t\t\t\t),\n\t\t\t\t\tdetail: localize(\n\t\t\t\t\t\t\"use insiders\",\n\t\t\t\t\t\t\"This likely means that the issue has been addressed already and will be available in an upcoming release. You can safely use {0} insiders until the new stable version is available.\",\n\t\t\t\t\t\tthis.productService.nameLong,\n\t\t\t\t\t),\n\t\t\t\t\tcustom: true,\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (res === \"stop\") {\n\t\t\t\tawait this.stop();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (res === \"bad\") {\n\t\t\t\tisCheckedInInsiders = true;\n\t\t\t}\n\t\t}\n\n\t\tawait this.issueService.openReporter({\n\t\t\tissueBody: `> ${message} ${isCheckedInInsiders ? `It is confirmed that the issue exists in ${this.productService.nameLong} Insiders` : \"\"}`,\n\t\t});\n\t}\n\n\tprivate async askToReproduceIssueWithInsiders(): Promise<\n\t\tTroubleShootResult | undefined\n\t> {\n\t\tconst confirmRes = await this.dialogService.confirm({\n\t\t\ttype: \"info\",\n\t\t\tmessage: localize(\"troubleshoot issue\", \"Troubleshoot Issue\"),\n\t\t\tprimaryButton: localize(\n\t\t\t\t\"download insiders\",\n\t\t\t\t\"Download {0} Insiders\",\n\t\t\t\tthis.productService.nameLong,\n\t\t\t),\n\t\t\tcancelButton: localize(\"report anyway\", \"Report Issue Anyway\"),\n\t\t\tdetail: localize(\n\t\t\t\t\"ask to download insiders\",\n\t\t\t\t\"Please try to download and reproduce the issue in {0} insiders.\",\n\t\t\t\tthis.productService.nameLong,\n\t\t\t),\n\t\t\tcustom: {\n\t\t\t\tdisableCloseAction: true,\n\t\t\t},\n\t\t});\n\n\t\tif (!confirmRes.confirmed) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tconst opened = await this.openerService.open(\n\t\t\tURI.parse(\"https://aka.ms/vscode-insiders\"),\n\t\t);\n\t\tif (!opened) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tconst res = await this.dialogService.prompt<TroubleShootResult>({\n\t\t\ttype: \"info\",\n\t\t\tmessage: localize(\"troubleshoot issue\", \"Troubleshoot Issue\"),\n\t\t\tbuttons: [\n\t\t\t\t{\n\t\t\t\t\tlabel: localize(\"good\", \"I can't reproduce\"),\n\t\t\t\t\trun: () => \"good\",\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: localize(\"bad\", \"I can reproduce\"),\n\t\t\t\t\trun: () => \"bad\",\n\t\t\t\t},\n\t\t\t],\n\t\t\tcancelButton: {\n\t\t\t\tlabel: localize(\"stop\", \"Stop\"),\n\t\t\t\trun: () => \"stop\",\n\t\t\t},\n\t\t\tdetail: localize(\n\t\t\t\t\"ask to reproduce issue\",\n\t\t\t\t\"Please try to reproduce the issue in {0} insiders and confirm if the issue exists there.\",\n\t\t\t\tthis.productService.nameLong,\n\t\t\t),\n\t\t\tcustom: {\n\t\t\t\tdisableCloseAction: true,\n\t\t\t},\n\t\t});\n\n\t\treturn res.result;\n\t}\n\n\tprivate _state: TroubleShootState | undefined | null;\n\tget state(): TroubleShootState | undefined {\n\t\tif (this._state === undefined) {\n\t\t\tconst raw = this.storageService.get(\n\t\t\t\tTroubleshootIssueService.storageKey,\n\t\t\t\tStorageScope.PROFILE,\n\t\t\t);\n\t\t\tthis._state = TroubleShootState.fromJSON(raw);\n\t\t}\n\t\treturn this._state || undefined;\n\t}\n\n\tset state(state: TroubleShootState | undefined) {\n\t\tthis._state = state ?? null;\n\t\tthis.updateState(state);\n\t}\n\n\tprivate updateState(state: TroubleShootState | undefined) {\n\t\tif (state) {\n\t\t\tthis.storageService.store(\n\t\t\t\tTroubleshootIssueService.storageKey,\n\t\t\t\tJSON.stringify(state),\n\t\t\t\tStorageScope.PROFILE,\n\t\t\t\tStorageTarget.MACHINE,\n\t\t\t);\n\t\t} else {\n\t\t\tthis.storageService.remove(\n\t\t\t\tTroubleshootIssueService.storageKey,\n\t\t\t\tStorageScope.PROFILE,\n\t\t\t);\n\t\t}\n\t}\n}\n\nclass IssueTroubleshootUi extends Disposable {\n\tstatic ctxIsTroubleshootActive = new RawContextKey<boolean>(\n\t\t\"isIssueTroubleshootActive\",\n\t\tfalse,\n\t);\n\n\tconstructor(\n\t\t@IContextKeyService private readonly contextKeyService: IContextKeyService,\n\t\t@ITroubleshootIssueService private readonly troubleshootIssueService: ITroubleshootIssueService,\n\t\t@IStorageService storageService: IStorageService,\n\t) {\n\t\tsuper();\n\t\tthis.updateContext();\n\t\tif (troubleshootIssueService.isActive()) {\n\t\t\ttroubleshootIssueService.resume();\n\t\t}\n\t\tthis._register(storageService.onDidChangeValue(StorageScope.PROFILE, TroubleshootIssueService.storageKey, this._register(new DisposableStore()))(() => {\n\t\t\tthis.updateContext();\n\t\t}));\n\t}\n\n\tprivate updateContext(): void {\n\t\tIssueTroubleshootUi.ctxIsTroubleshootActive\n\t\t\t.bindTo(this.contextKeyService)\n\t\t\t.set(this.troubleshootIssueService.isActive());\n\t}\n}\n\nRegistry.as<IWorkbenchContributionsRegistry>(\n\tExtensions.Workbench,\n).registerWorkbenchContribution(IssueTroubleshootUi, LifecyclePhase.Restored);\n\nregisterAction2(\n\tclass TroubleshootIssueAction extends Action2 {\n\t\tconstructor() {\n\t\t\tsuper({\n\t\t\t\tid: \"workbench.action.troubleshootIssue.start\",\n\t\t\t\ttitle: localize2(\"troubleshootIssue\", \"Troubleshoot Issue...\"),\n\t\t\t\tcategory: Categories.Help,\n\t\t\t\tf1: true,\n\t\t\t\tprecondition: ContextKeyExpr.and(\n\t\t\t\t\tIssueTroubleshootUi.ctxIsTroubleshootActive.negate(),\n\t\t\t\t\tRemoteNameContext.isEqualTo(\"\"),\n\t\t\t\t\tIsWebContext.negate(),\n\t\t\t\t),\n\t\t\t});\n\t\t}\n\t\trun(accessor: ServicesAccessor): Promise<void> {\n\t\t\treturn accessor.get(ITroubleshootIssueService).start();\n\t\t}\n\t},\n);\n\nregisterAction2(\n\tclass extends Action2 {\n\t\tconstructor() {\n\t\t\tsuper({\n\t\t\t\tid: \"workbench.action.troubleshootIssue.stop\",\n\t\t\t\ttitle: localize2(\"title.stop\", \"Stop Troubleshoot Issue\"),\n\t\t\t\tcategory: Categories.Help,\n\t\t\t\tf1: true,\n\t\t\t\tprecondition: IssueTroubleshootUi.ctxIsTroubleshootActive,\n\t\t\t});\n\t\t}\n\n\t\tasync run(accessor: ServicesAccessor): Promise<void> {\n\t\t\treturn accessor.get(ITroubleshootIssueService).stop();\n\t\t}\n\t},\n);\n\nregisterSingleton(\n\tITroubleshootIssueService,\n\tTroubleshootIssueService,\n\tInstantiationType.Delayed,\n);\n"],
  "mappings": "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",
  "names": ["TroubleshootStage"]
}
