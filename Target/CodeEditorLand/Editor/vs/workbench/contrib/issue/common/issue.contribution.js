var f=Object.defineProperty;var y=Object.getOwnPropertyDescriptor;var d=(i,r,s,o)=>{for(var t=o>1?void 0:o?y(r,s):r,e=i.length-1,n;e>=0;e--)(n=i[e])&&(t=(o?n(r,s,t):n(t))||t);return o&&t&&f(r,s,t),t},p=(i,r)=>(s,o)=>r(s,o,i);import{localize as h,localize2 as R}from"../../../../nls.js";import"../../../../platform/action/common/action.js";import{Categories as A}from"../../../../platform/action/common/actionCommonCategories.js";import{MenuId as c,MenuRegistry as u}from"../../../../platform/actions/common/actions.js";import{CommandsRegistry as l}from"../../../../platform/commands/common/commands.js";import{IProductService as C}from"../../../../platform/product/common/productService.js";import"../../../common/contributions.js";import{IWorkbenchIssueService as I}from"./issue.js";import{IConfigurationService as x}from"../../../../platform/configuration/common/configuration.js";import{Disposable as M}from"../../../../base/common/lifecycle.js";const m="workbench.action.openIssueReporter",O="vscode.openIssueReporter",g={description:"Open the issue reporter and optionally prefill part of the form.",args:[{name:"options",description:"Data to use to prefill the issue reporter with.",isOptional:!0,schema:{oneOf:[{type:"string",description:"The extension id to preselect."},{type:"object",properties:{extensionId:{type:"string"},issueTitle:{type:"string"},issueBody:{type:"string"}}}]}}]};let a=class extends M{constructor(r,s){if(super(),!r.reportIssueUrl)return;this._register(l.registerCommand({id:m,handler:function(t,e){const n=typeof e=="string"?{extensionId:e}:Array.isArray(e)?{extensionId:e[0]}:e??{};return t.get(I).openReporter(n)},metadata:g})),this._register(l.registerCommand({id:O,handler:function(t,e){const n=typeof e=="string"?{extensionId:e}:Array.isArray(e)?{extensionId:e[0]}:e??{};return t.get(I).openReporter(n)},metadata:g}));const o={id:m,title:R({key:"reportIssueInEnglish",comment:['Translate this to "Report Issue in English" in all languages please!']},"Report Issue..."),category:A.Help};this._register(u.appendMenuItem(c.CommandPalette,{command:o})),this._register(u.appendMenuItem(c.MenubarHelpMenu,{group:"3_feedback",command:{id:m,title:h({key:"miReportIssue",comment:["&& denotes a mnemonic",'Translate this to "Report Issue in English" in all languages please!']},"Report &&Issue")},order:3}))}};a=d([p(0,C),p(1,x)],a);export{a as BaseIssueContribution};
