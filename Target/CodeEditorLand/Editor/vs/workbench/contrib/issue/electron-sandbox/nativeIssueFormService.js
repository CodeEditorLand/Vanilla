var I=Object.defineProperty;var S=Object.getOwnPropertyDescriptor;var v=(c,o,e,r)=>{for(var i=r>1?void 0:r?S(o,e):o,s=c.length-1,n;s>=0;s--)(n=c[s])&&(i=(r?n(o,e,i):n(i))||i);return r&&i&&I(o,e,i),i},t=(c,o)=>(e,r)=>o(e,r,c);import"./media/newIssueReporter.css";import{IMenuService as u}from"../../../../platform/actions/common/actions.js";import{IContextKeyService as h}from"../../../../platform/contextkey/common/contextkey.js";import{IDialogService as f}from"../../../../platform/dialogs/common/dialogs.js";import{INativeEnvironmentService as l}from"../../../../platform/environment/common/environment.js";import{IInstantiationService as d}from"../../../../platform/instantiation/common/instantiation.js";import{ILogService as y}from"../../../../platform/log/common/log.js";import{INativeHostService as R}from"../../../../platform/native/common/native.js";import w from"../../../../platform/product/common/product.js";import{IAuxiliaryWindowService as x}from"../../../services/auxiliaryWindow/browser/auxiliaryWindowService.js";import{IHostService as H}from"../../../services/host/browser/host.js";import{IssueFormService as g}from"../browser/issueFormService.js";import{IssueReporter2 as W}from"./issueReporterService2.js";let a=class extends g{constructor(e,r,i,s,n,p,m,A,D){super(e,r,n,p,i,s,m);this.nativeHostService=A;this.environmentService=D}async openReporter(e){if(this.hasToReload(e))return;const r=await this.nativeHostService.getActiveWindowPosition();if(!r)return;await this.openAuxIssueReporter(e,r);const{arch:i,release:s,type:n}=await this.nativeHostService.getOSProperties();this.arch=i,this.release=s,this.type=n,this.issueReporterWindow&&this.instantiationService.createInstance(W,!!this.environmentService.disableExtensions,e,{type:this.type,arch:this.arch,release:this.release},w,this.issueReporterWindow).render()}};a=v([t(0,d),t(1,x),t(2,y),t(3,f),t(4,u),t(5,h),t(6,H),t(7,R),t(8,l)],a);export{a as NativeIssueFormService};
