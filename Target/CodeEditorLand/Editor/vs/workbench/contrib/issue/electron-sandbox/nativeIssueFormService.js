var I=Object.defineProperty;var S=Object.getOwnPropertyDescriptor;var p=(a,o,e,r)=>{for(var i=r>1?void 0:r?S(o,e):o,s=a.length-1,n;s>=0;s--)(n=a[s])&&(i=(r?n(o,e,i):n(i))||i);return r&&i&&I(o,e,i),i},t=(a,o)=>(e,r)=>o(e,r,a);import"./media/newIssueReporter.css";import{IMenuService as h}from"../../../../platform/actions/common/actions.js";import{IContextKeyService as u}from"../../../../platform/contextkey/common/contextkey.js";import{IDialogService as f}from"../../../../platform/dialogs/common/dialogs.js";import{INativeEnvironmentService as l}from"../../../../platform/environment/common/environment.js";import{IInstantiationService as d}from"../../../../platform/instantiation/common/instantiation.js";import{ILogService as y}from"../../../../platform/log/common/log.js";import{INativeHostService as R}from"../../../../platform/native/common/native.js";import w from"../../../../platform/product/common/product.js";import{IssueFormService as x}from"../browser/issueFormService.js";import"../common/issue.js";import{IssueReporter2 as H}from"./issueReporterService2.js";import{IAuxiliaryWindowService as g}from"../../../services/auxiliaryWindow/browser/auxiliaryWindowService.js";import{IHostService as W}from"../../../services/host/browser/host.js";let c=class extends x{constructor(e,r,i,s,n,v,m,A,D){super(e,r,n,v,i,s,m);this.nativeHostService=A;this.environmentService=D}async openReporter(e){if(this.hasToReload(e))return;const r=await this.nativeHostService.getActiveWindowPosition();if(!r)return;await this.openAuxIssueReporter(e,r);const{arch:i,release:s,type:n}=await this.nativeHostService.getOSProperties();this.arch=i,this.release=s,this.type=n,this.issueReporterWindow&&this.instantiationService.createInstance(H,!!this.environmentService.disableExtensions,e,{type:this.type,arch:this.arch,release:this.release},w,this.issueReporterWindow).render()}};c=p([t(0,d),t(1,g),t(2,y),t(3,f),t(4,h),t(5,u),t(6,W),t(7,R),t(8,l)],c);export{c as NativeIssueFormService};
