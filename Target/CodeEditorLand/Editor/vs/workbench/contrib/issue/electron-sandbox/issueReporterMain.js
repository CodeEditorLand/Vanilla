import{safeInnerHtml as m}from"../../../../../vs/base/browser/dom.js";import"../../../../../vs/base/browser/ui/codicons/codiconStyles.js";import{mainWindow as i}from"../../../../../vs/base/browser/window.js";import{isLinux as p,isWindows as a}from"../../../../../vs/base/common/platform.js";import"vs/css!./media/issueReporter";import{SyncDescriptor as s}from"../../../../../vs/platform/instantiation/common/descriptors.js";import{getSingletonServiceDescriptors as f}from"../../../../../vs/platform/instantiation/common/extensions.js";import{InstantiationService as d}from"../../../../../vs/platform/instantiation/common/instantiationService.js";import{ServiceCollection as u}from"../../../../../vs/platform/instantiation/common/serviceCollection.js";import{IMainProcessService as v}from"../../../../../vs/platform/ipc/common/mainProcessService.js";import{ElectronIPCMainProcessService as l}from"../../../../../vs/platform/ipc/electron-sandbox/mainProcessService.js";import{registerMainProcessRemoteService as n}from"../../../../../vs/platform/ipc/electron-sandbox/services.js";import{IIssueMainService as S,IProcessMainService as I}from"../../../../../vs/platform/issue/common/issue.js";import{INativeHostService as w}from"../../../../../vs/platform/native/common/native.js";import{NativeHostService as b}from"../../../../../vs/platform/native/common/nativeHostService.js";import y from"../../../../../vs/workbench/contrib/issue/browser/issueReporterPage.js";import{IssueReporter as C}from"../../../../../vs/workbench/contrib/issue/electron-sandbox/issueReporterService.js";function A(r){const e=a?"windows":p?"linux":"mac";i.document.body.classList.add(e),m(i.document.body,y());const o=M(r.windowId).createInstance(C,r);o.render(),i.document.body.style.display="block",o.setInitialFocus()}function M(r){const e=new u,t=f();for(const[o,c]of t)e.set(o,c);return e.set(v,new s(l,[r])),e.set(w,new s(b,[r])),new d(e,!0)}n(S,"issue"),n(I,"process");export{A as startup};
