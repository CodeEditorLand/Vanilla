{
  "version": 3,
  "sources": ["../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/contrib/workspace/browser/workspaceTrustEditor.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport {\n\t$,\n\ttype Dimension,\n\tEventHelper,\n\tEventType,\n\taddDisposableListener,\n\taddStandardDisposableListener,\n\tappend,\n\tclearNode,\n\tisAncestorOfActiveElement,\n} from \"../../../../base/browser/dom.js\";\nimport { StandardKeyboardEvent } from \"../../../../base/browser/keyboardEvent.js\";\nimport { ActionBar } from \"../../../../base/browser/ui/actionbar/actionbar.js\";\nimport { ButtonBar } from \"../../../../base/browser/ui/button/button.js\";\nimport {\n\ttype IMessage,\n\tInputBox,\n\tMessageType,\n} from \"../../../../base/browser/ui/inputbox/inputBox.js\";\nimport { DomScrollableElement } from \"../../../../base/browser/ui/scrollbar/scrollableElement.js\";\nimport type {\n\tITableRenderer,\n\tITableVirtualDelegate,\n} from \"../../../../base/browser/ui/table/table.js\";\nimport { Action, type IAction } from \"../../../../base/common/actions.js\";\nimport type { CancellationToken } from \"../../../../base/common/cancellation.js\";\nimport { Codicon } from \"../../../../base/common/codicons.js\";\nimport { debounce } from \"../../../../base/common/decorators.js\";\nimport { Emitter, type Event } from \"../../../../base/common/event.js\";\nimport { hasDriveLetter, toSlashes } from \"../../../../base/common/extpath.js\";\nimport { KeyCode, KeyMod } from \"../../../../base/common/keyCodes.js\";\nimport type { ResolvedKeybinding } from \"../../../../base/common/keybindings.js\";\nimport { normalizeDriveLetter } from \"../../../../base/common/labels.js\";\nimport {\n\tDisposable,\n\tDisposableStore,\n} from \"../../../../base/common/lifecycle.js\";\nimport { parseLinkedText } from \"../../../../base/common/linkedText.js\";\nimport { Schemas } from \"../../../../base/common/network.js\";\nimport { posix, win32 } from \"../../../../base/common/path.js\";\nimport { isMacintosh } from \"../../../../base/common/platform.js\";\nimport { basename, dirname } from \"../../../../base/common/resources.js\";\nimport { ScrollbarVisibility } from \"../../../../base/common/scrollable.js\";\nimport { ThemeIcon } from \"../../../../base/common/themables.js\";\nimport { URI } from \"../../../../base/common/uri.js\";\nimport { localize } from \"../../../../nls.js\";\nimport {\n\tConfigurationScope,\n\tExtensions,\n\ttype IConfigurationRegistry,\n} from \"../../../../platform/configuration/common/configurationRegistry.js\";\nimport { IContextViewService } from \"../../../../platform/contextview/browser/contextView.js\";\nimport { IFileDialogService } from \"../../../../platform/dialogs/common/dialogs.js\";\nimport type { IEditorOptions } from \"../../../../platform/editor/common/editor.js\";\nimport { getExtensionDependencies } from \"../../../../platform/extensionManagement/common/extensionManagementUtil.js\";\nimport { IInstantiationService } from \"../../../../platform/instantiation/common/instantiation.js\";\nimport { IKeybindingService } from \"../../../../platform/keybinding/common/keybinding.js\";\nimport { ILabelService } from \"../../../../platform/label/common/label.js\";\nimport { WorkbenchTable } from \"../../../../platform/list/browser/listService.js\";\nimport { Link } from \"../../../../platform/opener/browser/link.js\";\nimport { IProductService } from \"../../../../platform/product/common/productService.js\";\nimport { Registry } from \"../../../../platform/registry/common/platform.js\";\nimport { IStorageService } from \"../../../../platform/storage/common/storage.js\";\nimport { ITelemetryService } from \"../../../../platform/telemetry/common/telemetry.js\";\nimport {\n\tdefaultButtonStyles,\n\tdefaultInputBoxStyles,\n} from \"../../../../platform/theme/browser/defaultStyles.js\";\nimport {\n\tasCssVariable,\n\tbuttonBackground,\n\tbuttonSecondaryBackground,\n\teditorErrorForeground,\n} from \"../../../../platform/theme/common/colorRegistry.js\";\nimport { registerIcon } from \"../../../../platform/theme/common/iconRegistry.js\";\nimport { IThemeService } from \"../../../../platform/theme/common/themeService.js\";\nimport { IUriIdentityService } from \"../../../../platform/uriIdentity/common/uriIdentity.js\";\nimport {\n\tisVirtualResource,\n\tisVirtualWorkspace,\n} from \"../../../../platform/workspace/common/virtualWorkspace.js\";\nimport {\n\ttype ISingleFolderWorkspaceIdentifier,\n\tIWorkspaceContextService,\n\tWorkbenchState,\n\ttoWorkspaceIdentifier,\n} from \"../../../../platform/workspace/common/workspace.js\";\nimport { IWorkspaceTrustManagementService } from \"../../../../platform/workspace/common/workspaceTrust.js\";\nimport { EditorPane } from \"../../../browser/parts/editor/editorPane.js\";\nimport type { IEditorOpenContext } from \"../../../common/editor.js\";\nimport { IWorkbenchConfigurationService } from \"../../../services/configuration/common/configuration.js\";\nimport type { IEditorGroup } from \"../../../services/editor/common/editorGroupsService.js\";\nimport {\n\tEnablementState,\n\tIWorkbenchExtensionEnablementService,\n} from \"../../../services/extensionManagement/common/extensionManagement.js\";\nimport { IExtensionManifestPropertiesService } from \"../../../services/extensions/common/extensionManifestPropertiesService.js\";\nimport type { WorkspaceTrustEditorInput } from \"../../../services/workspaces/browser/workspaceTrustEditorInput.js\";\nimport { debugIconStartForeground } from \"../../debug/browser/debugColors.js\";\nimport {\n\tIExtensionsWorkbenchService,\n\tLIST_WORKSPACE_UNSUPPORTED_EXTENSIONS_COMMAND_ID,\n} from \"../../extensions/common/extensions.js\";\n\nexport const shieldIcon = registerIcon(\n\t\"workspace-trust-banner\",\n\tCodicon.shield,\n\tlocalize(\"shieldIcon\", \"Icon for workspace trust ion the banner.\"),\n);\n\nconst checkListIcon = registerIcon(\n\t\"workspace-trust-editor-check\",\n\tCodicon.check,\n\tlocalize(\n\t\t\"checkListIcon\",\n\t\t\"Icon for the checkmark in the workspace trust editor.\",\n\t),\n);\nconst xListIcon = registerIcon(\n\t\"workspace-trust-editor-cross\",\n\tCodicon.x,\n\tlocalize(\"xListIcon\", \"Icon for the cross in the workspace trust editor.\"),\n);\nconst folderPickerIcon = registerIcon(\n\t\"workspace-trust-editor-folder-picker\",\n\tCodicon.folder,\n\tlocalize(\n\t\t\"folderPickerIcon\",\n\t\t\"Icon for the pick folder icon in the workspace trust editor.\",\n\t),\n);\nconst editIcon = registerIcon(\n\t\"workspace-trust-editor-edit-folder\",\n\tCodicon.edit,\n\tlocalize(\n\t\t\"editIcon\",\n\t\t\"Icon for the edit folder icon in the workspace trust editor.\",\n\t),\n);\nconst removeIcon = registerIcon(\n\t\"workspace-trust-editor-remove-folder\",\n\tCodicon.close,\n\tlocalize(\n\t\t\"removeIcon\",\n\t\t\"Icon for the remove folder icon in the workspace trust editor.\",\n\t),\n);\n\ninterface ITrustedUriItem {\n\tparentOfWorkspaceItem: boolean;\n\turi: URI;\n}\n\nclass WorkspaceTrustedUrisTable extends Disposable {\n\tprivate readonly _onDidAcceptEdit: Emitter<ITrustedUriItem> =\n\t\tthis._register(new Emitter<ITrustedUriItem>());\n\treadonly onDidAcceptEdit: Event<ITrustedUriItem> =\n\t\tthis._onDidAcceptEdit.event;\n\n\tprivate readonly _onDidRejectEdit: Emitter<ITrustedUriItem> =\n\t\tthis._register(new Emitter<ITrustedUriItem>());\n\treadonly onDidRejectEdit: Event<ITrustedUriItem> =\n\t\tthis._onDidRejectEdit.event;\n\n\tprivate _onEdit: Emitter<ITrustedUriItem> = this._register(\n\t\tnew Emitter<ITrustedUriItem>(),\n\t);\n\treadonly onEdit: Event<ITrustedUriItem> = this._onEdit.event;\n\n\tprivate _onDelete: Emitter<ITrustedUriItem> = this._register(\n\t\tnew Emitter<ITrustedUriItem>(),\n\t);\n\treadonly onDelete: Event<ITrustedUriItem> = this._onDelete.event;\n\n\tprivate readonly table: WorkbenchTable<ITrustedUriItem>;\n\n\tprivate readonly descriptionElement: HTMLElement;\n\n\tconstructor(\n\t\tprivate readonly container: HTMLElement,\n\t\t@IInstantiationService\n\t\tprivate readonly instantiationService: IInstantiationService,\n\t\t@IWorkspaceContextService\n\t\tprivate readonly workspaceService: IWorkspaceContextService,\n\t\t@IWorkspaceTrustManagementService\n\t\tprivate readonly workspaceTrustManagementService: IWorkspaceTrustManagementService,\n\t\t@IUriIdentityService private readonly uriService: IUriIdentityService,\n\t\t@ILabelService private readonly labelService: ILabelService,\n\t\t@IFileDialogService\n\t\tprivate readonly fileDialogService: IFileDialogService,\n\t) {\n\t\tsuper();\n\n\t\tthis.descriptionElement = container.appendChild(\n\t\t\t$(\".workspace-trusted-folders-description\"),\n\t\t);\n\t\tconst tableElement = container.appendChild($(\".trusted-uris-table\"));\n\t\tconst addButtonBarElement = container.appendChild(\n\t\t\t$(\".trusted-uris-button-bar\"),\n\t\t);\n\n\t\tthis.table = this.instantiationService.createInstance(\n\t\t\tWorkbenchTable,\n\t\t\t\"WorkspaceTrust\",\n\t\t\ttableElement,\n\t\t\tnew TrustedUriTableVirtualDelegate(),\n\t\t\t[\n\t\t\t\t{\n\t\t\t\t\tlabel: localize(\"hostColumnLabel\", \"Host\"),\n\t\t\t\t\ttooltip: \"\",\n\t\t\t\t\tweight: 1,\n\t\t\t\t\ttemplateId: TrustedUriHostColumnRenderer.TEMPLATE_ID,\n\t\t\t\t\tproject(row: ITrustedUriItem): ITrustedUriItem {\n\t\t\t\t\t\treturn row;\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: localize(\"pathColumnLabel\", \"Path\"),\n\t\t\t\t\ttooltip: \"\",\n\t\t\t\t\tweight: 8,\n\t\t\t\t\ttemplateId: TrustedUriPathColumnRenderer.TEMPLATE_ID,\n\t\t\t\t\tproject(row: ITrustedUriItem): ITrustedUriItem {\n\t\t\t\t\t\treturn row;\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: \"\",\n\t\t\t\t\ttooltip: \"\",\n\t\t\t\t\tweight: 1,\n\t\t\t\t\tminimumWidth: 75,\n\t\t\t\t\tmaximumWidth: 75,\n\t\t\t\t\ttemplateId: TrustedUriActionsColumnRenderer.TEMPLATE_ID,\n\t\t\t\t\tproject(row: ITrustedUriItem): ITrustedUriItem {\n\t\t\t\t\t\treturn row;\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t],\n\t\t\t[\n\t\t\t\tthis.instantiationService.createInstance(\n\t\t\t\t\tTrustedUriHostColumnRenderer,\n\t\t\t\t),\n\t\t\t\tthis.instantiationService.createInstance(\n\t\t\t\t\tTrustedUriPathColumnRenderer,\n\t\t\t\t\tthis,\n\t\t\t\t),\n\t\t\t\tthis.instantiationService.createInstance(\n\t\t\t\t\tTrustedUriActionsColumnRenderer,\n\t\t\t\t\tthis,\n\t\t\t\t\tthis.currentWorkspaceUri,\n\t\t\t\t),\n\t\t\t],\n\t\t\t{\n\t\t\t\thorizontalScrolling: false,\n\t\t\t\talwaysConsumeMouseWheel: false,\n\t\t\t\topenOnSingleClick: false,\n\t\t\t\tmultipleSelectionSupport: false,\n\t\t\t\taccessibilityProvider: {\n\t\t\t\t\tgetAriaLabel: (item: ITrustedUriItem) => {\n\t\t\t\t\t\tconst hostLabel = getHostLabel(this.labelService, item);\n\t\t\t\t\t\tif (hostLabel === undefined || hostLabel.length === 0) {\n\t\t\t\t\t\t\treturn localize(\n\t\t\t\t\t\t\t\t\"trustedFolderAriaLabel\",\n\t\t\t\t\t\t\t\t\"{0}, trusted\",\n\t\t\t\t\t\t\t\tthis.labelService.getUriLabel(item.uri),\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn localize(\n\t\t\t\t\t\t\t\"trustedFolderWithHostAriaLabel\",\n\t\t\t\t\t\t\t\"{0} on {1}, trusted\",\n\t\t\t\t\t\t\tthis.labelService.getUriLabel(item.uri),\n\t\t\t\t\t\t\thostLabel,\n\t\t\t\t\t\t);\n\t\t\t\t\t},\n\t\t\t\t\tgetWidgetAriaLabel: () =>\n\t\t\t\t\t\tlocalize(\n\t\t\t\t\t\t\t\"trustedFoldersAndWorkspaces\",\n\t\t\t\t\t\t\t\"Trusted Folders & Workspaces\",\n\t\t\t\t\t\t),\n\t\t\t\t},\n\t\t\t\tidentityProvider: {\n\t\t\t\t\tgetId(element: ITrustedUriItem) {\n\t\t\t\t\t\treturn element.uri.toString();\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t) as WorkbenchTable<ITrustedUriItem>;\n\n\t\tthis._register(\n\t\t\tthis.table.onDidOpen((item) => {\n\t\t\t\t// default prevented when input box is double clicked #125052\n\t\t\t\tif (\n\t\t\t\t\titem &&\n\t\t\t\t\titem.element &&\n\t\t\t\t\t!item.browserEvent?.defaultPrevented\n\t\t\t\t) {\n\t\t\t\t\tthis.edit(item.element, true);\n\t\t\t\t}\n\t\t\t}),\n\t\t);\n\n\t\tconst buttonBar = this._register(new ButtonBar(addButtonBarElement));\n\t\tconst addButton = this._register(\n\t\t\tbuttonBar.addButton({\n\t\t\t\ttitle: localize(\"addButton\", \"Add Folder\"),\n\t\t\t\t...defaultButtonStyles,\n\t\t\t}),\n\t\t);\n\t\taddButton.label = localize(\"addButton\", \"Add Folder\");\n\n\t\tthis._register(\n\t\t\taddButton.onDidClick(async () => {\n\t\t\t\tconst uri = await this.fileDialogService.showOpenDialog({\n\t\t\t\t\tcanSelectFiles: false,\n\t\t\t\t\tcanSelectFolders: true,\n\t\t\t\t\tcanSelectMany: false,\n\t\t\t\t\tdefaultUri: this.currentWorkspaceUri,\n\t\t\t\t\topenLabel: localize(\"trustUri\", \"Trust Folder\"),\n\t\t\t\t\ttitle: localize(\n\t\t\t\t\t\t\"selectTrustedUri\",\n\t\t\t\t\t\t\"Select Folder To Trust\",\n\t\t\t\t\t),\n\t\t\t\t});\n\n\t\t\t\tif (uri) {\n\t\t\t\t\tthis.workspaceTrustManagementService.setUrisTrust(\n\t\t\t\t\t\turi,\n\t\t\t\t\t\ttrue,\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}),\n\t\t);\n\n\t\tthis._register(\n\t\t\tthis.workspaceTrustManagementService.onDidChangeTrustedFolders(\n\t\t\t\t() => {\n\t\t\t\t\tthis.updateTable();\n\t\t\t\t},\n\t\t\t),\n\t\t);\n\t}\n\n\tprivate getIndexOfTrustedUriEntry(item: ITrustedUriItem): number {\n\t\tconst index = this.trustedUriEntries.indexOf(item);\n\t\tif (index === -1) {\n\t\t\tfor (let i = 0; i < this.trustedUriEntries.length; i++) {\n\t\t\t\tif (this.trustedUriEntries[i].uri === item.uri) {\n\t\t\t\t\treturn i;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn index;\n\t}\n\n\tprivate selectTrustedUriEntry(item: ITrustedUriItem, focus = true): void {\n\t\tconst index = this.getIndexOfTrustedUriEntry(item);\n\t\tif (index !== -1) {\n\t\t\tif (focus) {\n\t\t\t\tthis.table.domFocus();\n\t\t\t\tthis.table.setFocus([index]);\n\t\t\t}\n\t\t\tthis.table.setSelection([index]);\n\t\t}\n\t}\n\n\tprivate get currentWorkspaceUri(): URI {\n\t\treturn (\n\t\t\tthis.workspaceService.getWorkspace().folders[0]?.uri ||\n\t\t\tURI.file(\"/\")\n\t\t);\n\t}\n\n\tprivate get trustedUriEntries(): ITrustedUriItem[] {\n\t\tconst currentWorkspace = this.workspaceService.getWorkspace();\n\t\tconst currentWorkspaceUris = currentWorkspace.folders.map(\n\t\t\t(folder) => folder.uri,\n\t\t);\n\t\tif (currentWorkspace.configuration) {\n\t\t\tcurrentWorkspaceUris.push(currentWorkspace.configuration);\n\t\t}\n\n\t\tconst entries = this.workspaceTrustManagementService\n\t\t\t.getTrustedUris()\n\t\t\t.map((uri) => {\n\t\t\t\tlet relatedToCurrentWorkspace = false;\n\t\t\t\tfor (const workspaceUri of currentWorkspaceUris) {\n\t\t\t\t\trelatedToCurrentWorkspace =\n\t\t\t\t\t\trelatedToCurrentWorkspace ||\n\t\t\t\t\t\tthis.uriService.extUri.isEqualOrParent(\n\t\t\t\t\t\t\tworkspaceUri,\n\t\t\t\t\t\t\turi,\n\t\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\treturn {\n\t\t\t\t\turi,\n\t\t\t\t\tparentOfWorkspaceItem: relatedToCurrentWorkspace,\n\t\t\t\t};\n\t\t\t});\n\n\t\t// Sort entries\n\t\tconst sortedEntries = entries.sort((a, b) => {\n\t\t\tif (a.uri.scheme !== b.uri.scheme) {\n\t\t\t\tif (a.uri.scheme === Schemas.file) {\n\t\t\t\t\treturn -1;\n\t\t\t\t}\n\n\t\t\t\tif (b.uri.scheme === Schemas.file) {\n\t\t\t\t\treturn 1;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst aIsWorkspace = a.uri.path.endsWith(\".code-workspace\");\n\t\t\tconst bIsWorkspace = b.uri.path.endsWith(\".code-workspace\");\n\n\t\t\tif (aIsWorkspace !== bIsWorkspace) {\n\t\t\t\tif (aIsWorkspace) {\n\t\t\t\t\treturn 1;\n\t\t\t\t}\n\n\t\t\t\tif (bIsWorkspace) {\n\t\t\t\t\treturn -1;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn a.uri.fsPath.localeCompare(b.uri.fsPath);\n\t\t});\n\n\t\treturn sortedEntries;\n\t}\n\n\tlayout(): void {\n\t\tthis.table.layout(\n\t\t\tthis.trustedUriEntries.length *\n\t\t\t\tTrustedUriTableVirtualDelegate.ROW_HEIGHT +\n\t\t\t\tTrustedUriTableVirtualDelegate.HEADER_ROW_HEIGHT,\n\t\t\tundefined,\n\t\t);\n\t}\n\n\tupdateTable(): void {\n\t\tconst entries = this.trustedUriEntries;\n\t\tthis.container.classList.toggle(\"empty\", entries.length === 0);\n\n\t\tthis.descriptionElement.innerText = entries.length\n\t\t\t? localize(\n\t\t\t\t\t\"trustedFoldersDescription\",\n\t\t\t\t\t\"You trust the following folders, their subfolders, and workspace files.\",\n\t\t\t\t)\n\t\t\t: localize(\n\t\t\t\t\t\"noTrustedFoldersDescriptions\",\n\t\t\t\t\t\"You haven't trusted any folders or workspace files yet.\",\n\t\t\t\t);\n\n\t\tthis.table.splice(0, Number.POSITIVE_INFINITY, this.trustedUriEntries);\n\t\tthis.layout();\n\t}\n\n\tvalidateUri(path: string, item?: ITrustedUriItem): IMessage | null {\n\t\tif (!item) {\n\t\t\treturn null;\n\t\t}\n\n\t\tif (item.uri.scheme === \"vscode-vfs\") {\n\t\t\tconst segments = path.split(posix.sep).filter((s) => s.length);\n\t\t\tif (segments.length === 0 && path.startsWith(posix.sep)) {\n\t\t\t\treturn {\n\t\t\t\t\ttype: MessageType.WARNING,\n\t\t\t\t\tcontent: localize(\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tkey: \"trustAll\",\n\t\t\t\t\t\t\tcomment: [\n\t\t\t\t\t\t\t\t\"The {0} will be a host name where repositories are hosted.\",\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t},\n\t\t\t\t\t\t\"You will trust all repositories on {0}.\",\n\t\t\t\t\t\tgetHostLabel(this.labelService, item),\n\t\t\t\t\t),\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tif (segments.length === 1) {\n\t\t\t\treturn {\n\t\t\t\t\ttype: MessageType.WARNING,\n\t\t\t\t\tcontent: localize(\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tkey: \"trustOrg\",\n\t\t\t\t\t\t\tcomment: [\n\t\t\t\t\t\t\t\t\"The {0} will be an organization or user name.\",\n\t\t\t\t\t\t\t\t\"The {1} will be a host name where repositories are hosted.\",\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t},\n\t\t\t\t\t\t\"You will trust all repositories and forks under '{0}' on {1}.\",\n\t\t\t\t\t\tsegments[0],\n\t\t\t\t\t\tgetHostLabel(this.labelService, item),\n\t\t\t\t\t),\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tif (segments.length > 2) {\n\t\t\t\treturn {\n\t\t\t\t\ttype: MessageType.ERROR,\n\t\t\t\t\tcontent: localize(\n\t\t\t\t\t\t\"invalidTrust\",\n\t\t\t\t\t\t\"You cannot trust individual folders within a repository.\",\n\t\t\t\t\t\tpath,\n\t\t\t\t\t),\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tacceptEdit(item: ITrustedUriItem, uri: URI) {\n\t\tconst trustedFolders =\n\t\t\tthis.workspaceTrustManagementService.getTrustedUris();\n\t\tconst index = trustedFolders.findIndex((u) =>\n\t\t\tthis.uriService.extUri.isEqual(u, item.uri),\n\t\t);\n\n\t\tif (index >= trustedFolders.length || index === -1) {\n\t\t\ttrustedFolders.push(uri);\n\t\t} else {\n\t\t\ttrustedFolders[index] = uri;\n\t\t}\n\n\t\tthis.workspaceTrustManagementService.setTrustedUris(trustedFolders);\n\t\tthis._onDidAcceptEdit.fire(item);\n\t}\n\n\trejectEdit(item: ITrustedUriItem) {\n\t\tthis._onDidRejectEdit.fire(item);\n\t}\n\n\tasync delete(item: ITrustedUriItem) {\n\t\tthis.table.focusNext();\n\t\tawait this.workspaceTrustManagementService.setUrisTrust(\n\t\t\t[item.uri],\n\t\t\tfalse,\n\t\t);\n\n\t\tif (this.table.getFocus().length === 0) {\n\t\t\tthis.table.focusLast();\n\t\t}\n\t\tthis._onDelete.fire(item);\n\t\tthis.table.domFocus();\n\t}\n\n\tasync edit(item: ITrustedUriItem, usePickerIfPossible?: boolean) {\n\t\tconst canUseOpenDialog =\n\t\t\titem.uri.scheme === Schemas.file ||\n\t\t\t(item.uri.scheme === this.currentWorkspaceUri.scheme &&\n\t\t\t\tthis.uriService.extUri.isEqualAuthority(\n\t\t\t\t\tthis.currentWorkspaceUri.authority,\n\t\t\t\t\titem.uri.authority,\n\t\t\t\t) &&\n\t\t\t\t!isVirtualResource(item.uri));\n\t\tif (canUseOpenDialog && usePickerIfPossible) {\n\t\t\tconst uri = await this.fileDialogService.showOpenDialog({\n\t\t\t\tcanSelectFiles: false,\n\t\t\t\tcanSelectFolders: true,\n\t\t\t\tcanSelectMany: false,\n\t\t\t\tdefaultUri: item.uri,\n\t\t\t\topenLabel: localize(\"trustUri\", \"Trust Folder\"),\n\t\t\t\ttitle: localize(\"selectTrustedUri\", \"Select Folder To Trust\"),\n\t\t\t});\n\n\t\t\tif (uri) {\n\t\t\t\tthis.acceptEdit(item, uri[0]);\n\t\t\t} else {\n\t\t\t\tthis.rejectEdit(item);\n\t\t\t}\n\t\t} else {\n\t\t\tthis.selectTrustedUriEntry(item);\n\t\t\tthis._onEdit.fire(item);\n\t\t}\n\t}\n}\n\nclass TrustedUriTableVirtualDelegate\n\timplements ITableVirtualDelegate<ITrustedUriItem>\n{\n\tstatic readonly HEADER_ROW_HEIGHT = 30;\n\tstatic readonly ROW_HEIGHT = 24;\n\treadonly headerRowHeight = TrustedUriTableVirtualDelegate.HEADER_ROW_HEIGHT;\n\tgetHeight(item: ITrustedUriItem) {\n\t\treturn TrustedUriTableVirtualDelegate.ROW_HEIGHT;\n\t}\n}\n\ninterface IActionsColumnTemplateData {\n\treadonly actionBar: ActionBar;\n}\n\nclass TrustedUriActionsColumnRenderer\n\timplements ITableRenderer<ITrustedUriItem, IActionsColumnTemplateData>\n{\n\tstatic readonly TEMPLATE_ID = \"actions\";\n\n\treadonly templateId: string = TrustedUriActionsColumnRenderer.TEMPLATE_ID;\n\n\tconstructor(\n\t\tprivate readonly table: WorkspaceTrustedUrisTable,\n\t\tprivate readonly currentWorkspaceUri: URI,\n\t\t@IUriIdentityService private readonly uriService: IUriIdentityService,\n\t) {}\n\n\trenderTemplate(container: HTMLElement): IActionsColumnTemplateData {\n\t\tconst element = container.appendChild($(\".actions\"));\n\t\tconst actionBar = new ActionBar(element);\n\t\treturn { actionBar };\n\t}\n\n\trenderElement(\n\t\titem: ITrustedUriItem,\n\t\tindex: number,\n\t\ttemplateData: IActionsColumnTemplateData,\n\t\theight: number | undefined,\n\t): void {\n\t\ttemplateData.actionBar.clear();\n\n\t\tconst canUseOpenDialog =\n\t\t\titem.uri.scheme === Schemas.file ||\n\t\t\t(item.uri.scheme === this.currentWorkspaceUri.scheme &&\n\t\t\t\tthis.uriService.extUri.isEqualAuthority(\n\t\t\t\t\tthis.currentWorkspaceUri.authority,\n\t\t\t\t\titem.uri.authority,\n\t\t\t\t) &&\n\t\t\t\t!isVirtualResource(item.uri));\n\n\t\tconst actions: IAction[] = [];\n\t\tif (canUseOpenDialog) {\n\t\t\tactions.push(this.createPickerAction(item));\n\t\t}\n\t\tactions.push(this.createEditAction(item));\n\t\tactions.push(this.createDeleteAction(item));\n\t\ttemplateData.actionBar.push(actions, { icon: true });\n\t}\n\n\tprivate createEditAction(item: ITrustedUriItem): IAction {\n\t\treturn {\n\t\t\tlabel: \"\",\n\t\t\tclass: ThemeIcon.asClassName(editIcon),\n\t\t\tenabled: true,\n\t\t\tid: \"editTrustedUri\",\n\t\t\ttooltip: localize(\"editTrustedUri\", \"Edit Path\"),\n\t\t\trun: () => {\n\t\t\t\tthis.table.edit(item, false);\n\t\t\t},\n\t\t};\n\t}\n\n\tprivate createPickerAction(item: ITrustedUriItem): IAction {\n\t\treturn {\n\t\t\tlabel: \"\",\n\t\t\tclass: ThemeIcon.asClassName(folderPickerIcon),\n\t\t\tenabled: true,\n\t\t\tid: \"pickerTrustedUri\",\n\t\t\ttooltip: localize(\"pickerTrustedUri\", \"Open File Picker\"),\n\t\t\trun: () => {\n\t\t\t\tthis.table.edit(item, true);\n\t\t\t},\n\t\t};\n\t}\n\n\tprivate createDeleteAction(item: ITrustedUriItem): IAction {\n\t\treturn {\n\t\t\tlabel: \"\",\n\t\t\tclass: ThemeIcon.asClassName(removeIcon),\n\t\t\tenabled: true,\n\t\t\tid: \"deleteTrustedUri\",\n\t\t\ttooltip: localize(\"deleteTrustedUri\", \"Delete Path\"),\n\t\t\trun: async () => {\n\t\t\t\tawait this.table.delete(item);\n\t\t\t},\n\t\t};\n\t}\n\n\tdisposeTemplate(templateData: IActionsColumnTemplateData): void {\n\t\ttemplateData.actionBar.dispose();\n\t}\n}\n\ninterface ITrustedUriPathColumnTemplateData {\n\telement: HTMLElement;\n\tpathLabel: HTMLElement;\n\tpathInput: InputBox;\n\trenderDisposables: DisposableStore;\n\tdisposables: DisposableStore;\n}\n\nclass TrustedUriPathColumnRenderer\n\timplements\n\t\tITableRenderer<ITrustedUriItem, ITrustedUriPathColumnTemplateData>\n{\n\tstatic readonly TEMPLATE_ID = \"path\";\n\n\treadonly templateId: string = TrustedUriPathColumnRenderer.TEMPLATE_ID;\n\tprivate currentItem?: ITrustedUriItem;\n\n\tconstructor(\n\t\tprivate readonly table: WorkspaceTrustedUrisTable,\n\t\t@IContextViewService\n\t\tprivate readonly contextViewService: IContextViewService,\n\t) {}\n\n\trenderTemplate(container: HTMLElement): ITrustedUriPathColumnTemplateData {\n\t\tconst element = container.appendChild($(\".path\"));\n\t\tconst pathLabel = element.appendChild($(\"div.path-label\"));\n\n\t\tconst pathInput = new InputBox(element, this.contextViewService, {\n\t\t\tvalidationOptions: {\n\t\t\t\tvalidation: (value) =>\n\t\t\t\t\tthis.table.validateUri(value, this.currentItem),\n\t\t\t},\n\t\t\tinputBoxStyles: defaultInputBoxStyles,\n\t\t});\n\n\t\tconst disposables = new DisposableStore();\n\t\tconst renderDisposables = disposables.add(new DisposableStore());\n\n\t\treturn {\n\t\t\telement,\n\t\t\tpathLabel,\n\t\t\tpathInput,\n\t\t\tdisposables,\n\t\t\trenderDisposables,\n\t\t};\n\t}\n\n\trenderElement(\n\t\titem: ITrustedUriItem,\n\t\tindex: number,\n\t\ttemplateData: ITrustedUriPathColumnTemplateData,\n\t\theight: number | undefined,\n\t): void {\n\t\ttemplateData.renderDisposables.clear();\n\n\t\tthis.currentItem = item;\n\t\ttemplateData.renderDisposables.add(\n\t\t\tthis.table.onEdit(async (e) => {\n\t\t\t\tif (item === e) {\n\t\t\t\t\ttemplateData.element.classList.add(\"input-mode\");\n\t\t\t\t\ttemplateData.pathInput.focus();\n\t\t\t\t\ttemplateData.pathInput.select();\n\t\t\t\t\ttemplateData.element.parentElement!.style.paddingLeft =\n\t\t\t\t\t\t\"0px\";\n\t\t\t\t}\n\t\t\t}),\n\t\t);\n\n\t\t// stop double click action from re-rendering the element on the table #125052\n\t\ttemplateData.renderDisposables.add(\n\t\t\taddDisposableListener(\n\t\t\t\ttemplateData.pathInput.element,\n\t\t\t\tEventType.DBLCLICK,\n\t\t\t\t(e) => {\n\t\t\t\t\tEventHelper.stop(e);\n\t\t\t\t},\n\t\t\t),\n\t\t);\n\n\t\tconst hideInputBox = () => {\n\t\t\ttemplateData.element.classList.remove(\"input-mode\");\n\t\t\ttemplateData.element.parentElement!.style.paddingLeft = \"5px\";\n\t\t};\n\n\t\tconst accept = () => {\n\t\t\thideInputBox();\n\n\t\t\tconst pathToUse = templateData.pathInput.value;\n\t\t\tconst uri = hasDriveLetter(pathToUse)\n\t\t\t\t? item.uri.with({ path: posix.sep + toSlashes(pathToUse) })\n\t\t\t\t: item.uri.with({ path: pathToUse });\n\t\t\ttemplateData.pathLabel.innerText = this.formatPath(uri);\n\n\t\t\tif (uri) {\n\t\t\t\tthis.table.acceptEdit(item, uri);\n\t\t\t}\n\t\t};\n\n\t\tconst reject = () => {\n\t\t\thideInputBox();\n\t\t\ttemplateData.pathInput.value = stringValue;\n\t\t\tthis.table.rejectEdit(item);\n\t\t};\n\n\t\ttemplateData.renderDisposables.add(\n\t\t\taddStandardDisposableListener(\n\t\t\t\ttemplateData.pathInput.inputElement,\n\t\t\t\tEventType.KEY_DOWN,\n\t\t\t\t(e) => {\n\t\t\t\t\tlet handled = false;\n\t\t\t\t\tif (e.equals(KeyCode.Enter)) {\n\t\t\t\t\t\taccept();\n\t\t\t\t\t\thandled = true;\n\t\t\t\t\t} else if (e.equals(KeyCode.Escape)) {\n\t\t\t\t\t\treject();\n\t\t\t\t\t\thandled = true;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (handled) {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t),\n\t\t);\n\t\ttemplateData.renderDisposables.add(\n\t\t\taddDisposableListener(\n\t\t\t\ttemplateData.pathInput.inputElement,\n\t\t\t\tEventType.BLUR,\n\t\t\t\t() => {\n\t\t\t\t\treject();\n\t\t\t\t},\n\t\t\t),\n\t\t);\n\n\t\tconst stringValue = this.formatPath(item.uri);\n\t\ttemplateData.pathInput.value = stringValue;\n\t\ttemplateData.pathLabel.innerText = stringValue;\n\t\ttemplateData.element.classList.toggle(\n\t\t\t\"current-workspace-parent\",\n\t\t\titem.parentOfWorkspaceItem,\n\t\t);\n\t}\n\n\tdisposeTemplate(templateData: ITrustedUriPathColumnTemplateData): void {\n\t\ttemplateData.disposables.dispose();\n\t\ttemplateData.renderDisposables.dispose();\n\t}\n\n\tprivate formatPath(uri: URI): string {\n\t\tif (uri.scheme === Schemas.file) {\n\t\t\treturn normalizeDriveLetter(uri.fsPath);\n\t\t}\n\n\t\t// If the path is not a file uri, but points to a windows remote, we should create windows fs path\n\t\t// e.g. /c:/user/directory => C:\\user\\directory\n\t\tif (uri.path.startsWith(posix.sep)) {\n\t\t\tconst pathWithoutLeadingSeparator = uri.path.substring(1);\n\t\t\tconst isWindowsPath = hasDriveLetter(\n\t\t\t\tpathWithoutLeadingSeparator,\n\t\t\t\ttrue,\n\t\t\t);\n\t\t\tif (isWindowsPath) {\n\t\t\t\treturn normalizeDriveLetter(\n\t\t\t\t\twin32.normalize(pathWithoutLeadingSeparator),\n\t\t\t\t\ttrue,\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\treturn uri.path;\n\t}\n}\n\ninterface ITrustedUriHostColumnTemplateData {\n\telement: HTMLElement;\n\thostContainer: HTMLElement;\n\tbuttonBarContainer: HTMLElement;\n\tdisposables: DisposableStore;\n\trenderDisposables: DisposableStore;\n}\n\nfunction getHostLabel(\n\tlabelService: ILabelService,\n\titem: ITrustedUriItem,\n): string {\n\treturn item.uri.authority\n\t\t? labelService.getHostLabel(item.uri.scheme, item.uri.authority)\n\t\t: localize(\"localAuthority\", \"Local\");\n}\n\nclass TrustedUriHostColumnRenderer\n\timplements\n\t\tITableRenderer<ITrustedUriItem, ITrustedUriHostColumnTemplateData>\n{\n\tstatic readonly TEMPLATE_ID = \"host\";\n\n\treadonly templateId: string = TrustedUriHostColumnRenderer.TEMPLATE_ID;\n\n\tconstructor(@ILabelService private readonly labelService: ILabelService) {}\n\n\trenderTemplate(container: HTMLElement): ITrustedUriHostColumnTemplateData {\n\t\tconst disposables = new DisposableStore();\n\t\tconst renderDisposables = disposables.add(new DisposableStore());\n\n\t\tconst element = container.appendChild($(\".host\"));\n\t\tconst hostContainer = element.appendChild($(\"div.host-label\"));\n\t\tconst buttonBarContainer = element.appendChild($(\"div.button-bar\"));\n\n\t\treturn {\n\t\t\telement,\n\t\t\thostContainer,\n\t\t\tbuttonBarContainer,\n\t\t\tdisposables,\n\t\t\trenderDisposables,\n\t\t};\n\t}\n\n\trenderElement(\n\t\titem: ITrustedUriItem,\n\t\tindex: number,\n\t\ttemplateData: ITrustedUriHostColumnTemplateData,\n\t\theight: number | undefined,\n\t): void {\n\t\ttemplateData.renderDisposables.clear();\n\t\ttemplateData.renderDisposables.add({\n\t\t\tdispose: () => {\n\t\t\t\tclearNode(templateData.buttonBarContainer);\n\t\t\t},\n\t\t});\n\n\t\ttemplateData.hostContainer.innerText = getHostLabel(\n\t\t\tthis.labelService,\n\t\t\titem,\n\t\t);\n\t\ttemplateData.element.classList.toggle(\n\t\t\t\"current-workspace-parent\",\n\t\t\titem.parentOfWorkspaceItem,\n\t\t);\n\n\t\ttemplateData.hostContainer.style.display = \"\";\n\t\ttemplateData.buttonBarContainer.style.display = \"none\";\n\t}\n\n\tdisposeTemplate(templateData: ITrustedUriHostColumnTemplateData): void {\n\t\ttemplateData.disposables.dispose();\n\t}\n}\n\nexport class WorkspaceTrustEditor extends EditorPane {\n\tstatic readonly ID: string = \"workbench.editor.workspaceTrust\";\n\tprivate rootElement!: HTMLElement;\n\n\t// Header Section\n\tprivate headerContainer!: HTMLElement;\n\tprivate headerTitleContainer!: HTMLElement;\n\tprivate headerTitleIcon!: HTMLElement;\n\tprivate headerTitleText!: HTMLElement;\n\tprivate headerDescription!: HTMLElement;\n\n\tprivate bodyScrollBar!: DomScrollableElement;\n\n\t// Affected Features Section\n\tprivate affectedFeaturesContainer!: HTMLElement;\n\tprivate trustedContainer!: HTMLElement;\n\tprivate untrustedContainer!: HTMLElement;\n\n\t// Settings Section\n\tprivate configurationContainer!: HTMLElement;\n\tprivate workspaceTrustedUrisTable!: WorkspaceTrustedUrisTable;\n\n\tconstructor(\n\t\tgroup: IEditorGroup,\n\t\t@ITelemetryService telemetryService: ITelemetryService,\n\t\t@IThemeService themeService: IThemeService,\n\t\t@IStorageService storageService: IStorageService,\n\t\t@IWorkspaceContextService\n\t\tprivate readonly workspaceService: IWorkspaceContextService,\n\t\t@IExtensionsWorkbenchService\n\t\tprivate readonly extensionWorkbenchService: IExtensionsWorkbenchService,\n\t\t@IExtensionManifestPropertiesService\n\t\tprivate readonly extensionManifestPropertiesService: IExtensionManifestPropertiesService,\n\t\t@IInstantiationService\n\t\tprivate readonly instantiationService: IInstantiationService,\n\t\t@IWorkspaceTrustManagementService\n\t\tprivate readonly workspaceTrustManagementService: IWorkspaceTrustManagementService,\n\t\t@IWorkbenchConfigurationService\n\t\tprivate readonly configurationService: IWorkbenchConfigurationService,\n\t\t@IWorkbenchExtensionEnablementService\n\t\tprivate readonly extensionEnablementService: IWorkbenchExtensionEnablementService,\n\t\t@IProductService private readonly productService: IProductService,\n\t\t@IKeybindingService\n\t\tprivate readonly keybindingService: IKeybindingService,\n\t) {\n\t\tsuper(\n\t\t\tWorkspaceTrustEditor.ID,\n\t\t\tgroup,\n\t\t\ttelemetryService,\n\t\t\tthemeService,\n\t\t\tstorageService,\n\t\t);\n\t}\n\n\tprotected createEditor(parent: HTMLElement): void {\n\t\tthis.rootElement = append(\n\t\t\tparent,\n\t\t\t$(\".workspace-trust-editor\", { tabindex: \"0\" }),\n\t\t);\n\n\t\tthis.createHeaderElement(this.rootElement);\n\n\t\tconst scrollableContent = $(\".workspace-trust-editor-body\");\n\t\tthis.bodyScrollBar = this._register(\n\t\t\tnew DomScrollableElement(scrollableContent, {\n\t\t\t\thorizontal: ScrollbarVisibility.Hidden,\n\t\t\t\tvertical: ScrollbarVisibility.Auto,\n\t\t\t}),\n\t\t);\n\n\t\tappend(this.rootElement, this.bodyScrollBar.getDomNode());\n\n\t\tthis.createAffectedFeaturesElement(scrollableContent);\n\t\tthis.createConfigurationElement(scrollableContent);\n\n\t\tthis.rootElement.style.setProperty(\n\t\t\t\"--workspace-trust-selected-color\",\n\t\t\tasCssVariable(buttonBackground),\n\t\t);\n\t\tthis.rootElement.style.setProperty(\n\t\t\t\"--workspace-trust-unselected-color\",\n\t\t\tasCssVariable(buttonSecondaryBackground),\n\t\t);\n\t\tthis.rootElement.style.setProperty(\n\t\t\t\"--workspace-trust-check-color\",\n\t\t\tasCssVariable(debugIconStartForeground),\n\t\t);\n\t\tthis.rootElement.style.setProperty(\n\t\t\t\"--workspace-trust-x-color\",\n\t\t\tasCssVariable(editorErrorForeground),\n\t\t);\n\n\t\t// Navigate page with keyboard\n\t\tthis._register(\n\t\t\taddDisposableListener(this.rootElement, EventType.KEY_DOWN, (e) => {\n\t\t\t\tconst event = new StandardKeyboardEvent(e);\n\n\t\t\t\tif (\n\t\t\t\t\tevent.equals(KeyCode.UpArrow) ||\n\t\t\t\t\tevent.equals(KeyCode.DownArrow)\n\t\t\t\t) {\n\t\t\t\t\tconst navOrder = [\n\t\t\t\t\t\tthis.headerContainer,\n\t\t\t\t\t\tthis.trustedContainer,\n\t\t\t\t\t\tthis.untrustedContainer,\n\t\t\t\t\t\tthis.configurationContainer,\n\t\t\t\t\t];\n\t\t\t\t\tconst currentIndex = navOrder.findIndex((element) => {\n\t\t\t\t\t\treturn isAncestorOfActiveElement(element);\n\t\t\t\t\t});\n\n\t\t\t\t\tlet newIndex = currentIndex;\n\t\t\t\t\tif (event.equals(KeyCode.DownArrow)) {\n\t\t\t\t\t\tnewIndex++;\n\t\t\t\t\t} else if (event.equals(KeyCode.UpArrow)) {\n\t\t\t\t\t\tnewIndex = Math.max(0, newIndex);\n\t\t\t\t\t\tnewIndex--;\n\t\t\t\t\t}\n\n\t\t\t\t\tnewIndex += navOrder.length;\n\t\t\t\t\tnewIndex %= navOrder.length;\n\n\t\t\t\t\tnavOrder[newIndex].focus();\n\t\t\t\t} else if (event.equals(KeyCode.Escape)) {\n\t\t\t\t\tthis.rootElement.focus();\n\t\t\t\t} else if (event.equals(KeyMod.CtrlCmd | KeyCode.Enter)) {\n\t\t\t\t\tif (\n\t\t\t\t\t\tthis.workspaceTrustManagementService.canSetWorkspaceTrust()\n\t\t\t\t\t) {\n\t\t\t\t\t\tthis.workspaceTrustManagementService.setWorkspaceTrust(\n\t\t\t\t\t\t\t!this.workspaceTrustManagementService.isWorkspaceTrusted(),\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t} else if (\n\t\t\t\t\tevent.equals(KeyMod.CtrlCmd | KeyMod.Shift | KeyCode.Enter)\n\t\t\t\t) {\n\t\t\t\t\tif (\n\t\t\t\t\t\tthis.workspaceTrustManagementService.canSetParentFolderTrust()\n\t\t\t\t\t) {\n\t\t\t\t\t\tthis.workspaceTrustManagementService.setParentFolderTrust(\n\t\t\t\t\t\t\ttrue,\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}),\n\t\t);\n\t}\n\n\toverride focus() {\n\t\tsuper.focus();\n\n\t\tthis.rootElement.focus();\n\t}\n\n\toverride async setInput(\n\t\tinput: WorkspaceTrustEditorInput,\n\t\toptions: IEditorOptions | undefined,\n\t\tcontext: IEditorOpenContext,\n\t\ttoken: CancellationToken,\n\t): Promise<void> {\n\t\tawait super.setInput(input, options, context, token);\n\t\tif (token.isCancellationRequested) {\n\t\t\treturn;\n\t\t}\n\n\t\tawait this.workspaceTrustManagementService.workspaceTrustInitialized;\n\t\tthis.registerListeners();\n\t\tawait this.render();\n\t}\n\n\tprivate registerListeners(): void {\n\t\tthis._register(\n\t\t\tthis.extensionWorkbenchService.onChange(() => this.render()),\n\t\t);\n\t\tthis._register(\n\t\t\tthis.configurationService.onDidChangeRestrictedSettings(() =>\n\t\t\t\tthis.render(),\n\t\t\t),\n\t\t);\n\t\tthis._register(\n\t\t\tthis.workspaceTrustManagementService.onDidChangeTrust(() =>\n\t\t\t\tthis.render(),\n\t\t\t),\n\t\t);\n\t\tthis._register(\n\t\t\tthis.workspaceTrustManagementService.onDidChangeTrustedFolders(() =>\n\t\t\t\tthis.render(),\n\t\t\t),\n\t\t);\n\t}\n\n\tprivate getHeaderContainerClass(trusted: boolean): string {\n\t\tif (trusted) {\n\t\t\treturn \"workspace-trust-header workspace-trust-trusted\";\n\t\t}\n\n\t\treturn \"workspace-trust-header workspace-trust-untrusted\";\n\t}\n\n\tprivate getHeaderTitleText(trusted: boolean): string {\n\t\tif (trusted) {\n\t\t\tif (this.workspaceTrustManagementService.isWorkspaceTrustForced()) {\n\t\t\t\treturn localize(\n\t\t\t\t\t\"trustedUnsettableWindow\",\n\t\t\t\t\t\"This window is trusted\",\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tswitch (this.workspaceService.getWorkbenchState()) {\n\t\t\t\tcase WorkbenchState.EMPTY:\n\t\t\t\t\treturn localize(\n\t\t\t\t\t\t\"trustedHeaderWindow\",\n\t\t\t\t\t\t\"You trust this window\",\n\t\t\t\t\t);\n\t\t\t\tcase WorkbenchState.FOLDER:\n\t\t\t\t\treturn localize(\n\t\t\t\t\t\t\"trustedHeaderFolder\",\n\t\t\t\t\t\t\"You trust this folder\",\n\t\t\t\t\t);\n\t\t\t\tcase WorkbenchState.WORKSPACE:\n\t\t\t\t\treturn localize(\n\t\t\t\t\t\t\"trustedHeaderWorkspace\",\n\t\t\t\t\t\t\"You trust this workspace\",\n\t\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\treturn localize(\"untrustedHeader\", \"You are in Restricted Mode\");\n\t}\n\n\tprivate getHeaderTitleIconClassNames(trusted: boolean): string[] {\n\t\treturn ThemeIcon.asClassNameArray(shieldIcon);\n\t}\n\n\tprivate getFeaturesHeaderText(trusted: boolean): [string, string] {\n\t\tlet title = \"\";\n\t\tlet subTitle = \"\";\n\n\t\tswitch (this.workspaceService.getWorkbenchState()) {\n\t\t\tcase WorkbenchState.EMPTY: {\n\t\t\t\ttitle = trusted\n\t\t\t\t\t? localize(\"trustedWindow\", \"In a Trusted Window\")\n\t\t\t\t\t: localize(\"untrustedWorkspace\", \"In Restricted Mode\");\n\t\t\t\tsubTitle = trusted\n\t\t\t\t\t? localize(\n\t\t\t\t\t\t\t\"trustedWindowSubtitle\",\n\t\t\t\t\t\t\t\"You trust the authors of the files in the current window. All features are enabled:\",\n\t\t\t\t\t\t)\n\t\t\t\t\t: localize(\n\t\t\t\t\t\t\t\"untrustedWindowSubtitle\",\n\t\t\t\t\t\t\t\"You do not trust the authors of the files in the current window. The following features are disabled:\",\n\t\t\t\t\t\t);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase WorkbenchState.FOLDER: {\n\t\t\t\ttitle = trusted\n\t\t\t\t\t? localize(\"trustedFolder\", \"In a Trusted Folder\")\n\t\t\t\t\t: localize(\"untrustedWorkspace\", \"In Restricted Mode\");\n\t\t\t\tsubTitle = trusted\n\t\t\t\t\t? localize(\n\t\t\t\t\t\t\t\"trustedFolderSubtitle\",\n\t\t\t\t\t\t\t\"You trust the authors of the files in the current folder. All features are enabled:\",\n\t\t\t\t\t\t)\n\t\t\t\t\t: localize(\n\t\t\t\t\t\t\t\"untrustedFolderSubtitle\",\n\t\t\t\t\t\t\t\"You do not trust the authors of the files in the current folder. The following features are disabled:\",\n\t\t\t\t\t\t);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase WorkbenchState.WORKSPACE: {\n\t\t\t\ttitle = trusted\n\t\t\t\t\t? localize(\"trustedWorkspace\", \"In a Trusted Workspace\")\n\t\t\t\t\t: localize(\"untrustedWorkspace\", \"In Restricted Mode\");\n\t\t\t\tsubTitle = trusted\n\t\t\t\t\t? localize(\n\t\t\t\t\t\t\t\"trustedWorkspaceSubtitle\",\n\t\t\t\t\t\t\t\"You trust the authors of the files in the current workspace. All features are enabled:\",\n\t\t\t\t\t\t)\n\t\t\t\t\t: localize(\n\t\t\t\t\t\t\t\"untrustedWorkspaceSubtitle\",\n\t\t\t\t\t\t\t\"You do not trust the authors of the files in the current workspace. The following features are disabled:\",\n\t\t\t\t\t\t);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn [title, subTitle];\n\t}\n\n\tprivate rendering = false;\n\tprivate readonly rerenderDisposables: DisposableStore = this._register(\n\t\tnew DisposableStore(),\n\t);\n\t@debounce(100)\n\tprivate async render() {\n\t\tif (this.rendering) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.rendering = true;\n\t\tthis.rerenderDisposables.clear();\n\n\t\tconst isWorkspaceTrusted =\n\t\t\tthis.workspaceTrustManagementService.isWorkspaceTrusted();\n\t\tthis.rootElement.classList.toggle(\"trusted\", isWorkspaceTrusted);\n\t\tthis.rootElement.classList.toggle(\"untrusted\", !isWorkspaceTrusted);\n\n\t\t// Header Section\n\t\tthis.headerTitleText.innerText =\n\t\t\tthis.getHeaderTitleText(isWorkspaceTrusted);\n\t\tthis.headerTitleIcon.className = \"workspace-trust-title-icon\";\n\t\tthis.headerTitleIcon.classList.add(\n\t\t\t...this.getHeaderTitleIconClassNames(isWorkspaceTrusted),\n\t\t);\n\t\tthis.headerDescription.innerText = \"\";\n\n\t\tconst headerDescriptionText = append(this.headerDescription, $(\"div\"));\n\t\theaderDescriptionText.innerText = isWorkspaceTrusted\n\t\t\t? localize(\n\t\t\t\t\t\"trustedDescription\",\n\t\t\t\t\t\"All features are enabled because trust has been granted to the workspace.\",\n\t\t\t\t)\n\t\t\t: localize(\n\t\t\t\t\t\"untrustedDescription\",\n\t\t\t\t\t\"{0} is in a restricted mode intended for safe code browsing.\",\n\t\t\t\t\tthis.productService.nameShort,\n\t\t\t\t);\n\n\t\tconst headerDescriptionActions = append(\n\t\t\tthis.headerDescription,\n\t\t\t$(\"div\"),\n\t\t);\n\t\tconst headerDescriptionActionsText = localize(\n\t\t\t{\n\t\t\t\tkey: \"workspaceTrustEditorHeaderActions\",\n\t\t\t\tcomment: [\n\t\t\t\t\t\"Please ensure the markdown link syntax is not broken up with whitespace [text block](link block)\",\n\t\t\t\t],\n\t\t\t},\n\t\t\t\"[Configure your settings]({0}) or [learn more](https://aka.ms/vscode-workspace-trust).\",\n\t\t\t`command:workbench.trust.configure`,\n\t\t);\n\t\tfor (const node of parseLinkedText(headerDescriptionActionsText)\n\t\t\t.nodes) {\n\t\t\tif (typeof node === \"string\") {\n\t\t\t\tappend(headerDescriptionActions, document.createTextNode(node));\n\t\t\t} else {\n\t\t\t\tthis.rerenderDisposables.add(\n\t\t\t\t\tthis.instantiationService.createInstance(\n\t\t\t\t\t\tLink,\n\t\t\t\t\t\theaderDescriptionActions,\n\t\t\t\t\t\t{ ...node, tabIndex: -1 },\n\t\t\t\t\t\t{},\n\t\t\t\t\t),\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tthis.headerContainer.className =\n\t\t\tthis.getHeaderContainerClass(isWorkspaceTrusted);\n\t\tthis.rootElement.setAttribute(\n\t\t\t\"aria-label\",\n\t\t\t`${localize(\"root element label\", \"Manage Workspace Trust\")}:  ${this.headerContainer.innerText}`,\n\t\t);\n\n\t\t// Settings\n\t\tconst restrictedSettings = this.configurationService.restrictedSettings;\n\t\tconst configurationRegistry = Registry.as<IConfigurationRegistry>(\n\t\t\tExtensions.Configuration,\n\t\t);\n\t\tconst settingsRequiringTrustedWorkspaceCount =\n\t\t\trestrictedSettings.default.filter((key) => {\n\t\t\t\tconst property =\n\t\t\t\t\tconfigurationRegistry.getConfigurationProperties()[key];\n\n\t\t\t\t// cannot be configured in workspace\n\t\t\t\tif (\n\t\t\t\t\tproperty.scope === ConfigurationScope.APPLICATION ||\n\t\t\t\t\tproperty.scope === ConfigurationScope.MACHINE\n\t\t\t\t) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\t// If deprecated include only those configured in the workspace\n\t\t\t\tif (\n\t\t\t\t\tproperty.deprecationMessage ||\n\t\t\t\t\tproperty.markdownDeprecationMessage\n\t\t\t\t) {\n\t\t\t\t\tif (restrictedSettings.workspace?.includes(key)) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tif (restrictedSettings.workspaceFolder) {\n\t\t\t\t\t\tfor (const workspaceFolderSettings of restrictedSettings.workspaceFolder.values()) {\n\t\t\t\t\t\t\tif (workspaceFolderSettings.includes(key)) {\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\t\t\t}).length;\n\n\t\t// Features List\n\t\tthis.renderAffectedFeatures(\n\t\t\tsettingsRequiringTrustedWorkspaceCount,\n\t\t\tthis.getExtensionCount(),\n\t\t);\n\n\t\t// Configuration Tree\n\t\tthis.workspaceTrustedUrisTable.updateTable();\n\n\t\tthis.bodyScrollBar.getDomNode().style.height = `calc(100% - ${this.headerContainer.clientHeight}px)`;\n\t\tthis.bodyScrollBar.scanDomNode();\n\t\tthis.rendering = false;\n\t}\n\n\tprivate getExtensionCount(): number {\n\t\tconst set = new Set<string>();\n\n\t\tconst inVirtualWorkspace = isVirtualWorkspace(\n\t\t\tthis.workspaceService.getWorkspace(),\n\t\t);\n\t\tconst localExtensions = this.extensionWorkbenchService.local\n\t\t\t.filter((ext) => ext.local)\n\t\t\t.map((ext) => ext.local!);\n\n\t\tfor (const extension of localExtensions) {\n\t\t\tconst enablementState =\n\t\t\t\tthis.extensionEnablementService.getEnablementState(extension);\n\t\t\tif (\n\t\t\t\tenablementState !== EnablementState.EnabledGlobally &&\n\t\t\t\tenablementState !== EnablementState.EnabledWorkspace &&\n\t\t\t\tenablementState !==\n\t\t\t\t\tEnablementState.DisabledByTrustRequirement &&\n\t\t\t\tenablementState !==\n\t\t\t\t\tEnablementState.DisabledByExtensionDependency\n\t\t\t) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\tinVirtualWorkspace &&\n\t\t\t\tthis.extensionManifestPropertiesService.getExtensionVirtualWorkspaceSupportType(\n\t\t\t\t\textension.manifest,\n\t\t\t\t) === false\n\t\t\t) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\tthis.extensionManifestPropertiesService.getExtensionUntrustedWorkspaceSupportType(\n\t\t\t\t\textension.manifest,\n\t\t\t\t) !== true\n\t\t\t) {\n\t\t\t\tset.add(extension.identifier.id);\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tconst dependencies = getExtensionDependencies(\n\t\t\t\tlocalExtensions,\n\t\t\t\textension,\n\t\t\t);\n\t\t\tif (\n\t\t\t\tdependencies.some(\n\t\t\t\t\t(ext) =>\n\t\t\t\t\t\tthis.extensionManifestPropertiesService.getExtensionUntrustedWorkspaceSupportType(\n\t\t\t\t\t\t\text.manifest,\n\t\t\t\t\t\t) === false,\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\tset.add(extension.identifier.id);\n\t\t\t}\n\t\t}\n\n\t\treturn set.size;\n\t}\n\n\tprivate createHeaderElement(parent: HTMLElement): void {\n\t\tthis.headerContainer = append(\n\t\t\tparent,\n\t\t\t$(\".workspace-trust-header\", { tabIndex: \"0\" }),\n\t\t);\n\t\tthis.headerTitleContainer = append(\n\t\t\tthis.headerContainer,\n\t\t\t$(\".workspace-trust-title\"),\n\t\t);\n\t\tthis.headerTitleIcon = append(\n\t\t\tthis.headerTitleContainer,\n\t\t\t$(\".workspace-trust-title-icon\"),\n\t\t);\n\t\tthis.headerTitleText = append(\n\t\t\tthis.headerTitleContainer,\n\t\t\t$(\".workspace-trust-title-text\"),\n\t\t);\n\t\tthis.headerDescription = append(\n\t\t\tthis.headerContainer,\n\t\t\t$(\".workspace-trust-description\"),\n\t\t);\n\t}\n\n\tprivate createConfigurationElement(parent: HTMLElement): void {\n\t\tthis.configurationContainer = append(\n\t\t\tparent,\n\t\t\t$(\".workspace-trust-settings\", { tabIndex: \"0\" }),\n\t\t);\n\t\tconst configurationTitle = append(\n\t\t\tthis.configurationContainer,\n\t\t\t$(\".workspace-trusted-folders-title\"),\n\t\t);\n\t\tconfigurationTitle.innerText = localize(\n\t\t\t\"trustedFoldersAndWorkspaces\",\n\t\t\t\"Trusted Folders & Workspaces\",\n\t\t);\n\n\t\tthis.workspaceTrustedUrisTable = this._register(\n\t\t\tthis.instantiationService.createInstance(\n\t\t\t\tWorkspaceTrustedUrisTable,\n\t\t\t\tthis.configurationContainer,\n\t\t\t),\n\t\t);\n\t}\n\n\tprivate createAffectedFeaturesElement(parent: HTMLElement): void {\n\t\tthis.affectedFeaturesContainer = append(\n\t\t\tparent,\n\t\t\t$(\".workspace-trust-features\"),\n\t\t);\n\t\tthis.trustedContainer = append(\n\t\t\tthis.affectedFeaturesContainer,\n\t\t\t$(\".workspace-trust-limitations.trusted\", { tabIndex: \"0\" }),\n\t\t);\n\t\tthis.untrustedContainer = append(\n\t\t\tthis.affectedFeaturesContainer,\n\t\t\t$(\".workspace-trust-limitations.untrusted\", { tabIndex: \"0\" }),\n\t\t);\n\t}\n\n\tprivate async renderAffectedFeatures(\n\t\tnumSettings: number,\n\t\tnumExtensions: number,\n\t): Promise<void> {\n\t\tclearNode(this.trustedContainer);\n\t\tclearNode(this.untrustedContainer);\n\n\t\t// Trusted features\n\t\tconst [trustedTitle, trustedSubTitle] =\n\t\t\tthis.getFeaturesHeaderText(true);\n\n\t\tthis.renderLimitationsHeaderElement(\n\t\t\tthis.trustedContainer,\n\t\t\ttrustedTitle,\n\t\t\ttrustedSubTitle,\n\t\t);\n\t\tconst trustedContainerItems =\n\t\t\tthis.workspaceService.getWorkbenchState() === WorkbenchState.EMPTY\n\t\t\t\t? [\n\t\t\t\t\t\tlocalize(\"trustedTasks\", \"Tasks are allowed to run\"),\n\t\t\t\t\t\tlocalize(\"trustedDebugging\", \"Debugging is enabled\"),\n\t\t\t\t\t\tlocalize(\n\t\t\t\t\t\t\t\"trustedExtensions\",\n\t\t\t\t\t\t\t\"All enabled extensions are activated\",\n\t\t\t\t\t\t),\n\t\t\t\t\t]\n\t\t\t\t: [\n\t\t\t\t\t\tlocalize(\"trustedTasks\", \"Tasks are allowed to run\"),\n\t\t\t\t\t\tlocalize(\"trustedDebugging\", \"Debugging is enabled\"),\n\t\t\t\t\t\tlocalize(\n\t\t\t\t\t\t\t\"trustedSettings\",\n\t\t\t\t\t\t\t\"All workspace settings are applied\",\n\t\t\t\t\t\t),\n\t\t\t\t\t\tlocalize(\n\t\t\t\t\t\t\t\"trustedExtensions\",\n\t\t\t\t\t\t\t\"All enabled extensions are activated\",\n\t\t\t\t\t\t),\n\t\t\t\t\t];\n\t\tthis.renderLimitationsListElement(\n\t\t\tthis.trustedContainer,\n\t\t\ttrustedContainerItems,\n\t\t\tThemeIcon.asClassNameArray(checkListIcon),\n\t\t);\n\n\t\t// Restricted Mode features\n\t\tconst [untrustedTitle, untrustedSubTitle] =\n\t\t\tthis.getFeaturesHeaderText(false);\n\n\t\tthis.renderLimitationsHeaderElement(\n\t\t\tthis.untrustedContainer,\n\t\t\tuntrustedTitle,\n\t\t\tuntrustedSubTitle,\n\t\t);\n\t\tconst untrustedContainerItems =\n\t\t\tthis.workspaceService.getWorkbenchState() === WorkbenchState.EMPTY\n\t\t\t\t? [\n\t\t\t\t\t\tlocalize(\n\t\t\t\t\t\t\t\"untrustedTasks\",\n\t\t\t\t\t\t\t\"Tasks are not allowed to run\",\n\t\t\t\t\t\t),\n\t\t\t\t\t\tlocalize(\"untrustedDebugging\", \"Debugging is disabled\"),\n\t\t\t\t\t\tfixBadLocalizedLinks(\n\t\t\t\t\t\t\tlocalize(\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tkey: \"untrustedExtensions\",\n\t\t\t\t\t\t\t\t\tcomment: [\n\t\t\t\t\t\t\t\t\t\t\"Please ensure the markdown link syntax is not broken up with whitespace [text block](link block)\",\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\"[{0} extensions]({1}) are disabled or have limited functionality\",\n\t\t\t\t\t\t\t\tnumExtensions,\n\t\t\t\t\t\t\t\t`command:${LIST_WORKSPACE_UNSUPPORTED_EXTENSIONS_COMMAND_ID}`,\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t),\n\t\t\t\t\t]\n\t\t\t\t: [\n\t\t\t\t\t\tlocalize(\n\t\t\t\t\t\t\t\"untrustedTasks\",\n\t\t\t\t\t\t\t\"Tasks are not allowed to run\",\n\t\t\t\t\t\t),\n\t\t\t\t\t\tlocalize(\"untrustedDebugging\", \"Debugging is disabled\"),\n\t\t\t\t\t\tfixBadLocalizedLinks(\n\t\t\t\t\t\t\tnumSettings\n\t\t\t\t\t\t\t\t? localize(\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tkey: \"untrustedSettings\",\n\t\t\t\t\t\t\t\t\t\t\tcomment: [\n\t\t\t\t\t\t\t\t\t\t\t\t\"Please ensure the markdown link syntax is not broken up with whitespace [text block](link block)\",\n\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\"[{0} workspace settings]({1}) are not applied\",\n\t\t\t\t\t\t\t\t\t\tnumSettings,\n\t\t\t\t\t\t\t\t\t\t\"command:settings.filterUntrusted\",\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t: localize(\n\t\t\t\t\t\t\t\t\t\t\"no untrustedSettings\",\n\t\t\t\t\t\t\t\t\t\t\"Workspace settings requiring trust are not applied\",\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t),\n\t\t\t\t\t\tfixBadLocalizedLinks(\n\t\t\t\t\t\t\tlocalize(\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tkey: \"untrustedExtensions\",\n\t\t\t\t\t\t\t\t\tcomment: [\n\t\t\t\t\t\t\t\t\t\t\"Please ensure the markdown link syntax is not broken up with whitespace [text block](link block)\",\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\"[{0} extensions]({1}) are disabled or have limited functionality\",\n\t\t\t\t\t\t\t\tnumExtensions,\n\t\t\t\t\t\t\t\t`command:${LIST_WORKSPACE_UNSUPPORTED_EXTENSIONS_COMMAND_ID}`,\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t),\n\t\t\t\t\t];\n\t\tthis.renderLimitationsListElement(\n\t\t\tthis.untrustedContainer,\n\t\t\tuntrustedContainerItems,\n\t\t\tThemeIcon.asClassNameArray(xListIcon),\n\t\t);\n\n\t\tif (this.workspaceTrustManagementService.isWorkspaceTrusted()) {\n\t\t\tif (this.workspaceTrustManagementService.canSetWorkspaceTrust()) {\n\t\t\t\tthis.addDontTrustButtonToElement(this.untrustedContainer);\n\t\t\t} else {\n\t\t\t\tthis.addTrustedTextToElement(this.untrustedContainer);\n\t\t\t}\n\t\t} else if (\n\t\t\tthis.workspaceTrustManagementService.canSetWorkspaceTrust()\n\t\t) {\n\t\t\tthis.addTrustButtonToElement(this.trustedContainer);\n\t\t}\n\t}\n\n\tprivate createButtonRow(\n\t\tparent: HTMLElement,\n\t\tbuttonInfo: { action: Action; keybinding: ResolvedKeybinding }[],\n\t\tenabled?: boolean,\n\t): void {\n\t\tconst buttonRow = append(parent, $(\".workspace-trust-buttons-row\"));\n\t\tconst buttonContainer = append(\n\t\t\tbuttonRow,\n\t\t\t$(\".workspace-trust-buttons\"),\n\t\t);\n\t\tconst buttonBar = this.rerenderDisposables.add(\n\t\t\tnew ButtonBar(buttonContainer),\n\t\t);\n\n\t\tfor (const { action, keybinding } of buttonInfo) {\n\t\t\tconst button =\n\t\t\t\tbuttonBar.addButtonWithDescription(defaultButtonStyles);\n\n\t\t\tbutton.label = action.label;\n\t\t\tbutton.enabled = enabled !== undefined ? enabled : action.enabled;\n\t\t\tbutton.description = keybinding.getLabel()!;\n\t\t\tbutton.element.ariaLabel =\n\t\t\t\taction.label +\n\t\t\t\t\", \" +\n\t\t\t\tlocalize(\n\t\t\t\t\t\"keyboardShortcut\",\n\t\t\t\t\t\"Keyboard Shortcut: {0}\",\n\t\t\t\t\tkeybinding.getAriaLabel()!,\n\t\t\t\t);\n\n\t\t\tthis.rerenderDisposables.add(\n\t\t\t\tbutton.onDidClick((e) => {\n\t\t\t\t\tif (e) {\n\t\t\t\t\t\tEventHelper.stop(e, true);\n\t\t\t\t\t}\n\n\t\t\t\t\taction.run();\n\t\t\t\t}),\n\t\t\t);\n\t\t}\n\t}\n\n\tprivate addTrustButtonToElement(parent: HTMLElement): void {\n\t\tconst trustAction = new Action(\n\t\t\t\"workspace.trust.button.action.grant\",\n\t\t\tlocalize(\"trustButton\", \"Trust\"),\n\t\t\tundefined,\n\t\t\ttrue,\n\t\t\tasync () => {\n\t\t\t\tawait this.workspaceTrustManagementService.setWorkspaceTrust(\n\t\t\t\t\ttrue,\n\t\t\t\t);\n\t\t\t},\n\t\t);\n\n\t\tconst trustActions = [\n\t\t\t{\n\t\t\t\taction: trustAction,\n\t\t\t\tkeybinding: this.keybindingService.resolveUserBinding(\n\t\t\t\t\tisMacintosh ? \"Cmd+Enter\" : \"Ctrl+Enter\",\n\t\t\t\t)[0],\n\t\t\t},\n\t\t];\n\n\t\tif (this.workspaceTrustManagementService.canSetParentFolderTrust()) {\n\t\t\tconst workspaceIdentifier = toWorkspaceIdentifier(\n\t\t\t\tthis.workspaceService.getWorkspace(),\n\t\t\t) as ISingleFolderWorkspaceIdentifier;\n\t\t\tconst name = basename(dirname(workspaceIdentifier.uri));\n\n\t\t\tconst trustMessageElement = append(parent, $(\".trust-message-box\"));\n\t\t\ttrustMessageElement.innerText = localize(\n\t\t\t\t\"trustMessage\",\n\t\t\t\t\"Trust the authors of all files in the current folder or its parent '{0}'.\",\n\t\t\t\tname,\n\t\t\t);\n\n\t\t\tconst trustParentAction = new Action(\n\t\t\t\t\"workspace.trust.button.action.grantParent\",\n\t\t\t\tlocalize(\"trustParentButton\", \"Trust Parent\"),\n\t\t\t\tundefined,\n\t\t\t\ttrue,\n\t\t\t\tasync () => {\n\t\t\t\t\tawait this.workspaceTrustManagementService.setParentFolderTrust(\n\t\t\t\t\t\ttrue,\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t);\n\n\t\t\ttrustActions.push({\n\t\t\t\taction: trustParentAction,\n\t\t\t\tkeybinding: this.keybindingService.resolveUserBinding(\n\t\t\t\t\tisMacintosh ? \"Cmd+Shift+Enter\" : \"Ctrl+Shift+Enter\",\n\t\t\t\t)[0],\n\t\t\t});\n\t\t}\n\n\t\tthis.createButtonRow(parent, trustActions);\n\t}\n\n\tprivate addDontTrustButtonToElement(parent: HTMLElement): void {\n\t\tthis.createButtonRow(parent, [\n\t\t\t{\n\t\t\t\taction: new Action(\n\t\t\t\t\t\"workspace.trust.button.action.deny\",\n\t\t\t\t\tlocalize(\"dontTrustButton\", \"Don't Trust\"),\n\t\t\t\t\tundefined,\n\t\t\t\t\ttrue,\n\t\t\t\t\tasync () => {\n\t\t\t\t\t\tawait this.workspaceTrustManagementService.setWorkspaceTrust(\n\t\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t);\n\t\t\t\t\t},\n\t\t\t\t),\n\t\t\t\tkeybinding: this.keybindingService.resolveUserBinding(\n\t\t\t\t\tisMacintosh ? \"Cmd+Enter\" : \"Ctrl+Enter\",\n\t\t\t\t)[0],\n\t\t\t},\n\t\t]);\n\t}\n\n\tprivate addTrustedTextToElement(parent: HTMLElement): void {\n\t\tif (\n\t\t\tthis.workspaceService.getWorkbenchState() === WorkbenchState.EMPTY\n\t\t) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst textElement = append(\n\t\t\tparent,\n\t\t\t$(\".workspace-trust-untrusted-description\"),\n\t\t);\n\t\tif (this.workspaceTrustManagementService.isWorkspaceTrustForced()) {\n\t\t\ttextElement.innerText = localize(\n\t\t\t\t\"trustedForcedReason\",\n\t\t\t\t\"This window is trusted by nature of the workspace that is opened.\",\n\t\t\t);\n\t\t} else {\n\t\t\ttextElement.innerText =\n\t\t\t\tthis.workspaceService.getWorkbenchState() ===\n\t\t\t\tWorkbenchState.WORKSPACE\n\t\t\t\t\t? localize(\n\t\t\t\t\t\t\t\"untrustedWorkspaceReason\",\n\t\t\t\t\t\t\t\"This workspace is trusted via the bolded entries in the trusted folders below.\",\n\t\t\t\t\t\t)\n\t\t\t\t\t: localize(\n\t\t\t\t\t\t\t\"untrustedFolderReason\",\n\t\t\t\t\t\t\t\"This folder is trusted via the bolded entries in the the trusted folders below.\",\n\t\t\t\t\t\t);\n\t\t}\n\t}\n\n\tprivate renderLimitationsHeaderElement(\n\t\tparent: HTMLElement,\n\t\theaderText: string,\n\t\tsubtitleText: string,\n\t): void {\n\t\tconst limitationsHeaderContainer = append(\n\t\t\tparent,\n\t\t\t$(\".workspace-trust-limitations-header\"),\n\t\t);\n\t\tconst titleElement = append(\n\t\t\tlimitationsHeaderContainer,\n\t\t\t$(\".workspace-trust-limitations-title\"),\n\t\t);\n\t\tconst textElement = append(\n\t\t\ttitleElement,\n\t\t\t$(\".workspace-trust-limitations-title-text\"),\n\t\t);\n\t\tconst subtitleElement = append(\n\t\t\tlimitationsHeaderContainer,\n\t\t\t$(\".workspace-trust-limitations-subtitle\"),\n\t\t);\n\n\t\ttextElement.innerText = headerText;\n\t\tsubtitleElement.innerText = subtitleText;\n\t}\n\n\tprivate renderLimitationsListElement(\n\t\tparent: HTMLElement,\n\t\tlimitations: string[],\n\t\ticonClassNames: string[],\n\t): void {\n\t\tconst listContainer = append(\n\t\t\tparent,\n\t\t\t$(\".workspace-trust-limitations-list-container\"),\n\t\t);\n\t\tconst limitationsList = append(listContainer, $(\"ul\"));\n\t\tfor (const limitation of limitations) {\n\t\t\tconst limitationListItem = append(limitationsList, $(\"li\"));\n\t\t\tconst icon = append(limitationListItem, $(\".list-item-icon\"));\n\t\t\tconst text = append(limitationListItem, $(\".list-item-text\"));\n\n\t\t\ticon.classList.add(...iconClassNames);\n\n\t\t\tconst linkedText = parseLinkedText(limitation);\n\t\t\tfor (const node of linkedText.nodes) {\n\t\t\t\tif (typeof node === \"string\") {\n\t\t\t\t\tappend(text, document.createTextNode(node));\n\t\t\t\t} else {\n\t\t\t\t\tthis.rerenderDisposables.add(\n\t\t\t\t\t\tthis.instantiationService.createInstance(\n\t\t\t\t\t\t\tLink,\n\t\t\t\t\t\t\ttext,\n\t\t\t\t\t\t\t{ ...node, tabIndex: -1 },\n\t\t\t\t\t\t\t{},\n\t\t\t\t\t\t),\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate layoutParticipants: { layout: () => void }[] = [];\n\tlayout(dimension: Dimension): void {\n\t\tif (!this.isVisible()) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.workspaceTrustedUrisTable.layout();\n\n\t\tthis.layoutParticipants.forEach((participant) => {\n\t\t\tparticipant.layout();\n\t\t});\n\n\t\tthis.bodyScrollBar.scanDomNode();\n\t}\n}\n\n// Highly scoped fix for #126614\nfunction fixBadLocalizedLinks(badString: string): string {\n\tconst regex = /(.*)\\[(.+)\\]\\s*\\((.+)\\)(.*)/; // markdown link match with spaces\n\treturn badString.replace(regex, \"$1[$2]($3)$4\");\n}\n"],
  "mappings": "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",
  "names": []
}
