{
  "version": 3,
  "sources": ["../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/contrib/workspace/browser/workspaceTrustEditor.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { $, addDisposableListener, addStandardDisposableListener, append, clearNode, Dimension, EventHelper, EventType, isAncestorOfActiveElement } from '../../../../base/browser/dom.js';\nimport { ActionBar } from '../../../../base/browser/ui/actionbar/actionbar.js';\nimport { ButtonBar } from '../../../../base/browser/ui/button/button.js';\nimport { IMessage, InputBox, MessageType } from '../../../../base/browser/ui/inputbox/inputBox.js';\nimport { DomScrollableElement } from '../../../../base/browser/ui/scrollbar/scrollableElement.js';\nimport { ITableRenderer, ITableVirtualDelegate } from '../../../../base/browser/ui/table/table.js';\nimport { Action, IAction } from '../../../../base/common/actions.js';\nimport { CancellationToken } from '../../../../base/common/cancellation.js';\nimport { Codicon } from '../../../../base/common/codicons.js';\nimport { debounce } from '../../../../base/common/decorators.js';\nimport { Emitter, Event } from '../../../../base/common/event.js';\nimport { KeyCode, KeyMod } from '../../../../base/common/keyCodes.js';\nimport { normalizeDriveLetter } from '../../../../base/common/labels.js';\nimport { Disposable, DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { parseLinkedText } from '../../../../base/common/linkedText.js';\nimport { Schemas } from '../../../../base/common/network.js';\nimport { ScrollbarVisibility } from '../../../../base/common/scrollable.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { localize } from '../../../../nls.js';\nimport { ConfigurationScope, Extensions, IConfigurationRegistry } from '../../../../platform/configuration/common/configurationRegistry.js';\nimport { IContextViewService } from '../../../../platform/contextview/browser/contextView.js';\nimport { IFileDialogService } from '../../../../platform/dialogs/common/dialogs.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { ILabelService } from '../../../../platform/label/common/label.js';\nimport { WorkbenchTable } from '../../../../platform/list/browser/listService.js';\nimport { Link } from '../../../../platform/opener/browser/link.js';\nimport { Registry } from '../../../../platform/registry/common/platform.js';\nimport { isVirtualResource, isVirtualWorkspace } from '../../../../platform/workspace/common/virtualWorkspace.js';\nimport { IStorageService } from '../../../../platform/storage/common/storage.js';\nimport { ITelemetryService } from '../../../../platform/telemetry/common/telemetry.js';\nimport { asCssVariable, buttonBackground, buttonSecondaryBackground, editorErrorForeground } from '../../../../platform/theme/common/colorRegistry.js';\nimport { ISingleFolderWorkspaceIdentifier, IWorkspaceContextService, toWorkspaceIdentifier, WorkbenchState } from '../../../../platform/workspace/common/workspace.js';\nimport { IThemeService } from '../../../../platform/theme/common/themeService.js';\nimport { ThemeIcon } from '../../../../base/common/themables.js';\nimport { IWorkspaceTrustManagementService } from '../../../../platform/workspace/common/workspaceTrust.js';\nimport { EditorPane } from '../../../browser/parts/editor/editorPane.js';\nimport { IEditorOpenContext } from '../../../common/editor.js';\nimport { debugIconStartForeground } from '../../debug/browser/debugColors.js';\nimport { IExtensionsWorkbenchService, LIST_WORKSPACE_UNSUPPORTED_EXTENSIONS_COMMAND_ID } from '../../extensions/common/extensions.js';\nimport { IWorkbenchConfigurationService } from '../../../services/configuration/common/configuration.js';\nimport { IExtensionManifestPropertiesService } from '../../../services/extensions/common/extensionManifestPropertiesService.js';\nimport { IUriIdentityService } from '../../../../platform/uriIdentity/common/uriIdentity.js';\nimport { WorkspaceTrustEditorInput } from '../../../services/workspaces/browser/workspaceTrustEditorInput.js';\nimport { IEditorOptions } from '../../../../platform/editor/common/editor.js';\nimport { getExtensionDependencies } from '../../../../platform/extensionManagement/common/extensionManagementUtil.js';\nimport { EnablementState, IWorkbenchExtensionEnablementService } from '../../../services/extensionManagement/common/extensionManagement.js';\nimport { posix, win32 } from '../../../../base/common/path.js';\nimport { hasDriveLetter, toSlashes } from '../../../../base/common/extpath.js';\nimport { StandardKeyboardEvent } from '../../../../base/browser/keyboardEvent.js';\nimport { IProductService } from '../../../../platform/product/common/productService.js';\nimport { registerIcon } from '../../../../platform/theme/common/iconRegistry.js';\nimport { defaultButtonStyles, defaultInputBoxStyles } from '../../../../platform/theme/browser/defaultStyles.js';\nimport { isMacintosh } from '../../../../base/common/platform.js';\nimport { IKeybindingService } from '../../../../platform/keybinding/common/keybinding.js';\nimport { ResolvedKeybinding } from '../../../../base/common/keybindings.js';\nimport { basename, dirname } from '../../../../base/common/resources.js';\nimport { IEditorGroup } from '../../../services/editor/common/editorGroupsService.js';\n\nexport const shieldIcon = registerIcon('workspace-trust-banner', Codicon.shield, localize('shieldIcon', 'Icon for workspace trust ion the banner.'));\n\nconst checkListIcon = registerIcon('workspace-trust-editor-check', Codicon.check, localize('checkListIcon', 'Icon for the checkmark in the workspace trust editor.'));\nconst xListIcon = registerIcon('workspace-trust-editor-cross', Codicon.x, localize('xListIcon', 'Icon for the cross in the workspace trust editor.'));\nconst folderPickerIcon = registerIcon('workspace-trust-editor-folder-picker', Codicon.folder, localize('folderPickerIcon', 'Icon for the pick folder icon in the workspace trust editor.'));\nconst editIcon = registerIcon('workspace-trust-editor-edit-folder', Codicon.edit, localize('editIcon', 'Icon for the edit folder icon in the workspace trust editor.'));\nconst removeIcon = registerIcon('workspace-trust-editor-remove-folder', Codicon.close, localize('removeIcon', 'Icon for the remove folder icon in the workspace trust editor.'));\n\ninterface ITrustedUriItem {\n\tparentOfWorkspaceItem: boolean;\n\turi: URI;\n}\n\nclass WorkspaceTrustedUrisTable extends Disposable {\n\tprivate readonly _onDidAcceptEdit: Emitter<ITrustedUriItem> = this._register(new Emitter<ITrustedUriItem>());\n\treadonly onDidAcceptEdit: Event<ITrustedUriItem> = this._onDidAcceptEdit.event;\n\n\tprivate readonly _onDidRejectEdit: Emitter<ITrustedUriItem> = this._register(new Emitter<ITrustedUriItem>());\n\treadonly onDidRejectEdit: Event<ITrustedUriItem> = this._onDidRejectEdit.event;\n\n\tprivate _onEdit: Emitter<ITrustedUriItem> = this._register(new Emitter<ITrustedUriItem>());\n\treadonly onEdit: Event<ITrustedUriItem> = this._onEdit.event;\n\n\tprivate _onDelete: Emitter<ITrustedUriItem> = this._register(new Emitter<ITrustedUriItem>());\n\treadonly onDelete: Event<ITrustedUriItem> = this._onDelete.event;\n\n\tprivate readonly table: WorkbenchTable<ITrustedUriItem>;\n\n\tprivate readonly descriptionElement: HTMLElement;\n\n\tconstructor(\n\t\tprivate readonly container: HTMLElement,\n\t\t@IInstantiationService private readonly instantiationService: IInstantiationService,\n\t\t@IWorkspaceContextService private readonly workspaceService: IWorkspaceContextService,\n\t\t@IWorkspaceTrustManagementService private readonly workspaceTrustManagementService: IWorkspaceTrustManagementService,\n\t\t@IUriIdentityService private readonly uriService: IUriIdentityService,\n\t\t@ILabelService private readonly labelService: ILabelService,\n\t\t@IFileDialogService private readonly fileDialogService: IFileDialogService\n\t) {\n\t\tsuper();\n\n\t\tthis.descriptionElement = container.appendChild($('.workspace-trusted-folders-description'));\n\t\tconst tableElement = container.appendChild($('.trusted-uris-table'));\n\t\tconst addButtonBarElement = container.appendChild($('.trusted-uris-button-bar'));\n\n\t\tthis.table = this.instantiationService.createInstance(\n\t\t\tWorkbenchTable,\n\t\t\t'WorkspaceTrust',\n\t\t\ttableElement,\n\t\t\tnew TrustedUriTableVirtualDelegate(),\n\t\t\t[\n\t\t\t\t{\n\t\t\t\t\tlabel: localize('hostColumnLabel', \"Host\"),\n\t\t\t\t\ttooltip: '',\n\t\t\t\t\tweight: 1,\n\t\t\t\t\ttemplateId: TrustedUriHostColumnRenderer.TEMPLATE_ID,\n\t\t\t\t\tproject(row: ITrustedUriItem): ITrustedUriItem { return row; }\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: localize('pathColumnLabel', \"Path\"),\n\t\t\t\t\ttooltip: '',\n\t\t\t\t\tweight: 8,\n\t\t\t\t\ttemplateId: TrustedUriPathColumnRenderer.TEMPLATE_ID,\n\t\t\t\t\tproject(row: ITrustedUriItem): ITrustedUriItem { return row; }\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: '',\n\t\t\t\t\ttooltip: '',\n\t\t\t\t\tweight: 1,\n\t\t\t\t\tminimumWidth: 75,\n\t\t\t\t\tmaximumWidth: 75,\n\t\t\t\t\ttemplateId: TrustedUriActionsColumnRenderer.TEMPLATE_ID,\n\t\t\t\t\tproject(row: ITrustedUriItem): ITrustedUriItem { return row; }\n\t\t\t\t},\n\t\t\t],\n\t\t\t[\n\t\t\t\tthis.instantiationService.createInstance(TrustedUriHostColumnRenderer),\n\t\t\t\tthis.instantiationService.createInstance(TrustedUriPathColumnRenderer, this),\n\t\t\t\tthis.instantiationService.createInstance(TrustedUriActionsColumnRenderer, this, this.currentWorkspaceUri),\n\t\t\t],\n\t\t\t{\n\t\t\t\thorizontalScrolling: false,\n\t\t\t\talwaysConsumeMouseWheel: false,\n\t\t\t\topenOnSingleClick: false,\n\t\t\t\tmultipleSelectionSupport: false,\n\t\t\t\taccessibilityProvider: {\n\t\t\t\t\tgetAriaLabel: (item: ITrustedUriItem) => {\n\t\t\t\t\t\tconst hostLabel = getHostLabel(this.labelService, item);\n\t\t\t\t\t\tif (hostLabel === undefined || hostLabel.length === 0) {\n\t\t\t\t\t\t\treturn localize('trustedFolderAriaLabel', \"{0}, trusted\", this.labelService.getUriLabel(item.uri));\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn localize('trustedFolderWithHostAriaLabel', \"{0} on {1}, trusted\", this.labelService.getUriLabel(item.uri), hostLabel);\n\t\t\t\t\t},\n\t\t\t\t\tgetWidgetAriaLabel: () => localize('trustedFoldersAndWorkspaces', \"Trusted Folders & Workspaces\")\n\t\t\t\t},\n\t\t\t\tidentityProvider: {\n\t\t\t\t\tgetId(element: ITrustedUriItem) {\n\t\t\t\t\t\treturn element.uri.toString();\n\t\t\t\t\t},\n\t\t\t\t}\n\t\t\t}\n\t\t) as WorkbenchTable<ITrustedUriItem>;\n\n\t\tthis._register(this.table.onDidOpen(item => {\n\t\t\t// default prevented when input box is double clicked #125052\n\t\t\tif (item && item.element && !item.browserEvent?.defaultPrevented) {\n\t\t\t\tthis.edit(item.element, true);\n\t\t\t}\n\t\t}));\n\n\t\tconst buttonBar = this._register(new ButtonBar(addButtonBarElement));\n\t\tconst addButton = this._register(buttonBar.addButton({ title: localize('addButton', \"Add Folder\"), ...defaultButtonStyles }));\n\t\taddButton.label = localize('addButton', \"Add Folder\");\n\n\t\tthis._register(addButton.onDidClick(async () => {\n\t\t\tconst uri = await this.fileDialogService.showOpenDialog({\n\t\t\t\tcanSelectFiles: false,\n\t\t\t\tcanSelectFolders: true,\n\t\t\t\tcanSelectMany: false,\n\t\t\t\tdefaultUri: this.currentWorkspaceUri,\n\t\t\t\topenLabel: localize('trustUri', \"Trust Folder\"),\n\t\t\t\ttitle: localize('selectTrustedUri', \"Select Folder To Trust\")\n\t\t\t});\n\n\t\t\tif (uri) {\n\t\t\t\tthis.workspaceTrustManagementService.setUrisTrust(uri, true);\n\t\t\t}\n\t\t}));\n\n\t\tthis._register(this.workspaceTrustManagementService.onDidChangeTrustedFolders(() => {\n\t\t\tthis.updateTable();\n\t\t}));\n\t}\n\n\tprivate getIndexOfTrustedUriEntry(item: ITrustedUriItem): number {\n\t\tconst index = this.trustedUriEntries.indexOf(item);\n\t\tif (index === -1) {\n\t\t\tfor (let i = 0; i < this.trustedUriEntries.length; i++) {\n\t\t\t\tif (this.trustedUriEntries[i].uri === item.uri) {\n\t\t\t\t\treturn i;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn index;\n\t}\n\n\tprivate selectTrustedUriEntry(item: ITrustedUriItem, focus: boolean = true): void {\n\t\tconst index = this.getIndexOfTrustedUriEntry(item);\n\t\tif (index !== -1) {\n\t\t\tif (focus) {\n\t\t\t\tthis.table.domFocus();\n\t\t\t\tthis.table.setFocus([index]);\n\t\t\t}\n\t\t\tthis.table.setSelection([index]);\n\t\t}\n\t}\n\n\tprivate get currentWorkspaceUri(): URI {\n\t\treturn this.workspaceService.getWorkspace().folders[0]?.uri || URI.file('/');\n\t}\n\n\tprivate get trustedUriEntries(): ITrustedUriItem[] {\n\t\tconst currentWorkspace = this.workspaceService.getWorkspace();\n\t\tconst currentWorkspaceUris = currentWorkspace.folders.map(folder => folder.uri);\n\t\tif (currentWorkspace.configuration) {\n\t\t\tcurrentWorkspaceUris.push(currentWorkspace.configuration);\n\t\t}\n\n\t\tconst entries = this.workspaceTrustManagementService.getTrustedUris().map(uri => {\n\n\t\t\tlet relatedToCurrentWorkspace = false;\n\t\t\tfor (const workspaceUri of currentWorkspaceUris) {\n\t\t\t\trelatedToCurrentWorkspace = relatedToCurrentWorkspace || this.uriService.extUri.isEqualOrParent(workspaceUri, uri);\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\turi,\n\t\t\t\tparentOfWorkspaceItem: relatedToCurrentWorkspace\n\t\t\t};\n\t\t});\n\n\t\t// Sort entries\n\t\tconst sortedEntries = entries.sort((a, b) => {\n\t\t\tif (a.uri.scheme !== b.uri.scheme) {\n\t\t\t\tif (a.uri.scheme === Schemas.file) {\n\t\t\t\t\treturn -1;\n\t\t\t\t}\n\n\t\t\t\tif (b.uri.scheme === Schemas.file) {\n\t\t\t\t\treturn 1;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst aIsWorkspace = a.uri.path.endsWith('.code-workspace');\n\t\t\tconst bIsWorkspace = b.uri.path.endsWith('.code-workspace');\n\n\t\t\tif (aIsWorkspace !== bIsWorkspace) {\n\t\t\t\tif (aIsWorkspace) {\n\t\t\t\t\treturn 1;\n\t\t\t\t}\n\n\t\t\t\tif (bIsWorkspace) {\n\t\t\t\t\treturn -1;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn a.uri.fsPath.localeCompare(b.uri.fsPath);\n\t\t});\n\n\t\treturn sortedEntries;\n\t}\n\n\tlayout(): void {\n\t\tthis.table.layout((this.trustedUriEntries.length * TrustedUriTableVirtualDelegate.ROW_HEIGHT) + TrustedUriTableVirtualDelegate.HEADER_ROW_HEIGHT, undefined);\n\t}\n\n\tupdateTable(): void {\n\t\tconst entries = this.trustedUriEntries;\n\t\tthis.container.classList.toggle('empty', entries.length === 0);\n\n\t\tthis.descriptionElement.innerText = entries.length ?\n\t\t\tlocalize('trustedFoldersDescription', \"You trust the following folders, their subfolders, and workspace files.\") :\n\t\t\tlocalize('noTrustedFoldersDescriptions', \"You haven't trusted any folders or workspace files yet.\");\n\n\t\tthis.table.splice(0, Number.POSITIVE_INFINITY, this.trustedUriEntries);\n\t\tthis.layout();\n\t}\n\n\tvalidateUri(path: string, item?: ITrustedUriItem): IMessage | null {\n\t\tif (!item) {\n\t\t\treturn null;\n\t\t}\n\n\t\tif (item.uri.scheme === 'vscode-vfs') {\n\t\t\tconst segments = path.split(posix.sep).filter(s => s.length);\n\t\t\tif (segments.length === 0 && path.startsWith(posix.sep)) {\n\t\t\t\treturn {\n\t\t\t\t\ttype: MessageType.WARNING,\n\t\t\t\t\tcontent: localize({ key: 'trustAll', comment: ['The {0} will be a host name where repositories are hosted.'] }, \"You will trust all repositories on {0}.\", getHostLabel(this.labelService, item))\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tif (segments.length === 1) {\n\t\t\t\treturn {\n\t\t\t\t\ttype: MessageType.WARNING,\n\t\t\t\t\tcontent: localize({ key: 'trustOrg', comment: ['The {0} will be an organization or user name.', 'The {1} will be a host name where repositories are hosted.'] }, \"You will trust all repositories and forks under '{0}' on {1}.\", segments[0], getHostLabel(this.labelService, item))\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tif (segments.length > 2) {\n\t\t\t\treturn {\n\t\t\t\t\ttype: MessageType.ERROR,\n\t\t\t\t\tcontent: localize('invalidTrust', \"You cannot trust individual folders within a repository.\", path)\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tacceptEdit(item: ITrustedUriItem, uri: URI) {\n\t\tconst trustedFolders = this.workspaceTrustManagementService.getTrustedUris();\n\t\tconst index = trustedFolders.findIndex(u => this.uriService.extUri.isEqual(u, item.uri));\n\n\t\tif (index >= trustedFolders.length || index === -1) {\n\t\t\ttrustedFolders.push(uri);\n\t\t} else {\n\t\t\ttrustedFolders[index] = uri;\n\t\t}\n\n\t\tthis.workspaceTrustManagementService.setTrustedUris(trustedFolders);\n\t\tthis._onDidAcceptEdit.fire(item);\n\t}\n\n\trejectEdit(item: ITrustedUriItem) {\n\t\tthis._onDidRejectEdit.fire(item);\n\t}\n\n\tasync delete(item: ITrustedUriItem) {\n\t\tthis.table.focusNext();\n\t\tawait this.workspaceTrustManagementService.setUrisTrust([item.uri], false);\n\n\t\tif (this.table.getFocus().length === 0) {\n\t\t\tthis.table.focusLast();\n\t\t}\n\t\tthis._onDelete.fire(item);\n\t\tthis.table.domFocus();\n\t}\n\n\tasync edit(item: ITrustedUriItem, usePickerIfPossible?: boolean) {\n\t\tconst canUseOpenDialog = item.uri.scheme === Schemas.file ||\n\t\t\t(\n\t\t\t\titem.uri.scheme === this.currentWorkspaceUri.scheme &&\n\t\t\t\tthis.uriService.extUri.isEqualAuthority(this.currentWorkspaceUri.authority, item.uri.authority) &&\n\t\t\t\t!isVirtualResource(item.uri)\n\t\t\t);\n\t\tif (canUseOpenDialog && usePickerIfPossible) {\n\t\t\tconst uri = await this.fileDialogService.showOpenDialog({\n\t\t\t\tcanSelectFiles: false,\n\t\t\t\tcanSelectFolders: true,\n\t\t\t\tcanSelectMany: false,\n\t\t\t\tdefaultUri: item.uri,\n\t\t\t\topenLabel: localize('trustUri', \"Trust Folder\"),\n\t\t\t\ttitle: localize('selectTrustedUri', \"Select Folder To Trust\")\n\t\t\t});\n\n\t\t\tif (uri) {\n\t\t\t\tthis.acceptEdit(item, uri[0]);\n\t\t\t} else {\n\t\t\t\tthis.rejectEdit(item);\n\t\t\t}\n\t\t} else {\n\t\t\tthis.selectTrustedUriEntry(item);\n\t\t\tthis._onEdit.fire(item);\n\t\t}\n\t}\n}\n\nclass TrustedUriTableVirtualDelegate implements ITableVirtualDelegate<ITrustedUriItem> {\n\tstatic readonly HEADER_ROW_HEIGHT = 30;\n\tstatic readonly ROW_HEIGHT = 24;\n\treadonly headerRowHeight = TrustedUriTableVirtualDelegate.HEADER_ROW_HEIGHT;\n\tgetHeight(item: ITrustedUriItem) {\n\t\treturn TrustedUriTableVirtualDelegate.ROW_HEIGHT;\n\t}\n}\n\ninterface IActionsColumnTemplateData {\n\treadonly actionBar: ActionBar;\n}\n\nclass TrustedUriActionsColumnRenderer implements ITableRenderer<ITrustedUriItem, IActionsColumnTemplateData> {\n\n\tstatic readonly TEMPLATE_ID = 'actions';\n\n\treadonly templateId: string = TrustedUriActionsColumnRenderer.TEMPLATE_ID;\n\n\tconstructor(\n\t\tprivate readonly table: WorkspaceTrustedUrisTable,\n\t\tprivate readonly currentWorkspaceUri: URI,\n\t\t@IUriIdentityService private readonly uriService: IUriIdentityService) { }\n\n\trenderTemplate(container: HTMLElement): IActionsColumnTemplateData {\n\t\tconst element = container.appendChild($('.actions'));\n\t\tconst actionBar = new ActionBar(element);\n\t\treturn { actionBar };\n\t}\n\n\trenderElement(item: ITrustedUriItem, index: number, templateData: IActionsColumnTemplateData, height: number | undefined): void {\n\t\ttemplateData.actionBar.clear();\n\n\t\tconst canUseOpenDialog = item.uri.scheme === Schemas.file ||\n\t\t\t(\n\t\t\t\titem.uri.scheme === this.currentWorkspaceUri.scheme &&\n\t\t\t\tthis.uriService.extUri.isEqualAuthority(this.currentWorkspaceUri.authority, item.uri.authority) &&\n\t\t\t\t!isVirtualResource(item.uri)\n\t\t\t);\n\n\t\tconst actions: IAction[] = [];\n\t\tif (canUseOpenDialog) {\n\t\t\tactions.push(this.createPickerAction(item));\n\t\t}\n\t\tactions.push(this.createEditAction(item));\n\t\tactions.push(this.createDeleteAction(item));\n\t\ttemplateData.actionBar.push(actions, { icon: true });\n\t}\n\n\tprivate createEditAction(item: ITrustedUriItem): IAction {\n\t\treturn {\n\t\t\tlabel: '',\n\t\t\tclass: ThemeIcon.asClassName(editIcon),\n\t\t\tenabled: true,\n\t\t\tid: 'editTrustedUri',\n\t\t\ttooltip: localize('editTrustedUri', \"Edit Path\"),\n\t\t\trun: () => {\n\t\t\t\tthis.table.edit(item, false);\n\t\t\t}\n\t\t};\n\t}\n\n\tprivate createPickerAction(item: ITrustedUriItem): IAction {\n\t\treturn {\n\t\t\tlabel: '',\n\t\t\tclass: ThemeIcon.asClassName(folderPickerIcon),\n\t\t\tenabled: true,\n\t\t\tid: 'pickerTrustedUri',\n\t\t\ttooltip: localize('pickerTrustedUri', \"Open File Picker\"),\n\t\t\trun: () => {\n\t\t\t\tthis.table.edit(item, true);\n\t\t\t}\n\t\t};\n\t}\n\n\tprivate createDeleteAction(item: ITrustedUriItem): IAction {\n\t\treturn {\n\t\t\tlabel: '',\n\t\t\tclass: ThemeIcon.asClassName(removeIcon),\n\t\t\tenabled: true,\n\t\t\tid: 'deleteTrustedUri',\n\t\t\ttooltip: localize('deleteTrustedUri', \"Delete Path\"),\n\t\t\trun: async () => {\n\t\t\t\tawait this.table.delete(item);\n\t\t\t}\n\t\t};\n\t}\n\n\tdisposeTemplate(templateData: IActionsColumnTemplateData): void {\n\t\ttemplateData.actionBar.dispose();\n\t}\n\n}\n\ninterface ITrustedUriPathColumnTemplateData {\n\telement: HTMLElement;\n\tpathLabel: HTMLElement;\n\tpathInput: InputBox;\n\trenderDisposables: DisposableStore;\n\tdisposables: DisposableStore;\n}\n\nclass TrustedUriPathColumnRenderer implements ITableRenderer<ITrustedUriItem, ITrustedUriPathColumnTemplateData> {\n\tstatic readonly TEMPLATE_ID = 'path';\n\n\treadonly templateId: string = TrustedUriPathColumnRenderer.TEMPLATE_ID;\n\tprivate currentItem?: ITrustedUriItem;\n\n\tconstructor(\n\t\tprivate readonly table: WorkspaceTrustedUrisTable,\n\t\t@IContextViewService private readonly contextViewService: IContextViewService\n\t) {\n\t}\n\n\trenderTemplate(container: HTMLElement): ITrustedUriPathColumnTemplateData {\n\t\tconst element = container.appendChild($('.path'));\n\t\tconst pathLabel = element.appendChild($('div.path-label'));\n\n\t\tconst pathInput = new InputBox(element, this.contextViewService, {\n\t\t\tvalidationOptions: {\n\t\t\t\tvalidation: value => this.table.validateUri(value, this.currentItem)\n\t\t\t},\n\t\t\tinputBoxStyles: defaultInputBoxStyles\n\t\t});\n\n\t\tconst disposables = new DisposableStore();\n\t\tconst renderDisposables = disposables.add(new DisposableStore());\n\n\t\treturn {\n\t\t\telement,\n\t\t\tpathLabel,\n\t\t\tpathInput,\n\t\t\tdisposables,\n\t\t\trenderDisposables\n\t\t};\n\t}\n\n\trenderElement(item: ITrustedUriItem, index: number, templateData: ITrustedUriPathColumnTemplateData, height: number | undefined): void {\n\t\ttemplateData.renderDisposables.clear();\n\n\t\tthis.currentItem = item;\n\t\ttemplateData.renderDisposables.add(this.table.onEdit(async (e) => {\n\t\t\tif (item === e) {\n\t\t\t\ttemplateData.element.classList.add('input-mode');\n\t\t\t\ttemplateData.pathInput.focus();\n\t\t\t\ttemplateData.pathInput.select();\n\t\t\t\ttemplateData.element.parentElement!.style.paddingLeft = '0px';\n\t\t\t}\n\t\t}));\n\n\t\t// stop double click action from re-rendering the element on the table #125052\n\t\ttemplateData.renderDisposables.add(addDisposableListener(templateData.pathInput.element, EventType.DBLCLICK, e => {\n\t\t\tEventHelper.stop(e);\n\t\t}));\n\n\n\t\tconst hideInputBox = () => {\n\t\t\ttemplateData.element.classList.remove('input-mode');\n\t\t\ttemplateData.element.parentElement!.style.paddingLeft = '5px';\n\t\t};\n\n\t\tconst accept = () => {\n\t\t\thideInputBox();\n\n\t\t\tconst pathToUse = templateData.pathInput.value;\n\t\t\tconst uri = hasDriveLetter(pathToUse) ? item.uri.with({ path: posix.sep + toSlashes(pathToUse) }) : item.uri.with({ path: pathToUse });\n\t\t\ttemplateData.pathLabel.innerText = this.formatPath(uri);\n\n\t\t\tif (uri) {\n\t\t\t\tthis.table.acceptEdit(item, uri);\n\t\t\t}\n\t\t};\n\n\t\tconst reject = () => {\n\t\t\thideInputBox();\n\t\t\ttemplateData.pathInput.value = stringValue;\n\t\t\tthis.table.rejectEdit(item);\n\t\t};\n\n\t\ttemplateData.renderDisposables.add(addStandardDisposableListener(templateData.pathInput.inputElement, EventType.KEY_DOWN, e => {\n\t\t\tlet handled = false;\n\t\t\tif (e.equals(KeyCode.Enter)) {\n\t\t\t\taccept();\n\t\t\t\thandled = true;\n\t\t\t} else if (e.equals(KeyCode.Escape)) {\n\t\t\t\treject();\n\t\t\t\thandled = true;\n\t\t\t}\n\n\t\t\tif (handled) {\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\t\t\t}\n\t\t}));\n\t\ttemplateData.renderDisposables.add((addDisposableListener(templateData.pathInput.inputElement, EventType.BLUR, () => {\n\t\t\treject();\n\t\t})));\n\n\t\tconst stringValue = this.formatPath(item.uri);\n\t\ttemplateData.pathInput.value = stringValue;\n\t\ttemplateData.pathLabel.innerText = stringValue;\n\t\ttemplateData.element.classList.toggle('current-workspace-parent', item.parentOfWorkspaceItem);\n\t}\n\n\tdisposeTemplate(templateData: ITrustedUriPathColumnTemplateData): void {\n\t\ttemplateData.disposables.dispose();\n\t\ttemplateData.renderDisposables.dispose();\n\t}\n\n\tprivate formatPath(uri: URI): string {\n\t\tif (uri.scheme === Schemas.file) {\n\t\t\treturn normalizeDriveLetter(uri.fsPath);\n\t\t}\n\n\t\t// If the path is not a file uri, but points to a windows remote, we should create windows fs path\n\t\t// e.g. /c:/user/directory => C:\\user\\directory\n\t\tif (uri.path.startsWith(posix.sep)) {\n\t\t\tconst pathWithoutLeadingSeparator = uri.path.substring(1);\n\t\t\tconst isWindowsPath = hasDriveLetter(pathWithoutLeadingSeparator, true);\n\t\t\tif (isWindowsPath) {\n\t\t\t\treturn normalizeDriveLetter(win32.normalize(pathWithoutLeadingSeparator), true);\n\t\t\t}\n\t\t}\n\n\t\treturn uri.path;\n\t}\n\n}\n\n\ninterface ITrustedUriHostColumnTemplateData {\n\telement: HTMLElement;\n\thostContainer: HTMLElement;\n\tbuttonBarContainer: HTMLElement;\n\tdisposables: DisposableStore;\n\trenderDisposables: DisposableStore;\n}\n\nfunction getHostLabel(labelService: ILabelService, item: ITrustedUriItem): string {\n\treturn item.uri.authority ? labelService.getHostLabel(item.uri.scheme, item.uri.authority) : localize('localAuthority', \"Local\");\n}\n\nclass TrustedUriHostColumnRenderer implements ITableRenderer<ITrustedUriItem, ITrustedUriHostColumnTemplateData> {\n\tstatic readonly TEMPLATE_ID = 'host';\n\n\treadonly templateId: string = TrustedUriHostColumnRenderer.TEMPLATE_ID;\n\n\tconstructor(\n\t\t@ILabelService private readonly labelService: ILabelService,\n\t) { }\n\n\trenderTemplate(container: HTMLElement): ITrustedUriHostColumnTemplateData {\n\t\tconst disposables = new DisposableStore();\n\t\tconst renderDisposables = disposables.add(new DisposableStore());\n\n\t\tconst element = container.appendChild($('.host'));\n\t\tconst hostContainer = element.appendChild($('div.host-label'));\n\t\tconst buttonBarContainer = element.appendChild($('div.button-bar'));\n\n\t\treturn {\n\t\t\telement,\n\t\t\thostContainer,\n\t\t\tbuttonBarContainer,\n\t\t\tdisposables,\n\t\t\trenderDisposables\n\t\t};\n\t}\n\n\trenderElement(item: ITrustedUriItem, index: number, templateData: ITrustedUriHostColumnTemplateData, height: number | undefined): void {\n\t\ttemplateData.renderDisposables.clear();\n\t\ttemplateData.renderDisposables.add({ dispose: () => { clearNode(templateData.buttonBarContainer); } });\n\n\t\ttemplateData.hostContainer.innerText = getHostLabel(this.labelService, item);\n\t\ttemplateData.element.classList.toggle('current-workspace-parent', item.parentOfWorkspaceItem);\n\n\t\ttemplateData.hostContainer.style.display = '';\n\t\ttemplateData.buttonBarContainer.style.display = 'none';\n\t}\n\n\tdisposeTemplate(templateData: ITrustedUriHostColumnTemplateData): void {\n\t\ttemplateData.disposables.dispose();\n\t}\n\n}\n\nexport class WorkspaceTrustEditor extends EditorPane {\n\tstatic readonly ID: string = 'workbench.editor.workspaceTrust';\n\tprivate rootElement!: HTMLElement;\n\n\t// Header Section\n\tprivate headerContainer!: HTMLElement;\n\tprivate headerTitleContainer!: HTMLElement;\n\tprivate headerTitleIcon!: HTMLElement;\n\tprivate headerTitleText!: HTMLElement;\n\tprivate headerDescription!: HTMLElement;\n\n\tprivate bodyScrollBar!: DomScrollableElement;\n\n\t// Affected Features Section\n\tprivate affectedFeaturesContainer!: HTMLElement;\n\tprivate trustedContainer!: HTMLElement;\n\tprivate untrustedContainer!: HTMLElement;\n\n\t// Settings Section\n\tprivate configurationContainer!: HTMLElement;\n\tprivate workspaceTrustedUrisTable!: WorkspaceTrustedUrisTable;\n\n\tconstructor(\n\t\tgroup: IEditorGroup,\n\t\t@ITelemetryService telemetryService: ITelemetryService,\n\t\t@IThemeService themeService: IThemeService,\n\t\t@IStorageService storageService: IStorageService,\n\t\t@IWorkspaceContextService private readonly workspaceService: IWorkspaceContextService,\n\t\t@IExtensionsWorkbenchService private readonly extensionWorkbenchService: IExtensionsWorkbenchService,\n\t\t@IExtensionManifestPropertiesService private readonly extensionManifestPropertiesService: IExtensionManifestPropertiesService,\n\t\t@IInstantiationService private readonly instantiationService: IInstantiationService,\n\t\t@IWorkspaceTrustManagementService private readonly workspaceTrustManagementService: IWorkspaceTrustManagementService,\n\t\t@IWorkbenchConfigurationService private readonly configurationService: IWorkbenchConfigurationService,\n\t\t@IWorkbenchExtensionEnablementService private readonly extensionEnablementService: IWorkbenchExtensionEnablementService,\n\t\t@IProductService private readonly productService: IProductService,\n\t\t@IKeybindingService private readonly keybindingService: IKeybindingService,\n\t) { super(WorkspaceTrustEditor.ID, group, telemetryService, themeService, storageService); }\n\n\tprotected createEditor(parent: HTMLElement): void {\n\t\tthis.rootElement = append(parent, $('.workspace-trust-editor', { tabindex: '0' }));\n\n\t\tthis.createHeaderElement(this.rootElement);\n\n\t\tconst scrollableContent = $('.workspace-trust-editor-body');\n\t\tthis.bodyScrollBar = this._register(new DomScrollableElement(scrollableContent, {\n\t\t\thorizontal: ScrollbarVisibility.Hidden,\n\t\t\tvertical: ScrollbarVisibility.Auto,\n\t\t}));\n\n\t\tappend(this.rootElement, this.bodyScrollBar.getDomNode());\n\n\t\tthis.createAffectedFeaturesElement(scrollableContent);\n\t\tthis.createConfigurationElement(scrollableContent);\n\n\t\tthis.rootElement.style.setProperty('--workspace-trust-selected-color', asCssVariable(buttonBackground));\n\t\tthis.rootElement.style.setProperty('--workspace-trust-unselected-color', asCssVariable(buttonSecondaryBackground));\n\t\tthis.rootElement.style.setProperty('--workspace-trust-check-color', asCssVariable(debugIconStartForeground));\n\t\tthis.rootElement.style.setProperty('--workspace-trust-x-color', asCssVariable(editorErrorForeground));\n\n\t\t// Navigate page with keyboard\n\t\tthis._register(addDisposableListener(this.rootElement, EventType.KEY_DOWN, e => {\n\t\t\tconst event = new StandardKeyboardEvent(e);\n\n\t\t\tif (event.equals(KeyCode.UpArrow) || event.equals(KeyCode.DownArrow)) {\n\t\t\t\tconst navOrder = [this.headerContainer, this.trustedContainer, this.untrustedContainer, this.configurationContainer];\n\t\t\t\tconst currentIndex = navOrder.findIndex(element => {\n\t\t\t\t\treturn isAncestorOfActiveElement(element);\n\t\t\t\t});\n\n\t\t\t\tlet newIndex = currentIndex;\n\t\t\t\tif (event.equals(KeyCode.DownArrow)) {\n\t\t\t\t\tnewIndex++;\n\t\t\t\t} else if (event.equals(KeyCode.UpArrow)) {\n\t\t\t\t\tnewIndex = Math.max(0, newIndex);\n\t\t\t\t\tnewIndex--;\n\t\t\t\t}\n\n\t\t\t\tnewIndex += navOrder.length;\n\t\t\t\tnewIndex %= navOrder.length;\n\n\t\t\t\tnavOrder[newIndex].focus();\n\t\t\t} else if (event.equals(KeyCode.Escape)) {\n\t\t\t\tthis.rootElement.focus();\n\t\t\t} else if (event.equals(KeyMod.CtrlCmd | KeyCode.Enter)) {\n\t\t\t\tif (this.workspaceTrustManagementService.canSetWorkspaceTrust()) {\n\t\t\t\t\tthis.workspaceTrustManagementService.setWorkspaceTrust(!this.workspaceTrustManagementService.isWorkspaceTrusted());\n\t\t\t\t}\n\t\t\t} else if (event.equals(KeyMod.CtrlCmd | KeyMod.Shift | KeyCode.Enter)) {\n\t\t\t\tif (this.workspaceTrustManagementService.canSetParentFolderTrust()) {\n\t\t\t\t\tthis.workspaceTrustManagementService.setParentFolderTrust(true);\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\t}\n\n\toverride focus() {\n\t\tsuper.focus();\n\n\t\tthis.rootElement.focus();\n\t}\n\n\toverride async setInput(input: WorkspaceTrustEditorInput, options: IEditorOptions | undefined, context: IEditorOpenContext, token: CancellationToken): Promise<void> {\n\n\t\tawait super.setInput(input, options, context, token);\n\t\tif (token.isCancellationRequested) { return; }\n\n\t\tawait this.workspaceTrustManagementService.workspaceTrustInitialized;\n\t\tthis.registerListeners();\n\t\tawait this.render();\n\t}\n\n\tprivate registerListeners(): void {\n\t\tthis._register(this.extensionWorkbenchService.onChange(() => this.render()));\n\t\tthis._register(this.configurationService.onDidChangeRestrictedSettings(() => this.render()));\n\t\tthis._register(this.workspaceTrustManagementService.onDidChangeTrust(() => this.render()));\n\t\tthis._register(this.workspaceTrustManagementService.onDidChangeTrustedFolders(() => this.render()));\n\t}\n\n\tprivate getHeaderContainerClass(trusted: boolean): string {\n\t\tif (trusted) {\n\t\t\treturn 'workspace-trust-header workspace-trust-trusted';\n\t\t}\n\n\t\treturn 'workspace-trust-header workspace-trust-untrusted';\n\t}\n\n\tprivate getHeaderTitleText(trusted: boolean): string {\n\t\tif (trusted) {\n\t\t\tif (this.workspaceTrustManagementService.isWorkspaceTrustForced()) {\n\t\t\t\treturn localize('trustedUnsettableWindow', \"This window is trusted\");\n\t\t\t}\n\n\t\t\tswitch (this.workspaceService.getWorkbenchState()) {\n\t\t\t\tcase WorkbenchState.EMPTY:\n\t\t\t\t\treturn localize('trustedHeaderWindow', \"You trust this window\");\n\t\t\t\tcase WorkbenchState.FOLDER:\n\t\t\t\t\treturn localize('trustedHeaderFolder', \"You trust this folder\");\n\t\t\t\tcase WorkbenchState.WORKSPACE:\n\t\t\t\t\treturn localize('trustedHeaderWorkspace', \"You trust this workspace\");\n\t\t\t}\n\t\t}\n\n\t\treturn localize('untrustedHeader', \"You are in Restricted Mode\");\n\t}\n\n\tprivate getHeaderTitleIconClassNames(trusted: boolean): string[] {\n\t\treturn ThemeIcon.asClassNameArray(shieldIcon);\n\t}\n\n\tprivate getFeaturesHeaderText(trusted: boolean): [string, string] {\n\t\tlet title: string = '';\n\t\tlet subTitle: string = '';\n\n\t\tswitch (this.workspaceService.getWorkbenchState()) {\n\t\t\tcase WorkbenchState.EMPTY: {\n\t\t\t\ttitle = trusted ? localize('trustedWindow', \"In a Trusted Window\") : localize('untrustedWorkspace', \"In Restricted Mode\");\n\t\t\t\tsubTitle = trusted ? localize('trustedWindowSubtitle', \"You trust the authors of the files in the current window. All features are enabled:\") :\n\t\t\t\t\tlocalize('untrustedWindowSubtitle', \"You do not trust the authors of the files in the current window. The following features are disabled:\");\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase WorkbenchState.FOLDER: {\n\t\t\t\ttitle = trusted ? localize('trustedFolder', \"In a Trusted Folder\") : localize('untrustedWorkspace', \"In Restricted Mode\");\n\t\t\t\tsubTitle = trusted ? localize('trustedFolderSubtitle', \"You trust the authors of the files in the current folder. All features are enabled:\") :\n\t\t\t\t\tlocalize('untrustedFolderSubtitle', \"You do not trust the authors of the files in the current folder. The following features are disabled:\");\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase WorkbenchState.WORKSPACE: {\n\t\t\t\ttitle = trusted ? localize('trustedWorkspace', \"In a Trusted Workspace\") : localize('untrustedWorkspace', \"In Restricted Mode\");\n\t\t\t\tsubTitle = trusted ? localize('trustedWorkspaceSubtitle', \"You trust the authors of the files in the current workspace. All features are enabled:\") :\n\t\t\t\t\tlocalize('untrustedWorkspaceSubtitle', \"You do not trust the authors of the files in the current workspace. The following features are disabled:\");\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn [title, subTitle];\n\t}\n\n\tprivate rendering = false;\n\tprivate readonly rerenderDisposables: DisposableStore = this._register(new DisposableStore());\n\t@debounce(100)\n\tprivate async render() {\n\t\tif (this.rendering) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.rendering = true;\n\t\tthis.rerenderDisposables.clear();\n\n\t\tconst isWorkspaceTrusted = this.workspaceTrustManagementService.isWorkspaceTrusted();\n\t\tthis.rootElement.classList.toggle('trusted', isWorkspaceTrusted);\n\t\tthis.rootElement.classList.toggle('untrusted', !isWorkspaceTrusted);\n\n\t\t// Header Section\n\t\tthis.headerTitleText.innerText = this.getHeaderTitleText(isWorkspaceTrusted);\n\t\tthis.headerTitleIcon.className = 'workspace-trust-title-icon';\n\t\tthis.headerTitleIcon.classList.add(...this.getHeaderTitleIconClassNames(isWorkspaceTrusted));\n\t\tthis.headerDescription.innerText = '';\n\n\t\tconst headerDescriptionText = append(this.headerDescription, $('div'));\n\t\theaderDescriptionText.innerText = isWorkspaceTrusted ?\n\t\t\tlocalize('trustedDescription', \"All features are enabled because trust has been granted to the workspace.\") :\n\t\t\tlocalize('untrustedDescription', \"{0} is in a restricted mode intended for safe code browsing.\", this.productService.nameShort);\n\n\t\tconst headerDescriptionActions = append(this.headerDescription, $('div'));\n\t\tconst headerDescriptionActionsText = localize({ key: 'workspaceTrustEditorHeaderActions', comment: ['Please ensure the markdown link syntax is not broken up with whitespace [text block](link block)'] }, \"[Configure your settings]({0}) or [learn more](https://aka.ms/vscode-workspace-trust).\", `command:workbench.trust.configure`);\n\t\tfor (const node of parseLinkedText(headerDescriptionActionsText).nodes) {\n\t\t\tif (typeof node === 'string') {\n\t\t\t\tappend(headerDescriptionActions, document.createTextNode(node));\n\t\t\t} else {\n\t\t\t\tthis.rerenderDisposables.add(this.instantiationService.createInstance(Link, headerDescriptionActions, { ...node, tabIndex: -1 }, {}));\n\t\t\t}\n\t\t}\n\n\t\tthis.headerContainer.className = this.getHeaderContainerClass(isWorkspaceTrusted);\n\t\tthis.rootElement.setAttribute('aria-label', `${localize('root element label', \"Manage Workspace Trust\")}:  ${this.headerContainer.innerText}`);\n\n\t\t// Settings\n\t\tconst restrictedSettings = this.configurationService.restrictedSettings;\n\t\tconst configurationRegistry = Registry.as<IConfigurationRegistry>(Extensions.Configuration);\n\t\tconst settingsRequiringTrustedWorkspaceCount = restrictedSettings.default.filter(key => {\n\t\t\tconst property = configurationRegistry.getConfigurationProperties()[key];\n\n\t\t\t// cannot be configured in workspace\n\t\t\tif (property.scope === ConfigurationScope.APPLICATION || property.scope === ConfigurationScope.MACHINE) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t// If deprecated include only those configured in the workspace\n\t\t\tif (property.deprecationMessage || property.markdownDeprecationMessage) {\n\t\t\t\tif (restrictedSettings.workspace?.includes(key)) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\tif (restrictedSettings.workspaceFolder) {\n\t\t\t\t\tfor (const workspaceFolderSettings of restrictedSettings.workspaceFolder.values()) {\n\t\t\t\t\t\tif (workspaceFolderSettings.includes(key)) {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}).length;\n\n\t\t// Features List\n\t\tthis.renderAffectedFeatures(settingsRequiringTrustedWorkspaceCount, this.getExtensionCount());\n\n\t\t// Configuration Tree\n\t\tthis.workspaceTrustedUrisTable.updateTable();\n\n\t\tthis.bodyScrollBar.getDomNode().style.height = `calc(100% - ${this.headerContainer.clientHeight}px)`;\n\t\tthis.bodyScrollBar.scanDomNode();\n\t\tthis.rendering = false;\n\t}\n\n\tprivate getExtensionCount(): number {\n\t\tconst set = new Set<string>();\n\n\t\tconst inVirtualWorkspace = isVirtualWorkspace(this.workspaceService.getWorkspace());\n\t\tconst localExtensions = this.extensionWorkbenchService.local.filter(ext => ext.local).map(ext => ext.local!);\n\n\t\tfor (const extension of localExtensions) {\n\t\t\tconst enablementState = this.extensionEnablementService.getEnablementState(extension);\n\t\t\tif (enablementState !== EnablementState.EnabledGlobally && enablementState !== EnablementState.EnabledWorkspace &&\n\t\t\t\tenablementState !== EnablementState.DisabledByTrustRequirement && enablementState !== EnablementState.DisabledByExtensionDependency) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (inVirtualWorkspace && this.extensionManifestPropertiesService.getExtensionVirtualWorkspaceSupportType(extension.manifest) === false) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (this.extensionManifestPropertiesService.getExtensionUntrustedWorkspaceSupportType(extension.manifest) !== true) {\n\t\t\t\tset.add(extension.identifier.id);\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tconst dependencies = getExtensionDependencies(localExtensions, extension);\n\t\t\tif (dependencies.some(ext => this.extensionManifestPropertiesService.getExtensionUntrustedWorkspaceSupportType(ext.manifest) === false)) {\n\t\t\t\tset.add(extension.identifier.id);\n\t\t\t}\n\t\t}\n\n\t\treturn set.size;\n\t}\n\n\tprivate createHeaderElement(parent: HTMLElement): void {\n\t\tthis.headerContainer = append(parent, $('.workspace-trust-header', { tabIndex: '0' }));\n\t\tthis.headerTitleContainer = append(this.headerContainer, $('.workspace-trust-title'));\n\t\tthis.headerTitleIcon = append(this.headerTitleContainer, $('.workspace-trust-title-icon'));\n\t\tthis.headerTitleText = append(this.headerTitleContainer, $('.workspace-trust-title-text'));\n\t\tthis.headerDescription = append(this.headerContainer, $('.workspace-trust-description'));\n\t}\n\n\tprivate createConfigurationElement(parent: HTMLElement): void {\n\t\tthis.configurationContainer = append(parent, $('.workspace-trust-settings', { tabIndex: '0' }));\n\t\tconst configurationTitle = append(this.configurationContainer, $('.workspace-trusted-folders-title'));\n\t\tconfigurationTitle.innerText = localize('trustedFoldersAndWorkspaces', \"Trusted Folders & Workspaces\");\n\n\t\tthis.workspaceTrustedUrisTable = this._register(this.instantiationService.createInstance(WorkspaceTrustedUrisTable, this.configurationContainer));\n\t}\n\n\tprivate createAffectedFeaturesElement(parent: HTMLElement): void {\n\t\tthis.affectedFeaturesContainer = append(parent, $('.workspace-trust-features'));\n\t\tthis.trustedContainer = append(this.affectedFeaturesContainer, $('.workspace-trust-limitations.trusted', { tabIndex: '0' }));\n\t\tthis.untrustedContainer = append(this.affectedFeaturesContainer, $('.workspace-trust-limitations.untrusted', { tabIndex: '0' }));\n\t}\n\n\tprivate async renderAffectedFeatures(numSettings: number, numExtensions: number): Promise<void> {\n\t\tclearNode(this.trustedContainer);\n\t\tclearNode(this.untrustedContainer);\n\n\t\t// Trusted features\n\t\tconst [trustedTitle, trustedSubTitle] = this.getFeaturesHeaderText(true);\n\n\t\tthis.renderLimitationsHeaderElement(this.trustedContainer, trustedTitle, trustedSubTitle);\n\t\tconst trustedContainerItems = this.workspaceService.getWorkbenchState() === WorkbenchState.EMPTY ?\n\t\t\t[\n\t\t\t\tlocalize('trustedTasks', \"Tasks are allowed to run\"),\n\t\t\t\tlocalize('trustedDebugging', \"Debugging is enabled\"),\n\t\t\t\tlocalize('trustedExtensions', \"All enabled extensions are activated\")\n\t\t\t] :\n\t\t\t[\n\t\t\t\tlocalize('trustedTasks', \"Tasks are allowed to run\"),\n\t\t\t\tlocalize('trustedDebugging', \"Debugging is enabled\"),\n\t\t\t\tlocalize('trustedSettings', \"All workspace settings are applied\"),\n\t\t\t\tlocalize('trustedExtensions', \"All enabled extensions are activated\")\n\t\t\t];\n\t\tthis.renderLimitationsListElement(this.trustedContainer, trustedContainerItems, ThemeIcon.asClassNameArray(checkListIcon));\n\n\t\t// Restricted Mode features\n\t\tconst [untrustedTitle, untrustedSubTitle] = this.getFeaturesHeaderText(false);\n\n\t\tthis.renderLimitationsHeaderElement(this.untrustedContainer, untrustedTitle, untrustedSubTitle);\n\t\tconst untrustedContainerItems = this.workspaceService.getWorkbenchState() === WorkbenchState.EMPTY ?\n\t\t\t[\n\t\t\t\tlocalize('untrustedTasks', \"Tasks are not allowed to run\"),\n\t\t\t\tlocalize('untrustedDebugging', \"Debugging is disabled\"),\n\t\t\t\tfixBadLocalizedLinks(localize({ key: 'untrustedExtensions', comment: ['Please ensure the markdown link syntax is not broken up with whitespace [text block](link block)'] }, \"[{0} extensions]({1}) are disabled or have limited functionality\", numExtensions, `command:${LIST_WORKSPACE_UNSUPPORTED_EXTENSIONS_COMMAND_ID}`))\n\t\t\t] :\n\t\t\t[\n\t\t\t\tlocalize('untrustedTasks', \"Tasks are not allowed to run\"),\n\t\t\t\tlocalize('untrustedDebugging', \"Debugging is disabled\"),\n\t\t\t\tfixBadLocalizedLinks(numSettings ? localize({ key: 'untrustedSettings', comment: ['Please ensure the markdown link syntax is not broken up with whitespace [text block](link block)'] }, \"[{0} workspace settings]({1}) are not applied\", numSettings, 'command:settings.filterUntrusted') : localize('no untrustedSettings', \"Workspace settings requiring trust are not applied\")),\n\t\t\t\tfixBadLocalizedLinks(localize({ key: 'untrustedExtensions', comment: ['Please ensure the markdown link syntax is not broken up with whitespace [text block](link block)'] }, \"[{0} extensions]({1}) are disabled or have limited functionality\", numExtensions, `command:${LIST_WORKSPACE_UNSUPPORTED_EXTENSIONS_COMMAND_ID}`))\n\t\t\t];\n\t\tthis.renderLimitationsListElement(this.untrustedContainer, untrustedContainerItems, ThemeIcon.asClassNameArray(xListIcon));\n\n\t\tif (this.workspaceTrustManagementService.isWorkspaceTrusted()) {\n\t\t\tif (this.workspaceTrustManagementService.canSetWorkspaceTrust()) {\n\t\t\t\tthis.addDontTrustButtonToElement(this.untrustedContainer);\n\t\t\t} else {\n\t\t\t\tthis.addTrustedTextToElement(this.untrustedContainer);\n\t\t\t}\n\t\t} else {\n\t\t\tif (this.workspaceTrustManagementService.canSetWorkspaceTrust()) {\n\t\t\t\tthis.addTrustButtonToElement(this.trustedContainer);\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate createButtonRow(parent: HTMLElement, buttonInfo: { action: Action; keybinding: ResolvedKeybinding }[], enabled?: boolean): void {\n\t\tconst buttonRow = append(parent, $('.workspace-trust-buttons-row'));\n\t\tconst buttonContainer = append(buttonRow, $('.workspace-trust-buttons'));\n\t\tconst buttonBar = this.rerenderDisposables.add(new ButtonBar(buttonContainer));\n\n\t\tfor (const { action, keybinding } of buttonInfo) {\n\t\t\tconst button = buttonBar.addButtonWithDescription(defaultButtonStyles);\n\n\t\t\tbutton.label = action.label;\n\t\t\tbutton.enabled = enabled !== undefined ? enabled : action.enabled;\n\t\t\tbutton.description = keybinding.getLabel()!;\n\t\t\tbutton.element.ariaLabel = action.label + ', ' + localize('keyboardShortcut', \"Keyboard Shortcut: {0}\", keybinding.getAriaLabel()!);\n\n\t\t\tthis.rerenderDisposables.add(button.onDidClick(e => {\n\t\t\t\tif (e) {\n\t\t\t\t\tEventHelper.stop(e, true);\n\t\t\t\t}\n\n\t\t\t\taction.run();\n\t\t\t}));\n\t\t}\n\t}\n\n\tprivate addTrustButtonToElement(parent: HTMLElement): void {\n\t\tconst trustAction = new Action('workspace.trust.button.action.grant', localize('trustButton', \"Trust\"), undefined, true, async () => {\n\t\t\tawait this.workspaceTrustManagementService.setWorkspaceTrust(true);\n\t\t});\n\n\t\tconst trustActions = [{ action: trustAction, keybinding: this.keybindingService.resolveUserBinding(isMacintosh ? 'Cmd+Enter' : 'Ctrl+Enter')[0] }];\n\n\t\tif (this.workspaceTrustManagementService.canSetParentFolderTrust()) {\n\t\t\tconst workspaceIdentifier = toWorkspaceIdentifier(this.workspaceService.getWorkspace()) as ISingleFolderWorkspaceIdentifier;\n\t\t\tconst name = basename(dirname(workspaceIdentifier.uri));\n\n\t\t\tconst trustMessageElement = append(parent, $('.trust-message-box'));\n\t\t\ttrustMessageElement.innerText = localize('trustMessage', \"Trust the authors of all files in the current folder or its parent '{0}'.\", name);\n\n\t\t\tconst trustParentAction = new Action('workspace.trust.button.action.grantParent', localize('trustParentButton', \"Trust Parent\"), undefined, true, async () => {\n\t\t\t\tawait this.workspaceTrustManagementService.setParentFolderTrust(true);\n\t\t\t});\n\n\t\t\ttrustActions.push({ action: trustParentAction, keybinding: this.keybindingService.resolveUserBinding(isMacintosh ? 'Cmd+Shift+Enter' : 'Ctrl+Shift+Enter')[0] });\n\t\t}\n\n\t\tthis.createButtonRow(parent, trustActions);\n\t}\n\n\tprivate addDontTrustButtonToElement(parent: HTMLElement): void {\n\t\tthis.createButtonRow(parent, [{\n\t\t\taction: new Action('workspace.trust.button.action.deny', localize('dontTrustButton', \"Don't Trust\"), undefined, true, async () => {\n\t\t\t\tawait this.workspaceTrustManagementService.setWorkspaceTrust(false);\n\t\t\t}),\n\t\t\tkeybinding: this.keybindingService.resolveUserBinding(isMacintosh ? 'Cmd+Enter' : 'Ctrl+Enter')[0]\n\t\t}]);\n\t}\n\n\tprivate addTrustedTextToElement(parent: HTMLElement): void {\n\t\tif (this.workspaceService.getWorkbenchState() === WorkbenchState.EMPTY) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst textElement = append(parent, $('.workspace-trust-untrusted-description'));\n\t\tif (!this.workspaceTrustManagementService.isWorkspaceTrustForced()) {\n\t\t\ttextElement.innerText = this.workspaceService.getWorkbenchState() === WorkbenchState.WORKSPACE ? localize('untrustedWorkspaceReason', \"This workspace is trusted via the bolded entries in the trusted folders below.\") : localize('untrustedFolderReason', \"This folder is trusted via the bolded entries in the the trusted folders below.\");\n\t\t} else {\n\t\t\ttextElement.innerText = localize('trustedForcedReason', \"This window is trusted by nature of the workspace that is opened.\");\n\t\t}\n\t}\n\n\tprivate renderLimitationsHeaderElement(parent: HTMLElement, headerText: string, subtitleText: string): void {\n\t\tconst limitationsHeaderContainer = append(parent, $('.workspace-trust-limitations-header'));\n\t\tconst titleElement = append(limitationsHeaderContainer, $('.workspace-trust-limitations-title'));\n\t\tconst textElement = append(titleElement, $('.workspace-trust-limitations-title-text'));\n\t\tconst subtitleElement = append(limitationsHeaderContainer, $('.workspace-trust-limitations-subtitle'));\n\n\t\ttextElement.innerText = headerText;\n\t\tsubtitleElement.innerText = subtitleText;\n\t}\n\n\tprivate renderLimitationsListElement(parent: HTMLElement, limitations: string[], iconClassNames: string[]): void {\n\t\tconst listContainer = append(parent, $('.workspace-trust-limitations-list-container'));\n\t\tconst limitationsList = append(listContainer, $('ul'));\n\t\tfor (const limitation of limitations) {\n\t\t\tconst limitationListItem = append(limitationsList, $('li'));\n\t\t\tconst icon = append(limitationListItem, $('.list-item-icon'));\n\t\t\tconst text = append(limitationListItem, $('.list-item-text'));\n\n\t\t\ticon.classList.add(...iconClassNames);\n\n\t\t\tconst linkedText = parseLinkedText(limitation);\n\t\t\tfor (const node of linkedText.nodes) {\n\t\t\t\tif (typeof node === 'string') {\n\t\t\t\t\tappend(text, document.createTextNode(node));\n\t\t\t\t} else {\n\t\t\t\t\tthis.rerenderDisposables.add(this.instantiationService.createInstance(Link, text, { ...node, tabIndex: -1 }, {}));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate layoutParticipants: { layout: () => void }[] = [];\n\tlayout(dimension: Dimension): void {\n\t\tif (!this.isVisible()) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.workspaceTrustedUrisTable.layout();\n\n\t\tthis.layoutParticipants.forEach(participant => {\n\t\t\tparticipant.layout();\n\t\t});\n\n\t\tthis.bodyScrollBar.scanDomNode();\n\t}\n}\n\n// Highly scoped fix for #126614\nfunction fixBadLocalizedLinks(badString: string): string {\n\tconst regex = /(.*)\\[(.+)\\]\\s*\\((.+)\\)(.*)/; // markdown link match with spaces\n\treturn badString.replace(regex, '$1[$2]($3)$4');\n}\n"],
  "mappings": "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",
  "names": []
}
