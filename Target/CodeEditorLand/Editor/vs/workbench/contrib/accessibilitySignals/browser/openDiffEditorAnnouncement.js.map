{
  "version": 3,
  "sources": ["../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/contrib/accessibilitySignals/browser/openDiffEditorAnnouncement.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Disposable, IDisposable } from '../../../../base/common/lifecycle.js';\nimport { isDiffEditor } from '../../../../editor/browser/editorBrowser.js';\nimport { localize } from '../../../../nls.js';\nimport { IAccessibilityService } from '../../../../platform/accessibility/common/accessibility.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { IWorkbenchContribution } from '../../../common/contributions.js';\nimport { IEditorService } from '../../../services/editor/common/editorService.js';\nimport { Event } from '../../../../base/common/event.js';\nimport { AccessibilityVerbositySettingId } from '../../accessibility/browser/accessibilityConfiguration.js';\n\nexport class DiffEditorActiveAnnouncementContribution extends Disposable implements IWorkbenchContribution {\n\n\tstatic readonly ID = 'workbench.contrib.diffEditorActiveAnnouncement';\n\n\tprivate _onDidActiveEditorChangeListener?: IDisposable;\n\n\tconstructor(\n\t\t@IEditorService private readonly _editorService: IEditorService,\n\t\t@IAccessibilityService private readonly _accessibilityService: IAccessibilityService,\n\t\t@IConfigurationService private readonly _configurationService: IConfigurationService\n\t) {\n\t\tsuper();\n\t\tthis._register(Event.runAndSubscribe(_accessibilityService.onDidChangeScreenReaderOptimized, () => this._updateListener()));\n\t\tthis._register(_configurationService.onDidChangeConfiguration(e => {\n\t\t\tif (e.affectsConfiguration(AccessibilityVerbositySettingId.DiffEditorActive)) {\n\t\t\t\tthis._updateListener();\n\t\t\t}\n\t\t}));\n\t}\n\n\tprivate _updateListener(): void {\n\t\tconst announcementEnabled = this._configurationService.getValue(AccessibilityVerbositySettingId.DiffEditorActive);\n\t\tconst screenReaderOptimized = this._accessibilityService.isScreenReaderOptimized();\n\n\t\tif (!announcementEnabled || !screenReaderOptimized) {\n\t\t\tthis._onDidActiveEditorChangeListener?.dispose();\n\t\t\tthis._onDidActiveEditorChangeListener = undefined;\n\t\t\treturn;\n\t\t}\n\n\t\tif (this._onDidActiveEditorChangeListener) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._onDidActiveEditorChangeListener = this._register(this._editorService.onDidActiveEditorChange(() => {\n\t\t\tif (isDiffEditor(this._editorService.activeTextEditorControl)) {\n\t\t\t\tthis._accessibilityService.alert(localize('openDiffEditorAnnouncement', \"Diff editor\"));\n\t\t\t}\n\t\t}));\n\t}\n}\n"],
  "mappings": ";;;;;;;;;;;;AAKA,SAAS,YAAY,mBAAmB;AACxC,SAAS,oBAAoB;AAC7B,SAAS,gBAAgB;AACzB,SAAS,6BAA6B;AACtC,SAAS,6BAA6B;AACtC,SAAS,8BAA8B;AACvC,SAAS,sBAAsB;AAC/B,SAAS,aAAa;AACtB,SAAS,uCAAuC;AAEzC,IAAM,2CAAN,cAAuD,WAA6C;AAAA,EAM1G,YACkC,gBACO,uBACA,uBACvC;AACD,UAAM;AAJ2B;AACO;AACA;AAGxC,SAAK,UAAU,MAAM,gBAAgB,sBAAsB,kCAAkC,MAAM,KAAK,gBAAgB,CAAC,CAAC;AAC1H,SAAK,UAAU,sBAAsB,yBAAyB,OAAK;AAClE,UAAI,EAAE,qBAAqB,gCAAgC,gBAAgB,GAAG;AAC7E,aAAK,gBAAgB;AAAA,MACtB;AAAA,IACD,CAAC,CAAC;AAAA,EACH;AAAA,EAjCD,OAe2G;AAAA;AAAA;AAAA,EAE1G,OAAgB,KAAK;AAAA,EAEb;AAAA,EAgBA,kBAAwB;AAC/B,UAAM,sBAAsB,KAAK,sBAAsB,SAAS,gCAAgC,gBAAgB;AAChH,UAAM,wBAAwB,KAAK,sBAAsB,wBAAwB;AAEjF,QAAI,CAAC,uBAAuB,CAAC,uBAAuB;AACnD,WAAK,kCAAkC,QAAQ;AAC/C,WAAK,mCAAmC;AACxC;AAAA,IACD;AAEA,QAAI,KAAK,kCAAkC;AAC1C;AAAA,IACD;AAEA,SAAK,mCAAmC,KAAK,UAAU,KAAK,eAAe,wBAAwB,MAAM;AACxG,UAAI,aAAa,KAAK,eAAe,uBAAuB,GAAG;AAC9D,aAAK,sBAAsB,MAAM,SAAS,8BAA8B,aAAa,CAAC;AAAA,MACvF;AAAA,IACD,CAAC,CAAC;AAAA,EACH;AACD;AAxCa,2CAAN;AAAA,EAOJ;AAAA,EACA;AAAA,EACA;AAAA,GATU;",
  "names": []
}
