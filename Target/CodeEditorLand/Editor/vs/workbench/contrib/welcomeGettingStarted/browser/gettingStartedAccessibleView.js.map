{
  "version": 3,
  "sources": ["../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/contrib/welcomeGettingStarted/browser/gettingStartedAccessibleView.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { AccessibleViewType, AccessibleContentProvider, ExtensionContentProvider, IAccessibleViewContentProvider, AccessibleViewProviderId } from '../../../../platform/accessibility/browser/accessibleView.js';\nimport { IAccessibleViewImplentation } from '../../../../platform/accessibility/browser/accessibleViewRegistry.js';\nimport { IContextKeyService } from '../../../../platform/contextkey/common/contextkey.js';\nimport { ServicesAccessor } from '../../../../platform/instantiation/common/instantiation.js';\nimport { GettingStartedPage, inWelcomeContext } from './gettingStarted.js';\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport { IResolvedWalkthrough, IResolvedWalkthroughStep, IWalkthroughsService } from './gettingStartedService.js';\nimport { AccessibilityVerbositySettingId } from '../../accessibility/browser/accessibilityConfiguration.js';\nimport { IEditorService } from '../../../services/editor/common/editorService.js';\nimport { GettingStartedInput } from './gettingStartedInput.js';\nimport { localize } from '../../../../nls.js';\n\nexport class GettingStartedAccessibleView implements IAccessibleViewImplentation {\n\treadonly type = AccessibleViewType.View;\n\treadonly priority = 110;\n\treadonly name = 'walkthroughs';\n\treadonly when = inWelcomeContext;\n\n\tgetProvider = (accessor: ServicesAccessor): AccessibleContentProvider | ExtensionContentProvider | undefined => {\n\t\tconst editorService = accessor.get(IEditorService);\n\t\tconst editorPane = editorService.activeEditorPane;\n\t\tif (!(editorPane instanceof GettingStartedPage)) {\n\t\t\treturn;\n\t\t}\n\t\tconst gettingStartedInput = editorPane.input;\n\t\tif (!(gettingStartedInput instanceof GettingStartedInput) || !gettingStartedInput.selectedCategory) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst gettingStartedService = accessor.get(IWalkthroughsService);\n\t\tconst currentWalkthrough = gettingStartedService.getWalkthrough(gettingStartedInput.selectedCategory);\n\t\tconst currentStepIds = gettingStartedInput.selectedStep;\n\t\tif (currentWalkthrough) {\n\n\t\t\treturn new GettingStartedAccessibleProvider(accessor.get(IContextKeyService), editorPane, currentWalkthrough, currentStepIds);\n\t\t}\n\t\treturn;\n\t};\n}\n\nclass GettingStartedAccessibleProvider extends Disposable implements IAccessibleViewContentProvider {\n\n\tprivate _currentStepIndex: number = 0;\n\tprivate _activeWalkthroughSteps: IResolvedWalkthroughStep[] = [];\n\n\tconstructor(\n\t\tprivate contextService: IContextKeyService,\n\t\tprivate readonly _gettingStartedPage: GettingStartedPage,\n\t\tprivate readonly _focusedItem: IResolvedWalkthrough,\n\t\tprivate readonly _focusedStep?: string | undefined,\n\t) {\n\t\tsuper();\n\t\tthis._activeWalkthroughSteps = _focusedItem.steps.filter(step => !step.when || this.contextService.contextMatchesRules(step.when));\n\t}\n\n\treadonly id = AccessibleViewProviderId.Walkthrough;\n\treadonly verbositySettingKey = AccessibilityVerbositySettingId.Walkthrough;\n\treadonly options = { type: AccessibleViewType.View };\n\n\tprovideContent(): string {\n\t\tif (this._focusedStep) {\n\t\t\tconst stepIndex = this._activeWalkthroughSteps.findIndex(step => step.id === this._focusedStep);\n\t\t\tif (stepIndex !== -1) {\n\t\t\t\tthis._currentStepIndex = stepIndex;\n\t\t\t}\n\t\t}\n\t\treturn this._getContent(this._currentStepIndex + 1, this._focusedItem, this._activeWalkthroughSteps[this._currentStepIndex]);\n\t}\n\n\tprivate _getContent(index: number, waltkrough: IResolvedWalkthrough, step: IResolvedWalkthroughStep): string {\n\n\t\tconst stepsContent =\n\t\t\tlocalize('gettingStarted.step', 'Step {0}: {1}\\nDescription: {2}', index, step.title, step.description.join(' '));\n\n\t\treturn [\n\t\t\tlocalize('gettingStarted.title', 'Title: {0}', waltkrough.title),\n\t\t\tlocalize('gettingStarted.description', 'Description: {0}', waltkrough.description),\n\t\t\tstepsContent\n\t\t].join('\\n\\n');\n\t}\n\n\tprovideNextContent(): string | undefined {\n\t\tif (++this._currentStepIndex >= this._activeWalkthroughSteps.length) {\n\t\t\t--this._currentStepIndex;\n\t\t\treturn;\n\t\t}\n\t\treturn this._getContent(this._currentStepIndex + 1, this._focusedItem, this._activeWalkthroughSteps[this._currentStepIndex]);\n\t}\n\n\tprovidePreviousContent(): string | undefined {\n\t\tif (--this._currentStepIndex < 0) {\n\t\t\t++this._currentStepIndex;\n\t\t\treturn;\n\t\t}\n\t\treturn this._getContent(this._currentStepIndex + 1, this._focusedItem, this._activeWalkthroughSteps[this._currentStepIndex]);\n\t}\n\n\tonClose(): void {\n\t\tthis._gettingStartedPage.focus();\n\t}\n}\n"],
  "mappings": "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",
  "names": []
}
