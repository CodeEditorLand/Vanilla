{
  "version": 3,
  "sources": ["../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/contrib/welcomeGettingStarted/browser/gettingStarted.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport {\n\t$,\n\ttype Dimension,\n\taddDisposableListener,\n\tappend,\n\tclearNode,\n\treset,\n} from \"../../../../base/browser/dom.js\";\nimport { renderFormattedText } from \"../../../../base/browser/formattedTextRenderer.js\";\nimport { StandardKeyboardEvent } from \"../../../../base/browser/keyboardEvent.js\";\nimport { Button } from \"../../../../base/browser/ui/button/button.js\";\nimport { renderLabelWithIcons } from \"../../../../base/browser/ui/iconLabel/iconLabels.js\";\nimport { DomScrollableElement } from \"../../../../base/browser/ui/scrollbar/scrollableElement.js\";\nimport { Toggle } from \"../../../../base/browser/ui/toggle/toggle.js\";\nimport { coalesce, equals } from \"../../../../base/common/arrays.js\";\nimport { Delayer, Throttler } from \"../../../../base/common/async.js\";\nimport type { CancellationToken } from \"../../../../base/common/cancellation.js\";\nimport { Codicon } from \"../../../../base/common/codicons.js\";\nimport { onUnexpectedError } from \"../../../../base/common/errors.js\";\nimport { KeyCode } from \"../../../../base/common/keyCodes.js\";\nimport { splitRecentLabel } from \"../../../../base/common/labels.js\";\nimport {\n\tDisposableStore,\n\ttoDisposable,\n} from \"../../../../base/common/lifecycle.js\";\nimport type { ILink, LinkedText } from \"../../../../base/common/linkedText.js\";\nimport { parse } from \"../../../../base/common/marshalling.js\";\nimport { Schemas, matchesScheme } from \"../../../../base/common/network.js\";\nimport { isMacintosh } from \"../../../../base/common/platform.js\";\nimport { ThemeIcon } from \"../../../../base/common/themables.js\";\nimport { assertIsDefined } from \"../../../../base/common/types.js\";\nimport { URI } from \"../../../../base/common/uri.js\";\nimport { generateUuid } from \"../../../../base/common/uuid.js\";\nimport \"./media/gettingStarted.css\";\nimport { MarkdownRenderer } from \"../../../../editor/browser/widget/markdownRenderer/browser/markdownRenderer.js\";\nimport { ILanguageService } from \"../../../../editor/common/languages/language.js\";\nimport { localize } from \"../../../../nls.js\";\nimport { IAccessibilityService } from \"../../../../platform/accessibility/common/accessibility.js\";\nimport { ICommandService } from \"../../../../platform/commands/common/commands.js\";\nimport {\n\tConfigurationTarget,\n\tIConfigurationService,\n} from \"../../../../platform/configuration/common/configuration.js\";\nimport {\n\tContextKeyExpr,\n\ttype ContextKeyExpression,\n\tIContextKeyService,\n\tRawContextKey,\n} from \"../../../../platform/contextkey/common/contextkey.js\";\nimport type { IEditorOptions } from \"../../../../platform/editor/common/editor.js\";\nimport { IFileService } from \"../../../../platform/files/common/files.js\";\nimport { IInstantiationService } from \"../../../../platform/instantiation/common/instantiation.js\";\nimport { IKeybindingService } from \"../../../../platform/keybinding/common/keybinding.js\";\nimport {\n\tILabelService,\n\tVerbosity,\n} from \"../../../../platform/label/common/label.js\";\nimport { INotificationService } from \"../../../../platform/notification/common/notification.js\";\nimport { Link } from \"../../../../platform/opener/browser/link.js\";\nimport { IOpenerService } from \"../../../../platform/opener/common/opener.js\";\nimport { IProductService } from \"../../../../platform/product/common/productService.js\";\nimport { IQuickInputService } from \"../../../../platform/quickinput/common/quickInput.js\";\nimport {\n\tIStorageService,\n\tStorageScope,\n\tStorageTarget,\n\tWillSaveStateReason,\n} from \"../../../../platform/storage/common/storage.js\";\nimport {\n\tITelemetryService,\n\tTelemetryLevel,\n\tfirstSessionDateStorageKey,\n} from \"../../../../platform/telemetry/common/telemetry.js\";\nimport { getTelemetryLevel } from \"../../../../platform/telemetry/common/telemetryUtils.js\";\nimport {\n\tdefaultButtonStyles,\n\tdefaultToggleStyles,\n} from \"../../../../platform/theme/browser/defaultStyles.js\";\nimport type { IWindowOpenable } from \"../../../../platform/window/common/window.js\";\nimport {\n\tIWorkspaceContextService,\n\tUNKNOWN_EMPTY_WINDOW_WORKSPACE,\n} from \"../../../../platform/workspace/common/workspace.js\";\nimport {\n\ttype IRecentFolder,\n\ttype IRecentWorkspace,\n\ttype IRecentlyOpened,\n\tIWorkspacesService,\n\tisRecentFolder,\n\tisRecentWorkspace,\n} from \"../../../../platform/workspaces/common/workspaces.js\";\nimport { OpenRecentAction } from \"../../../browser/actions/windowActions.js\";\nimport {\n\tOpenFileFolderAction,\n\tOpenFolderAction,\n\tOpenFolderViaWorkspaceAction,\n} from \"../../../browser/actions/workspaceActions.js\";\nimport { EditorPane } from \"../../../browser/parts/editor/editorPane.js\";\nimport { WorkbenchStateContext } from \"../../../common/contextkeys.js\";\nimport type {\n\tIEditorOpenContext,\n\tIEditorSerializer,\n} from \"../../../common/editor.js\";\nimport {\n\ttype IWebviewElement,\n\tIWebviewService,\n} from \"../../webview/browser/webview.js\";\nimport \"./gettingStartedColors.js\";\nimport {\n\tGroupDirection,\n\tGroupsOrder,\n\ttype IEditorGroup,\n\tIEditorGroupsService,\n} from \"../../../services/editor/common/editorGroupsService.js\";\nimport { IExtensionService } from \"../../../services/extensions/common/extensions.js\";\nimport { IHostService } from \"../../../services/host/browser/host.js\";\nimport { IWorkbenchThemeService } from \"../../../services/themes/common/workbenchThemeService.js\";\nimport { startEntries } from \"../common/gettingStartedContent.js\";\nimport { GettingStartedDetailsRenderer } from \"./gettingStartedDetailsRenderer.js\";\nimport {\n\tgettingStartedCheckedCodicon,\n\tgettingStartedUncheckedCodicon,\n} from \"./gettingStartedIcons.js\";\nimport { GettingStartedInput } from \"./gettingStartedInput.js\";\nimport { GettingStartedIndexList } from \"./gettingStartedList.js\";\nimport {\n\ttype IResolvedWalkthrough,\n\ttype IResolvedWalkthroughStep,\n\tIWalkthroughsService,\n\thiddenEntriesConfigurationKey,\n\tparseDescription,\n} from \"./gettingStartedService.js\";\nimport {\n\ttype RestoreWalkthroughsConfigurationValue,\n\trestoreWalkthroughsConfigurationKey,\n} from \"./startupPage.js\";\n\nconst SLIDE_TRANSITION_TIME_MS = 250;\nconst configurationKey = \"workbench.startupEditor\";\n\nexport const allWalkthroughsHiddenContext = new RawContextKey<boolean>(\n\t\"allWalkthroughsHidden\",\n\tfalse,\n);\nexport const inWelcomeContext = new RawContextKey<boolean>(\"inWelcome\", false);\n\nexport interface IWelcomePageStartEntry {\n\tid: string;\n\ttitle: string;\n\tdescription: string;\n\tcommand: string;\n\torder: number;\n\ticon: { type: \"icon\"; icon: ThemeIcon };\n\twhen: ContextKeyExpression;\n}\n\nconst parsedStartEntries: IWelcomePageStartEntry[] = startEntries.map(\n\t(e, i) => ({\n\t\tcommand: e.content.command,\n\t\tdescription: e.description,\n\t\ticon: { type: \"icon\", icon: e.icon },\n\t\tid: e.id,\n\t\torder: i,\n\t\ttitle: e.title,\n\t\twhen: ContextKeyExpr.deserialize(e.when) ?? ContextKeyExpr.true(),\n\t}),\n);\n\ntype GettingStartedActionClassification = {\n\tcommand: {\n\t\tclassification: \"PublicNonPersonalData\";\n\t\tpurpose: \"FeatureInsight\";\n\t\tcomment: \"The command being executed on the getting started page.\";\n\t};\n\twalkthroughId: {\n\t\tclassification: \"PublicNonPersonalData\";\n\t\tpurpose: \"FeatureInsight\";\n\t\tcomment: \"The walkthrough which the command is in\";\n\t};\n\targument: {\n\t\tclassification: \"PublicNonPersonalData\";\n\t\tpurpose: \"FeatureInsight\";\n\t\tcomment: \"The arguments being passed to the command\";\n\t};\n\towner: \"lramos15\";\n\tcomment: \"Help understand what actions are most commonly taken on the getting started page\";\n};\n\ntype GettingStartedActionEvent = {\n\tcommand: string;\n\twalkthroughId: string | undefined;\n\targument: string | undefined;\n};\n\ntype RecentEntry = (IRecentFolder | IRecentWorkspace) & { id: string };\n\nconst REDUCED_MOTION_KEY = \"workbench.welcomePage.preferReducedMotion\";\nexport class GettingStartedPage extends EditorPane {\n\tpublic static readonly ID = \"gettingStartedPage\";\n\n\tprivate editorInput!: GettingStartedInput;\n\tprivate inProgressScroll = Promise.resolve();\n\n\tprivate readonly dispatchListeners: DisposableStore = new DisposableStore();\n\tprivate readonly stepDisposables: DisposableStore = new DisposableStore();\n\tprivate readonly detailsPageDisposables: DisposableStore =\n\t\tnew DisposableStore();\n\tprivate readonly mediaDisposables: DisposableStore = new DisposableStore();\n\n\t// Ensure that the these are initialized before use.\n\t// Currently initialized before use in buildCategoriesSlide and scrollToCategory\n\tprivate recentlyOpened!: Promise<IRecentlyOpened>;\n\tprivate gettingStartedCategories!: IResolvedWalkthrough[];\n\n\tprivate currentWalkthrough: IResolvedWalkthrough | undefined;\n\n\tprivate categoriesPageScrollbar: DomScrollableElement | undefined;\n\tprivate detailsPageScrollbar: DomScrollableElement | undefined;\n\n\tprivate detailsScrollbar: DomScrollableElement | undefined;\n\n\tprivate buildSlideThrottle: Throttler = new Throttler();\n\n\tprivate container: HTMLElement;\n\n\tprivate contextService: IContextKeyService;\n\n\tprivate hasScrolledToFirstCategory = false;\n\tprivate recentlyOpenedList?: GettingStartedIndexList<RecentEntry>;\n\tprivate startList?: GettingStartedIndexList<IWelcomePageStartEntry>;\n\tprivate gettingStartedList?: GettingStartedIndexList<IResolvedWalkthrough>;\n\n\tprivate stepsSlide!: HTMLElement;\n\tprivate categoriesSlide!: HTMLElement;\n\tprivate stepsContent!: HTMLElement;\n\tprivate stepMediaComponent!: HTMLElement;\n\tprivate webview!: IWebviewElement;\n\n\tprivate layoutMarkdown: (() => void) | undefined;\n\n\tprivate detailsRenderer: GettingStartedDetailsRenderer;\n\n\tprivate readonly categoriesSlideDisposables: DisposableStore;\n\tprivate showFeaturedWalkthrough = true;\n\n\tconstructor(\n\t\tgroup: IEditorGroup,\n\t\t@ICommandService private readonly commandService: ICommandService,\n\t\t@IProductService private readonly productService: IProductService,\n\t\t@IKeybindingService private readonly keybindingService: IKeybindingService,\n\t\t@IWalkthroughsService private readonly gettingStartedService: IWalkthroughsService,\n\t\t@IConfigurationService private readonly configurationService: IConfigurationService,\n\t\t@ITelemetryService telemetryService: ITelemetryService,\n\t\t@ILanguageService private readonly languageService: ILanguageService,\n\t\t@IFileService private readonly fileService: IFileService,\n\t\t@IOpenerService private readonly openerService: IOpenerService,\n\t\t@IWorkbenchThemeService protected override readonly themeService: IWorkbenchThemeService,\n\t\t@IStorageService private storageService: IStorageService,\n\t\t@IExtensionService private readonly extensionService: IExtensionService,\n\t\t@IInstantiationService private readonly instantiationService: IInstantiationService,\n\t\t@INotificationService private readonly notificationService: INotificationService,\n\t\t@IEditorGroupsService private readonly groupsService: IEditorGroupsService,\n\t\t@IContextKeyService contextService: IContextKeyService,\n\t\t@IQuickInputService private quickInputService: IQuickInputService,\n\t\t@IWorkspacesService private readonly workspacesService: IWorkspacesService,\n\t\t@ILabelService private readonly labelService: ILabelService,\n\t\t@IHostService private readonly hostService: IHostService,\n\t\t@IWebviewService private readonly webviewService: IWebviewService,\n\t\t@IWorkspaceContextService private readonly workspaceContextService: IWorkspaceContextService,\n\t\t@IAccessibilityService private readonly accessibilityService: IAccessibilityService\n\t) {\n\n\t\tsuper(GettingStartedPage.ID, group, telemetryService, themeService, storageService);\n\n\t\tthis.container = $('.gettingStartedContainer',\n\t\t\t{\n\t\t\t\trole: 'document',\n\t\t\t\ttabindex: 0,\n\t\t\t\t'aria-label': localize('welcomeAriaLabel', \"Overview of how to get up to speed with your editor.\")\n\t\t\t});\n\t\tthis.stepMediaComponent = $('.getting-started-media');\n\t\tthis.stepMediaComponent.id = generateUuid();\n\n\t\tthis.categoriesSlideDisposables = this._register(new DisposableStore());\n\n\t\tthis.detailsRenderer = new GettingStartedDetailsRenderer(this.fileService, this.notificationService, this.extensionService, this.languageService);\n\n\t\tthis.contextService = this._register(contextService.createScoped(this.container));\n\t\tinWelcomeContext.bindTo(this.contextService).set(true);\n\n\t\tthis.gettingStartedCategories = this.gettingStartedService.getWalkthroughs();\n\n\t\tthis._register(this.dispatchListeners);\n\t\tthis.buildSlideThrottle = new Throttler();\n\n\t\tconst rerender = () => {\n\t\t\tthis.gettingStartedCategories = this.gettingStartedService.getWalkthroughs();\n\t\t\tif (this.currentWalkthrough) {\n\t\t\t\tconst existingSteps = this.currentWalkthrough.steps.map(step => step.id);\n\t\t\t\tconst newCategory = this.gettingStartedCategories.find(category => this.currentWalkthrough?.id === category.id);\n\t\t\t\tif (newCategory) {\n\t\t\t\t\tconst newSteps = newCategory.steps.map(step => step.id);\n\t\t\t\t\tif (!equals(newSteps, existingSteps)) {\n\t\t\t\t\t\tthis.buildSlideThrottle.queue(() => this.buildCategoriesSlide());\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.buildSlideThrottle.queue(() => this.buildCategoriesSlide());\n\t\t\t}\n\t\t};\n\n\t\tthis._register(this.gettingStartedService.onDidAddWalkthrough(rerender));\n\t\tthis._register(this.gettingStartedService.onDidRemoveWalkthrough(rerender));\n\n\t\tthis.recentlyOpened = this.workspacesService.getRecentlyOpened();\n\t\tthis._register(workspacesService.onDidChangeRecentlyOpened(() => {\n\t\t\tthis.recentlyOpened = workspacesService.getRecentlyOpened();\n\t\t\trerender();\n\t\t}));\n\n\t\tthis._register(this.gettingStartedService.onDidChangeWalkthrough(category => {\n\t\t\tconst ourCategory = this.gettingStartedCategories.find(c => c.id === category.id);\n\t\t\tif (!ourCategory) { return; }\n\n\t\t\tourCategory.title = category.title;\n\t\t\tourCategory.description = category.description;\n\n\t\t\tthis.container.querySelectorAll<HTMLDivElement>(`[x-category-title-for=\"${category.id}\"]`).forEach(step => (step as HTMLDivElement).innerText = ourCategory.title);\n\t\t\tthis.container.querySelectorAll<HTMLDivElement>(`[x-category-description-for=\"${category.id}\"]`).forEach(step => (step as HTMLDivElement).innerText = ourCategory.description);\n\t\t}));\n\n\t\tthis._register(this.gettingStartedService.onDidProgressStep(step => {\n\t\t\tconst category = this.gettingStartedCategories.find(category => category.id === step.category);\n\t\t\tif (!category) { throw Error('Could not find category with ID: ' + step.category); }\n\t\t\tconst ourStep = category.steps.find(_step => _step.id === step.id);\n\t\t\tif (!ourStep) {\n\t\t\t\tthrow Error('Could not find step with ID: ' + step.id);\n\t\t\t}\n\n\t\t\tconst stats = this.getWalkthroughCompletionStats(category);\n\t\t\tif (!ourStep.done && stats.stepsComplete === stats.stepsTotal - 1) {\n\t\t\t\tthis.hideCategory(category.id);\n\t\t\t}\n\n\t\t\tthis._register(this.configurationService.onDidChangeConfiguration(e => {\n\t\t\t\tif (e.affectsConfiguration(REDUCED_MOTION_KEY)) {\n\t\t\t\t\tthis.container.classList.toggle('animatable', this.shouldAnimate());\n\t\t\t\t}\n\t\t\t}));\n\t\t\tourStep.done = step.done;\n\n\t\t\tif (category.id === this.currentWalkthrough?.id) {\n\t\t\t\tconst badgeelements = assertIsDefined(this.window.document.querySelectorAll(`[data-done-step-id=\"${step.id}\"]`));\n\t\t\t\tbadgeelements.forEach(badgeelement => {\n\t\t\t\t\tif (step.done) {\n\t\t\t\t\t\tbadgeelement.setAttribute('aria-checked', 'true');\n\t\t\t\t\t\tbadgeelement.parentElement?.setAttribute('aria-checked', 'true');\n\t\t\t\t\t\tbadgeelement.classList.remove(...ThemeIcon.asClassNameArray(gettingStartedUncheckedCodicon));\n\t\t\t\t\t\tbadgeelement.classList.add('complete', ...ThemeIcon.asClassNameArray(gettingStartedCheckedCodicon));\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tbadgeelement.setAttribute('aria-checked', 'false');\n\t\t\t\t\t\tbadgeelement.parentElement?.setAttribute('aria-checked', 'false');\n\t\t\t\t\t\tbadgeelement.classList.remove('complete', ...ThemeIcon.asClassNameArray(gettingStartedCheckedCodicon));\n\t\t\t\t\t\tbadgeelement.classList.add(...ThemeIcon.asClassNameArray(gettingStartedUncheckedCodicon));\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\tthis.updateCategoryProgress();\n\t\t}));\n\n\t\tthis._register(this.storageService.onWillSaveState((e) => {\n\t\t\tif (e.reason !== WillSaveStateReason.SHUTDOWN) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (this.workspaceContextService.getWorkspace().folders.length !== 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (!this.editorInput || !this.currentWalkthrough || !this.editorInput.selectedCategory || !this.editorInput.selectedStep) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Save the state of the walkthrough so we can restore it on reload\n\t\t\tconst restoreData: RestoreWalkthroughsConfigurationValue = { folder: UNKNOWN_EMPTY_WINDOW_WORKSPACE.id, category: this.editorInput.selectedCategory, step: this.editorInput.selectedStep };\n\t\t\tthis.storageService.store(\n\t\t\t\trestoreWalkthroughsConfigurationKey,\n\t\t\t\tJSON.stringify(restoreData),\n\t\t\t\tStorageScope.PROFILE, StorageTarget.MACHINE);\n\t\t}));\n\t}\n\n\t// remove when 'workbench.welcomePage.preferReducedMotion' deprecated\n\tprivate shouldAnimate() {\n\t\tif (this.configurationService.getValue(REDUCED_MOTION_KEY)) {\n\t\t\treturn false;\n\t\t}\n\t\tif (this.accessibilityService.isMotionReduced()) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t}\n\n\tprivate getWalkthroughCompletionStats(walkthrough: IResolvedWalkthrough): {\n\t\tstepsComplete: number;\n\t\tstepsTotal: number;\n\t} {\n\t\tconst activeSteps = walkthrough.steps.filter((s) =>\n\t\t\tthis.contextService.contextMatchesRules(s.when),\n\t\t);\n\t\treturn {\n\t\t\tstepsComplete: activeSteps.filter((s) => s.done).length,\n\t\t\tstepsTotal: activeSteps.length,\n\t\t};\n\t}\n\n\toverride async setInput(\n\t\tnewInput: GettingStartedInput,\n\t\toptions: IEditorOptions | undefined,\n\t\tcontext: IEditorOpenContext,\n\t\ttoken: CancellationToken,\n\t) {\n\t\tthis.container.classList.remove(\"animatable\");\n\t\tthis.editorInput = newInput;\n\t\tawait super.setInput(newInput, options, context, token);\n\t\tawait this.buildCategoriesSlide();\n\t\tif (this.shouldAnimate()) {\n\t\t\tsetTimeout(() => this.container.classList.add(\"animatable\"), 0);\n\t\t}\n\t}\n\n\tasync makeCategoryVisibleWhenAvailable(\n\t\tcategoryID: string,\n\t\tstepId?: string,\n\t) {\n\t\tthis.scrollToCategory(categoryID, stepId);\n\t}\n\n\tprivate registerDispatchListeners() {\n\t\tthis.dispatchListeners.clear();\n\n\t\tthis.container.querySelectorAll(\"[x-dispatch]\").forEach((element) => {\n\t\t\tconst dispatch = element.getAttribute(\"x-dispatch\") ?? \"\";\n\t\t\tlet command, argument;\n\t\t\tif (dispatch.startsWith(\"openLink:https\")) {\n\t\t\t\t[command, argument] = [\n\t\t\t\t\t\"openLink\",\n\t\t\t\t\tdispatch.replace(\"openLink:\", \"\"),\n\t\t\t\t];\n\t\t\t} else {\n\t\t\t\t[command, argument] = dispatch.split(\":\");\n\t\t\t}\n\t\t\tif (command) {\n\t\t\t\tthis.dispatchListeners.add(\n\t\t\t\t\taddDisposableListener(element, \"click\", (e) => {\n\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\tthis.runDispatchCommand(command, argument);\n\t\t\t\t\t}),\n\t\t\t\t);\n\t\t\t\tthis.dispatchListeners.add(\n\t\t\t\t\taddDisposableListener(element, \"keyup\", (e) => {\n\t\t\t\t\t\tconst keyboardEvent = new StandardKeyboardEvent(e);\n\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\tswitch (keyboardEvent.keyCode) {\n\t\t\t\t\t\t\tcase KeyCode.Enter:\n\t\t\t\t\t\t\tcase KeyCode.Space:\n\t\t\t\t\t\t\t\tthis.runDispatchCommand(command, argument);\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}),\n\t\t\t\t);\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate async runDispatchCommand(command: string, argument: string) {\n\t\tthis.commandService.executeCommand(\"workbench.action.keepEditor\");\n\t\tthis.telemetryService.publicLog2<\n\t\t\tGettingStartedActionEvent,\n\t\t\tGettingStartedActionClassification\n\t\t>(\"gettingStarted.ActionExecuted\", {\n\t\t\tcommand,\n\t\t\targument,\n\t\t\twalkthroughId: this.currentWalkthrough?.id,\n\t\t});\n\t\tswitch (command) {\n\t\t\tcase \"scrollPrev\": {\n\t\t\t\tthis.scrollPrev();\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase \"skip\": {\n\t\t\t\tthis.runSkip();\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase \"showMoreRecents\": {\n\t\t\t\tthis.commandService.executeCommand(OpenRecentAction.ID);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase \"seeAllWalkthroughs\": {\n\t\t\t\tawait this.openWalkthroughSelector();\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase \"openFolder\": {\n\t\t\t\tif (\n\t\t\t\t\tthis.contextService.contextMatchesRules(\n\t\t\t\t\t\tContextKeyExpr.and(\n\t\t\t\t\t\t\tWorkbenchStateContext.isEqualTo(\"workspace\"),\n\t\t\t\t\t\t),\n\t\t\t\t\t)\n\t\t\t\t) {\n\t\t\t\t\tthis.commandService.executeCommand(\n\t\t\t\t\t\tOpenFolderViaWorkspaceAction.ID,\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\tthis.commandService.executeCommand(\n\t\t\t\t\t\tisMacintosh\n\t\t\t\t\t\t\t? \"workbench.action.files.openFileFolder\"\n\t\t\t\t\t\t\t: \"workbench.action.files.openFolder\",\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase \"selectCategory\": {\n\t\t\t\tthis.scrollToCategory(argument);\n\t\t\t\tthis.gettingStartedService.markWalkthroughOpened(argument);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase \"selectStartEntry\": {\n\t\t\t\tconst selected = startEntries.find((e) => e.id === argument);\n\t\t\t\tif (selected) {\n\t\t\t\t\tthis.runStepCommand(selected.content.command);\n\t\t\t\t} else {\n\t\t\t\t\tthrow Error(\n\t\t\t\t\t\t\"could not find start entry with id: \" + argument,\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase \"hideCategory\": {\n\t\t\t\tthis.hideCategory(argument);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\t// Use selectTask over selectStep to keep telemetry consistant:https://github.com/microsoft/vscode/issues/122256\n\t\t\tcase \"selectTask\": {\n\t\t\t\tthis.selectStep(argument);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase \"toggleStepCompletion\": {\n\t\t\t\tthis.toggleStepCompletion(argument);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase \"allDone\": {\n\t\t\t\tthis.markAllStepsComplete();\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase \"nextSection\": {\n\t\t\t\tconst next = this.currentWalkthrough?.next;\n\t\t\t\tif (next) {\n\t\t\t\t\tthis.scrollToCategory(next);\n\t\t\t\t} else {\n\t\t\t\t\tconsole.error(\n\t\t\t\t\t\t\"Error scrolling to next section of\",\n\t\t\t\t\t\tthis.currentWalkthrough,\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase \"openLink\": {\n\t\t\t\tthis.openerService.open(argument);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdefault: {\n\t\t\t\tconsole.error(\"Dispatch to\", command, argument, \"not defined\");\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate hideCategory(categoryId: string) {\n\t\tconst selectedCategory = this.gettingStartedCategories.find(\n\t\t\t(category) => category.id === categoryId,\n\t\t);\n\t\tif (!selectedCategory) {\n\t\t\tthrow Error(\"Could not find category with ID \" + categoryId);\n\t\t}\n\t\tthis.setHiddenCategories([\n\t\t\t...this.getHiddenCategories().add(categoryId),\n\t\t]);\n\t\tthis.gettingStartedList?.rerender();\n\t}\n\n\tprivate markAllStepsComplete() {\n\t\tif (this.currentWalkthrough) {\n\t\t\tthis.currentWalkthrough?.steps.forEach((step) => {\n\t\t\t\tif (!step.done) {\n\t\t\t\t\tthis.gettingStartedService.progressStep(step.id);\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.hideCategory(this.currentWalkthrough?.id);\n\t\t\tthis.scrollPrev();\n\t\t} else {\n\t\t\tthrow Error(\"No walkthrough opened\");\n\t\t}\n\t}\n\n\tprivate toggleStepCompletion(argument: string) {\n\t\tconst stepToggle = assertIsDefined(\n\t\t\tthis.currentWalkthrough?.steps.find((step) => step.id === argument),\n\t\t);\n\t\tif (stepToggle.done) {\n\t\t\tthis.gettingStartedService.deprogressStep(argument);\n\t\t} else {\n\t\t\tthis.gettingStartedService.progressStep(argument);\n\t\t}\n\t}\n\n\tprivate async openWalkthroughSelector() {\n\t\tconst selection = await this.quickInputService.pick(\n\t\t\tthis.gettingStartedCategories\n\t\t\t\t.filter((c) => this.contextService.contextMatchesRules(c.when))\n\t\t\t\t.map((x) => ({\n\t\t\t\t\tid: x.id,\n\t\t\t\t\tlabel: x.title,\n\t\t\t\t\tdetail: x.description,\n\t\t\t\t\tdescription: x.source,\n\t\t\t\t})),\n\t\t\t{\n\t\t\t\tcanPickMany: false,\n\t\t\t\tmatchOnDescription: true,\n\t\t\t\tmatchOnDetail: true,\n\t\t\t\ttitle: localize(\"pickWalkthroughs\", \"Open Walkthrough...\"),\n\t\t\t},\n\t\t);\n\t\tif (selection) {\n\t\t\tthis.runDispatchCommand(\"selectCategory\", selection.id);\n\t\t}\n\t}\n\n\tprivate getHiddenCategories(): Set<string> {\n\t\treturn new Set(\n\t\t\tJSON.parse(\n\t\t\t\tthis.storageService.get(\n\t\t\t\t\thiddenEntriesConfigurationKey,\n\t\t\t\t\tStorageScope.PROFILE,\n\t\t\t\t\t\"[]\",\n\t\t\t\t),\n\t\t\t),\n\t\t);\n\t}\n\n\tprivate setHiddenCategories(hidden: string[]) {\n\t\tthis.storageService.store(\n\t\t\thiddenEntriesConfigurationKey,\n\t\t\tJSON.stringify(hidden),\n\t\t\tStorageScope.PROFILE,\n\t\t\tStorageTarget.USER,\n\t\t);\n\t}\n\n\tprivate currentMediaComponent: string | undefined = undefined;\n\tprivate currentMediaType: string | undefined = undefined;\n\tprivate async buildMediaComponent(stepId: string, forceRebuild = false) {\n\t\tif (!this.currentWalkthrough) {\n\t\t\tthrow Error(\"no walkthrough selected\");\n\t\t}\n\t\tconst stepToExpand = assertIsDefined(\n\t\t\tthis.currentWalkthrough.steps.find((step) => step.id === stepId),\n\t\t);\n\n\t\tif (!forceRebuild && this.currentMediaComponent === stepId) {\n\t\t\treturn;\n\t\t}\n\t\tthis.currentMediaComponent = stepId;\n\n\t\tthis.stepDisposables.clear();\n\n\t\tthis.stepDisposables.add({\n\t\t\tdispose: () => {\n\t\t\t\tthis.currentMediaComponent = undefined;\n\t\t\t},\n\t\t});\n\n\t\tif (this.currentMediaType !== stepToExpand.media.type) {\n\t\t\tthis.currentMediaType = stepToExpand.media.type;\n\n\t\t\tthis.mediaDisposables.add(\n\t\t\t\ttoDisposable(() => {\n\t\t\t\t\tthis.currentMediaType = undefined;\n\t\t\t\t}),\n\t\t\t);\n\n\t\t\tclearNode(this.stepMediaComponent);\n\n\t\t\tif (stepToExpand.media.type === \"svg\") {\n\t\t\t\tthis.webview = this.mediaDisposables.add(\n\t\t\t\t\tthis.webviewService.createWebviewElement({\n\t\t\t\t\t\ttitle: undefined,\n\t\t\t\t\t\toptions: { disableServiceWorker: true },\n\t\t\t\t\t\tcontentOptions: {},\n\t\t\t\t\t\textension: undefined,\n\t\t\t\t\t}),\n\t\t\t\t);\n\t\t\t\tthis.webview.mountTo(this.stepMediaComponent, this.window);\n\t\t\t} else if (stepToExpand.media.type === \"markdown\") {\n\t\t\t\tthis.webview = this.mediaDisposables.add(\n\t\t\t\t\tthis.webviewService.createWebviewElement({\n\t\t\t\t\t\toptions: {},\n\t\t\t\t\t\tcontentOptions: {\n\t\t\t\t\t\t\tlocalResourceRoots: [stepToExpand.media.root],\n\t\t\t\t\t\t\tallowScripts: true,\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttitle: \"\",\n\t\t\t\t\t\textension: undefined,\n\t\t\t\t\t}),\n\t\t\t\t);\n\t\t\t\tthis.webview.mountTo(this.stepMediaComponent, this.window);\n\t\t\t}\n\t\t}\n\n\t\tif (stepToExpand.media.type === \"image\") {\n\t\t\tthis.stepsContent.classList.add(\"image\");\n\t\t\tthis.stepsContent.classList.remove(\"markdown\");\n\n\t\t\tconst media = stepToExpand.media;\n\t\t\tconst mediaElement = $<HTMLImageElement>(\"img\");\n\t\t\tclearNode(this.stepMediaComponent);\n\t\t\tthis.stepMediaComponent.appendChild(mediaElement);\n\t\t\tmediaElement.setAttribute(\"alt\", media.altText);\n\t\t\tthis.updateMediaSourceForColorMode(mediaElement, media.path);\n\n\t\t\tthis.stepDisposables.add(\n\t\t\t\taddDisposableListener(this.stepMediaComponent, \"click\", () => {\n\t\t\t\t\tconst hrefs = stepToExpand.description.flatMap((lt) =>\n\t\t\t\t\t\tlt.nodes\n\t\t\t\t\t\t\t.filter(\n\t\t\t\t\t\t\t\t(node): node is ILink =>\n\t\t\t\t\t\t\t\t\ttypeof node !== \"string\",\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t.map((node) => node.href),\n\t\t\t\t\t);\n\t\t\t\t\tif (hrefs.length === 1) {\n\t\t\t\t\t\tconst href = hrefs[0];\n\t\t\t\t\t\tif (href.startsWith(\"http\")) {\n\t\t\t\t\t\t\tthis.telemetryService.publicLog2<\n\t\t\t\t\t\t\t\tGettingStartedActionEvent,\n\t\t\t\t\t\t\t\tGettingStartedActionClassification\n\t\t\t\t\t\t\t>(\"gettingStarted.ActionExecuted\", {\n\t\t\t\t\t\t\t\tcommand: \"runStepAction\",\n\t\t\t\t\t\t\t\targument: href,\n\t\t\t\t\t\t\t\twalkthroughId: this.currentWalkthrough?.id,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tthis.openerService.open(href);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t);\n\n\t\t\tthis.stepDisposables.add(\n\t\t\t\tthis.themeService.onDidColorThemeChange(() =>\n\t\t\t\t\tthis.updateMediaSourceForColorMode(\n\t\t\t\t\t\tmediaElement,\n\t\t\t\t\t\tmedia.path,\n\t\t\t\t\t),\n\t\t\t\t),\n\t\t\t);\n\t\t} else if (stepToExpand.media.type === \"svg\") {\n\t\t\tthis.stepsContent.classList.add(\"image\");\n\t\t\tthis.stepsContent.classList.remove(\"markdown\");\n\n\t\t\tconst media = stepToExpand.media;\n\t\t\tthis.webview.setHtml(\n\t\t\t\tawait this.detailsRenderer.renderSVG(media.path),\n\t\t\t);\n\n\t\t\tlet isDisposed = false;\n\t\t\tthis.stepDisposables.add(\n\t\t\t\ttoDisposable(() => {\n\t\t\t\t\tisDisposed = true;\n\t\t\t\t}),\n\t\t\t);\n\n\t\t\tthis.stepDisposables.add(\n\t\t\t\tthis.themeService.onDidColorThemeChange(async () => {\n\t\t\t\t\t// Render again since color vars change\n\t\t\t\t\tconst body = await this.detailsRenderer.renderSVG(\n\t\t\t\t\t\tmedia.path,\n\t\t\t\t\t);\n\t\t\t\t\tif (!isDisposed) {\n\t\t\t\t\t\t// Make sure we weren't disposed of in the meantime\n\t\t\t\t\t\tthis.webview.setHtml(body);\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t);\n\n\t\t\tthis.stepDisposables.add(\n\t\t\t\taddDisposableListener(this.stepMediaComponent, \"click\", () => {\n\t\t\t\t\tconst hrefs = stepToExpand.description.flatMap((lt) =>\n\t\t\t\t\t\tlt.nodes\n\t\t\t\t\t\t\t.filter(\n\t\t\t\t\t\t\t\t(node): node is ILink =>\n\t\t\t\t\t\t\t\t\ttypeof node !== \"string\",\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t.map((node) => node.href),\n\t\t\t\t\t);\n\t\t\t\t\tif (hrefs.length === 1) {\n\t\t\t\t\t\tconst href = hrefs[0];\n\t\t\t\t\t\tif (href.startsWith(\"http\")) {\n\t\t\t\t\t\t\tthis.telemetryService.publicLog2<\n\t\t\t\t\t\t\t\tGettingStartedActionEvent,\n\t\t\t\t\t\t\t\tGettingStartedActionClassification\n\t\t\t\t\t\t\t>(\"gettingStarted.ActionExecuted\", {\n\t\t\t\t\t\t\t\tcommand: \"runStepAction\",\n\t\t\t\t\t\t\t\targument: href,\n\t\t\t\t\t\t\t\twalkthroughId: this.currentWalkthrough?.id,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tthis.openerService.open(href);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t);\n\n\t\t\tthis.stepDisposables.add(\n\t\t\t\tthis.webview.onDidClickLink((link) => {\n\t\t\t\t\tif (\n\t\t\t\t\t\tmatchesScheme(link, Schemas.https) ||\n\t\t\t\t\t\tmatchesScheme(link, Schemas.http) ||\n\t\t\t\t\t\tmatchesScheme(link, Schemas.command)\n\t\t\t\t\t) {\n\t\t\t\t\t\tthis.openerService.open(link, { allowCommands: true });\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t);\n\t\t} else if (stepToExpand.media.type === \"markdown\") {\n\t\t\tthis.stepsContent.classList.remove(\"image\");\n\t\t\tthis.stepsContent.classList.add(\"markdown\");\n\n\t\t\tconst media = stepToExpand.media;\n\n\t\t\tconst rawHTML = await this.detailsRenderer.renderMarkdown(\n\t\t\t\tmedia.path,\n\t\t\t\tmedia.base,\n\t\t\t);\n\t\t\tthis.webview.setHtml(rawHTML);\n\n\t\t\tconst serializedContextKeyExprs = rawHTML\n\t\t\t\t.match(/checked-on=\"([^'][^\"]*)\"/g)\n\t\t\t\t?.map((attr) =>\n\t\t\t\t\tattr\n\t\t\t\t\t\t.slice('checked-on=\"'.length, -1)\n\t\t\t\t\t\t.replace(/&#39;/g, \"'\")\n\t\t\t\t\t\t.replace(/&amp;/g, \"&\"),\n\t\t\t\t);\n\n\t\t\tconst postTrueKeysMessage = () => {\n\t\t\t\tconst enabledContextKeys = serializedContextKeyExprs?.filter(\n\t\t\t\t\t(expr) =>\n\t\t\t\t\t\tthis.contextService.contextMatchesRules(\n\t\t\t\t\t\t\tContextKeyExpr.deserialize(expr),\n\t\t\t\t\t\t),\n\t\t\t\t);\n\t\t\t\tif (enabledContextKeys) {\n\t\t\t\t\tthis.webview.postMessage({\n\t\t\t\t\t\tenabledContextKeys,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tif (serializedContextKeyExprs) {\n\t\t\t\tconst contextKeyExprs = coalesce(\n\t\t\t\t\tserializedContextKeyExprs.map((expr) =>\n\t\t\t\t\t\tContextKeyExpr.deserialize(expr),\n\t\t\t\t\t),\n\t\t\t\t);\n\t\t\t\tconst watchingKeys = new Set(\n\t\t\t\t\tcontextKeyExprs.flatMap((expr) => expr.keys()),\n\t\t\t\t);\n\n\t\t\t\tthis.stepDisposables.add(\n\t\t\t\t\tthis.contextService.onDidChangeContext((e) => {\n\t\t\t\t\t\tif (e.affectsSome(watchingKeys)) {\n\t\t\t\t\t\t\tpostTrueKeysMessage();\n\t\t\t\t\t\t}\n\t\t\t\t\t}),\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tlet isDisposed = false;\n\t\t\tthis.stepDisposables.add(\n\t\t\t\ttoDisposable(() => {\n\t\t\t\t\tisDisposed = true;\n\t\t\t\t}),\n\t\t\t);\n\n\t\t\tthis.stepDisposables.add(\n\t\t\t\tthis.webview.onDidClickLink((link) => {\n\t\t\t\t\tif (\n\t\t\t\t\t\tmatchesScheme(link, Schemas.https) ||\n\t\t\t\t\t\tmatchesScheme(link, Schemas.http) ||\n\t\t\t\t\t\tmatchesScheme(link, Schemas.command)\n\t\t\t\t\t) {\n\t\t\t\t\t\tconst toSide = link.startsWith(\"command:toSide:\");\n\t\t\t\t\t\tif (toSide) {\n\t\t\t\t\t\t\tlink = link.replace(\"command:toSide:\", \"command:\");\n\t\t\t\t\t\t\tthis.focusSideEditorGroup();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.openerService.open(link, {\n\t\t\t\t\t\t\tallowCommands: true,\n\t\t\t\t\t\t\topenToSide: toSide,\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t);\n\n\t\t\tif (rawHTML.indexOf(\"<code>\") >= 0) {\n\t\t\t\t// Render again when Theme changes since syntax highlighting of code blocks may have changed\n\t\t\t\tthis.stepDisposables.add(\n\t\t\t\t\tthis.themeService.onDidColorThemeChange(async () => {\n\t\t\t\t\t\tconst body = await this.detailsRenderer.renderMarkdown(\n\t\t\t\t\t\t\tmedia.path,\n\t\t\t\t\t\t\tmedia.base,\n\t\t\t\t\t\t);\n\t\t\t\t\t\tif (!isDisposed) {\n\t\t\t\t\t\t\t// Make sure we weren't disposed of in the meantime\n\t\t\t\t\t\t\tthis.webview.setHtml(body);\n\t\t\t\t\t\t\tpostTrueKeysMessage();\n\t\t\t\t\t\t}\n\t\t\t\t\t}),\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tconst layoutDelayer = new Delayer(50);\n\n\t\t\tthis.layoutMarkdown = () => {\n\t\t\t\tlayoutDelayer.trigger(() => {\n\t\t\t\t\tthis.webview.postMessage({ layoutMeNow: true });\n\t\t\t\t});\n\t\t\t};\n\n\t\t\tthis.stepDisposables.add(layoutDelayer);\n\t\t\tthis.stepDisposables.add({\n\t\t\t\tdispose: () => (this.layoutMarkdown = undefined),\n\t\t\t});\n\n\t\t\tpostTrueKeysMessage();\n\n\t\t\tthis.stepDisposables.add(\n\t\t\t\tthis.webview.onMessage(async (e) => {\n\t\t\t\t\tconst message: string = e.message as string;\n\t\t\t\t\tif (message.startsWith(\"command:\")) {\n\t\t\t\t\t\tthis.openerService.open(message, {\n\t\t\t\t\t\t\tallowCommands: true,\n\t\t\t\t\t\t});\n\t\t\t\t\t} else if (message.startsWith(\"setTheme:\")) {\n\t\t\t\t\t\tconst themeId = message.slice(\"setTheme:\".length);\n\t\t\t\t\t\tconst theme = (\n\t\t\t\t\t\t\tawait this.themeService.getColorThemes()\n\t\t\t\t\t\t).find((theme) => theme.settingsId === themeId);\n\t\t\t\t\t\tif (theme) {\n\t\t\t\t\t\t\tthis.themeService.setColorTheme(\n\t\t\t\t\t\t\t\ttheme.id,\n\t\t\t\t\t\t\t\tConfigurationTarget.USER,\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.error(\"Unexpected message\", message);\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t);\n\t\t}\n\t}\n\n\tasync selectStepLoose(id: string) {\n\t\t// Allow passing in id with a category appended or with just the id of the step\n\t\tif (id.startsWith(`${this.editorInput.selectedCategory}#`)) {\n\t\t\tthis.selectStep(id);\n\t\t} else {\n\t\t\tconst toSelect = this.editorInput.selectedCategory + \"#\" + id;\n\t\t\tthis.selectStep(toSelect);\n\t\t}\n\t}\n\n\tprivate async selectStep(id: string | undefined, delayFocus = true) {\n\t\tif (id) {\n\t\t\tlet stepElement = this.container.querySelector<HTMLDivElement>(\n\t\t\t\t`[data-step-id=\"${id}\"]`,\n\t\t\t);\n\t\t\tif (!stepElement) {\n\t\t\t\t// Selected an element that is not in-context, just fallback to whatever.\n\t\t\t\tstepElement =\n\t\t\t\t\tthis.container.querySelector<HTMLDivElement>(\n\t\t\t\t\t\t`[data-step-id]`,\n\t\t\t\t\t);\n\t\t\t\tif (!stepElement) {\n\t\t\t\t\t// No steps around... just ignore.\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tid = assertIsDefined(stepElement.getAttribute(\"data-step-id\"));\n\t\t\t}\n\t\t\tstepElement.parentElement\n\t\t\t\t?.querySelectorAll<HTMLElement>(\".expanded\")\n\t\t\t\t.forEach((node) => {\n\t\t\t\t\tif (node.getAttribute(\"data-step-id\") !== id) {\n\t\t\t\t\t\tnode.classList.remove(\"expanded\");\n\t\t\t\t\t\tnode.setAttribute(\"aria-expanded\", \"false\");\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\tsetTimeout(\n\t\t\t\t() => (stepElement as HTMLElement).focus(),\n\t\t\t\tdelayFocus && this.shouldAnimate()\n\t\t\t\t\t? SLIDE_TRANSITION_TIME_MS\n\t\t\t\t\t: 0,\n\t\t\t);\n\n\t\t\tthis.editorInput.selectedStep = id;\n\n\t\t\tstepElement.classList.add(\"expanded\");\n\t\t\tstepElement.setAttribute(\"aria-expanded\", \"true\");\n\t\t\tthis.buildMediaComponent(id, true);\n\t\t\tthis.gettingStartedService.progressByEvent(\"stepSelected:\" + id);\n\t\t} else {\n\t\t\tthis.editorInput.selectedStep = undefined;\n\t\t}\n\n\t\tthis.detailsPageScrollbar?.scanDomNode();\n\t\tthis.detailsScrollbar?.scanDomNode();\n\t}\n\n\tprivate updateMediaSourceForColorMode(\n\t\telement: HTMLImageElement,\n\t\tsources: { hcDark: URI; hcLight: URI; dark: URI; light: URI },\n\t) {\n\t\tconst themeType = this.themeService.getColorTheme().type;\n\t\tconst src = sources[themeType].toString(true).replace(/ /g, \"%20\");\n\t\telement.srcset = src.toLowerCase().endsWith(\".svg\")\n\t\t\t? src\n\t\t\t: src + \" 1.5x\";\n\t}\n\n\tprotected createEditor(parent: HTMLElement) {\n\t\tif (this.detailsPageScrollbar) {\n\t\t\tthis.detailsPageScrollbar.dispose();\n\t\t}\n\t\tif (this.categoriesPageScrollbar) {\n\t\t\tthis.categoriesPageScrollbar.dispose();\n\t\t}\n\n\t\tthis.categoriesSlide = $(\n\t\t\t\".gettingStartedSlideCategories.gettingStartedSlide\",\n\t\t);\n\n\t\tconst prevButton = $(\n\t\t\t\"button.prev-button.button-link\",\n\t\t\t{ \"x-dispatch\": \"scrollPrev\" },\n\t\t\t$(\"span.scroll-button.codicon.codicon-chevron-left\"),\n\t\t\t$(\"span.moreText\", {}, localize(\"welcome\", \"Welcome\")),\n\t\t);\n\t\tthis.stepsSlide = $(\n\t\t\t\".gettingStartedSlideDetails.gettingStartedSlide\",\n\t\t\t{},\n\t\t\tprevButton,\n\t\t);\n\n\t\tthis.stepsContent = $(\".gettingStartedDetailsContent\", {});\n\n\t\tthis.detailsPageScrollbar = this._register(\n\t\t\tnew DomScrollableElement(this.stepsContent, {\n\t\t\t\tclassName: \"full-height-scrollable\",\n\t\t\t}),\n\t\t);\n\t\tthis.categoriesPageScrollbar = this._register(\n\t\t\tnew DomScrollableElement(this.categoriesSlide, {\n\t\t\t\tclassName: \"full-height-scrollable categoriesScrollbar\",\n\t\t\t}),\n\t\t);\n\n\t\tthis.stepsSlide.appendChild(this.detailsPageScrollbar.getDomNode());\n\n\t\tconst gettingStartedPage = $(\n\t\t\t\".gettingStarted\",\n\t\t\t{},\n\t\t\tthis.categoriesPageScrollbar.getDomNode(),\n\t\t\tthis.stepsSlide,\n\t\t);\n\t\tthis.container.appendChild(gettingStartedPage);\n\n\t\tthis.categoriesPageScrollbar.scanDomNode();\n\t\tthis.detailsPageScrollbar.scanDomNode();\n\n\t\tparent.appendChild(this.container);\n\t}\n\n\tprivate async buildCategoriesSlide() {\n\t\tthis.categoriesSlideDisposables.clear();\n\t\tconst showOnStartupCheckbox = new Toggle({\n\t\t\ticon: Codicon.check,\n\t\t\tactionClassName: \"getting-started-checkbox\",\n\t\t\tisChecked:\n\t\t\t\tthis.configurationService.getValue(configurationKey) ===\n\t\t\t\t\"welcomePage\",\n\t\t\ttitle: localize(\n\t\t\t\t\"checkboxTitle\",\n\t\t\t\t\"When checked, this page will be shown on startup.\",\n\t\t\t),\n\t\t\t...defaultToggleStyles,\n\t\t});\n\t\tshowOnStartupCheckbox.domNode.id = \"showOnStartup\";\n\t\tconst showOnStartupLabel = $(\n\t\t\t\"label.caption\",\n\t\t\t{ for: \"showOnStartup\" },\n\t\t\tlocalize(\n\t\t\t\t\"welcomePage.showOnStartup\",\n\t\t\t\t\"Show welcome page on startup\",\n\t\t\t),\n\t\t);\n\t\tconst onShowOnStartupChanged = () => {\n\t\t\tif (showOnStartupCheckbox.checked) {\n\t\t\t\tthis.telemetryService.publicLog2<\n\t\t\t\t\tGettingStartedActionEvent,\n\t\t\t\t\tGettingStartedActionClassification\n\t\t\t\t>(\"gettingStarted.ActionExecuted\", {\n\t\t\t\t\tcommand: \"showOnStartupChecked\",\n\t\t\t\t\targument: undefined,\n\t\t\t\t\twalkthroughId: this.currentWalkthrough?.id,\n\t\t\t\t});\n\t\t\t\tthis.configurationService.updateValue(\n\t\t\t\t\tconfigurationKey,\n\t\t\t\t\t\"welcomePage\",\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tthis.telemetryService.publicLog2<\n\t\t\t\t\tGettingStartedActionEvent,\n\t\t\t\t\tGettingStartedActionClassification\n\t\t\t\t>(\"gettingStarted.ActionExecuted\", {\n\t\t\t\t\tcommand: \"showOnStartupUnchecked\",\n\t\t\t\t\targument: undefined,\n\t\t\t\t\twalkthroughId: this.currentWalkthrough?.id,\n\t\t\t\t});\n\t\t\t\tthis.configurationService.updateValue(configurationKey, \"none\");\n\t\t\t}\n\t\t};\n\t\tthis.categoriesSlideDisposables.add(showOnStartupCheckbox);\n\t\tthis.categoriesSlideDisposables.add(\n\t\t\tshowOnStartupCheckbox.onChange(() => {\n\t\t\t\tonShowOnStartupChanged();\n\t\t\t}),\n\t\t);\n\t\tthis.categoriesSlideDisposables.add(\n\t\t\taddDisposableListener(showOnStartupLabel, \"click\", () => {\n\t\t\t\tshowOnStartupCheckbox.checked = !showOnStartupCheckbox.checked;\n\t\t\t\tonShowOnStartupChanged();\n\t\t\t}),\n\t\t);\n\n\t\tconst header = $(\n\t\t\t\".header\",\n\t\t\t{},\n\t\t\t$(\"h1.product-name.caption\", {}, this.productService.nameLong),\n\t\t\t$(\n\t\t\t\t\"p.subtitle.description\",\n\t\t\t\t{},\n\t\t\t\tlocalize(\n\t\t\t\t\t{\n\t\t\t\t\t\tkey: \"gettingStarted.editingEvolved\",\n\t\t\t\t\t\tcomment: [\"Shown as subtitle on the Welcome page.\"],\n\t\t\t\t\t},\n\t\t\t\t\t\"Editing evolved\",\n\t\t\t\t),\n\t\t\t),\n\t\t);\n\n\t\tconst leftColumn = $(\".categories-column.categories-column-left\", {});\n\t\tconst rightColumn = $(\".categories-column.categories-column-right\", {});\n\n\t\tconst startList = this.buildStartList();\n\t\tconst recentList = this.buildRecentlyOpenedList();\n\t\tconst gettingStartedList = this.buildGettingStartedWalkthroughsList();\n\n\t\tconst footer = $(\n\t\t\t\".footer\",\n\t\t\t{},\n\t\t\t$(\n\t\t\t\t\"p.showOnStartup\",\n\t\t\t\t{},\n\t\t\t\tshowOnStartupCheckbox.domNode,\n\t\t\t\tshowOnStartupLabel,\n\t\t\t),\n\t\t);\n\n\t\tconst layoutLists = () => {\n\t\t\tif (gettingStartedList.itemCount) {\n\t\t\t\tthis.container.classList.remove(\"noWalkthroughs\");\n\t\t\t\treset(rightColumn, gettingStartedList.getDomElement());\n\t\t\t} else {\n\t\t\t\tthis.container.classList.add(\"noWalkthroughs\");\n\t\t\t\treset(rightColumn);\n\t\t\t}\n\t\t\tsetTimeout(() => this.categoriesPageScrollbar?.scanDomNode(), 50);\n\t\t\tlayoutRecentList();\n\t\t};\n\n\t\tconst layoutRecentList = () => {\n\t\t\tif (this.container.classList.contains(\"noWalkthroughs\")) {\n\t\t\t\trecentList.setLimit(10);\n\t\t\t\treset(leftColumn, startList.getDomElement());\n\t\t\t\treset(rightColumn, recentList.getDomElement());\n\t\t\t} else {\n\t\t\t\trecentList.setLimit(5);\n\t\t\t\treset(\n\t\t\t\t\tleftColumn,\n\t\t\t\t\tstartList.getDomElement(),\n\t\t\t\t\trecentList.getDomElement(),\n\t\t\t\t);\n\t\t\t}\n\t\t};\n\n\t\tgettingStartedList.onDidChange(layoutLists);\n\t\tlayoutLists();\n\n\t\treset(\n\t\t\tthis.categoriesSlide,\n\t\t\t$(\n\t\t\t\t\".gettingStartedCategoriesContainer\",\n\t\t\t\t{},\n\t\t\t\theader,\n\t\t\t\tleftColumn,\n\t\t\t\trightColumn,\n\t\t\t\tfooter,\n\t\t\t),\n\t\t);\n\t\tthis.categoriesPageScrollbar?.scanDomNode();\n\n\t\tthis.updateCategoryProgress();\n\t\tthis.registerDispatchListeners();\n\n\t\tif (this.editorInput.selectedCategory) {\n\t\t\tthis.currentWalkthrough = this.gettingStartedCategories.find(\n\t\t\t\t(category) => category.id === this.editorInput.selectedCategory,\n\t\t\t);\n\n\t\t\tif (this.currentWalkthrough) {\n\t\t\t\tthis.buildCategorySlide(\n\t\t\t\t\tthis.editorInput.selectedCategory,\n\t\t\t\t\tthis.editorInput.selectedStep,\n\t\t\t\t);\n\t\t\t\tthis.setSlide(\"details\");\n\t\t\t\treturn;\n\t\t\t} else {\n\t\t\t\tthis.gettingStartedCategories =\n\t\t\t\t\tthis.gettingStartedService.getWalkthroughs();\n\t\t\t\tthis.currentWalkthrough = this.gettingStartedCategories.find(\n\t\t\t\t\t(category) =>\n\t\t\t\t\t\tcategory.id === this.editorInput.selectedCategory,\n\t\t\t\t);\n\t\t\t\tif (this.currentWalkthrough) {\n\t\t\t\t\tthis.buildCategorySlide(\n\t\t\t\t\t\tthis.editorInput.selectedCategory,\n\t\t\t\t\t\tthis.editorInput.selectedStep,\n\t\t\t\t\t);\n\t\t\t\t\tthis.setSlide(\"details\");\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tconst someStepsComplete = this.gettingStartedCategories.some(\n\t\t\t(category) => category.steps.find((s) => s.done),\n\t\t);\n\t\tif (\n\t\t\tthis.editorInput.showTelemetryNotice &&\n\t\t\tthis.productService.openToWelcomeMainPage\n\t\t) {\n\t\t\tconst telemetryNotice = $(\"p.telemetry-notice\");\n\t\t\tthis.buildTelemetryFooter(telemetryNotice);\n\t\t\tfooter.appendChild(telemetryNotice);\n\t\t} else if (\n\t\t\t!this.productService.openToWelcomeMainPage &&\n\t\t\t!someStepsComplete &&\n\t\t\t!this.hasScrolledToFirstCategory &&\n\t\t\tthis.showFeaturedWalkthrough\n\t\t) {\n\t\t\tconst firstSessionDateString =\n\t\t\t\tthis.storageService.get(\n\t\t\t\t\tfirstSessionDateStorageKey,\n\t\t\t\t\tStorageScope.APPLICATION,\n\t\t\t\t) || new Date().toUTCString();\n\t\t\tconst daysSinceFirstSession =\n\t\t\t\t(+new Date() - +new Date(firstSessionDateString)) /\n\t\t\t\t1000 /\n\t\t\t\t60 /\n\t\t\t\t60 /\n\t\t\t\t24;\n\t\t\tconst fistContentBehaviour =\n\t\t\t\tdaysSinceFirstSession < 1 ? \"openToFirstCategory\" : \"index\";\n\n\t\t\tif (fistContentBehaviour === \"openToFirstCategory\") {\n\t\t\t\tconst first = this.gettingStartedCategories.filter(\n\t\t\t\t\t(c) =>\n\t\t\t\t\t\t!c.when ||\n\t\t\t\t\t\tthis.contextService.contextMatchesRules(c.when),\n\t\t\t\t)[0];\n\t\t\t\tif (first) {\n\t\t\t\t\tthis.hasScrolledToFirstCategory = true;\n\t\t\t\t\tthis.currentWalkthrough = first;\n\t\t\t\t\tthis.editorInput.selectedCategory =\n\t\t\t\t\t\tthis.currentWalkthrough?.id;\n\t\t\t\t\tthis.buildCategorySlide(\n\t\t\t\t\t\tthis.editorInput.selectedCategory,\n\t\t\t\t\t\tundefined,\n\t\t\t\t\t);\n\t\t\t\t\tthis.setSlide(\"details\");\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.setSlide(\"categories\");\n\t}\n\n\tprivate buildRecentlyOpenedList(): GettingStartedIndexList<RecentEntry> {\n\t\tconst renderRecent = (recent: RecentEntry) => {\n\t\t\tlet fullPath: string;\n\t\t\tlet windowOpenable: IWindowOpenable;\n\t\t\tif (isRecentFolder(recent)) {\n\t\t\t\twindowOpenable = { folderUri: recent.folderUri };\n\t\t\t\tfullPath =\n\t\t\t\t\trecent.label ||\n\t\t\t\t\tthis.labelService.getWorkspaceLabel(recent.folderUri, {\n\t\t\t\t\t\tverbose: Verbosity.LONG,\n\t\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tfullPath =\n\t\t\t\t\trecent.label ||\n\t\t\t\t\tthis.labelService.getWorkspaceLabel(recent.workspace, {\n\t\t\t\t\t\tverbose: Verbosity.LONG,\n\t\t\t\t\t});\n\t\t\t\twindowOpenable = { workspaceUri: recent.workspace.configPath };\n\t\t\t}\n\n\t\t\tconst { name, parentPath } = splitRecentLabel(fullPath);\n\n\t\t\tconst li = $(\"li\");\n\t\t\tconst link = $(\"button.button-link\");\n\n\t\t\tlink.innerText = name;\n\t\t\tlink.title = fullPath;\n\t\t\tlink.setAttribute(\n\t\t\t\t\"aria-label\",\n\t\t\t\tlocalize(\n\t\t\t\t\t\"welcomePage.openFolderWithPath\",\n\t\t\t\t\t\"Open folder {0} with path {1}\",\n\t\t\t\t\tname,\n\t\t\t\t\tparentPath,\n\t\t\t\t),\n\t\t\t);\n\t\t\tlink.addEventListener(\"click\", (e) => {\n\t\t\t\tthis.telemetryService.publicLog2<\n\t\t\t\t\tGettingStartedActionEvent,\n\t\t\t\t\tGettingStartedActionClassification\n\t\t\t\t>(\"gettingStarted.ActionExecuted\", {\n\t\t\t\t\tcommand: \"openRecent\",\n\t\t\t\t\targument: undefined,\n\t\t\t\t\twalkthroughId: this.currentWalkthrough?.id,\n\t\t\t\t});\n\t\t\t\tthis.hostService.openWindow([windowOpenable], {\n\t\t\t\t\tforceNewWindow: e.ctrlKey || e.metaKey,\n\t\t\t\t\tremoteAuthority: recent.remoteAuthority || null, // local window if remoteAuthority is not set or can not be deducted from the openable\n\t\t\t\t});\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\t\t\t});\n\t\t\tli.appendChild(link);\n\n\t\t\tconst span = $(\"span\");\n\t\t\tspan.classList.add(\"path\");\n\t\t\tspan.classList.add(\"detail\");\n\t\t\tspan.innerText = parentPath;\n\t\t\tspan.title = fullPath;\n\t\t\tli.appendChild(span);\n\n\t\t\treturn li;\n\t\t};\n\n\t\tif (this.recentlyOpenedList) {\n\t\t\tthis.recentlyOpenedList.dispose();\n\t\t}\n\n\t\tconst recentlyOpenedList = (this.recentlyOpenedList =\n\t\t\tnew GettingStartedIndexList({\n\t\t\t\ttitle: localize(\"recent\", \"Recent\"),\n\t\t\t\tklass: \"recently-opened\",\n\t\t\t\tlimit: 5,\n\t\t\t\tempty: $(\n\t\t\t\t\t\".empty-recent\",\n\t\t\t\t\t{},\n\t\t\t\t\tlocalize(\"noRecents\", \"You have no recent folders,\"),\n\t\t\t\t\t$(\n\t\t\t\t\t\t\"button.button-link\",\n\t\t\t\t\t\t{ \"x-dispatch\": \"openFolder\" },\n\t\t\t\t\t\tlocalize(\"openFolder\", \"open a folder\"),\n\t\t\t\t\t),\n\t\t\t\t\tlocalize(\"toStart\", \"to start.\"),\n\t\t\t\t),\n\n\t\t\t\tmore: $(\n\t\t\t\t\t\".more\",\n\t\t\t\t\t{},\n\t\t\t\t\t$(\n\t\t\t\t\t\t\"button.button-link\",\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"x-dispatch\": \"showMoreRecents\",\n\t\t\t\t\t\t\ttitle: localize(\n\t\t\t\t\t\t\t\t\"show more recents\",\n\t\t\t\t\t\t\t\t\"Show All Recent Folders {0}\",\n\t\t\t\t\t\t\t\tthis.getKeybindingLabel(OpenRecentAction.ID),\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t},\n\t\t\t\t\t\tlocalize(\"showAll\", \"More...\"),\n\t\t\t\t\t),\n\t\t\t\t),\n\t\t\t\trenderElement: renderRecent,\n\t\t\t\tcontextService: this.contextService,\n\t\t\t}));\n\n\t\trecentlyOpenedList.onDidChange(() => this.registerDispatchListeners());\n\t\tthis.recentlyOpened\n\t\t\t.then(({ workspaces }) => {\n\t\t\t\t// Filter out the current workspace\n\t\t\t\tconst workspacesWithID = workspaces\n\t\t\t\t\t.filter(\n\t\t\t\t\t\t(recent) =>\n\t\t\t\t\t\t\t!this.workspaceContextService.isCurrentWorkspace(\n\t\t\t\t\t\t\t\tisRecentWorkspace(recent)\n\t\t\t\t\t\t\t\t\t? recent.workspace\n\t\t\t\t\t\t\t\t\t: recent.folderUri,\n\t\t\t\t\t\t\t),\n\t\t\t\t\t)\n\t\t\t\t\t.map((recent) => ({\n\t\t\t\t\t\t...recent,\n\t\t\t\t\t\tid: isRecentWorkspace(recent)\n\t\t\t\t\t\t\t? recent.workspace.id\n\t\t\t\t\t\t\t: recent.folderUri.toString(),\n\t\t\t\t\t}));\n\n\t\t\t\tconst updateEntries = () => {\n\t\t\t\t\trecentlyOpenedList.setEntries(workspacesWithID);\n\t\t\t\t};\n\n\t\t\t\tupdateEntries();\n\t\t\t\trecentlyOpenedList.register(\n\t\t\t\t\tthis.labelService.onDidChangeFormatters(() =>\n\t\t\t\t\t\tupdateEntries(),\n\t\t\t\t\t),\n\t\t\t\t);\n\t\t\t})\n\t\t\t.catch(onUnexpectedError);\n\n\t\treturn recentlyOpenedList;\n\t}\n\n\tprivate buildStartList(): GettingStartedIndexList<IWelcomePageStartEntry> {\n\t\tconst renderStartEntry = (entry: IWelcomePageStartEntry): HTMLElement =>\n\t\t\t$(\n\t\t\t\t\"li\",\n\t\t\t\t{},\n\t\t\t\t$(\n\t\t\t\t\t\"button.button-link\",\n\t\t\t\t\t{\n\t\t\t\t\t\t\"x-dispatch\": \"selectStartEntry:\" + entry.id,\n\t\t\t\t\t\ttitle:\n\t\t\t\t\t\t\tentry.description +\n\t\t\t\t\t\t\t\" \" +\n\t\t\t\t\t\t\tthis.getKeybindingLabel(entry.command),\n\t\t\t\t\t},\n\t\t\t\t\tthis.iconWidgetFor(entry),\n\t\t\t\t\t$(\"span\", {}, entry.title),\n\t\t\t\t),\n\t\t\t);\n\n\t\tif (this.startList) {\n\t\t\tthis.startList.dispose();\n\t\t}\n\n\t\tconst startList = (this.startList = new GettingStartedIndexList({\n\t\t\ttitle: localize(\"start\", \"Start\"),\n\t\t\tklass: \"start-container\",\n\t\t\tlimit: 10,\n\t\t\trenderElement: renderStartEntry,\n\t\t\trankElement: (e) => -e.order,\n\t\t\tcontextService: this.contextService,\n\t\t}));\n\n\t\tstartList.setEntries(parsedStartEntries);\n\t\tstartList.onDidChange(() => this.registerDispatchListeners());\n\t\treturn startList;\n\t}\n\n\tprivate buildGettingStartedWalkthroughsList(): GettingStartedIndexList<IResolvedWalkthrough> {\n\t\tconst renderGetttingStaredWalkthrough = (\n\t\t\tcategory: IResolvedWalkthrough,\n\t\t): HTMLElement => {\n\t\t\tconst renderNewBadge =\n\t\t\t\t(category.newItems || category.newEntry) &&\n\t\t\t\t!category.isFeatured;\n\t\t\tconst newBadge = $(\".new-badge\", {});\n\t\t\tif (category.newEntry) {\n\t\t\t\treset(newBadge, $(\".new-category\", {}, localize(\"new\", \"New\")));\n\t\t\t} else if (category.newItems) {\n\t\t\t\treset(\n\t\t\t\t\tnewBadge,\n\t\t\t\t\t$(\n\t\t\t\t\t\t\".new-items\",\n\t\t\t\t\t\t{},\n\t\t\t\t\t\tlocalize(\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tkey: \"newItems\",\n\t\t\t\t\t\t\t\tcomment: [\n\t\t\t\t\t\t\t\t\t\"Shown when a list of items has changed based on an update from a remote source\",\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\"Updated\",\n\t\t\t\t\t\t),\n\t\t\t\t\t),\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tconst featuredBadge = $(\".featured-badge\", {});\n\t\t\tconst descriptionContent = $(\".description-content\", {});\n\n\t\t\tif (category.isFeatured && this.showFeaturedWalkthrough) {\n\t\t\t\treset(\n\t\t\t\t\tfeaturedBadge,\n\t\t\t\t\t$(\n\t\t\t\t\t\t\".featured\",\n\t\t\t\t\t\t{},\n\t\t\t\t\t\t$(\"span.featured-icon.codicon.codicon-star-full\"),\n\t\t\t\t\t),\n\t\t\t\t);\n\t\t\t\treset(\n\t\t\t\t\tdescriptionContent,\n\t\t\t\t\t...renderLabelWithIcons(category.description),\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tconst titleContent = $(\"h3.category-title.max-lines-3\", {\n\t\t\t\t\"x-category-title-for\": category.id,\n\t\t\t});\n\t\t\treset(titleContent, ...renderLabelWithIcons(category.title));\n\n\t\t\treturn $(\n\t\t\t\t\"button.getting-started-category\" +\n\t\t\t\t\t(category.isFeatured && this.showFeaturedWalkthrough\n\t\t\t\t\t\t? \".featured\"\n\t\t\t\t\t\t: \"\"),\n\t\t\t\t{\n\t\t\t\t\t\"x-dispatch\": \"selectCategory:\" + category.id,\n\t\t\t\t\ttitle: category.description,\n\t\t\t\t},\n\t\t\t\tfeaturedBadge,\n\t\t\t\t$(\n\t\t\t\t\t\".main-content\",\n\t\t\t\t\t{},\n\t\t\t\t\tthis.iconWidgetFor(category),\n\t\t\t\t\ttitleContent,\n\t\t\t\t\trenderNewBadge ? newBadge : $(\".no-badge\"),\n\t\t\t\t\t$(\"a.codicon.codicon-close.hide-category-button\", {\n\t\t\t\t\t\ttabindex: 0,\n\t\t\t\t\t\t\"x-dispatch\": \"hideCategory:\" + category.id,\n\t\t\t\t\t\ttitle: localize(\"close\", \"Hide\"),\n\t\t\t\t\t\trole: \"button\",\n\t\t\t\t\t\t\"aria-label\": localize(\"closeAriaLabel\", \"Hide\"),\n\t\t\t\t\t}),\n\t\t\t\t),\n\t\t\t\tdescriptionContent,\n\t\t\t\t$(\n\t\t\t\t\t\".category-progress\",\n\t\t\t\t\t{ \"x-data-category-id\": category.id },\n\t\t\t\t\t$(\n\t\t\t\t\t\t\".progress-bar-outer\",\n\t\t\t\t\t\t{ role: \"progressbar\" },\n\t\t\t\t\t\t$(\".progress-bar-inner\"),\n\t\t\t\t\t),\n\t\t\t\t),\n\t\t\t);\n\t\t};\n\n\t\tif (this.gettingStartedList) {\n\t\t\tthis.gettingStartedList.dispose();\n\t\t}\n\n\t\tconst rankWalkthrough = (e: IResolvedWalkthrough) => {\n\t\t\tlet rank: number | null = e.order;\n\n\t\t\tif (e.isFeatured) {\n\t\t\t\trank += 7;\n\t\t\t}\n\t\t\tif (e.newEntry) {\n\t\t\t\trank += 3;\n\t\t\t}\n\t\t\tif (e.newItems) {\n\t\t\t\trank += 2;\n\t\t\t}\n\t\t\tif (e.recencyBonus) {\n\t\t\t\trank += 4 * e.recencyBonus;\n\t\t\t}\n\n\t\t\tif (this.getHiddenCategories().has(e.id)) {\n\t\t\t\trank = null;\n\t\t\t}\n\t\t\treturn rank;\n\t\t};\n\n\t\tconst gettingStartedList = (this.gettingStartedList =\n\t\t\tnew GettingStartedIndexList({\n\t\t\t\ttitle: localize(\"walkthroughs\", \"Walkthroughs\"),\n\t\t\t\tklass: \"getting-started\",\n\t\t\t\tlimit: 5,\n\t\t\t\tfooter: $(\n\t\t\t\t\t\"span.button-link.see-all-walkthroughs\",\n\t\t\t\t\t{ \"x-dispatch\": \"seeAllWalkthroughs\", tabindex: 0 },\n\t\t\t\t\tlocalize(\"showAll\", \"More...\"),\n\t\t\t\t),\n\t\t\t\trenderElement: renderGetttingStaredWalkthrough,\n\t\t\t\trankElement: rankWalkthrough,\n\t\t\t\tcontextService: this.contextService,\n\t\t\t}));\n\n\t\tgettingStartedList.onDidChange(() => {\n\t\t\tconst hidden = this.getHiddenCategories();\n\t\t\tconst someWalkthroughsHidden =\n\t\t\t\thidden.size ||\n\t\t\t\tgettingStartedList.itemCount <\n\t\t\t\t\tthis.gettingStartedCategories.filter((c) =>\n\t\t\t\t\t\tthis.contextService.contextMatchesRules(c.when),\n\t\t\t\t\t).length;\n\t\t\tthis.container.classList.toggle(\n\t\t\t\t\"someWalkthroughsHidden\",\n\t\t\t\t!!someWalkthroughsHidden,\n\t\t\t);\n\t\t\tthis.registerDispatchListeners();\n\t\t\tallWalkthroughsHiddenContext\n\t\t\t\t.bindTo(this.contextService)\n\t\t\t\t.set(gettingStartedList.itemCount === 0);\n\t\t\tthis.updateCategoryProgress();\n\t\t});\n\n\t\tgettingStartedList.setEntries(this.gettingStartedCategories);\n\t\tallWalkthroughsHiddenContext\n\t\t\t.bindTo(this.contextService)\n\t\t\t.set(gettingStartedList.itemCount === 0);\n\n\t\treturn gettingStartedList;\n\t}\n\n\tlayout(size: Dimension) {\n\t\tthis.detailsScrollbar?.scanDomNode();\n\n\t\tthis.categoriesPageScrollbar?.scanDomNode();\n\t\tthis.detailsPageScrollbar?.scanDomNode();\n\n\t\tthis.startList?.layout(size);\n\t\tthis.gettingStartedList?.layout(size);\n\t\tthis.recentlyOpenedList?.layout(size);\n\n\t\tif (this.editorInput?.selectedStep && this.currentMediaType) {\n\t\t\tthis.mediaDisposables.clear();\n\t\t\tthis.stepDisposables.clear();\n\t\t\tthis.buildMediaComponent(this.editorInput.selectedStep);\n\t\t}\n\n\t\tthis.layoutMarkdown?.();\n\n\t\tthis.container.classList.toggle(\n\t\t\t\"height-constrained\",\n\t\t\tsize.height <= 600,\n\t\t);\n\t\tthis.container.classList.toggle(\"width-constrained\", size.width <= 400);\n\t\tthis.container.classList.toggle(\n\t\t\t\"width-semi-constrained\",\n\t\t\tsize.width <= 800,\n\t\t);\n\n\t\tthis.categoriesPageScrollbar?.scanDomNode();\n\t\tthis.detailsPageScrollbar?.scanDomNode();\n\t\tthis.detailsScrollbar?.scanDomNode();\n\t}\n\n\tprivate updateCategoryProgress() {\n\t\tthis.window.document\n\t\t\t.querySelectorAll(\".category-progress\")\n\t\t\t.forEach((element) => {\n\t\t\t\tconst categoryID = element.getAttribute(\"x-data-category-id\");\n\t\t\t\tconst category = this.gettingStartedCategories.find(\n\t\t\t\t\t(category) => category.id === categoryID,\n\t\t\t\t);\n\t\t\t\tif (!category) {\n\t\t\t\t\tthrow Error(\n\t\t\t\t\t\t\"Could not find category with ID \" + categoryID,\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tconst stats = this.getWalkthroughCompletionStats(category);\n\n\t\t\t\tconst bar = assertIsDefined(\n\t\t\t\t\telement.querySelector(\".progress-bar-inner\"),\n\t\t\t\t) as HTMLDivElement;\n\t\t\t\tbar.setAttribute(\"aria-valuemin\", \"0\");\n\t\t\t\tbar.setAttribute(\"aria-valuenow\", \"\" + stats.stepsComplete);\n\t\t\t\tbar.setAttribute(\"aria-valuemax\", \"\" + stats.stepsTotal);\n\t\t\t\tconst progress = (stats.stepsComplete / stats.stepsTotal) * 100;\n\t\t\t\tbar.style.width = `${progress}%`;\n\n\t\t\t\t(element.parentElement as HTMLElement).classList.toggle(\n\t\t\t\t\t\"no-progress\",\n\t\t\t\t\tstats.stepsComplete === 0,\n\t\t\t\t);\n\n\t\t\t\tif (stats.stepsTotal === stats.stepsComplete) {\n\t\t\t\t\tbar.title = localize(\n\t\t\t\t\t\t\"gettingStarted.allStepsComplete\",\n\t\t\t\t\t\t\"All {0} steps complete!\",\n\t\t\t\t\t\tstats.stepsComplete,\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\tbar.title = localize(\n\t\t\t\t\t\t\"gettingStarted.someStepsComplete\",\n\t\t\t\t\t\t\"{0} of {1} steps complete\",\n\t\t\t\t\t\tstats.stepsComplete,\n\t\t\t\t\t\tstats.stepsTotal,\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\tprivate async scrollToCategory(categoryID: string, stepId?: string) {\n\t\tif (!this.gettingStartedCategories.some((c) => c.id === categoryID)) {\n\t\t\tthis.gettingStartedCategories =\n\t\t\t\tthis.gettingStartedService.getWalkthroughs();\n\t\t}\n\n\t\tconst ourCategory = this.gettingStartedCategories.find(\n\t\t\t(c) => c.id === categoryID,\n\t\t);\n\t\tif (!ourCategory) {\n\t\t\tthrow Error(\"Could not find category with ID: \" + categoryID);\n\t\t}\n\n\t\tthis.inProgressScroll = this.inProgressScroll.then(async () => {\n\t\t\treset(this.stepsContent);\n\t\t\tthis.editorInput.selectedCategory = categoryID;\n\t\t\tthis.editorInput.selectedStep = stepId;\n\t\t\tthis.currentWalkthrough = ourCategory;\n\t\t\tthis.buildCategorySlide(categoryID, stepId);\n\t\t\tthis.setSlide(\"details\");\n\t\t});\n\t}\n\n\tprivate iconWidgetFor(\n\t\tcategory:\n\t\t\t| IResolvedWalkthrough\n\t\t\t| { icon: { type: \"icon\"; icon: ThemeIcon } },\n\t) {\n\t\tconst widget =\n\t\t\tcategory.icon.type === \"icon\"\n\t\t\t\t? $(ThemeIcon.asCSSSelector(category.icon.icon))\n\t\t\t\t: $(\"img.category-icon\", { src: category.icon.path });\n\t\twidget.classList.add(\"icon-widget\");\n\t\treturn widget;\n\t}\n\n\tprivate focusSideEditorGroup() {\n\t\tconst fullSize = this.groupsService.getPart(\n\t\t\tthis.group,\n\t\t).contentDimension;\n\t\tif (!fullSize || fullSize.width <= 700) {\n\t\t\treturn;\n\t\t}\n\t\tif (this.groupsService.count === 1) {\n\t\t\tconst sideGroup = this.groupsService.addGroup(\n\t\t\t\tthis.groupsService.groups[0],\n\t\t\t\tGroupDirection.RIGHT,\n\t\t\t);\n\t\t\tthis.groupsService.activateGroup(sideGroup);\n\n\t\t\tconst gettingStartedSize = Math.floor(fullSize.width / 2);\n\n\t\t\tconst gettingStartedGroup = this.groupsService\n\t\t\t\t.getGroups(GroupsOrder.MOST_RECENTLY_ACTIVE)\n\t\t\t\t.find(\n\t\t\t\t\t(group) =>\n\t\t\t\t\t\tgroup.activeEditor instanceof GettingStartedInput,\n\t\t\t\t);\n\t\t\tthis.groupsService.setSize(assertIsDefined(gettingStartedGroup), {\n\t\t\t\twidth: gettingStartedSize,\n\t\t\t\theight: fullSize.height,\n\t\t\t});\n\t\t}\n\n\t\tconst nonGettingStartedGroup = this.groupsService\n\t\t\t.getGroups(GroupsOrder.MOST_RECENTLY_ACTIVE)\n\t\t\t.find(\n\t\t\t\t(group) => !(group.activeEditor instanceof GettingStartedInput),\n\t\t\t);\n\t\tif (nonGettingStartedGroup) {\n\t\t\tthis.groupsService.activateGroup(nonGettingStartedGroup);\n\t\t\tnonGettingStartedGroup.focus();\n\t\t}\n\t}\n\tprivate runStepCommand(href: string) {\n\t\tconst isCommand = href.startsWith(\"command:\");\n\t\tconst toSide = href.startsWith(\"command:toSide:\");\n\t\tconst command = href.replace(/command:(toSide:)?/, \"command:\");\n\n\t\tthis.telemetryService.publicLog2<\n\t\t\tGettingStartedActionEvent,\n\t\t\tGettingStartedActionClassification\n\t\t>(\"gettingStarted.ActionExecuted\", {\n\t\t\tcommand: \"runStepAction\",\n\t\t\targument: href,\n\t\t\twalkthroughId: this.currentWalkthrough?.id,\n\t\t});\n\n\t\tif (toSide) {\n\t\t\tthis.focusSideEditorGroup();\n\t\t}\n\t\tif (isCommand) {\n\t\t\tconst commandURI = URI.parse(command);\n\n\t\t\t// execute as command\n\t\t\tlet args: any = [];\n\t\t\ttry {\n\t\t\t\targs = parse(decodeURIComponent(commandURI.query));\n\t\t\t} catch {\n\t\t\t\t// ignore and retry\n\t\t\t\ttry {\n\t\t\t\t\targs = parse(commandURI.query);\n\t\t\t\t} catch {\n\t\t\t\t\t// ignore error\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!Array.isArray(args)) {\n\t\t\t\targs = [args];\n\t\t\t}\n\n\t\t\t// If a step is requesting the OpenFolder action to be executed in an empty workspace...\n\t\t\tif (\n\t\t\t\t(commandURI.path === OpenFileFolderAction.ID.toString() ||\n\t\t\t\t\tcommandURI.path === OpenFolderAction.ID.toString()) &&\n\t\t\t\tthis.workspaceContextService.getWorkspace().folders.length === 0\n\t\t\t) {\n\t\t\t\tconst selectedStepIndex =\n\t\t\t\t\tthis.currentWalkthrough?.steps.findIndex(\n\t\t\t\t\t\t(step) => step.id === this.editorInput.selectedStep,\n\t\t\t\t\t);\n\n\t\t\t\t// and there are a few more steps after this step which are yet to be completed...\n\t\t\t\tif (\n\t\t\t\t\tselectedStepIndex !== undefined &&\n\t\t\t\t\tselectedStepIndex > -1 &&\n\t\t\t\t\tthis.currentWalkthrough?.steps\n\t\t\t\t\t\t.slice(selectedStepIndex + 1)\n\t\t\t\t\t\t.some((step) => !step.done)\n\t\t\t\t) {\n\t\t\t\t\tconst restoreData: RestoreWalkthroughsConfigurationValue = {\n\t\t\t\t\t\tfolder: UNKNOWN_EMPTY_WINDOW_WORKSPACE.id,\n\t\t\t\t\t\tcategory: this.editorInput.selectedCategory,\n\t\t\t\t\t\tstep: this.editorInput.selectedStep,\n\t\t\t\t\t};\n\n\t\t\t\t\t// save state to restore after reload\n\t\t\t\t\tthis.storageService.store(\n\t\t\t\t\t\trestoreWalkthroughsConfigurationKey,\n\t\t\t\t\t\tJSON.stringify(restoreData),\n\t\t\t\t\t\tStorageScope.PROFILE,\n\t\t\t\t\t\tStorageTarget.MACHINE,\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.commandService\n\t\t\t\t.executeCommand(commandURI.path, ...args)\n\t\t\t\t.then((result) => {\n\t\t\t\t\tconst toOpen: URI = result?.openFolder;\n\t\t\t\t\tif (toOpen) {\n\t\t\t\t\t\tif (!URI.isUri(toOpen)) {\n\t\t\t\t\t\t\tconsole.warn(\n\t\t\t\t\t\t\t\t\"Warn: Running walkthrough command\",\n\t\t\t\t\t\t\t\thref,\n\t\t\t\t\t\t\t\t\"yielded non-URI `openFolder` result\",\n\t\t\t\t\t\t\t\ttoOpen,\n\t\t\t\t\t\t\t\t\". It will be disregarded.\",\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconst restoreData: RestoreWalkthroughsConfigurationValue =\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tfolder: toOpen.toString(),\n\t\t\t\t\t\t\t\tcategory: this.editorInput.selectedCategory,\n\t\t\t\t\t\t\t\tstep: this.editorInput.selectedStep,\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\tthis.storageService.store(\n\t\t\t\t\t\t\trestoreWalkthroughsConfigurationKey,\n\t\t\t\t\t\t\tJSON.stringify(restoreData),\n\t\t\t\t\t\t\tStorageScope.PROFILE,\n\t\t\t\t\t\t\tStorageTarget.MACHINE,\n\t\t\t\t\t\t);\n\t\t\t\t\t\tthis.hostService.openWindow([{ folderUri: toOpen }]);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t} else {\n\t\t\tthis.openerService.open(command, { allowCommands: true });\n\t\t}\n\n\t\tif (\n\t\t\t!isCommand &&\n\t\t\t(href.startsWith(\"https://\") || href.startsWith(\"http://\"))\n\t\t) {\n\t\t\tthis.gettingStartedService.progressByEvent(\"onLink:\" + href);\n\t\t}\n\t}\n\n\tprivate buildMarkdownDescription(\n\t\tcontainer: HTMLElement,\n\t\ttext: LinkedText[],\n\t) {\n\t\twhile (container.firstChild) {\n\t\t\tcontainer.firstChild.remove();\n\t\t}\n\n\t\tfor (const linkedText of text) {\n\t\t\tif (\n\t\t\t\tlinkedText.nodes.length === 1 &&\n\t\t\t\ttypeof linkedText.nodes[0] !== \"string\"\n\t\t\t) {\n\t\t\t\tconst node = linkedText.nodes[0];\n\t\t\t\tconst buttonContainer = append(\n\t\t\t\t\tcontainer,\n\t\t\t\t\t$(\".button-container\"),\n\t\t\t\t);\n\t\t\t\tconst button = new Button(buttonContainer, {\n\t\t\t\t\ttitle: node.title,\n\t\t\t\t\tsupportIcons: true,\n\t\t\t\t\t...defaultButtonStyles,\n\t\t\t\t});\n\n\t\t\t\tconst isCommand = node.href.startsWith(\"command:\");\n\t\t\t\tconst command = node.href.replace(\n\t\t\t\t\t/command:(toSide:)?/,\n\t\t\t\t\t\"command:\",\n\t\t\t\t);\n\n\t\t\t\tbutton.label = node.label;\n\t\t\t\tbutton.onDidClick(\n\t\t\t\t\t(e) => {\n\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tthis.runStepCommand(node.href);\n\t\t\t\t\t},\n\t\t\t\t\tnull,\n\t\t\t\t\tthis.detailsPageDisposables,\n\t\t\t\t);\n\n\t\t\t\tif (isCommand) {\n\t\t\t\t\tconst keybindingLabel = this.getKeybindingLabel(command);\n\t\t\t\t\tif (keybindingLabel) {\n\t\t\t\t\t\tcontainer.appendChild(\n\t\t\t\t\t\t\t$(\n\t\t\t\t\t\t\t\t\"span.shortcut-message\",\n\t\t\t\t\t\t\t\t{},\n\t\t\t\t\t\t\t\tlocalize(\n\t\t\t\t\t\t\t\t\t\"gettingStarted.keyboardTip\",\n\t\t\t\t\t\t\t\t\t\"Tip: Use keyboard shortcut \",\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t$(\"span.keybinding\", {}, keybindingLabel),\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis.detailsPageDisposables.add(button);\n\t\t\t} else {\n\t\t\t\tconst p = append(container, $(\"p\"));\n\t\t\t\tfor (const node of linkedText.nodes) {\n\t\t\t\t\tif (typeof node === \"string\") {\n\t\t\t\t\t\tconst labelWithIcon = renderLabelWithIcons(node);\n\t\t\t\t\t\tfor (const element of labelWithIcon) {\n\t\t\t\t\t\t\tif (typeof element === \"string\") {\n\t\t\t\t\t\t\t\tp.appendChild(\n\t\t\t\t\t\t\t\t\trenderFormattedText(element, {\n\t\t\t\t\t\t\t\t\t\tinline: true,\n\t\t\t\t\t\t\t\t\t\trenderCodeSegments: true,\n\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tp.appendChild(element);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconst link = this.instantiationService.createInstance(\n\t\t\t\t\t\t\tLink,\n\t\t\t\t\t\t\tp,\n\t\t\t\t\t\t\tnode,\n\t\t\t\t\t\t\t{ opener: (href) => this.runStepCommand(href) },\n\t\t\t\t\t\t);\n\t\t\t\t\t\tthis.detailsPageDisposables.add(link);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn container;\n\t}\n\n\toverride clearInput() {\n\t\tthis.stepDisposables.clear();\n\t\tsuper.clearInput();\n\t}\n\n\tprivate buildCategorySlide(categoryID: string, selectedStep?: string) {\n\t\tif (this.detailsScrollbar) {\n\t\t\tthis.detailsScrollbar.dispose();\n\t\t}\n\n\t\tthis.extensionService.whenInstalledExtensionsRegistered().then(() => {\n\t\t\t// Remove internal extension id specifier from exposed id's\n\t\t\tthis.extensionService.activateByEvent(\n\t\t\t\t`onWalkthrough:${categoryID.replace(/[^#]+#/, \"\")}`,\n\t\t\t);\n\t\t});\n\n\t\tthis.detailsPageDisposables.clear();\n\t\tthis.mediaDisposables.clear();\n\n\t\tconst category = this.gettingStartedCategories.find(\n\t\t\t(category) => category.id === categoryID,\n\t\t);\n\t\tif (!category) {\n\t\t\tthrow Error(\"could not find category with ID \" + categoryID);\n\t\t}\n\n\t\tconst descriptionContainer = $(\n\t\t\t\".category-description.description.max-lines-3\",\n\t\t\t{ \"x-category-description-for\": category.id },\n\t\t);\n\t\tthis.buildMarkdownDescription(\n\t\t\tdescriptionContainer,\n\t\t\tparseDescription(category.description),\n\t\t);\n\n\t\tconst categoryDescriptorComponent = $(\n\t\t\t\".getting-started-category\",\n\t\t\t{},\n\t\t\t$(\n\t\t\t\t\".category-description-container\",\n\t\t\t\t{},\n\t\t\t\t$(\n\t\t\t\t\t\"h2.category-title.max-lines-3\",\n\t\t\t\t\t{ \"x-category-title-for\": category.id },\n\t\t\t\t\t...renderLabelWithIcons(category.title),\n\t\t\t\t),\n\t\t\t\tdescriptionContainer,\n\t\t\t),\n\t\t);\n\n\t\tconst stepListContainer = $(\".step-list-container\");\n\n\t\tthis.detailsPageDisposables.add(\n\t\t\taddDisposableListener(stepListContainer, \"keydown\", (e) => {\n\t\t\t\tconst event = new StandardKeyboardEvent(e);\n\t\t\t\tconst currentStepIndex = () =>\n\t\t\t\t\tcategory.steps.findIndex(\n\t\t\t\t\t\t(e) => e.id === this.editorInput.selectedStep,\n\t\t\t\t\t);\n\n\t\t\t\tif (event.keyCode === KeyCode.UpArrow) {\n\t\t\t\t\tconst toExpand = category.steps.filter(\n\t\t\t\t\t\t(step, index) =>\n\t\t\t\t\t\t\tindex < currentStepIndex() &&\n\t\t\t\t\t\t\tthis.contextService.contextMatchesRules(step.when),\n\t\t\t\t\t);\n\t\t\t\t\tif (toExpand.length) {\n\t\t\t\t\t\tthis.selectStep(\n\t\t\t\t\t\t\ttoExpand[toExpand.length - 1].id,\n\t\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (event.keyCode === KeyCode.DownArrow) {\n\t\t\t\t\tconst toExpand = category.steps.find(\n\t\t\t\t\t\t(step, index) =>\n\t\t\t\t\t\t\tindex > currentStepIndex() &&\n\t\t\t\t\t\t\tthis.contextService.contextMatchesRules(step.when),\n\t\t\t\t\t);\n\t\t\t\t\tif (toExpand) {\n\t\t\t\t\t\tthis.selectStep(toExpand.id, false);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}),\n\t\t);\n\n\t\tlet renderedSteps: IResolvedWalkthroughStep[] | undefined;\n\n\t\tconst contextKeysToWatch = new Set(\n\t\t\tcategory.steps.flatMap((step) => step.when.keys()),\n\t\t);\n\n\t\tconst buildStepList = () => {\n\t\t\tcategory.steps.sort((a, b) => a.order - b.order);\n\t\t\tconst toRender = category.steps.filter((step) =>\n\t\t\t\tthis.contextService.contextMatchesRules(step.when),\n\t\t\t);\n\n\t\t\tif (equals(renderedSteps, toRender, (a, b) => a.id === b.id)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\trenderedSteps = toRender;\n\n\t\t\treset(\n\t\t\t\tstepListContainer,\n\t\t\t\t...renderedSteps.map((step) => {\n\t\t\t\t\tconst codicon = $(\n\t\t\t\t\t\t\".codicon\" +\n\t\t\t\t\t\t\t(step.done\n\t\t\t\t\t\t\t\t? \".complete\" +\n\t\t\t\t\t\t\t\t\tThemeIcon.asCSSSelector(\n\t\t\t\t\t\t\t\t\t\tgettingStartedCheckedCodicon,\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t: ThemeIcon.asCSSSelector(\n\t\t\t\t\t\t\t\t\t\tgettingStartedUncheckedCodicon,\n\t\t\t\t\t\t\t\t\t)),\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"data-done-step-id\": step.id,\n\t\t\t\t\t\t\t\"x-dispatch\": \"toggleStepCompletion:\" + step.id,\n\t\t\t\t\t\t\trole: \"checkbox\",\n\t\t\t\t\t\t\ttabindex: \"0\",\n\t\t\t\t\t\t\t\"aria-checked\": step.done ? \"true\" : \"false\",\n\t\t\t\t\t\t},\n\t\t\t\t\t);\n\n\t\t\t\t\tconst container = $(\".step-description-container\", {\n\t\t\t\t\t\t\"x-step-description-for\": step.id,\n\t\t\t\t\t});\n\t\t\t\t\tthis.buildMarkdownDescription(container, step.description);\n\n\t\t\t\t\tconst stepTitle = $(\"h3.step-title.max-lines-3\", {\n\t\t\t\t\t\t\"x-step-title-for\": step.id,\n\t\t\t\t\t});\n\t\t\t\t\treset(stepTitle, ...renderLabelWithIcons(step.title));\n\n\t\t\t\t\tconst stepDescription = $(\n\t\t\t\t\t\t\".step-container\",\n\t\t\t\t\t\t{},\n\t\t\t\t\t\tstepTitle,\n\t\t\t\t\t\tcontainer,\n\t\t\t\t\t);\n\n\t\t\t\t\tif (step.media.type === \"image\") {\n\t\t\t\t\t\tstepDescription.appendChild(\n\t\t\t\t\t\t\t$(\".image-description\", {\n\t\t\t\t\t\t\t\t\"aria-label\": localize(\n\t\t\t\t\t\t\t\t\t\"imageShowing\",\n\t\t\t\t\t\t\t\t\t\"Image showing {0}\",\n\t\t\t\t\t\t\t\t\tstep.media.altText,\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn $(\n\t\t\t\t\t\t\"button.getting-started-step\",\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"x-dispatch\": \"selectTask:\" + step.id,\n\t\t\t\t\t\t\t\"data-step-id\": step.id,\n\t\t\t\t\t\t\t\"aria-expanded\": \"false\",\n\t\t\t\t\t\t\t\"aria-checked\": step.done ? \"true\" : \"false\",\n\t\t\t\t\t\t\trole: \"button\",\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcodicon,\n\t\t\t\t\t\tstepDescription,\n\t\t\t\t\t);\n\t\t\t\t}),\n\t\t\t);\n\t\t};\n\n\t\tbuildStepList();\n\n\t\tthis.detailsPageDisposables.add(\n\t\t\tthis.contextService.onDidChangeContext((e) => {\n\t\t\t\tif (e.affectsSome(contextKeysToWatch)) {\n\t\t\t\t\tbuildStepList();\n\t\t\t\t\tthis.registerDispatchListeners();\n\t\t\t\t\tthis.selectStep(this.editorInput.selectedStep, false);\n\t\t\t\t}\n\t\t\t}),\n\t\t);\n\n\t\tconst showNextCategory = this.gettingStartedCategories.find(\n\t\t\t(_category) => _category.id === category.next,\n\t\t);\n\n\t\tconst stepsContainer = $(\n\t\t\t\".getting-started-detail-container\",\n\t\t\t{ role: \"list\" },\n\t\t\tstepListContainer,\n\t\t\t$(\n\t\t\t\t\".done-next-container\",\n\t\t\t\t{},\n\t\t\t\t$(\n\t\t\t\t\t\"button.button-link.all-done\",\n\t\t\t\t\t{ \"x-dispatch\": \"allDone\" },\n\t\t\t\t\t$(\"span.codicon.codicon-check-all\"),\n\t\t\t\t\tlocalize(\"allDone\", \"Mark Done\"),\n\t\t\t\t),\n\t\t\t\t...(showNextCategory\n\t\t\t\t\t? [\n\t\t\t\t\t\t\t$(\n\t\t\t\t\t\t\t\t\"button.button-link.next\",\n\t\t\t\t\t\t\t\t{ \"x-dispatch\": \"nextSection\" },\n\t\t\t\t\t\t\t\tlocalize(\"nextOne\", \"Next Section\"),\n\t\t\t\t\t\t\t\t$(\"span.codicon.codicon-arrow-right\"),\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t]\n\t\t\t\t\t: []),\n\t\t\t),\n\t\t);\n\t\tthis.detailsScrollbar = this._register(\n\t\t\tnew DomScrollableElement(stepsContainer, {\n\t\t\t\tclassName: \"steps-container\",\n\t\t\t}),\n\t\t);\n\t\tconst stepListComponent = this.detailsScrollbar.getDomNode();\n\n\t\tconst categoryFooter = $(\".getting-started-footer\");\n\t\tif (\n\t\t\tthis.editorInput.showTelemetryNotice &&\n\t\t\tgetTelemetryLevel(this.configurationService) !==\n\t\t\t\tTelemetryLevel.NONE &&\n\t\t\tthis.productService.enableTelemetry\n\t\t) {\n\t\t\tthis.buildTelemetryFooter(categoryFooter);\n\t\t}\n\n\t\treset(\n\t\t\tthis.stepsContent,\n\t\t\tcategoryDescriptorComponent,\n\t\t\tstepListComponent,\n\t\t\tthis.stepMediaComponent,\n\t\t\tcategoryFooter,\n\t\t);\n\n\t\tconst toExpand =\n\t\t\tcategory.steps.find(\n\t\t\t\t(step) =>\n\t\t\t\t\tthis.contextService.contextMatchesRules(step.when) &&\n\t\t\t\t\t!step.done,\n\t\t\t) ?? category.steps[0];\n\t\tthis.selectStep(selectedStep ?? toExpand.id, !selectedStep);\n\n\t\tthis.detailsScrollbar.scanDomNode();\n\t\tthis.detailsPageScrollbar?.scanDomNode();\n\n\t\tthis.registerDispatchListeners();\n\t}\n\n\tprivate buildTelemetryFooter(parent: HTMLElement) {\n\t\tconst mdRenderer = this.instantiationService.createInstance(\n\t\t\tMarkdownRenderer,\n\t\t\t{},\n\t\t);\n\n\t\tconst privacyStatementCopy = localize(\n\t\t\t\"privacy statement\",\n\t\t\t\"privacy statement\",\n\t\t);\n\t\tconst privacyStatementButton = `[${privacyStatementCopy}](command:workbench.action.openPrivacyStatementUrl)`;\n\n\t\tconst optOutCopy = localize(\"optOut\", \"opt out\");\n\t\tconst optOutButton = `[${optOutCopy}](command:settings.filterByTelemetry)`;\n\n\t\tconst text = localize(\n\t\t\t{\n\t\t\t\tkey: \"footer\",\n\t\t\t\tcomment: [\n\t\t\t\t\t'fist substitution is \"vs code\", second is \"privacy statement\", third is \"opt out\".',\n\t\t\t\t],\n\t\t\t},\n\t\t\t\"{0} collects usage data. Read our {1} and learn how to {2}.\",\n\t\t\tthis.productService.nameShort,\n\t\t\tprivacyStatementButton,\n\t\t\toptOutButton,\n\t\t);\n\n\t\tparent.append(\n\t\t\tmdRenderer.render({ value: text, isTrusted: true }).element,\n\t\t);\n\t\tmdRenderer.dispose();\n\t}\n\n\tprivate getKeybindingLabel(command: string) {\n\t\tcommand = command.replace(/^command:/, \"\");\n\t\tconst label = this.keybindingService\n\t\t\t.lookupKeybinding(command)\n\t\t\t?.getLabel();\n\t\tif (label) {\n\t\t\treturn `(${label})`;\n\t\t} else {\n\t\t\treturn \"\";\n\t\t}\n\t}\n\n\tprivate async scrollPrev() {\n\t\tthis.inProgressScroll = this.inProgressScroll.then(async () => {\n\t\t\tthis.currentWalkthrough = undefined;\n\t\t\tthis.editorInput.selectedCategory = undefined;\n\t\t\tthis.editorInput.selectedStep = undefined;\n\t\t\tthis.editorInput.showTelemetryNotice = false;\n\n\t\t\tif (\n\t\t\t\tthis.gettingStartedCategories.length !==\n\t\t\t\tthis.gettingStartedList?.itemCount\n\t\t\t) {\n\t\t\t\t// extensions may have changed in the time since we last displayed the walkthrough list\n\t\t\t\t// rebuild the list\n\t\t\t\tthis.buildCategoriesSlide();\n\t\t\t}\n\n\t\t\tthis.selectStep(undefined);\n\t\t\tthis.setSlide(\"categories\");\n\t\t\tthis.container.focus();\n\t\t});\n\t}\n\n\tprivate runSkip() {\n\t\tthis.commandService.executeCommand(\n\t\t\t\"workbench.action.closeActiveEditor\",\n\t\t);\n\t}\n\n\tescape() {\n\t\tif (this.editorInput.selectedCategory) {\n\t\t\tthis.scrollPrev();\n\t\t} else {\n\t\t\tthis.runSkip();\n\t\t}\n\t}\n\n\tprivate setSlide(toEnable: \"details\" | \"categories\") {\n\t\tconst slideManager = assertIsDefined(\n\t\t\tthis.container.querySelector(\".gettingStarted\"),\n\t\t);\n\t\tif (toEnable === \"categories\") {\n\t\t\tslideManager.classList.remove(\"showDetails\");\n\t\t\tslideManager.classList.add(\"showCategories\");\n\t\t\tthis.container.querySelector<HTMLButtonElement>(\n\t\t\t\t\".prev-button.button-link\",\n\t\t\t)!.style.display = \"none\";\n\t\t\tthis.container\n\t\t\t\t.querySelector(\".gettingStartedSlideDetails\")!\n\t\t\t\t.querySelectorAll(\"button\")\n\t\t\t\t.forEach((button) => (button.disabled = true));\n\t\t\tthis.container\n\t\t\t\t.querySelector(\".gettingStartedSlideCategories\")!\n\t\t\t\t.querySelectorAll(\"button\")\n\t\t\t\t.forEach((button) => (button.disabled = false));\n\t\t\tthis.container\n\t\t\t\t.querySelector(\".gettingStartedSlideCategories\")!\n\t\t\t\t.querySelectorAll(\"input\")\n\t\t\t\t.forEach((button) => (button.disabled = false));\n\t\t} else {\n\t\t\tslideManager.classList.add(\"showDetails\");\n\t\t\tslideManager.classList.remove(\"showCategories\");\n\t\t\tthis.container.querySelector<HTMLButtonElement>(\n\t\t\t\t\".prev-button.button-link\",\n\t\t\t)!.style.display = \"block\";\n\t\t\tthis.container\n\t\t\t\t.querySelector(\".gettingStartedSlideDetails\")!\n\t\t\t\t.querySelectorAll(\"button\")\n\t\t\t\t.forEach((button) => (button.disabled = false));\n\t\t\tthis.container\n\t\t\t\t.querySelector(\".gettingStartedSlideCategories\")!\n\t\t\t\t.querySelectorAll(\"button\")\n\t\t\t\t.forEach((button) => (button.disabled = true));\n\t\t\tthis.container\n\t\t\t\t.querySelector(\".gettingStartedSlideCategories\")!\n\t\t\t\t.querySelectorAll(\"input\")\n\t\t\t\t.forEach((button) => (button.disabled = true));\n\t\t}\n\t}\n\n\toverride focus() {\n\t\tsuper.focus();\n\n\t\tconst active = this.container.ownerDocument.activeElement;\n\n\t\tlet parent = this.container.parentElement;\n\t\twhile (parent && parent !== active) {\n\t\t\tparent = parent.parentElement;\n\t\t}\n\n\t\tif (parent) {\n\t\t\t// Only set focus if there is no other focued element outside this chain.\n\t\t\t// This prevents us from stealing back focus from other focused elements such as quick pick due to delayed load.\n\t\t\tthis.container.focus();\n\t\t}\n\t}\n}\n\nexport class GettingStartedInputSerializer implements IEditorSerializer {\n\tpublic canSerialize(editorInput: GettingStartedInput): boolean {\n\t\treturn true;\n\t}\n\n\tpublic serialize(editorInput: GettingStartedInput): string {\n\t\treturn JSON.stringify({\n\t\t\tselectedCategory: editorInput.selectedCategory,\n\t\t\tselectedStep: editorInput.selectedStep,\n\t\t});\n\t}\n\n\tpublic deserialize(\n\t\tinstantiationService: IInstantiationService,\n\t\tserializedEditorInput: string,\n\t): GettingStartedInput {\n\t\ttry {\n\t\t\tconst { selectedCategory, selectedStep } = JSON.parse(\n\t\t\t\tserializedEditorInput,\n\t\t\t);\n\t\t\treturn new GettingStartedInput({ selectedCategory, selectedStep });\n\t\t} catch {}\n\t\treturn new GettingStartedInput({});\n\t}\n}\n"],
  "mappings": "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",
  "names": ["category", "theme", "e", "toExpand"]
}
