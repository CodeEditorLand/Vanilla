{
  "version": 3,
  "sources": ["../../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/contrib/terminalContrib/chat/browser/terminal.initialHint.contribution.ts"],
  "sourcesContent": ["import type {\n\tIDecoration,\n\tITerminalAddon,\n\tTerminal as RawXtermTerminal,\n} from \"@xterm/xterm\";\nimport * as dom from \"../../../../../base/browser/dom.js\";\nimport {\n\ttype IContentActionHandler,\n\trenderFormattedText,\n} from \"../../../../../base/browser/formattedTextRenderer.js\";\nimport { status } from \"../../../../../base/browser/ui/aria/aria.js\";\nimport { KeybindingLabel } from \"../../../../../base/browser/ui/keybindingLabel/keybindingLabel.js\";\nimport type {\n\tWorkbenchActionExecutedClassification,\n\tWorkbenchActionExecutedEvent,\n} from \"../../../../../base/common/actions.js\";\nimport { Emitter, Event } from \"../../../../../base/common/event.js\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport {\n\tDisposable,\n\tDisposableStore,\n\tMutableDisposable,\n} from \"../../../../../base/common/lifecycle.js\";\nimport { OS } from \"../../../../../base/common/platform.js\";\nimport { localize } from \"../../../../../nls.js\";\nimport { ICommandService } from \"../../../../../platform/commands/common/commands.js\";\nimport { IConfigurationService } from \"../../../../../platform/configuration/common/configuration.js\";\nimport { IInstantiationService } from \"../../../../../platform/instantiation/common/instantiation.js\";\nimport { IKeybindingService } from \"../../../../../platform/keybinding/common/keybinding.js\";\nimport { IProductService } from \"../../../../../platform/product/common/productService.js\";\nimport { ITelemetryService } from \"../../../../../platform/telemetry/common/telemetry.js\";\nimport {\n\ttype ITerminalCapabilityStore,\n\tTerminalCapability,\n} from \"../../../../../platform/terminal/common/capabilities/capabilities.js\";\nimport { AccessibilityVerbositySettingId } from \"../../../accessibility/browser/accessibilityConfiguration.js\";\nimport {\n\ttype IDetachedTerminalInstance,\n\ttype ITerminalContribution,\n\tITerminalEditorService,\n\tITerminalGroupService,\n\ttype ITerminalInstance,\n\tITerminalService,\n\ttype IXtermTerminal,\n} from \"../../../terminal/browser/terminal.js\";\nimport { registerTerminalContribution } from \"../../../terminal/browser/terminalExtensions.js\";\nimport { TerminalInstance } from \"../../../terminal/browser/terminalInstance.js\";\nimport type { TerminalWidgetManager } from \"../../../terminal/browser/widgets/widgetManager.js\";\nimport type {\n\tITerminalProcessInfo,\n\tITerminalProcessManager,\n} from \"../../../terminal/common/terminal.js\";\nimport { TerminalChatCommandId } from \"./terminalChat.js\";\nimport \"./media/terminalInitialHint.css\";\nimport { StandardMouseEvent } from \"../../../../../base/browser/mouseEvent.js\";\nimport { IContextMenuService } from \"../../../../../platform/contextview/browser/contextView.js\";\nimport {\n\tIStorageService,\n\tStorageScope,\n\tStorageTarget,\n} from \"../../../../../platform/storage/common/storage.js\";\nimport {\n\tChatAgentLocation,\n\ttype IChatAgent,\n\tIChatAgentService,\n} from \"../../../chat/common/chatAgents.js\";\nimport { TerminalInitialHintSettingId } from \"../common/terminalInitialHintConfiguration.js\";\n\nconst $ = dom.$;\n\nenum Constants {\n\tInitialHintHideStorageKey = \"terminal.initialHint.hide\",\n}\n\nexport class InitialHintAddon extends Disposable implements ITerminalAddon {\n\tprivate readonly _onDidRequestCreateHint = this._register(\n\t\tnew Emitter<void>(),\n\t);\n\tget onDidRequestCreateHint(): Event<void> {\n\t\treturn this._onDidRequestCreateHint.event;\n\t}\n\tprivate readonly _disposables = this._register(\n\t\tnew MutableDisposable<DisposableStore>(),\n\t);\n\n\tconstructor(\n\t\tprivate readonly _capabilities: ITerminalCapabilityStore,\n\t\tprivate readonly _onDidChangeAgents: Event<IChatAgent | undefined>,\n\t) {\n\t\tsuper();\n\t}\n\tactivate(terminal: RawXtermTerminal): void {\n\t\tconst store = this._register(new DisposableStore());\n\t\tthis._disposables.value = store;\n\t\tconst capability = this._capabilities.get(\n\t\t\tTerminalCapability.CommandDetection,\n\t\t);\n\t\tif (capability) {\n\t\t\tstore.add(\n\t\t\t\tEvent.once(capability.promptInputModel.onDidStartInput)(() =>\n\t\t\t\t\tthis._onDidRequestCreateHint.fire(),\n\t\t\t\t),\n\t\t\t);\n\t\t} else {\n\t\t\tthis._register(\n\t\t\t\tthis._capabilities.onDidAddCapability((e) => {\n\t\t\t\t\tif (e.id === TerminalCapability.CommandDetection) {\n\t\t\t\t\t\tconst capability = e.capability;\n\t\t\t\t\t\tstore.add(\n\t\t\t\t\t\t\tEvent.once(\n\t\t\t\t\t\t\t\tcapability.promptInputModel.onDidStartInput,\n\t\t\t\t\t\t\t)(() => this._onDidRequestCreateHint.fire()),\n\t\t\t\t\t\t);\n\t\t\t\t\t\tif (!capability.promptInputModel.value) {\n\t\t\t\t\t\t\tthis._onDidRequestCreateHint.fire();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t);\n\t\t}\n\t\tconst agentListener = this._onDidChangeAgents((e) => {\n\t\t\tif (e?.locations.includes(ChatAgentLocation.Terminal)) {\n\t\t\t\tthis._onDidRequestCreateHint.fire();\n\t\t\t\tagentListener.dispose();\n\t\t\t}\n\t\t});\n\t\tthis._disposables.value?.add(agentListener);\n\t}\n}\n\nexport class TerminalInitialHintContribution\n\textends Disposable\n\timplements ITerminalContribution\n{\n\tstatic readonly ID = \"terminal.initialHint\";\n\n\tprivate _addon: InitialHintAddon | undefined;\n\n\tprivate _hintWidget: HTMLElement | undefined;\n\n\tstatic get(\n\t\tinstance: ITerminalInstance | IDetachedTerminalInstance,\n\t): TerminalInitialHintContribution | null {\n\t\treturn instance.getContribution<TerminalInitialHintContribution>(\n\t\t\tTerminalInitialHintContribution.ID,\n\t\t);\n\t}\n\tprivate _decoration: IDecoration | undefined;\n\tprivate _xterm: (IXtermTerminal & { raw: RawXtermTerminal }) | undefined;\n\n\tconstructor(\n\t\tprivate readonly _instance: Pick<ITerminalInstance, 'capabilities' | 'shellLaunchConfig'> | IDetachedTerminalInstance,\n\t\tprocessManager: ITerminalProcessManager | ITerminalProcessInfo | undefined,\n\t\twidgetManager: TerminalWidgetManager | undefined,\n\t\t@IInstantiationService private readonly _instantiationService: IInstantiationService,\n\t\t@IConfigurationService private readonly _configurationService: IConfigurationService,\n\t\t@ITerminalGroupService private readonly _terminalGroupService: ITerminalGroupService,\n\t\t@ITerminalEditorService private readonly _terminalEditorService: ITerminalEditorService,\n\t\t@IChatAgentService private readonly _chatAgentService: IChatAgentService,\n\t\t@IStorageService private readonly _storageService: IStorageService,\n\t) {\n\t\tsuper();\n\n\t\t// Reset hint state when config changes\n\t\tthis._register(this._configurationService.onDidChangeConfiguration(e => {\n\t\t\tif (e.affectsConfiguration(TerminalInitialHintSettingId.Enabled)) {\n\t\t\t\tthis._storageService.remove(Constants.InitialHintHideStorageKey, StorageScope.APPLICATION);\n\t\t\t}\n\t\t}));\n\t}\n\n\txtermOpen(xterm: IXtermTerminal & { raw: RawXtermTerminal }): void {\n\t\t// Don't show is the terminal was launched by an extension or a feature like debug\n\t\tif (\n\t\t\t\"shellLaunchConfig\" in this._instance &&\n\t\t\t(this._instance.shellLaunchConfig.isExtensionOwnedTerminal ||\n\t\t\t\tthis._instance.shellLaunchConfig.isFeatureTerminal)\n\t\t) {\n\t\t\treturn;\n\t\t}\n\t\t// Don't show if disabled\n\t\tif (\n\t\t\tthis._storageService.getBoolean(\n\t\t\t\tConstants.InitialHintHideStorageKey,\n\t\t\t\tStorageScope.APPLICATION,\n\t\t\t\tfalse,\n\t\t\t)\n\t\t) {\n\t\t\treturn;\n\t\t}\n\t\t// Only show for the first terminal\n\t\tif (\n\t\t\tthis._terminalGroupService.instances.length +\n\t\t\t\tthis._terminalEditorService.instances.length !==\n\t\t\t1\n\t\t) {\n\t\t\treturn;\n\t\t}\n\t\tthis._xterm = xterm;\n\t\tthis._addon = this._register(\n\t\t\tthis._instantiationService.createInstance(\n\t\t\t\tInitialHintAddon,\n\t\t\t\tthis._instance.capabilities,\n\t\t\t\tthis._chatAgentService.onDidChangeAgents,\n\t\t\t),\n\t\t);\n\t\tthis._xterm.raw.loadAddon(this._addon);\n\t\tthis._register(\n\t\t\tthis._addon.onDidRequestCreateHint(() => this._createHint()),\n\t\t);\n\t}\n\n\tprivate _createHint(): void {\n\t\tconst instance =\n\t\t\tthis._instance instanceof TerminalInstance\n\t\t\t\t? this._instance\n\t\t\t\t: undefined;\n\t\tconst commandDetectionCapability = instance?.capabilities.get(\n\t\t\tTerminalCapability.CommandDetection,\n\t\t);\n\t\tif (\n\t\t\t!instance ||\n\t\t\t!this._xterm ||\n\t\t\tthis._hintWidget ||\n\t\t\t!commandDetectionCapability ||\n\t\t\tcommandDetectionCapability.promptInputModel.value ||\n\t\t\t!!instance.shellLaunchConfig.attachPersistentProcess\n\t\t) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (\n\t\t\t!this._configurationService.getValue(\n\t\t\t\tTerminalInitialHintSettingId.Enabled,\n\t\t\t)\n\t\t) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!this._decoration) {\n\t\t\tconst marker = this._xterm.raw.registerMarker();\n\t\t\tif (!marker) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (this._xterm.raw.buffer.active.cursorX === 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis._register(marker);\n\t\t\tthis._decoration = this._xterm.raw.registerDecoration({\n\t\t\t\tmarker,\n\t\t\t\tx: this._xterm.raw.buffer.active.cursorX + 1,\n\t\t\t});\n\t\t\tif (this._decoration) {\n\t\t\t\tthis._register(this._decoration);\n\t\t\t}\n\t\t}\n\n\t\tthis._register(this._xterm.raw.onKey(() => this.dispose()));\n\n\t\tthis._register(\n\t\t\tthis._configurationService.onDidChangeConfiguration((e) => {\n\t\t\t\tif (\n\t\t\t\t\te.affectsConfiguration(\n\t\t\t\t\t\tTerminalInitialHintSettingId.Enabled,\n\t\t\t\t\t) &&\n\t\t\t\t\t!this._configurationService.getValue(\n\t\t\t\t\t\tTerminalInitialHintSettingId.Enabled,\n\t\t\t\t\t)\n\t\t\t\t) {\n\t\t\t\t\tthis.dispose();\n\t\t\t\t}\n\t\t\t}),\n\t\t);\n\n\t\tconst inputModel = commandDetectionCapability.promptInputModel;\n\t\tif (inputModel) {\n\t\t\tthis._register(\n\t\t\t\tinputModel.onDidChangeInput(() => {\n\t\t\t\t\tif (inputModel.value) {\n\t\t\t\t\t\tthis.dispose();\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t);\n\t\t}\n\n\t\tif (!this._decoration) {\n\t\t\treturn;\n\t\t}\n\t\tthis._register(this._decoration);\n\t\tthis._register(\n\t\t\tthis._decoration.onRender((e) => {\n\t\t\t\tif (\n\t\t\t\t\t!this._hintWidget &&\n\t\t\t\t\tthis._xterm?.isFocused &&\n\t\t\t\t\tthis._terminalGroupService.instances.length +\n\t\t\t\t\t\tthis._terminalEditorService.instances.length ===\n\t\t\t\t\t\t1\n\t\t\t\t) {\n\t\t\t\t\tconst terminalAgents = this._chatAgentService\n\t\t\t\t\t\t.getActivatedAgents()\n\t\t\t\t\t\t.filter((candidate) =>\n\t\t\t\t\t\t\tcandidate.locations.includes(\n\t\t\t\t\t\t\t\tChatAgentLocation.Terminal,\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t);\n\t\t\t\t\tif (terminalAgents?.length) {\n\t\t\t\t\t\tconst widget = this._register(\n\t\t\t\t\t\t\tthis._instantiationService.createInstance(\n\t\t\t\t\t\t\t\tTerminalInitialHintWidget,\n\t\t\t\t\t\t\t\tinstance,\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t);\n\t\t\t\t\t\tthis._addon?.dispose();\n\t\t\t\t\t\tthis._hintWidget = widget.getDomNode(terminalAgents);\n\t\t\t\t\t\tif (!this._hintWidget) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\te.appendChild(this._hintWidget);\n\t\t\t\t\t\te.classList.add(\"terminal-initial-hint\");\n\t\t\t\t\t\tconst font = this._xterm.getFont();\n\t\t\t\t\t\tif (font) {\n\t\t\t\t\t\t\te.style.fontFamily = font.fontFamily;\n\t\t\t\t\t\t\te.style.fontSize = font.fontSize + \"px\";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (this._hintWidget && this._xterm) {\n\t\t\t\t\tconst decoration = this._hintWidget.parentElement;\n\t\t\t\t\tif (decoration) {\n\t\t\t\t\t\tdecoration.style.width =\n\t\t\t\t\t\t\t((this._xterm.raw.cols -\n\t\t\t\t\t\t\t\tthis._xterm.raw.buffer.active.cursorX) /\n\t\t\t\t\t\t\t\tthis._xterm!.raw.cols) *\n\t\t\t\t\t\t\t\t100 +\n\t\t\t\t\t\t\t\"%\";\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}),\n\t\t);\n\t}\n}\nregisterTerminalContribution(\n\tTerminalInitialHintContribution.ID,\n\tTerminalInitialHintContribution,\n\tfalse,\n);\n\nclass TerminalInitialHintWidget extends Disposable {\n\tprivate domNode: HTMLElement | undefined;\n\tprivate readonly toDispose: DisposableStore = this._register(\n\t\tnew DisposableStore(),\n\t);\n\tprivate isVisible = false;\n\tprivate ariaLabel = \"\";\n\n\tconstructor(\n\t\tprivate readonly _instance: ITerminalInstance,\n\t\t@IChatAgentService private readonly _chatAgentService: IChatAgentService,\n\t\t@ICommandService private readonly commandService: ICommandService,\n\t\t@IConfigurationService private readonly configurationService: IConfigurationService,\n\t\t@IKeybindingService private readonly keybindingService: IKeybindingService,\n\t\t@ITelemetryService private readonly telemetryService: ITelemetryService,\n\t\t@IProductService private readonly productService: IProductService,\n\t\t@ITerminalService private readonly terminalService: ITerminalService,\n\t\t@IStorageService private readonly _storageService: IStorageService,\n\t\t@IContextMenuService private readonly contextMenuService: IContextMenuService\n\t) {\n\t\tsuper();\n\t\tthis.toDispose.add(_instance.onDidFocus(() => {\n\t\t\tif (this._instance.hasFocus && this.isVisible && this.ariaLabel && this.configurationService.getValue(AccessibilityVerbositySettingId.TerminalChat)) {\n\t\t\t\tstatus(this.ariaLabel);\n\t\t\t}\n\t\t}));\n\t\tthis.toDispose.add(terminalService.onDidChangeInstances(() => {\n\t\t\tif (this.terminalService.instances.length !== 1) {\n\t\t\t\tthis.dispose();\n\t\t\t}\n\t\t}));\n\t\tthis.toDispose.add(this.configurationService.onDidChangeConfiguration(e => {\n\t\t\tif (e.affectsConfiguration(TerminalInitialHintSettingId.Enabled) && !this.configurationService.getValue(TerminalInitialHintSettingId.Enabled)) {\n\t\t\t\tthis.dispose();\n\t\t\t}\n\t\t}));\n\t}\n\n\tprivate _getHintInlineChat(agents: IChatAgent[]) {\n\t\tlet providerName =\n\t\t\t(agents.length === 1 ? agents[0].fullName : undefined) ??\n\t\t\tthis.productService.nameShort;\n\t\tconst defaultAgent = this._chatAgentService.getDefaultAgent(\n\t\t\tChatAgentLocation.Panel,\n\t\t);\n\t\tif (defaultAgent?.extensionId.value === agents[0].extensionId.value) {\n\t\t\tproviderName = defaultAgent.fullName ?? providerName;\n\t\t}\n\n\t\tlet ariaLabel = `Ask ${providerName} something or start typing to dismiss.`;\n\n\t\tconst handleClick = () => {\n\t\t\tthis._storageService.store(\n\t\t\t\tConstants.InitialHintHideStorageKey,\n\t\t\t\ttrue,\n\t\t\t\tStorageScope.APPLICATION,\n\t\t\t\tStorageTarget.USER,\n\t\t\t);\n\t\t\tthis.telemetryService.publicLog2<\n\t\t\t\tWorkbenchActionExecutedEvent,\n\t\t\t\tWorkbenchActionExecutedClassification\n\t\t\t>(\"workbenchActionExecuted\", {\n\t\t\t\tid: \"terminalInlineChat.hintAction\",\n\t\t\t\tfrom: \"hint\",\n\t\t\t});\n\t\t\tthis.commandService.executeCommand(TerminalChatCommandId.Start, {\n\t\t\t\tfrom: \"hint\",\n\t\t\t});\n\t\t};\n\t\tthis.toDispose.add(\n\t\t\tthis.commandService.onDidExecuteCommand((e) => {\n\t\t\t\tif (e.commandId === TerminalChatCommandId.Start) {\n\t\t\t\t\tthis._storageService.store(\n\t\t\t\t\t\tConstants.InitialHintHideStorageKey,\n\t\t\t\t\t\ttrue,\n\t\t\t\t\t\tStorageScope.APPLICATION,\n\t\t\t\t\t\tStorageTarget.USER,\n\t\t\t\t\t);\n\t\t\t\t\tthis.dispose();\n\t\t\t\t}\n\t\t\t}),\n\t\t);\n\n\t\tconst hintHandler: IContentActionHandler = {\n\t\t\tdisposables: this.toDispose,\n\t\t\tcallback: (index, _event) => {\n\t\t\t\tswitch (index) {\n\t\t\t\t\tcase \"0\":\n\t\t\t\t\t\thandleClick();\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t},\n\t\t};\n\n\t\tconst hintElement = $(\"div.terminal-initial-hint\");\n\t\thintElement.style.display = \"block\";\n\n\t\tconst keybindingHint = this.keybindingService.lookupKeybinding(\n\t\t\tTerminalChatCommandId.Start,\n\t\t);\n\t\tconst keybindingHintLabel = keybindingHint?.getLabel();\n\n\t\tif (keybindingHint && keybindingHintLabel) {\n\t\t\tconst actionPart = localize(\n\t\t\t\t\"emptyHintText\",\n\t\t\t\t\"Press {0} to ask {1} to do something. \",\n\t\t\t\tkeybindingHintLabel,\n\t\t\t\tproviderName,\n\t\t\t);\n\n\t\t\tconst [before, after] = actionPart\n\t\t\t\t.split(keybindingHintLabel)\n\t\t\t\t.map((fragment) => {\n\t\t\t\t\tconst hintPart = $(\"a\", undefined, fragment);\n\t\t\t\t\tthis.toDispose.add(\n\t\t\t\t\t\tdom.addDisposableListener(\n\t\t\t\t\t\t\thintPart,\n\t\t\t\t\t\t\tdom.EventType.CLICK,\n\t\t\t\t\t\t\thandleClick,\n\t\t\t\t\t\t),\n\t\t\t\t\t);\n\t\t\t\t\treturn hintPart;\n\t\t\t\t});\n\n\t\t\thintElement.appendChild(before);\n\n\t\t\tconst label = hintHandler.disposables.add(\n\t\t\t\tnew KeybindingLabel(hintElement, OS),\n\t\t\t);\n\t\t\tlabel.set(keybindingHint);\n\t\t\tlabel.element.style.width = \"min-content\";\n\t\t\tlabel.element.style.display = \"inline\";\n\n\t\t\tlabel.element.style.cursor = \"pointer\";\n\t\t\tthis.toDispose.add(\n\t\t\t\tdom.addDisposableListener(\n\t\t\t\t\tlabel.element,\n\t\t\t\t\tdom.EventType.CLICK,\n\t\t\t\t\thandleClick,\n\t\t\t\t),\n\t\t\t);\n\n\t\t\thintElement.appendChild(after);\n\n\t\t\tconst typeToDismiss = localize(\n\t\t\t\t\"hintTextDismiss\",\n\t\t\t\t\"Start typing to dismiss.\",\n\t\t\t);\n\t\t\tconst textHint2 = $(\"span.detail\", undefined, typeToDismiss);\n\t\t\thintElement.appendChild(textHint2);\n\n\t\t\tariaLabel = actionPart.concat(typeToDismiss);\n\t\t} else {\n\t\t\tconst hintMsg = localize(\n\t\t\t\t{\n\t\t\t\t\tkey: \"inlineChatHint\",\n\t\t\t\t\tcomment: [\n\t\t\t\t\t\t\"Preserve double-square brackets and their order\",\n\t\t\t\t\t],\n\t\t\t\t},\n\t\t\t\t\"[[Ask {0} to do something]] or start typing to dismiss.\",\n\t\t\t\tproviderName,\n\t\t\t);\n\t\t\tconst rendered = renderFormattedText(hintMsg, {\n\t\t\t\tactionHandler: hintHandler,\n\t\t\t});\n\t\t\thintElement.appendChild(rendered);\n\t\t}\n\n\t\treturn { ariaLabel, hintHandler, hintElement };\n\t}\n\n\tgetDomNode(agents: IChatAgent[]): HTMLElement {\n\t\tif (!this.domNode) {\n\t\t\tthis.domNode = $(\".terminal-initial-hint\");\n\t\t\tthis.domNode!.style.paddingLeft = \"4px\";\n\n\t\t\tconst { hintElement, ariaLabel } = this._getHintInlineChat(agents);\n\t\t\tthis.domNode.append(hintElement);\n\t\t\tthis.ariaLabel = ariaLabel.concat(\n\t\t\t\tlocalize(\n\t\t\t\t\t\"disableHint\",\n\t\t\t\t\t\" Toggle {0} in settings to disable this hint.\",\n\t\t\t\t\tAccessibilityVerbositySettingId.TerminalChat,\n\t\t\t\t),\n\t\t\t);\n\n\t\t\tthis.toDispose.add(\n\t\t\t\tdom.addDisposableListener(this.domNode, \"click\", () => {\n\t\t\t\t\tthis.domNode?.remove();\n\t\t\t\t\tthis.domNode = undefined;\n\t\t\t\t}),\n\t\t\t);\n\n\t\t\tthis.toDispose.add(\n\t\t\t\tdom.addDisposableListener(\n\t\t\t\t\tthis.domNode,\n\t\t\t\t\tdom.EventType.CONTEXT_MENU,\n\t\t\t\t\t(e) => {\n\t\t\t\t\t\tthis.contextMenuService.showContextMenu({\n\t\t\t\t\t\t\tgetAnchor: () => {\n\t\t\t\t\t\t\t\treturn new StandardMouseEvent(\n\t\t\t\t\t\t\t\t\tdom.getActiveWindow(),\n\t\t\t\t\t\t\t\t\te,\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tgetActions: () => {\n\t\t\t\t\t\t\t\treturn [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tid: \"workench.action.disableTerminalInitialHint\",\n\t\t\t\t\t\t\t\t\t\tlabel: localize(\n\t\t\t\t\t\t\t\t\t\t\t\"disableInitialHint\",\n\t\t\t\t\t\t\t\t\t\t\t\"Disable Initial Hint\",\n\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\ttooltip: localize(\n\t\t\t\t\t\t\t\t\t\t\t\"disableInitialHint\",\n\t\t\t\t\t\t\t\t\t\t\t\"Disable Initial Hint\",\n\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\tenabled: true,\n\t\t\t\t\t\t\t\t\t\tclass: undefined,\n\t\t\t\t\t\t\t\t\t\trun: () =>\n\t\t\t\t\t\t\t\t\t\t\tthis.configurationService.updateValue(\n\t\t\t\t\t\t\t\t\t\t\t\tTerminalInitialHintSettingId.Enabled,\n\t\t\t\t\t\t\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t];\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t),\n\t\t\t);\n\t\t}\n\t\treturn this.domNode;\n\t}\n\n\toverride dispose(): void {\n\t\tthis.domNode?.remove();\n\t\tsuper.dispose();\n\t}\n}\n"],
  "mappings": "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",
  "names": ["Constants", "capability"]
}
