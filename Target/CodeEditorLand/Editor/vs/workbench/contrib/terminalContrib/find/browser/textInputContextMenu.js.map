{
  "version": 3,
  "sources": ["../../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/contrib/terminalContrib/find/browser/textInputContextMenu.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport {\n\tgetActiveWindow,\n\tisHTMLInputElement,\n\tisHTMLTextAreaElement,\n} from \"../../../../../base/browser/dom.js\";\nimport { StandardMouseEvent } from \"../../../../../base/browser/mouseEvent.js\";\nimport {\n\tAction,\n\ttype IAction,\n\tSeparator,\n} from \"../../../../../base/common/actions.js\";\nimport { isNative } from \"../../../../../base/common/platform.js\";\nimport { localize } from \"../../../../../nls.js\";\nimport type { IClipboardService } from \"../../../../../platform/clipboard/common/clipboardService.js\";\nimport type { IContextMenuService } from \"../../../../../platform/contextview/browser/contextView.js\";\n\nexport function openContextMenu(\n\ttargetWindow: Window,\n\tevent: MouseEvent,\n\tclipboardService: IClipboardService,\n\tcontextMenuService: IContextMenuService,\n): void {\n\tconst standardEvent = new StandardMouseEvent(targetWindow, event);\n\n\t// Actions from workbench/browser/actions/textInputActions\n\tconst actions: IAction[] = [];\n\tactions.push(\n\t\t// Undo/Redo\n\t\tnew Action(\n\t\t\t\"undo\",\n\t\t\tlocalize(\"undo\", \"Undo\"),\n\t\t\tundefined,\n\t\t\ttrue,\n\t\t\tasync () => getActiveWindow().document.execCommand(\"undo\"),\n\t\t),\n\t\tnew Action(\n\t\t\t\"redo\",\n\t\t\tlocalize(\"redo\", \"Redo\"),\n\t\t\tundefined,\n\t\t\ttrue,\n\t\t\tasync () => getActiveWindow().document.execCommand(\"redo\"),\n\t\t),\n\t\tnew Separator(),\n\n\t\t// Cut / Copy / Paste\n\t\tnew Action(\n\t\t\t\"editor.action.clipboardCutAction\",\n\t\t\tlocalize(\"cut\", \"Cut\"),\n\t\t\tundefined,\n\t\t\ttrue,\n\t\t\tasync () => getActiveWindow().document.execCommand(\"cut\"),\n\t\t),\n\t\tnew Action(\n\t\t\t\"editor.action.clipboardCopyAction\",\n\t\t\tlocalize(\"copy\", \"Copy\"),\n\t\t\tundefined,\n\t\t\ttrue,\n\t\t\tasync () => getActiveWindow().document.execCommand(\"copy\"),\n\t\t),\n\t\tnew Action(\n\t\t\t\"editor.action.clipboardPasteAction\",\n\t\t\tlocalize(\"paste\", \"Paste\"),\n\t\t\tundefined,\n\t\t\ttrue,\n\t\t\tasync (element) => {\n\t\t\t\t// Native: paste is supported\n\t\t\t\tif (isNative) {\n\t\t\t\t\tgetActiveWindow().document.execCommand(\"paste\");\n\t\t\t\t}\n\n\t\t\t\t// Web: paste is not supported due to security reasons\n\t\t\t\telse {\n\t\t\t\t\tconst clipboardText = await clipboardService.readText();\n\t\t\t\t\tif (\n\t\t\t\t\t\tisHTMLTextAreaElement(element) ||\n\t\t\t\t\t\tisHTMLInputElement(element)\n\t\t\t\t\t) {\n\t\t\t\t\t\tconst selectionStart = element.selectionStart || 0;\n\t\t\t\t\t\tconst selectionEnd = element.selectionEnd || 0;\n\n\t\t\t\t\t\telement.value = `${element.value.substring(0, selectionStart)}${clipboardText}${element.value.substring(selectionEnd, element.value.length)}`;\n\t\t\t\t\t\telement.selectionStart =\n\t\t\t\t\t\t\tselectionStart + clipboardText.length;\n\t\t\t\t\t\telement.selectionEnd = element.selectionStart;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t),\n\t\tnew Separator(),\n\n\t\t// Select All\n\t\tnew Action(\n\t\t\t\"editor.action.selectAll\",\n\t\t\tlocalize(\"selectAll\", \"Select All\"),\n\t\t\tundefined,\n\t\t\ttrue,\n\t\t\tasync () => getActiveWindow().document.execCommand(\"selectAll\"),\n\t\t),\n\t);\n\n\tcontextMenuService.showContextMenu({\n\t\tgetAnchor: () => standardEvent,\n\t\tgetActions: () => actions,\n\t\tgetActionsContext: () => event.target,\n\t});\n}\n"],
  "mappings": ";;AAKA;AAAA,EACC;AAAA,EACA;AAAA,EACA;AAAA,OACM;AACP,SAAS,0BAA0B;AACnC;AAAA,EACC;AAAA,EAEA;AAAA,OACM;AACP,SAAS,gBAAgB;AACzB,SAAS,gBAAgB;AAIlB,SAAS,gBACf,cACA,OACA,kBACA,oBACO;AACP,QAAM,gBAAgB,IAAI,mBAAmB,cAAc,KAAK;AAGhE,QAAM,UAAqB,CAAC;AAC5B,UAAQ;AAAA;AAAA,IAEP,IAAI;AAAA,MACH;AAAA,MACA,SAAS,QAAQ,MAAM;AAAA,MACvB;AAAA,MACA;AAAA,MACA,YAAY,gBAAgB,EAAE,SAAS,YAAY,MAAM;AAAA,IAC1D;AAAA,IACA,IAAI;AAAA,MACH;AAAA,MACA,SAAS,QAAQ,MAAM;AAAA,MACvB;AAAA,MACA;AAAA,MACA,YAAY,gBAAgB,EAAE,SAAS,YAAY,MAAM;AAAA,IAC1D;AAAA,IACA,IAAI,UAAU;AAAA;AAAA,IAGd,IAAI;AAAA,MACH;AAAA,MACA,SAAS,OAAO,KAAK;AAAA,MACrB;AAAA,MACA;AAAA,MACA,YAAY,gBAAgB,EAAE,SAAS,YAAY,KAAK;AAAA,IACzD;AAAA,IACA,IAAI;AAAA,MACH;AAAA,MACA,SAAS,QAAQ,MAAM;AAAA,MACvB;AAAA,MACA;AAAA,MACA,YAAY,gBAAgB,EAAE,SAAS,YAAY,MAAM;AAAA,IAC1D;AAAA,IACA,IAAI;AAAA,MACH;AAAA,MACA,SAAS,SAAS,OAAO;AAAA,MACzB;AAAA,MACA;AAAA,MACA,OAAO,YAAY;AAElB,YAAI,UAAU;AACb,0BAAgB,EAAE,SAAS,YAAY,OAAO;AAAA,QAC/C,OAGK;AACJ,gBAAM,gBAAgB,MAAM,iBAAiB,SAAS;AACtD,cACC,sBAAsB,OAAO,KAC7B,mBAAmB,OAAO,GACzB;AACD,kBAAM,iBAAiB,QAAQ,kBAAkB;AACjD,kBAAM,eAAe,QAAQ,gBAAgB;AAE7C,oBAAQ,QAAQ,GAAG,QAAQ,MAAM,UAAU,GAAG,cAAc,CAAC,GAAG,aAAa,GAAG,QAAQ,MAAM,UAAU,cAAc,QAAQ,MAAM,MAAM,CAAC;AAC3I,oBAAQ,iBACP,iBAAiB,cAAc;AAChC,oBAAQ,eAAe,QAAQ;AAAA,UAChC;AAAA,QACD;AAAA,MACD;AAAA,IACD;AAAA,IACA,IAAI,UAAU;AAAA;AAAA,IAGd,IAAI;AAAA,MACH;AAAA,MACA,SAAS,aAAa,YAAY;AAAA,MAClC;AAAA,MACA;AAAA,MACA,YAAY,gBAAgB,EAAE,SAAS,YAAY,WAAW;AAAA,IAC/D;AAAA,EACD;AAEA,qBAAmB,gBAAgB;AAAA,IAClC,WAAW,6BAAM,eAAN;AAAA,IACX,YAAY,6BAAM,SAAN;AAAA,IACZ,mBAAmB,6BAAM,MAAM,QAAZ;AAAA,EACpB,CAAC;AACF;AAzFgB;",
  "names": []
}
