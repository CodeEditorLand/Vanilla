{
  "version": 3,
  "sources": ["../../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/contrib/terminalContrib/find/browser/textInputContextMenu.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { getActiveWindow, isHTMLInputElement, isHTMLTextAreaElement } from '../../../../../base/browser/dom.js';\nimport { StandardMouseEvent } from '../../../../../base/browser/mouseEvent.js';\nimport { Action, IAction, Separator } from '../../../../../base/common/actions.js';\nimport { isNative } from '../../../../../base/common/platform.js';\nimport { localize } from '../../../../../nls.js';\nimport { IClipboardService } from '../../../../../platform/clipboard/common/clipboardService.js';\nimport { IContextMenuService } from '../../../../../platform/contextview/browser/contextView.js';\n\nexport function openContextMenu(targetWindow: Window, event: MouseEvent, clipboardService: IClipboardService, contextMenuService: IContextMenuService): void {\n\tconst standardEvent = new StandardMouseEvent(targetWindow, event);\n\n\t// Actions from workbench/browser/actions/textInputActions\n\tconst actions: IAction[] = [];\n\tactions.push(\n\n\t\t// Undo/Redo\n\t\tnew Action('undo', localize('undo', \"Undo\"), undefined, true, async () => getActiveWindow().document.execCommand('undo')),\n\t\tnew Action('redo', localize('redo', \"Redo\"), undefined, true, async () => getActiveWindow().document.execCommand('redo')),\n\t\tnew Separator(),\n\n\t\t// Cut / Copy / Paste\n\t\tnew Action('editor.action.clipboardCutAction', localize('cut', \"Cut\"), undefined, true, async () => getActiveWindow().document.execCommand('cut')),\n\t\tnew Action('editor.action.clipboardCopyAction', localize('copy', \"Copy\"), undefined, true, async () => getActiveWindow().document.execCommand('copy')),\n\t\tnew Action('editor.action.clipboardPasteAction', localize('paste', \"Paste\"), undefined, true, async element => {\n\n\t\t\t// Native: paste is supported\n\t\t\tif (isNative) {\n\t\t\t\tgetActiveWindow().document.execCommand('paste');\n\t\t\t}\n\n\t\t\t// Web: paste is not supported due to security reasons\n\t\t\telse {\n\t\t\t\tconst clipboardText = await clipboardService.readText();\n\t\t\t\tif (\n\t\t\t\t\tisHTMLTextAreaElement(element) ||\n\t\t\t\t\tisHTMLInputElement(element)\n\t\t\t\t) {\n\t\t\t\t\tconst selectionStart = element.selectionStart || 0;\n\t\t\t\t\tconst selectionEnd = element.selectionEnd || 0;\n\n\t\t\t\t\telement.value = `${element.value.substring(0, selectionStart)}${clipboardText}${element.value.substring(selectionEnd, element.value.length)}`;\n\t\t\t\t\telement.selectionStart = selectionStart + clipboardText.length;\n\t\t\t\t\telement.selectionEnd = element.selectionStart;\n\t\t\t\t}\n\t\t\t}\n\t\t}),\n\t\tnew Separator(),\n\n\t\t// Select All\n\t\tnew Action('editor.action.selectAll', localize('selectAll', \"Select All\"), undefined, true, async () => getActiveWindow().document.execCommand('selectAll'))\n\t);\n\n\tcontextMenuService.showContextMenu({\n\t\tgetAnchor: () => standardEvent,\n\t\tgetActions: () => actions,\n\t\tgetActionsContext: () => event.target,\n\t});\n}\n"],
  "mappings": ";;AAKA,SAAS,iBAAiB,oBAAoB,6BAA6B;AAC3E,SAAS,0BAA0B;AACnC,SAAS,QAAQ,SAAS,iBAAiB;AAC3C,SAAS,gBAAgB;AACzB,SAAS,gBAAgB;AACzB,SAAS,yBAAyB;AAClC,SAAS,2BAA2B;AAE7B,SAAS,gBAAgB,cAAsB,OAAmB,kBAAqC,oBAA+C;AAC5J,QAAM,gBAAgB,IAAI,mBAAmB,cAAc,KAAK;AAGhE,QAAM,UAAqB,CAAC;AAC5B,UAAQ;AAAA;AAAA,IAGP,IAAI,OAAO,QAAQ,SAAS,QAAQ,MAAM,GAAG,QAAW,MAAM,YAAY,gBAAgB,EAAE,SAAS,YAAY,MAAM,CAAC;AAAA,IACxH,IAAI,OAAO,QAAQ,SAAS,QAAQ,MAAM,GAAG,QAAW,MAAM,YAAY,gBAAgB,EAAE,SAAS,YAAY,MAAM,CAAC;AAAA,IACxH,IAAI,UAAU;AAAA;AAAA,IAGd,IAAI,OAAO,oCAAoC,SAAS,OAAO,KAAK,GAAG,QAAW,MAAM,YAAY,gBAAgB,EAAE,SAAS,YAAY,KAAK,CAAC;AAAA,IACjJ,IAAI,OAAO,qCAAqC,SAAS,QAAQ,MAAM,GAAG,QAAW,MAAM,YAAY,gBAAgB,EAAE,SAAS,YAAY,MAAM,CAAC;AAAA,IACrJ,IAAI,OAAO,sCAAsC,SAAS,SAAS,OAAO,GAAG,QAAW,MAAM,OAAM,YAAW;AAG9G,UAAI,UAAU;AACb,wBAAgB,EAAE,SAAS,YAAY,OAAO;AAAA,MAC/C,OAGK;AACJ,cAAM,gBAAgB,MAAM,iBAAiB,SAAS;AACtD,YACC,sBAAsB,OAAO,KAC7B,mBAAmB,OAAO,GACzB;AACD,gBAAM,iBAAiB,QAAQ,kBAAkB;AACjD,gBAAM,eAAe,QAAQ,gBAAgB;AAE7C,kBAAQ,QAAQ,GAAG,QAAQ,MAAM,UAAU,GAAG,cAAc,CAAC,GAAG,aAAa,GAAG,QAAQ,MAAM,UAAU,cAAc,QAAQ,MAAM,MAAM,CAAC;AAC3I,kBAAQ,iBAAiB,iBAAiB,cAAc;AACxD,kBAAQ,eAAe,QAAQ;AAAA,QAChC;AAAA,MACD;AAAA,IACD,CAAC;AAAA,IACD,IAAI,UAAU;AAAA;AAAA,IAGd,IAAI,OAAO,2BAA2B,SAAS,aAAa,YAAY,GAAG,QAAW,MAAM,YAAY,gBAAgB,EAAE,SAAS,YAAY,WAAW,CAAC;AAAA,EAC5J;AAEA,qBAAmB,gBAAgB;AAAA,IAClC,WAAW,6BAAM,eAAN;AAAA,IACX,YAAY,6BAAM,SAAN;AAAA,IACZ,mBAAmB,6BAAM,MAAM,QAAZ;AAAA,EACpB,CAAC;AACF;AAjDgB;",
  "names": []
}
