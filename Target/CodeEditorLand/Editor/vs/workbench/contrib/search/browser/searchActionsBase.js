import*as d from"../../../../../vs/base/browser/dom.js";import"../../../../../vs/base/common/keybindings.js";import*as h from"../../../../../vs/nls.js";import"../../../../../vs/platform/list/browser/listService.js";import{FileMatch as o,FolderMatch as f,Match as a,searchComparer as l}from"../../../../../vs/workbench/contrib/search/browser/searchModel.js";import"../../../../../vs/workbench/contrib/search/browser/searchView.js";import{VIEW_ID as c}from"../../../../../vs/workbench/services/search/common/search.js";import"../../../../../vs/workbench/services/views/common/viewsService.js";const y=h.localize2("search","Search");function D(r){const e=p(r);return!!(e&&d.isAncestorOfActiveElement(e.getContainer()))}function F(r,e){return b(r,e)}function p(r){return r.getActiveViewWithId(c)}function K(r,e,n){let i=r.getSelection().filter(t=>t!==null).sort((t,s)=>l(t,s,n.sortOrder));return e&&!(i.length>1&&i.includes(e))&&(i=[e]),i}function A(r,e){return e?!e||r.includes(e)||u(r,e):!1}function u(r,e){for(const n of r)if(n instanceof o&&e instanceof a&&n.matches().includes(e)||n instanceof f&&(e instanceof o&&n.getDownstreamFileMatch(e.resource)||e instanceof a&&n.getDownstreamFileMatch(e.parent().resource)))return!0;return!1}function W(r,e){return r.openView(c,e).then(n=>n??void 0)}function b(r,e){return e?r+" ("+e.getLabel()+")":r}export{F as appendKeyBindingLabel,y as category,K as getElementsToOperateOn,p as getSearchView,D as isSearchViewFocused,W as openSearchView,A as shouldRefocus};
