{
  "version": 3,
  "sources": ["../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/contrib/search/browser/searchMessage.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as nls from '../../../../nls.js';\nimport * as dom from '../../../../base/browser/dom.js';\nimport { DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { parseLinkedText } from '../../../../base/common/linkedText.js';\nimport Severity from '../../../../base/common/severity.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { INotificationService } from '../../../../platform/notification/common/notification.js';\nimport { SeverityIcon } from '../../../../platform/severityIcon/browser/severityIcon.js';\nimport { TextSearchCompleteMessage, TextSearchCompleteMessageType } from '../../../services/search/common/searchExtTypes.js';\nimport { IOpenerService } from '../../../../platform/opener/common/opener.js';\nimport { Schemas } from '../../../../base/common/network.js';\nimport { ICommandService } from '../../../../platform/commands/common/commands.js';\nimport { Link } from '../../../../platform/opener/browser/link.js';\nimport { URI } from '../../../../base/common/uri.js';\n\nexport const renderSearchMessage = (\n\tmessage: TextSearchCompleteMessage,\n\tinstantiationService: IInstantiationService,\n\tnotificationService: INotificationService,\n\topenerService: IOpenerService,\n\tcommandService: ICommandService,\n\tdisposableStore: DisposableStore,\n\ttriggerSearch: () => void,\n): HTMLElement => {\n\tconst div = dom.$('div.providerMessage');\n\tconst linkedText = parseLinkedText(message.text);\n\tdom.append(div,\n\t\tdom.$('.' +\n\t\t\tSeverityIcon.className(\n\t\t\t\tmessage.type === TextSearchCompleteMessageType.Information\n\t\t\t\t\t? Severity.Info\n\t\t\t\t\t: Severity.Warning)\n\t\t\t\t.split(' ')\n\t\t\t\t.join('.')));\n\n\tfor (const node of linkedText.nodes) {\n\t\tif (typeof node === 'string') {\n\t\t\tdom.append(div, document.createTextNode(node));\n\t\t} else {\n\t\t\tconst link = instantiationService.createInstance(Link, div, node, {\n\t\t\t\topener: async href => {\n\t\t\t\t\tif (!message.trusted) { return; }\n\t\t\t\t\tconst parsed = URI.parse(href, true);\n\t\t\t\t\tif (parsed.scheme === Schemas.command && message.trusted) {\n\t\t\t\t\t\tconst result = await commandService.executeCommand(parsed.path);\n\t\t\t\t\t\tif ((result as any)?.triggerSearch) {\n\t\t\t\t\t\t\ttriggerSearch();\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (parsed.scheme === Schemas.https) {\n\t\t\t\t\t\topenerService.open(parsed);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (parsed.scheme === Schemas.command && !message.trusted) {\n\t\t\t\t\t\t\tnotificationService.error(nls.localize('unable to open trust', \"Unable to open command link from untrusted source: {0}\", href));\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tnotificationService.error(nls.localize('unable to open', \"Unable to open unknown link: {0}\", href));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tdisposableStore.add(link);\n\t\t}\n\t}\n\treturn div;\n};\n"],
  "mappings": ";;AAKA,YAAY,SAAS;AACrB,YAAY,SAAS;AACrB,SAAS,uBAAuB;AAChC,SAAS,uBAAuB;AAChC,OAAO,cAAc;AACrB,SAAS,6BAA6B;AACtC,SAAS,4BAA4B;AACrC,SAAS,oBAAoB;AAC7B,SAAS,2BAA2B,qCAAqC;AACzE,SAAS,sBAAsB;AAC/B,SAAS,eAAe;AACxB,SAAS,uBAAuB;AAChC,SAAS,YAAY;AACrB,SAAS,WAAW;AAEb,MAAM,sBAAsB,wBAClC,SACA,sBACA,qBACA,eACA,gBACA,iBACA,kBACiB;AACjB,QAAM,MAAM,IAAI,EAAE,qBAAqB;AACvC,QAAM,aAAa,gBAAgB,QAAQ,IAAI;AAC/C,MAAI;AAAA,IAAO;AAAA,IACV,IAAI,EAAE,MACL,aAAa;AAAA,MACZ,QAAQ,SAAS,8BAA8B,cAC5C,SAAS,OACT,SAAS;AAAA,IAAO,EAClB,MAAM,GAAG,EACT,KAAK,GAAG,CAAC;AAAA,EAAC;AAEd,aAAW,QAAQ,WAAW,OAAO;AACpC,QAAI,OAAO,SAAS,UAAU;AAC7B,UAAI,OAAO,KAAK,SAAS,eAAe,IAAI,CAAC;AAAA,IAC9C,OAAO;AACN,YAAM,OAAO,qBAAqB,eAAe,MAAM,KAAK,MAAM;AAAA,QACjE,QAAQ,8BAAM,SAAQ;AACrB,cAAI,CAAC,QAAQ,SAAS;AAAE;AAAA,UAAQ;AAChC,gBAAM,SAAS,IAAI,MAAM,MAAM,IAAI;AACnC,cAAI,OAAO,WAAW,QAAQ,WAAW,QAAQ,SAAS;AACzD,kBAAM,SAAS,MAAM,eAAe,eAAe,OAAO,IAAI;AAC9D,gBAAK,QAAgB,eAAe;AACnC,4BAAc;AAAA,YACf;AAAA,UACD,WAAW,OAAO,WAAW,QAAQ,OAAO;AAC3C,0BAAc,KAAK,MAAM;AAAA,UAC1B,OAAO;AACN,gBAAI,OAAO,WAAW,QAAQ,WAAW,CAAC,QAAQ,SAAS;AAC1D,kCAAoB,MAAM,IAAI,SAAS,wBAAwB,0DAA0D,IAAI,CAAC;AAAA,YAC/H,OAAO;AACN,kCAAoB,MAAM,IAAI,SAAS,kBAAkB,oCAAoC,IAAI,CAAC;AAAA,YACnG;AAAA,UACD;AAAA,QACD,GAjBQ;AAAA,MAkBT,CAAC;AACD,sBAAgB,IAAI,IAAI;AAAA,IACzB;AAAA,EACD;AACA,SAAO;AACR,GAhDmC;",
  "names": []
}
