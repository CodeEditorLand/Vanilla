import*as e from"../../../../nls.js";import{registerAction2 as i}from"../../../../platform/actions/common/actions.js";import{CommandsRegistry as p}from"../../../../platform/commands/common/commands.js";import{Extensions as a}from"../../../../platform/configuration/common/configurationRegistry.js";import{InstantiationType as c,registerSingleton as m}from"../../../../platform/instantiation/common/extensions.js";import*as l from"../../../../platform/jsonschemas/common/jsonContributionRegistry.js";import{Registry as t}from"../../../../platform/registry/common/platform.js";import{Extensions as d}from"../../../common/contributions.js";import{LifecyclePhase as f}from"../../../services/lifecycle/common/lifecycle.js";import{ConfigureSnippetsAction as h}from"./commands/configureSnippets.js";import{ApplyFileSnippetAction as S}from"./commands/fileTemplateSnippets.js";import{InsertSnippetAction as g}from"./commands/insertSnippet.js";import{SurroundWithSnippetEditorAction as u}from"./commands/surroundWithSnippet.js";import{SnippetCodeActions as y}from"./snippetCodeActionProvider.js";import{ISnippetsService as b}from"./snippets.js";import{SnippetsService as C}from"./snippetsService.js";import"./tabCompletion.js";import{editorConfigurationBaseNode as I}from"../../../../editor/common/config/editorConfigurationSchema.js";m(b,C,c.Delayed),i(g),p.registerCommandAlias("editor.action.showSnippets","editor.action.insertSnippet"),i(u),i(S),i(h);const j=t.as(d.Workbench);j.registerWorkbenchContribution(y,f.Restored),t.as(a.Configuration).registerConfiguration({...I,properties:{"editor.snippets.codeActions.enabled":{description:e.localize("editor.snippets.codeActions.enabled","Controls if surround-with-snippets or file template snippets show as Code Actions."),type:"boolean",default:!0}}});const o="vscode://schemas/snippets",s={prefix:{description:e.localize("snippetSchema.json.prefix","The prefix to use when selecting the snippet in intellisense"),type:["string","array"]},isFileTemplate:{description:e.localize("snippetSchema.json.isFileTemplate","The snippet is meant to populate or replace a whole file"),type:"boolean"},body:{markdownDescription:e.localize("snippetSchema.json.body","The snippet content. Use `$1`, `${1:defaultText}` to define cursor positions, use `$0` for the final cursor position. Insert variable values with `${varName}` and `${varName:defaultText}`, e.g. `This is file: $TM_FILENAME`."),type:["string","array"],items:{type:"string"}},description:{description:e.localize("snippetSchema.json.description","The snippet description."),type:["string","array"]}},N={id:o,allowComments:!0,allowTrailingCommas:!0,defaultSnippets:[{label:e.localize("snippetSchema.json.default","Empty snippet"),body:{"${1:snippetName}":{prefix:"${2:prefix}",body:"${3:snippet}",description:"${4:description}"}}}],type:"object",description:e.localize("snippetSchema.json","User snippet configuration"),additionalProperties:{type:"object",required:["body"],properties:s,additionalProperties:!1}},n="vscode://schemas/global-snippets",$={id:n,allowComments:!0,allowTrailingCommas:!0,defaultSnippets:[{label:e.localize("snippetSchema.json.default","Empty snippet"),body:{"${1:snippetName}":{scope:"${2:scope}",prefix:"${3:prefix}",body:"${4:snippet}",description:"${5:description}"}}}],type:"object",description:e.localize("snippetSchema.json","User snippet configuration"),additionalProperties:{type:"object",required:["body"],properties:{...s,scope:{description:e.localize("snippetSchema.json.scope","A list of language names to which this snippet applies, e.g. 'typescript,javascript'."),type:"string"}},additionalProperties:!1}},r=t.as(l.Extensions.JSONContribution);r.registerSchema(o,N),r.registerSchema(n,$);
