{
  "version": 3,
  "sources": ["../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/contrib/welcomeWalkthrough/browser/walkThroughPart.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport \"../common/walkThroughUtils.js\";\nimport \"./media/walkThroughPart.css\";\nimport {\n\ttype Dimension,\n\taddDisposableListener,\n\tisHTMLAnchorElement,\n\tisHTMLButtonElement,\n\tisHTMLElement,\n\tsafeInnerHtml,\n\tsize,\n} from \"../../../../base/browser/dom.js\";\nimport {\n\tGesture,\n\ttype GestureEvent,\n\tEventType as TouchEventType,\n} from \"../../../../base/browser/touch.js\";\nimport { DomScrollableElement } from \"../../../../base/browser/ui/scrollbar/scrollableElement.js\";\nimport type { CancellationToken } from \"../../../../base/common/cancellation.js\";\nimport { UILabelProvider } from \"../../../../base/common/keybindingLabels.js\";\nimport {\n\tDisposableStore,\n\ttype IDisposable,\n\tdispose,\n\ttoDisposable,\n} from \"../../../../base/common/lifecycle.js\";\nimport { deepClone } from \"../../../../base/common/objects.js\";\nimport { OS, OperatingSystem } from \"../../../../base/common/platform.js\";\nimport { ScrollbarVisibility } from \"../../../../base/common/scrollable.js\";\nimport * as strings from \"../../../../base/common/strings.js\";\nimport { isObject } from \"../../../../base/common/types.js\";\nimport { URI } from \"../../../../base/common/uri.js\";\nimport { CodeEditorWidget } from \"../../../../editor/browser/widget/codeEditor/codeEditorWidget.js\";\nimport {\n\tEditorOption,\n\ttype IEditorOptions as ICodeEditorOptions,\n} from \"../../../../editor/common/config/editorOptions.js\";\nimport { ITextResourceConfigurationService } from \"../../../../editor/common/services/textResourceConfiguration.js\";\nimport { localize } from \"../../../../nls.js\";\nimport { CommandsRegistry } from \"../../../../platform/commands/common/commands.js\";\nimport { IConfigurationService } from \"../../../../platform/configuration/common/configuration.js\";\nimport {\n\ttype IContextKey,\n\tIContextKeyService,\n\tRawContextKey,\n} from \"../../../../platform/contextkey/common/contextkey.js\";\nimport type { IEditorOptions } from \"../../../../platform/editor/common/editor.js\";\nimport { IInstantiationService } from \"../../../../platform/instantiation/common/instantiation.js\";\nimport { IKeybindingService } from \"../../../../platform/keybinding/common/keybinding.js\";\nimport { INotificationService } from \"../../../../platform/notification/common/notification.js\";\nimport { IOpenerService } from \"../../../../platform/opener/common/opener.js\";\nimport { IStorageService } from \"../../../../platform/storage/common/storage.js\";\nimport { ITelemetryService } from \"../../../../platform/telemetry/common/telemetry.js\";\nimport { IThemeService } from \"../../../../platform/theme/common/themeService.js\";\nimport { EditorPane } from \"../../../browser/parts/editor/editorPane.js\";\nimport type {\n\tIEditorMemento,\n\tIEditorOpenContext,\n} from \"../../../common/editor.js\";\nimport {\n\ttype IEditorGroup,\n\tIEditorGroupsService,\n} from \"../../../services/editor/common/editorGroupsService.js\";\nimport { IExtensionService } from \"../../../services/extensions/common/extensions.js\";\nimport { WalkThroughInput } from \"./walkThroughInput.js\";\n\nexport const WALK_THROUGH_FOCUS = new RawContextKey<boolean>(\n\t\"interactivePlaygroundFocus\",\n\tfalse,\n);\n\nconst UNBOUND_COMMAND = localize(\"walkThrough.unboundCommand\", \"unbound\");\nconst WALK_THROUGH_EDITOR_VIEW_STATE_PREFERENCE_KEY =\n\t\"walkThroughEditorViewState\";\n\ninterface IViewState {\n\tscrollTop: number;\n\tscrollLeft: number;\n}\n\ninterface IWalkThroughEditorViewState {\n\tviewState: IViewState;\n}\n\nexport class WalkThroughPart extends EditorPane {\n\tstatic readonly ID: string = \"workbench.editor.walkThroughPart\";\n\n\tprivate readonly disposables = new DisposableStore();\n\tprivate contentDisposables: IDisposable[] = [];\n\tprivate content!: HTMLDivElement;\n\tprivate scrollbar!: DomScrollableElement;\n\tprivate editorFocus: IContextKey<boolean>;\n\tprivate lastFocus: HTMLElement | undefined;\n\tprivate size: Dimension | undefined;\n\tprivate editorMemento: IEditorMemento<IWalkThroughEditorViewState>;\n\n\tconstructor(\n\t\tgroup: IEditorGroup,\n\t\t@ITelemetryService telemetryService: ITelemetryService,\n\t\t@IThemeService themeService: IThemeService,\n\t\t@ITextResourceConfigurationService textResourceConfigurationService: ITextResourceConfigurationService,\n\t\t@IInstantiationService private readonly instantiationService: IInstantiationService,\n\t\t@IOpenerService private readonly openerService: IOpenerService,\n\t\t@IKeybindingService private readonly keybindingService: IKeybindingService,\n\t\t@IStorageService storageService: IStorageService,\n\t\t@IContextKeyService private readonly contextKeyService: IContextKeyService,\n\t\t@IConfigurationService private readonly configurationService: IConfigurationService,\n\t\t@INotificationService private readonly notificationService: INotificationService,\n\t\t@IExtensionService private readonly extensionService: IExtensionService,\n\t\t@IEditorGroupsService editorGroupService: IEditorGroupsService,\n\t) {\n\t\tsuper(WalkThroughPart.ID, group, telemetryService, themeService, storageService);\n\t\tthis.editorFocus = WALK_THROUGH_FOCUS.bindTo(this.contextKeyService);\n\t\tthis.editorMemento = this.getEditorMemento<IWalkThroughEditorViewState>(editorGroupService, textResourceConfigurationService, WALK_THROUGH_EDITOR_VIEW_STATE_PREFERENCE_KEY);\n\t}\n\n\tprotected createEditor(container: HTMLElement): void {\n\t\tthis.content = document.createElement(\"div\");\n\t\tthis.content.classList.add(\"welcomePageFocusElement\");\n\t\tthis.content.tabIndex = 0;\n\t\tthis.content.style.outlineStyle = \"none\";\n\n\t\tthis.scrollbar = new DomScrollableElement(this.content, {\n\t\t\thorizontal: ScrollbarVisibility.Auto,\n\t\t\tvertical: ScrollbarVisibility.Auto,\n\t\t});\n\t\tthis.disposables.add(this.scrollbar);\n\t\tcontainer.appendChild(this.scrollbar.getDomNode());\n\n\t\tthis.registerFocusHandlers();\n\t\tthis.registerClickHandler();\n\n\t\tthis.disposables.add(\n\t\t\tthis.scrollbar.onScroll((e) => this.updatedScrollPosition()),\n\t\t);\n\t}\n\n\tprivate updatedScrollPosition() {\n\t\tconst scrollDimensions = this.scrollbar.getScrollDimensions();\n\t\tconst scrollPosition = this.scrollbar.getScrollPosition();\n\t\tconst scrollHeight = scrollDimensions.scrollHeight;\n\t\tif (scrollHeight && this.input instanceof WalkThroughInput) {\n\t\t\tconst scrollTop = scrollPosition.scrollTop;\n\t\t\tconst height = scrollDimensions.height;\n\t\t\tthis.input.relativeScrollPosition(\n\t\t\t\tscrollTop / scrollHeight,\n\t\t\t\t(scrollTop + height) / scrollHeight,\n\t\t\t);\n\t\t}\n\t}\n\n\tprivate onTouchChange(event: GestureEvent) {\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\n\t\tconst scrollPosition = this.scrollbar.getScrollPosition();\n\t\tthis.scrollbar.setScrollPosition({\n\t\t\tscrollTop: scrollPosition.scrollTop - event.translationY,\n\t\t});\n\t}\n\n\tprivate addEventListener<\n\t\tK extends keyof HTMLElementEventMap,\n\t\tE extends HTMLElement,\n\t>(\n\t\telement: E,\n\t\ttype: K,\n\t\tlistener: (this: E, ev: HTMLElementEventMap[K]) => any,\n\t\tuseCapture?: boolean,\n\t): IDisposable;\n\tprivate addEventListener<E extends HTMLElement>(\n\t\telement: E,\n\t\ttype: string,\n\t\tlistener: EventListenerOrEventListenerObject,\n\t\tuseCapture?: boolean,\n\t): IDisposable;\n\tprivate addEventListener<E extends HTMLElement>(\n\t\telement: E,\n\t\ttype: string,\n\t\tlistener: EventListenerOrEventListenerObject,\n\t\tuseCapture?: boolean,\n\t): IDisposable {\n\t\telement.addEventListener(type, listener, useCapture);\n\t\treturn toDisposable(() => {\n\t\t\telement.removeEventListener(type, listener, useCapture);\n\t\t});\n\t}\n\n\tprivate registerFocusHandlers() {\n\t\tthis.disposables.add(\n\t\t\tthis.addEventListener(this.content, \"mousedown\", (e) => {\n\t\t\t\tthis.focus();\n\t\t\t}),\n\t\t);\n\t\tthis.disposables.add(\n\t\t\tthis.addEventListener(this.content, \"focus\", (e) => {\n\t\t\t\tthis.editorFocus.set(true);\n\t\t\t}),\n\t\t);\n\t\tthis.disposables.add(\n\t\t\tthis.addEventListener(this.content, \"blur\", (e) => {\n\t\t\t\tthis.editorFocus.reset();\n\t\t\t}),\n\t\t);\n\t\tthis.disposables.add(\n\t\t\tthis.addEventListener(this.content, \"focusin\", (e: FocusEvent) => {\n\t\t\t\t// Work around scrolling as side-effect of setting focus on the offscreen zone widget (#18929)\n\t\t\t\tif (\n\t\t\t\t\tisHTMLElement(e.target) &&\n\t\t\t\t\te.target.classList.contains(\"zone-widget-container\")\n\t\t\t\t) {\n\t\t\t\t\tconst scrollPosition = this.scrollbar.getScrollPosition();\n\t\t\t\t\tthis.content.scrollTop = scrollPosition.scrollTop;\n\t\t\t\t\tthis.content.scrollLeft = scrollPosition.scrollLeft;\n\t\t\t\t}\n\t\t\t\tif (isHTMLElement(e.target)) {\n\t\t\t\t\tthis.lastFocus = e.target;\n\t\t\t\t}\n\t\t\t}),\n\t\t);\n\t}\n\n\tprivate registerClickHandler() {\n\t\tthis.content.addEventListener(\"click\", (event) => {\n\t\t\tfor (\n\t\t\t\tlet node = event.target as HTMLElement;\n\t\t\t\tnode;\n\t\t\t\tnode = node.parentNode as HTMLElement\n\t\t\t) {\n\t\t\t\tif (isHTMLAnchorElement(node) && node.href) {\n\t\t\t\t\tconst baseElement =\n\t\t\t\t\t\tnode.ownerDocument.getElementsByTagName(\"base\")[0] ||\n\t\t\t\t\t\tthis.window.location;\n\t\t\t\t\tif (\n\t\t\t\t\t\tbaseElement &&\n\t\t\t\t\t\tnode.href.indexOf(baseElement.href) >= 0 &&\n\t\t\t\t\t\tnode.hash\n\t\t\t\t\t) {\n\t\t\t\t\t\tconst scrollTarget = this.content.querySelector(\n\t\t\t\t\t\t\tnode.hash,\n\t\t\t\t\t\t);\n\t\t\t\t\t\tconst innerContent = this.content.firstElementChild;\n\t\t\t\t\t\tif (scrollTarget && innerContent) {\n\t\t\t\t\t\t\tconst targetTop =\n\t\t\t\t\t\t\t\tscrollTarget.getBoundingClientRect().top - 20;\n\t\t\t\t\t\t\tconst containerTop =\n\t\t\t\t\t\t\t\tinnerContent.getBoundingClientRect().top;\n\t\t\t\t\t\t\tthis.scrollbar.setScrollPosition({\n\t\t\t\t\t\t\t\tscrollTop: targetTop - containerTop,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.open(URI.parse(node.href));\n\t\t\t\t\t}\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tbreak;\n\t\t\t\t} else if (isHTMLButtonElement(node)) {\n\t\t\t\t\tconst href = node.getAttribute(\"data-href\");\n\t\t\t\t\tif (href) {\n\t\t\t\t\t\tthis.open(URI.parse(href));\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t} else if (node === event.currentTarget) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate open(uri: URI) {\n\t\tif (\n\t\t\turi.scheme === \"command\" &&\n\t\t\turi.path === \"git.clone\" &&\n\t\t\t!CommandsRegistry.getCommand(\"git.clone\")\n\t\t) {\n\t\t\tthis.notificationService.info(\n\t\t\t\tlocalize(\n\t\t\t\t\t\"walkThrough.gitNotFound\",\n\t\t\t\t\t\"It looks like Git is not installed on your system.\",\n\t\t\t\t),\n\t\t\t);\n\t\t\treturn;\n\t\t}\n\t\tthis.openerService.open(this.addFrom(uri), { allowCommands: true });\n\t}\n\n\tprivate addFrom(uri: URI) {\n\t\tif (\n\t\t\turi.scheme !== \"command\" ||\n\t\t\t!(this.input instanceof WalkThroughInput)\n\t\t) {\n\t\t\treturn uri;\n\t\t}\n\t\tconst query = uri.query ? JSON.parse(uri.query) : {};\n\t\tquery.from = this.input.getTelemetryFrom();\n\t\treturn uri.with({ query: JSON.stringify(query) });\n\t}\n\n\tlayout(dimension: Dimension): void {\n\t\tthis.size = dimension;\n\t\tsize(this.content, dimension.width, dimension.height);\n\t\tthis.updateSizeClasses();\n\t\tthis.contentDisposables.forEach((disposable) => {\n\t\t\tif (disposable instanceof CodeEditorWidget) {\n\t\t\t\tdisposable.layout();\n\t\t\t}\n\t\t});\n\t\tconst walkthroughInput =\n\t\t\tthis.input instanceof WalkThroughInput && this.input;\n\t\tif (walkthroughInput && walkthroughInput.layout) {\n\t\t\twalkthroughInput.layout(dimension);\n\t\t}\n\t\tthis.scrollbar.scanDomNode();\n\t}\n\n\tprivate updateSizeClasses() {\n\t\tconst innerContent = this.content.firstElementChild;\n\t\tif (this.size && innerContent) {\n\t\t\tinnerContent.classList.toggle(\n\t\t\t\t\"max-height-685px\",\n\t\t\t\tthis.size.height <= 685,\n\t\t\t);\n\t\t}\n\t}\n\n\toverride focus(): void {\n\t\tsuper.focus();\n\n\t\tlet active = this.content.ownerDocument.activeElement;\n\t\twhile (active && active !== this.content) {\n\t\t\tactive = active.parentElement;\n\t\t}\n\t\tif (!active) {\n\t\t\t(this.lastFocus || this.content).focus();\n\t\t}\n\t\tthis.editorFocus.set(true);\n\t}\n\n\tarrowUp() {\n\t\tconst scrollPosition = this.scrollbar.getScrollPosition();\n\t\tthis.scrollbar.setScrollPosition({\n\t\t\tscrollTop: scrollPosition.scrollTop - this.getArrowScrollHeight(),\n\t\t});\n\t}\n\n\tarrowDown() {\n\t\tconst scrollPosition = this.scrollbar.getScrollPosition();\n\t\tthis.scrollbar.setScrollPosition({\n\t\t\tscrollTop: scrollPosition.scrollTop + this.getArrowScrollHeight(),\n\t\t});\n\t}\n\n\tprivate getArrowScrollHeight() {\n\t\tlet fontSize = this.configurationService.getValue(\"editor.fontSize\");\n\t\tif (typeof fontSize !== \"number\" || fontSize < 1) {\n\t\t\tfontSize = 12;\n\t\t}\n\t\treturn 3 * (fontSize as number);\n\t}\n\n\tpageUp() {\n\t\tconst scrollDimensions = this.scrollbar.getScrollDimensions();\n\t\tconst scrollPosition = this.scrollbar.getScrollPosition();\n\t\tthis.scrollbar.setScrollPosition({\n\t\t\tscrollTop: scrollPosition.scrollTop - scrollDimensions.height,\n\t\t});\n\t}\n\n\tpageDown() {\n\t\tconst scrollDimensions = this.scrollbar.getScrollDimensions();\n\t\tconst scrollPosition = this.scrollbar.getScrollPosition();\n\t\tthis.scrollbar.setScrollPosition({\n\t\t\tscrollTop: scrollPosition.scrollTop + scrollDimensions.height,\n\t\t});\n\t}\n\n\toverride setInput(\n\t\tinput: WalkThroughInput,\n\t\toptions: IEditorOptions | undefined,\n\t\tcontext: IEditorOpenContext,\n\t\ttoken: CancellationToken,\n\t): Promise<void> {\n\t\tconst store = new DisposableStore();\n\t\tthis.contentDisposables.push(store);\n\n\t\tthis.content.innerText = \"\";\n\n\t\treturn super\n\t\t\t.setInput(input, options, context, token)\n\t\t\t.then(async () => {\n\t\t\t\tif (input.resource.path.endsWith(\".md\")) {\n\t\t\t\t\tawait this.extensionService.whenInstalledExtensionsRegistered();\n\t\t\t\t}\n\t\t\t\treturn input.resolve();\n\t\t\t})\n\t\t\t.then((model) => {\n\t\t\t\tif (token.isCancellationRequested) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst content = model.main;\n\t\t\t\tif (!input.resource.path.endsWith(\".md\")) {\n\t\t\t\t\tsafeInnerHtml(this.content, content, {\n\t\t\t\t\t\tALLOW_UNKNOWN_PROTOCOLS: true,\n\t\t\t\t\t});\n\n\t\t\t\t\tthis.updateSizeClasses();\n\t\t\t\t\tthis.decorateContent();\n\t\t\t\t\tthis.contentDisposables.push(\n\t\t\t\t\t\tthis.keybindingService.onDidUpdateKeybindings(() =>\n\t\t\t\t\t\t\tthis.decorateContent(),\n\t\t\t\t\t\t),\n\t\t\t\t\t);\n\t\t\t\t\tinput.onReady?.(\n\t\t\t\t\t\tthis.content.firstElementChild as HTMLElement,\n\t\t\t\t\t\tstore,\n\t\t\t\t\t);\n\t\t\t\t\tthis.scrollbar.scanDomNode();\n\t\t\t\t\tthis.loadTextEditorViewState(input);\n\t\t\t\t\tthis.updatedScrollPosition();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst innerContent = document.createElement(\"div\");\n\t\t\t\tinnerContent.classList.add(\"walkThroughContent\"); // only for markdown files\n\t\t\t\tconst markdown = this.expandMacros(content);\n\t\t\t\tsafeInnerHtml(innerContent, markdown, {\n\t\t\t\t\tALLOW_UNKNOWN_PROTOCOLS: true,\n\t\t\t\t});\n\t\t\t\tthis.content.appendChild(innerContent);\n\n\t\t\t\tmodel.snippets.forEach((snippet, i) => {\n\t\t\t\t\tconst model = snippet.textEditorModel;\n\t\t\t\t\tif (!model) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tconst id = `snippet-${model.uri.fragment}`;\n\t\t\t\t\tconst div = innerContent.querySelector(\n\t\t\t\t\t\t`#${id.replace(/[\\\\.]/g, \"\\\\$&\")}`,\n\t\t\t\t\t) as HTMLElement;\n\n\t\t\t\t\tconst options = this.getEditorOptions(\n\t\t\t\t\t\tmodel.getLanguageId(),\n\t\t\t\t\t);\n\t\t\t\t\tconst telemetryData = {\n\t\t\t\t\t\ttarget:\n\t\t\t\t\t\t\tthis.input instanceof WalkThroughInput\n\t\t\t\t\t\t\t\t? this.input.getTelemetryFrom()\n\t\t\t\t\t\t\t\t: undefined,\n\t\t\t\t\t\tsnippet: i,\n\t\t\t\t\t};\n\t\t\t\t\tconst editor = this.instantiationService.createInstance(\n\t\t\t\t\t\tCodeEditorWidget,\n\t\t\t\t\t\tdiv,\n\t\t\t\t\t\toptions,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttelemetryData: telemetryData,\n\t\t\t\t\t\t},\n\t\t\t\t\t);\n\t\t\t\t\teditor.setModel(model);\n\t\t\t\t\tthis.contentDisposables.push(editor);\n\n\t\t\t\t\tconst updateHeight = (initial: boolean) => {\n\t\t\t\t\t\tconst lineHeight = editor.getOption(\n\t\t\t\t\t\t\tEditorOption.lineHeight,\n\t\t\t\t\t\t);\n\t\t\t\t\t\tconst height = `${Math.max(model.getLineCount() + 1, 4) * lineHeight}px`;\n\t\t\t\t\t\tif (div.style.height !== height) {\n\t\t\t\t\t\t\tdiv.style.height = height;\n\t\t\t\t\t\t\teditor.layout();\n\t\t\t\t\t\t\tif (!initial) {\n\t\t\t\t\t\t\t\tthis.scrollbar.scanDomNode();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tupdateHeight(true);\n\t\t\t\t\tthis.contentDisposables.push(\n\t\t\t\t\t\teditor.onDidChangeModelContent(() =>\n\t\t\t\t\t\t\tupdateHeight(false),\n\t\t\t\t\t\t),\n\t\t\t\t\t);\n\t\t\t\t\tthis.contentDisposables.push(\n\t\t\t\t\t\teditor.onDidChangeCursorPosition((e) => {\n\t\t\t\t\t\t\tconst innerContent = this.content.firstElementChild;\n\t\t\t\t\t\t\tif (innerContent) {\n\t\t\t\t\t\t\t\tconst targetTop =\n\t\t\t\t\t\t\t\t\tdiv.getBoundingClientRect().top;\n\t\t\t\t\t\t\t\tconst containerTop =\n\t\t\t\t\t\t\t\t\tinnerContent.getBoundingClientRect().top;\n\t\t\t\t\t\t\t\tconst lineHeight = editor.getOption(\n\t\t\t\t\t\t\t\t\tEditorOption.lineHeight,\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\tconst lineTop =\n\t\t\t\t\t\t\t\t\ttargetTop +\n\t\t\t\t\t\t\t\t\t(e.position.lineNumber - 1) * lineHeight -\n\t\t\t\t\t\t\t\t\tcontainerTop;\n\t\t\t\t\t\t\t\tconst lineBottom = lineTop + lineHeight;\n\t\t\t\t\t\t\t\tconst scrollDimensions =\n\t\t\t\t\t\t\t\t\tthis.scrollbar.getScrollDimensions();\n\t\t\t\t\t\t\t\tconst scrollPosition =\n\t\t\t\t\t\t\t\t\tthis.scrollbar.getScrollPosition();\n\t\t\t\t\t\t\t\tconst scrollTop = scrollPosition.scrollTop;\n\t\t\t\t\t\t\t\tconst height = scrollDimensions.height;\n\t\t\t\t\t\t\t\tif (scrollTop > lineTop) {\n\t\t\t\t\t\t\t\t\tthis.scrollbar.setScrollPosition({\n\t\t\t\t\t\t\t\t\t\tscrollTop: lineTop,\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t} else if (scrollTop < lineBottom - height) {\n\t\t\t\t\t\t\t\t\tthis.scrollbar.setScrollPosition({\n\t\t\t\t\t\t\t\t\t\tscrollTop: lineBottom - height,\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}),\n\t\t\t\t\t);\n\n\t\t\t\t\tthis.contentDisposables.push(\n\t\t\t\t\t\tthis.configurationService.onDidChangeConfiguration(\n\t\t\t\t\t\t\t(e) => {\n\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\te.affectsConfiguration(\"editor\") &&\n\t\t\t\t\t\t\t\t\tsnippet.textEditorModel\n\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\teditor.updateOptions(\n\t\t\t\t\t\t\t\t\t\tthis.getEditorOptions(\n\t\t\t\t\t\t\t\t\t\t\tsnippet.textEditorModel.getLanguageId(),\n\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t),\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t\tthis.updateSizeClasses();\n\t\t\t\tthis.multiCursorModifier();\n\t\t\t\tthis.contentDisposables.push(\n\t\t\t\t\tthis.configurationService.onDidChangeConfiguration((e) => {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\te.affectsConfiguration(\"editor.multiCursorModifier\")\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tthis.multiCursorModifier();\n\t\t\t\t\t\t}\n\t\t\t\t\t}),\n\t\t\t\t);\n\t\t\t\tinput.onReady?.(innerContent, store);\n\t\t\t\tthis.scrollbar.scanDomNode();\n\t\t\t\tthis.loadTextEditorViewState(input);\n\t\t\t\tthis.updatedScrollPosition();\n\t\t\t\tthis.contentDisposables.push(Gesture.addTarget(innerContent));\n\t\t\t\tthis.contentDisposables.push(\n\t\t\t\t\taddDisposableListener(\n\t\t\t\t\t\tinnerContent,\n\t\t\t\t\t\tTouchEventType.Change,\n\t\t\t\t\t\t(e) => this.onTouchChange(e as GestureEvent),\n\t\t\t\t\t),\n\t\t\t\t);\n\t\t\t});\n\t}\n\n\tprivate getEditorOptions(language: string): ICodeEditorOptions {\n\t\tconst config = deepClone(\n\t\t\tthis.configurationService.getValue<IEditorOptions>(\"editor\", {\n\t\t\t\toverrideIdentifier: language,\n\t\t\t}),\n\t\t);\n\t\treturn {\n\t\t\t...(isObject(config) ? config : Object.create(null)),\n\t\t\tscrollBeyondLastLine: false,\n\t\t\tscrollbar: {\n\t\t\t\tverticalScrollbarSize: 14,\n\t\t\t\thorizontal: \"auto\",\n\t\t\t\tuseShadows: true,\n\t\t\t\tverticalHasArrows: false,\n\t\t\t\thorizontalHasArrows: false,\n\t\t\t\talwaysConsumeMouseWheel: false,\n\t\t\t},\n\t\t\toverviewRulerLanes: 3,\n\t\t\tfixedOverflowWidgets: false,\n\t\t\tlineNumbersMinChars: 1,\n\t\t\tminimap: { enabled: false },\n\t\t};\n\t}\n\n\tprivate expandMacros(input: string) {\n\t\treturn input.replace(\n\t\t\t/kb\\(([a-z.\\d-]+)\\)/gi,\n\t\t\t(match: string, kb: string) => {\n\t\t\t\tconst keybinding = this.keybindingService.lookupKeybinding(kb);\n\t\t\t\tconst shortcut = keybinding\n\t\t\t\t\t? keybinding.getLabel() || \"\"\n\t\t\t\t\t: UNBOUND_COMMAND;\n\t\t\t\treturn `<span class=\"shortcut\">${strings.escape(shortcut)}</span>`;\n\t\t\t},\n\t\t);\n\t}\n\n\tprivate decorateContent() {\n\t\tconst keys = this.content.querySelectorAll(\".shortcut[data-command]\");\n\t\tArray.prototype.forEach.call(keys, (key: Element) => {\n\t\t\tconst command = key.getAttribute(\"data-command\");\n\t\t\tconst keybinding =\n\t\t\t\tcommand && this.keybindingService.lookupKeybinding(command);\n\t\t\tconst label = keybinding\n\t\t\t\t? keybinding.getLabel() || \"\"\n\t\t\t\t: UNBOUND_COMMAND;\n\t\t\twhile (key.firstChild) {\n\t\t\t\tkey.firstChild.remove();\n\t\t\t}\n\t\t\tkey.appendChild(document.createTextNode(label));\n\t\t});\n\t\tconst ifkeys = this.content.querySelectorAll(\n\t\t\t\".if_shortcut[data-command]\",\n\t\t);\n\t\tArray.prototype.forEach.call(ifkeys, (key: HTMLElement) => {\n\t\t\tconst command = key.getAttribute(\"data-command\");\n\t\t\tconst keybinding =\n\t\t\t\tcommand && this.keybindingService.lookupKeybinding(command);\n\t\t\tkey.style.display = keybinding ? \"\" : \"none\";\n\t\t});\n\t}\n\n\tprivate multiCursorModifier() {\n\t\tconst labels = UILabelProvider.modifierLabels[OS];\n\t\tconst value = this.configurationService.getValue(\n\t\t\t\"editor.multiCursorModifier\",\n\t\t);\n\t\tconst modifier =\n\t\t\tlabels[\n\t\t\t\tvalue === \"ctrlCmd\"\n\t\t\t\t\t? OS === OperatingSystem.Macintosh\n\t\t\t\t\t\t? \"metaKey\"\n\t\t\t\t\t\t: \"ctrlKey\"\n\t\t\t\t\t: \"altKey\"\n\t\t\t];\n\t\tconst keys = this.content.querySelectorAll(\".multi-cursor-modifier\");\n\t\tArray.prototype.forEach.call(keys, (key: Element) => {\n\t\t\twhile (key.firstChild) {\n\t\t\t\tkey.firstChild.remove();\n\t\t\t}\n\t\t\tkey.appendChild(document.createTextNode(modifier));\n\t\t});\n\t}\n\n\tprivate saveTextEditorViewState(input: WalkThroughInput): void {\n\t\tconst scrollPosition = this.scrollbar.getScrollPosition();\n\n\t\tthis.editorMemento.saveEditorState(this.group, input, {\n\t\t\tviewState: {\n\t\t\t\tscrollTop: scrollPosition.scrollTop,\n\t\t\t\tscrollLeft: scrollPosition.scrollLeft,\n\t\t\t},\n\t\t});\n\t}\n\n\tprivate loadTextEditorViewState(input: WalkThroughInput) {\n\t\tconst state = this.editorMemento.loadEditorState(this.group, input);\n\t\tif (state) {\n\t\t\tthis.scrollbar.setScrollPosition(state.viewState);\n\t\t}\n\t}\n\n\tpublic override clearInput(): void {\n\t\tif (this.input instanceof WalkThroughInput) {\n\t\t\tthis.saveTextEditorViewState(this.input);\n\t\t}\n\t\tthis.contentDisposables = dispose(this.contentDisposables);\n\t\tsuper.clearInput();\n\t}\n\n\tprotected override saveState(): void {\n\t\tif (this.input instanceof WalkThroughInput) {\n\t\t\tthis.saveTextEditorViewState(this.input);\n\t\t}\n\n\t\tsuper.saveState();\n\t}\n\n\toverride dispose(): void {\n\t\tthis.editorFocus.reset();\n\t\tthis.contentDisposables = dispose(this.contentDisposables);\n\t\tthis.disposables.dispose();\n\t\tsuper.dispose();\n\t}\n}\n"],
  "mappings": "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",
  "names": ["model", "options", "innerContent"]
}
