var S=Object.defineProperty;var a=Object.getOwnPropertyDescriptor;var E=(t,r,o,i)=>{for(var e=i>1?void 0:i?a(r,o):r,s=t.length-1,m;s>=0;s--)(m=t[s])&&(e=(i?m(r,o,e):m(e))||e);return i&&e&&S(r,o,e),e},c=(t,r)=>(o,i)=>r(o,i,t);import{ThemeIcon as f}from"../../../../base/common/themables.js";import{URI as p}from"../../../../base/common/uri.js";import{Registry as g}from"../../../../platform/registry/common/platform.js";import{IStorageService as h,StorageScope as I,StorageTarget as R}from"../../../../platform/storage/common/storage.js";import{Extensions as v}from"../../../common/contributions.js";import{IBannerService as b}from"../../../services/banner/browser/bannerService.js";import{IBrowserWorkbenchEnvironmentService as d}from"../../../services/environment/browser/environmentService.js";import{LifecyclePhase as k}from"../../../services/lifecycle/common/lifecycle.js";let n=class{static WELCOME_BANNER_DISMISSED_KEY="workbench.banner.welcome.dismissed";constructor(r,o,i){const e=i.options?.welcomeBanner;if(!e||o.getBoolean(n.WELCOME_BANNER_DISMISSED_KEY,I.PROFILE,!1))return;let s;typeof e.icon=="string"?s=f.fromId(e.icon):e.icon&&(s=p.revive(e.icon)),r.show({id:"welcome.banner",message:e.message,icon:s,actions:e.actions,onClose:()=>{o.store(n.WELCOME_BANNER_DISMISSED_KEY,!0,I.PROFILE,R.MACHINE)}})}};n=E([c(0,b),c(1,h),c(2,d)],n),g.as(v.Workbench).registerWorkbenchContribution(n,k.Restored);
