{
  "version": 3,
  "sources": ["../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/contrib/welcomeBanner/browser/welcomeBanner.contribution.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { LifecyclePhase } from '../../../services/lifecycle/common/lifecycle.js';\nimport { Registry } from '../../../../platform/registry/common/platform.js';\nimport { Extensions as WorkbenchExtensions, IWorkbenchContributionsRegistry } from '../../../common/contributions.js';\nimport { IBannerService } from '../../../services/banner/browser/bannerService.js';\nimport { IStorageService, StorageScope, StorageTarget } from '../../../../platform/storage/common/storage.js';\nimport { IBrowserWorkbenchEnvironmentService } from '../../../services/environment/browser/environmentService.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { ThemeIcon } from '../../../../base/common/themables.js';\n\nclass WelcomeBannerContribution {\n\n\tprivate static readonly WELCOME_BANNER_DISMISSED_KEY = 'workbench.banner.welcome.dismissed';\n\n\tconstructor(\n\t\t@IBannerService bannerService: IBannerService,\n\t\t@IStorageService storageService: IStorageService,\n\t\t@IBrowserWorkbenchEnvironmentService environmentService: IBrowserWorkbenchEnvironmentService\n\t) {\n\t\tconst welcomeBanner = environmentService.options?.welcomeBanner;\n\t\tif (!welcomeBanner) {\n\t\t\treturn; // welcome banner is not enabled\n\t\t}\n\n\t\tif (storageService.getBoolean(WelcomeBannerContribution.WELCOME_BANNER_DISMISSED_KEY, StorageScope.PROFILE, false)) {\n\t\t\treturn; // welcome banner dismissed\n\t\t}\n\n\t\tlet icon: ThemeIcon | URI | undefined = undefined;\n\t\tif (typeof welcomeBanner.icon === 'string') {\n\t\t\ticon = ThemeIcon.fromId(welcomeBanner.icon);\n\t\t} else if (welcomeBanner.icon) {\n\t\t\ticon = URI.revive(welcomeBanner.icon);\n\t\t}\n\n\t\tbannerService.show({\n\t\t\tid: 'welcome.banner',\n\t\t\tmessage: welcomeBanner.message,\n\t\t\ticon,\n\t\t\tactions: welcomeBanner.actions,\n\t\t\tonClose: () => {\n\t\t\t\tstorageService.store(WelcomeBannerContribution.WELCOME_BANNER_DISMISSED_KEY, true, StorageScope.PROFILE, StorageTarget.MACHINE);\n\t\t\t}\n\t\t});\n\t}\n}\n\nRegistry.as<IWorkbenchContributionsRegistry>(WorkbenchExtensions.Workbench)\n\t.registerWorkbenchContribution(WelcomeBannerContribution, LifecyclePhase.Restored);\n"],
  "mappings": ";;;;;;;;;;;;AAKA,SAAS,sBAAsB;AAC/B,SAAS,gBAAgB;AACzB,SAAS,cAAc,qBAAqB,uCAAuC;AACnF,SAAS,sBAAsB;AAC/B,SAAS,iBAAiB,cAAc,qBAAqB;AAC7D,SAAS,2CAA2C;AACpD,SAAS,WAAW;AACpB,SAAS,iBAAiB;AAE1B,IAAM,4BAAN,MAAgC;AAAA,EAdhC,OAcgC;AAAA;AAAA;AAAA,EAE/B,OAAwB,+BAA+B;AAAA,EAEvD,YACiB,eACC,gBACoB,oBACpC;AACD,UAAM,gBAAgB,mBAAmB,SAAS;AAClD,QAAI,CAAC,eAAe;AACnB;AAAA,IACD;AAEA,QAAI,eAAe,WAAW,0BAA0B,8BAA8B,aAAa,SAAS,KAAK,GAAG;AACnH;AAAA,IACD;AAEA,QAAI,OAAoC;AACxC,QAAI,OAAO,cAAc,SAAS,UAAU;AAC3C,aAAO,UAAU,OAAO,cAAc,IAAI;AAAA,IAC3C,WAAW,cAAc,MAAM;AAC9B,aAAO,IAAI,OAAO,cAAc,IAAI;AAAA,IACrC;AAEA,kBAAc,KAAK;AAAA,MAClB,IAAI;AAAA,MACJ,SAAS,cAAc;AAAA,MACvB;AAAA,MACA,SAAS,cAAc;AAAA,MACvB,SAAS,6BAAM;AACd,uBAAe,MAAM,0BAA0B,8BAA8B,MAAM,aAAa,SAAS,cAAc,OAAO;AAAA,MAC/H,GAFS;AAAA,IAGV,CAAC;AAAA,EACF;AACD;AAnCM,4BAAN;AAAA,EAKG;AAAA,EACA;AAAA,EACA;AAAA,GAPG;AAqCN,SAAS,GAAoC,oBAAoB,SAAS,EACxE,8BAA8B,2BAA2B,eAAe,QAAQ;",
  "names": []
}
