var S=Object.defineProperty;var x=Object.getOwnPropertyDescriptor;var I=(n,t,e,o)=>{for(var i=o>1?void 0:o?x(t,e):t,c=n.length-1,r;c>=0;c--)(r=n[c])&&(i=(o?r(t,e,i):r(i))||i);return o&&i&&S(t,e,i),i},m=(n,t)=>(e,o)=>t(e,o,n);import*as g from"../../../../nls.js";import{Action as v}from"../../../../base/common/actions.js";import{IContextViewService as b}from"../../../../platform/contextview/browser/contextView.js";import"../../../../base/browser/ui/selectBox/selectBox.js";import{SelectActionViewItem as h}from"../../../../base/browser/ui/actionbar/actionViewItems.js";import{defaultSelectBoxStyles as C}from"../../../../platform/theme/browser/defaultStyles.js";import{IThemeService as T}from"../../../../platform/theme/common/themeService.js";import{peekViewTitleBackground as y}from"../../../../editor/contrib/peekView/browser/peekView.js";import{editorBackground as B}from"../../../../platform/theme/common/colorRegistry.js";let s=class extends h{optionsItems;constructor(t,e,o,i,c){const r=e.map(f=>({provider:f,text:f}));let l=e.indexOf(o);l===-1&&(l=0);const p={...C},d=c.getColorTheme(),u=d.getColor(B),k=d.getColor(y)?.makeOpaque(u)??u;p.selectBackground=k.lighten(.6).toString(),super(null,t,r,l,i,p,{ariaLabel:g.localize("remotes","Switch quick diff base")}),this.optionsItems=r}setSelection(t){const e=this.optionsItems.findIndex(o=>o.provider===t);this.select(e)}getActionContext(t,e){return this.optionsItems[e]}render(t){super.render(t),this.setFocusable(!0)}};s=I([m(3,b),m(4,T)],s);class a extends v{constructor(e){super(a.ID,a.LABEL,void 0,void 0);this.callback=e}static ID="quickDiff.base.switch";static LABEL=g.localize("quickDiff.base.switch","Switch Quick Diff Base");async run(e){return this.callback(e)}}export{a as SwitchQuickDiffBaseAction,s as SwitchQuickDiffViewItem};
