import{URI as n}from"../../../../../vs/base/common/uri.js";import{createDecorator as o}from"../../../../../vs/platform/instantiation/common/instantiation.js";import"../../../../../vs/platform/terminal/common/terminal.js";import{terminalContributionsDescriptor as a}from"../../../../../vs/workbench/contrib/terminal/common/terminal.js";import*as l from"../../../../../vs/workbench/services/extensions/common/extensionsRegistry.js";const s=l.ExtensionsRegistry.registerExtensionPoint(a),P=o("terminalContributionsService");class v{_terminalProfiles=[];get terminalProfiles(){return this._terminalProfiles}constructor(){s.setHandler(t=>{this._terminalProfiles=t.map(e=>e.value?.profiles?.filter(r=>m(r)).map(r=>({...r,extensionIdentifier:e.description.identifier.value}))||[]).flat()})}}function m(i){return!i.icon||typeof i.icon=="string"||n.isUri(i.icon)||"light"in i.icon&&"dark"in i.icon&&n.isUri(i.icon.light)&&n.isUri(i.icon.dark)}export{P as ITerminalContributionService,v as TerminalContributionService};
