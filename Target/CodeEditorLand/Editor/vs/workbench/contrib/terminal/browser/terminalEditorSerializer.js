var d=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var a=(n,e,i,r)=>{for(var t=r>1?void 0:r?m(e,i):e,s=n.length-1,l;s>=0;s--)(l=n[s])&&(t=(r?l(e,i,t):l(t))||t);return r&&t&&d(e,i,t),t},c=(n,e)=>(i,r)=>e(i,r,n);import"../../../../platform/instantiation/common/instantiation.js";import"../../../common/editor.js";import"../../../common/editor/editorInput.js";import{ITerminalEditorService as I}from"./terminal.js";import"./terminalEditorInput.js";let o=class{constructor(e){this._terminalEditorService=e}canSerialize(e){return typeof e.terminalInstance?.persistentProcessId=="number"&&e.terminalInstance.shouldPersist}serialize(e){if(this.canSerialize(e))return JSON.stringify(this._toJson(e.terminalInstance))}deserialize(e,i){const r=JSON.parse(i);return this._terminalEditorService.reviveInput(r)}_toJson(e){return{id:e.persistentProcessId,pid:e.processId||0,title:e.title,titleSource:e.titleSource,cwd:"",icon:e.icon,color:e.color,hasChildProcesses:e.hasChildProcesses,isFeatureTerminal:e.shellLaunchConfig.isFeatureTerminal,hideFromUser:e.shellLaunchConfig.hideFromUser,reconnectionProperties:e.shellLaunchConfig.reconnectionProperties,shellIntegrationNonce:e.shellIntegrationNonce}}};o=a([c(0,I)],o);export{o as TerminalInputSerializer};
