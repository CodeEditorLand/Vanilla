{
  "version": 3,
  "sources": ["../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/contrib/terminal/browser/terminalExtensions.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { BrandedService, IConstructorSignature } from '../../../../platform/instantiation/common/instantiation.js';\nimport { Registry } from '../../../../platform/registry/common/platform.js';\nimport { IDetachedTerminalInstance, ITerminalContribution, ITerminalInstance } from './terminal.js';\nimport { TerminalWidgetManager } from './widgets/widgetManager.js';\nimport { ITerminalProcessInfo, ITerminalProcessManager } from '../common/terminal.js';\n\n/** Constructor compatible with full terminal instances, is assignable to {@link DetachedCompatibleTerminalContributionCtor} */\nexport type TerminalContributionCtor = IConstructorSignature<ITerminalContribution, [ITerminalInstance, ITerminalProcessManager, TerminalWidgetManager]>;\n/** Constructor compatible with detached terminals */\nexport type DetachedCompatibleTerminalContributionCtor = IConstructorSignature<ITerminalContribution, [IDetachedTerminalInstance, ITerminalProcessInfo, TerminalWidgetManager]>;\n\nexport type ITerminalContributionDescription = { readonly id: string } & (\n\t| { readonly canRunInDetachedTerminals: false; readonly ctor: TerminalContributionCtor }\n\t| { readonly canRunInDetachedTerminals: true; readonly ctor: DetachedCompatibleTerminalContributionCtor }\n);\n\nexport function registerTerminalContribution<Services extends BrandedService[]>(id: string, ctor: { new(instance: ITerminalInstance, processManager: ITerminalProcessManager, widgetManager: TerminalWidgetManager, ...services: Services): ITerminalContribution }, canRunInDetachedTerminals?: false): void;\nexport function registerTerminalContribution<Services extends BrandedService[]>(id: string, ctor: { new(instance: ITerminalInstance, processManager: ITerminalProcessInfo, widgetManager: TerminalWidgetManager, ...services: Services): ITerminalContribution }, canRunInDetachedTerminals: true): void;\nexport function registerTerminalContribution<Services extends BrandedService[]>(id: string, ctor: { new(instance: ITerminalInstance, processManager: ITerminalProcessManager, widgetManager: TerminalWidgetManager, ...services: Services): ITerminalContribution }, canRunInDetachedTerminals = false): void {\n\t// eslint-disable-next-line local/code-no-dangerous-type-assertions\n\tTerminalContributionRegistry.INSTANCE.registerTerminalContribution({ id, ctor, canRunInDetachedTerminals } as ITerminalContributionDescription);\n}\n\nexport namespace TerminalExtensionsRegistry {\n\texport function getTerminalContributions(): ITerminalContributionDescription[] {\n\t\treturn TerminalContributionRegistry.INSTANCE.getTerminalContributions();\n\t}\n}\n\nclass TerminalContributionRegistry {\n\n\tpublic static readonly INSTANCE = new TerminalContributionRegistry();\n\n\tprivate readonly _terminalContributions: ITerminalContributionDescription[] = [];\n\n\tconstructor() {\n\t}\n\n\tpublic registerTerminalContribution(description: ITerminalContributionDescription): void {\n\t\tthis._terminalContributions.push(description);\n\t}\n\n\tpublic getTerminalContributions(): ITerminalContributionDescription[] {\n\t\treturn this._terminalContributions.slice(0);\n\t}\n}\n\nconst enum Extensions {\n\tTerminalContributions = 'terminal.contributions'\n}\n\nRegistry.add(Extensions.TerminalContributions, TerminalContributionRegistry.INSTANCE);\n"],
  "mappings": ";;AAKA,SAAS,gBAAgB,6BAA6B;AACtD,SAAS,gBAAgB;AACzB,SAAS,2BAA2B,uBAAuB,yBAAyB;AACpF,SAAS,6BAA6B;AACtC,SAAS,sBAAsB,+BAA+B;AAcvD,SAAS,6BAAgE,IAAY,MAAyK,4BAA4B,OAAa;AAE7S,+BAA6B,SAAS,6BAA6B,EAAE,IAAI,MAAM,0BAA0B,CAAqC;AAC/I;AAHgB;AAKT,IAAU;AAAA,CAAV,CAAUA,gCAAV;AACC,WAAS,2BAA+D;AAC9E,WAAO,6BAA6B,SAAS,yBAAyB;AAAA,EACvE;AAFO,EAAAA,4BAAS;AAAA;AAAA,GADA;AAMjB,MAAM,6BAA6B;AAAA,EAlCnC,OAkCmC;AAAA;AAAA;AAAA,EAElC,OAAuB,WAAW,IAAI,6BAA6B;AAAA,EAElD,yBAA6D,CAAC;AAAA,EAE/E,cAAc;AAAA,EACd;AAAA,EAEO,6BAA6B,aAAqD;AACxF,SAAK,uBAAuB,KAAK,WAAW;AAAA,EAC7C;AAAA,EAEO,2BAA+D;AACrE,WAAO,KAAK,uBAAuB,MAAM,CAAC;AAAA,EAC3C;AACD;AAEA,IAAW,aAAX,kBAAWC,gBAAX;AACC,EAAAA,YAAA,2BAAwB;AADd,SAAAA;AAAA,GAAA;AAIX,SAAS,IAAI,sDAAkC,6BAA6B,QAAQ;",
  "names": ["TerminalExtensionsRegistry", "Extensions"]
}
