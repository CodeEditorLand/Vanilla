{
  "version": 3,
  "sources": ["../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/contrib/terminal/browser/terminalQuickAccess.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { matchesFuzzy } from \"../../../../base/common/filters.js\";\nimport { ThemeIcon } from \"../../../../base/common/themables.js\";\nimport { localize } from \"../../../../nls.js\";\nimport { ICommandService } from \"../../../../platform/commands/common/commands.js\";\nimport { IInstantiationService } from \"../../../../platform/instantiation/common/instantiation.js\";\nimport {\n\ttype IPickerQuickAccessItem,\n\tPickerQuickAccessProvider,\n\tTriggerAction,\n} from \"../../../../platform/quickinput/browser/pickerQuickAccess.js\";\nimport type { IQuickPickSeparator } from \"../../../../platform/quickinput/common/quickInput.js\";\nimport { TerminalLocation } from \"../../../../platform/terminal/common/terminal.js\";\nimport { IThemeService } from \"../../../../platform/theme/common/themeService.js\";\nimport { IEditorService } from \"../../../services/editor/common/editorService.js\";\nimport { TerminalCommandId } from \"../common/terminal.js\";\nimport { terminalStrings } from \"../common/terminalStrings.js\";\nimport {\n\tITerminalEditorService,\n\tITerminalGroupService,\n\ttype ITerminalInstance,\n\tITerminalService,\n} from \"./terminal.js\";\nimport { getColorClass, getIconId, getUriClasses } from \"./terminalIcon.js\";\nimport { killTerminalIcon, renameTerminalIcon } from \"./terminalIcons.js\";\nlet terminalPicks: Array<IPickerQuickAccessItem | IQuickPickSeparator> = [];\n\nexport class TerminalQuickAccessProvider extends PickerQuickAccessProvider<IPickerQuickAccessItem> {\n\tstatic PREFIX = \"term \";\n\n\tconstructor(\n\t\t@IEditorService private readonly _editorService: IEditorService,\n\t\t@ITerminalService private readonly _terminalService: ITerminalService,\n\t\t@ITerminalEditorService private readonly _terminalEditorService: ITerminalEditorService,\n\t\t@ITerminalGroupService private readonly _terminalGroupService: ITerminalGroupService,\n\t\t@ICommandService private readonly _commandService: ICommandService,\n\t\t@IThemeService private readonly _themeService: IThemeService,\n\t\t@IInstantiationService private readonly _instantiationService: IInstantiationService\n\t) {\n\t\tsuper(TerminalQuickAccessProvider.PREFIX, { canAcceptInBackground: true });\n\t}\n\tprotected _getPicks(\n\t\tfilter: string,\n\t): Array<IPickerQuickAccessItem | IQuickPickSeparator> {\n\t\tterminalPicks = [];\n\t\tterminalPicks.push({ type: \"separator\", label: \"panel\" });\n\t\tconst terminalGroups = this._terminalGroupService.groups;\n\t\tfor (\n\t\t\tlet groupIndex = 0;\n\t\t\tgroupIndex < terminalGroups.length;\n\t\t\tgroupIndex++\n\t\t) {\n\t\t\tconst terminalGroup = terminalGroups[groupIndex];\n\t\t\tfor (\n\t\t\t\tlet terminalIndex = 0;\n\t\t\t\tterminalIndex < terminalGroup.terminalInstances.length;\n\t\t\t\tterminalIndex++\n\t\t\t) {\n\t\t\t\tconst terminal = terminalGroup.terminalInstances[terminalIndex];\n\t\t\t\tconst pick = this._createPick(terminal, terminalIndex, filter, {\n\t\t\t\t\tgroupIndex,\n\t\t\t\t\tgroupSize: terminalGroup.terminalInstances.length,\n\t\t\t\t});\n\t\t\t\tif (pick) {\n\t\t\t\t\tterminalPicks.push(pick);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (terminalPicks.length > 0) {\n\t\t\tterminalPicks.push({ type: \"separator\", label: \"editor\" });\n\t\t}\n\n\t\tconst terminalEditors = this._terminalEditorService.instances;\n\t\tfor (\n\t\t\tlet editorIndex = 0;\n\t\t\teditorIndex < terminalEditors.length;\n\t\t\teditorIndex++\n\t\t) {\n\t\t\tconst term = terminalEditors[editorIndex];\n\t\t\tterm.target = TerminalLocation.Editor;\n\t\t\tconst pick = this._createPick(term, editorIndex, filter);\n\t\t\tif (pick) {\n\t\t\t\tterminalPicks.push(pick);\n\t\t\t}\n\t\t}\n\n\t\tif (terminalPicks.length > 0) {\n\t\t\tterminalPicks.push({ type: \"separator\" });\n\t\t}\n\n\t\tconst createTerminalLabel = localize(\n\t\t\t\"workbench.action.terminal.newplus\",\n\t\t\t\"Create New Terminal\",\n\t\t);\n\t\tterminalPicks.push({\n\t\t\tlabel: `$(plus) ${createTerminalLabel}`,\n\t\t\tariaLabel: createTerminalLabel,\n\t\t\taccept: () =>\n\t\t\t\tthis._commandService.executeCommand(TerminalCommandId.New),\n\t\t});\n\t\tconst createWithProfileLabel = localize(\n\t\t\t\"workbench.action.terminal.newWithProfilePlus\",\n\t\t\t\"Create New Terminal With Profile...\",\n\t\t);\n\t\tterminalPicks.push({\n\t\t\tlabel: `$(plus) ${createWithProfileLabel}`,\n\t\t\tariaLabel: createWithProfileLabel,\n\t\t\taccept: () =>\n\t\t\t\tthis._commandService.executeCommand(\n\t\t\t\t\tTerminalCommandId.NewWithProfile,\n\t\t\t\t),\n\t\t});\n\t\treturn terminalPicks;\n\t}\n\n\tprivate _createPick(\n\t\tterminal: ITerminalInstance,\n\t\tterminalIndex: number,\n\t\tfilter: string,\n\t\tgroupInfo?: { groupIndex: number; groupSize: number },\n\t): IPickerQuickAccessItem | undefined {\n\t\tconst iconId = this._instantiationService.invokeFunction(\n\t\t\tgetIconId,\n\t\t\tterminal,\n\t\t);\n\t\tconst index = groupInfo\n\t\t\t? groupInfo.groupSize > 1\n\t\t\t\t? `${groupInfo.groupIndex + 1}.${terminalIndex + 1}`\n\t\t\t\t: `${groupInfo.groupIndex + 1}`\n\t\t\t: `${terminalIndex + 1}`;\n\t\tconst label = `$(${iconId}) ${index}: ${terminal.title}`;\n\t\tconst iconClasses: string[] = [];\n\t\tconst colorClass = getColorClass(terminal);\n\t\tif (colorClass) {\n\t\t\ticonClasses.push(colorClass);\n\t\t}\n\t\tconst uriClasses = getUriClasses(\n\t\t\tterminal,\n\t\t\tthis._themeService.getColorTheme().type,\n\t\t);\n\t\tif (uriClasses) {\n\t\t\ticonClasses.push(...uriClasses);\n\t\t}\n\t\tconst highlights = matchesFuzzy(filter, label, true);\n\t\tif (highlights) {\n\t\t\treturn {\n\t\t\t\tlabel,\n\t\t\t\tdescription: terminal.description,\n\t\t\t\thighlights: { label: highlights },\n\t\t\t\tbuttons: [\n\t\t\t\t\t{\n\t\t\t\t\t\ticonClass: ThemeIcon.asClassName(renameTerminalIcon),\n\t\t\t\t\t\ttooltip: localize(\"renameTerminal\", \"Rename Terminal\"),\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ticonClass: ThemeIcon.asClassName(killTerminalIcon),\n\t\t\t\t\t\ttooltip: terminalStrings.kill.value,\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t\ticonClasses,\n\t\t\t\ttrigger: (buttonIndex) => {\n\t\t\t\t\tswitch (buttonIndex) {\n\t\t\t\t\t\tcase 0:\n\t\t\t\t\t\t\tthis._commandService.executeCommand(\n\t\t\t\t\t\t\t\tTerminalCommandId.Rename,\n\t\t\t\t\t\t\t\tterminal,\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\treturn TriggerAction.NO_ACTION;\n\t\t\t\t\t\tcase 1:\n\t\t\t\t\t\t\tthis._terminalService.safeDisposeTerminal(terminal);\n\t\t\t\t\t\t\treturn TriggerAction.REMOVE_ITEM;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn TriggerAction.NO_ACTION;\n\t\t\t\t},\n\t\t\t\taccept: (keyMod, event) => {\n\t\t\t\t\tif (terminal.target === TerminalLocation.Editor) {\n\t\t\t\t\t\tconst existingEditors = this._editorService.findEditors(\n\t\t\t\t\t\t\tterminal.resource,\n\t\t\t\t\t\t);\n\t\t\t\t\t\tthis._terminalEditorService.openEditor(terminal, {\n\t\t\t\t\t\t\tviewColumn: existingEditors?.[0].groupId,\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthis._terminalEditorService.setActiveInstance(terminal);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis._terminalGroupService.showPanel(\n\t\t\t\t\t\t\t!event.inBackground,\n\t\t\t\t\t\t);\n\t\t\t\t\t\tthis._terminalGroupService.setActiveInstance(terminal);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t};\n\t\t}\n\t\treturn undefined;\n\t}\n}\n"],
  "mappings": "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",
  "names": []
}
