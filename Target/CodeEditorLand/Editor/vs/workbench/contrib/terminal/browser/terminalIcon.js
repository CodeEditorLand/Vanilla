import{createStyleSheet as m}from"../../../../base/browser/dom.js";import{hash as p}from"../../../../base/common/hash.js";import{DisposableStore as d}from"../../../../base/common/lifecycle.js";import{ThemeIcon as g}from"../../../../base/common/themables.js";import{URI as l}from"../../../../base/common/uri.js";import{getIconRegistry as u}from"../../../../platform/theme/common/iconRegistry.js";import{ColorScheme as I}from"../../../../platform/theme/common/theme.js";import{ITerminalProfileResolverService as h}from"../common/terminal.js";import{ansiColorMap as C}from"../common/terminalColorRegistry.js";function f(e){let o;if(typeof e=="string"?o=e:e.color?o=e.color.replace(/\./g,"_"):g.isThemeIcon(e.icon)&&e.icon.color&&(o=e.icon.color.id.replace(/\./g,"_")),o)return`terminal-icon-${o.replace(/\./g,"_")}`}function a(e){const o=[];for(const r in C)e.getColor(r)&&!r.toLowerCase().includes("bright")&&o.push(r);return o}function j(e){const o=new d,r=a(e),n=m(void 0,void 0,o);let i="";for(const t of r){const s=f(t),c=e.getColor(t);c&&(i+=`.monaco-workbench .${s} .codicon:first-child:not(.codicon-split-horizontal):not(.codicon-trashcan):not(.file-icon){ color: ${c} !important; }`)}return n.textContent=i,o}function k(e,o){const r=a(e);let n="";for(const i of r){const t=f(i),s=e.getColor(i);s&&(o?n+=`.monaco-workbench .show-file-icons .predefined-file-icon.terminal-tab.${t}::before,.monaco-workbench .show-file-icons .file-icon.terminal-tab.${t}::before{ color: ${s} !important; }`:n+=`.monaco-workbench .${t} .codicon:first-child:not(.codicon-split-horizontal):not(.codicon-trashcan):not(.file-icon){ color: ${s} !important; }`)}return n}function v(e,o,r){const n=e.icon;if(!n)return;const i=[];let t;if(r){if(typeof n=="string"&&(n.startsWith("$(")||u().getIcon(n)))return i;typeof n=="string"&&(t=l.parse(n))}if(n instanceof l?t=n:n instanceof Object&&"light"in n&&"dark"in n&&(t=o===I.LIGHT?n.light:n.dark),t instanceof l){const c=`terminal-uri-icon-${p(t.path).toString(36)}`;i.push(c),i.push("terminal-uri-icon")}return i}function D(e,o){return!o.icon||o.icon instanceof Object&&!("id"in o.icon)?e.get(h).getDefaultIcon().id:typeof o.icon=="string"?o.icon:o.icon.id}export{j as createColorStyleElement,f as getColorClass,k as getColorStyleContent,D as getIconId,a as getStandardColors,v as getUriClasses};
