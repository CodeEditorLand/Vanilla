import{createStyleSheet as m}from"../../../../../vs/base/browser/dom.js";import{hash as d}from"../../../../../vs/base/common/hash.js";import{DisposableStore as p}from"../../../../../vs/base/common/lifecycle.js";import{ThemeIcon as g}from"../../../../../vs/base/common/themables.js";import{URI as l}from"../../../../../vs/base/common/uri.js";import"../../../../../vs/platform/instantiation/common/instantiation.js";import"../../../../../vs/platform/terminal/common/terminal.js";import{getIconRegistry as u}from"../../../../../vs/platform/theme/common/iconRegistry.js";import{ColorScheme as I}from"../../../../../vs/platform/theme/common/theme.js";import"../../../../../vs/platform/theme/common/themeService.js";import"../../../../../vs/workbench/contrib/terminal/browser/terminal.js";import{ITerminalProfileResolverService as h}from"../../../../../vs/workbench/contrib/terminal/common/terminal.js";import{ansiColorMap as C}from"../../../../../vs/workbench/contrib/terminal/common/terminalColorRegistry.js";function f(e){let o;if(typeof e=="string"?o=e:e.color?o=e.color.replace(/\./g,"_"):g.isThemeIcon(e.icon)&&e.icon.color&&(o=e.icon.color.id.replace(/\./g,"_")),o)return`terminal-icon-${o.replace(/\./g,"_")}`}function a(e){const o=[];for(const t in C)e.getColor(t)&&!t.toLowerCase().includes("bright")&&o.push(t);return o}function G(e){const o=new p,t=a(e),n=m(void 0,void 0,o);let r="";for(const i of t){const c=f(i),s=e.getColor(i);s&&(r+=`.monaco-workbench .${c} .codicon:first-child:not(.codicon-split-horizontal):not(.codicon-trashcan):not(.file-icon){ color: ${s} !important; }`)}return n.textContent=r,o}function H(e,o){const t=a(e);let n="";for(const r of t){const i=f(r),c=e.getColor(r);c&&(o?n+=`.monaco-workbench .show-file-icons .predefined-file-icon.terminal-tab.${i}::before,.monaco-workbench .show-file-icons .file-icon.terminal-tab.${i}::before{ color: ${c} !important; }`:n+=`.monaco-workbench .${i} .codicon:first-child:not(.codicon-split-horizontal):not(.codicon-trashcan):not(.file-icon){ color: ${c} !important; }`)}return n}function M(e,o,t){const n=e.icon;if(!n)return;const r=[];let i;if(t){if(typeof n=="string"&&(n.startsWith("$(")||u().getIcon(n)))return r;typeof n=="string"&&(i=l.parse(n))}if(n instanceof l?i=n:n instanceof Object&&"light"in n&&"dark"in n&&(i=o===I.LIGHT?n.light:n.dark),i instanceof l){const s=`terminal-uri-icon-${d(i.path).toString(36)}`;r.push(s),r.push("terminal-uri-icon")}return r}function N(e,o){return!o.icon||o.icon instanceof Object&&!("id"in o.icon)?e.get(h).getDefaultIcon().id:typeof o.icon=="string"?o.icon:o.icon.id}export{G as createColorStyleElement,f as getColorClass,H as getColorStyleContent,N as getIconId,a as getStandardColors,M as getUriClasses};
