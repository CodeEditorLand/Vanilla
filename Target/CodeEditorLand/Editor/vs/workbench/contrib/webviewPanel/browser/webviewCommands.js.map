{
  "version": 3,
  "sources": ["../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/contrib/webviewPanel/browser/webviewCommands.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { KeyCode, KeyMod } from \"../../../../base/common/keyCodes.js\";\nimport { EditorContextKeys } from \"../../../../editor/common/editorContextKeys.js\";\nimport * as nls from \"../../../../nls.js\";\nimport { Categories } from \"../../../../platform/action/common/actionCommonCategories.js\";\nimport {\n\tAction2,\n\tMenuId,\n} from \"../../../../platform/actions/common/actions.js\";\nimport { ContextKeyExpr } from \"../../../../platform/contextkey/common/contextkey.js\";\nimport type { ServicesAccessor } from \"../../../../platform/instantiation/common/instantiation.js\";\nimport { KeybindingWeight } from \"../../../../platform/keybinding/common/keybindingsRegistry.js\";\nimport { IEditorService } from \"../../../services/editor/common/editorService.js\";\nimport {\n\ttype IWebview,\n\tIWebviewService,\n\tKEYBINDING_CONTEXT_WEBVIEW_FIND_WIDGET_ENABLED,\n\tKEYBINDING_CONTEXT_WEBVIEW_FIND_WIDGET_FOCUSED,\n\tKEYBINDING_CONTEXT_WEBVIEW_FIND_WIDGET_VISIBLE,\n} from \"../../webview/browser/webview.js\";\nimport { WebviewEditor } from \"./webviewEditor.js\";\nimport { WebviewInput } from \"./webviewEditorInput.js\";\n\nconst webviewActiveContextKeyExpr = ContextKeyExpr.and(\n\tContextKeyExpr.equals(\"activeEditor\", WebviewEditor.ID),\n\tEditorContextKeys.focus.toNegated() /* https://github.com/microsoft/vscode/issues/58668 */,\n)!;\n\nexport class ShowWebViewEditorFindWidgetAction extends Action2 {\n\tpublic static readonly ID = \"editor.action.webvieweditor.showFind\";\n\tpublic static readonly LABEL = nls.localize(\n\t\t\"editor.action.webvieweditor.showFind\",\n\t\t\"Show find\",\n\t);\n\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: ShowWebViewEditorFindWidgetAction.ID,\n\t\t\ttitle: ShowWebViewEditorFindWidgetAction.LABEL,\n\t\t\tkeybinding: {\n\t\t\t\twhen: ContextKeyExpr.and(\n\t\t\t\t\twebviewActiveContextKeyExpr,\n\t\t\t\t\tKEYBINDING_CONTEXT_WEBVIEW_FIND_WIDGET_ENABLED,\n\t\t\t\t),\n\t\t\t\tprimary: KeyMod.CtrlCmd | KeyCode.KeyF,\n\t\t\t\tweight: KeybindingWeight.EditorContrib,\n\t\t\t},\n\t\t});\n\t}\n\n\tpublic run(accessor: ServicesAccessor): void {\n\t\tgetActiveWebviewEditor(accessor)?.showFind();\n\t}\n}\n\nexport class HideWebViewEditorFindCommand extends Action2 {\n\tpublic static readonly ID = \"editor.action.webvieweditor.hideFind\";\n\tpublic static readonly LABEL = nls.localize(\n\t\t\"editor.action.webvieweditor.hideFind\",\n\t\t\"Stop find\",\n\t);\n\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: HideWebViewEditorFindCommand.ID,\n\t\t\ttitle: HideWebViewEditorFindCommand.LABEL,\n\t\t\tkeybinding: {\n\t\t\t\twhen: ContextKeyExpr.and(\n\t\t\t\t\twebviewActiveContextKeyExpr,\n\t\t\t\t\tKEYBINDING_CONTEXT_WEBVIEW_FIND_WIDGET_VISIBLE,\n\t\t\t\t),\n\t\t\t\tprimary: KeyCode.Escape,\n\t\t\t\tweight: KeybindingWeight.EditorContrib,\n\t\t\t},\n\t\t});\n\t}\n\n\tpublic run(accessor: ServicesAccessor): void {\n\t\tgetActiveWebviewEditor(accessor)?.hideFind();\n\t}\n}\n\nexport class WebViewEditorFindNextCommand extends Action2 {\n\tpublic static readonly ID = \"editor.action.webvieweditor.findNext\";\n\tpublic static readonly LABEL = nls.localize(\n\t\t\"editor.action.webvieweditor.findNext\",\n\t\t\"Find next\",\n\t);\n\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: WebViewEditorFindNextCommand.ID,\n\t\t\ttitle: WebViewEditorFindNextCommand.LABEL,\n\t\t\tkeybinding: {\n\t\t\t\twhen: ContextKeyExpr.and(\n\t\t\t\t\twebviewActiveContextKeyExpr,\n\t\t\t\t\tKEYBINDING_CONTEXT_WEBVIEW_FIND_WIDGET_FOCUSED,\n\t\t\t\t),\n\t\t\t\tprimary: KeyCode.Enter,\n\t\t\t\tweight: KeybindingWeight.EditorContrib,\n\t\t\t},\n\t\t});\n\t}\n\n\tpublic run(accessor: ServicesAccessor): void {\n\t\tgetActiveWebviewEditor(accessor)?.runFindAction(false);\n\t}\n}\n\nexport class WebViewEditorFindPreviousCommand extends Action2 {\n\tpublic static readonly ID = \"editor.action.webvieweditor.findPrevious\";\n\tpublic static readonly LABEL = nls.localize(\n\t\t\"editor.action.webvieweditor.findPrevious\",\n\t\t\"Find previous\",\n\t);\n\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: WebViewEditorFindPreviousCommand.ID,\n\t\t\ttitle: WebViewEditorFindPreviousCommand.LABEL,\n\t\t\tkeybinding: {\n\t\t\t\twhen: ContextKeyExpr.and(\n\t\t\t\t\twebviewActiveContextKeyExpr,\n\t\t\t\t\tKEYBINDING_CONTEXT_WEBVIEW_FIND_WIDGET_FOCUSED,\n\t\t\t\t),\n\t\t\t\tprimary: KeyMod.Shift | KeyCode.Enter,\n\t\t\t\tweight: KeybindingWeight.EditorContrib,\n\t\t\t},\n\t\t});\n\t}\n\n\tpublic run(accessor: ServicesAccessor): void {\n\t\tgetActiveWebviewEditor(accessor)?.runFindAction(true);\n\t}\n}\n\nexport class ReloadWebviewAction extends Action2 {\n\tstatic readonly ID = \"workbench.action.webview.reloadWebviewAction\";\n\tstatic readonly LABEL = nls.localize2(\n\t\t\"refreshWebviewLabel\",\n\t\t\"Reload Webviews\",\n\t);\n\n\tpublic constructor() {\n\t\tsuper({\n\t\t\tid: ReloadWebviewAction.ID,\n\t\t\ttitle: ReloadWebviewAction.LABEL,\n\t\t\tcategory: Categories.Developer,\n\t\t\tmenu: [\n\t\t\t\t{\n\t\t\t\t\tid: MenuId.CommandPalette,\n\t\t\t\t},\n\t\t\t],\n\t\t});\n\t}\n\n\tpublic async run(accessor: ServicesAccessor): Promise<void> {\n\t\tconst webviewService = accessor.get(IWebviewService);\n\t\tfor (const webview of webviewService.webviews) {\n\t\t\twebview.reload();\n\t\t}\n\t}\n}\n\nfunction getActiveWebviewEditor(\n\taccessor: ServicesAccessor,\n): IWebview | undefined {\n\tconst editorService = accessor.get(IEditorService);\n\tconst activeEditor = editorService.activeEditor;\n\treturn activeEditor instanceof WebviewInput\n\t\t? activeEditor.webview\n\t\t: undefined;\n}\n"],
  "mappings": ";;AAKA,SAAS,SAAS,cAAc;AAChC,SAAS,yBAAyB;AAClC,YAAY,SAAS;AACrB,SAAS,kBAAkB;AAC3B;AAAA,EACC;AAAA,EACA;AAAA,OACM;AACP,SAAS,sBAAsB;AAE/B,SAAS,wBAAwB;AACjC,SAAS,sBAAsB;AAC/B;AAAA,EAEC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,OACM;AACP,SAAS,qBAAqB;AAC9B,SAAS,oBAAoB;AAE7B,MAAM,8BAA8B,eAAe;AAAA,EAClD,eAAe,OAAO,gBAAgB,cAAc,EAAE;AAAA,EACtD,kBAAkB,MAAM,UAAU;AACnC;AAEO,MAAM,0CAA0C,QAAQ;AAAA,EAhC/D,OAgC+D;AAAA;AAAA;AAAA,EAC9D,OAAuB,KAAK;AAAA,EAC5B,OAAuB,QAAQ,IAAI;AAAA,IAClC;AAAA,IACA;AAAA,EACD;AAAA,EAEA,cAAc;AACb,UAAM;AAAA,MACL,IAAI,kCAAkC;AAAA,MACtC,OAAO,kCAAkC;AAAA,MACzC,YAAY;AAAA,QACX,MAAM,eAAe;AAAA,UACpB;AAAA,UACA;AAAA,QACD;AAAA,QACA,SAAS,OAAO,UAAU,QAAQ;AAAA,QAClC,QAAQ,iBAAiB;AAAA,MAC1B;AAAA,IACD,CAAC;AAAA,EACF;AAAA,EAEO,IAAI,UAAkC;AAC5C,2BAAuB,QAAQ,GAAG,SAAS;AAAA,EAC5C;AACD;AAEO,MAAM,qCAAqC,QAAQ;AAAA,EA3D1D,OA2D0D;AAAA;AAAA;AAAA,EACzD,OAAuB,KAAK;AAAA,EAC5B,OAAuB,QAAQ,IAAI;AAAA,IAClC;AAAA,IACA;AAAA,EACD;AAAA,EAEA,cAAc;AACb,UAAM;AAAA,MACL,IAAI,6BAA6B;AAAA,MACjC,OAAO,6BAA6B;AAAA,MACpC,YAAY;AAAA,QACX,MAAM,eAAe;AAAA,UACpB;AAAA,UACA;AAAA,QACD;AAAA,QACA,SAAS,QAAQ;AAAA,QACjB,QAAQ,iBAAiB;AAAA,MAC1B;AAAA,IACD,CAAC;AAAA,EACF;AAAA,EAEO,IAAI,UAAkC;AAC5C,2BAAuB,QAAQ,GAAG,SAAS;AAAA,EAC5C;AACD;AAEO,MAAM,qCAAqC,QAAQ;AAAA,EAtF1D,OAsF0D;AAAA;AAAA;AAAA,EACzD,OAAuB,KAAK;AAAA,EAC5B,OAAuB,QAAQ,IAAI;AAAA,IAClC;AAAA,IACA;AAAA,EACD;AAAA,EAEA,cAAc;AACb,UAAM;AAAA,MACL,IAAI,6BAA6B;AAAA,MACjC,OAAO,6BAA6B;AAAA,MACpC,YAAY;AAAA,QACX,MAAM,eAAe;AAAA,UACpB;AAAA,UACA;AAAA,QACD;AAAA,QACA,SAAS,QAAQ;AAAA,QACjB,QAAQ,iBAAiB;AAAA,MAC1B;AAAA,IACD,CAAC;AAAA,EACF;AAAA,EAEO,IAAI,UAAkC;AAC5C,2BAAuB,QAAQ,GAAG,cAAc,KAAK;AAAA,EACtD;AACD;AAEO,MAAM,yCAAyC,QAAQ;AAAA,EAjH9D,OAiH8D;AAAA;AAAA;AAAA,EAC7D,OAAuB,KAAK;AAAA,EAC5B,OAAuB,QAAQ,IAAI;AAAA,IAClC;AAAA,IACA;AAAA,EACD;AAAA,EAEA,cAAc;AACb,UAAM;AAAA,MACL,IAAI,iCAAiC;AAAA,MACrC,OAAO,iCAAiC;AAAA,MACxC,YAAY;AAAA,QACX,MAAM,eAAe;AAAA,UACpB;AAAA,UACA;AAAA,QACD;AAAA,QACA,SAAS,OAAO,QAAQ,QAAQ;AAAA,QAChC,QAAQ,iBAAiB;AAAA,MAC1B;AAAA,IACD,CAAC;AAAA,EACF;AAAA,EAEO,IAAI,UAAkC;AAC5C,2BAAuB,QAAQ,GAAG,cAAc,IAAI;AAAA,EACrD;AACD;AAEO,MAAM,4BAA4B,QAAQ;AAAA,EA5IjD,OA4IiD;AAAA;AAAA;AAAA,EAChD,OAAgB,KAAK;AAAA,EACrB,OAAgB,QAAQ,IAAI;AAAA,IAC3B;AAAA,IACA;AAAA,EACD;AAAA,EAEO,cAAc;AACpB,UAAM;AAAA,MACL,IAAI,oBAAoB;AAAA,MACxB,OAAO,oBAAoB;AAAA,MAC3B,UAAU,WAAW;AAAA,MACrB,MAAM;AAAA,QACL;AAAA,UACC,IAAI,OAAO;AAAA,QACZ;AAAA,MACD;AAAA,IACD,CAAC;AAAA,EACF;AAAA,EAEA,MAAa,IAAI,UAA2C;AAC3D,UAAM,iBAAiB,SAAS,IAAI,eAAe;AACnD,eAAW,WAAW,eAAe,UAAU;AAC9C,cAAQ,OAAO;AAAA,IAChB;AAAA,EACD;AACD;AAEA,SAAS,uBACR,UACuB;AACvB,QAAM,gBAAgB,SAAS,IAAI,cAAc;AACjD,QAAM,eAAe,cAAc;AACnC,SAAO,wBAAwB,eAC5B,aAAa,UACb;AACJ;AARS;",
  "names": []
}
