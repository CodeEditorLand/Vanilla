{
  "version": 3,
  "sources": ["../../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/contrib/files/browser/views/openEditorsView.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport './media/openeditors.css';\nimport * as nls from '../../../../../nls.js';\nimport { RunOnceScheduler } from '../../../../../base/common/async.js';\nimport { IAction, ActionRunner, WorkbenchActionExecutedEvent, WorkbenchActionExecutedClassification } from '../../../../../base/common/actions.js';\nimport * as dom from '../../../../../base/browser/dom.js';\nimport { IContextMenuService } from '../../../../../platform/contextview/browser/contextView.js';\nimport { IInstantiationService, ServicesAccessor } from '../../../../../platform/instantiation/common/instantiation.js';\nimport { IEditorGroupsService, IEditorGroup, GroupsOrder, GroupOrientation } from '../../../../services/editor/common/editorGroupsService.js';\nimport { IConfigurationService, IConfigurationChangeEvent } from '../../../../../platform/configuration/common/configuration.js';\nimport { IKeybindingService } from '../../../../../platform/keybinding/common/keybinding.js';\nimport { Verbosity, EditorResourceAccessor, SideBySideEditor, IEditorIdentifier, GroupModelChangeKind, preventEditorClose, EditorCloseMethod } from '../../../../common/editor.js';\nimport { EditorInput } from '../../../../common/editor/editorInput.js';\nimport { SaveAllInGroupAction, CloseGroupAction } from '../fileActions.js';\nimport { OpenEditorsFocusedContext, ExplorerFocusedContext, IFilesConfiguration, OpenEditor } from '../../common/files.js';\nimport { CloseAllEditorsAction, CloseEditorAction, UnpinEditorAction } from '../../../../browser/parts/editor/editorActions.js';\nimport { IContextKeyService, ContextKeyExpr } from '../../../../../platform/contextkey/common/contextkey.js';\nimport { IThemeService } from '../../../../../platform/theme/common/themeService.js';\nimport { asCssVariable, badgeBackground, badgeForeground, contrastBorder } from '../../../../../platform/theme/common/colorRegistry.js';\nimport { WorkbenchList } from '../../../../../platform/list/browser/listService.js';\nimport { IListVirtualDelegate, IListRenderer, IListContextMenuEvent, IListDragAndDrop, IListDragOverReaction, ListDragOverEffectPosition, ListDragOverEffectType } from '../../../../../base/browser/ui/list/list.js';\nimport { ResourceLabels, IResourceLabel } from '../../../../browser/labels.js';\nimport { ActionBar } from '../../../../../base/browser/ui/actionbar/actionbar.js';\nimport { ITelemetryService } from '../../../../../platform/telemetry/common/telemetry.js';\nimport { DisposableMap, IDisposable, dispose } from '../../../../../base/common/lifecycle.js';\nimport { MenuId, Action2, registerAction2, MenuRegistry } from '../../../../../platform/actions/common/actions.js';\nimport { OpenEditorsDirtyEditorContext, OpenEditorsGroupContext, OpenEditorsReadonlyEditorContext, SAVE_ALL_LABEL, SAVE_ALL_COMMAND_ID, NEW_UNTITLED_FILE_COMMAND_ID, OpenEditorsSelectedFileOrUntitledContext } from '../fileConstants.js';\nimport { ResourceContextKey, MultipleEditorGroupsContext } from '../../../../common/contextkeys.js';\nimport { CodeDataTransfers, containsDragType } from '../../../../../platform/dnd/browser/dnd.js';\nimport { ResourcesDropHandler, fillEditorsDragData } from '../../../../browser/dnd.js';\nimport { ViewPane } from '../../../../browser/parts/views/viewPane.js';\nimport { IViewletViewOptions } from '../../../../browser/parts/views/viewsViewlet.js';\nimport { IDragAndDropData, DataTransfers } from '../../../../../base/browser/dnd.js';\nimport { memoize } from '../../../../../base/common/decorators.js';\nimport { ElementsDragAndDropData, ListViewTargetSector, NativeDragAndDropData } from '../../../../../base/browser/ui/list/listView.js';\nimport { IWorkingCopyService } from '../../../../services/workingCopy/common/workingCopyService.js';\nimport { IWorkingCopy, WorkingCopyCapabilities } from '../../../../services/workingCopy/common/workingCopy.js';\nimport { IFilesConfigurationService } from '../../../../services/filesConfiguration/common/filesConfigurationService.js';\nimport { IViewDescriptorService } from '../../../../common/views.js';\nimport { IOpenerService } from '../../../../../platform/opener/common/opener.js';\nimport { Orientation } from '../../../../../base/browser/ui/splitview/splitview.js';\nimport { IListAccessibilityProvider } from '../../../../../base/browser/ui/list/listWidget.js';\nimport { compareFileNamesDefault } from '../../../../../base/common/comparers.js';\nimport { Codicon } from '../../../../../base/common/codicons.js';\nimport { KeyCode, KeyMod } from '../../../../../base/common/keyCodes.js';\nimport { KeybindingWeight } from '../../../../../platform/keybinding/common/keybindingsRegistry.js';\nimport { ICommandService } from '../../../../../platform/commands/common/commands.js';\nimport { Schemas } from '../../../../../base/common/network.js';\nimport { extUriIgnorePathCase } from '../../../../../base/common/resources.js';\nimport { ILocalizedString } from '../../../../../platform/action/common/action.js';\nimport { mainWindow } from '../../../../../base/browser/window.js';\nimport { EditorGroupView } from '../../../../browser/parts/editor/editorGroupView.js';\nimport { IHoverService } from '../../../../../platform/hover/browser/hover.js';\nimport { IFileService } from '../../../../../platform/files/common/files.js';\n\nconst $ = dom.$;\n\nexport class OpenEditorsView extends ViewPane {\n\n\tprivate static readonly DEFAULT_VISIBLE_OPEN_EDITORS = 9;\n\tprivate static readonly DEFAULT_MIN_VISIBLE_OPEN_EDITORS = 0;\n\tstatic readonly ID = 'workbench.explorer.openEditorsView';\n\tstatic readonly NAME: ILocalizedString = nls.localize2({ key: 'openEditors', comment: ['Open is an adjective'] }, \"Open Editors\");\n\n\tprivate dirtyCountElement!: HTMLElement;\n\tprivate listRefreshScheduler: RunOnceScheduler | undefined;\n\tprivate structuralRefreshDelay: number;\n\tprivate dnd: OpenEditorsDragAndDrop | undefined;\n\tprivate list: WorkbenchList<OpenEditor | IEditorGroup> | undefined;\n\tprivate listLabels: ResourceLabels | undefined;\n\tprivate needsRefresh = false;\n\tprivate elements: (OpenEditor | IEditorGroup)[] = [];\n\tprivate sortOrder: 'editorOrder' | 'alphabetical' | 'fullPath';\n\tprivate blockFocusActiveEditorTracking = false;\n\n\tconstructor(\n\t\toptions: IViewletViewOptions,\n\t\t@IInstantiationService instantiationService: IInstantiationService,\n\t\t@IViewDescriptorService viewDescriptorService: IViewDescriptorService,\n\t\t@IContextMenuService contextMenuService: IContextMenuService,\n\t\t@IEditorGroupsService private readonly editorGroupService: IEditorGroupsService,\n\t\t@IConfigurationService configurationService: IConfigurationService,\n\t\t@IKeybindingService keybindingService: IKeybindingService,\n\t\t@IContextKeyService contextKeyService: IContextKeyService,\n\t\t@IThemeService themeService: IThemeService,\n\t\t@ITelemetryService telemetryService: ITelemetryService,\n\t\t@IHoverService hoverService: IHoverService,\n\t\t@IWorkingCopyService private readonly workingCopyService: IWorkingCopyService,\n\t\t@IFilesConfigurationService private readonly filesConfigurationService: IFilesConfigurationService,\n\t\t@IOpenerService openerService: IOpenerService,\n\t\t@IFileService private readonly fileService: IFileService\n\t) {\n\t\tsuper(options, keybindingService, contextMenuService, configurationService, contextKeyService, viewDescriptorService, instantiationService, openerService, themeService, telemetryService, hoverService);\n\n\t\tthis.structuralRefreshDelay = 0;\n\t\tthis.sortOrder = configurationService.getValue('explorer.openEditors.sortOrder');\n\n\t\tthis.registerUpdateEvents();\n\n\t\t// Also handle configuration updates\n\t\tthis._register(this.configurationService.onDidChangeConfiguration(e => this.onConfigurationChange(e)));\n\n\t\t// Handle dirty counter\n\t\tthis._register(this.workingCopyService.onDidChangeDirty(workingCopy => this.updateDirtyIndicator(workingCopy)));\n\t}\n\n\tprivate registerUpdateEvents(): void {\n\t\tconst updateWholeList = () => {\n\t\t\tif (!this.isBodyVisible() || !this.list) {\n\t\t\t\tthis.needsRefresh = true;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.listRefreshScheduler?.schedule(this.structuralRefreshDelay);\n\t\t};\n\n\t\tconst groupDisposables = this._register(new DisposableMap<number>());\n\t\tconst addGroupListener = (group: IEditorGroup) => {\n\t\t\tconst groupModelChangeListener = group.onDidModelChange(e => {\n\t\t\t\tif (this.listRefreshScheduler?.isScheduled()) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (!this.isBodyVisible() || !this.list) {\n\t\t\t\t\tthis.needsRefresh = true;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst index = this.getIndex(group, e.editor);\n\t\t\t\tswitch (e.kind) {\n\t\t\t\t\tcase GroupModelChangeKind.EDITOR_ACTIVE:\n\t\t\t\t\t\tthis.focusActiveEditor();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase GroupModelChangeKind.GROUP_INDEX:\n\t\t\t\t\tcase GroupModelChangeKind.GROUP_LABEL:\n\t\t\t\t\t\tif (index >= 0) {\n\t\t\t\t\t\t\tthis.list.splice(index, 1, [group]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase GroupModelChangeKind.EDITOR_DIRTY:\n\t\t\t\t\tcase GroupModelChangeKind.EDITOR_STICKY:\n\t\t\t\t\tcase GroupModelChangeKind.EDITOR_CAPABILITIES:\n\t\t\t\t\tcase GroupModelChangeKind.EDITOR_PIN:\n\t\t\t\t\tcase GroupModelChangeKind.EDITOR_LABEL:\n\t\t\t\t\t\tthis.list.splice(index, 1, [new OpenEditor(e.editor!, group)]);\n\t\t\t\t\t\tthis.focusActiveEditor();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase GroupModelChangeKind.EDITOR_OPEN:\n\t\t\t\t\tcase GroupModelChangeKind.EDITOR_MOVE:\n\t\t\t\t\tcase GroupModelChangeKind.EDITOR_CLOSE:\n\t\t\t\t\t\tupdateWholeList();\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t});\n\t\t\tgroupDisposables.set(group.id, groupModelChangeListener);\n\t\t};\n\n\t\tthis.editorGroupService.groups.forEach(g => addGroupListener(g));\n\t\tthis._register(this.editorGroupService.onDidAddGroup(group => {\n\t\t\taddGroupListener(group);\n\t\t\tupdateWholeList();\n\t\t}));\n\t\tthis._register(this.editorGroupService.onDidMoveGroup(() => updateWholeList()));\n\t\tthis._register(this.editorGroupService.onDidChangeActiveGroup(() => this.focusActiveEditor()));\n\t\tthis._register(this.editorGroupService.onDidRemoveGroup(group => {\n\t\t\tgroupDisposables.deleteAndDispose(group.id);\n\t\t\tupdateWholeList();\n\t\t}));\n\t}\n\n\tprotected override renderHeaderTitle(container: HTMLElement): void {\n\t\tsuper.renderHeaderTitle(container, this.title);\n\n\t\tconst count = dom.append(container, $('.open-editors-dirty-count-container'));\n\t\tthis.dirtyCountElement = dom.append(count, $('.dirty-count.monaco-count-badge.long'));\n\n\t\tthis.dirtyCountElement.style.backgroundColor = asCssVariable(badgeBackground);\n\t\tthis.dirtyCountElement.style.color = asCssVariable(badgeForeground);\n\t\tthis.dirtyCountElement.style.border = `1px solid ${asCssVariable(contrastBorder)}`;\n\n\t\tthis.updateDirtyIndicator();\n\t}\n\n\tprotected override renderBody(container: HTMLElement): void {\n\t\tsuper.renderBody(container);\n\n\t\tcontainer.classList.add('open-editors');\n\t\tcontainer.classList.add('show-file-icons');\n\n\t\tconst delegate = new OpenEditorsDelegate();\n\n\t\tif (this.list) {\n\t\t\tthis.list.dispose();\n\t\t}\n\t\tif (this.listLabels) {\n\t\t\tthis.listLabels.clear();\n\t\t}\n\n\t\tthis.dnd = new OpenEditorsDragAndDrop(this.sortOrder, this.instantiationService, this.editorGroupService);\n\n\t\tthis.listLabels = this.instantiationService.createInstance(ResourceLabels, { onDidChangeVisibility: this.onDidChangeBodyVisibility });\n\t\tthis.list = this.instantiationService.createInstance(WorkbenchList, 'OpenEditors', container, delegate, [\n\t\t\tnew EditorGroupRenderer(this.keybindingService, this.instantiationService),\n\t\t\tnew OpenEditorRenderer(this.listLabels, this.instantiationService, this.keybindingService, this.configurationService)\n\t\t], {\n\t\t\tidentityProvider: { getId: (element: OpenEditor | IEditorGroup) => element instanceof OpenEditor ? element.getId() : element.id.toString() },\n\t\t\tdnd: this.dnd,\n\t\t\toverrideStyles: this.getLocationBasedColors().listOverrideStyles,\n\t\t\taccessibilityProvider: new OpenEditorsAccessibilityProvider()\n\t\t}) as WorkbenchList<OpenEditor | IEditorGroup>;\n\t\tthis._register(this.list);\n\t\tthis._register(this.listLabels);\n\n\t\t// Register the refresh scheduler\n\t\tlet labelChangeListeners: IDisposable[] = [];\n\t\tthis.listRefreshScheduler = this._register(new RunOnceScheduler(() => {\n\t\t\t// No need to refresh the list if it's not rendered\n\t\t\tif (!this.list) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlabelChangeListeners = dispose(labelChangeListeners);\n\t\t\tconst previousLength = this.list.length;\n\t\t\tconst elements = this.getElements();\n\t\t\tthis.list.splice(0, this.list.length, elements);\n\t\t\tthis.focusActiveEditor();\n\t\t\tif (previousLength !== this.list.length) {\n\t\t\t\tthis.updateSize();\n\t\t\t}\n\t\t\tthis.needsRefresh = false;\n\n\t\t\tif (this.sortOrder === 'alphabetical' || this.sortOrder === 'fullPath') {\n\t\t\t\t// We need to resort the list if the editor label changed\n\t\t\t\telements.forEach(e => {\n\t\t\t\t\tif (e instanceof OpenEditor) {\n\t\t\t\t\t\tlabelChangeListeners.push(e.editor.onDidChangeLabel(() => this.listRefreshScheduler?.schedule()));\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}, this.structuralRefreshDelay));\n\n\t\tthis.updateSize();\n\n\t\tthis.handleContextKeys();\n\t\tthis._register(this.list.onContextMenu(e => this.onListContextMenu(e)));\n\n\t\t// Open when selecting via keyboard\n\t\tthis._register(this.list.onMouseMiddleClick(e => {\n\t\t\tif (e && e.element instanceof OpenEditor) {\n\t\t\t\tif (preventEditorClose(e.element.group, e.element.editor, EditorCloseMethod.MOUSE, this.editorGroupService.partOptions)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\te.element.group.closeEditor(e.element.editor, { preserveFocus: true });\n\t\t\t}\n\t\t}));\n\t\tthis._register(this.list.onDidOpen(e => {\n\t\t\tconst element = e.element;\n\t\t\tif (!element) {\n\t\t\t\treturn;\n\t\t\t} else if (element instanceof OpenEditor) {\n\t\t\t\tif (dom.isMouseEvent(e.browserEvent) && e.browserEvent.button === 1) {\n\t\t\t\t\treturn; // middle click already handled above: closes the editor\n\t\t\t\t}\n\n\t\t\t\tthis.withActiveEditorFocusTrackingDisabled(() => {\n\t\t\t\t\tthis.openEditor(element, { preserveFocus: e.editorOptions.preserveFocus, pinned: e.editorOptions.pinned, sideBySide: e.sideBySide });\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthis.withActiveEditorFocusTrackingDisabled(() => {\n\t\t\t\t\tthis.editorGroupService.activateGroup(element);\n\t\t\t\t\tif (!e.editorOptions.preserveFocus) {\n\t\t\t\t\t\telement.focus();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}));\n\n\t\tthis.listRefreshScheduler.schedule(0);\n\n\t\tthis._register(this.onDidChangeBodyVisibility(visible => {\n\t\t\tif (visible && this.needsRefresh) {\n\t\t\t\tthis.listRefreshScheduler?.schedule(0);\n\t\t\t}\n\t\t}));\n\n\t\tconst containerModel = this.viewDescriptorService.getViewContainerModel(this.viewDescriptorService.getViewContainerByViewId(this.id)!)!;\n\t\tthis._register(containerModel.onDidChangeAllViewDescriptors(() => {\n\t\t\tthis.updateSize();\n\t\t}));\n\t}\n\n\tprivate handleContextKeys() {\n\t\tif (!this.list) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Bind context keys\n\t\tOpenEditorsFocusedContext.bindTo(this.list.contextKeyService);\n\t\tExplorerFocusedContext.bindTo(this.list.contextKeyService);\n\n\t\tconst groupFocusedContext = OpenEditorsGroupContext.bindTo(this.contextKeyService);\n\t\tconst dirtyEditorFocusedContext = OpenEditorsDirtyEditorContext.bindTo(this.contextKeyService);\n\t\tconst readonlyEditorFocusedContext = OpenEditorsReadonlyEditorContext.bindTo(this.contextKeyService);\n\t\tconst openEditorsSelectedFileOrUntitledContext = OpenEditorsSelectedFileOrUntitledContext.bindTo(this.contextKeyService);\n\n\t\tconst resourceContext = this.instantiationService.createInstance(ResourceContextKey);\n\t\tthis._register(resourceContext);\n\n\t\tthis._register(this.list.onDidChangeFocus(e => {\n\t\t\tresourceContext.reset();\n\t\t\tgroupFocusedContext.reset();\n\t\t\tdirtyEditorFocusedContext.reset();\n\t\t\treadonlyEditorFocusedContext.reset();\n\n\t\t\tconst element = e.elements.length ? e.elements[0] : undefined;\n\t\t\tif (element instanceof OpenEditor) {\n\t\t\t\tconst resource = element.getResource();\n\t\t\t\tdirtyEditorFocusedContext.set(element.editor.isDirty() && !element.editor.isSaving());\n\t\t\t\treadonlyEditorFocusedContext.set(!!element.editor.isReadonly());\n\t\t\t\tresourceContext.set(resource ?? null);\n\t\t\t} else if (!!element) {\n\t\t\t\tgroupFocusedContext.set(true);\n\t\t\t}\n\t\t}));\n\n\t\tthis._register(this.list.onDidChangeSelection(e => {\n\t\t\tconst selectedAreFileOrUntitled = e.elements.every(e => {\n\t\t\t\tif (e instanceof OpenEditor) {\n\t\t\t\t\tconst resource = e.getResource();\n\t\t\t\t\treturn resource && (resource.scheme === Schemas.untitled || this.fileService.hasProvider(resource));\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t});\n\t\t\topenEditorsSelectedFileOrUntitledContext.set(selectedAreFileOrUntitled);\n\t\t}));\n\t}\n\n\toverride focus(): void {\n\t\tsuper.focus();\n\n\t\tthis.list?.domFocus();\n\t}\n\n\tprotected override layoutBody(height: number, width: number): void {\n\t\tsuper.layoutBody(height, width);\n\t\tthis.list?.layout(height, width);\n\t}\n\n\tprivate get showGroups(): boolean {\n\t\treturn this.editorGroupService.groups.length > 1;\n\t}\n\n\tprivate getElements(): Array<IEditorGroup | OpenEditor> {\n\t\tthis.elements = [];\n\t\tthis.editorGroupService.getGroups(GroupsOrder.GRID_APPEARANCE).forEach(g => {\n\t\t\tif (this.showGroups) {\n\t\t\t\tthis.elements.push(g);\n\t\t\t}\n\t\t\tlet editors = g.editors.map(ei => new OpenEditor(ei, g));\n\t\t\tif (this.sortOrder === 'alphabetical') {\n\t\t\t\teditors = editors.sort((first, second) => compareFileNamesDefault(first.editor.getName(), second.editor.getName()));\n\t\t\t} else if (this.sortOrder === 'fullPath') {\n\t\t\t\teditors = editors.sort((first, second) => {\n\t\t\t\t\tconst firstResource = first.editor.resource;\n\t\t\t\t\tconst secondResource = second.editor.resource;\n\t\t\t\t\t//put 'system' editors before everything\n\t\t\t\t\tif (firstResource === undefined && secondResource === undefined) {\n\t\t\t\t\t\treturn compareFileNamesDefault(first.editor.getName(), second.editor.getName());\n\t\t\t\t\t} else if (firstResource === undefined) {\n\t\t\t\t\t\treturn -1;\n\t\t\t\t\t} else if (secondResource === undefined) {\n\t\t\t\t\t\treturn 1;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconst firstScheme = firstResource.scheme;\n\t\t\t\t\t\tconst secondScheme = secondResource.scheme;\n\t\t\t\t\t\t//put non-file editors before files\n\t\t\t\t\t\tif (firstScheme !== Schemas.file && secondScheme !== Schemas.file) {\n\t\t\t\t\t\t\treturn extUriIgnorePathCase.compare(firstResource, secondResource);\n\t\t\t\t\t\t} else if (firstScheme !== Schemas.file) {\n\t\t\t\t\t\t\treturn -1;\n\t\t\t\t\t\t} else if (secondScheme !== Schemas.file) {\n\t\t\t\t\t\t\treturn 1;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn extUriIgnorePathCase.compare(firstResource, secondResource);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\tthis.elements.push(...editors);\n\t\t});\n\n\t\treturn this.elements;\n\t}\n\n\tprivate getIndex(group: IEditorGroup, editor: EditorInput | undefined | null): number {\n\t\tif (!editor) {\n\t\t\treturn this.elements.findIndex(e => !(e instanceof OpenEditor) && e.id === group.id);\n\t\t}\n\n\t\treturn this.elements.findIndex(e => e instanceof OpenEditor && e.editor === editor && e.group.id === group.id);\n\t}\n\n\tprivate openEditor(element: OpenEditor, options: { preserveFocus?: boolean; pinned?: boolean; sideBySide?: boolean }): void {\n\t\tif (element) {\n\t\t\tthis.telemetryService.publicLog2<WorkbenchActionExecutedEvent, WorkbenchActionExecutedClassification>('workbenchActionExecuted', { id: 'workbench.files.openFile', from: 'openEditors' });\n\n\t\t\tconst preserveActivateGroup = options.sideBySide && options.preserveFocus; // needed for https://github.com/microsoft/vscode/issues/42399\n\t\t\tif (!preserveActivateGroup) {\n\t\t\t\tthis.editorGroupService.activateGroup(element.group); // needed for https://github.com/microsoft/vscode/issues/6672\n\t\t\t}\n\t\t\tconst targetGroup = options.sideBySide ? this.editorGroupService.sideGroup : element.group;\n\t\t\ttargetGroup.openEditor(element.editor, options);\n\t\t}\n\t}\n\n\tprivate onListContextMenu(e: IListContextMenuEvent<OpenEditor | IEditorGroup>): void {\n\t\tif (!e.element) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst element = e.element;\n\n\t\tthis.contextMenuService.showContextMenu({\n\t\t\tmenuId: MenuId.OpenEditorsContext,\n\t\t\tmenuActionOptions: { shouldForwardArgs: true, arg: element instanceof OpenEditor ? EditorResourceAccessor.getOriginalUri(element.editor) : {} },\n\t\t\tcontextKeyService: this.list?.contextKeyService,\n\t\t\tgetAnchor: () => e.anchor,\n\t\t\tgetActionsContext: () => element instanceof OpenEditor ? { groupId: element.groupId, editorIndex: element.group.getIndexOfEditor(element.editor) } : { groupId: element.id }\n\t\t});\n\t}\n\n\tprivate withActiveEditorFocusTrackingDisabled(fn: () => void): void {\n\t\tthis.blockFocusActiveEditorTracking = true;\n\t\ttry {\n\t\t\tfn();\n\t\t} finally {\n\t\t\tthis.blockFocusActiveEditorTracking = false;\n\t\t}\n\t}\n\n\tprivate focusActiveEditor(): void {\n\t\tif (!this.list || this.blockFocusActiveEditorTracking) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.list.length && this.editorGroupService.activeGroup) {\n\t\t\tconst index = this.getIndex(this.editorGroupService.activeGroup, this.editorGroupService.activeGroup.activeEditor);\n\t\t\tif (index >= 0) {\n\t\t\t\ttry {\n\t\t\t\t\tthis.list.setFocus([index]);\n\t\t\t\t\tthis.list.setSelection([index]);\n\t\t\t\t\tthis.list.reveal(index);\n\t\t\t\t} catch (e) {\n\t\t\t\t\t// noop list updated in the meantime\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tthis.list.setFocus([]);\n\t\tthis.list.setSelection([]);\n\t}\n\n\tprivate onConfigurationChange(event: IConfigurationChangeEvent): void {\n\t\tif (event.affectsConfiguration('explorer.openEditors')) {\n\t\t\tthis.updateSize();\n\t\t}\n\t\t// Trigger a 'repaint' when decoration settings change or the sort order changed\n\t\tif (event.affectsConfiguration('explorer.decorations') || event.affectsConfiguration('explorer.openEditors.sortOrder')) {\n\t\t\tthis.sortOrder = this.configurationService.getValue('explorer.openEditors.sortOrder');\n\t\t\tif (this.dnd) {\n\t\t\t\tthis.dnd.sortOrder = this.sortOrder;\n\t\t\t}\n\t\t\tthis.listRefreshScheduler?.schedule();\n\t\t}\n\t}\n\n\tprivate updateSize(): void {\n\t\t// Adjust expanded body size\n\t\tthis.minimumBodySize = this.orientation === Orientation.VERTICAL ? this.getMinExpandedBodySize() : 170;\n\t\tthis.maximumBodySize = this.orientation === Orientation.VERTICAL ? this.getMaxExpandedBodySize() : Number.POSITIVE_INFINITY;\n\t}\n\n\tprivate updateDirtyIndicator(workingCopy?: IWorkingCopy): void {\n\t\tif (workingCopy) {\n\t\t\tconst gotDirty = workingCopy.isDirty();\n\t\t\tif (gotDirty && !(workingCopy.capabilities & WorkingCopyCapabilities.Untitled) && this.filesConfigurationService.hasShortAutoSaveDelay(workingCopy.resource)) {\n\t\t\t\treturn; // do not indicate dirty of working copies that are auto saved after short delay\n\t\t\t}\n\t\t}\n\n\t\tconst dirty = this.workingCopyService.dirtyCount;\n\t\tif (dirty === 0) {\n\t\t\tthis.dirtyCountElement.classList.add('hidden');\n\t\t} else {\n\t\t\tthis.dirtyCountElement.textContent = nls.localize('dirtyCounter', \"{0} unsaved\", dirty);\n\t\t\tthis.dirtyCountElement.classList.remove('hidden');\n\t\t}\n\t}\n\n\tprivate get elementCount(): number {\n\t\treturn this.editorGroupService.groups.map(g => g.count)\n\t\t\t.reduce((first, second) => first + second, this.showGroups ? this.editorGroupService.groups.length : 0);\n\t}\n\n\tprivate getMaxExpandedBodySize(): number {\n\t\tlet minVisibleOpenEditors = this.configurationService.getValue<number>('explorer.openEditors.minVisible');\n\t\t// If it's not a number setting it to 0 will result in dynamic resizing.\n\t\tif (typeof minVisibleOpenEditors !== 'number') {\n\t\t\tminVisibleOpenEditors = OpenEditorsView.DEFAULT_MIN_VISIBLE_OPEN_EDITORS;\n\t\t}\n\t\tconst containerModel = this.viewDescriptorService.getViewContainerModel(this.viewDescriptorService.getViewContainerByViewId(this.id)!)!;\n\t\tif (containerModel.visibleViewDescriptors.length <= 1) {\n\t\t\treturn Number.POSITIVE_INFINITY;\n\t\t}\n\n\t\treturn (Math.max(this.elementCount, minVisibleOpenEditors)) * OpenEditorsDelegate.ITEM_HEIGHT;\n\t}\n\n\tprivate getMinExpandedBodySize(): number {\n\t\tlet visibleOpenEditors = this.configurationService.getValue<number>('explorer.openEditors.visible');\n\t\tif (typeof visibleOpenEditors !== 'number') {\n\t\t\tvisibleOpenEditors = OpenEditorsView.DEFAULT_VISIBLE_OPEN_EDITORS;\n\t\t}\n\n\t\treturn this.computeMinExpandedBodySize(visibleOpenEditors);\n\t}\n\n\tprivate computeMinExpandedBodySize(visibleOpenEditors = OpenEditorsView.DEFAULT_VISIBLE_OPEN_EDITORS): number {\n\t\tconst itemsToShow = Math.min(Math.max(visibleOpenEditors, 1), this.elementCount);\n\t\treturn itemsToShow * OpenEditorsDelegate.ITEM_HEIGHT;\n\t}\n\n\tsetStructuralRefreshDelay(delay: number): void {\n\t\tthis.structuralRefreshDelay = delay;\n\t}\n\n\toverride getOptimalWidth(): number {\n\t\tif (!this.list) {\n\t\t\treturn super.getOptimalWidth();\n\t\t}\n\n\t\tconst parentNode = this.list.getHTMLElement();\n\t\tconst childNodes: HTMLElement[] = [].slice.call(parentNode.querySelectorAll('.open-editor > a'));\n\n\t\treturn dom.getLargestChildWidth(parentNode, childNodes);\n\t}\n}\n\ninterface IOpenEditorTemplateData {\n\tcontainer: HTMLElement;\n\troot: IResourceLabel;\n\tactionBar: ActionBar;\n\tactionRunner: OpenEditorActionRunner;\n}\n\ninterface IEditorGroupTemplateData {\n\troot: HTMLElement;\n\tname: HTMLSpanElement;\n\tactionBar: ActionBar;\n\teditorGroup: IEditorGroup;\n}\n\nclass OpenEditorActionRunner extends ActionRunner {\n\tpublic editor: OpenEditor | undefined;\n\n\toverride async run(action: IAction): Promise<void> {\n\t\tif (!this.editor) {\n\t\t\treturn;\n\t\t}\n\n\t\treturn super.run(action, { groupId: this.editor.groupId, editorIndex: this.editor.group.getIndexOfEditor(this.editor.editor) });\n\t}\n}\n\nclass OpenEditorsDelegate implements IListVirtualDelegate<OpenEditor | IEditorGroup> {\n\n\tpublic static readonly ITEM_HEIGHT = 22;\n\n\tgetHeight(_element: OpenEditor | IEditorGroup): number {\n\t\treturn OpenEditorsDelegate.ITEM_HEIGHT;\n\t}\n\n\tgetTemplateId(element: OpenEditor | IEditorGroup): string {\n\t\tif (element instanceof OpenEditor) {\n\t\t\treturn OpenEditorRenderer.ID;\n\t\t}\n\n\t\treturn EditorGroupRenderer.ID;\n\t}\n}\n\nclass EditorGroupRenderer implements IListRenderer<IEditorGroup, IEditorGroupTemplateData> {\n\tstatic readonly ID = 'editorgroup';\n\n\tconstructor(\n\t\tprivate keybindingService: IKeybindingService,\n\t\tprivate instantiationService: IInstantiationService,\n\t) {\n\t\t// noop\n\t}\n\n\tget templateId() {\n\t\treturn EditorGroupRenderer.ID;\n\t}\n\n\trenderTemplate(container: HTMLElement): IEditorGroupTemplateData {\n\t\tconst editorGroupTemplate: IEditorGroupTemplateData = Object.create(null);\n\t\teditorGroupTemplate.root = dom.append(container, $('.editor-group'));\n\t\teditorGroupTemplate.name = dom.append(editorGroupTemplate.root, $('span.name'));\n\t\teditorGroupTemplate.actionBar = new ActionBar(container);\n\n\t\tconst saveAllInGroupAction = this.instantiationService.createInstance(SaveAllInGroupAction, SaveAllInGroupAction.ID, SaveAllInGroupAction.LABEL);\n\t\tconst saveAllInGroupKey = this.keybindingService.lookupKeybinding(saveAllInGroupAction.id);\n\t\teditorGroupTemplate.actionBar.push(saveAllInGroupAction, { icon: true, label: false, keybinding: saveAllInGroupKey ? saveAllInGroupKey.getLabel() : undefined });\n\n\t\tconst closeGroupAction = this.instantiationService.createInstance(CloseGroupAction, CloseGroupAction.ID, CloseGroupAction.LABEL);\n\t\tconst closeGroupActionKey = this.keybindingService.lookupKeybinding(closeGroupAction.id);\n\t\teditorGroupTemplate.actionBar.push(closeGroupAction, { icon: true, label: false, keybinding: closeGroupActionKey ? closeGroupActionKey.getLabel() : undefined });\n\n\t\treturn editorGroupTemplate;\n\t}\n\n\trenderElement(editorGroup: IEditorGroup, _index: number, templateData: IEditorGroupTemplateData): void {\n\t\ttemplateData.editorGroup = editorGroup;\n\t\ttemplateData.name.textContent = editorGroup.label;\n\t\ttemplateData.actionBar.context = { groupId: editorGroup.id };\n\t}\n\n\tdisposeTemplate(templateData: IEditorGroupTemplateData): void {\n\t\ttemplateData.actionBar.dispose();\n\t}\n}\n\nclass OpenEditorRenderer implements IListRenderer<OpenEditor, IOpenEditorTemplateData> {\n\tstatic readonly ID = 'openeditor';\n\n\tprivate readonly closeEditorAction = this.instantiationService.createInstance(CloseEditorAction, CloseEditorAction.ID, CloseEditorAction.LABEL);\n\tprivate readonly unpinEditorAction = this.instantiationService.createInstance(UnpinEditorAction, UnpinEditorAction.ID, UnpinEditorAction.LABEL);\n\n\tconstructor(\n\t\tprivate labels: ResourceLabels,\n\t\tprivate instantiationService: IInstantiationService,\n\t\tprivate keybindingService: IKeybindingService,\n\t\tprivate configurationService: IConfigurationService\n\t) {\n\t\t// noop\n\t}\n\n\tget templateId() {\n\t\treturn OpenEditorRenderer.ID;\n\t}\n\n\trenderTemplate(container: HTMLElement): IOpenEditorTemplateData {\n\t\tconst editorTemplate: IOpenEditorTemplateData = Object.create(null);\n\t\teditorTemplate.container = container;\n\t\teditorTemplate.actionRunner = new OpenEditorActionRunner();\n\t\teditorTemplate.actionBar = new ActionBar(container, { actionRunner: editorTemplate.actionRunner });\n\t\teditorTemplate.root = this.labels.create(container);\n\n\t\treturn editorTemplate;\n\t}\n\n\trenderElement(openedEditor: OpenEditor, _index: number, templateData: IOpenEditorTemplateData): void {\n\t\tconst editor = openedEditor.editor;\n\t\ttemplateData.actionRunner.editor = openedEditor;\n\t\ttemplateData.container.classList.toggle('dirty', editor.isDirty() && !editor.isSaving());\n\t\ttemplateData.container.classList.toggle('sticky', openedEditor.isSticky());\n\t\ttemplateData.root.setResource({\n\t\t\tresource: EditorResourceAccessor.getOriginalUri(editor, { supportSideBySide: SideBySideEditor.BOTH }),\n\t\t\tname: editor.getName(),\n\t\t\tdescription: editor.getDescription(Verbosity.MEDIUM)\n\t\t}, {\n\t\t\titalic: openedEditor.isPreview(),\n\t\t\textraClasses: ['open-editor'].concat(openedEditor.editor.getLabelExtraClasses()),\n\t\t\tfileDecorations: this.configurationService.getValue<IFilesConfiguration>().explorer.decorations,\n\t\t\ttitle: editor.getTitle(Verbosity.LONG),\n\t\t\ticon: editor.getIcon()\n\t\t});\n\t\tconst editorAction = openedEditor.isSticky() ? this.unpinEditorAction : this.closeEditorAction;\n\t\tif (!templateData.actionBar.hasAction(editorAction)) {\n\t\t\tif (!templateData.actionBar.isEmpty()) {\n\t\t\t\ttemplateData.actionBar.clear();\n\t\t\t}\n\t\t\ttemplateData.actionBar.push(editorAction, { icon: true, label: false, keybinding: this.keybindingService.lookupKeybinding(editorAction.id)?.getLabel() });\n\t\t}\n\t}\n\n\tdisposeTemplate(templateData: IOpenEditorTemplateData): void {\n\t\ttemplateData.actionBar.dispose();\n\t\ttemplateData.root.dispose();\n\t\ttemplateData.actionRunner.dispose();\n\t}\n}\n\nclass OpenEditorsDragAndDrop implements IListDragAndDrop<OpenEditor | IEditorGroup> {\n\n\tprivate _sortOrder: 'editorOrder' | 'alphabetical' | 'fullPath';\n\tpublic set sortOrder(value: 'editorOrder' | 'alphabetical' | 'fullPath') {\n\t\tthis._sortOrder = value;\n\t}\n\n\tconstructor(\n\t\tsortOrder: 'editorOrder' | 'alphabetical' | 'fullPath',\n\t\tprivate instantiationService: IInstantiationService,\n\t\tprivate editorGroupService: IEditorGroupsService\n\t) {\n\t\tthis._sortOrder = sortOrder;\n\t}\n\n\t@memoize private get dropHandler(): ResourcesDropHandler {\n\t\treturn this.instantiationService.createInstance(ResourcesDropHandler, { allowWorkspaceOpen: false });\n\t}\n\n\tgetDragURI(element: OpenEditor | IEditorGroup): string | null {\n\t\tif (element instanceof OpenEditor) {\n\t\t\tconst resource = element.getResource();\n\t\t\tif (resource) {\n\t\t\t\treturn resource.toString();\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n\n\tgetDragLabel?(elements: (OpenEditor | IEditorGroup)[]): string {\n\t\tif (elements.length > 1) {\n\t\t\treturn String(elements.length);\n\t\t}\n\t\tconst element = elements[0];\n\n\t\treturn element instanceof OpenEditor ? element.editor.getName() : element.label;\n\t}\n\n\tonDragStart(data: IDragAndDropData, originalEvent: DragEvent): void {\n\t\tconst items = (data as ElementsDragAndDropData<OpenEditor | IEditorGroup>).elements;\n\t\tconst editors: IEditorIdentifier[] = [];\n\t\tif (items) {\n\t\t\tfor (const item of items) {\n\t\t\t\tif (item instanceof OpenEditor) {\n\t\t\t\t\teditors.push(item);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (editors.length) {\n\t\t\t// Apply some datatransfer types to allow for dragging the element outside of the application\n\t\t\tthis.instantiationService.invokeFunction(fillEditorsDragData, editors, originalEvent);\n\t\t}\n\t}\n\n\tonDragOver(data: IDragAndDropData, _targetElement: OpenEditor | IEditorGroup, _targetIndex: number, targetSector: ListViewTargetSector | undefined, originalEvent: DragEvent): boolean | IListDragOverReaction {\n\t\tif (data instanceof NativeDragAndDropData) {\n\t\t\tif (!containsDragType(originalEvent, DataTransfers.FILES, CodeDataTransfers.FILES)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tif (this._sortOrder !== 'editorOrder') {\n\t\t\tif (data instanceof ElementsDragAndDropData) {\n\t\t\t\t// No reordering supported when sorted\n\t\t\t\treturn false;\n\t\t\t} else {\n\t\t\t\t// Allow droping files to open them\n\t\t\t\treturn { accept: true, effect: { type: ListDragOverEffectType.Move }, feedback: [-1] };\n\t\t\t}\n\t\t}\n\n\t\tlet dropEffectPosition: ListDragOverEffectPosition | undefined = undefined;\n\t\tswitch (targetSector) {\n\t\t\tcase ListViewTargetSector.TOP:\n\t\t\tcase ListViewTargetSector.CENTER_TOP:\n\t\t\t\tdropEffectPosition = (_targetIndex === 0 && _targetElement instanceof EditorGroupView) ? ListDragOverEffectPosition.After : ListDragOverEffectPosition.Before; break;\n\t\t\tcase ListViewTargetSector.CENTER_BOTTOM:\n\t\t\tcase ListViewTargetSector.BOTTOM:\n\t\t\t\tdropEffectPosition = ListDragOverEffectPosition.After; break;\n\t\t}\n\n\t\treturn { accept: true, effect: { type: ListDragOverEffectType.Move, position: dropEffectPosition }, feedback: [_targetIndex] };\n\t}\n\n\tdrop(data: IDragAndDropData, targetElement: OpenEditor | IEditorGroup | undefined, _targetIndex: number, targetSector: ListViewTargetSector | undefined, originalEvent: DragEvent): void {\n\t\tlet group = targetElement instanceof OpenEditor ? targetElement.group : targetElement || this.editorGroupService.groups[this.editorGroupService.count - 1];\n\t\tlet targetEditorIndex = targetElement instanceof OpenEditor ? targetElement.group.getIndexOfEditor(targetElement.editor) : 0;\n\n\t\tswitch (targetSector) {\n\t\t\tcase ListViewTargetSector.TOP:\n\t\t\tcase ListViewTargetSector.CENTER_TOP:\n\t\t\t\tif (targetElement instanceof EditorGroupView && group.index !== 0) {\n\t\t\t\t\tgroup = this.editorGroupService.groups[group.index - 1];\n\t\t\t\t\ttargetEditorIndex = group.count;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase ListViewTargetSector.BOTTOM:\n\t\t\tcase ListViewTargetSector.CENTER_BOTTOM:\n\t\t\t\tif (targetElement instanceof OpenEditor) {\n\t\t\t\t\ttargetEditorIndex++;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\n\t\tif (data instanceof ElementsDragAndDropData) {\n\t\t\tfor (const oe of data.elements) {\n\t\t\t\tconst sourceEditorIndex = oe.group.getIndexOfEditor(oe.editor);\n\t\t\t\tif (oe.group === group && sourceEditorIndex < targetEditorIndex) {\n\t\t\t\t\ttargetEditorIndex--;\n\t\t\t\t}\n\t\t\t\toe.group.moveEditor(oe.editor, group, { index: targetEditorIndex, preserveFocus: true });\n\t\t\t\ttargetEditorIndex++;\n\t\t\t}\n\t\t\tthis.editorGroupService.activateGroup(group);\n\t\t} else {\n\t\t\tthis.dropHandler.handleDrop(originalEvent, mainWindow, () => group, () => group.focus(), { index: targetEditorIndex });\n\t\t}\n\t}\n\n\tdispose(): void { }\n}\n\nclass OpenEditorsAccessibilityProvider implements IListAccessibilityProvider<OpenEditor | IEditorGroup> {\n\n\tgetWidgetAriaLabel(): string {\n\t\treturn nls.localize('openEditors', \"Open Editors\");\n\t}\n\n\tgetAriaLabel(element: OpenEditor | IEditorGroup): string | null {\n\t\tif (element instanceof OpenEditor) {\n\t\t\treturn `${element.editor.getName()}, ${element.editor.getDescription()}`;\n\t\t}\n\n\t\treturn element.ariaLabel;\n\t}\n}\n\nconst toggleEditorGroupLayoutId = 'workbench.action.toggleEditorGroupLayout';\nregisterAction2(class extends Action2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'workbench.action.toggleEditorGroupLayout',\n\t\t\ttitle: nls.localize2('flipLayout', \"Toggle Vertical/Horizontal Editor Layout\"),\n\t\t\tf1: true,\n\t\t\tkeybinding: {\n\t\t\t\tprimary: KeyMod.Shift | KeyMod.Alt | KeyCode.Digit0,\n\t\t\t\tmac: { primary: KeyMod.CtrlCmd | KeyMod.Alt | KeyCode.Digit0 },\n\t\t\t\tweight: KeybindingWeight.WorkbenchContrib\n\t\t\t},\n\t\t\ticon: Codicon.editorLayout,\n\t\t\tmenu: {\n\t\t\t\tid: MenuId.ViewTitle,\n\t\t\t\tgroup: 'navigation',\n\t\t\t\twhen: ContextKeyExpr.and(ContextKeyExpr.equals('view', OpenEditorsView.ID), MultipleEditorGroupsContext),\n\t\t\t\torder: 10\n\t\t\t}\n\t\t});\n\t}\n\n\tasync run(accessor: ServicesAccessor): Promise<void> {\n\t\tconst editorGroupService = accessor.get(IEditorGroupsService);\n\t\tconst newOrientation = (editorGroupService.orientation === GroupOrientation.VERTICAL) ? GroupOrientation.HORIZONTAL : GroupOrientation.VERTICAL;\n\t\teditorGroupService.setGroupOrientation(newOrientation);\n\t\teditorGroupService.activeGroup.focus();\n\t}\n});\n\nMenuRegistry.appendMenuItem(MenuId.MenubarLayoutMenu, {\n\tgroup: '5_flip',\n\tcommand: {\n\t\tid: toggleEditorGroupLayoutId,\n\t\ttitle: {\n\t\t\t...nls.localize2('miToggleEditorLayoutWithoutMnemonic', \"Flip Layout\"),\n\t\t\tmnemonicTitle: nls.localize({ key: 'miToggleEditorLayout', comment: ['&& denotes a mnemonic'] }, \"Flip &&Layout\")\n\t\t}\n\t},\n\torder: 1\n});\n\nregisterAction2(class extends Action2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'workbench.action.files.saveAll',\n\t\t\ttitle: SAVE_ALL_LABEL,\n\t\t\tf1: true,\n\t\t\ticon: Codicon.saveAll,\n\t\t\tmenu: {\n\t\t\t\tid: MenuId.ViewTitle,\n\t\t\t\tgroup: 'navigation',\n\t\t\t\twhen: ContextKeyExpr.equals('view', OpenEditorsView.ID),\n\t\t\t\torder: 20\n\t\t\t}\n\t\t});\n\t}\n\n\tasync run(accessor: ServicesAccessor): Promise<void> {\n\t\tconst commandService = accessor.get(ICommandService);\n\t\tawait commandService.executeCommand(SAVE_ALL_COMMAND_ID);\n\t}\n});\n\nregisterAction2(class extends Action2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'openEditors.closeAll',\n\t\t\ttitle: CloseAllEditorsAction.LABEL,\n\t\t\tf1: false,\n\t\t\ticon: Codicon.closeAll,\n\t\t\tmenu: {\n\t\t\t\tid: MenuId.ViewTitle,\n\t\t\t\tgroup: 'navigation',\n\t\t\t\twhen: ContextKeyExpr.equals('view', OpenEditorsView.ID),\n\t\t\t\torder: 30\n\t\t\t}\n\t\t});\n\t}\n\n\tasync run(accessor: ServicesAccessor): Promise<void> {\n\t\tconst instantiationService = accessor.get(IInstantiationService);\n\n\t\tconst closeAll = new CloseAllEditorsAction();\n\t\tawait instantiationService.invokeFunction(accessor => closeAll.run(accessor));\n\t}\n});\n\nregisterAction2(class extends Action2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'openEditors.newUntitledFile',\n\t\t\ttitle: nls.localize2('newUntitledFile', \"New Untitled Text File\"),\n\t\t\tf1: false,\n\t\t\ticon: Codicon.newFile,\n\t\t\tmenu: {\n\t\t\t\tid: MenuId.ViewTitle,\n\t\t\t\tgroup: 'navigation',\n\t\t\t\twhen: ContextKeyExpr.equals('view', OpenEditorsView.ID),\n\t\t\t\torder: 5\n\t\t\t}\n\t\t});\n\t}\n\n\tasync run(accessor: ServicesAccessor): Promise<void> {\n\t\tconst commandService = accessor.get(ICommandService);\n\t\tawait commandService.executeCommand(NEW_UNTITLED_FILE_COMMAND_ID);\n\t}\n});\n"],
  "mappings": "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",
  "names": ["e", "accessor"]
}
