{
  "version": 3,
  "sources": ["../../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/contrib/files/browser/views/openEditorsView.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport \"./media/openeditors.css\";\nimport {\n\tDataTransfers,\n\ttype IDragAndDropData,\n} from \"../../../../../base/browser/dnd.js\";\nimport * as dom from \"../../../../../base/browser/dom.js\";\nimport { ActionBar } from \"../../../../../base/browser/ui/actionbar/actionbar.js\";\nimport {\n\ttype IListContextMenuEvent,\n\ttype IListDragAndDrop,\n\ttype IListDragOverReaction,\n\ttype IListRenderer,\n\ttype IListVirtualDelegate,\n\tListDragOverEffectPosition,\n\tListDragOverEffectType,\n} from \"../../../../../base/browser/ui/list/list.js\";\nimport {\n\tElementsDragAndDropData,\n\tListViewTargetSector,\n\tNativeDragAndDropData,\n} from \"../../../../../base/browser/ui/list/listView.js\";\nimport type { IListAccessibilityProvider } from \"../../../../../base/browser/ui/list/listWidget.js\";\nimport { Orientation } from \"../../../../../base/browser/ui/splitview/splitview.js\";\nimport { mainWindow } from \"../../../../../base/browser/window.js\";\nimport {\n\tActionRunner,\n\ttype IAction,\n\ttype WorkbenchActionExecutedClassification,\n\ttype WorkbenchActionExecutedEvent,\n} from \"../../../../../base/common/actions.js\";\nimport { RunOnceScheduler } from \"../../../../../base/common/async.js\";\nimport { Codicon } from \"../../../../../base/common/codicons.js\";\nimport { compareFileNamesDefault } from \"../../../../../base/common/comparers.js\";\nimport { memoize } from \"../../../../../base/common/decorators.js\";\nimport { KeyCode, KeyMod } from \"../../../../../base/common/keyCodes.js\";\nimport {\n\tDisposableMap,\n\ttype IDisposable,\n\tdispose,\n} from \"../../../../../base/common/lifecycle.js\";\nimport { Schemas } from \"../../../../../base/common/network.js\";\nimport { extUriIgnorePathCase } from \"../../../../../base/common/resources.js\";\nimport * as nls from \"../../../../../nls.js\";\nimport type { ILocalizedString } from \"../../../../../platform/action/common/action.js\";\nimport {\n\tAction2,\n\tMenuId,\n\tMenuRegistry,\n\tregisterAction2,\n} from \"../../../../../platform/actions/common/actions.js\";\nimport { ICommandService } from \"../../../../../platform/commands/common/commands.js\";\nimport {\n\ttype IConfigurationChangeEvent,\n\tIConfigurationService,\n} from \"../../../../../platform/configuration/common/configuration.js\";\nimport {\n\tContextKeyExpr,\n\tIContextKeyService,\n} from \"../../../../../platform/contextkey/common/contextkey.js\";\nimport { IContextMenuService } from \"../../../../../platform/contextview/browser/contextView.js\";\nimport {\n\tCodeDataTransfers,\n\tcontainsDragType,\n} from \"../../../../../platform/dnd/browser/dnd.js\";\nimport { IFileService } from \"../../../../../platform/files/common/files.js\";\nimport { IHoverService } from \"../../../../../platform/hover/browser/hover.js\";\nimport {\n\tIInstantiationService,\n\ttype ServicesAccessor,\n} from \"../../../../../platform/instantiation/common/instantiation.js\";\nimport { IKeybindingService } from \"../../../../../platform/keybinding/common/keybinding.js\";\nimport { KeybindingWeight } from \"../../../../../platform/keybinding/common/keybindingsRegistry.js\";\nimport { WorkbenchList } from \"../../../../../platform/list/browser/listService.js\";\nimport { IOpenerService } from \"../../../../../platform/opener/common/opener.js\";\nimport { ITelemetryService } from \"../../../../../platform/telemetry/common/telemetry.js\";\nimport {\n\tasCssVariable,\n\tbadgeBackground,\n\tbadgeForeground,\n\tcontrastBorder,\n} from \"../../../../../platform/theme/common/colorRegistry.js\";\nimport { IThemeService } from \"../../../../../platform/theme/common/themeService.js\";\nimport {\n\tResourcesDropHandler,\n\tfillEditorsDragData,\n} from \"../../../../browser/dnd.js\";\nimport {\n\ttype IResourceLabel,\n\tResourceLabels,\n} from \"../../../../browser/labels.js\";\nimport {\n\tCloseAllEditorsAction,\n\tCloseEditorAction,\n\tUnpinEditorAction,\n} from \"../../../../browser/parts/editor/editorActions.js\";\nimport { EditorGroupView } from \"../../../../browser/parts/editor/editorGroupView.js\";\nimport { ViewPane } from \"../../../../browser/parts/views/viewPane.js\";\nimport type { IViewletViewOptions } from \"../../../../browser/parts/views/viewsViewlet.js\";\nimport {\n\tMultipleEditorGroupsContext,\n\tResourceContextKey,\n} from \"../../../../common/contextkeys.js\";\nimport {\n\tEditorCloseMethod,\n\tEditorResourceAccessor,\n\tGroupModelChangeKind,\n\ttype IEditorIdentifier,\n\tSideBySideEditor,\n\tVerbosity,\n\tpreventEditorClose,\n} from \"../../../../common/editor.js\";\nimport type { EditorInput } from \"../../../../common/editor/editorInput.js\";\nimport { IViewDescriptorService } from \"../../../../common/views.js\";\nimport {\n\tGroupOrientation,\n\tGroupsOrder,\n\ttype IEditorGroup,\n\tIEditorGroupsService,\n} from \"../../../../services/editor/common/editorGroupsService.js\";\nimport { IFilesConfigurationService } from \"../../../../services/filesConfiguration/common/filesConfigurationService.js\";\nimport {\n\ttype IWorkingCopy,\n\tWorkingCopyCapabilities,\n} from \"../../../../services/workingCopy/common/workingCopy.js\";\nimport { IWorkingCopyService } from \"../../../../services/workingCopy/common/workingCopyService.js\";\nimport {\n\tExplorerFocusedContext,\n\ttype IFilesConfiguration,\n\tOpenEditor,\n\tOpenEditorsFocusedContext,\n} from \"../../common/files.js\";\nimport { CloseGroupAction, SaveAllInGroupAction } from \"../fileActions.js\";\nimport {\n\tNEW_UNTITLED_FILE_COMMAND_ID,\n\tOpenEditorsDirtyEditorContext,\n\tOpenEditorsGroupContext,\n\tOpenEditorsReadonlyEditorContext,\n\tOpenEditorsSelectedFileOrUntitledContext,\n\tSAVE_ALL_COMMAND_ID,\n\tSAVE_ALL_LABEL,\n} from \"../fileConstants.js\";\n\nconst $ = dom.$;\n\nexport class OpenEditorsView extends ViewPane {\n\tprivate static readonly DEFAULT_VISIBLE_OPEN_EDITORS = 9;\n\tprivate static readonly DEFAULT_MIN_VISIBLE_OPEN_EDITORS = 0;\n\tstatic readonly ID = \"workbench.explorer.openEditorsView\";\n\tstatic readonly NAME: ILocalizedString = nls.localize2(\n\t\t{ key: \"openEditors\", comment: [\"Open is an adjective\"] },\n\t\t\"Open Editors\",\n\t);\n\n\tprivate dirtyCountElement!: HTMLElement;\n\tprivate listRefreshScheduler: RunOnceScheduler | undefined;\n\tprivate structuralRefreshDelay: number;\n\tprivate dnd: OpenEditorsDragAndDrop | undefined;\n\tprivate list: WorkbenchList<OpenEditor | IEditorGroup> | undefined;\n\tprivate listLabels: ResourceLabels | undefined;\n\tprivate needsRefresh = false;\n\tprivate elements: (OpenEditor | IEditorGroup)[] = [];\n\tprivate sortOrder: \"editorOrder\" | \"alphabetical\" | \"fullPath\";\n\tprivate blockFocusActiveEditorTracking = false;\n\n\tconstructor(\n\t\toptions: IViewletViewOptions,\n\t\t@IInstantiationService instantiationService: IInstantiationService,\n\t\t@IViewDescriptorService viewDescriptorService: IViewDescriptorService,\n\t\t@IContextMenuService contextMenuService: IContextMenuService,\n\t\t@IEditorGroupsService\n\t\tprivate readonly editorGroupService: IEditorGroupsService,\n\t\t@IConfigurationService configurationService: IConfigurationService,\n\t\t@IKeybindingService keybindingService: IKeybindingService,\n\t\t@IContextKeyService contextKeyService: IContextKeyService,\n\t\t@IThemeService themeService: IThemeService,\n\t\t@ITelemetryService telemetryService: ITelemetryService,\n\t\t@IHoverService hoverService: IHoverService,\n\t\t@IWorkingCopyService\n\t\tprivate readonly workingCopyService: IWorkingCopyService,\n\t\t@IFilesConfigurationService\n\t\tprivate readonly filesConfigurationService: IFilesConfigurationService,\n\t\t@IOpenerService openerService: IOpenerService,\n\t\t@IFileService private readonly fileService: IFileService,\n\t) {\n\t\tsuper(\n\t\t\toptions,\n\t\t\tkeybindingService,\n\t\t\tcontextMenuService,\n\t\t\tconfigurationService,\n\t\t\tcontextKeyService,\n\t\t\tviewDescriptorService,\n\t\t\tinstantiationService,\n\t\t\topenerService,\n\t\t\tthemeService,\n\t\t\ttelemetryService,\n\t\t\thoverService,\n\t\t);\n\n\t\tthis.structuralRefreshDelay = 0;\n\t\tthis.sortOrder = configurationService.getValue(\n\t\t\t\"explorer.openEditors.sortOrder\",\n\t\t);\n\n\t\tthis.registerUpdateEvents();\n\n\t\t// Also handle configuration updates\n\t\tthis._register(\n\t\t\tthis.configurationService.onDidChangeConfiguration((e) =>\n\t\t\t\tthis.onConfigurationChange(e),\n\t\t\t),\n\t\t);\n\n\t\t// Handle dirty counter\n\t\tthis._register(\n\t\t\tthis.workingCopyService.onDidChangeDirty((workingCopy) =>\n\t\t\t\tthis.updateDirtyIndicator(workingCopy),\n\t\t\t),\n\t\t);\n\t}\n\n\tprivate registerUpdateEvents(): void {\n\t\tconst updateWholeList = () => {\n\t\t\tif (!this.isBodyVisible() || !this.list) {\n\t\t\t\tthis.needsRefresh = true;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.listRefreshScheduler?.schedule(this.structuralRefreshDelay);\n\t\t};\n\n\t\tconst groupDisposables = this._register(new DisposableMap<number>());\n\t\tconst addGroupListener = (group: IEditorGroup) => {\n\t\t\tconst groupModelChangeListener = group.onDidModelChange((e) => {\n\t\t\t\tif (this.listRefreshScheduler?.isScheduled()) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (!this.isBodyVisible() || !this.list) {\n\t\t\t\t\tthis.needsRefresh = true;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst index = this.getIndex(group, e.editor);\n\t\t\t\tswitch (e.kind) {\n\t\t\t\t\tcase GroupModelChangeKind.EDITOR_ACTIVE:\n\t\t\t\t\t\tthis.focusActiveEditor();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase GroupModelChangeKind.GROUP_INDEX:\n\t\t\t\t\tcase GroupModelChangeKind.GROUP_LABEL:\n\t\t\t\t\t\tif (index >= 0) {\n\t\t\t\t\t\t\tthis.list.splice(index, 1, [group]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase GroupModelChangeKind.EDITOR_DIRTY:\n\t\t\t\t\tcase GroupModelChangeKind.EDITOR_STICKY:\n\t\t\t\t\tcase GroupModelChangeKind.EDITOR_CAPABILITIES:\n\t\t\t\t\tcase GroupModelChangeKind.EDITOR_PIN:\n\t\t\t\t\tcase GroupModelChangeKind.EDITOR_LABEL:\n\t\t\t\t\t\tthis.list.splice(index, 1, [\n\t\t\t\t\t\t\tnew OpenEditor(e.editor!, group),\n\t\t\t\t\t\t]);\n\t\t\t\t\t\tthis.focusActiveEditor();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase GroupModelChangeKind.EDITOR_OPEN:\n\t\t\t\t\tcase GroupModelChangeKind.EDITOR_MOVE:\n\t\t\t\t\tcase GroupModelChangeKind.EDITOR_CLOSE:\n\t\t\t\t\t\tupdateWholeList();\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t});\n\t\t\tgroupDisposables.set(group.id, groupModelChangeListener);\n\t\t};\n\n\t\tthis.editorGroupService.groups.forEach((g) => addGroupListener(g));\n\t\tthis._register(\n\t\t\tthis.editorGroupService.onDidAddGroup((group) => {\n\t\t\t\taddGroupListener(group);\n\t\t\t\tupdateWholeList();\n\t\t\t}),\n\t\t);\n\t\tthis._register(\n\t\t\tthis.editorGroupService.onDidMoveGroup(() => updateWholeList()),\n\t\t);\n\t\tthis._register(\n\t\t\tthis.editorGroupService.onDidChangeActiveGroup(() =>\n\t\t\t\tthis.focusActiveEditor(),\n\t\t\t),\n\t\t);\n\t\tthis._register(\n\t\t\tthis.editorGroupService.onDidRemoveGroup((group) => {\n\t\t\t\tgroupDisposables.deleteAndDispose(group.id);\n\t\t\t\tupdateWholeList();\n\t\t\t}),\n\t\t);\n\t}\n\n\tprotected override renderHeaderTitle(container: HTMLElement): void {\n\t\tsuper.renderHeaderTitle(container, this.title);\n\n\t\tconst count = dom.append(\n\t\t\tcontainer,\n\t\t\t$(\".open-editors-dirty-count-container\"),\n\t\t);\n\t\tthis.dirtyCountElement = dom.append(\n\t\t\tcount,\n\t\t\t$(\".dirty-count.monaco-count-badge.long\"),\n\t\t);\n\n\t\tthis.dirtyCountElement.style.backgroundColor =\n\t\t\tasCssVariable(badgeBackground);\n\t\tthis.dirtyCountElement.style.color = asCssVariable(badgeForeground);\n\t\tthis.dirtyCountElement.style.border = `1px solid ${asCssVariable(contrastBorder)}`;\n\n\t\tthis.updateDirtyIndicator();\n\t}\n\n\tprotected override renderBody(container: HTMLElement): void {\n\t\tsuper.renderBody(container);\n\n\t\tcontainer.classList.add(\"open-editors\");\n\t\tcontainer.classList.add(\"show-file-icons\");\n\n\t\tconst delegate = new OpenEditorsDelegate();\n\n\t\tif (this.list) {\n\t\t\tthis.list.dispose();\n\t\t}\n\t\tif (this.listLabels) {\n\t\t\tthis.listLabels.clear();\n\t\t}\n\n\t\tthis.dnd = new OpenEditorsDragAndDrop(\n\t\t\tthis.sortOrder,\n\t\t\tthis.instantiationService,\n\t\t\tthis.editorGroupService,\n\t\t);\n\n\t\tthis.listLabels = this.instantiationService.createInstance(\n\t\t\tResourceLabels,\n\t\t\t{ onDidChangeVisibility: this.onDidChangeBodyVisibility },\n\t\t);\n\t\tthis.list = this.instantiationService.createInstance(\n\t\t\tWorkbenchList,\n\t\t\t\"OpenEditors\",\n\t\t\tcontainer,\n\t\t\tdelegate,\n\t\t\t[\n\t\t\t\tnew EditorGroupRenderer(\n\t\t\t\t\tthis.keybindingService,\n\t\t\t\t\tthis.instantiationService,\n\t\t\t\t),\n\t\t\t\tnew OpenEditorRenderer(\n\t\t\t\t\tthis.listLabels,\n\t\t\t\t\tthis.instantiationService,\n\t\t\t\t\tthis.keybindingService,\n\t\t\t\t\tthis.configurationService,\n\t\t\t\t),\n\t\t\t],\n\t\t\t{\n\t\t\t\tidentityProvider: {\n\t\t\t\t\tgetId: (element: OpenEditor | IEditorGroup) =>\n\t\t\t\t\t\telement instanceof OpenEditor\n\t\t\t\t\t\t\t? element.getId()\n\t\t\t\t\t\t\t: element.id.toString(),\n\t\t\t\t},\n\t\t\t\tdnd: this.dnd,\n\t\t\t\toverrideStyles:\n\t\t\t\t\tthis.getLocationBasedColors().listOverrideStyles,\n\t\t\t\taccessibilityProvider: new OpenEditorsAccessibilityProvider(),\n\t\t\t},\n\t\t) as WorkbenchList<OpenEditor | IEditorGroup>;\n\t\tthis._register(this.list);\n\t\tthis._register(this.listLabels);\n\n\t\t// Register the refresh scheduler\n\t\tlet labelChangeListeners: IDisposable[] = [];\n\t\tthis.listRefreshScheduler = this._register(\n\t\t\tnew RunOnceScheduler(() => {\n\t\t\t\t// No need to refresh the list if it's not rendered\n\t\t\t\tif (!this.list) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tlabelChangeListeners = dispose(labelChangeListeners);\n\t\t\t\tconst previousLength = this.list.length;\n\t\t\t\tconst elements = this.getElements();\n\t\t\t\tthis.list.splice(0, this.list.length, elements);\n\t\t\t\tthis.focusActiveEditor();\n\t\t\t\tif (previousLength !== this.list.length) {\n\t\t\t\t\tthis.updateSize();\n\t\t\t\t}\n\t\t\t\tthis.needsRefresh = false;\n\n\t\t\t\tif (\n\t\t\t\t\tthis.sortOrder === \"alphabetical\" ||\n\t\t\t\t\tthis.sortOrder === \"fullPath\"\n\t\t\t\t) {\n\t\t\t\t\t// We need to resort the list if the editor label changed\n\t\t\t\t\telements.forEach((e) => {\n\t\t\t\t\t\tif (e instanceof OpenEditor) {\n\t\t\t\t\t\t\tlabelChangeListeners.push(\n\t\t\t\t\t\t\t\te.editor.onDidChangeLabel(() =>\n\t\t\t\t\t\t\t\t\tthis.listRefreshScheduler?.schedule(),\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}, this.structuralRefreshDelay),\n\t\t);\n\n\t\tthis.updateSize();\n\n\t\tthis.handleContextKeys();\n\t\tthis._register(\n\t\t\tthis.list.onContextMenu((e) => this.onListContextMenu(e)),\n\t\t);\n\n\t\t// Open when selecting via keyboard\n\t\tthis._register(\n\t\t\tthis.list.onMouseMiddleClick((e) => {\n\t\t\t\tif (e && e.element instanceof OpenEditor) {\n\t\t\t\t\tif (\n\t\t\t\t\t\tpreventEditorClose(\n\t\t\t\t\t\t\te.element.group,\n\t\t\t\t\t\t\te.element.editor,\n\t\t\t\t\t\t\tEditorCloseMethod.MOUSE,\n\t\t\t\t\t\t\tthis.editorGroupService.partOptions,\n\t\t\t\t\t\t)\n\t\t\t\t\t) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\te.element.group.closeEditor(e.element.editor, {\n\t\t\t\t\t\tpreserveFocus: true,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}),\n\t\t);\n\t\tthis._register(\n\t\t\tthis.list.onDidOpen((e) => {\n\t\t\t\tconst element = e.element;\n\t\t\t\tif (!element) {\n\t\t\t\t\treturn;\n\t\t\t\t} else if (element instanceof OpenEditor) {\n\t\t\t\t\tif (\n\t\t\t\t\t\tdom.isMouseEvent(e.browserEvent) &&\n\t\t\t\t\t\te.browserEvent.button === 1\n\t\t\t\t\t) {\n\t\t\t\t\t\treturn; // middle click already handled above: closes the editor\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.withActiveEditorFocusTrackingDisabled(() => {\n\t\t\t\t\t\tthis.openEditor(element, {\n\t\t\t\t\t\t\tpreserveFocus: e.editorOptions.preserveFocus,\n\t\t\t\t\t\t\tpinned: e.editorOptions.pinned,\n\t\t\t\t\t\t\tsideBySide: e.sideBySide,\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tthis.withActiveEditorFocusTrackingDisabled(() => {\n\t\t\t\t\t\tthis.editorGroupService.activateGroup(element);\n\t\t\t\t\t\tif (!e.editorOptions.preserveFocus) {\n\t\t\t\t\t\t\telement.focus();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}),\n\t\t);\n\n\t\tthis.listRefreshScheduler.schedule(0);\n\n\t\tthis._register(\n\t\t\tthis.onDidChangeBodyVisibility((visible) => {\n\t\t\t\tif (visible && this.needsRefresh) {\n\t\t\t\t\tthis.listRefreshScheduler?.schedule(0);\n\t\t\t\t}\n\t\t\t}),\n\t\t);\n\n\t\tconst containerModel = this.viewDescriptorService.getViewContainerModel(\n\t\t\tthis.viewDescriptorService.getViewContainerByViewId(this.id)!,\n\t\t)!;\n\t\tthis._register(\n\t\t\tcontainerModel.onDidChangeAllViewDescriptors(() => {\n\t\t\t\tthis.updateSize();\n\t\t\t}),\n\t\t);\n\t}\n\n\tprivate handleContextKeys() {\n\t\tif (!this.list) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Bind context keys\n\t\tOpenEditorsFocusedContext.bindTo(this.list.contextKeyService);\n\t\tExplorerFocusedContext.bindTo(this.list.contextKeyService);\n\n\t\tconst groupFocusedContext = OpenEditorsGroupContext.bindTo(\n\t\t\tthis.contextKeyService,\n\t\t);\n\t\tconst dirtyEditorFocusedContext = OpenEditorsDirtyEditorContext.bindTo(\n\t\t\tthis.contextKeyService,\n\t\t);\n\t\tconst readonlyEditorFocusedContext =\n\t\t\tOpenEditorsReadonlyEditorContext.bindTo(this.contextKeyService);\n\t\tconst openEditorsSelectedFileOrUntitledContext =\n\t\t\tOpenEditorsSelectedFileOrUntitledContext.bindTo(\n\t\t\t\tthis.contextKeyService,\n\t\t\t);\n\n\t\tconst resourceContext =\n\t\t\tthis.instantiationService.createInstance(ResourceContextKey);\n\t\tthis._register(resourceContext);\n\n\t\tthis._register(\n\t\t\tthis.list.onDidChangeFocus((e) => {\n\t\t\t\tresourceContext.reset();\n\t\t\t\tgroupFocusedContext.reset();\n\t\t\t\tdirtyEditorFocusedContext.reset();\n\t\t\t\treadonlyEditorFocusedContext.reset();\n\n\t\t\t\tconst element = e.elements.length ? e.elements[0] : undefined;\n\t\t\t\tif (element instanceof OpenEditor) {\n\t\t\t\t\tconst resource = element.getResource();\n\t\t\t\t\tdirtyEditorFocusedContext.set(\n\t\t\t\t\t\telement.editor.isDirty() && !element.editor.isSaving(),\n\t\t\t\t\t);\n\t\t\t\t\treadonlyEditorFocusedContext.set(\n\t\t\t\t\t\t!!element.editor.isReadonly(),\n\t\t\t\t\t);\n\t\t\t\t\tresourceContext.set(resource ?? null);\n\t\t\t\t} else if (!!element) {\n\t\t\t\t\tgroupFocusedContext.set(true);\n\t\t\t\t}\n\t\t\t}),\n\t\t);\n\n\t\tthis._register(\n\t\t\tthis.list.onDidChangeSelection((e) => {\n\t\t\t\tconst selectedAreFileOrUntitled = e.elements.every((e) => {\n\t\t\t\t\tif (e instanceof OpenEditor) {\n\t\t\t\t\t\tconst resource = e.getResource();\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\tresource &&\n\t\t\t\t\t\t\t(resource.scheme === Schemas.untitled ||\n\t\t\t\t\t\t\t\tthis.fileService.hasProvider(resource))\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\treturn false;\n\t\t\t\t});\n\t\t\t\topenEditorsSelectedFileOrUntitledContext.set(\n\t\t\t\t\tselectedAreFileOrUntitled,\n\t\t\t\t);\n\t\t\t}),\n\t\t);\n\t}\n\n\toverride focus(): void {\n\t\tsuper.focus();\n\n\t\tthis.list?.domFocus();\n\t}\n\n\tprotected override layoutBody(height: number, width: number): void {\n\t\tsuper.layoutBody(height, width);\n\t\tthis.list?.layout(height, width);\n\t}\n\n\tprivate get showGroups(): boolean {\n\t\treturn this.editorGroupService.groups.length > 1;\n\t}\n\n\tprivate getElements(): Array<IEditorGroup | OpenEditor> {\n\t\tthis.elements = [];\n\t\tthis.editorGroupService\n\t\t\t.getGroups(GroupsOrder.GRID_APPEARANCE)\n\t\t\t.forEach((g) => {\n\t\t\t\tif (this.showGroups) {\n\t\t\t\t\tthis.elements.push(g);\n\t\t\t\t}\n\t\t\t\tlet editors = g.editors.map((ei) => new OpenEditor(ei, g));\n\t\t\t\tif (this.sortOrder === \"alphabetical\") {\n\t\t\t\t\teditors = editors.sort((first, second) =>\n\t\t\t\t\t\tcompareFileNamesDefault(\n\t\t\t\t\t\t\tfirst.editor.getName(),\n\t\t\t\t\t\t\tsecond.editor.getName(),\n\t\t\t\t\t\t),\n\t\t\t\t\t);\n\t\t\t\t} else if (this.sortOrder === \"fullPath\") {\n\t\t\t\t\teditors = editors.sort((first, second) => {\n\t\t\t\t\t\tconst firstResource = first.editor.resource;\n\t\t\t\t\t\tconst secondResource = second.editor.resource;\n\t\t\t\t\t\t//put 'system' editors before everything\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tfirstResource === undefined &&\n\t\t\t\t\t\t\tsecondResource === undefined\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\treturn compareFileNamesDefault(\n\t\t\t\t\t\t\t\tfirst.editor.getName(),\n\t\t\t\t\t\t\t\tsecond.editor.getName(),\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} else if (firstResource === undefined) {\n\t\t\t\t\t\t\treturn -1;\n\t\t\t\t\t\t} else if (secondResource === undefined) {\n\t\t\t\t\t\t\treturn 1;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconst firstScheme = firstResource.scheme;\n\t\t\t\t\t\t\tconst secondScheme = secondResource.scheme;\n\t\t\t\t\t\t\t//put non-file editors before files\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\tfirstScheme !== Schemas.file &&\n\t\t\t\t\t\t\t\tsecondScheme !== Schemas.file\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\treturn extUriIgnorePathCase.compare(\n\t\t\t\t\t\t\t\t\tfirstResource,\n\t\t\t\t\t\t\t\t\tsecondResource,\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t} else if (firstScheme !== Schemas.file) {\n\t\t\t\t\t\t\t\treturn -1;\n\t\t\t\t\t\t\t} else if (secondScheme !== Schemas.file) {\n\t\t\t\t\t\t\t\treturn 1;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\treturn extUriIgnorePathCase.compare(\n\t\t\t\t\t\t\t\t\tfirstResource,\n\t\t\t\t\t\t\t\t\tsecondResource,\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tthis.elements.push(...editors);\n\t\t\t});\n\n\t\treturn this.elements;\n\t}\n\n\tprivate getIndex(\n\t\tgroup: IEditorGroup,\n\t\teditor: EditorInput | undefined | null,\n\t): number {\n\t\tif (!editor) {\n\t\t\treturn this.elements.findIndex(\n\t\t\t\t(e) => !(e instanceof OpenEditor) && e.id === group.id,\n\t\t\t);\n\t\t}\n\n\t\treturn this.elements.findIndex(\n\t\t\t(e) =>\n\t\t\t\te instanceof OpenEditor &&\n\t\t\t\te.editor === editor &&\n\t\t\t\te.group.id === group.id,\n\t\t);\n\t}\n\n\tprivate openEditor(\n\t\telement: OpenEditor,\n\t\toptions: {\n\t\t\tpreserveFocus?: boolean;\n\t\t\tpinned?: boolean;\n\t\t\tsideBySide?: boolean;\n\t\t},\n\t): void {\n\t\tif (element) {\n\t\t\tthis.telemetryService.publicLog2<\n\t\t\t\tWorkbenchActionExecutedEvent,\n\t\t\t\tWorkbenchActionExecutedClassification\n\t\t\t>(\"workbenchActionExecuted\", {\n\t\t\t\tid: \"workbench.files.openFile\",\n\t\t\t\tfrom: \"openEditors\",\n\t\t\t});\n\n\t\t\tconst preserveActivateGroup =\n\t\t\t\toptions.sideBySide && options.preserveFocus; // needed for https://github.com/microsoft/vscode/issues/42399\n\t\t\tif (!preserveActivateGroup) {\n\t\t\t\tthis.editorGroupService.activateGroup(element.group); // needed for https://github.com/microsoft/vscode/issues/6672\n\t\t\t}\n\t\t\tconst targetGroup = options.sideBySide\n\t\t\t\t? this.editorGroupService.sideGroup\n\t\t\t\t: element.group;\n\t\t\ttargetGroup.openEditor(element.editor, options);\n\t\t}\n\t}\n\n\tprivate onListContextMenu(\n\t\te: IListContextMenuEvent<OpenEditor | IEditorGroup>,\n\t): void {\n\t\tif (!e.element) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst element = e.element;\n\n\t\tthis.contextMenuService.showContextMenu({\n\t\t\tmenuId: MenuId.OpenEditorsContext,\n\t\t\tmenuActionOptions: {\n\t\t\t\tshouldForwardArgs: true,\n\t\t\t\targ:\n\t\t\t\t\telement instanceof OpenEditor\n\t\t\t\t\t\t? EditorResourceAccessor.getOriginalUri(element.editor)\n\t\t\t\t\t\t: {},\n\t\t\t},\n\t\t\tcontextKeyService: this.list?.contextKeyService,\n\t\t\tgetAnchor: () => e.anchor,\n\t\t\tgetActionsContext: () =>\n\t\t\t\telement instanceof OpenEditor\n\t\t\t\t\t? {\n\t\t\t\t\t\t\tgroupId: element.groupId,\n\t\t\t\t\t\t\teditorIndex: element.group.getIndexOfEditor(\n\t\t\t\t\t\t\t\telement.editor,\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t}\n\t\t\t\t\t: { groupId: element.id },\n\t\t});\n\t}\n\n\tprivate withActiveEditorFocusTrackingDisabled(fn: () => void): void {\n\t\tthis.blockFocusActiveEditorTracking = true;\n\t\ttry {\n\t\t\tfn();\n\t\t} finally {\n\t\t\tthis.blockFocusActiveEditorTracking = false;\n\t\t}\n\t}\n\n\tprivate focusActiveEditor(): void {\n\t\tif (!this.list || this.blockFocusActiveEditorTracking) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.list.length && this.editorGroupService.activeGroup) {\n\t\t\tconst index = this.getIndex(\n\t\t\t\tthis.editorGroupService.activeGroup,\n\t\t\t\tthis.editorGroupService.activeGroup.activeEditor,\n\t\t\t);\n\t\t\tif (index >= 0) {\n\t\t\t\ttry {\n\t\t\t\t\tthis.list.setFocus([index]);\n\t\t\t\t\tthis.list.setSelection([index]);\n\t\t\t\t\tthis.list.reveal(index);\n\t\t\t\t} catch (e) {\n\t\t\t\t\t// noop list updated in the meantime\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tthis.list.setFocus([]);\n\t\tthis.list.setSelection([]);\n\t}\n\n\tprivate onConfigurationChange(event: IConfigurationChangeEvent): void {\n\t\tif (event.affectsConfiguration(\"explorer.openEditors\")) {\n\t\t\tthis.updateSize();\n\t\t}\n\t\t// Trigger a 'repaint' when decoration settings change or the sort order changed\n\t\tif (\n\t\t\tevent.affectsConfiguration(\"explorer.decorations\") ||\n\t\t\tevent.affectsConfiguration(\"explorer.openEditors.sortOrder\")\n\t\t) {\n\t\t\tthis.sortOrder = this.configurationService.getValue(\n\t\t\t\t\"explorer.openEditors.sortOrder\",\n\t\t\t);\n\t\t\tif (this.dnd) {\n\t\t\t\tthis.dnd.sortOrder = this.sortOrder;\n\t\t\t}\n\t\t\tthis.listRefreshScheduler?.schedule();\n\t\t}\n\t}\n\n\tprivate updateSize(): void {\n\t\t// Adjust expanded body size\n\t\tthis.minimumBodySize =\n\t\t\tthis.orientation === Orientation.VERTICAL\n\t\t\t\t? this.getMinExpandedBodySize()\n\t\t\t\t: 170;\n\t\tthis.maximumBodySize =\n\t\t\tthis.orientation === Orientation.VERTICAL\n\t\t\t\t? this.getMaxExpandedBodySize()\n\t\t\t\t: Number.POSITIVE_INFINITY;\n\t}\n\n\tprivate updateDirtyIndicator(workingCopy?: IWorkingCopy): void {\n\t\tif (workingCopy) {\n\t\t\tconst gotDirty = workingCopy.isDirty();\n\t\t\tif (\n\t\t\t\tgotDirty &&\n\t\t\t\t!(\n\t\t\t\t\tworkingCopy.capabilities & WorkingCopyCapabilities.Untitled\n\t\t\t\t) &&\n\t\t\t\tthis.filesConfigurationService.hasShortAutoSaveDelay(\n\t\t\t\t\tworkingCopy.resource,\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\treturn; // do not indicate dirty of working copies that are auto saved after short delay\n\t\t\t}\n\t\t}\n\n\t\tconst dirty = this.workingCopyService.dirtyCount;\n\t\tif (dirty === 0) {\n\t\t\tthis.dirtyCountElement.classList.add(\"hidden\");\n\t\t} else {\n\t\t\tthis.dirtyCountElement.textContent = nls.localize(\n\t\t\t\t\"dirtyCounter\",\n\t\t\t\t\"{0} unsaved\",\n\t\t\t\tdirty,\n\t\t\t);\n\t\t\tthis.dirtyCountElement.classList.remove(\"hidden\");\n\t\t}\n\t}\n\n\tprivate get elementCount(): number {\n\t\treturn this.editorGroupService.groups\n\t\t\t.map((g) => g.count)\n\t\t\t.reduce(\n\t\t\t\t(first, second) => first + second,\n\t\t\t\tthis.showGroups ? this.editorGroupService.groups.length : 0,\n\t\t\t);\n\t}\n\n\tprivate getMaxExpandedBodySize(): number {\n\t\tlet minVisibleOpenEditors = this.configurationService.getValue<number>(\n\t\t\t\"explorer.openEditors.minVisible\",\n\t\t);\n\t\t// If it's not a number setting it to 0 will result in dynamic resizing.\n\t\tif (typeof minVisibleOpenEditors !== \"number\") {\n\t\t\tminVisibleOpenEditors =\n\t\t\t\tOpenEditorsView.DEFAULT_MIN_VISIBLE_OPEN_EDITORS;\n\t\t}\n\t\tconst containerModel = this.viewDescriptorService.getViewContainerModel(\n\t\t\tthis.viewDescriptorService.getViewContainerByViewId(this.id)!,\n\t\t)!;\n\t\tif (containerModel.visibleViewDescriptors.length <= 1) {\n\t\t\treturn Number.POSITIVE_INFINITY;\n\t\t}\n\n\t\treturn (\n\t\t\tMath.max(this.elementCount, minVisibleOpenEditors) *\n\t\t\tOpenEditorsDelegate.ITEM_HEIGHT\n\t\t);\n\t}\n\n\tprivate getMinExpandedBodySize(): number {\n\t\tlet visibleOpenEditors = this.configurationService.getValue<number>(\n\t\t\t\"explorer.openEditors.visible\",\n\t\t);\n\t\tif (typeof visibleOpenEditors !== \"number\") {\n\t\t\tvisibleOpenEditors = OpenEditorsView.DEFAULT_VISIBLE_OPEN_EDITORS;\n\t\t}\n\n\t\treturn this.computeMinExpandedBodySize(visibleOpenEditors);\n\t}\n\n\tprivate computeMinExpandedBodySize(\n\t\tvisibleOpenEditors = OpenEditorsView.DEFAULT_VISIBLE_OPEN_EDITORS,\n\t): number {\n\t\tconst itemsToShow = Math.min(\n\t\t\tMath.max(visibleOpenEditors, 1),\n\t\t\tthis.elementCount,\n\t\t);\n\t\treturn itemsToShow * OpenEditorsDelegate.ITEM_HEIGHT;\n\t}\n\n\tsetStructuralRefreshDelay(delay: number): void {\n\t\tthis.structuralRefreshDelay = delay;\n\t}\n\n\toverride getOptimalWidth(): number {\n\t\tif (!this.list) {\n\t\t\treturn super.getOptimalWidth();\n\t\t}\n\n\t\tconst parentNode = this.list.getHTMLElement();\n\t\tconst childNodes: HTMLElement[] = [].slice.call(\n\t\t\tparentNode.querySelectorAll(\".open-editor > a\"),\n\t\t);\n\n\t\treturn dom.getLargestChildWidth(parentNode, childNodes);\n\t}\n}\n\ninterface IOpenEditorTemplateData {\n\tcontainer: HTMLElement;\n\troot: IResourceLabel;\n\tactionBar: ActionBar;\n\tactionRunner: OpenEditorActionRunner;\n}\n\ninterface IEditorGroupTemplateData {\n\troot: HTMLElement;\n\tname: HTMLSpanElement;\n\tactionBar: ActionBar;\n\teditorGroup: IEditorGroup;\n}\n\nclass OpenEditorActionRunner extends ActionRunner {\n\tpublic editor: OpenEditor | undefined;\n\n\toverride async run(action: IAction): Promise<void> {\n\t\tif (!this.editor) {\n\t\t\treturn;\n\t\t}\n\n\t\treturn super.run(action, {\n\t\t\tgroupId: this.editor.groupId,\n\t\t\teditorIndex: this.editor.group.getIndexOfEditor(this.editor.editor),\n\t\t});\n\t}\n}\n\nclass OpenEditorsDelegate\n\timplements IListVirtualDelegate<OpenEditor | IEditorGroup>\n{\n\tpublic static readonly ITEM_HEIGHT = 22;\n\n\tgetHeight(_element: OpenEditor | IEditorGroup): number {\n\t\treturn OpenEditorsDelegate.ITEM_HEIGHT;\n\t}\n\n\tgetTemplateId(element: OpenEditor | IEditorGroup): string {\n\t\tif (element instanceof OpenEditor) {\n\t\t\treturn OpenEditorRenderer.ID;\n\t\t}\n\n\t\treturn EditorGroupRenderer.ID;\n\t}\n}\n\nclass EditorGroupRenderer\n\timplements IListRenderer<IEditorGroup, IEditorGroupTemplateData>\n{\n\tstatic readonly ID = \"editorgroup\";\n\n\tconstructor(\n\t\tprivate keybindingService: IKeybindingService,\n\t\tprivate instantiationService: IInstantiationService,\n\t) {\n\t\t// noop\n\t}\n\n\tget templateId() {\n\t\treturn EditorGroupRenderer.ID;\n\t}\n\n\trenderTemplate(container: HTMLElement): IEditorGroupTemplateData {\n\t\tconst editorGroupTemplate: IEditorGroupTemplateData =\n\t\t\tObject.create(null);\n\t\teditorGroupTemplate.root = dom.append(container, $(\".editor-group\"));\n\t\teditorGroupTemplate.name = dom.append(\n\t\t\teditorGroupTemplate.root,\n\t\t\t$(\"span.name\"),\n\t\t);\n\t\teditorGroupTemplate.actionBar = new ActionBar(container);\n\n\t\tconst saveAllInGroupAction = this.instantiationService.createInstance(\n\t\t\tSaveAllInGroupAction,\n\t\t\tSaveAllInGroupAction.ID,\n\t\t\tSaveAllInGroupAction.LABEL,\n\t\t);\n\t\tconst saveAllInGroupKey = this.keybindingService.lookupKeybinding(\n\t\t\tsaveAllInGroupAction.id,\n\t\t);\n\t\teditorGroupTemplate.actionBar.push(saveAllInGroupAction, {\n\t\t\ticon: true,\n\t\t\tlabel: false,\n\t\t\tkeybinding: saveAllInGroupKey\n\t\t\t\t? saveAllInGroupKey.getLabel()\n\t\t\t\t: undefined,\n\t\t});\n\n\t\tconst closeGroupAction = this.instantiationService.createInstance(\n\t\t\tCloseGroupAction,\n\t\t\tCloseGroupAction.ID,\n\t\t\tCloseGroupAction.LABEL,\n\t\t);\n\t\tconst closeGroupActionKey = this.keybindingService.lookupKeybinding(\n\t\t\tcloseGroupAction.id,\n\t\t);\n\t\teditorGroupTemplate.actionBar.push(closeGroupAction, {\n\t\t\ticon: true,\n\t\t\tlabel: false,\n\t\t\tkeybinding: closeGroupActionKey\n\t\t\t\t? closeGroupActionKey.getLabel()\n\t\t\t\t: undefined,\n\t\t});\n\n\t\treturn editorGroupTemplate;\n\t}\n\n\trenderElement(\n\t\teditorGroup: IEditorGroup,\n\t\t_index: number,\n\t\ttemplateData: IEditorGroupTemplateData,\n\t): void {\n\t\ttemplateData.editorGroup = editorGroup;\n\t\ttemplateData.name.textContent = editorGroup.label;\n\t\ttemplateData.actionBar.context = { groupId: editorGroup.id };\n\t}\n\n\tdisposeTemplate(templateData: IEditorGroupTemplateData): void {\n\t\ttemplateData.actionBar.dispose();\n\t}\n}\n\nclass OpenEditorRenderer\n\timplements IListRenderer<OpenEditor, IOpenEditorTemplateData>\n{\n\tstatic readonly ID = \"openeditor\";\n\n\tprivate readonly closeEditorAction =\n\t\tthis.instantiationService.createInstance(\n\t\t\tCloseEditorAction,\n\t\t\tCloseEditorAction.ID,\n\t\t\tCloseEditorAction.LABEL,\n\t\t);\n\tprivate readonly unpinEditorAction =\n\t\tthis.instantiationService.createInstance(\n\t\t\tUnpinEditorAction,\n\t\t\tUnpinEditorAction.ID,\n\t\t\tUnpinEditorAction.LABEL,\n\t\t);\n\n\tconstructor(\n\t\tprivate labels: ResourceLabels,\n\t\tprivate instantiationService: IInstantiationService,\n\t\tprivate keybindingService: IKeybindingService,\n\t\tprivate configurationService: IConfigurationService,\n\t) {\n\t\t// noop\n\t}\n\n\tget templateId() {\n\t\treturn OpenEditorRenderer.ID;\n\t}\n\n\trenderTemplate(container: HTMLElement): IOpenEditorTemplateData {\n\t\tconst editorTemplate: IOpenEditorTemplateData = Object.create(null);\n\t\teditorTemplate.container = container;\n\t\teditorTemplate.actionRunner = new OpenEditorActionRunner();\n\t\teditorTemplate.actionBar = new ActionBar(container, {\n\t\t\tactionRunner: editorTemplate.actionRunner,\n\t\t});\n\t\teditorTemplate.root = this.labels.create(container);\n\n\t\treturn editorTemplate;\n\t}\n\n\trenderElement(\n\t\topenedEditor: OpenEditor,\n\t\t_index: number,\n\t\ttemplateData: IOpenEditorTemplateData,\n\t): void {\n\t\tconst editor = openedEditor.editor;\n\t\ttemplateData.actionRunner.editor = openedEditor;\n\t\ttemplateData.container.classList.toggle(\n\t\t\t\"dirty\",\n\t\t\teditor.isDirty() && !editor.isSaving(),\n\t\t);\n\t\ttemplateData.container.classList.toggle(\n\t\t\t\"sticky\",\n\t\t\topenedEditor.isSticky(),\n\t\t);\n\t\ttemplateData.root.setResource(\n\t\t\t{\n\t\t\t\tresource: EditorResourceAccessor.getOriginalUri(editor, {\n\t\t\t\t\tsupportSideBySide: SideBySideEditor.BOTH,\n\t\t\t\t}),\n\t\t\t\tname: editor.getName(),\n\t\t\t\tdescription: editor.getDescription(Verbosity.MEDIUM),\n\t\t\t},\n\t\t\t{\n\t\t\t\titalic: openedEditor.isPreview(),\n\t\t\t\textraClasses: [\"open-editor\"].concat(\n\t\t\t\t\topenedEditor.editor.getLabelExtraClasses(),\n\t\t\t\t),\n\t\t\t\tfileDecorations:\n\t\t\t\t\tthis.configurationService.getValue<IFilesConfiguration>()\n\t\t\t\t\t\t.explorer.decorations,\n\t\t\t\ttitle: editor.getTitle(Verbosity.LONG),\n\t\t\t\ticon: editor.getIcon(),\n\t\t\t},\n\t\t);\n\t\tconst editorAction = openedEditor.isSticky()\n\t\t\t? this.unpinEditorAction\n\t\t\t: this.closeEditorAction;\n\t\tif (!templateData.actionBar.hasAction(editorAction)) {\n\t\t\tif (!templateData.actionBar.isEmpty()) {\n\t\t\t\ttemplateData.actionBar.clear();\n\t\t\t}\n\t\t\ttemplateData.actionBar.push(editorAction, {\n\t\t\t\ticon: true,\n\t\t\t\tlabel: false,\n\t\t\t\tkeybinding: this.keybindingService\n\t\t\t\t\t.lookupKeybinding(editorAction.id)\n\t\t\t\t\t?.getLabel(),\n\t\t\t});\n\t\t}\n\t}\n\n\tdisposeTemplate(templateData: IOpenEditorTemplateData): void {\n\t\ttemplateData.actionBar.dispose();\n\t\ttemplateData.root.dispose();\n\t\ttemplateData.actionRunner.dispose();\n\t}\n}\n\nclass OpenEditorsDragAndDrop\n\timplements IListDragAndDrop<OpenEditor | IEditorGroup>\n{\n\tprivate _sortOrder: \"editorOrder\" | \"alphabetical\" | \"fullPath\";\n\tpublic set sortOrder(value: \"editorOrder\" | \"alphabetical\" | \"fullPath\") {\n\t\tthis._sortOrder = value;\n\t}\n\n\tconstructor(\n\t\tsortOrder: \"editorOrder\" | \"alphabetical\" | \"fullPath\",\n\t\tprivate instantiationService: IInstantiationService,\n\t\tprivate editorGroupService: IEditorGroupsService,\n\t) {\n\t\tthis._sortOrder = sortOrder;\n\t}\n\n\t@memoize private get dropHandler(): ResourcesDropHandler {\n\t\treturn this.instantiationService.createInstance(ResourcesDropHandler, {\n\t\t\tallowWorkspaceOpen: false,\n\t\t});\n\t}\n\n\tgetDragURI(element: OpenEditor | IEditorGroup): string | null {\n\t\tif (element instanceof OpenEditor) {\n\t\t\tconst resource = element.getResource();\n\t\t\tif (resource) {\n\t\t\t\treturn resource.toString();\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n\n\tgetDragLabel?(elements: (OpenEditor | IEditorGroup)[]): string {\n\t\tif (elements.length > 1) {\n\t\t\treturn String(elements.length);\n\t\t}\n\t\tconst element = elements[0];\n\n\t\treturn element instanceof OpenEditor\n\t\t\t? element.editor.getName()\n\t\t\t: element.label;\n\t}\n\n\tonDragStart(data: IDragAndDropData, originalEvent: DragEvent): void {\n\t\tconst items = (\n\t\t\tdata as ElementsDragAndDropData<OpenEditor | IEditorGroup>\n\t\t).elements;\n\t\tconst editors: IEditorIdentifier[] = [];\n\t\tif (items) {\n\t\t\tfor (const item of items) {\n\t\t\t\tif (item instanceof OpenEditor) {\n\t\t\t\t\teditors.push(item);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (editors.length) {\n\t\t\t// Apply some datatransfer types to allow for dragging the element outside of the application\n\t\t\tthis.instantiationService.invokeFunction(\n\t\t\t\tfillEditorsDragData,\n\t\t\t\teditors,\n\t\t\t\toriginalEvent,\n\t\t\t);\n\t\t}\n\t}\n\n\tonDragOver(\n\t\tdata: IDragAndDropData,\n\t\t_targetElement: OpenEditor | IEditorGroup,\n\t\t_targetIndex: number,\n\t\ttargetSector: ListViewTargetSector | undefined,\n\t\toriginalEvent: DragEvent,\n\t): boolean | IListDragOverReaction {\n\t\tif (data instanceof NativeDragAndDropData) {\n\t\t\tif (\n\t\t\t\t!containsDragType(\n\t\t\t\t\toriginalEvent,\n\t\t\t\t\tDataTransfers.FILES,\n\t\t\t\t\tCodeDataTransfers.FILES,\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tif (this._sortOrder !== \"editorOrder\") {\n\t\t\tif (data instanceof ElementsDragAndDropData) {\n\t\t\t\t// No reordering supported when sorted\n\t\t\t\treturn false;\n\t\t\t} else {\n\t\t\t\t// Allow droping files to open them\n\t\t\t\treturn {\n\t\t\t\t\taccept: true,\n\t\t\t\t\teffect: { type: ListDragOverEffectType.Move },\n\t\t\t\t\tfeedback: [-1],\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\tlet dropEffectPosition: ListDragOverEffectPosition | undefined;\n\t\tswitch (targetSector) {\n\t\t\tcase ListViewTargetSector.TOP:\n\t\t\tcase ListViewTargetSector.CENTER_TOP:\n\t\t\t\tdropEffectPosition =\n\t\t\t\t\t_targetIndex === 0 &&\n\t\t\t\t\t_targetElement instanceof EditorGroupView\n\t\t\t\t\t\t? ListDragOverEffectPosition.After\n\t\t\t\t\t\t: ListDragOverEffectPosition.Before;\n\t\t\t\tbreak;\n\t\t\tcase ListViewTargetSector.CENTER_BOTTOM:\n\t\t\tcase ListViewTargetSector.BOTTOM:\n\t\t\t\tdropEffectPosition = ListDragOverEffectPosition.After;\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn {\n\t\t\taccept: true,\n\t\t\teffect: {\n\t\t\t\ttype: ListDragOverEffectType.Move,\n\t\t\t\tposition: dropEffectPosition,\n\t\t\t},\n\t\t\tfeedback: [_targetIndex],\n\t\t};\n\t}\n\n\tdrop(\n\t\tdata: IDragAndDropData,\n\t\ttargetElement: OpenEditor | IEditorGroup | undefined,\n\t\t_targetIndex: number,\n\t\ttargetSector: ListViewTargetSector | undefined,\n\t\toriginalEvent: DragEvent,\n\t): void {\n\t\tlet group =\n\t\t\ttargetElement instanceof OpenEditor\n\t\t\t\t? targetElement.group\n\t\t\t\t: targetElement ||\n\t\t\t\t\tthis.editorGroupService.groups[\n\t\t\t\t\t\tthis.editorGroupService.count - 1\n\t\t\t\t\t];\n\t\tlet targetEditorIndex =\n\t\t\ttargetElement instanceof OpenEditor\n\t\t\t\t? targetElement.group.getIndexOfEditor(targetElement.editor)\n\t\t\t\t: 0;\n\n\t\tswitch (targetSector) {\n\t\t\tcase ListViewTargetSector.TOP:\n\t\t\tcase ListViewTargetSector.CENTER_TOP:\n\t\t\t\tif (\n\t\t\t\t\ttargetElement instanceof EditorGroupView &&\n\t\t\t\t\tgroup.index !== 0\n\t\t\t\t) {\n\t\t\t\t\tgroup = this.editorGroupService.groups[group.index - 1];\n\t\t\t\t\ttargetEditorIndex = group.count;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase ListViewTargetSector.BOTTOM:\n\t\t\tcase ListViewTargetSector.CENTER_BOTTOM:\n\t\t\t\tif (targetElement instanceof OpenEditor) {\n\t\t\t\t\ttargetEditorIndex++;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\n\t\tif (data instanceof ElementsDragAndDropData) {\n\t\t\tfor (const oe of data.elements) {\n\t\t\t\tconst sourceEditorIndex = oe.group.getIndexOfEditor(oe.editor);\n\t\t\t\tif (\n\t\t\t\t\toe.group === group &&\n\t\t\t\t\tsourceEditorIndex < targetEditorIndex\n\t\t\t\t) {\n\t\t\t\t\ttargetEditorIndex--;\n\t\t\t\t}\n\t\t\t\toe.group.moveEditor(oe.editor, group, {\n\t\t\t\t\tindex: targetEditorIndex,\n\t\t\t\t\tpreserveFocus: true,\n\t\t\t\t});\n\t\t\t\ttargetEditorIndex++;\n\t\t\t}\n\t\t\tthis.editorGroupService.activateGroup(group);\n\t\t} else {\n\t\t\tthis.dropHandler.handleDrop(\n\t\t\t\toriginalEvent,\n\t\t\t\tmainWindow,\n\t\t\t\t() => group,\n\t\t\t\t() => group.focus(),\n\t\t\t\t{ index: targetEditorIndex },\n\t\t\t);\n\t\t}\n\t}\n\n\tdispose(): void {}\n}\n\nclass OpenEditorsAccessibilityProvider\n\timplements IListAccessibilityProvider<OpenEditor | IEditorGroup>\n{\n\tgetWidgetAriaLabel(): string {\n\t\treturn nls.localize(\"openEditors\", \"Open Editors\");\n\t}\n\n\tgetAriaLabel(element: OpenEditor | IEditorGroup): string | null {\n\t\tif (element instanceof OpenEditor) {\n\t\t\treturn `${element.editor.getName()}, ${element.editor.getDescription()}`;\n\t\t}\n\n\t\treturn element.ariaLabel;\n\t}\n}\n\nconst toggleEditorGroupLayoutId = \"workbench.action.toggleEditorGroupLayout\";\nregisterAction2(\n\tclass extends Action2 {\n\t\tconstructor() {\n\t\t\tsuper({\n\t\t\t\tid: \"workbench.action.toggleEditorGroupLayout\",\n\t\t\t\ttitle: nls.localize2(\n\t\t\t\t\t\"flipLayout\",\n\t\t\t\t\t\"Toggle Vertical/Horizontal Editor Layout\",\n\t\t\t\t),\n\t\t\t\tf1: true,\n\t\t\t\tkeybinding: {\n\t\t\t\t\tprimary: KeyMod.Shift | KeyMod.Alt | KeyCode.Digit0,\n\t\t\t\t\tmac: {\n\t\t\t\t\t\tprimary: KeyMod.CtrlCmd | KeyMod.Alt | KeyCode.Digit0,\n\t\t\t\t\t},\n\t\t\t\t\tweight: KeybindingWeight.WorkbenchContrib,\n\t\t\t\t},\n\t\t\t\ticon: Codicon.editorLayout,\n\t\t\t\tmenu: {\n\t\t\t\t\tid: MenuId.ViewTitle,\n\t\t\t\t\tgroup: \"navigation\",\n\t\t\t\t\twhen: ContextKeyExpr.and(\n\t\t\t\t\t\tContextKeyExpr.equals(\"view\", OpenEditorsView.ID),\n\t\t\t\t\t\tMultipleEditorGroupsContext,\n\t\t\t\t\t),\n\t\t\t\t\torder: 10,\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\n\t\tasync run(accessor: ServicesAccessor): Promise<void> {\n\t\t\tconst editorGroupService = accessor.get(IEditorGroupsService);\n\t\t\tconst newOrientation =\n\t\t\t\teditorGroupService.orientation === GroupOrientation.VERTICAL\n\t\t\t\t\t? GroupOrientation.HORIZONTAL\n\t\t\t\t\t: GroupOrientation.VERTICAL;\n\t\t\teditorGroupService.setGroupOrientation(newOrientation);\n\t\t\teditorGroupService.activeGroup.focus();\n\t\t}\n\t},\n);\n\nMenuRegistry.appendMenuItem(MenuId.MenubarLayoutMenu, {\n\tgroup: \"5_flip\",\n\tcommand: {\n\t\tid: toggleEditorGroupLayoutId,\n\t\ttitle: {\n\t\t\t...nls.localize2(\n\t\t\t\t\"miToggleEditorLayoutWithoutMnemonic\",\n\t\t\t\t\"Flip Layout\",\n\t\t\t),\n\t\t\tmnemonicTitle: nls.localize(\n\t\t\t\t{\n\t\t\t\t\tkey: \"miToggleEditorLayout\",\n\t\t\t\t\tcomment: [\"&& denotes a mnemonic\"],\n\t\t\t\t},\n\t\t\t\t\"Flip &&Layout\",\n\t\t\t),\n\t\t},\n\t},\n\torder: 1,\n});\n\nregisterAction2(\n\tclass extends Action2 {\n\t\tconstructor() {\n\t\t\tsuper({\n\t\t\t\tid: \"workbench.action.files.saveAll\",\n\t\t\t\ttitle: SAVE_ALL_LABEL,\n\t\t\t\tf1: true,\n\t\t\t\ticon: Codicon.saveAll,\n\t\t\t\tmenu: {\n\t\t\t\t\tid: MenuId.ViewTitle,\n\t\t\t\t\tgroup: \"navigation\",\n\t\t\t\t\twhen: ContextKeyExpr.equals(\"view\", OpenEditorsView.ID),\n\t\t\t\t\torder: 20,\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\n\t\tasync run(accessor: ServicesAccessor): Promise<void> {\n\t\t\tconst commandService = accessor.get(ICommandService);\n\t\t\tawait commandService.executeCommand(SAVE_ALL_COMMAND_ID);\n\t\t}\n\t},\n);\n\nregisterAction2(\n\tclass extends Action2 {\n\t\tconstructor() {\n\t\t\tsuper({\n\t\t\t\tid: \"openEditors.closeAll\",\n\t\t\t\ttitle: CloseAllEditorsAction.LABEL,\n\t\t\t\tf1: false,\n\t\t\t\ticon: Codicon.closeAll,\n\t\t\t\tmenu: {\n\t\t\t\t\tid: MenuId.ViewTitle,\n\t\t\t\t\tgroup: \"navigation\",\n\t\t\t\t\twhen: ContextKeyExpr.equals(\"view\", OpenEditorsView.ID),\n\t\t\t\t\torder: 30,\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\n\t\tasync run(accessor: ServicesAccessor): Promise<void> {\n\t\t\tconst instantiationService = accessor.get(IInstantiationService);\n\n\t\t\tconst closeAll = new CloseAllEditorsAction();\n\t\t\tawait instantiationService.invokeFunction((accessor) =>\n\t\t\t\tcloseAll.run(accessor),\n\t\t\t);\n\t\t}\n\t},\n);\n\nregisterAction2(\n\tclass extends Action2 {\n\t\tconstructor() {\n\t\t\tsuper({\n\t\t\t\tid: \"openEditors.newUntitledFile\",\n\t\t\t\ttitle: nls.localize2(\n\t\t\t\t\t\"newUntitledFile\",\n\t\t\t\t\t\"New Untitled Text File\",\n\t\t\t\t),\n\t\t\t\tf1: false,\n\t\t\t\ticon: Codicon.newFile,\n\t\t\t\tmenu: {\n\t\t\t\t\tid: MenuId.ViewTitle,\n\t\t\t\t\tgroup: \"navigation\",\n\t\t\t\t\twhen: ContextKeyExpr.equals(\"view\", OpenEditorsView.ID),\n\t\t\t\t\torder: 5,\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\n\t\tasync run(accessor: ServicesAccessor): Promise<void> {\n\t\t\tconst commandService = accessor.get(ICommandService);\n\t\t\tawait commandService.executeCommand(NEW_UNTITLED_FILE_COMMAND_ID);\n\t\t}\n\t},\n);\n"],
  "mappings": "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",
  "names": ["e", "accessor"]
}
