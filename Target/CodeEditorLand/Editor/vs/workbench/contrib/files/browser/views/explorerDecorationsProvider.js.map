{
  "version": 3,
  "sources": ["../../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/contrib/files/browser/views/explorerDecorationsProvider.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { toErrorMessage } from \"../../../../../base/common/errorMessage.js\";\nimport { Emitter, type Event } from \"../../../../../base/common/event.js\";\nimport { DisposableStore } from \"../../../../../base/common/lifecycle.js\";\nimport type { URI } from \"../../../../../base/common/uri.js\";\nimport { localize } from \"../../../../../nls.js\";\nimport {\n\tlistDeemphasizedForeground,\n\tlistInvalidItemForeground,\n} from \"../../../../../platform/theme/common/colorRegistry.js\";\nimport { IWorkspaceContextService } from \"../../../../../platform/workspace/common/workspace.js\";\nimport type {\n\tIDecorationData,\n\tIDecorationsProvider,\n} from \"../../../../services/decorations/common/decorations.js\";\nimport type { ExplorerItem } from \"../../common/explorerModel.js\";\nimport { IExplorerService } from \"../files.js\";\nimport { explorerRootErrorEmitter } from \"./explorerViewer.js\";\n\nexport function provideDecorations(\n\tfileStat: ExplorerItem,\n): IDecorationData | undefined {\n\tif (fileStat.isRoot && fileStat.error) {\n\t\treturn {\n\t\t\ttooltip: localize(\n\t\t\t\t\"canNotResolve\",\n\t\t\t\t\"Unable to resolve workspace folder ({0})\",\n\t\t\t\ttoErrorMessage(fileStat.error),\n\t\t\t),\n\t\t\tletter: \"!\",\n\t\t\tcolor: listInvalidItemForeground,\n\t\t};\n\t}\n\tif (fileStat.isSymbolicLink) {\n\t\treturn {\n\t\t\ttooltip: localize(\"symbolicLlink\", \"Symbolic Link\"),\n\t\t\tletter: \"\\u2937\",\n\t\t};\n\t}\n\tif (fileStat.isUnknown) {\n\t\treturn {\n\t\t\ttooltip: localize(\"unknown\", \"Unknown File Type\"),\n\t\t\tletter: \"?\",\n\t\t};\n\t}\n\tif (fileStat.isExcluded) {\n\t\treturn {\n\t\t\tcolor: listDeemphasizedForeground,\n\t\t};\n\t}\n\n\treturn undefined;\n}\n\nexport class ExplorerDecorationsProvider implements IDecorationsProvider {\n\treadonly label: string = localize(\"label\", \"Explorer\");\n\tprivate readonly _onDidChange = new Emitter<URI[]>();\n\tprivate readonly toDispose = new DisposableStore();\n\n\tconstructor(\n\t\t@IExplorerService private explorerService: IExplorerService,\n\t\t@IWorkspaceContextService contextService: IWorkspaceContextService,\n\t) {\n\t\tthis.toDispose.add(this._onDidChange);\n\t\tthis.toDispose.add(\n\t\t\tcontextService.onDidChangeWorkspaceFolders((e) => {\n\t\t\t\tthis._onDidChange.fire(\n\t\t\t\t\te.changed.concat(e.added).map((wf) => wf.uri),\n\t\t\t\t);\n\t\t\t}),\n\t\t);\n\t\tthis.toDispose.add(\n\t\t\texplorerRootErrorEmitter.event((resource) => {\n\t\t\t\tthis._onDidChange.fire([resource]);\n\t\t\t}),\n\t\t);\n\t}\n\n\tget onDidChange(): Event<URI[]> {\n\t\treturn this._onDidChange.event;\n\t}\n\n\tasync provideDecorations(\n\t\tresource: URI,\n\t): Promise<IDecorationData | undefined> {\n\t\tconst fileStat = this.explorerService.findClosest(resource);\n\t\tif (!fileStat) {\n\t\t\tthrow new Error(\"ExplorerItem not found\");\n\t\t}\n\n\t\treturn provideDecorations(fileStat);\n\t}\n\n\tdispose(): void {\n\t\tthis.toDispose.dispose();\n\t}\n}\n"],
  "mappings": ";;;;;;;;;;;;AAKA,SAAS,sBAAsB;AAC/B,SAAS,eAA2B;AACpC,SAAS,uBAAuB;AAEhC,SAAS,gBAAgB;AACzB;AAAA,EACC;AAAA,EACA;AAAA,OACM;AACP,SAAS,gCAAgC;AAMzC,SAAS,wBAAwB;AACjC,SAAS,gCAAgC;AAElC,SAAS,mBACf,UAC8B;AAC9B,MAAI,SAAS,UAAU,SAAS,OAAO;AACtC,WAAO;AAAA,MACN,SAAS;AAAA,QACR;AAAA,QACA;AAAA,QACA,eAAe,SAAS,KAAK;AAAA,MAC9B;AAAA,MACA,QAAQ;AAAA,MACR,OAAO;AAAA,IACR;AAAA,EACD;AACA,MAAI,SAAS,gBAAgB;AAC5B,WAAO;AAAA,MACN,SAAS,SAAS,iBAAiB,eAAe;AAAA,MAClD,QAAQ;AAAA,IACT;AAAA,EACD;AACA,MAAI,SAAS,WAAW;AACvB,WAAO;AAAA,MACN,SAAS,SAAS,WAAW,mBAAmB;AAAA,MAChD,QAAQ;AAAA,IACT;AAAA,EACD;AACA,MAAI,SAAS,YAAY;AACxB,WAAO;AAAA,MACN,OAAO;AAAA,IACR;AAAA,EACD;AAEA,SAAO;AACR;AAjCgB;AAmCT,IAAM,8BAAN,MAAkE;AAAA,EAKxE,YAC2B,iBACA,gBACzB;AAFyB;AAG1B,SAAK,UAAU,IAAI,KAAK,YAAY;AACpC,SAAK,UAAU;AAAA,MACd,eAAe,4BAA4B,CAAC,MAAM;AACjD,aAAK,aAAa;AAAA,UACjB,EAAE,QAAQ,OAAO,EAAE,KAAK,EAAE,IAAI,CAAC,OAAO,GAAG,GAAG;AAAA,QAC7C;AAAA,MACD,CAAC;AAAA,IACF;AACA,SAAK,UAAU;AAAA,MACd,yBAAyB,MAAM,CAAC,aAAa;AAC5C,aAAK,aAAa,KAAK,CAAC,QAAQ,CAAC;AAAA,MAClC,CAAC;AAAA,IACF;AAAA,EACD;AAAA,EAhFD,OA0DyE;AAAA;AAAA;AAAA,EAC/D,QAAgB,SAAS,SAAS,UAAU;AAAA,EACpC,eAAe,IAAI,QAAe;AAAA,EAClC,YAAY,IAAI,gBAAgB;AAAA,EAqBjD,IAAI,cAA4B;AAC/B,WAAO,KAAK,aAAa;AAAA,EAC1B;AAAA,EAEA,MAAM,mBACL,UACuC;AACvC,UAAM,WAAW,KAAK,gBAAgB,YAAY,QAAQ;AAC1D,QAAI,CAAC,UAAU;AACd,YAAM,IAAI,MAAM,wBAAwB;AAAA,IACzC;AAEA,WAAO,mBAAmB,QAAQ;AAAA,EACnC;AAAA,EAEA,UAAgB;AACf,SAAK,UAAU,QAAQ;AAAA,EACxB;AACD;AA1Ca,8BAAN;AAAA,EAMJ;AAAA,EACA;AAAA,GAPU;",
  "names": []
}
