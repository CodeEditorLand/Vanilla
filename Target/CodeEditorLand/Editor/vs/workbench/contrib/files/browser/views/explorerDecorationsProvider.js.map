{
  "version": 3,
  "sources": ["../../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/contrib/files/browser/views/explorerDecorationsProvider.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { URI } from '../../../../../base/common/uri.js';\nimport { Event, Emitter } from '../../../../../base/common/event.js';\nimport { localize } from '../../../../../nls.js';\nimport { IWorkspaceContextService } from '../../../../../platform/workspace/common/workspace.js';\nimport { IDecorationsProvider, IDecorationData } from '../../../../services/decorations/common/decorations.js';\nimport { listInvalidItemForeground, listDeemphasizedForeground } from '../../../../../platform/theme/common/colorRegistry.js';\nimport { DisposableStore } from '../../../../../base/common/lifecycle.js';\nimport { explorerRootErrorEmitter } from './explorerViewer.js';\nimport { ExplorerItem } from '../../common/explorerModel.js';\nimport { IExplorerService } from '../files.js';\nimport { toErrorMessage } from '../../../../../base/common/errorMessage.js';\n\nexport function provideDecorations(fileStat: ExplorerItem): IDecorationData | undefined {\n\tif (fileStat.isRoot && fileStat.error) {\n\t\treturn {\n\t\t\ttooltip: localize('canNotResolve', \"Unable to resolve workspace folder ({0})\", toErrorMessage(fileStat.error)),\n\t\t\tletter: '!',\n\t\t\tcolor: listInvalidItemForeground,\n\t\t};\n\t}\n\tif (fileStat.isSymbolicLink) {\n\t\treturn {\n\t\t\ttooltip: localize('symbolicLlink', \"Symbolic Link\"),\n\t\t\tletter: '\\u2937'\n\t\t};\n\t}\n\tif (fileStat.isUnknown) {\n\t\treturn {\n\t\t\ttooltip: localize('unknown', \"Unknown File Type\"),\n\t\t\tletter: '?'\n\t\t};\n\t}\n\tif (fileStat.isExcluded) {\n\t\treturn {\n\t\t\tcolor: listDeemphasizedForeground,\n\t\t};\n\t}\n\n\treturn undefined;\n}\n\nexport class ExplorerDecorationsProvider implements IDecorationsProvider {\n\treadonly label: string = localize('label', \"Explorer\");\n\tprivate readonly _onDidChange = new Emitter<URI[]>();\n\tprivate readonly toDispose = new DisposableStore();\n\n\tconstructor(\n\t\t@IExplorerService private explorerService: IExplorerService,\n\t\t@IWorkspaceContextService contextService: IWorkspaceContextService\n\t) {\n\t\tthis.toDispose.add(this._onDidChange);\n\t\tthis.toDispose.add(contextService.onDidChangeWorkspaceFolders(e => {\n\t\t\tthis._onDidChange.fire(e.changed.concat(e.added).map(wf => wf.uri));\n\t\t}));\n\t\tthis.toDispose.add(explorerRootErrorEmitter.event((resource => {\n\t\t\tthis._onDidChange.fire([resource]);\n\t\t})));\n\t}\n\n\tget onDidChange(): Event<URI[]> {\n\t\treturn this._onDidChange.event;\n\t}\n\n\tasync provideDecorations(resource: URI): Promise<IDecorationData | undefined> {\n\t\tconst fileStat = this.explorerService.findClosest(resource);\n\t\tif (!fileStat) {\n\t\t\tthrow new Error('ExplorerItem not found');\n\t\t}\n\n\t\treturn provideDecorations(fileStat);\n\t}\n\n\tdispose(): void {\n\t\tthis.toDispose.dispose();\n\t}\n}\n"],
  "mappings": ";;;;;;;;;;;;AAKA,SAAS,WAAW;AACpB,SAAS,OAAO,eAAe;AAC/B,SAAS,gBAAgB;AACzB,SAAS,gCAAgC;AACzC,SAAS,sBAAsB,uBAAuB;AACtD,SAAS,2BAA2B,kCAAkC;AACtE,SAAS,uBAAuB;AAChC,SAAS,gCAAgC;AACzC,SAAS,oBAAoB;AAC7B,SAAS,wBAAwB;AACjC,SAAS,sBAAsB;AAExB,SAAS,mBAAmB,UAAqD;AACvF,MAAI,SAAS,UAAU,SAAS,OAAO;AACtC,WAAO;AAAA,MACN,SAAS,SAAS,iBAAiB,4CAA4C,eAAe,SAAS,KAAK,CAAC;AAAA,MAC7G,QAAQ;AAAA,MACR,OAAO;AAAA,IACR;AAAA,EACD;AACA,MAAI,SAAS,gBAAgB;AAC5B,WAAO;AAAA,MACN,SAAS,SAAS,iBAAiB,eAAe;AAAA,MAClD,QAAQ;AAAA,IACT;AAAA,EACD;AACA,MAAI,SAAS,WAAW;AACvB,WAAO;AAAA,MACN,SAAS,SAAS,WAAW,mBAAmB;AAAA,MAChD,QAAQ;AAAA,IACT;AAAA,EACD;AACA,MAAI,SAAS,YAAY;AACxB,WAAO;AAAA,MACN,OAAO;AAAA,IACR;AAAA,EACD;AAEA,SAAO;AACR;AA3BgB;AA6BT,IAAM,8BAAN,MAAkE;AAAA,EAKxE,YAC2B,iBACA,gBACzB;AAFyB;AAG1B,SAAK,UAAU,IAAI,KAAK,YAAY;AACpC,SAAK,UAAU,IAAI,eAAe,4BAA4B,OAAK;AAClE,WAAK,aAAa,KAAK,EAAE,QAAQ,OAAO,EAAE,KAAK,EAAE,IAAI,QAAM,GAAG,GAAG,CAAC;AAAA,IACnE,CAAC,CAAC;AACF,SAAK,UAAU,IAAI,yBAAyB,MAAO,cAAY;AAC9D,WAAK,aAAa,KAAK,CAAC,QAAQ,CAAC;AAAA,IAClC,CAAE,CAAC;AAAA,EACJ;AAAA,EA9DD,OA8CyE;AAAA;AAAA;AAAA,EAC/D,QAAgB,SAAS,SAAS,UAAU;AAAA,EACpC,eAAe,IAAI,QAAe;AAAA,EAClC,YAAY,IAAI,gBAAgB;AAAA,EAejD,IAAI,cAA4B;AAC/B,WAAO,KAAK,aAAa;AAAA,EAC1B;AAAA,EAEA,MAAM,mBAAmB,UAAqD;AAC7E,UAAM,WAAW,KAAK,gBAAgB,YAAY,QAAQ;AAC1D,QAAI,CAAC,UAAU;AACd,YAAM,IAAI,MAAM,wBAAwB;AAAA,IACzC;AAEA,WAAO,mBAAmB,QAAQ;AAAA,EACnC;AAAA,EAEA,UAAgB;AACf,SAAK,UAAU,QAAQ;AAAA,EACxB;AACD;AAlCa,8BAAN;AAAA,EAMJ;AAAA,EACA;AAAA,GAPU;",
  "names": []
}
