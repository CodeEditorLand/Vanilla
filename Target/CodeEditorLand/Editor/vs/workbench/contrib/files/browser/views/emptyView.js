var h=Object.defineProperty;var I=Object.getOwnPropertyDescriptor;var p=(a,i,r,e)=>{for(var t=e>1?void 0:e?I(i,r):i,n=a.length-1,c;n>=0;n--)(c=a[n])&&(t=(e?c(i,r,t):c(t))||t);return e&&t&&h(i,r,t),t},o=(a,i)=>(r,e)=>i(r,e,a);import{DragAndDropObserver as g,getWindow as u}from"../../../../../base/browser/dom.js";import{isWeb as b}from"../../../../../base/common/platform.js";import*as C from"../../../../../nls.js";import{IConfigurationService as y}from"../../../../../platform/configuration/common/configuration.js";import{IContextKeyService as k}from"../../../../../platform/contextkey/common/contextkey.js";import{IContextMenuService as D}from"../../../../../platform/contextview/browser/contextView.js";import{IHoverService as T}from"../../../../../platform/hover/browser/hover.js";import{IInstantiationService as w}from"../../../../../platform/instantiation/common/instantiation.js";import{IKeybindingService as x}from"../../../../../platform/keybinding/common/keybinding.js";import{ILabelService as W}from"../../../../../platform/label/common/label.js";import{IOpenerService as O}from"../../../../../platform/opener/common/opener.js";import{ITelemetryService as H}from"../../../../../platform/telemetry/common/telemetry.js";import{listDropOverBackground as L}from"../../../../../platform/theme/common/colorRegistry.js";import{IThemeService as K}from"../../../../../platform/theme/common/themeService.js";import{IWorkspaceContextService as M,WorkbenchState as V,isTemporaryWorkspace as _}from"../../../../../platform/workspace/common/workspace.js";import{ResourcesDropHandler as A}from"../../../../browser/dnd.js";import{ViewPane as z}from"../../../../browser/parts/views/viewPane.js";import{IViewDescriptorService as B}from"../../../../common/views.js";let s=class extends z{constructor(r,e,t,n,c,l,E,d,N,v,m,S,f){super(r,c,l,d,v,t,n,m,e,S,f);this.contextService=E;this.labelService=N;this._register(this.contextService.onDidChangeWorkbenchState(()=>this.refreshTitle())),this._register(this.labelService.onDidChangeFormatters(()=>this.refreshTitle()))}static ID="workbench.explorer.emptyView";static NAME=C.localize2("noWorkspace","No Folder Opened");_disposed=!1;shouldShowWelcome(){return!0}renderBody(r){super.renderBody(r),this._register(new g(r,{onDrop:e=>{r.style.backgroundColor="",this.instantiationService.createInstance(A,{allowWorkspaceOpen:!b||_(this.contextService.getWorkspace())}).handleDrop(e,u(r))},onDragEnter:()=>{const e=this.themeService.getColorTheme().getColor(L);r.style.backgroundColor=e?e.toString():""},onDragEnd:()=>{r.style.backgroundColor=""},onDragLeave:()=>{r.style.backgroundColor=""},onDragOver:e=>{e.dataTransfer&&(e.dataTransfer.dropEffect="copy")}})),this.refreshTitle()}refreshTitle(){this._disposed||(this.contextService.getWorkbenchState()===V.WORKSPACE?this.updateTitle(s.NAME.value):this.updateTitle(this.title))}dispose(){this._disposed=!0,super.dispose()}};s=p([o(1,K),o(2,B),o(3,w),o(4,x),o(5,D),o(6,M),o(7,y),o(8,W),o(9,k),o(10,O),o(11,H),o(12,T)],s);export{s as EmptyView};
