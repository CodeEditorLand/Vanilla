var h=Object.defineProperty;var I=Object.getOwnPropertyDescriptor;var p=(a,i,r,e)=>{for(var t=e>1?void 0:e?I(i,r):i,n=a.length-1,c;n>=0;n--)(c=a[n])&&(t=(e?c(i,r,t):c(t))||t);return e&&t&&h(i,r,t),t},o=(a,i)=>(r,e)=>i(r,e,a);import{DragAndDropObserver as g,getWindow as u}from"../../../../../../vs/base/browser/dom.js";import{isWeb as b}from"../../../../../../vs/base/common/platform.js";import*as C from"../../../../../../vs/nls.js";import"../../../../../../vs/platform/action/common/action.js";import{IConfigurationService as k}from"../../../../../../vs/platform/configuration/common/configuration.js";import{IContextKeyService as D}from"../../../../../../vs/platform/contextkey/common/contextkey.js";import{IContextMenuService as T}from"../../../../../../vs/platform/contextview/browser/contextView.js";import{IHoverService as y}from"../../../../../../vs/platform/hover/browser/hover.js";import{IInstantiationService as x}from"../../../../../../vs/platform/instantiation/common/instantiation.js";import{IKeybindingService as W}from"../../../../../../vs/platform/keybinding/common/keybinding.js";import{ILabelService as O}from"../../../../../../vs/platform/label/common/label.js";import{IOpenerService as w}from"../../../../../../vs/platform/opener/common/opener.js";import{ITelemetryService as H}from"../../../../../../vs/platform/telemetry/common/telemetry.js";import{listDropOverBackground as L}from"../../../../../../vs/platform/theme/common/colorRegistry.js";import{IThemeService as K}from"../../../../../../vs/platform/theme/common/themeService.js";import{isTemporaryWorkspace as M,IWorkspaceContextService as _,WorkbenchState as A}from"../../../../../../vs/platform/workspace/common/workspace.js";import{ResourcesDropHandler as V}from"../../../../../../vs/workbench/browser/dnd.js";import{ViewPane as z}from"../../../../../../vs/workbench/browser/parts/views/viewPane.js";import"../../../../../../vs/workbench/browser/parts/views/viewsViewlet.js";import{IViewDescriptorService as B}from"../../../../../../vs/workbench/common/views.js";let s=class extends z{constructor(r,e,t,n,c,l,E,d,N,v,m,S,f){super(r,c,l,d,v,t,n,m,e,S,f);this.contextService=E;this.labelService=N;this._register(this.contextService.onDidChangeWorkbenchState(()=>this.refreshTitle())),this._register(this.labelService.onDidChangeFormatters(()=>this.refreshTitle()))}static ID="workbench.explorer.emptyView";static NAME=C.localize2("noWorkspace","No Folder Opened");_disposed=!1;shouldShowWelcome(){return!0}renderBody(r){super.renderBody(r),this._register(new g(r,{onDrop:e=>{r.style.backgroundColor="",this.instantiationService.createInstance(V,{allowWorkspaceOpen:!b||M(this.contextService.getWorkspace())}).handleDrop(e,u(r))},onDragEnter:()=>{const e=this.themeService.getColorTheme().getColor(L);r.style.backgroundColor=e?e.toString():""},onDragEnd:()=>{r.style.backgroundColor=""},onDragLeave:()=>{r.style.backgroundColor=""},onDragOver:e=>{e.dataTransfer&&(e.dataTransfer.dropEffect="copy")}})),this.refreshTitle()}refreshTitle(){this._disposed||(this.contextService.getWorkbenchState()===A.WORKSPACE?this.updateTitle(s.NAME.value):this.updateTitle(this.title))}dispose(){this._disposed=!0,super.dispose()}};s=p([o(1,K),o(2,B),o(3,x),o(4,W),o(5,T),o(6,_),o(7,k),o(8,O),o(9,D),o(10,w),o(11,H),o(12,y)],s);export{s as EmptyView};
