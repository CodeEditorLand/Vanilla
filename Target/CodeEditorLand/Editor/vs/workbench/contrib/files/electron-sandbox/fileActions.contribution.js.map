{
  "version": 3,
  "sources": ["../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/contrib/files/electron-sandbox/fileActions.contribution.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { KeyChord, KeyCode, KeyMod } from \"../../../../base/common/keyCodes.js\";\nimport { Schemas } from \"../../../../base/common/network.js\";\nimport { isMacintosh, isWindows } from \"../../../../base/common/platform.js\";\nimport type { URI } from \"../../../../base/common/uri.js\";\nimport { EditorContextKeys } from \"../../../../editor/common/editorContextKeys.js\";\nimport * as nls from \"../../../../nls.js\";\nimport {\n\tMenuId,\n\tMenuRegistry,\n} from \"../../../../platform/actions/common/actions.js\";\nimport { ContextKeyExpr } from \"../../../../platform/contextkey/common/contextkey.js\";\nimport type { ServicesAccessor } from \"../../../../platform/instantiation/common/instantiation.js\";\nimport {\n\tKeybindingWeight,\n\tKeybindingsRegistry,\n} from \"../../../../platform/keybinding/common/keybindingsRegistry.js\";\nimport { IListService } from \"../../../../platform/list/browser/listService.js\";\nimport { INativeHostService } from \"../../../../platform/native/common/native.js\";\nimport { IWorkspaceContextService } from \"../../../../platform/workspace/common/workspace.js\";\nimport { ResourceContextKey } from \"../../../common/contextkeys.js\";\nimport {\n\tEditorResourceAccessor,\n\tSideBySideEditor,\n} from \"../../../common/editor.js\";\nimport { IEditorGroupsService } from \"../../../services/editor/common/editorGroupsService.js\";\nimport { IEditorService } from \"../../../services/editor/common/editorService.js\";\nimport {\n\tappendEditorTitleContextMenuItem,\n\tappendToCommandPalette,\n} from \"../browser/fileActions.contribution.js\";\nimport {\n\tIExplorerService,\n\tgetMultiSelectedResources,\n} from \"../browser/files.js\";\nimport { revealResourcesInOS } from \"./fileCommands.js\";\n\nconst REVEAL_IN_OS_COMMAND_ID = \"revealFileInOS\";\nconst REVEAL_IN_OS_LABEL = isWindows\n\t? nls.localize2(\"revealInWindows\", \"Reveal in File Explorer\")\n\t: isMacintosh\n\t\t? nls.localize2(\"revealInMac\", \"Reveal in Finder\")\n\t\t: nls.localize2(\"openContainer\", \"Open Containing Folder\");\nconst REVEAL_IN_OS_WHEN_CONTEXT = ContextKeyExpr.or(\n\tResourceContextKey.Scheme.isEqualTo(Schemas.file),\n\tResourceContextKey.Scheme.isEqualTo(Schemas.vscodeUserData),\n);\n\nKeybindingsRegistry.registerCommandAndKeybindingRule({\n\tid: REVEAL_IN_OS_COMMAND_ID,\n\tweight: KeybindingWeight.WorkbenchContrib,\n\twhen: EditorContextKeys.focus.toNegated(),\n\tprimary: KeyMod.CtrlCmd | KeyMod.Alt | KeyCode.KeyR,\n\twin: {\n\t\tprimary: KeyMod.Shift | KeyMod.Alt | KeyCode.KeyR,\n\t},\n\thandler: (accessor: ServicesAccessor, resource: URI | object) => {\n\t\tconst resources = getMultiSelectedResources(\n\t\t\tresource,\n\t\t\taccessor.get(IListService),\n\t\t\taccessor.get(IEditorService),\n\t\t\taccessor.get(IEditorGroupsService),\n\t\t\taccessor.get(IExplorerService),\n\t\t);\n\t\trevealResourcesInOS(\n\t\t\tresources,\n\t\t\taccessor.get(INativeHostService),\n\t\t\taccessor.get(IWorkspaceContextService),\n\t\t);\n\t},\n});\n\nconst REVEAL_ACTIVE_FILE_IN_OS_COMMAND_ID =\n\t\"workbench.action.files.revealActiveFileInWindows\";\n\nKeybindingsRegistry.registerCommandAndKeybindingRule({\n\tweight: KeybindingWeight.WorkbenchContrib,\n\twhen: undefined,\n\tprimary: KeyChord(KeyMod.CtrlCmd | KeyCode.KeyK, KeyCode.KeyR),\n\tid: REVEAL_ACTIVE_FILE_IN_OS_COMMAND_ID,\n\thandler: (accessor: ServicesAccessor) => {\n\t\tconst editorService = accessor.get(IEditorService);\n\t\tconst activeInput = editorService.activeEditor;\n\t\tconst resource = EditorResourceAccessor.getOriginalUri(activeInput, {\n\t\t\tfilterByScheme: Schemas.file,\n\t\t\tsupportSideBySide: SideBySideEditor.PRIMARY,\n\t\t});\n\t\tconst resources = resource ? [resource] : [];\n\t\trevealResourcesInOS(\n\t\t\tresources,\n\t\t\taccessor.get(INativeHostService),\n\t\t\taccessor.get(IWorkspaceContextService),\n\t\t);\n\t},\n});\n\nappendEditorTitleContextMenuItem(\n\tREVEAL_IN_OS_COMMAND_ID,\n\tREVEAL_IN_OS_LABEL.value,\n\tREVEAL_IN_OS_WHEN_CONTEXT,\n\t\"2_files\",\n\tfalse,\n\t0,\n);\n\n// Menu registration - open editors\n\nconst revealInOsCommand = {\n\tid: REVEAL_IN_OS_COMMAND_ID,\n\ttitle: REVEAL_IN_OS_LABEL.value,\n};\nMenuRegistry.appendMenuItem(MenuId.OpenEditorsContext, {\n\tgroup: \"navigation\",\n\torder: 20,\n\tcommand: revealInOsCommand,\n\twhen: REVEAL_IN_OS_WHEN_CONTEXT,\n});\nMenuRegistry.appendMenuItem(MenuId.OpenEditorsContextShare, {\n\ttitle: nls.localize(\"miShare\", \"Share\"),\n\tsubmenu: MenuId.MenubarShare,\n\tgroup: \"share\",\n\torder: 3,\n});\n\n// Menu registration - explorer\n\nMenuRegistry.appendMenuItem(MenuId.ExplorerContext, {\n\tgroup: \"navigation\",\n\torder: 20,\n\tcommand: revealInOsCommand,\n\twhen: REVEAL_IN_OS_WHEN_CONTEXT,\n});\n\n// Command Palette\n\nconst category = nls.localize2(\"filesCategory\", \"File\");\nappendToCommandPalette(\n\t{\n\t\tid: REVEAL_IN_OS_COMMAND_ID,\n\t\ttitle: REVEAL_IN_OS_LABEL,\n\t\tcategory: category,\n\t},\n\tREVEAL_IN_OS_WHEN_CONTEXT,\n);\n"],
  "mappings": "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",
  "names": []
}
