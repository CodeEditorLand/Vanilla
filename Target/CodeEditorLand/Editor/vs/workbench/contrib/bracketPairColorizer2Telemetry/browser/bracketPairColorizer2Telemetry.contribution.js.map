{
  "version": 3,
  "sources": ["../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/contrib/bracketPairColorizer2Telemetry/browser/bracketPairColorizer2Telemetry.contribution.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { onUnexpectedError } from '../../../../base/common/errors.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { Registry } from '../../../../platform/registry/common/platform.js';\nimport { ITelemetryService } from '../../../../platform/telemetry/common/telemetry.js';\nimport { Extensions as WorkbenchExtensions, IWorkbenchContributionsRegistry } from '../../../common/contributions.js';\nimport { IExtensionsWorkbenchService } from '../../extensions/common/extensions.js';\nimport { EnablementState } from '../../../services/extensionManagement/common/extensionManagement.js';\nimport { LifecyclePhase } from '../../../services/lifecycle/common/lifecycle.js';\n\nclass BracketPairColorizer2TelemetryContribution {\n\tconstructor(\n\t\t@IConfigurationService private readonly configurationService: IConfigurationService,\n\t\t@IExtensionsWorkbenchService private readonly extensionsWorkbenchService: IExtensionsWorkbenchService,\n\t\t@ITelemetryService private readonly telemetryService: ITelemetryService\n\t) {\n\t\tthis.init().catch(onUnexpectedError);\n\t}\n\n\tprivate async init(): Promise<void> {\n\t\tconst bracketPairColorizerId = 'coenraads.bracket-pair-colorizer-2';\n\n\t\tawait this.extensionsWorkbenchService.queryLocal();\n\t\tconst extension = this.extensionsWorkbenchService.installed.find(e => e.identifier.id === bracketPairColorizerId);\n\t\tif (\n\t\t\t!extension ||\n\t\t\t((extension.enablementState !== EnablementState.EnabledGlobally) &&\n\t\t\t\t(extension.enablementState !== EnablementState.EnabledWorkspace))\n\t\t) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst nativeBracketPairColorizationEnabledKey = 'editor.bracketPairColorization.enabled';\n\t\tconst nativeColorizationEnabled = !!this.configurationService.getValue(nativeBracketPairColorizationEnabledKey);\n\n\t\ttype BracketPairColorizer2InstalledClassification = {\n\t\t\towner: 'hediet';\n\t\t\tnativeColorizationEnabled: { classification: 'SystemMetaData'; purpose: 'FeatureInsight'; comment: 'Whether or not built-in bracket pair colorization is being used' };\n\t\t\tcomment: 'We use this to understand how many users have the bracket pair colorizer extension installed (and how many of them have native bracket pair colorization enabled), as the extension does not do anything if native bracket pair colorization is enabled.';\n\t\t};\n\t\ttype BracketPairColorizer2Event = {\n\t\t\tnativeColorizationEnabled: boolean;\n\t\t};\n\t\tthis.telemetryService.publicLog2<BracketPairColorizer2Event, BracketPairColorizer2InstalledClassification>('bracketPairColorizerTwoUsage', {\n\t\t\tnativeColorizationEnabled\n\t\t});\n\t}\n}\n\nRegistry.as<IWorkbenchContributionsRegistry>(WorkbenchExtensions.Workbench).registerWorkbenchContribution(BracketPairColorizer2TelemetryContribution, LifecyclePhase.Restored);\n\n"],
  "mappings": ";;;;;;;;;;;;AAKA,SAAS,yBAAyB;AAClC,SAAS,6BAA6B;AACtC,SAAS,gBAAgB;AACzB,SAAS,yBAAyB;AAClC,SAAS,cAAc,qBAAqB,uCAAuC;AACnF,SAAS,mCAAmC;AAC5C,SAAS,uBAAuB;AAChC,SAAS,sBAAsB;AAE/B,IAAM,6CAAN,MAAiD;AAAA,EAChD,YACyC,sBACM,4BACV,kBACnC;AAHuC;AACM;AACV;AAEpC,SAAK,KAAK,EAAE,MAAM,iBAAiB;AAAA,EACpC;AAAA,EArBD,OAciD;AAAA;AAAA;AAAA,EAShD,MAAc,OAAsB;AACnC,UAAM,yBAAyB;AAE/B,UAAM,KAAK,2BAA2B,WAAW;AACjD,UAAM,YAAY,KAAK,2BAA2B,UAAU,KAAK,OAAK,EAAE,WAAW,OAAO,sBAAsB;AAChH,QACC,CAAC,aACC,UAAU,oBAAoB,gBAAgB,mBAC9C,UAAU,oBAAoB,gBAAgB,kBAC/C;AACD;AAAA,IACD;AAEA,UAAM,0CAA0C;AAChD,UAAM,4BAA4B,CAAC,CAAC,KAAK,qBAAqB,SAAS,uCAAuC;AAU9G,SAAK,iBAAiB,WAAqF,gCAAgC;AAAA,MAC1I;AAAA,IACD,CAAC;AAAA,EACF;AACD;AArCM,6CAAN;AAAA,EAEG;AAAA,EACA;AAAA,EACA;AAAA,GAJG;AAuCN,SAAS,GAAoC,oBAAoB,SAAS,EAAE,8BAA8B,4CAA4C,eAAe,QAAQ;",
  "names": []
}
