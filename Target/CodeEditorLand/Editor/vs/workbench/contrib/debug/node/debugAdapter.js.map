{
  "version": 3,
  "sources": ["../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/contrib/debug/node/debugAdapter.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as cp from 'child_process';\nimport * as net from 'net';\nimport * as stream from 'stream';\nimport * as objects from '../../../../base/common/objects.js';\nimport * as path from '../../../../base/common/path.js';\nimport * as platform from '../../../../base/common/platform.js';\nimport * as strings from '../../../../base/common/strings.js';\nimport { Promises } from '../../../../base/node/pfs.js';\nimport * as nls from '../../../../nls.js';\nimport { IExtensionDescription } from '../../../../platform/extensions/common/extensions.js';\nimport { IDebugAdapterExecutable, IDebugAdapterNamedPipeServer, IDebugAdapterServer, IDebuggerContribution, IPlatformSpecificAdapterContribution } from '../common/debug.js';\nimport { AbstractDebugAdapter } from '../common/abstractDebugAdapter.js';\n\n/**\n * An implementation that communicates via two streams with the debug adapter.\n */\nexport abstract class StreamDebugAdapter extends AbstractDebugAdapter {\n\n\tprivate static readonly TWO_CRLF = '\\r\\n\\r\\n';\n\tprivate static readonly HEADER_LINESEPARATOR = /\\r?\\n/;\t// allow for non-RFC 2822 conforming line separators\n\tprivate static readonly HEADER_FIELDSEPARATOR = /: */;\n\n\tprivate outputStream!: stream.Writable;\n\tprivate rawData = Buffer.allocUnsafe(0);\n\tprivate contentLength = -1;\n\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\tprotected connect(readable: stream.Readable, writable: stream.Writable): void {\n\n\t\tthis.outputStream = writable;\n\t\tthis.rawData = Buffer.allocUnsafe(0);\n\t\tthis.contentLength = -1;\n\n\t\treadable.on('data', (data: Buffer) => this.handleData(data));\n\t}\n\n\tsendMessage(message: DebugProtocol.ProtocolMessage): void {\n\n\t\tif (this.outputStream) {\n\t\t\tconst json = JSON.stringify(message);\n\t\t\tthis.outputStream.write(`Content-Length: ${Buffer.byteLength(json, 'utf8')}${StreamDebugAdapter.TWO_CRLF}${json}`, 'utf8');\n\t\t}\n\t}\n\n\tprivate handleData(data: Buffer): void {\n\n\t\tthis.rawData = Buffer.concat([this.rawData, data]);\n\n\t\twhile (true) {\n\t\t\tif (this.contentLength >= 0) {\n\t\t\t\tif (this.rawData.length >= this.contentLength) {\n\t\t\t\t\tconst message = this.rawData.toString('utf8', 0, this.contentLength);\n\t\t\t\t\tthis.rawData = this.rawData.slice(this.contentLength);\n\t\t\t\t\tthis.contentLength = -1;\n\t\t\t\t\tif (message.length > 0) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tthis.acceptMessage(<DebugProtocol.ProtocolMessage>JSON.parse(message));\n\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\tthis._onError.fire(new Error((e.message || e) + '\\n' + message));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tcontinue;\t// there may be more complete messages to process\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconst idx = this.rawData.indexOf(StreamDebugAdapter.TWO_CRLF);\n\t\t\t\tif (idx !== -1) {\n\t\t\t\t\tconst header = this.rawData.toString('utf8', 0, idx);\n\t\t\t\t\tconst lines = header.split(StreamDebugAdapter.HEADER_LINESEPARATOR);\n\t\t\t\t\tfor (const h of lines) {\n\t\t\t\t\t\tconst kvPair = h.split(StreamDebugAdapter.HEADER_FIELDSEPARATOR);\n\t\t\t\t\t\tif (kvPair[0] === 'Content-Length') {\n\t\t\t\t\t\t\tthis.contentLength = Number(kvPair[1]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis.rawData = this.rawData.slice(idx + StreamDebugAdapter.TWO_CRLF.length);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\t\t\tbreak;\n\t\t}\n\t}\n}\n\nexport abstract class NetworkDebugAdapter extends StreamDebugAdapter {\n\n\tprotected socket?: net.Socket;\n\n\tprotected abstract createConnection(connectionListener: () => void): net.Socket;\n\n\tstartSession(): Promise<void> {\n\t\treturn new Promise<void>((resolve, reject) => {\n\t\t\tlet connected = false;\n\n\t\t\tthis.socket = this.createConnection(() => {\n\t\t\t\tthis.connect(this.socket!, this.socket!);\n\t\t\t\tresolve();\n\t\t\t\tconnected = true;\n\t\t\t});\n\n\t\t\tthis.socket.on('close', () => {\n\t\t\t\tif (connected) {\n\t\t\t\t\tthis._onError.fire(new Error('connection closed'));\n\t\t\t\t} else {\n\t\t\t\t\treject(new Error('connection closed'));\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.socket.on('error', error => {\n\t\t\t\tif (connected) {\n\t\t\t\t\tthis._onError.fire(error);\n\t\t\t\t} else {\n\t\t\t\t\treject(error);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\n\tasync stopSession(): Promise<void> {\n\t\tawait this.cancelPendingRequests();\n\t\tif (this.socket) {\n\t\t\tthis.socket.end();\n\t\t\tthis.socket = undefined;\n\t\t}\n\t}\n}\n\n/**\n * An implementation that connects to a debug adapter via a socket.\n*/\nexport class SocketDebugAdapter extends NetworkDebugAdapter {\n\n\tconstructor(private adapterServer: IDebugAdapterServer) {\n\t\tsuper();\n\t}\n\n\tprotected createConnection(connectionListener: () => void): net.Socket {\n\t\treturn net.createConnection(this.adapterServer.port, this.adapterServer.host || '127.0.0.1', connectionListener);\n\t}\n}\n\n/**\n * An implementation that connects to a debug adapter via a NamedPipe (on Windows)/UNIX Domain Socket (on non-Windows).\n */\nexport class NamedPipeDebugAdapter extends NetworkDebugAdapter {\n\n\tconstructor(private adapterServer: IDebugAdapterNamedPipeServer) {\n\t\tsuper();\n\t}\n\n\tprotected createConnection(connectionListener: () => void): net.Socket {\n\t\treturn net.createConnection(this.adapterServer.path, connectionListener);\n\t}\n}\n\n/**\n * An implementation that launches the debug adapter as a separate process and communicates via stdin/stdout.\n*/\nexport class ExecutableDebugAdapter extends StreamDebugAdapter {\n\n\tprivate serverProcess: cp.ChildProcess | undefined;\n\n\tconstructor(private adapterExecutable: IDebugAdapterExecutable, private debugType: string) {\n\t\tsuper();\n\t}\n\n\tasync startSession(): Promise<void> {\n\n\t\tconst command = this.adapterExecutable.command;\n\t\tconst args = this.adapterExecutable.args;\n\t\tconst options = this.adapterExecutable.options || {};\n\n\t\ttry {\n\t\t\t// verify executables asynchronously\n\t\t\tif (command) {\n\t\t\t\tif (path.isAbsolute(command)) {\n\t\t\t\t\tconst commandExists = await Promises.exists(command);\n\t\t\t\t\tif (!commandExists) {\n\t\t\t\t\t\tthrow new Error(nls.localize('debugAdapterBinNotFound', \"Debug adapter executable '{0}' does not exist.\", command));\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// relative path\n\t\t\t\t\tif (command.indexOf('/') < 0 && command.indexOf('\\\\') < 0) {\n\t\t\t\t\t\t// no separators: command looks like a runtime name like 'node' or 'mono'\n\t\t\t\t\t\t// TODO: check that the runtime is available on PATH\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthrow new Error(nls.localize({ key: 'debugAdapterCannotDetermineExecutable', comment: ['Adapter executable file not found'] },\n\t\t\t\t\t\"Cannot determine executable for debug adapter '{0}'.\", this.debugType));\n\t\t\t}\n\n\t\t\tlet env = process.env;\n\t\t\tif (options.env && Object.keys(options.env).length > 0) {\n\t\t\t\tenv = objects.mixin(objects.deepClone(process.env), options.env);\n\t\t\t}\n\n\t\t\tif (command === 'node') {\n\t\t\t\tif (Array.isArray(args) && args.length > 0) {\n\t\t\t\t\tconst isElectron = !!process.env['ELECTRON_RUN_AS_NODE'] || !!process.versions['electron'];\n\t\t\t\t\tconst forkOptions: cp.ForkOptions = {\n\t\t\t\t\t\tenv: env,\n\t\t\t\t\t\texecArgv: isElectron ? ['-e', 'delete process.env.ELECTRON_RUN_AS_NODE;require(process.argv[1])'] : [],\n\t\t\t\t\t\tsilent: true\n\t\t\t\t\t};\n\t\t\t\t\tif (options.cwd) {\n\t\t\t\t\t\tforkOptions.cwd = options.cwd;\n\t\t\t\t\t}\n\t\t\t\t\tconst child = cp.fork(args[0], args.slice(1), forkOptions);\n\t\t\t\t\tif (!child.pid) {\n\t\t\t\t\t\tthrow new Error(nls.localize('unableToLaunchDebugAdapter', \"Unable to launch debug adapter from '{0}'.\", args[0]));\n\t\t\t\t\t}\n\t\t\t\t\tthis.serverProcess = child;\n\t\t\t\t} else {\n\t\t\t\t\tthrow new Error(nls.localize('unableToLaunchDebugAdapterNoArgs', \"Unable to launch debug adapter.\"));\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tlet spawnCommand = command;\n\t\t\t\tlet spawnArgs = args;\n\t\t\t\tconst spawnOptions: cp.SpawnOptions = {\n\t\t\t\t\tenv: env\n\t\t\t\t};\n\t\t\t\tif (options.cwd) {\n\t\t\t\t\tspawnOptions.cwd = options.cwd;\n\t\t\t\t}\n\t\t\t\tif (platform.isWindows && (command.endsWith('.bat') || command.endsWith('.cmd'))) {\n\t\t\t\t\t// https://github.com/microsoft/vscode/issues/224184\n\t\t\t\t\tspawnOptions.shell = true;\n\t\t\t\t\tspawnCommand = `\"${command}\"`;\n\t\t\t\t\tspawnArgs = args.map(a => {\n\t\t\t\t\t\ta = a.replace(/\"/g, '\\\\\"'); // Escape existing double quotes with \\\n\t\t\t\t\t\t// Wrap in double quotes\n\t\t\t\t\t\treturn `\"${a}\"`;\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tthis.serverProcess = cp.spawn(spawnCommand, spawnArgs, spawnOptions);\n\t\t\t}\n\n\t\t\tthis.serverProcess.on('error', err => {\n\t\t\t\tthis._onError.fire(err);\n\t\t\t});\n\t\t\tthis.serverProcess.on('exit', (code, signal) => {\n\t\t\t\tthis._onExit.fire(code);\n\t\t\t});\n\n\t\t\tthis.serverProcess.stdout!.on('close', () => {\n\t\t\t\tthis._onError.fire(new Error('read error'));\n\t\t\t});\n\t\t\tthis.serverProcess.stdout!.on('error', error => {\n\t\t\t\tthis._onError.fire(error);\n\t\t\t});\n\n\t\t\tthis.serverProcess.stdin!.on('error', error => {\n\t\t\t\tthis._onError.fire(error);\n\t\t\t});\n\n\t\t\tthis.serverProcess.stderr!.resume();\n\n\t\t\t// finally connect to the DA\n\t\t\tthis.connect(this.serverProcess.stdout!, this.serverProcess.stdin!);\n\n\t\t} catch (err) {\n\t\t\tthis._onError.fire(err);\n\t\t}\n\t}\n\n\tasync stopSession(): Promise<void> {\n\n\t\tif (!this.serverProcess) {\n\t\t\treturn Promise.resolve(undefined);\n\t\t}\n\n\t\t// when killing a process in windows its child\n\t\t// processes are *not* killed but become root\n\t\t// processes. Therefore we use TASKKILL.EXE\n\t\tawait this.cancelPendingRequests();\n\t\tif (platform.isWindows) {\n\t\t\treturn new Promise<void>((c, e) => {\n\t\t\t\tconst killer = cp.exec(`taskkill /F /T /PID ${this.serverProcess!.pid}`, function (err, stdout, stderr) {\n\t\t\t\t\tif (err) {\n\t\t\t\t\t\treturn e(err);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tkiller.on('exit', c);\n\t\t\t\tkiller.on('error', e);\n\t\t\t});\n\t\t} else {\n\t\t\tthis.serverProcess.kill('SIGTERM');\n\t\t\treturn Promise.resolve(undefined);\n\t\t}\n\t}\n\n\tprivate static extract(platformContribution: IPlatformSpecificAdapterContribution, extensionFolderPath: string): IDebuggerContribution | undefined {\n\t\tif (!platformContribution) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tconst result: IDebuggerContribution = Object.create(null);\n\t\tif (platformContribution.runtime) {\n\t\t\tif (platformContribution.runtime.indexOf('./') === 0) {\t// TODO\n\t\t\t\tresult.runtime = path.join(extensionFolderPath, platformContribution.runtime);\n\t\t\t} else {\n\t\t\t\tresult.runtime = platformContribution.runtime;\n\t\t\t}\n\t\t}\n\t\tif (platformContribution.runtimeArgs) {\n\t\t\tresult.runtimeArgs = platformContribution.runtimeArgs;\n\t\t}\n\t\tif (platformContribution.program) {\n\t\t\tif (!path.isAbsolute(platformContribution.program)) {\n\t\t\t\tresult.program = path.join(extensionFolderPath, platformContribution.program);\n\t\t\t} else {\n\t\t\t\tresult.program = platformContribution.program;\n\t\t\t}\n\t\t}\n\t\tif (platformContribution.args) {\n\t\t\tresult.args = platformContribution.args;\n\t\t}\n\n\t\tconst contribution = platformContribution as IDebuggerContribution;\n\n\t\tif (contribution.win) {\n\t\t\tresult.win = ExecutableDebugAdapter.extract(contribution.win, extensionFolderPath);\n\t\t}\n\t\tif (contribution.winx86) {\n\t\t\tresult.winx86 = ExecutableDebugAdapter.extract(contribution.winx86, extensionFolderPath);\n\t\t}\n\t\tif (contribution.windows) {\n\t\t\tresult.windows = ExecutableDebugAdapter.extract(contribution.windows, extensionFolderPath);\n\t\t}\n\t\tif (contribution.osx) {\n\t\t\tresult.osx = ExecutableDebugAdapter.extract(contribution.osx, extensionFolderPath);\n\t\t}\n\t\tif (contribution.linux) {\n\t\t\tresult.linux = ExecutableDebugAdapter.extract(contribution.linux, extensionFolderPath);\n\t\t}\n\t\treturn result;\n\t}\n\n\tstatic platformAdapterExecutable(extensionDescriptions: IExtensionDescription[], debugType: string): IDebugAdapterExecutable | undefined {\n\t\tlet result: IDebuggerContribution = Object.create(null);\n\t\tdebugType = debugType.toLowerCase();\n\n\t\t// merge all contributions into one\n\t\tfor (const ed of extensionDescriptions) {\n\t\t\tif (ed.contributes) {\n\t\t\t\tconst debuggers = <IDebuggerContribution[]>ed.contributes['debuggers'];\n\t\t\t\tif (debuggers && debuggers.length > 0) {\n\t\t\t\t\tdebuggers.filter(dbg => typeof dbg.type === 'string' && strings.equalsIgnoreCase(dbg.type, debugType)).forEach(dbg => {\n\t\t\t\t\t\t// extract relevant attributes and make them absolute where needed\n\t\t\t\t\t\tconst extractedDbg = ExecutableDebugAdapter.extract(dbg, ed.extensionLocation.fsPath);\n\n\t\t\t\t\t\t// merge\n\t\t\t\t\t\tresult = objects.mixin(result, extractedDbg, ed.isBuiltin);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// select the right platform\n\t\tlet platformInfo: IPlatformSpecificAdapterContribution | undefined;\n\t\tif (platform.isWindows && !process.env.hasOwnProperty('PROCESSOR_ARCHITEW6432')) {\n\t\t\tplatformInfo = result.winx86 || result.win || result.windows;\n\t\t} else if (platform.isWindows) {\n\t\t\tplatformInfo = result.win || result.windows;\n\t\t} else if (platform.isMacintosh) {\n\t\t\tplatformInfo = result.osx;\n\t\t} else if (platform.isLinux) {\n\t\t\tplatformInfo = result.linux;\n\t\t}\n\t\tplatformInfo = platformInfo || result;\n\n\t\t// these are the relevant attributes\n\t\tconst program = platformInfo.program || result.program;\n\t\tconst args = platformInfo.args || result.args;\n\t\tconst runtime = platformInfo.runtime || result.runtime;\n\t\tconst runtimeArgs = platformInfo.runtimeArgs || result.runtimeArgs;\n\n\t\tif (runtime) {\n\t\t\treturn {\n\t\t\t\ttype: 'executable',\n\t\t\t\tcommand: runtime,\n\t\t\t\targs: (runtimeArgs || []).concat(typeof program === 'string' ? [program] : []).concat(args || [])\n\t\t\t};\n\t\t} else if (program) {\n\t\t\treturn {\n\t\t\t\ttype: 'executable',\n\t\t\t\tcommand: program,\n\t\t\t\targs: args || []\n\t\t\t};\n\t\t}\n\n\t\t// nothing found\n\t\treturn undefined;\n\t}\n}\n"],
  "mappings": "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",
  "names": []
}
