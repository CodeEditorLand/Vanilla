import t from"assert";import{ensureNoDisposablesAreLeakedInTestSuite as o}from"../../../../../base/test/common/utils.js";import"../../common/debugModel.js";import{createMockDebugModel as r}from"./mockDebugModel.js";function n(e,a){t.strictEqual(e.length,2),e.forEach(s=>{t.strictEqual(s.available,!1),t.strictEqual(s.reference,0),t.strictEqual(s.name,a)})}suite("Debug - Watch",()=>{let e;const a=o();setup(()=>{e=r(a)}),test("watch expressions",()=>{t.strictEqual(e.getWatchExpressions().length,0),e.addWatchExpression("console"),e.addWatchExpression("console");let s=e.getWatchExpressions();n(s,"console"),e.renameWatchExpression(s[0].getId(),"new_name"),e.renameWatchExpression(s[1].getId(),"new_name"),n(e.getWatchExpressions(),"new_name"),n(e.getWatchExpressions(),"new_name"),e.addWatchExpression("mockExpression"),e.moveWatchExpression(e.getWatchExpressions()[2].getId(),1),s=e.getWatchExpressions(),t.strictEqual(s[0].name,"new_name"),t.strictEqual(s[1].name,"mockExpression"),t.strictEqual(s[2].name,"new_name"),e.removeWatchExpressions(),t.strictEqual(e.getWatchExpressions().length,0)})});
