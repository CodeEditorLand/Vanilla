var l=Object.defineProperty;var S=Object.getOwnPropertyDescriptor;var c=(i,e,t,o)=>{for(var r=o>1?void 0:o?S(e,t):e,n=i.length-1,a;n>=0;n--)(a=i[n])&&(r=(o?a(e,t,r):a(r))||r);return o&&r&&l(e,t,r),r},s=(i,e)=>(t,o)=>e(t,o,i);import{DisposableStore as f}from"../../../../../vs/base/common/lifecycle.js";import{localize as g}from"../../../../../vs/nls.js";import{IConfigurationService as m}from"../../../../../vs/platform/configuration/common/configuration.js";import{ILayoutService as C}from"../../../../../vs/platform/layout/browser/layoutService.js";import{asCssVariable as D,asCssVariableName as v,registerColor as u,transparent as B}from"../../../../../vs/platform/theme/common/colorRegistry.js";import{IWorkspaceContextService as I}from"../../../../../vs/platform/workspace/common/workspace.js";import"../../../../../vs/workbench/common/contributions.js";import{COMMAND_CENTER_BACKGROUND as R,STATUS_BAR_BORDER as _,STATUS_BAR_FOREGROUND as b}from"../../../../../vs/workbench/common/theme.js";import{IDebugService as G,State as p}from"../../../../../vs/workbench/contrib/debug/common/debug.js";import{IStatusbarService as k}from"../../../../../vs/workbench/services/statusbar/browser/statusbar.js";const h=u("statusBar.debuggingBackground",{dark:"#CC6633",light:"#CC6633",hcDark:"#BA592C",hcLight:"#B5200D"},g("statusBarDebuggingBackground","Status bar background color when a program is being debugged. The status bar is shown in the bottom of the window")),A=u("statusBar.debuggingForeground",{dark:b,light:b,hcDark:b,hcLight:"#FFFFFF"},g("statusBarDebuggingForeground","Status bar foreground color when a program is being debugged. The status bar is shown in the bottom of the window")),y=u("statusBar.debuggingBorder",_,g("statusBarDebuggingBorder","Status bar border color separating to the sidebar and editor when a program is being debugged. The status bar is shown in the bottom of the window")),T=u("commandCenter.debuggingBackground",B(h,.258),g("commandCenter-activeBackground","Command center background color when a program is being debugged"),!0);let d=class{constructor(e,t,o,r,n){this.debugService=e;this.contextService=t;this.statusbarService=o;this.layoutService=r;this.configurationService=n;this.debugService.onDidChangeState(this.update,this,this.disposables),this.contextService.onDidChangeWorkbenchState(this.update,this,this.disposables),this.configurationService.onDidChangeConfiguration(a=>{(a.affectsConfiguration("debug.enableStatusBarColor")||a.affectsConfiguration("debug.toolBarLocation"))&&this.update()},void 0,this.disposables),this.update()}disposables=new f;disposable;set enabled(e){e!==!!this.disposable&&(e?this.disposable=this.statusbarService.overrideStyle({priority:10,foreground:A,background:h,border:y}):(this.disposable.dispose(),this.disposable=void 0))}update(){const e=this.configurationService.getValue("debug"),t=w(this.debugService.state,this.debugService.getModel().getSessions());e.enableStatusBarColor?this.enabled=t:this.enabled=!1;const o=e.toolBarLocation==="commandCenter";this.layoutService.mainContainer.style.setProperty(v(R),o&&t?D(T):"")}dispose(){this.disposable?.dispose(),this.disposables.dispose()}};d=c([s(0,G),s(1,I),s(2,k),s(3,C),s(4,m)],d);function w(i,e){return!(i===p.Inactive||i===p.Initializing||e.every(t=>t.suppressDebugStatusbar||t.configuration?.noDebug))}export{T as COMMAND_CENTER_DEBUGGING_BACKGROUND,h as STATUS_BAR_DEBUGGING_BACKGROUND,y as STATUS_BAR_DEBUGGING_BORDER,A as STATUS_BAR_DEBUGGING_FOREGROUND,d as StatusBarColorProvider,w as isStatusbarInDebugMode};
