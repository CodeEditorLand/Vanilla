{
  "version": 3,
  "sources": ["../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/contrib/debug/browser/debugStatus.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport {\n\ttype IDisposable,\n\tdispose,\n} from \"../../../../base/common/lifecycle.js\";\nimport * as nls from \"../../../../nls.js\";\nimport { IConfigurationService } from \"../../../../platform/configuration/common/configuration.js\";\nimport type { IWorkbenchContribution } from \"../../../common/contributions.js\";\nimport {\n\ttype IStatusbarEntry,\n\ttype IStatusbarEntryAccessor,\n\tIStatusbarService,\n\tStatusbarAlignment,\n} from \"../../../services/statusbar/browser/statusbar.js\";\nimport {\n\ttype IDebugConfiguration,\n\tIDebugService,\n\tState,\n} from \"../common/debug.js\";\n\nexport class DebugStatusContribution implements IWorkbenchContribution {\n\tprivate showInStatusBar!: \"never\" | \"always\" | \"onFirstSessionStart\";\n\tprivate toDispose: IDisposable[] = [];\n\tprivate entryAccessor: IStatusbarEntryAccessor | undefined;\n\n\tconstructor(\n\t\t@IStatusbarService private readonly statusBarService: IStatusbarService,\n\t\t@IDebugService private readonly debugService: IDebugService,\n\t\t@IConfigurationService configurationService: IConfigurationService\n\t) {\n\n\t\tconst addStatusBarEntry = () => {\n\t\t\tthis.entryAccessor = this.statusBarService.addEntry(this.entry, 'status.debug', StatusbarAlignment.LEFT, 30 /* Low Priority */);\n\t\t};\n\n\t\tconst setShowInStatusBar = () => {\n\t\t\tthis.showInStatusBar = configurationService.getValue<IDebugConfiguration>('debug').showInStatusBar;\n\t\t\tif (this.showInStatusBar === 'always' && !this.entryAccessor) {\n\t\t\t\taddStatusBarEntry();\n\t\t\t}\n\t\t};\n\t\tsetShowInStatusBar();\n\n\t\tthis.toDispose.push(this.debugService.onDidChangeState(state => {\n\t\t\tif (state !== State.Inactive && this.showInStatusBar === 'onFirstSessionStart' && !this.entryAccessor) {\n\t\t\t\taddStatusBarEntry();\n\t\t\t}\n\t\t}));\n\t\tthis.toDispose.push(configurationService.onDidChangeConfiguration(e => {\n\t\t\tif (e.affectsConfiguration('debug.showInStatusBar')) {\n\t\t\t\tsetShowInStatusBar();\n\t\t\t\tif (this.entryAccessor && this.showInStatusBar === 'never') {\n\t\t\t\t\tthis.entryAccessor.dispose();\n\t\t\t\t\tthis.entryAccessor = undefined;\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\t\tthis.toDispose.push(this.debugService.getConfigurationManager().onDidSelectConfiguration(e => {\n\t\t\tthis.entryAccessor?.update(this.entry);\n\t\t}));\n\t}\n\n\tprivate get entry(): IStatusbarEntry {\n\t\tlet text = \"\";\n\t\tconst manager = this.debugService.getConfigurationManager();\n\t\tconst name = manager.selectedConfiguration.name || \"\";\n\t\tconst nameAndLaunchPresent =\n\t\t\tname && manager.selectedConfiguration.launch;\n\t\tif (nameAndLaunchPresent) {\n\t\t\ttext =\n\t\t\t\tmanager.getLaunches().length > 1\n\t\t\t\t\t? `${name} (${manager.selectedConfiguration.launch!.name})`\n\t\t\t\t\t: name;\n\t\t}\n\n\t\treturn {\n\t\t\tname: nls.localize(\"status.debug\", \"Debug\"),\n\t\t\ttext: \"$(debug-alt-small) \" + text,\n\t\t\tariaLabel: nls.localize(\"debugTarget\", \"Debug: {0}\", text),\n\t\t\ttooltip: nls.localize(\n\t\t\t\t\"selectAndStartDebug\",\n\t\t\t\t\"Select and Start Debug Configuration\",\n\t\t\t),\n\t\t\tcommand: \"workbench.action.debug.selectandstart\",\n\t\t};\n\t}\n\n\tdispose(): void {\n\t\tthis.entryAccessor?.dispose();\n\t\tdispose(this.toDispose);\n\t}\n}\n"],
  "mappings": ";;;;;;;;;;;;AAKA;AAAA,EAEC;AAAA,OACM;AACP,YAAY,SAAS;AACrB,SAAS,6BAA6B;AAEtC;AAAA,EAGC;AAAA,EACA;AAAA,OACM;AACP;AAAA,EAEC;AAAA,EACA;AAAA,OACM;AAEA,IAAM,0BAAN,MAAgE;AAAA,EAKtE,YACqC,kBACJ,cACT,sBACtB;AAHmC;AACJ;AAIhC,UAAM,oBAAoB,6BAAM;AAC/B,WAAK,gBAAgB,KAAK,iBAAiB;AAAA,QAAS,KAAK;AAAA,QAAO;AAAA,QAAgB,mBAAmB;AAAA,QAAM;AAAA;AAAA,MAAqB;AAAA,IAC/H,GAF0B;AAI1B,UAAM,qBAAqB,6BAAM;AAChC,WAAK,kBAAkB,qBAAqB,SAA8B,OAAO,EAAE;AACnF,UAAI,KAAK,oBAAoB,YAAY,CAAC,KAAK,eAAe;AAC7D,0BAAkB;AAAA,MACnB;AAAA,IACD,GAL2B;AAM3B,uBAAmB;AAEnB,SAAK,UAAU,KAAK,KAAK,aAAa,iBAAiB,WAAS;AAC/D,UAAI,UAAU,MAAM,YAAY,KAAK,oBAAoB,yBAAyB,CAAC,KAAK,eAAe;AACtG,0BAAkB;AAAA,MACnB;AAAA,IACD,CAAC,CAAC;AACF,SAAK,UAAU,KAAK,qBAAqB,yBAAyB,OAAK;AACtE,UAAI,EAAE,qBAAqB,uBAAuB,GAAG;AACpD,2BAAmB;AACnB,YAAI,KAAK,iBAAiB,KAAK,oBAAoB,SAAS;AAC3D,eAAK,cAAc,QAAQ;AAC3B,eAAK,gBAAgB;AAAA,QACtB;AAAA,MACD;AAAA,IACD,CAAC,CAAC;AACF,SAAK,UAAU,KAAK,KAAK,aAAa,wBAAwB,EAAE,yBAAyB,OAAK;AAC7F,WAAK,eAAe,OAAO,KAAK,KAAK;AAAA,IACtC,CAAC,CAAC;AAAA,EACH;AAAA,EAhED,OAwBuE;AAAA;AAAA;AAAA,EAC9D;AAAA,EACA,YAA2B,CAAC;AAAA,EAC5B;AAAA,EAuCR,IAAY,QAAyB;AACpC,QAAI,OAAO;AACX,UAAM,UAAU,KAAK,aAAa,wBAAwB;AAC1D,UAAM,OAAO,QAAQ,sBAAsB,QAAQ;AACnD,UAAM,uBACL,QAAQ,QAAQ,sBAAsB;AACvC,QAAI,sBAAsB;AACzB,aACC,QAAQ,YAAY,EAAE,SAAS,IAC5B,GAAG,IAAI,KAAK,QAAQ,sBAAsB,OAAQ,IAAI,MACtD;AAAA,IACL;AAEA,WAAO;AAAA,MACN,MAAM,IAAI,SAAS,gBAAgB,OAAO;AAAA,MAC1C,MAAM,wBAAwB;AAAA,MAC9B,WAAW,IAAI,SAAS,eAAe,cAAc,IAAI;AAAA,MACzD,SAAS,IAAI;AAAA,QACZ;AAAA,QACA;AAAA,MACD;AAAA,MACA,SAAS;AAAA,IACV;AAAA,EACD;AAAA,EAEA,UAAgB;AACf,SAAK,eAAe,QAAQ;AAC5B,YAAQ,KAAK,SAAS;AAAA,EACvB;AACD;AAvEa,0BAAN;AAAA,EAMJ;AAAA,EACA;AAAA,EACA;AAAA,GARU;",
  "names": []
}
