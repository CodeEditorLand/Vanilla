{
  "version": 3,
  "sources": ["../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/contrib/debug/browser/loadedScriptsView.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as nls from '../../../../nls.js';\nimport { IViewletViewOptions } from '../../../browser/parts/views/viewsViewlet.js';\nimport { normalize, isAbsolute, posix } from '../../../../base/common/path.js';\nimport { ViewPane, ViewAction } from '../../../browser/parts/views/viewPane.js';\nimport { IInstantiationService, ServicesAccessor } from '../../../../platform/instantiation/common/instantiation.js';\nimport { IContextMenuService } from '../../../../platform/contextview/browser/contextView.js';\nimport { IKeybindingService } from '../../../../platform/keybinding/common/keybinding.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { renderViewTree } from './baseDebugView.js';\nimport { IDebugSession, IDebugService, CONTEXT_LOADED_SCRIPTS_ITEM_TYPE, LOADED_SCRIPTS_VIEW_ID } from '../common/debug.js';\nimport { Source } from '../common/debugSource.js';\nimport { IWorkspaceContextService, IWorkspaceFolder } from '../../../../platform/workspace/common/workspace.js';\nimport { IContextKey, IContextKeyService, ContextKeyExpr } from '../../../../platform/contextkey/common/contextkey.js';\nimport { normalizeDriveLetter, tildify } from '../../../../base/common/labels.js';\nimport { isWindows } from '../../../../base/common/platform.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { ltrim } from '../../../../base/common/strings.js';\nimport { RunOnceScheduler } from '../../../../base/common/async.js';\nimport { ResourceLabels, IResourceLabelProps, IResourceLabelOptions, IResourceLabel } from '../../../browser/labels.js';\nimport { FileKind } from '../../../../platform/files/common/files.js';\nimport { IListVirtualDelegate } from '../../../../base/browser/ui/list/list.js';\nimport { ITreeNode, ITreeFilter, TreeVisibility, TreeFilterResult, ITreeElement } from '../../../../base/browser/ui/tree/tree.js';\nimport { IListAccessibilityProvider } from '../../../../base/browser/ui/list/listWidget.js';\nimport { IEditorService } from '../../../services/editor/common/editorService.js';\nimport { WorkbenchCompressibleObjectTree } from '../../../../platform/list/browser/listService.js';\nimport { dispose } from '../../../../base/common/lifecycle.js';\nimport { createMatches, FuzzyScore } from '../../../../base/common/filters.js';\nimport { DebugContentProvider } from '../common/debugContentProvider.js';\nimport { ILabelService } from '../../../../platform/label/common/label.js';\nimport type { ICompressedTreeNode } from '../../../../base/browser/ui/tree/compressedObjectTreeModel.js';\nimport type { ICompressibleTreeRenderer } from '../../../../base/browser/ui/tree/objectTree.js';\nimport { registerAction2, MenuId } from '../../../../platform/actions/common/actions.js';\nimport { Codicon } from '../../../../base/common/codicons.js';\n\nimport { IViewDescriptorService } from '../../../common/views.js';\nimport { IOpenerService } from '../../../../platform/opener/common/opener.js';\nimport { IThemeService } from '../../../../platform/theme/common/themeService.js';\nimport { ITelemetryService } from '../../../../platform/telemetry/common/telemetry.js';\nimport { IPathService } from '../../../services/path/common/pathService.js';\nimport { TreeFindMode } from '../../../../base/browser/ui/tree/abstractTree.js';\nimport { IHoverService } from '../../../../platform/hover/browser/hover.js';\n\nconst NEW_STYLE_COMPRESS = true;\n\n// RFC 2396, Appendix A: https://www.ietf.org/rfc/rfc2396.txt\nconst URI_SCHEMA_PATTERN = /^[a-zA-Z][a-zA-Z0-9\\+\\-\\.]+:/;\n\ntype LoadedScriptsItem = BaseTreeItem;\n\nclass BaseTreeItem {\n\n\tprivate _showedMoreThanOne: boolean;\n\tprivate _children = new Map<string, BaseTreeItem>();\n\tprivate _source: Source | undefined;\n\n\tconstructor(private _parent: BaseTreeItem | undefined, private _label: string, public readonly isIncompressible = false) {\n\t\tthis._showedMoreThanOne = false;\n\t}\n\n\tupdateLabel(label: string) {\n\t\tthis._label = label;\n\t}\n\n\tisLeaf(): boolean {\n\t\treturn this._children.size === 0;\n\t}\n\n\tgetSession(): IDebugSession | undefined {\n\t\tif (this._parent) {\n\t\t\treturn this._parent.getSession();\n\t\t}\n\t\treturn undefined;\n\t}\n\n\tsetSource(session: IDebugSession, source: Source): void {\n\t\tthis._source = source;\n\t\tthis._children.clear();\n\t\tif (source.raw && source.raw.sources) {\n\t\t\tfor (const src of source.raw.sources) {\n\t\t\t\tif (src.name && src.path) {\n\t\t\t\t\tconst s = new BaseTreeItem(this, src.name);\n\t\t\t\t\tthis._children.set(src.path, s);\n\t\t\t\t\tconst ss = session.getSource(src);\n\t\t\t\t\ts.setSource(session, ss);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tcreateIfNeeded<T extends BaseTreeItem>(key: string, factory: (parent: BaseTreeItem, label: string) => T): T {\n\t\tlet child = <T>this._children.get(key);\n\t\tif (!child) {\n\t\t\tchild = factory(this, key);\n\t\t\tthis._children.set(key, child);\n\t\t}\n\t\treturn child;\n\t}\n\n\tgetChild(key: string): BaseTreeItem | undefined {\n\t\treturn this._children.get(key);\n\t}\n\n\tremove(key: string): void {\n\t\tthis._children.delete(key);\n\t}\n\n\tremoveFromParent(): void {\n\t\tif (this._parent) {\n\t\t\tthis._parent.remove(this._label);\n\t\t\tif (this._parent._children.size === 0) {\n\t\t\t\tthis._parent.removeFromParent();\n\t\t\t}\n\t\t}\n\t}\n\n\tgetTemplateId(): string {\n\t\treturn 'id';\n\t}\n\n\t// a dynamic ID based on the parent chain; required for reparenting (see #55448)\n\tgetId(): string {\n\t\tconst parent = this.getParent();\n\t\treturn parent ? `${parent.getId()}/${this.getInternalId()}` : this.getInternalId();\n\t}\n\n\tgetInternalId(): string {\n\t\treturn this._label;\n\t}\n\n\t// skips intermediate single-child nodes\n\tgetParent(): BaseTreeItem | undefined {\n\t\tif (this._parent) {\n\t\t\tif (this._parent.isSkipped()) {\n\t\t\t\treturn this._parent.getParent();\n\t\t\t}\n\t\t\treturn this._parent;\n\t\t}\n\t\treturn undefined;\n\t}\n\n\tisSkipped(): boolean {\n\t\tif (this._parent) {\n\t\t\tif (this._parent.oneChild()) {\n\t\t\t\treturn true;\t// skipped if I'm the only child of my parents\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\t// roots are never skipped\n\t}\n\n\t// skips intermediate single-child nodes\n\thasChildren(): boolean {\n\t\tconst child = this.oneChild();\n\t\tif (child) {\n\t\t\treturn child.hasChildren();\n\t\t}\n\t\treturn this._children.size > 0;\n\t}\n\n\t// skips intermediate single-child nodes\n\tgetChildren(): BaseTreeItem[] {\n\t\tconst child = this.oneChild();\n\t\tif (child) {\n\t\t\treturn child.getChildren();\n\t\t}\n\t\tconst array: BaseTreeItem[] = [];\n\t\tfor (const child of this._children.values()) {\n\t\t\tarray.push(child);\n\t\t}\n\t\treturn array.sort((a, b) => this.compare(a, b));\n\t}\n\n\t// skips intermediate single-child nodes\n\tgetLabel(separateRootFolder = true): string {\n\t\tconst child = this.oneChild();\n\t\tif (child) {\n\t\t\tconst sep = (this instanceof RootFolderTreeItem && separateRootFolder) ? ' \u2022 ' : posix.sep;\n\t\t\treturn `${this._label}${sep}${child.getLabel()}`;\n\t\t}\n\t\treturn this._label;\n\t}\n\n\t// skips intermediate single-child nodes\n\tgetHoverLabel(): string | undefined {\n\t\tif (this._source && this._parent && this._parent._source) {\n\t\t\treturn this._source.raw.path || this._source.raw.name;\n\t\t}\n\t\tconst label = this.getLabel(false);\n\t\tconst parent = this.getParent();\n\t\tif (parent) {\n\t\t\tconst hover = parent.getHoverLabel();\n\t\t\tif (hover) {\n\t\t\t\treturn `${hover}/${label}`;\n\t\t\t}\n\t\t}\n\t\treturn label;\n\t}\n\n\t// skips intermediate single-child nodes\n\tgetSource(): Source | undefined {\n\t\tconst child = this.oneChild();\n\t\tif (child) {\n\t\t\treturn child.getSource();\n\t\t}\n\t\treturn this._source;\n\t}\n\n\tprotected compare(a: BaseTreeItem, b: BaseTreeItem): number {\n\t\tif (a._label && b._label) {\n\t\t\treturn a._label.localeCompare(b._label);\n\t\t}\n\t\treturn 0;\n\t}\n\n\tprivate oneChild(): BaseTreeItem | undefined {\n\t\tif (!this._source && !this._showedMoreThanOne && this.skipOneChild()) {\n\t\t\tif (this._children.size === 1) {\n\t\t\t\treturn this._children.values().next().value;\n\t\t\t}\n\t\t\t// if a node had more than one child once, it will never be skipped again\n\t\t\tif (this._children.size > 1) {\n\t\t\t\tthis._showedMoreThanOne = true;\n\t\t\t}\n\t\t}\n\t\treturn undefined;\n\t}\n\n\tprivate skipOneChild(): boolean {\n\t\tif (NEW_STYLE_COMPRESS) {\n\t\t\t// if the root node has only one Session, don't show the session\n\t\t\treturn this instanceof RootTreeItem;\n\t\t} else {\n\t\t\treturn !(this instanceof RootFolderTreeItem) && !(this instanceof SessionTreeItem);\n\t\t}\n\t}\n}\n\nclass RootFolderTreeItem extends BaseTreeItem {\n\n\tconstructor(parent: BaseTreeItem, public folder: IWorkspaceFolder) {\n\t\tsuper(parent, folder.name, true);\n\t}\n}\n\nclass RootTreeItem extends BaseTreeItem {\n\n\tconstructor(private _pathService: IPathService, private _contextService: IWorkspaceContextService, private _labelService: ILabelService) {\n\t\tsuper(undefined, 'Root');\n\t}\n\n\tadd(session: IDebugSession): SessionTreeItem {\n\t\treturn this.createIfNeeded(session.getId(), () => new SessionTreeItem(this._labelService, this, session, this._pathService, this._contextService));\n\t}\n\n\tfind(session: IDebugSession): SessionTreeItem {\n\t\treturn <SessionTreeItem>this.getChild(session.getId());\n\t}\n}\n\nclass SessionTreeItem extends BaseTreeItem {\n\n\tprivate static readonly URL_REGEXP = /^(https?:\\/\\/[^/]+)(\\/.*)$/;\n\n\tprivate _session: IDebugSession;\n\tprivate _map = new Map<string, BaseTreeItem>();\n\tprivate _labelService: ILabelService;\n\n\tconstructor(labelService: ILabelService, parent: BaseTreeItem, session: IDebugSession, private _pathService: IPathService, private rootProvider: IWorkspaceContextService) {\n\t\tsuper(parent, session.getLabel(), true);\n\t\tthis._labelService = labelService;\n\t\tthis._session = session;\n\t}\n\n\toverride getInternalId(): string {\n\t\treturn this._session.getId();\n\t}\n\n\toverride getSession(): IDebugSession {\n\t\treturn this._session;\n\t}\n\n\toverride getHoverLabel(): string | undefined {\n\t\treturn undefined;\n\t}\n\n\toverride hasChildren(): boolean {\n\t\treturn true;\n\t}\n\n\tprotected override compare(a: BaseTreeItem, b: BaseTreeItem): number {\n\t\tconst acat = this.category(a);\n\t\tconst bcat = this.category(b);\n\t\tif (acat !== bcat) {\n\t\t\treturn acat - bcat;\n\t\t}\n\t\treturn super.compare(a, b);\n\t}\n\n\tprivate category(item: BaseTreeItem): number {\n\n\t\t// workspace scripts come at the beginning in \"folder\" order\n\t\tif (item instanceof RootFolderTreeItem) {\n\t\t\treturn item.folder.index;\n\t\t}\n\n\t\t// <...> come at the very end\n\t\tconst l = item.getLabel();\n\t\tif (l && /^<.+>$/.test(l)) {\n\t\t\treturn 1000;\n\t\t}\n\n\t\t// everything else in between\n\t\treturn 999;\n\t}\n\n\tasync addPath(source: Source): Promise<void> {\n\n\t\tlet folder: IWorkspaceFolder | null;\n\t\tlet url: string;\n\n\t\tlet path = source.raw.path;\n\t\tif (!path) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this._labelService && URI_SCHEMA_PATTERN.test(path)) {\n\t\t\tpath = this._labelService.getUriLabel(URI.parse(path));\n\t\t}\n\n\t\tconst match = SessionTreeItem.URL_REGEXP.exec(path);\n\t\tif (match && match.length === 3) {\n\t\t\turl = match[1];\n\t\t\tpath = decodeURI(match[2]);\n\t\t} else {\n\t\t\tif (isAbsolute(path)) {\n\t\t\t\tconst resource = URI.file(path);\n\n\t\t\t\t// return early if we can resolve a relative path label from the root folder\n\t\t\t\tfolder = this.rootProvider ? this.rootProvider.getWorkspaceFolder(resource) : null;\n\t\t\t\tif (folder) {\n\t\t\t\t\t// strip off the root folder path\n\t\t\t\t\tpath = normalize(ltrim(resource.path.substring(folder.uri.path.length), posix.sep));\n\t\t\t\t\tconst hasMultipleRoots = this.rootProvider.getWorkspace().folders.length > 1;\n\t\t\t\t\tif (hasMultipleRoots) {\n\t\t\t\t\t\tpath = posix.sep + path;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// don't show root folder\n\t\t\t\t\t\tfolder = null;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// on unix try to tildify absolute paths\n\t\t\t\t\tpath = normalize(path);\n\t\t\t\t\tif (isWindows) {\n\t\t\t\t\t\tpath = normalizeDriveLetter(path);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tpath = tildify(path, (await this._pathService.userHome()).fsPath);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tlet leaf: BaseTreeItem = this;\n\t\tpath.split(/[\\/\\\\]/).forEach((segment, i) => {\n\t\t\tif (i === 0 && folder) {\n\t\t\t\tconst f = folder;\n\t\t\t\tleaf = leaf.createIfNeeded(folder.name, parent => new RootFolderTreeItem(parent, f));\n\t\t\t} else if (i === 0 && url) {\n\t\t\t\tleaf = leaf.createIfNeeded(url, parent => new BaseTreeItem(parent, url));\n\t\t\t} else {\n\t\t\t\tleaf = leaf.createIfNeeded(segment, parent => new BaseTreeItem(parent, segment));\n\t\t\t}\n\t\t});\n\n\t\tleaf.setSource(this._session, source);\n\t\tif (source.raw.path) {\n\t\t\tthis._map.set(source.raw.path, leaf);\n\t\t}\n\t}\n\n\tremovePath(source: Source): boolean {\n\t\tif (source.raw.path) {\n\t\t\tconst leaf = this._map.get(source.raw.path);\n\t\t\tif (leaf) {\n\t\t\t\tleaf.removeFromParent();\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n}\n\ninterface IViewState {\n\treadonly expanded: Set<string>;\n}\n\n/**\n * This maps a model item into a view model item.\n */\nfunction asTreeElement(item: BaseTreeItem, viewState?: IViewState): ITreeElement<LoadedScriptsItem> {\n\tconst children = item.getChildren();\n\tconst collapsed = viewState ? !viewState.expanded.has(item.getId()) : !(item instanceof SessionTreeItem);\n\n\treturn {\n\t\telement: item,\n\t\tcollapsed,\n\t\tcollapsible: item.hasChildren(),\n\t\tchildren: children.map(i => asTreeElement(i, viewState))\n\t};\n}\n\nexport class LoadedScriptsView extends ViewPane {\n\n\tprivate treeContainer!: HTMLElement;\n\tprivate loadedScriptsItemType: IContextKey<string>;\n\tprivate tree!: WorkbenchCompressibleObjectTree<LoadedScriptsItem, FuzzyScore>;\n\tprivate treeLabels!: ResourceLabels;\n\tprivate changeScheduler!: RunOnceScheduler;\n\tprivate treeNeedsRefreshOnVisible = false;\n\tprivate filter!: LoadedScriptsFilter;\n\n\tconstructor(\n\t\toptions: IViewletViewOptions,\n\t\t@IContextMenuService contextMenuService: IContextMenuService,\n\t\t@IKeybindingService keybindingService: IKeybindingService,\n\t\t@IInstantiationService instantiationService: IInstantiationService,\n\t\t@IViewDescriptorService viewDescriptorService: IViewDescriptorService,\n\t\t@IConfigurationService configurationService: IConfigurationService,\n\t\t@IEditorService private readonly editorService: IEditorService,\n\t\t@IContextKeyService contextKeyService: IContextKeyService,\n\t\t@IWorkspaceContextService private readonly contextService: IWorkspaceContextService,\n\t\t@IDebugService private readonly debugService: IDebugService,\n\t\t@ILabelService private readonly labelService: ILabelService,\n\t\t@IPathService private readonly pathService: IPathService,\n\t\t@IOpenerService openerService: IOpenerService,\n\t\t@IThemeService themeService: IThemeService,\n\t\t@ITelemetryService telemetryService: ITelemetryService,\n\t\t@IHoverService hoverService: IHoverService\n\t) {\n\t\tsuper(options, keybindingService, contextMenuService, configurationService, contextKeyService, viewDescriptorService, instantiationService, openerService, themeService, telemetryService, hoverService);\n\t\tthis.loadedScriptsItemType = CONTEXT_LOADED_SCRIPTS_ITEM_TYPE.bindTo(contextKeyService);\n\t}\n\n\tprotected override renderBody(container: HTMLElement): void {\n\t\tsuper.renderBody(container);\n\n\t\tthis.element.classList.add('debug-pane');\n\t\tcontainer.classList.add('debug-loaded-scripts');\n\t\tcontainer.classList.add('show-file-icons');\n\n\t\tthis.treeContainer = renderViewTree(container);\n\n\t\tthis.filter = new LoadedScriptsFilter();\n\n\t\tconst root = new RootTreeItem(this.pathService, this.contextService, this.labelService);\n\n\t\tthis.treeLabels = this.instantiationService.createInstance(ResourceLabels, { onDidChangeVisibility: this.onDidChangeBodyVisibility });\n\t\tthis._register(this.treeLabels);\n\n\t\tthis.tree = <WorkbenchCompressibleObjectTree<LoadedScriptsItem, FuzzyScore>>this.instantiationService.createInstance(WorkbenchCompressibleObjectTree,\n\t\t\t'LoadedScriptsView',\n\t\t\tthis.treeContainer,\n\t\t\tnew LoadedScriptsDelegate(),\n\t\t\t[new LoadedScriptsRenderer(this.treeLabels)],\n\t\t\t{\n\t\t\t\tcompressionEnabled: NEW_STYLE_COMPRESS,\n\t\t\t\tcollapseByDefault: true,\n\t\t\t\thideTwistiesOfChildlessElements: true,\n\t\t\t\tidentityProvider: {\n\t\t\t\t\tgetId: (element: LoadedScriptsItem) => element.getId()\n\t\t\t\t},\n\t\t\t\tkeyboardNavigationLabelProvider: {\n\t\t\t\t\tgetKeyboardNavigationLabel: (element: LoadedScriptsItem) => {\n\t\t\t\t\t\treturn element.getLabel();\n\t\t\t\t\t},\n\t\t\t\t\tgetCompressedNodeKeyboardNavigationLabel: (elements: LoadedScriptsItem[]) => {\n\t\t\t\t\t\treturn elements.map(e => e.getLabel()).join('/');\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfilter: this.filter,\n\t\t\t\taccessibilityProvider: new LoadedSciptsAccessibilityProvider(),\n\t\t\t\toverrideStyles: this.getLocationBasedColors().listOverrideStyles\n\t\t\t}\n\t\t);\n\n\t\tconst updateView = (viewState?: IViewState) => this.tree.setChildren(null, asTreeElement(root, viewState).children);\n\n\t\tupdateView();\n\n\t\tthis.changeScheduler = new RunOnceScheduler(() => {\n\t\t\tthis.treeNeedsRefreshOnVisible = false;\n\t\t\tif (this.tree) {\n\t\t\t\tupdateView();\n\t\t\t}\n\t\t}, 300);\n\t\tthis._register(this.changeScheduler);\n\n\t\tthis._register(this.tree.onDidOpen(e => {\n\t\t\tif (e.element instanceof BaseTreeItem) {\n\t\t\t\tconst source = e.element.getSource();\n\t\t\t\tif (source && source.available) {\n\t\t\t\t\tconst nullRange = { startLineNumber: 0, startColumn: 0, endLineNumber: 0, endColumn: 0 };\n\t\t\t\t\tsource.openInEditor(this.editorService, nullRange, e.editorOptions.preserveFocus, e.sideBySide, e.editorOptions.pinned);\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\n\t\tthis._register(this.tree.onDidChangeFocus(() => {\n\t\t\tconst focus = this.tree.getFocus();\n\t\t\tif (focus instanceof SessionTreeItem) {\n\t\t\t\tthis.loadedScriptsItemType.set('session');\n\t\t\t} else {\n\t\t\t\tthis.loadedScriptsItemType.reset();\n\t\t\t}\n\t\t}));\n\n\t\tconst scheduleRefreshOnVisible = () => {\n\t\t\tif (this.isBodyVisible()) {\n\t\t\t\tthis.changeScheduler.schedule();\n\t\t\t} else {\n\t\t\t\tthis.treeNeedsRefreshOnVisible = true;\n\t\t\t}\n\t\t};\n\n\t\tconst addSourcePathsToSession = async (session: IDebugSession) => {\n\t\t\tif (session.capabilities.supportsLoadedSourcesRequest) {\n\t\t\t\tconst sessionNode = root.add(session);\n\t\t\t\tconst paths = await session.getLoadedSources();\n\t\t\t\tfor (const path of paths) {\n\t\t\t\t\tawait sessionNode.addPath(path);\n\t\t\t\t}\n\t\t\t\tscheduleRefreshOnVisible();\n\t\t\t}\n\t\t};\n\n\t\tconst registerSessionListeners = (session: IDebugSession) => {\n\t\t\tthis._register(session.onDidChangeName(async () => {\n\t\t\t\tconst sessionRoot = root.find(session);\n\t\t\t\tif (sessionRoot) {\n\t\t\t\t\tsessionRoot.updateLabel(session.getLabel());\n\t\t\t\t\tscheduleRefreshOnVisible();\n\t\t\t\t}\n\t\t\t}));\n\t\t\tthis._register(session.onDidLoadedSource(async event => {\n\t\t\t\tlet sessionRoot: SessionTreeItem;\n\t\t\t\tswitch (event.reason) {\n\t\t\t\t\tcase 'new':\n\t\t\t\t\tcase 'changed':\n\t\t\t\t\t\tsessionRoot = root.add(session);\n\t\t\t\t\t\tawait sessionRoot.addPath(event.source);\n\t\t\t\t\t\tscheduleRefreshOnVisible();\n\t\t\t\t\t\tif (event.reason === 'changed') {\n\t\t\t\t\t\t\tDebugContentProvider.refreshDebugContent(event.source.uri);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'removed':\n\t\t\t\t\t\tsessionRoot = root.find(session);\n\t\t\t\t\t\tif (sessionRoot && sessionRoot.removePath(event.source)) {\n\t\t\t\t\t\t\tscheduleRefreshOnVisible();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tthis.filter.setFilter(event.source.name);\n\t\t\t\t\t\tthis.tree.refilter();\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}));\n\t\t};\n\n\t\tthis._register(this.debugService.onDidNewSession(registerSessionListeners));\n\t\tthis.debugService.getModel().getSessions().forEach(registerSessionListeners);\n\n\t\tthis._register(this.debugService.onDidEndSession(({ session }) => {\n\t\t\troot.remove(session.getId());\n\t\t\tthis.changeScheduler.schedule();\n\t\t}));\n\n\t\tthis.changeScheduler.schedule(0);\n\n\t\tthis._register(this.onDidChangeBodyVisibility(visible => {\n\t\t\tif (visible && this.treeNeedsRefreshOnVisible) {\n\t\t\t\tthis.changeScheduler.schedule();\n\t\t\t}\n\t\t}));\n\n\t\t// feature: expand all nodes when filtering (not when finding)\n\t\tlet viewState: IViewState | undefined;\n\t\tthis._register(this.tree.onDidChangeFindPattern(pattern => {\n\t\t\tif (this.tree.findMode === TreeFindMode.Highlight) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (!viewState && pattern) {\n\t\t\t\tconst expanded = new Set<string>();\n\t\t\t\tconst visit = (node: ITreeNode<BaseTreeItem | null, FuzzyScore>) => {\n\t\t\t\t\tif (node.element && !node.collapsed) {\n\t\t\t\t\t\texpanded.add(node.element.getId());\n\t\t\t\t\t}\n\n\t\t\t\t\tfor (const child of node.children) {\n\t\t\t\t\t\tvisit(child);\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tvisit(this.tree.getNode());\n\t\t\t\tviewState = { expanded };\n\t\t\t\tthis.tree.expandAll();\n\t\t\t} else if (!pattern && viewState) {\n\t\t\t\tthis.tree.setFocus([]);\n\t\t\t\tupdateView(viewState);\n\t\t\t\tviewState = undefined;\n\t\t\t}\n\t\t}));\n\n\t\t// populate tree model with source paths from all debug sessions\n\t\tthis.debugService.getModel().getSessions().forEach(session => addSourcePathsToSession(session));\n\t}\n\n\tprotected override layoutBody(height: number, width: number): void {\n\t\tsuper.layoutBody(height, width);\n\t\tthis.tree.layout(height, width);\n\t}\n\n\tcollapseAll(): void {\n\t\tthis.tree.collapseAll();\n\t}\n\n\toverride dispose(): void {\n\t\tdispose(this.tree);\n\t\tdispose(this.treeLabels);\n\t\tsuper.dispose();\n\t}\n}\n\nclass LoadedScriptsDelegate implements IListVirtualDelegate<LoadedScriptsItem> {\n\n\tgetHeight(element: LoadedScriptsItem): number {\n\t\treturn 22;\n\t}\n\n\tgetTemplateId(element: LoadedScriptsItem): string {\n\t\treturn LoadedScriptsRenderer.ID;\n\t}\n}\n\ninterface ILoadedScriptsItemTemplateData {\n\tlabel: IResourceLabel;\n}\n\nclass LoadedScriptsRenderer implements ICompressibleTreeRenderer<BaseTreeItem, FuzzyScore, ILoadedScriptsItemTemplateData> {\n\n\tstatic readonly ID = 'lsrenderer';\n\n\tconstructor(\n\t\tprivate labels: ResourceLabels\n\t) {\n\t}\n\n\tget templateId(): string {\n\t\treturn LoadedScriptsRenderer.ID;\n\t}\n\n\trenderTemplate(container: HTMLElement): ILoadedScriptsItemTemplateData {\n\t\tconst label = this.labels.create(container, { supportHighlights: true });\n\t\treturn { label };\n\t}\n\n\trenderElement(node: ITreeNode<BaseTreeItem, FuzzyScore>, index: number, data: ILoadedScriptsItemTemplateData): void {\n\n\t\tconst element = node.element;\n\t\tconst label = element.getLabel();\n\n\t\tthis.render(element, label, data, node.filterData);\n\t}\n\n\trenderCompressedElements(node: ITreeNode<ICompressedTreeNode<BaseTreeItem>, FuzzyScore>, index: number, data: ILoadedScriptsItemTemplateData, height: number | undefined): void {\n\n\t\tconst element = node.element.elements[node.element.elements.length - 1];\n\t\tconst labels = node.element.elements.map(e => e.getLabel());\n\n\t\tthis.render(element, labels, data, node.filterData);\n\t}\n\n\tprivate render(element: BaseTreeItem, labels: string | string[], data: ILoadedScriptsItemTemplateData, filterData: FuzzyScore | undefined) {\n\n\t\tconst label: IResourceLabelProps = {\n\t\t\tname: labels\n\t\t};\n\t\tconst options: IResourceLabelOptions = {\n\t\t\ttitle: element.getHoverLabel()\n\t\t};\n\n\t\tif (element instanceof RootFolderTreeItem) {\n\n\t\t\toptions.fileKind = FileKind.ROOT_FOLDER;\n\n\t\t} else if (element instanceof SessionTreeItem) {\n\n\t\t\toptions.title = nls.localize('loadedScriptsSession', \"Debug Session\");\n\t\t\toptions.hideIcon = true;\n\n\t\t} else if (element instanceof BaseTreeItem) {\n\n\t\t\tconst src = element.getSource();\n\t\t\tif (src && src.uri) {\n\t\t\t\tlabel.resource = src.uri;\n\t\t\t\toptions.fileKind = FileKind.FILE;\n\t\t\t} else {\n\t\t\t\toptions.fileKind = FileKind.FOLDER;\n\t\t\t}\n\t\t}\n\t\toptions.matches = createMatches(filterData);\n\n\t\tdata.label.setResource(label, options);\n\t}\n\n\tdisposeTemplate(templateData: ILoadedScriptsItemTemplateData): void {\n\t\ttemplateData.label.dispose();\n\t}\n}\n\nclass LoadedSciptsAccessibilityProvider implements IListAccessibilityProvider<LoadedScriptsItem> {\n\n\tgetWidgetAriaLabel(): string {\n\t\treturn nls.localize({ comment: ['Debug is a noun in this context, not a verb.'], key: 'loadedScriptsAriaLabel' }, \"Debug Loaded Scripts\");\n\t}\n\n\tgetAriaLabel(element: LoadedScriptsItem): string {\n\n\t\tif (element instanceof RootFolderTreeItem) {\n\t\t\treturn nls.localize('loadedScriptsRootFolderAriaLabel', \"Workspace folder {0}, loaded script, debug\", element.getLabel());\n\t\t}\n\n\t\tif (element instanceof SessionTreeItem) {\n\t\t\treturn nls.localize('loadedScriptsSessionAriaLabel', \"Session {0}, loaded script, debug\", element.getLabel());\n\t\t}\n\n\t\tif (element.hasChildren()) {\n\t\t\treturn nls.localize('loadedScriptsFolderAriaLabel', \"Folder {0}, loaded script, debug\", element.getLabel());\n\t\t} else {\n\t\t\treturn nls.localize('loadedScriptsSourceAriaLabel', \"{0}, loaded script, debug\", element.getLabel());\n\t\t}\n\t}\n}\n\nclass LoadedScriptsFilter implements ITreeFilter<BaseTreeItem, FuzzyScore> {\n\n\tprivate filterText: string | undefined;\n\n\tsetFilter(filterText: string) {\n\t\tthis.filterText = filterText;\n\t}\n\n\tfilter(element: BaseTreeItem, parentVisibility: TreeVisibility): TreeFilterResult<FuzzyScore> {\n\n\t\tif (!this.filterText) {\n\t\t\treturn TreeVisibility.Visible;\n\t\t}\n\n\t\tif (element.isLeaf()) {\n\t\t\tconst name = element.getLabel();\n\t\t\tif (name.indexOf(this.filterText) >= 0) {\n\t\t\t\treturn TreeVisibility.Visible;\n\t\t\t}\n\t\t\treturn TreeVisibility.Hidden;\n\t\t}\n\t\treturn TreeVisibility.Recurse;\n\t}\n}\nregisterAction2(class Collapse extends ViewAction<LoadedScriptsView> {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'loadedScripts.collapse',\n\t\t\tviewId: LOADED_SCRIPTS_VIEW_ID,\n\t\t\ttitle: nls.localize('collapse', \"Collapse All\"),\n\t\t\tf1: false,\n\t\t\ticon: Codicon.collapseAll,\n\t\t\tmenu: {\n\t\t\t\tid: MenuId.ViewTitle,\n\t\t\t\torder: 30,\n\t\t\t\tgroup: 'navigation',\n\t\t\t\twhen: ContextKeyExpr.equals('view', LOADED_SCRIPTS_VIEW_ID)\n\t\t\t}\n\t\t});\n\t}\n\n\trunInView(_accessor: ServicesAccessor, view: LoadedScriptsView) {\n\t\tview.collapseAll();\n\t}\n});\n"],
  "mappings": "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",
  "names": ["child", "viewState"]
}
