{
  "version": 3,
  "sources": ["../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/contrib/debug/browser/loadedScriptsView.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport type { IListVirtualDelegate } from \"../../../../base/browser/ui/list/list.js\";\nimport type { IListAccessibilityProvider } from \"../../../../base/browser/ui/list/listWidget.js\";\nimport type { ICompressedTreeNode } from \"../../../../base/browser/ui/tree/compressedObjectTreeModel.js\";\nimport type { ICompressibleTreeRenderer } from \"../../../../base/browser/ui/tree/objectTree.js\";\nimport {\n\ttype ITreeElement,\n\ttype ITreeFilter,\n\ttype ITreeNode,\n\ttype TreeFilterResult,\n\tTreeVisibility,\n} from \"../../../../base/browser/ui/tree/tree.js\";\nimport { RunOnceScheduler } from \"../../../../base/common/async.js\";\nimport { Codicon } from \"../../../../base/common/codicons.js\";\nimport {\n\ttype FuzzyScore,\n\tcreateMatches,\n} from \"../../../../base/common/filters.js\";\nimport {\n\tnormalizeDriveLetter,\n\ttildify,\n} from \"../../../../base/common/labels.js\";\nimport { dispose } from \"../../../../base/common/lifecycle.js\";\nimport { isAbsolute, normalize, posix } from \"../../../../base/common/path.js\";\nimport { isWindows } from \"../../../../base/common/platform.js\";\nimport { ltrim } from \"../../../../base/common/strings.js\";\nimport { URI } from \"../../../../base/common/uri.js\";\nimport * as nls from \"../../../../nls.js\";\nimport {\n\tMenuId,\n\tregisterAction2,\n} from \"../../../../platform/actions/common/actions.js\";\nimport { IConfigurationService } from \"../../../../platform/configuration/common/configuration.js\";\nimport {\n\tContextKeyExpr,\n\ttype IContextKey,\n\tIContextKeyService,\n} from \"../../../../platform/contextkey/common/contextkey.js\";\nimport { IContextMenuService } from \"../../../../platform/contextview/browser/contextView.js\";\nimport { FileKind } from \"../../../../platform/files/common/files.js\";\nimport {\n\tIInstantiationService,\n\ttype ServicesAccessor,\n} from \"../../../../platform/instantiation/common/instantiation.js\";\nimport { IKeybindingService } from \"../../../../platform/keybinding/common/keybinding.js\";\nimport { ILabelService } from \"../../../../platform/label/common/label.js\";\nimport { WorkbenchCompressibleObjectTree } from \"../../../../platform/list/browser/listService.js\";\nimport {\n\tIWorkspaceContextService,\n\ttype IWorkspaceFolder,\n} from \"../../../../platform/workspace/common/workspace.js\";\nimport {\n\ttype IResourceLabel,\n\ttype IResourceLabelOptions,\n\ttype IResourceLabelProps,\n\tResourceLabels,\n} from \"../../../browser/labels.js\";\nimport { ViewAction, ViewPane } from \"../../../browser/parts/views/viewPane.js\";\nimport type { IViewletViewOptions } from \"../../../browser/parts/views/viewsViewlet.js\";\nimport { IEditorService } from \"../../../services/editor/common/editorService.js\";\nimport {\n\tCONTEXT_LOADED_SCRIPTS_ITEM_TYPE,\n\tIDebugService,\n\ttype IDebugSession,\n\tLOADED_SCRIPTS_VIEW_ID,\n} from \"../common/debug.js\";\nimport { DebugContentProvider } from \"../common/debugContentProvider.js\";\nimport type { Source } from \"../common/debugSource.js\";\nimport { renderViewTree } from \"./baseDebugView.js\";\n\nimport { TreeFindMode } from \"../../../../base/browser/ui/tree/abstractTree.js\";\nimport { IHoverService } from \"../../../../platform/hover/browser/hover.js\";\nimport { IOpenerService } from \"../../../../platform/opener/common/opener.js\";\nimport { ITelemetryService } from \"../../../../platform/telemetry/common/telemetry.js\";\nimport { IThemeService } from \"../../../../platform/theme/common/themeService.js\";\nimport { IViewDescriptorService } from \"../../../common/views.js\";\nimport { IPathService } from \"../../../services/path/common/pathService.js\";\n\nconst NEW_STYLE_COMPRESS = true;\n\n// RFC 2396, Appendix A: https://www.ietf.org/rfc/rfc2396.txt\nconst URI_SCHEMA_PATTERN = /^[a-zA-Z][a-zA-Z0-9+\\-.]+:/;\n\ntype LoadedScriptsItem = BaseTreeItem;\n\nclass BaseTreeItem {\n\tprivate _showedMoreThanOne: boolean;\n\tprivate _children = new Map<string, BaseTreeItem>();\n\tprivate _source: Source | undefined;\n\n\tconstructor(\n\t\tprivate _parent: BaseTreeItem | undefined,\n\t\tprivate _label: string,\n\t\tpublic readonly isIncompressible = false,\n\t) {\n\t\tthis._showedMoreThanOne = false;\n\t}\n\n\tupdateLabel(label: string) {\n\t\tthis._label = label;\n\t}\n\n\tisLeaf(): boolean {\n\t\treturn this._children.size === 0;\n\t}\n\n\tgetSession(): IDebugSession | undefined {\n\t\tif (this._parent) {\n\t\t\treturn this._parent.getSession();\n\t\t}\n\t\treturn undefined;\n\t}\n\n\tsetSource(session: IDebugSession, source: Source): void {\n\t\tthis._source = source;\n\t\tthis._children.clear();\n\t\tif (source.raw && source.raw.sources) {\n\t\t\tfor (const src of source.raw.sources) {\n\t\t\t\tif (src.name && src.path) {\n\t\t\t\t\tconst s = new BaseTreeItem(this, src.name);\n\t\t\t\t\tthis._children.set(src.path, s);\n\t\t\t\t\tconst ss = session.getSource(src);\n\t\t\t\t\ts.setSource(session, ss);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tcreateIfNeeded<T extends BaseTreeItem>(\n\t\tkey: string,\n\t\tfactory: (parent: BaseTreeItem, label: string) => T,\n\t): T {\n\t\tlet child = <T>this._children.get(key);\n\t\tif (!child) {\n\t\t\tchild = factory(this, key);\n\t\t\tthis._children.set(key, child);\n\t\t}\n\t\treturn child;\n\t}\n\n\tgetChild(key: string): BaseTreeItem | undefined {\n\t\treturn this._children.get(key);\n\t}\n\n\tremove(key: string): void {\n\t\tthis._children.delete(key);\n\t}\n\n\tremoveFromParent(): void {\n\t\tif (this._parent) {\n\t\t\tthis._parent.remove(this._label);\n\t\t\tif (this._parent._children.size === 0) {\n\t\t\t\tthis._parent.removeFromParent();\n\t\t\t}\n\t\t}\n\t}\n\n\tgetTemplateId(): string {\n\t\treturn \"id\";\n\t}\n\n\t// a dynamic ID based on the parent chain; required for reparenting (see #55448)\n\tgetId(): string {\n\t\tconst parent = this.getParent();\n\t\treturn parent\n\t\t\t? `${parent.getId()}/${this.getInternalId()}`\n\t\t\t: this.getInternalId();\n\t}\n\n\tgetInternalId(): string {\n\t\treturn this._label;\n\t}\n\n\t// skips intermediate single-child nodes\n\tgetParent(): BaseTreeItem | undefined {\n\t\tif (this._parent) {\n\t\t\tif (this._parent.isSkipped()) {\n\t\t\t\treturn this._parent.getParent();\n\t\t\t}\n\t\t\treturn this._parent;\n\t\t}\n\t\treturn undefined;\n\t}\n\n\tisSkipped(): boolean {\n\t\tif (this._parent) {\n\t\t\tif (this._parent.oneChild()) {\n\t\t\t\treturn true; // skipped if I'm the only child of my parents\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t\treturn true; // roots are never skipped\n\t}\n\n\t// skips intermediate single-child nodes\n\thasChildren(): boolean {\n\t\tconst child = this.oneChild();\n\t\tif (child) {\n\t\t\treturn child.hasChildren();\n\t\t}\n\t\treturn this._children.size > 0;\n\t}\n\n\t// skips intermediate single-child nodes\n\tgetChildren(): BaseTreeItem[] {\n\t\tconst child = this.oneChild();\n\t\tif (child) {\n\t\t\treturn child.getChildren();\n\t\t}\n\t\tconst array: BaseTreeItem[] = [];\n\t\tfor (const child of this._children.values()) {\n\t\t\tarray.push(child);\n\t\t}\n\t\treturn array.sort((a, b) => this.compare(a, b));\n\t}\n\n\t// skips intermediate single-child nodes\n\tgetLabel(separateRootFolder = true): string {\n\t\tconst child = this.oneChild();\n\t\tif (child) {\n\t\t\tconst sep =\n\t\t\t\tthis instanceof RootFolderTreeItem && separateRootFolder\n\t\t\t\t\t? \" \u2022 \"\n\t\t\t\t\t: posix.sep;\n\t\t\treturn `${this._label}${sep}${child.getLabel()}`;\n\t\t}\n\t\treturn this._label;\n\t}\n\n\t// skips intermediate single-child nodes\n\tgetHoverLabel(): string | undefined {\n\t\tif (this._source && this._parent && this._parent._source) {\n\t\t\treturn this._source.raw.path || this._source.raw.name;\n\t\t}\n\t\tconst label = this.getLabel(false);\n\t\tconst parent = this.getParent();\n\t\tif (parent) {\n\t\t\tconst hover = parent.getHoverLabel();\n\t\t\tif (hover) {\n\t\t\t\treturn `${hover}/${label}`;\n\t\t\t}\n\t\t}\n\t\treturn label;\n\t}\n\n\t// skips intermediate single-child nodes\n\tgetSource(): Source | undefined {\n\t\tconst child = this.oneChild();\n\t\tif (child) {\n\t\t\treturn child.getSource();\n\t\t}\n\t\treturn this._source;\n\t}\n\n\tprotected compare(a: BaseTreeItem, b: BaseTreeItem): number {\n\t\tif (a._label && b._label) {\n\t\t\treturn a._label.localeCompare(b._label);\n\t\t}\n\t\treturn 0;\n\t}\n\n\tprivate oneChild(): BaseTreeItem | undefined {\n\t\tif (!this._source && !this._showedMoreThanOne && this.skipOneChild()) {\n\t\t\tif (this._children.size === 1) {\n\t\t\t\treturn this._children.values().next().value;\n\t\t\t}\n\t\t\t// if a node had more than one child once, it will never be skipped again\n\t\t\tif (this._children.size > 1) {\n\t\t\t\tthis._showedMoreThanOne = true;\n\t\t\t}\n\t\t}\n\t\treturn undefined;\n\t}\n\n\tprivate skipOneChild(): boolean {\n\t\tif (NEW_STYLE_COMPRESS) {\n\t\t\t// if the root node has only one Session, don't show the session\n\t\t\treturn this instanceof RootTreeItem;\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t!(this instanceof RootFolderTreeItem) &&\n\t\t\t\t!(this instanceof SessionTreeItem)\n\t\t\t);\n\t\t}\n\t}\n}\n\nclass RootFolderTreeItem extends BaseTreeItem {\n\tconstructor(\n\t\tparent: BaseTreeItem,\n\t\tpublic folder: IWorkspaceFolder,\n\t) {\n\t\tsuper(parent, folder.name, true);\n\t}\n}\n\nclass RootTreeItem extends BaseTreeItem {\n\tconstructor(\n\t\tprivate _pathService: IPathService,\n\t\tprivate _contextService: IWorkspaceContextService,\n\t\tprivate _labelService: ILabelService,\n\t) {\n\t\tsuper(undefined, \"Root\");\n\t}\n\n\tadd(session: IDebugSession): SessionTreeItem {\n\t\treturn this.createIfNeeded(\n\t\t\tsession.getId(),\n\t\t\t() =>\n\t\t\t\tnew SessionTreeItem(\n\t\t\t\t\tthis._labelService,\n\t\t\t\t\tthis,\n\t\t\t\t\tsession,\n\t\t\t\t\tthis._pathService,\n\t\t\t\t\tthis._contextService,\n\t\t\t\t),\n\t\t);\n\t}\n\n\tfind(session: IDebugSession): SessionTreeItem {\n\t\treturn <SessionTreeItem>this.getChild(session.getId());\n\t}\n}\n\nclass SessionTreeItem extends BaseTreeItem {\n\tprivate static readonly URL_REGEXP = /^(https?:\\/\\/[^/]+)(\\/.*)$/;\n\n\tprivate _session: IDebugSession;\n\tprivate _map = new Map<string, BaseTreeItem>();\n\tprivate _labelService: ILabelService;\n\n\tconstructor(\n\t\tlabelService: ILabelService,\n\t\tparent: BaseTreeItem,\n\t\tsession: IDebugSession,\n\t\tprivate _pathService: IPathService,\n\t\tprivate rootProvider: IWorkspaceContextService,\n\t) {\n\t\tsuper(parent, session.getLabel(), true);\n\t\tthis._labelService = labelService;\n\t\tthis._session = session;\n\t}\n\n\toverride getInternalId(): string {\n\t\treturn this._session.getId();\n\t}\n\n\toverride getSession(): IDebugSession {\n\t\treturn this._session;\n\t}\n\n\toverride getHoverLabel(): string | undefined {\n\t\treturn undefined;\n\t}\n\n\toverride hasChildren(): boolean {\n\t\treturn true;\n\t}\n\n\tprotected override compare(a: BaseTreeItem, b: BaseTreeItem): number {\n\t\tconst acat = this.category(a);\n\t\tconst bcat = this.category(b);\n\t\tif (acat !== bcat) {\n\t\t\treturn acat - bcat;\n\t\t}\n\t\treturn super.compare(a, b);\n\t}\n\n\tprivate category(item: BaseTreeItem): number {\n\t\t// workspace scripts come at the beginning in \"folder\" order\n\t\tif (item instanceof RootFolderTreeItem) {\n\t\t\treturn item.folder.index;\n\t\t}\n\n\t\t// <...> come at the very end\n\t\tconst l = item.getLabel();\n\t\tif (l && /^<.+>$/.test(l)) {\n\t\t\treturn 1000;\n\t\t}\n\n\t\t// everything else in between\n\t\treturn 999;\n\t}\n\n\tasync addPath(source: Source): Promise<void> {\n\t\tlet folder: IWorkspaceFolder | null;\n\t\tlet url: string;\n\n\t\tlet path = source.raw.path;\n\t\tif (!path) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this._labelService && URI_SCHEMA_PATTERN.test(path)) {\n\t\t\tpath = this._labelService.getUriLabel(URI.parse(path));\n\t\t}\n\n\t\tconst match = SessionTreeItem.URL_REGEXP.exec(path);\n\t\tif (match && match.length === 3) {\n\t\t\turl = match[1];\n\t\t\tpath = decodeURI(match[2]);\n\t\t} else if (isAbsolute(path)) {\n\t\t\tconst resource = URI.file(path);\n\n\t\t\t// return early if we can resolve a relative path label from the root folder\n\t\t\tfolder = this.rootProvider\n\t\t\t\t? this.rootProvider.getWorkspaceFolder(resource)\n\t\t\t\t: null;\n\t\t\tif (folder) {\n\t\t\t\t// strip off the root folder path\n\t\t\t\tpath = normalize(\n\t\t\t\t\tltrim(\n\t\t\t\t\t\tresource.path.substring(folder.uri.path.length),\n\t\t\t\t\t\tposix.sep,\n\t\t\t\t\t),\n\t\t\t\t);\n\t\t\t\tconst hasMultipleRoots =\n\t\t\t\t\tthis.rootProvider.getWorkspace().folders.length > 1;\n\t\t\t\tif (hasMultipleRoots) {\n\t\t\t\t\tpath = posix.sep + path;\n\t\t\t\t} else {\n\t\t\t\t\t// don't show root folder\n\t\t\t\t\tfolder = null;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// on unix try to tildify absolute paths\n\t\t\t\tpath = normalize(path);\n\t\t\t\tif (isWindows) {\n\t\t\t\t\tpath = normalizeDriveLetter(path);\n\t\t\t\t} else {\n\t\t\t\t\tpath = tildify(\n\t\t\t\t\t\tpath,\n\t\t\t\t\t\t(await this._pathService.userHome()).fsPath,\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tlet leaf: BaseTreeItem = this;\n\t\tpath.split(/[/\\\\]/).forEach((segment, i) => {\n\t\t\tif (i === 0 && folder) {\n\t\t\t\tconst f = folder;\n\t\t\t\tleaf = leaf.createIfNeeded(\n\t\t\t\t\tfolder.name,\n\t\t\t\t\t(parent) => new RootFolderTreeItem(parent, f),\n\t\t\t\t);\n\t\t\t} else if (i === 0 && url) {\n\t\t\t\tleaf = leaf.createIfNeeded(\n\t\t\t\t\turl,\n\t\t\t\t\t(parent) => new BaseTreeItem(parent, url),\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tleaf = leaf.createIfNeeded(\n\t\t\t\t\tsegment,\n\t\t\t\t\t(parent) => new BaseTreeItem(parent, segment),\n\t\t\t\t);\n\t\t\t}\n\t\t});\n\n\t\tleaf.setSource(this._session, source);\n\t\tif (source.raw.path) {\n\t\t\tthis._map.set(source.raw.path, leaf);\n\t\t}\n\t}\n\n\tremovePath(source: Source): boolean {\n\t\tif (source.raw.path) {\n\t\t\tconst leaf = this._map.get(source.raw.path);\n\t\t\tif (leaf) {\n\t\t\t\tleaf.removeFromParent();\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n}\n\ninterface IViewState {\n\treadonly expanded: Set<string>;\n}\n\n/**\n * This maps a model item into a view model item.\n */\nfunction asTreeElement(\n\titem: BaseTreeItem,\n\tviewState?: IViewState,\n): ITreeElement<LoadedScriptsItem> {\n\tconst children = item.getChildren();\n\tconst collapsed = viewState\n\t\t? !viewState.expanded.has(item.getId())\n\t\t: !(item instanceof SessionTreeItem);\n\n\treturn {\n\t\telement: item,\n\t\tcollapsed,\n\t\tcollapsible: item.hasChildren(),\n\t\tchildren: children.map((i) => asTreeElement(i, viewState)),\n\t};\n}\n\nexport class LoadedScriptsView extends ViewPane {\n\tprivate treeContainer!: HTMLElement;\n\tprivate loadedScriptsItemType: IContextKey<string>;\n\tprivate tree!: WorkbenchCompressibleObjectTree<\n\t\tLoadedScriptsItem,\n\t\tFuzzyScore\n\t>;\n\tprivate treeLabels!: ResourceLabels;\n\tprivate changeScheduler!: RunOnceScheduler;\n\tprivate treeNeedsRefreshOnVisible = false;\n\tprivate filter!: LoadedScriptsFilter;\n\n\tconstructor(\n\t\toptions: IViewletViewOptions,\n\t\t@IContextMenuService contextMenuService: IContextMenuService,\n\t\t@IKeybindingService keybindingService: IKeybindingService,\n\t\t@IInstantiationService instantiationService: IInstantiationService,\n\t\t@IViewDescriptorService viewDescriptorService: IViewDescriptorService,\n\t\t@IConfigurationService configurationService: IConfigurationService,\n\t\t@IEditorService private readonly editorService: IEditorService,\n\t\t@IContextKeyService contextKeyService: IContextKeyService,\n\t\t@IWorkspaceContextService private readonly contextService: IWorkspaceContextService,\n\t\t@IDebugService private readonly debugService: IDebugService,\n\t\t@ILabelService private readonly labelService: ILabelService,\n\t\t@IPathService private readonly pathService: IPathService,\n\t\t@IOpenerService openerService: IOpenerService,\n\t\t@IThemeService themeService: IThemeService,\n\t\t@ITelemetryService telemetryService: ITelemetryService,\n\t\t@IHoverService hoverService: IHoverService\n\t) {\n\t\tsuper(options, keybindingService, contextMenuService, configurationService, contextKeyService, viewDescriptorService, instantiationService, openerService, themeService, telemetryService, hoverService);\n\t\tthis.loadedScriptsItemType = CONTEXT_LOADED_SCRIPTS_ITEM_TYPE.bindTo(contextKeyService);\n\t}\n\n\tprotected override renderBody(container: HTMLElement): void {\n\t\tsuper.renderBody(container);\n\n\t\tthis.element.classList.add(\"debug-pane\");\n\t\tcontainer.classList.add(\"debug-loaded-scripts\");\n\t\tcontainer.classList.add(\"show-file-icons\");\n\n\t\tthis.treeContainer = renderViewTree(container);\n\n\t\tthis.filter = new LoadedScriptsFilter();\n\n\t\tconst root = new RootTreeItem(\n\t\t\tthis.pathService,\n\t\t\tthis.contextService,\n\t\t\tthis.labelService,\n\t\t);\n\n\t\tthis.treeLabels = this.instantiationService.createInstance(\n\t\t\tResourceLabels,\n\t\t\t{ onDidChangeVisibility: this.onDidChangeBodyVisibility },\n\t\t);\n\t\tthis._register(this.treeLabels);\n\n\t\tthis.tree = <\n\t\t\tWorkbenchCompressibleObjectTree<LoadedScriptsItem, FuzzyScore>\n\t\t>this.instantiationService.createInstance(\n\t\t\tWorkbenchCompressibleObjectTree,\n\t\t\t\"LoadedScriptsView\",\n\t\t\tthis.treeContainer,\n\t\t\tnew LoadedScriptsDelegate(),\n\t\t\t[new LoadedScriptsRenderer(this.treeLabels)],\n\t\t\t{\n\t\t\t\tcompressionEnabled: NEW_STYLE_COMPRESS,\n\t\t\t\tcollapseByDefault: true,\n\t\t\t\thideTwistiesOfChildlessElements: true,\n\t\t\t\tidentityProvider: {\n\t\t\t\t\tgetId: (element: LoadedScriptsItem) => element.getId(),\n\t\t\t\t},\n\t\t\t\tkeyboardNavigationLabelProvider: {\n\t\t\t\t\tgetKeyboardNavigationLabel: (\n\t\t\t\t\t\telement: LoadedScriptsItem,\n\t\t\t\t\t) => {\n\t\t\t\t\t\treturn element.getLabel();\n\t\t\t\t\t},\n\t\t\t\t\tgetCompressedNodeKeyboardNavigationLabel: (\n\t\t\t\t\t\telements: LoadedScriptsItem[],\n\t\t\t\t\t) => {\n\t\t\t\t\t\treturn elements.map((e) => e.getLabel()).join(\"/\");\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tfilter: this.filter,\n\t\t\t\taccessibilityProvider: new LoadedSciptsAccessibilityProvider(),\n\t\t\t\toverrideStyles:\n\t\t\t\t\tthis.getLocationBasedColors().listOverrideStyles,\n\t\t\t},\n\t\t);\n\n\t\tconst updateView = (viewState?: IViewState) =>\n\t\t\tthis.tree.setChildren(\n\t\t\t\tnull,\n\t\t\t\tasTreeElement(root, viewState).children,\n\t\t\t);\n\n\t\tupdateView();\n\n\t\tthis.changeScheduler = new RunOnceScheduler(() => {\n\t\t\tthis.treeNeedsRefreshOnVisible = false;\n\t\t\tif (this.tree) {\n\t\t\t\tupdateView();\n\t\t\t}\n\t\t}, 300);\n\t\tthis._register(this.changeScheduler);\n\n\t\tthis._register(\n\t\t\tthis.tree.onDidOpen((e) => {\n\t\t\t\tif (e.element instanceof BaseTreeItem) {\n\t\t\t\t\tconst source = e.element.getSource();\n\t\t\t\t\tif (source && source.available) {\n\t\t\t\t\t\tconst nullRange = {\n\t\t\t\t\t\t\tstartLineNumber: 0,\n\t\t\t\t\t\t\tstartColumn: 0,\n\t\t\t\t\t\t\tendLineNumber: 0,\n\t\t\t\t\t\t\tendColumn: 0,\n\t\t\t\t\t\t};\n\t\t\t\t\t\tsource.openInEditor(\n\t\t\t\t\t\t\tthis.editorService,\n\t\t\t\t\t\t\tnullRange,\n\t\t\t\t\t\t\te.editorOptions.preserveFocus,\n\t\t\t\t\t\t\te.sideBySide,\n\t\t\t\t\t\t\te.editorOptions.pinned,\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}),\n\t\t);\n\n\t\tthis._register(\n\t\t\tthis.tree.onDidChangeFocus(() => {\n\t\t\t\tconst focus = this.tree.getFocus();\n\t\t\t\tif (focus instanceof SessionTreeItem) {\n\t\t\t\t\tthis.loadedScriptsItemType.set(\"session\");\n\t\t\t\t} else {\n\t\t\t\t\tthis.loadedScriptsItemType.reset();\n\t\t\t\t}\n\t\t\t}),\n\t\t);\n\n\t\tconst scheduleRefreshOnVisible = () => {\n\t\t\tif (this.isBodyVisible()) {\n\t\t\t\tthis.changeScheduler.schedule();\n\t\t\t} else {\n\t\t\t\tthis.treeNeedsRefreshOnVisible = true;\n\t\t\t}\n\t\t};\n\n\t\tconst addSourcePathsToSession = async (session: IDebugSession) => {\n\t\t\tif (session.capabilities.supportsLoadedSourcesRequest) {\n\t\t\t\tconst sessionNode = root.add(session);\n\t\t\t\tconst paths = await session.getLoadedSources();\n\t\t\t\tfor (const path of paths) {\n\t\t\t\t\tawait sessionNode.addPath(path);\n\t\t\t\t}\n\t\t\t\tscheduleRefreshOnVisible();\n\t\t\t}\n\t\t};\n\n\t\tconst registerSessionListeners = (session: IDebugSession) => {\n\t\t\tthis._register(\n\t\t\t\tsession.onDidChangeName(async () => {\n\t\t\t\t\tconst sessionRoot = root.find(session);\n\t\t\t\t\tif (sessionRoot) {\n\t\t\t\t\t\tsessionRoot.updateLabel(session.getLabel());\n\t\t\t\t\t\tscheduleRefreshOnVisible();\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t);\n\t\t\tthis._register(\n\t\t\t\tsession.onDidLoadedSource(async (event) => {\n\t\t\t\t\tlet sessionRoot: SessionTreeItem;\n\t\t\t\t\tswitch (event.reason) {\n\t\t\t\t\t\tcase \"new\":\n\t\t\t\t\t\tcase \"changed\":\n\t\t\t\t\t\t\tsessionRoot = root.add(session);\n\t\t\t\t\t\t\tawait sessionRoot.addPath(event.source);\n\t\t\t\t\t\t\tscheduleRefreshOnVisible();\n\t\t\t\t\t\t\tif (event.reason === \"changed\") {\n\t\t\t\t\t\t\t\tDebugContentProvider.refreshDebugContent(\n\t\t\t\t\t\t\t\t\tevent.source.uri,\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"removed\":\n\t\t\t\t\t\t\tsessionRoot = root.find(session);\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\tsessionRoot &&\n\t\t\t\t\t\t\t\tsessionRoot.removePath(event.source)\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tscheduleRefreshOnVisible();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tthis.filter.setFilter(event.source.name);\n\t\t\t\t\t\t\tthis.tree.refilter();\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t);\n\t\t};\n\n\t\tthis._register(\n\t\t\tthis.debugService.onDidNewSession(registerSessionListeners),\n\t\t);\n\t\tthis.debugService\n\t\t\t.getModel()\n\t\t\t.getSessions()\n\t\t\t.forEach(registerSessionListeners);\n\n\t\tthis._register(\n\t\t\tthis.debugService.onDidEndSession(({ session }) => {\n\t\t\t\troot.remove(session.getId());\n\t\t\t\tthis.changeScheduler.schedule();\n\t\t\t}),\n\t\t);\n\n\t\tthis.changeScheduler.schedule(0);\n\n\t\tthis._register(\n\t\t\tthis.onDidChangeBodyVisibility((visible) => {\n\t\t\t\tif (visible && this.treeNeedsRefreshOnVisible) {\n\t\t\t\t\tthis.changeScheduler.schedule();\n\t\t\t\t}\n\t\t\t}),\n\t\t);\n\n\t\t// feature: expand all nodes when filtering (not when finding)\n\t\tlet viewState: IViewState | undefined;\n\t\tthis._register(\n\t\t\tthis.tree.onDidChangeFindPattern((pattern) => {\n\t\t\t\tif (this.tree.findMode === TreeFindMode.Highlight) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (!viewState && pattern) {\n\t\t\t\t\tconst expanded = new Set<string>();\n\t\t\t\t\tconst visit = (\n\t\t\t\t\t\tnode: ITreeNode<BaseTreeItem | null, FuzzyScore>,\n\t\t\t\t\t) => {\n\t\t\t\t\t\tif (node.element && !node.collapsed) {\n\t\t\t\t\t\t\texpanded.add(node.element.getId());\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfor (const child of node.children) {\n\t\t\t\t\t\t\tvisit(child);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\tvisit(this.tree.getNode());\n\t\t\t\t\tviewState = { expanded };\n\t\t\t\t\tthis.tree.expandAll();\n\t\t\t\t} else if (!pattern && viewState) {\n\t\t\t\t\tthis.tree.setFocus([]);\n\t\t\t\t\tupdateView(viewState);\n\t\t\t\t\tviewState = undefined;\n\t\t\t\t}\n\t\t\t}),\n\t\t);\n\n\t\t// populate tree model with source paths from all debug sessions\n\t\tthis.debugService\n\t\t\t.getModel()\n\t\t\t.getSessions()\n\t\t\t.forEach((session) => addSourcePathsToSession(session));\n\t}\n\n\tprotected override layoutBody(height: number, width: number): void {\n\t\tsuper.layoutBody(height, width);\n\t\tthis.tree.layout(height, width);\n\t}\n\n\tcollapseAll(): void {\n\t\tthis.tree.collapseAll();\n\t}\n\n\toverride dispose(): void {\n\t\tdispose(this.tree);\n\t\tdispose(this.treeLabels);\n\t\tsuper.dispose();\n\t}\n}\n\nclass LoadedScriptsDelegate implements IListVirtualDelegate<LoadedScriptsItem> {\n\tgetHeight(element: LoadedScriptsItem): number {\n\t\treturn 22;\n\t}\n\n\tgetTemplateId(element: LoadedScriptsItem): string {\n\t\treturn LoadedScriptsRenderer.ID;\n\t}\n}\n\ninterface ILoadedScriptsItemTemplateData {\n\tlabel: IResourceLabel;\n}\n\nclass LoadedScriptsRenderer\n\timplements\n\t\tICompressibleTreeRenderer<\n\t\t\tBaseTreeItem,\n\t\t\tFuzzyScore,\n\t\t\tILoadedScriptsItemTemplateData\n\t\t>\n{\n\tstatic readonly ID = \"lsrenderer\";\n\n\tconstructor(private labels: ResourceLabels) {}\n\n\tget templateId(): string {\n\t\treturn LoadedScriptsRenderer.ID;\n\t}\n\n\trenderTemplate(container: HTMLElement): ILoadedScriptsItemTemplateData {\n\t\tconst label = this.labels.create(container, {\n\t\t\tsupportHighlights: true,\n\t\t});\n\t\treturn { label };\n\t}\n\n\trenderElement(\n\t\tnode: ITreeNode<BaseTreeItem, FuzzyScore>,\n\t\tindex: number,\n\t\tdata: ILoadedScriptsItemTemplateData,\n\t): void {\n\t\tconst element = node.element;\n\t\tconst label = element.getLabel();\n\n\t\tthis.render(element, label, data, node.filterData);\n\t}\n\n\trenderCompressedElements(\n\t\tnode: ITreeNode<ICompressedTreeNode<BaseTreeItem>, FuzzyScore>,\n\t\tindex: number,\n\t\tdata: ILoadedScriptsItemTemplateData,\n\t\theight: number | undefined,\n\t): void {\n\t\tconst element = node.element.elements[node.element.elements.length - 1];\n\t\tconst labels = node.element.elements.map((e) => e.getLabel());\n\n\t\tthis.render(element, labels, data, node.filterData);\n\t}\n\n\tprivate render(\n\t\telement: BaseTreeItem,\n\t\tlabels: string | string[],\n\t\tdata: ILoadedScriptsItemTemplateData,\n\t\tfilterData: FuzzyScore | undefined,\n\t) {\n\t\tconst label: IResourceLabelProps = {\n\t\t\tname: labels,\n\t\t};\n\t\tconst options: IResourceLabelOptions = {\n\t\t\ttitle: element.getHoverLabel(),\n\t\t};\n\n\t\tif (element instanceof RootFolderTreeItem) {\n\t\t\toptions.fileKind = FileKind.ROOT_FOLDER;\n\t\t} else if (element instanceof SessionTreeItem) {\n\t\t\toptions.title = nls.localize(\n\t\t\t\t\"loadedScriptsSession\",\n\t\t\t\t\"Debug Session\",\n\t\t\t);\n\t\t\toptions.hideIcon = true;\n\t\t} else if (element instanceof BaseTreeItem) {\n\t\t\tconst src = element.getSource();\n\t\t\tif (src && src.uri) {\n\t\t\t\tlabel.resource = src.uri;\n\t\t\t\toptions.fileKind = FileKind.FILE;\n\t\t\t} else {\n\t\t\t\toptions.fileKind = FileKind.FOLDER;\n\t\t\t}\n\t\t}\n\t\toptions.matches = createMatches(filterData);\n\n\t\tdata.label.setResource(label, options);\n\t}\n\n\tdisposeTemplate(templateData: ILoadedScriptsItemTemplateData): void {\n\t\ttemplateData.label.dispose();\n\t}\n}\n\nclass LoadedSciptsAccessibilityProvider\n\timplements IListAccessibilityProvider<LoadedScriptsItem>\n{\n\tgetWidgetAriaLabel(): string {\n\t\treturn nls.localize(\n\t\t\t{\n\t\t\t\tcomment: [\"Debug is a noun in this context, not a verb.\"],\n\t\t\t\tkey: \"loadedScriptsAriaLabel\",\n\t\t\t},\n\t\t\t\"Debug Loaded Scripts\",\n\t\t);\n\t}\n\n\tgetAriaLabel(element: LoadedScriptsItem): string {\n\t\tif (element instanceof RootFolderTreeItem) {\n\t\t\treturn nls.localize(\n\t\t\t\t\"loadedScriptsRootFolderAriaLabel\",\n\t\t\t\t\"Workspace folder {0}, loaded script, debug\",\n\t\t\t\telement.getLabel(),\n\t\t\t);\n\t\t}\n\n\t\tif (element instanceof SessionTreeItem) {\n\t\t\treturn nls.localize(\n\t\t\t\t\"loadedScriptsSessionAriaLabel\",\n\t\t\t\t\"Session {0}, loaded script, debug\",\n\t\t\t\telement.getLabel(),\n\t\t\t);\n\t\t}\n\n\t\tif (element.hasChildren()) {\n\t\t\treturn nls.localize(\n\t\t\t\t\"loadedScriptsFolderAriaLabel\",\n\t\t\t\t\"Folder {0}, loaded script, debug\",\n\t\t\t\telement.getLabel(),\n\t\t\t);\n\t\t} else {\n\t\t\treturn nls.localize(\n\t\t\t\t\"loadedScriptsSourceAriaLabel\",\n\t\t\t\t\"{0}, loaded script, debug\",\n\t\t\t\telement.getLabel(),\n\t\t\t);\n\t\t}\n\t}\n}\n\nclass LoadedScriptsFilter implements ITreeFilter<BaseTreeItem, FuzzyScore> {\n\tprivate filterText: string | undefined;\n\n\tsetFilter(filterText: string) {\n\t\tthis.filterText = filterText;\n\t}\n\n\tfilter(\n\t\telement: BaseTreeItem,\n\t\tparentVisibility: TreeVisibility,\n\t): TreeFilterResult<FuzzyScore> {\n\t\tif (!this.filterText) {\n\t\t\treturn TreeVisibility.Visible;\n\t\t}\n\n\t\tif (element.isLeaf()) {\n\t\t\tconst name = element.getLabel();\n\t\t\tif (name.indexOf(this.filterText) >= 0) {\n\t\t\t\treturn TreeVisibility.Visible;\n\t\t\t}\n\t\t\treturn TreeVisibility.Hidden;\n\t\t}\n\t\treturn TreeVisibility.Recurse;\n\t}\n}\nregisterAction2(\n\tclass Collapse extends ViewAction<LoadedScriptsView> {\n\t\tconstructor() {\n\t\t\tsuper({\n\t\t\t\tid: \"loadedScripts.collapse\",\n\t\t\t\tviewId: LOADED_SCRIPTS_VIEW_ID,\n\t\t\t\ttitle: nls.localize(\"collapse\", \"Collapse All\"),\n\t\t\t\tf1: false,\n\t\t\t\ticon: Codicon.collapseAll,\n\t\t\t\tmenu: {\n\t\t\t\t\tid: MenuId.ViewTitle,\n\t\t\t\t\torder: 30,\n\t\t\t\t\tgroup: \"navigation\",\n\t\t\t\t\twhen: ContextKeyExpr.equals(\"view\", LOADED_SCRIPTS_VIEW_ID),\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\n\t\trunInView(_accessor: ServicesAccessor, view: LoadedScriptsView) {\n\t\t\tview.collapseAll();\n\t\t}\n\t},\n);\n"],
  "mappings": "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",
  "names": ["child", "viewState"]
}
