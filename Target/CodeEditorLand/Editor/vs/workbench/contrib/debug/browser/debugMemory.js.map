{
  "version": 3,
  "sources": ["../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/contrib/debug/browser/debugMemory.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { assertNever } from \"../../../../base/common/assert.js\";\nimport { VSBuffer } from \"../../../../base/common/buffer.js\";\nimport { Emitter, Event } from \"../../../../base/common/event.js\";\nimport {\n\tDisposable,\n\tDisposableStore,\n\ttoDisposable,\n} from \"../../../../base/common/lifecycle.js\";\nimport { clamp } from \"../../../../base/common/numbers.js\";\nimport type { URI } from \"../../../../base/common/uri.js\";\nimport {\n\tFileChangeType,\n\tFilePermission,\n\tFileSystemProviderCapabilities,\n\tFileSystemProviderErrorCode,\n\tFileType,\n\ttype IFileChange,\n\ttype IFileOpenOptions,\n\ttype IFileSystemProvider,\n\ttype IStat,\n\ttype IWatchOptions,\n\tcreateFileSystemProviderError,\n} from \"../../../../platform/files/common/files.js\";\nimport {\n\tDEBUG_MEMORY_SCHEME,\n\ttype IDebugService,\n\ttype IDebugSession,\n\ttype IMemoryInvalidationEvent,\n\ttype IMemoryRegion,\n\ttype MemoryRange,\n\tMemoryRangeType,\n\tState,\n} from \"../common/debug.js\";\n\nconst rangeRe = /range=([0-9]+):([0-9]+)/;\n\nexport class DebugMemoryFileSystemProvider implements IFileSystemProvider {\n\tprivate memoryFdCounter = 0;\n\tprivate readonly fdMemory = new Map<\n\t\tnumber,\n\t\t{ session: IDebugSession; region: IMemoryRegion }\n\t>();\n\tprivate readonly changeEmitter = new Emitter<readonly IFileChange[]>();\n\n\t/** @inheritdoc */\n\tpublic readonly onDidChangeCapabilities = Event.None;\n\n\t/** @inheritdoc */\n\tpublic readonly onDidChangeFile = this.changeEmitter.event;\n\n\t/** @inheritdoc */\n\tpublic readonly capabilities =\n\t\t0 |\n\t\tFileSystemProviderCapabilities.PathCaseSensitive |\n\t\tFileSystemProviderCapabilities.FileOpenReadWriteClose;\n\n\tconstructor(private readonly debugService: IDebugService) {\n\t\tdebugService.onDidEndSession(({ session }) => {\n\t\t\tfor (const [fd, memory] of this.fdMemory) {\n\t\t\t\tif (memory.session === session) {\n\t\t\t\t\tthis.close(fd);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tpublic watch(resource: URI, opts: IWatchOptions) {\n\t\tif (opts.recursive) {\n\t\t\treturn toDisposable(() => {});\n\t\t}\n\n\t\tconst { session, memoryReference, offset } = this.parseUri(resource);\n\t\tconst disposable = new DisposableStore();\n\n\t\tdisposable.add(\n\t\t\tsession.onDidChangeState(() => {\n\t\t\t\tif (\n\t\t\t\t\tsession.state === State.Running ||\n\t\t\t\t\tsession.state === State.Inactive\n\t\t\t\t) {\n\t\t\t\t\tthis.changeEmitter.fire([\n\t\t\t\t\t\t{ type: FileChangeType.DELETED, resource },\n\t\t\t\t\t]);\n\t\t\t\t}\n\t\t\t}),\n\t\t);\n\n\t\tdisposable.add(\n\t\t\tsession.onDidInvalidateMemory((e) => {\n\t\t\t\tif (e.body.memoryReference !== memoryReference) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\toffset &&\n\t\t\t\t\t(e.body.offset >= offset.toOffset ||\n\t\t\t\t\t\te.body.offset + e.body.count < offset.fromOffset)\n\t\t\t\t) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tthis.changeEmitter.fire([\n\t\t\t\t\t{ resource, type: FileChangeType.UPDATED },\n\t\t\t\t]);\n\t\t\t}),\n\t\t);\n\n\t\treturn disposable;\n\t}\n\n\t/** @inheritdoc */\n\tpublic stat(file: URI): Promise<IStat> {\n\t\tconst { readOnly } = this.parseUri(file);\n\t\treturn Promise.resolve({\n\t\t\ttype: FileType.File,\n\t\t\tmtime: 0,\n\t\t\tctime: 0,\n\t\t\tsize: 0,\n\t\t\tpermissions: readOnly ? FilePermission.Readonly : undefined,\n\t\t});\n\t}\n\n\t/** @inheritdoc */\n\tpublic mkdir(): never {\n\t\tthrow createFileSystemProviderError(\n\t\t\t`Not allowed`,\n\t\t\tFileSystemProviderErrorCode.NoPermissions,\n\t\t);\n\t}\n\n\t/** @inheritdoc */\n\tpublic readdir(): never {\n\t\tthrow createFileSystemProviderError(\n\t\t\t`Not allowed`,\n\t\t\tFileSystemProviderErrorCode.NoPermissions,\n\t\t);\n\t}\n\n\t/** @inheritdoc */\n\tpublic delete(): never {\n\t\tthrow createFileSystemProviderError(\n\t\t\t`Not allowed`,\n\t\t\tFileSystemProviderErrorCode.NoPermissions,\n\t\t);\n\t}\n\n\t/** @inheritdoc */\n\tpublic rename(): never {\n\t\tthrow createFileSystemProviderError(\n\t\t\t`Not allowed`,\n\t\t\tFileSystemProviderErrorCode.NoPermissions,\n\t\t);\n\t}\n\n\t/** @inheritdoc */\n\tpublic open(resource: URI, _opts: IFileOpenOptions): Promise<number> {\n\t\tconst { session, memoryReference, offset } = this.parseUri(resource);\n\t\tconst fd = this.memoryFdCounter++;\n\t\tlet region = session.getMemory(memoryReference);\n\t\tif (offset) {\n\t\t\tregion = new MemoryRegionView(region, offset);\n\t\t}\n\n\t\tthis.fdMemory.set(fd, { session, region });\n\t\treturn Promise.resolve(fd);\n\t}\n\n\t/** @inheritdoc */\n\tpublic close(fd: number) {\n\t\tthis.fdMemory.get(fd)?.region.dispose();\n\t\tthis.fdMemory.delete(fd);\n\t\treturn Promise.resolve();\n\t}\n\n\t/** @inheritdoc */\n\tpublic async writeFile(resource: URI, content: Uint8Array) {\n\t\tconst { offset } = this.parseUri(resource);\n\t\tif (!offset) {\n\t\t\tthrow createFileSystemProviderError(\n\t\t\t\t`Range must be present to read a file`,\n\t\t\t\tFileSystemProviderErrorCode.FileNotFound,\n\t\t\t);\n\t\t}\n\n\t\tconst fd = await this.open(resource, { create: false });\n\n\t\ttry {\n\t\t\tawait this.write(fd, offset.fromOffset, content, 0, content.length);\n\t\t} finally {\n\t\t\tthis.close(fd);\n\t\t}\n\t}\n\n\t/** @inheritdoc */\n\tpublic async readFile(resource: URI) {\n\t\tconst { offset } = this.parseUri(resource);\n\t\tif (!offset) {\n\t\t\tthrow createFileSystemProviderError(\n\t\t\t\t`Range must be present to read a file`,\n\t\t\t\tFileSystemProviderErrorCode.FileNotFound,\n\t\t\t);\n\t\t}\n\n\t\tconst data = new Uint8Array(offset.toOffset - offset.fromOffset);\n\t\tconst fd = await this.open(resource, { create: false });\n\n\t\ttry {\n\t\t\tawait this.read(fd, offset.fromOffset, data, 0, data.length);\n\t\t\treturn data;\n\t\t} finally {\n\t\t\tthis.close(fd);\n\t\t}\n\t}\n\n\t/** @inheritdoc */\n\tpublic async read(\n\t\tfd: number,\n\t\tpos: number,\n\t\tdata: Uint8Array,\n\t\toffset: number,\n\t\tlength: number,\n\t): Promise<number> {\n\t\tconst memory = this.fdMemory.get(fd);\n\t\tif (!memory) {\n\t\t\tthrow createFileSystemProviderError(\n\t\t\t\t`No file with that descriptor open`,\n\t\t\t\tFileSystemProviderErrorCode.Unavailable,\n\t\t\t);\n\t\t}\n\n\t\tconst ranges = await memory.region.read(pos, length);\n\t\tlet readSoFar = 0;\n\t\tfor (const range of ranges) {\n\t\t\tswitch (range.type) {\n\t\t\t\tcase MemoryRangeType.Unreadable:\n\t\t\t\t\treturn readSoFar;\n\t\t\t\tcase MemoryRangeType.Error:\n\t\t\t\t\tif (readSoFar > 0) {\n\t\t\t\t\t\treturn readSoFar;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthrow createFileSystemProviderError(\n\t\t\t\t\t\t\trange.error,\n\t\t\t\t\t\t\tFileSystemProviderErrorCode.Unknown,\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\tcase MemoryRangeType.Valid: {\n\t\t\t\t\tconst start = Math.max(0, pos - range.offset);\n\t\t\t\t\tconst toWrite = range.data.slice(\n\t\t\t\t\t\tstart,\n\t\t\t\t\t\tMath.min(\n\t\t\t\t\t\t\trange.data.byteLength,\n\t\t\t\t\t\t\tstart + (length - readSoFar),\n\t\t\t\t\t\t),\n\t\t\t\t\t);\n\t\t\t\t\tdata.set(toWrite.buffer, offset + readSoFar);\n\t\t\t\t\treadSoFar += toWrite.byteLength;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tdefault:\n\t\t\t\t\tassertNever(range);\n\t\t\t}\n\t\t}\n\n\t\treturn readSoFar;\n\t}\n\n\t/** @inheritdoc */\n\tpublic write(\n\t\tfd: number,\n\t\tpos: number,\n\t\tdata: Uint8Array,\n\t\toffset: number,\n\t\tlength: number,\n\t): Promise<number> {\n\t\tconst memory = this.fdMemory.get(fd);\n\t\tif (!memory) {\n\t\t\tthrow createFileSystemProviderError(\n\t\t\t\t`No file with that descriptor open`,\n\t\t\t\tFileSystemProviderErrorCode.Unavailable,\n\t\t\t);\n\t\t}\n\n\t\treturn memory.region.write(\n\t\t\tpos,\n\t\t\tVSBuffer.wrap(data).slice(offset, offset + length),\n\t\t);\n\t}\n\n\tprotected parseUri(uri: URI) {\n\t\tif (uri.scheme !== DEBUG_MEMORY_SCHEME) {\n\t\t\tthrow createFileSystemProviderError(\n\t\t\t\t`Cannot open file with scheme ${uri.scheme}`,\n\t\t\t\tFileSystemProviderErrorCode.FileNotFound,\n\t\t\t);\n\t\t}\n\n\t\tconst session = this.debugService.getModel().getSession(uri.authority);\n\t\tif (!session) {\n\t\t\tthrow createFileSystemProviderError(\n\t\t\t\t`Debug session not found`,\n\t\t\t\tFileSystemProviderErrorCode.FileNotFound,\n\t\t\t);\n\t\t}\n\n\t\tlet offset: { fromOffset: number; toOffset: number } | undefined;\n\t\tconst rangeMatch = rangeRe.exec(uri.query);\n\t\tif (rangeMatch) {\n\t\t\toffset = {\n\t\t\t\tfromOffset: Number(rangeMatch[1]),\n\t\t\t\ttoOffset: Number(rangeMatch[2]),\n\t\t\t};\n\t\t}\n\n\t\tconst [, memoryReference] = uri.path.split(\"/\");\n\n\t\treturn {\n\t\t\tsession,\n\t\t\toffset,\n\t\t\treadOnly: !session.capabilities.supportsWriteMemoryRequest,\n\t\t\tsessionId: uri.authority,\n\t\t\tmemoryReference: decodeURIComponent(memoryReference),\n\t\t};\n\t}\n}\n\n/** A wrapper for a MemoryRegion that references a subset of data in another region. */\nclass MemoryRegionView extends Disposable implements IMemoryRegion {\n\tprivate readonly invalidateEmitter =\n\t\tnew Emitter<IMemoryInvalidationEvent>();\n\n\tpublic readonly onDidInvalidate = this.invalidateEmitter.event;\n\tpublic readonly writable: boolean;\n\tprivate readonly width = this.range.toOffset - this.range.fromOffset;\n\n\tconstructor(\n\t\tprivate readonly parent: IMemoryRegion,\n\t\tpublic readonly range: { fromOffset: number; toOffset: number },\n\t) {\n\t\tsuper();\n\t\tthis.writable = parent.writable;\n\n\t\tthis._register(parent);\n\t\tthis._register(\n\t\t\tparent.onDidInvalidate((e) => {\n\t\t\t\tconst fromOffset = clamp(\n\t\t\t\t\te.fromOffset - range.fromOffset,\n\t\t\t\t\t0,\n\t\t\t\t\tthis.width,\n\t\t\t\t);\n\t\t\t\tconst toOffset = clamp(\n\t\t\t\t\te.toOffset - range.fromOffset,\n\t\t\t\t\t0,\n\t\t\t\t\tthis.width,\n\t\t\t\t);\n\t\t\t\tif (toOffset > fromOffset) {\n\t\t\t\t\tthis.invalidateEmitter.fire({ fromOffset, toOffset });\n\t\t\t\t}\n\t\t\t}),\n\t\t);\n\t}\n\n\tpublic read(fromOffset: number, toOffset: number): Promise<MemoryRange[]> {\n\t\tif (fromOffset < 0) {\n\t\t\tthrow new RangeError(`Invalid fromOffset: ${fromOffset}`);\n\t\t}\n\n\t\treturn this.parent.read(\n\t\t\tthis.range.fromOffset + fromOffset,\n\t\t\tthis.range.fromOffset + Math.min(toOffset, this.width),\n\t\t);\n\t}\n\n\tpublic write(offset: number, data: VSBuffer): Promise<number> {\n\t\treturn this.parent.write(this.range.fromOffset + offset, data);\n\t}\n}\n"],
  "mappings": ";;AAKA,SAAS,mBAAmB;AAC5B,SAAS,gBAAgB;AACzB,SAAS,SAAS,aAAa;AAC/B;AAAA,EACC;AAAA,EACA;AAAA,EACA;AAAA,OACM;AACP,SAAS,aAAa;AAEtB;AAAA,EACC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EAMA;AAAA,OACM;AACP;AAAA,EACC;AAAA,EAMA;AAAA,EACA;AAAA,OACM;AAEP,MAAM,UAAU;AAET,MAAM,8BAA6D;AAAA,EAoBzE,YAA6B,cAA6B;AAA7B;AAC5B,iBAAa,gBAAgB,CAAC,EAAE,QAAQ,MAAM;AAC7C,iBAAW,CAAC,IAAI,MAAM,KAAK,KAAK,UAAU;AACzC,YAAI,OAAO,YAAY,SAAS;AAC/B,eAAK,MAAM,EAAE;AAAA,QACd;AAAA,MACD;AAAA,IACD,CAAC;AAAA,EACF;AAAA,EArED,OAyC0E;AAAA;AAAA;AAAA,EACjE,kBAAkB;AAAA,EACT,WAAW,oBAAI,IAG9B;AAAA,EACe,gBAAgB,IAAI,QAAgC;AAAA;AAAA,EAGrD,0BAA0B,MAAM;AAAA;AAAA,EAGhC,kBAAkB,KAAK,cAAc;AAAA;AAAA,EAGrC,eACf,IACA,+BAA+B,oBAC/B,+BAA+B;AAAA,EAYzB,MAAM,UAAe,MAAqB;AAChD,QAAI,KAAK,WAAW;AACnB,aAAO,aAAa,MAAM;AAAA,MAAC,CAAC;AAAA,IAC7B;AAEA,UAAM,EAAE,SAAS,iBAAiB,OAAO,IAAI,KAAK,SAAS,QAAQ;AACnE,UAAM,aAAa,IAAI,gBAAgB;AAEvC,eAAW;AAAA,MACV,QAAQ,iBAAiB,MAAM;AAC9B,YACC,QAAQ,UAAU,MAAM,WACxB,QAAQ,UAAU,MAAM,UACvB;AACD,eAAK,cAAc,KAAK;AAAA,YACvB,EAAE,MAAM,eAAe,SAAS,SAAS;AAAA,UAC1C,CAAC;AAAA,QACF;AAAA,MACD,CAAC;AAAA,IACF;AAEA,eAAW;AAAA,MACV,QAAQ,sBAAsB,CAAC,MAAM;AACpC,YAAI,EAAE,KAAK,oBAAoB,iBAAiB;AAC/C;AAAA,QACD;AAEA,YACC,WACC,EAAE,KAAK,UAAU,OAAO,YACxB,EAAE,KAAK,SAAS,EAAE,KAAK,QAAQ,OAAO,aACtC;AACD;AAAA,QACD;AAEA,aAAK,cAAc,KAAK;AAAA,UACvB,EAAE,UAAU,MAAM,eAAe,QAAQ;AAAA,QAC1C,CAAC;AAAA,MACF,CAAC;AAAA,IACF;AAEA,WAAO;AAAA,EACR;AAAA;AAAA,EAGO,KAAK,MAA2B;AACtC,UAAM,EAAE,SAAS,IAAI,KAAK,SAAS,IAAI;AACvC,WAAO,QAAQ,QAAQ;AAAA,MACtB,MAAM,SAAS;AAAA,MACf,OAAO;AAAA,MACP,OAAO;AAAA,MACP,MAAM;AAAA,MACN,aAAa,WAAW,eAAe,WAAW;AAAA,IACnD,CAAC;AAAA,EACF;AAAA;AAAA,EAGO,QAAe;AACrB,UAAM;AAAA,MACL;AAAA,MACA,4BAA4B;AAAA,IAC7B;AAAA,EACD;AAAA;AAAA,EAGO,UAAiB;AACvB,UAAM;AAAA,MACL;AAAA,MACA,4BAA4B;AAAA,IAC7B;AAAA,EACD;AAAA;AAAA,EAGO,SAAgB;AACtB,UAAM;AAAA,MACL;AAAA,MACA,4BAA4B;AAAA,IAC7B;AAAA,EACD;AAAA;AAAA,EAGO,SAAgB;AACtB,UAAM;AAAA,MACL;AAAA,MACA,4BAA4B;AAAA,IAC7B;AAAA,EACD;AAAA;AAAA,EAGO,KAAK,UAAe,OAA0C;AACpE,UAAM,EAAE,SAAS,iBAAiB,OAAO,IAAI,KAAK,SAAS,QAAQ;AACnE,UAAM,KAAK,KAAK;AAChB,QAAI,SAAS,QAAQ,UAAU,eAAe;AAC9C,QAAI,QAAQ;AACX,eAAS,IAAI,iBAAiB,QAAQ,MAAM;AAAA,IAC7C;AAEA,SAAK,SAAS,IAAI,IAAI,EAAE,SAAS,OAAO,CAAC;AACzC,WAAO,QAAQ,QAAQ,EAAE;AAAA,EAC1B;AAAA;AAAA,EAGO,MAAM,IAAY;AACxB,SAAK,SAAS,IAAI,EAAE,GAAG,OAAO,QAAQ;AACtC,SAAK,SAAS,OAAO,EAAE;AACvB,WAAO,QAAQ,QAAQ;AAAA,EACxB;AAAA;AAAA,EAGA,MAAa,UAAU,UAAe,SAAqB;AAC1D,UAAM,EAAE,OAAO,IAAI,KAAK,SAAS,QAAQ;AACzC,QAAI,CAAC,QAAQ;AACZ,YAAM;AAAA,QACL;AAAA,QACA,4BAA4B;AAAA,MAC7B;AAAA,IACD;AAEA,UAAM,KAAK,MAAM,KAAK,KAAK,UAAU,EAAE,QAAQ,MAAM,CAAC;AAEtD,QAAI;AACH,YAAM,KAAK,MAAM,IAAI,OAAO,YAAY,SAAS,GAAG,QAAQ,MAAM;AAAA,IACnE,UAAE;AACD,WAAK,MAAM,EAAE;AAAA,IACd;AAAA,EACD;AAAA;AAAA,EAGA,MAAa,SAAS,UAAe;AACpC,UAAM,EAAE,OAAO,IAAI,KAAK,SAAS,QAAQ;AACzC,QAAI,CAAC,QAAQ;AACZ,YAAM;AAAA,QACL;AAAA,QACA,4BAA4B;AAAA,MAC7B;AAAA,IACD;AAEA,UAAM,OAAO,IAAI,WAAW,OAAO,WAAW,OAAO,UAAU;AAC/D,UAAM,KAAK,MAAM,KAAK,KAAK,UAAU,EAAE,QAAQ,MAAM,CAAC;AAEtD,QAAI;AACH,YAAM,KAAK,KAAK,IAAI,OAAO,YAAY,MAAM,GAAG,KAAK,MAAM;AAC3D,aAAO;AAAA,IACR,UAAE;AACD,WAAK,MAAM,EAAE;AAAA,IACd;AAAA,EACD;AAAA;AAAA,EAGA,MAAa,KACZ,IACA,KACA,MACA,QACA,QACkB;AAClB,UAAM,SAAS,KAAK,SAAS,IAAI,EAAE;AACnC,QAAI,CAAC,QAAQ;AACZ,YAAM;AAAA,QACL;AAAA,QACA,4BAA4B;AAAA,MAC7B;AAAA,IACD;AAEA,UAAM,SAAS,MAAM,OAAO,OAAO,KAAK,KAAK,MAAM;AACnD,QAAI,YAAY;AAChB,eAAW,SAAS,QAAQ;AAC3B,cAAQ,MAAM,MAAM;AAAA,QACnB,KAAK,gBAAgB;AACpB,iBAAO;AAAA,QACR,KAAK,gBAAgB;AACpB,cAAI,YAAY,GAAG;AAClB,mBAAO;AAAA,UACR,OAAO;AACN,kBAAM;AAAA,cACL,MAAM;AAAA,cACN,4BAA4B;AAAA,YAC7B;AAAA,UACD;AAAA,QACD,KAAK,gBAAgB,OAAO;AAC3B,gBAAM,QAAQ,KAAK,IAAI,GAAG,MAAM,MAAM,MAAM;AAC5C,gBAAM,UAAU,MAAM,KAAK;AAAA,YAC1B;AAAA,YACA,KAAK;AAAA,cACJ,MAAM,KAAK;AAAA,cACX,SAAS,SAAS;AAAA,YACnB;AAAA,UACD;AACA,eAAK,IAAI,QAAQ,QAAQ,SAAS,SAAS;AAC3C,uBAAa,QAAQ;AACrB;AAAA,QACD;AAAA,QACA;AACC,sBAAY,KAAK;AAAA,MACnB;AAAA,IACD;AAEA,WAAO;AAAA,EACR;AAAA;AAAA,EAGO,MACN,IACA,KACA,MACA,QACA,QACkB;AAClB,UAAM,SAAS,KAAK,SAAS,IAAI,EAAE;AACnC,QAAI,CAAC,QAAQ;AACZ,YAAM;AAAA,QACL;AAAA,QACA,4BAA4B;AAAA,MAC7B;AAAA,IACD;AAEA,WAAO,OAAO,OAAO;AAAA,MACpB;AAAA,MACA,SAAS,KAAK,IAAI,EAAE,MAAM,QAAQ,SAAS,MAAM;AAAA,IAClD;AAAA,EACD;AAAA,EAEU,SAAS,KAAU;AAC5B,QAAI,IAAI,WAAW,qBAAqB;AACvC,YAAM;AAAA,QACL,gCAAgC,IAAI,MAAM;AAAA,QAC1C,4BAA4B;AAAA,MAC7B;AAAA,IACD;AAEA,UAAM,UAAU,KAAK,aAAa,SAAS,EAAE,WAAW,IAAI,SAAS;AACrE,QAAI,CAAC,SAAS;AACb,YAAM;AAAA,QACL;AAAA,QACA,4BAA4B;AAAA,MAC7B;AAAA,IACD;AAEA,QAAI;AACJ,UAAM,aAAa,QAAQ,KAAK,IAAI,KAAK;AACzC,QAAI,YAAY;AACf,eAAS;AAAA,QACR,YAAY,OAAO,WAAW,CAAC,CAAC;AAAA,QAChC,UAAU,OAAO,WAAW,CAAC,CAAC;AAAA,MAC/B;AAAA,IACD;AAEA,UAAM,CAAC,EAAE,eAAe,IAAI,IAAI,KAAK,MAAM,GAAG;AAE9C,WAAO;AAAA,MACN;AAAA,MACA;AAAA,MACA,UAAU,CAAC,QAAQ,aAAa;AAAA,MAChC,WAAW,IAAI;AAAA,MACf,iBAAiB,mBAAmB,eAAe;AAAA,IACpD;AAAA,EACD;AACD;AAGA,MAAM,yBAAyB,WAAoC;AAAA,EAQlE,YACkB,QACD,OACf;AACD,UAAM;AAHW;AACD;AAGhB,SAAK,WAAW,OAAO;AAEvB,SAAK,UAAU,MAAM;AACrB,SAAK;AAAA,MACJ,OAAO,gBAAgB,CAAC,MAAM;AAC7B,cAAM,aAAa;AAAA,UAClB,EAAE,aAAa,MAAM;AAAA,UACrB;AAAA,UACA,KAAK;AAAA,QACN;AACA,cAAM,WAAW;AAAA,UAChB,EAAE,WAAW,MAAM;AAAA,UACnB;AAAA,UACA,KAAK;AAAA,QACN;AACA,YAAI,WAAW,YAAY;AAC1B,eAAK,kBAAkB,KAAK,EAAE,YAAY,SAAS,CAAC;AAAA,QACrD;AAAA,MACD,CAAC;AAAA,IACF;AAAA,EACD;AAAA,EA5WD,OA2UmE;AAAA;AAAA;AAAA,EACjD,oBAChB,IAAI,QAAkC;AAAA,EAEvB,kBAAkB,KAAK,kBAAkB;AAAA,EACzC;AAAA,EACC,QAAQ,KAAK,MAAM,WAAW,KAAK,MAAM;AAAA,EA6BnD,KAAK,YAAoB,UAA0C;AACzE,QAAI,aAAa,GAAG;AACnB,YAAM,IAAI,WAAW,uBAAuB,UAAU,EAAE;AAAA,IACzD;AAEA,WAAO,KAAK,OAAO;AAAA,MAClB,KAAK,MAAM,aAAa;AAAA,MACxB,KAAK,MAAM,aAAa,KAAK,IAAI,UAAU,KAAK,KAAK;AAAA,IACtD;AAAA,EACD;AAAA,EAEO,MAAM,QAAgB,MAAiC;AAC7D,WAAO,KAAK,OAAO,MAAM,KAAK,MAAM,aAAa,QAAQ,IAAI;AAAA,EAC9D;AACD;",
  "names": []
}
