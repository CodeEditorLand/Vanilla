{
  "version": 3,
  "sources": ["../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/contrib/accessibility/browser/editorAccessibilityHelp.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport { ICodeEditor } from '../../../../editor/browser/editorBrowser.js';\nimport { ICodeEditorService } from '../../../../editor/browser/services/codeEditorService.js';\nimport { EditorOption } from '../../../../editor/common/config/editorOptions.js';\nimport { AccessibilityHelpNLS } from '../../../../editor/common/standaloneStrings.js';\nimport { ICommandService } from '../../../../platform/commands/common/commands.js';\nimport { IContextKeyService } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { IKeybindingService } from '../../../../platform/keybinding/common/keybinding.js';\nimport { AccessibilityHelpAction } from './accessibleViewActions.js';\nimport { CONTEXT_CHAT_ENABLED } from '../../chat/common/chatContextKeys.js';\nimport { CommentAccessibilityHelpNLS } from '../../comments/browser/commentsAccessibility.js';\nimport { CommentContextKeys } from '../../comments/common/commentContextKeys.js';\nimport { NEW_UNTITLED_FILE_COMMAND_ID } from '../../files/browser/fileConstants.js';\nimport { IAccessibleViewService, IAccessibleViewContentProvider, AccessibleViewProviderId, IAccessibleViewOptions, AccessibleViewType } from '../../../../platform/accessibility/browser/accessibleView.js';\nimport { AccessibilityVerbositySettingId } from './accessibilityConfiguration.js';\n\nexport class EditorAccessibilityHelpContribution extends Disposable {\n\tstatic ID: 'editorAccessibilityHelpContribution';\n\tconstructor() {\n\t\tsuper();\n\t\tthis._register(AccessibilityHelpAction.addImplementation(90, 'editor', async accessor => {\n\t\t\tconst codeEditorService = accessor.get(ICodeEditorService);\n\t\t\tconst accessibleViewService = accessor.get(IAccessibleViewService);\n\t\t\tconst instantiationService = accessor.get(IInstantiationService);\n\t\t\tconst commandService = accessor.get(ICommandService);\n\t\t\tlet codeEditor = codeEditorService.getActiveCodeEditor() || codeEditorService.getFocusedCodeEditor();\n\t\t\tif (!codeEditor) {\n\t\t\t\tawait commandService.executeCommand(NEW_UNTITLED_FILE_COMMAND_ID);\n\t\t\t\tcodeEditor = codeEditorService.getActiveCodeEditor()!;\n\t\t\t}\n\t\t\taccessibleViewService.show(instantiationService.createInstance(EditorAccessibilityHelpProvider, codeEditor));\n\t\t}));\n\t}\n}\n\nclass EditorAccessibilityHelpProvider extends Disposable implements IAccessibleViewContentProvider {\n\tid = AccessibleViewProviderId.Editor;\n\tonClose() {\n\t\tthis._editor.focus();\n\t}\n\toptions: IAccessibleViewOptions = { type: AccessibleViewType.Help, readMoreUrl: 'https://go.microsoft.com/fwlink/?linkid=851010' };\n\tverbositySettingKey = AccessibilityVerbositySettingId.Editor;\n\tconstructor(\n\t\tprivate readonly _editor: ICodeEditor,\n\t\t@IKeybindingService private readonly _keybindingService: IKeybindingService,\n\t\t@IContextKeyService private readonly _contextKeyService: IContextKeyService\n\t) {\n\t\tsuper();\n\t}\n\n\tprovideContent(): string {\n\t\tconst options = this._editor.getOptions();\n\t\tconst content = [];\n\n\t\tif (options.get(EditorOption.inDiffEditor)) {\n\t\t\tif (options.get(EditorOption.readOnly)) {\n\t\t\t\tcontent.push(AccessibilityHelpNLS.readonlyDiffEditor);\n\t\t\t} else {\n\t\t\t\tcontent.push(AccessibilityHelpNLS.editableDiffEditor);\n\t\t\t}\n\t\t} else {\n\t\t\tif (options.get(EditorOption.readOnly)) {\n\t\t\t\tcontent.push(AccessibilityHelpNLS.readonlyEditor);\n\t\t\t} else {\n\t\t\t\tcontent.push(AccessibilityHelpNLS.editableEditor);\n\t\t\t}\n\t\t}\n\n\t\tcontent.push(AccessibilityHelpNLS.listSignalSounds);\n\t\tcontent.push(AccessibilityHelpNLS.listAlerts);\n\n\t\tconst chatCommandInfo = getChatCommandInfo(this._keybindingService, this._contextKeyService);\n\t\tif (chatCommandInfo) {\n\t\t\tcontent.push(chatCommandInfo);\n\t\t}\n\n\t\tconst commentCommandInfo = getCommentCommandInfo(this._keybindingService, this._contextKeyService, this._editor);\n\t\tif (commentCommandInfo) {\n\t\t\tcontent.push(commentCommandInfo);\n\t\t}\n\n\t\tif (options.get(EditorOption.stickyScroll).enabled) {\n\t\t\tcontent.push(AccessibilityHelpNLS.stickScroll);\n\t\t}\n\n\t\tif (options.get(EditorOption.tabFocusMode)) {\n\t\t\tcontent.push(AccessibilityHelpNLS.tabFocusModeOnMsg);\n\t\t} else {\n\t\t\tcontent.push(AccessibilityHelpNLS.tabFocusModeOffMsg);\n\t\t}\n\t\tcontent.push(AccessibilityHelpNLS.codeFolding);\n\t\tcontent.push(AccessibilityHelpNLS.intellisense);\n\t\tcontent.push(AccessibilityHelpNLS.showOrFocusHover);\n\t\tcontent.push(AccessibilityHelpNLS.goToSymbol);\n\t\tcontent.push(AccessibilityHelpNLS.startDebugging);\n\t\tcontent.push(AccessibilityHelpNLS.setBreakpoint);\n\t\tcontent.push(AccessibilityHelpNLS.debugExecuteSelection);\n\t\tcontent.push(AccessibilityHelpNLS.addToWatch);\n\t\treturn content.join('\\n');\n\t}\n}\n\nexport function getCommentCommandInfo(keybindingService: IKeybindingService, contextKeyService: IContextKeyService, editor: ICodeEditor): string | undefined {\n\tconst editorContext = contextKeyService.getContext(editor.getDomNode()!);\n\tif (editorContext.getValue<boolean>(CommentContextKeys.activeEditorHasCommentingRange.key)) {\n\t\treturn [CommentAccessibilityHelpNLS.intro, CommentAccessibilityHelpNLS.addComment, CommentAccessibilityHelpNLS.nextCommentThread, CommentAccessibilityHelpNLS.previousCommentThread, CommentAccessibilityHelpNLS.nextRange, CommentAccessibilityHelpNLS.previousRange].join('\\n');\n\t}\n\treturn;\n}\n\nexport function getChatCommandInfo(keybindingService: IKeybindingService, contextKeyService: IContextKeyService): string | undefined {\n\tif (CONTEXT_CHAT_ENABLED.getValue(contextKeyService)) {\n\t\treturn [AccessibilityHelpNLS.quickChat, AccessibilityHelpNLS.startInlineChat].join('\\n');\n\t}\n\treturn;\n}\n"],
  "mappings": ";;;;;;;;;;;;AAKA,SAAS,kBAAkB;AAC3B,SAAS,mBAAmB;AAC5B,SAAS,0BAA0B;AACnC,SAAS,oBAAoB;AAC7B,SAAS,4BAA4B;AACrC,SAAS,uBAAuB;AAChC,SAAS,0BAA0B;AACnC,SAAS,6BAA6B;AACtC,SAAS,0BAA0B;AACnC,SAAS,+BAA+B;AACxC,SAAS,4BAA4B;AACrC,SAAS,mCAAmC;AAC5C,SAAS,0BAA0B;AACnC,SAAS,oCAAoC;AAC7C,SAAS,wBAAwB,gCAAgC,0BAA0B,wBAAwB,0BAA0B;AAC7I,SAAS,uCAAuC;AAEzC,MAAM,4CAA4C,WAAW;AAAA,EAtBpE,OAsBoE;AAAA;AAAA;AAAA,EACnE,OAAO;AAAA,EACP,cAAc;AACb,UAAM;AACN,SAAK,UAAU,wBAAwB,kBAAkB,IAAI,UAAU,OAAM,aAAY;AACxF,YAAM,oBAAoB,SAAS,IAAI,kBAAkB;AACzD,YAAM,wBAAwB,SAAS,IAAI,sBAAsB;AACjE,YAAM,uBAAuB,SAAS,IAAI,qBAAqB;AAC/D,YAAM,iBAAiB,SAAS,IAAI,eAAe;AACnD,UAAI,aAAa,kBAAkB,oBAAoB,KAAK,kBAAkB,qBAAqB;AACnG,UAAI,CAAC,YAAY;AAChB,cAAM,eAAe,eAAe,4BAA4B;AAChE,qBAAa,kBAAkB,oBAAoB;AAAA,MACpD;AACA,4BAAsB,KAAK,qBAAqB,eAAe,iCAAiC,UAAU,CAAC;AAAA,IAC5G,CAAC,CAAC;AAAA,EACH;AACD;AAEA,IAAM,kCAAN,cAA8C,WAAqD;AAAA,EAOlG,YACkB,SACoB,oBACA,oBACpC;AACD,UAAM;AAJW;AACoB;AACA;AAAA,EAGtC;AAAA,EAtDD,OAyCmG;AAAA;AAAA;AAAA,EAClG,KAAK,yBAAyB;AAAA,EAC9B,UAAU;AACT,SAAK,QAAQ,MAAM;AAAA,EACpB;AAAA,EACA,UAAkC,EAAE,MAAM,mBAAmB,MAAM,aAAa,iDAAiD;AAAA,EACjI,sBAAsB,gCAAgC;AAAA,EAStD,iBAAyB;AACxB,UAAM,UAAU,KAAK,QAAQ,WAAW;AACxC,UAAM,UAAU,CAAC;AAEjB,QAAI,QAAQ,IAAI,aAAa,YAAY,GAAG;AAC3C,UAAI,QAAQ,IAAI,aAAa,QAAQ,GAAG;AACvC,gBAAQ,KAAK,qBAAqB,kBAAkB;AAAA,MACrD,OAAO;AACN,gBAAQ,KAAK,qBAAqB,kBAAkB;AAAA,MACrD;AAAA,IACD,OAAO;AACN,UAAI,QAAQ,IAAI,aAAa,QAAQ,GAAG;AACvC,gBAAQ,KAAK,qBAAqB,cAAc;AAAA,MACjD,OAAO;AACN,gBAAQ,KAAK,qBAAqB,cAAc;AAAA,MACjD;AAAA,IACD;AAEA,YAAQ,KAAK,qBAAqB,gBAAgB;AAClD,YAAQ,KAAK,qBAAqB,UAAU;AAE5C,UAAM,kBAAkB,mBAAmB,KAAK,oBAAoB,KAAK,kBAAkB;AAC3F,QAAI,iBAAiB;AACpB,cAAQ,KAAK,eAAe;AAAA,IAC7B;AAEA,UAAM,qBAAqB,sBAAsB,KAAK,oBAAoB,KAAK,oBAAoB,KAAK,OAAO;AAC/G,QAAI,oBAAoB;AACvB,cAAQ,KAAK,kBAAkB;AAAA,IAChC;AAEA,QAAI,QAAQ,IAAI,aAAa,YAAY,EAAE,SAAS;AACnD,cAAQ,KAAK,qBAAqB,WAAW;AAAA,IAC9C;AAEA,QAAI,QAAQ,IAAI,aAAa,YAAY,GAAG;AAC3C,cAAQ,KAAK,qBAAqB,iBAAiB;AAAA,IACpD,OAAO;AACN,cAAQ,KAAK,qBAAqB,kBAAkB;AAAA,IACrD;AACA,YAAQ,KAAK,qBAAqB,WAAW;AAC7C,YAAQ,KAAK,qBAAqB,YAAY;AAC9C,YAAQ,KAAK,qBAAqB,gBAAgB;AAClD,YAAQ,KAAK,qBAAqB,UAAU;AAC5C,YAAQ,KAAK,qBAAqB,cAAc;AAChD,YAAQ,KAAK,qBAAqB,aAAa;AAC/C,YAAQ,KAAK,qBAAqB,qBAAqB;AACvD,YAAQ,KAAK,qBAAqB,UAAU;AAC5C,WAAO,QAAQ,KAAK,IAAI;AAAA,EACzB;AACD;AAjEM,kCAAN;AAAA,EASG;AAAA,EACA;AAAA,GAVG;AAmEC,SAAS,sBAAsB,mBAAuC,mBAAuC,QAAyC;AAC5J,QAAM,gBAAgB,kBAAkB,WAAW,OAAO,WAAW,CAAE;AACvE,MAAI,cAAc,SAAkB,mBAAmB,+BAA+B,GAAG,GAAG;AAC3F,WAAO,CAAC,4BAA4B,OAAO,4BAA4B,YAAY,4BAA4B,mBAAmB,4BAA4B,uBAAuB,4BAA4B,WAAW,4BAA4B,aAAa,EAAE,KAAK,IAAI;AAAA,EACjR;AACA;AACD;AANgB;AAQT,SAAS,mBAAmB,mBAAuC,mBAA2D;AACpI,MAAI,qBAAqB,SAAS,iBAAiB,GAAG;AACrD,WAAO,CAAC,qBAAqB,WAAW,qBAAqB,eAAe,EAAE,KAAK,IAAI;AAAA,EACxF;AACA;AACD;AALgB;",
  "names": []
}
