{
  "version": 3,
  "sources": ["../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/contrib/accessibility/browser/editorAccessibilityHelp.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Disposable } from \"../../../../base/common/lifecycle.js\";\nimport type { ICodeEditor } from \"../../../../editor/browser/editorBrowser.js\";\nimport { ICodeEditorService } from \"../../../../editor/browser/services/codeEditorService.js\";\nimport { EditorOption } from \"../../../../editor/common/config/editorOptions.js\";\nimport { AccessibilityHelpNLS } from \"../../../../editor/common/standaloneStrings.js\";\nimport {\n\tAccessibleViewProviderId,\n\tAccessibleViewType,\n\ttype IAccessibleViewContentProvider,\n\ttype IAccessibleViewOptions,\n\tIAccessibleViewService,\n} from \"../../../../platform/accessibility/browser/accessibleView.js\";\nimport { ICommandService } from \"../../../../platform/commands/common/commands.js\";\nimport { IContextKeyService } from \"../../../../platform/contextkey/common/contextkey.js\";\nimport { IInstantiationService } from \"../../../../platform/instantiation/common/instantiation.js\";\nimport { IKeybindingService } from \"../../../../platform/keybinding/common/keybinding.js\";\nimport { CONTEXT_CHAT_ENABLED } from \"../../chat/common/chatContextKeys.js\";\nimport { CommentAccessibilityHelpNLS } from \"../../comments/browser/commentsAccessibility.js\";\nimport { CommentContextKeys } from \"../../comments/common/commentContextKeys.js\";\nimport { NEW_UNTITLED_FILE_COMMAND_ID } from \"../../files/browser/fileConstants.js\";\nimport { AccessibilityVerbositySettingId } from \"./accessibilityConfiguration.js\";\nimport { AccessibilityHelpAction } from \"./accessibleViewActions.js\";\n\nexport class EditorAccessibilityHelpContribution extends Disposable {\n\tstatic ID: \"editorAccessibilityHelpContribution\";\n\tconstructor() {\n\t\tsuper();\n\t\tthis._register(\n\t\t\tAccessibilityHelpAction.addImplementation(\n\t\t\t\t90,\n\t\t\t\t\"editor\",\n\t\t\t\tasync (accessor) => {\n\t\t\t\t\tconst codeEditorService = accessor.get(ICodeEditorService);\n\t\t\t\t\tconst accessibleViewService = accessor.get(\n\t\t\t\t\t\tIAccessibleViewService,\n\t\t\t\t\t);\n\t\t\t\t\tconst instantiationService = accessor.get(\n\t\t\t\t\t\tIInstantiationService,\n\t\t\t\t\t);\n\t\t\t\t\tconst commandService = accessor.get(ICommandService);\n\t\t\t\t\tlet codeEditor =\n\t\t\t\t\t\tcodeEditorService.getActiveCodeEditor() ||\n\t\t\t\t\t\tcodeEditorService.getFocusedCodeEditor();\n\t\t\t\t\tif (!codeEditor) {\n\t\t\t\t\t\tawait commandService.executeCommand(\n\t\t\t\t\t\t\tNEW_UNTITLED_FILE_COMMAND_ID,\n\t\t\t\t\t\t);\n\t\t\t\t\t\tcodeEditor = codeEditorService.getActiveCodeEditor()!;\n\t\t\t\t\t}\n\t\t\t\t\taccessibleViewService.show(\n\t\t\t\t\t\tinstantiationService.createInstance(\n\t\t\t\t\t\t\tEditorAccessibilityHelpProvider,\n\t\t\t\t\t\t\tcodeEditor,\n\t\t\t\t\t\t),\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t),\n\t\t);\n\t}\n}\n\nclass EditorAccessibilityHelpProvider\n\textends Disposable\n\timplements IAccessibleViewContentProvider\n{\n\tid = AccessibleViewProviderId.Editor;\n\tonClose() {\n\t\tthis._editor.focus();\n\t}\n\toptions: IAccessibleViewOptions = {\n\t\ttype: AccessibleViewType.Help,\n\t\treadMoreUrl: \"https://go.microsoft.com/fwlink/?linkid=851010\",\n\t};\n\tverbositySettingKey = AccessibilityVerbositySettingId.Editor;\n\tconstructor(\n\t\tprivate readonly _editor: ICodeEditor,\n\t\t@IKeybindingService\n\t\tprivate readonly _keybindingService: IKeybindingService,\n\t\t@IContextKeyService\n\t\tprivate readonly _contextKeyService: IContextKeyService,\n\t) {\n\t\tsuper();\n\t}\n\n\tprovideContent(): string {\n\t\tconst options = this._editor.getOptions();\n\t\tconst content = [];\n\n\t\tif (options.get(EditorOption.inDiffEditor)) {\n\t\t\tif (options.get(EditorOption.readOnly)) {\n\t\t\t\tcontent.push(AccessibilityHelpNLS.readonlyDiffEditor);\n\t\t\t} else {\n\t\t\t\tcontent.push(AccessibilityHelpNLS.editableDiffEditor);\n\t\t\t}\n\t\t} else if (options.get(EditorOption.readOnly)) {\n\t\t\tcontent.push(AccessibilityHelpNLS.readonlyEditor);\n\t\t} else {\n\t\t\tcontent.push(AccessibilityHelpNLS.editableEditor);\n\t\t}\n\n\t\tcontent.push(AccessibilityHelpNLS.listSignalSounds);\n\t\tcontent.push(AccessibilityHelpNLS.listAlerts);\n\n\t\tconst chatCommandInfo = getChatCommandInfo(\n\t\t\tthis._keybindingService,\n\t\t\tthis._contextKeyService,\n\t\t);\n\t\tif (chatCommandInfo) {\n\t\t\tcontent.push(chatCommandInfo);\n\t\t}\n\n\t\tconst commentCommandInfo = getCommentCommandInfo(\n\t\t\tthis._keybindingService,\n\t\t\tthis._contextKeyService,\n\t\t\tthis._editor,\n\t\t);\n\t\tif (commentCommandInfo) {\n\t\t\tcontent.push(commentCommandInfo);\n\t\t}\n\n\t\tif (options.get(EditorOption.stickyScroll).enabled) {\n\t\t\tcontent.push(AccessibilityHelpNLS.stickScroll);\n\t\t}\n\n\t\tif (options.get(EditorOption.tabFocusMode)) {\n\t\t\tcontent.push(AccessibilityHelpNLS.tabFocusModeOnMsg);\n\t\t} else {\n\t\t\tcontent.push(AccessibilityHelpNLS.tabFocusModeOffMsg);\n\t\t}\n\t\tcontent.push(AccessibilityHelpNLS.codeFolding);\n\t\tcontent.push(AccessibilityHelpNLS.intellisense);\n\t\tcontent.push(AccessibilityHelpNLS.showOrFocusHover);\n\t\tcontent.push(AccessibilityHelpNLS.goToSymbol);\n\t\tcontent.push(AccessibilityHelpNLS.startDebugging);\n\t\tcontent.push(AccessibilityHelpNLS.setBreakpoint);\n\t\tcontent.push(AccessibilityHelpNLS.debugExecuteSelection);\n\t\tcontent.push(AccessibilityHelpNLS.addToWatch);\n\t\treturn content.join(\"\\n\");\n\t}\n}\n\nexport function getCommentCommandInfo(\n\tkeybindingService: IKeybindingService,\n\tcontextKeyService: IContextKeyService,\n\teditor: ICodeEditor,\n): string | undefined {\n\tconst editorContext = contextKeyService.getContext(editor.getDomNode()!);\n\tif (\n\t\teditorContext.getValue<boolean>(\n\t\t\tCommentContextKeys.activeEditorHasCommentingRange.key,\n\t\t)\n\t) {\n\t\treturn [\n\t\t\tCommentAccessibilityHelpNLS.intro,\n\t\t\tCommentAccessibilityHelpNLS.addComment,\n\t\t\tCommentAccessibilityHelpNLS.nextCommentThread,\n\t\t\tCommentAccessibilityHelpNLS.previousCommentThread,\n\t\t\tCommentAccessibilityHelpNLS.nextRange,\n\t\t\tCommentAccessibilityHelpNLS.previousRange,\n\t\t].join(\"\\n\");\n\t}\n\treturn;\n}\n\nexport function getChatCommandInfo(\n\tkeybindingService: IKeybindingService,\n\tcontextKeyService: IContextKeyService,\n): string | undefined {\n\tif (CONTEXT_CHAT_ENABLED.getValue(contextKeyService)) {\n\t\treturn [\n\t\t\tAccessibilityHelpNLS.quickChat,\n\t\t\tAccessibilityHelpNLS.startInlineChat,\n\t\t].join(\"\\n\");\n\t}\n\treturn;\n}\n"],
  "mappings": "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",
  "names": []
}
