var g=Object.defineProperty;var f=Object.getOwnPropertyDescriptor;var l=(r,o,i,e)=>{for(var n=e>1?void 0:e?f(o,i):o,s=r.length-1,c;s>=0;s--)(c=r[s])&&(n=(e?c(o,i,n):c(n))||n);return e&&n&&g(o,i,n),n},a=(r,o)=>(i,e)=>o(i,e,r);import{Disposable as u}from"../../../../base/common/lifecycle.js";import{ICodeEditorService as C}from"../../../../editor/browser/services/codeEditorService.js";import{EditorOption as m}from"../../../../editor/common/config/editorOptions.js";import{AccessibilityHelpNLS as t}from"../../../../editor/common/standaloneStrings.js";import{ICommandService as h}from"../../../../platform/commands/common/commands.js";import{IContextKeyService as y}from"../../../../platform/contextkey/common/contextkey.js";import{IInstantiationService as b}from"../../../../platform/instantiation/common/instantiation.js";import{IKeybindingService as v}from"../../../../platform/keybinding/common/keybinding.js";import{AccessibilityHelpAction as S}from"./accessibleViewActions.js";import{CONTEXT_CHAT_ENABLED as I}from"../../chat/common/chatContextKeys.js";import{CommentAccessibilityHelpNLS as d}from"../../comments/browser/commentsAccessibility.js";import{CommentContextKeys as E}from"../../comments/common/commentContextKeys.js";import{NEW_UNTITLED_FILE_COMMAND_ID as x}from"../../files/browser/fileConstants.js";import{IAccessibleViewService as A,AccessibleViewProviderId as _,AccessibleViewType as K}from"../../../../platform/accessibility/browser/accessibleView.js";import{AccessibilityVerbositySettingId as k}from"./accessibilityConfiguration.js";class Y extends u{static ID;constructor(){super(),this._register(S.addImplementation(90,"editor",async o=>{const i=o.get(C),e=o.get(A),n=o.get(b),s=o.get(h);let c=i.getActiveCodeEditor()||i.getFocusedCodeEditor();c||(await s.executeCommand(x),c=i.getActiveCodeEditor()),e.show(n.createInstance(p,c))}))}}let p=class extends u{constructor(i,e,n){super();this._editor=i;this._keybindingService=e;this._contextKeyService=n}id=_.Editor;onClose(){this._editor.focus()}options={type:K.Help,readMoreUrl:"https://go.microsoft.com/fwlink/?linkid=851010"};verbositySettingKey=k.Editor;provideContent(){const i=this._editor.getOptions(),e=[];i.get(m.inDiffEditor)?i.get(m.readOnly)?e.push(t.readonlyDiffEditor):e.push(t.editableDiffEditor):i.get(m.readOnly)?e.push(t.readonlyEditor):e.push(t.editableEditor),e.push(t.listSignalSounds),e.push(t.listAlerts);const n=D(this._keybindingService,this._contextKeyService);n&&e.push(n);const s=w(this._keybindingService,this._contextKeyService,this._editor);return s&&e.push(s),i.get(m.stickyScroll).enabled&&e.push(t.stickScroll),i.get(m.tabFocusMode)?e.push(t.tabFocusModeOnMsg):e.push(t.tabFocusModeOffMsg),e.push(t.codeFolding),e.push(t.intellisense),e.push(t.showOrFocusHover),e.push(t.goToSymbol),e.push(t.startDebugging),e.push(t.setBreakpoint),e.push(t.debugExecuteSelection),e.push(t.addToWatch),e.join(`
`)}};p=l([a(1,v),a(2,y)],p);function w(r,o,i){if(o.getContext(i.getDomNode()).getValue(E.activeEditorHasCommentingRange.key))return[d.intro,d.addComment,d.nextCommentThread,d.previousCommentThread,d.nextRange,d.previousRange].join(`
`)}function D(r,o){if(I.getValue(o))return[t.quickChat,t.startInlineChat].join(`
`)}export{Y as EditorAccessibilityHelpContribution,D as getChatCommandInfo,w as getCommentCommandInfo};
