{
  "version": 3,
  "sources": ["../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/contrib/accessibility/browser/accessibleView.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport {\n\tEventType,\n\taddDisposableListener,\n\tgetActiveWindow,\n\tisActiveElement,\n} from \"../../../../base/browser/dom.js\";\nimport {\n\ttype IKeyboardEvent,\n\tStandardKeyboardEvent,\n} from \"../../../../base/browser/keyboardEvent.js\";\nimport { ActionsOrientation } from \"../../../../base/browser/ui/actionbar/actionbar.js\";\nimport { alert } from \"../../../../base/browser/ui/aria/aria.js\";\nimport type { IAction } from \"../../../../base/common/actions.js\";\nimport { Codicon } from \"../../../../base/common/codicons.js\";\nimport { KeyCode } from \"../../../../base/common/keyCodes.js\";\nimport {\n\tDisposable,\n\tDisposableStore,\n\ttype IDisposable,\n} from \"../../../../base/common/lifecycle.js\";\nimport * as marked from \"../../../../base/common/marked/marked.js\";\nimport { isMacintosh, isWindows } from \"../../../../base/common/platform.js\";\nimport { ThemeIcon } from \"../../../../base/common/themables.js\";\nimport { URI } from \"../../../../base/common/uri.js\";\nimport type { IEditorConstructionOptions } from \"../../../../editor/browser/config/editorConfiguration.js\";\nimport { EditorExtensionsRegistry } from \"../../../../editor/browser/editorExtensions.js\";\nimport {\n\tCodeEditorWidget,\n\ttype ICodeEditorWidgetOptions,\n} from \"../../../../editor/browser/widget/codeEditor/codeEditorWidget.js\";\nimport { Position } from \"../../../../editor/common/core/position.js\";\nimport type { ITextModel } from \"../../../../editor/common/model.js\";\nimport { IModelService } from \"../../../../editor/common/services/model.js\";\nimport { AccessibilityHelpNLS } from \"../../../../editor/common/standaloneStrings.js\";\nimport { CodeActionController } from \"../../../../editor/contrib/codeAction/browser/codeActionController.js\";\nimport { localize } from \"../../../../nls.js\";\nimport {\n\tAccessibleContentProvider,\n\tAccessibleViewProviderId,\n\tAccessibleViewType,\n\tExtensionContentProvider,\n\ttype IAccessibleViewService,\n\ttype IAccessibleViewSymbol,\n} from \"../../../../platform/accessibility/browser/accessibleView.js\";\nimport {\n\tACCESSIBLE_VIEW_SHOWN_STORAGE_PREFIX,\n\tIAccessibilityService,\n} from \"../../../../platform/accessibility/common/accessibility.js\";\nimport { createAndFillInActionBarActions } from \"../../../../platform/actions/browser/menuEntryActionViewItem.js\";\nimport { WorkbenchToolBar } from \"../../../../platform/actions/browser/toolbar.js\";\nimport {\n\tIMenuService,\n\tMenuId,\n} from \"../../../../platform/actions/common/actions.js\";\nimport { ICommandService } from \"../../../../platform/commands/common/commands.js\";\nimport { IConfigurationService } from \"../../../../platform/configuration/common/configuration.js\";\nimport {\n\ttype IContextKey,\n\tIContextKeyService,\n} from \"../../../../platform/contextkey/common/contextkey.js\";\nimport {\n\ttype IContextViewDelegate,\n\tIContextViewService,\n} from \"../../../../platform/contextview/browser/contextView.js\";\nimport { IInstantiationService } from \"../../../../platform/instantiation/common/instantiation.js\";\nimport { IKeybindingService } from \"../../../../platform/keybinding/common/keybinding.js\";\nimport { ResultKind } from \"../../../../platform/keybinding/common/keybindingResolver.js\";\nimport { ILayoutService } from \"../../../../platform/layout/browser/layoutService.js\";\nimport { IOpenerService } from \"../../../../platform/opener/common/opener.js\";\nimport {\n\tIQuickInputService,\n\ttype IQuickPick,\n\ttype IQuickPickItem,\n} from \"../../../../platform/quickinput/common/quickInput.js\";\nimport {\n\tIStorageService,\n\tStorageScope,\n\tStorageTarget,\n} from \"../../../../platform/storage/common/storage.js\";\nimport { IChatCodeBlockContextProviderService } from \"../../chat/browser/chat.js\";\nimport type { ICodeBlockActionContext } from \"../../chat/browser/codeBlockPart.js\";\nimport { getSimpleEditorOptions } from \"../../codeEditor/browser/simpleEditorOptions.js\";\nimport { AccessibilityCommandId } from \"../common/accessibilityCommands.js\";\nimport {\n\ttype AccessibilityVerbositySettingId,\n\tAccessibilityWorkbenchSettingId,\n\taccessibilityHelpIsShown,\n\taccessibleViewContainsCodeBlocks,\n\taccessibleViewCurrentProviderId,\n\taccessibleViewGoToSymbolSupported,\n\taccessibleViewHasAssignedKeybindings,\n\taccessibleViewHasUnassignedKeybindings,\n\taccessibleViewInCodeBlock,\n\taccessibleViewIsShown,\n\taccessibleViewOnLastLine,\n\taccessibleViewSupportsNavigation,\n\taccessibleViewVerbosityEnabled,\n} from \"./accessibilityConfiguration.js\";\nimport { resolveContentAndKeybindingItems } from \"./accessibleViewKeybindingResolver.js\";\n\nenum DIMENSIONS {\n\tMAX_WIDTH = 600,\n}\n\nexport type AccesibleViewContentProvider =\n\t| AccessibleContentProvider\n\t| ExtensionContentProvider;\n\ninterface ICodeBlock {\n\tstartLine: number;\n\tendLine: number;\n\tcode: string;\n\tlanguageId?: string;\n}\n\nexport class AccessibleView extends Disposable {\n\tprivate _editorWidget: CodeEditorWidget;\n\n\tprivate _accessiblityHelpIsShown: IContextKey<boolean>;\n\tprivate _onLastLine: IContextKey<boolean>;\n\tprivate _accessibleViewIsShown: IContextKey<boolean>;\n\tprivate _accessibleViewSupportsNavigation: IContextKey<boolean>;\n\tprivate _accessibleViewVerbosityEnabled: IContextKey<boolean>;\n\tprivate _accessibleViewGoToSymbolSupported: IContextKey<boolean>;\n\tprivate _accessibleViewCurrentProviderId: IContextKey<string>;\n\tprivate _accessibleViewInCodeBlock: IContextKey<boolean>;\n\tprivate _accessibleViewContainsCodeBlocks: IContextKey<boolean>;\n\tprivate _hasUnassignedKeybindings: IContextKey<boolean>;\n\tprivate _hasAssignedKeybindings: IContextKey<boolean>;\n\n\tprivate _codeBlocks?: ICodeBlock[];\n\tprivate _inQuickPick = false;\n\n\tget editorWidget() {\n\t\treturn this._editorWidget;\n\t}\n\tprivate _container: HTMLElement;\n\tprivate _title: HTMLElement;\n\tprivate readonly _toolbar: WorkbenchToolBar;\n\n\tprivate _currentProvider: AccesibleViewContentProvider | undefined;\n\tprivate _currentContent: string | undefined;\n\n\tprivate _lastProvider: AccesibleViewContentProvider | undefined;\n\n\tprivate _viewContainer: HTMLElement | undefined;\n\n\tconstructor(\n\t\t@IOpenerService private readonly _openerService: IOpenerService,\n\t\t@IInstantiationService\n\t\tprivate readonly _instantiationService: IInstantiationService,\n\t\t@IConfigurationService\n\t\tprivate readonly _configurationService: IConfigurationService,\n\t\t@IModelService private readonly _modelService: IModelService,\n\t\t@IContextViewService\n\t\tprivate readonly _contextViewService: IContextViewService,\n\t\t@IContextKeyService\n\t\tprivate readonly _contextKeyService: IContextKeyService,\n\t\t@IAccessibilityService\n\t\tprivate readonly _accessibilityService: IAccessibilityService,\n\t\t@IKeybindingService\n\t\tprivate readonly _keybindingService: IKeybindingService,\n\t\t@ILayoutService private readonly _layoutService: ILayoutService,\n\t\t@IMenuService private readonly _menuService: IMenuService,\n\t\t@ICommandService private readonly _commandService: ICommandService,\n\t\t@IChatCodeBlockContextProviderService\n\t\tprivate readonly _codeBlockContextProviderService: IChatCodeBlockContextProviderService,\n\t\t@IStorageService private readonly _storageService: IStorageService,\n\t\t@IQuickInputService\n\t\tprivate readonly _quickInputService: IQuickInputService,\n\t) {\n\t\tsuper();\n\n\t\tthis._accessiblityHelpIsShown = accessibilityHelpIsShown.bindTo(\n\t\t\tthis._contextKeyService,\n\t\t);\n\t\tthis._accessibleViewIsShown = accessibleViewIsShown.bindTo(\n\t\t\tthis._contextKeyService,\n\t\t);\n\t\tthis._accessibleViewSupportsNavigation =\n\t\t\taccessibleViewSupportsNavigation.bindTo(this._contextKeyService);\n\t\tthis._accessibleViewVerbosityEnabled =\n\t\t\taccessibleViewVerbosityEnabled.bindTo(this._contextKeyService);\n\t\tthis._accessibleViewGoToSymbolSupported =\n\t\t\taccessibleViewGoToSymbolSupported.bindTo(this._contextKeyService);\n\t\tthis._accessibleViewCurrentProviderId =\n\t\t\taccessibleViewCurrentProviderId.bindTo(this._contextKeyService);\n\t\tthis._accessibleViewInCodeBlock = accessibleViewInCodeBlock.bindTo(\n\t\t\tthis._contextKeyService,\n\t\t);\n\t\tthis._accessibleViewContainsCodeBlocks =\n\t\t\taccessibleViewContainsCodeBlocks.bindTo(this._contextKeyService);\n\t\tthis._onLastLine = accessibleViewOnLastLine.bindTo(\n\t\t\tthis._contextKeyService,\n\t\t);\n\t\tthis._hasUnassignedKeybindings =\n\t\t\taccessibleViewHasUnassignedKeybindings.bindTo(\n\t\t\t\tthis._contextKeyService,\n\t\t\t);\n\t\tthis._hasAssignedKeybindings =\n\t\t\taccessibleViewHasAssignedKeybindings.bindTo(\n\t\t\t\tthis._contextKeyService,\n\t\t\t);\n\n\t\tthis._container = document.createElement(\"div\");\n\t\tthis._container.classList.add(\"accessible-view\");\n\t\tif (\n\t\t\tthis._configurationService.getValue(\n\t\t\t\tAccessibilityWorkbenchSettingId.HideAccessibleView,\n\t\t\t)\n\t\t) {\n\t\t\tthis._container.classList.add(\"hide\");\n\t\t}\n\t\tconst codeEditorWidgetOptions: ICodeEditorWidgetOptions = {\n\t\t\tcontributions:\n\t\t\t\tEditorExtensionsRegistry.getEditorContributions().filter(\n\t\t\t\t\t(c) => c.id !== CodeActionController.ID,\n\t\t\t\t),\n\t\t};\n\t\tconst titleBar = document.createElement(\"div\");\n\t\ttitleBar.classList.add(\"accessible-view-title-bar\");\n\t\tthis._title = document.createElement(\"div\");\n\t\tthis._title.classList.add(\"accessible-view-title\");\n\t\ttitleBar.appendChild(this._title);\n\t\tconst actionBar = document.createElement(\"div\");\n\t\tactionBar.classList.add(\"accessible-view-action-bar\");\n\t\ttitleBar.appendChild(actionBar);\n\t\tthis._container.appendChild(titleBar);\n\t\tthis._toolbar = this._register(\n\t\t\t_instantiationService.createInstance(WorkbenchToolBar, actionBar, {\n\t\t\t\torientation: ActionsOrientation.HORIZONTAL,\n\t\t\t}),\n\t\t);\n\t\tthis._toolbar.context = { viewId: \"accessibleView\" };\n\t\tconst toolbarElt = this._toolbar.getElement();\n\t\ttoolbarElt.tabIndex = 0;\n\n\t\tconst editorOptions: IEditorConstructionOptions = {\n\t\t\t...getSimpleEditorOptions(this._configurationService),\n\t\t\tlineDecorationsWidth: 6,\n\t\t\tdragAndDrop: false,\n\t\t\tcursorWidth: 1,\n\t\t\twordWrap: \"off\",\n\t\t\twrappingStrategy: \"advanced\",\n\t\t\twrappingIndent: \"none\",\n\t\t\tpadding: { top: 2, bottom: 2 },\n\t\t\tquickSuggestions: false,\n\t\t\trenderWhitespace: \"none\",\n\t\t\tdropIntoEditor: { enabled: false },\n\t\t\treadOnly: true,\n\t\t\tfontFamily: \"var(--monaco-monospace-font)\",\n\t\t};\n\t\tthis._editorWidget = this._register(\n\t\t\tthis._instantiationService.createInstance(\n\t\t\t\tCodeEditorWidget,\n\t\t\t\tthis._container,\n\t\t\t\teditorOptions,\n\t\t\t\tcodeEditorWidgetOptions,\n\t\t\t),\n\t\t);\n\t\tthis._register(\n\t\t\tthis._accessibilityService.onDidChangeScreenReaderOptimized(() => {\n\t\t\t\tif (\n\t\t\t\t\tthis._currentProvider &&\n\t\t\t\t\tthis._accessiblityHelpIsShown.get()\n\t\t\t\t) {\n\t\t\t\t\tthis.show(this._currentProvider);\n\t\t\t\t}\n\t\t\t}),\n\t\t);\n\t\tthis._register(\n\t\t\tthis._configurationService.onDidChangeConfiguration((e) => {\n\t\t\t\tif (\n\t\t\t\t\tthis._currentProvider instanceof\n\t\t\t\t\t\tAccessibleContentProvider &&\n\t\t\t\t\te.affectsConfiguration(\n\t\t\t\t\t\tthis._currentProvider.verbositySettingKey,\n\t\t\t\t\t)\n\t\t\t\t) {\n\t\t\t\t\tif (this._accessiblityHelpIsShown.get()) {\n\t\t\t\t\t\tthis.show(this._currentProvider);\n\t\t\t\t\t}\n\t\t\t\t\tthis._accessibleViewVerbosityEnabled.set(\n\t\t\t\t\t\tthis._configurationService.getValue(\n\t\t\t\t\t\t\tthis._currentProvider.verbositySettingKey,\n\t\t\t\t\t\t),\n\t\t\t\t\t);\n\t\t\t\t\tthis._updateToolbar(\n\t\t\t\t\t\tthis._currentProvider.actions,\n\t\t\t\t\t\tthis._currentProvider.options.type,\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tif (\n\t\t\t\t\te.affectsConfiguration(\n\t\t\t\t\t\tAccessibilityWorkbenchSettingId.HideAccessibleView,\n\t\t\t\t\t)\n\t\t\t\t) {\n\t\t\t\t\tthis._container.classList.toggle(\n\t\t\t\t\t\t\"hide\",\n\t\t\t\t\t\tthis._configurationService.getValue(\n\t\t\t\t\t\t\tAccessibilityWorkbenchSettingId.HideAccessibleView,\n\t\t\t\t\t\t),\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}),\n\t\t);\n\t\tthis._register(\n\t\t\tthis._editorWidget.onDidDispose(() => this._resetContextKeys()),\n\t\t);\n\t\tthis._register(\n\t\t\tthis._editorWidget.onDidChangeCursorPosition(() => {\n\t\t\t\tthis._onLastLine.set(\n\t\t\t\t\tthis._editorWidget.getPosition()?.lineNumber ===\n\t\t\t\t\t\tthis._editorWidget.getModel()?.getLineCount(),\n\t\t\t\t);\n\t\t\t}),\n\t\t);\n\t\tthis._register(\n\t\t\tthis._editorWidget.onDidChangeCursorPosition(() => {\n\t\t\t\tconst cursorPosition =\n\t\t\t\t\tthis._editorWidget.getPosition()?.lineNumber;\n\t\t\t\tif (this._codeBlocks && cursorPosition !== undefined) {\n\t\t\t\t\tconst inCodeBlock =\n\t\t\t\t\t\tthis._codeBlocks.find(\n\t\t\t\t\t\t\t(c) =>\n\t\t\t\t\t\t\t\tc.startLine <= cursorPosition &&\n\t\t\t\t\t\t\t\tc.endLine >= cursorPosition,\n\t\t\t\t\t\t) !== undefined;\n\t\t\t\t\tthis._accessibleViewInCodeBlock.set(inCodeBlock);\n\t\t\t\t}\n\t\t\t}),\n\t\t);\n\t}\n\n\tprivate _resetContextKeys(): void {\n\t\tthis._accessiblityHelpIsShown.reset();\n\t\tthis._accessibleViewIsShown.reset();\n\t\tthis._accessibleViewSupportsNavigation.reset();\n\t\tthis._accessibleViewVerbosityEnabled.reset();\n\t\tthis._accessibleViewGoToSymbolSupported.reset();\n\t\tthis._accessibleViewCurrentProviderId.reset();\n\t\tthis._hasAssignedKeybindings.reset();\n\t\tthis._hasUnassignedKeybindings.reset();\n\t}\n\n\tgetPosition(id?: AccessibleViewProviderId): Position | undefined {\n\t\tif (!id || !this._lastProvider || this._lastProvider.id !== id) {\n\t\t\treturn undefined;\n\t\t}\n\t\treturn this._editorWidget.getPosition() || undefined;\n\t}\n\n\tsetPosition(position: Position, reveal?: boolean, select?: boolean): void {\n\t\tthis._editorWidget.setPosition(position);\n\t\tif (reveal) {\n\t\t\tthis._editorWidget.revealPosition(position);\n\t\t}\n\t\tif (select) {\n\t\t\tconst lineLength =\n\t\t\t\tthis._editorWidget\n\t\t\t\t\t.getModel()\n\t\t\t\t\t?.getLineLength(position.lineNumber) ?? 0;\n\t\t\tif (lineLength) {\n\t\t\t\tthis._editorWidget.setSelection({\n\t\t\t\t\tstartLineNumber: position.lineNumber,\n\t\t\t\t\tstartColumn: 1,\n\t\t\t\t\tendLineNumber: position.lineNumber,\n\t\t\t\t\tendColumn: lineLength + 1,\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\tgetCodeBlockContext(): ICodeBlockActionContext | undefined {\n\t\tconst position = this._editorWidget.getPosition();\n\t\tif (!this._codeBlocks?.length || !position) {\n\t\t\treturn;\n\t\t}\n\t\tconst codeBlockIndex = this._codeBlocks?.findIndex(\n\t\t\t(c) =>\n\t\t\t\tc.startLine <= position?.lineNumber &&\n\t\t\t\tc.endLine >= position?.lineNumber,\n\t\t);\n\t\tconst codeBlock =\n\t\t\tcodeBlockIndex !== undefined && codeBlockIndex > -1\n\t\t\t\t? this._codeBlocks[codeBlockIndex]\n\t\t\t\t: undefined;\n\t\tif (!codeBlock || codeBlockIndex === undefined) {\n\t\t\treturn;\n\t\t}\n\t\treturn {\n\t\t\tcode: codeBlock.code,\n\t\t\tlanguageId: codeBlock.languageId,\n\t\t\tcodeBlockIndex,\n\t\t\telement: undefined,\n\t\t};\n\t}\n\n\tnavigateToCodeBlock(type: \"next\" | \"previous\"): void {\n\t\tconst position = this._editorWidget.getPosition();\n\t\tif (!this._codeBlocks?.length || !position) {\n\t\t\treturn;\n\t\t}\n\t\tlet codeBlock;\n\t\tconst codeBlocks = this._codeBlocks.slice();\n\t\tif (type === \"previous\") {\n\t\t\tcodeBlock = codeBlocks\n\t\t\t\t.reverse()\n\t\t\t\t.find((c) => c.endLine < position.lineNumber);\n\t\t} else {\n\t\t\tcodeBlock = codeBlocks.find(\n\t\t\t\t(c) => c.startLine > position.lineNumber,\n\t\t\t);\n\t\t}\n\t\tif (!codeBlock) {\n\t\t\treturn;\n\t\t}\n\t\tthis.setPosition(new Position(codeBlock.startLine, 1), true);\n\t}\n\n\tshowLastProvider(id: AccessibleViewProviderId): void {\n\t\tif (!this._lastProvider || this._lastProvider.options.id !== id) {\n\t\t\treturn;\n\t\t}\n\t\tthis.show(this._lastProvider);\n\t}\n\n\tshow(\n\t\tprovider?: AccesibleViewContentProvider,\n\t\tsymbol?: IAccessibleViewSymbol,\n\t\tshowAccessibleViewHelp?: boolean,\n\t\tposition?: Position,\n\t): void {\n\t\tprovider = provider ?? this._currentProvider;\n\t\tif (!provider) {\n\t\t\treturn;\n\t\t}\n\t\tprovider.onOpen?.();\n\t\tconst delegate: IContextViewDelegate = {\n\t\t\tgetAnchor: () => {\n\t\t\t\treturn {\n\t\t\t\t\tx:\n\t\t\t\t\t\tgetActiveWindow().innerWidth / 2 -\n\t\t\t\t\t\tMath.min(\n\t\t\t\t\t\t\tthis._layoutService.activeContainerDimension.width *\n\t\t\t\t\t\t\t\t0.62 /* golden cut */,\n\t\t\t\t\t\t\tDIMENSIONS.MAX_WIDTH,\n\t\t\t\t\t\t) /\n\t\t\t\t\t\t\t2,\n\t\t\t\t\ty: this._layoutService.activeContainerOffset.quickPickTop,\n\t\t\t\t};\n\t\t\t},\n\t\t\trender: (container) => {\n\t\t\t\tthis._viewContainer = container;\n\t\t\t\tthis._viewContainer.classList.add(\"accessible-view-container\");\n\t\t\t\treturn this._render(\n\t\t\t\t\tprovider,\n\t\t\t\t\tcontainer,\n\t\t\t\t\tshowAccessibleViewHelp,\n\t\t\t\t);\n\t\t\t},\n\t\t\tonHide: () => {\n\t\t\t\tif (!showAccessibleViewHelp) {\n\t\t\t\t\tthis._updateLastProvider();\n\t\t\t\t\tthis._currentProvider?.dispose();\n\t\t\t\t\tthis._currentProvider = undefined;\n\t\t\t\t\tthis._resetContextKeys();\n\t\t\t\t}\n\t\t\t},\n\t\t};\n\t\tthis._contextViewService.showContextView(delegate);\n\n\t\tif (position) {\n\t\t\t// Context view takes time to show up, so we need to wait for it to show up before we can set the position\n\t\t\tqueueMicrotask(() => {\n\t\t\t\tthis._editorWidget.revealLine(position.lineNumber);\n\t\t\t\tthis._editorWidget.setSelection({\n\t\t\t\t\tstartLineNumber: position.lineNumber,\n\t\t\t\t\tstartColumn: position.column,\n\t\t\t\t\tendLineNumber: position.lineNumber,\n\t\t\t\t\tendColumn: position.column,\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t\tif (symbol && this._currentProvider) {\n\t\t\tthis.showSymbol(this._currentProvider, symbol);\n\t\t}\n\t\tif (\n\t\t\tprovider instanceof AccessibleContentProvider &&\n\t\t\tprovider.onDidRequestClearLastProvider\n\t\t) {\n\t\t\tthis._register(\n\t\t\t\tprovider.onDidRequestClearLastProvider((id: string) => {\n\t\t\t\t\tif (this._lastProvider?.options.id === id) {\n\t\t\t\t\t\tthis._lastProvider = undefined;\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t);\n\t\t}\n\t\tif (provider.options.id) {\n\t\t\t// only cache a provider with an ID so that it will eventually be cleared.\n\t\t\tthis._lastProvider = provider;\n\t\t}\n\t\tif (provider.id === AccessibleViewProviderId.Chat) {\n\t\t\tthis._register(\n\t\t\t\tthis._codeBlockContextProviderService.registerProvider(\n\t\t\t\t\t{ getCodeBlockContext: () => this.getCodeBlockContext() },\n\t\t\t\t\t\"accessibleView\",\n\t\t\t\t),\n\t\t\t);\n\t\t}\n\t\tif (provider instanceof ExtensionContentProvider) {\n\t\t\tthis._storageService.store(\n\t\t\t\t`${ACCESSIBLE_VIEW_SHOWN_STORAGE_PREFIX}${provider.id}`,\n\t\t\t\ttrue,\n\t\t\t\tStorageScope.APPLICATION,\n\t\t\t\tStorageTarget.USER,\n\t\t\t);\n\t\t}\n\t\tif (provider.onDidChangeContent) {\n\t\t\tthis._register(\n\t\t\t\tprovider.onDidChangeContent(() => {\n\t\t\t\t\tif (this._viewContainer) {\n\t\t\t\t\t\tthis._render(\n\t\t\t\t\t\t\tprovider,\n\t\t\t\t\t\t\tthis._viewContainer,\n\t\t\t\t\t\t\tshowAccessibleViewHelp,\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t);\n\t\t}\n\t}\n\n\tprevious(): void {\n\t\tconst newContent = this._currentProvider?.providePreviousContent?.();\n\t\tif (!this._currentProvider || !this._viewContainer || !newContent) {\n\t\t\treturn;\n\t\t}\n\t\tthis._render(\n\t\t\tthis._currentProvider,\n\t\t\tthis._viewContainer,\n\t\t\tundefined,\n\t\t\tnewContent,\n\t\t);\n\t}\n\n\tnext(): void {\n\t\tconst newContent = this._currentProvider?.provideNextContent?.();\n\t\tif (!this._currentProvider || !this._viewContainer || !newContent) {\n\t\t\treturn;\n\t\t}\n\t\tthis._render(\n\t\t\tthis._currentProvider,\n\t\t\tthis._viewContainer,\n\t\t\tundefined,\n\t\t\tnewContent,\n\t\t);\n\t}\n\n\tprivate _verbosityEnabled(): boolean {\n\t\tif (!this._currentProvider) {\n\t\t\treturn false;\n\t\t}\n\t\treturn this._currentProvider instanceof AccessibleContentProvider\n\t\t\t? this._configurationService.getValue(\n\t\t\t\t\tthis._currentProvider.verbositySettingKey,\n\t\t\t\t) === true\n\t\t\t: this._storageService.getBoolean(\n\t\t\t\t\t`${ACCESSIBLE_VIEW_SHOWN_STORAGE_PREFIX}${this._currentProvider.id}`,\n\t\t\t\t\tStorageScope.APPLICATION,\n\t\t\t\t\tfalse,\n\t\t\t\t);\n\t}\n\n\tgoToSymbol(): void {\n\t\tif (!this._currentProvider) {\n\t\t\treturn;\n\t\t}\n\t\tthis._instantiationService\n\t\t\t.createInstance(AccessibleViewSymbolQuickPick, this)\n\t\t\t.show(this._currentProvider);\n\t}\n\n\tcalculateCodeBlocks(markdown?: string): void {\n\t\tif (!markdown) {\n\t\t\treturn;\n\t\t}\n\t\tif (this._currentProvider?.id !== AccessibleViewProviderId.Chat) {\n\t\t\treturn;\n\t\t}\n\t\tif (\n\t\t\tthis._currentProvider.options.language &&\n\t\t\tthis._currentProvider.options.language !== \"markdown\"\n\t\t) {\n\t\t\t// Symbols haven't been provided and we cannot parse this language\n\t\t\treturn;\n\t\t}\n\t\tconst lines = markdown.split(\"\\n\");\n\t\tthis._codeBlocks = [];\n\t\tlet inBlock = false;\n\t\tlet startLine = 0;\n\n\t\tlet languageId: string | undefined;\n\t\tlines.forEach((line, i) => {\n\t\t\tif (!inBlock && line.startsWith(\"```\")) {\n\t\t\t\tinBlock = true;\n\t\t\t\tstartLine = i + 1;\n\t\t\t\tlanguageId = line.substring(3).trim();\n\t\t\t} else if (inBlock && line.endsWith(\"```\")) {\n\t\t\t\tinBlock = false;\n\t\t\t\tconst endLine = i;\n\t\t\t\tconst code = lines.slice(startLine, endLine).join(\"\\n\");\n\t\t\t\tthis._codeBlocks?.push({\n\t\t\t\t\tstartLine,\n\t\t\t\t\tendLine,\n\t\t\t\t\tcode,\n\t\t\t\t\tlanguageId,\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\tthis._accessibleViewContainsCodeBlocks.set(this._codeBlocks.length > 0);\n\t}\n\n\tgetSymbols(): IAccessibleViewSymbol[] | undefined {\n\t\tconst provider =\n\t\t\tthis._currentProvider instanceof AccessibleContentProvider\n\t\t\t\t? this._currentProvider\n\t\t\t\t: undefined;\n\t\tif (!this._currentContent || !provider) {\n\t\t\treturn;\n\t\t}\n\t\tconst symbols: IAccessibleViewSymbol[] = provider.getSymbols?.() || [];\n\t\tif (symbols?.length) {\n\t\t\treturn symbols;\n\t\t}\n\t\tif (\n\t\t\tprovider.options.language &&\n\t\t\tprovider.options.language !== \"markdown\"\n\t\t) {\n\t\t\t// Symbols haven't been provided and we cannot parse this language\n\t\t\treturn;\n\t\t}\n\t\tconst markdownTokens: marked.TokensList | undefined =\n\t\t\tmarked.marked.lexer(this._currentContent);\n\t\tif (!markdownTokens) {\n\t\t\treturn;\n\t\t}\n\t\tthis._convertTokensToSymbols(markdownTokens, symbols);\n\t\treturn symbols.length ? symbols : undefined;\n\t}\n\n\topenHelpLink(): void {\n\t\tif (!this._currentProvider?.options.readMoreUrl) {\n\t\t\treturn;\n\t\t}\n\t\tthis._openerService.open(\n\t\t\tURI.parse(this._currentProvider.options.readMoreUrl),\n\t\t);\n\t}\n\n\tconfigureKeybindings(unassigned: boolean): void {\n\t\tthis._inQuickPick = true;\n\t\tconst provider = this._updateLastProvider();\n\t\tconst items = unassigned\n\t\t\t? provider?.options?.configureKeybindingItems\n\t\t\t: provider?.options?.configuredKeybindingItems;\n\t\tif (!items) {\n\t\t\treturn;\n\t\t}\n\t\tconst disposables = this._register(new DisposableStore());\n\t\tconst quickPick: IQuickPick<IQuickPickItem> = disposables.add(\n\t\t\tthis._quickInputService.createQuickPick(),\n\t\t);\n\t\tquickPick.items = items;\n\t\tquickPick.title = localize(\"keybindings\", \"Configure keybindings\");\n\t\tquickPick.placeholder = localize(\n\t\t\t\"selectKeybinding\",\n\t\t\t\"Select a command ID to configure a keybinding for it\",\n\t\t);\n\t\tquickPick.show();\n\t\tdisposables.add(\n\t\t\tquickPick.onDidAccept(async () => {\n\t\t\t\tconst item = quickPick.selectedItems[0];\n\t\t\t\tif (item) {\n\t\t\t\t\tawait this._commandService.executeCommand(\n\t\t\t\t\t\t\"workbench.action.openGlobalKeybindings\",\n\t\t\t\t\t\titem.id,\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tquickPick.dispose();\n\t\t\t}),\n\t\t);\n\t\tdisposables.add(\n\t\t\tquickPick.onDidHide(() => {\n\t\t\t\tif (!quickPick.selectedItems.length && provider) {\n\t\t\t\t\tthis.show(provider);\n\t\t\t\t}\n\t\t\t\tdisposables.dispose();\n\t\t\t\tthis._inQuickPick = false;\n\t\t\t}),\n\t\t);\n\t}\n\n\tprivate _convertTokensToSymbols(\n\t\ttokens: marked.TokensList,\n\t\tsymbols: IAccessibleViewSymbol[],\n\t): void {\n\t\tlet firstListItem: string | undefined;\n\t\tfor (const token of tokens) {\n\t\t\tlet label: string | undefined;\n\t\t\tif (\"type\" in token) {\n\t\t\t\tswitch (token.type) {\n\t\t\t\t\tcase \"heading\":\n\t\t\t\t\tcase \"paragraph\":\n\t\t\t\t\tcase \"code\":\n\t\t\t\t\t\tlabel = token.text;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"list\": {\n\t\t\t\t\t\tconst firstItem = (token as marked.Tokens.List)\n\t\t\t\t\t\t\t.items[0];\n\t\t\t\t\t\tif (!firstItem) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfirstListItem = `- ${firstItem.text}`;\n\t\t\t\t\t\tlabel = (token as marked.Tokens.List).items\n\t\t\t\t\t\t\t.map((i) => i.text)\n\t\t\t\t\t\t\t.join(\", \");\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (label) {\n\t\t\t\tsymbols.push({\n\t\t\t\t\tmarkdownToParse: label,\n\t\t\t\t\tlabel: localize(\n\t\t\t\t\t\t\"symbolLabel\",\n\t\t\t\t\t\t\"({0}) {1}\",\n\t\t\t\t\t\ttoken.type,\n\t\t\t\t\t\tlabel,\n\t\t\t\t\t),\n\t\t\t\t\tariaLabel: localize(\n\t\t\t\t\t\t\"symbolLabelAria\",\n\t\t\t\t\t\t\"({0}) {1}\",\n\t\t\t\t\t\ttoken.type,\n\t\t\t\t\t\tlabel,\n\t\t\t\t\t),\n\t\t\t\t\tfirstListItem,\n\t\t\t\t});\n\t\t\t\tfirstListItem = undefined;\n\t\t\t}\n\t\t}\n\t}\n\n\tshowSymbol(\n\t\tprovider: AccesibleViewContentProvider,\n\t\tsymbol: IAccessibleViewSymbol,\n\t): void {\n\t\tif (!this._currentContent) {\n\t\t\treturn;\n\t\t}\n\t\tlet lineNumber: number | undefined = symbol.lineNumber;\n\t\tconst markdownToParse = symbol.markdownToParse;\n\t\tif (lineNumber === undefined && markdownToParse === undefined) {\n\t\t\t// No symbols provided and we cannot parse this language\n\t\t\treturn;\n\t\t}\n\n\t\tif (lineNumber === undefined && markdownToParse) {\n\t\t\t// Note that this scales poorly, thus isn't used for worst case scenarios like the terminal, for which a line number will always be provided.\n\t\t\t// Parse the markdown to find the line number\n\t\t\tconst index =\n\t\t\t\tthis._currentContent\n\t\t\t\t\t.split(\"\\n\")\n\t\t\t\t\t.findIndex(\n\t\t\t\t\t\t(line) =>\n\t\t\t\t\t\t\tline.includes(markdownToParse.split(\"\\n\")[0]) ||\n\t\t\t\t\t\t\t(symbol.firstListItem &&\n\t\t\t\t\t\t\t\tline.includes(symbol.firstListItem)),\n\t\t\t\t\t) ?? -1;\n\t\t\tif (index >= 0) {\n\t\t\t\tlineNumber = index + 1;\n\t\t\t}\n\t\t}\n\t\tif (lineNumber === undefined) {\n\t\t\treturn;\n\t\t}\n\t\tthis.show(provider, undefined, undefined, {\n\t\t\tlineNumber,\n\t\t\tcolumn: 1,\n\t\t} as Position);\n\t\tthis._updateContextKeys(provider, true);\n\t}\n\n\tdisableHint(): void {\n\t\tif (!(this._currentProvider instanceof AccessibleContentProvider)) {\n\t\t\treturn;\n\t\t}\n\t\tthis._configurationService.updateValue(\n\t\t\tthis._currentProvider?.verbositySettingKey,\n\t\t\tfalse,\n\t\t);\n\t\talert(\n\t\t\tlocalize(\n\t\t\t\t\"disableAccessibilityHelp\",\n\t\t\t\t\"{0} accessibility verbosity is now disabled\",\n\t\t\t\tthis._currentProvider.verbositySettingKey,\n\t\t\t),\n\t\t);\n\t}\n\n\tprivate _updateContextKeys(\n\t\tprovider: AccesibleViewContentProvider,\n\t\tshown: boolean,\n\t): void {\n\t\tif (provider.options.type === AccessibleViewType.Help) {\n\t\t\tthis._accessiblityHelpIsShown.set(shown);\n\t\t\tthis._accessibleViewIsShown.reset();\n\t\t} else {\n\t\t\tthis._accessibleViewIsShown.set(shown);\n\t\t\tthis._accessiblityHelpIsShown.reset();\n\t\t}\n\t\tthis._accessibleViewSupportsNavigation.set(\n\t\t\tprovider.provideNextContent !== undefined ||\n\t\t\t\tprovider.providePreviousContent !== undefined,\n\t\t);\n\t\tthis._accessibleViewVerbosityEnabled.set(this._verbosityEnabled());\n\t\tthis._accessibleViewGoToSymbolSupported.set(\n\t\t\tthis._goToSymbolsSupported()\n\t\t\t\t? this.getSymbols()?.length! > 0\n\t\t\t\t: false,\n\t\t);\n\t}\n\n\tprivate _updateContent(\n\t\tprovider: AccesibleViewContentProvider,\n\t\tupdatedContent?: string,\n\t): void {\n\t\tlet content = updatedContent ?? provider.provideContent();\n\t\tif (provider.options.type === AccessibleViewType.View) {\n\t\t\tthis._currentContent = content;\n\t\t\tthis._hasUnassignedKeybindings.reset();\n\t\t\tthis._hasAssignedKeybindings.reset();\n\t\t\treturn;\n\t\t}\n\t\tconst readMoreLinkHint = this._readMoreHint(provider);\n\t\tconst disableHelpHint = this._disableVerbosityHint(provider);\n\t\tconst screenReaderModeHint = this._screenReaderModeHint(provider);\n\t\tconst exitThisDialogHint = this._exitDialogHint(provider);\n\t\tlet configureKbHint = \"\";\n\t\tlet configureAssignedKbHint = \"\";\n\t\tconst resolvedContent = resolveContentAndKeybindingItems(\n\t\t\tthis._keybindingService,\n\t\t\tscreenReaderModeHint +\n\t\t\t\tcontent +\n\t\t\t\treadMoreLinkHint +\n\t\t\t\tdisableHelpHint +\n\t\t\t\texitThisDialogHint,\n\t\t);\n\t\tif (resolvedContent) {\n\t\t\tcontent = resolvedContent.content.value;\n\t\t\tif (resolvedContent.configureKeybindingItems) {\n\t\t\t\tprovider.options.configureKeybindingItems =\n\t\t\t\t\tresolvedContent.configureKeybindingItems;\n\t\t\t\tthis._hasUnassignedKeybindings.set(true);\n\t\t\t\tconfigureKbHint = this._configureUnassignedKbHint();\n\t\t\t} else {\n\t\t\t\tthis._hasAssignedKeybindings.reset();\n\t\t\t}\n\t\t\tif (resolvedContent.configuredKeybindingItems) {\n\t\t\t\tprovider.options.configuredKeybindingItems =\n\t\t\t\t\tresolvedContent.configuredKeybindingItems;\n\t\t\t\tthis._hasAssignedKeybindings.set(true);\n\t\t\t\tconfigureAssignedKbHint = this._configureAssignedKbHint();\n\t\t\t} else {\n\t\t\t\tthis._hasAssignedKeybindings.reset();\n\t\t\t}\n\t\t}\n\t\tthis._currentContent =\n\t\t\tcontent + configureKbHint + configureAssignedKbHint;\n\t}\n\n\tprivate _render(\n\t\tprovider: AccesibleViewContentProvider,\n\t\tcontainer: HTMLElement,\n\t\tshowAccessibleViewHelp?: boolean,\n\t\tupdatedContent?: string,\n\t): IDisposable {\n\t\tthis._currentProvider = provider;\n\t\tthis._accessibleViewCurrentProviderId.set(provider.id);\n\t\tconst verbose = this._verbosityEnabled();\n\t\tthis._updateContent(provider, updatedContent);\n\t\tthis.calculateCodeBlocks(this._currentContent);\n\t\tthis._updateContextKeys(provider, true);\n\t\tconst widgetIsFocused =\n\t\t\tthis._editorWidget.hasTextFocus() ||\n\t\t\tthis._editorWidget.hasWidgetFocus();\n\t\tthis._getTextModel(\n\t\t\tURI.from({\n\t\t\t\tpath: `accessible-view-${provider.id}`,\n\t\t\t\tscheme: \"accessible-view\",\n\t\t\t\tfragment: this._currentContent,\n\t\t\t}),\n\t\t).then((model) => {\n\t\t\tif (!model) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis._editorWidget.setModel(model);\n\t\t\tconst domNode = this._editorWidget.getDomNode();\n\t\t\tif (!domNode) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tmodel.setLanguage(provider.options.language ?? \"markdown\");\n\t\t\tcontainer.appendChild(this._container);\n\t\t\tlet actionsHint = \"\";\n\t\t\tconst hasActions =\n\t\t\t\tthis._accessibleViewSupportsNavigation.get() ||\n\t\t\t\tthis._accessibleViewVerbosityEnabled.get() ||\n\t\t\t\tthis._accessibleViewGoToSymbolSupported.get() ||\n\t\t\t\tprovider.actions?.length;\n\t\t\tif (verbose && !showAccessibleViewHelp && hasActions) {\n\t\t\t\tactionsHint = provider.options.position\n\t\t\t\t\t? localize(\n\t\t\t\t\t\t\t\"ariaAccessibleViewActionsBottom\",\n\t\t\t\t\t\t\t\"Explore actions such as disabling this hint (Shift+Tab), use Escape to exit this dialog.\",\n\t\t\t\t\t\t)\n\t\t\t\t\t: localize(\n\t\t\t\t\t\t\t\"ariaAccessibleViewActions\",\n\t\t\t\t\t\t\t\"Explore actions such as disabling this hint (Shift+Tab).\",\n\t\t\t\t\t\t);\n\t\t\t}\n\t\t\tlet ariaLabel =\n\t\t\t\tprovider.options.type === AccessibleViewType.Help\n\t\t\t\t\t? localize(\"accessibility-help\", \"Accessibility Help\")\n\t\t\t\t\t: localize(\"accessible-view\", \"Accessible View\");\n\t\t\tthis._title.textContent = ariaLabel;\n\t\t\tif (\n\t\t\t\tactionsHint &&\n\t\t\t\tprovider.options.type === AccessibleViewType.View\n\t\t\t) {\n\t\t\t\tariaLabel = localize(\n\t\t\t\t\t\"accessible-view-hint\",\n\t\t\t\t\t\"Accessible View, {0}\",\n\t\t\t\t\tactionsHint,\n\t\t\t\t);\n\t\t\t} else if (actionsHint) {\n\t\t\t\tariaLabel = localize(\n\t\t\t\t\t\"accessibility-help-hint\",\n\t\t\t\t\t\"Accessibility Help, {0}\",\n\t\t\t\t\tactionsHint,\n\t\t\t\t);\n\t\t\t}\n\t\t\tif (isWindows && widgetIsFocused) {\n\t\t\t\t// prevent the screen reader on windows from reading\n\t\t\t\t// the aria label again when it's refocused\n\t\t\t\tariaLabel = \"\";\n\t\t\t}\n\t\t\tthis._editorWidget.updateOptions({ ariaLabel });\n\t\t\tthis._editorWidget.focus();\n\t\t\tif (this._currentProvider?.options.position) {\n\t\t\t\tconst position = this._editorWidget.getPosition();\n\t\t\t\tconst isDefaultPosition =\n\t\t\t\t\tposition?.lineNumber === 1 && position.column === 1;\n\t\t\t\tif (\n\t\t\t\t\tthis._currentProvider.options.position === \"bottom\" ||\n\t\t\t\t\t(this._currentProvider.options.position ===\n\t\t\t\t\t\t\"initial-bottom\" &&\n\t\t\t\t\t\tisDefaultPosition)\n\t\t\t\t) {\n\t\t\t\t\tconst lastLine = this.editorWidget\n\t\t\t\t\t\t.getModel()\n\t\t\t\t\t\t?.getLineCount();\n\t\t\t\t\tconst position =\n\t\t\t\t\t\tlastLine !== undefined && lastLine > 0\n\t\t\t\t\t\t\t? new Position(lastLine, 1)\n\t\t\t\t\t\t\t: undefined;\n\t\t\t\t\tif (position) {\n\t\t\t\t\t\tthis._editorWidget.setPosition(position);\n\t\t\t\t\t\tthis._editorWidget.revealLine(position.lineNumber);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tthis._updateToolbar(\n\t\t\tthis._currentProvider.actions,\n\t\t\tprovider.options.type,\n\t\t);\n\n\t\tconst hide = (e?: KeyboardEvent | IKeyboardEvent): void => {\n\t\t\tif (!this._inQuickPick) {\n\t\t\t\tprovider.onClose();\n\t\t\t}\n\t\t\te?.stopPropagation();\n\t\t\tthis._contextViewService.hideContextView();\n\t\t\tthis._updateContextKeys(provider, false);\n\t\t\tthis._lastProvider = undefined;\n\t\t\tthis._currentContent = undefined;\n\t\t\tthis._currentProvider?.dispose();\n\t\t\tthis._currentProvider = undefined;\n\t\t};\n\t\tconst disposableStore = new DisposableStore();\n\t\tdisposableStore.add(\n\t\t\tthis._editorWidget.onKeyDown((e) => {\n\t\t\t\tif (e.keyCode === KeyCode.Enter) {\n\t\t\t\t\tthis._commandService.executeCommand(\n\t\t\t\t\t\t\"editor.action.openLink\",\n\t\t\t\t\t);\n\t\t\t\t} else if (\n\t\t\t\t\te.keyCode === KeyCode.Escape ||\n\t\t\t\t\tshouldHide(\n\t\t\t\t\t\te.browserEvent,\n\t\t\t\t\t\tthis._keybindingService,\n\t\t\t\t\t\tthis._configurationService,\n\t\t\t\t\t)\n\t\t\t\t) {\n\t\t\t\t\thide(e);\n\t\t\t\t} else if (\n\t\t\t\t\te.keyCode === KeyCode.KeyH &&\n\t\t\t\t\tprovider.options.readMoreUrl\n\t\t\t\t) {\n\t\t\t\t\tconst url: string = provider.options.readMoreUrl;\n\t\t\t\t\talert(AccessibilityHelpNLS.openingDocs);\n\t\t\t\t\tthis._openerService.open(URI.parse(url));\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t}\n\t\t\t\tif (provider instanceof AccessibleContentProvider) {\n\t\t\t\t\tprovider.onKeyDown?.(e);\n\t\t\t\t}\n\t\t\t}),\n\t\t);\n\t\tdisposableStore.add(\n\t\t\taddDisposableListener(\n\t\t\t\tthis._toolbar.getElement(),\n\t\t\t\tEventType.KEY_DOWN,\n\t\t\t\t(e: KeyboardEvent) => {\n\t\t\t\t\tconst keyboardEvent = new StandardKeyboardEvent(e);\n\t\t\t\t\tif (keyboardEvent.equals(KeyCode.Escape)) {\n\t\t\t\t\t\thide(e);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t),\n\t\t);\n\t\tdisposableStore.add(\n\t\t\tthis._editorWidget.onDidBlurEditorWidget(() => {\n\t\t\t\tif (!isActiveElement(this._toolbar.getElement())) {\n\t\t\t\t\thide();\n\t\t\t\t}\n\t\t\t}),\n\t\t);\n\t\tdisposableStore.add(\n\t\t\tthis._editorWidget.onDidContentSizeChange(() => this._layout()),\n\t\t);\n\t\tdisposableStore.add(\n\t\t\tthis._layoutService.onDidLayoutActiveContainer(() =>\n\t\t\t\tthis._layout(),\n\t\t\t),\n\t\t);\n\t\treturn disposableStore;\n\t}\n\n\tprivate _updateToolbar(\n\t\tprovidedActions?: IAction[],\n\t\ttype?: AccessibleViewType,\n\t): void {\n\t\tthis._toolbar.setAriaLabel(\n\t\t\ttype === AccessibleViewType.Help\n\t\t\t\t? localize(\"accessibleHelpToolbar\", \"Accessibility Help\")\n\t\t\t\t: localize(\"accessibleViewToolbar\", \"Accessible View\"),\n\t\t);\n\t\tconst menuActions: IAction[] = [];\n\t\tconst toolbarMenu = this._register(\n\t\t\tthis._menuService.createMenu(\n\t\t\t\tMenuId.AccessibleView,\n\t\t\t\tthis._contextKeyService,\n\t\t\t),\n\t\t);\n\t\tcreateAndFillInActionBarActions(toolbarMenu, {}, menuActions);\n\t\tif (providedActions) {\n\t\t\tfor (const providedAction of providedActions) {\n\t\t\t\tprovidedAction.class =\n\t\t\t\t\tprovidedAction.class ||\n\t\t\t\t\tThemeIcon.asClassName(Codicon.primitiveSquare);\n\t\t\t\tprovidedAction.checked = undefined;\n\t\t\t}\n\t\t\tthis._toolbar.setActions([...providedActions, ...menuActions]);\n\t\t} else {\n\t\t\tthis._toolbar.setActions(menuActions);\n\t\t}\n\t}\n\n\tprivate _layout(): void {\n\t\tconst dimension = this._layoutService.activeContainerDimension;\n\t\tconst maxHeight = dimension.height && dimension.height * 0.4;\n\t\tconst height = Math.min(\n\t\t\tmaxHeight,\n\t\t\tthis._editorWidget.getContentHeight(),\n\t\t);\n\t\tconst width = Math.min(\n\t\t\tdimension.width * 0.62 /* golden cut */,\n\t\t\tDIMENSIONS.MAX_WIDTH,\n\t\t);\n\t\tthis._editorWidget.layout({ width, height });\n\t}\n\n\tprivate async _getTextModel(resource: URI): Promise<ITextModel | null> {\n\t\tconst existing = this._modelService.getModel(resource);\n\t\tif (existing && !existing.isDisposed()) {\n\t\t\treturn existing;\n\t\t}\n\t\treturn this._modelService.createModel(\n\t\t\tresource.fragment,\n\t\t\tnull,\n\t\t\tresource,\n\t\t\tfalse,\n\t\t);\n\t}\n\n\tprivate _goToSymbolsSupported(): boolean {\n\t\tif (!this._currentProvider) {\n\t\t\treturn false;\n\t\t}\n\t\treturn (\n\t\t\tthis._currentProvider.options.type === AccessibleViewType.Help ||\n\t\t\tthis._currentProvider.options.language === \"markdown\" ||\n\t\t\tthis._currentProvider.options.language === undefined ||\n\t\t\t(this._currentProvider instanceof AccessibleContentProvider &&\n\t\t\t\t!!this._currentProvider.getSymbols?.())\n\t\t);\n\t}\n\n\tprivate _updateLastProvider(): AccesibleViewContentProvider | undefined {\n\t\tconst provider = this._currentProvider;\n\t\tif (!provider) {\n\t\t\treturn;\n\t\t}\n\t\tconst lastProvider =\n\t\t\tprovider instanceof AccessibleContentProvider\n\t\t\t\t? new AccessibleContentProvider(\n\t\t\t\t\t\tprovider.id,\n\t\t\t\t\t\tprovider.options,\n\t\t\t\t\t\tprovider.provideContent.bind(provider),\n\t\t\t\t\t\tprovider.onClose.bind(provider),\n\t\t\t\t\t\tprovider.verbositySettingKey,\n\t\t\t\t\t\tprovider.onOpen?.bind(provider),\n\t\t\t\t\t\tprovider.actions,\n\t\t\t\t\t\tprovider.provideNextContent?.bind(provider),\n\t\t\t\t\t\tprovider.providePreviousContent?.bind(provider),\n\t\t\t\t\t\tprovider.onDidChangeContent?.bind(provider),\n\t\t\t\t\t\tprovider.onKeyDown?.bind(provider),\n\t\t\t\t\t\tprovider.getSymbols?.bind(provider),\n\t\t\t\t\t)\n\t\t\t\t: new ExtensionContentProvider(\n\t\t\t\t\t\tprovider.id,\n\t\t\t\t\t\tprovider.options,\n\t\t\t\t\t\tprovider.provideContent.bind(provider),\n\t\t\t\t\t\tprovider.onClose.bind(provider),\n\t\t\t\t\t\tprovider.onOpen?.bind(provider),\n\t\t\t\t\t\tprovider.provideNextContent?.bind(provider),\n\t\t\t\t\t\tprovider.providePreviousContent?.bind(provider),\n\t\t\t\t\t\tprovider.actions,\n\t\t\t\t\t\tprovider.onDidChangeContent?.bind(provider),\n\t\t\t\t\t);\n\t\treturn lastProvider;\n\t}\n\n\tpublic showAccessibleViewHelp(): void {\n\t\tconst lastProvider = this._updateLastProvider();\n\t\tif (!lastProvider) {\n\t\t\treturn;\n\t\t}\n\t\tlet accessibleViewHelpProvider;\n\t\tif (lastProvider instanceof AccessibleContentProvider) {\n\t\t\taccessibleViewHelpProvider = new AccessibleContentProvider(\n\t\t\t\tlastProvider.id as AccessibleViewProviderId,\n\t\t\t\t{ type: AccessibleViewType.Help },\n\t\t\t\t() =>\n\t\t\t\t\tlastProvider.options.customHelp\n\t\t\t\t\t\t? lastProvider?.options.customHelp()\n\t\t\t\t\t\t: this._accessibleViewHelpDialogContent(\n\t\t\t\t\t\t\t\tthis._goToSymbolsSupported(),\n\t\t\t\t\t\t\t),\n\t\t\t\t() => {\n\t\t\t\t\tthis._contextViewService.hideContextView();\n\t\t\t\t\t// HACK: Delay to allow the context view to hide #207638\n\t\t\t\t\tqueueMicrotask(() => this.show(lastProvider));\n\t\t\t\t},\n\t\t\t\tlastProvider.verbositySettingKey as AccessibilityVerbositySettingId,\n\t\t\t);\n\t\t} else {\n\t\t\taccessibleViewHelpProvider = new ExtensionContentProvider(\n\t\t\t\tlastProvider.id as AccessibleViewProviderId,\n\t\t\t\t{ type: AccessibleViewType.Help },\n\t\t\t\t() =>\n\t\t\t\t\tlastProvider.options.customHelp\n\t\t\t\t\t\t? lastProvider?.options.customHelp()\n\t\t\t\t\t\t: this._accessibleViewHelpDialogContent(\n\t\t\t\t\t\t\t\tthis._goToSymbolsSupported(),\n\t\t\t\t\t\t\t),\n\t\t\t\t() => {\n\t\t\t\t\tthis._contextViewService.hideContextView();\n\t\t\t\t\t// HACK: Delay to allow the context view to hide #207638\n\t\t\t\t\tqueueMicrotask(() => this.show(lastProvider));\n\t\t\t\t},\n\t\t\t);\n\t\t}\n\t\tthis._contextViewService.hideContextView();\n\t\t// HACK: Delay to allow the context view to hide #186514\n\t\tif (accessibleViewHelpProvider) {\n\t\t\tqueueMicrotask(() =>\n\t\t\t\tthis.show(accessibleViewHelpProvider, undefined, true),\n\t\t\t);\n\t\t}\n\t}\n\n\tprivate _accessibleViewHelpDialogContent(\n\t\tproviderHasSymbols?: boolean,\n\t): string {\n\t\tconst navigationHint = this._navigationHint();\n\t\tconst goToSymbolHint = this._goToSymbolHint(providerHasSymbols);\n\t\tconst toolbarHint = localize(\n\t\t\t\"toolbar\",\n\t\t\t\"Navigate to the toolbar (Shift+Tab).\",\n\t\t);\n\t\tconst chatHints = this._getChatHints();\n\n\t\tlet hint = localize(\"intro\", \"In the accessible view, you can:\\n\");\n\t\tif (navigationHint) {\n\t\t\thint += \" - \" + navigationHint + \"\\n\";\n\t\t}\n\t\tif (goToSymbolHint) {\n\t\t\thint += \" - \" + goToSymbolHint + \"\\n\";\n\t\t}\n\t\tif (toolbarHint) {\n\t\t\thint += \" - \" + toolbarHint + \"\\n\";\n\t\t}\n\t\tif (chatHints) {\n\t\t\thint += chatHints;\n\t\t}\n\t\treturn hint;\n\t}\n\n\tprivate _getChatHints(): string | undefined {\n\t\tif (this._currentProvider?.id !== AccessibleViewProviderId.Chat) {\n\t\t\treturn;\n\t\t}\n\t\treturn [\n\t\t\tlocalize(\n\t\t\t\t\"insertAtCursor\",\n\t\t\t\t\" - Insert the code block at the cursor{0}.\",\n\t\t\t\t\"<keybinding:workbench.action.chat.insertCodeBlock>\",\n\t\t\t),\n\t\t\tlocalize(\n\t\t\t\t\"insertIntoNewFile\",\n\t\t\t\t\" - Insert the code block into a new file{0}.\",\n\t\t\t\t\"<keybinding:workbench.action.chat.insertIntoNewFile>\",\n\t\t\t),\n\t\t\tlocalize(\n\t\t\t\t\"runInTerminal\",\n\t\t\t\t\" - Run the code block in the terminal{0}.\\n\",\n\t\t\t\t\"<keybinding:workbench.action.chat.runInTerminal>\",\n\t\t\t),\n\t\t].join(\"\\n\");\n\t}\n\n\tprivate _navigationHint(): string {\n\t\treturn localize(\n\t\t\t\"accessibleViewNextPreviousHint\",\n\t\t\t\"Show the next item{0} or previous item{1}.\",\n\t\t\t`<keybinding:${AccessibilityCommandId.ShowNext}`,\n\t\t\t`<keybinding:${AccessibilityCommandId.ShowPrevious}>`,\n\t\t);\n\t}\n\n\tprivate _disableVerbosityHint(\n\t\tprovider: AccesibleViewContentProvider,\n\t): string {\n\t\tif (\n\t\t\tprovider.options.type === AccessibleViewType.Help &&\n\t\t\tthis._verbosityEnabled()\n\t\t) {\n\t\t\treturn localize(\n\t\t\t\t\"acessibleViewDisableHint\",\n\t\t\t\t\"\\nDisable accessibility verbosity for this feature{0}.\",\n\t\t\t\t`<keybinding:${AccessibilityCommandId.DisableVerbosityHint}>`,\n\t\t\t);\n\t\t}\n\t\treturn \"\";\n\t}\n\n\tprivate _goToSymbolHint(providerHasSymbols?: boolean): string | undefined {\n\t\tif (!providerHasSymbols) {\n\t\t\treturn;\n\t\t}\n\t\treturn localize(\n\t\t\t\"goToSymbolHint\",\n\t\t\t\"Go to a symbol{0}.\",\n\t\t\t`<keybinding:${AccessibilityCommandId.GoToSymbol}>`,\n\t\t);\n\t}\n\n\tprivate _configureUnassignedKbHint(): string {\n\t\tconst configureKb = this._keybindingService\n\t\t\t.lookupKeybinding(\n\t\t\t\tAccessibilityCommandId.AccessibilityHelpConfigureKeybindings,\n\t\t\t)\n\t\t\t?.getAriaLabel();\n\t\tconst keybindingToConfigureQuickPick = configureKb\n\t\t\t? \"(\" + configureKb + \")\"\n\t\t\t: \"by assigning a keybinding to the command Accessibility Help Configure Unassigned Keybindings.\";\n\t\treturn localize(\n\t\t\t\"configureKb\",\n\t\t\t\"\\nConfigure keybindings for commands that lack them {0}.\",\n\t\t\tkeybindingToConfigureQuickPick,\n\t\t);\n\t}\n\n\tprivate _configureAssignedKbHint(): string {\n\t\tconst configureKb = this._keybindingService\n\t\t\t.lookupKeybinding(\n\t\t\t\tAccessibilityCommandId.AccessibilityHelpConfigureAssignedKeybindings,\n\t\t\t)\n\t\t\t?.getAriaLabel();\n\t\tconst keybindingToConfigureQuickPick = configureKb\n\t\t\t? \"(\" + configureKb + \")\"\n\t\t\t: \"by assigning a keybinding to the command Accessibility Help Configure Assigned Keybindings.\";\n\t\treturn localize(\n\t\t\t\"configureKbAssigned\",\n\t\t\t\"\\nConfigure keybindings for commands that already have assignments {0}.\",\n\t\t\tkeybindingToConfigureQuickPick,\n\t\t);\n\t}\n\n\tprivate _screenReaderModeHint(\n\t\tprovider: AccesibleViewContentProvider,\n\t): string {\n\t\tconst accessibilitySupport =\n\t\t\tthis._accessibilityService.isScreenReaderOptimized();\n\t\tlet screenReaderModeHint = \"\";\n\t\tconst turnOnMessage = isMacintosh\n\t\t\t? AccessibilityHelpNLS.changeConfigToOnMac\n\t\t\t: AccessibilityHelpNLS.changeConfigToOnWinLinux;\n\t\tif (\n\t\t\taccessibilitySupport &&\n\t\t\tprovider.id === AccessibleViewProviderId.Editor\n\t\t) {\n\t\t\tscreenReaderModeHint = AccessibilityHelpNLS.auto_on;\n\t\t\tscreenReaderModeHint += \"\\n\";\n\t\t} else if (!accessibilitySupport) {\n\t\t\tscreenReaderModeHint =\n\t\t\t\tAccessibilityHelpNLS.auto_off + \"\\n\" + turnOnMessage;\n\t\t\tscreenReaderModeHint += \"\\n\";\n\t\t}\n\t\treturn screenReaderModeHint;\n\t}\n\n\tprivate _exitDialogHint(provider: AccesibleViewContentProvider): string {\n\t\treturn this._verbosityEnabled() && !provider.options.position\n\t\t\t? localize(\"exit\", \"\\nExit this dialog (Escape).\")\n\t\t\t: \"\";\n\t}\n\n\tprivate _readMoreHint(provider: AccesibleViewContentProvider): string {\n\t\treturn provider.options.readMoreUrl\n\t\t\t? localize(\n\t\t\t\t\t\"openDoc\",\n\t\t\t\t\t\"\\nOpen a browser window with more information related to accessibility{0}.\",\n\t\t\t\t\t`<keybinding:${AccessibilityCommandId.AccessibilityHelpOpenHelpLink}>`,\n\t\t\t\t)\n\t\t\t: \"\";\n\t}\n}\n\nexport class AccessibleViewService\n\textends Disposable\n\timplements IAccessibleViewService\n{\n\tdeclare readonly _serviceBrand: undefined;\n\tprivate _accessibleView: AccessibleView | undefined;\n\n\tconstructor(\n\t\t@IInstantiationService\n\t\tprivate readonly _instantiationService: IInstantiationService,\n\t\t@IConfigurationService\n\t\tprivate readonly _configurationService: IConfigurationService,\n\t\t@IKeybindingService\n\t\tprivate readonly _keybindingService: IKeybindingService,\n\t) {\n\t\tsuper();\n\t}\n\n\tshow(provider: AccesibleViewContentProvider, position?: Position): void {\n\t\tif (!this._accessibleView) {\n\t\t\tthis._accessibleView = this._register(\n\t\t\t\tthis._instantiationService.createInstance(AccessibleView),\n\t\t\t);\n\t\t}\n\t\tthis._accessibleView.show(provider, undefined, undefined, position);\n\t}\n\tconfigureKeybindings(unassigned: boolean): void {\n\t\tthis._accessibleView?.configureKeybindings(unassigned);\n\t}\n\topenHelpLink(): void {\n\t\tthis._accessibleView?.openHelpLink();\n\t}\n\tshowLastProvider(id: AccessibleViewProviderId): void {\n\t\tthis._accessibleView?.showLastProvider(id);\n\t}\n\tnext(): void {\n\t\tthis._accessibleView?.next();\n\t}\n\tprevious(): void {\n\t\tthis._accessibleView?.previous();\n\t}\n\tgoToSymbol(): void {\n\t\tthis._accessibleView?.goToSymbol();\n\t}\n\tgetOpenAriaHint(\n\t\tverbositySettingKey: AccessibilityVerbositySettingId,\n\t): string | null {\n\t\tif (!this._configurationService.getValue(verbositySettingKey)) {\n\t\t\treturn null;\n\t\t}\n\t\tconst keybinding = this._keybindingService\n\t\t\t.lookupKeybinding(AccessibilityCommandId.OpenAccessibleView)\n\t\t\t?.getAriaLabel();\n\t\tlet hint = null;\n\t\tif (keybinding) {\n\t\t\thint = localize(\n\t\t\t\t\"acessibleViewHint\",\n\t\t\t\t\"Inspect this in the accessible view with {0}\",\n\t\t\t\tkeybinding,\n\t\t\t);\n\t\t} else {\n\t\t\thint = localize(\n\t\t\t\t\"acessibleViewHintNoKbEither\",\n\t\t\t\t\"Inspect this in the accessible view via the command Open Accessible View which is currently not triggerable via keybinding.\",\n\t\t\t);\n\t\t}\n\t\treturn hint;\n\t}\n\tdisableHint(): void {\n\t\tthis._accessibleView?.disableHint();\n\t}\n\tshowAccessibleViewHelp(): void {\n\t\tthis._accessibleView?.showAccessibleViewHelp();\n\t}\n\tgetPosition(id: AccessibleViewProviderId): Position | undefined {\n\t\treturn this._accessibleView?.getPosition(id) ?? undefined;\n\t}\n\tgetLastPosition(): Position | undefined {\n\t\tconst lastLine = this._accessibleView?.editorWidget\n\t\t\t.getModel()\n\t\t\t?.getLineCount();\n\t\treturn lastLine !== undefined && lastLine > 0\n\t\t\t? new Position(lastLine, 1)\n\t\t\t: undefined;\n\t}\n\tsetPosition(position: Position, reveal?: boolean, select?: boolean): void {\n\t\tthis._accessibleView?.setPosition(position, reveal, select);\n\t}\n\tgetCodeBlockContext(): ICodeBlockActionContext | undefined {\n\t\treturn this._accessibleView?.getCodeBlockContext();\n\t}\n\tnavigateToCodeBlock(type: \"next\" | \"previous\"): void {\n\t\tthis._accessibleView?.navigateToCodeBlock(type);\n\t}\n}\n\nclass AccessibleViewSymbolQuickPick {\n\tconstructor(\n\t\tprivate _accessibleView: AccessibleView,\n\t\t@IQuickInputService\n\t\tprivate readonly _quickInputService: IQuickInputService,\n\t) {}\n\tshow(provider: AccesibleViewContentProvider): void {\n\t\tconst disposables = new DisposableStore();\n\t\tconst quickPick = disposables.add(\n\t\t\tthis._quickInputService.createQuickPick<IAccessibleViewSymbol>(),\n\t\t);\n\t\tquickPick.placeholder = localize(\n\t\t\t\"accessibleViewSymbolQuickPickPlaceholder\",\n\t\t\t\"Type to search symbols\",\n\t\t);\n\t\tquickPick.title = localize(\n\t\t\t\"accessibleViewSymbolQuickPickTitle\",\n\t\t\t\"Go to Symbol Accessible View\",\n\t\t);\n\t\tconst picks = [];\n\t\tconst symbols = this._accessibleView.getSymbols();\n\t\tif (!symbols) {\n\t\t\treturn;\n\t\t}\n\t\tfor (const symbol of symbols) {\n\t\t\tpicks.push({\n\t\t\t\tlabel: symbol.label,\n\t\t\t\tariaLabel: symbol.ariaLabel,\n\t\t\t});\n\t\t}\n\t\tquickPick.canSelectMany = false;\n\t\tquickPick.items = symbols;\n\t\tquickPick.show();\n\t\tdisposables.add(\n\t\t\tquickPick.onDidAccept(() => {\n\t\t\t\tthis._accessibleView.showSymbol(\n\t\t\t\t\tprovider,\n\t\t\t\t\tquickPick.selectedItems[0],\n\t\t\t\t);\n\t\t\t\tquickPick.hide();\n\t\t\t}),\n\t\t);\n\t\tdisposables.add(\n\t\t\tquickPick.onDidHide(() => {\n\t\t\t\tif (quickPick.selectedItems.length === 0) {\n\t\t\t\t\t// this was escaped, so refocus the accessible view\n\t\t\t\t\tthis._accessibleView.show(provider);\n\t\t\t\t}\n\t\t\t\tdisposables.dispose();\n\t\t\t}),\n\t\t);\n\t}\n}\n\nfunction shouldHide(\n\tevent: KeyboardEvent,\n\tkeybindingService: IKeybindingService,\n\tconfigurationService: IConfigurationService,\n): boolean {\n\tif (\n\t\t!configurationService.getValue(\n\t\t\tAccessibilityWorkbenchSettingId.AccessibleViewCloseOnKeyPress,\n\t\t)\n\t) {\n\t\treturn false;\n\t}\n\tconst standardKeyboardEvent = new StandardKeyboardEvent(event);\n\tconst resolveResult = keybindingService.softDispatch(\n\t\tstandardKeyboardEvent,\n\t\tstandardKeyboardEvent.target,\n\t);\n\n\tconst isValidChord = resolveResult.kind === ResultKind.MoreChordsNeeded;\n\tif (keybindingService.inChordMode || isValidChord) {\n\t\treturn false;\n\t}\n\treturn (\n\t\tshouldHandleKey(event) &&\n\t\t!event.ctrlKey &&\n\t\t!event.altKey &&\n\t\t!event.metaKey &&\n\t\t!event.shiftKey\n\t);\n}\n\nfunction shouldHandleKey(event: KeyboardEvent): boolean {\n\treturn !!event.code.match(\n\t\t/^(Key[A-Z]|Digit[0-9]|Equal|Comma|Period|Slash|Quote|Backquote|Backslash|Minus|Semicolon|Space|Enter)$/,\n\t);\n}\n"],
  "mappings": ";;;;;;;;;;;;AAKA;AAAA,EACC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,OACM;AACP;AAAA,EAEC;AAAA,OACM;AACP,SAAS,0BAA0B;AACnC,SAAS,aAAa;AAEtB,SAAS,eAAe;AACxB,SAAS,eAAe;AACxB;AAAA,EACC;AAAA,EACA;AAAA,OAEM;AACP,YAAY,YAAY;AACxB,SAAS,aAAa,iBAAiB;AACvC,SAAS,iBAAiB;AAC1B,SAAS,WAAW;AAEpB,SAAS,gCAAgC;AACzC;AAAA,EACC;AAAA,OAEM;AACP,SAAS,gBAAgB;AAEzB,SAAS,qBAAqB;AAC9B,SAAS,4BAA4B;AACrC,SAAS,4BAA4B;AACrC,SAAS,gBAAgB;AACzB;AAAA,EACC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,OAGM;AACP;AAAA,EACC;AAAA,EACA;AAAA,OACM;AACP,SAAS,uCAAuC;AAChD,SAAS,wBAAwB;AACjC;AAAA,EACC;AAAA,EACA;AAAA,OACM;AACP,SAAS,uBAAuB;AAChC,SAAS,6BAA6B;AACtC;AAAA,EAEC;AAAA,OACM;AACP;AAAA,EAEC;AAAA,OACM;AACP,SAAS,6BAA6B;AACtC,SAAS,0BAA0B;AACnC,SAAS,kBAAkB;AAC3B,SAAS,sBAAsB;AAC/B,SAAS,sBAAsB;AAC/B;AAAA,EACC;AAAA,OAGM;AACP;AAAA,EACC;AAAA,EACA;AAAA,EACA;AAAA,OACM;AACP,SAAS,4CAA4C;AAErD,SAAS,8BAA8B;AACvC,SAAS,8BAA8B;AACvC;AAAA,EAEC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,OACM;AACP,SAAS,wCAAwC;AAEjD,IAAK,aAAL,kBAAKA,gBAAL;AACC,EAAAA,wBAAA,eAAY,OAAZ;AADI,SAAAA;AAAA,GAAA;AAeE,IAAM,iBAAN,cAA6B,WAAW;AAAA,EAgC9C,YACkC,gBAEhB,uBAEA,uBACe,eAEf,qBAEA,oBAEA,uBAEA,oBACgB,gBACF,cACG,iBAEjB,kCACiB,iBAEjB,oBAChB;AACD,UAAM;AAvB2B;AAEhB;AAEA;AACe;AAEf;AAEA;AAEA;AAEA;AACgB;AACF;AACG;AAEjB;AACiB;AAEjB;AAIjB,SAAK,2BAA2B,yBAAyB;AAAA,MACxD,KAAK;AAAA,IACN;AACA,SAAK,yBAAyB,sBAAsB;AAAA,MACnD,KAAK;AAAA,IACN;AACA,SAAK,oCACJ,iCAAiC,OAAO,KAAK,kBAAkB;AAChE,SAAK,kCACJ,+BAA+B,OAAO,KAAK,kBAAkB;AAC9D,SAAK,qCACJ,kCAAkC,OAAO,KAAK,kBAAkB;AACjE,SAAK,mCACJ,gCAAgC,OAAO,KAAK,kBAAkB;AAC/D,SAAK,6BAA6B,0BAA0B;AAAA,MAC3D,KAAK;AAAA,IACN;AACA,SAAK,oCACJ,iCAAiC,OAAO,KAAK,kBAAkB;AAChE,SAAK,cAAc,yBAAyB;AAAA,MAC3C,KAAK;AAAA,IACN;AACA,SAAK,4BACJ,uCAAuC;AAAA,MACtC,KAAK;AAAA,IACN;AACD,SAAK,0BACJ,qCAAqC;AAAA,MACpC,KAAK;AAAA,IACN;AAED,SAAK,aAAa,SAAS,cAAc,KAAK;AAC9C,SAAK,WAAW,UAAU,IAAI,iBAAiB;AAC/C,QACC,KAAK,sBAAsB;AAAA,MAC1B,gCAAgC;AAAA,IACjC,GACC;AACD,WAAK,WAAW,UAAU,IAAI,MAAM;AAAA,IACrC;AACA,UAAM,0BAAoD;AAAA,MACzD,eACC,yBAAyB,uBAAuB,EAAE;AAAA,QACjD,CAAC,MAAM,EAAE,OAAO,qBAAqB;AAAA,MACtC;AAAA,IACF;AACA,UAAM,WAAW,SAAS,cAAc,KAAK;AAC7C,aAAS,UAAU,IAAI,2BAA2B;AAClD,SAAK,SAAS,SAAS,cAAc,KAAK;AAC1C,SAAK,OAAO,UAAU,IAAI,uBAAuB;AACjD,aAAS,YAAY,KAAK,MAAM;AAChC,UAAM,YAAY,SAAS,cAAc,KAAK;AAC9C,cAAU,UAAU,IAAI,4BAA4B;AACpD,aAAS,YAAY,SAAS;AAC9B,SAAK,WAAW,YAAY,QAAQ;AACpC,SAAK,WAAW,KAAK;AAAA,MACpB,sBAAsB,eAAe,kBAAkB,WAAW;AAAA,QACjE,aAAa,mBAAmB;AAAA,MACjC,CAAC;AAAA,IACF;AACA,SAAK,SAAS,UAAU,EAAE,QAAQ,iBAAiB;AACnD,UAAM,aAAa,KAAK,SAAS,WAAW;AAC5C,eAAW,WAAW;AAEtB,UAAM,gBAA4C;AAAA,MACjD,GAAG,uBAAuB,KAAK,qBAAqB;AAAA,MACpD,sBAAsB;AAAA,MACtB,aAAa;AAAA,MACb,aAAa;AAAA,MACb,UAAU;AAAA,MACV,kBAAkB;AAAA,MAClB,gBAAgB;AAAA,MAChB,SAAS,EAAE,KAAK,GAAG,QAAQ,EAAE;AAAA,MAC7B,kBAAkB;AAAA,MAClB,kBAAkB;AAAA,MAClB,gBAAgB,EAAE,SAAS,MAAM;AAAA,MACjC,UAAU;AAAA,MACV,YAAY;AAAA,IACb;AACA,SAAK,gBAAgB,KAAK;AAAA,MACzB,KAAK,sBAAsB;AAAA,QAC1B;AAAA,QACA,KAAK;AAAA,QACL;AAAA,QACA;AAAA,MACD;AAAA,IACD;AACA,SAAK;AAAA,MACJ,KAAK,sBAAsB,iCAAiC,MAAM;AACjE,YACC,KAAK,oBACL,KAAK,yBAAyB,IAAI,GACjC;AACD,eAAK,KAAK,KAAK,gBAAgB;AAAA,QAChC;AAAA,MACD,CAAC;AAAA,IACF;AACA,SAAK;AAAA,MACJ,KAAK,sBAAsB,yBAAyB,CAAC,MAAM;AAC1D,YACC,KAAK,4BACJ,6BACD,EAAE;AAAA,UACD,KAAK,iBAAiB;AAAA,QACvB,GACC;AACD,cAAI,KAAK,yBAAyB,IAAI,GAAG;AACxC,iBAAK,KAAK,KAAK,gBAAgB;AAAA,UAChC;AACA,eAAK,gCAAgC;AAAA,YACpC,KAAK,sBAAsB;AAAA,cAC1B,KAAK,iBAAiB;AAAA,YACvB;AAAA,UACD;AACA,eAAK;AAAA,YACJ,KAAK,iBAAiB;AAAA,YACtB,KAAK,iBAAiB,QAAQ;AAAA,UAC/B;AAAA,QACD;AACA,YACC,EAAE;AAAA,UACD,gCAAgC;AAAA,QACjC,GACC;AACD,eAAK,WAAW,UAAU;AAAA,YACzB;AAAA,YACA,KAAK,sBAAsB;AAAA,cAC1B,gCAAgC;AAAA,YACjC;AAAA,UACD;AAAA,QACD;AAAA,MACD,CAAC;AAAA,IACF;AACA,SAAK;AAAA,MACJ,KAAK,cAAc,aAAa,MAAM,KAAK,kBAAkB,CAAC;AAAA,IAC/D;AACA,SAAK;AAAA,MACJ,KAAK,cAAc,0BAA0B,MAAM;AAClD,aAAK,YAAY;AAAA,UAChB,KAAK,cAAc,YAAY,GAAG,eACjC,KAAK,cAAc,SAAS,GAAG,aAAa;AAAA,QAC9C;AAAA,MACD,CAAC;AAAA,IACF;AACA,SAAK;AAAA,MACJ,KAAK,cAAc,0BAA0B,MAAM;AAClD,cAAM,iBACL,KAAK,cAAc,YAAY,GAAG;AACnC,YAAI,KAAK,eAAe,mBAAmB,QAAW;AACrD,gBAAM,cACL,KAAK,YAAY;AAAA,YAChB,CAAC,MACA,EAAE,aAAa,kBACf,EAAE,WAAW;AAAA,UACf,MAAM;AACP,eAAK,2BAA2B,IAAI,WAAW;AAAA,QAChD;AAAA,MACD,CAAC;AAAA,IACF;AAAA,EACD;AAAA,EAjVD,OAwH+C;AAAA;AAAA;AAAA,EACtC;AAAA,EAEA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EAEA;AAAA,EACA,eAAe;AAAA,EAEvB,IAAI,eAAe;AAClB,WAAO,KAAK;AAAA,EACb;AAAA,EACQ;AAAA,EACA;AAAA,EACS;AAAA,EAET;AAAA,EACA;AAAA,EAEA;AAAA,EAEA;AAAA,EA6LA,oBAA0B;AACjC,SAAK,yBAAyB,MAAM;AACpC,SAAK,uBAAuB,MAAM;AAClC,SAAK,kCAAkC,MAAM;AAC7C,SAAK,gCAAgC,MAAM;AAC3C,SAAK,mCAAmC,MAAM;AAC9C,SAAK,iCAAiC,MAAM;AAC5C,SAAK,wBAAwB,MAAM;AACnC,SAAK,0BAA0B,MAAM;AAAA,EACtC;AAAA,EAEA,YAAY,IAAqD;AAChE,QAAI,CAAC,MAAM,CAAC,KAAK,iBAAiB,KAAK,cAAc,OAAO,IAAI;AAC/D,aAAO;AAAA,IACR;AACA,WAAO,KAAK,cAAc,YAAY,KAAK;AAAA,EAC5C;AAAA,EAEA,YAAY,UAAoB,QAAkB,QAAwB;AACzE,SAAK,cAAc,YAAY,QAAQ;AACvC,QAAI,QAAQ;AACX,WAAK,cAAc,eAAe,QAAQ;AAAA,IAC3C;AACA,QAAI,QAAQ;AACX,YAAM,aACL,KAAK,cACH,SAAS,GACR,cAAc,SAAS,UAAU,KAAK;AAC1C,UAAI,YAAY;AACf,aAAK,cAAc,aAAa;AAAA,UAC/B,iBAAiB,SAAS;AAAA,UAC1B,aAAa;AAAA,UACb,eAAe,SAAS;AAAA,UACxB,WAAW,aAAa;AAAA,QACzB,CAAC;AAAA,MACF;AAAA,IACD;AAAA,EACD;AAAA,EAEA,sBAA2D;AAC1D,UAAM,WAAW,KAAK,cAAc,YAAY;AAChD,QAAI,CAAC,KAAK,aAAa,UAAU,CAAC,UAAU;AAC3C;AAAA,IACD;AACA,UAAM,iBAAiB,KAAK,aAAa;AAAA,MACxC,CAAC,MACA,EAAE,aAAa,UAAU,cACzB,EAAE,WAAW,UAAU;AAAA,IACzB;AACA,UAAM,YACL,mBAAmB,UAAa,iBAAiB,KAC9C,KAAK,YAAY,cAAc,IAC/B;AACJ,QAAI,CAAC,aAAa,mBAAmB,QAAW;AAC/C;AAAA,IACD;AACA,WAAO;AAAA,MACN,MAAM,UAAU;AAAA,MAChB,YAAY,UAAU;AAAA,MACtB;AAAA,MACA,SAAS;AAAA,IACV;AAAA,EACD;AAAA,EAEA,oBAAoB,MAAiC;AACpD,UAAM,WAAW,KAAK,cAAc,YAAY;AAChD,QAAI,CAAC,KAAK,aAAa,UAAU,CAAC,UAAU;AAC3C;AAAA,IACD;AACA,QAAI;AACJ,UAAM,aAAa,KAAK,YAAY,MAAM;AAC1C,QAAI,SAAS,YAAY;AACxB,kBAAY,WACV,QAAQ,EACR,KAAK,CAAC,MAAM,EAAE,UAAU,SAAS,UAAU;AAAA,IAC9C,OAAO;AACN,kBAAY,WAAW;AAAA,QACtB,CAAC,MAAM,EAAE,YAAY,SAAS;AAAA,MAC/B;AAAA,IACD;AACA,QAAI,CAAC,WAAW;AACf;AAAA,IACD;AACA,SAAK,YAAY,IAAI,SAAS,UAAU,WAAW,CAAC,GAAG,IAAI;AAAA,EAC5D;AAAA,EAEA,iBAAiB,IAAoC;AACpD,QAAI,CAAC,KAAK,iBAAiB,KAAK,cAAc,QAAQ,OAAO,IAAI;AAChE;AAAA,IACD;AACA,SAAK,KAAK,KAAK,aAAa;AAAA,EAC7B;AAAA,EAEA,KACC,UACA,QACA,wBACA,UACO;AACP,eAAW,YAAY,KAAK;AAC5B,QAAI,CAAC,UAAU;AACd;AAAA,IACD;AACA,aAAS,SAAS;AAClB,UAAM,WAAiC;AAAA,MACtC,WAAW,6BAAM;AAChB,eAAO;AAAA,UACN,GACC,gBAAgB,EAAE,aAAa,IAC/B,KAAK;AAAA,YACJ,KAAK,eAAe,yBAAyB,QAC5C;AAAA,YACD;AAAA,UACD,IACC;AAAA,UACF,GAAG,KAAK,eAAe,sBAAsB;AAAA,QAC9C;AAAA,MACD,GAZW;AAAA,MAaX,QAAQ,wBAAC,cAAc;AACtB,aAAK,iBAAiB;AACtB,aAAK,eAAe,UAAU,IAAI,2BAA2B;AAC7D,eAAO,KAAK;AAAA,UACX;AAAA,UACA;AAAA,UACA;AAAA,QACD;AAAA,MACD,GARQ;AAAA,MASR,QAAQ,6BAAM;AACb,YAAI,CAAC,wBAAwB;AAC5B,eAAK,oBAAoB;AACzB,eAAK,kBAAkB,QAAQ;AAC/B,eAAK,mBAAmB;AACxB,eAAK,kBAAkB;AAAA,QACxB;AAAA,MACD,GAPQ;AAAA,IAQT;AACA,SAAK,oBAAoB,gBAAgB,QAAQ;AAEjD,QAAI,UAAU;AAEb,qBAAe,MAAM;AACpB,aAAK,cAAc,WAAW,SAAS,UAAU;AACjD,aAAK,cAAc,aAAa;AAAA,UAC/B,iBAAiB,SAAS;AAAA,UAC1B,aAAa,SAAS;AAAA,UACtB,eAAe,SAAS;AAAA,UACxB,WAAW,SAAS;AAAA,QACrB,CAAC;AAAA,MACF,CAAC;AAAA,IACF;AAEA,QAAI,UAAU,KAAK,kBAAkB;AACpC,WAAK,WAAW,KAAK,kBAAkB,MAAM;AAAA,IAC9C;AACA,QACC,oBAAoB,6BACpB,SAAS,+BACR;AACD,WAAK;AAAA,QACJ,SAAS,8BAA8B,CAAC,OAAe;AACtD,cAAI,KAAK,eAAe,QAAQ,OAAO,IAAI;AAC1C,iBAAK,gBAAgB;AAAA,UACtB;AAAA,QACD,CAAC;AAAA,MACF;AAAA,IACD;AACA,QAAI,SAAS,QAAQ,IAAI;AAExB,WAAK,gBAAgB;AAAA,IACtB;AACA,QAAI,SAAS,OAAO,yBAAyB,MAAM;AAClD,WAAK;AAAA,QACJ,KAAK,iCAAiC;AAAA,UACrC,EAAE,qBAAqB,6BAAM,KAAK,oBAAoB,GAA/B,uBAAiC;AAAA,UACxD;AAAA,QACD;AAAA,MACD;AAAA,IACD;AACA,QAAI,oBAAoB,0BAA0B;AACjD,WAAK,gBAAgB;AAAA,QACpB,GAAG,oCAAoC,GAAG,SAAS,EAAE;AAAA,QACrD;AAAA,QACA,aAAa;AAAA,QACb,cAAc;AAAA,MACf;AAAA,IACD;AACA,QAAI,SAAS,oBAAoB;AAChC,WAAK;AAAA,QACJ,SAAS,mBAAmB,MAAM;AACjC,cAAI,KAAK,gBAAgB;AACxB,iBAAK;AAAA,cACJ;AAAA,cACA,KAAK;AAAA,cACL;AAAA,YACD;AAAA,UACD;AAAA,QACD,CAAC;AAAA,MACF;AAAA,IACD;AAAA,EACD;AAAA,EAEA,WAAiB;AAChB,UAAM,aAAa,KAAK,kBAAkB,yBAAyB;AACnE,QAAI,CAAC,KAAK,oBAAoB,CAAC,KAAK,kBAAkB,CAAC,YAAY;AAClE;AAAA,IACD;AACA,SAAK;AAAA,MACJ,KAAK;AAAA,MACL,KAAK;AAAA,MACL;AAAA,MACA;AAAA,IACD;AAAA,EACD;AAAA,EAEA,OAAa;AACZ,UAAM,aAAa,KAAK,kBAAkB,qBAAqB;AAC/D,QAAI,CAAC,KAAK,oBAAoB,CAAC,KAAK,kBAAkB,CAAC,YAAY;AAClE;AAAA,IACD;AACA,SAAK;AAAA,MACJ,KAAK;AAAA,MACL,KAAK;AAAA,MACL;AAAA,MACA;AAAA,IACD;AAAA,EACD;AAAA,EAEQ,oBAA6B;AACpC,QAAI,CAAC,KAAK,kBAAkB;AAC3B,aAAO;AAAA,IACR;AACA,WAAO,KAAK,4BAA4B,4BACrC,KAAK,sBAAsB;AAAA,MAC3B,KAAK,iBAAiB;AAAA,IACvB,MAAM,OACL,KAAK,gBAAgB;AAAA,MACrB,GAAG,oCAAoC,GAAG,KAAK,iBAAiB,EAAE;AAAA,MAClE,aAAa;AAAA,MACb;AAAA,IACD;AAAA,EACH;AAAA,EAEA,aAAmB;AAClB,QAAI,CAAC,KAAK,kBAAkB;AAC3B;AAAA,IACD;AACA,SAAK,sBACH,eAAe,+BAA+B,IAAI,EAClD,KAAK,KAAK,gBAAgB;AAAA,EAC7B;AAAA,EAEA,oBAAoB,UAAyB;AAC5C,QAAI,CAAC,UAAU;AACd;AAAA,IACD;AACA,QAAI,KAAK,kBAAkB,OAAO,yBAAyB,MAAM;AAChE;AAAA,IACD;AACA,QACC,KAAK,iBAAiB,QAAQ,YAC9B,KAAK,iBAAiB,QAAQ,aAAa,YAC1C;AAED;AAAA,IACD;AACA,UAAM,QAAQ,SAAS,MAAM,IAAI;AACjC,SAAK,cAAc,CAAC;AACpB,QAAI,UAAU;AACd,QAAI,YAAY;AAEhB,QAAI;AACJ,UAAM,QAAQ,CAAC,MAAM,MAAM;AAC1B,UAAI,CAAC,WAAW,KAAK,WAAW,KAAK,GAAG;AACvC,kBAAU;AACV,oBAAY,IAAI;AAChB,qBAAa,KAAK,UAAU,CAAC,EAAE,KAAK;AAAA,MACrC,WAAW,WAAW,KAAK,SAAS,KAAK,GAAG;AAC3C,kBAAU;AACV,cAAM,UAAU;AAChB,cAAM,OAAO,MAAM,MAAM,WAAW,OAAO,EAAE,KAAK,IAAI;AACtD,aAAK,aAAa,KAAK;AAAA,UACtB;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,QACD,CAAC;AAAA,MACF;AAAA,IACD,CAAC;AACD,SAAK,kCAAkC,IAAI,KAAK,YAAY,SAAS,CAAC;AAAA,EACvE;AAAA,EAEA,aAAkD;AACjD,UAAM,WACL,KAAK,4BAA4B,4BAC9B,KAAK,mBACL;AACJ,QAAI,CAAC,KAAK,mBAAmB,CAAC,UAAU;AACvC;AAAA,IACD;AACA,UAAM,UAAmC,SAAS,aAAa,KAAK,CAAC;AACrE,QAAI,SAAS,QAAQ;AACpB,aAAO;AAAA,IACR;AACA,QACC,SAAS,QAAQ,YACjB,SAAS,QAAQ,aAAa,YAC7B;AAED;AAAA,IACD;AACA,UAAM,iBACL,OAAO,OAAO,MAAM,KAAK,eAAe;AACzC,QAAI,CAAC,gBAAgB;AACpB;AAAA,IACD;AACA,SAAK,wBAAwB,gBAAgB,OAAO;AACpD,WAAO,QAAQ,SAAS,UAAU;AAAA,EACnC;AAAA,EAEA,eAAqB;AACpB,QAAI,CAAC,KAAK,kBAAkB,QAAQ,aAAa;AAChD;AAAA,IACD;AACA,SAAK,eAAe;AAAA,MACnB,IAAI,MAAM,KAAK,iBAAiB,QAAQ,WAAW;AAAA,IACpD;AAAA,EACD;AAAA,EAEA,qBAAqB,YAA2B;AAC/C,SAAK,eAAe;AACpB,UAAM,WAAW,KAAK,oBAAoB;AAC1C,UAAM,QAAQ,aACX,UAAU,SAAS,2BACnB,UAAU,SAAS;AACtB,QAAI,CAAC,OAAO;AACX;AAAA,IACD;AACA,UAAM,cAAc,KAAK,UAAU,IAAI,gBAAgB,CAAC;AACxD,UAAM,YAAwC,YAAY;AAAA,MACzD,KAAK,mBAAmB,gBAAgB;AAAA,IACzC;AACA,cAAU,QAAQ;AAClB,cAAU,QAAQ,SAAS,eAAe,uBAAuB;AACjE,cAAU,cAAc;AAAA,MACvB;AAAA,MACA;AAAA,IACD;AACA,cAAU,KAAK;AACf,gBAAY;AAAA,MACX,UAAU,YAAY,YAAY;AACjC,cAAM,OAAO,UAAU,cAAc,CAAC;AACtC,YAAI,MAAM;AACT,gBAAM,KAAK,gBAAgB;AAAA,YAC1B;AAAA,YACA,KAAK;AAAA,UACN;AAAA,QACD;AACA,kBAAU,QAAQ;AAAA,MACnB,CAAC;AAAA,IACF;AACA,gBAAY;AAAA,MACX,UAAU,UAAU,MAAM;AACzB,YAAI,CAAC,UAAU,cAAc,UAAU,UAAU;AAChD,eAAK,KAAK,QAAQ;AAAA,QACnB;AACA,oBAAY,QAAQ;AACpB,aAAK,eAAe;AAAA,MACrB,CAAC;AAAA,IACF;AAAA,EACD;AAAA,EAEQ,wBACP,QACA,SACO;AACP,QAAI;AACJ,eAAW,SAAS,QAAQ;AAC3B,UAAI;AACJ,UAAI,UAAU,OAAO;AACpB,gBAAQ,MAAM,MAAM;AAAA,UACnB,KAAK;AAAA,UACL,KAAK;AAAA,UACL,KAAK;AACJ,oBAAQ,MAAM;AACd;AAAA,UACD,KAAK,QAAQ;AACZ,kBAAM,YAAa,MACjB,MAAM,CAAC;AACT,gBAAI,CAAC,WAAW;AACf;AAAA,YACD;AACA,4BAAgB,KAAK,UAAU,IAAI;AACnC,oBAAS,MAA6B,MACpC,IAAI,CAAC,MAAM,EAAE,IAAI,EACjB,KAAK,IAAI;AACX;AAAA,UACD;AAAA,QACD;AAAA,MACD;AACA,UAAI,OAAO;AACV,gBAAQ,KAAK;AAAA,UACZ,iBAAiB;AAAA,UACjB,OAAO;AAAA,YACN;AAAA,YACA;AAAA,YACA,MAAM;AAAA,YACN;AAAA,UACD;AAAA,UACA,WAAW;AAAA,YACV;AAAA,YACA;AAAA,YACA,MAAM;AAAA,YACN;AAAA,UACD;AAAA,UACA;AAAA,QACD,CAAC;AACD,wBAAgB;AAAA,MACjB;AAAA,IACD;AAAA,EACD;AAAA,EAEA,WACC,UACA,QACO;AACP,QAAI,CAAC,KAAK,iBAAiB;AAC1B;AAAA,IACD;AACA,QAAI,aAAiC,OAAO;AAC5C,UAAM,kBAAkB,OAAO;AAC/B,QAAI,eAAe,UAAa,oBAAoB,QAAW;AAE9D;AAAA,IACD;AAEA,QAAI,eAAe,UAAa,iBAAiB;AAGhD,YAAM,QACL,KAAK,gBACH,MAAM,IAAI,EACV;AAAA,QACA,CAAC,SACA,KAAK,SAAS,gBAAgB,MAAM,IAAI,EAAE,CAAC,CAAC,KAC3C,OAAO,iBACP,KAAK,SAAS,OAAO,aAAa;AAAA,MACrC,KAAK;AACP,UAAI,SAAS,GAAG;AACf,qBAAa,QAAQ;AAAA,MACtB;AAAA,IACD;AACA,QAAI,eAAe,QAAW;AAC7B;AAAA,IACD;AACA,SAAK,KAAK,UAAU,QAAW,QAAW;AAAA,MACzC;AAAA,MACA,QAAQ;AAAA,IACT,CAAa;AACb,SAAK,mBAAmB,UAAU,IAAI;AAAA,EACvC;AAAA,EAEA,cAAoB;AACnB,QAAI,EAAE,KAAK,4BAA4B,4BAA4B;AAClE;AAAA,IACD;AACA,SAAK,sBAAsB;AAAA,MAC1B,KAAK,kBAAkB;AAAA,MACvB;AAAA,IACD;AACA;AAAA,MACC;AAAA,QACC;AAAA,QACA;AAAA,QACA,KAAK,iBAAiB;AAAA,MACvB;AAAA,IACD;AAAA,EACD;AAAA,EAEQ,mBACP,UACA,OACO;AACP,QAAI,SAAS,QAAQ,SAAS,mBAAmB,MAAM;AACtD,WAAK,yBAAyB,IAAI,KAAK;AACvC,WAAK,uBAAuB,MAAM;AAAA,IACnC,OAAO;AACN,WAAK,uBAAuB,IAAI,KAAK;AACrC,WAAK,yBAAyB,MAAM;AAAA,IACrC;AACA,SAAK,kCAAkC;AAAA,MACtC,SAAS,uBAAuB,UAC/B,SAAS,2BAA2B;AAAA,IACtC;AACA,SAAK,gCAAgC,IAAI,KAAK,kBAAkB,CAAC;AACjE,SAAK,mCAAmC;AAAA,MACvC,KAAK,sBAAsB,IACxB,KAAK,WAAW,GAAG,SAAU,IAC7B;AAAA,IACJ;AAAA,EACD;AAAA,EAEQ,eACP,UACA,gBACO;AACP,QAAI,UAAU,kBAAkB,SAAS,eAAe;AACxD,QAAI,SAAS,QAAQ,SAAS,mBAAmB,MAAM;AACtD,WAAK,kBAAkB;AACvB,WAAK,0BAA0B,MAAM;AACrC,WAAK,wBAAwB,MAAM;AACnC;AAAA,IACD;AACA,UAAM,mBAAmB,KAAK,cAAc,QAAQ;AACpD,UAAM,kBAAkB,KAAK,sBAAsB,QAAQ;AAC3D,UAAM,uBAAuB,KAAK,sBAAsB,QAAQ;AAChE,UAAM,qBAAqB,KAAK,gBAAgB,QAAQ;AACxD,QAAI,kBAAkB;AACtB,QAAI,0BAA0B;AAC9B,UAAM,kBAAkB;AAAA,MACvB,KAAK;AAAA,MACL,uBACC,UACA,mBACA,kBACA;AAAA,IACF;AACA,QAAI,iBAAiB;AACpB,gBAAU,gBAAgB,QAAQ;AAClC,UAAI,gBAAgB,0BAA0B;AAC7C,iBAAS,QAAQ,2BAChB,gBAAgB;AACjB,aAAK,0BAA0B,IAAI,IAAI;AACvC,0BAAkB,KAAK,2BAA2B;AAAA,MACnD,OAAO;AACN,aAAK,wBAAwB,MAAM;AAAA,MACpC;AACA,UAAI,gBAAgB,2BAA2B;AAC9C,iBAAS,QAAQ,4BAChB,gBAAgB;AACjB,aAAK,wBAAwB,IAAI,IAAI;AACrC,kCAA0B,KAAK,yBAAyB;AAAA,MACzD,OAAO;AACN,aAAK,wBAAwB,MAAM;AAAA,MACpC;AAAA,IACD;AACA,SAAK,kBACJ,UAAU,kBAAkB;AAAA,EAC9B;AAAA,EAEQ,QACP,UACA,WACA,wBACA,gBACc;AACd,SAAK,mBAAmB;AACxB,SAAK,iCAAiC,IAAI,SAAS,EAAE;AACrD,UAAM,UAAU,KAAK,kBAAkB;AACvC,SAAK,eAAe,UAAU,cAAc;AAC5C,SAAK,oBAAoB,KAAK,eAAe;AAC7C,SAAK,mBAAmB,UAAU,IAAI;AACtC,UAAM,kBACL,KAAK,cAAc,aAAa,KAChC,KAAK,cAAc,eAAe;AACnC,SAAK;AAAA,MACJ,IAAI,KAAK;AAAA,QACR,MAAM,mBAAmB,SAAS,EAAE;AAAA,QACpC,QAAQ;AAAA,QACR,UAAU,KAAK;AAAA,MAChB,CAAC;AAAA,IACF,EAAE,KAAK,CAAC,UAAU;AACjB,UAAI,CAAC,OAAO;AACX;AAAA,MACD;AACA,WAAK,cAAc,SAAS,KAAK;AACjC,YAAM,UAAU,KAAK,cAAc,WAAW;AAC9C,UAAI,CAAC,SAAS;AACb;AAAA,MACD;AACA,YAAM,YAAY,SAAS,QAAQ,YAAY,UAAU;AACzD,gBAAU,YAAY,KAAK,UAAU;AACrC,UAAI,cAAc;AAClB,YAAM,aACL,KAAK,kCAAkC,IAAI,KAC3C,KAAK,gCAAgC,IAAI,KACzC,KAAK,mCAAmC,IAAI,KAC5C,SAAS,SAAS;AACnB,UAAI,WAAW,CAAC,0BAA0B,YAAY;AACrD,sBAAc,SAAS,QAAQ,WAC5B;AAAA,UACA;AAAA,UACA;AAAA,QACD,IACC;AAAA,UACA;AAAA,UACA;AAAA,QACD;AAAA,MACH;AACA,UAAI,YACH,SAAS,QAAQ,SAAS,mBAAmB,OAC1C,SAAS,sBAAsB,oBAAoB,IACnD,SAAS,mBAAmB,iBAAiB;AACjD,WAAK,OAAO,cAAc;AAC1B,UACC,eACA,SAAS,QAAQ,SAAS,mBAAmB,MAC5C;AACD,oBAAY;AAAA,UACX;AAAA,UACA;AAAA,UACA;AAAA,QACD;AAAA,MACD,WAAW,aAAa;AACvB,oBAAY;AAAA,UACX;AAAA,UACA;AAAA,UACA;AAAA,QACD;AAAA,MACD;AACA,UAAI,aAAa,iBAAiB;AAGjC,oBAAY;AAAA,MACb;AACA,WAAK,cAAc,cAAc,EAAE,UAAU,CAAC;AAC9C,WAAK,cAAc,MAAM;AACzB,UAAI,KAAK,kBAAkB,QAAQ,UAAU;AAC5C,cAAM,WAAW,KAAK,cAAc,YAAY;AAChD,cAAM,oBACL,UAAU,eAAe,KAAK,SAAS,WAAW;AACnD,YACC,KAAK,iBAAiB,QAAQ,aAAa,YAC1C,KAAK,iBAAiB,QAAQ,aAC9B,oBACA,mBACA;AACD,gBAAM,WAAW,KAAK,aACpB,SAAS,GACR,aAAa;AAChB,gBAAMC,YACL,aAAa,UAAa,WAAW,IAClC,IAAI,SAAS,UAAU,CAAC,IACxB;AACJ,cAAIA,WAAU;AACb,iBAAK,cAAc,YAAYA,SAAQ;AACvC,iBAAK,cAAc,WAAWA,UAAS,UAAU;AAAA,UAClD;AAAA,QACD;AAAA,MACD;AAAA,IACD,CAAC;AACD,SAAK;AAAA,MACJ,KAAK,iBAAiB;AAAA,MACtB,SAAS,QAAQ;AAAA,IAClB;AAEA,UAAM,OAAO,wBAAC,MAA6C;AAC1D,UAAI,CAAC,KAAK,cAAc;AACvB,iBAAS,QAAQ;AAAA,MAClB;AACA,SAAG,gBAAgB;AACnB,WAAK,oBAAoB,gBAAgB;AACzC,WAAK,mBAAmB,UAAU,KAAK;AACvC,WAAK,gBAAgB;AACrB,WAAK,kBAAkB;AACvB,WAAK,kBAAkB,QAAQ;AAC/B,WAAK,mBAAmB;AAAA,IACzB,GAXa;AAYb,UAAM,kBAAkB,IAAI,gBAAgB;AAC5C,oBAAgB;AAAA,MACf,KAAK,cAAc,UAAU,CAAC,MAAM;AACnC,YAAI,EAAE,YAAY,QAAQ,OAAO;AAChC,eAAK,gBAAgB;AAAA,YACpB;AAAA,UACD;AAAA,QACD,WACC,EAAE,YAAY,QAAQ,UACtB;AAAA,UACC,EAAE;AAAA,UACF,KAAK;AAAA,UACL,KAAK;AAAA,QACN,GACC;AACD,eAAK,CAAC;AAAA,QACP,WACC,EAAE,YAAY,QAAQ,QACtB,SAAS,QAAQ,aAChB;AACD,gBAAM,MAAc,SAAS,QAAQ;AACrC,gBAAM,qBAAqB,WAAW;AACtC,eAAK,eAAe,KAAK,IAAI,MAAM,GAAG,CAAC;AACvC,YAAE,eAAe;AACjB,YAAE,gBAAgB;AAAA,QACnB;AACA,YAAI,oBAAoB,2BAA2B;AAClD,mBAAS,YAAY,CAAC;AAAA,QACvB;AAAA,MACD,CAAC;AAAA,IACF;AACA,oBAAgB;AAAA,MACf;AAAA,QACC,KAAK,SAAS,WAAW;AAAA,QACzB,UAAU;AAAA,QACV,CAAC,MAAqB;AACrB,gBAAM,gBAAgB,IAAI,sBAAsB,CAAC;AACjD,cAAI,cAAc,OAAO,QAAQ,MAAM,GAAG;AACzC,iBAAK,CAAC;AAAA,UACP;AAAA,QACD;AAAA,MACD;AAAA,IACD;AACA,oBAAgB;AAAA,MACf,KAAK,cAAc,sBAAsB,MAAM;AAC9C,YAAI,CAAC,gBAAgB,KAAK,SAAS,WAAW,CAAC,GAAG;AACjD,eAAK;AAAA,QACN;AAAA,MACD,CAAC;AAAA,IACF;AACA,oBAAgB;AAAA,MACf,KAAK,cAAc,uBAAuB,MAAM,KAAK,QAAQ,CAAC;AAAA,IAC/D;AACA,oBAAgB;AAAA,MACf,KAAK,eAAe;AAAA,QAA2B,MAC9C,KAAK,QAAQ;AAAA,MACd;AAAA,IACD;AACA,WAAO;AAAA,EACR;AAAA,EAEQ,eACP,iBACA,MACO;AACP,SAAK,SAAS;AAAA,MACb,SAAS,mBAAmB,OACzB,SAAS,yBAAyB,oBAAoB,IACtD,SAAS,yBAAyB,iBAAiB;AAAA,IACvD;AACA,UAAM,cAAyB,CAAC;AAChC,UAAM,cAAc,KAAK;AAAA,MACxB,KAAK,aAAa;AAAA,QACjB,OAAO;AAAA,QACP,KAAK;AAAA,MACN;AAAA,IACD;AACA,oCAAgC,aAAa,CAAC,GAAG,WAAW;AAC5D,QAAI,iBAAiB;AACpB,iBAAW,kBAAkB,iBAAiB;AAC7C,uBAAe,QACd,eAAe,SACf,UAAU,YAAY,QAAQ,eAAe;AAC9C,uBAAe,UAAU;AAAA,MAC1B;AACA,WAAK,SAAS,WAAW,CAAC,GAAG,iBAAiB,GAAG,WAAW,CAAC;AAAA,IAC9D,OAAO;AACN,WAAK,SAAS,WAAW,WAAW;AAAA,IACrC;AAAA,EACD;AAAA,EAEQ,UAAgB;AACvB,UAAM,YAAY,KAAK,eAAe;AACtC,UAAM,YAAY,UAAU,UAAU,UAAU,SAAS;AACzD,UAAM,SAAS,KAAK;AAAA,MACnB;AAAA,MACA,KAAK,cAAc,iBAAiB;AAAA,IACrC;AACA,UAAM,QAAQ,KAAK;AAAA,MAClB,UAAU,QAAQ;AAAA,MAClB;AAAA,IACD;AACA,SAAK,cAAc,OAAO,EAAE,OAAO,OAAO,CAAC;AAAA,EAC5C;AAAA,EAEA,MAAc,cAAc,UAA2C;AACtE,UAAM,WAAW,KAAK,cAAc,SAAS,QAAQ;AACrD,QAAI,YAAY,CAAC,SAAS,WAAW,GAAG;AACvC,aAAO;AAAA,IACR;AACA,WAAO,KAAK,cAAc;AAAA,MACzB,SAAS;AAAA,MACT;AAAA,MACA;AAAA,MACA;AAAA,IACD;AAAA,EACD;AAAA,EAEQ,wBAAiC;AACxC,QAAI,CAAC,KAAK,kBAAkB;AAC3B,aAAO;AAAA,IACR;AACA,WACC,KAAK,iBAAiB,QAAQ,SAAS,mBAAmB,QAC1D,KAAK,iBAAiB,QAAQ,aAAa,cAC3C,KAAK,iBAAiB,QAAQ,aAAa,UAC1C,KAAK,4BAA4B,6BACjC,CAAC,CAAC,KAAK,iBAAiB,aAAa;AAAA,EAExC;AAAA,EAEQ,sBAAgE;AACvE,UAAM,WAAW,KAAK;AACtB,QAAI,CAAC,UAAU;AACd;AAAA,IACD;AACA,UAAM,eACL,oBAAoB,4BACjB,IAAI;AAAA,MACJ,SAAS;AAAA,MACT,SAAS;AAAA,MACT,SAAS,eAAe,KAAK,QAAQ;AAAA,MACrC,SAAS,QAAQ,KAAK,QAAQ;AAAA,MAC9B,SAAS;AAAA,MACT,SAAS,QAAQ,KAAK,QAAQ;AAAA,MAC9B,SAAS;AAAA,MACT,SAAS,oBAAoB,KAAK,QAAQ;AAAA,MAC1C,SAAS,wBAAwB,KAAK,QAAQ;AAAA,MAC9C,SAAS,oBAAoB,KAAK,QAAQ;AAAA,MAC1C,SAAS,WAAW,KAAK,QAAQ;AAAA,MACjC,SAAS,YAAY,KAAK,QAAQ;AAAA,IACnC,IACC,IAAI;AAAA,MACJ,SAAS;AAAA,MACT,SAAS;AAAA,MACT,SAAS,eAAe,KAAK,QAAQ;AAAA,MACrC,SAAS,QAAQ,KAAK,QAAQ;AAAA,MAC9B,SAAS,QAAQ,KAAK,QAAQ;AAAA,MAC9B,SAAS,oBAAoB,KAAK,QAAQ;AAAA,MAC1C,SAAS,wBAAwB,KAAK,QAAQ;AAAA,MAC9C,SAAS;AAAA,MACT,SAAS,oBAAoB,KAAK,QAAQ;AAAA,IAC3C;AACH,WAAO;AAAA,EACR;AAAA,EAEO,yBAA+B;AACrC,UAAM,eAAe,KAAK,oBAAoB;AAC9C,QAAI,CAAC,cAAc;AAClB;AAAA,IACD;AACA,QAAI;AACJ,QAAI,wBAAwB,2BAA2B;AACtD,mCAA6B,IAAI;AAAA,QAChC,aAAa;AAAA,QACb,EAAE,MAAM,mBAAmB,KAAK;AAAA,QAChC,MACC,aAAa,QAAQ,aAClB,cAAc,QAAQ,WAAW,IACjC,KAAK;AAAA,UACL,KAAK,sBAAsB;AAAA,QAC5B;AAAA,QACH,MAAM;AACL,eAAK,oBAAoB,gBAAgB;AAEzC,yBAAe,MAAM,KAAK,KAAK,YAAY,CAAC;AAAA,QAC7C;AAAA,QACA,aAAa;AAAA,MACd;AAAA,IACD,OAAO;AACN,mCAA6B,IAAI;AAAA,QAChC,aAAa;AAAA,QACb,EAAE,MAAM,mBAAmB,KAAK;AAAA,QAChC,MACC,aAAa,QAAQ,aAClB,cAAc,QAAQ,WAAW,IACjC,KAAK;AAAA,UACL,KAAK,sBAAsB;AAAA,QAC5B;AAAA,QACH,MAAM;AACL,eAAK,oBAAoB,gBAAgB;AAEzC,yBAAe,MAAM,KAAK,KAAK,YAAY,CAAC;AAAA,QAC7C;AAAA,MACD;AAAA,IACD;AACA,SAAK,oBAAoB,gBAAgB;AAEzC,QAAI,4BAA4B;AAC/B;AAAA,QAAe,MACd,KAAK,KAAK,4BAA4B,QAAW,IAAI;AAAA,MACtD;AAAA,IACD;AAAA,EACD;AAAA,EAEQ,iCACP,oBACS;AACT,UAAM,iBAAiB,KAAK,gBAAgB;AAC5C,UAAM,iBAAiB,KAAK,gBAAgB,kBAAkB;AAC9D,UAAM,cAAc;AAAA,MACnB;AAAA,MACA;AAAA,IACD;AACA,UAAM,YAAY,KAAK,cAAc;AAErC,QAAI,OAAO,SAAS,SAAS,oCAAoC;AACjE,QAAI,gBAAgB;AACnB,cAAQ,QAAQ,iBAAiB;AAAA,IAClC;AACA,QAAI,gBAAgB;AACnB,cAAQ,QAAQ,iBAAiB;AAAA,IAClC;AACA,QAAI,aAAa;AAChB,cAAQ,QAAQ,cAAc;AAAA,IAC/B;AACA,QAAI,WAAW;AACd,cAAQ;AAAA,IACT;AACA,WAAO;AAAA,EACR;AAAA,EAEQ,gBAAoC;AAC3C,QAAI,KAAK,kBAAkB,OAAO,yBAAyB,MAAM;AAChE;AAAA,IACD;AACA,WAAO;AAAA,MACN;AAAA,QACC;AAAA,QACA;AAAA,QACA;AAAA,MACD;AAAA,MACA;AAAA,QACC;AAAA,QACA;AAAA,QACA;AAAA,MACD;AAAA,MACA;AAAA,QACC;AAAA,QACA;AAAA,QACA;AAAA,MACD;AAAA,IACD,EAAE,KAAK,IAAI;AAAA,EACZ;AAAA,EAEQ,kBAA0B;AACjC,WAAO;AAAA,MACN;AAAA,MACA;AAAA,MACA,eAAe,uBAAuB,QAAQ;AAAA,MAC9C,eAAe,uBAAuB,YAAY;AAAA,IACnD;AAAA,EACD;AAAA,EAEQ,sBACP,UACS;AACT,QACC,SAAS,QAAQ,SAAS,mBAAmB,QAC7C,KAAK,kBAAkB,GACtB;AACD,aAAO;AAAA,QACN;AAAA,QACA;AAAA,QACA,eAAe,uBAAuB,oBAAoB;AAAA,MAC3D;AAAA,IACD;AACA,WAAO;AAAA,EACR;AAAA,EAEQ,gBAAgB,oBAAkD;AACzE,QAAI,CAAC,oBAAoB;AACxB;AAAA,IACD;AACA,WAAO;AAAA,MACN;AAAA,MACA;AAAA,MACA,eAAe,uBAAuB,UAAU;AAAA,IACjD;AAAA,EACD;AAAA,EAEQ,6BAAqC;AAC5C,UAAM,cAAc,KAAK,mBACvB;AAAA,MACA,uBAAuB;AAAA,IACxB,GACE,aAAa;AAChB,UAAM,iCAAiC,cACpC,MAAM,cAAc,MACpB;AACH,WAAO;AAAA,MACN;AAAA,MACA;AAAA,MACA;AAAA,IACD;AAAA,EACD;AAAA,EAEQ,2BAAmC;AAC1C,UAAM,cAAc,KAAK,mBACvB;AAAA,MACA,uBAAuB;AAAA,IACxB,GACE,aAAa;AAChB,UAAM,iCAAiC,cACpC,MAAM,cAAc,MACpB;AACH,WAAO;AAAA,MACN;AAAA,MACA;AAAA,MACA;AAAA,IACD;AAAA,EACD;AAAA,EAEQ,sBACP,UACS;AACT,UAAM,uBACL,KAAK,sBAAsB,wBAAwB;AACpD,QAAI,uBAAuB;AAC3B,UAAM,gBAAgB,cACnB,qBAAqB,sBACrB,qBAAqB;AACxB,QACC,wBACA,SAAS,OAAO,yBAAyB,QACxC;AACD,6BAAuB,qBAAqB;AAC5C,8BAAwB;AAAA,IACzB,WAAW,CAAC,sBAAsB;AACjC,6BACC,qBAAqB,WAAW,OAAO;AACxC,8BAAwB;AAAA,IACzB;AACA,WAAO;AAAA,EACR;AAAA,EAEQ,gBAAgB,UAAgD;AACvE,WAAO,KAAK,kBAAkB,KAAK,CAAC,SAAS,QAAQ,WAClD,SAAS,QAAQ,8BAA8B,IAC/C;AAAA,EACJ;AAAA,EAEQ,cAAc,UAAgD;AACrE,WAAO,SAAS,QAAQ,cACrB;AAAA,MACA;AAAA,MACA;AAAA,MACA,eAAe,uBAAuB,6BAA6B;AAAA,IACpE,IACC;AAAA,EACJ;AACD;AAzuCa,iBAAN;AAAA,EAiCJ;AAAA,EACA;AAAA,EAEA;AAAA,EAEA;AAAA,EACA;AAAA,EAEA;AAAA,EAEA;AAAA,EAEA;AAAA,EAEA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EAEA;AAAA,EACA;AAAA,GArDU;AA2uCN,IAAM,wBAAN,cACE,WAET;AAAA,EAIC,YAEkB,uBAEA,uBAEA,oBAChB;AACD,UAAM;AANW;AAEA;AAEA;AAAA,EAGlB;AAAA,EAn3CD,OAs2CA;AAAA;AAAA;AAAA,EAES;AAAA,EAaR,KAAK,UAAwC,UAA2B;AACvE,QAAI,CAAC,KAAK,iBAAiB;AAC1B,WAAK,kBAAkB,KAAK;AAAA,QAC3B,KAAK,sBAAsB,eAAe,cAAc;AAAA,MACzD;AAAA,IACD;AACA,SAAK,gBAAgB,KAAK,UAAU,QAAW,QAAW,QAAQ;AAAA,EACnE;AAAA,EACA,qBAAqB,YAA2B;AAC/C,SAAK,iBAAiB,qBAAqB,UAAU;AAAA,EACtD;AAAA,EACA,eAAqB;AACpB,SAAK,iBAAiB,aAAa;AAAA,EACpC;AAAA,EACA,iBAAiB,IAAoC;AACpD,SAAK,iBAAiB,iBAAiB,EAAE;AAAA,EAC1C;AAAA,EACA,OAAa;AACZ,SAAK,iBAAiB,KAAK;AAAA,EAC5B;AAAA,EACA,WAAiB;AAChB,SAAK,iBAAiB,SAAS;AAAA,EAChC;AAAA,EACA,aAAmB;AAClB,SAAK,iBAAiB,WAAW;AAAA,EAClC;AAAA,EACA,gBACC,qBACgB;AAChB,QAAI,CAAC,KAAK,sBAAsB,SAAS,mBAAmB,GAAG;AAC9D,aAAO;AAAA,IACR;AACA,UAAM,aAAa,KAAK,mBACtB,iBAAiB,uBAAuB,kBAAkB,GACzD,aAAa;AAChB,QAAI,OAAO;AACX,QAAI,YAAY;AACf,aAAO;AAAA,QACN;AAAA,QACA;AAAA,QACA;AAAA,MACD;AAAA,IACD,OAAO;AACN,aAAO;AAAA,QACN;AAAA,QACA;AAAA,MACD;AAAA,IACD;AACA,WAAO;AAAA,EACR;AAAA,EACA,cAAoB;AACnB,SAAK,iBAAiB,YAAY;AAAA,EACnC;AAAA,EACA,yBAA+B;AAC9B,SAAK,iBAAiB,uBAAuB;AAAA,EAC9C;AAAA,EACA,YAAY,IAAoD;AAC/D,WAAO,KAAK,iBAAiB,YAAY,EAAE,KAAK;AAAA,EACjD;AAAA,EACA,kBAAwC;AACvC,UAAM,WAAW,KAAK,iBAAiB,aACrC,SAAS,GACR,aAAa;AAChB,WAAO,aAAa,UAAa,WAAW,IACzC,IAAI,SAAS,UAAU,CAAC,IACxB;AAAA,EACJ;AAAA,EACA,YAAY,UAAoB,QAAkB,QAAwB;AACzE,SAAK,iBAAiB,YAAY,UAAU,QAAQ,MAAM;AAAA,EAC3D;AAAA,EACA,sBAA2D;AAC1D,WAAO,KAAK,iBAAiB,oBAAoB;AAAA,EAClD;AAAA,EACA,oBAAoB,MAAiC;AACpD,SAAK,iBAAiB,oBAAoB,IAAI;AAAA,EAC/C;AACD;AA9Fa,wBAAN;AAAA,EAQJ;AAAA,EAEA;AAAA,EAEA;AAAA,GAZU;AAgGb,IAAM,gCAAN,MAAoC;AAAA,EACnC,YACS,iBAES,oBAChB;AAHO;AAES;AAAA,EACf;AAAA,EAx8CJ,OAm8CoC;AAAA;AAAA;AAAA,EAMnC,KAAK,UAA8C;AAClD,UAAM,cAAc,IAAI,gBAAgB;AACxC,UAAM,YAAY,YAAY;AAAA,MAC7B,KAAK,mBAAmB,gBAAuC;AAAA,IAChE;AACA,cAAU,cAAc;AAAA,MACvB;AAAA,MACA;AAAA,IACD;AACA,cAAU,QAAQ;AAAA,MACjB;AAAA,MACA;AAAA,IACD;AACA,UAAM,QAAQ,CAAC;AACf,UAAM,UAAU,KAAK,gBAAgB,WAAW;AAChD,QAAI,CAAC,SAAS;AACb;AAAA,IACD;AACA,eAAW,UAAU,SAAS;AAC7B,YAAM,KAAK;AAAA,QACV,OAAO,OAAO;AAAA,QACd,WAAW,OAAO;AAAA,MACnB,CAAC;AAAA,IACF;AACA,cAAU,gBAAgB;AAC1B,cAAU,QAAQ;AAClB,cAAU,KAAK;AACf,gBAAY;AAAA,MACX,UAAU,YAAY,MAAM;AAC3B,aAAK,gBAAgB;AAAA,UACpB;AAAA,UACA,UAAU,cAAc,CAAC;AAAA,QAC1B;AACA,kBAAU,KAAK;AAAA,MAChB,CAAC;AAAA,IACF;AACA,gBAAY;AAAA,MACX,UAAU,UAAU,MAAM;AACzB,YAAI,UAAU,cAAc,WAAW,GAAG;AAEzC,eAAK,gBAAgB,KAAK,QAAQ;AAAA,QACnC;AACA,oBAAY,QAAQ;AAAA,MACrB,CAAC;AAAA,IACF;AAAA,EACD;AACD;AApDM,gCAAN;AAAA,EAGG;AAAA,GAHG;AAsDN,SAAS,WACR,OACA,mBACA,sBACU;AACV,MACC,CAAC,qBAAqB;AAAA,IACrB,gCAAgC;AAAA,EACjC,GACC;AACD,WAAO;AAAA,EACR;AACA,QAAM,wBAAwB,IAAI,sBAAsB,KAAK;AAC7D,QAAM,gBAAgB,kBAAkB;AAAA,IACvC;AAAA,IACA,sBAAsB;AAAA,EACvB;AAEA,QAAM,eAAe,cAAc,SAAS,WAAW;AACvD,MAAI,kBAAkB,eAAe,cAAc;AAClD,WAAO;AAAA,EACR;AACA,SACC,gBAAgB,KAAK,KACrB,CAAC,MAAM,WACP,CAAC,MAAM,UACP,CAAC,MAAM,WACP,CAAC,MAAM;AAET;AA7BS;AA+BT,SAAS,gBAAgB,OAA+B;AACvD,SAAO,CAAC,CAAC,MAAM,KAAK;AAAA,IACnB;AAAA,EACD;AACD;AAJS;",
  "names": ["DIMENSIONS", "position"]
}
