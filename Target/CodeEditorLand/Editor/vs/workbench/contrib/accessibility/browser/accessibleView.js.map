{
  "version": 3,
  "sources": ["../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/contrib/accessibility/browser/accessibleView.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { EventType, addDisposableListener, getActiveWindow, isActiveElement } from '../../../../base/browser/dom.js';\nimport { IKeyboardEvent, StandardKeyboardEvent } from '../../../../base/browser/keyboardEvent.js';\nimport { ActionsOrientation } from '../../../../base/browser/ui/actionbar/actionbar.js';\nimport { alert } from '../../../../base/browser/ui/aria/aria.js';\nimport { IAction } from '../../../../base/common/actions.js';\nimport { Codicon } from '../../../../base/common/codicons.js';\nimport { KeyCode } from '../../../../base/common/keyCodes.js';\nimport { Disposable, DisposableStore, IDisposable } from '../../../../base/common/lifecycle.js';\nimport * as marked from '../../../../base/common/marked/marked.js';\nimport { isMacintosh, isWindows } from '../../../../base/common/platform.js';\nimport { ThemeIcon } from '../../../../base/common/themables.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { IEditorConstructionOptions } from '../../../../editor/browser/config/editorConfiguration.js';\nimport { EditorExtensionsRegistry } from '../../../../editor/browser/editorExtensions.js';\nimport { CodeEditorWidget, ICodeEditorWidgetOptions } from '../../../../editor/browser/widget/codeEditor/codeEditorWidget.js';\nimport { Position } from '../../../../editor/common/core/position.js';\nimport { ITextModel } from '../../../../editor/common/model.js';\nimport { IModelService } from '../../../../editor/common/services/model.js';\nimport { AccessibilityHelpNLS } from '../../../../editor/common/standaloneStrings.js';\nimport { CodeActionController } from '../../../../editor/contrib/codeAction/browser/codeActionController.js';\nimport { localize } from '../../../../nls.js';\nimport { AccessibleViewProviderId, AccessibleViewType, AccessibleContentProvider, ExtensionContentProvider, IAccessibleViewService, IAccessibleViewSymbol } from '../../../../platform/accessibility/browser/accessibleView.js';\nimport { ACCESSIBLE_VIEW_SHOWN_STORAGE_PREFIX, IAccessibilityService } from '../../../../platform/accessibility/common/accessibility.js';\nimport { createAndFillInActionBarActions } from '../../../../platform/actions/browser/menuEntryActionViewItem.js';\nimport { WorkbenchToolBar } from '../../../../platform/actions/browser/toolbar.js';\nimport { IMenuService, MenuId } from '../../../../platform/actions/common/actions.js';\nimport { ICommandService } from '../../../../platform/commands/common/commands.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { IContextKey, IContextKeyService } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IContextViewDelegate, IContextViewService } from '../../../../platform/contextview/browser/contextView.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { IKeybindingService } from '../../../../platform/keybinding/common/keybinding.js';\nimport { ResultKind } from '../../../../platform/keybinding/common/keybindingResolver.js';\nimport { ILayoutService } from '../../../../platform/layout/browser/layoutService.js';\nimport { IOpenerService } from '../../../../platform/opener/common/opener.js';\nimport { IQuickInputService, IQuickPick, IQuickPickItem } from '../../../../platform/quickinput/common/quickInput.js';\nimport { IStorageService, StorageScope, StorageTarget } from '../../../../platform/storage/common/storage.js';\nimport { AccessibilityVerbositySettingId, AccessibilityWorkbenchSettingId, accessibilityHelpIsShown, accessibleViewContainsCodeBlocks, accessibleViewCurrentProviderId, accessibleViewGoToSymbolSupported, accessibleViewHasAssignedKeybindings, accessibleViewHasUnassignedKeybindings, accessibleViewInCodeBlock, accessibleViewIsShown, accessibleViewOnLastLine, accessibleViewSupportsNavigation, accessibleViewVerbosityEnabled } from './accessibilityConfiguration.js';\nimport { resolveContentAndKeybindingItems } from './accessibleViewKeybindingResolver.js';\nimport { AccessibilityCommandId } from '../common/accessibilityCommands.js';\nimport { IChatCodeBlockContextProviderService } from '../../chat/browser/chat.js';\nimport { ICodeBlockActionContext } from '../../chat/browser/codeBlockPart.js';\nimport { getSimpleEditorOptions } from '../../codeEditor/browser/simpleEditorOptions.js';\n\nconst enum DIMENSIONS {\n\tMAX_WIDTH = 600\n}\n\nexport type AccesibleViewContentProvider = AccessibleContentProvider | ExtensionContentProvider;\n\ninterface ICodeBlock {\n\tstartLine: number;\n\tendLine: number;\n\tcode: string;\n\tlanguageId?: string;\n}\n\nexport class AccessibleView extends Disposable {\n\tprivate _editorWidget: CodeEditorWidget;\n\n\tprivate _accessiblityHelpIsShown: IContextKey<boolean>;\n\tprivate _onLastLine: IContextKey<boolean>;\n\tprivate _accessibleViewIsShown: IContextKey<boolean>;\n\tprivate _accessibleViewSupportsNavigation: IContextKey<boolean>;\n\tprivate _accessibleViewVerbosityEnabled: IContextKey<boolean>;\n\tprivate _accessibleViewGoToSymbolSupported: IContextKey<boolean>;\n\tprivate _accessibleViewCurrentProviderId: IContextKey<string>;\n\tprivate _accessibleViewInCodeBlock: IContextKey<boolean>;\n\tprivate _accessibleViewContainsCodeBlocks: IContextKey<boolean>;\n\tprivate _hasUnassignedKeybindings: IContextKey<boolean>;\n\tprivate _hasAssignedKeybindings: IContextKey<boolean>;\n\n\tprivate _codeBlocks?: ICodeBlock[];\n\tprivate _inQuickPick: boolean = false;\n\n\tget editorWidget() { return this._editorWidget; }\n\tprivate _container: HTMLElement;\n\tprivate _title: HTMLElement;\n\tprivate readonly _toolbar: WorkbenchToolBar;\n\n\tprivate _currentProvider: AccesibleViewContentProvider | undefined;\n\tprivate _currentContent: string | undefined;\n\n\tprivate _lastProvider: AccesibleViewContentProvider | undefined;\n\n\tprivate _viewContainer: HTMLElement | undefined;\n\n\n\tconstructor(\n\t\t@IOpenerService private readonly _openerService: IOpenerService,\n\t\t@IInstantiationService private readonly _instantiationService: IInstantiationService,\n\t\t@IConfigurationService private readonly _configurationService: IConfigurationService,\n\t\t@IModelService private readonly _modelService: IModelService,\n\t\t@IContextViewService private readonly _contextViewService: IContextViewService,\n\t\t@IContextKeyService private readonly _contextKeyService: IContextKeyService,\n\t\t@IAccessibilityService private readonly _accessibilityService: IAccessibilityService,\n\t\t@IKeybindingService private readonly _keybindingService: IKeybindingService,\n\t\t@ILayoutService private readonly _layoutService: ILayoutService,\n\t\t@IMenuService private readonly _menuService: IMenuService,\n\t\t@ICommandService private readonly _commandService: ICommandService,\n\t\t@IChatCodeBlockContextProviderService private readonly _codeBlockContextProviderService: IChatCodeBlockContextProviderService,\n\t\t@IStorageService private readonly _storageService: IStorageService,\n\t\t@IQuickInputService private readonly _quickInputService: IQuickInputService\n\t) {\n\t\tsuper();\n\n\t\tthis._accessiblityHelpIsShown = accessibilityHelpIsShown.bindTo(this._contextKeyService);\n\t\tthis._accessibleViewIsShown = accessibleViewIsShown.bindTo(this._contextKeyService);\n\t\tthis._accessibleViewSupportsNavigation = accessibleViewSupportsNavigation.bindTo(this._contextKeyService);\n\t\tthis._accessibleViewVerbosityEnabled = accessibleViewVerbosityEnabled.bindTo(this._contextKeyService);\n\t\tthis._accessibleViewGoToSymbolSupported = accessibleViewGoToSymbolSupported.bindTo(this._contextKeyService);\n\t\tthis._accessibleViewCurrentProviderId = accessibleViewCurrentProviderId.bindTo(this._contextKeyService);\n\t\tthis._accessibleViewInCodeBlock = accessibleViewInCodeBlock.bindTo(this._contextKeyService);\n\t\tthis._accessibleViewContainsCodeBlocks = accessibleViewContainsCodeBlocks.bindTo(this._contextKeyService);\n\t\tthis._onLastLine = accessibleViewOnLastLine.bindTo(this._contextKeyService);\n\t\tthis._hasUnassignedKeybindings = accessibleViewHasUnassignedKeybindings.bindTo(this._contextKeyService);\n\t\tthis._hasAssignedKeybindings = accessibleViewHasAssignedKeybindings.bindTo(this._contextKeyService);\n\n\t\tthis._container = document.createElement('div');\n\t\tthis._container.classList.add('accessible-view');\n\t\tif (this._configurationService.getValue(AccessibilityWorkbenchSettingId.HideAccessibleView)) {\n\t\t\tthis._container.classList.add('hide');\n\t\t}\n\t\tconst codeEditorWidgetOptions: ICodeEditorWidgetOptions = {\n\t\t\tcontributions: EditorExtensionsRegistry.getEditorContributions().filter(c => c.id !== CodeActionController.ID)\n\t\t};\n\t\tconst titleBar = document.createElement('div');\n\t\ttitleBar.classList.add('accessible-view-title-bar');\n\t\tthis._title = document.createElement('div');\n\t\tthis._title.classList.add('accessible-view-title');\n\t\ttitleBar.appendChild(this._title);\n\t\tconst actionBar = document.createElement('div');\n\t\tactionBar.classList.add('accessible-view-action-bar');\n\t\ttitleBar.appendChild(actionBar);\n\t\tthis._container.appendChild(titleBar);\n\t\tthis._toolbar = this._register(_instantiationService.createInstance(WorkbenchToolBar, actionBar, { orientation: ActionsOrientation.HORIZONTAL }));\n\t\tthis._toolbar.context = { viewId: 'accessibleView' };\n\t\tconst toolbarElt = this._toolbar.getElement();\n\t\ttoolbarElt.tabIndex = 0;\n\n\t\tconst editorOptions: IEditorConstructionOptions = {\n\t\t\t...getSimpleEditorOptions(this._configurationService),\n\t\t\tlineDecorationsWidth: 6,\n\t\t\tdragAndDrop: false,\n\t\t\tcursorWidth: 1,\n\t\t\twordWrap: 'off',\n\t\t\twrappingStrategy: 'advanced',\n\t\t\twrappingIndent: 'none',\n\t\t\tpadding: { top: 2, bottom: 2 },\n\t\t\tquickSuggestions: false,\n\t\t\trenderWhitespace: 'none',\n\t\t\tdropIntoEditor: { enabled: false },\n\t\t\treadOnly: true,\n\t\t\tfontFamily: 'var(--monaco-monospace-font)'\n\t\t};\n\t\tthis._editorWidget = this._register(this._instantiationService.createInstance(CodeEditorWidget, this._container, editorOptions, codeEditorWidgetOptions));\n\t\tthis._register(this._accessibilityService.onDidChangeScreenReaderOptimized(() => {\n\t\t\tif (this._currentProvider && this._accessiblityHelpIsShown.get()) {\n\t\t\t\tthis.show(this._currentProvider);\n\t\t\t}\n\t\t}));\n\t\tthis._register(this._configurationService.onDidChangeConfiguration(e => {\n\t\t\tif (this._currentProvider instanceof AccessibleContentProvider && e.affectsConfiguration(this._currentProvider.verbositySettingKey)) {\n\t\t\t\tif (this._accessiblityHelpIsShown.get()) {\n\t\t\t\t\tthis.show(this._currentProvider);\n\t\t\t\t}\n\t\t\t\tthis._accessibleViewVerbosityEnabled.set(this._configurationService.getValue(this._currentProvider.verbositySettingKey));\n\t\t\t\tthis._updateToolbar(this._currentProvider.actions, this._currentProvider.options.type);\n\t\t\t}\n\t\t\tif (e.affectsConfiguration(AccessibilityWorkbenchSettingId.HideAccessibleView)) {\n\t\t\t\tthis._container.classList.toggle('hide', this._configurationService.getValue(AccessibilityWorkbenchSettingId.HideAccessibleView));\n\t\t\t}\n\t\t}));\n\t\tthis._register(this._editorWidget.onDidDispose(() => this._resetContextKeys()));\n\t\tthis._register(this._editorWidget.onDidChangeCursorPosition(() => {\n\t\t\tthis._onLastLine.set(this._editorWidget.getPosition()?.lineNumber === this._editorWidget.getModel()?.getLineCount());\n\t\t}));\n\t\tthis._register(this._editorWidget.onDidChangeCursorPosition(() => {\n\t\t\tconst cursorPosition = this._editorWidget.getPosition()?.lineNumber;\n\t\t\tif (this._codeBlocks && cursorPosition !== undefined) {\n\t\t\t\tconst inCodeBlock = this._codeBlocks.find(c => c.startLine <= cursorPosition && c.endLine >= cursorPosition) !== undefined;\n\t\t\t\tthis._accessibleViewInCodeBlock.set(inCodeBlock);\n\t\t\t}\n\t\t}));\n\t}\n\n\tprivate _resetContextKeys(): void {\n\t\tthis._accessiblityHelpIsShown.reset();\n\t\tthis._accessibleViewIsShown.reset();\n\t\tthis._accessibleViewSupportsNavigation.reset();\n\t\tthis._accessibleViewVerbosityEnabled.reset();\n\t\tthis._accessibleViewGoToSymbolSupported.reset();\n\t\tthis._accessibleViewCurrentProviderId.reset();\n\t\tthis._hasAssignedKeybindings.reset();\n\t\tthis._hasUnassignedKeybindings.reset();\n\t}\n\n\tgetPosition(id?: AccessibleViewProviderId): Position | undefined {\n\t\tif (!id || !this._lastProvider || this._lastProvider.id !== id) {\n\t\t\treturn undefined;\n\t\t}\n\t\treturn this._editorWidget.getPosition() || undefined;\n\t}\n\n\tsetPosition(position: Position, reveal?: boolean, select?: boolean): void {\n\t\tthis._editorWidget.setPosition(position);\n\t\tif (reveal) {\n\t\t\tthis._editorWidget.revealPosition(position);\n\t\t}\n\t\tif (select) {\n\t\t\tconst lineLength = this._editorWidget.getModel()?.getLineLength(position.lineNumber) ?? 0;\n\t\t\tif (lineLength) {\n\t\t\t\tthis._editorWidget.setSelection({ startLineNumber: position.lineNumber, startColumn: 1, endLineNumber: position.lineNumber, endColumn: lineLength + 1 });\n\t\t\t}\n\t\t}\n\t}\n\n\tgetCodeBlockContext(): ICodeBlockActionContext | undefined {\n\t\tconst position = this._editorWidget.getPosition();\n\t\tif (!this._codeBlocks?.length || !position) {\n\t\t\treturn;\n\t\t}\n\t\tconst codeBlockIndex = this._codeBlocks?.findIndex(c => c.startLine <= position?.lineNumber && c.endLine >= position?.lineNumber);\n\t\tconst codeBlock = codeBlockIndex !== undefined && codeBlockIndex > -1 ? this._codeBlocks[codeBlockIndex] : undefined;\n\t\tif (!codeBlock || codeBlockIndex === undefined) {\n\t\t\treturn;\n\t\t}\n\t\treturn { code: codeBlock.code, languageId: codeBlock.languageId, codeBlockIndex, element: undefined };\n\t}\n\n\tnavigateToCodeBlock(type: 'next' | 'previous'): void {\n\t\tconst position = this._editorWidget.getPosition();\n\t\tif (!this._codeBlocks?.length || !position) {\n\t\t\treturn;\n\t\t}\n\t\tlet codeBlock;\n\t\tconst codeBlocks = this._codeBlocks.slice();\n\t\tif (type === 'previous') {\n\t\t\tcodeBlock = codeBlocks.reverse().find(c => c.endLine < position.lineNumber);\n\t\t} else {\n\t\t\tcodeBlock = codeBlocks.find(c => c.startLine > position.lineNumber);\n\t\t}\n\t\tif (!codeBlock) {\n\t\t\treturn;\n\t\t}\n\t\tthis.setPosition(new Position(codeBlock.startLine, 1), true);\n\t}\n\n\tshowLastProvider(id: AccessibleViewProviderId): void {\n\t\tif (!this._lastProvider || this._lastProvider.options.id !== id) {\n\t\t\treturn;\n\t\t}\n\t\tthis.show(this._lastProvider);\n\t}\n\n\tshow(provider?: AccesibleViewContentProvider, symbol?: IAccessibleViewSymbol, showAccessibleViewHelp?: boolean, position?: Position): void {\n\t\tprovider = provider ?? this._currentProvider;\n\t\tif (!provider) {\n\t\t\treturn;\n\t\t}\n\t\tprovider.onOpen?.();\n\t\tconst delegate: IContextViewDelegate = {\n\t\t\tgetAnchor: () => { return { x: (getActiveWindow().innerWidth / 2) - ((Math.min(this._layoutService.activeContainerDimension.width * 0.62 /* golden cut */, DIMENSIONS.MAX_WIDTH)) / 2), y: this._layoutService.activeContainerOffset.quickPickTop }; },\n\t\t\trender: (container) => {\n\t\t\t\tthis._viewContainer = container;\n\t\t\t\tthis._viewContainer.classList.add('accessible-view-container');\n\t\t\t\treturn this._render(provider, container, showAccessibleViewHelp);\n\t\t\t},\n\t\t\tonHide: () => {\n\t\t\t\tif (!showAccessibleViewHelp) {\n\t\t\t\t\tthis._updateLastProvider();\n\t\t\t\t\tthis._currentProvider?.dispose();\n\t\t\t\t\tthis._currentProvider = undefined;\n\t\t\t\t\tthis._resetContextKeys();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\tthis._contextViewService.showContextView(delegate);\n\n\t\tif (position) {\n\t\t\t// Context view takes time to show up, so we need to wait for it to show up before we can set the position\n\t\t\tqueueMicrotask(() => {\n\t\t\t\tthis._editorWidget.revealLine(position.lineNumber);\n\t\t\t\tthis._editorWidget.setSelection({ startLineNumber: position.lineNumber, startColumn: position.column, endLineNumber: position.lineNumber, endColumn: position.column });\n\t\t\t});\n\t\t}\n\n\t\tif (symbol && this._currentProvider) {\n\t\t\tthis.showSymbol(this._currentProvider, symbol);\n\t\t}\n\t\tif (provider instanceof AccessibleContentProvider && provider.onDidRequestClearLastProvider) {\n\t\t\tthis._register(provider.onDidRequestClearLastProvider((id: string) => {\n\t\t\t\tif (this._lastProvider?.options.id === id) {\n\t\t\t\t\tthis._lastProvider = undefined;\n\t\t\t\t}\n\t\t\t}));\n\t\t}\n\t\tif (provider.options.id) {\n\t\t\t// only cache a provider with an ID so that it will eventually be cleared.\n\t\t\tthis._lastProvider = provider;\n\t\t}\n\t\tif (provider.id === AccessibleViewProviderId.Chat) {\n\t\t\tthis._register(this._codeBlockContextProviderService.registerProvider({ getCodeBlockContext: () => this.getCodeBlockContext() }, 'accessibleView'));\n\t\t}\n\t\tif (provider instanceof ExtensionContentProvider) {\n\t\t\tthis._storageService.store(`${ACCESSIBLE_VIEW_SHOWN_STORAGE_PREFIX}${provider.id}`, true, StorageScope.APPLICATION, StorageTarget.USER);\n\t\t}\n\t\tif (provider.onDidChangeContent) {\n\t\t\tthis._register(provider.onDidChangeContent(() => {\n\t\t\t\tif (this._viewContainer) { this._render(provider, this._viewContainer, showAccessibleViewHelp); }\n\t\t\t}));\n\t\t}\n\t}\n\n\tprevious(): void {\n\t\tconst newContent = this._currentProvider?.providePreviousContent?.();\n\t\tif (!this._currentProvider || !this._viewContainer || !newContent) {\n\t\t\treturn;\n\t\t}\n\t\tthis._render(this._currentProvider, this._viewContainer, undefined, newContent);\n\t}\n\n\tnext(): void {\n\t\tconst newContent = this._currentProvider?.provideNextContent?.();\n\t\tif (!this._currentProvider || !this._viewContainer || !newContent) {\n\t\t\treturn;\n\t\t}\n\t\tthis._render(this._currentProvider, this._viewContainer, undefined, newContent);\n\t}\n\n\tprivate _verbosityEnabled(): boolean {\n\t\tif (!this._currentProvider) {\n\t\t\treturn false;\n\t\t}\n\t\treturn this._currentProvider instanceof AccessibleContentProvider ? this._configurationService.getValue(this._currentProvider.verbositySettingKey) === true : this._storageService.getBoolean(`${ACCESSIBLE_VIEW_SHOWN_STORAGE_PREFIX}${this._currentProvider.id}`, StorageScope.APPLICATION, false);\n\t}\n\n\tgoToSymbol(): void {\n\t\tif (!this._currentProvider) {\n\t\t\treturn;\n\t\t}\n\t\tthis._instantiationService.createInstance(AccessibleViewSymbolQuickPick, this).show(this._currentProvider);\n\t}\n\n\tcalculateCodeBlocks(markdown?: string): void {\n\t\tif (!markdown) {\n\t\t\treturn;\n\t\t}\n\t\tif (this._currentProvider?.id !== AccessibleViewProviderId.Chat) {\n\t\t\treturn;\n\t\t}\n\t\tif (this._currentProvider.options.language && this._currentProvider.options.language !== 'markdown') {\n\t\t\t// Symbols haven't been provided and we cannot parse this language\n\t\t\treturn;\n\t\t}\n\t\tconst lines = markdown.split('\\n');\n\t\tthis._codeBlocks = [];\n\t\tlet inBlock = false;\n\t\tlet startLine = 0;\n\n\t\tlet languageId: string | undefined;\n\t\tlines.forEach((line, i) => {\n\t\t\tif (!inBlock && line.startsWith('```')) {\n\t\t\t\tinBlock = true;\n\t\t\t\tstartLine = i + 1;\n\t\t\t\tlanguageId = line.substring(3).trim();\n\t\t\t} else if (inBlock && line.endsWith('```')) {\n\t\t\t\tinBlock = false;\n\t\t\t\tconst endLine = i;\n\t\t\t\tconst code = lines.slice(startLine, endLine).join('\\n');\n\t\t\t\tthis._codeBlocks?.push({ startLine, endLine, code, languageId });\n\t\t\t}\n\t\t});\n\t\tthis._accessibleViewContainsCodeBlocks.set(this._codeBlocks.length > 0);\n\t}\n\n\tgetSymbols(): IAccessibleViewSymbol[] | undefined {\n\t\tconst provider = this._currentProvider instanceof AccessibleContentProvider ? this._currentProvider : undefined;\n\t\tif (!this._currentContent || !provider) {\n\t\t\treturn;\n\t\t}\n\t\tconst symbols: IAccessibleViewSymbol[] = provider.getSymbols?.() || [];\n\t\tif (symbols?.length) {\n\t\t\treturn symbols;\n\t\t}\n\t\tif (provider.options.language && provider.options.language !== 'markdown') {\n\t\t\t// Symbols haven't been provided and we cannot parse this language\n\t\t\treturn;\n\t\t}\n\t\tconst markdownTokens: marked.TokensList | undefined = marked.marked.lexer(this._currentContent);\n\t\tif (!markdownTokens) {\n\t\t\treturn;\n\t\t}\n\t\tthis._convertTokensToSymbols(markdownTokens, symbols);\n\t\treturn symbols.length ? symbols : undefined;\n\t}\n\n\topenHelpLink(): void {\n\t\tif (!this._currentProvider?.options.readMoreUrl) {\n\t\t\treturn;\n\t\t}\n\t\tthis._openerService.open(URI.parse(this._currentProvider.options.readMoreUrl));\n\t}\n\n\tconfigureKeybindings(unassigned: boolean): void {\n\t\tthis._inQuickPick = true;\n\t\tconst provider = this._updateLastProvider();\n\t\tconst items = unassigned ? provider?.options?.configureKeybindingItems : provider?.options?.configuredKeybindingItems;\n\t\tif (!items) {\n\t\t\treturn;\n\t\t}\n\t\tconst disposables = this._register(new DisposableStore());\n\t\tconst quickPick: IQuickPick<IQuickPickItem> = disposables.add(this._quickInputService.createQuickPick());\n\t\tquickPick.items = items;\n\t\tquickPick.title = localize('keybindings', 'Configure keybindings');\n\t\tquickPick.placeholder = localize('selectKeybinding', 'Select a command ID to configure a keybinding for it');\n\t\tquickPick.show();\n\t\tdisposables.add(quickPick.onDidAccept(async () => {\n\t\t\tconst item = quickPick.selectedItems[0];\n\t\t\tif (item) {\n\t\t\t\tawait this._commandService.executeCommand('workbench.action.openGlobalKeybindings', item.id);\n\t\t\t}\n\t\t\tquickPick.dispose();\n\t\t}));\n\t\tdisposables.add(quickPick.onDidHide(() => {\n\t\t\tif (!quickPick.selectedItems.length && provider) {\n\t\t\t\tthis.show(provider);\n\t\t\t}\n\t\t\tdisposables.dispose();\n\t\t\tthis._inQuickPick = false;\n\t\t}));\n\t}\n\n\tprivate _convertTokensToSymbols(tokens: marked.TokensList, symbols: IAccessibleViewSymbol[]): void {\n\t\tlet firstListItem: string | undefined;\n\t\tfor (const token of tokens) {\n\t\t\tlet label: string | undefined = undefined;\n\t\t\tif ('type' in token) {\n\t\t\t\tswitch (token.type) {\n\t\t\t\t\tcase 'heading':\n\t\t\t\t\tcase 'paragraph':\n\t\t\t\t\tcase 'code':\n\t\t\t\t\t\tlabel = token.text;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'list': {\n\t\t\t\t\t\tconst firstItem = (token as marked.Tokens.List).items[0];\n\t\t\t\t\t\tif (!firstItem) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfirstListItem = `- ${firstItem.text}`;\n\t\t\t\t\t\tlabel = (token as marked.Tokens.List).items.map(i => i.text).join(', ');\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (label) {\n\t\t\t\tsymbols.push({ markdownToParse: label, label: localize('symbolLabel', \"({0}) {1}\", token.type, label), ariaLabel: localize('symbolLabelAria', \"({0}) {1}\", token.type, label), firstListItem });\n\t\t\t\tfirstListItem = undefined;\n\t\t\t}\n\t\t}\n\t}\n\n\tshowSymbol(provider: AccesibleViewContentProvider, symbol: IAccessibleViewSymbol): void {\n\t\tif (!this._currentContent) {\n\t\t\treturn;\n\t\t}\n\t\tlet lineNumber: number | undefined = symbol.lineNumber;\n\t\tconst markdownToParse = symbol.markdownToParse;\n\t\tif (lineNumber === undefined && markdownToParse === undefined) {\n\t\t\t// No symbols provided and we cannot parse this language\n\t\t\treturn;\n\t\t}\n\n\t\tif (lineNumber === undefined && markdownToParse) {\n\t\t\t// Note that this scales poorly, thus isn't used for worst case scenarios like the terminal, for which a line number will always be provided.\n\t\t\t// Parse the markdown to find the line number\n\t\t\tconst index = this._currentContent.split('\\n').findIndex(line => line.includes(markdownToParse.split('\\n')[0]) || (symbol.firstListItem && line.includes(symbol.firstListItem))) ?? -1;\n\t\t\tif (index >= 0) {\n\t\t\t\tlineNumber = index + 1;\n\t\t\t}\n\t\t}\n\t\tif (lineNumber === undefined) {\n\t\t\treturn;\n\t\t}\n\t\tthis.show(provider, undefined, undefined, { lineNumber, column: 1 } as Position);\n\t\tthis._updateContextKeys(provider, true);\n\t}\n\n\tdisableHint(): void {\n\t\tif (!(this._currentProvider instanceof AccessibleContentProvider)) {\n\t\t\treturn;\n\t\t}\n\t\tthis._configurationService.updateValue(this._currentProvider?.verbositySettingKey, false);\n\t\talert(localize('disableAccessibilityHelp', '{0} accessibility verbosity is now disabled', this._currentProvider.verbositySettingKey));\n\t}\n\n\tprivate _updateContextKeys(provider: AccesibleViewContentProvider, shown: boolean): void {\n\t\tif (provider.options.type === AccessibleViewType.Help) {\n\t\t\tthis._accessiblityHelpIsShown.set(shown);\n\t\t\tthis._accessibleViewIsShown.reset();\n\t\t} else {\n\t\t\tthis._accessibleViewIsShown.set(shown);\n\t\t\tthis._accessiblityHelpIsShown.reset();\n\t\t}\n\t\tthis._accessibleViewSupportsNavigation.set(provider.provideNextContent !== undefined || provider.providePreviousContent !== undefined);\n\t\tthis._accessibleViewVerbosityEnabled.set(this._verbosityEnabled());\n\t\tthis._accessibleViewGoToSymbolSupported.set(this._goToSymbolsSupported() ? this.getSymbols()?.length! > 0 : false);\n\t}\n\n\tprivate _updateContent(provider: AccesibleViewContentProvider, updatedContent?: string): void {\n\t\tlet content = updatedContent ?? provider.provideContent();\n\t\tif (provider.options.type === AccessibleViewType.View) {\n\t\t\tthis._currentContent = content;\n\t\t\tthis._hasUnassignedKeybindings.reset();\n\t\t\tthis._hasAssignedKeybindings.reset();\n\t\t\treturn;\n\t\t}\n\t\tconst readMoreLinkHint = this._readMoreHint(provider);\n\t\tconst disableHelpHint = this._disableVerbosityHint(provider);\n\t\tconst screenReaderModeHint = this._screenReaderModeHint(provider);\n\t\tconst exitThisDialogHint = this._exitDialogHint(provider);\n\t\tlet configureKbHint = '';\n\t\tlet configureAssignedKbHint = '';\n\t\tconst resolvedContent = resolveContentAndKeybindingItems(this._keybindingService, screenReaderModeHint + content + readMoreLinkHint + disableHelpHint + exitThisDialogHint);\n\t\tif (resolvedContent) {\n\t\t\tcontent = resolvedContent.content.value;\n\t\t\tif (resolvedContent.configureKeybindingItems) {\n\t\t\t\tprovider.options.configureKeybindingItems = resolvedContent.configureKeybindingItems;\n\t\t\t\tthis._hasUnassignedKeybindings.set(true);\n\t\t\t\tconfigureKbHint = this._configureUnassignedKbHint();\n\t\t\t} else {\n\t\t\t\tthis._hasAssignedKeybindings.reset();\n\t\t\t}\n\t\t\tif (resolvedContent.configuredKeybindingItems) {\n\t\t\t\tprovider.options.configuredKeybindingItems = resolvedContent.configuredKeybindingItems;\n\t\t\t\tthis._hasAssignedKeybindings.set(true);\n\t\t\t\tconfigureAssignedKbHint = this._configureAssignedKbHint();\n\t\t\t} else {\n\t\t\t\tthis._hasAssignedKeybindings.reset();\n\t\t\t}\n\t\t}\n\t\tthis._currentContent = content + configureKbHint + configureAssignedKbHint;\n\t}\n\n\tprivate _render(provider: AccesibleViewContentProvider, container: HTMLElement, showAccessibleViewHelp?: boolean, updatedContent?: string): IDisposable {\n\t\tthis._currentProvider = provider;\n\t\tthis._accessibleViewCurrentProviderId.set(provider.id);\n\t\tconst verbose = this._verbosityEnabled();\n\t\tthis._updateContent(provider, updatedContent);\n\t\tthis.calculateCodeBlocks(this._currentContent);\n\t\tthis._updateContextKeys(provider, true);\n\t\tconst widgetIsFocused = this._editorWidget.hasTextFocus() || this._editorWidget.hasWidgetFocus();\n\t\tthis._getTextModel(URI.from({ path: `accessible-view-${provider.id}`, scheme: 'accessible-view', fragment: this._currentContent })).then((model) => {\n\t\t\tif (!model) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis._editorWidget.setModel(model);\n\t\t\tconst domNode = this._editorWidget.getDomNode();\n\t\t\tif (!domNode) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tmodel.setLanguage(provider.options.language ?? 'markdown');\n\t\t\tcontainer.appendChild(this._container);\n\t\t\tlet actionsHint = '';\n\t\t\tconst hasActions = this._accessibleViewSupportsNavigation.get() || this._accessibleViewVerbosityEnabled.get() || this._accessibleViewGoToSymbolSupported.get() || provider.actions?.length;\n\t\t\tif (verbose && !showAccessibleViewHelp && hasActions) {\n\t\t\t\tactionsHint = provider.options.position ? localize('ariaAccessibleViewActionsBottom', 'Explore actions such as disabling this hint (Shift+Tab), use Escape to exit this dialog.') : localize('ariaAccessibleViewActions', 'Explore actions such as disabling this hint (Shift+Tab).');\n\t\t\t}\n\t\t\tlet ariaLabel = provider.options.type === AccessibleViewType.Help ? localize('accessibility-help', \"Accessibility Help\") : localize('accessible-view', \"Accessible View\");\n\t\t\tthis._title.textContent = ariaLabel;\n\t\t\tif (actionsHint && provider.options.type === AccessibleViewType.View) {\n\t\t\t\tariaLabel = localize('accessible-view-hint', \"Accessible View, {0}\", actionsHint);\n\t\t\t} else if (actionsHint) {\n\t\t\t\tariaLabel = localize('accessibility-help-hint', \"Accessibility Help, {0}\", actionsHint);\n\t\t\t}\n\t\t\tif (isWindows && widgetIsFocused) {\n\t\t\t\t// prevent the screen reader on windows from reading\n\t\t\t\t// the aria label again when it's refocused\n\t\t\t\tariaLabel = '';\n\t\t\t}\n\t\t\tthis._editorWidget.updateOptions({ ariaLabel });\n\t\t\tthis._editorWidget.focus();\n\t\t\tif (this._currentProvider?.options.position) {\n\t\t\t\tconst position = this._editorWidget.getPosition();\n\t\t\t\tconst isDefaultPosition = position?.lineNumber === 1 && position.column === 1;\n\t\t\t\tif (this._currentProvider.options.position === 'bottom' || this._currentProvider.options.position === 'initial-bottom' && isDefaultPosition) {\n\t\t\t\t\tconst lastLine = this.editorWidget.getModel()?.getLineCount();\n\t\t\t\t\tconst position = lastLine !== undefined && lastLine > 0 ? new Position(lastLine, 1) : undefined;\n\t\t\t\t\tif (position) {\n\t\t\t\t\t\tthis._editorWidget.setPosition(position);\n\t\t\t\t\t\tthis._editorWidget.revealLine(position.lineNumber);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tthis._updateToolbar(this._currentProvider.actions, provider.options.type);\n\n\t\tconst hide = (e?: KeyboardEvent | IKeyboardEvent): void => {\n\t\t\tif (!this._inQuickPick) {\n\t\t\t\tprovider.onClose();\n\t\t\t}\n\t\t\te?.stopPropagation();\n\t\t\tthis._contextViewService.hideContextView();\n\t\t\tthis._updateContextKeys(provider, false);\n\t\t\tthis._lastProvider = undefined;\n\t\t\tthis._currentContent = undefined;\n\t\t\tthis._currentProvider?.dispose();\n\t\t\tthis._currentProvider = undefined;\n\t\t};\n\t\tconst disposableStore = new DisposableStore();\n\t\tdisposableStore.add(this._editorWidget.onKeyDown((e) => {\n\t\t\tif (e.keyCode === KeyCode.Enter) {\n\t\t\t\tthis._commandService.executeCommand('editor.action.openLink');\n\t\t\t} else if (e.keyCode === KeyCode.Escape || shouldHide(e.browserEvent, this._keybindingService, this._configurationService)) {\n\t\t\t\thide(e);\n\t\t\t} else if (e.keyCode === KeyCode.KeyH && provider.options.readMoreUrl) {\n\t\t\t\tconst url: string = provider.options.readMoreUrl;\n\t\t\t\talert(AccessibilityHelpNLS.openingDocs);\n\t\t\t\tthis._openerService.open(URI.parse(url));\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\t\t\t}\n\t\t\tif (provider instanceof AccessibleContentProvider) {\n\t\t\t\tprovider.onKeyDown?.(e);\n\t\t\t}\n\t\t}));\n\t\tdisposableStore.add(addDisposableListener(this._toolbar.getElement(), EventType.KEY_DOWN, (e: KeyboardEvent) => {\n\t\t\tconst keyboardEvent = new StandardKeyboardEvent(e);\n\t\t\tif (keyboardEvent.equals(KeyCode.Escape)) {\n\t\t\t\thide(e);\n\t\t\t}\n\t\t}));\n\t\tdisposableStore.add(this._editorWidget.onDidBlurEditorWidget(() => {\n\t\t\tif (!isActiveElement(this._toolbar.getElement())) {\n\t\t\t\thide();\n\t\t\t}\n\t\t}));\n\t\tdisposableStore.add(this._editorWidget.onDidContentSizeChange(() => this._layout()));\n\t\tdisposableStore.add(this._layoutService.onDidLayoutActiveContainer(() => this._layout()));\n\t\treturn disposableStore;\n\t}\n\n\tprivate _updateToolbar(providedActions?: IAction[], type?: AccessibleViewType): void {\n\t\tthis._toolbar.setAriaLabel(type === AccessibleViewType.Help ? localize('accessibleHelpToolbar', 'Accessibility Help') : localize('accessibleViewToolbar', \"Accessible View\"));\n\t\tconst menuActions: IAction[] = [];\n\t\tconst toolbarMenu = this._register(this._menuService.createMenu(MenuId.AccessibleView, this._contextKeyService));\n\t\tcreateAndFillInActionBarActions(toolbarMenu, {}, menuActions);\n\t\tif (providedActions) {\n\t\t\tfor (const providedAction of providedActions) {\n\t\t\t\tprovidedAction.class = providedAction.class || ThemeIcon.asClassName(Codicon.primitiveSquare);\n\t\t\t\tprovidedAction.checked = undefined;\n\t\t\t}\n\t\t\tthis._toolbar.setActions([...providedActions, ...menuActions]);\n\t\t} else {\n\t\t\tthis._toolbar.setActions(menuActions);\n\t\t}\n\t}\n\n\tprivate _layout(): void {\n\t\tconst dimension = this._layoutService.activeContainerDimension;\n\t\tconst maxHeight = dimension.height && dimension.height * .4;\n\t\tconst height = Math.min(maxHeight, this._editorWidget.getContentHeight());\n\t\tconst width = Math.min(dimension.width * 0.62 /* golden cut */, DIMENSIONS.MAX_WIDTH);\n\t\tthis._editorWidget.layout({ width, height });\n\t}\n\n\tprivate async _getTextModel(resource: URI): Promise<ITextModel | null> {\n\t\tconst existing = this._modelService.getModel(resource);\n\t\tif (existing && !existing.isDisposed()) {\n\t\t\treturn existing;\n\t\t}\n\t\treturn this._modelService.createModel(resource.fragment, null, resource, false);\n\t}\n\n\tprivate _goToSymbolsSupported(): boolean {\n\t\tif (!this._currentProvider) {\n\t\t\treturn false;\n\t\t}\n\t\treturn this._currentProvider.options.type === AccessibleViewType.Help || this._currentProvider.options.language === 'markdown' || this._currentProvider.options.language === undefined || (this._currentProvider instanceof AccessibleContentProvider && !!this._currentProvider.getSymbols?.());\n\t}\n\n\tprivate _updateLastProvider(): AccesibleViewContentProvider | undefined {\n\t\tconst provider = this._currentProvider;\n\t\tif (!provider) {\n\t\t\treturn;\n\t\t}\n\t\tconst lastProvider = provider instanceof AccessibleContentProvider ? new AccessibleContentProvider(\n\t\t\tprovider.id,\n\t\t\tprovider.options,\n\t\t\tprovider.provideContent.bind(provider),\n\t\t\tprovider.onClose.bind(provider),\n\t\t\tprovider.verbositySettingKey,\n\t\t\tprovider.onOpen?.bind(provider),\n\t\t\tprovider.actions,\n\t\t\tprovider.provideNextContent?.bind(provider),\n\t\t\tprovider.providePreviousContent?.bind(provider),\n\t\t\tprovider.onDidChangeContent?.bind(provider),\n\t\t\tprovider.onKeyDown?.bind(provider),\n\t\t\tprovider.getSymbols?.bind(provider),\n\t\t) : new ExtensionContentProvider(\n\t\t\tprovider.id,\n\t\t\tprovider.options,\n\t\t\tprovider.provideContent.bind(provider),\n\t\t\tprovider.onClose.bind(provider),\n\t\t\tprovider.onOpen?.bind(provider),\n\t\t\tprovider.provideNextContent?.bind(provider),\n\t\t\tprovider.providePreviousContent?.bind(provider),\n\t\t\tprovider.actions,\n\t\t\tprovider.onDidChangeContent?.bind(provider),\n\t\t);\n\t\treturn lastProvider;\n\t}\n\n\tpublic showAccessibleViewHelp(): void {\n\t\tconst lastProvider = this._updateLastProvider();\n\t\tif (!lastProvider) {\n\t\t\treturn;\n\t\t}\n\t\tlet accessibleViewHelpProvider;\n\t\tif (lastProvider instanceof AccessibleContentProvider) {\n\t\t\taccessibleViewHelpProvider = new AccessibleContentProvider(\n\t\t\t\tlastProvider.id as AccessibleViewProviderId,\n\t\t\t\t{ type: AccessibleViewType.Help },\n\t\t\t\t() => lastProvider.options.customHelp ? lastProvider?.options.customHelp() : this._accessibleViewHelpDialogContent(this._goToSymbolsSupported()),\n\t\t\t\t() => {\n\t\t\t\t\tthis._contextViewService.hideContextView();\n\t\t\t\t\t// HACK: Delay to allow the context view to hide #207638\n\t\t\t\t\tqueueMicrotask(() => this.show(lastProvider));\n\t\t\t\t},\n\t\t\t\tlastProvider.verbositySettingKey as AccessibilityVerbositySettingId\n\t\t\t);\n\t\t} else {\n\t\t\taccessibleViewHelpProvider = new ExtensionContentProvider(\n\t\t\t\tlastProvider.id as AccessibleViewProviderId,\n\t\t\t\t{ type: AccessibleViewType.Help },\n\t\t\t\t() => lastProvider.options.customHelp ? lastProvider?.options.customHelp() : this._accessibleViewHelpDialogContent(this._goToSymbolsSupported()),\n\t\t\t\t() => {\n\t\t\t\t\tthis._contextViewService.hideContextView();\n\t\t\t\t\t// HACK: Delay to allow the context view to hide #207638\n\t\t\t\t\tqueueMicrotask(() => this.show(lastProvider));\n\t\t\t\t},\n\t\t\t);\n\t\t}\n\t\tthis._contextViewService.hideContextView();\n\t\t// HACK: Delay to allow the context view to hide #186514\n\t\tif (accessibleViewHelpProvider) {\n\t\t\tqueueMicrotask(() => this.show(accessibleViewHelpProvider, undefined, true));\n\t\t}\n\t}\n\n\tprivate _accessibleViewHelpDialogContent(providerHasSymbols?: boolean): string {\n\t\tconst navigationHint = this._navigationHint();\n\t\tconst goToSymbolHint = this._goToSymbolHint(providerHasSymbols);\n\t\tconst toolbarHint = localize('toolbar', \"Navigate to the toolbar (Shift+Tab).\");\n\t\tconst chatHints = this._getChatHints();\n\n\t\tlet hint = localize('intro', \"In the accessible view, you can:\\n\");\n\t\tif (navigationHint) {\n\t\t\thint += ' - ' + navigationHint + '\\n';\n\t\t}\n\t\tif (goToSymbolHint) {\n\t\t\thint += ' - ' + goToSymbolHint + '\\n';\n\t\t}\n\t\tif (toolbarHint) {\n\t\t\thint += ' - ' + toolbarHint + '\\n';\n\t\t}\n\t\tif (chatHints) {\n\t\t\thint += chatHints;\n\t\t}\n\t\treturn hint;\n\t}\n\n\tprivate _getChatHints(): string | undefined {\n\t\tif (this._currentProvider?.id !== AccessibleViewProviderId.Chat) {\n\t\t\treturn;\n\t\t}\n\t\treturn [localize('insertAtCursor', \" - Insert the code block at the cursor{0}.\", '<keybinding:workbench.action.chat.insertCodeBlock>'),\n\t\tlocalize('insertIntoNewFile', \" - Insert the code block into a new file{0}.\", '<keybinding:workbench.action.chat.insertIntoNewFile>'),\n\t\tlocalize('runInTerminal', \" - Run the code block in the terminal{0}.\\n\", '<keybinding:workbench.action.chat.runInTerminal>')].join('\\n');\n\t}\n\n\tprivate _navigationHint(): string {\n\t\treturn localize('accessibleViewNextPreviousHint', \"Show the next item{0} or previous item{1}.\", `<keybinding:${AccessibilityCommandId.ShowNext}`, `<keybinding:${AccessibilityCommandId.ShowPrevious}>`);\n\t}\n\n\tprivate _disableVerbosityHint(provider: AccesibleViewContentProvider): string {\n\t\tif (provider.options.type === AccessibleViewType.Help && this._verbosityEnabled()) {\n\t\t\treturn localize('acessibleViewDisableHint', \"\\nDisable accessibility verbosity for this feature{0}.\", `<keybinding:${AccessibilityCommandId.DisableVerbosityHint}>`);\n\t\t}\n\t\treturn '';\n\t}\n\n\tprivate _goToSymbolHint(providerHasSymbols?: boolean): string | undefined {\n\t\tif (!providerHasSymbols) {\n\t\t\treturn;\n\t\t}\n\t\treturn localize('goToSymbolHint', 'Go to a symbol{0}.', `<keybinding:${AccessibilityCommandId.GoToSymbol}>`);\n\t}\n\n\tprivate _configureUnassignedKbHint(): string {\n\t\tconst configureKb = this._keybindingService.lookupKeybinding(AccessibilityCommandId.AccessibilityHelpConfigureKeybindings)?.getAriaLabel();\n\t\tconst keybindingToConfigureQuickPick = configureKb ? '(' + configureKb + ')' : 'by assigning a keybinding to the command Accessibility Help Configure Unassigned Keybindings.';\n\t\treturn localize('configureKb', '\\nConfigure keybindings for commands that lack them {0}.', keybindingToConfigureQuickPick);\n\t}\n\n\tprivate _configureAssignedKbHint(): string {\n\t\tconst configureKb = this._keybindingService.lookupKeybinding(AccessibilityCommandId.AccessibilityHelpConfigureAssignedKeybindings)?.getAriaLabel();\n\t\tconst keybindingToConfigureQuickPick = configureKb ? '(' + configureKb + ')' : 'by assigning a keybinding to the command Accessibility Help Configure Assigned Keybindings.';\n\t\treturn localize('configureKbAssigned', '\\nConfigure keybindings for commands that already have assignments {0}.', keybindingToConfigureQuickPick);\n\t}\n\n\tprivate _screenReaderModeHint(provider: AccesibleViewContentProvider): string {\n\t\tconst accessibilitySupport = this._accessibilityService.isScreenReaderOptimized();\n\t\tlet screenReaderModeHint = '';\n\t\tconst turnOnMessage = (\n\t\t\tisMacintosh\n\t\t\t\t? AccessibilityHelpNLS.changeConfigToOnMac\n\t\t\t\t: AccessibilityHelpNLS.changeConfigToOnWinLinux\n\t\t);\n\t\tif (accessibilitySupport && provider.id === AccessibleViewProviderId.Editor) {\n\t\t\tscreenReaderModeHint = AccessibilityHelpNLS.auto_on;\n\t\t\tscreenReaderModeHint += '\\n';\n\t\t} else if (!accessibilitySupport) {\n\t\t\tscreenReaderModeHint = AccessibilityHelpNLS.auto_off + '\\n' + turnOnMessage;\n\t\t\tscreenReaderModeHint += '\\n';\n\t\t}\n\t\treturn screenReaderModeHint;\n\t}\n\n\tprivate _exitDialogHint(provider: AccesibleViewContentProvider): string {\n\t\treturn this._verbosityEnabled() && !provider.options.position ? localize('exit', '\\nExit this dialog (Escape).') : '';\n\t}\n\n\tprivate _readMoreHint(provider: AccesibleViewContentProvider): string {\n\t\treturn provider.options.readMoreUrl ? localize(\"openDoc\", \"\\nOpen a browser window with more information related to accessibility{0}.\", `<keybinding:${AccessibilityCommandId.AccessibilityHelpOpenHelpLink}>`) : '';\n\t}\n}\n\nexport class AccessibleViewService extends Disposable implements IAccessibleViewService {\n\tdeclare readonly _serviceBrand: undefined;\n\tprivate _accessibleView: AccessibleView | undefined;\n\n\tconstructor(\n\t\t@IInstantiationService private readonly _instantiationService: IInstantiationService,\n\t\t@IConfigurationService private readonly _configurationService: IConfigurationService,\n\t\t@IKeybindingService private readonly _keybindingService: IKeybindingService\n\t) {\n\t\tsuper();\n\t}\n\n\tshow(provider: AccesibleViewContentProvider, position?: Position): void {\n\t\tif (!this._accessibleView) {\n\t\t\tthis._accessibleView = this._register(this._instantiationService.createInstance(AccessibleView));\n\t\t}\n\t\tthis._accessibleView.show(provider, undefined, undefined, position);\n\t}\n\tconfigureKeybindings(unassigned: boolean): void {\n\t\tthis._accessibleView?.configureKeybindings(unassigned);\n\t}\n\topenHelpLink(): void {\n\t\tthis._accessibleView?.openHelpLink();\n\t}\n\tshowLastProvider(id: AccessibleViewProviderId): void {\n\t\tthis._accessibleView?.showLastProvider(id);\n\t}\n\tnext(): void {\n\t\tthis._accessibleView?.next();\n\t}\n\tprevious(): void {\n\t\tthis._accessibleView?.previous();\n\t}\n\tgoToSymbol(): void {\n\t\tthis._accessibleView?.goToSymbol();\n\t}\n\tgetOpenAriaHint(verbositySettingKey: AccessibilityVerbositySettingId): string | null {\n\t\tif (!this._configurationService.getValue(verbositySettingKey)) {\n\t\t\treturn null;\n\t\t}\n\t\tconst keybinding = this._keybindingService.lookupKeybinding(AccessibilityCommandId.OpenAccessibleView)?.getAriaLabel();\n\t\tlet hint = null;\n\t\tif (keybinding) {\n\t\t\thint = localize('acessibleViewHint', \"Inspect this in the accessible view with {0}\", keybinding);\n\t\t} else {\n\t\t\thint = localize('acessibleViewHintNoKbEither', \"Inspect this in the accessible view via the command Open Accessible View which is currently not triggerable via keybinding.\");\n\t\t}\n\t\treturn hint;\n\t}\n\tdisableHint(): void {\n\t\tthis._accessibleView?.disableHint();\n\t}\n\tshowAccessibleViewHelp(): void {\n\t\tthis._accessibleView?.showAccessibleViewHelp();\n\t}\n\tgetPosition(id: AccessibleViewProviderId): Position | undefined {\n\t\treturn this._accessibleView?.getPosition(id) ?? undefined;\n\t}\n\tgetLastPosition(): Position | undefined {\n\t\tconst lastLine = this._accessibleView?.editorWidget.getModel()?.getLineCount();\n\t\treturn lastLine !== undefined && lastLine > 0 ? new Position(lastLine, 1) : undefined;\n\t}\n\tsetPosition(position: Position, reveal?: boolean, select?: boolean): void {\n\t\tthis._accessibleView?.setPosition(position, reveal, select);\n\t}\n\tgetCodeBlockContext(): ICodeBlockActionContext | undefined {\n\t\treturn this._accessibleView?.getCodeBlockContext();\n\t}\n\tnavigateToCodeBlock(type: 'next' | 'previous'): void {\n\t\tthis._accessibleView?.navigateToCodeBlock(type);\n\t}\n}\n\nclass AccessibleViewSymbolQuickPick {\n\tconstructor(private _accessibleView: AccessibleView, @IQuickInputService private readonly _quickInputService: IQuickInputService) {\n\n\t}\n\tshow(provider: AccesibleViewContentProvider): void {\n\t\tconst disposables = new DisposableStore();\n\t\tconst quickPick = disposables.add(this._quickInputService.createQuickPick<IAccessibleViewSymbol>());\n\t\tquickPick.placeholder = localize('accessibleViewSymbolQuickPickPlaceholder', \"Type to search symbols\");\n\t\tquickPick.title = localize('accessibleViewSymbolQuickPickTitle', \"Go to Symbol Accessible View\");\n\t\tconst picks = [];\n\t\tconst symbols = this._accessibleView.getSymbols();\n\t\tif (!symbols) {\n\t\t\treturn;\n\t\t}\n\t\tfor (const symbol of symbols) {\n\t\t\tpicks.push({\n\t\t\t\tlabel: symbol.label,\n\t\t\t\tariaLabel: symbol.ariaLabel\n\t\t\t});\n\t\t}\n\t\tquickPick.canSelectMany = false;\n\t\tquickPick.items = symbols;\n\t\tquickPick.show();\n\t\tdisposables.add(quickPick.onDidAccept(() => {\n\t\t\tthis._accessibleView.showSymbol(provider, quickPick.selectedItems[0]);\n\t\t\tquickPick.hide();\n\t\t}));\n\t\tdisposables.add(quickPick.onDidHide(() => {\n\t\t\tif (quickPick.selectedItems.length === 0) {\n\t\t\t\t// this was escaped, so refocus the accessible view\n\t\t\t\tthis._accessibleView.show(provider);\n\t\t\t}\n\t\t\tdisposables.dispose();\n\t\t}));\n\t}\n}\n\n\nfunction shouldHide(event: KeyboardEvent, keybindingService: IKeybindingService, configurationService: IConfigurationService): boolean {\n\tif (!configurationService.getValue(AccessibilityWorkbenchSettingId.AccessibleViewCloseOnKeyPress)) {\n\t\treturn false;\n\t}\n\tconst standardKeyboardEvent = new StandardKeyboardEvent(event);\n\tconst resolveResult = keybindingService.softDispatch(standardKeyboardEvent, standardKeyboardEvent.target);\n\n\tconst isValidChord = resolveResult.kind === ResultKind.MoreChordsNeeded;\n\tif (keybindingService.inChordMode || isValidChord) {\n\t\treturn false;\n\t}\n\treturn shouldHandleKey(event) && !event.ctrlKey && !event.altKey && !event.metaKey && !event.shiftKey;\n}\n\nfunction shouldHandleKey(event: KeyboardEvent): boolean {\n\treturn !!event.code.match(/^(Key[A-Z]|Digit[0-9]|Equal|Comma|Period|Slash|Quote|Backquote|Backslash|Minus|Semicolon|Space|Enter)$/);\n}\n"],
  "mappings": "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",
  "names": ["DIMENSIONS", "position"]
}
