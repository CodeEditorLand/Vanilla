var a=Object.defineProperty;var f=Object.getOwnPropertyDescriptor;var c=(m,o,n,e)=>{for(var r=e>1?void 0:e?f(o,n):o,i=m.length-1,s;i>=0;i--)(s=m[i])&&(r=(e?s(o,n,r):s(r))||r);return e&&r&&a(o,n,r),r},p=(m,o)=>(n,e)=>o(n,e,m);import{Disposable as h}from"../../../../base/common/lifecycle.js";import{IBrowserWorkbenchEnvironmentService as P}from"../../../services/environment/browser/environmentService.js";import{IRemoteExplorerService as b}from"../../../services/remote/common/remoteExplorerService.js";let l=class extends h{static ID="workbench.contrib.showPortCandidate";constructor(o,n){super();const e=n.options?.tunnelProvider?.showPortCandidate;e&&this._register(o.setCandidateFilter(async r=>{const i=await Promise.all(r.map(t=>e(t.host,t.port,t.detail??""))),s=[];if(i.length!==r.length)return r;for(let t=0;t<r.length;t++)i[t]&&s.push(r[t]);return s}))}};l=c([p(0,b),p(1,P)],l);export{l as ShowCandidateContribution};
