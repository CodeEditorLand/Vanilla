{
  "version": 3,
  "sources": ["../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/contrib/chat/browser/chatFollowups.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as dom from \"../../../../base/browser/dom.js\";\nimport {\n\tButton,\n\ttype IButtonStyles,\n} from \"../../../../base/browser/ui/button/button.js\";\nimport { MarkdownString } from \"../../../../base/common/htmlContent.js\";\nimport { Disposable } from \"../../../../base/common/lifecycle.js\";\nimport { localize } from \"../../../../nls.js\";\nimport {\n\ttype ChatAgentLocation,\n\tIChatAgentService,\n} from \"../common/chatAgents.js\";\nimport { formatChatQuestion } from \"../common/chatParserTypes.js\";\nimport type { IChatFollowup } from \"../common/chatService.js\";\n\nconst $ = dom.$;\n\nexport class ChatFollowups<T extends IChatFollowup> extends Disposable {\n\tconstructor(\n\t\tcontainer: HTMLElement,\n\t\tfollowups: T[],\n\t\tprivate readonly location: ChatAgentLocation,\n\t\tprivate readonly options: IButtonStyles | undefined,\n\t\tprivate readonly clickHandler: (followup: T) => void,\n\t\t@IChatAgentService private readonly chatAgentService: IChatAgentService,\n\t) {\n\t\tsuper();\n\n\t\tconst followupsContainer = dom.append(\n\t\t\tcontainer,\n\t\t\t$(\".interactive-session-followups\"),\n\t\t);\n\t\tfollowups.forEach((followup) =>\n\t\t\tthis.renderFollowup(followupsContainer, followup),\n\t\t);\n\t}\n\n\tprivate renderFollowup(container: HTMLElement, followup: T): void {\n\t\tif (!this.chatAgentService.getDefaultAgent(this.location)) {\n\t\t\t// No default agent yet, which affects how followups are rendered, so can't render this yet\n\t\t\treturn;\n\t\t}\n\n\t\tconst tooltipPrefix = formatChatQuestion(\n\t\t\tthis.chatAgentService,\n\t\t\tthis.location,\n\t\t\t\"\",\n\t\t\tfollowup.agentId,\n\t\t\tfollowup.subCommand,\n\t\t);\n\t\tif (tooltipPrefix === undefined) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst baseTitle =\n\t\t\tfollowup.kind === \"reply\"\n\t\t\t\t? followup.title || followup.message\n\t\t\t\t: followup.title;\n\t\tconst message =\n\t\t\tfollowup.kind === \"reply\" ? followup.message : followup.title;\n\t\tconst tooltip = (\n\t\t\ttooltipPrefix +\n\t\t\t((\"tooltip\" in followup && followup.tooltip) || message)\n\t\t).trim();\n\t\tconst button = this._register(\n\t\t\tnew Button(container, { ...this.options, title: tooltip }),\n\t\t);\n\t\tif (followup.kind === \"reply\") {\n\t\t\tbutton.element.classList.add(\"interactive-followup-reply\");\n\t\t} else if (followup.kind === \"command\") {\n\t\t\tbutton.element.classList.add(\"interactive-followup-command\");\n\t\t}\n\t\tbutton.element.ariaLabel = localize(\n\t\t\t\"followUpAriaLabel\",\n\t\t\t\"Follow up question: {0}\",\n\t\t\tbaseTitle,\n\t\t);\n\t\tbutton.label = new MarkdownString(baseTitle);\n\n\t\tthis._register(button.onDidClick(() => this.clickHandler(followup)));\n\t}\n}\n"],
  "mappings": ";;;;;;;;;;;;AAKA,YAAY,SAAS;AACrB;AAAA,EACC;AAAA,OAEM;AACP,SAAS,sBAAsB;AAC/B,SAAS,kBAAkB;AAC3B,SAAS,gBAAgB;AACzB;AAAA,EAEC;AAAA,OACM;AACP,SAAS,0BAA0B;AAGnC,MAAM,IAAI,IAAI;AAEP,IAAM,gBAAN,cAAqD,WAAW;AAAA,EACtE,YACC,WACA,WACiB,UACA,SACA,cACmB,kBACnC;AACD,UAAM;AALW;AACA;AACA;AACmB;AAIpC,UAAM,qBAAqB,IAAI;AAAA,MAC9B;AAAA,MACA,EAAE,gCAAgC;AAAA,IACnC;AACA,cAAU;AAAA,MAAQ,CAAC,aAClB,KAAK,eAAe,oBAAoB,QAAQ;AAAA,IACjD;AAAA,EACD;AAAA,EAxCD,OAsBuE;AAAA;AAAA;AAAA,EAoB9D,eAAe,WAAwB,UAAmB;AACjE,QAAI,CAAC,KAAK,iBAAiB,gBAAgB,KAAK,QAAQ,GAAG;AAE1D;AAAA,IACD;AAEA,UAAM,gBAAgB;AAAA,MACrB,KAAK;AAAA,MACL,KAAK;AAAA,MACL;AAAA,MACA,SAAS;AAAA,MACT,SAAS;AAAA,IACV;AACA,QAAI,kBAAkB,QAAW;AAChC;AAAA,IACD;AAEA,UAAM,YACL,SAAS,SAAS,UACf,SAAS,SAAS,SAAS,UAC3B,SAAS;AACb,UAAM,UACL,SAAS,SAAS,UAAU,SAAS,UAAU,SAAS;AACzD,UAAM,WACL,iBACE,aAAa,YAAY,SAAS,WAAY,UAC/C,KAAK;AACP,UAAM,SAAS,KAAK;AAAA,MACnB,IAAI,OAAO,WAAW,EAAE,GAAG,KAAK,SAAS,OAAO,QAAQ,CAAC;AAAA,IAC1D;AACA,QAAI,SAAS,SAAS,SAAS;AAC9B,aAAO,QAAQ,UAAU,IAAI,4BAA4B;AAAA,IAC1D,WAAW,SAAS,SAAS,WAAW;AACvC,aAAO,QAAQ,UAAU,IAAI,8BAA8B;AAAA,IAC5D;AACA,WAAO,QAAQ,YAAY;AAAA,MAC1B;AAAA,MACA;AAAA,MACA;AAAA,IACD;AACA,WAAO,QAAQ,IAAI,eAAe,SAAS;AAE3C,SAAK,UAAU,OAAO,WAAW,MAAM,KAAK,aAAa,QAAQ,CAAC,CAAC;AAAA,EACpE;AACD;AAhEa,gBAAN;AAAA,EAOJ;AAAA,GAPU;",
  "names": []
}
