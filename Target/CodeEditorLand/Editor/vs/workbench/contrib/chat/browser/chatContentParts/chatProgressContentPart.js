import{$ as c}from"../../../../../base/browser/dom.js";import{alert as I}from"../../../../../base/browser/ui/aria/aria.js";import{Codicon as m}from"../../../../../base/common/codicons.js";import{MarkdownString as f}from"../../../../../base/common/htmlContent.js";import{Disposable as g}from"../../../../../base/common/lifecycle.js";import{ThemeIcon as u}from"../../../../../base/common/themables.js";import"../../../../../editor/browser/widget/markdownRenderer/browser/markdownRenderer.js";import"../chat.js";import"./chatContentParts.js";import"../../common/chatService.js";import{isResponseVM as w}from"../../common/chatViewModel.js";class q extends g{domNode;showSpinner;constructor(e,o,t,n,d,s){super();const a=t.content.slice(t.contentIndex+1);if(this.showSpinner=n??h(a,t.element),d!==!0&&a.some(l=>l.kind!=="progressMessage")){this.domNode=c("");return}this.showSpinner&&I(e.content.value);const p=s?s.id:this.showSpinner?u.modify(m.loading,"spin").id:m.check.id,C=new f(`$(${p}) ${e.content.value}`,{supportThemeIcons:!0}),i=this._register(o.render(C));i.element.classList.add("progress-step"),this.domNode=i.element}hasSameContent(e,o,t){const n=h(o,t);return e.kind==="progressMessage"&&this.showSpinner===n}}function h(r,e){return w(e)&&!e.isComplete&&r.length===0}export{q as ChatProgressContentPart};
