var h=Object.defineProperty;var C=Object.getOwnPropertyDescriptor;var l=(i,r,e,o)=>{for(var t=o>1?void 0:o?C(r,e):r,s=i.length-1,n;s>=0;s--)(n=i[s])&&(t=(o?n(r,e,t):n(t))||t);return o&&t&&h(r,e,t),t},p=(i,r)=>(e,o)=>r(e,o,i);import*as g from"../../../../../../vs/base/browser/dom.js";import{Event as I}from"../../../../../../vs/base/common/event.js";import{Disposable as c}from"../../../../../../vs/base/common/lifecycle.js";import"../../../../../../vs/editor/browser/widget/markdownRenderer/browser/markdownRenderer.js";import{IInstantiationService as f}from"../../../../../../vs/platform/instantiation/common/instantiation.js";import"../../../../../../vs/workbench/contrib/chat/browser/chatContentParts/chatContentParts.js";import{ChatProgressContentPart as b}from"../../../../../../vs/workbench/contrib/chat/browser/chatContentParts/chatProgressContentPart.js";import{ChatCollapsibleListContentPart as P}from"../../../../../../vs/workbench/contrib/chat/browser/chatContentParts/chatReferencesContentPart.js";import"../../../../../../vs/workbench/contrib/chat/common/chatModel.js";import"../../../../../../vs/workbench/contrib/chat/common/chatService.js";import"../../../../../../vs/workbench/contrib/chat/common/chatViewModel.js";let d=class extends c{constructor(e,o,t,s,n){super();this.task=e;if(e.progress.length){const a=this._register(n.createInstance(P,e.progress,e.content.value,s.element,o));this.domNode=g.$(".chat-progress-task"),this.domNode.appendChild(a.domNode),this.onDidChangeHeight=a.onDidChangeHeight}else{const a=e.isSettled?.()??!0,m=this._register(n.createInstance(b,e,t,s,!a,!0));this.domNode=m.domNode,this.onDidChangeHeight=I.None}}domNode;onDidChangeHeight;hasSameContent(e){return e.kind==="progressTask"&&e.progress.length===this.task.progress.length&&e.isSettled()===this.task.isSettled()}addDisposable(e){this._register(e)}};d=l([p(4,f)],d);export{d as ChatTaskContentPart};
