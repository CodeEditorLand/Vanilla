{
  "version": 3,
  "sources": ["../../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/contrib/chat/browser/actions/chatClearActions.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Codicon } from \"../../../../../base/common/codicons.js\";\nimport { KeyCode, KeyMod } from \"../../../../../base/common/keyCodes.js\";\nimport type { ServicesAccessor } from \"../../../../../editor/browser/editorExtensions.js\";\nimport { localize2 } from \"../../../../../nls.js\";\nimport {\n\tAccessibilitySignal,\n\tIAccessibilitySignalService,\n} from \"../../../../../platform/accessibilitySignal/browser/accessibilitySignalService.js\";\nimport {\n\tAction2,\n\tMenuId,\n\tregisterAction2,\n} from \"../../../../../platform/actions/common/actions.js\";\nimport { ContextKeyExpr } from \"../../../../../platform/contextkey/common/contextkey.js\";\nimport { KeybindingWeight } from \"../../../../../platform/keybinding/common/keybindingsRegistry.js\";\nimport { ActiveEditorContext } from \"../../../../common/contextkeys.js\";\nimport { IViewsService } from \"../../../../services/views/common/viewsService.js\";\nimport {\n\tCONTEXT_CHAT_ENABLED,\n\tCONTEXT_IN_CHAT_SESSION,\n} from \"../../common/chatContextKeys.js\";\nimport { CHAT_VIEW_ID, IChatWidgetService } from \"../chat.js\";\nimport { ChatEditorInput } from \"../chatEditorInput.js\";\nimport type { ChatViewPane } from \"../chatViewPane.js\";\nimport { CHAT_CATEGORY, isChatViewTitleActionContext } from \"./chatActions.js\";\nimport { clearChatEditor } from \"./chatClear.js\";\n\nexport const ACTION_ID_NEW_CHAT = `workbench.action.chat.newChat`;\n\nexport function registerNewChatActions() {\n\tregisterAction2(\n\t\tclass NewChatEditorAction extends Action2 {\n\t\t\tconstructor() {\n\t\t\t\tsuper({\n\t\t\t\t\tid: \"workbench.action.chatEditor.newChat\",\n\t\t\t\t\ttitle: localize2(\"chat.newChat.label\", \"New Chat\"),\n\t\t\t\t\ticon: Codicon.plus,\n\t\t\t\t\tf1: false,\n\t\t\t\t\tprecondition: CONTEXT_CHAT_ENABLED,\n\t\t\t\t\tmenu: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: MenuId.EditorTitle,\n\t\t\t\t\t\t\tgroup: \"navigation\",\n\t\t\t\t\t\t\torder: 0,\n\t\t\t\t\t\t\twhen: ActiveEditorContext.isEqualTo(\n\t\t\t\t\t\t\t\tChatEditorInput.EditorID,\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t});\n\t\t\t}\n\t\t\tasync run(accessor: ServicesAccessor, ...args: any[]) {\n\t\t\t\tannounceChatCleared(accessor.get(IAccessibilitySignalService));\n\t\t\t\tawait clearChatEditor(accessor);\n\t\t\t}\n\t\t},\n\t);\n\n\tregisterAction2(\n\t\tclass GlobalClearChatAction extends Action2 {\n\t\t\tconstructor() {\n\t\t\t\tsuper({\n\t\t\t\t\tid: ACTION_ID_NEW_CHAT,\n\t\t\t\t\ttitle: localize2(\"chat.newChat.label\", \"New Chat\"),\n\t\t\t\t\tcategory: CHAT_CATEGORY,\n\t\t\t\t\ticon: Codicon.plus,\n\t\t\t\t\tprecondition: CONTEXT_CHAT_ENABLED,\n\t\t\t\t\tf1: true,\n\t\t\t\t\tkeybinding: {\n\t\t\t\t\t\tweight: KeybindingWeight.WorkbenchContrib,\n\t\t\t\t\t\tprimary: KeyMod.CtrlCmd | KeyCode.KeyL,\n\t\t\t\t\t\tmac: {\n\t\t\t\t\t\t\tprimary: KeyMod.WinCtrl | KeyCode.KeyL,\n\t\t\t\t\t\t},\n\t\t\t\t\t\twhen: CONTEXT_IN_CHAT_SESSION,\n\t\t\t\t\t},\n\t\t\t\t\tmenu: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: MenuId.ChatContext,\n\t\t\t\t\t\t\tgroup: \"z_clear\",\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: MenuId.ViewTitle,\n\t\t\t\t\t\t\twhen: ContextKeyExpr.equals(\"view\", CHAT_VIEW_ID),\n\t\t\t\t\t\t\tgroup: \"navigation\",\n\t\t\t\t\t\t\torder: -1,\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tasync run(accessor: ServicesAccessor, ...args: any[]) {\n\t\t\t\tconst context = args[0];\n\t\t\t\tconst accessibilitySignalService = accessor.get(\n\t\t\t\t\tIAccessibilitySignalService,\n\t\t\t\t);\n\t\t\t\tif (isChatViewTitleActionContext(context)) {\n\t\t\t\t\t// Is running in the Chat view title\n\t\t\t\t\tannounceChatCleared(accessibilitySignalService);\n\t\t\t\t\tcontext.chatView.widget.clear();\n\t\t\t\t\tcontext.chatView.widget.focusInput();\n\t\t\t\t} else {\n\t\t\t\t\t// Is running from f1 or keybinding\n\t\t\t\t\tconst widgetService = accessor.get(IChatWidgetService);\n\t\t\t\t\tconst viewsService = accessor.get(IViewsService);\n\n\t\t\t\t\tlet widget = widgetService.lastFocusedWidget;\n\t\t\t\t\tif (!widget) {\n\t\t\t\t\t\tconst chatView = (await viewsService.openView(\n\t\t\t\t\t\t\tCHAT_VIEW_ID,\n\t\t\t\t\t\t)) as ChatViewPane;\n\t\t\t\t\t\twidget = chatView.widget;\n\t\t\t\t\t}\n\n\t\t\t\t\tannounceChatCleared(accessibilitySignalService);\n\t\t\t\t\twidget.clear();\n\t\t\t\t\twidget.focusInput();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t);\n}\n\nfunction announceChatCleared(\n\taccessibilitySignalService: IAccessibilitySignalService,\n): void {\n\taccessibilitySignalService.playSignal(AccessibilitySignal.clear);\n}\n"],
  "mappings": ";;AAKA,SAAS,eAAe;AACxB,SAAS,SAAS,cAAc;AAEhC,SAAS,iBAAiB;AAC1B;AAAA,EACC;AAAA,EACA;AAAA,OACM;AACP;AAAA,EACC;AAAA,EACA;AAAA,EACA;AAAA,OACM;AACP,SAAS,sBAAsB;AAC/B,SAAS,wBAAwB;AACjC,SAAS,2BAA2B;AACpC,SAAS,qBAAqB;AAC9B;AAAA,EACC;AAAA,EACA;AAAA,OACM;AACP,SAAS,cAAc,0BAA0B;AACjD,SAAS,uBAAuB;AAEhC,SAAS,eAAe,oCAAoC;AAC5D,SAAS,uBAAuB;AAEzB,MAAM,qBAAqB;AAE3B,SAAS,yBAAyB;AACxC;AAAA,IACC,MAAM,4BAA4B,QAAQ;AAAA,MApC5C,OAoC4C;AAAA;AAAA;AAAA,MACzC,cAAc;AACb,cAAM;AAAA,UACL,IAAI;AAAA,UACJ,OAAO,UAAU,sBAAsB,UAAU;AAAA,UACjD,MAAM,QAAQ;AAAA,UACd,IAAI;AAAA,UACJ,cAAc;AAAA,UACd,MAAM;AAAA,YACL;AAAA,cACC,IAAI,OAAO;AAAA,cACX,OAAO;AAAA,cACP,OAAO;AAAA,cACP,MAAM,oBAAoB;AAAA,gBACzB,gBAAgB;AAAA,cACjB;AAAA,YACD;AAAA,UACD;AAAA,QACD,CAAC;AAAA,MACF;AAAA,MACA,MAAM,IAAI,aAA+B,MAAa;AACrD,4BAAoB,SAAS,IAAI,2BAA2B,CAAC;AAC7D,cAAM,gBAAgB,QAAQ;AAAA,MAC/B;AAAA,IACD;AAAA,EACD;AAEA;AAAA,IACC,MAAM,8BAA8B,QAAQ;AAAA,MAhE9C,OAgE8C;AAAA;AAAA;AAAA,MAC3C,cAAc;AACb,cAAM;AAAA,UACL,IAAI;AAAA,UACJ,OAAO,UAAU,sBAAsB,UAAU;AAAA,UACjD,UAAU;AAAA,UACV,MAAM,QAAQ;AAAA,UACd,cAAc;AAAA,UACd,IAAI;AAAA,UACJ,YAAY;AAAA,YACX,QAAQ,iBAAiB;AAAA,YACzB,SAAS,OAAO,UAAU,QAAQ;AAAA,YAClC,KAAK;AAAA,cACJ,SAAS,OAAO,UAAU,QAAQ;AAAA,YACnC;AAAA,YACA,MAAM;AAAA,UACP;AAAA,UACA,MAAM;AAAA,YACL;AAAA,cACC,IAAI,OAAO;AAAA,cACX,OAAO;AAAA,YACR;AAAA,YACA;AAAA,cACC,IAAI,OAAO;AAAA,cACX,MAAM,eAAe,OAAO,QAAQ,YAAY;AAAA,cAChD,OAAO;AAAA,cACP,OAAO;AAAA,YACR;AAAA,UACD;AAAA,QACD,CAAC;AAAA,MACF;AAAA,MAEA,MAAM,IAAI,aAA+B,MAAa;AACrD,cAAM,UAAU,KAAK,CAAC;AACtB,cAAM,6BAA6B,SAAS;AAAA,UAC3C;AAAA,QACD;AACA,YAAI,6BAA6B,OAAO,GAAG;AAE1C,8BAAoB,0BAA0B;AAC9C,kBAAQ,SAAS,OAAO,MAAM;AAC9B,kBAAQ,SAAS,OAAO,WAAW;AAAA,QACpC,OAAO;AAEN,gBAAM,gBAAgB,SAAS,IAAI,kBAAkB;AACrD,gBAAM,eAAe,SAAS,IAAI,aAAa;AAE/C,cAAI,SAAS,cAAc;AAC3B,cAAI,CAAC,QAAQ;AACZ,kBAAM,WAAY,MAAM,aAAa;AAAA,cACpC;AAAA,YACD;AACA,qBAAS,SAAS;AAAA,UACnB;AAEA,8BAAoB,0BAA0B;AAC9C,iBAAO,MAAM;AACb,iBAAO,WAAW;AAAA,QACnB;AAAA,MACD;AAAA,IACD;AAAA,EACD;AACD;AA5FgB;AA8FhB,SAAS,oBACR,4BACO;AACP,6BAA2B,WAAW,oBAAoB,KAAK;AAChE;AAJS;",
  "names": []
}
