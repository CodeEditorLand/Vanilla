{
  "version": 3,
  "sources": ["../../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/contrib/chat/browser/actions/chatClearActions.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Codicon } from '../../../../../base/common/codicons.js';\nimport { KeyCode, KeyMod } from '../../../../../base/common/keyCodes.js';\nimport { ServicesAccessor } from '../../../../../editor/browser/editorExtensions.js';\nimport { localize2 } from '../../../../../nls.js';\nimport { AccessibilitySignal, IAccessibilitySignalService } from '../../../../../platform/accessibilitySignal/browser/accessibilitySignalService.js';\nimport { Action2, MenuId, registerAction2 } from '../../../../../platform/actions/common/actions.js';\nimport { ContextKeyExpr } from '../../../../../platform/contextkey/common/contextkey.js';\nimport { KeybindingWeight } from '../../../../../platform/keybinding/common/keybindingsRegistry.js';\nimport { ActiveEditorContext } from '../../../../common/contextkeys.js';\nimport { CHAT_CATEGORY, isChatViewTitleActionContext } from './chatActions.js';\nimport { clearChatEditor } from './chatClear.js';\nimport { CHAT_VIEW_ID, IChatWidgetService } from '../chat.js';\nimport { ChatEditorInput } from '../chatEditorInput.js';\nimport { ChatViewPane } from '../chatViewPane.js';\nimport { CONTEXT_IN_CHAT_SESSION, CONTEXT_CHAT_ENABLED } from '../../common/chatContextKeys.js';\nimport { IViewsService } from '../../../../services/views/common/viewsService.js';\n\nexport const ACTION_ID_NEW_CHAT = `workbench.action.chat.newChat`;\n\nexport function registerNewChatActions() {\n\tregisterAction2(class NewChatEditorAction extends Action2 {\n\t\tconstructor() {\n\t\t\tsuper({\n\t\t\t\tid: 'workbench.action.chatEditor.newChat',\n\t\t\t\ttitle: localize2('chat.newChat.label', \"New Chat\"),\n\t\t\t\ticon: Codicon.plus,\n\t\t\t\tf1: false,\n\t\t\t\tprecondition: CONTEXT_CHAT_ENABLED,\n\t\t\t\tmenu: [{\n\t\t\t\t\tid: MenuId.EditorTitle,\n\t\t\t\t\tgroup: 'navigation',\n\t\t\t\t\torder: 0,\n\t\t\t\t\twhen: ActiveEditorContext.isEqualTo(ChatEditorInput.EditorID),\n\t\t\t\t}]\n\t\t\t});\n\t\t}\n\t\tasync run(accessor: ServicesAccessor, ...args: any[]) {\n\t\t\tannounceChatCleared(accessor.get(IAccessibilitySignalService));\n\t\t\tawait clearChatEditor(accessor);\n\t\t}\n\t});\n\n\tregisterAction2(class GlobalClearChatAction extends Action2 {\n\t\tconstructor() {\n\t\t\tsuper({\n\t\t\t\tid: ACTION_ID_NEW_CHAT,\n\t\t\t\ttitle: localize2('chat.newChat.label', \"New Chat\"),\n\t\t\t\tcategory: CHAT_CATEGORY,\n\t\t\t\ticon: Codicon.plus,\n\t\t\t\tprecondition: CONTEXT_CHAT_ENABLED,\n\t\t\t\tf1: true,\n\t\t\t\tkeybinding: {\n\t\t\t\t\tweight: KeybindingWeight.WorkbenchContrib,\n\t\t\t\t\tprimary: KeyMod.CtrlCmd | KeyCode.KeyL,\n\t\t\t\t\tmac: {\n\t\t\t\t\t\tprimary: KeyMod.WinCtrl | KeyCode.KeyL\n\t\t\t\t\t},\n\t\t\t\t\twhen: CONTEXT_IN_CHAT_SESSION\n\t\t\t\t},\n\t\t\t\tmenu: [{\n\t\t\t\t\tid: MenuId.ChatContext,\n\t\t\t\t\tgroup: 'z_clear'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: MenuId.ViewTitle,\n\t\t\t\t\twhen: ContextKeyExpr.equals('view', CHAT_VIEW_ID),\n\t\t\t\t\tgroup: 'navigation',\n\t\t\t\t\torder: -1\n\t\t\t\t}]\n\t\t\t});\n\t\t}\n\n\t\tasync run(accessor: ServicesAccessor, ...args: any[]) {\n\t\t\tconst context = args[0];\n\t\t\tconst accessibilitySignalService = accessor.get(IAccessibilitySignalService);\n\t\t\tif (isChatViewTitleActionContext(context)) {\n\t\t\t\t// Is running in the Chat view title\n\t\t\t\tannounceChatCleared(accessibilitySignalService);\n\t\t\t\tcontext.chatView.widget.clear();\n\t\t\t\tcontext.chatView.widget.focusInput();\n\t\t\t} else {\n\t\t\t\t// Is running from f1 or keybinding\n\t\t\t\tconst widgetService = accessor.get(IChatWidgetService);\n\t\t\t\tconst viewsService = accessor.get(IViewsService);\n\n\t\t\t\tlet widget = widgetService.lastFocusedWidget;\n\t\t\t\tif (!widget) {\n\t\t\t\t\tconst chatView = await viewsService.openView(CHAT_VIEW_ID) as ChatViewPane;\n\t\t\t\t\twidget = chatView.widget;\n\t\t\t\t}\n\n\t\t\t\tannounceChatCleared(accessibilitySignalService);\n\t\t\t\twidget.clear();\n\t\t\t\twidget.focusInput();\n\t\t\t}\n\t\t}\n\t});\n}\n\nfunction announceChatCleared(accessibilitySignalService: IAccessibilitySignalService): void {\n\taccessibilitySignalService.playSignal(AccessibilitySignal.clear);\n}\n"],
  "mappings": ";;AAKA,SAAS,eAAe;AACxB,SAAS,SAAS,cAAc;AAChC,SAAS,wBAAwB;AACjC,SAAS,iBAAiB;AAC1B,SAAS,qBAAqB,mCAAmC;AACjE,SAAS,SAAS,QAAQ,uBAAuB;AACjD,SAAS,sBAAsB;AAC/B,SAAS,wBAAwB;AACjC,SAAS,2BAA2B;AACpC,SAAS,eAAe,oCAAoC;AAC5D,SAAS,uBAAuB;AAChC,SAAS,cAAc,0BAA0B;AACjD,SAAS,uBAAuB;AAChC,SAAS,oBAAoB;AAC7B,SAAS,yBAAyB,4BAA4B;AAC9D,SAAS,qBAAqB;AAEvB,MAAM,qBAAqB;AAE3B,SAAS,yBAAyB;AACxC,kBAAgB,MAAM,4BAA4B,QAAQ;AAAA,IAzB3D,OAyB2D;AAAA;AAAA;AAAA,IACzD,cAAc;AACb,YAAM;AAAA,QACL,IAAI;AAAA,QACJ,OAAO,UAAU,sBAAsB,UAAU;AAAA,QACjD,MAAM,QAAQ;AAAA,QACd,IAAI;AAAA,QACJ,cAAc;AAAA,QACd,MAAM,CAAC;AAAA,UACN,IAAI,OAAO;AAAA,UACX,OAAO;AAAA,UACP,OAAO;AAAA,UACP,MAAM,oBAAoB,UAAU,gBAAgB,QAAQ;AAAA,QAC7D,CAAC;AAAA,MACF,CAAC;AAAA,IACF;AAAA,IACA,MAAM,IAAI,aAA+B,MAAa;AACrD,0BAAoB,SAAS,IAAI,2BAA2B,CAAC;AAC7D,YAAM,gBAAgB,QAAQ;AAAA,IAC/B;AAAA,EACD,CAAC;AAED,kBAAgB,MAAM,8BAA8B,QAAQ;AAAA,IA/C7D,OA+C6D;AAAA;AAAA;AAAA,IAC3D,cAAc;AACb,YAAM;AAAA,QACL,IAAI;AAAA,QACJ,OAAO,UAAU,sBAAsB,UAAU;AAAA,QACjD,UAAU;AAAA,QACV,MAAM,QAAQ;AAAA,QACd,cAAc;AAAA,QACd,IAAI;AAAA,QACJ,YAAY;AAAA,UACX,QAAQ,iBAAiB;AAAA,UACzB,SAAS,OAAO,UAAU,QAAQ;AAAA,UAClC,KAAK;AAAA,YACJ,SAAS,OAAO,UAAU,QAAQ;AAAA,UACnC;AAAA,UACA,MAAM;AAAA,QACP;AAAA,QACA,MAAM;AAAA,UAAC;AAAA,YACN,IAAI,OAAO;AAAA,YACX,OAAO;AAAA,UACR;AAAA,UACA;AAAA,YACC,IAAI,OAAO;AAAA,YACX,MAAM,eAAe,OAAO,QAAQ,YAAY;AAAA,YAChD,OAAO;AAAA,YACP,OAAO;AAAA,UACR;AAAA,QAAC;AAAA,MACF,CAAC;AAAA,IACF;AAAA,IAEA,MAAM,IAAI,aAA+B,MAAa;AACrD,YAAM,UAAU,KAAK,CAAC;AACtB,YAAM,6BAA6B,SAAS,IAAI,2BAA2B;AAC3E,UAAI,6BAA6B,OAAO,GAAG;AAE1C,4BAAoB,0BAA0B;AAC9C,gBAAQ,SAAS,OAAO,MAAM;AAC9B,gBAAQ,SAAS,OAAO,WAAW;AAAA,MACpC,OAAO;AAEN,cAAM,gBAAgB,SAAS,IAAI,kBAAkB;AACrD,cAAM,eAAe,SAAS,IAAI,aAAa;AAE/C,YAAI,SAAS,cAAc;AAC3B,YAAI,CAAC,QAAQ;AACZ,gBAAM,WAAW,MAAM,aAAa,SAAS,YAAY;AACzD,mBAAS,SAAS;AAAA,QACnB;AAEA,4BAAoB,0BAA0B;AAC9C,eAAO,MAAM;AACb,eAAO,WAAW;AAAA,MACnB;AAAA,IACD;AAAA,EACD,CAAC;AACF;AA9EgB;AAgFhB,SAAS,oBAAoB,4BAA+D;AAC3F,6BAA2B,WAAW,oBAAoB,KAAK;AAChE;AAFS;",
  "names": []
}
