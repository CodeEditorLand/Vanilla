{
  "version": 3,
  "sources": ["../../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/contrib/chat/browser/chatContentParts/chatCodeCitationContentPart.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as dom from \"../../../../../base/browser/dom.js\";\nimport { Button } from \"../../../../../base/browser/ui/button/button.js\";\nimport { Disposable } from \"../../../../../base/common/lifecycle.js\";\nimport { localize } from \"../../../../../nls.js\";\nimport { ITelemetryService } from \"../../../../../platform/telemetry/common/telemetry.js\";\nimport { IEditorService } from \"../../../../services/editor/common/editorService.js\";\nimport { getCodeCitationsMessage } from \"../../common/chatModel.js\";\nimport type {\n\tIChatCodeCitations,\n\tIChatRendererContent,\n} from \"../../common/chatViewModel.js\";\nimport type { ChatTreeItem } from \"../chat.js\";\nimport type {\n\tIChatContentPart,\n\tIChatContentPartRenderContext,\n} from \"./chatContentParts.js\";\n\ntype ChatCodeCitationOpenedClassification = {\n\towner: \"roblourens\";\n\tcomment: \"Indicates when a user opens chat code citations\";\n};\n\nexport class ChatCodeCitationContentPart\n\textends Disposable\n\timplements IChatContentPart\n{\n\tpublic readonly domNode: HTMLElement;\n\n\tconstructor(\n\t\tcitations: IChatCodeCitations,\n\t\tcontext: IChatContentPartRenderContext,\n\t\t@IEditorService private readonly editorService: IEditorService,\n\t\t@ITelemetryService private readonly telemetryService: ITelemetryService,\n\t) {\n\t\tsuper();\n\n\t\tconst label = getCodeCitationsMessage(citations.citations);\n\t\tconst elements = dom.h(\".chat-code-citation-message@root\", [\n\t\t\tdom.h(\"span.chat-code-citation-label@label\"),\n\t\t\tdom.h(\".chat-code-citation-button-container@button\"),\n\t\t]);\n\t\telements.label.textContent = label + \" - \";\n\t\tconst button = this._register(\n\t\t\tnew Button(elements.button, {\n\t\t\t\tbuttonBackground: undefined,\n\t\t\t\tbuttonBorder: undefined,\n\t\t\t\tbuttonForeground: undefined,\n\t\t\t\tbuttonHoverBackground: undefined,\n\t\t\t\tbuttonSecondaryBackground: undefined,\n\t\t\t\tbuttonSecondaryForeground: undefined,\n\t\t\t\tbuttonSecondaryHoverBackground: undefined,\n\t\t\t\tbuttonSeparator: undefined,\n\t\t\t}),\n\t\t);\n\t\tbutton.label = localize(\"viewMatches\", \"View matches\");\n\t\tthis._register(\n\t\t\tbutton.onDidClick(() => {\n\t\t\t\tconst citationText =\n\t\t\t\t\t`# Code Citations\\n\\n` +\n\t\t\t\t\tcitations.citations\n\t\t\t\t\t\t.map(\n\t\t\t\t\t\t\t(c) =>\n\t\t\t\t\t\t\t\t`## License: ${c.license}\\n${c.value.toString()}\\n\\n\\`\\`\\`\\n${c.snippet}\\n\\`\\`\\`\\n\\n`,\n\t\t\t\t\t\t)\n\t\t\t\t\t\t.join(\"\\n\");\n\t\t\t\tthis.editorService.openEditor({\n\t\t\t\t\tresource: undefined,\n\t\t\t\t\tcontents: citationText,\n\t\t\t\t\tlanguageId: \"markdown\",\n\t\t\t\t});\n\t\t\t\tthis.telemetryService.publicLog2<\n\t\t\t\t\t{},\n\t\t\t\t\tChatCodeCitationOpenedClassification\n\t\t\t\t>(\"openedChatCodeCitations\");\n\t\t\t}),\n\t\t);\n\t\tthis.domNode = elements.root;\n\t}\n\n\thasSameContent(\n\t\tother: IChatRendererContent,\n\t\tfollowingContent: IChatRendererContent[],\n\t\telement: ChatTreeItem,\n\t): boolean {\n\t\treturn other.kind === \"codeCitations\";\n\t}\n}\n"],
  "mappings": ";;;;;;;;;;;;AAKA,YAAY,SAAS;AACrB,SAAS,cAAc;AACvB,SAAS,kBAAkB;AAC3B,SAAS,gBAAgB;AACzB,SAAS,yBAAyB;AAClC,SAAS,sBAAsB;AAC/B,SAAS,+BAA+B;AAgBjC,IAAM,8BAAN,cACE,WAET;AAAA,EAGC,YACC,WACA,SACiC,eACG,kBACnC;AACD,UAAM;AAH2B;AACG;AAIpC,UAAM,QAAQ,wBAAwB,UAAU,SAAS;AACzD,UAAM,WAAW,IAAI,EAAE,oCAAoC;AAAA,MAC1D,IAAI,EAAE,qCAAqC;AAAA,MAC3C,IAAI,EAAE,6CAA6C;AAAA,IACpD,CAAC;AACD,aAAS,MAAM,cAAc,QAAQ;AACrC,UAAM,SAAS,KAAK;AAAA,MACnB,IAAI,OAAO,SAAS,QAAQ;AAAA,QAC3B,kBAAkB;AAAA,QAClB,cAAc;AAAA,QACd,kBAAkB;AAAA,QAClB,uBAAuB;AAAA,QACvB,2BAA2B;AAAA,QAC3B,2BAA2B;AAAA,QAC3B,gCAAgC;AAAA,QAChC,iBAAiB;AAAA,MAClB,CAAC;AAAA,IACF;AACA,WAAO,QAAQ,SAAS,eAAe,cAAc;AACrD,SAAK;AAAA,MACJ,OAAO,WAAW,MAAM;AACvB,cAAM,eACL;AAAA;AAAA,IACA,UAAU,UACR;AAAA,UACA,CAAC,MACA,eAAe,EAAE,OAAO;AAAA,EAAK,EAAE,MAAM,SAAS,CAAC;AAAA;AAAA;AAAA,EAAe,EAAE,OAAO;AAAA;AAAA;AAAA;AAAA,QACzE,EACC,KAAK,IAAI;AACZ,aAAK,cAAc,WAAW;AAAA,UAC7B,UAAU;AAAA,UACV,UAAU;AAAA,UACV,YAAY;AAAA,QACb,CAAC;AACD,aAAK,iBAAiB,WAGpB,yBAAyB;AAAA,MAC5B,CAAC;AAAA,IACF;AACA,SAAK,UAAU,SAAS;AAAA,EACzB;AAAA,EAlFD,OA8BA;AAAA;AAAA;AAAA,EACiB;AAAA,EAqDhB,eACC,OACA,kBACA,SACU;AACV,WAAO,MAAM,SAAS;AAAA,EACvB;AACD;AAhEa,8BAAN;AAAA,EASJ;AAAA,EACA;AAAA,GAVU;",
  "names": []
}
