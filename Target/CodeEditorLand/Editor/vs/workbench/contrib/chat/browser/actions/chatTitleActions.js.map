{
  "version": 3,
  "sources": ["../../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/contrib/chat/browser/actions/chatTitleActions.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Codicon } from '../../../../../base/common/codicons.js';\nimport { KeyCode, KeyMod } from '../../../../../base/common/keyCodes.js';\nimport { marked } from '../../../../../base/common/marked/marked.js';\nimport { ServicesAccessor } from '../../../../../editor/browser/editorExtensions.js';\nimport { IBulkEditService } from '../../../../../editor/browser/services/bulkEditService.js';\nimport { localize2 } from '../../../../../nls.js';\nimport { Action2, MenuId, registerAction2 } from '../../../../../platform/actions/common/actions.js';\nimport { ContextKeyExpr } from '../../../../../platform/contextkey/common/contextkey.js';\nimport { KeybindingWeight } from '../../../../../platform/keybinding/common/keybindingsRegistry.js';\nimport { ResourceNotebookCellEdit } from '../../../bulkEdit/browser/bulkCellEdits.js';\nimport { CHAT_CATEGORY } from './chatActions.js';\nimport { IChatWidgetService } from '../chat.js';\nimport { CONTEXT_CHAT_RESPONSE_SUPPORT_ISSUE_REPORTING, CONTEXT_IN_CHAT_INPUT, CONTEXT_IN_CHAT_SESSION, CONTEXT_REQUEST, CONTEXT_RESPONSE, CONTEXT_RESPONSE_ERROR, CONTEXT_RESPONSE_FILTERED, CONTEXT_RESPONSE_VOTE, CONTEXT_VOTE_UP_ENABLED } from '../../common/chatContextKeys.js';\nimport { IChatService, ChatAgentVoteDirection, ChatAgentVoteDownReason } from '../../common/chatService.js';\nimport { isRequestVM, isResponseVM } from '../../common/chatViewModel.js';\nimport { MENU_INLINE_CHAT_WIDGET_SECONDARY } from '../../../inlineChat/common/inlineChat.js';\nimport { INotebookEditor } from '../../../notebook/browser/notebookBrowser.js';\nimport { CellEditType, CellKind, NOTEBOOK_EDITOR_ID } from '../../../notebook/common/notebookCommon.js';\nimport { NOTEBOOK_IS_ACTIVE_EDITOR } from '../../../notebook/common/notebookContextKeys.js';\nimport { IEditorService } from '../../../../services/editor/common/editorService.js';\n\nexport const MarkUnhelpfulActionId = 'workbench.action.chat.markUnhelpful';\n\nexport function registerChatTitleActions() {\n\tregisterAction2(class MarkHelpfulAction extends Action2 {\n\t\tconstructor() {\n\t\t\tsuper({\n\t\t\t\tid: 'workbench.action.chat.markHelpful',\n\t\t\t\ttitle: localize2('interactive.helpful.label', \"Helpful\"),\n\t\t\t\tf1: false,\n\t\t\t\tcategory: CHAT_CATEGORY,\n\t\t\t\ticon: Codicon.thumbsup,\n\t\t\t\ttoggled: CONTEXT_RESPONSE_VOTE.isEqualTo('up'),\n\t\t\t\tmenu: [{\n\t\t\t\t\tid: MenuId.ChatMessageTitle,\n\t\t\t\t\tgroup: 'navigation',\n\t\t\t\t\torder: 1,\n\t\t\t\t\twhen: ContextKeyExpr.and(CONTEXT_RESPONSE, CONTEXT_VOTE_UP_ENABLED, CONTEXT_RESPONSE_ERROR.negate())\n\t\t\t\t}, {\n\t\t\t\t\tid: MENU_INLINE_CHAT_WIDGET_SECONDARY,\n\t\t\t\t\tgroup: 'navigation',\n\t\t\t\t\torder: 1,\n\t\t\t\t\twhen: ContextKeyExpr.and(CONTEXT_RESPONSE, CONTEXT_VOTE_UP_ENABLED, CONTEXT_RESPONSE_ERROR.negate())\n\t\t\t\t}]\n\t\t\t});\n\t\t}\n\n\t\trun(accessor: ServicesAccessor, ...args: any[]) {\n\t\t\tconst item = args[0];\n\t\t\tif (!isResponseVM(item)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst chatService = accessor.get(IChatService);\n\t\t\tchatService.notifyUserAction({\n\t\t\t\tagentId: item.agent?.id,\n\t\t\t\tcommand: item.slashCommand?.name,\n\t\t\t\tsessionId: item.sessionId,\n\t\t\t\trequestId: item.requestId,\n\t\t\t\tresult: item.result,\n\t\t\t\taction: {\n\t\t\t\t\tkind: 'vote',\n\t\t\t\t\tdirection: ChatAgentVoteDirection.Up,\n\t\t\t\t\treason: undefined\n\t\t\t\t}\n\t\t\t});\n\t\t\titem.setVote(ChatAgentVoteDirection.Up);\n\t\t\titem.setVoteDownReason(undefined);\n\t\t}\n\t});\n\n\tregisterAction2(class MarkUnhelpfulAction extends Action2 {\n\t\tconstructor() {\n\t\t\tsuper({\n\t\t\t\tid: MarkUnhelpfulActionId,\n\t\t\t\ttitle: localize2('interactive.unhelpful.label', \"Unhelpful\"),\n\t\t\t\tf1: false,\n\t\t\t\tcategory: CHAT_CATEGORY,\n\t\t\t\ticon: Codicon.thumbsdown,\n\t\t\t\ttoggled: CONTEXT_RESPONSE_VOTE.isEqualTo('down'),\n\t\t\t\tmenu: [{\n\t\t\t\t\tid: MenuId.ChatMessageTitle,\n\t\t\t\t\tgroup: 'navigation',\n\t\t\t\t\torder: 2,\n\t\t\t\t\twhen: ContextKeyExpr.and(CONTEXT_RESPONSE, CONTEXT_RESPONSE_ERROR.negate())\n\t\t\t\t}, {\n\t\t\t\t\tid: MENU_INLINE_CHAT_WIDGET_SECONDARY,\n\t\t\t\t\tgroup: 'navigation',\n\t\t\t\t\torder: 2,\n\t\t\t\t\twhen: ContextKeyExpr.and(CONTEXT_RESPONSE, CONTEXT_RESPONSE_ERROR.negate())\n\t\t\t\t}]\n\t\t\t});\n\t\t}\n\n\t\trun(accessor: ServicesAccessor, ...args: any[]) {\n\t\t\tconst item = args[0];\n\t\t\tif (!isResponseVM(item)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst reason = args[1];\n\t\t\tif (typeof reason !== 'string') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\titem.setVote(ChatAgentVoteDirection.Down);\n\t\t\titem.setVoteDownReason(reason as ChatAgentVoteDownReason);\n\n\t\t\tconst chatService = accessor.get(IChatService);\n\t\t\tchatService.notifyUserAction({\n\t\t\t\tagentId: item.agent?.id,\n\t\t\t\tcommand: item.slashCommand?.name,\n\t\t\t\tsessionId: item.sessionId,\n\t\t\t\trequestId: item.requestId,\n\t\t\t\tresult: item.result,\n\t\t\t\taction: {\n\t\t\t\t\tkind: 'vote',\n\t\t\t\t\tdirection: ChatAgentVoteDirection.Down,\n\t\t\t\t\treason: item.voteDownReason\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n\n\tregisterAction2(class ReportIssueForBugAction extends Action2 {\n\t\tconstructor() {\n\t\t\tsuper({\n\t\t\t\tid: 'workbench.action.chat.reportIssueForBug',\n\t\t\t\ttitle: localize2('interactive.reportIssueForBug.label', \"Report Issue\"),\n\t\t\t\tf1: false,\n\t\t\t\tcategory: CHAT_CATEGORY,\n\t\t\t\ticon: Codicon.report,\n\t\t\t\tmenu: [{\n\t\t\t\t\tid: MenuId.ChatMessageTitle,\n\t\t\t\t\tgroup: 'navigation',\n\t\t\t\t\torder: 3,\n\t\t\t\t\twhen: ContextKeyExpr.and(CONTEXT_CHAT_RESPONSE_SUPPORT_ISSUE_REPORTING, CONTEXT_RESPONSE)\n\t\t\t\t}, {\n\t\t\t\t\tid: MENU_INLINE_CHAT_WIDGET_SECONDARY,\n\t\t\t\t\tgroup: 'navigation',\n\t\t\t\t\torder: 3,\n\t\t\t\t\twhen: ContextKeyExpr.and(CONTEXT_CHAT_RESPONSE_SUPPORT_ISSUE_REPORTING, CONTEXT_RESPONSE)\n\t\t\t\t}]\n\t\t\t});\n\t\t}\n\n\t\trun(accessor: ServicesAccessor, ...args: any[]) {\n\t\t\tconst item = args[0];\n\t\t\tif (!isResponseVM(item)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst chatService = accessor.get(IChatService);\n\t\t\tchatService.notifyUserAction({\n\t\t\t\tagentId: item.agent?.id,\n\t\t\t\tcommand: item.slashCommand?.name,\n\t\t\t\tsessionId: item.sessionId,\n\t\t\t\trequestId: item.requestId,\n\t\t\t\tresult: item.result,\n\t\t\t\taction: {\n\t\t\t\t\tkind: 'bug'\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n\n\tregisterAction2(class InsertToNotebookAction extends Action2 {\n\t\tconstructor() {\n\t\t\tsuper({\n\t\t\t\tid: 'workbench.action.chat.insertIntoNotebook',\n\t\t\t\ttitle: localize2('interactive.insertIntoNotebook.label', \"Insert into Notebook\"),\n\t\t\t\tf1: false,\n\t\t\t\tcategory: CHAT_CATEGORY,\n\t\t\t\ticon: Codicon.insert,\n\t\t\t\tmenu: {\n\t\t\t\t\tid: MenuId.ChatMessageTitle,\n\t\t\t\t\tgroup: 'navigation',\n\t\t\t\t\tisHiddenByDefault: true,\n\t\t\t\t\twhen: ContextKeyExpr.and(NOTEBOOK_IS_ACTIVE_EDITOR, CONTEXT_RESPONSE, CONTEXT_RESPONSE_FILTERED.negate())\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tasync run(accessor: ServicesAccessor, ...args: any[]) {\n\t\t\tconst item = args[0];\n\t\t\tif (!isResponseVM(item)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst editorService = accessor.get(IEditorService);\n\n\t\t\tif (editorService.activeEditorPane?.getId() === NOTEBOOK_EDITOR_ID) {\n\t\t\t\tconst notebookEditor = editorService.activeEditorPane.getControl() as INotebookEditor;\n\n\t\t\t\tif (!notebookEditor.hasModel()) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (notebookEditor.isReadOnly) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst value = item.response.toString();\n\t\t\t\tconst splitContents = splitMarkdownAndCodeBlocks(value);\n\n\t\t\t\tconst focusRange = notebookEditor.getFocus();\n\t\t\t\tconst index = Math.max(focusRange.end, 0);\n\t\t\t\tconst bulkEditService = accessor.get(IBulkEditService);\n\n\t\t\t\tawait bulkEditService.apply(\n\t\t\t\t\t[\n\t\t\t\t\t\tnew ResourceNotebookCellEdit(notebookEditor.textModel.uri,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\teditType: CellEditType.Replace,\n\t\t\t\t\t\t\t\tindex: index,\n\t\t\t\t\t\t\t\tcount: 0,\n\t\t\t\t\t\t\t\tcells: splitContents.map(content => {\n\t\t\t\t\t\t\t\t\tconst kind = content.type === 'markdown' ? CellKind.Markup : CellKind.Code;\n\t\t\t\t\t\t\t\t\tconst language = content.type === 'markdown' ? 'markdown' : content.language;\n\t\t\t\t\t\t\t\t\tconst mime = content.type === 'markdown' ? 'text/markdown' : `text/x-${content.language}`;\n\t\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\t\tcellKind: kind,\n\t\t\t\t\t\t\t\t\t\tlanguage,\n\t\t\t\t\t\t\t\t\t\tmime,\n\t\t\t\t\t\t\t\t\t\tsource: content.content,\n\t\t\t\t\t\t\t\t\t\toutputs: [],\n\t\t\t\t\t\t\t\t\t\tmetadata: {}\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t)\n\t\t\t\t\t],\n\t\t\t\t\t{ quotableLabel: 'Insert into Notebook' }\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t});\n\n\n\tregisterAction2(class RemoveAction extends Action2 {\n\t\tconstructor() {\n\t\t\tsuper({\n\t\t\t\tid: 'workbench.action.chat.remove',\n\t\t\t\ttitle: localize2('chat.remove.label', \"Remove Request and Response\"),\n\t\t\t\tf1: false,\n\t\t\t\tcategory: CHAT_CATEGORY,\n\t\t\t\ticon: Codicon.x,\n\t\t\t\tkeybinding: {\n\t\t\t\t\tprimary: KeyCode.Delete,\n\t\t\t\t\tmac: {\n\t\t\t\t\t\tprimary: KeyMod.CtrlCmd | KeyCode.Backspace,\n\t\t\t\t\t},\n\t\t\t\t\twhen: ContextKeyExpr.and(CONTEXT_IN_CHAT_SESSION, CONTEXT_IN_CHAT_INPUT.negate()),\n\t\t\t\t\tweight: KeybindingWeight.WorkbenchContrib,\n\t\t\t\t},\n\t\t\t\tmenu: {\n\t\t\t\t\tid: MenuId.ChatMessageTitle,\n\t\t\t\t\tgroup: 'navigation',\n\t\t\t\t\torder: 2,\n\t\t\t\t\twhen: CONTEXT_REQUEST\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\trun(accessor: ServicesAccessor, ...args: any[]) {\n\t\t\tlet item = args[0];\n\t\t\tif (!isRequestVM(item)) {\n\t\t\t\tconst chatWidgetService = accessor.get(IChatWidgetService);\n\t\t\t\tconst widget = chatWidgetService.lastFocusedWidget;\n\t\t\t\titem = widget?.getFocus();\n\t\t\t}\n\n\t\t\tconst requestId = isRequestVM(item) ? item.id :\n\t\t\t\tisResponseVM(item) ? item.requestId : undefined;\n\n\t\t\tif (requestId) {\n\t\t\t\tconst chatService = accessor.get(IChatService);\n\t\t\t\tchatService.removeRequest(item.sessionId, requestId);\n\t\t\t}\n\t\t}\n\t});\n}\n\ninterface MarkdownContent {\n\ttype: 'markdown';\n\tcontent: string;\n}\n\ninterface CodeContent {\n\ttype: 'code';\n\tlanguage: string;\n\tcontent: string;\n}\n\ntype Content = MarkdownContent | CodeContent;\n\nfunction splitMarkdownAndCodeBlocks(markdown: string): Content[] {\n\tconst lexer = new marked.Lexer();\n\tconst tokens = lexer.lex(markdown);\n\n\tconst splitContent: Content[] = [];\n\n\tlet markdownPart = '';\n\ttokens.forEach((token) => {\n\t\tif (token.type === 'code') {\n\t\t\tif (markdownPart.trim()) {\n\t\t\t\tsplitContent.push({ type: 'markdown', content: markdownPart });\n\t\t\t\tmarkdownPart = '';\n\t\t\t}\n\t\t\tsplitContent.push({\n\t\t\t\ttype: 'code',\n\t\t\t\tlanguage: token.lang || '',\n\t\t\t\tcontent: token.text,\n\t\t\t});\n\t\t} else {\n\t\t\tmarkdownPart += token.raw;\n\t\t}\n\t});\n\n\tif (markdownPart.trim()) {\n\t\tsplitContent.push({ type: 'markdown', content: markdownPart });\n\t}\n\n\treturn splitContent;\n}\n"],
  "mappings": "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",
  "names": []
}
