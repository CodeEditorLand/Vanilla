var f=Object.defineProperty;var u=Object.getOwnPropertyDescriptor;var s=(n,t,o,e)=>{for(var i=e>1?void 0:e?u(t,o):t,a=n.length-1,d;a>=0;a--)(d=n[a])&&(i=(e?d(t,o,i):d(i))||i);return e&&i&&f(t,o,i),i},c=(n,t)=>(o,e)=>t(o,e,n);import{Emitter as h}from"../../../../base/common/event.js";import{Disposable as p}from"../../../../base/common/lifecycle.js";import{IConfigurationService as C}from"../../../../platform/configuration/common/configuration.js";import{IThemeService as m}from"../../../../platform/theme/common/themeService.js";import{IViewDescriptorService as y}from"../../../common/views.js";let r=class extends p{constructor(o,e,i,a,d,v,S){super();this.foreground=e;this.inputEditorBackgroundColor=i;this.resultEditorBackgroundColor=a;this.configurationService=d;this.themeService=v;this.viewDescriptorService=S;this._register(this.themeService.onDidColorThemeChange(l=>this.update())),this._register(this.viewDescriptorService.onDidChangeLocation(l=>{l.views.some(g=>g.id===o)&&this.update()})),this._register(this.configurationService.onDidChangeConfiguration(l=>{r.relevantSettingIds.some(g=>l.affectsConfiguration(g))&&this.update()})),this.update()}static lineHeightEm=1.4;_onDidChange=this._register(new h);onDidChange=this._onDidChange.event;_config;get configuration(){return this._config}static relevantSettingIds=["chat.editor.lineHeight","chat.editor.fontSize","chat.editor.fontFamily","chat.editor.fontWeight","chat.editor.wordWrap","editor.cursorBlinking","editor.fontLigatures","editor.accessibilitySupport","editor.bracketPairColorization.enabled","editor.bracketPairColorization.independentColorPoolPerBracketType"];update(){const o=this.configurationService.getValue("editor"),e=this.configurationService.getValue("chat")?.editor,i=this.configurationService.getValue("editor.accessibilitySupport");this._config={foreground:this.themeService.getColorTheme().getColor(this.foreground),inputEditor:{backgroundColor:this.themeService.getColorTheme().getColor(this.inputEditorBackgroundColor),accessibilitySupport:i},resultEditor:{backgroundColor:this.themeService.getColorTheme().getColor(this.resultEditorBackgroundColor),fontSize:e.fontSize,fontFamily:e.fontFamily==="default"?o.fontFamily:e.fontFamily,fontWeight:e.fontWeight,lineHeight:e.lineHeight?e.lineHeight:r.lineHeightEm*e.fontSize,bracketPairColorization:{enabled:this.configurationService.getValue("editor.bracketPairColorization.enabled"),independentColorPoolPerBracketType:this.configurationService.getValue("editor.bracketPairColorization.independentColorPoolPerBracketType")},wordWrap:e.wordWrap,fontLigatures:o.fontLigatures}},this._onDidChange.fire()}};r=s([c(4,C),c(5,m),c(6,y)],r);export{r as ChatEditorOptions};
