{
  "version": 3,
  "sources": ["../../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/contrib/chat/browser/chatContentParts/chatTaskContentPart.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as dom from \"../../../../../base/browser/dom.js\";\nimport { Event } from \"../../../../../base/common/event.js\";\nimport {\n\tDisposable,\n\ttype IDisposable,\n} from \"../../../../../base/common/lifecycle.js\";\nimport type { MarkdownRenderer } from \"../../../../../editor/browser/widget/markdownRenderer/browser/markdownRenderer.js\";\nimport { IInstantiationService } from \"../../../../../platform/instantiation/common/instantiation.js\";\nimport type { IChatProgressRenderableResponseContent } from \"../../common/chatModel.js\";\nimport type { IChatTask } from \"../../common/chatService.js\";\nimport type { IChatResponseViewModel } from \"../../common/chatViewModel.js\";\nimport type {\n\tIChatContentPart,\n\tIChatContentPartRenderContext,\n} from \"./chatContentParts.js\";\nimport { ChatProgressContentPart } from \"./chatProgressContentPart.js\";\nimport {\n\tChatCollapsibleListContentPart,\n\ttype CollapsibleListPool,\n} from \"./chatReferencesContentPart.js\";\n\nexport class ChatTaskContentPart\n\textends Disposable\n\timplements IChatContentPart\n{\n\tpublic readonly domNode: HTMLElement;\n\tpublic readonly onDidChangeHeight: Event<void>;\n\n\tconstructor(\n\t\tprivate readonly task: IChatTask,\n\t\tcontentReferencesListPool: CollapsibleListPool,\n\t\trenderer: MarkdownRenderer,\n\t\tcontext: IChatContentPartRenderContext,\n\t\t@IInstantiationService instantiationService: IInstantiationService,\n\t) {\n\t\tsuper();\n\n\t\tif (task.progress.length) {\n\t\t\tconst refsPart = this._register(\n\t\t\t\tinstantiationService.createInstance(\n\t\t\t\t\tChatCollapsibleListContentPart,\n\t\t\t\t\ttask.progress,\n\t\t\t\t\ttask.content.value,\n\t\t\t\t\tcontext.element as IChatResponseViewModel,\n\t\t\t\t\tcontentReferencesListPool,\n\t\t\t\t),\n\t\t\t);\n\t\t\tthis.domNode = dom.$(\".chat-progress-task\");\n\t\t\tthis.domNode.appendChild(refsPart.domNode);\n\t\t\tthis.onDidChangeHeight = refsPart.onDidChangeHeight;\n\t\t} else {\n\t\t\t// #217645\n\t\t\tconst isSettled = task.isSettled?.() ?? true;\n\t\t\tconst progressPart = this._register(\n\t\t\t\tinstantiationService.createInstance(\n\t\t\t\t\tChatProgressContentPart,\n\t\t\t\t\ttask,\n\t\t\t\t\trenderer,\n\t\t\t\t\tcontext,\n\t\t\t\t\t!isSettled,\n\t\t\t\t\ttrue,\n\t\t\t\t),\n\t\t\t);\n\t\t\tthis.domNode = progressPart.domNode;\n\t\t\tthis.onDidChangeHeight = Event.None;\n\t\t}\n\t}\n\n\thasSameContent(other: IChatProgressRenderableResponseContent): boolean {\n\t\treturn (\n\t\t\tother.kind === \"progressTask\" &&\n\t\t\tother.progress.length === this.task.progress.length &&\n\t\t\tother.isSettled() === this.task.isSettled()\n\t\t);\n\t}\n\n\taddDisposable(disposable: IDisposable): void {\n\t\tthis._register(disposable);\n\t}\n}\n"],
  "mappings": ";;;;;;;;;;;;AAKA,YAAY,SAAS;AACrB,SAAS,aAAa;AACtB;AAAA,EACC;AAAA,OAEM;AAEP,SAAS,6BAA6B;AAQtC,SAAS,+BAA+B;AACxC;AAAA,EACC;AAAA,OAEM;AAEA,IAAM,sBAAN,cACE,WAET;AAAA,EAIC,YACkB,MACjB,2BACA,UACA,SACuB,sBACtB;AACD,UAAM;AANW;AAQjB,QAAI,KAAK,SAAS,QAAQ;AACzB,YAAM,WAAW,KAAK;AAAA,QACrB,qBAAqB;AAAA,UACpB;AAAA,UACA,KAAK;AAAA,UACL,KAAK,QAAQ;AAAA,UACb,QAAQ;AAAA,UACR;AAAA,QACD;AAAA,MACD;AACA,WAAK,UAAU,IAAI,EAAE,qBAAqB;AAC1C,WAAK,QAAQ,YAAY,SAAS,OAAO;AACzC,WAAK,oBAAoB,SAAS;AAAA,IACnC,OAAO;AAEN,YAAM,YAAY,KAAK,YAAY,KAAK;AACxC,YAAM,eAAe,KAAK;AAAA,QACzB,qBAAqB;AAAA,UACpB;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA,CAAC;AAAA,UACD;AAAA,QACD;AAAA,MACD;AACA,WAAK,UAAU,aAAa;AAC5B,WAAK,oBAAoB,MAAM;AAAA,IAChC;AAAA,EACD;AAAA,EAvED,OA6BA;AAAA;AAAA;AAAA,EACiB;AAAA,EACA;AAAA,EA0ChB,eAAe,OAAwD;AACtE,WACC,MAAM,SAAS,kBACf,MAAM,SAAS,WAAW,KAAK,KAAK,SAAS,UAC7C,MAAM,UAAU,MAAM,KAAK,KAAK,UAAU;AAAA,EAE5C;AAAA,EAEA,cAAc,YAA+B;AAC5C,SAAK,UAAU,UAAU;AAAA,EAC1B;AACD;AA1Da,sBAAN;AAAA,EAYJ;AAAA,GAZU;",
  "names": []
}
