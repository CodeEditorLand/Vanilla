var g=Object.defineProperty;var v=Object.getOwnPropertyDescriptor;var m=(s,n,i,t)=>{for(var e=t>1?void 0:t?v(n,i):n,r=s.length-1,a;r>=0;r--)(a=s[r])&&(e=(t?a(n,i,e):a(e))||e);return t&&e&&g(n,i,e),e},d=(s,n)=>(i,t)=>n(i,t,s);import*as p from"../../../../base/browser/dom.js";import{Button as f}from"../../../../base/browser/ui/button/button.js";import{MarkdownString as y}from"../../../../base/common/htmlContent.js";import{Disposable as A}from"../../../../base/common/lifecycle.js";import{localize as k}from"../../../../nls.js";import{IChatAgentService as u}from"../common/chatAgents.js";import{formatChatQuestion as L}from"../common/chatParserTypes.js";import"../common/chatService.js";const S=p.$;let c=class extends A{constructor(i,t,e,r,a,l){super();this.location=e;this.options=r;this.clickHandler=a;this.chatAgentService=l;const o=p.append(i,S(".interactive-session-followups"));t.forEach(h=>this.renderFollowup(o,h))}renderFollowup(i,t){if(!this.chatAgentService.getDefaultAgent(this.location))return;const e=L(this.chatAgentService,this.location,"",t.agentId,t.subCommand);if(e===void 0)return;const r=t.kind==="reply"?t.title||t.message:t.title,a=t.kind==="reply"?t.message:t.title,l=(e+("tooltip"in t&&t.tooltip||a)).trim(),o=this._register(new f(i,{...this.options,title:l}));t.kind==="reply"?o.element.classList.add("interactive-followup-reply"):t.kind==="command"&&o.element.classList.add("interactive-followup-command"),o.element.ariaLabel=k("followUpAriaLabel","Follow up question: {0}",r),o.label=new y(r),this._register(o.onDidClick(()=>this.clickHandler(t)))}};c=m([d(5,u)],c);export{c as ChatFollowups};
