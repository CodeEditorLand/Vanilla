const t=String.raw,u=t`(?<!\\)`+t`(!?\[`+t`(?:`+t`[^\[\]\\]|`+t`\\.|`+t`\[[^\[\]]*\]`+t`)*`+t`\])`+t`(\(\s*)`+t`(`+t`[^\s\(\)<](?:[^\s\(\)]|\([^\s\(\)]*?\))*|`+t`<(?:\\[<>]|[^<>])+>`+t`)`+t`\s*(?:"[^"]*"|'[^']*'|\([^\(\)]*\))?\s*`+t`\)`;function g(n,r){const o=Array.from(n.matchAll(new RegExp(u+t`|\p{sc=Han}|=+|\++|-+|[^\s\|\p{sc=Han}|=|\+|\-]+`,"gu"))),e=o.slice(0,r),l=r>o.length?n.length:e.length?e.at(-1).index+e.at(-1)[0].length:0,s=n.substring(0,l);return{value:s,returnedWordCount:e.length===0?s.length?1:0:e.length,isFullString:l>=n.length,totalWordCount:o.length}}function a(n){return g(n,Number.MAX_SAFE_INTEGER).returnedWordCount}export{a as countWords,g as getNWords};
