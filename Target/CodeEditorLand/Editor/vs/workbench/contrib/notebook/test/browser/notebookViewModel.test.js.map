{
  "version": 3,
  "sources": ["../../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/contrib/notebook/test/browser/notebookViewModel.test.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { DisposableStore } from '../../../../../base/common/lifecycle.js';\nimport { URI } from '../../../../../base/common/uri.js';\nimport { IBulkEditService } from '../../../../../editor/browser/services/bulkEditService.js';\nimport { TrackedRangeStickiness } from '../../../../../editor/common/model.js';\nimport { IModelService } from '../../../../../editor/common/services/model.js';\nimport { ILanguageService } from '../../../../../editor/common/languages/language.js';\nimport { ITextModelService } from '../../../../../editor/common/services/resolverService.js';\nimport { IConfigurationService } from '../../../../../platform/configuration/common/configuration.js';\nimport { TestConfigurationService } from '../../../../../platform/configuration/test/common/testConfigurationService.js';\nimport { TestInstantiationService } from '../../../../../platform/instantiation/test/common/instantiationServiceMock.js';\nimport { IThemeService } from '../../../../../platform/theme/common/themeService.js';\nimport { TestThemeService } from '../../../../../platform/theme/test/common/testThemeService.js';\nimport { IUndoRedoService } from '../../../../../platform/undoRedo/common/undoRedo.js';\nimport { insertCellAtIndex, runDeleteAction } from '../../browser/controller/cellOperations.js';\nimport { NotebookEventDispatcher } from '../../browser/viewModel/eventDispatcher.js';\nimport { NotebookViewModel } from '../../browser/viewModel/notebookViewModelImpl.js';\nimport { ViewContext } from '../../browser/viewModel/viewContext.js';\nimport { NotebookTextModel } from '../../common/model/notebookTextModel.js';\nimport { CellKind, diff } from '../../common/notebookCommon.js';\nimport { NotebookOptions } from '../../browser/notebookOptions.js';\nimport { ICellRange } from '../../common/notebookRange.js';\nimport { NotebookEditorTestModel, setupInstantiationService, withTestNotebook } from './testNotebookEditor.js';\nimport { INotebookExecutionStateService } from '../../common/notebookExecutionStateService.js';\nimport { IBaseCellEditorOptions } from '../../browser/notebookBrowser.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../base/test/common/utils.js';\nimport { mainWindow } from '../../../../../base/browser/window.js';\nimport { ICodeEditorService } from '../../../../../editor/browser/services/codeEditorService.js';\nimport { ILanguageDetectionService } from '../../../../services/languageDetection/common/languageDetectionWorkerService.js';\n\nsuite('NotebookViewModel', () => {\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\tlet disposables: DisposableStore;\n\tlet instantiationService: TestInstantiationService;\n\tlet textModelService: ITextModelService;\n\tlet bulkEditService: IBulkEditService;\n\tlet undoRedoService: IUndoRedoService;\n\tlet modelService: IModelService;\n\tlet languageService: ILanguageService;\n\tlet languageDetectionService: ILanguageDetectionService;\n\tlet notebookExecutionStateService: INotebookExecutionStateService;\n\n\tsuiteSetup(() => {\n\t\tdisposables = new DisposableStore();\n\t\tinstantiationService = setupInstantiationService(disposables);\n\t\ttextModelService = instantiationService.get(ITextModelService);\n\t\tbulkEditService = instantiationService.get(IBulkEditService);\n\t\tundoRedoService = instantiationService.get(IUndoRedoService);\n\t\tmodelService = instantiationService.get(IModelService);\n\t\tlanguageService = instantiationService.get(ILanguageService);\n\t\tlanguageDetectionService = instantiationService.get(ILanguageDetectionService);\n\t\tnotebookExecutionStateService = instantiationService.get(INotebookExecutionStateService);\n\n\t\tinstantiationService.stub(IConfigurationService, new TestConfigurationService());\n\t\tinstantiationService.stub(IThemeService, new TestThemeService());\n\t});\n\n\tsuiteTeardown(() => disposables.dispose());\n\n\ttest('ctor', function () {\n\t\tconst notebook = new NotebookTextModel('notebook', URI.parse('test'), [], {}, { transientCellMetadata: {}, transientDocumentMetadata: {}, transientOutputs: false, cellContentMetadata: {} }, undoRedoService, modelService, languageService, languageDetectionService);\n\t\tconst model = new NotebookEditorTestModel(notebook);\n\t\tconst options = new NotebookOptions(mainWindow, false, undefined, instantiationService.get(IConfigurationService), instantiationService.get(INotebookExecutionStateService), instantiationService.get(ICodeEditorService));\n\t\tconst eventDispatcher = new NotebookEventDispatcher();\n\t\tconst viewContext = new ViewContext(options, eventDispatcher, () => ({} as IBaseCellEditorOptions));\n\t\tconst viewModel = new NotebookViewModel('notebook', model.notebook, viewContext, null, { isReadOnly: false }, instantiationService, bulkEditService, undoRedoService, textModelService, notebookExecutionStateService);\n\t\tassert.strictEqual(viewModel.viewType, 'notebook');\n\t\tnotebook.dispose();\n\t\tmodel.dispose();\n\t\toptions.dispose();\n\t\teventDispatcher.dispose();\n\t\tviewModel.dispose();\n\t});\n\n\ttest('insert/delete', async function () {\n\t\tawait withTestNotebook(\n\t\t\t[\n\t\t\t\t['var a = 1;', 'javascript', CellKind.Code, [], {}],\n\t\t\t\t['var b = 2;', 'javascript', CellKind.Code, [], {}]\n\t\t\t],\n\t\t\t(editor, viewModel) => {\n\t\t\t\tconst cell = insertCellAtIndex(viewModel, 1, 'var c = 3', 'javascript', CellKind.Code, {}, [], true, true);\n\t\t\t\tassert.strictEqual(viewModel.length, 3);\n\t\t\t\tassert.strictEqual(viewModel.notebookDocument.cells.length, 3);\n\t\t\t\tassert.strictEqual(viewModel.getCellIndex(cell), 1);\n\n\t\t\t\trunDeleteAction(editor, viewModel.cellAt(1)!);\n\t\t\t\tassert.strictEqual(viewModel.length, 2);\n\t\t\t\tassert.strictEqual(viewModel.notebookDocument.cells.length, 2);\n\t\t\t\tassert.strictEqual(viewModel.getCellIndex(cell), -1);\n\n\t\t\t\tcell.dispose();\n\t\t\t\tcell.model.dispose();\n\t\t\t}\n\t\t);\n\t});\n\n\ttest('index', async function () {\n\t\tawait withTestNotebook(\n\t\t\t[\n\t\t\t\t['var a = 1;', 'javascript', CellKind.Code, [], {}],\n\t\t\t\t['var b = 2;', 'javascript', CellKind.Code, [], {}]\n\t\t\t],\n\t\t\t(editor, viewModel) => {\n\t\t\t\tconst firstViewCell = viewModel.cellAt(0)!;\n\t\t\t\tconst lastViewCell = viewModel.cellAt(viewModel.length - 1)!;\n\n\t\t\t\tconst insertIndex = viewModel.getCellIndex(firstViewCell) + 1;\n\t\t\t\tconst cell = insertCellAtIndex(viewModel, insertIndex, 'var c = 3;', 'javascript', CellKind.Code, {}, [], true, true);\n\n\t\t\t\tconst addedCellIndex = viewModel.getCellIndex(cell);\n\t\t\t\trunDeleteAction(editor, viewModel.cellAt(addedCellIndex)!);\n\n\t\t\t\tconst secondInsertIndex = viewModel.getCellIndex(lastViewCell) + 1;\n\t\t\t\tconst cell2 = insertCellAtIndex(viewModel, secondInsertIndex, 'var d = 4;', 'javascript', CellKind.Code, {}, [], true, true);\n\n\t\t\t\tassert.strictEqual(viewModel.length, 3);\n\t\t\t\tassert.strictEqual(viewModel.notebookDocument.cells.length, 3);\n\t\t\t\tassert.strictEqual(viewModel.getCellIndex(cell2), 2);\n\n\t\t\t\tcell.dispose();\n\t\t\t\tcell.model.dispose();\n\t\t\t\tcell2.dispose();\n\t\t\t\tcell2.model.dispose();\n\t\t\t}\n\t\t);\n\t});\n});\n\nfunction getVisibleCells<T>(cells: T[], hiddenRanges: ICellRange[]) {\n\tif (!hiddenRanges.length) {\n\t\treturn cells;\n\t}\n\n\tlet start = 0;\n\tlet hiddenRangeIndex = 0;\n\tconst result: T[] = [];\n\n\twhile (start < cells.length && hiddenRangeIndex < hiddenRanges.length) {\n\t\tif (start < hiddenRanges[hiddenRangeIndex].start) {\n\t\t\tresult.push(...cells.slice(start, hiddenRanges[hiddenRangeIndex].start));\n\t\t}\n\n\t\tstart = hiddenRanges[hiddenRangeIndex].end + 1;\n\t\thiddenRangeIndex++;\n\t}\n\n\tif (start < cells.length) {\n\t\tresult.push(...cells.slice(start));\n\t}\n\n\treturn result;\n}\n\nsuite('NotebookViewModel Decorations', () => {\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('tracking range', async function () {\n\t\tawait withTestNotebook(\n\t\t\t[\n\t\t\t\t['var a = 1;', 'javascript', CellKind.Code, [], {}],\n\t\t\t\t['var b = 2;', 'javascript', CellKind.Code, [], {}],\n\t\t\t\t['var c = 3;', 'javascript', CellKind.Code, [], {}],\n\t\t\t\t['var d = 4;', 'javascript', CellKind.Code, [], {}],\n\t\t\t\t['var e = 5;', 'javascript', CellKind.Code, [], {}],\n\t\t\t],\n\t\t\t(editor, viewModel) => {\n\t\t\t\tconst trackedId = viewModel.setTrackedRange('test', { start: 1, end: 2 }, TrackedRangeStickiness.GrowsOnlyWhenTypingAfter);\n\t\t\t\tassert.deepStrictEqual(viewModel.getTrackedRange(trackedId!), {\n\t\t\t\t\tstart: 1,\n\n\t\t\t\t\tend: 2,\n\t\t\t\t});\n\n\t\t\t\tconst cell1 = insertCellAtIndex(viewModel, 0, 'var d = 6;', 'javascript', CellKind.Code, {}, [], true, true);\n\t\t\t\tassert.deepStrictEqual(viewModel.getTrackedRange(trackedId!), {\n\t\t\t\t\tstart: 2,\n\n\t\t\t\t\tend: 3\n\t\t\t\t});\n\n\t\t\t\trunDeleteAction(editor, viewModel.cellAt(0)!);\n\t\t\t\tassert.deepStrictEqual(viewModel.getTrackedRange(trackedId!), {\n\t\t\t\t\tstart: 1,\n\n\t\t\t\t\tend: 2\n\t\t\t\t});\n\n\t\t\t\tconst cell2 = insertCellAtIndex(viewModel, 3, 'var d = 7;', 'javascript', CellKind.Code, {}, [], true, true);\n\t\t\t\tassert.deepStrictEqual(viewModel.getTrackedRange(trackedId!), {\n\t\t\t\t\tstart: 1,\n\n\t\t\t\t\tend: 3\n\t\t\t\t});\n\n\t\t\t\trunDeleteAction(editor, viewModel.cellAt(3)!);\n\t\t\t\tassert.deepStrictEqual(viewModel.getTrackedRange(trackedId!), {\n\t\t\t\t\tstart: 1,\n\n\t\t\t\t\tend: 2\n\t\t\t\t});\n\n\t\t\t\trunDeleteAction(editor, viewModel.cellAt(1)!);\n\t\t\t\tassert.deepStrictEqual(viewModel.getTrackedRange(trackedId!), {\n\t\t\t\t\tstart: 0,\n\n\t\t\t\t\tend: 1\n\t\t\t\t});\n\n\t\t\t\tcell1.dispose();\n\t\t\t\tcell1.model.dispose();\n\t\t\t\tcell2.dispose();\n\t\t\t\tcell2.model.dispose();\n\t\t\t}\n\t\t);\n\t});\n\n\ttest('tracking range 2', async function () {\n\t\tawait withTestNotebook(\n\t\t\t[\n\t\t\t\t['var a = 1;', 'javascript', CellKind.Code, [], {}],\n\t\t\t\t['var b = 2;', 'javascript', CellKind.Code, [], {}],\n\t\t\t\t['var c = 3;', 'javascript', CellKind.Code, [], {}],\n\t\t\t\t['var d = 4;', 'javascript', CellKind.Code, [], {}],\n\t\t\t\t['var e = 5;', 'javascript', CellKind.Code, [], {}],\n\t\t\t\t['var e = 6;', 'javascript', CellKind.Code, [], {}],\n\t\t\t\t['var e = 7;', 'javascript', CellKind.Code, [], {}],\n\t\t\t],\n\t\t\t(editor, viewModel) => {\n\t\t\t\tconst trackedId = viewModel.setTrackedRange('test', { start: 1, end: 3 }, TrackedRangeStickiness.GrowsOnlyWhenTypingAfter);\n\t\t\t\tassert.deepStrictEqual(viewModel.getTrackedRange(trackedId!), {\n\t\t\t\t\tstart: 1,\n\n\t\t\t\t\tend: 3\n\t\t\t\t});\n\n\t\t\t\tinsertCellAtIndex(viewModel, 5, 'var d = 9;', 'javascript', CellKind.Code, {}, [], true, true);\n\t\t\t\tassert.deepStrictEqual(viewModel.getTrackedRange(trackedId!), {\n\t\t\t\t\tstart: 1,\n\n\t\t\t\t\tend: 3\n\t\t\t\t});\n\n\t\t\t\tinsertCellAtIndex(viewModel, 4, 'var d = 10;', 'javascript', CellKind.Code, {}, [], true, true);\n\t\t\t\tassert.deepStrictEqual(viewModel.getTrackedRange(trackedId!), {\n\t\t\t\t\tstart: 1,\n\n\t\t\t\t\tend: 4\n\t\t\t\t});\n\t\t\t}\n\t\t);\n\t});\n\n\ttest('diff hidden ranges', async function () {\n\t\tassert.deepStrictEqual(getVisibleCells<number>([1, 2, 3, 4, 5], []), [1, 2, 3, 4, 5]);\n\n\t\tassert.deepStrictEqual(\n\t\t\tgetVisibleCells<number>(\n\t\t\t\t[1, 2, 3, 4, 5],\n\t\t\t\t[{ start: 1, end: 2 }]\n\t\t\t),\n\t\t\t[1, 4, 5]\n\t\t);\n\n\t\tassert.deepStrictEqual(\n\t\t\tgetVisibleCells<number>(\n\t\t\t\t[1, 2, 3, 4, 5, 6, 7, 8, 9],\n\t\t\t\t[\n\t\t\t\t\t{ start: 1, end: 2 },\n\t\t\t\t\t{ start: 4, end: 5 }\n\t\t\t\t]\n\t\t\t),\n\t\t\t[1, 4, 7, 8, 9]\n\t\t);\n\n\t\tconst original = getVisibleCells<number>(\n\t\t\t[1, 2, 3, 4, 5, 6, 7, 8, 9],\n\t\t\t[\n\t\t\t\t{ start: 1, end: 2 },\n\t\t\t\t{ start: 4, end: 5 }\n\t\t\t]\n\t\t);\n\n\t\tconst modified = getVisibleCells<number>(\n\t\t\t[1, 2, 3, 4, 5, 6, 7, 8, 9],\n\t\t\t[\n\t\t\t\t{ start: 2, end: 4 }\n\t\t\t]\n\t\t);\n\n\t\tassert.deepStrictEqual(diff<number>(original, modified, (a) => {\n\t\t\treturn original.indexOf(a) >= 0;\n\t\t}), [{ start: 1, deleteCount: 1, toInsert: [2, 6] }]);\n\t});\n});\n\nsuite('NotebookViewModel API', () => {\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('#115432, get nearest code cell', async function () {\n\t\tawait withTestNotebook(\n\t\t\t[\n\t\t\t\t['# header a', 'markdown', CellKind.Markup, [], {}],\n\t\t\t\t['var b = 1;', 'javascript', CellKind.Code, [], {}],\n\t\t\t\t['# header b', 'markdown', CellKind.Markup, [], {}],\n\t\t\t\t['b = 2;', 'python', CellKind.Code, [], {}],\n\t\t\t\t['var c = 3', 'javascript', CellKind.Code, [], {}],\n\t\t\t\t['# header d', 'markdown', CellKind.Markup, [], {}],\n\t\t\t\t['var e = 4;', 'TypeScript', CellKind.Code, [], {}],\n\t\t\t\t['# header f', 'markdown', CellKind.Markup, [], {}]\n\t\t\t],\n\t\t\t(editor, viewModel) => {\n\t\t\t\tassert.strictEqual(viewModel.nearestCodeCellIndex(0), 1);\n\t\t\t\t// find the nearest code cell from above\n\t\t\t\tassert.strictEqual(viewModel.nearestCodeCellIndex(2), 1);\n\t\t\t\tassert.strictEqual(viewModel.nearestCodeCellIndex(4), 3);\n\t\t\t\tassert.strictEqual(viewModel.nearestCodeCellIndex(5), 4);\n\t\t\t\tassert.strictEqual(viewModel.nearestCodeCellIndex(6), 4);\n\t\t\t}\n\t\t);\n\t});\n\n\ttest('#108464, get nearest code cell', async function () {\n\t\tawait withTestNotebook(\n\t\t\t[\n\t\t\t\t['# header a', 'markdown', CellKind.Markup, [], {}],\n\t\t\t\t['var b = 1;', 'javascript', CellKind.Code, [], {}],\n\t\t\t\t['# header b', 'markdown', CellKind.Markup, [], {}]\n\t\t\t],\n\t\t\t(editor, viewModel) => {\n\t\t\t\tassert.strictEqual(viewModel.nearestCodeCellIndex(2), 1);\n\t\t\t}\n\t\t);\n\t});\n\n\ttest('getCells', async () => {\n\t\tawait withTestNotebook(\n\t\t\t[\n\t\t\t\t['# header a', 'markdown', CellKind.Markup, [], {}],\n\t\t\t\t['var b = 1;', 'javascript', CellKind.Code, [], {}],\n\t\t\t\t['# header b', 'markdown', CellKind.Markup, [], {}]\n\t\t\t],\n\t\t\t(editor, viewModel) => {\n\t\t\t\tassert.strictEqual(viewModel.getCellsInRange().length, 3);\n\t\t\t\tassert.deepStrictEqual(viewModel.getCellsInRange({ start: 0, end: 1 }).map(cell => cell.getText()), ['# header a']);\n\t\t\t\tassert.deepStrictEqual(viewModel.getCellsInRange({ start: 0, end: 2 }).map(cell => cell.getText()), ['# header a', 'var b = 1;']);\n\t\t\t\tassert.deepStrictEqual(viewModel.getCellsInRange({ start: 0, end: 3 }).map(cell => cell.getText()), ['# header a', 'var b = 1;', '# header b']);\n\t\t\t\tassert.deepStrictEqual(viewModel.getCellsInRange({ start: 0, end: 4 }).map(cell => cell.getText()), ['# header a', 'var b = 1;', '# header b']);\n\t\t\t\tassert.deepStrictEqual(viewModel.getCellsInRange({ start: 1, end: 4 }).map(cell => cell.getText()), ['var b = 1;', '# header b']);\n\t\t\t\tassert.deepStrictEqual(viewModel.getCellsInRange({ start: 2, end: 4 }).map(cell => cell.getText()), ['# header b']);\n\t\t\t\tassert.deepStrictEqual(viewModel.getCellsInRange({ start: 3, end: 4 }).map(cell => cell.getText()), []);\n\n\t\t\t\t// no one should use an invalid range but `getCells` should be able to handle that.\n\t\t\t\tassert.deepStrictEqual(viewModel.getCellsInRange({ start: -1, end: 1 }).map(cell => cell.getText()), ['# header a']);\n\t\t\t\tassert.deepStrictEqual(viewModel.getCellsInRange({ start: 3, end: 0 }).map(cell => cell.getText()), ['# header a', 'var b = 1;', '# header b']);\n\t\t\t}\n\t\t);\n\t});\n});\n"],
  "mappings": "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",
  "names": []
}
