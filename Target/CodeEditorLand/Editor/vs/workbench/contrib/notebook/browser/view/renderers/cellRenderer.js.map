{
  "version": 3,
  "sources": ["../../../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/contrib/notebook/browser/view/renderers/cellRenderer.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as DOM from \"../../../../../../base/browser/dom.js\";\nimport { FastDomNode } from \"../../../../../../base/browser/fastDomNode.js\";\nimport { PixelRatio } from \"../../../../../../base/browser/pixelRatio.js\";\nimport type {\n\tIListRenderer,\n\tIListVirtualDelegate,\n} from \"../../../../../../base/browser/ui/list/list.js\";\nimport {\n\tDisposable,\n\tDisposableStore,\n} from \"../../../../../../base/common/lifecycle.js\";\nimport type { ICodeEditor } from \"../../../../../../editor/browser/editorBrowser.js\";\nimport { CodeEditorWidget } from \"../../../../../../editor/browser/widget/codeEditor/codeEditorWidget.js\";\nimport type { IEditorOptions } from \"../../../../../../editor/common/config/editorOptions.js\";\nimport { BareFontInfo } from \"../../../../../../editor/common/config/fontInfo.js\";\nimport { EditorContextKeys } from \"../../../../../../editor/common/editorContextKeys.js\";\nimport { PLAINTEXT_LANGUAGE_ID } from \"../../../../../../editor/common/languages/modesRegistry.js\";\nimport { localize } from \"../../../../../../nls.js\";\nimport { IMenuService } from \"../../../../../../platform/actions/common/actions.js\";\nimport { IConfigurationService } from \"../../../../../../platform/configuration/common/configuration.js\";\nimport {\n\tIContextKeyService,\n\ttype IScopedContextKeyService,\n} from \"../../../../../../platform/contextkey/common/contextkey.js\";\nimport { IContextMenuService } from \"../../../../../../platform/contextview/browser/contextView.js\";\nimport { IInstantiationService } from \"../../../../../../platform/instantiation/common/instantiation.js\";\nimport { ServiceCollection } from \"../../../../../../platform/instantiation/common/serviceCollection.js\";\nimport { IKeybindingService } from \"../../../../../../platform/keybinding/common/keybinding.js\";\nimport { INotificationService } from \"../../../../../../platform/notification/common/notification.js\";\nimport { CellKind } from \"../../../common/notebookCommon.js\";\nimport { INotebookExecutionStateService } from \"../../../common/notebookExecutionStateService.js\";\nimport type {\n\tICellViewModel,\n\tINotebookEditorDelegate,\n} from \"../../notebookBrowser.js\";\nimport type { CodeCellViewModel } from \"../../viewModel/codeCellViewModel.js\";\nimport type { MarkupCellViewModel } from \"../../viewModel/markupCellViewModel.js\";\nimport type { CellViewModel } from \"../../viewModel/notebookViewModelImpl.js\";\nimport { CellPartsCollection } from \"../cellPart.js\";\nimport { CellComments } from \"../cellParts/cellComments.js\";\nimport { CellContextKeyPart } from \"../cellParts/cellContextKeys.js\";\nimport { CellDecorations } from \"../cellParts/cellDecorations.js\";\nimport {\n\ttype CellDragAndDropController,\n\tCellDragAndDropPart,\n} from \"../cellParts/cellDnd.js\";\nimport { CodeCellDragImageRenderer } from \"../cellParts/cellDragRenderer.js\";\nimport { CellEditorOptions } from \"../cellParts/cellEditorOptions.js\";\nimport { CellExecutionPart } from \"../cellParts/cellExecution.js\";\nimport { CellFocusPart } from \"../cellParts/cellFocus.js\";\nimport { CellFocusIndicator } from \"../cellParts/cellFocusIndicator.js\";\nimport { CellProgressBar } from \"../cellParts/cellProgressBar.js\";\nimport { CellEditorStatusBar } from \"../cellParts/cellStatusPart.js\";\nimport {\n\tBetweenCellToolbar,\n\tCellTitleToolbarPart,\n} from \"../cellParts/cellToolbars.js\";\nimport { CellChatPart } from \"../cellParts/chat/cellChatPart.js\";\nimport { CodeCell } from \"../cellParts/codeCell.js\";\nimport { RunToolbar } from \"../cellParts/codeCellRunToolbar.js\";\nimport { CollapsedCellInput } from \"../cellParts/collapsedCellInput.js\";\nimport { CollapsedCellOutput } from \"../cellParts/collapsedCellOutput.js\";\nimport { FoldedCellHint } from \"../cellParts/foldedCellHint.js\";\nimport { MarkupCell } from \"../cellParts/markupCell.js\";\nimport type { NotebookCellEditorPool } from \"../notebookCellEditorPool.js\";\nimport type {\n\tCodeCellRenderTemplate,\n\tMarkdownCellRenderTemplate,\n} from \"../notebookRenderingCommon.js\";\n\nconst $ = DOM.$;\n\nexport class NotebookCellListDelegate\n\textends Disposable\n\timplements IListVirtualDelegate<CellViewModel>\n{\n\tprivate readonly lineHeight: number;\n\n\tconstructor(\n\t\ttargetWindow: Window,\n\t\t@IConfigurationService private readonly configurationService: IConfigurationService\n\t) {\n\t\tsuper();\n\n\t\tconst editorOptions = this.configurationService.getValue<IEditorOptions>('editor');\n\t\tthis.lineHeight = BareFontInfo.createFromRawSettings(editorOptions, PixelRatio.getInstance(targetWindow).value).lineHeight;\n\t}\n\n\tgetHeight(element: CellViewModel): number {\n\t\treturn element.getHeight(this.lineHeight);\n\t}\n\n\tgetDynamicHeight(element: CellViewModel): number | null {\n\t\treturn element.getDynamicHeight();\n\t}\n\n\tgetTemplateId(element: CellViewModel): string {\n\t\tif (element.cellKind === CellKind.Markup) {\n\t\t\treturn MarkupCellRenderer.TEMPLATE_ID;\n\t\t} else {\n\t\t\treturn CodeCellRenderer.TEMPLATE_ID;\n\t\t}\n\t}\n}\n\nabstract class AbstractCellRenderer {\n\tprotected readonly editorOptions: CellEditorOptions;\n\n\tconstructor(\n\t\tprotected readonly instantiationService: IInstantiationService,\n\t\tprotected readonly notebookEditor: INotebookEditorDelegate,\n\t\tprotected readonly contextMenuService: IContextMenuService,\n\t\tprotected readonly menuService: IMenuService,\n\t\tconfigurationService: IConfigurationService,\n\t\tprotected readonly keybindingService: IKeybindingService,\n\t\tprotected readonly notificationService: INotificationService,\n\t\tprotected readonly contextKeyServiceProvider: (\n\t\t\tcontainer: HTMLElement,\n\t\t) => IScopedContextKeyService,\n\t\tlanguage: string,\n\t\tprotected dndController: CellDragAndDropController | undefined,\n\t) {\n\t\tthis.editorOptions = new CellEditorOptions(\n\t\t\tthis.notebookEditor.getBaseCellEditorOptions(language),\n\t\t\tthis.notebookEditor.notebookOptions,\n\t\t\tconfigurationService,\n\t\t);\n\t}\n\n\tdispose() {\n\t\tthis.editorOptions.dispose();\n\t\tthis.dndController = undefined;\n\t}\n}\n\nexport class MarkupCellRenderer\n\textends AbstractCellRenderer\n\timplements IListRenderer<MarkupCellViewModel, MarkdownCellRenderTemplate>\n{\n\tstatic readonly TEMPLATE_ID = \"markdown_cell\";\n\n\tprivate _notebookExecutionStateService: INotebookExecutionStateService;\n\n\tconstructor(\n\t\tnotebookEditor: INotebookEditorDelegate,\n\t\tdndController: CellDragAndDropController,\n\t\tprivate renderedEditors: Map<ICellViewModel, ICodeEditor>,\n\t\tcontextKeyServiceProvider: (\n\t\t\tcontainer: HTMLElement,\n\t\t) => IScopedContextKeyService,\n\t\t@IConfigurationService configurationService: IConfigurationService,\n\t\t@IInstantiationService instantiationService: IInstantiationService,\n\t\t@IContextMenuService contextMenuService: IContextMenuService,\n\t\t@IMenuService menuService: IMenuService,\n\t\t@IKeybindingService keybindingService: IKeybindingService,\n\t\t@INotificationService notificationService: INotificationService,\n\t\t@INotebookExecutionStateService notebookExecutionStateService: INotebookExecutionStateService,\n\t) {\n\t\tsuper(\n\t\t\tinstantiationService,\n\t\t\tnotebookEditor,\n\t\t\tcontextMenuService,\n\t\t\tmenuService,\n\t\t\tconfigurationService,\n\t\t\tkeybindingService,\n\t\t\tnotificationService,\n\t\t\tcontextKeyServiceProvider,\n\t\t\t\"markdown\",\n\t\t\tdndController,\n\t\t);\n\t\tthis._notebookExecutionStateService = notebookExecutionStateService;\n\t}\n\n\tget templateId() {\n\t\treturn MarkupCellRenderer.TEMPLATE_ID;\n\t}\n\n\trenderTemplate(rootContainer: HTMLElement): MarkdownCellRenderTemplate {\n\t\trootContainer.classList.add(\"markdown-cell-row\");\n\t\tconst container = DOM.append(\n\t\t\trootContainer,\n\t\t\tDOM.$(\".cell-inner-container\"),\n\t\t);\n\t\tconst templateDisposables = new DisposableStore();\n\t\tconst contextKeyService = templateDisposables.add(\n\t\t\tthis.contextKeyServiceProvider(container),\n\t\t);\n\t\tconst decorationContainer = DOM.append(\n\t\t\trootContainer,\n\t\t\t$(\".cell-decoration\"),\n\t\t);\n\t\tconst titleToolbarContainer = DOM.append(\n\t\t\tcontainer,\n\t\t\t$(\".cell-title-toolbar\"),\n\t\t);\n\n\t\tconst focusIndicatorTop = new FastDomNode(\n\t\t\tDOM.append(\n\t\t\t\tcontainer,\n\t\t\t\t$(\".cell-focus-indicator.cell-focus-indicator-top\"),\n\t\t\t),\n\t\t);\n\t\tconst focusIndicatorLeft = new FastDomNode(\n\t\t\tDOM.append(\n\t\t\t\tcontainer,\n\t\t\t\tDOM.$(\n\t\t\t\t\t\".cell-focus-indicator.cell-focus-indicator-side.cell-focus-indicator-left\",\n\t\t\t\t),\n\t\t\t),\n\t\t);\n\t\tconst foldingIndicator = DOM.append(\n\t\t\tfocusIndicatorLeft.domNode,\n\t\t\tDOM.$(\".notebook-folding-indicator\"),\n\t\t);\n\t\tconst focusIndicatorRight = new FastDomNode(\n\t\t\tDOM.append(\n\t\t\t\tcontainer,\n\t\t\t\tDOM.$(\n\t\t\t\t\t\".cell-focus-indicator.cell-focus-indicator-side.cell-focus-indicator-right\",\n\t\t\t\t),\n\t\t\t),\n\t\t);\n\n\t\tconst codeInnerContent = DOM.append(container, $(\".cell.code\"));\n\t\tconst editorPart = DOM.append(codeInnerContent, $(\".cell-editor-part\"));\n\t\tconst cellChatPart = DOM.append(editorPart, $(\".cell-chat-part\"));\n\t\tconst cellInputCollapsedContainer = DOM.append(\n\t\t\tcodeInnerContent,\n\t\t\t$(\".input-collapse-container\"),\n\t\t);\n\t\tcellInputCollapsedContainer.style.display = \"none\";\n\t\tconst editorContainer = DOM.append(\n\t\t\teditorPart,\n\t\t\t$(\".cell-editor-container\"),\n\t\t);\n\t\teditorPart.style.display = \"none\";\n\t\tconst cellCommentPartContainer = DOM.append(\n\t\t\tcontainer,\n\t\t\t$(\".cell-comment-container\"),\n\t\t);\n\t\tconst innerContent = DOM.append(container, $(\".cell.markdown\"));\n\t\tconst bottomCellContainer = DOM.append(\n\t\t\tcontainer,\n\t\t\t$(\".cell-bottom-toolbar-container\"),\n\t\t);\n\n\t\tconst scopedInstaService = templateDisposables.add(\n\t\t\tthis.instantiationService.createChild(\n\t\t\t\tnew ServiceCollection([IContextKeyService, contextKeyService]),\n\t\t\t),\n\t\t);\n\t\tconst rootClassDelegate = {\n\t\t\ttoggle: (className: string, force?: boolean) =>\n\t\t\t\tcontainer.classList.toggle(className, force),\n\t\t};\n\t\tconst titleToolbar = templateDisposables.add(\n\t\t\tscopedInstaService.createInstance(\n\t\t\t\tCellTitleToolbarPart,\n\t\t\t\ttitleToolbarContainer,\n\t\t\t\trootClassDelegate,\n\t\t\t\tthis.notebookEditor.creationOptions.menuIds.cellTitleToolbar,\n\t\t\t\tthis.notebookEditor.creationOptions.menuIds.cellDeleteToolbar,\n\t\t\t\tthis.notebookEditor,\n\t\t\t),\n\t\t);\n\t\tconst focusIndicatorBottom = new FastDomNode(\n\t\t\tDOM.append(\n\t\t\t\tcontainer,\n\t\t\t\t$(\".cell-focus-indicator.cell-focus-indicator-bottom\"),\n\t\t\t),\n\t\t);\n\n\t\tconst cellParts = new CellPartsCollection(\n\t\t\tDOM.getWindow(rootContainer),\n\t\t\t[\n\t\t\t\ttemplateDisposables.add(\n\t\t\t\t\tscopedInstaService.createInstance(\n\t\t\t\t\t\tCellChatPart,\n\t\t\t\t\t\tthis.notebookEditor,\n\t\t\t\t\t\tcellChatPart,\n\t\t\t\t\t),\n\t\t\t\t),\n\t\t\t\ttemplateDisposables.add(\n\t\t\t\t\tscopedInstaService.createInstance(\n\t\t\t\t\t\tCellEditorStatusBar,\n\t\t\t\t\t\tthis.notebookEditor,\n\t\t\t\t\t\tcontainer,\n\t\t\t\t\t\teditorPart,\n\t\t\t\t\t\tundefined,\n\t\t\t\t\t),\n\t\t\t\t),\n\t\t\t\ttemplateDisposables.add(\n\t\t\t\t\tnew CellFocusIndicator(\n\t\t\t\t\t\tthis.notebookEditor,\n\t\t\t\t\t\ttitleToolbar,\n\t\t\t\t\t\tfocusIndicatorTop,\n\t\t\t\t\t\tfocusIndicatorLeft,\n\t\t\t\t\t\tfocusIndicatorRight,\n\t\t\t\t\t\tfocusIndicatorBottom,\n\t\t\t\t\t),\n\t\t\t\t),\n\t\t\t\ttemplateDisposables.add(\n\t\t\t\t\tnew FoldedCellHint(\n\t\t\t\t\t\tthis.notebookEditor,\n\t\t\t\t\t\tDOM.append(container, $(\".notebook-folded-hint\")),\n\t\t\t\t\t\tthis._notebookExecutionStateService,\n\t\t\t\t\t),\n\t\t\t\t),\n\t\t\t\ttemplateDisposables.add(\n\t\t\t\t\tnew CellDecorations(rootContainer, decorationContainer),\n\t\t\t\t),\n\t\t\t\ttemplateDisposables.add(\n\t\t\t\t\tscopedInstaService.createInstance(\n\t\t\t\t\t\tCellComments,\n\t\t\t\t\t\tthis.notebookEditor,\n\t\t\t\t\t\tcellCommentPartContainer,\n\t\t\t\t\t),\n\t\t\t\t),\n\t\t\t\ttemplateDisposables.add(\n\t\t\t\t\tnew CollapsedCellInput(\n\t\t\t\t\t\tthis.notebookEditor,\n\t\t\t\t\t\tcellInputCollapsedContainer,\n\t\t\t\t\t),\n\t\t\t\t),\n\t\t\t\ttemplateDisposables.add(\n\t\t\t\t\tnew CellFocusPart(\n\t\t\t\t\t\tcontainer,\n\t\t\t\t\t\tundefined,\n\t\t\t\t\t\tthis.notebookEditor,\n\t\t\t\t\t),\n\t\t\t\t),\n\t\t\t\ttemplateDisposables.add(new CellDragAndDropPart(container)),\n\t\t\t\ttemplateDisposables.add(\n\t\t\t\t\tscopedInstaService.createInstance(\n\t\t\t\t\t\tCellContextKeyPart,\n\t\t\t\t\t\tthis.notebookEditor,\n\t\t\t\t\t),\n\t\t\t\t),\n\t\t\t],\n\t\t\t[\n\t\t\t\ttitleToolbar,\n\t\t\t\ttemplateDisposables.add(\n\t\t\t\t\tscopedInstaService.createInstance(\n\t\t\t\t\t\tBetweenCellToolbar,\n\t\t\t\t\t\tthis.notebookEditor,\n\t\t\t\t\t\ttitleToolbarContainer,\n\t\t\t\t\t\tbottomCellContainer,\n\t\t\t\t\t),\n\t\t\t\t),\n\t\t\t],\n\t\t);\n\n\t\ttemplateDisposables.add(cellParts);\n\n\t\tconst templateData: MarkdownCellRenderTemplate = {\n\t\t\trootContainer,\n\t\t\tcellInputCollapsedContainer,\n\t\t\tinstantiationService: scopedInstaService,\n\t\t\tcontainer,\n\t\t\tcellContainer: innerContent,\n\t\t\teditorPart,\n\t\t\teditorContainer,\n\t\t\tfoldingIndicator,\n\t\t\ttemplateDisposables,\n\t\t\telementDisposables: new DisposableStore(),\n\t\t\tcellParts,\n\t\t\ttoJSON: () => {\n\t\t\t\treturn {};\n\t\t\t},\n\t\t};\n\n\t\treturn templateData;\n\t}\n\n\trenderElement(\n\t\telement: MarkupCellViewModel,\n\t\tindex: number,\n\t\ttemplateData: MarkdownCellRenderTemplate,\n\t\theight: number | undefined,\n\t): void {\n\t\tif (!this.notebookEditor.hasModel()) {\n\t\t\tthrow new Error(\n\t\t\t\t\"The notebook editor is not attached with view model yet.\",\n\t\t\t);\n\t\t}\n\n\t\ttemplateData.currentRenderedCell = element;\n\t\ttemplateData.currentEditor = undefined;\n\t\ttemplateData.editorPart.style.display = \"none\";\n\t\ttemplateData.cellContainer.innerText = \"\";\n\n\t\tif (height === undefined) {\n\t\t\treturn;\n\t\t}\n\n\t\ttemplateData.elementDisposables.add(\n\t\t\ttemplateData.instantiationService.createInstance(\n\t\t\t\tMarkupCell,\n\t\t\t\tthis.notebookEditor,\n\t\t\t\telement,\n\t\t\t\ttemplateData,\n\t\t\t\tthis.renderedEditors,\n\t\t\t),\n\t\t);\n\t}\n\n\tdisposeTemplate(templateData: MarkdownCellRenderTemplate): void {\n\t\ttemplateData.elementDisposables.dispose();\n\t\ttemplateData.templateDisposables.dispose();\n\t}\n\n\tdisposeElement(\n\t\t_element: ICellViewModel,\n\t\t_index: number,\n\t\ttemplateData: MarkdownCellRenderTemplate,\n\t): void {\n\t\ttemplateData.elementDisposables.clear();\n\t}\n}\n\nexport class CodeCellRenderer\n\textends AbstractCellRenderer\n\timplements IListRenderer<CodeCellViewModel, CodeCellRenderTemplate>\n{\n\tstatic readonly TEMPLATE_ID = \"code_cell\";\n\n\tconstructor(\n\t\tnotebookEditor: INotebookEditorDelegate,\n\t\tprivate renderedEditors: Map<ICellViewModel, ICodeEditor>,\n\t\tprivate editorPool: NotebookCellEditorPool,\n\t\tdndController: CellDragAndDropController,\n\t\tcontextKeyServiceProvider: (\n\t\t\tcontainer: HTMLElement,\n\t\t) => IScopedContextKeyService,\n\t\t@IConfigurationService configurationService: IConfigurationService,\n\t\t@IContextMenuService contextMenuService: IContextMenuService,\n\t\t@IMenuService menuService: IMenuService,\n\t\t@IInstantiationService instantiationService: IInstantiationService,\n\t\t@IKeybindingService keybindingService: IKeybindingService,\n\t\t@INotificationService notificationService: INotificationService,\n\t) {\n\t\tsuper(\n\t\t\tinstantiationService,\n\t\t\tnotebookEditor,\n\t\t\tcontextMenuService,\n\t\t\tmenuService,\n\t\t\tconfigurationService,\n\t\t\tkeybindingService,\n\t\t\tnotificationService,\n\t\t\tcontextKeyServiceProvider,\n\t\t\tPLAINTEXT_LANGUAGE_ID,\n\t\t\tdndController,\n\t\t);\n\t}\n\n\tget templateId() {\n\t\treturn CodeCellRenderer.TEMPLATE_ID;\n\t}\n\n\trenderTemplate(rootContainer: HTMLElement): CodeCellRenderTemplate {\n\t\trootContainer.classList.add(\"code-cell-row\");\n\t\tconst container = DOM.append(\n\t\t\trootContainer,\n\t\t\tDOM.$(\".cell-inner-container\"),\n\t\t);\n\t\tconst templateDisposables = new DisposableStore();\n\t\tconst contextKeyService = templateDisposables.add(\n\t\t\tthis.contextKeyServiceProvider(container),\n\t\t);\n\t\tconst decorationContainer = DOM.append(\n\t\t\trootContainer,\n\t\t\t$(\".cell-decoration\"),\n\t\t);\n\t\tconst focusIndicatorTop = new FastDomNode(\n\t\t\tDOM.append(\n\t\t\t\tcontainer,\n\t\t\t\t$(\".cell-focus-indicator.cell-focus-indicator-top\"),\n\t\t\t),\n\t\t);\n\t\tconst titleToolbarContainer = DOM.append(\n\t\t\tcontainer,\n\t\t\t$(\".cell-title-toolbar\"),\n\t\t);\n\n\t\t// This is also the drag handle\n\t\tconst focusIndicatorLeft = new FastDomNode(\n\t\t\tDOM.append(\n\t\t\t\tcontainer,\n\t\t\t\tDOM.$(\n\t\t\t\t\t\".cell-focus-indicator.cell-focus-indicator-side.cell-focus-indicator-left\",\n\t\t\t\t),\n\t\t\t),\n\t\t);\n\t\tconst cellChatPart = DOM.append(container, $(\".cell-chat-part\"));\n\t\tconst cellContainer = DOM.append(container, $(\".cell.code\"));\n\t\tconst runButtonContainer = DOM.append(\n\t\t\tcellContainer,\n\t\t\t$(\".run-button-container\"),\n\t\t);\n\t\tconst cellInputCollapsedContainer = DOM.append(\n\t\t\tcellContainer,\n\t\t\t$(\".input-collapse-container\"),\n\t\t);\n\t\tcellInputCollapsedContainer.style.display = \"none\";\n\t\tconst executionOrderLabel = DOM.append(\n\t\t\tfocusIndicatorLeft.domNode,\n\t\t\t$(\"div.execution-count-label\"),\n\t\t);\n\t\texecutionOrderLabel.title = localize(\n\t\t\t\"cellExecutionOrderCountLabel\",\n\t\t\t\"Execution Order\",\n\t\t);\n\t\tconst editorPart = DOM.append(cellContainer, $(\".cell-editor-part\"));\n\t\tconst editorContainer = DOM.append(\n\t\t\teditorPart,\n\t\t\t$(\".cell-editor-container\"),\n\t\t);\n\t\tconst cellCommentPartContainer = DOM.append(\n\t\t\tcontainer,\n\t\t\t$(\".cell-comment-container\"),\n\t\t);\n\n\t\t// create a special context key service that set the inCompositeEditor-contextkey\n\t\tconst editorContextKeyService = templateDisposables.add(\n\t\t\tthis.contextKeyServiceProvider(editorPart),\n\t\t);\n\t\tconst editorInstaService = templateDisposables.add(\n\t\t\tthis.instantiationService.createChild(\n\t\t\t\tnew ServiceCollection([\n\t\t\t\t\tIContextKeyService,\n\t\t\t\t\teditorContextKeyService,\n\t\t\t\t]),\n\t\t\t),\n\t\t);\n\t\tEditorContextKeys.inCompositeEditor\n\t\t\t.bindTo(editorContextKeyService)\n\t\t\t.set(true);\n\n\t\tconst editor = editorInstaService.createInstance(\n\t\t\tCodeEditorWidget,\n\t\t\teditorContainer,\n\t\t\t{\n\t\t\t\t...this.editorOptions.getDefaultValue(),\n\t\t\t\tdimension: {\n\t\t\t\t\twidth: 0,\n\t\t\t\t\theight: 0,\n\t\t\t\t},\n\t\t\t\tscrollbar: {\n\t\t\t\t\tvertical: \"hidden\",\n\t\t\t\t\thorizontal: \"auto\",\n\t\t\t\t\thandleMouseWheel: false,\n\t\t\t\t\tuseShadows: false,\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tcontributions:\n\t\t\t\t\tthis.notebookEditor.creationOptions.cellEditorContributions,\n\t\t\t},\n\t\t);\n\n\t\ttemplateDisposables.add(editor);\n\n\t\tconst outputContainer = new FastDomNode(\n\t\t\tDOM.append(container, $(\".output\")),\n\t\t);\n\t\tconst cellOutputCollapsedContainer = DOM.append(\n\t\t\toutputContainer.domNode,\n\t\t\t$(\".output-collapse-container\"),\n\t\t);\n\t\tconst outputShowMoreContainer = new FastDomNode(\n\t\t\tDOM.append(container, $(\".output-show-more-container\")),\n\t\t);\n\t\tconst focusIndicatorRight = new FastDomNode(\n\t\t\tDOM.append(\n\t\t\t\tcontainer,\n\t\t\t\tDOM.$(\n\t\t\t\t\t\".cell-focus-indicator.cell-focus-indicator-side.cell-focus-indicator-right\",\n\t\t\t\t),\n\t\t\t),\n\t\t);\n\t\tconst focusSinkElement = DOM.append(\n\t\t\tcontainer,\n\t\t\t$(\".cell-editor-focus-sink\"),\n\t\t);\n\t\tfocusSinkElement.setAttribute(\"tabindex\", \"0\");\n\t\tconst bottomCellToolbarContainer = DOM.append(\n\t\t\tcontainer,\n\t\t\t$(\".cell-bottom-toolbar-container\"),\n\t\t);\n\t\tconst focusIndicatorBottom = new FastDomNode(\n\t\t\tDOM.append(\n\t\t\t\tcontainer,\n\t\t\t\t$(\".cell-focus-indicator.cell-focus-indicator-bottom\"),\n\t\t\t),\n\t\t);\n\n\t\tconst scopedInstaService = templateDisposables.add(\n\t\t\tthis.instantiationService.createChild(\n\t\t\t\tnew ServiceCollection([IContextKeyService, contextKeyService]),\n\t\t\t),\n\t\t);\n\t\tconst rootClassDelegate = {\n\t\t\ttoggle: (className: string, force?: boolean) =>\n\t\t\t\tcontainer.classList.toggle(className, force),\n\t\t};\n\t\tconst titleToolbar = templateDisposables.add(\n\t\t\tscopedInstaService.createInstance(\n\t\t\t\tCellTitleToolbarPart,\n\t\t\t\ttitleToolbarContainer,\n\t\t\t\trootClassDelegate,\n\t\t\t\tthis.notebookEditor.creationOptions.menuIds.cellTitleToolbar,\n\t\t\t\tthis.notebookEditor.creationOptions.menuIds.cellDeleteToolbar,\n\t\t\t\tthis.notebookEditor,\n\t\t\t),\n\t\t);\n\n\t\tconst focusIndicatorPart = templateDisposables.add(\n\t\t\tnew CellFocusIndicator(\n\t\t\t\tthis.notebookEditor,\n\t\t\t\ttitleToolbar,\n\t\t\t\tfocusIndicatorTop,\n\t\t\t\tfocusIndicatorLeft,\n\t\t\t\tfocusIndicatorRight,\n\t\t\t\tfocusIndicatorBottom,\n\t\t\t),\n\t\t);\n\t\tconst cellParts = new CellPartsCollection(\n\t\t\tDOM.getWindow(rootContainer),\n\t\t\t[\n\t\t\t\tfocusIndicatorPart,\n\t\t\t\ttemplateDisposables.add(\n\t\t\t\t\tscopedInstaService.createInstance(\n\t\t\t\t\t\tCellChatPart,\n\t\t\t\t\t\tthis.notebookEditor,\n\t\t\t\t\t\tcellChatPart,\n\t\t\t\t\t),\n\t\t\t\t),\n\t\t\t\ttemplateDisposables.add(\n\t\t\t\t\tscopedInstaService.createInstance(\n\t\t\t\t\t\tCellEditorStatusBar,\n\t\t\t\t\t\tthis.notebookEditor,\n\t\t\t\t\t\tcontainer,\n\t\t\t\t\t\teditorPart,\n\t\t\t\t\t\teditor,\n\t\t\t\t\t),\n\t\t\t\t),\n\t\t\t\ttemplateDisposables.add(\n\t\t\t\t\tscopedInstaService.createInstance(\n\t\t\t\t\t\tCellProgressBar,\n\t\t\t\t\t\teditorPart,\n\t\t\t\t\t\tcellInputCollapsedContainer,\n\t\t\t\t\t),\n\t\t\t\t),\n\t\t\t\ttemplateDisposables.add(\n\t\t\t\t\tscopedInstaService.createInstance(\n\t\t\t\t\t\tRunToolbar,\n\t\t\t\t\t\tthis.notebookEditor,\n\t\t\t\t\t\tcontextKeyService,\n\t\t\t\t\t\tcontainer,\n\t\t\t\t\t\trunButtonContainer,\n\t\t\t\t\t),\n\t\t\t\t),\n\t\t\t\ttemplateDisposables.add(\n\t\t\t\t\tnew CellDecorations(rootContainer, decorationContainer),\n\t\t\t\t),\n\t\t\t\ttemplateDisposables.add(\n\t\t\t\t\tscopedInstaService.createInstance(\n\t\t\t\t\t\tCellComments,\n\t\t\t\t\t\tthis.notebookEditor,\n\t\t\t\t\t\tcellCommentPartContainer,\n\t\t\t\t\t),\n\t\t\t\t),\n\t\t\t\ttemplateDisposables.add(\n\t\t\t\t\tscopedInstaService.createInstance(\n\t\t\t\t\t\tCellExecutionPart,\n\t\t\t\t\t\tthis.notebookEditor,\n\t\t\t\t\t\texecutionOrderLabel,\n\t\t\t\t\t),\n\t\t\t\t),\n\t\t\t\ttemplateDisposables.add(\n\t\t\t\t\tscopedInstaService.createInstance(\n\t\t\t\t\t\tCollapsedCellOutput,\n\t\t\t\t\t\tthis.notebookEditor,\n\t\t\t\t\t\tcellOutputCollapsedContainer,\n\t\t\t\t\t),\n\t\t\t\t),\n\t\t\t\ttemplateDisposables.add(\n\t\t\t\t\tnew CollapsedCellInput(\n\t\t\t\t\t\tthis.notebookEditor,\n\t\t\t\t\t\tcellInputCollapsedContainer,\n\t\t\t\t\t),\n\t\t\t\t),\n\t\t\t\ttemplateDisposables.add(\n\t\t\t\t\tnew CellFocusPart(\n\t\t\t\t\t\tcontainer,\n\t\t\t\t\t\tfocusSinkElement,\n\t\t\t\t\t\tthis.notebookEditor,\n\t\t\t\t\t),\n\t\t\t\t),\n\t\t\t\ttemplateDisposables.add(new CellDragAndDropPart(container)),\n\t\t\t\ttemplateDisposables.add(\n\t\t\t\t\tscopedInstaService.createInstance(\n\t\t\t\t\t\tCellContextKeyPart,\n\t\t\t\t\t\tthis.notebookEditor,\n\t\t\t\t\t),\n\t\t\t\t),\n\t\t\t],\n\t\t\t[\n\t\t\t\ttitleToolbar,\n\t\t\t\ttemplateDisposables.add(\n\t\t\t\t\tscopedInstaService.createInstance(\n\t\t\t\t\t\tBetweenCellToolbar,\n\t\t\t\t\t\tthis.notebookEditor,\n\t\t\t\t\t\ttitleToolbarContainer,\n\t\t\t\t\t\tbottomCellToolbarContainer,\n\t\t\t\t\t),\n\t\t\t\t),\n\t\t\t],\n\t\t);\n\n\t\ttemplateDisposables.add(cellParts);\n\n\t\tconst templateData: CodeCellRenderTemplate = {\n\t\t\trootContainer,\n\t\t\teditorPart,\n\t\t\tcellInputCollapsedContainer,\n\t\t\tcellOutputCollapsedContainer,\n\t\t\tinstantiationService: scopedInstaService,\n\t\t\tcontainer,\n\t\t\tcellContainer,\n\t\t\tfocusSinkElement,\n\t\t\toutputContainer,\n\t\t\toutputShowMoreContainer,\n\t\t\teditor,\n\t\t\ttemplateDisposables,\n\t\t\telementDisposables: new DisposableStore(),\n\t\t\tcellParts,\n\t\t\ttoJSON: () => {\n\t\t\t\treturn {};\n\t\t\t},\n\t\t};\n\n\t\t// focusIndicatorLeft covers the left margin area\n\t\t// code/outputFocusIndicator need to be registered as drag handlers so their click handlers don't take over\n\t\tconst dragHandles = [\n\t\t\tfocusIndicatorLeft.domNode,\n\t\t\tfocusIndicatorPart.codeFocusIndicator.domNode,\n\t\t\tfocusIndicatorPart.outputFocusIndicator.domNode,\n\t\t];\n\t\tthis.dndController?.registerDragHandle(\n\t\t\ttemplateData,\n\t\t\trootContainer,\n\t\t\tdragHandles,\n\t\t\t() =>\n\t\t\t\tnew CodeCellDragImageRenderer().getDragImage(\n\t\t\t\t\ttemplateData,\n\t\t\t\t\ttemplateData.editor,\n\t\t\t\t\t\"code\",\n\t\t\t\t),\n\t\t);\n\t\treturn templateData;\n\t}\n\n\trenderElement(\n\t\telement: CodeCellViewModel,\n\t\tindex: number,\n\t\ttemplateData: CodeCellRenderTemplate,\n\t\theight: number | undefined,\n\t): void {\n\t\tif (!this.notebookEditor.hasModel()) {\n\t\t\tthrow new Error(\n\t\t\t\t\"The notebook editor is not attached with view model yet.\",\n\t\t\t);\n\t\t}\n\n\t\ttemplateData.currentRenderedCell = element;\n\n\t\tif (height === undefined) {\n\t\t\treturn;\n\t\t}\n\n\t\ttemplateData.outputContainer.domNode.innerText = \"\";\n\t\ttemplateData.outputContainer.domNode.appendChild(\n\t\t\ttemplateData.cellOutputCollapsedContainer,\n\t\t);\n\n\t\ttemplateData.elementDisposables.add(\n\t\t\ttemplateData.instantiationService.createInstance(\n\t\t\t\tCodeCell,\n\t\t\t\tthis.notebookEditor,\n\t\t\t\telement,\n\t\t\t\ttemplateData,\n\t\t\t\tthis.editorPool,\n\t\t\t),\n\t\t);\n\t\tthis.renderedEditors.set(element, templateData.editor);\n\t}\n\n\tdisposeTemplate(templateData: CodeCellRenderTemplate): void {\n\t\ttemplateData.templateDisposables.clear();\n\t}\n\n\tdisposeElement(\n\t\telement: ICellViewModel,\n\t\tindex: number,\n\t\ttemplateData: CodeCellRenderTemplate,\n\t\theight: number | undefined,\n\t): void {\n\t\ttemplateData.elementDisposables.clear();\n\t\tthis.renderedEditors.delete(element);\n\t}\n}\n"],
  "mappings": "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",
  "names": []
}
