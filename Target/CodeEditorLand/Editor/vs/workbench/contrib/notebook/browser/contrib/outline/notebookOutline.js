var Y=Object.defineProperty;var Z=Object.getOwnPropertyDescriptor;var S=(a,e,t,o)=>{for(var i=o>1?void 0:o?Z(e,t):e,l=a.length-1,r;l>=0;l--)(r=a[l])&&(i=(o?r(e,t,i):r(i))||i);return o&&i&&Y(e,t,i),i},d=(a,e)=>(t,o)=>e(t,o,a);import*as Q from"../../../../../../../vs/base/browser/dom.js";import{IconLabel as ee}from"../../../../../../../vs/base/browser/ui/iconLabel/iconLabel.js";import"../../../../../../../vs/base/browser/ui/list/list.js";import"../../../../../../../vs/base/browser/ui/list/listWidget.js";import{ToolBar as oe}from"../../../../../../../vs/base/browser/ui/toolbar/toolbar.js";import"../../../../../../../vs/base/browser/ui/tree/tree.js";import{mainWindow as te}from"../../../../../../../vs/base/browser/window.js";import"../../../../../../../vs/base/common/actions.js";import{Delayer as V,disposableTimeout as ie}from"../../../../../../../vs/base/common/async.js";import{CancellationToken as ne}from"../../../../../../../vs/base/common/cancellation.js";import{Codicon as le}from"../../../../../../../vs/base/common/codicons.js";import{Emitter as re}from"../../../../../../../vs/base/common/event.js";import{createMatches as se}from"../../../../../../../vs/base/common/filters.js";import{Disposable as ae,DisposableStore as y,toDisposable as U}from"../../../../../../../vs/base/common/lifecycle.js";import{ThemeIcon as $}from"../../../../../../../vs/base/common/themables.js";import"../../../../../../../vs/base/common/uri.js";import{Range as ce}from"../../../../../../../vs/editor/common/core/range.js";import"../../../../../../../vs/editor/common/model.js";import{getIconClassesForLanguageId as G}from"../../../../../../../vs/editor/common/services/getIconClasses.js";import{ILanguageFeaturesService as de}from"../../../../../../../vs/editor/common/services/languageFeatures.js";import{localize as h}from"../../../../../../../vs/nls.js";import{createAndFillInActionBarActions as ue,MenuEntryActionViewItem as me}from"../../../../../../../vs/platform/actions/browser/menuEntryActionViewItem.js";import{Action2 as x,IMenuService as he,MenuId as C,MenuItemAction as be,MenuRegistry as pe,registerAction2 as H}from"../../../../../../../vs/platform/actions/common/actions.js";import{IConfigurationService as p}from"../../../../../../../vs/platform/configuration/common/configuration.js";import{Extensions as ge}from"../../../../../../../vs/platform/configuration/common/configurationRegistry.js";import{ContextKeyExpr as O,IContextKeyService as Se,RawContextKey as k}from"../../../../../../../vs/platform/contextkey/common/contextkey.js";import{IContextMenuService as ye}from"../../../../../../../vs/platform/contextview/browser/contextView.js";import"../../../../../../../vs/platform/editor/common/editor.js";import{IInstantiationService as F}from"../../../../../../../vs/platform/instantiation/common/instantiation.js";import"../../../../../../../vs/platform/list/browser/listService.js";import{MarkerSeverity as fe}from"../../../../../../../vs/platform/markers/common/markers.js";import{Registry as J}from"../../../../../../../vs/platform/registry/common/platform.js";import{listErrorForeground as Ce,listWarningForeground as ve}from"../../../../../../../vs/platform/theme/common/colorRegistry.js";import{IThemeService as K}from"../../../../../../../vs/platform/theme/common/themeService.js";import{Extensions as we}from"../../../../../../../vs/workbench/common/contributions.js";import"../../../../../../../vs/workbench/common/editor.js";import"../../../../../../../vs/workbench/contrib/notebook/browser/controller/sectionActions.js";import{CellFoldingState as X,CellRevealType as Ie}from"../../../../../../../vs/workbench/contrib/notebook/browser/notebookBrowser.js";import{NotebookEditor as _e}from"../../../../../../../vs/workbench/contrib/notebook/browser/notebookEditor.js";import"../../../../../../../vs/workbench/contrib/notebook/browser/viewModel/markupCellViewModel.js";import"../../../../../../../vs/workbench/contrib/notebook/browser/viewModel/notebookOutlineDataSource.js";import{INotebookCellOutlineDataSourceFactory as Oe}from"../../../../../../../vs/workbench/contrib/notebook/browser/viewModel/notebookOutlineDataSourceFactory.js";import{NotebookOutlineConstants as v}from"../../../../../../../vs/workbench/contrib/notebook/browser/viewModel/notebookOutlineEntryFactory.js";import"../../../../../../../vs/workbench/contrib/notebook/browser/viewModel/OutlineEntry.js";import{CellKind as m,NotebookCellsChangeType as A,NotebookSetting as n}from"../../../../../../../vs/workbench/contrib/notebook/common/notebookCommon.js";import{NOTEBOOK_IS_ACTIVE_EDITOR as ke}from"../../../../../../../vs/workbench/contrib/notebook/common/notebookContextKeys.js";import{INotebookExecutionStateService as De,NotebookExecutionType as Ee}from"../../../../../../../vs/workbench/contrib/notebook/common/notebookExecutionStateService.js";import{IOutlinePane as Me}from"../../../../../../../vs/workbench/contrib/outline/browser/outline.js";import{IEditorService as Te,SIDE_GROUP as Ne}from"../../../../../../../vs/workbench/services/editor/common/editorService.js";import{LifecyclePhase as Re}from"../../../../../../../vs/workbench/services/lifecycle/common/lifecycle.js";import{IOutlineService as Ae,OutlineConfigCollapseItemsValues as Le,OutlineConfigKeys as P,OutlineTarget as w}from"../../../../../../../vs/workbench/services/outline/browser/outline.js";class W{constructor(e,t,o,i,l,r){this.container=e;this.iconClass=t;this.iconLabel=o;this.decoration=i;this.actionMenu=l;this.elementDisposables=r}static templateId="NotebookOutlineRenderer"}let D=class{constructor(e,t,o,i,l,r,s,c){this._editor=e;this._target=t;this._themeService=o;this._configurationService=i;this._contextMenuService=l;this._contextKeyService=r;this._menuService=s;this._instantiationService=c}templateId=W.templateId;renderTemplate(e){const t=new y;e.classList.add("notebook-outline-element","show-file-icons");const o=document.createElement("div");e.append(o);const i=new ee(e,{supportHighlights:!0}),l=document.createElement("div");l.className="element-decoration",e.append(l);const r=document.createElement("div");return r.className="action-menu",e.append(r),new W(e,o,i,l,r,t)}renderElement(e,t,o,i){const l=[],r={matches:se(e.filterData),labelEscapeNewLines:!0,extraClasses:l},s=e.element.cell.cellKind===m.Code;e.element.level>=8?o.iconClass.className="element-icon "+$.asClassNameArray(e.element.icon).join(" "):s&&this._themeService.getFileIconTheme().hasFileIcons&&!e.element.isExecuting?(o.iconClass.className="",l.push(...G(e.element.cell.language??""))):o.iconClass.className="element-icon "+$.asClassNameArray(e.element.icon).join(" "),o.iconLabel.setLabel(" "+e.element.label,void 0,r);const{markerInfo:c}=e.element;if(o.container.style.removeProperty("--outline-element-color"),o.decoration.innerText="",c){const u=this._configurationService.getValue("problems.visibility");!this._configurationService.getValue(P.problemsBadges)||!u?(o.decoration.classList.remove("bubble"),o.decoration.innerText=""):c.count===0?(o.decoration.classList.add("bubble"),o.decoration.innerText="\uEA71"):(o.decoration.classList.remove("bubble"),o.decoration.innerText=c.count>9?"9+":String(c.count));const f=this._themeService.getColorTheme().getColor(c.topSev===fe.Error?Ce:ve);if(u===void 0)return;!this._configurationService.getValue(P.problemsColors)||!u?(o.container.style.removeProperty("--outline-element-color"),o.decoration.style.setProperty("--outline-element-color",f?.toString()??"inherit")):o.container.style.setProperty("--outline-element-color",f?.toString()??"inherit")}if(this._target===w.OutlinePane){const u=e.element.cell,g=this._editor?.getViewModel();if(!g)return;const f=g.getCellIndex(u),R=s?0:g.getFoldedLength(f),b=o.elementDisposables.add(this._contextKeyService.createScoped(o.container));_.CellKind.bindTo(b).set(s?m.Code:m.Markup),_.CellHasChildren.bindTo(b).set(R>0),_.CellHasHeader.bindTo(b).set(e.element.level!==v.NonHeaderOutlineLevel),_.OutlineElementTarget.bindTo(b).set(this._target),this.setupFolding(s,g,b,o,u);const z=o.elementDisposables.add(new oe(o.actionMenu,this._contextMenuService,{actionViewItemProvider:q=>{if(q instanceof be)return this._instantiationService.createInstance(me,q,void 0)}})),B=o.elementDisposables.add(this._menuService.createMenu(C.NotebookOutlineActionMenu,b)),L=j(B,{notebookEditor:this._editor,outlineEntry:e.element});z.setActions(L.primary,L.secondary),this.setupToolbarListeners(z,B,L,e.element,o),o.actionMenu.style.padding="0 0.8em 0 0.4em"}}disposeTemplate(e){e.iconLabel.dispose(),e.elementDisposables.clear()}disposeElement(e,t,o,i){o.elementDisposables.clear(),Q.clearNode(o.actionMenu)}setupFolding(e,t,o,i,l){const r=e?X.None:l.foldingState,s=_.CellFoldingState.bindTo(o);s.set(r),e||i.elementDisposables.add(t.onDidFoldingStateChanged(()=>{const c=l.foldingState;_.CellFoldingState.bindTo(o).set(c),s.set(c)}))}setupToolbarListeners(e,t,o,i,l){let r=!1,s;e.setActions(o.primary,o.secondary),l.elementDisposables.add(t.onDidChange(()=>{if(r){const u=j(t,{notebookEditor:this._editor,outlineEntry:i});s=()=>e.setActions(u.primary,u.secondary);return}const c=j(t,{notebookEditor:this._editor,outlineEntry:i});e.setActions(c.primary,c.secondary)})),l.container.classList.remove("notebook-outline-toolbar-dropdown-active"),l.elementDisposables.add(e.onDidChangeDropdownVisibility(c=>{r=c,c?l.container.classList.add("notebook-outline-toolbar-dropdown-active"):l.container.classList.remove("notebook-outline-toolbar-dropdown-active"),s&&!c&&(ie(()=>{s?.()},0,l.elementDisposables),s=void 0)}))}};D=S([d(2,K),d(3,p),d(4,ye),d(5,Se),d(6,he),d(7,F)],D);function j(a,e){const i={primary:[],secondary:[]};return ue(a,{shouldForwardArgs:!0,arg:e},i),i}class Ve{getAriaLabel(e){return e.label}getWidgetAriaLabel(){return""}}class xe{getKeyboardNavigationLabel(e){return e.label}}class He{getHeight(e){return 22}getTemplateId(e){return W.templateId}}let E=class{constructor(e,t,o){this.notebookCellOutlineDataSourceRef=e;this._configurationService=t;this._themeService=o;this.gotoShowCodeCellSymbols=this._configurationService.getValue(n.gotoSymbolsAllSymbols),this._disposables.add(this._configurationService.onDidChangeConfiguration(i=>{i.affectsConfiguration(n.gotoSymbolsAllSymbols)&&(this.gotoShowCodeCellSymbols=this._configurationService.getValue(n.gotoSymbolsAllSymbols))}))}_disposables=new y;gotoShowCodeCellSymbols;getQuickPickElements(){const e=[];for(const r of this.notebookCellOutlineDataSourceRef?.object?.entries??[])r.asFlatList(e);const t=[],{hasFileIcons:o}=this._themeService.getFileIconTheme(),i=r=>!!r.symbolKind,l=r=>r.cell.cellKind===m.Code&&r.level===v.NonHeaderOutlineLevel;for(let r=0;r<e.length;r++){const s=e[r],c=e[r+1];if(!this.gotoShowCodeCellSymbols&&i(s)||this.gotoShowCodeCellSymbols&&l(s)&&c&&i(c))continue;const u=o&&!s.symbolKind;t.push({element:s,label:u?s.label:`$(${s.icon.id}) ${s.label}`,ariaLabel:s.label,iconClasses:u?G(s.cell.language??""):void 0})}return t}dispose(){this._disposables.dispose()}};E=S([d(1,p),d(2,K)],E);let M=class{constructor(e,t){this.outlineDataSourceRef=e;this._configurationService=t;this.showCodeCells=this._configurationService.getValue(n.outlineShowCodeCells),this.showCodeCellSymbols=this._configurationService.getValue(n.outlineShowCodeCellSymbols),this.showMarkdownHeadersOnly=this._configurationService.getValue(n.outlineShowMarkdownHeadersOnly),this._disposables.add(this._configurationService.onDidChangeConfiguration(o=>{o.affectsConfiguration(n.outlineShowCodeCells)&&(this.showCodeCells=this._configurationService.getValue(n.outlineShowCodeCells)),o.affectsConfiguration(n.outlineShowCodeCellSymbols)&&(this.showCodeCellSymbols=this._configurationService.getValue(n.outlineShowCodeCellSymbols)),o.affectsConfiguration(n.outlineShowMarkdownHeadersOnly)&&(this.showMarkdownHeadersOnly=this._configurationService.getValue(n.outlineShowMarkdownHeadersOnly))}))}_disposables=new y;showCodeCells;showCodeCellSymbols;showMarkdownHeadersOnly;getActiveEntry(){const e=this.outlineDataSourceRef?.object?.activeElement;if(!e)return;if(!this.filterEntry(e))return e;let t=e.parent;for(;t;)if(this.filterEntry(t))t=t.parent;else return t}filterEntry(e){return!!(this.showMarkdownHeadersOnly&&e.cell.cellKind===m.Markup&&e.level===v.NonHeaderOutlineLevel||!this.showCodeCells&&e.cell.cellKind===m.Code||!this.showCodeCellSymbols&&e.cell.cellKind===m.Code&&e.level>v.NonHeaderOutlineLevel)}*getChildren(e){const o=e instanceof I?this.outlineDataSourceRef?.object?.entries??[]:e.children;for(const i of o)i.cell.cellKind===m.Markup?this.showMarkdownHeadersOnly?i.level<v.NonHeaderOutlineLevel&&(yield i):yield i:this.showCodeCells&&i.cell.cellKind===m.Code&&(this.showCodeCellSymbols?yield i:i.level===v.NonHeaderOutlineLevel&&(yield i))}dispose(){this._disposables.dispose()}};M=S([d(1,p)],M);let T=class{constructor(e,t){this.outlineDataSourceRef=e;this._configurationService=t;this.showCodeCells=this._configurationService.getValue(n.breadcrumbsShowCodeCells),this._disposables.add(this._configurationService.onDidChangeConfiguration(o=>{o.affectsConfiguration(n.breadcrumbsShowCodeCells)&&(this.showCodeCells=this._configurationService.getValue(n.breadcrumbsShowCodeCells))}))}_disposables=new y;showCodeCells;getBreadcrumbElements(){const e=[];let t=this.outlineDataSourceRef?.object?.activeElement;for(;t;)(this.showCodeCells||t.cell.cellKind!==m.Code)&&e.unshift(t),t=t.parent;return e}dispose(){this._disposables.dispose()}};T=S([d(1,p)],T);class Fe{_collator=new Q.WindowIdleValue(te,()=>new Intl.Collator(void 0,{numeric:!0}));compareByPosition(e,t){return e.index-t.index}compareByType(e,t){return e.cell.cellKind-t.cell.cellKind||this._collator.value.compare(e.label,t.label)}compareByName(e,t){return this._collator.value.compare(e.label,t.label)}}let I=class{constructor(e,t,o,i,l,r,s,c){this._editor=e;this._target=t;this._themeService=o;this._editorService=i;this._instantiationService=l;this._configurationService=r;this._languageFeaturesService=s;this._notebookExecutionStateService=c;this.gotoShowCodeCellSymbols=this._configurationService.getValue(n.gotoSymbolsAllSymbols),this.outlineShowCodeCellSymbols=this._configurationService.getValue(n.outlineShowCodeCellSymbols),this.initializeOutline();const u=new He,g=[this._instantiationService.createInstance(D,this._editor.getControl(),this._target)],f=new Fe,R={collapseByDefault:this._target===w.Breadcrumbs||this._target===w.OutlinePane&&this._configurationService.getValue(P.collapseItems)===Le.Collapsed,expandOnlyOnTwistieClick:!0,multipleSelectionSupport:!1,accessibilityProvider:new Ve,identityProvider:{getId:b=>b.cell.uri.toString()},keyboardNavigationLabelProvider:new xe};this.config={treeDataSource:this._treeDataSource,quickPickDataSource:this._quickPickDataSource,breadcrumbsDataSource:this._breadcrumbsDataSource,delegate:u,renderers:g,comparator:f,options:R}}outlineKind="notebookCells";_disposables=new y;_modelDisposables=new y;_dataSourceDisposables=new y;_onDidChange=new re;onDidChange=this._onDidChange.event;delayerRecomputeState=this._disposables.add(new V(300));delayerRecomputeActive=this._disposables.add(new V(200));delayerRecomputeSymbols=this._disposables.add(new V(2e3));config;_outlineDataSourceReference;_treeDataSource;_quickPickDataSource;_breadcrumbsDataSource;gotoShowCodeCellSymbols;outlineShowCodeCellSymbols;get activeElement(){if(this.checkDelayer(),this._target===w.OutlinePane)return this.config.treeDataSource.getActiveEntry();console.error("activeElement should not be called outside of the OutlinePane")}get entries(){return this.checkDelayer(),this._outlineDataSourceReference?.object?.entries??[]}get uri(){return this._outlineDataSourceReference?.object?.uri}get isEmpty(){return this._outlineDataSourceReference?.object?.isEmpty??!0}checkDelayer(){this.delayerRecomputeState.isTriggered()&&(this.delayerRecomputeState.cancel(),this.recomputeState())}initializeOutline(){this.setDataSources(),this.setModelListeners(),this._disposables.add(this._editor.onDidChangeModel(()=>{this.setDataSources(),this.setModelListeners(),this.computeSymbols()})),this._disposables.add(this._languageFeaturesService.documentSymbolProvider.onDidChange(()=>{this.delayedComputeSymbols()})),this._disposables.add(this._editor.onDidChangeSelection(()=>{this.delayedRecomputeActive()})),this._disposables.add(this._configurationService.onDidChangeConfiguration(e=>{(e.affectsConfiguration(n.outlineShowMarkdownHeadersOnly)||e.affectsConfiguration(n.outlineShowCodeCells)||e.affectsConfiguration(n.outlineShowCodeCellSymbols)||e.affectsConfiguration(n.breadcrumbsShowCodeCells))&&this.delayedRecomputeState()})),this._disposables.add(this._notebookExecutionStateService.onDidChangeExecution(e=>{e.type===Ee.cell&&this._editor.textModel&&e.affectsNotebook(this._editor.textModel?.uri)&&this.delayedRecomputeState()})),this._disposables.add(this._configurationService.onDidChangeConfiguration(e=>{(e.affectsConfiguration(n.gotoSymbolsAllSymbols)||e.affectsConfiguration(n.outlineShowCodeCellSymbols))&&(this.gotoShowCodeCellSymbols=this._configurationService.getValue(n.gotoSymbolsAllSymbols),this.outlineShowCodeCellSymbols=this._configurationService.getValue(n.outlineShowCodeCellSymbols),this.computeSymbols())})),this._disposables.add(this._themeService.onDidFileIconThemeChange(()=>{this._onDidChange.fire({})})),this.recomputeState()}setDataSources(){const e=this._editor.getControl();this._outlineDataSourceReference?.dispose(),this._dataSourceDisposables.clear(),e?.hasModel()?(this._outlineDataSourceReference=this._dataSourceDisposables.add(this._instantiationService.invokeFunction(t=>t.get(Oe).getOrCreate(e))),this._dataSourceDisposables.add(this._outlineDataSourceReference.object.onDidChange(()=>{this._onDidChange.fire({})}))):this._outlineDataSourceReference=void 0,this._treeDataSource=this._dataSourceDisposables.add(this._instantiationService.createInstance(M,this._outlineDataSourceReference)),this._quickPickDataSource=this._dataSourceDisposables.add(this._instantiationService.createInstance(E,this._outlineDataSourceReference)),this._breadcrumbsDataSource=this._dataSourceDisposables.add(this._instantiationService.createInstance(T,this._outlineDataSourceReference))}setModelListeners(){this._modelDisposables.clear(),this._editor.textModel&&(this.entries.length||this.computeSymbols(),this._modelDisposables.add(this._editor.textModel.onDidChangeContent(e=>{e.rawEvents.some(t=>t.kind===A.ChangeCellContent||t.kind===A.ChangeCellInternalMetadata||t.kind===A.Move||t.kind===A.ModelChange)&&this.delayedRecomputeState()})))}async computeSymbols(e=ne.None){this._target===w.QuickPick&&this.gotoShowCodeCellSymbols?await this._outlineDataSourceReference?.object?.computeFullSymbols(e):this._target===w.OutlinePane&&this.outlineShowCodeCellSymbols&&this._outlineDataSourceReference?.object?.computeFullSymbols(e)}async delayedComputeSymbols(){this.delayerRecomputeState.cancel(),this.delayerRecomputeActive.cancel(),this.delayerRecomputeSymbols.trigger(()=>{this.computeSymbols()})}recomputeState(){this._outlineDataSourceReference?.object?.recomputeState()}delayedRecomputeState(){this.delayerRecomputeActive.cancel(),this.delayerRecomputeState.trigger(()=>{this.recomputeState()})}recomputeActive(){this._outlineDataSourceReference?.object?.recomputeActive()}delayedRecomputeActive(){this.delayerRecomputeActive.trigger(()=>{this.recomputeActive()})}async reveal(e,t,o){const i={...t,override:this._editor.input?.editorId,cellRevealType:Ie.NearTopIfOutsideViewport,selection:e.position,viewState:void 0};await this._editorService.openEditor({resource:e.cell.uri,options:i},o?Ne:void 0)}preview(e){const t=this._editor.getControl();if(!t)return ae.None;if(e.range){const l=ce.lift(e.range);t.revealRangeInCenterIfOutsideViewportAsync(e.cell,l)}else t.revealInCenterIfOutsideViewport(e.cell);const o=t.deltaCellDecorations([],[{handle:e.cell.handle,options:{className:"nb-symbolHighlight",outputClassName:"nb-symbolHighlight"}}]);let i;return t.changeModelDecorations(l=>{if(e.range){const r=[{range:e.range,options:{description:"document-symbols-outline-range-highlight",className:"rangeHighlight",isWholeLine:!0}}],s={ownerId:e.cell.handle,decorations:r};i=l.deltaDecorations([],[s])}}),U(()=>{t.deltaCellDecorations(o,[]),i?.length&&t.changeModelDecorations(l=>{l.deltaDecorations(i,[])})})}captureViewState(){const e=this._editor.getControl(),t=e?.getEditorViewState();return U(()=>{t&&e?.restoreListViewState(t)})}dispose(){this._onDidChange.dispose(),this._disposables.dispose(),this._modelDisposables.dispose(),this._dataSourceDisposables.dispose(),this._outlineDataSourceReference?.dispose()}};I=S([d(2,K),d(3,Te),d(4,F),d(5,p),d(6,de),d(7,De)],I);let N=class{constructor(e,t){this._instantiationService=t;const o=e.registerOutlineCreator(this);this.dispose=()=>o.dispose()}dispose;matches(e){return e.getId()===_e.ID}async createOutline(e,t,o){return this._instantiationService.createInstance(I,e,t)}};N=S([d(0,Ae),d(1,F)],N);const _={CellKind:new k("notebookCellKind",void 0),CellHasChildren:new k("notebookCellHasChildren",!1),CellHasHeader:new k("notebookCellHasHeader",!1),CellFoldingState:new k("notebookCellFoldingState",X.None),OutlineElementTarget:new k("notebookOutlineElementTarget",void 0)};J.as(we.Workbench).registerWorkbenchContribution(N,Re.Eventually),J.as(ge.Configuration).registerConfiguration({id:"notebook",order:100,type:"object",properties:{[n.outlineShowMarkdownHeadersOnly]:{type:"boolean",default:!0,markdownDescription:h("outline.showMarkdownHeadersOnly","When enabled, notebook outline will show only markdown cells containing a header.")},[n.outlineShowCodeCells]:{type:"boolean",default:!1,markdownDescription:h("outline.showCodeCells","When enabled, notebook outline shows code cells.")},[n.outlineShowCodeCellSymbols]:{type:"boolean",default:!0,markdownDescription:h("outline.showCodeCellSymbols","When enabled, notebook outline shows code cell symbols. Relies on `notebook.outline.showCodeCells` being enabled.")},[n.breadcrumbsShowCodeCells]:{type:"boolean",default:!0,markdownDescription:h("breadcrumbs.showCodeCells","When enabled, notebook breadcrumbs contain code cells.")},[n.gotoSymbolsAllSymbols]:{type:"boolean",default:!0,markdownDescription:h("notebook.gotoSymbols.showAllSymbols","When enabled, the Go to Symbol Quick Pick will display full code symbols from the notebook, as well as Markdown headers.")}}}),pe.appendMenuItem(C.ViewTitle,{submenu:C.NotebookOutlineFilter,title:h("filter","Filter Entries"),icon:le.filter,group:"navigation",order:-1,when:O.and(O.equals("view",Me.Id),ke)}),H(class extends x{constructor(){super({id:"notebook.outline.toggleShowMarkdownHeadersOnly",title:h("toggleShowMarkdownHeadersOnly","Markdown Headers Only"),f1:!1,toggled:{condition:O.equals("config.notebook.outline.showMarkdownHeadersOnly",!0)},menu:{id:C.NotebookOutlineFilter,group:"0_markdown_cells"}})}run(e,...t){const o=e.get(p),i=o.getValue(n.outlineShowMarkdownHeadersOnly);o.updateValue(n.outlineShowMarkdownHeadersOnly,!i)}}),H(class extends x{constructor(){super({id:"notebook.outline.toggleCodeCells",title:h("toggleCodeCells","Code Cells"),f1:!1,toggled:{condition:O.equals("config.notebook.outline.showCodeCells",!0)},menu:{id:C.NotebookOutlineFilter,order:1,group:"1_code_cells"}})}run(e,...t){const o=e.get(p),i=o.getValue(n.outlineShowCodeCells);o.updateValue(n.outlineShowCodeCells,!i)}}),H(class extends x{constructor(){super({id:"notebook.outline.toggleCodeCellSymbols",title:h("toggleCodeCellSymbols","Code Cell Symbols"),f1:!1,toggled:{condition:O.equals("config.notebook.outline.showCodeCellSymbols",!0)},menu:{id:C.NotebookOutlineFilter,order:2,group:"1_code_cells"}})}run(e,...t){const o=e.get(p),i=o.getValue(n.outlineShowCodeCellSymbols);o.updateValue(n.outlineShowCodeCellSymbols,!i)}});export{T as NotebookBreadcrumbsProvider,I as NotebookCellOutline,_ as NotebookOutlineContext,N as NotebookOutlineCreator,M as NotebookOutlinePaneProvider,E as NotebookQuickPickProvider};
