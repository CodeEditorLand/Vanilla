import * as DOM from "vs/base/browser/dom";
import { IMouseWheelEvent } from "vs/base/browser/mouseEvent";
import { CancellationToken } from "vs/base/common/cancellation";
import { Event } from "vs/base/common/event";
import { IConfigurationService } from "vs/platform/configuration/common/configuration";
import { IContextKeyService } from "vs/platform/contextkey/common/contextkey";
import { IInstantiationService } from "vs/platform/instantiation/common/instantiation";
import { IStorageService } from "vs/platform/storage/common/storage";
import { ITelemetryService } from "vs/platform/telemetry/common/telemetry";
import { IThemeService } from "vs/platform/theme/common/themeService";
import { EditorPane } from "vs/workbench/browser/parts/editor/editorPane";
import { IEditorOpenContext, IEditorPaneScrollPosition, IEditorPaneSelection, IEditorPaneWithScrolling, IEditorPaneWithSelection } from "vs/workbench/common/editor";
import { DiffElementCellViewModelBase } from "vs/workbench/contrib/notebook/browser/diff/diffElementViewModel";
import { DiffNestedCellViewModel } from "vs/workbench/contrib/notebook/browser/diff/diffNestedCellViewModel";
import { DiffSide, IDiffCellInfo, INotebookTextDiffEditor } from "vs/workbench/contrib/notebook/browser/diff/notebookDiffEditorBrowser";
import { CellEditState, ICellOutputViewModel, IGenericCellViewModel, IInsetRenderOutput, INotebookEditorCreationOptions, INotebookEditorOptions } from "vs/workbench/contrib/notebook/browser/notebookBrowser";
import { NotebookLayoutInfo } from "vs/workbench/contrib/notebook/browser/notebookViewEvents";
import { INotebookDelegateForWebview } from "vs/workbench/contrib/notebook/browser/view/renderers/backLayerWebView";
import { INotebookService } from "vs/workbench/contrib/notebook/common/notebookService";
import { INotebookEditorWorkerService } from "vs/workbench/contrib/notebook/common/services/notebookWorkerService";
import { IEditorGroup } from "vs/workbench/services/editor/common/editorGroupsService";
import { NotebookDiffEditorInput } from "../../common/notebookDiffEditorInput";
export declare class NotebookTextDiffEditor extends EditorPane implements INotebookTextDiffEditor, INotebookDelegateForWebview, IEditorPaneWithSelection, IEditorPaneWithScrolling {
    private readonly instantiationService;
    private readonly contextKeyService;
    private readonly notebookEditorWorkerService;
    private readonly configurationService;
    private readonly notebookService;
    static readonly ENTIRE_DIFF_OVERVIEW_WIDTH = 30;
    creationOptions: INotebookEditorCreationOptions;
    static readonly ID: string;
    private _rootElement;
    private _listViewContainer;
    private _overflowContainer;
    private _overviewRulerContainer;
    private _overviewRuler;
    private _dimension;
    private notebookDiffViewModel?;
    private _list;
    private _modifiedWebview;
    private _originalWebview;
    private _webviewTransparentCover;
    private _fontInfo;
    private readonly _onMouseUp;
    readonly onMouseUp: any;
    private readonly _onDidScroll;
    readonly onDidScroll: Event<void>;
    readonly onDidChangeScroll: Event<void>;
    private _eventDispatcher;
    protected _scopeContextKeyService: IContextKeyService;
    private _model;
    private readonly _modifiedResourceDisposableStore;
    get textModel(): any;
    private _revealFirst;
    private readonly _insetModifyQueueByOutputId;
    protected _onDidDynamicOutputRendered: any;
    onDidDynamicOutputRendered: any;
    private _notebookOptions;
    get notebookOptions(): NotebookOptions;
    private readonly _localStore;
    private _layoutCancellationTokenSource?;
    private readonly _onDidChangeSelection;
    readonly onDidChangeSelection: any;
    private _isDisposed;
    get isDisposed(): boolean;
    constructor(group: IEditorGroup, instantiationService: IInstantiationService, themeService: IThemeService, contextKeyService: IContextKeyService, notebookEditorWorkerService: INotebookEditorWorkerService, configurationService: IConfigurationService, telemetryService: ITelemetryService, storageService: IStorageService, notebookService: INotebookService);
    private get fontInfo();
    private createFontInfo;
    private isOverviewRulerEnabled;
    getSelection(): IEditorPaneSelection | undefined;
    toggleNotebookCellSelection(cell: IGenericCellViewModel): void;
    updatePerformanceMetadata(cellId: string, executionId: string, duration: number, rendererId: string): void;
    focusNotebookCell(cell: IGenericCellViewModel, focus: "output" | "editor" | "container"): Promise<void>;
    focusNextNotebookCell(cell: IGenericCellViewModel, focus: "output" | "editor" | "container"): Promise<void>;
    didFocusOutputInputChange(inputFocused: boolean): void;
    getScrollTop(): any;
    getScrollHeight(): any;
    getScrollPosition(): IEditorPaneScrollPosition;
    setScrollPosition(scrollPosition: IEditorPaneScrollPosition): void;
    delegateVerticalScrollbarPointerDown(browserEvent: PointerEvent): void;
    updateOutputHeight(cellInfo: IDiffCellInfo, output: ICellOutputViewModel, outputHeight: number, isInit: boolean): void;
    setMarkupCellEditState(cellId: string, editState: CellEditState): void;
    didStartDragMarkupCell(cellId: string, event: {
        dragOffsetY: number;
    }): void;
    didDragMarkupCell(cellId: string, event: {
        dragOffsetY: number;
    }): void;
    didEndDragMarkupCell(cellId: string): void;
    didDropMarkupCell(cellId: string): void;
    didResizeOutput(cellId: string): void;
    protected createEditor(parent: HTMLElement): void;
    private _registerOverviewRuler;
    private _updateOutputsOffsetsInWebview;
    setInput(input: NotebookDiffEditorInput, options: INotebookEditorOptions | undefined, context: IEditorOpenContext, token: CancellationToken): Promise<void>;
    private _detachModel;
    private _attachModel;
    private _createModifiedWebview;
    _generateFontFamily(): string;
    private _createOriginalWebview;
    setOptions(options: INotebookEditorOptions | undefined): void;
    updateLayout(token: CancellationToken, selections?: number[]): Promise<void>;
    scheduleOutputHeightAck(cellInfo: IDiffCellInfo, outputId: string, height: number): void;
    private pendingLayouts;
    layoutNotebookCell(cell: DiffElementCellViewModelBase, height: number): Promise<void>;
    setScrollTop(scrollTop: number): void;
    triggerScroll(event: IMouseWheelEvent): void;
    previousChange(): void;
    nextChange(): void;
    createOutput(cellDiffViewModel: DiffElementCellViewModelBase, cellViewModel: DiffNestedCellViewModel, output: IInsetRenderOutput, getOffset: () => number, diffSide: DiffSide): void;
    updateMarkupCellHeight(): void;
    getCellByInfo(cellInfo: IDiffCellInfo): IGenericCellViewModel;
    getCellById(cellId: string): IGenericCellViewModel | undefined;
    removeInset(cellDiffViewModel: DiffElementCellViewModelBase, cellViewModel: DiffNestedCellViewModel, displayOutput: ICellOutputViewModel, diffSide: DiffSide): void;
    showInset(cellDiffViewModel: DiffElementCellViewModelBase, cellViewModel: DiffNestedCellViewModel, displayOutput: ICellOutputViewModel, diffSide: DiffSide): void;
    hideInset(cellDiffViewModel: DiffElementCellViewModelBase, cellViewModel: DiffNestedCellViewModel, output: ICellOutputViewModel): void;
    getDomNode(): HTMLElement;
    getOverflowContainerDomNode(): HTMLElement;
    getControl(): INotebookTextDiffEditor | undefined;
    clearInput(): void;
    deltaCellOutputContainerClassNames(diffSide: DiffSide, cellId: string, added: string[], removed: string[]): void;
    getLayoutInfo(): NotebookLayoutInfo;
    layout(dimension: DOM.Dimension, _position: DOM.IDomPosition): void;
    dispose(): void;
}
