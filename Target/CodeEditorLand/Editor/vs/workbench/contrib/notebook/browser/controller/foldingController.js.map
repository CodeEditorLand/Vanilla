{
  "version": 3,
  "sources": ["../../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/contrib/notebook/browser/controller/foldingController.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { KeyCode, KeyMod } from \"../../../../../base/common/keyCodes.js\";\nimport {\n\tDisposable,\n\tDisposableStore,\n} from \"../../../../../base/common/lifecycle.js\";\nimport type { FoldingRegion } from \"../../../../../editor/contrib/folding/browser/foldingRanges.js\";\nimport { localize, localize2 } from \"../../../../../nls.js\";\nimport {\n\tAction2,\n\tregisterAction2,\n} from \"../../../../../platform/actions/common/actions.js\";\nimport type { ICommandMetadata } from \"../../../../../platform/commands/common/commands.js\";\nimport { ContextKeyExpr } from \"../../../../../platform/contextkey/common/contextkey.js\";\nimport { InputFocusedContextKey } from \"../../../../../platform/contextkey/common/contextkeys.js\";\nimport type { ServicesAccessor } from \"../../../../../platform/instantiation/common/instantiation.js\";\nimport { KeybindingWeight } from \"../../../../../platform/keybinding/common/keybindingsRegistry.js\";\nimport { IEditorService } from \"../../../../services/editor/common/editorService.js\";\nimport { CellKind } from \"../../common/notebookCommon.js\";\nimport {\n\tNOTEBOOK_EDITOR_FOCUSED,\n\tNOTEBOOK_IS_ACTIVE_EDITOR,\n} from \"../../common/notebookContextKeys.js\";\nimport type { ICellRange } from \"../../common/notebookRange.js\";\nimport {\n\tCellFoldingState,\n\ttype INotebookEditor,\n\ttype INotebookEditorContribution,\n\ttype INotebookEditorMouseEvent,\n\tgetNotebookEditorFromEditorPane,\n} from \"../notebookBrowser.js\";\nimport { registerNotebookContribution } from \"../notebookEditorExtensions.js\";\nimport { FoldingModel } from \"../viewModel/foldingModel.js\";\nimport type { NotebookViewModel } from \"../viewModel/notebookViewModelImpl.js\";\nimport { NOTEBOOK_ACTIONS_CATEGORY } from \"./coreActions.js\";\n\nexport class FoldingController\n\textends Disposable\n\timplements INotebookEditorContribution\n{\n\tstatic id = \"workbench.notebook.foldingController\";\n\n\tprivate _foldingModel: FoldingModel | null = null;\n\tprivate readonly _localStore = this._register(new DisposableStore());\n\n\tconstructor(private readonly _notebookEditor: INotebookEditor) {\n\t\tsuper();\n\n\t\tthis._register(\n\t\t\tthis._notebookEditor.onMouseUp((e) => {\n\t\t\t\tthis.onMouseUp(e);\n\t\t\t}),\n\t\t);\n\n\t\tthis._register(\n\t\t\tthis._notebookEditor.onDidChangeModel(() => {\n\t\t\t\tthis._localStore.clear();\n\n\t\t\t\tif (!this._notebookEditor.hasModel()) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tthis._localStore.add(\n\t\t\t\t\tthis._notebookEditor.onDidChangeCellState((e) => {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\te.source.editStateChanged &&\n\t\t\t\t\t\t\te.cell.cellKind === CellKind.Markup\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tthis._foldingModel?.recompute();\n\t\t\t\t\t\t\t// this._updateEditorFoldingRanges();\n\t\t\t\t\t\t}\n\t\t\t\t\t}),\n\t\t\t\t);\n\n\t\t\t\tthis._foldingModel = new FoldingModel();\n\t\t\t\tthis._localStore.add(this._foldingModel);\n\t\t\t\tthis._foldingModel.attachViewModel(\n\t\t\t\t\tthis._notebookEditor.getViewModel(),\n\t\t\t\t);\n\n\t\t\t\tthis._localStore.add(\n\t\t\t\t\tthis._foldingModel.onDidFoldingRegionChanged(() => {\n\t\t\t\t\t\tthis._updateEditorFoldingRanges();\n\t\t\t\t\t}),\n\t\t\t\t);\n\t\t\t}),\n\t\t);\n\t}\n\n\tsaveViewState(): ICellRange[] {\n\t\treturn this._foldingModel?.getMemento() || [];\n\t}\n\n\trestoreViewState(state: ICellRange[] | undefined) {\n\t\tthis._foldingModel?.applyMemento(state || []);\n\t\tthis._updateEditorFoldingRanges();\n\t}\n\n\tsetFoldingStateDown(\n\t\tindex: number,\n\t\tstate: CellFoldingState,\n\t\tlevels: number,\n\t) {\n\t\tconst doCollapse = state === CellFoldingState.Collapsed;\n\t\tconst region = this._foldingModel!.getRegionAtLine(index + 1);\n\t\tconst regions: FoldingRegion[] = [];\n\t\tif (region) {\n\t\t\tif (region.isCollapsed !== doCollapse) {\n\t\t\t\tregions.push(region);\n\t\t\t}\n\t\t\tif (levels > 1) {\n\t\t\t\tconst regionsInside = this._foldingModel!.getRegionsInside(\n\t\t\t\t\tregion,\n\t\t\t\t\t(r, level: number) =>\n\t\t\t\t\t\tr.isCollapsed !== doCollapse && level < levels,\n\t\t\t\t);\n\t\t\t\tregions.push(...regionsInside);\n\t\t\t}\n\t\t}\n\n\t\tregions.forEach((r) =>\n\t\t\tthis._foldingModel!.setCollapsed(\n\t\t\t\tr.regionIndex,\n\t\t\t\tstate === CellFoldingState.Collapsed,\n\t\t\t),\n\t\t);\n\t\tthis._updateEditorFoldingRanges();\n\t}\n\n\tsetFoldingStateUp(index: number, state: CellFoldingState, levels: number) {\n\t\tif (!this._foldingModel) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst regions = this._foldingModel.getAllRegionsAtLine(\n\t\t\tindex + 1,\n\t\t\t(region, level) =>\n\t\t\t\tregion.isCollapsed !== (state === CellFoldingState.Collapsed) &&\n\t\t\t\tlevel <= levels,\n\t\t);\n\t\tregions.forEach((r) =>\n\t\t\tthis._foldingModel!.setCollapsed(\n\t\t\t\tr.regionIndex,\n\t\t\t\tstate === CellFoldingState.Collapsed,\n\t\t\t),\n\t\t);\n\t\tthis._updateEditorFoldingRanges();\n\t}\n\n\tprivate _updateEditorFoldingRanges() {\n\t\tif (!this._foldingModel) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!this._notebookEditor.hasModel()) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst vm = this._notebookEditor.getViewModel() as NotebookViewModel;\n\n\t\tvm.updateFoldingRanges(this._foldingModel.regions);\n\t\tconst hiddenRanges = vm.getHiddenRanges();\n\t\tthis._notebookEditor.setHiddenAreas(hiddenRanges);\n\t}\n\n\tonMouseUp(e: INotebookEditorMouseEvent) {\n\t\tif (!e.event.target) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!this._notebookEditor.hasModel()) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst viewModel =\n\t\t\tthis._notebookEditor.getViewModel() as NotebookViewModel;\n\t\tconst target = e.event.target as HTMLElement;\n\n\t\tif (\n\t\t\ttarget.classList.contains(\"codicon-notebook-collapsed\") ||\n\t\t\ttarget.classList.contains(\"codicon-notebook-expanded\")\n\t\t) {\n\t\t\tconst parent = target.parentElement as HTMLElement;\n\n\t\t\tif (!parent.classList.contains(\"notebook-folding-indicator\")) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// folding icon\n\n\t\t\tconst cellViewModel = e.target;\n\t\t\tconst modelIndex = viewModel.getCellIndex(cellViewModel);\n\t\t\tconst state = viewModel.getFoldingState(modelIndex);\n\n\t\t\tif (state === CellFoldingState.None) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.setFoldingStateUp(\n\t\t\t\tmodelIndex,\n\t\t\t\tstate === CellFoldingState.Collapsed\n\t\t\t\t\t? CellFoldingState.Expanded\n\t\t\t\t\t: CellFoldingState.Collapsed,\n\t\t\t\t1,\n\t\t\t);\n\t\t\tthis._notebookEditor.focusElement(cellViewModel);\n\t\t}\n\n\t\treturn;\n\t}\n}\n\nregisterNotebookContribution(FoldingController.id, FoldingController);\n\nconst NOTEBOOK_FOLD_COMMAND_LABEL = localize(\"fold.cell\", \"Fold Cell\");\nconst NOTEBOOK_UNFOLD_COMMAND_LABEL = localize2(\"unfold.cell\", \"Unfold Cell\");\n\nconst FOLDING_COMMAND_ARGS: Pick<ICommandMetadata, \"args\"> = {\n\targs: [\n\t\t{\n\t\t\tisOptional: true,\n\t\t\tname: \"index\",\n\t\t\tdescription: \"The cell index\",\n\t\t\tschema: {\n\t\t\t\ttype: \"object\",\n\t\t\t\trequired: [\"index\", \"direction\"],\n\t\t\t\tproperties: {\n\t\t\t\t\tindex: {\n\t\t\t\t\t\ttype: \"number\",\n\t\t\t\t\t},\n\t\t\t\t\tdirection: {\n\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\tenum: [\"up\", \"down\"],\n\t\t\t\t\t\tdefault: \"down\",\n\t\t\t\t\t},\n\t\t\t\t\tlevels: {\n\t\t\t\t\t\ttype: \"number\",\n\t\t\t\t\t\tdefault: 1,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t],\n};\n\nregisterAction2(\n\tclass extends Action2 {\n\t\tconstructor() {\n\t\t\tsuper({\n\t\t\t\tid: \"notebook.fold\",\n\t\t\t\ttitle: localize2(\"fold.cell\", \"Fold Cell\"),\n\t\t\t\tcategory: NOTEBOOK_ACTIONS_CATEGORY,\n\t\t\t\tkeybinding: {\n\t\t\t\t\twhen: ContextKeyExpr.and(\n\t\t\t\t\t\tNOTEBOOK_EDITOR_FOCUSED,\n\t\t\t\t\t\tContextKeyExpr.not(InputFocusedContextKey),\n\t\t\t\t\t),\n\t\t\t\t\tprimary:\n\t\t\t\t\t\tKeyMod.CtrlCmd | KeyMod.Shift | KeyCode.BracketLeft,\n\t\t\t\t\tmac: {\n\t\t\t\t\t\tprimary:\n\t\t\t\t\t\t\tKeyMod.CtrlCmd | KeyMod.Alt | KeyCode.BracketLeft,\n\t\t\t\t\t\tsecondary: [KeyCode.LeftArrow],\n\t\t\t\t\t},\n\t\t\t\t\tsecondary: [KeyCode.LeftArrow],\n\t\t\t\t\tweight: KeybindingWeight.WorkbenchContrib,\n\t\t\t\t},\n\t\t\t\tmetadata: {\n\t\t\t\t\tdescription: NOTEBOOK_FOLD_COMMAND_LABEL,\n\t\t\t\t\targs: FOLDING_COMMAND_ARGS.args,\n\t\t\t\t},\n\t\t\t\tprecondition: NOTEBOOK_IS_ACTIVE_EDITOR,\n\t\t\t\tf1: true,\n\t\t\t});\n\t\t}\n\n\t\tasync run(\n\t\t\taccessor: ServicesAccessor,\n\t\t\targs?: { index: number; levels: number; direction: \"up\" | \"down\" },\n\t\t): Promise<void> {\n\t\t\tconst editorService = accessor.get(IEditorService);\n\n\t\t\tconst editor = getNotebookEditorFromEditorPane(\n\t\t\t\teditorService.activeEditorPane,\n\t\t\t);\n\t\t\tif (!editor) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (!editor.hasModel()) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst levels = (args && args.levels) || 1;\n\t\t\tconst direction = args && args.direction === \"up\" ? \"up\" : \"down\";\n\t\t\tlet index: number | undefined;\n\n\t\t\tif (args) {\n\t\t\t\tindex = args.index;\n\t\t\t} else {\n\t\t\t\tconst activeCell = editor.getActiveCell();\n\t\t\t\tif (!activeCell) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tindex = editor.getCellIndex(activeCell);\n\t\t\t}\n\n\t\t\tconst controller = editor.getContribution<FoldingController>(\n\t\t\t\tFoldingController.id,\n\t\t\t);\n\t\t\tif (index !== undefined) {\n\t\t\t\tconst targetCell =\n\t\t\t\t\tindex < 0 || index >= editor.getLength()\n\t\t\t\t\t\t? undefined\n\t\t\t\t\t\t: editor.cellAt(index);\n\t\t\t\tif (\n\t\t\t\t\ttargetCell?.cellKind === CellKind.Code &&\n\t\t\t\t\tdirection === \"down\"\n\t\t\t\t) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (direction === \"up\") {\n\t\t\t\t\tcontroller.setFoldingStateUp(\n\t\t\t\t\t\tindex,\n\t\t\t\t\t\tCellFoldingState.Collapsed,\n\t\t\t\t\t\tlevels,\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\tcontroller.setFoldingStateDown(\n\t\t\t\t\t\tindex,\n\t\t\t\t\t\tCellFoldingState.Collapsed,\n\t\t\t\t\t\tlevels,\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tconst viewIndex = editor\n\t\t\t\t\t.getViewModel()\n\t\t\t\t\t.getNearestVisibleCellIndexUpwards(index);\n\t\t\t\teditor.focusElement(editor.cellAt(viewIndex));\n\t\t\t}\n\t\t}\n\t},\n);\n\nregisterAction2(\n\tclass extends Action2 {\n\t\tconstructor() {\n\t\t\tsuper({\n\t\t\t\tid: \"notebook.unfold\",\n\t\t\t\ttitle: NOTEBOOK_UNFOLD_COMMAND_LABEL,\n\t\t\t\tcategory: NOTEBOOK_ACTIONS_CATEGORY,\n\t\t\t\tkeybinding: {\n\t\t\t\t\twhen: ContextKeyExpr.and(\n\t\t\t\t\t\tNOTEBOOK_EDITOR_FOCUSED,\n\t\t\t\t\t\tContextKeyExpr.not(InputFocusedContextKey),\n\t\t\t\t\t),\n\t\t\t\t\tprimary:\n\t\t\t\t\t\tKeyMod.CtrlCmd | KeyMod.Shift | KeyCode.BracketRight,\n\t\t\t\t\tmac: {\n\t\t\t\t\t\tprimary:\n\t\t\t\t\t\t\tKeyMod.CtrlCmd | KeyMod.Alt | KeyCode.BracketRight,\n\t\t\t\t\t\tsecondary: [KeyCode.RightArrow],\n\t\t\t\t\t},\n\t\t\t\t\tsecondary: [KeyCode.RightArrow],\n\t\t\t\t\tweight: KeybindingWeight.WorkbenchContrib,\n\t\t\t\t},\n\t\t\t\tmetadata: {\n\t\t\t\t\tdescription: NOTEBOOK_UNFOLD_COMMAND_LABEL,\n\t\t\t\t\targs: FOLDING_COMMAND_ARGS.args,\n\t\t\t\t},\n\t\t\t\tprecondition: NOTEBOOK_IS_ACTIVE_EDITOR,\n\t\t\t\tf1: true,\n\t\t\t});\n\t\t}\n\n\t\tasync run(\n\t\t\taccessor: ServicesAccessor,\n\t\t\targs?: { index: number; levels: number; direction: \"up\" | \"down\" },\n\t\t): Promise<void> {\n\t\t\tconst editorService = accessor.get(IEditorService);\n\n\t\t\tconst editor = getNotebookEditorFromEditorPane(\n\t\t\t\teditorService.activeEditorPane,\n\t\t\t);\n\t\t\tif (!editor) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst levels = (args && args.levels) || 1;\n\t\t\tconst direction = args && args.direction === \"up\" ? \"up\" : \"down\";\n\t\t\tlet index: number | undefined;\n\n\t\t\tif (args) {\n\t\t\t\tindex = args.index;\n\t\t\t} else {\n\t\t\t\tconst activeCell = editor.getActiveCell();\n\t\t\t\tif (!activeCell) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tindex = editor.getCellIndex(activeCell);\n\t\t\t}\n\n\t\t\tconst controller = editor.getContribution<FoldingController>(\n\t\t\t\tFoldingController.id,\n\t\t\t);\n\t\t\tif (index !== undefined) {\n\t\t\t\tif (direction === \"up\") {\n\t\t\t\t\tcontroller.setFoldingStateUp(\n\t\t\t\t\t\tindex,\n\t\t\t\t\t\tCellFoldingState.Expanded,\n\t\t\t\t\t\tlevels,\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\tcontroller.setFoldingStateDown(\n\t\t\t\t\t\tindex,\n\t\t\t\t\t\tCellFoldingState.Expanded,\n\t\t\t\t\t\tlevels,\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n);\n"],
  "mappings": "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",
  "names": []
}
