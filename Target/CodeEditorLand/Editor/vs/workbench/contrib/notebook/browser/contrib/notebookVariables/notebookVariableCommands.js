import{CancellationToken as p}from"../../../../../../base/common/cancellation.js";import{URI as b}from"../../../../../../base/common/uri.js";import{localize as n}from"../../../../../../nls.js";import{Action2 as a,registerAction2 as s}from"../../../../../../platform/actions/common/actions.js";import{IClipboardService as m}from"../../../../../../platform/clipboard/common/clipboardService.js";import{INotebookKernelService as u}from"../../../common/notebookKernelService.js";import{INotebookService as v}from"../../../common/notebookService.js";const d="workbench.debug.viewlet.action.copyWorkspaceVariableValue",f=n("copyWorkspaceVariableValue","Copy Value");s(class extends a{constructor(){super({id:d,title:f,f1:!1})}run(o,e){const r=o.get(m);e.value&&r.writeText(e.value)}}),s(class extends a{constructor(){super({id:"_executeNotebookVariableProvider",title:n("executeNotebookVariableProvider","Execute Notebook Variable Provider"),f1:!1})}async run(o,e){if(!e)return[];const r=b.revive(e),c=o.get(u),t=o.get(v).getNotebookTextModel(r);if(!t)return[];const i=c.getMatchingKernel(t).selected;return i&&i.hasVariableProvider?await i.provideVariables(t.uri,void 0,"named",0,p.None).map(l=>l).toPromise():[]}});export{d as COPY_NOTEBOOK_VARIABLE_VALUE_ID,f as COPY_NOTEBOOK_VARIABLE_VALUE_LABEL};
