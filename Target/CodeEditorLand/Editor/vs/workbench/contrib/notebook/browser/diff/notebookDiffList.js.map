{
  "version": 3,
  "sources": ["../../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/contrib/notebook/browser/diff/notebookDiffList.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport './notebookDiff.css';\nimport { IListMouseEvent, IListRenderer, IListVirtualDelegate } from '../../../../../base/browser/ui/list/list.js';\nimport * as DOM from '../../../../../base/browser/dom.js';\nimport { IListOptions, IListStyles, isMonacoEditor, IStyleController, MouseController } from '../../../../../base/browser/ui/list/listWidget.js';\nimport { DisposableStore, IDisposable } from '../../../../../base/common/lifecycle.js';\nimport { IConfigurationService } from '../../../../../platform/configuration/common/configuration.js';\nimport { IContextKeyService } from '../../../../../platform/contextkey/common/contextkey.js';\nimport { IInstantiationService } from '../../../../../platform/instantiation/common/instantiation.js';\nimport { IKeybindingService } from '../../../../../platform/keybinding/common/keybinding.js';\nimport { IListService, IWorkbenchListOptions, WorkbenchList } from '../../../../../platform/list/browser/listService.js';\nimport { IThemeService } from '../../../../../platform/theme/common/themeService.js';\nimport { DiffElementPlaceholderViewModel, IDiffElementViewModelBase, NotebookDocumentMetadataViewModel, SideBySideDiffElementViewModel, SingleSideDiffElementViewModel } from './diffElementViewModel.js';\nimport { CellDiffPlaceholderRenderTemplate, CellDiffSideBySideRenderTemplate, CellDiffSingleSideRenderTemplate, DIFF_CELL_MARGIN, INotebookTextDiffEditor, NotebookDocumentDiffElementRenderTemplate } from './notebookDiffEditorBrowser.js';\nimport { CellDiffPlaceholderElement, CollapsedCellOverlayWidget, DeletedElement, getOptimizedNestedCodeEditorWidgetOptions, InsertElement, ModifiedElement, NotebookDocumentMetadataElement, UnchangedCellOverlayWidget } from './diffComponents.js';\nimport { CodeEditorWidget } from '../../../../../editor/browser/widget/codeEditor/codeEditorWidget.js';\nimport { DiffEditorWidget } from '../../../../../editor/browser/widget/diffEditor/diffEditorWidget.js';\nimport { IMenuService, MenuItemAction } from '../../../../../platform/actions/common/actions.js';\nimport { IContextMenuService } from '../../../../../platform/contextview/browser/contextView.js';\nimport { INotificationService } from '../../../../../platform/notification/common/notification.js';\nimport { CodiconActionViewItem } from '../view/cellParts/cellActionView.js';\nimport { IMouseWheelEvent } from '../../../../../base/browser/mouseEvent.js';\nimport { IEditorOptions } from '../../../../../editor/common/config/editorOptions.js';\nimport { BareFontInfo } from '../../../../../editor/common/config/fontInfo.js';\nimport { PixelRatio } from '../../../../../base/browser/pixelRatio.js';\nimport { WorkbenchToolBar } from '../../../../../platform/actions/browser/toolbar.js';\nimport { fixedDiffEditorOptions, fixedEditorOptions } from './diffCellEditorOptions.js';\nimport { IAccessibilityService } from '../../../../../platform/accessibility/common/accessibility.js';\nimport { localize } from '../../../../../nls.js';\nimport { IEditorConstructionOptions } from '../../../../../editor/browser/config/editorConfiguration.js';\nimport { IDiffEditorConstructionOptions } from '../../../../../editor/browser/editorBrowser.js';\n\nexport class NotebookCellTextDiffListDelegate implements IListVirtualDelegate<IDiffElementViewModelBase> {\n\tprivate readonly lineHeight: number;\n\n\tconstructor(\n\t\ttargetWindow: Window,\n\t\t@IConfigurationService private readonly configurationService: IConfigurationService\n\t) {\n\t\tconst editorOptions = this.configurationService.getValue<IEditorOptions>('editor');\n\t\tthis.lineHeight = BareFontInfo.createFromRawSettings(editorOptions, PixelRatio.getInstance(targetWindow).value).lineHeight;\n\t}\n\n\tgetHeight(element: IDiffElementViewModelBase): number {\n\t\treturn element.getHeight(this.lineHeight);\n\t}\n\n\thasDynamicHeight(element: IDiffElementViewModelBase): boolean {\n\t\treturn false;\n\t}\n\n\tgetTemplateId(element: IDiffElementViewModelBase): string {\n\t\tswitch (element.type) {\n\t\t\tcase 'delete':\n\t\t\tcase 'insert':\n\t\t\t\treturn CellDiffSingleSideRenderer.TEMPLATE_ID;\n\t\t\tcase 'modified':\n\t\t\tcase 'unchanged':\n\t\t\t\treturn CellDiffSideBySideRenderer.TEMPLATE_ID;\n\t\t\tcase 'placeholder':\n\t\t\t\treturn CellDiffPlaceholderRenderer.TEMPLATE_ID;\n\t\t\tcase 'modifiedMetadata':\n\t\t\tcase 'unchangedMetadata':\n\t\t\t\treturn NotebookDocumentMetadataDiffRenderer.TEMPLATE_ID;\n\t\t}\n\t}\n}\n\nexport class CellDiffPlaceholderRenderer implements IListRenderer<DiffElementPlaceholderViewModel, CellDiffPlaceholderRenderTemplate> {\n\tstatic readonly TEMPLATE_ID = 'cell_diff_placeholder';\n\n\tconstructor(\n\t\treadonly notebookEditor: INotebookTextDiffEditor,\n\t\t@IInstantiationService protected readonly instantiationService: IInstantiationService\n\t) { }\n\n\tget templateId() {\n\t\treturn CellDiffPlaceholderRenderer.TEMPLATE_ID;\n\t}\n\n\trenderTemplate(container: HTMLElement): CellDiffPlaceholderRenderTemplate {\n\t\tconst body = DOM.$('.cell-placeholder-body');\n\t\tDOM.append(container, body);\n\n\t\tconst elementDisposables = new DisposableStore();\n\t\tconst marginOverlay = new CollapsedCellOverlayWidget(body);\n\t\tconst contents = DOM.append(body, DOM.$('.contents'));\n\t\tconst placeholder = DOM.append(contents, DOM.$('span.text', { title: localize('notebook.diff.hiddenCells.expandAll', 'Double click to show') }));\n\n\t\treturn {\n\t\t\tbody,\n\t\t\tcontainer,\n\t\t\tplaceholder,\n\t\t\tmarginOverlay,\n\t\t\telementDisposables\n\t\t};\n\t}\n\n\trenderElement(element: DiffElementPlaceholderViewModel, index: number, templateData: CellDiffPlaceholderRenderTemplate, height: number | undefined): void {\n\t\ttemplateData.body.classList.remove('left', 'right', 'full');\n\t\ttemplateData.elementDisposables.add(this.instantiationService.createInstance(CellDiffPlaceholderElement, element, templateData));\n\t}\n\n\tdisposeTemplate(templateData: CellDiffPlaceholderRenderTemplate): void {\n\t\ttemplateData.container.innerText = '';\n\t}\n\n\tdisposeElement(element: DiffElementPlaceholderViewModel, index: number, templateData: CellDiffPlaceholderRenderTemplate): void {\n\t\ttemplateData.elementDisposables.clear();\n\t}\n}\n\nexport class NotebookDocumentMetadataDiffRenderer implements IListRenderer<NotebookDocumentMetadataViewModel, NotebookDocumentDiffElementRenderTemplate> {\n\tstatic readonly TEMPLATE_ID = 'notebook_metadata_diff_side_by_side';\n\n\tconstructor(\n\t\treadonly notebookEditor: INotebookTextDiffEditor,\n\t\t@IInstantiationService protected readonly instantiationService: IInstantiationService,\n\t\t@IContextMenuService protected readonly contextMenuService: IContextMenuService,\n\t\t@IKeybindingService protected readonly keybindingService: IKeybindingService,\n\t\t@IMenuService protected readonly menuService: IMenuService,\n\t\t@IContextKeyService protected readonly contextKeyService: IContextKeyService,\n\t\t@INotificationService protected readonly notificationService: INotificationService,\n\t\t@IThemeService protected readonly themeService: IThemeService,\n\t\t@IAccessibilityService protected readonly accessibilityService: IAccessibilityService\n\t) { }\n\n\tget templateId() {\n\t\treturn NotebookDocumentMetadataDiffRenderer.TEMPLATE_ID;\n\t}\n\n\trenderTemplate(container: HTMLElement): NotebookDocumentDiffElementRenderTemplate {\n\t\tconst body = DOM.$('.cell-body');\n\t\tDOM.append(container, body);\n\t\tconst diffEditorContainer = DOM.$('.cell-diff-editor-container');\n\t\tDOM.append(body, diffEditorContainer);\n\n\t\tconst cellHeaderContainer = DOM.append(diffEditorContainer, DOM.$('.input-header-container'));\n\t\tconst sourceContainer = DOM.append(diffEditorContainer, DOM.$('.source-container'));\n\t\tconst { editor, editorContainer } = this._buildSourceEditor(sourceContainer);\n\n\t\tconst inputToolbarContainer = DOM.append(sourceContainer, DOM.$('.editor-input-toolbar-container'));\n\t\tconst cellToolbarContainer = DOM.append(inputToolbarContainer, DOM.$('div.property-toolbar'));\n\t\tconst toolbar = this.instantiationService.createInstance(WorkbenchToolBar, cellToolbarContainer, {\n\t\t\tactionViewItemProvider: (action, options) => {\n\t\t\t\tif (action instanceof MenuItemAction) {\n\t\t\t\t\tconst item = new CodiconActionViewItem(action, { hoverDelegate: options.hoverDelegate }, this.keybindingService, this.notificationService, this.contextKeyService, this.themeService, this.contextMenuService, this.accessibilityService);\n\t\t\t\t\treturn item;\n\t\t\t\t}\n\n\t\t\t\treturn undefined;\n\t\t\t},\n\t\t\thighlightToggledItems: true\n\t\t});\n\n\t\tconst borderContainer = DOM.append(body, DOM.$('.border-container'));\n\t\tconst leftBorder = DOM.append(borderContainer, DOM.$('.left-border'));\n\t\tconst rightBorder = DOM.append(borderContainer, DOM.$('.right-border'));\n\t\tconst topBorder = DOM.append(borderContainer, DOM.$('.top-border'));\n\t\tconst bottomBorder = DOM.append(borderContainer, DOM.$('.bottom-border'));\n\t\tconst marginOverlay = new UnchangedCellOverlayWidget(body);\n\t\tconst elementDisposables = new DisposableStore();\n\n\t\treturn {\n\t\t\tbody,\n\t\t\tcontainer,\n\t\t\tdiffEditorContainer,\n\t\t\tcellHeaderContainer,\n\t\t\tsourceEditor: editor,\n\t\t\teditorContainer,\n\t\t\tinputToolbarContainer,\n\t\t\ttoolbar,\n\t\t\tleftBorder,\n\t\t\trightBorder,\n\t\t\ttopBorder,\n\t\t\tbottomBorder,\n\t\t\tmarginOverlay,\n\t\t\telementDisposables\n\t\t};\n\t}\n\n\tprivate _buildSourceEditor(sourceContainer: HTMLElement) {\n\t\treturn buildDiffEditorWidget(this.instantiationService, this.notebookEditor, sourceContainer, { readOnly: true });\n\t}\n\n\trenderElement(element: NotebookDocumentMetadataViewModel, index: number, templateData: NotebookDocumentDiffElementRenderTemplate, height: number | undefined): void {\n\t\ttemplateData.body.classList.remove('full');\n\t\ttemplateData.elementDisposables.add(this.instantiationService.createInstance(NotebookDocumentMetadataElement, this.notebookEditor, element, templateData));\n\t}\n\n\tdisposeTemplate(templateData: NotebookDocumentDiffElementRenderTemplate): void {\n\t\ttemplateData.container.innerText = '';\n\t\ttemplateData.sourceEditor.dispose();\n\t\ttemplateData.toolbar?.dispose();\n\t\ttemplateData.elementDisposables.dispose();\n\t}\n\n\tdisposeElement(element: NotebookDocumentMetadataViewModel, index: number, templateData: NotebookDocumentDiffElementRenderTemplate): void {\n\t\tif (templateData.toolbar) {\n\t\t\ttemplateData.toolbar.context = undefined;\n\t\t}\n\t\ttemplateData.elementDisposables.clear();\n\t}\n}\n\n\nexport class CellDiffSingleSideRenderer implements IListRenderer<SingleSideDiffElementViewModel, CellDiffSingleSideRenderTemplate | CellDiffSideBySideRenderTemplate> {\n\tstatic readonly TEMPLATE_ID = 'cell_diff_single';\n\n\tconstructor(\n\t\treadonly notebookEditor: INotebookTextDiffEditor,\n\t\t@IInstantiationService protected readonly instantiationService: IInstantiationService\n\t) { }\n\n\tget templateId() {\n\t\treturn CellDiffSingleSideRenderer.TEMPLATE_ID;\n\t}\n\n\trenderTemplate(container: HTMLElement): CellDiffSingleSideRenderTemplate {\n\t\tconst body = DOM.$('.cell-body');\n\t\tDOM.append(container, body);\n\t\tconst diffEditorContainer = DOM.$('.cell-diff-editor-container');\n\t\tDOM.append(body, diffEditorContainer);\n\n\t\tconst diagonalFill = DOM.append(body, DOM.$('.diagonal-fill'));\n\n\t\tconst cellHeaderContainer = DOM.append(diffEditorContainer, DOM.$('.input-header-container'));\n\t\tconst sourceContainer = DOM.append(diffEditorContainer, DOM.$('.source-container'));\n\t\tconst { editor, editorContainer } = this._buildSourceEditor(sourceContainer);\n\n\t\tconst metadataHeaderContainer = DOM.append(diffEditorContainer, DOM.$('.metadata-header-container'));\n\t\tconst metadataInfoContainer = DOM.append(diffEditorContainer, DOM.$('.metadata-info-container'));\n\n\t\tconst outputHeaderContainer = DOM.append(diffEditorContainer, DOM.$('.output-header-container'));\n\t\tconst outputInfoContainer = DOM.append(diffEditorContainer, DOM.$('.output-info-container'));\n\n\t\tconst borderContainer = DOM.append(body, DOM.$('.border-container'));\n\t\tconst leftBorder = DOM.append(borderContainer, DOM.$('.left-border'));\n\t\tconst rightBorder = DOM.append(borderContainer, DOM.$('.right-border'));\n\t\tconst topBorder = DOM.append(borderContainer, DOM.$('.top-border'));\n\t\tconst bottomBorder = DOM.append(borderContainer, DOM.$('.bottom-border'));\n\n\t\treturn {\n\t\t\tbody,\n\t\t\tcontainer,\n\t\t\teditorContainer,\n\t\t\tdiffEditorContainer,\n\t\t\tdiagonalFill,\n\t\t\tcellHeaderContainer,\n\t\t\tsourceEditor: editor,\n\t\t\tmetadataHeaderContainer,\n\t\t\tmetadataInfoContainer,\n\t\t\toutputHeaderContainer,\n\t\t\toutputInfoContainer,\n\t\t\tleftBorder,\n\t\t\trightBorder,\n\t\t\ttopBorder,\n\t\t\tbottomBorder,\n\t\t\telementDisposables: new DisposableStore()\n\t\t};\n\t}\n\n\tprivate _buildSourceEditor(sourceContainer: HTMLElement) {\n\t\treturn buildSourceEditor(this.instantiationService, this.notebookEditor, sourceContainer);\n\t}\n\n\trenderElement(element: SingleSideDiffElementViewModel, index: number, templateData: CellDiffSingleSideRenderTemplate, height: number | undefined): void {\n\t\ttemplateData.body.classList.remove('left', 'right', 'full');\n\n\t\tswitch (element.type) {\n\t\t\tcase 'delete':\n\t\t\t\ttemplateData.elementDisposables.add(this.instantiationService.createInstance(DeletedElement, this.notebookEditor, element, templateData));\n\t\t\t\treturn;\n\t\t\tcase 'insert':\n\t\t\t\ttemplateData.elementDisposables.add(this.instantiationService.createInstance(InsertElement, this.notebookEditor, element, templateData));\n\t\t\t\treturn;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tdisposeTemplate(templateData: CellDiffSingleSideRenderTemplate): void {\n\t\ttemplateData.container.innerText = '';\n\t\ttemplateData.sourceEditor.dispose();\n\t\ttemplateData.elementDisposables.dispose();\n\t}\n\n\tdisposeElement(element: SingleSideDiffElementViewModel, index: number, templateData: CellDiffSingleSideRenderTemplate): void {\n\t\ttemplateData.elementDisposables.clear();\n\t}\n}\n\n\nexport class CellDiffSideBySideRenderer implements IListRenderer<SideBySideDiffElementViewModel, CellDiffSideBySideRenderTemplate> {\n\tstatic readonly TEMPLATE_ID = 'cell_diff_side_by_side';\n\n\tconstructor(\n\t\treadonly notebookEditor: INotebookTextDiffEditor,\n\t\t@IInstantiationService protected readonly instantiationService: IInstantiationService,\n\t\t@IContextMenuService protected readonly contextMenuService: IContextMenuService,\n\t\t@IKeybindingService protected readonly keybindingService: IKeybindingService,\n\t\t@IMenuService protected readonly menuService: IMenuService,\n\t\t@IContextKeyService protected readonly contextKeyService: IContextKeyService,\n\t\t@INotificationService protected readonly notificationService: INotificationService,\n\t\t@IThemeService protected readonly themeService: IThemeService,\n\t\t@IAccessibilityService protected readonly accessibilityService: IAccessibilityService\n\t) { }\n\n\tget templateId() {\n\t\treturn CellDiffSideBySideRenderer.TEMPLATE_ID;\n\t}\n\n\trenderTemplate(container: HTMLElement): CellDiffSideBySideRenderTemplate {\n\t\tconst body = DOM.$('.cell-body');\n\t\tDOM.append(container, body);\n\t\tconst diffEditorContainer = DOM.$('.cell-diff-editor-container');\n\t\tDOM.append(body, diffEditorContainer);\n\n\t\tconst cellHeaderContainer = DOM.append(diffEditorContainer, DOM.$('.input-header-container'));\n\t\tconst sourceContainer = DOM.append(diffEditorContainer, DOM.$('.source-container'));\n\t\tconst { editor, editorContainer } = this._buildSourceEditor(sourceContainer);\n\n\t\tconst inputToolbarContainer = DOM.append(sourceContainer, DOM.$('.editor-input-toolbar-container'));\n\t\tconst cellToolbarContainer = DOM.append(inputToolbarContainer, DOM.$('div.property-toolbar'));\n\t\tconst toolbar = this.instantiationService.createInstance(WorkbenchToolBar, cellToolbarContainer, {\n\t\t\tactionViewItemProvider: (action, options) => {\n\t\t\t\tif (action instanceof MenuItemAction) {\n\t\t\t\t\tconst item = new CodiconActionViewItem(action, { hoverDelegate: options.hoverDelegate }, this.keybindingService, this.notificationService, this.contextKeyService, this.themeService, this.contextMenuService, this.accessibilityService);\n\t\t\t\t\treturn item;\n\t\t\t\t}\n\n\t\t\t\treturn undefined;\n\t\t\t},\n\t\t\thighlightToggledItems: true\n\t\t});\n\n\t\tconst metadataHeaderContainer = DOM.append(diffEditorContainer, DOM.$('.metadata-header-container'));\n\t\tconst metadataInfoContainer = DOM.append(diffEditorContainer, DOM.$('.metadata-info-container'));\n\n\t\tconst outputHeaderContainer = DOM.append(diffEditorContainer, DOM.$('.output-header-container'));\n\t\tconst outputInfoContainer = DOM.append(diffEditorContainer, DOM.$('.output-info-container'));\n\n\t\tconst borderContainer = DOM.append(body, DOM.$('.border-container'));\n\t\tconst leftBorder = DOM.append(borderContainer, DOM.$('.left-border'));\n\t\tconst rightBorder = DOM.append(borderContainer, DOM.$('.right-border'));\n\t\tconst topBorder = DOM.append(borderContainer, DOM.$('.top-border'));\n\t\tconst bottomBorder = DOM.append(borderContainer, DOM.$('.bottom-border'));\n\t\tconst marginOverlay = new UnchangedCellOverlayWidget(body);\n\t\tconst elementDisposables = new DisposableStore();\n\n\t\treturn {\n\t\t\tbody,\n\t\t\tcontainer,\n\t\t\tdiffEditorContainer,\n\t\t\tcellHeaderContainer,\n\t\t\tsourceEditor: editor,\n\t\t\teditorContainer,\n\t\t\tinputToolbarContainer,\n\t\t\ttoolbar,\n\t\t\tmetadataHeaderContainer,\n\t\t\tmetadataInfoContainer,\n\t\t\toutputHeaderContainer,\n\t\t\toutputInfoContainer,\n\t\t\tleftBorder,\n\t\t\trightBorder,\n\t\t\ttopBorder,\n\t\t\tbottomBorder,\n\t\t\tmarginOverlay,\n\t\t\telementDisposables\n\t\t};\n\t}\n\n\tprivate _buildSourceEditor(sourceContainer: HTMLElement) {\n\t\treturn buildDiffEditorWidget(this.instantiationService, this.notebookEditor, sourceContainer);\n\t}\n\n\trenderElement(element: SideBySideDiffElementViewModel, index: number, templateData: CellDiffSideBySideRenderTemplate, height: number | undefined): void {\n\t\ttemplateData.body.classList.remove('left', 'right', 'full');\n\n\t\tswitch (element.type) {\n\t\t\tcase 'unchanged':\n\t\t\t\ttemplateData.elementDisposables.add(this.instantiationService.createInstance(ModifiedElement, this.notebookEditor, element, templateData));\n\t\t\t\treturn;\n\t\t\tcase 'modified':\n\t\t\t\ttemplateData.elementDisposables.add(this.instantiationService.createInstance(ModifiedElement, this.notebookEditor, element, templateData));\n\t\t\t\treturn;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tdisposeTemplate(templateData: CellDiffSideBySideRenderTemplate): void {\n\t\ttemplateData.container.innerText = '';\n\t\ttemplateData.sourceEditor.dispose();\n\t\ttemplateData.toolbar?.dispose();\n\t\ttemplateData.elementDisposables.dispose();\n\t}\n\n\tdisposeElement(element: SideBySideDiffElementViewModel, index: number, templateData: CellDiffSideBySideRenderTemplate): void {\n\t\tif (templateData.toolbar) {\n\t\t\ttemplateData.toolbar.context = undefined;\n\t\t}\n\t\ttemplateData.elementDisposables.clear();\n\t}\n}\n\nexport class NotebookMouseController<T> extends MouseController<T> {\n\tprotected override onViewPointer(e: IListMouseEvent<T>): void {\n\t\tif (isMonacoEditor(e.browserEvent.target as HTMLElement)) {\n\t\t\tconst focus = typeof e.index === 'undefined' ? [] : [e.index];\n\t\t\tthis.list.setFocus(focus, e.browserEvent);\n\t\t} else {\n\t\t\tsuper.onViewPointer(e);\n\t\t}\n\t}\n}\n\nexport class NotebookTextDiffList extends WorkbenchList<IDiffElementViewModelBase> implements IDisposable, IStyleController {\n\tprivate styleElement?: HTMLStyleElement;\n\n\tget rowsContainer(): HTMLElement {\n\t\treturn this.view.containerDomNode;\n\t}\n\n\tconstructor(\n\t\tlistUser: string,\n\t\tcontainer: HTMLElement,\n\t\tdelegate: IListVirtualDelegate<IDiffElementViewModelBase>,\n\t\trenderers: IListRenderer<IDiffElementViewModelBase, CellDiffSingleSideRenderTemplate | CellDiffSideBySideRenderTemplate | CellDiffPlaceholderRenderTemplate | NotebookDocumentDiffElementRenderTemplate>[],\n\t\tcontextKeyService: IContextKeyService,\n\t\toptions: IWorkbenchListOptions<IDiffElementViewModelBase>,\n\t\t@IListService listService: IListService,\n\t\t@IConfigurationService configurationService: IConfigurationService,\n\t\t@IInstantiationService instantiationService: IInstantiationService) {\n\t\tsuper(listUser, container, delegate, renderers, options, contextKeyService, listService, configurationService, instantiationService);\n\t}\n\n\tprotected override createMouseController(options: IListOptions<IDiffElementViewModelBase>): MouseController<IDiffElementViewModelBase> {\n\t\treturn new NotebookMouseController(this);\n\t}\n\n\tgetCellViewScrollTop(element: IDiffElementViewModelBase): number {\n\t\tconst index = this.indexOf(element);\n\t\t// if (index === undefined || index < 0 || index >= this.length) {\n\t\t// \tthis._getViewIndexUpperBound(element);\n\t\t// \tthrow new ListError(this.listUser, `Invalid index ${index}`);\n\t\t// }\n\n\t\treturn this.view.elementTop(index);\n\t}\n\n\tgetScrollHeight() {\n\t\treturn this.view.scrollHeight;\n\t}\n\n\ttriggerScrollFromMouseWheelEvent(browserEvent: IMouseWheelEvent) {\n\t\tthis.view.delegateScrollFromMouseWheelEvent(browserEvent);\n\t}\n\n\tdelegateVerticalScrollbarPointerDown(browserEvent: PointerEvent) {\n\t\tthis.view.delegateVerticalScrollbarPointerDown(browserEvent);\n\t}\n\n\tclear() {\n\t\tsuper.splice(0, this.length);\n\t}\n\n\n\tupdateElementHeight2(element: IDiffElementViewModelBase, size: number) {\n\t\tconst viewIndex = this.indexOf(element);\n\t\tconst focused = this.getFocus();\n\n\t\tthis.view.updateElementHeight(viewIndex, size, focused.length ? focused[0] : null);\n\t}\n\n\toverride style(styles: IListStyles) {\n\t\tconst selectorSuffix = this.view.domId;\n\t\tif (!this.styleElement) {\n\t\t\tthis.styleElement = DOM.createStyleSheet(this.view.domNode);\n\t\t}\n\t\tconst suffix = selectorSuffix && `.${selectorSuffix}`;\n\t\tconst content: string[] = [];\n\n\t\tif (styles.listBackground) {\n\t\t\tcontent.push(`.monaco-list${suffix} > div.monaco-scrollable-element > .monaco-list-rows { background: ${styles.listBackground}; }`);\n\t\t}\n\n\t\tif (styles.listFocusBackground) {\n\t\t\tcontent.push(`.monaco-list${suffix}:focus > div.monaco-scrollable-element > .monaco-list-rows > .monaco-list-row.focused { background-color: ${styles.listFocusBackground}; }`);\n\t\t\tcontent.push(`.monaco-list${suffix}:focus > div.monaco-scrollable-element > .monaco-list-rows > .monaco-list-row.focused:hover { background-color: ${styles.listFocusBackground}; }`); // overwrite :hover style in this case!\n\t\t}\n\n\t\tif (styles.listFocusForeground) {\n\t\t\tcontent.push(`.monaco-list${suffix}:focus > div.monaco-scrollable-element > .monaco-list-rows > .monaco-list-row.focused { color: ${styles.listFocusForeground}; }`);\n\t\t}\n\n\t\tif (styles.listActiveSelectionBackground) {\n\t\t\tcontent.push(`.monaco-list${suffix}:focus > div.monaco-scrollable-element > .monaco-list-rows > .monaco-list-row.selected { background-color: ${styles.listActiveSelectionBackground}; }`);\n\t\t\tcontent.push(`.monaco-list${suffix}:focus > div.monaco-scrollable-element > .monaco-list-rows > .monaco-list-row.selected:hover { background-color: ${styles.listActiveSelectionBackground}; }`); // overwrite :hover style in this case!\n\t\t}\n\n\t\tif (styles.listActiveSelectionForeground) {\n\t\t\tcontent.push(`.monaco-list${suffix}:focus > div.monaco-scrollable-element > .monaco-list-rows > .monaco-list-row.selected { color: ${styles.listActiveSelectionForeground}; }`);\n\t\t}\n\n\t\tif (styles.listFocusAndSelectionBackground) {\n\t\t\tcontent.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${suffix}:focus > div.monaco-scrollable-element > .monaco-list-rows > .monaco-list-row.selected.focused { background-color: ${styles.listFocusAndSelectionBackground}; }\n\t\t\t`);\n\t\t}\n\n\t\tif (styles.listFocusAndSelectionForeground) {\n\t\t\tcontent.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${suffix}:focus > div.monaco-scrollable-element > .monaco-list-rows > .monaco-list-row.selected.focused { color: ${styles.listFocusAndSelectionForeground}; }\n\t\t\t`);\n\t\t}\n\n\t\tif (styles.listInactiveFocusBackground) {\n\t\t\tcontent.push(`.monaco-list${suffix} > div.monaco-scrollable-element > .monaco-list-rows > .monaco-list-row.focused { background-color:  ${styles.listInactiveFocusBackground}; }`);\n\t\t\tcontent.push(`.monaco-list${suffix} > div.monaco-scrollable-element > .monaco-list-rows > .monaco-list-row.focused:hover { background-color:  ${styles.listInactiveFocusBackground}; }`); // overwrite :hover style in this case!\n\t\t}\n\n\t\tif (styles.listInactiveSelectionBackground) {\n\t\t\tcontent.push(`.monaco-list${suffix} > div.monaco-scrollable-element > .monaco-list-rows > .monaco-list-row.selected { background-color:  ${styles.listInactiveSelectionBackground}; }`);\n\t\t\tcontent.push(`.monaco-list${suffix} > div.monaco-scrollable-element > .monaco-list-rows > .monaco-list-row.selected:hover { background-color:  ${styles.listInactiveSelectionBackground}; }`); // overwrite :hover style in this case!\n\t\t}\n\n\t\tif (styles.listInactiveSelectionForeground) {\n\t\t\tcontent.push(`.monaco-list${suffix} > div.monaco-scrollable-element > .monaco-list-rows > .monaco-list-row.selected { color: ${styles.listInactiveSelectionForeground}; }`);\n\t\t}\n\n\t\tif (styles.listHoverBackground) {\n\t\t\tcontent.push(`.monaco-list${suffix}:not(.drop-target) > div.monaco-scrollable-element > .monaco-list-rows > .monaco-list-row:hover:not(.selected):not(.focused) { background-color:  ${styles.listHoverBackground}; }`);\n\t\t}\n\n\t\tif (styles.listHoverForeground) {\n\t\t\tcontent.push(`.monaco-list${suffix} > div.monaco-scrollable-element > .monaco-list-rows > .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${styles.listHoverForeground}; }`);\n\t\t}\n\n\t\tif (styles.listSelectionOutline) {\n\t\t\tcontent.push(`.monaco-list${suffix} > div.monaco-scrollable-element > .monaco-list-rows > .monaco-list-row.selected { outline: 1px dotted ${styles.listSelectionOutline}; outline-offset: -1px; }`);\n\t\t}\n\n\t\tif (styles.listFocusOutline) {\n\t\t\tcontent.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${suffix}:focus > div.monaco-scrollable-element > .monaco-list-rows > .monaco-list-row.focused { outline: 1px solid ${styles.listFocusOutline}; outline-offset: -1px; }\n\t\t\t`);\n\t\t}\n\n\t\tif (styles.listInactiveFocusOutline) {\n\t\t\tcontent.push(`.monaco-list${suffix} > div.monaco-scrollable-element > .monaco-list-rows > .monaco-list-row.focused { outline: 1px dotted ${styles.listInactiveFocusOutline}; outline-offset: -1px; }`);\n\t\t}\n\n\t\tif (styles.listHoverOutline) {\n\t\t\tcontent.push(`.monaco-list${suffix} > div.monaco-scrollable-element > .monaco-list-rows > .monaco-list-row:hover { outline: 1px dashed ${styles.listHoverOutline}; outline-offset: -1px; }`);\n\t\t}\n\n\t\tif (styles.listDropOverBackground) {\n\t\t\tcontent.push(`\n\t\t\t\t.monaco-list${suffix}.drop-target,\n\t\t\t\t.monaco-list${suffix} > div.monaco-scrollable-element > .monaco-list-rows.drop-target,\n\t\t\t\t.monaco-list${suffix} > div.monaco-scrollable-element > .monaco-list-row.drop-target { background-color: ${styles.listDropOverBackground} !important; color: inherit !important; }\n\t\t\t`);\n\t\t}\n\n\t\tconst newStyles = content.join('\\n');\n\t\tif (newStyles !== this.styleElement.textContent) {\n\t\t\tthis.styleElement.textContent = newStyles;\n\t\t}\n\t}\n}\n\n\nfunction buildDiffEditorWidget(instantiationService: IInstantiationService, notebookEditor: INotebookTextDiffEditor, sourceContainer: HTMLElement, options: IDiffEditorConstructionOptions = {}) {\n\tconst editorContainer = DOM.append(sourceContainer, DOM.$('.editor-container'));\n\n\tconst editor = instantiationService.createInstance(DiffEditorWidget, editorContainer, {\n\t\t...fixedDiffEditorOptions,\n\t\toverflowWidgetsDomNode: notebookEditor.getOverflowContainerDomNode(),\n\t\toriginalEditable: false,\n\t\tignoreTrimWhitespace: false,\n\t\tautomaticLayout: false,\n\t\tdimension: {\n\t\t\theight: 0,\n\t\t\twidth: 0\n\t\t},\n\t\trenderSideBySide: true,\n\t\tuseInlineViewWhenSpaceIsLimited: false,\n\t\t...options\n\t}, {\n\t\toriginalEditor: getOptimizedNestedCodeEditorWidgetOptions(),\n\t\tmodifiedEditor: getOptimizedNestedCodeEditorWidgetOptions()\n\t});\n\n\treturn {\n\t\teditor,\n\t\teditorContainer\n\t};\n}\n\nfunction buildSourceEditor(instantiationService: IInstantiationService, notebookEditor: INotebookTextDiffEditor, sourceContainer: HTMLElement, options: IEditorConstructionOptions = {}) {\n\tconst editorContainer = DOM.append(sourceContainer, DOM.$('.editor-container'));\n\n\tconst editor = instantiationService.createInstance(CodeEditorWidget, editorContainer, {\n\t\t...fixedEditorOptions,\n\t\tglyphMargin: false,\n\t\tdimension: {\n\t\t\twidth: (notebookEditor.getLayoutInfo().width - 2 * DIFF_CELL_MARGIN) / 2 - 18,\n\t\t\theight: 0\n\t\t},\n\t\tautomaticLayout: false,\n\t\toverflowWidgetsDomNode: notebookEditor.getOverflowContainerDomNode(),\n\t\treadOnly: true,\n\t}, {});\n\n\treturn { editor, editorContainer };\n}\n"],
  "mappings": "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",
  "names": []
}
