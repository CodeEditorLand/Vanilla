{
  "version": 3,
  "sources": ["../../../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/contrib/notebook/browser/contrib/layout/layoutActions.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { localize2 } from \"../../../../../../nls.js\";\nimport {\n\tAction2,\n\tMenuId,\n\tregisterAction2,\n} from \"../../../../../../platform/actions/common/actions.js\";\nimport { IConfigurationService } from \"../../../../../../platform/configuration/common/configuration.js\";\nimport type { ServicesAccessor } from \"../../../../../../platform/instantiation/common/instantiation.js\";\nimport { NotebookSetting } from \"../../../common/notebookCommon.js\";\nimport {\n\ttype INotebookActionContext,\n\tNOTEBOOK_ACTIONS_CATEGORY,\n} from \"../../controller/coreActions.js\";\n\nconst TOGGLE_CELL_TOOLBAR_POSITION = \"notebook.toggleCellToolbarPosition\";\n\nexport class ToggleCellToolbarPositionAction extends Action2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: TOGGLE_CELL_TOOLBAR_POSITION,\n\t\t\ttitle: localize2(\n\t\t\t\t\"notebook.toggleCellToolbarPosition\",\n\t\t\t\t\"Toggle Cell Toolbar Position\",\n\t\t\t),\n\t\t\tmenu: [\n\t\t\t\t{\n\t\t\t\t\tid: MenuId.NotebookCellTitle,\n\t\t\t\t\tgroup: \"View\",\n\t\t\t\t\torder: 1,\n\t\t\t\t},\n\t\t\t],\n\t\t\tcategory: NOTEBOOK_ACTIONS_CATEGORY,\n\t\t\tf1: false,\n\t\t});\n\t}\n\n\tasync run(accessor: ServicesAccessor, context: any): Promise<void> {\n\t\tconst editor =\n\t\t\tcontext && context.ui\n\t\t\t\t? (context as INotebookActionContext).notebookEditor\n\t\t\t\t: undefined;\n\t\tif (editor && editor.hasModel()) {\n\t\t\t// from toolbar\n\t\t\tconst viewType = editor.textModel.viewType;\n\t\t\tconst configurationService = accessor.get(IConfigurationService);\n\t\t\tconst toolbarPosition = configurationService.getValue<\n\t\t\t\tstring | { [key: string]: string }\n\t\t\t>(NotebookSetting.cellToolbarLocation);\n\t\t\tconst newConfig = this.togglePosition(viewType, toolbarPosition);\n\t\t\tawait configurationService.updateValue(\n\t\t\t\tNotebookSetting.cellToolbarLocation,\n\t\t\t\tnewConfig,\n\t\t\t);\n\t\t}\n\t}\n\n\ttogglePosition(\n\t\tviewType: string,\n\t\ttoolbarPosition: string | { [key: string]: string },\n\t): { [key: string]: string } {\n\t\tif (typeof toolbarPosition === \"string\") {\n\t\t\t// legacy\n\t\t\tif ([\"left\", \"right\", \"hidden\"].indexOf(toolbarPosition) >= 0) {\n\t\t\t\t// valid position\n\t\t\t\tconst newViewValue =\n\t\t\t\t\ttoolbarPosition === \"right\" ? \"left\" : \"right\";\n\t\t\t\tconst config: { [key: string]: string } = {\n\t\t\t\t\tdefault: toolbarPosition,\n\t\t\t\t};\n\t\t\t\tconfig[viewType] = newViewValue;\n\t\t\t\treturn config;\n\t\t\t} else {\n\t\t\t\t// invalid position\n\t\t\t\tconst config: { [key: string]: string } = {\n\t\t\t\t\tdefault: \"right\",\n\t\t\t\t};\n\t\t\t\tconfig[viewType] = \"left\";\n\t\t\t\treturn config;\n\t\t\t}\n\t\t} else {\n\t\t\tconst oldValue =\n\t\t\t\ttoolbarPosition[viewType] ??\n\t\t\t\ttoolbarPosition[\"default\"] ??\n\t\t\t\t\"right\";\n\t\t\tconst newViewValue = oldValue === \"right\" ? \"left\" : \"right\";\n\t\t\tconst newConfig = {\n\t\t\t\t...toolbarPosition,\n\t\t\t};\n\t\t\tnewConfig[viewType] = newViewValue;\n\t\t\treturn newConfig;\n\t\t}\n\t}\n}\nregisterAction2(ToggleCellToolbarPositionAction);\n"],
  "mappings": ";;AAKA,SAAS,iBAAiB;AAC1B;AAAA,EACC;AAAA,EACA;AAAA,EACA;AAAA,OACM;AACP,SAAS,6BAA6B;AAEtC,SAAS,uBAAuB;AAChC;AAAA,EAEC;AAAA,OACM;AAEP,MAAM,+BAA+B;AAE9B,MAAM,wCAAwC,QAAQ;AAAA,EArB7D,OAqB6D;AAAA;AAAA;AAAA,EAC5D,cAAc;AACb,UAAM;AAAA,MACL,IAAI;AAAA,MACJ,OAAO;AAAA,QACN;AAAA,QACA;AAAA,MACD;AAAA,MACA,MAAM;AAAA,QACL;AAAA,UACC,IAAI,OAAO;AAAA,UACX,OAAO;AAAA,UACP,OAAO;AAAA,QACR;AAAA,MACD;AAAA,MACA,UAAU;AAAA,MACV,IAAI;AAAA,IACL,CAAC;AAAA,EACF;AAAA,EAEA,MAAM,IAAI,UAA4B,SAA6B;AAClE,UAAM,SACL,WAAW,QAAQ,KACf,QAAmC,iBACpC;AACJ,QAAI,UAAU,OAAO,SAAS,GAAG;AAEhC,YAAM,WAAW,OAAO,UAAU;AAClC,YAAM,uBAAuB,SAAS,IAAI,qBAAqB;AAC/D,YAAM,kBAAkB,qBAAqB,SAE3C,gBAAgB,mBAAmB;AACrC,YAAM,YAAY,KAAK,eAAe,UAAU,eAAe;AAC/D,YAAM,qBAAqB;AAAA,QAC1B,gBAAgB;AAAA,QAChB;AAAA,MACD;AAAA,IACD;AAAA,EACD;AAAA,EAEA,eACC,UACA,iBAC4B;AAC5B,QAAI,OAAO,oBAAoB,UAAU;AAExC,UAAI,CAAC,QAAQ,SAAS,QAAQ,EAAE,QAAQ,eAAe,KAAK,GAAG;AAE9D,cAAM,eACL,oBAAoB,UAAU,SAAS;AACxC,cAAM,SAAoC;AAAA,UACzC,SAAS;AAAA,QACV;AACA,eAAO,QAAQ,IAAI;AACnB,eAAO;AAAA,MACR,OAAO;AAEN,cAAM,SAAoC;AAAA,UACzC,SAAS;AAAA,QACV;AACA,eAAO,QAAQ,IAAI;AACnB,eAAO;AAAA,MACR;AAAA,IACD,OAAO;AACN,YAAM,WACL,gBAAgB,QAAQ,KACxB,gBAAgB,SAAS,KACzB;AACD,YAAM,eAAe,aAAa,UAAU,SAAS;AACrD,YAAM,YAAY;AAAA,QACjB,GAAG;AAAA,MACJ;AACA,gBAAU,QAAQ,IAAI;AACtB,aAAO;AAAA,IACR;AAAA,EACD;AACD;AACA,gBAAgB,+BAA+B;",
  "names": []
}
