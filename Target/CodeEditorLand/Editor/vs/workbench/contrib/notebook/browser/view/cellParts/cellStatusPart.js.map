{
  "version": 3,
  "sources": ["../../../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/contrib/notebook/browser/view/cellParts/cellStatusPart.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as DOM from '../../../../../../base/browser/dom.js';\nimport { StandardKeyboardEvent } from '../../../../../../base/browser/keyboardEvent.js';\nimport { SimpleIconLabel } from '../../../../../../base/browser/ui/iconLabel/simpleIconLabel.js';\nimport { WorkbenchActionExecutedClassification, WorkbenchActionExecutedEvent } from '../../../../../../base/common/actions.js';\nimport { toErrorMessage } from '../../../../../../base/common/errorMessage.js';\nimport { Emitter, Event } from '../../../../../../base/common/event.js';\nimport { stripIcons } from '../../../../../../base/common/iconLabels.js';\nimport { KeyCode } from '../../../../../../base/common/keyCodes.js';\nimport { Disposable, DisposableStore, dispose } from '../../../../../../base/common/lifecycle.js';\nimport { MarshalledId } from '../../../../../../base/common/marshallingIds.js';\nimport { ICodeEditor } from '../../../../../../editor/browser/editorBrowser.js';\nimport { isThemeColor } from '../../../../../../editor/common/editorCommon.js';\nimport { ICommandService } from '../../../../../../platform/commands/common/commands.js';\nimport { IInstantiationService } from '../../../../../../platform/instantiation/common/instantiation.js';\nimport { INotificationService } from '../../../../../../platform/notification/common/notification.js';\nimport { ITelemetryService } from '../../../../../../platform/telemetry/common/telemetry.js';\nimport { IThemeService } from '../../../../../../platform/theme/common/themeService.js';\nimport { ThemeColor } from '../../../../../../base/common/themables.js';\nimport { INotebookCellActionContext } from '../../controller/coreActions.js';\nimport { CellFocusMode, ICellViewModel, INotebookEditorDelegate } from '../../notebookBrowser.js';\nimport { CellContentPart } from '../cellPart.js';\nimport { ClickTargetType, IClickTarget } from './cellWidgets.js';\nimport { CodeCellViewModel } from '../../viewModel/codeCellViewModel.js';\nimport { CellStatusbarAlignment, INotebookCellStatusBarItem } from '../../../common/notebookCommon.js';\nimport { IHoverDelegate, IHoverDelegateOptions } from '../../../../../../base/browser/ui/hover/hoverDelegate.js';\nimport { IHoverService } from '../../../../../../platform/hover/browser/hover.js';\nimport { IConfigurationService } from '../../../../../../platform/configuration/common/configuration.js';\nimport { HoverPosition } from '../../../../../../base/browser/ui/hover/hoverWidget.js';\nimport type { IManagedHoverTooltipMarkdownString } from '../../../../../../base/browser/ui/hover/hover.js';\n\nconst $ = DOM.$;\n\n\nexport class CellEditorStatusBar extends CellContentPart {\n\treadonly statusBarContainer: HTMLElement;\n\n\tprivate readonly leftItemsContainer: HTMLElement;\n\tprivate readonly rightItemsContainer: HTMLElement;\n\tprivate readonly itemsDisposable: DisposableStore;\n\n\tprivate leftItems: CellStatusBarItem[] = [];\n\tprivate rightItems: CellStatusBarItem[] = [];\n\tprivate width: number = 0;\n\n\tprivate currentContext: INotebookCellActionContext | undefined;\n\tprotected readonly _onDidClick: Emitter<IClickTarget> = this._register(new Emitter<IClickTarget>());\n\treadonly onDidClick: Event<IClickTarget> = this._onDidClick.event;\n\n\tprivate readonly hoverDelegate: IHoverDelegate;\n\n\tconstructor(\n\t\tprivate readonly _notebookEditor: INotebookEditorDelegate,\n\t\tprivate readonly _cellContainer: HTMLElement,\n\t\teditorPart: HTMLElement,\n\t\tprivate readonly _editor: ICodeEditor | undefined,\n\t\t@IInstantiationService private readonly _instantiationService: IInstantiationService,\n\t\t@IHoverService hoverService: IHoverService,\n\t\t@IConfigurationService configurationService: IConfigurationService,\n\t\t@IThemeService private readonly _themeService: IThemeService,\n\t) {\n\t\tsuper();\n\t\tthis.statusBarContainer = DOM.append(editorPart, $('.cell-statusbar-container'));\n\t\tthis.statusBarContainer.tabIndex = -1;\n\t\tconst leftItemsContainer = DOM.append(this.statusBarContainer, $('.cell-status-left'));\n\t\tconst rightItemsContainer = DOM.append(this.statusBarContainer, $('.cell-status-right'));\n\t\tthis.leftItemsContainer = DOM.append(leftItemsContainer, $('.cell-contributed-items.cell-contributed-items-left'));\n\t\tthis.rightItemsContainer = DOM.append(rightItemsContainer, $('.cell-contributed-items.cell-contributed-items-right'));\n\n\t\tthis.itemsDisposable = this._register(new DisposableStore());\n\n\t\tthis.hoverDelegate = new class implements IHoverDelegate {\n\t\t\tprivate _lastHoverHideTime: number = 0;\n\n\t\t\treadonly showHover = (options: IHoverDelegateOptions) => {\n\t\t\t\toptions.position = options.position ?? {};\n\t\t\t\toptions.position.hoverPosition = HoverPosition.ABOVE;\n\t\t\t\treturn hoverService.showHover(options);\n\t\t\t};\n\n\t\t\treadonly placement = 'element';\n\n\t\t\tget delay(): number {\n\t\t\t\treturn Date.now() - this._lastHoverHideTime < 200\n\t\t\t\t\t? 0  // show instantly when a hover was recently shown\n\t\t\t\t\t: configurationService.getValue<number>('workbench.hover.delay');\n\t\t\t}\n\n\t\t\tonDidHideHover() {\n\t\t\t\tthis._lastHoverHideTime = Date.now();\n\t\t\t}\n\t\t};\n\n\t\tthis._register(this._themeService.onDidColorThemeChange(() => this.currentContext && this.updateContext(this.currentContext)));\n\n\t\tthis._register(DOM.addDisposableListener(this.statusBarContainer, DOM.EventType.CLICK, e => {\n\t\t\tif (e.target === leftItemsContainer || e.target === rightItemsContainer || e.target === this.statusBarContainer) {\n\t\t\t\t// hit on empty space\n\t\t\t\tthis._onDidClick.fire({\n\t\t\t\t\ttype: ClickTargetType.Container,\n\t\t\t\t\tevent: e\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tconst target = e.target;\n\t\t\t\tlet itemHasCommand = false;\n\t\t\t\tif (target && DOM.isHTMLElement(target)) {\n\t\t\t\t\tconst targetElement = <HTMLElement>target;\n\t\t\t\t\tif (targetElement.classList.contains('cell-status-item-has-command')) {\n\t\t\t\t\t\titemHasCommand = true;\n\t\t\t\t\t} else if (targetElement.parentElement && targetElement.parentElement.classList.contains('cell-status-item-has-command')) {\n\t\t\t\t\t\titemHasCommand = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (itemHasCommand) {\n\t\t\t\t\tthis._onDidClick.fire({\n\t\t\t\t\t\ttype: ClickTargetType.ContributedCommandItem,\n\t\t\t\t\t\tevent: e\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\t// text\n\t\t\t\t\tthis._onDidClick.fire({\n\t\t\t\t\t\ttype: ClickTargetType.ContributedTextItem,\n\t\t\t\t\t\tevent: e\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\t}\n\n\n\toverride didRenderCell(element: ICellViewModel): void {\n\t\tif (this._notebookEditor.hasModel()) {\n\t\t\tconst context: (INotebookCellActionContext & { $mid: number }) = {\n\t\t\t\tui: true,\n\t\t\t\tcell: element,\n\t\t\t\tnotebookEditor: this._notebookEditor,\n\t\t\t\t$mid: MarshalledId.NotebookCellActionContext\n\t\t\t};\n\t\t\tthis.updateContext(context);\n\t\t}\n\n\t\tif (this._editor) {\n\t\t\t// Focus Mode\n\t\t\tconst updateFocusModeForEditorEvent = () => {\n\t\t\t\tif (this._editor && (this._editor.hasWidgetFocus() || (this.statusBarContainer.ownerDocument.activeElement && this.statusBarContainer.contains(this.statusBarContainer.ownerDocument.activeElement)))) {\n\t\t\t\t\telement.focusMode = CellFocusMode.Editor;\n\t\t\t\t} else {\n\t\t\t\t\tconst currentMode = element.focusMode;\n\t\t\t\t\tif (currentMode === CellFocusMode.ChatInput) {\n\t\t\t\t\t\telement.focusMode = CellFocusMode.ChatInput;\n\t\t\t\t\t} else if (currentMode === CellFocusMode.Output && this._notebookEditor.hasWebviewFocus()) {\n\t\t\t\t\t\telement.focusMode = CellFocusMode.Output;\n\t\t\t\t\t} else {\n\t\t\t\t\t\telement.focusMode = CellFocusMode.Container;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tthis.cellDisposables.add(this._editor.onDidFocusEditorWidget(() => {\n\t\t\t\tupdateFocusModeForEditorEvent();\n\t\t\t}));\n\t\t\tthis.cellDisposables.add(this._editor.onDidBlurEditorWidget(() => {\n\t\t\t\t// this is for a special case:\n\t\t\t\t// users click the status bar empty space, which we will then focus the editor\n\t\t\t\t// so we don't want to update the focus state too eagerly, it will be updated with onDidFocusEditorWidget\n\t\t\t\tif (\n\t\t\t\t\tthis._notebookEditor.hasEditorFocus() &&\n\t\t\t\t\t!(this.statusBarContainer.ownerDocument.activeElement && this.statusBarContainer.contains(this.statusBarContainer.ownerDocument.activeElement))) {\n\t\t\t\t\tupdateFocusModeForEditorEvent();\n\t\t\t\t}\n\t\t\t}));\n\n\t\t\t// Mouse click handlers\n\t\t\tthis.cellDisposables.add(this.onDidClick(e => {\n\t\t\t\tif (this.currentCell instanceof CodeCellViewModel && e.type !== ClickTargetType.ContributedCommandItem && this._editor) {\n\t\t\t\t\tconst target = this._editor.getTargetAtClientPoint(e.event.clientX, e.event.clientY - this._notebookEditor.notebookOptions.computeEditorStatusbarHeight(this.currentCell.internalMetadata, this.currentCell.uri));\n\t\t\t\t\tif (target?.position) {\n\t\t\t\t\t\tthis._editor.setPosition(target.position);\n\t\t\t\t\t\tthis._editor.focus();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}));\n\t\t}\n\t}\n\n\toverride updateInternalLayoutNow(element: ICellViewModel): void {\n\t\t// todo@rebornix layer breaker\n\t\tthis._cellContainer.classList.toggle('cell-statusbar-hidden', this._notebookEditor.notebookOptions.computeEditorStatusbarHeight(element.internalMetadata, element.uri) === 0);\n\n\t\tconst layoutInfo = element.layoutInfo;\n\t\tconst width = layoutInfo.editorWidth;\n\t\tif (!width) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.width = width;\n\t\tthis.statusBarContainer.style.width = `${width}px`;\n\n\t\tconst maxItemWidth = this.getMaxItemWidth();\n\t\tthis.leftItems.forEach(item => item.maxWidth = maxItemWidth);\n\t\tthis.rightItems.forEach(item => item.maxWidth = maxItemWidth);\n\t}\n\n\tprivate getMaxItemWidth() {\n\t\treturn this.width / 2;\n\t}\n\n\tupdateContext(context: INotebookCellActionContext) {\n\t\tthis.currentContext = context;\n\t\tthis.itemsDisposable.clear();\n\n\t\tif (!this.currentContext) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.itemsDisposable.add(this.currentContext.cell.onDidChangeLayout(() => {\n\t\t\tif (this.currentContext) {\n\t\t\t\tthis.updateInternalLayoutNow(this.currentContext.cell);\n\t\t\t}\n\t\t}));\n\t\tthis.itemsDisposable.add(this.currentContext.cell.onDidChangeCellStatusBarItems(() => this.updateRenderedItems()));\n\t\tthis.itemsDisposable.add(this.currentContext.notebookEditor.onDidChangeActiveCell(() => this.updateActiveCell()));\n\t\tthis.updateInternalLayoutNow(this.currentContext.cell);\n\t\tthis.updateActiveCell();\n\t\tthis.updateRenderedItems();\n\t}\n\n\tprivate updateActiveCell(): void {\n\t\tconst isActiveCell = this.currentContext!.notebookEditor.getActiveCell() === this.currentContext?.cell;\n\t\tthis.statusBarContainer.classList.toggle('is-active-cell', isActiveCell);\n\t}\n\n\tprivate updateRenderedItems(): void {\n\t\tconst items = this.currentContext!.cell.getCellStatusBarItems();\n\t\titems.sort((itemA, itemB) => {\n\t\t\treturn (itemB.priority ?? 0) - (itemA.priority ?? 0);\n\t\t});\n\n\t\tconst maxItemWidth = this.getMaxItemWidth();\n\t\tconst newLeftItems = items.filter(item => item.alignment === CellStatusbarAlignment.Left);\n\t\tconst newRightItems = items.filter(item => item.alignment === CellStatusbarAlignment.Right).reverse();\n\n\t\tconst updateItems = (renderedItems: CellStatusBarItem[], newItems: INotebookCellStatusBarItem[], container: HTMLElement) => {\n\t\t\tif (renderedItems.length > newItems.length) {\n\t\t\t\tconst deleted = renderedItems.splice(newItems.length, renderedItems.length - newItems.length);\n\t\t\t\tfor (const deletedItem of deleted) {\n\t\t\t\t\tdeletedItem.container.remove();\n\t\t\t\t\tdeletedItem.dispose();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tnewItems.forEach((newLeftItem, i) => {\n\t\t\t\tconst existingItem = renderedItems[i];\n\t\t\t\tif (existingItem) {\n\t\t\t\t\texistingItem.updateItem(newLeftItem, maxItemWidth);\n\t\t\t\t} else {\n\t\t\t\t\tconst item = this._instantiationService.createInstance(CellStatusBarItem, this.currentContext!, this.hoverDelegate, this._editor, newLeftItem, maxItemWidth);\n\t\t\t\t\trenderedItems.push(item);\n\t\t\t\t\tcontainer.appendChild(item.container);\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\n\t\tupdateItems(this.leftItems, newLeftItems, this.leftItemsContainer);\n\t\tupdateItems(this.rightItems, newRightItems, this.rightItemsContainer);\n\t}\n\n\toverride dispose() {\n\t\tsuper.dispose();\n\t\tdispose(this.leftItems);\n\t\tdispose(this.rightItems);\n\t}\n}\n\nclass CellStatusBarItem extends Disposable {\n\n\treadonly container = $('.cell-status-item');\n\n\tset maxWidth(v: number) {\n\t\tthis.container.style.maxWidth = v + 'px';\n\t}\n\n\tprivate _currentItem!: INotebookCellStatusBarItem;\n\tprivate readonly _itemDisposables = this._register(new DisposableStore());\n\n\tconstructor(\n\t\tprivate readonly _context: INotebookCellActionContext,\n\t\tprivate readonly _hoverDelegate: IHoverDelegate,\n\t\tprivate readonly _editor: ICodeEditor | undefined,\n\t\titemModel: INotebookCellStatusBarItem,\n\t\tmaxWidth: number | undefined,\n\t\t@ITelemetryService private readonly _telemetryService: ITelemetryService,\n\t\t@ICommandService private readonly _commandService: ICommandService,\n\t\t@INotificationService private readonly _notificationService: INotificationService,\n\t\t@IThemeService private readonly _themeService: IThemeService,\n\t\t@IHoverService private readonly _hoverService: IHoverService,\n\t) {\n\t\tsuper();\n\n\t\tthis.updateItem(itemModel, maxWidth);\n\t}\n\n\tupdateItem(item: INotebookCellStatusBarItem, maxWidth: number | undefined) {\n\t\tthis._itemDisposables.clear();\n\n\t\tif (!this._currentItem || this._currentItem.text !== item.text) {\n\t\t\tthis._itemDisposables.add(new SimpleIconLabel(this.container)).text = item.text.replace(/\\n/g, ' ');\n\t\t}\n\n\t\tconst resolveColor = (color: ThemeColor | string) => {\n\t\t\treturn isThemeColor(color) ?\n\t\t\t\t(this._themeService.getColorTheme().getColor(color.id)?.toString() || '') :\n\t\t\t\tcolor;\n\t\t};\n\n\t\tthis.container.style.color = item.color ? resolveColor(item.color) : '';\n\t\tthis.container.style.backgroundColor = item.backgroundColor ? resolveColor(item.backgroundColor) : '';\n\t\tthis.container.style.opacity = item.opacity ? item.opacity : '';\n\n\t\tthis.container.classList.toggle('cell-status-item-show-when-active', !!item.onlyShowWhenActive);\n\n\t\tif (typeof maxWidth === 'number') {\n\t\t\tthis.maxWidth = maxWidth;\n\t\t}\n\n\t\tlet ariaLabel: string;\n\t\tlet role: string | undefined;\n\t\tif (item.accessibilityInformation) {\n\t\t\tariaLabel = item.accessibilityInformation.label;\n\t\t\trole = item.accessibilityInformation.role;\n\t\t} else {\n\t\t\tariaLabel = item.text ? stripIcons(item.text).trim() : '';\n\t\t}\n\n\t\tthis.container.setAttribute('aria-label', ariaLabel);\n\t\tthis.container.setAttribute('role', role || '');\n\n\t\tif (item.tooltip) {\n\t\t\tconst hoverContent = typeof item.tooltip === 'string' ? item.tooltip : { markdown: item.tooltip, markdownNotSupportedFallback: undefined } satisfies IManagedHoverTooltipMarkdownString;\n\t\t\tthis._itemDisposables.add(this._hoverService.setupManagedHover(this._hoverDelegate, this.container, hoverContent));\n\t\t}\n\n\t\tthis.container.classList.toggle('cell-status-item-has-command', !!item.command);\n\t\tif (item.command) {\n\t\t\tthis.container.tabIndex = 0;\n\n\t\t\tthis._itemDisposables.add(DOM.addDisposableListener(this.container, DOM.EventType.CLICK, _e => {\n\t\t\t\tthis.executeCommand();\n\t\t\t}));\n\t\t\tthis._itemDisposables.add(DOM.addDisposableListener(this.container, DOM.EventType.KEY_DOWN, e => {\n\t\t\t\tconst event = new StandardKeyboardEvent(e);\n\t\t\t\tif (event.equals(KeyCode.Space) || event.equals(KeyCode.Enter)) {\n\t\t\t\t\tthis.executeCommand();\n\t\t\t\t}\n\t\t\t}));\n\t\t} else {\n\t\t\tthis.container.removeAttribute('tabIndex');\n\t\t}\n\n\t\tthis._currentItem = item;\n\t}\n\n\tprivate async executeCommand(): Promise<void> {\n\t\tconst command = this._currentItem.command;\n\t\tif (!command) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst id = typeof command === 'string' ? command : command.id;\n\t\tconst args = typeof command === 'string' ? [] : command.arguments ?? [];\n\n\t\tif (typeof command === 'string' || !command.arguments || !Array.isArray(command.arguments) || command.arguments.length === 0) {\n\t\t\targs.unshift(this._context);\n\t\t}\n\n\t\tthis._telemetryService.publicLog2<WorkbenchActionExecutedEvent, WorkbenchActionExecutedClassification>('workbenchActionExecuted', { id, from: 'cell status bar' });\n\t\ttry {\n\t\t\tthis._editor?.focus();\n\t\t\tawait this._commandService.executeCommand(id, ...args);\n\t\t} catch (error) {\n\t\t\tthis._notificationService.error(toErrorMessage(error));\n\t\t}\n\t}\n}\n"],
  "mappings": "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",
  "names": []
}
