{
  "version": 3,
  "sources": ["../../../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/contrib/notebook/browser/contrib/notebookVariables/notebookVariableCommands.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { CancellationToken } from \"../../../../../../base/common/cancellation.js\";\nimport { URI, type UriComponents } from \"../../../../../../base/common/uri.js\";\nimport { localize } from \"../../../../../../nls.js\";\nimport {\n\tAction2,\n\tregisterAction2,\n} from \"../../../../../../platform/actions/common/actions.js\";\nimport { IClipboardService } from \"../../../../../../platform/clipboard/common/clipboardService.js\";\nimport type { ServicesAccessor } from \"../../../../../../platform/instantiation/common/instantiation.js\";\nimport {\n\tINotebookKernelService,\n\ttype VariablesResult,\n} from \"../../../common/notebookKernelService.js\";\nimport { INotebookService } from \"../../../common/notebookService.js\";\nimport type { contextMenuArg } from \"./notebookVariablesView.js\";\n\nexport const COPY_NOTEBOOK_VARIABLE_VALUE_ID =\n\t\"workbench.debug.viewlet.action.copyWorkspaceVariableValue\";\nexport const COPY_NOTEBOOK_VARIABLE_VALUE_LABEL = localize(\n\t\"copyWorkspaceVariableValue\",\n\t\"Copy Value\",\n);\nregisterAction2(\n\tclass extends Action2 {\n\t\tconstructor() {\n\t\t\tsuper({\n\t\t\t\tid: COPY_NOTEBOOK_VARIABLE_VALUE_ID,\n\t\t\t\ttitle: COPY_NOTEBOOK_VARIABLE_VALUE_LABEL,\n\t\t\t\tf1: false,\n\t\t\t});\n\t\t}\n\n\t\trun(accessor: ServicesAccessor, context: contextMenuArg): void {\n\t\t\tconst clipboardService = accessor.get(IClipboardService);\n\n\t\t\tif (context.value) {\n\t\t\t\tclipboardService.writeText(context.value);\n\t\t\t}\n\t\t}\n\t},\n);\n\nregisterAction2(\n\tclass extends Action2 {\n\t\tconstructor() {\n\t\t\tsuper({\n\t\t\t\tid: \"_executeNotebookVariableProvider\",\n\t\t\t\ttitle: localize(\n\t\t\t\t\t\"executeNotebookVariableProvider\",\n\t\t\t\t\t\"Execute Notebook Variable Provider\",\n\t\t\t\t),\n\t\t\t\tf1: false,\n\t\t\t});\n\t\t}\n\n\t\tasync run(\n\t\t\taccessor: ServicesAccessor,\n\t\t\tresource: UriComponents | undefined,\n\t\t): Promise<VariablesResult[]> {\n\t\t\tif (!resource) {\n\t\t\t\treturn [];\n\t\t\t}\n\n\t\t\tconst uri = URI.revive(resource);\n\t\t\tconst notebookKernelService = accessor.get(INotebookKernelService);\n\t\t\tconst notebookService = accessor.get(INotebookService);\n\t\t\tconst notebookTextModel = notebookService.getNotebookTextModel(uri);\n\n\t\t\tif (!notebookTextModel) {\n\t\t\t\treturn [];\n\t\t\t}\n\n\t\t\tconst selectedKernel =\n\t\t\t\tnotebookKernelService.getMatchingKernel(\n\t\t\t\t\tnotebookTextModel,\n\t\t\t\t).selected;\n\t\t\tif (selectedKernel && selectedKernel.hasVariableProvider) {\n\t\t\t\tconst variables = selectedKernel.provideVariables(\n\t\t\t\t\tnotebookTextModel.uri,\n\t\t\t\t\tundefined,\n\t\t\t\t\t\"named\",\n\t\t\t\t\t0,\n\t\t\t\t\tCancellationToken.None,\n\t\t\t\t);\n\t\t\t\treturn await variables\n\t\t\t\t\t.map((variable) => {\n\t\t\t\t\t\treturn variable;\n\t\t\t\t\t})\n\t\t\t\t\t.toPromise();\n\t\t\t}\n\n\t\t\treturn [];\n\t\t}\n\t},\n);\n"],
  "mappings": "AAKA,SAAS,yBAAyB;AAClC,SAAS,WAA+B;AACxC,SAAS,gBAAgB;AACzB;AAAA,EACC;AAAA,EACA;AAAA,OACM;AACP,SAAS,yBAAyB;AAElC;AAAA,EACC;AAAA,OAEM;AACP,SAAS,wBAAwB;AAG1B,MAAM,kCACZ;AACM,MAAM,qCAAqC;AAAA,EACjD;AAAA,EACA;AACD;AACA;AAAA,EACC,cAAc,QAAQ;AAAA,IACrB,cAAc;AACb,YAAM;AAAA,QACL,IAAI;AAAA,QACJ,OAAO;AAAA,QACP,IAAI;AAAA,MACL,CAAC;AAAA,IACF;AAAA,IAEA,IAAI,UAA4B,SAA+B;AAC9D,YAAM,mBAAmB,SAAS,IAAI,iBAAiB;AAEvD,UAAI,QAAQ,OAAO;AAClB,yBAAiB,UAAU,QAAQ,KAAK;AAAA,MACzC;AAAA,IACD;AAAA,EACD;AACD;AAEA;AAAA,EACC,cAAc,QAAQ;AAAA,IACrB,cAAc;AACb,YAAM;AAAA,QACL,IAAI;AAAA,QACJ,OAAO;AAAA,UACN;AAAA,UACA;AAAA,QACD;AAAA,QACA,IAAI;AAAA,MACL,CAAC;AAAA,IACF;AAAA,IAEA,MAAM,IACL,UACA,UAC6B;AAC7B,UAAI,CAAC,UAAU;AACd,eAAO,CAAC;AAAA,MACT;AAEA,YAAM,MAAM,IAAI,OAAO,QAAQ;AAC/B,YAAM,wBAAwB,SAAS,IAAI,sBAAsB;AACjE,YAAM,kBAAkB,SAAS,IAAI,gBAAgB;AACrD,YAAM,oBAAoB,gBAAgB,qBAAqB,GAAG;AAElE,UAAI,CAAC,mBAAmB;AACvB,eAAO,CAAC;AAAA,MACT;AAEA,YAAM,iBACL,sBAAsB;AAAA,QACrB;AAAA,MACD,EAAE;AACH,UAAI,kBAAkB,eAAe,qBAAqB;AACzD,cAAM,YAAY,eAAe;AAAA,UAChC,kBAAkB;AAAA,UAClB;AAAA,UACA;AAAA,UACA;AAAA,UACA,kBAAkB;AAAA,QACnB;AACA,eAAO,MAAM,UACX,IAAI,CAAC,aAAa;AAClB,iBAAO;AAAA,QACR,CAAC,EACA,UAAU;AAAA,MACb;AAEA,aAAO,CAAC;AAAA,IACT;AAAA,EACD;AACD;",
  "names": []
}
