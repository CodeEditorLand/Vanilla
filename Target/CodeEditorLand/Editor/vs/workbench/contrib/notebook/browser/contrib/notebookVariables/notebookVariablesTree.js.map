{
  "version": 3,
  "sources": ["../../../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/contrib/notebook/browser/contrib/notebookVariables/notebookVariablesTree.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as dom from \"../../../../../../base/browser/dom.js\";\nimport type { IListVirtualDelegate } from \"../../../../../../base/browser/ui/list/list.js\";\nimport type { IListAccessibilityProvider } from \"../../../../../../base/browser/ui/list/listWidget.js\";\nimport type {\n\tITreeNode,\n\tITreeRenderer,\n} from \"../../../../../../base/browser/ui/tree/tree.js\";\nimport type { FuzzyScore } from \"../../../../../../base/common/filters.js\";\nimport { DisposableStore } from \"../../../../../../base/common/lifecycle.js\";\nimport { localize } from \"../../../../../../nls.js\";\nimport { IInstantiationService } from \"../../../../../../platform/instantiation/common/instantiation.js\";\nimport { WorkbenchObjectTree } from \"../../../../../../platform/list/browser/listService.js\";\nimport { DebugExpressionRenderer } from \"../../../../debug/browser/debugExpressionRenderer.js\";\nimport type { INotebookVariableElement } from \"./notebookVariablesDataSource.js\";\n\nconst $ = dom.$;\nconst MAX_VALUE_RENDER_LENGTH_IN_VIEWLET = 1024;\n\nexport class NotebookVariablesTree extends WorkbenchObjectTree<INotebookVariableElement> {}\n\nexport class NotebookVariablesDelegate\n\timplements IListVirtualDelegate<INotebookVariableElement>\n{\n\tgetHeight(element: INotebookVariableElement): number {\n\t\treturn 22;\n\t}\n\n\tgetTemplateId(element: INotebookVariableElement): string {\n\t\treturn NotebookVariableRenderer.ID;\n\t}\n}\n\nexport interface IVariableTemplateData {\n\texpression: HTMLElement;\n\tname: HTMLSpanElement;\n\tvalue: HTMLSpanElement;\n\telementDisposables: DisposableStore;\n}\n\nexport class NotebookVariableRenderer\n\timplements\n\t\tITreeRenderer<\n\t\t\tINotebookVariableElement,\n\t\t\tFuzzyScore,\n\t\t\tIVariableTemplateData\n\t\t>\n{\n\tprivate expressionRenderer: DebugExpressionRenderer;\n\n\tstatic readonly ID = \"variableElement\";\n\n\tget templateId(): string {\n\t\treturn NotebookVariableRenderer.ID;\n\t}\n\n\tconstructor(@IInstantiationService instantiationService: IInstantiationService) {\n\t\tthis.expressionRenderer = instantiationService.createInstance(DebugExpressionRenderer);\n\t}\n\n\trenderTemplate(container: HTMLElement): IVariableTemplateData {\n\t\tconst expression = dom.append(container, $(\".expression\"));\n\t\tconst name = dom.append(expression, $(\"span.name\"));\n\t\tconst value = dom.append(expression, $(\"span.value\"));\n\n\t\tconst template: IVariableTemplateData = {\n\t\t\texpression,\n\t\t\tname,\n\t\t\tvalue,\n\t\t\telementDisposables: new DisposableStore(),\n\t\t};\n\n\t\treturn template;\n\t}\n\n\trenderElement(\n\t\telement: ITreeNode<INotebookVariableElement, FuzzyScore>,\n\t\t_index: number,\n\t\tdata: IVariableTemplateData,\n\t): void {\n\t\tconst text =\n\t\t\telement.element.value.trim() !== \"\"\n\t\t\t\t? `${element.element.name}:`\n\t\t\t\t: element.element.name;\n\t\tdata.name.textContent = text;\n\t\tdata.name.title = element.element.type ?? \"\";\n\n\t\tdata.elementDisposables.add(\n\t\t\tthis.expressionRenderer.renderValue(data.value, element.element, {\n\t\t\t\tcolorize: true,\n\t\t\t\tmaxValueLength: MAX_VALUE_RENDER_LENGTH_IN_VIEWLET,\n\t\t\t\tsession: undefined,\n\t\t\t}),\n\t\t);\n\t}\n\n\tdisposeElement(\n\t\telement: ITreeNode<INotebookVariableElement, FuzzyScore>,\n\t\tindex: number,\n\t\ttemplateData: IVariableTemplateData,\n\t\theight: number | undefined,\n\t): void {\n\t\ttemplateData.elementDisposables.clear();\n\t}\n\n\tdisposeTemplate(templateData: IVariableTemplateData): void {\n\t\ttemplateData.elementDisposables.dispose();\n\t}\n}\n\nexport class NotebookVariableAccessibilityProvider\n\timplements IListAccessibilityProvider<INotebookVariableElement>\n{\n\tgetWidgetAriaLabel(): string {\n\t\treturn localize(\"debugConsole\", \"Notebook Variables\");\n\t}\n\n\tgetAriaLabel(element: INotebookVariableElement): string {\n\t\treturn localize(\n\t\t\t\"notebookVariableAriaLabel\",\n\t\t\t\"Variable {0}, value {1}\",\n\t\t\telement.name,\n\t\t\telement.value,\n\t\t);\n\t}\n}\n"],
  "mappings": ";;;;;;;;;;;;AAKA,YAAY,SAAS;AAQrB,SAAS,uBAAuB;AAChC,SAAS,gBAAgB;AACzB,SAAS,6BAA6B;AACtC,SAAS,2BAA2B;AACpC,SAAS,+BAA+B;AAGxC,MAAM,IAAI,IAAI;AACd,MAAM,qCAAqC;AAEpC,MAAM,8BAA8B,oBAA8C;AAAA,EAvBzF,OAuByF;AAAA;AAAA;AAAC;AAEnF,MAAM,0BAEb;AAAA,EA3BA,OA2BA;AAAA;AAAA;AAAA,EACC,UAAU,SAA2C;AACpD,WAAO;AAAA,EACR;AAAA,EAEA,cAAc,SAA2C;AACxD,WAAO,yBAAyB;AAAA,EACjC;AACD;AASO,IAAM,2BAAN,MAOP;AAAA,EAnDA,OAmDA;AAAA;AAAA;AAAA,EACS;AAAA,EAER,OAAgB,KAAK;AAAA,EAErB,IAAI,aAAqB;AACxB,WAAO,yBAAyB;AAAA,EACjC;AAAA,EAEA,YAAmC,sBAA6C;AAC/E,SAAK,qBAAqB,qBAAqB,eAAe,uBAAuB;AAAA,EACtF;AAAA,EAEA,eAAe,WAA+C;AAC7D,UAAM,aAAa,IAAI,OAAO,WAAW,EAAE,aAAa,CAAC;AACzD,UAAM,OAAO,IAAI,OAAO,YAAY,EAAE,WAAW,CAAC;AAClD,UAAM,QAAQ,IAAI,OAAO,YAAY,EAAE,YAAY,CAAC;AAEpD,UAAM,WAAkC;AAAA,MACvC;AAAA,MACA;AAAA,MACA;AAAA,MACA,oBAAoB,IAAI,gBAAgB;AAAA,IACzC;AAEA,WAAO;AAAA,EACR;AAAA,EAEA,cACC,SACA,QACA,MACO;AACP,UAAM,OACL,QAAQ,QAAQ,MAAM,KAAK,MAAM,KAC9B,GAAG,QAAQ,QAAQ,IAAI,MACvB,QAAQ,QAAQ;AACpB,SAAK,KAAK,cAAc;AACxB,SAAK,KAAK,QAAQ,QAAQ,QAAQ,QAAQ;AAE1C,SAAK,mBAAmB;AAAA,MACvB,KAAK,mBAAmB,YAAY,KAAK,OAAO,QAAQ,SAAS;AAAA,QAChE,UAAU;AAAA,QACV,gBAAgB;AAAA,QAChB,SAAS;AAAA,MACV,CAAC;AAAA,IACF;AAAA,EACD;AAAA,EAEA,eACC,SACA,OACA,cACA,QACO;AACP,iBAAa,mBAAmB,MAAM;AAAA,EACvC;AAAA,EAEA,gBAAgB,cAA2C;AAC1D,iBAAa,mBAAmB,QAAQ;AAAA,EACzC;AACD;AApEa,2BAAN;AAAA,EAgBO;AAAA,GAhBD;AAsEN,MAAM,sCAEb;AAAA,EApHA,OAoHA;AAAA;AAAA;AAAA,EACC,qBAA6B;AAC5B,WAAO,SAAS,gBAAgB,oBAAoB;AAAA,EACrD;AAAA,EAEA,aAAa,SAA2C;AACvD,WAAO;AAAA,MACN;AAAA,MACA;AAAA,MACA,QAAQ;AAAA,MACR,QAAQ;AAAA,IACT;AAAA,EACD;AACD;",
  "names": []
}
