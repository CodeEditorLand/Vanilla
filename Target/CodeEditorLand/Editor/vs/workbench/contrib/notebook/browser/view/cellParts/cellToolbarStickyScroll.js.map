{
  "version": 3,
  "sources": ["../../../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/contrib/notebook/browser/view/cellParts/cellToolbarStickyScroll.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport type { IDisposable } from \"../../../../../../base/common/lifecycle.js\";\nimport { clamp } from \"../../../../../../base/common/numbers.js\";\nimport type { ICellViewModel, INotebookEditor } from \"../../notebookBrowser.js\";\n\nexport function registerCellToolbarStickyScroll(\n\tnotebookEditor: INotebookEditor,\n\tcell: ICellViewModel,\n\telement: HTMLElement,\n\topts?: { extraOffset?: number; min?: number },\n): IDisposable {\n\tconst extraOffset = opts?.extraOffset ?? 0;\n\tconst min = opts?.min ?? 0;\n\n\tconst updateForScroll = () => {\n\t\tif (cell.isInputCollapsed) {\n\t\t\telement.style.top = \"\";\n\t\t} else {\n\t\t\tconst scrollTop = notebookEditor.scrollTop;\n\t\t\tconst elementTop = notebookEditor.getAbsoluteTopOfElement(cell);\n\t\t\tconst diff = scrollTop - elementTop + extraOffset;\n\t\t\tconst maxTop =\n\t\t\t\tcell.layoutInfo.editorHeight +\n\t\t\t\tcell.layoutInfo.statusBarHeight -\n\t\t\t\t45; // subtract roughly the height of the execution order label plus padding\n\t\t\tconst top =\n\t\t\t\tmaxTop > 20\n\t\t\t\t\t? // Don't move the run button if it can only move a very short distance\n\t\t\t\t\t\tclamp(min, diff, maxTop)\n\t\t\t\t\t: min;\n\t\t\telement.style.top = `${top}px`;\n\t\t}\n\t};\n\n\tupdateForScroll();\n\treturn notebookEditor.onDidScroll(() => updateForScroll());\n}\n"],
  "mappings": ";;AAMA,SAAS,aAAa;AAGf,SAAS,gCACf,gBACA,MACA,SACA,MACc;AACd,QAAM,cAAc,MAAM,eAAe;AACzC,QAAM,MAAM,MAAM,OAAO;AAEzB,QAAM,kBAAkB,6BAAM;AAC7B,QAAI,KAAK,kBAAkB;AAC1B,cAAQ,MAAM,MAAM;AAAA,IACrB,OAAO;AACN,YAAM,YAAY,eAAe;AACjC,YAAM,aAAa,eAAe,wBAAwB,IAAI;AAC9D,YAAM,OAAO,YAAY,aAAa;AACtC,YAAM,SACL,KAAK,WAAW,eAChB,KAAK,WAAW,kBAChB;AACD,YAAM,MACL,SAAS;AAAA;AAAA,QAEP,MAAM,KAAK,MAAM,MAAM;AAAA,UACtB;AACJ,cAAQ,MAAM,MAAM,GAAG,GAAG;AAAA,IAC3B;AAAA,EACD,GAlBwB;AAoBxB,kBAAgB;AAChB,SAAO,eAAe,YAAY,MAAM,gBAAgB,CAAC;AAC1D;AA/BgB;",
  "names": []
}
