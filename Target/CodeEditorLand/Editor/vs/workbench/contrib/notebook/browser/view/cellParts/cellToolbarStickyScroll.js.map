{
  "version": 3,
  "sources": ["../../../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/contrib/notebook/browser/view/cellParts/cellToolbarStickyScroll.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { IDisposable } from '../../../../../../base/common/lifecycle.js';\nimport { clamp } from '../../../../../../base/common/numbers.js';\nimport { ICellViewModel, INotebookEditor } from '../../notebookBrowser.js';\n\nexport function registerCellToolbarStickyScroll(notebookEditor: INotebookEditor, cell: ICellViewModel, element: HTMLElement, opts?: { extraOffset?: number; min?: number }): IDisposable {\n\tconst extraOffset = opts?.extraOffset ?? 0;\n\tconst min = opts?.min ?? 0;\n\n\tconst updateForScroll = () => {\n\t\tif (cell.isInputCollapsed) {\n\t\t\telement.style.top = '';\n\t\t} else {\n\t\t\tconst scrollTop = notebookEditor.scrollTop;\n\t\t\tconst elementTop = notebookEditor.getAbsoluteTopOfElement(cell);\n\t\t\tconst diff = scrollTop - elementTop + extraOffset;\n\t\t\tconst maxTop = cell.layoutInfo.editorHeight + cell.layoutInfo.statusBarHeight - 45; // subtract roughly the height of the execution order label plus padding\n\t\t\tconst top = maxTop > 20 ? // Don't move the run button if it can only move a very short distance\n\t\t\t\tclamp(min, diff, maxTop) :\n\t\t\t\tmin;\n\t\t\telement.style.top = `${top}px`;\n\t\t}\n\t};\n\n\tupdateForScroll();\n\treturn notebookEditor.onDidScroll(() => updateForScroll());\n}\n"],
  "mappings": ";;AAKA,SAAS,mBAAmB;AAC5B,SAAS,aAAa;AACtB,SAAS,gBAAgB,uBAAuB;AAEzC,SAAS,gCAAgC,gBAAiC,MAAsB,SAAsB,MAA4D;AACxL,QAAM,cAAc,MAAM,eAAe;AACzC,QAAM,MAAM,MAAM,OAAO;AAEzB,QAAM,kBAAkB,6BAAM;AAC7B,QAAI,KAAK,kBAAkB;AAC1B,cAAQ,MAAM,MAAM;AAAA,IACrB,OAAO;AACN,YAAM,YAAY,eAAe;AACjC,YAAM,aAAa,eAAe,wBAAwB,IAAI;AAC9D,YAAM,OAAO,YAAY,aAAa;AACtC,YAAM,SAAS,KAAK,WAAW,eAAe,KAAK,WAAW,kBAAkB;AAChF,YAAM,MAAM,SAAS;AAAA;AAAA,QACpB,MAAM,KAAK,MAAM,MAAM;AAAA,UACvB;AACD,cAAQ,MAAM,MAAM,GAAG,GAAG;AAAA,IAC3B;AAAA,EACD,GAbwB;AAexB,kBAAgB;AAChB,SAAO,eAAe,YAAY,MAAM,gBAAgB,CAAC;AAC1D;AArBgB;",
  "names": []
}
