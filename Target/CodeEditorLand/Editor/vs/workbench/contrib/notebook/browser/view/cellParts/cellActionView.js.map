{
  "version": 3,
  "sources": ["../../../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/contrib/notebook/browser/view/cellParts/cellActionView.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as DOM from \"../../../../../../base/browser/dom.js\";\nimport { EventType as TouchEventType } from \"../../../../../../base/browser/touch.js\";\nimport type { IActionViewItemProvider } from \"../../../../../../base/browser/ui/actionbar/actionbar.js\";\nimport type { IActionProvider } from \"../../../../../../base/browser/ui/dropdown/dropdown.js\";\nimport type { IManagedHover } from \"../../../../../../base/browser/ui/hover/hover.js\";\nimport { getDefaultHoverDelegate } from \"../../../../../../base/browser/ui/hover/hoverDelegateFactory.js\";\nimport { renderLabelWithIcons } from \"../../../../../../base/browser/ui/iconLabel/iconLabels.js\";\nimport type { IAction } from \"../../../../../../base/common/actions.js\";\nimport { ThemeIcon } from \"../../../../../../base/common/themables.js\";\nimport * as types from \"../../../../../../base/common/types.js\";\nimport {\n\ttype IMenuEntryActionViewItemOptions,\n\tMenuEntryActionViewItem,\n\tSubmenuEntryActionViewItem,\n} from \"../../../../../../platform/actions/browser/menuEntryActionViewItem.js\";\nimport {\n\tMenuItemAction,\n\ttype SubmenuItemAction,\n} from \"../../../../../../platform/actions/common/actions.js\";\nimport { IContextMenuService } from \"../../../../../../platform/contextview/browser/contextView.js\";\nimport { IHoverService } from \"../../../../../../platform/hover/browser/hover.js\";\nimport { IKeybindingService } from \"../../../../../../platform/keybinding/common/keybinding.js\";\nimport { IThemeService } from \"../../../../../../platform/theme/common/themeService.js\";\n\nexport class CodiconActionViewItem extends MenuEntryActionViewItem {\n\tprotected override updateLabel(): void {\n\t\tif (this.options.label && this.label) {\n\t\t\tDOM.reset(\n\t\t\t\tthis.label,\n\t\t\t\t...renderLabelWithIcons(this._commandAction.label ?? \"\"),\n\t\t\t);\n\t\t}\n\t}\n}\n\nexport class ActionViewWithLabel extends MenuEntryActionViewItem {\n\tprivate _actionLabel?: HTMLAnchorElement;\n\n\toverride render(container: HTMLElement): void {\n\t\tsuper.render(container);\n\t\tcontainer.classList.add(\"notebook-action-view-item\");\n\t\tthis._actionLabel = document.createElement(\"a\");\n\t\tcontainer.appendChild(this._actionLabel);\n\t\tthis.updateLabel();\n\t}\n\n\tprotected override updateLabel() {\n\t\tif (this._actionLabel) {\n\t\t\tthis._actionLabel.classList.add(\"notebook-label\");\n\t\t\tthis._actionLabel.innerText = this._action.label;\n\t\t}\n\t}\n}\nexport class UnifiedSubmenuActionView extends SubmenuEntryActionViewItem {\n\tprivate _actionLabel?: HTMLAnchorElement;\n\tprivate _hover?: IManagedHover;\n\tprivate _primaryAction: IAction | undefined;\n\n\tconstructor(\n\t\taction: SubmenuItemAction,\n\t\toptions: IMenuEntryActionViewItemOptions | undefined,\n\t\treadonly renderLabel: boolean,\n\t\treadonly subActionProvider: IActionProvider,\n\t\treadonly subActionViewItemProvider: IActionViewItemProvider | undefined,\n\t\t@IKeybindingService _keybindingService: IKeybindingService,\n\t\t@IContextMenuService _contextMenuService: IContextMenuService,\n\t\t@IThemeService _themeService: IThemeService,\n\t\t@IHoverService private readonly _hoverService: IHoverService\n\t) {\n\t\tsuper(action, { ...options, hoverDelegate: options?.hoverDelegate ?? getDefaultHoverDelegate('element') }, _keybindingService, _contextMenuService, _themeService);\n\t}\n\n\toverride render(container: HTMLElement): void {\n\t\tsuper.render(container);\n\t\tcontainer.classList.add(\"notebook-action-view-item\");\n\t\tcontainer.classList.add(\"notebook-action-view-item-unified\");\n\t\tthis._actionLabel = document.createElement(\"a\");\n\t\tcontainer.appendChild(this._actionLabel);\n\n\t\tthis._hover = this._register(\n\t\t\tthis._hoverService.setupManagedHover(\n\t\t\t\tthis.options.hoverDelegate ??\n\t\t\t\t\tgetDefaultHoverDelegate(\"element\"),\n\t\t\t\tthis._actionLabel,\n\t\t\t\t\"\",\n\t\t\t),\n\t\t);\n\n\t\tthis.updateLabel();\n\n\t\tfor (const event of [\n\t\t\tDOM.EventType.CLICK,\n\t\t\tDOM.EventType.MOUSE_DOWN,\n\t\t\tTouchEventType.Tap,\n\t\t]) {\n\t\t\tthis._register(\n\t\t\t\tDOM.addDisposableListener(container, event, (e) =>\n\t\t\t\t\tthis.onClick(e, true),\n\t\t\t\t),\n\t\t\t);\n\t\t}\n\t}\n\n\toverride onClick(event: DOM.EventLike, preserveFocus = false): void {\n\t\tDOM.EventHelper.stop(event, true);\n\t\tconst context = types.isUndefinedOrNull(this._context)\n\t\t\t? this.options?.useEventAsContext\n\t\t\t\t? event\n\t\t\t\t: { preserveFocus }\n\t\t\t: this._context;\n\t\tthis.actionRunner.run(this._primaryAction ?? this._action, context);\n\t}\n\n\tprotected override updateLabel() {\n\t\tconst actions = this.subActionProvider.getActions();\n\t\tif (this._actionLabel) {\n\t\t\tconst primaryAction = actions[0];\n\t\t\tthis._primaryAction = primaryAction;\n\n\t\t\tif (primaryAction && primaryAction instanceof MenuItemAction) {\n\t\t\t\tconst element = this.element;\n\n\t\t\t\tif (\n\t\t\t\t\telement &&\n\t\t\t\t\tprimaryAction.item.icon &&\n\t\t\t\t\tThemeIcon.isThemeIcon(primaryAction.item.icon)\n\t\t\t\t) {\n\t\t\t\t\tconst iconClasses = ThemeIcon.asClassNameArray(\n\t\t\t\t\t\tprimaryAction.item.icon,\n\t\t\t\t\t);\n\t\t\t\t\t// remove all classes started with 'codicon-'\n\t\t\t\t\telement.classList.forEach((cl) => {\n\t\t\t\t\t\tif (cl.startsWith(\"codicon-\")) {\n\t\t\t\t\t\t\telement.classList.remove(cl);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\telement.classList.add(...iconClasses);\n\t\t\t\t}\n\n\t\t\t\tif (this.renderLabel) {\n\t\t\t\t\tthis._actionLabel.classList.add(\"notebook-label\");\n\t\t\t\t\tthis._actionLabel.innerText = this._action.label;\n\t\t\t\t\tthis._hover?.update(\n\t\t\t\t\t\tprimaryAction.tooltip.length\n\t\t\t\t\t\t\t? primaryAction.tooltip\n\t\t\t\t\t\t\t: primaryAction.label,\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t} else if (this.renderLabel) {\n\t\t\t\tthis._actionLabel.classList.add(\"notebook-label\");\n\t\t\t\tthis._actionLabel.innerText = this._action.label;\n\t\t\t\tthis._hover?.update(\n\t\t\t\t\tthis._action.tooltip.length\n\t\t\t\t\t\t? this._action.tooltip\n\t\t\t\t\t\t: this._action.label,\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n}\n"],
  "mappings": "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",
  "names": []
}
