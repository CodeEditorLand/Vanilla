{
  "version": 3,
  "sources": ["../../../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/contrib/notebook/browser/view/cellParts/cellActionView.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as DOM from '../../../../../../base/browser/dom.js';\nimport * as types from '../../../../../../base/common/types.js';\nimport { EventType as TouchEventType } from '../../../../../../base/browser/touch.js';\nimport { IActionViewItemProvider } from '../../../../../../base/browser/ui/actionbar/actionbar.js';\nimport { IActionProvider } from '../../../../../../base/browser/ui/dropdown/dropdown.js';\nimport { getDefaultHoverDelegate } from '../../../../../../base/browser/ui/hover/hoverDelegateFactory.js';\nimport { renderLabelWithIcons } from '../../../../../../base/browser/ui/iconLabel/iconLabels.js';\nimport { IAction } from '../../../../../../base/common/actions.js';\nimport { ThemeIcon } from '../../../../../../base/common/themables.js';\nimport { IMenuEntryActionViewItemOptions, MenuEntryActionViewItem, SubmenuEntryActionViewItem } from '../../../../../../platform/actions/browser/menuEntryActionViewItem.js';\nimport { MenuItemAction, SubmenuItemAction } from '../../../../../../platform/actions/common/actions.js';\nimport { IContextMenuService } from '../../../../../../platform/contextview/browser/contextView.js';\nimport { IKeybindingService } from '../../../../../../platform/keybinding/common/keybinding.js';\nimport { IThemeService } from '../../../../../../platform/theme/common/themeService.js';\nimport type { IManagedHover } from '../../../../../../base/browser/ui/hover/hover.js';\nimport { IHoverService } from '../../../../../../platform/hover/browser/hover.js';\n\nexport class CodiconActionViewItem extends MenuEntryActionViewItem {\n\n\tprotected override updateLabel(): void {\n\t\tif (this.options.label && this.label) {\n\t\t\tDOM.reset(this.label, ...renderLabelWithIcons(this._commandAction.label ?? ''));\n\t\t}\n\t}\n}\n\nexport class ActionViewWithLabel extends MenuEntryActionViewItem {\n\tprivate _actionLabel?: HTMLAnchorElement;\n\n\toverride render(container: HTMLElement): void {\n\t\tsuper.render(container);\n\t\tcontainer.classList.add('notebook-action-view-item');\n\t\tthis._actionLabel = document.createElement('a');\n\t\tcontainer.appendChild(this._actionLabel);\n\t\tthis.updateLabel();\n\t}\n\n\tprotected override updateLabel() {\n\t\tif (this._actionLabel) {\n\t\t\tthis._actionLabel.classList.add('notebook-label');\n\t\t\tthis._actionLabel.innerText = this._action.label;\n\t\t}\n\t}\n}\nexport class UnifiedSubmenuActionView extends SubmenuEntryActionViewItem {\n\tprivate _actionLabel?: HTMLAnchorElement;\n\tprivate _hover?: IManagedHover;\n\tprivate _primaryAction: IAction | undefined;\n\n\tconstructor(\n\t\taction: SubmenuItemAction,\n\t\toptions: IMenuEntryActionViewItemOptions | undefined,\n\t\treadonly renderLabel: boolean,\n\t\treadonly subActionProvider: IActionProvider,\n\t\treadonly subActionViewItemProvider: IActionViewItemProvider | undefined,\n\t\t@IKeybindingService _keybindingService: IKeybindingService,\n\t\t@IContextMenuService _contextMenuService: IContextMenuService,\n\t\t@IThemeService _themeService: IThemeService,\n\t\t@IHoverService private readonly _hoverService: IHoverService\n\t) {\n\t\tsuper(action, { ...options, hoverDelegate: options?.hoverDelegate ?? getDefaultHoverDelegate('element') }, _keybindingService, _contextMenuService, _themeService);\n\t}\n\n\toverride render(container: HTMLElement): void {\n\t\tsuper.render(container);\n\t\tcontainer.classList.add('notebook-action-view-item');\n\t\tcontainer.classList.add('notebook-action-view-item-unified');\n\t\tthis._actionLabel = document.createElement('a');\n\t\tcontainer.appendChild(this._actionLabel);\n\n\t\tthis._hover = this._register(this._hoverService.setupManagedHover(this.options.hoverDelegate ?? getDefaultHoverDelegate('element'), this._actionLabel, ''));\n\n\t\tthis.updateLabel();\n\n\t\tfor (const event of [DOM.EventType.CLICK, DOM.EventType.MOUSE_DOWN, TouchEventType.Tap]) {\n\t\t\tthis._register(DOM.addDisposableListener(container, event, e => this.onClick(e, true)));\n\t\t}\n\t}\n\n\toverride onClick(event: DOM.EventLike, preserveFocus = false): void {\n\t\tDOM.EventHelper.stop(event, true);\n\t\tconst context = types.isUndefinedOrNull(this._context) ? this.options?.useEventAsContext ? event : { preserveFocus } : this._context;\n\t\tthis.actionRunner.run(this._primaryAction ?? this._action, context);\n\t}\n\n\tprotected override updateLabel() {\n\t\tconst actions = this.subActionProvider.getActions();\n\t\tif (this._actionLabel) {\n\t\t\tconst primaryAction = actions[0];\n\t\t\tthis._primaryAction = primaryAction;\n\n\t\t\tif (primaryAction && primaryAction instanceof MenuItemAction) {\n\t\t\t\tconst element = this.element;\n\n\t\t\t\tif (element && primaryAction.item.icon && ThemeIcon.isThemeIcon(primaryAction.item.icon)) {\n\t\t\t\t\tconst iconClasses = ThemeIcon.asClassNameArray(primaryAction.item.icon);\n\t\t\t\t\t// remove all classes started with 'codicon-'\n\t\t\t\t\telement.classList.forEach((cl) => {\n\t\t\t\t\t\tif (cl.startsWith('codicon-')) {\n\t\t\t\t\t\t\telement.classList.remove(cl);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\telement.classList.add(...iconClasses);\n\t\t\t\t}\n\n\t\t\t\tif (this.renderLabel) {\n\t\t\t\t\tthis._actionLabel.classList.add('notebook-label');\n\t\t\t\t\tthis._actionLabel.innerText = this._action.label;\n\t\t\t\t\tthis._hover?.update(primaryAction.tooltip.length ? primaryAction.tooltip : primaryAction.label);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (this.renderLabel) {\n\t\t\t\t\tthis._actionLabel.classList.add('notebook-label');\n\t\t\t\t\tthis._actionLabel.innerText = this._action.label;\n\t\t\t\t\tthis._hover?.update(this._action.tooltip.length ? this._action.tooltip : this._action.label);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n"],
  "mappings": ";;;;;;;;;;;;AAKA,YAAY,SAAS;AACrB,YAAY,WAAW;AACvB,SAAS,aAAa,sBAAsB;AAC5C,SAAS,+BAA+B;AACxC,SAAS,uBAAuB;AAChC,SAAS,+BAA+B;AACxC,SAAS,4BAA4B;AACrC,SAAS,eAAe;AACxB,SAAS,iBAAiB;AAC1B,SAAS,iCAAiC,yBAAyB,kCAAkC;AACrG,SAAS,gBAAgB,yBAAyB;AAClD,SAAS,2BAA2B;AACpC,SAAS,0BAA0B;AACnC,SAAS,qBAAqB;AAE9B,SAAS,qBAAqB;AAEvB,MAAM,8BAA8B,wBAAwB;AAAA,EAtBnE,OAsBmE;AAAA;AAAA;AAAA,EAE/C,cAAoB;AACtC,QAAI,KAAK,QAAQ,SAAS,KAAK,OAAO;AACrC,UAAI,MAAM,KAAK,OAAO,GAAG,qBAAqB,KAAK,eAAe,SAAS,EAAE,CAAC;AAAA,IAC/E;AAAA,EACD;AACD;AAEO,MAAM,4BAA4B,wBAAwB;AAAA,EA/BjE,OA+BiE;AAAA;AAAA;AAAA,EACxD;AAAA,EAEC,OAAO,WAA8B;AAC7C,UAAM,OAAO,SAAS;AACtB,cAAU,UAAU,IAAI,2BAA2B;AACnD,SAAK,eAAe,SAAS,cAAc,GAAG;AAC9C,cAAU,YAAY,KAAK,YAAY;AACvC,SAAK,YAAY;AAAA,EAClB;AAAA,EAEmB,cAAc;AAChC,QAAI,KAAK,cAAc;AACtB,WAAK,aAAa,UAAU,IAAI,gBAAgB;AAChD,WAAK,aAAa,YAAY,KAAK,QAAQ;AAAA,IAC5C;AAAA,EACD;AACD;AACO,IAAM,2BAAN,cAAuC,2BAA2B;AAAA,EAKxE,YACC,QACA,SACS,aACA,mBACA,2BACW,oBACC,qBACN,eACiB,eAC/B;AACD,UAAM,QAAQ,EAAE,GAAG,SAAS,eAAe,SAAS,iBAAiB,wBAAwB,SAAS,EAAE,GAAG,oBAAoB,qBAAqB,aAAa;AARxJ;AACA;AACA;AAIuB;AAAA,EAGjC;AAAA,EAlED,OAiDyE;AAAA;AAAA;AAAA,EAChE;AAAA,EACA;AAAA,EACA;AAAA,EAgBC,OAAO,WAA8B;AAC7C,UAAM,OAAO,SAAS;AACtB,cAAU,UAAU,IAAI,2BAA2B;AACnD,cAAU,UAAU,IAAI,mCAAmC;AAC3D,SAAK,eAAe,SAAS,cAAc,GAAG;AAC9C,cAAU,YAAY,KAAK,YAAY;AAEvC,SAAK,SAAS,KAAK,UAAU,KAAK,cAAc,kBAAkB,KAAK,QAAQ,iBAAiB,wBAAwB,SAAS,GAAG,KAAK,cAAc,EAAE,CAAC;AAE1J,SAAK,YAAY;AAEjB,eAAW,SAAS,CAAC,IAAI,UAAU,OAAO,IAAI,UAAU,YAAY,eAAe,GAAG,GAAG;AACxF,WAAK,UAAU,IAAI,sBAAsB,WAAW,OAAO,OAAK,KAAK,QAAQ,GAAG,IAAI,CAAC,CAAC;AAAA,IACvF;AAAA,EACD;AAAA,EAES,QAAQ,OAAsB,gBAAgB,OAAa;AACnE,QAAI,YAAY,KAAK,OAAO,IAAI;AAChC,UAAM,UAAU,MAAM,kBAAkB,KAAK,QAAQ,IAAI,KAAK,SAAS,oBAAoB,QAAQ,EAAE,cAAc,IAAI,KAAK;AAC5H,SAAK,aAAa,IAAI,KAAK,kBAAkB,KAAK,SAAS,OAAO;AAAA,EACnE;AAAA,EAEmB,cAAc;AAChC,UAAM,UAAU,KAAK,kBAAkB,WAAW;AAClD,QAAI,KAAK,cAAc;AACtB,YAAM,gBAAgB,QAAQ,CAAC;AAC/B,WAAK,iBAAiB;AAEtB,UAAI,iBAAiB,yBAAyB,gBAAgB;AAC7D,cAAM,UAAU,KAAK;AAErB,YAAI,WAAW,cAAc,KAAK,QAAQ,UAAU,YAAY,cAAc,KAAK,IAAI,GAAG;AACzF,gBAAM,cAAc,UAAU,iBAAiB,cAAc,KAAK,IAAI;AAEtE,kBAAQ,UAAU,QAAQ,CAAC,OAAO;AACjC,gBAAI,GAAG,WAAW,UAAU,GAAG;AAC9B,sBAAQ,UAAU,OAAO,EAAE;AAAA,YAC5B;AAAA,UACD,CAAC;AACD,kBAAQ,UAAU,IAAI,GAAG,WAAW;AAAA,QACrC;AAEA,YAAI,KAAK,aAAa;AACrB,eAAK,aAAa,UAAU,IAAI,gBAAgB;AAChD,eAAK,aAAa,YAAY,KAAK,QAAQ;AAC3C,eAAK,QAAQ,OAAO,cAAc,QAAQ,SAAS,cAAc,UAAU,cAAc,KAAK;AAAA,QAC/F;AAAA,MACD,OAAO;AACN,YAAI,KAAK,aAAa;AACrB,eAAK,aAAa,UAAU,IAAI,gBAAgB;AAChD,eAAK,aAAa,YAAY,KAAK,QAAQ;AAC3C,eAAK,QAAQ,OAAO,KAAK,QAAQ,QAAQ,SAAS,KAAK,QAAQ,UAAU,KAAK,QAAQ,KAAK;AAAA,QAC5F;AAAA,MACD;AAAA,IACD;AAAA,EACD;AACD;AA3Ea,2BAAN;AAAA,EAWJ;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,GAdU;",
  "names": []
}
