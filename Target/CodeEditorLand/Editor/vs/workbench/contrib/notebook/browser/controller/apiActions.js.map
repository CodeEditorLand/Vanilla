{
  "version": 3,
  "sources": ["../../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/contrib/notebook/browser/controller/apiActions.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as glob from \"../../../../../base/common/glob.js\";\nimport { URI, type UriComponents } from \"../../../../../base/common/uri.js\";\nimport { CommandsRegistry } from \"../../../../../platform/commands/common/commands.js\";\nimport {\n\ttype TransientCellMetadata,\n\ttype TransientDocumentMetadata,\n\tisDocumentExcludePattern,\n} from \"../../common/notebookCommon.js\";\nimport { INotebookKernelService } from \"../../common/notebookKernelService.js\";\nimport { INotebookService } from \"../../common/notebookService.js\";\n\nCommandsRegistry.registerCommand(\n\t\"_resolveNotebookContentProvider\",\n\t(\n\t\taccessor,\n\t): {\n\t\tviewType: string;\n\t\tdisplayName: string;\n\t\toptions: {\n\t\t\ttransientOutputs: boolean;\n\t\t\ttransientCellMetadata: TransientCellMetadata;\n\t\t\ttransientDocumentMetadata: TransientDocumentMetadata;\n\t\t};\n\t\tfilenamePattern: (\n\t\t\t| string\n\t\t\t| glob.IRelativePattern\n\t\t\t| {\n\t\t\t\t\tinclude: string | glob.IRelativePattern;\n\t\t\t\t\texclude: string | glob.IRelativePattern;\n\t\t\t  }\n\t\t)[];\n\t}[] => {\n\t\tconst notebookService =\n\t\t\taccessor.get<INotebookService>(INotebookService);\n\t\tconst contentProviders = notebookService.getContributedNotebookTypes();\n\t\treturn contentProviders.map((provider) => {\n\t\t\tconst filenamePatterns = provider.selectors\n\t\t\t\t.map((selector) => {\n\t\t\t\t\tif (typeof selector === \"string\") {\n\t\t\t\t\t\treturn selector;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (glob.isRelativePattern(selector)) {\n\t\t\t\t\t\treturn selector;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (isDocumentExcludePattern(selector)) {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tinclude: selector.include,\n\t\t\t\t\t\t\texclude: selector.exclude,\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\treturn null;\n\t\t\t\t})\n\t\t\t\t.filter((pattern) => pattern !== null) as (\n\t\t\t\t| string\n\t\t\t\t| glob.IRelativePattern\n\t\t\t\t| {\n\t\t\t\t\t\tinclude: string | glob.IRelativePattern;\n\t\t\t\t\t\texclude: string | glob.IRelativePattern;\n\t\t\t\t  }\n\t\t\t)[];\n\n\t\t\treturn {\n\t\t\t\tviewType: provider.id,\n\t\t\t\tdisplayName: provider.displayName,\n\t\t\t\tfilenamePattern: filenamePatterns,\n\t\t\t\toptions: {\n\t\t\t\t\ttransientCellMetadata:\n\t\t\t\t\t\tprovider.options.transientCellMetadata,\n\t\t\t\t\ttransientDocumentMetadata:\n\t\t\t\t\t\tprovider.options.transientDocumentMetadata,\n\t\t\t\t\ttransientOutputs: provider.options.transientOutputs,\n\t\t\t\t},\n\t\t\t};\n\t\t});\n\t},\n);\n\nCommandsRegistry.registerCommand(\n\t\"_resolveNotebookKernels\",\n\tasync (\n\t\taccessor,\n\t\targs: {\n\t\t\tviewType: string;\n\t\t\turi: UriComponents;\n\t\t},\n\t): Promise<\n\t\t{\n\t\t\tid?: string;\n\t\t\tlabel: string;\n\t\t\tdescription?: string;\n\t\t\tdetail?: string;\n\t\t\tisPreferred?: boolean;\n\t\t\tpreloads?: URI[];\n\t\t}[]\n\t> => {\n\t\tconst notebookKernelService = accessor.get(INotebookKernelService);\n\t\tconst uri = URI.revive(args.uri as UriComponents);\n\t\tconst kernels = notebookKernelService.getMatchingKernel({\n\t\t\turi,\n\t\t\tnotebookType: args.viewType,\n\t\t});\n\n\t\treturn kernels.all.map((provider) => ({\n\t\t\tid: provider.id,\n\t\t\tlabel: provider.label,\n\t\t\tdescription: provider.description,\n\t\t\tdetail: provider.detail,\n\t\t\tisPreferred: false, // todo@jrieken,@rebornix\n\t\t\tpreloads: provider.preloadUris,\n\t\t}));\n\t},\n);\n"],
  "mappings": "AAKA,YAAY,UAAU;AACtB,SAAS,WAA+B;AACxC,SAAS,wBAAwB;AACjC;AAAA,EAGC;AAAA,OACM;AACP,SAAS,8BAA8B;AACvC,SAAS,wBAAwB;AAEjC,iBAAiB;AAAA,EAChB;AAAA,EACA,CACC,aAiBM;AACN,UAAM,kBACL,SAAS,IAAsB,gBAAgB;AAChD,UAAM,mBAAmB,gBAAgB,4BAA4B;AACrE,WAAO,iBAAiB,IAAI,CAAC,aAAa;AACzC,YAAM,mBAAmB,SAAS,UAChC,IAAI,CAAC,aAAa;AAClB,YAAI,OAAO,aAAa,UAAU;AACjC,iBAAO;AAAA,QACR;AAEA,YAAI,KAAK,kBAAkB,QAAQ,GAAG;AACrC,iBAAO;AAAA,QACR;AAEA,YAAI,yBAAyB,QAAQ,GAAG;AACvC,iBAAO;AAAA,YACN,SAAS,SAAS;AAAA,YAClB,SAAS,SAAS;AAAA,UACnB;AAAA,QACD;AAEA,eAAO;AAAA,MACR,CAAC,EACA,OAAO,CAAC,YAAY,YAAY,IAAI;AAStC,aAAO;AAAA,QACN,UAAU,SAAS;AAAA,QACnB,aAAa,SAAS;AAAA,QACtB,iBAAiB;AAAA,QACjB,SAAS;AAAA,UACR,uBACC,SAAS,QAAQ;AAAA,UAClB,2BACC,SAAS,QAAQ;AAAA,UAClB,kBAAkB,SAAS,QAAQ;AAAA,QACpC;AAAA,MACD;AAAA,IACD,CAAC;AAAA,EACF;AACD;AAEA,iBAAiB;AAAA,EAChB;AAAA,EACA,OACC,UACA,SAaI;AACJ,UAAM,wBAAwB,SAAS,IAAI,sBAAsB;AACjE,UAAM,MAAM,IAAI,OAAO,KAAK,GAAoB;AAChD,UAAM,UAAU,sBAAsB,kBAAkB;AAAA,MACvD;AAAA,MACA,cAAc,KAAK;AAAA,IACpB,CAAC;AAED,WAAO,QAAQ,IAAI,IAAI,CAAC,cAAc;AAAA,MACrC,IAAI,SAAS;AAAA,MACb,OAAO,SAAS;AAAA,MAChB,aAAa,SAAS;AAAA,MACtB,QAAQ,SAAS;AAAA,MACjB,aAAa;AAAA;AAAA,MACb,UAAU,SAAS;AAAA,IACpB,EAAE;AAAA,EACH;AACD;",
  "names": []
}
