{
  "version": 3,
  "sources": ["../../../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/contrib/notebook/browser/contrib/find/notebookFindWidget.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as DOM from \"../../../../../../base/browser/dom.js\";\nimport type { IKeyboardEvent } from \"../../../../../../base/browser/keyboardEvent.js\";\nimport { alert as alertFn } from \"../../../../../../base/browser/ui/aria/aria.js\";\nimport { KeyCode, KeyMod } from \"../../../../../../base/common/keyCodes.js\";\nimport { Lazy } from \"../../../../../../base/common/lazy.js\";\nimport { Disposable } from \"../../../../../../base/common/lifecycle.js\";\nimport * as strings from \"../../../../../../base/common/strings.js\";\nimport type { Range } from \"../../../../../../editor/common/core/range.js\";\nimport type { FindMatch } from \"../../../../../../editor/common/model.js\";\nimport { MATCHES_LIMIT } from \"../../../../../../editor/contrib/find/browser/findModel.js\";\nimport { FindReplaceState } from \"../../../../../../editor/contrib/find/browser/findState.js\";\nimport {\n\tNLS_MATCHES_LOCATION,\n\tNLS_NO_RESULTS,\n} from \"../../../../../../editor/contrib/find/browser/findWidget.js\";\nimport { localize } from \"../../../../../../nls.js\";\nimport { IConfigurationService } from \"../../../../../../platform/configuration/common/configuration.js\";\nimport {\n\ttype IContextKey,\n\tIContextKeyService,\n} from \"../../../../../../platform/contextkey/common/contextkey.js\";\nimport {\n\tIContextMenuService,\n\tIContextViewService,\n} from \"../../../../../../platform/contextview/browser/contextView.js\";\nimport { IHoverService } from \"../../../../../../platform/hover/browser/hover.js\";\nimport { IInstantiationService } from \"../../../../../../platform/instantiation/common/instantiation.js\";\nimport type { INotebookFindScope } from \"../../../common/notebookCommon.js\";\nimport { KEYBINDING_CONTEXT_NOTEBOOK_FIND_WIDGET_FOCUSED } from \"../../../common/notebookContextKeys.js\";\nimport {\n\tCellEditState,\n\ttype ICellViewModel,\n\ttype INotebookEditor,\n\ttype INotebookEditorContribution,\n} from \"../../notebookBrowser.js\";\nimport type { NotebookFindFilters } from \"./findFilters.js\";\nimport { FindModel } from \"./findModel.js\";\nimport { SimpleFindReplaceWidget } from \"./notebookFindReplaceWidget.js\";\n\nconst FIND_HIDE_TRANSITION = \"find-hide-transition\";\nconst FIND_SHOW_TRANSITION = \"find-show-transition\";\nlet MAX_MATCHES_COUNT_WIDTH = 69;\nconst PROGRESS_BAR_DELAY = 200; // show progress for at least 200ms\n\nexport interface IShowNotebookFindWidgetOptions {\n\tisRegex?: boolean;\n\twholeWord?: boolean;\n\tmatchCase?: boolean;\n\tmatchIndex?: number;\n\tfocus?: boolean;\n\tsearchStringSeededFrom?: { cell: ICellViewModel; range: Range };\n\tfindScope?: INotebookFindScope;\n}\n\nexport class NotebookFindContrib\n\textends Disposable\n\timplements INotebookEditorContribution\n{\n\tstatic readonly id: string = \"workbench.notebook.find\";\n\n\tprivate readonly widget: Lazy<NotebookFindWidget>;\n\n\tconstructor(\n\t\tprivate readonly notebookEditor: INotebookEditor,\n\t\t@IInstantiationService\n\t\tprivate readonly instantiationService: IInstantiationService,\n\t) {\n\t\tsuper();\n\n\t\tthis.widget = new Lazy(() =>\n\t\t\tthis._register(\n\t\t\t\tthis.instantiationService.createInstance(\n\t\t\t\t\tNotebookFindWidget,\n\t\t\t\t\tthis.notebookEditor,\n\t\t\t\t),\n\t\t\t),\n\t\t);\n\t}\n\n\tshow(\n\t\tinitialInput?: string,\n\t\toptions?: IShowNotebookFindWidgetOptions,\n\t): Promise<void> {\n\t\treturn this.widget.value.show(initialInput, options);\n\t}\n\n\thide() {\n\t\tthis.widget.rawValue?.hide();\n\t}\n\n\treplace(searchString: string | undefined) {\n\t\treturn this.widget.value.replace(searchString);\n\t}\n}\n\nclass NotebookFindWidget\n\textends SimpleFindReplaceWidget\n\timplements INotebookEditorContribution\n{\n\tprotected _findWidgetFocused: IContextKey<boolean>;\n\tprivate _showTimeout: number | null = null;\n\tprivate _hideTimeout: number | null = null;\n\tprivate _previousFocusElement?: HTMLElement;\n\tprivate _findModel: FindModel;\n\n\tconstructor(\n\t\t_notebookEditor: INotebookEditor,\n\t\t@IContextViewService contextViewService: IContextViewService,\n\t\t@IContextKeyService contextKeyService: IContextKeyService,\n\t\t@IConfigurationService configurationService: IConfigurationService,\n\t\t@IContextMenuService contextMenuService: IContextMenuService,\n\t\t@IHoverService hoverService: IHoverService,\n\t\t@IInstantiationService instantiationService: IInstantiationService,\n\t) {\n\t\tsuper(\n\t\t\tcontextViewService,\n\t\t\tcontextKeyService,\n\t\t\tconfigurationService,\n\t\t\tcontextMenuService,\n\t\t\tinstantiationService,\n\t\t\thoverService,\n\t\t\tnew FindReplaceState<NotebookFindFilters>(),\n\t\t\t_notebookEditor,\n\t\t);\n\t\tthis._findModel = new FindModel(\n\t\t\tthis._notebookEditor,\n\t\t\tthis._state,\n\t\t\tthis._configurationService,\n\t\t);\n\n\t\tDOM.append(this._notebookEditor.getDomNode(), this.getDomNode());\n\t\tthis._findWidgetFocused =\n\t\t\tKEYBINDING_CONTEXT_NOTEBOOK_FIND_WIDGET_FOCUSED.bindTo(\n\t\t\t\tcontextKeyService,\n\t\t\t);\n\t\tthis._register(\n\t\t\tthis._findInput.onKeyDown((e) => this._onFindInputKeyDown(e)),\n\t\t);\n\t\tthis._register(\n\t\t\tthis._replaceInput.onKeyDown((e) => this._onReplaceInputKeyDown(e)),\n\t\t);\n\n\t\tthis._register(\n\t\t\tthis._state.onFindReplaceStateChange((e) => {\n\t\t\t\tthis.onInputChanged();\n\n\t\t\t\tif (e.isSearching) {\n\t\t\t\t\tif (this._state.isSearching) {\n\t\t\t\t\t\tthis._progressBar.infinite().show(PROGRESS_BAR_DELAY);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis._progressBar.stop().hide();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (this._findModel.currentMatch >= 0) {\n\t\t\t\t\tconst currentMatch = this._findModel.getCurrentMatch();\n\t\t\t\t\tthis._replaceBtn.setEnabled(currentMatch.isModelMatch);\n\t\t\t\t}\n\n\t\t\t\tconst matches = this._findModel.findMatches;\n\t\t\t\tthis._replaceAllBtn.setEnabled(\n\t\t\t\t\tmatches.length > 0 &&\n\t\t\t\t\t\tmatches.find(\n\t\t\t\t\t\t\t(match) => match.webviewMatches.length > 0,\n\t\t\t\t\t\t) === undefined,\n\t\t\t\t);\n\n\t\t\t\tif (e.filters) {\n\t\t\t\t\tthis._findInput.updateFilterState(\n\t\t\t\t\t\tthis._state.filters?.isModified() ?? false,\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}),\n\t\t);\n\n\t\tthis._register(\n\t\t\tDOM.addDisposableListener(\n\t\t\t\tthis.getDomNode(),\n\t\t\t\tDOM.EventType.FOCUS,\n\t\t\t\t(e) => {\n\t\t\t\t\tthis._previousFocusElement = DOM.isHTMLElement(\n\t\t\t\t\t\te.relatedTarget,\n\t\t\t\t\t)\n\t\t\t\t\t\t? e.relatedTarget\n\t\t\t\t\t\t: undefined;\n\t\t\t\t},\n\t\t\t\ttrue,\n\t\t\t),\n\t\t);\n\t}\n\n\tprivate _onFindInputKeyDown(e: IKeyboardEvent): void {\n\t\tif (e.equals(KeyCode.Enter)) {\n\t\t\tthis.find(false);\n\t\t\te.preventDefault();\n\t\t\treturn;\n\t\t} else if (e.equals(KeyMod.Shift | KeyCode.Enter)) {\n\t\t\tthis.find(true);\n\t\t\te.preventDefault();\n\t\t\treturn;\n\t\t}\n\t}\n\n\tprivate _onReplaceInputKeyDown(e: IKeyboardEvent): void {\n\t\tif (e.equals(KeyCode.Enter)) {\n\t\t\tthis.replaceOne();\n\t\t\te.preventDefault();\n\t\t\treturn;\n\t\t}\n\t}\n\n\tprotected onInputChanged(): boolean {\n\t\tthis._state.change({ searchString: this.inputValue }, false);\n\t\t// this._findModel.research();\n\t\tconst findMatches = this._findModel.findMatches;\n\t\tif (findMatches && findMatches.length) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tprivate findIndex(index: number): void {\n\t\tthis._findModel.find({ index });\n\t}\n\n\tprotected find(previous: boolean): void {\n\t\tthis._findModel.find({ previous });\n\t}\n\n\tprotected replaceOne() {\n\t\tif (!this._notebookEditor.hasModel()) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!this._findModel.findMatches.length) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._findModel.ensureFindMatches();\n\n\t\tif (this._findModel.currentMatch < 0) {\n\t\t\tthis._findModel.find({ previous: false });\n\t\t}\n\n\t\tconst currentMatch = this._findModel.getCurrentMatch();\n\t\tconst cell = currentMatch.cell;\n\t\tif (currentMatch.isModelMatch) {\n\t\t\tconst match = currentMatch.match as FindMatch;\n\n\t\t\tthis._progressBar.infinite().show(PROGRESS_BAR_DELAY);\n\n\t\t\tconst replacePattern = this.replacePattern;\n\t\t\tconst replaceString = replacePattern.buildReplaceString(\n\t\t\t\tmatch.matches,\n\t\t\t\tthis._state.preserveCase,\n\t\t\t);\n\n\t\t\tconst viewModel = this._notebookEditor.getViewModel();\n\t\t\tviewModel.replaceOne(cell, match.range, replaceString).then(() => {\n\t\t\t\tthis._progressBar.stop();\n\t\t\t});\n\t\t} else {\n\t\t\t// this should not work\n\t\t\tconsole.error(\"Replace does not work for output match\");\n\t\t}\n\t}\n\n\tprotected replaceAll() {\n\t\tif (!this._notebookEditor.hasModel()) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._progressBar.infinite().show(PROGRESS_BAR_DELAY);\n\n\t\tconst replacePattern = this.replacePattern;\n\n\t\tconst cellFindMatches = this._findModel.findMatches;\n\t\tconst replaceStrings: string[] = [];\n\t\tcellFindMatches.forEach((cellFindMatch) => {\n\t\t\tcellFindMatch.contentMatches.forEach((match) => {\n\t\t\t\tconst matches = match.matches;\n\t\t\t\treplaceStrings.push(\n\t\t\t\t\treplacePattern.buildReplaceString(\n\t\t\t\t\t\tmatches,\n\t\t\t\t\t\tthis._state.preserveCase,\n\t\t\t\t\t),\n\t\t\t\t);\n\t\t\t});\n\t\t});\n\n\t\tconst viewModel = this._notebookEditor.getViewModel();\n\t\tviewModel\n\t\t\t.replaceAll(this._findModel.findMatches, replaceStrings)\n\t\t\t.then(() => {\n\t\t\t\tthis._progressBar.stop();\n\t\t\t});\n\t}\n\n\tprotected findFirst(): void {}\n\n\tprotected onFocusTrackerFocus() {\n\t\tthis._findWidgetFocused.set(true);\n\t}\n\n\tprotected onFocusTrackerBlur() {\n\t\tthis._previousFocusElement = undefined;\n\t\tthis._findWidgetFocused.reset();\n\t}\n\n\tprotected onReplaceInputFocusTrackerFocus(): void {\n\t\t// throw new Error('Method not implemented.');\n\t}\n\tprotected onReplaceInputFocusTrackerBlur(): void {\n\t\t// throw new Error('Method not implemented.');\n\t}\n\n\tprotected onFindInputFocusTrackerFocus(): void {}\n\tprotected onFindInputFocusTrackerBlur(): void {}\n\n\toverride async show(\n\t\tinitialInput?: string,\n\t\toptions?: IShowNotebookFindWidgetOptions,\n\t): Promise<void> {\n\t\tconst searchStringUpdate = this._state.searchString !== initialInput;\n\t\tsuper.show(initialInput, options);\n\t\tthis._state.change(\n\t\t\t{\n\t\t\t\tsearchString: initialInput ?? this._state.searchString,\n\t\t\t\tisRevealed: true,\n\t\t\t},\n\t\t\tfalse,\n\t\t);\n\n\t\tif (typeof options?.matchIndex === \"number\") {\n\t\t\tif (!this._findModel.findMatches.length) {\n\t\t\t\tawait this._findModel.research();\n\t\t\t}\n\t\t\tthis.findIndex(options.matchIndex);\n\t\t} else {\n\t\t\tthis._findInput.select();\n\t\t}\n\n\t\tif (!searchStringUpdate && options?.searchStringSeededFrom) {\n\t\t\tthis._findModel.refreshCurrentMatch(options.searchStringSeededFrom);\n\t\t}\n\n\t\tif (this._showTimeout === null) {\n\t\t\tif (this._hideTimeout !== null) {\n\t\t\t\tDOM.getWindow(this.getDomNode()).clearTimeout(\n\t\t\t\t\tthis._hideTimeout,\n\t\t\t\t);\n\t\t\t\tthis._hideTimeout = null;\n\t\t\t\tthis._notebookEditor.removeClassName(FIND_HIDE_TRANSITION);\n\t\t\t}\n\n\t\t\tthis._notebookEditor.addClassName(FIND_SHOW_TRANSITION);\n\t\t\tthis._showTimeout = DOM.getWindow(this.getDomNode()).setTimeout(\n\t\t\t\t() => {\n\t\t\t\t\tthis._notebookEditor.removeClassName(FIND_SHOW_TRANSITION);\n\t\t\t\t\tthis._showTimeout = null;\n\t\t\t\t},\n\t\t\t\t200,\n\t\t\t);\n\t\t} else {\n\t\t\t// no op\n\t\t}\n\t}\n\n\treplace(initialFindInput?: string, initialReplaceInput?: string) {\n\t\tsuper.showWithReplace(initialFindInput, initialReplaceInput);\n\t\tthis._state.change(\n\t\t\t{\n\t\t\t\tsearchString: initialFindInput ?? \"\",\n\t\t\t\treplaceString: initialReplaceInput ?? \"\",\n\t\t\t\tisRevealed: true,\n\t\t\t},\n\t\t\tfalse,\n\t\t);\n\t\tthis._replaceInput.select();\n\n\t\tif (this._showTimeout === null) {\n\t\t\tif (this._hideTimeout !== null) {\n\t\t\t\tDOM.getWindow(this.getDomNode()).clearTimeout(\n\t\t\t\t\tthis._hideTimeout,\n\t\t\t\t);\n\t\t\t\tthis._hideTimeout = null;\n\t\t\t\tthis._notebookEditor.removeClassName(FIND_HIDE_TRANSITION);\n\t\t\t}\n\n\t\t\tthis._notebookEditor.addClassName(FIND_SHOW_TRANSITION);\n\t\t\tthis._showTimeout = DOM.getWindow(this.getDomNode()).setTimeout(\n\t\t\t\t() => {\n\t\t\t\t\tthis._notebookEditor.removeClassName(FIND_SHOW_TRANSITION);\n\t\t\t\t\tthis._showTimeout = null;\n\t\t\t\t},\n\t\t\t\t200,\n\t\t\t);\n\t\t} else {\n\t\t\t// no op\n\t\t}\n\t}\n\n\toverride hide() {\n\t\tsuper.hide();\n\t\tthis._state.change({ isRevealed: false }, false);\n\t\tthis._findModel.clear();\n\t\tthis._notebookEditor.findStop();\n\t\tthis._progressBar.stop();\n\n\t\tif (this._hideTimeout === null) {\n\t\t\tif (this._showTimeout !== null) {\n\t\t\t\tDOM.getWindow(this.getDomNode()).clearTimeout(\n\t\t\t\t\tthis._showTimeout,\n\t\t\t\t);\n\t\t\t\tthis._showTimeout = null;\n\t\t\t\tthis._notebookEditor.removeClassName(FIND_SHOW_TRANSITION);\n\t\t\t}\n\t\t\tthis._notebookEditor.addClassName(FIND_HIDE_TRANSITION);\n\t\t\tthis._hideTimeout = DOM.getWindow(this.getDomNode()).setTimeout(\n\t\t\t\t() => {\n\t\t\t\t\tthis._notebookEditor.removeClassName(FIND_HIDE_TRANSITION);\n\t\t\t\t},\n\t\t\t\t200,\n\t\t\t);\n\t\t} else {\n\t\t\t// no op\n\t\t}\n\n\t\tif (\n\t\t\tthis._previousFocusElement &&\n\t\t\tthis._previousFocusElement.offsetParent\n\t\t) {\n\t\t\tthis._previousFocusElement.focus();\n\t\t\tthis._previousFocusElement = undefined;\n\t\t}\n\n\t\tif (this._notebookEditor.hasModel()) {\n\t\t\tfor (let i = 0; i < this._notebookEditor.getLength(); i++) {\n\t\t\t\tconst cell = this._notebookEditor.cellAt(i);\n\n\t\t\t\tif (\n\t\t\t\t\tcell.getEditState() === CellEditState.Editing &&\n\t\t\t\t\tcell.editStateSource === \"find\"\n\t\t\t\t) {\n\t\t\t\t\tcell.updateEditState(CellEditState.Preview, \"closeFind\");\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tprotected override _updateMatchesCount(): void {\n\t\tif (!this._findModel || !this._findModel.findMatches) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._matchesCount.style.width = MAX_MATCHES_COUNT_WIDTH + \"px\";\n\t\tthis._matchesCount.title = \"\";\n\n\t\t// remove previous content\n\t\tthis._matchesCount.firstChild?.remove();\n\n\t\tlet label: string;\n\n\t\tif (this._state.matchesCount > 0) {\n\t\t\tlet matchesCount: string = String(this._state.matchesCount);\n\t\t\tif (this._state.matchesCount >= MATCHES_LIMIT) {\n\t\t\t\tmatchesCount += \"+\";\n\t\t\t}\n\t\t\tconst matchesPosition: string =\n\t\t\t\tthis._findModel.currentMatch < 0\n\t\t\t\t\t? \"?\"\n\t\t\t\t\t: String(this._findModel.currentMatch + 1);\n\t\t\tlabel = strings.format(\n\t\t\t\tNLS_MATCHES_LOCATION,\n\t\t\t\tmatchesPosition,\n\t\t\t\tmatchesCount,\n\t\t\t);\n\t\t} else {\n\t\t\tlabel = NLS_NO_RESULTS;\n\t\t}\n\n\t\tthis._matchesCount.appendChild(document.createTextNode(label));\n\n\t\talertFn(\n\t\t\tthis._getAriaLabel(\n\t\t\t\tlabel,\n\t\t\t\tthis._state.currentMatch,\n\t\t\t\tthis._state.searchString,\n\t\t\t),\n\t\t);\n\t\tMAX_MATCHES_COUNT_WIDTH = Math.max(\n\t\t\tMAX_MATCHES_COUNT_WIDTH,\n\t\t\tthis._matchesCount.clientWidth,\n\t\t);\n\t}\n\n\tprivate _getAriaLabel(\n\t\tlabel: string,\n\t\tcurrentMatch: Range | null,\n\t\tsearchString: string,\n\t): string {\n\t\tif (label === NLS_NO_RESULTS) {\n\t\t\treturn searchString === \"\"\n\t\t\t\t? localize(\"ariaSearchNoResultEmpty\", \"{0} found\", label)\n\t\t\t\t: localize(\n\t\t\t\t\t\t\"ariaSearchNoResult\",\n\t\t\t\t\t\t\"{0} found for '{1}'\",\n\t\t\t\t\t\tlabel,\n\t\t\t\t\t\tsearchString,\n\t\t\t\t\t);\n\t\t}\n\n\t\t// TODO@rebornix, aria for `cell ${index}, line {line}`\n\t\treturn localize(\n\t\t\t\"ariaSearchNoResultWithLineNumNoCurrentMatch\",\n\t\t\t\"{0} found for '{1}'\",\n\t\t\tlabel,\n\t\t\tsearchString,\n\t\t);\n\t}\n\toverride dispose() {\n\t\tthis._notebookEditor?.removeClassName(FIND_SHOW_TRANSITION);\n\t\tthis._notebookEditor?.removeClassName(FIND_HIDE_TRANSITION);\n\t\tthis._findModel.dispose();\n\t\tsuper.dispose();\n\t}\n}\n"],
  "mappings": "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",
  "names": []
}
