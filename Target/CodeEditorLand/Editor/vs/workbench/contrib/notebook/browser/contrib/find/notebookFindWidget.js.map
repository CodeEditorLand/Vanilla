{
  "version": 3,
  "sources": ["../../../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/contrib/notebook/browser/contrib/find/notebookFindWidget.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as DOM from '../../../../../../base/browser/dom.js';\nimport { IKeyboardEvent } from '../../../../../../base/browser/keyboardEvent.js';\nimport { alert as alertFn } from '../../../../../../base/browser/ui/aria/aria.js';\nimport { KeyCode, KeyMod } from '../../../../../../base/common/keyCodes.js';\nimport { Lazy } from '../../../../../../base/common/lazy.js';\nimport { Disposable } from '../../../../../../base/common/lifecycle.js';\nimport * as strings from '../../../../../../base/common/strings.js';\nimport { Range } from '../../../../../../editor/common/core/range.js';\nimport { FindMatch } from '../../../../../../editor/common/model.js';\nimport { MATCHES_LIMIT } from '../../../../../../editor/contrib/find/browser/findModel.js';\nimport { FindReplaceState } from '../../../../../../editor/contrib/find/browser/findState.js';\nimport { NLS_MATCHES_LOCATION, NLS_NO_RESULTS } from '../../../../../../editor/contrib/find/browser/findWidget.js';\nimport { localize } from '../../../../../../nls.js';\nimport { IConfigurationService } from '../../../../../../platform/configuration/common/configuration.js';\nimport { IContextKey, IContextKeyService } from '../../../../../../platform/contextkey/common/contextkey.js';\nimport { IContextMenuService, IContextViewService } from '../../../../../../platform/contextview/browser/contextView.js';\nimport { IHoverService } from '../../../../../../platform/hover/browser/hover.js';\nimport { IInstantiationService } from '../../../../../../platform/instantiation/common/instantiation.js';\nimport { NotebookFindFilters } from './findFilters.js';\nimport { FindModel } from './findModel.js';\nimport { SimpleFindReplaceWidget } from './notebookFindReplaceWidget.js';\nimport { CellEditState, ICellViewModel, INotebookEditor, INotebookEditorContribution } from '../../notebookBrowser.js';\nimport { INotebookFindScope } from '../../../common/notebookCommon.js';\nimport { KEYBINDING_CONTEXT_NOTEBOOK_FIND_WIDGET_FOCUSED } from '../../../common/notebookContextKeys.js';\n\nconst FIND_HIDE_TRANSITION = 'find-hide-transition';\nconst FIND_SHOW_TRANSITION = 'find-show-transition';\nlet MAX_MATCHES_COUNT_WIDTH = 69;\nconst PROGRESS_BAR_DELAY = 200; // show progress for at least 200ms\n\nexport interface IShowNotebookFindWidgetOptions {\n\tisRegex?: boolean;\n\twholeWord?: boolean;\n\tmatchCase?: boolean;\n\tmatchIndex?: number;\n\tfocus?: boolean;\n\tsearchStringSeededFrom?: { cell: ICellViewModel; range: Range };\n\tfindScope?: INotebookFindScope;\n}\n\nexport class NotebookFindContrib extends Disposable implements INotebookEditorContribution {\n\n\tstatic readonly id: string = 'workbench.notebook.find';\n\n\tprivate readonly widget: Lazy<NotebookFindWidget>;\n\n\tconstructor(\n\t\tprivate readonly notebookEditor: INotebookEditor,\n\t\t@IInstantiationService private readonly instantiationService: IInstantiationService,\n\t) {\n\t\tsuper();\n\n\t\tthis.widget = new Lazy(() => this._register(this.instantiationService.createInstance(NotebookFindWidget, this.notebookEditor)));\n\t}\n\n\tshow(initialInput?: string, options?: IShowNotebookFindWidgetOptions): Promise<void> {\n\t\treturn this.widget.value.show(initialInput, options);\n\t}\n\n\thide() {\n\t\tthis.widget.rawValue?.hide();\n\t}\n\n\treplace(searchString: string | undefined) {\n\t\treturn this.widget.value.replace(searchString);\n\t}\n}\n\nclass NotebookFindWidget extends SimpleFindReplaceWidget implements INotebookEditorContribution {\n\tprotected _findWidgetFocused: IContextKey<boolean>;\n\tprivate _showTimeout: number | null = null;\n\tprivate _hideTimeout: number | null = null;\n\tprivate _previousFocusElement?: HTMLElement;\n\tprivate _findModel: FindModel;\n\n\tconstructor(\n\t\t_notebookEditor: INotebookEditor,\n\t\t@IContextViewService contextViewService: IContextViewService,\n\t\t@IContextKeyService contextKeyService: IContextKeyService,\n\t\t@IConfigurationService configurationService: IConfigurationService,\n\t\t@IContextMenuService contextMenuService: IContextMenuService,\n\t\t@IHoverService hoverService: IHoverService,\n\t\t@IInstantiationService instantiationService: IInstantiationService,\n\t) {\n\t\tsuper(contextViewService, contextKeyService, configurationService, contextMenuService, instantiationService, hoverService, new FindReplaceState<NotebookFindFilters>(), _notebookEditor);\n\t\tthis._findModel = new FindModel(this._notebookEditor, this._state, this._configurationService);\n\n\t\tDOM.append(this._notebookEditor.getDomNode(), this.getDomNode());\n\t\tthis._findWidgetFocused = KEYBINDING_CONTEXT_NOTEBOOK_FIND_WIDGET_FOCUSED.bindTo(contextKeyService);\n\t\tthis._register(this._findInput.onKeyDown((e) => this._onFindInputKeyDown(e)));\n\t\tthis._register(this._replaceInput.onKeyDown((e) => this._onReplaceInputKeyDown(e)));\n\n\t\tthis._register(this._state.onFindReplaceStateChange((e) => {\n\t\t\tthis.onInputChanged();\n\n\t\t\tif (e.isSearching) {\n\t\t\t\tif (this._state.isSearching) {\n\t\t\t\t\tthis._progressBar.infinite().show(PROGRESS_BAR_DELAY);\n\t\t\t\t} else {\n\t\t\t\t\tthis._progressBar.stop().hide();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (this._findModel.currentMatch >= 0) {\n\t\t\t\tconst currentMatch = this._findModel.getCurrentMatch();\n\t\t\t\tthis._replaceBtn.setEnabled(currentMatch.isModelMatch);\n\t\t\t}\n\n\t\t\tconst matches = this._findModel.findMatches;\n\t\t\tthis._replaceAllBtn.setEnabled(matches.length > 0 && matches.find(match => match.webviewMatches.length > 0) === undefined);\n\n\t\t\tif (e.filters) {\n\t\t\t\tthis._findInput.updateFilterState(this._state.filters?.isModified() ?? false);\n\t\t\t}\n\t\t}));\n\n\t\tthis._register(DOM.addDisposableListener(this.getDomNode(), DOM.EventType.FOCUS, e => {\n\t\t\tthis._previousFocusElement = DOM.isHTMLElement(e.relatedTarget) ? e.relatedTarget : undefined;\n\t\t}, true));\n\t}\n\n\n\tprivate _onFindInputKeyDown(e: IKeyboardEvent): void {\n\t\tif (e.equals(KeyCode.Enter)) {\n\t\t\tthis.find(false);\n\t\t\te.preventDefault();\n\t\t\treturn;\n\t\t} else if (e.equals(KeyMod.Shift | KeyCode.Enter)) {\n\t\t\tthis.find(true);\n\t\t\te.preventDefault();\n\t\t\treturn;\n\t\t}\n\t}\n\n\tprivate _onReplaceInputKeyDown(e: IKeyboardEvent): void {\n\t\tif (e.equals(KeyCode.Enter)) {\n\t\t\tthis.replaceOne();\n\t\t\te.preventDefault();\n\t\t\treturn;\n\t\t}\n\t}\n\n\tprotected onInputChanged(): boolean {\n\t\tthis._state.change({ searchString: this.inputValue }, false);\n\t\t// this._findModel.research();\n\t\tconst findMatches = this._findModel.findMatches;\n\t\tif (findMatches && findMatches.length) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tprivate findIndex(index: number): void {\n\t\tthis._findModel.find({ index });\n\t}\n\n\tprotected find(previous: boolean): void {\n\t\tthis._findModel.find({ previous });\n\t}\n\n\tprotected replaceOne() {\n\t\tif (!this._notebookEditor.hasModel()) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!this._findModel.findMatches.length) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._findModel.ensureFindMatches();\n\n\t\tif (this._findModel.currentMatch < 0) {\n\t\t\tthis._findModel.find({ previous: false });\n\t\t}\n\n\t\tconst currentMatch = this._findModel.getCurrentMatch();\n\t\tconst cell = currentMatch.cell;\n\t\tif (currentMatch.isModelMatch) {\n\t\t\tconst match = currentMatch.match as FindMatch;\n\n\t\t\tthis._progressBar.infinite().show(PROGRESS_BAR_DELAY);\n\n\t\t\tconst replacePattern = this.replacePattern;\n\t\t\tconst replaceString = replacePattern.buildReplaceString(match.matches, this._state.preserveCase);\n\n\t\t\tconst viewModel = this._notebookEditor.getViewModel();\n\t\t\tviewModel.replaceOne(cell, match.range, replaceString).then(() => {\n\t\t\t\tthis._progressBar.stop();\n\t\t\t});\n\t\t} else {\n\t\t\t// this should not work\n\t\t\tconsole.error('Replace does not work for output match');\n\t\t}\n\t}\n\n\tprotected replaceAll() {\n\t\tif (!this._notebookEditor.hasModel()) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._progressBar.infinite().show(PROGRESS_BAR_DELAY);\n\n\t\tconst replacePattern = this.replacePattern;\n\n\t\tconst cellFindMatches = this._findModel.findMatches;\n\t\tconst replaceStrings: string[] = [];\n\t\tcellFindMatches.forEach(cellFindMatch => {\n\t\t\tcellFindMatch.contentMatches.forEach(match => {\n\t\t\t\tconst matches = match.matches;\n\t\t\t\treplaceStrings.push(replacePattern.buildReplaceString(matches, this._state.preserveCase));\n\t\t\t});\n\t\t});\n\n\t\tconst viewModel = this._notebookEditor.getViewModel();\n\t\tviewModel.replaceAll(this._findModel.findMatches, replaceStrings).then(() => {\n\t\t\tthis._progressBar.stop();\n\t\t});\n\t}\n\n\tprotected findFirst(): void { }\n\n\tprotected onFocusTrackerFocus() {\n\t\tthis._findWidgetFocused.set(true);\n\t}\n\n\tprotected onFocusTrackerBlur() {\n\t\tthis._previousFocusElement = undefined;\n\t\tthis._findWidgetFocused.reset();\n\t}\n\n\tprotected onReplaceInputFocusTrackerFocus(): void {\n\t\t// throw new Error('Method not implemented.');\n\t}\n\tprotected onReplaceInputFocusTrackerBlur(): void {\n\t\t// throw new Error('Method not implemented.');\n\t}\n\n\tprotected onFindInputFocusTrackerFocus(): void { }\n\tprotected onFindInputFocusTrackerBlur(): void { }\n\n\toverride async show(initialInput?: string, options?: IShowNotebookFindWidgetOptions): Promise<void> {\n\t\tconst searchStringUpdate = this._state.searchString !== initialInput;\n\t\tsuper.show(initialInput, options);\n\t\tthis._state.change({ searchString: initialInput ?? this._state.searchString, isRevealed: true }, false);\n\n\t\tif (typeof options?.matchIndex === 'number') {\n\t\t\tif (!this._findModel.findMatches.length) {\n\t\t\t\tawait this._findModel.research();\n\t\t\t}\n\t\t\tthis.findIndex(options.matchIndex);\n\t\t} else {\n\t\t\tthis._findInput.select();\n\t\t}\n\n\t\tif (!searchStringUpdate && options?.searchStringSeededFrom) {\n\t\t\tthis._findModel.refreshCurrentMatch(options.searchStringSeededFrom);\n\t\t}\n\n\t\tif (this._showTimeout === null) {\n\t\t\tif (this._hideTimeout !== null) {\n\t\t\t\tDOM.getWindow(this.getDomNode()).clearTimeout(this._hideTimeout);\n\t\t\t\tthis._hideTimeout = null;\n\t\t\t\tthis._notebookEditor.removeClassName(FIND_HIDE_TRANSITION);\n\t\t\t}\n\n\t\t\tthis._notebookEditor.addClassName(FIND_SHOW_TRANSITION);\n\t\t\tthis._showTimeout = DOM.getWindow(this.getDomNode()).setTimeout(() => {\n\t\t\t\tthis._notebookEditor.removeClassName(FIND_SHOW_TRANSITION);\n\t\t\t\tthis._showTimeout = null;\n\t\t\t}, 200);\n\t\t} else {\n\t\t\t// no op\n\t\t}\n\t}\n\n\treplace(initialFindInput?: string, initialReplaceInput?: string) {\n\t\tsuper.showWithReplace(initialFindInput, initialReplaceInput);\n\t\tthis._state.change({ searchString: initialFindInput ?? '', replaceString: initialReplaceInput ?? '', isRevealed: true }, false);\n\t\tthis._replaceInput.select();\n\n\t\tif (this._showTimeout === null) {\n\t\t\tif (this._hideTimeout !== null) {\n\t\t\t\tDOM.getWindow(this.getDomNode()).clearTimeout(this._hideTimeout);\n\t\t\t\tthis._hideTimeout = null;\n\t\t\t\tthis._notebookEditor.removeClassName(FIND_HIDE_TRANSITION);\n\t\t\t}\n\n\t\t\tthis._notebookEditor.addClassName(FIND_SHOW_TRANSITION);\n\t\t\tthis._showTimeout = DOM.getWindow(this.getDomNode()).setTimeout(() => {\n\t\t\t\tthis._notebookEditor.removeClassName(FIND_SHOW_TRANSITION);\n\t\t\t\tthis._showTimeout = null;\n\t\t\t}, 200);\n\t\t} else {\n\t\t\t// no op\n\t\t}\n\t}\n\n\toverride hide() {\n\t\tsuper.hide();\n\t\tthis._state.change({ isRevealed: false }, false);\n\t\tthis._findModel.clear();\n\t\tthis._notebookEditor.findStop();\n\t\tthis._progressBar.stop();\n\n\t\tif (this._hideTimeout === null) {\n\t\t\tif (this._showTimeout !== null) {\n\t\t\t\tDOM.getWindow(this.getDomNode()).clearTimeout(this._showTimeout);\n\t\t\t\tthis._showTimeout = null;\n\t\t\t\tthis._notebookEditor.removeClassName(FIND_SHOW_TRANSITION);\n\t\t\t}\n\t\t\tthis._notebookEditor.addClassName(FIND_HIDE_TRANSITION);\n\t\t\tthis._hideTimeout = DOM.getWindow(this.getDomNode()).setTimeout(() => {\n\t\t\t\tthis._notebookEditor.removeClassName(FIND_HIDE_TRANSITION);\n\t\t\t}, 200);\n\t\t} else {\n\t\t\t// no op\n\t\t}\n\n\t\tif (this._previousFocusElement && this._previousFocusElement.offsetParent) {\n\t\t\tthis._previousFocusElement.focus();\n\t\t\tthis._previousFocusElement = undefined;\n\t\t}\n\n\t\tif (this._notebookEditor.hasModel()) {\n\t\t\tfor (let i = 0; i < this._notebookEditor.getLength(); i++) {\n\t\t\t\tconst cell = this._notebookEditor.cellAt(i);\n\n\t\t\t\tif (cell.getEditState() === CellEditState.Editing && cell.editStateSource === 'find') {\n\t\t\t\t\tcell.updateEditState(CellEditState.Preview, 'closeFind');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tprotected override _updateMatchesCount(): void {\n\t\tif (!this._findModel || !this._findModel.findMatches) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._matchesCount.style.width = MAX_MATCHES_COUNT_WIDTH + 'px';\n\t\tthis._matchesCount.title = '';\n\n\t\t// remove previous content\n\t\tthis._matchesCount.firstChild?.remove();\n\n\t\tlet label: string;\n\n\t\tif (this._state.matchesCount > 0) {\n\t\t\tlet matchesCount: string = String(this._state.matchesCount);\n\t\t\tif (this._state.matchesCount >= MATCHES_LIMIT) {\n\t\t\t\tmatchesCount += '+';\n\t\t\t}\n\t\t\tconst matchesPosition: string = this._findModel.currentMatch < 0 ? '?' : String((this._findModel.currentMatch + 1));\n\t\t\tlabel = strings.format(NLS_MATCHES_LOCATION, matchesPosition, matchesCount);\n\t\t} else {\n\t\t\tlabel = NLS_NO_RESULTS;\n\t\t}\n\n\t\tthis._matchesCount.appendChild(document.createTextNode(label));\n\n\t\talertFn(this._getAriaLabel(label, this._state.currentMatch, this._state.searchString));\n\t\tMAX_MATCHES_COUNT_WIDTH = Math.max(MAX_MATCHES_COUNT_WIDTH, this._matchesCount.clientWidth);\n\t}\n\n\tprivate _getAriaLabel(label: string, currentMatch: Range | null, searchString: string): string {\n\t\tif (label === NLS_NO_RESULTS) {\n\t\t\treturn searchString === ''\n\t\t\t\t? localize('ariaSearchNoResultEmpty', \"{0} found\", label)\n\t\t\t\t: localize('ariaSearchNoResult', \"{0} found for '{1}'\", label, searchString);\n\t\t}\n\n\t\t// TODO@rebornix, aria for `cell ${index}, line {line}`\n\t\treturn localize('ariaSearchNoResultWithLineNumNoCurrentMatch', \"{0} found for '{1}'\", label, searchString);\n\t}\n\toverride dispose() {\n\t\tthis._notebookEditor?.removeClassName(FIND_SHOW_TRANSITION);\n\t\tthis._notebookEditor?.removeClassName(FIND_HIDE_TRANSITION);\n\t\tthis._findModel.dispose();\n\t\tsuper.dispose();\n\t}\n}\n"],
  "mappings": ";;;;;;;;;;;;AAKA,YAAY,SAAS;AACrB,SAAS,sBAAsB;AAC/B,SAAS,SAAS,eAAe;AACjC,SAAS,SAAS,cAAc;AAChC,SAAS,YAAY;AACrB,SAAS,kBAAkB;AAC3B,YAAY,aAAa;AACzB,SAAS,aAAa;AACtB,SAAS,iBAAiB;AAC1B,SAAS,qBAAqB;AAC9B,SAAS,wBAAwB;AACjC,SAAS,sBAAsB,sBAAsB;AACrD,SAAS,gBAAgB;AACzB,SAAS,6BAA6B;AACtC,SAAS,aAAa,0BAA0B;AAChD,SAAS,qBAAqB,2BAA2B;AACzD,SAAS,qBAAqB;AAC9B,SAAS,6BAA6B;AACtC,SAAS,2BAA2B;AACpC,SAAS,iBAAiB;AAC1B,SAAS,+BAA+B;AACxC,SAAS,eAAe,gBAAgB,iBAAiB,mCAAmC;AAC5F,SAAS,0BAA0B;AACnC,SAAS,uDAAuD;AAEhE,MAAM,uBAAuB;AAC7B,MAAM,uBAAuB;AAC7B,IAAI,0BAA0B;AAC9B,MAAM,qBAAqB;AAYpB,IAAM,sBAAN,cAAkC,WAAkD;AAAA,EAM1F,YACkB,gBACuB,sBACvC;AACD,UAAM;AAHW;AACuB;AAIxC,SAAK,SAAS,IAAI,KAAK,MAAM,KAAK,UAAU,KAAK,qBAAqB,eAAe,oBAAoB,KAAK,cAAc,CAAC,CAAC;AAAA,EAC/H;AAAA,EA1DD,OA6C2F;AAAA;AAAA;AAAA,EAE1F,OAAgB,KAAa;AAAA,EAEZ;AAAA,EAWjB,KAAK,cAAuB,SAAyD;AACpF,WAAO,KAAK,OAAO,MAAM,KAAK,cAAc,OAAO;AAAA,EACpD;AAAA,EAEA,OAAO;AACN,SAAK,OAAO,UAAU,KAAK;AAAA,EAC5B;AAAA,EAEA,QAAQ,cAAkC;AACzC,WAAO,KAAK,OAAO,MAAM,QAAQ,YAAY;AAAA,EAC9C;AACD;AA1Ba,sBAAN;AAAA,EAQJ;AAAA,GARU;AA4Bb,IAAM,qBAAN,cAAiC,wBAA+D;AAAA,EAzEhG,OAyEgG;AAAA;AAAA;AAAA,EACrF;AAAA,EACF,eAA8B;AAAA,EAC9B,eAA8B;AAAA,EAC9B;AAAA,EACA;AAAA,EAER,YACC,iBACqB,oBACD,mBACG,sBACF,oBACN,cACQ,sBACtB;AACD,UAAM,oBAAoB,mBAAmB,sBAAsB,oBAAoB,sBAAsB,cAAc,IAAI,iBAAsC,GAAG,eAAe;AACvL,SAAK,aAAa,IAAI,UAAU,KAAK,iBAAiB,KAAK,QAAQ,KAAK,qBAAqB;AAE7F,QAAI,OAAO,KAAK,gBAAgB,WAAW,GAAG,KAAK,WAAW,CAAC;AAC/D,SAAK,qBAAqB,gDAAgD,OAAO,iBAAiB;AAClG,SAAK,UAAU,KAAK,WAAW,UAAU,CAAC,MAAM,KAAK,oBAAoB,CAAC,CAAC,CAAC;AAC5E,SAAK,UAAU,KAAK,cAAc,UAAU,CAAC,MAAM,KAAK,uBAAuB,CAAC,CAAC,CAAC;AAElF,SAAK,UAAU,KAAK,OAAO,yBAAyB,CAAC,MAAM;AAC1D,WAAK,eAAe;AAEpB,UAAI,EAAE,aAAa;AAClB,YAAI,KAAK,OAAO,aAAa;AAC5B,eAAK,aAAa,SAAS,EAAE,KAAK,kBAAkB;AAAA,QACrD,OAAO;AACN,eAAK,aAAa,KAAK,EAAE,KAAK;AAAA,QAC/B;AAAA,MACD;AAEA,UAAI,KAAK,WAAW,gBAAgB,GAAG;AACtC,cAAM,eAAe,KAAK,WAAW,gBAAgB;AACrD,aAAK,YAAY,WAAW,aAAa,YAAY;AAAA,MACtD;AAEA,YAAM,UAAU,KAAK,WAAW;AAChC,WAAK,eAAe,WAAW,QAAQ,SAAS,KAAK,QAAQ,KAAK,WAAS,MAAM,eAAe,SAAS,CAAC,MAAM,MAAS;AAEzH,UAAI,EAAE,SAAS;AACd,aAAK,WAAW,kBAAkB,KAAK,OAAO,SAAS,WAAW,KAAK,KAAK;AAAA,MAC7E;AAAA,IACD,CAAC,CAAC;AAEF,SAAK,UAAU,IAAI,sBAAsB,KAAK,WAAW,GAAG,IAAI,UAAU,OAAO,OAAK;AACrF,WAAK,wBAAwB,IAAI,cAAc,EAAE,aAAa,IAAI,EAAE,gBAAgB;AAAA,IACrF,GAAG,IAAI,CAAC;AAAA,EACT;AAAA,EAGQ,oBAAoB,GAAyB;AACpD,QAAI,EAAE,OAAO,QAAQ,KAAK,GAAG;AAC5B,WAAK,KAAK,KAAK;AACf,QAAE,eAAe;AACjB;AAAA,IACD,WAAW,EAAE,OAAO,OAAO,QAAQ,QAAQ,KAAK,GAAG;AAClD,WAAK,KAAK,IAAI;AACd,QAAE,eAAe;AACjB;AAAA,IACD;AAAA,EACD;AAAA,EAEQ,uBAAuB,GAAyB;AACvD,QAAI,EAAE,OAAO,QAAQ,KAAK,GAAG;AAC5B,WAAK,WAAW;AAChB,QAAE,eAAe;AACjB;AAAA,IACD;AAAA,EACD;AAAA,EAEU,iBAA0B;AACnC,SAAK,OAAO,OAAO,EAAE,cAAc,KAAK,WAAW,GAAG,KAAK;AAE3D,UAAM,cAAc,KAAK,WAAW;AACpC,QAAI,eAAe,YAAY,QAAQ;AACtC,aAAO;AAAA,IACR;AAEA,WAAO;AAAA,EACR;AAAA,EAEQ,UAAU,OAAqB;AACtC,SAAK,WAAW,KAAK,EAAE,MAAM,CAAC;AAAA,EAC/B;AAAA,EAEU,KAAK,UAAyB;AACvC,SAAK,WAAW,KAAK,EAAE,SAAS,CAAC;AAAA,EAClC;AAAA,EAEU,aAAa;AACtB,QAAI,CAAC,KAAK,gBAAgB,SAAS,GAAG;AACrC;AAAA,IACD;AAEA,QAAI,CAAC,KAAK,WAAW,YAAY,QAAQ;AACxC;AAAA,IACD;AAEA,SAAK,WAAW,kBAAkB;AAElC,QAAI,KAAK,WAAW,eAAe,GAAG;AACrC,WAAK,WAAW,KAAK,EAAE,UAAU,MAAM,CAAC;AAAA,IACzC;AAEA,UAAM,eAAe,KAAK,WAAW,gBAAgB;AACrD,UAAM,OAAO,aAAa;AAC1B,QAAI,aAAa,cAAc;AAC9B,YAAM,QAAQ,aAAa;AAE3B,WAAK,aAAa,SAAS,EAAE,KAAK,kBAAkB;AAEpD,YAAM,iBAAiB,KAAK;AAC5B,YAAM,gBAAgB,eAAe,mBAAmB,MAAM,SAAS,KAAK,OAAO,YAAY;AAE/F,YAAM,YAAY,KAAK,gBAAgB,aAAa;AACpD,gBAAU,WAAW,MAAM,MAAM,OAAO,aAAa,EAAE,KAAK,MAAM;AACjE,aAAK,aAAa,KAAK;AAAA,MACxB,CAAC;AAAA,IACF,OAAO;AAEN,cAAQ,MAAM,wCAAwC;AAAA,IACvD;AAAA,EACD;AAAA,EAEU,aAAa;AACtB,QAAI,CAAC,KAAK,gBAAgB,SAAS,GAAG;AACrC;AAAA,IACD;AAEA,SAAK,aAAa,SAAS,EAAE,KAAK,kBAAkB;AAEpD,UAAM,iBAAiB,KAAK;AAE5B,UAAM,kBAAkB,KAAK,WAAW;AACxC,UAAM,iBAA2B,CAAC;AAClC,oBAAgB,QAAQ,mBAAiB;AACxC,oBAAc,eAAe,QAAQ,WAAS;AAC7C,cAAM,UAAU,MAAM;AACtB,uBAAe,KAAK,eAAe,mBAAmB,SAAS,KAAK,OAAO,YAAY,CAAC;AAAA,MACzF,CAAC;AAAA,IACF,CAAC;AAED,UAAM,YAAY,KAAK,gBAAgB,aAAa;AACpD,cAAU,WAAW,KAAK,WAAW,aAAa,cAAc,EAAE,KAAK,MAAM;AAC5E,WAAK,aAAa,KAAK;AAAA,IACxB,CAAC;AAAA,EACF;AAAA,EAEU,YAAkB;AAAA,EAAE;AAAA,EAEpB,sBAAsB;AAC/B,SAAK,mBAAmB,IAAI,IAAI;AAAA,EACjC;AAAA,EAEU,qBAAqB;AAC9B,SAAK,wBAAwB;AAC7B,SAAK,mBAAmB,MAAM;AAAA,EAC/B;AAAA,EAEU,kCAAwC;AAAA,EAElD;AAAA,EACU,iCAAuC;AAAA,EAEjD;AAAA,EAEU,+BAAqC;AAAA,EAAE;AAAA,EACvC,8BAAoC;AAAA,EAAE;AAAA,EAEhD,MAAe,KAAK,cAAuB,SAAyD;AACnG,UAAM,qBAAqB,KAAK,OAAO,iBAAiB;AACxD,UAAM,KAAK,cAAc,OAAO;AAChC,SAAK,OAAO,OAAO,EAAE,cAAc,gBAAgB,KAAK,OAAO,cAAc,YAAY,KAAK,GAAG,KAAK;AAEtG,QAAI,OAAO,SAAS,eAAe,UAAU;AAC5C,UAAI,CAAC,KAAK,WAAW,YAAY,QAAQ;AACxC,cAAM,KAAK,WAAW,SAAS;AAAA,MAChC;AACA,WAAK,UAAU,QAAQ,UAAU;AAAA,IAClC,OAAO;AACN,WAAK,WAAW,OAAO;AAAA,IACxB;AAEA,QAAI,CAAC,sBAAsB,SAAS,wBAAwB;AAC3D,WAAK,WAAW,oBAAoB,QAAQ,sBAAsB;AAAA,IACnE;AAEA,QAAI,KAAK,iBAAiB,MAAM;AAC/B,UAAI,KAAK,iBAAiB,MAAM;AAC/B,YAAI,UAAU,KAAK,WAAW,CAAC,EAAE,aAAa,KAAK,YAAY;AAC/D,aAAK,eAAe;AACpB,aAAK,gBAAgB,gBAAgB,oBAAoB;AAAA,MAC1D;AAEA,WAAK,gBAAgB,aAAa,oBAAoB;AACtD,WAAK,eAAe,IAAI,UAAU,KAAK,WAAW,CAAC,EAAE,WAAW,MAAM;AACrE,aAAK,gBAAgB,gBAAgB,oBAAoB;AACzD,aAAK,eAAe;AAAA,MACrB,GAAG,GAAG;AAAA,IACP,OAAO;AAAA,IAEP;AAAA,EACD;AAAA,EAEA,QAAQ,kBAA2B,qBAA8B;AAChE,UAAM,gBAAgB,kBAAkB,mBAAmB;AAC3D,SAAK,OAAO,OAAO,EAAE,cAAc,oBAAoB,IAAI,eAAe,uBAAuB,IAAI,YAAY,KAAK,GAAG,KAAK;AAC9H,SAAK,cAAc,OAAO;AAE1B,QAAI,KAAK,iBAAiB,MAAM;AAC/B,UAAI,KAAK,iBAAiB,MAAM;AAC/B,YAAI,UAAU,KAAK,WAAW,CAAC,EAAE,aAAa,KAAK,YAAY;AAC/D,aAAK,eAAe;AACpB,aAAK,gBAAgB,gBAAgB,oBAAoB;AAAA,MAC1D;AAEA,WAAK,gBAAgB,aAAa,oBAAoB;AACtD,WAAK,eAAe,IAAI,UAAU,KAAK,WAAW,CAAC,EAAE,WAAW,MAAM;AACrE,aAAK,gBAAgB,gBAAgB,oBAAoB;AACzD,aAAK,eAAe;AAAA,MACrB,GAAG,GAAG;AAAA,IACP,OAAO;AAAA,IAEP;AAAA,EACD;AAAA,EAES,OAAO;AACf,UAAM,KAAK;AACX,SAAK,OAAO,OAAO,EAAE,YAAY,MAAM,GAAG,KAAK;AAC/C,SAAK,WAAW,MAAM;AACtB,SAAK,gBAAgB,SAAS;AAC9B,SAAK,aAAa,KAAK;AAEvB,QAAI,KAAK,iBAAiB,MAAM;AAC/B,UAAI,KAAK,iBAAiB,MAAM;AAC/B,YAAI,UAAU,KAAK,WAAW,CAAC,EAAE,aAAa,KAAK,YAAY;AAC/D,aAAK,eAAe;AACpB,aAAK,gBAAgB,gBAAgB,oBAAoB;AAAA,MAC1D;AACA,WAAK,gBAAgB,aAAa,oBAAoB;AACtD,WAAK,eAAe,IAAI,UAAU,KAAK,WAAW,CAAC,EAAE,WAAW,MAAM;AACrE,aAAK,gBAAgB,gBAAgB,oBAAoB;AAAA,MAC1D,GAAG,GAAG;AAAA,IACP,OAAO;AAAA,IAEP;AAEA,QAAI,KAAK,yBAAyB,KAAK,sBAAsB,cAAc;AAC1E,WAAK,sBAAsB,MAAM;AACjC,WAAK,wBAAwB;AAAA,IAC9B;AAEA,QAAI,KAAK,gBAAgB,SAAS,GAAG;AACpC,eAAS,IAAI,GAAG,IAAI,KAAK,gBAAgB,UAAU,GAAG,KAAK;AAC1D,cAAM,OAAO,KAAK,gBAAgB,OAAO,CAAC;AAE1C,YAAI,KAAK,aAAa,MAAM,cAAc,WAAW,KAAK,oBAAoB,QAAQ;AACrF,eAAK,gBAAgB,cAAc,SAAS,WAAW;AAAA,QACxD;AAAA,MACD;AAAA,IACD;AAAA,EACD;AAAA,EAEmB,sBAA4B;AAC9C,QAAI,CAAC,KAAK,cAAc,CAAC,KAAK,WAAW,aAAa;AACrD;AAAA,IACD;AAEA,SAAK,cAAc,MAAM,QAAQ,0BAA0B;AAC3D,SAAK,cAAc,QAAQ;AAG3B,SAAK,cAAc,YAAY,OAAO;AAEtC,QAAI;AAEJ,QAAI,KAAK,OAAO,eAAe,GAAG;AACjC,UAAI,eAAuB,OAAO,KAAK,OAAO,YAAY;AAC1D,UAAI,KAAK,OAAO,gBAAgB,eAAe;AAC9C,wBAAgB;AAAA,MACjB;AACA,YAAM,kBAA0B,KAAK,WAAW,eAAe,IAAI,MAAM,OAAQ,KAAK,WAAW,eAAe,CAAE;AAClH,cAAQ,QAAQ,OAAO,sBAAsB,iBAAiB,YAAY;AAAA,IAC3E,OAAO;AACN,cAAQ;AAAA,IACT;AAEA,SAAK,cAAc,YAAY,SAAS,eAAe,KAAK,CAAC;AAE7D,YAAQ,KAAK,cAAc,OAAO,KAAK,OAAO,cAAc,KAAK,OAAO,YAAY,CAAC;AACrF,8BAA0B,KAAK,IAAI,yBAAyB,KAAK,cAAc,WAAW;AAAA,EAC3F;AAAA,EAEQ,cAAc,OAAe,cAA4B,cAA8B;AAC9F,QAAI,UAAU,gBAAgB;AAC7B,aAAO,iBAAiB,KACrB,SAAS,2BAA2B,aAAa,KAAK,IACtD,SAAS,sBAAsB,uBAAuB,OAAO,YAAY;AAAA,IAC7E;AAGA,WAAO,SAAS,+CAA+C,uBAAuB,OAAO,YAAY;AAAA,EAC1G;AAAA,EACS,UAAU;AAClB,SAAK,iBAAiB,gBAAgB,oBAAoB;AAC1D,SAAK,iBAAiB,gBAAgB,oBAAoB;AAC1D,SAAK,WAAW,QAAQ;AACxB,UAAM,QAAQ;AAAA,EACf;AACD;AAzTM,qBAAN;AAAA,EASG;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,GAdG;",
  "names": []
}
