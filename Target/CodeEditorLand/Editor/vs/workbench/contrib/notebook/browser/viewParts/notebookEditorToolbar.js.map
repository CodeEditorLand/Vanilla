{
  "version": 3,
  "sources": ["../../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/contrib/notebook/browser/viewParts/notebookEditorToolbar.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as DOM from \"../../../../../base/browser/dom.js\";\nimport type { IActionViewItemOptions } from \"../../../../../base/browser/ui/actionbar/actionViewItems.js\";\nimport type {\n\tIActionViewItem,\n\tIActionViewItemProvider,\n} from \"../../../../../base/browser/ui/actionbar/actionbar.js\";\nimport { DomScrollableElement } from \"../../../../../base/browser/ui/scrollbar/scrollableElement.js\";\nimport { ToolBar } from \"../../../../../base/browser/ui/toolbar/toolbar.js\";\nimport { type IAction, Separator } from \"../../../../../base/common/actions.js\";\nimport { disposableTimeout } from \"../../../../../base/common/async.js\";\nimport { Emitter, Event } from \"../../../../../base/common/event.js\";\nimport {\n\tDisposable,\n\ttype IDisposable,\n} from \"../../../../../base/common/lifecycle.js\";\nimport { ScrollbarVisibility } from \"../../../../../base/common/scrollable.js\";\nimport {\n\tMenuEntryActionViewItem,\n\tSubmenuEntryActionViewItem,\n} from \"../../../../../platform/actions/browser/menuEntryActionViewItem.js\";\nimport {\n\tHiddenItemStrategy,\n\ttype IWorkbenchToolBarOptions,\n\tWorkbenchToolBar,\n} from \"../../../../../platform/actions/browser/toolbar.js\";\nimport {\n\ttype IMenu,\n\tIMenuService,\n\tMenuId,\n\tMenuItemAction,\n\tSubmenuItemAction,\n} from \"../../../../../platform/actions/common/actions.js\";\nimport { IConfigurationService } from \"../../../../../platform/configuration/common/configuration.js\";\nimport type { IContextKeyService } from \"../../../../../platform/contextkey/common/contextkey.js\";\nimport { IContextMenuService } from \"../../../../../platform/contextview/browser/contextView.js\";\nimport { WorkbenchHoverDelegate } from \"../../../../../platform/hover/browser/hover.js\";\nimport { IInstantiationService } from \"../../../../../platform/instantiation/common/instantiation.js\";\nimport { IKeybindingService } from \"../../../../../platform/keybinding/common/keybinding.js\";\nimport { IWorkbenchAssignmentService } from \"../../../../services/assignment/common/assignmentService.js\";\nimport { IEditorService } from \"../../../../services/editor/common/editorService.js\";\nimport {\n\tNOTEBOOK_EDITOR_ID,\n\tNotebookSetting,\n} from \"../../common/notebookCommon.js\";\nimport { SELECT_KERNEL_ID } from \"../controller/coreActions.js\";\nimport type { INotebookEditorDelegate } from \"../notebookBrowser.js\";\nimport type { NotebookOptions } from \"../notebookOptions.js\";\nimport {\n\tActionViewWithLabel,\n\tUnifiedSubmenuActionView,\n} from \"../view/cellParts/cellActionView.js\";\nimport { NotebooKernelActionViewItem } from \"./notebookKernelView.js\";\n\ninterface IActionModel {\n\taction: IAction;\n\tsize: number;\n\tvisible: boolean;\n\trenderLabel: boolean;\n}\n\nexport enum RenderLabel {\n\tAlways = 0,\n\tNever = 1,\n\tDynamic = 2,\n}\n\nexport type RenderLabelWithFallback =\n\t| true\n\t| false\n\t| \"always\"\n\t| \"never\"\n\t| \"dynamic\";\n\nexport function convertConfiguration(\n\tvalue: RenderLabelWithFallback,\n): RenderLabel {\n\tswitch (value) {\n\t\tcase true:\n\t\t\treturn RenderLabel.Always;\n\t\tcase false:\n\t\t\treturn RenderLabel.Never;\n\t\tcase \"always\":\n\t\t\treturn RenderLabel.Always;\n\t\tcase \"never\":\n\t\t\treturn RenderLabel.Never;\n\t\tcase \"dynamic\":\n\t\t\treturn RenderLabel.Dynamic;\n\t}\n}\n\nconst ICON_ONLY_ACTION_WIDTH = 21;\nconst TOGGLE_MORE_ACTION_WIDTH = 21;\nconst ACTION_PADDING = 8;\n\ninterface IActionLayoutStrategy {\n\tactionProvider: IActionViewItemProvider;\n\tcalculateActions(leftToolbarContainerMaxWidth: number): {\n\t\tprimaryActions: IAction[];\n\t\tsecondaryActions: IAction[];\n\t};\n}\n\nclass WorkbenchAlwaysLabelStrategy implements IActionLayoutStrategy {\n\tconstructor(\n\t\treadonly notebookEditor: INotebookEditorDelegate,\n\t\treadonly editorToolbar: NotebookEditorWorkbenchToolbar,\n\t\treadonly goToMenu: IMenu,\n\t\treadonly instantiationService: IInstantiationService,\n\t) {}\n\n\tactionProvider(\n\t\taction: IAction,\n\t\toptions: IActionViewItemOptions,\n\t): IActionViewItem | undefined {\n\t\tif (action.id === SELECT_KERNEL_ID) {\n\t\t\t//\tthis is being disposed by the consumer\n\t\t\treturn this.instantiationService.createInstance(\n\t\t\t\tNotebooKernelActionViewItem,\n\t\t\t\taction,\n\t\t\t\tthis.notebookEditor,\n\t\t\t\toptions,\n\t\t\t);\n\t\t}\n\n\t\tif (action instanceof MenuItemAction) {\n\t\t\treturn this.instantiationService.createInstance(\n\t\t\t\tActionViewWithLabel,\n\t\t\t\taction,\n\t\t\t\t{ hoverDelegate: options.hoverDelegate },\n\t\t\t);\n\t\t}\n\n\t\tif (\n\t\t\taction instanceof SubmenuItemAction &&\n\t\t\taction.item.submenu.id === MenuId.NotebookCellExecuteGoTo.id\n\t\t) {\n\t\t\treturn this.instantiationService.createInstance(\n\t\t\t\tUnifiedSubmenuActionView,\n\t\t\t\taction,\n\t\t\t\t{ hoverDelegate: options.hoverDelegate },\n\t\t\t\ttrue,\n\t\t\t\t{\n\t\t\t\t\tgetActions: () => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\tthis.goToMenu\n\t\t\t\t\t\t\t\t.getActions()\n\t\t\t\t\t\t\t\t.find(\n\t\t\t\t\t\t\t\t\t([group]) => group === \"navigation/execute\",\n\t\t\t\t\t\t\t\t)?.[1] ?? []\n\t\t\t\t\t\t);\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tthis.actionProvider.bind(this),\n\t\t\t);\n\t\t}\n\n\t\treturn undefined;\n\t}\n\n\tcalculateActions(leftToolbarContainerMaxWidth: number): {\n\t\tprimaryActions: IAction[];\n\t\tsecondaryActions: IAction[];\n\t} {\n\t\tconst initialPrimaryActions = this.editorToolbar.primaryActions;\n\t\tconst initialSecondaryActions = this.editorToolbar.secondaryActions;\n\n\t\tconst actionOutput = workbenchCalculateActions(\n\t\t\tinitialPrimaryActions,\n\t\t\tinitialSecondaryActions,\n\t\t\tleftToolbarContainerMaxWidth,\n\t\t);\n\t\treturn {\n\t\t\tprimaryActions: actionOutput.primaryActions.map((a) => a.action),\n\t\t\tsecondaryActions: actionOutput.secondaryActions,\n\t\t};\n\t}\n}\n\nclass WorkbenchNeverLabelStrategy implements IActionLayoutStrategy {\n\tconstructor(\n\t\treadonly notebookEditor: INotebookEditorDelegate,\n\t\treadonly editorToolbar: NotebookEditorWorkbenchToolbar,\n\t\treadonly goToMenu: IMenu,\n\t\treadonly instantiationService: IInstantiationService,\n\t) {}\n\n\tactionProvider(\n\t\taction: IAction,\n\t\toptions: IActionViewItemOptions,\n\t): IActionViewItem | undefined {\n\t\tif (action.id === SELECT_KERNEL_ID) {\n\t\t\t//\tthis is being disposed by the consumer\n\t\t\treturn this.instantiationService.createInstance(\n\t\t\t\tNotebooKernelActionViewItem,\n\t\t\t\taction,\n\t\t\t\tthis.notebookEditor,\n\t\t\t\toptions,\n\t\t\t);\n\t\t}\n\n\t\tif (action instanceof MenuItemAction) {\n\t\t\treturn this.instantiationService.createInstance(\n\t\t\t\tMenuEntryActionViewItem,\n\t\t\t\taction,\n\t\t\t\t{ hoverDelegate: options.hoverDelegate },\n\t\t\t);\n\t\t}\n\n\t\tif (action instanceof SubmenuItemAction) {\n\t\t\tif (action.item.submenu.id === MenuId.NotebookCellExecuteGoTo.id) {\n\t\t\t\treturn this.instantiationService.createInstance(\n\t\t\t\t\tUnifiedSubmenuActionView,\n\t\t\t\t\taction,\n\t\t\t\t\t{ hoverDelegate: options.hoverDelegate },\n\t\t\t\t\tfalse,\n\t\t\t\t\t{\n\t\t\t\t\t\tgetActions: () => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\tthis.goToMenu\n\t\t\t\t\t\t\t\t\t.getActions()\n\t\t\t\t\t\t\t\t\t.find(\n\t\t\t\t\t\t\t\t\t\t([group]) =>\n\t\t\t\t\t\t\t\t\t\t\tgroup === \"navigation/execute\",\n\t\t\t\t\t\t\t\t\t)?.[1] ?? []\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tthis.actionProvider.bind(this),\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\treturn this.instantiationService.createInstance(\n\t\t\t\t\tSubmenuEntryActionViewItem,\n\t\t\t\t\taction,\n\t\t\t\t\t{ hoverDelegate: options.hoverDelegate },\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\treturn undefined;\n\t}\n\n\tcalculateActions(leftToolbarContainerMaxWidth: number): {\n\t\tprimaryActions: IAction[];\n\t\tsecondaryActions: IAction[];\n\t} {\n\t\tconst initialPrimaryActions = this.editorToolbar.primaryActions;\n\t\tconst initialSecondaryActions = this.editorToolbar.secondaryActions;\n\n\t\tconst actionOutput = workbenchCalculateActions(\n\t\t\tinitialPrimaryActions,\n\t\t\tinitialSecondaryActions,\n\t\t\tleftToolbarContainerMaxWidth,\n\t\t);\n\t\treturn {\n\t\t\tprimaryActions: actionOutput.primaryActions.map((a) => a.action),\n\t\t\tsecondaryActions: actionOutput.secondaryActions,\n\t\t};\n\t}\n}\n\nclass WorkbenchDynamicLabelStrategy implements IActionLayoutStrategy {\n\tconstructor(\n\t\treadonly notebookEditor: INotebookEditorDelegate,\n\t\treadonly editorToolbar: NotebookEditorWorkbenchToolbar,\n\t\treadonly goToMenu: IMenu,\n\t\treadonly instantiationService: IInstantiationService,\n\t) {}\n\n\tactionProvider(\n\t\taction: IAction,\n\t\toptions: IActionViewItemOptions,\n\t): IActionViewItem | undefined {\n\t\tif (action.id === SELECT_KERNEL_ID) {\n\t\t\t//\tthis is being disposed by the consumer\n\t\t\treturn this.instantiationService.createInstance(\n\t\t\t\tNotebooKernelActionViewItem,\n\t\t\t\taction,\n\t\t\t\tthis.notebookEditor,\n\t\t\t\toptions,\n\t\t\t);\n\t\t}\n\n\t\tconst a = this.editorToolbar.primaryActions.find(\n\t\t\t(a) => a.action.id === action.id,\n\t\t);\n\t\tif (!a || a.renderLabel) {\n\t\t\tif (action instanceof MenuItemAction) {\n\t\t\t\treturn this.instantiationService.createInstance(\n\t\t\t\t\tActionViewWithLabel,\n\t\t\t\t\taction,\n\t\t\t\t\t{ hoverDelegate: options.hoverDelegate },\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\taction instanceof SubmenuItemAction &&\n\t\t\t\taction.item.submenu.id === MenuId.NotebookCellExecuteGoTo.id\n\t\t\t) {\n\t\t\t\treturn this.instantiationService.createInstance(\n\t\t\t\t\tUnifiedSubmenuActionView,\n\t\t\t\t\taction,\n\t\t\t\t\t{ hoverDelegate: options.hoverDelegate },\n\t\t\t\t\ttrue,\n\t\t\t\t\t{\n\t\t\t\t\t\tgetActions: () => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\tthis.goToMenu\n\t\t\t\t\t\t\t\t\t.getActions()\n\t\t\t\t\t\t\t\t\t.find(\n\t\t\t\t\t\t\t\t\t\t([group]) =>\n\t\t\t\t\t\t\t\t\t\t\tgroup === \"navigation/execute\",\n\t\t\t\t\t\t\t\t\t)?.[1] ?? []\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tthis.actionProvider.bind(this),\n\t\t\t\t);\n\t\t\t}\n\n\t\t\treturn undefined;\n\t\t} else {\n\t\t\tif (action instanceof MenuItemAction) {\n\t\t\t\tthis.instantiationService.createInstance(\n\t\t\t\t\tMenuEntryActionViewItem,\n\t\t\t\t\taction,\n\t\t\t\t\t{ hoverDelegate: options.hoverDelegate },\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tif (action instanceof SubmenuItemAction) {\n\t\t\t\tif (\n\t\t\t\t\taction.item.submenu.id === MenuId.NotebookCellExecuteGoTo.id\n\t\t\t\t) {\n\t\t\t\t\treturn this.instantiationService.createInstance(\n\t\t\t\t\t\tUnifiedSubmenuActionView,\n\t\t\t\t\t\taction,\n\t\t\t\t\t\t{ hoverDelegate: options.hoverDelegate },\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tgetActions: () => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\tthis.goToMenu\n\t\t\t\t\t\t\t\t\t\t.getActions()\n\t\t\t\t\t\t\t\t\t\t.find(\n\t\t\t\t\t\t\t\t\t\t\t([group]) =>\n\t\t\t\t\t\t\t\t\t\t\t\tgroup === \"navigation/execute\",\n\t\t\t\t\t\t\t\t\t\t)?.[1] ?? []\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t\tthis.actionProvider.bind(this),\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\treturn this.instantiationService.createInstance(\n\t\t\t\t\t\tSubmenuEntryActionViewItem,\n\t\t\t\t\t\taction,\n\t\t\t\t\t\t{ hoverDelegate: options.hoverDelegate },\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn undefined;\n\t\t}\n\t}\n\n\tcalculateActions(leftToolbarContainerMaxWidth: number): {\n\t\tprimaryActions: IAction[];\n\t\tsecondaryActions: IAction[];\n\t} {\n\t\tconst initialPrimaryActions = this.editorToolbar.primaryActions;\n\t\tconst initialSecondaryActions = this.editorToolbar.secondaryActions;\n\n\t\tconst actionOutput = workbenchDynamicCalculateActions(\n\t\t\tinitialPrimaryActions,\n\t\t\tinitialSecondaryActions,\n\t\t\tleftToolbarContainerMaxWidth,\n\t\t);\n\t\treturn {\n\t\t\tprimaryActions: actionOutput.primaryActions.map((a) => a.action),\n\t\t\tsecondaryActions: actionOutput.secondaryActions,\n\t\t};\n\t}\n}\n\nexport class NotebookEditorWorkbenchToolbar extends Disposable {\n\tprivate _leftToolbarScrollable!: DomScrollableElement;\n\tprivate _notebookTopLeftToolbarContainer!: HTMLElement;\n\tprivate _notebookTopRightToolbarContainer!: HTMLElement;\n\tprivate _notebookGlobalActionsMenu!: IMenu;\n\tprivate _executeGoToActionsMenu!: IMenu;\n\tprivate _notebookLeftToolbar!: WorkbenchToolBar;\n\tprivate _primaryActions: IActionModel[];\n\tget primaryActions(): IActionModel[] {\n\t\treturn this._primaryActions;\n\t}\n\tprivate _secondaryActions: IAction[];\n\tget secondaryActions(): IAction[] {\n\t\treturn this._secondaryActions;\n\t}\n\tprivate _notebookRightToolbar!: ToolBar;\n\tprivate _useGlobalToolbar = false;\n\tprivate _strategy!: IActionLayoutStrategy;\n\tprivate _renderLabel: RenderLabel = RenderLabel.Always;\n\n\tprivate _visible = false;\n\tset visible(visible: boolean) {\n\t\tif (this._visible !== visible) {\n\t\t\tthis._visible = visible;\n\t\t\tthis._onDidChangeVisibility.fire(visible);\n\t\t}\n\t}\n\tprivate readonly _onDidChangeVisibility = this._register(\n\t\tnew Emitter<boolean>(),\n\t);\n\tonDidChangeVisibility: Event<boolean> = this._onDidChangeVisibility.event;\n\n\tget useGlobalToolbar(): boolean {\n\t\treturn this._useGlobalToolbar;\n\t}\n\n\tprivate _dimension: DOM.Dimension | null = null;\n\n\tprivate _deferredActionUpdate: IDisposable | undefined;\n\n\tconstructor(\n\t\treadonly notebookEditor: INotebookEditorDelegate,\n\t\treadonly contextKeyService: IContextKeyService,\n\t\treadonly notebookOptions: NotebookOptions,\n\t\treadonly domNode: HTMLElement,\n\t\t@IInstantiationService private readonly instantiationService: IInstantiationService,\n\t\t@IConfigurationService private readonly configurationService: IConfigurationService,\n\t\t@IContextMenuService private readonly contextMenuService: IContextMenuService,\n\t\t@IMenuService private readonly menuService: IMenuService,\n\t\t@IEditorService private readonly editorService: IEditorService,\n\t\t@IKeybindingService private readonly keybindingService: IKeybindingService,\n\t\t@IWorkbenchAssignmentService private readonly experimentService: IWorkbenchAssignmentService,\n\t) {\n\t\tsuper();\n\n\t\tthis._primaryActions = [];\n\t\tthis._secondaryActions = [];\n\t\tthis._buildBody();\n\n\t\tthis._register(Event.debounce<void, void>(\n\t\t\tthis.editorService.onDidActiveEditorChange,\n\t\t\t(last, _current) => last,\n\t\t\t200\n\t\t)(this._updatePerEditorChange, this));\n\n\t\tthis._registerNotebookActionsToolbar();\n\t}\n\n\tprivate _buildBody() {\n\t\tthis._notebookTopLeftToolbarContainer = document.createElement(\"div\");\n\t\tthis._notebookTopLeftToolbarContainer.classList.add(\n\t\t\t\"notebook-toolbar-left\",\n\t\t);\n\t\tthis._leftToolbarScrollable = new DomScrollableElement(\n\t\t\tthis._notebookTopLeftToolbarContainer,\n\t\t\t{\n\t\t\t\tvertical: ScrollbarVisibility.Hidden,\n\t\t\t\thorizontal: ScrollbarVisibility.Visible,\n\t\t\t\thorizontalScrollbarSize: 3,\n\t\t\t\tuseShadows: false,\n\t\t\t\tscrollYToX: true,\n\t\t\t},\n\t\t);\n\t\tthis._register(this._leftToolbarScrollable);\n\n\t\tDOM.append(this.domNode, this._leftToolbarScrollable.getDomNode());\n\t\tthis._notebookTopRightToolbarContainer = document.createElement(\"div\");\n\t\tthis._notebookTopRightToolbarContainer.classList.add(\n\t\t\t\"notebook-toolbar-right\",\n\t\t);\n\t\tDOM.append(this.domNode, this._notebookTopRightToolbarContainer);\n\t}\n\n\tprivate _updatePerEditorChange() {\n\t\tif (\n\t\t\tthis.editorService.activeEditorPane?.getId() === NOTEBOOK_EDITOR_ID\n\t\t) {\n\t\t\tconst notebookEditor =\n\t\t\t\tthis.editorService.activeEditorPane.getControl() as INotebookEditorDelegate;\n\t\t\tif (notebookEditor === this.notebookEditor) {\n\t\t\t\t// this is the active editor\n\t\t\t\tthis._showNotebookActionsinEditorToolbar();\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate _registerNotebookActionsToolbar() {\n\t\tthis._notebookGlobalActionsMenu = this._register(\n\t\t\tthis.menuService.createMenu(\n\t\t\t\tthis.notebookEditor.creationOptions.menuIds.notebookToolbar,\n\t\t\t\tthis.contextKeyService,\n\t\t\t),\n\t\t);\n\t\tthis._executeGoToActionsMenu = this._register(\n\t\t\tthis.menuService.createMenu(\n\t\t\t\tMenuId.NotebookCellExecuteGoTo,\n\t\t\t\tthis.contextKeyService,\n\t\t\t),\n\t\t);\n\n\t\tthis._useGlobalToolbar =\n\t\t\tthis.notebookOptions.getDisplayOptions().globalToolbar;\n\t\tthis._renderLabel = this._convertConfiguration(\n\t\t\tthis.configurationService.getValue(\n\t\t\t\tNotebookSetting.globalToolbarShowLabel,\n\t\t\t),\n\t\t);\n\t\tthis._updateStrategy();\n\n\t\tconst context = {\n\t\t\tui: true,\n\t\t\tnotebookEditor: this.notebookEditor,\n\t\t\tsource: \"notebookToolbar\",\n\t\t};\n\n\t\tconst actionProvider = (\n\t\t\taction: IAction,\n\t\t\toptions: IActionViewItemOptions,\n\t\t) => {\n\t\t\tif (action.id === SELECT_KERNEL_ID) {\n\t\t\t\t// this is being disposed by the consumer\n\t\t\t\treturn this.instantiationService.createInstance(\n\t\t\t\t\tNotebooKernelActionViewItem,\n\t\t\t\t\taction,\n\t\t\t\t\tthis.notebookEditor,\n\t\t\t\t\toptions,\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tif (this._renderLabel !== RenderLabel.Never) {\n\t\t\t\tconst a = this._primaryActions.find(\n\t\t\t\t\t(a) => a.action.id === action.id,\n\t\t\t\t);\n\t\t\t\tif (a && a.renderLabel) {\n\t\t\t\t\treturn action instanceof MenuItemAction\n\t\t\t\t\t\t? this.instantiationService.createInstance(\n\t\t\t\t\t\t\t\tActionViewWithLabel,\n\t\t\t\t\t\t\t\taction,\n\t\t\t\t\t\t\t\t{ hoverDelegate: options.hoverDelegate },\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t: undefined;\n\t\t\t\t} else {\n\t\t\t\t\treturn action instanceof MenuItemAction\n\t\t\t\t\t\t? this.instantiationService.createInstance(\n\t\t\t\t\t\t\t\tMenuEntryActionViewItem,\n\t\t\t\t\t\t\t\taction,\n\t\t\t\t\t\t\t\t{ hoverDelegate: options.hoverDelegate },\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t: undefined;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\treturn action instanceof MenuItemAction\n\t\t\t\t\t? this.instantiationService.createInstance(\n\t\t\t\t\t\t\tMenuEntryActionViewItem,\n\t\t\t\t\t\t\taction,\n\t\t\t\t\t\t\t{ hoverDelegate: options.hoverDelegate },\n\t\t\t\t\t\t)\n\t\t\t\t\t: undefined;\n\t\t\t}\n\t\t};\n\n\t\t// Make sure both toolbars have the same hover delegate for instant hover to work\n\t\t// Due to the elements being further apart than normal toolbars, the default time limit is to short and has to be increased\n\t\tconst hoverDelegate = this._register(\n\t\t\tthis.instantiationService.createInstance(\n\t\t\t\tWorkbenchHoverDelegate,\n\t\t\t\t\"element\",\n\t\t\t\ttrue,\n\t\t\t\t{},\n\t\t\t),\n\t\t);\n\t\thoverDelegate.setInstantHoverTimeLimit(600);\n\n\t\tconst leftToolbarOptions: IWorkbenchToolBarOptions = {\n\t\t\thiddenItemStrategy: HiddenItemStrategy.RenderInSecondaryGroup,\n\t\t\tresetMenu: MenuId.NotebookToolbar,\n\t\t\tactionViewItemProvider: (action, options) => {\n\t\t\t\treturn this._strategy.actionProvider(action, options);\n\t\t\t},\n\t\t\tgetKeyBinding: (action) =>\n\t\t\t\tthis.keybindingService.lookupKeybinding(action.id),\n\t\t\trenderDropdownAsChildElement: true,\n\t\t\thoverDelegate,\n\t\t};\n\n\t\tthis._notebookLeftToolbar = this.instantiationService.createInstance(\n\t\t\tWorkbenchToolBar,\n\t\t\tthis._notebookTopLeftToolbarContainer,\n\t\t\tleftToolbarOptions,\n\t\t);\n\n\t\tthis._register(this._notebookLeftToolbar);\n\t\tthis._notebookLeftToolbar.context = context;\n\n\t\tthis._notebookRightToolbar = new ToolBar(\n\t\t\tthis._notebookTopRightToolbarContainer,\n\t\t\tthis.contextMenuService,\n\t\t\t{\n\t\t\t\tgetKeyBinding: (action) =>\n\t\t\t\t\tthis.keybindingService.lookupKeybinding(action.id),\n\t\t\t\tactionViewItemProvider: actionProvider,\n\t\t\t\trenderDropdownAsChildElement: true,\n\t\t\t\thoverDelegate,\n\t\t\t},\n\t\t);\n\t\tthis._register(this._notebookRightToolbar);\n\t\tthis._notebookRightToolbar.context = context;\n\n\t\tthis._showNotebookActionsinEditorToolbar();\n\t\tlet dropdownIsVisible = false;\n\t\tlet deferredUpdate: (() => void) | undefined;\n\n\t\tthis._register(\n\t\t\tthis._notebookGlobalActionsMenu.onDidChange(() => {\n\t\t\t\tif (dropdownIsVisible) {\n\t\t\t\t\tdeferredUpdate = () =>\n\t\t\t\t\t\tthis._showNotebookActionsinEditorToolbar();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (this.notebookEditor.isVisible) {\n\t\t\t\t\tthis._showNotebookActionsinEditorToolbar();\n\t\t\t\t}\n\t\t\t}),\n\t\t);\n\n\t\tthis._register(\n\t\t\tthis._notebookLeftToolbar.onDidChangeDropdownVisibility(\n\t\t\t\t(visible) => {\n\t\t\t\t\tdropdownIsVisible = visible;\n\n\t\t\t\t\tif (deferredUpdate && !visible) {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tdeferredUpdate?.();\n\t\t\t\t\t\t}, 0);\n\t\t\t\t\t\tdeferredUpdate = undefined;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t),\n\t\t);\n\n\t\tthis._register(\n\t\t\tthis.notebookOptions.onDidChangeOptions((e) => {\n\t\t\t\tif (e.globalToolbar !== undefined) {\n\t\t\t\t\tthis._useGlobalToolbar =\n\t\t\t\t\t\tthis.notebookOptions.getDisplayOptions().globalToolbar;\n\t\t\t\t\tthis._showNotebookActionsinEditorToolbar();\n\t\t\t\t}\n\t\t\t}),\n\t\t);\n\n\t\tthis._register(\n\t\t\tthis.configurationService.onDidChangeConfiguration((e) => {\n\t\t\t\tif (\n\t\t\t\t\te.affectsConfiguration(\n\t\t\t\t\t\tNotebookSetting.globalToolbarShowLabel,\n\t\t\t\t\t)\n\t\t\t\t) {\n\t\t\t\t\tthis._renderLabel = this._convertConfiguration(\n\t\t\t\t\t\tthis.configurationService.getValue<RenderLabelWithFallback>(\n\t\t\t\t\t\t\tNotebookSetting.globalToolbarShowLabel,\n\t\t\t\t\t\t),\n\t\t\t\t\t);\n\t\t\t\t\tthis._updateStrategy();\n\t\t\t\t\tconst oldElement = this._notebookLeftToolbar.getElement();\n\t\t\t\t\toldElement.remove();\n\t\t\t\t\tthis._notebookLeftToolbar.dispose();\n\n\t\t\t\t\tthis._notebookLeftToolbar =\n\t\t\t\t\t\tthis.instantiationService.createInstance(\n\t\t\t\t\t\t\tWorkbenchToolBar,\n\t\t\t\t\t\t\tthis._notebookTopLeftToolbarContainer,\n\t\t\t\t\t\t\tleftToolbarOptions,\n\t\t\t\t\t\t);\n\n\t\t\t\t\tthis._register(this._notebookLeftToolbar);\n\t\t\t\t\tthis._notebookLeftToolbar.context = context;\n\t\t\t\t\tthis._showNotebookActionsinEditorToolbar();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}),\n\t\t);\n\n\t\tif (this.experimentService) {\n\t\t\tthis.experimentService\n\t\t\t\t.getTreatment<boolean>(\"nbtoolbarineditor\")\n\t\t\t\t.then((treatment) => {\n\t\t\t\t\tif (treatment === undefined) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tif (this._useGlobalToolbar !== treatment) {\n\t\t\t\t\t\tthis._useGlobalToolbar = treatment;\n\t\t\t\t\t\tthis._showNotebookActionsinEditorToolbar();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t}\n\t}\n\n\tprivate _updateStrategy() {\n\t\tswitch (this._renderLabel) {\n\t\t\tcase RenderLabel.Always:\n\t\t\t\tthis._strategy = new WorkbenchAlwaysLabelStrategy(\n\t\t\t\t\tthis.notebookEditor,\n\t\t\t\t\tthis,\n\t\t\t\t\tthis._executeGoToActionsMenu,\n\t\t\t\t\tthis.instantiationService,\n\t\t\t\t);\n\t\t\t\tbreak;\n\t\t\tcase RenderLabel.Never:\n\t\t\t\tthis._strategy = new WorkbenchNeverLabelStrategy(\n\t\t\t\t\tthis.notebookEditor,\n\t\t\t\t\tthis,\n\t\t\t\t\tthis._executeGoToActionsMenu,\n\t\t\t\t\tthis.instantiationService,\n\t\t\t\t);\n\t\t\t\tbreak;\n\t\t\tcase RenderLabel.Dynamic:\n\t\t\t\tthis._strategy = new WorkbenchDynamicLabelStrategy(\n\t\t\t\t\tthis.notebookEditor,\n\t\t\t\t\tthis,\n\t\t\t\t\tthis._executeGoToActionsMenu,\n\t\t\t\t\tthis.instantiationService,\n\t\t\t\t);\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tprivate _convertConfiguration(value: RenderLabelWithFallback): RenderLabel {\n\t\tswitch (value) {\n\t\t\tcase true:\n\t\t\t\treturn RenderLabel.Always;\n\t\t\tcase false:\n\t\t\t\treturn RenderLabel.Never;\n\t\t\tcase \"always\":\n\t\t\t\treturn RenderLabel.Always;\n\t\t\tcase \"never\":\n\t\t\t\treturn RenderLabel.Never;\n\t\t\tcase \"dynamic\":\n\t\t\t\treturn RenderLabel.Dynamic;\n\t\t}\n\t}\n\n\tprivate _showNotebookActionsinEditorToolbar() {\n\t\t// when there is no view model, just ignore.\n\t\tif (!this.notebookEditor.hasModel()) {\n\t\t\tthis._deferredActionUpdate?.dispose();\n\t\t\tthis._deferredActionUpdate = undefined;\n\t\t\tthis.visible = false;\n\t\t\treturn;\n\t\t}\n\n\t\tif (this._deferredActionUpdate) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this._useGlobalToolbar) {\n\t\t\tthis._deferredActionUpdate = disposableTimeout(async () => {\n\t\t\t\tawait this._setNotebookActions();\n\t\t\t\tthis.visible = true;\n\t\t\t\tthis._deferredActionUpdate = undefined;\n\t\t\t}, 50);\n\t\t} else {\n\t\t\tthis.domNode.style.display = \"none\";\n\t\t\tthis._deferredActionUpdate = undefined;\n\t\t\tthis.visible = false;\n\t\t}\n\t}\n\n\tprivate async _setNotebookActions() {\n\t\tconst groups = this._notebookGlobalActionsMenu.getActions({\n\t\t\tshouldForwardArgs: true,\n\t\t\trenderShortTitle: true,\n\t\t});\n\t\tthis.domNode.style.display = \"flex\";\n\t\tconst primaryLeftGroups = groups.filter((group) =>\n\t\t\t/^navigation/.test(group[0]),\n\t\t);\n\t\tconst primaryActions: IAction[] = [];\n\t\tprimaryLeftGroups\n\t\t\t.sort((a, b) => {\n\t\t\t\tif (a[0] === \"navigation\") {\n\t\t\t\t\treturn 1;\n\t\t\t\t}\n\n\t\t\t\tif (b[0] === \"navigation\") {\n\t\t\t\t\treturn -1;\n\t\t\t\t}\n\n\t\t\t\treturn 0;\n\t\t\t})\n\t\t\t.forEach((group, index) => {\n\t\t\t\tprimaryActions.push(...group[1]);\n\t\t\t\tif (index < primaryLeftGroups.length - 1) {\n\t\t\t\t\tprimaryActions.push(new Separator());\n\t\t\t\t}\n\t\t\t});\n\t\tconst primaryRightGroup = groups.find((group) =>\n\t\t\t/^status/.test(group[0]),\n\t\t);\n\t\tconst primaryRightActions = primaryRightGroup\n\t\t\t? primaryRightGroup[1]\n\t\t\t: [];\n\t\tconst secondaryActions = groups\n\t\t\t.filter(\n\t\t\t\t(group) =>\n\t\t\t\t\t!/^navigation/.test(group[0]) && !/^status/.test(group[0]),\n\t\t\t)\n\t\t\t.reduce((prev: (MenuItemAction | SubmenuItemAction)[], curr) => {\n\t\t\t\tprev.push(...curr[1]);\n\t\t\t\treturn prev;\n\t\t\t}, []);\n\n\t\tthis._notebookLeftToolbar.setActions([], []);\n\n\t\tthis._primaryActions = primaryActions.map((action) => ({\n\t\t\taction: action,\n\t\t\tsize: action instanceof Separator ? 1 : 0,\n\t\t\trenderLabel: true,\n\t\t\tvisible: true,\n\t\t}));\n\t\tthis._notebookLeftToolbar.setActions(primaryActions, secondaryActions);\n\t\tthis._secondaryActions = secondaryActions;\n\n\t\tthis._notebookRightToolbar.setActions(primaryRightActions, []);\n\t\tthis._secondaryActions = secondaryActions;\n\n\t\tif (\n\t\t\tthis._dimension &&\n\t\t\tthis._dimension.width >= 0 &&\n\t\t\tthis._dimension.height >= 0\n\t\t) {\n\t\t\tthis._cacheItemSizes(this._notebookLeftToolbar);\n\t\t}\n\n\t\tthis._computeSizes();\n\t}\n\n\tprivate _cacheItemSizes(toolbar: WorkbenchToolBar) {\n\t\tfor (let i = 0; i < toolbar.getItemsLength(); i++) {\n\t\t\tconst action = toolbar.getItemAction(i);\n\t\t\tif (action && action.id !== \"toolbar.toggle.more\") {\n\t\t\t\tconst existing = this._primaryActions.find(\n\t\t\t\t\t(a) => a.action.id === action.id,\n\t\t\t\t);\n\t\t\t\tif (existing) {\n\t\t\t\t\texisting.size = toolbar.getItemWidth(i);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate _computeSizes() {\n\t\tconst toolbar = this._notebookLeftToolbar;\n\t\tconst rightToolbar = this._notebookRightToolbar;\n\t\tif (\n\t\t\ttoolbar &&\n\t\t\trightToolbar &&\n\t\t\tthis._dimension &&\n\t\t\tthis._dimension.height >= 0 &&\n\t\t\tthis._dimension.width >= 0\n\t\t) {\n\t\t\t// compute size only if it's visible\n\t\t\tif (\n\t\t\t\tthis._primaryActions.length === 0 &&\n\t\t\t\ttoolbar.getItemsLength() !== this._primaryActions.length\n\t\t\t) {\n\t\t\t\tthis._cacheItemSizes(this._notebookLeftToolbar);\n\t\t\t}\n\n\t\t\tif (this._primaryActions.length === 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst kernelWidth =\n\t\t\t\t(rightToolbar.getItemsLength()\n\t\t\t\t\t? rightToolbar.getItemWidth(0)\n\t\t\t\t\t: 0) + ACTION_PADDING;\n\t\t\tconst leftToolbarContainerMaxWidth =\n\t\t\t\tthis._dimension.width -\n\t\t\t\tkernelWidth -\n\t\t\t\t(ACTION_PADDING + TOGGLE_MORE_ACTION_WIDTH) -\n\t\t\t\t/** toolbar left margin */ ACTION_PADDING -\n\t\t\t\t/** toolbar right margin */ ACTION_PADDING;\n\t\t\tconst calculatedActions = this._strategy.calculateActions(\n\t\t\t\tleftToolbarContainerMaxWidth,\n\t\t\t);\n\t\t\tthis._notebookLeftToolbar.setActions(\n\t\t\t\tcalculatedActions.primaryActions,\n\t\t\t\tcalculatedActions.secondaryActions,\n\t\t\t);\n\t\t}\n\t}\n\n\tlayout(dimension: DOM.Dimension) {\n\t\tthis._dimension = dimension;\n\n\t\tif (this._useGlobalToolbar) {\n\t\t\tthis.domNode.style.display = \"flex\";\n\t\t} else {\n\t\t\tthis.domNode.style.display = \"none\";\n\t\t}\n\t\tthis._computeSizes();\n\t}\n\n\toverride dispose() {\n\t\tthis._notebookLeftToolbar.context = undefined;\n\t\tthis._notebookRightToolbar.context = undefined;\n\t\tthis._notebookLeftToolbar.dispose();\n\t\tthis._notebookRightToolbar.dispose();\n\t\tthis._notebookLeftToolbar = null!;\n\t\tthis._notebookRightToolbar = null!;\n\t\tthis._deferredActionUpdate?.dispose();\n\t\tthis._deferredActionUpdate = undefined;\n\n\t\tsuper.dispose();\n\t}\n}\n\nexport function workbenchCalculateActions(\n\tinitialPrimaryActions: IActionModel[],\n\tinitialSecondaryActions: IAction[],\n\tleftToolbarContainerMaxWidth: number,\n): { primaryActions: IActionModel[]; secondaryActions: IAction[] } {\n\treturn actionOverflowHelper(\n\t\tinitialPrimaryActions,\n\t\tinitialSecondaryActions,\n\t\tleftToolbarContainerMaxWidth,\n\t\tfalse,\n\t);\n}\n\nexport function workbenchDynamicCalculateActions(\n\tinitialPrimaryActions: IActionModel[],\n\tinitialSecondaryActions: IAction[],\n\tleftToolbarContainerMaxWidth: number,\n): { primaryActions: IActionModel[]; secondaryActions: IAction[] } {\n\tif (initialPrimaryActions.length === 0) {\n\t\treturn {\n\t\t\tprimaryActions: [],\n\t\t\tsecondaryActions: initialSecondaryActions,\n\t\t};\n\t}\n\n\t// find true length of array, add 1 for each primary actions, ignoring an item when size = 0\n\tconst visibleActionLength = initialPrimaryActions.filter(\n\t\t(action) => action.size !== 0,\n\t).length;\n\n\t// step 1: try to fit all primary actions\n\tconst totalWidthWithLabels =\n\t\tinitialPrimaryActions\n\t\t\t.map((action) => action.size)\n\t\t\t.reduce((a, b) => a + b, 0) +\n\t\t(visibleActionLength - 1) * ACTION_PADDING;\n\tif (totalWidthWithLabels <= leftToolbarContainerMaxWidth) {\n\t\tinitialPrimaryActions.forEach((action) => {\n\t\t\taction.renderLabel = true;\n\t\t});\n\t\treturn actionOverflowHelper(\n\t\t\tinitialPrimaryActions,\n\t\t\tinitialSecondaryActions,\n\t\t\tleftToolbarContainerMaxWidth,\n\t\t\tfalse,\n\t\t);\n\t}\n\n\t// step 2: check if they fit without labels\n\tif (\n\t\tvisibleActionLength * ICON_ONLY_ACTION_WIDTH +\n\t\t\t(visibleActionLength - 1) * ACTION_PADDING >\n\t\tleftToolbarContainerMaxWidth\n\t) {\n\t\tinitialPrimaryActions.forEach((action) => {\n\t\t\taction.renderLabel = false;\n\t\t});\n\t\treturn actionOverflowHelper(\n\t\t\tinitialPrimaryActions,\n\t\t\tinitialSecondaryActions,\n\t\t\tleftToolbarContainerMaxWidth,\n\t\t\ttrue,\n\t\t);\n\t}\n\n\t// step 3: render as many actions as possible with labels, rest without.\n\tlet sum = 0;\n\tlet lastActionWithLabel = -1;\n\tfor (let i = 0; i < initialPrimaryActions.length; i++) {\n\t\tsum += initialPrimaryActions[i].size + ACTION_PADDING;\n\n\t\tif (initialPrimaryActions[i].action instanceof Separator) {\n\t\t\t// find group separator\n\t\t\tconst remainingItems = initialPrimaryActions\n\t\t\t\t.slice(i + 1)\n\t\t\t\t.filter((action) => action.size !== 0); // todo: need to exclude size 0 items from this\n\t\t\tconst newTotalSum =\n\t\t\t\tsum +\n\t\t\t\t(remainingItems.length === 0\n\t\t\t\t\t? 0\n\t\t\t\t\t: remainingItems.length * ICON_ONLY_ACTION_WIDTH +\n\t\t\t\t\t\t(remainingItems.length - 1) * ACTION_PADDING);\n\t\t\tif (newTotalSum <= leftToolbarContainerMaxWidth) {\n\t\t\t\tlastActionWithLabel = i;\n\t\t\t}\n\t\t} else {\n\t\t\tcontinue;\n\t\t}\n\t}\n\n\t// icons only don't fit either\n\tif (lastActionWithLabel < 0) {\n\t\tinitialPrimaryActions.forEach((action) => {\n\t\t\taction.renderLabel = false;\n\t\t});\n\t\treturn actionOverflowHelper(\n\t\t\tinitialPrimaryActions,\n\t\t\tinitialSecondaryActions,\n\t\t\tleftToolbarContainerMaxWidth,\n\t\t\ttrue,\n\t\t);\n\t}\n\n\t// render labels for the actions that have space\n\tinitialPrimaryActions\n\t\t.slice(0, lastActionWithLabel + 1)\n\t\t.forEach((action) => {\n\t\t\taction.renderLabel = true;\n\t\t});\n\tinitialPrimaryActions.slice(lastActionWithLabel + 1).forEach((action) => {\n\t\taction.renderLabel = false;\n\t});\n\treturn {\n\t\tprimaryActions: initialPrimaryActions,\n\t\tsecondaryActions: initialSecondaryActions,\n\t};\n}\n\nfunction actionOverflowHelper(\n\tinitialPrimaryActions: IActionModel[],\n\tinitialSecondaryActions: IAction[],\n\tleftToolbarContainerMaxWidth: number,\n\ticonOnly: boolean,\n): { primaryActions: IActionModel[]; secondaryActions: IAction[] } {\n\tconst renderActions: IActionModel[] = [];\n\tconst overflow: IAction[] = [];\n\n\tlet currentSize = 0;\n\tlet nonZeroAction = false;\n\tlet containerFull = false;\n\n\tif (initialPrimaryActions.length === 0) {\n\t\treturn {\n\t\t\tprimaryActions: [],\n\t\t\tsecondaryActions: initialSecondaryActions,\n\t\t};\n\t}\n\n\tfor (let i = 0; i < initialPrimaryActions.length; i++) {\n\t\tconst actionModel = initialPrimaryActions[i];\n\t\tconst itemSize = iconOnly\n\t\t\t? actionModel.size === 0\n\t\t\t\t? 0\n\t\t\t\t: ICON_ONLY_ACTION_WIDTH\n\t\t\t: actionModel.size;\n\n\t\t// if two separators in a row, ignore the second\n\t\tif (\n\t\t\tactionModel.action instanceof Separator &&\n\t\t\trenderActions.length > 0 &&\n\t\t\trenderActions[renderActions.length - 1].action instanceof Separator\n\t\t) {\n\t\t\tcontinue;\n\t\t}\n\n\t\t// if a separator is the first nonZero action, ignore it\n\t\tif (actionModel.action instanceof Separator && !nonZeroAction) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tif (\n\t\t\tcurrentSize + itemSize <= leftToolbarContainerMaxWidth &&\n\t\t\t!containerFull\n\t\t) {\n\t\t\tcurrentSize += ACTION_PADDING + itemSize;\n\t\t\trenderActions.push(actionModel);\n\t\t\tif (itemSize !== 0) {\n\t\t\t\tnonZeroAction = true;\n\t\t\t}\n\t\t\tif (actionModel.action instanceof Separator) {\n\t\t\t\tnonZeroAction = false;\n\t\t\t}\n\t\t} else {\n\t\t\tcontainerFull = true;\n\t\t\tif (itemSize === 0) {\n\t\t\t\t// size 0 implies a hidden item, keep in primary to allow for Workbench to handle visibility\n\t\t\t\trenderActions.push(actionModel);\n\t\t\t} else {\n\t\t\t\tif (actionModel.action instanceof Separator) {\n\t\t\t\t\t// never push a separator to overflow\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\toverflow.push(actionModel.action);\n\t\t\t}\n\t\t}\n\t}\n\n\tfor (let i = renderActions.length - 1; i > 0; i--) {\n\t\tconst temp = renderActions[i];\n\t\tif (temp.size === 0) {\n\t\t\tcontinue;\n\t\t}\n\t\tif (temp.action instanceof Separator) {\n\t\t\trenderActions.splice(i, 1);\n\t\t}\n\t\tbreak;\n\t}\n\n\tif (\n\t\trenderActions.length &&\n\t\trenderActions[renderActions.length - 1].action instanceof Separator\n\t) {\n\t\trenderActions.pop();\n\t}\n\n\tif (overflow.length !== 0) {\n\t\toverflow.push(new Separator());\n\t}\n\n\tif (iconOnly) {\n\t\t// if icon only mode, don't render both (+ code) and (+ markdown) buttons. remove of markdown action\n\t\tconst markdownIndex = renderActions.findIndex(\n\t\t\t(a) => a.action.id === \"notebook.cell.insertMarkdownCellBelow\",\n\t\t);\n\t\tif (markdownIndex !== -1) {\n\t\t\trenderActions.splice(markdownIndex, 1);\n\t\t}\n\t}\n\n\treturn {\n\t\tprimaryActions: renderActions,\n\t\tsecondaryActions: [...overflow, ...initialSecondaryActions],\n\t};\n}\n"],
  "mappings": ";;;;;;;;;;;;AAKA,YAAY,SAAS;AAMrB,SAAS,4BAA4B;AACrC,SAAS,eAAe;AACxB,SAAuB,iBAAiB;AACxC,SAAS,yBAAyB;AAClC,SAAS,SAAS,aAAa;AAC/B;AAAA,EACC;AAAA,OAEM;AACP,SAAS,2BAA2B;AACpC;AAAA,EACC;AAAA,EACA;AAAA,OACM;AACP;AAAA,EACC;AAAA,EAEA;AAAA,OACM;AACP;AAAA,EAEC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,OACM;AACP,SAAS,6BAA6B;AAEtC,SAAS,2BAA2B;AACpC,SAAS,8BAA8B;AACvC,SAAS,6BAA6B;AACtC,SAAS,0BAA0B;AACnC,SAAS,mCAAmC;AAC5C,SAAS,sBAAsB;AAC/B;AAAA,EACC;AAAA,EACA;AAAA,OACM;AACP,SAAS,wBAAwB;AAGjC;AAAA,EACC;AAAA,EACA;AAAA,OACM;AACP,SAAS,mCAAmC;AASrC,IAAK,cAAL,kBAAKA,iBAAL;AACN,EAAAA,0BAAA,YAAS,KAAT;AACA,EAAAA,0BAAA,WAAQ,KAAR;AACA,EAAAA,0BAAA,aAAU,KAAV;AAHW,SAAAA;AAAA,GAAA;AAaL,SAAS,qBACf,OACc;AACd,UAAQ,OAAO;AAAA,IACd,KAAK;AACJ,aAAO;AAAA,IACR,KAAK;AACJ,aAAO;AAAA,IACR,KAAK;AACJ,aAAO;AAAA,IACR,KAAK;AACJ,aAAO;AAAA,IACR,KAAK;AACJ,aAAO;AAAA,EACT;AACD;AAfgB;AAiBhB,MAAM,yBAAyB;AAC/B,MAAM,2BAA2B;AACjC,MAAM,iBAAiB;AAUvB,MAAM,6BAA8D;AAAA,EACnE,YACU,gBACA,eACA,UACA,sBACR;AAJQ;AACA;AACA;AACA;AAAA,EACP;AAAA,EAjHJ,OA2GoE;AAAA;AAAA;AAAA,EAQnE,eACC,QACA,SAC8B;AAC9B,QAAI,OAAO,OAAO,kBAAkB;AAEnC,aAAO,KAAK,qBAAqB;AAAA,QAChC;AAAA,QACA;AAAA,QACA,KAAK;AAAA,QACL;AAAA,MACD;AAAA,IACD;AAEA,QAAI,kBAAkB,gBAAgB;AACrC,aAAO,KAAK,qBAAqB;AAAA,QAChC;AAAA,QACA;AAAA,QACA,EAAE,eAAe,QAAQ,cAAc;AAAA,MACxC;AAAA,IACD;AAEA,QACC,kBAAkB,qBAClB,OAAO,KAAK,QAAQ,OAAO,OAAO,wBAAwB,IACzD;AACD,aAAO,KAAK,qBAAqB;AAAA,QAChC;AAAA,QACA;AAAA,QACA,EAAE,eAAe,QAAQ,cAAc;AAAA,QACvC;AAAA,QACA;AAAA,UACC,YAAY,6BAAM;AACjB,mBACC,KAAK,SACH,WAAW,EACX;AAAA,cACA,CAAC,CAAC,KAAK,MAAM,UAAU;AAAA,YACxB,IAAI,CAAC,KAAK,CAAC;AAAA,UAEd,GARY;AAAA,QASb;AAAA,QACA,KAAK,eAAe,KAAK,IAAI;AAAA,MAC9B;AAAA,IACD;AAEA,WAAO;AAAA,EACR;AAAA,EAEA,iBAAiB,8BAGf;AACD,UAAM,wBAAwB,KAAK,cAAc;AACjD,UAAM,0BAA0B,KAAK,cAAc;AAEnD,UAAM,eAAe;AAAA,MACpB;AAAA,MACA;AAAA,MACA;AAAA,IACD;AACA,WAAO;AAAA,MACN,gBAAgB,aAAa,eAAe,IAAI,CAAC,MAAM,EAAE,MAAM;AAAA,MAC/D,kBAAkB,aAAa;AAAA,IAChC;AAAA,EACD;AACD;AAEA,MAAM,4BAA6D;AAAA,EAClE,YACU,gBACA,eACA,UACA,sBACR;AAJQ;AACA;AACA;AACA;AAAA,EACP;AAAA,EA7LJ,OAuLmE;AAAA;AAAA;AAAA,EAQlE,eACC,QACA,SAC8B;AAC9B,QAAI,OAAO,OAAO,kBAAkB;AAEnC,aAAO,KAAK,qBAAqB;AAAA,QAChC;AAAA,QACA;AAAA,QACA,KAAK;AAAA,QACL;AAAA,MACD;AAAA,IACD;AAEA,QAAI,kBAAkB,gBAAgB;AACrC,aAAO,KAAK,qBAAqB;AAAA,QAChC;AAAA,QACA;AAAA,QACA,EAAE,eAAe,QAAQ,cAAc;AAAA,MACxC;AAAA,IACD;AAEA,QAAI,kBAAkB,mBAAmB;AACxC,UAAI,OAAO,KAAK,QAAQ,OAAO,OAAO,wBAAwB,IAAI;AACjE,eAAO,KAAK,qBAAqB;AAAA,UAChC;AAAA,UACA;AAAA,UACA,EAAE,eAAe,QAAQ,cAAc;AAAA,UACvC;AAAA,UACA;AAAA,YACC,YAAY,6BAAM;AACjB,qBACC,KAAK,SACH,WAAW,EACX;AAAA,gBACA,CAAC,CAAC,KAAK,MACN,UAAU;AAAA,cACZ,IAAI,CAAC,KAAK,CAAC;AAAA,YAEd,GATY;AAAA,UAUb;AAAA,UACA,KAAK,eAAe,KAAK,IAAI;AAAA,QAC9B;AAAA,MACD,OAAO;AACN,eAAO,KAAK,qBAAqB;AAAA,UAChC;AAAA,UACA;AAAA,UACA,EAAE,eAAe,QAAQ,cAAc;AAAA,QACxC;AAAA,MACD;AAAA,IACD;AAEA,WAAO;AAAA,EACR;AAAA,EAEA,iBAAiB,8BAGf;AACD,UAAM,wBAAwB,KAAK,cAAc;AACjD,UAAM,0BAA0B,KAAK,cAAc;AAEnD,UAAM,eAAe;AAAA,MACpB;AAAA,MACA;AAAA,MACA;AAAA,IACD;AACA,WAAO;AAAA,MACN,gBAAgB,aAAa,eAAe,IAAI,CAAC,MAAM,EAAE,MAAM;AAAA,MAC/D,kBAAkB,aAAa;AAAA,IAChC;AAAA,EACD;AACD;AAEA,MAAM,8BAA+D;AAAA,EACpE,YACU,gBACA,eACA,UACA,sBACR;AAJQ;AACA;AACA;AACA;AAAA,EACP;AAAA,EA/QJ,OAyQqE;AAAA;AAAA;AAAA,EAQpE,eACC,QACA,SAC8B;AAC9B,QAAI,OAAO,OAAO,kBAAkB;AAEnC,aAAO,KAAK,qBAAqB;AAAA,QAChC;AAAA,QACA;AAAA,QACA,KAAK;AAAA,QACL;AAAA,MACD;AAAA,IACD;AAEA,UAAM,IAAI,KAAK,cAAc,eAAe;AAAA,MAC3C,CAACC,OAAMA,GAAE,OAAO,OAAO,OAAO;AAAA,IAC/B;AACA,QAAI,CAAC,KAAK,EAAE,aAAa;AACxB,UAAI,kBAAkB,gBAAgB;AACrC,eAAO,KAAK,qBAAqB;AAAA,UAChC;AAAA,UACA;AAAA,UACA,EAAE,eAAe,QAAQ,cAAc;AAAA,QACxC;AAAA,MACD;AAEA,UACC,kBAAkB,qBAClB,OAAO,KAAK,QAAQ,OAAO,OAAO,wBAAwB,IACzD;AACD,eAAO,KAAK,qBAAqB;AAAA,UAChC;AAAA,UACA;AAAA,UACA,EAAE,eAAe,QAAQ,cAAc;AAAA,UACvC;AAAA,UACA;AAAA,YACC,YAAY,6BAAM;AACjB,qBACC,KAAK,SACH,WAAW,EACX;AAAA,gBACA,CAAC,CAAC,KAAK,MACN,UAAU;AAAA,cACZ,IAAI,CAAC,KAAK,CAAC;AAAA,YAEd,GATY;AAAA,UAUb;AAAA,UACA,KAAK,eAAe,KAAK,IAAI;AAAA,QAC9B;AAAA,MACD;AAEA,aAAO;AAAA,IACR,OAAO;AACN,UAAI,kBAAkB,gBAAgB;AACrC,aAAK,qBAAqB;AAAA,UACzB;AAAA,UACA;AAAA,UACA,EAAE,eAAe,QAAQ,cAAc;AAAA,QACxC;AAAA,MACD;AAEA,UAAI,kBAAkB,mBAAmB;AACxC,YACC,OAAO,KAAK,QAAQ,OAAO,OAAO,wBAAwB,IACzD;AACD,iBAAO,KAAK,qBAAqB;AAAA,YAChC;AAAA,YACA;AAAA,YACA,EAAE,eAAe,QAAQ,cAAc;AAAA,YACvC;AAAA,YACA;AAAA,cACC,YAAY,6BAAM;AACjB,uBACC,KAAK,SACH,WAAW,EACX;AAAA,kBACA,CAAC,CAAC,KAAK,MACN,UAAU;AAAA,gBACZ,IAAI,CAAC,KAAK,CAAC;AAAA,cAEd,GATY;AAAA,YAUb;AAAA,YACA,KAAK,eAAe,KAAK,IAAI;AAAA,UAC9B;AAAA,QACD,OAAO;AACN,iBAAO,KAAK,qBAAqB;AAAA,YAChC;AAAA,YACA;AAAA,YACA,EAAE,eAAe,QAAQ,cAAc;AAAA,UACxC;AAAA,QACD;AAAA,MACD;AAEA,aAAO;AAAA,IACR;AAAA,EACD;AAAA,EAEA,iBAAiB,8BAGf;AACD,UAAM,wBAAwB,KAAK,cAAc;AACjD,UAAM,0BAA0B,KAAK,cAAc;AAEnD,UAAM,eAAe;AAAA,MACpB;AAAA,MACA;AAAA,MACA;AAAA,IACD;AACA,WAAO;AAAA,MACN,gBAAgB,aAAa,eAAe,IAAI,CAAC,MAAM,EAAE,MAAM;AAAA,MAC/D,kBAAkB,aAAa;AAAA,IAChC;AAAA,EACD;AACD;AAEO,IAAM,iCAAN,cAA6C,WAAW;AAAA,EAwC9D,YACU,gBACA,mBACA,iBACA,SAC+B,sBACA,sBACF,oBACP,aACE,eACI,mBACS,mBAC7C;AACD,UAAM;AAZG;AACA;AACA;AACA;AAC+B;AACA;AACF;AACP;AACE;AACI;AACS;AAI9C,SAAK,kBAAkB,CAAC;AACxB,SAAK,oBAAoB,CAAC;AAC1B,SAAK,WAAW;AAEhB,SAAK,UAAU,MAAM;AAAA,MACpB,KAAK,cAAc;AAAA,MACnB,CAAC,MAAM,aAAa;AAAA,MACpB;AAAA,IACD,EAAE,KAAK,wBAAwB,IAAI,CAAC;AAEpC,SAAK,gCAAgC;AAAA,EACtC;AAAA,EAvcD,OAqY+D;AAAA;AAAA;AAAA,EACtD;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACR,IAAI,iBAAiC;AACpC,WAAO,KAAK;AAAA,EACb;AAAA,EACQ;AAAA,EACR,IAAI,mBAA8B;AACjC,WAAO,KAAK;AAAA,EACb;AAAA,EACQ;AAAA,EACA,oBAAoB;AAAA,EACpB;AAAA,EACA,eAA4B;AAAA,EAE5B,WAAW;AAAA,EACnB,IAAI,QAAQ,SAAkB;AAC7B,QAAI,KAAK,aAAa,SAAS;AAC9B,WAAK,WAAW;AAChB,WAAK,uBAAuB,KAAK,OAAO;AAAA,IACzC;AAAA,EACD;AAAA,EACiB,yBAAyB,KAAK;AAAA,IAC9C,IAAI,QAAiB;AAAA,EACtB;AAAA,EACA,wBAAwC,KAAK,uBAAuB;AAAA,EAEpE,IAAI,mBAA4B;AAC/B,WAAO,KAAK;AAAA,EACb;AAAA,EAEQ,aAAmC;AAAA,EAEnC;AAAA,EA8BA,aAAa;AACpB,SAAK,mCAAmC,SAAS,cAAc,KAAK;AACpE,SAAK,iCAAiC,UAAU;AAAA,MAC/C;AAAA,IACD;AACA,SAAK,yBAAyB,IAAI;AAAA,MACjC,KAAK;AAAA,MACL;AAAA,QACC,UAAU,oBAAoB;AAAA,QAC9B,YAAY,oBAAoB;AAAA,QAChC,yBAAyB;AAAA,QACzB,YAAY;AAAA,QACZ,YAAY;AAAA,MACb;AAAA,IACD;AACA,SAAK,UAAU,KAAK,sBAAsB;AAE1C,QAAI,OAAO,KAAK,SAAS,KAAK,uBAAuB,WAAW,CAAC;AACjE,SAAK,oCAAoC,SAAS,cAAc,KAAK;AACrE,SAAK,kCAAkC,UAAU;AAAA,MAChD;AAAA,IACD;AACA,QAAI,OAAO,KAAK,SAAS,KAAK,iCAAiC;AAAA,EAChE;AAAA,EAEQ,yBAAyB;AAChC,QACC,KAAK,cAAc,kBAAkB,MAAM,MAAM,oBAChD;AACD,YAAM,iBACL,KAAK,cAAc,iBAAiB,WAAW;AAChD,UAAI,mBAAmB,KAAK,gBAAgB;AAE3C,aAAK,oCAAoC;AACzC;AAAA,MACD;AAAA,IACD;AAAA,EACD;AAAA,EAEQ,kCAAkC;AACzC,SAAK,6BAA6B,KAAK;AAAA,MACtC,KAAK,YAAY;AAAA,QAChB,KAAK,eAAe,gBAAgB,QAAQ;AAAA,QAC5C,KAAK;AAAA,MACN;AAAA,IACD;AACA,SAAK,0BAA0B,KAAK;AAAA,MACnC,KAAK,YAAY;AAAA,QAChB,OAAO;AAAA,QACP,KAAK;AAAA,MACN;AAAA,IACD;AAEA,SAAK,oBACJ,KAAK,gBAAgB,kBAAkB,EAAE;AAC1C,SAAK,eAAe,KAAK;AAAA,MACxB,KAAK,qBAAqB;AAAA,QACzB,gBAAgB;AAAA,MACjB;AAAA,IACD;AACA,SAAK,gBAAgB;AAErB,UAAM,UAAU;AAAA,MACf,IAAI;AAAA,MACJ,gBAAgB,KAAK;AAAA,MACrB,QAAQ;AAAA,IACT;AAEA,UAAM,iBAAiB,wBACtB,QACA,YACI;AACJ,UAAI,OAAO,OAAO,kBAAkB;AAEnC,eAAO,KAAK,qBAAqB;AAAA,UAChC;AAAA,UACA;AAAA,UACA,KAAK;AAAA,UACL;AAAA,QACD;AAAA,MACD;AAEA,UAAI,KAAK,iBAAiB,eAAmB;AAC5C,cAAM,IAAI,KAAK,gBAAgB;AAAA,UAC9B,CAACA,OAAMA,GAAE,OAAO,OAAO,OAAO;AAAA,QAC/B;AACA,YAAI,KAAK,EAAE,aAAa;AACvB,iBAAO,kBAAkB,iBACtB,KAAK,qBAAqB;AAAA,YAC1B;AAAA,YACA;AAAA,YACA,EAAE,eAAe,QAAQ,cAAc;AAAA,UACxC,IACC;AAAA,QACJ,OAAO;AACN,iBAAO,kBAAkB,iBACtB,KAAK,qBAAqB;AAAA,YAC1B;AAAA,YACA;AAAA,YACA,EAAE,eAAe,QAAQ,cAAc;AAAA,UACxC,IACC;AAAA,QACJ;AAAA,MACD,OAAO;AACN,eAAO,kBAAkB,iBACtB,KAAK,qBAAqB;AAAA,UAC1B;AAAA,UACA;AAAA,UACA,EAAE,eAAe,QAAQ,cAAc;AAAA,QACxC,IACC;AAAA,MACJ;AAAA,IACD,GA5CuB;AAgDvB,UAAM,gBAAgB,KAAK;AAAA,MAC1B,KAAK,qBAAqB;AAAA,QACzB;AAAA,QACA;AAAA,QACA;AAAA,QACA,CAAC;AAAA,MACF;AAAA,IACD;AACA,kBAAc,yBAAyB,GAAG;AAE1C,UAAM,qBAA+C;AAAA,MACpD,oBAAoB,mBAAmB;AAAA,MACvC,WAAW,OAAO;AAAA,MAClB,wBAAwB,wBAAC,QAAQ,YAAY;AAC5C,eAAO,KAAK,UAAU,eAAe,QAAQ,OAAO;AAAA,MACrD,GAFwB;AAAA,MAGxB,eAAe,wBAAC,WACf,KAAK,kBAAkB,iBAAiB,OAAO,EAAE,GADnC;AAAA,MAEf,8BAA8B;AAAA,MAC9B;AAAA,IACD;AAEA,SAAK,uBAAuB,KAAK,qBAAqB;AAAA,MACrD;AAAA,MACA,KAAK;AAAA,MACL;AAAA,IACD;AAEA,SAAK,UAAU,KAAK,oBAAoB;AACxC,SAAK,qBAAqB,UAAU;AAEpC,SAAK,wBAAwB,IAAI;AAAA,MAChC,KAAK;AAAA,MACL,KAAK;AAAA,MACL;AAAA,QACC,eAAe,wBAAC,WACf,KAAK,kBAAkB,iBAAiB,OAAO,EAAE,GADnC;AAAA,QAEf,wBAAwB;AAAA,QACxB,8BAA8B;AAAA,QAC9B;AAAA,MACD;AAAA,IACD;AACA,SAAK,UAAU,KAAK,qBAAqB;AACzC,SAAK,sBAAsB,UAAU;AAErC,SAAK,oCAAoC;AACzC,QAAI,oBAAoB;AACxB,QAAI;AAEJ,SAAK;AAAA,MACJ,KAAK,2BAA2B,YAAY,MAAM;AACjD,YAAI,mBAAmB;AACtB,2BAAiB,6BAChB,KAAK,oCAAoC,GADzB;AAEjB;AAAA,QACD;AAEA,YAAI,KAAK,eAAe,WAAW;AAClC,eAAK,oCAAoC;AAAA,QAC1C;AAAA,MACD,CAAC;AAAA,IACF;AAEA,SAAK;AAAA,MACJ,KAAK,qBAAqB;AAAA,QACzB,CAAC,YAAY;AACZ,8BAAoB;AAEpB,cAAI,kBAAkB,CAAC,SAAS;AAC/B,uBAAW,MAAM;AAChB,+BAAiB;AAAA,YAClB,GAAG,CAAC;AACJ,6BAAiB;AAAA,UAClB;AAAA,QACD;AAAA,MACD;AAAA,IACD;AAEA,SAAK;AAAA,MACJ,KAAK,gBAAgB,mBAAmB,CAAC,MAAM;AAC9C,YAAI,EAAE,kBAAkB,QAAW;AAClC,eAAK,oBACJ,KAAK,gBAAgB,kBAAkB,EAAE;AAC1C,eAAK,oCAAoC;AAAA,QAC1C;AAAA,MACD,CAAC;AAAA,IACF;AAEA,SAAK;AAAA,MACJ,KAAK,qBAAqB,yBAAyB,CAAC,MAAM;AACzD,YACC,EAAE;AAAA,UACD,gBAAgB;AAAA,QACjB,GACC;AACD,eAAK,eAAe,KAAK;AAAA,YACxB,KAAK,qBAAqB;AAAA,cACzB,gBAAgB;AAAA,YACjB;AAAA,UACD;AACA,eAAK,gBAAgB;AACrB,gBAAM,aAAa,KAAK,qBAAqB,WAAW;AACxD,qBAAW,OAAO;AAClB,eAAK,qBAAqB,QAAQ;AAElC,eAAK,uBACJ,KAAK,qBAAqB;AAAA,YACzB;AAAA,YACA,KAAK;AAAA,YACL;AAAA,UACD;AAED,eAAK,UAAU,KAAK,oBAAoB;AACxC,eAAK,qBAAqB,UAAU;AACpC,eAAK,oCAAoC;AACzC;AAAA,QACD;AAAA,MACD,CAAC;AAAA,IACF;AAEA,QAAI,KAAK,mBAAmB;AAC3B,WAAK,kBACH,aAAsB,mBAAmB,EACzC,KAAK,CAAC,cAAc;AACpB,YAAI,cAAc,QAAW;AAC5B;AAAA,QACD;AACA,YAAI,KAAK,sBAAsB,WAAW;AACzC,eAAK,oBAAoB;AACzB,eAAK,oCAAoC;AAAA,QAC1C;AAAA,MACD,CAAC;AAAA,IACH;AAAA,EACD;AAAA,EAEQ,kBAAkB;AACzB,YAAQ,KAAK,cAAc;AAAA,MAC1B,KAAK;AACJ,aAAK,YAAY,IAAI;AAAA,UACpB,KAAK;AAAA,UACL;AAAA,UACA,KAAK;AAAA,UACL,KAAK;AAAA,QACN;AACA;AAAA,MACD,KAAK;AACJ,aAAK,YAAY,IAAI;AAAA,UACpB,KAAK;AAAA,UACL;AAAA,UACA,KAAK;AAAA,UACL,KAAK;AAAA,QACN;AACA;AAAA,MACD,KAAK;AACJ,aAAK,YAAY,IAAI;AAAA,UACpB,KAAK;AAAA,UACL;AAAA,UACA,KAAK;AAAA,UACL,KAAK;AAAA,QACN;AACA;AAAA,IACF;AAAA,EACD;AAAA,EAEQ,sBAAsB,OAA6C;AAC1E,YAAQ,OAAO;AAAA,MACd,KAAK;AACJ,eAAO;AAAA,MACR,KAAK;AACJ,eAAO;AAAA,MACR,KAAK;AACJ,eAAO;AAAA,MACR,KAAK;AACJ,eAAO;AAAA,MACR,KAAK;AACJ,eAAO;AAAA,IACT;AAAA,EACD;AAAA,EAEQ,sCAAsC;AAE7C,QAAI,CAAC,KAAK,eAAe,SAAS,GAAG;AACpC,WAAK,uBAAuB,QAAQ;AACpC,WAAK,wBAAwB;AAC7B,WAAK,UAAU;AACf;AAAA,IACD;AAEA,QAAI,KAAK,uBAAuB;AAC/B;AAAA,IACD;AAEA,QAAI,KAAK,mBAAmB;AAC3B,WAAK,wBAAwB,kBAAkB,YAAY;AAC1D,cAAM,KAAK,oBAAoB;AAC/B,aAAK,UAAU;AACf,aAAK,wBAAwB;AAAA,MAC9B,GAAG,EAAE;AAAA,IACN,OAAO;AACN,WAAK,QAAQ,MAAM,UAAU;AAC7B,WAAK,wBAAwB;AAC7B,WAAK,UAAU;AAAA,IAChB;AAAA,EACD;AAAA,EAEA,MAAc,sBAAsB;AACnC,UAAM,SAAS,KAAK,2BAA2B,WAAW;AAAA,MACzD,mBAAmB;AAAA,MACnB,kBAAkB;AAAA,IACnB,CAAC;AACD,SAAK,QAAQ,MAAM,UAAU;AAC7B,UAAM,oBAAoB,OAAO;AAAA,MAAO,CAAC,UACxC,cAAc,KAAK,MAAM,CAAC,CAAC;AAAA,IAC5B;AACA,UAAM,iBAA4B,CAAC;AACnC,sBACE,KAAK,CAAC,GAAG,MAAM;AACf,UAAI,EAAE,CAAC,MAAM,cAAc;AAC1B,eAAO;AAAA,MACR;AAEA,UAAI,EAAE,CAAC,MAAM,cAAc;AAC1B,eAAO;AAAA,MACR;AAEA,aAAO;AAAA,IACR,CAAC,EACA,QAAQ,CAAC,OAAO,UAAU;AAC1B,qBAAe,KAAK,GAAG,MAAM,CAAC,CAAC;AAC/B,UAAI,QAAQ,kBAAkB,SAAS,GAAG;AACzC,uBAAe,KAAK,IAAI,UAAU,CAAC;AAAA,MACpC;AAAA,IACD,CAAC;AACF,UAAM,oBAAoB,OAAO;AAAA,MAAK,CAAC,UACtC,UAAU,KAAK,MAAM,CAAC,CAAC;AAAA,IACxB;AACA,UAAM,sBAAsB,oBACzB,kBAAkB,CAAC,IACnB,CAAC;AACJ,UAAM,mBAAmB,OACvB;AAAA,MACA,CAAC,UACA,CAAC,cAAc,KAAK,MAAM,CAAC,CAAC,KAAK,CAAC,UAAU,KAAK,MAAM,CAAC,CAAC;AAAA,IAC3D,EACC,OAAO,CAAC,MAA8C,SAAS;AAC/D,WAAK,KAAK,GAAG,KAAK,CAAC,CAAC;AACpB,aAAO;AAAA,IACR,GAAG,CAAC,CAAC;AAEN,SAAK,qBAAqB,WAAW,CAAC,GAAG,CAAC,CAAC;AAE3C,SAAK,kBAAkB,eAAe,IAAI,CAAC,YAAY;AAAA,MACtD;AAAA,MACA,MAAM,kBAAkB,YAAY,IAAI;AAAA,MACxC,aAAa;AAAA,MACb,SAAS;AAAA,IACV,EAAE;AACF,SAAK,qBAAqB,WAAW,gBAAgB,gBAAgB;AACrE,SAAK,oBAAoB;AAEzB,SAAK,sBAAsB,WAAW,qBAAqB,CAAC,CAAC;AAC7D,SAAK,oBAAoB;AAEzB,QACC,KAAK,cACL,KAAK,WAAW,SAAS,KACzB,KAAK,WAAW,UAAU,GACzB;AACD,WAAK,gBAAgB,KAAK,oBAAoB;AAAA,IAC/C;AAEA,SAAK,cAAc;AAAA,EACpB;AAAA,EAEQ,gBAAgB,SAA2B;AAClD,aAAS,IAAI,GAAG,IAAI,QAAQ,eAAe,GAAG,KAAK;AAClD,YAAM,SAAS,QAAQ,cAAc,CAAC;AACtC,UAAI,UAAU,OAAO,OAAO,uBAAuB;AAClD,cAAM,WAAW,KAAK,gBAAgB;AAAA,UACrC,CAAC,MAAM,EAAE,OAAO,OAAO,OAAO;AAAA,QAC/B;AACA,YAAI,UAAU;AACb,mBAAS,OAAO,QAAQ,aAAa,CAAC;AAAA,QACvC;AAAA,MACD;AAAA,IACD;AAAA,EACD;AAAA,EAEQ,gBAAgB;AACvB,UAAM,UAAU,KAAK;AACrB,UAAM,eAAe,KAAK;AAC1B,QACC,WACA,gBACA,KAAK,cACL,KAAK,WAAW,UAAU,KAC1B,KAAK,WAAW,SAAS,GACxB;AAED,UACC,KAAK,gBAAgB,WAAW,KAChC,QAAQ,eAAe,MAAM,KAAK,gBAAgB,QACjD;AACD,aAAK,gBAAgB,KAAK,oBAAoB;AAAA,MAC/C;AAEA,UAAI,KAAK,gBAAgB,WAAW,GAAG;AACtC;AAAA,MACD;AAEA,YAAM,eACJ,aAAa,eAAe,IAC1B,aAAa,aAAa,CAAC,IAC3B,KAAK;AACT,YAAM,+BACL,KAAK,WAAW,QAChB,eACC,iBAAiB;AAAA,MACS;AAAA,MACC;AAC7B,YAAM,oBAAoB,KAAK,UAAU;AAAA,QACxC;AAAA,MACD;AACA,WAAK,qBAAqB;AAAA,QACzB,kBAAkB;AAAA,QAClB,kBAAkB;AAAA,MACnB;AAAA,IACD;AAAA,EACD;AAAA,EAEA,OAAO,WAA0B;AAChC,SAAK,aAAa;AAElB,QAAI,KAAK,mBAAmB;AAC3B,WAAK,QAAQ,MAAM,UAAU;AAAA,IAC9B,OAAO;AACN,WAAK,QAAQ,MAAM,UAAU;AAAA,IAC9B;AACA,SAAK,cAAc;AAAA,EACpB;AAAA,EAES,UAAU;AAClB,SAAK,qBAAqB,UAAU;AACpC,SAAK,sBAAsB,UAAU;AACrC,SAAK,qBAAqB,QAAQ;AAClC,SAAK,sBAAsB,QAAQ;AACnC,SAAK,uBAAuB;AAC5B,SAAK,wBAAwB;AAC7B,SAAK,uBAAuB,QAAQ;AACpC,SAAK,wBAAwB;AAE7B,UAAM,QAAQ;AAAA,EACf;AACD;AAzhBa,iCAAN;AAAA,EA6CJ;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,GAnDU;AA2hBN,SAAS,0BACf,uBACA,yBACA,8BACkE;AAClE,SAAO;AAAA,IACN;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACD;AACD;AAXgB;AAaT,SAAS,iCACf,uBACA,yBACA,8BACkE;AAClE,MAAI,sBAAsB,WAAW,GAAG;AACvC,WAAO;AAAA,MACN,gBAAgB,CAAC;AAAA,MACjB,kBAAkB;AAAA,IACnB;AAAA,EACD;AAGA,QAAM,sBAAsB,sBAAsB;AAAA,IACjD,CAAC,WAAW,OAAO,SAAS;AAAA,EAC7B,EAAE;AAGF,QAAM,uBACL,sBACE,IAAI,CAAC,WAAW,OAAO,IAAI,EAC3B,OAAO,CAAC,GAAG,MAAM,IAAI,GAAG,CAAC,KAC1B,sBAAsB,KAAK;AAC7B,MAAI,wBAAwB,8BAA8B;AACzD,0BAAsB,QAAQ,CAAC,WAAW;AACzC,aAAO,cAAc;AAAA,IACtB,CAAC;AACD,WAAO;AAAA,MACN;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACD;AAAA,EACD;AAGA,MACC,sBAAsB,0BACpB,sBAAsB,KAAK,iBAC7B,8BACC;AACD,0BAAsB,QAAQ,CAAC,WAAW;AACzC,aAAO,cAAc;AAAA,IACtB,CAAC;AACD,WAAO;AAAA,MACN;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACD;AAAA,EACD;AAGA,MAAI,MAAM;AACV,MAAI,sBAAsB;AAC1B,WAAS,IAAI,GAAG,IAAI,sBAAsB,QAAQ,KAAK;AACtD,WAAO,sBAAsB,CAAC,EAAE,OAAO;AAEvC,QAAI,sBAAsB,CAAC,EAAE,kBAAkB,WAAW;AAEzD,YAAM,iBAAiB,sBACrB,MAAM,IAAI,CAAC,EACX,OAAO,CAAC,WAAW,OAAO,SAAS,CAAC;AACtC,YAAM,cACL,OACC,eAAe,WAAW,IACxB,IACA,eAAe,SAAS,0BACxB,eAAe,SAAS,KAAK;AACjC,UAAI,eAAe,8BAA8B;AAChD,8BAAsB;AAAA,MACvB;AAAA,IACD,OAAO;AACN;AAAA,IACD;AAAA,EACD;AAGA,MAAI,sBAAsB,GAAG;AAC5B,0BAAsB,QAAQ,CAAC,WAAW;AACzC,aAAO,cAAc;AAAA,IACtB,CAAC;AACD,WAAO;AAAA,MACN;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACD;AAAA,EACD;AAGA,wBACE,MAAM,GAAG,sBAAsB,CAAC,EAChC,QAAQ,CAAC,WAAW;AACpB,WAAO,cAAc;AAAA,EACtB,CAAC;AACF,wBAAsB,MAAM,sBAAsB,CAAC,EAAE,QAAQ,CAAC,WAAW;AACxE,WAAO,cAAc;AAAA,EACtB,CAAC;AACD,SAAO;AAAA,IACN,gBAAgB;AAAA,IAChB,kBAAkB;AAAA,EACnB;AACD;AAvGgB;AAyGhB,SAAS,qBACR,uBACA,yBACA,8BACA,UACkE;AAClE,QAAM,gBAAgC,CAAC;AACvC,QAAM,WAAsB,CAAC;AAE7B,MAAI,cAAc;AAClB,MAAI,gBAAgB;AACpB,MAAI,gBAAgB;AAEpB,MAAI,sBAAsB,WAAW,GAAG;AACvC,WAAO;AAAA,MACN,gBAAgB,CAAC;AAAA,MACjB,kBAAkB;AAAA,IACnB;AAAA,EACD;AAEA,WAAS,IAAI,GAAG,IAAI,sBAAsB,QAAQ,KAAK;AACtD,UAAM,cAAc,sBAAsB,CAAC;AAC3C,UAAM,WAAW,WACd,YAAY,SAAS,IACpB,IACA,yBACD,YAAY;AAGf,QACC,YAAY,kBAAkB,aAC9B,cAAc,SAAS,KACvB,cAAc,cAAc,SAAS,CAAC,EAAE,kBAAkB,WACzD;AACD;AAAA,IACD;AAGA,QAAI,YAAY,kBAAkB,aAAa,CAAC,eAAe;AAC9D;AAAA,IACD;AAEA,QACC,cAAc,YAAY,gCAC1B,CAAC,eACA;AACD,qBAAe,iBAAiB;AAChC,oBAAc,KAAK,WAAW;AAC9B,UAAI,aAAa,GAAG;AACnB,wBAAgB;AAAA,MACjB;AACA,UAAI,YAAY,kBAAkB,WAAW;AAC5C,wBAAgB;AAAA,MACjB;AAAA,IACD,OAAO;AACN,sBAAgB;AAChB,UAAI,aAAa,GAAG;AAEnB,sBAAc,KAAK,WAAW;AAAA,MAC/B,OAAO;AACN,YAAI,YAAY,kBAAkB,WAAW;AAE5C;AAAA,QACD;AACA,iBAAS,KAAK,YAAY,MAAM;AAAA,MACjC;AAAA,IACD;AAAA,EACD;AAEA,WAAS,IAAI,cAAc,SAAS,GAAG,IAAI,GAAG,KAAK;AAClD,UAAM,OAAO,cAAc,CAAC;AAC5B,QAAI,KAAK,SAAS,GAAG;AACpB;AAAA,IACD;AACA,QAAI,KAAK,kBAAkB,WAAW;AACrC,oBAAc,OAAO,GAAG,CAAC;AAAA,IAC1B;AACA;AAAA,EACD;AAEA,MACC,cAAc,UACd,cAAc,cAAc,SAAS,CAAC,EAAE,kBAAkB,WACzD;AACD,kBAAc,IAAI;AAAA,EACnB;AAEA,MAAI,SAAS,WAAW,GAAG;AAC1B,aAAS,KAAK,IAAI,UAAU,CAAC;AAAA,EAC9B;AAEA,MAAI,UAAU;AAEb,UAAM,gBAAgB,cAAc;AAAA,MACnC,CAAC,MAAM,EAAE,OAAO,OAAO;AAAA,IACxB;AACA,QAAI,kBAAkB,IAAI;AACzB,oBAAc,OAAO,eAAe,CAAC;AAAA,IACtC;AAAA,EACD;AAEA,SAAO;AAAA,IACN,gBAAgB;AAAA,IAChB,kBAAkB,CAAC,GAAG,UAAU,GAAG,uBAAuB;AAAA,EAC3D;AACD;AAzGS;",
  "names": ["RenderLabel", "a"]
}
