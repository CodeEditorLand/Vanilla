{
  "version": 3,
  "sources": ["../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/contrib/notebook/common/notebookEditorInput.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as glob from '../../../../base/common/glob.js';\nimport { GroupIdentifier, ISaveOptions, IMoveResult, IRevertOptions, EditorInputCapabilities, Verbosity, IUntypedEditorInput, IFileLimitedEditorInputOptions } from '../../../common/editor.js';\nimport { EditorInput } from '../../../common/editor/editorInput.js';\nimport { INotebookService, SimpleNotebookProviderInfo } from './notebookService.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { isEqual, joinPath } from '../../../../base/common/resources.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { IFileDialogService } from '../../../../platform/dialogs/common/dialogs.js';\nimport { INotebookEditorModelResolverService } from './notebookEditorModelResolverService.js';\nimport { IDisposable, IReference } from '../../../../base/common/lifecycle.js';\nimport { CellEditType, IResolvedNotebookEditorModel } from './notebookCommon.js';\nimport { ILabelService } from '../../../../platform/label/common/label.js';\nimport { Schemas } from '../../../../base/common/network.js';\nimport { IFileService } from '../../../../platform/files/common/files.js';\nimport { AbstractResourceEditorInput } from '../../../common/editor/resourceEditorInput.js';\nimport { IResourceEditorInput } from '../../../../platform/editor/common/editor.js';\nimport { onUnexpectedError } from '../../../../base/common/errors.js';\nimport { VSBuffer } from '../../../../base/common/buffer.js';\nimport { IWorkingCopyIdentifier } from '../../../services/workingCopy/common/workingCopy.js';\nimport { NotebookProviderInfo } from './notebookProvider.js';\nimport { NotebookPerfMarks } from './notebookPerformance.js';\nimport { IFilesConfigurationService } from '../../../services/filesConfiguration/common/filesConfigurationService.js';\nimport { IExtensionService } from '../../../services/extensions/common/extensions.js';\nimport { localize } from '../../../../nls.js';\nimport { IEditorService } from '../../../services/editor/common/editorService.js';\nimport { IMarkdownString } from '../../../../base/common/htmlContent.js';\nimport { ITextResourceConfigurationService } from '../../../../editor/common/services/textResourceConfiguration.js';\nimport { ICustomEditorLabelService } from '../../../services/editor/common/customEditorLabelService.js';\n\nexport interface NotebookEditorInputOptions {\n\tstartDirty?: boolean;\n\t/**\n\t * backupId for webview\n\t */\n\t_backupId?: string;\n\t_workingCopy?: IWorkingCopyIdentifier;\n}\n\nexport class NotebookEditorInput extends AbstractResourceEditorInput {\n\n\tstatic getOrCreate(instantiationService: IInstantiationService, resource: URI, preferredResource: URI | undefined, viewType: string, options: NotebookEditorInputOptions = {}) {\n\t\tconst editor = instantiationService.createInstance(NotebookEditorInput, resource, preferredResource, viewType, options);\n\t\tif (preferredResource) {\n\t\t\teditor.setPreferredResource(preferredResource);\n\t\t}\n\t\treturn editor;\n\t}\n\n\tstatic readonly ID: string = 'workbench.input.notebook';\n\n\tprotected editorModelReference: IReference<IResolvedNotebookEditorModel> | null = null;\n\tprivate _sideLoadedListener: IDisposable;\n\tprivate _defaultDirtyState: boolean = false;\n\n\tconstructor(\n\t\tresource: URI,\n\t\tpreferredResource: URI | undefined,\n\t\tpublic readonly viewType: string,\n\t\tpublic readonly options: NotebookEditorInputOptions,\n\t\t@INotebookService private readonly _notebookService: INotebookService,\n\t\t@INotebookEditorModelResolverService private readonly _notebookModelResolverService: INotebookEditorModelResolverService,\n\t\t@IFileDialogService private readonly _fileDialogService: IFileDialogService,\n\t\t@ILabelService labelService: ILabelService,\n\t\t@IFileService fileService: IFileService,\n\t\t@IFilesConfigurationService filesConfigurationService: IFilesConfigurationService,\n\t\t@IExtensionService extensionService: IExtensionService,\n\t\t@IEditorService editorService: IEditorService,\n\t\t@ITextResourceConfigurationService textResourceConfigurationService: ITextResourceConfigurationService,\n\t\t@ICustomEditorLabelService customEditorLabelService: ICustomEditorLabelService\n\t) {\n\t\tsuper(resource, preferredResource, labelService, fileService, filesConfigurationService, textResourceConfigurationService, customEditorLabelService);\n\t\tthis._defaultDirtyState = !!options.startDirty;\n\n\t\t// Automatically resolve this input when the \"wanted\" model comes to life via\n\t\t// some other way. This happens only once per input and resolve disposes\n\t\t// this listener\n\t\tthis._sideLoadedListener = _notebookService.onDidAddNotebookDocument(e => {\n\t\t\tif (e.viewType === this.viewType && e.uri.toString() === this.resource.toString()) {\n\t\t\t\tthis.resolve().catch(onUnexpectedError);\n\t\t\t}\n\t\t});\n\n\t\tthis._register(extensionService.onWillStop(e => {\n\t\t\tif (!e.auto && !this.isDirty()) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst reason = e.auto\n\t\t\t\t? localize('vetoAutoExtHostRestart', \"One of the opened editors is a notebook editor.\")\n\t\t\t\t: localize('vetoExtHostRestart', \"Notebook '{0}' could not be saved.\", this.resource.path);\n\n\t\t\te.veto((async () => {\n\t\t\t\tconst editors = editorService.findEditors(this);\n\t\t\t\tif (e.auto) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\tif (editors.length > 0) {\n\t\t\t\t\tconst result = await editorService.save(editors[0]);\n\t\t\t\t\tif (result.success) {\n\t\t\t\t\t\treturn false; // Don't Veto\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn true; // Veto\n\t\t\t})(), reason);\n\t\t}));\n\t}\n\n\toverride dispose() {\n\t\tthis._sideLoadedListener.dispose();\n\t\tthis.editorModelReference?.dispose();\n\t\tthis.editorModelReference = null;\n\t\tsuper.dispose();\n\t}\n\n\toverride get typeId(): string {\n\t\treturn NotebookEditorInput.ID;\n\t}\n\n\toverride get editorId(): string | undefined {\n\t\treturn this.viewType;\n\t}\n\n\toverride get capabilities(): EditorInputCapabilities {\n\t\tlet capabilities = EditorInputCapabilities.None;\n\n\t\tif (this.resource.scheme === Schemas.untitled) {\n\t\t\tcapabilities |= EditorInputCapabilities.Untitled;\n\t\t}\n\n\t\tif (this.editorModelReference) {\n\t\t\tif (this.editorModelReference.object.isReadonly()) {\n\t\t\t\tcapabilities |= EditorInputCapabilities.Readonly;\n\t\t\t}\n\t\t} else {\n\t\t\tif (this.filesConfigurationService.isReadonly(this.resource)) {\n\t\t\t\tcapabilities |= EditorInputCapabilities.Readonly;\n\t\t\t}\n\t\t}\n\n\t\tif (!(capabilities & EditorInputCapabilities.Readonly)) {\n\t\t\tcapabilities |= EditorInputCapabilities.CanDropIntoEditor;\n\t\t}\n\n\t\treturn capabilities;\n\t}\n\n\toverride getDescription(verbosity = Verbosity.MEDIUM): string | undefined {\n\t\tif (!this.hasCapability(EditorInputCapabilities.Untitled) || this.editorModelReference?.object.hasAssociatedFilePath()) {\n\t\t\treturn super.getDescription(verbosity);\n\t\t}\n\n\t\treturn undefined; // no description for untitled notebooks without associated file path\n\t}\n\n\toverride isReadonly(): boolean | IMarkdownString {\n\t\tif (!this.editorModelReference) {\n\t\t\treturn this.filesConfigurationService.isReadonly(this.resource);\n\t\t}\n\t\treturn this.editorModelReference.object.isReadonly();\n\t}\n\n\toverride isDirty() {\n\t\tif (!this.editorModelReference) {\n\t\t\treturn this._defaultDirtyState;\n\t\t}\n\t\treturn this.editorModelReference.object.isDirty();\n\t}\n\n\toverride isSaving(): boolean {\n\t\tconst model = this.editorModelReference?.object;\n\t\tif (!model || !model.isDirty() || model.hasErrorState || this.hasCapability(EditorInputCapabilities.Untitled)) {\n\t\t\treturn false; // require the model to be dirty, file-backed and not in an error state\n\t\t}\n\n\t\t// if a short auto save is configured, treat this as being saved\n\t\treturn this.filesConfigurationService.hasShortAutoSaveDelay(this);\n\t}\n\n\toverride async save(group: GroupIdentifier, options?: ISaveOptions): Promise<EditorInput | IUntypedEditorInput | undefined> {\n\t\tif (this.editorModelReference) {\n\n\t\t\tif (this.hasCapability(EditorInputCapabilities.Untitled)) {\n\t\t\t\treturn this.saveAs(group, options);\n\t\t\t} else {\n\t\t\t\tawait this.editorModelReference.object.save(options);\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\treturn undefined;\n\t}\n\n\toverride async saveAs(group: GroupIdentifier, options?: ISaveOptions): Promise<IUntypedEditorInput | undefined> {\n\t\tif (!this.editorModelReference) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tconst provider = this._notebookService.getContributedNotebookType(this.viewType);\n\n\t\tif (!provider) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tconst pathCandidate = this.hasCapability(EditorInputCapabilities.Untitled) ? await this._suggestName(provider, this.labelService.getUriBasenameLabel(this.resource)) : this.editorModelReference.object.resource;\n\t\tlet target: URI | undefined;\n\t\tif (this.editorModelReference.object.hasAssociatedFilePath()) {\n\t\t\ttarget = pathCandidate;\n\t\t} else {\n\t\t\ttarget = await this._fileDialogService.pickFileToSave(pathCandidate, options?.availableFileSystems);\n\t\t\tif (!target) {\n\t\t\t\treturn undefined; // save cancelled\n\t\t\t}\n\t\t}\n\n\t\tif (!provider.matches(target)) {\n\t\t\tconst patterns = provider.selectors.map(pattern => {\n\t\t\t\tif (typeof pattern === 'string') {\n\t\t\t\t\treturn pattern;\n\t\t\t\t}\n\n\t\t\t\tif (glob.isRelativePattern(pattern)) {\n\t\t\t\t\treturn `${pattern} (base ${pattern.base})`;\n\t\t\t\t}\n\n\t\t\t\tif (pattern.exclude) {\n\t\t\t\t\treturn `${pattern.include} (exclude: ${pattern.exclude})`;\n\t\t\t\t} else {\n\t\t\t\t\treturn `${pattern.include}`;\n\t\t\t\t}\n\n\t\t\t}).join(', ');\n\t\t\tthrow new Error(`File name ${target} is not supported by ${provider.providerDisplayName}.\\n\\nPlease make sure the file name matches following patterns:\\n${patterns}`);\n\t\t}\n\n\t\treturn await this.editorModelReference.object.saveAs(target);\n\t}\n\n\tprivate async _suggestName(provider: NotebookProviderInfo, suggestedFilename: string) {\n\t\t// guess file extensions\n\t\tconst firstSelector = provider.selectors[0];\n\t\tlet selectorStr = firstSelector && typeof firstSelector === 'string' ? firstSelector : undefined;\n\t\tif (!selectorStr && firstSelector) {\n\t\t\tconst include = (firstSelector as { include?: string }).include;\n\t\t\tif (typeof include === 'string') {\n\t\t\t\tselectorStr = include;\n\t\t\t}\n\t\t}\n\n\t\tif (selectorStr) {\n\t\t\tconst matches = /^\\*\\.([A-Za-z_-]*)$/.exec(selectorStr);\n\t\t\tif (matches && matches.length > 1) {\n\t\t\t\tconst fileExt = matches[1];\n\t\t\t\tif (!suggestedFilename.endsWith(fileExt)) {\n\t\t\t\t\treturn joinPath(await this._fileDialogService.defaultFilePath(), suggestedFilename + '.' + fileExt);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn joinPath(await this._fileDialogService.defaultFilePath(), suggestedFilename);\n\t}\n\n\t// called when users rename a notebook document\n\toverride async rename(group: GroupIdentifier, target: URI): Promise<IMoveResult | undefined> {\n\t\tif (this.editorModelReference) {\n\t\t\treturn { editor: { resource: target }, options: { override: this.viewType } };\n\n\t\t}\n\t\treturn undefined;\n\t}\n\n\toverride async revert(_group: GroupIdentifier, options?: IRevertOptions): Promise<void> {\n\t\tif (this.editorModelReference && this.editorModelReference.object.isDirty()) {\n\t\t\tawait this.editorModelReference.object.revert(options);\n\t\t}\n\t}\n\n\toverride async resolve(_options?: IFileLimitedEditorInputOptions, perf?: NotebookPerfMarks): Promise<IResolvedNotebookEditorModel | null> {\n\t\tif (!await this._notebookService.canResolve(this.viewType)) {\n\t\t\treturn null;\n\t\t}\n\n\t\tperf?.mark('extensionActivated');\n\n\t\t// we are now loading the notebook and don't need to listen to\n\t\t// \"other\" loading anymore\n\t\tthis._sideLoadedListener.dispose();\n\n\t\tif (!this.editorModelReference) {\n\t\t\tconst scratchpad = this.capabilities & EditorInputCapabilities.Scratchpad ? true : false;\n\t\t\tconst ref = await this._notebookModelResolverService.resolve(this.resource, this.viewType, { limits: this.ensureLimits(_options), scratchpad });\n\t\t\tif (this.editorModelReference) {\n\t\t\t\t// Re-entrant, double resolve happened. Dispose the addition references and proceed\n\t\t\t\t// with the truth.\n\t\t\t\tref.dispose();\n\t\t\t\treturn (<IReference<IResolvedNotebookEditorModel>>this.editorModelReference).object;\n\t\t\t}\n\t\t\tthis.editorModelReference = ref;\n\t\t\tif (this.isDisposed()) {\n\t\t\t\tthis.editorModelReference.dispose();\n\t\t\t\tthis.editorModelReference = null;\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tthis._register(this.editorModelReference.object.onDidChangeDirty(() => this._onDidChangeDirty.fire()));\n\t\t\tthis._register(this.editorModelReference.object.onDidChangeReadonly(() => this._onDidChangeCapabilities.fire()));\n\t\t\tthis._register(this.editorModelReference.object.onDidRevertUntitled(() => this.dispose()));\n\t\t\tif (this.editorModelReference.object.isDirty()) {\n\t\t\t\tthis._onDidChangeDirty.fire();\n\t\t\t}\n\t\t} else {\n\t\t\tthis.editorModelReference.object.load({ limits: this.ensureLimits(_options) });\n\t\t}\n\n\t\tif (this.options._backupId) {\n\t\t\tconst info = await this._notebookService.withNotebookDataProvider(this.editorModelReference.object.notebook.viewType);\n\t\t\tif (!(info instanceof SimpleNotebookProviderInfo)) {\n\t\t\t\tthrow new Error('CANNOT open file notebook with this provider');\n\t\t\t}\n\n\t\t\tconst data = await info.serializer.dataToNotebook(VSBuffer.fromString(JSON.stringify({ __webview_backup: this.options._backupId })));\n\t\t\tthis.editorModelReference.object.notebook.applyEdits([\n\t\t\t\t{\n\t\t\t\t\teditType: CellEditType.Replace,\n\t\t\t\t\tindex: 0,\n\t\t\t\t\tcount: this.editorModelReference.object.notebook.length,\n\t\t\t\t\tcells: data.cells\n\t\t\t\t}\n\t\t\t], true, undefined, () => undefined, undefined, false);\n\n\t\t\tif (this.options._workingCopy) {\n\t\t\t\tthis.options._backupId = undefined;\n\t\t\t\tthis.options._workingCopy = undefined;\n\t\t\t\tthis.options.startDirty = undefined;\n\t\t\t}\n\t\t}\n\n\t\treturn this.editorModelReference.object;\n\t}\n\n\toverride toUntyped(): IResourceEditorInput {\n\t\treturn {\n\t\t\tresource: this.resource,\n\t\t\toptions: {\n\t\t\t\toverride: this.viewType\n\t\t\t}\n\t\t};\n\t}\n\n\toverride matches(otherInput: EditorInput | IUntypedEditorInput): boolean {\n\t\tif (super.matches(otherInput)) {\n\t\t\treturn true;\n\t\t}\n\t\tif (otherInput instanceof NotebookEditorInput) {\n\t\t\treturn this.editorId === otherInput.editorId && isEqual(this.resource, otherInput.resource);\n\t\t}\n\t\treturn false;\n\t}\n}\n\nexport interface ICompositeNotebookEditorInput {\n\treadonly editorInputs: NotebookEditorInput[];\n}\n\nexport function isCompositeNotebookEditorInput(thing: unknown): thing is ICompositeNotebookEditorInput {\n\treturn !!thing\n\t\t&& typeof thing === 'object'\n\t\t&& Array.isArray((<ICompositeNotebookEditorInput>thing).editorInputs)\n\t\t&& ((<ICompositeNotebookEditorInput>thing).editorInputs.every(input => input instanceof NotebookEditorInput));\n}\n\nexport function isNotebookEditorInput(thing: EditorInput | undefined): thing is NotebookEditorInput {\n\treturn !!thing\n\t\t&& typeof thing === 'object'\n\t\t&& thing.typeId === NotebookEditorInput.ID;\n}\n"],
  "mappings": "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",
  "names": []
}
