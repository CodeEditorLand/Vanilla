{
  "version": 3,
  "sources": ["../../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/contrib/notebook/common/services/notebookSimpleWorker.ts"],
  "sourcesContent": ["import type { VSBuffer } from \"../../../../../base/common/buffer.js\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport {\n\ttype ISequence,\n\tLcsDiff,\n} from \"../../../../../base/common/diff/diff.js\";\nimport { doHash, hash, numberHash } from \"../../../../../base/common/hash.js\";\nimport type { IDisposable } from \"../../../../../base/common/lifecycle.js\";\nimport { URI } from \"../../../../../base/common/uri.js\";\nimport type {\n\tIRequestHandler,\n\tIWorkerServer,\n} from \"../../../../../base/common/worker/simpleWorker.js\";\nimport { Range } from \"../../../../../editor/common/core/range.js\";\nimport { DefaultEndOfLine } from \"../../../../../editor/common/model.js\";\nimport type { IModelChangedEvent } from \"../../../../../editor/common/model/mirrorTextModel.js\";\nimport { PieceTreeTextBufferBuilder } from \"../../../../../editor/common/model/pieceTreeTextBuffer/pieceTreeTextBufferBuilder.js\";\nimport { SearchParams } from \"../../../../../editor/common/model/textModelSearch.js\";\nimport { MirrorModel } from \"../../../../../editor/common/services/textModelSync/textModelSync.impl.js\";\nimport {\n\tCellKind,\n\ttype ICellDto2,\n\ttype IMainCellDto,\n\ttype INotebookDiffResult,\n\ttype IOutputDto,\n\ttype NotebookCellInternalMetadata,\n\ttype NotebookCellMetadata,\n\ttype NotebookCellTextModelSplice,\n\tNotebookCellsChangeType,\n\ttype NotebookCellsChangedEventDto,\n\ttype NotebookDocumentMetadata,\n} from \"../notebookCommon.js\";\n\nfunction bufferHash(buffer: VSBuffer): number {\n\tlet initialHashVal = numberHash(104579, 0);\n\tfor (let k = 0; k < buffer.buffer.length; k++) {\n\t\tinitialHashVal = doHash(buffer.buffer[k], initialHashVal);\n\t}\n\n\treturn initialHashVal;\n}\n\nclass MirrorCell {\n\tprivate readonly textModel: MirrorModel;\n\tprivate _hash: number | null = null;\n\tpublic get eol() {\n\t\treturn this._eol === \"\\r\\n\"\n\t\t\t? DefaultEndOfLine.CRLF\n\t\t\t: DefaultEndOfLine.LF;\n\t}\n\tconstructor(\n\t\tpublic readonly handle: number,\n\t\turi: URI,\n\t\tsource: string[],\n\t\tprivate readonly _eol: string,\n\t\tversionId: number,\n\t\tpublic language: string,\n\t\tpublic cellKind: CellKind,\n\t\tpublic outputs: IOutputDto[],\n\t\tpublic metadata?: NotebookCellMetadata,\n\t\tpublic internalMetadata?: NotebookCellInternalMetadata,\n\t) {\n\t\tthis.textModel = new MirrorModel(uri, source, _eol, versionId);\n\t}\n\n\tonEvents(e: IModelChangedEvent) {\n\t\tthis.textModel.onEvents(e);\n\t\tthis._hash = null;\n\t}\n\tgetValue(): string {\n\t\treturn this.textModel.getValue();\n\t}\n\n\tgetComparisonValue(): number {\n\t\tthis._hash = hash([\n\t\t\thash(this.language),\n\t\t\thash(this.getValue()),\n\t\t\tthis.metadata,\n\t\t\tthis.internalMetadata,\n\t\t\tthis.outputs.map((op) => ({\n\t\t\t\toutputs: op.outputs.map((output) => ({\n\t\t\t\t\tmime: output.mime,\n\t\t\t\t\tdata: bufferHash(output.data),\n\t\t\t\t})),\n\t\t\t\tmetadata: op.metadata,\n\t\t\t})),\n\t\t]);\n\t\treturn this._hash;\n\t}\n}\n\nclass MirrorNotebookDocument {\n\tconstructor(\n\t\treadonly uri: URI,\n\t\tpublic cells: MirrorCell[],\n\t\tpublic metadata: NotebookDocumentMetadata,\n\t) {}\n\n\tacceptModelChanged(event: NotebookCellsChangedEventDto) {\n\t\t// note that the cell content change is not applied to the MirrorCell\n\t\t// but it's fine as if a cell content is modified after the first diff, its position will not change any more\n\t\t// TODO@rebornix, but it might lead to interesting bugs in the future.\n\t\tevent.rawEvents.forEach((e) => {\n\t\t\tif (e.kind === NotebookCellsChangeType.ModelChange) {\n\t\t\t\tthis._spliceNotebookCells(e.changes);\n\t\t\t} else if (e.kind === NotebookCellsChangeType.Move) {\n\t\t\t\tconst cells = this.cells.splice(e.index, 1);\n\t\t\t\tthis.cells.splice(e.newIdx, 0, ...cells);\n\t\t\t} else if (e.kind === NotebookCellsChangeType.Output) {\n\t\t\t\tconst cell = this.cells[e.index];\n\t\t\t\tcell.outputs = e.outputs;\n\t\t\t} else if (e.kind === NotebookCellsChangeType.ChangeCellLanguage) {\n\t\t\t\tthis._assertIndex(e.index);\n\t\t\t\tconst cell = this.cells[e.index];\n\t\t\t\tcell.language = e.language;\n\t\t\t} else if (e.kind === NotebookCellsChangeType.ChangeCellMetadata) {\n\t\t\t\tthis._assertIndex(e.index);\n\t\t\t\tconst cell = this.cells[e.index];\n\t\t\t\tcell.metadata = e.metadata;\n\t\t\t} else if (\n\t\t\t\te.kind === NotebookCellsChangeType.ChangeCellInternalMetadata\n\t\t\t) {\n\t\t\t\tthis._assertIndex(e.index);\n\t\t\t\tconst cell = this.cells[e.index];\n\t\t\t\tcell.internalMetadata = e.internalMetadata;\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate _assertIndex(index: number): void {\n\t\tif (index < 0 || index >= this.cells.length) {\n\t\t\tthrow new Error(\n\t\t\t\t`Illegal index ${index}. Cells length: ${this.cells.length}`,\n\t\t\t);\n\t\t}\n\t}\n\n\t_spliceNotebookCells(splices: NotebookCellTextModelSplice<IMainCellDto>[]) {\n\t\tsplices.reverse().forEach((splice) => {\n\t\t\tconst cellDtos = splice[2];\n\t\t\tconst newCells = cellDtos.map((cell) => {\n\t\t\t\treturn new MirrorCell(\n\t\t\t\t\tcell.handle,\n\t\t\t\t\tURI.parse(cell.url),\n\t\t\t\t\tcell.source,\n\t\t\t\t\tcell.eol,\n\t\t\t\t\tcell.versionId,\n\t\t\t\t\tcell.language,\n\t\t\t\t\tcell.cellKind,\n\t\t\t\t\tcell.outputs,\n\t\t\t\t\tcell.metadata,\n\t\t\t\t);\n\t\t\t});\n\n\t\t\tthis.cells.splice(splice[0], splice[1], ...newCells);\n\t\t});\n\t}\n}\n\nclass CellSequence implements ISequence {\n\tconstructor(readonly textModel: MirrorNotebookDocument) {}\n\n\tgetElements(): string[] | number[] | Int32Array {\n\t\tconst hashValue = new Int32Array(this.textModel.cells.length);\n\t\tfor (let i = 0; i < this.textModel.cells.length; i++) {\n\t\t\thashValue[i] = this.textModel.cells[i].getComparisonValue();\n\t\t}\n\n\t\treturn hashValue;\n\t}\n\n\tgetCellHash(cell: ICellDto2) {\n\t\tconst source = Array.isArray(cell.source)\n\t\t\t? cell.source.join(\"\\n\")\n\t\t\t: cell.source;\n\t\tconst hashVal = hash([hash(source), cell.metadata]);\n\t\treturn hashVal;\n\t}\n}\n\nexport class NotebookEditorSimpleWorker\n\timplements IRequestHandler, IDisposable\n{\n\t_requestHandlerBrand: any;\n\n\tprivate _models: { [uri: string]: MirrorNotebookDocument };\n\n\tconstructor() {\n\t\tthis._models = Object.create(null);\n\t}\n\tdispose(): void {}\n\n\tpublic $acceptNewModel(\n\t\turi: string,\n\t\tmetadata: NotebookDocumentMetadata,\n\t\tcells: IMainCellDto[],\n\t): void {\n\t\tthis._models[uri] = new MirrorNotebookDocument(\n\t\t\tURI.parse(uri),\n\t\t\tcells.map(\n\t\t\t\t(dto) =>\n\t\t\t\t\tnew MirrorCell(\n\t\t\t\t\t\tdto.handle,\n\t\t\t\t\t\tURI.parse(dto.url),\n\t\t\t\t\t\tdto.source,\n\t\t\t\t\t\tdto.eol,\n\t\t\t\t\t\tdto.versionId,\n\t\t\t\t\t\tdto.language,\n\t\t\t\t\t\tdto.cellKind,\n\t\t\t\t\t\tdto.outputs,\n\t\t\t\t\t\tdto.metadata,\n\t\t\t\t\t),\n\t\t\t),\n\t\t\tmetadata,\n\t\t);\n\t}\n\n\tpublic $acceptModelChanged(\n\t\tstrURL: string,\n\t\tevent: NotebookCellsChangedEventDto,\n\t) {\n\t\tconst model = this._models[strURL];\n\t\tmodel?.acceptModelChanged(event);\n\t}\n\n\tpublic $acceptCellModelChanged(\n\t\tstrURL: string,\n\t\thandle: number,\n\t\tevent: IModelChangedEvent,\n\t) {\n\t\tconst model = this._models[strURL];\n\t\tmodel.cells.find((cell) => cell.handle === handle)?.onEvents(event);\n\t}\n\n\tpublic $acceptRemovedModel(strURL: string): void {\n\t\tif (!this._models[strURL]) {\n\t\t\treturn;\n\t\t}\n\t\tdelete this._models[strURL];\n\t}\n\n\t$computeDiff(\n\t\toriginalUrl: string,\n\t\tmodifiedUrl: string,\n\t): INotebookDiffResult {\n\t\tconst original = this._getModel(originalUrl);\n\t\tconst modified = this._getModel(modifiedUrl);\n\n\t\tconst diff = new LcsDiff(\n\t\t\tnew CellSequence(original),\n\t\t\tnew CellSequence(modified),\n\t\t);\n\t\tconst diffResult = diff.ComputeDiff(false);\n\n\t\t/* let cellLineChanges: { originalCellhandle: number, modifiedCellhandle: number, lineChanges: ILineChange[] }[] = [];\n\n\t\tdiffResult.changes.forEach(change => {\n\t\t\tif (change.modifiedLength === 0) {\n\t\t\t\t// deletion ...\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (change.originalLength === 0) {\n\t\t\t\t// insertion\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tfor (let i = 0, len = Math.min(change.modifiedLength, change.originalLength); i < len; i++) {\n\t\t\t\tlet originalIndex = change.originalStart + i;\n\t\t\t\tlet modifiedIndex = change.modifiedStart + i;\n\n\t\t\t\tconst originalCell = original.cells[originalIndex];\n\t\t\t\tconst modifiedCell = modified.cells[modifiedIndex];\n\n\t\t\t\tif (originalCell.getValue() !== modifiedCell.getValue()) {\n\t\t\t\t\t// console.log(`original cell ${originalIndex} content change`);\n\t\t\t\t\tconst originalLines = originalCell.textBuffer.getLinesContent();\n\t\t\t\t\tconst modifiedLines = modifiedCell.textBuffer.getLinesContent();\n\t\t\t\t\tconst diffComputer = new DiffComputer(originalLines, modifiedLines, {\n\t\t\t\t\t\tshouldComputeCharChanges: true,\n\t\t\t\t\t\tshouldPostProcessCharChanges: true,\n\t\t\t\t\t\tshouldIgnoreTrimWhitespace: false,\n\t\t\t\t\t\tshouldMakePrettyDiff: true,\n\t\t\t\t\t\tmaxComputationTime: 5000\n\t\t\t\t\t});\n\n\t\t\t\t\tconst lineChanges = diffComputer.computeDiff().changes;\n\n\t\t\t\t\tcellLineChanges.push({\n\t\t\t\t\t\toriginalCellhandle: originalCell.handle,\n\t\t\t\t\t\tmodifiedCellhandle: modifiedCell.handle,\n\t\t\t\t\t\tlineChanges\n\t\t\t\t\t});\n\n\t\t\t\t\t// console.log(lineDecorations);\n\n\t\t\t\t} else {\n\t\t\t\t\t// console.log(`original cell ${originalIndex} metadata change`);\n\t\t\t\t}\n\n\t\t\t}\n\t\t});\n */\n\t\treturn {\n\t\t\tmetadataChanged:\n\t\t\t\tJSON.stringify(original.metadata) !==\n\t\t\t\tJSON.stringify(modified.metadata),\n\t\t\tcellsDiff: diffResult,\n\t\t\t// linesDiff: cellLineChanges\n\t\t};\n\t}\n\n\t$canPromptRecommendation(modelUrl: string): boolean {\n\t\tconst model = this._getModel(modelUrl);\n\t\tconst cells = model.cells;\n\n\t\tfor (let i = 0; i < cells.length; i++) {\n\t\t\tconst cell = cells[i];\n\t\t\tif (cell.cellKind === CellKind.Markup) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (cell.language !== \"python\") {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tconst searchParams = new SearchParams(\n\t\t\t\t\"import\\\\s*pandas|from\\\\s*pandas\",\n\t\t\t\ttrue,\n\t\t\t\tfalse,\n\t\t\t\tnull,\n\t\t\t);\n\t\t\tconst searchData = searchParams.parseSearchRequest();\n\n\t\t\tif (!searchData) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tconst builder = new PieceTreeTextBufferBuilder();\n\t\t\tbuilder.acceptChunk(cell.getValue());\n\t\t\tconst bufferFactory = builder.finish(true);\n\t\t\tconst textBuffer = bufferFactory.create(cell.eol).textBuffer;\n\n\t\t\tconst lineCount = textBuffer.getLineCount();\n\t\t\tconst maxLineCount = Math.min(lineCount, 20);\n\t\t\tconst range = new Range(\n\t\t\t\t1,\n\t\t\t\t1,\n\t\t\t\tmaxLineCount,\n\t\t\t\ttextBuffer.getLineLength(maxLineCount) + 1,\n\t\t\t);\n\t\t\tconst cellMatches = textBuffer.findMatchesLineByLine(\n\t\t\t\trange,\n\t\t\t\tsearchData,\n\t\t\t\ttrue,\n\t\t\t\t1,\n\t\t\t);\n\t\t\tif (cellMatches.length > 0) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tprotected _getModel(uri: string): MirrorNotebookDocument {\n\t\treturn this._models[uri];\n\t}\n}\n\n/**\n * Defines the worker entry point. Must be exported and named `create`.\n * @skipMangle\n */\nexport function create(workerServer: IWorkerServer): IRequestHandler {\n\treturn new NotebookEditorSimpleWorker();\n}\n"],
  "mappings": "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",
  "names": []
}
