import{assertSnapshot as l}from"../../../../../base/test/common/snapshot.js";import{ensureNoDisposablesAreLeakedInTestSuite as m}from"../../../../../base/test/common/utils.js";import{Position as c}from"../../../../../editor/common/core/position.js";import{Range as a}from"../../../../../editor/common/core/range.js";import"../../../../../editor/common/model.js";import{CoverageDetailsModel as s}from"../../browser/codeCoverageDecorations.js";import{DetailType as t}from"../../common/testTypes.js";suite("Code Coverage Decorations",()=>{m();const n={getValueInRange:()=>""},i=async o=>await l(o.ranges.map(e=>({range:e.range.toString(),count:e.metadata.detail.type===t.Branch?e.metadata.detail.detail.branches[e.metadata.detail.branch].count:e.metadata.detail.count})));test("CoverageDetailsModel#1",async()=>{const o=[{location:new a(1,0,5,0),type:t.Statement,count:1},{location:new a(2,0,3,0),type:t.Statement,count:2},{location:new a(4,0,6,0),type:t.Statement,branches:[{location:new a(3,0,7,0),count:3}],count:4}],e=new s(o,n);await i(e)}),test("CoverageDetailsModel#2",async()=>{const o=[{location:new a(1,0,5,0),type:t.Statement,count:1},{location:new a(2,0,4,0),type:t.Statement,count:2},{location:new a(3,0,3,5),type:t.Statement,count:3}],e=new s(o,n);await i(e)}),test("CoverageDetailsModel#3",async()=>{const o=[{location:new a(1,0,5,0),type:t.Statement,count:1},{location:new a(2,0,3,0),type:t.Statement,count:2},{location:new a(4,0,5,0),type:t.Statement,count:3}],e=new s(o,n);await i(e)}),test("CoverageDetailsModel#4",async()=>{const o=[{location:new a(1,0,5,0),type:t.Statement,count:1},{location:new c(2,0),type:t.Statement,count:2},{location:new a(4,0,5,0),type:t.Statement,count:3},{location:new c(4,3),type:t.Statement,count:4}],e=new s(o,n);await i(e)})});
