var X=class{unexpectedErrorHandler;listeners;constructor(){this.listeners=[],this.unexpectedErrorHandler=function(e){setTimeout(()=>{throw e.stack?G.isErrorNoTelemetry(e)?new G(e.message+`

`+e.stack):new Error(e.message+`

`+e.stack):e},0)}}addListener(e){return this.listeners.push(e),()=>{this._removeListener(e)}}emit(e){this.listeners.forEach(n=>{n(e)})}_removeListener(e){this.listeners.splice(this.listeners.indexOf(e),1)}setUnexpectedErrorHandler(e){this.unexpectedErrorHandler=e}getUnexpectedErrorHandler(){return this.unexpectedErrorHandler}onUnexpectedError(e){this.unexpectedErrorHandler(e),this.emit(e)}onUnexpectedExternalError(e){this.unexpectedErrorHandler(e)}},Xe=new X;var G=class t extends Error{name;constructor(e){super(e),this.name="CodeExpectedError"}static fromError(e){if(e instanceof t)return e;let n=new t;return n.message=e.message,n.stack=e.stack,n}static isErrorNoTelemetry(e){return e.name==="CodeExpectedError"}};function ee(t,e="Unreachable"){throw new Error(e)}function M(){return globalThis._VSCODE_NLS_LANGUAGE}var it=M()==="pseudo"||typeof document<"u"&&document.location&&document.location.hash.indexOf("pseudo=true")>=0;var B="en",K=!1,z=!1,d=!1,xe=!1,Ee=!1,ne=!1,pe=!1,Ae=!1,Ue=!1,be=!1,H,W=B,te=B,Re,L,y=globalThis,R;typeof y.vscode<"u"&&typeof y.vscode.process<"u"?R=y.vscode.process:typeof process<"u"&&typeof process?.versions?.node=="string"&&(R=process);var ie=typeof R?.versions?.electron=="string",Ie=ie&&R?.type==="renderer";if(typeof R=="object"){K=R.platform==="win32",z=R.platform==="darwin",d=R.platform==="linux",xe=d&&!!R.env.SNAP&&!!R.env.SNAP_REVISION,pe=ie,Ue=!!R.env.CI||!!R.env.BUILD_ARTIFACTSTAGINGDIRECTORY,H=B,W=B;let t=R.env.VSCODE_NLS_CONFIG;if(t)try{let e=JSON.parse(t);H=e.userLocale,te=e.osLocale,W=e.resolvedLanguage||B,Re=e.languagePack?.translationsConfigFile}catch{}Ee=!0}else typeof navigator=="object"&&!Ie?(L=navigator.userAgent,K=L.indexOf("Windows")>=0,z=L.indexOf("Macintosh")>=0,Ae=(L.indexOf("Macintosh")>=0||L.indexOf("iPad")>=0||L.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,d=L.indexOf("Linux")>=0,be=L?.indexOf("Mobi")>=0,ne=!0,W=M()||B,H=navigator.language.toLowerCase(),te=H):console.error("Unable to resolve platform.");var Y=0;z?Y=1:K?Y=3:d&&(Y=2);var P=K,se=z;var Te=ne&&typeof y.importScripts=="function",rt=Te?y.origin:void 0;var T=L,O=W,Le;(i=>{function t(){return O}i.value=t;function e(){return O.length===2?O==="en":O.length>=3?O[0]==="e"&&O[1]==="n"&&O[2]==="-":!1}i.isDefaultVariant=e;function n(){return O==="en"}i.isDefault=n})(Le||={});var ye=typeof y.postMessage=="function"&&!y.importScripts,ot=(()=>{if(ye){let t=[];y.addEventListener("message",n=>{if(n.data&&n.data.vscodeScheduleAsyncWork)for(let i=0,r=t.length;i<r;i++){let s=t[i];if(s.id===n.data.vscodeScheduleAsyncWork){t.splice(i,1),s.callback();return}}});let e=0;return n=>{let i=++e;t.push({id:i,callback:n}),y.postMessage({vscodeScheduleAsyncWork:i},"*")}}return t=>setTimeout(t)})();var Oe=!!(T&&T.indexOf("Chrome")>=0),lt=!!(T&&T.indexOf("Firefox")>=0),ct=!!(!Oe&&T&&T.indexOf("Safari")>=0),ut=!!(T&&T.indexOf("Edg/")>=0),ft=!!(T&&T.indexOf("Android")>=0);var N,Q=globalThis.vscode;if(typeof Q<"u"&&typeof Q.process<"u"){let t=Q.process;N={get platform(){return t.platform},get arch(){return t.arch},get env(){return t.env},cwd(){return t.cwd()}}}else typeof process<"u"&&typeof process?.versions?.node=="string"?N={get platform(){return process.platform},get arch(){return process.arch},get env(){return process.env},cwd(){return process.env.VSCODE_CWD||process.cwd()}}:N={get platform(){return P?"win32":se?"darwin":"linux"},get arch(){},get env(){return{}},cwd(){return"/"}};var $=N.cwd,re=N.env,oe=N.platform,at=N.arch;var De=65,we=97,ve=90,Pe=122,w=46,A=47,U=92,S=58,Ne=63,q=class extends Error{code;constructor(e,n,i){let r;typeof n=="string"&&n.indexOf("not ")===0?(r="must not be",n=n.replace(/^not /,"")):r="must be";let s=e.indexOf(".")!==-1?"property":"argument",o=`The "${e}" ${s} ${r} of type ${n}`;o+=`. Received type ${typeof i}`,super(o),this.code="ERR_INVALID_ARG_TYPE"}};function Fe(t,e){if(t===null||typeof t!="object")throw new q(e,"Object",t)}function x(t,e){if(typeof t!="string")throw new q(e,"string",t)}var b=oe==="win32";function _(t){return t===A||t===U}function Z(t){return t===A}function D(t){return t>=De&&t<=ve||t>=we&&t<=Pe}function V(t,e,n,i){let r="",s=0,o=-1,l=0,u=0;for(let c=0;c<=t.length;++c){if(c<t.length)u=t.charCodeAt(c);else{if(i(u))break;u=A}if(i(u)){if(!(o===c-1||l===1))if(l===2){if(r.length<2||s!==2||r.charCodeAt(r.length-1)!==w||r.charCodeAt(r.length-2)!==w){if(r.length>2){let g=r.lastIndexOf(n);g===-1?(r="",s=0):(r=r.slice(0,g),s=r.length-1-r.lastIndexOf(n)),o=c,l=0;continue}else if(r.length!==0){r="",s=0,o=c,l=0;continue}}e&&(r+=r.length>0?`${n}..`:"..",s=2)}else r.length>0?r+=`${n}${t.slice(o+1,c)}`:r=t.slice(o+1,c),s=c-o-1;o=c,l=0}else u===w&&l!==-1?++l:l=-1}return r}function ke(t){return t?`${t[0]==="."?"":"."}${t}`:""}function le(t,e){Fe(e,"pathObject");let n=e.dir||e.root,i=e.base||`${e.name||""}${ke(e.ext)}`;return n?n===e.root?`${n}${i}`:`${n}${t}${i}`:i}var E={resolve(...t){let e="",n="",i=!1;for(let r=t.length-1;r>=-1;r--){let s;if(r>=0){if(s=t[r],x(s,`paths[${r}]`),s.length===0)continue}else e.length===0?s=$():(s=re[`=${e}`]||$(),(s===void 0||s.slice(0,2).toLowerCase()!==e.toLowerCase()&&s.charCodeAt(2)===U)&&(s=`${e}\\`));let o=s.length,l=0,u="",c=!1,g=s.charCodeAt(0);if(o===1)_(g)&&(l=1,c=!0);else if(_(g))if(c=!0,_(s.charCodeAt(1))){let f=2,m=f;for(;f<o&&!_(s.charCodeAt(f));)f++;if(f<o&&f!==m){let k=s.slice(m,f);for(m=f;f<o&&_(s.charCodeAt(f));)f++;if(f<o&&f!==m){for(m=f;f<o&&!_(s.charCodeAt(f));)f++;(f===o||f!==m)&&(u=`\\\\${k}\\${s.slice(m,f)}`,l=f)}}}else l=1;else D(g)&&s.charCodeAt(1)===S&&(u=s.slice(0,2),l=2,o>2&&_(s.charCodeAt(2))&&(c=!0,l=3));if(u.length>0)if(e.length>0){if(u.toLowerCase()!==e.toLowerCase())continue}else e=u;if(i){if(e.length>0)break}else if(n=`${s.slice(l)}\\${n}`,i=c,c&&e.length>0)break}return n=V(n,!i,"\\",_),i?`${e}\\${n}`:`${e}${n}`||"."},normalize(t){x(t,"path");let e=t.length;if(e===0)return".";let n=0,i,r=!1,s=t.charCodeAt(0);if(e===1)return Z(s)?"\\":t;if(_(s))if(r=!0,_(t.charCodeAt(1))){let l=2,u=l;for(;l<e&&!_(t.charCodeAt(l));)l++;if(l<e&&l!==u){let c=t.slice(u,l);for(u=l;l<e&&_(t.charCodeAt(l));)l++;if(l<e&&l!==u){for(u=l;l<e&&!_(t.charCodeAt(l));)l++;if(l===e)return`\\\\${c}\\${t.slice(u)}\\`;l!==u&&(i=`\\\\${c}\\${t.slice(u,l)}`,n=l)}}}else n=1;else D(s)&&t.charCodeAt(1)===S&&(i=t.slice(0,2),n=2,e>2&&_(t.charCodeAt(2))&&(r=!0,n=3));let o=n<e?V(t.slice(n),!r,"\\",_):"";return o.length===0&&!r&&(o="."),o.length>0&&_(t.charCodeAt(e-1))&&(o+="\\"),i===void 0?r?`\\${o}`:o:r?`${i}\\${o}`:`${i}${o}`},isAbsolute(t){x(t,"path");let e=t.length;if(e===0)return!1;let n=t.charCodeAt(0);return _(n)||e>2&&D(n)&&t.charCodeAt(1)===S&&_(t.charCodeAt(2))},join(...t){if(t.length===0)return".";let e,n;for(let s=0;s<t.length;++s){let o=t[s];x(o,"path"),o.length>0&&(e===void 0?e=n=o:e+=`\\${o}`)}if(e===void 0)return".";let i=!0,r=0;if(typeof n=="string"&&_(n.charCodeAt(0))){++r;let s=n.length;s>1&&_(n.charCodeAt(1))&&(++r,s>2&&(_(n.charCodeAt(2))?++r:i=!1))}if(i){for(;r<e.length&&_(e.charCodeAt(r));)r++;r>=2&&(e=`\\${e.slice(r)}`)}return E.normalize(e)},relative(t,e){if(x(t,"from"),x(e,"to"),t===e)return"";let n=E.resolve(t),i=E.resolve(e);if(n===i||(t=n.toLowerCase(),e=i.toLowerCase(),t===e))return"";let r=0;for(;r<t.length&&t.charCodeAt(r)===U;)r++;let s=t.length;for(;s-1>r&&t.charCodeAt(s-1)===U;)s--;let o=s-r,l=0;for(;l<e.length&&e.charCodeAt(l)===U;)l++;let u=e.length;for(;u-1>l&&e.charCodeAt(u-1)===U;)u--;let c=u-l,g=o<c?o:c,f=-1,m=0;for(;m<g;m++){let C=t.charCodeAt(r+m);if(C!==e.charCodeAt(l+m))break;C===U&&(f=m)}if(m!==g){if(f===-1)return i}else{if(c>g){if(e.charCodeAt(l+m)===U)return i.slice(l+m+1);if(m===2)return i.slice(l+m)}o>g&&(t.charCodeAt(r+m)===U?f=m:m===2&&(f=3)),f===-1&&(f=0)}let k="";for(m=r+f+1;m<=s;++m)(m===s||t.charCodeAt(m)===U)&&(k+=k.length===0?"..":"\\..");return l+=f,k.length>0?`${k}${i.slice(l,u)}`:(i.charCodeAt(l)===U&&++l,i.slice(l,u))},toNamespacedPath(t){if(typeof t!="string"||t.length===0)return t;let e=E.resolve(t);if(e.length<=2)return t;if(e.charCodeAt(0)===U){if(e.charCodeAt(1)===U){let n=e.charCodeAt(2);if(n!==Ne&&n!==w)return`\\\\?\\UNC\\${e.slice(2)}`}}else if(D(e.charCodeAt(0))&&e.charCodeAt(1)===S&&e.charCodeAt(2)===U)return`\\\\?\\${e}`;return t},dirname(t){x(t,"path");let e=t.length;if(e===0)return".";let n=-1,i=0,r=t.charCodeAt(0);if(e===1)return _(r)?t:".";if(_(r)){if(n=i=1,_(t.charCodeAt(1))){let l=2,u=l;for(;l<e&&!_(t.charCodeAt(l));)l++;if(l<e&&l!==u){for(u=l;l<e&&_(t.charCodeAt(l));)l++;if(l<e&&l!==u){for(u=l;l<e&&!_(t.charCodeAt(l));)l++;if(l===e)return t;l!==u&&(n=i=l+1)}}}}else D(r)&&t.charCodeAt(1)===S&&(n=e>2&&_(t.charCodeAt(2))?3:2,i=n);let s=-1,o=!0;for(let l=e-1;l>=i;--l)if(_(t.charCodeAt(l))){if(!o){s=l;break}}else o=!1;if(s===-1){if(n===-1)return".";s=n}return t.slice(0,s)},basename(t,e){e!==void 0&&x(e,"suffix"),x(t,"path");let n=0,i=-1,r=!0,s;if(t.length>=2&&D(t.charCodeAt(0))&&t.charCodeAt(1)===S&&(n=2),e!==void 0&&e.length>0&&e.length<=t.length){if(e===t)return"";let o=e.length-1,l=-1;for(s=t.length-1;s>=n;--s){let u=t.charCodeAt(s);if(_(u)){if(!r){n=s+1;break}}else l===-1&&(r=!1,l=s+1),o>=0&&(u===e.charCodeAt(o)?--o===-1&&(i=s):(o=-1,i=l))}return n===i?i=l:i===-1&&(i=t.length),t.slice(n,i)}for(s=t.length-1;s>=n;--s)if(_(t.charCodeAt(s))){if(!r){n=s+1;break}}else i===-1&&(r=!1,i=s+1);return i===-1?"":t.slice(n,i)},extname(t){x(t,"path");let e=0,n=-1,i=0,r=-1,s=!0,o=0;t.length>=2&&t.charCodeAt(1)===S&&D(t.charCodeAt(0))&&(e=i=2);for(let l=t.length-1;l>=e;--l){let u=t.charCodeAt(l);if(_(u)){if(!s){i=l+1;break}continue}r===-1&&(s=!1,r=l+1),u===w?n===-1?n=l:o!==1&&(o=1):n!==-1&&(o=-1)}return n===-1||r===-1||o===0||o===1&&n===r-1&&n===i+1?"":t.slice(n,r)},format:le.bind(null,"\\"),parse(t){x(t,"path");let e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;let n=t.length,i=0,r=t.charCodeAt(0);if(n===1)return _(r)?(e.root=e.dir=t,e):(e.base=e.name=t,e);if(_(r)){if(i=1,_(t.charCodeAt(1))){let f=2,m=f;for(;f<n&&!_(t.charCodeAt(f));)f++;if(f<n&&f!==m){for(m=f;f<n&&_(t.charCodeAt(f));)f++;if(f<n&&f!==m){for(m=f;f<n&&!_(t.charCodeAt(f));)f++;f===n?i=f:f!==m&&(i=f+1)}}}}else if(D(r)&&t.charCodeAt(1)===S){if(n<=2)return e.root=e.dir=t,e;if(i=2,_(t.charCodeAt(2))){if(n===3)return e.root=e.dir=t,e;i=3}}i>0&&(e.root=t.slice(0,i));let s=-1,o=i,l=-1,u=!0,c=t.length-1,g=0;for(;c>=i;--c){if(r=t.charCodeAt(c),_(r)){if(!u){o=c+1;break}continue}l===-1&&(u=!1,l=c+1),r===w?s===-1?s=c:g!==1&&(g=1):s!==-1&&(g=-1)}return l!==-1&&(s===-1||g===0||g===1&&s===l-1&&s===o+1?e.base=e.name=t.slice(o,l):(e.name=t.slice(o,s),e.base=t.slice(o,l),e.ext=t.slice(s,l))),o>0&&o!==i?e.dir=t.slice(0,o-1):e.dir=e.root,e},sep:"\\",delimiter:";",win32:null,posix:null},Be=(()=>{if(b){let t=/\\/g;return()=>{let e=$().replace(t,"/");return e.slice(e.indexOf("/"))}}return()=>$()})(),p={resolve(...t){let e="",n=!1;for(let i=t.length-1;i>=-1&&!n;i--){let r=i>=0?t[i]:Be();x(r,`paths[${i}]`),r.length!==0&&(e=`${r}/${e}`,n=r.charCodeAt(0)===A)}return e=V(e,!n,"/",Z),n?`/${e}`:e.length>0?e:"."},normalize(t){if(x(t,"path"),t.length===0)return".";let e=t.charCodeAt(0)===A,n=t.charCodeAt(t.length-1)===A;return t=V(t,!e,"/",Z),t.length===0?e?"/":n?"./":".":(n&&(t+="/"),e?`/${t}`:t)},isAbsolute(t){return x(t,"path"),t.length>0&&t.charCodeAt(0)===A},join(...t){if(t.length===0)return".";let e;for(let n=0;n<t.length;++n){let i=t[n];x(i,"path"),i.length>0&&(e===void 0?e=i:e+=`/${i}`)}return e===void 0?".":p.normalize(e)},relative(t,e){if(x(t,"from"),x(e,"to"),t===e||(t=p.resolve(t),e=p.resolve(e),t===e))return"";let n=1,i=t.length,r=i-n,s=1,o=e.length-s,l=r<o?r:o,u=-1,c=0;for(;c<l;c++){let f=t.charCodeAt(n+c);if(f!==e.charCodeAt(s+c))break;f===A&&(u=c)}if(c===l)if(o>l){if(e.charCodeAt(s+c)===A)return e.slice(s+c+1);if(c===0)return e.slice(s+c)}else r>l&&(t.charCodeAt(n+c)===A?u=c:c===0&&(u=0));let g="";for(c=n+u+1;c<=i;++c)(c===i||t.charCodeAt(c)===A)&&(g+=g.length===0?"..":"/..");return`${g}${e.slice(s+u)}`},toNamespacedPath(t){return t},dirname(t){if(x(t,"path"),t.length===0)return".";let e=t.charCodeAt(0)===A,n=-1,i=!0;for(let r=t.length-1;r>=1;--r)if(t.charCodeAt(r)===A){if(!i){n=r;break}}else i=!1;return n===-1?e?"/":".":e&&n===1?"//":t.slice(0,n)},basename(t,e){e!==void 0&&x(e,"ext"),x(t,"path");let n=0,i=-1,r=!0,s;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e===t)return"";let o=e.length-1,l=-1;for(s=t.length-1;s>=0;--s){let u=t.charCodeAt(s);if(u===A){if(!r){n=s+1;break}}else l===-1&&(r=!1,l=s+1),o>=0&&(u===e.charCodeAt(o)?--o===-1&&(i=s):(o=-1,i=l))}return n===i?i=l:i===-1&&(i=t.length),t.slice(n,i)}for(s=t.length-1;s>=0;--s)if(t.charCodeAt(s)===A){if(!r){n=s+1;break}}else i===-1&&(r=!1,i=s+1);return i===-1?"":t.slice(n,i)},extname(t){x(t,"path");let e=-1,n=0,i=-1,r=!0,s=0;for(let o=t.length-1;o>=0;--o){let l=t.charCodeAt(o);if(l===A){if(!r){n=o+1;break}continue}i===-1&&(r=!1,i=o+1),l===w?e===-1?e=o:s!==1&&(s=1):e!==-1&&(s=-1)}return e===-1||i===-1||s===0||s===1&&e===i-1&&e===n+1?"":t.slice(e,i)},format:le.bind(null,"/"),parse(t){x(t,"path");let e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;let n=t.charCodeAt(0)===A,i;n?(e.root="/",i=1):i=0;let r=-1,s=0,o=-1,l=!0,u=t.length-1,c=0;for(;u>=i;--u){let g=t.charCodeAt(u);if(g===A){if(!l){s=u+1;break}continue}o===-1&&(l=!1,o=u+1),g===w?r===-1?r=u:c!==1&&(c=1):r!==-1&&(c=-1)}if(o!==-1){let g=s===0&&n?1:s;r===-1||c===0||c===1&&r===o-1&&r===s+1?e.base=e.name=t.slice(g,o):(e.name=t.slice(g,r),e.base=t.slice(g,o),e.ext=t.slice(r,o))}return s>0?e.dir=t.slice(0,s-1):n&&(e.dir="/"),e},sep:"/",delimiter:":",win32:null,posix:null};p.win32=E.win32=E;p.posix=E.posix=p;var xt=b?E.normalize:p.normalize,Et=b?E.isAbsolute:p.isAbsolute,pt=b?E.join:p.join,At=b?E.resolve:p.resolve,Ut=b?E.relative:p.relative,bt=b?E.dirname:p.dirname,Rt=b?E.basename:p.basename,It=b?E.extname:p.extname,Tt=b?E.format:p.format,Lt=b?E.parse:p.parse,yt=b?E.toNamespacedPath:p.toNamespacedPath,Ot=b?E.sep:p.sep,St=b?E.delimiter:p.delimiter;var $e=/^\w[\w\d+.-]*$/,Ge=/^\//,He=/^\/\//;function de(t,e){if(!t.scheme&&e)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${t.authority}", path: "${t.path}", query: "${t.query}", fragment: "${t.fragment}"}`);if(t.scheme&&!$e.test(t.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(t.path){if(t.authority){if(!Ge.test(t.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(He.test(t.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function We(t,e){return!t&&!e?"file":t}function Ke(t,e){switch(t){case"https":case"http":case"file":e?e[0]!==I&&(e=I+e):e=I;break}return e}var a="",I="/",ze=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,F=class t{static isUri(e){return e instanceof t?!0:e?typeof e.authority=="string"&&typeof e.fragment=="string"&&typeof e.path=="string"&&typeof e.query=="string"&&typeof e.scheme=="string"&&typeof e.fsPath=="string"&&typeof e.with=="function"&&typeof e.toString=="function":!1}scheme;authority;path;query;fragment;constructor(e,n,i,r,s,o=!1){typeof e=="object"?(this.scheme=e.scheme||a,this.authority=e.authority||a,this.path=e.path||a,this.query=e.query||a,this.fragment=e.fragment||a):(this.scheme=We(e,o),this.authority=n||a,this.path=Ke(this.scheme,i||a),this.query=r||a,this.fragment=s||a,de(this,o))}get fsPath(){return J(this,!1)}with(e){if(!e)return this;let{scheme:n,authority:i,path:r,query:s,fragment:o}=e;return n===void 0?n=this.scheme:n===null&&(n=a),i===void 0?i=this.authority:i===null&&(i=a),r===void 0?r=this.path:r===null&&(r=a),s===void 0?s=this.query:s===null&&(s=a),o===void 0?o=this.fragment:o===null&&(o=a),n===this.scheme&&i===this.authority&&r===this.path&&s===this.query&&o===this.fragment?this:new v(n,i,r,s,o)}static parse(e,n=!1){let i=ze.exec(e);return i?new v(i[2]||a,j(i[4]||a),j(i[5]||a),j(i[7]||a),j(i[9]||a),n):new v(a,a,a,a,a)}static file(e){let n=a;if(P&&(e=e.replace(/\\/g,I)),e[0]===I&&e[1]===I){let i=e.indexOf(I,2);i===-1?(n=e.substring(2),e=I):(n=e.substring(2,i),e=e.substring(i)||I)}return new v("file",n,e,a,a)}static from(e,n){return new v(e.scheme,e.authority,e.path,e.query,e.fragment,n)}static joinPath(e,...n){if(!e.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let i;return P&&e.scheme==="file"?i=t.file(E.join(J(e,!0),...n)).path:i=p.join(e.path,...n),e.with({path:i})}toString(e=!1){return h(this,e)}toJSON(){return this}static revive(e){if(e){if(e instanceof t)return e;{let n=new v(e);return n._formatted=e.external??null,n._fsPath=e._sep===fe?e.fsPath??null:null,n}}else return e}[Symbol.for("debug.description")](){return`URI(${this.toString()})`}};var fe=P?1:void 0,v=class extends F{_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=J(this,!1)),this._fsPath}toString(e=!1){return e?h(this,!0):(this._formatted||(this._formatted=h(this,!1)),this._formatted)}toJSON(){let e={$mid:1};return this._fsPath&&(e.fsPath=this._fsPath,e._sep=fe),this._formatted&&(e.external=this._formatted),this.path&&(e.path=this.path),this.scheme&&(e.scheme=this.scheme),this.authority&&(e.authority=this.authority),this.query&&(e.query=this.query),this.fragment&&(e.fragment=this.fragment),e}},_e={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function ce(t,e,n){let i,r=-1;for(let s=0;s<t.length;s++){let o=t.charCodeAt(s);if(o>=97&&o<=122||o>=65&&o<=90||o>=48&&o<=57||o===45||o===46||o===95||o===126||e&&o===47||n&&o===91||n&&o===93||n&&o===58)r!==-1&&(i+=encodeURIComponent(t.substring(r,s)),r=-1),i!==void 0&&(i+=t.charAt(s));else{i===void 0&&(i=t.substr(0,s));let l=_e[o];l!==void 0?(r!==-1&&(i+=encodeURIComponent(t.substring(r,s)),r=-1),i+=l):r===-1&&(r=s)}}return r!==-1&&(i+=encodeURIComponent(t.substring(r))),i!==void 0?i:t}function qe(t){let e;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i===35||i===63?(e===void 0&&(e=t.substr(0,n)),e+=_e[i]):e!==void 0&&(e+=t[n])}return e!==void 0?e:t}function J(t,e){let n;return t.authority&&t.path.length>1&&t.scheme==="file"?n=`//${t.authority}${t.path}`:t.path.charCodeAt(0)===47&&(t.path.charCodeAt(1)>=65&&t.path.charCodeAt(1)<=90||t.path.charCodeAt(1)>=97&&t.path.charCodeAt(1)<=122)&&t.path.charCodeAt(2)===58?e?n=t.path.substr(1):n=t.path[1].toLowerCase()+t.path.substr(2):n=t.path,P&&(n=n.replace(/\//g,"\\")),n}function h(t,e){let n=e?qe:ce,i="",{scheme:r,authority:s,path:o,query:l,fragment:u}=t;if(r&&(i+=r,i+=":"),(s||r==="file")&&(i+=I,i+=I),s){let c=s.indexOf("@");if(c!==-1){let g=s.substr(0,c);s=s.substr(c+1),c=g.lastIndexOf(":"),c===-1?i+=n(g,!1,!1):(i+=n(g.substr(0,c),!1,!1),i+=":",i+=n(g.substr(c+1),!1,!0)),i+="@"}s=s.toLowerCase(),c=s.lastIndexOf(":"),c===-1?i+=n(s,!1,!0):(i+=n(s.substr(0,c),!1,!0),i+=s.substr(c))}if(o){if(o.length>=3&&o.charCodeAt(0)===47&&o.charCodeAt(2)===58){let c=o.charCodeAt(1);c>=65&&c<=90&&(o=`/${String.fromCharCode(c+32)}:${o.substr(3)}`)}else if(o.length>=2&&o.charCodeAt(1)===58){let c=o.charCodeAt(0);c>=65&&c<=90&&(o=`${String.fromCharCode(c+32)}:${o.substr(2)}`)}i+=n(o,!0,!1)}return l&&(i+="?",i+=n(l,!1,!1)),u&&(i+="#",i+=e?u:ce(u,!1,!1)),i}function ge(t){try{return decodeURIComponent(t)}catch{return t.length>3?t.substr(0,3)+ge(t.substr(3)):t}}var ue=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function j(t){return t.match(ue)?t.replace(ue,e=>ge(e)):t}var Ve="vscode-test-data",je=(s=>(s[s.TaskOutput=0]="TaskOutput",s[s.TestOutput=1]="TestOutput",s[s.ResultMessage=2]="ResultMessage",s[s.ResultActualOutput=3]="ResultActualOutput",s[s.ResultExpectedOutput=4]="ResultExpectedOutput",s))(je||{});var Mt=t=>{let e=t.authority,[n,...i]=t.path.slice(1).split("/");if(i[0]==="message"){let r=Number(i[1]),s=t.query,o=Number(i[2]),l=i[3];if(e==="results")switch(l){case"TestFailureMessage":return{resultId:n,taskIndex:r,testExtId:s,messageIndex:o,type:2};case"ActualOutput":return{resultId:n,taskIndex:r,testExtId:s,messageIndex:o,type:3};case"ExpectedOutput":return{resultId:n,taskIndex:r,testExtId:s,messageIndex:o,type:4};case"message":}}if(i[0]==="output"){let r=t.query,s=Number(i[1]);return r?{resultId:n,taskIndex:s,testExtId:r,type:1}:{resultId:n,taskIndex:s,type:0}}},$t=t=>{let e={scheme:Ve,authority:"results"};if(t.type===0)return F.from({...e,path:["",t.resultId,"output",t.taskIndex].join("/")});let n=(i,...r)=>F.from({...e,query:t.testExtId,path:["",i,"message",...r].join("/")});switch(t.type){case 3:return n(t.resultId,t.taskIndex,t.messageIndex,"ActualOutput");case 4:return n(t.resultId,t.taskIndex,t.messageIndex,"ExpectedOutput");case 2:return n(t.resultId,t.taskIndex,t.messageIndex,"TestFailureMessage");case 1:return F.from({...e,query:t.testExtId,path:["",t.resultId,"output",t.taskIndex].join("/")});default:ee(t,"Invalid test uri")}};export{Ve as TEST_DATA_SCHEME,je as TestUriType,$t as buildTestUri,Mt as parseTestUri};
