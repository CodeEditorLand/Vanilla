var pe=Object.defineProperty;var me=Object.getOwnPropertyDescriptor;var x=(a,o,e,t)=>{for(var i=t>1?void 0:t?me(o,e):o,r=a.length-1,s;r>=0;r--)(s=a[r])&&(i=(t?s(o,e,i):s(i))||i);return t&&i&&pe(o,e,i),i},n=(a,o)=>(e,t)=>o(e,t,a);import*as ge from"../../../../../vs/base/browser/dom.js";import{alert as fe}from"../../../../../vs/base/browser/ui/aria/aria.js";import"../../../../../vs/base/common/actions.js";import{Codicon as k}from"../../../../../vs/base/common/codicons.js";import{Color as G}from"../../../../../vs/base/common/color.js";import{Emitter as he,Event as J}from"../../../../../vs/base/common/event.js";import{stripIcons as ve}from"../../../../../vs/base/common/iconLabels.js";import{Iterable as Ie}from"../../../../../vs/base/common/iterator.js";import{KeyCode as T,KeyMod as E}from"../../../../../vs/base/common/keyCodes.js";import{Lazy as Se}from"../../../../../vs/base/common/lazy.js";import{Disposable as Q,MutableDisposable as ye}from"../../../../../vs/base/common/lifecycle.js";import{count as be}from"../../../../../vs/base/common/strings.js";import"../../../../../vs/base/common/uri.js";import{isCodeEditor as H}from"../../../../../vs/editor/browser/editorBrowser.js";import{EditorAction2 as xe}from"../../../../../vs/editor/browser/editorExtensions.js";import{ICodeEditorService as S}from"../../../../../vs/editor/browser/services/codeEditorService.js";import{EmbeddedCodeEditorWidget as ke}from"../../../../../vs/editor/browser/widget/codeEditor/embeddedCodeEditorWidget.js";import{EmbeddedDiffEditorWidget as Ce}from"../../../../../vs/editor/browser/widget/diffEditor/embeddedDiffEditorWidget.js";import{EditorOption as Te}from"../../../../../vs/editor/common/config/editorOptions.js";import"../../../../../vs/editor/common/core/position.js";import{Range as Ee}from"../../../../../vs/editor/common/core/range.js";import{ScrollType as we}from"../../../../../vs/editor/common/editorCommon.js";import{EditorContextKeys as Pe}from"../../../../../vs/editor/common/editorContextKeys.js";import{ITextModelService as Me}from"../../../../../vs/editor/common/services/resolverService.js";import{IPeekViewService as Re,peekViewTitleForeground as Ue,peekViewTitleInfoForeground as Ve,PeekViewWidget as Fe}from"../../../../../vs/editor/contrib/peekView/browser/peekView.js";import{localize as X,localize2 as m}from"../../../../../vs/nls.js";import{Categories as w}from"../../../../../vs/platform/action/common/actionCommonCategories.js";import{createAndFillInActionBarActions as Y}from"../../../../../vs/platform/actions/browser/menuEntryActionViewItem.js";import{Action2 as P,IMenuService as Oe,MenuId as v}from"../../../../../vs/platform/actions/common/actions.js";import{ICommandService as De}from"../../../../../vs/platform/commands/common/commands.js";import{IConfigurationService as Z}from"../../../../../vs/platform/configuration/common/configuration.js";import{ContextKeyExpr as K,IContextKeyService as M}from"../../../../../vs/platform/contextkey/common/contextkey.js";import{IContextMenuService as Ae}from"../../../../../vs/platform/contextview/browser/contextView.js";import{TextEditorSelectionRevealType as Be}from"../../../../../vs/platform/editor/common/editor.js";import{IHoverService as Le}from"../../../../../vs/platform/hover/browser/hover.js";import{IInstantiationService as _}from"../../../../../vs/platform/instantiation/common/instantiation.js";import{ServiceCollection as He}from"../../../../../vs/platform/instantiation/common/serviceCollection.js";import{IKeybindingService as Ke}from"../../../../../vs/platform/keybinding/common/keybinding.js";import{KeybindingWeight as R}from"../../../../../vs/platform/keybinding/common/keybindingsRegistry.js";import{INotificationService as _e}from"../../../../../vs/platform/notification/common/notification.js";import{IOpenerService as We}from"../../../../../vs/platform/opener/common/opener.js";import{IStorageService as Ne,StorageScope as je,StorageTarget as qe}from"../../../../../vs/platform/storage/common/storage.js";import{ITelemetryService as ze}from"../../../../../vs/platform/telemetry/common/telemetry.js";import{editorBackground as Ge}from"../../../../../vs/platform/theme/common/colorRegistry.js";import{IThemeService as $}from"../../../../../vs/platform/theme/common/themeService.js";import{IUriIdentityService as Je}from"../../../../../vs/platform/uriIdentity/common/uriIdentity.js";import{ViewPane as Qe}from"../../../../../vs/workbench/browser/parts/views/viewPane.js";import{IViewDescriptorService as Xe}from"../../../../../vs/workbench/common/views.js";import{renderTestMessageAsText as ee}from"../../../../../vs/workbench/contrib/testing/browser/testMessageColorizer.js";import{mapFindTestMessage as W,MessageSubject as g,TaskSubject as I,TestOutputSubject as y}from"../../../../../vs/workbench/contrib/testing/browser/testResultsView/testResultsSubject.js";import{TestResultsViewContent as te}from"../../../../../vs/workbench/contrib/testing/browser/testResultsView/testResultsViewContent.js";import{testingMessagePeekBorder as Ye,testingPeekBorder as Ze,testingPeekHeaderBackground as $e,testingPeekMessageHeaderBackground as et}from"../../../../../vs/workbench/contrib/testing/browser/theme.js";import{AutoOpenPeekViewWhen as ie,getTestingConfiguration as re,TestingConfigKeys as oe}from"../../../../../vs/workbench/contrib/testing/common/configuration.js";import{Testing as U}from"../../../../../vs/workbench/contrib/testing/common/constants.js";import{MutableObservableValue as tt,staticObservableValue as it}from"../../../../../vs/workbench/contrib/testing/common/observableValue.js";import{StoredValue as rt}from"../../../../../vs/workbench/contrib/testing/common/storedValue.js";import{TestingContextKeys as b}from"../../../../../vs/workbench/contrib/testing/common/testingContextKeys.js";import{ITestingPeekOpener as N}from"../../../../../vs/workbench/contrib/testing/common/testingPeekOpener.js";import{isFailedState as ot}from"../../../../../vs/workbench/contrib/testing/common/testingStates.js";import{buildTestUri as V,parseTestUri as se,TestUriType as f}from"../../../../../vs/workbench/contrib/testing/common/testingUri.js";import{resultItemParents as st,TestResultItemChangeReason as ne}from"../../../../../vs/workbench/contrib/testing/common/testResult.js";import{ITestResultService as j}from"../../../../../vs/workbench/contrib/testing/common/testResultService.js";import{ITestService as nt}from"../../../../../vs/workbench/contrib/testing/common/testService.js";import{ITestMessage as at,TestMessageType as q}from"../../../../../vs/workbench/contrib/testing/common/testTypes.js";import{IEditorService as dt}from"../../../../../vs/workbench/services/editor/common/editorService.js";import{IViewsService as ct}from"../../../../../vs/workbench/services/views/common/viewsService.js";function*ae(a){for(const o of a)for(const e of o.tests)for(let t=0;t<e.tasks.length;t++)for(let i=0;i<e.tasks[t].messages.length;i++)yield{result:o,test:e,taskIndex:t,messageIndex:i}}let F=class extends Q{constructor(e,t,i,r,s,c,d,u,p){super();this.configuration=e;this.editorService=t;this.codeEditorService=i;this.testResults=r;this.testService=s;this.storageService=c;this.viewsService=d;this.commandService=u;this.notificationService=p;this._register(r.onTestChanged(this.openPeekOnFailure,this))}lastUri;historyVisible=this._register(tt.stored(new rt({key:"testHistoryVisibleInPeek",scope:je.PROFILE,target:qe.USER},this.storageService),!1));async open(){let e;const t=this.editorService.activeTextEditorControl;if(H(t)&&t.getModel()?.uri){const i=t.getModel()?.uri;i&&(e=await this.getFileCandidateMessage(i,t.getPosition()))}return e||(e=this.lastUri),e||(e=this.getAnyCandidateMessage()),e?this.showPeekFromUri(e):!1}tryPeekFirstError(e,t,i){const r=this.getFailedCandidateMessage(t);return r?(this.showPeekFromUri({type:f.ResultMessage,documentUri:r.location.uri,taskIndex:r.taskId,messageIndex:r.index,resultId:e.id,testExtId:t.item.extId},void 0,{selection:r.location.range,selectionRevealType:Be.NearTopIfOutsideViewport,...i}),!0):!1}peekUri(e,t={}){const i=se(e),r=i&&this.testResults.getResult(i.resultId);if(!i||!r||!("testExtId"in i)||!("messageIndex"in i))return!1;const s=r.getStateById(i.testExtId)?.tasks[i.taskIndex].messages[i.messageIndex];return s?.location?(this.showPeekFromUri({type:f.ResultMessage,documentUri:s.location.uri,taskIndex:i.taskIndex,messageIndex:i.messageIndex,resultId:r.id,testExtId:i.testExtId},t.inEditor,{selection:s.location.range,...t.options}),!0):!1}closeAllPeeks(){for(const e of this.codeEditorService.listCodeEditors())l.get(e)?.removePeek()}openCurrentInEditor(){const e=this.getActiveControl();if(!e)return;const t={pinned:!1,revealIfOpened:!0};if(e instanceof I||e instanceof y){this.editorService.openEditor({resource:e.outputUri,options:t});return}if(e instanceof y){this.editorService.openEditor({resource:e.outputUri,options:t});return}const i=e.message;e.isDiffable?this.editorService.openEditor({original:{resource:e.expectedUri},modified:{resource:e.actualUri},options:t}):typeof i.message=="string"?this.editorService.openEditor({resource:e.messageUri,options:t}):this.commandService.executeCommand("markdown.showPreview",e.messageUri).catch(r=>{this.notificationService.error(X("testing.markdownPeekError",`Could not open markdown preview: {0}.

Please make sure the markdown extension is enabled.`,r.message))})}getActiveControl(){const e=A(this.codeEditorService);return(e&&l.get(e))?.subject??this.viewsService.getActiveViewWithId(U.ResultsViewId)?.subject}async showPeekFromUri(e,t,i){if(H(t))return this.lastUri=e,l.get(t)?.show(V(this.lastUri)),!0;const s=(await this.editorService.openEditor({resource:e.documentUri,options:{revealIfOpened:!0,...i}}))?.getControl();return H(s)?(this.lastUri=e,l.get(s)?.show(V(this.lastUri)),!0):!1}openPeekOnFailure(e){if(e.reason!==ne.OwnStateChange||!this.getFailedCandidateMessage(e.item)||e.result.request.continuous&&!re(this.configuration,oe.AutoOpenPeekViewDuringContinuousRun))return;const i=this.codeEditorService.listCodeEditors();switch(re(this.configuration,oe.AutoOpenPeekView)){case ie.FailureVisible:{const c=new Set(i.map(d=>d.getModel()?.uri.toString()));if(!Ie.some(st(e.result,e.item),d=>d.item.uri&&c.has(d.item.uri.toString())))return;break}case ie.FailureAnywhere:break;default:return}i.map(l.get).some(c=>c?.subject)||this.tryPeekFirstError(e.result,e.item)}async getFileCandidateMessage(e,t){let i,r=1/0;const s=e.toString();for(const c of this.testService.collection.all){const d=this.testResults.getStateById(c.item.extId);d&&W(d[1],(u,p,C,B)=>{if(p.type!==q.Error||!p.location||p.location.uri.toString()!==s)return;const L=t?Math.abs(t.lineNumber-p.location.range.startLineNumber):0;(!i||L<=r)&&(r=L,i={type:f.ResultMessage,testExtId:d[1].item.extId,resultId:d[0].id,taskIndex:B,messageIndex:C,documentUri:e})})}return i}getAnyCandidateMessage(){const e=new Set;for(const t of this.testResults.results)for(const i of t.tests){if(e.has(i.item.extId))continue;e.add(i.item.extId);const r=W(i,(s,c,d,u)=>c.location&&{type:f.ResultMessage,testExtId:i.item.extId,resultId:t.id,taskIndex:u,messageIndex:d,documentUri:c.location.uri});if(r)return r}}getFailedCandidateMessage(e){const t=e.item.uri&&e.item.range?{uri:e.item.uri,range:e.item.range}:void 0;let i;return W(e,(r,s,c,d)=>{const u=s.location||t;!ot(r.state)||!u||i&&s.type!==q.Error||(i={taskId:d,index:c,message:s,location:u})}),i}};F=x([n(0,Z),n(1,dt),n(2,S),n(3,j),n(4,nt),n(5,Ne),n(6,ct),n(7,De),n(8,_e)],F);let l=class extends Q{constructor(e,t,i,r,s){super();this.editor=e;this.codeEditorService=t;this.instantiationService=i;this.testResults=r;this.visible=b.isPeekVisible.bindTo(s),this._register(e.onDidChangeModel(()=>this.peek.clear())),this._register(r.onResultsChanged(this.closePeekOnCertainResultEvents,this)),this._register(r.onTestChanged(this.closePeekOnTestChange,this))}static get(e){return e.getContribution(U.OutputPeekContributionId)}peek=this._register(new ye);visible;get subject(){return this.peek.value?.current}async show(e){const t=this.retrieveTest(e);t&&this.showSubject(t)}async showSubject(e){this.peek.value||(this.peek.value=this.instantiationService.createInstance(h,this.editor),this.peek.value.onDidClose(()=>{this.visible.set(!1),this.peek.value=void 0}),this.visible.set(!0),this.peek.value.create()),e instanceof g&&fe(ee(e.message.message)),this.peek.value.setModel(e)}async openAndShow(e){const t=this.retrieveTest(e);if(!t)return;if(!t.revealLocation||t.revealLocation.uri.toString()===this.editor.getModel()?.uri.toString())return this.show(e);const i=await this.codeEditorService.openCodeEditor({resource:t.revealLocation.uri,options:{pinned:!1,revealIfOpened:!0}},this.editor);if(i)return l.get(i)?.removePeek(),l.get(i)?.show(e)}removePeek(){this.peek.clear()}next(){const e=this.peek.value?.current;if(!e)return;let t=!1;for(const{messageIndex:i,taskIndex:r,result:s,test:c}of ae(this.testResults.results)){if(e instanceof I&&s.id===e.result.id&&(t=!0),t){this.openAndShow(V({type:f.ResultMessage,messageIndex:i,taskIndex:r,resultId:s.id,testExtId:c.item.extId}));return}e instanceof y&&e.test.item.extId===c.item.extId&&e.taskIndex===r&&e.result.id===s.id&&(t=!0),e instanceof g&&e.test.extId===c.item.extId&&e.messageIndex===i&&e.taskIndex===r&&e.result.id===s.id&&(t=!0)}}previous(){const e=this.peek.value?.current;if(!e)return;let t;for(const i of ae(this.testResults.results)){if(e instanceof I){if(i.result.id===e.result.id)break;continue}if(e instanceof y){if(i.test.item.extId===e.test.item.extId&&i.result.id===e.result.id&&i.taskIndex===e.taskIndex)break;continue}if(e.test.extId===i.test.item.extId&&e.messageIndex===i.messageIndex&&e.taskIndex===i.taskIndex&&e.result.id===i.result.id)break;t=i}t&&this.openAndShow(V({type:f.ResultMessage,messageIndex:t.messageIndex,taskIndex:t.taskIndex,resultId:t.result.id,testExtId:t.test.item.extId}))}removeIfPeekingForTest(e){const t=this.peek.value?.current;t&&t instanceof g&&t.test.extId===e&&this.peek.clear()}closePeekOnTestChange(e){e.reason!==ne.OwnStateChange||e.previousState===e.item.ownComputedState||this.removeIfPeekingForTest(e.item.item.extId)}closePeekOnCertainResultEvents(e){"started"in e&&this.peek.clear(),"removed"in e&&this.testResults.results.length===0&&this.peek.clear()}retrieveTest(e){const t=se(e);if(!t)return;const i=this.testResults.results.find(u=>u.id===t.resultId);if(!i)return;if(t.type===f.TaskOutput)return new I(i,t.taskIndex);if(t.type===f.TestOutput){const u=i.getStateById(t.testExtId);return u?new y(i,t.taskIndex,u):void 0}const{testExtId:r,taskIndex:s,messageIndex:c}=t,d=i?.getStateById(r);if(!(!d||!d.tasks[t.taskIndex]))return new g(i,d,s,c)}};l=x([n(1,S),n(2,_),n(3,j),n(4,M)],l);let h=class extends Fe{constructor(e,t,i,r,s,c,d,u,p,C){super(e,{showFrame:!0,frameWidth:1,showArrow:!0,isResizeable:!0,isAccessible:!0,className:"test-output-peek"},d);this.themeService=t;this.testingPeek=r;this.contextKeyService=s;this.menuService=c;this.modelService=u;this.codeEditorService=p;this.uriIdentityService=C;this._disposables.add(t.onDidColorThemeChange(this.applyTheme,this)),this._disposables.add(this.onDidClose(()=>this.visibilityChange.fire(!1))),i.addExclusiveWidget(e,this)}static lastHeightInLines;visibilityChange=this._disposables.add(new he);content;scopedContextKeyService;dimension;current;applyTheme(){const e=this.themeService.getColorTheme(),t=this.current instanceof g&&this.current.message.type===q.Error,i=(t?e.getColor(Ze):e.getColor(Ye))||G.transparent,r=(t?e.getColor($e):e.getColor(et))||G.transparent,s=e.getColor(Ge);this.style({arrowColor:i,frameColor:i,headerBackgroundColor:s&&r?r.makeOpaque(s):r,primaryHeadingColor:e.getColor(Ue),secondaryHeadingColor:e.getColor(Ve)})}_fillContainer(e){if(!this.scopedContextKeyService){this.scopedContextKeyService=this._disposables.add(this.contextKeyService.createScoped(e)),b.isInPeek.bindTo(this.scopedContextKeyService).set(!0);const t=this._disposables.add(this.instantiationService.createChild(new He([M,this.scopedContextKeyService])));this.content=this._disposables.add(t.createInstance(te,this.editor,{historyVisible:this.testingPeek.historyVisible,showRevealLocationOnMessages:!1,locationForProgress:U.ResultsViewId})),this._disposables.add(this.content.onClose(()=>{l.get(this.editor)?.removePeek()}))}super._fillContainer(e)}_fillHead(e){super._fillHead(e);const t=this.menuService.createMenu(v.TestPeekTitle,this.contextKeyService),i=this._actionbarWidget;this._disposables.add(t.onDidChange(()=>{for(r.length=0,Y(t,void 0,r);i.getAction(1);)i.pull(0);i.push(r,{label:!1,icon:!0,index:0})}));const r=[];Y(t,void 0,r),i.push(r,{label:!1,icon:!0,index:0})}_fillBody(e){this.content.fillBody(e),this._disposables.add(this.content.onDidRequestReveal(t=>{l.get(this.editor)?.show(t instanceof g?t.messageUri:t.outputUri)}))}setModel(e){if(e instanceof I||e instanceof y)return this.current=e,this.showInPlace(e);const t=e.message,i=this.current,r=e.revealLocation?.range.getStartPosition();if(!r&&!i)return Promise.resolve();if(this.current=e,!r)return this.showInPlace(e);const s=h.lastHeightInLines||Math.max(e instanceof g&&e.stack?.length?Math.ceil(this.getVisibleEditorLines()/2):0,lt(t));return this.show(r,s),this.editor.revealRangeNearTopIfOutsideViewport(Ee.fromPositions(r),we.Smooth),this.showInPlace(e)}getVisibleEditorLines(){return Math.round(this.editor.getDomNode().clientHeight/this.editor.getOption(Te.lineHeight))}async showInPlace(e){if(e instanceof g){const t=e.message;this.setTitle(ut(ee(t.message)),ve(e.test.label))}else this.setTitle(X("testOutputTitle","Test Output"));this.applyTheme(),await this.content.reveal({subject:e,preserveFocus:!1})}_relayout(e){super._relayout(e),h.lastHeightInLines=e}_doLayoutBody(e,t){super._doLayoutBody(e,t),this.content.onLayoutBody(e,t)}_onWidth(e){super._onWidth(e),this.dimension&&(this.dimension=new ge.Dimension(e,this.dimension.height)),this.content.onWidth(e)}};h=x([n(1,$),n(2,Re),n(3,N),n(4,M),n(5,Oe),n(6,_),n(7,Me),n(8,S),n(9,Je)],h);let O=class extends Qe{constructor(e,t,i,r,s,c,d,u,p,C,B,L){super(e,t,i,r,s,c,d,u,p,C,B);this.resultService=L}content=new Se(()=>this._register(this.instantiationService.createInstance(te,void 0,{historyVisible:it(!0),showRevealLocationOnMessages:!0,locationForProgress:U.ExplorerViewId})));get subject(){return this.content.rawValue?.current}showLatestRun(e=!1){const t=this.resultService.results.find(i=>i.tasks.length);t&&this.content.rawValue?.reveal({preserveFocus:e,subject:new I(t,0)})}renderBody(e){super.renderBody(e),this.isBodyVisible()?this.renderContent(e):this._register(J.once(J.filter(this.onDidChangeBodyVisibility,Boolean))(()=>this.renderContent(e)))}layoutBody(e,t){super.layoutBody(e,t),this.content.rawValue?.onLayoutBody(e,t)}renderContent(e){const t=this.content.value;t.fillBody(e),this._register(t.onDidRequestReveal(r=>t.reveal({preserveFocus:!0,subject:r})));const[i]=this.resultService.results;i&&i.tasks.length&&t.reveal({preserveFocus:!0,subject:new I(i,0)})}};O=x([n(1,Ke),n(2,Ae),n(3,Z),n(4,M),n(5,Xe),n(6,_),n(7,We),n(8,$),n(9,ze),n(10,Le),n(11,j)],O);const lt=a=>(at.isDiffable(a)?Math.max(z(a.actual),z(a.expected)):z(typeof a.message=="string"?a.message:a.message.value))+8,ut=a=>{const o=a.indexOf(`
`);return o===-1?a:a.slice(0,o)},z=a=>Math.min(be(a,`
`),24);function pt(a){const o=a.listDiffEditors();for(const e of o)if(e.hasTextFocus()&&e instanceof Ce)return e.getParentEditor();return null}class ji extends xe{constructor(){super({id:"editor.closeTestPeek",title:m("close","Close"),icon:k.close,precondition:K.or(b.isInPeek,b.isPeekVisible),keybinding:{weight:R.EditorContrib-101,primary:T.Escape,when:K.not("config.editor.stablePeek")}})}runEditorCommand(o,e){const t=A(o.get(S));l.get(t??e)?.removePeek()}}const D=K.and(Pe.focus,b.isPeekVisible),A=a=>{const o=a.getFocusedCodeEditor()||a.getActiveCodeEditor();return o&&mt(a,o)},mt=(a,o)=>{if(l.get(o)?.subject)return o;if(o instanceof ke)return o.getParentEditor();const e=pt(a);return e||o};class de extends P{static ID="testing.goToNextMessage";constructor(){super({id:de.ID,f1:!0,title:m("testing.goToNextMessage","Go to Next Test Failure"),metadata:{description:m("testing.goToNextMessage.description","Shows the next failure message in your file")},icon:k.arrowDown,category:w.Test,keybinding:{primary:E.Alt|T.F8,weight:R.EditorContrib+1,when:D},menu:[{id:v.TestPeekTitle,group:"navigation",order:2},{id:v.CommandPalette,when:D}]})}run(o){const e=A(o.get(S));e&&l.get(e)?.next()}}class ce extends P{static ID="testing.goToPreviousMessage";constructor(){super({id:ce.ID,f1:!0,title:m("testing.goToPreviousMessage","Go to Previous Test Failure"),metadata:{description:m("testing.goToPreviousMessage.description","Shows the previous failure message in your file")},icon:k.arrowUp,category:w.Test,keybinding:{primary:E.Shift|E.Alt|T.F8,weight:R.EditorContrib+1,when:D},menu:[{id:v.TestPeekTitle,group:"navigation",order:1},{id:v.CommandPalette,when:D}]})}run(o){const e=A(o.get(S));e&&l.get(e)?.previous()}}class le extends P{static ID="testing.openMessageInEditor";constructor(){super({id:le.ID,f1:!1,title:m("testing.openMessageInEditor","Open in Editor"),icon:k.goToFile,category:w.Test,menu:[{id:v.TestPeekTitle}]})}run(o){o.get(N).openCurrentInEditor()}}class ue extends P{static ID="testing.toggleTestingPeekHistory";constructor(){super({id:ue.ID,f1:!0,title:m("testing.toggleTestingPeekHistory","Toggle Test History in Peek"),metadata:{description:m("testing.toggleTestingPeekHistory.description","Shows or hides the history of test runs in the peek view")},icon:k.history,category:w.Test,menu:[{id:v.TestPeekTitle,group:"navigation",order:3}],keybinding:{weight:R.WorkbenchContrib,primary:E.Alt|T.KeyH,when:b.isPeekVisible.isEqualTo(!0)}})}run(o){const e=o.get(N);e.historyVisible.value=!e.historyVisible.value}}export{ji as CloseTestPeek,de as GoToNextMessageAction,ce as GoToPreviousMessageAction,le as OpenMessageInEditorAction,O as TestResultsView,l as TestingOutputPeekController,F as TestingPeekOpener,ue as ToggleTestingPeekHistory};
