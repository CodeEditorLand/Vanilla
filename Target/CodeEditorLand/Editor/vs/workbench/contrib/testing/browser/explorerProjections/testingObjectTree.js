var Kb=Object.defineProperty;var zb=Object.getOwnPropertyDescriptor;var he=(n,e,t,i)=>{for(var o=i>1?void 0:i?zb(e,t):e,r=n.length-1,s;r>=0;r--)(s=n[r])&&(o=(i?s(e,t,o):s(o))||o);return i&&o&&Kb(e,t,o),o},xe=(n,e)=>(t,i)=>e(t,i,n);function Zh(n,e){let t=n;typeof t.vscodeWindowId!="number"&&Object.defineProperty(t,"vscodeWindowId",{get:()=>e})}var Ye=window;var xd=class{unexpectedErrorHandler;listeners;constructor(){this.listeners=[],this.unexpectedErrorHandler=function(e){setTimeout(()=>{throw e.stack?Ws.isErrorNoTelemetry(e)?new Ws(e.message+`

`+e.stack):new Error(e.message+`

`+e.stack):e},0)}}addListener(e){return this.listeners.push(e),()=>{this._removeListener(e)}}emit(e){this.listeners.forEach(t=>{t(e)})}_removeListener(e){this.listeners.splice(this.listeners.indexOf(e),1)}setUnexpectedErrorHandler(e){this.unexpectedErrorHandler=e}getUnexpectedErrorHandler(){return this.unexpectedErrorHandler}onUnexpectedError(e){this.unexpectedErrorHandler(e),this.emit(e)}onUnexpectedExternalError(e){this.unexpectedErrorHandler(e)}},ep=new xd;function Mo(n){ep.onUnexpectedError(n)}function Lt(n){wd(n)||ep.onUnexpectedError(n)}var Sd="Canceled";function wd(n){return n instanceof wn?!0:n instanceof Error&&n.name===Sd&&n.message===Sd}var wn=class extends Error{constructor(){super(Sd),this.name=this.message}};function $s(n){return n?new Error(`Illegal argument: ${n}`):new Error("Illegal argument")}function tp(n){return n?new Error(`Illegal state: ${n}`):new Error("Illegal state")}var Ws=class n extends Error{name;constructor(e){super(e),this.name="CodeExpectedError"}static fromError(e){if(e instanceof n)return e;let t=new n;return t.message=e.message,t.stack=e.stack,t}static isErrorNoTelemetry(e){return e.name==="CodeExpectedError"}},on=class n extends Error{constructor(e){super(e||"An unexpected bug occurred."),Object.setPrototypeOf(this,n.prototype)}};function At(n,e=0){return n[n.length-(1+e)]}function ip(n){if(n.length===0)throw new Error("Invalid tail call");return[n.slice(0,n.length-1),n[n.length-1]]}function rn(n,e,t=(i,o)=>i===o){if(n===e)return!0;if(!n||!e||n.length!==e.length)return!1;for(let i=0,o=n.length;i<o;i++)if(!t(n[i],e[i]))return!1;return!0}function op(n,e,t){return Vb(n.length,i=>t(n[i],e))}function Vb(n,e){let t=0,i=n-1;for(;t<=i;){let o=(t+i)/2|0,r=e(o);if(r<0)t=o+1;else if(r>0)i=o-1;else return o}return-(t+1)}function Qi(n,e=t=>t){let t=new Set;return n.filter(i=>{let o=e(i);return t.has(o)?!1:(t.add(o),!0)})}function nt(n,e){let t=typeof e=="number"?n:0;typeof e=="number"?t=n:(t=0,e=n);let i=[];if(t<=e)for(let o=t;o<e;o++)i.push(o);else for(let o=t;o>e;o--)i.push(o);return i}function qs(n,e){let t=n.indexOf(e);t>-1&&(n.splice(t,1),n.unshift(e))}function Cr(n,e){let t=n.indexOf(e);t>-1&&(n.splice(t,1),n.push(e))}function Wb(n,e,t){let i=rp(n,e),o=n.length,r=t.length;n.length=o+r;for(let s=o-1;s>=i;s--)n[s+r]=n[s];for(let s=0;s<r;s++)n[s+i]=t[s]}function Ed(n,e,t,i){let o=rp(n,e),r=n.splice(o,t);return r===void 0&&(r=[]),Wb(n,o,i),r}function rp(n,e){return e<0?Math.max(e+n.length,0):Math.min(e,n.length)}var sp;(a=>{function n(l){return l<0}a.isLessThan=n;function e(l){return l<=0}a.isLessThanOrEqual=e;function t(l){return l>0}a.isGreaterThan=t;function i(l){return l===0}a.isNeitherLessOrGreaterThan=i,a.greaterThan=1,a.lessThan=-1,a.neitherLessOrGreaterThan=0})(sp||={});var np=class n{constructor(e){this.iterate=e}static empty=new n(e=>{});forEach(e){this.iterate(t=>(e(t),!0))}toArray(){let e=[];return this.iterate(t=>(e.push(t),!0)),e}filter(e){return new n(t=>this.iterate(i=>e(i)?t(i):!0))}map(e){return new n(t=>this.iterate(i=>t(e(i))))}some(e){let t=!1;return this.iterate(i=>(t=e(i),!t)),t}findFirst(e){let t;return this.iterate(i=>e(i)?(t=i,!1):!0),t}findLast(e){let t;return this.iterate(i=>(e(i)&&(t=i),!0)),t}findLastMaxBy(e){let t,i=!0;return this.iterate(o=>((i||sp.isGreaterThan(e(o,t)))&&(i=!1,t=o),!0)),t}};function Dd(){return globalThis._VSCODE_NLS_MESSAGES}function _r(){return globalThis._VSCODE_NLS_LANGUAGE}var $b=_r()==="pseudo"||typeof document<"u"&&document.location&&document.location.hash.indexOf("pseudo=true")>=0;function js(n,e){let t;return e.length===0?t=n:t=n.replace(/\{(\d+)\}/g,(i,o)=>{let r=o[0],s=e[r],a=i;return typeof s=="string"?a=s:(typeof s=="number"||typeof s=="boolean"||s===void 0||s===null)&&(a=String(s)),a}),$b&&(t="\uFF3B"+t.replace(/[aouei]/g,"$&$&")+"\uFF3D"),t}function p(n,e,...t){return js(typeof n=="number"?ap(n,e):e,t)}function ap(n,e){let t=Dd()?.[n];if(typeof t!="string"){if(typeof e=="string")return e;throw new Error(`!!! NLS MISSING: ${n} !!!`)}return t}function Zi(n,e,...t){let i;typeof n=="number"?i=ap(n,e):i=e;let o=js(i,t);return{value:o,original:e===i?o:js(e,t)}}var Ro="en",Lr=!1,Ar=!1,kr=!1,qb=!1,dp=!1,_d=!1,Gb=!1,kd=!1,jb=!1,cp=!1,Ys,Xs=Ro,lp=Ro,Yb,qn,Gn=globalThis,Kt;typeof Gn.vscode<"u"&&typeof Gn.vscode.process<"u"?Kt=Gn.vscode.process:typeof process<"u"&&typeof process?.versions?.node=="string"&&(Kt=process);var up=typeof Kt?.versions?.electron=="string",Xb=up&&Kt?.type==="renderer";if(typeof Kt=="object"){Lr=Kt.platform==="win32",Ar=Kt.platform==="darwin",kr=Kt.platform==="linux",qb=kr&&!!Kt.env.SNAP&&!!Kt.env.SNAP_REVISION,Gb=up,jb=!!Kt.env.CI||!!Kt.env.BUILD_ARTIFACTSTAGINGDIRECTORY,Ys=Ro,Xs=Ro;let n=Kt.env.VSCODE_NLS_CONFIG;if(n)try{let e=JSON.parse(n);Ys=e.userLocale,lp=e.osLocale,Xs=e.resolvedLanguage||Ro,Yb=e.languagePack?.translationsConfigFile}catch{}dp=!0}else typeof navigator=="object"&&!Xb?(qn=navigator.userAgent,Lr=qn.indexOf("Windows")>=0,Ar=qn.indexOf("Macintosh")>=0,kd=(qn.indexOf("Macintosh")>=0||qn.indexOf("iPad")>=0||qn.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,kr=qn.indexOf("Linux")>=0,cp=qn?.indexOf("Mobi")>=0,_d=!0,Xs=_r()||Ro,Ys=navigator.language.toLowerCase(),lp=Ys):console.error("Unable to resolve platform.");var Cd=0;Ar?Cd=1:Lr?Cd=3:kr&&(Cd=2);var rt=Lr,Ee=Ar,sn=kr;var Oo=dp;var gi=_d,Jb=_d&&typeof Gn.importScripts=="function",hp=Jb?Gn.origin:void 0,Js=kd,pp=cp;var En=qn,fi=Xs,Qb;(i=>{function n(){return fi}i.value=n;function e(){return fi.length===2?fi==="en":fi.length>=3?fi[0]==="e"&&fi[1]==="n"&&fi[2]==="-":!1}i.isDefaultVariant=e;function t(){return fi==="en"}i.isDefault=t})(Qb||={});var Zb=typeof Gn.postMessage=="function"&&!Gn.importScripts,mp=(()=>{if(Zb){let n=[];Gn.addEventListener("message",t=>{if(t.data&&t.data.vscodeScheduleAsyncWork)for(let i=0,o=n.length;i<o;i++){let r=n[i];if(r.id===t.data.vscodeScheduleAsyncWork){n.splice(i,1),r.callback();return}}});let e=0;return t=>{let i=++e;n.push({id:i,callback:t}),Gn.postMessage({vscodeScheduleAsyncWork:i},"*")}}return n=>setTimeout(n)})();var Fo=Ar||kd?2:Lr?1:3;var Ld=!!(En&&En.indexOf("Chrome")>=0),fp=!!(En&&En.indexOf("Firefox")>=0),gp=!!(!Ld&&En&&En.indexOf("Safari")>=0),bp=!!(En&&En.indexOf("Edg/")>=0),YI=!!(En&&En.indexOf("Android")>=0);var eo,Ad=globalThis.vscode;if(typeof Ad<"u"&&typeof Ad.process<"u"){let n=Ad.process;eo={get platform(){return n.platform},get arch(){return n.arch},get env(){return n.env},cwd(){return n.cwd()}}}else typeof process<"u"&&typeof process?.versions?.node=="string"?eo={get platform(){return process.platform},get arch(){return process.arch},get env(){return process.env},cwd(){return process.env.VSCODE_CWD||process.cwd()}}:eo={get platform(){return rt?"win32":Ee?"darwin":"linux"},get arch(){},get env(){return{}},cwd(){return"/"}};var Nr=eo.cwd,vp=eo.env,yp=eo.platform,QI=eo.arch;var tv=65,nv=97,iv=90,ov=122,yi=46,ht=47,Nt=92,bi=58,rv=63,Qs=class extends Error{code;constructor(e,t,i){let o;typeof t=="string"&&t.indexOf("not ")===0?(o="must not be",t=t.replace(/^not /,"")):o="must be";let r=e.indexOf(".")!==-1?"property":"argument",s=`The "${e}" ${r} ${o} of type ${t}`;s+=`. Received type ${typeof i}`,super(s),this.code="ERR_INVALID_ARG_TYPE"}};function sv(n,e){if(n===null||typeof n!="object")throw new Qs(e,"Object",n)}function Ze(n,e){if(typeof n!="string")throw new Qs(e,"string",n)}var Mt=yp==="win32";function ye(n){return n===ht||n===Nt}function Nd(n){return n===ht}function vi(n){return n>=tv&&n<=iv||n>=nv&&n<=ov}function Zs(n,e,t,i){let o="",r=0,s=-1,a=0,l=0;for(let d=0;d<=n.length;++d){if(d<n.length)l=n.charCodeAt(d);else{if(i(l))break;l=ht}if(i(l)){if(!(s===d-1||a===1))if(a===2){if(o.length<2||r!==2||o.charCodeAt(o.length-1)!==yi||o.charCodeAt(o.length-2)!==yi){if(o.length>2){let u=o.lastIndexOf(t);u===-1?(o="",r=0):(o=o.slice(0,u),r=o.length-1-o.lastIndexOf(t)),s=d,a=0;continue}else if(o.length!==0){o="",r=0,s=d,a=0;continue}}e&&(o+=o.length>0?`${t}..`:"..",r=2)}else o.length>0?o+=`${t}${n.slice(s+1,d)}`:o=n.slice(s+1,d),r=d-s-1;s=d,a=0}else l===yi&&a!==-1?++a:a=-1}return o}function av(n){return n?`${n[0]==="."?"":"."}${n}`:""}function Tp(n,e){sv(e,"pathObject");let t=e.dir||e.root,i=e.base||`${e.name||""}${av(e.ext)}`;return t?t===e.root?`${t}${i}`:`${t}${n}${i}`:i}var Xe={resolve(...n){let e="",t="",i=!1;for(let o=n.length-1;o>=-1;o--){let r;if(o>=0){if(r=n[o],Ze(r,`paths[${o}]`),r.length===0)continue}else e.length===0?r=Nr():(r=vp[`=${e}`]||Nr(),(r===void 0||r.slice(0,2).toLowerCase()!==e.toLowerCase()&&r.charCodeAt(2)===Nt)&&(r=`${e}\\`));let s=r.length,a=0,l="",d=!1,u=r.charCodeAt(0);if(s===1)ye(u)&&(a=1,d=!0);else if(ye(u))if(d=!0,ye(r.charCodeAt(1))){let h=2,g=h;for(;h<s&&!ye(r.charCodeAt(h));)h++;if(h<s&&h!==g){let T=r.slice(g,h);for(g=h;h<s&&ye(r.charCodeAt(h));)h++;if(h<s&&h!==g){for(g=h;h<s&&!ye(r.charCodeAt(h));)h++;(h===s||h!==g)&&(l=`\\\\${T}\\${r.slice(g,h)}`,a=h)}}}else a=1;else vi(u)&&r.charCodeAt(1)===bi&&(l=r.slice(0,2),a=2,s>2&&ye(r.charCodeAt(2))&&(d=!0,a=3));if(l.length>0)if(e.length>0){if(l.toLowerCase()!==e.toLowerCase())continue}else e=l;if(i){if(e.length>0)break}else if(t=`${r.slice(a)}\\${t}`,i=d,d&&e.length>0)break}return t=Zs(t,!i,"\\",ye),i?`${e}\\${t}`:`${e}${t}`||"."},normalize(n){Ze(n,"path");let e=n.length;if(e===0)return".";let t=0,i,o=!1,r=n.charCodeAt(0);if(e===1)return Nd(r)?"\\":n;if(ye(r))if(o=!0,ye(n.charCodeAt(1))){let a=2,l=a;for(;a<e&&!ye(n.charCodeAt(a));)a++;if(a<e&&a!==l){let d=n.slice(l,a);for(l=a;a<e&&ye(n.charCodeAt(a));)a++;if(a<e&&a!==l){for(l=a;a<e&&!ye(n.charCodeAt(a));)a++;if(a===e)return`\\\\${d}\\${n.slice(l)}\\`;a!==l&&(i=`\\\\${d}\\${n.slice(l,a)}`,t=a)}}}else t=1;else vi(r)&&n.charCodeAt(1)===bi&&(i=n.slice(0,2),t=2,e>2&&ye(n.charCodeAt(2))&&(o=!0,t=3));let s=t<e?Zs(n.slice(t),!o,"\\",ye):"";return s.length===0&&!o&&(s="."),s.length>0&&ye(n.charCodeAt(e-1))&&(s+="\\"),i===void 0?o?`\\${s}`:s:o?`${i}\\${s}`:`${i}${s}`},isAbsolute(n){Ze(n,"path");let e=n.length;if(e===0)return!1;let t=n.charCodeAt(0);return ye(t)||e>2&&vi(t)&&n.charCodeAt(1)===bi&&ye(n.charCodeAt(2))},join(...n){if(n.length===0)return".";let e,t;for(let r=0;r<n.length;++r){let s=n[r];Ze(s,"path"),s.length>0&&(e===void 0?e=t=s:e+=`\\${s}`)}if(e===void 0)return".";let i=!0,o=0;if(typeof t=="string"&&ye(t.charCodeAt(0))){++o;let r=t.length;r>1&&ye(t.charCodeAt(1))&&(++o,r>2&&(ye(t.charCodeAt(2))?++o:i=!1))}if(i){for(;o<e.length&&ye(e.charCodeAt(o));)o++;o>=2&&(e=`\\${e.slice(o)}`)}return Xe.normalize(e)},relative(n,e){if(Ze(n,"from"),Ze(e,"to"),n===e)return"";let t=Xe.resolve(n),i=Xe.resolve(e);if(t===i||(n=t.toLowerCase(),e=i.toLowerCase(),n===e))return"";let o=0;for(;o<n.length&&n.charCodeAt(o)===Nt;)o++;let r=n.length;for(;r-1>o&&n.charCodeAt(r-1)===Nt;)r--;let s=r-o,a=0;for(;a<e.length&&e.charCodeAt(a)===Nt;)a++;let l=e.length;for(;l-1>a&&e.charCodeAt(l-1)===Nt;)l--;let d=l-a,u=s<d?s:d,h=-1,g=0;for(;g<u;g++){let w=n.charCodeAt(o+g);if(w!==e.charCodeAt(a+g))break;w===Nt&&(h=g)}if(g!==u){if(h===-1)return i}else{if(d>u){if(e.charCodeAt(a+g)===Nt)return i.slice(a+g+1);if(g===2)return i.slice(a+g)}s>u&&(n.charCodeAt(o+g)===Nt?h=g:g===2&&(h=3)),h===-1&&(h=0)}let T="";for(g=o+h+1;g<=r;++g)(g===r||n.charCodeAt(g)===Nt)&&(T+=T.length===0?"..":"\\..");return a+=h,T.length>0?`${T}${i.slice(a,l)}`:(i.charCodeAt(a)===Nt&&++a,i.slice(a,l))},toNamespacedPath(n){if(typeof n!="string"||n.length===0)return n;let e=Xe.resolve(n);if(e.length<=2)return n;if(e.charCodeAt(0)===Nt){if(e.charCodeAt(1)===Nt){let t=e.charCodeAt(2);if(t!==rv&&t!==yi)return`\\\\?\\UNC\\${e.slice(2)}`}}else if(vi(e.charCodeAt(0))&&e.charCodeAt(1)===bi&&e.charCodeAt(2)===Nt)return`\\\\?\\${e}`;return n},dirname(n){Ze(n,"path");let e=n.length;if(e===0)return".";let t=-1,i=0,o=n.charCodeAt(0);if(e===1)return ye(o)?n:".";if(ye(o)){if(t=i=1,ye(n.charCodeAt(1))){let a=2,l=a;for(;a<e&&!ye(n.charCodeAt(a));)a++;if(a<e&&a!==l){for(l=a;a<e&&ye(n.charCodeAt(a));)a++;if(a<e&&a!==l){for(l=a;a<e&&!ye(n.charCodeAt(a));)a++;if(a===e)return n;a!==l&&(t=i=a+1)}}}}else vi(o)&&n.charCodeAt(1)===bi&&(t=e>2&&ye(n.charCodeAt(2))?3:2,i=t);let r=-1,s=!0;for(let a=e-1;a>=i;--a)if(ye(n.charCodeAt(a))){if(!s){r=a;break}}else s=!1;if(r===-1){if(t===-1)return".";r=t}return n.slice(0,r)},basename(n,e){e!==void 0&&Ze(e,"suffix"),Ze(n,"path");let t=0,i=-1,o=!0,r;if(n.length>=2&&vi(n.charCodeAt(0))&&n.charCodeAt(1)===bi&&(t=2),e!==void 0&&e.length>0&&e.length<=n.length){if(e===n)return"";let s=e.length-1,a=-1;for(r=n.length-1;r>=t;--r){let l=n.charCodeAt(r);if(ye(l)){if(!o){t=r+1;break}}else a===-1&&(o=!1,a=r+1),s>=0&&(l===e.charCodeAt(s)?--s===-1&&(i=r):(s=-1,i=a))}return t===i?i=a:i===-1&&(i=n.length),n.slice(t,i)}for(r=n.length-1;r>=t;--r)if(ye(n.charCodeAt(r))){if(!o){t=r+1;break}}else i===-1&&(o=!1,i=r+1);return i===-1?"":n.slice(t,i)},extname(n){Ze(n,"path");let e=0,t=-1,i=0,o=-1,r=!0,s=0;n.length>=2&&n.charCodeAt(1)===bi&&vi(n.charCodeAt(0))&&(e=i=2);for(let a=n.length-1;a>=e;--a){let l=n.charCodeAt(a);if(ye(l)){if(!r){i=a+1;break}continue}o===-1&&(r=!1,o=a+1),l===yi?t===-1?t=a:s!==1&&(s=1):t!==-1&&(s=-1)}return t===-1||o===-1||s===0||s===1&&t===o-1&&t===i+1?"":n.slice(t,o)},format:Tp.bind(null,"\\"),parse(n){Ze(n,"path");let e={root:"",dir:"",base:"",ext:"",name:""};if(n.length===0)return e;let t=n.length,i=0,o=n.charCodeAt(0);if(t===1)return ye(o)?(e.root=e.dir=n,e):(e.base=e.name=n,e);if(ye(o)){if(i=1,ye(n.charCodeAt(1))){let h=2,g=h;for(;h<t&&!ye(n.charCodeAt(h));)h++;if(h<t&&h!==g){for(g=h;h<t&&ye(n.charCodeAt(h));)h++;if(h<t&&h!==g){for(g=h;h<t&&!ye(n.charCodeAt(h));)h++;h===t?i=h:h!==g&&(i=h+1)}}}}else if(vi(o)&&n.charCodeAt(1)===bi){if(t<=2)return e.root=e.dir=n,e;if(i=2,ye(n.charCodeAt(2))){if(t===3)return e.root=e.dir=n,e;i=3}}i>0&&(e.root=n.slice(0,i));let r=-1,s=i,a=-1,l=!0,d=n.length-1,u=0;for(;d>=i;--d){if(o=n.charCodeAt(d),ye(o)){if(!l){s=d+1;break}continue}a===-1&&(l=!1,a=d+1),o===yi?r===-1?r=d:u!==1&&(u=1):r!==-1&&(u=-1)}return a!==-1&&(r===-1||u===0||u===1&&r===a-1&&r===s+1?e.base=e.name=n.slice(s,a):(e.name=n.slice(s,r),e.base=n.slice(s,a),e.ext=n.slice(r,a))),s>0&&s!==i?e.dir=n.slice(0,s-1):e.dir=e.root,e},sep:"\\",delimiter:";",win32:null,posix:null},lv=(()=>{if(Mt){let n=/\\/g;return()=>{let e=Nr().replace(n,"/");return e.slice(e.indexOf("/"))}}return()=>Nr()})(),De={resolve(...n){let e="",t=!1;for(let i=n.length-1;i>=-1&&!t;i--){let o=i>=0?n[i]:lv();Ze(o,`paths[${i}]`),o.length!==0&&(e=`${o}/${e}`,t=o.charCodeAt(0)===ht)}return e=Zs(e,!t,"/",Nd),t?`/${e}`:e.length>0?e:"."},normalize(n){if(Ze(n,"path"),n.length===0)return".";let e=n.charCodeAt(0)===ht,t=n.charCodeAt(n.length-1)===ht;return n=Zs(n,!e,"/",Nd),n.length===0?e?"/":t?"./":".":(t&&(n+="/"),e?`/${n}`:n)},isAbsolute(n){return Ze(n,"path"),n.length>0&&n.charCodeAt(0)===ht},join(...n){if(n.length===0)return".";let e;for(let t=0;t<n.length;++t){let i=n[t];Ze(i,"path"),i.length>0&&(e===void 0?e=i:e+=`/${i}`)}return e===void 0?".":De.normalize(e)},relative(n,e){if(Ze(n,"from"),Ze(e,"to"),n===e||(n=De.resolve(n),e=De.resolve(e),n===e))return"";let t=1,i=n.length,o=i-t,r=1,s=e.length-r,a=o<s?o:s,l=-1,d=0;for(;d<a;d++){let h=n.charCodeAt(t+d);if(h!==e.charCodeAt(r+d))break;h===ht&&(l=d)}if(d===a)if(s>a){if(e.charCodeAt(r+d)===ht)return e.slice(r+d+1);if(d===0)return e.slice(r+d)}else o>a&&(n.charCodeAt(t+d)===ht?l=d:d===0&&(l=0));let u="";for(d=t+l+1;d<=i;++d)(d===i||n.charCodeAt(d)===ht)&&(u+=u.length===0?"..":"/..");return`${u}${e.slice(r+l)}`},toNamespacedPath(n){return n},dirname(n){if(Ze(n,"path"),n.length===0)return".";let e=n.charCodeAt(0)===ht,t=-1,i=!0;for(let o=n.length-1;o>=1;--o)if(n.charCodeAt(o)===ht){if(!i){t=o;break}}else i=!1;return t===-1?e?"/":".":e&&t===1?"//":n.slice(0,t)},basename(n,e){e!==void 0&&Ze(e,"ext"),Ze(n,"path");let t=0,i=-1,o=!0,r;if(e!==void 0&&e.length>0&&e.length<=n.length){if(e===n)return"";let s=e.length-1,a=-1;for(r=n.length-1;r>=0;--r){let l=n.charCodeAt(r);if(l===ht){if(!o){t=r+1;break}}else a===-1&&(o=!1,a=r+1),s>=0&&(l===e.charCodeAt(s)?--s===-1&&(i=r):(s=-1,i=a))}return t===i?i=a:i===-1&&(i=n.length),n.slice(t,i)}for(r=n.length-1;r>=0;--r)if(n.charCodeAt(r)===ht){if(!o){t=r+1;break}}else i===-1&&(o=!1,i=r+1);return i===-1?"":n.slice(t,i)},extname(n){Ze(n,"path");let e=-1,t=0,i=-1,o=!0,r=0;for(let s=n.length-1;s>=0;--s){let a=n.charCodeAt(s);if(a===ht){if(!o){t=s+1;break}continue}i===-1&&(o=!1,i=s+1),a===yi?e===-1?e=s:r!==1&&(r=1):e!==-1&&(r=-1)}return e===-1||i===-1||r===0||r===1&&e===i-1&&e===t+1?"":n.slice(e,i)},format:Tp.bind(null,"/"),parse(n){Ze(n,"path");let e={root:"",dir:"",base:"",ext:"",name:""};if(n.length===0)return e;let t=n.charCodeAt(0)===ht,i;t?(e.root="/",i=1):i=0;let o=-1,r=0,s=-1,a=!0,l=n.length-1,d=0;for(;l>=i;--l){let u=n.charCodeAt(l);if(u===ht){if(!a){r=l+1;break}continue}s===-1&&(a=!1,s=l+1),u===yi?o===-1?o=l:d!==1&&(d=1):o!==-1&&(d=-1)}if(s!==-1){let u=r===0&&t?1:r;o===-1||d===0||d===1&&o===s-1&&o===r+1?e.base=e.name=n.slice(u,s):(e.name=n.slice(u,o),e.base=n.slice(u,s),e.ext=n.slice(o,s))}return r>0?e.dir=n.slice(0,r-1):t&&(e.dir="/"),e},sep:"/",delimiter:":",win32:null,posix:null};De.win32=Xe.win32=Xe;De.posix=Xe.posix=De;var Md=Mt?Xe.normalize:De.normalize,dv=Mt?Xe.isAbsolute:De.isAbsolute,Rd=Mt?Xe.join:De.join,Ip=Mt?Xe.resolve:De.resolve,xp=Mt?Xe.relative:De.relative,Sp=Mt?Xe.dirname:De.dirname,cv=Mt?Xe.basename:De.basename,wp=Mt?Xe.extname:De.extname,ZI=Mt?Xe.format:De.format,ex=Mt?Xe.parse:De.parse,tx=Mt?Xe.toNamespacedPath:De.toNamespacedPath,to=Mt?Xe.sep:De.sep,nx=Mt?Xe.delimiter:De.delimiter;var uv=/^\w[\w\d+.-]*$/,hv=/^\//,pv=/^\/\//;function mv(n,e){if(!n.scheme&&e)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${n.authority}", path: "${n.path}", query: "${n.query}", fragment: "${n.fragment}"}`);if(n.scheme&&!uv.test(n.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(n.path){if(n.authority){if(!hv.test(n.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(pv.test(n.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function fv(n,e){return!n&&!e?"file":n}function gv(n,e){switch(n){case"https":case"http":case"file":e?e[0]!==an&&(e=an+e):e=an;break}return e}var Be="",an="/",bv=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,Ne=class n{static isUri(e){return e instanceof n?!0:e?typeof e.authority=="string"&&typeof e.fragment=="string"&&typeof e.path=="string"&&typeof e.query=="string"&&typeof e.scheme=="string"&&typeof e.fsPath=="string"&&typeof e.with=="function"&&typeof e.toString=="function":!1}scheme;authority;path;query;fragment;constructor(e,t,i,o,r,s=!1){typeof e=="object"?(this.scheme=e.scheme||Be,this.authority=e.authority||Be,this.path=e.path||Be,this.query=e.query||Be,this.fragment=e.fragment||Be):(this.scheme=fv(e,s),this.authority=t||Be,this.path=gv(this.scheme,i||Be),this.query=o||Be,this.fragment=r||Be,mv(this,s))}get fsPath(){return Mr(this,!1)}with(e){if(!e)return this;let{scheme:t,authority:i,path:o,query:r,fragment:s}=e;return t===void 0?t=this.scheme:t===null&&(t=Be),i===void 0?i=this.authority:i===null&&(i=Be),o===void 0?o=this.path:o===null&&(o=Be),r===void 0?r=this.query:r===null&&(r=Be),s===void 0?s=this.fragment:s===null&&(s=Be),t===this.scheme&&i===this.authority&&o===this.path&&r===this.query&&s===this.fragment?this:new Ti(t,i,o,r,s)}static parse(e,t=!1){let i=bv.exec(e);return i?new Ti(i[2]||Be,ea(i[4]||Be),ea(i[5]||Be),ea(i[7]||Be),ea(i[9]||Be),t):new Ti(Be,Be,Be,Be,Be)}static file(e){let t=Be;if(rt&&(e=e.replace(/\\/g,an)),e[0]===an&&e[1]===an){let i=e.indexOf(an,2);i===-1?(t=e.substring(2),e=an):(t=e.substring(2,i),e=e.substring(i)||an)}return new Ti("file",t,e,Be,Be)}static from(e,t){return new Ti(e.scheme,e.authority,e.path,e.query,e.fragment,t)}static joinPath(e,...t){if(!e.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let i;return rt&&e.scheme==="file"?i=n.file(Xe.join(Mr(e,!0),...t)).path:i=De.join(e.path,...t),e.with({path:i})}toString(e=!1){return Fd(this,e)}toJSON(){return this}static revive(e){if(e){if(e instanceof n)return e;{let t=new Ti(e);return t._formatted=e.external??null,t._fsPath=e._sep===_p?e.fsPath??null:null,t}}else return e}[Symbol.for("debug.description")](){return`URI(${this.toString()})`}};var _p=rt?1:void 0,Ti=class extends Ne{_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=Mr(this,!1)),this._fsPath}toString(e=!1){return e?Fd(this,!0):(this._formatted||(this._formatted=Fd(this,!1)),this._formatted)}toJSON(){let e={$mid:1};return this._fsPath&&(e.fsPath=this._fsPath,e._sep=_p),this._formatted&&(e.external=this._formatted),this.path&&(e.path=this.path),this.scheme&&(e.scheme=this.scheme),this.authority&&(e.authority=this.authority),this.query&&(e.query=this.query),this.fragment&&(e.fragment=this.fragment),e}},kp={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function Ep(n,e,t){let i,o=-1;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);if(s>=97&&s<=122||s>=65&&s<=90||s>=48&&s<=57||s===45||s===46||s===95||s===126||e&&s===47||t&&s===91||t&&s===93||t&&s===58)o!==-1&&(i+=encodeURIComponent(n.substring(o,r)),o=-1),i!==void 0&&(i+=n.charAt(r));else{i===void 0&&(i=n.substr(0,r));let a=kp[s];a!==void 0?(o!==-1&&(i+=encodeURIComponent(n.substring(o,r)),o=-1),i+=a):o===-1&&(o=r)}}return o!==-1&&(i+=encodeURIComponent(n.substring(o))),i!==void 0?i:n}function vv(n){let e;for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);i===35||i===63?(e===void 0&&(e=n.substr(0,t)),e+=kp[i]):e!==void 0&&(e+=n[t])}return e!==void 0?e:n}function Mr(n,e){let t;return n.authority&&n.path.length>1&&n.scheme==="file"?t=`//${n.authority}${n.path}`:n.path.charCodeAt(0)===47&&(n.path.charCodeAt(1)>=65&&n.path.charCodeAt(1)<=90||n.path.charCodeAt(1)>=97&&n.path.charCodeAt(1)<=122)&&n.path.charCodeAt(2)===58?e?t=n.path.substr(1):t=n.path[1].toLowerCase()+n.path.substr(2):t=n.path,rt&&(t=t.replace(/\//g,"\\")),t}function Fd(n,e){let t=e?vv:Ep,i="",{scheme:o,authority:r,path:s,query:a,fragment:l}=n;if(o&&(i+=o,i+=":"),(r||o==="file")&&(i+=an,i+=an),r){let d=r.indexOf("@");if(d!==-1){let u=r.substr(0,d);r=r.substr(d+1),d=u.lastIndexOf(":"),d===-1?i+=t(u,!1,!1):(i+=t(u.substr(0,d),!1,!1),i+=":",i+=t(u.substr(d+1),!1,!0)),i+="@"}r=r.toLowerCase(),d=r.lastIndexOf(":"),d===-1?i+=t(r,!1,!0):(i+=t(r.substr(0,d),!1,!0),i+=r.substr(d))}if(s){if(s.length>=3&&s.charCodeAt(0)===47&&s.charCodeAt(2)===58){let d=s.charCodeAt(1);d>=65&&d<=90&&(s=`/${String.fromCharCode(d+32)}:${s.substr(3)}`)}else if(s.length>=2&&s.charCodeAt(1)===58){let d=s.charCodeAt(0);d>=65&&d<=90&&(s=`${String.fromCharCode(d+32)}:${s.substr(2)}`)}i+=t(s,!0,!1)}return a&&(i+="?",i+=t(a,!1,!1)),l&&(i+="#",i+=e?l:Ep(l,!1,!1)),i}function Lp(n){try{return decodeURIComponent(n)}catch{return n.length>3?n.substr(0,3)+Lp(n.substr(3)):n}}var Dp=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function ea(n){return n.match(Dp)?n.replace(Dp,e=>Lp(e)):n}var Pd=class{[Symbol.toStringTag]="LinkedMap";_map;_head;_tail;_size;_state;constructor(){this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(e){return this._map.has(e)}get(e,t=0){let i=this._map.get(e);if(i)return t!==0&&this.touch(i,t),i.value}set(e,t,i=0){let o=this._map.get(e);if(o)o.value=t,i!==0&&this.touch(o,i);else{switch(o={key:e,value:t,next:void 0,previous:void 0},i){case 0:this.addItemLast(o);break;case 1:this.addItemFirst(o);break;case 2:this.addItemLast(o);break;default:this.addItemLast(o);break}this._map.set(e,o),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let t=this._map.get(e);if(t)return this._map.delete(e),this.removeItem(t),this._size--,t.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){let i=this._state,o=this._head;for(;o;){if(t?e.bind(t)(o.value,o.key,this):e(o.value,o.key,this),this._state!==i)throw new Error("LinkedMap got modified during iteration.");o=o.next}}keys(){let e=this,t=this._state,i=this._head,o={[Symbol.iterator](){return o},next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(i){let r={value:i.key,done:!1};return i=i.next,r}else return{value:void 0,done:!0}}};return o}values(){let e=this,t=this._state,i=this._head,o={[Symbol.iterator](){return o},next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(i){let r={value:i.value,done:!1};return i=i.next,r}else return{value:void 0,done:!0}}};return o}entries(){let e=this,t=this._state,i=this._head,o={[Symbol.iterator](){return o},next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(i){let r={value:[i.key,i.value],done:!1};return i=i.next,r}else return{value:void 0,done:!0}}};return o}[Symbol.iterator](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let t=this._head,i=this.size;for(;t&&i>e;)this._map.delete(t.key),t=t.next,i--;this._head=t,this._size=i,t&&(t.previous=void 0),this._state++}trimNew(e){if(e>=this.size)return;if(e===0){this.clear();return}let t=this._tail,i=this.size;for(;t&&i>e;)this._map.delete(t.key),t=t.previous,i--;this._tail=t,this._size=i,t&&(t.next=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let t=e.next,i=e.previous;if(!t||!i)throw new Error("Invalid list");t.previous=i,i.next=t}e.next=void 0,e.previous=void 0,this._state++}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(t!==1&&t!==2)){if(t===1){if(e===this._head)return;let i=e.next,o=e.previous;e===this._tail?(o.next=void 0,this._tail=o):(i.previous=o,o.next=i),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(t===2){if(e===this._tail)return;let i=e.next,o=e.previous;e===this._head?(i.previous=void 0,this._head=i):(i.previous=o,o.next=i),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((t,i)=>{e.push([i,t])}),e}fromJSON(e){this.clear();for(let[t,i]of e)this.set(t,i)}},Bd=class extends Pd{_limit;_ratio;constructor(e,t=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,t),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,t=2){return super.get(e,t)}peek(e){return super.get(e,0)}set(e,t){return super.set(e,t,2),this}checkTrim(){this.size>this._limit&&this.trim(Math.round(this._limit*this._ratio))}},ta=class extends Bd{constructor(e,t=1){super(e,t)}trim(e){this.trimOld(e)}set(e,t){return super.set(e,t),this.checkTrim(),this}};var Rr=class{map=new Map;add(e,t){let i=this.map.get(e);i||(i=new Set,this.map.set(e,i)),i.add(t)}delete(e,t){let i=this.map.get(e);i&&(i.delete(t),i.size===0&&this.map.delete(e))}forEach(e,t){let i=this.map.get(e);i&&i.forEach(t)}get(e){let t=this.map.get(e);return t||new Set}};function Hd(n,e){let t=this,i=!1,o;return function(){if(i)return o;if(i=!0,e)try{o=n.apply(t,arguments)}finally{e()}else o=n.apply(t,arguments);return o}}var le;(U=>{function n(O){return O&&typeof O=="object"&&typeof O[Symbol.iterator]=="function"}U.is=n;let e=Object.freeze([]);function t(){return e}U.empty=t;function*i(O){yield O}U.single=i;function o(O){return n(O)?O:i(O)}U.wrap=o;function r(O){return O||e}U.from=r;function*s(O){for(let _=O.length-1;_>=0;_--)yield O[_]}U.reverse=s;function a(O){return!O||O[Symbol.iterator]().next().done===!0}U.isEmpty=a;function l(O){return O[Symbol.iterator]().next().value}U.first=l;function d(O,_){let H=0;for(let B of O)if(_(B,H++))return!0;return!1}U.some=d;function u(O,_){for(let H of O)if(_(H))return H}U.find=u;function*h(O,_){for(let H of O)_(H)&&(yield H)}U.filter=h;function*g(O,_){let H=0;for(let B of O)yield _(B,H++)}U.map=g;function*T(O,_){let H=0;for(let B of O)yield*_(B,H++)}U.flatMap=T;function*w(...O){for(let _ of O)yield*_}U.concat=w;function v(O,_,H){let B=H;for(let N of O)B=_(B,N);return B}U.reduce=v;function*E(O,_,H=O.length){for(_<0&&(_+=O.length),H<0?H+=O.length:H>O.length&&(H=O.length);_<H;_++)yield O[_]}U.slice=E;function P(O,_=Number.POSITIVE_INFINITY){let H=[];if(_===0)return[H,O];let B=O[Symbol.iterator]();for(let N=0;N<_;N++){let Z=B.next();if(Z.done)return[H,U.empty()];H.push(Z.value)}return[H,{[Symbol.iterator](){return B}}]}U.consume=P;async function R(O){let _=[];for await(let H of O)_.push(H);return Promise.resolve(_)}U.asyncToArray=R})(le||={});var yv=!1,no=null;function Tv(n){no=n}if(yv){let n="__is_disposable_tracked__";Tv(new class{trackDisposable(e){let t=new Error("Potentially leaked disposable").stack;setTimeout(()=>{e[n]||console.log(t)},3e3)}setParent(e,t){if(e&&e!==Q.None)try{e[n]=!0}catch{}}markAsDisposed(e){if(e&&e!==Q.None)try{e[n]=!0}catch{}}markAsSingleton(e){}})}function oo(n){return no?.trackDisposable(n),n}function ro(n){no?.markAsDisposed(n)}function Or(n,e){no?.setParent(n,e)}function Iv(n,e){if(no)for(let t of n)no.setParent(t,e)}function Kd(n){return no?.markAsSingleton(n),n}function Ve(n){if(le.is(n)){let e=[];for(let t of n)if(t)try{t.dispose()}catch(i){e.push(i)}if(e.length===1)throw e[0];if(e.length>1)throw new AggregateError(e,"Encountered errors while disposing of store");return Array.isArray(n)?[]:n}else if(n)return n.dispose(),n}function Yn(...n){let e=ce(()=>Ve(n));return Iv(n,e),e}function ce(n){let e=oo({dispose:Hd(()=>{ro(e),n()})});return e}var j=class n{static DISABLE_DISPOSED_WARNING=!1;_toDispose=new Set;_isDisposed=!1;constructor(){oo(this)}dispose(){this._isDisposed||(ro(this),this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){if(this._toDispose.size!==0)try{Ve(this._toDispose)}finally{this._toDispose.clear()}}add(e){if(!e)return e;if(e===this)throw new Error("Cannot register a disposable on itself!");return Or(e,this),this._isDisposed?n.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(e),e}delete(e){if(e){if(e===this)throw new Error("Cannot dispose a disposable on itself!");this._toDispose.delete(e),e.dispose()}}deleteAndLeak(e){e&&this._toDispose.has(e)&&(this._toDispose.delete(e),Or(e,null))}},Q=class{static None=Object.freeze({dispose(){}});_store=new j;constructor(){oo(this),Or(this._store,this)}dispose(){ro(this),this._store.dispose()}_register(e){if(e===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(e)}},Po=class{_value;_isDisposed=!1;constructor(){oo(this)}get value(){return this._isDisposed?void 0:this._value}set value(e){this._isDisposed||e===this._value||(this._value?.dispose(),e&&Or(e,this),this._value=e)}clear(){this.value=void 0}dispose(){this._isDisposed=!0,ro(this),this._value?.dispose(),this._value=void 0}clearAndLeak(){let e=this._value;return this._value=void 0,e&&Or(e,null),e}};var io=class{_store=new Map;_isDisposed=!1;constructor(){oo(this)}dispose(){ro(this),this._isDisposed=!0,this.clearAndDisposeAll()}clearAndDisposeAll(){if(this._store.size)try{Ve(this._store.values())}finally{this._store.clear()}}has(e){return this._store.has(e)}get size(){return this._store.size}get(e){return this._store.get(e)}set(e,t,i=!1){this._isDisposed&&console.warn(new Error("Trying to add a disposable to a DisposableMap that has already been disposed of. The added object will be leaked!").stack),i||this._store.get(e)?.dispose(),this._store.set(e,t)}deleteAndDispose(e){this._store.get(e)?.dispose(),this._store.delete(e)}deleteAndLeak(e){let t=this._store.get(e);return this._store.delete(e),t}keys(){return this._store.keys()}values(){return this._store.values()}[Symbol.iterator](){return this._store[Symbol.iterator]()}};var Ap=Object.freeze(function(n,e){let t=setTimeout(n.bind(e),0);return{dispose(){clearTimeout(t)}}}),zd;(i=>{function n(o){return o===i.None||o===i.Cancelled||o instanceof Bo?!0:!o||typeof o!="object"?!1:typeof o.isCancellationRequested=="boolean"&&typeof o.onCancellationRequested=="function"}i.isCancellationToken=n,i.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:A.None}),i.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:Ap})})(zd||={});var Bo=class{_isCancelled=!1;_emitter=null;cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?Ap:(this._emitter||(this._emitter=new L),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}},Xn=class{_token=void 0;_parentListener=void 0;constructor(e){this._parentListener=e&&e.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new Bo),this._token}cancel(){this._token?this._token instanceof Bo&&this._token.cancel():this._token=zd.Cancelled}dispose(e=!1){e&&this.cancel(),this._parentListener?.dispose(),this._token?this._token instanceof Bo&&this._token.dispose():this._token=zd.None}};var ze=class n{static Undefined=new n(void 0);element;next;prev;constructor(e){this.element=e,this.next=n.Undefined,this.prev=n.Undefined}},Yt=class{_first=ze.Undefined;_last=ze.Undefined;_size=0;get size(){return this._size}isEmpty(){return this._first===ze.Undefined}clear(){let e=this._first;for(;e!==ze.Undefined;){let t=e.next;e.prev=ze.Undefined,e.next=ze.Undefined,e=t}this._first=ze.Undefined,this._last=ze.Undefined,this._size=0}unshift(e){return this._insert(e,!1)}push(e){return this._insert(e,!0)}_insert(e,t){let i=new ze(e);if(this._first===ze.Undefined)this._first=i,this._last=i;else if(t){let r=this._last;this._last=i,i.prev=r,r.next=i}else{let r=this._first;this._first=i,i.next=r,r.prev=i}this._size+=1;let o=!1;return()=>{o||(o=!0,this._remove(i))}}shift(){if(this._first!==ze.Undefined){let e=this._first.element;return this._remove(this._first),e}}pop(){if(this._last!==ze.Undefined){let e=this._last.element;return this._remove(this._last),e}}_remove(e){if(e.prev!==ze.Undefined&&e.next!==ze.Undefined){let t=e.prev;t.next=e.next,e.next.prev=t}else e.prev===ze.Undefined&&e.next===ze.Undefined?(this._first=ze.Undefined,this._last=ze.Undefined):e.next===ze.Undefined?(this._last=this._last.prev,this._last.next=ze.Undefined):e.prev===ze.Undefined&&(this._first=this._first.next,this._first.prev=ze.Undefined);this._size-=1}*[Symbol.iterator](){let e=this._first;for(;e!==ze.Undefined;)yield e.element,e=e.next}};var so=(n,e)=>n===e;var ln=class{constructor(e,t,i){this.owner=e;this.debugNameSource=t;this.referenceFn=i}getDebugName(e){return Op(e,this)}},Np=new Map,Ud=new WeakMap;function Op(n,e){let t=Ud.get(n);if(t)return t;let i=xv(n,e);if(i){let o=Np.get(i)??0;o++,Np.set(i,o);let r=o===1?i:`${i}#${o}`;return Ud.set(n,r),r}}function xv(n,e){let t=Ud.get(n);if(t)return t;let i=e.owner?wv(e.owner)+".":"",o,r=e.debugNameSource;if(r!==void 0)if(typeof r=="function"){if(o=r(),o!==void 0)return i+o}else return i+r;let s=e.referenceFn;if(s!==void 0&&(o=na(s),o!==void 0))return i+o;if(e.owner!==void 0){let a=Sv(e.owner,n);if(a!==void 0)return i+a}}function Sv(n,e){for(let t in n)if(n[t]===e)return t}var Mp=new Map,Rp=new WeakMap;function wv(n){let e=Rp.get(n);if(e)return e;let t=Ev(n),i=Mp.get(t)??0;i++,Mp.set(t,i);let o=i===1?t:`${t}#${i}`;return Rp.set(n,o),o}function Ev(n){let e=n.constructor;return e?e.name:"Object"}function na(n){let e=n.toString(),i=/\/\*\*\s*@description\s*([^*]*)\*\//.exec(e);return(i?i[1]:void 0)?.trim()}function ia(n,e){if(!n)throw new Error(e?`Assertion failed (${e})`:"Assertion Failed")}function Fp(n,e="Unreachable"){throw new Error(e)}function oa(n){if(!n()){debugger;n(),Lt(new on("Assertion Failed"))}}function Jn(n){return new ra(new ln(void 0,void 0,n),n,void 0,void 0)}var ra=class{constructor(e,t,i,o){this._debugNameData=e;this._runFn=t;this.createChangeSummary=i;this._handleChange=o;this.changeSummary=this.createChangeSummary?.(),zt()?.handleAutorunCreated(this),this._runIfNeeded(),oo(this)}state=2;updateCount=0;disposed=!1;dependencies=new Set;dependenciesToBeRemoved=new Set;changeSummary;get debugName(){return this._debugNameData.getDebugName(this)??"(anonymous)"}dispose(){this.disposed=!0;for(let e of this.dependencies)e.removeObserver(this);this.dependencies.clear(),ro(this)}_runIfNeeded(){if(this.state===3)return;let e=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=e,this.state=3;let t=this.disposed;try{if(!t){zt()?.handleAutorunTriggered(this);let i=this.changeSummary;try{this.changeSummary=this.createChangeSummary?.(),this._runFn(this,i)}catch(o){Mo(o)}}}finally{t||zt()?.handleAutorunFinished(this);for(let i of this.dependenciesToBeRemoved)i.removeObserver(this);this.dependenciesToBeRemoved.clear()}}toString(){return`Autorun<${this.debugName}>`}beginUpdate(){this.state===3&&(this.state=1),this.updateCount++}endUpdate(){try{if(this.updateCount===1)do{if(this.state===1){this.state=3;for(let e of this.dependencies)if(e.reportChanges(),this.state===2)break}this._runIfNeeded()}while(this.state!==3)}finally{this.updateCount--}oa(()=>this.updateCount>=0)}handlePossibleChange(e){this.state===3&&this.dependencies.has(e)&&!this.dependenciesToBeRemoved.has(e)&&(this.state=1)}handleChange(e,t){if(this.dependencies.has(e)&&!this.dependenciesToBeRemoved.has(e))try{(this._handleChange?this._handleChange({changedObservable:e,change:t,didChange:o=>o===e},this.changeSummary):!0)&&(this.state=2)}catch(i){Mo(i)}}readObservable(e){if(this.disposed)return e.get();e.addObserver(this);let t=e.get();return this.dependencies.add(e),this.dependenciesToBeRemoved.delete(e),t}};(e=>e.Observer=ra)(Jn||={});function Vd(n,e){return new sa(new ln(n.owner,n.debugName,n.debugReferenceFn),e,void 0,void 0,n.onLastObserverRemoved,n.equalsFn??so)}Pp(Vd);var sa=class extends ao{constructor(t,i,o,r,s=void 0,a){super();this._debugNameData=t;this._computeFn=i;this.createChangeSummary=o;this._handleChange=r;this._handleLastObserverRemoved=s;this._equalityComparator=a;this.changeSummary=this.createChangeSummary?.(),zt()?.handleDerivedCreated(this)}state=0;value=void 0;updateCount=0;dependencies=new Set;dependenciesToBeRemoved=new Set;changeSummary=void 0;get debugName(){return this._debugNameData.getDebugName(this)??"(anonymous)"}onLastObserverRemoved(){this.state=0,this.value=void 0;for(let t of this.dependencies)t.removeObserver(this);this.dependencies.clear(),this._handleLastObserverRemoved?.()}get(){if(this.observers.size===0){let t=this._computeFn(this,this.createChangeSummary?.());return this.onLastObserverRemoved(),t}else{do{if(this.state===1){for(let t of this.dependencies)if(t.reportChanges(),this.state===2)break}this.state===1&&(this.state=3),this._recomputeIfNeeded()}while(this.state!==3);return this.value}}_recomputeIfNeeded(){if(this.state===3)return;let t=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=t;let i=this.state!==0,o=this.value;this.state=3;let r=!1;try{let s=this.changeSummary;this.changeSummary=this.createChangeSummary?.();try{this.value=this._computeFn(this,s)}finally{for(let a of this.dependenciesToBeRemoved)a.removeObserver(this);this.dependenciesToBeRemoved.clear()}r=i&&!this._equalityComparator(o,this.value),zt()?.handleDerivedRecomputed(this,{oldValue:o,newValue:this.value,change:void 0,didChange:r,hadValue:i})}catch(s){Mo(s)}if(r)for(let s of this.observers)s.handleChange(this,void 0)}toString(){return`LazyDerived<${this.debugName}>`}beginUpdate(t){this.updateCount++;let i=this.updateCount===1;if(this.state===3&&(this.state=1,!i))for(let o of this.observers)o.handlePossibleChange(this);if(i)for(let o of this.observers)o.beginUpdate(this)}endUpdate(t){if(this.updateCount--,this.updateCount===0){let i=[...this.observers];for(let o of i)o.endUpdate(this)}oa(()=>this.updateCount>=0)}handlePossibleChange(t){if(this.state===3&&this.dependencies.has(t)&&!this.dependenciesToBeRemoved.has(t)){this.state=1;for(let i of this.observers)i.handlePossibleChange(this)}}handleChange(t,i){if(this.dependencies.has(t)&&!this.dependenciesToBeRemoved.has(t)){let o=!1;try{o=this._handleChange?this._handleChange({changedObservable:t,change:i,didChange:s=>s===t},this.changeSummary):!0}catch(s){Mo(s)}let r=this.state===3;if(o&&(this.state===1||r)&&(this.state=2,r))for(let s of this.observers)s.handlePossibleChange(this)}}readObservable(t){t.addObserver(this);let i=t.get();return this.dependencies.add(t),this.dependenciesToBeRemoved.delete(t),i}addObserver(t){let i=!this.observers.has(t)&&this.updateCount>0;super.addObserver(t),i&&t.beginUpdate(this)}removeObserver(t){let i=this.observers.has(t)&&this.updateCount>0;super.removeObserver(t),i&&t.endUpdate(this)}};function Fr(n){return new Wd(n)}var Wd=class extends Pr{constructor(t){super();this.value=t}get debugName(){return this.toString()}get(){return this.value}addObserver(t){}removeObserver(t){}toString(){return`Const: ${this.value}`}};function $d(...n){let e,t,i;return n.length===3?[e,t,i]=n:[t,i]=n,new Ii(new ln(e,void 0,i),t,i,()=>Ii.globalTransaction,so)}var Ii=class extends ao{constructor(t,i,o,r,s){super();this._debugNameData=t;this.event=i;this._getValue=o;this._getTransaction=r;this._equalityComparator=s}static globalTransaction;value;hasValue=!1;subscription;getDebugName(){return this._debugNameData.getDebugName(this)}get debugName(){let t=this.getDebugName();return"From Event"+(t?`: ${t}`:"")}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}handleEvent=t=>{let i=this._getValue(t),o=this.value,r=!this.hasValue||!this._equalityComparator(o,i),s=!1;r&&(this.value=i,this.hasValue&&(s=!0,qd(this._getTransaction(),a=>{zt()?.handleFromEventObservableTriggered(this,{oldValue:o,newValue:i,change:void 0,didChange:r,hadValue:this.hasValue});for(let l of this.observers)a.updateObserver(l,this),l.handleChange(this,void 0)},()=>{let a=this.getDebugName();return"Event fired"+(a?`: ${a}`:"")})),this.hasValue=!0),s||zt()?.handleFromEventObservableTriggered(this,{oldValue:o,newValue:i,change:void 0,didChange:r,hadValue:this.hasValue})};onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0,this.hasValue=!1,this.value=void 0}get(){return this.subscription?(this.hasValue||this.handleEvent(void 0),this.value):this._getValue(void 0)}};(t=>{t.Observer=Ii;function e(i,o){let r=!1;Ii.globalTransaction===void 0&&(Ii.globalTransaction=i,r=!0);try{o()}finally{r&&(Ii.globalTransaction=void 0)}}t.batchEventsGlobally=e})($d||={});function Hp(n){let e=new aa(!1,void 0);return n.addObserver(e),ce(()=>{n.removeObserver(e)})}Up(Hp);function Kp(n,e){let t=new aa(!0,e);return n.addObserver(t),e?e(n.get()):n.reportChanges(),ce(()=>{n.removeObserver(t)})}zp(Kp);var aa=class{constructor(e,t){this._forceRecompute=e;this._handleValue=t}_counter=0;beginUpdate(e){this._counter++}endUpdate(e){this._counter--,this._counter===0&&this._forceRecompute&&(this._handleValue?this._handleValue(e.get()):e.reportChanges())}handlePossibleChange(e){}handleChange(e,t){}};var Wp;function $p(n){Wp=n}function zt(){return Wp}var da=class{indentation=0;textToConsoleArgs(e){return kv([Ho(Nv("|  ",this.indentation)),e])}formatInfo(e){return e.hadValue?e.didChange?[Ho(" "),dn(Hr(e.oldValue,70),{color:"red",strikeThrough:!0}),Ho(" "),dn(Hr(e.newValue,60),{color:"green"})]:[Ho(" (unchanged)")]:[Ho(" "),dn(Hr(e.newValue,60),{color:"green"}),Ho(" (initial)")]}handleObservableChanged(e,t){console.log(...this.textToConsoleArgs([Br("observable value changed"),dn(e.debugName,{color:"BlueViolet"}),...this.formatInfo(t)]))}changedObservablesSets=new WeakMap;formatChanges(e){if(e.size!==0)return dn(" (changed deps: "+[...e].map(t=>t.debugName).join(", ")+")",{color:"gray"})}handleDerivedCreated(e){let t=e.handleChange;this.changedObservablesSets.set(e,new Set),e.handleChange=(i,o)=>(this.changedObservablesSets.get(e).add(i),t.apply(e,[i,o]))}handleDerivedRecomputed(e,t){let i=this.changedObservablesSets.get(e);console.log(...this.textToConsoleArgs([Br("derived recomputed"),dn(e.debugName,{color:"BlueViolet"}),...this.formatInfo(t),this.formatChanges(i),{data:[{fn:e._debugNameData.referenceFn??e._computeFn}]}])),i.clear()}handleFromEventObservableTriggered(e,t){console.log(...this.textToConsoleArgs([Br("observable from event triggered"),dn(e.debugName,{color:"BlueViolet"}),...this.formatInfo(t),{data:[{fn:e._getValue}]}]))}handleAutorunCreated(e){let t=e.handleChange;this.changedObservablesSets.set(e,new Set),e.handleChange=(i,o)=>(this.changedObservablesSets.get(e).add(i),t.apply(e,[i,o]))}handleAutorunTriggered(e){let t=this.changedObservablesSets.get(e);console.log(...this.textToConsoleArgs([Br("autorun"),dn(e.debugName,{color:"BlueViolet"}),this.formatChanges(t),{data:[{fn:e._debugNameData.referenceFn??e._runFn}]}])),t.clear(),this.indentation++}handleAutorunFinished(e){this.indentation--}handleBeginTransaction(e){let t=e.getDebugName();t===void 0&&(t=""),console.log(...this.textToConsoleArgs([Br("transaction"),dn(t,{color:"BlueViolet"}),{data:[{fn:e._fn}]}])),this.indentation++}handleEndTransaction(){this.indentation--}};function kv(n){let e=new Array,t=[],i="";function o(s){if("length"in s)for(let a of s)a&&o(a);else"text"in s?(i+=`%c${s.text}`,e.push(s.style),s.data&&t.push(...s.data)):"data"in s&&t.push(...s.data)}o(n);let r=[i,...e];return r.push(...t),r}function Ho(n){return dn(n,{color:"black"})}function Br(n){return dn(Mv(`${n}: `,10),{color:"black",bold:!0})}function dn(n,e={color:"black"}){function t(o){return Object.entries(o).reduce((r,[s,a])=>`${r}${s}:${a};`,"")}let i={color:e.color};return e.strikeThrough&&(i["text-decoration"]="line-through"),e.bold&&(i["font-weight"]="bold"),{text:n,style:t(i)}}function Hr(n,e){switch(typeof n){case"number":return""+n;case"string":return n.length+2<=e?`"${n}"`:`"${n.substr(0,e-7)}"+...`;case"boolean":return n?"true":"false";case"undefined":return"undefined";case"object":return n===null?"null":Array.isArray(n)?Lv(n,e):Av(n,e);case"symbol":return n.toString();case"function":return`[[Function${n.name?" "+n.name:""}]]`;default:return""+n}}function Lv(n,e){let t="[ ",i=!0;for(let o of n){if(i||(t+=", "),t.length-5>e){t+="...";break}i=!1,t+=`${Hr(o,e-t.length)}`}return t+=" ]",t}function Av(n,e){let t="{ ",i=!0;for(let[o,r]of Object.entries(n)){if(i||(t+=", "),t.length-5>e){t+="...";break}i=!1,t+=`${o}: ${Hr(r,e-t.length)}`}return t+=" }",t}function Nv(n,e){let t="";for(let i=1;i<=e;i++)t+=n;return t}function Mv(n,e){for(;n.length<e;)n+=" ";return n}var qp;function zp(n){qp=n}var Gp;function Up(n){Gp=n}var Gd;function Pp(n){Gd=n}var Pr=class{get TChange(){return null}reportChanges(){this.get()}read(e){return e?e.readObservable(this):this.get()}map(e,t){let i=t===void 0?void 0:e,o=t===void 0?e:t;return Gd({owner:i,debugName:()=>{let r=na(o);if(r!==void 0)return r;let a=/^\s*\(?\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*\)?\s*=>\s*\1(?:\??)\.([a-zA-Z_$][a-zA-Z_$0-9]*)\s*$/.exec(o.toString());if(a)return`${this.debugName}.${a[2]}`;if(!i)return`${this.debugName} (mapped)`},debugReferenceFn:o},r=>o(this.read(r),r))}flatten(){return Gd({owner:void 0,debugName:()=>`${this.debugName} (flattened)`},e=>this.read(e).read(e))}recomputeInitiallyAndOnChange(e,t){return e.add(qp(this,t)),this}keepObserved(e){return e.add(Gp(this)),this}get debugValue(){return this.get()}},ao=class extends Pr{observers=new Set;addObserver(e){let t=this.observers.size;this.observers.add(e),t===0&&this.onFirstObserverAdded()}removeObserver(e){this.observers.delete(e)&&this.observers.size===0&&this.onLastObserverRemoved()}onFirstObserverAdded(){}onLastObserverRemoved(){}};function la(n,e){let t=new ca(n,e);try{n(t)}finally{t.finish()}}function qd(n,e,t){n?e(n):la(e,t)}var ca=class{constructor(e,t){this._fn=e;this._getDebugName=t;zt()?.handleBeginTransaction(this)}updatingObservers=[];getDebugName(){return this._getDebugName?this._getDebugName():na(this._fn)}updateObserver(e,t){this.updatingObservers.push({observer:e,observable:t}),e.beginUpdate(t)}finish(){let e=this.updatingObservers;for(let t=0;t<e.length;t++){let{observer:i,observable:o}=e[t];i.endUpdate(o)}this.updatingObservers=null,zt()?.handleEndTransaction()}};var Rv=!1;Rv&&$p(new da);var Ov=globalThis.performance&&typeof globalThis.performance.now=="function",ua=class n{_startTime;_stopTime;_now;static create(e){return new n(e)}constructor(e){this._now=Ov&&e===!1?Date.now:globalThis.performance.now.bind(globalThis.performance),this._startTime=this._now(),this._stopTime=-1}stop(){this._stopTime=this._now()}reset(){this._startTime=this._now(),this._stopTime=-1}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}};var ha=Symbol("MicrotaskDelay");var Fv=!1,jp=!1,Pv=!1,A;(Ht=>{Ht.None=()=>Q.None;function e(X){if(Pv){let{onDidAddListener:K}=X,G=Kr.create(),W=0;X.onDidAddListener=()=>{++W===2&&(console.warn("snapshotted emitter LIKELY used public and SHOULD HAVE BEEN created with DisposableStore. snapshotted here"),G.print()),K?.()}}}function t(X,K){return T(X,()=>{},0,void 0,!0,void 0,K)}Ht.defer=t;function i(X){return(K,G=null,W)=>{let $=!1,de;return de=X(se=>{if(!$)return de?de.dispose():$=!0,K.call(G,se)},null,W),$&&de.dispose(),de}}Ht.once=i;function o(X,K){return Ht.once(Ht.filter(X,K))}Ht.onceIf=o;function r(X,K,G){return h((W,$=null,de)=>X(se=>W.call($,K(se)),null,de),G)}Ht.map=r;function s(X,K,G){return h((W,$=null,de)=>X(se=>{K(se),W.call($,se)},null,de),G)}Ht.forEach=s;function a(X,K,G){return h((W,$=null,de)=>X(se=>K(se)&&W.call($,se),null,de),G)}Ht.filter=a;function l(X){return X}Ht.signal=l;function d(...X){return(K,G=null,W)=>{let $=Yn(...X.map(de=>de(se=>K.call(G,se))));return g($,W)}}Ht.any=d;function u(X,K,G,W){let $=G;return r(X,de=>($=K($,de),$),W)}Ht.reduce=u;function h(X,K){let G,W={onWillAddFirstListener(){G=X($.fire,$)},onDidRemoveLastListener(){G?.dispose()}};K||e(W);let $=new L(W);return K?.add($),$.event}function g(X,K){return K instanceof Array?K.push(X):K&&K.add(X),X}function T(X,K,G=100,W=!1,$=!1,de,se){let Ke,ge,te,yn=0,nn,ci={leakWarningThreshold:de,onWillAddFirstListener(){Ke=X(ko=>{yn++,ge=K(ge,ko),W&&!te&&(Tn.fire(ge),ge=void 0),nn=()=>{let kt=ge;ge=void 0,te=void 0,(!W||yn>1)&&Tn.fire(kt),yn=0},typeof G=="number"?(clearTimeout(te),te=setTimeout(nn,G)):te===void 0&&(te=0,queueMicrotask(nn))})},onWillRemoveListener(){$&&yn>0&&nn?.()},onDidRemoveLastListener(){nn=void 0,Ke.dispose()}};se||e(ci);let Tn=new L(ci);return se?.add(Tn),Tn.event}Ht.debounce=T;function w(X,K=0,G){return Ht.debounce(X,(W,$)=>W?(W.push($),W):[$],K,void 0,!0,void 0,G)}Ht.accumulate=w;function v(X,K=(W,$)=>W===$,G){let W=!0,$;return a(X,de=>{let se=W||!K(de,$);return W=!1,$=de,se},G)}Ht.latch=v;function E(X,K,G){return[Ht.filter(X,K,G),Ht.filter(X,W=>!K(W),G)]}Ht.split=E;function P(X,K=!1,G=[],W){let $=G.slice(),de=X(ge=>{$?$.push(ge):Ke.fire(ge)});W&&W.add(de);let se=()=>{$?.forEach(ge=>Ke.fire(ge)),$=null},Ke=new L({onWillAddFirstListener(){de||(de=X(ge=>Ke.fire(ge)),W&&W.add(de))},onDidAddFirstListener(){$&&(K?setTimeout(se):se())},onDidRemoveLastListener(){de&&de.dispose(),de=null}});return W&&W.add(Ke),Ke.event}Ht.buffer=P;function R(X,K){return(W,$,de)=>{let se=K(new O);return X(function(Ke){let ge=se.evaluate(Ke);ge!==U&&W.call($,ge)},void 0,de)}}Ht.chain=R;let U=Symbol("HaltChainable");class O{steps=[];map(K){return this.steps.push(K),this}forEach(K){return this.steps.push(G=>(K(G),G)),this}filter(K){return this.steps.push(G=>K(G)?G:U),this}reduce(K,G){let W=G;return this.steps.push($=>(W=K(W,$),W)),this}latch(K=(G,W)=>G===W){let G=!0,W;return this.steps.push($=>{let de=G||!K($,W);return G=!1,W=$,de?$:U}),this}evaluate(K){for(let G of this.steps)if(K=G(K),K===U)break;return K}}function _(X,K,G=W=>W){let W=(...Ke)=>se.fire(G(...Ke)),$=()=>X.on(K,W),de=()=>X.removeListener(K,W),se=new L({onWillAddFirstListener:$,onDidRemoveLastListener:de});return se.event}Ht.fromNodeEventEmitter=_;function H(X,K,G=W=>W){let W=(...Ke)=>se.fire(G(...Ke)),$=()=>X.addEventListener(K,W),de=()=>X.removeEventListener(K,W),se=new L({onWillAddFirstListener:$,onDidRemoveLastListener:de});return se.event}Ht.fromDOMEventEmitter=H;function B(X){return new Promise(K=>i(X)(K))}Ht.toPromise=B;function N(X){let K=new L;return X.then(G=>{K.fire(G)},()=>{K.fire(void 0)}).finally(()=>{K.dispose()}),K.event}Ht.fromPromise=N;function Z(X,K){return X(G=>K.fire(G))}Ht.forward=Z;function ve(X,K,G){return K(G),X(W=>K(W))}Ht.runAndSubscribe=ve;class ae{constructor(K,G){this._observable=K;let W={onWillAddFirstListener:()=>{K.addObserver(this),this._observable.reportChanges()},onDidRemoveLastListener:()=>{K.removeObserver(this)}};G||e(W),this.emitter=new L(W),G&&G.add(this.emitter)}emitter;_counter=0;_hasChanged=!1;beginUpdate(K){this._counter++}handlePossibleChange(K){}handleChange(K,G){this._hasChanged=!0}endUpdate(K){this._counter--,this._counter===0&&(this._observable.reportChanges(),this._hasChanged&&(this._hasChanged=!1,this.emitter.fire(this._observable.get())))}}function ne(X,K){return new ae(X,K).emitter.event}Ht.fromObservable=ne;function vt(X){return(K,G,W)=>{let $=0,de=!1,se={beginUpdate(){$++},endUpdate(){$--,$===0&&(X.reportChanges(),de&&(de=!1,K.call(G)))},handlePossibleChange(){},handleChange(){de=!0}};X.addObserver(se),X.reportChanges();let Ke={dispose(){X.removeObserver(se)}};return W instanceof j?W.add(Ke):Array.isArray(W)&&W.push(Ke),Ke}}Ht.fromObservableLight=vt})(A||={});var jd=class n{static all=new Set;static _idPool=0;name;listenerCount=0;invocationCount=0;elapsedOverall=0;durations=[];_stopWatch;constructor(e){this.name=`${e}_${n._idPool++}`,n.all.add(this)}start(e){this._stopWatch=new ua,this.listenerCount=e}stop(){if(this._stopWatch){let e=this._stopWatch.elapsed();this.durations.push(e),this.elapsedOverall+=e,this.invocationCount+=1,this._stopWatch=void 0}}},Yp=-1;var Yd=class n{constructor(e,t,i=(n._idPool++).toString(16).padStart(3,"0")){this._errorHandler=e;this.threshold=t;this.name=i}static _idPool=1;_stacks;_warnCountdown=0;dispose(){this._stacks?.clear()}check(e,t){let i=this.threshold;if(i<=0||t<i)return;this._stacks||(this._stacks=new Map);let o=this._stacks.get(e.value)||0;if(this._stacks.set(e.value,o+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=i*.5;let[r,s]=this.getMostFrequentStack(),a=`[${this.name}] potential listener LEAK detected, having ${t} listeners already. MOST frequent listener (${s}):`;console.warn(a),console.warn(r);let l=new Xd(a,r);this._errorHandler(l)}return()=>{let r=this._stacks.get(e.value)||0;this._stacks.set(e.value,r-1)}}getMostFrequentStack(){if(!this._stacks)return;let e,t=0;for(let[i,o]of this._stacks)(!e||t<o)&&(e=[i,o],t=o);return e}},Kr=class n{constructor(e){this.value=e}static create(){let e=new Error;return new n(e.stack??"")}print(){console.warn(this.value.split(`
`).slice(2).join(`
`))}},Xd=class extends Error{constructor(e,t){super(e),this.name="ListenerLeakError",this.stack=t}},Jd=class extends Error{constructor(e,t){super(e),this.name="ListenerRefusalError",this.stack=t}},Bv=0,Ko=class{constructor(e){this.value=e}stack;id=Bv++},Hv=2,Kv=(n,e)=>{if(n instanceof Ko)e(n);else for(let t=0;t<n.length;t++){let i=n[t];i&&e(i)}},pa;if(Fv){let n=[];setInterval(()=>{n.length!==0&&(console.warn("[LEAKING LISTENERS] GC'ed these listeners that were NOT yet disposed:"),console.warn(n.join(`
`)),n.length=0)},3e3),pa=new FinalizationRegistry(e=>{typeof e=="string"&&n.push(e)})}var L=class{_options;_leakageMon;_perfMon;_disposed;_event;_listeners;_deliveryQueue;_size=0;constructor(e){this._options=e,this._leakageMon=Yp>0||this._options?.leakWarningThreshold?new Yd(e?.onListenerError??Lt,this._options?.leakWarningThreshold??Yp):void 0,this._perfMon=this._options?._profName?new jd(this._options._profName):void 0,this._deliveryQueue=this._options?.deliveryQueue}dispose(){if(!this._disposed){if(this._disposed=!0,this._deliveryQueue?.current===this&&this._deliveryQueue.reset(),this._listeners){if(jp){let e=this._listeners;queueMicrotask(()=>{Kv(e,t=>t.stack?.print())})}this._listeners=void 0,this._size=0}this._options?.onDidRemoveLastListener?.(),this._leakageMon?.dispose()}}get event(){return this._event??=(e,t,i)=>{if(this._leakageMon&&this._size>this._leakageMon.threshold**2){let l=`[${this._leakageMon.name}] REFUSES to accept new listeners because it exceeded its threshold by far (${this._size} vs ${this._leakageMon.threshold})`;console.warn(l);let d=this._leakageMon.getMostFrequentStack()??["UNKNOWN stack",-1],u=new Jd(`${l}. HINT: Stack shows most frequent listener (${d[1]}-times)`,d[0]);return(this._options?.onListenerError||Lt)(u),Q.None}if(this._disposed)return Q.None;t&&(e=e.bind(t));let o=new Ko(e),r,s;this._leakageMon&&this._size>=Math.ceil(this._leakageMon.threshold*.2)&&(o.stack=Kr.create(),r=this._leakageMon.check(o.stack,this._size+1)),jp&&(o.stack=s??Kr.create()),this._listeners?this._listeners instanceof Ko?(this._deliveryQueue??=new Qd,this._listeners=[this._listeners,o]):this._listeners.push(o):(this._options?.onWillAddFirstListener?.(this),this._listeners=o,this._options?.onDidAddFirstListener?.(this)),this._size++;let a=ce(()=>{pa?.unregister(a),r?.(),this._removeListener(o)});if(i instanceof j?i.add(a):Array.isArray(i)&&i.push(a),pa){let l=new Error().stack.split(`
`).slice(2,3).join(`
`).trim(),d=/(file:|vscode-file:\/\/vscode-app)?(\/[^:]*:\d+:\d+)/.exec(l);pa.register(a,d?.[2]??l,a)}return a},this._event}_removeListener(e){if(this._options?.onWillRemoveListener?.(this),!this._listeners)return;if(this._size===1){this._listeners=void 0,this._options?.onDidRemoveLastListener?.(this),this._size=0;return}let t=this._listeners,i=t.indexOf(e);if(i===-1)throw console.log("disposed?",this._disposed),console.log("size?",this._size),console.log("arr?",JSON.stringify(this._listeners)),new Error("Attempted to dispose unknown listener");this._size--,t[i]=void 0;let o=this._deliveryQueue.current===this;if(this._size*Hv<=t.length){let r=0;for(let s=0;s<t.length;s++)t[s]?t[r++]=t[s]:o&&(this._deliveryQueue.end--,r<this._deliveryQueue.i&&this._deliveryQueue.i--);t.length=r}}_deliver(e,t){if(!e)return;let i=this._options?.onListenerError||Lt;if(!i){e.value(t);return}try{e.value(t)}catch(o){i(o)}}_deliverQueue(e){let t=e.current._listeners;for(;e.i<e.end;)this._deliver(t[e.i++],e.value);e.reset()}fire(e){if(this._deliveryQueue?.current&&(this._deliverQueue(this._deliveryQueue),this._perfMon?.stop()),this._perfMon?.start(this._size),this._listeners)if(this._listeners instanceof Ko)this._deliver(this._listeners,e);else{let t=this._deliveryQueue;t.enqueue(this,e,this._listeners.length),this._deliverQueue(t)}this._perfMon?.stop()}hasListeners(){return this._size>0}};var Qd=class{i=-1;end=0;current;value;enqueue(e,t,i){this.i=0,this.end=i,this.current=e,this.value=t}reset(){this.i=this.end,this.current=void 0,this.value=void 0}};var ma=class extends L{_queuedEvents=[];_mergeFn;constructor(e){super(e),this._mergeFn=e?.merge}fire(e){this.hasListeners()&&(this._queuedEvents.push(e),this._queuedEvents.length===1&&queueMicrotask(()=>{this._mergeFn?super.fire(this._mergeFn(this._queuedEvents)):this._queuedEvents.forEach(t=>super.fire(t)),this._queuedEvents=[]}))}};var xi=class{data=[];wrapEvent(e,t,i){return(o,r,s)=>e(a=>{let l=this.data[this.data.length-1];if(!t){l?l.buffers.push(()=>o.call(r,a)):o.call(r,a);return}let d=l;if(!d){o.call(r,t(i,a));return}d.items??=[],d.items.push(a),d.buffers.length===0&&l.buffers.push(()=>{d.reducedResult??=i?d.items.reduce(t,i):d.items.reduce(t),o.call(r,d.reducedResult)})},void 0,s)}bufferEvents(e){let t={buffers:new Array};this.data.push(t);let i=e();return this.data.pop(),t.buffers.forEach(o=>o()),i}},Si=class{listening=!1;inputEvent=A.None;inputEventListener=Q.None;emitter=new L({onDidAddFirstListener:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onDidRemoveLastListener:()=>{this.listening=!1,this.inputEventListener.dispose()}});event=this.emitter.event;set input(e){this.inputEvent=e,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=e(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}};var zr=class n{static INSTANCE=new n;mapWindowIdToZoomLevel=new Map;_onDidChangeZoomLevel=new L;onDidChangeZoomLevel=this._onDidChangeZoomLevel.event;getZoomLevel(e){return this.mapWindowIdToZoomLevel.get(this.getWindowId(e))??0}setZoomLevel(e,t){if(this.getZoomLevel(t)===e)return;let i=this.getWindowId(t);this.mapWindowIdToZoomLevel.set(i,e),this._onDidChangeZoomLevel.fire(i)}mapWindowIdToZoomFactor=new Map;getZoomFactor(e){return this.mapWindowIdToZoomFactor.get(this.getWindowId(e))??1}setZoomFactor(e,t){this.mapWindowIdToZoomFactor.set(this.getWindowId(t),e)}_onDidChangeFullscreen=new L;onDidChangeFullscreen=this._onDidChangeFullscreen.event;mapWindowIdToFullScreen=new Map;setFullscreen(e,t){if(this.isFullscreen(t)===e)return;let i=this.getWindowId(t);this.mapWindowIdToFullScreen.set(i,e),this._onDidChangeFullscreen.fire(i)}isFullscreen(e){return!!this.mapWindowIdToFullScreen.get(this.getWindowId(e))}getWindowId(e){return e.vscodeWindowId}};function Uv(n,e,t){typeof e=="string"&&(e=n.matchMedia(e)),e.addEventListener("change",t)}var Iw=zr.INSTANCE.onDidChangeZoomLevel;function Xp(n){return zr.INSTANCE.getZoomFactor(n)}var xw=zr.INSTANCE.onDidChangeFullscreen,zo=navigator.userAgent,wi=zo.indexOf("Firefox")>=0,Uo=zo.indexOf("AppleWebKit")>=0,Ur=zo.indexOf("Chrome")>=0,ga=!Ur&&zo.indexOf("Safari")>=0;var Sw=zo.indexOf("Electron/")>=0,ww=zo.indexOf("Android")>=0,fa=!1;if(typeof Ye.matchMedia=="function"){let n=Ye.matchMedia("(display-mode: standalone) or (display-mode: window-controls-overlay)"),e=Ye.matchMedia("(display-mode: fullscreen)");fa=n.matches,Uv(Ye,n,({matches:t})=>{fa&&e.matches||(fa=t)})}function Jp(){return fa}var Qp={clipboard:{writeText:Oo||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:Oo||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText)},keyboard:Oo||Jp()?0:navigator.keyboard||ga?1:2,touch:"ontouchstart"in Ye||navigator.maxTouchPoints>0,pointerEvents:Ye.PointerEvent&&("ontouchstart"in Ye||navigator.maxTouchPoints>0)};var Vr=class{_keyCodeToStr;_strToKeyCode;constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(e,t){this._keyCodeToStr[e]=t,this._strToKeyCode[t.toLowerCase()]=e}keyCodeToStr(e){return this._keyCodeToStr[e]}strToKeyCode(e){return this._strToKeyCode[e.toLowerCase()]||0}},va=new Vr,Zd=new Vr,ec=new Vr,nc=new Array(230),Vv={},Wv=[],$v=Object.create(null),qv=Object.create(null);var Zp=[],tc=[];for(let n=0;n<=193;n++)Zp[n]=-1;for(let n=0;n<=132;n++)tc[n]=-1;(function(){let n="",e=[[1,0,"None",0,"unknown",0,"VK_UNKNOWN",n,n],[1,1,"Hyper",0,n,0,n,n,n],[1,2,"Super",0,n,0,n,n,n],[1,3,"Fn",0,n,0,n,n,n],[1,4,"FnLock",0,n,0,n,n,n],[1,5,"Suspend",0,n,0,n,n,n],[1,6,"Resume",0,n,0,n,n,n],[1,7,"Turbo",0,n,0,n,n,n],[1,8,"Sleep",0,n,0,"VK_SLEEP",n,n],[1,9,"WakeUp",0,n,0,n,n,n],[0,10,"KeyA",31,"A",65,"VK_A",n,n],[0,11,"KeyB",32,"B",66,"VK_B",n,n],[0,12,"KeyC",33,"C",67,"VK_C",n,n],[0,13,"KeyD",34,"D",68,"VK_D",n,n],[0,14,"KeyE",35,"E",69,"VK_E",n,n],[0,15,"KeyF",36,"F",70,"VK_F",n,n],[0,16,"KeyG",37,"G",71,"VK_G",n,n],[0,17,"KeyH",38,"H",72,"VK_H",n,n],[0,18,"KeyI",39,"I",73,"VK_I",n,n],[0,19,"KeyJ",40,"J",74,"VK_J",n,n],[0,20,"KeyK",41,"K",75,"VK_K",n,n],[0,21,"KeyL",42,"L",76,"VK_L",n,n],[0,22,"KeyM",43,"M",77,"VK_M",n,n],[0,23,"KeyN",44,"N",78,"VK_N",n,n],[0,24,"KeyO",45,"O",79,"VK_O",n,n],[0,25,"KeyP",46,"P",80,"VK_P",n,n],[0,26,"KeyQ",47,"Q",81,"VK_Q",n,n],[0,27,"KeyR",48,"R",82,"VK_R",n,n],[0,28,"KeyS",49,"S",83,"VK_S",n,n],[0,29,"KeyT",50,"T",84,"VK_T",n,n],[0,30,"KeyU",51,"U",85,"VK_U",n,n],[0,31,"KeyV",52,"V",86,"VK_V",n,n],[0,32,"KeyW",53,"W",87,"VK_W",n,n],[0,33,"KeyX",54,"X",88,"VK_X",n,n],[0,34,"KeyY",55,"Y",89,"VK_Y",n,n],[0,35,"KeyZ",56,"Z",90,"VK_Z",n,n],[0,36,"Digit1",22,"1",49,"VK_1",n,n],[0,37,"Digit2",23,"2",50,"VK_2",n,n],[0,38,"Digit3",24,"3",51,"VK_3",n,n],[0,39,"Digit4",25,"4",52,"VK_4",n,n],[0,40,"Digit5",26,"5",53,"VK_5",n,n],[0,41,"Digit6",27,"6",54,"VK_6",n,n],[0,42,"Digit7",28,"7",55,"VK_7",n,n],[0,43,"Digit8",29,"8",56,"VK_8",n,n],[0,44,"Digit9",30,"9",57,"VK_9",n,n],[0,45,"Digit0",21,"0",48,"VK_0",n,n],[1,46,"Enter",3,"Enter",13,"VK_RETURN",n,n],[1,47,"Escape",9,"Escape",27,"VK_ESCAPE",n,n],[1,48,"Backspace",1,"Backspace",8,"VK_BACK",n,n],[1,49,"Tab",2,"Tab",9,"VK_TAB",n,n],[1,50,"Space",10,"Space",32,"VK_SPACE",n,n],[0,51,"Minus",88,"-",189,"VK_OEM_MINUS","-","OEM_MINUS"],[0,52,"Equal",86,"=",187,"VK_OEM_PLUS","=","OEM_PLUS"],[0,53,"BracketLeft",92,"[",219,"VK_OEM_4","[","OEM_4"],[0,54,"BracketRight",94,"]",221,"VK_OEM_6","]","OEM_6"],[0,55,"Backslash",93,"\\",220,"VK_OEM_5","\\","OEM_5"],[0,56,"IntlHash",0,n,0,n,n,n],[0,57,"Semicolon",85,";",186,"VK_OEM_1",";","OEM_1"],[0,58,"Quote",95,"'",222,"VK_OEM_7","'","OEM_7"],[0,59,"Backquote",91,"`",192,"VK_OEM_3","`","OEM_3"],[0,60,"Comma",87,",",188,"VK_OEM_COMMA",",","OEM_COMMA"],[0,61,"Period",89,".",190,"VK_OEM_PERIOD",".","OEM_PERIOD"],[0,62,"Slash",90,"/",191,"VK_OEM_2","/","OEM_2"],[1,63,"CapsLock",8,"CapsLock",20,"VK_CAPITAL",n,n],[1,64,"F1",59,"F1",112,"VK_F1",n,n],[1,65,"F2",60,"F2",113,"VK_F2",n,n],[1,66,"F3",61,"F3",114,"VK_F3",n,n],[1,67,"F4",62,"F4",115,"VK_F4",n,n],[1,68,"F5",63,"F5",116,"VK_F5",n,n],[1,69,"F6",64,"F6",117,"VK_F6",n,n],[1,70,"F7",65,"F7",118,"VK_F7",n,n],[1,71,"F8",66,"F8",119,"VK_F8",n,n],[1,72,"F9",67,"F9",120,"VK_F9",n,n],[1,73,"F10",68,"F10",121,"VK_F10",n,n],[1,74,"F11",69,"F11",122,"VK_F11",n,n],[1,75,"F12",70,"F12",123,"VK_F12",n,n],[1,76,"PrintScreen",0,n,0,n,n,n],[1,77,"ScrollLock",84,"ScrollLock",145,"VK_SCROLL",n,n],[1,78,"Pause",7,"PauseBreak",19,"VK_PAUSE",n,n],[1,79,"Insert",19,"Insert",45,"VK_INSERT",n,n],[1,80,"Home",14,"Home",36,"VK_HOME",n,n],[1,81,"PageUp",11,"PageUp",33,"VK_PRIOR",n,n],[1,82,"Delete",20,"Delete",46,"VK_DELETE",n,n],[1,83,"End",13,"End",35,"VK_END",n,n],[1,84,"PageDown",12,"PageDown",34,"VK_NEXT",n,n],[1,85,"ArrowRight",17,"RightArrow",39,"VK_RIGHT","Right",n],[1,86,"ArrowLeft",15,"LeftArrow",37,"VK_LEFT","Left",n],[1,87,"ArrowDown",18,"DownArrow",40,"VK_DOWN","Down",n],[1,88,"ArrowUp",16,"UpArrow",38,"VK_UP","Up",n],[1,89,"NumLock",83,"NumLock",144,"VK_NUMLOCK",n,n],[1,90,"NumpadDivide",113,"NumPad_Divide",111,"VK_DIVIDE",n,n],[1,91,"NumpadMultiply",108,"NumPad_Multiply",106,"VK_MULTIPLY",n,n],[1,92,"NumpadSubtract",111,"NumPad_Subtract",109,"VK_SUBTRACT",n,n],[1,93,"NumpadAdd",109,"NumPad_Add",107,"VK_ADD",n,n],[1,94,"NumpadEnter",3,n,0,n,n,n],[1,95,"Numpad1",99,"NumPad1",97,"VK_NUMPAD1",n,n],[1,96,"Numpad2",100,"NumPad2",98,"VK_NUMPAD2",n,n],[1,97,"Numpad3",101,"NumPad3",99,"VK_NUMPAD3",n,n],[1,98,"Numpad4",102,"NumPad4",100,"VK_NUMPAD4",n,n],[1,99,"Numpad5",103,"NumPad5",101,"VK_NUMPAD5",n,n],[1,100,"Numpad6",104,"NumPad6",102,"VK_NUMPAD6",n,n],[1,101,"Numpad7",105,"NumPad7",103,"VK_NUMPAD7",n,n],[1,102,"Numpad8",106,"NumPad8",104,"VK_NUMPAD8",n,n],[1,103,"Numpad9",107,"NumPad9",105,"VK_NUMPAD9",n,n],[1,104,"Numpad0",98,"NumPad0",96,"VK_NUMPAD0",n,n],[1,105,"NumpadDecimal",112,"NumPad_Decimal",110,"VK_DECIMAL",n,n],[0,106,"IntlBackslash",97,"OEM_102",226,"VK_OEM_102",n,n],[1,107,"ContextMenu",58,"ContextMenu",93,n,n,n],[1,108,"Power",0,n,0,n,n,n],[1,109,"NumpadEqual",0,n,0,n,n,n],[1,110,"F13",71,"F13",124,"VK_F13",n,n],[1,111,"F14",72,"F14",125,"VK_F14",n,n],[1,112,"F15",73,"F15",126,"VK_F15",n,n],[1,113,"F16",74,"F16",127,"VK_F16",n,n],[1,114,"F17",75,"F17",128,"VK_F17",n,n],[1,115,"F18",76,"F18",129,"VK_F18",n,n],[1,116,"F19",77,"F19",130,"VK_F19",n,n],[1,117,"F20",78,"F20",131,"VK_F20",n,n],[1,118,"F21",79,"F21",132,"VK_F21",n,n],[1,119,"F22",80,"F22",133,"VK_F22",n,n],[1,120,"F23",81,"F23",134,"VK_F23",n,n],[1,121,"F24",82,"F24",135,"VK_F24",n,n],[1,122,"Open",0,n,0,n,n,n],[1,123,"Help",0,n,0,n,n,n],[1,124,"Select",0,n,0,n,n,n],[1,125,"Again",0,n,0,n,n,n],[1,126,"Undo",0,n,0,n,n,n],[1,127,"Cut",0,n,0,n,n,n],[1,128,"Copy",0,n,0,n,n,n],[1,129,"Paste",0,n,0,n,n,n],[1,130,"Find",0,n,0,n,n,n],[1,131,"AudioVolumeMute",117,"AudioVolumeMute",173,"VK_VOLUME_MUTE",n,n],[1,132,"AudioVolumeUp",118,"AudioVolumeUp",175,"VK_VOLUME_UP",n,n],[1,133,"AudioVolumeDown",119,"AudioVolumeDown",174,"VK_VOLUME_DOWN",n,n],[1,134,"NumpadComma",110,"NumPad_Separator",108,"VK_SEPARATOR",n,n],[0,135,"IntlRo",115,"ABNT_C1",193,"VK_ABNT_C1",n,n],[1,136,"KanaMode",0,n,0,n,n,n],[0,137,"IntlYen",0,n,0,n,n,n],[1,138,"Convert",0,n,0,n,n,n],[1,139,"NonConvert",0,n,0,n,n,n],[1,140,"Lang1",0,n,0,n,n,n],[1,141,"Lang2",0,n,0,n,n,n],[1,142,"Lang3",0,n,0,n,n,n],[1,143,"Lang4",0,n,0,n,n,n],[1,144,"Lang5",0,n,0,n,n,n],[1,145,"Abort",0,n,0,n,n,n],[1,146,"Props",0,n,0,n,n,n],[1,147,"NumpadParenLeft",0,n,0,n,n,n],[1,148,"NumpadParenRight",0,n,0,n,n,n],[1,149,"NumpadBackspace",0,n,0,n,n,n],[1,150,"NumpadMemoryStore",0,n,0,n,n,n],[1,151,"NumpadMemoryRecall",0,n,0,n,n,n],[1,152,"NumpadMemoryClear",0,n,0,n,n,n],[1,153,"NumpadMemoryAdd",0,n,0,n,n,n],[1,154,"NumpadMemorySubtract",0,n,0,n,n,n],[1,155,"NumpadClear",131,"Clear",12,"VK_CLEAR",n,n],[1,156,"NumpadClearEntry",0,n,0,n,n,n],[1,0,n,5,"Ctrl",17,"VK_CONTROL",n,n],[1,0,n,4,"Shift",16,"VK_SHIFT",n,n],[1,0,n,6,"Alt",18,"VK_MENU",n,n],[1,0,n,57,"Meta",91,"VK_COMMAND",n,n],[1,157,"ControlLeft",5,n,0,"VK_LCONTROL",n,n],[1,158,"ShiftLeft",4,n,0,"VK_LSHIFT",n,n],[1,159,"AltLeft",6,n,0,"VK_LMENU",n,n],[1,160,"MetaLeft",57,n,0,"VK_LWIN",n,n],[1,161,"ControlRight",5,n,0,"VK_RCONTROL",n,n],[1,162,"ShiftRight",4,n,0,"VK_RSHIFT",n,n],[1,163,"AltRight",6,n,0,"VK_RMENU",n,n],[1,164,"MetaRight",57,n,0,"VK_RWIN",n,n],[1,165,"BrightnessUp",0,n,0,n,n,n],[1,166,"BrightnessDown",0,n,0,n,n,n],[1,167,"MediaPlay",0,n,0,n,n,n],[1,168,"MediaRecord",0,n,0,n,n,n],[1,169,"MediaFastForward",0,n,0,n,n,n],[1,170,"MediaRewind",0,n,0,n,n,n],[1,171,"MediaTrackNext",124,"MediaTrackNext",176,"VK_MEDIA_NEXT_TRACK",n,n],[1,172,"MediaTrackPrevious",125,"MediaTrackPrevious",177,"VK_MEDIA_PREV_TRACK",n,n],[1,173,"MediaStop",126,"MediaStop",178,"VK_MEDIA_STOP",n,n],[1,174,"Eject",0,n,0,n,n,n],[1,175,"MediaPlayPause",127,"MediaPlayPause",179,"VK_MEDIA_PLAY_PAUSE",n,n],[1,176,"MediaSelect",128,"LaunchMediaPlayer",181,"VK_MEDIA_LAUNCH_MEDIA_SELECT",n,n],[1,177,"LaunchMail",129,"LaunchMail",180,"VK_MEDIA_LAUNCH_MAIL",n,n],[1,178,"LaunchApp2",130,"LaunchApp2",183,"VK_MEDIA_LAUNCH_APP2",n,n],[1,179,"LaunchApp1",0,n,0,"VK_MEDIA_LAUNCH_APP1",n,n],[1,180,"SelectTask",0,n,0,n,n,n],[1,181,"LaunchScreenSaver",0,n,0,n,n,n],[1,182,"BrowserSearch",120,"BrowserSearch",170,"VK_BROWSER_SEARCH",n,n],[1,183,"BrowserHome",121,"BrowserHome",172,"VK_BROWSER_HOME",n,n],[1,184,"BrowserBack",122,"BrowserBack",166,"VK_BROWSER_BACK",n,n],[1,185,"BrowserForward",123,"BrowserForward",167,"VK_BROWSER_FORWARD",n,n],[1,186,"BrowserStop",0,n,0,"VK_BROWSER_STOP",n,n],[1,187,"BrowserRefresh",0,n,0,"VK_BROWSER_REFRESH",n,n],[1,188,"BrowserFavorites",0,n,0,"VK_BROWSER_FAVORITES",n,n],[1,189,"ZoomToggle",0,n,0,n,n,n],[1,190,"MailReply",0,n,0,n,n,n],[1,191,"MailForward",0,n,0,n,n,n],[1,192,"MailSend",0,n,0,n,n,n],[1,0,n,114,"KeyInComposition",229,n,n,n],[1,0,n,116,"ABNT_C2",194,"VK_ABNT_C2",n,n],[1,0,n,96,"OEM_8",223,"VK_OEM_8",n,n],[1,0,n,0,n,0,"VK_KANA",n,n],[1,0,n,0,n,0,"VK_HANGUL",n,n],[1,0,n,0,n,0,"VK_JUNJA",n,n],[1,0,n,0,n,0,"VK_FINAL",n,n],[1,0,n,0,n,0,"VK_HANJA",n,n],[1,0,n,0,n,0,"VK_KANJI",n,n],[1,0,n,0,n,0,"VK_CONVERT",n,n],[1,0,n,0,n,0,"VK_NONCONVERT",n,n],[1,0,n,0,n,0,"VK_ACCEPT",n,n],[1,0,n,0,n,0,"VK_MODECHANGE",n,n],[1,0,n,0,n,0,"VK_SELECT",n,n],[1,0,n,0,n,0,"VK_PRINT",n,n],[1,0,n,0,n,0,"VK_EXECUTE",n,n],[1,0,n,0,n,0,"VK_SNAPSHOT",n,n],[1,0,n,0,n,0,"VK_HELP",n,n],[1,0,n,0,n,0,"VK_APPS",n,n],[1,0,n,0,n,0,"VK_PROCESSKEY",n,n],[1,0,n,0,n,0,"VK_PACKET",n,n],[1,0,n,0,n,0,"VK_DBE_SBCSCHAR",n,n],[1,0,n,0,n,0,"VK_DBE_DBCSCHAR",n,n],[1,0,n,0,n,0,"VK_ATTN",n,n],[1,0,n,0,n,0,"VK_CRSEL",n,n],[1,0,n,0,n,0,"VK_EXSEL",n,n],[1,0,n,0,n,0,"VK_EREOF",n,n],[1,0,n,0,n,0,"VK_PLAY",n,n],[1,0,n,0,n,0,"VK_ZOOM",n,n],[1,0,n,0,n,0,"VK_NONAME",n,n],[1,0,n,0,n,0,"VK_PA1",n,n],[1,0,n,0,n,0,"VK_OEM_CLEAR",n,n]],t=[],i=[];for(let o of e){let[r,s,a,l,d,u,h,g,T]=o;if(i[s]||(i[s]=!0,Wv[s]=a,$v[a]=s,qv[a.toLowerCase()]=s,r&&(Zp[s]=l,l!==0&&l!==3&&l!==5&&l!==4&&l!==6&&l!==57&&(tc[l]=s))),!t[l]){if(t[l]=!0,!d)throw new Error(`String representation missing for key code ${l} around scan code ${a}`);va.define(l,d),Zd.define(l,g||d),ec.define(l,T||g||d)}u&&(nc[u]=l),h&&(Vv[h]=l)}tc[3]=46})();var ya;(s=>{function n(a){return va.keyCodeToStr(a)}s.toString=n;function e(a){return va.strToKeyCode(a)}s.fromString=e;function t(a){return Zd.keyCodeToStr(a)}s.toUserSettingsUS=t;function i(a){return ec.keyCodeToStr(a)}s.toUserSettingsGeneral=i;function o(a){return Zd.strToKeyCode(a)||ec.strToKeyCode(a)}s.fromUserSettings=o;function r(a){if(a>=98&&a<=113)return null;switch(a){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return va.keyCodeToStr(a)}s.toElectronAccelerator=r})(ya||={});function oc(n,e){if(typeof n=="number"){if(n===0)return null;let t=(n&65535)>>>0,i=(n&4294901760)>>>16;return i!==0?new Vo([Ta(t,e),Ta(i,e)]):new Vo([Ta(t,e)])}else{let t=[];for(let i=0;i<n.length;i++)t.push(Ta(n[i],e));return new Vo(t)}}function Ta(n,e){let t=!!(n&2048),i=!!(n&256),o=e===2?i:t,r=!!(n&1024),s=!!(n&512),a=e===2?t:i,l=n&255;return new Wr(o,r,s,a,l)}var Wr=class n{constructor(e,t,i,o,r){this.ctrlKey=e;this.shiftKey=t;this.altKey=i;this.metaKey=o;this.keyCode=r}equals(e){return e instanceof n&&this.ctrlKey===e.ctrlKey&&this.shiftKey===e.shiftKey&&this.altKey===e.altKey&&this.metaKey===e.metaKey&&this.keyCode===e.keyCode}getHashCode(){let e=this.ctrlKey?"1":"0",t=this.shiftKey?"1":"0",i=this.altKey?"1":"0",o=this.metaKey?"1":"0";return`K${e}${t}${i}${o}${this.keyCode}`}isModifierKey(){return this.keyCode===0||this.keyCode===5||this.keyCode===57||this.keyCode===6||this.keyCode===4}toKeybinding(){return new Vo([this])}isDuplicateModifierCase(){return this.ctrlKey&&this.keyCode===5||this.shiftKey&&this.keyCode===4||this.altKey&&this.keyCode===6||this.metaKey&&this.keyCode===57}};var Vo=class{chords;constructor(e){if(e.length===0)throw $s("chords");this.chords=e}getHashCode(){let e="";for(let t=0,i=this.chords.length;t<i;t++)t!==0&&(e+=";"),e+=this.chords[t].getHashCode();return e}equals(e){if(e===null||this.chords.length!==e.chords.length)return!1;for(let t=0;t<this.chords.length;t++)if(!this.chords[t].equals(e.chords[t]))return!1;return!0}};function Gv(n){if(n.charCode){let t=String.fromCharCode(n.charCode).toUpperCase();return ya.fromString(t)}let e=n.keyCode;if(e===3)return 7;if(wi)switch(e){case 59:return 85;case 60:if(sn)return 97;break;case 61:return 86;case 107:return 109;case 109:return 111;case 173:return 88;case 224:if(Ee)return 57;break}else if(Uo){if(Ee&&e===93)return 57;if(!Ee&&e===92)return 57}return nc[e]||0}var jv=Ee?256:2048,Yv=512,Xv=1024,Jv=Ee?2048:256;var He=class{_standardKeyboardEventBrand=!0;browserEvent;target;ctrlKey;shiftKey;altKey;metaKey;altGraphKey;keyCode;code;_asKeybinding;_asKeyCodeChord;constructor(e){let t=e;this.browserEvent=t,this.target=t.target,this.ctrlKey=t.ctrlKey,this.shiftKey=t.shiftKey,this.altKey=t.altKey,this.metaKey=t.metaKey,this.altGraphKey=t.getModifierState?.("AltGraph"),this.keyCode=Gv(t),this.code=t.code,this.ctrlKey=this.ctrlKey||this.keyCode===5,this.altKey=this.altKey||this.keyCode===6,this.shiftKey=this.shiftKey||this.keyCode===4,this.metaKey=this.metaKey||this.keyCode===57,this._asKeybinding=this._computeKeybinding(),this._asKeyCodeChord=this._computeKeyCodeChord()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeyCodeChord(){return this._asKeyCodeChord}equals(e){return this._asKeybinding===e}_computeKeybinding(){let e=0;this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(e=this.keyCode);let t=0;return this.ctrlKey&&(t|=jv),this.altKey&&(t|=Yv),this.shiftKey&&(t|=Xv),this.metaKey&&(t|=Jv),t|=e,t}_computeKeyCodeChord(){let e=0;return this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(e=this.keyCode),new Wr(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,e)}};var tm=new WeakMap;function Qv(n){if(!n.parent||n.parent===n)return null;try{let e=n.location,t=n.parent.location;if(e.origin!=="null"&&t.origin!=="null"&&e.origin!==t.origin)return null}catch{return null}return n.parent}var Ia=class{static getSameOriginWindowChain(e){let t=tm.get(e);if(!t){t=[],tm.set(e,t);let i=e,o;do o=Qv(i),o?t.push({window:new WeakRef(i),iframeElement:i.frameElement||null}):t.push({window:new WeakRef(i),iframeElement:null}),i=o;while(i)}return t.slice(0)}static getPositionOfChildWindowRelativeToAncestorWindow(e,t){if(!t||e===t)return{top:0,left:0};let i=0,o=0,r=this.getSameOriginWindowChain(e);for(let s of r){let a=s.window.deref();if(i+=a?.scrollY??0,o+=a?.scrollX??0,a===t||!s.iframeElement)break;let l=s.iframeElement.getBoundingClientRect();i+=l.top,o+=l.left}return{top:i,left:o}}};var Ut=class{browserEvent;leftButton;middleButton;rightButton;buttons;target;detail;posx;posy;ctrlKey;shiftKey;altKey;metaKey;timestamp;constructor(e,t){this.timestamp=Date.now(),this.browserEvent=t,this.leftButton=t.button===0,this.middleButton=t.button===1,this.rightButton=t.button===2,this.buttons=t.buttons,this.target=t.target,this.detail=t.detail||1,t.type==="dblclick"&&(this.detail=2),this.ctrlKey=t.ctrlKey,this.shiftKey=t.shiftKey,this.altKey=t.altKey,this.metaKey=t.metaKey,typeof t.pageX=="number"?(this.posx=t.pageX,this.posy=t.pageY):(this.posx=t.clientX+this.target.ownerDocument.body.scrollLeft+this.target.ownerDocument.documentElement.scrollLeft,this.posy=t.clientY+this.target.ownerDocument.body.scrollTop+this.target.ownerDocument.documentElement.scrollTop);let i=Ia.getPositionOfChildWindowRelativeToAncestorWindow(e,t.view);this.posx-=i.left,this.posy-=i.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}};var cn=class{browserEvent;deltaY;deltaX;target;constructor(e,t=0,i=0){this.browserEvent=e||null,this.target=e?e.target||e.targetNode||e.srcElement:null,this.deltaY=i,this.deltaX=t;let o=!1;if(Ur){let r=navigator.userAgent.match(/Chrome\/(\d+)/);o=(r?parseInt(r[1]):123)<=122}if(e){let r=e,s=e,a=e.view?.devicePixelRatio||1;if(typeof r.wheelDeltaY<"u")o?this.deltaY=r.wheelDeltaY/(120*a):this.deltaY=r.wheelDeltaY/120;else if(typeof s.VERTICAL_AXIS<"u"&&s.axis===s.VERTICAL_AXIS)this.deltaY=-s.detail/3;else if(e.type==="wheel"){let l=e;l.deltaMode===l.DOM_DELTA_LINE?wi&&!Ee?this.deltaY=-e.deltaY/3:this.deltaY=-e.deltaY:this.deltaY=-e.deltaY/40}if(typeof r.wheelDeltaX<"u")ga&&rt?this.deltaX=-(r.wheelDeltaX/120):o?this.deltaX=r.wheelDeltaX/(120*a):this.deltaX=r.wheelDeltaX/120;else if(typeof s.HORIZONTAL_AXIS<"u"&&s.axis===s.HORIZONTAL_AXIS)this.deltaX=-e.detail/3;else if(e.type==="wheel"){let l=e;l.deltaMode===l.DOM_DELTA_LINE?wi&&!Ee?this.deltaX=-e.deltaX/3:this.deltaX=-e.deltaX:this.deltaX=-e.deltaX/40}this.deltaY===0&&this.deltaX===0&&e.wheelDelta&&(o?this.deltaY=e.wheelDelta/(120*a):this.deltaY=e.wheelDelta/120)}}preventDefault(){this.browserEvent?.preventDefault()}stopPropagation(){this.browserEvent?.stopPropagation()}};function Zv(n){return n}var xa=class{lastCache=void 0;lastArgKey=void 0;_fn;_computeKey;constructor(e,t){typeof e=="function"?(this._fn=e,this._computeKey=Zv):(this._fn=t,this._computeKey=e.getCacheKey)}get(e){let t=this._computeKey(e);return this.lastArgKey!==t&&(this.lastArgKey=t,this.lastCache=this._fn(e)),this.lastCache}};var Rt=class{constructor(e){this.executor=e}_didRun=!1;_value;_error;get hasValue(){return this._didRun}get value(){if(!this._didRun)try{this._value=this.executor()}catch(e){this._error=e}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}};function om(n){return!n||typeof n!="string"?!0:n.trim().length===0}function rc(n,e){return n<e?-1:n>e?1:0}function rm(n,e,t=0,i=n.length,o=0,r=e.length){for(;t<i&&o<r;t++,o++){let l=n.charCodeAt(t),d=e.charCodeAt(o);if(l<d)return-1;if(l>d)return 1}let s=i-t,a=r-o;return s<a?-1:s>a?1:0}function sc(n,e,t=0,i=n.length,o=0,r=e.length){for(;t<i&&o<r;t++,o++){let l=n.charCodeAt(t),d=e.charCodeAt(o);if(l===d)continue;if(l>=128||d>=128)return rm(n.toLowerCase(),e.toLowerCase(),t,i,o,r);nm(l)&&(l-=32),nm(d)&&(d-=32);let u=l-d;if(u!==0)return u}let s=i-t,a=r-o;return s<a?-1:s>a?1:0}function nm(n){return n>=97&&n<=122}function Sa(n,e){return n.length===e.length&&sc(n,e)===0}function Wo(n,e){let t=e.length;return e.length>n.length?!1:sc(n,e,0,t)===0}function sm(n){return 55296<=n&&n<=56319}function ac(n){return 56320<=n&&n<=57343}function am(n,e){return(n-55296<<10)+(e-56320)+65536}function lm(n){return n>=127462&&n<=127487||n===8986||n===8987||n===9200||n===9203||n>=9728&&n<=10175||n===11088||n===11093||n>=127744&&n<=128591||n>=128640&&n<=128764||n>=128992&&n<=129008||n>=129280&&n<=129535||n>=129648&&n<=129782}var Xw=String.fromCharCode(65279);var im=class n{constructor(e){this.confusableDictionary=e}static ambiguousCharacterData=new Rt(()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125,119846,109],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}'));static cache=new xa({getCacheKey:JSON.stringify},e=>{function t(u){let h=new Map;for(let g=0;g<u.length;g+=2)h.set(u[g],u[g+1]);return h}function i(u,h){let g=new Map(u);for(let[T,w]of h)g.set(T,w);return g}function o(u,h){if(!u)return h;let g=new Map;for(let[T,w]of u)h.has(T)&&g.set(T,w);return g}let r=this.ambiguousCharacterData.value,s=e.filter(u=>!u.startsWith("_")&&u in r);s.length===0&&(s=["_default"]);let a;for(let u of s){let h=t(r[u]);a=o(a,h)}let l=t(r._common),d=i(l,a);return new n(d)});static getInstance(e){return n.cache.get(Array.from(e))}static _locales=new Rt(()=>Object.keys(n.ambiguousCharacterData.value).filter(e=>!e.startsWith("_")));static getLocales(){return n._locales.value}isAmbiguous(e){return this.confusableDictionary.has(e)}containsAmbiguousCharacter(e){for(let t=0;t<e.length;t++){let i=e.codePointAt(t);if(typeof i=="number"&&this.isAmbiguous(i))return!0}return!1}getPrimaryConfusable(e){return this.confusableDictionary.get(e)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}};function Qn(n){return typeof n=="string"}function un(n){return typeof n=="object"&&n!==null&&!Array.isArray(n)&&!(n instanceof RegExp)&&!(n instanceof Date)}function Ei(n){return typeof n=="number"&&!isNaN(n)}function dc(n){return!!n&&typeof n[Symbol.iterator]=="function"}function Di(n){return typeof n>"u"}function Ci(n){return Di(n)||n===null}function dm(n,e){if(!n)throw new Error(e?`Unexpected type, expected '${e}'`:"Unexpected type")}var ty=Object.prototype.hasOwnProperty;function cm(n){if(!un(n))return!1;for(let e in n)if(ty.call(n,e))return!1;return!0}function wa(n){return typeof n=="function"}function um(n,e){let t=Math.min(n.length,e.length);for(let i=0;i<t;i++)ny(n[i],e[i])}function ny(n,e){if(Qn(e)){if(typeof n!==e)throw new Error(`argument does not match constraint: typeof ${e}`)}else if(wa(e)){try{if(n instanceof e)return}catch{}if(!Ci(n)&&n.constructor===e||e.length===1&&e.call(void 0,n)===!0)return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}function _i(n){return n===47||n===92}function Ea(n){return n.replace(/[\\/]/g,De.sep)}function pm(n){return n.indexOf("/")===-1&&(n=Ea(n)),/^[a-zA-Z]:(\/|$)/.test(n)&&(n="/"+n),n}function cc(n,e=De.sep){if(!n)return"";let t=n.length,i=n.charCodeAt(0);if(_i(i)){if(_i(n.charCodeAt(1))&&!_i(n.charCodeAt(2))){let r=3,s=r;for(;r<t&&!_i(n.charCodeAt(r));r++);if(s!==r&&!_i(n.charCodeAt(r+1))){for(r+=1;r<t;r++)if(_i(n.charCodeAt(r)))return n.slice(0,r+1).replace(/[\\/]/g,e)}}return e}else if(iy(i)&&n.charCodeAt(1)===58)return _i(n.charCodeAt(2))?n.slice(0,2)+e:n.slice(0,2);let o=n.indexOf("://");if(o!==-1){for(o+=3;o<t;o++)if(_i(n.charCodeAt(o)))return n.slice(0,o+1)}return""}function uc(n,e,t,i=to){if(n===e)return!0;if(!n||!e||e.length>n.length)return!1;if(t){if(!Wo(n,e))return!1;if(e.length===n.length)return!0;let r=e.length;return e.charAt(e.length-1)===i&&r--,n.charAt(r)===i}return e.charAt(e.length-1)!==i&&(e+=i),n.indexOf(e)===0}function iy(n){return n>=65&&n<=90||n>=97&&n<=122}var We;(te=>(te.inMemory="inmemory",te.vscode="vscode",te.internal="private",te.walkThrough="walkThrough",te.walkThroughSnippet="walkThroughSnippet",te.http="http",te.https="https",te.file="file",te.mailto="mailto",te.untitled="untitled",te.data="data",te.command="command",te.vscodeRemote="vscode-remote",te.vscodeRemoteResource="vscode-remote-resource",te.vscodeManagedRemoteResource="vscode-managed-remote-resource",te.vscodeUserData="vscode-userdata",te.vscodeCustomEditor="vscode-custom-editor",te.vscodeNotebookCell="vscode-notebook-cell",te.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",te.vscodeNotebookCellMetadataDiff="vscode-notebook-cell-metadata-diff",te.vscodeNotebookCellOutput="vscode-notebook-cell-output",te.vscodeNotebookCellOutputDiff="vscode-notebook-cell-output-diff",te.vscodeNotebookMetadata="vscode-notebook-metadata",te.vscodeInteractiveInput="vscode-interactive-input",te.vscodeSettings="vscode-settings",te.vscodeWorkspaceTrust="vscode-workspace-trust",te.vscodeTerminal="vscode-terminal",te.vscodeChatCodeBlock="vscode-chat-code-block",te.vscodeChatCodeCompareBlock="vscode-chat-code-compare-block",te.vscodeChatSesssion="vscode-chat-editor",te.webviewPanel="webview-panel",te.vscodeWebview="vscode-webview",te.extension="extension",te.vscodeFileResource="vscode-file",te.tmp="tmp",te.vsls="vsls",te.vscodeSourceControl="vscode-scm",te.commentsInput="comment",te.codeSetting="code-setting",te.outputChannel="output"))(We||={});var ry="tkn",hc=class{_hosts=Object.create(null);_ports=Object.create(null);_connectionTokens=Object.create(null);_preferredWebSchema="http";_delegate=null;_serverRootPath="/";setPreferredWebSchema(e){this._preferredWebSchema=e}setDelegate(e){this._delegate=e}setServerRootPath(e,t){this._serverRootPath=sy(e,t)}getServerRootPath(){return this._serverRootPath}get _remoteResourcesPath(){return De.join(this._serverRootPath,We.vscodeRemoteResource)}set(e,t,i){this._hosts[e]=t,this._ports[e]=i}setConnectionToken(e,t){this._connectionTokens[e]=t}getPreferredWebSchema(){return this._preferredWebSchema}rewrite(e){if(this._delegate)try{return this._delegate(e)}catch(a){return Lt(a),e}let t=e.authority,i=this._hosts[t];i&&i.indexOf(":")!==-1&&i.indexOf("[")===-1&&(i=`[${i}]`);let o=this._ports[t],r=this._connectionTokens[t],s=`path=${encodeURIComponent(e.path)}`;return typeof r=="string"&&(s+=`&${ry}=${encodeURIComponent(r)}`),Ne.from({scheme:gi?this._preferredWebSchema:We.vscodeRemoteResource,authority:`${i}:${o}`,path:this._remoteResourcesPath,query:s})}},mc=new hc;function sy(n,e){return De.join(e??"/",`${n.quality??"oss"}-${n.commit??"dev"}`)}var ay="vscode-app",pc=class n{static FALLBACK_AUTHORITY=ay;asBrowserUri(e){let t=this.toUri(e);return this.uriToBrowserUri(t)}uriToBrowserUri(e){return e.scheme===We.vscodeRemote?mc.rewrite(e):e.scheme===We.file&&(Oo||hp===`${We.vscodeFileResource}://${n.FALLBACK_AUTHORITY}`)?e.with({scheme:We.vscodeFileResource,authority:e.authority||n.FALLBACK_AUTHORITY,query:null,fragment:null}):e}asFileUri(e){let t=this.toUri(e);return this.uriToFileUri(t)}uriToFileUri(e){return e.scheme===We.vscodeFileResource?e.with({scheme:We.file,authority:e.authority!==n.FALLBACK_AUTHORITY?e.authority:null,query:null,fragment:null}):e}toUri(e,t){if(Ne.isUri(e))return e;if(globalThis._VSCODE_FILE_ROOT){let i=globalThis._VSCODE_FILE_ROOT;if(/^\w[\w\d+.-]*:\/\//.test(i))return Ne.joinPath(Ne.parse(i,!0),e);let o=Rd(i,e);return Ne.file(o)}return Ne.parse(t.toUrl(e))}},mm=new pc,ly;(r=>{let n=new Map([["1",{"Cross-Origin-Opener-Policy":"same-origin"}],["2",{"Cross-Origin-Embedder-Policy":"require-corp"}],["3",{"Cross-Origin-Opener-Policy":"same-origin","Cross-Origin-Embedder-Policy":"require-corp"}]]);r.CoopAndCoep=Object.freeze(n.get("3"));let t="vscode-coi";function i(s){let a;typeof s=="string"?a=new URL(s).searchParams:s instanceof URL?a=s.searchParams:Ne.isUri(s)&&(a=new URL(s.toString(!0)).searchParams);let l=a?.get(t);if(l)return n.get(l)}r.getHeadersFromQuery=i;function o(s,a,l){if(!globalThis.crossOriginIsolated)return;let d=a&&l?"3":l?"2":"1";s instanceof URLSearchParams?s.set(t,d):s[t]=d}r.addSearchParam=o})(ly||={});function Zn(n){return Mr(n,!0)}var $r=class{constructor(e){this._ignorePathCasing=e}compare(e,t,i=!1){return e===t?0:rc(this.getComparisonKey(e,i),this.getComparisonKey(t,i))}isEqual(e,t,i=!1){return e===t?!0:!e||!t?!1:this.getComparisonKey(e,i)===this.getComparisonKey(t,i)}getComparisonKey(e,t=!1){return e.with({path:this._ignorePathCasing(e)?e.path.toLowerCase():void 0,fragment:t?null:void 0}).toString()}ignorePathCasing(e){return this._ignorePathCasing(e)}isEqualOrParent(e,t,i=!1){if(e.scheme===t.scheme){if(e.scheme===We.file)return uc(Zn(e),Zn(t),this._ignorePathCasing(e))&&e.query===t.query&&(i||e.fragment===t.fragment);if(fm(e.authority,t.authority))return uc(e.path,t.path,this._ignorePathCasing(e),"/")&&e.query===t.query&&(i||e.fragment===t.fragment)}return!1}joinPath(e,...t){return Ne.joinPath(e,...t)}basenameOrAuthority(e){return py(e)||e.authority}basename(e){return De.basename(e.path)}extname(e){return De.extname(e.path)}dirname(e){if(e.path.length===0)return e;let t;return e.scheme===We.file?t=Ne.file(Sp(Zn(e))).path:(t=De.dirname(e.path),e.authority&&t.length&&t.charCodeAt(0)!==47&&(console.error(`dirname("${e.toString})) resulted in a relative path`),t="/")),e.with({path:t})}normalizePath(e){if(!e.path.length)return e;let t;return e.scheme===We.file?t=Ne.file(Md(Zn(e))).path:t=De.normalize(e.path),e.with({path:t})}relativePath(e,t){if(e.scheme!==t.scheme||!fm(e.authority,t.authority))return;if(e.scheme===We.file){let r=xp(Zn(e),Zn(t));return rt?Ea(r):r}let i=e.path||"/",o=t.path||"/";if(this._ignorePathCasing(e)){let r=0;for(let s=Math.min(i.length,o.length);r<s&&!(i.charCodeAt(r)!==o.charCodeAt(r)&&i.charAt(r).toLowerCase()!==o.charAt(r).toLowerCase());r++);i=o.substr(0,r)+i.substr(r)}return De.relative(i,o)}resolvePath(e,t){if(e.scheme===We.file){let i=Ne.file(Ip(Zn(e),t));return e.with({authority:i.authority,path:i.path})}return t=pm(t),e.with({path:De.resolve(e.path,t)})}isAbsolutePath(e){return!!e.path&&e.path[0]==="/"}isEqualAuthority(e,t){return e===t||e!==void 0&&t!==void 0&&Sa(e,t)}hasTrailingPathSeparator(e,t=to){if(e.scheme===We.file){let i=Zn(e);return i.length>cc(i).length&&i[i.length-1]===t}else{let i=e.path;return i.length>1&&i.charCodeAt(i.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(e.fsPath)}}removeTrailingPathSeparator(e,t=to){return gm(e,t)?e.with({path:e.path.substr(0,e.path.length-1)}):e}addTrailingPathSeparator(e,t=to){let i=!1;if(e.scheme===We.file){let o=Zn(e);i=o!==void 0&&o.length===cc(o).length&&o[o.length-1]===t}else{t="/";let o=e.path;i=o.length===1&&o.charCodeAt(o.length-1)===47}return!i&&!gm(e,t)?e.with({path:e.path+"/"}):e}},_e=new $r(()=>!1),dy=new $r(n=>n.scheme===We.file?!sn:!0),cy=new $r(n=>!0),uy=_e.isEqual.bind(_e),cE=_e.isEqualOrParent.bind(_e),uE=_e.getComparisonKey.bind(_e),hy=_e.basenameOrAuthority.bind(_e),py=_e.basename.bind(_e),my=_e.extname.bind(_e),fy=_e.dirname.bind(_e),gy=_e.joinPath.bind(_e),hE=_e.normalizePath.bind(_e),pE=_e.relativePath.bind(_e),by=_e.resolvePath.bind(_e),mE=_e.isAbsolutePath.bind(_e),fm=_e.isEqualAuthority.bind(_e),gm=_e.hasTrailingPathSeparator.bind(_e),fE=_e.removeTrailingPathSeparator.bind(_e),gE=_e.addTrailingPathSeparator.bind(_e);var vy;(r=>{r.META_DATA_LABEL="label",r.META_DATA_DESCRIPTION="description",r.META_DATA_SIZE="size",r.META_DATA_MIME="mime";function o(s){let a=new Map;s.path.substring(s.path.indexOf(";")+1,s.path.lastIndexOf(";")).split(";").forEach(u=>{let[h,g]=u.split(":");h&&g&&a.set(h,g)});let d=s.path.substring(0,s.path.indexOf(";"));return d&&a.set(r.META_DATA_MIME,d),a}r.parseMetaData=o})(vy||={});function fc(n){let e=new Xn,t=n(e.token),i=new Promise((o,r)=>{let s=e.token.onCancellationRequested(()=>{s.dispose(),r(new wn)});Promise.resolve(t).then(a=>{s.dispose(),e.dispose(),o(a)},a=>{s.dispose(),e.dispose(),r(a)})});return new class{cancel(){e.cancel(),e.dispose()}then(o,r){return i.then(o,r)}catch(o){return this.then(void 0,o)}finally(o){return i.finally(o)}}}var yy=(n,e)=>{let t=!0,i=setTimeout(()=>{t=!1,e()},n);return{isTriggered:()=>t,dispose:()=>{clearTimeout(i),t=!1}}},Ty=n=>{let e=!0;return queueMicrotask(()=>{e&&(e=!1,n())}),{isTriggered:()=>e,dispose:()=>{e=!1}}},Cn=class{constructor(e){this.defaultDelay=e;this.deferred=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}deferred;completionPromise;doResolve;doReject;task;trigger(e,t=this.defaultDelay){this.task=e,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((o,r)=>{this.doResolve=o,this.doReject=r}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){let o=this.task;return this.task=null,o()}}));let i=()=>{this.deferred=null,this.doResolve?.(null)};return this.deferred=t===ha?Ty(i):yy(t,i),this.completionPromise}isTriggered(){return!!this.deferred?.isTriggered()}cancel(){this.cancelTimeout(),this.completionPromise&&(this.doReject?.(new wn),this.completionPromise=null)}cancelTimeout(){this.deferred?.dispose(),this.deferred=null}dispose(){this.cancel()}};function Li(n,e){return e?new Promise((t,i)=>{let o=setTimeout(()=>{r.dispose(),t()},n),r=e.onCancellationRequested(()=>{clearTimeout(o),r.dispose(),i(new wn)})}):fc(t=>Li(n,t))}function qr(n,e=0,t){let i=setTimeout(()=>{n(),t&&o.dispose()},e),o=ce(()=>{clearTimeout(i),t?.deleteAndLeak(o)});return t?.add(o),o}var ei=class{_token;_isDisposed=!1;constructor(e,t){this._token=-1,typeof e=="function"&&typeof t=="number"&&this.setIfNotSet(e,t)}dispose(){this.cancel(),this._isDisposed=!0}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(e,t){if(this._isDisposed)throw new on("Calling 'cancelAndSet' on a disposed TimeoutTimer");this.cancel(),this._token=setTimeout(()=>{this._token=-1,e()},t)}setIfNotSet(e,t){if(this._isDisposed)throw new on("Calling 'setIfNotSet' on a disposed TimeoutTimer");this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,e()},t))}},Ca=class{disposable=void 0;isDisposed=!1;cancel(){this.disposable?.dispose(),this.disposable=void 0}cancelAndSet(e,t,i=globalThis){if(this.isDisposed)throw new on("Calling 'cancelAndSet' on a disposed IntervalTimer");this.cancel();let o=i.setInterval(()=>{e()},t);this.disposable=ce(()=>{i.clearInterval(o),this.disposable=void 0})}dispose(){this.cancel(),this.isDisposed=!0}},ki=class{runner;timeoutToken;timeout;timeoutHandler;constructor(e,t){this.timeoutToken=-1,this.runner=e,this.timeout=t,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(e=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,e)}get delay(){return this.timeout}set delay(e){this.timeout=e}isScheduled(){return this.timeoutToken!==-1}flush(){this.isScheduled()&&(this.cancel(),this.doRun())}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){this.runner?.()}};var Iy,Da;(function(){typeof globalThis.requestIdleCallback!="function"||typeof globalThis.cancelIdleCallback!="function"?Da=(n,e)=>{mp(()=>{if(t)return;let i=Date.now()+15;e(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,i-Date.now())}}))});let t=!1;return{dispose(){t||(t=!0)}}}:Da=(n,e,t)=>{let i=n.requestIdleCallback(e,typeof t=="number"?{timeout:t}:void 0),o=!1;return{dispose(){o||(o=!0,n.cancelIdleCallback(i))}}},Iy=n=>Da(globalThis,n)})();var gc;(t=>{async function n(i){let o,r=await Promise.all(i.map(s=>s.then(a=>a,a=>{o||(o=a)})));if(typeof o<"u")throw o;return r}t.settled=n;function e(i){return new Promise(async(o,r)=>{try{await i(o,r)}catch(s){r(s)}})}t.withAsyncBody=e})(gc||={});var bm=class n{static fromArray(e){return new n(t=>{t.emitMany(e)})}static fromPromise(e){return new n(async t=>{t.emitMany(await e)})}static fromPromises(e){return new n(async t=>{await Promise.all(e.map(async i=>t.emitOne(await i)))})}static merge(e){return new n(async t=>{await Promise.all(e.map(async i=>{for await(let o of i)t.emitOne(o)}))})}static EMPTY=n.fromArray([]);_state;_results;_error;_onReturn;_onStateChanged;constructor(e,t){this._state=0,this._results=[],this._error=null,this._onReturn=t,this._onStateChanged=new L,queueMicrotask(async()=>{let i={emitOne:o=>this.emitOne(o),emitMany:o=>this.emitMany(o),reject:o=>this.reject(o)};try{await Promise.resolve(e(i)),this.resolve()}catch(o){this.reject(o)}finally{i.emitOne=void 0,i.emitMany=void 0,i.reject=void 0}})}[Symbol.asyncIterator](){let e=0;return{next:async()=>{do{if(this._state===2)throw this._error;if(e<this._results.length)return{done:!1,value:this._results[e++]};if(this._state===1)return{done:!0,value:void 0};await A.toPromise(this._onStateChanged.event)}while(!0)},return:async()=>(this._onReturn?.(),{done:!0,value:void 0})}}static map(e,t){return new n(async i=>{for await(let o of e)i.emitOne(t(o))})}map(e){return n.map(this,e)}static filter(e,t){return new n(async i=>{for await(let o of e)t(o)&&i.emitOne(o)})}filter(e){return n.filter(this,e)}static coalesce(e){return n.filter(e,t=>!!t)}coalesce(){return n.coalesce(this)}static async toPromise(e){let t=[];for await(let i of e)t.push(i);return t}toPromise(){return n.toPromise(this)}emitOne(e){this._state===0&&(this._results.push(e),this._onStateChanged.fire())}emitMany(e){this._state===0&&(this._results=this._results.concat(e),this._onStateChanged.fire())}resolve(){this._state===0&&(this._state=1,this._onStateChanged.fire())}reject(e){this._state===0&&(this._state=2,this._error=e,this._onStateChanged.fire())}};var{entries:Em,setPrototypeOf:vm,isFrozen:xy,getPrototypeOf:Sy,getOwnPropertyDescriptor:wy}=Object,{freeze:Ct,seal:pn,create:Ey}=Object,{apply:xc,construct:Sc}=typeof Reflect<"u"&&Reflect;xc||(xc=function(e,t,i){return e.apply(t,i)});Ct||(Ct=function(e){return e});pn||(pn=function(e){return e});Sc||(Sc=function(e,t){return new e(...t)});var Dy=Xt(Array.prototype.forEach),ym=Xt(Array.prototype.pop),Gr=Xt(Array.prototype.push),La=Xt(String.prototype.toLowerCase),bc=Xt(String.prototype.toString),Cy=Xt(String.prototype.match),hn=Xt(String.prototype.replace),_y=Xt(String.prototype.indexOf),ky=Xt(String.prototype.trim),Vt=Xt(RegExp.prototype.test),jr=Ly(TypeError);function Xt(n){return function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];return xc(n,e,i)}}function Ly(n){return function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return Sc(n,t)}}function Ie(n,e,t){var i;t=(i=t)!==null&&i!==void 0?i:La,vm&&vm(n,null);let o=e.length;for(;o--;){let r=e[o];if(typeof r=="string"){let s=t(r);s!==r&&(xy(e)||(e[o]=s),r=s)}n[r]=!0}return n}function qo(n){let e=Ey(null);for(let[t,i]of Em(n))e[t]=i;return e}function _a(n,e){for(;n!==null;){let i=wy(n,e);if(i){if(i.get)return Xt(i.get);if(typeof i.value=="function")return Xt(i.value)}n=Sy(n)}function t(i){return console.warn("fallback value for",i),null}return t}var Tm=Ct(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),vc=Ct(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),yc=Ct(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Ay=Ct(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Tc=Ct(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Ny=Ct(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Im=Ct(["#text"]),xm=Ct(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Ic=Ct(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Sm=Ct(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),ka=Ct(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),My=pn(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Ry=pn(/<%[\w\W]*|[\w\W]*%>/gm),Oy=pn(/\${[\w\W]*}/gm),Fy=pn(/^data-[\-\w.\u00B7-\uFFFF]/),Py=pn(/^aria-[\-\w]+$/),Dm=pn(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),By=pn(/^(?:\w+script|data):/i),Hy=pn(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Cm=pn(/^html$/i),wm=Object.freeze({__proto__:null,MUSTACHE_EXPR:My,ERB_EXPR:Ry,TMPLIT_EXPR:Oy,DATA_ATTR:Fy,ARIA_ATTR:Py,IS_ALLOWED_URI:Dm,IS_SCRIPT_OR_DATA:By,ATTR_WHITESPACE:Hy,DOCTYPE_NAME:Cm}),Ky=()=>typeof window>"u"?null:window,zy=function(e,t){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let i=null,o="data-tt-policy-suffix";t&&t.hasAttribute(o)&&(i=t.getAttribute(o));let r="dompurify"+(i?"#"+i:"");try{return e.createPolicy(r,{createHTML(s){return s},createScriptURL(s){return s}})}catch{return console.warn("TrustedTypes policy "+r+" could not be created."),null}};function _m(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ky(),e=Y=>_m(Y);if(e.version="3.0.5",e.removed=[],!n||!n.document||n.document.nodeType!==9)return e.isSupported=!1,e;let t=n.document,i=t.currentScript,{document:o}=n,{DocumentFragment:r,HTMLTemplateElement:s,Node:a,Element:l,NodeFilter:d,NamedNodeMap:u=n.NamedNodeMap||n.MozNamedAttrMap,HTMLFormElement:h,DOMParser:g,trustedTypes:T}=n,w=l.prototype,v=_a(w,"cloneNode"),E=_a(w,"nextSibling"),P=_a(w,"childNodes"),R=_a(w,"parentNode");if(typeof s=="function"){let Y=o.createElement("template");Y.content&&Y.content.ownerDocument&&(o=Y.content.ownerDocument)}let U,O="",{implementation:_,createNodeIterator:H,createDocumentFragment:B,getElementsByTagName:N}=o,{importNode:Z}=t,ve={};e.isSupported=typeof Em=="function"&&typeof R=="function"&&_&&_.createHTMLDocument!==void 0;let{MUSTACHE_EXPR:ae,ERB_EXPR:ne,TMPLIT_EXPR:vt,DATA_ATTR:Ht,ARIA_ATTR:X,IS_SCRIPT_OR_DATA:K,ATTR_WHITESPACE:G}=wm,{IS_ALLOWED_URI:W}=wm,$=null,de=Ie({},[...Tm,...vc,...yc,...Tc,...Im]),se=null,Ke=Ie({},[...xm,...Ic,...Sm,...ka]),ge=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),te=null,yn=null,nn=!0,ci=!0,Tn=!1,ko=!0,kt=!1,zn=!1,wr=!1,Er=!1,ui=!1,Lo=!1,Ao=!1,Fs=!0,Ps=!1,vd="user-content-",hi=!0,Yi=!1,Un={},Vn=null,Bs=Ie({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),No=null,Hs=Ie({},["audio","video","img","source","image","track"]),Xi=null,Ks=Ie({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Wn="http://www.w3.org/1998/Math/MathML",In="http://www.w3.org/2000/svg",et="http://www.w3.org/1999/xhtml",jt=et,pi=!1,Et=null,Ji=Ie({},[Wn,In,et],bc),xn,$n=["application/xhtml+xml","text/html"],Le="text/html",it,mi=null,yd=o.createElement("form"),zs=function(S){return S instanceof RegExp||S instanceof Function},Dr=function(S){if(!(mi&&mi===S)){if((!S||typeof S!="object")&&(S={}),S=qo(S),xn=$n.indexOf(S.PARSER_MEDIA_TYPE)===-1?xn=Le:xn=S.PARSER_MEDIA_TYPE,it=xn==="application/xhtml+xml"?bc:La,$="ALLOWED_TAGS"in S?Ie({},S.ALLOWED_TAGS,it):de,se="ALLOWED_ATTR"in S?Ie({},S.ALLOWED_ATTR,it):Ke,Et="ALLOWED_NAMESPACES"in S?Ie({},S.ALLOWED_NAMESPACES,bc):Ji,Xi="ADD_URI_SAFE_ATTR"in S?Ie(qo(Ks),S.ADD_URI_SAFE_ATTR,it):Ks,No="ADD_DATA_URI_TAGS"in S?Ie(qo(Hs),S.ADD_DATA_URI_TAGS,it):Hs,Vn="FORBID_CONTENTS"in S?Ie({},S.FORBID_CONTENTS,it):Bs,te="FORBID_TAGS"in S?Ie({},S.FORBID_TAGS,it):{},yn="FORBID_ATTR"in S?Ie({},S.FORBID_ATTR,it):{},Un="USE_PROFILES"in S?S.USE_PROFILES:!1,nn=S.ALLOW_ARIA_ATTR!==!1,ci=S.ALLOW_DATA_ATTR!==!1,Tn=S.ALLOW_UNKNOWN_PROTOCOLS||!1,ko=S.ALLOW_SELF_CLOSE_IN_ATTR!==!1,kt=S.SAFE_FOR_TEMPLATES||!1,zn=S.WHOLE_DOCUMENT||!1,ui=S.RETURN_DOM||!1,Lo=S.RETURN_DOM_FRAGMENT||!1,Ao=S.RETURN_TRUSTED_TYPE||!1,Er=S.FORCE_BODY||!1,Fs=S.SANITIZE_DOM!==!1,Ps=S.SANITIZE_NAMED_PROPS||!1,hi=S.KEEP_CONTENT!==!1,Yi=S.IN_PLACE||!1,W=S.ALLOWED_URI_REGEXP||Dm,jt=S.NAMESPACE||et,ge=S.CUSTOM_ELEMENT_HANDLING||{},S.CUSTOM_ELEMENT_HANDLING&&zs(S.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ge.tagNameCheck=S.CUSTOM_ELEMENT_HANDLING.tagNameCheck),S.CUSTOM_ELEMENT_HANDLING&&zs(S.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ge.attributeNameCheck=S.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),S.CUSTOM_ELEMENT_HANDLING&&typeof S.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ge.allowCustomizedBuiltInElements=S.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),kt&&(ci=!1),Lo&&(ui=!0),Un&&($=Ie({},[...Im]),se=[],Un.html===!0&&(Ie($,Tm),Ie(se,xm)),Un.svg===!0&&(Ie($,vc),Ie(se,Ic),Ie(se,ka)),Un.svgFilters===!0&&(Ie($,yc),Ie(se,Ic),Ie(se,ka)),Un.mathMl===!0&&(Ie($,Tc),Ie(se,Sm),Ie(se,ka))),S.ADD_TAGS&&($===de&&($=qo($)),Ie($,S.ADD_TAGS,it)),S.ADD_ATTR&&(se===Ke&&(se=qo(se)),Ie(se,S.ADD_ATTR,it)),S.ADD_URI_SAFE_ATTR&&Ie(Xi,S.ADD_URI_SAFE_ATTR,it),S.FORBID_CONTENTS&&(Vn===Bs&&(Vn=qo(Vn)),Ie(Vn,S.FORBID_CONTENTS,it)),hi&&($["#text"]=!0),zn&&Ie($,["html","head","body"]),$.table&&(Ie($,["tbody"]),delete te.tbody),S.TRUSTED_TYPES_POLICY){if(typeof S.TRUSTED_TYPES_POLICY.createHTML!="function")throw jr('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof S.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw jr('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');U=S.TRUSTED_TYPES_POLICY,O=U.createHTML("")}else U===void 0&&(U=zy(T,i)),U!==null&&typeof O=="string"&&(O=U.createHTML(""));Ct&&Ct(S),mi=S}},Us=Ie({},["mi","mo","mn","ms","mtext"]),Vs=Ie({},["foreignobject","desc","title","annotation-xml"]),Td=Ie({},["title","style","font","a","script"]),oe=Ie({},vc);Ie(oe,yc),Ie(oe,Ay);let m=Ie({},Tc);Ie(m,Ny);let f=function(S){let F=R(S);(!F||!F.tagName)&&(F={namespaceURI:jt,tagName:"template"});let q=La(S.tagName),Ae=La(F.tagName);return Et[S.namespaceURI]?S.namespaceURI===In?F.namespaceURI===et?q==="svg":F.namespaceURI===Wn?q==="svg"&&(Ae==="annotation-xml"||Us[Ae]):!!oe[q]:S.namespaceURI===Wn?F.namespaceURI===et?q==="math":F.namespaceURI===In?q==="math"&&Vs[Ae]:!!m[q]:S.namespaceURI===et?F.namespaceURI===In&&!Vs[Ae]||F.namespaceURI===Wn&&!Us[Ae]?!1:!m[q]&&(Td[q]||!oe[q]):!!(xn==="application/xhtml+xml"&&Et[S.namespaceURI]):!1},b=function(S){Gr(e.removed,{element:S});try{S.parentNode.removeChild(S)}catch{S.remove()}},I=function(S,F){try{Gr(e.removed,{attribute:F.getAttributeNode(S),from:F})}catch{Gr(e.removed,{attribute:null,from:F})}if(F.removeAttribute(S),S==="is"&&!se[S])if(ui||Lo)try{b(F)}catch{}else try{F.setAttribute(S,"")}catch{}},x=function(S){let F,q;if(Er)S="<remove></remove>"+S;else{let yt=Cy(S,/^[\r\n\t ]+/);q=yt&&yt[0]}xn==="application/xhtml+xml"&&jt===et&&(S='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+S+"</body></html>");let Ae=U?U.createHTML(S):S;if(jt===et)try{F=new g().parseFromString(Ae,xn)}catch{}if(!F||!F.documentElement){F=_.createDocument(jt,"template",null);try{F.documentElement.innerHTML=pi?O:Ae}catch{}}let tt=F.body||F.documentElement;return S&&q&&tt.insertBefore(o.createTextNode(q),tt.childNodes[0]||null),jt===et?N.call(F,zn?"html":"body")[0]:zn?F.documentElement:tt},D=function(S){return H.call(S.ownerDocument||S,S,d.SHOW_ELEMENT|d.SHOW_COMMENT|d.SHOW_TEXT,null,!1)},C=function(S){return S instanceof h&&(typeof S.nodeName!="string"||typeof S.textContent!="string"||typeof S.removeChild!="function"||!(S.attributes instanceof u)||typeof S.removeAttribute!="function"||typeof S.setAttribute!="function"||typeof S.namespaceURI!="string"||typeof S.insertBefore!="function"||typeof S.hasChildNodes!="function")},z=function(S){return typeof a=="object"?S instanceof a:S&&typeof S=="object"&&typeof S.nodeType=="number"&&typeof S.nodeName=="string"},V=function(S,F,q){ve[S]&&Dy(ve[S],Ae=>{Ae.call(e,F,q,mi)})},re=function(S){let F;if(V("beforeSanitizeElements",S,null),C(S))return b(S),!0;let q=it(S.nodeName);if(V("uponSanitizeElement",S,{tagName:q,allowedTags:$}),S.hasChildNodes()&&!z(S.firstElementChild)&&(!z(S.content)||!z(S.content.firstElementChild))&&Vt(/<[/\w]/g,S.innerHTML)&&Vt(/<[/\w]/g,S.textContent))return b(S),!0;if(!$[q]||te[q]){if(!te[q]&&Re(q)&&(ge.tagNameCheck instanceof RegExp&&Vt(ge.tagNameCheck,q)||ge.tagNameCheck instanceof Function&&ge.tagNameCheck(q)))return!1;if(hi&&!Vn[q]){let Ae=R(S)||S.parentNode,tt=P(S)||S.childNodes;if(tt&&Ae){let yt=tt.length;for(let je=yt-1;je>=0;--je)Ae.insertBefore(v(tt[je],!0),E(S))}}return b(S),!0}return S instanceof l&&!f(S)||(q==="noscript"||q==="noembed"||q==="noframes")&&Vt(/<\/no(script|embed|frames)/i,S.innerHTML)?(b(S),!0):(kt&&S.nodeType===3&&(F=S.textContent,F=hn(F,ae," "),F=hn(F,ne," "),F=hn(F,vt," "),S.textContent!==F&&(Gr(e.removed,{element:S.cloneNode()}),S.textContent=F)),V("afterSanitizeElements",S,null),!1)},Se=function(S,F,q){if(Fs&&(F==="id"||F==="name")&&(q in o||q in yd))return!1;if(!(ci&&!yn[F]&&Vt(Ht,F))){if(!(nn&&Vt(X,F))){if(!se[F]||yn[F]){if(!(Re(S)&&(ge.tagNameCheck instanceof RegExp&&Vt(ge.tagNameCheck,S)||ge.tagNameCheck instanceof Function&&ge.tagNameCheck(S))&&(ge.attributeNameCheck instanceof RegExp&&Vt(ge.attributeNameCheck,F)||ge.attributeNameCheck instanceof Function&&ge.attributeNameCheck(F))||F==="is"&&ge.allowCustomizedBuiltInElements&&(ge.tagNameCheck instanceof RegExp&&Vt(ge.tagNameCheck,q)||ge.tagNameCheck instanceof Function&&ge.tagNameCheck(q))))return!1}else if(!Xi[F]){if(!Vt(W,hn(q,G,""))){if(!((F==="src"||F==="xlink:href"||F==="href")&&S!=="script"&&_y(q,"data:")===0&&No[S])){if(!(Tn&&!Vt(K,hn(q,G,"")))){if(q)return!1}}}}}}return!0},Re=function(S){return S.indexOf("-")>0},Qe=function(S){let F,q,Ae,tt;V("beforeSanitizeAttributes",S,null);let{attributes:yt}=S;if(!yt)return;let je={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:se};for(tt=yt.length;tt--;){F=yt[tt];let{name:Sn,namespaceURI:Id}=F;if(q=Sn==="value"?F.value:ky(F.value),Ae=it(Sn),je.attrName=Ae,je.attrValue=q,je.keepAttr=!0,je.forceKeepAttr=void 0,V("uponSanitizeAttribute",S,je),q=je.attrValue,je.forceKeepAttr||(I(Sn,S),!je.keepAttr))continue;if(!ko&&Vt(/\/>/i,q)){I(Sn,S);continue}kt&&(q=hn(q,ae," "),q=hn(q,ne," "),q=hn(q,vt," "));let Qh=it(S.nodeName);if(Se(Qh,Ae,q)){if(Ps&&(Ae==="id"||Ae==="name")&&(I(Sn,S),q=vd+q),U&&typeof T=="object"&&typeof T.getAttributeType=="function"&&!Id)switch(T.getAttributeType(Qh,Ae)){case"TrustedHTML":{q=U.createHTML(q);break}case"TrustedScriptURL":{q=U.createScriptURL(q);break}}try{Id?S.setAttributeNS(Id,Sn,q):S.setAttribute(Sn,q),ym(e.removed)}catch{}}}V("afterSanitizeAttributes",S,null)},Pe=function Y(S){let F,q=D(S);for(V("beforeSanitizeShadowDOM",S,null);F=q.nextNode();)V("uponSanitizeShadowNode",F,null),!re(F)&&(F.content instanceof r&&Y(F.content),Qe(F));V("afterSanitizeShadowDOM",S,null)};return e.sanitize=function(Y){let S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},F,q,Ae,tt;if(pi=!Y,pi&&(Y="<!-->"),typeof Y!="string"&&!z(Y))if(typeof Y.toString=="function"){if(Y=Y.toString(),typeof Y!="string")throw jr("dirty is not a string, aborting")}else throw jr("toString is not a function");if(!e.isSupported)return Y;if(wr||Dr(S),e.removed=[],typeof Y=="string"&&(Yi=!1),Yi){if(Y.nodeName){let Sn=it(Y.nodeName);if(!$[Sn]||te[Sn])throw jr("root node is forbidden and cannot be sanitized in-place")}}else if(Y instanceof a)F=x("<!---->"),q=F.ownerDocument.importNode(Y,!0),q.nodeType===1&&q.nodeName==="BODY"||q.nodeName==="HTML"?F=q:F.appendChild(q);else{if(!ui&&!kt&&!zn&&Y.indexOf("<")===-1)return U&&Ao?U.createHTML(Y):Y;if(F=x(Y),!F)return ui?null:Ao?O:""}F&&Er&&b(F.firstChild);let yt=D(Yi?Y:F);for(;Ae=yt.nextNode();)re(Ae)||(Ae.content instanceof r&&Pe(Ae.content),Qe(Ae));if(Yi)return Y;if(ui){if(Lo)for(tt=B.call(F.ownerDocument);F.firstChild;)tt.appendChild(F.firstChild);else tt=F;return(se.shadowroot||se.shadowrootmode)&&(tt=Z.call(t,tt,!0)),tt}let je=zn?F.outerHTML:F.innerHTML;return zn&&$["!doctype"]&&F.ownerDocument&&F.ownerDocument.doctype&&F.ownerDocument.doctype.name&&Vt(Cm,F.ownerDocument.doctype.name)&&(je="<!DOCTYPE "+F.ownerDocument.doctype.name+`>
`+je),kt&&(je=hn(je,ae," "),je=hn(je,ne," "),je=hn(je,vt," ")),U&&Ao?U.createHTML(je):je},e.setConfig=function(Y){Dr(Y),wr=!0},e.clearConfig=function(){mi=null,wr=!1},e.isValidAttribute=function(Y,S,F){mi||Dr({});let q=it(Y),Ae=it(S);return Se(q,Ae,F)},e.addHook=function(Y,S){typeof S=="function"&&(ve[Y]=ve[Y]||[],Gr(ve[Y],S))},e.removeHook=function(Y){if(ve[Y])return ym(ve[Y])},e.removeHooks=function(Y){ve[Y]&&(ve[Y]=[])},e.removeAllHooks=function(){ve={}},e}var _n=_m();var RE=_n.version,OE=_n.isSupported,wc=_n.sanitize,FE=_n.setConfig,PE=_n.clearConfig,BE=_n.isValidAttribute,km=_n.addHook,Lm=_n.removeHook,HE=_n.removeHooks,KE=_n.removeAllHooks;function Rm(n){return Dc(n,0)}function Dc(n,e){switch(typeof n){case"object":return n===null?ti(349,e):Array.isArray(n)?Vy(n,e):Wy(n,e);case"string":return Aa(n,e);case"boolean":return Uy(n,e);case"number":return ti(n,e);case"undefined":return ti(937,e);default:return ti(617,e)}}function ti(n,e){return(e<<5)-e+n|0}function Uy(n,e){return ti(n?433:863,e)}function Aa(n,e){e=ti(149417,e);for(let t=0,i=n.length;t<i;t++)e=ti(n.charCodeAt(t),e);return e}function Vy(n,e){return e=ti(104579,e),n.reduce((t,i)=>Dc(i,t),e)}function Wy(n,e){return e=ti(181387,e),Object.keys(n).sort().reduce((t,i)=>(t=Aa(i,t),Dc(n[i],t)),e)}function Ec(n,e,t=32){let i=t-e,o=~((1<<i)-1);return(n<<e|(o&n)>>>i)>>>0}function Nm(n,e=0,t=n.byteLength,i=0){for(let o=0;o<t;o++)n[e+o]=i}function $y(n,e,t="0"){for(;n.length<e;)n=t+n;return n}function Yr(n,e=32){return n instanceof ArrayBuffer?Array.from(new Uint8Array(n)).map(t=>t.toString(16).padStart(2,"0")).join(""):$y((n>>>0).toString(16),e/4)}var Mm=class n{static _bigBlock32=new DataView(new ArrayBuffer(320));_h0=1732584193;_h1=4023233417;_h2=2562383102;_h3=271733878;_h4=3285377520;_buff;_buffDV;_buffLen;_totalLen;_leftoverHighSurrogate;_finished;constructor(){this._buff=new Uint8Array(67),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(e){let t=e.length;if(t===0)return;let i=this._buff,o=this._buffLen,r=this._leftoverHighSurrogate,s,a;for(r!==0?(s=r,a=-1,r=0):(s=e.charCodeAt(0),a=0);;){let l=s;if(sm(s))if(a+1<t){let d=e.charCodeAt(a+1);ac(d)?(a++,l=am(s,d)):l=65533}else{r=s;break}else ac(s)&&(l=65533);if(o=this._push(i,o,l),a++,a<t)s=e.charCodeAt(a);else break}this._buffLen=o,this._leftoverHighSurrogate=r}_push(e,t,i){return i<128?e[t++]=i:i<2048?(e[t++]=192|(i&1984)>>>6,e[t++]=128|(i&63)>>>0):i<65536?(e[t++]=224|(i&61440)>>>12,e[t++]=128|(i&4032)>>>6,e[t++]=128|(i&63)>>>0):(e[t++]=240|(i&1835008)>>>18,e[t++]=128|(i&258048)>>>12,e[t++]=128|(i&4032)>>>6,e[t++]=128|(i&63)>>>0),t>=64&&(this._step(),t-=64,this._totalLen+=64,e[0]=e[64],e[1]=e[65],e[2]=e[66]),t}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),Yr(this._h0)+Yr(this._h1)+Yr(this._h2)+Yr(this._h3)+Yr(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,Nm(this._buff,this._buffLen),this._buffLen>56&&(this._step(),Nm(this._buff));let e=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(e/4294967296),!1),this._buffDV.setUint32(60,e%4294967296,!1),this._step()}_step(){let e=n._bigBlock32,t=this._buffDV;for(let h=0;h<64;h+=4)e.setUint32(h,t.getUint32(h,!1),!1);for(let h=64;h<320;h+=4)e.setUint32(h,Ec(e.getUint32(h-12,!1)^e.getUint32(h-32,!1)^e.getUint32(h-56,!1)^e.getUint32(h-64,!1),1),!1);let i=this._h0,o=this._h1,r=this._h2,s=this._h3,a=this._h4,l,d,u;for(let h=0;h<80;h++)h<20?(l=o&r|~o&s,d=1518500249):h<40?(l=o^r^s,d=1859775393):h<60?(l=o&r|o&s|r&s,d=2400959708):(l=o^r^s,d=3395469782),u=Ec(i,5)+l+a+d+e.getUint32(h*4,!1)&4294967295,a=s,s=r,r=Ec(o,30),o=i,i=u;this._h0=this._h0+i&4294967295,this._h1=this._h1+o&4294967295,this._h2=this._h2+r&4294967295,this._h3=this._h3+s&4294967295,this._h4=this._h4+a&4294967295}};function st(n,e,t){return Math.min(Math.max(n,e),t)}var{registerWindow:lD,getWindow:me,getDocument:dD,getWindows:Pm,getWindowsCount:qy,getWindowId:Om,getWindowById:cD,hasWindow:uD,onDidRegisterWindow:Bm,onWillUnregisterWindow:hD,onDidUnregisterWindow:pD}=function(){let n=new Map;Zh(Ye,1);let e={window:Ye,disposables:new j};n.set(Ye.vscodeWindowId,e);let t=new L,i=new L,o=new L;function r(s,a){return(typeof s=="number"?n.get(s):void 0)??(a?e:void 0)}return{onDidRegisterWindow:t.event,onWillUnregisterWindow:o.event,onDidUnregisterWindow:i.event,registerWindow(s){if(n.has(s.vscodeWindowId))return Q.None;let a=new j,l={window:s,disposables:a.add(new j)};return n.set(s.vscodeWindowId,l),a.add(ce(()=>{n.delete(s.vscodeWindowId),i.fire(s)})),a.add(J(s,pe.BEFORE_UNLOAD,()=>{o.fire(s)})),t.fire(l),a},getWindows(){return n.values()},getWindowsCount(){return n.size},getWindowId(s){return s.vscodeWindowId},hasWindow(s){return n.has(s)},getWindowById:r,getWindow(s){let a=s;if(a?.ownerDocument?.defaultView)return a.ownerDocument.defaultView.window;let l=s;return l?.view?l.view.window:Ye},getDocument(s){return me(s).document}}}();function mt(n){for(;n.firstChild;)n.firstChild.remove()}var Cc=class{_handler;_node;_type;_options;constructor(e,t,i,o){this._node=e,this._type=t,this._handler=i,this._options=o||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){this._handler&&(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}};function J(n,e,t,i){return new Cc(n,e,t,i)}function Gy(n,e){return function(t){return e(new Ut(n,t))}}function jy(n){return function(e){return n(new He(e))}}var ni=function(e,t,i,o){let r=i;return t==="click"||t==="mousedown"||t==="contextmenu"?r=Gy(me(e),i):(t==="keydown"||t==="keypress"||t==="keyup")&&(r=jy(i)),J(e,t,r,o)};var Yy,Wt;var Na=class extends Ca{defaultTarget;constructor(e){super(),this.defaultTarget=e&&me(e)}cancelAndSet(e,t,i){return super.cancelAndSet(e,t,i??this.defaultTarget)}},Xr=class{_runner;priority;_canceled;constructor(e,t=0){this._runner=e,this.priority=t,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(e){Lt(e)}}static sort(e,t){return t.priority-e.priority}};(function(){let n=new Map,e=new Map,t=new Map,i=new Map,o=r=>{t.set(r,!1);let s=n.get(r)??[];for(e.set(r,s),n.set(r,[]),i.set(r,!0);s.length>0;)s.sort(Xr.sort),s.shift().execute();i.set(r,!1)};Wt=(r,s,a=0)=>{let l=Om(r),d=new Xr(s,a),u=n.get(l);return u||(u=[],n.set(l,u)),u.push(d),t.get(l)||(t.set(l,!0),r.requestAnimationFrame(()=>o(l))),d},Yy=(r,s,a)=>{let l=Om(r);if(i.get(l)){let d=new Xr(s,a),u=e.get(l);return u||(u=[],e.set(l,u)),u.push(d),d}else return Wt(r,s,a)}})();function Hm(n){return me(n).getComputedStyle(n,null)}var Tt=class n{static convertToPixels(e,t){return parseFloat(t)||0}static getDimension(e,t,i){let o=Hm(e),r=o?o.getPropertyValue(t):"0";return n.convertToPixels(e,r)}static getBorderLeftWidth(e){return n.getDimension(e,"border-left-width","borderLeftWidth")}static getBorderRightWidth(e){return n.getDimension(e,"border-right-width","borderRightWidth")}static getBorderTopWidth(e){return n.getDimension(e,"border-top-width","borderTopWidth")}static getBorderBottomWidth(e){return n.getDimension(e,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(e){return n.getDimension(e,"padding-left","paddingLeft")}static getPaddingRight(e){return n.getDimension(e,"padding-right","paddingRight")}static getPaddingTop(e){return n.getDimension(e,"padding-top","paddingTop")}static getPaddingBottom(e){return n.getDimension(e,"padding-bottom","paddingBottom")}static getMarginLeft(e){return n.getDimension(e,"margin-left","marginLeft")}static getMarginTop(e){return n.getDimension(e,"margin-top","marginTop")}static getMarginRight(e){return n.getDimension(e,"margin-right","marginRight")}static getMarginBottom(e){return n.getDimension(e,"margin-bottom","marginBottom")}},Ma=class n{constructor(e,t){this.width=e;this.height=t}static None=new n(0,0);with(e=this.width,t=this.height){return e!==this.width||t!==this.height?new n(e,t):this}static is(e){return typeof e=="object"&&typeof e.height=="number"&&typeof e.width=="number"}static lift(e){return e instanceof n?e:new n(e.width,e.height)}static equals(e,t){return e===t?!0:!e||!t?!1:e.width===t.width&&e.height===t.height}};function Km(n){let e=n.offsetParent,t=n.offsetTop,i=n.offsetLeft;for(;(n=n.parentNode)!==null&&n!==n.ownerDocument.body&&n!==n.ownerDocument.documentElement;){t-=n.scrollTop;let o=zm(n)?null:Hm(n);o&&(i-=o.direction!=="rtl"?n.scrollLeft:-n.scrollLeft),n===e&&(i+=Tt.getBorderLeftWidth(n),t+=Tt.getBorderTopWidth(n),t+=n.offsetTop,i+=n.offsetLeft,e=n.offsetParent)}return{left:i,top:t}}function Ra(n){let e=n.getBoundingClientRect(),t=me(n);return{left:e.left+t.scrollX,top:e.top+t.scrollY,width:e.width,height:e.height}}function Jr(n){let e=Tt.getMarginLeft(n)+Tt.getMarginRight(n);return n.offsetWidth+e}function Go(n){let e=Tt.getBorderLeftWidth(n)+Tt.getBorderRightWidth(n),t=Tt.getPaddingLeft(n)+Tt.getPaddingRight(n);return n.offsetWidth-e-t}function Oa(n){let e=Tt.getBorderTopWidth(n)+Tt.getBorderBottomWidth(n),t=Tt.getPaddingTop(n)+Tt.getPaddingBottom(n);return n.offsetHeight-e-t}function Fa(n){let e=Tt.getMarginTop(n)+Tt.getMarginBottom(n);return n.offsetHeight+e}function mn(n,e){return!!e?.contains(n)}function Xy(n,e,t){for(;n&&n.nodeType===n.ELEMENT_NODE;){if(n.classList.contains(e))return n;if(t){if(typeof t=="string"){if(n.classList.contains(t))return null}else if(n===t)return null}n=n.parentNode}return null}function Pa(n,e,t){return!!Xy(n,e,t)}function zm(n){return n&&!!n.host&&!!n.mode}function Jy(n){for(;n.parentNode;){if(n===n.ownerDocument?.body)return null;n=n.parentNode}return zm(n)?n:null}function Ai(){let n=Qy().activeElement;for(;n?.shadowRoot;)n=n.shadowRoot.activeElement;return n}function $t(n){return Ai()===n}function Qy(){return qy()<=1?Ye.document:Array.from(Pm()).map(({window:e})=>e.document).find(e=>e.hasFocus())??Ye.document}var Zy=new Map;function Jt(n=Ye.document.head,e,t){let i=document.createElement("style");if(i.type="text/css",i.media="screen",e?.(i),n.appendChild(i),t&&t.add(ce(()=>i.remove())),n===Ye.document.head){let o=new Set;Zy.set(i,o);for(let{window:r,disposables:s}of Pm()){if(r===Ye)continue;let a=s.add(e1(i,o,r));t?.add(a)}}return i}function e1(n,e,t){let i=new j,o=n.cloneNode(!0);t.document.head.appendChild(o),i.add(ce(()=>o.remove()));for(let r of n1(n))o.sheet?.insertRule(r.cssText,o.sheet?.cssRules.length);return i.add(t1.observe(n,i,{childList:!0})(()=>{o.textContent=n.textContent})),e.add(o),i.add(ce(()=>e.delete(o))),i}var t1=new class{mutationObservers=new Map;observe(n,e,t){let i=this.mutationObservers.get(n);i||(i=new Map,this.mutationObservers.set(n,i));let o=Rm(t),r=i.get(o);if(r)r.users+=1;else{let s=new L,a=new MutationObserver(d=>s.fire(d));a.observe(n,t);let l=r={users:1,observer:a,onDidMutate:s.event};e.add(ce(()=>{l.users-=1,l.users===0&&(s.dispose(),a.disconnect(),i?.delete(o),i?.size===0&&this.mutationObservers.delete(n))})),i.set(o,r)}return r.onDidMutate}};function n1(n){return n?.sheet?.rules?n.sheet.rules:n?.sheet?.cssRules?n.sheet.cssRules:[]}function _t(n){return n instanceof HTMLElement||n instanceof me(n).HTMLElement}function Um(n){return n instanceof SVGElement||n instanceof me(n).SVGElement}function kc(n){return n instanceof MouseEvent||n instanceof me(n).MouseEvent}function kn(n){return n instanceof KeyboardEvent||n instanceof me(n).KeyboardEvent}var pe={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",POINTER_LEAVE:"pointerleave",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",PAGE_SHOW:"pageshow",PAGE_HIDE:"pagehide",PASTE:"paste",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:Uo?"webkitAnimationStart":"animationstart",ANIMATION_END:Uo?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:Uo?"webkitAnimationIteration":"animationiteration"};var $e={stop:(n,e)=>(n.preventDefault(),e&&n.stopPropagation(),n)};var _c=class n extends Q{_onDidFocus=this._register(new L);onDidFocus=this._onDidFocus.event;_onDidBlur=this._register(new L);onDidBlur=this._onDidBlur.event;_refreshStateHandler;static hasFocusWithin(e){if(_t(e)){let t=Jy(e),i=t?t.activeElement:e.ownerDocument.activeElement;return mn(i,e)}else{let t=e;return mn(t.document.activeElement,t.document)}}constructor(e){super();let t=n.hasFocusWithin(e),i=!1,o=()=>{i=!1,t||(t=!0,this._onDidFocus.fire())},r=()=>{t&&(i=!0,(_t(e)?me(e):e).setTimeout(()=>{i&&(i=!1,t=!1,this._onDidBlur.fire())},0))};this._refreshStateHandler=()=>{n.hasFocusWithin(e)!==t&&(t?r():o())},this._register(J(e,pe.FOCUS,o,!0)),this._register(J(e,pe.BLUR,r,!0)),_t(e)&&(this._register(J(e,pe.FOCUS_IN,()=>this._refreshStateHandler())),this._register(J(e,pe.FOCUS_OUT,()=>this._refreshStateHandler())))}refreshState(){this._refreshStateHandler()}};function Ba(n){return new _c(n)}function Me(n,...e){if(n.append(...e),e.length===1&&typeof e[0]!="string")return e[0]}var i1=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;function Vm(n,e,t,...i){let o=i1.exec(e);if(!o)throw new Error("Bad use of emmet");let r=o[1]||"div",s;return n!=="http://www.w3.org/1999/xhtml"?s=document.createElementNS(n,r):s=document.createElement(r),o[3]&&(s.id=o[3]),o[4]&&(s.className=o[4].replace(/\./g," ").trim()),t&&Object.entries(t).forEach(([a,l])=>{typeof l>"u"||(/^on\w+$/.test(a)?s[a]=l:a==="selected"?l&&s.setAttribute(a,"true"):s.setAttribute(a,l))}),s.append(...i),s}function Te(n,e,...t){return Vm("http://www.w3.org/1999/xhtml",n,e,...t)}Te.SVG=function(n,e,...t){return Vm("http://www.w3.org/2000/svg",n,e,...t)};function Wm(n,e){let t=()=>{e(),i=Wt(n,t)},i=Wt(n,t);return ce(()=>i.dispose())}mc.setPreferredWebSchema(/^https:/.test(Ye.location.href)?"https":"http");function Qt(n,e){if(n!==void 0){let t=n.match(/^\s*var\((.+)\)$/);if(t){let i=t[1].split(",",2);return i.length===2&&(e=Qt(i[1].trim(),e)),`var(${i[0]}, ${e})`}return n}return e}var mD=[We.http,We.https,We.command],o1=Object.freeze(["a","abbr","b","bdo","blockquote","br","caption","cite","code","col","colgroup","dd","del","details","dfn","div","dl","dt","em","figcaption","figure","h1","h2","h3","h4","h5","h6","hr","i","img","input","ins","kbd","label","li","mark","ol","p","pre","q","rp","rt","ruby","samp","small","small","source","span","strike","strong","sub","summary","sup","table","tbody","td","tfoot","th","thead","time","tr","tt","u","ul","var","video","wbr"]),fD=Object.freeze({ALLOWED_TAGS:["a","button","blockquote","code","div","h1","h2","h3","h4","h5","h6","hr","input","label","li","p","pre","select","small","span","strong","textarea","ul","ol"],ALLOWED_ATTR:["href","data-href","data-command","target","title","name","src","alt","class","id","role","tabindex","style","data-code","width","height","align","x-dispatch","required","checked","placeholder","type","start"],RETURN_DOM:!1,RETURN_DOM_FRAGMENT:!1,RETURN_TRUSTED_TYPE:!0});var r1=/(?<tag>[\w\-]+)?(?:#(?<id>[\w\-]+))?(?<class>(?:\.(?:[\w\-]+))*)(?:@(?<name>(?:[\w\_])+))?/;function Qr(n,...e){let t,i;Array.isArray(e[0])?(t={},i=e[0]):(t=e[0]||{},i=e[1]);let o=r1.exec(n);if(!o||!o.groups)throw new Error("Bad use of h");let r=o.groups.tag||"div",s=document.createElement(r);o.groups.id&&(s.id=o.groups.id);let a=[];if(o.groups.class)for(let d of o.groups.class.split("."))d!==""&&a.push(d);if(t.className!==void 0)for(let d of t.className.split("."))d!==""&&a.push(d);a.length>0&&(s.className=a.join(" "));let l={};if(o.groups.name&&(l[o.groups.name]=s),i)for(let d of i)_t(d)?s.appendChild(d):typeof d=="string"?s.append(d):"root"in d&&(Object.assign(l,d),s.appendChild(d.root));for(let[d,u]of Object.entries(t))if(d!=="className")if(d==="style")for(let[h,g]of Object.entries(u))s.style.setProperty(Fm(h),typeof g=="number"?g+"px":""+g);else d==="tabIndex"?s.tabIndex=u:s.setAttribute(Fm(d),u.toString());return l.root=s,l}function Fm(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ln(n){return n.tagName.toLowerCase()==="input"||n.tagName.toLowerCase()==="textarea"||_t(n)&&!!n.editContext}var $m=Object.freeze({text:"text/plain",binary:"application/octet-stream",unknown:"application/unknown",markdown:"text/markdown",latex:"text/latex",uriList:"text/uri-list"});var Ha={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:$m.text,INTERNAL_URI_LIST:"application/vnd.code.uri-list"};function ke(n,e,t){let i=null,o=null;if(typeof t.value=="function"?(i="value",o=t.value,o.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof t.get=="function"&&(i="get",o=t.get),!o)throw new Error("not supported");let r=`$memoize$${e}`;t[i]=function(...s){return this.hasOwnProperty(r)||Object.defineProperty(this,r,{configurable:!1,enumerable:!1,writable:!1,value:o.apply(this,s)}),this[r]}}var Ue;(r=>(r.Tap="-monaco-gesturetap",r.Change="-monaco-gesturechange",r.Start="-monaco-gesturestart",r.End="-monaco-gesturesend",r.Contextmenu="-monaco-gesturecontextmenu"))(Ue||={});var pt=class pt extends Q{static SCROLL_FRICTION=-.005;static INSTANCE;static HOLD_DELAY=700;dispatched=!1;targets=new Yt;ignoreTargets=new Yt;handle;activeTouches;_lastSetTapCountTime;static CLEAR_TAP_COUNT_TIME=400;constructor(){super(),this.activeTouches={},this.handle=null,this._lastSetTapCountTime=0,this._register(A.runAndSubscribe(Bm,({window:e,disposables:t})=>{t.add(J(e.document,"touchstart",i=>this.onTouchStart(i),{passive:!1})),t.add(J(e.document,"touchend",i=>this.onTouchEnd(e,i))),t.add(J(e.document,"touchmove",i=>this.onTouchMove(i),{passive:!1}))},{window:Ye,disposables:this._store}))}static addTarget(e){if(!pt.isTouchDevice())return Q.None;pt.INSTANCE||(pt.INSTANCE=Kd(new pt));let t=pt.INSTANCE.targets.push(e);return ce(t)}static ignoreTarget(e){if(!pt.isTouchDevice())return Q.None;pt.INSTANCE||(pt.INSTANCE=Kd(new pt));let t=pt.INSTANCE.ignoreTargets.push(e);return ce(t)}static isTouchDevice(){return"ontouchstart"in Ye||navigator.maxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(e){let t=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let i=0,o=e.targetTouches.length;i<o;i++){let r=e.targetTouches.item(i);this.activeTouches[r.identifier]={id:r.identifier,initialTarget:r.target,initialTimeStamp:t,initialPageX:r.pageX,initialPageY:r.pageY,rollingTimestamps:[t],rollingPageX:[r.pageX],rollingPageY:[r.pageY]};let s=this.newGestureEvent(Ue.Start,r.target);s.pageX=r.pageX,s.pageY=r.pageY,this.dispatchEvent(s)}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)}onTouchEnd(e,t){let i=Date.now(),o=Object.keys(this.activeTouches).length;for(let r=0,s=t.changedTouches.length;r<s;r++){let a=t.changedTouches.item(r);if(!this.activeTouches.hasOwnProperty(String(a.identifier))){console.warn("move of an UNKNOWN touch",a);continue}let l=this.activeTouches[a.identifier],d=Date.now()-l.initialTimeStamp;if(d<pt.HOLD_DELAY&&Math.abs(l.initialPageX-At(l.rollingPageX))<30&&Math.abs(l.initialPageY-At(l.rollingPageY))<30){let u=this.newGestureEvent(Ue.Tap,l.initialTarget);u.pageX=At(l.rollingPageX),u.pageY=At(l.rollingPageY),this.dispatchEvent(u)}else if(d>=pt.HOLD_DELAY&&Math.abs(l.initialPageX-At(l.rollingPageX))<30&&Math.abs(l.initialPageY-At(l.rollingPageY))<30){let u=this.newGestureEvent(Ue.Contextmenu,l.initialTarget);u.pageX=At(l.rollingPageX),u.pageY=At(l.rollingPageY),this.dispatchEvent(u)}else if(o===1){let u=At(l.rollingPageX),h=At(l.rollingPageY),g=At(l.rollingTimestamps)-l.rollingTimestamps[0],T=u-l.rollingPageX[0],w=h-l.rollingPageY[0],v=[...this.targets].filter(E=>l.initialTarget instanceof Node&&E.contains(l.initialTarget));this.inertia(e,v,i,Math.abs(T)/g,T>0?1:-1,u,Math.abs(w)/g,w>0?1:-1,h)}this.dispatchEvent(this.newGestureEvent(Ue.End,l.initialTarget)),delete this.activeTouches[a.identifier]}this.dispatched&&(t.preventDefault(),t.stopPropagation(),this.dispatched=!1)}newGestureEvent(e,t){let i=document.createEvent("CustomEvent");return i.initEvent(e,!1,!0),i.initialTarget=t,i.tapCount=0,i}dispatchEvent(e){if(e.type===Ue.Tap){let t=new Date().getTime(),i=0;t-this._lastSetTapCountTime>pt.CLEAR_TAP_COUNT_TIME?i=1:i=2,this._lastSetTapCountTime=t,e.tapCount=i}else(e.type===Ue.Change||e.type===Ue.Contextmenu)&&(this._lastSetTapCountTime=0);if(e.initialTarget instanceof Node){for(let i of this.ignoreTargets)if(i.contains(e.initialTarget))return;let t=[];for(let i of this.targets)if(i.contains(e.initialTarget)){let o=0,r=e.initialTarget;for(;r&&r!==i;)o++,r=r.parentElement;t.push([o,i])}t.sort((i,o)=>i[0]-o[0]);for(let[i,o]of t)o.dispatchEvent(e),this.dispatched=!0}}inertia(e,t,i,o,r,s,a,l,d){this.handle=Wt(e,()=>{let u=Date.now(),h=u-i,g=0,T=0,w=!0;o+=pt.SCROLL_FRICTION*h,a+=pt.SCROLL_FRICTION*h,o>0&&(w=!1,g=r*o*h),a>0&&(w=!1,T=l*a*h);let v=this.newGestureEvent(Ue.Change);v.translationX=g,v.translationY=T,t.forEach(E=>E.dispatchEvent(v)),w||this.inertia(e,t,u,o,r,s+g,a,l,d+T)})}onTouchMove(e){let t=Date.now();for(let i=0,o=e.changedTouches.length;i<o;i++){let r=e.changedTouches.item(i);if(!this.activeTouches.hasOwnProperty(String(r.identifier))){console.warn("end of an UNKNOWN touch",r);continue}let s=this.activeTouches[r.identifier],a=this.newGestureEvent(Ue.Change,s.initialTarget);a.translationX=r.pageX-At(s.rollingPageX),a.translationY=r.pageY-At(s.rollingPageY),a.pageX=r.pageX,a.pageY=r.pageY,this.dispatchEvent(a),s.rollingPageX.length>3&&(s.rollingPageX.shift(),s.rollingPageY.shift(),s.rollingTimestamps.shift()),s.rollingPageX.push(r.pageX),s.rollingPageY.push(r.pageY),s.rollingTimestamps.push(t)}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)}};he([ke],pt,"isTouchDevice",1);var It=pt;var ie=class{emitter;get event(){return this.emitter.event}constructor(e,t,i){let o=r=>this.emitter.fire(r);this.emitter=new L({onWillAddFirstListener:()=>e.addEventListener(t,o,i),onDidRemoveLastListener:()=>e.removeEventListener(t,o,i)})}dispose(){this.emitter.dispose()}};var Lc=class{constructor(e){this.domNode=e}_maxWidth="";_width="";_height="";_top="";_left="";_bottom="";_right="";_paddingTop="";_paddingLeft="";_paddingBottom="";_paddingRight="";_fontFamily="";_fontWeight="";_fontSize="";_fontStyle="";_fontFeatureSettings="";_fontVariationSettings="";_textDecoration="";_lineHeight="";_letterSpacing="";_className="";_display="";_position="";_visibility="";_color="";_backgroundColor="";_layerHint=!1;_contain="none";_boxShadow="";setMaxWidth(e){let t=Ot(e);this._maxWidth!==t&&(this._maxWidth=t,this.domNode.style.maxWidth=this._maxWidth)}setWidth(e){let t=Ot(e);this._width!==t&&(this._width=t,this.domNode.style.width=this._width)}setHeight(e){let t=Ot(e);this._height!==t&&(this._height=t,this.domNode.style.height=this._height)}setTop(e){let t=Ot(e);this._top!==t&&(this._top=t,this.domNode.style.top=this._top)}setLeft(e){let t=Ot(e);this._left!==t&&(this._left=t,this.domNode.style.left=this._left)}setBottom(e){let t=Ot(e);this._bottom!==t&&(this._bottom=t,this.domNode.style.bottom=this._bottom)}setRight(e){let t=Ot(e);this._right!==t&&(this._right=t,this.domNode.style.right=this._right)}setPaddingTop(e){let t=Ot(e);this._paddingTop!==t&&(this._paddingTop=t,this.domNode.style.paddingTop=this._paddingTop)}setPaddingLeft(e){let t=Ot(e);this._paddingLeft!==t&&(this._paddingLeft=t,this.domNode.style.paddingLeft=this._paddingLeft)}setPaddingBottom(e){let t=Ot(e);this._paddingBottom!==t&&(this._paddingBottom=t,this.domNode.style.paddingBottom=this._paddingBottom)}setPaddingRight(e){let t=Ot(e);this._paddingRight!==t&&(this._paddingRight=t,this.domNode.style.paddingRight=this._paddingRight)}setFontFamily(e){this._fontFamily!==e&&(this._fontFamily=e,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(e){let t=Ot(e);this._fontSize!==t&&(this._fontSize=t,this.domNode.style.fontSize=this._fontSize)}setFontStyle(e){this._fontStyle!==e&&(this._fontStyle=e,this.domNode.style.fontStyle=this._fontStyle)}setFontFeatureSettings(e){this._fontFeatureSettings!==e&&(this._fontFeatureSettings=e,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setFontVariationSettings(e){this._fontVariationSettings!==e&&(this._fontVariationSettings=e,this.domNode.style.fontVariationSettings=this._fontVariationSettings)}setTextDecoration(e){this._textDecoration!==e&&(this._textDecoration=e,this.domNode.style.textDecoration=this._textDecoration)}setLineHeight(e){let t=Ot(e);this._lineHeight!==t&&(this._lineHeight=t,this.domNode.style.lineHeight=this._lineHeight)}setLetterSpacing(e){let t=Ot(e);this._letterSpacing!==t&&(this._letterSpacing=t,this.domNode.style.letterSpacing=this._letterSpacing)}setClassName(e){this._className!==e&&(this._className=e,this.domNode.className=this._className)}toggleClassName(e,t){this.domNode.classList.toggle(e,t),this._className=this.domNode.className}setDisplay(e){this._display!==e&&(this._display=e,this.domNode.style.display=this._display)}setPosition(e){this._position!==e&&(this._position=e,this.domNode.style.position=this._position)}setVisibility(e){this._visibility!==e&&(this._visibility=e,this.domNode.style.visibility=this._visibility)}setColor(e){this._color!==e&&(this._color=e,this.domNode.style.color=this._color)}setBackgroundColor(e){this._backgroundColor!==e&&(this._backgroundColor=e,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(e){this._layerHint!==e&&(this._layerHint=e,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(e){this._boxShadow!==e&&(this._boxShadow=e,this.domNode.style.boxShadow=e)}setContain(e){this._contain!==e&&(this._contain=e,this.domNode.style.contain=this._contain)}setAttribute(e,t){this.domNode.setAttribute(e,t)}removeAttribute(e){this.domNode.removeAttribute(e)}appendChild(e){this.domNode.appendChild(e.domNode)}removeChild(e){this.domNode.removeChild(e.domNode)}};function Ot(n){return typeof n=="number"?`${n}px`:n}function lo(n){return new Lc(n)}var jo=class{_hooks=new j;_pointerMoveCallback=null;_onStopCallback=null;dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(e,t){if(!this.isMonitoring())return;this._hooks.clear(),this._pointerMoveCallback=null;let i=this._onStopCallback;this._onStopCallback=null,e&&i&&i(t)}isMonitoring(){return!!this._pointerMoveCallback}startMonitoring(e,t,i,o,r){this.isMonitoring()&&this.stopMonitoring(!1),this._pointerMoveCallback=o,this._onStopCallback=r;let s=e;try{e.setPointerCapture(t),this._hooks.add(ce(()=>{try{e.releasePointerCapture(t)}catch{}}))}catch{s=me(e)}this._hooks.add(J(s,pe.POINTER_MOVE,a=>{if(a.buttons!==i){this.stopMonitoring(!0);return}a.preventDefault(),this._pointerMoveCallback(a)})),this._hooks.add(J(s,pe.POINTER_UP,a=>this.stopMonitoring(!0)))}};var xt=class extends Q{onclick(e,t){this._register(J(e,pe.CLICK,i=>t(new Ut(me(e),i))))}onmousedown(e,t){this._register(J(e,pe.MOUSE_DOWN,i=>t(new Ut(me(e),i))))}onmouseover(e,t){this._register(J(e,pe.MOUSE_OVER,i=>t(new Ut(me(e),i))))}onmouseleave(e,t){this._register(J(e,pe.MOUSE_LEAVE,i=>t(new Ut(me(e),i))))}onkeydown(e,t){this._register(J(e,pe.KEY_DOWN,i=>t(new He(i))))}onkeyup(e,t){this._register(J(e,pe.KEY_UP,i=>t(new He(i))))}oninput(e,t){this._register(J(e,pe.INPUT,t))}onblur(e,t){this._register(J(e,pe.BLUR,t))}onfocus(e,t){this._register(J(e,pe.FOCUS,t))}onchange(e,t){this._register(J(e,pe.CHANGE,t))}ignoreGesture(e){return It.ignoreTarget(e)}};var Ac=Object.create(null);function c(n,e){if(Qn(e)){let t=Ac[e];if(t===void 0)throw new Error(`${n} references an unknown codicon: ${e}`);e=t}return Ac[n]=e,{id:n}}function Nc(){return Ac}var qm={add:c("add",6e4),plus:c("plus",6e4),gistNew:c("gist-new",6e4),repoCreate:c("repo-create",6e4),lightbulb:c("lightbulb",60001),lightBulb:c("light-bulb",60001),repo:c("repo",60002),repoDelete:c("repo-delete",60002),gistFork:c("gist-fork",60003),repoForked:c("repo-forked",60003),gitPullRequest:c("git-pull-request",60004),gitPullRequestAbandoned:c("git-pull-request-abandoned",60004),recordKeys:c("record-keys",60005),keyboard:c("keyboard",60005),tag:c("tag",60006),gitPullRequestLabel:c("git-pull-request-label",60006),tagAdd:c("tag-add",60006),tagRemove:c("tag-remove",60006),person:c("person",60007),personFollow:c("person-follow",60007),personOutline:c("person-outline",60007),personFilled:c("person-filled",60007),gitBranch:c("git-branch",60008),gitBranchCreate:c("git-branch-create",60008),gitBranchDelete:c("git-branch-delete",60008),sourceControl:c("source-control",60008),mirror:c("mirror",60009),mirrorPublic:c("mirror-public",60009),star:c("star",60010),starAdd:c("star-add",60010),starDelete:c("star-delete",60010),starEmpty:c("star-empty",60010),comment:c("comment",60011),commentAdd:c("comment-add",60011),alert:c("alert",60012),warning:c("warning",60012),search:c("search",60013),searchSave:c("search-save",60013),logOut:c("log-out",60014),signOut:c("sign-out",60014),logIn:c("log-in",60015),signIn:c("sign-in",60015),eye:c("eye",60016),eyeUnwatch:c("eye-unwatch",60016),eyeWatch:c("eye-watch",60016),circleFilled:c("circle-filled",60017),primitiveDot:c("primitive-dot",60017),closeDirty:c("close-dirty",60017),debugBreakpoint:c("debug-breakpoint",60017),debugBreakpointDisabled:c("debug-breakpoint-disabled",60017),debugHint:c("debug-hint",60017),terminalDecorationSuccess:c("terminal-decoration-success",60017),primitiveSquare:c("primitive-square",60018),edit:c("edit",60019),pencil:c("pencil",60019),info:c("info",60020),issueOpened:c("issue-opened",60020),gistPrivate:c("gist-private",60021),gitForkPrivate:c("git-fork-private",60021),lock:c("lock",60021),mirrorPrivate:c("mirror-private",60021),close:c("close",60022),removeClose:c("remove-close",60022),x:c("x",60022),repoSync:c("repo-sync",60023),sync:c("sync",60023),clone:c("clone",60024),desktopDownload:c("desktop-download",60024),beaker:c("beaker",60025),microscope:c("microscope",60025),vm:c("vm",60026),deviceDesktop:c("device-desktop",60026),file:c("file",60027),fileText:c("file-text",60027),more:c("more",60028),ellipsis:c("ellipsis",60028),kebabHorizontal:c("kebab-horizontal",60028),mailReply:c("mail-reply",60029),reply:c("reply",60029),organization:c("organization",60030),organizationFilled:c("organization-filled",60030),organizationOutline:c("organization-outline",60030),newFile:c("new-file",60031),fileAdd:c("file-add",60031),newFolder:c("new-folder",60032),fileDirectoryCreate:c("file-directory-create",60032),trash:c("trash",60033),trashcan:c("trashcan",60033),history:c("history",60034),clock:c("clock",60034),folder:c("folder",60035),fileDirectory:c("file-directory",60035),symbolFolder:c("symbol-folder",60035),logoGithub:c("logo-github",60036),markGithub:c("mark-github",60036),github:c("github",60036),terminal:c("terminal",60037),console:c("console",60037),repl:c("repl",60037),zap:c("zap",60038),symbolEvent:c("symbol-event",60038),error:c("error",60039),stop:c("stop",60039),variable:c("variable",60040),symbolVariable:c("symbol-variable",60040),array:c("array",60042),symbolArray:c("symbol-array",60042),symbolModule:c("symbol-module",60043),symbolPackage:c("symbol-package",60043),symbolNamespace:c("symbol-namespace",60043),symbolObject:c("symbol-object",60043),symbolMethod:c("symbol-method",60044),symbolFunction:c("symbol-function",60044),symbolConstructor:c("symbol-constructor",60044),symbolBoolean:c("symbol-boolean",60047),symbolNull:c("symbol-null",60047),symbolNumeric:c("symbol-numeric",60048),symbolNumber:c("symbol-number",60048),symbolStructure:c("symbol-structure",60049),symbolStruct:c("symbol-struct",60049),symbolParameter:c("symbol-parameter",60050),symbolTypeParameter:c("symbol-type-parameter",60050),symbolKey:c("symbol-key",60051),symbolText:c("symbol-text",60051),symbolReference:c("symbol-reference",60052),goToFile:c("go-to-file",60052),symbolEnum:c("symbol-enum",60053),symbolValue:c("symbol-value",60053),symbolRuler:c("symbol-ruler",60054),symbolUnit:c("symbol-unit",60054),activateBreakpoints:c("activate-breakpoints",60055),archive:c("archive",60056),arrowBoth:c("arrow-both",60057),arrowDown:c("arrow-down",60058),arrowLeft:c("arrow-left",60059),arrowRight:c("arrow-right",60060),arrowSmallDown:c("arrow-small-down",60061),arrowSmallLeft:c("arrow-small-left",60062),arrowSmallRight:c("arrow-small-right",60063),arrowSmallUp:c("arrow-small-up",60064),arrowUp:c("arrow-up",60065),bell:c("bell",60066),bold:c("bold",60067),book:c("book",60068),bookmark:c("bookmark",60069),debugBreakpointConditionalUnverified:c("debug-breakpoint-conditional-unverified",60070),debugBreakpointConditional:c("debug-breakpoint-conditional",60071),debugBreakpointConditionalDisabled:c("debug-breakpoint-conditional-disabled",60071),debugBreakpointDataUnverified:c("debug-breakpoint-data-unverified",60072),debugBreakpointData:c("debug-breakpoint-data",60073),debugBreakpointDataDisabled:c("debug-breakpoint-data-disabled",60073),debugBreakpointLogUnverified:c("debug-breakpoint-log-unverified",60074),debugBreakpointLog:c("debug-breakpoint-log",60075),debugBreakpointLogDisabled:c("debug-breakpoint-log-disabled",60075),briefcase:c("briefcase",60076),broadcast:c("broadcast",60077),browser:c("browser",60078),bug:c("bug",60079),calendar:c("calendar",60080),caseSensitive:c("case-sensitive",60081),check:c("check",60082),checklist:c("checklist",60083),chevronDown:c("chevron-down",60084),chevronLeft:c("chevron-left",60085),chevronRight:c("chevron-right",60086),chevronUp:c("chevron-up",60087),chromeClose:c("chrome-close",60088),chromeMaximize:c("chrome-maximize",60089),chromeMinimize:c("chrome-minimize",60090),chromeRestore:c("chrome-restore",60091),circleOutline:c("circle-outline",60092),circle:c("circle",60092),debugBreakpointUnverified:c("debug-breakpoint-unverified",60092),terminalDecorationIncomplete:c("terminal-decoration-incomplete",60092),circleSlash:c("circle-slash",60093),circuitBoard:c("circuit-board",60094),clearAll:c("clear-all",60095),clippy:c("clippy",60096),closeAll:c("close-all",60097),cloudDownload:c("cloud-download",60098),cloudUpload:c("cloud-upload",60099),code:c("code",60100),collapseAll:c("collapse-all",60101),colorMode:c("color-mode",60102),commentDiscussion:c("comment-discussion",60103),creditCard:c("credit-card",60105),dash:c("dash",60108),dashboard:c("dashboard",60109),database:c("database",60110),debugContinue:c("debug-continue",60111),debugDisconnect:c("debug-disconnect",60112),debugPause:c("debug-pause",60113),debugRestart:c("debug-restart",60114),debugStart:c("debug-start",60115),debugStepInto:c("debug-step-into",60116),debugStepOut:c("debug-step-out",60117),debugStepOver:c("debug-step-over",60118),debugStop:c("debug-stop",60119),debug:c("debug",60120),deviceCameraVideo:c("device-camera-video",60121),deviceCamera:c("device-camera",60122),deviceMobile:c("device-mobile",60123),diffAdded:c("diff-added",60124),diffIgnored:c("diff-ignored",60125),diffModified:c("diff-modified",60126),diffRemoved:c("diff-removed",60127),diffRenamed:c("diff-renamed",60128),diff:c("diff",60129),diffSidebyside:c("diff-sidebyside",60129),discard:c("discard",60130),editorLayout:c("editor-layout",60131),emptyWindow:c("empty-window",60132),exclude:c("exclude",60133),extensions:c("extensions",60134),eyeClosed:c("eye-closed",60135),fileBinary:c("file-binary",60136),fileCode:c("file-code",60137),fileMedia:c("file-media",60138),filePdf:c("file-pdf",60139),fileSubmodule:c("file-submodule",60140),fileSymlinkDirectory:c("file-symlink-directory",60141),fileSymlinkFile:c("file-symlink-file",60142),fileZip:c("file-zip",60143),files:c("files",60144),filter:c("filter",60145),flame:c("flame",60146),foldDown:c("fold-down",60147),foldUp:c("fold-up",60148),fold:c("fold",60149),folderActive:c("folder-active",60150),folderOpened:c("folder-opened",60151),gear:c("gear",60152),gift:c("gift",60153),gistSecret:c("gist-secret",60154),gist:c("gist",60155),gitCommit:c("git-commit",60156),gitCompare:c("git-compare",60157),compareChanges:c("compare-changes",60157),gitMerge:c("git-merge",60158),githubAction:c("github-action",60159),githubAlt:c("github-alt",60160),globe:c("globe",60161),grabber:c("grabber",60162),graph:c("graph",60163),gripper:c("gripper",60164),heart:c("heart",60165),home:c("home",60166),horizontalRule:c("horizontal-rule",60167),hubot:c("hubot",60168),inbox:c("inbox",60169),issueReopened:c("issue-reopened",60171),issues:c("issues",60172),italic:c("italic",60173),jersey:c("jersey",60174),json:c("json",60175),kebabVertical:c("kebab-vertical",60176),key:c("key",60177),law:c("law",60178),lightbulbAutofix:c("lightbulb-autofix",60179),linkExternal:c("link-external",60180),link:c("link",60181),listOrdered:c("list-ordered",60182),listUnordered:c("list-unordered",60183),liveShare:c("live-share",60184),loading:c("loading",60185),location:c("location",60186),mailRead:c("mail-read",60187),mail:c("mail",60188),markdown:c("markdown",60189),megaphone:c("megaphone",60190),mention:c("mention",60191),milestone:c("milestone",60192),gitPullRequestMilestone:c("git-pull-request-milestone",60192),mortarBoard:c("mortar-board",60193),move:c("move",60194),multipleWindows:c("multiple-windows",60195),mute:c("mute",60196),noNewline:c("no-newline",60197),note:c("note",60198),octoface:c("octoface",60199),openPreview:c("open-preview",60200),package:c("package",60201),paintcan:c("paintcan",60202),pin:c("pin",60203),play:c("play",60204),run:c("run",60204),plug:c("plug",60205),preserveCase:c("preserve-case",60206),preview:c("preview",60207),project:c("project",60208),pulse:c("pulse",60209),question:c("question",60210),quote:c("quote",60211),radioTower:c("radio-tower",60212),reactions:c("reactions",60213),references:c("references",60214),refresh:c("refresh",60215),regex:c("regex",60216),remoteExplorer:c("remote-explorer",60217),remote:c("remote",60218),remove:c("remove",60219),replaceAll:c("replace-all",60220),replace:c("replace",60221),repoClone:c("repo-clone",60222),repoForcePush:c("repo-force-push",60223),repoPull:c("repo-pull",60224),repoPush:c("repo-push",60225),report:c("report",60226),requestChanges:c("request-changes",60227),rocket:c("rocket",60228),rootFolderOpened:c("root-folder-opened",60229),rootFolder:c("root-folder",60230),rss:c("rss",60231),ruby:c("ruby",60232),saveAll:c("save-all",60233),saveAs:c("save-as",60234),save:c("save",60235),screenFull:c("screen-full",60236),screenNormal:c("screen-normal",60237),searchStop:c("search-stop",60238),server:c("server",60240),settingsGear:c("settings-gear",60241),settings:c("settings",60242),shield:c("shield",60243),smiley:c("smiley",60244),sortPrecedence:c("sort-precedence",60245),splitHorizontal:c("split-horizontal",60246),splitVertical:c("split-vertical",60247),squirrel:c("squirrel",60248),starFull:c("star-full",60249),starHalf:c("star-half",60250),symbolClass:c("symbol-class",60251),symbolColor:c("symbol-color",60252),symbolConstant:c("symbol-constant",60253),symbolEnumMember:c("symbol-enum-member",60254),symbolField:c("symbol-field",60255),symbolFile:c("symbol-file",60256),symbolInterface:c("symbol-interface",60257),symbolKeyword:c("symbol-keyword",60258),symbolMisc:c("symbol-misc",60259),symbolOperator:c("symbol-operator",60260),symbolProperty:c("symbol-property",60261),wrench:c("wrench",60261),wrenchSubaction:c("wrench-subaction",60261),symbolSnippet:c("symbol-snippet",60262),tasklist:c("tasklist",60263),telescope:c("telescope",60264),textSize:c("text-size",60265),threeBars:c("three-bars",60266),thumbsdown:c("thumbsdown",60267),thumbsup:c("thumbsup",60268),tools:c("tools",60269),triangleDown:c("triangle-down",60270),triangleLeft:c("triangle-left",60271),triangleRight:c("triangle-right",60272),triangleUp:c("triangle-up",60273),twitter:c("twitter",60274),unfold:c("unfold",60275),unlock:c("unlock",60276),unmute:c("unmute",60277),unverified:c("unverified",60278),verified:c("verified",60279),versions:c("versions",60280),vmActive:c("vm-active",60281),vmOutline:c("vm-outline",60282),vmRunning:c("vm-running",60283),watch:c("watch",60284),whitespace:c("whitespace",60285),wholeWord:c("whole-word",60286),window:c("window",60287),wordWrap:c("word-wrap",60288),zoomIn:c("zoom-in",60289),zoomOut:c("zoom-out",60290),listFilter:c("list-filter",60291),listFlat:c("list-flat",60292),listSelection:c("list-selection",60293),selection:c("selection",60293),listTree:c("list-tree",60294),debugBreakpointFunctionUnverified:c("debug-breakpoint-function-unverified",60295),debugBreakpointFunction:c("debug-breakpoint-function",60296),debugBreakpointFunctionDisabled:c("debug-breakpoint-function-disabled",60296),debugStackframeActive:c("debug-stackframe-active",60297),circleSmallFilled:c("circle-small-filled",60298),debugStackframeDot:c("debug-stackframe-dot",60298),terminalDecorationMark:c("terminal-decoration-mark",60298),debugStackframe:c("debug-stackframe",60299),debugStackframeFocused:c("debug-stackframe-focused",60299),debugBreakpointUnsupported:c("debug-breakpoint-unsupported",60300),symbolString:c("symbol-string",60301),debugReverseContinue:c("debug-reverse-continue",60302),debugStepBack:c("debug-step-back",60303),debugRestartFrame:c("debug-restart-frame",60304),debugAlt:c("debug-alt",60305),callIncoming:c("call-incoming",60306),callOutgoing:c("call-outgoing",60307),menu:c("menu",60308),expandAll:c("expand-all",60309),feedback:c("feedback",60310),gitPullRequestReviewer:c("git-pull-request-reviewer",60310),groupByRefType:c("group-by-ref-type",60311),ungroupByRefType:c("ungroup-by-ref-type",60312),account:c("account",60313),gitPullRequestAssignee:c("git-pull-request-assignee",60313),bellDot:c("bell-dot",60314),debugConsole:c("debug-console",60315),library:c("library",60316),output:c("output",60317),runAll:c("run-all",60318),syncIgnored:c("sync-ignored",60319),pinned:c("pinned",60320),githubInverted:c("github-inverted",60321),serverProcess:c("server-process",60322),serverEnvironment:c("server-environment",60323),pass:c("pass",60324),issueClosed:c("issue-closed",60324),stopCircle:c("stop-circle",60325),playCircle:c("play-circle",60326),record:c("record",60327),debugAltSmall:c("debug-alt-small",60328),vmConnect:c("vm-connect",60329),cloud:c("cloud",60330),merge:c("merge",60331),export:c("export",60332),graphLeft:c("graph-left",60333),magnet:c("magnet",60334),notebook:c("notebook",60335),redo:c("redo",60336),checkAll:c("check-all",60337),pinnedDirty:c("pinned-dirty",60338),passFilled:c("pass-filled",60339),circleLargeFilled:c("circle-large-filled",60340),circleLarge:c("circle-large",60341),circleLargeOutline:c("circle-large-outline",60341),combine:c("combine",60342),gather:c("gather",60342),table:c("table",60343),variableGroup:c("variable-group",60344),typeHierarchy:c("type-hierarchy",60345),typeHierarchySub:c("type-hierarchy-sub",60346),typeHierarchySuper:c("type-hierarchy-super",60347),gitPullRequestCreate:c("git-pull-request-create",60348),runAbove:c("run-above",60349),runBelow:c("run-below",60350),notebookTemplate:c("notebook-template",60351),debugRerun:c("debug-rerun",60352),workspaceTrusted:c("workspace-trusted",60353),workspaceUntrusted:c("workspace-untrusted",60354),workspaceUnknown:c("workspace-unknown",60355),terminalCmd:c("terminal-cmd",60356),terminalDebian:c("terminal-debian",60357),terminalLinux:c("terminal-linux",60358),terminalPowershell:c("terminal-powershell",60359),terminalTmux:c("terminal-tmux",60360),terminalUbuntu:c("terminal-ubuntu",60361),terminalBash:c("terminal-bash",60362),arrowSwap:c("arrow-swap",60363),copy:c("copy",60364),personAdd:c("person-add",60365),filterFilled:c("filter-filled",60366),wand:c("wand",60367),debugLineByLine:c("debug-line-by-line",60368),inspect:c("inspect",60369),layers:c("layers",60370),layersDot:c("layers-dot",60371),layersActive:c("layers-active",60372),compass:c("compass",60373),compassDot:c("compass-dot",60374),compassActive:c("compass-active",60375),azure:c("azure",60376),issueDraft:c("issue-draft",60377),gitPullRequestClosed:c("git-pull-request-closed",60378),gitPullRequestDraft:c("git-pull-request-draft",60379),debugAll:c("debug-all",60380),debugCoverage:c("debug-coverage",60381),runErrors:c("run-errors",60382),folderLibrary:c("folder-library",60383),debugContinueSmall:c("debug-continue-small",60384),beakerStop:c("beaker-stop",60385),graphLine:c("graph-line",60386),graphScatter:c("graph-scatter",60387),pieChart:c("pie-chart",60388),bracket:c("bracket",60175),bracketDot:c("bracket-dot",60389),bracketError:c("bracket-error",60390),lockSmall:c("lock-small",60391),azureDevops:c("azure-devops",60392),verifiedFilled:c("verified-filled",60393),newline:c("newline",60394),layout:c("layout",60395),layoutActivitybarLeft:c("layout-activitybar-left",60396),layoutActivitybarRight:c("layout-activitybar-right",60397),layoutPanelLeft:c("layout-panel-left",60398),layoutPanelCenter:c("layout-panel-center",60399),layoutPanelJustify:c("layout-panel-justify",60400),layoutPanelRight:c("layout-panel-right",60401),layoutPanel:c("layout-panel",60402),layoutSidebarLeft:c("layout-sidebar-left",60403),layoutSidebarRight:c("layout-sidebar-right",60404),layoutStatusbar:c("layout-statusbar",60405),layoutMenubar:c("layout-menubar",60406),layoutCentered:c("layout-centered",60407),target:c("target",60408),indent:c("indent",60409),recordSmall:c("record-small",60410),errorSmall:c("error-small",60411),terminalDecorationError:c("terminal-decoration-error",60411),arrowCircleDown:c("arrow-circle-down",60412),arrowCircleLeft:c("arrow-circle-left",60413),arrowCircleRight:c("arrow-circle-right",60414),arrowCircleUp:c("arrow-circle-up",60415),layoutSidebarRightOff:c("layout-sidebar-right-off",60416),layoutPanelOff:c("layout-panel-off",60417),layoutSidebarLeftOff:c("layout-sidebar-left-off",60418),blank:c("blank",60419),heartFilled:c("heart-filled",60420),map:c("map",60421),mapHorizontal:c("map-horizontal",60421),foldHorizontal:c("fold-horizontal",60421),mapFilled:c("map-filled",60422),mapHorizontalFilled:c("map-horizontal-filled",60422),foldHorizontalFilled:c("fold-horizontal-filled",60422),circleSmall:c("circle-small",60423),bellSlash:c("bell-slash",60424),bellSlashDot:c("bell-slash-dot",60425),commentUnresolved:c("comment-unresolved",60426),gitPullRequestGoToChanges:c("git-pull-request-go-to-changes",60427),gitPullRequestNewChanges:c("git-pull-request-new-changes",60428),searchFuzzy:c("search-fuzzy",60429),commentDraft:c("comment-draft",60430),send:c("send",60431),sparkle:c("sparkle",60432),insert:c("insert",60433),mic:c("mic",60434),thumbsdownFilled:c("thumbsdown-filled",60435),thumbsupFilled:c("thumbsup-filled",60436),coffee:c("coffee",60437),snake:c("snake",60438),game:c("game",60439),vr:c("vr",60440),chip:c("chip",60441),piano:c("piano",60442),music:c("music",60443),micFilled:c("mic-filled",60444),repoFetch:c("repo-fetch",60445),copilot:c("copilot",60446),lightbulbSparkle:c("lightbulb-sparkle",60447),robot:c("robot",60448),sparkleFilled:c("sparkle-filled",60449),diffSingle:c("diff-single",60450),diffMultiple:c("diff-multiple",60451),surroundWith:c("surround-with",60452),share:c("share",60453),gitStash:c("git-stash",60454),gitStashApply:c("git-stash-apply",60455),gitStashPop:c("git-stash-pop",60456),vscode:c("vscode",60457),vscodeInsiders:c("vscode-insiders",60458),codeOss:c("code-oss",60459),runCoverage:c("run-coverage",60460),runAllCoverage:c("run-all-coverage",60461),coverage:c("coverage",60462),githubProject:c("github-project",60463),mapVertical:c("map-vertical",60464),foldVertical:c("fold-vertical",60464),mapVerticalFilled:c("map-vertical-filled",60465),foldVerticalFilled:c("fold-vertical-filled",60465),goToSearch:c("go-to-search",60466),percentage:c("percentage",60467),sortPercentage:c("sort-percentage",60467),attach:c("attach",60468)};var s1={dialogError:c("dialog-error","error"),dialogWarning:c("dialog-warning","warning"),dialogInfo:c("dialog-info","info"),dialogClose:c("dialog-close","close"),treeItemExpanded:c("tree-item-expanded","chevron-down"),treeFilterOnTypeOn:c("tree-filter-on-type-on","list-filter"),treeFilterOnTypeOff:c("tree-filter-on-type-off","list-selection"),treeFilterClear:c("tree-filter-clear","close"),treeItemLoading:c("tree-item-loading","loading"),menuSelection:c("menu-selection","check"),menuSubmenu:c("menu-submenu","chevron-right"),menuBarMore:c("menubar-more","more"),scrollbarButtonLeft:c("scrollbar-button-left","triangle-left"),scrollbarButtonRight:c("scrollbar-button-right","triangle-right"),scrollbarButtonUp:c("scrollbar-button-up","triangle-up"),scrollbarButtonDown:c("scrollbar-button-down","triangle-down"),toolBarMore:c("toolbar-more","more"),quickInputBack:c("quick-input-back","arrow-left"),dropDownButton:c("drop-down-button",60084),symbolCustomColor:c("symbol-customcolor",60252),exportIcon:c("export",60332),workspaceUnspecified:c("workspace-unspecified",60355),newLine:c("newline",60394),thumbsDownFilled:c("thumbsdown-filled",60435),thumbsUpFilled:c("thumbsup-filled",60436),gitFetch:c("git-fetch",60445),lightbulbSparkleAutofix:c("lightbulb-sparkle-autofix",60447),debugBreakpointPending:c("debug-breakpoint-pending",60377)},Ce={...qm,...s1};var Gm;(e=>{function n(t){return t&&typeof t=="object"&&typeof t.id=="string"}e.isThemeColor=n})(Gm||={});var we;(v=>{v.iconNameSegment="[A-Za-z0-9]+",v.iconNameExpression="[A-Za-z0-9-]+",v.iconModifierExpression="~[A-Za-z]+",v.iconNameCharacter="[A-Za-z0-9~-]";let o=new RegExp(`^(${v.iconNameExpression})(${v.iconModifierExpression})?$`);function r(E){let P=o.exec(E.id);if(!P)return r(Ce.error);let[,R,U]=P,O=["codicon","codicon-"+R];return U&&O.push("codicon-modifier-"+U.substring(1)),O}v.asClassNameArray=r;function s(E){return r(E).join(" ")}v.asClassName=s;function a(E){return"."+r(E).join(".")}v.asCSSSelector=a;function l(E){return E&&typeof E=="object"&&typeof E.id=="string"&&(typeof E.color>"u"||Gm.isThemeColor(E.color))}v.isThemeIcon=l;let d=new RegExp(`^\\$\\((${v.iconNameExpression}(?:${v.iconModifierExpression})?)\\)$`);function u(E){let P=d.exec(E);if(!P)return;let[,R]=P;return{id:R}}v.fromString=u;function h(E){return{id:E}}v.fromId=h;function g(E,P){let R=E.id,U=R.lastIndexOf("~");return U!==-1&&(R=R.substring(0,U)),P&&(R=`${R}~${P}`),{id:R}}v.modify=g;function T(E){let P=E.id.lastIndexOf("~");if(P!==-1)return E.id.substring(P+1)}v.getModifier=T;function w(E,P){return E.id===P.id&&E.color?.id===P.color?.id}v.isEqual=w})(we||={});var Ni=11,Ka=class extends xt{_onActivate;bgDomNode;domNode;_pointerdownRepeatTimer;_pointerdownScheduleRepeatTimer;_pointerMoveMonitor;constructor(e){super(),this._onActivate=e.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=e.bgWidth+"px",this.bgDomNode.style.height=e.bgHeight+"px",typeof e.top<"u"&&(this.bgDomNode.style.top="0px"),typeof e.left<"u"&&(this.bgDomNode.style.left="0px"),typeof e.bottom<"u"&&(this.bgDomNode.style.bottom="0px"),typeof e.right<"u"&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=e.className,this.domNode.classList.add(...we.asClassNameArray(e.icon)),this.domNode.style.position="absolute",this.domNode.style.width=Ni+"px",this.domNode.style.height=Ni+"px",typeof e.top<"u"&&(this.domNode.style.top=e.top+"px"),typeof e.left<"u"&&(this.domNode.style.left=e.left+"px"),typeof e.bottom<"u"&&(this.domNode.style.bottom=e.bottom+"px"),typeof e.right<"u"&&(this.domNode.style.right=e.right+"px"),this._pointerMoveMonitor=this._register(new jo),this._register(ni(this.bgDomNode,pe.POINTER_DOWN,t=>this._arrowPointerDown(t))),this._register(ni(this.domNode,pe.POINTER_DOWN,t=>this._arrowPointerDown(t))),this._pointerdownRepeatTimer=this._register(new Na),this._pointerdownScheduleRepeatTimer=this._register(new ei)}_arrowPointerDown(e){if(!e.target||!(e.target instanceof Element))return;let t=()=>{this._pointerdownRepeatTimer.cancelAndSet(()=>this._onActivate(),1e3/24,me(e))};this._onActivate(),this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancelAndSet(t,200),this._pointerMoveMonitor.startMonitoring(e.target,e.pointerId,e.buttons,i=>{},()=>{this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancel()}),e.preventDefault()}};var Yo=class n{_scrollbarSize;_oppositeScrollbarSize;_arrowSize;_visibleSize;_scrollSize;_scrollPosition;_computedAvailableSize;_computedIsNeeded;_computedSliderSize;_computedSliderRatio;_computedSliderPosition;constructor(e,t,i,o,r,s){this._scrollbarSize=Math.round(t),this._oppositeScrollbarSize=Math.round(i),this._arrowSize=Math.round(e),this._visibleSize=o,this._scrollSize=r,this._scrollPosition=s,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new n(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(e){let t=Math.round(e);return this._visibleSize!==t?(this._visibleSize=t,this._refreshComputedValues(),!0):!1}setScrollSize(e){let t=Math.round(e);return this._scrollSize!==t?(this._scrollSize=t,this._refreshComputedValues(),!0):!1}setScrollPosition(e){let t=Math.round(e);return this._scrollPosition!==t?(this._scrollPosition=t,this._refreshComputedValues(),!0):!1}setScrollbarSize(e){this._scrollbarSize=Math.round(e)}setOppositeScrollbarSize(e){this._oppositeScrollbarSize=Math.round(e)}static _computeValues(e,t,i,o,r){let s=Math.max(0,i-e),a=Math.max(0,s-2*t),l=o>0&&o>i;if(!l)return{computedAvailableSize:Math.round(s),computedIsNeeded:l,computedSliderSize:Math.round(a),computedSliderRatio:0,computedSliderPosition:0};let d=Math.round(Math.max(20,Math.floor(i*a/o))),u=(a-d)/(o-i),h=r*u;return{computedAvailableSize:Math.round(s),computedIsNeeded:l,computedSliderSize:Math.round(d),computedSliderRatio:u,computedSliderPosition:Math.round(h)}}_refreshComputedValues(){let e=n._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=e.computedAvailableSize,this._computedIsNeeded=e.computedIsNeeded,this._computedSliderSize=e.computedSliderSize,this._computedSliderRatio=e.computedSliderRatio,this._computedSliderPosition=e.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(e){if(!this._computedIsNeeded)return 0;let t=e-this._arrowSize-this._computedSliderSize/2;return Math.round(t/this._computedSliderRatio)}getDesiredScrollPositionFromOffsetPaged(e){if(!this._computedIsNeeded)return 0;let t=e-this._arrowSize,i=this._scrollPosition;return t<this._computedSliderPosition?i-=this._visibleSize:i+=this._visibleSize,i}getDesiredScrollPositionFromDelta(e){if(!this._computedIsNeeded)return 0;let t=this._computedSliderPosition+e;return Math.round(t/this._computedSliderRatio)}};var Rc=class n{constructor(e,t,i,o,r,s,a){this._forceIntegerValues=e;this._forceIntegerValues&&(t=t|0,i=i|0,o=o|0,r=r|0,s=s|0,a=a|0),this.rawScrollLeft=o,this.rawScrollTop=a,t<0&&(t=0),o+t>i&&(o=i-t),o<0&&(o=0),r<0&&(r=0),a+r>s&&(a=s-r),a<0&&(a=0),this.width=t,this.scrollWidth=i,this.scrollLeft=o,this.height=r,this.scrollHeight=s,this.scrollTop=a}_scrollStateBrand=void 0;rawScrollLeft;rawScrollTop;width;scrollWidth;scrollLeft;height;scrollHeight;scrollTop;equals(e){return this.rawScrollLeft===e.rawScrollLeft&&this.rawScrollTop===e.rawScrollTop&&this.width===e.width&&this.scrollWidth===e.scrollWidth&&this.scrollLeft===e.scrollLeft&&this.height===e.height&&this.scrollHeight===e.scrollHeight&&this.scrollTop===e.scrollTop}withScrollDimensions(e,t){return new n(this._forceIntegerValues,typeof e.width<"u"?e.width:this.width,typeof e.scrollWidth<"u"?e.scrollWidth:this.scrollWidth,t?this.rawScrollLeft:this.scrollLeft,typeof e.height<"u"?e.height:this.height,typeof e.scrollHeight<"u"?e.scrollHeight:this.scrollHeight,t?this.rawScrollTop:this.scrollTop)}withScrollPosition(e){return new n(this._forceIntegerValues,this.width,this.scrollWidth,typeof e.scrollLeft<"u"?e.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,typeof e.scrollTop<"u"?e.scrollTop:this.rawScrollTop)}createScrollEvent(e,t){let i=this.width!==e.width,o=this.scrollWidth!==e.scrollWidth,r=this.scrollLeft!==e.scrollLeft,s=this.height!==e.height,a=this.scrollHeight!==e.scrollHeight,l=this.scrollTop!==e.scrollTop;return{inSmoothScrolling:t,oldWidth:e.width,oldScrollWidth:e.scrollWidth,oldScrollLeft:e.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:e.height,oldScrollHeight:e.scrollHeight,oldScrollTop:e.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:i,scrollWidthChanged:o,scrollLeftChanged:r,heightChanged:s,scrollHeightChanged:a,scrollTopChanged:l}}},Mi=class extends Q{_scrollableBrand=void 0;_smoothScrollDuration;_scheduleAtNextAnimationFrame;_state;_smoothScrolling;_onScroll=this._register(new L);onScroll=this._onScroll.event;constructor(e){super(),this._smoothScrollDuration=e.smoothScrollDuration,this._scheduleAtNextAnimationFrame=e.scheduleAtNextAnimationFrame,this._state=new Rc(e.forceIntegerValues,0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(e){this._smoothScrollDuration=e}validateScrollPosition(e){return this._state.withScrollPosition(e)}getScrollDimensions(){return this._state}setScrollDimensions(e,t){let i=this._state.withScrollDimensions(e,t);this._setState(i,!!this._smoothScrolling),this._smoothScrolling?.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(e){let t=this._state.withScrollPosition(e);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(t,!1)}setScrollPositionSmooth(e,t){if(this._smoothScrollDuration===0)return this.setScrollPositionNow(e);if(this._smoothScrolling){e={scrollLeft:typeof e.scrollLeft>"u"?this._smoothScrolling.to.scrollLeft:e.scrollLeft,scrollTop:typeof e.scrollTop>"u"?this._smoothScrolling.to.scrollTop:e.scrollTop};let i=this._state.withScrollPosition(e);if(this._smoothScrolling.to.scrollLeft===i.scrollLeft&&this._smoothScrolling.to.scrollTop===i.scrollTop)return;let o;t?o=new Ua(this._smoothScrolling.from,i,this._smoothScrolling.startTime,this._smoothScrolling.duration):o=this._smoothScrolling.combine(this._state,i,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=o}else{let i=this._state.withScrollPosition(e);this._smoothScrolling=Ua.start(this._state,i,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}hasPendingScrollAnimation(){return!!this._smoothScrolling}_performSmoothScrolling(){if(!this._smoothScrolling)return;let e=this._smoothScrolling.tick(),t=this._state.withScrollPosition(e);if(this._setState(t,!0),!!this._smoothScrolling){if(e.isDone){this._smoothScrolling.dispose(),this._smoothScrolling=null;return}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}}_setState(e,t){let i=this._state;i.equals(e)||(this._state=e,this._onScroll.fire(this._state.createScrollEvent(i,t)))}},za=class{scrollLeft;scrollTop;isDone;constructor(e,t,i){this.scrollLeft=e,this.scrollTop=t,this.isDone=i}};function Mc(n,e){let t=e-n;return function(i){return n+t*d1(i)}}function a1(n,e,t){return function(i){return i<t?n(i/t):e((i-t)/(1-t))}}var Ua=class n{from;to;duration;startTime;animationFrameDisposable;scrollLeft;scrollTop;constructor(e,t,i,o){this.from=e,this.to=t,this.duration=o,this.startTime=i,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(e,t,i){if(Math.abs(e-t)>2.5*i){let r,s;return e<t?(r=e+.75*i,s=t-.75*i):(r=e-.75*i,s=t+.75*i),a1(Mc(e,r),Mc(s,t),.33)}return Mc(e,t)}dispose(){this.animationFrameDisposable!==null&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(e){this.to=e.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(e){let t=(e-this.startTime)/this.duration;if(t<1){let i=this.scrollLeft(t),o=this.scrollTop(t);return new za(i,o,!1)}return new za(this.to.scrollLeft,this.to.scrollTop,!0)}combine(e,t,i){return n.start(e,t,i)}static start(e,t,i){i=i+10;let o=Date.now()-10;return new n(e,t,o,i)}};function l1(n){return Math.pow(n,3)}function d1(n){return 1-l1(1-n)}var Va=class extends Q{_visibility;_visibleClassName;_invisibleClassName;_domNode;_rawShouldBeVisible;_shouldBeVisible;_isNeeded;_isVisible;_revealTimer;constructor(e,t,i){super(),this._visibility=e,this._visibleClassName=t,this._invisibleClassName=i,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new ei)}setVisibility(e){this._visibility!==e&&(this._visibility=e,this._updateShouldBeVisible())}setShouldBeVisible(e){this._rawShouldBeVisible=e,this._updateShouldBeVisible()}_applyVisibilitySetting(){return this._visibility===2?!1:this._visibility===3?!0:this._rawShouldBeVisible}_updateShouldBeVisible(){let e=this._applyVisibilitySetting();this._shouldBeVisible!==e&&(this._shouldBeVisible=e,this.ensureVisibility())}setIsNeeded(e){this._isNeeded!==e&&(this._isNeeded=e,this.ensureVisibility())}setDomNode(e){this._domNode=e,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){if(!this._isNeeded){this._hide(!1);return}this._shouldBeVisible?this._reveal():this._hide(!0)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{this._domNode?.setClassName(this._visibleClassName)},0))}_hide(e){this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,this._domNode?.setClassName(this._invisibleClassName+(e?" fade":"")))}};var c1=140,Xo=class extends xt{_host;_scrollable;_scrollByPage;_lazyRender;_scrollbarState;_visibilityController;_pointerMoveMonitor;domNode;slider;_shouldRender;constructor(e){super(),this._lazyRender=e.lazyRender,this._host=e.host,this._scrollable=e.scrollable,this._scrollByPage=e.scrollByPage,this._scrollbarState=e.scrollbarState,this._visibilityController=this._register(new Va(e.visibility,"visible scrollbar "+e.extraScrollbarClassName,"invisible scrollbar "+e.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._pointerMoveMonitor=this._register(new jo),this._shouldRender=!0,this.domNode=lo(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this._register(J(this.domNode.domNode,pe.POINTER_DOWN,t=>this._domNodePointerDown(t)))}_createArrow(e){let t=this._register(new Ka(e));this.domNode.domNode.appendChild(t.bgDomNode),this.domNode.domNode.appendChild(t.domNode)}_createSlider(e,t,i,o){this.slider=lo(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(e),this.slider.setLeft(t),typeof i=="number"&&this.slider.setWidth(i),typeof o=="number"&&this.slider.setHeight(o),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this._register(J(this.slider.domNode,pe.POINTER_DOWN,r=>{r.button===0&&(r.preventDefault(),this._sliderPointerDown(r))})),this.onclick(this.slider.domNode,r=>{r.leftButton&&r.stopPropagation()})}_onElementSize(e){return this._scrollbarState.setVisibleSize(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(e){return this._scrollbarState.setScrollSize(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(e){return this._scrollbarState.setScrollPosition(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){this._shouldRender&&(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodePointerDown(e){e.target===this.domNode.domNode&&this._onPointerDown(e)}delegatePointerDown(e){let t=this.domNode.domNode.getClientRects()[0].top,i=t+this._scrollbarState.getSliderPosition(),o=t+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),r=this._sliderPointerPosition(e);i<=r&&r<=o?e.button===0&&(e.preventDefault(),this._sliderPointerDown(e)):this._onPointerDown(e)}_onPointerDown(e){let t,i;if(e.target===this.domNode.domNode&&typeof e.offsetX=="number"&&typeof e.offsetY=="number")t=e.offsetX,i=e.offsetY;else{let r=Ra(this.domNode.domNode);t=e.pageX-r.left,i=e.pageY-r.top}let o=this._pointerDownRelativePosition(t,i);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(o):this._scrollbarState.getDesiredScrollPositionFromOffset(o)),e.button===0&&(e.preventDefault(),this._sliderPointerDown(e))}_sliderPointerDown(e){if(!e.target||!(e.target instanceof Element))return;let t=this._sliderPointerPosition(e),i=this._sliderOrthogonalPointerPosition(e),o=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._pointerMoveMonitor.startMonitoring(e.target,e.pointerId,e.buttons,r=>{let s=this._sliderOrthogonalPointerPosition(r),a=Math.abs(s-i);if(rt&&a>c1){this._setDesiredScrollPositionNow(o.getScrollPosition());return}let d=this._sliderPointerPosition(r)-t;this._setDesiredScrollPositionNow(o.getDesiredScrollPositionFromDelta(d))},()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd()}),this._host.onDragStart()}_setDesiredScrollPositionNow(e){let t={};this.writeScrollPosition(t,e),this._scrollable.setScrollPositionNow(t)}updateScrollbarSize(e){this._updateScrollbarSize(e),this._scrollbarState.setScrollbarSize(e),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}};var Wa=class extends Xo{constructor(e,t,i){let o=e.getScrollDimensions(),r=e.getCurrentScrollPosition();if(super({lazyRender:t.lazyRender,host:i,scrollbarState:new Yo(t.horizontalHasArrows?t.arrowSize:0,t.horizontal===2?0:t.horizontalScrollbarSize,t.vertical===2?0:t.verticalScrollbarSize,o.width,o.scrollWidth,r.scrollLeft),visibility:t.horizontal,extraScrollbarClassName:"horizontal",scrollable:e,scrollByPage:t.scrollByPage}),t.horizontalHasArrows){let s=(t.arrowSize-Ni)/2,a=(t.horizontalScrollbarSize-Ni)/2;this._createArrow({className:"scra",icon:Ce.scrollbarButtonLeft,top:a,left:s,bottom:void 0,right:void 0,bgWidth:t.arrowSize,bgHeight:t.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new cn(null,1,0))}),this._createArrow({className:"scra",icon:Ce.scrollbarButtonRight,top:a,left:void 0,bottom:void 0,right:s,bgWidth:t.arrowSize,bgHeight:t.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new cn(null,-1,0))})}this._createSlider(Math.floor((t.horizontalScrollbarSize-t.horizontalSliderSize)/2),0,void 0,t.horizontalSliderSize)}_updateSlider(e,t){this.slider.setWidth(e),this.slider.setLeft(t)}_renderDomNode(e,t){this.domNode.setWidth(e),this.domNode.setHeight(t),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(e){return this._shouldRender=this._onElementScrollSize(e.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(e.width)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(e,t){return e}_sliderPointerPosition(e){return e.pageX}_sliderOrthogonalPointerPosition(e){return e.pageY}_updateScrollbarSize(e){this.slider.setHeight(e)}writeScrollPosition(e,t){e.scrollLeft=t}updateOptions(e){this.updateScrollbarSize(e.horizontal===2?0:e.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(e.vertical===2?0:e.verticalScrollbarSize),this._visibilityController.setVisibility(e.horizontal),this._scrollByPage=e.scrollByPage}};var $a=class extends Xo{constructor(e,t,i){let o=e.getScrollDimensions(),r=e.getCurrentScrollPosition();if(super({lazyRender:t.lazyRender,host:i,scrollbarState:new Yo(t.verticalHasArrows?t.arrowSize:0,t.vertical===2?0:t.verticalScrollbarSize,0,o.height,o.scrollHeight,r.scrollTop),visibility:t.vertical,extraScrollbarClassName:"vertical",scrollable:e,scrollByPage:t.scrollByPage}),t.verticalHasArrows){let s=(t.arrowSize-Ni)/2,a=(t.verticalScrollbarSize-Ni)/2;this._createArrow({className:"scra",icon:Ce.scrollbarButtonUp,top:s,left:a,bottom:void 0,right:void 0,bgWidth:t.verticalScrollbarSize,bgHeight:t.arrowSize,onActivate:()=>this._host.onMouseWheel(new cn(null,0,1))}),this._createArrow({className:"scra",icon:Ce.scrollbarButtonDown,top:void 0,left:a,bottom:s,right:void 0,bgWidth:t.verticalScrollbarSize,bgHeight:t.arrowSize,onActivate:()=>this._host.onMouseWheel(new cn(null,0,-1))})}this._createSlider(0,Math.floor((t.verticalScrollbarSize-t.verticalSliderSize)/2),t.verticalSliderSize,void 0)}_updateSlider(e,t){this.slider.setHeight(e),this.slider.setTop(t)}_renderDomNode(e,t){this.domNode.setWidth(t),this.domNode.setHeight(e),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(e){return this._shouldRender=this._onElementScrollSize(e.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(e.height)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(e,t){return t}_sliderPointerPosition(e){return e.pageY}_sliderOrthogonalPointerPosition(e){return e.pageX}_updateScrollbarSize(e){this.slider.setWidth(e)}writeScrollPosition(e,t){e.scrollTop=t}updateOptions(e){this.updateScrollbarSize(e.vertical===2?0:e.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(e.vertical),this._scrollByPage=e.scrollByPage}};var u1=500,jm=50,Ym=!0,Oc=class{timestamp;deltaX;deltaY;score;constructor(e,t,i){this.timestamp=e,this.deltaX=t,this.deltaY=i,this.score=0}},Fc=class n{static INSTANCE=new n;_capacity;_memory;_front;_rear;constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(this._front===-1&&this._rear===-1)return!1;let e=1,t=0,i=1,o=this._rear;do{let r=o===this._front?e:Math.pow(2,-i);if(e-=r,t+=this._memory[o].score*r,o===this._front)break;o=(this._capacity+o-1)%this._capacity,i++}while(!0);return t<=.5}acceptStandardWheelEvent(e){if(Ur){let t=me(e.browserEvent),i=Xp(t);this.accept(Date.now(),e.deltaX*i,e.deltaY*i)}else this.accept(Date.now(),e.deltaX,e.deltaY)}accept(e,t,i){let o=null,r=new Oc(e,t,i);this._front===-1&&this._rear===-1?(this._memory[0]=r,this._front=0,this._rear=0):(o=this._memory[this._rear],this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=r),r.score=this._computeScore(r,o)}_computeScore(e,t){if(Math.abs(e.deltaX)>0&&Math.abs(e.deltaY)>0)return 1;let i=.5;if((!this._isAlmostInt(e.deltaX)||!this._isAlmostInt(e.deltaY))&&(i+=.25),t){let o=Math.abs(e.deltaX),r=Math.abs(e.deltaY),s=Math.abs(t.deltaX),a=Math.abs(t.deltaY),l=Math.max(Math.min(o,s),1),d=Math.max(Math.min(r,a),1),u=Math.max(o,s),h=Math.max(r,a);u%l===0&&h%d===0&&(i-=.5)}return Math.min(Math.max(i,0),1)}_isAlmostInt(e){return Math.abs(Math.round(e)-e)<.01}},qa=class extends xt{_options;_scrollable;_verticalScrollbar;_horizontalScrollbar;_domNode;_leftShadowDomNode;_topShadowDomNode;_topLeftShadowDomNode;_listenOnDomNode;_mouseWheelToDispose;_isDragging;_mouseIsOver;_hideTimeout;_shouldRender;_revealOnScroll;_onScroll=this._register(new L);onScroll=this._onScroll.event;_onWillScroll=this._register(new L);onWillScroll=this._onWillScroll.event;get options(){return this._options}constructor(e,t,i){super(),e.style.overflow="hidden",this._options=h1(t),this._scrollable=i,this._register(this._scrollable.onScroll(r=>{this._onWillScroll.fire(r),this._onDidScroll(r),this._onScroll.fire(r)}));let o={onMouseWheel:r=>this._onMouseWheel(r),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new $a(this._scrollable,this._options,o)),this._horizontalScrollbar=this._register(new Wa(this._scrollable,this._options,o)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(e),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=lo(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=lo(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=lo(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,r=>this._onMouseOver(r)),this.onmouseleave(this._listenOnDomNode,r=>this._onMouseLeave(r)),this._hideTimeout=this._register(new ei),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}dispose(){this._mouseWheelToDispose=Ve(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarPointerDown(e){this._verticalScrollbar.delegatePointerDown(e)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(e){this._scrollable.setScrollDimensions(e,!1)}updateClassName(e){this._options.className=e,Ee&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(e){typeof e.handleMouseWheel<"u"&&(this._options.handleMouseWheel=e.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),typeof e.mouseWheelScrollSensitivity<"u"&&(this._options.mouseWheelScrollSensitivity=e.mouseWheelScrollSensitivity),typeof e.fastScrollSensitivity<"u"&&(this._options.fastScrollSensitivity=e.fastScrollSensitivity),typeof e.scrollPredominantAxis<"u"&&(this._options.scrollPredominantAxis=e.scrollPredominantAxis),typeof e.horizontal<"u"&&(this._options.horizontal=e.horizontal),typeof e.vertical<"u"&&(this._options.vertical=e.vertical),typeof e.horizontalScrollbarSize<"u"&&(this._options.horizontalScrollbarSize=e.horizontalScrollbarSize),typeof e.verticalScrollbarSize<"u"&&(this._options.verticalScrollbarSize=e.verticalScrollbarSize),typeof e.scrollByPage<"u"&&(this._options.scrollByPage=e.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}setRevealOnScroll(e){this._revealOnScroll=e}delegateScrollFromMouseWheelEvent(e){this._onMouseWheel(new cn(e))}_setListeningToMouseWheel(e){if(this._mouseWheelToDispose.length>0!==e&&(this._mouseWheelToDispose=Ve(this._mouseWheelToDispose),e)){let i=o=>{this._onMouseWheel(new cn(o))};this._mouseWheelToDispose.push(J(this._listenOnDomNode,pe.MOUSE_WHEEL,i,{passive:!1}))}}_onMouseWheel(e){if(e.browserEvent?.defaultPrevented)return;let t=Fc.INSTANCE;Ym&&t.acceptStandardWheelEvent(e);let i=!1;if(e.deltaY||e.deltaX){let r=e.deltaY*this._options.mouseWheelScrollSensitivity,s=e.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(this._options.scrollYToX&&s+r===0?s=r=0:Math.abs(r)>=Math.abs(s)?s=0:r=0),this._options.flipAxes&&([r,s]=[s,r]);let a=!Ee&&e.browserEvent&&e.browserEvent.shiftKey;(this._options.scrollYToX||a)&&!s&&(s=r,r=0),e.browserEvent&&e.browserEvent.altKey&&(s=s*this._options.fastScrollSensitivity,r=r*this._options.fastScrollSensitivity);let l=this._scrollable.getFutureScrollPosition(),d={};if(r){let u=jm*r,h=l.scrollTop-(u<0?Math.floor(u):Math.ceil(u));this._verticalScrollbar.writeScrollPosition(d,h)}if(s){let u=jm*s,h=l.scrollLeft-(u<0?Math.floor(u):Math.ceil(u));this._horizontalScrollbar.writeScrollPosition(d,h)}d=this._scrollable.validateScrollPosition(d),(l.scrollLeft!==d.scrollLeft||l.scrollTop!==d.scrollTop)&&(Ym&&this._options.mouseWheelSmoothScroll&&t.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(d):this._scrollable.setScrollPositionNow(d),i=!0)}let o=i;!o&&this._options.alwaysConsumeMouseWheel&&(o=!0),!o&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(o=!0),o&&(e.preventDefault(),e.stopPropagation())}_onDidScroll(e){this._shouldRender=this._horizontalScrollbar.onDidScroll(e)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(e)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){let e=this._scrollable.getCurrentScrollPosition(),t=e.scrollTop>0,i=e.scrollLeft>0,o=i?" left":"",r=t?" top":"",s=i||t?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${o}`),this._topShadowDomNode.setClassName(`shadow${r}`),this._topLeftShadowDomNode.setClassName(`shadow${s}${r}${o}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseLeave(e){this._mouseIsOver=!1,this._hide()}_onMouseOver(e){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){!this._mouseIsOver&&!this._isDragging&&(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){!this._mouseIsOver&&!this._isDragging&&this._hideTimeout.cancelAndSet(()=>this._hide(),u1)}},Ga=class extends qa{constructor(e,t){t=t||{},t.mouseWheelSmoothScroll=!1;let i=new Mi({forceIntegerValues:!0,smoothScrollDuration:0,scheduleAtNextAnimationFrame:o=>Wt(me(e),o)});super(e,t,i),this._register(i)}setScrollPosition(e){this._scrollable.setScrollPositionNow(e)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}},Jo=class extends qa{constructor(e,t,i){super(e,t,i)}setScrollPosition(e){e.reuseAnimation?this._scrollable.setScrollPositionSmooth(e,e.reuseAnimation):this._scrollable.setScrollPositionNow(e)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}};function h1(n){let e={lazyRender:typeof n.lazyRender<"u"?n.lazyRender:!1,className:typeof n.className<"u"?n.className:"",useShadows:typeof n.useShadows<"u"?n.useShadows:!0,handleMouseWheel:typeof n.handleMouseWheel<"u"?n.handleMouseWheel:!0,flipAxes:typeof n.flipAxes<"u"?n.flipAxes:!1,consumeMouseWheelIfScrollbarIsNeeded:typeof n.consumeMouseWheelIfScrollbarIsNeeded<"u"?n.consumeMouseWheelIfScrollbarIsNeeded:!1,alwaysConsumeMouseWheel:typeof n.alwaysConsumeMouseWheel<"u"?n.alwaysConsumeMouseWheel:!1,scrollYToX:typeof n.scrollYToX<"u"?n.scrollYToX:!1,mouseWheelScrollSensitivity:typeof n.mouseWheelScrollSensitivity<"u"?n.mouseWheelScrollSensitivity:1,fastScrollSensitivity:typeof n.fastScrollSensitivity<"u"?n.fastScrollSensitivity:5,scrollPredominantAxis:typeof n.scrollPredominantAxis<"u"?n.scrollPredominantAxis:!0,mouseWheelSmoothScroll:typeof n.mouseWheelSmoothScroll<"u"?n.mouseWheelSmoothScroll:!0,arrowSize:typeof n.arrowSize<"u"?n.arrowSize:11,listenOnDomNode:typeof n.listenOnDomNode<"u"?n.listenOnDomNode:null,horizontal:typeof n.horizontal<"u"?n.horizontal:1,horizontalScrollbarSize:typeof n.horizontalScrollbarSize<"u"?n.horizontalScrollbarSize:10,horizontalSliderSize:typeof n.horizontalSliderSize<"u"?n.horizontalSliderSize:0,horizontalHasArrows:typeof n.horizontalHasArrows<"u"?n.horizontalHasArrows:!1,vertical:typeof n.vertical<"u"?n.vertical:1,verticalScrollbarSize:typeof n.verticalScrollbarSize<"u"?n.verticalScrollbarSize:10,verticalHasArrows:typeof n.verticalHasArrows<"u"?n.verticalHasArrows:!1,verticalSliderSize:typeof n.verticalSliderSize<"u"?n.verticalSliderSize:0,scrollByPage:typeof n.scrollByPage<"u"?n.scrollByPage:!1};return e.horizontalSliderSize=typeof n.horizontalSliderSize<"u"?n.horizontalSliderSize:e.horizontalScrollbarSize,e.verticalSliderSize=typeof n.verticalSliderSize<"u"?n.verticalSliderSize:e.verticalScrollbarSize,Ee&&(e.className+=" mac"),e}var ft;(o=>{function n(r,s){if(r.start>=s.end||s.start>=r.end)return{start:0,end:0};let a=Math.max(r.start,s.start),l=Math.min(r.end,s.end);return l-a<=0?{start:0,end:0}:{start:a,end:l}}o.intersect=n;function e(r){return r.end-r.start<=0}o.isEmpty=e;function t(r,s){return!e(n(r,s))}o.intersects=t;function i(r,s){let a=[],l={start:r.start,end:Math.min(s.start,r.end)},d={start:Math.max(s.end,r.start),end:r.end};return e(l)||a.push(l),e(d)||a.push(d),a}o.relativeComplement=i})(ft||={});function Xm(n,e){let t=[];for(let i of e){if(n.start>=i.range.end)continue;if(n.end<i.range.start)break;let o=ft.intersect(n,i.range);ft.isEmpty(o)||t.push({range:o,size:i.size})}return t}function Ya({start:n,end:e},t){return{start:n+t,end:e+t}}function p1(n){let e=[],t=null;for(let i of n){let o=i.range.start,r=i.range.end,s=i.size;if(t&&s===t.size){t.range.end=r;continue}t={range:{start:o,end:r},size:s},e.push(t)}return e}function m1(...n){return p1(n.reduce((e,t)=>e.concat(t),[]))}var ja=class{groups=[];_size=0;_paddingTop=0;get paddingTop(){return this._paddingTop}set paddingTop(e){this._size=this._size+e-this._paddingTop,this._paddingTop=e}constructor(e){this._paddingTop=e??0,this._size=this._paddingTop}splice(e,t,i=[]){let o=i.length-t,r=Xm({start:0,end:e},this.groups),s=Xm({start:e+t,end:Number.POSITIVE_INFINITY},this.groups).map(l=>({range:Ya(l.range,o),size:l.size})),a=i.map((l,d)=>({range:{start:e+d,end:e+d+1},size:l.size}));this.groups=m1(r,a,s),this._size=this._paddingTop+this.groups.reduce((l,d)=>l+d.size*(d.range.end-d.range.start),0)}get count(){let e=this.groups.length;return e?this.groups[e-1].range.end:0}get size(){return this._size}indexAt(e){if(e<0)return-1;if(e<this._paddingTop)return 0;let t=0,i=this._paddingTop;for(let o of this.groups){let r=o.range.end-o.range.start,s=i+r*o.size;if(e<s)return t+Math.floor((e-i)/o.size);t+=r,i=s}return t}indexAfter(e){return Math.min(this.indexAt(e)+1,this.count)}positionAt(e){if(e<0)return-1;let t=0,i=0;for(let o of this.groups){let r=o.range.end-o.range.start,s=i+r;if(e<s)return this._paddingTop+t+(e-i)*o.size;t+=r*o.size,i=s}return-1}};var Xa=class{constructor(e){this.renderers=e}cache=new Map;transactionNodesPendingRemoval=new Set;inTransaction=!1;alloc(e){let t=this.getTemplateCache(e).pop(),i=!1;if(t)i=this.transactionNodesPendingRemoval.has(t.domNode),i&&this.transactionNodesPendingRemoval.delete(t.domNode);else{let o=Te(".monaco-list-row"),s=this.getRenderer(e).renderTemplate(o);t={domNode:o,templateId:e,templateData:s}}return{row:t,isReusingConnectedDomNode:i}}release(e){e&&this.releaseRow(e)}transact(e){if(this.inTransaction)throw new Error("Already in transaction");this.inTransaction=!0;try{e()}finally{for(let t of this.transactionNodesPendingRemoval)this.doRemoveNode(t);this.transactionNodesPendingRemoval.clear(),this.inTransaction=!1}}releaseRow(e){let{domNode:t,templateId:i}=e;t&&(this.inTransaction?this.transactionNodesPendingRemoval.add(t):this.doRemoveNode(t)),this.getTemplateCache(i).push(e)}doRemoveNode(e){e.classList.remove("scrolling"),e.remove()}getTemplateCache(e){let t=this.cache.get(e);return t||(t=[],this.cache.set(e,t)),t}dispose(){this.cache.forEach((e,t)=>{for(let i of e)this.getRenderer(t).disposeTemplate(i.templateData),i.templateData=null}),this.cache.clear(),this.transactionNodesPendingRemoval.clear()}getRenderer(e){let t=this.renderers.get(e);if(!t)throw new Error(`No renderer found for ${e}`);return t}};var Jm=2e4,ef,Pc,Qm,Bc,Zm;function Ri(n){ef&&(Pc.textContent!==n?(mt(Qm),Ja(Pc,n)):(mt(Pc),Ja(Qm,n)))}function Hc(n){ef&&(Bc.textContent!==n?(mt(Zm),Ja(Bc,n)):(mt(Bc),Ja(Zm,n)))}function Ja(n,e){mt(n),e.length>Jm&&(e=e.substr(0,Jm)),n.textContent=e,n.style.visibility="hidden",n.style.visibility="visible"}var co={CurrentDragAndDropData:void 0};var Nn={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements(n){return[n]},getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){},dispose(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0},ii=class{elements;_context;get context(){return this._context}set context(e){this._context=e}constructor(e){this.elements=e}update(){}getData(){return this.elements}},Kc=class{elements;constructor(e){this.elements=e}update(){}getData(){return this.elements}},zc=class{types;files;constructor(){this.types=[],this.files=[]}update(e){if(e.types&&this.types.splice(0,this.types.length,...e.types),e.files){this.files.splice(0,this.files.length);for(let t=0;t<e.files.length;t++){let i=e.files.item(t);i&&(i.size||i.type)&&this.files.push(i)}}}getData(){return{types:this.types,files:this.files}}};function g1(n,e){return Array.isArray(n)&&Array.isArray(e)?rn(n,e):n===e}var Uc=class{getSetSize;getPosInSet;getRole;isChecked;constructor(e){e?.getSetSize?this.getSetSize=e.getSetSize.bind(e):this.getSetSize=(t,i,o)=>o,e?.getPosInSet?this.getPosInSet=e.getPosInSet.bind(e):this.getPosInSet=(t,i)=>i+1,e?.getRole?this.getRole=e.getRole.bind(e):this.getRole=t=>"listitem",e?.isChecked?this.isChecked=e.isChecked.bind(e):this.isChecked=t=>{}}},Ft=class Ft{constructor(e,t,i,o=Nn){this.virtualDelegate=t;if(o.horizontalScrolling&&o.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=this.createRangeMap(o.paddingTop??0);for(let s of i)this.renderers.set(s.templateId,s);this.cache=this.disposables.add(new Xa(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support",typeof o.mouseSupport=="boolean"?o.mouseSupport:!0),this._horizontalScrolling=o.horizontalScrolling??Nn.horizontalScrolling,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.paddingBottom=typeof o.paddingBottom>"u"?0:o.paddingBottom,this.accessibilityProvider=new Uc(o.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",(o.transformOptimization??Nn.transformOptimization)&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)",this.rowsContainer.style.overflow="hidden",this.rowsContainer.style.contain="strict"),this.disposables.add(It.addTarget(this.rowsContainer)),this.scrollable=this.disposables.add(new Mi({forceIntegerValues:!0,smoothScrollDuration:o.smoothScrolling??!1?125:0,scheduleAtNextAnimationFrame:s=>Wt(me(this.domNode),s)})),this.scrollableElement=this.disposables.add(new Jo(this.rowsContainer,{alwaysConsumeMouseWheel:o.alwaysConsumeMouseWheel??Nn.alwaysConsumeMouseWheel,horizontal:1,vertical:o.verticalScrollMode??Nn.verticalScrollMode,useShadows:o.useShadows??Nn.useShadows,mouseWheelScrollSensitivity:o.mouseWheelScrollSensitivity,fastScrollSensitivity:o.fastScrollSensitivity,scrollByPage:o.scrollByPage},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),e.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),this.disposables.add(J(this.rowsContainer,Ue.Change,s=>this.onTouchChange(s))),this.disposables.add(J(this.scrollableElement.getDomNode(),"scroll",s=>s.target.scrollTop=0)),this.disposables.add(J(this.domNode,"dragover",s=>this.onDragOver(this.toDragEvent(s)))),this.disposables.add(J(this.domNode,"drop",s=>this.onDrop(this.toDragEvent(s)))),this.disposables.add(J(this.domNode,"dragleave",s=>this.onDragLeave(this.toDragEvent(s)))),this.disposables.add(J(this.domNode,"dragend",s=>this.onDragEnd(s))),this.setRowLineHeight=o.setRowLineHeight??Nn.setRowLineHeight,this.setRowHeight=o.setRowHeight??Nn.setRowHeight,this.supportDynamicHeights=o.supportDynamicHeights??Nn.supportDynamicHeights,this.dnd=o.dnd??this.disposables.add(Nn.dnd),this.layout(o.initialSize?.height,o.initialSize?.width)}static InstanceCount=0;domId=`list_id_${++Ft.InstanceCount}`;domNode;items;itemId;rangeMap;cache;renderers=new Map;lastRenderTop;lastRenderHeight;renderWidth=0;rowsContainer;scrollable;scrollableElement;_scrollHeight=0;scrollableElementUpdateDisposable=null;scrollableElementWidthDelayer=new Cn(50);splicing=!1;dragOverAnimationDisposable;dragOverAnimationStopDisposable=Q.None;dragOverMouseY=0;setRowLineHeight;setRowHeight;supportDynamicHeights;paddingBottom;accessibilityProvider;scrollWidth;dnd;canDrop=!1;currentDragData;currentDragFeedback;currentDragFeedbackPosition;currentDragFeedbackDisposable=Q.None;onDragLeaveTimeout=Q.None;disposables=new j;_onDidChangeContentHeight=new L;_onDidChangeContentWidth=new L;onDidChangeContentHeight=A.latch(this._onDidChangeContentHeight.event,void 0,this.disposables);onDidChangeContentWidth=A.latch(this._onDidChangeContentWidth.event,void 0,this.disposables);get contentHeight(){return this.rangeMap.size}get contentWidth(){return this.scrollWidth??0}get onDidScroll(){return this.scrollableElement.onScroll}get onWillScroll(){return this.scrollableElement.onWillScroll}get containerDomNode(){return this.rowsContainer}get scrollableElementDomNode(){return this.scrollableElement.getDomNode()}_horizontalScrolling=!1;get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(e){if(e!==this._horizontalScrolling){if(e&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=e,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(let t of this.items)this.measureItemWidth(t);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:Go(this.domNode)}),this.rowsContainer.style.width=`${Math.max(this.scrollWidth||0,this.renderWidth)}px`}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}}updateOptions(e){e.paddingBottom!==void 0&&(this.paddingBottom=e.paddingBottom,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),e.smoothScrolling!==void 0&&this.scrollable.setSmoothScrollDuration(e.smoothScrolling?125:0),e.horizontalScrolling!==void 0&&(this.horizontalScrolling=e.horizontalScrolling);let t;if(e.scrollByPage!==void 0&&(t={...t??{},scrollByPage:e.scrollByPage}),e.mouseWheelScrollSensitivity!==void 0&&(t={...t??{},mouseWheelScrollSensitivity:e.mouseWheelScrollSensitivity}),e.fastScrollSensitivity!==void 0&&(t={...t??{},fastScrollSensitivity:e.fastScrollSensitivity}),t&&this.scrollableElement.updateOptions(t),e.paddingTop!==void 0&&e.paddingTop!==this.rangeMap.paddingTop){let i=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),o=e.paddingTop-this.rangeMap.paddingTop;this.rangeMap.paddingTop=e.paddingTop,this.render(i,Math.max(0,this.lastRenderTop+o),this.lastRenderHeight,void 0,void 0,!0),this.setScrollTop(this.lastRenderTop),this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.lastRenderTop,this.lastRenderHeight)}}delegateScrollFromMouseWheelEvent(e){this.scrollableElement.delegateScrollFromMouseWheelEvent(e)}delegateVerticalScrollbarPointerDown(e){this.scrollableElement.delegateVerticalScrollbarPointerDown(e)}updateElementHeight(e,t,i){if(e<0||e>=this.items.length)return;let o=this.items[e].size;if(typeof t>"u"){if(!this.supportDynamicHeights){console.warn("Dynamic heights not supported",new Error().stack);return}this.items[e].lastDynamicHeightWidth=void 0,t=o+this.probeDynamicHeight(e)}if(o===t)return;let r=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),s=0;e<r.start||i!==null&&i>e&&i<r.end?s=t-o:s=0,this.rangeMap.splice(e,1,[{size:t}]),this.items[e].size=t,this.render(r,Math.max(0,this.lastRenderTop+s),this.lastRenderHeight,void 0,void 0,!0),this.setScrollTop(this.lastRenderTop),this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.lastRenderTop,this.lastRenderHeight)}createRangeMap(e){return new ja(e)}splice(e,t,i=[]){if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(e,t,i)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice(e,t,i=[]){let o=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),r={start:e,end:e+t},s=ft.intersect(o,r),a=new Map;for(let _=s.end-1;_>=s.start;_--){let H=this.items[_];if(H.dragStartDisposable.dispose(),H.checkedDisposable.dispose(),H.row){let B=a.get(H.templateId);B||(B=[],a.set(H.templateId,B));let N=this.renderers.get(H.templateId);N&&N.disposeElement&&N.disposeElement(H.element,_,H.row.templateData,H.size),B.unshift(H.row)}H.row=null,H.stale=!0}let l={start:e+t,end:this.items.length},d=ft.intersect(l,o),u=ft.relativeComplement(l,o),h=i.map(_=>({id:String(this.itemId++),element:_,templateId:this.virtualDelegate.getTemplateId(_),size:this.virtualDelegate.getHeight(_),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(_),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:Q.None,checkedDisposable:Q.None,stale:!1})),g;e===0&&t>=this.items.length?(this.rangeMap=this.createRangeMap(this.rangeMap.paddingTop),this.rangeMap.splice(0,0,h),g=this.items,this.items=h):(this.rangeMap.splice(e,t,h),g=this.items.splice(e,t,...h));let T=i.length-t,w=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),v=Ya(d,T),E=ft.intersect(w,v);for(let _=E.start;_<E.end;_++)this.updateItemInDOM(this.items[_],_);let P=ft.relativeComplement(v,w);for(let _ of P)for(let H=_.start;H<_.end;H++)this.removeItemFromDOM(H);let R=u.map(_=>Ya(_,T)),O=[{start:e,end:e+i.length},...R].map(_=>ft.intersect(w,_)).reverse();for(let _ of O)for(let H=_.end-1;H>=_.start;H--){let B=this.items[H],Z=a.get(B.templateId)?.pop();this.insertItemInDOM(H,Z)}for(let _ of a.values())for(let H of _)this.cache.release(H);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),g.map(_=>_.element)}eventuallyUpdateScrollDimensions(){this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=`${this._scrollHeight}px`,this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=Wt(me(this.domNode),()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null}))}eventuallyUpdateScrollWidth(){if(!this.horizontalScrolling){this.scrollableElementWidthDelayer.cancel();return}this.scrollableElementWidthDelayer.trigger(()=>this.updateScrollWidth())}updateScrollWidth(){if(!this.horizontalScrolling)return;let e=0;for(let t of this.items)typeof t.width<"u"&&(e=Math.max(e,t.width));this.scrollWidth=e,this.scrollableElement.setScrollDimensions({scrollWidth:e===0?0:e+10}),this._onDidChangeContentWidth.fire(this.scrollWidth)}updateWidth(e){if(!this.horizontalScrolling||typeof this.scrollWidth>"u")return;let t=this.items[e];this.measureItemWidth(t),typeof t.width<"u"&&t.width>this.scrollWidth&&(this.scrollWidth=t.width,this.scrollableElement.setScrollDimensions({scrollWidth:this.scrollWidth+10}),this._onDidChangeContentWidth.fire(this.scrollWidth))}rerender(){if(this.supportDynamicHeights){for(let e of this.items)e.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}get firstVisibleIndex(){return this.getRenderRange(this.lastRenderTop,this.lastRenderHeight).start}get firstMostlyVisibleIndex(){let e=this.firstVisibleIndex,t=this.rangeMap.positionAt(e),i=this.rangeMap.positionAt(e+1);return i!==-1&&(i-t)/2+t<this.scrollTop?e+1:e}get lastVisibleIndex(){return this.getRenderRange(this.lastRenderTop,this.lastRenderHeight).end-1}element(e){return this.items[e].element}indexOf(e){return this.items.findIndex(t=>t.element===e)}domElement(e){let t=this.items[e].row;return t&&t.domNode}elementHeight(e){return this.items[e].size}elementTop(e){return this.rangeMap.positionAt(e)}indexAt(e){return this.rangeMap.indexAt(e)}indexAfter(e){return this.rangeMap.indexAfter(e)}layout(e,t){let i={height:typeof e=="number"?e:Oa(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,i.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(i),typeof t<"u"&&(this.renderWidth=t,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight)),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:typeof t=="number"?t:Go(this.domNode)})}render(e,t,i,o,r,s=!1){let a=this.getRenderRange(t,i),l=ft.relativeComplement(a,e).reverse(),d=ft.relativeComplement(e,a);if(s){let u=ft.intersect(e,a);for(let h=u.start;h<u.end;h++)this.updateItemInDOM(this.items[h],h)}this.cache.transact(()=>{for(let u of d)for(let h=u.start;h<u.end;h++)this.removeItemFromDOM(h);for(let u of l)for(let h=u.end-1;h>=u.start;h--)this.insertItemInDOM(h)}),o!==void 0&&(this.rowsContainer.style.left=`-${o}px`),this.rowsContainer.style.top=`-${t}px`,this.horizontalScrolling&&r!==void 0&&(this.rowsContainer.style.width=`${Math.max(r,this.renderWidth)}px`),this.lastRenderTop=t,this.lastRenderHeight=i}insertItemInDOM(e,t){let i=this.items[e];if(!i.row)if(t)i.row=t,i.stale=!0;else{let l=this.cache.alloc(i.templateId);i.row=l.row,i.stale||=l.isReusingConnectedDomNode}let o=this.accessibilityProvider.getRole(i.element)||"listitem";i.row.domNode.setAttribute("role",o);let r=this.accessibilityProvider.isChecked(i.element);if(typeof r=="boolean")i.row.domNode.setAttribute("aria-checked",String(!!r));else if(r){let l=d=>i.row.domNode.setAttribute("aria-checked",String(!!d));l(r.value),i.checkedDisposable=r.onDidChange(()=>l(r.value))}if(i.stale||!i.row.domNode.parentElement){let l=this.items.at(e+1)?.row?.domNode??null;(i.row.domNode.parentElement!==this.rowsContainer||i.row.domNode.nextElementSibling!==l)&&this.rowsContainer.insertBefore(i.row.domNode,l),i.stale=!1}this.updateItemInDOM(i,e);let s=this.renderers.get(i.templateId);if(!s)throw new Error(`No renderer found for template id ${i.templateId}`);s?.renderElement(i.element,e,i.row.templateData,i.size);let a=this.dnd.getDragURI(i.element);i.dragStartDisposable.dispose(),i.row.domNode.draggable=!!a,a&&(i.dragStartDisposable=J(i.row.domNode,"dragstart",l=>this.onDragStart(i.element,a,l))),this.horizontalScrolling&&(this.measureItemWidth(i),this.eventuallyUpdateScrollWidth())}measureItemWidth(e){if(!e.row||!e.row.domNode)return;e.row.domNode.style.width="fit-content",e.width=Go(e.row.domNode);let t=me(e.row.domNode).getComputedStyle(e.row.domNode);t.paddingLeft&&(e.width+=parseFloat(t.paddingLeft)),t.paddingRight&&(e.width+=parseFloat(t.paddingRight)),e.row.domNode.style.width=""}updateItemInDOM(e,t){e.row.domNode.style.top=`${this.elementTop(t)}px`,this.setRowHeight&&(e.row.domNode.style.height=`${e.size}px`),this.setRowLineHeight&&(e.row.domNode.style.lineHeight=`${e.size}px`),e.row.domNode.setAttribute("data-index",`${t}`),e.row.domNode.setAttribute("data-last-element",t===this.length-1?"true":"false"),e.row.domNode.setAttribute("data-parity",t%2===0?"even":"odd"),e.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(e.element,t,this.length))),e.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(e.element,t))),e.row.domNode.setAttribute("id",this.getElementDomId(t)),e.row.domNode.classList.toggle("drop-target",e.dropTarget)}removeItemFromDOM(e){let t=this.items[e];if(t.dragStartDisposable.dispose(),t.checkedDisposable.dispose(),t.row){let i=this.renderers.get(t.templateId);i&&i.disposeElement&&i.disposeElement(t.element,e,t.row.templateData,t.size),this.cache.release(t.row),t.row=null}this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop(e,t){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:e,reuseAnimation:t})}getScrollLeft(){return this.scrollableElement.getScrollPosition().scrollLeft}setScrollLeft(e){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollWidth:this.scrollWidth})),this.scrollableElement.setScrollPosition({scrollLeft:e})}get scrollTop(){return this.getScrollTop()}set scrollTop(e){this.setScrollTop(e)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.paddingBottom}get onMouseClick(){return A.map(this.disposables.add(new ie(this.domNode,"click")).event,e=>this.toMouseEvent(e),this.disposables)}get onMouseDblClick(){return A.map(this.disposables.add(new ie(this.domNode,"dblclick")).event,e=>this.toMouseEvent(e),this.disposables)}get onMouseMiddleClick(){return A.filter(A.map(this.disposables.add(new ie(this.domNode,"auxclick")).event,e=>this.toMouseEvent(e),this.disposables),e=>e.browserEvent.button===1,this.disposables)}get onMouseUp(){return A.map(this.disposables.add(new ie(this.domNode,"mouseup")).event,e=>this.toMouseEvent(e),this.disposables)}get onMouseDown(){return A.map(this.disposables.add(new ie(this.domNode,"mousedown")).event,e=>this.toMouseEvent(e),this.disposables)}get onMouseOver(){return A.map(this.disposables.add(new ie(this.domNode,"mouseover")).event,e=>this.toMouseEvent(e),this.disposables)}get onMouseMove(){return A.map(this.disposables.add(new ie(this.domNode,"mousemove")).event,e=>this.toMouseEvent(e),this.disposables)}get onMouseOut(){return A.map(this.disposables.add(new ie(this.domNode,"mouseout")).event,e=>this.toMouseEvent(e),this.disposables)}get onContextMenu(){return A.any(A.map(this.disposables.add(new ie(this.domNode,"contextmenu")).event,e=>this.toMouseEvent(e),this.disposables),A.map(this.disposables.add(new ie(this.domNode,Ue.Contextmenu)).event,e=>this.toGestureEvent(e),this.disposables))}get onTouchStart(){return A.map(this.disposables.add(new ie(this.domNode,"touchstart")).event,e=>this.toTouchEvent(e),this.disposables)}get onTap(){return A.map(this.disposables.add(new ie(this.rowsContainer,Ue.Tap)).event,e=>this.toGestureEvent(e),this.disposables)}toMouseEvent(e){let t=this.getItemIndexFromEventTarget(e.target||null),i=typeof t>"u"?void 0:this.items[t],o=i&&i.element;return{browserEvent:e,index:t,element:o}}toTouchEvent(e){let t=this.getItemIndexFromEventTarget(e.target||null),i=typeof t>"u"?void 0:this.items[t],o=i&&i.element;return{browserEvent:e,index:t,element:o}}toGestureEvent(e){let t=this.getItemIndexFromEventTarget(e.initialTarget||null),i=typeof t>"u"?void 0:this.items[t],o=i&&i.element;return{browserEvent:e,index:t,element:o}}toDragEvent(e){let t=this.getItemIndexFromEventTarget(e.target||null),i=typeof t>"u"?void 0:this.items[t],o=i&&i.element,r=this.getTargetSector(e,t);return{browserEvent:e,index:t,element:o,sector:r}}onScroll(e){try{let t=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render(t,e.scrollTop,e.height,e.scrollLeft,e.scrollWidth),this.supportDynamicHeights&&this._rerender(e.scrollTop,e.height,e.inSmoothScrolling)}catch(t){throw console.error("Got bad scroll event:",e),t}}onTouchChange(e){e.preventDefault(),e.stopPropagation(),this.scrollTop-=e.translationY}onDragStart(e,t,i){if(!i.dataTransfer)return;let o=this.dnd.getDragElements(e);if(i.dataTransfer.effectAllowed="copyMove",i.dataTransfer.setData(Ha.TEXT,t),i.dataTransfer.setDragImage){let r;this.dnd.getDragLabel&&(r=this.dnd.getDragLabel(o,i)),typeof r>"u"&&(r=String(o.length));let s=Te(".monaco-drag-image");s.textContent=r,(d=>{for(;d&&!d.classList.contains("monaco-workbench");)d=d.parentElement;return d||this.domNode.ownerDocument})(this.domNode).appendChild(s),i.dataTransfer.setDragImage(s,-10,-10),setTimeout(()=>s.remove(),0)}this.domNode.classList.add("dragging"),this.currentDragData=new ii(o),co.CurrentDragAndDropData=new Kc(o),this.dnd.onDragStart?.(this.currentDragData,i)}onDragOver(e){if(e.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),co.CurrentDragAndDropData&&co.CurrentDragAndDropData.getData()==="vscode-ui"||(this.setupDragAndDropScrollTopAnimation(e.browserEvent),!e.browserEvent.dataTransfer))return!1;if(!this.currentDragData)if(co.CurrentDragAndDropData)this.currentDragData=co.CurrentDragAndDropData;else{if(!e.browserEvent.dataTransfer.types)return!1;this.currentDragData=new zc}let t=this.dnd.onDragOver(this.currentDragData,e.element,e.index,e.sector,e.browserEvent);if(this.canDrop=typeof t=="boolean"?t:t.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;e.browserEvent.dataTransfer.dropEffect=typeof t!="boolean"&&t.effect?.type===0?"copy":"move";let i;typeof t!="boolean"&&t.feedback?i=t.feedback:typeof e.index>"u"?i=[-1]:i=[e.index],i=Qi(i).filter(r=>r>=-1&&r<this.length).sort((r,s)=>r-s),i=i[0]===-1?[-1]:i;let o=typeof t!="boolean"&&t.effect&&t.effect.position?t.effect.position:"drop-target";if(g1(this.currentDragFeedback,i)&&this.currentDragFeedbackPosition===o)return!0;if(this.currentDragFeedback=i,this.currentDragFeedbackPosition=o,this.currentDragFeedbackDisposable.dispose(),i[0]===-1)this.domNode.classList.add(o),this.rowsContainer.classList.add(o),this.currentDragFeedbackDisposable=ce(()=>{this.domNode.classList.remove(o),this.rowsContainer.classList.remove(o)});else{if(i.length>1&&o!=="drop-target")throw new Error("Can't use multiple feedbacks with position different than 'over'");o==="drop-target-after"&&i[0]<this.length-1&&(i[0]+=1,o="drop-target-before");for(let r of i){let s=this.items[r];s.dropTarget=!0,s.row?.domNode.classList.add(o)}this.currentDragFeedbackDisposable=ce(()=>{for(let r of i){let s=this.items[r];s.dropTarget=!1,s.row?.domNode.classList.remove(o)}})}return!0}onDragLeave(e){this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=qr(()=>this.clearDragOverFeedback(),100,this.disposables),this.currentDragData&&this.dnd.onDragLeave?.(this.currentDragData,e.element,e.index,e.browserEvent)}onDrop(e){if(!this.canDrop)return;let t=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.domNode.classList.remove("dragging"),this.currentDragData=void 0,co.CurrentDragAndDropData=void 0,!(!t||!e.browserEvent.dataTransfer)&&(e.browserEvent.preventDefault(),t.update(e.browserEvent.dataTransfer),this.dnd.drop(t,e.element,e.index,e.sector,e.browserEvent))}onDragEnd(e){this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.domNode.classList.remove("dragging"),this.currentDragData=void 0,co.CurrentDragAndDropData=void 0,this.dnd.onDragEnd?.(e)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackPosition=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=Q.None}setupDragAndDropScrollTopAnimation(e){if(!this.dragOverAnimationDisposable){let t=Km(this.domNode).top;this.dragOverAnimationDisposable=Wm(me(this.domNode),this.animateDragAndDropScrollTop.bind(this,t))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=qr(()=>{this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)},1e3,this.disposables),this.dragOverMouseY=e.pageY}animateDragAndDropScrollTop(e){if(this.dragOverMouseY===void 0)return;let t=this.dragOverMouseY-e,i=this.renderHeight-35;t<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(t-35))):t>i&&(this.scrollTop+=Math.min(14,Math.floor(.3*(t-i))))}teardownDragAndDropScrollTopAnimation(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}getTargetSector(e,t){if(t===void 0)return;let i=e.offsetY/this.items[t].size,o=Math.floor(i/.25);return st(o,0,3)}getItemIndexFromEventTarget(e){let t=this.scrollableElement.getDomNode(),i=e;for(;(_t(i)||Um(i))&&i!==this.rowsContainer&&t.contains(i);){let o=i.getAttribute("data-index");if(o){let r=Number(o);if(!isNaN(r))return r}i=i.parentElement}}getRenderRange(e,t){return{start:this.rangeMap.indexAt(e),end:this.rangeMap.indexAfter(e+t-1)}}_rerender(e,t,i){let o=this.getRenderRange(e,t),r,s;e===this.elementTop(o.start)?(r=o.start,s=0):o.end-o.start>1&&(r=o.start+1,s=this.elementTop(r)-e);let a=0;for(;;){let l=this.getRenderRange(e,t),d=!1;for(let u=l.start;u<l.end;u++){let h=this.probeDynamicHeight(u);h!==0&&this.rangeMap.splice(u,1,[this.items[u]]),a+=h,d=d||h!==0}if(!d){a!==0&&this.eventuallyUpdateScrollDimensions();let u=ft.relativeComplement(o,l);for(let g of u)for(let T=g.start;T<g.end;T++)this.items[T].row&&this.removeItemFromDOM(T);let h=ft.relativeComplement(l,o).reverse();for(let g of h)for(let T=g.end-1;T>=g.start;T--)this.insertItemInDOM(T);for(let g=l.start;g<l.end;g++)this.items[g].row&&this.updateItemInDOM(this.items[g],g);if(typeof r=="number"){let g=this.scrollable.getFutureScrollPosition().scrollTop-e,T=this.elementTop(r)-s+g;this.setScrollTop(T,i)}this._onDidChangeContentHeight.fire(this.contentHeight);return}}}probeDynamicHeight(e){let t=this.items[e];if(this.virtualDelegate.getDynamicHeight){let s=this.virtualDelegate.getDynamicHeight(t.element);if(s!==null){let a=t.size;return t.size=s,t.lastDynamicHeightWidth=this.renderWidth,s-a}}if(!t.hasDynamicHeight||t.lastDynamicHeightWidth===this.renderWidth||this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(t.element))return 0;let i=t.size;if(t.row)return t.row.domNode.style.height="",t.size=t.row.domNode.offsetHeight,t.size===0&&!mn(t.row.domNode,me(t.row.domNode).document.body)&&console.warn("Measuring item node that is not in DOM! Add ListView to the DOM before measuring row height!",new Error().stack),t.lastDynamicHeightWidth=this.renderWidth,t.size-i;let{row:o}=this.cache.alloc(t.templateId);o.domNode.style.height="",this.rowsContainer.appendChild(o.domNode);let r=this.renderers.get(t.templateId);if(!r)throw new on("Missing renderer for templateId: "+t.templateId);return r.renderElement(t.element,e,o.templateData,void 0),t.size=o.domNode.offsetHeight,r.disposeElement?.(t.element,e,o.templateData,void 0),this.virtualDelegate.setDynamicHeight?.(t.element,t.size),t.lastDynamicHeightWidth=this.renderWidth,o.domNode.remove(),this.cache.release(o),t.size-i}getElementDomId(e){return`${this.domId}_${e}`}dispose(){for(let e of this.items)if(e.dragStartDisposable.dispose(),e.checkedDisposable.dispose(),e.row){let t=this.renderers.get(e.row.templateId);t&&(t.disposeElement?.(e.element,-1,e.row.templateData,void 0),t.disposeTemplate(e.row.templateData))}this.items=[],this.domNode?.remove(),this.dragOverAnimationDisposable?.dispose(),this.disposables.dispose()}};he([ke],Ft.prototype,"onMouseClick",1),he([ke],Ft.prototype,"onMouseDblClick",1),he([ke],Ft.prototype,"onMouseMiddleClick",1),he([ke],Ft.prototype,"onMouseUp",1),he([ke],Ft.prototype,"onMouseDown",1),he([ke],Ft.prototype,"onMouseOver",1),he([ke],Ft.prototype,"onMouseMove",1),he([ke],Ft.prototype,"onMouseOut",1),he([ke],Ft.prototype,"onContextMenu",1),he([ke],Ft.prototype,"onTouchStart",1),he([ke],Ft.prototype,"onTap",1);var Qa=Ft;var Mn=class extends Error{constructor(e,t){super(`ListError [${e}] ${t}`)}};var Oe=class extends Error{constructor(e,t){super(`TreeError [${e}] ${t}`)}},uo=class{constructor(e){this.fn=e}_map=new WeakMap;map(e){let t=this._map.get(e);return t||(t=this.fn(e),this._map.set(e,t)),t}};var Za=class{constructor(e){this.spliceables=e}splice(e,t,i){this.spliceables.forEach(o=>o.splice(e,t,i))}};function Fi(n,e){let t=Math.pow(10,e);return Math.round(n*t)/t}var ue=class{_rgbaBrand=void 0;r;g;b;a;constructor(e,t,i,o=1){this.r=Math.min(255,Math.max(0,e))|0,this.g=Math.min(255,Math.max(0,t))|0,this.b=Math.min(255,Math.max(0,i))|0,this.a=Fi(Math.max(Math.min(1,o),0),3)}static equals(e,t){return e.r===t.r&&e.g===t.g&&e.b===t.b&&e.a===t.a}},Oi=class n{_hslaBrand=void 0;h;s;l;a;constructor(e,t,i,o){this.h=Math.max(Math.min(360,e),0)|0,this.s=Fi(Math.max(Math.min(1,t),0),3),this.l=Fi(Math.max(Math.min(1,i),0),3),this.a=Fi(Math.max(Math.min(1,o),0),3)}static equals(e,t){return e.h===t.h&&e.s===t.s&&e.l===t.l&&e.a===t.a}static fromRGBA(e){let t=e.r/255,i=e.g/255,o=e.b/255,r=e.a,s=Math.max(t,i,o),a=Math.min(t,i,o),l=0,d=0,u=(a+s)/2,h=s-a;if(h>0){switch(d=Math.min(u<=.5?h/(2*u):h/(2-2*u),1),s){case t:l=(i-o)/h+(i<o?6:0);break;case i:l=(o-t)/h+2;break;case o:l=(t-i)/h+4;break}l*=60,l=Math.round(l)}return new n(l,d,u,r)}static _hue2rgb(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+(t-e)*6*i:i<1/2?t:i<2/3?e+(t-e)*(2/3-i)*6:e}static toRGBA(e){let t=e.h/360,{s:i,l:o,a:r}=e,s,a,l;if(i===0)s=a=l=o;else{let d=o<.5?o*(1+i):o+i-o*i,u=2*o-d;s=n._hue2rgb(u,d,t+1/3),a=n._hue2rgb(u,d,t),l=n._hue2rgb(u,d,t-1/3)}return new ue(Math.round(s*255),Math.round(a*255),Math.round(l*255),r)}},Qo=class n{_hsvaBrand=void 0;h;s;v;a;constructor(e,t,i,o){this.h=Math.max(Math.min(360,e),0)|0,this.s=Fi(Math.max(Math.min(1,t),0),3),this.v=Fi(Math.max(Math.min(1,i),0),3),this.a=Fi(Math.max(Math.min(1,o),0),3)}static equals(e,t){return e.h===t.h&&e.s===t.s&&e.v===t.v&&e.a===t.a}static fromRGBA(e){let t=e.r/255,i=e.g/255,o=e.b/255,r=Math.max(t,i,o),s=Math.min(t,i,o),a=r-s,l=r===0?0:a/r,d;return a===0?d=0:r===t?d=((i-o)/a%6+6)%6:r===i?d=(o-t)/a+2:d=(t-i)/a+4,new n(Math.round(d*60),l,r,e.a)}static toRGBA(e){let{h:t,s:i,v:o,a:r}=e,s=o*i,a=s*(1-Math.abs(t/60%2-1)),l=o-s,[d,u,h]=[0,0,0];return t<60?(d=s,u=a):t<120?(d=a,u=s):t<180?(u=s,h=a):t<240?(u=a,h=s):t<300?(d=a,h=s):t<=360&&(d=s,h=a),d=Math.round((d+l)*255),u=Math.round((u+l)*255),h=Math.round((h+l)*255),new ue(d,u,h,r)}},k=class n{static fromHex(e){return n.Format.CSS.parseHex(e)||n.red}static equals(e,t){return!e&&!t?!0:!e||!t?!1:e.equals(t)}rgba;_hsla;get hsla(){return this._hsla?this._hsla:Oi.fromRGBA(this.rgba)}_hsva;get hsva(){return this._hsva?this._hsva:Qo.fromRGBA(this.rgba)}constructor(e){if(e)if(e instanceof ue)this.rgba=e;else if(e instanceof Oi)this._hsla=e,this.rgba=Oi.toRGBA(e);else if(e instanceof Qo)this._hsva=e,this.rgba=Qo.toRGBA(e);else throw new Error("Invalid color ctor argument");else throw new Error("Color needs a value")}equals(e){return!!e&&ue.equals(this.rgba,e.rgba)&&Oi.equals(this.hsla,e.hsla)&&Qo.equals(this.hsva,e.hsva)}getRelativeLuminance(){let e=n._relativeLuminanceForComponent(this.rgba.r),t=n._relativeLuminanceForComponent(this.rgba.g),i=n._relativeLuminanceForComponent(this.rgba.b),o=.2126*e+.7152*t+.0722*i;return Fi(o,4)}static _relativeLuminanceForComponent(e){let t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}getContrastRatio(e){let t=this.getRelativeLuminance(),i=e.getRelativeLuminance();return t>i?(t+.05)/(i+.05):(i+.05)/(t+.05)}isDarker(){return(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3<128}isLighter(){return(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3>=128}isLighterThan(e){let t=this.getRelativeLuminance(),i=e.getRelativeLuminance();return t>i}isDarkerThan(e){let t=this.getRelativeLuminance(),i=e.getRelativeLuminance();return t<i}lighten(e){return new n(new Oi(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*e,this.hsla.a))}darken(e){return new n(new Oi(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*e,this.hsla.a))}transparent(e){let{r:t,g:i,b:o,a:r}=this.rgba;return new n(new ue(t,i,o,r*e))}isTransparent(){return this.rgba.a===0}isOpaque(){return this.rgba.a===1}opposite(){return new n(new ue(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}blend(e){let t=e.rgba,i=this.rgba.a,o=t.a,r=i+o*(1-i);if(r<1e-6)return n.transparent;let s=this.rgba.r*i/r+t.r*o*(1-i)/r,a=this.rgba.g*i/r+t.g*o*(1-i)/r,l=this.rgba.b*i/r+t.b*o*(1-i)/r;return new n(new ue(s,a,l,r))}makeOpaque(e){if(this.isOpaque()||e.rgba.a!==1)return this;let{r:t,g:i,b:o,a:r}=this.rgba;return new n(new ue(e.rgba.r-r*(e.rgba.r-t),e.rgba.g-r*(e.rgba.g-i),e.rgba.b-r*(e.rgba.b-o),1))}flatten(...e){let t=e.reduceRight((i,o)=>n._flatten(o,i));return n._flatten(this,t)}static _flatten(e,t){let i=1-e.rgba.a;return new n(new ue(i*t.rgba.r+e.rgba.a*e.rgba.r,i*t.rgba.g+e.rgba.a*e.rgba.g,i*t.rgba.b+e.rgba.a*e.rgba.b))}_toString;toString(){return this._toString||(this._toString=n.Format.CSS.format(this)),this._toString}static getLighterColor(e,t,i){if(e.isLighterThan(t))return e;i=i||.5;let o=e.getRelativeLuminance(),r=t.getRelativeLuminance();return i=i*(r-o)/r,e.lighten(i)}static getDarkerColor(e,t,i){if(e.isDarkerThan(t))return e;i=i||.5;let o=e.getRelativeLuminance(),r=t.getRelativeLuminance();return i=i*(o-r)/o,e.darken(i)}static white=new n(new ue(255,255,255,1));static black=new n(new ue(0,0,0,1));static red=new n(new ue(255,0,0,1));static blue=new n(new ue(0,0,255,1));static green=new n(new ue(0,255,0,1));static cyan=new n(new ue(0,255,255,1));static lightgrey=new n(new ue(211,211,211,1));static transparent=new n(new ue(0,0,0,0))};(e=>{let n;(i=>{let t;(w=>{function o(v){return v.rgba.a===1?`rgb(${v.rgba.r}, ${v.rgba.g}, ${v.rgba.b})`:e.Format.CSS.formatRGBA(v)}w.formatRGB=o;function r(v){return`rgba(${v.rgba.r}, ${v.rgba.g}, ${v.rgba.b}, ${+v.rgba.a.toFixed(2)})`}w.formatRGBA=r;function s(v){return v.hsla.a===1?`hsl(${v.hsla.h}, ${(v.hsla.s*100).toFixed(2)}%, ${(v.hsla.l*100).toFixed(2)}%)`:e.Format.CSS.formatHSLA(v)}w.formatHSL=s;function a(v){return`hsla(${v.hsla.h}, ${(v.hsla.s*100).toFixed(2)}%, ${(v.hsla.l*100).toFixed(2)}%, ${v.hsla.a.toFixed(2)})`}w.formatHSLA=a;function l(v){let E=v.toString(16);return E.length!==2?"0"+E:E}function d(v){return`#${l(v.rgba.r)}${l(v.rgba.g)}${l(v.rgba.b)}`}w.formatHex=d;function u(v,E=!1){return E&&v.rgba.a===1?e.Format.CSS.formatHex(v):`#${l(v.rgba.r)}${l(v.rgba.g)}${l(v.rgba.b)}${l(Math.round(v.rgba.a*255))}`}w.formatHexA=u;function h(v){return v.isOpaque()?e.Format.CSS.formatHex(v):e.Format.CSS.formatRGBA(v)}w.format=h;function g(v){let E=v.length;if(E===0||v.charCodeAt(0)!==35)return null;if(E===7){let P=16*T(v.charCodeAt(1))+T(v.charCodeAt(2)),R=16*T(v.charCodeAt(3))+T(v.charCodeAt(4)),U=16*T(v.charCodeAt(5))+T(v.charCodeAt(6));return new e(new ue(P,R,U,1))}if(E===9){let P=16*T(v.charCodeAt(1))+T(v.charCodeAt(2)),R=16*T(v.charCodeAt(3))+T(v.charCodeAt(4)),U=16*T(v.charCodeAt(5))+T(v.charCodeAt(6)),O=16*T(v.charCodeAt(7))+T(v.charCodeAt(8));return new e(new ue(P,R,U,O/255))}if(E===4){let P=T(v.charCodeAt(1)),R=T(v.charCodeAt(2)),U=T(v.charCodeAt(3));return new e(new ue(16*P+P,16*R+R,16*U+U))}if(E===5){let P=T(v.charCodeAt(1)),R=T(v.charCodeAt(2)),U=T(v.charCodeAt(3)),O=T(v.charCodeAt(4));return new e(new ue(16*P+P,16*R+R,16*U+U,(16*O+O)/255))}return null}w.parseHex=g;function T(v){switch(v){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:return 10;case 65:return 10;case 98:return 11;case 66:return 11;case 99:return 12;case 67:return 12;case 100:return 13;case 68:return 13;case 101:return 14;case 69:return 14;case 102:return 15;case 70:return 15}return 0}})(t=i.CSS||={})})(n=e.Format||={})})(k||={});var Xk=new Uint32Array(10);var Jk=new Uint8Array([114,82,115,101,69,102,97,113,81,116,84,100,119,87,99,122,120,118,103]),Qk=new Uint16Array([107,111,105,79,106,112,117,80,104,27496,28520,27752,121,110,27246,28782,27758,98,109,27757,108]),Zk=new Uint16Array([114,82,29810,115,30579,26483,101,102,29286,24934,29030,29798,30822,30310,26470,97,113,29809,116,84,100,119,99,122,120,118,103]),e4=new Uint16Array([114,82,29810,115,30579,26483,101,69,102,29286,24934,29030,29798,30822,30310,26470,97,113,81,29809,116,84,100,119,87,99,122,120,118,103,107,111,105,79,106,112,117,80,104,27496,28520,27752,121,110,27246,28782,27758,98,109,27757,108]);function rf(...n){return function(e,t){for(let i=0,o=n.length;i<o;i++){let r=n[i](e,t);if(r)return r}return null}}var a4=sf.bind(void 0,!1),es=sf.bind(void 0,!0);function sf(n,e,t){if(!t||t.length<e.length)return null;let i;return n?i=Wo(t,e):i=t.indexOf(e)===0,i?e.length>0?[{start:0,end:e.length}]:[]:null}function y1(n,e){let t=e.toLowerCase().indexOf(n.toLowerCase());return t===-1?null:[{start:t,end:t+n.length}]}function T1(n,e){return Wc(n.toLowerCase(),e.toLowerCase(),0,0)}function Wc(n,e,t,i){if(t===n.length)return[];if(i===e.length)return null;if(n[t]===e[i]){let o=null;return(o=Wc(n,e,t+1,i+1))?lf({start:i,end:i+1},o):null}return Wc(n,e,t,i+1)}function jc(n){return 97<=n&&n<=122}function nl(n){return 65<=n&&n<=90}function Yc(n){return 48<=n&&n<=57}function I1(n){return n===32||n===9||n===10||n===13}var x1=new Set;"()[]{}<>`'\"-/;:,.?!".split("").forEach(n=>x1.add(n.charCodeAt(0)));function af(n){return jc(n)||nl(n)||Yc(n)}function lf(n,e){return e.length===0?e=[n]:n.end===e[0].start?e[0].start=n.start:e.unshift(n),e}function df(n,e){for(let t=e;t<n.length;t++){let i=n.charCodeAt(t);if(nl(i)||Yc(i)||t>0&&!af(n.charCodeAt(t-1)))return t}return n.length}function $c(n,e,t,i){if(t===n.length)return[];if(i===e.length)return null;if(n[t]!==e[i].toLowerCase())return null;{let o=null,r=i+1;for(o=$c(n,e,t+1,i+1);!o&&(r=df(e,r))<e.length;)o=$c(n,e,t+1,r),r++;return o===null?null:lf({start:i,end:i+1},o)}}function S1(n){let e=0,t=0,i=0,o=0,r=0;for(let u=0;u<n.length;u++)r=n.charCodeAt(u),nl(r)&&e++,jc(r)&&t++,af(r)&&i++,Yc(r)&&o++;let s=e/n.length,a=t/n.length,l=i/n.length,d=o/n.length;return{upperPercent:s,lowerPercent:a,alphaPercent:l,numericPercent:d}}function w1(n){let{upperPercent:e,lowerPercent:t}=n;return t===0&&e>.6}function E1(n){let{upperPercent:e,lowerPercent:t,alphaPercent:i,numericPercent:o}=n;return t>.2&&e<.8&&i>.6&&o<.2}function D1(n){let e=0,t=0,i=0,o=0;for(let r=0;r<n.length;r++)i=n.charCodeAt(r),nl(i)&&e++,jc(i)&&t++,I1(i)&&o++;return(e===0||t===0)&&o===0?n.length<=30:e<=5}function cf(n,e){if(!e||(e=e.trim(),e.length===0)||!D1(n))return null;e.length>60&&(e=e.substring(0,60));let t=S1(e);if(!E1(t)){if(!w1(t))return null;e=e.toLowerCase()}let i=null,o=0;for(n=n.toLowerCase();o<e.length&&(i=$c(n,e,0,o))===null;)o=df(e,o+1);return i}var l4=rf(es,cf,y1),d4=rf(es,cf,T1),c4=new ta(1e4);function uf(n,e){let t=Jc(n,n.toLowerCase(),0,e,e.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});return t?C1(t):null}function C1(n){if(typeof n>"u")return[];let e=[],t=n[1];for(let i=n.length-1;i>1;i--){let o=n[i]+t,r=e[e.length-1];r&&r.end===o?r.end=o+1:e.push({start:o,end:o+1})}return e}var Bi=128;function Xc(){let n=[],e=[];for(let t=0;t<=Bi;t++)e[t]=0;for(let t=0;t<=Bi;t++)n.push(e.slice(0));return n}function hf(n){let e=[];for(let t=0;t<=n;t++)e[t]=0;return e}var pf=hf(2*Bi),qc=hf(2*Bi),Rn=Xc(),Pi=Xc(),Zr=Xc(),_1=!1;function Vc(n,e,t,i,o){function r(a,l,d=" "){for(;a.length<l;)a=d+a;return a}let s=` |   |${i.split("").map(a=>r(a,3)).join("|")}
`;for(let a=0;a<=t;a++)a===0?s+=" |":s+=`${e[a-1]}|`,s+=n[a].slice(0,o+1).map(l=>r(l.toString(),3)).join("|")+`
`;return s}function k1(n,e,t,i){n=n.substr(e),t=t.substr(i),console.log(Vc(Pi,n,n.length,t,t.length)),console.log(Vc(Zr,n,n.length,t,t.length)),console.log(Vc(Rn,n,n.length,t,t.length))}function el(n,e){if(e<0||e>=n.length)return!1;let t=n.codePointAt(e);switch(t){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 62:case 40:case 41:case 91:case 93:case 123:case 125:return!0;case void 0:return!1;default:return!!lm(t)}}function of(n,e){if(e<0||e>=n.length)return!1;switch(n.charCodeAt(e)){case 32:case 9:return!0;default:return!1}}function tl(n,e,t){return e[n]!==t[n]}function L1(n,e,t,i,o,r,s=!1){for(;e<t&&o<r;)n[e]===i[o]&&(s&&(pf[e]=o),e+=1),o+=1;return e===t}var ho;(t=>{t.Default=[-100,0];function e(i){return!i||i.length===2&&i[0]===-100&&i[1]===0}t.isDefault=e})(ho||={});var Gc=class{constructor(e,t){this.firstMatchCanBeWeak=e;this.boostFullMatch=t}static default={boostFullMatch:!0,firstMatchCanBeWeak:!1}};function Jc(n,e,t,i,o,r,s=Gc.default){let a=n.length>Bi?Bi:n.length,l=i.length>Bi?Bi:i.length;if(t>=a||r>=l||a-t>l-r||!L1(e,t,a,o,r,l,!0))return;A1(a,l,t,r,e,o);let d=1,u=1,h=t,g=r,T=[!1];for(d=1,h=t;h<a;d++,h++){let R=pf[h],U=qc[h],O=h+1<a?qc[h+1]:l;for(u=R-r+1,g=R;g<O;u++,g++){let _=Number.MIN_SAFE_INTEGER,H=!1;g<=U&&(_=N1(n,e,h,t,i,o,g,l,r,Rn[d-1][u-1]===0,T));let B=0;_!==Number.MAX_SAFE_INTEGER&&(H=!0,B=_+Pi[d-1][u-1]);let N=g>R,Z=N?Pi[d][u-1]+(Rn[d][u-1]>0?-5:0):0,ve=g>R+1&&Rn[d][u-1]>0,ae=ve?Pi[d][u-2]+(Rn[d][u-2]>0?-5:0):0;if(ve&&(!N||ae>=Z)&&(!H||ae>=B))Pi[d][u]=ae,Zr[d][u]=3,Rn[d][u]=0;else if(N&&(!H||Z>=B))Pi[d][u]=Z,Zr[d][u]=2,Rn[d][u]=0;else if(H)Pi[d][u]=B,Zr[d][u]=1,Rn[d][u]=Rn[d-1][u-1]+1;else throw new Error("not possible")}}if(_1&&k1(n,t,i,r),!T[0]&&!s.firstMatchCanBeWeak)return;d--,u--;let w=[Pi[d][u],r],v=0,E=0;for(;d>=1;){let R=u;do{let U=Zr[d][R];if(U===3)R=R-2;else if(U===2)R=R-1;else break}while(R>=1);v>1&&e[t+d-1]===o[r+u-1]&&!tl(R+r-1,i,o)&&v+1>Rn[d][R]&&(R=u),R===u?v++:v=1,E||(E=R),d--,u=R-1,w.push(u)}l-r===a&&s.boostFullMatch&&(w[0]+=2);let P=E-a;return w[0]-=P,w}function A1(n,e,t,i,o,r){let s=n-1,a=e-1;for(;s>=t&&a>=i;)o[s]===r[a]&&(qc[s]=a,s--),a--}function N1(n,e,t,i,o,r,s,a,l,d,u){if(e[t]!==r[s])return Number.MIN_SAFE_INTEGER;let h=1,g=!1;return s===t-i?h=n[t]===o[s]?7:5:tl(s,o,r)&&(s===0||!tl(s-1,o,r))?(h=n[t]===o[s]?7:5,g=!0):el(r,s)&&(s===0||!el(r,s-1))?h=5:(el(r,s-1)||of(r,s-1))&&(h=5,g=!0),h>1&&t===i&&(u[0]=!0),g||(g=tl(s,o,r)||el(r,s-1)||of(r,s-1)),t===i?s>l&&(h-=g?3:5):d?h+=g?2:0:h+=g?0:1,s+1===a&&(h-=g?3:5),h}var Qc=class{constructor(e){this.trait=e}renderedElements=[];get templateId(){return`template:${this.trait.name}`}renderTemplate(e){return e}renderElement(e,t,i){let o=this.renderedElements.findIndex(r=>r.templateData===i);if(o>=0){let r=this.renderedElements[o];this.trait.unrender(i),r.index=t}else{let r={index:t,templateData:i};this.renderedElements.push(r)}this.trait.renderIndex(t,i)}splice(e,t,i){let o=[];for(let r of this.renderedElements)r.index<e?o.push(r):r.index>=e+t&&o.push({index:r.index+i-t,templateData:r.templateData});this.renderedElements=o}renderIndexes(e){for(let{index:t,templateData:i}of this.renderedElements)e.indexOf(t)>-1&&this.trait.renderIndex(t,i)}disposeTemplate(e){let t=this.renderedElements.findIndex(i=>i.templateData===e);t<0||this.renderedElements.splice(t,1)}},er=class{constructor(e){this._trait=e}indexes=[];sortedIndexes=[];_onChange=new L;onChange=this._onChange.event;get name(){return this._trait}get renderer(){return new Qc(this)}splice(e,t,i){let o=i.length-t,r=e+t,s=[],a=0;for(;a<this.sortedIndexes.length&&this.sortedIndexes[a]<e;)s.push(this.sortedIndexes[a++]);for(let l=0;l<i.length;l++)i[l]&&s.push(l+e);for(;a<this.sortedIndexes.length&&this.sortedIndexes[a]>=r;)s.push(this.sortedIndexes[a++]+o);this.renderer.splice(e,t,i.length),this._set(s,s)}renderIndex(e,t){t.classList.toggle(this._trait,this.contains(e))}unrender(e){e.classList.remove(this._trait)}set(e,t){return this._set(e,[...e].sort(ff),t)}_set(e,t,i){let o=this.indexes,r=this.sortedIndexes;this.indexes=e,this.sortedIndexes=t;let s=nu(r,e);return this.renderer.renderIndexes(s),this._onChange.fire({indexes:e,browserEvent:i}),o}get(){return this.indexes}contains(e){return op(this.sortedIndexes,e,ff)>=0}dispose(){Ve(this._onChange)}};he([ke],er.prototype,"renderer",1);var Zc=class extends er{constructor(t){super("selected");this.setAriaSelected=t}renderIndex(t,i){super.renderIndex(t,i),this.setAriaSelected&&(this.contains(t)?i.setAttribute("aria-selected","true"):i.setAttribute("aria-selected","false"))}},ts=class{constructor(e,t,i){this.trait=e;this.view=t;this.identityProvider=i}splice(e,t,i){if(!this.identityProvider)return this.trait.splice(e,t,new Array(i.length).fill(!1));let o=this.trait.get().map(a=>this.identityProvider.getId(this.view.element(a)).toString());if(o.length===0)return this.trait.splice(e,t,new Array(i.length).fill(!1));let r=new Set(o),s=i.map(a=>r.has(this.identityProvider.getId(a).toString()));this.trait.splice(e,t,s)}};function is(n,e){return n.classList.contains(e)?!0:n.classList.contains("monaco-list")||!n.parentElement?!1:is(n.parentElement,e)}function Zo(n){return is(n,"monaco-editor")}function gf(n){return is(n,"monaco-custom-toggle")}function bf(n){return is(n,"action-item")}function tr(n){return is(n,"monaco-tree-sticky-row")}function nr(n){return n.classList.contains("monaco-tree-sticky-container")}function su(n){return n.tagName==="A"&&n.classList.contains("monaco-button")||n.tagName==="DIV"&&n.classList.contains("monaco-button-dropdown")?!0:n.classList.contains("monaco-list")||!n.parentElement?!1:su(n.parentElement)}var il=class{constructor(e,t,i){this.list=e;this.view=t;this.multipleSelectionSupport=i.multipleSelectionSupport,this.disposables.add(this.onKeyDown(o=>{switch(o.keyCode){case 3:return this.onEnter(o);case 16:return this.onUpArrow(o);case 18:return this.onDownArrow(o);case 11:return this.onPageUpArrow(o);case 12:return this.onPageDownArrow(o);case 9:return this.onEscape(o);case 31:this.multipleSelectionSupport&&(Ee?o.metaKey:o.ctrlKey)&&this.onCtrlA(o)}}))}disposables=new j;multipleSelectionDisposables=new j;multipleSelectionSupport;get onKeyDown(){return A.chain(this.disposables.add(new ie(this.view.domNode,"keydown")).event,e=>e.filter(t=>!Ln(t.target)).map(t=>new He(t)))}updateOptions(e){e.multipleSelectionSupport!==void 0&&(this.multipleSelectionSupport=e.multipleSelectionSupport)}onEnter(e){e.preventDefault(),e.stopPropagation(),this.list.setSelection(this.list.getFocus(),e.browserEvent)}onUpArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusPrevious(1,!1,e.browserEvent);let t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onDownArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusNext(1,!1,e.browserEvent);let t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onPageUpArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusPreviousPage(e.browserEvent);let t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onPageDownArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusNextPage(e.browserEvent);let t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onCtrlA(e){e.preventDefault(),e.stopPropagation(),this.list.setSelection(nt(this.list.length),e.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus()}onEscape(e){this.list.getSelection().length&&(e.preventDefault(),e.stopPropagation(),this.list.setSelection([],e.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus())}dispose(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()}};he([ke],il.prototype,"onKeyDown",1);var M1=new class{mightProducePrintableCharacter(n){return n.ctrlKey||n.metaKey||n.altKey?!1:n.keyCode>=31&&n.keyCode<=56||n.keyCode>=21&&n.keyCode<=30||n.keyCode>=98&&n.keyCode<=107||n.keyCode>=85&&n.keyCode<=95}},eu=class{constructor(e,t,i,o,r){this.list=e;this.view=t;this.keyboardNavigationLabelProvider=i;this.keyboardNavigationEventFilter=o;this.delegate=r;this.updateOptions(e.options)}enabled=!1;state=0;mode=0;triggered=!1;previouslyFocused=-1;enabledDisposables=new j;disposables=new j;updateOptions(e){e.typeNavigationEnabled??!0?this.enable():this.disable(),this.mode=e.typeNavigationMode??0}trigger(){this.triggered=!this.triggered}enable(){if(this.enabled)return;let e=!1,t=A.chain(this.enabledDisposables.add(new ie(this.view.domNode,"keydown")).event,r=>r.filter(s=>!Ln(s.target)).filter(()=>this.mode===0||this.triggered).map(s=>new He(s)).filter(s=>e||this.keyboardNavigationEventFilter(s)).filter(s=>this.delegate.mightProducePrintableCharacter(s)).forEach(s=>$e.stop(s,!0)).map(s=>s.browserEvent.key)),i=A.debounce(t,()=>null,800,void 0,void 0,void 0,this.enabledDisposables);A.reduce(A.any(t,i),(r,s)=>s===null?null:(r||"")+s,void 0,this.enabledDisposables)(this.onInput,this,this.enabledDisposables),i(this.onClear,this,this.enabledDisposables),t(()=>e=!0,void 0,this.enabledDisposables),i(()=>e=!1,void 0,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){this.enabled&&(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){let e=this.list.getFocus();if(e.length>0&&e[0]===this.previouslyFocused){let t=this.list.options.accessibilityProvider?.getAriaLabel(this.list.element(e[0]));typeof t=="string"?Ri(t):t&&Ri(t.get())}this.previouslyFocused=-1}onInput(e){if(!e){this.state=0,this.triggered=!1;return}let t=this.list.getFocus(),i=t.length>0?t[0]:0,o=this.state===0?1:0;this.state=1;for(let r=0;r<this.list.length;r++){let s=(i+r+o)%this.list.length,a=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(s)),l=a&&a.toString();if(this.list.options.typeNavigationEnabled){if(typeof l<"u"){if(es(e,l)){this.previouslyFocused=i,this.list.setFocus([s]),this.list.reveal(s);return}let d=uf(e,l);if(d&&d[0].end-d[0].start>1&&d.length===1){this.previouslyFocused=i,this.list.setFocus([s]),this.list.reveal(s);return}}}else if(typeof l>"u"||es(e,l)){this.previouslyFocused=i,this.list.setFocus([s]),this.list.reveal(s);return}}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}},tu=class{constructor(e,t){this.list=e;this.view=t;let i=A.chain(this.disposables.add(new ie(t.domNode,"keydown")).event,r=>r.filter(s=>!Ln(s.target)).map(s=>new He(s)));A.chain(i,r=>r.filter(s=>s.keyCode===2&&!s.ctrlKey&&!s.metaKey&&!s.shiftKey&&!s.altKey))(this.onTab,this,this.disposables)}disposables=new j;onTab(e){if(e.target!==this.view.domNode)return;let t=this.list.getFocus();if(t.length===0)return;let i=this.view.domElement(t[0]);if(!i)return;let o=i.querySelector("[tabIndex]");if(!o||!_t(o)||o.tabIndex===-1)return;let r=me(o).getComputedStyle(o);r.visibility==="hidden"||r.display==="none"||(e.preventDefault(),e.stopPropagation(),o.focus())}dispose(){this.disposables.dispose()}};function au(n){return Ee?n.browserEvent.metaKey:n.browserEvent.ctrlKey}function lu(n){return n.browserEvent.shiftKey}function R1(n){return kc(n)&&n.button===2}var mf={isSelectionSingleChangeEvent:au,isSelectionRangeChangeEvent:lu},ns=class{constructor(e){this.list=e;e.options.multipleSelectionSupport!==!1&&(this.multipleSelectionController=this.list.options.multipleSelectionController||mf),this.mouseSupport=typeof e.options.mouseSupport>"u"||!!e.options.mouseSupport,this.mouseSupport&&(e.onMouseDown(this.onMouseDown,this,this.disposables),e.onContextMenu(this.onContextMenu,this,this.disposables),e.onMouseDblClick(this.onDoubleClick,this,this.disposables),e.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(It.addTarget(e.getHTMLElement()))),A.any(e.onMouseClick,e.onMouseMiddleClick,e.onTap)(this.onViewPointer,this,this.disposables)}multipleSelectionController;mouseSupport;disposables=new j;_onPointer=new L;onPointer=this._onPointer.event;updateOptions(e){e.multipleSelectionSupport!==void 0&&(this.multipleSelectionController=void 0,e.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||mf))}isSelectionSingleChangeEvent(e){return this.multipleSelectionController?this.multipleSelectionController.isSelectionSingleChangeEvent(e):!1}isSelectionRangeChangeEvent(e){return this.multipleSelectionController?this.multipleSelectionController.isSelectionRangeChangeEvent(e):!1}isSelectionChangeEvent(e){return this.isSelectionSingleChangeEvent(e)||this.isSelectionRangeChangeEvent(e)}onMouseDown(e){Zo(e.browserEvent.target)||Ai()!==e.browserEvent.target&&this.list.domFocus()}onContextMenu(e){if(Ln(e.browserEvent.target)||Zo(e.browserEvent.target))return;let t=typeof e.index>"u"?[]:[e.index];this.list.setFocus(t,e.browserEvent)}onViewPointer(e){if(!this.mouseSupport||Ln(e.browserEvent.target)||Zo(e.browserEvent.target)||e.browserEvent.isHandledByList)return;e.browserEvent.isHandledByList=!0;let t=e.index;if(typeof t>"u"){this.list.setFocus([],e.browserEvent),this.list.setSelection([],e.browserEvent),this.list.setAnchor(void 0);return}if(this.isSelectionChangeEvent(e))return this.changeSelection(e);this.list.setFocus([t],e.browserEvent),this.list.setAnchor(t),R1(e.browserEvent)||this.list.setSelection([t],e.browserEvent),this._onPointer.fire(e)}onDoubleClick(e){if(Ln(e.browserEvent.target)||Zo(e.browserEvent.target)||this.isSelectionChangeEvent(e)||e.browserEvent.isHandledByList)return;e.browserEvent.isHandledByList=!0;let t=this.list.getFocus();this.list.setSelection(t,e.browserEvent)}changeSelection(e){let t=e.index,i=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(e)){typeof i>"u"&&(i=this.list.getFocus()[0]??t,this.list.setAnchor(i));let o=Math.min(i,t),r=Math.max(i,t),s=nt(o,r+1),a=this.list.getSelection(),l=F1(nu(a,[i]),i);if(l.length===0)return;let d=nu(s,P1(a,l));this.list.setSelection(d,e.browserEvent),this.list.setFocus([t],e.browserEvent)}else if(this.isSelectionSingleChangeEvent(e)){let o=this.list.getSelection(),r=o.filter(s=>s!==t);this.list.setFocus([t]),this.list.setAnchor(t),o.length===r.length?this.list.setSelection([...r,t],e.browserEvent):this.list.setSelection(r,e.browserEvent)}}dispose(){this.disposables.dispose()}},ol=class{constructor(e,t){this.styleElement=e;this.selectorSuffix=t}style(e){let t=this.selectorSuffix&&`.${this.selectorSuffix}`,i=[];e.listBackground&&i.push(`.monaco-list${t} .monaco-list-rows { background: ${e.listBackground}; }`),e.listFocusBackground&&(i.push(`.monaco-list${t}:focus .monaco-list-row.focused { background-color: ${e.listFocusBackground}; }`),i.push(`.monaco-list${t}:focus .monaco-list-row.focused:hover { background-color: ${e.listFocusBackground}; }`)),e.listFocusForeground&&i.push(`.monaco-list${t}:focus .monaco-list-row.focused { color: ${e.listFocusForeground}; }`),e.listActiveSelectionBackground&&(i.push(`.monaco-list${t}:focus .monaco-list-row.selected { background-color: ${e.listActiveSelectionBackground}; }`),i.push(`.monaco-list${t}:focus .monaco-list-row.selected:hover { background-color: ${e.listActiveSelectionBackground}; }`)),e.listActiveSelectionForeground&&i.push(`.monaco-list${t}:focus .monaco-list-row.selected { color: ${e.listActiveSelectionForeground}; }`),e.listActiveSelectionIconForeground&&i.push(`.monaco-list${t}:focus .monaco-list-row.selected .codicon { color: ${e.listActiveSelectionIconForeground}; }`),e.listFocusAndSelectionBackground&&i.push(`
				.monaco-drag-image,
				.monaco-list${t}:focus .monaco-list-row.selected.focused { background-color: ${e.listFocusAndSelectionBackground}; }
			`),e.listFocusAndSelectionForeground&&i.push(`
				.monaco-drag-image,
				.monaco-list${t}:focus .monaco-list-row.selected.focused { color: ${e.listFocusAndSelectionForeground}; }
			`),e.listInactiveFocusForeground&&(i.push(`.monaco-list${t} .monaco-list-row.focused { color:  ${e.listInactiveFocusForeground}; }`),i.push(`.monaco-list${t} .monaco-list-row.focused:hover { color:  ${e.listInactiveFocusForeground}; }`)),e.listInactiveSelectionIconForeground&&i.push(`.monaco-list${t} .monaco-list-row.focused .codicon { color:  ${e.listInactiveSelectionIconForeground}; }`),e.listInactiveFocusBackground&&(i.push(`.monaco-list${t} .monaco-list-row.focused { background-color:  ${e.listInactiveFocusBackground}; }`),i.push(`.monaco-list${t} .monaco-list-row.focused:hover { background-color:  ${e.listInactiveFocusBackground}; }`)),e.listInactiveSelectionBackground&&(i.push(`.monaco-list${t} .monaco-list-row.selected { background-color:  ${e.listInactiveSelectionBackground}; }`),i.push(`.monaco-list${t} .monaco-list-row.selected:hover { background-color:  ${e.listInactiveSelectionBackground}; }`)),e.listInactiveSelectionForeground&&i.push(`.monaco-list${t} .monaco-list-row.selected { color: ${e.listInactiveSelectionForeground}; }`),e.listHoverBackground&&i.push(`.monaco-list${t}:not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${e.listHoverBackground}; }`),e.listHoverForeground&&i.push(`.monaco-list${t}:not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${e.listHoverForeground}; }`);let o=Qt(e.listFocusAndSelectionOutline,Qt(e.listSelectionOutline,e.listFocusOutline??""));o&&i.push(`.monaco-list${t}:focus .monaco-list-row.focused.selected { outline: 1px solid ${o}; outline-offset: -1px;}`),e.listFocusOutline&&i.push(`
				.monaco-drag-image,
				.monaco-list${t}:focus .monaco-list-row.focused { outline: 1px solid ${e.listFocusOutline}; outline-offset: -1px; }
				.monaco-workbench.context-menu-visible .monaco-list${t}.last-focused .monaco-list-row.focused { outline: 1px solid ${e.listFocusOutline}; outline-offset: -1px; }
			`);let r=Qt(e.listSelectionOutline,e.listInactiveFocusOutline??"");r&&i.push(`.monaco-list${t} .monaco-list-row.focused.selected { outline: 1px dotted ${r}; outline-offset: -1px; }`),e.listSelectionOutline&&i.push(`.monaco-list${t} .monaco-list-row.selected { outline: 1px dotted ${e.listSelectionOutline}; outline-offset: -1px; }`),e.listInactiveFocusOutline&&i.push(`.monaco-list${t} .monaco-list-row.focused { outline: 1px dotted ${e.listInactiveFocusOutline}; outline-offset: -1px; }`),e.listHoverOutline&&i.push(`.monaco-list${t} .monaco-list-row:hover { outline: 1px dashed ${e.listHoverOutline}; outline-offset: -1px; }`),e.listDropOverBackground&&i.push(`
				.monaco-list${t}.drop-target,
				.monaco-list${t} .monaco-list-rows.drop-target,
				.monaco-list${t} .monaco-list-row.drop-target { background-color: ${e.listDropOverBackground} !important; color: inherit !important; }
			`),e.listDropBetweenBackground&&(i.push(`
			.monaco-list${t} .monaco-list-rows.drop-target-before .monaco-list-row:first-child::before,
			.monaco-list${t} .monaco-list-row.drop-target-before::before {
				content: ""; position: absolute; top: 0px; left: 0px; width: 100%; height: 1px;
				background-color: ${e.listDropBetweenBackground};
			}`),i.push(`
			.monaco-list${t} .monaco-list-rows.drop-target-after .monaco-list-row:last-child::after,
			.monaco-list${t} .monaco-list-row.drop-target-after::after {
				content: ""; position: absolute; bottom: 0px; left: 0px; width: 100%; height: 1px;
				background-color: ${e.listDropBetweenBackground};
			}`)),e.tableColumnsBorder&&i.push(`
				.monaco-table > .monaco-split-view2,
				.monaco-table > .monaco-split-view2 .monaco-sash.vertical::before,
				.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2,
				.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: ${e.tableColumnsBorder};
				}

				.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2,
				.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: transparent;
				}
			`),e.tableOddRowsBackgroundColor&&i.push(`
				.monaco-table .monaco-list-row[data-parity=odd]:not(.focused):not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(:focus) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(.focused) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr {
					background-color: ${e.tableOddRowsBackgroundColor};
				}
			`),this.styleElement.textContent=i.join(`
`)}},rl={listFocusBackground:"#7FB0D0",listActiveSelectionBackground:"#0E639C",listActiveSelectionForeground:"#FFFFFF",listActiveSelectionIconForeground:"#FFFFFF",listFocusAndSelectionOutline:"#90C2F9",listFocusAndSelectionBackground:"#094771",listFocusAndSelectionForeground:"#FFFFFF",listInactiveSelectionBackground:"#3F3F46",listInactiveSelectionIconForeground:"#FFFFFF",listHoverBackground:"#2A2D2E",listDropOverBackground:"#383B3D",listDropBetweenBackground:"#EEEEEE",treeIndentGuidesStroke:"#a9a9a9",treeInactiveIndentGuidesStroke:k.fromHex("#a9a9a9").transparent(.4).toString(),tableColumnsBorder:k.fromHex("#cccccc").transparent(.2).toString(),tableOddRowsBackgroundColor:k.fromHex("#cccccc").transparent(.04).toString(),listBackground:void 0,listFocusForeground:void 0,listInactiveSelectionForeground:void 0,listInactiveFocusForeground:void 0,listInactiveFocusBackground:void 0,listHoverForeground:void 0,listFocusOutline:void 0,listInactiveFocusOutline:void 0,listSelectionOutline:void 0,listHoverOutline:void 0,treeStickyScrollBackground:void 0,treeStickyScrollBorder:void 0,treeStickyScrollShadow:void 0},O1={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){},dispose(){}}};function F1(n,e){let t=n.indexOf(e);if(t===-1)return[];let i=[],o=t-1;for(;o>=0&&n[o]===e-(t-o);)i.push(n[o--]);for(i.reverse(),o=t;o<n.length&&n[o]===e+(o-t);)i.push(n[o++]);return i}function nu(n,e){let t=[],i=0,o=0;for(;i<n.length||o<e.length;)if(i>=n.length)t.push(e[o++]);else if(o>=e.length)t.push(n[i++]);else if(n[i]===e[o]){t.push(n[i]),i++,o++;continue}else n[i]<e[o]?t.push(n[i++]):t.push(e[o++]);return t}function P1(n,e){let t=[],i=0,o=0;for(;i<n.length||o<e.length;)if(i>=n.length)t.push(e[o++]);else if(o>=e.length)t.push(n[i++]);else if(n[i]===e[o]){i++,o++;continue}else n[i]<e[o]?t.push(n[i++]):o++;return t}var ff=(n,e)=>n-e,iu=class{constructor(e,t){this._templateId=e;this.renderers=t}get templateId(){return this._templateId}renderTemplate(e){return this.renderers.map(t=>t.renderTemplate(e))}renderElement(e,t,i,o){let r=0;for(let s of this.renderers)s.renderElement(e,t,i[r++],o)}disposeElement(e,t,i,o){let r=0;for(let s of this.renderers)s.disposeElement?.(e,t,i[r],o),r+=1}disposeTemplate(e){let t=0;for(let i of this.renderers)i.disposeTemplate(e[t++])}},ou=class{constructor(e){this.accessibilityProvider=e}templateId="a18n";renderTemplate(e){return{container:e,disposables:new j}}renderElement(e,t,i){let o=this.accessibilityProvider.getAriaLabel(e),r=o&&typeof o!="string"?o:Fr(o);i.disposables.add(Jn(a=>{this.setAriaLabel(a.readObservable(r),i.container)}));let s=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(e);typeof s=="number"?i.container.setAttribute("aria-level",`${s}`):i.container.removeAttribute("aria-level")}setAriaLabel(e,t){e?t.setAttribute("aria-label",e):t.removeAttribute("aria-label")}disposeElement(e,t,i,o){i.disposables.clear()}disposeTemplate(e){e.disposables.dispose()}},ru=class{constructor(e,t){this.list=e;this.dnd=t}getDragElements(e){let t=this.list.getSelectedElements();return t.indexOf(e)>-1?t:[e]}getDragURI(e){return this.dnd.getDragURI(e)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e,t)}onDragStart(e,t){this.dnd.onDragStart?.(e,t)}onDragOver(e,t,i,o,r){return this.dnd.onDragOver(e,t,i,o,r)}onDragLeave(e,t,i,o){this.dnd.onDragLeave?.(e,t,i,o)}onDragEnd(e){this.dnd.onDragEnd?.(e)}drop(e,t,i,o,r){this.dnd.drop(e,t,i,o,r)}dispose(){this.dnd.dispose()}},lt=class{constructor(e,t,i,o,r=O1){this.user=e;this._options=r;let s=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?this._options.accessibilityProvider?.getWidgetRole():"list";this.selection=new Zc(s!=="listbox");let a=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=r.accessibilityProvider,this.accessibilityProvider&&(a.push(new ou(this.accessibilityProvider)),this.accessibilityProvider.onDidChangeActiveDescendant?.(this.onDidChangeActiveDescendant,this,this.disposables)),o=o.map(d=>new iu(d.templateId,[...a,d]));let l={...r,dnd:r.dnd&&new ru(this,r.dnd)};if(this.view=this.createListView(t,i,o,l),this.view.domNode.setAttribute("role",s),r.styleController)this.styleController=r.styleController(this.view.domId);else{let d=Jt(this.view.domNode);this.styleController=new ol(d,this.view.domId)}if(this.spliceable=new Za([new ts(this.focus,this.view,r.identityProvider),new ts(this.selection,this.view,r.identityProvider),new ts(this.anchor,this.view,r.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new tu(this,this.view)),(typeof r.keyboardSupport!="boolean"||r.keyboardSupport)&&(this.keyboardController=new il(this,this.view,r),this.disposables.add(this.keyboardController)),r.keyboardNavigationLabelProvider){let d=r.keyboardNavigationDelegate||M1;this.typeNavigationController=new eu(this,this.view,r.keyboardNavigationLabelProvider,r.keyboardNavigationEventFilter??(()=>!0),d),this.disposables.add(this.typeNavigationController)}this.mouseController=this.createMouseController(r),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),this._options.multipleSelectionSupport!==!1&&this.view.domNode.setAttribute("aria-multiselectable","true")}focus=new er("focused");selection;anchor=new er("anchor");eventBufferer=new xi;view;spliceable;styleController;typeNavigationController;accessibilityProvider;keyboardController;mouseController;_ariaLabel="";disposables=new j;get onDidChangeFocus(){return A.map(this.eventBufferer.wrapEvent(this.focus.onChange),e=>this.toListEvent(e),this.disposables)}get onDidChangeSelection(){return A.map(this.eventBufferer.wrapEvent(this.selection.onChange),e=>this.toListEvent(e),this.disposables)}get domId(){return this.view.domId}get onDidScroll(){return this.view.onDidScroll}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseUp(){return this.view.onMouseUp}get onMouseDown(){return this.view.onMouseDown}get onMouseOver(){return this.view.onMouseOver}get onMouseMove(){return this.view.onMouseMove}get onMouseOut(){return this.view.onMouseOut}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let e=!1,t=A.chain(this.disposables.add(new ie(this.view.domNode,"keydown")).event,r=>r.map(s=>new He(s)).filter(s=>e=s.keyCode===58||s.shiftKey&&s.keyCode===68).map(s=>$e.stop(s,!0)).filter(()=>!1)),i=A.chain(this.disposables.add(new ie(this.view.domNode,"keyup")).event,r=>r.forEach(()=>e=!1).map(s=>new He(s)).filter(s=>s.keyCode===58||s.shiftKey&&s.keyCode===68).map(s=>$e.stop(s,!0)).map(({browserEvent:s})=>{let a=this.getFocus(),l=a.length?a[0]:void 0,d=typeof l<"u"?this.view.element(l):void 0,u=typeof l<"u"?this.view.domElement(l):this.view.domNode;return{index:l,element:d,anchor:u,browserEvent:s}})),o=A.chain(this.view.onContextMenu,r=>r.filter(s=>!e).map(({element:s,index:a,browserEvent:l})=>({element:s,index:a,anchor:new Ut(me(this.view.domNode),l),browserEvent:l})));return A.any(t,i,o)}get onKeyDown(){return this.disposables.add(new ie(this.view.domNode,"keydown")).event}get onKeyUp(){return this.disposables.add(new ie(this.view.domNode,"keyup")).event}get onKeyPress(){return this.disposables.add(new ie(this.view.domNode,"keypress")).event}get onDidFocus(){return A.signal(this.disposables.add(new ie(this.view.domNode,"focus",!0)).event)}get onDidBlur(){return A.signal(this.disposables.add(new ie(this.view.domNode,"blur",!0)).event)}_onDidDispose=new L;onDidDispose=this._onDidDispose.event;createListView(e,t,i,o){return new Qa(e,t,i,o)}createMouseController(e){return new ns(this)}updateOptions(e={}){this._options={...this._options,...e},this.typeNavigationController?.updateOptions(this._options),this._options.multipleSelectionController!==void 0&&(this._options.multipleSelectionSupport?this.view.domNode.setAttribute("aria-multiselectable","true"):this.view.domNode.removeAttribute("aria-multiselectable")),this.mouseController.updateOptions(e),this.keyboardController?.updateOptions(e),this.view.updateOptions(e)}get options(){return this._options}splice(e,t,i=[]){if(e<0||e>this.view.length)throw new Mn(this.user,`Invalid start index: ${e}`);if(t<0)throw new Mn(this.user,`Invalid delete count: ${t}`);t===0&&i.length===0||this.eventBufferer.bufferEvents(()=>this.spliceable.splice(e,t,i))}updateWidth(e){this.view.updateWidth(e)}updateElementHeight(e,t){this.view.updateElementHeight(e,t,null)}rerender(){this.view.rerender()}element(e){return this.view.element(e)}indexOf(e){return this.view.indexOf(e)}indexAt(e){return this.view.indexAt(e)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get contentWidth(){return this.view.contentWidth}get onDidChangeContentHeight(){return this.view.onDidChangeContentHeight}get onDidChangeContentWidth(){return this.view.onDidChangeContentWidth}get scrollTop(){return this.view.getScrollTop()}set scrollTop(e){this.view.setScrollTop(e)}get scrollLeft(){return this.view.getScrollLeft()}set scrollLeft(e){this.view.setScrollLeft(e)}get scrollHeight(){return this.view.scrollHeight}get renderHeight(){return this.view.renderHeight}get firstVisibleIndex(){return this.view.firstVisibleIndex}get firstMostlyVisibleIndex(){return this.view.firstMostlyVisibleIndex}get lastVisibleIndex(){return this.view.lastVisibleIndex}get ariaLabel(){return this._ariaLabel}set ariaLabel(e){this._ariaLabel=e,this.view.domNode.setAttribute("aria-label",e)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(e,t){this.view.layout(e,t)}triggerTypeNavigation(){this.typeNavigationController?.trigger()}setSelection(e,t){for(let i of e)if(i<0||i>=this.length)throw new Mn(this.user,`Invalid index ${i}`);this.selection.set(e,t)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map(e=>this.view.element(e))}setAnchor(e){if(typeof e>"u"){this.anchor.set([]);return}if(e<0||e>=this.length)throw new Mn(this.user,`Invalid index ${e}`);this.anchor.set([e])}getAnchor(){return this.anchor.get().at(0)}getAnchorElement(){let e=this.getAnchor();return typeof e>"u"?void 0:this.element(e)}setFocus(e,t){for(let i of e)if(i<0||i>=this.length)throw new Mn(this.user,`Invalid index ${i}`);this.focus.set(e,t)}focusNext(e=1,t=!1,i,o){if(this.length===0)return;let r=this.focus.get(),s=this.findNextIndex(r.length>0?r[0]+e:0,t,o);s>-1&&this.setFocus([s],i)}focusPrevious(e=1,t=!1,i,o){if(this.length===0)return;let r=this.focus.get(),s=this.findPreviousIndex(r.length>0?r[0]-e:0,t,o);s>-1&&this.setFocus([s],i)}async focusNextPage(e,t){let i=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);i=i===0?0:i-1;let o=this.getFocus()[0];if(o!==i&&(o===void 0||i>o)){let r=this.findPreviousIndex(i,!1,t);r>-1&&o!==r?this.setFocus([r],e):this.setFocus([i],e)}else{let r=this.view.getScrollTop(),s=r+this.view.renderHeight;i>o&&(s-=this.view.elementHeight(i)),this.view.setScrollTop(s),this.view.getScrollTop()!==r&&(this.setFocus([]),await Li(0),await this.focusNextPage(e,t))}}async focusPreviousPage(e,t,i=()=>0){let o,r=i(),s=this.view.getScrollTop()+r;s===0?o=this.view.indexAt(s):o=this.view.indexAfter(s-1);let a=this.getFocus()[0];if(a!==o&&(a===void 0||a>=o)){let l=this.findNextIndex(o,!1,t);l>-1&&a!==l?this.setFocus([l],e):this.setFocus([o],e)}else{let l=s;this.view.setScrollTop(s-this.view.renderHeight-r),this.view.getScrollTop()+i()!==l&&(this.setFocus([]),await Li(0),await this.focusPreviousPage(e,t,i))}}focusLast(e,t){if(this.length===0)return;let i=this.findPreviousIndex(this.length-1,!1,t);i>-1&&this.setFocus([i],e)}focusFirst(e,t){this.focusNth(0,e,t)}focusNth(e,t,i){if(this.length===0)return;let o=this.findNextIndex(e,!1,i);o>-1&&this.setFocus([o],t)}findNextIndex(e,t=!1,i){for(let o=0;o<this.length;o++){if(e>=this.length&&!t)return-1;if(e=e%this.length,!i||i(this.element(e)))return e;e++}return-1}findPreviousIndex(e,t=!1,i){for(let o=0;o<this.length;o++){if(e<0&&!t)return-1;if(e=(this.length+e%this.length)%this.length,!i||i(this.element(e)))return e;e--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map(e=>this.view.element(e))}reveal(e,t,i=0){if(e<0||e>=this.length)throw new Mn(this.user,`Invalid index ${e}`);let o=this.view.getScrollTop(),r=this.view.elementTop(e),s=this.view.elementHeight(e);if(Ei(t)){let a=s-this.view.renderHeight+i;this.view.setScrollTop(a*st(t,0,1)+r-i)}else{let a=r+s,l=o+this.view.renderHeight;r<o+i&&a>=l||(r<o+i||a>=l&&s>=this.view.renderHeight?this.view.setScrollTop(r-i):a>=l&&this.view.setScrollTop(a-this.view.renderHeight))}}getRelativeTop(e,t=0){if(e<0||e>=this.length)throw new Mn(this.user,`Invalid index ${e}`);let i=this.view.getScrollTop(),o=this.view.elementTop(e),r=this.view.elementHeight(e);if(o<i+t||o+r>i+this.view.renderHeight)return null;let s=r-this.view.renderHeight+t;return Math.abs((i+t-o)/s)}isDOMFocused(){return $t(this.view.domNode)}getHTMLElement(){return this.view.domNode}getScrollableElement(){return this.view.scrollableElementDomNode}getElementID(e){return this.view.getElementDomId(e)}getElementTop(e){return this.view.elementTop(e)}style(e){this.styleController.style(e)}toListEvent({indexes:e,browserEvent:t}){return{indexes:e,elements:e.map(i=>this.view.element(i)),browserEvent:t}}_onFocusChange(){let e=this.focus.get();this.view.domNode.classList.toggle("element-focused",e.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){let e=this.focus.get();if(e.length>0){let t;this.accessibilityProvider?.getActiveDescendantId&&(t=this.accessibilityProvider.getActiveDescendantId(this.view.element(e[0]))),this.view.domNode.setAttribute("aria-activedescendant",t||this.view.getElementDomId(e[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){let e=this.selection.get();this.view.domNode.classList.toggle("selection-none",e.length===0),this.view.domNode.classList.toggle("selection-single",e.length===1),this.view.domNode.classList.toggle("selection-multiple",e.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}};he([ke],lt.prototype,"onDidChangeFocus",1),he([ke],lt.prototype,"onDidChangeSelection",1),he([ke],lt.prototype,"onContextMenu",1),he([ke],lt.prototype,"onKeyDown",1),he([ke],lt.prototype,"onKeyUp",1),he([ke],lt.prototype,"onKeyPress",1),he([ke],lt.prototype,"onDidFocus",1),he([ke],lt.prototype,"onDidBlur",1);var du=class{constructor(e,t){this.renderer=e;this.modelProvider=t}get templateId(){return this.renderer.templateId}renderTemplate(e){return{data:this.renderer.renderTemplate(e),disposable:Q.None}}renderElement(e,t,i,o){if(i.disposable?.dispose(),!i.data)return;let r=this.modelProvider();if(r.isResolved(e))return this.renderer.renderElement(r.get(e),e,i.data,o);let s=new Xn,a=r.resolve(e,s.token);i.disposable={dispose:()=>s.cancel()},this.renderer.renderPlaceholder(e,i.data),a.then(l=>this.renderer.renderElement(l,e,i.data,o))}disposeTemplate(e){e.disposable&&(e.disposable.dispose(),e.disposable=void 0),e.data&&(this.renderer.disposeTemplate(e.data),e.data=void 0)}},cu=class{constructor(e,t){this.modelProvider=e;this.accessibilityProvider=t}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(e){let t=this.modelProvider();return t.isResolved(e)?this.accessibilityProvider.getAriaLabel(t.get(e)):null}};function B1(n,e){return{...e,accessibilityProvider:e.accessibilityProvider&&new cu(n,e.accessibilityProvider)}}var sl=class{list;_model;constructor(e,t,i,o,r={}){let s=()=>this.model,a=o.map(l=>new du(l,s));this.list=new lt(e,t,i,a,B1(s,r))}updateOptions(e){this.list.updateOptions(e)}getHTMLElement(){return this.list.getHTMLElement()}isDOMFocused(){return $t(this.getHTMLElement())}domFocus(){this.list.domFocus()}get onDidFocus(){return this.list.onDidFocus}get onDidBlur(){return this.list.onDidBlur}get widget(){return this.list}get onDidDispose(){return this.list.onDidDispose}get onMouseClick(){return A.map(this.list.onMouseClick,({element:e,index:t,browserEvent:i})=>({element:e===void 0?void 0:this._model.get(e),index:t,browserEvent:i}))}get onMouseDblClick(){return A.map(this.list.onMouseDblClick,({element:e,index:t,browserEvent:i})=>({element:e===void 0?void 0:this._model.get(e),index:t,browserEvent:i}))}get onTap(){return A.map(this.list.onTap,({element:e,index:t,browserEvent:i})=>({element:e===void 0?void 0:this._model.get(e),index:t,browserEvent:i}))}get onPointer(){return A.map(this.list.onPointer,({element:e,index:t,browserEvent:i})=>({element:e===void 0?void 0:this._model.get(e),index:t,browserEvent:i}))}get onDidChangeFocus(){return A.map(this.list.onDidChangeFocus,({elements:e,indexes:t,browserEvent:i})=>({elements:e.map(o=>this._model.get(o)),indexes:t,browserEvent:i}))}get onDidChangeSelection(){return A.map(this.list.onDidChangeSelection,({elements:e,indexes:t,browserEvent:i})=>({elements:e.map(o=>this._model.get(o)),indexes:t,browserEvent:i}))}get onContextMenu(){return A.map(this.list.onContextMenu,({element:e,index:t,anchor:i,browserEvent:o})=>typeof e>"u"?{element:e,index:t,anchor:i,browserEvent:o}:{element:this._model.get(e),index:t,anchor:i,browserEvent:o})}get model(){return this._model}set model(e){this._model=e,this.list.splice(0,this.list.length,nt(e.length))}get length(){return this.list.length}get scrollTop(){return this.list.scrollTop}set scrollTop(e){this.list.scrollTop=e}get scrollLeft(){return this.list.scrollLeft}set scrollLeft(e){this.list.scrollLeft=e}setAnchor(e){this.list.setAnchor(e)}getAnchor(){return this.list.getAnchor()}setFocus(e){this.list.setFocus(e)}focusNext(e,t){this.list.focusNext(e,t)}focusPrevious(e,t){this.list.focusPrevious(e,t)}focusNextPage(){return this.list.focusNextPage()}focusPreviousPage(){return this.list.focusPreviousPage()}focusLast(){this.list.focusLast()}focusFirst(){this.list.focusFirst()}getFocus(){return this.list.getFocus()}setSelection(e,t){this.list.setSelection(e,t)}getSelection(){return this.list.getSelection()}getSelectedElements(){return this.getSelection().map(e=>this.model.get(e))}layout(e,t){this.list.layout(e,t)}triggerTypeNavigation(){this.list.triggerTypeNavigation()}reveal(e,t){this.list.reveal(e,t)}style(e){this.list.style(e)}dispose(){this.list.dispose()}};var H1={showHover:()=>{},hideHover:()=>{},showAndFocusLastHover:()=>{},setupManagedHover:()=>null,showManagedHover:()=>{}};function Zt(){return H1}var uu=new RegExp(`\\$\\(${we.iconNameExpression}(?:${we.iconModifierExpression})?\\)`,"g"),dL=new RegExp(`(\\\\)?${uu.source}`,"g");var cL=new RegExp(`\\\\${uu.source}`,"g");var uL=new RegExp(`(\\s)?(\\\\)?${uu.source}(\\s)?`,"g");var hL=new RegExp(`\\$\\(${we.iconNameCharacter}+\\)`,"g");function os(n){return n.replace(/"/g,"&quot;")}function al(n){return n&&n.replace(/\\([\\`*_{}[\]()#+\-.!~])/g,"$1")}function yf(n){let e=[],t=n.split("|").map(o=>o.trim());n=t[0];let i=t[1];if(i){let o=/height=(\d+)/.exec(i),r=/width=(\d+)/.exec(i),s=o?o[1]:"",a=r?r[1]:"",l=isFinite(parseInt(a)),d=isFinite(parseInt(s));l&&e.push(`width="${a}"`),d&&e.push(`height="${s}"`)}return{href:n,dimensions:e}}var z1=()=>({get delay(){return-1},dispose:()=>{},showHover:()=>{}}),hu=z1,U1=new Rt(()=>hu("mouse",!1)),V1=new Rt(()=>hu("element",!1));function dt(n){return n==="element"?V1.value:U1.value}function po(){return hu("element",!0)}var W1=!1;var $1=4,q1=new L;var G1=300,j1=new L;var rs=class{constructor(e){this.el=e}disposables=new j;get onPointerMove(){return this.disposables.add(new ie(me(this.el),"mousemove")).event}get onPointerUp(){return this.disposables.add(new ie(me(this.el),"mouseup")).event}dispose(){this.disposables.dispose()}};he([ke],rs.prototype,"onPointerMove",1),he([ke],rs.prototype,"onPointerUp",1);var ss=class{constructor(e){this.el=e}disposables=new j;get onPointerMove(){return this.disposables.add(new ie(this.el,Ue.Change)).event}get onPointerUp(){return this.disposables.add(new ie(this.el,Ue.End)).event}dispose(){this.disposables.dispose()}};he([ke],ss.prototype,"onPointerMove",1),he([ke],ss.prototype,"onPointerUp",1);var ir=class{constructor(e){this.factory=e}get onPointerMove(){return this.factory.onPointerMove}get onPointerUp(){return this.factory.onPointerUp}dispose(){}};he([ke],ir.prototype,"onPointerMove",1),he([ke],ir.prototype,"onPointerUp",1);var Tf="pointer-events-disabled",as=class n extends Q{el;layoutProvider;orientation;size;hoverDelay=G1;hoverDelayer=this._register(new Cn(this.hoverDelay));_state=3;onDidEnablementChange=this._register(new L);_onDidStart=this._register(new L);_onDidChange=this._register(new L);_onDidReset=this._register(new L);_onDidEnd=this._register(new L);orthogonalStartSashDisposables=this._register(new j);_orthogonalStartSash;orthogonalStartDragHandleDisposables=this._register(new j);_orthogonalStartDragHandle;orthogonalEndSashDisposables=this._register(new j);_orthogonalEndSash;orthogonalEndDragHandleDisposables=this._register(new j);_orthogonalEndDragHandle;get state(){return this._state}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}set state(e){this._state!==e&&(this.el.classList.toggle("disabled",e===0),this.el.classList.toggle("minimum",e===1),this.el.classList.toggle("maximum",e===2),this._state=e,this.onDidEnablementChange.fire(e))}onDidStart=this._onDidStart.event;onDidChange=this._onDidChange.event;onDidReset=this._onDidReset.event;onDidEnd=this._onDidEnd.event;linkedSash=void 0;set orthogonalStartSash(e){if(this._orthogonalStartSash!==e){if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),e){let t=i=>{this.orthogonalStartDragHandleDisposables.clear(),i!==0&&(this._orthogonalStartDragHandle=Me(this.el,Te(".orthogonal-drag-handle.start")),this.orthogonalStartDragHandleDisposables.add(ce(()=>this._orthogonalStartDragHandle.remove())),this.orthogonalStartDragHandleDisposables.add(new ie(this._orthogonalStartDragHandle,"mouseenter")).event(()=>n.onMouseEnter(e),void 0,this.orthogonalStartDragHandleDisposables),this.orthogonalStartDragHandleDisposables.add(new ie(this._orthogonalStartDragHandle,"mouseleave")).event(()=>n.onMouseLeave(e),void 0,this.orthogonalStartDragHandleDisposables))};this.orthogonalStartSashDisposables.add(e.onDidEnablementChange.event(t,this)),t(e.state)}this._orthogonalStartSash=e}}set orthogonalEndSash(e){if(this._orthogonalEndSash!==e){if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),e){let t=i=>{this.orthogonalEndDragHandleDisposables.clear(),i!==0&&(this._orthogonalEndDragHandle=Me(this.el,Te(".orthogonal-drag-handle.end")),this.orthogonalEndDragHandleDisposables.add(ce(()=>this._orthogonalEndDragHandle.remove())),this.orthogonalEndDragHandleDisposables.add(new ie(this._orthogonalEndDragHandle,"mouseenter")).event(()=>n.onMouseEnter(e),void 0,this.orthogonalEndDragHandleDisposables),this.orthogonalEndDragHandleDisposables.add(new ie(this._orthogonalEndDragHandle,"mouseleave")).event(()=>n.onMouseLeave(e),void 0,this.orthogonalEndDragHandleDisposables))};this.orthogonalEndSashDisposables.add(e.onDidEnablementChange.event(t,this)),t(e.state)}this._orthogonalEndSash=e}}constructor(e,t,i){super(),this.el=Me(e,Te(".monaco-sash")),i.orthogonalEdge&&this.el.classList.add(`orthogonal-edge-${i.orthogonalEdge}`),Ee&&this.el.classList.add("mac");let o=this._register(new ie(this.el,"mousedown")).event;this._register(o(h=>this.onPointerStart(h,new rs(e)),this));let r=this._register(new ie(this.el,"dblclick")).event;this._register(r(this.onPointerDoublePress,this));let s=this._register(new ie(this.el,"mouseenter")).event;this._register(s(()=>n.onMouseEnter(this)));let a=this._register(new ie(this.el,"mouseleave")).event;this._register(a(()=>n.onMouseLeave(this))),this._register(It.addTarget(this.el));let l=this._register(new ie(this.el,Ue.Start)).event;this._register(l(h=>this.onPointerStart(h,new ss(this.el)),this));let d=this._register(new ie(this.el,Ue.Tap)).event,u;this._register(d(h=>{if(u){clearTimeout(u),u=void 0,this.onPointerDoublePress(h);return}clearTimeout(u),u=setTimeout(()=>u=void 0,250)},this)),typeof i.size=="number"?(this.size=i.size,i.orientation===0?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=$1,this._register(q1.event(h=>{this.size=h,this.layout()}))),this._register(j1.event(h=>this.hoverDelay=h)),this.layoutProvider=t,this.orthogonalStartSash=i.orthogonalStartSash,this.orthogonalEndSash=i.orthogonalEndSash,this.orientation=i.orientation||0,this.orientation===1?(this.el.classList.add("horizontal"),this.el.classList.remove("vertical")):(this.el.classList.remove("horizontal"),this.el.classList.add("vertical")),this.el.classList.toggle("debug",W1),this.layout()}onPointerStart(e,t){$e.stop(e);let i=!1;if(!e.__orthogonalSashEvent){let w=this.getOrthogonalSash(e);w&&(i=!0,e.__orthogonalSashEvent=!0,w.onPointerStart(e,new ir(t)))}if(this.linkedSash&&!e.__linkedSashEvent&&(e.__linkedSashEvent=!0,this.linkedSash.onPointerStart(e,new ir(t))),!this.state)return;let o=this.el.ownerDocument.getElementsByTagName("iframe");for(let w of o)w.classList.add(Tf);let r=e.pageX,s=e.pageY,a=e.altKey,l={startX:r,currentX:r,startY:s,currentY:s,altKey:a};this.el.classList.add("active"),this._onDidStart.fire(l);let d=Jt(this.el),u=()=>{let w="";i?w="all-scroll":this.orientation===1?this.state===1?w="s-resize":this.state===2?w="n-resize":w=Ee?"row-resize":"ns-resize":this.state===1?w="e-resize":this.state===2?w="w-resize":w=Ee?"col-resize":"ew-resize",d.textContent=`* { cursor: ${w} !important; }`},h=new j;u(),i||this.onDidEnablementChange.event(u,null,h);let g=w=>{$e.stop(w,!1);let v={startX:r,currentX:w.pageX,startY:s,currentY:w.pageY,altKey:a};this._onDidChange.fire(v)},T=w=>{$e.stop(w,!1),d.remove(),this.el.classList.remove("active"),this._onDidEnd.fire(),h.dispose();for(let v of o)v.classList.remove(Tf)};t.onPointerMove(g,null,h),t.onPointerUp(T,null,h),h.add(t)}onPointerDoublePress(e){let t=this.getOrthogonalSash(e);t&&t._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}static onMouseEnter(e,t=!1){e.el.classList.contains("active")?(e.hoverDelayer.cancel(),e.el.classList.add("hover")):e.hoverDelayer.trigger(()=>e.el.classList.add("hover"),e.hoverDelay).then(void 0,()=>{}),!t&&e.linkedSash&&n.onMouseEnter(e.linkedSash,!0)}static onMouseLeave(e,t=!1){e.hoverDelayer.cancel(),e.el.classList.remove("hover"),!t&&e.linkedSash&&n.onMouseLeave(e.linkedSash,!0)}clearSashHoverState(){n.onMouseLeave(this)}layout(){if(this.orientation===0){let e=this.layoutProvider;this.el.style.left=e.getVerticalSashLeft(this)-this.size/2+"px",e.getVerticalSashTop&&(this.el.style.top=e.getVerticalSashTop(this)+"px"),e.getVerticalSashHeight&&(this.el.style.height=e.getVerticalSashHeight(this)+"px")}else{let e=this.layoutProvider;this.el.style.top=e.getHorizontalSashTop(this)-this.size/2+"px",e.getHorizontalSashLeft&&(this.el.style.left=e.getHorizontalSashLeft(this)+"px"),e.getHorizontalSashWidth&&(this.el.style.width=e.getHorizontalSashWidth(this)+"px")}}getOrthogonalSash(e){let t=e.initialTarget??e.target;if(!(!t||!_t(t))&&t.classList.contains("orthogonal-drag-handle"))return t.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash}dispose(){super.dispose(),this.el.remove()}};var Y1={separatorBorder:k.transparent};var ll=class{constructor(e,t,i,o){this.container=e;this.view=t;this.disposable=o;typeof i=="number"?(this._size=i,this._cachedVisibleSize=void 0,e.classList.add("visible")):(this._size=0,this._cachedVisibleSize=i.cachedVisibleSize)}_size;set size(e){this._size=e}get size(){return this._size}_cachedVisibleSize=void 0;get cachedVisibleSize(){return this._cachedVisibleSize}get visible(){return typeof this._cachedVisibleSize>"u"}setVisible(e,t){if(e!==this.visible){e?(this.size=st(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize=typeof t=="number"?t:this.size,this.size=0),this.container.classList.toggle("visible",e);try{this.view.setVisible?.(e)}catch(i){console.error("Splitview: Failed to set visible view"),console.error(i)}}}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get proportionalLayout(){return this.view.proportionalLayout??!0}get snap(){return!!this.view.snap}set enabled(e){this.container.style.pointerEvents=e?"":"none"}layout(e,t){this.layoutContainer(e);try{this.view.layout(this.size,e,t)}catch(i){console.error("Splitview: Failed to layout view"),console.error(i)}}dispose(){this.disposable.dispose()}},pu=class extends ll{layoutContainer(e){this.container.style.top=`${e}px`,this.container.style.height=`${this.size}px`}},mu=class extends ll{layoutContainer(e){this.container.style.left=`${e}px`,this.container.style.width=`${this.size}px`}};var xf;(o=>{o.Distribute={type:"distribute"};function e(r){return{type:"split",index:r}}o.Split=e;function t(r){return{type:"auto",index:r}}o.Auto=t;function i(r){return{type:"invisible",cachedVisibleSize:r}}o.Invisible=i})(xf||={});var dl=class extends Q{orientation;el;sashContainer;viewContainer;scrollable;scrollableElement;size=0;layoutContext;_contentSize=0;proportions=void 0;viewItems=[];sashItems=[];sashDragState;state=0;inverseAltBehavior;proportionalLayout;getSashOrthogonalSize;_onDidSashChange=this._register(new L);_onDidSashReset=this._register(new L);_orthogonalStartSash;_orthogonalEndSash;_startSnappingEnabled=!0;_endSnappingEnabled=!0;get contentSize(){return this._contentSize}onDidSashChange=this._onDidSashChange.event;onDidSashReset=this._onDidSashReset.event;onDidScroll;get length(){return this.viewItems.length}get minimumSize(){return this.viewItems.reduce((e,t)=>e+t.minimumSize,0)}get maximumSize(){return this.length===0?Number.POSITIVE_INFINITY:this.viewItems.reduce((e,t)=>e+t.maximumSize,0)}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}get startSnappingEnabled(){return this._startSnappingEnabled}get endSnappingEnabled(){return this._endSnappingEnabled}set orthogonalStartSash(e){for(let t of this.sashItems)t.sash.orthogonalStartSash=e;this._orthogonalStartSash=e}set orthogonalEndSash(e){for(let t of this.sashItems)t.sash.orthogonalEndSash=e;this._orthogonalEndSash=e}get sashes(){return this.sashItems.map(e=>e.sash)}set startSnappingEnabled(e){this._startSnappingEnabled!==e&&(this._startSnappingEnabled=e,this.updateSashEnablement())}set endSnappingEnabled(e){this._endSnappingEnabled!==e&&(this._endSnappingEnabled=e,this.updateSashEnablement())}constructor(e,t={}){super(),this.orientation=t.orientation??0,this.inverseAltBehavior=t.inverseAltBehavior??!1,this.proportionalLayout=t.proportionalLayout??!0,this.getSashOrthogonalSize=t.getSashOrthogonalSize,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(this.orientation===0?"vertical":"horizontal"),e.appendChild(this.el),this.sashContainer=Me(this.el,Te(".sash-container")),this.viewContainer=Te(".split-view-container"),this.scrollable=this._register(new Mi({forceIntegerValues:!0,smoothScrollDuration:125,scheduleAtNextAnimationFrame:o=>Wt(me(this.el),o)})),this.scrollableElement=this._register(new Jo(this.viewContainer,{vertical:this.orientation===0?t.scrollbarVisibility??1:2,horizontal:this.orientation===1?t.scrollbarVisibility??1:2},this.scrollable));let i=this._register(new ie(this.viewContainer,"scroll")).event;this._register(i(o=>{let r=this.scrollableElement.getScrollPosition(),s=Math.abs(this.viewContainer.scrollLeft-r.scrollLeft)<=1?void 0:this.viewContainer.scrollLeft,a=Math.abs(this.viewContainer.scrollTop-r.scrollTop)<=1?void 0:this.viewContainer.scrollTop;(s!==void 0||a!==void 0)&&this.scrollableElement.setScrollPosition({scrollLeft:s,scrollTop:a})})),this.onDidScroll=this.scrollableElement.onScroll,this._register(this.onDidScroll(o=>{o.scrollTopChanged&&(this.viewContainer.scrollTop=o.scrollTop),o.scrollLeftChanged&&(this.viewContainer.scrollLeft=o.scrollLeft)})),Me(this.el,this.scrollableElement.getDomNode()),this.style(t.styles||Y1),t.descriptor&&(this.size=t.descriptor.size,t.descriptor.views.forEach((o,r)=>{let s=Di(o.visible)||o.visible?o.size:{type:"invisible",cachedVisibleSize:o.size},a=o.view;this.doAddView(a,s,r,!0)}),this._contentSize=this.viewItems.reduce((o,r)=>o+r.size,0),this.saveProportions())}style(e){e.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",e.separatorBorder.toString()))}addView(e,t,i=this.viewItems.length,o){this.doAddView(e,t,i,o)}removeView(e,t){if(e<0||e>=this.viewItems.length)throw new Error("Index out of bounds");if(this.state!==0)throw new Error("Cant modify splitview");this.state=1;try{t?.type==="auto"&&(this.areViewsDistributed()?t={type:"distribute"}:t={type:"split",index:t.index});let i=t?.type==="split"?this.viewItems[t.index]:void 0,o=this.viewItems.splice(e,1)[0];if(i&&(i.size+=o.size),this.viewItems.length>=1){let s=Math.max(e-1,0);this.sashItems.splice(s,1)[0].disposable.dispose()}this.relayout(),t?.type==="distribute"&&this.distributeViewSizes();let r=o.view;return o.dispose(),r}finally{this.state=0}}removeAllViews(){if(this.state!==0)throw new Error("Cant modify splitview");this.state=1;try{let e=this.viewItems.splice(0,this.viewItems.length);for(let i of e)i.dispose();let t=this.sashItems.splice(0,this.sashItems.length);for(let i of t)i.disposable.dispose();return this.relayout(),e.map(i=>i.view)}finally{this.state=0}}moveView(e,t){if(this.state!==0)throw new Error("Cant modify splitview");let i=this.getViewCachedVisibleSize(e),o=typeof i>"u"?this.getViewSize(e):xf.Invisible(i),r=this.removeView(e);this.addView(r,o,t)}swapViews(e,t){if(this.state!==0)throw new Error("Cant modify splitview");if(e>t)return this.swapViews(t,e);let i=this.getViewSize(e),o=this.getViewSize(t),r=this.removeView(t),s=this.removeView(e);this.addView(r,i,e),this.addView(s,o,t)}isViewVisible(e){if(e<0||e>=this.viewItems.length)throw new Error("Index out of bounds");return this.viewItems[e].visible}setViewVisible(e,t){if(e<0||e>=this.viewItems.length)throw new Error("Index out of bounds");this.viewItems[e].setVisible(t),this.distributeEmptySpace(e),this.layoutViews(),this.saveProportions()}getViewCachedVisibleSize(e){if(e<0||e>=this.viewItems.length)throw new Error("Index out of bounds");return this.viewItems[e].cachedVisibleSize}layout(e,t){let i=Math.max(this.size,this._contentSize);if(this.size=e,this.layoutContext=t,this.proportions){let o=0;for(let r=0;r<this.viewItems.length;r++){let s=this.viewItems[r],a=this.proportions[r];typeof a=="number"?o+=a:e-=s.size}for(let r=0;r<this.viewItems.length;r++){let s=this.viewItems[r],a=this.proportions[r];typeof a=="number"&&o>0&&(s.size=st(Math.round(a*e/o),s.minimumSize,s.maximumSize))}}else{let o=nt(this.viewItems.length),r=o.filter(a=>this.viewItems[a].priority===1),s=o.filter(a=>this.viewItems[a].priority===2);this.resize(this.viewItems.length-1,e-i,void 0,r,s)}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){this.proportionalLayout&&this._contentSize>0&&(this.proportions=this.viewItems.map(e=>e.proportionalLayout&&e.visible?e.size/this._contentSize:void 0))}onSashStart({sash:e,start:t,alt:i}){for(let a of this.viewItems)a.enabled=!1;let o=this.sashItems.findIndex(a=>a.sash===e),r=Yn(J(this.el.ownerDocument.body,"keydown",a=>s(this.sashDragState.current,a.altKey)),J(this.el.ownerDocument.body,"keyup",()=>s(this.sashDragState.current,!1))),s=(a,l)=>{let d=this.viewItems.map(w=>w.size),u=Number.NEGATIVE_INFINITY,h=Number.POSITIVE_INFINITY;if(this.inverseAltBehavior&&(l=!l),l)if(o===this.sashItems.length-1){let v=this.viewItems[o];u=(v.minimumSize-v.size)/2,h=(v.maximumSize-v.size)/2}else{let v=this.viewItems[o+1];u=(v.size-v.maximumSize)/2,h=(v.size-v.minimumSize)/2}let g,T;if(!l){let w=nt(o,-1),v=nt(o+1,this.viewItems.length),E=w.reduce((N,Z)=>N+(this.viewItems[Z].minimumSize-d[Z]),0),P=w.reduce((N,Z)=>N+(this.viewItems[Z].viewMaximumSize-d[Z]),0),R=v.length===0?Number.POSITIVE_INFINITY:v.reduce((N,Z)=>N+(d[Z]-this.viewItems[Z].minimumSize),0),U=v.length===0?Number.NEGATIVE_INFINITY:v.reduce((N,Z)=>N+(d[Z]-this.viewItems[Z].viewMaximumSize),0),O=Math.max(E,U),_=Math.min(R,P),H=this.findFirstSnapIndex(w),B=this.findFirstSnapIndex(v);if(typeof H=="number"){let N=this.viewItems[H],Z=Math.floor(N.viewMinimumSize/2);g={index:H,limitDelta:N.visible?O-Z:O+Z,size:N.size}}if(typeof B=="number"){let N=this.viewItems[B],Z=Math.floor(N.viewMinimumSize/2);T={index:B,limitDelta:N.visible?_+Z:_-Z,size:N.size}}}this.sashDragState={start:a,current:a,index:o,sizes:d,minDelta:u,maxDelta:h,alt:l,snapBefore:g,snapAfter:T,disposable:r}};s(t,i)}onSashChange({current:e}){let{index:t,start:i,sizes:o,alt:r,minDelta:s,maxDelta:a,snapBefore:l,snapAfter:d}=this.sashDragState;this.sashDragState.current=e;let u=e-i,h=this.resize(t,u,o,void 0,void 0,s,a,l,d);if(r){let g=t===this.sashItems.length-1,T=this.viewItems.map(U=>U.size),w=g?t:t+1,v=this.viewItems[w],E=v.size-v.maximumSize,P=v.size-v.minimumSize,R=g?t-1:t+1;this.resize(R,-h,T,void 0,void 0,E,P)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(e){this._onDidSashChange.fire(e),this.sashDragState.disposable.dispose(),this.saveProportions();for(let t of this.viewItems)t.enabled=!0}onViewChange(e,t){let i=this.viewItems.indexOf(e);i<0||i>=this.viewItems.length||(t=typeof t=="number"?t:e.size,t=st(t,e.minimumSize,e.maximumSize),this.inverseAltBehavior&&i>0?(this.resize(i-1,Math.floor((e.size-t)/2)),this.distributeEmptySpace(),this.layoutViews()):(e.size=t,this.relayout([i],void 0)))}resizeView(e,t){if(!(e<0||e>=this.viewItems.length)){if(this.state!==0)throw new Error("Cant modify splitview");this.state=1;try{let i=nt(this.viewItems.length).filter(a=>a!==e),o=[...i.filter(a=>this.viewItems[a].priority===1),e],r=i.filter(a=>this.viewItems[a].priority===2),s=this.viewItems[e];t=Math.round(t),t=st(t,s.minimumSize,Math.min(s.maximumSize,this.size)),s.size=t,this.relayout(o,r)}finally{this.state=0}}}isViewExpanded(e){if(e<0||e>=this.viewItems.length)return!1;for(let t of this.viewItems)if(t!==this.viewItems[e]&&t.size>t.minimumSize)return!1;return!0}distributeViewSizes(){let e=[],t=0;for(let a of this.viewItems)a.maximumSize-a.minimumSize>0&&(e.push(a),t+=a.size);let i=Math.floor(t/e.length);for(let a of e)a.size=st(i,a.minimumSize,a.maximumSize);let o=nt(this.viewItems.length),r=o.filter(a=>this.viewItems[a].priority===1),s=o.filter(a=>this.viewItems[a].priority===2);this.relayout(r,s)}getViewSize(e){return e<0||e>=this.viewItems.length?-1:this.viewItems[e].size}doAddView(e,t,i=this.viewItems.length,o){if(this.state!==0)throw new Error("Cant modify splitview");this.state=1;try{let r=Te(".split-view-view");i===this.viewItems.length?this.viewContainer.appendChild(r):this.viewContainer.insertBefore(r,this.viewContainer.children.item(i));let s=e.onDidChange(g=>this.onViewChange(u,g)),a=ce(()=>r.remove()),l=Yn(s,a),d;typeof t=="number"?d=t:(t.type==="auto"&&(this.areViewsDistributed()?t={type:"distribute"}:t={type:"split",index:t.index}),t.type==="split"?d=this.getViewSize(t.index)/2:t.type==="invisible"?d={cachedVisibleSize:t.cachedVisibleSize}:d=e.minimumSize);let u=this.orientation===0?new pu(r,e,d,l):new mu(r,e,d,l);if(this.viewItems.splice(i,0,u),this.viewItems.length>1){let g={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash},T=this.orientation===0?new as(this.sashContainer,{getHorizontalSashTop:N=>this.getSashPosition(N),getHorizontalSashWidth:this.getSashOrthogonalSize},{...g,orientation:1}):new as(this.sashContainer,{getVerticalSashLeft:N=>this.getSashPosition(N),getVerticalSashHeight:this.getSashOrthogonalSize},{...g,orientation:0}),w=this.orientation===0?N=>({sash:T,start:N.startY,current:N.currentY,alt:N.altKey}):N=>({sash:T,start:N.startX,current:N.currentX,alt:N.altKey}),E=A.map(T.onDidStart,w)(this.onSashStart,this),R=A.map(T.onDidChange,w)(this.onSashChange,this),O=A.map(T.onDidEnd,()=>this.sashItems.findIndex(N=>N.sash===T))(this.onSashEnd,this),_=T.onDidReset(()=>{let N=this.sashItems.findIndex(vt=>vt.sash===T),Z=nt(N,-1),ve=nt(N+1,this.viewItems.length),ae=this.findFirstSnapIndex(Z),ne=this.findFirstSnapIndex(ve);typeof ae=="number"&&!this.viewItems[ae].visible||typeof ne=="number"&&!this.viewItems[ne].visible||this._onDidSashReset.fire(N)}),H=Yn(E,R,O,_,T),B={sash:T,disposable:H};this.sashItems.splice(i-1,0,B)}r.appendChild(e.element);let h;typeof t!="number"&&t.type==="split"&&(h=[t.index]),o||this.relayout([i],h),!o&&typeof t!="number"&&t.type==="distribute"&&this.distributeViewSizes()}finally{this.state=0}}relayout(e,t){let i=this.viewItems.reduce((o,r)=>o+r.size,0);this.resize(this.viewItems.length-1,this.size-i,void 0,e,t),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(e,t,i=this.viewItems.map(u=>u.size),o,r,s=Number.NEGATIVE_INFINITY,a=Number.POSITIVE_INFINITY,l,d){if(e<0||e>=this.viewItems.length)return 0;let u=nt(e,-1),h=nt(e+1,this.viewItems.length);if(r)for(let B of r)qs(u,B),qs(h,B);if(o)for(let B of o)Cr(u,B),Cr(h,B);let g=u.map(B=>this.viewItems[B]),T=u.map(B=>i[B]),w=h.map(B=>this.viewItems[B]),v=h.map(B=>i[B]),E=u.reduce((B,N)=>B+(this.viewItems[N].minimumSize-i[N]),0),P=u.reduce((B,N)=>B+(this.viewItems[N].maximumSize-i[N]),0),R=h.length===0?Number.POSITIVE_INFINITY:h.reduce((B,N)=>B+(i[N]-this.viewItems[N].minimumSize),0),U=h.length===0?Number.NEGATIVE_INFINITY:h.reduce((B,N)=>B+(i[N]-this.viewItems[N].maximumSize),0),O=Math.max(E,U,s),_=Math.min(R,P,a),H=!1;if(l){let B=this.viewItems[l.index],N=t>=l.limitDelta;H=N!==B.visible,B.setVisible(N,l.size)}if(!H&&d){let B=this.viewItems[d.index],N=t<d.limitDelta;H=N!==B.visible,B.setVisible(N,d.size)}if(H)return this.resize(e,t,i,o,r,s,a);t=st(t,O,_);for(let B=0,N=t;B<g.length;B++){let Z=g[B],ve=st(T[B]+N,Z.minimumSize,Z.maximumSize),ae=ve-T[B];N-=ae,Z.size=ve}for(let B=0,N=t;B<w.length;B++){let Z=w[B],ve=st(v[B]-N,Z.minimumSize,Z.maximumSize),ae=ve-v[B];N+=ae,Z.size=ve}return t}distributeEmptySpace(e){let t=this.viewItems.reduce((a,l)=>a+l.size,0),i=this.size-t,o=nt(this.viewItems.length-1,-1),r=o.filter(a=>this.viewItems[a].priority===1),s=o.filter(a=>this.viewItems[a].priority===2);for(let a of s)qs(o,a);for(let a of r)Cr(o,a);typeof e=="number"&&Cr(o,e);for(let a=0;i!==0&&a<o.length;a++){let l=this.viewItems[o[a]],d=st(l.size+i,l.minimumSize,l.maximumSize),u=d-l.size;i-=u,l.size=d}}layoutViews(){this._contentSize=this.viewItems.reduce((t,i)=>t+i.size,0);let e=0;for(let t of this.viewItems)t.layout(e,this.layoutContext),e+=t.size;this.sashItems.forEach(t=>t.sash.layout()),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){this.orientation===0?this.scrollableElement.setScrollDimensions({height:this.size,scrollHeight:this._contentSize}):this.scrollableElement.setScrollDimensions({width:this.size,scrollWidth:this._contentSize})}updateSashEnablement(){let e=!1,t=this.viewItems.map(l=>e=l.size-l.minimumSize>0||e);e=!1;let i=this.viewItems.map(l=>e=l.maximumSize-l.size>0||e),o=[...this.viewItems].reverse();e=!1;let r=o.map(l=>e=l.size-l.minimumSize>0||e).reverse();e=!1;let s=o.map(l=>e=l.maximumSize-l.size>0||e).reverse(),a=0;for(let l=0;l<this.sashItems.length;l++){let{sash:d}=this.sashItems[l],u=this.viewItems[l];a+=u.size;let h=!(t[l]&&s[l+1]),g=!(i[l]&&r[l+1]);if(h&&g){let T=nt(l,-1),w=nt(l+1,this.viewItems.length),v=this.findFirstSnapIndex(T),E=this.findFirstSnapIndex(w),P=typeof v=="number"&&!this.viewItems[v].visible,R=typeof E=="number"&&!this.viewItems[E].visible;P&&r[l]&&(a>0||this.startSnappingEnabled)?d.state=1:R&&t[l]&&(a<this._contentSize||this.endSnappingEnabled)?d.state=2:d.state=0}else h&&!g?d.state=1:!h&&g?d.state=2:d.state=3}}getSashPosition(e){let t=0;for(let i=0;i<this.sashItems.length;i++)if(t+=this.viewItems[i].size,this.sashItems[i].sash===e)return t;return 0}findFirstSnapIndex(e){for(let t of e){let i=this.viewItems[t];if(i.visible&&i.snap)return t}for(let t of e){let i=this.viewItems[t];if(i.visible&&i.maximumSize-i.minimumSize>0)return;if(!i.visible&&i.snap)return t}}areViewsDistributed(){let e,t;for(let i of this.viewItems)if(e=e===void 0?i.size:Math.min(e,i.size),t=t===void 0?i.size:Math.max(t,i.size),t-e>2)return!1;return!0}dispose(){this.sashDragState?.disposable.dispose(),Ve(this.viewItems),this.viewItems=[],this.sashItems.forEach(e=>e.disposable.dispose()),this.sashItems=[],super.dispose()}};var cl=class n{constructor(e,t,i){this.columns=e;this.getColumnSize=i;let o=new Map(t.map(r=>[r.templateId,r]));this.renderers=[];for(let r of e){let s=o.get(r.templateId);if(!s)throw new Error(`Table cell renderer for template id ${r.templateId} not found.`);this.renderers.push(s)}}static TemplateId="row";templateId=n.TemplateId;renderers;renderedTemplates=new Set;renderTemplate(e){let t=Me(e,Te(".monaco-table-tr")),i=[],o=[];for(let s=0;s<this.columns.length;s++){let a=this.renderers[s],l=Me(t,Te(".monaco-table-td",{"data-col-index":s}));l.style.width=`${this.getColumnSize(s)}px`,i.push(l),o.push(a.renderTemplate(l))}let r={container:e,cellContainers:i,cellTemplateData:o};return this.renderedTemplates.add(r),r}renderElement(e,t,i,o){for(let r=0;r<this.columns.length;r++){let a=this.columns[r].project(e);this.renderers[r].renderElement(a,t,i.cellTemplateData[r],o)}}disposeElement(e,t,i,o){for(let r=0;r<this.columns.length;r++){let s=this.renderers[r];if(s.disposeElement){let l=this.columns[r].project(e);s.disposeElement(l,t,i.cellTemplateData[r],o)}}}disposeTemplate(e){for(let t=0;t<this.columns.length;t++)this.renderers[t].disposeTemplate(e.cellTemplateData[t]);mt(e.container),this.renderedTemplates.delete(e)}layoutColumn(e,t){for(let{cellContainers:i}of this.renderedTemplates)i[e].style.width=`${t}px`}};function X1(n){return{getHeight(e){return n.getHeight(e)},getTemplateId(){return cl.TemplateId}}}var fu=class extends Q{constructor(t,i){super();this.column=t;this.index=i;this.element=Te(".monaco-table-th",{"data-col-index":i},t.label),t.tooltip&&this._register(Zt().setupManagedHover(dt("mouse"),this.element,t.tooltip))}element;get minimumSize(){return this.column.minimumWidth??120}get maximumSize(){return this.column.maximumWidth??Number.POSITIVE_INFINITY}get onDidChange(){return this.column.onDidChangeWidthConstraints??A.None}_onDidLayout=new L;onDidLayout=this._onDidLayout.event;layout(t){this._onDidLayout.fire([this.index,t])}},ul=class n{constructor(e,t,i,o,r,s){this.virtualDelegate=i;this.columns=o;this.domNode=Me(t,Te(`.monaco-table.${this.domId}`));let a=o.map((u,h)=>this.disposables.add(new fu(u,h))),l={size:a.reduce((u,h)=>u+h.column.weight,0),views:a.map(u=>({size:u.column.weight,view:u}))};this.splitview=this.disposables.add(new dl(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:()=>this.cachedHeight,descriptor:l})),this.splitview.el.style.height=`${i.headerRowHeight}px`,this.splitview.el.style.lineHeight=`${i.headerRowHeight}px`;let d=new cl(o,r,u=>this.splitview.getViewSize(u));this.list=this.disposables.add(new lt(e,this.domNode,X1(i),[d],s)),A.any(...a.map(u=>u.onDidLayout))(([u,h])=>d.layoutColumn(u,h),null,this.disposables),this.splitview.onDidSashReset(u=>{let h=o.reduce((T,w)=>T+w.weight,0),g=o[u].weight/h*this.cachedWidth;this.splitview.resizeView(u,g)},null,this.disposables),this.styleElement=Jt(this.domNode),this.style(rl)}static InstanceCount=0;domId=`table_id_${++n.InstanceCount}`;domNode;splitview;list;styleElement;disposables=new j;cachedWidth=0;cachedHeight=0;get onDidChangeFocus(){return this.list.onDidChangeFocus}get onDidChangeSelection(){return this.list.onDidChangeSelection}get onDidScroll(){return this.list.onDidScroll}get onMouseClick(){return this.list.onMouseClick}get onMouseDblClick(){return this.list.onMouseDblClick}get onMouseMiddleClick(){return this.list.onMouseMiddleClick}get onPointer(){return this.list.onPointer}get onMouseUp(){return this.list.onMouseUp}get onMouseDown(){return this.list.onMouseDown}get onMouseOver(){return this.list.onMouseOver}get onMouseMove(){return this.list.onMouseMove}get onMouseOut(){return this.list.onMouseOut}get onTouchStart(){return this.list.onTouchStart}get onTap(){return this.list.onTap}get onContextMenu(){return this.list.onContextMenu}get onDidFocus(){return this.list.onDidFocus}get onDidBlur(){return this.list.onDidBlur}get scrollTop(){return this.list.scrollTop}set scrollTop(e){this.list.scrollTop=e}get scrollLeft(){return this.list.scrollLeft}set scrollLeft(e){this.list.scrollLeft=e}get scrollHeight(){return this.list.scrollHeight}get renderHeight(){return this.list.renderHeight}get onDidDispose(){return this.list.onDidDispose}getColumnLabels(){return this.columns.map(e=>e.label)}resizeColumn(e,t){let i=Math.round(t/100*this.cachedWidth);this.splitview.resizeView(e,i)}updateOptions(e){this.list.updateOptions(e)}splice(e,t,i=[]){this.list.splice(e,t,i)}rerender(){this.list.rerender()}row(e){return this.list.element(e)}indexOf(e){return this.list.indexOf(e)}get length(){return this.list.length}getHTMLElement(){return this.domNode}layout(e,t){e=e??Oa(this.domNode),t=t??Go(this.domNode),this.cachedWidth=t,this.cachedHeight=e,this.splitview.layout(t);let i=e-this.virtualDelegate.headerRowHeight;this.list.getHTMLElement().style.height=`${i}px`,this.list.layout(i,t)}triggerTypeNavigation(){this.list.triggerTypeNavigation()}style(e){let t=[];t.push(`.monaco-table.${this.domId} > .monaco-split-view2 .monaco-sash.vertical::before {
			top: ${this.virtualDelegate.headerRowHeight+1}px;
			height: calc(100% - ${this.virtualDelegate.headerRowHeight}px);
		}`),this.styleElement.textContent=t.join(`
`),this.list.style(e)}domFocus(){this.list.domFocus()}setAnchor(e){this.list.setAnchor(e)}getAnchor(){return this.list.getAnchor()}getSelectedElements(){return this.list.getSelectedElements()}setSelection(e,t){this.list.setSelection(e,t)}getSelection(){return this.list.getSelection()}setFocus(e,t){this.list.setFocus(e,t)}focusNext(e=1,t=!1,i){this.list.focusNext(e,t,i)}focusPrevious(e=1,t=!1,i){this.list.focusPrevious(e,t,i)}focusNextPage(e){return this.list.focusNextPage(e)}focusPreviousPage(e){return this.list.focusPreviousPage(e)}focusFirst(e){this.list.focusFirst(e)}focusLast(e){this.list.focusLast(e)}getFocus(){return this.list.getFocus()}getFocusedElements(){return this.list.getFocusedElements()}getRelativeTop(e){return this.list.getRelativeTop(e)}reveal(e,t){this.list.reveal(e,t)}dispose(){this.disposables.dispose()}};function Sf(n,e={}){let t=vu(e);return t.textContent=n,t}function wf(n,e={}){let t=vu(e);return Ef(t,J1(n,!!e.renderCodeSegments),e.actionHandler,e.renderCodeSegments),t}function vu(n){let e=n.inline?"span":"div",t=document.createElement(e);return n.className&&(t.className=n.className),t}var gu=class{source;index;constructor(e){this.source=e,this.index=0}eos(){return this.index>=this.source.length}next(){let e=this.peek();return this.advance(),e}peek(){return this.source[this.index]}advance(){this.index++}};function Ef(n,e,t,i){let o;if(e.type===2)o=document.createTextNode(e.content||"");else if(e.type===3)o=document.createElement("b");else if(e.type===4)o=document.createElement("i");else if(e.type===7&&i)o=document.createElement("code");else if(e.type===5&&t){let r=document.createElement("a");t.disposables.add(ni(r,"click",s=>{t.callback(String(e.index),s)})),o=r}else e.type===8?o=document.createElement("br"):e.type===1&&(o=n);o&&n!==o&&n.appendChild(o),o&&Array.isArray(e.children)&&e.children.forEach(r=>{Ef(o,r,t,i)})}function J1(n,e){let t={type:1,children:[]},i=0,o=t,r=[],s=new gu(n);for(;!s.eos();){let a=s.next(),l=a==="\\"&&bu(s.peek(),e)!==0;if(l&&(a=s.next()),!l&&Q1(a,e)&&a===s.peek()){s.advance(),o.type===2&&(o=r.pop());let d=bu(a,e);if(o.type===d||o.type===5&&d===6)o=r.pop();else{let u={type:d,children:[]};d===5&&(u.index=i,i++),o.children.push(u),r.push(o),o=u}}else if(a===`
`)o.type===2&&(o=r.pop()),o.children.push({type:8});else if(o.type!==2){let d={type:2,content:a};o.children.push(d),r.push(o),o=d}else o.content+=a}return o.type===2&&(o=r.pop()),r.length,t}function Q1(n,e){return bu(n,e)!==0}function bu(n,e){switch(n){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return e?7:0;default:return 0}}var t7=new RegExp(`(\\\\)?\\$\\((${we.iconNameExpression}(?:${we.iconModifierExpression})?)\\)`,"g");var yu=class{_prefix;_lastId;constructor(e){this._prefix=e,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}},Z1=new yu("id#");var ct={};(function(){function n(e,t){t(ct)}n.amd=!0,function(e,t){typeof n=="function"&&n.amd?n(["exports"],t):typeof exports=="object"&&typeof module<"u"?t(exports):(e=typeof globalThis<"u"?globalThis:e||self,t(e.marked={}))}(this,function(e){"use strict";function t(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}e.defaults=t();function i(oe){e.defaults=oe}let o=/[&<>"']/,r=new RegExp(o.source,"g"),s=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,a=new RegExp(s.source,"g"),l={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},d=oe=>l[oe];function u(oe,m){if(m){if(o.test(oe))return oe.replace(r,d)}else if(s.test(oe))return oe.replace(a,d);return oe}let h=/(^|[^\[])\^/g;function g(oe,m){let f=typeof oe=="string"?oe:oe.source;m=m||"";let b={replace:(I,x)=>{let D=typeof x=="string"?x:x.source;return D=D.replace(h,"$1"),f=f.replace(I,D),b},getRegex:()=>new RegExp(f,m)};return b}function T(oe){try{oe=encodeURI(oe).replace(/%25/g,"%")}catch{return null}return oe}let w={exec:()=>null};function v(oe,m){let f=oe.replace(/\|/g,(x,D,C)=>{let z=!1,V=D;for(;--V>=0&&C[V]==="\\";)z=!z;return z?"|":" |"}),b=f.split(/ \|/),I=0;if(b[0].trim()||b.shift(),b.length>0&&!b[b.length-1].trim()&&b.pop(),m)if(b.length>m)b.splice(m);else for(;b.length<m;)b.push("");for(;I<b.length;I++)b[I]=b[I].trim().replace(/\\\|/g,"|");return b}function E(oe,m,f){let b=oe.length;if(b===0)return"";let I=0;for(;I<b;){let x=oe.charAt(b-I-1);if(x===m&&!f)I++;else if(x!==m&&f)I++;else break}return oe.slice(0,b-I)}function P(oe,m){if(oe.indexOf(m[1])===-1)return-1;let f=0;for(let b=0;b<oe.length;b++)if(oe[b]==="\\")b++;else if(oe[b]===m[0])f++;else if(oe[b]===m[1]&&(f--,f<0))return b;return-1}function R(oe,m,f,b){let I=m.href,x=m.title?u(m.title):null,D=oe[1].replace(/\\([\[\]])/g,"$1");if(oe[0].charAt(0)!=="!"){b.state.inLink=!0;let C={type:"link",raw:f,href:I,title:x,text:D,tokens:b.inlineTokens(D)};return b.state.inLink=!1,C}return{type:"image",raw:f,href:I,title:x,text:u(D)}}function U(oe,m){let f=oe.match(/^(\s+)(?:```)/);if(f===null)return m;let b=f[1];return m.split(`
`).map(I=>{let x=I.match(/^\s+/);if(x===null)return I;let[D]=x;return D.length>=b.length?I.slice(b.length):I}).join(`
`)}class O{options;rules;lexer;constructor(m){this.options=m||e.defaults}space(m){let f=this.rules.block.newline.exec(m);if(f&&f[0].length>0)return{type:"space",raw:f[0]}}code(m){let f=this.rules.block.code.exec(m);if(f){let b=f[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:f[0],codeBlockStyle:"indented",text:this.options.pedantic?b:E(b,`
`)}}}fences(m){let f=this.rules.block.fences.exec(m);if(f){let b=f[0],I=U(b,f[3]||"");return{type:"code",raw:b,lang:f[2]?f[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):f[2],text:I}}}heading(m){let f=this.rules.block.heading.exec(m);if(f){let b=f[2].trim();if(/#$/.test(b)){let I=E(b,"#");(this.options.pedantic||!I||/ $/.test(I))&&(b=I.trim())}return{type:"heading",raw:f[0],depth:f[1].length,text:b,tokens:this.lexer.inline(b)}}}hr(m){let f=this.rules.block.hr.exec(m);if(f)return{type:"hr",raw:E(f[0],`
`)}}blockquote(m){let f=this.rules.block.blockquote.exec(m);if(f){let b=E(f[0],`
`).split(`
`),I="",x="",D=[];for(;b.length>0;){let C=!1,z=[],V;for(V=0;V<b.length;V++)if(/^ {0,3}>/.test(b[V]))z.push(b[V]),C=!0;else if(!C)z.push(b[V]);else break;b=b.slice(V);let re=z.join(`
`),Se=re.replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,`
    $1`).replace(/^ {0,3}>[ \t]?/gm,"");I=I?`${I}
${re}`:re,x=x?`${x}
${Se}`:Se;let Re=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(Se,D,!0),this.lexer.state.top=Re,b.length===0)break;let Qe=D[D.length-1];if(Qe?.type==="code")break;if(Qe?.type==="blockquote"){let Pe=Qe,Y=Pe.raw+`
`+b.join(`
`),S=this.blockquote(Y);D[D.length-1]=S,I=I.substring(0,I.length-Pe.raw.length)+S.raw,x=x.substring(0,x.length-Pe.text.length)+S.text;break}else if(Qe?.type==="list"){let Pe=Qe,Y=Pe.raw+`
`+b.join(`
`),S=this.list(Y);D[D.length-1]=S,I=I.substring(0,I.length-Qe.raw.length)+S.raw,x=x.substring(0,x.length-Pe.raw.length)+S.raw,b=Y.substring(D[D.length-1].raw.length).split(`
`);continue}}return{type:"blockquote",raw:I,tokens:D,text:x}}}list(m){let f=this.rules.block.list.exec(m);if(f){let b=f[1].trim(),I=b.length>1,x={type:"list",raw:"",ordered:I,start:I?+b.slice(0,-1):"",loose:!1,items:[]};b=I?`\\d{1,9}\\${b.slice(-1)}`:`\\${b}`,this.options.pedantic&&(b=I?b:"[*+-]");let D=new RegExp(`^( {0,3}${b})((?:[	 ][^\\n]*)?(?:\\n|$))`),C=!1;for(;m;){let z=!1,V="",re="";if(!(f=D.exec(m))||this.rules.block.hr.test(m))break;V=f[0],m=m.substring(V.length);let Se=f[2].split(`
`,1)[0].replace(/^\t+/,F=>" ".repeat(3*F.length)),Re=m.split(`
`,1)[0],Qe=!Se.trim(),Pe=0;if(this.options.pedantic?(Pe=2,re=Se.trimStart()):Qe?Pe=f[1].length+1:(Pe=f[2].search(/[^ ]/),Pe=Pe>4?1:Pe,re=Se.slice(Pe),Pe+=f[1].length),Qe&&/^ *$/.test(Re)&&(V+=Re+`
`,m=m.substring(Re.length+1),z=!0),!z){let F=new RegExp(`^ {0,${Math.min(3,Pe-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),q=new RegExp(`^ {0,${Math.min(3,Pe-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),Ae=new RegExp(`^ {0,${Math.min(3,Pe-1)}}(?:\`\`\`|~~~)`),tt=new RegExp(`^ {0,${Math.min(3,Pe-1)}}#`);for(;m;){let yt=m.split(`
`,1)[0];if(Re=yt,this.options.pedantic&&(Re=Re.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),Ae.test(Re)||tt.test(Re)||F.test(Re)||q.test(m))break;if(Re.search(/[^ ]/)>=Pe||!Re.trim())re+=`
`+Re.slice(Pe);else{if(Qe||Se.search(/[^ ]/)>=4||Ae.test(Se)||tt.test(Se)||q.test(Se))break;re+=`
`+Re}!Qe&&!Re.trim()&&(Qe=!0),V+=yt+`
`,m=m.substring(yt.length+1),Se=Re.slice(Pe)}}x.loose||(C?x.loose=!0:/\n *\n *$/.test(V)&&(C=!0));let Y=null,S;this.options.gfm&&(Y=/^\[[ xX]\] /.exec(re),Y&&(S=Y[0]!=="[ ] ",re=re.replace(/^\[[ xX]\] +/,""))),x.items.push({type:"list_item",raw:V,task:!!Y,checked:S,loose:!1,text:re,tokens:[]}),x.raw+=V}x.items[x.items.length-1].raw=x.items[x.items.length-1].raw.trimEnd(),x.items[x.items.length-1].text=x.items[x.items.length-1].text.trimEnd(),x.raw=x.raw.trimEnd();for(let z=0;z<x.items.length;z++)if(this.lexer.state.top=!1,x.items[z].tokens=this.lexer.blockTokens(x.items[z].text,[]),!x.loose){let V=x.items[z].tokens.filter(Se=>Se.type==="space"),re=V.length>0&&V.some(Se=>/\n.*\n/.test(Se.raw));x.loose=re}if(x.loose)for(let z=0;z<x.items.length;z++)x.items[z].loose=!0;return x}}html(m){let f=this.rules.block.html.exec(m);if(f)return{type:"html",block:!0,raw:f[0],pre:f[1]==="pre"||f[1]==="script"||f[1]==="style",text:f[0]}}def(m){let f=this.rules.block.def.exec(m);if(f){let b=f[1].toLowerCase().replace(/\s+/g," "),I=f[2]?f[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",x=f[3]?f[3].substring(1,f[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):f[3];return{type:"def",tag:b,raw:f[0],href:I,title:x}}}table(m){let f=this.rules.block.table.exec(m);if(!f||!/[:|]/.test(f[2]))return;let b=v(f[1]),I=f[2].replace(/^\||\| *$/g,"").split("|"),x=f[3]&&f[3].trim()?f[3].replace(/\n[ \t]*$/,"").split(`
`):[],D={type:"table",raw:f[0],header:[],align:[],rows:[]};if(b.length===I.length){for(let C of I)/^ *-+: *$/.test(C)?D.align.push("right"):/^ *:-+: *$/.test(C)?D.align.push("center"):/^ *:-+ *$/.test(C)?D.align.push("left"):D.align.push(null);for(let C=0;C<b.length;C++)D.header.push({text:b[C],tokens:this.lexer.inline(b[C]),header:!0,align:D.align[C]});for(let C of x)D.rows.push(v(C,D.header.length).map((z,V)=>({text:z,tokens:this.lexer.inline(z),header:!1,align:D.align[V]})));return D}}lheading(m){let f=this.rules.block.lheading.exec(m);if(f)return{type:"heading",raw:f[0],depth:f[2].charAt(0)==="="?1:2,text:f[1],tokens:this.lexer.inline(f[1])}}paragraph(m){let f=this.rules.block.paragraph.exec(m);if(f){let b=f[1].charAt(f[1].length-1)===`
`?f[1].slice(0,-1):f[1];return{type:"paragraph",raw:f[0],text:b,tokens:this.lexer.inline(b)}}}text(m){let f=this.rules.block.text.exec(m);if(f)return{type:"text",raw:f[0],text:f[0],tokens:this.lexer.inline(f[0])}}escape(m){let f=this.rules.inline.escape.exec(m);if(f)return{type:"escape",raw:f[0],text:u(f[1])}}tag(m){let f=this.rules.inline.tag.exec(m);if(f)return!this.lexer.state.inLink&&/^<a /i.test(f[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(f[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(f[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(f[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:f[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:f[0]}}link(m){let f=this.rules.inline.link.exec(m);if(f){let b=f[2].trim();if(!this.options.pedantic&&/^</.test(b)){if(!/>$/.test(b))return;let D=E(b.slice(0,-1),"\\");if((b.length-D.length)%2===0)return}else{let D=P(f[2],"()");if(D>-1){let z=(f[0].indexOf("!")===0?5:4)+f[1].length+D;f[2]=f[2].substring(0,D),f[0]=f[0].substring(0,z).trim(),f[3]=""}}let I=f[2],x="";if(this.options.pedantic){let D=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(I);D&&(I=D[1],x=D[3])}else x=f[3]?f[3].slice(1,-1):"";return I=I.trim(),/^</.test(I)&&(this.options.pedantic&&!/>$/.test(b)?I=I.slice(1):I=I.slice(1,-1)),R(f,{href:I&&I.replace(this.rules.inline.anyPunctuation,"$1"),title:x&&x.replace(this.rules.inline.anyPunctuation,"$1")},f[0],this.lexer)}}reflink(m,f){let b;if((b=this.rules.inline.reflink.exec(m))||(b=this.rules.inline.nolink.exec(m))){let I=(b[2]||b[1]).replace(/\s+/g," "),x=f[I.toLowerCase()];if(!x){let D=b[0].charAt(0);return{type:"text",raw:D,text:D}}return R(b,x,b[0],this.lexer)}}emStrong(m,f,b=""){let I=this.rules.inline.emStrongLDelim.exec(m);if(!I||I[3]&&b.match(/[\p{L}\p{N}]/u))return;if(!(I[1]||I[2]||"")||!b||this.rules.inline.punctuation.exec(b)){let D=[...I[0]].length-1,C,z,V=D,re=0,Se=I[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(Se.lastIndex=0,f=f.slice(-1*m.length+D);(I=Se.exec(f))!=null;){if(C=I[1]||I[2]||I[3]||I[4]||I[5]||I[6],!C)continue;if(z=[...C].length,I[3]||I[4]){V+=z;continue}else if((I[5]||I[6])&&D%3&&!((D+z)%3)){re+=z;continue}if(V-=z,V>0)continue;z=Math.min(z,z+V+re);let Re=[...I[0]][0].length,Qe=m.slice(0,D+I.index+Re+z);if(Math.min(D,z)%2){let Y=Qe.slice(1,-1);return{type:"em",raw:Qe,text:Y,tokens:this.lexer.inlineTokens(Y)}}let Pe=Qe.slice(2,-2);return{type:"strong",raw:Qe,text:Pe,tokens:this.lexer.inlineTokens(Pe)}}}}codespan(m){let f=this.rules.inline.code.exec(m);if(f){let b=f[2].replace(/\n/g," "),I=/[^ ]/.test(b),x=/^ /.test(b)&&/ $/.test(b);return I&&x&&(b=b.substring(1,b.length-1)),b=u(b,!0),{type:"codespan",raw:f[0],text:b}}}br(m){let f=this.rules.inline.br.exec(m);if(f)return{type:"br",raw:f[0]}}del(m){let f=this.rules.inline.del.exec(m);if(f)return{type:"del",raw:f[0],text:f[2],tokens:this.lexer.inlineTokens(f[2])}}autolink(m){let f=this.rules.inline.autolink.exec(m);if(f){let b,I;return f[2]==="@"?(b=u(f[1]),I="mailto:"+b):(b=u(f[1]),I=b),{type:"link",raw:f[0],text:b,href:I,tokens:[{type:"text",raw:b,text:b}]}}}url(m){let f;if(f=this.rules.inline.url.exec(m)){let b,I;if(f[2]==="@")b=u(f[0]),I="mailto:"+b;else{let x;do x=f[0],f[0]=this.rules.inline._backpedal.exec(f[0])?.[0]??"";while(x!==f[0]);b=u(f[0]),f[1]==="www."?I="http://"+f[0]:I=f[0]}return{type:"link",raw:f[0],text:b,href:I,tokens:[{type:"text",raw:b,text:b}]}}}inlineText(m){let f=this.rules.inline.text.exec(m);if(f){let b;return this.lexer.state.inRawBlock?b=f[0]:b=u(f[0]),{type:"text",raw:f[0],text:b}}}}let _=/^(?: *(?:\n|$))+/,H=/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,B=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,N=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,Z=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,ve=/(?:[*+-]|\d{1,9}[.)])/,ae=g(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,ve).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),ne=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,vt=/^[^\n]+/,Ht=/(?!\s*\])(?:\\.|[^\[\]\\])+/,X=g(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",Ht).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),K=g(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,ve).getRegex(),G="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",W=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,$=g("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",W).replace("tag",G).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),de=g(ne).replace("hr",N).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",G).getRegex(),Ke={blockquote:g(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",de).getRegex(),code:H,def:X,fences:B,heading:Z,hr:N,html:$,lheading:ae,list:K,newline:_,paragraph:de,table:w,text:vt},ge=g("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",N).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",G).getRegex(),te={...Ke,table:ge,paragraph:g(ne).replace("hr",N).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",ge).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",G).getRegex()},yn={...Ke,html:g(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",W).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:w,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:g(ne).replace("hr",N).replace("heading",` *#{1,6} *[^
]`).replace("lheading",ae).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},nn=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,ci=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,Tn=/^( {2,}|\\)\n(?!\s*$)/,ko=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,kt="\\p{P}\\p{S}",zn=g(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,kt).getRegex(),wr=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,Er=g(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,kt).getRegex(),ui=g("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,kt).getRegex(),Lo=g("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,kt).getRegex(),Ao=g(/\\([punct])/,"gu").replace(/punct/g,kt).getRegex(),Fs=g(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Ps=g(W).replace("(?:-->|$)","-->").getRegex(),vd=g("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Ps).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),hi=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Yi=g(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",hi).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Un=g(/^!?\[(label)\]\[(ref)\]/).replace("label",hi).replace("ref",Ht).getRegex(),Vn=g(/^!?\[(ref)\](?:\[\])?/).replace("ref",Ht).getRegex(),Bs=g("reflink|nolink(?!\\()","g").replace("reflink",Un).replace("nolink",Vn).getRegex(),No={_backpedal:w,anyPunctuation:Ao,autolink:Fs,blockSkip:wr,br:Tn,code:ci,del:w,emStrongLDelim:Er,emStrongRDelimAst:ui,emStrongRDelimUnd:Lo,escape:nn,link:Yi,nolink:Vn,punctuation:zn,reflink:Un,reflinkSearch:Bs,tag:vd,text:ko,url:w},Hs={...No,link:g(/^!?\[(label)\]\((.*?)\)/).replace("label",hi).getRegex(),reflink:g(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",hi).getRegex()},Xi={...No,escape:g(nn).replace("])","~|])").getRegex(),url:g(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},Ks={...Xi,br:g(Tn).replace("{2,}","*").getRegex(),text:g(Xi.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Wn={normal:Ke,gfm:te,pedantic:yn},In={normal:No,gfm:Xi,breaks:Ks,pedantic:Hs};class et{tokens;options;state;tokenizer;inlineQueue;constructor(m){this.tokens=[],this.tokens.links=Object.create(null),this.options=m||e.defaults,this.options.tokenizer=this.options.tokenizer||new O,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let f={block:Wn.normal,inline:In.normal};this.options.pedantic?(f.block=Wn.pedantic,f.inline=In.pedantic):this.options.gfm&&(f.block=Wn.gfm,this.options.breaks?f.inline=In.breaks:f.inline=In.gfm),this.tokenizer.rules=f}static get rules(){return{block:Wn,inline:In}}static lex(m,f){return new et(f).lex(m)}static lexInline(m,f){return new et(f).inlineTokens(m)}lex(m){m=m.replace(/\r\n|\r/g,`
`),this.blockTokens(m,this.tokens);for(let f=0;f<this.inlineQueue.length;f++){let b=this.inlineQueue[f];this.inlineTokens(b.src,b.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(m,f=[],b=!1){this.options.pedantic?m=m.replace(/\t/g,"    ").replace(/^ +$/gm,""):m=m.replace(/^( *)(\t+)/gm,(C,z,V)=>z+"    ".repeat(V.length));let I,x,D;for(;m;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(C=>(I=C.call({lexer:this},m,f))?(m=m.substring(I.raw.length),f.push(I),!0):!1))){if(I=this.tokenizer.space(m)){m=m.substring(I.raw.length),I.raw.length===1&&f.length>0?f[f.length-1].raw+=`
`:f.push(I);continue}if(I=this.tokenizer.code(m)){m=m.substring(I.raw.length),x=f[f.length-1],x&&(x.type==="paragraph"||x.type==="text")?(x.raw+=`
`+I.raw,x.text+=`
`+I.text,this.inlineQueue[this.inlineQueue.length-1].src=x.text):f.push(I);continue}if(I=this.tokenizer.fences(m)){m=m.substring(I.raw.length),f.push(I);continue}if(I=this.tokenizer.heading(m)){m=m.substring(I.raw.length),f.push(I);continue}if(I=this.tokenizer.hr(m)){m=m.substring(I.raw.length),f.push(I);continue}if(I=this.tokenizer.blockquote(m)){m=m.substring(I.raw.length),f.push(I);continue}if(I=this.tokenizer.list(m)){m=m.substring(I.raw.length),f.push(I);continue}if(I=this.tokenizer.html(m)){m=m.substring(I.raw.length),f.push(I);continue}if(I=this.tokenizer.def(m)){m=m.substring(I.raw.length),x=f[f.length-1],x&&(x.type==="paragraph"||x.type==="text")?(x.raw+=`
`+I.raw,x.text+=`
`+I.raw,this.inlineQueue[this.inlineQueue.length-1].src=x.text):this.tokens.links[I.tag]||(this.tokens.links[I.tag]={href:I.href,title:I.title});continue}if(I=this.tokenizer.table(m)){m=m.substring(I.raw.length),f.push(I);continue}if(I=this.tokenizer.lheading(m)){m=m.substring(I.raw.length),f.push(I);continue}if(D=m,this.options.extensions&&this.options.extensions.startBlock){let C=1/0,z=m.slice(1),V;this.options.extensions.startBlock.forEach(re=>{V=re.call({lexer:this},z),typeof V=="number"&&V>=0&&(C=Math.min(C,V))}),C<1/0&&C>=0&&(D=m.substring(0,C+1))}if(this.state.top&&(I=this.tokenizer.paragraph(D))){x=f[f.length-1],b&&x?.type==="paragraph"?(x.raw+=`
`+I.raw,x.text+=`
`+I.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=x.text):f.push(I),b=D.length!==m.length,m=m.substring(I.raw.length);continue}if(I=this.tokenizer.text(m)){m=m.substring(I.raw.length),x=f[f.length-1],x&&x.type==="text"?(x.raw+=`
`+I.raw,x.text+=`
`+I.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=x.text):f.push(I);continue}if(m){let C="Infinite loop on byte: "+m.charCodeAt(0);if(this.options.silent){console.error(C);break}else throw new Error(C)}}return this.state.top=!0,f}inline(m,f=[]){return this.inlineQueue.push({src:m,tokens:f}),f}inlineTokens(m,f=[]){let b,I,x,D=m,C,z,V;if(this.tokens.links){let re=Object.keys(this.tokens.links);if(re.length>0)for(;(C=this.tokenizer.rules.inline.reflinkSearch.exec(D))!=null;)re.includes(C[0].slice(C[0].lastIndexOf("[")+1,-1))&&(D=D.slice(0,C.index)+"["+"a".repeat(C[0].length-2)+"]"+D.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(C=this.tokenizer.rules.inline.blockSkip.exec(D))!=null;)D=D.slice(0,C.index)+"["+"a".repeat(C[0].length-2)+"]"+D.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(C=this.tokenizer.rules.inline.anyPunctuation.exec(D))!=null;)D=D.slice(0,C.index)+"++"+D.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;m;)if(z||(V=""),z=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(re=>(b=re.call({lexer:this},m,f))?(m=m.substring(b.raw.length),f.push(b),!0):!1))){if(b=this.tokenizer.escape(m)){m=m.substring(b.raw.length),f.push(b);continue}if(b=this.tokenizer.tag(m)){m=m.substring(b.raw.length),I=f[f.length-1],I&&b.type==="text"&&I.type==="text"?(I.raw+=b.raw,I.text+=b.text):f.push(b);continue}if(b=this.tokenizer.link(m)){m=m.substring(b.raw.length),f.push(b);continue}if(b=this.tokenizer.reflink(m,this.tokens.links)){m=m.substring(b.raw.length),I=f[f.length-1],I&&b.type==="text"&&I.type==="text"?(I.raw+=b.raw,I.text+=b.text):f.push(b);continue}if(b=this.tokenizer.emStrong(m,D,V)){m=m.substring(b.raw.length),f.push(b);continue}if(b=this.tokenizer.codespan(m)){m=m.substring(b.raw.length),f.push(b);continue}if(b=this.tokenizer.br(m)){m=m.substring(b.raw.length),f.push(b);continue}if(b=this.tokenizer.del(m)){m=m.substring(b.raw.length),f.push(b);continue}if(b=this.tokenizer.autolink(m)){m=m.substring(b.raw.length),f.push(b);continue}if(!this.state.inLink&&(b=this.tokenizer.url(m))){m=m.substring(b.raw.length),f.push(b);continue}if(x=m,this.options.extensions&&this.options.extensions.startInline){let re=1/0,Se=m.slice(1),Re;this.options.extensions.startInline.forEach(Qe=>{Re=Qe.call({lexer:this},Se),typeof Re=="number"&&Re>=0&&(re=Math.min(re,Re))}),re<1/0&&re>=0&&(x=m.substring(0,re+1))}if(b=this.tokenizer.inlineText(x)){m=m.substring(b.raw.length),b.raw.slice(-1)!=="_"&&(V=b.raw.slice(-1)),z=!0,I=f[f.length-1],I&&I.type==="text"?(I.raw+=b.raw,I.text+=b.text):f.push(b);continue}if(m){let re="Infinite loop on byte: "+m.charCodeAt(0);if(this.options.silent){console.error(re);break}else throw new Error(re)}}return f}}class jt{options;parser;constructor(m){this.options=m||e.defaults}space(m){return""}code({text:m,lang:f,escaped:b}){let I=(f||"").match(/^\S*/)?.[0],x=m.replace(/\n$/,"")+`
`;return I?'<pre><code class="language-'+u(I)+'">'+(b?x:u(x,!0))+`</code></pre>
`:"<pre><code>"+(b?x:u(x,!0))+`</code></pre>
`}blockquote({tokens:m}){return`<blockquote>
${this.parser.parse(m)}</blockquote>
`}html({text:m}){return m}heading({tokens:m,depth:f}){return`<h${f}>${this.parser.parseInline(m)}</h${f}>
`}hr(m){return`<hr>
`}list(m){let f=m.ordered,b=m.start,I="";for(let C=0;C<m.items.length;C++){let z=m.items[C];I+=this.listitem(z)}let x=f?"ol":"ul",D=f&&b!==1?' start="'+b+'"':"";return"<"+x+D+`>
`+I+"</"+x+`>
`}listitem(m){let f="";if(m.task){let b=this.checkbox({checked:!!m.checked});m.loose?m.tokens.length>0&&m.tokens[0].type==="paragraph"?(m.tokens[0].text=b+" "+m.tokens[0].text,m.tokens[0].tokens&&m.tokens[0].tokens.length>0&&m.tokens[0].tokens[0].type==="text"&&(m.tokens[0].tokens[0].text=b+" "+m.tokens[0].tokens[0].text)):m.tokens.unshift({type:"text",raw:b+" ",text:b+" "}):f+=b+" "}return f+=this.parser.parse(m.tokens,!!m.loose),`<li>${f}</li>
`}checkbox({checked:m}){return"<input "+(m?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:m}){return`<p>${this.parser.parseInline(m)}</p>
`}table(m){let f="",b="";for(let x=0;x<m.header.length;x++)b+=this.tablecell(m.header[x]);f+=this.tablerow({text:b});let I="";for(let x=0;x<m.rows.length;x++){let D=m.rows[x];b="";for(let C=0;C<D.length;C++)b+=this.tablecell(D[C]);I+=this.tablerow({text:b})}return I&&(I=`<tbody>${I}</tbody>`),`<table>
<thead>
`+f+`</thead>
`+I+`</table>
`}tablerow({text:m}){return`<tr>
${m}</tr>
`}tablecell(m){let f=this.parser.parseInline(m.tokens),b=m.header?"th":"td";return(m.align?`<${b} align="${m.align}">`:`<${b}>`)+f+`</${b}>
`}strong({tokens:m}){return`<strong>${this.parser.parseInline(m)}</strong>`}em({tokens:m}){return`<em>${this.parser.parseInline(m)}</em>`}codespan({text:m}){return`<code>${m}</code>`}br(m){return"<br>"}del({tokens:m}){return`<del>${this.parser.parseInline(m)}</del>`}link({href:m,title:f,tokens:b}){let I=this.parser.parseInline(b),x=T(m);if(x===null)return I;m=x;let D='<a href="'+m+'"';return f&&(D+=' title="'+f+'"'),D+=">"+I+"</a>",D}image({href:m,title:f,text:b}){let I=T(m);if(I===null)return b;m=I;let x=`<img src="${m}" alt="${b}"`;return f&&(x+=` title="${f}"`),x+=">",x}text(m){return"tokens"in m&&m.tokens?this.parser.parseInline(m.tokens):m.text}}class pi{strong({text:m}){return m}em({text:m}){return m}codespan({text:m}){return m}del({text:m}){return m}html({text:m}){return m}text({text:m}){return m}link({text:m}){return""+m}image({text:m}){return""+m}br(){return""}}class Et{options;renderer;textRenderer;constructor(m){this.options=m||e.defaults,this.options.renderer=this.options.renderer||new jt,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new pi}static parse(m,f){return new Et(f).parse(m)}static parseInline(m,f){return new Et(f).parseInline(m)}parse(m,f=!0){let b="";for(let I=0;I<m.length;I++){let x=m[I];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[x.type]){let C=x,z=this.options.extensions.renderers[C.type].call({parser:this},C);if(z!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(C.type)){b+=z||"";continue}}let D=x;switch(D.type){case"space":{b+=this.renderer.space(D);continue}case"hr":{b+=this.renderer.hr(D);continue}case"heading":{b+=this.renderer.heading(D);continue}case"code":{b+=this.renderer.code(D);continue}case"table":{b+=this.renderer.table(D);continue}case"blockquote":{b+=this.renderer.blockquote(D);continue}case"list":{b+=this.renderer.list(D);continue}case"html":{b+=this.renderer.html(D);continue}case"paragraph":{b+=this.renderer.paragraph(D);continue}case"text":{let C=D,z=this.renderer.text(C);for(;I+1<m.length&&m[I+1].type==="text";)C=m[++I],z+=`
`+this.renderer.text(C);f?b+=this.renderer.paragraph({type:"paragraph",raw:z,text:z,tokens:[{type:"text",raw:z,text:z}]}):b+=z;continue}default:{let C='Token with "'+D.type+'" type was not found.';if(this.options.silent)return console.error(C),"";throw new Error(C)}}}return b}parseInline(m,f){f=f||this.renderer;let b="";for(let I=0;I<m.length;I++){let x=m[I];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[x.type]){let C=this.options.extensions.renderers[x.type].call({parser:this},x);if(C!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(x.type)){b+=C||"";continue}}let D=x;switch(D.type){case"escape":{b+=f.text(D);break}case"html":{b+=f.html(D);break}case"link":{b+=f.link(D);break}case"image":{b+=f.image(D);break}case"strong":{b+=f.strong(D);break}case"em":{b+=f.em(D);break}case"codespan":{b+=f.codespan(D);break}case"br":{b+=f.br(D);break}case"del":{b+=f.del(D);break}case"text":{b+=f.text(D);break}default:{let C='Token with "'+D.type+'" type was not found.';if(this.options.silent)return console.error(C),"";throw new Error(C)}}}return b}}class Ji{options;constructor(m){this.options=m||e.defaults}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(m){return m}postprocess(m){return m}processAllTokens(m){return m}}class xn{defaults=t();options=this.setOptions;parse=this.parseMarkdown(et.lex,Et.parse);parseInline=this.parseMarkdown(et.lexInline,Et.parseInline);Parser=Et;Renderer=jt;TextRenderer=pi;Lexer=et;Tokenizer=O;Hooks=Ji;constructor(...m){this.use(...m)}walkTokens(m,f){let b=[];for(let I of m)switch(b=b.concat(f.call(this,I)),I.type){case"table":{let x=I;for(let D of x.header)b=b.concat(this.walkTokens(D.tokens,f));for(let D of x.rows)for(let C of D)b=b.concat(this.walkTokens(C.tokens,f));break}case"list":{let x=I;b=b.concat(this.walkTokens(x.items,f));break}default:{let x=I;this.defaults.extensions?.childTokens?.[x.type]?this.defaults.extensions.childTokens[x.type].forEach(D=>{let C=x[D].flat(1/0);b=b.concat(this.walkTokens(C,f))}):x.tokens&&(b=b.concat(this.walkTokens(x.tokens,f)))}}return b}use(...m){let f=this.defaults.extensions||{renderers:{},childTokens:{}};return m.forEach(b=>{let I={...b};if(I.async=this.defaults.async||I.async||!1,b.extensions&&(b.extensions.forEach(x=>{if(!x.name)throw new Error("extension name required");if("renderer"in x){let D=f.renderers[x.name];D?f.renderers[x.name]=function(...C){let z=x.renderer.apply(this,C);return z===!1&&(z=D.apply(this,C)),z}:f.renderers[x.name]=x.renderer}if("tokenizer"in x){if(!x.level||x.level!=="block"&&x.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let D=f[x.level];D?D.unshift(x.tokenizer):f[x.level]=[x.tokenizer],x.start&&(x.level==="block"?f.startBlock?f.startBlock.push(x.start):f.startBlock=[x.start]:x.level==="inline"&&(f.startInline?f.startInline.push(x.start):f.startInline=[x.start]))}"childTokens"in x&&x.childTokens&&(f.childTokens[x.name]=x.childTokens)}),I.extensions=f),b.renderer){let x=this.defaults.renderer||new jt(this.defaults);for(let D in b.renderer){if(!(D in x))throw new Error(`renderer '${D}' does not exist`);if(["options","parser"].includes(D))continue;let C=D,z=b.renderer[C],V=x[C];x[C]=(...re)=>{let Se=z.apply(x,re);return Se===!1&&(Se=V.apply(x,re)),Se||""}}I.renderer=x}if(b.tokenizer){let x=this.defaults.tokenizer||new O(this.defaults);for(let D in b.tokenizer){if(!(D in x))throw new Error(`tokenizer '${D}' does not exist`);if(["options","rules","lexer"].includes(D))continue;let C=D,z=b.tokenizer[C],V=x[C];x[C]=(...re)=>{let Se=z.apply(x,re);return Se===!1&&(Se=V.apply(x,re)),Se}}I.tokenizer=x}if(b.hooks){let x=this.defaults.hooks||new Ji;for(let D in b.hooks){if(!(D in x))throw new Error(`hook '${D}' does not exist`);if(D==="options")continue;let C=D,z=b.hooks[C],V=x[C];Ji.passThroughHooks.has(D)?x[C]=re=>{if(this.defaults.async)return Promise.resolve(z.call(x,re)).then(Re=>V.call(x,Re));let Se=z.call(x,re);return V.call(x,Se)}:x[C]=(...re)=>{let Se=z.apply(x,re);return Se===!1&&(Se=V.apply(x,re)),Se}}I.hooks=x}if(b.walkTokens){let x=this.defaults.walkTokens,D=b.walkTokens;I.walkTokens=function(C){let z=[];return z.push(D.call(this,C)),x&&(z=z.concat(x.call(this,C))),z}}this.defaults={...this.defaults,...I}}),this}setOptions(m){return this.defaults={...this.defaults,...m},this}lexer(m,f){return et.lex(m,f??this.defaults)}parser(m,f){return Et.parse(m,f??this.defaults)}parseMarkdown(m,f){return(I,x)=>{let D={...x},C={...this.defaults,...D},z=this.onError(!!C.silent,!!C.async);if(this.defaults.async===!0&&D.async===!1)return z(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof I>"u"||I===null)return z(new Error("marked(): input parameter is undefined or null"));if(typeof I!="string")return z(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(I)+", string expected"));if(C.hooks&&(C.hooks.options=C),C.async)return Promise.resolve(C.hooks?C.hooks.preprocess(I):I).then(V=>m(V,C)).then(V=>C.hooks?C.hooks.processAllTokens(V):V).then(V=>C.walkTokens?Promise.all(this.walkTokens(V,C.walkTokens)).then(()=>V):V).then(V=>f(V,C)).then(V=>C.hooks?C.hooks.postprocess(V):V).catch(z);try{C.hooks&&(I=C.hooks.preprocess(I));let V=m(I,C);C.hooks&&(V=C.hooks.processAllTokens(V)),C.walkTokens&&this.walkTokens(V,C.walkTokens);let re=f(V,C);return C.hooks&&(re=C.hooks.postprocess(re)),re}catch(V){return z(V)}}}onError(m,f){return b=>{if(b.message+=`
Please report this to https://github.com/markedjs/marked.`,m){let I="<p>An error occurred:</p><pre>"+u(b.message+"",!0)+"</pre>";return f?Promise.resolve(I):I}if(f)return Promise.reject(b);throw b}}}let $n=new xn;function Le(oe,m){return $n.parse(oe,m)}Le.options=Le.setOptions=function(oe){return $n.setOptions(oe),Le.defaults=$n.defaults,i(Le.defaults),Le},Le.getDefaults=t,Le.defaults=e.defaults,Le.use=function(...oe){return $n.use(...oe),Le.defaults=$n.defaults,i(Le.defaults),Le},Le.walkTokens=function(oe,m){return $n.walkTokens(oe,m)},Le.parseInline=$n.parseInline,Le.Parser=Et,Le.parser=Et.parse,Le.Renderer=jt,Le.TextRenderer=pi,Le.Lexer=et,Le.lexer=et.lex,Le.Tokenizer=O,Le.Hooks=Ji,Le.parse=Le;let it=Le.options,mi=Le.setOptions,yd=Le.use,zs=Le.walkTokens,Dr=Le.parseInline,Us=Le,Vs=Et.parse,Td=et.lex;e.Hooks=Ji,e.Lexer=et,e.Marked=xn,e.Parser=Et,e.Renderer=jt,e.TextRenderer=pi,e.Tokenizer=O,e.getDefaults=t,e.lexer=Td,e.marked=Le,e.options=it,e.parse=Us,e.parseInline=Dr,e.parser=Vs,e.setOptions=mi,e.use=yd,e.walkTokens=zs})})();var o7=ct.Hooks||exports.Hooks,r7=ct.Lexer||exports.Lexer,s7=ct.Marked||exports.Marked,a7=ct.Parser||exports.Parser,Df=ct.Renderer||exports.Renderer,l7=ct.TextRenderer||exports.TextRenderer,d7=ct.Tokenizer||exports.Tokenizer,eT=ct.defaults||exports.defaults,c7=ct.getDefaults||exports.getDefaults,tT=ct.lexer||exports.lexer,u7=ct.marked||exports.marked,h7=ct.options||exports.options,nT=ct.parse||exports.parse,p7=ct.parseInline||exports.parseInline,iT=ct.parser||exports.parser,m7=ct.setOptions||exports.setOptions,f7=ct.use||exports.use,g7=ct.walkTokens||exports.walkTokens;var L7=new Rt(()=>new Uint8Array(256));function or(n,e){if(n===e)return!0;if(n==null||e===null||e===void 0||typeof n!=typeof e||typeof n!="object"||Array.isArray(n)!==Array.isArray(e))return!1;let t,i;if(Array.isArray(n)){if(n.length!==e.length)return!1;for(t=0;t<n.length;t++)if(!or(n[t],e[t]))return!1}else{let o=[];for(i in n)o.push(i);o.sort();let r=[];for(i in e)r.push(i);if(r.sort(),!or(o,r))return!1;for(t=0;t<o.length;t++)if(!or(n[o[t]],e[o[t]]))return!1}return!0}var m9=Object.freeze({image:({href:n,title:e,text:t})=>{let i=[],o=[];return n&&({href:n,dimensions:i}=yf(n),o.push(`src="${os(n)}"`)),t&&o.push(`alt="${os(t)}"`),e&&o.push(`title="${os(e)}"`),i.length&&(o=o.concat(i)),"<img "+o.join(" ")+">"},paragraph({tokens:n}){return`<p>${this.parser.parseInline(n)}</p>`},link({href:n,title:e,tokens:t}){let i=this.parser.parseInline(t);return typeof n!="string"?"":(n===i&&(i=al(i)),e=typeof e=="string"?os(al(e)):"",n=al(n),n=n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),`<a href="${n}" title="${e||n}" draggable="false">${i}</a>`)}});function Cf(){let n=new Df;return n.code=({text:e})=>e,n.blockquote=({text:e})=>e+`
`,n.html=e=>"",n.heading=function({tokens:e}){return this.parser.parseInline(e)+`
`},n.hr=()=>"",n.list=function({items:e}){return e.map(t=>this.listitem(t)).join(`
`)+`
`},n.listitem=({text:e})=>e+`
`,n.paragraph=function({tokens:e}){return this.parser.parseInline(e)+`
`},n.table=function({header:e,rows:t}){return e.map(i=>this.tablecell(i)).join(" ")+`
`+t.map(i=>i.map(o=>this.tablecell(o)).join(" ")).join(`
`)+`
`},n.tablerow=({text:e})=>e,n.tablecell=function({tokens:e}){return this.parser.parseInline(e)},n.strong=({text:e})=>e,n.em=({text:e})=>e,n.codespan=({text:e})=>e,n.br=e=>`
`,n.del=({text:e})=>e,n.image=e=>"",n.text=({text:e})=>e,n.link=({text:e})=>e,n}var f9=new Rt(n=>Cf()),g9=new Rt(()=>{let n=Cf();return n.code=({text:e})=>`
\`\`\`
${e}
\`\`\`
`,n});var _N={...rl,selectBackground:"#3C3C3C",selectForeground:"#F0F0F0",selectBorder:"#3C3C3C",decoratorRightForeground:void 0,selectListBackground:void 0,selectListBorder:void 0,focusBorder:void 0};var Hi=class extends Q{_onDidChange=this._register(new L);onDidChange=this._onDidChange.event;_id;_label;_tooltip;_cssClass;_enabled=!0;_checked;_actionCallback;constructor(e,t="",i="",o=!0,r){super(),this._id=e,this._label=t,this._cssClass=i,this._enabled=o,this._actionCallback=r}get id(){return this._id}get label(){return this._label}set label(e){this._setLabel(e)}_setLabel(e){this._label!==e&&(this._label=e,this._onDidChange.fire({label:e}))}get tooltip(){return this._tooltip||""}set tooltip(e){this._setTooltip(e)}_setTooltip(e){this._tooltip!==e&&(this._tooltip=e,this._onDidChange.fire({tooltip:e}))}get class(){return this._cssClass}set class(e){this._setClass(e)}_setClass(e){this._cssClass!==e&&(this._cssClass=e,this._onDidChange.fire({class:e}))}get enabled(){return this._enabled}set enabled(e){this._setEnabled(e)}_setEnabled(e){this._enabled!==e&&(this._enabled=e,this._onDidChange.fire({enabled:e}))}get checked(){return this._checked}set checked(e){this._setChecked(e)}_setChecked(e){this._checked!==e&&(this._checked=e,this._onDidChange.fire({checked:e}))}async run(e,t){this._actionCallback&&await this._actionCallback(e)}},mo=class extends Q{_onWillRun=this._register(new L);onWillRun=this._onWillRun.event;_onDidRun=this._register(new L);onDidRun=this._onDidRun.event;async run(e,t){if(!e.enabled)return;this._onWillRun.fire({action:e});let i;try{await this.runAction(e,t)}catch(o){i=o}this._onDidRun.fire({action:e,error:i})}async runAction(e,t){await e.run(t)}},oi=class n{static join(...e){let t=[];for(let i of e)i.length&&(t.length?t=[...t,new n,...i]:t=i);return t}static ID="vs.actions.separator";id=n.ID;label="";tooltip="";class="separator";enabled=!1;checked=!1;async run(){}};var _f={inputActiveOptionBorder:"#007ACC00",inputActiveOptionForeground:"#FFFFFF",inputActiveOptionBackground:"#0E639C50"};var ri=class extends xt{_onChange=this._register(new L);onChange=this._onChange.event;_onKeyDown=this._register(new L);onKeyDown=this._onKeyDown.event;_opts;_icon;domNode;_checked;_hover;constructor(e){super(),this._opts=e,this._checked=this._opts.isChecked;let t=["monaco-custom-toggle"];this._opts.icon&&(this._icon=this._opts.icon,t.push(...we.asClassNameArray(this._icon))),this._opts.actionClassName&&t.push(...this._opts.actionClassName.split(" ")),this._checked&&t.push("checked"),this.domNode=document.createElement("div"),this._hover=this._register(Zt().setupManagedHover(e.hoverDelegate??dt("mouse"),this.domNode,this._opts.title)),this.domNode.classList.add(...t),this._opts.notFocusable||(this.domNode.tabIndex=0),this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,i=>{this.enabled&&(this.checked=!this._checked,this._onChange.fire(!1),i.preventDefault())}),this._register(this.ignoreGesture(this.domNode)),this.onkeydown(this.domNode,i=>{if(i.keyCode===10||i.keyCode===3){this.checked=!this._checked,this._onChange.fire(!0),i.preventDefault(),i.stopPropagation();return}this._onKeyDown.fire(i)})}get enabled(){return this.domNode.getAttribute("aria-disabled")!=="true"}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(e){this._checked=e,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}setIcon(e){this._icon&&this.domNode.classList.remove(...we.asClassNameArray(this._icon)),this._icon=e,this._icon&&this.domNode.classList.add(...we.asClassNameArray(this._icon))}width(){return 22}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder||"",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground||"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground||"")}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}setTitle(e){this._hover.update(e),this.domNode.setAttribute("aria-label",e)}set visible(e){this.domNode.style.display=e?"":"none"}get visible(){return this.domNode.style.display!=="none"}};var en=class extends Q{constructor(t,i,o={}){super();this.options=o;this._context=t||this,this._action=i,i instanceof Hi&&this._register(i.onDidChange(r=>{this.element&&this.handleActionChangeEvent(r)}))}element;_context;_action;customHover;get action(){return this._action}_actionRunner;handleActionChangeEvent(t){t.enabled!==void 0&&this.updateEnabled(),t.checked!==void 0&&this.updateChecked(),t.class!==void 0&&this.updateClass(),t.label!==void 0&&(this.updateLabel(),this.updateTooltip()),t.tooltip!==void 0&&this.updateTooltip()}get actionRunner(){return this._actionRunner||(this._actionRunner=this._register(new mo)),this._actionRunner}set actionRunner(t){this._actionRunner=t}isEnabled(){return this._action.enabled}setActionContext(t){this._context=t}render(t){let i=this.element=t;this._register(It.addTarget(t));let o=this.options&&this.options.draggable;o&&(t.draggable=!0,wi&&this._register(J(t,pe.DRAG_START,r=>r.dataTransfer?.setData(Ha.TEXT,this._action.label)))),this._register(J(i,Ue.Tap,r=>this.onClick(r,!0))),this._register(J(i,pe.MOUSE_DOWN,r=>{o||$e.stop(r,!0),this._action.enabled&&r.button===0&&i.classList.add("active")})),Ee&&this._register(J(i,pe.CONTEXT_MENU,r=>{r.button===0&&r.ctrlKey===!0&&this.onClick(r)})),this._register(J(i,pe.CLICK,r=>{$e.stop(r,!0),this.options&&this.options.isMenu||this.onClick(r)})),this._register(J(i,pe.DBLCLICK,r=>{$e.stop(r,!0)})),[pe.MOUSE_UP,pe.MOUSE_OUT].forEach(r=>{this._register(J(i,r,s=>{$e.stop(s),i.classList.remove("active")}))})}onClick(t,i=!1){$e.stop(t,!0);let o=Ci(this._context)?this.options?.useEventAsContext?t:{preserveFocus:i}:this._context;this.actionRunner.run(this._action,o)}focus(){this.element&&(this.element.tabIndex=0,this.element.focus(),this.element.classList.add("focused"))}isFocused(){return!!this.element?.classList.contains("focused")}blur(){this.element&&(this.element.blur(),this.element.tabIndex=-1,this.element.classList.remove("focused"))}setFocusable(t){this.element&&(this.element.tabIndex=t?0:-1)}get trapsArrowNavigation(){return!1}updateEnabled(){}updateLabel(){}getClass(){return this.action.class}getTooltip(){return this.action.tooltip}updateTooltip(){if(!this.element)return;let t=this.getTooltip()??"";if(this.updateAriaLabel(),this.options.hoverDelegate?.showNativeHover)this.element.title=t;else if(!this.customHover&&t!==""){let i=this.options.hoverDelegate??dt("element");this.customHover=this._store.add(Zt().setupManagedHover(i,this.element,t))}else this.customHover&&this.customHover.update(t)}updateAriaLabel(){if(this.element){let t=this.getTooltip()??"";this.element.setAttribute("aria-label",t)}}updateClass(){}updateChecked(){}dispose(){this.element&&(this.element.remove(),this.element=void 0),this._context=void 0,super.dispose()}},ls=class extends en{label;options;cssClass;constructor(e,t,i){super(e,t,i),this.options=i,this.options.icon=i.icon!==void 0?i.icon:!1,this.options.label=i.label!==void 0?i.label:!0,this.cssClass=""}render(e){super.render(e),dm(this.element);let t=document.createElement("a");if(t.classList.add("action-label"),t.setAttribute("role",this.getDefaultAriaRole()),this.label=t,this.element.appendChild(t),this.options.label&&this.options.keybinding){let i=document.createElement("span");i.classList.add("keybinding"),i.textContent=this.options.keybinding,this.element.appendChild(i)}this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}getDefaultAriaRole(){return this._action.id===oi.ID?"presentation":this.options.isMenu?"menuitem":this.options.isTabList?"tab":"button"}focus(){this.label&&(this.label.tabIndex=0,this.label.focus())}isFocused(){return!!this.label&&this.label?.tabIndex===0}blur(){this.label&&(this.label.tabIndex=-1)}setFocusable(e){this.label&&(this.label.tabIndex=e?0:-1)}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this.action.label)}getTooltip(){let e=null;return this.action.tooltip?e=this.action.tooltip:!this.options.label&&this.action.label&&this.options.icon&&(e=this.action.label,this.options.keybinding&&(e=p({key:"titleLabel",comment:["action title","action keybinding"]},"{0} ({1})",e,this.options.keybinding))),e??void 0}updateClass(){this.cssClass&&this.label&&this.label.classList.remove(...this.cssClass.split(" ")),this.options.icon?(this.cssClass=this.getClass(),this.label&&(this.label.classList.add("codicon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" "))),this.updateEnabled()):this.label?.classList.remove("codicon")}updateEnabled(){this.action.enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled")),this.element?.classList.remove("disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled")),this.element?.classList.add("disabled"))}updateAriaLabel(){if(this.label){let e=this.getTooltip()??"";this.label.setAttribute("aria-label",e)}}updateChecked(){this.label&&(this.action.checked!==void 0?(this.label.classList.toggle("checked",this.action.checked),this.options.isTabList?this.label.setAttribute("aria-selected",this.action.checked?"true":"false"):(this.label.setAttribute("aria-checked",this.action.checked?"true":"false"),this.label.setAttribute("role","checkbox"))):(this.label.classList.remove("checked"),this.label.removeAttribute(this.options.isTabList?"aria-selected":"aria-checked"),this.label.setAttribute("role",this.getDefaultAriaRole())))}};var Ki=class extends Q{options;_hoverDelegate;_actionRunner;_actionRunnerDisposables=this._register(new j);_context;_orientation;_triggerKeys;viewItems;viewItemDisposables=this._register(new io);previouslyFocusedItem;focusedItem;focusTracker;triggerKeyDown=!1;focusable=!0;domNode;actionsList;_onDidBlur=this._register(new L);onDidBlur=this._onDidBlur.event;_onDidCancel=this._register(new L({onWillAddFirstListener:()=>this.cancelHasListener=!0}));onDidCancel=this._onDidCancel.event;cancelHasListener=!1;_onDidRun=this._register(new L);onDidRun=this._onDidRun.event;_onWillRun=this._register(new L);onWillRun=this._onWillRun.event;constructor(e,t={}){super(),this.options=t,this._context=t.context??null,this._orientation=this.options.orientation??0,this._triggerKeys={keyDown:this.options.triggerKeys?.keyDown??!1,keys:this.options.triggerKeys?.keys??[3,10]},this._hoverDelegate=t.hoverDelegate??this._register(po()),this.options.actionRunner?this._actionRunner=this.options.actionRunner:(this._actionRunner=new mo,this._actionRunnerDisposables.add(this._actionRunner)),this._actionRunnerDisposables.add(this._actionRunner.onDidRun(r=>this._onDidRun.fire(r))),this._actionRunnerDisposables.add(this._actionRunner.onWillRun(r=>this._onWillRun.fire(r))),this.viewItems=[],this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar";let i,o;switch(this._orientation){case 0:i=[15],o=[17];break;case 1:i=[16],o=[18],this.domNode.className+=" vertical";break}this._register(J(this.domNode,pe.KEY_DOWN,r=>{let s=new He(r),a=!0,l=typeof this.focusedItem=="number"?this.viewItems[this.focusedItem]:void 0;i&&(s.equals(i[0])||s.equals(i[1]))?a=this.focusPrevious():o&&(s.equals(o[0])||s.equals(o[1]))?a=this.focusNext():s.equals(9)&&this.cancelHasListener?this._onDidCancel.fire():s.equals(14)?a=this.focusFirst():s.equals(13)?a=this.focusLast():s.equals(2)&&l instanceof en&&l.trapsArrowNavigation?a=this.focusNext(void 0,!0):this.isTriggerKeyEvent(s)?this._triggerKeys.keyDown?this.doTrigger(s):this.triggerKeyDown=!0:a=!1,a&&(s.preventDefault(),s.stopPropagation())})),this._register(J(this.domNode,pe.KEY_UP,r=>{let s=new He(r);this.isTriggerKeyEvent(s)?(!this._triggerKeys.keyDown&&this.triggerKeyDown&&(this.triggerKeyDown=!1,this.doTrigger(s)),s.preventDefault(),s.stopPropagation()):(s.equals(2)||s.equals(1026)||s.equals(16)||s.equals(18)||s.equals(15)||s.equals(17))&&this.updateFocusedItem()})),this.focusTracker=this._register(Ba(this.domNode)),this._register(this.focusTracker.onDidBlur(()=>{(Ai()===this.domNode||!mn(Ai(),this.domNode))&&(this._onDidBlur.fire(),this.previouslyFocusedItem=this.focusedItem,this.focusedItem=void 0,this.triggerKeyDown=!1)})),this._register(this.focusTracker.onDidFocus(()=>this.updateFocusedItem())),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.options.highlightToggledItems&&this.actionsList.classList.add("highlight-toggled"),this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"),this.options.ariaLabel&&this.actionsList.setAttribute("aria-label",this.options.ariaLabel),this.domNode.appendChild(this.actionsList),e.appendChild(this.domNode)}refreshRole(){this.length()>=1?this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"):this.actionsList.setAttribute("role","presentation")}setAriaLabel(e){e?this.actionsList.setAttribute("aria-label",e):this.actionsList.removeAttribute("aria-label")}setFocusable(e){if(this.focusable=e,this.focusable){let t=this.viewItems.find(i=>i instanceof en&&i.isEnabled());t instanceof en&&t.setFocusable(!0)}else this.viewItems.forEach(t=>{t instanceof en&&t.setFocusable(!1)})}isTriggerKeyEvent(e){let t=!1;return this._triggerKeys.keys.forEach(i=>{t=t||e.equals(i)}),t}updateFocusedItem(){for(let e=0;e<this.actionsList.children.length;e++){let t=this.actionsList.children[e];if(mn(Ai(),t)){this.focusedItem=e,this.viewItems[this.focusedItem]?.showHover?.();break}}}get context(){return this._context}set context(e){this._context=e,this.viewItems.forEach(t=>t.setActionContext(e))}get actionRunner(){return this._actionRunner}set actionRunner(e){this._actionRunner=e,this._actionRunnerDisposables.clear(),this._actionRunnerDisposables.add(this._actionRunner.onDidRun(t=>this._onDidRun.fire(t))),this._actionRunnerDisposables.add(this._actionRunner.onWillRun(t=>this._onWillRun.fire(t))),this.viewItems.forEach(t=>t.actionRunner=e)}getContainer(){return this.domNode}hasAction(e){return this.viewItems.findIndex(t=>t.action.id===e.id)!==-1}getAction(e){if(typeof e=="number")return this.viewItems[e]?.action;if(_t(e)){for(;e.parentElement!==this.actionsList;){if(!e.parentElement)return;e=e.parentElement}for(let t=0;t<this.actionsList.childNodes.length;t++)if(this.actionsList.childNodes[t]===e)return this.viewItems[t].action}}push(e,t={}){let i=Array.isArray(e)?e:[e],o=Ei(t.index)?t.index:null;i.forEach(r=>{let s=document.createElement("li");s.className="action-item",s.setAttribute("role","presentation");let a,l={hoverDelegate:this._hoverDelegate,...t,isTabList:this.options.ariaRole==="tablist"};this.options.actionViewItemProvider&&(a=this.options.actionViewItemProvider(r,l)),a||(a=new ls(this.context,r,l)),this.options.allowContextMenu||this.viewItemDisposables.set(a,J(s,pe.CONTEXT_MENU,d=>{$e.stop(d,!0)})),a.actionRunner=this._actionRunner,a.setActionContext(this.context),a.render(s),this.focusable&&a instanceof en&&this.viewItems.length===0&&a.setFocusable(!0),o===null||o<0||o>=this.actionsList.children.length?(this.actionsList.appendChild(s),this.viewItems.push(a)):(this.actionsList.insertBefore(s,this.actionsList.children[o]),this.viewItems.splice(o,0,a),o++)}),typeof this.focusedItem=="number"&&this.focus(this.focusedItem),this.refreshRole()}getWidth(e){if(e>=0&&e<this.actionsList.children.length){let t=this.actionsList.children.item(e);if(t)return t.clientWidth}return 0}getHeight(e){if(e>=0&&e<this.actionsList.children.length){let t=this.actionsList.children.item(e);if(t)return t.clientHeight}return 0}pull(e){e>=0&&e<this.viewItems.length&&(this.actionsList.childNodes[e].remove(),this.viewItemDisposables.deleteAndDispose(this.viewItems[e]),Ve(this.viewItems.splice(e,1)),this.refreshRole())}clear(){this.isEmpty()||(this.viewItems=Ve(this.viewItems),this.viewItemDisposables.clearAndDisposeAll(),mt(this.actionsList),this.refreshRole())}length(){return this.viewItems.length}isEmpty(){return this.viewItems.length===0}focus(e){let t=!1,i;if(e===void 0?t=!0:typeof e=="number"?i=e:typeof e=="boolean"&&(t=e),t&&typeof this.focusedItem>"u"){let o=this.viewItems.findIndex(r=>r.isEnabled());this.focusedItem=o===-1?void 0:o,this.updateFocus(void 0,void 0,!0)}else i!==void 0&&(this.focusedItem=i),this.updateFocus(void 0,void 0,!0)}focusFirst(){return this.focusedItem=this.length()-1,this.focusNext(!0)}focusLast(){return this.focusedItem=0,this.focusPrevious(!0)}focusNext(e,t){if(typeof this.focusedItem>"u")this.focusedItem=this.viewItems.length-1;else if(this.viewItems.length<=1)return!1;let i=this.focusedItem,o;do{if(!e&&this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=i,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,o=this.viewItems[this.focusedItem]}while(this.focusedItem!==i&&(this.options.focusOnlyEnabledItems&&!o.isEnabled()||o.action.id===oi.ID));return this.updateFocus(void 0,void 0,t),!0}focusPrevious(e){if(typeof this.focusedItem>"u")this.focusedItem=0;else if(this.viewItems.length<=1)return!1;let t=this.focusedItem,i;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(!e&&this.options.preventLoopNavigation)return this.focusedItem=t,!1;this.focusedItem=this.viewItems.length-1}i=this.viewItems[this.focusedItem]}while(this.focusedItem!==t&&(this.options.focusOnlyEnabledItems&&!i.isEnabled()||i.action.id===oi.ID));return this.updateFocus(!0),!0}updateFocus(e,t,i=!1){typeof this.focusedItem>"u"&&this.actionsList.focus({preventScroll:t}),this.previouslyFocusedItem!==void 0&&this.previouslyFocusedItem!==this.focusedItem&&this.viewItems[this.previouslyFocusedItem]?.blur();let o=this.focusedItem!==void 0?this.viewItems[this.focusedItem]:void 0;if(o){let r=!0;wa(o.focus)||(r=!1),this.options.focusOnlyEnabledItems&&wa(o.isEnabled)&&!o.isEnabled()&&(r=!1),o.action.id===oi.ID&&(r=!1),r?(i||this.previouslyFocusedItem!==this.focusedItem)&&(o.focus(e),this.previouslyFocusedItem=this.focusedItem):(this.actionsList.focus({preventScroll:t}),this.previouslyFocusedItem=void 0),r&&o.showHover?.()}}doTrigger(e){if(typeof this.focusedItem>"u")return;let t=this.viewItems[this.focusedItem];if(t instanceof en){let i=t._context===null||t._context===void 0?e:t._context;this.run(t._action,i)}}async run(e,t){await this._actionRunner.run(e,t)}dispose(){this._context=void 0,this.viewItems=Ve(this.viewItems),this.getContainer().remove(),super.dispose()}};var cT=p("caseDescription","Match Case"),uT=p("wordsDescription","Match Whole Word"),hT=p("regexDescription","Use Regular Expression"),hl=class extends ri{constructor(e){super({icon:Ce.caseSensitive,title:cT+e.appendTitle,isChecked:e.isChecked,hoverDelegate:e.hoverDelegate??dt("element"),inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}},pl=class extends ri{constructor(e){super({icon:Ce.wholeWord,title:uT+e.appendTitle,isChecked:e.isChecked,hoverDelegate:e.hoverDelegate??dt("element"),inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}},ml=class extends ri{constructor(e){super({icon:Ce.regex,title:hT+e.appendTitle,isChecked:e.isChecked,hoverDelegate:e.hoverDelegate??dt("element"),inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}};var fl=class{constructor(e,t=0,i=e.length,o=t-1){this.items=e;this.start=t;this.end=i;this.index=o}current(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]}next(){return this.index=Math.min(this.index+1,this.end),this.current()}previous(){return this.index=Math.max(this.index-1,this.start-1),this.current()}first(){return this.index=this.start,this.current()}last(){return this.index=this.end-1,this.current()}};var gl=class{_history;_limit;_navigator;constructor(e=[],t=10){this._initialize(e),this._limit=t,this._onChange()}getHistory(){return this._elements}add(e){this._history.delete(e),this._history.add(e),this._onChange()}next(){return this._navigator.next()}previous(){return this._currentPosition()!==0?this._navigator.previous():null}current(){return this._navigator.current()}first(){return this._navigator.first()}last(){return this._navigator.last()}isFirst(){return this._currentPosition()===0}isLast(){return this._currentPosition()>=this._elements.length-1}isNowhere(){return this._navigator.current()===null}has(e){return this._history.has(e)}clear(){this._initialize([]),this._onChange()}_onChange(){this._reduceToLimit();let e=this._elements;this._navigator=new fl(e,0,e.length,e.length)}_reduceToLimit(){let e=this._elements;e.length>this._limit&&this._initialize(e.slice(e.length-this._limit))}_currentPosition(){let e=this._navigator.current();return e?this._elements.indexOf(e):-1}_initialize(e){this._history=new Set;for(let t of e)this._history.add(t)}get _elements(){let e=[];return this._history.forEach(t=>e.push(t)),e}};var ds=Te;var kf={inputBackground:"#3C3C3C",inputForeground:"#CCCCCC",inputValidationInfoBorder:"#55AAFF",inputValidationInfoBackground:"#063B49",inputValidationWarningBorder:"#B89500",inputValidationWarningBackground:"#352A05",inputValidationErrorBorder:"#BE1100",inputValidationErrorBackground:"#5A1D1D",inputBorder:void 0,inputValidationErrorForeground:void 0,inputValidationInfoForeground:void 0,inputValidationWarningForeground:void 0},bl=class extends xt{contextViewProvider;element;input;actionbar;options;message;placeholder;tooltip;ariaLabel;validation;state="idle";mirror;cachedHeight;cachedContentHeight;maxHeight=Number.POSITIVE_INFINITY;scrollableElement;hover;_onDidChange=this._register(new L);onDidChange=this._onDidChange.event;_onDidHeightChange=this._register(new L);onDidHeightChange=this._onDidHeightChange.event;constructor(e,t,i){super(),this.contextViewProvider=t,this.options=i,this.message=null,this.placeholder=this.options.placeholder||"",this.tooltip=this.options.tooltip??(this.placeholder||""),this.ariaLabel=this.options.ariaLabel||"",this.options.validationOptions&&(this.validation=this.options.validationOptions.validation),this.element=Me(e,ds(".monaco-inputbox.idle"));let o=this.options.flexibleHeight?"textarea":"input",r=Me(this.element,ds(".ibwrapper"));if(this.input=Me(r,ds(o+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,()=>this.element.classList.add("synthetic-focus")),this.onblur(this.input,()=>this.element.classList.remove("synthetic-focus")),this.options.flexibleHeight){this.maxHeight=typeof this.options.flexibleMaxHeight=="number"?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=Me(r,ds("div.mirror")),this.mirror.innerText="\xA0",this.scrollableElement=new Ga(this.element,{vertical:1}),this.options.flexibleWidth&&(this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial"),Me(e,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll(l=>this.input.scrollTop=l.scrollTop));let s=this._register(new ie(e.ownerDocument,"selectionchange")),a=A.filter(s.event,()=>e.ownerDocument.getSelection()?.anchorNode===r);this._register(a(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");this.ariaLabel&&this.input.setAttribute("aria-label",this.ariaLabel),this.placeholder&&!this.options.showPlaceholderOnFocus&&this.setPlaceHolder(this.placeholder),this.tooltip&&this.setTooltip(this.tooltip),this.oninput(this.input,()=>this.onValueChange()),this.onblur(this.input,()=>this.onBlur()),this.onfocus(this.input,()=>this.onFocus()),this._register(this.ignoreGesture(this.input)),setTimeout(()=>this.updateMirror(),0),this.options.actions&&(this.actionbar=this._register(new Ki(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1})),this.applyStyles()}onBlur(){this._hideMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder","")}onFocus(){this._showMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder",this.placeholder||"")}setPlaceHolder(e){this.placeholder=e,this.input.setAttribute("placeholder",e)}setTooltip(e){this.tooltip=e,this.hover?this.hover.update(e):this.hover=this._register(Zt().setupManagedHover(dt("mouse"),this.input,e))}setAriaLabel(e){this.ariaLabel=e,e?this.input.setAttribute("aria-label",this.ariaLabel):this.input.removeAttribute("aria-label")}getAriaLabel(){return this.ariaLabel}get mirrorElement(){return this.mirror}get inputElement(){return this.input}get value(){return this.input.value}set value(e){this.input.value!==e&&(this.input.value=e,this.onValueChange())}get step(){return this.input.step}set step(e){this.input.step=e}get height(){return typeof this.cachedHeight=="number"?this.cachedHeight:Fa(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return $t(this.input)}select(e=null){this.input.select(),e&&(this.input.setSelectionRange(e.start,e.end),e.end===this.input.value.length&&(this.input.scrollLeft=this.input.scrollWidth))}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}getSelection(){let e=this.input.selectionStart;if(e===null)return null;let t=this.input.selectionEnd??e;return{start:e,end:t}}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}setEnabled(e){e?this.enable():this.disable()}get width(){return Jr(this.input)}set width(e){if(this.options.flexibleHeight&&this.options.flexibleWidth){let t=0;if(this.mirror){let i=parseFloat(this.mirror.style.paddingLeft||"")||0,o=parseFloat(this.mirror.style.paddingRight||"")||0;t=i+o}this.input.style.width=e-t+"px"}else this.input.style.width=e+"px";this.mirror&&(this.mirror.style.width=e+"px")}set paddingRight(e){this.input.style.width=`calc(100% - ${e}px)`,this.mirror&&(this.mirror.style.paddingRight=e+"px")}updateScrollDimensions(){if(typeof this.cachedContentHeight!="number"||typeof this.cachedHeight!="number"||!this.scrollableElement)return;let e=this.cachedContentHeight,t=this.cachedHeight,i=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:e,height:t}),this.scrollableElement.setScrollPosition({scrollTop:i})}showMessage(e,t){if(this.state==="open"&&or(this.message,e))return;this.message=e,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(e.type));let i=this.stylesForType(this.message.type);this.element.style.border=`1px solid ${Qt(i.border,"transparent")}`,this.message.content&&(this.hasFocus()||t)&&this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}isInputValid(){return!!this.validation&&!this.validation(this.value)}validate(){let e=null;return this.validation&&(e=this.validation(this.value),e?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(e)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),e?.type}stylesForType(e){let t=this.options.inputBoxStyles;switch(e){case 1:return{border:t.inputValidationInfoBorder,background:t.inputValidationInfoBackground,foreground:t.inputValidationInfoForeground};case 2:return{border:t.inputValidationWarningBorder,background:t.inputValidationWarningBackground,foreground:t.inputValidationWarningForeground};default:return{border:t.inputValidationErrorBorder,background:t.inputValidationErrorBackground,foreground:t.inputValidationErrorForeground}}}classForType(e){switch(e){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(!this.contextViewProvider||!this.message)return;let e,t=()=>e.style.width=Jr(this.element)+"px";this.contextViewProvider.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:o=>{if(!this.message)return null;e=Me(o,ds(".monaco-inputbox-container")),t();let r={inline:!0,className:"monaco-inputbox-message"},s=this.message.formatContent?wf(this.message.content,r):Sf(this.message.content,r);s.classList.add(this.classForType(this.message.type));let a=this.stylesForType(this.message.type);return s.style.backgroundColor=a.background??"",s.style.color=a.foreground??"",s.style.border=a.border?`1px solid ${a.border}`:"",Me(e,s),null},onHide:()=>{this.state="closed"},layout:t});let i;this.message.type===3?i=p("alertErrorMessage","Error: {0}",this.message.content):this.message.type===2?i=p("alertWarningMessage","Warning: {0}",this.message.content):i=p("alertInfoMessage","Info: {0}",this.message.content),Ri(i),this.state="open"}_hideMessage(){this.contextViewProvider&&(this.state==="open"&&this.contextViewProvider.hideContextView(),this.state="idle")}onValueChange(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),this.state==="open"&&this.contextViewProvider&&this.contextViewProvider.layout()}updateMirror(){if(!this.mirror)return;let e=this.value,i=e.charCodeAt(e.length-1)===10?" ":"";(e+i).replace(/\u000c/g,"")?this.mirror.textContent=e+i:this.mirror.innerText="\xA0",this.layout()}applyStyles(){let e=this.options.inputBoxStyles,t=e.inputBackground??"",i=e.inputForeground??"",o=e.inputBorder??"";this.element.style.backgroundColor=t,this.element.style.color=i,this.input.style.backgroundColor="inherit",this.input.style.color=i,this.element.style.border=`1px solid ${Qt(o,"transparent")}`}layout(){if(!this.mirror)return;let e=this.cachedContentHeight;this.cachedContentHeight=Fa(this.mirror),e!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}insertAtCursor(e){let t=this.inputElement,i=t.selectionStart,o=t.selectionEnd,r=t.value;i!==null&&o!==null&&(this.value=r.substr(0,i)+e+r.substr(o),t.setSelectionRange(i+1,i+1),this.layout())}dispose(){this._hideMessage(),this.message=null,this.actionbar?.dispose(),super.dispose()}},vl=class extends bl{history;observer;_onDidFocus=this._register(new L);onDidFocus=this._onDidFocus.event;_onDidBlur=this._register(new L);onDidBlur=this._onDidBlur.event;constructor(e,t,i){let o=p({key:"history.inputbox.hint.suffix.noparens",comment:['Text is the suffix of an input field placeholder coming after the action the input field performs, this will be used when the input field ends in a closing parenthesis ")", for example "Filter (e.g. text, !exclude)". The character inserted into the final string is \u21C5 to represent the up and down arrow keys.']}," or {0} for history","\u21C5"),r=p({key:"history.inputbox.hint.suffix.inparens",comment:['Text is the suffix of an input field placeholder coming after the action the input field performs, this will be used when the input field does NOT end in a closing parenthesis (eg. "Find"). The character inserted into the final string is \u21C5 to represent the up and down arrow keys.']}," ({0} for history)","\u21C5");super(e,t,i),this.history=new gl(i.history,100);let s=()=>{if(i.showHistoryHint&&i.showHistoryHint()&&!this.placeholder.endsWith(o)&&!this.placeholder.endsWith(r)&&this.history.getHistory().length){let a=this.placeholder.endsWith(")")?o:r,l=this.placeholder+a;i.showPlaceholderOnFocus&&!$t(this.input)?this.placeholder=l:this.setPlaceHolder(l)}};this.observer=new MutationObserver((a,l)=>{a.forEach(d=>{d.target.textContent||s()})}),this.observer.observe(this.input,{attributeFilter:["class"]}),this.onfocus(this.input,()=>s()),this.onblur(this.input,()=>{let a=l=>{if(this.placeholder.endsWith(l)){let d=this.placeholder.slice(0,this.placeholder.length-l.length);return i.showPlaceholderOnFocus?this.placeholder=d:this.setPlaceHolder(d),!0}else return!1};a(r)||a(o)})}dispose(){super.dispose(),this.observer&&(this.observer.disconnect(),this.observer=void 0)}addToHistory(e){this.value&&(e||this.value!==this.getCurrentValue())&&this.history.add(this.value)}prependHistory(e){let t=this.getHistory();this.clearHistory(),e.forEach(i=>{this.history.add(i)}),t.forEach(i=>{this.history.add(i)})}getHistory(){return this.history.getHistory()}isAtFirstInHistory(){return this.history.isFirst()}isAtLastInHistory(){return this.history.isLast()}isNowhereInHistory(){return this.history.isNowhere()}showNextValue(){this.history.has(this.value)||this.addToHistory();let e=this.getNextValue();e&&(e=e===this.value?this.getNextValue():e),this.value=e??"",Hc(this.value?this.value:p("clearedInput","Cleared Input"))}showPreviousValue(){this.history.has(this.value)||this.addToHistory();let e=this.getPreviousValue();e&&(e=e===this.value?this.getPreviousValue():e),e&&(this.value=e,Hc(this.value))}clearHistory(){this.history.clear()}setPlaceHolder(e){super.setPlaceHolder(e),this.setTooltip(e)}onBlur(){super.onBlur(),this._onDidBlur.fire()}onFocus(){super.onFocus(),this._onDidFocus.fire()}getCurrentValue(){let e=this.history.current();return e||(e=this.history.last(),this.history.next()),e}getPreviousValue(){return this.history.previous()||this.history.first()}getNextValue(){return this.history.next()}};var mT=p("defaultLabel","input"),yl=class extends xt{static OPTION_CHANGE="optionChange";placeholder;validation;label;showCommonFindToggles;fixFocusOnOptionClickEnabled=!0;imeSessionInProgress=!1;additionalTogglesDisposables=this._register(new Po);controls;regex;wholeWords;caseSensitive;additionalToggles=[];domNode;inputBox;_onDidOptionChange=this._register(new L);onDidOptionChange=this._onDidOptionChange.event;_onKeyDown=this._register(new L);onKeyDown=this._onKeyDown.event;_onMouseDown=this._register(new L);onMouseDown=this._onMouseDown.event;_onInput=this._register(new L);onInput=this._onInput.event;_onKeyUp=this._register(new L);onKeyUp=this._onKeyUp.event;_onCaseSensitiveKeyDown=this._register(new L);onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event;_onRegexKeyDown=this._register(new L);onRegexKeyDown=this._onRegexKeyDown.event;constructor(e,t,i){super(),this.placeholder=i.placeholder||"",this.validation=i.validation,this.label=i.label||mT,this.showCommonFindToggles=!!i.showCommonFindToggles;let o=i.appendCaseSensitiveLabel||"",r=i.appendWholeWordsLabel||"",s=i.appendRegexLabel||"",a=i.history||[],l=!!i.flexibleHeight,d=!!i.flexibleWidth,u=i.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new vl(this.domNode,t,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},history:a,showHistoryHint:i.showHistoryHint,flexibleHeight:l,flexibleWidth:d,flexibleMaxHeight:u,inputBoxStyles:i.inputBoxStyles}));let h=this._register(po());if(this.showCommonFindToggles){this.regex=this._register(new ml({appendTitle:s,isChecked:!1,hoverDelegate:h,...i.toggleStyles})),this._register(this.regex.onChange(T=>{this._onDidOptionChange.fire(T),!T&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.regex.onKeyDown(T=>{this._onRegexKeyDown.fire(T)})),this.wholeWords=this._register(new pl({appendTitle:r,isChecked:!1,hoverDelegate:h,...i.toggleStyles})),this._register(this.wholeWords.onChange(T=>{this._onDidOptionChange.fire(T),!T&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this.caseSensitive=this._register(new hl({appendTitle:o,isChecked:!1,hoverDelegate:h,...i.toggleStyles})),this._register(this.caseSensitive.onChange(T=>{this._onDidOptionChange.fire(T),!T&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.caseSensitive.onKeyDown(T=>{this._onCaseSensitiveKeyDown.fire(T)}));let g=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,T=>{if(T.equals(15)||T.equals(17)||T.equals(9)){let w=g.indexOf(this.domNode.ownerDocument.activeElement);if(w>=0){let v=-1;T.equals(17)?v=(w+1)%g.length:T.equals(15)&&(w===0?v=g.length-1:v=w-1),T.equals(9)?(g[w].blur(),this.inputBox.focus()):v>=0&&g[v].focus(),$e.stop(T,!0)}}})}this.controls=document.createElement("div"),this.controls.className="controls",this.controls.style.display=this.showCommonFindToggles?"":"none",this.caseSensitive&&this.controls.append(this.caseSensitive.domNode),this.wholeWords&&this.controls.appendChild(this.wholeWords.domNode),this.regex&&this.controls.appendChild(this.regex.domNode),this.setAdditionalToggles(i?.additionalToggles),this.controls&&this.domNode.appendChild(this.controls),e?.appendChild(this.domNode),this._register(J(this.inputBox.inputElement,"compositionstart",g=>{this.imeSessionInProgress=!0})),this._register(J(this.inputBox.inputElement,"compositionend",g=>{this.imeSessionInProgress=!1,this._onInput.fire()})),this.onkeydown(this.inputBox.inputElement,g=>this._onKeyDown.fire(g)),this.onkeyup(this.inputBox.inputElement,g=>this._onKeyUp.fire(g)),this.oninput(this.inputBox.inputElement,g=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,g=>this._onMouseDown.fire(g))}get isImeSessionInProgress(){return this.imeSessionInProgress}get onDidChange(){return this.inputBox.onDidChange}layout(e){this.inputBox.layout(),this.updateInputBoxPadding(e.collapsedFindWidget)}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.regex?.enable(),this.wholeWords?.enable(),this.caseSensitive?.enable();for(let e of this.additionalToggles)e.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.regex?.disable(),this.wholeWords?.disable(),this.caseSensitive?.disable();for(let e of this.additionalToggles)e.disable()}setFocusInputOnOptionClick(e){this.fixFocusOnOptionClickEnabled=e}setEnabled(e){e?this.enable():this.disable()}setAdditionalToggles(e){for(let t of this.additionalToggles)t.domNode.remove();this.additionalToggles=[],this.additionalTogglesDisposables.value=new j;for(let t of e??[])this.additionalTogglesDisposables.value.add(t),this.controls.appendChild(t.domNode),this.additionalTogglesDisposables.value.add(t.onChange(i=>{this._onDidOptionChange.fire(i),!i&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus()})),this.additionalToggles.push(t);this.additionalToggles.length>0&&(this.controls.style.display=""),this.updateInputBoxPadding()}updateInputBoxPadding(e=!1){e?this.inputBox.paddingRight=0:this.inputBox.paddingRight=(this.caseSensitive?.width()??0)+(this.wholeWords?.width()??0)+(this.regex?.width()??0)+this.additionalToggles.reduce((t,i)=>t+i.width(),0)}clear(){this.clearValidation(),this.setValue(""),this.focus()}getValue(){return this.inputBox.value}setValue(e){this.inputBox.value!==e&&(this.inputBox.value=e)}onSearchSubmit(){this.inputBox.addToHistory()}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){return this.caseSensitive?.checked??!1}setCaseSensitive(e){this.caseSensitive&&(this.caseSensitive.checked=e)}getWholeWords(){return this.wholeWords?.checked??!1}setWholeWords(e){this.wholeWords&&(this.wholeWords.checked=e)}getRegex(){return this.regex?.checked??!1}setRegex(e){this.regex&&(this.regex.checked=e,this.validate())}focusOnCaseSensitive(){this.caseSensitive?.focus()}focusOnRegex(){this.regex?.focus()}_lastHighlightFindOptions=0;highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}showMessage(e){this.inputBox.showMessage(e)}clearMessage(){this.inputBox.hideMessage()}clearValidation(){this.inputBox.hideMessage()}};var fn=class{originalStart;originalLength;modifiedStart;modifiedLength;constructor(e,t,i,o){this.originalStart=e,this.originalLength=t,this.modifiedStart=i,this.modifiedLength=o}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}};var zi=class{static Assert(e,t){if(!e)throw new Error(t)}},Ui=class{static Copy(e,t,i,o,r){for(let s=0;s<r;s++)i[o+s]=e[t+s]}static Copy2(e,t,i,o,r){for(let s=0;s<r;s++)i[o+s]=e[t+s]}};var Tl=class{m_changes;m_originalStart;m_modifiedStart;m_originalCount;m_modifiedCount;constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new fn(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(e,t){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,t),this.m_originalCount++}AddModifiedElement(e,t){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,t),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}},Il=class n{ContinueProcessingPredicate;_originalSequence;_modifiedSequence;_hasStrings;_originalStringElements;_originalElementsOrHash;_modifiedStringElements;_modifiedElementsOrHash;m_forwardHistory;m_reverseHistory;constructor(e,t,i=null){this.ContinueProcessingPredicate=i,this._originalSequence=e,this._modifiedSequence=t;let[o,r,s]=n._getElements(e),[a,l,d]=n._getElements(t);this._hasStrings=s&&d,this._originalStringElements=o,this._originalElementsOrHash=r,this._modifiedStringElements=a,this._modifiedElementsOrHash=l,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(e){return e.length>0&&typeof e[0]=="string"}static _getElements(e){let t=e.getElements();if(n._isStringArray(t)){let i=new Int32Array(t.length);for(let o=0,r=t.length;o<r;o++)i[o]=Aa(t[o],0);return[t,i,!0]}return t instanceof Int32Array?[[],t,!1]:[[],new Int32Array(t),!1]}ElementsAreEqual(e,t){return this._originalElementsOrHash[e]!==this._modifiedElementsOrHash[t]?!1:this._hasStrings?this._originalStringElements[e]===this._modifiedStringElements[t]:!0}ElementsAreStrictEqual(e,t){if(!this.ElementsAreEqual(e,t))return!1;let i=n._getStrictElement(this._originalSequence,e),o=n._getStrictElement(this._modifiedSequence,t);return i===o}static _getStrictElement(e,t){return typeof e.getStrictElement=="function"?e.getStrictElement(t):null}OriginalElementsAreEqual(e,t){return this._originalElementsOrHash[e]!==this._originalElementsOrHash[t]?!1:this._hasStrings?this._originalStringElements[e]===this._originalStringElements[t]:!0}ModifiedElementsAreEqual(e,t){return this._modifiedElementsOrHash[e]!==this._modifiedElementsOrHash[t]?!1:this._hasStrings?this._modifiedStringElements[e]===this._modifiedStringElements[t]:!0}ComputeDiff(e){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,e)}_ComputeDiff(e,t,i,o,r){let s=[!1],a=this.ComputeDiffRecursive(e,t,i,o,s);return r&&(a=this.PrettifyChanges(a)),{quitEarly:s[0],changes:a}}ComputeDiffRecursive(e,t,i,o,r){for(r[0]=!1;e<=t&&i<=o&&this.ElementsAreEqual(e,i);)e++,i++;for(;t>=e&&o>=i&&this.ElementsAreEqual(t,o);)t--,o--;if(e>t||i>o){let h;return i<=o?(zi.Assert(e===t+1,"originalStart should only be one more than originalEnd"),h=[new fn(e,0,i,o-i+1)]):e<=t?(zi.Assert(i===o+1,"modifiedStart should only be one more than modifiedEnd"),h=[new fn(e,t-e+1,i,0)]):(zi.Assert(e===t+1,"originalStart should only be one more than originalEnd"),zi.Assert(i===o+1,"modifiedStart should only be one more than modifiedEnd"),h=[]),h}let s=[0],a=[0],l=this.ComputeRecursionPoint(e,t,i,o,s,a,r),d=s[0],u=a[0];if(l!==null)return l;if(!r[0]){let h=this.ComputeDiffRecursive(e,d,i,u,r),g=[];return r[0]?g=[new fn(d+1,t-(d+1)+1,u+1,o-(u+1)+1)]:g=this.ComputeDiffRecursive(d+1,t,u+1,o,r),this.ConcatenateChanges(h,g)}return[new fn(e,t-e+1,i,o-i+1)]}WALKTRACE(e,t,i,o,r,s,a,l,d,u,h,g,T,w,v,E,P,R){let U=null,O=null,_=new Tl,H=t,B=i,N=T[0]-E[0]-o,Z=-1073741824,ve=this.m_forwardHistory.length-1;do{let ae=N+e;ae===H||ae<B&&d[ae-1]<d[ae+1]?(h=d[ae+1],w=h-N-o,h<Z&&_.MarkNextChange(),Z=h,_.AddModifiedElement(h+1,w),N=ae+1-e):(h=d[ae-1]+1,w=h-N-o,h<Z&&_.MarkNextChange(),Z=h-1,_.AddOriginalElement(h,w+1),N=ae-1-e),ve>=0&&(d=this.m_forwardHistory[ve],e=d[0],H=1,B=d.length-1)}while(--ve>=-1);if(U=_.getReverseChanges(),R[0]){let ae=T[0]+1,ne=E[0]+1;if(U!==null&&U.length>0){let vt=U[U.length-1];ae=Math.max(ae,vt.getOriginalEnd()),ne=Math.max(ne,vt.getModifiedEnd())}O=[new fn(ae,g-ae+1,ne,v-ne+1)]}else{_=new Tl,H=s,B=a,N=T[0]-E[0]-l,Z=1073741824,ve=P?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{let ae=N+r;ae===H||ae<B&&u[ae-1]>=u[ae+1]?(h=u[ae+1]-1,w=h-N-l,h>Z&&_.MarkNextChange(),Z=h+1,_.AddOriginalElement(h+1,w+1),N=ae+1-r):(h=u[ae-1],w=h-N-l,h>Z&&_.MarkNextChange(),Z=h,_.AddModifiedElement(h+1,w+1),N=ae-1-r),ve>=0&&(u=this.m_reverseHistory[ve],r=u[0],H=1,B=u.length-1)}while(--ve>=-1);O=_.getChanges()}return this.ConcatenateChanges(U,O)}ComputeRecursionPoint(e,t,i,o,r,s,a){let l=0,d=0,u=0,h=0,g=0,T=0;e--,i--,r[0]=0,s[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];let w=t-e+(o-i),v=w+1,E=new Int32Array(v),P=new Int32Array(v),R=o-i,U=t-e,O=e-i,_=t-o,B=(U-R)%2===0;E[R]=e,P[U]=t,a[0]=!1;for(let N=1;N<=w/2+1;N++){let Z=0,ve=0;u=this.ClipDiagonalBound(R-N,N,R,v),h=this.ClipDiagonalBound(R+N,N,R,v);for(let ne=u;ne<=h;ne+=2){ne===u||ne<h&&E[ne-1]<E[ne+1]?l=E[ne+1]:l=E[ne-1]+1,d=l-(ne-R)-O;let vt=l;for(;l<t&&d<o&&this.ElementsAreEqual(l+1,d+1);)l++,d++;if(E[ne]=l,l+d>Z+ve&&(Z=l,ve=d),!B&&Math.abs(ne-U)<=N-1&&l>=P[ne])return r[0]=l,s[0]=d,vt<=P[ne]&&N<=1448?this.WALKTRACE(R,u,h,O,U,g,T,_,E,P,l,t,r,d,o,s,B,a):null}let ae=(Z-e+(ve-i)-N)/2;if(this.ContinueProcessingPredicate!==null&&!this.ContinueProcessingPredicate(Z,ae))return a[0]=!0,r[0]=Z,s[0]=ve,ae>0&&N<=1448?this.WALKTRACE(R,u,h,O,U,g,T,_,E,P,l,t,r,d,o,s,B,a):(e++,i++,[new fn(e,t-e+1,i,o-i+1)]);g=this.ClipDiagonalBound(U-N,N,U,v),T=this.ClipDiagonalBound(U+N,N,U,v);for(let ne=g;ne<=T;ne+=2){ne===g||ne<T&&P[ne-1]>=P[ne+1]?l=P[ne+1]-1:l=P[ne-1],d=l-(ne-U)-_;let vt=l;for(;l>e&&d>i&&this.ElementsAreEqual(l,d);)l--,d--;if(P[ne]=l,B&&Math.abs(ne-R)<=N&&l<=E[ne])return r[0]=l,s[0]=d,vt>=E[ne]&&N<=1448?this.WALKTRACE(R,u,h,O,U,g,T,_,E,P,l,t,r,d,o,s,B,a):null}if(N<=1447){let ne=new Int32Array(h-u+2);ne[0]=R-u+1,Ui.Copy2(E,u,ne,1,h-u+1),this.m_forwardHistory.push(ne),ne=new Int32Array(T-g+2),ne[0]=U-g+1,Ui.Copy2(P,g,ne,1,T-g+1),this.m_reverseHistory.push(ne)}}return this.WALKTRACE(R,u,h,O,U,g,T,_,E,P,l,t,r,d,o,s,B,a)}PrettifyChanges(e){for(let t=0;t<e.length;t++){let i=e[t],o=t<e.length-1?e[t+1].originalStart:this._originalElementsOrHash.length,r=t<e.length-1?e[t+1].modifiedStart:this._modifiedElementsOrHash.length,s=i.originalLength>0,a=i.modifiedLength>0;for(;i.originalStart+i.originalLength<o&&i.modifiedStart+i.modifiedLength<r&&(!s||this.OriginalElementsAreEqual(i.originalStart,i.originalStart+i.originalLength))&&(!a||this.ModifiedElementsAreEqual(i.modifiedStart,i.modifiedStart+i.modifiedLength));){let d=this.ElementsAreStrictEqual(i.originalStart,i.modifiedStart);if(this.ElementsAreStrictEqual(i.originalStart+i.originalLength,i.modifiedStart+i.modifiedLength)&&!d)break;i.originalStart++,i.modifiedStart++}let l=[null];if(t<e.length-1&&this.ChangesOverlap(e[t],e[t+1],l)){e[t]=l[0],e.splice(t+1,1),t--;continue}}for(let t=e.length-1;t>=0;t--){let i=e[t],o=0,r=0;if(t>0){let h=e[t-1];o=h.originalStart+h.originalLength,r=h.modifiedStart+h.modifiedLength}let s=i.originalLength>0,a=i.modifiedLength>0,l=0,d=this._boundaryScore(i.originalStart,i.originalLength,i.modifiedStart,i.modifiedLength);for(let h=1;;h++){let g=i.originalStart-h,T=i.modifiedStart-h;if(g<o||T<r||s&&!this.OriginalElementsAreEqual(g,g+i.originalLength)||a&&!this.ModifiedElementsAreEqual(T,T+i.modifiedLength))break;let v=(g===o&&T===r?5:0)+this._boundaryScore(g,i.originalLength,T,i.modifiedLength);v>d&&(d=v,l=h)}i.originalStart-=l,i.modifiedStart-=l;let u=[null];if(t>0&&this.ChangesOverlap(e[t-1],e[t],u)){e[t-1]=u[0],e.splice(t,1),t++;continue}}if(this._hasStrings)for(let t=1,i=e.length;t<i;t++){let o=e[t-1],r=e[t],s=r.originalStart-o.originalStart-o.originalLength,a=o.originalStart,l=r.originalStart+r.originalLength,d=l-a,u=o.modifiedStart,h=r.modifiedStart+r.modifiedLength,g=h-u;if(s<5&&d<20&&g<20){let T=this._findBetterContiguousSequence(a,d,u,g,s);if(T){let[w,v]=T;(w!==o.originalStart+o.originalLength||v!==o.modifiedStart+o.modifiedLength)&&(o.originalLength=w-o.originalStart,o.modifiedLength=v-o.modifiedStart,r.originalStart=w+s,r.modifiedStart=v+s,r.originalLength=l-r.originalStart,r.modifiedLength=h-r.modifiedStart)}}}return e}_findBetterContiguousSequence(e,t,i,o,r){if(t<r||o<r)return null;let s=e+t-r+1,a=i+o-r+1,l=0,d=0,u=0;for(let h=e;h<s;h++)for(let g=i;g<a;g++){let T=this._contiguousSequenceScore(h,g,r);T>0&&T>l&&(l=T,d=h,u=g)}return l>0?[d,u]:null}_contiguousSequenceScore(e,t,i){let o=0;for(let r=0;r<i;r++){if(!this.ElementsAreEqual(e+r,t+r))return 0;o+=this._originalStringElements[e+r].length}return o}_OriginalIsBoundary(e){return e<=0||e>=this._originalElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._originalStringElements[e])}_OriginalRegionIsBoundary(e,t){if(this._OriginalIsBoundary(e)||this._OriginalIsBoundary(e-1))return!0;if(t>0){let i=e+t;if(this._OriginalIsBoundary(i-1)||this._OriginalIsBoundary(i))return!0}return!1}_ModifiedIsBoundary(e){return e<=0||e>=this._modifiedElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[e])}_ModifiedRegionIsBoundary(e,t){if(this._ModifiedIsBoundary(e)||this._ModifiedIsBoundary(e-1))return!0;if(t>0){let i=e+t;if(this._ModifiedIsBoundary(i-1)||this._ModifiedIsBoundary(i))return!0}return!1}_boundaryScore(e,t,i,o){let r=this._OriginalRegionIsBoundary(e,t)?1:0,s=this._ModifiedRegionIsBoundary(i,o)?1:0;return r+s}ConcatenateChanges(e,t){let i=[];if(e.length===0||t.length===0)return t.length>0?t:e;if(this.ChangesOverlap(e[e.length-1],t[0],i)){let o=new Array(e.length+t.length-1);return Ui.Copy(e,0,o,0,e.length-1),o[e.length-1]=i[0],Ui.Copy(t,1,o,e.length,t.length-1),o}else{let o=new Array(e.length+t.length);return Ui.Copy(e,0,o,0,e.length),Ui.Copy(t,0,o,e.length,t.length),o}}ChangesOverlap(e,t,i){if(zi.Assert(e.originalStart<=t.originalStart,"Left change is not less than or equal to right change"),zi.Assert(e.modifiedStart<=t.modifiedStart,"Left change is not less than or equal to right change"),e.originalStart+e.originalLength>=t.originalStart||e.modifiedStart+e.modifiedLength>=t.modifiedStart){let o=e.originalStart,r=e.originalLength,s=e.modifiedStart,a=e.modifiedLength;return e.originalStart+e.originalLength>=t.originalStart&&(r=t.originalStart+t.originalLength-e.originalStart),e.modifiedStart+e.modifiedLength>=t.modifiedStart&&(a=t.modifiedStart+t.modifiedLength-e.modifiedStart),i[0]=new fn(o,r,s,a),!0}else return i[0]=null,!1}ClipDiagonalBound(e,t,i,o){if(e>=0&&e<o)return e;let r=i,s=o-i-1,a=t%2===0;if(e<0){let l=r%2===0;return a===l?0:1}else{let l=s%2===0;return a===l?o-1:o-2}}};function cs(n){return typeof n=="object"&&"visibility"in n&&"data"in n}function fo(n){switch(n){case!0:return 1;case!1:return 0;default:return n}}function Tu(n){return typeof n.collapsible=="boolean"}var xl=class{constructor(e,t,i={}){this.user=e;this.collapseByDefault=typeof i.collapseByDefault>"u"?!1:i.collapseByDefault,this.allowNonCollapsibleParents=i.allowNonCollapsibleParents??!1,this.filter=i.filter,this.autoExpandSingleChildren=typeof i.autoExpandSingleChildren>"u"?!1:i.autoExpandSingleChildren,this.root={parent:void 0,element:t,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}rootRef=[];root;eventBufferer=new xi;_onDidSpliceModel=new L;onDidSpliceModel=this._onDidSpliceModel.event;_onDidSpliceRenderedNodes=new L;onDidSpliceRenderedNodes=this._onDidSpliceRenderedNodes.event;_onDidChangeCollapseState=new L;onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event);_onDidChangeRenderNodeCount=new L;onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event);collapseByDefault;allowNonCollapsibleParents;filter;autoExpandSingleChildren;refilterDelayer=new Cn(ha);splice(e,t,i=le.empty(),o={}){if(e.length===0)throw new Oe(this.user,"Invalid tree location");o.diffIdentityProvider?this.spliceSmart(o.diffIdentityProvider,e,t,i,o):this.spliceSimple(e,t,i,o)}spliceSmart(e,t,i,o=le.empty(),r,s=r.diffDepth??0){let{parentNode:a}=this.getParentNodeWithListIndex(t);if(!a.lastDiffIds)return this.spliceSimple(t,i,o,r);let l=[...o],d=t[t.length-1],u=new Il({getElements:()=>a.lastDiffIds},{getElements:()=>[...a.children.slice(0,d),...l,...a.children.slice(d+i)].map(v=>e.getId(v.element).toString())}).ComputeDiff(!1);if(u.quitEarly)return a.lastDiffIds=void 0,this.spliceSimple(t,i,l,r);let h=t.slice(0,-1),g=(v,E,P)=>{if(s>0)for(let R=0;R<P;R++)v--,E--,this.spliceSmart(e,[...h,v,0],Number.MAX_SAFE_INTEGER,l[E].children,r,s-1)},T=Math.min(a.children.length,d+i),w=l.length;for(let v of u.changes.sort((E,P)=>P.originalStart-E.originalStart))g(T,w,T-(v.originalStart+v.originalLength)),T=v.originalStart,w=v.modifiedStart-d,this.spliceSimple([...h,T],v.originalLength,le.slice(l,w,w+v.modifiedLength),r);g(T,w,T)}spliceSimple(e,t,i=le.empty(),{onDidCreateNode:o,onDidDeleteNode:r,diffIdentityProvider:s}){let{parentNode:a,listIndex:l,revealed:d,visible:u}=this.getParentNodeWithListIndex(e),h=[],g=le.map(i,_=>this.createTreeNode(_,a,a.visible?1:0,d,h,o)),T=e[e.length-1],w=0;for(let _=T;_>=0&&_<a.children.length;_--){let H=a.children[_];if(H.visible){w=H.visibleChildIndex;break}}let v=[],E=0,P=0;for(let _ of g)v.push(_),P+=_.renderNodeCount,_.visible&&(_.visibleChildIndex=w+E++);let R=Ed(a.children,T,t,v);s?a.lastDiffIds?Ed(a.lastDiffIds,T,t,v.map(_=>s.getId(_.element).toString())):a.lastDiffIds=a.children.map(_=>s.getId(_.element).toString()):a.lastDiffIds=void 0;let U=0;for(let _ of R)_.visible&&U++;if(U!==0)for(let _=T+v.length;_<a.children.length;_++){let H=a.children[_];H.visible&&(H.visibleChildIndex-=U)}if(a.visibleChildrenCount+=E-U,d&&u){let _=R.reduce((H,B)=>H+(B.visible?B.renderNodeCount:0),0);this._updateAncestorsRenderNodeCount(a,P-_),this._onDidSpliceRenderedNodes.fire({start:l,deleteCount:_,elements:h})}if(R.length>0&&r){let _=H=>{r(H),H.children.forEach(_)};R.forEach(_)}this._onDidSpliceModel.fire({insertedNodes:v,deletedNodes:R});let O=a;for(;O;){if(O.visibility===2){this.refilterDelayer.trigger(()=>this.refilter());break}O=O.parent}}rerender(e){if(e.length===0)throw new Oe(this.user,"Invalid tree location");let{node:t,listIndex:i,revealed:o}=this.getTreeNodeWithListIndex(e);t.visible&&o&&this._onDidSpliceRenderedNodes.fire({start:i,deleteCount:1,elements:[t]})}has(e){return this.hasTreeNode(e)}getListIndex(e){let{listIndex:t,visible:i,revealed:o}=this.getTreeNodeWithListIndex(e);return i&&o?t:-1}getListRenderCount(e){return this.getTreeNode(e).renderNodeCount}isCollapsible(e){return this.getTreeNode(e).collapsible}setCollapsible(e,t){let i=this.getTreeNode(e);typeof t>"u"&&(t=!i.collapsible);let o={collapsible:t};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(e,o))}isCollapsed(e){return this.getTreeNode(e).collapsed}setCollapsed(e,t,i){let o=this.getTreeNode(e);typeof t>"u"&&(t=!o.collapsed);let r={collapsed:t,recursive:i||!1};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(e,r))}_setCollapseState(e,t){let{node:i,listIndex:o,revealed:r}=this.getTreeNodeWithListIndex(e),s=this._setListNodeCollapseState(i,o,r,t);if(i!==this.root&&this.autoExpandSingleChildren&&s&&!Tu(t)&&i.collapsible&&!i.collapsed&&!t.recursive){let a=-1;for(let l=0;l<i.children.length;l++)if(i.children[l].visible)if(a>-1){a=-1;break}else a=l;a>-1&&this._setCollapseState([...e,a],t)}return s}_setListNodeCollapseState(e,t,i,o){let r=this._setNodeCollapseState(e,o,!1);if(!i||!e.visible||!r)return r;let s=e.renderNodeCount,a=this.updateNodeAfterCollapseChange(e),l=s-(t===-1?0:1);return this._onDidSpliceRenderedNodes.fire({start:t+1,deleteCount:l,elements:a.slice(1)}),r}_setNodeCollapseState(e,t,i){let o;if(e===this.root?o=!1:(Tu(t)?(o=e.collapsible!==t.collapsible,e.collapsible=t.collapsible):e.collapsible?(o=e.collapsed!==t.collapsed,e.collapsed=t.collapsed):o=!1,o&&this._onDidChangeCollapseState.fire({node:e,deep:i})),!Tu(t)&&t.recursive)for(let r of e.children)o=this._setNodeCollapseState(r,t,!0)||o;return o}expandTo(e){this.eventBufferer.bufferEvents(()=>{let t=this.getTreeNode(e);for(;t.parent;)t=t.parent,e=e.slice(0,e.length-1),t.collapsed&&this._setCollapseState(e,{collapsed:!1,recursive:!1})})}refilter(){let e=this.root.renderNodeCount,t=this.updateNodeAfterFilterChange(this.root);this._onDidSpliceRenderedNodes.fire({start:0,deleteCount:e,elements:t}),this.refilterDelayer.cancel()}createTreeNode(e,t,i,o,r,s){let a={parent:t,element:e.element,children:[],depth:t.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:typeof e.collapsible=="boolean"?e.collapsible:typeof e.collapsed<"u",collapsed:typeof e.collapsed>"u"?this.collapseByDefault:e.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},l=this._filterNode(a,i);a.visibility=l,o&&r.push(a);let d=e.children||le.empty(),u=o&&l!==0&&!a.collapsed,h=0,g=1;for(let T of d){let w=this.createTreeNode(T,a,l,u,r,s);a.children.push(w),g+=w.renderNodeCount,w.visible&&(w.visibleChildIndex=h++)}return this.allowNonCollapsibleParents||(a.collapsible=a.collapsible||a.children.length>0),a.visibleChildrenCount=h,a.visible=l===2?h>0:l===1,a.visible?a.collapsed||(a.renderNodeCount=g):(a.renderNodeCount=0,o&&r.pop()),s?.(a),a}updateNodeAfterCollapseChange(e){let t=e.renderNodeCount,i=[];return this._updateNodeAfterCollapseChange(e,i),this._updateAncestorsRenderNodeCount(e.parent,i.length-t),i}_updateNodeAfterCollapseChange(e,t){if(e.visible===!1)return 0;if(t.push(e),e.renderNodeCount=1,!e.collapsed)for(let i of e.children)e.renderNodeCount+=this._updateNodeAfterCollapseChange(i,t);return this._onDidChangeRenderNodeCount.fire(e),e.renderNodeCount}updateNodeAfterFilterChange(e){let t=e.renderNodeCount,i=[];return this._updateNodeAfterFilterChange(e,e.visible?1:0,i),this._updateAncestorsRenderNodeCount(e.parent,i.length-t),i}_updateNodeAfterFilterChange(e,t,i,o=!0){let r;if(e!==this.root){if(r=this._filterNode(e,t),r===0)return e.visible=!1,e.renderNodeCount=0,!1;o&&i.push(e)}let s=i.length;e.renderNodeCount=e===this.root?0:1;let a=!1;if(!e.collapsed||r!==0){let l=0;for(let d of e.children)a=this._updateNodeAfterFilterChange(d,r,i,o&&!e.collapsed)||a,d.visible&&(d.visibleChildIndex=l++);e.visibleChildrenCount=l}else e.visibleChildrenCount=0;return e!==this.root&&(e.visible=r===2?a:r===1,e.visibility=r),e.visible?e.collapsed||(e.renderNodeCount+=i.length-s):(e.renderNodeCount=0,o&&i.pop()),this._onDidChangeRenderNodeCount.fire(e),e.visible}_updateAncestorsRenderNodeCount(e,t){if(t!==0)for(;e;)e.renderNodeCount+=t,this._onDidChangeRenderNodeCount.fire(e),e=e.parent}_filterNode(e,t){let i=this.filter?this.filter.filter(e.element,t):1;return typeof i=="boolean"?(e.filterData=void 0,i?1:0):cs(i)?(e.filterData=i.data,fo(i.visibility)):(e.filterData=void 0,fo(i))}hasTreeNode(e,t=this.root){if(!e||e.length===0)return!0;let[i,...o]=e;return i<0||i>t.children.length?!1:this.hasTreeNode(o,t.children[i])}getTreeNode(e,t=this.root){if(!e||e.length===0)return t;let[i,...o]=e;if(i<0||i>t.children.length)throw new Oe(this.user,"Invalid tree location");return this.getTreeNode(o,t.children[i])}getTreeNodeWithListIndex(e){if(e.length===0)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};let{parentNode:t,listIndex:i,revealed:o,visible:r}=this.getParentNodeWithListIndex(e),s=e[e.length-1];if(s<0||s>t.children.length)throw new Oe(this.user,"Invalid tree location");let a=t.children[s];return{node:a,listIndex:i,revealed:o,visible:r&&a.visible}}getParentNodeWithListIndex(e,t=this.root,i=0,o=!0,r=!0){let[s,...a]=e;if(s<0||s>t.children.length)throw new Oe(this.user,"Invalid tree location");for(let l=0;l<s;l++)i+=t.children[l].renderNodeCount;return o=o&&!t.collapsed,r=r&&t.visible,a.length===0?{parentNode:t,listIndex:i,revealed:o,visible:r}:this.getParentNodeWithListIndex(a,t.children[s],i+1,o,r)}getNode(e=[]){return this.getTreeNode(e)}getNodeLocation(e){let t=[],i=e;for(;i.parent;)t.push(i.parent.children.indexOf(i)),i=i.parent;return t.reverse()}getParentNodeLocation(e){if(e.length!==0)return e.length===1?[]:ip(e)[0]}getFirstElementChild(e){let t=this.getTreeNode(e);if(t.children.length!==0)return t.children[0].element}getLastElementAncestor(e=[]){let t=this.getTreeNode(e);if(t.children.length!==0)return this._getLastElementAncestor(t)}_getLastElementAncestor(e){return e.children.length===0?e.element:this._getLastElementAncestor(e.children[e.children.length-1])}};var xu=class extends ii{constructor(t){super(t.elements.map(i=>i.element));this.data=t}set context(t){this.data.context=t}get context(){return this.data.context}};function Iu(n){return n instanceof ii?new xu(n):n}var Su=class{constructor(e,t){this.modelProvider=e;this.dnd=t}autoExpandNode;autoExpandDisposable=Q.None;disposables=new j;getDragURI(e){return this.dnd.getDragURI(e.element)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e.map(i=>i.element),t)}onDragStart(e,t){this.dnd.onDragStart?.(Iu(e),t)}onDragOver(e,t,i,o,r,s=!0){let a=this.dnd.onDragOver(Iu(e),t&&t.element,i,o,r),l=this.autoExpandNode!==t;if(l&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=t),typeof t>"u")return a;if(l&&typeof a!="boolean"&&a.autoExpand&&(this.autoExpandDisposable=qr(()=>{let T=this.modelProvider(),w=T.getNodeLocation(t);T.isCollapsed(w)&&T.setCollapsed(w,!1),this.autoExpandNode=void 0},500,this.disposables)),typeof a=="boolean"||!a.accept||typeof a.bubble>"u"||a.feedback){if(!s){let T=typeof a=="boolean"?a:a.accept,w=typeof a=="boolean"?void 0:a.effect;return{accept:T,effect:w,feedback:[i]}}return a}if(a.bubble===1){let T=this.modelProvider(),w=T.getNodeLocation(t),v=T.getParentNodeLocation(w),E=T.getNode(v),P=v&&T.getListIndex(v);return this.onDragOver(e,E,P,o,r,!1)}let d=this.modelProvider(),u=d.getNodeLocation(t),h=d.getListIndex(u),g=d.getListRenderCount(u);return{...a,feedback:nt(h,h+g)}}drop(e,t,i,o,r){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(Iu(e),t&&t.element,i,o,r)}onDragEnd(e){this.dnd.onDragEnd?.(e)}dispose(){this.disposables.dispose(),this.dnd.dispose()}};function fT(n,e){return e&&{...e,identityProvider:e.identityProvider&&{getId(t){return e.identityProvider.getId(t.element)}},dnd:e.dnd&&new Su(n,e.dnd),multipleSelectionController:e.multipleSelectionController&&{isSelectionSingleChangeEvent(t){return e.multipleSelectionController.isSelectionSingleChangeEvent({...t,element:t.element})},isSelectionRangeChangeEvent(t){return e.multipleSelectionController.isSelectionRangeChangeEvent({...t,element:t.element})}},accessibilityProvider:e.accessibilityProvider&&{...e.accessibilityProvider,getSetSize(t){let i=n(),o=i.getNodeLocation(t),r=i.getParentNodeLocation(o);return i.getNode(r).visibleChildrenCount},getPosInSet(t){return t.visibleChildIndex+1},isChecked:e.accessibilityProvider&&e.accessibilityProvider.isChecked?t=>e.accessibilityProvider.isChecked(t.element):void 0,getRole:e.accessibilityProvider&&e.accessibilityProvider.getRole?t=>e.accessibilityProvider.getRole(t.element):()=>"treeitem",getAriaLabel(t){return e.accessibilityProvider.getAriaLabel(t.element)},getWidgetAriaLabel(){return e.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:e.accessibilityProvider&&e.accessibilityProvider.getWidgetRole?()=>e.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:e.accessibilityProvider&&e.accessibilityProvider.getAriaLevel?t=>e.accessibilityProvider.getAriaLevel(t.element):t=>t.depth,getActiveDescendantId:e.accessibilityProvider.getActiveDescendantId&&(t=>e.accessibilityProvider.getActiveDescendantId(t.element))},keyboardNavigationLabelProvider:e.keyboardNavigationLabelProvider&&{...e.keyboardNavigationLabelProvider,getKeyboardNavigationLabel(t){return e.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t.element)}}}}var sr=class{constructor(e){this.delegate=e}getHeight(e){return this.delegate.getHeight(e.element)}getTemplateId(e){return this.delegate.getTemplateId(e.element)}hasDynamicHeight(e){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(e.element)}setDynamicHeight(e,t){this.delegate.setDynamicHeight?.(e.element,t)}},wu=class n{focus;selection;expanded;scrollTop;static lift(e){return e instanceof n?e:new n(e)}static empty(e=0){return new n({focus:[],selection:[],expanded:Object.create(null),scrollTop:e})}constructor(e){if(this.focus=new Set(e.focus),this.selection=new Set(e.selection),e.expanded instanceof Array){this.expanded=Object.create(null);for(let t of e.expanded)this.expanded[t]=1}else this.expanded=e.expanded;this.expanded=e.expanded,this.scrollTop=e.scrollTop}toJSON(){return{focus:Array.from(this.focus),selection:Array.from(this.selection),expanded:this.expanded,scrollTop:this.scrollTop}}};var Eu=class{constructor(e,t=[]){this._elements=t;this.onDidChange=A.forEach(e,i=>this._elements=i,this.disposables)}disposables=new j;onDidChange;get elements(){return this._elements}dispose(){this.disposables.dispose()}},Du=class n{constructor(e,t,i,o,r,s={}){this.renderer=e;this.model=t;this.activeNodes=o;this.renderedIndentGuides=r;this.templateId=e.templateId,this.updateOptions(s),A.map(i,a=>a.node)(this.onDidChangeNodeTwistieState,this,this.disposables),e.onDidChangeTwistieState?.(this.onDidChangeTwistieState,this,this.disposables)}static DefaultIndent=8;templateId;renderedElements=new Map;renderedNodes=new Map;indent=n.DefaultIndent;hideTwistiesOfChildlessElements=!1;shouldRenderIndentGuides=!1;activeIndentNodes=new Set;indentGuidesDisposable=Q.None;disposables=new j;updateOptions(e={}){if(typeof e.indent<"u"){let t=st(e.indent,0,40);if(t!==this.indent){this.indent=t;for(let[i,o]of this.renderedNodes)this.renderTreeElement(i,o)}}if(typeof e.renderIndentGuides<"u"){let t=e.renderIndentGuides!=="none";if(t!==this.shouldRenderIndentGuides){this.shouldRenderIndentGuides=t;for(let[i,o]of this.renderedNodes)this._renderIndentGuides(i,o);if(this.indentGuidesDisposable.dispose(),t){let i=new j;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,i),this.indentGuidesDisposable=i,this._onDidChangeActiveNodes(this.activeNodes.elements)}}}typeof e.hideTwistiesOfChildlessElements<"u"&&(this.hideTwistiesOfChildlessElements=e.hideTwistiesOfChildlessElements)}renderTemplate(e){let t=Me(e,Te(".monaco-tl-row")),i=Me(t,Te(".monaco-tl-indent")),o=Me(t,Te(".monaco-tl-twistie")),r=Me(t,Te(".monaco-tl-contents")),s=this.renderer.renderTemplate(r);return{container:e,indent:i,twistie:o,indentGuidesDisposable:Q.None,templateData:s}}renderElement(e,t,i,o){this.renderedNodes.set(e,i),this.renderedElements.set(e.element,e),this.renderTreeElement(e,i),this.renderer.renderElement(e,t,i.templateData,o)}disposeElement(e,t,i,o){i.indentGuidesDisposable.dispose(),this.renderer.disposeElement?.(e,t,i.templateData,o),typeof o=="number"&&(this.renderedNodes.delete(e),this.renderedElements.delete(e.element))}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}onDidChangeTwistieState(e){let t=this.renderedElements.get(e);t&&this.onDidChangeNodeTwistieState(t)}onDidChangeNodeTwistieState(e){let t=this.renderedNodes.get(e);t&&(this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderTreeElement(e,t))}renderTreeElement(e,t){let i=n.DefaultIndent+(e.depth-1)*this.indent;t.twistie.style.paddingLeft=`${i}px`,t.indent.style.width=`${i+this.indent-16}px`,e.collapsible?t.container.setAttribute("aria-expanded",String(!e.collapsed)):t.container.removeAttribute("aria-expanded"),t.twistie.classList.remove(...we.asClassNameArray(Ce.treeItemExpanded));let o=!1;this.renderer.renderTwistie&&(o=this.renderer.renderTwistie(e.element,t.twistie)),e.collapsible&&(!this.hideTwistiesOfChildlessElements||e.visibleChildrenCount>0)?(o||t.twistie.classList.add(...we.asClassNameArray(Ce.treeItemExpanded)),t.twistie.classList.add("collapsible"),t.twistie.classList.toggle("collapsed",e.collapsed)):t.twistie.classList.remove("collapsible","collapsed"),this._renderIndentGuides(e,t)}_renderIndentGuides(e,t){if(mt(t.indent),t.indentGuidesDisposable.dispose(),!this.shouldRenderIndentGuides)return;let i=new j;for(;;){let o=this.model.getNodeLocation(e),r=this.model.getParentNodeLocation(o);if(!r)break;let s=this.model.getNode(r),a=Te(".indent-guide",{style:`width: ${this.indent}px`});this.activeIndentNodes.has(s)&&a.classList.add("active"),t.indent.childElementCount===0?t.indent.appendChild(a):t.indent.insertBefore(a,t.indent.firstElementChild),this.renderedIndentGuides.add(s,a),i.add(ce(()=>this.renderedIndentGuides.delete(s,a))),e=s}t.indentGuidesDisposable=i}_onDidChangeActiveNodes(e){if(!this.shouldRenderIndentGuides)return;let t=new Set;e.forEach(i=>{let o=this.model.getNodeLocation(i);try{let r=this.model.getParentNodeLocation(o);i.collapsible&&i.children.length>0&&!i.collapsed?t.add(i):r&&t.add(this.model.getNode(r))}catch{}}),this.activeIndentNodes.forEach(i=>{t.has(i)||this.renderedIndentGuides.forEach(i,o=>o.classList.remove("active"))}),t.forEach(i=>{this.activeIndentNodes.has(i)||this.renderedIndentGuides.forEach(i,o=>o.classList.add("active"))}),this.activeIndentNodes=t}setModel(e){this.model=e}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),Ve(this.disposables)}},Cu=class{constructor(e,t,i){this.tree=e;this.keyboardNavigationLabelProvider=t;this._filter=i;e.onWillRefilter(this.reset,this,this.disposables)}_totalCount=0;get totalCount(){return this._totalCount}_matchCount=0;get matchCount(){return this._matchCount}_pattern="";_lowercasePattern="";disposables=new j;set pattern(e){this._pattern=e,this._lowercasePattern=e.toLowerCase()}filter(e,t){let i=1;if(this._filter){let s=this._filter.filter(e,t);if(typeof s=="boolean"?i=s?1:0:cs(s)?i=fo(s.visibility):i=s,i===0)return!1}if(this._totalCount++,!this._pattern)return this._matchCount++,{data:ho.Default,visibility:i};let o=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(e),r=Array.isArray(o)?o:[o];for(let s of r){let a=s&&s.toString();if(typeof a>"u")return{data:ho.Default,visibility:i};let l;if(this.tree.findMatchType===1){let d=a.toLowerCase().indexOf(this._lowercasePattern);if(d>-1){l=[Number.MAX_SAFE_INTEGER,0];for(let u=this._lowercasePattern.length;u>0;u--)l.push(d+u-1)}}else l=Jc(this._pattern,this._lowercasePattern,0,a,a.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(l)return this._matchCount++,r.length===1?{data:l,visibility:i}:{data:{label:a,score:l},visibility:i}}return this.tree.findMode===1?typeof this.tree.options.defaultFindVisibility=="number"?this.tree.options.defaultFindVisibility:this.tree.options.defaultFindVisibility?this.tree.options.defaultFindVisibility(e):2:{data:ho.Default,visibility:i}}reset(){this._totalCount=0,this._matchCount=0}dispose(){Ve(this.disposables)}},_u=class extends ri{constructor(e){super({icon:Ce.listFilter,title:p("filter","Filter"),isChecked:e.isChecked??!1,hoverDelegate:e.hoverDelegate??dt("element"),inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}},ku=class extends ri{constructor(e){super({icon:Ce.searchFuzzy,title:p("fuzzySearch","Fuzzy Match"),isChecked:e.isChecked??!1,hoverDelegate:e.hoverDelegate??dt("element"),inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}},gT={inputBoxStyles:kf,toggleStyles:_f,listFilterWidgetBackground:void 0,listFilterWidgetNoMatchesOutline:void 0,listFilterWidgetOutline:void 0,listFilterWidgetShadow:void 0};var Lu=class extends Q{constructor(t,i,o,r,s,a){super();this.tree=i;t.appendChild(this.elements.root),this._register(ce(()=>this.elements.root.remove()));let l=a?.styles??gT;l.listFilterWidgetBackground&&(this.elements.root.style.backgroundColor=l.listFilterWidgetBackground),l.listFilterWidgetShadow&&(this.elements.root.style.boxShadow=`0 0 8px 2px ${l.listFilterWidgetShadow}`);let d=this._register(po());this.modeToggle=this._register(new _u({...l.toggleStyles,isChecked:r===1,hoverDelegate:d})),this.matchTypeToggle=this._register(new ku({...l.toggleStyles,isChecked:s===0,hoverDelegate:d})),this.onDidChangeMode=A.map(this.modeToggle.onChange,()=>this.modeToggle.checked?1:0,this._store),this.onDidChangeMatchType=A.map(this.matchTypeToggle.onChange,()=>this.matchTypeToggle.checked?0:1,this._store),this.findInput=this._register(new yl(this.elements.findInput,o,{label:p("type to search","Type to search"),additionalToggles:[this.modeToggle,this.matchTypeToggle],showCommonFindToggles:!1,inputBoxStyles:l.inputBoxStyles,toggleStyles:l.toggleStyles,history:a?.history})),this.actionbar=this._register(new Ki(this.elements.actionbar)),this.mode=r;let u=this._register(new ie(this.findInput.inputBox.inputElement,"keydown")),h=A.chain(u.event,v=>v.map(E=>new He(E)));this._register(h(v=>{if(v.equals(3)){v.preventDefault(),v.stopPropagation(),this.findInput.inputBox.addToHistory(),this.tree.domFocus();return}if(v.equals(18)){v.preventDefault(),v.stopPropagation(),this.findInput.inputBox.isAtLastInHistory()||this.findInput.inputBox.isNowhereInHistory()?(this.findInput.inputBox.addToHistory(),this.tree.domFocus()):this.findInput.inputBox.showNextValue();return}if(v.equals(16)){v.preventDefault(),v.stopPropagation(),this.findInput.inputBox.showPreviousValue();return}}));let g=this._register(new Hi("close",p("close","Close"),"codicon codicon-close",!0,()=>this.dispose()));this.actionbar.push(g,{icon:!0,label:!1});let T=this._register(new ie(this.elements.grab,"mousedown"));this._register(T.event(v=>{let E=new j,P=E.add(new ie(me(v),"mousemove")),R=E.add(new ie(me(v),"mouseup")),U=this.right,O=v.pageX,_=this.top,H=v.pageY;this.elements.grab.classList.add("grabbing");let B=this.elements.root.style.transition;this.elements.root.style.transition="unset";let N=Z=>{let ve=Z.pageX-O;this.right=U-ve;let ae=Z.pageY-H;this.top=_+ae,this.layout()};E.add(P.event(N)),E.add(R.event(Z=>{N(Z),this.elements.grab.classList.remove("grabbing"),this.elements.root.style.transition=B,E.dispose()}))}));let w=A.chain(this._register(new ie(this.elements.grab,"keydown")).event,v=>v.map(E=>new He(E)));this._register(w(v=>{let E,P;if(v.keyCode===15?E=Number.POSITIVE_INFINITY:v.keyCode===17?E=0:v.keyCode===10&&(E=this.right===0?Number.POSITIVE_INFINITY:0),v.keyCode===16?P=0:v.keyCode===18&&(P=Number.POSITIVE_INFINITY),E!==void 0&&(v.preventDefault(),v.stopPropagation(),this.right=E,this.layout()),P!==void 0){v.preventDefault(),v.stopPropagation(),this.top=P;let R=this.elements.root.style.transition;this.elements.root.style.transition="unset",this.layout(),setTimeout(()=>{this.elements.root.style.transition=R},0)}})),this.onDidChangeValue=this.findInput.onDidChange}elements=Qr(".monaco-tree-type-filter",[Qr(".monaco-tree-type-filter-grab.codicon.codicon-debug-gripper@grab",{tabIndex:0}),Qr(".monaco-tree-type-filter-input@findInput"),Qr(".monaco-tree-type-filter-actionbar@actionbar")]);set mode(t){this.modeToggle.checked=t===1,this.findInput.inputBox.setPlaceHolder(t===1?p("type to filter","Type to filter"):p("type to search","Type to search"))}set matchType(t){this.matchTypeToggle.checked=t===0}get value(){return this.findInput.inputBox.value}set value(t){this.findInput.inputBox.value=t}modeToggle;matchTypeToggle;findInput;actionbar;width=0;right=0;top=0;_onDidDisable=new L;onDidDisable=this._onDidDisable.event;onDidChangeValue;onDidChangeMode;onDidChangeMatchType;getHistory(){return this.findInput.inputBox.getHistory()}focus(){this.findInput.focus()}select(){this.findInput.select(),this.findInput.inputBox.addToHistory(!0)}layout(t=this.width){this.width=t,this.right=st(this.right,0,Math.max(0,t-212)),this.elements.root.style.right=`${this.right}px`,this.top=st(this.top,0,24),this.elements.root.style.top=`${this.top}px`}showMessage(t){this.findInput.showMessage(t)}clearMessage(){this.findInput.clearMessage()}async dispose(){this._onDidDisable.fire(),this.elements.root.classList.add("disabled"),await Li(300),super.dispose()}},Au=class{constructor(e,t,i,o,r={}){this.tree=e;this.view=t;this.filter=i;this.contextViewProvider=o;this.options=r;this._mode=e.options.defaultFindMode??0,this._matchType=e.options.defaultFindMatchType??0}_history;_pattern="";get pattern(){return this._pattern}previousPattern="";_mode;get mode(){return this._mode}set mode(e){e!==this._mode&&(this._mode=e,this.widget&&(this.widget.mode=this._mode),this.tree.refilter(),this.render(),this._onDidChangeMode.fire(e))}_matchType;get matchType(){return this._matchType}set matchType(e){e!==this._matchType&&(this._matchType=e,this.widget&&(this.widget.matchType=this._matchType),this.tree.refilter(),this.render(),this._onDidChangeMatchType.fire(e))}widget;width=0;_onDidChangeMode=new L;onDidChangeMode=this._onDidChangeMode.event;_onDidChangeMatchType=new L;onDidChangeMatchType=this._onDidChangeMatchType.event;_onDidChangePattern=new L;onDidChangePattern=this._onDidChangePattern.event;_onDidChangeOpenState=new L;onDidChangeOpenState=this._onDidChangeOpenState.event;enabledDisposables=new j;disposables=new j;updateOptions(e={}){e.defaultFindMode!==void 0&&(this.mode=e.defaultFindMode),e.defaultFindMatchType!==void 0&&(this.matchType=e.defaultFindMatchType)}isOpened(){return!!this.widget}open(){if(this.widget){this.widget.focus(),this.widget.select();return}this.widget=new Lu(this.view.getHTMLElement(),this.tree,this.contextViewProvider,this.mode,this.matchType,{...this.options,history:this._history}),this.enabledDisposables.add(this.widget),this.widget.onDidChangeValue(this.onDidChangeValue,this,this.enabledDisposables),this.widget.onDidChangeMode(e=>this.mode=e,void 0,this.enabledDisposables),this.widget.onDidChangeMatchType(e=>this.matchType=e,void 0,this.enabledDisposables),this.widget.onDidDisable(this.close,this,this.enabledDisposables),this.widget.layout(this.width),this.widget.focus(),this.widget.value=this.previousPattern,this.widget.select(),this._onDidChangeOpenState.fire(!0)}close(){this.widget&&(this._history=this.widget.getHistory(),this.widget=void 0,this.enabledDisposables.clear(),this.previousPattern=this.pattern,this.onDidChangeValue(""),this.tree.domFocus(),this._onDidChangeOpenState.fire(!1))}onDidChangeValue(e){this._pattern=e,this._onDidChangePattern.fire(e),this.filter.pattern=e,this.tree.refilter(),e&&this.tree.focusNext(0,!0,void 0,i=>!ho.isDefault(i.filterData));let t=this.tree.getFocus();if(t.length>0){let i=t[0];this.tree.getRelativeTop(i)===null&&this.tree.reveal(i,.5)}this.render()}render(){let e=this.filter.totalCount>0&&this.filter.matchCount===0;this.pattern&&e?(Ri(p("replFindNoResults","No results")),this.tree.options.showNotFoundMessage??!0?this.widget?.showMessage({type:2,content:p("not found","No elements found.")}):this.widget?.showMessage({type:2})):(this.widget?.clearMessage(),this.pattern&&Ri(p("replFindResults","{0} results",this.filter.matchCount)))}shouldAllowFocus(e){return!this.widget||!this.pattern||this.filter.totalCount>0&&this.filter.matchCount<=1?!0:!ho.isDefault(e.filterData)}layout(e){this.width=e,this.widget?.layout(e)}dispose(){this._history=void 0,this._onDidChangePattern.dispose(),this.enabledDisposables.dispose(),this.disposables.dispose()}};function bT(n,e){return n.position===e.position&&Af(n,e)}function Af(n,e){return n.node.element===e.node.element&&n.startIndex===e.startIndex&&n.height===e.height&&n.endIndex===e.endIndex}var Nu=class{constructor(e=[]){this.stickyNodes=e}get count(){return this.stickyNodes.length}equal(e){return rn(this.stickyNodes,e.stickyNodes,bT)}lastNodePartiallyVisible(){if(this.count===0)return!1;let e=this.stickyNodes[this.count-1];if(this.count===1)return e.position!==0;let t=this.stickyNodes[this.count-2];return t.position+t.height!==e.position}animationStateChanged(e){if(!rn(this.stickyNodes,e.stickyNodes,Af)||this.count===0)return!1;let t=this.stickyNodes[this.count-1],i=e.stickyNodes[e.count-1];return t.position!==i.position}},Mu=class{constrainStickyScrollNodes(e,t,i){for(let o=0;o<e.length;o++){let r=e[o];if(r.position+r.height>i||o>=t)return e.slice(0,o)}return e}},wl=class extends Q{constructor(t,i,o,r,s,a={}){super();this.tree=t;this.model=i;this.view=o;this.treeDelegate=s;let l=this.validateStickySettings(a);this.stickyScrollMaxItemCount=l.stickyScrollMaxItemCount,this.stickyScrollDelegate=a.stickyScrollDelegate??new Mu,this._widget=this._register(new Ru(o.getScrollableElement(),o,t,r,s,a.accessibilityProvider)),this.onDidChangeHasFocus=this._widget.onDidChangeHasFocus,this.onContextMenu=this._widget.onContextMenu,this._register(o.onDidScroll(()=>this.update())),this._register(o.onDidChangeContentHeight(()=>this.update())),this._register(t.onDidChangeCollapseState(()=>this.update())),this.update()}onDidChangeHasFocus;onContextMenu;stickyScrollDelegate;stickyScrollMaxItemCount;maxWidgetViewRatio=.4;_widget;get height(){return this._widget.height}get count(){return this._widget.count}getNode(t){return this._widget.getNode(t)}getNodeAtHeight(t){let i;if(t===0?i=this.view.firstVisibleIndex:i=this.view.indexAt(t+this.view.scrollTop),!(i<0||i>=this.view.length))return this.view.element(i)}update(){let t=this.getNodeAtHeight(0);if(!t||this.tree.scrollTop===0){this._widget.setState(void 0);return}let i=this.findStickyState(t);this._widget.setState(i)}findStickyState(t){let i=[],o=t,r=0,s=this.getNextStickyNode(o,void 0,r);for(;s&&(i.push(s),r+=s.height,!(i.length<=this.stickyScrollMaxItemCount&&(o=this.getNextVisibleNode(s),!o)));)s=this.getNextStickyNode(o,s.node,r);let a=this.constrainStickyNodes(i);return a.length?new Nu(a):void 0}getNextVisibleNode(t){return this.getNodeAtHeight(t.position+t.height)}getNextStickyNode(t,i,o){let r=this.getAncestorUnderPrevious(t,i);if(r&&!(r===t&&(!this.nodeIsUncollapsedParent(t)||this.nodeTopAlignsWithStickyNodesBottom(t,o))))return this.createStickyScrollNode(r,o)}nodeTopAlignsWithStickyNodesBottom(t,i){let o=this.getNodeIndex(t),r=this.view.getElementTop(o),s=i;return this.view.scrollTop===r-s}createStickyScrollNode(t,i){let o=this.treeDelegate.getHeight(t),{startIndex:r,endIndex:s}=this.getNodeRange(t),a=this.calculateStickyNodePosition(s,i,o);return{node:t,position:a,height:o,startIndex:r,endIndex:s}}getAncestorUnderPrevious(t,i=void 0){let o=t,r=this.getParentNode(o);for(;r;){if(r===i)return o;o=r,r=this.getParentNode(o)}if(i===void 0)return o}calculateStickyNodePosition(t,i,o){let r=this.view.getRelativeTop(t);if(r===null&&this.view.firstVisibleIndex===t&&t+1<this.view.length){let u=this.treeDelegate.getHeight(this.view.element(t)),h=this.view.getRelativeTop(t+1);r=h?h-u/this.view.renderHeight:null}if(r===null)return i;let s=this.view.element(t),a=this.treeDelegate.getHeight(s),d=r*this.view.renderHeight+a;return i+o>d&&i<=d?d-o:i}constrainStickyNodes(t){if(t.length===0)return[];let i=this.view.renderHeight*this.maxWidgetViewRatio,o=t[t.length-1];if(t.length<=this.stickyScrollMaxItemCount&&o.position+o.height<=i)return t;let r=this.stickyScrollDelegate.constrainStickyScrollNodes(t,this.stickyScrollMaxItemCount,i);if(!r.length)return[];let s=r[r.length-1];if(r.length>this.stickyScrollMaxItemCount||s.position+s.height>i)throw new Error("stickyScrollDelegate violates constraints");return r}getParentNode(t){let i=this.model.getNodeLocation(t),o=this.model.getParentNodeLocation(i);return o?this.model.getNode(o):void 0}nodeIsUncollapsedParent(t){let i=this.model.getNodeLocation(t);return this.model.getListRenderCount(i)>1}getNodeIndex(t){let i=this.model.getNodeLocation(t);return this.model.getListIndex(i)}getNodeRange(t){let i=this.model.getNodeLocation(t),o=this.model.getListIndex(i);if(o<0)throw new Error("Node not found in tree");let r=this.model.getListRenderCount(i),s=o+r-1;return{startIndex:o,endIndex:s}}nodePositionTopBelowWidget(t){let i=[],o=this.getParentNode(t);for(;o;)i.push(o),o=this.getParentNode(o);let r=0;for(let s=0;s<i.length&&s<this.stickyScrollMaxItemCount;s++)r+=this.treeDelegate.getHeight(i[s]);return r}getFocus(){return this._widget.getFocus()}domFocus(){this._widget.domFocus()}focusedLast(){return this._widget.focusedLast()}updateOptions(t={}){if(!t.stickyScrollMaxItemCount)return;let i=this.validateStickySettings(t);this.stickyScrollMaxItemCount!==i.stickyScrollMaxItemCount&&(this.stickyScrollMaxItemCount=i.stickyScrollMaxItemCount,this.update())}validateStickySettings(t){let i=7;return typeof t.stickyScrollMaxItemCount=="number"&&(i=Math.max(t.stickyScrollMaxItemCount,1)),{stickyScrollMaxItemCount:i}}setModel(t){this.model=t}},Ru=class{constructor(e,t,i,o,r,s){this.view=t;this.tree=i;this.treeRenderers=o;this.treeDelegate=r;this.accessibilityProvider=s;this._rootDomNode=Te(".monaco-tree-sticky-container.empty"),e.appendChild(this._rootDomNode);let a=Te(".monaco-tree-sticky-container-shadow");this._rootDomNode.appendChild(a),this.stickyScrollFocus=new Ou(this._rootDomNode,t),this.onDidChangeHasFocus=this.stickyScrollFocus.onDidChangeHasFocus,this.onContextMenu=this.stickyScrollFocus.onContextMenu}_rootDomNode;_previousState;_previousElements=[];_previousStateDisposables=new j;stickyScrollFocus;onDidChangeHasFocus;onContextMenu;get height(){if(!this._previousState)return 0;let e=this._previousState.stickyNodes[this._previousState.count-1];return e.position+e.height}get count(){return this._previousState?.count??0}getNode(e){return this._previousState?.stickyNodes.find(t=>t.node===e)}setState(e){let t=!!this._previousState&&this._previousState.count>0,i=!!e&&e.count>0;if(!t&&!i||t&&i&&this._previousState.equal(e))return;if(t!==i&&this.setVisible(i),!i){this._previousState=void 0,this._previousElements=[],this._previousStateDisposables.clear();return}let o=e.stickyNodes[e.count-1];if(this._previousState&&e.animationStateChanged(this._previousState))this._previousElements[this._previousState.count-1].style.top=`${o.position}px`;else{this._previousStateDisposables.clear();let r=Array(e.count);for(let s=e.count-1;s>=0;s--){let a=e.stickyNodes[s],{element:l,disposable:d}=this.createElement(a,s,e.count);r[s]=l,this._rootDomNode.appendChild(l),this._previousStateDisposables.add(d)}this.stickyScrollFocus.updateElements(r,e),this._previousElements=r}this._previousState=e,this._rootDomNode.style.height=`${o.position+o.height}px`}createElement(e,t,i){let o=e.startIndex,r=document.createElement("div");r.style.top=`${e.position}px`,this.tree.options.setRowHeight!==!1&&(r.style.height=`${e.height}px`),this.tree.options.setRowLineHeight!==!1&&(r.style.lineHeight=`${e.height}px`),r.classList.add("monaco-tree-sticky-row"),r.classList.add("monaco-list-row"),r.setAttribute("data-index",`${o}`),r.setAttribute("data-parity",o%2===0?"even":"odd"),r.setAttribute("id",this.view.getElementID(o));let s=this.setAccessibilityAttributes(r,e.node.element,t,i),a=this.treeDelegate.getTemplateId(e.node),l=this.treeRenderers.find(g=>g.templateId===a);if(!l)throw new Error(`No renderer found for template id ${a}`);let d=e.node;d===this.tree.getNode(this.tree.getNodeLocation(e.node))&&(d=new Proxy(e.node,{}));let u=l.renderTemplate(r);l.renderElement(d,e.startIndex,u,e.height);let h=ce(()=>{s.dispose(),l.disposeElement(d,e.startIndex,u,e.height),l.disposeTemplate(u),r.remove()});return{element:r,disposable:h}}setAccessibilityAttributes(e,t,i,o){if(!this.accessibilityProvider)return Q.None;this.accessibilityProvider.getSetSize&&e.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(t,i,o))),this.accessibilityProvider.getPosInSet&&e.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(t,i))),this.accessibilityProvider.getRole&&e.setAttribute("role",this.accessibilityProvider.getRole(t)??"treeitem");let r=this.accessibilityProvider.getAriaLabel(t),s=r&&typeof r!="string"?r:Fr(r),a=Jn(d=>{let u=d.readObservable(s);u?e.setAttribute("aria-label",u):e.removeAttribute("aria-label")});typeof r=="string"||r&&e.setAttribute("aria-label",r.get());let l=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(t);return typeof l=="number"&&e.setAttribute("aria-level",`${l}`),e.setAttribute("aria-selected",String(!1)),a}setVisible(e){this._rootDomNode.classList.toggle("empty",!e),e||this.stickyScrollFocus.updateElements([],void 0)}getFocus(){return this.stickyScrollFocus.getFocus()}domFocus(){this.stickyScrollFocus.domFocus()}focusedLast(){return this.stickyScrollFocus.focusedLast()}dispose(){this.stickyScrollFocus.dispose(),this._previousStateDisposables.dispose(),this._rootDomNode.remove()}},Ou=class extends Q{constructor(t,i){super();this.container=t;this.view=i;this._register(J(this.container,"focus",()=>this.onFocus())),this._register(J(this.container,"blur",()=>this.onBlur())),this._register(this.view.onDidFocus(()=>this.toggleStickyScrollFocused(!1))),this._register(this.view.onKeyDown(o=>this.onKeyDown(o))),this._register(this.view.onMouseDown(o=>this.onMouseDown(o))),this._register(this.view.onContextMenu(o=>this.handleContextMenu(o)))}focusedIndex=-1;elements=[];state;_onDidChangeHasFocus=new L;onDidChangeHasFocus=this._onDidChangeHasFocus.event;_onContextMenu=new L;onContextMenu=this._onContextMenu.event;_domHasFocus=!1;get domHasFocus(){return this._domHasFocus}set domHasFocus(t){t!==this._domHasFocus&&(this._onDidChangeHasFocus.fire(t),this._domHasFocus=t)}handleContextMenu(t){let i=t.browserEvent.target;if(!nr(i)&&!tr(i)){this.focusedLast()&&this.view.domFocus();return}if(!kn(t.browserEvent)){if(!this.state)throw new Error("Context menu should not be triggered when state is undefined");let a=this.state.stickyNodes.findIndex(l=>l.node.element===t.element?.element);if(a===-1)throw new Error("Context menu should not be triggered when element is not in sticky scroll widget");this.container.focus(),this.setFocus(a);return}if(!this.state||this.focusedIndex<0)throw new Error("Context menu key should not be triggered when focus is not in sticky scroll widget");let r=this.state.stickyNodes[this.focusedIndex].node.element,s=this.elements[this.focusedIndex];this._onContextMenu.fire({element:r,anchor:s,browserEvent:t.browserEvent,isStickyScroll:!0})}onKeyDown(t){if(this.domHasFocus&&this.state){if(t.key==="ArrowUp")this.setFocusedElement(Math.max(0,this.focusedIndex-1)),t.preventDefault(),t.stopPropagation();else if(t.key==="ArrowDown"||t.key==="ArrowRight"){if(this.focusedIndex>=this.state.count-1){let i=this.state.stickyNodes[this.state.count-1].startIndex+1;this.view.domFocus(),this.view.setFocus([i]),this.scrollNodeUnderWidget(i,this.state)}else this.setFocusedElement(this.focusedIndex+1);t.preventDefault(),t.stopPropagation()}}}onMouseDown(t){let i=t.browserEvent.target;!nr(i)&&!tr(i)||(t.browserEvent.preventDefault(),t.browserEvent.stopPropagation())}updateElements(t,i){if(i&&i.count===0)throw new Error("Sticky scroll state must be undefined when there are no sticky nodes");if(i&&i.count!==t.length)throw new Error("Sticky scroll focus received illigel state");let o=this.focusedIndex;if(this.removeFocus(),this.elements=t,this.state=i,i){let r=st(o,0,i.count-1);this.setFocus(r)}else this.domHasFocus&&this.view.domFocus();this.container.tabIndex=i?0:-1}setFocusedElement(t){let i=this.state;if(!i)throw new Error("Cannot set focus when state is undefined");if(this.setFocus(t),!(t<i.count-1)&&i.lastNodePartiallyVisible()){let o=i.stickyNodes[t];this.scrollNodeUnderWidget(o.endIndex+1,i)}}scrollNodeUnderWidget(t,i){let o=i.stickyNodes[i.count-1],r=i.count>1?i.stickyNodes[i.count-2]:void 0,s=this.view.getElementTop(t),a=r?r.position+r.height+o.height:o.height;this.view.scrollTop=s-a}getFocus(){if(!(!this.state||this.focusedIndex===-1))return this.state.stickyNodes[this.focusedIndex].node.element}domFocus(){if(!this.state)throw new Error("Cannot focus when state is undefined");this.container.focus()}focusedLast(){return this.state?this.view.getHTMLElement().classList.contains("sticky-scroll-focused"):!1}removeFocus(){this.focusedIndex!==-1&&(this.toggleElementFocus(this.elements[this.focusedIndex],!1),this.focusedIndex=-1)}setFocus(t){if(0>t)throw new Error("addFocus() can not remove focus");if(!this.state&&t>=0)throw new Error("Cannot set focus index when state is undefined");if(this.state&&t>=this.state.count)throw new Error("Cannot set focus index to an index that does not exist");let i=this.focusedIndex;i>=0&&this.toggleElementFocus(this.elements[i],!1),t>=0&&this.toggleElementFocus(this.elements[t],!0),this.focusedIndex=t}toggleElementFocus(t,i){this.toggleElementActiveFocus(t,i&&this.domHasFocus),this.toggleElementPassiveFocus(t,i)}toggleCurrentElementActiveFocus(t){this.focusedIndex!==-1&&this.toggleElementActiveFocus(this.elements[this.focusedIndex],t)}toggleElementActiveFocus(t,i){t.classList.toggle("focused",i)}toggleElementPassiveFocus(t,i){t.classList.toggle("passive-focused",i)}toggleStickyScrollFocused(t){this.view.getHTMLElement().classList.toggle("sticky-scroll-focused",t)}onFocus(){if(!this.state||this.elements.length===0)throw new Error("Cannot focus when state is undefined or elements are empty");this.domHasFocus=!0,this.toggleStickyScrollFocused(!0),this.toggleCurrentElementActiveFocus(!0),this.focusedIndex===-1&&this.setFocus(0)}onBlur(){this.domHasFocus=!1,this.toggleCurrentElementActiveFocus(!1)}dispose(){this.toggleStickyScrollFocused(!1),this._onDidChangeHasFocus.fire(!1),super.dispose()}};function rr(n){let e=0;return Pa(n.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?e=1:Pa(n.browserEvent.target,"monaco-tl-contents","monaco-tl-row")?e=2:Pa(n.browserEvent.target,"monaco-tree-type-filter","monaco-list")&&(e=3),{browserEvent:n.browserEvent,element:n.element?n.element.element:null,target:e}}function vT(n){let e=nr(n.browserEvent.target);return{element:n.element?n.element.element:null,browserEvent:n.browserEvent,anchor:n.anchor,isStickyScroll:e}}function Sl(n,e){e(n),n.children.forEach(t=>Sl(t,e))}var us=class{constructor(e,t){this.getFirstViewElementWithTrait=e;this.identityProvider=t}nodes=[];elements;_onDidChange=new L;onDidChange=this._onDidChange.event;_nodeSet;get nodeSet(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}set(e,t){!t?.__forceEvent&&rn(this.nodes,e)||this._set(e,!1,t)}_set(e,t,i){if(this.nodes=[...e],this.elements=void 0,this._nodeSet=void 0,!t){let o=this;this._onDidChange.fire({get elements(){return o.get()},browserEvent:i})}}get(){return this.elements||(this.elements=this.nodes.map(e=>e.element)),[...this.elements]}getNodes(){return this.nodes}has(e){return this.nodeSet.has(e)}onDidModelSplice({insertedNodes:e,deletedNodes:t}){if(!this.identityProvider){let l=this.createNodeSet(),d=u=>l.delete(u);t.forEach(u=>Sl(u,d)),this.set([...l.values()]);return}let i=new Set,o=l=>i.add(this.identityProvider.getId(l.element).toString());t.forEach(l=>Sl(l,o));let r=new Map,s=l=>r.set(this.identityProvider.getId(l.element).toString(),l);e.forEach(l=>Sl(l,s));let a=[];for(let l of this.nodes){let d=this.identityProvider.getId(l.element).toString();if(!i.has(d))a.push(l);else{let h=r.get(d);h&&h.visible&&a.push(h)}}if(this.nodes.length>0&&a.length===0){let l=this.getFirstViewElementWithTrait();l&&a.push(l)}this._set(a,!0)}createNodeSet(){let e=new Set;for(let t of this.nodes)e.add(t);return e}},Fu=class extends ns{constructor(t,i,o){super(t);this.tree=i;this.stickyScrollProvider=o}onViewPointer(t){if(su(t.browserEvent.target)||Ln(t.browserEvent.target)||Zo(t.browserEvent.target)||t.browserEvent.isHandledByList)return;let i=t.element;if(!i)return super.onViewPointer(t);if(this.isSelectionRangeChangeEvent(t)||this.isSelectionSingleChangeEvent(t))return super.onViewPointer(t);let o=t.browserEvent.target,r=o.classList.contains("monaco-tl-twistie")||o.classList.contains("monaco-icon-label")&&o.classList.contains("folder-icon")&&t.browserEvent.offsetX<16,s=tr(t.browserEvent.target),a=!1;if(s?a=!0:typeof this.tree.expandOnlyOnTwistieClick=="function"?a=this.tree.expandOnlyOnTwistieClick(i.element):a=!!this.tree.expandOnlyOnTwistieClick,s)this.handleStickyScrollMouseEvent(t,i);else{if(a&&!r&&t.browserEvent.detail!==2)return super.onViewPointer(t);if(!this.tree.expandOnDoubleClick&&t.browserEvent.detail===2)return super.onViewPointer(t)}if(i.collapsible&&(!s||r)){let l=this.tree.getNodeLocation(i),d=t.browserEvent.altKey;if(this.tree.setFocus([l]),this.tree.toggleCollapsed(l,d),r){t.browserEvent.isHandledByList=!0;return}}s||super.onViewPointer(t)}handleStickyScrollMouseEvent(t,i){if(gf(t.browserEvent.target)||bf(t.browserEvent.target))return;let o=this.stickyScrollProvider();if(!o)throw new Error("Sticky scroll controller not found");let r=this.list.indexOf(i),s=this.list.getElementTop(r),a=o.nodePositionTopBelowWidget(i);this.tree.scrollTop=s-a,this.list.domFocus(),this.list.setFocus([r]),this.list.setSelection([r])}onDoubleClick(t){t.browserEvent.target.classList.contains("monaco-tl-twistie")||!this.tree.expandOnDoubleClick||t.browserEvent.isHandledByList||super.onDoubleClick(t)}onMouseDown(t){let i=t.browserEvent.target;if(!nr(i)&&!tr(i)){super.onMouseDown(t);return}}onContextMenu(t){let i=t.browserEvent.target;if(!nr(i)&&!tr(i)){super.onContextMenu(t);return}}},Pu=class extends lt{constructor(t,i,o,r,s,a,l,d){super(t,i,o,r,d);this.focusTrait=s;this.selectionTrait=a;this.anchorTrait=l}createMouseController(t){return new Fu(this,t.tree,t.stickyScrollProvider)}splice(t,i,o=[]){if(super.splice(t,i,o),o.length===0)return;let r=[],s=[],a;o.forEach((l,d)=>{this.focusTrait.has(l)&&r.push(t+d),this.selectionTrait.has(l)&&s.push(t+d),this.anchorTrait.has(l)&&(a=t+d)}),r.length>0&&super.setFocus(Qi([...super.getFocus(),...r])),s.length>0&&super.setSelection(Qi([...super.getSelection(),...s])),typeof a=="number"&&super.setAnchor(a)}setFocus(t,i,o=!1){super.setFocus(t,i),o||this.focusTrait.set(t.map(r=>this.element(r)),i)}setSelection(t,i,o=!1){super.setSelection(t,i),o||this.selectionTrait.set(t.map(r=>this.element(r)),i)}setAnchor(t,i=!1){super.setAnchor(t),i||(typeof t>"u"?this.anchorTrait.set([]):this.anchorTrait.set([this.element(t)]))}};var ar=class{constructor(e,t,i,o,r={}){this._user=e;this._options=r;let s;r.keyboardNavigationLabelProvider&&(s=new Cu(this,r.keyboardNavigationLabelProvider,r.filter),r={...r,filter:s},this.disposables.add(s)),this.model=this.createModel(e,r),this.treeDelegate=new sr(i);let a=this.disposables.add(new Eu(this.onDidChangeActiveNodesRelay.event)),l=new Rr;this.renderers=o.map(d=>new Du(d,this.model,this.onDidChangeCollapseStateRelay.event,a,l,r));for(let d of this.renderers)this.disposables.add(d);if(this.focus=new us(()=>this.view.getFocusedElements()[0],r.identityProvider),this.selection=new us(()=>this.view.getSelectedElements()[0],r.identityProvider),this.anchor=new us(()=>this.view.getAnchorElement(),r.identityProvider),this.view=new Pu(e,t,this.treeDelegate,this.renderers,this.focus,this.selection,this.anchor,{...fT(()=>this.model,r),tree:this,stickyScrollProvider:()=>this.stickyScrollController}),this.setupModel(this.model),r.keyboardSupport!==!1){let d=A.chain(this.view.onKeyDown,u=>u.filter(h=>!Ln(h.target)).map(h=>new He(h)));A.chain(d,u=>u.filter(h=>h.keyCode===15))(this.onLeftArrow,this,this.disposables),A.chain(d,u=>u.filter(h=>h.keyCode===17))(this.onRightArrow,this,this.disposables),A.chain(d,u=>u.filter(h=>h.keyCode===10))(this.onSpace,this,this.disposables)}if((r.findWidgetEnabled??!0)&&r.keyboardNavigationLabelProvider&&r.contextViewProvider){let d=this.options.findWidgetStyles?{styles:this.options.findWidgetStyles}:void 0;this.findController=new Au(this,this.view,s,r.contextViewProvider,d),this.focusNavigationFilter=u=>this.findController.shouldAllowFocus(u),this.onDidChangeFindOpenState=this.findController.onDidChangeOpenState,this.disposables.add(this.findController),this.onDidChangeFindMode=this.findController.onDidChangeMode,this.onDidChangeFindMatchType=this.findController.onDidChangeMatchType,this.disposables.add(this.onDidSpliceModelRelay.event(()=>{!this.findController.isOpened()||this.findController.pattern.length===0||(this.refilter(),this.findController.render())}))}else this.onDidChangeFindMode=A.None,this.onDidChangeFindMatchType=A.None;r.enableStickyScroll&&(this.stickyScrollController=new wl(this,this.model,this.view,this.renderers,this.treeDelegate,r),this.onDidChangeStickyScrollFocused=this.stickyScrollController.onDidChangeHasFocus),this.styleElement=Jt(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides==="always")}view;renderers;model;treeDelegate;focus;selection;anchor;eventBufferer=new xi;findController;onDidChangeFindOpenState=A.None;onDidChangeStickyScrollFocused=A.None;focusNavigationFilter;stickyScrollController;styleElement;disposables=new j;get onDidScroll(){return this.view.onDidScroll}get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseClick(){return A.map(this.view.onMouseClick,rr)}get onMouseDblClick(){return A.filter(A.map(this.view.onMouseDblClick,rr),e=>e.target!==3)}get onMouseOver(){return A.map(this.view.onMouseOver,rr)}get onMouseOut(){return A.map(this.view.onMouseOut,rr)}get onContextMenu(){return A.any(A.filter(A.map(this.view.onContextMenu,vT),e=>!e.isStickyScroll),this.stickyScrollController?.onContextMenu??A.None)}get onTap(){return A.map(this.view.onTap,rr)}get onPointer(){return A.map(this.view.onPointer,rr)}get onKeyDown(){return this.view.onKeyDown}get onKeyUp(){return this.view.onKeyUp}get onKeyPress(){return this.view.onKeyPress}get onDidFocus(){return this.view.onDidFocus}get onDidBlur(){return this.view.onDidBlur}onDidSwapModel=this.disposables.add(new L);onDidChangeModelRelay=this.disposables.add(new Si);onDidSpliceModelRelay=this.disposables.add(new Si);onDidChangeCollapseStateRelay=this.disposables.add(new Si);onDidChangeRenderNodeCountRelay=this.disposables.add(new Si);onDidChangeActiveNodesRelay=this.disposables.add(new Si);get onDidChangeModel(){return A.any(this.onDidChangeModelRelay.event,this.onDidSwapModel.event)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}_onWillRefilter=new L;onWillRefilter=this._onWillRefilter.event;get findMode(){return this.findController?.mode??0}set findMode(e){this.findController&&(this.findController.mode=e)}onDidChangeFindMode;get findMatchType(){return this.findController?.matchType??0}set findMatchType(e){this.findController&&(this.findController.matchType=e)}onDidChangeFindMatchType;get onDidChangeFindPattern(){return this.findController?this.findController.onDidChangePattern:A.None}get expandOnDoubleClick(){return typeof this._options.expandOnDoubleClick>"u"?!0:this._options.expandOnDoubleClick}get expandOnlyOnTwistieClick(){return typeof this._options.expandOnlyOnTwistieClick>"u"?!0:this._options.expandOnlyOnTwistieClick}_onDidUpdateOptions=new L;onDidUpdateOptions=this._onDidUpdateOptions.event;get onDidDispose(){return this.view.onDidDispose}updateOptions(e={}){this._options={...this._options,...e};for(let t of this.renderers)t.updateOptions(e);this.view.updateOptions(this._options),this.findController?.updateOptions(e),this.updateStickyScroll(e),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides==="always")}get options(){return this._options}updateStickyScroll(e){!this.stickyScrollController&&this._options.enableStickyScroll?(this.stickyScrollController=new wl(this,this.model,this.view,this.renderers,this.treeDelegate,this._options),this.onDidChangeStickyScrollFocused=this.stickyScrollController.onDidChangeHasFocus):this.stickyScrollController&&!this._options.enableStickyScroll&&(this.onDidChangeStickyScrollFocused=A.None,this.stickyScrollController.dispose(),this.stickyScrollController=void 0),this.stickyScrollController?.updateOptions(e)}updateWidth(e){let t=this.model.getListIndex(e);t!==-1&&this.view.updateWidth(t)}getHTMLElement(){return this.view.getHTMLElement()}get contentHeight(){return this.view.contentHeight}get contentWidth(){return this.view.contentWidth}get onDidChangeContentHeight(){return this.view.onDidChangeContentHeight}get onDidChangeContentWidth(){return this.view.onDidChangeContentWidth}get scrollTop(){return this.view.scrollTop}set scrollTop(e){this.view.scrollTop=e}get scrollLeft(){return this.view.scrollLeft}set scrollLeft(e){this.view.scrollLeft=e}get scrollHeight(){return this.view.scrollHeight}get renderHeight(){return this.view.renderHeight}get firstVisibleElement(){let e=this.view.firstVisibleIndex;return this.stickyScrollController&&(e+=this.stickyScrollController.count),e<0||e>=this.view.length?void 0:this.view.element(e).element}get lastVisibleElement(){let e=this.view.lastVisibleIndex;return this.view.element(e).element}get ariaLabel(){return this.view.ariaLabel}set ariaLabel(e){this.view.ariaLabel=e}get selectionSize(){return this.selection.getNodes().length}domFocus(){this.stickyScrollController?.focusedLast()?this.stickyScrollController.domFocus():this.view.domFocus()}isDOMFocused(){return $t(this.getHTMLElement())}layout(e,t){this.view.layout(e,t),Ei(t)&&this.findController?.layout(t)}style(e){let t=`.${this.view.domId}`,i=[];e.treeIndentGuidesStroke&&(i.push(`.monaco-list${t}:hover .monaco-tl-indent > .indent-guide, .monaco-list${t}.always .monaco-tl-indent > .indent-guide  { border-color: ${e.treeInactiveIndentGuidesStroke}; }`),i.push(`.monaco-list${t} .monaco-tl-indent > .indent-guide.active { border-color: ${e.treeIndentGuidesStroke}; }`));let o=e.treeStickyScrollBackground??e.listBackground;o&&(i.push(`.monaco-list${t} .monaco-scrollable-element .monaco-tree-sticky-container { background-color: ${o}; }`),i.push(`.monaco-list${t} .monaco-scrollable-element .monaco-tree-sticky-container .monaco-tree-sticky-row { background-color: ${o}; }`)),e.treeStickyScrollBorder&&i.push(`.monaco-list${t} .monaco-scrollable-element .monaco-tree-sticky-container { border-bottom: 1px solid ${e.treeStickyScrollBorder}; }`),e.treeStickyScrollShadow&&i.push(`.monaco-list${t} .monaco-scrollable-element .monaco-tree-sticky-container .monaco-tree-sticky-container-shadow { box-shadow: ${e.treeStickyScrollShadow} 0 6px 6px -6px inset; height: 3px; }`),e.listFocusForeground&&(i.push(`.monaco-list${t}.sticky-scroll-focused .monaco-scrollable-element .monaco-tree-sticky-container:focus .monaco-list-row.focused { color: ${e.listFocusForeground}; }`),i.push(`.monaco-list${t}:not(.sticky-scroll-focused) .monaco-scrollable-element .monaco-tree-sticky-container .monaco-list-row.focused { color: inherit; }`));let r=Qt(e.listFocusAndSelectionOutline,Qt(e.listSelectionOutline,e.listFocusOutline??""));r&&(i.push(`.monaco-list${t}.sticky-scroll-focused .monaco-scrollable-element .monaco-tree-sticky-container:focus .monaco-list-row.focused.selected { outline: 1px solid ${r}; outline-offset: -1px;}`),i.push(`.monaco-list${t}:not(.sticky-scroll-focused) .monaco-scrollable-element .monaco-tree-sticky-container .monaco-list-row.focused.selected { outline: inherit;}`)),e.listFocusOutline&&(i.push(`.monaco-list${t}.sticky-scroll-focused .monaco-scrollable-element .monaco-tree-sticky-container:focus .monaco-list-row.focused { outline: 1px solid ${e.listFocusOutline}; outline-offset: -1px; }`),i.push(`.monaco-list${t}:not(.sticky-scroll-focused) .monaco-scrollable-element .monaco-tree-sticky-container .monaco-list-row.focused { outline: inherit; }`),i.push(`.monaco-workbench.context-menu-visible .monaco-list${t}.last-focused.sticky-scroll-focused .monaco-scrollable-element .monaco-tree-sticky-container .monaco-list-row.passive-focused { outline: 1px solid ${e.listFocusOutline}; outline-offset: -1px; }`),i.push(`.monaco-workbench.context-menu-visible .monaco-list${t}.last-focused.sticky-scroll-focused .monaco-list-rows .monaco-list-row.focused { outline: inherit; }`),i.push(`.monaco-workbench.context-menu-visible .monaco-list${t}.last-focused:not(.sticky-scroll-focused) .monaco-tree-sticky-container .monaco-list-rows .monaco-list-row.focused { outline: inherit; }`)),this.styleElement.textContent=i.join(`
`),this.view.style(e)}getParentElement(e){let t=this.model.getParentNodeLocation(e);return this.model.getNode(t).element}getFirstElementChild(e){return this.model.getFirstElementChild(e)}getNode(e){return this.model.getNode(e)}getNodeLocation(e){return this.model.getNodeLocation(e)}collapse(e,t=!1){return this.model.setCollapsed(e,!0,t)}expand(e,t=!1){return this.model.setCollapsed(e,!1,t)}toggleCollapsed(e,t=!1){return this.model.setCollapsed(e,void 0,t)}expandAll(){this.model.setCollapsed(this.model.rootRef,!1,!0)}collapseAll(){this.model.setCollapsed(this.model.rootRef,!0,!0)}isCollapsible(e){return this.model.isCollapsible(e)}setCollapsible(e,t){return this.model.setCollapsible(e,t)}isCollapsed(e){return this.model.isCollapsed(e)}expandTo(e){this.model.expandTo(e)}triggerTypeNavigation(){this.view.triggerTypeNavigation()}openFind(){this.findController?.open()}closeFind(){this.findController?.close()}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setAnchor(e){if(typeof e>"u")return this.view.setAnchor(void 0);this.eventBufferer.bufferEvents(()=>{let t=this.model.getNode(e);this.anchor.set([t]);let i=this.model.getListIndex(e);i>-1&&this.view.setAnchor(i,!0)})}getAnchor(){return this.anchor.get().at(0)}setSelection(e,t){this.eventBufferer.bufferEvents(()=>{let i=e.map(r=>this.model.getNode(r));this.selection.set(i,t);let o=e.map(r=>this.model.getListIndex(r)).filter(r=>r>-1);this.view.setSelection(o,t,!0)})}getSelection(){return this.selection.get()}setFocus(e,t){this.eventBufferer.bufferEvents(()=>{let i=e.map(r=>this.model.getNode(r));this.focus.set(i,t);let o=e.map(r=>this.model.getListIndex(r)).filter(r=>r>-1);this.view.setFocus(o,t,!0)})}focusNext(e=1,t=!1,i,o=kn(i)&&i.altKey?void 0:this.focusNavigationFilter){this.view.focusNext(e,t,i,o)}focusPrevious(e=1,t=!1,i,o=kn(i)&&i.altKey?void 0:this.focusNavigationFilter){this.view.focusPrevious(e,t,i,o)}focusNextPage(e,t=kn(e)&&e.altKey?void 0:this.focusNavigationFilter){return this.view.focusNextPage(e,t)}focusPreviousPage(e,t=kn(e)&&e.altKey?void 0:this.focusNavigationFilter){return this.view.focusPreviousPage(e,t,()=>this.stickyScrollController?.height??0)}focusLast(e,t=kn(e)&&e.altKey?void 0:this.focusNavigationFilter){this.view.focusLast(e,t)}focusFirst(e,t=kn(e)&&e.altKey?void 0:this.focusNavigationFilter){this.view.focusFirst(e,t)}getFocus(){return this.focus.get()}getStickyScrollFocus(){let e=this.stickyScrollController?.getFocus();return e!==void 0?[e]:[]}getFocusedPart(){return this.stickyScrollController?.focusedLast()?1:0}reveal(e,t){this.model.expandTo(e);let i=this.model.getListIndex(e);if(i!==-1)if(!this.stickyScrollController)this.view.reveal(i,t);else{let o=this.stickyScrollController.nodePositionTopBelowWidget(this.getNode(e));this.view.reveal(i,t,o)}}getRelativeTop(e){let t=this.model.getListIndex(e);if(t===-1)return null;let i=this.stickyScrollController?.getNode(this.getNode(e));return this.view.getRelativeTop(t,i?.position??this.stickyScrollController?.height)}getViewState(e=this.options.identityProvider){if(!e)throw new Oe(this._user,"Can't get tree view state without an identity provider");let t=s=>e.getId(s).toString(),i=wu.empty(this.scrollTop);for(let s of this.getFocus())i.focus.add(t(s));for(let s of this.getSelection())i.selection.add(t(s));let o=this.model.getNode(),r=[o];for(;r.length>0;){let s=r.shift();s!==o&&s.collapsible&&(i.expanded[t(s.element)]=s.collapsed?0:1),r.push(...s.children)}return i}onLeftArrow(e){e.preventDefault(),e.stopPropagation();let t=this.view.getFocusedElements();if(t.length===0)return;let i=t[0],o=this.model.getNodeLocation(i);if(!this.model.setCollapsed(o,!0)){let s=this.model.getParentNodeLocation(o);if(!s)return;let a=this.model.getListIndex(s);this.view.reveal(a),this.view.setFocus([a])}}onRightArrow(e){e.preventDefault(),e.stopPropagation();let t=this.view.getFocusedElements();if(t.length===0)return;let i=t[0],o=this.model.getNodeLocation(i);if(!this.model.setCollapsed(o,!1)){if(!i.children.some(l=>l.visible))return;let[s]=this.view.getFocus(),a=s+1;this.view.reveal(a),this.view.setFocus([a])}}onSpace(e){e.preventDefault(),e.stopPropagation();let t=this.view.getFocusedElements();if(t.length===0)return;let i=t[0],o=this.model.getNodeLocation(i),r=e.browserEvent.altKey;this.model.setCollapsed(o,void 0,r)}modelDisposables=new j;setupModel(e){this.modelDisposables.clear(),this.modelDisposables.add(e.onDidSpliceRenderedNodes(({start:r,deleteCount:s,elements:a})=>this.view.splice(r,s,a)));let t=A.forEach(e.onDidSpliceModel,r=>{this.eventBufferer.bufferEvents(()=>{this.focus.onDidModelSplice(r),this.selection.onDidModelSplice(r)})},this.modelDisposables);t(()=>null,null,this.modelDisposables);let i=this.modelDisposables.add(new L),o=this.modelDisposables.add(new Cn(0));this.modelDisposables.add(A.any(t,this.focus.onDidChange,this.selection.onDidChange)(()=>{o.trigger(()=>{let r=new Set;for(let s of this.focus.getNodes())r.add(s);for(let s of this.selection.getNodes())r.add(s);i.fire([...r.values()])})})),this.onDidChangeActiveNodesRelay.input=i.event,this.onDidChangeModelRelay.input=A.signal(e.onDidSpliceModel),this.onDidChangeCollapseStateRelay.input=e.onDidChangeCollapseState,this.onDidChangeRenderNodeCountRelay.input=e.onDidChangeRenderNodeCount}setModel(e){let t=this.model;this.model=e,this.setupModel(e),this.renderers.forEach(i=>i.setModel(e)),this.stickyScrollController?.setModel(e),this.focus.set([]),this.selection.set([]),this.anchor.set([]),this.view.splice(0,t.getListRenderCount(t.rootRef)),this.model.refilter(),this.onDidSwapModel.fire()}getModel(){return this.model}navigate(e){return new Bu(this.view,this.model,e)}dispose(){Ve(this.disposables),this.stickyScrollController?.dispose(),this.view.dispose(),this.modelDisposables.dispose()}},Bu=class{constructor(e,t,i){this.view=e;this.model=t;i?this.index=this.model.getListIndex(i):this.index=-1}index;current(){return this.index<0||this.index>=this.view.length?null:this.view.element(this.index).element}previous(){return this.index--,this.current()}next(){return this.index++,this.current()}first(){return this.index=0,this.current()}last(){return this.index=this.view.length-1,this.current()}};var Vi=class{constructor(e,t={}){this.user=e;this.model=new xl(e,null,t),this.onDidSpliceModel=this.model.onDidSpliceModel,this.onDidSpliceRenderedNodes=this.model.onDidSpliceRenderedNodes,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,t.sorter&&(this.sorter={compare(i,o){return t.sorter.compare(i.element,o.element)}}),this.identityProvider=t.identityProvider}rootRef=null;model;nodes=new Map;nodesByIdentity=new Map;identityProvider;sorter;onDidSpliceModel;onDidSpliceRenderedNodes;onDidChangeCollapseState;onDidChangeRenderNodeCount;get size(){return this.nodes.size}setChildren(e,t=le.empty(),i={}){let o=this.getElementLocation(e);this._setChildren(o,this.preserveCollapseState(t),i)}_setChildren(e,t=le.empty(),i){let o=new Set,r=new Set,s=l=>{if(l.element===null)return;let d=l;if(o.add(d.element),this.nodes.set(d.element,d),this.identityProvider){let u=this.identityProvider.getId(d.element).toString();r.add(u),this.nodesByIdentity.set(u,d)}i.onDidCreateNode?.(d)},a=l=>{if(l.element===null)return;let d=l;if(o.has(d.element)||this.nodes.delete(d.element),this.identityProvider){let u=this.identityProvider.getId(d.element).toString();r.has(u)||this.nodesByIdentity.delete(u)}i.onDidDeleteNode?.(d)};this.model.splice([...e,0],Number.MAX_VALUE,t,{...i,onDidCreateNode:s,onDidDeleteNode:a})}preserveCollapseState(e=le.empty()){return this.sorter&&(e=[...e].sort(this.sorter.compare.bind(this.sorter))),le.map(e,t=>{let i=this.nodes.get(t.element);if(!i&&this.identityProvider){let s=this.identityProvider.getId(t.element).toString();i=this.nodesByIdentity.get(s)}if(!i){let s;return typeof t.collapsed>"u"?s=void 0:t.collapsed===1||t.collapsed===3?s=!0:t.collapsed===0||t.collapsed===2?s=!1:s=!!t.collapsed,{...t,children:this.preserveCollapseState(t.children),collapsed:s}}let o=typeof t.collapsible=="boolean"?t.collapsible:i.collapsible,r;return typeof t.collapsed>"u"||t.collapsed===3||t.collapsed===2?r=i.collapsed:t.collapsed===1?r=!0:t.collapsed===0?r=!1:r=!!t.collapsed,{...t,collapsible:o,collapsed:r,children:this.preserveCollapseState(t.children)}})}rerender(e){let t=this.getElementLocation(e);this.model.rerender(t)}resort(e=null,t=!0){if(!this.sorter)return;let i=this.getElementLocation(e),o=this.model.getNode(i);this._setChildren(i,this.resortChildren(o,t),{})}resortChildren(e,t,i=!0){let o=[...e.children];return(t||i)&&(o=o.sort(this.sorter.compare.bind(this.sorter))),le.map(o,r=>({element:r.element,collapsible:r.collapsible,collapsed:r.collapsed,children:this.resortChildren(r,t,!1)}))}getFirstElementChild(e=null){let t=this.getElementLocation(e);return this.model.getFirstElementChild(t)}getLastElementAncestor(e=null){let t=this.getElementLocation(e);return this.model.getLastElementAncestor(t)}has(e){return this.nodes.has(e)}getListIndex(e){let t=this.getElementLocation(e);return this.model.getListIndex(t)}getListRenderCount(e){let t=this.getElementLocation(e);return this.model.getListRenderCount(t)}isCollapsible(e){let t=this.getElementLocation(e);return this.model.isCollapsible(t)}setCollapsible(e,t){let i=this.getElementLocation(e);return this.model.setCollapsible(i,t)}isCollapsed(e){let t=this.getElementLocation(e);return this.model.isCollapsed(t)}setCollapsed(e,t,i){let o=this.getElementLocation(e);return this.model.setCollapsed(o,t,i)}expandTo(e){let t=this.getElementLocation(e);this.model.expandTo(t)}refilter(){this.model.refilter()}getNode(e=null){if(e===null)return this.model.getNode(this.model.rootRef);let t=this.nodes.get(e);if(!t)throw new Oe(this.user,`Tree element not found: ${e}`);return t}getNodeLocation(e){return e.element}getParentNodeLocation(e){if(e===null)throw new Oe(this.user,"Invalid getParentNodeLocation call");let t=this.nodes.get(e);if(!t)throw new Oe(this.user,`Tree element not found: ${e}`);let i=this.model.getNodeLocation(t),o=this.model.getParentNodeLocation(i);return this.model.getNode(o).element}getElementLocation(e){if(e===null)return[];let t=this.nodes.get(e);if(!t)throw new Oe(this.user,`Tree element not found: ${e}`);return this.model.getNodeLocation(t)}};function El(n){let e=[n.element],t=n.incompressible||!1;return{element:{elements:e,incompressible:t},children:le.map(le.from(n.children),El),collapsible:n.collapsible,collapsed:n.collapsed}}function Dl(n){let e=[n.element],t=n.incompressible||!1,i,o;for(;[o,i]=le.consume(le.from(n.children),2),!(o.length!==1||o[0].incompressible);)n=o[0],e.push(n.element);return{element:{elements:e,incompressible:t},children:le.map(le.concat(o,i),Dl),collapsible:n.collapsible,collapsed:n.collapsed}}function Hu(n,e=0){let t;return e<n.element.elements.length-1?t=[Hu(n,e+1)]:t=le.map(le.from(n.children),i=>Hu(i,0)),e===0&&n.element.incompressible?{element:n.element.elements[e],children:t,incompressible:!0,collapsible:n.collapsible,collapsed:n.collapsed}:{element:n.element.elements[e],children:t,collapsible:n.collapsible,collapsed:n.collapsed}}function Mf(n){return Hu(n,0)}function Rf(n,e,t){return n.element===e?{...n,children:t}:{...n,children:le.map(le.from(n.children),i=>Rf(i,e,t))}}var yT=n=>({getId(e){return e.elements.map(t=>n.getId(t).toString()).join("\0")}}),Ku=class{constructor(e,t={}){this.user=e;this.model=new Vi(e,t),this.enabled=typeof t.compressionEnabled>"u"?!0:t.compressionEnabled,this.identityProvider=t.identityProvider}rootRef=null;get onDidSpliceRenderedNodes(){return this.model.onDidSpliceRenderedNodes}get onDidSpliceModel(){return this.model.onDidSpliceModel}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}model;nodes=new Map;enabled;identityProvider;get size(){return this.nodes.size}setChildren(e,t=le.empty(),i){let o=i.diffIdentityProvider&&yT(i.diffIdentityProvider);if(e===null){let w=le.map(t,this.enabled?Dl:El);this._setChildren(null,w,{diffIdentityProvider:o,diffDepth:1/0});return}let r=this.nodes.get(e);if(!r)throw new Oe(this.user,"Unknown compressed tree node");let s=this.model.getNode(r),a=this.model.getParentNodeLocation(r),l=this.model.getNode(a),d=Mf(s),u=Rf(d,e,t),h=(this.enabled?Dl:El)(u),g=i.diffIdentityProvider?(w,v)=>i.diffIdentityProvider.getId(w)===i.diffIdentityProvider.getId(v):void 0;if(rn(h.element.elements,s.element.elements,g)){this._setChildren(r,h.children||le.empty(),{diffIdentityProvider:o,diffDepth:1});return}let T=l.children.map(w=>w===s?h:w);this._setChildren(l.element,T,{diffIdentityProvider:o,diffDepth:s.depth-l.depth})}isCompressionEnabled(){return this.enabled}setCompressionEnabled(e){if(e===this.enabled)return;this.enabled=e;let i=this.model.getNode().children,o=le.map(i,Mf),r=le.map(o,e?Dl:El);this._setChildren(null,r,{diffIdentityProvider:this.identityProvider,diffDepth:1/0})}_setChildren(e,t,i){let o=new Set,r=a=>{for(let l of a.element.elements)o.add(l),this.nodes.set(l,a.element)},s=a=>{for(let l of a.element.elements)o.has(l)||this.nodes.delete(l)};this.model.setChildren(e,t,{...i,onDidCreateNode:r,onDidDeleteNode:s})}has(e){return this.nodes.has(e)}getListIndex(e){let t=this.getCompressedNode(e);return this.model.getListIndex(t)}getListRenderCount(e){let t=this.getCompressedNode(e);return this.model.getListRenderCount(t)}getNode(e){if(typeof e>"u")return this.model.getNode();let t=this.getCompressedNode(e);return this.model.getNode(t)}getNodeLocation(e){let t=this.model.getNodeLocation(e);return t===null?null:t.elements[t.elements.length-1]}getParentNodeLocation(e){let t=this.getCompressedNode(e),i=this.model.getParentNodeLocation(t);return i===null?null:i.elements[i.elements.length-1]}getFirstElementChild(e){let t=this.getCompressedNode(e);return this.model.getFirstElementChild(t)}getLastElementAncestor(e){let t=typeof e>"u"?void 0:this.getCompressedNode(e);return this.model.getLastElementAncestor(t)}isCollapsible(e){let t=this.getCompressedNode(e);return this.model.isCollapsible(t)}setCollapsible(e,t){let i=this.getCompressedNode(e);return this.model.setCollapsible(i,t)}isCollapsed(e){let t=this.getCompressedNode(e);return this.model.isCollapsed(t)}setCollapsed(e,t,i){let o=this.getCompressedNode(e);return this.model.setCollapsed(o,t,i)}expandTo(e){let t=this.getCompressedNode(e);this.model.expandTo(t)}rerender(e){let t=this.getCompressedNode(e);this.model.rerender(t)}refilter(){this.model.refilter()}resort(e=null,t=!0){let i=this.getCompressedNode(e);this.model.resort(i,t)}getCompressedNode(e){if(e===null)return null;let t=this.nodes.get(e);if(!t)throw new Oe(this.user,`Tree element not found: ${e}`);return t}},TT=n=>n[n.length-1],zu=class n{constructor(e,t){this.unwrapper=e;this.node=t}get element(){return this.node.element===null?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map(e=>new n(this.unwrapper,e))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}};function IT(n,e){return{...e,identityProvider:e.identityProvider&&{getId(t){return e.identityProvider.getId(n(t))}},sorter:e.sorter&&{compare(t,i){return e.sorter.compare(t.elements[0],i.elements[0])}},filter:e.filter&&{filter(t,i){return e.filter.filter(n(t),i)}}}}var Cl=class{rootRef=null;get onDidSpliceModel(){return A.map(this.model.onDidSpliceModel,({insertedNodes:e,deletedNodes:t})=>({insertedNodes:e.map(i=>this.nodeMapper.map(i)),deletedNodes:t.map(i=>this.nodeMapper.map(i))}))}get onDidSpliceRenderedNodes(){return A.map(this.model.onDidSpliceRenderedNodes,({start:e,deleteCount:t,elements:i})=>({start:e,deleteCount:t,elements:i.map(o=>this.nodeMapper.map(o))}))}get onDidChangeCollapseState(){return A.map(this.model.onDidChangeCollapseState,({node:e,deep:t})=>({node:this.nodeMapper.map(e),deep:t}))}get onDidChangeRenderNodeCount(){return A.map(this.model.onDidChangeRenderNodeCount,e=>this.nodeMapper.map(e))}elementMapper;nodeMapper;model;constructor(e,t={}){this.elementMapper=t.elementMapper||TT;let i=o=>this.elementMapper(o.elements);this.nodeMapper=new uo(o=>new zu(i,o)),this.model=new Ku(e,IT(i,t))}setChildren(e,t=le.empty(),i={}){this.model.setChildren(e,t,i)}isCompressionEnabled(){return this.model.isCompressionEnabled()}setCompressionEnabled(e){this.model.setCompressionEnabled(e)}has(e){return this.model.has(e)}getListIndex(e){return this.model.getListIndex(e)}getListRenderCount(e){return this.model.getListRenderCount(e)}getNode(e){return this.nodeMapper.map(this.model.getNode(e))}getNodeLocation(e){return e.element}getParentNodeLocation(e){return this.model.getParentNodeLocation(e)}getFirstElementChild(e){let t=this.model.getFirstElementChild(e);return t===null||typeof t>"u"?t:this.elementMapper(t.elements)}getLastElementAncestor(e){let t=this.model.getLastElementAncestor(e);return t===null||typeof t>"u"?t:this.elementMapper(t.elements)}isCollapsible(e){return this.model.isCollapsible(e)}setCollapsible(e,t){return this.model.setCollapsible(e,t)}isCollapsed(e){return this.model.isCollapsed(e)}setCollapsed(e,t,i){return this.model.setCollapsed(e,t,i)}expandTo(e){return this.model.expandTo(e)}rerender(e){return this.model.rerender(e)}refilter(){return this.model.refilter()}resort(e=null,t=!0){return this.model.resort(e,t)}getCompressedTreeNode(e=null){return this.model.getNode(e)}};var go=class extends ar{constructor(t,i,o,r,s={}){super(t,i,o,r,s);this.user=t}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}setChildren(t,i=le.empty(),o){this.model.setChildren(t,i,o)}rerender(t){if(t===void 0){this.view.rerender();return}this.model.rerender(t)}updateElementHeight(t,i){let o=this.model.getListIndex(t);if(o===-1)throw new Oe(this.user,"updateElementHeight failed - index not found");this.view.updateElementHeight(o,i)}resort(t,i=!0){this.model.resort(t,i)}hasElement(t){return this.model.has(t)}createModel(t,i){return new Vi(t,i)}},_l=class{constructor(e,t,i){this._compressedTreeNodeProvider=e;this.stickyScrollDelegate=t;this.renderer=i;this.templateId=i.templateId,i.onDidChangeTwistieState&&(this.onDidChangeTwistieState=i.onDidChangeTwistieState)}templateId;onDidChangeTwistieState;get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}renderTemplate(e){return{compressedTreeNode:void 0,data:this.renderer.renderTemplate(e)}}renderElement(e,t,i,o){let r=this.stickyScrollDelegate.getCompressedNode(e);r||(r=this.compressedTreeNodeProvider.getCompressedTreeNode(e.element)),r.element.elements.length===1?(i.compressedTreeNode=void 0,this.renderer.renderElement(e,t,i.data,o)):(i.compressedTreeNode=r,this.renderer.renderCompressedElements(r,t,i.data,o))}disposeElement(e,t,i,o){i.compressedTreeNode?this.renderer.disposeCompressedElements?.(i.compressedTreeNode,t,i.data,o):this.renderer.disposeElement?.(e,t,i.data,o)}disposeTemplate(e){this.renderer.disposeTemplate(e.data)}renderTwistie(e,t){return this.renderer.renderTwistie?this.renderer.renderTwistie(e,t):!1}};he([ke],_l.prototype,"compressedTreeNodeProvider",1);var Uu=class{constructor(e){this.modelProvider=e}compressedStickyNodes=new Map;getCompressedNode(e){return this.compressedStickyNodes.get(e)}constrainStickyScrollNodes(e,t,i){if(this.compressedStickyNodes.clear(),e.length===0)return[];for(let o=0;o<e.length;o++){let r=e[o],s=r.position+r.height;if(o+1<e.length&&s+e[o+1].height>i||o>=t-1&&t<e.length){let l=e.slice(0,o),d=e.slice(o),u=this.compressStickyNodes(d);return[...l,u]}}return e}compressStickyNodes(e){if(e.length===0)throw new Error("Can't compress empty sticky nodes");let t=this.modelProvider();if(!t.isCompressionEnabled())return e[0];let i=[];for(let d=0;d<e.length;d++){let u=e[d],h=t.getCompressedTreeNode(u.node.element);if(h.element){if(d!==0&&h.element.incompressible)break;i.push(...h.element.elements)}}if(i.length<2)return e[0];let o=e[e.length-1],r={elements:i,incompressible:!1},s={...o.node,children:[],element:r},a=new Proxy(e[0].node,{}),l={node:a,startIndex:e[0].startIndex,endIndex:o.endIndex,position:e[0].position,height:e[0].height};return this.compressedStickyNodes.set(a,s),l}};function xT(n,e){return e&&{...e,keyboardNavigationLabelProvider:e.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(t){let i;try{i=n().getCompressedTreeNode(t)}catch{return e.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t)}return i.element.elements.length===1?e.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t):e.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(i.element.elements)}}}}var lr=class extends go{constructor(e,t,i,o,r={}){let s=()=>this,a=new Uu(()=>this.model),l=o.map(d=>new _l(s,a,d));super(e,t,i,l,{...xT(s,r),stickyScrollDelegate:a})}setChildren(e,t=le.empty(),i){this.model.setChildren(e,t,i)}createModel(e,t){return new Cl(e,t)}updateOptions(e={}){super.updateOptions(e),typeof e.compressionEnabled<"u"&&this.model.setCompressionEnabled(e.compressionEnabled)}getCompressedTreeNode(e=null){return this.model.getCompressedTreeNode(e)}};function Vu(n){return{...n,children:[],refreshPromise:void 0,stale:!0,slow:!1,forceExpanded:!1}}function $u(n,e){return e.parent?e.parent===n?!0:$u(n,e.parent):!1}function ST(n,e){return n===e||$u(n,e)||$u(e,n)}var qu=class n{constructor(e){this.node=e}get element(){return this.node.element.element}get children(){return this.node.children.map(e=>new n(e))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}},Gu=class{constructor(e,t,i){this.renderer=e;this.nodeMapper=t;this.onDidChangeTwistieState=i;this.templateId=e.templateId}templateId;renderedNodes=new Map;renderTemplate(e){return{templateData:this.renderer.renderTemplate(e)}}renderElement(e,t,i,o){this.renderer.renderElement(this.nodeMapper.map(e),t,i.templateData,o)}renderTwistie(e,t){return e.slow?(t.classList.add(...we.asClassNameArray(Ce.treeItemLoading)),!0):(t.classList.remove(...we.asClassNameArray(Ce.treeItemLoading)),!1)}disposeElement(e,t,i,o){this.renderer.disposeElement?.(this.nodeMapper.map(e),t,i.templateData,o)}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}dispose(){this.renderedNodes.clear()}};function Of(n){return{browserEvent:n.browserEvent,elements:n.elements.map(e=>e.element)}}function kl(n){return{browserEvent:n.browserEvent,element:n.element&&n.element.element,target:n.target}}function wT(n){return{browserEvent:n.browserEvent,element:n.element&&n.element.element,anchor:n.anchor,isStickyScroll:n.isStickyScroll}}var ju=class extends ii{constructor(t){super(t.elements.map(i=>i.element));this.data=t}set context(t){this.data.context=t}get context(){return this.data.context}};function Wu(n){return n instanceof ii?new ju(n):n}var Yu=class{constructor(e){this.dnd=e}getDragURI(e){return this.dnd.getDragURI(e.element)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e.map(i=>i.element),t)}onDragStart(e,t){this.dnd.onDragStart?.(Wu(e),t)}onDragOver(e,t,i,o,r,s=!0){return this.dnd.onDragOver(Wu(e),t&&t.element,i,o,r)}drop(e,t,i,o,r){this.dnd.drop(Wu(e),t&&t.element,i,o,r)}onDragEnd(e){this.dnd.onDragEnd?.(e)}dispose(){this.dnd.dispose()}};function Ff(n){return n&&{...n,collapseByDefault:!0,identityProvider:n.identityProvider&&{getId(e){return n.identityProvider.getId(e.element)}},dnd:n.dnd&&new Yu(n.dnd),multipleSelectionController:n.multipleSelectionController&&{isSelectionSingleChangeEvent(e){return n.multipleSelectionController.isSelectionSingleChangeEvent({...e,element:e.element})},isSelectionRangeChangeEvent(e){return n.multipleSelectionController.isSelectionRangeChangeEvent({...e,element:e.element})}},accessibilityProvider:n.accessibilityProvider&&{...n.accessibilityProvider,getPosInSet:void 0,getSetSize:void 0,getRole:n.accessibilityProvider.getRole?e=>n.accessibilityProvider.getRole(e.element):()=>"treeitem",isChecked:n.accessibilityProvider.isChecked?e=>!!n.accessibilityProvider?.isChecked(e.element):void 0,getAriaLabel(e){return n.accessibilityProvider.getAriaLabel(e.element)},getWidgetAriaLabel(){return n.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:n.accessibilityProvider.getWidgetRole?()=>n.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:n.accessibilityProvider.getAriaLevel&&(e=>n.accessibilityProvider.getAriaLevel(e.element)),getActiveDescendantId:n.accessibilityProvider.getActiveDescendantId&&(e=>n.accessibilityProvider.getActiveDescendantId(e.element))},filter:n.filter&&{filter(e,t){return n.filter.filter(e.element,t)}},keyboardNavigationLabelProvider:n.keyboardNavigationLabelProvider&&{...n.keyboardNavigationLabelProvider,getKeyboardNavigationLabel(e){return n.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(e.element)}},sorter:void 0,expandOnlyOnTwistieClick:typeof n.expandOnlyOnTwistieClick>"u"?void 0:typeof n.expandOnlyOnTwistieClick!="function"?n.expandOnlyOnTwistieClick:e=>n.expandOnlyOnTwistieClick(e.element),defaultFindVisibility:e=>e.hasChildren&&e.stale?1:typeof n.defaultFindVisibility=="number"?n.defaultFindVisibility:typeof n.defaultFindVisibility>"u"?2:n.defaultFindVisibility(e.element)}}function Xu(n,e){e(n),n.children.forEach(t=>Xu(t,e))}var hs=class{constructor(e,t,i,o,r,s={}){this.user=e;this.dataSource=r;this.identityProvider=s.identityProvider,this.autoExpandSingleChildren=typeof s.autoExpandSingleChildren>"u"?!1:s.autoExpandSingleChildren,this.sorter=s.sorter,this.getDefaultCollapseState=a=>s.collapseByDefault?s.collapseByDefault(a)?3:2:void 0,this.tree=this.createTree(e,t,i,o,s),this.onDidChangeFindMode=this.tree.onDidChangeFindMode,this.onDidChangeFindMatchType=this.tree.onDidChangeFindMatchType,this.root=Vu({element:void 0,parent:null,hasChildren:!0,defaultCollapseState:void 0}),this.identityProvider&&(this.root={...this.root,id:null}),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}tree;root;nodes=new Map;sorter;getDefaultCollapseState;subTreeRefreshPromises=new Map;refreshPromises=new Map;identityProvider;autoExpandSingleChildren;_onDidRender=new L;_onDidChangeNodeSlowState=new L;nodeMapper=new uo(e=>new qu(e));disposables=new j;get onDidScroll(){return this.tree.onDidScroll}get onDidChangeFocus(){return A.map(this.tree.onDidChangeFocus,Of)}get onDidChangeSelection(){return A.map(this.tree.onDidChangeSelection,Of)}get onKeyDown(){return this.tree.onKeyDown}get onMouseClick(){return A.map(this.tree.onMouseClick,kl)}get onMouseDblClick(){return A.map(this.tree.onMouseDblClick,kl)}get onContextMenu(){return A.map(this.tree.onContextMenu,wT)}get onTap(){return A.map(this.tree.onTap,kl)}get onPointer(){return A.map(this.tree.onPointer,kl)}get onDidFocus(){return this.tree.onDidFocus}get onDidBlur(){return this.tree.onDidBlur}get onDidChangeModel(){return this.tree.onDidChangeModel}get onDidChangeCollapseState(){return this.tree.onDidChangeCollapseState}get onDidUpdateOptions(){return this.tree.onDidUpdateOptions}get onDidChangeFindOpenState(){return this.tree.onDidChangeFindOpenState}get onDidChangeStickyScrollFocused(){return this.tree.onDidChangeStickyScrollFocused}get findMode(){return this.tree.findMode}set findMode(e){this.tree.findMode=e}onDidChangeFindMode;get findMatchType(){return this.tree.findMatchType}set findMatchType(e){this.tree.findMatchType=e}onDidChangeFindMatchType;get expandOnlyOnTwistieClick(){if(typeof this.tree.expandOnlyOnTwistieClick=="boolean")return this.tree.expandOnlyOnTwistieClick;let e=this.tree.expandOnlyOnTwistieClick;return t=>e(this.nodes.get(t===this.root.element?null:t)||null)}get onDidDispose(){return this.tree.onDidDispose}createTree(e,t,i,o,r){let s=new sr(i),a=o.map(d=>new Gu(d,this.nodeMapper,this._onDidChangeNodeSlowState.event)),l=Ff(r)||{};return new go(e,t,s,a,l)}updateOptions(e={}){this.tree.updateOptions(e)}get options(){return this.tree.options}getHTMLElement(){return this.tree.getHTMLElement()}get contentHeight(){return this.tree.contentHeight}get contentWidth(){return this.tree.contentWidth}get onDidChangeContentHeight(){return this.tree.onDidChangeContentHeight}get onDidChangeContentWidth(){return this.tree.onDidChangeContentWidth}get scrollTop(){return this.tree.scrollTop}set scrollTop(e){this.tree.scrollTop=e}get scrollLeft(){return this.tree.scrollLeft}set scrollLeft(e){this.tree.scrollLeft=e}get scrollHeight(){return this.tree.scrollHeight}get renderHeight(){return this.tree.renderHeight}get lastVisibleElement(){return this.tree.lastVisibleElement.element}get ariaLabel(){return this.tree.ariaLabel}set ariaLabel(e){this.tree.ariaLabel=e}domFocus(){this.tree.domFocus()}layout(e,t){this.tree.layout(e,t)}style(e){this.tree.style(e)}getInput(){return this.root.element}async setInput(e,t){this.refreshPromises.forEach(o=>o.cancel()),this.refreshPromises.clear(),this.root.element=e;let i=t&&{viewState:t,focus:[],selection:[]};await this._updateChildren(e,!0,!1,i),i&&(this.tree.setFocus(i.focus),this.tree.setSelection(i.selection)),t&&typeof t.scrollTop=="number"&&(this.scrollTop=t.scrollTop)}async updateChildren(e=this.root.element,t=!0,i=!1,o){await this._updateChildren(e,t,i,void 0,o)}async _updateChildren(e=this.root.element,t=!0,i=!1,o,r){if(typeof this.root.element>"u")throw new Oe(this.user,"Tree input not set");this.root.refreshPromise&&(await this.root.refreshPromise,await A.toPromise(this._onDidRender.event));let s=this.getDataNode(e);if(await this.refreshAndRenderNode(s,t,o,r),i)try{this.tree.rerender(s)}catch{}}resort(e=this.root.element,t=!0){this.tree.resort(this.getDataNode(e),t)}hasNode(e){return e===this.root.element||this.nodes.has(e)}rerender(e){if(e===void 0||e===this.root.element){this.tree.rerender();return}let t=this.getDataNode(e);this.tree.rerender(t)}updateElementHeight(e,t){let i=this.getDataNode(e);this.tree.updateElementHeight(i,t)}updateWidth(e){let t=this.getDataNode(e);this.tree.updateWidth(t)}getNode(e=this.root.element){let t=this.getDataNode(e),i=this.tree.getNode(t===this.root?null:t);return this.nodeMapper.map(i)}collapse(e,t=!1){let i=this.getDataNode(e);return this.tree.collapse(i===this.root?null:i,t)}async expand(e,t=!1){if(typeof this.root.element>"u")throw new Oe(this.user,"Tree input not set");this.root.refreshPromise&&(await this.root.refreshPromise,await A.toPromise(this._onDidRender.event));let i=this.getDataNode(e);if(this.tree.hasElement(i)&&!this.tree.isCollapsible(i)||(i.refreshPromise&&(await this.root.refreshPromise,await A.toPromise(this._onDidRender.event)),i!==this.root&&!i.refreshPromise&&!this.tree.isCollapsed(i)))return!1;let o=this.tree.expand(i===this.root?null:i,t);return i.refreshPromise&&(await this.root.refreshPromise,await A.toPromise(this._onDidRender.event)),o}toggleCollapsed(e,t=!1){return this.tree.toggleCollapsed(this.getDataNode(e),t)}expandAll(){this.tree.expandAll()}async expandTo(e){if(!this.dataSource.getParent)throw new Error("Can't expand to element without getParent method");let t=[];for(;!this.hasNode(e);)e=this.dataSource.getParent(e),e!==this.root.element&&t.push(e);for(let i of le.reverse(t))await this.expand(i);this.tree.expandTo(this.getDataNode(e))}collapseAll(){this.tree.collapseAll()}isCollapsible(e){return this.tree.isCollapsible(this.getDataNode(e))}isCollapsed(e){return this.tree.isCollapsed(this.getDataNode(e))}triggerTypeNavigation(){this.tree.triggerTypeNavigation()}openFind(){this.tree.openFind()}closeFind(){this.tree.closeFind()}refilter(){this.tree.refilter()}setAnchor(e){this.tree.setAnchor(typeof e>"u"?void 0:this.getDataNode(e))}getAnchor(){return this.tree.getAnchor()?.element}setSelection(e,t){let i=e.map(o=>this.getDataNode(o));this.tree.setSelection(i,t)}getSelection(){return this.tree.getSelection().map(t=>t.element)}setFocus(e,t){let i=e.map(o=>this.getDataNode(o));this.tree.setFocus(i,t)}focusNext(e=1,t=!1,i){this.tree.focusNext(e,t,i)}focusPrevious(e=1,t=!1,i){this.tree.focusPrevious(e,t,i)}focusNextPage(e){return this.tree.focusNextPage(e)}focusPreviousPage(e){return this.tree.focusPreviousPage(e)}focusLast(e){this.tree.focusLast(e)}focusFirst(e){this.tree.focusFirst(e)}getFocus(){return this.tree.getFocus().map(t=>t.element)}getStickyScrollFocus(){return this.tree.getStickyScrollFocus().map(t=>t.element)}getFocusedPart(){return this.tree.getFocusedPart()}reveal(e,t){this.tree.reveal(this.getDataNode(e),t)}getRelativeTop(e){return this.tree.getRelativeTop(this.getDataNode(e))}getParentElement(e){let t=this.tree.getParentElement(this.getDataNode(e));return t&&t.element}getFirstElementChild(e=this.root.element){let t=this.getDataNode(e),i=this.tree.getFirstElementChild(t===this.root?null:t);return i&&i.element}getDataNode(e){let t=this.nodes.get(e===this.root.element?null:e);if(!t)throw new Oe(this.user,`Data tree node not found: ${e}`);return t}async refreshAndRenderNode(e,t,i,o){await this.refreshNode(e,t,i),!this.disposables.isDisposed&&this.render(e,i,o)}async refreshNode(e,t,i){let o;if(this.subTreeRefreshPromises.forEach((r,s)=>{!o&&ST(s,e)&&(o=r.then(()=>this.refreshNode(e,t,i)))}),o)return o;if(e!==this.root&&this.tree.getNode(e).collapsed){e.hasChildren=!!this.dataSource.hasChildren(e.element),e.stale=!0,this.setChildren(e,[],t,i);return}return this.doRefreshSubTree(e,t,i)}async doRefreshSubTree(e,t,i){let o;e.refreshPromise=new Promise(r=>o=r),this.subTreeRefreshPromises.set(e,e.refreshPromise),e.refreshPromise.finally(()=>{e.refreshPromise=void 0,this.subTreeRefreshPromises.delete(e)});try{let r=await this.doRefreshNode(e,t,i);e.stale=!1,await gc.settled(r.map(s=>this.doRefreshSubTree(s,t,i)))}finally{o()}}async doRefreshNode(e,t,i){e.hasChildren=!!this.dataSource.hasChildren(e.element);let o;if(!e.hasChildren)o=Promise.resolve(le.empty());else{let r=this.doGetChildren(e);if(dc(r))o=Promise.resolve(r);else{let s=Li(800);s.then(()=>{e.slow=!0,this._onDidChangeNodeSlowState.fire(e)},a=>null),o=r.finally(()=>s.cancel())}}try{let r=await o;return this.setChildren(e,r,t,i)}catch(r){if(e!==this.root&&this.tree.hasElement(e)&&this.tree.collapse(e),wd(r))return[];throw r}finally{e.slow&&(e.slow=!1,this._onDidChangeNodeSlowState.fire(e))}}doGetChildren(e){let t=this.refreshPromises.get(e);if(t)return t;let i=this.dataSource.getChildren(e.element);return dc(i)?this.processChildren(i):(t=fc(async()=>this.processChildren(await i)),this.refreshPromises.set(e,t),t.finally(()=>{this.refreshPromises.delete(e)}))}_onDidChangeCollapseState({node:e,deep:t}){e.element!==null&&!e.collapsed&&e.element.stale&&(t?this.collapse(e.element.element):this.refreshAndRenderNode(e.element,!1).catch(Lt))}setChildren(e,t,i,o){let r=[...t];if(e.children.length===0&&r.length===0)return[];let s=new Map,a=new Map;for(let u of e.children)s.set(u.element,u),this.identityProvider&&a.set(u.id,{node:u,collapsed:this.tree.hasElement(u)&&this.tree.isCollapsed(u)});let l=[],d=r.map(u=>{let h=!!this.dataSource.hasChildren(u);if(!this.identityProvider){let v=Vu({element:u,parent:e,hasChildren:h,defaultCollapseState:this.getDefaultCollapseState(u)});return h&&v.defaultCollapseState===2&&l.push(v),v}let g=this.identityProvider.getId(u).toString(),T=a.get(g);if(T){let v=T.node;return s.delete(v.element),this.nodes.delete(v.element),this.nodes.set(u,v),v.element=u,v.hasChildren=h,i?T.collapsed?(v.children.forEach(E=>Xu(E,P=>this.nodes.delete(P.element))),v.children.splice(0,v.children.length),v.stale=!0):l.push(v):h&&!T.collapsed&&l.push(v),v}let w=Vu({element:u,parent:e,id:g,hasChildren:h,defaultCollapseState:this.getDefaultCollapseState(u)});return o&&o.viewState.focus&&o.viewState.focus.indexOf(g)>-1&&o.focus.push(w),o&&o.viewState.selection&&o.viewState.selection.indexOf(g)>-1&&o.selection.push(w),(o&&o.viewState.expanded&&o.viewState.expanded.indexOf(g)>-1||h&&w.defaultCollapseState===2)&&l.push(w),w});for(let u of s.values())Xu(u,h=>this.nodes.delete(h.element));for(let u of d)this.nodes.set(u.element,u);return e.children.splice(0,e.children.length,...d),e!==this.root&&this.autoExpandSingleChildren&&d.length===1&&l.length===0&&(d[0].forceExpanded=!0,l.push(d[0])),l}render(e,t,i){let o=e.children.map(s=>this.asTreeElement(s,t)),r=i&&{...i,diffIdentityProvider:i.diffIdentityProvider&&{getId(s){return i.diffIdentityProvider.getId(s.element)}}};this.tree.setChildren(e===this.root?null:e,o,r),e!==this.root&&this.tree.setCollapsible(e,e.hasChildren),this._onDidRender.fire()}asTreeElement(e,t){if(e.stale)return{element:e,collapsible:e.hasChildren,collapsed:!0};let i;return t&&t.viewState.expanded&&e.id&&t.viewState.expanded.indexOf(e.id)>-1?i=!1:e.forceExpanded?(i=!1,e.forceExpanded=!1):i=e.defaultCollapseState,{element:e,children:e.hasChildren?le.map(e.children,o=>this.asTreeElement(o,t)):[],collapsible:e.hasChildren,collapsed:i}}processChildren(e){return this.sorter&&(e=[...e].sort(this.sorter.compare.bind(this.sorter))),e}getViewState(){if(!this.identityProvider)throw new Oe(this.user,"Can't get tree view state without an identity provider");let e=a=>this.identityProvider.getId(a).toString(),t=this.getFocus().map(e),i=this.getSelection().map(e),o=[],r=this.tree.getNode(),s=[r];for(;s.length>0;){let a=s.pop();a!==r&&a.collapsible&&!a.collapsed&&o.push(e(a.element.element)),s.push(...a.children)}return{focus:t,selection:i,expanded:o,scrollTop:this.scrollTop}}dispose(){this.disposables.dispose(),this.tree.dispose()}},Ju=class n{constructor(e){this.node=e}get element(){return{elements:this.node.element.elements.map(e=>e.element),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map(e=>new n(e))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}},Qu=class{constructor(e,t,i,o){this.renderer=e;this.nodeMapper=t;this.compressibleNodeMapperProvider=i;this.onDidChangeTwistieState=o;this.templateId=e.templateId}templateId;renderedNodes=new Map;disposables=[];renderTemplate(e){return{templateData:this.renderer.renderTemplate(e)}}renderElement(e,t,i,o){this.renderer.renderElement(this.nodeMapper.map(e),t,i.templateData,o)}renderCompressedElements(e,t,i,o){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(e),t,i.templateData,o)}renderTwistie(e,t){return e.slow?(t.classList.add(...we.asClassNameArray(Ce.treeItemLoading)),!0):(t.classList.remove(...we.asClassNameArray(Ce.treeItemLoading)),!1)}disposeElement(e,t,i,o){this.renderer.disposeElement?.(this.nodeMapper.map(e),t,i.templateData,o)}disposeCompressedElements(e,t,i,o){this.renderer.disposeCompressedElements?.(this.compressibleNodeMapperProvider().map(e),t,i.templateData,o)}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=Ve(this.disposables)}};function ET(n){let e=n&&Ff(n);return e&&{...e,keyboardNavigationLabelProvider:e.keyboardNavigationLabelProvider&&{...e.keyboardNavigationLabelProvider,getCompressedNodeKeyboardNavigationLabel(t){return n.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(t.map(i=>i.element))}}}}var Ll=class extends hs{constructor(t,i,o,r,s,a,l={}){super(t,i,o,s,a,l);this.compressionDelegate=r;this.filter=l.filter}compressibleNodeMapper=new uo(t=>new Ju(t));filter;createTree(t,i,o,r,s){let a=new sr(o),l=r.map(u=>new Qu(u,this.nodeMapper,()=>this.compressibleNodeMapper,this._onDidChangeNodeSlowState.event)),d=ET(s)||{};return new lr(t,i,a,l,d)}asTreeElement(t,i){return{incompressible:this.compressionDelegate.isIncompressible(t.element),...super.asTreeElement(t,i)}}updateOptions(t={}){this.tree.updateOptions(t)}getViewState(){if(!this.identityProvider)throw new Oe(this.user,"Can't get tree view state without an identity provider");let t=l=>this.identityProvider.getId(l).toString(),i=this.getFocus().map(t),o=this.getSelection().map(t),r=[],s=this.tree.getCompressedTreeNode(),a=[s];for(;a.length>0;){let l=a.pop();if(l!==s&&l.collapsible&&!l.collapsed)for(let d of l.element.elements)r.push(t(d.element));a.push(...l.children)}return{focus:i,selection:o,expanded:r,scrollTop:this.scrollTop}}render(t,i,o){if(!this.identityProvider)return super.render(t,i);let r=w=>this.identityProvider.getId(w).toString(),s=w=>{let v=new Set;for(let E of w){let P=this.tree.getCompressedTreeNode(E===this.root?null:E);if(P.element)for(let R of P.element.elements)v.add(r(R.element))}return v},a=s(this.tree.getSelection()),l=s(this.tree.getFocus());super.render(t,i,o);let d=this.getSelection(),u=!1,h=this.getFocus(),g=!1,T=w=>{let v=w.element;if(v)for(let E=0;E<v.elements.length;E++){let P=r(v.elements[E].element),R=v.elements[v.elements.length-1].element;a.has(P)&&d.indexOf(R)===-1&&(d.push(R),u=!0),l.has(P)&&h.indexOf(R)===-1&&(h.push(R),g=!0)}w.children.forEach(T)};T(this.tree.getCompressedTreeNode(t===this.root?null:t)),u&&this.setSelection(d),g&&this.setFocus(h)}processChildren(t){return this.filter&&(t=le.filter(t,i=>{let o=this.filter.filter(i,1),r=DT(o);if(r===2)throw new Error("Recursive tree visibility not supported in async data compressed trees");return r===1})),super.processChildren(t)}};function DT(n){return typeof n=="boolean"?n?1:0:cs(n)?fo(n.visibility):fo(n)}var Al=class extends ar{constructor(t,i,o,r,s,a={}){super(t,i,o,r,a);this.user=t;this.dataSource=s;this.identityProvider=a.identityProvider}input;identityProvider;nodesByIdentity=new Map;getInput(){return this.input}setInput(t,i){if(i&&!this.identityProvider)throw new Oe(this.user,"Can't restore tree view state without an identity provider");if(this.input=t,!t){this.nodesByIdentity.clear(),this.model.setChildren(null,le.empty());return}if(!i){this._refresh(t);return}let o=[],r=[],s=l=>{let d=this.identityProvider.getId(l).toString();return!i.expanded[d]},a=l=>{let d=this.identityProvider.getId(l.element).toString();i.focus.has(d)&&o.push(l.element),i.selection.has(d)&&r.push(l.element)};this._refresh(t,s,a),this.setFocus(o),this.setSelection(r),i&&typeof i.scrollTop=="number"&&(this.scrollTop=i.scrollTop)}updateChildren(t=this.input){if(typeof this.input>"u")throw new Oe(this.user,"Tree input not set");let i;this.identityProvider&&(i=o=>{let r=this.identityProvider.getId(o).toString(),s=this.nodesByIdentity.get(r);if(s)return s.collapsed}),this._refresh(t,i)}resort(t=this.input,i=!0){this.model.resort(t===this.input?null:t,i)}refresh(t){if(t===void 0){this.view.rerender();return}this.model.rerender(t)}_refresh(t,i,o){let r;if(this.identityProvider){let s=new Set,a=o;o=l=>{let d=this.identityProvider.getId(l.element).toString();s.add(d),this.nodesByIdentity.set(d,l),a?.(l)},r=l=>{let d=this.identityProvider.getId(l.element).toString();s.has(d)||this.nodesByIdentity.delete(d)}}this.model.setChildren(t===this.input?null:t,this.iterate(t,i).elements,{onDidCreateNode:o,onDidDeleteNode:r})}iterate(t,i){let o=[...this.dataSource.getChildren(t)];return{elements:le.map(o,s=>{let{elements:a,size:l}=this.iterate(s,i),d=this.dataSource.hasChildren?this.dataSource.hasChildren(s):void 0,u=l===0?void 0:i&&i(s);return{element:s,children:a,collapsible:d,collapsed:u}}),size:o.length}}createModel(t,i){return new Vi(t,i)}};var Wi;(o=>{o.serviceIds=new Map,o.DI_TARGET="$di$target",o.DI_DEPENDENCIES="$di$dependencies";function i(r){return r[o.DI_DEPENDENCIES]||[]}o.getServiceDependencies=i})(Wi||={});var On=qe("instantiationService");function CT(n,e,t){e[Wi.DI_TARGET]===e?e[Wi.DI_DEPENDENCIES].push({id:n,index:t}):(e[Wi.DI_DEPENDENCIES]=[{id:n,index:t}],e[Wi.DI_TARGET]=e)}function qe(n){if(Wi.serviceIds.has(n))return Wi.serviceIds.get(n);let e=function(t,i,o){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");CT(e,t,o)};return e.toString=()=>n,Wi.serviceIds.set(n,e),e}var _T=qe("environmentService"),z3=_T;var nP=qe("contextService");var Pf="code-workspace",iP=`.${Pf}`,oP=[{name:p("codeWorkspace","Code Workspace"),extensions:[Pf]}];var tn=qe("configurationService");function Bf(n){return n.replace(/[\[\]]/g,"")}function Hf(n){let e=!1,t=new Map,i=new Map;if(kT(n,u=>{if(n===u)return!0;let h=JSON.stringify(u);if(h.length<30)return!0;let g=t.get(h);if(!g){let T={schemas:[u]};return t.set(h,T),i.set(u,T),!0}return g.schemas.push(u),i.set(u,g),e=!0,!1}),t.clear(),!e)return JSON.stringify(n);let r="$defs";for(;n.hasOwnProperty(r);)r+="_";let s=[];function a(u){return JSON.stringify(u,(h,g)=>{if(g!==u){let T=i.get(g);if(T&&T.schemas.length>1)return T.id||(T.id=`_${s.length}`,s.push(T.schemas[0])),{$ref:`#/${r}/${T.id}`}}return g})}let l=a(n),d=[];for(let u=0;u<s.length;u++)d.push(`"_${u}":${a(s[u])}`);return d.length?`${l.substring(0,l.length-1)},"${r}":{${d.join(",")}}}`:l}function dr(n){return typeof n=="object"&&n!==null}function kT(n,e){if(!n||typeof n!="object")return;let t=(...l)=>{for(let d of l)dr(d)&&s.push(d)},i=(...l)=>{for(let d of l)if(dr(d))for(let u in d){let h=d[u];dr(h)&&s.push(h)}},o=(...l)=>{for(let d of l)if(Array.isArray(d))for(let u of d)dr(u)&&s.push(u)},r=l=>{if(Array.isArray(l))for(let d of l)dr(d)&&s.push(d);else dr(l)&&s.push(l)},s=[n],a=s.pop();for(;a;)e(a)&&(t(a.additionalItems,a.additionalProperties,a.not,a.contains,a.propertyNames,a.if,a.then,a.else,a.unevaluatedItems,a.unevaluatedProperties),i(a.definitions,a.$defs,a.properties,a.patternProperties,a.dependencies,a.dependentSchemas),o(a.anyOf,a.allOf,a.oneOf,a.prefixItems),r(a.items)),a=s.pop()}var Zu=class{data=new Map;add(e,t){ia(Qn(e)),ia(un(t)),ia(!this.data.has(e),"There is already an extension with this id"),this.data.set(e,t)}knows(e){return this.data.has(e)}as(e){return this.data.get(e)||null}},gt=new Zu;var bo={JSONContribution:"base.contributions.json"};function LT(n){return n.length>0&&n.charAt(n.length-1)==="#"?n.substring(0,n.length-1):n}var eh=class{schemasById;_onDidChangeSchema=new L;onDidChangeSchema=this._onDidChangeSchema.event;constructor(){this.schemasById={}}registerSchema(e,t){this.schemasById[LT(e)]=t,this._onDidChangeSchema.fire(e)}notifySchemaChanged(e){this._onDidChangeSchema.fire(e)}getSchemaContributions(){return{schemas:this.schemasById}}getSchemaContent(e){let t=this.schemasById[e];return t?Hf(t):void 0}hasSchemaContent(e){return!!this.schemasById[e]}},AT=new eh;gt.add(bo.JSONContribution,AT);var DP=qe("policy");var nh={Configuration:"base.contributions.configuration"};var Ml={properties:{},patternProperties:{}},Rl={properties:{},patternProperties:{}},Ol={properties:{},patternProperties:{}},Fl={properties:{},patternProperties:{}},Pl={properties:{},patternProperties:{}},ps={properties:{},patternProperties:{}},vo="vscode://schemas/settings/resourceLanguage";var Bl=gt.as(bo.JSONContribution),th=class{registeredConfigurationDefaults=[];configurationDefaultsOverrides;defaultLanguageConfigurationOverridesNode;configurationContributors;configurationProperties;policyConfigurations;excludedConfigurationProperties;resourceLanguageSettingsSchema;overrideIdentifiers=new Set;_onDidSchemaChange=new L;onDidSchemaChange=this._onDidSchemaChange.event;_onDidUpdateConfiguration=new L;onDidUpdateConfiguration=this._onDidUpdateConfiguration.event;constructor(){this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:p("defaultLanguageConfigurationOverrides.title","Default Language Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!0,allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.policyConfigurations=new Map,this.excludedConfigurationProperties={},Bl.registerSchema(vo,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}registerConfiguration(e,t=!0){this.registerConfigurations([e],t)}registerConfigurations(e,t=!0){let i=new Set;this.doRegisterConfigurations(e,t,i),Bl.registerSchema(vo,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:i})}deregisterConfigurations(e){let t=new Set;this.doDeregisterConfigurations(e,t),Bl.registerSchema(vo,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:t})}updateConfigurations({add:e,remove:t}){let i=new Set;this.doDeregisterConfigurations(t,i),this.doRegisterConfigurations(e,!1,i),Bl.registerSchema(vo,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:i})}registerDefaultConfigurations(e){let t=new Set;this.doRegisterDefaultConfigurations(e,t),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:t,defaultsOverrides:!0})}doRegisterDefaultConfigurations(e,t){this.registeredConfigurationDefaults.push(...e);let i=[];for(let{overrides:o,source:r}of e)for(let s in o){t.add(s);let a=this.configurationDefaultsOverrides.get(s)??this.configurationDefaultsOverrides.set(s,{configurationDefaultOverrides:[]}).get(s),l=o[s];if(a.configurationDefaultOverrides.push({value:l,source:r}),ms.test(s)){let d=this.mergeDefaultConfigurationsForOverrideIdentifier(s,l,r,a.configurationDefaultOverrideValue);if(!d)continue;a.configurationDefaultOverrideValue=d,this.updateDefaultOverrideProperty(s,d,r),i.push(...NT(s))}else{let d=this.mergeDefaultConfigurationsForConfigurationProperty(s,l,r,a.configurationDefaultOverrideValue);if(!d)continue;a.configurationDefaultOverrideValue=d;let u=this.configurationProperties[s];u&&(this.updatePropertyDefaultValue(s,u),this.updateSchema(s,u))}}this.doRegisterOverrideIdentifiers(i)}deregisterDefaultConfigurations(e){let t=new Set;this.doDeregisterDefaultConfigurations(e,t),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:t,defaultsOverrides:!0})}doDeregisterDefaultConfigurations(e,t){for(let i of e){let o=this.registeredConfigurationDefaults.indexOf(i);o!==-1&&this.registeredConfigurationDefaults.splice(o,1)}for(let{overrides:i,source:o}of e)for(let r in i){let s=this.configurationDefaultsOverrides.get(r);if(!s)continue;let a=s.configurationDefaultOverrides.findIndex(l=>o?l.source?.id===o.id:l.value===i[r]);if(a!==-1){if(s.configurationDefaultOverrides.splice(a,1),s.configurationDefaultOverrides.length===0&&this.configurationDefaultsOverrides.delete(r),ms.test(r)){let l;for(let d of s.configurationDefaultOverrides)l=this.mergeDefaultConfigurationsForOverrideIdentifier(r,d.value,d.source,l);l&&!cm(l.value)?(s.configurationDefaultOverrideValue=l,this.updateDefaultOverrideProperty(r,l,o)):(this.configurationDefaultsOverrides.delete(r),delete this.configurationProperties[r],delete this.defaultLanguageConfigurationOverridesNode.properties[r])}else{let l;for(let u of s.configurationDefaultOverrides)l=this.mergeDefaultConfigurationsForConfigurationProperty(r,u.value,u.source,l);s.configurationDefaultOverrideValue=l;let d=this.configurationProperties[r];d&&(this.updatePropertyDefaultValue(r,d),this.updateSchema(r,d))}t.add(r)}}this.updateOverridePropertyPatternKey()}updateDefaultOverrideProperty(e,t,i){let o={type:"object",default:t.value,description:p("defaultLanguageConfiguration.description","Configure settings to be overridden for the {0} language.",Bf(e)),$ref:vo,defaultDefaultValue:t.value,source:i,defaultValueSource:i};this.configurationProperties[e]=o,this.defaultLanguageConfigurationOverridesNode.properties[e]=o}mergeDefaultConfigurationsForOverrideIdentifier(e,t,i,o){let r=o?.value||{},s=o?.source??new Map;if(!(s instanceof Map)){console.error("objectConfigurationSources is not a Map");return}for(let a of Object.keys(t)){let l=t[a];if(un(l)&&(Di(r[a])||un(r[a]))){if(r[a]={...r[a]??{},...l},i)for(let u in l)s.set(`${a}.${u}`,i)}else r[a]=l,i?s.set(a,i):s.delete(a)}return{value:r,source:s}}mergeDefaultConfigurationsForConfigurationProperty(e,t,i,o){let r=this.configurationProperties[e],s=o?.value??r?.defaultDefaultValue,a=i;if(un(t)&&(r!==void 0&&r.type==="object"||r===void 0&&(Di(s)||un(s)))){if(a=o?.source??new Map,!(a instanceof Map)){console.error("defaultValueSource is not a Map");return}for(let d in t)i&&a.set(`${e}.${d}`,i);t={...un(s)?s:{},...t}}return{value:t,source:a}}deltaConfiguration(e){let t=!1,i=new Set;e.removedDefaults&&(this.doDeregisterDefaultConfigurations(e.removedDefaults,i),t=!0),e.addedDefaults&&(this.doRegisterDefaultConfigurations(e.addedDefaults,i),t=!0),e.removedConfigurations&&this.doDeregisterConfigurations(e.removedConfigurations,i),e.addedConfigurations&&this.doRegisterConfigurations(e.addedConfigurations,!1,i),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:i,defaultsOverrides:t})}notifyConfigurationSchemaUpdated(...e){this._onDidSchemaChange.fire()}registerOverrideIdentifiers(e){this.doRegisterOverrideIdentifiers(e),this._onDidSchemaChange.fire()}doRegisterOverrideIdentifiers(e){for(let t of e)this.overrideIdentifiers.add(t);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(e,t,i){e.forEach(o=>{this.validateAndRegisterProperties(o,t,o.extensionInfo,o.restrictedProperties,void 0,i),this.configurationContributors.push(o),this.registerJSONConfiguration(o)})}doDeregisterConfigurations(e,t){let i=o=>{if(o.properties)for(let r in o.properties){t.add(r);let s=this.configurationProperties[r];s?.policy?.name&&this.policyConfigurations.delete(s.policy.name),delete this.configurationProperties[r],this.removeFromSchema(r,o.properties[r])}o.allOf?.forEach(r=>i(r))};for(let o of e){i(o);let r=this.configurationContributors.indexOf(o);r!==-1&&this.configurationContributors.splice(r,1)}}validateAndRegisterProperties(e,t=!0,i,o,r=3,s){r=Ci(e.scope)?r:e.scope;let a=e.properties;if(a)for(let d in a){let u=a[d];if(t&&RT(d,u)){delete a[d];continue}if(u.source=i,u.defaultDefaultValue=a[d].default,this.updatePropertyDefaultValue(d,u),ms.test(d)?u.scope=void 0:(u.scope=Ci(u.scope)?r:u.scope,u.restricted=Ci(u.restricted)?!!o?.includes(d):u.restricted),a[d].hasOwnProperty("included")&&!a[d].included){this.excludedConfigurationProperties[d]=a[d],delete a[d];continue}else this.configurationProperties[d]=a[d],a[d].policy?.name&&this.policyConfigurations.set(a[d].policy.name,d);!a[d].deprecationMessage&&a[d].markdownDeprecationMessage&&(a[d].deprecationMessage=a[d].markdownDeprecationMessage),s.add(d)}let l=e.allOf;if(l)for(let d of l)this.validateAndRegisterProperties(d,t,i,o,r,s)}getConfigurations(){return this.configurationContributors}getConfigurationProperties(){return this.configurationProperties}getPolicyConfigurations(){return this.policyConfigurations}getExcludedConfigurationProperties(){return this.excludedConfigurationProperties}getRegisteredDefaultConfigurations(){return[...this.registeredConfigurationDefaults]}getConfigurationDefaultsOverrides(){let e=new Map;for(let[t,i]of this.configurationDefaultsOverrides)i.configurationDefaultOverrideValue&&e.set(t,i.configurationDefaultOverrideValue);return e}registerJSONConfiguration(e){let t=i=>{let o=i.properties;if(o)for(let s in o)this.updateSchema(s,o[s]);i.allOf?.forEach(t)};t(e)}updateSchema(e,t){switch(Ml.properties[e]=t,t.scope){case 1:Rl.properties[e]=t;break;case 2:Ol.properties[e]=t;break;case 6:Fl.properties[e]=t;break;case 3:Pl.properties[e]=t;break;case 4:ps.properties[e]=t;break;case 5:ps.properties[e]=t,this.resourceLanguageSettingsSchema.properties[e]=t;break}}removeFromSchema(e,t){switch(delete Ml.properties[e],t.scope){case 1:delete Rl.properties[e];break;case 2:delete Ol.properties[e];break;case 6:delete Fl.properties[e];break;case 3:delete Pl.properties[e];break;case 4:case 5:delete ps.properties[e],delete this.resourceLanguageSettingsSchema.properties[e];break}}updateOverridePropertyPatternKey(){for(let e of this.overrideIdentifiers.values()){let t=`[${e}]`,i={type:"object",description:p("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:p("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:vo};this.updatePropertyDefaultValue(t,i),Ml.properties[t]=i,Rl.properties[t]=i,Ol.properties[t]=i,Fl.properties[t]=i,Pl.properties[t]=i,ps.properties[t]=i}}registerOverridePropertyPatternKey(){let e={type:"object",description:p("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:p("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:vo};Ml.patternProperties[yo]=e,Rl.patternProperties[yo]=e,Ol.patternProperties[yo]=e,Fl.patternProperties[yo]=e,Pl.patternProperties[yo]=e,ps.patternProperties[yo]=e,this._onDidSchemaChange.fire()}updatePropertyDefaultValue(e,t){let i=this.configurationDefaultsOverrides.get(e)?.configurationDefaultOverrideValue,o,r;i&&(!t.disallowConfigurationDefault||!i.source)&&(o=i.value,r=i.source),Di(o)&&(o=t.defaultDefaultValue,r=void 0),Di(o)&&(o=MT(t.type)),t.default=o,t.defaultValueSource=r}},zf="\\[([^\\]]+)\\]",Kf=new RegExp(zf,"g"),yo=`^(${zf})+$`,ms=new RegExp(yo);function NT(n){let e=[];if(ms.test(n)){let t=Kf.exec(n);for(;t?.length;){let i=t[1].trim();i&&e.push(i),t=Kf.exec(n)}}return Qi(e)}function MT(n){switch(Array.isArray(n)?n[0]:n){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}var Hl=new th;gt.add(nh.Configuration,Hl);function RT(n,e){return n.trim()?ms.test(n)?p("config.property.languageDefault","Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",n):Hl.getConfigurationProperties()[n]!==void 0?p("config.property.duplicate","Cannot register '{0}'. This property is already registered.",n):e.policy?.name&&Hl.getPolicyConfigurations().get(e.policy?.name)!==void 0?p("config.policy.duplicate","Cannot register '{0}'. The associated policy {1} is already registered with {2}.",n,e.policy?.name,Hl.getPolicyConfigurations().get(e.policy?.name)):null:p("config.property.empty","Cannot register an empty property")}function ih(...n){switch(n.length){case 1:return p("contextkey.scanner.hint.didYouMean1","Did you mean {0}?",n[0]);case 2:return p("contextkey.scanner.hint.didYouMean2","Did you mean {0} or {1}?",n[0],n[1]);case 3:return p("contextkey.scanner.hint.didYouMean3","Did you mean {0}, {1} or {2}?",n[0],n[1],n[2]);default:return}}var OT=p("contextkey.scanner.hint.didYouForgetToOpenOrCloseQuote","Did you forget to open or close the quote?"),FT=p("contextkey.scanner.hint.didYouForgetToEscapeSlash","Did you forget to escape the '/' (slash) character? Put two backslashes before it to escape, e.g., '\\\\/'."),$i=class n{static getLexeme(e){switch(e.type){case 0:return"(";case 1:return")";case 2:return"!";case 3:return e.isTripleEq?"===":"==";case 4:return e.isTripleEq?"!==":"!=";case 5:return"<";case 6:return"<=";case 7:return">=";case 8:return">=";case 9:return"=~";case 10:return e.lexeme;case 11:return"true";case 12:return"false";case 13:return"in";case 14:return"not";case 15:return"&&";case 16:return"||";case 17:return e.lexeme;case 18:return e.lexeme;case 19:return e.lexeme;case 20:return"EOF";default:throw tp(`unhandled token type: ${JSON.stringify(e)}; have you forgotten to add a case?`)}}static _regexFlags=new Set(["i","g","s","m","y","u"].map(e=>e.charCodeAt(0)));static _keywords=new Map([["not",14],["in",13],["false",12],["true",11]]);_input="";_start=0;_current=0;_tokens=[];_errors=[];get errors(){return this._errors}reset(e){return this._input=e,this._start=0,this._current=0,this._tokens=[],this._errors=[],this}scan(){for(;!this._isAtEnd();)switch(this._start=this._current,this._advance()){case 40:this._addToken(0);break;case 41:this._addToken(1);break;case 33:if(this._match(61)){let t=this._match(61);this._tokens.push({type:4,offset:this._start,isTripleEq:t})}else this._addToken(2);break;case 39:this._quotedString();break;case 47:this._regex();break;case 61:if(this._match(61)){let t=this._match(61);this._tokens.push({type:3,offset:this._start,isTripleEq:t})}else this._match(126)?this._addToken(9):this._error(ih("==","=~"));break;case 60:this._addToken(this._match(61)?6:5);break;case 62:this._addToken(this._match(61)?8:7);break;case 38:this._match(38)?this._addToken(15):this._error(ih("&&"));break;case 124:this._match(124)?this._addToken(16):this._error(ih("||"));break;case 32:case 13:case 9:case 10:case 160:break;default:this._string()}return this._start=this._current,this._addToken(20),Array.from(this._tokens)}_match(e){return this._isAtEnd()||this._input.charCodeAt(this._current)!==e?!1:(this._current++,!0)}_advance(){return this._input.charCodeAt(this._current++)}_peek(){return this._isAtEnd()?0:this._input.charCodeAt(this._current)}_addToken(e){this._tokens.push({type:e,offset:this._start})}_error(e){let t=this._start,i=this._input.substring(this._start,this._current),o={type:19,offset:this._start,lexeme:i};this._errors.push({offset:t,lexeme:i,additionalInfo:e}),this._tokens.push(o)}stringRe=/[a-zA-Z0-9_<>\-\./\\:\*\?\+\[\]\^,#@;"%\$\p{L}-]+/uy;_string(){this.stringRe.lastIndex=this._start;let e=this.stringRe.exec(this._input);if(e){this._current=this._start+e[0].length;let t=this._input.substring(this._start,this._current),i=n._keywords.get(t);i?this._addToken(i):this._tokens.push({type:17,lexeme:t,offset:this._start})}}_quotedString(){for(;this._peek()!==39&&!this._isAtEnd();)this._advance();if(this._isAtEnd()){this._error(OT);return}this._advance(),this._tokens.push({type:18,lexeme:this._input.substring(this._start+1,this._current-1),offset:this._start+1})}_regex(){let e=this._current,t=!1,i=!1;for(;;){if(e>=this._input.length){this._current=e,this._error(FT);return}let r=this._input.charCodeAt(e);if(t)t=!1;else if(r===47&&!i){e++;break}else r===91?i=!0:r===92?t=!0:r===93&&(i=!1);e++}for(;e<this._input.length&&n._regexFlags.has(this._input.charCodeAt(e));)e++;this._current=e;let o=this._input.substring(this._start,this._current);this._tokens.push({type:10,lexeme:o,offset:this._start})}_isAtEnd(){return this._current>=this._input.length}};var ut=new Map;ut.set("false",!1);ut.set("true",!0);ut.set("isMac",Ee);ut.set("isLinux",sn);ut.set("isWindows",rt);ut.set("isWeb",gi);ut.set("isMacNative",Ee&&!gi);ut.set("isEdge",bp);ut.set("isFirefox",fp);ut.set("isChrome",Ld);ut.set("isSafari",gp);var PT=Object.prototype.hasOwnProperty;var BT={regexParsingWithErrorRecovery:!0},HT=p("contextkey.parser.error.emptyString","Empty context key expression"),KT=p("contextkey.parser.error.emptyString.hint","Did you forget to write an expression? You can also put 'false' or 'true' to always evaluate to false or true, respectively."),zT=p("contextkey.parser.error.noInAfterNot","'in' after 'not'."),Uf=p("contextkey.parser.error.closingParenthesis","closing parenthesis ')'"),UT=p("contextkey.parser.error.unexpectedToken","Unexpected token"),VT=p("contextkey.parser.error.unexpectedToken.hint","Did you forget to put && or || before the token?"),WT=p("contextkey.parser.error.unexpectedEOF","Unexpected end of expression"),$T=p("contextkey.parser.error.unexpectedEOF.hint","Did you forget to put a context key?"),oh=class n{constructor(e=BT){this._config=e}static _parseError=new Error;_scanner=new $i;_tokens=[];_current=0;_parsingErrors=[];get lexingErrors(){return this._scanner.errors}get parsingErrors(){return this._parsingErrors}parse(e){if(e===""){this._parsingErrors.push({message:HT,offset:0,lexeme:"",additionalInfo:KT});return}this._tokens=this._scanner.reset(e).scan(),this._current=0,this._parsingErrors=[];try{let t=this._expr();if(!this._isAtEnd()){let i=this._peek(),o=i.type===17?VT:void 0;throw this._parsingErrors.push({message:UT,offset:i.offset,lexeme:$i.getLexeme(i),additionalInfo:o}),n._parseError}return t}catch(t){if(t!==n._parseError)throw t;return}}_expr(){return this._or()}_or(){let e=[this._and()];for(;this._matchOne(16);){let t=this._and();e.push(t)}return e.length===1?e[0]:Ge.or(...e)}_and(){let e=[this._term()];for(;this._matchOne(15);){let t=this._term();e.push(t)}return e.length===1?e[0]:Ge.and(...e)}_term(){if(this._matchOne(2)){let e=this._peek();switch(e.type){case 11:return this._advance(),bt.INSTANCE;case 12:return this._advance(),St.INSTANCE;case 0:{this._advance();let t=this._expr();return this._consume(1,Uf),t?.negate()}case 17:return this._advance(),Io.create(e.lexeme);default:throw this._errExpectedButGot("KEY | true | false | '(' expression ')'",e)}}return this._primary()}_primary(){let e=this._peek();switch(e.type){case 11:return this._advance(),Ge.true();case 12:return this._advance(),Ge.false();case 0:{this._advance();let t=this._expr();return this._consume(1,Uf),t}case 17:{let t=e.lexeme;if(this._advance(),this._matchOne(9)){let o=this._peek();if(!this._config.regexParsingWithErrorRecovery){if(this._advance(),o.type!==10)throw this._errExpectedButGot("REGEX",o);let r=o.lexeme,s=r.lastIndexOf("/"),a=s===r.length-1?void 0:this._removeFlagsGY(r.substring(s+1)),l;try{l=new RegExp(r.substring(1,s),a)}catch{throw this._errExpectedButGot("REGEX",o)}return xs.create(t,l)}switch(o.type){case 10:case 19:{let r=[o.lexeme];this._advance();let s=this._peek(),a=0;for(let g=0;g<o.lexeme.length;g++)o.lexeme.charCodeAt(g)===40?a++:o.lexeme.charCodeAt(g)===41&&a--;for(;!this._isAtEnd()&&s.type!==15&&s.type!==16;){switch(s.type){case 0:a++;break;case 1:a--;break;case 10:case 18:for(let g=0;g<s.lexeme.length;g++)s.lexeme.charCodeAt(g)===40?a++:o.lexeme.charCodeAt(g)===41&&a--}if(a<0)break;r.push($i.getLexeme(s)),this._advance(),s=this._peek()}let l=r.join(""),d=l.lastIndexOf("/"),u=d===l.length-1?void 0:this._removeFlagsGY(l.substring(d+1)),h;try{h=new RegExp(l.substring(1,d),u)}catch{throw this._errExpectedButGot("REGEX",o)}return Ge.regex(t,h)}case 18:{let r=o.lexeme;this._advance();let s=null;if(!om(r)){let a=r.indexOf("/"),l=r.lastIndexOf("/");if(a!==l&&a>=0){let d=r.slice(a+1,l),u=r[l+1]==="i"?"i":"";try{s=new RegExp(d,u)}catch{throw this._errExpectedButGot("REGEX",o)}}}if(s===null)throw this._errExpectedButGot("REGEX",o);return xs.create(t,s)}default:throw this._errExpectedButGot("REGEX",this._peek())}}if(this._matchOne(14)){this._consume(13,zT);let o=this._value();return Ge.notIn(t,o)}switch(this._peek().type){case 3:{this._advance();let o=this._value();if(this._previous().type===18)return Ge.equals(t,o);switch(o){case"true":return Ge.has(t);case"false":return Ge.not(t);default:return Ge.equals(t,o)}}case 4:{this._advance();let o=this._value();if(this._previous().type===18)return Ge.notEquals(t,o);switch(o){case"true":return Ge.not(t);case"false":return Ge.has(t);default:return Ge.notEquals(t,o)}}case 5:return this._advance(),Ts.create(t,this._value());case 6:return this._advance(),Is.create(t,this._value());case 7:return this._advance(),vs.create(t,this._value());case 8:return this._advance(),ys.create(t,this._value());case 13:return this._advance(),Ge.in(t,this._value());default:return Ge.has(t)}}case 20:throw this._parsingErrors.push({message:WT,offset:e.offset,lexeme:"",additionalInfo:$T}),n._parseError;default:throw this._errExpectedButGot(`true | false | KEY 
	| KEY '=~' REGEX 
	| KEY ('==' | '!=' | '<' | '<=' | '>' | '>=' | 'in' | 'not' 'in') value`,this._peek())}}_value(){let e=this._peek();switch(e.type){case 17:case 18:return this._advance(),e.lexeme;case 11:return this._advance(),"true";case 12:return this._advance(),"false";case 13:return this._advance(),"in";default:return""}}_flagsGYRe=/g|y/g;_removeFlagsGY(e){return e.replaceAll(this._flagsGYRe,"")}_previous(){return this._tokens[this._current-1]}_matchOne(e){return this._check(e)?(this._advance(),!0):!1}_advance(){return this._isAtEnd()||this._current++,this._previous()}_consume(e,t){if(this._check(e))return this._advance();throw this._errExpectedButGot(t,this._peek())}_errExpectedButGot(e,t,i){let o=p("contextkey.parser.error.expectedButGot",`Expected: {0}
Received: '{1}'.`,e,$i.getLexeme(t)),r=t.offset,s=$i.getLexeme(t);return this._parsingErrors.push({message:o,offset:r,lexeme:s,additionalInfo:i}),n._parseError}_check(e){return this._peek().type===e}_peek(){return this._tokens[this._current]}_isAtEnd(){return this._peek().type===20}},Ge=class{static false(){return bt.INSTANCE}static true(){return St.INSTANCE}static has(e){return To.create(e)}static equals(e,t){return gs.create(e,t)}static notEquals(e,t){return bs.create(e,t)}static regex(e,t){return xs.create(e,t)}static in(e,t){return Kl.create(e,t)}static notIn(e,t){return zl.create(e,t)}static not(e){return Io.create(e)}static and(...e){return Ul.create(e,null,!0)}static or(...e){return Ss.create(e,null,!0)}static greater(e,t){return vs.create(e,t)}static greaterEquals(e,t){return ys.create(e,t)}static smaller(e,t){return Ts.create(e,t)}static smallerEquals(e,t){return Is.create(e,t)}static _parser=new oh({regexParsingWithErrorRecovery:!1});static deserialize(e){return e==null?void 0:this._parser.parse(e)}};function fs(n,e){return n.cmp(e)}var bt=class n{static INSTANCE=new n;type=0;constructor(){}cmp(e){return this.type-e.type}equals(e){return e.type===this.type}substituteConstants(){return this}evaluate(e){return!1}serialize(){return"false"}keys(){return[]}map(e){return this}negate(){return St.INSTANCE}},St=class n{static INSTANCE=new n;type=1;constructor(){}cmp(e){return this.type-e.type}equals(e){return e.type===this.type}substituteConstants(){return this}evaluate(e){return!0}serialize(){return"true"}keys(){return[]}map(e){return this}negate(){return bt.INSTANCE}},To=class n{constructor(e,t){this.key=e;this.negated=t}static create(e,t=null){let i=ut.get(e);return typeof i=="boolean"?i?St.INSTANCE:bt.INSTANCE:new n(e,t)}type=2;cmp(e){return e.type!==this.type?this.type-e.type:$f(this.key,e.key)}equals(e){return e.type===this.type?this.key===e.key:!1}substituteConstants(){let e=ut.get(this.key);return typeof e=="boolean"?e?St.INSTANCE:bt.INSTANCE:this}evaluate(e){return!!e.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}map(e){return e.mapDefined(this.key)}negate(){return this.negated||(this.negated=Io.create(this.key,this)),this.negated}},gs=class n{constructor(e,t,i){this.key=e;this.value=t;this.negated=i}static create(e,t,i=null){if(typeof t=="boolean")return t?To.create(e,i):Io.create(e,i);let o=ut.get(e);return typeof o=="boolean"?t===(o?"true":"false")?St.INSTANCE:bt.INSTANCE:new n(e,t,i)}type=4;cmp(e){return e.type!==this.type?this.type-e.type:xo(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){let e=ut.get(this.key);if(typeof e=="boolean"){let t=e?"true":"false";return this.value===t?St.INSTANCE:bt.INSTANCE}return this}evaluate(e){return e.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}map(e){return e.mapEquals(this.key,this.value)}negate(){return this.negated||(this.negated=bs.create(this.key,this.value,this)),this.negated}},Kl=class n{constructor(e,t){this.key=e;this.valueKey=t}static create(e,t){return new n(e,t)}type=10;negated=null;cmp(e){return e.type!==this.type?this.type-e.type:xo(this.key,this.valueKey,e.key,e.valueKey)}equals(e){return e.type===this.type?this.key===e.key&&this.valueKey===e.valueKey:!1}substituteConstants(){return this}evaluate(e){let t=e.getValue(this.valueKey),i=e.getValue(this.key);return Array.isArray(t)?t.includes(i):typeof i=="string"&&typeof t=="object"&&t!==null?PT.call(t,i):!1}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}map(e){return e.mapIn(this.key,this.valueKey)}negate(){return this.negated||(this.negated=zl.create(this.key,this.valueKey)),this.negated}},zl=class n{constructor(e,t){this.key=e;this.valueKey=t;this._negated=Kl.create(e,t)}static create(e,t){return new n(e,t)}type=11;_negated;cmp(e){return e.type!==this.type?this.type-e.type:this._negated.cmp(e._negated)}equals(e){return e.type===this.type?this._negated.equals(e._negated):!1}substituteConstants(){return this}evaluate(e){return!this._negated.evaluate(e)}serialize(){return`${this.key} not in '${this.valueKey}'`}keys(){return this._negated.keys()}map(e){return e.mapNotIn(this.key,this.valueKey)}negate(){return this._negated}},bs=class n{constructor(e,t,i){this.key=e;this.value=t;this.negated=i}static create(e,t,i=null){if(typeof t=="boolean")return t?Io.create(e,i):To.create(e,i);let o=ut.get(e);return typeof o=="boolean"?t===(o?"true":"false")?bt.INSTANCE:St.INSTANCE:new n(e,t,i)}type=5;cmp(e){return e.type!==this.type?this.type-e.type:xo(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){let e=ut.get(this.key);if(typeof e=="boolean"){let t=e?"true":"false";return this.value===t?bt.INSTANCE:St.INSTANCE}return this}evaluate(e){return e.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}map(e){return e.mapNotEquals(this.key,this.value)}negate(){return this.negated||(this.negated=gs.create(this.key,this.value,this)),this.negated}},Io=class n{constructor(e,t){this.key=e;this.negated=t}static create(e,t=null){let i=ut.get(e);return typeof i=="boolean"?i?bt.INSTANCE:St.INSTANCE:new n(e,t)}type=3;cmp(e){return e.type!==this.type?this.type-e.type:$f(this.key,e.key)}equals(e){return e.type===this.type?this.key===e.key:!1}substituteConstants(){let e=ut.get(this.key);return typeof e=="boolean"?e?bt.INSTANCE:St.INSTANCE:this}evaluate(e){return!e.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}map(e){return e.mapNot(this.key)}negate(){return this.negated||(this.negated=To.create(this.key,this)),this.negated}};function Vl(n,e){if(typeof n=="string"){let t=parseFloat(n);isNaN(t)||(n=t)}return typeof n=="string"||typeof n=="number"?e(n):bt.INSTANCE}var vs=class n{constructor(e,t,i){this.key=e;this.value=t;this.negated=i}static create(e,t,i=null){return Vl(t,o=>new n(e,o,i))}type=12;cmp(e){return e.type!==this.type?this.type-e.type:xo(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}map(e){return e.mapGreater(this.key,this.value)}negate(){return this.negated||(this.negated=Is.create(this.key,this.value,this)),this.negated}},ys=class n{constructor(e,t,i){this.key=e;this.value=t;this.negated=i}static create(e,t,i=null){return Vl(t,o=>new n(e,o,i))}type=13;cmp(e){return e.type!==this.type?this.type-e.type:xo(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}map(e){return e.mapGreaterEquals(this.key,this.value)}negate(){return this.negated||(this.negated=Ts.create(this.key,this.value,this)),this.negated}},Ts=class n{constructor(e,t,i){this.key=e;this.value=t;this.negated=i}static create(e,t,i=null){return Vl(t,o=>new n(e,o,i))}type=14;cmp(e){return e.type!==this.type?this.type-e.type:xo(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}map(e){return e.mapSmaller(this.key,this.value)}negate(){return this.negated||(this.negated=ys.create(this.key,this.value,this)),this.negated}},Is=class n{constructor(e,t,i){this.key=e;this.value=t;this.negated=i}static create(e,t,i=null){return Vl(t,o=>new n(e,o,i))}type=15;cmp(e){return e.type!==this.type?this.type-e.type:xo(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}map(e){return e.mapSmallerEquals(this.key,this.value)}negate(){return this.negated||(this.negated=vs.create(this.key,this.value,this)),this.negated}},xs=class n{constructor(e,t){this.key=e;this.regexp=t}static create(e,t){return new n(e,t)}type=7;negated=null;cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.key<e.key)return-1;if(this.key>e.key)return 1;let t=this.regexp?this.regexp.source:"",i=e.regexp?e.regexp.source:"";return t<i?-1:t>i?1:0}equals(e){if(e.type===this.type){let t=this.regexp?this.regexp.source:"",i=e.regexp?e.regexp.source:"";return this.key===e.key&&t===i}return!1}substituteConstants(){return this}evaluate(e){let t=e.getValue(this.key);return this.regexp?this.regexp.test(t):!1}serialize(){let e=this.regexp?`/${this.regexp.source}/${this.regexp.flags}`:"/invalid/";return`${this.key} =~ ${e}`}keys(){return[this.key]}map(e){return e.mapRegex(this.key,this.regexp)}negate(){return this.negated||(this.negated=rh.create(this)),this.negated}},rh=class n{constructor(e){this._actual=e}static create(e){return new n(e)}type=8;cmp(e){return e.type!==this.type?this.type-e.type:this._actual.cmp(e._actual)}equals(e){return e.type===this.type?this._actual.equals(e._actual):!1}substituteConstants(){return this}evaluate(e){return!this._actual.evaluate(e)}serialize(){return`!(${this._actual.serialize()})`}keys(){return this._actual.keys()}map(e){return new n(this._actual.map(e))}negate(){return this._actual}};function Wf(n){let e=null;for(let t=0,i=n.length;t<i;t++){let o=n[t].substituteConstants();if(n[t]!==o&&e===null){e=[];for(let r=0;r<t;r++)e[r]=n[r]}e!==null&&(e[t]=o)}return e===null?n:e}var Ul=class n{constructor(e,t){this.expr=e;this.negated=t}static create(e,t,i){return n._normalizeArr(e,t,i)}type=6;cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.expr.length<e.expr.length)return-1;if(this.expr.length>e.expr.length)return 1;for(let t=0,i=this.expr.length;t<i;t++){let o=fs(this.expr[t],e.expr[t]);if(o!==0)return o}return 0}equals(e){if(e.type===this.type){if(this.expr.length!==e.expr.length)return!1;for(let t=0,i=this.expr.length;t<i;t++)if(!this.expr[t].equals(e.expr[t]))return!1;return!0}return!1}substituteConstants(){let e=Wf(this.expr);return e===this.expr?this:n.create(e,this.negated,!1)}evaluate(e){for(let t=0,i=this.expr.length;t<i;t++)if(!this.expr[t].evaluate(e))return!1;return!0}static _normalizeArr(e,t,i){let o=[],r=!1;for(let s of e)if(s){if(s.type===1){r=!0;continue}if(s.type===0)return bt.INSTANCE;if(s.type===6){o.push(...s.expr);continue}o.push(s)}if(o.length===0&&r)return St.INSTANCE;if(o.length!==0){if(o.length===1)return o[0];o.sort(fs);for(let s=1;s<o.length;s++)o[s-1].equals(o[s])&&(o.splice(s,1),s--);if(o.length===1)return o[0];for(;o.length>1;){let s=o[o.length-1];if(s.type!==9)break;o.pop();let a=o.pop(),l=o.length===0,d=Ss.create(s.expr.map(u=>n.create([u,a],null,i)),null,l);d&&(o.push(d),o.sort(fs))}if(o.length===1)return o[0];if(i){for(let s=0;s<o.length;s++)for(let a=s+1;a<o.length;a++)if(o[s].negate().equals(o[a]))return bt.INSTANCE;if(o.length===1)return o[0]}return new n(o,t)}}serialize(){return this.expr.map(e=>e.serialize()).join(" && ")}keys(){let e=[];for(let t of this.expr)e.push(...t.keys());return e}map(e){return new n(this.expr.map(t=>t.map(e)),null)}negate(){if(!this.negated){let e=[];for(let t of this.expr)e.push(t.negate());this.negated=Ss.create(e,this,!0)}return this.negated}},Ss=class n{constructor(e,t){this.expr=e;this.negated=t}static create(e,t,i){return n._normalizeArr(e,t,i)}type=9;cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.expr.length<e.expr.length)return-1;if(this.expr.length>e.expr.length)return 1;for(let t=0,i=this.expr.length;t<i;t++){let o=fs(this.expr[t],e.expr[t]);if(o!==0)return o}return 0}equals(e){if(e.type===this.type){if(this.expr.length!==e.expr.length)return!1;for(let t=0,i=this.expr.length;t<i;t++)if(!this.expr[t].equals(e.expr[t]))return!1;return!0}return!1}substituteConstants(){let e=Wf(this.expr);return e===this.expr?this:n.create(e,this.negated,!1)}evaluate(e){for(let t=0,i=this.expr.length;t<i;t++)if(this.expr[t].evaluate(e))return!0;return!1}static _normalizeArr(e,t,i){let o=[],r=!1;if(e){for(let s=0,a=e.length;s<a;s++){let l=e[s];if(l){if(l.type===0){r=!0;continue}if(l.type===1)return St.INSTANCE;if(l.type===9){o=o.concat(l.expr);continue}o.push(l)}}if(o.length===0&&r)return bt.INSTANCE;o.sort(fs)}if(o.length!==0){if(o.length===1)return o[0];for(let s=1;s<o.length;s++)o[s-1].equals(o[s])&&(o.splice(s,1),s--);if(o.length===1)return o[0];if(i){for(let s=0;s<o.length;s++)for(let a=s+1;a<o.length;a++)if(o[s].negate().equals(o[a]))return St.INSTANCE;if(o.length===1)return o[0]}return new n(o,t)}}serialize(){return this.expr.map(e=>e.serialize()).join(" || ")}keys(){let e=[];for(let t of this.expr)e.push(...t.keys());return e}map(e){return new n(this.expr.map(t=>t.map(e)),null)}negate(){if(!this.negated){let e=[];for(let t of this.expr)e.push(t.negate());for(;e.length>1;){let t=e.shift(),i=e.shift(),o=[];for(let r of Vf(t))for(let s of Vf(i))o.push(Ul.create([r,s],null,!1));e.unshift(n.create(o,null,!1))}this.negated=n.create(e,this,!0)}return this.negated}},Fe=class n extends To{static _info=[];static all(){return n._info.values()}_defaultValue;constructor(e,t,i){super(e,null),this._defaultValue=t,typeof i=="object"?n._info.push({...i,key:e}):i!==!0&&n._info.push({key:e,description:i,type:t!=null?typeof t:void 0})}bindTo(e){return e.createKey(this.key,this._defaultValue)}getValue(e){return e.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(e){return gs.create(this.key,e)}notEqualsTo(e){return bs.create(this.key,e)}},qt=qe("contextKeyService");function $f(n,e){return n<e?-1:n>e?1:0}function xo(n,e,t,i){return n<t?-1:n>t?1:e<i?-1:e>i?1:0}function Vf(n){return n.type===9?n.expr:[n]}var cB=new Fe("isMac",Ee,p("isMac","Whether the operating system is macOS")),uB=new Fe("isLinux",sn,p("isLinux","Whether the operating system is Linux")),hB=new Fe("isWindows",rt,p("isWindows","Whether the operating system is Windows")),pB=new Fe("isWeb",gi,p("isWeb","Whether the platform is a web browser")),mB=new Fe("isMacNative",Ee&&!gi,p("isMacNative","Whether the operating system is macOS on a non-browser platform")),fB=new Fe("isIOS",Js,p("isIOS","Whether the operating system is iOS")),gB=new Fe("isMobile",pp,p("isMobile","Whether the platform is a mobile web browser")),bB=new Fe("isDevelopment",!1,!0),vB=new Fe("productQualityType","",p("productQualityType","Quality type of VS Code")),sh="inputFocus",yB=new Fe(sh,!1,p("inputFocus","Whether keyboard focus is inside an input box"));var HB=Object.freeze({View:Zi("view","View"),Help:Zi("help","Help"),Test:Zi("test","Test"),File:Zi("file","File"),Preferences:Zi("preferences","Preferences"),Developer:Zi({key:"developer",comment:["A developer on Code itself or someone diagnosing issues in Code"]},"Developer")});var ah=qe("commandService"),ws=new class{_commands=new Map;_onDidRegisterCommand=new L;onDidRegisterCommand=this._onDidRegisterCommand.event;registerCommand(n,e){if(!n)throw new Error("invalid command");if(typeof n=="string"){if(!e)throw new Error("invalid command");return this.registerCommand({id:n,handler:e})}if(n.metadata&&Array.isArray(n.metadata.args)){let s=[];for(let l of n.metadata.args)s.push(l.constraint);let a=n.handler;n.handler=function(l,...d){return um(d,s),a(l,...d)}}let{id:t}=n,i=this._commands.get(t);i||(i=new Yt,this._commands.set(t,i));let o=i.unshift(n),r=ce(()=>{o(),this._commands.get(t)?.isEmpty()&&this._commands.delete(t)});return this._onDidRegisterCommand.fire(t),r}registerCommandAlias(n,e){return ws.registerCommand(n,(t,...i)=>t.get(ah).executeCommand(e,...i))}getCommand(n){let e=this._commands.get(n);if(!(!e||e.isEmpty()))return le.first(e)}getCommands(){let n=new Map;for(let e of this._commands.keys()){let t=this.getCommand(e);t&&n.set(e,t)}return n}};ws.registerCommand("noop",()=>{});var lh=class n{_coreKeybindings;_extensionKeybindings;_cachedMergedKeybindings;constructor(){this._coreKeybindings=new Yt,this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(e){if(Fo===1){if(e&&e.win)return e.win}else if(Fo===2){if(e&&e.mac)return e.mac}else if(e&&e.linux)return e.linux;return e}registerKeybindingRule(e){let t=n.bindToCurrentPlatform(e),i=new j;if(t&&t.primary){let o=oc(t.primary,Fo);o&&i.add(this._registerDefaultKeybinding(o,e.id,e.args,e.weight,0,e.when))}if(t&&Array.isArray(t.secondary))for(let o=0,r=t.secondary.length;o<r;o++){let s=t.secondary[o],a=oc(s,Fo);a&&i.add(this._registerDefaultKeybinding(a,e.id,e.args,e.weight,-o-1,e.when))}return i}setExtensionKeybindings(e){let t=[],i=0;for(let o of e)o.keybinding&&(t[i++]={keybinding:o.keybinding,command:o.id,commandArgs:o.args,when:o.when,weight1:o.weight,weight2:0,extensionId:o.extensionId||null,isBuiltinExtension:o.isBuiltinExtension||!1});this._extensionKeybindings=t,this._cachedMergedKeybindings=null}registerCommandAndKeybindingRule(e){return Yn(this.registerKeybindingRule(e),ws.registerCommand(e))}_registerDefaultKeybinding(e,t,i,o,r,s){let a=this._coreKeybindings.push({keybinding:e,command:t,commandArgs:i,when:s,weight1:o,weight2:r,extensionId:null,isBuiltinExtension:!1});return this._cachedMergedKeybindings=null,ce(()=>{a(),this._cachedMergedKeybindings=null})}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=Array.from(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(GT)),this._cachedMergedKeybindings.slice(0)}},qf=new lh,qT={EditorModes:"platform.keybindingsRegistry"};gt.add(qT.EditorModes,qf);function GT(n,e){if(n.weight1!==e.weight1)return n.weight1-e.weight1;if(n.command&&e.command){if(n.command<e.command)return-1;if(n.command>e.command)return 1}return n.weight2-e.weight2}function YT(n){return n.command!==void 0}var Es=class n{static _instances=new Map;static CommandPalette=new n("CommandPalette");static DebugBreakpointsContext=new n("DebugBreakpointsContext");static DebugCallStackContext=new n("DebugCallStackContext");static DebugConsoleContext=new n("DebugConsoleContext");static DebugVariablesContext=new n("DebugVariablesContext");static NotebookVariablesContext=new n("NotebookVariablesContext");static DebugHoverContext=new n("DebugHoverContext");static DebugWatchContext=new n("DebugWatchContext");static DebugToolBar=new n("DebugToolBar");static DebugToolBarStop=new n("DebugToolBarStop");static DebugCallStackToolbar=new n("DebugCallStackToolbar");static DebugCreateConfiguration=new n("DebugCreateConfiguration");static EditorContext=new n("EditorContext");static SimpleEditorContext=new n("SimpleEditorContext");static EditorContent=new n("EditorContent");static EditorLineNumberContext=new n("EditorLineNumberContext");static EditorContextCopy=new n("EditorContextCopy");static EditorContextPeek=new n("EditorContextPeek");static EditorContextShare=new n("EditorContextShare");static EditorTitle=new n("EditorTitle");static EditorTitleRun=new n("EditorTitleRun");static EditorTitleContext=new n("EditorTitleContext");static EditorTitleContextShare=new n("EditorTitleContextShare");static EmptyEditorGroup=new n("EmptyEditorGroup");static EmptyEditorGroupContext=new n("EmptyEditorGroupContext");static EditorTabsBarContext=new n("EditorTabsBarContext");static EditorTabsBarShowTabsSubmenu=new n("EditorTabsBarShowTabsSubmenu");static EditorTabsBarShowTabsZenModeSubmenu=new n("EditorTabsBarShowTabsZenModeSubmenu");static EditorActionsPositionSubmenu=new n("EditorActionsPositionSubmenu");static ExplorerContext=new n("ExplorerContext");static ExplorerContextShare=new n("ExplorerContextShare");static ExtensionContext=new n("ExtensionContext");static ExtensionEditorContextMenu=new n("ExtensionEditorContextMenu");static GlobalActivity=new n("GlobalActivity");static CommandCenter=new n("CommandCenter");static CommandCenterCenter=new n("CommandCenterCenter");static LayoutControlMenuSubmenu=new n("LayoutControlMenuSubmenu");static LayoutControlMenu=new n("LayoutControlMenu");static MenubarMainMenu=new n("MenubarMainMenu");static MenubarAppearanceMenu=new n("MenubarAppearanceMenu");static MenubarDebugMenu=new n("MenubarDebugMenu");static MenubarEditMenu=new n("MenubarEditMenu");static MenubarCopy=new n("MenubarCopy");static MenubarFileMenu=new n("MenubarFileMenu");static MenubarGoMenu=new n("MenubarGoMenu");static MenubarHelpMenu=new n("MenubarHelpMenu");static MenubarLayoutMenu=new n("MenubarLayoutMenu");static MenubarNewBreakpointMenu=new n("MenubarNewBreakpointMenu");static PanelAlignmentMenu=new n("PanelAlignmentMenu");static PanelPositionMenu=new n("PanelPositionMenu");static ActivityBarPositionMenu=new n("ActivityBarPositionMenu");static MenubarPreferencesMenu=new n("MenubarPreferencesMenu");static MenubarRecentMenu=new n("MenubarRecentMenu");static MenubarSelectionMenu=new n("MenubarSelectionMenu");static MenubarShare=new n("MenubarShare");static MenubarSwitchEditorMenu=new n("MenubarSwitchEditorMenu");static MenubarSwitchGroupMenu=new n("MenubarSwitchGroupMenu");static MenubarTerminalMenu=new n("MenubarTerminalMenu");static MenubarViewMenu=new n("MenubarViewMenu");static MenubarHomeMenu=new n("MenubarHomeMenu");static OpenEditorsContext=new n("OpenEditorsContext");static OpenEditorsContextShare=new n("OpenEditorsContextShare");static ProblemsPanelContext=new n("ProblemsPanelContext");static SCMInputBox=new n("SCMInputBox");static SCMChangesContext=new n("SCMChangesContext");static SCMChangeContext=new n("SCMChangeContext");static SCMResourceContext=new n("SCMResourceContext");static SCMResourceContextShare=new n("SCMResourceContextShare");static SCMResourceFolderContext=new n("SCMResourceFolderContext");static SCMResourceGroupContext=new n("SCMResourceGroupContext");static SCMSourceControl=new n("SCMSourceControl");static SCMSourceControlInline=new n("SCMSourceControlInline");static SCMSourceControlTitle=new n("SCMSourceControlTitle");static SCMHistoryTitle=new n("SCMHistoryTitle");static SCMTitle=new n("SCMTitle");static SearchContext=new n("SearchContext");static SearchActionMenu=new n("SearchActionContext");static StatusBarWindowIndicatorMenu=new n("StatusBarWindowIndicatorMenu");static StatusBarRemoteIndicatorMenu=new n("StatusBarRemoteIndicatorMenu");static StickyScrollContext=new n("StickyScrollContext");static TestItem=new n("TestItem");static TestItemGutter=new n("TestItemGutter");static TestProfilesContext=new n("TestProfilesContext");static TestMessageContext=new n("TestMessageContext");static TestMessageContent=new n("TestMessageContent");static TestPeekElement=new n("TestPeekElement");static TestPeekTitle=new n("TestPeekTitle");static TestCallStack=new n("TestCallStack");static TouchBarContext=new n("TouchBarContext");static TitleBarContext=new n("TitleBarContext");static TitleBarTitleContext=new n("TitleBarTitleContext");static TunnelContext=new n("TunnelContext");static TunnelPrivacy=new n("TunnelPrivacy");static TunnelProtocol=new n("TunnelProtocol");static TunnelPortInline=new n("TunnelInline");static TunnelTitle=new n("TunnelTitle");static TunnelLocalAddressInline=new n("TunnelLocalAddressInline");static TunnelOriginInline=new n("TunnelOriginInline");static ViewItemContext=new n("ViewItemContext");static ViewContainerTitle=new n("ViewContainerTitle");static ViewContainerTitleContext=new n("ViewContainerTitleContext");static ViewTitle=new n("ViewTitle");static ViewTitleContext=new n("ViewTitleContext");static CommentEditorActions=new n("CommentEditorActions");static CommentThreadTitle=new n("CommentThreadTitle");static CommentThreadActions=new n("CommentThreadActions");static CommentThreadAdditionalActions=new n("CommentThreadAdditionalActions");static CommentThreadTitleContext=new n("CommentThreadTitleContext");static CommentThreadCommentContext=new n("CommentThreadCommentContext");static CommentTitle=new n("CommentTitle");static CommentActions=new n("CommentActions");static CommentsViewThreadActions=new n("CommentsViewThreadActions");static InteractiveToolbar=new n("InteractiveToolbar");static InteractiveCellTitle=new n("InteractiveCellTitle");static InteractiveCellDelete=new n("InteractiveCellDelete");static InteractiveCellExecute=new n("InteractiveCellExecute");static InteractiveInputExecute=new n("InteractiveInputExecute");static InteractiveInputConfig=new n("InteractiveInputConfig");static ReplInputExecute=new n("ReplInputExecute");static IssueReporter=new n("IssueReporter");static NotebookToolbar=new n("NotebookToolbar");static NotebookStickyScrollContext=new n("NotebookStickyScrollContext");static NotebookCellTitle=new n("NotebookCellTitle");static NotebookCellDelete=new n("NotebookCellDelete");static NotebookCellInsert=new n("NotebookCellInsert");static NotebookCellBetween=new n("NotebookCellBetween");static NotebookCellListTop=new n("NotebookCellTop");static NotebookCellExecute=new n("NotebookCellExecute");static NotebookCellExecuteGoTo=new n("NotebookCellExecuteGoTo");static NotebookCellExecutePrimary=new n("NotebookCellExecutePrimary");static NotebookDiffCellInputTitle=new n("NotebookDiffCellInputTitle");static NotebookDiffCellMetadataTitle=new n("NotebookDiffCellMetadataTitle");static NotebookDiffCellOutputsTitle=new n("NotebookDiffCellOutputsTitle");static NotebookOutputToolbar=new n("NotebookOutputToolbar");static NotebookOutlineFilter=new n("NotebookOutlineFilter");static NotebookOutlineActionMenu=new n("NotebookOutlineActionMenu");static NotebookEditorLayoutConfigure=new n("NotebookEditorLayoutConfigure");static NotebookKernelSource=new n("NotebookKernelSource");static BulkEditTitle=new n("BulkEditTitle");static BulkEditContext=new n("BulkEditContext");static TimelineItemContext=new n("TimelineItemContext");static TimelineTitle=new n("TimelineTitle");static TimelineTitleContext=new n("TimelineTitleContext");static TimelineFilterSubMenu=new n("TimelineFilterSubMenu");static AccountsContext=new n("AccountsContext");static SidebarTitle=new n("SidebarTitle");static PanelTitle=new n("PanelTitle");static AuxiliaryBarTitle=new n("AuxiliaryBarTitle");static AuxiliaryBarHeader=new n("AuxiliaryBarHeader");static TerminalInstanceContext=new n("TerminalInstanceContext");static TerminalEditorInstanceContext=new n("TerminalEditorInstanceContext");static TerminalNewDropdownContext=new n("TerminalNewDropdownContext");static TerminalTabContext=new n("TerminalTabContext");static TerminalTabEmptyAreaContext=new n("TerminalTabEmptyAreaContext");static TerminalStickyScrollContext=new n("TerminalStickyScrollContext");static WebviewContext=new n("WebviewContext");static InlineCompletionsActions=new n("InlineCompletionsActions");static InlineEditsActions=new n("InlineEditsActions");static InlineEditActions=new n("InlineEditActions");static NewFile=new n("NewFile");static MergeInput1Toolbar=new n("MergeToolbar1Toolbar");static MergeInput2Toolbar=new n("MergeToolbar2Toolbar");static MergeBaseToolbar=new n("MergeBaseToolbar");static MergeInputResultToolbar=new n("MergeToolbarResultToolbar");static InlineSuggestionToolbar=new n("InlineSuggestionToolbar");static InlineEditToolbar=new n("InlineEditToolbar");static ChatContext=new n("ChatContext");static ChatCodeBlock=new n("ChatCodeblock");static ChatCompareBlock=new n("ChatCompareBlock");static ChatMessageTitle=new n("ChatMessageTitle");static ChatExecute=new n("ChatExecute");static ChatExecuteSecondary=new n("ChatExecuteSecondary");static ChatInputSide=new n("ChatInputSide");static AccessibleView=new n("AccessibleView");static MultiDiffEditorFileToolbar=new n("MultiDiffEditorFileToolbar");static DiffEditorHunkToolbar=new n("DiffEditorHunkToolbar");static DiffEditorSelectionToolbar=new n("DiffEditorSelectionToolbar");static for(e){return n._instances.get(e)??new n(e)}id;constructor(e){if(n._instances.has(e))throw new TypeError(`MenuId with identifier '${e}' already exists. Use MenuId.for(ident) or a unique identifier`);n._instances.set(e,this),this.id=e}},XH=qe("menuService"),So=class n{constructor(e){this.id=e;this.has=t=>t===e}static _all=new Map;static for(e){let t=this._all.get(e);return t||(t=new n(e),this._all.set(e,t)),t}static merge(e){let t=new Set;for(let i of e)i instanceof n&&t.add(i.id);return t}has},JH=new class{_commands=new Map;_menuItems=new Map;_onDidChangeMenu=new ma({merge:So.merge});onDidChangeMenu=this._onDidChangeMenu.event;addCommand(n){return this._commands.set(n.id,n),this._onDidChangeMenu.fire(So.for(Es.CommandPalette)),ce(()=>{this._commands.delete(n.id)&&this._onDidChangeMenu.fire(So.for(Es.CommandPalette))})}getCommand(n){return this._commands.get(n)}getCommands(){let n=new Map;return this._commands.forEach((e,t)=>n.set(t,e)),n}appendMenuItem(n,e){let t=this._menuItems.get(n);t||(t=new Yt,this._menuItems.set(n,t));let i=t.push(e);return this._onDidChangeMenu.fire(So.for(n)),ce(()=>{i(),this._onDidChangeMenu.fire(So.for(n))})}appendMenuItems(n){let e=new j;for(let{id:t,item:i}of n)e.add(this.appendMenuItem(t,i));return e}getMenuItems(n){let e;return this._menuItems.has(n)?e=[...this._menuItems.get(n)]:e=[],n===Es.CommandPalette&&this._appendImplicitItems(e),e}_appendImplicitItems(n){let e=new Set;for(let t of n)YT(t)&&(e.add(t.command.id),t.alt&&e.add(t.alt.id));this._commands.forEach((t,i)=>{e.has(i)||n.push({command:t})})}};var wo=class{constructor(e,t,i,o,r,s,a){this.hideActions=o;this.menuKeybinding=r;this._commandService=a;this.id=e.id,this.label=wo.label(e,i),this.tooltip=(typeof e.tooltip=="string"?e.tooltip:e.tooltip?.value)??"",this.enabled=!e.precondition||s.contextMatchesRules(e.precondition),this.checked=void 0;let l;if(e.toggled){let d=e.toggled.condition?e.toggled:{condition:e.toggled};this.checked=s.contextMatchesRules(d.condition),this.checked&&d.tooltip&&(this.tooltip=typeof d.tooltip=="string"?d.tooltip:d.tooltip.value),this.checked&&we.isThemeIcon(d.icon)&&(l=d.icon),this.checked&&d.title&&(this.label=typeof d.title=="string"?d.title:d.title.value)}l||(l=we.isThemeIcon(e.icon)?e.icon:void 0),this.item=e,this.alt=t?new wo(t,void 0,i,o,void 0,s,a):void 0,this._options=i,this.class=l&&we.asClassName(l)}static label(e,t){return t?.renderShortTitle&&e.shortTitle?typeof e.shortTitle=="string"?e.shortTitle:e.shortTitle.value:typeof e.title=="string"?e.title:e.title.value}item;alt;_options;id;label;tooltip;class;enabled;checked;run(...e){let t=[];return this._options?.arg&&(t=[...t,this._options.arg]),this._options?.shouldForwardArgs&&(t=[...t,...e]),this._commandService.executeCommand(this.id,...t)}};wo=he([xe(5,qt),xe(6,ah)],wo);var Gf=qe("contextViewService"),xK=qe("contextMenuService");var jf=qe("keybindingService");var jU={buttonBackground:"#0E639C",buttonHoverBackground:"#006BB3",buttonSeparator:k.white.toString(),buttonForeground:k.white.toString(),buttonBorder:void 0,buttonSecondaryBackground:void 0,buttonSecondaryForeground:void 0,buttonSecondaryHoverBackground:void 0};var cr=class{modifierLabels;constructor(e,t,i=t){this.modifierLabels=[null],this.modifierLabels[2]=e,this.modifierLabels[1]=t,this.modifierLabels[3]=i}toLabel(e,t,i){if(t.length===0)return null;let o=[];for(let r=0,s=t.length;r<s;r++){let a=t[r],l=i(a);if(l===null)return null;o[r]=JT(a,l,this.modifierLabels[e])}return o.join(" ")}},XT=new cr({ctrlKey:"\u2303",shiftKey:"\u21E7",altKey:"\u2325",metaKey:"\u2318",separator:""},{ctrlKey:p({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:p({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:p({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:p({key:"windowsKey",comment:["This is the short form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:p({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:p({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:p({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:p({key:"superKey",comment:["This is the short form for the Super key on the keyboard"]},"Super"),separator:"+"}),ZU=new cr({ctrlKey:p({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:p({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:p({key:"optKey.long",comment:["This is the long form for the Alt/Option key on the keyboard"]},"Option"),metaKey:p({key:"cmdKey.long",comment:["This is the long form for the Command key on the keyboard"]},"Command"),separator:"+"},{ctrlKey:p({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:p({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:p({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:p({key:"windowsKey.long",comment:["This is the long form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:p({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:p({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:p({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:p({key:"superKey.long",comment:["This is the long form for the Super key on the keyboard"]},"Super"),separator:"+"}),eV=new cr({ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Cmd",separator:"+"},{ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Super",separator:"+"}),tV=new cr({ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"cmd",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"win",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"meta",separator:"+"});function JT(n,e,t){if(e===null)return"";let i=[];return n.ctrlKey&&i.push(t.ctrlKey),n.shiftKey&&i.push(t.shiftKey),n.altKey&&i.push(t.altKey),n.metaKey&&i.push(t.metaKey),e!==""&&i.push(e),i.join(t.separator)}var QT={IconContribution:"base.contributions.icons"},ZT;(e=>{function n(t,i){let o=t.defaults;for(;we.isThemeIcon(o);){let r=ur.getIcon(o.id);if(!r)return;o=r.defaults}return o}e.getDefinition=n})(ZT||={});var eI;(t=>{function n(i){return{weight:i.weight,style:i.style,src:i.src.map(o=>({format:o.format,location:o.location.toString()}))}}t.toJSONObject=n;function e(i){let o=r=>Qn(r)?r:void 0;if(i&&Array.isArray(i.src)&&i.src.every(r=>Qn(r.format)&&Qn(r.location)))return{weight:o(i.weight),style:o(i.style),src:i.src.map(r=>({format:r.format,location:Ne.parse(r.location)}))}}t.fromJSONObject=e})(eI||={});var dh=class{_onDidChange=new L;onDidChange=this._onDidChange.event;iconsById;iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:p("iconDefinition.fontId","The id of the font to use. If not set, the font that is defined first is used.")},fontCharacter:{type:"string",description:p("iconDefinition.fontCharacter","The font character associated with the icon definition.")}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}};iconReferenceSchema={type:"string",pattern:`^${we.iconNameExpression}$`,enum:[],enumDescriptions:[]};iconFontsById;constructor(){this.iconsById={},this.iconFontsById={}}registerIcon(e,t,i,o){let r=this.iconsById[e];if(r){if(i&&!r.description){r.description=i,this.iconSchema.properties[e].markdownDescription=`${i} $(${e})`;let l=this.iconReferenceSchema.enum.indexOf(e);l!==-1&&(this.iconReferenceSchema.enumDescriptions[l]=i),this._onDidChange.fire()}return r}let s={id:e,description:i,defaults:t,deprecationMessage:o};this.iconsById[e]=s;let a={$ref:"#/definitions/icons"};return o&&(a.deprecationMessage=o),i&&(a.markdownDescription=`${i}: $(${e})`),this.iconSchema.properties[e]=a,this.iconReferenceSchema.enum.push(e),this.iconReferenceSchema.enumDescriptions.push(i||""),this._onDidChange.fire(),{id:e}}deregisterIcon(e){delete this.iconsById[e],delete this.iconSchema.properties[e];let t=this.iconReferenceSchema.enum.indexOf(e);t!==-1&&(this.iconReferenceSchema.enum.splice(t,1),this.iconReferenceSchema.enumDescriptions.splice(t,1)),this._onDidChange.fire()}getIcons(){return Object.keys(this.iconsById).map(e=>this.iconsById[e])}getIcon(e){return this.iconsById[e]}getIconSchema(){return this.iconSchema}getIconReferenceSchema(){return this.iconReferenceSchema}registerIconFont(e,t){let i=this.iconFontsById[e];return i||(this.iconFontsById[e]=t,this._onDidChange.fire(),t)}deregisterIconFont(e){delete this.iconFontsById[e]}getIconFont(e){return this.iconFontsById[e]}toString(){let e=(r,s)=>r.id.localeCompare(s.id),t=r=>{for(;we.isThemeIcon(r.defaults);)r=this.iconsById[r.defaults.id];return`codicon codicon-${r?r.id:""}`},i=[];i.push("| preview     | identifier                        | default codicon ID                | description"),i.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");let o=Object.keys(this.iconsById).map(r=>this.iconsById[r]);for(let r of o.filter(s=>!!s.description).sort(e))i.push(`|<i class="${t(r)}"></i>|${r.id}|${we.isThemeIcon(r.defaults)?r.defaults.id:r.id}|${r.description||""}|`);i.push("| preview     | identifier                        "),i.push("| ----------- | --------------------------------- |");for(let r of o.filter(s=>!we.isThemeIcon(s.defaults)).sort(e))i.push(`|<i class="${t(r)}"></i>|${r.id}|`);return i.join(`
`)}},ur=new dh;gt.add(QT.IconContribution,ur);function ch(n,e,t,i){return ur.registerIcon(n,e,t,i)}function tI(){let n=Nc();for(let e in n){let t="\\"+n[e].toString(16);ur.registerIcon(e,{fontCharacter:t})}}tI();var Xf="vscode://schemas/icons",Jf=gt.as(bo.JSONContribution);Jf.registerSchema(Xf,ur.getIconSchema());var Yf=new ki(()=>Jf.notifySchemaChanged(Xf),200);ur.onDidChange(()=>{Yf.isScheduled()||Yf.schedule()});var MV=ch("widget-close",Ce.close,p("widgetClose","Icon for the close action in widgets.")),RV=ch("goto-previous-location",Ce.arrowUp,p("previousChangeIcon","Icon for goto previous editor location.")),OV=ch("goto-next-location",Ce.arrowDown,p("nextChangeIcon","Icon for goto next editor location.")),FV=we.modify(Ce.sync,"spin"),PV=we.modify(Ce.loading,"spin");var iW=qe("themeService");var oW=Ce.file,rW=Ce.folder;var nI={ThemingContribution:"base.contributions.theming"},uh=class{themingParticipants=[];onThemingParticipantAddedEmitter;constructor(){this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new L}onColorThemeChange(e){return this.themingParticipants.push(e),this.onThemingParticipantAddedEmitter.fire(e),ce(()=>{let t=this.themingParticipants.indexOf(e);this.themingParticipants.splice(t,1)})}get onThemingParticipantAdded(){return this.onThemingParticipantAddedEmitter.event}getThemingParticipants(){return this.themingParticipants}},iI=new uh;gt.add(nI.ThemingContribution,iI);function Zf(n){return`--vscode-${n.replace(/\./g,"-")}`}function M(n){return`var(${Zf(n)})`}function eg(n,e){return`var(${Zf(n)}, ${e})`}function oI(n){return n!==null&&typeof n=="object"&&"light"in n&&"dark"in n}var rI={ColorContribution:"base.contributions.colors"},sI="default",hh=class{_onDidChangeSchema=new L;onDidChangeSchema=this._onDidChangeSchema.event;colorsById;colorSchema={type:"object",properties:{}};colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]};constructor(){this.colorsById={}}notifyThemeUpdate(e){for(let t of Object.keys(this.colorsById)){let i=e.getColor(t);i&&(this.colorSchema.properties[t].oneOf[0].defaultSnippets[0].body=`\${1:${i.toString()}}`)}this._onDidChangeSchema.fire()}registerColor(e,t,i,o=!1,r){let s={id:e,description:i,defaults:t,needsTransparency:o,deprecationMessage:r};this.colorsById[e]=s;let a={type:"string",format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return r&&(a.deprecationMessage=r),o&&(a.pattern="^#(?:(?<rgba>[0-9a-fA-f]{3}[0-9a-eA-E])|(?:[0-9a-fA-F]{6}(?:(?![fF]{2})(?:[0-9a-fA-F]{2}))))?$",a.patternErrorMessage=p("transparecyRequired","This color must be transparent or it will obscure content")),this.colorSchema.properties[e]={description:i,oneOf:[a,{type:"string",const:sI,description:p("useDefault","Use the default color.")}]},this.colorReferenceSchema.enum.push(e),this.colorReferenceSchema.enumDescriptions.push(i),this._onDidChangeSchema.fire(),e}deregisterColor(e){delete this.colorsById[e],delete this.colorSchema.properties[e];let t=this.colorReferenceSchema.enum.indexOf(e);t!==-1&&(this.colorReferenceSchema.enum.splice(t,1),this.colorReferenceSchema.enumDescriptions.splice(t,1)),this._onDidChangeSchema.fire()}getColors(){return Object.keys(this.colorsById).map(e=>this.colorsById[e])}resolveDefaultColor(e,t){let i=this.colorsById[e];if(i?.defaults){let o=oI(i.defaults)?i.defaults[t.type]:i.defaults;return gn(o,t)}}getColorSchema(){return this.colorSchema}getColorReferenceSchema(){return this.colorReferenceSchema}toString(){let e=(t,i)=>{let o=t.indexOf(".")===-1?0:1,r=i.indexOf(".")===-1?0:1;return o!==r?o-r:t.localeCompare(i)};return Object.keys(this.colorsById).sort(e).map(t=>`- \`${t}\`: ${this.colorsById[t].description}`).join(`
`)}},Wl=new hh;gt.add(rI.ColorContribution,Wl);function y(n,e,t,i,o){return Wl.registerColor(n,e,t,i,o)}function aI(n,e){switch(n.op){case 0:return gn(n.value,e)?.darken(n.factor);case 1:return gn(n.value,e)?.lighten(n.factor);case 2:return gn(n.value,e)?.transparent(n.factor);case 3:{let t=gn(n.background,e);return t?gn(n.value,e)?.makeOpaque(t):gn(n.value,e)}case 4:for(let t of n.values){let i=gn(t,e);if(i)return i}return;case 6:return gn(e.defines(n.if)?n.then:n.else,e);case 5:{let t=gn(n.value,e);if(!t)return;let i=gn(n.background,e);return i?t.isDarkerThan(i)?k.getLighterColor(t,i,n.factor).transparent(n.transparency):k.getDarkerColor(t,i,n.factor).transparent(n.transparency):t.transparent(n.factor*n.transparency)}default:throw Fp(n)}}function Fn(n,e){return{op:0,value:n,factor:e}}function Pt(n,e){return{op:1,value:n,factor:e}}function ee(n,e){return{op:2,value:n,factor:e}}function ph(...n){return{op:4,values:n}}function tg(n,e,t){return{op:6,if:n,then:e,else:t}}function mh(n,e,t,i){return{op:5,value:n,background:e,factor:t,transparency:i}}function gn(n,e){if(n!==null){if(typeof n=="string")return n[0]==="#"?k.fromHex(n):e.getColor(n);if(n instanceof k)return n;if(typeof n=="object")return aI(n,e)}}var ng="vscode://schemas/workbench-colors",ig=gt.as(bo.JSONContribution);ig.registerSchema(ng,Wl.getColorSchema());var Qf=new ki(()=>ig.notifySchemaChanged(ng),200);Wl.onDidChangeSchema(()=>{Qf.isScheduled()||Qf.schedule()});var be=y("foreground",{dark:"#CCCCCC",light:"#616161",hcDark:"#FFFFFF",hcLight:"#292929"},p("foreground","Overall foreground color. This color is only used if not overridden by a component.")),xW=y("disabledForeground",{dark:"#CCCCCC80",light:"#61616180",hcDark:"#A5A5A5",hcLight:"#7F7F7F"},p("disabledForeground","Overall foreground for disabled elements. This color is only used if not overridden by a component.")),SW=y("errorForeground",{dark:"#F48771",light:"#A1260D",hcDark:"#F48771",hcLight:"#B5200D"},p("errorForeground","Overall foreground color for error messages. This color is only used if not overridden by a component.")),wW=y("descriptionForeground",{light:"#717171",dark:ee(be,.7),hcDark:ee(be,.7),hcLight:ee(be,.7)},p("descriptionForeground","Foreground color for description text providing additional information, for example for a label.")),Ds=y("icon.foreground",{dark:"#C5C5C5",light:"#424242",hcDark:"#FFFFFF",hcLight:"#292929"},p("iconForeground","The default color for icons in the workbench.")),Bt=y("focusBorder",{dark:"#007FD4",light:"#0090F1",hcDark:"#F38518",hcLight:"#006BBD"},p("focusBorder","Overall border color for focused elements. This color is only used if not overridden by a component.")),fe=y("contrastBorder",{light:null,dark:null,hcDark:"#6FC3DF",hcLight:"#0F4A85"},p("contrastBorder","An extra border around elements to separate them from others for greater contrast.")),Je=y("contrastActiveBorder",{light:null,dark:null,hcDark:Bt,hcLight:Bt},p("activeContrastBorder","An extra border around active elements to separate them from others for greater contrast.")),EW=y("selection.background",null,p("selectionBackground","The background color of text selections in the workbench (e.g. for input fields or text areas). Note that this does not apply to selections within the editor.")),og=y("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hcDark:"#21A6FF",hcLight:"#0F4A85"},p("textLinkForeground","Foreground color for links in text.")),DW=y("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hcDark:"#21A6FF",hcLight:"#0F4A85"},p("textLinkActiveForeground","Foreground color for links in text when clicked on and on mouse hover.")),CW=y("textSeparator.foreground",{light:"#0000002e",dark:"#ffffff2e",hcDark:k.black,hcLight:"#292929"},p("textSeparatorForeground","Color for text separators.")),_W=y("textPreformat.foreground",{light:"#A31515",dark:"#D7BA7D",hcDark:"#000000",hcLight:"#FFFFFF"},p("textPreformatForeground","Foreground color for preformatted text segments.")),kW=y("textPreformat.background",{light:"#0000001A",dark:"#FFFFFF1A",hcDark:"#FFFFFF",hcLight:"#09345f"},p("textPreformatBackground","Background color for preformatted text segments.")),LW=y("textBlockQuote.background",{light:"#f2f2f2",dark:"#222222",hcDark:null,hcLight:"#F2F2F2"},p("textBlockQuoteBackground","Background color for block quotes in text.")),AW=y("textBlockQuote.border",{light:"#007acc80",dark:"#007acc80",hcDark:k.white,hcLight:"#292929"},p("textBlockQuoteBorder","Border color for block quotes in text.")),NW=y("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hcDark:k.black,hcLight:"#F2F2F2"},p("textCodeBlockBackground","Background color for code blocks in text."));var PW=y("sash.hoverBorder",Bt,p("sashActiveBorder","Border color of active sashes.")),hr=y("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hcDark:k.black,hcLight:"#0F4A85"},p("badgeBackground","Badge background color. Badges are small information labels, e.g. for search results count.")),rg=y("badge.foreground",{dark:k.white,light:"#333",hcDark:k.white,hcLight:k.white},p("badgeForeground","Badge foreground color. Badges are small information labels, e.g. for search results count.")),Cs=y("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hcDark:null,hcLight:null},p("scrollbarShadow","Scrollbar shadow to indicate that the view is scrolled.")),$l=y("scrollbarSlider.background",{dark:k.fromHex("#797979").transparent(.4),light:k.fromHex("#646464").transparent(.4),hcDark:ee(fe,.6),hcLight:ee(fe,.4)},p("scrollbarSliderBackground","Scrollbar slider background color.")),ql=y("scrollbarSlider.hoverBackground",{dark:k.fromHex("#646464").transparent(.7),light:k.fromHex("#646464").transparent(.7),hcDark:ee(fe,.8),hcLight:ee(fe,.8)},p("scrollbarSliderHoverBackground","Scrollbar slider background color when hovering.")),Gl=y("scrollbarSlider.activeBackground",{dark:k.fromHex("#BFBFBF").transparent(.4),light:k.fromHex("#000000").transparent(.6),hcDark:fe,hcLight:fe},p("scrollbarSliderActiveBackground","Scrollbar slider background color when clicked on.")),sg=y("progressBar.background",{dark:k.fromHex("#0E70C0"),light:k.fromHex("#0E70C0"),hcDark:fe,hcLight:fe},p("progressBarBackground","Background color of the progress bar that can show for long running operations."));var jl=y("editor.background",{light:"#ffffff",dark:"#1E1E1E",hcDark:k.black,hcLight:k.white},p("editorBackground","Editor background color.")),VW=y("editor.foreground",{light:"#333333",dark:"#BBBBBB",hcDark:k.white,hcLight:be},p("editorForeground","Editor default foreground color.")),WW=y("editorStickyScroll.background",jl,p("editorStickyScrollBackground","Background color of sticky scroll in the editor")),$W=y("editorStickyScrollHover.background",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:null,hcLight:k.fromHex("#0F4A85").transparent(.1)},p("editorStickyScrollHoverBackground","Background color of sticky scroll on hover in the editor")),qW=y("editorStickyScroll.border",{dark:null,light:null,hcDark:fe,hcLight:fe},p("editorStickyScrollBorder","Border color of sticky scroll in the editor")),GW=y("editorStickyScroll.shadow",Cs,p("editorStickyScrollShadow"," Shadow color of sticky scroll in the editor")),wt=y("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hcDark:"#0C141F",hcLight:k.white},p("editorWidgetBackground","Background color of editor widgets, such as find/replace.")),Eo=y("editorWidget.foreground",be,p("editorWidgetForeground","Foreground color of editor widgets, such as find/replace.")),vh=y("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hcDark:fe,hcLight:fe},p("editorWidgetBorder","Border color of editor widgets. The color is only used if the widget chooses to have a border and if the color is not overridden by a widget.")),jW=y("editorWidget.resizeBorder",null,p("editorWidgetResizeBorder","Border color of the resize bar of editor widgets. The color is only used if the widget chooses to have a resize border and if the color is not overridden by a widget.")),YW=y("editorError.background",null,p("editorError.background","Background color of error text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),yh=y("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hcDark:"#F48771",hcLight:"#B5200D"},p("editorError.foreground","Foreground color of error squigglies in the editor.")),XW=y("editorError.border",{dark:null,light:null,hcDark:k.fromHex("#E47777").transparent(.8),hcLight:"#B5200D"},p("errorBorder","If set, color of double underlines for errors in the editor.")),JW=y("editorWarning.background",null,p("editorWarning.background","Background color of warning text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),gr=y("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hcDark:"#FFD370",hcLight:"#895503"},p("editorWarning.foreground","Foreground color of warning squigglies in the editor.")),Th=y("editorWarning.border",{dark:null,light:null,hcDark:k.fromHex("#FFCC00").transparent(.8),hcLight:k.fromHex("#FFCC00").transparent(.8)},p("warningBorder","If set, color of double underlines for warnings in the editor.")),QW=y("editorInfo.background",null,p("editorInfo.background","Background color of info text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),br=y("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hcDark:"#3794FF",hcLight:"#1a85ff"},p("editorInfo.foreground","Foreground color of info squigglies in the editor.")),Ih=y("editorInfo.border",{dark:null,light:null,hcDark:k.fromHex("#3794FF").transparent(.8),hcLight:"#292929"},p("infoBorder","If set, color of double underlines for infos in the editor.")),ZW=y("editorHint.foreground",{dark:k.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hcDark:null,hcLight:null},p("editorHint.foreground","Foreground color of hint squigglies in the editor.")),e$=y("editorHint.border",{dark:null,light:null,hcDark:k.fromHex("#eeeeee").transparent(.8),hcLight:"#292929"},p("hintBorder","If set, color of double underlines for hints in the editor.")),t$=y("editorLink.activeForeground",{dark:"#4E94CE",light:k.blue,hcDark:k.cyan,hcLight:"#292929"},p("activeLinkForeground","Color of active links.")),pr=y("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hcDark:"#f3f518",hcLight:"#0F4A85"},p("editorSelectionBackground","Color of the editor selection.")),n$=y("editor.selectionForeground",{light:null,dark:null,hcDark:"#000000",hcLight:k.white},p("editorSelectionForeground","Color of the selected text for high contrast.")),i$=y("editor.inactiveSelectionBackground",{light:ee(pr,.5),dark:ee(pr,.5),hcDark:ee(pr,.7),hcLight:ee(pr,.5)},p("editorInactiveSelection","Color of the selection in an inactive editor. The color must not be opaque so as not to hide underlying decorations."),!0),o$=y("editor.selectionHighlightBackground",{light:mh(pr,jl,.3,.6),dark:mh(pr,jl,.3,.6),hcDark:null,hcLight:null},p("editorSelectionHighlight","Color for regions with the same content as the selection. The color must not be opaque so as not to hide underlying decorations."),!0),r$=y("editor.selectionHighlightBorder",{light:null,dark:null,hcDark:Je,hcLight:Je},p("editorSelectionHighlightBorder","Border color for regions with the same content as the selection.")),s$=y("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hcDark:null,hcLight:null},p("editorFindMatch","Color of the current search match.")),a$=y("editor.findMatchForeground",null,p("editorFindMatchForeground","Text color of the current search match.")),qi=y("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hcDark:null,hcLight:null},p("findMatchHighlight","Color of the other search matches. The color must not be opaque so as not to hide underlying decorations."),!0),l$=y("editor.findMatchHighlightForeground",null,p("findMatchHighlightForeground","Foreground color of the other search matches."),!0),d$=y("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hcDark:null,hcLight:null},p("findRangeHighlight","Color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),c$=y("editor.findMatchBorder",{light:null,dark:null,hcDark:Je,hcLight:Je},p("editorFindMatchBorder","Border color of the current search match.")),Gi=y("editor.findMatchHighlightBorder",{light:null,dark:null,hcDark:Je,hcLight:Je},p("findMatchHighlightBorder","Border color of the other search matches.")),u$=y("editor.findRangeHighlightBorder",{dark:null,light:null,hcDark:ee(Je,.4),hcLight:ee(Je,.4)},p("findRangeHighlightBorder","Border color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),h$=y("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hcDark:"#ADD6FF26",hcLight:null},p("hoverHighlight","Highlight below the word for which a hover is shown. The color must not be opaque so as not to hide underlying decorations."),!0),ag=y("editorHoverWidget.background",wt,p("hoverBackground","Background color of the editor hover.")),p$=y("editorHoverWidget.foreground",Eo,p("hoverForeground","Foreground color of the editor hover.")),m$=y("editorHoverWidget.border",vh,p("hoverBorder","Border color of the editor hover.")),f$=y("editorHoverWidget.statusBarBackground",{dark:Pt(ag,.2),light:Fn(ag,.05),hcDark:wt,hcLight:wt},p("statusBarBackground","Background color of the editor hover status bar.")),mg=y("editorInlayHint.foreground",{dark:"#969696",light:"#969696",hcDark:k.white,hcLight:k.black},p("editorInlayHintForeground","Foreground color of inline hints")),fg=y("editorInlayHint.background",{dark:ee(hr,.1),light:ee(hr,.1),hcDark:ee(k.white,.1),hcLight:ee(hr,.1)},p("editorInlayHintBackground","Background color of inline hints")),g$=y("editorInlayHint.typeForeground",mg,p("editorInlayHintForegroundTypes","Foreground color of inline hints for types")),b$=y("editorInlayHint.typeBackground",fg,p("editorInlayHintBackgroundTypes","Background color of inline hints for types")),v$=y("editorInlayHint.parameterForeground",mg,p("editorInlayHintForegroundParameter","Foreground color of inline hints for parameters")),y$=y("editorInlayHint.parameterBackground",fg,p("editorInlayHintBackgroundParameter","Background color of inline hints for parameters")),lI=y("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hcDark:"#FFCC00",hcLight:"#007ACC"},p("editorLightBulbForeground","The color used for the lightbulb actions icon.")),T$=y("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},p("editorLightBulbAutoFixForeground","The color used for the lightbulb auto fix actions icon.")),I$=y("editorLightBulbAi.foreground",lI,p("editorLightBulbAiForeground","The color used for the lightbulb AI icon.")),x$=y("editor.snippetTabstopHighlightBackground",{dark:new k(new ue(124,124,124,.3)),light:new k(new ue(10,50,100,.2)),hcDark:new k(new ue(124,124,124,.3)),hcLight:new k(new ue(10,50,100,.2))},p("snippetTabstopHighlightBackground","Highlight background color of a snippet tabstop.")),S$=y("editor.snippetTabstopHighlightBorder",null,p("snippetTabstopHighlightBorder","Highlight border color of a snippet tabstop.")),w$=y("editor.snippetFinalTabstopHighlightBackground",null,p("snippetFinalTabstopHighlightBackground","Highlight background color of the final tabstop of a snippet.")),E$=y("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new k(new ue(10,50,100,.5)),hcDark:"#525252",hcLight:"#292929"},p("snippetFinalTabstopHighlightBorder","Highlight border color of the final tabstop of a snippet.")),lg=new k(new ue(155,185,85,.2)),dg=new k(new ue(255,0,0,.2)),D$=y("diffEditor.insertedTextBackground",{dark:"#9ccc2c33",light:"#9ccc2c40",hcDark:null,hcLight:null},p("diffEditorInserted","Background color for text that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),C$=y("diffEditor.removedTextBackground",{dark:"#ff000033",light:"#ff000033",hcDark:null,hcLight:null},p("diffEditorRemoved","Background color for text that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),_$=y("diffEditor.insertedLineBackground",{dark:lg,light:lg,hcDark:null,hcLight:null},p("diffEditorInsertedLines","Background color for lines that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),k$=y("diffEditor.removedLineBackground",{dark:dg,light:dg,hcDark:null,hcLight:null},p("diffEditorRemovedLines","Background color for lines that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),L$=y("diffEditorGutter.insertedLineBackground",null,p("diffEditorInsertedLineGutter","Background color for the margin where lines got inserted.")),A$=y("diffEditorGutter.removedLineBackground",null,p("diffEditorRemovedLineGutter","Background color for the margin where lines got removed.")),N$=y("diffEditorOverview.insertedForeground",null,p("diffEditorOverviewInserted","Diff overview ruler foreground for inserted content.")),M$=y("diffEditorOverview.removedForeground",null,p("diffEditorOverviewRemoved","Diff overview ruler foreground for removed content.")),R$=y("diffEditor.insertedTextBorder",{dark:null,light:null,hcDark:"#33ff2eff",hcLight:"#374E06"},p("diffEditorInsertedOutline","Outline color for the text that got inserted.")),O$=y("diffEditor.removedTextBorder",{dark:null,light:null,hcDark:"#FF008F",hcLight:"#AD0707"},p("diffEditorRemovedOutline","Outline color for text that got removed.")),F$=y("diffEditor.border",{dark:null,light:null,hcDark:fe,hcLight:fe},p("diffEditorBorder","Border color between the two text editors.")),P$=y("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hcDark:null,hcLight:null},p("diffDiagonalFill","Color of the diff editor's diagonal fill. The diagonal fill is used in side-by-side diff views.")),B$=y("diffEditor.unchangedRegionBackground","sideBar.background",p("diffEditor.unchangedRegionBackground","The background color of unchanged blocks in the diff editor.")),H$=y("diffEditor.unchangedRegionForeground","foreground",p("diffEditor.unchangedRegionForeground","The foreground color of unchanged blocks in the diff editor.")),K$=y("diffEditor.unchangedCodeBackground",{dark:"#74747429",light:"#b8b8b829",hcDark:null,hcLight:null},p("diffEditor.unchangedCodeBackground","The background color of unchanged code in the diff editor.")),vr=y("widget.shadow",{dark:ee(k.black,.36),light:ee(k.black,.16),hcDark:null,hcLight:null},p("widgetShadow","Shadow color of widgets such as find/replace inside the editor.")),z$=y("widget.border",{dark:null,light:null,hcDark:fe,hcLight:fe},p("widgetBorder","Border color of widgets such as find/replace inside the editor.")),cg=y("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hcDark:null,hcLight:null},p("toolbarHoverBackground","Toolbar background when hovering over actions using the mouse")),U$=y("toolbar.hoverOutline",{dark:null,light:null,hcDark:Je,hcLight:Je},p("toolbarHoverOutline","Toolbar outline when hovering over actions using the mouse")),V$=y("toolbar.activeBackground",{dark:Pt(cg,.1),light:Fn(cg,.1),hcDark:null,hcLight:null},p("toolbarActiveBackground","Toolbar background when holding the mouse over actions")),gg=y("breadcrumb.foreground",ee(be,.8),p("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),bg=y("breadcrumb.background",jl,p("breadcrumbsBackground","Background color of breadcrumb items.")),xh=y("breadcrumb.focusForeground",{light:Fn(be,.2),dark:Pt(be,.1),hcDark:Pt(be,.1),hcLight:Pt(be,.1)},p("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),vg=y("breadcrumb.activeSelectionForeground",{light:Fn(be,.2),dark:Pt(be,.1),hcDark:Pt(be,.1),hcLight:Pt(be,.1)},p("breadcrumbsSelectedForeground","Color of selected breadcrumb items.")),W$=y("breadcrumbPicker.background",wt,p("breadcrumbsSelectedBackground","Background color of breadcrumb item picker.")),yg=.5,ug=k.fromHex("#40C8AE").transparent(yg),hg=k.fromHex("#40A6FF").transparent(yg),pg=k.fromHex("#606060").transparent(.4),Sh=.4,mr=1,fh=y("merge.currentHeaderBackground",{dark:ug,light:ug,hcDark:null,hcLight:null},p("mergeCurrentHeaderBackground","Current header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),$$=y("merge.currentContentBackground",ee(fh,Sh),p("mergeCurrentContentBackground","Current content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),gh=y("merge.incomingHeaderBackground",{dark:hg,light:hg,hcDark:null,hcLight:null},p("mergeIncomingHeaderBackground","Incoming header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),q$=y("merge.incomingContentBackground",ee(gh,Sh),p("mergeIncomingContentBackground","Incoming content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),bh=y("merge.commonHeaderBackground",{dark:pg,light:pg,hcDark:null,hcLight:null},p("mergeCommonHeaderBackground","Common ancestor header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),G$=y("merge.commonContentBackground",ee(bh,Sh),p("mergeCommonContentBackground","Common ancestor content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),fr=y("merge.border",{dark:null,light:null,hcDark:"#C3DF6F",hcLight:"#007ACC"},p("mergeBorder","Border color on headers and the splitter in inline merge-conflicts.")),j$=y("editorOverviewRuler.currentContentForeground",{dark:ee(fh,mr),light:ee(fh,mr),hcDark:fr,hcLight:fr},p("overviewRulerCurrentContentForeground","Current overview ruler foreground for inline merge-conflicts.")),Y$=y("editorOverviewRuler.incomingContentForeground",{dark:ee(gh,mr),light:ee(gh,mr),hcDark:fr,hcLight:fr},p("overviewRulerIncomingContentForeground","Incoming overview ruler foreground for inline merge-conflicts.")),X$=y("editorOverviewRuler.commonContentForeground",{dark:ee(bh,mr),light:ee(bh,mr),hcDark:fr,hcLight:fr},p("overviewRulerCommonContentForeground","Common ancestor overview ruler foreground for inline merge-conflicts.")),J$=y("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hcDark:"#AB5A00",hcLight:"#AB5A00"},p("overviewRulerFindMatchForeground","Overview ruler marker color for find matches. The color must not be opaque so as not to hide underlying decorations."),!0),Q$=y("editorOverviewRuler.selectionHighlightForeground","#A0A0A0CC",p("overviewRulerSelectionHighlightForeground","Overview ruler marker color for selection highlights. The color must not be opaque so as not to hide underlying decorations."),!0),Tg=y("problemsErrorIcon.foreground",yh,p("problemsErrorIconForeground","The color used for the problems error icon.")),Ig=y("problemsWarningIcon.foreground",gr,p("problemsWarningIconForeground","The color used for the problems warning icon.")),xg=y("problemsInfoIcon.foreground",br,p("problemsInfoIconForeground","The color used for the problems info icon."));var Sg=y("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hcDark:"#AB5A00",hcLight:"#0F4A85"},p("minimapFindMatchHighlight","Minimap marker color for find matches."),!0),oq=y("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hcDark:"#ffffff",hcLight:"#0F4A85"},p("minimapSelectionOccurrenceHighlight","Minimap marker color for repeating editor selections."),!0),rq=y("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hcDark:"#ffffff",hcLight:"#0F4A85"},p("minimapSelectionHighlight","Minimap marker color for the editor selection."),!0),sq=y("minimap.infoHighlight",{dark:br,light:br,hcDark:Ih,hcLight:Ih},p("minimapInfo","Minimap marker color for infos.")),aq=y("minimap.warningHighlight",{dark:gr,light:gr,hcDark:Th,hcLight:Th},p("overviewRuleWarning","Minimap marker color for warnings.")),lq=y("minimap.errorHighlight",{dark:new k(new ue(255,18,18,.7)),light:new k(new ue(255,18,18,.7)),hcDark:new k(new ue(255,50,50,1)),hcLight:"#B5200D"},p("minimapError","Minimap marker color for errors.")),dq=y("minimap.background",null,p("minimapBackground","Minimap background color.")),cq=y("minimap.foregroundOpacity",k.fromHex("#000f"),p("minimapForegroundOpacity",'Opacity of foreground elements rendered in the minimap. For example, "#000000c0" will render the elements with 75% opacity.')),uq=y("minimapSlider.background",ee($l,.5),p("minimapSliderBackground","Minimap slider background color.")),hq=y("minimapSlider.hoverBackground",ee(ql,.5),p("minimapSliderHoverBackground","Minimap slider background color when hovering.")),pq=y("minimapSlider.activeBackground",ee(Gl,.5),p("minimapSliderActiveBackground","Minimap slider background color when clicked on."));var yq=y("charts.foreground",be,p("chartsForeground","The foreground color used in charts.")),Tq=y("charts.lines",ee(be,.5),p("chartsLines","The color used for horizontal lines in charts.")),Iq=y("charts.red",yh,p("chartsRed","The red color used in chart visualizations.")),xq=y("charts.blue",br,p("chartsBlue","The blue color used in chart visualizations.")),Sq=y("charts.yellow",gr,p("chartsYellow","The yellow color used in chart visualizations.")),wq=y("charts.orange",Sg,p("chartsOrange","The orange color used in chart visualizations.")),Eq=y("charts.green",{dark:"#89D185",light:"#388A34",hcDark:"#89D185",hcLight:"#374e06"},p("chartsGreen","The green color used in chart visualizations.")),Dq=y("charts.purple",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},p("chartsPurple","The purple color used in chart visualizations."));var wg=y("input.background",{dark:"#3C3C3C",light:k.white,hcDark:k.black,hcLight:k.white},p("inputBoxBackground","Input box background.")),Eg=y("input.foreground",be,p("inputBoxForeground","Input box foreground.")),Dg=y("input.border",{dark:null,light:null,hcDark:fe,hcLight:fe},p("inputBoxBorder","Input box border.")),wh=y("inputOption.activeBorder",{dark:"#007ACC",light:"#007ACC",hcDark:fe,hcLight:fe},p("inputBoxActiveOptionBorder","Border color of activated options in input fields.")),dI=y("inputOption.hoverBackground",{dark:"#5a5d5e80",light:"#b8b8b850",hcDark:null,hcLight:null},p("inputOption.hoverBackground","Background color of activated options in input fields.")),Eh=y("inputOption.activeBackground",{dark:ee(Bt,.4),light:ee(Bt,.2),hcDark:k.transparent,hcLight:k.transparent},p("inputOption.activeBackground","Background hover color of options in input fields.")),Dh=y("inputOption.activeForeground",{dark:k.white,light:k.black,hcDark:be,hcLight:be},p("inputOption.activeForeground","Foreground color of activated options in input fields.")),Nq=y("input.placeholderForeground",{light:ee(be,.5),dark:ee(be,.5),hcDark:ee(be,.7),hcLight:ee(be,.7)},p("inputPlaceholderForeground","Input box foreground color for placeholder text.")),Cg=y("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hcDark:k.black,hcLight:k.white},p("inputValidationInfoBackground","Input validation background color for information severity.")),_g=y("inputValidation.infoForeground",{dark:null,light:null,hcDark:null,hcLight:be},p("inputValidationInfoForeground","Input validation foreground color for information severity.")),kg=y("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hcDark:fe,hcLight:fe},p("inputValidationInfoBorder","Input validation border color for information severity.")),Lg=y("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hcDark:k.black,hcLight:k.white},p("inputValidationWarningBackground","Input validation background color for warning severity.")),Ag=y("inputValidation.warningForeground",{dark:null,light:null,hcDark:null,hcLight:be},p("inputValidationWarningForeground","Input validation foreground color for warning severity.")),Ng=y("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hcDark:fe,hcLight:fe},p("inputValidationWarningBorder","Input validation border color for warning severity.")),Mg=y("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hcDark:k.black,hcLight:k.white},p("inputValidationErrorBackground","Input validation background color for error severity.")),Rg=y("inputValidation.errorForeground",{dark:null,light:null,hcDark:null,hcLight:be},p("inputValidationErrorForeground","Input validation foreground color for error severity.")),Og=y("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hcDark:fe,hcLight:fe},p("inputValidationErrorBorder","Input validation border color for error severity.")),Ir=y("dropdown.background",{dark:"#3C3C3C",light:k.white,hcDark:k.black,hcLight:k.white},p("dropdownBackground","Dropdown background.")),Fg=y("dropdown.listBackground",{dark:null,light:null,hcDark:k.black,hcLight:k.white},p("dropdownListBackground","Dropdown list background.")),_s=y("dropdown.foreground",{dark:"#F0F0F0",light:be,hcDark:k.white,hcLight:be},p("dropdownForeground","Dropdown foreground.")),Ch=y("dropdown.border",{dark:Ir,light:"#CECECE",hcDark:fe,hcLight:fe},p("dropdownBorder","Dropdown border.")),_h=y("button.foreground",k.white,p("buttonForeground","Button foreground color.")),Pg=y("button.separator",ee(_h,.4),p("buttonSeparator","Button separator color.")),yr=y("button.background",{dark:"#0E639C",light:"#007ACC",hcDark:null,hcLight:"#0F4A85"},p("buttonBackground","Button background color.")),Bg=y("button.hoverBackground",{dark:Pt(yr,.2),light:Fn(yr,.2),hcDark:yr,hcLight:yr},p("buttonHoverBackground","Button background color when hovering.")),Hg=y("button.border",fe,p("buttonBorder","Button border color.")),Kg=y("button.secondaryForeground",{dark:k.white,light:k.white,hcDark:k.white,hcLight:be},p("buttonSecondaryForeground","Secondary button foreground color.")),Yl=y("button.secondaryBackground",{dark:"#3A3D41",light:"#5F6A79",hcDark:null,hcLight:k.white},p("buttonSecondaryBackground","Secondary button background color.")),zg=y("button.secondaryHoverBackground",{dark:Pt(Yl,.2),light:Fn(Yl,.2),hcDark:null,hcLight:null},p("buttonSecondaryHoverBackground","Secondary button background color when hovering.")),Tr=y("radio.activeForeground",Dh,p("radioActiveForeground","Foreground color of active radio option.")),Ug=y("radio.activeBackground",Eh,p("radioBackground","Background color of active radio option.")),Vg=y("radio.activeBorder",wh,p("radioActiveBorder","Border color of the active radio option.")),Wg=y("radio.inactiveForeground",null,p("radioInactiveForeground","Foreground color of inactive radio option.")),$g=y("radio.inactiveBackground",null,p("radioInactiveBackground","Background color of inactive radio option.")),qg=y("radio.inactiveBorder",{light:ee(Tr,.2),dark:ee(Tr,.2),hcDark:ee(Tr,.4),hcLight:ee(Tr,.2)},p("radioInactiveBorder","Border color of the inactive radio option.")),Gg=y("radio.inactiveHoverBackground",dI,p("radioHoverBackground","Background color of inactive active radio option when hovering.")),jg=y("checkbox.background",Ir,p("checkbox.background","Background color of checkbox widget.")),Mq=y("checkbox.selectBackground",wt,p("checkbox.select.background","Background color of checkbox widget when the element it's in is selected.")),Yg=y("checkbox.foreground",_s,p("checkbox.foreground","Foreground color of checkbox widget.")),Xg=y("checkbox.border",Ch,p("checkbox.border","Border color of checkbox widget.")),Rq=y("checkbox.selectBorder",Ds,p("checkbox.select.border","Border color of checkbox widget when the element it's in is selected.")),Jg=y("keybindingLabel.background",{dark:new k(new ue(128,128,128,.17)),light:new k(new ue(221,221,221,.4)),hcDark:k.transparent,hcLight:k.transparent},p("keybindingLabelBackground","Keybinding label background color. The keybinding label is used to represent a keyboard shortcut.")),Qg=y("keybindingLabel.foreground",{dark:k.fromHex("#CCCCCC"),light:k.fromHex("#555555"),hcDark:k.white,hcLight:be},p("keybindingLabelForeground","Keybinding label foreground color. The keybinding label is used to represent a keyboard shortcut.")),Zg=y("keybindingLabel.border",{dark:new k(new ue(51,51,51,.6)),light:new k(new ue(204,204,204,.4)),hcDark:new k(new ue(111,195,223)),hcLight:fe},p("keybindingLabelBorder","Keybinding label border color. The keybinding label is used to represent a keyboard shortcut.")),eb=y("keybindingLabel.bottomBorder",{dark:new k(new ue(68,68,68,.6)),light:new k(new ue(187,187,187,.4)),hcDark:new k(new ue(111,195,223)),hcLight:be},p("keybindingLabelBottomBorder","Keybinding label border bottom color. The keybinding label is used to represent a keyboard shortcut."));var tb=y("list.focusBackground",null,p("listFocusBackground","List/Tree background color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),nb=y("list.focusForeground",null,p("listFocusForeground","List/Tree foreground color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),ib=y("list.focusOutline",{dark:Bt,light:Bt,hcDark:Je,hcLight:Je},p("listFocusOutline","List/Tree outline color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),ob=y("list.focusAndSelectionOutline",null,p("listFocusAndSelectionOutline","List/Tree outline color for the focused item when the list/tree is active and selected. An active list/tree has keyboard focus, an inactive does not.")),Pn=y("list.activeSelectionBackground",{dark:"#04395E",light:"#0060C0",hcDark:null,hcLight:k.fromHex("#0F4A85").transparent(.1)},p("listActiveSelectionBackground","List/Tree background color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),ji=y("list.activeSelectionForeground",{dark:k.white,light:k.white,hcDark:null,hcLight:null},p("listActiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Jl=y("list.activeSelectionIconForeground",null,p("listActiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),rb=y("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hcDark:null,hcLight:k.fromHex("#0F4A85").transparent(.1)},p("listInactiveSelectionBackground","List/Tree background color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),sb=y("list.inactiveSelectionForeground",null,p("listInactiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),ab=y("list.inactiveSelectionIconForeground",null,p("listInactiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),lb=y("list.inactiveFocusBackground",null,p("listInactiveFocusBackground","List/Tree background color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),db=y("list.inactiveFocusOutline",null,p("listInactiveFocusOutline","List/Tree outline color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),kh=y("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:k.white.transparent(.1),hcLight:k.fromHex("#0F4A85").transparent(.1)},p("listHoverBackground","List/Tree background when hovering over items using the mouse.")),Lh=y("list.hoverForeground",null,p("listHoverForeground","List/Tree foreground when hovering over items using the mouse.")),cb=y("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hcDark:null,hcLight:null},p("listDropBackground","List/Tree drag and drop background when moving items over other items when using the mouse.")),ub=y("list.dropBetweenBackground",{dark:Ds,light:Ds,hcDark:null,hcLight:null},p("listDropBetweenBackground","List/Tree drag and drop border color when moving items between items when using the mouse.")),Xl=y("list.highlightForeground",{dark:"#2AAAFF",light:"#0066BF",hcDark:Bt,hcLight:Bt},p("highlight","List/Tree foreground color of the match highlights when searching inside the list/tree.")),Kq=y("list.focusHighlightForeground",{dark:Xl,light:tg(Pn,Xl,"#BBE7FF"),hcDark:Xl,hcLight:Xl},p("listFocusHighlightForeground","List/Tree foreground color of the match highlights on actively focused items when searching inside the list/tree.")),zq=y("list.invalidItemForeground",{dark:"#B89500",light:"#B89500",hcDark:"#B89500",hcLight:"#B5200D"},p("invalidItemForeground","List/Tree foreground color for invalid items, for example an unresolved root in explorer.")),Uq=y("list.errorForeground",{dark:"#F88070",light:"#B01011",hcDark:null,hcLight:null},p("listErrorForeground","Foreground color of list items containing errors.")),Vq=y("list.warningForeground",{dark:"#CCA700",light:"#855F00",hcDark:null,hcLight:null},p("listWarningForeground","Foreground color of list items containing warnings.")),hb=y("listFilterWidget.background",{light:Fn(wt,0),dark:Pt(wt,0),hcDark:wt,hcLight:wt},p("listFilterWidgetBackground","Background color of the type filter widget in lists and trees.")),pb=y("listFilterWidget.outline",{dark:k.transparent,light:k.transparent,hcDark:"#f38518",hcLight:"#007ACC"},p("listFilterWidgetOutline","Outline color of the type filter widget in lists and trees.")),mb=y("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hcDark:fe,hcLight:fe},p("listFilterWidgetNoMatchesOutline","Outline color of the type filter widget in lists and trees, when there are no matches.")),fb=y("listFilterWidget.shadow",vr,p("listFilterWidgetShadow","Shadow color of the type filter widget in lists and trees.")),Wq=y("list.filterMatchBackground",{dark:qi,light:qi,hcDark:null,hcLight:null},p("listFilterMatchHighlight","Background color of the filtered match.")),$q=y("list.filterMatchBorder",{dark:Gi,light:Gi,hcDark:fe,hcLight:Je},p("listFilterMatchHighlightBorder","Border color of the filtered match.")),qq=y("list.deemphasizedForeground",{dark:"#8C8C8C",light:"#8E8E90",hcDark:"#A7A8A9",hcLight:"#666666"},p("listDeemphasizedForeground","List/Tree foreground color for items that are deemphasized.")),Ah=y("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hcDark:"#a9a9a9",hcLight:"#a5a5a5"},p("treeIndentGuidesStroke","Tree stroke color for the indentation guides.")),gb=y("tree.inactiveIndentGuidesStroke",ee(Ah,.4),p("treeInactiveIndentGuidesStroke","Tree stroke color for the indentation guides that are not active.")),bb=y("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hcDark:null,hcLight:null},p("tableColumnsBorder","Table border color between columns.")),vb=y("tree.tableOddRowsBackground",{dark:ee(be,.04),light:ee(be,.04),hcDark:null,hcLight:null},p("tableOddRowsBackgroundColor","Background color for odd table rows.")),Gq=y("editorActionList.background",wt,p("editorActionListBackground","Action List background color.")),jq=y("editorActionList.foreground",Eo,p("editorActionListForeground","Action List foreground color.")),Yq=y("editorActionList.focusForeground",ji,p("editorActionListFocusForeground","Action List foreground color for the focused item.")),Xq=y("editorActionList.focusBackground",Pn,p("editorActionListFocusBackground","Action List background color for the focused item."));var yb=y("menu.border",{dark:null,light:null,hcDark:fe,hcLight:fe},p("menuBorder","Border color of menus.")),Tb=y("menu.foreground",_s,p("menuForeground","Foreground color of menu items.")),Ib=y("menu.background",Ir,p("menuBackground","Background color of menu items.")),xb=y("menu.selectionForeground",ji,p("menuSelectionForeground","Foreground color of the selected menu item in menus.")),Sb=y("menu.selectionBackground",Pn,p("menuSelectionBackground","Background color of the selected menu item in menus.")),wb=y("menu.selectionBorder",{dark:null,light:null,hcDark:Je,hcLight:Je},p("menuSelectionBorder","Border color of the selected menu item in menus.")),Eb=y("menu.separatorBackground",{dark:"#606060",light:"#D4D4D4",hcDark:fe,hcLight:fe},p("menuSeparatorBackground","Color of a separator menu item in menus."));var aG=y("quickInput.background",wt,p("pickerBackground","Quick picker background color. The quick picker widget is the container for pickers like the command palette.")),lG=y("quickInput.foreground",Eo,p("pickerForeground","Quick picker foreground color. The quick picker widget is the container for pickers like the command palette.")),dG=y("quickInputTitle.background",{dark:new k(new ue(255,255,255,.105)),light:new k(new ue(0,0,0,.06)),hcDark:"#000000",hcLight:k.white},p("pickerTitleBackground","Quick picker title background color. The quick picker widget is the container for pickers like the command palette.")),Cb=y("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hcDark:k.white,hcLight:"#0F4A85"},p("pickerGroupForeground","Quick picker color for grouping labels.")),cG=y("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hcDark:k.white,hcLight:"#0F4A85"},p("pickerGroupBorder","Quick picker color for grouping borders.")),Db=y("quickInput.list.focusBackground",null,"",void 0,p("quickInput.list.focusBackground deprecation","Please use quickInputList.focusBackground instead")),_b=y("quickInputList.focusForeground",ji,p("quickInput.listFocusForeground","Quick picker foreground color for the focused item.")),kb=y("quickInputList.focusIconForeground",Jl,p("quickInput.listFocusIconForeground","Quick picker icon foreground color for the focused item.")),Lb=y("quickInputList.focusBackground",{dark:ph(Db,Pn),light:ph(Db,Pn),hcDark:null,hcLight:null},p("quickInput.listFocusBackground","Quick picker background color for the focused item."));var fG=y("search.resultsInfoForeground",{light:be,dark:ee(be,.65),hcDark:be,hcLight:be},p("search.resultsInfoForeground","Color of the text in the search viewlet's completion message.")),gG=y("searchEditor.findMatchBackground",{light:ee(qi,.66),dark:ee(qi,.66),hcDark:qi,hcLight:qi},p("searchEditor.queryMatch","Color of the Search Editor query matches.")),bG=y("searchEditor.findMatchBorder",{light:ee(Gi,.66),dark:ee(Gi,.66),hcDark:Gi,hcLight:Gi},p("searchEditor.editorFindMatchBorder","Border color of the Search Editor query matches."));function cI(n,e){let t={...e};for(let i in n){let o=n[i];t[i]=o!==void 0?M(o):void 0}return t}var KY={keybindingLabelBackground:M(Jg),keybindingLabelForeground:M(Qg),keybindingLabelBorder:M(Zg),keybindingLabelBottomBorder:M(eb),keybindingLabelShadow:M(vr)};var zY={buttonForeground:M(_h),buttonSeparator:M(Pg),buttonBackground:M(yr),buttonHoverBackground:M(Bg),buttonSecondaryForeground:M(Kg),buttonSecondaryBackground:M(Yl),buttonSecondaryHoverBackground:M(zg),buttonBorder:M(Hg)};var UY={progressBarBackground:M(sg)};var uI={inputActiveOptionBorder:M(wh),inputActiveOptionForeground:M(Dh),inputActiveOptionBackground:M(Eh)},VY={activeForeground:M(Tr),activeBackground:M(Ug),activeBorder:M(Vg),inactiveForeground:M(Wg),inactiveBackground:M($g),inactiveBorder:M(qg),inactiveHoverBackground:M(Gg)};var WY={checkboxBackground:M(jg),checkboxBorder:M(Xg),checkboxForeground:M(Yg)};var $Y={dialogBackground:M(wt),dialogForeground:M(Eo),dialogShadow:M(vr),dialogBorder:M(fe),errorIconForeground:M(Tg),warningIconForeground:M(Ig),infoIconForeground:M(xg),textLinkForeground:M(og)};var hI={inputBackground:M(wg),inputForeground:M(Eg),inputBorder:M(Dg),inputValidationInfoBorder:M(kg),inputValidationInfoBackground:M(Cg),inputValidationInfoForeground:M(_g),inputValidationWarningBorder:M(Ng),inputValidationWarningBackground:M(Lg),inputValidationWarningForeground:M(Ag),inputValidationErrorBorder:M(Og),inputValidationErrorBackground:M(Mg),inputValidationErrorForeground:M(Rg)};var Ab={listFilterWidgetBackground:M(hb),listFilterWidgetOutline:M(pb),listFilterWidgetNoMatchesOutline:M(mb),listFilterWidgetShadow:M(fb),inputBoxStyles:hI,toggleStyles:uI},qY={badgeBackground:M(hr),badgeForeground:M(rg),badgeBorder:M(fe)};var GY={breadcrumbsBackground:M(bg),breadcrumbsForeground:M(gg),breadcrumbsHoverForeground:M(xh),breadcrumbsFocusForeground:M(xh),breadcrumbsFocusAndSelectionForeground:M(vg)};var xr={listBackground:void 0,listInactiveFocusForeground:void 0,listFocusBackground:M(tb),listFocusForeground:M(nb),listFocusOutline:M(ib),listActiveSelectionBackground:M(Pn),listActiveSelectionForeground:M(ji),listActiveSelectionIconForeground:M(Jl),listFocusAndSelectionOutline:M(ob),listFocusAndSelectionBackground:M(Pn),listFocusAndSelectionForeground:M(ji),listInactiveSelectionBackground:M(rb),listInactiveSelectionIconForeground:M(ab),listInactiveSelectionForeground:M(sb),listInactiveFocusBackground:M(lb),listInactiveFocusOutline:M(db),listHoverBackground:M(kh),listHoverForeground:M(Lh),listDropOverBackground:M(cb),listDropBetweenBackground:M(ub),listSelectionOutline:M(Je),listHoverOutline:M(Je),treeIndentGuidesStroke:M(Ah),treeInactiveIndentGuidesStroke:M(gb),treeStickyScrollBackground:void 0,treeStickyScrollBorder:void 0,treeStickyScrollShadow:M(Cs),tableColumnsBorder:M(bb),tableOddRowsBackgroundColor:M(vb)};function ks(n){return cI(n,xr)}var jY={selectBackground:M(Ir),selectListBackground:M(Fg),selectForeground:M(_s),decoratorRightForeground:M(Cb),selectBorder:M(Ch),focusBorder:M(Bt),listFocusBackground:M(Lb),listInactiveSelectionIconForeground:M(kb),listFocusForeground:M(_b),listFocusOutline:eg(Je,k.transparent.toString()),listHoverBackground:M(kh),listHoverForeground:M(Lh),listHoverOutline:M(Je),selectListBorder:M(vh),listBackground:void 0,listActiveSelectionBackground:void 0,listActiveSelectionForeground:void 0,listActiveSelectionIconForeground:void 0,listFocusAndSelectionBackground:void 0,listDropOverBackground:void 0,listDropBetweenBackground:void 0,listInactiveSelectionBackground:void 0,listInactiveSelectionForeground:void 0,listInactiveFocusBackground:void 0,listInactiveFocusOutline:void 0,listSelectionOutline:void 0,listFocusAndSelectionForeground:void 0,listFocusAndSelectionOutline:void 0,listInactiveFocusForeground:void 0,tableColumnsBorder:void 0,tableOddRowsBackgroundColor:void 0,treeIndentGuidesStroke:void 0,treeInactiveIndentGuidesStroke:void 0,treeStickyScrollBackground:void 0,treeStickyScrollBorder:void 0,treeStickyScrollShadow:void 0};var YY={shadowColor:M(vr),borderColor:M(yb),foregroundColor:M(Tb),backgroundColor:M(Ib),selectionForegroundColor:M(xb),selectionBackgroundColor:M(Sb),selectionBorderColor:M(wb),separatorColor:M(Eb),scrollbarShadow:M(Cs),scrollbarSliderBackground:M($l),scrollbarSliderHoverBackground:M(ql),scrollbarSliderActiveBackground:M(Gl)};var ai=qe("listService");var Ls=new Fe("listScrollAtBoundary","none"),gJ=Ge.or(Ls.isEqualTo("top"),Ls.isEqualTo("both")),bJ=Ge.or(Ls.isEqualTo("bottom"),Ls.isEqualTo("both")),Nb=new Fe("listFocus",!0),Mb=new Fe("treestickyScrollFocused",!1),hd=new Fe("listSupportsMultiselect",!0),vJ=Ge.and(Nb,Ge.not(sh),Mb.negate()),Oh=new Fe("listHasSelectionOrFocus",!1),Fh=new Fe("listDoubleSelection",!1),Ph=new Fe("listMultiSelection",!1),pd=new Fe("listSelectionNavigation",!1),pI=new Fe("listSupportsFind",!0),mI=new Fe("treeElementCanCollapse",!1),fI=new Fe("treeElementHasParent",!1),gI=new Fe("treeElementCanExpand",!1),bI=new Fe("treeElementHasChild",!1),vI=new Fe("treeFindOpen",!1),Rb="listTypeNavigationMode",Ob="listAutomaticKeyboardNavigation";function md(n,e){let t=n.createScoped(e.getHTMLElement());return Nb.bindTo(t),t}function fd(n,e){let t=Ls.bindTo(n),i=()=>{let o=e.scrollTop===0,r=e.scrollHeight-e.renderHeight-e.scrollTop<1;o&&r?t.set("both"):o?t.set("top"):r?t.set("bottom"):t.set("none")};return i(),e.onDidScroll(i)}var Do="workbench.list.multiSelectModifier",rd="workbench.list.openMode",Gt="workbench.list.horizontalScrolling",Bh="workbench.list.defaultFindMode",Hh="workbench.list.typeNavigationMode",sd="workbench.list.keyboardNavigation",bn="workbench.list.scrollByPage",Kh="workbench.list.defaultFindMatchType",As="workbench.tree.indent",ad="workbench.tree.renderIndentGuides",vn="workbench.list.smoothScrolling",Bn="workbench.list.mouseWheelScrollSensitivity",Hn="workbench.list.fastScrollSensitivity",ld="workbench.tree.expandMode",dd="workbench.tree.enableStickyScroll",cd="workbench.tree.stickyScrollMaxItemCount";function Kn(n){return n.getValue(Do)==="alt"}var Nh=class extends Q{constructor(t){super();this.configurationService=t;this.useAltAsMultipleSelectionModifier=Kn(t),this.registerListeners()}useAltAsMultipleSelectionModifier;registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(t=>{t.affectsConfiguration(Do)&&(this.useAltAsMultipleSelectionModifier=Kn(this.configurationService))}))}isSelectionSingleChangeEvent(t){return this.useAltAsMultipleSelectionModifier?t.browserEvent.altKey:au(t)}isSelectionRangeChangeEvent(t){return lu(t)}};function gd(n,e){let t=n.get(tn),i=n.get(jf),o=new j;return[{...e,keyboardNavigationDelegate:{mightProducePrintableCharacter(s){return i.mightProducePrintableCharacter(s)}},smoothScrolling:!!t.getValue(vn),mouseWheelScrollSensitivity:t.getValue(Bn),fastScrollSensitivity:t.getValue(Hn),multipleSelectionController:e.multipleSelectionController??o.add(new Nh(t)),keyboardNavigationEventFilter:yI(i),scrollByPage:!!t.getValue(bn)},o]}var Ql=class extends lt{contextKeyService;listSupportsMultiSelect;listHasSelectionOrFocus;listDoubleSelection;listMultiSelection;horizontalScrolling;_useAltAsMultipleSelectionModifier;navigator;get onDidOpen(){return this.navigator.onDidOpen}constructor(e,t,i,o,r,s,a,l,d){let u=typeof r.horizontalScrolling<"u"?r.horizontalScrolling:!!l.getValue(Gt),[h,g]=d.invokeFunction(gd,r);super(e,t,i,o,{keyboardSupport:!1,...h,horizontalScrolling:u}),this.disposables.add(g),this.contextKeyService=md(s,this),this.disposables.add(fd(this.contextKeyService,this)),this.listSupportsMultiSelect=hd.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(r.multipleSelectionSupport!==!1),pd.bindTo(this.contextKeyService).set(!!r.selectionNavigation),this.listHasSelectionOrFocus=Oh.bindTo(this.contextKeyService),this.listDoubleSelection=Fh.bindTo(this.contextKeyService),this.listMultiSelection=Ph.bindTo(this.contextKeyService),this.horizontalScrolling=r.horizontalScrolling,this._useAltAsMultipleSelectionModifier=Kn(l),this.disposables.add(this.contextKeyService),this.disposables.add(a.register(this)),this.updateStyles(r.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{let w=this.getSelection(),v=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(w.length>0||v.length>0),this.listMultiSelection.set(w.length>1),this.listDoubleSelection.set(w.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{let w=this.getSelection(),v=this.getFocus();this.listHasSelectionOrFocus.set(w.length>0||v.length>0)})),this.disposables.add(l.onDidChangeConfiguration(w=>{w.affectsConfiguration(Do)&&(this._useAltAsMultipleSelectionModifier=Kn(l));let v={};if(w.affectsConfiguration(Gt)&&this.horizontalScrolling===void 0){let E=!!l.getValue(Gt);v={...v,horizontalScrolling:E}}if(w.affectsConfiguration(bn)){let E=!!l.getValue(bn);v={...v,scrollByPage:E}}if(w.affectsConfiguration(vn)){let E=!!l.getValue(vn);v={...v,smoothScrolling:E}}if(w.affectsConfiguration(Bn)){let E=l.getValue(Bn);v={...v,mouseWheelScrollSensitivity:E}}if(w.affectsConfiguration(Hn)){let E=l.getValue(Hn);v={...v,fastScrollSensitivity:E}}Object.keys(v).length>0&&this.updateOptions(v)})),this.navigator=new ud(this,{configurationService:l,...r}),this.disposables.add(this.navigator)}updateOptions(e){super.updateOptions(e),e.overrideStyles!==void 0&&this.updateStyles(e.overrideStyles),e.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyles(e){this.style(e?ks(e):xr)}get useAltAsMultipleSelectionModifier(){return this._useAltAsMultipleSelectionModifier}};Ql=he([xe(5,qt),xe(6,ai),xe(7,tn),xe(8,On)],Ql);var Zl=class extends sl{contextKeyService;disposables;listSupportsMultiSelect;_useAltAsMultipleSelectionModifier;horizontalScrolling;navigator;get onDidOpen(){return this.navigator.onDidOpen}constructor(e,t,i,o,r,s,a,l,d){let u=typeof r.horizontalScrolling<"u"?r.horizontalScrolling:!!l.getValue(Gt),[h,g]=d.invokeFunction(gd,r);super(e,t,i,o,{keyboardSupport:!1,...h,horizontalScrolling:u}),this.disposables=new j,this.disposables.add(g),this.contextKeyService=md(s,this),this.disposables.add(fd(this.contextKeyService,this.widget)),this.horizontalScrolling=r.horizontalScrolling,this.listSupportsMultiSelect=hd.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(r.multipleSelectionSupport!==!1),pd.bindTo(this.contextKeyService).set(!!r.selectionNavigation),this._useAltAsMultipleSelectionModifier=Kn(l),this.disposables.add(this.contextKeyService),this.disposables.add(a.register(this)),this.updateStyles(r.overrideStyles),this.disposables.add(l.onDidChangeConfiguration(w=>{w.affectsConfiguration(Do)&&(this._useAltAsMultipleSelectionModifier=Kn(l));let v={};if(w.affectsConfiguration(Gt)&&this.horizontalScrolling===void 0){let E=!!l.getValue(Gt);v={...v,horizontalScrolling:E}}if(w.affectsConfiguration(bn)){let E=!!l.getValue(bn);v={...v,scrollByPage:E}}if(w.affectsConfiguration(vn)){let E=!!l.getValue(vn);v={...v,smoothScrolling:E}}if(w.affectsConfiguration(Bn)){let E=l.getValue(Bn);v={...v,mouseWheelScrollSensitivity:E}}if(w.affectsConfiguration(Hn)){let E=l.getValue(Hn);v={...v,fastScrollSensitivity:E}}Object.keys(v).length>0&&this.updateOptions(v)})),this.navigator=new ud(this,{configurationService:l,...r}),this.disposables.add(this.navigator)}updateOptions(e){super.updateOptions(e),e.overrideStyles!==void 0&&this.updateStyles(e.overrideStyles),e.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyles(e){this.style(e?ks(e):xr)}get useAltAsMultipleSelectionModifier(){return this._useAltAsMultipleSelectionModifier}dispose(){this.disposables.dispose(),super.dispose()}};Zl=he([xe(5,qt),xe(6,ai),xe(7,tn),xe(8,On)],Zl);var ed=class extends ul{contextKeyService;listSupportsMultiSelect;listHasSelectionOrFocus;listDoubleSelection;listMultiSelection;horizontalScrolling;_useAltAsMultipleSelectionModifier;navigator;get onDidOpen(){return this.navigator.onDidOpen}constructor(e,t,i,o,r,s,a,l,d,u){let h=typeof s.horizontalScrolling<"u"?s.horizontalScrolling:!!d.getValue(Gt),[g,T]=u.invokeFunction(gd,s);super(e,t,i,o,r,{keyboardSupport:!1,...g,horizontalScrolling:h}),this.disposables.add(T),this.contextKeyService=md(a,this),this.disposables.add(fd(this.contextKeyService,this)),this.listSupportsMultiSelect=hd.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(s.multipleSelectionSupport!==!1),pd.bindTo(this.contextKeyService).set(!!s.selectionNavigation),this.listHasSelectionOrFocus=Oh.bindTo(this.contextKeyService),this.listDoubleSelection=Fh.bindTo(this.contextKeyService),this.listMultiSelection=Ph.bindTo(this.contextKeyService),this.horizontalScrolling=s.horizontalScrolling,this._useAltAsMultipleSelectionModifier=Kn(d),this.disposables.add(this.contextKeyService),this.disposables.add(l.register(this)),this.updateStyles(s.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{let v=this.getSelection(),E=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(v.length>0||E.length>0),this.listMultiSelection.set(v.length>1),this.listDoubleSelection.set(v.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{let v=this.getSelection(),E=this.getFocus();this.listHasSelectionOrFocus.set(v.length>0||E.length>0)})),this.disposables.add(d.onDidChangeConfiguration(v=>{v.affectsConfiguration(Do)&&(this._useAltAsMultipleSelectionModifier=Kn(d));let E={};if(v.affectsConfiguration(Gt)&&this.horizontalScrolling===void 0){let P=!!d.getValue(Gt);E={...E,horizontalScrolling:P}}if(v.affectsConfiguration(bn)){let P=!!d.getValue(bn);E={...E,scrollByPage:P}}if(v.affectsConfiguration(vn)){let P=!!d.getValue(vn);E={...E,smoothScrolling:P}}if(v.affectsConfiguration(Bn)){let P=d.getValue(Bn);E={...E,mouseWheelScrollSensitivity:P}}if(v.affectsConfiguration(Hn)){let P=d.getValue(Hn);E={...E,fastScrollSensitivity:P}}Object.keys(E).length>0&&this.updateOptions(E)})),this.navigator=new Mh(this,{configurationService:d,...s}),this.disposables.add(this.navigator)}updateOptions(e){super.updateOptions(e),e.overrideStyles!==void 0&&this.updateStyles(e.overrideStyles),e.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyles(e){this.style(e?ks(e):xr)}get useAltAsMultipleSelectionModifier(){return this._useAltAsMultipleSelectionModifier}dispose(){this.disposables.dispose(),super.dispose()}};ed=he([xe(6,qt),xe(7,ai),xe(8,tn),xe(9,On)],ed);var Ns=class extends Q{constructor(t,i){super();this.widget=t;this._register(A.filter(this.widget.onDidChangeSelection,o=>kn(o.browserEvent))(o=>this.onSelectionFromKeyboard(o))),this._register(this.widget.onPointer(o=>this.onPointer(o.element,o.browserEvent))),this._register(this.widget.onMouseDblClick(o=>this.onMouseDblClick(o.element,o.browserEvent))),typeof i?.openOnSingleClick!="boolean"&&i?.configurationService?(this.openOnSingleClick=i?.configurationService.getValue(rd)!=="doubleClick",this._register(i?.configurationService.onDidChangeConfiguration(o=>{o.affectsConfiguration(rd)&&(this.openOnSingleClick=i?.configurationService.getValue(rd)!=="doubleClick")}))):this.openOnSingleClick=i?.openOnSingleClick??!0}openOnSingleClick;_onDidOpen=this._register(new L);onDidOpen=this._onDidOpen.event;onSelectionFromKeyboard(t){if(t.elements.length!==1)return;let i=t.browserEvent,o=typeof i.preserveFocus=="boolean"?i.preserveFocus:!0,r=typeof i.pinned=="boolean"?i.pinned:!o;this._open(this.getSelectedElement(),o,r,!1,t.browserEvent)}onPointer(t,i){if(!this.openOnSingleClick||i.detail===2)return;let r=i.button===1,s=!0,a=r,l=i.ctrlKey||i.metaKey||i.altKey;this._open(t,s,a,l,i)}onMouseDblClick(t,i){if(!i)return;let o=i.target;if(o.classList.contains("monaco-tl-twistie")||o.classList.contains("monaco-icon-label")&&o.classList.contains("folder-icon")&&i.offsetX<16)return;let s=!1,a=!0,l=i.ctrlKey||i.metaKey||i.altKey;this._open(t,s,a,l,i)}_open(t,i,o,r,s){t&&this._onDidOpen.fire({editorOptions:{preserveFocus:i,pinned:o,revealIfVisible:!0},sideBySide:r,element:t,browserEvent:s})}},ud=class extends Ns{widget;constructor(e,t){super(e,t),this.widget=e}getSelectedElement(){return this.widget.getSelectedElements()[0]}},Mh=class extends Ns{constructor(e,t){super(e,t)}getSelectedElement(){return this.widget.getSelectedElements()[0]}},Rh=class extends Ns{constructor(e,t){super(e,t)}getSelectedElement(){return this.widget.getSelection()[0]??void 0}};function yI(n){let e=!1;return t=>{if(t.toKeyCodeChord().isModifierKey())return!1;if(e)return e=!1,!1;let i=n.softDispatch(t,t.target);return i.kind===1?(e=!0,!1):(e=!1,i.kind===0)}}var Sr=class extends go{internals;get contextKeyService(){return this.internals.contextKeyService}get useAltAsMultipleSelectionModifier(){return this.internals.useAltAsMultipleSelectionModifier}get onDidOpen(){return this.internals.onDidOpen}constructor(e,t,i,o,r,s,a,l,d){let{options:u,getTypeNavigationMode:h,disposable:g}=s.invokeFunction(Ms,r);super(e,t,i,o,u),this.disposables.add(g),this.internals=new si(this,r,h,r.overrideStyles,a,l,d),this.disposables.add(this.internals)}updateOptions(e){super.updateOptions(e),this.internals.updateOptions(e)}};Sr=he([xe(5,On),xe(6,qt),xe(7,ai),xe(8,tn)],Sr);var td=class extends lr{internals;get contextKeyService(){return this.internals.contextKeyService}get useAltAsMultipleSelectionModifier(){return this.internals.useAltAsMultipleSelectionModifier}get onDidOpen(){return this.internals.onDidOpen}constructor(e,t,i,o,r,s,a,l,d){let{options:u,getTypeNavigationMode:h,disposable:g}=s.invokeFunction(Ms,r);super(e,t,i,o,u),this.disposables.add(g),this.internals=new si(this,r,h,r.overrideStyles,a,l,d),this.disposables.add(this.internals)}updateOptions(e={}){super.updateOptions(e),e.overrideStyles&&this.internals.updateStyleOverrides(e.overrideStyles),this.internals.updateOptions(e)}};td=he([xe(5,On),xe(6,qt),xe(7,ai),xe(8,tn)],td);var nd=class extends Al{internals;get contextKeyService(){return this.internals.contextKeyService}get useAltAsMultipleSelectionModifier(){return this.internals.useAltAsMultipleSelectionModifier}get onDidOpen(){return this.internals.onDidOpen}constructor(e,t,i,o,r,s,a,l,d,u){let{options:h,getTypeNavigationMode:g,disposable:T}=a.invokeFunction(Ms,s);super(e,t,i,o,r,h),this.disposables.add(T),this.internals=new si(this,s,g,s.overrideStyles,l,d,u),this.disposables.add(this.internals)}updateOptions(e={}){super.updateOptions(e),e.overrideStyles!==void 0&&this.internals.updateStyleOverrides(e.overrideStyles),this.internals.updateOptions(e)}};nd=he([xe(6,On),xe(7,qt),xe(8,ai),xe(9,tn)],nd);var id=class extends hs{internals;get contextKeyService(){return this.internals.contextKeyService}get useAltAsMultipleSelectionModifier(){return this.internals.useAltAsMultipleSelectionModifier}get onDidOpen(){return this.internals.onDidOpen}constructor(e,t,i,o,r,s,a,l,d,u){let{options:h,getTypeNavigationMode:g,disposable:T}=a.invokeFunction(Ms,s);super(e,t,i,o,r,h),this.disposables.add(T),this.internals=new si(this,s,g,s.overrideStyles,l,d,u),this.disposables.add(this.internals)}updateOptions(e={}){super.updateOptions(e),e.overrideStyles&&this.internals.updateStyleOverrides(e.overrideStyles),this.internals.updateOptions(e)}};id=he([xe(6,On),xe(7,qt),xe(8,ai),xe(9,tn)],id);var od=class extends Ll{internals;get contextKeyService(){return this.internals.contextKeyService}get useAltAsMultipleSelectionModifier(){return this.internals.useAltAsMultipleSelectionModifier}get onDidOpen(){return this.internals.onDidOpen}constructor(e,t,i,o,r,s,a,l,d,u,h){let{options:g,getTypeNavigationMode:T,disposable:w}=l.invokeFunction(Ms,a);super(e,t,i,o,r,s,g),this.disposables.add(w),this.internals=new si(this,a,T,a.overrideStyles,d,u,h),this.disposables.add(this.internals)}updateOptions(e){super.updateOptions(e),this.internals.updateOptions(e)}};od=he([xe(7,On),xe(8,qt),xe(9,ai),xe(10,tn)],od);function Fb(n){let e=n.getValue(Bh);if(e==="highlight")return 0;if(e==="filter")return 1;let t=n.getValue(sd);if(t==="simple"||t==="highlight")return 0;if(t==="filter")return 1}function Pb(n){let e=n.getValue(Kh);if(e==="fuzzy")return 0;if(e==="contiguous")return 1}function Ms(n,e){let t=n.get(tn),i=n.get(Gf),o=n.get(qt),r=n.get(On),s=()=>{let g=o.getContextKeyValue(Rb);if(g==="automatic")return 0;if(g==="trigger")return 1;if(o.getContextKeyValue(Ob)===!1)return 1;let w=t.getValue(Hh);if(w==="automatic")return 0;if(w==="trigger")return 1},a=e.horizontalScrolling!==void 0?e.horizontalScrolling:!!t.getValue(Gt),[l,d]=r.invokeFunction(gd,e),u=e.paddingBottom,h=e.renderIndentGuides!==void 0?e.renderIndentGuides:t.getValue(ad);return{getTypeNavigationMode:s,disposable:d,options:{keyboardSupport:!1,...l,indent:typeof t.getValue(As)=="number"?t.getValue(As):void 0,renderIndentGuides:h,smoothScrolling:!!t.getValue(vn),defaultFindMode:Fb(t),defaultFindMatchType:Pb(t),horizontalScrolling:a,scrollByPage:!!t.getValue(bn),paddingBottom:u,hideTwistiesOfChildlessElements:e.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:e.expandOnlyOnTwistieClick??t.getValue(ld)==="doubleClick",contextViewProvider:i,findWidgetStyles:Ab,enableStickyScroll:!!t.getValue(dd),stickyScrollMaxItemCount:Number(t.getValue(cd))}}}var si=class{constructor(e,t,i,o,r,s,a){this.tree=e;this.contextKeyService=md(r,e),this.disposables.push(fd(this.contextKeyService,e)),this.listSupportsMultiSelect=hd.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(t.multipleSelectionSupport!==!1),pd.bindTo(this.contextKeyService).set(!!t.selectionNavigation),this.listSupportFindWidget=pI.bindTo(this.contextKeyService),this.listSupportFindWidget.set(t.findWidgetEnabled??!0),this.hasSelectionOrFocus=Oh.bindTo(this.contextKeyService),this.hasDoubleSelection=Fh.bindTo(this.contextKeyService),this.hasMultiSelection=Ph.bindTo(this.contextKeyService),this.treeElementCanCollapse=mI.bindTo(this.contextKeyService),this.treeElementHasParent=fI.bindTo(this.contextKeyService),this.treeElementCanExpand=gI.bindTo(this.contextKeyService),this.treeElementHasChild=bI.bindTo(this.contextKeyService),this.treeFindOpen=vI.bindTo(this.contextKeyService),this.treeStickyScrollFocused=Mb.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=Kn(a),this.updateStyleOverrides(o);let d=()=>{let h=e.getFocus()[0];if(!h)return;let g=e.getNode(h);this.treeElementCanCollapse.set(g.collapsible&&!g.collapsed),this.treeElementHasParent.set(!!e.getParentElement(h)),this.treeElementCanExpand.set(g.collapsible&&g.collapsed),this.treeElementHasChild.set(!!e.getFirstElementChild(h))},u=new Set;u.add(Rb),u.add(Ob),this.disposables.push(this.contextKeyService,s.register(e),e.onDidChangeSelection(()=>{let h=e.getSelection(),g=e.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.hasSelectionOrFocus.set(h.length>0||g.length>0),this.hasMultiSelection.set(h.length>1),this.hasDoubleSelection.set(h.length===2)})}),e.onDidChangeFocus(()=>{let h=e.getSelection(),g=e.getFocus();this.hasSelectionOrFocus.set(h.length>0||g.length>0),d()}),e.onDidChangeCollapseState(d),e.onDidChangeModel(d),e.onDidChangeFindOpenState(h=>this.treeFindOpen.set(h)),e.onDidChangeStickyScrollFocused(h=>this.treeStickyScrollFocused.set(h)),a.onDidChangeConfiguration(h=>{let g={};if(h.affectsConfiguration(Do)&&(this._useAltAsMultipleSelectionModifier=Kn(a)),h.affectsConfiguration(As)){let T=a.getValue(As);g={...g,indent:T}}if(h.affectsConfiguration(ad)&&t.renderIndentGuides===void 0){let T=a.getValue(ad);g={...g,renderIndentGuides:T}}if(h.affectsConfiguration(vn)){let T=!!a.getValue(vn);g={...g,smoothScrolling:T}}if(h.affectsConfiguration(Bh)||h.affectsConfiguration(sd)){let T=Fb(a);g={...g,defaultFindMode:T}}if(h.affectsConfiguration(Hh)||h.affectsConfiguration(sd)){let T=i();g={...g,typeNavigationMode:T}}if(h.affectsConfiguration(Kh)){let T=Pb(a);g={...g,defaultFindMatchType:T}}if(h.affectsConfiguration(Gt)&&t.horizontalScrolling===void 0){let T=!!a.getValue(Gt);g={...g,horizontalScrolling:T}}if(h.affectsConfiguration(bn)){let T=!!a.getValue(bn);g={...g,scrollByPage:T}}if(h.affectsConfiguration(ld)&&t.expandOnlyOnTwistieClick===void 0&&(g={...g,expandOnlyOnTwistieClick:a.getValue(ld)==="doubleClick"}),h.affectsConfiguration(dd)){let T=a.getValue(dd);g={...g,enableStickyScroll:T}}if(h.affectsConfiguration(cd)){let T=Math.max(1,a.getValue(cd));g={...g,stickyScrollMaxItemCount:T}}if(h.affectsConfiguration(Bn)){let T=a.getValue(Bn);g={...g,mouseWheelScrollSensitivity:T}}if(h.affectsConfiguration(Hn)){let T=a.getValue(Hn);g={...g,fastScrollSensitivity:T}}Object.keys(g).length>0&&e.updateOptions(g)}),this.contextKeyService.onDidChangeContext(h=>{h.affectsSome(u)&&e.updateOptions({typeNavigationMode:i()})})),this.navigator=new Rh(e,{configurationService:a,...t}),this.disposables.push(this.navigator)}contextKeyService;listSupportsMultiSelect;listSupportFindWidget;hasSelectionOrFocus;hasDoubleSelection;hasMultiSelection;treeElementCanCollapse;treeElementHasParent;treeElementCanExpand;treeElementHasChild;treeFindOpen;treeStickyScrollFocused;_useAltAsMultipleSelectionModifier;disposables=[];navigator;get onDidOpen(){return this.navigator.onDidOpen}get useAltAsMultipleSelectionModifier(){return this._useAltAsMultipleSelectionModifier}updateOptions(e){e.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyleOverrides(e){this.tree.style(e?ks(e):xr)}dispose(){this.disposables=Ve(this.disposables)}};si=he([xe(4,qt),xe(5,ai),xe(6,tn)],si);var TI=gt.as(nh.Configuration);TI.registerConfiguration({id:"workbench",order:7,title:p("workbenchConfigurationTitle","Workbench"),type:"object",properties:{[Do]:{type:"string",enum:["ctrlCmd","alt"],markdownEnumDescriptions:[p("multiSelectModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),p("multiSelectModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],default:"ctrlCmd",description:p({key:"multiSelectModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add an item in trees and lists to a multi-selection with the mouse (for example in the explorer, open editors and scm view). The 'Open to Side' mouse gestures - if supported - will adapt such that they do not conflict with the multiselect modifier.")},[rd]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:p({key:"openModeModifier",comment:["`singleClick` and `doubleClick` refers to a value the setting can take and should not be localized."]},"Controls how to open items in trees and lists using the mouse (if supported). Note that some trees and lists might choose to ignore this setting if it is not applicable.")},[Gt]:{type:"boolean",default:!1,description:p("horizontalScrolling setting","Controls whether lists and trees support horizontal scrolling in the workbench. Warning: turning on this setting has a performance implication.")},[bn]:{type:"boolean",default:!1,description:p("list.scrollByPage","Controls whether clicks in the scrollbar scroll page by page.")},[As]:{type:"number",default:8,minimum:4,maximum:40,description:p("tree indent setting","Controls tree indentation in pixels.")},[ad]:{type:"string",enum:["none","onHover","always"],default:"onHover",description:p("render tree indent guides","Controls whether the tree should render indent guides.")},[vn]:{type:"boolean",default:!1,description:p("list smoothScrolling setting","Controls whether lists and trees have smooth scrolling.")},[Bn]:{type:"number",default:1,markdownDescription:p("Mouse Wheel Scroll Sensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")},[Hn]:{type:"number",default:5,markdownDescription:p("Fast Scroll Sensitivity","Scrolling speed multiplier when pressing `Alt`.")},[Bh]:{type:"string",enum:["highlight","filter"],enumDescriptions:[p("defaultFindModeSettingKey.highlight","Highlight elements when searching. Further up and down navigation will traverse only the highlighted elements."),p("defaultFindModeSettingKey.filter","Filter elements when searching.")],default:"highlight",description:p("defaultFindModeSettingKey","Controls the default find mode for lists and trees in the workbench.")},[sd]:{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[p("keyboardNavigationSettingKey.simple","Simple keyboard navigation focuses elements which match the keyboard input. Matching is done only on prefixes."),p("keyboardNavigationSettingKey.highlight","Highlight keyboard navigation highlights elements which match the keyboard input. Further up and down navigation will traverse only the highlighted elements."),p("keyboardNavigationSettingKey.filter","Filter keyboard navigation will filter out and hide all the elements which do not match the keyboard input.")],default:"highlight",description:p("keyboardNavigationSettingKey","Controls the keyboard navigation style for lists and trees in the workbench. Can be simple, highlight and filter."),deprecated:!0,deprecationMessage:p("keyboardNavigationSettingKeyDeprecated","Please use 'workbench.list.defaultFindMode' and	'workbench.list.typeNavigationMode' instead.")},[Kh]:{type:"string",enum:["fuzzy","contiguous"],enumDescriptions:[p("defaultFindMatchTypeSettingKey.fuzzy","Use fuzzy matching when searching."),p("defaultFindMatchTypeSettingKey.contiguous","Use contiguous matching when searching.")],default:"fuzzy",description:p("defaultFindMatchTypeSettingKey","Controls the type of matching used when searching lists and trees in the workbench.")},[ld]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:p("expand mode","Controls how tree folders are expanded when clicking the folder names. Note that some trees and lists might choose to ignore this setting if it is not applicable.")},[dd]:{type:"boolean",default:!0,description:p("sticky scroll","Controls whether sticky scrolling is enabled in trees.")},[cd]:{type:"number",minimum:1,default:7,markdownDescription:p("sticky scroll maximum items","Controls the number of sticky elements displayed in the tree when {0} is enabled.","`#workbench.tree.enableStickyScroll#`")},[Hh]:{type:"string",enum:["automatic","trigger"],default:"automatic",markdownDescription:p("typeNavigationMode2","Controls how type navigation works in lists and trees in the workbench. When set to `trigger`, type navigation begins once the `list.triggerTypeNavigation` command is run.")}}});var Co=class n{constructor(e,t=e.length){this.path=e;this.viewEnd=t;if(e.length===0||t<1)throw new Error("cannot create test with empty path")}stringifed;static fromExtHostTestItem(e,t,i=e.parent){if(e._isRoot)return new n([t]);let o=[e.id];for(let r=i;r&&r.id!==t;r=r.parent)o.push(r.id);return o.push(t),new n(o.reverse())}static isRoot(e){return!e.includes("\0")}static root(e){let t=e.indexOf("\0");return t===-1?e:e.slice(0,t)}static fromString(e){return new n(e.split("\0"))}static join(e,t){return new n([...e.path,t])}static joinToString(e,t){return e.toString()+"\0"+t}static parentId(e){let t=e.lastIndexOf("\0");return t===-1?void 0:e.slice(0,t)}static localId(e){let t=e.lastIndexOf("\0");return t===-1?e:e.slice(t+1)}static isChild(e,t){return t[e.length]==="\0"&&t.startsWith(e)}static compare(e,t){return e===t?0:n.isChild(e,t)?2:n.isChild(t,e)?3:1}static getLengthOfCommonPrefix(e,t){if(e===0)return 0;let i=0;for(;i<e-1;){for(let o=1;o<e;o++){let r=t(o-1),s=t(o);if(r.path[i]!==s.path[i])return i}i++}return i}get rootId(){return new n(this.path,1)}get parentId(){return this.viewEnd>1?new n(this.path,this.viewEnd-1):void 0}get localId(){return this.path[this.viewEnd-1]}get controllerId(){return this.path[0]}get isRoot(){return this.viewEnd===1}*idsFromRoot(){for(let e=1;e<=this.viewEnd;e++)yield new n(this.path,e)}*idsToRoot(){for(let e=this.viewEnd;e>0;e--)yield new n(this.path,e)}compare(e){if(typeof e=="string")return n.compare(this.toString(),e);for(let t=0;t<e.viewEnd&&t<this.viewEnd;t++)if(e.path[t]!==this.path[t])return 1;return e.viewEnd>this.viewEnd?2:e.viewEnd<this.viewEnd?3:0}toJSON(){return this.toString()}toString(){if(!this.stringifed){this.stringifed=this.path[0];for(let e=1;e<this.viewEnd;e++)this.stringifed+="\0",this.stringifed+=this.path[e]}return this.stringifed}};var li=class n{lineNumber;column;constructor(e,t){this.lineNumber=e,this.column=t}with(e=this.lineNumber,t=this.column){return e===this.lineNumber&&t===this.column?this:new n(e,t)}delta(e=0,t=0){return this.with(this.lineNumber+e,this.column+t)}equals(e){return n.equals(this,e)}static equals(e,t){return!e&&!t?!0:!!e&&!!t&&e.lineNumber===t.lineNumber&&e.column===t.column}isBefore(e){return n.isBefore(this,e)}static isBefore(e,t){return e.lineNumber<t.lineNumber?!0:t.lineNumber<e.lineNumber?!1:e.column<t.column}isBeforeOrEqual(e){return n.isBeforeOrEqual(this,e)}static isBeforeOrEqual(e,t){return e.lineNumber<t.lineNumber?!0:t.lineNumber<e.lineNumber?!1:e.column<=t.column}static compare(e,t){let i=e.lineNumber|0,o=t.lineNumber|0;if(i===o){let r=e.column|0,s=t.column|0;return r-s}return i-o}clone(){return new n(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(e){return new n(e.lineNumber,e.column)}static isIPosition(e){return e&&typeof e.lineNumber=="number"&&typeof e.column=="number"}toJSON(){return{lineNumber:this.lineNumber,column:this.column}}};var _o=class n{startLineNumber;startColumn;endLineNumber;endColumn;constructor(e,t,i,o){e>i||e===i&&t>o?(this.startLineNumber=i,this.startColumn=o,this.endLineNumber=e,this.endColumn=t):(this.startLineNumber=e,this.startColumn=t,this.endLineNumber=i,this.endColumn=o)}isEmpty(){return n.isEmpty(this)}static isEmpty(e){return e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn}containsPosition(e){return n.containsPosition(this,e)}static containsPosition(e,t){return!(t.lineNumber<e.startLineNumber||t.lineNumber>e.endLineNumber||t.lineNumber===e.startLineNumber&&t.column<e.startColumn||t.lineNumber===e.endLineNumber&&t.column>e.endColumn)}static strictContainsPosition(e,t){return!(t.lineNumber<e.startLineNumber||t.lineNumber>e.endLineNumber||t.lineNumber===e.startLineNumber&&t.column<=e.startColumn||t.lineNumber===e.endLineNumber&&t.column>=e.endColumn)}containsRange(e){return n.containsRange(this,e)}static containsRange(e,t){return!(t.startLineNumber<e.startLineNumber||t.endLineNumber<e.startLineNumber||t.startLineNumber>e.endLineNumber||t.endLineNumber>e.endLineNumber||t.startLineNumber===e.startLineNumber&&t.startColumn<e.startColumn||t.endLineNumber===e.endLineNumber&&t.endColumn>e.endColumn)}strictContainsRange(e){return n.strictContainsRange(this,e)}static strictContainsRange(e,t){return!(t.startLineNumber<e.startLineNumber||t.endLineNumber<e.startLineNumber||t.startLineNumber>e.endLineNumber||t.endLineNumber>e.endLineNumber||t.startLineNumber===e.startLineNumber&&t.startColumn<=e.startColumn||t.endLineNumber===e.endLineNumber&&t.endColumn>=e.endColumn)}plusRange(e){return n.plusRange(this,e)}static plusRange(e,t){let i,o,r,s;return t.startLineNumber<e.startLineNumber?(i=t.startLineNumber,o=t.startColumn):t.startLineNumber===e.startLineNumber?(i=t.startLineNumber,o=Math.min(t.startColumn,e.startColumn)):(i=e.startLineNumber,o=e.startColumn),t.endLineNumber>e.endLineNumber?(r=t.endLineNumber,s=t.endColumn):t.endLineNumber===e.endLineNumber?(r=t.endLineNumber,s=Math.max(t.endColumn,e.endColumn)):(r=e.endLineNumber,s=e.endColumn),new n(i,o,r,s)}intersectRanges(e){return n.intersectRanges(this,e)}static intersectRanges(e,t){let i=e.startLineNumber,o=e.startColumn,r=e.endLineNumber,s=e.endColumn,a=t.startLineNumber,l=t.startColumn,d=t.endLineNumber,u=t.endColumn;return i<a?(i=a,o=l):i===a&&(o=Math.max(o,l)),r>d?(r=d,s=u):r===d&&(s=Math.min(s,u)),i>r||i===r&&o>s?null:new n(i,o,r,s)}equalsRange(e){return n.equalsRange(this,e)}static equalsRange(e,t){return!e&&!t?!0:!!e&&!!t&&e.startLineNumber===t.startLineNumber&&e.startColumn===t.startColumn&&e.endLineNumber===t.endLineNumber&&e.endColumn===t.endColumn}getEndPosition(){return n.getEndPosition(this)}static getEndPosition(e){return new li(e.endLineNumber,e.endColumn)}getStartPosition(){return n.getStartPosition(this)}static getStartPosition(e){return new li(e.startLineNumber,e.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(e,t){return new n(this.startLineNumber,this.startColumn,e,t)}setStartPosition(e,t){return new n(e,t,this.endLineNumber,this.endColumn)}collapseToStart(){return n.collapseToStart(this)}static collapseToStart(e){return new n(e.startLineNumber,e.startColumn,e.startLineNumber,e.startColumn)}collapseToEnd(){return n.collapseToEnd(this)}static collapseToEnd(e){return new n(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn)}delta(e){return new n(this.startLineNumber+e,this.startColumn,this.endLineNumber+e,this.endColumn)}static fromPositions(e,t=e){return new n(e.lineNumber,e.column,t.lineNumber,t.column)}static lift(e){return e?new n(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn):null}static isIRange(e){return e&&typeof e.startLineNumber=="number"&&typeof e.startColumn=="number"&&typeof e.endLineNumber=="number"&&typeof e.endColumn=="number"}static areIntersectingOrTouching(e,t){return!(e.endLineNumber<t.startLineNumber||e.endLineNumber===t.startLineNumber&&e.endColumn<t.startColumn||t.endLineNumber<e.startLineNumber||t.endLineNumber===e.startLineNumber&&t.endColumn<e.startColumn)}static areIntersecting(e,t){return!(e.endLineNumber<t.startLineNumber||e.endLineNumber===t.startLineNumber&&e.endColumn<=t.startColumn||t.endLineNumber<e.startLineNumber||t.endLineNumber===e.startLineNumber&&t.endColumn<=e.startColumn)}static compareRangesUsingStarts(e,t){if(e&&t){let r=e.startLineNumber|0,s=t.startLineNumber|0;if(r===s){let a=e.startColumn|0,l=t.startColumn|0;if(a===l){let d=e.endLineNumber|0,u=t.endLineNumber|0;if(d===u){let h=e.endColumn|0,g=t.endColumn|0;return h-g}return d-u}return a-l}return r-s}return(e?1:0)-(t?1:0)}static compareRangesUsingEnds(e,t){return e.endLineNumber===t.endLineNumber?e.endColumn===t.endColumn?e.startLineNumber===t.startLineNumber?e.startColumn-t.startColumn:e.startLineNumber-t.startLineNumber:e.endColumn-t.endColumn:e.endLineNumber-t.endLineNumber}static spansMultipleLines(e){return e.endLineNumber>e.startLineNumber}toJSON(){return this}};var Rs;(t=>(t.serialize=i=>({range:i.range.toJSON(),uri:i.uri.toJSON()}),t.deserialize=(i,o)=>({range:_o.lift(o.range),uri:i.asCanonicalUri(Ne.revive(o.uri))})))(Rs||={});var zh;(t=>(t.serialize=i=>({label:i.label,uri:i.uri?.toJSON(),position:i.position?.toJSON()}),t.deserialize=(i,o)=>({label:o.label,uri:o.uri?i.asCanonicalUri(Ne.revive(o.uri)):void 0,position:o.position?li.lift(o.position):void 0})))(zh||={});var Uh;(t=>(t.serialize=i=>({message:i.message,type:0,expected:i.expected,actual:i.actual,contextValue:i.contextValue,location:i.location&&Rs.serialize(i.location),stackTrace:i.stackTrace?.map(zh.serialize)}),t.deserialize=(i,o)=>({message:o.message,type:0,expected:o.expected,actual:o.actual,contextValue:o.contextValue,location:o.location&&Rs.deserialize(i,o.location),stackTrace:o.stackTrace&&o.stackTrace.map(r=>zh.deserialize(i,r))})))(Uh||={});var Vh;(t=>(t.serialize=i=>({message:i.message,type:1,offset:i.offset,length:i.length,location:i.location&&Rs.serialize(i.location)}),t.deserialize=(i,o)=>({message:o.message,type:1,offset:o.offset,length:o.length,location:o.location&&Rs.deserialize(i,o.location)})))(Vh||={});var Wh;(i=>(i.serialize=o=>o.type===0?Uh.serialize(o):Vh.serialize(o),i.deserialize=(o,r)=>r.type===0?Uh.deserialize(o,r):Vh.deserialize(o,r),i.isDiffable=o=>o.type===0&&o.actual!==void 0&&o.expected!==void 0))(Wh||={});var bd;(i=>(i.serializeWithoutMessages=o=>({state:o.state,duration:o.duration,messages:[]}),i.serialize=o=>({state:o.state,duration:o.duration,messages:o.messages.map(Wh.serialize)}),i.deserialize=(o,r)=>({state:r.state,duration:r.duration,messages:r.messages.map(s=>Wh.deserialize(o,s))})))(bd||={});var $h;(t=>(t.serialize=i=>({extId:i.extId,label:i.label,tags:i.tags,busy:i.busy,children:void 0,uri:i.uri?.toJSON(),range:i.range?.toJSON()||null,description:i.description,error:i.error,sortText:i.sortText}),t.deserialize=(i,o)=>({extId:o.extId,label:o.label,tags:o.tags,busy:o.busy,children:void 0,uri:o.uri?i.asCanonicalUri(Ne.revive(o.uri)):void 0,range:o.range?_o.lift(o.range):null,description:o.description,error:o.error,sortText:o.sortText})))($h||={});var di;(t=>(t.serialize=i=>({expand:i.expand,item:$h.serialize(i.item)}),t.deserialize=(i,o)=>({controllerId:Co.root(o.item.extId),expand:o.expand,item:$h.deserialize(i,o.item)})))(di||={});var qh;(t=>(t.serialize=i=>{let o;return i.item&&(o={},i.item.label!==void 0&&(o.label=i.item.label),i.item.tags!==void 0&&(o.tags=i.item.tags),i.item.busy!==void 0&&(o.busy=i.item.busy),i.item.uri!==void 0&&(o.uri=i.item.uri?.toJSON()),i.item.range!==void 0&&(o.range=i.item.range?.toJSON()),i.item.description!==void 0&&(o.description=i.item.description),i.item.error!==void 0&&(o.error=i.item.error),i.item.sortText!==void 0&&(o.sortText=i.item.sortText)),{extId:i.extId,expand:i.expand,item:o}},t.deserialize=i=>{let o;return i.item&&(o={},i.item.label!==void 0&&(o.label=i.item.label),i.item.tags!==void 0&&(o.tags=i.item.tags),i.item.busy!==void 0&&(o.busy=i.item.busy),i.item.range!==void 0&&(o.range=i.item.range?_o.lift(i.item.range):null),i.item.description!==void 0&&(o.description=i.item.description),i.item.error!==void 0&&(o.error=i.item.error),i.item.sortText!==void 0&&(o.sortText=i.item.sortText)),{extId:i.extId,expand:i.expand,item:o}}))(qh||={});var II;(i=>(i.serializeWithoutMessages=o=>({...di.serialize(o),ownComputedState:o.ownComputedState,computedState:o.computedState,tasks:o.tasks.map(bd.serializeWithoutMessages)}),i.serialize=o=>({...di.serialize(o),ownComputedState:o.ownComputedState,computedState:o.computedState,tasks:o.tasks.map(bd.serialize)}),i.deserialize=(o,r)=>({...di.deserialize(o,r),ownComputedState:r.ownComputedState,computedState:r.computedState,tasks:r.tasks.map(s=>bd.deserialize(o,s)),retired:!0})))(II||={});var Bb;(t=>(t.empty=()=>({covered:0,total:0}),t.sum=(i,o)=>{i.covered+=o.covered,i.total+=o.total}))(Bb||={});var xI;(i=>(i.serialize=o=>({id:o.id,statement:o.statement,branch:o.branch,declaration:o.declaration,testIds:o.testIds,uri:o.uri.toJSON()}),i.deserialize=(o,r)=>({id:r.id,statement:r.statement,branch:r.branch,declaration:r.declaration,testIds:r.testIds,uri:o.asCanonicalUri(Ne.revive(r.uri))}),i.empty=(o,r)=>({id:o,uri:r,statement:Bb.empty()})))(xI||={});function Xh(n){return{...n,location:n.location?.toJSON()}}function Jh(n){return n.location=n.location?li.isIPosition(n.location)?li.lift(n.location):_o.lift(n.location):void 0,n}var SI;(t=>(t.serialize=i=>i.type===0?jh.serialize(i):Yh.serialize(i),t.deserialize=i=>i.type===0?jh.deserialize(i):Yh.deserialize(i)))(SI||={});var Gh;(t=>(t.serialize=Xh,t.deserialize=Jh))(Gh||={});var jh;(t=>(t.serialize=Xh,t.deserialize=Jh))(jh||={});var Yh;(t=>(t.serialize=i=>({...Xh(i),branches:i.branches?.map(Gh.serialize)}),t.deserialize=i=>({...Jh(i),branches:i.branches?.map(Gh.deserialize)})))(Yh||={});var wI;(t=>(t.deserialize=(i,o)=>o.op===0?{op:o.op,item:di.deserialize(i,o.item)}:o.op===1?{op:o.op,item:qh.deserialize(o.item)}:o.op===2?{op:o.op,uri:i.asCanonicalUri(Ne.revive(o.uri)),docv:o.docv}:o,t.serialize=i=>i.op===0?{op:i.op,item:di.serialize(i.item)}:i.op===1?{op:i.op,item:qh.serialize(i.item)}:i))(wI||={});var EI=0,DI=()=>String(EI++),Os=class{constructor(e,t=null){this.test=e;this.parent=t}changeEmitter=new L;onChange=this.changeEmitter.event;children=new Set;treeId=DI();depth=this.parent?this.parent.depth+1:0;retired=!1;state=0;duration;toJSON(){if(this.depth===0)return{controllerId:this.test.controllerId};let e={$mid:16,tests:[di.serialize(this.test)]};for(let t=this.parent;t&&t.depth>0;t=t.parent)e.tests.unshift(di.serialize(t.test));return e}};var Hb=class extends Sr{getOptimizedViewState(e){let t=e||{},i=(o,r)=>{if(!(o.element instanceof Os))return!1;let s=Co.localId(o.element.test.item.extId),a=r.children?.[s]||{};a.collapsed=o.depth===0||!o.collapsed?o.collapsed:void 0;let l=a.collapsed!==void 0;if(o.children.length)for(let d of o.children)l=i(d,a)||l;return l?(r.children??={},r.children[s]=a):r.children?.hasOwnProperty(s)&&delete r.children[s],l};t.children??={};for(let o of this.getNode().children)if(o.element instanceof Os)if(o.element.test.controllerId===o.element.test.item.extId)i(o,t);else{let r=t.children[o.element.test.controllerId]??={children:{}};i(o,r)}return t}};export{Hb as TestingObjectTree};
