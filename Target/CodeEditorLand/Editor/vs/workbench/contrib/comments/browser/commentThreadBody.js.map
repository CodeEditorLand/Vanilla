{
  "version": 3,
  "sources": ["../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/contrib/comments/browser/commentThreadBody.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as dom from '../../../../base/browser/dom.js';\nimport * as nls from '../../../../nls.js';\nimport { Disposable, DisposableMap, DisposableStore } from '../../../../base/common/lifecycle.js';\nimport * as languages from '../../../../editor/common/languages.js';\nimport { Emitter } from '../../../../base/common/event.js';\nimport { ICommentService } from './commentService.js';\nimport { StandardKeyboardEvent } from '../../../../base/browser/keyboardEvent.js';\nimport { KeyCode } from '../../../../base/common/keyCodes.js';\nimport { CommentNode } from './commentNode.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { ICommentThreadWidget } from '../common/commentThreadWidget.js';\nimport { IMarkdownRendererOptions, MarkdownRenderer } from '../../../../editor/browser/widget/markdownRenderer/browser/markdownRenderer.js';\nimport { IOpenerService } from '../../../../platform/opener/common/opener.js';\nimport { ILanguageService } from '../../../../editor/common/languages/language.js';\nimport { ICellRange } from '../../notebook/common/notebookRange.js';\nimport { IRange } from '../../../../editor/common/core/range.js';\nimport { LayoutableEditor } from './simpleCommentEditor.js';\n\nexport class CommentThreadBody<T extends IRange | ICellRange = IRange> extends Disposable {\n\tprivate _commentsElement!: HTMLElement;\n\tprivate _commentElements: CommentNode<T>[] = [];\n\tprivate _resizeObserver: any;\n\tprivate _focusedComment: number | undefined = undefined;\n\tprivate _onDidResize = new Emitter<dom.Dimension>();\n\tonDidResize = this._onDidResize.event;\n\n\tprivate _commentDisposable = new DisposableMap<CommentNode<T>, DisposableStore>();\n\tprivate _markdownRenderer: MarkdownRenderer;\n\n\tget length() {\n\t\treturn this._commentThread.comments ? this._commentThread.comments.length : 0;\n\t}\n\n\tget activeComment() {\n\t\treturn this._commentElements.filter(node => node.isEditing)[0];\n\t}\n\n\n\tconstructor(\n\t\tprivate readonly _parentEditor: LayoutableEditor,\n\t\treadonly owner: string,\n\t\treadonly parentResourceUri: URI,\n\t\treadonly container: HTMLElement,\n\t\tprivate _options: IMarkdownRendererOptions,\n\t\tprivate _commentThread: languages.CommentThread<T>,\n\t\tprivate _pendingEdits: { [key: number]: string } | undefined,\n\t\tprivate _scopedInstatiationService: IInstantiationService,\n\t\tprivate _parentCommentThreadWidget: ICommentThreadWidget,\n\t\t@ICommentService private commentService: ICommentService,\n\t\t@IOpenerService private openerService: IOpenerService,\n\t\t@ILanguageService private languageService: ILanguageService,\n\t) {\n\t\tsuper();\n\n\t\tthis._register(dom.addDisposableListener(container, dom.EventType.FOCUS_IN, e => {\n\t\t\t// TODO @rebornix, limit T to IRange | ICellRange\n\t\t\tthis.commentService.setActiveEditingCommentThread(this._commentThread);\n\t\t}));\n\n\t\tthis._markdownRenderer = this._register(new MarkdownRenderer(this._options, this.languageService, this.openerService));\n\t}\n\n\tfocus() {\n\t\tthis._commentsElement.focus();\n\t}\n\n\tensureFocusIntoNewEditingComment() {\n\t\tif (this._commentElements.length === 1 && this._commentElements[0].isEditing) {\n\t\t\tthis._commentElements[0].setFocus(true);\n\t\t}\n\t}\n\n\tasync display() {\n\t\tthis._commentsElement = dom.append(this.container, dom.$('div.comments-container'));\n\t\tthis._commentsElement.setAttribute('role', 'presentation');\n\t\tthis._commentsElement.tabIndex = 0;\n\t\tthis._updateAriaLabel();\n\n\t\tthis._register(dom.addDisposableListener(this._commentsElement, dom.EventType.KEY_DOWN, (e) => {\n\t\t\tconst event = new StandardKeyboardEvent(e as KeyboardEvent);\n\t\t\tif ((event.equals(KeyCode.UpArrow) || event.equals(KeyCode.DownArrow)) && (!this._focusedComment || !this._commentElements[this._focusedComment].isEditing)) {\n\t\t\t\tconst moveFocusWithinBounds = (change: number): number => {\n\t\t\t\t\tif (this._focusedComment === undefined && change >= 0) { return 0; }\n\t\t\t\t\tif (this._focusedComment === undefined && change < 0) { return this._commentElements.length - 1; }\n\t\t\t\t\tconst newIndex = this._focusedComment! + change;\n\t\t\t\t\treturn Math.min(Math.max(0, newIndex), this._commentElements.length - 1);\n\t\t\t\t};\n\n\t\t\t\tthis._setFocusedComment(event.equals(KeyCode.UpArrow) ? moveFocusWithinBounds(-1) : moveFocusWithinBounds(1));\n\t\t\t}\n\t\t}));\n\n\t\tthis._commentDisposable.clearAndDisposeAll();\n\t\tthis._commentElements = [];\n\t\tif (this._commentThread.comments) {\n\t\t\tfor (const comment of this._commentThread.comments) {\n\t\t\t\tconst newCommentNode = this.createNewCommentNode(comment);\n\n\t\t\t\tthis._commentElements.push(newCommentNode);\n\t\t\t\tthis._commentsElement.appendChild(newCommentNode.domNode);\n\t\t\t\tif (comment.mode === languages.CommentMode.Editing) {\n\t\t\t\t\tawait newCommentNode.switchToEditMode();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis._resizeObserver = new MutationObserver(this._refresh.bind(this));\n\n\t\tthis._resizeObserver.observe(this.container, {\n\t\t\tattributes: true,\n\t\t\tchildList: true,\n\t\t\tcharacterData: true,\n\t\t\tsubtree: true\n\t\t});\n\t}\n\n\tprivate _refresh() {\n\t\tconst dimensions = dom.getClientArea(this.container);\n\t\tthis._onDidResize.fire(dimensions);\n\t}\n\n\tgetDimensions() {\n\t\treturn dom.getClientArea(this.container);\n\t}\n\n\tlayout(widthInPixel?: number) {\n\t\tthis._commentElements.forEach(element => {\n\t\t\telement.layout(widthInPixel);\n\t\t});\n\t}\n\n\tgetPendingEdits(): { [key: number]: string } {\n\t\tconst pendingEdits: { [key: number]: string } = {};\n\t\tthis._commentElements.forEach(element => {\n\t\t\tif (element.isEditing) {\n\t\t\t\tconst pendingEdit = element.getPendingEdit();\n\t\t\t\tif (pendingEdit) {\n\t\t\t\t\tpendingEdits[element.comment.uniqueIdInThread] = pendingEdit;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\treturn pendingEdits;\n\t}\n\n\tgetCommentCoords(commentUniqueId: number): { thread: dom.IDomNodePagePosition; comment: dom.IDomNodePagePosition } | undefined {\n\t\tconst matchedNode = this._commentElements.filter(commentNode => commentNode.comment.uniqueIdInThread === commentUniqueId);\n\t\tif (matchedNode && matchedNode.length) {\n\t\t\tconst commentThreadCoords = dom.getDomNodePagePosition(this._commentElements[0].domNode);\n\t\t\tconst commentCoords = dom.getDomNodePagePosition(matchedNode[0].domNode);\n\t\t\treturn {\n\t\t\t\tthread: commentThreadCoords,\n\t\t\t\tcomment: commentCoords\n\t\t\t};\n\t\t}\n\n\t\treturn;\n\t}\n\n\tasync updateCommentThread(commentThread: languages.CommentThread<T>, preserveFocus: boolean) {\n\t\tconst oldCommentsLen = this._commentElements.length;\n\t\tconst newCommentsLen = commentThread.comments ? commentThread.comments.length : 0;\n\n\t\tconst commentElementsToDel: CommentNode<T>[] = [];\n\t\tconst commentElementsToDelIndex: number[] = [];\n\t\tfor (let i = 0; i < oldCommentsLen; i++) {\n\t\t\tconst comment = this._commentElements[i].comment;\n\t\t\tconst newComment = commentThread.comments ? commentThread.comments.filter(c => c.uniqueIdInThread === comment.uniqueIdInThread) : [];\n\n\t\t\tif (newComment.length) {\n\t\t\t\tthis._commentElements[i].update(newComment[0]);\n\t\t\t} else {\n\t\t\t\tcommentElementsToDelIndex.push(i);\n\t\t\t\tcommentElementsToDel.push(this._commentElements[i]);\n\t\t\t}\n\t\t}\n\n\t\t// del removed elements\n\t\tfor (let i = commentElementsToDel.length - 1; i >= 0; i--) {\n\t\t\tconst commentToDelete = commentElementsToDel[i];\n\t\t\tthis._commentDisposable.deleteAndDispose(commentToDelete);\n\n\t\t\tthis._commentElements.splice(commentElementsToDelIndex[i], 1);\n\t\t\tcommentToDelete.domNode.remove();\n\t\t}\n\n\n\t\tlet lastCommentElement: HTMLElement | null = null;\n\t\tconst newCommentNodeList: CommentNode<T>[] = [];\n\t\tconst newCommentsInEditMode: CommentNode<T>[] = [];\n\t\tfor (let i = newCommentsLen - 1; i >= 0; i--) {\n\t\t\tconst currentComment = commentThread.comments![i];\n\t\t\tconst oldCommentNode = this._commentElements.filter(commentNode => commentNode.comment.uniqueIdInThread === currentComment.uniqueIdInThread);\n\t\t\tif (oldCommentNode.length) {\n\t\t\t\tlastCommentElement = oldCommentNode[0].domNode;\n\t\t\t\tnewCommentNodeList.unshift(oldCommentNode[0]);\n\t\t\t} else {\n\t\t\t\tconst newElement = this.createNewCommentNode(currentComment);\n\n\t\t\t\tnewCommentNodeList.unshift(newElement);\n\t\t\t\tif (lastCommentElement) {\n\t\t\t\t\tthis._commentsElement.insertBefore(newElement.domNode, lastCommentElement);\n\t\t\t\t\tlastCommentElement = newElement.domNode;\n\t\t\t\t} else {\n\t\t\t\t\tthis._commentsElement.appendChild(newElement.domNode);\n\t\t\t\t\tlastCommentElement = newElement.domNode;\n\t\t\t\t}\n\n\t\t\t\tif (currentComment.mode === languages.CommentMode.Editing) {\n\t\t\t\t\tawait newElement.switchToEditMode();\n\t\t\t\t\tnewCommentsInEditMode.push(newElement);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis._commentThread = commentThread;\n\t\tthis._commentElements = newCommentNodeList;\n\n\t\tif (newCommentsInEditMode.length) {\n\t\t\tconst lastIndex = this._commentElements.indexOf(newCommentsInEditMode[newCommentsInEditMode.length - 1]);\n\t\t\tthis._focusedComment = lastIndex;\n\t\t}\n\n\t\tthis._updateAriaLabel();\n\t\tif (!preserveFocus) {\n\t\t\tthis._setFocusedComment(this._focusedComment);\n\t\t}\n\t}\n\n\tprivate _updateAriaLabel() {\n\t\tif (this._commentThread.isDocumentCommentThread()) {\n\t\t\tif (this._commentThread.range) {\n\t\t\t\tthis._commentsElement.ariaLabel = nls.localize('commentThreadAria.withRange', \"Comment thread with {0} comments on lines {1} through {2}. {3}.\",\n\t\t\t\t\tthis._commentThread.comments?.length, this._commentThread.range.startLineNumber, this._commentThread.range.endLineNumber,\n\t\t\t\t\tthis._commentThread.label);\n\t\t\t} else {\n\t\t\t\tthis._commentsElement.ariaLabel = nls.localize('commentThreadAria.document', \"Comment thread with {0} comments on the entire document. {1}.\",\n\t\t\t\t\tthis._commentThread.comments?.length, this._commentThread.label);\n\t\t\t}\n\t\t} else {\n\t\t\tthis._commentsElement.ariaLabel = nls.localize('commentThreadAria', \"Comment thread with {0} comments. {1}.\",\n\t\t\t\tthis._commentThread.comments?.length, this._commentThread.label);\n\t\t}\n\t}\n\n\tprivate _setFocusedComment(value: number | undefined) {\n\t\tif (this._focusedComment !== undefined) {\n\t\t\tthis._commentElements[this._focusedComment]?.setFocus(false);\n\t\t}\n\n\t\tif (this._commentElements.length === 0 || value === undefined) {\n\t\t\tthis._focusedComment = undefined;\n\t\t} else {\n\t\t\tthis._focusedComment = Math.min(value, this._commentElements.length - 1);\n\t\t\tthis._commentElements[this._focusedComment].setFocus(true);\n\t\t}\n\t}\n\n\tprivate createNewCommentNode(comment: languages.Comment): CommentNode<T> {\n\t\tconst newCommentNode = this._scopedInstatiationService.createInstance(CommentNode,\n\t\t\tthis._parentEditor,\n\t\t\tthis._commentThread,\n\t\t\tcomment,\n\t\t\tthis._pendingEdits ? this._pendingEdits[comment.uniqueIdInThread] : undefined,\n\t\t\tthis.owner,\n\t\t\tthis.parentResourceUri,\n\t\t\tthis._parentCommentThreadWidget,\n\t\t\tthis._markdownRenderer) as unknown as CommentNode<T>;\n\n\t\tconst disposables: DisposableStore = new DisposableStore();\n\t\tdisposables.add(newCommentNode.onDidClick(clickedNode =>\n\t\t\tthis._setFocusedComment(this._commentElements.findIndex(commentNode => commentNode.comment.uniqueIdInThread === clickedNode.comment.uniqueIdInThread))\n\t\t));\n\t\tdisposables.add(newCommentNode);\n\t\tthis._commentDisposable.set(newCommentNode, disposables);\n\n\t\treturn newCommentNode;\n\t}\n\n\tpublic override dispose(): void {\n\t\tsuper.dispose();\n\n\t\tif (this._resizeObserver) {\n\t\t\tthis._resizeObserver.disconnect();\n\t\t\tthis._resizeObserver = null;\n\t\t}\n\n\t\tthis._commentDisposable.dispose();\n\t}\n}\n"],
  "mappings": ";;;;;;;;;;;;AAKA,YAAY,SAAS;AACrB,YAAY,SAAS;AACrB,SAAS,YAAY,eAAe,uBAAuB;AAC3D,YAAY,eAAe;AAC3B,SAAS,eAAe;AACxB,SAAS,uBAAuB;AAChC,SAAS,6BAA6B;AACtC,SAAS,eAAe;AACxB,SAAS,mBAAmB;AAC5B,SAAS,6BAA6B;AACtC,SAAS,WAAW;AACpB,SAAS,4BAA4B;AACrC,SAAS,0BAA0B,wBAAwB;AAC3D,SAAS,sBAAsB;AAC/B,SAAS,wBAAwB;AACjC,SAAS,kBAAkB;AAC3B,SAAS,cAAc;AACvB,SAAS,wBAAwB;AAE1B,IAAM,oBAAN,cAAwE,WAAW;AAAA,EAoBzF,YACkB,eACR,OACA,mBACA,WACD,UACA,gBACA,eACA,4BACA,4BACiB,gBACD,eACE,iBACzB;AACD,UAAM;AAbW;AACR;AACA;AACA;AACD;AACA;AACA;AACA;AACA;AACiB;AACD;AACE;AAI1B,SAAK,UAAU,IAAI,sBAAsB,WAAW,IAAI,UAAU,UAAU,OAAK;AAEhF,WAAK,eAAe,8BAA8B,KAAK,cAAc;AAAA,IACtE,CAAC,CAAC;AAEF,SAAK,oBAAoB,KAAK,UAAU,IAAI,iBAAiB,KAAK,UAAU,KAAK,iBAAiB,KAAK,aAAa,CAAC;AAAA,EACtH;AAAA,EAlED,OAwB0F;AAAA;AAAA;AAAA,EACjF;AAAA,EACA,mBAAqC,CAAC;AAAA,EACtC;AAAA,EACA,kBAAsC;AAAA,EACtC,eAAe,IAAI,QAAuB;AAAA,EAClD,cAAc,KAAK,aAAa;AAAA,EAExB,qBAAqB,IAAI,cAA+C;AAAA,EACxE;AAAA,EAER,IAAI,SAAS;AACZ,WAAO,KAAK,eAAe,WAAW,KAAK,eAAe,SAAS,SAAS;AAAA,EAC7E;AAAA,EAEA,IAAI,gBAAgB;AACnB,WAAO,KAAK,iBAAiB,OAAO,UAAQ,KAAK,SAAS,EAAE,CAAC;AAAA,EAC9D;AAAA,EA2BA,QAAQ;AACP,SAAK,iBAAiB,MAAM;AAAA,EAC7B;AAAA,EAEA,mCAAmC;AAClC,QAAI,KAAK,iBAAiB,WAAW,KAAK,KAAK,iBAAiB,CAAC,EAAE,WAAW;AAC7E,WAAK,iBAAiB,CAAC,EAAE,SAAS,IAAI;AAAA,IACvC;AAAA,EACD;AAAA,EAEA,MAAM,UAAU;AACf,SAAK,mBAAmB,IAAI,OAAO,KAAK,WAAW,IAAI,EAAE,wBAAwB,CAAC;AAClF,SAAK,iBAAiB,aAAa,QAAQ,cAAc;AACzD,SAAK,iBAAiB,WAAW;AACjC,SAAK,iBAAiB;AAEtB,SAAK,UAAU,IAAI,sBAAsB,KAAK,kBAAkB,IAAI,UAAU,UAAU,CAAC,MAAM;AAC9F,YAAM,QAAQ,IAAI,sBAAsB,CAAkB;AAC1D,WAAK,MAAM,OAAO,QAAQ,OAAO,KAAK,MAAM,OAAO,QAAQ,SAAS,OAAO,CAAC,KAAK,mBAAmB,CAAC,KAAK,iBAAiB,KAAK,eAAe,EAAE,YAAY;AAC5J,cAAM,wBAAwB,wBAAC,WAA2B;AACzD,cAAI,KAAK,oBAAoB,UAAa,UAAU,GAAG;AAAE,mBAAO;AAAA,UAAG;AACnE,cAAI,KAAK,oBAAoB,UAAa,SAAS,GAAG;AAAE,mBAAO,KAAK,iBAAiB,SAAS;AAAA,UAAG;AACjG,gBAAM,WAAW,KAAK,kBAAmB;AACzC,iBAAO,KAAK,IAAI,KAAK,IAAI,GAAG,QAAQ,GAAG,KAAK,iBAAiB,SAAS,CAAC;AAAA,QACxE,GAL8B;AAO9B,aAAK,mBAAmB,MAAM,OAAO,QAAQ,OAAO,IAAI,sBAAsB,EAAE,IAAI,sBAAsB,CAAC,CAAC;AAAA,MAC7G;AAAA,IACD,CAAC,CAAC;AAEF,SAAK,mBAAmB,mBAAmB;AAC3C,SAAK,mBAAmB,CAAC;AACzB,QAAI,KAAK,eAAe,UAAU;AACjC,iBAAW,WAAW,KAAK,eAAe,UAAU;AACnD,cAAM,iBAAiB,KAAK,qBAAqB,OAAO;AAExD,aAAK,iBAAiB,KAAK,cAAc;AACzC,aAAK,iBAAiB,YAAY,eAAe,OAAO;AACxD,YAAI,QAAQ,SAAS,UAAU,YAAY,SAAS;AACnD,gBAAM,eAAe,iBAAiB;AAAA,QACvC;AAAA,MACD;AAAA,IACD;AAEA,SAAK,kBAAkB,IAAI,iBAAiB,KAAK,SAAS,KAAK,IAAI,CAAC;AAEpE,SAAK,gBAAgB,QAAQ,KAAK,WAAW;AAAA,MAC5C,YAAY;AAAA,MACZ,WAAW;AAAA,MACX,eAAe;AAAA,MACf,SAAS;AAAA,IACV,CAAC;AAAA,EACF;AAAA,EAEQ,WAAW;AAClB,UAAM,aAAa,IAAI,cAAc,KAAK,SAAS;AACnD,SAAK,aAAa,KAAK,UAAU;AAAA,EAClC;AAAA,EAEA,gBAAgB;AACf,WAAO,IAAI,cAAc,KAAK,SAAS;AAAA,EACxC;AAAA,EAEA,OAAO,cAAuB;AAC7B,SAAK,iBAAiB,QAAQ,aAAW;AACxC,cAAQ,OAAO,YAAY;AAAA,IAC5B,CAAC;AAAA,EACF;AAAA,EAEA,kBAA6C;AAC5C,UAAM,eAA0C,CAAC;AACjD,SAAK,iBAAiB,QAAQ,aAAW;AACxC,UAAI,QAAQ,WAAW;AACtB,cAAM,cAAc,QAAQ,eAAe;AAC3C,YAAI,aAAa;AAChB,uBAAa,QAAQ,QAAQ,gBAAgB,IAAI;AAAA,QAClD;AAAA,MACD;AAAA,IACD,CAAC;AAED,WAAO;AAAA,EACR;AAAA,EAEA,iBAAiB,iBAA8G;AAC9H,UAAM,cAAc,KAAK,iBAAiB,OAAO,iBAAe,YAAY,QAAQ,qBAAqB,eAAe;AACxH,QAAI,eAAe,YAAY,QAAQ;AACtC,YAAM,sBAAsB,IAAI,uBAAuB,KAAK,iBAAiB,CAAC,EAAE,OAAO;AACvF,YAAM,gBAAgB,IAAI,uBAAuB,YAAY,CAAC,EAAE,OAAO;AACvE,aAAO;AAAA,QACN,QAAQ;AAAA,QACR,SAAS;AAAA,MACV;AAAA,IACD;AAEA;AAAA,EACD;AAAA,EAEA,MAAM,oBAAoB,eAA2C,eAAwB;AAC5F,UAAM,iBAAiB,KAAK,iBAAiB;AAC7C,UAAM,iBAAiB,cAAc,WAAW,cAAc,SAAS,SAAS;AAEhF,UAAM,uBAAyC,CAAC;AAChD,UAAM,4BAAsC,CAAC;AAC7C,aAAS,IAAI,GAAG,IAAI,gBAAgB,KAAK;AACxC,YAAM,UAAU,KAAK,iBAAiB,CAAC,EAAE;AACzC,YAAM,aAAa,cAAc,WAAW,cAAc,SAAS,OAAO,OAAK,EAAE,qBAAqB,QAAQ,gBAAgB,IAAI,CAAC;AAEnI,UAAI,WAAW,QAAQ;AACtB,aAAK,iBAAiB,CAAC,EAAE,OAAO,WAAW,CAAC,CAAC;AAAA,MAC9C,OAAO;AACN,kCAA0B,KAAK,CAAC;AAChC,6BAAqB,KAAK,KAAK,iBAAiB,CAAC,CAAC;AAAA,MACnD;AAAA,IACD;AAGA,aAAS,IAAI,qBAAqB,SAAS,GAAG,KAAK,GAAG,KAAK;AAC1D,YAAM,kBAAkB,qBAAqB,CAAC;AAC9C,WAAK,mBAAmB,iBAAiB,eAAe;AAExD,WAAK,iBAAiB,OAAO,0BAA0B,CAAC,GAAG,CAAC;AAC5D,sBAAgB,QAAQ,OAAO;AAAA,IAChC;AAGA,QAAI,qBAAyC;AAC7C,UAAM,qBAAuC,CAAC;AAC9C,UAAM,wBAA0C,CAAC;AACjD,aAAS,IAAI,iBAAiB,GAAG,KAAK,GAAG,KAAK;AAC7C,YAAM,iBAAiB,cAAc,SAAU,CAAC;AAChD,YAAM,iBAAiB,KAAK,iBAAiB,OAAO,iBAAe,YAAY,QAAQ,qBAAqB,eAAe,gBAAgB;AAC3I,UAAI,eAAe,QAAQ;AAC1B,6BAAqB,eAAe,CAAC,EAAE;AACvC,2BAAmB,QAAQ,eAAe,CAAC,CAAC;AAAA,MAC7C,OAAO;AACN,cAAM,aAAa,KAAK,qBAAqB,cAAc;AAE3D,2BAAmB,QAAQ,UAAU;AACrC,YAAI,oBAAoB;AACvB,eAAK,iBAAiB,aAAa,WAAW,SAAS,kBAAkB;AACzE,+BAAqB,WAAW;AAAA,QACjC,OAAO;AACN,eAAK,iBAAiB,YAAY,WAAW,OAAO;AACpD,+BAAqB,WAAW;AAAA,QACjC;AAEA,YAAI,eAAe,SAAS,UAAU,YAAY,SAAS;AAC1D,gBAAM,WAAW,iBAAiB;AAClC,gCAAsB,KAAK,UAAU;AAAA,QACtC;AAAA,MACD;AAAA,IACD;AAEA,SAAK,iBAAiB;AACtB,SAAK,mBAAmB;AAExB,QAAI,sBAAsB,QAAQ;AACjC,YAAM,YAAY,KAAK,iBAAiB,QAAQ,sBAAsB,sBAAsB,SAAS,CAAC,CAAC;AACvG,WAAK,kBAAkB;AAAA,IACxB;AAEA,SAAK,iBAAiB;AACtB,QAAI,CAAC,eAAe;AACnB,WAAK,mBAAmB,KAAK,eAAe;AAAA,IAC7C;AAAA,EACD;AAAA,EAEQ,mBAAmB;AAC1B,QAAI,KAAK,eAAe,wBAAwB,GAAG;AAClD,UAAI,KAAK,eAAe,OAAO;AAC9B,aAAK,iBAAiB,YAAY,IAAI;AAAA,UAAS;AAAA,UAA+B;AAAA,UAC7E,KAAK,eAAe,UAAU;AAAA,UAAQ,KAAK,eAAe,MAAM;AAAA,UAAiB,KAAK,eAAe,MAAM;AAAA,UAC3G,KAAK,eAAe;AAAA,QAAK;AAAA,MAC3B,OAAO;AACN,aAAK,iBAAiB,YAAY,IAAI;AAAA,UAAS;AAAA,UAA8B;AAAA,UAC5E,KAAK,eAAe,UAAU;AAAA,UAAQ,KAAK,eAAe;AAAA,QAAK;AAAA,MACjE;AAAA,IACD,OAAO;AACN,WAAK,iBAAiB,YAAY,IAAI;AAAA,QAAS;AAAA,QAAqB;AAAA,QACnE,KAAK,eAAe,UAAU;AAAA,QAAQ,KAAK,eAAe;AAAA,MAAK;AAAA,IACjE;AAAA,EACD;AAAA,EAEQ,mBAAmB,OAA2B;AACrD,QAAI,KAAK,oBAAoB,QAAW;AACvC,WAAK,iBAAiB,KAAK,eAAe,GAAG,SAAS,KAAK;AAAA,IAC5D;AAEA,QAAI,KAAK,iBAAiB,WAAW,KAAK,UAAU,QAAW;AAC9D,WAAK,kBAAkB;AAAA,IACxB,OAAO;AACN,WAAK,kBAAkB,KAAK,IAAI,OAAO,KAAK,iBAAiB,SAAS,CAAC;AACvE,WAAK,iBAAiB,KAAK,eAAe,EAAE,SAAS,IAAI;AAAA,IAC1D;AAAA,EACD;AAAA,EAEQ,qBAAqB,SAA4C;AACxE,UAAM,iBAAiB,KAAK,2BAA2B;AAAA,MAAe;AAAA,MACrE,KAAK;AAAA,MACL,KAAK;AAAA,MACL;AAAA,MACA,KAAK,gBAAgB,KAAK,cAAc,QAAQ,gBAAgB,IAAI;AAAA,MACpE,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IAAiB;AAEvB,UAAM,cAA+B,IAAI,gBAAgB;AACzD,gBAAY,IAAI,eAAe;AAAA,MAAW,iBACzC,KAAK,mBAAmB,KAAK,iBAAiB,UAAU,iBAAe,YAAY,QAAQ,qBAAqB,YAAY,QAAQ,gBAAgB,CAAC;AAAA,IACtJ,CAAC;AACD,gBAAY,IAAI,cAAc;AAC9B,SAAK,mBAAmB,IAAI,gBAAgB,WAAW;AAEvD,WAAO;AAAA,EACR;AAAA,EAEgB,UAAgB;AAC/B,UAAM,QAAQ;AAEd,QAAI,KAAK,iBAAiB;AACzB,WAAK,gBAAgB,WAAW;AAChC,WAAK,kBAAkB;AAAA,IACxB;AAEA,SAAK,mBAAmB,QAAQ;AAAA,EACjC;AACD;AA/Qa,oBAAN;AAAA,EA8BJ;AAAA,EACA;AAAA,EACA;AAAA,GAhCU;",
  "names": []
}
