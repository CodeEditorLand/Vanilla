import { Disposable } from "vs/base/common/lifecycle";
import { ICodeEditor } from "vs/editor/browser/editorBrowser";
import { IRange } from "vs/editor/common/core/range";
import * as languages from "vs/editor/common/languages";
import { ITextModelService } from "vs/editor/common/services/resolverService";
import { IConfigurationService } from "vs/platform/configuration/common/configuration";
import { IContextKey, IContextKeyService } from "vs/platform/contextkey/common/contextkey";
import { IHoverService } from "vs/platform/hover/browser/hover";
import { IInstantiationService } from "vs/platform/instantiation/common/instantiation";
import { IKeybindingService } from "vs/platform/keybinding/common/keybinding";
import { CommentMenus } from "vs/workbench/contrib/comments/browser/commentMenus";
import { ICommentService } from "vs/workbench/contrib/comments/browser/commentService";
import { ICommentThreadWidget } from "vs/workbench/contrib/comments/common/commentThreadWidget";
import { ICellRange } from "vs/workbench/contrib/notebook/common/notebookRange";
import { LayoutableEditor } from "./simpleCommentEditor";
export declare const COMMENTEDITOR_DECORATION_KEY = "commenteditordecoration";
export declare class CommentReply<T extends IRange | ICellRange> extends Disposable {
    readonly owner: string;
    private readonly _parentEditor;
    private _commentThread;
    private _scopedInstatiationService;
    private _contextKeyService;
    private _commentMenus;
    private _commentOptions;
    private _pendingComment;
    private _parentThread;
    private _actionRunDelegate;
    private commentService;
    private keybindingService;
    private hoverService;
    private readonly textModelService;
    commentEditor: ICodeEditor;
    form: HTMLElement;
    commentEditorIsEmpty: IContextKey<boolean>;
    private _error;
    private _formActions;
    private _editorActions;
    private _commentThreadDisposables;
    private _commentFormActions;
    private _commentEditorActions;
    private _reviewThreadReplyButton;
    private _editorHeight;
    constructor(owner: string, container: HTMLElement, _parentEditor: LayoutableEditor, _commentThread: languages.CommentThread<T>, _scopedInstatiationService: IInstantiationService, _contextKeyService: IContextKeyService, _commentMenus: CommentMenus, _commentOptions: languages.CommentOptions | undefined, _pendingComment: string | undefined, _parentThread: ICommentThreadWidget, focus: boolean, _actionRunDelegate: (() => void) | null, commentService: ICommentService, configurationService: IConfigurationService, keybindingService: IKeybindingService, hoverService: IHoverService, textModelService: ITextModelService);
    initialize(focus: boolean): Promise<void>;
    private calculateEditorHeight;
    updateCommentThread(commentThread: languages.CommentThread<IRange | ICellRange>): void;
    getPendingComment(): string | undefined;
    setPendingComment(comment: string): void;
    layout(widthInPixel: number): void;
    focusIfNeeded(): void;
    focusCommentEditor(): void;
    expandReplyAreaAndFocusCommentEditor(): void;
    isCommentEditorFocused(): boolean;
    updateCanReply(): void;
    submitComment(): Promise<void>;
    setCommentEditorDecorations(): void;
    private createTextModelListener;
    /**
     * Command based actions.
     */
    private createCommentWidgetFormActions;
    private createCommentWidgetEditorActions;
    private get isReplyExpanded();
    private expandReplyArea;
    private clearAndExpandReplyArea;
    private hideReplyArea;
    private createReplyButton;
    dispose(): void;
}
