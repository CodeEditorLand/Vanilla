{
  "version": 3,
  "sources": ["../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/contrib/comments/browser/commentReply.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as dom from '../../../../base/browser/dom.js';\nimport { getDefaultHoverDelegate } from '../../../../base/browser/ui/hover/hoverDelegateFactory.js';\nimport { MOUSE_CURSOR_TEXT_CSS_CLASS_NAME } from '../../../../base/browser/ui/mouseCursor/mouseCursor.js';\nimport { IAction } from '../../../../base/common/actions.js';\nimport { Disposable, IDisposable, dispose } from '../../../../base/common/lifecycle.js';\nimport { MarshalledId } from '../../../../base/common/marshallingIds.js';\nimport { Schemas } from '../../../../base/common/network.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { generateUuid } from '../../../../base/common/uuid.js';\nimport { ICodeEditor } from '../../../../editor/browser/editorBrowser.js';\nimport { IRange } from '../../../../editor/common/core/range.js';\nimport * as languages from '../../../../editor/common/languages.js';\nimport { ITextModel } from '../../../../editor/common/model.js';\nimport { ITextModelService } from '../../../../editor/common/services/resolverService.js';\nimport * as nls from '../../../../nls.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { IContextKey, IContextKeyService } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { IKeybindingService } from '../../../../platform/keybinding/common/keybinding.js';\nimport { CommentFormActions } from './commentFormActions.js';\nimport { CommentMenus } from './commentMenus.js';\nimport { ICommentService } from './commentService.js';\nimport { CommentContextKeys } from '../common/commentContextKeys.js';\nimport { ICommentThreadWidget } from '../common/commentThreadWidget.js';\nimport { ICellRange } from '../../notebook/common/notebookRange.js';\nimport { LayoutableEditor, MIN_EDITOR_HEIGHT, SimpleCommentEditor, calculateEditorHeight } from './simpleCommentEditor.js';\nimport { IHoverService } from '../../../../platform/hover/browser/hover.js';\n\nlet INMEM_MODEL_ID = 0;\nexport const COMMENTEDITOR_DECORATION_KEY = 'commenteditordecoration';\n\nexport class CommentReply<T extends IRange | ICellRange> extends Disposable {\n\tcommentEditor: ICodeEditor;\n\tform: HTMLElement;\n\tcommentEditorIsEmpty: IContextKey<boolean>;\n\tprivate _error!: HTMLElement;\n\tprivate _formActions!: HTMLElement;\n\tprivate _editorActions!: HTMLElement;\n\tprivate _commentThreadDisposables: IDisposable[] = [];\n\tprivate _commentFormActions!: CommentFormActions;\n\tprivate _commentEditorActions!: CommentFormActions;\n\tprivate _reviewThreadReplyButton!: HTMLElement;\n\tprivate _editorHeight = MIN_EDITOR_HEIGHT;\n\n\tconstructor(\n\t\treadonly owner: string,\n\t\tcontainer: HTMLElement,\n\t\tprivate readonly _parentEditor: LayoutableEditor,\n\t\tprivate _commentThread: languages.CommentThread<T>,\n\t\tprivate _scopedInstatiationService: IInstantiationService,\n\t\tprivate _contextKeyService: IContextKeyService,\n\t\tprivate _commentMenus: CommentMenus,\n\t\tprivate _commentOptions: languages.CommentOptions | undefined,\n\t\tprivate _pendingComment: string | undefined,\n\t\tprivate _parentThread: ICommentThreadWidget,\n\t\tfocus: boolean,\n\t\tprivate _actionRunDelegate: (() => void) | null,\n\t\t@ICommentService private commentService: ICommentService,\n\t\t@IConfigurationService configurationService: IConfigurationService,\n\t\t@IKeybindingService private keybindingService: IKeybindingService,\n\t\t@IHoverService private hoverService: IHoverService,\n\t\t@ITextModelService private readonly textModelService: ITextModelService\n\t) {\n\t\tsuper();\n\n\t\tthis.form = dom.append(container, dom.$('.comment-form'));\n\t\tthis.commentEditor = this._register(this._scopedInstatiationService.createInstance(SimpleCommentEditor, this.form, SimpleCommentEditor.getEditorOptions(configurationService), _contextKeyService, this._parentThread));\n\t\tthis.commentEditorIsEmpty = CommentContextKeys.commentIsEmpty.bindTo(this._contextKeyService);\n\t\tthis.commentEditorIsEmpty.set(!this._pendingComment);\n\n\t\tthis.initialize(focus);\n\t}\n\n\tasync initialize(focus: boolean) {\n\t\tconst hasExistingComments = this._commentThread.comments && this._commentThread.comments.length > 0;\n\t\tconst modeId = generateUuid() + '-' + (hasExistingComments ? this._commentThread.threadId : ++INMEM_MODEL_ID);\n\t\tconst params = JSON.stringify({\n\t\t\textensionId: this._commentThread.extensionId,\n\t\t\tcommentThreadId: this._commentThread.threadId\n\t\t});\n\n\t\tlet resource = URI.from({\n\t\t\tscheme: Schemas.commentsInput,\n\t\t\tpath: `/${this._commentThread.extensionId}/commentinput-${modeId}.md?${params}` // TODO. Remove params once extensions adopt authority.\n\t\t});\n\t\tconst commentController = this.commentService.getCommentController(this.owner);\n\t\tif (commentController) {\n\t\t\tresource = resource.with({ authority: commentController.id });\n\t\t}\n\n\t\tconst model = await this.textModelService.createModelReference(resource);\n\t\tmodel.object.textEditorModel.setValue(this._pendingComment || '');\n\n\t\tthis._register(model);\n\t\tthis.commentEditor.setModel(model.object.textEditorModel);\n\t\tthis.calculateEditorHeight();\n\n\t\tthis._register(model.object.textEditorModel.onDidChangeContent(() => {\n\t\t\tthis.setCommentEditorDecorations();\n\t\t\tthis.commentEditorIsEmpty?.set(!this.commentEditor.getValue());\n\t\t\tif (this.calculateEditorHeight()) {\n\t\t\t\tthis.commentEditor.layout({ height: this._editorHeight, width: this.commentEditor.getLayoutInfo().width });\n\t\t\t\tthis.commentEditor.render(true);\n\t\t\t}\n\t\t}));\n\n\t\tthis.createTextModelListener(this.commentEditor, this.form);\n\n\t\tthis.setCommentEditorDecorations();\n\n\t\t// Only add the additional step of clicking a reply button to expand the textarea when there are existing comments\n\t\tif (this._pendingComment) {\n\t\t\tthis.expandReplyArea();\n\t\t} else if (hasExistingComments) {\n\t\t\tthis.createReplyButton(this.commentEditor, this.form);\n\t\t} else if (focus && (this._commentThread.comments && this._commentThread.comments.length === 0)) {\n\t\t\tthis.expandReplyArea();\n\t\t}\n\t\tthis._error = dom.append(this.form, dom.$('.validation-error.hidden'));\n\t\tconst formActions = dom.append(this.form, dom.$('.form-actions'));\n\t\tthis._formActions = dom.append(formActions, dom.$('.other-actions'));\n\t\tthis.createCommentWidgetFormActions(this._formActions, model.object.textEditorModel);\n\t\tthis._editorActions = dom.append(formActions, dom.$('.editor-actions'));\n\t\tthis.createCommentWidgetEditorActions(this._editorActions, model.object.textEditorModel);\n\t}\n\n\tprivate calculateEditorHeight(): boolean {\n\t\tconst newEditorHeight = calculateEditorHeight(this._parentEditor, this.commentEditor, this._editorHeight);\n\t\tif (newEditorHeight !== this._editorHeight) {\n\t\t\tthis._editorHeight = newEditorHeight;\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tpublic updateCommentThread(commentThread: languages.CommentThread<IRange | ICellRange>) {\n\t\tconst isReplying = this.commentEditor.hasTextFocus();\n\t\tconst oldAndNewBothEmpty = !this._commentThread.comments?.length && !commentThread.comments?.length;\n\n\t\tif (!this._reviewThreadReplyButton) {\n\t\t\tthis.createReplyButton(this.commentEditor, this.form);\n\t\t}\n\n\t\tif (this._commentThread.comments && this._commentThread.comments.length === 0 && !oldAndNewBothEmpty) {\n\t\t\tthis.expandReplyArea();\n\t\t}\n\n\t\tif (isReplying) {\n\t\t\tthis.commentEditor.focus();\n\t\t}\n\t}\n\n\tpublic getPendingComment(): string | undefined {\n\t\tconst model = this.commentEditor.getModel();\n\n\t\tif (model && model.getValueLength() > 0) { // checking length is cheap\n\t\t\treturn model.getValue();\n\t\t}\n\n\t\treturn undefined;\n\t}\n\n\tpublic setPendingComment(comment: string) {\n\t\tthis._pendingComment = comment;\n\t\tthis.expandReplyArea();\n\t\tthis.commentEditor.setValue(comment);\n\t}\n\n\tpublic layout(widthInPixel: number) {\n\t\tthis.commentEditor.layout({ height: this._editorHeight, width: widthInPixel - 54 /* margin 20px * 10 + scrollbar 14px*/ });\n\t}\n\n\tpublic focusIfNeeded() {\n\t\tif (!this._commentThread.comments || !this._commentThread.comments.length) {\n\t\t\tthis.commentEditor.focus();\n\t\t} else if ((this.commentEditor.getModel()?.getValueLength() ?? 0) > 0) {\n\t\t\tthis.expandReplyArea();\n\t\t}\n\t}\n\n\tpublic focusCommentEditor() {\n\t\tthis.commentEditor.focus();\n\t}\n\n\tpublic expandReplyAreaAndFocusCommentEditor() {\n\t\tthis.expandReplyArea();\n\t\tthis.commentEditor.focus();\n\t}\n\n\tpublic isCommentEditorFocused(): boolean {\n\t\treturn this.commentEditor.hasWidgetFocus();\n\t}\n\n\tpublic updateCanReply() {\n\t\tif (!this._commentThread.canReply) {\n\t\t\tthis.form.style.display = 'none';\n\t\t} else {\n\t\t\tthis.form.style.display = 'block';\n\t\t}\n\t}\n\n\tasync submitComment(): Promise<void> {\n\t\tawait this._commentFormActions?.triggerDefaultAction();\n\t\tthis._pendingComment = undefined;\n\t}\n\n\tsetCommentEditorDecorations() {\n\t\tconst hasExistingComments = this._commentThread.comments && this._commentThread.comments.length > 0;\n\t\tconst placeholder = hasExistingComments\n\t\t\t? (this._commentOptions?.placeHolder || nls.localize('reply', \"Reply...\"))\n\t\t\t: (this._commentOptions?.placeHolder || nls.localize('newComment', \"Type a new comment\"));\n\n\t\tthis.commentEditor.updateOptions({ placeholder });\n\t}\n\n\tprivate createTextModelListener(commentEditor: ICodeEditor, commentForm: HTMLElement) {\n\t\tthis._commentThreadDisposables.push(commentEditor.onDidFocusEditorWidget(() => {\n\t\t\tthis._commentThread.input = {\n\t\t\t\turi: commentEditor.getModel()!.uri,\n\t\t\t\tvalue: commentEditor.getValue()\n\t\t\t};\n\t\t\tthis.commentService.setActiveEditingCommentThread(this._commentThread);\n\t\t\tthis.commentService.setActiveCommentAndThread(this.owner, { thread: this._commentThread });\n\t\t}));\n\n\t\tthis._commentThreadDisposables.push(commentEditor.getModel()!.onDidChangeContent(() => {\n\t\t\tconst modelContent = commentEditor.getValue();\n\t\t\tif (this._commentThread.input && this._commentThread.input.uri === commentEditor.getModel()!.uri && this._commentThread.input.value !== modelContent) {\n\t\t\t\tconst newInput: languages.CommentInput = this._commentThread.input;\n\t\t\t\tnewInput.value = modelContent;\n\t\t\t\tthis._commentThread.input = newInput;\n\t\t\t}\n\t\t\tthis.commentService.setActiveEditingCommentThread(this._commentThread);\n\t\t}));\n\n\t\tthis._commentThreadDisposables.push(this._commentThread.onDidChangeInput(input => {\n\t\t\tconst thread = this._commentThread;\n\t\t\tconst model = commentEditor.getModel();\n\t\t\tif (thread.input && model && (thread.input.uri !== model.uri)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (!input) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (commentEditor.getValue() !== input.value) {\n\t\t\t\tcommentEditor.setValue(input.value);\n\n\t\t\t\tif (input.value === '') {\n\t\t\t\t\tthis._pendingComment = '';\n\t\t\t\t\tcommentForm.classList.remove('expand');\n\t\t\t\t\tcommentEditor.getDomNode()!.style.outline = '';\n\t\t\t\t\tthis._error.textContent = '';\n\t\t\t\t\tthis._error.classList.add('hidden');\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\t}\n\n\t/**\n\t * Command based actions.\n\t */\n\tprivate createCommentWidgetFormActions(container: HTMLElement, model: ITextModel) {\n\t\tconst menu = this._commentMenus.getCommentThreadActions(this._contextKeyService);\n\n\t\tthis._register(menu);\n\t\tthis._register(menu.onDidChange(() => {\n\t\t\tthis._commentFormActions.setActions(menu);\n\t\t}));\n\n\t\tthis._commentFormActions = new CommentFormActions(this.keybindingService, this._contextKeyService, container, async (action: IAction) => {\n\t\t\tawait this._actionRunDelegate?.();\n\n\t\t\tawait action.run({\n\t\t\t\tthread: this._commentThread,\n\t\t\t\ttext: this.commentEditor.getValue(),\n\t\t\t\t$mid: MarshalledId.CommentThreadReply\n\t\t\t});\n\n\t\t\tthis.hideReplyArea();\n\t\t});\n\n\t\tthis._register(this._commentFormActions);\n\t\tthis._commentFormActions.setActions(menu);\n\t}\n\n\tprivate createCommentWidgetEditorActions(container: HTMLElement, model: ITextModel) {\n\t\tconst editorMenu = this._commentMenus.getCommentEditorActions(this._contextKeyService);\n\t\tthis._register(editorMenu);\n\t\tthis._register(editorMenu.onDidChange(() => {\n\t\t\tthis._commentEditorActions.setActions(editorMenu);\n\t\t}));\n\n\t\tthis._commentEditorActions = new CommentFormActions(this.keybindingService, this._contextKeyService, container, async (action: IAction) => {\n\t\t\tthis._actionRunDelegate?.();\n\n\t\t\taction.run({\n\t\t\t\tthread: this._commentThread,\n\t\t\t\ttext: this.commentEditor.getValue(),\n\t\t\t\t$mid: MarshalledId.CommentThreadReply\n\t\t\t});\n\n\t\t\tthis.focusCommentEditor();\n\t\t});\n\n\t\tthis._register(this._commentEditorActions);\n\t\tthis._commentEditorActions.setActions(editorMenu, true);\n\t}\n\n\tprivate get isReplyExpanded(): boolean {\n\t\treturn this.form.classList.contains('expand');\n\t}\n\n\tprivate expandReplyArea() {\n\t\tif (!this.isReplyExpanded) {\n\t\t\tthis.form.classList.add('expand');\n\t\t\tthis.commentEditor.focus();\n\t\t\tthis.commentEditor.layout();\n\t\t}\n\t}\n\n\tprivate clearAndExpandReplyArea() {\n\t\tif (!this.isReplyExpanded) {\n\t\t\tthis.commentEditor.setValue('');\n\t\t\tthis.expandReplyArea();\n\t\t}\n\t}\n\n\tprivate hideReplyArea() {\n\t\tconst domNode = this.commentEditor.getDomNode();\n\t\tif (domNode) {\n\t\t\tdomNode.style.outline = '';\n\t\t}\n\t\tthis.commentEditor.setValue('');\n\t\tthis._pendingComment = '';\n\t\tthis.form.classList.remove('expand');\n\t\tthis._error.textContent = '';\n\t\tthis._error.classList.add('hidden');\n\t}\n\n\tprivate createReplyButton(commentEditor: ICodeEditor, commentForm: HTMLElement) {\n\t\tthis._reviewThreadReplyButton = <HTMLButtonElement>dom.append(commentForm, dom.$(`button.review-thread-reply-button.${MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`));\n\t\tthis._register(this.hoverService.setupManagedHover(getDefaultHoverDelegate('mouse'), this._reviewThreadReplyButton, this._commentOptions?.prompt || nls.localize('reply', \"Reply...\")));\n\n\t\tthis._reviewThreadReplyButton.textContent = this._commentOptions?.prompt || nls.localize('reply', \"Reply...\");\n\t\t// bind click/escape actions for reviewThreadReplyButton and textArea\n\t\tthis._register(dom.addDisposableListener(this._reviewThreadReplyButton, 'click', _ => this.clearAndExpandReplyArea()));\n\t\tthis._register(dom.addDisposableListener(this._reviewThreadReplyButton, 'focus', _ => this.clearAndExpandReplyArea()));\n\n\t\tcommentEditor.onDidBlurEditorWidget(() => {\n\t\t\tif (commentEditor.getModel()!.getValueLength() === 0 && commentForm.classList.contains('expand')) {\n\t\t\t\tcommentForm.classList.remove('expand');\n\t\t\t}\n\t\t});\n\t}\n\n\toverride dispose(): void {\n\t\tsuper.dispose();\n\t\tdispose(this._commentThreadDisposables);\n\t}\n}\n"],
  "mappings": "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",
  "names": []
}
