var le=Object.defineProperty;var me=Object.getOwnPropertyDescriptor;var A=(n,e,o,t)=>{for(var r=t>1?void 0:t?me(e,o):e,s=n.length-1,m;s>=0;s--)(m=n[s])&&(r=(t?m(e,o,r):m(r))||r);return t&&r&&le(e,o,r),r},T=(n,e)=>(o,t)=>e(o,t,n);import{localize as a,localize2 as w}from"../../../../nls.js";import{KeyMod as q,KeyChord as he,KeyCode as U}from"../../../../base/common/keyCodes.js";import{MenuRegistry as D,MenuId as W,Action2 as _,registerAction2 as E}from"../../../../platform/actions/common/actions.js";import{equalsIgnoreCase as Y}from"../../../../base/common/strings.js";import{Registry as V}from"../../../../platform/registry/common/platform.js";import{Categories as P}from"../../../../platform/action/common/actionCommonCategories.js";import{IWorkbenchThemeService as v,ThemeSettings as k,ThemeSettingDefaults as b}from"../../../services/themes/common/workbenchThemeService.js";import{IExtensionsWorkbenchService as z}from"../../extensions/common/extensions.js";import{IExtensionGalleryService as G,IExtensionManagementService as de}from"../../../../platform/extensionManagement/common/extensionManagement.js";import{Extensions as ue}from"../../../../platform/theme/common/colorRegistry.js";import{IEditorService as ge}from"../../../services/editor/common/editorService.js";import{Color as X}from"../../../../base/common/color.js";import{ColorScheme as I,isHighContrast as pe}from"../../../../platform/theme/common/theme.js";import{colorThemeSchemaId as Te}from"../../../services/themes/common/colorThemeSchema.js";import{isCancellationError as Ie,onUnexpectedError as N}from"../../../../base/common/errors.js";import{IQuickInputService as j}from"../../../../platform/quickinput/common/quickInput.js";import{DEFAULT_PRODUCT_ICON_THEME_ID as fe,ProductIconThemeData as Se}from"../../../services/themes/browser/productIconThemeData.js";import{ThrottledDelayer as ke}from"../../../../base/common/async.js";import{CancellationTokenSource as ye}from"../../../../base/common/cancellation.js";import{ILogService as ve}from"../../../../platform/log/common/log.js";import{IProgressService as be,ProgressLocation as Ce}from"../../../../platform/progress/common/progress.js";import{Codicon as Q}from"../../../../base/common/codicons.js";import{registerIcon as we}from"../../../../platform/theme/common/iconRegistry.js";import{ThemeIcon as _e}from"../../../../base/common/themables.js";import{Emitter as Ee}from"../../../../base/common/event.js";import{IExtensionResourceLoaderService as J}from"../../../../platform/extensionResourceLoader/common/extensionResourceLoader.js";import{IInstantiationService as x}from"../../../../platform/instantiation/common/instantiation.js";import{KeybindingWeight as Pe}from"../../../../platform/keybinding/common/keybindingsRegistry.js";import{CommandsRegistry as Re,ICommandService as Me}from"../../../../platform/commands/common/commands.js";import{FileIconThemeData as De}from"../../../services/themes/browser/fileIconThemeData.js";import{IConfigurationService as xe}from"../../../../platform/configuration/common/configuration.js";import{IDialogService as Oe}from"../../../../platform/dialogs/common/dialogs.js";import{Extensions as Le}from"../../../common/contributions.js";import{LifecyclePhase as Ae}from"../../../services/lifecycle/common/lifecycle.js";import{INotificationService as Z,Severity as K}from"../../../../platform/notification/common/notification.js";import{IStorageService as He,StorageScope as F,StorageTarget as We}from"../../../../platform/storage/common/storage.js";import{isWeb as Ge}from"../../../../base/common/platform.js";import{ITelemetryService as Ne}from"../../../../platform/telemetry/common/telemetry.js";import{IHostService as Qe}from"../../../services/host/browser/host.js";import{mainWindow as ee}from"../../../../base/browser/window.js";import{IPreferencesService as te}from"../../../services/preferences/common/preferences.js";import{Toggle as oe}from"../../../../base/browser/ui/toggle/toggle.js";import{defaultToggleStyles as ie}from"../../../../platform/theme/browser/defaultStyles.js";import{DisposableStore as ne}from"../../../../base/common/lifecycle.js";const Ke=we("theme-selection-manage-extension",Q.gear,a("manageExtensionIcon","Icon for the 'Manage' action in the theme selection quick pick."));var Fe=(t=>(t.BROWSE_GALLERY="marketplace",t.EXTENSIONS_VIEW="extensions",t.CUSTOM_TOP_ENTRY="customTopEntry",t))(Fe||{});let R=class{constructor(e,o,t,r,s,m,d,i,h){this.getMarketplaceColorThemes=e;this.marketplaceQuery=o;this.extensionGalleryService=t;this.extensionManagementService=r;this.quickInputService=s;this.logService=m;this.progressService=d;this.extensionsWorkbenchService=i;this.dialogService=h;this._installedExtensions=r.getInstalled().then(l=>{const g=new Set;for(const u of l)g.add(u.identifier.id);return g})}_installedExtensions;_marketplaceExtensions=new Set;_marketplaceThemes=[];_searchOngoing=!1;_searchError=void 0;_onDidChange=new Ee;_tokenSource;_queryDelayer=new ke(200);get themes(){return this._marketplaceThemes}get onDidChange(){return this._onDidChange.event}trigger(e){this._tokenSource&&(this._tokenSource.cancel(),this._tokenSource=void 0),this._queryDelayer.trigger(()=>(this._tokenSource=new ye,this.doSearch(e,this._tokenSource.token)))}async doSearch(e,o){this._searchOngoing=!0,this._onDidChange.fire();try{const t=await this._installedExtensions,r={text:`${this.marketplaceQuery} ${e}`,pageSize:20},s=await this.extensionGalleryService.query(r,o);for(let m=0;m<s.total&&m<1&&!o.isCancellationRequested;m++){const d=this._marketplaceThemes.length,i=m===0?s.firstPage:await s.getPage(m,o),h=[],l=[];for(let u=0;u<i.length&&!o.isCancellationRequested;u++){const c=i[u];!t.has(c.identifier.id)&&!this._marketplaceExtensions.has(c.identifier.id)&&(this._marketplaceExtensions.add(c.identifier.id),h.push(this.getMarketplaceColorThemes(c.publisher,c.name,c.version)),l.push(c))}const g=await Promise.all(h);for(let u=0;u<g.length;u++){const c=l[u];for(const p of g[u])this._marketplaceThemes.push({id:p.id,theme:p,label:p.label,description:`${c.displayName} \xB7 ${c.publisherDisplayName}`,galleryExtension:c,buttons:[$]})}d!==this._marketplaceThemes.length&&(this._marketplaceThemes.sort((u,c)=>u.label.localeCompare(c.label)),this._onDidChange.fire())}}catch(t){Ie(t)||(this.logService.error("Error while searching for themes:",t),this._searchError="message"in t?t.message:String(t))}finally{this._searchOngoing=!1,this._onDidChange.fire()}}openQuickPick(e,o,t){let r;const s=new ne;return new Promise((m,d)=>{const i=s.add(this.quickInputService.createQuickPick());i.items=[],i.sortByLabel=!1,i.matchOnDescription=!0,i.buttons=[this.quickInputService.backButton],i.title="Marketplace Themes",i.placeholder=a("themes.selectMarketplaceTheme","Type to Search More. Select to Install. Up/Down Keys to Preview"),i.canSelectMany=!1,s.add(i.onDidChangeValue(()=>this.trigger(i.value))),s.add(i.onDidAccept(async h=>{const l=i.selectedItems[0];if(l?.galleryExtension){r="selected",i.hide();const g=await this.installExtension(l.galleryExtension);t(g?l.theme:o,!0)}})),s.add(i.onDidTriggerItemButton(h=>{if(H(h.item)){const l=h.item.theme?.extensionData?.extensionId;l?this.extensionsWorkbenchService.openSearch(`@id:${l}`):this.extensionsWorkbenchService.openSearch(`${this.marketplaceQuery} ${i.value}`)}})),s.add(i.onDidChangeActive(h=>{r===void 0&&t(h[0]?.theme,!1)})),s.add(i.onDidHide(()=>{r===void 0&&(t(o,!0),r="cancelled"),m(r)})),s.add(i.onDidTriggerButton(h=>{h===this.quickInputService.backButton&&(r="back",i.hide())})),s.add(this.onDidChange(()=>{let h=this.themes;this._searchOngoing?h=h.concat({label:"$(sync~spin) Searching for themes...",id:void 0,alwaysShow:!0}):h.length===0&&this._searchError&&(h=[{label:`$(error) ${a("search.error","Error while searching for themes: {0}",this._searchError)}`,id:void 0,alwaysShow:!0}]);const l=i.activeItems[0]?.id,g=l?h.find(u=>H(u)&&u.id===l):void 0;i.items=h,g&&(i.activeItems=[g])})),this.trigger(e),i.show()}).finally(()=>{s.dispose()})}async installExtension(e){if(this.extensionsWorkbenchService.openSearch(`@id:${e.identifier.id}`),!(await this.dialogService.confirm({message:a("installExtension.confirm","This will install extension '{0}' published by '{1}'. Do you want to continue?",e.displayName,e.publisherDisplayName),primaryButton:a("installExtension.button.ok","OK")})).confirmed)return!1;try{return await this.progressService.withProgress({location:Ce.Notification,title:a("installing extensions","Installing Extension {0}...",e.displayName)},async()=>{await this.extensionManagementService.installFromGallery(e,{isMachineScoped:!1})}),!0}catch(t){return this.logService.error(`Problem installing extension ${e.identifier.id}`,t),!1}}dispose(){this._tokenSource&&(this._tokenSource.cancel(),this._tokenSource=void 0),this._queryDelayer.dispose(),this._marketplaceExtensions.clear(),this._marketplaceThemes.length=0}};R=A([T(2,G),T(3,de),T(4,j),T(5,ve),T(6,be),T(7,z),T(8,Oe)],R);let C=class{constructor(e,o,t,r,s,m,d,i){this.options=e;this.setTheme=o;this.getMarketplaceColorThemes=t;this.quickInputService=r;this.extensionGalleryService=s;this.extensionsWorkbenchService=m;this.extensionResourceLoaderService=d;this.instantiationService=i}async openQuickPick(e,o){let t;this.extensionGalleryService.isEnabled()&&(this.extensionResourceLoaderService.supportsExtensionGalleryResources&&this.options.browseMessage?(t=this.instantiationService.createInstance(R,this.getMarketplaceColorThemes.bind(this),this.options.marketplaceTag),e=[ce(this.options.browseMessage,"marketplace"),...e]):e=[...e,{type:"separator"},ce(this.options.installMessage,"extensions")]);let r;const s=(d,i)=>{r&&clearTimeout(r),r=ee.setTimeout(()=>{r=void 0;const h=d??o;this.setTheme(h,i?"auto":"preview").then(void 0,l=>{N(l),this.setTheme(o,void 0)})},i?0:200)},m=d=>{const i=new ne;return new Promise((h,l)=>{let g=!1;const u=e.findIndex(p=>H(p)&&p.id===d),c=i.add(this.quickInputService.createQuickPick({useSeparators:!0}));c.items=e,c.title=this.options.title,c.description=this.options.description,c.placeholder=this.options.placeholderMessage,c.activeItems=[e[u]],c.canSelectMany=!1,c.toggles=this.options.toggles,c.toggles?.forEach(p=>{i.add(p.onChange(()=>this.options.onToggle?.(p,c)))}),c.matchOnDescription=!0,i.add(c.onDidAccept(async p=>{g=!0;const f=c.selectedItems[0];!f||f.configureItem?!f||f.configureItem==="extensions"?this.extensionsWorkbenchService.openSearch(`${this.options.marketplaceTag} ${c.value}`):f.configureItem==="marketplace"&&t&&await t.openQuickPick(c.value,o,s)==="back"&&await m(void 0):s(f.theme,!0),c.hide(),h()})),i.add(c.onDidChangeActive(p=>s(p[0]?.theme,!1))),i.add(c.onDidHide(()=>{g||(s(o,!0),h()),c.dispose()})),i.add(c.onDidTriggerItemButton(p=>{if(H(p.item)){const f=p.item.theme?.extensionData?.extensionId;f?this.extensionsWorkbenchService.openSearch(`@id:${f}`):this.extensionsWorkbenchService.openSearch(`${this.options.marketplaceTag} ${c.value}`)}})),c.show()}).finally(()=>{i.dispose()})};await m(o.id),t?.dispose()}};C=A([T(3,j),T(4,G),T(5,z),T(6,J),T(7,x)],C);const B="workbench.action.selectTheme";E(class extends _{constructor(){super({id:B,title:w("selectTheme.label","Color Theme"),category:P.Preferences,f1:!0,keybinding:{weight:Pe.WorkbenchContrib,primary:he(q.CtrlCmd|U.KeyK,q.CtrlCmd|U.KeyT)}})}getTitle(n){switch(n){case I.DARK:return a("themes.selectTheme.darkScheme","Select Color Theme for System Dark Mode");case I.LIGHT:return a("themes.selectTheme.lightScheme","Select Color Theme for System Light Mode");case I.HIGH_CONTRAST_DARK:return a("themes.selectTheme.darkHC","Select Color Theme for High Contrast Dark Mode");case I.HIGH_CONTRAST_LIGHT:return a("themes.selectTheme.lightHC","Select Color Theme for High Contrast Light Mode");default:return a("themes.selectTheme.default","Select Color Theme (detect system color mode disabled)")}}async run(n){const e=n.get(v),o=n.get(te),t=e.getPreferredColorScheme();let r;t?r=new oe({title:a("themes.configure.switchingEnabled","Detect system color mode enabled. Click to configure."),icon:Q.colorMode,isChecked:!1,...ie}):r=new oe({title:a("themes.configure.switchingDisabled","Detect system color mode disabled. Click to configure."),icon:Q.colorMode,isChecked:!1,...ie});const s={installMessage:a("installColorThemes","Install Additional Color Themes..."),browseMessage:"$(plus) "+a("browseColorThemes","Browse Additional Color Themes..."),placeholderMessage:this.getTitle(t),marketplaceTag:"category:themes",toggles:[r],onToggle:async(S,M)=>{M.hide(),await o.openSettings({query:k.DETECT_COLOR_SCHEME})}},m=(S,M)=>e.setColorTheme(S,M),d=(S,M,ae)=>e.getMarketplaceColorThemes(S,M,ae),h=n.get(x).createInstance(C,s,m,d),l=await e.getColorThemes(),g=e.getColorTheme(),u=O(l.filter(S=>S.type===I.LIGHT),a("themes.category.light","light themes")),c=O(l.filter(S=>S.type===I.DARK),a("themes.category.dark","dark themes")),p=O(l.filter(S=>pe(S.type)),a("themes.category.hc","high contrast themes"));let f;switch(t){case I.DARK:f=[...c,...u,...p];break;case I.HIGH_CONTRAST_DARK:case I.HIGH_CONTRAST_LIGHT:f=[...p,...u,...c];break;case I.LIGHT:default:f=[...u,...c,...p];break}await h.openQuickPick(f,g)}});const re="workbench.action.selectIconTheme";E(class extends _{constructor(){super({id:re,title:w("selectIconTheme.label","File Icon Theme"),category:P.Preferences,f1:!0})}async run(n){const e=n.get(v),o={installMessage:a("installIconThemes","Install Additional File Icon Themes..."),placeholderMessage:a("themes.selectIconTheme","Select File Icon Theme (Up/Down Keys to Preview)"),marketplaceTag:"tag:icon-theme"},t=(i,h)=>e.setFileIconTheme(i,h),r=(i,h,l)=>e.getMarketplaceFileIconThemes(i,h,l),m=n.get(x).createInstance(C,o,t,r),d=[{type:"separator",label:a("fileIconThemeCategory","file icon themes")},{id:"",theme:De.noIconTheme,label:a("noIconThemeLabel","None"),description:a("noIconThemeDesc","Disable File Icons")},...O(await e.getFileIconThemes())];await m.openQuickPick(d,e.getFileIconTheme())}});const se="workbench.action.selectProductIconTheme";E(class extends _{constructor(){super({id:se,title:w("selectProductIconTheme.label","Product Icon Theme"),category:P.Preferences,f1:!0})}async run(n){const e=n.get(v),o={installMessage:a("installProductIconThemes","Install Additional Product Icon Themes..."),browseMessage:"$(plus) "+a("browseProductIconThemes","Browse Additional Product Icon Themes..."),placeholderMessage:a("themes.selectProductIconTheme","Select Product Icon Theme (Up/Down Keys to Preview)"),marketplaceTag:"tag:product-icon-theme"},t=(i,h)=>e.setProductIconTheme(i,h),r=(i,h,l)=>e.getMarketplaceProductIconThemes(i,h,l),m=n.get(x).createInstance(C,o,t,r),d=[{type:"separator",label:a("productIconThemeCategory","product icon themes")},{id:fe,theme:Se.defaultTheme,label:a("defaultProductIconThemeLabel","Default")},...O(await e.getProductIconThemes())];await m.openQuickPick(d,e.getProductIconTheme())}}),Re.registerCommand("workbench.action.previewColorTheme",async function(n,e,o){const t=n.get(v);let r=Be(await t.getColorThemes(),e);r.length===0&&(r=await t.getMarketplaceColorThemes(e.publisher,e.name,e.version));for(const s of r)if(!o||s.settingsId===o)return await t.setColorTheme(s,"preview"),s.settingsId});function Be(n,e){return n.filter(({extensionData:o})=>o&&o.extensionIsBuiltin&&Y(o.extensionPublisher,e.publisher)&&Y(o.extensionName,e.name))}function ce(n,e){return{id:void 0,label:n,alwaysShow:!0,buttons:[$],configureItem:e}}function H(n){return n.type!=="separator"}function $e(n){const e=n.settingsId??void 0,o={id:n.id,theme:n,label:n.label,description:n.description||(n.label===e?void 0:e)};return n.extensionData&&(o.buttons=[$]),o}function O(n,e){const o=(r,s)=>r.label.localeCompare(s.label),t=n.map($e).sort(o);return t.length>0&&e&&t.unshift({type:"separator",label:e}),t}const $={iconClass:_e.asClassName(Ke),tooltip:a("manage extension","Manage Extension")};E(class extends _{constructor(){super({id:"workbench.action.generateColorTheme",title:w("generateColorTheme.label","Generate Color Theme From Current Settings"),category:P.Developer,f1:!0})}run(n){const o=n.get(v).getColorTheme(),r=V.as(ue.ColorContribution).getColors().map(l=>l.id).sort(),s={},m=[];for(const l of r){const g=o.getColor(l,!1);g?s[l]=X.Format.CSS.formatHexA(g,!0):m.push(l)}const d=[];for(const l of m){const g=o.getColor(l);g?s["__"+l]=X.Format.CSS.formatHexA(g,!0):d.push(l)}for(const l of d)s["__"+l]=null;let i=JSON.stringify({$schema:Te,type:o.type,colors:s,tokenColors:o.tokenColors.filter(l=>!!l.scope)},null,"	");return i=i.replace(/\"__/g,'//"'),n.get(ge).openEditor({resource:void 0,contents:i,languageId:"jsonc",options:{pinned:!0}})}});const qe="workbench.action.toggleLightDarkThemes";E(class extends _{constructor(){super({id:qe,title:w("toggleLightDarkThemes.label","Toggle between Light/Dark Themes"),category:P.Preferences,f1:!0})}async run(n){const e=n.get(v),o=n.get(xe),t=n.get(Z),r=n.get(te);if(o.getValue(k.DETECT_COLOR_SCHEME)){const i=a({key:"cannotToggle",comment:["{0} is a setting name"]},"Cannot toggle between light and dark themes when `{0}` is enabled in settings.",k.DETECT_COLOR_SCHEME);t.prompt(K.Info,i,[{label:a("goToSetting","Open Settings"),run:()=>r.openUserSettings({query:k.DETECT_COLOR_SCHEME})}]);return}const s=e.getColorTheme();let m=k.PREFERRED_DARK_THEME;switch(s.type){case I.LIGHT:m=k.PREFERRED_DARK_THEME;break;case I.DARK:m=k.PREFERRED_LIGHT_THEME;break;case I.HIGH_CONTRAST_LIGHT:m=k.PREFERRED_HC_DARK_THEME;break;case I.HIGH_CONTRAST_DARK:m=k.PREFERRED_HC_LIGHT_THEME;break}const d=o.getValue(m);if(d&&typeof d=="string"){const i=(await e.getColorThemes()).find(h=>h.settingsId===d);i&&e.setColorTheme(i.id,"auto")}}});const Ue="workbench.action.browseColorThemesInMarketplace";E(class extends _{constructor(){super({id:Ue,title:w("browseColorThemeInMarketPlace.label","Browse Color Themes in Marketplace"),category:P.Preferences,f1:!0})}async run(n){const e="category:themes",o=n.get(v),t=n.get(G),r=n.get(J),s=n.get(x);if(!t.isEnabled()||!r.supportsExtensionGalleryResources)return;const m=o.getColorTheme(),d=(g,u,c)=>o.getMarketplaceColorThemes(g,u,c);let i;const h=(g,u)=>{i&&clearTimeout(i),i=ee.setTimeout(()=>{i=void 0;const c=g??m;o.setColorTheme(c,u?"auto":"preview").then(void 0,p=>{N(p),o.setColorTheme(m,void 0)})},u?0:200)};await s.createInstance(R,d,e).openQuickPick("",o.getColorTheme(),h).then(void 0,N)}});const L=new W("ThemesSubMenu");D.appendMenuItem(W.GlobalActivity,{title:a("themes","Themes"),submenu:L,group:"2_configuration",order:7}),D.appendMenuItem(W.MenubarPreferencesMenu,{title:a({key:"miSelectTheme",comment:["&& denotes a mnemonic"]},"&&Theme"),submenu:L,group:"2_configuration",order:7}),D.appendMenuItem(L,{command:{id:B,title:a("selectTheme.label","Color Theme")},order:1}),D.appendMenuItem(L,{command:{id:re,title:a("themes.selectIconTheme.label","File Icon Theme")},order:2}),D.appendMenuItem(L,{command:{id:se,title:a("themes.selectProductIconTheme.label","Product Icon Theme")},order:3});let y=class{constructor(e,o,t,r,s,m){this._notificationService=e;this._workbenchThemeService=o;this._storageService=t;this._commandService=r;this._telemetryService=s;this._hostService=m;t.getBoolean(y.STORAGE_KEY,F.APPLICATION)||setTimeout(async()=>{if(!t.getBoolean(y.STORAGE_KEY,F.APPLICATION)&&await this._hostService.hadLastFocus())if(this._storageService.store(y.STORAGE_KEY,!0,F.APPLICATION,We.USER),this._workbenchThemeService.hasUpdatedDefaultThemes())this._showYouGotMigratedNotification();else{const d=this._workbenchThemeService.getColorTheme().settingsId;(d===b.COLOR_THEME_LIGHT_OLD||d===b.COLOR_THEME_DARK_OLD)&&this._tryNewThemeNotification()}},3e3)}static STORAGE_KEY="themeUpdatedNotificationShown";async _showYouGotMigratedNotification(){const e=this._workbenchThemeService.getColorTheme().type===I.LIGHT,o=e?b.COLOR_THEME_LIGHT:b.COLOR_THEME_DARK,t=(await this._workbenchThemeService.getColorThemes()).find(r=>r.settingsId===o);if(t){const r=[{label:a("button.keep","Keep New Theme"),run:()=>{this._writeTelemetry("keepNew")}},{label:a("button.browse","Browse Themes"),run:()=>{this._writeTelemetry("browse"),this._commandService.executeCommand(B)}},{label:a("button.revert","Revert"),run:async()=>{this._writeTelemetry("keepOld");const s=e?b.COLOR_THEME_LIGHT_OLD:b.COLOR_THEME_DARK_OLD,m=(await this._workbenchThemeService.getColorThemes()).find(d=>d.settingsId===s);m&&this._workbenchThemeService.setColorTheme(m,"auto")}}];await this._notificationService.prompt(K.Info,a({key:"themeUpdatedNotification",comment:["{0} is the name of the new default theme"]},"Visual Studio Code now ships with a new default theme '{0}'. If you prefer, you can switch back to the old theme or try one of the many other color themes available.",t.label),r,{onCancel:()=>this._writeTelemetry("cancel")})}}async _tryNewThemeNotification(){const e=this._workbenchThemeService.getColorTheme().type===I.LIGHT?b.COLOR_THEME_LIGHT:b.COLOR_THEME_DARK,o=(await this._workbenchThemeService.getColorThemes()).find(t=>t.settingsId===e);if(o){const t=[{label:a("button.tryTheme","Try New Theme"),run:()=>{this._writeTelemetry("tryNew"),this._workbenchThemeService.setColorTheme(o,"auto")}},{label:a("button.cancel","Cancel"),run:()=>{this._writeTelemetry("cancel")}}];await this._notificationService.prompt(K.Info,a({key:"newThemeNotification",comment:["{0} is the name of the new default theme"]},"Visual Studio Code now ships with a new default theme '{0}'. Do you want to give it a try?",o.label),t,{onCancel:()=>this._writeTelemetry("cancel")})}}_writeTelemetry(e){this._telemetryService.publicLog2("themeUpdatedNotication",{web:Ge,reaction:e})}};y=A([T(0,Z),T(1,v),T(2,He),T(3,Me),T(4,Ne),T(5,Qe)],y);const Ye=V.as(Le.Workbench);Ye.registerWorkbenchContribution(y,Ae.Eventually);export{Ke as manageExtensionIcon};
