import*as r from"../../../../nls.js";import"../../../../platform/workspace/common/workspace.js";import"../common/taskSystem.js";import{ExecutionEngine as s}from"../common/tasks.js";import{AbstractTaskService as o}from"./abstractTaskService.js";import{ITaskService as i}from"../common/taskService.js";import{InstantiationType as a,registerSingleton as n}from"../../../../platform/instantiation/common/extensions.js";class e extends o{static ProcessTaskSystemSupportMessage=r.localize("taskService.processTaskSystem","Process task system is not support in the web.");_getTaskSystem(){if(this._taskSystem)return this._taskSystem;if(this.executionEngine!==s.Terminal)throw new Error(e.ProcessTaskSystemSupportMessage);return this._taskSystem=this._createTerminalTaskSystem(),this._taskSystemListeners=[this._taskSystem.onDidStateChange(t=>{this._taskRunningState.set(this._taskSystem.isActiveSync()),this._onDidStateChange.fire(t)})],this._taskSystem}_computeLegacyConfiguration(t){throw new Error(e.ProcessTaskSystemSupportMessage)}_versionAndEngineCompatible(t){return this.executionEngine===s.Terminal}}n(i,e,a.Delayed);export{e as TaskService};
