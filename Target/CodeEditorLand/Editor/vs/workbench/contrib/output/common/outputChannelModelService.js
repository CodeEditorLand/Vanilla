var p=Object.defineProperty;var s=Object.getOwnPropertyDescriptor;var c=(o,i,n,e)=>{for(var t=e>1?void 0:e?s(i,n):i,u=o.length-1,l;u>=0;u--)(l=o[u])&&(t=(e?l(i,n,t):l(t))||t);return e&&t&&p(i,n,t),t},a=(o,i)=>(n,e)=>i(n,e,o);import{toLocalISOString as I}from"../../../../base/common/date.js";import{joinPath as d}from"../../../../base/common/resources.js";import{IFileService as m}from"../../../../platform/files/common/files.js";import{InstantiationType as h,registerSingleton as v}from"../../../../platform/instantiation/common/extensions.js";import{IInstantiationService as g,createDecorator as S}from"../../../../platform/instantiation/common/instantiation.js";import{IWorkbenchEnvironmentService as f}from"../../../services/environment/common/environmentService.js";import{DelegatedOutputChannelModel as y,FileOutputChannelModel as D}from"./outputChannelModel.js";const L=S("outputChannelModelService");let r=class{constructor(i,n,e){this.fileService=i;this.instantiationService=n;this.outputLocation=d(e.windowLogsPath,`output_${I(new Date).replace(/-|:|\.\d+Z$/g,"")}`)}outputLocation;createOutputChannelModel(i,n,e,t){return t?this.instantiationService.createInstance(D,n,e,t):this.instantiationService.createInstance(y,i,n,e,this.outputDir)}_outputDir=null;get outputDir(){return this._outputDir||(this._outputDir=this.fileService.createFolder(this.outputLocation).then(()=>this.outputLocation)),this._outputDir}};r=c([a(0,m),a(1,g),a(2,f)],r),v(L,r,h.Delayed);export{L as IOutputChannelModelService,r as OutputChannelModelService};
