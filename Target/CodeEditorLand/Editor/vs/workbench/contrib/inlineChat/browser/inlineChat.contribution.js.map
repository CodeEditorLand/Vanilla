{
  "version": 3,
  "sources": ["../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/contrib/inlineChat/browser/inlineChat.contribution.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport {\n\tEditorContributionInstantiation,\n\tregisterEditorContribution,\n} from \"../../../../editor/browser/editorExtensions.js\";\nimport { localize } from \"../../../../nls.js\";\nimport { AccessibleViewRegistry } from \"../../../../platform/accessibility/browser/accessibleViewRegistry.js\";\nimport {\n\ttype IMenuItem,\n\tMenuRegistry,\n\tregisterAction2,\n} from \"../../../../platform/actions/common/actions.js\";\nimport { ContextKeyExpr } from \"../../../../platform/contextkey/common/contextkey.js\";\nimport {\n\tInstantiationType,\n\tregisterSingleton,\n} from \"../../../../platform/instantiation/common/extensions.js\";\nimport { Registry } from \"../../../../platform/registry/common/platform.js\";\nimport {\n\ttype IWorkbenchContributionsRegistry,\n\tExtensions as WorkbenchExtensions,\n\tWorkbenchPhase,\n\tregisterWorkbenchContribution2,\n} from \"../../../common/contributions.js\";\nimport { LifecyclePhase } from \"../../../services/lifecycle/common/lifecycle.js\";\nimport {\n\tCancelAction,\n\tSubmitAction,\n} from \"../../chat/browser/actions/chatExecuteActions.js\";\nimport { CONTEXT_CHAT_INPUT_HAS_TEXT } from \"../../chat/common/chatContextKeys.js\";\nimport {\n\tCTX_INLINE_CHAT_EDITING,\n\tCTX_INLINE_CHAT_REQUEST_IN_PROGRESS,\n\tINLINE_CHAT_ID,\n\tMENU_INLINE_CHAT_WIDGET_STATUS,\n} from \"../common/inlineChat.js\";\nimport { InlineChatAccessibilityHelp } from \"./inlineChatAccessibilityHelp.js\";\nimport { InlineChatAccessibleView } from \"./inlineChatAccessibleView.js\";\nimport * as InlineChatActions from \"./inlineChatActions.js\";\nimport { InlineChatController } from \"./inlineChatController.js\";\nimport {\n\tInlineChatExansionContextKey,\n\tInlineChatExpandLineAction,\n} from \"./inlineChatCurrentLine.js\";\nimport { InlineChatNotebookContribution } from \"./inlineChatNotebook.js\";\nimport { IInlineChatSavingService } from \"./inlineChatSavingService.js\";\nimport { InlineChatSavingServiceImpl } from \"./inlineChatSavingServiceImpl.js\";\nimport { IInlineChatSessionService } from \"./inlineChatSessionService.js\";\nimport {\n\tInlineChatEnabler,\n\tInlineChatSessionServiceImpl,\n} from \"./inlineChatSessionServiceImpl.js\";\n\n// --- browser\n\nregisterSingleton(\n\tIInlineChatSessionService,\n\tInlineChatSessionServiceImpl,\n\tInstantiationType.Delayed,\n);\nregisterSingleton(\n\tIInlineChatSavingService,\n\tInlineChatSavingServiceImpl,\n\tInstantiationType.Delayed,\n);\n\nregisterEditorContribution(\n\tINLINE_CHAT_ID,\n\tInlineChatController,\n\tEditorContributionInstantiation.Eager,\n); // EAGER because of notebook dispose/create of editors\n\nregisterEditorContribution(\n\tInlineChatExansionContextKey.Id,\n\tInlineChatExansionContextKey,\n\tEditorContributionInstantiation.BeforeFirstInteraction,\n);\nregisterAction2(InlineChatExpandLineAction);\n\n// --- MENU special ---\n\nconst editActionMenuItem: IMenuItem = {\n\tgroup: \"0_main\",\n\torder: 0,\n\tcommand: {\n\t\tid: SubmitAction.ID,\n\t\ttitle: localize(\"send.edit\", \"Edit Code\"),\n\t},\n\twhen: ContextKeyExpr.and(\n\t\tCONTEXT_CHAT_INPUT_HAS_TEXT,\n\t\tCTX_INLINE_CHAT_REQUEST_IN_PROGRESS.toNegated(),\n\t\tCTX_INLINE_CHAT_EDITING,\n\t),\n};\n\nconst generateActionMenuItem: IMenuItem = {\n\tgroup: \"0_main\",\n\torder: 0,\n\tcommand: {\n\t\tid: SubmitAction.ID,\n\t\ttitle: localize(\"send.generate\", \"Generate\"),\n\t},\n\twhen: ContextKeyExpr.and(\n\t\tCONTEXT_CHAT_INPUT_HAS_TEXT,\n\t\tCTX_INLINE_CHAT_REQUEST_IN_PROGRESS.toNegated(),\n\t\tCTX_INLINE_CHAT_EDITING.toNegated(),\n\t),\n};\n\nMenuRegistry.appendMenuItem(MENU_INLINE_CHAT_WIDGET_STATUS, editActionMenuItem);\nMenuRegistry.appendMenuItem(\n\tMENU_INLINE_CHAT_WIDGET_STATUS,\n\tgenerateActionMenuItem,\n);\n\nconst cancelActionMenuItem: IMenuItem = {\n\tgroup: \"0_main\",\n\torder: 0,\n\tcommand: {\n\t\tid: CancelAction.ID,\n\t\ttitle: localize(\"cancel\", \"Stop Request\"),\n\t\tshortTitle: localize(\"cancelShort\", \"Stop\"),\n\t},\n\twhen: ContextKeyExpr.and(CTX_INLINE_CHAT_REQUEST_IN_PROGRESS),\n};\n\nMenuRegistry.appendMenuItem(\n\tMENU_INLINE_CHAT_WIDGET_STATUS,\n\tcancelActionMenuItem,\n);\n\n// --- actions ---\n\nregisterAction2(InlineChatActions.StartSessionAction);\nregisterAction2(InlineChatActions.CloseAction);\nregisterAction2(InlineChatActions.ConfigureInlineChatAction);\nregisterAction2(InlineChatActions.UnstashSessionAction);\nregisterAction2(InlineChatActions.DiscardHunkAction);\nregisterAction2(InlineChatActions.DiscardAction);\nregisterAction2(InlineChatActions.RerunAction);\nregisterAction2(InlineChatActions.MoveToNextHunk);\nregisterAction2(InlineChatActions.MoveToPreviousHunk);\n\nregisterAction2(InlineChatActions.ArrowOutUpAction);\nregisterAction2(InlineChatActions.ArrowOutDownAction);\nregisterAction2(InlineChatActions.FocusInlineChat);\nregisterAction2(InlineChatActions.ViewInChatAction);\n\nregisterAction2(InlineChatActions.ToggleDiffForChange);\nregisterAction2(InlineChatActions.AcceptChanges);\n\nconst workbenchContributionsRegistry =\n\tRegistry.as<IWorkbenchContributionsRegistry>(WorkbenchExtensions.Workbench);\nworkbenchContributionsRegistry.registerWorkbenchContribution(\n\tInlineChatNotebookContribution,\n\tLifecyclePhase.Restored,\n);\n\nregisterWorkbenchContribution2(\n\tInlineChatEnabler.Id,\n\tInlineChatEnabler,\n\tWorkbenchPhase.AfterRestored,\n);\nAccessibleViewRegistry.register(new InlineChatAccessibleView());\nAccessibleViewRegistry.register(new InlineChatAccessibilityHelp());\n"],
  "mappings": "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",
  "names": []
}
