import{EditorContributionInstantiation as a,registerEditorContribution as s}from"../../../../../vs/editor/browser/editorExtensions.js";import{localize as o}from"../../../../../vs/nls.js";import{AccessibleViewRegistry as I}from"../../../../../vs/platform/accessibility/browser/accessibleViewRegistry.js";import{MenuRegistry as n,registerAction2 as e}from"../../../../../vs/platform/actions/common/actions.js";import{ContextKeyExpr as i}from"../../../../../vs/platform/contextkey/common/contextkey.js";import{InstantiationType as c,registerSingleton as p}from"../../../../../vs/platform/instantiation/common/extensions.js";import{Registry as T}from"../../../../../vs/platform/registry/common/platform.js";import{registerWorkbenchContribution2 as E,Extensions as _,WorkbenchPhase as S}from"../../../../../vs/workbench/common/contributions.js";import{CancelAction as N,SubmitAction as C}from"../../../../../vs/workbench/contrib/chat/browser/actions/chatExecuteActions.js";import{CONTEXT_CHAT_INPUT_HAS_TEXT as l}from"../../../../../vs/workbench/contrib/chat/common/chatContextKeys.js";import{InlineChatAccessibilityHelp as b}from"../../../../../vs/workbench/contrib/inlineChat/browser/inlineChatAccessibilityHelp.js";import{InlineChatAccessibleView as M}from"../../../../../vs/workbench/contrib/inlineChat/browser/inlineChatAccessibleView.js";import*as t from"../../../../../vs/workbench/contrib/inlineChat/browser/inlineChatActions.js";import{InlineChatController as R}from"../../../../../vs/workbench/contrib/inlineChat/browser/inlineChatController.js";import{InlineChatExansionContextKey as d,InlineChatExpandLineAction as y}from"../../../../../vs/workbench/contrib/inlineChat/browser/inlineChatCurrentLine.js";import{InlineChatNotebookContribution as k}from"../../../../../vs/workbench/contrib/inlineChat/browser/inlineChatNotebook.js";import{IInlineChatSavingService as w}from"../../../../../vs/workbench/contrib/inlineChat/browser/inlineChatSavingService.js";import{InlineChatSavingServiceImpl as D}from"../../../../../vs/workbench/contrib/inlineChat/browser/inlineChatSavingServiceImpl.js";import{IInlineChatSessionService as H}from"../../../../../vs/workbench/contrib/inlineChat/browser/inlineChatSessionService.js";import{InlineChatEnabler as u,InlineChatSessionServiceImpl as v}from"../../../../../vs/workbench/contrib/inlineChat/browser/inlineChatSessionServiceImpl.js";import{CTX_INLINE_CHAT_EDITING as A,CTX_INLINE_CHAT_REQUEST_IN_PROGRESS as r,INLINE_CHAT_ID as x,MENU_INLINE_CHAT_CONTENT_STATUS as h,MENU_INLINE_CHAT_WIDGET_STATUS as m}from"../../../../../vs/workbench/contrib/inlineChat/common/inlineChat.js";import{LifecyclePhase as U}from"../../../../../vs/workbench/services/lifecycle/common/lifecycle.js";p(H,v,c.Delayed),p(w,D,c.Delayed),s(x,R,a.Eager),s(d.Id,d,a.BeforeFirstInteraction),e(y);const g={group:"0_main",order:0,command:{id:C.ID,title:o("send.edit","Edit Code")},when:i.and(l,r.toNegated(),A)},f={group:"0_main",order:0,command:{id:C.ID,title:o("send.generate","Generate")},when:i.and(l,r.toNegated(),A.toNegated())};n.appendMenuItem(h,g),n.appendMenuItem(h,f),n.appendMenuItem(m,g),n.appendMenuItem(m,f);const W={group:"0_main",order:0,command:{id:N.ID,title:o("cancel","Stop Request"),shortTitle:o("cancelShort","Stop")},when:i.and(r)};n.appendMenuItem(m,W),e(t.StartSessionAction),e(t.CloseAction),e(t.ConfigureInlineChatAction),e(t.UnstashSessionAction),e(t.DiscardHunkAction),e(t.DiscardAction),e(t.RerunAction),e(t.MoveToNextHunk),e(t.MoveToPreviousHunk),e(t.ArrowOutUpAction),e(t.ArrowOutDownAction),e(t.FocusInlineChat),e(t.ViewInChatAction),e(t.ToggleDiffForChange),e(t.AcceptChanges),e(t.ReportIssueAction);const L=T.as(_.Workbench);L.registerWorkbenchContribution(k,U.Restored),E(u.Id,u,S.AfterRestored),I.register(new M),I.register(new b);
