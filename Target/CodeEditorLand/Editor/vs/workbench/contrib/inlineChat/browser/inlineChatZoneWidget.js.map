{
  "version": 3,
  "sources": ["../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/contrib/inlineChat/browser/inlineChatZoneWidget.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { addDisposableListener, Dimension } from '../../../../base/browser/dom.js';\nimport * as aria from '../../../../base/browser/ui/aria/aria.js';\nimport { MutableDisposable, toDisposable } from '../../../../base/common/lifecycle.js';\nimport { assertType } from '../../../../base/common/types.js';\nimport { ICodeEditor } from '../../../../editor/browser/editorBrowser.js';\nimport { EditorLayoutInfo, EditorOption } from '../../../../editor/common/config/editorOptions.js';\nimport { Position } from '../../../../editor/common/core/position.js';\nimport { Range } from '../../../../editor/common/core/range.js';\nimport { ZoneWidget } from '../../../../editor/contrib/zoneWidget/browser/zoneWidget.js';\nimport { localize } from '../../../../nls.js';\nimport { IContextKey, IContextKeyService } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { ACTION_REGENERATE_RESPONSE, ACTION_REPORT_ISSUE, ACTION_TOGGLE_DIFF, CTX_INLINE_CHAT_OUTER_CURSOR_POSITION, EditMode, InlineChatConfigKeys, MENU_INLINE_CHAT_WIDGET_SECONDARY, MENU_INLINE_CHAT_WIDGET_STATUS } from '../common/inlineChat.js';\nimport { EditorBasedInlineChatWidget } from './inlineChatWidget.js';\nimport { isEqual } from '../../../../base/common/resources.js';\nimport { StableEditorBottomScrollState } from '../../../../editor/browser/stableEditorScroll.js';\nimport { ScrollType } from '../../../../editor/common/editorCommon.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { ILogService } from '../../../../platform/log/common/log.js';\nimport { IChatWidgetLocationOptions } from '../../chat/browser/chatWidget.js';\nimport { MenuId } from '../../../../platform/actions/common/actions.js';\nimport { isResponseVM } from '../../chat/common/chatViewModel.js';\n\nexport class InlineChatZoneWidget extends ZoneWidget {\n\n\treadonly widget: EditorBasedInlineChatWidget;\n\n\tprivate readonly _scrollUp = this._disposables.add(new ScrollUpState(this.editor));\n\tprivate readonly _ctxCursorPosition: IContextKey<'above' | 'below' | ''>;\n\tprivate _dimension?: Dimension;\n\n\tconstructor(\n\t\tlocation: IChatWidgetLocationOptions,\n\t\teditor: ICodeEditor,\n\t\t@IInstantiationService private readonly _instaService: IInstantiationService,\n\t\t@ILogService private _logService: ILogService,\n\t\t@IContextKeyService contextKeyService: IContextKeyService,\n\t\t@IConfigurationService configurationService: IConfigurationService,\n\t) {\n\t\tsuper(editor, { showFrame: false, showArrow: false, isAccessible: true, className: 'inline-chat-widget', keepEditorSelection: true, showInHiddenAreas: true, ordinal: 50000 });\n\n\t\tthis._ctxCursorPosition = CTX_INLINE_CHAT_OUTER_CURSOR_POSITION.bindTo(contextKeyService);\n\n\t\tthis._disposables.add(toDisposable(() => {\n\t\t\tthis._ctxCursorPosition.reset();\n\t\t}));\n\n\t\tthis.widget = this._instaService.createInstance(EditorBasedInlineChatWidget, location, this.editor, {\n\t\t\tstatusMenuId: {\n\t\t\t\tmenu: MENU_INLINE_CHAT_WIDGET_STATUS,\n\t\t\t\toptions: {\n\t\t\t\t\tbuttonConfigProvider: (action, index) => {\n\t\t\t\t\t\tconst isSecondary = index > 0;\n\t\t\t\t\t\tif (new Set([ACTION_REGENERATE_RESPONSE, ACTION_TOGGLE_DIFF, ACTION_REPORT_ISSUE]).has(action.id)) {\n\t\t\t\t\t\t\treturn { isSecondary, showIcon: true, showLabel: false };\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn { isSecondary };\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tsecondaryMenuId: MENU_INLINE_CHAT_WIDGET_SECONDARY,\n\t\t\tchatWidgetViewOptions: {\n\t\t\t\tmenus: {\n\t\t\t\t\texecuteToolbar: MenuId.ChatExecute,\n\t\t\t\t\ttelemetrySource: 'interactiveEditorWidget-toolbar',\n\t\t\t\t},\n\t\t\t\trendererOptions: {\n\t\t\t\t\trenderTextEditsAsSummary: (uri) => {\n\t\t\t\t\t\t// render edits as summary only when using Live mode and when\n\t\t\t\t\t\t// dealing with the current file in the editor\n\t\t\t\t\t\treturn isEqual(uri, editor.getModel()?.uri)\n\t\t\t\t\t\t\t&& configurationService.getValue<EditMode>(InlineChatConfigKeys.Mode) === EditMode.Live;\n\t\t\t\t\t},\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tthis._disposables.add(this.widget);\n\n\t\tlet revealFn: (() => void) | undefined;\n\t\tthis._disposables.add(this.widget.chatWidget.onWillMaybeChangeHeight(() => {\n\t\t\tif (this.position) {\n\t\t\t\trevealFn = this._createZoneAndScrollRestoreFn(this.position);\n\t\t\t}\n\t\t}));\n\t\tthis._disposables.add(this.widget.onDidChangeHeight(() => {\n\t\t\tif (this.position) {\n\t\t\t\t// only relayout when visible\n\t\t\t\trevealFn ??= this._createZoneAndScrollRestoreFn(this.position);\n\t\t\t\tconst height = this._computeHeight();\n\t\t\t\tthis._relayout(height.linesValue);\n\t\t\t\trevealFn();\n\t\t\t\trevealFn = undefined;\n\t\t\t}\n\t\t}));\n\n\t\tthis.create();\n\n\t\tthis._disposables.add(addDisposableListener(this.domNode, 'click', e => {\n\t\t\tif (!this.editor.hasWidgetFocus() && !this.widget.hasFocus()) {\n\t\t\t\tthis.editor.focus();\n\t\t\t}\n\t\t}, true));\n\n\n\t\t// todo@jrieken listen ONLY when showing\n\t\tconst updateCursorIsAboveContextKey = () => {\n\t\t\tif (!this.position || !this.editor.hasModel()) {\n\t\t\t\tthis._ctxCursorPosition.reset();\n\t\t\t} else if (this.position.lineNumber === this.editor.getPosition().lineNumber) {\n\t\t\t\tthis._ctxCursorPosition.set('above');\n\t\t\t} else if (this.position.lineNumber + 1 === this.editor.getPosition().lineNumber) {\n\t\t\t\tthis._ctxCursorPosition.set('below');\n\t\t\t} else {\n\t\t\t\tthis._ctxCursorPosition.reset();\n\t\t\t}\n\t\t};\n\t\tthis._disposables.add(this.editor.onDidChangeCursorPosition(e => updateCursorIsAboveContextKey()));\n\t\tthis._disposables.add(this.editor.onDidFocusEditorText(e => updateCursorIsAboveContextKey()));\n\t\tupdateCursorIsAboveContextKey();\n\t}\n\n\tprotected override _fillContainer(container: HTMLElement): void {\n\t\tcontainer.appendChild(this.widget.domNode);\n\t}\n\n\tprotected override _doLayout(heightInPixel: number): void {\n\n\t\tconst info = this.editor.getLayoutInfo();\n\t\tlet width = info.contentWidth - (info.glyphMarginWidth + info.decorationsWidth);\n\t\twidth = Math.min(640, width);\n\n\t\tthis._dimension = new Dimension(width, heightInPixel);\n\t\tthis.widget.layout(this._dimension);\n\t}\n\n\tprivate _computeHeight(): { linesValue: number; pixelsValue: number } {\n\t\tconst chatContentHeight = this.widget.contentHeight;\n\t\tconst editorHeight = this.editor.getLayoutInfo().height;\n\n\t\tconst contentHeight = Math.min(chatContentHeight, Math.max(this.widget.minHeight, editorHeight * 0.42));\n\t\tconst heightInLines = contentHeight / this.editor.getOption(EditorOption.lineHeight);\n\t\treturn { linesValue: heightInLines, pixelsValue: contentHeight };\n\t}\n\n\tprotected override _onWidth(_widthInPixel: number): void {\n\t\tif (this._dimension) {\n\t\t\tthis._doLayout(this._dimension.height);\n\t\t}\n\t}\n\n\toverride show(position: Position): void {\n\t\tassertType(this.container);\n\n\t\tconst info = this.editor.getLayoutInfo();\n\t\tconst marginWithoutIndentation = info.glyphMarginWidth + info.decorationsWidth + info.lineNumbersWidth;\n\t\tthis.container.style.marginLeft = `${marginWithoutIndentation}px`;\n\n\t\tconst revealZone = this._createZoneAndScrollRestoreFn(position);\n\t\tsuper.show(position, this._computeHeight().linesValue);\n\t\tthis.widget.chatWidget.setVisible(true);\n\t\tthis.widget.focus();\n\n\t\trevealZone();\n\t\tthis._scrollUp.enable();\n\t}\n\n\toverride updatePositionAndHeight(position: Position): void {\n\t\tconst revealZone = this._createZoneAndScrollRestoreFn(position);\n\t\tsuper.updatePositionAndHeight(position, this._computeHeight().linesValue);\n\t\trevealZone();\n\t}\n\n\tprivate _createZoneAndScrollRestoreFn(position: Position): () => void {\n\n\t\tconst scrollState = StableEditorBottomScrollState.capture(this.editor);\n\n\t\tconst lineNumber = position.lineNumber <= 1 ? 1 : 1 + position.lineNumber;\n\t\tconst scrollTop = this.editor.getScrollTop();\n\t\tconst lineTop = this.editor.getTopForLineNumber(lineNumber);\n\t\tconst zoneTop = lineTop - this._computeHeight().pixelsValue;\n\n\t\tconst hasResponse = this.widget.chatWidget.viewModel?.getItems().find(candidate => {\n\t\t\treturn isResponseVM(candidate) && candidate.response.value.length > 0;\n\t\t});\n\n\t\tif (hasResponse && zoneTop < scrollTop || this._scrollUp.didScrollUpOrDown) {\n\t\t\t// don't reveal the zone if it is already out of view (unless we are still getting ready)\n\t\t\t// or if an outside scroll-up happened (e.g the user scrolled up/down to see the new content)\n\t\t\treturn this._scrollUp.runIgnored(() => {\n\t\t\t\tscrollState.restore(this.editor);\n\t\t\t});\n\t\t}\n\n\t\treturn this._scrollUp.runIgnored(() => {\n\t\t\tscrollState.restore(this.editor);\n\n\t\t\tconst scrollTop = this.editor.getScrollTop();\n\t\t\tconst lineTop = this.editor.getTopForLineNumber(lineNumber);\n\t\t\tconst zoneTop = lineTop - this._computeHeight().pixelsValue;\n\t\t\tconst editorHeight = this.editor.getLayoutInfo().height;\n\t\t\tconst lineBottom = this.editor.getBottomForLineNumber(lineNumber);\n\n\t\t\tlet newScrollTop = zoneTop;\n\t\t\tlet forceScrollTop = false;\n\n\t\t\tif (lineBottom >= (scrollTop + editorHeight)) {\n\t\t\t\t// revealing the top of the zone would push out the line we are interested in and\n\t\t\t\t// therefore we keep the line in the viewport\n\t\t\t\tnewScrollTop = lineBottom - editorHeight;\n\t\t\t\tforceScrollTop = true;\n\t\t\t}\n\n\t\t\tif (newScrollTop < scrollTop || forceScrollTop) {\n\t\t\t\tthis._logService.trace('[IE] REVEAL zone', { zoneTop, lineTop, lineBottom, scrollTop, newScrollTop, forceScrollTop });\n\t\t\t\tthis.editor.setScrollTop(newScrollTop, ScrollType.Immediate);\n\t\t\t}\n\t\t});\n\t}\n\n\tprotected override revealRange(range: Range, isLastLine: boolean): void {\n\t\t// noop\n\t}\n\n\tprotected override _getWidth(info: EditorLayoutInfo): number {\n\t\treturn info.width - info.minimap.minimapWidth;\n\t}\n\n\toverride hide(): void {\n\t\tconst scrollState = StableEditorBottomScrollState.capture(this.editor);\n\t\tthis._scrollUp.disable();\n\t\tthis._ctxCursorPosition.reset();\n\t\tthis.widget.reset();\n\t\tthis.widget.chatWidget.setVisible(false);\n\t\tsuper.hide();\n\t\taria.status(localize('inlineChatClosed', 'Closed inline chat widget'));\n\t\tscrollState.restore(this.editor);\n\t}\n}\n\nclass ScrollUpState {\n\n\tprivate _didScrollUpOrDown?: boolean;\n\tprivate _ignoreEvents = false;\n\n\tprivate readonly _listener = new MutableDisposable();\n\n\tconstructor(private readonly _editor: ICodeEditor) { }\n\n\tdispose(): void {\n\t\tthis._listener.dispose();\n\t}\n\n\tenable(): void {\n\t\tthis._didScrollUpOrDown = undefined;\n\t\tthis._listener.value = this._editor.onDidScrollChange(e => {\n\t\t\tif (!e.scrollTopChanged || this._ignoreEvents) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis._listener.clear();\n\t\t\tthis._didScrollUpOrDown = true;\n\t\t});\n\t}\n\n\tdisable(): void {\n\t\tthis._listener.clear();\n\t\tthis._didScrollUpOrDown = undefined;\n\t}\n\n\trunIgnored(callback: () => void): () => void {\n\t\treturn () => {\n\t\t\tthis._ignoreEvents = true;\n\t\t\ttry {\n\t\t\t\treturn callback();\n\t\t\t} finally {\n\t\t\t\tthis._ignoreEvents = false;\n\t\t\t}\n\t\t};\n\t}\n\n\tget didScrollUpOrDown(): boolean | undefined {\n\t\treturn this._didScrollUpOrDown;\n\t}\n\n}\n"],
  "mappings": "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",
  "names": ["scrollTop", "lineTop", "zoneTop"]
}
