{
  "version": 3,
  "sources": ["../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/contrib/searchEditor/browser/searchEditor.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as DOM from \"../../../../base/browser/dom.js\";\nimport { StandardKeyboardEvent } from \"../../../../base/browser/keyboardEvent.js\";\nimport { alert } from \"../../../../base/browser/ui/aria/aria.js\";\nimport { Delayer } from \"../../../../base/common/async.js\";\nimport type { CancellationToken } from \"../../../../base/common/cancellation.js\";\nimport { KeyCode, KeyMod } from \"../../../../base/common/keyCodes.js\";\nimport { DisposableStore } from \"../../../../base/common/lifecycle.js\";\nimport { assertIsDefined } from \"../../../../base/common/types.js\";\nimport type { URI } from \"../../../../base/common/uri.js\";\nimport \"./media/searchEditor.css\";\nimport { getDefaultHoverDelegate } from \"../../../../base/browser/ui/hover/hoverDelegateFactory.js\";\nimport { ThemeIcon } from \"../../../../base/common/themables.js\";\nimport {\n\tEditorExtensionsRegistry,\n\ttype IEditorContributionDescription,\n} from \"../../../../editor/browser/editorExtensions.js\";\nimport type { ICodeEditorWidgetOptions } from \"../../../../editor/browser/widget/codeEditor/codeEditorWidget.js\";\nimport { Position } from \"../../../../editor/common/core/position.js\";\nimport { Range } from \"../../../../editor/common/core/range.js\";\nimport { Selection } from \"../../../../editor/common/core/selection.js\";\nimport type { ICodeEditorViewState } from \"../../../../editor/common/editorCommon.js\";\nimport { IModelService } from \"../../../../editor/common/services/model.js\";\nimport { ITextResourceConfigurationService } from \"../../../../editor/common/services/textResourceConfiguration.js\";\nimport { ReferencesController } from \"../../../../editor/contrib/gotoSymbol/browser/peek/referencesController.js\";\nimport { UnusualLineTerminatorsDetector } from \"../../../../editor/contrib/unusualLineTerminators/browser/unusualLineTerminators.js\";\nimport { localize } from \"../../../../nls.js\";\nimport { ICommandService } from \"../../../../platform/commands/common/commands.js\";\nimport { IConfigurationService } from \"../../../../platform/configuration/common/configuration.js\";\nimport {\n\ttype IContextKey,\n\tIContextKeyService,\n} from \"../../../../platform/contextkey/common/contextkey.js\";\nimport { IContextViewService } from \"../../../../platform/contextview/browser/contextView.js\";\nimport type { IEditorOptions } from \"../../../../platform/editor/common/editor.js\";\nimport { IFileService } from \"../../../../platform/files/common/files.js\";\nimport { IHoverService } from \"../../../../platform/hover/browser/hover.js\";\nimport { IInstantiationService } from \"../../../../platform/instantiation/common/instantiation.js\";\nimport { ServiceCollection } from \"../../../../platform/instantiation/common/serviceCollection.js\";\nimport { ILabelService } from \"../../../../platform/label/common/label.js\";\nimport { ILogService } from \"../../../../platform/log/common/log.js\";\nimport { INotificationService } from \"../../../../platform/notification/common/notification.js\";\nimport { IOpenerService } from \"../../../../platform/opener/common/opener.js\";\nimport {\n\tIEditorProgressService,\n\tLongRunningOperation,\n} from \"../../../../platform/progress/common/progress.js\";\nimport { IStorageService } from \"../../../../platform/storage/common/storage.js\";\nimport { ITelemetryService } from \"../../../../platform/telemetry/common/telemetry.js\";\nimport {\n\tdefaultToggleStyles,\n\tgetInputBoxStyle,\n} from \"../../../../platform/theme/browser/defaultStyles.js\";\nimport {\n\tinputBorder,\n\tregisterColor,\n} from \"../../../../platform/theme/common/colorRegistry.js\";\nimport { IThemeService } from \"../../../../platform/theme/common/themeService.js\";\nimport { IWorkspaceContextService } from \"../../../../platform/workspace/common/workspace.js\";\nimport { AbstractTextCodeEditor } from \"../../../browser/parts/editor/textCodeEditor.js\";\nimport {\n\tEditorInputCapabilities,\n\ttype IEditorOpenContext,\n} from \"../../../common/editor.js\";\nimport type { EditorInput } from \"../../../common/editor/editorInput.js\";\nimport {\n\ttype IEditorGroup,\n\tIEditorGroupsService,\n} from \"../../../services/editor/common/editorGroupsService.js\";\nimport { IEditorService } from \"../../../services/editor/common/editorService.js\";\nimport {\n\ttype ITextQueryBuilderOptions,\n\tQueryBuilder,\n} from \"../../../services/search/common/queryBuilder.js\";\nimport {\n\ttype IPatternInfo,\n\ttype ISearchComplete,\n\ttype ISearchConfigurationProperties,\n\ttype ITextQuery,\n\tSearchSortOrder,\n} from \"../../../services/search/common/search.js\";\nimport type { TextSearchCompleteMessage } from \"../../../services/search/common/searchExtTypes.js\";\nimport {\n\tExcludePatternInputWidget,\n\tIncludePatternInputWidget,\n} from \"../../search/browser/patternInputWidget.js\";\nimport { searchDetailsIcon } from \"../../search/browser/searchIcons.js\";\nimport { renderSearchMessage } from \"../../search/browser/searchMessage.js\";\nimport {\n\tSearchModel,\n\ttype SearchResult,\n} from \"../../search/browser/searchModel.js\";\nimport { SearchWidget } from \"../../search/browser/searchWidget.js\";\nimport { SearchContext } from \"../../search/common/constants.js\";\nimport { getOutOfWorkspaceEditorResources } from \"../../search/common/search.js\";\nimport {\n\tInSearchEditor,\n\tSearchEditorID,\n\tSearchEditorInputTypeId,\n} from \"./constants.js\";\nimport type {\n\tSearchConfiguration,\n\tSearchEditorInput,\n} from \"./searchEditorInput.js\";\nimport { serializeSearchResultForEditor } from \"./searchEditorSerialization.js\";\n\nconst RESULT_LINE_REGEX = /^(\\s+)(\\d+)(: | {2})(\\s*)(.*)$/;\nconst FILE_LINE_REGEX = /^(\\S.*):$/;\n\ntype SearchEditorViewState = ICodeEditorViewState & {\n\tfocused: \"input\" | \"editor\";\n};\n\nexport class SearchEditor extends AbstractTextCodeEditor<SearchEditorViewState> {\n\tstatic readonly ID: string = SearchEditorID;\n\n\tstatic readonly SEARCH_EDITOR_VIEW_STATE_PREFERENCE_KEY =\n\t\t\"searchEditorViewState\";\n\n\tprivate queryEditorWidget!: SearchWidget;\n\tprivate get searchResultEditor() {\n\t\treturn this.editorControl!;\n\t}\n\tprivate queryEditorContainer!: HTMLElement;\n\tprivate dimension?: DOM.Dimension;\n\tprivate inputPatternIncludes!: IncludePatternInputWidget;\n\tprivate inputPatternExcludes!: ExcludePatternInputWidget;\n\tprivate includesExcludesContainer!: HTMLElement;\n\tprivate toggleQueryDetailsButton!: HTMLElement;\n\tprivate messageBox!: HTMLElement;\n\n\tprivate runSearchDelayer = new Delayer(0);\n\tprivate pauseSearching = false;\n\tprivate showingIncludesExcludes = false;\n\tprivate searchOperation: LongRunningOperation;\n\tprivate searchHistoryDelayer: Delayer<void>;\n\tprivate readonly messageDisposables: DisposableStore;\n\tprivate container: HTMLElement;\n\tprivate searchModel: SearchModel;\n\tprivate ongoingOperations = 0;\n\tprivate updatingModelForSearch = false;\n\n\tconstructor(\n\t\tgroup: IEditorGroup,\n\t\t@ITelemetryService telemetryService: ITelemetryService,\n\t\t@IThemeService themeService: IThemeService,\n\t\t@IStorageService storageService: IStorageService,\n\t\t@IModelService private readonly modelService: IModelService,\n\t\t@IWorkspaceContextService\n\t\tprivate readonly contextService: IWorkspaceContextService,\n\t\t@ILabelService private readonly labelService: ILabelService,\n\t\t@IInstantiationService instantiationService: IInstantiationService,\n\t\t@IContextViewService\n\t\tprivate readonly contextViewService: IContextViewService,\n\t\t@ICommandService private readonly commandService: ICommandService,\n\t\t@IOpenerService private readonly openerService: IOpenerService,\n\t\t@INotificationService\n\t\tprivate readonly notificationService: INotificationService,\n\t\t@IEditorProgressService progressService: IEditorProgressService,\n\t\t@ITextResourceConfigurationService\n\t\ttextResourceService: ITextResourceConfigurationService,\n\t\t@IEditorGroupsService editorGroupService: IEditorGroupsService,\n\t\t@IEditorService editorService: IEditorService,\n\t\t@IConfigurationService\n\t\tprotected configurationService: IConfigurationService,\n\t\t@IFileService fileService: IFileService,\n\t\t@ILogService private readonly logService: ILogService,\n\t\t@IHoverService private readonly hoverService: IHoverService,\n\t) {\n\t\tsuper(\n\t\t\tSearchEditor.ID,\n\t\t\tgroup,\n\t\t\ttelemetryService,\n\t\t\tinstantiationService,\n\t\t\tstorageService,\n\t\t\ttextResourceService,\n\t\t\tthemeService,\n\t\t\teditorService,\n\t\t\teditorGroupService,\n\t\t\tfileService,\n\t\t);\n\t\tthis.container = DOM.$(\".search-editor\");\n\n\t\tthis.searchOperation = this._register(\n\t\t\tnew LongRunningOperation(progressService),\n\t\t);\n\t\tthis._register((this.messageDisposables = new DisposableStore()));\n\n\t\tthis.searchHistoryDelayer = new Delayer<void>(2000);\n\n\t\tthis.searchModel = this._register(\n\t\t\tthis.instantiationService.createInstance(SearchModel),\n\t\t);\n\t}\n\n\tprotected override createEditor(parent: HTMLElement) {\n\t\tDOM.append(parent, this.container);\n\t\tthis.queryEditorContainer = DOM.append(\n\t\t\tthis.container,\n\t\t\tDOM.$(\".query-container\"),\n\t\t);\n\t\tconst searchResultContainer = DOM.append(\n\t\t\tthis.container,\n\t\t\tDOM.$(\".search-results\"),\n\t\t);\n\t\tsuper.createEditor(searchResultContainer);\n\t\tthis.registerEditorListeners();\n\n\t\tconst scopedContextKeyService = assertIsDefined(\n\t\t\tthis.scopedContextKeyService,\n\t\t);\n\t\tInSearchEditor.bindTo(scopedContextKeyService).set(true);\n\n\t\tthis.createQueryEditor(\n\t\t\tthis.queryEditorContainer,\n\t\t\tthis._register(\n\t\t\t\tthis.instantiationService.createChild(\n\t\t\t\t\tnew ServiceCollection([\n\t\t\t\t\t\tIContextKeyService,\n\t\t\t\t\t\tscopedContextKeyService,\n\t\t\t\t\t]),\n\t\t\t\t),\n\t\t\t),\n\t\t\tSearchContext.InputBoxFocusedKey.bindTo(scopedContextKeyService),\n\t\t);\n\t}\n\n\tprivate createQueryEditor(\n\t\tcontainer: HTMLElement,\n\t\tscopedInstantiationService: IInstantiationService,\n\t\tinputBoxFocusedContextKey: IContextKey<boolean>,\n\t) {\n\t\tconst searchEditorInputboxStyles = getInputBoxStyle({\n\t\t\tinputBorder: searchEditorTextInputBorder,\n\t\t});\n\n\t\tthis.queryEditorWidget = this._register(\n\t\t\tscopedInstantiationService.createInstance(SearchWidget, container, {\n\t\t\t\t_hideReplaceToggle: true,\n\t\t\t\tshowContextToggle: true,\n\t\t\t\tinputBoxStyles: searchEditorInputboxStyles,\n\t\t\t\ttoggleStyles: defaultToggleStyles,\n\t\t\t}),\n\t\t);\n\t\tthis._register(\n\t\t\tthis.queryEditorWidget.onReplaceToggled(() => this.reLayout()),\n\t\t);\n\t\tthis._register(\n\t\t\tthis.queryEditorWidget.onDidHeightChange(() => this.reLayout()),\n\t\t);\n\t\tthis._register(\n\t\t\tthis.queryEditorWidget.onSearchSubmit(({ delay }) =>\n\t\t\t\tthis.triggerSearch({ delay }),\n\t\t\t),\n\t\t);\n\t\tif (this.queryEditorWidget.searchInput) {\n\t\t\tthis._register(\n\t\t\t\tthis.queryEditorWidget.searchInput.onDidOptionChange(() =>\n\t\t\t\t\tthis.triggerSearch({ resetCursor: false }),\n\t\t\t\t),\n\t\t\t);\n\t\t} else {\n\t\t\tthis.logService.warn(\n\t\t\t\t\"SearchEditor: SearchWidget.searchInput is undefined, cannot register onDidOptionChange listener\",\n\t\t\t);\n\t\t}\n\t\tthis._register(\n\t\t\tthis.queryEditorWidget.onDidToggleContext(() =>\n\t\t\t\tthis.triggerSearch({ resetCursor: false }),\n\t\t\t),\n\t\t);\n\n\t\t// Includes/Excludes Dropdown\n\t\tthis.includesExcludesContainer = DOM.append(\n\t\t\tcontainer,\n\t\t\tDOM.$(\".includes-excludes\"),\n\t\t);\n\n\t\t// Toggle query details button\n\t\tconst toggleQueryDetailsLabel = localize(\n\t\t\t\"moreSearch\",\n\t\t\t\"Toggle Search Details\",\n\t\t);\n\t\tthis.toggleQueryDetailsButton = DOM.append(\n\t\t\tthis.includesExcludesContainer,\n\t\t\tDOM.$(\".expand\" + ThemeIcon.asCSSSelector(searchDetailsIcon), {\n\t\t\t\ttabindex: 0,\n\t\t\t\trole: \"button\",\n\t\t\t\t\"aria-label\": toggleQueryDetailsLabel,\n\t\t\t}),\n\t\t);\n\t\tthis._register(\n\t\t\tthis.hoverService.setupManagedHover(\n\t\t\t\tgetDefaultHoverDelegate(\"element\"),\n\t\t\t\tthis.toggleQueryDetailsButton,\n\t\t\t\ttoggleQueryDetailsLabel,\n\t\t\t),\n\t\t);\n\t\tthis._register(\n\t\t\tDOM.addDisposableListener(\n\t\t\t\tthis.toggleQueryDetailsButton,\n\t\t\t\tDOM.EventType.CLICK,\n\t\t\t\t(e) => {\n\t\t\t\t\tDOM.EventHelper.stop(e);\n\t\t\t\t\tthis.toggleIncludesExcludes();\n\t\t\t\t},\n\t\t\t),\n\t\t);\n\t\tthis._register(\n\t\t\tDOM.addDisposableListener(\n\t\t\t\tthis.toggleQueryDetailsButton,\n\t\t\t\tDOM.EventType.KEY_UP,\n\t\t\t\t(e: KeyboardEvent) => {\n\t\t\t\t\tconst event = new StandardKeyboardEvent(e);\n\t\t\t\t\tif (\n\t\t\t\t\t\tevent.equals(KeyCode.Enter) ||\n\t\t\t\t\t\tevent.equals(KeyCode.Space)\n\t\t\t\t\t) {\n\t\t\t\t\t\tDOM.EventHelper.stop(e);\n\t\t\t\t\t\tthis.toggleIncludesExcludes();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t),\n\t\t);\n\t\tthis._register(\n\t\t\tDOM.addDisposableListener(\n\t\t\t\tthis.toggleQueryDetailsButton,\n\t\t\t\tDOM.EventType.KEY_DOWN,\n\t\t\t\t(e: KeyboardEvent) => {\n\t\t\t\t\tconst event = new StandardKeyboardEvent(e);\n\t\t\t\t\tif (event.equals(KeyMod.Shift | KeyCode.Tab)) {\n\t\t\t\t\t\tif (this.queryEditorWidget.isReplaceActive()) {\n\t\t\t\t\t\t\tthis.queryEditorWidget.focusReplaceAllAction();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.queryEditorWidget.isReplaceShown()\n\t\t\t\t\t\t\t\t? this.queryEditorWidget.replaceInput?.focusOnPreserve()\n\t\t\t\t\t\t\t\t: this.queryEditorWidget.focusRegexAction();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tDOM.EventHelper.stop(e);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t),\n\t\t);\n\n\t\t// Includes\n\t\tconst folderIncludesList = DOM.append(\n\t\t\tthis.includesExcludesContainer,\n\t\t\tDOM.$(\".file-types.includes\"),\n\t\t);\n\t\tconst filesToIncludeTitle = localize(\n\t\t\t\"searchScope.includes\",\n\t\t\t\"files to include\",\n\t\t);\n\t\tDOM.append(\n\t\t\tfolderIncludesList,\n\t\t\tDOM.$(\"h4\", undefined, filesToIncludeTitle),\n\t\t);\n\t\tthis.inputPatternIncludes = this._register(\n\t\t\tscopedInstantiationService.createInstance(\n\t\t\t\tIncludePatternInputWidget,\n\t\t\t\tfolderIncludesList,\n\t\t\t\tthis.contextViewService,\n\t\t\t\t{\n\t\t\t\t\tariaLabel: localize(\n\t\t\t\t\t\t\"label.includes\",\n\t\t\t\t\t\t\"Search Include Patterns\",\n\t\t\t\t\t),\n\t\t\t\t\tinputBoxStyles: searchEditorInputboxStyles,\n\t\t\t\t},\n\t\t\t),\n\t\t);\n\t\tthis.inputPatternIncludes.onSubmit((triggeredOnType) =>\n\t\t\tthis.triggerSearch({\n\t\t\t\tresetCursor: false,\n\t\t\t\tdelay: triggeredOnType\n\t\t\t\t\t? this.searchConfig.searchOnTypeDebouncePeriod\n\t\t\t\t\t: 0,\n\t\t\t}),\n\t\t);\n\t\tthis._register(\n\t\t\tthis.inputPatternIncludes.onChangeSearchInEditorsBox(() =>\n\t\t\t\tthis.triggerSearch(),\n\t\t\t),\n\t\t);\n\n\t\t// Excludes\n\t\tconst excludesList = DOM.append(\n\t\t\tthis.includesExcludesContainer,\n\t\t\tDOM.$(\".file-types.excludes\"),\n\t\t);\n\t\tconst excludesTitle = localize(\n\t\t\t\"searchScope.excludes\",\n\t\t\t\"files to exclude\",\n\t\t);\n\t\tDOM.append(excludesList, DOM.$(\"h4\", undefined, excludesTitle));\n\t\tthis.inputPatternExcludes = this._register(\n\t\t\tscopedInstantiationService.createInstance(\n\t\t\t\tExcludePatternInputWidget,\n\t\t\t\texcludesList,\n\t\t\t\tthis.contextViewService,\n\t\t\t\t{\n\t\t\t\t\tariaLabel: localize(\n\t\t\t\t\t\t\"label.excludes\",\n\t\t\t\t\t\t\"Search Exclude Patterns\",\n\t\t\t\t\t),\n\t\t\t\t\tinputBoxStyles: searchEditorInputboxStyles,\n\t\t\t\t},\n\t\t\t),\n\t\t);\n\t\tthis.inputPatternExcludes.onSubmit((triggeredOnType) =>\n\t\t\tthis.triggerSearch({\n\t\t\t\tresetCursor: false,\n\t\t\t\tdelay: triggeredOnType\n\t\t\t\t\t? this.searchConfig.searchOnTypeDebouncePeriod\n\t\t\t\t\t: 0,\n\t\t\t}),\n\t\t);\n\t\tthis._register(\n\t\t\tthis.inputPatternExcludes.onChangeIgnoreBox(() =>\n\t\t\t\tthis.triggerSearch(),\n\t\t\t),\n\t\t);\n\n\t\t// Messages\n\t\tthis.messageBox = DOM.append(\n\t\t\tcontainer,\n\t\t\tDOM.$(\".messages.text-search-provider-messages\"),\n\t\t);\n\n\t\t[\n\t\t\tthis.queryEditorWidget.searchInputFocusTracker,\n\t\t\tthis.queryEditorWidget.replaceInputFocusTracker,\n\t\t\tthis.inputPatternExcludes.inputFocusTracker,\n\t\t\tthis.inputPatternIncludes.inputFocusTracker,\n\t\t].forEach((tracker) => {\n\t\t\tif (!tracker) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis._register(\n\t\t\t\ttracker.onDidFocus(() =>\n\t\t\t\t\tsetTimeout(() => inputBoxFocusedContextKey.set(true), 0),\n\t\t\t\t),\n\t\t\t);\n\t\t\tthis._register(\n\t\t\t\ttracker.onDidBlur(() => inputBoxFocusedContextKey.set(false)),\n\t\t\t);\n\t\t});\n\t}\n\n\tprivate toggleRunAgainMessage(show: boolean) {\n\t\tDOM.clearNode(this.messageBox);\n\t\tthis.messageDisposables.clear();\n\n\t\tif (show) {\n\t\t\tconst runAgainLink = DOM.append(\n\t\t\t\tthis.messageBox,\n\t\t\t\tDOM.$(\n\t\t\t\t\t\"a.pointer.prominent.message\",\n\t\t\t\t\t{},\n\t\t\t\t\tlocalize(\"runSearch\", \"Run Search\"),\n\t\t\t\t),\n\t\t\t);\n\t\t\tthis.messageDisposables.add(\n\t\t\t\tDOM.addDisposableListener(\n\t\t\t\t\trunAgainLink,\n\t\t\t\t\tDOM.EventType.CLICK,\n\t\t\t\t\tasync () => {\n\t\t\t\t\t\tawait this.triggerSearch();\n\t\t\t\t\t\tthis.searchResultEditor.focus();\n\t\t\t\t\t},\n\t\t\t\t),\n\t\t\t);\n\t\t}\n\t}\n\n\tprivate _getContributions(): IEditorContributionDescription[] {\n\t\tconst skipContributions = [UnusualLineTerminatorsDetector.ID];\n\t\treturn EditorExtensionsRegistry.getEditorContributions().filter(\n\t\t\t(c) => skipContributions.indexOf(c.id) === -1,\n\t\t);\n\t}\n\n\tprotected override getCodeEditorWidgetOptions(): ICodeEditorWidgetOptions {\n\t\treturn { contributions: this._getContributions() };\n\t}\n\n\tprivate registerEditorListeners() {\n\t\tthis.searchResultEditor.onMouseUp((e) => {\n\t\t\tif (e.event.detail === 1) {\n\t\t\t\tconst behaviour =\n\t\t\t\t\tthis.searchConfig.searchEditor.singleClickBehaviour;\n\t\t\t\tconst position = e.target.position;\n\t\t\t\tif (position && behaviour === \"peekDefinition\") {\n\t\t\t\t\tconst line =\n\t\t\t\t\t\tthis.searchResultEditor\n\t\t\t\t\t\t\t.getModel()\n\t\t\t\t\t\t\t?.getLineContent(position.lineNumber) ?? \"\";\n\t\t\t\t\tif (\n\t\t\t\t\t\tline.match(FILE_LINE_REGEX) ||\n\t\t\t\t\t\tline.match(RESULT_LINE_REGEX)\n\t\t\t\t\t) {\n\t\t\t\t\t\tthis.searchResultEditor.setSelection(\n\t\t\t\t\t\t\tRange.fromPositions(position),\n\t\t\t\t\t\t);\n\t\t\t\t\t\tthis.commandService.executeCommand(\n\t\t\t\t\t\t\t\"editor.action.peekDefinition\",\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (e.event.detail === 2) {\n\t\t\t\tconst behaviour =\n\t\t\t\t\tthis.searchConfig.searchEditor.doubleClickBehaviour;\n\t\t\t\tconst position = e.target.position;\n\t\t\t\tif (position && behaviour !== \"selectWord\") {\n\t\t\t\t\tconst line =\n\t\t\t\t\t\tthis.searchResultEditor\n\t\t\t\t\t\t\t.getModel()\n\t\t\t\t\t\t\t?.getLineContent(position.lineNumber) ?? \"\";\n\t\t\t\t\tif (line.match(RESULT_LINE_REGEX)) {\n\t\t\t\t\t\tthis.searchResultEditor.setSelection(\n\t\t\t\t\t\t\tRange.fromPositions(position),\n\t\t\t\t\t\t);\n\t\t\t\t\t\tthis.commandService.executeCommand(\n\t\t\t\t\t\t\tbehaviour === \"goToLocation\"\n\t\t\t\t\t\t\t\t? \"editor.action.goToDeclaration\"\n\t\t\t\t\t\t\t\t: \"editor.action.openDeclarationToTheSide\",\n\t\t\t\t\t\t);\n\t\t\t\t\t} else if (line.match(FILE_LINE_REGEX)) {\n\t\t\t\t\t\tthis.searchResultEditor.setSelection(\n\t\t\t\t\t\t\tRange.fromPositions(position),\n\t\t\t\t\t\t);\n\t\t\t\t\t\tthis.commandService.executeCommand(\n\t\t\t\t\t\t\t\"editor.action.peekDefinition\",\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tthis._register(\n\t\t\tthis.searchResultEditor.onDidChangeModelContent(() => {\n\t\t\t\tif (!this.updatingModelForSearch) {\n\t\t\t\t\tthis.getInput()?.setDirty(true);\n\t\t\t\t}\n\t\t\t}),\n\t\t);\n\t}\n\n\toverride getControl() {\n\t\treturn this.searchResultEditor;\n\t}\n\n\toverride focus() {\n\t\tsuper.focus();\n\n\t\tconst viewState = this.loadEditorViewState(this.getInput());\n\t\tif (viewState && viewState.focused === \"editor\") {\n\t\t\tthis.searchResultEditor.focus();\n\t\t} else {\n\t\t\tthis.queryEditorWidget.focus();\n\t\t}\n\t}\n\n\tfocusSearchInput() {\n\t\tthis.queryEditorWidget.searchInput?.focus();\n\t}\n\n\tfocusFilesToIncludeInput() {\n\t\tif (!this.showingIncludesExcludes) {\n\t\t\tthis.toggleIncludesExcludes(true);\n\t\t}\n\t\tthis.inputPatternIncludes.focus();\n\t}\n\n\tfocusFilesToExcludeInput() {\n\t\tif (!this.showingIncludesExcludes) {\n\t\t\tthis.toggleIncludesExcludes(true);\n\t\t}\n\t\tthis.inputPatternExcludes.focus();\n\t}\n\n\tfocusNextInput() {\n\t\tif (this.queryEditorWidget.searchInputHasFocus()) {\n\t\t\tif (this.showingIncludesExcludes) {\n\t\t\t\tthis.inputPatternIncludes.focus();\n\t\t\t} else {\n\t\t\t\tthis.searchResultEditor.focus();\n\t\t\t}\n\t\t} else if (this.inputPatternIncludes.inputHasFocus()) {\n\t\t\tthis.inputPatternExcludes.focus();\n\t\t} else if (this.inputPatternExcludes.inputHasFocus()) {\n\t\t\tthis.searchResultEditor.focus();\n\t\t} else if (this.searchResultEditor.hasWidgetFocus()) {\n\t\t\t// pass\n\t\t}\n\t}\n\n\tfocusPrevInput() {\n\t\tif (this.queryEditorWidget.searchInputHasFocus()) {\n\t\t\tthis.searchResultEditor.focus(); // wrap\n\t\t} else if (this.inputPatternIncludes.inputHasFocus()) {\n\t\t\tthis.queryEditorWidget.searchInput?.focus();\n\t\t} else if (this.inputPatternExcludes.inputHasFocus()) {\n\t\t\tthis.inputPatternIncludes.focus();\n\t\t} else if (this.searchResultEditor.hasWidgetFocus()) {\n\t\t\t// unreachable.\n\t\t}\n\t}\n\n\tsetQuery(query: string) {\n\t\tthis.queryEditorWidget.searchInput?.setValue(query);\n\t}\n\n\tselectQuery() {\n\t\tthis.queryEditorWidget.searchInput?.select();\n\t}\n\n\ttoggleWholeWords() {\n\t\tthis.queryEditorWidget.searchInput?.setWholeWords(\n\t\t\t!this.queryEditorWidget.searchInput.getWholeWords(),\n\t\t);\n\t\tthis.triggerSearch({ resetCursor: false });\n\t}\n\n\ttoggleRegex() {\n\t\tthis.queryEditorWidget.searchInput?.setRegex(\n\t\t\t!this.queryEditorWidget.searchInput.getRegex(),\n\t\t);\n\t\tthis.triggerSearch({ resetCursor: false });\n\t}\n\n\ttoggleCaseSensitive() {\n\t\tthis.queryEditorWidget.searchInput?.setCaseSensitive(\n\t\t\t!this.queryEditorWidget.searchInput.getCaseSensitive(),\n\t\t);\n\t\tthis.triggerSearch({ resetCursor: false });\n\t}\n\n\ttoggleContextLines() {\n\t\tthis.queryEditorWidget.toggleContextLines();\n\t}\n\n\tmodifyContextLines(increase: boolean) {\n\t\tthis.queryEditorWidget.modifyContextLines(increase);\n\t}\n\n\ttoggleQueryDetails(shouldShow?: boolean) {\n\t\tthis.toggleIncludesExcludes(shouldShow);\n\t}\n\n\tdeleteResultBlock() {\n\t\tconst linesToDelete = new Set<number>();\n\n\t\tconst selections = this.searchResultEditor.getSelections();\n\t\tconst model = this.searchResultEditor.getModel();\n\t\tif (!(selections && model)) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst maxLine = model.getLineCount();\n\t\tconst minLine = 1;\n\n\t\tconst deleteUp = (start: number) => {\n\t\t\tfor (let cursor = start; cursor >= minLine; cursor--) {\n\t\t\t\tconst line = model.getLineContent(cursor);\n\t\t\t\tlinesToDelete.add(cursor);\n\t\t\t\tif (line[0] !== undefined && line[0] !== \" \") {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tconst deleteDown = (start: number): number | undefined => {\n\t\t\tlinesToDelete.add(start);\n\t\t\tfor (let cursor = start + 1; cursor <= maxLine; cursor++) {\n\t\t\t\tconst line = model.getLineContent(cursor);\n\t\t\t\tif (line[0] !== undefined && line[0] !== \" \") {\n\t\t\t\t\treturn cursor;\n\t\t\t\t}\n\t\t\t\tlinesToDelete.add(cursor);\n\t\t\t}\n\t\t\treturn;\n\t\t};\n\n\t\tconst endingCursorLines: Array<number | undefined> = [];\n\t\tfor (const selection of selections) {\n\t\t\tconst lineNumber = selection.startLineNumber;\n\t\t\tendingCursorLines.push(deleteDown(lineNumber));\n\t\t\tdeleteUp(lineNumber);\n\t\t\tfor (\n\t\t\t\tlet inner = selection.startLineNumber;\n\t\t\t\tinner <= selection.endLineNumber;\n\t\t\t\tinner++\n\t\t\t) {\n\t\t\t\tlinesToDelete.add(inner);\n\t\t\t}\n\t\t}\n\n\t\tif (endingCursorLines.length === 0) {\n\t\t\tendingCursorLines.push(1);\n\t\t}\n\n\t\tconst isDefined = <T>(x: T | undefined): x is T => x !== undefined;\n\n\t\tmodel.pushEditOperations(\n\t\t\tthis.searchResultEditor.getSelections(),\n\t\t\t[...linesToDelete].map((line) => ({\n\t\t\t\trange: new Range(line, 1, line + 1, 1),\n\t\t\t\ttext: \"\",\n\t\t\t})),\n\t\t\t() =>\n\t\t\t\tendingCursorLines\n\t\t\t\t\t.filter(isDefined)\n\t\t\t\t\t.map((line) => new Selection(line, 1, line, 1)),\n\t\t);\n\t}\n\n\tcleanState() {\n\t\tthis.getInput()?.setDirty(false);\n\t}\n\n\tprivate get searchConfig(): ISearchConfigurationProperties {\n\t\treturn this.configurationService.getValue<ISearchConfigurationProperties>(\n\t\t\t\"search\",\n\t\t);\n\t}\n\n\tprivate iterateThroughMatches(reverse: boolean) {\n\t\tconst model = this.searchResultEditor.getModel();\n\t\tif (!model) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst lastLine = model.getLineCount() ?? 1;\n\t\tconst lastColumn = model.getLineLength(lastLine);\n\n\t\tconst fallbackStart = reverse\n\t\t\t? new Position(lastLine, lastColumn)\n\t\t\t: new Position(1, 1);\n\n\t\tconst currentPosition =\n\t\t\tthis.searchResultEditor.getSelection()?.getStartPosition() ??\n\t\t\tfallbackStart;\n\n\t\tconst matchRanges = this.getInput()?.getMatchRanges();\n\t\tif (!matchRanges) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst matchRange = (reverse ? findPrevRange : findNextRange)(\n\t\t\tmatchRanges,\n\t\t\tcurrentPosition,\n\t\t);\n\n\t\tthis.searchResultEditor.setSelection(matchRange);\n\t\tthis.searchResultEditor.revealLineInCenterIfOutsideViewport(\n\t\t\tmatchRange.startLineNumber,\n\t\t);\n\t\tthis.searchResultEditor.focus();\n\n\t\tconst matchLineText = model.getLineContent(matchRange.startLineNumber);\n\t\tconst matchText = model.getValueInRange(matchRange);\n\t\tlet file = \"\";\n\t\tfor (let line = matchRange.startLineNumber; line >= 1; line--) {\n\t\t\tconst lineText = model.getValueInRange(new Range(line, 1, line, 2));\n\t\t\tif (lineText !== \" \") {\n\t\t\t\tfile = model.getLineContent(line);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\talert(\n\t\t\tlocalize(\n\t\t\t\t\"searchResultItem\",\n\t\t\t\t\"Matched {0} at {1} in file {2}\",\n\t\t\t\tmatchText,\n\t\t\t\tmatchLineText,\n\t\t\t\tfile.slice(0, file.length - 1),\n\t\t\t),\n\t\t);\n\t}\n\n\tfocusNextResult() {\n\t\tthis.iterateThroughMatches(false);\n\t}\n\n\tfocusPreviousResult() {\n\t\tthis.iterateThroughMatches(true);\n\t}\n\n\tfocusAllResults() {\n\t\tthis.searchResultEditor.setSelections(\n\t\t\t(this.getInput()?.getMatchRanges() ?? []).map(\n\t\t\t\t(range) =>\n\t\t\t\t\tnew Selection(\n\t\t\t\t\t\trange.startLineNumber,\n\t\t\t\t\t\trange.startColumn,\n\t\t\t\t\t\trange.endLineNumber,\n\t\t\t\t\t\trange.endColumn,\n\t\t\t\t\t),\n\t\t\t),\n\t\t);\n\t\tthis.searchResultEditor.focus();\n\t}\n\n\tasync triggerSearch(_options?: {\n\t\tresetCursor?: boolean;\n\t\tdelay?: number;\n\t\tfocusResults?: boolean;\n\t}) {\n\t\tconst focusResults =\n\t\t\tthis.searchConfig.searchEditor.focusResultsOnSearch;\n\n\t\t// If _options don't define focusResult field, then use the setting\n\t\tif (_options === undefined) {\n\t\t\t_options = { focusResults: focusResults };\n\t\t} else if (_options.focusResults === undefined) {\n\t\t\t_options.focusResults = focusResults;\n\t\t}\n\n\t\tconst options = { resetCursor: true, delay: 0, ..._options };\n\n\t\tif (!this.queryEditorWidget.searchInput?.inputBox.isInputValid()) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!this.pauseSearching) {\n\t\t\tawait this.runSearchDelayer.trigger(async () => {\n\t\t\t\tthis.toggleRunAgainMessage(false);\n\t\t\t\tawait this.doRunSearch();\n\t\t\t\tif (options.resetCursor) {\n\t\t\t\t\tthis.searchResultEditor.setPosition(new Position(1, 1));\n\t\t\t\t\tthis.searchResultEditor.setScrollPosition({\n\t\t\t\t\t\tscrollTop: 0,\n\t\t\t\t\t\tscrollLeft: 0,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tif (options.focusResults) {\n\t\t\t\t\tthis.searchResultEditor.focus();\n\t\t\t\t}\n\t\t\t}, options.delay);\n\t\t}\n\t}\n\n\tprivate readConfigFromWidget(): SearchConfiguration {\n\t\treturn {\n\t\t\tisCaseSensitive:\n\t\t\t\tthis.queryEditorWidget.searchInput?.getCaseSensitive() ?? false,\n\t\t\tcontextLines: this.queryEditorWidget.getContextLines(),\n\t\t\tfilesToExclude: this.inputPatternExcludes.getValue(),\n\t\t\tfilesToInclude: this.inputPatternIncludes.getValue(),\n\t\t\tquery: this.queryEditorWidget.searchInput?.getValue() ?? \"\",\n\t\t\tisRegexp: this.queryEditorWidget.searchInput?.getRegex() ?? false,\n\t\t\tmatchWholeWord:\n\t\t\t\tthis.queryEditorWidget.searchInput?.getWholeWords() ?? false,\n\t\t\tuseExcludeSettingsAndIgnoreFiles:\n\t\t\t\tthis.inputPatternExcludes.useExcludesAndIgnoreFiles(),\n\t\t\tonlyOpenEditors:\n\t\t\t\tthis.inputPatternIncludes.onlySearchInOpenEditors(),\n\t\t\tshowIncludesExcludes: this.showingIncludesExcludes,\n\t\t\tnotebookSearchConfig: {\n\t\t\t\tincludeMarkupInput:\n\t\t\t\t\tthis.queryEditorWidget.getNotebookFilters().markupInput,\n\t\t\t\tincludeMarkupPreview:\n\t\t\t\t\tthis.queryEditorWidget.getNotebookFilters().markupPreview,\n\t\t\t\tincludeCodeInput:\n\t\t\t\t\tthis.queryEditorWidget.getNotebookFilters().codeInput,\n\t\t\t\tincludeOutput:\n\t\t\t\t\tthis.queryEditorWidget.getNotebookFilters().codeOutput,\n\t\t\t},\n\t\t};\n\t}\n\n\tprivate async doRunSearch() {\n\t\tthis.searchModel.cancelSearch(true);\n\n\t\tconst startInput = this.getInput();\n\t\tif (!startInput) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.searchHistoryDelayer.trigger(() => {\n\t\t\tthis.queryEditorWidget.searchInput?.onSearchSubmit();\n\t\t\tthis.inputPatternExcludes.onSearchSubmit();\n\t\t\tthis.inputPatternIncludes.onSearchSubmit();\n\t\t});\n\n\t\tconst config = this.readConfigFromWidget();\n\n\t\tif (!config.query) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst content: IPatternInfo = {\n\t\t\tpattern: config.query,\n\t\t\tisRegExp: config.isRegexp,\n\t\t\tisCaseSensitive: config.isCaseSensitive,\n\t\t\tisWordMatch: config.matchWholeWord,\n\t\t};\n\n\t\tconst options: ITextQueryBuilderOptions = {\n\t\t\t_reason: \"searchEditor\",\n\t\t\textraFileResources: this.instantiationService.invokeFunction(\n\t\t\t\tgetOutOfWorkspaceEditorResources,\n\t\t\t),\n\t\t\tmaxResults: this.searchConfig.maxResults ?? undefined,\n\t\t\tdisregardIgnoreFiles:\n\t\t\t\t!config.useExcludeSettingsAndIgnoreFiles || undefined,\n\t\t\tdisregardExcludeSettings:\n\t\t\t\t!config.useExcludeSettingsAndIgnoreFiles || undefined,\n\t\t\texcludePattern: [{ pattern: config.filesToExclude }],\n\t\t\tincludePattern: config.filesToInclude,\n\t\t\tonlyOpenEditors: config.onlyOpenEditors,\n\t\t\tpreviewOptions: {\n\t\t\t\tmatchLines: 1,\n\t\t\t\tcharsPerLine: 1000,\n\t\t\t},\n\t\t\tsurroundingContext: config.contextLines,\n\t\t\tisSmartCase: this.searchConfig.smartCase,\n\t\t\texpandPatterns: true,\n\t\t\tnotebookSearchConfig: {\n\t\t\t\tincludeMarkupInput:\n\t\t\t\t\tconfig.notebookSearchConfig.includeMarkupInput,\n\t\t\t\tincludeMarkupPreview:\n\t\t\t\t\tconfig.notebookSearchConfig.includeMarkupPreview,\n\t\t\t\tincludeCodeInput: config.notebookSearchConfig.includeCodeInput,\n\t\t\t\tincludeOutput: config.notebookSearchConfig.includeOutput,\n\t\t\t},\n\t\t};\n\n\t\tconst folderResources = this.contextService.getWorkspace().folders;\n\t\tlet query: ITextQuery;\n\t\ttry {\n\t\t\tconst queryBuilder =\n\t\t\t\tthis.instantiationService.createInstance(QueryBuilder);\n\t\t\tquery = queryBuilder.text(\n\t\t\t\tcontent,\n\t\t\t\tfolderResources.map((folder) => folder.uri),\n\t\t\t\toptions,\n\t\t\t);\n\t\t} catch (err) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.searchOperation.start(500);\n\t\tthis.ongoingOperations++;\n\n\t\tconst { configurationModel } = await startInput.resolveModels();\n\t\tconfigurationModel.updateConfig(config);\n\t\tconst result = this.searchModel.search(query);\n\t\tstartInput.ongoingSearchOperation = result.asyncResults.finally(() => {\n\t\t\tthis.ongoingOperations--;\n\t\t\tif (this.ongoingOperations === 0) {\n\t\t\t\tthis.searchOperation.stop();\n\t\t\t}\n\t\t});\n\n\t\tconst searchOperation = await startInput.ongoingSearchOperation;\n\t\tawait this.onSearchComplete(searchOperation, config, startInput);\n\t}\n\n\tprivate async onSearchComplete(\n\t\tsearchOperation: ISearchComplete,\n\t\tstartConfig: SearchConfiguration,\n\t\tstartInput: SearchEditorInput,\n\t) {\n\t\tconst input = this.getInput();\n\t\tif (\n\t\t\t!input ||\n\t\t\tinput !== startInput ||\n\t\t\tJSON.stringify(startConfig) !==\n\t\t\t\tJSON.stringify(this.readConfigFromWidget())\n\t\t) {\n\t\t\treturn;\n\t\t}\n\n\t\tinput.ongoingSearchOperation = undefined;\n\n\t\tconst sortOrder = this.searchConfig.sortOrder;\n\t\tif (sortOrder === SearchSortOrder.Modified) {\n\t\t\tawait this.retrieveFileStats(this.searchModel.searchResult);\n\t\t}\n\n\t\tconst controller = ReferencesController.get(this.searchResultEditor);\n\t\tcontroller?.closeWidget(false);\n\t\tconst labelFormatter = (uri: URI): string =>\n\t\t\tthis.labelService.getUriLabel(uri, { relative: true });\n\t\tconst results = serializeSearchResultForEditor(\n\t\t\tthis.searchModel.searchResult,\n\t\t\tstartConfig.filesToInclude,\n\t\t\tstartConfig.filesToExclude,\n\t\t\tstartConfig.contextLines,\n\t\t\tlabelFormatter,\n\t\t\tsortOrder,\n\t\t\tsearchOperation?.limitHit,\n\t\t);\n\t\tconst { resultsModel } = await input.resolveModels();\n\t\tthis.updatingModelForSearch = true;\n\t\tthis.modelService.updateModel(resultsModel, results.text);\n\t\tthis.updatingModelForSearch = false;\n\n\t\tif (searchOperation && searchOperation.messages) {\n\t\t\tfor (const message of searchOperation.messages) {\n\t\t\t\tthis.addMessage(message);\n\t\t\t}\n\t\t}\n\t\tthis.reLayout();\n\n\t\tinput.setDirty(!input.hasCapability(EditorInputCapabilities.Untitled));\n\t\tinput.setMatchRanges(results.matchRanges);\n\t}\n\n\tprivate addMessage(message: TextSearchCompleteMessage) {\n\t\tlet messageBox: HTMLElement;\n\t\tif (this.messageBox.firstChild) {\n\t\t\tmessageBox = this.messageBox.firstChild as HTMLElement;\n\t\t} else {\n\t\t\tmessageBox = DOM.append(this.messageBox, DOM.$(\".message\"));\n\t\t}\n\n\t\tDOM.append(\n\t\t\tmessageBox,\n\t\t\trenderSearchMessage(\n\t\t\t\tmessage,\n\t\t\t\tthis.instantiationService,\n\t\t\t\tthis.notificationService,\n\t\t\t\tthis.openerService,\n\t\t\t\tthis.commandService,\n\t\t\t\tthis.messageDisposables,\n\t\t\t\t() => this.triggerSearch(),\n\t\t\t),\n\t\t);\n\t}\n\n\tprivate async retrieveFileStats(searchResult: SearchResult): Promise<void> {\n\t\tconst files = searchResult\n\t\t\t.matches()\n\t\t\t.filter((f) => !f.fileStat)\n\t\t\t.map((f) => f.resolveFileStat(this.fileService));\n\t\tawait Promise.all(files);\n\t}\n\n\toverride layout(dimension: DOM.Dimension) {\n\t\tthis.dimension = dimension;\n\t\tthis.reLayout();\n\t}\n\n\tgetSelected() {\n\t\tconst selection = this.searchResultEditor.getSelection();\n\t\tif (selection) {\n\t\t\treturn (\n\t\t\t\tthis.searchResultEditor\n\t\t\t\t\t.getModel()\n\t\t\t\t\t?.getValueInRange(selection) ?? \"\"\n\t\t\t);\n\t\t}\n\t\treturn \"\";\n\t}\n\n\tprivate reLayout() {\n\t\tif (this.dimension) {\n\t\t\tthis.queryEditorWidget.setWidth(\n\t\t\t\tthis.dimension.width - 28 /* container margin */,\n\t\t\t);\n\t\t\tthis.searchResultEditor.layout({\n\t\t\t\theight:\n\t\t\t\t\tthis.dimension.height -\n\t\t\t\t\tDOM.getTotalHeight(this.queryEditorContainer),\n\t\t\t\twidth: this.dimension.width,\n\t\t\t});\n\t\t\tthis.inputPatternExcludes.setWidth(\n\t\t\t\tthis.dimension.width - 28 /* container margin */,\n\t\t\t);\n\t\t\tthis.inputPatternIncludes.setWidth(\n\t\t\t\tthis.dimension.width - 28 /* container margin */,\n\t\t\t);\n\t\t}\n\t}\n\n\tprivate getInput(): SearchEditorInput | undefined {\n\t\treturn this.input as SearchEditorInput;\n\t}\n\n\tprivate priorConfig: Partial<Readonly<SearchConfiguration>> | undefined;\n\tsetSearchConfig(config: Partial<Readonly<SearchConfiguration>>) {\n\t\tthis.priorConfig = config;\n\t\tif (config.query !== undefined) {\n\t\t\tthis.queryEditorWidget.setValue(config.query);\n\t\t}\n\t\tif (config.isCaseSensitive !== undefined) {\n\t\t\tthis.queryEditorWidget.searchInput?.setCaseSensitive(\n\t\t\t\tconfig.isCaseSensitive,\n\t\t\t);\n\t\t}\n\t\tif (config.isRegexp !== undefined) {\n\t\t\tthis.queryEditorWidget.searchInput?.setRegex(config.isRegexp);\n\t\t}\n\t\tif (config.matchWholeWord !== undefined) {\n\t\t\tthis.queryEditorWidget.searchInput?.setWholeWords(\n\t\t\t\tconfig.matchWholeWord,\n\t\t\t);\n\t\t}\n\t\tif (config.contextLines !== undefined) {\n\t\t\tthis.queryEditorWidget.setContextLines(config.contextLines);\n\t\t}\n\t\tif (config.filesToExclude !== undefined) {\n\t\t\tthis.inputPatternExcludes.setValue(config.filesToExclude);\n\t\t}\n\t\tif (config.filesToInclude !== undefined) {\n\t\t\tthis.inputPatternIncludes.setValue(config.filesToInclude);\n\t\t}\n\t\tif (config.onlyOpenEditors !== undefined) {\n\t\t\tthis.inputPatternIncludes.setOnlySearchInOpenEditors(\n\t\t\t\tconfig.onlyOpenEditors,\n\t\t\t);\n\t\t}\n\t\tif (config.useExcludeSettingsAndIgnoreFiles !== undefined) {\n\t\t\tthis.inputPatternExcludes.setUseExcludesAndIgnoreFiles(\n\t\t\t\tconfig.useExcludeSettingsAndIgnoreFiles,\n\t\t\t);\n\t\t}\n\t\tif (config.showIncludesExcludes !== undefined) {\n\t\t\tthis.toggleIncludesExcludes(config.showIncludesExcludes);\n\t\t}\n\t}\n\n\toverride async setInput(\n\t\tnewInput: SearchEditorInput,\n\t\toptions: IEditorOptions | undefined,\n\t\tcontext: IEditorOpenContext,\n\t\ttoken: CancellationToken,\n\t): Promise<void> {\n\t\tawait super.setInput(newInput, options, context, token);\n\t\tif (token.isCancellationRequested) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst { configurationModel, resultsModel } =\n\t\t\tawait newInput.resolveModels();\n\t\tif (token.isCancellationRequested) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.searchResultEditor.setModel(resultsModel);\n\t\tthis.pauseSearching = true;\n\n\t\tthis.toggleRunAgainMessage(\n\t\t\t!newInput.ongoingSearchOperation &&\n\t\t\t\tresultsModel.getLineCount() === 1 &&\n\t\t\t\tresultsModel.getValueLength() === 0 &&\n\t\t\t\tconfigurationModel.config.query !== \"\",\n\t\t);\n\n\t\tthis.setSearchConfig(configurationModel.config);\n\n\t\tthis._register(\n\t\t\tconfigurationModel.onConfigDidUpdate((newConfig) => {\n\t\t\t\tif (newConfig !== this.priorConfig) {\n\t\t\t\t\tthis.pauseSearching = true;\n\t\t\t\t\tthis.setSearchConfig(newConfig);\n\t\t\t\t\tthis.pauseSearching = false;\n\t\t\t\t}\n\t\t\t}),\n\t\t);\n\n\t\tthis.restoreViewState(context);\n\n\t\tif (!options?.preserveFocus) {\n\t\t\tthis.focus();\n\t\t}\n\n\t\tthis.pauseSearching = false;\n\n\t\tif (newInput.ongoingSearchOperation) {\n\t\t\tconst existingConfig = this.readConfigFromWidget();\n\t\t\tnewInput.ongoingSearchOperation.then((complete) => {\n\t\t\t\tthis.onSearchComplete(complete, existingConfig, newInput);\n\t\t\t});\n\t\t}\n\t}\n\n\tprivate toggleIncludesExcludes(_shouldShow?: boolean): void {\n\t\tconst cls = \"expanded\";\n\t\tconst shouldShow =\n\t\t\t_shouldShow ??\n\t\t\t!this.includesExcludesContainer.classList.contains(cls);\n\n\t\tif (shouldShow) {\n\t\t\tthis.toggleQueryDetailsButton.setAttribute(\"aria-expanded\", \"true\");\n\t\t\tthis.includesExcludesContainer.classList.add(cls);\n\t\t} else {\n\t\t\tthis.toggleQueryDetailsButton.setAttribute(\n\t\t\t\t\"aria-expanded\",\n\t\t\t\t\"false\",\n\t\t\t);\n\t\t\tthis.includesExcludesContainer.classList.remove(cls);\n\t\t}\n\n\t\tthis.showingIncludesExcludes =\n\t\t\tthis.includesExcludesContainer.classList.contains(cls);\n\n\t\tthis.reLayout();\n\t}\n\n\tprotected override toEditorViewStateResource(\n\t\tinput: EditorInput,\n\t): URI | undefined {\n\t\tif (input.typeId === SearchEditorInputTypeId) {\n\t\t\treturn (input as SearchEditorInput).modelUri;\n\t\t}\n\n\t\treturn undefined;\n\t}\n\n\tprotected override computeEditorViewState(\n\t\tresource: URI,\n\t): SearchEditorViewState | undefined {\n\t\tconst control = this.getControl();\n\t\tconst editorViewState = control.saveViewState();\n\t\tif (!editorViewState) {\n\t\t\treturn undefined;\n\t\t}\n\t\tif (resource.toString() !== this.getInput()?.modelUri.toString()) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\treturn {\n\t\t\t...editorViewState,\n\t\t\tfocused: this.searchResultEditor.hasWidgetFocus()\n\t\t\t\t? \"editor\"\n\t\t\t\t: \"input\",\n\t\t};\n\t}\n\n\tprotected tracksEditorViewState(input: EditorInput): boolean {\n\t\treturn input.typeId === SearchEditorInputTypeId;\n\t}\n\n\tprivate restoreViewState(context: IEditorOpenContext) {\n\t\tconst viewState = this.loadEditorViewState(this.getInput(), context);\n\t\tif (viewState) {\n\t\t\tthis.searchResultEditor.restoreViewState(viewState);\n\t\t}\n\t}\n\n\tgetAriaLabel() {\n\t\treturn this.getInput()?.getName() ?? localize(\"searchEditor\", \"Search\");\n\t}\n}\n\nconst searchEditorTextInputBorder = registerColor(\n\t\"searchEditor.textInputBorder\",\n\tinputBorder,\n\tlocalize(\"textInputBoxBorder\", \"Search editor text input box border.\"),\n);\n\nfunction findNextRange(matchRanges: Range[], currentPosition: Position) {\n\tfor (const matchRange of matchRanges) {\n\t\tif (Position.isBefore(currentPosition, matchRange.getStartPosition())) {\n\t\t\treturn matchRange;\n\t\t}\n\t}\n\treturn matchRanges[0];\n}\n\nfunction findPrevRange(matchRanges: Range[], currentPosition: Position) {\n\tfor (let i = matchRanges.length - 1; i >= 0; i--) {\n\t\tconst matchRange = matchRanges[i];\n\t\tif (Position.isBefore(matchRange.getStartPosition(), currentPosition)) {\n\t\t\t{\n\t\t\t\treturn matchRange;\n\t\t\t}\n\t\t}\n\t}\n\treturn matchRanges[matchRanges.length - 1];\n}\n"],
  "mappings": "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",
  "names": []
}
