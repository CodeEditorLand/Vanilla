{
  "version": 3,
  "sources": ["../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/contrib/markers/browser/markersTreeViewer.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as dom from \"../../../../base/browser/dom.js\";\nimport { ActionViewItem } from \"../../../../base/browser/ui/actionbar/actionViewItems.js\";\nimport { ActionBar } from \"../../../../base/browser/ui/actionbar/actionbar.js\";\nimport { CountBadge } from \"../../../../base/browser/ui/countBadge/countBadge.js\";\nimport { HighlightedLabel } from \"../../../../base/browser/ui/highlightedlabel/highlightedLabel.js\";\nimport type { IManagedHover } from \"../../../../base/browser/ui/hover/hover.js\";\nimport { getDefaultHoverDelegate } from \"../../../../base/browser/ui/hover/hoverDelegateFactory.js\";\nimport type { IListVirtualDelegate } from \"../../../../base/browser/ui/list/list.js\";\nimport type { IListAccessibilityProvider } from \"../../../../base/browser/ui/list/listWidget.js\";\nimport {\n\ttype ITreeFilter,\n\ttype ITreeNode,\n\ttype ITreeRenderer,\n\ttype TreeFilterResult,\n\tTreeVisibility,\n} from \"../../../../base/browser/ui/tree/tree.js\";\nimport { Action, type IAction } from \"../../../../base/common/actions.js\";\nimport {\n\ttype CancelablePromise,\n\tDelayer,\n\tcreateCancelablePromise,\n} from \"../../../../base/common/async.js\";\nimport { Codicon } from \"../../../../base/common/codicons.js\";\nimport { Emitter, type Event } from \"../../../../base/common/event.js\";\nimport type { IMatch } from \"../../../../base/common/filters.js\";\nimport {\n\tDisposable,\n\tDisposableStore,\n\ttype IDisposable,\n\tdispose,\n\ttoDisposable,\n} from \"../../../../base/common/lifecycle.js\";\nimport * as paths from \"../../../../base/common/path.js\";\nimport { basename, isEqual } from \"../../../../base/common/resources.js\";\nimport Severity from \"../../../../base/common/severity.js\";\nimport { ThemeIcon } from \"../../../../base/common/themables.js\";\nimport { isUndefinedOrNull } from \"../../../../base/common/types.js\";\nimport type { URI } from \"../../../../base/common/uri.js\";\nimport { Range } from \"../../../../editor/common/core/range.js\";\nimport { CodeActionTriggerType } from \"../../../../editor/common/languages.js\";\nimport type { ITextModel } from \"../../../../editor/common/model.js\";\nimport { ILanguageFeaturesService } from \"../../../../editor/common/services/languageFeatures.js\";\nimport { IModelService } from \"../../../../editor/common/services/model.js\";\nimport {\n\tApplyCodeActionReason,\n\tapplyCodeAction,\n\tgetCodeActions,\n} from \"../../../../editor/contrib/codeAction/browser/codeAction.js\";\nimport {\n\tCodeActionKind,\n\ttype CodeActionSet,\n\tCodeActionTriggerSource,\n} from \"../../../../editor/contrib/codeAction/common/types.js\";\nimport { localize } from \"../../../../nls.js\";\nimport {\n\ttype IContextKey,\n\tIContextKeyService,\n} from \"../../../../platform/contextkey/common/contextkey.js\";\nimport { IHoverService } from \"../../../../platform/hover/browser/hover.js\";\nimport { IInstantiationService } from \"../../../../platform/instantiation/common/instantiation.js\";\nimport { ILabelService } from \"../../../../platform/label/common/label.js\";\nimport { unsupportedSchemas } from \"../../../../platform/markers/common/markerService.js\";\nimport {\n\ttype IMarker,\n\tMarkerSeverity,\n} from \"../../../../platform/markers/common/markers.js\";\nimport { Link } from \"../../../../platform/opener/browser/link.js\";\nimport { IOpenerService } from \"../../../../platform/opener/common/opener.js\";\nimport { Progress } from \"../../../../platform/progress/common/progress.js\";\nimport { SeverityIcon } from \"../../../../platform/severityIcon/browser/severityIcon.js\";\nimport { defaultCountBadgeStyles } from \"../../../../platform/theme/browser/defaultStyles.js\";\nimport { registerIcon } from \"../../../../platform/theme/common/iconRegistry.js\";\nimport type {\n\tIResourceLabel,\n\tResourceLabels,\n} from \"../../../browser/labels.js\";\nimport {\n\tACTIVE_GROUP,\n\tIEditorService,\n} from \"../../../services/editor/common/editorService.js\";\nimport { MarkersContextKeys, MarkersViewMode } from \"../common/markers.js\";\nimport { FilterOptions } from \"./markersFilterOptions.js\";\nimport {\n\tMarker,\n\ttype MarkerElement,\n\tMarkerTableItem,\n\tRelatedInformation,\n\tResourceMarkers,\n} from \"./markersModel.js\";\nimport {\n\tQuickFixAction,\n\tQuickFixActionViewItem,\n} from \"./markersViewActions.js\";\nimport Messages from \"./messages.js\";\n\ninterface IResourceMarkersTemplateData {\n\treadonly resourceLabel: IResourceLabel;\n\treadonly count: CountBadge;\n}\n\ninterface IMarkerTemplateData {\n\tmarkerWidget: MarkerWidget;\n}\n\ninterface IRelatedInformationTemplateData {\n\tresourceLabel: HighlightedLabel;\n\tlnCol: HTMLElement;\n\tdescription: HighlightedLabel;\n}\n\nexport class MarkersWidgetAccessibilityProvider\n\timplements IListAccessibilityProvider<MarkerElement | MarkerTableItem>\n{\n\tconstructor(@ILabelService private readonly labelService: ILabelService) { }\n\n\tgetWidgetAriaLabel(): string {\n\t\treturn localize(\"problemsView\", \"Problems View\");\n\t}\n\n\tpublic getAriaLabel(\n\t\telement: MarkerElement | MarkerTableItem,\n\t): string | null {\n\t\tif (element instanceof ResourceMarkers) {\n\t\t\tconst path =\n\t\t\t\tthis.labelService.getUriLabel(element.resource, {\n\t\t\t\t\trelative: true,\n\t\t\t\t}) || element.resource.fsPath;\n\t\t\treturn Messages.MARKERS_TREE_ARIA_LABEL_RESOURCE(\n\t\t\t\telement.markers.length,\n\t\t\t\telement.name,\n\t\t\t\tpaths.dirname(path),\n\t\t\t);\n\t\t}\n\t\tif (element instanceof Marker || element instanceof MarkerTableItem) {\n\t\t\treturn Messages.MARKERS_TREE_ARIA_LABEL_MARKER(element);\n\t\t}\n\t\tif (element instanceof RelatedInformation) {\n\t\t\treturn Messages.MARKERS_TREE_ARIA_LABEL_RELATED_INFORMATION(\n\t\t\t\telement.raw,\n\t\t\t);\n\t\t}\n\t\treturn null;\n\t}\n}\n\nenum TemplateId {\n\tResourceMarkers = \"rm\",\n\tMarker = \"m\",\n\tRelatedInformation = \"ri\",\n}\n\nexport class VirtualDelegate implements IListVirtualDelegate<MarkerElement> {\n\tstatic LINE_HEIGHT = 22;\n\n\tconstructor(private readonly markersViewState: MarkersViewModel) {}\n\n\tgetHeight(element: MarkerElement): number {\n\t\tif (element instanceof Marker) {\n\t\t\tconst viewModel = this.markersViewState.getViewModel(element);\n\t\t\tconst noOfLines =\n\t\t\t\t!viewModel || viewModel.multiline ? element.lines.length : 1;\n\t\t\treturn noOfLines * VirtualDelegate.LINE_HEIGHT;\n\t\t}\n\t\treturn VirtualDelegate.LINE_HEIGHT;\n\t}\n\n\tgetTemplateId(element: MarkerElement): string {\n\t\tif (element instanceof ResourceMarkers) {\n\t\t\treturn TemplateId.ResourceMarkers;\n\t\t} else if (element instanceof Marker) {\n\t\t\treturn TemplateId.Marker;\n\t\t} else {\n\t\t\treturn TemplateId.RelatedInformation;\n\t\t}\n\t}\n}\n\nenum FilterDataType {\n\tResourceMarkers = 0,\n\tMarker = 1,\n\tRelatedInformation = 2,\n}\n\ninterface ResourceMarkersFilterData {\n\ttype: FilterDataType.ResourceMarkers;\n\turiMatches: IMatch[];\n}\n\ninterface MarkerFilterData {\n\ttype: FilterDataType.Marker;\n\tlineMatches: IMatch[][];\n\tsourceMatches: IMatch[];\n\tcodeMatches: IMatch[];\n}\n\ninterface RelatedInformationFilterData {\n\ttype: FilterDataType.RelatedInformation;\n\turiMatches: IMatch[];\n\tmessageMatches: IMatch[];\n}\n\nexport type FilterData =\n\t| ResourceMarkersFilterData\n\t| MarkerFilterData\n\t| RelatedInformationFilterData;\n\nexport class ResourceMarkersRenderer\n\timplements\n\t\tITreeRenderer<\n\t\t\tResourceMarkers,\n\t\t\tResourceMarkersFilterData,\n\t\t\tIResourceMarkersTemplateData\n\t\t>\n{\n\tprivate renderedNodes = new Map<\n\t\tResourceMarkers,\n\t\tIResourceMarkersTemplateData[]\n\t>();\n\tprivate readonly disposables = new DisposableStore();\n\n\tconstructor(\n\t\tprivate labels: ResourceLabels,\n\t\tonDidChangeRenderNodeCount: Event<\n\t\t\tITreeNode<ResourceMarkers, ResourceMarkersFilterData>\n\t\t>,\n\t) {\n\t\tonDidChangeRenderNodeCount(\n\t\t\tthis.onDidChangeRenderNodeCount,\n\t\t\tthis,\n\t\t\tthis.disposables,\n\t\t);\n\t}\n\n\ttemplateId = TemplateId.ResourceMarkers;\n\n\trenderTemplate(container: HTMLElement): IResourceMarkersTemplateData {\n\t\tconst resourceLabelContainer = dom.append(\n\t\t\tcontainer,\n\t\t\tdom.$(\".resource-label-container\"),\n\t\t);\n\t\tconst resourceLabel = this.labels.create(resourceLabelContainer, {\n\t\t\tsupportHighlights: true,\n\t\t});\n\n\t\tconst badgeWrapper = dom.append(\n\t\t\tcontainer,\n\t\t\tdom.$(\".count-badge-wrapper\"),\n\t\t);\n\t\tconst count = new CountBadge(badgeWrapper, {}, defaultCountBadgeStyles);\n\n\t\treturn { count, resourceLabel };\n\t}\n\n\trenderElement(\n\t\tnode: ITreeNode<ResourceMarkers, ResourceMarkersFilterData>,\n\t\t_: number,\n\t\ttemplateData: IResourceMarkersTemplateData,\n\t): void {\n\t\tconst resourceMarkers = node.element;\n\t\tconst uriMatches =\n\t\t\t(node.filterData && node.filterData.uriMatches) || [];\n\n\t\ttemplateData.resourceLabel.setFile(resourceMarkers.resource, {\n\t\t\tmatches: uriMatches,\n\t\t});\n\n\t\tthis.updateCount(node, templateData);\n\t\tconst nodeRenders = this.renderedNodes.get(resourceMarkers) ?? [];\n\t\tthis.renderedNodes.set(resourceMarkers, [...nodeRenders, templateData]);\n\t}\n\n\tdisposeElement(\n\t\tnode: ITreeNode<ResourceMarkers, ResourceMarkersFilterData>,\n\t\tindex: number,\n\t\ttemplateData: IResourceMarkersTemplateData,\n\t): void {\n\t\tconst nodeRenders = this.renderedNodes.get(node.element) ?? [];\n\t\tconst nodeRenderIndex = nodeRenders.findIndex(\n\t\t\t(nodeRender) => templateData === nodeRender,\n\t\t);\n\n\t\tif (nodeRenderIndex < 0) {\n\t\t\tthrow new Error(\"Disposing unknown resource marker\");\n\t\t}\n\n\t\tif (nodeRenders.length === 1) {\n\t\t\tthis.renderedNodes.delete(node.element);\n\t\t} else {\n\t\t\tnodeRenders.splice(nodeRenderIndex, 1);\n\t\t}\n\t}\n\n\tdisposeTemplate(templateData: IResourceMarkersTemplateData): void {\n\t\ttemplateData.resourceLabel.dispose();\n\t}\n\n\tprivate onDidChangeRenderNodeCount(\n\t\tnode: ITreeNode<ResourceMarkers, ResourceMarkersFilterData>,\n\t): void {\n\t\tconst nodeRenders = this.renderedNodes.get(node.element);\n\n\t\tif (!nodeRenders) {\n\t\t\treturn;\n\t\t}\n\n\t\tnodeRenders.forEach((nodeRender) => this.updateCount(node, nodeRender));\n\t}\n\n\tprivate updateCount(\n\t\tnode: ITreeNode<ResourceMarkers, ResourceMarkersFilterData>,\n\t\ttemplateData: IResourceMarkersTemplateData,\n\t): void {\n\t\ttemplateData.count.setCount(\n\t\t\tnode.children.reduce((r, n) => r + (n.visible ? 1 : 0), 0),\n\t\t);\n\t}\n\n\tdispose(): void {\n\t\tthis.disposables.dispose();\n\t}\n}\n\nexport class FileResourceMarkersRenderer extends ResourceMarkersRenderer {}\n\nexport class MarkerRenderer\n\timplements ITreeRenderer<Marker, MarkerFilterData, IMarkerTemplateData>\n{\n\tconstructor(\n\t\tprivate readonly markersViewState: MarkersViewModel,\n\t\t@IHoverService protected hoverService: IHoverService,\n\t\t@IInstantiationService\n\t\tprotected instantiationService: IInstantiationService,\n\t\t@IOpenerService protected openerService: IOpenerService,\n\t) {}\n\n\ttemplateId = TemplateId.Marker;\n\n\trenderTemplate(container: HTMLElement): IMarkerTemplateData {\n\t\tconst data: IMarkerTemplateData = Object.create(null);\n\t\tdata.markerWidget = new MarkerWidget(\n\t\t\tcontainer,\n\t\t\tthis.markersViewState,\n\t\t\tthis.hoverService,\n\t\t\tthis.openerService,\n\t\t\tthis.instantiationService,\n\t\t);\n\t\treturn data;\n\t}\n\n\trenderElement(\n\t\tnode: ITreeNode<Marker, MarkerFilterData>,\n\t\t_: number,\n\t\ttemplateData: IMarkerTemplateData,\n\t): void {\n\t\ttemplateData.markerWidget.render(node.element, node.filterData);\n\t}\n\n\tdisposeTemplate(templateData: IMarkerTemplateData): void {\n\t\ttemplateData.markerWidget.dispose();\n\t}\n}\n\nconst expandedIcon = registerIcon(\n\t\"markers-view-multi-line-expanded\",\n\tCodicon.chevronUp,\n\tlocalize(\n\t\t\"expandedIcon\",\n\t\t\"Icon indicating that multiple lines are shown in the markers view.\",\n\t),\n);\nconst collapsedIcon = registerIcon(\n\t\"markers-view-multi-line-collapsed\",\n\tCodicon.chevronDown,\n\tlocalize(\n\t\t\"collapsedIcon\",\n\t\t\"Icon indicating that multiple lines are collapsed in the markers view.\",\n\t),\n);\n\nconst toggleMultilineAction = \"problems.action.toggleMultiline\";\n\nclass ToggleMultilineActionViewItem extends ActionViewItem {\n\toverride render(container: HTMLElement): void {\n\t\tsuper.render(container);\n\t\tthis.updateExpandedAttribute();\n\t}\n\n\tprotected override updateClass(): void {\n\t\tsuper.updateClass();\n\t\tthis.updateExpandedAttribute();\n\t}\n\n\tprivate updateExpandedAttribute(): void {\n\t\tthis.element?.setAttribute(\n\t\t\t\"aria-expanded\",\n\t\t\t`${this._action.class === ThemeIcon.asClassName(expandedIcon)}`,\n\t\t);\n\t}\n}\n\nclass MarkerWidget extends Disposable {\n\tprivate readonly actionBar: ActionBar;\n\tprivate readonly icon: HTMLElement;\n\tprivate readonly iconContainer: HTMLElement;\n\tprivate readonly messageAndDetailsContainer: HTMLElement;\n\tprivate readonly messageAndDetailsContainerHover: IManagedHover;\n\tprivate readonly disposables = this._register(new DisposableStore());\n\n\tconstructor(\n\t\tprivate parent: HTMLElement,\n\t\tprivate readonly markersViewModel: MarkersViewModel,\n\t\tprivate readonly _hoverService: IHoverService,\n\t\tprivate readonly _openerService: IOpenerService,\n\t\t_instantiationService: IInstantiationService,\n\t) {\n\t\tsuper();\n\t\tthis.actionBar = this._register(\n\t\t\tnew ActionBar(dom.append(parent, dom.$(\".actions\")), {\n\t\t\t\tactionViewItemProvider: (action: IAction, options) =>\n\t\t\t\t\taction.id === QuickFixAction.ID\n\t\t\t\t\t\t? _instantiationService.createInstance(\n\t\t\t\t\t\t\t\tQuickFixActionViewItem,\n\t\t\t\t\t\t\t\t<QuickFixAction>action,\n\t\t\t\t\t\t\t\toptions,\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t: undefined,\n\t\t\t}),\n\t\t);\n\n\t\t// wrap the icon in a container that get the icon color as foreground color. That way, if the\n\t\t// list view does not have a specific color for the icon (=the color variable is invalid) it\n\t\t// falls back to the foreground color of container (inherit)\n\t\tthis.iconContainer = dom.append(parent, dom.$(\"\"));\n\t\tthis.icon = dom.append(this.iconContainer, dom.$(\"\"));\n\t\tthis.messageAndDetailsContainer = dom.append(\n\t\t\tparent,\n\t\t\tdom.$(\".marker-message-details-container\"),\n\t\t);\n\t\tthis.messageAndDetailsContainerHover = this._register(\n\t\t\tthis._hoverService.setupManagedHover(\n\t\t\t\tgetDefaultHoverDelegate(\"mouse\"),\n\t\t\t\tthis.messageAndDetailsContainer,\n\t\t\t\t\"\",\n\t\t\t),\n\t\t);\n\t}\n\n\trender(element: Marker, filterData: MarkerFilterData | undefined): void {\n\t\tthis.actionBar.clear();\n\t\tthis.disposables.clear();\n\t\tdom.clearNode(this.messageAndDetailsContainer);\n\n\t\tthis.iconContainer.className = `marker-icon ${Severity.toString(MarkerSeverity.toSeverity(element.marker.severity))}`;\n\t\tthis.icon.className = `codicon ${SeverityIcon.className(MarkerSeverity.toSeverity(element.marker.severity))}`;\n\t\tthis.renderQuickfixActionbar(element);\n\n\t\tthis.renderMessageAndDetails(element, filterData);\n\t\tthis.disposables.add(\n\t\t\tdom.addDisposableListener(\n\t\t\t\tthis.parent,\n\t\t\t\tdom.EventType.MOUSE_OVER,\n\t\t\t\t() => this.markersViewModel.onMarkerMouseHover(element),\n\t\t\t),\n\t\t);\n\t\tthis.disposables.add(\n\t\t\tdom.addDisposableListener(\n\t\t\t\tthis.parent,\n\t\t\t\tdom.EventType.MOUSE_LEAVE,\n\t\t\t\t() => this.markersViewModel.onMarkerMouseLeave(element),\n\t\t\t),\n\t\t);\n\t}\n\n\tprivate renderQuickfixActionbar(marker: Marker): void {\n\t\tconst viewModel = this.markersViewModel.getViewModel(marker);\n\t\tif (viewModel) {\n\t\t\tconst quickFixAction = viewModel.quickFixAction;\n\t\t\tthis.actionBar.push([quickFixAction], { icon: true, label: false });\n\t\t\tthis.iconContainer.classList.toggle(\n\t\t\t\t\"quickFix\",\n\t\t\t\tquickFixAction.enabled,\n\t\t\t);\n\t\t\tquickFixAction.onDidChange(\n\t\t\t\t({ enabled }) => {\n\t\t\t\t\tif (!isUndefinedOrNull(enabled)) {\n\t\t\t\t\t\tthis.iconContainer.classList.toggle(\n\t\t\t\t\t\t\t\"quickFix\",\n\t\t\t\t\t\t\tenabled,\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tthis,\n\t\t\t\tthis.disposables,\n\t\t\t);\n\t\t\tquickFixAction.onShowQuickFixes(\n\t\t\t\t() => {\n\t\t\t\t\tconst quickFixActionViewItem = <QuickFixActionViewItem>(\n\t\t\t\t\t\tthis.actionBar.viewItems[0]\n\t\t\t\t\t);\n\t\t\t\t\tif (quickFixActionViewItem) {\n\t\t\t\t\t\tquickFixActionViewItem.showQuickFixes();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tthis,\n\t\t\t\tthis.disposables,\n\t\t\t);\n\t\t}\n\t}\n\n\tprivate renderMultilineActionbar(\n\t\tmarker: Marker,\n\t\tparent: HTMLElement,\n\t): void {\n\t\tconst multilineActionbar = this.disposables.add(\n\t\t\tnew ActionBar(dom.append(parent, dom.$(\".multiline-actions\")), {\n\t\t\t\tactionViewItemProvider: (action, options) => {\n\t\t\t\t\tif (action.id === toggleMultilineAction) {\n\t\t\t\t\t\treturn new ToggleMultilineActionViewItem(\n\t\t\t\t\t\t\tundefined,\n\t\t\t\t\t\t\taction,\n\t\t\t\t\t\t\t{ ...options, icon: true },\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\treturn undefined;\n\t\t\t\t},\n\t\t\t}),\n\t\t);\n\t\tthis.disposables.add(toDisposable(() => multilineActionbar.dispose()));\n\n\t\tconst viewModel = this.markersViewModel.getViewModel(marker);\n\t\tconst multiline = viewModel && viewModel.multiline;\n\t\tconst action = new Action(toggleMultilineAction);\n\t\taction.enabled = !!viewModel && marker.lines.length > 1;\n\t\taction.tooltip = multiline\n\t\t\t? localize(\"single line\", \"Show message in single line\")\n\t\t\t: localize(\"multi line\", \"Show message in multiple lines\");\n\t\taction.class = ThemeIcon.asClassName(\n\t\t\tmultiline ? expandedIcon : collapsedIcon,\n\t\t);\n\t\taction.run = () => {\n\t\t\tif (viewModel) {\n\t\t\t\tviewModel.multiline = !viewModel.multiline;\n\t\t\t}\n\t\t\treturn Promise.resolve();\n\t\t};\n\t\tmultilineActionbar.push([action], { icon: true, label: false });\n\t}\n\n\tprivate renderMessageAndDetails(\n\t\telement: Marker,\n\t\tfilterData: MarkerFilterData | undefined,\n\t): void {\n\t\tconst { marker, lines } = element;\n\t\tconst viewState = this.markersViewModel.getViewModel(element);\n\t\tconst multiline = !viewState || viewState.multiline;\n\t\tconst lineMatches = (filterData && filterData.lineMatches) || [];\n\t\tthis.messageAndDetailsContainerHover.update(element.marker.message);\n\n\t\tconst lineElements: HTMLElement[] = [];\n\t\tfor (let index = 0; index < (multiline ? lines.length : 1); index++) {\n\t\t\tconst lineElement = dom.append(\n\t\t\t\tthis.messageAndDetailsContainer,\n\t\t\t\tdom.$(\".marker-message-line\"),\n\t\t\t);\n\t\t\tconst messageElement = dom.append(\n\t\t\t\tlineElement,\n\t\t\t\tdom.$(\".marker-message\"),\n\t\t\t);\n\t\t\tconst highlightedLabel = this.disposables.add(\n\t\t\t\tnew HighlightedLabel(messageElement),\n\t\t\t);\n\t\t\thighlightedLabel.set(\n\t\t\t\tlines[index].length > 1000\n\t\t\t\t\t? `${lines[index].substring(0, 1000)}...`\n\t\t\t\t\t: lines[index],\n\t\t\t\tlineMatches[index],\n\t\t\t);\n\t\t\tif (lines[index] === \"\") {\n\t\t\t\tlineElement.style.height = `${VirtualDelegate.LINE_HEIGHT}px`;\n\t\t\t}\n\t\t\tlineElements.push(lineElement);\n\t\t}\n\t\tthis.renderDetails(marker, filterData, lineElements[0]);\n\t\tthis.renderMultilineActionbar(element, lineElements[0]);\n\t}\n\n\tprivate renderDetails(\n\t\tmarker: IMarker,\n\t\tfilterData: MarkerFilterData | undefined,\n\t\tparent: HTMLElement,\n\t): void {\n\t\tparent.classList.add(\"details-container\");\n\n\t\tif (marker.source || marker.code) {\n\t\t\tconst source = this.disposables.add(\n\t\t\t\tnew HighlightedLabel(\n\t\t\t\t\tdom.append(parent, dom.$(\".marker-source\")),\n\t\t\t\t),\n\t\t\t);\n\t\t\tconst sourceMatches =\n\t\t\t\t(filterData && filterData.sourceMatches) || [];\n\t\t\tsource.set(marker.source, sourceMatches);\n\n\t\t\tif (marker.code) {\n\t\t\t\tif (typeof marker.code === \"string\") {\n\t\t\t\t\tconst code = this.disposables.add(\n\t\t\t\t\t\tnew HighlightedLabel(\n\t\t\t\t\t\t\tdom.append(parent, dom.$(\".marker-code\")),\n\t\t\t\t\t\t),\n\t\t\t\t\t);\n\t\t\t\t\tconst codeMatches =\n\t\t\t\t\t\t(filterData && filterData.codeMatches) || [];\n\t\t\t\t\tcode.set(marker.code, codeMatches);\n\t\t\t\t} else {\n\t\t\t\t\tconst container = dom.$(\".marker-code\");\n\t\t\t\t\tconst code = this.disposables.add(\n\t\t\t\t\t\tnew HighlightedLabel(container),\n\t\t\t\t\t);\n\t\t\t\t\tconst link = marker.code.target.toString(true);\n\t\t\t\t\tthis.disposables.add(\n\t\t\t\t\t\tnew Link(\n\t\t\t\t\t\t\tparent,\n\t\t\t\t\t\t\t{ href: link, label: container, title: link },\n\t\t\t\t\t\t\tundefined,\n\t\t\t\t\t\t\tthis._hoverService,\n\t\t\t\t\t\t\tthis._openerService,\n\t\t\t\t\t\t),\n\t\t\t\t\t);\n\t\t\t\t\tconst codeMatches =\n\t\t\t\t\t\t(filterData && filterData.codeMatches) || [];\n\t\t\t\t\tcode.set(marker.code.value, codeMatches);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tconst lnCol = dom.append(parent, dom.$(\"span.marker-line\"));\n\t\tlnCol.textContent = Messages.MARKERS_PANEL_AT_LINE_COL_NUMBER(\n\t\t\tmarker.startLineNumber,\n\t\t\tmarker.startColumn,\n\t\t);\n\t}\n}\n\nexport class RelatedInformationRenderer\n\timplements\n\t\tITreeRenderer<\n\t\t\tRelatedInformation,\n\t\t\tRelatedInformationFilterData,\n\t\t\tIRelatedInformationTemplateData\n\t\t>\n{\n\tconstructor(\n\t\t@ILabelService private readonly labelService: ILabelService\n\t) { }\n\n\ttemplateId = TemplateId.RelatedInformation;\n\n\trenderTemplate(container: HTMLElement): IRelatedInformationTemplateData {\n\t\tconst data: IRelatedInformationTemplateData = Object.create(null);\n\n\t\tdom.append(container, dom.$(\".actions\"));\n\t\tdom.append(container, dom.$(\".icon\"));\n\n\t\tdata.resourceLabel = new HighlightedLabel(\n\t\t\tdom.append(container, dom.$(\".related-info-resource\")),\n\t\t);\n\t\tdata.lnCol = dom.append(container, dom.$(\"span.marker-line\"));\n\n\t\tconst separator = dom.append(\n\t\t\tcontainer,\n\t\t\tdom.$(\"span.related-info-resource-separator\"),\n\t\t);\n\t\tseparator.textContent = \":\";\n\t\tseparator.style.paddingRight = \"4px\";\n\n\t\tdata.description = new HighlightedLabel(\n\t\t\tdom.append(container, dom.$(\".marker-description\")),\n\t\t);\n\t\treturn data;\n\t}\n\n\trenderElement(\n\t\tnode: ITreeNode<RelatedInformation, RelatedInformationFilterData>,\n\t\t_: number,\n\t\ttemplateData: IRelatedInformationTemplateData,\n\t): void {\n\t\tconst relatedInformation = node.element.raw;\n\t\tconst uriMatches =\n\t\t\t(node.filterData && node.filterData.uriMatches) || [];\n\t\tconst messageMatches =\n\t\t\t(node.filterData && node.filterData.messageMatches) || [];\n\n\t\tconst resourceLabelTitle = this.labelService.getUriLabel(\n\t\t\trelatedInformation.resource,\n\t\t\t{ relative: true },\n\t\t);\n\t\ttemplateData.resourceLabel.set(\n\t\t\tbasename(relatedInformation.resource),\n\t\t\turiMatches,\n\t\t\tresourceLabelTitle,\n\t\t);\n\t\ttemplateData.lnCol.textContent =\n\t\t\tMessages.MARKERS_PANEL_AT_LINE_COL_NUMBER(\n\t\t\t\trelatedInformation.startLineNumber,\n\t\t\t\trelatedInformation.startColumn,\n\t\t\t);\n\t\ttemplateData.description.set(\n\t\t\trelatedInformation.message,\n\t\t\tmessageMatches,\n\t\t\trelatedInformation.message,\n\t\t);\n\t}\n\n\tdisposeTemplate(templateData: IRelatedInformationTemplateData): void {\n\t\ttemplateData.resourceLabel.dispose();\n\t\ttemplateData.description.dispose();\n\t}\n}\n\nexport class Filter implements ITreeFilter<MarkerElement, FilterData> {\n\tconstructor(public options: FilterOptions) {}\n\n\tfilter(\n\t\telement: MarkerElement,\n\t\tparentVisibility: TreeVisibility,\n\t): TreeFilterResult<FilterData> {\n\t\tif (element instanceof ResourceMarkers) {\n\t\t\treturn this.filterResourceMarkers(element);\n\t\t} else if (element instanceof Marker) {\n\t\t\treturn this.filterMarker(element, parentVisibility);\n\t\t} else {\n\t\t\treturn this.filterRelatedInformation(element, parentVisibility);\n\t\t}\n\t}\n\n\tprivate filterResourceMarkers(\n\t\tresourceMarkers: ResourceMarkers,\n\t): TreeFilterResult<FilterData> {\n\t\tif (unsupportedSchemas.has(resourceMarkers.resource.scheme)) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Filter resource by pattern first (globs)\n\t\t// Excludes pattern\n\t\tif (this.options.excludesMatcher.matches(resourceMarkers.resource)) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Includes pattern\n\t\tif (this.options.includesMatcher.matches(resourceMarkers.resource)) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Fiter by text. Do not apply negated filters on resources instead use exclude patterns\n\t\tif (this.options.textFilter.text && !this.options.textFilter.negate) {\n\t\t\tconst uriMatches = FilterOptions._filter(\n\t\t\t\tthis.options.textFilter.text,\n\t\t\t\tbasename(resourceMarkers.resource),\n\t\t\t);\n\t\t\tif (uriMatches) {\n\t\t\t\treturn {\n\t\t\t\t\tvisibility: true,\n\t\t\t\t\tdata: {\n\t\t\t\t\t\ttype: FilterDataType.ResourceMarkers,\n\t\t\t\t\t\turiMatches: uriMatches || [],\n\t\t\t\t\t},\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\treturn TreeVisibility.Recurse;\n\t}\n\n\tprivate filterMarker(\n\t\tmarker: Marker,\n\t\tparentVisibility: TreeVisibility,\n\t): TreeFilterResult<FilterData> {\n\t\tconst matchesSeverity =\n\t\t\t(this.options.showErrors &&\n\t\t\t\tMarkerSeverity.Error === marker.marker.severity) ||\n\t\t\t(this.options.showWarnings &&\n\t\t\t\tMarkerSeverity.Warning === marker.marker.severity) ||\n\t\t\t(this.options.showInfos &&\n\t\t\t\tMarkerSeverity.Info === marker.marker.severity);\n\n\t\tif (!matchesSeverity) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (!this.options.textFilter.text) {\n\t\t\treturn true;\n\t\t}\n\n\t\tconst lineMatches: IMatch[][] = [];\n\t\tfor (const line of marker.lines) {\n\t\t\tconst lineMatch = FilterOptions._messageFilter(\n\t\t\t\tthis.options.textFilter.text,\n\t\t\t\tline,\n\t\t\t);\n\t\t\tlineMatches.push(lineMatch || []);\n\t\t}\n\n\t\tconst sourceMatches = marker.marker.source\n\t\t\t? FilterOptions._filter(\n\t\t\t\t\tthis.options.textFilter.text,\n\t\t\t\t\tmarker.marker.source,\n\t\t\t\t)\n\t\t\t: undefined;\n\t\tconst codeMatches = marker.marker.code\n\t\t\t? FilterOptions._filter(\n\t\t\t\t\tthis.options.textFilter.text,\n\t\t\t\t\ttypeof marker.marker.code === \"string\"\n\t\t\t\t\t\t? marker.marker.code\n\t\t\t\t\t\t: marker.marker.code.value,\n\t\t\t\t)\n\t\t\t: undefined;\n\t\tconst matched =\n\t\t\tsourceMatches ||\n\t\t\tcodeMatches ||\n\t\t\tlineMatches.some((lineMatch) => lineMatch.length > 0);\n\n\t\t// Matched and not negated\n\t\tif (matched && !this.options.textFilter.negate) {\n\t\t\treturn {\n\t\t\t\tvisibility: true,\n\t\t\t\tdata: {\n\t\t\t\t\ttype: FilterDataType.Marker,\n\t\t\t\t\tlineMatches,\n\t\t\t\t\tsourceMatches: sourceMatches || [],\n\t\t\t\t\tcodeMatches: codeMatches || [],\n\t\t\t\t},\n\t\t\t};\n\t\t}\n\n\t\t// Matched and negated - exclude it only if parent visibility is not set\n\t\tif (\n\t\t\tmatched &&\n\t\t\tthis.options.textFilter.negate &&\n\t\t\tparentVisibility === TreeVisibility.Recurse\n\t\t) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Not matched and negated - include it only if parent visibility is not set\n\t\tif (\n\t\t\t!matched &&\n\t\t\tthis.options.textFilter.negate &&\n\t\t\tparentVisibility === TreeVisibility.Recurse\n\t\t) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn parentVisibility;\n\t}\n\n\tprivate filterRelatedInformation(\n\t\trelatedInformation: RelatedInformation,\n\t\tparentVisibility: TreeVisibility,\n\t): TreeFilterResult<FilterData> {\n\t\tif (!this.options.textFilter.text) {\n\t\t\treturn true;\n\t\t}\n\n\t\tconst uriMatches = FilterOptions._filter(\n\t\t\tthis.options.textFilter.text,\n\t\t\tbasename(relatedInformation.raw.resource),\n\t\t);\n\t\tconst messageMatches = FilterOptions._messageFilter(\n\t\t\tthis.options.textFilter.text,\n\t\t\tpaths.basename(relatedInformation.raw.message),\n\t\t);\n\t\tconst matched = uriMatches || messageMatches;\n\n\t\t// Matched and not negated\n\t\tif (matched && !this.options.textFilter.negate) {\n\t\t\treturn {\n\t\t\t\tvisibility: true,\n\t\t\t\tdata: {\n\t\t\t\t\ttype: FilterDataType.RelatedInformation,\n\t\t\t\t\turiMatches: uriMatches || [],\n\t\t\t\t\tmessageMatches: messageMatches || [],\n\t\t\t\t},\n\t\t\t};\n\t\t}\n\n\t\t// Matched and negated - exclude it only if parent visibility is not set\n\t\tif (\n\t\t\tmatched &&\n\t\t\tthis.options.textFilter.negate &&\n\t\t\tparentVisibility === TreeVisibility.Recurse\n\t\t) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Not matched and negated - include it only if parent visibility is not set\n\t\tif (\n\t\t\t!matched &&\n\t\t\tthis.options.textFilter.negate &&\n\t\t\tparentVisibility === TreeVisibility.Recurse\n\t\t) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn parentVisibility;\n\t}\n}\n\nexport class MarkerViewModel extends Disposable {\n\tprivate readonly _onDidChange: Emitter<void> = this._register(\n\t\tnew Emitter<void>(),\n\t);\n\treadonly onDidChange: Event<void> = this._onDidChange.event;\n\n\tprivate modelPromise: CancelablePromise<ITextModel> | null = null;\n\tprivate codeActionsPromise: CancelablePromise<CodeActionSet> | null = null;\n\n\tconstructor(\n\t\tprivate readonly marker: Marker,\n\t\t@IModelService private modelService: IModelService,\n\t\t@IInstantiationService\n\t\tprivate instantiationService: IInstantiationService,\n\t\t@IEditorService private readonly editorService: IEditorService,\n\t\t@ILanguageFeaturesService\n\t\tprivate readonly languageFeaturesService: ILanguageFeaturesService,\n\t) {\n\t\tsuper();\n\t\tthis._register(\n\t\t\ttoDisposable(() => {\n\t\t\t\tif (this.modelPromise) {\n\t\t\t\t\tthis.modelPromise.cancel();\n\t\t\t\t}\n\t\t\t\tif (this.codeActionsPromise) {\n\t\t\t\t\tthis.codeActionsPromise.cancel();\n\t\t\t\t}\n\t\t\t}),\n\t\t);\n\t}\n\n\tprivate _multiline = true;\n\tget multiline(): boolean {\n\t\treturn this._multiline;\n\t}\n\n\tset multiline(value: boolean) {\n\t\tif (this._multiline !== value) {\n\t\t\tthis._multiline = value;\n\t\t\tthis._onDidChange.fire();\n\t\t}\n\t}\n\n\tprivate _quickFixAction: QuickFixAction | null = null;\n\tget quickFixAction(): QuickFixAction {\n\t\tif (!this._quickFixAction) {\n\t\t\tthis._quickFixAction = this._register(\n\t\t\t\tthis.instantiationService.createInstance(\n\t\t\t\t\tQuickFixAction,\n\t\t\t\t\tthis.marker,\n\t\t\t\t),\n\t\t\t);\n\t\t}\n\t\treturn this._quickFixAction;\n\t}\n\n\tshowLightBulb(): void {\n\t\tthis.setQuickFixes(true);\n\t}\n\n\tprivate async setQuickFixes(waitForModel: boolean): Promise<void> {\n\t\tconst codeActions = await this.getCodeActions(waitForModel);\n\t\tthis.quickFixAction.quickFixes = codeActions\n\t\t\t? this.toActions(codeActions)\n\t\t\t: [];\n\t\tthis.quickFixAction.autoFixable(\n\t\t\t!!codeActions && codeActions.hasAutoFix,\n\t\t);\n\t}\n\n\tprivate getCodeActions(\n\t\twaitForModel: boolean,\n\t): Promise<CodeActionSet | null> {\n\t\tif (this.codeActionsPromise !== null) {\n\t\t\treturn this.codeActionsPromise;\n\t\t}\n\t\treturn this.getModel(waitForModel).then<CodeActionSet | null>(\n\t\t\t(model) => {\n\t\t\t\tif (model) {\n\t\t\t\t\tif (!this.codeActionsPromise) {\n\t\t\t\t\t\tthis.codeActionsPromise = createCancelablePromise(\n\t\t\t\t\t\t\t(cancellationToken) => {\n\t\t\t\t\t\t\t\treturn getCodeActions(\n\t\t\t\t\t\t\t\t\tthis.languageFeaturesService\n\t\t\t\t\t\t\t\t\t\t.codeActionProvider,\n\t\t\t\t\t\t\t\t\tmodel,\n\t\t\t\t\t\t\t\t\tnew Range(\n\t\t\t\t\t\t\t\t\t\tthis.marker.range.startLineNumber,\n\t\t\t\t\t\t\t\t\t\tthis.marker.range.startColumn,\n\t\t\t\t\t\t\t\t\t\tthis.marker.range.endLineNumber,\n\t\t\t\t\t\t\t\t\t\tthis.marker.range.endColumn,\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\ttype: CodeActionTriggerType.Invoke,\n\t\t\t\t\t\t\t\t\t\ttriggerAction:\n\t\t\t\t\t\t\t\t\t\t\tCodeActionTriggerSource.ProblemsView,\n\t\t\t\t\t\t\t\t\t\tfilter: {\n\t\t\t\t\t\t\t\t\t\t\tinclude: CodeActionKind.QuickFix,\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tProgress.None,\n\t\t\t\t\t\t\t\t\tcancellationToken,\n\t\t\t\t\t\t\t\t).then((actions) => {\n\t\t\t\t\t\t\t\t\treturn this._register(actions);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\treturn this.codeActionsPromise;\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t},\n\t\t);\n\t}\n\n\tprivate toActions(codeActions: CodeActionSet): IAction[] {\n\t\treturn codeActions.validActions.map(\n\t\t\t(item) =>\n\t\t\t\tnew Action(\n\t\t\t\t\titem.action.command\n\t\t\t\t\t\t? item.action.command.id\n\t\t\t\t\t\t: item.action.title,\n\t\t\t\t\titem.action.title,\n\t\t\t\t\tundefined,\n\t\t\t\t\ttrue,\n\t\t\t\t\t() => {\n\t\t\t\t\t\treturn this.openFileAtMarker(this.marker).then(() =>\n\t\t\t\t\t\t\tthis.instantiationService.invokeFunction(\n\t\t\t\t\t\t\t\tapplyCodeAction,\n\t\t\t\t\t\t\t\titem,\n\t\t\t\t\t\t\t\tApplyCodeActionReason.FromProblemsView,\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t);\n\t\t\t\t\t},\n\t\t\t\t),\n\t\t);\n\t}\n\n\tprivate openFileAtMarker(element: Marker): Promise<void> {\n\t\tconst { resource, selection } = {\n\t\t\tresource: element.resource,\n\t\t\tselection: element.range,\n\t\t};\n\t\treturn this.editorService\n\t\t\t.openEditor(\n\t\t\t\t{\n\t\t\t\t\tresource,\n\t\t\t\t\toptions: {\n\t\t\t\t\t\tselection,\n\t\t\t\t\t\tpreserveFocus: true,\n\t\t\t\t\t\tpinned: false,\n\t\t\t\t\t\trevealIfVisible: true,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tACTIVE_GROUP,\n\t\t\t)\n\t\t\t.then(() => undefined);\n\t}\n\n\tprivate getModel(waitForModel: boolean): Promise<ITextModel | null> {\n\t\tconst model = this.modelService.getModel(this.marker.resource);\n\t\tif (model) {\n\t\t\treturn Promise.resolve(model);\n\t\t}\n\t\tif (waitForModel) {\n\t\t\tif (!this.modelPromise) {\n\t\t\t\tthis.modelPromise = createCancelablePromise(\n\t\t\t\t\t(cancellationToken) => {\n\t\t\t\t\t\treturn new Promise((c) => {\n\t\t\t\t\t\t\tthis._register(\n\t\t\t\t\t\t\t\tthis.modelService.onModelAdded((model) => {\n\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\tisEqual(model.uri, this.marker.resource)\n\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\tc(model);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t);\n\t\t\t}\n\t\t\treturn this.modelPromise;\n\t\t}\n\t\treturn Promise.resolve(null);\n\t}\n}\n\nexport class MarkersViewModel extends Disposable {\n\tprivate readonly _onDidChange: Emitter<Marker | undefined> = this._register(\n\t\tnew Emitter<Marker | undefined>(),\n\t);\n\treadonly onDidChange: Event<Marker | undefined> = this._onDidChange.event;\n\n\tprivate readonly _onDidChangeViewMode: Emitter<MarkersViewMode> =\n\t\tthis._register(new Emitter<MarkersViewMode>());\n\treadonly onDidChangeViewMode: Event<MarkersViewMode> =\n\t\tthis._onDidChangeViewMode.event;\n\n\tprivate readonly markersViewStates: Map<\n\t\tstring,\n\t\t{ viewModel: MarkerViewModel; disposables: IDisposable[] }\n\t> = new Map<\n\t\tstring,\n\t\t{ viewModel: MarkerViewModel; disposables: IDisposable[] }\n\t>();\n\tprivate readonly markersPerResource: Map<string, Marker[]> = new Map<\n\t\tstring,\n\t\tMarker[]\n\t>();\n\n\tprivate bulkUpdate = false;\n\n\tprivate hoveredMarker: Marker | null = null;\n\tprivate hoverDelayer: Delayer<void> = new Delayer<void>(300);\n\tprivate viewModeContextKey: IContextKey<MarkersViewMode>;\n\n\tconstructor(\n\t\tmultiline = true,\n\t\tviewMode: MarkersViewMode = MarkersViewMode.Tree,\n\t\t@IContextKeyService\n\t\tprivate readonly contextKeyService: IContextKeyService,\n\t\t@IInstantiationService\n\t\tprivate readonly instantiationService: IInstantiationService,\n\t) {\n\t\tsuper();\n\t\tthis._multiline = multiline;\n\t\tthis._viewMode = viewMode;\n\n\t\tthis.viewModeContextKey =\n\t\t\tMarkersContextKeys.MarkersViewModeContextKey.bindTo(\n\t\t\t\tthis.contextKeyService,\n\t\t\t);\n\t\tthis.viewModeContextKey.set(viewMode);\n\t}\n\n\tadd(marker: Marker): void {\n\t\tif (!this.markersViewStates.has(marker.id)) {\n\t\t\tconst viewModel = this.instantiationService.createInstance(\n\t\t\t\tMarkerViewModel,\n\t\t\t\tmarker,\n\t\t\t);\n\t\t\tconst disposables: IDisposable[] = [viewModel];\n\t\t\tviewModel.multiline = this.multiline;\n\t\t\tviewModel.onDidChange(\n\t\t\t\t() => {\n\t\t\t\t\tif (!this.bulkUpdate) {\n\t\t\t\t\t\tthis._onDidChange.fire(marker);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tthis,\n\t\t\t\tdisposables,\n\t\t\t);\n\t\t\tthis.markersViewStates.set(marker.id, { viewModel, disposables });\n\n\t\t\tconst markers =\n\t\t\t\tthis.markersPerResource.get(marker.resource.toString()) || [];\n\t\t\tmarkers.push(marker);\n\t\t\tthis.markersPerResource.set(marker.resource.toString(), markers);\n\t\t}\n\t}\n\n\tremove(resource: URI): void {\n\t\tconst markers = this.markersPerResource.get(resource.toString()) || [];\n\t\tfor (const marker of markers) {\n\t\t\tconst value = this.markersViewStates.get(marker.id);\n\t\t\tif (value) {\n\t\t\t\tdispose(value.disposables);\n\t\t\t}\n\t\t\tthis.markersViewStates.delete(marker.id);\n\t\t\tif (this.hoveredMarker === marker) {\n\t\t\t\tthis.hoveredMarker = null;\n\t\t\t}\n\t\t}\n\t\tthis.markersPerResource.delete(resource.toString());\n\t}\n\n\tgetViewModel(marker: Marker): MarkerViewModel | null {\n\t\tconst value = this.markersViewStates.get(marker.id);\n\t\treturn value ? value.viewModel : null;\n\t}\n\n\tonMarkerMouseHover(marker: Marker): void {\n\t\tthis.hoveredMarker = marker;\n\t\tthis.hoverDelayer.trigger(() => {\n\t\t\tif (this.hoveredMarker) {\n\t\t\t\tconst model = this.getViewModel(this.hoveredMarker);\n\t\t\t\tif (model) {\n\t\t\t\t\tmodel.showLightBulb();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tonMarkerMouseLeave(marker: Marker): void {\n\t\tif (this.hoveredMarker === marker) {\n\t\t\tthis.hoveredMarker = null;\n\t\t}\n\t}\n\n\tprivate _multiline = true;\n\tget multiline(): boolean {\n\t\treturn this._multiline;\n\t}\n\n\tset multiline(value: boolean) {\n\t\tlet changed = false;\n\t\tif (this._multiline !== value) {\n\t\t\tthis._multiline = value;\n\t\t\tchanged = true;\n\t\t}\n\t\tthis.bulkUpdate = true;\n\t\tthis.markersViewStates.forEach(({ viewModel }) => {\n\t\t\tif (viewModel.multiline !== value) {\n\t\t\t\tviewModel.multiline = value;\n\t\t\t\tchanged = true;\n\t\t\t}\n\t\t});\n\t\tthis.bulkUpdate = false;\n\t\tif (changed) {\n\t\t\tthis._onDidChange.fire(undefined);\n\t\t}\n\t}\n\n\tprivate _viewMode: MarkersViewMode = MarkersViewMode.Tree;\n\tget viewMode(): MarkersViewMode {\n\t\treturn this._viewMode;\n\t}\n\n\tset viewMode(value: MarkersViewMode) {\n\t\tif (this._viewMode === value) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._viewMode = value;\n\t\tthis._onDidChangeViewMode.fire(value);\n\t\tthis.viewModeContextKey.set(value);\n\t}\n\n\toverride dispose(): void {\n\t\tthis.markersViewStates.forEach(({ disposables }) =>\n\t\t\tdispose(disposables),\n\t\t);\n\t\tthis.markersViewStates.clear();\n\t\tthis.markersPerResource.clear();\n\t\tsuper.dispose();\n\t}\n}\n"],
  "mappings": "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",
  "names": ["TemplateId", "FilterDataType", "action", "model"]
}
