{
  "version": 3,
  "sources": ["../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/contrib/markers/browser/markersView.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport './media/markers.css';\n\nimport { URI } from '../../../../base/common/uri.js';\nimport * as dom from '../../../../base/browser/dom.js';\nimport { IAction, Separator } from '../../../../base/common/actions.js';\nimport { ITelemetryService } from '../../../../platform/telemetry/common/telemetry.js';\nimport { IEditorService, SIDE_GROUP, ACTIVE_GROUP } from '../../../services/editor/common/editorService.js';\nimport { Marker, ResourceMarkers, RelatedInformation, MarkerChangesEvent, MarkersModel, compareMarkersByUri, MarkerElement, MarkerTableItem } from './markersModel.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { MarkersFilters, IMarkersFiltersChangeEvent } from './markersViewActions.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport Messages from './messages.js';\nimport { RangeHighlightDecorations } from '../../../browser/codeeditor.js';\nimport { IThemeService } from '../../../../platform/theme/common/themeService.js';\nimport { ICodeEditor } from '../../../../editor/browser/editorBrowser.js';\nimport { IStorageService, StorageScope, StorageTarget } from '../../../../platform/storage/common/storage.js';\nimport { localize } from '../../../../nls.js';\nimport { IContextKey, IContextKeyService } from '../../../../platform/contextkey/common/contextkey.js';\nimport { Iterable } from '../../../../base/common/iterator.js';\nimport { ITreeElement, ITreeNode, ITreeContextMenuEvent, ITreeRenderer, ITreeEvent } from '../../../../base/browser/ui/tree/tree.js';\nimport { Relay, Event } from '../../../../base/common/event.js';\nimport { WorkbenchObjectTree, IListService, IWorkbenchObjectTreeOptions, IOpenEvent } from '../../../../platform/list/browser/listService.js';\nimport { FilterOptions } from './markersFilterOptions.js';\nimport { IExpression } from '../../../../base/common/glob.js';\nimport { deepClone } from '../../../../base/common/objects.js';\nimport { IWorkspaceContextService } from '../../../../platform/workspace/common/workspace.js';\nimport { FilterData, Filter, VirtualDelegate, ResourceMarkersRenderer, MarkerRenderer, RelatedInformationRenderer, MarkersWidgetAccessibilityProvider, MarkersViewModel } from './markersTreeViewer.js';\nimport { IContextMenuService } from '../../../../platform/contextview/browser/contextView.js';\nimport { MenuId } from '../../../../platform/actions/common/actions.js';\nimport { IKeybindingService } from '../../../../platform/keybinding/common/keybinding.js';\nimport { StandardKeyboardEvent, IKeyboardEvent } from '../../../../base/browser/keyboardEvent.js';\nimport { ResourceLabels } from '../../../browser/labels.js';\nimport { IMarkerService, MarkerSeverity } from '../../../../platform/markers/common/markers.js';\nimport { MementoObject, Memento } from '../../../common/memento.js';\nimport { IIdentityProvider, IListVirtualDelegate } from '../../../../base/browser/ui/list/list.js';\nimport { KeyCode } from '../../../../base/common/keyCodes.js';\nimport { IViewPaneOptions, FilterViewPane } from '../../../browser/parts/views/viewPane.js';\nimport { IViewDescriptorService } from '../../../common/views.js';\nimport { IOpenerService, withSelection } from '../../../../platform/opener/common/opener.js';\nimport { ActionViewItem } from '../../../../base/browser/ui/actionbar/actionViewItems.js';\nimport { IUriIdentityService } from '../../../../platform/uriIdentity/common/uriIdentity.js';\nimport { DisposableStore, IDisposable, toDisposable } from '../../../../base/common/lifecycle.js';\nimport { groupBy } from '../../../../base/common/arrays.js';\nimport { ResourceMap } from '../../../../base/common/map.js';\nimport { EditorResourceAccessor, SideBySideEditor } from '../../../common/editor.js';\nimport { IMarkersView } from './markers.js';\nimport { ResourceListDnDHandler } from '../../../browser/dnd.js';\nimport { ITableContextMenuEvent, ITableEvent } from '../../../../base/browser/ui/table/table.js';\nimport { MarkersTable } from './markersTable.js';\nimport { Markers, MarkersContextKeys, MarkersViewMode } from '../common/markers.js';\nimport { registerNavigableContainer } from '../../../browser/actions/widgetNavigationCommands.js';\nimport { IHoverService } from '../../../../platform/hover/browser/hover.js';\nimport { ResultKind } from '../../../../platform/keybinding/common/keybindingResolver.js';\n\nfunction createResourceMarkersIterator(resourceMarkers: ResourceMarkers): Iterable<ITreeElement<MarkerElement>> {\n\treturn Iterable.map(resourceMarkers.markers, m => {\n\t\tconst relatedInformationIt = Iterable.from(m.relatedInformation);\n\t\tconst children = Iterable.map(relatedInformationIt, r => ({ element: r }));\n\n\t\treturn { element: m, children };\n\t});\n}\n\nexport interface IProblemsWidget {\n\tget contextKeyService(): IContextKeyService;\n\n\tget onContextMenu(): Event<ITreeContextMenuEvent<MarkerElement | null>> | Event<ITableContextMenuEvent<MarkerTableItem>>;\n\tget onDidChangeFocus(): Event<ITreeEvent<MarkerElement | null>> | Event<ITableEvent<MarkerTableItem>>;\n\tget onDidChangeSelection(): Event<ITreeEvent<MarkerElement | null>> | Event<ITableEvent<MarkerTableItem>>;\n\tget onDidOpen(): Event<IOpenEvent<MarkerElement | MarkerTableItem | undefined>>;\n\n\tcollapseMarkers(): void;\n\tdispose(): void;\n\tdomFocus(): void;\n\tfilterMarkers(resourceMarkers: ResourceMarkers[], filterOptions: FilterOptions): void;\n\tgetFocus(): (MarkerElement | MarkerTableItem | null)[];\n\tgetHTMLElement(): HTMLElement;\n\tgetRelativeTop(location: MarkerElement | MarkerTableItem | null): number | null;\n\tgetSelection(): (MarkerElement | MarkerTableItem | null)[];\n\tgetVisibleItemCount(): number;\n\tlayout(height: number, width: number): void;\n\treset(resourceMarkers: ResourceMarkers[]): void;\n\trevealMarkers(activeResource: ResourceMarkers | null, focus: boolean, lastSelectedRelativeTop: number): void;\n\tsetAriaLabel(label: string): void;\n\tsetMarkerSelection(selection?: Marker[], focus?: Marker[]): void;\n\ttoggleVisibility(hide: boolean): void;\n\tupdate(resourceMarkers: ResourceMarkers[]): void;\n\tupdateMarker(marker: Marker): void;\n}\n\nexport class MarkersView extends FilterViewPane implements IMarkersView {\n\n\tprivate lastSelectedRelativeTop: number = 0;\n\tprivate currentActiveResource: URI | null = null;\n\n\tprivate readonly rangeHighlightDecorations: RangeHighlightDecorations;\n\tprivate readonly markersModel: MarkersModel;\n\tprivate readonly filter: Filter;\n\tprivate readonly onVisibleDisposables = this._register(new DisposableStore());\n\n\tprivate widget!: IProblemsWidget;\n\tprivate readonly widgetDisposables = this._register(new DisposableStore());\n\tprivate widgetContainer!: HTMLElement;\n\tprivate widgetIdentityProvider: IIdentityProvider<MarkerElement | MarkerTableItem>;\n\tprivate widgetAccessibilityProvider: MarkersWidgetAccessibilityProvider;\n\tprivate messageBoxContainer: HTMLElement | undefined;\n\tprivate ariaLabelElement: HTMLElement | undefined;\n\treadonly filters: MarkersFilters;\n\n\tprivate currentHeight = 0;\n\tprivate currentWidth = 0;\n\tprivate readonly memento: Memento;\n\tprivate readonly panelState: MementoObject;\n\n\tprivate cachedFilterStats: { total: number; filtered: number } | undefined = undefined;\n\n\tprivate currentResourceGotAddedToMarkersData: boolean = false;\n\tprivate readonly markersViewModel: MarkersViewModel;\n\n\treadonly onDidChangeVisibility = this.onDidChangeBodyVisibility;\n\n\tconstructor(\n\t\toptions: IViewPaneOptions,\n\t\t@IInstantiationService instantiationService: IInstantiationService,\n\t\t@IViewDescriptorService viewDescriptorService: IViewDescriptorService,\n\t\t@IEditorService private readonly editorService: IEditorService,\n\t\t@IConfigurationService configurationService: IConfigurationService,\n\t\t@ITelemetryService telemetryService: ITelemetryService,\n\t\t@IMarkerService private readonly markerService: IMarkerService,\n\t\t@IContextKeyService contextKeyService: IContextKeyService,\n\t\t@IWorkspaceContextService private readonly workspaceContextService: IWorkspaceContextService,\n\t\t@IContextMenuService contextMenuService: IContextMenuService,\n\t\t@IUriIdentityService private readonly uriIdentityService: IUriIdentityService,\n\t\t@IKeybindingService keybindingService: IKeybindingService,\n\t\t@IStorageService storageService: IStorageService,\n\t\t@IOpenerService openerService: IOpenerService,\n\t\t@IThemeService themeService: IThemeService,\n\t\t@IHoverService hoverService: IHoverService,\n\t) {\n\t\tconst memento = new Memento(Markers.MARKERS_VIEW_STORAGE_ID, storageService);\n\t\tconst panelState = memento.getMemento(StorageScope.WORKSPACE, StorageTarget.MACHINE);\n\t\tsuper({\n\t\t\t...options,\n\t\t\tfilterOptions: {\n\t\t\t\tariaLabel: Messages.MARKERS_PANEL_FILTER_ARIA_LABEL,\n\t\t\t\tplaceholder: Messages.MARKERS_PANEL_FILTER_PLACEHOLDER,\n\t\t\t\tfocusContextKey: MarkersContextKeys.MarkerViewFilterFocusContextKey.key,\n\t\t\t\ttext: panelState['filter'] || '',\n\t\t\t\thistory: panelState['filterHistory'] || []\n\t\t\t}\n\t\t}, keybindingService, contextMenuService, configurationService, contextKeyService, viewDescriptorService, instantiationService, openerService, themeService, telemetryService, hoverService);\n\t\tthis.memento = memento;\n\t\tthis.panelState = panelState;\n\n\t\tthis.markersModel = this._register(instantiationService.createInstance(MarkersModel));\n\t\tthis.markersViewModel = this._register(instantiationService.createInstance(MarkersViewModel, this.panelState['multiline'], this.panelState['viewMode'] ?? this.getDefaultViewMode()));\n\t\tthis._register(this.onDidChangeVisibility(visible => this.onDidChangeMarkersViewVisibility(visible)));\n\t\tthis._register(this.markersViewModel.onDidChangeViewMode(_ => this.onDidChangeViewMode()));\n\n\t\tthis.widgetAccessibilityProvider = instantiationService.createInstance(MarkersWidgetAccessibilityProvider);\n\t\tthis.widgetIdentityProvider = { getId(element: MarkerElement | MarkerTableItem) { return element.id; } };\n\n\t\tthis.setCurrentActiveEditor();\n\n\t\tthis.filter = new Filter(FilterOptions.EMPTY(uriIdentityService));\n\t\tthis.rangeHighlightDecorations = this._register(this.instantiationService.createInstance(RangeHighlightDecorations));\n\n\t\tthis.filters = this._register(new MarkersFilters({\n\t\t\tfilterHistory: this.panelState['filterHistory'] || [],\n\t\t\tshowErrors: this.panelState['showErrors'] !== false,\n\t\t\tshowWarnings: this.panelState['showWarnings'] !== false,\n\t\t\tshowInfos: this.panelState['showInfos'] !== false,\n\t\t\texcludedFiles: !!this.panelState['useFilesExclude'],\n\t\t\tactiveFile: !!this.panelState['activeFile'],\n\t\t}, this.contextKeyService));\n\n\t\t// Update filter, whenever the \"files.exclude\" setting is changed\n\t\tthis._register(this.configurationService.onDidChangeConfiguration(e => {\n\t\t\tif (this.filters.excludedFiles && e.affectsConfiguration('files.exclude')) {\n\t\t\t\tthis.updateFilter();\n\t\t\t}\n\t\t}));\n\t}\n\n\toverride render(): void {\n\t\tsuper.render();\n\t\tthis._register(registerNavigableContainer({\n\t\t\tname: 'markersView',\n\t\t\tfocusNotifiers: [this, this.filterWidget],\n\t\t\tfocusNextWidget: () => {\n\t\t\t\tif (this.filterWidget.hasFocus()) {\n\t\t\t\t\tthis.focus();\n\t\t\t\t}\n\t\t\t},\n\t\t\tfocusPreviousWidget: () => {\n\t\t\t\tif (!this.filterWidget.hasFocus()) {\n\t\t\t\t\tthis.focusFilter();\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\t}\n\n\tprotected override renderBody(parent: HTMLElement): void {\n\t\tsuper.renderBody(parent);\n\n\t\tparent.classList.add('markers-panel');\n\t\tthis._register(dom.addDisposableListener(parent, 'keydown', e => {\n\t\t\tconst event = new StandardKeyboardEvent(e);\n\t\t\tif (!this.keybindingService.mightProducePrintableCharacter(event)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst result = this.keybindingService.softDispatch(event, event.target);\n\t\t\tif (result.kind === ResultKind.MoreChordsNeeded || result.kind === ResultKind.KbFound) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.focusFilter();\n\t\t}));\n\n\t\tconst panelContainer = dom.append(parent, dom.$('.markers-panel-container'));\n\n\t\tthis.createArialLabelElement(panelContainer);\n\n\t\tthis.createMessageBox(panelContainer);\n\n\t\tthis.widgetContainer = dom.append(panelContainer, dom.$('.widget-container'));\n\t\tthis.createWidget(this.widgetContainer);\n\n\t\tthis.updateFilter();\n\t\tthis.renderContent();\n\t}\n\n\tpublic getTitle(): string {\n\t\treturn Messages.MARKERS_PANEL_TITLE_PROBLEMS.value;\n\t}\n\n\tprotected layoutBodyContent(height: number = this.currentHeight, width: number = this.currentWidth): void {\n\t\tif (this.messageBoxContainer) {\n\t\t\tthis.messageBoxContainer.style.height = `${height}px`;\n\t\t}\n\t\tthis.widget.layout(height, width);\n\n\t\tthis.currentHeight = height;\n\t\tthis.currentWidth = width;\n\t}\n\n\tpublic override focus(): void {\n\t\tsuper.focus();\n\t\tif (dom.isActiveElement(this.widget.getHTMLElement())) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.hasNoProblems()) {\n\t\t\tthis.messageBoxContainer!.focus();\n\t\t} else {\n\t\t\tthis.widget.domFocus();\n\t\t\tthis.widget.setMarkerSelection();\n\t\t}\n\t}\n\n\tpublic focusFilter(): void {\n\t\tthis.filterWidget.focus();\n\t}\n\n\tpublic updateBadge(total: number, filtered: number): void {\n\t\tthis.filterWidget.updateBadge(total === filtered || total === 0 ? undefined : localize('showing filtered problems', \"Showing {0} of {1}\", filtered, total));\n\t}\n\n\tpublic checkMoreFilters(): void {\n\t\tthis.filterWidget.checkMoreFilters(!this.filters.showErrors || !this.filters.showWarnings || !this.filters.showInfos || this.filters.excludedFiles || this.filters.activeFile);\n\t}\n\n\tpublic clearFilterText(): void {\n\t\tthis.filterWidget.setFilterText('');\n\t}\n\n\tpublic showQuickFixes(marker: Marker): void {\n\t\tconst viewModel = this.markersViewModel.getViewModel(marker);\n\t\tif (viewModel) {\n\t\t\tviewModel.quickFixAction.run();\n\t\t}\n\t}\n\n\tpublic openFileAtElement(element: any, preserveFocus: boolean, sideByside: boolean, pinned: boolean): boolean {\n\t\tconst { resource, selection } = element instanceof Marker ? { resource: element.resource, selection: element.range } :\n\t\t\telement instanceof RelatedInformation ? { resource: element.raw.resource, selection: element.raw } :\n\t\t\t\t'marker' in element ? { resource: element.marker.resource, selection: element.marker.range } :\n\t\t\t\t\t{ resource: null, selection: null };\n\t\tif (resource && selection) {\n\t\t\tthis.editorService.openEditor({\n\t\t\t\tresource,\n\t\t\t\toptions: {\n\t\t\t\t\tselection,\n\t\t\t\t\tpreserveFocus,\n\t\t\t\t\tpinned,\n\t\t\t\t\trevealIfVisible: true\n\t\t\t\t},\n\t\t\t}, sideByside ? SIDE_GROUP : ACTIVE_GROUP).then(editor => {\n\t\t\t\tif (editor && preserveFocus) {\n\t\t\t\t\tthis.rangeHighlightDecorations.highlightRange({ resource, range: selection }, <ICodeEditor>editor.getControl());\n\t\t\t\t} else {\n\t\t\t\t\tthis.rangeHighlightDecorations.removeHighlightRange();\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn true;\n\t\t} else {\n\t\t\tthis.rangeHighlightDecorations.removeHighlightRange();\n\t\t}\n\t\treturn false;\n\t}\n\n\tprivate refreshPanel(markerOrChange?: Marker | MarkerChangesEvent): void {\n\t\tif (this.isVisible()) {\n\t\t\tconst hasSelection = this.widget.getSelection().length > 0;\n\n\t\t\tif (markerOrChange) {\n\t\t\t\tif (markerOrChange instanceof Marker) {\n\t\t\t\t\tthis.widget.updateMarker(markerOrChange);\n\t\t\t\t} else {\n\t\t\t\t\tif (markerOrChange.added.size || markerOrChange.removed.size) {\n\t\t\t\t\t\t// Reset complete widget\n\t\t\t\t\t\tthis.resetWidget();\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Update resource\n\t\t\t\t\t\tthis.widget.update([...markerOrChange.updated]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Reset complete widget\n\t\t\t\tthis.resetWidget();\n\t\t\t}\n\n\t\t\tif (hasSelection) {\n\t\t\t\tthis.widget.setMarkerSelection();\n\t\t\t}\n\n\t\t\tthis.cachedFilterStats = undefined;\n\t\t\tconst { total, filtered } = this.getFilterStats();\n\t\t\tthis.toggleVisibility(total === 0 || filtered === 0);\n\t\t\tthis.renderMessage();\n\n\t\t\tthis.updateBadge(total, filtered);\n\t\t\tthis.checkMoreFilters();\n\t\t}\n\t}\n\n\tprivate onDidChangeViewState(marker?: Marker): void {\n\t\tthis.refreshPanel(marker);\n\t}\n\n\tprivate resetWidget(): void {\n\t\tthis.widget.reset(this.getResourceMarkers());\n\t}\n\n\tprivate updateFilter() {\n\t\tthis.filter.options = new FilterOptions(this.filterWidget.getFilterText(), this.getFilesExcludeExpressions(), this.filters.showWarnings, this.filters.showErrors, this.filters.showInfos, this.uriIdentityService);\n\t\tthis.widget.filterMarkers(this.getResourceMarkers(), this.filter.options);\n\n\t\tthis.cachedFilterStats = undefined;\n\t\tconst { total, filtered } = this.getFilterStats();\n\t\tthis.toggleVisibility(total === 0 || filtered === 0);\n\t\tthis.renderMessage();\n\n\t\tthis.updateBadge(total, filtered);\n\t\tthis.checkMoreFilters();\n\t}\n\n\tprivate getDefaultViewMode(): MarkersViewMode {\n\t\tswitch (this.configurationService.getValue<string>('problems.defaultViewMode')) {\n\t\t\tcase 'table':\n\t\t\t\treturn MarkersViewMode.Table;\n\t\t\tcase 'tree':\n\t\t\t\treturn MarkersViewMode.Tree;\n\t\t\tdefault:\n\t\t\t\treturn MarkersViewMode.Tree;\n\t\t}\n\t}\n\n\tprivate getFilesExcludeExpressions(): { root: URI; expression: IExpression }[] | IExpression {\n\t\tif (!this.filters.excludedFiles) {\n\t\t\treturn [];\n\t\t}\n\n\t\tconst workspaceFolders = this.workspaceContextService.getWorkspace().folders;\n\t\treturn workspaceFolders.length\n\t\t\t? workspaceFolders.map(workspaceFolder => ({ root: workspaceFolder.uri, expression: this.getFilesExclude(workspaceFolder.uri) }))\n\t\t\t: this.getFilesExclude();\n\t}\n\n\tprivate getFilesExclude(resource?: URI): IExpression {\n\t\treturn deepClone(this.configurationService.getValue('files.exclude', { resource })) || {};\n\t}\n\n\tprivate getResourceMarkers(): ResourceMarkers[] {\n\t\tif (!this.filters.activeFile) {\n\t\t\treturn this.markersModel.resourceMarkers;\n\t\t}\n\n\t\tlet resourceMarkers: ResourceMarkers[] = [];\n\t\tif (this.currentActiveResource) {\n\t\t\tconst activeResourceMarkers = this.markersModel.getResourceMarkers(this.currentActiveResource);\n\t\t\tif (activeResourceMarkers) {\n\t\t\t\tresourceMarkers = [activeResourceMarkers];\n\t\t\t}\n\t\t}\n\n\t\treturn resourceMarkers;\n\t}\n\n\tprivate createMessageBox(parent: HTMLElement): void {\n\t\tthis.messageBoxContainer = dom.append(parent, dom.$('.message-box-container'));\n\t\tthis.messageBoxContainer.setAttribute('aria-labelledby', 'markers-panel-arialabel');\n\t}\n\n\tprivate createArialLabelElement(parent: HTMLElement): void {\n\t\tthis.ariaLabelElement = dom.append(parent, dom.$(''));\n\t\tthis.ariaLabelElement.setAttribute('id', 'markers-panel-arialabel');\n\t}\n\n\tprivate createWidget(parent: HTMLElement): void {\n\t\tthis.widget = this.markersViewModel.viewMode === MarkersViewMode.Table ? this.createTable(parent) : this.createTree(parent);\n\t\tthis.widgetDisposables.add(this.widget);\n\n\t\tconst markerFocusContextKey = MarkersContextKeys.MarkerFocusContextKey.bindTo(this.widget.contextKeyService);\n\t\tconst relatedInformationFocusContextKey = MarkersContextKeys.RelatedInformationFocusContextKey.bindTo(this.widget.contextKeyService);\n\t\tthis.widgetDisposables.add(this.widget.onDidChangeFocus(focus => {\n\t\t\tmarkerFocusContextKey.set(focus.elements.some(e => e instanceof Marker));\n\t\t\trelatedInformationFocusContextKey.set(focus.elements.some(e => e instanceof RelatedInformation));\n\t\t}));\n\n\t\tthis.widgetDisposables.add(Event.debounce(this.widget.onDidOpen, (last, event) => event, 75, true)(options => {\n\t\t\tthis.openFileAtElement(options.element, !!options.editorOptions.preserveFocus, options.sideBySide, !!options.editorOptions.pinned);\n\t\t}));\n\n\t\tthis.widgetDisposables.add(Event.any<any>(this.widget.onDidChangeSelection, this.widget.onDidChangeFocus)(() => {\n\t\t\tconst elements = [...this.widget.getSelection(), ...this.widget.getFocus()];\n\t\t\tfor (const element of elements) {\n\t\t\t\tif (element instanceof Marker) {\n\t\t\t\t\tconst viewModel = this.markersViewModel.getViewModel(element);\n\t\t\t\t\tviewModel?.showLightBulb();\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\n\t\tthis.widgetDisposables.add(this.widget.onContextMenu(this.onContextMenu, this));\n\t\tthis.widgetDisposables.add(this.widget.onDidChangeSelection(this.onSelected, this));\n\t}\n\n\tprivate createTable(parent: HTMLElement): IProblemsWidget {\n\t\tconst table = this.instantiationService.createInstance(MarkersTable,\n\t\t\tdom.append(parent, dom.$('.markers-table-container')),\n\t\t\tthis.markersViewModel,\n\t\t\tthis.getResourceMarkers(),\n\t\t\tthis.filter.options,\n\t\t\t{\n\t\t\t\taccessibilityProvider: this.widgetAccessibilityProvider,\n\t\t\t\tdnd: this.instantiationService.createInstance(ResourceListDnDHandler, (element) => {\n\t\t\t\t\tif (element instanceof MarkerTableItem) {\n\t\t\t\t\t\treturn withSelection(element.resource, element.range);\n\t\t\t\t\t}\n\t\t\t\t\treturn null;\n\t\t\t\t}),\n\t\t\t\thorizontalScrolling: false,\n\t\t\t\tidentityProvider: this.widgetIdentityProvider,\n\t\t\t\tmultipleSelectionSupport: true,\n\t\t\t\tselectionNavigation: true\n\t\t\t},\n\t\t);\n\n\t\treturn table;\n\t}\n\n\tprivate createTree(parent: HTMLElement): IProblemsWidget {\n\t\tconst onDidChangeRenderNodeCount = new Relay<ITreeNode<any, any>>();\n\n\t\tconst treeLabels = this.instantiationService.createInstance(ResourceLabels, this);\n\n\t\tconst virtualDelegate = new VirtualDelegate(this.markersViewModel);\n\t\tconst renderers = [\n\t\t\tthis.instantiationService.createInstance(ResourceMarkersRenderer, treeLabels, onDidChangeRenderNodeCount.event),\n\t\t\tthis.instantiationService.createInstance(MarkerRenderer, this.markersViewModel),\n\t\t\tthis.instantiationService.createInstance(RelatedInformationRenderer)\n\t\t];\n\n\t\tconst tree = this.instantiationService.createInstance(MarkersTree,\n\t\t\t'MarkersView',\n\t\t\tdom.append(parent, dom.$('.tree-container.show-file-icons')),\n\t\t\tvirtualDelegate,\n\t\t\trenderers,\n\t\t\t{\n\t\t\t\tfilter: this.filter,\n\t\t\t\taccessibilityProvider: this.widgetAccessibilityProvider,\n\t\t\t\tidentityProvider: this.widgetIdentityProvider,\n\t\t\t\tdnd: this.instantiationService.createInstance(ResourceListDnDHandler, (element) => {\n\t\t\t\t\tif (element instanceof ResourceMarkers) {\n\t\t\t\t\t\treturn element.resource;\n\t\t\t\t\t}\n\t\t\t\t\tif (element instanceof Marker) {\n\t\t\t\t\t\treturn withSelection(element.resource, element.range);\n\t\t\t\t\t}\n\t\t\t\t\tif (element instanceof RelatedInformation) {\n\t\t\t\t\t\treturn withSelection(element.raw.resource, element.raw);\n\t\t\t\t\t}\n\t\t\t\t\treturn null;\n\t\t\t\t}),\n\t\t\t\texpandOnlyOnTwistieClick: (e: MarkerElement) => e instanceof Marker && e.relatedInformation.length > 0,\n\t\t\t\toverrideStyles: this.getLocationBasedColors().listOverrideStyles,\n\t\t\t\tselectionNavigation: true,\n\t\t\t\tmultipleSelectionSupport: true,\n\t\t\t},\n\t\t);\n\n\t\tonDidChangeRenderNodeCount.input = tree.onDidChangeRenderNodeCount;\n\n\t\treturn tree;\n\t}\n\n\tcollapseAll(): void {\n\t\tthis.widget.collapseMarkers();\n\t}\n\n\tsetMultiline(multiline: boolean): void {\n\t\tthis.markersViewModel.multiline = multiline;\n\t}\n\n\tsetViewMode(viewMode: MarkersViewMode): void {\n\t\tthis.markersViewModel.viewMode = viewMode;\n\t}\n\n\tprivate onDidChangeMarkersViewVisibility(visible: boolean): void {\n\t\tthis.onVisibleDisposables.clear();\n\t\tif (visible) {\n\t\t\tfor (const disposable of this.reInitialize()) {\n\t\t\t\tthis.onVisibleDisposables.add(disposable);\n\t\t\t}\n\t\t\tthis.refreshPanel();\n\t\t}\n\t}\n\n\tprivate reInitialize(): IDisposable[] {\n\t\tconst disposables = [];\n\n\t\t// Markers Model\n\t\tconst readMarkers = (resource?: URI) => this.markerService.read({ resource, severities: MarkerSeverity.Error | MarkerSeverity.Warning | MarkerSeverity.Info });\n\t\tthis.markersModel.setResourceMarkers(groupBy(readMarkers(), compareMarkersByUri).map(group => [group[0].resource, group]));\n\t\tdisposables.push(Event.debounce<readonly URI[], ResourceMap<URI>>(this.markerService.onMarkerChanged, (resourcesMap, resources) => {\n\t\t\tresourcesMap = resourcesMap || new ResourceMap<URI>();\n\t\t\tresources.forEach(resource => resourcesMap.set(resource, resource));\n\t\t\treturn resourcesMap;\n\t\t}, 64)(resourcesMap => {\n\t\t\tthis.markersModel.setResourceMarkers([...resourcesMap.values()].map(resource => [resource, readMarkers(resource)]));\n\t\t}));\n\t\tdisposables.push(Event.any<MarkerChangesEvent | void>(this.markersModel.onDidChange, this.editorService.onDidActiveEditorChange)(changes => {\n\t\t\tif (changes) {\n\t\t\t\tthis.onDidChangeModel(changes);\n\t\t\t} else {\n\t\t\t\tthis.onActiveEditorChanged();\n\t\t\t}\n\t\t}));\n\t\tdisposables.push(toDisposable(() => this.markersModel.reset()));\n\n\t\t// Markers View Model\n\t\tthis.markersModel.resourceMarkers.forEach(resourceMarker => resourceMarker.markers.forEach(marker => this.markersViewModel.add(marker)));\n\t\tdisposables.push(this.markersViewModel.onDidChange(marker => this.onDidChangeViewState(marker)));\n\t\tdisposables.push(toDisposable(() => this.markersModel.resourceMarkers.forEach(resourceMarker => this.markersViewModel.remove(resourceMarker.resource))));\n\n\t\t// Markers Filters\n\t\tdisposables.push(this.filters.onDidChange((event: IMarkersFiltersChangeEvent) => {\n\t\t\tif (event.activeFile) {\n\t\t\t\tthis.refreshPanel();\n\t\t\t} else if (event.excludedFiles || event.showWarnings || event.showErrors || event.showInfos) {\n\t\t\t\tthis.updateFilter();\n\t\t\t}\n\t\t}));\n\t\tdisposables.push(this.filterWidget.onDidChangeFilterText(e => this.updateFilter()));\n\t\tdisposables.push(toDisposable(() => { this.cachedFilterStats = undefined; }));\n\n\t\tdisposables.push(toDisposable(() => this.rangeHighlightDecorations.removeHighlightRange()));\n\n\t\treturn disposables;\n\t}\n\n\tprivate onDidChangeModel(change: MarkerChangesEvent): void {\n\t\tconst resourceMarkers = [...change.added, ...change.removed, ...change.updated];\n\t\tconst resources: URI[] = [];\n\t\tfor (const { resource } of resourceMarkers) {\n\t\t\tthis.markersViewModel.remove(resource);\n\t\t\tconst resourceMarkers = this.markersModel.getResourceMarkers(resource);\n\t\t\tif (resourceMarkers) {\n\t\t\t\tfor (const marker of resourceMarkers.markers) {\n\t\t\t\t\tthis.markersViewModel.add(marker);\n\t\t\t\t}\n\t\t\t}\n\t\t\tresources.push(resource);\n\t\t}\n\t\tthis.currentResourceGotAddedToMarkersData = this.currentResourceGotAddedToMarkersData || this.isCurrentResourceGotAddedToMarkersData(resources);\n\t\tthis.refreshPanel(change);\n\t\tthis.updateRangeHighlights();\n\t\tif (this.currentResourceGotAddedToMarkersData) {\n\t\t\tthis.autoReveal();\n\t\t\tthis.currentResourceGotAddedToMarkersData = false;\n\t\t}\n\t}\n\n\tprivate onDidChangeViewMode(): void {\n\t\tif (this.widgetContainer && this.widget) {\n\t\t\tthis.widgetContainer.textContent = '';\n\t\t\tthis.widgetDisposables.clear();\n\t\t}\n\n\t\t// Save selection\n\t\tconst selection = new Set<Marker>();\n\t\tfor (const marker of this.widget.getSelection()) {\n\t\t\tif (marker instanceof ResourceMarkers) {\n\t\t\t\tmarker.markers.forEach(m => selection.add(m));\n\t\t\t} else if (marker instanceof Marker || marker instanceof MarkerTableItem) {\n\t\t\t\tselection.add(marker);\n\t\t\t}\n\t\t}\n\n\t\t// Save focus\n\t\tconst focus = new Set<Marker>();\n\t\tfor (const marker of this.widget.getFocus()) {\n\t\t\tif (marker instanceof Marker || marker instanceof MarkerTableItem) {\n\t\t\t\tfocus.add(marker);\n\t\t\t}\n\t\t}\n\n\t\t// Create new widget\n\t\tthis.createWidget(this.widgetContainer);\n\t\tthis.refreshPanel();\n\n\t\t// Restore selection\n\t\tif (selection.size > 0) {\n\t\t\tthis.widget.setMarkerSelection(Array.from(selection), Array.from(focus));\n\t\t\tthis.widget.domFocus();\n\t\t}\n\t}\n\n\tprivate isCurrentResourceGotAddedToMarkersData(changedResources: URI[]) {\n\t\tconst currentlyActiveResource = this.currentActiveResource;\n\t\tif (!currentlyActiveResource) {\n\t\t\treturn false;\n\t\t}\n\t\tconst resourceForCurrentActiveResource = this.getResourceForCurrentActiveResource();\n\t\tif (resourceForCurrentActiveResource) {\n\t\t\treturn false;\n\t\t}\n\t\treturn changedResources.some(r => r.toString() === currentlyActiveResource.toString());\n\t}\n\n\tprivate onActiveEditorChanged(): void {\n\t\tthis.setCurrentActiveEditor();\n\t\tif (this.filters.activeFile) {\n\t\t\tthis.refreshPanel();\n\t\t}\n\t\tthis.autoReveal();\n\t}\n\n\tprivate setCurrentActiveEditor(): void {\n\t\tconst activeEditor = this.editorService.activeEditor;\n\t\tthis.currentActiveResource = activeEditor ? EditorResourceAccessor.getOriginalUri(activeEditor, { supportSideBySide: SideBySideEditor.PRIMARY }) ?? null : null;\n\t}\n\n\tprivate onSelected(): void {\n\t\tconst selection = this.widget.getSelection();\n\t\tif (selection && selection.length > 0) {\n\t\t\tthis.lastSelectedRelativeTop = this.widget.getRelativeTop(selection[0]) || 0;\n\t\t}\n\t}\n\n\tprivate hasNoProblems(): boolean {\n\t\tconst { total, filtered } = this.getFilterStats();\n\t\treturn total === 0 || filtered === 0;\n\t}\n\n\tprivate renderContent(): void {\n\t\tthis.cachedFilterStats = undefined;\n\t\tthis.resetWidget();\n\t\tthis.toggleVisibility(this.hasNoProblems());\n\t\tthis.renderMessage();\n\t}\n\n\tprivate renderMessage(): void {\n\t\tif (!this.messageBoxContainer || !this.ariaLabelElement) {\n\t\t\treturn;\n\t\t}\n\t\tdom.clearNode(this.messageBoxContainer);\n\t\tconst { total, filtered } = this.getFilterStats();\n\n\t\tif (filtered === 0) {\n\t\t\tthis.messageBoxContainer.style.display = 'block';\n\t\t\tthis.messageBoxContainer.setAttribute('tabIndex', '0');\n\t\t\tif (this.filters.activeFile) {\n\t\t\t\tthis.renderFilterMessageForActiveFile(this.messageBoxContainer);\n\t\t\t} else {\n\t\t\t\tif (total > 0) {\n\t\t\t\t\tthis.renderFilteredByFilterMessage(this.messageBoxContainer);\n\t\t\t\t} else {\n\t\t\t\t\tthis.renderNoProblemsMessage(this.messageBoxContainer);\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tthis.messageBoxContainer.style.display = 'none';\n\t\t\tif (filtered === total) {\n\t\t\t\tthis.setAriaLabel(localize('No problems filtered', \"Showing {0} problems\", total));\n\t\t\t} else {\n\t\t\t\tthis.setAriaLabel(localize('problems filtered', \"Showing {0} of {1} problems\", filtered, total));\n\t\t\t}\n\t\t\tthis.messageBoxContainer.removeAttribute('tabIndex');\n\t\t}\n\t}\n\n\tprivate renderFilterMessageForActiveFile(container: HTMLElement): void {\n\t\tif (this.currentActiveResource && this.markersModel.getResourceMarkers(this.currentActiveResource)) {\n\t\t\tthis.renderFilteredByFilterMessage(container);\n\t\t} else {\n\t\t\tthis.renderNoProblemsMessageForActiveFile(container);\n\t\t}\n\t}\n\n\tprivate renderFilteredByFilterMessage(container: HTMLElement) {\n\t\tconst span1 = dom.append(container, dom.$('span'));\n\t\tspan1.textContent = Messages.MARKERS_PANEL_NO_PROBLEMS_FILTERS;\n\t\tconst link = dom.append(container, dom.$('a.messageAction'));\n\t\tlink.textContent = localize('clearFilter', \"Clear Filters\");\n\t\tlink.setAttribute('tabIndex', '0');\n\t\tconst span2 = dom.append(container, dom.$('span'));\n\t\tspan2.textContent = '.';\n\t\tdom.addStandardDisposableListener(link, dom.EventType.CLICK, () => this.clearFilters());\n\t\tdom.addStandardDisposableListener(link, dom.EventType.KEY_DOWN, (e: IKeyboardEvent) => {\n\t\t\tif (e.equals(KeyCode.Enter) || e.equals(KeyCode.Space)) {\n\t\t\t\tthis.clearFilters();\n\t\t\t\te.stopPropagation();\n\t\t\t}\n\t\t});\n\t\tthis.setAriaLabel(Messages.MARKERS_PANEL_NO_PROBLEMS_FILTERS);\n\t}\n\n\tprivate renderNoProblemsMessageForActiveFile(container: HTMLElement) {\n\t\tconst span = dom.append(container, dom.$('span'));\n\t\tspan.textContent = Messages.MARKERS_PANEL_NO_PROBLEMS_ACTIVE_FILE_BUILT;\n\t\tthis.setAriaLabel(Messages.MARKERS_PANEL_NO_PROBLEMS_ACTIVE_FILE_BUILT);\n\t}\n\n\tprivate renderNoProblemsMessage(container: HTMLElement) {\n\t\tconst span = dom.append(container, dom.$('span'));\n\t\tspan.textContent = Messages.MARKERS_PANEL_NO_PROBLEMS_BUILT;\n\t\tthis.setAriaLabel(Messages.MARKERS_PANEL_NO_PROBLEMS_BUILT);\n\t}\n\n\tprivate setAriaLabel(label: string): void {\n\t\tthis.widget.setAriaLabel(label);\n\t\tthis.ariaLabelElement!.setAttribute('aria-label', label);\n\t}\n\n\tprivate clearFilters(): void {\n\t\tthis.filterWidget.setFilterText('');\n\t\tthis.filters.excludedFiles = false;\n\t\tthis.filters.showErrors = true;\n\t\tthis.filters.showWarnings = true;\n\t\tthis.filters.showInfos = true;\n\t}\n\n\tprivate autoReveal(focus: boolean = false): void {\n\t\t// No need to auto reveal if active file filter is on\n\t\tif (this.filters.activeFile) {\n\t\t\treturn;\n\t\t}\n\t\tconst autoReveal = this.configurationService.getValue<boolean>('problems.autoReveal');\n\t\tif (typeof autoReveal === 'boolean' && autoReveal) {\n\t\t\tconst currentActiveResource = this.getResourceForCurrentActiveResource();\n\t\t\tthis.widget.revealMarkers(currentActiveResource, focus, this.lastSelectedRelativeTop);\n\t\t}\n\t}\n\n\tprivate getResourceForCurrentActiveResource(): ResourceMarkers | null {\n\t\treturn this.currentActiveResource ? this.markersModel.getResourceMarkers(this.currentActiveResource) : null;\n\t}\n\n\tprivate updateRangeHighlights() {\n\t\tthis.rangeHighlightDecorations.removeHighlightRange();\n\t\tif (dom.isActiveElement(this.widget.getHTMLElement())) {\n\t\t\tthis.highlightCurrentSelectedMarkerRange();\n\t\t}\n\t}\n\n\tprivate highlightCurrentSelectedMarkerRange() {\n\t\tconst selections = this.widget.getSelection() ?? [];\n\n\t\tif (selections.length !== 1) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst selection = selections[0];\n\n\t\tif (!(selection instanceof Marker)) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.rangeHighlightDecorations.highlightRange(selection);\n\t}\n\n\tprivate onContextMenu(e: ITreeContextMenuEvent<MarkerElement | null> | ITableContextMenuEvent<MarkerTableItem>): void {\n\t\tconst element = e.element;\n\t\tif (!element) {\n\t\t\treturn;\n\t\t}\n\n\t\te.browserEvent.preventDefault();\n\t\te.browserEvent.stopPropagation();\n\n\t\tthis.contextMenuService.showContextMenu({\n\t\t\tgetAnchor: () => e.anchor,\n\t\t\tmenuId: MenuId.ProblemsPanelContext,\n\t\t\tcontextKeyService: this.widget.contextKeyService,\n\t\t\tgetActions: () => this.getMenuActions(element),\n\t\t\tgetActionViewItem: (action) => {\n\t\t\t\tconst keybinding = this.keybindingService.lookupKeybinding(action.id);\n\t\t\t\tif (keybinding) {\n\t\t\t\t\treturn new ActionViewItem(action, action, { label: true, keybinding: keybinding.getLabel() });\n\t\t\t\t}\n\t\t\t\treturn undefined;\n\t\t\t},\n\t\t\tonHide: (wasCancelled?: boolean) => {\n\t\t\t\tif (wasCancelled) {\n\t\t\t\t\tthis.widget.domFocus();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate getMenuActions(element: MarkerElement | null): IAction[] {\n\t\tconst result: IAction[] = [];\n\n\t\tif (element instanceof Marker) {\n\t\t\tconst viewModel = this.markersViewModel.getViewModel(element);\n\t\t\tif (viewModel) {\n\t\t\t\tconst quickFixActions = viewModel.quickFixAction.quickFixes;\n\t\t\t\tif (quickFixActions.length) {\n\t\t\t\t\tresult.push(...quickFixActions);\n\t\t\t\t\tresult.push(new Separator());\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t}\n\n\tpublic getFocusElement(): MarkerElement | undefined {\n\t\treturn this.widget.getFocus()[0] ?? undefined;\n\t}\n\n\tpublic getFocusedSelectedElements(): MarkerElement[] | null {\n\t\tconst focus = this.getFocusElement();\n\t\tif (!focus) {\n\t\t\treturn null;\n\t\t}\n\t\tconst selection = this.widget.getSelection();\n\t\tif (selection.includes(focus)) {\n\t\t\tconst result: MarkerElement[] = [];\n\t\t\tfor (const selected of selection) {\n\t\t\t\tif (selected) {\n\t\t\t\t\tresult.push(selected);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn result;\n\t\t} else {\n\t\t\treturn [focus];\n\t\t}\n\t}\n\n\tpublic getAllResourceMarkers(): ResourceMarkers[] {\n\t\treturn this.markersModel.resourceMarkers;\n\t}\n\n\tgetFilterStats(): { total: number; filtered: number } {\n\t\tif (!this.cachedFilterStats) {\n\t\t\tthis.cachedFilterStats = {\n\t\t\t\ttotal: this.markersModel.total,\n\t\t\t\tfiltered: this.widget?.getVisibleItemCount() ?? 0\n\t\t\t};\n\t\t}\n\n\t\treturn this.cachedFilterStats;\n\t}\n\n\tprivate toggleVisibility(hide: boolean): void {\n\t\tthis.widget.toggleVisibility(hide);\n\t\tthis.layoutBodyContent();\n\t}\n\n\toverride saveState(): void {\n\t\tthis.panelState['filter'] = this.filterWidget.getFilterText();\n\t\tthis.panelState['filterHistory'] = this.filters.filterHistory;\n\t\tthis.panelState['showErrors'] = this.filters.showErrors;\n\t\tthis.panelState['showWarnings'] = this.filters.showWarnings;\n\t\tthis.panelState['showInfos'] = this.filters.showInfos;\n\t\tthis.panelState['useFilesExclude'] = this.filters.excludedFiles;\n\t\tthis.panelState['activeFile'] = this.filters.activeFile;\n\t\tthis.panelState['multiline'] = this.markersViewModel.multiline;\n\t\tthis.panelState['viewMode'] = this.markersViewModel.viewMode;\n\n\t\tthis.memento.saveMemento();\n\t\tsuper.saveState();\n\t}\n\n\toverride dispose() {\n\t\tsuper.dispose();\n\t}\n\n}\n\nclass MarkersTree extends WorkbenchObjectTree<MarkerElement, FilterData> implements IProblemsWidget {\n\n\tprivate readonly visibilityContextKey: IContextKey<boolean>;\n\n\tconstructor(\n\t\tuser: string,\n\t\tprivate readonly container: HTMLElement,\n\t\tdelegate: IListVirtualDelegate<MarkerElement>,\n\t\trenderers: ITreeRenderer<MarkerElement, FilterData, any>[],\n\t\toptions: IWorkbenchObjectTreeOptions<MarkerElement, FilterData>,\n\t\t@IInstantiationService instantiationService: IInstantiationService,\n\t\t@IContextKeyService contextKeyService: IContextKeyService,\n\t\t@IListService listService: IListService,\n\t\t@IThemeService themeService: IThemeService,\n\t\t@IConfigurationService configurationService: IConfigurationService,\n\t) {\n\t\tsuper(user, container, delegate, renderers, options, instantiationService, contextKeyService, listService, configurationService);\n\t\tthis.visibilityContextKey = MarkersContextKeys.MarkersTreeVisibilityContextKey.bindTo(contextKeyService);\n\t}\n\n\tcollapseMarkers(): void {\n\t\tthis.collapseAll();\n\t\tthis.setSelection([]);\n\t\tthis.setFocus([]);\n\t\tthis.getHTMLElement().focus();\n\t\tthis.focusFirst();\n\t}\n\n\tfilterMarkers(): void {\n\t\tthis.refilter();\n\t}\n\n\tgetVisibleItemCount(): number {\n\t\tlet filtered = 0;\n\t\tconst root = this.getNode();\n\n\t\tfor (const resourceMarkerNode of root.children) {\n\t\t\tfor (const markerNode of resourceMarkerNode.children) {\n\t\t\t\tif (resourceMarkerNode.visible && markerNode.visible) {\n\t\t\t\t\tfiltered++;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn filtered;\n\t}\n\n\tisVisible(): boolean {\n\t\treturn !this.container.classList.contains('hidden');\n\t}\n\n\ttoggleVisibility(hide: boolean): void {\n\t\tthis.visibilityContextKey.set(!hide);\n\t\tthis.container.classList.toggle('hidden', hide);\n\t}\n\n\treset(resourceMarkers: ResourceMarkers[]): void {\n\t\tthis.setChildren(null, Iterable.map(resourceMarkers, m => ({ element: m, children: createResourceMarkersIterator(m) })));\n\t}\n\n\trevealMarkers(activeResource: ResourceMarkers | null, focus: boolean, lastSelectedRelativeTop: number): void {\n\t\tif (activeResource) {\n\t\t\tif (this.hasElement(activeResource)) {\n\t\t\t\tif (!this.isCollapsed(activeResource) && this.hasSelectedMarkerFor(activeResource)) {\n\t\t\t\t\tthis.reveal(this.getSelection()[0], lastSelectedRelativeTop);\n\t\t\t\t\tif (focus) {\n\t\t\t\t\t\tthis.setFocus(this.getSelection());\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis.expand(activeResource);\n\t\t\t\t\tthis.reveal(activeResource, 0);\n\n\t\t\t\t\tif (focus) {\n\t\t\t\t\t\tthis.setFocus([activeResource]);\n\t\t\t\t\t\tthis.setSelection([activeResource]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (focus) {\n\t\t\tthis.setSelection([]);\n\t\t\tthis.focusFirst();\n\t\t}\n\t}\n\n\tsetAriaLabel(label: string): void {\n\t\tthis.ariaLabel = label;\n\t}\n\n\tsetMarkerSelection(selection?: Marker[], focus?: Marker[]): void {\n\t\tif (this.isVisible()) {\n\t\t\tif (selection && selection.length > 0) {\n\t\t\t\tthis.setSelection(selection.map(m => this.findMarkerNode(m)));\n\n\t\t\t\tif (focus && focus.length > 0) {\n\t\t\t\t\tthis.setFocus(focus.map(f => this.findMarkerNode(f)));\n\t\t\t\t} else {\n\t\t\t\t\tthis.setFocus([this.findMarkerNode(selection[0])]);\n\t\t\t\t}\n\n\t\t\t\tthis.reveal(this.findMarkerNode(selection[0]));\n\t\t\t} else if (this.getSelection().length === 0) {\n\t\t\t\tconst firstVisibleElement = this.firstVisibleElement;\n\t\t\t\tconst marker = firstVisibleElement ?\n\t\t\t\t\tfirstVisibleElement instanceof ResourceMarkers ? firstVisibleElement.markers[0] :\n\t\t\t\t\t\tfirstVisibleElement instanceof Marker ? firstVisibleElement : undefined\n\t\t\t\t\t: undefined;\n\n\t\t\t\tif (marker) {\n\t\t\t\t\tthis.setSelection([marker]);\n\t\t\t\t\tthis.setFocus([marker]);\n\t\t\t\t\tthis.reveal(marker);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tupdate(resourceMarkers: ResourceMarkers[]): void {\n\t\tfor (const resourceMarker of resourceMarkers) {\n\t\t\tif (this.hasElement(resourceMarker)) {\n\t\t\t\tthis.setChildren(resourceMarker, createResourceMarkersIterator(resourceMarker));\n\t\t\t\tthis.rerender(resourceMarker);\n\t\t\t}\n\t\t}\n\t}\n\n\tupdateMarker(marker: Marker): void {\n\t\tthis.rerender(marker);\n\t}\n\n\tprivate findMarkerNode(marker: Marker) {\n\t\tfor (const resourceNode of this.getNode().children) {\n\t\t\tfor (const markerNode of resourceNode.children) {\n\t\t\t\tif (markerNode.element instanceof Marker && markerNode.element.marker === marker.marker) {\n\t\t\t\t\treturn markerNode.element;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tprivate hasSelectedMarkerFor(resource: ResourceMarkers): boolean {\n\t\tconst selectedElement = this.getSelection();\n\t\tif (selectedElement && selectedElement.length > 0) {\n\t\t\tif (selectedElement[0] instanceof Marker) {\n\t\t\t\tif (resource.has((<Marker>selectedElement[0]).marker.resource)) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\toverride dispose(): void {\n\t\tsuper.dispose();\n\t}\n\n\toverride layout(height: number, width: number): void {\n\t\tthis.container.style.height = `${height}px`;\n\t\tsuper.layout(height, width);\n\t}\n}\n"],
  "mappings": "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",
  "names": ["resourceMarkers"]
}
