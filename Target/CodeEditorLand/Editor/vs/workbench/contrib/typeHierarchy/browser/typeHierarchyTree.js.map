{
  "version": 3,
  "sources": ["../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/contrib/typeHierarchy/browser/typeHierarchyTree.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { IconLabel } from \"../../../../base/browser/ui/iconLabel/iconLabel.js\";\nimport type {\n\tIIdentityProvider,\n\tIListVirtualDelegate,\n} from \"../../../../base/browser/ui/list/list.js\";\nimport type { IListAccessibilityProvider } from \"../../../../base/browser/ui/list/listWidget.js\";\nimport type {\n\tIAsyncDataSource,\n\tITreeNode,\n\tITreeRenderer,\n\tITreeSorter,\n} from \"../../../../base/browser/ui/tree/tree.js\";\nimport { CancellationToken } from \"../../../../base/common/cancellation.js\";\nimport {\n\ttype FuzzyScore,\n\tcreateMatches,\n} from \"../../../../base/common/filters.js\";\nimport { compare } from \"../../../../base/common/strings.js\";\nimport { ThemeIcon } from \"../../../../base/common/themables.js\";\nimport { Range } from \"../../../../editor/common/core/range.js\";\nimport { SymbolKinds, SymbolTag } from \"../../../../editor/common/languages.js\";\nimport { localize } from \"../../../../nls.js\";\nimport {\n\tTypeHierarchyDirection,\n\ttype TypeHierarchyItem,\n\tTypeHierarchyModel,\n} from \"../common/typeHierarchy.js\";\n\nexport class Type {\n\tconstructor(\n\t\treadonly item: TypeHierarchyItem,\n\t\treadonly model: TypeHierarchyModel,\n\t\treadonly parent: Type | undefined,\n\t) {}\n\n\tstatic compare(a: Type, b: Type): number {\n\t\tlet res = compare(a.item.uri.toString(), b.item.uri.toString());\n\t\tif (res === 0) {\n\t\t\tres = Range.compareRangesUsingStarts(a.item.range, b.item.range);\n\t\t}\n\t\treturn res;\n\t}\n}\n\nexport class DataSource implements IAsyncDataSource<TypeHierarchyModel, Type> {\n\tconstructor(public getDirection: () => TypeHierarchyDirection) {}\n\n\thasChildren(): boolean {\n\t\treturn true;\n\t}\n\n\tasync getChildren(element: TypeHierarchyModel | Type): Promise<Type[]> {\n\t\tif (element instanceof TypeHierarchyModel) {\n\t\t\treturn element.roots.map(\n\t\t\t\t(root) => new Type(root, element, undefined),\n\t\t\t);\n\t\t}\n\n\t\tconst { model, item } = element;\n\n\t\tif (this.getDirection() === TypeHierarchyDirection.Supertypes) {\n\t\t\treturn (\n\t\t\t\tawait model.provideSupertypes(item, CancellationToken.None)\n\t\t\t).map((item) => {\n\t\t\t\treturn new Type(item, model, element);\n\t\t\t});\n\t\t} else {\n\t\t\treturn (\n\t\t\t\tawait model.provideSubtypes(item, CancellationToken.None)\n\t\t\t).map((item) => {\n\t\t\t\treturn new Type(item, model, element);\n\t\t\t});\n\t\t}\n\t}\n}\n\nexport class Sorter implements ITreeSorter<Type> {\n\tcompare(element: Type, otherElement: Type): number {\n\t\treturn Type.compare(element, otherElement);\n\t}\n}\n\nexport class IdentityProvider implements IIdentityProvider<Type> {\n\tconstructor(public getDirection: () => TypeHierarchyDirection) {}\n\n\tgetId(element: Type): { toString(): string } {\n\t\tlet res =\n\t\t\tthis.getDirection() +\n\t\t\tJSON.stringify(element.item.uri) +\n\t\t\tJSON.stringify(element.item.range);\n\t\tif (element.parent) {\n\t\t\tres += this.getId(element.parent);\n\t\t}\n\t\treturn res;\n\t}\n}\n\nclass TypeRenderingTemplate {\n\tconstructor(\n\t\treadonly icon: HTMLDivElement,\n\t\treadonly label: IconLabel,\n\t) {}\n}\n\nexport class TypeRenderer\n\timplements ITreeRenderer<Type, FuzzyScore, TypeRenderingTemplate>\n{\n\tstatic readonly id = \"TypeRenderer\";\n\n\ttemplateId: string = TypeRenderer.id;\n\n\trenderTemplate(container: HTMLElement): TypeRenderingTemplate {\n\t\tcontainer.classList.add(\"typehierarchy-element\");\n\t\tconst icon = document.createElement(\"div\");\n\t\tcontainer.appendChild(icon);\n\t\tconst label = new IconLabel(container, { supportHighlights: true });\n\t\treturn new TypeRenderingTemplate(icon, label);\n\t}\n\n\trenderElement(\n\t\tnode: ITreeNode<Type, FuzzyScore>,\n\t\t_index: number,\n\t\ttemplate: TypeRenderingTemplate,\n\t): void {\n\t\tconst { element, filterData } = node;\n\t\tconst deprecated = element.item.tags?.includes(SymbolTag.Deprecated);\n\t\ttemplate.icon.classList.add(\n\t\t\t\"inline\",\n\t\t\t...ThemeIcon.asClassNameArray(\n\t\t\t\tSymbolKinds.toIcon(element.item.kind),\n\t\t\t),\n\t\t);\n\t\ttemplate.label.setLabel(element.item.name, element.item.detail, {\n\t\t\tlabelEscapeNewLines: true,\n\t\t\tmatches: createMatches(filterData),\n\t\t\tstrikethrough: deprecated,\n\t\t});\n\t}\n\tdisposeTemplate(template: TypeRenderingTemplate): void {\n\t\ttemplate.label.dispose();\n\t}\n}\n\nexport class VirtualDelegate implements IListVirtualDelegate<Type> {\n\tgetHeight(_element: Type): number {\n\t\treturn 22;\n\t}\n\n\tgetTemplateId(_element: Type): string {\n\t\treturn TypeRenderer.id;\n\t}\n}\n\nexport class AccessibilityProvider implements IListAccessibilityProvider<Type> {\n\tconstructor(public getDirection: () => TypeHierarchyDirection) {}\n\n\tgetWidgetAriaLabel(): string {\n\t\treturn localize(\"tree.aria\", \"Type Hierarchy\");\n\t}\n\n\tgetAriaLabel(element: Type): string | null {\n\t\tif (this.getDirection() === TypeHierarchyDirection.Supertypes) {\n\t\t\treturn localize(\n\t\t\t\t\"supertypes\",\n\t\t\t\t\"supertypes of {0}\",\n\t\t\t\telement.item.name,\n\t\t\t);\n\t\t} else {\n\t\t\treturn localize(\"subtypes\", \"subtypes of {0}\", element.item.name);\n\t\t}\n\t}\n}\n"],
  "mappings": "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",
  "names": ["item"]
}
