var g=Object.defineProperty;var y=Object.getOwnPropertyDescriptor;var l=(r,t,i,n)=>{for(var e=n>1?void 0:n?y(t,i):t,c=r.length-1,p;c>=0;c--)(p=r[c])&&(e=(n?p(t,i,e):p(e))||e);return n&&e&&g(t,i,e),e},E=(r,t)=>(i,n)=>t(i,n,r);import{Disposable as b}from"../../../../base/common/lifecycle.js";import{localize as x}from"../../../../nls.js";import{registerAction2 as o}from"../../../../platform/actions/common/actions.js";import{IExtensionRecommendationNotificationService as S}from"../../../../platform/extensionRecommendations/common/extensionRecommendations.js";import{ExtensionRecommendationNotificationServiceChannel as R}from"../../../../platform/extensionRecommendations/common/extensionRecommendationsIpc.js";import{SyncDescriptor as h}from"../../../../platform/instantiation/common/descriptors.js";import{InstantiationType as P,registerSingleton as v}from"../../../../platform/instantiation/common/extensions.js";import{ISharedProcessService as k}from"../../../../platform/ipc/electron-sandbox/services.js";import{Registry as d}from"../../../../platform/registry/common/platform.js";import{EditorPaneDescriptor as C}from"../../../browser/editor.js";import{Extensions as W}from"../../../common/contributions.js";import{EditorExtensions as I}from"../../../common/editor.js";import{LifecyclePhase as m}from"../../../services/lifecycle/common/lifecycle.js";import{RuntimeExtensionsInput as f}from"../common/runtimeExtensionsInput.js";import{DebugExtensionHostAction as z,DebugExtensionsContribution as A}from"./debugExtensionHostAction.js";import{ExtensionHostProfileService as D}from"./extensionProfileService.js";import{CleanUpExtensionsFolderAction as H,OpenExtensionsFolderAction as F}from"./extensionsActions.js";import{ExtensionsAutoProfiler as N}from"./extensionsAutoProfiler.js";import{RemoteExtensionsInitializerContribution as w}from"./remoteExtensionsInit.js";import{IExtensionHostProfileService as j,OpenExtensionHostProfileACtion as O,RuntimeExtensionsEditor as u,SaveExtensionHostProfileAction as _,StartExtensionHostProfileAction as L,StopExtensionHostProfileAction as T}from"./runtimeExtensionsEditor.js";v(j,D,P.Delayed),d.as(I.EditorPane).registerEditorPane(C.create(u,u.ID,x("runtimeExtension","Running Extensions")),[new h(f)]);class U{canSerialize(t){return!0}serialize(t){return""}deserialize(t){return f.instance}}d.as(I.EditorFactory).registerEditorSerializer(f.ID,U);let s=class extends b{constructor(t,i){super(),i.registerChannel("extensionRecommendationNotification",new R(t)),this._register(o(F)),this._register(o(H))}};s=l([E(0,S),E(1,k)],s);const a=d.as(W.Workbench);a.registerWorkbenchContribution(s,m.Restored),a.registerWorkbenchContribution(N,m.Eventually),a.registerWorkbenchContribution(w,m.Restored),a.registerWorkbenchContribution(A,m.Restored),o(z),o(L),o(T),o(_),o(O);
