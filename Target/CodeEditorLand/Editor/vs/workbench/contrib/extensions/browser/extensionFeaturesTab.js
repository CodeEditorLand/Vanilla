var Xy=Object.defineProperty;var Jy=Object.getOwnPropertyDescriptor;var de=(n,e,t,i)=>{for(var o=i>1?void 0:i?Jy(e,t):e,r=n.length-1,s;r>=0;r--)(s=n[r])&&(o=(i?s(e,t,o):s(o))||o);return i&&o&&Xy(e,t,o),o},fe=(n,e)=>(t,i)=>e(t,i,n);var Cc=class{unexpectedErrorHandler;listeners;constructor(){this.listeners=[],this.unexpectedErrorHandler=function(e){setTimeout(()=>{throw e.stack?li.isErrorNoTelemetry(e)?new li(e.message+`

`+e.stack):new Error(e.message+`

`+e.stack):e},0)}}addListener(e){return this.listeners.push(e),()=>{this._removeListener(e)}}emit(e){this.listeners.forEach(t=>{t(e)})}_removeListener(e){this.listeners.splice(this.listeners.indexOf(e),1)}setUnexpectedErrorHandler(e){this.unexpectedErrorHandler=e}getUnexpectedErrorHandler(){return this.unexpectedErrorHandler}onUnexpectedError(e){this.unexpectedErrorHandler(e),this.emit(e)}onUnexpectedExternalError(e){this.unexpectedErrorHandler(e)}},_m=new Cc;function tr(n){_m.onUnexpectedError(n)}function lt(n){kc(n)||_m.onUnexpectedError(n)}var _c="Canceled";function kc(n){return n instanceof Nt?!0:n instanceof Error&&n.name===_c&&n.message===_c}var Nt=class extends Error{constructor(){super(_c),this.name=this.message}};function es(n){return n?new Error(`Illegal argument: ${n}`):new Error("Illegal argument")}function km(n){return n?new Error(`Illegal state: ${n}`):new Error("Illegal state")}function Lc(n){return n?n.message?n.message:n.stack?n.stack.split(`
`)[0]:String(n):"Error"}var li=class n extends Error{name;constructor(e){super(e),this.name="CodeExpectedError"}static fromError(e){if(e instanceof n)return e;let t=new n;return t.message=e.message,t.stack=e.stack,t}static isErrorNoTelemetry(e){return e.name==="CodeExpectedError"}},fn=class n extends Error{constructor(e){super(e||"An unexpected bug occurred."),Object.setPrototypeOf(this,n.prototype)}};function Ac(n,e){let t=this,i=!1,o;return function(){if(i)return o;if(i=!0,e)try{o=n.apply(t,arguments)}finally{e()}else o=n.apply(t,arguments);return o}}var Ye=class n{static Undefined=new n(void 0);element;next;prev;constructor(e){this.element=e,this.next=n.Undefined,this.prev=n.Undefined}},an=class{_first=Ye.Undefined;_last=Ye.Undefined;_size=0;get size(){return this._size}isEmpty(){return this._first===Ye.Undefined}clear(){let e=this._first;for(;e!==Ye.Undefined;){let t=e.next;e.prev=Ye.Undefined,e.next=Ye.Undefined,e=t}this._first=Ye.Undefined,this._last=Ye.Undefined,this._size=0}unshift(e){return this._insert(e,!1)}push(e){return this._insert(e,!0)}_insert(e,t){let i=new Ye(e);if(this._first===Ye.Undefined)this._first=i,this._last=i;else if(t){let r=this._last;this._last=i,i.prev=r,r.next=i}else{let r=this._first;this._first=i,i.next=r,r.prev=i}this._size+=1;let o=!1;return()=>{o||(o=!0,this._remove(i))}}shift(){if(this._first!==Ye.Undefined){let e=this._first.element;return this._remove(this._first),e}}pop(){if(this._last!==Ye.Undefined){let e=this._last.element;return this._remove(this._last),e}}_remove(e){if(e.prev!==Ye.Undefined&&e.next!==Ye.Undefined){let t=e.prev;t.next=e.next,e.next.prev=t}else e.prev===Ye.Undefined&&e.next===Ye.Undefined?(this._first=Ye.Undefined,this._last=Ye.Undefined):e.next===Ye.Undefined?(this._last=this._last.prev,this._last.next=Ye.Undefined):e.prev===Ye.Undefined&&(this._first=this._first.next,this._first.prev=Ye.Undefined);this._size-=1}*[Symbol.iterator](){let e=this._first;for(;e!==Ye.Undefined;)yield e.element,e=e.next}};var To=(n,e)=>n===e;var gn=class{constructor(e,t,i){this.owner=e;this.debugNameSource=t;this.referenceFn=i}getDebugName(e){return Nm(e,this)}},Lm=new Map,Rc=new WeakMap;function Nm(n,e){let t=Rc.get(n);if(t)return t;let i=Qy(n,e);if(i){let o=Lm.get(i)??0;o++,Lm.set(i,o);let r=o===1?i:`${i}#${o}`;return Rc.set(n,r),r}}function Qy(n,e){let t=Rc.get(n);if(t)return t;let i=e.owner?tT(e.owner)+".":"",o,r=e.debugNameSource;if(r!==void 0)if(typeof r=="function"){if(o=r(),o!==void 0)return i+o}else return i+r;let s=e.referenceFn;if(s!==void 0&&(o=Ha(s),o!==void 0))return i+o;if(e.owner!==void 0){let a=eT(e.owner,n);if(a!==void 0)return i+a}}function eT(n,e){for(let t in n)if(n[t]===e)return t}var Am=new Map,Rm=new WeakMap;function tT(n){let e=Rm.get(n);if(e)return e;let t=nT(n),i=Am.get(t)??0;i++,Am.set(t,i);let o=i===1?t:`${t}#${i}`;return Rm.set(n,o),o}function nT(n){let e=n.constructor;return e?e.name:"Object"}function Ha(n){let e=n.toString(),i=/\/\*\*\s*@description\s*([^*]*)\*\//.exec(e);return(i?i[1]:void 0)?.trim()}function Ua(n,e){if(!n)throw new Error(e?`Assertion failed (${e})`:"Assertion Failed")}function Om(n,e="Unreachable"){throw new Error(e)}function Ka(n){if(!n()){debugger;n(),lt(new fn("Assertion Failed"))}}function di(n){return new Va(new gn(void 0,void 0,n),n,void 0,void 0)}var Va=class{constructor(e,t,i,o){this._debugNameData=e;this._runFn=t;this.createChangeSummary=i;this._handleChange=o;this.changeSummary=this.createChangeSummary?.(),Jt()?.handleAutorunCreated(this),this._runIfNeeded(),Io(this)}state=2;updateCount=0;disposed=!1;dependencies=new Set;dependenciesToBeRemoved=new Set;changeSummary;get debugName(){return this._debugNameData.getDebugName(this)??"(anonymous)"}dispose(){this.disposed=!0;for(let e of this.dependencies)e.removeObserver(this);this.dependencies.clear(),xo(this)}_runIfNeeded(){if(this.state===3)return;let e=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=e,this.state=3;let t=this.disposed;try{if(!t){Jt()?.handleAutorunTriggered(this);let i=this.changeSummary;try{this.changeSummary=this.createChangeSummary?.(),this._runFn(this,i)}catch(o){tr(o)}}}finally{t||Jt()?.handleAutorunFinished(this);for(let i of this.dependenciesToBeRemoved)i.removeObserver(this);this.dependenciesToBeRemoved.clear()}}toString(){return`Autorun<${this.debugName}>`}beginUpdate(){this.state===3&&(this.state=1),this.updateCount++}endUpdate(){try{if(this.updateCount===1)do{if(this.state===1){this.state=3;for(let e of this.dependencies)if(e.reportChanges(),this.state===2)break}this._runIfNeeded()}while(this.state!==3)}finally{this.updateCount--}Ka(()=>this.updateCount>=0)}handlePossibleChange(e){this.state===3&&this.dependencies.has(e)&&!this.dependenciesToBeRemoved.has(e)&&(this.state=1)}handleChange(e,t){if(this.dependencies.has(e)&&!this.dependenciesToBeRemoved.has(e))try{(this._handleChange?this._handleChange({changedObservable:e,change:t,didChange:o=>o===e},this.changeSummary):!0)&&(this.state=2)}catch(i){tr(i)}}readObservable(e){if(this.disposed)return e.get();e.addObserver(this);let t=e.get();return this.dependencies.add(e),this.dependenciesToBeRemoved.delete(e),t}};(e=>e.Observer=Va)(di||={});function Nc(n,e){return new Wa(new gn(n.owner,n.debugName,n.debugReferenceFn),e,void 0,void 0,n.onLastObserverRemoved,n.equalsFn??To)}Fm(Nc);var Wa=class extends Eo{constructor(t,i,o,r,s=void 0,a){super();this._debugNameData=t;this._computeFn=i;this.createChangeSummary=o;this._handleChange=r;this._handleLastObserverRemoved=s;this._equalityComparator=a;this.changeSummary=this.createChangeSummary?.(),Jt()?.handleDerivedCreated(this)}state=0;value=void 0;updateCount=0;dependencies=new Set;dependenciesToBeRemoved=new Set;changeSummary=void 0;get debugName(){return this._debugNameData.getDebugName(this)??"(anonymous)"}onLastObserverRemoved(){this.state=0,this.value=void 0;for(let t of this.dependencies)t.removeObserver(this);this.dependencies.clear(),this._handleLastObserverRemoved?.()}get(){if(this.observers.size===0){let t=this._computeFn(this,this.createChangeSummary?.());return this.onLastObserverRemoved(),t}else{do{if(this.state===1){for(let t of this.dependencies)if(t.reportChanges(),this.state===2)break}this.state===1&&(this.state=3),this._recomputeIfNeeded()}while(this.state!==3);return this.value}}_recomputeIfNeeded(){if(this.state===3)return;let t=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=t;let i=this.state!==0,o=this.value;this.state=3;let r=!1;try{let s=this.changeSummary;this.changeSummary=this.createChangeSummary?.();try{this.value=this._computeFn(this,s)}finally{for(let a of this.dependenciesToBeRemoved)a.removeObserver(this);this.dependenciesToBeRemoved.clear()}r=i&&!this._equalityComparator(o,this.value),Jt()?.handleDerivedRecomputed(this,{oldValue:o,newValue:this.value,change:void 0,didChange:r,hadValue:i})}catch(s){tr(s)}if(r)for(let s of this.observers)s.handleChange(this,void 0)}toString(){return`LazyDerived<${this.debugName}>`}beginUpdate(t){this.updateCount++;let i=this.updateCount===1;if(this.state===3&&(this.state=1,!i))for(let o of this.observers)o.handlePossibleChange(this);if(i)for(let o of this.observers)o.beginUpdate(this)}endUpdate(t){if(this.updateCount--,this.updateCount===0){let i=[...this.observers];for(let o of i)o.endUpdate(this)}Ka(()=>this.updateCount>=0)}handlePossibleChange(t){if(this.state===3&&this.dependencies.has(t)&&!this.dependenciesToBeRemoved.has(t)){this.state=1;for(let i of this.observers)i.handlePossibleChange(this)}}handleChange(t,i){if(this.dependencies.has(t)&&!this.dependenciesToBeRemoved.has(t)){let o=!1;try{o=this._handleChange?this._handleChange({changedObservable:t,change:i,didChange:s=>s===t},this.changeSummary):!0}catch(s){tr(s)}let r=this.state===3;if(o&&(this.state===1||r)&&(this.state=2,r))for(let s of this.observers)s.handlePossibleChange(this)}}readObservable(t){t.addObserver(this);let i=t.get();return this.dependencies.add(t),this.dependenciesToBeRemoved.delete(t),i}addObserver(t){let i=!this.observers.has(t)&&this.updateCount>0;super.addObserver(t),i&&t.beginUpdate(this)}removeObserver(t){let i=this.observers.has(t)&&this.updateCount>0;super.removeObserver(t),i&&t.endUpdate(this)}};function ns(n){return new Oc(n)}var Oc=class extends is{constructor(t){super();this.value=t}get debugName(){return this.toString()}get(){return this.value}addObserver(t){}removeObserver(t){}toString(){return`Const: ${this.value}`}};function Fc(...n){let e,t,i;return n.length===3?[e,t,i]=n:[t,i]=n,new Fi(new gn(e,void 0,i),t,i,()=>Fi.globalTransaction,To)}var Fi=class extends Eo{constructor(t,i,o,r,s){super();this._debugNameData=t;this.event=i;this._getValue=o;this._getTransaction=r;this._equalityComparator=s}static globalTransaction;value;hasValue=!1;subscription;getDebugName(){return this._debugNameData.getDebugName(this)}get debugName(){let t=this.getDebugName();return"From Event"+(t?`: ${t}`:"")}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}handleEvent=t=>{let i=this._getValue(t),o=this.value,r=!this.hasValue||!this._equalityComparator(o,i),s=!1;r&&(this.value=i,this.hasValue&&(s=!0,Mc(this._getTransaction(),a=>{Jt()?.handleFromEventObservableTriggered(this,{oldValue:o,newValue:i,change:void 0,didChange:r,hadValue:this.hasValue});for(let l of this.observers)a.updateObserver(l,this),l.handleChange(this,void 0)},()=>{let a=this.getDebugName();return"Event fired"+(a?`: ${a}`:"")})),this.hasValue=!0),s||Jt()?.handleFromEventObservableTriggered(this,{oldValue:o,newValue:i,change:void 0,didChange:r,hadValue:this.hasValue})};onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0,this.hasValue=!1,this.value=void 0}get(){return this.subscription?(this.hasValue||this.handleEvent(void 0),this.value):this._getValue(void 0)}};(t=>{t.Observer=Fi;function e(i,o){let r=!1;Fi.globalTransaction===void 0&&(Fi.globalTransaction=i,r=!0);try{o()}finally{r&&(Fi.globalTransaction=void 0)}}t.batchEventsGlobally=e})(Fc||={});function Pm(n){let e=new za(!1,void 0);return n.addObserver(e),ce(()=>{n.removeObserver(e)})}Um(Pm);function Bm(n,e){let t=new za(!0,e);return n.addObserver(t),e?e(n.get()):n.reportChanges(),ce(()=>{n.removeObserver(t)})}Hm(Bm);var za=class{constructor(e,t){this._forceRecompute=e;this._handleValue=t}_counter=0;beginUpdate(e){this._counter++}endUpdate(e){this._counter--,this._counter===0&&this._forceRecompute&&(this._handleValue?this._handleValue(e.get()):e.reportChanges())}handlePossibleChange(e){}handleChange(e,t){}};var Vm;function Wm(n){Vm=n}function Jt(){return Vm}var Ga=class{indentation=0;textToConsoleArgs(e){return sT([nr(dT("|  ",this.indentation)),e])}formatInfo(e){return e.hadValue?e.didChange?[nr(" "),bn(rs(e.oldValue,70),{color:"red",strikeThrough:!0}),nr(" "),bn(rs(e.newValue,60),{color:"green"})]:[nr(" (unchanged)")]:[nr(" "),bn(rs(e.newValue,60),{color:"green"}),nr(" (initial)")]}handleObservableChanged(e,t){console.log(...this.textToConsoleArgs([os("observable value changed"),bn(e.debugName,{color:"BlueViolet"}),...this.formatInfo(t)]))}changedObservablesSets=new WeakMap;formatChanges(e){if(e.size!==0)return bn(" (changed deps: "+[...e].map(t=>t.debugName).join(", ")+")",{color:"gray"})}handleDerivedCreated(e){let t=e.handleChange;this.changedObservablesSets.set(e,new Set),e.handleChange=(i,o)=>(this.changedObservablesSets.get(e).add(i),t.apply(e,[i,o]))}handleDerivedRecomputed(e,t){let i=this.changedObservablesSets.get(e);console.log(...this.textToConsoleArgs([os("derived recomputed"),bn(e.debugName,{color:"BlueViolet"}),...this.formatInfo(t),this.formatChanges(i),{data:[{fn:e._debugNameData.referenceFn??e._computeFn}]}])),i.clear()}handleFromEventObservableTriggered(e,t){console.log(...this.textToConsoleArgs([os("observable from event triggered"),bn(e.debugName,{color:"BlueViolet"}),...this.formatInfo(t),{data:[{fn:e._getValue}]}]))}handleAutorunCreated(e){let t=e.handleChange;this.changedObservablesSets.set(e,new Set),e.handleChange=(i,o)=>(this.changedObservablesSets.get(e).add(i),t.apply(e,[i,o]))}handleAutorunTriggered(e){let t=this.changedObservablesSets.get(e);console.log(...this.textToConsoleArgs([os("autorun"),bn(e.debugName,{color:"BlueViolet"}),this.formatChanges(t),{data:[{fn:e._debugNameData.referenceFn??e._runFn}]}])),t.clear(),this.indentation++}handleAutorunFinished(e){this.indentation--}handleBeginTransaction(e){let t=e.getDebugName();t===void 0&&(t=""),console.log(...this.textToConsoleArgs([os("transaction"),bn(t,{color:"BlueViolet"}),{data:[{fn:e._fn}]}])),this.indentation++}handleEndTransaction(){this.indentation--}};function sT(n){let e=new Array,t=[],i="";function o(s){if("length"in s)for(let a of s)a&&o(a);else"text"in s?(i+=`%c${s.text}`,e.push(s.style),s.data&&t.push(...s.data)):"data"in s&&t.push(...s.data)}o(n);let r=[i,...e];return r.push(...t),r}function nr(n){return bn(n,{color:"black"})}function os(n){return bn(cT(`${n}: `,10),{color:"black",bold:!0})}function bn(n,e={color:"black"}){function t(o){return Object.entries(o).reduce((r,[s,a])=>`${r}${s}:${a};`,"")}let i={color:e.color};return e.strikeThrough&&(i["text-decoration"]="line-through"),e.bold&&(i["font-weight"]="bold"),{text:n,style:t(i)}}function rs(n,e){switch(typeof n){case"number":return""+n;case"string":return n.length+2<=e?`"${n}"`:`"${n.substr(0,e-7)}"+...`;case"boolean":return n?"true":"false";case"undefined":return"undefined";case"object":return n===null?"null":Array.isArray(n)?aT(n,e):lT(n,e);case"symbol":return n.toString();case"function":return`[[Function${n.name?" "+n.name:""}]]`;default:return""+n}}function aT(n,e){let t="[ ",i=!0;for(let o of n){if(i||(t+=", "),t.length-5>e){t+="...";break}i=!1,t+=`${rs(o,e-t.length)}`}return t+=" ]",t}function lT(n,e){let t="{ ",i=!0;for(let[o,r]of Object.entries(n)){if(i||(t+=", "),t.length-5>e){t+="...";break}i=!1,t+=`${o}: ${rs(r,e-t.length)}`}return t+=" }",t}function dT(n,e){let t="";for(let i=1;i<=e;i++)t+=n;return t}function cT(n,e){for(;n.length<e;)n+=" ";return n}var zm;function Hm(n){zm=n}var $m;function Um(n){$m=n}var Pc;function Fm(n){Pc=n}var is=class{get TChange(){return null}reportChanges(){this.get()}read(e){return e?e.readObservable(this):this.get()}map(e,t){let i=t===void 0?void 0:e,o=t===void 0?e:t;return Pc({owner:i,debugName:()=>{let r=Ha(o);if(r!==void 0)return r;let a=/^\s*\(?\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*\)?\s*=>\s*\1(?:\??)\.([a-zA-Z_$][a-zA-Z_$0-9]*)\s*$/.exec(o.toString());if(a)return`${this.debugName}.${a[2]}`;if(!i)return`${this.debugName} (mapped)`},debugReferenceFn:o},r=>o(this.read(r),r))}flatten(){return Pc({owner:void 0,debugName:()=>`${this.debugName} (flattened)`},e=>this.read(e).read(e))}recomputeInitiallyAndOnChange(e,t){return e.add(zm(this,t)),this}keepObserved(e){return e.add($m(this)),this}get debugValue(){return this.get()}},Eo=class extends is{observers=new Set;addObserver(e){let t=this.observers.size;this.observers.add(e),t===0&&this.onFirstObserverAdded()}removeObserver(e){this.observers.delete(e)&&this.observers.size===0&&this.onLastObserverRemoved()}onFirstObserverAdded(){}onLastObserverRemoved(){}};function $a(n,e){let t=new qa(n,e);try{n(t)}finally{t.finish()}}function Mc(n,e,t){n?e(n):$a(e,t)}var qa=class{constructor(e,t){this._fn=e;this._getDebugName=t;Jt()?.handleBeginTransaction(this)}updatingObservers=[];getDebugName(){return this._getDebugName?this._getDebugName():Ha(this._fn)}updateObserver(e,t){this.updatingObservers.push({observer:e,observable:t}),e.beginUpdate(t)}finish(){let e=this.updatingObservers;for(let t=0;t<e.length;t++){let{observer:i,observable:o}=e[t];i.endUpdate(o)}this.updatingObservers=null,Jt()?.handleEndTransaction()}};var uT=!1;uT&&Wm(new Ga);var pT=globalThis.performance&&typeof globalThis.performance.now=="function",ja=class n{_startTime;_stopTime;_now;static create(e){return new n(e)}constructor(e){this._now=pT&&e===!1?Date.now:globalThis.performance.now.bind(globalThis.performance),this._startTime=this._now(),this._stopTime=-1}stop(){this._stopTime=this._now()}reset(){this._startTime=this._now(),this._stopTime=-1}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}};var Ya=Symbol("MicrotaskDelay");var hT=!1,Gm=!1,mT=!1,N;(Xt=>{Xt.None=()=>J.None;function e(ne){if(mT){let{onDidAddListener:V}=ne,Q=ss.create(),q=0;ne.onDidAddListener=()=>{++q===2&&(console.warn("snapshotted emitter LIKELY used public and SHOULD HAVE BEEN created with DisposableStore. snapshotted here"),Q.print()),V?.()}}}function t(ne,V){return T(ne,()=>{},0,void 0,!0,void 0,V)}Xt.defer=t;function i(ne){return(V,Q=null,q)=>{let Y=!1,ve;return ve=ne(he=>{if(!Y)return ve?ve.dispose():Y=!0,V.call(Q,he)},null,q),Y&&ve.dispose(),ve}}Xt.once=i;function o(ne,V){return Xt.once(Xt.filter(ne,V))}Xt.onceIf=o;function r(ne,V,Q){return h((q,Y=null,ve)=>ne(he=>q.call(Y,V(he)),null,ve),Q)}Xt.map=r;function s(ne,V,Q){return h((q,Y=null,ve)=>ne(he=>{V(he),q.call(Y,he)},null,ve),Q)}Xt.forEach=s;function a(ne,V,Q){return h((q,Y=null,ve)=>ne(he=>V(he)&&q.call(Y,he),null,ve),Q)}Xt.filter=a;function l(ne){return ne}Xt.signal=l;function c(...ne){return(V,Q=null,q)=>{let Y=vn(...ne.map(ve=>ve(he=>V.call(Q,he))));return f(Y,q)}}Xt.any=c;function p(ne,V,Q,q){let Y=Q;return r(ne,ve=>(Y=V(Y,ve),Y),q)}Xt.reduce=p;function h(ne,V){let Q,q={onWillAddFirstListener(){Q=ne(Y.fire,Y)},onDidRemoveLastListener(){Q?.dispose()}};V||e(q);let Y=new L(q);return V?.add(Y),Y.event}function f(ne,V){return V instanceof Array?V.push(ne):V&&V.add(ne),ne}function T(ne,V,Q=100,q=!1,Y=!1,ve,he){let ze,xe,oe,Rn=0,mn,Li={leakWarningThreshold:ve,onWillAddFirstListener(){ze=ne(Jo=>{Rn++,xe=V(xe,Jo),q&&!oe&&(Nn.fire(xe),xe=void 0),mn=()=>{let Bt=xe;xe=void 0,oe=void 0,(!q||Rn>1)&&Nn.fire(Bt),Rn=0},typeof Q=="number"?(clearTimeout(oe),oe=setTimeout(mn,Q)):oe===void 0&&(oe=0,queueMicrotask(mn))})},onWillRemoveListener(){Y&&Rn>0&&mn?.()},onDidRemoveLastListener(){mn=void 0,ze.dispose()}};he||e(Li);let Nn=new L(Li);return he?.add(Nn),Nn.event}Xt.debounce=T;function w(ne,V=0,Q){return Xt.debounce(ne,(q,Y)=>q?(q.push(Y),q):[Y],V,void 0,!0,void 0,Q)}Xt.accumulate=w;function b(ne,V=(q,Y)=>q===Y,Q){let q=!0,Y;return a(ne,ve=>{let he=q||!V(ve,Y);return q=!1,Y=ve,he},Q)}Xt.latch=b;function x(ne,V,Q){return[Xt.filter(ne,V,Q),Xt.filter(ne,q=>!V(q),Q)]}Xt.split=x;function k(ne,V=!1,Q=[],q){let Y=Q.slice(),ve=ne(xe=>{Y?Y.push(xe):ze.fire(xe)});q&&q.add(ve);let he=()=>{Y?.forEach(xe=>ze.fire(xe)),Y=null},ze=new L({onWillAddFirstListener(){ve||(ve=ne(xe=>ze.fire(xe)),q&&q.add(ve))},onDidAddFirstListener(){Y&&(V?setTimeout(he):he())},onDidRemoveLastListener(){ve&&ve.dispose(),ve=null}});return q&&q.add(ze),ze.event}Xt.buffer=k;function _(ne,V){return(q,Y,ve)=>{let he=V(new M);return ne(function(ze){let xe=he.evaluate(ze);xe!==P&&q.call(Y,xe)},void 0,ve)}}Xt.chain=_;let P=Symbol("HaltChainable");class M{steps=[];map(V){return this.steps.push(V),this}forEach(V){return this.steps.push(Q=>(V(Q),Q)),this}filter(V){return this.steps.push(Q=>V(Q)?Q:P),this}reduce(V,Q){let q=Q;return this.steps.push(Y=>(q=V(q,Y),q)),this}latch(V=(Q,q)=>Q===q){let Q=!0,q;return this.steps.push(Y=>{let ve=Q||!V(Y,q);return Q=!1,q=Y,ve?Y:P}),this}evaluate(V){for(let Q of this.steps)if(V=Q(V),V===P)break;return V}}function R(ne,V,Q=q=>q){let q=(...ze)=>he.fire(Q(...ze)),Y=()=>ne.on(V,q),ve=()=>ne.removeListener(V,q),he=new L({onWillAddFirstListener:Y,onDidRemoveLastListener:ve});return he.event}Xt.fromNodeEventEmitter=R;function K(ne,V,Q=q=>q){let q=(...ze)=>he.fire(Q(...ze)),Y=()=>ne.addEventListener(V,q),ve=()=>ne.removeEventListener(V,q),he=new L({onWillAddFirstListener:Y,onDidRemoveLastListener:ve});return he.event}Xt.fromDOMEventEmitter=K;function U(ne){return new Promise(V=>i(ne)(V))}Xt.toPromise=U;function O(ne){let V=new L;return ne.then(Q=>{V.fire(Q)},()=>{V.fire(void 0)}).finally(()=>{V.dispose()}),V.event}Xt.fromPromise=O;function ie(ne,V){return ne(Q=>V.fire(Q))}Xt.forward=ie;function Se(ne,V,Q){return V(Q),ne(q=>V(q))}Xt.runAndSubscribe=Se;class ge{constructor(V,Q){this._observable=V;let q={onWillAddFirstListener:()=>{V.addObserver(this),this._observable.reportChanges()},onDidRemoveLastListener:()=>{V.removeObserver(this)}};Q||e(q),this.emitter=new L(q),Q&&Q.add(this.emitter)}emitter;_counter=0;_hasChanged=!1;beginUpdate(V){this._counter++}handlePossibleChange(V){}handleChange(V,Q){this._hasChanged=!0}endUpdate(V){this._counter--,this._counter===0&&(this._observable.reportChanges(),this._hasChanged&&(this._hasChanged=!1,this.emitter.fire(this._observable.get())))}}function le(ne,V){return new ge(ne,V).emitter.event}Xt.fromObservable=le;function wt(ne){return(V,Q,q)=>{let Y=0,ve=!1,he={beginUpdate(){Y++},endUpdate(){Y--,Y===0&&(ne.reportChanges(),ve&&(ve=!1,V.call(Q)))},handlePossibleChange(){},handleChange(){ve=!0}};ne.addObserver(he),ne.reportChanges();let ze={dispose(){ne.removeObserver(he)}};return q instanceof G?q.add(ze):Array.isArray(q)&&q.push(ze),ze}}Xt.fromObservableLight=wt})(N||={});var Bc=class n{static all=new Set;static _idPool=0;name;listenerCount=0;invocationCount=0;elapsedOverall=0;durations=[];_stopWatch;constructor(e){this.name=`${e}_${n._idPool++}`,n.all.add(this)}start(e){this._stopWatch=new ja,this.listenerCount=e}stop(){if(this._stopWatch){let e=this._stopWatch.elapsed();this.durations.push(e),this.elapsedOverall+=e,this.invocationCount+=1,this._stopWatch=void 0}}},qm=-1;var Hc=class n{constructor(e,t,i=(n._idPool++).toString(16).padStart(3,"0")){this._errorHandler=e;this.threshold=t;this.name=i}static _idPool=1;_stacks;_warnCountdown=0;dispose(){this._stacks?.clear()}check(e,t){let i=this.threshold;if(i<=0||t<i)return;this._stacks||(this._stacks=new Map);let o=this._stacks.get(e.value)||0;if(this._stacks.set(e.value,o+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=i*.5;let[r,s]=this.getMostFrequentStack(),a=`[${this.name}] potential listener LEAK detected, having ${t} listeners already. MOST frequent listener (${s}):`;console.warn(a),console.warn(r);let l=new Uc(a,r);this._errorHandler(l)}return()=>{let r=this._stacks.get(e.value)||0;this._stacks.set(e.value,r-1)}}getMostFrequentStack(){if(!this._stacks)return;let e,t=0;for(let[i,o]of this._stacks)(!e||t<o)&&(e=[i,o],t=o);return e}},ss=class n{constructor(e){this.value=e}static create(){let e=new Error;return new n(e.stack??"")}print(){console.warn(this.value.split(`
`).slice(2).join(`
`))}},Uc=class extends Error{constructor(e,t){super(e),this.name="ListenerLeakError",this.stack=t}},Kc=class extends Error{constructor(e,t){super(e),this.name="ListenerRefusalError",this.stack=t}},fT=0,ir=class{constructor(e){this.value=e}stack;id=fT++},gT=2,bT=(n,e)=>{if(n instanceof ir)e(n);else for(let t=0;t<n.length;t++){let i=n[t];i&&e(i)}},Xa;if(hT){let n=[];setInterval(()=>{n.length!==0&&(console.warn("[LEAKING LISTENERS] GC'ed these listeners that were NOT yet disposed:"),console.warn(n.join(`
`)),n.length=0)},3e3),Xa=new FinalizationRegistry(e=>{typeof e=="string"&&n.push(e)})}var L=class{_options;_leakageMon;_perfMon;_disposed;_event;_listeners;_deliveryQueue;_size=0;constructor(e){this._options=e,this._leakageMon=qm>0||this._options?.leakWarningThreshold?new Hc(e?.onListenerError??lt,this._options?.leakWarningThreshold??qm):void 0,this._perfMon=this._options?._profName?new Bc(this._options._profName):void 0,this._deliveryQueue=this._options?.deliveryQueue}dispose(){if(!this._disposed){if(this._disposed=!0,this._deliveryQueue?.current===this&&this._deliveryQueue.reset(),this._listeners){if(Gm){let e=this._listeners;queueMicrotask(()=>{bT(e,t=>t.stack?.print())})}this._listeners=void 0,this._size=0}this._options?.onDidRemoveLastListener?.(),this._leakageMon?.dispose()}}get event(){return this._event??=(e,t,i)=>{if(this._leakageMon&&this._size>this._leakageMon.threshold**2){let l=`[${this._leakageMon.name}] REFUSES to accept new listeners because it exceeded its threshold by far (${this._size} vs ${this._leakageMon.threshold})`;console.warn(l);let c=this._leakageMon.getMostFrequentStack()??["UNKNOWN stack",-1],p=new Kc(`${l}. HINT: Stack shows most frequent listener (${c[1]}-times)`,c[0]);return(this._options?.onListenerError||lt)(p),J.None}if(this._disposed)return J.None;t&&(e=e.bind(t));let o=new ir(e),r,s;this._leakageMon&&this._size>=Math.ceil(this._leakageMon.threshold*.2)&&(o.stack=ss.create(),r=this._leakageMon.check(o.stack,this._size+1)),Gm&&(o.stack=s??ss.create()),this._listeners?this._listeners instanceof ir?(this._deliveryQueue??=new Vc,this._listeners=[this._listeners,o]):this._listeners.push(o):(this._options?.onWillAddFirstListener?.(this),this._listeners=o,this._options?.onDidAddFirstListener?.(this)),this._size++;let a=ce(()=>{Xa?.unregister(a),r?.(),this._removeListener(o)});if(i instanceof G?i.add(a):Array.isArray(i)&&i.push(a),Xa){let l=new Error().stack.split(`
`).slice(2,3).join(`
`).trim(),c=/(file:|vscode-file:\/\/vscode-app)?(\/[^:]*:\d+:\d+)/.exec(l);Xa.register(a,c?.[2]??l,a)}return a},this._event}_removeListener(e){if(this._options?.onWillRemoveListener?.(this),!this._listeners)return;if(this._size===1){this._listeners=void 0,this._options?.onDidRemoveLastListener?.(this),this._size=0;return}let t=this._listeners,i=t.indexOf(e);if(i===-1)throw console.log("disposed?",this._disposed),console.log("size?",this._size),console.log("arr?",JSON.stringify(this._listeners)),new Error("Attempted to dispose unknown listener");this._size--,t[i]=void 0;let o=this._deliveryQueue.current===this;if(this._size*gT<=t.length){let r=0;for(let s=0;s<t.length;s++)t[s]?t[r++]=t[s]:o&&(this._deliveryQueue.end--,r<this._deliveryQueue.i&&this._deliveryQueue.i--);t.length=r}}_deliver(e,t){if(!e)return;let i=this._options?.onListenerError||lt;if(!i){e.value(t);return}try{e.value(t)}catch(o){i(o)}}_deliverQueue(e){let t=e.current._listeners;for(;e.i<e.end;)this._deliver(t[e.i++],e.value);e.reset()}fire(e){if(this._deliveryQueue?.current&&(this._deliverQueue(this._deliveryQueue),this._perfMon?.stop()),this._perfMon?.start(this._size),this._listeners)if(this._listeners instanceof ir)this._deliver(this._listeners,e);else{let t=this._deliveryQueue;t.enqueue(this,e,this._listeners.length),this._deliverQueue(t)}this._perfMon?.stop()}hasListeners(){return this._size>0}};var Vc=class{i=-1;end=0;current;value;enqueue(e,t,i){this.i=0,this.end=i,this.current=e,this.value=t}reset(){this.i=this.end,this.current=void 0,this.value=void 0}};var Ja=class extends L{_queuedEvents=[];_mergeFn;constructor(e){super(e),this._mergeFn=e?.merge}fire(e){this.hasListeners()&&(this._queuedEvents.push(e),this._queuedEvents.length===1&&queueMicrotask(()=>{this._mergeFn?super.fire(this._mergeFn(this._queuedEvents)):this._queuedEvents.forEach(t=>super.fire(t)),this._queuedEvents=[]}))}};var Mi=class{data=[];wrapEvent(e,t,i){return(o,r,s)=>e(a=>{let l=this.data[this.data.length-1];if(!t){l?l.buffers.push(()=>o.call(r,a)):o.call(r,a);return}let c=l;if(!c){o.call(r,t(i,a));return}c.items??=[],c.items.push(a),c.buffers.length===0&&l.buffers.push(()=>{c.reducedResult??=i?c.items.reduce(t,i):c.items.reduce(t),o.call(r,c.reducedResult)})},void 0,s)}bufferEvents(e){let t={buffers:new Array};this.data.push(t);let i=e();return this.data.pop(),t.buffers.forEach(o=>o()),i}},ci=class{listening=!1;inputEvent=N.None;inputEventListener=J.None;emitter=new L({onDidAddFirstListener:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onDidRemoveLastListener:()=>{this.listening=!1,this.inputEventListener.dispose()}});event=this.emitter.event;set input(e){this.inputEvent=e,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=e(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}};var jm=Object.freeze(function(n,e){let t=setTimeout(n.bind(e),0);return{dispose(){clearTimeout(t)}}}),as;(i=>{function n(o){return o===i.None||o===i.Cancelled||o instanceof or?!0:!o||typeof o!="object"?!1:typeof o.isCancellationRequested=="boolean"&&typeof o.onCancellationRequested=="function"}i.isCancellationToken=n,i.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:N.None}),i.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:jm})})(as||={});var or=class{_isCancelled=!1;_emitter=null;cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?jm:(this._emitter||(this._emitter=new L),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}},Pn=class{_token=void 0;_parentListener=void 0;constructor(e){this._parentListener=e&&e.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new or),this._token}cancel(){this._token?this._token instanceof or&&this._token.cancel():this._token=as.Cancelled}dispose(e=!1){e&&this.cancel(),this._parentListener?.dispose(),this._token?this._token instanceof or&&this._token.dispose():this._token=as.None}};function Ht(n,e=0){return n[n.length-(1+e)]}function Xm(n){if(n.length===0)throw new Error("Invalid tail call");return[n.slice(0,n.length-1),n[n.length-1]]}function ln(n,e,t=(i,o)=>i===o){if(n===e)return!0;if(!n||!e||n.length!==e.length)return!1;for(let i=0,o=n.length;i<o;i++)if(!t(n[i],e[i]))return!1;return!0}function Jm(n,e,t){return yT(n.length,i=>t(n[i],e))}function yT(n,e){let t=0,i=n-1;for(;t<=i;){let o=(t+i)/2|0,r=e(o);if(r<0)t=o+1;else if(r>0)i=o-1;else return o}return-(t+1)}function wo(n,e=t=>t){let t=new Set;return n.filter(i=>{let o=e(i);return t.has(o)?!1:(t.add(o),!0)})}function dt(n,e){let t=typeof e=="number"?n:0;typeof e=="number"?t=n:(t=0,e=n);let i=[];if(t<=e)for(let o=t;o<e;o++)i.push(o);else for(let o=t;o>e;o--)i.push(o);return i}function Za(n,e){let t=n.indexOf(e);t>-1&&(n.splice(t,1),n.unshift(e))}function ls(n,e){let t=n.indexOf(e);t>-1&&(n.splice(t,1),n.push(e))}function TT(n,e,t){let i=Zm(n,e),o=n.length,r=t.length;n.length=o+r;for(let s=o-1;s>=i;s--)n[s+r]=n[s];for(let s=0;s<r;s++)n[s+i]=t[s]}function Wc(n,e,t,i){let o=Zm(n,e),r=n.splice(o,t);return r===void 0&&(r=[]),TT(n,o,i),r}function Zm(n,e){return e<0?Math.max(e+n.length,0):Math.min(e,n.length)}var Qm;(a=>{function n(l){return l<0}a.isLessThan=n;function e(l){return l<=0}a.isLessThanOrEqual=e;function t(l){return l>0}a.isGreaterThan=t;function i(l){return l===0}a.isNeitherLessOrGreaterThan=i,a.greaterThan=1,a.lessThan=-1,a.neitherLessOrGreaterThan=0})(Qm||={});var Ym=class n{constructor(e){this.iterate=e}static empty=new n(e=>{});forEach(e){this.iterate(t=>(e(t),!0))}toArray(){let e=[];return this.iterate(t=>(e.push(t),!0)),e}filter(e){return new n(t=>this.iterate(i=>e(i)?t(i):!0))}map(e){return new n(t=>this.iterate(i=>t(e(i))))}some(e){let t=!1;return this.iterate(i=>(t=e(i),!t)),t}findFirst(e){let t;return this.iterate(i=>e(i)?(t=i,!1):!0),t}findLast(e){let t;return this.iterate(i=>(e(i)&&(t=i),!0)),t}findLastMaxBy(e){let t,i=!0;return this.iterate(o=>((i||Qm.isGreaterThan(e(o,t)))&&(i=!1,t=o),!0)),t}};function zc(){return globalThis._VSCODE_NLS_MESSAGES}function ds(){return globalThis._VSCODE_NLS_LANGUAGE}var IT=ds()==="pseudo"||typeof document<"u"&&document.location&&document.location.hash.indexOf("pseudo=true")>=0;function Qa(n,e){let t;return e.length===0?t=n:t=n.replace(/\{(\d+)\}/g,(i,o)=>{let r=o[0],s=e[r],a=i;return typeof s=="string"?a=s:(typeof s=="number"||typeof s=="boolean"||s===void 0||s===null)&&(a=String(s)),a}),IT&&(t="\uFF3B"+t.replace(/[aouei]/g,"$&$&")+"\uFF3D"),t}function d(n,e,...t){return Qa(typeof n=="number"?ef(n,e):e,t)}function ef(n,e){let t=zc()?.[n];if(typeof t!="string"){if(typeof e=="string")return e;throw new Error(`!!! NLS MISSING: ${n} !!!`)}return t}function Bn(n,e,...t){let i;typeof n=="number"?i=ef(n,e):i=e;let o=Qa(i,t);return{value:o,original:e===i?o:Qa(e,t)}}var rr="en",us=!1,ps=!1,cs=!1,xT=!1,nf=!1,Gc=!1,ET=!1,qc=!1,ST=!1,of=!1,el,tl=rr,tf=rr,wT,ui,pi=globalThis,Zt;typeof pi.vscode<"u"&&typeof pi.vscode.process<"u"?Zt=pi.vscode.process:typeof process<"u"&&typeof process?.versions?.node=="string"&&(Zt=process);var rf=typeof Zt?.versions?.electron=="string",DT=rf&&Zt?.type==="renderer";if(typeof Zt=="object"){us=Zt.platform==="win32",ps=Zt.platform==="darwin",cs=Zt.platform==="linux",xT=cs&&!!Zt.env.SNAP&&!!Zt.env.SNAP_REVISION,ET=rf,ST=!!Zt.env.CI||!!Zt.env.BUILD_ARTIFACTSTAGINGDIRECTORY,el=rr,tl=rr;let n=Zt.env.VSCODE_NLS_CONFIG;if(n)try{let e=JSON.parse(n);el=e.userLocale,tf=e.osLocale,tl=e.resolvedLanguage||rr,wT=e.languagePack?.translationsConfigFile}catch{}nf=!0}else typeof navigator=="object"&&!DT?(ui=navigator.userAgent,us=ui.indexOf("Windows")>=0,ps=ui.indexOf("Macintosh")>=0,qc=(ui.indexOf("Macintosh")>=0||ui.indexOf("iPad")>=0||ui.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,cs=ui.indexOf("Linux")>=0,of=ui?.indexOf("Mobi")>=0,Gc=!0,tl=ds()||rr,el=navigator.language.toLowerCase(),tf=el):console.error("Unable to resolve platform.");var $c=0;ps?$c=1:us?$c=3:cs&&($c=2);var ot=us,ke=ps,Ut=cs;var sr=nf;var hi=Gc,CT=Gc&&typeof pi.importScripts=="function",sf=CT?pi.origin:void 0,nl=qc,af=of;var Hn=ui,Pi=tl,_T;(i=>{function n(){return Pi}i.value=n;function e(){return Pi.length===2?Pi==="en":Pi.length>=3?Pi[0]==="e"&&Pi[1]==="n"&&Pi[2]==="-":!1}i.isDefaultVariant=e;function t(){return Pi==="en"}i.isDefault=t})(_T||={});var kT=typeof pi.postMessage=="function"&&!pi.importScripts,lf=(()=>{if(kT){let n=[];pi.addEventListener("message",t=>{if(t.data&&t.data.vscodeScheduleAsyncWork)for(let i=0,o=n.length;i<o;i++){let r=n[i];if(r.id===t.data.vscodeScheduleAsyncWork){n.splice(i,1),r.callback();return}}});let e=0;return t=>{let i=++e;n.push({id:i,callback:t}),pi.postMessage({vscodeScheduleAsyncWork:i},"*")}}return n=>setTimeout(n)})();var Bi=ps||qc?2:us?1:3;var jc=!!(Hn&&Hn.indexOf("Chrome")>=0),df=!!(Hn&&Hn.indexOf("Firefox")>=0),cf=!!(!jc&&Hn&&Hn.indexOf("Safari")>=0),uf=!!(Hn&&Hn.indexOf("Edg/")>=0),UD=!!(Hn&&Hn.indexOf("Android")>=0);var Do,Yc=globalThis.vscode;if(typeof Yc<"u"&&typeof Yc.process<"u"){let n=Yc.process;Do={get platform(){return n.platform},get arch(){return n.arch},get env(){return n.env},cwd(){return n.cwd()}}}else typeof process<"u"&&typeof process?.versions?.node=="string"?Do={get platform(){return process.platform},get arch(){return process.arch},get env(){return process.env},cwd(){return process.env.VSCODE_CWD||process.cwd()}}:Do={get platform(){return ot?"win32":ke?"darwin":"linux"},get arch(){},get env(){return{}},cwd(){return"/"}};var hs=Do.cwd,Xc=Do.env,Jc=Do.platform,LT=Do.arch;var RT=65,NT=97,OT=90,FT=122,Ki=46,vt=47,Kt=92,Hi=58,MT=63,il=class extends Error{code;constructor(e,t,i){let o;typeof t=="string"&&t.indexOf("not ")===0?(o="must not be",t=t.replace(/^not /,"")):o="must be";let r=e.indexOf(".")!==-1?"property":"argument",s=`The "${e}" ${r} ${o} of type ${t}`;s+=`. Received type ${typeof i}`,super(s),this.code="ERR_INVALID_ARG_TYPE"}};function PT(n,e){if(n===null||typeof n!="object")throw new il(e,"Object",n)}function rt(n,e){if(typeof n!="string")throw new il(e,"string",n)}var Vt=Jc==="win32";function we(n){return n===vt||n===Kt}function Zc(n){return n===vt}function Ui(n){return n>=RT&&n<=OT||n>=NT&&n<=FT}function ol(n,e,t,i){let o="",r=0,s=-1,a=0,l=0;for(let c=0;c<=n.length;++c){if(c<n.length)l=n.charCodeAt(c);else{if(i(l))break;l=vt}if(i(l)){if(!(s===c-1||a===1))if(a===2){if(o.length<2||r!==2||o.charCodeAt(o.length-1)!==Ki||o.charCodeAt(o.length-2)!==Ki){if(o.length>2){let p=o.lastIndexOf(t);p===-1?(o="",r=0):(o=o.slice(0,p),r=o.length-1-o.lastIndexOf(t)),s=c,a=0;continue}else if(o.length!==0){o="",r=0,s=c,a=0;continue}}e&&(o+=o.length>0?`${t}..`:"..",r=2)}else o.length>0?o+=`${t}${n.slice(s+1,c)}`:o=n.slice(s+1,c),r=c-s-1;s=c,a=0}else l===Ki&&a!==-1?++a:a=-1}return o}function BT(n){return n?`${n[0]==="."?"":"."}${n}`:""}function pf(n,e){PT(e,"pathObject");let t=e.dir||e.root,i=e.base||`${e.name||""}${BT(e.ext)}`;return t?t===e.root?`${t}${i}`:`${t}${n}${i}`:i}var et={resolve(...n){let e="",t="",i=!1;for(let o=n.length-1;o>=-1;o--){let r;if(o>=0){if(r=n[o],rt(r,`paths[${o}]`),r.length===0)continue}else e.length===0?r=hs():(r=Xc[`=${e}`]||hs(),(r===void 0||r.slice(0,2).toLowerCase()!==e.toLowerCase()&&r.charCodeAt(2)===Kt)&&(r=`${e}\\`));let s=r.length,a=0,l="",c=!1,p=r.charCodeAt(0);if(s===1)we(p)&&(a=1,c=!0);else if(we(p))if(c=!0,we(r.charCodeAt(1))){let h=2,f=h;for(;h<s&&!we(r.charCodeAt(h));)h++;if(h<s&&h!==f){let T=r.slice(f,h);for(f=h;h<s&&we(r.charCodeAt(h));)h++;if(h<s&&h!==f){for(f=h;h<s&&!we(r.charCodeAt(h));)h++;(h===s||h!==f)&&(l=`\\\\${T}\\${r.slice(f,h)}`,a=h)}}}else a=1;else Ui(p)&&r.charCodeAt(1)===Hi&&(l=r.slice(0,2),a=2,s>2&&we(r.charCodeAt(2))&&(c=!0,a=3));if(l.length>0)if(e.length>0){if(l.toLowerCase()!==e.toLowerCase())continue}else e=l;if(i){if(e.length>0)break}else if(t=`${r.slice(a)}\\${t}`,i=c,c&&e.length>0)break}return t=ol(t,!i,"\\",we),i?`${e}\\${t}`:`${e}${t}`||"."},normalize(n){rt(n,"path");let e=n.length;if(e===0)return".";let t=0,i,o=!1,r=n.charCodeAt(0);if(e===1)return Zc(r)?"\\":n;if(we(r))if(o=!0,we(n.charCodeAt(1))){let a=2,l=a;for(;a<e&&!we(n.charCodeAt(a));)a++;if(a<e&&a!==l){let c=n.slice(l,a);for(l=a;a<e&&we(n.charCodeAt(a));)a++;if(a<e&&a!==l){for(l=a;a<e&&!we(n.charCodeAt(a));)a++;if(a===e)return`\\\\${c}\\${n.slice(l)}\\`;a!==l&&(i=`\\\\${c}\\${n.slice(l,a)}`,t=a)}}}else t=1;else Ui(r)&&n.charCodeAt(1)===Hi&&(i=n.slice(0,2),t=2,e>2&&we(n.charCodeAt(2))&&(o=!0,t=3));let s=t<e?ol(n.slice(t),!o,"\\",we):"";return s.length===0&&!o&&(s="."),s.length>0&&we(n.charCodeAt(e-1))&&(s+="\\"),i===void 0?o?`\\${s}`:s:o?`${i}\\${s}`:`${i}${s}`},isAbsolute(n){rt(n,"path");let e=n.length;if(e===0)return!1;let t=n.charCodeAt(0);return we(t)||e>2&&Ui(t)&&n.charCodeAt(1)===Hi&&we(n.charCodeAt(2))},join(...n){if(n.length===0)return".";let e,t;for(let r=0;r<n.length;++r){let s=n[r];rt(s,"path"),s.length>0&&(e===void 0?e=t=s:e+=`\\${s}`)}if(e===void 0)return".";let i=!0,o=0;if(typeof t=="string"&&we(t.charCodeAt(0))){++o;let r=t.length;r>1&&we(t.charCodeAt(1))&&(++o,r>2&&(we(t.charCodeAt(2))?++o:i=!1))}if(i){for(;o<e.length&&we(e.charCodeAt(o));)o++;o>=2&&(e=`\\${e.slice(o)}`)}return et.normalize(e)},relative(n,e){if(rt(n,"from"),rt(e,"to"),n===e)return"";let t=et.resolve(n),i=et.resolve(e);if(t===i||(n=t.toLowerCase(),e=i.toLowerCase(),n===e))return"";let o=0;for(;o<n.length&&n.charCodeAt(o)===Kt;)o++;let r=n.length;for(;r-1>o&&n.charCodeAt(r-1)===Kt;)r--;let s=r-o,a=0;for(;a<e.length&&e.charCodeAt(a)===Kt;)a++;let l=e.length;for(;l-1>a&&e.charCodeAt(l-1)===Kt;)l--;let c=l-a,p=s<c?s:c,h=-1,f=0;for(;f<p;f++){let w=n.charCodeAt(o+f);if(w!==e.charCodeAt(a+f))break;w===Kt&&(h=f)}if(f!==p){if(h===-1)return i}else{if(c>p){if(e.charCodeAt(a+f)===Kt)return i.slice(a+f+1);if(f===2)return i.slice(a+f)}s>p&&(n.charCodeAt(o+f)===Kt?h=f:f===2&&(h=3)),h===-1&&(h=0)}let T="";for(f=o+h+1;f<=r;++f)(f===r||n.charCodeAt(f)===Kt)&&(T+=T.length===0?"..":"\\..");return a+=h,T.length>0?`${T}${i.slice(a,l)}`:(i.charCodeAt(a)===Kt&&++a,i.slice(a,l))},toNamespacedPath(n){if(typeof n!="string"||n.length===0)return n;let e=et.resolve(n);if(e.length<=2)return n;if(e.charCodeAt(0)===Kt){if(e.charCodeAt(1)===Kt){let t=e.charCodeAt(2);if(t!==MT&&t!==Ki)return`\\\\?\\UNC\\${e.slice(2)}`}}else if(Ui(e.charCodeAt(0))&&e.charCodeAt(1)===Hi&&e.charCodeAt(2)===Kt)return`\\\\?\\${e}`;return n},dirname(n){rt(n,"path");let e=n.length;if(e===0)return".";let t=-1,i=0,o=n.charCodeAt(0);if(e===1)return we(o)?n:".";if(we(o)){if(t=i=1,we(n.charCodeAt(1))){let a=2,l=a;for(;a<e&&!we(n.charCodeAt(a));)a++;if(a<e&&a!==l){for(l=a;a<e&&we(n.charCodeAt(a));)a++;if(a<e&&a!==l){for(l=a;a<e&&!we(n.charCodeAt(a));)a++;if(a===e)return n;a!==l&&(t=i=a+1)}}}}else Ui(o)&&n.charCodeAt(1)===Hi&&(t=e>2&&we(n.charCodeAt(2))?3:2,i=t);let r=-1,s=!0;for(let a=e-1;a>=i;--a)if(we(n.charCodeAt(a))){if(!s){r=a;break}}else s=!1;if(r===-1){if(t===-1)return".";r=t}return n.slice(0,r)},basename(n,e){e!==void 0&&rt(e,"suffix"),rt(n,"path");let t=0,i=-1,o=!0,r;if(n.length>=2&&Ui(n.charCodeAt(0))&&n.charCodeAt(1)===Hi&&(t=2),e!==void 0&&e.length>0&&e.length<=n.length){if(e===n)return"";let s=e.length-1,a=-1;for(r=n.length-1;r>=t;--r){let l=n.charCodeAt(r);if(we(l)){if(!o){t=r+1;break}}else a===-1&&(o=!1,a=r+1),s>=0&&(l===e.charCodeAt(s)?--s===-1&&(i=r):(s=-1,i=a))}return t===i?i=a:i===-1&&(i=n.length),n.slice(t,i)}for(r=n.length-1;r>=t;--r)if(we(n.charCodeAt(r))){if(!o){t=r+1;break}}else i===-1&&(o=!1,i=r+1);return i===-1?"":n.slice(t,i)},extname(n){rt(n,"path");let e=0,t=-1,i=0,o=-1,r=!0,s=0;n.length>=2&&n.charCodeAt(1)===Hi&&Ui(n.charCodeAt(0))&&(e=i=2);for(let a=n.length-1;a>=e;--a){let l=n.charCodeAt(a);if(we(l)){if(!r){i=a+1;break}continue}o===-1&&(r=!1,o=a+1),l===Ki?t===-1?t=a:s!==1&&(s=1):t!==-1&&(s=-1)}return t===-1||o===-1||s===0||s===1&&t===o-1&&t===i+1?"":n.slice(t,o)},format:pf.bind(null,"\\"),parse(n){rt(n,"path");let e={root:"",dir:"",base:"",ext:"",name:""};if(n.length===0)return e;let t=n.length,i=0,o=n.charCodeAt(0);if(t===1)return we(o)?(e.root=e.dir=n,e):(e.base=e.name=n,e);if(we(o)){if(i=1,we(n.charCodeAt(1))){let h=2,f=h;for(;h<t&&!we(n.charCodeAt(h));)h++;if(h<t&&h!==f){for(f=h;h<t&&we(n.charCodeAt(h));)h++;if(h<t&&h!==f){for(f=h;h<t&&!we(n.charCodeAt(h));)h++;h===t?i=h:h!==f&&(i=h+1)}}}}else if(Ui(o)&&n.charCodeAt(1)===Hi){if(t<=2)return e.root=e.dir=n,e;if(i=2,we(n.charCodeAt(2))){if(t===3)return e.root=e.dir=n,e;i=3}}i>0&&(e.root=n.slice(0,i));let r=-1,s=i,a=-1,l=!0,c=n.length-1,p=0;for(;c>=i;--c){if(o=n.charCodeAt(c),we(o)){if(!l){s=c+1;break}continue}a===-1&&(l=!1,a=c+1),o===Ki?r===-1?r=c:p!==1&&(p=1):r!==-1&&(p=-1)}return a!==-1&&(r===-1||p===0||p===1&&r===a-1&&r===s+1?e.base=e.name=n.slice(s,a):(e.name=n.slice(s,r),e.base=n.slice(s,a),e.ext=n.slice(r,a))),s>0&&s!==i?e.dir=n.slice(0,s-1):e.dir=e.root,e},sep:"\\",delimiter:";",win32:null,posix:null},HT=(()=>{if(Vt){let n=/\\/g;return()=>{let e=hs().replace(n,"/");return e.slice(e.indexOf("/"))}}return()=>hs()})(),Ae={resolve(...n){let e="",t=!1;for(let i=n.length-1;i>=-1&&!t;i--){let o=i>=0?n[i]:HT();rt(o,`paths[${i}]`),o.length!==0&&(e=`${o}/${e}`,t=o.charCodeAt(0)===vt)}return e=ol(e,!t,"/",Zc),t?`/${e}`:e.length>0?e:"."},normalize(n){if(rt(n,"path"),n.length===0)return".";let e=n.charCodeAt(0)===vt,t=n.charCodeAt(n.length-1)===vt;return n=ol(n,!e,"/",Zc),n.length===0?e?"/":t?"./":".":(t&&(n+="/"),e?`/${n}`:n)},isAbsolute(n){return rt(n,"path"),n.length>0&&n.charCodeAt(0)===vt},join(...n){if(n.length===0)return".";let e;for(let t=0;t<n.length;++t){let i=n[t];rt(i,"path"),i.length>0&&(e===void 0?e=i:e+=`/${i}`)}return e===void 0?".":Ae.normalize(e)},relative(n,e){if(rt(n,"from"),rt(e,"to"),n===e||(n=Ae.resolve(n),e=Ae.resolve(e),n===e))return"";let t=1,i=n.length,o=i-t,r=1,s=e.length-r,a=o<s?o:s,l=-1,c=0;for(;c<a;c++){let h=n.charCodeAt(t+c);if(h!==e.charCodeAt(r+c))break;h===vt&&(l=c)}if(c===a)if(s>a){if(e.charCodeAt(r+c)===vt)return e.slice(r+c+1);if(c===0)return e.slice(r+c)}else o>a&&(n.charCodeAt(t+c)===vt?l=c:c===0&&(l=0));let p="";for(c=t+l+1;c<=i;++c)(c===i||n.charCodeAt(c)===vt)&&(p+=p.length===0?"..":"/..");return`${p}${e.slice(r+l)}`},toNamespacedPath(n){return n},dirname(n){if(rt(n,"path"),n.length===0)return".";let e=n.charCodeAt(0)===vt,t=-1,i=!0;for(let o=n.length-1;o>=1;--o)if(n.charCodeAt(o)===vt){if(!i){t=o;break}}else i=!1;return t===-1?e?"/":".":e&&t===1?"//":n.slice(0,t)},basename(n,e){e!==void 0&&rt(e,"ext"),rt(n,"path");let t=0,i=-1,o=!0,r;if(e!==void 0&&e.length>0&&e.length<=n.length){if(e===n)return"";let s=e.length-1,a=-1;for(r=n.length-1;r>=0;--r){let l=n.charCodeAt(r);if(l===vt){if(!o){t=r+1;break}}else a===-1&&(o=!1,a=r+1),s>=0&&(l===e.charCodeAt(s)?--s===-1&&(i=r):(s=-1,i=a))}return t===i?i=a:i===-1&&(i=n.length),n.slice(t,i)}for(r=n.length-1;r>=0;--r)if(n.charCodeAt(r)===vt){if(!o){t=r+1;break}}else i===-1&&(o=!1,i=r+1);return i===-1?"":n.slice(t,i)},extname(n){rt(n,"path");let e=-1,t=0,i=-1,o=!0,r=0;for(let s=n.length-1;s>=0;--s){let a=n.charCodeAt(s);if(a===vt){if(!o){t=s+1;break}continue}i===-1&&(o=!1,i=s+1),a===Ki?e===-1?e=s:r!==1&&(r=1):e!==-1&&(r=-1)}return e===-1||i===-1||r===0||r===1&&e===i-1&&e===t+1?"":n.slice(e,i)},format:pf.bind(null,"/"),parse(n){rt(n,"path");let e={root:"",dir:"",base:"",ext:"",name:""};if(n.length===0)return e;let t=n.charCodeAt(0)===vt,i;t?(e.root="/",i=1):i=0;let o=-1,r=0,s=-1,a=!0,l=n.length-1,c=0;for(;l>=i;--l){let p=n.charCodeAt(l);if(p===vt){if(!a){r=l+1;break}continue}s===-1&&(a=!1,s=l+1),p===Ki?o===-1?o=l:c!==1&&(c=1):o!==-1&&(c=-1)}if(s!==-1){let p=r===0&&t?1:r;o===-1||c===0||c===1&&o===s-1&&o===r+1?e.base=e.name=n.slice(p,s):(e.name=n.slice(p,o),e.base=n.slice(p,s),e.ext=n.slice(o,s))}return r>0?e.dir=n.slice(0,r-1):t&&(e.dir="/"),e},sep:"/",delimiter:":",win32:null,posix:null};Ae.win32=et.win32=et;Ae.posix=et.posix=Ae;var Qc=Vt?et.normalize:Ae.normalize,eu=Vt?et.isAbsolute:Ae.isAbsolute,ms=Vt?et.join:Ae.join,hf=Vt?et.resolve:Ae.resolve,mf=Vt?et.relative:Ae.relative,ff=Vt?et.dirname:Ae.dirname,rl=Vt?et.basename:Ae.basename,tu=Vt?et.extname:Ae.extname,WD=Vt?et.format:Ae.format,zD=Vt?et.parse:Ae.parse,$D=Vt?et.toNamespacedPath:Ae.toNamespacedPath,mi=Vt?et.sep:Ae.sep,GD=Vt?et.delimiter:Ae.delimiter;var KT=/^\w[\w\d+.-]*$/,VT=/^\//,WT=/^\/\//;function zT(n,e){if(!n.scheme&&e)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${n.authority}", path: "${n.path}", query: "${n.query}", fragment: "${n.fragment}"}`);if(n.scheme&&!KT.test(n.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(n.path){if(n.authority){if(!VT.test(n.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(WT.test(n.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function $T(n,e){return!n&&!e?"file":n}function GT(n,e){switch(n){case"https":case"http":case"file":e?e[0]!==yn&&(e=yn+e):e=yn;break}return e}var We="",yn="/",qT=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,De=class n{static isUri(e){return e instanceof n?!0:e?typeof e.authority=="string"&&typeof e.fragment=="string"&&typeof e.path=="string"&&typeof e.query=="string"&&typeof e.scheme=="string"&&typeof e.fsPath=="string"&&typeof e.with=="function"&&typeof e.toString=="function":!1}scheme;authority;path;query;fragment;constructor(e,t,i,o,r,s=!1){typeof e=="object"?(this.scheme=e.scheme||We,this.authority=e.authority||We,this.path=e.path||We,this.query=e.query||We,this.fragment=e.fragment||We):(this.scheme=$T(e,s),this.authority=t||We,this.path=GT(this.scheme,i||We),this.query=o||We,this.fragment=r||We,zT(this,s))}get fsPath(){return fs(this,!1)}with(e){if(!e)return this;let{scheme:t,authority:i,path:o,query:r,fragment:s}=e;return t===void 0?t=this.scheme:t===null&&(t=We),i===void 0?i=this.authority:i===null&&(i=We),o===void 0?o=this.path:o===null&&(o=We),r===void 0?r=this.query:r===null&&(r=We),s===void 0?s=this.fragment:s===null&&(s=We),t===this.scheme&&i===this.authority&&o===this.path&&r===this.query&&s===this.fragment?this:new Vi(t,i,o,r,s)}static parse(e,t=!1){let i=qT.exec(e);return i?new Vi(i[2]||We,sl(i[4]||We),sl(i[5]||We),sl(i[7]||We),sl(i[9]||We),t):new Vi(We,We,We,We,We)}static file(e){let t=We;if(ot&&(e=e.replace(/\\/g,yn)),e[0]===yn&&e[1]===yn){let i=e.indexOf(yn,2);i===-1?(t=e.substring(2),e=yn):(t=e.substring(2,i),e=e.substring(i)||yn)}return new Vi("file",t,e,We,We)}static from(e,t){return new Vi(e.scheme,e.authority,e.path,e.query,e.fragment,t)}static joinPath(e,...t){if(!e.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let i;return ot&&e.scheme==="file"?i=n.file(et.join(fs(e,!0),...t)).path:i=Ae.join(e.path,...t),e.with({path:i})}toString(e=!1){return iu(this,e)}toJSON(){return this}static revive(e){if(e){if(e instanceof n)return e;{let t=new Vi(e);return t._formatted=e.external??null,t._fsPath=e._sep===vf?e.fsPath??null:null,t}}else return e}[Symbol.for("debug.description")](){return`URI(${this.toString()})`}};var vf=ot?1:void 0,Vi=class extends De{_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=fs(this,!1)),this._fsPath}toString(e=!1){return e?iu(this,!0):(this._formatted||(this._formatted=iu(this,!1)),this._formatted)}toJSON(){let e={$mid:1};return this._fsPath&&(e.fsPath=this._fsPath,e._sep=vf),this._formatted&&(e.external=this._formatted),this.path&&(e.path=this.path),this.scheme&&(e.scheme=this.scheme),this.authority&&(e.authority=this.authority),this.query&&(e.query=this.query),this.fragment&&(e.fragment=this.fragment),e}},yf={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function gf(n,e,t){let i,o=-1;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);if(s>=97&&s<=122||s>=65&&s<=90||s>=48&&s<=57||s===45||s===46||s===95||s===126||e&&s===47||t&&s===91||t&&s===93||t&&s===58)o!==-1&&(i+=encodeURIComponent(n.substring(o,r)),o=-1),i!==void 0&&(i+=n.charAt(r));else{i===void 0&&(i=n.substr(0,r));let a=yf[s];a!==void 0?(o!==-1&&(i+=encodeURIComponent(n.substring(o,r)),o=-1),i+=a):o===-1&&(o=r)}}return o!==-1&&(i+=encodeURIComponent(n.substring(o))),i!==void 0?i:n}function jT(n){let e;for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);i===35||i===63?(e===void 0&&(e=n.substr(0,t)),e+=yf[i]):e!==void 0&&(e+=n[t])}return e!==void 0?e:n}function fs(n,e){let t;return n.authority&&n.path.length>1&&n.scheme==="file"?t=`//${n.authority}${n.path}`:n.path.charCodeAt(0)===47&&(n.path.charCodeAt(1)>=65&&n.path.charCodeAt(1)<=90||n.path.charCodeAt(1)>=97&&n.path.charCodeAt(1)<=122)&&n.path.charCodeAt(2)===58?e?t=n.path.substr(1):t=n.path[1].toLowerCase()+n.path.substr(2):t=n.path,ot&&(t=t.replace(/\//g,"\\")),t}function iu(n,e){let t=e?jT:gf,i="",{scheme:o,authority:r,path:s,query:a,fragment:l}=n;if(o&&(i+=o,i+=":"),(r||o==="file")&&(i+=yn,i+=yn),r){let c=r.indexOf("@");if(c!==-1){let p=r.substr(0,c);r=r.substr(c+1),c=p.lastIndexOf(":"),c===-1?i+=t(p,!1,!1):(i+=t(p.substr(0,c),!1,!1),i+=":",i+=t(p.substr(c+1),!1,!0)),i+="@"}r=r.toLowerCase(),c=r.lastIndexOf(":"),c===-1?i+=t(r,!1,!0):(i+=t(r.substr(0,c),!1,!0),i+=r.substr(c))}if(s){if(s.length>=3&&s.charCodeAt(0)===47&&s.charCodeAt(2)===58){let c=s.charCodeAt(1);c>=65&&c<=90&&(s=`/${String.fromCharCode(c+32)}:${s.substr(3)}`)}else if(s.length>=2&&s.charCodeAt(1)===58){let c=s.charCodeAt(0);c>=65&&c<=90&&(s=`${String.fromCharCode(c+32)}:${s.substr(2)}`)}i+=t(s,!0,!1)}return a&&(i+="?",i+=t(a,!1,!1)),l&&(i+="#",i+=e?l:gf(l,!1,!1)),i}function Tf(n){try{return decodeURIComponent(n)}catch{return n.length>3?n.substr(0,3)+Tf(n.substr(3)):n}}var bf=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function sl(n){return n.match(bf)?n.replace(bf,e=>Tf(e)):n}var ou=class{[Symbol.toStringTag]="LinkedMap";_map;_head;_tail;_size;_state;constructor(){this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(e){return this._map.has(e)}get(e,t=0){let i=this._map.get(e);if(i)return t!==0&&this.touch(i,t),i.value}set(e,t,i=0){let o=this._map.get(e);if(o)o.value=t,i!==0&&this.touch(o,i);else{switch(o={key:e,value:t,next:void 0,previous:void 0},i){case 0:this.addItemLast(o);break;case 1:this.addItemFirst(o);break;case 2:this.addItemLast(o);break;default:this.addItemLast(o);break}this._map.set(e,o),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let t=this._map.get(e);if(t)return this._map.delete(e),this.removeItem(t),this._size--,t.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){let i=this._state,o=this._head;for(;o;){if(t?e.bind(t)(o.value,o.key,this):e(o.value,o.key,this),this._state!==i)throw new Error("LinkedMap got modified during iteration.");o=o.next}}keys(){let e=this,t=this._state,i=this._head,o={[Symbol.iterator](){return o},next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(i){let r={value:i.key,done:!1};return i=i.next,r}else return{value:void 0,done:!0}}};return o}values(){let e=this,t=this._state,i=this._head,o={[Symbol.iterator](){return o},next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(i){let r={value:i.value,done:!1};return i=i.next,r}else return{value:void 0,done:!0}}};return o}entries(){let e=this,t=this._state,i=this._head,o={[Symbol.iterator](){return o},next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(i){let r={value:[i.key,i.value],done:!1};return i=i.next,r}else return{value:void 0,done:!0}}};return o}[Symbol.iterator](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let t=this._head,i=this.size;for(;t&&i>e;)this._map.delete(t.key),t=t.next,i--;this._head=t,this._size=i,t&&(t.previous=void 0),this._state++}trimNew(e){if(e>=this.size)return;if(e===0){this.clear();return}let t=this._tail,i=this.size;for(;t&&i>e;)this._map.delete(t.key),t=t.previous,i--;this._tail=t,this._size=i,t&&(t.next=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let t=e.next,i=e.previous;if(!t||!i)throw new Error("Invalid list");t.previous=i,i.next=t}e.next=void 0,e.previous=void 0,this._state++}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(t!==1&&t!==2)){if(t===1){if(e===this._head)return;let i=e.next,o=e.previous;e===this._tail?(o.next=void 0,this._tail=o):(i.previous=o,o.next=i),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(t===2){if(e===this._tail)return;let i=e.next,o=e.previous;e===this._head?(i.previous=void 0,this._head=i):(i.previous=o,o.next=i),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((t,i)=>{e.push([i,t])}),e}fromJSON(e){this.clear();for(let[t,i]of e)this.set(t,i)}},ru=class extends ou{_limit;_ratio;constructor(e,t=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,t),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,t=2){return super.get(e,t)}peek(e){return super.get(e,0)}set(e,t){return super.set(e,t,2),this}checkTrim(){this.size>this._limit&&this.trim(Math.round(this._limit*this._ratio))}},ar=class extends ru{constructor(e,t=1){super(e,t)}trim(e){this.trimOld(e)}set(e,t){return super.set(e,t),this.checkTrim(),this}};var gs=class{map=new Map;add(e,t){let i=this.map.get(e);i||(i=new Set,this.map.set(e,i)),i.add(t)}delete(e,t){let i=this.map.get(e);i&&(i.delete(t),i.size===0&&this.map.delete(e))}forEach(e,t){let i=this.map.get(e);i&&i.forEach(t)}get(e){let t=this.map.get(e);return t||new Set}};var ye;(P=>{function n(M){return M&&typeof M=="object"&&typeof M[Symbol.iterator]=="function"}P.is=n;let e=Object.freeze([]);function t(){return e}P.empty=t;function*i(M){yield M}P.single=i;function o(M){return n(M)?M:i(M)}P.wrap=o;function r(M){return M||e}P.from=r;function*s(M){for(let R=M.length-1;R>=0;R--)yield M[R]}P.reverse=s;function a(M){return!M||M[Symbol.iterator]().next().done===!0}P.isEmpty=a;function l(M){return M[Symbol.iterator]().next().value}P.first=l;function c(M,R){let K=0;for(let U of M)if(R(U,K++))return!0;return!1}P.some=c;function p(M,R){for(let K of M)if(R(K))return K}P.find=p;function*h(M,R){for(let K of M)R(K)&&(yield K)}P.filter=h;function*f(M,R){let K=0;for(let U of M)yield R(U,K++)}P.map=f;function*T(M,R){let K=0;for(let U of M)yield*R(U,K++)}P.flatMap=T;function*w(...M){for(let R of M)yield*R}P.concat=w;function b(M,R,K){let U=K;for(let O of M)U=R(U,O);return U}P.reduce=b;function*x(M,R,K=M.length){for(R<0&&(R+=M.length),K<0?K+=M.length:K>M.length&&(K=M.length);R<K;R++)yield M[R]}P.slice=x;function k(M,R=Number.POSITIVE_INFINITY){let K=[];if(R===0)return[K,M];let U=M[Symbol.iterator]();for(let O=0;O<R;O++){let ie=U.next();if(ie.done)return[K,P.empty()];K.push(ie.value)}return[K,{[Symbol.iterator](){return U}}]}P.consume=k;async function _(M){let R=[];for await(let K of M)R.push(K);return Promise.resolve(R)}P.asyncToArray=_})(ye||={});var YT=!1,Co=null;function XT(n){Co=n}if(YT){let n="__is_disposable_tracked__";XT(new class{trackDisposable(e){let t=new Error("Potentially leaked disposable").stack;setTimeout(()=>{e[n]||console.log(t)},3e3)}setParent(e,t){if(e&&e!==J.None)try{e[n]=!0}catch{}}markAsDisposed(e){if(e&&e!==J.None)try{e[n]=!0}catch{}}markAsSingleton(e){}})}function Io(n){return Co?.trackDisposable(n),n}function xo(n){Co?.markAsDisposed(n)}function bs(n,e){Co?.setParent(n,e)}function JT(n,e){if(Co)for(let t of n)Co.setParent(t,e)}function su(n){return Co?.markAsSingleton(n),n}function $e(n){if(ye.is(n)){let e=[];for(let t of n)if(t)try{t.dispose()}catch(i){e.push(i)}if(e.length===1)throw e[0];if(e.length>1)throw new AggregateError(e,"Encountered errors while disposing of store");return Array.isArray(n)?[]:n}else if(n)return n.dispose(),n}function vn(...n){let e=ce(()=>$e(n));return JT(n,e),e}function ce(n){let e=Io({dispose:Ac(()=>{xo(e),n()})});return e}var G=class n{static DISABLE_DISPOSED_WARNING=!1;_toDispose=new Set;_isDisposed=!1;constructor(){Io(this)}dispose(){this._isDisposed||(xo(this),this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){if(this._toDispose.size!==0)try{$e(this._toDispose)}finally{this._toDispose.clear()}}add(e){if(!e)return e;if(e===this)throw new Error("Cannot register a disposable on itself!");return bs(e,this),this._isDisposed?n.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(e),e}delete(e){if(e){if(e===this)throw new Error("Cannot dispose a disposable on itself!");this._toDispose.delete(e),e.dispose()}}deleteAndLeak(e){e&&this._toDispose.has(e)&&(this._toDispose.delete(e),bs(e,null))}},J=class{static None=Object.freeze({dispose(){}});_store=new G;constructor(){Io(this),bs(this._store,this)}dispose(){xo(this),this._store.dispose()}_register(e){if(e===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(e)}},fi=class{_value;_isDisposed=!1;constructor(){Io(this)}get value(){return this._isDisposed?void 0:this._value}set value(e){this._isDisposed||e===this._value||(this._value?.dispose(),e&&bs(e,this),this._value=e)}clear(){this.value=void 0}dispose(){this._isDisposed=!0,xo(this),this._value?.dispose(),this._value=void 0}clearAndLeak(){let e=this._value;return this._value=void 0,e&&bs(e,null),e}};var So=class{_store=new Map;_isDisposed=!1;constructor(){Io(this)}dispose(){xo(this),this._isDisposed=!0,this.clearAndDisposeAll()}clearAndDisposeAll(){if(this._store.size)try{$e(this._store.values())}finally{this._store.clear()}}has(e){return this._store.has(e)}get size(){return this._store.size}get(e){return this._store.get(e)}set(e,t,i=!1){this._isDisposed&&console.warn(new Error("Trying to add a disposable to a DisposableMap that has already been disposed of. The added object will be leaked!").stack),i||this._store.get(e)?.dispose(),this._store.set(e,t)}deleteAndDispose(e){this._store.get(e)?.dispose(),this._store.delete(e)}deleteAndLeak(e){let t=this._store.get(e);return this._store.delete(e),t}keys(){return this._store.keys()}values(){return this._store.values()}[Symbol.iterator](){return this._store[Symbol.iterator]()}};function If(n,e){let t=n;typeof t.vscodeWindowId!="number"&&Object.defineProperty(t,"vscodeWindowId",{get:()=>e})}var tt=window;var vs=class n{static INSTANCE=new n;mapWindowIdToZoomLevel=new Map;_onDidChangeZoomLevel=new L;onDidChangeZoomLevel=this._onDidChangeZoomLevel.event;getZoomLevel(e){return this.mapWindowIdToZoomLevel.get(this.getWindowId(e))??0}setZoomLevel(e,t){if(this.getZoomLevel(t)===e)return;let i=this.getWindowId(t);this.mapWindowIdToZoomLevel.set(i,e),this._onDidChangeZoomLevel.fire(i)}mapWindowIdToZoomFactor=new Map;getZoomFactor(e){return this.mapWindowIdToZoomFactor.get(this.getWindowId(e))??1}setZoomFactor(e,t){this.mapWindowIdToZoomFactor.set(this.getWindowId(t),e)}_onDidChangeFullscreen=new L;onDidChangeFullscreen=this._onDidChangeFullscreen.event;mapWindowIdToFullScreen=new Map;setFullscreen(e,t){if(this.isFullscreen(t)===e)return;let i=this.getWindowId(t);this.mapWindowIdToFullScreen.set(i,e),this._onDidChangeFullscreen.fire(i)}isFullscreen(e){return!!this.mapWindowIdToFullScreen.get(this.getWindowId(e))}getWindowId(e){return e.vscodeWindowId}};function ZT(n,e,t){typeof e=="string"&&(e=n.matchMedia(e)),e.addEventListener("change",t)}var fC=vs.INSTANCE.onDidChangeZoomLevel;function xf(n){return vs.INSTANCE.getZoomFactor(n)}var gC=vs.INSTANCE.onDidChangeFullscreen,lr=navigator.userAgent,Wi=lr.indexOf("Firefox")>=0,dr=lr.indexOf("AppleWebKit")>=0,ys=lr.indexOf("Chrome")>=0,ll=!ys&&lr.indexOf("Safari")>=0;var bC=lr.indexOf("Electron/")>=0,vC=lr.indexOf("Android")>=0,al=!1;if(typeof tt.matchMedia=="function"){let n=tt.matchMedia("(display-mode: standalone) or (display-mode: window-controls-overlay)"),e=tt.matchMedia("(display-mode: fullscreen)");al=n.matches,ZT(tt,n,({matches:t})=>{al&&e.matches||(al=t)})}function Ef(){return al}var Sf={clipboard:{writeText:sr||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:sr||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText)},keyboard:sr||Ef()?0:navigator.keyboard||ll?1:2,touch:"ontouchstart"in tt||navigator.maxTouchPoints>0,pointerEvents:tt.PointerEvent&&("ontouchstart"in tt||navigator.maxTouchPoints>0)};var Ts=class{_keyCodeToStr;_strToKeyCode;constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(e,t){this._keyCodeToStr[e]=t,this._strToKeyCode[t.toLowerCase()]=e}keyCodeToStr(e){return this._keyCodeToStr[e]}strToKeyCode(e){return this._strToKeyCode[e.toLowerCase()]||0}},cl=new Ts,au=new Ts,lu=new Ts,cu=new Array(230),QT={},eI=[],tI=Object.create(null),nI=Object.create(null);var wf=[],du=[];for(let n=0;n<=193;n++)wf[n]=-1;for(let n=0;n<=132;n++)du[n]=-1;(function(){let n="",e=[[1,0,"None",0,"unknown",0,"VK_UNKNOWN",n,n],[1,1,"Hyper",0,n,0,n,n,n],[1,2,"Super",0,n,0,n,n,n],[1,3,"Fn",0,n,0,n,n,n],[1,4,"FnLock",0,n,0,n,n,n],[1,5,"Suspend",0,n,0,n,n,n],[1,6,"Resume",0,n,0,n,n,n],[1,7,"Turbo",0,n,0,n,n,n],[1,8,"Sleep",0,n,0,"VK_SLEEP",n,n],[1,9,"WakeUp",0,n,0,n,n,n],[0,10,"KeyA",31,"A",65,"VK_A",n,n],[0,11,"KeyB",32,"B",66,"VK_B",n,n],[0,12,"KeyC",33,"C",67,"VK_C",n,n],[0,13,"KeyD",34,"D",68,"VK_D",n,n],[0,14,"KeyE",35,"E",69,"VK_E",n,n],[0,15,"KeyF",36,"F",70,"VK_F",n,n],[0,16,"KeyG",37,"G",71,"VK_G",n,n],[0,17,"KeyH",38,"H",72,"VK_H",n,n],[0,18,"KeyI",39,"I",73,"VK_I",n,n],[0,19,"KeyJ",40,"J",74,"VK_J",n,n],[0,20,"KeyK",41,"K",75,"VK_K",n,n],[0,21,"KeyL",42,"L",76,"VK_L",n,n],[0,22,"KeyM",43,"M",77,"VK_M",n,n],[0,23,"KeyN",44,"N",78,"VK_N",n,n],[0,24,"KeyO",45,"O",79,"VK_O",n,n],[0,25,"KeyP",46,"P",80,"VK_P",n,n],[0,26,"KeyQ",47,"Q",81,"VK_Q",n,n],[0,27,"KeyR",48,"R",82,"VK_R",n,n],[0,28,"KeyS",49,"S",83,"VK_S",n,n],[0,29,"KeyT",50,"T",84,"VK_T",n,n],[0,30,"KeyU",51,"U",85,"VK_U",n,n],[0,31,"KeyV",52,"V",86,"VK_V",n,n],[0,32,"KeyW",53,"W",87,"VK_W",n,n],[0,33,"KeyX",54,"X",88,"VK_X",n,n],[0,34,"KeyY",55,"Y",89,"VK_Y",n,n],[0,35,"KeyZ",56,"Z",90,"VK_Z",n,n],[0,36,"Digit1",22,"1",49,"VK_1",n,n],[0,37,"Digit2",23,"2",50,"VK_2",n,n],[0,38,"Digit3",24,"3",51,"VK_3",n,n],[0,39,"Digit4",25,"4",52,"VK_4",n,n],[0,40,"Digit5",26,"5",53,"VK_5",n,n],[0,41,"Digit6",27,"6",54,"VK_6",n,n],[0,42,"Digit7",28,"7",55,"VK_7",n,n],[0,43,"Digit8",29,"8",56,"VK_8",n,n],[0,44,"Digit9",30,"9",57,"VK_9",n,n],[0,45,"Digit0",21,"0",48,"VK_0",n,n],[1,46,"Enter",3,"Enter",13,"VK_RETURN",n,n],[1,47,"Escape",9,"Escape",27,"VK_ESCAPE",n,n],[1,48,"Backspace",1,"Backspace",8,"VK_BACK",n,n],[1,49,"Tab",2,"Tab",9,"VK_TAB",n,n],[1,50,"Space",10,"Space",32,"VK_SPACE",n,n],[0,51,"Minus",88,"-",189,"VK_OEM_MINUS","-","OEM_MINUS"],[0,52,"Equal",86,"=",187,"VK_OEM_PLUS","=","OEM_PLUS"],[0,53,"BracketLeft",92,"[",219,"VK_OEM_4","[","OEM_4"],[0,54,"BracketRight",94,"]",221,"VK_OEM_6","]","OEM_6"],[0,55,"Backslash",93,"\\",220,"VK_OEM_5","\\","OEM_5"],[0,56,"IntlHash",0,n,0,n,n,n],[0,57,"Semicolon",85,";",186,"VK_OEM_1",";","OEM_1"],[0,58,"Quote",95,"'",222,"VK_OEM_7","'","OEM_7"],[0,59,"Backquote",91,"`",192,"VK_OEM_3","`","OEM_3"],[0,60,"Comma",87,",",188,"VK_OEM_COMMA",",","OEM_COMMA"],[0,61,"Period",89,".",190,"VK_OEM_PERIOD",".","OEM_PERIOD"],[0,62,"Slash",90,"/",191,"VK_OEM_2","/","OEM_2"],[1,63,"CapsLock",8,"CapsLock",20,"VK_CAPITAL",n,n],[1,64,"F1",59,"F1",112,"VK_F1",n,n],[1,65,"F2",60,"F2",113,"VK_F2",n,n],[1,66,"F3",61,"F3",114,"VK_F3",n,n],[1,67,"F4",62,"F4",115,"VK_F4",n,n],[1,68,"F5",63,"F5",116,"VK_F5",n,n],[1,69,"F6",64,"F6",117,"VK_F6",n,n],[1,70,"F7",65,"F7",118,"VK_F7",n,n],[1,71,"F8",66,"F8",119,"VK_F8",n,n],[1,72,"F9",67,"F9",120,"VK_F9",n,n],[1,73,"F10",68,"F10",121,"VK_F10",n,n],[1,74,"F11",69,"F11",122,"VK_F11",n,n],[1,75,"F12",70,"F12",123,"VK_F12",n,n],[1,76,"PrintScreen",0,n,0,n,n,n],[1,77,"ScrollLock",84,"ScrollLock",145,"VK_SCROLL",n,n],[1,78,"Pause",7,"PauseBreak",19,"VK_PAUSE",n,n],[1,79,"Insert",19,"Insert",45,"VK_INSERT",n,n],[1,80,"Home",14,"Home",36,"VK_HOME",n,n],[1,81,"PageUp",11,"PageUp",33,"VK_PRIOR",n,n],[1,82,"Delete",20,"Delete",46,"VK_DELETE",n,n],[1,83,"End",13,"End",35,"VK_END",n,n],[1,84,"PageDown",12,"PageDown",34,"VK_NEXT",n,n],[1,85,"ArrowRight",17,"RightArrow",39,"VK_RIGHT","Right",n],[1,86,"ArrowLeft",15,"LeftArrow",37,"VK_LEFT","Left",n],[1,87,"ArrowDown",18,"DownArrow",40,"VK_DOWN","Down",n],[1,88,"ArrowUp",16,"UpArrow",38,"VK_UP","Up",n],[1,89,"NumLock",83,"NumLock",144,"VK_NUMLOCK",n,n],[1,90,"NumpadDivide",113,"NumPad_Divide",111,"VK_DIVIDE",n,n],[1,91,"NumpadMultiply",108,"NumPad_Multiply",106,"VK_MULTIPLY",n,n],[1,92,"NumpadSubtract",111,"NumPad_Subtract",109,"VK_SUBTRACT",n,n],[1,93,"NumpadAdd",109,"NumPad_Add",107,"VK_ADD",n,n],[1,94,"NumpadEnter",3,n,0,n,n,n],[1,95,"Numpad1",99,"NumPad1",97,"VK_NUMPAD1",n,n],[1,96,"Numpad2",100,"NumPad2",98,"VK_NUMPAD2",n,n],[1,97,"Numpad3",101,"NumPad3",99,"VK_NUMPAD3",n,n],[1,98,"Numpad4",102,"NumPad4",100,"VK_NUMPAD4",n,n],[1,99,"Numpad5",103,"NumPad5",101,"VK_NUMPAD5",n,n],[1,100,"Numpad6",104,"NumPad6",102,"VK_NUMPAD6",n,n],[1,101,"Numpad7",105,"NumPad7",103,"VK_NUMPAD7",n,n],[1,102,"Numpad8",106,"NumPad8",104,"VK_NUMPAD8",n,n],[1,103,"Numpad9",107,"NumPad9",105,"VK_NUMPAD9",n,n],[1,104,"Numpad0",98,"NumPad0",96,"VK_NUMPAD0",n,n],[1,105,"NumpadDecimal",112,"NumPad_Decimal",110,"VK_DECIMAL",n,n],[0,106,"IntlBackslash",97,"OEM_102",226,"VK_OEM_102",n,n],[1,107,"ContextMenu",58,"ContextMenu",93,n,n,n],[1,108,"Power",0,n,0,n,n,n],[1,109,"NumpadEqual",0,n,0,n,n,n],[1,110,"F13",71,"F13",124,"VK_F13",n,n],[1,111,"F14",72,"F14",125,"VK_F14",n,n],[1,112,"F15",73,"F15",126,"VK_F15",n,n],[1,113,"F16",74,"F16",127,"VK_F16",n,n],[1,114,"F17",75,"F17",128,"VK_F17",n,n],[1,115,"F18",76,"F18",129,"VK_F18",n,n],[1,116,"F19",77,"F19",130,"VK_F19",n,n],[1,117,"F20",78,"F20",131,"VK_F20",n,n],[1,118,"F21",79,"F21",132,"VK_F21",n,n],[1,119,"F22",80,"F22",133,"VK_F22",n,n],[1,120,"F23",81,"F23",134,"VK_F23",n,n],[1,121,"F24",82,"F24",135,"VK_F24",n,n],[1,122,"Open",0,n,0,n,n,n],[1,123,"Help",0,n,0,n,n,n],[1,124,"Select",0,n,0,n,n,n],[1,125,"Again",0,n,0,n,n,n],[1,126,"Undo",0,n,0,n,n,n],[1,127,"Cut",0,n,0,n,n,n],[1,128,"Copy",0,n,0,n,n,n],[1,129,"Paste",0,n,0,n,n,n],[1,130,"Find",0,n,0,n,n,n],[1,131,"AudioVolumeMute",117,"AudioVolumeMute",173,"VK_VOLUME_MUTE",n,n],[1,132,"AudioVolumeUp",118,"AudioVolumeUp",175,"VK_VOLUME_UP",n,n],[1,133,"AudioVolumeDown",119,"AudioVolumeDown",174,"VK_VOLUME_DOWN",n,n],[1,134,"NumpadComma",110,"NumPad_Separator",108,"VK_SEPARATOR",n,n],[0,135,"IntlRo",115,"ABNT_C1",193,"VK_ABNT_C1",n,n],[1,136,"KanaMode",0,n,0,n,n,n],[0,137,"IntlYen",0,n,0,n,n,n],[1,138,"Convert",0,n,0,n,n,n],[1,139,"NonConvert",0,n,0,n,n,n],[1,140,"Lang1",0,n,0,n,n,n],[1,141,"Lang2",0,n,0,n,n,n],[1,142,"Lang3",0,n,0,n,n,n],[1,143,"Lang4",0,n,0,n,n,n],[1,144,"Lang5",0,n,0,n,n,n],[1,145,"Abort",0,n,0,n,n,n],[1,146,"Props",0,n,0,n,n,n],[1,147,"NumpadParenLeft",0,n,0,n,n,n],[1,148,"NumpadParenRight",0,n,0,n,n,n],[1,149,"NumpadBackspace",0,n,0,n,n,n],[1,150,"NumpadMemoryStore",0,n,0,n,n,n],[1,151,"NumpadMemoryRecall",0,n,0,n,n,n],[1,152,"NumpadMemoryClear",0,n,0,n,n,n],[1,153,"NumpadMemoryAdd",0,n,0,n,n,n],[1,154,"NumpadMemorySubtract",0,n,0,n,n,n],[1,155,"NumpadClear",131,"Clear",12,"VK_CLEAR",n,n],[1,156,"NumpadClearEntry",0,n,0,n,n,n],[1,0,n,5,"Ctrl",17,"VK_CONTROL",n,n],[1,0,n,4,"Shift",16,"VK_SHIFT",n,n],[1,0,n,6,"Alt",18,"VK_MENU",n,n],[1,0,n,57,"Meta",91,"VK_COMMAND",n,n],[1,157,"ControlLeft",5,n,0,"VK_LCONTROL",n,n],[1,158,"ShiftLeft",4,n,0,"VK_LSHIFT",n,n],[1,159,"AltLeft",6,n,0,"VK_LMENU",n,n],[1,160,"MetaLeft",57,n,0,"VK_LWIN",n,n],[1,161,"ControlRight",5,n,0,"VK_RCONTROL",n,n],[1,162,"ShiftRight",4,n,0,"VK_RSHIFT",n,n],[1,163,"AltRight",6,n,0,"VK_RMENU",n,n],[1,164,"MetaRight",57,n,0,"VK_RWIN",n,n],[1,165,"BrightnessUp",0,n,0,n,n,n],[1,166,"BrightnessDown",0,n,0,n,n,n],[1,167,"MediaPlay",0,n,0,n,n,n],[1,168,"MediaRecord",0,n,0,n,n,n],[1,169,"MediaFastForward",0,n,0,n,n,n],[1,170,"MediaRewind",0,n,0,n,n,n],[1,171,"MediaTrackNext",124,"MediaTrackNext",176,"VK_MEDIA_NEXT_TRACK",n,n],[1,172,"MediaTrackPrevious",125,"MediaTrackPrevious",177,"VK_MEDIA_PREV_TRACK",n,n],[1,173,"MediaStop",126,"MediaStop",178,"VK_MEDIA_STOP",n,n],[1,174,"Eject",0,n,0,n,n,n],[1,175,"MediaPlayPause",127,"MediaPlayPause",179,"VK_MEDIA_PLAY_PAUSE",n,n],[1,176,"MediaSelect",128,"LaunchMediaPlayer",181,"VK_MEDIA_LAUNCH_MEDIA_SELECT",n,n],[1,177,"LaunchMail",129,"LaunchMail",180,"VK_MEDIA_LAUNCH_MAIL",n,n],[1,178,"LaunchApp2",130,"LaunchApp2",183,"VK_MEDIA_LAUNCH_APP2",n,n],[1,179,"LaunchApp1",0,n,0,"VK_MEDIA_LAUNCH_APP1",n,n],[1,180,"SelectTask",0,n,0,n,n,n],[1,181,"LaunchScreenSaver",0,n,0,n,n,n],[1,182,"BrowserSearch",120,"BrowserSearch",170,"VK_BROWSER_SEARCH",n,n],[1,183,"BrowserHome",121,"BrowserHome",172,"VK_BROWSER_HOME",n,n],[1,184,"BrowserBack",122,"BrowserBack",166,"VK_BROWSER_BACK",n,n],[1,185,"BrowserForward",123,"BrowserForward",167,"VK_BROWSER_FORWARD",n,n],[1,186,"BrowserStop",0,n,0,"VK_BROWSER_STOP",n,n],[1,187,"BrowserRefresh",0,n,0,"VK_BROWSER_REFRESH",n,n],[1,188,"BrowserFavorites",0,n,0,"VK_BROWSER_FAVORITES",n,n],[1,189,"ZoomToggle",0,n,0,n,n,n],[1,190,"MailReply",0,n,0,n,n,n],[1,191,"MailForward",0,n,0,n,n,n],[1,192,"MailSend",0,n,0,n,n,n],[1,0,n,114,"KeyInComposition",229,n,n,n],[1,0,n,116,"ABNT_C2",194,"VK_ABNT_C2",n,n],[1,0,n,96,"OEM_8",223,"VK_OEM_8",n,n],[1,0,n,0,n,0,"VK_KANA",n,n],[1,0,n,0,n,0,"VK_HANGUL",n,n],[1,0,n,0,n,0,"VK_JUNJA",n,n],[1,0,n,0,n,0,"VK_FINAL",n,n],[1,0,n,0,n,0,"VK_HANJA",n,n],[1,0,n,0,n,0,"VK_KANJI",n,n],[1,0,n,0,n,0,"VK_CONVERT",n,n],[1,0,n,0,n,0,"VK_NONCONVERT",n,n],[1,0,n,0,n,0,"VK_ACCEPT",n,n],[1,0,n,0,n,0,"VK_MODECHANGE",n,n],[1,0,n,0,n,0,"VK_SELECT",n,n],[1,0,n,0,n,0,"VK_PRINT",n,n],[1,0,n,0,n,0,"VK_EXECUTE",n,n],[1,0,n,0,n,0,"VK_SNAPSHOT",n,n],[1,0,n,0,n,0,"VK_HELP",n,n],[1,0,n,0,n,0,"VK_APPS",n,n],[1,0,n,0,n,0,"VK_PROCESSKEY",n,n],[1,0,n,0,n,0,"VK_PACKET",n,n],[1,0,n,0,n,0,"VK_DBE_SBCSCHAR",n,n],[1,0,n,0,n,0,"VK_DBE_DBCSCHAR",n,n],[1,0,n,0,n,0,"VK_ATTN",n,n],[1,0,n,0,n,0,"VK_CRSEL",n,n],[1,0,n,0,n,0,"VK_EXSEL",n,n],[1,0,n,0,n,0,"VK_EREOF",n,n],[1,0,n,0,n,0,"VK_PLAY",n,n],[1,0,n,0,n,0,"VK_ZOOM",n,n],[1,0,n,0,n,0,"VK_NONAME",n,n],[1,0,n,0,n,0,"VK_PA1",n,n],[1,0,n,0,n,0,"VK_OEM_CLEAR",n,n]],t=[],i=[];for(let o of e){let[r,s,a,l,c,p,h,f,T]=o;if(i[s]||(i[s]=!0,eI[s]=a,tI[a]=s,nI[a.toLowerCase()]=s,r&&(wf[s]=l,l!==0&&l!==3&&l!==5&&l!==4&&l!==6&&l!==57&&(du[l]=s))),!t[l]){if(t[l]=!0,!c)throw new Error(`String representation missing for key code ${l} around scan code ${a}`);cl.define(l,c),au.define(l,f||c),lu.define(l,T||f||c)}p&&(cu[p]=l),h&&(QT[h]=l)}du[3]=46})();var ul;(s=>{function n(a){return cl.keyCodeToStr(a)}s.toString=n;function e(a){return cl.strToKeyCode(a)}s.fromString=e;function t(a){return au.keyCodeToStr(a)}s.toUserSettingsUS=t;function i(a){return lu.keyCodeToStr(a)}s.toUserSettingsGeneral=i;function o(a){return au.strToKeyCode(a)||lu.strToKeyCode(a)}s.fromUserSettings=o;function r(a){if(a>=98&&a<=113)return null;switch(a){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return cl.keyCodeToStr(a)}s.toElectronAccelerator=r})(ul||={});function pu(n,e){if(typeof n=="number"){if(n===0)return null;let t=(n&65535)>>>0,i=(n&4294901760)>>>16;return i!==0?new cr([pl(t,e),pl(i,e)]):new cr([pl(t,e)])}else{let t=[];for(let i=0;i<n.length;i++)t.push(pl(n[i],e));return new cr(t)}}function pl(n,e){let t=!!(n&2048),i=!!(n&256),o=e===2?i:t,r=!!(n&1024),s=!!(n&512),a=e===2?t:i,l=n&255;return new Is(o,r,s,a,l)}var Is=class n{constructor(e,t,i,o,r){this.ctrlKey=e;this.shiftKey=t;this.altKey=i;this.metaKey=o;this.keyCode=r}equals(e){return e instanceof n&&this.ctrlKey===e.ctrlKey&&this.shiftKey===e.shiftKey&&this.altKey===e.altKey&&this.metaKey===e.metaKey&&this.keyCode===e.keyCode}getHashCode(){let e=this.ctrlKey?"1":"0",t=this.shiftKey?"1":"0",i=this.altKey?"1":"0",o=this.metaKey?"1":"0";return`K${e}${t}${i}${o}${this.keyCode}`}isModifierKey(){return this.keyCode===0||this.keyCode===5||this.keyCode===57||this.keyCode===6||this.keyCode===4}toKeybinding(){return new cr([this])}isDuplicateModifierCase(){return this.ctrlKey&&this.keyCode===5||this.shiftKey&&this.keyCode===4||this.altKey&&this.keyCode===6||this.metaKey&&this.keyCode===57}};var cr=class{chords;constructor(e){if(e.length===0)throw es("chords");this.chords=e}getHashCode(){let e="";for(let t=0,i=this.chords.length;t<i;t++)t!==0&&(e+=";"),e+=this.chords[t].getHashCode();return e}equals(e){if(e===null||this.chords.length!==e.chords.length)return!1;for(let t=0;t<this.chords.length;t++)if(!this.chords[t].equals(e.chords[t]))return!1;return!0}};var hl=class{};function iI(n){if(n.charCode){let t=String.fromCharCode(n.charCode).toUpperCase();return ul.fromString(t)}let e=n.keyCode;if(e===3)return 7;if(Wi)switch(e){case 59:return 85;case 60:if(Ut)return 97;break;case 61:return 86;case 107:return 109;case 109:return 111;case 173:return 88;case 224:if(ke)return 57;break}else if(dr){if(ke&&e===93)return 57;if(!ke&&e===92)return 57}return cu[e]||0}var oI=ke?256:2048,rI=512,sI=1024,aI=ke?2048:256;var Be=class{_standardKeyboardEventBrand=!0;browserEvent;target;ctrlKey;shiftKey;altKey;metaKey;altGraphKey;keyCode;code;_asKeybinding;_asKeyCodeChord;constructor(e){let t=e;this.browserEvent=t,this.target=t.target,this.ctrlKey=t.ctrlKey,this.shiftKey=t.shiftKey,this.altKey=t.altKey,this.metaKey=t.metaKey,this.altGraphKey=t.getModifierState?.("AltGraph"),this.keyCode=iI(t),this.code=t.code,this.ctrlKey=this.ctrlKey||this.keyCode===5,this.altKey=this.altKey||this.keyCode===6,this.shiftKey=this.shiftKey||this.keyCode===4,this.metaKey=this.metaKey||this.keyCode===57,this._asKeybinding=this._computeKeybinding(),this._asKeyCodeChord=this._computeKeyCodeChord()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeyCodeChord(){return this._asKeyCodeChord}equals(e){return this._asKeybinding===e}_computeKeybinding(){let e=0;this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(e=this.keyCode);let t=0;return this.ctrlKey&&(t|=oI),this.altKey&&(t|=rI),this.shiftKey&&(t|=sI),this.metaKey&&(t|=aI),t|=e,t}_computeKeyCodeChord(){let e=0;return this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(e=this.keyCode),new Is(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,e)}};var Cf=new WeakMap;function lI(n){if(!n.parent||n.parent===n)return null;try{let e=n.location,t=n.parent.location;if(e.origin!=="null"&&t.origin!=="null"&&e.origin!==t.origin)return null}catch{return null}return n.parent}var ml=class{static getSameOriginWindowChain(e){let t=Cf.get(e);if(!t){t=[],Cf.set(e,t);let i=e,o;do o=lI(i),o?t.push({window:new WeakRef(i),iframeElement:i.frameElement||null}):t.push({window:new WeakRef(i),iframeElement:null}),i=o;while(i)}return t.slice(0)}static getPositionOfChildWindowRelativeToAncestorWindow(e,t){if(!t||e===t)return{top:0,left:0};let i=0,o=0,r=this.getSameOriginWindowChain(e);for(let s of r){let a=s.window.deref();if(i+=a?.scrollY??0,o+=a?.scrollX??0,a===t||!s.iframeElement)break;let l=s.iframeElement.getBoundingClientRect();i+=l.top,o+=l.left}return{top:i,left:o}}};var Wt=class{browserEvent;leftButton;middleButton;rightButton;buttons;target;detail;posx;posy;ctrlKey;shiftKey;altKey;metaKey;timestamp;constructor(e,t){this.timestamp=Date.now(),this.browserEvent=t,this.leftButton=t.button===0,this.middleButton=t.button===1,this.rightButton=t.button===2,this.buttons=t.buttons,this.target=t.target,this.detail=t.detail||1,t.type==="dblclick"&&(this.detail=2),this.ctrlKey=t.ctrlKey,this.shiftKey=t.shiftKey,this.altKey=t.altKey,this.metaKey=t.metaKey,typeof t.pageX=="number"?(this.posx=t.pageX,this.posy=t.pageY):(this.posx=t.clientX+this.target.ownerDocument.body.scrollLeft+this.target.ownerDocument.documentElement.scrollLeft,this.posy=t.clientY+this.target.ownerDocument.body.scrollTop+this.target.ownerDocument.documentElement.scrollTop);let i=ml.getPositionOfChildWindowRelativeToAncestorWindow(e,t.view);this.posx-=i.left,this.posy-=i.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}};var Tn=class{browserEvent;deltaY;deltaX;target;constructor(e,t=0,i=0){this.browserEvent=e||null,this.target=e?e.target||e.targetNode||e.srcElement:null,this.deltaY=i,this.deltaX=t;let o=!1;if(ys){let r=navigator.userAgent.match(/Chrome\/(\d+)/);o=(r?parseInt(r[1]):123)<=122}if(e){let r=e,s=e,a=e.view?.devicePixelRatio||1;if(typeof r.wheelDeltaY<"u")o?this.deltaY=r.wheelDeltaY/(120*a):this.deltaY=r.wheelDeltaY/120;else if(typeof s.VERTICAL_AXIS<"u"&&s.axis===s.VERTICAL_AXIS)this.deltaY=-s.detail/3;else if(e.type==="wheel"){let l=e;l.deltaMode===l.DOM_DELTA_LINE?Wi&&!ke?this.deltaY=-e.deltaY/3:this.deltaY=-e.deltaY:this.deltaY=-e.deltaY/40}if(typeof r.wheelDeltaX<"u")ll&&ot?this.deltaX=-(r.wheelDeltaX/120):o?this.deltaX=r.wheelDeltaX/(120*a):this.deltaX=r.wheelDeltaX/120;else if(typeof s.HORIZONTAL_AXIS<"u"&&s.axis===s.HORIZONTAL_AXIS)this.deltaX=-e.detail/3;else if(e.type==="wheel"){let l=e;l.deltaMode===l.DOM_DELTA_LINE?Wi&&!ke?this.deltaX=-e.deltaX/3:this.deltaX=-e.deltaX:this.deltaX=-e.deltaX/40}this.deltaY===0&&this.deltaX===0&&e.wheelDelta&&(o?this.deltaY=e.wheelDelta/(120*a):this.deltaY=e.wheelDelta/120)}}preventDefault(){this.browserEvent?.preventDefault()}stopPropagation(){this.browserEvent?.stopPropagation()}};function dI(n){return n}var fl=class{lastCache=void 0;lastArgKey=void 0;_fn;_computeKey;constructor(e,t){typeof e=="function"?(this._fn=e,this._computeKey=dI):(this._fn=t,this._computeKey=e.getCacheKey)}get(e){let t=this._computeKey(e);return this.lastArgKey!==t&&(this.lastArgKey=t,this.lastCache=this._fn(e)),this.lastCache}};var Ft=class{constructor(e){this.executor=e}_didRun=!1;_value;_error;get hasValue(){return this._didRun}get value(){if(!this._didRun)try{this._value=this.executor()}catch(e){this._error=e}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}};function Lf(n){return!n||typeof n!="string"?!0:n.trim().length===0}function xs(n){return n.replace(/[<>&]/g,function(e){switch(e){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return e}})}function hu(n){return n.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}function mu(n,e){return n<e?-1:n>e?1:0}function Af(n,e,t=0,i=n.length,o=0,r=e.length){for(;t<i&&o<r;t++,o++){let l=n.charCodeAt(t),c=e.charCodeAt(o);if(l<c)return-1;if(l>c)return 1}let s=i-t,a=r-o;return s<a?-1:s>a?1:0}function fu(n,e,t=0,i=n.length,o=0,r=e.length){for(;t<i&&o<r;t++,o++){let l=n.charCodeAt(t),c=e.charCodeAt(o);if(l===c)continue;if(l>=128||c>=128)return Af(n.toLowerCase(),e.toLowerCase(),t,i,o,r);_f(l)&&(l-=32),_f(c)&&(c-=32);let p=l-c;if(p!==0)return p}let s=i-t,a=r-o;return s<a?-1:s>a?1:0}function _f(n){return n>=97&&n<=122}function gu(n){return n>=65&&n<=90}function In(n,e){return n.length===e.length&&fu(n,e)===0}function _o(n,e){let t=e.length;return e.length>n.length?!1:fu(n,e,0,t)===0}function Rf(n){return 55296<=n&&n<=56319}function bu(n){return 56320<=n&&n<=57343}function Nf(n,e){return(n-55296<<10)+(e-56320)+65536}function Of(n){return n>=127462&&n<=127487||n===8986||n===8987||n===9200||n===9203||n>=9728&&n<=10175||n===11088||n===11093||n>=127744&&n<=128591||n>=128640&&n<=128764||n>=128992&&n<=129008||n>=129280&&n<=129535||n>=129648&&n<=129782}var zC=String.fromCharCode(65279);var kf=class n{constructor(e){this.confusableDictionary=e}static ambiguousCharacterData=new Ft(()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125,119846,109],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}'));static cache=new fl({getCacheKey:JSON.stringify},e=>{function t(p){let h=new Map;for(let f=0;f<p.length;f+=2)h.set(p[f],p[f+1]);return h}function i(p,h){let f=new Map(p);for(let[T,w]of h)f.set(T,w);return f}function o(p,h){if(!p)return h;let f=new Map;for(let[T,w]of p)h.has(T)&&f.set(T,w);return f}let r=this.ambiguousCharacterData.value,s=e.filter(p=>!p.startsWith("_")&&p in r);s.length===0&&(s=["_default"]);let a;for(let p of s){let h=t(r[p]);a=o(a,h)}let l=t(r._common),c=i(l,a);return new n(c)});static getInstance(e){return n.cache.get(Array.from(e))}static _locales=new Ft(()=>Object.keys(n.ambiguousCharacterData.value).filter(e=>!e.startsWith("_")));static getLocales(){return n._locales.value}isAmbiguous(e){return this.confusableDictionary.has(e)}containsAmbiguousCharacter(e){for(let t=0;t<e.length;t++){let i=e.codePointAt(t);if(typeof i=="number"&&this.isAmbiguous(i))return!0}return!1}getPrimaryConfusable(e){return this.confusableDictionary.get(e)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}};function xn(n){return typeof n=="string"}function Qt(n){return typeof n=="object"&&n!==null&&!Array.isArray(n)&&!(n instanceof RegExp)&&!(n instanceof Date)}function En(n){return typeof n=="number"&&!isNaN(n)}function vu(n){return!!n&&typeof n[Symbol.iterator]=="function"}function zi(n){return typeof n>"u"}function Sn(n){return zi(n)||n===null}function Ff(n,e){if(!n)throw new Error(e?`Unexpected type, expected '${e}'`:"Unexpected type")}var uI=Object.prototype.hasOwnProperty;function Mf(n){if(!Qt(n))return!1;for(let e in n)if(uI.call(n,e))return!1;return!0}function Es(n){return typeof n=="function"}function Pf(n,e){let t=Math.min(n.length,e.length);for(let i=0;i<t;i++)pI(n[i],e[i])}function pI(n,e){if(xn(e)){if(typeof n!==e)throw new Error(`argument does not match constraint: typeof ${e}`)}else if(Es(e)){try{if(n instanceof e)return}catch{}if(!Sn(n)&&n.constructor===e||e.length===1&&e.call(void 0,n)===!0)return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}function $i(n){return n===47||n===92}function gl(n){return n.replace(/[\\/]/g,Ae.sep)}function Hf(n){return n.indexOf("/")===-1&&(n=gl(n)),/^[a-zA-Z]:(\/|$)/.test(n)&&(n="/"+n),n}function yu(n,e=Ae.sep){if(!n)return"";let t=n.length,i=n.charCodeAt(0);if($i(i)){if($i(n.charCodeAt(1))&&!$i(n.charCodeAt(2))){let r=3,s=r;for(;r<t&&!$i(n.charCodeAt(r));r++);if(s!==r&&!$i(n.charCodeAt(r+1))){for(r+=1;r<t;r++)if($i(n.charCodeAt(r)))return n.slice(0,r+1).replace(/[\\/]/g,e)}}return e}else if(hI(i)&&n.charCodeAt(1)===58)return $i(n.charCodeAt(2))?n.slice(0,2)+e:n.slice(0,2);let o=n.indexOf("://");if(o!==-1){for(o+=3;o<t;o++)if($i(n.charCodeAt(o)))return n.slice(0,o+1)}return""}function bl(n,e,t,i=mi){if(n===e)return!0;if(!n||!e||e.length>n.length)return!1;if(t){if(!_o(n,e))return!1;if(e.length===n.length)return!0;let r=e.length;return e.charAt(e.length-1)===i&&r--,n.charAt(r)===i}return e.charAt(e.length-1)!==i&&(e+=i),n.indexOf(e)===0}function hI(n){return n>=65&&n<=90||n>=97&&n<=122}var Le;(oe=>(oe.inMemory="inmemory",oe.vscode="vscode",oe.internal="private",oe.walkThrough="walkThrough",oe.walkThroughSnippet="walkThroughSnippet",oe.http="http",oe.https="https",oe.file="file",oe.mailto="mailto",oe.untitled="untitled",oe.data="data",oe.command="command",oe.vscodeRemote="vscode-remote",oe.vscodeRemoteResource="vscode-remote-resource",oe.vscodeManagedRemoteResource="vscode-managed-remote-resource",oe.vscodeUserData="vscode-userdata",oe.vscodeCustomEditor="vscode-custom-editor",oe.vscodeNotebookCell="vscode-notebook-cell",oe.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",oe.vscodeNotebookCellMetadataDiff="vscode-notebook-cell-metadata-diff",oe.vscodeNotebookCellOutput="vscode-notebook-cell-output",oe.vscodeNotebookCellOutputDiff="vscode-notebook-cell-output-diff",oe.vscodeNotebookMetadata="vscode-notebook-metadata",oe.vscodeInteractiveInput="vscode-interactive-input",oe.vscodeSettings="vscode-settings",oe.vscodeWorkspaceTrust="vscode-workspace-trust",oe.vscodeTerminal="vscode-terminal",oe.vscodeChatCodeBlock="vscode-chat-code-block",oe.vscodeChatCodeCompareBlock="vscode-chat-code-compare-block",oe.vscodeChatSesssion="vscode-chat-editor",oe.webviewPanel="webview-panel",oe.vscodeWebview="vscode-webview",oe.extension="extension",oe.vscodeFileResource="vscode-file",oe.tmp="tmp",oe.vsls="vsls",oe.vscodeSourceControl="vscode-scm",oe.commentsInput="comment",oe.codeSetting="code-setting",oe.outputChannel="output"))(Le||={});var fI="tkn",Tu=class{_hosts=Object.create(null);_ports=Object.create(null);_connectionTokens=Object.create(null);_preferredWebSchema="http";_delegate=null;_serverRootPath="/";setPreferredWebSchema(e){this._preferredWebSchema=e}setDelegate(e){this._delegate=e}setServerRootPath(e,t){this._serverRootPath=gI(e,t)}getServerRootPath(){return this._serverRootPath}get _remoteResourcesPath(){return Ae.join(this._serverRootPath,Le.vscodeRemoteResource)}set(e,t,i){this._hosts[e]=t,this._ports[e]=i}setConnectionToken(e,t){this._connectionTokens[e]=t}getPreferredWebSchema(){return this._preferredWebSchema}rewrite(e){if(this._delegate)try{return this._delegate(e)}catch(a){return lt(a),e}let t=e.authority,i=this._hosts[t];i&&i.indexOf(":")!==-1&&i.indexOf("[")===-1&&(i=`[${i}]`);let o=this._ports[t],r=this._connectionTokens[t],s=`path=${encodeURIComponent(e.path)}`;return typeof r=="string"&&(s+=`&${fI}=${encodeURIComponent(r)}`),De.from({scheme:hi?this._preferredWebSchema:Le.vscodeRemoteResource,authority:`${i}:${o}`,path:this._remoteResourcesPath,query:s})}},xu=new Tu;function gI(n,e){return Ae.join(e??"/",`${n.quality??"oss"}-${n.commit??"dev"}`)}var bI="vscode-app",Iu=class n{static FALLBACK_AUTHORITY=bI;asBrowserUri(e){let t=this.toUri(e);return this.uriToBrowserUri(t)}uriToBrowserUri(e){return e.scheme===Le.vscodeRemote?xu.rewrite(e):e.scheme===Le.file&&(sr||sf===`${Le.vscodeFileResource}://${n.FALLBACK_AUTHORITY}`)?e.with({scheme:Le.vscodeFileResource,authority:e.authority||n.FALLBACK_AUTHORITY,query:null,fragment:null}):e}asFileUri(e){let t=this.toUri(e);return this.uriToFileUri(t)}uriToFileUri(e){return e.scheme===Le.vscodeFileResource?e.with({scheme:Le.file,authority:e.authority!==n.FALLBACK_AUTHORITY?e.authority:null,query:null,fragment:null}):e}toUri(e,t){if(De.isUri(e))return e;if(globalThis._VSCODE_FILE_ROOT){let i=globalThis._VSCODE_FILE_ROOT;if(/^\w[\w\d+.-]*:\/\//.test(i))return De.joinPath(De.parse(i,!0),e);let o=ms(i,e);return De.file(o)}return De.parse(t.toUrl(e))}},Eu=new Iu,vI;(r=>{let n=new Map([["1",{"Cross-Origin-Opener-Policy":"same-origin"}],["2",{"Cross-Origin-Embedder-Policy":"require-corp"}],["3",{"Cross-Origin-Opener-Policy":"same-origin","Cross-Origin-Embedder-Policy":"require-corp"}]]);r.CoopAndCoep=Object.freeze(n.get("3"));let t="vscode-coi";function i(s){let a;typeof s=="string"?a=new URL(s).searchParams:s instanceof URL?a=s.searchParams:De.isUri(s)&&(a=new URL(s.toString(!0)).searchParams);let l=a?.get(t);if(l)return n.get(l)}r.getHeadersFromQuery=i;function o(s,a,l){if(!globalThis.crossOriginIsolated)return;let c=a&&l?"3":l?"2":"1";s instanceof URLSearchParams?s.set(t,c):s[t]=c}r.addSearchParam=o})(vI||={});function gi(n){return fs(n,!0)}var Ss=class{constructor(e){this._ignorePathCasing=e}compare(e,t,i=!1){return e===t?0:mu(this.getComparisonKey(e,i),this.getComparisonKey(t,i))}isEqual(e,t,i=!1){return e===t?!0:!e||!t?!1:this.getComparisonKey(e,i)===this.getComparisonKey(t,i)}getComparisonKey(e,t=!1){return e.with({path:this._ignorePathCasing(e)?e.path.toLowerCase():void 0,fragment:t?null:void 0}).toString()}ignorePathCasing(e){return this._ignorePathCasing(e)}isEqualOrParent(e,t,i=!1){if(e.scheme===t.scheme){if(e.scheme===Le.file)return bl(gi(e),gi(t),this._ignorePathCasing(e))&&e.query===t.query&&(i||e.fragment===t.fragment);if(Uf(e.authority,t.authority))return bl(e.path,t.path,this._ignorePathCasing(e),"/")&&e.query===t.query&&(i||e.fragment===t.fragment)}return!1}joinPath(e,...t){return De.joinPath(e,...t)}basenameOrAuthority(e){return Wf(e)||e.authority}basename(e){return Ae.basename(e.path)}extname(e){return Ae.extname(e.path)}dirname(e){if(e.path.length===0)return e;let t;return e.scheme===Le.file?t=De.file(ff(gi(e))).path:(t=Ae.dirname(e.path),e.authority&&t.length&&t.charCodeAt(0)!==47&&(console.error(`dirname("${e.toString})) resulted in a relative path`),t="/")),e.with({path:t})}normalizePath(e){if(!e.path.length)return e;let t;return e.scheme===Le.file?t=De.file(Qc(gi(e))).path:t=Ae.normalize(e.path),e.with({path:t})}relativePath(e,t){if(e.scheme!==t.scheme||!Uf(e.authority,t.authority))return;if(e.scheme===Le.file){let r=mf(gi(e),gi(t));return ot?gl(r):r}let i=e.path||"/",o=t.path||"/";if(this._ignorePathCasing(e)){let r=0;for(let s=Math.min(i.length,o.length);r<s&&!(i.charCodeAt(r)!==o.charCodeAt(r)&&i.charAt(r).toLowerCase()!==o.charAt(r).toLowerCase());r++);i=o.substr(0,r)+i.substr(r)}return Ae.relative(i,o)}resolvePath(e,t){if(e.scheme===Le.file){let i=De.file(hf(gi(e),t));return e.with({authority:i.authority,path:i.path})}return t=Hf(t),e.with({path:Ae.resolve(e.path,t)})}isAbsolutePath(e){return!!e.path&&e.path[0]==="/"}isEqualAuthority(e,t){return e===t||e!==void 0&&t!==void 0&&In(e,t)}hasTrailingPathSeparator(e,t=mi){if(e.scheme===Le.file){let i=gi(e);return i.length>yu(i).length&&i[i.length-1]===t}else{let i=e.path;return i.length>1&&i.charCodeAt(i.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(e.fsPath)}}removeTrailingPathSeparator(e,t=mi){return Kf(e,t)?e.with({path:e.path.substr(0,e.path.length-1)}):e}addTrailingPathSeparator(e,t=mi){let i=!1;if(e.scheme===Le.file){let o=gi(e);i=o!==void 0&&o.length===yu(o).length&&o[o.length-1]===t}else{t="/";let o=e.path;i=o.length===1&&o.charCodeAt(o.length-1)===47}return!i&&!Kf(e,t)?e.with({path:e.path+"/"}):e}},Ne=new Ss(()=>!1),yI=new Ss(n=>n.scheme===Le.file?!Ut:!0),TI=new Ss(n=>!0),Vf=Ne.isEqual.bind(Ne),o_=Ne.isEqualOrParent.bind(Ne),r_=Ne.getComparisonKey.bind(Ne),II=Ne.basenameOrAuthority.bind(Ne),Wf=Ne.basename.bind(Ne),xI=Ne.extname.bind(Ne),zf=Ne.dirname.bind(Ne),$f=Ne.joinPath.bind(Ne),s_=Ne.normalizePath.bind(Ne),a_=Ne.relativePath.bind(Ne),Su=Ne.resolvePath.bind(Ne),l_=Ne.isAbsolutePath.bind(Ne),Uf=Ne.isEqualAuthority.bind(Ne),Kf=Ne.hasTrailingPathSeparator.bind(Ne),d_=Ne.removeTrailingPathSeparator.bind(Ne),c_=Ne.addTrailingPathSeparator.bind(Ne);var EI;(r=>{r.META_DATA_LABEL="label",r.META_DATA_DESCRIPTION="description",r.META_DATA_SIZE="size",r.META_DATA_MIME="mime";function o(s){let a=new Map;s.path.substring(s.path.indexOf(";")+1,s.path.lastIndexOf(";")).split(";").forEach(p=>{let[h,f]=p.split(":");h&&f&&a.set(h,f)});let c=s.path.substring(0,s.path.indexOf(";"));return c&&a.set(r.META_DATA_MIME,c),a}r.parseMetaData=o})(EI||={});function pr(n){let e=new Pn,t=n(e.token),i=new Promise((o,r)=>{let s=e.token.onCancellationRequested(()=>{s.dispose(),r(new Nt)});Promise.resolve(t).then(a=>{s.dispose(),e.dispose(),o(a)},a=>{s.dispose(),e.dispose(),r(a)})});return new class{cancel(){e.cancel(),e.dispose()}then(o,r){return i.then(o,r)}catch(o){return this.then(void 0,o)}finally(o){return i.finally(o)}}}var SI=(n,e)=>{let t=!0,i=setTimeout(()=>{t=!1,e()},n);return{isTriggered:()=>t,dispose:()=>{clearTimeout(i),t=!1}}},wI=n=>{let e=!0;return queueMicrotask(()=>{e&&(e=!1,n())}),{isTriggered:()=>e,dispose:()=>{e=!1}}},Vn=class{constructor(e){this.defaultDelay=e;this.deferred=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}deferred;completionPromise;doResolve;doReject;task;trigger(e,t=this.defaultDelay){this.task=e,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((o,r)=>{this.doResolve=o,this.doReject=r}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){let o=this.task;return this.task=null,o()}}));let i=()=>{this.deferred=null,this.doResolve?.(null)};return this.deferred=t===Ya?wI(i):SI(t,i),this.completionPromise}isTriggered(){return!!this.deferred?.isTriggered()}cancel(){this.cancelTimeout(),this.completionPromise&&(this.doReject?.(new Nt),this.completionPromise=null)}cancelTimeout(){this.deferred?.dispose(),this.deferred=null}dispose(){this.cancel()}};function vi(n,e){return e?new Promise((t,i)=>{let o=setTimeout(()=>{r.dispose(),t()},n),r=e.onCancellationRequested(()=>{clearTimeout(o),r.dispose(),i(new Nt)})}):pr(t=>vi(n,t))}function ws(n,e=0,t){let i=setTimeout(()=>{n(),t&&o.dispose()},e),o=ce(()=>{clearTimeout(i),t?.deleteAndLeak(o)});return t?.add(o),o}var bi=class{_token;_isDisposed=!1;constructor(e,t){this._token=-1,typeof e=="function"&&typeof t=="number"&&this.setIfNotSet(e,t)}dispose(){this.cancel(),this._isDisposed=!0}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(e,t){if(this._isDisposed)throw new fn("Calling 'cancelAndSet' on a disposed TimeoutTimer");this.cancel(),this._token=setTimeout(()=>{this._token=-1,e()},t)}setIfNotSet(e,t){if(this._isDisposed)throw new fn("Calling 'setIfNotSet' on a disposed TimeoutTimer");this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,e()},t))}},yl=class{disposable=void 0;isDisposed=!1;cancel(){this.disposable?.dispose(),this.disposable=void 0}cancelAndSet(e,t,i=globalThis){if(this.isDisposed)throw new fn("Calling 'cancelAndSet' on a disposed IntervalTimer");this.cancel();let o=i.setInterval(()=>{e()},t);this.disposable=ce(()=>{i.clearInterval(o),this.disposable=void 0})}dispose(){this.cancel(),this.isDisposed=!0}},Gi=class{runner;timeoutToken;timeout;timeoutHandler;constructor(e,t){this.timeoutToken=-1,this.runner=e,this.timeout=t,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(e=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,e)}get delay(){return this.timeout}set delay(e){this.timeout=e}isScheduled(){return this.timeoutToken!==-1}flush(){this.isScheduled()&&(this.cancel(),this.doRun())}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){this.runner?.()}};var DI,vl;(function(){typeof globalThis.requestIdleCallback!="function"||typeof globalThis.cancelIdleCallback!="function"?vl=(n,e)=>{lf(()=>{if(t)return;let i=Date.now()+15;e(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,i-Date.now())}}))});let t=!1;return{dispose(){t||(t=!0)}}}:vl=(n,e,t)=>{let i=n.requestIdleCallback(e,typeof t=="number"?{timeout:t}:void 0),o=!1;return{dispose(){o||(o=!0,n.cancelIdleCallback(i))}}},DI=n=>vl(globalThis,n)})();var wu;(t=>{async function n(i){let o,r=await Promise.all(i.map(s=>s.then(a=>a,a=>{o||(o=a)})));if(typeof o<"u")throw o;return r}t.settled=n;function e(i){return new Promise(async(o,r)=>{try{await i(o,r)}catch(s){r(s)}})}t.withAsyncBody=e})(wu||={});var Gf=class n{static fromArray(e){return new n(t=>{t.emitMany(e)})}static fromPromise(e){return new n(async t=>{t.emitMany(await e)})}static fromPromises(e){return new n(async t=>{await Promise.all(e.map(async i=>t.emitOne(await i)))})}static merge(e){return new n(async t=>{await Promise.all(e.map(async i=>{for await(let o of i)t.emitOne(o)}))})}static EMPTY=n.fromArray([]);_state;_results;_error;_onReturn;_onStateChanged;constructor(e,t){this._state=0,this._results=[],this._error=null,this._onReturn=t,this._onStateChanged=new L,queueMicrotask(async()=>{let i={emitOne:o=>this.emitOne(o),emitMany:o=>this.emitMany(o),reject:o=>this.reject(o)};try{await Promise.resolve(e(i)),this.resolve()}catch(o){this.reject(o)}finally{i.emitOne=void 0,i.emitMany=void 0,i.reject=void 0}})}[Symbol.asyncIterator](){let e=0;return{next:async()=>{do{if(this._state===2)throw this._error;if(e<this._results.length)return{done:!1,value:this._results[e++]};if(this._state===1)return{done:!0,value:void 0};await N.toPromise(this._onStateChanged.event)}while(!0)},return:async()=>(this._onReturn?.(),{done:!0,value:void 0})}}static map(e,t){return new n(async i=>{for await(let o of e)i.emitOne(t(o))})}map(e){return n.map(this,e)}static filter(e,t){return new n(async i=>{for await(let o of e)t(o)&&i.emitOne(o)})}filter(e){return n.filter(this,e)}static coalesce(e){return n.filter(e,t=>!!t)}coalesce(){return n.coalesce(this)}static async toPromise(e){let t=[];for await(let i of e)t.push(i);return t}toPromise(){return n.toPromise(this)}emitOne(e){this._state===0&&(this._results.push(e),this._onStateChanged.fire())}emitMany(e){this._state===0&&(this._results=this._results.concat(e),this._onStateChanged.fire())}resolve(){this._state===0&&(this._state=1,this._onStateChanged.fire())}reject(e){this._state===0&&(this._state=2,this._error=e,this._onStateChanged.fire())}};var{entries:eg,setPrototypeOf:qf,isFrozen:CI,getPrototypeOf:_I,getOwnPropertyDescriptor:kI}=Object,{freeze:Mt,seal:Dn,create:LI}=Object,{apply:Au,construct:Ru}=typeof Reflect<"u"&&Reflect;Au||(Au=function(e,t,i){return e.apply(t,i)});Mt||(Mt=function(e){return e});Dn||(Dn=function(e){return e});Ru||(Ru=function(e,t){return new e(...t)});var AI=dn(Array.prototype.forEach),jf=dn(Array.prototype.pop),Ds=dn(Array.prototype.push),xl=dn(String.prototype.toLowerCase),Du=dn(String.prototype.toString),RI=dn(String.prototype.match),wn=dn(String.prototype.replace),NI=dn(String.prototype.indexOf),OI=dn(String.prototype.trim),en=dn(RegExp.prototype.test),Cs=FI(TypeError);function dn(n){return function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];return Au(n,e,i)}}function FI(n){return function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return Ru(n,t)}}function Ce(n,e,t){var i;t=(i=t)!==null&&i!==void 0?i:xl,qf&&qf(n,null);let o=e.length;for(;o--;){let r=e[o];if(typeof r=="string"){let s=t(r);s!==r&&(CI(e)||(e[o]=s),r=s)}n[r]=!0}return n}function hr(n){let e=LI(null);for(let[t,i]of eg(n))e[t]=i;return e}function Tl(n,e){for(;n!==null;){let i=kI(n,e);if(i){if(i.get)return dn(i.get);if(typeof i.value=="function")return dn(i.value)}n=_I(n)}function t(i){return console.warn("fallback value for",i),null}return t}var Yf=Mt(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Cu=Mt(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),_u=Mt(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),MI=Mt(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),ku=Mt(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),PI=Mt(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Xf=Mt(["#text"]),Jf=Mt(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Lu=Mt(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Zf=Mt(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Il=Mt(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),BI=Dn(/\{\{[\w\W]*|[\w\W]*\}\}/gm),HI=Dn(/<%[\w\W]*|[\w\W]*%>/gm),UI=Dn(/\${[\w\W]*}/gm),KI=Dn(/^data-[\-\w.\u00B7-\uFFFF]/),VI=Dn(/^aria-[\-\w]+$/),tg=Dn(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),WI=Dn(/^(?:\w+script|data):/i),zI=Dn(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),ng=Dn(/^html$/i),Qf=Object.freeze({__proto__:null,MUSTACHE_EXPR:BI,ERB_EXPR:HI,TMPLIT_EXPR:UI,DATA_ATTR:KI,ARIA_ATTR:VI,IS_ALLOWED_URI:tg,IS_SCRIPT_OR_DATA:WI,ATTR_WHITESPACE:zI,DOCTYPE_NAME:ng}),$I=()=>typeof window>"u"?null:window,GI=function(e,t){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let i=null,o="data-tt-policy-suffix";t&&t.hasAttribute(o)&&(i=t.getAttribute(o));let r="dompurify"+(i?"#"+i:"");try{return e.createPolicy(r,{createHTML(s){return s},createScriptURL(s){return s}})}catch{return console.warn("TrustedTypes policy "+r+" could not be created."),null}};function ig(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:$I(),e=te=>ig(te);if(e.version="3.0.5",e.removed=[],!n||!n.document||n.document.nodeType!==9)return e.isSupported=!1,e;let t=n.document,i=t.currentScript,{document:o}=n,{DocumentFragment:r,HTMLTemplateElement:s,Node:a,Element:l,NodeFilter:c,NamedNodeMap:p=n.NamedNodeMap||n.MozNamedAttrMap,HTMLFormElement:h,DOMParser:f,trustedTypes:T}=n,w=l.prototype,b=Tl(w,"cloneNode"),x=Tl(w,"nextSibling"),k=Tl(w,"childNodes"),_=Tl(w,"parentNode");if(typeof s=="function"){let te=o.createElement("template");te.content&&te.content.ownerDocument&&(o=te.content.ownerDocument)}let P,M="",{implementation:R,createNodeIterator:K,createDocumentFragment:U,getElementsByTagName:O}=o,{importNode:ie}=t,Se={};e.isSupported=typeof eg=="function"&&typeof _=="function"&&R&&R.createHTMLDocument!==void 0;let{MUSTACHE_EXPR:ge,ERB_EXPR:le,TMPLIT_EXPR:wt,DATA_ATTR:Xt,ARIA_ATTR:ne,IS_SCRIPT_OR_DATA:V,ATTR_WHITESPACE:Q}=Qf,{IS_ALLOWED_URI:q}=Qf,Y=null,ve=Ce({},[...Yf,...Cu,..._u,...ku,...Xf]),he=null,ze=Ce({},[...Jf,...Lu,...Zf,...Il]),xe=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),oe=null,Rn=null,mn=!0,Li=!0,Nn=!1,Jo=!0,Bt=!1,ii=!1,Jr=!1,Zr=!1,Ai=!1,Zo=!1,Qo=!1,Aa=!0,Ra=!1,Ec="user-content-",Ri=!0,bo=!1,oi={},ri=null,Na=Ce({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),er=null,Oa=Ce({},["audio","video","img","source","image","track"]),vo=null,Fa=Ce({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),si="http://www.w3.org/1998/Math/MathML",On="http://www.w3.org/2000/svg",st="http://www.w3.org/1999/xhtml",sn=st,Ni=!1,Rt=null,yo=Ce({},[si,On,st],Du),Fn,ai=["application/xhtml+xml","text/html"],Oe="text/html",ut,Oi=null,Sc=o.createElement("form"),Ma=function(S){return S instanceof RegExp||S instanceof Function},Qr=function(S){if(!(Oi&&Oi===S)){if((!S||typeof S!="object")&&(S={}),S=hr(S),Fn=ai.indexOf(S.PARSER_MEDIA_TYPE)===-1?Fn=Oe:Fn=S.PARSER_MEDIA_TYPE,ut=Fn==="application/xhtml+xml"?Du:xl,Y="ALLOWED_TAGS"in S?Ce({},S.ALLOWED_TAGS,ut):ve,he="ALLOWED_ATTR"in S?Ce({},S.ALLOWED_ATTR,ut):ze,Rt="ALLOWED_NAMESPACES"in S?Ce({},S.ALLOWED_NAMESPACES,Du):yo,vo="ADD_URI_SAFE_ATTR"in S?Ce(hr(Fa),S.ADD_URI_SAFE_ATTR,ut):Fa,er="ADD_DATA_URI_TAGS"in S?Ce(hr(Oa),S.ADD_DATA_URI_TAGS,ut):Oa,ri="FORBID_CONTENTS"in S?Ce({},S.FORBID_CONTENTS,ut):Na,oe="FORBID_TAGS"in S?Ce({},S.FORBID_TAGS,ut):{},Rn="FORBID_ATTR"in S?Ce({},S.FORBID_ATTR,ut):{},oi="USE_PROFILES"in S?S.USE_PROFILES:!1,mn=S.ALLOW_ARIA_ATTR!==!1,Li=S.ALLOW_DATA_ATTR!==!1,Nn=S.ALLOW_UNKNOWN_PROTOCOLS||!1,Jo=S.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Bt=S.SAFE_FOR_TEMPLATES||!1,ii=S.WHOLE_DOCUMENT||!1,Ai=S.RETURN_DOM||!1,Zo=S.RETURN_DOM_FRAGMENT||!1,Qo=S.RETURN_TRUSTED_TYPE||!1,Zr=S.FORCE_BODY||!1,Aa=S.SANITIZE_DOM!==!1,Ra=S.SANITIZE_NAMED_PROPS||!1,Ri=S.KEEP_CONTENT!==!1,bo=S.IN_PLACE||!1,q=S.ALLOWED_URI_REGEXP||tg,sn=S.NAMESPACE||st,xe=S.CUSTOM_ELEMENT_HANDLING||{},S.CUSTOM_ELEMENT_HANDLING&&Ma(S.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(xe.tagNameCheck=S.CUSTOM_ELEMENT_HANDLING.tagNameCheck),S.CUSTOM_ELEMENT_HANDLING&&Ma(S.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(xe.attributeNameCheck=S.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),S.CUSTOM_ELEMENT_HANDLING&&typeof S.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(xe.allowCustomizedBuiltInElements=S.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Bt&&(Li=!1),Zo&&(Ai=!0),oi&&(Y=Ce({},[...Xf]),he=[],oi.html===!0&&(Ce(Y,Yf),Ce(he,Jf)),oi.svg===!0&&(Ce(Y,Cu),Ce(he,Lu),Ce(he,Il)),oi.svgFilters===!0&&(Ce(Y,_u),Ce(he,Lu),Ce(he,Il)),oi.mathMl===!0&&(Ce(Y,ku),Ce(he,Zf),Ce(he,Il))),S.ADD_TAGS&&(Y===ve&&(Y=hr(Y)),Ce(Y,S.ADD_TAGS,ut)),S.ADD_ATTR&&(he===ze&&(he=hr(he)),Ce(he,S.ADD_ATTR,ut)),S.ADD_URI_SAFE_ATTR&&Ce(vo,S.ADD_URI_SAFE_ATTR,ut),S.FORBID_CONTENTS&&(ri===Na&&(ri=hr(ri)),Ce(ri,S.FORBID_CONTENTS,ut)),Ri&&(Y["#text"]=!0),ii&&Ce(Y,["html","head","body"]),Y.table&&(Ce(Y,["tbody"]),delete oe.tbody),S.TRUSTED_TYPES_POLICY){if(typeof S.TRUSTED_TYPES_POLICY.createHTML!="function")throw Cs('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof S.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Cs('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');P=S.TRUSTED_TYPES_POLICY,M=P.createHTML("")}else P===void 0&&(P=GI(T,i)),P!==null&&typeof M=="string"&&(M=P.createHTML(""));Mt&&Mt(S),Oi=S}},Pa=Ce({},["mi","mo","mn","ms","mtext"]),Ba=Ce({},["foreignobject","desc","title","annotation-xml"]),wc=Ce({},["title","style","font","a","script"]),ue=Ce({},Cu);Ce(ue,_u),Ce(ue,MI);let g=Ce({},ku);Ce(g,PI);let v=function(S){let H=_(S);(!H||!H.tagName)&&(H={namespaceURI:sn,tagName:"template"});let X=xl(S.tagName),Fe=xl(H.tagName);return Rt[S.namespaceURI]?S.namespaceURI===On?H.namespaceURI===st?X==="svg":H.namespaceURI===si?X==="svg"&&(Fe==="annotation-xml"||Pa[Fe]):!!ue[X]:S.namespaceURI===si?H.namespaceURI===st?X==="math":H.namespaceURI===On?X==="math"&&Ba[Fe]:!!g[X]:S.namespaceURI===st?H.namespaceURI===On&&!Ba[Fe]||H.namespaceURI===si&&!Pa[Fe]?!1:!g[X]&&(wc[X]||!ue[X]):!!(Fn==="application/xhtml+xml"&&Rt[S.namespaceURI]):!1},y=function(S){Ds(e.removed,{element:S});try{S.parentNode.removeChild(S)}catch{S.remove()}},I=function(S,H){try{Ds(e.removed,{attribute:H.getAttributeNode(S),from:H})}catch{Ds(e.removed,{attribute:null,from:H})}if(H.removeAttribute(S),S==="is"&&!he[S])if(Ai||Zo)try{y(H)}catch{}else try{H.setAttribute(S,"")}catch{}},E=function(S){let H,X;if(Zr)S="<remove></remove>"+S;else{let Dt=RI(S,/^[\r\n\t ]+/);X=Dt&&Dt[0]}Fn==="application/xhtml+xml"&&sn===st&&(S='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+S+"</body></html>");let Fe=P?P.createHTML(S):S;if(sn===st)try{H=new f().parseFromString(Fe,Fn)}catch{}if(!H||!H.documentElement){H=R.createDocument(sn,"template",null);try{H.documentElement.innerHTML=Ni?M:Fe}catch{}}let at=H.body||H.documentElement;return S&&X&&at.insertBefore(o.createTextNode(X),at.childNodes[0]||null),sn===st?O.call(H,ii?"html":"body")[0]:ii?H.documentElement:at},C=function(S){return K.call(S.ownerDocument||S,S,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT,null,!1)},A=function(S){return S instanceof h&&(typeof S.nodeName!="string"||typeof S.textContent!="string"||typeof S.removeChild!="function"||!(S.attributes instanceof p)||typeof S.removeAttribute!="function"||typeof S.setAttribute!="function"||typeof S.namespaceURI!="string"||typeof S.insertBefore!="function"||typeof S.hasChildNodes!="function")},z=function(S){return typeof a=="object"?S instanceof a:S&&typeof S=="object"&&typeof S.nodeType=="number"&&typeof S.nodeName=="string"},$=function(S,H,X){Se[S]&&AI(Se[S],Fe=>{Fe.call(e,H,X,Oi)})},pe=function(S){let H;if($("beforeSanitizeElements",S,null),A(S))return y(S),!0;let X=ut(S.nodeName);if($("uponSanitizeElement",S,{tagName:X,allowedTags:Y}),S.hasChildNodes()&&!z(S.firstElementChild)&&(!z(S.content)||!z(S.content.firstElementChild))&&en(/<[/\w]/g,S.innerHTML)&&en(/<[/\w]/g,S.textContent))return y(S),!0;if(!Y[X]||oe[X]){if(!oe[X]&&Pe(X)&&(xe.tagNameCheck instanceof RegExp&&en(xe.tagNameCheck,X)||xe.tagNameCheck instanceof Function&&xe.tagNameCheck(X)))return!1;if(Ri&&!ri[X]){let Fe=_(S)||S.parentNode,at=k(S)||S.childNodes;if(at&&Fe){let Dt=at.length;for(let Ze=Dt-1;Ze>=0;--Ze)Fe.insertBefore(b(at[Ze],!0),x(S))}}return y(S),!0}return S instanceof l&&!v(S)||(X==="noscript"||X==="noembed"||X==="noframes")&&en(/<\/no(script|embed|frames)/i,S.innerHTML)?(y(S),!0):(Bt&&S.nodeType===3&&(H=S.textContent,H=wn(H,ge," "),H=wn(H,le," "),H=wn(H,wt," "),S.textContent!==H&&(Ds(e.removed,{element:S.cloneNode()}),S.textContent=H)),$("afterSanitizeElements",S,null),!1)},_e=function(S,H,X){if(Aa&&(H==="id"||H==="name")&&(X in o||X in Sc))return!1;if(!(Li&&!Rn[H]&&en(Xt,H))){if(!(mn&&en(ne,H))){if(!he[H]||Rn[H]){if(!(Pe(S)&&(xe.tagNameCheck instanceof RegExp&&en(xe.tagNameCheck,S)||xe.tagNameCheck instanceof Function&&xe.tagNameCheck(S))&&(xe.attributeNameCheck instanceof RegExp&&en(xe.attributeNameCheck,H)||xe.attributeNameCheck instanceof Function&&xe.attributeNameCheck(H))||H==="is"&&xe.allowCustomizedBuiltInElements&&(xe.tagNameCheck instanceof RegExp&&en(xe.tagNameCheck,X)||xe.tagNameCheck instanceof Function&&xe.tagNameCheck(X))))return!1}else if(!vo[H]){if(!en(q,wn(X,Q,""))){if(!((H==="src"||H==="xlink:href"||H==="href")&&S!=="script"&&NI(X,"data:")===0&&er[S])){if(!(Nn&&!en(V,wn(X,Q,"")))){if(X)return!1}}}}}}return!0},Pe=function(S){return S.indexOf("-")>0},it=function(S){let H,X,Fe,at;$("beforeSanitizeAttributes",S,null);let{attributes:Dt}=S;if(!Dt)return;let Ze={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:he};for(at=Dt.length;at--;){H=Dt[at];let{name:Mn,namespaceURI:Dc}=H;if(X=Mn==="value"?H.value:OI(H.value),Fe=ut(Mn),Ze.attrName=Fe,Ze.attrValue=X,Ze.keepAttr=!0,Ze.forceKeepAttr=void 0,$("uponSanitizeAttribute",S,Ze),X=Ze.attrValue,Ze.forceKeepAttr||(I(Mn,S),!Ze.keepAttr))continue;if(!Jo&&en(/\/>/i,X)){I(Mn,S);continue}Bt&&(X=wn(X,ge," "),X=wn(X,le," "),X=wn(X,wt," "));let Cm=ut(S.nodeName);if(_e(Cm,Fe,X)){if(Ra&&(Fe==="id"||Fe==="name")&&(I(Mn,S),X=Ec+X),P&&typeof T=="object"&&typeof T.getAttributeType=="function"&&!Dc)switch(T.getAttributeType(Cm,Fe)){case"TrustedHTML":{X=P.createHTML(X);break}case"TrustedScriptURL":{X=P.createScriptURL(X);break}}try{Dc?S.setAttributeNS(Dc,Mn,X):S.setAttribute(Mn,X),jf(e.removed)}catch{}}}$("afterSanitizeAttributes",S,null)},Ve=function te(S){let H,X=C(S);for($("beforeSanitizeShadowDOM",S,null);H=X.nextNode();)$("uponSanitizeShadowNode",H,null),!pe(H)&&(H.content instanceof r&&te(H.content),it(H));$("afterSanitizeShadowDOM",S,null)};return e.sanitize=function(te){let S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},H,X,Fe,at;if(Ni=!te,Ni&&(te="<!-->"),typeof te!="string"&&!z(te))if(typeof te.toString=="function"){if(te=te.toString(),typeof te!="string")throw Cs("dirty is not a string, aborting")}else throw Cs("toString is not a function");if(!e.isSupported)return te;if(Jr||Qr(S),e.removed=[],typeof te=="string"&&(bo=!1),bo){if(te.nodeName){let Mn=ut(te.nodeName);if(!Y[Mn]||oe[Mn])throw Cs("root node is forbidden and cannot be sanitized in-place")}}else if(te instanceof a)H=E("<!---->"),X=H.ownerDocument.importNode(te,!0),X.nodeType===1&&X.nodeName==="BODY"||X.nodeName==="HTML"?H=X:H.appendChild(X);else{if(!Ai&&!Bt&&!ii&&te.indexOf("<")===-1)return P&&Qo?P.createHTML(te):te;if(H=E(te),!H)return Ai?null:Qo?M:""}H&&Zr&&y(H.firstChild);let Dt=C(bo?te:H);for(;Fe=Dt.nextNode();)pe(Fe)||(Fe.content instanceof r&&Ve(Fe.content),it(Fe));if(bo)return te;if(Ai){if(Zo)for(at=U.call(H.ownerDocument);H.firstChild;)at.appendChild(H.firstChild);else at=H;return(he.shadowroot||he.shadowrootmode)&&(at=ie.call(t,at,!0)),at}let Ze=ii?H.outerHTML:H.innerHTML;return ii&&Y["!doctype"]&&H.ownerDocument&&H.ownerDocument.doctype&&H.ownerDocument.doctype.name&&en(ng,H.ownerDocument.doctype.name)&&(Ze="<!DOCTYPE "+H.ownerDocument.doctype.name+`>
`+Ze),Bt&&(Ze=wn(Ze,ge," "),Ze=wn(Ze,le," "),Ze=wn(Ze,wt," ")),P&&Qo?P.createHTML(Ze):Ze},e.setConfig=function(te){Qr(te),Jr=!0},e.clearConfig=function(){Oi=null,Jr=!1},e.isValidAttribute=function(te,S,H){Oi||Qr({});let X=ut(te),Fe=ut(S);return _e(X,Fe,H)},e.addHook=function(te,S){typeof S=="function"&&(Se[te]=Se[te]||[],Ds(Se[te],S))},e.removeHook=function(te){if(Se[te])return jf(Se[te])},e.removeHooks=function(te){Se[te]&&(Se[te]=[])},e.removeAllHooks=function(){Se={}},e}var Wn=ig();var __=Wn.version,k_=Wn.isSupported,_s=Wn.sanitize,L_=Wn.setConfig,A_=Wn.clearConfig,R_=Wn.isValidAttribute,El=Wn.addHook,Sl=Wn.removeHook,N_=Wn.removeHooks,O_=Wn.removeAllHooks;function Ou(n){return Fu(n,0)}function Fu(n,e){switch(typeof n){case"object":return n===null?yi(349,e):Array.isArray(n)?jI(n,e):YI(n,e);case"string":return wl(n,e);case"boolean":return qI(n,e);case"number":return yi(n,e);case"undefined":return yi(937,e);default:return yi(617,e)}}function yi(n,e){return(e<<5)-e+n|0}function qI(n,e){return yi(n?433:863,e)}function wl(n,e){e=yi(149417,e);for(let t=0,i=n.length;t<i;t++)e=yi(n.charCodeAt(t),e);return e}function jI(n,e){return e=yi(104579,e),n.reduce((t,i)=>Fu(i,t),e)}function YI(n,e){return e=yi(181387,e),Object.keys(n).sort().reduce((t,i)=>(t=wl(i,t),Fu(n[i],t)),e)}function Nu(n,e,t=32){let i=t-e,o=~((1<<i)-1);return(n<<e|(o&n)>>>i)>>>0}function rg(n,e=0,t=n.byteLength,i=0){for(let o=0;o<t;o++)n[e+o]=i}function XI(n,e,t="0"){for(;n.length<e;)n=t+n;return n}function ks(n,e=32){return n instanceof ArrayBuffer?Array.from(new Uint8Array(n)).map(t=>t.toString(16).padStart(2,"0")).join(""):XI((n>>>0).toString(16),e/4)}var sg=class n{static _bigBlock32=new DataView(new ArrayBuffer(320));_h0=1732584193;_h1=4023233417;_h2=2562383102;_h3=271733878;_h4=3285377520;_buff;_buffDV;_buffLen;_totalLen;_leftoverHighSurrogate;_finished;constructor(){this._buff=new Uint8Array(67),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(e){let t=e.length;if(t===0)return;let i=this._buff,o=this._buffLen,r=this._leftoverHighSurrogate,s,a;for(r!==0?(s=r,a=-1,r=0):(s=e.charCodeAt(0),a=0);;){let l=s;if(Rf(s))if(a+1<t){let c=e.charCodeAt(a+1);bu(c)?(a++,l=Nf(s,c)):l=65533}else{r=s;break}else bu(s)&&(l=65533);if(o=this._push(i,o,l),a++,a<t)s=e.charCodeAt(a);else break}this._buffLen=o,this._leftoverHighSurrogate=r}_push(e,t,i){return i<128?e[t++]=i:i<2048?(e[t++]=192|(i&1984)>>>6,e[t++]=128|(i&63)>>>0):i<65536?(e[t++]=224|(i&61440)>>>12,e[t++]=128|(i&4032)>>>6,e[t++]=128|(i&63)>>>0):(e[t++]=240|(i&1835008)>>>18,e[t++]=128|(i&258048)>>>12,e[t++]=128|(i&4032)>>>6,e[t++]=128|(i&63)>>>0),t>=64&&(this._step(),t-=64,this._totalLen+=64,e[0]=e[64],e[1]=e[65],e[2]=e[66]),t}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),ks(this._h0)+ks(this._h1)+ks(this._h2)+ks(this._h3)+ks(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,rg(this._buff,this._buffLen),this._buffLen>56&&(this._step(),rg(this._buff));let e=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(e/4294967296),!1),this._buffDV.setUint32(60,e%4294967296,!1),this._step()}_step(){let e=n._bigBlock32,t=this._buffDV;for(let h=0;h<64;h+=4)e.setUint32(h,t.getUint32(h,!1),!1);for(let h=64;h<320;h+=4)e.setUint32(h,Nu(e.getUint32(h-12,!1)^e.getUint32(h-32,!1)^e.getUint32(h-56,!1)^e.getUint32(h-64,!1),1),!1);let i=this._h0,o=this._h1,r=this._h2,s=this._h3,a=this._h4,l,c,p;for(let h=0;h<80;h++)h<20?(l=o&r|~o&s,c=1518500249):h<40?(l=o^r^s,c=1859775393):h<60?(l=o&r|o&s|r&s,c=2400959708):(l=o^r^s,c=3395469782),p=Nu(i,5)+l+a+c+e.getUint32(h*4,!1)&4294967295,a=s,s=r,r=Nu(o,30),o=i,i=p;this._h0=this._h0+i&4294967295,this._h1=this._h1+o&4294967295,this._h2=this._h2+r&4294967295,this._h3=this._h3+s&4294967295,this._h4=this._h4+a&4294967295}};function pt(n,e,t){return Math.min(Math.max(n,e),t)}var{registerWindow:nk,getWindow:be,getDocument:ik,getWindows:dg,getWindowsCount:JI,getWindowId:ag,getWindowById:ok,hasWindow:rk,onDidRegisterWindow:cg,onWillUnregisterWindow:sk,onDidUnregisterWindow:ak}=function(){let n=new Map;If(tt,1);let e={window:tt,disposables:new G};n.set(tt.vscodeWindowId,e);let t=new L,i=new L,o=new L;function r(s,a){return(typeof s=="number"?n.get(s):void 0)??(a?e:void 0)}return{onDidRegisterWindow:t.event,onWillUnregisterWindow:o.event,onDidUnregisterWindow:i.event,registerWindow(s){if(n.has(s.vscodeWindowId))return J.None;let a=new G,l={window:s,disposables:a.add(new G)};return n.set(s.vscodeWindowId,l),a.add(ce(()=>{n.delete(s.vscodeWindowId),i.fire(s)})),a.add(Z(s,me.BEFORE_UNLOAD,()=>{o.fire(s)})),t.fire(l),a},getWindows(){return n.values()},getWindowsCount(){return n.size},getWindowId(s){return s.vscodeWindowId},hasWindow(s){return n.has(s)},getWindowById:r,getWindow(s){let a=s;if(a?.ownerDocument?.defaultView)return a.ownerDocument.defaultView.window;let l=s;return l?.view?l.view.window:tt},getDocument(s){return be(s).document}}}();function nt(n){for(;n.firstChild;)n.firstChild.remove()}var Mu=class{_handler;_node;_type;_options;constructor(e,t,i,o){this._node=e,this._type=t,this._handler=i,this._options=o||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){this._handler&&(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}};function Z(n,e,t,i){return new Mu(n,e,t,i)}function ZI(n,e){return function(t){return e(new Wt(n,t))}}function QI(n){return function(e){return n(new Be(e))}}var Ti=function(e,t,i,o){let r=i;return t==="click"||t==="mousedown"||t==="contextmenu"?r=ZI(be(e),i):(t==="keydown"||t==="keypress"||t==="keyup")&&(r=QI(i)),Z(e,t,r,o)};var e1,zt;var Dl=class extends yl{defaultTarget;constructor(e){super(),this.defaultTarget=e&&be(e)}cancelAndSet(e,t,i){return super.cancelAndSet(e,t,i??this.defaultTarget)}},Ls=class{_runner;priority;_canceled;constructor(e,t=0){this._runner=e,this.priority=t,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(e){lt(e)}}static sort(e,t){return t.priority-e.priority}};(function(){let n=new Map,e=new Map,t=new Map,i=new Map,o=r=>{t.set(r,!1);let s=n.get(r)??[];for(e.set(r,s),n.set(r,[]),i.set(r,!0);s.length>0;)s.sort(Ls.sort),s.shift().execute();i.set(r,!1)};zt=(r,s,a=0)=>{let l=ag(r),c=new Ls(s,a),p=n.get(l);return p||(p=[],n.set(l,p)),p.push(c),t.get(l)||(t.set(l,!0),r.requestAnimationFrame(()=>o(l))),c},e1=(r,s,a)=>{let l=ag(r);if(i.get(l)){let c=new Ls(s,a),p=e.get(l);return p||(p=[],e.set(l,p)),p.push(c),c}else return zt(r,s,a)}})();function ug(n){return be(n).getComputedStyle(n,null)}var Ct=class n{static convertToPixels(e,t){return parseFloat(t)||0}static getDimension(e,t,i){let o=ug(e),r=o?o.getPropertyValue(t):"0";return n.convertToPixels(e,r)}static getBorderLeftWidth(e){return n.getDimension(e,"border-left-width","borderLeftWidth")}static getBorderRightWidth(e){return n.getDimension(e,"border-right-width","borderRightWidth")}static getBorderTopWidth(e){return n.getDimension(e,"border-top-width","borderTopWidth")}static getBorderBottomWidth(e){return n.getDimension(e,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(e){return n.getDimension(e,"padding-left","paddingLeft")}static getPaddingRight(e){return n.getDimension(e,"padding-right","paddingRight")}static getPaddingTop(e){return n.getDimension(e,"padding-top","paddingTop")}static getPaddingBottom(e){return n.getDimension(e,"padding-bottom","paddingBottom")}static getMarginLeft(e){return n.getDimension(e,"margin-left","marginLeft")}static getMarginTop(e){return n.getDimension(e,"margin-top","marginTop")}static getMarginRight(e){return n.getDimension(e,"margin-right","marginRight")}static getMarginBottom(e){return n.getDimension(e,"margin-bottom","marginBottom")}},Cl=class n{constructor(e,t){this.width=e;this.height=t}static None=new n(0,0);with(e=this.width,t=this.height){return e!==this.width||t!==this.height?new n(e,t):this}static is(e){return typeof e=="object"&&typeof e.height=="number"&&typeof e.width=="number"}static lift(e){return e instanceof n?e:new n(e.width,e.height)}static equals(e,t){return e===t?!0:!e||!t?!1:e.width===t.width&&e.height===t.height}};function pg(n){let e=n.offsetParent,t=n.offsetTop,i=n.offsetLeft;for(;(n=n.parentNode)!==null&&n!==n.ownerDocument.body&&n!==n.ownerDocument.documentElement;){t-=n.scrollTop;let o=hg(n)?null:ug(n);o&&(i-=o.direction!=="rtl"?n.scrollLeft:-n.scrollLeft),n===e&&(i+=Ct.getBorderLeftWidth(n),t+=Ct.getBorderTopWidth(n),t+=n.offsetTop,i+=n.offsetLeft,e=n.offsetParent)}return{left:i,top:t}}function _l(n){let e=n.getBoundingClientRect(),t=be(n);return{left:e.left+t.scrollX,top:e.top+t.scrollY,width:e.width,height:e.height}}function As(n){let e=Ct.getMarginLeft(n)+Ct.getMarginRight(n);return n.offsetWidth+e}function mr(n){let e=Ct.getBorderLeftWidth(n)+Ct.getBorderRightWidth(n),t=Ct.getPaddingLeft(n)+Ct.getPaddingRight(n);return n.offsetWidth-e-t}function kl(n){let e=Ct.getBorderTopWidth(n)+Ct.getBorderBottomWidth(n),t=Ct.getPaddingTop(n)+Ct.getPaddingBottom(n);return n.offsetHeight-e-t}function Ll(n){let e=Ct.getMarginTop(n)+Ct.getMarginBottom(n);return n.offsetHeight+e}function Cn(n,e){return!!e?.contains(n)}function t1(n,e,t){for(;n&&n.nodeType===n.ELEMENT_NODE;){if(n.classList.contains(e))return n;if(t){if(typeof t=="string"){if(n.classList.contains(t))return null}else if(n===t)return null}n=n.parentNode}return null}function Al(n,e,t){return!!t1(n,e,t)}function hg(n){return n&&!!n.host&&!!n.mode}function n1(n){for(;n.parentNode;){if(n===n.ownerDocument?.body)return null;n=n.parentNode}return hg(n)?n:null}function qi(){let n=i1().activeElement;for(;n?.shadowRoot;)n=n.shadowRoot.activeElement;return n}function $t(n){return qi()===n}function i1(){return JI()<=1?tt.document:Array.from(dg()).map(({window:e})=>e.document).find(e=>e.hasFocus())??tt.document}var o1=new Map;function cn(n=tt.document.head,e,t){let i=document.createElement("style");if(i.type="text/css",i.media="screen",e?.(i),n.appendChild(i),t&&t.add(ce(()=>i.remove())),n===tt.document.head){let o=new Set;o1.set(i,o);for(let{window:r,disposables:s}of dg()){if(r===tt)continue;let a=s.add(r1(i,o,r));t?.add(a)}}return i}function r1(n,e,t){let i=new G,o=n.cloneNode(!0);t.document.head.appendChild(o),i.add(ce(()=>o.remove()));for(let r of a1(n))o.sheet?.insertRule(r.cssText,o.sheet?.cssRules.length);return i.add(s1.observe(n,i,{childList:!0})(()=>{o.textContent=n.textContent})),e.add(o),i.add(ce(()=>e.delete(o))),i}var s1=new class{mutationObservers=new Map;observe(n,e,t){let i=this.mutationObservers.get(n);i||(i=new Map,this.mutationObservers.set(n,i));let o=Ou(t),r=i.get(o);if(r)r.users+=1;else{let s=new L,a=new MutationObserver(c=>s.fire(c));a.observe(n,t);let l=r={users:1,observer:a,onDidMutate:s.event};e.add(ce(()=>{l.users-=1,l.users===0&&(s.dispose(),a.disconnect(),i?.delete(o),i?.size===0&&this.mutationObservers.delete(n))})),i.set(o,r)}return r.onDidMutate}};function a1(n){return n?.sheet?.rules?n.sheet.rules:n?.sheet?.cssRules?n.sheet.cssRules:[]}function _t(n){return n instanceof HTMLElement||n instanceof be(n).HTMLElement}function mg(n){return n instanceof SVGElement||n instanceof be(n).SVGElement}function Bu(n){return n instanceof MouseEvent||n instanceof be(n).MouseEvent}function zn(n){return n instanceof KeyboardEvent||n instanceof be(n).KeyboardEvent}var me={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",POINTER_LEAVE:"pointerleave",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",PAGE_SHOW:"pageshow",PAGE_HIDE:"pagehide",PASTE:"paste",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:dr?"webkitAnimationStart":"animationstart",ANIMATION_END:dr?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:dr?"webkitAnimationIteration":"animationiteration"};var Ge={stop:(n,e)=>(n.preventDefault(),e&&n.stopPropagation(),n)};var Pu=class n extends J{_onDidFocus=this._register(new L);onDidFocus=this._onDidFocus.event;_onDidBlur=this._register(new L);onDidBlur=this._onDidBlur.event;_refreshStateHandler;static hasFocusWithin(e){if(_t(e)){let t=n1(e),i=t?t.activeElement:e.ownerDocument.activeElement;return Cn(i,e)}else{let t=e;return Cn(t.document.activeElement,t.document)}}constructor(e){super();let t=n.hasFocusWithin(e),i=!1,o=()=>{i=!1,t||(t=!0,this._onDidFocus.fire())},r=()=>{t&&(i=!0,(_t(e)?be(e):e).setTimeout(()=>{i&&(i=!1,t=!1,this._onDidBlur.fire())},0))};this._refreshStateHandler=()=>{n.hasFocusWithin(e)!==t&&(t?r():o())},this._register(Z(e,me.FOCUS,o,!0)),this._register(Z(e,me.BLUR,r,!0)),_t(e)&&(this._register(Z(e,me.FOCUS_IN,()=>this._refreshStateHandler())),this._register(Z(e,me.FOCUS_OUT,()=>this._refreshStateHandler())))}refreshState(){this._refreshStateHandler()}};function Rs(n){return new Pu(n)}function se(n,...e){if(n.append(...e),e.length===1&&typeof e[0]!="string")return e[0]}function Lo(n,...e){n.innerText="",se(n,...e)}var l1=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;function fg(n,e,t,...i){let o=l1.exec(e);if(!o)throw new Error("Bad use of emmet");let r=o[1]||"div",s;return n!=="http://www.w3.org/1999/xhtml"?s=document.createElementNS(n,r):s=document.createElement(r),o[3]&&(s.id=o[3]),o[4]&&(s.className=o[4].replace(/\./g," ").trim()),t&&Object.entries(t).forEach(([a,l])=>{typeof l>"u"||(/^on\w+$/.test(a)?s[a]=l:a==="selected"?l&&s.setAttribute(a,"true"):s.setAttribute(a,l))}),s.append(...i),s}function j(n,e,...t){return fg("http://www.w3.org/1999/xhtml",n,e,...t)}j.SVG=function(n,e,...t){return fg("http://www.w3.org/2000/svg",n,e,...t)};function gg(n,e){let t=()=>{e(),i=zt(n,t)},i=zt(n,t);return ce(()=>i.dispose())}xu.setPreferredWebSchema(/^https:/.test(tt.location.href)?"https":"http");function un(n,e){if(n!==void 0){let t=n.match(/^\s*var\((.+)\)$/);if(t){let i=t[1].split(",",2);return i.length===2&&(e=un(i[1].trim(),e)),`var(${i[0]}, ${e})`}return n}return e}function bg(n,e=!1){let t=document.createElement("a");return El("afterSanitizeAttributes",i=>{for(let o of["href","src"])if(i.hasAttribute(o)){let r=i.getAttribute(o);if(o==="href"&&r.startsWith("#"))continue;if(t.href=r,!n.includes(t.protocol.replace(/:$/,""))){if(e&&o==="src"&&t.href.startsWith("data:"))continue;i.removeAttribute(o)}}}),ce(()=>{Sl("afterSanitizeAttributes")})}var lk=[Le.http,Le.https,Le.command],vg=Object.freeze(["a","abbr","b","bdo","blockquote","br","caption","cite","code","col","colgroup","dd","del","details","dfn","div","dl","dt","em","figcaption","figure","h1","h2","h3","h4","h5","h6","hr","i","img","input","ins","kbd","label","li","mark","ol","p","pre","q","rp","rt","ruby","samp","small","small","source","span","strike","strong","sub","summary","sup","table","tbody","td","tfoot","th","thead","time","tr","tt","u","ul","var","video","wbr"]),dk=Object.freeze({ALLOWED_TAGS:["a","button","blockquote","code","div","h1","h2","h3","h4","h5","h6","hr","input","label","li","p","pre","select","small","span","strong","textarea","ul","ol"],ALLOWED_ATTR:["href","data-href","data-command","target","title","name","src","alt","class","id","role","tabindex","style","data-code","width","height","align","x-dispatch","required","checked","placeholder","type","start"],RETURN_DOM:!1,RETURN_DOM_FRAGMENT:!1,RETURN_TRUSTED_TYPE:!0});var d1=/(?<tag>[\w\-]+)?(?:#(?<id>[\w\-]+))?(?<class>(?:\.(?:[\w\-]+))*)(?:@(?<name>(?:[\w\_])+))?/;function Ns(n,...e){let t,i;Array.isArray(e[0])?(t={},i=e[0]):(t=e[0]||{},i=e[1]);let o=d1.exec(n);if(!o||!o.groups)throw new Error("Bad use of h");let r=o.groups.tag||"div",s=document.createElement(r);o.groups.id&&(s.id=o.groups.id);let a=[];if(o.groups.class)for(let c of o.groups.class.split("."))c!==""&&a.push(c);if(t.className!==void 0)for(let c of t.className.split("."))c!==""&&a.push(c);a.length>0&&(s.className=a.join(" "));let l={};if(o.groups.name&&(l[o.groups.name]=s),i)for(let c of i)_t(c)?s.appendChild(c):typeof c=="string"?s.append(c):"root"in c&&(Object.assign(l,c),s.appendChild(c.root));for(let[c,p]of Object.entries(t))if(c!=="className")if(c==="style")for(let[h,f]of Object.entries(p))s.style.setProperty(lg(h),typeof f=="number"?f+"px":""+f);else c==="tabIndex"?s.tabIndex=p:s.setAttribute(lg(c),p.toString());return l.root=s,l}function lg(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function $n(n){return n.tagName.toLowerCase()==="input"||n.tagName.toLowerCase()==="textarea"||_t(n)&&!!n.editContext}var Rl=(o=>(o[o.Ignore=0]="Ignore",o[o.Info=1]="Info",o[o.Warning=2]="Warning",o[o.Error=3]="Error",o))(Rl||{});(a=>{let n="error",e="warning",t="warn",i="info",o="ignore";function r(l){return l?In(n,l)?3:In(e,l)||In(t,l)?2:In(i,l)?1:0:0}a.fromValue=r;function s(l){switch(l){case 3:return n;case 2:return e;case 1:return i;default:return o}}a.toString=s})(Rl||={});var Gt=Rl;function Hu(...n){switch(n.length){case 1:return d("contextkey.scanner.hint.didYouMean1","Did you mean {0}?",n[0]);case 2:return d("contextkey.scanner.hint.didYouMean2","Did you mean {0} or {1}?",n[0],n[1]);case 3:return d("contextkey.scanner.hint.didYouMean3","Did you mean {0}, {1} or {2}?",n[0],n[1],n[2]);default:return}}var c1=d("contextkey.scanner.hint.didYouForgetToOpenOrCloseQuote","Did you forget to open or close the quote?"),u1=d("contextkey.scanner.hint.didYouForgetToEscapeSlash","Did you forget to escape the '/' (slash) character? Put two backslashes before it to escape, e.g., '\\\\/'."),ji=class n{static getLexeme(e){switch(e.type){case 0:return"(";case 1:return")";case 2:return"!";case 3:return e.isTripleEq?"===":"==";case 4:return e.isTripleEq?"!==":"!=";case 5:return"<";case 6:return"<=";case 7:return">=";case 8:return">=";case 9:return"=~";case 10:return e.lexeme;case 11:return"true";case 12:return"false";case 13:return"in";case 14:return"not";case 15:return"&&";case 16:return"||";case 17:return e.lexeme;case 18:return e.lexeme;case 19:return e.lexeme;case 20:return"EOF";default:throw km(`unhandled token type: ${JSON.stringify(e)}; have you forgotten to add a case?`)}}static _regexFlags=new Set(["i","g","s","m","y","u"].map(e=>e.charCodeAt(0)));static _keywords=new Map([["not",14],["in",13],["false",12],["true",11]]);_input="";_start=0;_current=0;_tokens=[];_errors=[];get errors(){return this._errors}reset(e){return this._input=e,this._start=0,this._current=0,this._tokens=[],this._errors=[],this}scan(){for(;!this._isAtEnd();)switch(this._start=this._current,this._advance()){case 40:this._addToken(0);break;case 41:this._addToken(1);break;case 33:if(this._match(61)){let t=this._match(61);this._tokens.push({type:4,offset:this._start,isTripleEq:t})}else this._addToken(2);break;case 39:this._quotedString();break;case 47:this._regex();break;case 61:if(this._match(61)){let t=this._match(61);this._tokens.push({type:3,offset:this._start,isTripleEq:t})}else this._match(126)?this._addToken(9):this._error(Hu("==","=~"));break;case 60:this._addToken(this._match(61)?6:5);break;case 62:this._addToken(this._match(61)?8:7);break;case 38:this._match(38)?this._addToken(15):this._error(Hu("&&"));break;case 124:this._match(124)?this._addToken(16):this._error(Hu("||"));break;case 32:case 13:case 9:case 10:case 160:break;default:this._string()}return this._start=this._current,this._addToken(20),Array.from(this._tokens)}_match(e){return this._isAtEnd()||this._input.charCodeAt(this._current)!==e?!1:(this._current++,!0)}_advance(){return this._input.charCodeAt(this._current++)}_peek(){return this._isAtEnd()?0:this._input.charCodeAt(this._current)}_addToken(e){this._tokens.push({type:e,offset:this._start})}_error(e){let t=this._start,i=this._input.substring(this._start,this._current),o={type:19,offset:this._start,lexeme:i};this._errors.push({offset:t,lexeme:i,additionalInfo:e}),this._tokens.push(o)}stringRe=/[a-zA-Z0-9_<>\-\./\\:\*\?\+\[\]\^,#@;"%\$\p{L}-]+/uy;_string(){this.stringRe.lastIndex=this._start;let e=this.stringRe.exec(this._input);if(e){this._current=this._start+e[0].length;let t=this._input.substring(this._start,this._current),i=n._keywords.get(t);i?this._addToken(i):this._tokens.push({type:17,lexeme:t,offset:this._start})}}_quotedString(){for(;this._peek()!==39&&!this._isAtEnd();)this._advance();if(this._isAtEnd()){this._error(c1);return}this._advance(),this._tokens.push({type:18,lexeme:this._input.substring(this._start+1,this._current-1),offset:this._start+1})}_regex(){let e=this._current,t=!1,i=!1;for(;;){if(e>=this._input.length){this._current=e,this._error(u1);return}let r=this._input.charCodeAt(e);if(t)t=!1;else if(r===47&&!i){e++;break}else r===91?i=!0:r===92?t=!0:r===93&&(i=!1);e++}for(;e<this._input.length&&n._regexFlags.has(this._input.charCodeAt(e));)e++;this._current=e;let o=this._input.substring(this._start,this._current);this._tokens.push({type:10,lexeme:o,offset:this._start})}_isAtEnd(){return this._current>=this._input.length}};var Nl=class{ctor;staticArguments;supportsDelayedInstantiation;constructor(e,t=[],i=!1){this.ctor=e,this.staticArguments=t,this.supportsDelayedInstantiation=i}};var Yi;(o=>{o.serviceIds=new Map,o.DI_TARGET="$di$target",o.DI_DEPENDENCIES="$di$dependencies";function i(r){return r[o.DI_DEPENDENCIES]||[]}o.getServiceDependencies=i})(Yi||={});var tn=ae("instantiationService");function p1(n,e,t){e[Yi.DI_TARGET]===e?e[Yi.DI_DEPENDENCIES].push({id:n,index:t}):(e[Yi.DI_DEPENDENCIES]=[{id:n,index:t}],e[Yi.DI_TARGET]=e)}function ae(n){if(Yi.serviceIds.has(n))return Yi.serviceIds.get(n);let e=function(t,i,o){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");p1(e,t,o)};return e.toString=()=>n,Yi.serviceIds.set(n,e),e}var mt=new Map;mt.set("false",!1);mt.set("true",!0);mt.set("isMac",ke);mt.set("isLinux",Ut);mt.set("isWindows",ot);mt.set("isWeb",hi);mt.set("isMacNative",ke&&!hi);mt.set("isEdge",uf);mt.set("isFirefox",df);mt.set("isChrome",jc);mt.set("isSafari",cf);var h1=Object.prototype.hasOwnProperty;var m1={regexParsingWithErrorRecovery:!0},f1=d("contextkey.parser.error.emptyString","Empty context key expression"),g1=d("contextkey.parser.error.emptyString.hint","Did you forget to write an expression? You can also put 'false' or 'true' to always evaluate to false or true, respectively."),b1=d("contextkey.parser.error.noInAfterNot","'in' after 'not'."),yg=d("contextkey.parser.error.closingParenthesis","closing parenthesis ')'"),v1=d("contextkey.parser.error.unexpectedToken","Unexpected token"),y1=d("contextkey.parser.error.unexpectedToken.hint","Did you forget to put && or || before the token?"),T1=d("contextkey.parser.error.unexpectedEOF","Unexpected end of expression"),I1=d("contextkey.parser.error.unexpectedEOF.hint","Did you forget to put a context key?"),Uu=class n{constructor(e=m1){this._config=e}static _parseError=new Error;_scanner=new ji;_tokens=[];_current=0;_parsingErrors=[];get lexingErrors(){return this._scanner.errors}get parsingErrors(){return this._parsingErrors}parse(e){if(e===""){this._parsingErrors.push({message:f1,offset:0,lexeme:"",additionalInfo:g1});return}this._tokens=this._scanner.reset(e).scan(),this._current=0,this._parsingErrors=[];try{let t=this._expr();if(!this._isAtEnd()){let i=this._peek(),o=i.type===17?y1:void 0;throw this._parsingErrors.push({message:v1,offset:i.offset,lexeme:ji.getLexeme(i),additionalInfo:o}),n._parseError}return t}catch(t){if(t!==n._parseError)throw t;return}}_expr(){return this._or()}_or(){let e=[this._and()];for(;this._matchOne(16);){let t=this._and();e.push(t)}return e.length===1?e[0]:Xe.or(...e)}_and(){let e=[this._term()];for(;this._matchOne(15);){let t=this._term();e.push(t)}return e.length===1?e[0]:Xe.and(...e)}_term(){if(this._matchOne(2)){let e=this._peek();switch(e.type){case 11:return this._advance(),Tt.INSTANCE;case 12:return this._advance(),kt.INSTANCE;case 0:{this._advance();let t=this._expr();return this._consume(1,yg),t?.negate()}case 17:return this._advance(),Ro.create(e.lexeme);default:throw this._errExpectedButGot("KEY | true | false | '(' expression ')'",e)}}return this._primary()}_primary(){let e=this._peek();switch(e.type){case 11:return this._advance(),Xe.true();case 12:return this._advance(),Xe.false();case 0:{this._advance();let t=this._expr();return this._consume(1,yg),t}case 17:{let t=e.lexeme;if(this._advance(),this._matchOne(9)){let o=this._peek();if(!this._config.regexParsingWithErrorRecovery){if(this._advance(),o.type!==10)throw this._errExpectedButGot("REGEX",o);let r=o.lexeme,s=r.lastIndexOf("/"),a=s===r.length-1?void 0:this._removeFlagsGY(r.substring(s+1)),l;try{l=new RegExp(r.substring(1,s),a)}catch{throw this._errExpectedButGot("REGEX",o)}return Ks.create(t,l)}switch(o.type){case 10:case 19:{let r=[o.lexeme];this._advance();let s=this._peek(),a=0;for(let f=0;f<o.lexeme.length;f++)o.lexeme.charCodeAt(f)===40?a++:o.lexeme.charCodeAt(f)===41&&a--;for(;!this._isAtEnd()&&s.type!==15&&s.type!==16;){switch(s.type){case 0:a++;break;case 1:a--;break;case 10:case 18:for(let f=0;f<s.lexeme.length;f++)s.lexeme.charCodeAt(f)===40?a++:o.lexeme.charCodeAt(f)===41&&a--}if(a<0)break;r.push(ji.getLexeme(s)),this._advance(),s=this._peek()}let l=r.join(""),c=l.lastIndexOf("/"),p=c===l.length-1?void 0:this._removeFlagsGY(l.substring(c+1)),h;try{h=new RegExp(l.substring(1,c),p)}catch{throw this._errExpectedButGot("REGEX",o)}return Xe.regex(t,h)}case 18:{let r=o.lexeme;this._advance();let s=null;if(!Lf(r)){let a=r.indexOf("/"),l=r.lastIndexOf("/");if(a!==l&&a>=0){let c=r.slice(a+1,l),p=r[l+1]==="i"?"i":"";try{s=new RegExp(c,p)}catch{throw this._errExpectedButGot("REGEX",o)}}}if(s===null)throw this._errExpectedButGot("REGEX",o);return Ks.create(t,s)}default:throw this._errExpectedButGot("REGEX",this._peek())}}if(this._matchOne(14)){this._consume(13,b1);let o=this._value();return Xe.notIn(t,o)}switch(this._peek().type){case 3:{this._advance();let o=this._value();if(this._previous().type===18)return Xe.equals(t,o);switch(o){case"true":return Xe.has(t);case"false":return Xe.not(t);default:return Xe.equals(t,o)}}case 4:{this._advance();let o=this._value();if(this._previous().type===18)return Xe.notEquals(t,o);switch(o){case"true":return Xe.not(t);case"false":return Xe.has(t);default:return Xe.notEquals(t,o)}}case 5:return this._advance(),Hs.create(t,this._value());case 6:return this._advance(),Us.create(t,this._value());case 7:return this._advance(),Ps.create(t,this._value());case 8:return this._advance(),Bs.create(t,this._value());case 13:return this._advance(),Xe.in(t,this._value());default:return Xe.has(t)}}case 20:throw this._parsingErrors.push({message:T1,offset:e.offset,lexeme:"",additionalInfo:I1}),n._parseError;default:throw this._errExpectedButGot(`true | false | KEY 
	| KEY '=~' REGEX 
	| KEY ('==' | '!=' | '<' | '<=' | '>' | '>=' | 'in' | 'not' 'in') value`,this._peek())}}_value(){let e=this._peek();switch(e.type){case 17:case 18:return this._advance(),e.lexeme;case 11:return this._advance(),"true";case 12:return this._advance(),"false";case 13:return this._advance(),"in";default:return""}}_flagsGYRe=/g|y/g;_removeFlagsGY(e){return e.replaceAll(this._flagsGYRe,"")}_previous(){return this._tokens[this._current-1]}_matchOne(e){return this._check(e)?(this._advance(),!0):!1}_advance(){return this._isAtEnd()||this._current++,this._previous()}_consume(e,t){if(this._check(e))return this._advance();throw this._errExpectedButGot(t,this._peek())}_errExpectedButGot(e,t,i){let o=d("contextkey.parser.error.expectedButGot",`Expected: {0}
Received: '{1}'.`,e,ji.getLexeme(t)),r=t.offset,s=ji.getLexeme(t);return this._parsingErrors.push({message:o,offset:r,lexeme:s,additionalInfo:i}),n._parseError}_check(e){return this._peek().type===e}_peek(){return this._tokens[this._current]}_isAtEnd(){return this._peek().type===20}},Xe=class{static false(){return Tt.INSTANCE}static true(){return kt.INSTANCE}static has(e){return Ao.create(e)}static equals(e,t){return Fs.create(e,t)}static notEquals(e,t){return Ms.create(e,t)}static regex(e,t){return Ks.create(e,t)}static in(e,t){return Ol.create(e,t)}static notIn(e,t){return Fl.create(e,t)}static not(e){return Ro.create(e)}static and(...e){return Ml.create(e,null,!0)}static or(...e){return Vs.create(e,null,!0)}static greater(e,t){return Ps.create(e,t)}static greaterEquals(e,t){return Bs.create(e,t)}static smaller(e,t){return Hs.create(e,t)}static smallerEquals(e,t){return Us.create(e,t)}static _parser=new Uu({regexParsingWithErrorRecovery:!1});static deserialize(e){return e==null?void 0:this._parser.parse(e)}};function Os(n,e){return n.cmp(e)}var Tt=class n{static INSTANCE=new n;type=0;constructor(){}cmp(e){return this.type-e.type}equals(e){return e.type===this.type}substituteConstants(){return this}evaluate(e){return!1}serialize(){return"false"}keys(){return[]}map(e){return this}negate(){return kt.INSTANCE}},kt=class n{static INSTANCE=new n;type=1;constructor(){}cmp(e){return this.type-e.type}equals(e){return e.type===this.type}substituteConstants(){return this}evaluate(e){return!0}serialize(){return"true"}keys(){return[]}map(e){return this}negate(){return Tt.INSTANCE}},Ao=class n{constructor(e,t){this.key=e;this.negated=t}static create(e,t=null){let i=mt.get(e);return typeof i=="boolean"?i?kt.INSTANCE:Tt.INSTANCE:new n(e,t)}type=2;cmp(e){return e.type!==this.type?this.type-e.type:xg(this.key,e.key)}equals(e){return e.type===this.type?this.key===e.key:!1}substituteConstants(){let e=mt.get(this.key);return typeof e=="boolean"?e?kt.INSTANCE:Tt.INSTANCE:this}evaluate(e){return!!e.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}map(e){return e.mapDefined(this.key)}negate(){return this.negated||(this.negated=Ro.create(this.key,this)),this.negated}},Fs=class n{constructor(e,t,i){this.key=e;this.value=t;this.negated=i}static create(e,t,i=null){if(typeof t=="boolean")return t?Ao.create(e,i):Ro.create(e,i);let o=mt.get(e);return typeof o=="boolean"?t===(o?"true":"false")?kt.INSTANCE:Tt.INSTANCE:new n(e,t,i)}type=4;cmp(e){return e.type!==this.type?this.type-e.type:No(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){let e=mt.get(this.key);if(typeof e=="boolean"){let t=e?"true":"false";return this.value===t?kt.INSTANCE:Tt.INSTANCE}return this}evaluate(e){return e.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}map(e){return e.mapEquals(this.key,this.value)}negate(){return this.negated||(this.negated=Ms.create(this.key,this.value,this)),this.negated}},Ol=class n{constructor(e,t){this.key=e;this.valueKey=t}static create(e,t){return new n(e,t)}type=10;negated=null;cmp(e){return e.type!==this.type?this.type-e.type:No(this.key,this.valueKey,e.key,e.valueKey)}equals(e){return e.type===this.type?this.key===e.key&&this.valueKey===e.valueKey:!1}substituteConstants(){return this}evaluate(e){let t=e.getValue(this.valueKey),i=e.getValue(this.key);return Array.isArray(t)?t.includes(i):typeof i=="string"&&typeof t=="object"&&t!==null?h1.call(t,i):!1}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}map(e){return e.mapIn(this.key,this.valueKey)}negate(){return this.negated||(this.negated=Fl.create(this.key,this.valueKey)),this.negated}},Fl=class n{constructor(e,t){this.key=e;this.valueKey=t;this._negated=Ol.create(e,t)}static create(e,t){return new n(e,t)}type=11;_negated;cmp(e){return e.type!==this.type?this.type-e.type:this._negated.cmp(e._negated)}equals(e){return e.type===this.type?this._negated.equals(e._negated):!1}substituteConstants(){return this}evaluate(e){return!this._negated.evaluate(e)}serialize(){return`${this.key} not in '${this.valueKey}'`}keys(){return this._negated.keys()}map(e){return e.mapNotIn(this.key,this.valueKey)}negate(){return this._negated}},Ms=class n{constructor(e,t,i){this.key=e;this.value=t;this.negated=i}static create(e,t,i=null){if(typeof t=="boolean")return t?Ro.create(e,i):Ao.create(e,i);let o=mt.get(e);return typeof o=="boolean"?t===(o?"true":"false")?Tt.INSTANCE:kt.INSTANCE:new n(e,t,i)}type=5;cmp(e){return e.type!==this.type?this.type-e.type:No(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){let e=mt.get(this.key);if(typeof e=="boolean"){let t=e?"true":"false";return this.value===t?Tt.INSTANCE:kt.INSTANCE}return this}evaluate(e){return e.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}map(e){return e.mapNotEquals(this.key,this.value)}negate(){return this.negated||(this.negated=Fs.create(this.key,this.value,this)),this.negated}},Ro=class n{constructor(e,t){this.key=e;this.negated=t}static create(e,t=null){let i=mt.get(e);return typeof i=="boolean"?i?Tt.INSTANCE:kt.INSTANCE:new n(e,t)}type=3;cmp(e){return e.type!==this.type?this.type-e.type:xg(this.key,e.key)}equals(e){return e.type===this.type?this.key===e.key:!1}substituteConstants(){let e=mt.get(this.key);return typeof e=="boolean"?e?Tt.INSTANCE:kt.INSTANCE:this}evaluate(e){return!e.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}map(e){return e.mapNot(this.key)}negate(){return this.negated||(this.negated=Ao.create(this.key,this)),this.negated}};function Pl(n,e){if(typeof n=="string"){let t=parseFloat(n);isNaN(t)||(n=t)}return typeof n=="string"||typeof n=="number"?e(n):Tt.INSTANCE}var Ps=class n{constructor(e,t,i){this.key=e;this.value=t;this.negated=i}static create(e,t,i=null){return Pl(t,o=>new n(e,o,i))}type=12;cmp(e){return e.type!==this.type?this.type-e.type:No(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}map(e){return e.mapGreater(this.key,this.value)}negate(){return this.negated||(this.negated=Us.create(this.key,this.value,this)),this.negated}},Bs=class n{constructor(e,t,i){this.key=e;this.value=t;this.negated=i}static create(e,t,i=null){return Pl(t,o=>new n(e,o,i))}type=13;cmp(e){return e.type!==this.type?this.type-e.type:No(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}map(e){return e.mapGreaterEquals(this.key,this.value)}negate(){return this.negated||(this.negated=Hs.create(this.key,this.value,this)),this.negated}},Hs=class n{constructor(e,t,i){this.key=e;this.value=t;this.negated=i}static create(e,t,i=null){return Pl(t,o=>new n(e,o,i))}type=14;cmp(e){return e.type!==this.type?this.type-e.type:No(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}map(e){return e.mapSmaller(this.key,this.value)}negate(){return this.negated||(this.negated=Bs.create(this.key,this.value,this)),this.negated}},Us=class n{constructor(e,t,i){this.key=e;this.value=t;this.negated=i}static create(e,t,i=null){return Pl(t,o=>new n(e,o,i))}type=15;cmp(e){return e.type!==this.type?this.type-e.type:No(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}map(e){return e.mapSmallerEquals(this.key,this.value)}negate(){return this.negated||(this.negated=Ps.create(this.key,this.value,this)),this.negated}},Ks=class n{constructor(e,t){this.key=e;this.regexp=t}static create(e,t){return new n(e,t)}type=7;negated=null;cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.key<e.key)return-1;if(this.key>e.key)return 1;let t=this.regexp?this.regexp.source:"",i=e.regexp?e.regexp.source:"";return t<i?-1:t>i?1:0}equals(e){if(e.type===this.type){let t=this.regexp?this.regexp.source:"",i=e.regexp?e.regexp.source:"";return this.key===e.key&&t===i}return!1}substituteConstants(){return this}evaluate(e){let t=e.getValue(this.key);return this.regexp?this.regexp.test(t):!1}serialize(){let e=this.regexp?`/${this.regexp.source}/${this.regexp.flags}`:"/invalid/";return`${this.key} =~ ${e}`}keys(){return[this.key]}map(e){return e.mapRegex(this.key,this.regexp)}negate(){return this.negated||(this.negated=Ku.create(this)),this.negated}},Ku=class n{constructor(e){this._actual=e}static create(e){return new n(e)}type=8;cmp(e){return e.type!==this.type?this.type-e.type:this._actual.cmp(e._actual)}equals(e){return e.type===this.type?this._actual.equals(e._actual):!1}substituteConstants(){return this}evaluate(e){return!this._actual.evaluate(e)}serialize(){return`!(${this._actual.serialize()})`}keys(){return this._actual.keys()}map(e){return new n(this._actual.map(e))}negate(){return this._actual}};function Ig(n){let e=null;for(let t=0,i=n.length;t<i;t++){let o=n[t].substituteConstants();if(n[t]!==o&&e===null){e=[];for(let r=0;r<t;r++)e[r]=n[r]}e!==null&&(e[t]=o)}return e===null?n:e}var Ml=class n{constructor(e,t){this.expr=e;this.negated=t}static create(e,t,i){return n._normalizeArr(e,t,i)}type=6;cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.expr.length<e.expr.length)return-1;if(this.expr.length>e.expr.length)return 1;for(let t=0,i=this.expr.length;t<i;t++){let o=Os(this.expr[t],e.expr[t]);if(o!==0)return o}return 0}equals(e){if(e.type===this.type){if(this.expr.length!==e.expr.length)return!1;for(let t=0,i=this.expr.length;t<i;t++)if(!this.expr[t].equals(e.expr[t]))return!1;return!0}return!1}substituteConstants(){let e=Ig(this.expr);return e===this.expr?this:n.create(e,this.negated,!1)}evaluate(e){for(let t=0,i=this.expr.length;t<i;t++)if(!this.expr[t].evaluate(e))return!1;return!0}static _normalizeArr(e,t,i){let o=[],r=!1;for(let s of e)if(s){if(s.type===1){r=!0;continue}if(s.type===0)return Tt.INSTANCE;if(s.type===6){o.push(...s.expr);continue}o.push(s)}if(o.length===0&&r)return kt.INSTANCE;if(o.length!==0){if(o.length===1)return o[0];o.sort(Os);for(let s=1;s<o.length;s++)o[s-1].equals(o[s])&&(o.splice(s,1),s--);if(o.length===1)return o[0];for(;o.length>1;){let s=o[o.length-1];if(s.type!==9)break;o.pop();let a=o.pop(),l=o.length===0,c=Vs.create(s.expr.map(p=>n.create([p,a],null,i)),null,l);c&&(o.push(c),o.sort(Os))}if(o.length===1)return o[0];if(i){for(let s=0;s<o.length;s++)for(let a=s+1;a<o.length;a++)if(o[s].negate().equals(o[a]))return Tt.INSTANCE;if(o.length===1)return o[0]}return new n(o,t)}}serialize(){return this.expr.map(e=>e.serialize()).join(" && ")}keys(){let e=[];for(let t of this.expr)e.push(...t.keys());return e}map(e){return new n(this.expr.map(t=>t.map(e)),null)}negate(){if(!this.negated){let e=[];for(let t of this.expr)e.push(t.negate());this.negated=Vs.create(e,this,!0)}return this.negated}},Vs=class n{constructor(e,t){this.expr=e;this.negated=t}static create(e,t,i){return n._normalizeArr(e,t,i)}type=9;cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.expr.length<e.expr.length)return-1;if(this.expr.length>e.expr.length)return 1;for(let t=0,i=this.expr.length;t<i;t++){let o=Os(this.expr[t],e.expr[t]);if(o!==0)return o}return 0}equals(e){if(e.type===this.type){if(this.expr.length!==e.expr.length)return!1;for(let t=0,i=this.expr.length;t<i;t++)if(!this.expr[t].equals(e.expr[t]))return!1;return!0}return!1}substituteConstants(){let e=Ig(this.expr);return e===this.expr?this:n.create(e,this.negated,!1)}evaluate(e){for(let t=0,i=this.expr.length;t<i;t++)if(this.expr[t].evaluate(e))return!0;return!1}static _normalizeArr(e,t,i){let o=[],r=!1;if(e){for(let s=0,a=e.length;s<a;s++){let l=e[s];if(l){if(l.type===0){r=!0;continue}if(l.type===1)return kt.INSTANCE;if(l.type===9){o=o.concat(l.expr);continue}o.push(l)}}if(o.length===0&&r)return Tt.INSTANCE;o.sort(Os)}if(o.length!==0){if(o.length===1)return o[0];for(let s=1;s<o.length;s++)o[s-1].equals(o[s])&&(o.splice(s,1),s--);if(o.length===1)return o[0];if(i){for(let s=0;s<o.length;s++)for(let a=s+1;a<o.length;a++)if(o[s].negate().equals(o[a]))return kt.INSTANCE;if(o.length===1)return o[0]}return new n(o,t)}}serialize(){return this.expr.map(e=>e.serialize()).join(" || ")}keys(){let e=[];for(let t of this.expr)e.push(...t.keys());return e}map(e){return new n(this.expr.map(t=>t.map(e)),null)}negate(){if(!this.negated){let e=[];for(let t of this.expr)e.push(t.negate());for(;e.length>1;){let t=e.shift(),i=e.shift(),o=[];for(let r of Tg(t))for(let s of Tg(i))o.push(Ml.create([r,s],null,!1));e.unshift(n.create(o,null,!1))}this.negated=n.create(e,this,!0)}return this.negated}},Me=class n extends Ao{static _info=[];static all(){return n._info.values()}_defaultValue;constructor(e,t,i){super(e,null),this._defaultValue=t,typeof i=="object"?n._info.push({...i,key:e}):i!==!0&&n._info.push({key:e,description:i,type:t!=null?typeof t:void 0})}bindTo(e){return e.createKey(this.key,this._defaultValue)}getValue(e){return e.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(e){return Fs.create(this.key,e)}notEqualsTo(e){return Ms.create(this.key,e)}},nn=ae("contextKeyService");function xg(n,e){return n<e?-1:n>e?1:0}function No(n,e,t,i){return n<t?-1:n>t?1:e<i?-1:e>i?1:0}function Tg(n){return n.type===9?n.expr:[n]}var Vu=Object.create(null);function u(n,e){if(xn(e)){let t=Vu[e];if(t===void 0)throw new Error(`${n} references an unknown codicon: ${e}`);e=t}return Vu[n]=e,{id:n}}function Wu(){return Vu}var Eg={add:u("add",6e4),plus:u("plus",6e4),gistNew:u("gist-new",6e4),repoCreate:u("repo-create",6e4),lightbulb:u("lightbulb",60001),lightBulb:u("light-bulb",60001),repo:u("repo",60002),repoDelete:u("repo-delete",60002),gistFork:u("gist-fork",60003),repoForked:u("repo-forked",60003),gitPullRequest:u("git-pull-request",60004),gitPullRequestAbandoned:u("git-pull-request-abandoned",60004),recordKeys:u("record-keys",60005),keyboard:u("keyboard",60005),tag:u("tag",60006),gitPullRequestLabel:u("git-pull-request-label",60006),tagAdd:u("tag-add",60006),tagRemove:u("tag-remove",60006),person:u("person",60007),personFollow:u("person-follow",60007),personOutline:u("person-outline",60007),personFilled:u("person-filled",60007),gitBranch:u("git-branch",60008),gitBranchCreate:u("git-branch-create",60008),gitBranchDelete:u("git-branch-delete",60008),sourceControl:u("source-control",60008),mirror:u("mirror",60009),mirrorPublic:u("mirror-public",60009),star:u("star",60010),starAdd:u("star-add",60010),starDelete:u("star-delete",60010),starEmpty:u("star-empty",60010),comment:u("comment",60011),commentAdd:u("comment-add",60011),alert:u("alert",60012),warning:u("warning",60012),search:u("search",60013),searchSave:u("search-save",60013),logOut:u("log-out",60014),signOut:u("sign-out",60014),logIn:u("log-in",60015),signIn:u("sign-in",60015),eye:u("eye",60016),eyeUnwatch:u("eye-unwatch",60016),eyeWatch:u("eye-watch",60016),circleFilled:u("circle-filled",60017),primitiveDot:u("primitive-dot",60017),closeDirty:u("close-dirty",60017),debugBreakpoint:u("debug-breakpoint",60017),debugBreakpointDisabled:u("debug-breakpoint-disabled",60017),debugHint:u("debug-hint",60017),terminalDecorationSuccess:u("terminal-decoration-success",60017),primitiveSquare:u("primitive-square",60018),edit:u("edit",60019),pencil:u("pencil",60019),info:u("info",60020),issueOpened:u("issue-opened",60020),gistPrivate:u("gist-private",60021),gitForkPrivate:u("git-fork-private",60021),lock:u("lock",60021),mirrorPrivate:u("mirror-private",60021),close:u("close",60022),removeClose:u("remove-close",60022),x:u("x",60022),repoSync:u("repo-sync",60023),sync:u("sync",60023),clone:u("clone",60024),desktopDownload:u("desktop-download",60024),beaker:u("beaker",60025),microscope:u("microscope",60025),vm:u("vm",60026),deviceDesktop:u("device-desktop",60026),file:u("file",60027),fileText:u("file-text",60027),more:u("more",60028),ellipsis:u("ellipsis",60028),kebabHorizontal:u("kebab-horizontal",60028),mailReply:u("mail-reply",60029),reply:u("reply",60029),organization:u("organization",60030),organizationFilled:u("organization-filled",60030),organizationOutline:u("organization-outline",60030),newFile:u("new-file",60031),fileAdd:u("file-add",60031),newFolder:u("new-folder",60032),fileDirectoryCreate:u("file-directory-create",60032),trash:u("trash",60033),trashcan:u("trashcan",60033),history:u("history",60034),clock:u("clock",60034),folder:u("folder",60035),fileDirectory:u("file-directory",60035),symbolFolder:u("symbol-folder",60035),logoGithub:u("logo-github",60036),markGithub:u("mark-github",60036),github:u("github",60036),terminal:u("terminal",60037),console:u("console",60037),repl:u("repl",60037),zap:u("zap",60038),symbolEvent:u("symbol-event",60038),error:u("error",60039),stop:u("stop",60039),variable:u("variable",60040),symbolVariable:u("symbol-variable",60040),array:u("array",60042),symbolArray:u("symbol-array",60042),symbolModule:u("symbol-module",60043),symbolPackage:u("symbol-package",60043),symbolNamespace:u("symbol-namespace",60043),symbolObject:u("symbol-object",60043),symbolMethod:u("symbol-method",60044),symbolFunction:u("symbol-function",60044),symbolConstructor:u("symbol-constructor",60044),symbolBoolean:u("symbol-boolean",60047),symbolNull:u("symbol-null",60047),symbolNumeric:u("symbol-numeric",60048),symbolNumber:u("symbol-number",60048),symbolStructure:u("symbol-structure",60049),symbolStruct:u("symbol-struct",60049),symbolParameter:u("symbol-parameter",60050),symbolTypeParameter:u("symbol-type-parameter",60050),symbolKey:u("symbol-key",60051),symbolText:u("symbol-text",60051),symbolReference:u("symbol-reference",60052),goToFile:u("go-to-file",60052),symbolEnum:u("symbol-enum",60053),symbolValue:u("symbol-value",60053),symbolRuler:u("symbol-ruler",60054),symbolUnit:u("symbol-unit",60054),activateBreakpoints:u("activate-breakpoints",60055),archive:u("archive",60056),arrowBoth:u("arrow-both",60057),arrowDown:u("arrow-down",60058),arrowLeft:u("arrow-left",60059),arrowRight:u("arrow-right",60060),arrowSmallDown:u("arrow-small-down",60061),arrowSmallLeft:u("arrow-small-left",60062),arrowSmallRight:u("arrow-small-right",60063),arrowSmallUp:u("arrow-small-up",60064),arrowUp:u("arrow-up",60065),bell:u("bell",60066),bold:u("bold",60067),book:u("book",60068),bookmark:u("bookmark",60069),debugBreakpointConditionalUnverified:u("debug-breakpoint-conditional-unverified",60070),debugBreakpointConditional:u("debug-breakpoint-conditional",60071),debugBreakpointConditionalDisabled:u("debug-breakpoint-conditional-disabled",60071),debugBreakpointDataUnverified:u("debug-breakpoint-data-unverified",60072),debugBreakpointData:u("debug-breakpoint-data",60073),debugBreakpointDataDisabled:u("debug-breakpoint-data-disabled",60073),debugBreakpointLogUnverified:u("debug-breakpoint-log-unverified",60074),debugBreakpointLog:u("debug-breakpoint-log",60075),debugBreakpointLogDisabled:u("debug-breakpoint-log-disabled",60075),briefcase:u("briefcase",60076),broadcast:u("broadcast",60077),browser:u("browser",60078),bug:u("bug",60079),calendar:u("calendar",60080),caseSensitive:u("case-sensitive",60081),check:u("check",60082),checklist:u("checklist",60083),chevronDown:u("chevron-down",60084),chevronLeft:u("chevron-left",60085),chevronRight:u("chevron-right",60086),chevronUp:u("chevron-up",60087),chromeClose:u("chrome-close",60088),chromeMaximize:u("chrome-maximize",60089),chromeMinimize:u("chrome-minimize",60090),chromeRestore:u("chrome-restore",60091),circleOutline:u("circle-outline",60092),circle:u("circle",60092),debugBreakpointUnverified:u("debug-breakpoint-unverified",60092),terminalDecorationIncomplete:u("terminal-decoration-incomplete",60092),circleSlash:u("circle-slash",60093),circuitBoard:u("circuit-board",60094),clearAll:u("clear-all",60095),clippy:u("clippy",60096),closeAll:u("close-all",60097),cloudDownload:u("cloud-download",60098),cloudUpload:u("cloud-upload",60099),code:u("code",60100),collapseAll:u("collapse-all",60101),colorMode:u("color-mode",60102),commentDiscussion:u("comment-discussion",60103),creditCard:u("credit-card",60105),dash:u("dash",60108),dashboard:u("dashboard",60109),database:u("database",60110),debugContinue:u("debug-continue",60111),debugDisconnect:u("debug-disconnect",60112),debugPause:u("debug-pause",60113),debugRestart:u("debug-restart",60114),debugStart:u("debug-start",60115),debugStepInto:u("debug-step-into",60116),debugStepOut:u("debug-step-out",60117),debugStepOver:u("debug-step-over",60118),debugStop:u("debug-stop",60119),debug:u("debug",60120),deviceCameraVideo:u("device-camera-video",60121),deviceCamera:u("device-camera",60122),deviceMobile:u("device-mobile",60123),diffAdded:u("diff-added",60124),diffIgnored:u("diff-ignored",60125),diffModified:u("diff-modified",60126),diffRemoved:u("diff-removed",60127),diffRenamed:u("diff-renamed",60128),diff:u("diff",60129),diffSidebyside:u("diff-sidebyside",60129),discard:u("discard",60130),editorLayout:u("editor-layout",60131),emptyWindow:u("empty-window",60132),exclude:u("exclude",60133),extensions:u("extensions",60134),eyeClosed:u("eye-closed",60135),fileBinary:u("file-binary",60136),fileCode:u("file-code",60137),fileMedia:u("file-media",60138),filePdf:u("file-pdf",60139),fileSubmodule:u("file-submodule",60140),fileSymlinkDirectory:u("file-symlink-directory",60141),fileSymlinkFile:u("file-symlink-file",60142),fileZip:u("file-zip",60143),files:u("files",60144),filter:u("filter",60145),flame:u("flame",60146),foldDown:u("fold-down",60147),foldUp:u("fold-up",60148),fold:u("fold",60149),folderActive:u("folder-active",60150),folderOpened:u("folder-opened",60151),gear:u("gear",60152),gift:u("gift",60153),gistSecret:u("gist-secret",60154),gist:u("gist",60155),gitCommit:u("git-commit",60156),gitCompare:u("git-compare",60157),compareChanges:u("compare-changes",60157),gitMerge:u("git-merge",60158),githubAction:u("github-action",60159),githubAlt:u("github-alt",60160),globe:u("globe",60161),grabber:u("grabber",60162),graph:u("graph",60163),gripper:u("gripper",60164),heart:u("heart",60165),home:u("home",60166),horizontalRule:u("horizontal-rule",60167),hubot:u("hubot",60168),inbox:u("inbox",60169),issueReopened:u("issue-reopened",60171),issues:u("issues",60172),italic:u("italic",60173),jersey:u("jersey",60174),json:u("json",60175),kebabVertical:u("kebab-vertical",60176),key:u("key",60177),law:u("law",60178),lightbulbAutofix:u("lightbulb-autofix",60179),linkExternal:u("link-external",60180),link:u("link",60181),listOrdered:u("list-ordered",60182),listUnordered:u("list-unordered",60183),liveShare:u("live-share",60184),loading:u("loading",60185),location:u("location",60186),mailRead:u("mail-read",60187),mail:u("mail",60188),markdown:u("markdown",60189),megaphone:u("megaphone",60190),mention:u("mention",60191),milestone:u("milestone",60192),gitPullRequestMilestone:u("git-pull-request-milestone",60192),mortarBoard:u("mortar-board",60193),move:u("move",60194),multipleWindows:u("multiple-windows",60195),mute:u("mute",60196),noNewline:u("no-newline",60197),note:u("note",60198),octoface:u("octoface",60199),openPreview:u("open-preview",60200),package:u("package",60201),paintcan:u("paintcan",60202),pin:u("pin",60203),play:u("play",60204),run:u("run",60204),plug:u("plug",60205),preserveCase:u("preserve-case",60206),preview:u("preview",60207),project:u("project",60208),pulse:u("pulse",60209),question:u("question",60210),quote:u("quote",60211),radioTower:u("radio-tower",60212),reactions:u("reactions",60213),references:u("references",60214),refresh:u("refresh",60215),regex:u("regex",60216),remoteExplorer:u("remote-explorer",60217),remote:u("remote",60218),remove:u("remove",60219),replaceAll:u("replace-all",60220),replace:u("replace",60221),repoClone:u("repo-clone",60222),repoForcePush:u("repo-force-push",60223),repoPull:u("repo-pull",60224),repoPush:u("repo-push",60225),report:u("report",60226),requestChanges:u("request-changes",60227),rocket:u("rocket",60228),rootFolderOpened:u("root-folder-opened",60229),rootFolder:u("root-folder",60230),rss:u("rss",60231),ruby:u("ruby",60232),saveAll:u("save-all",60233),saveAs:u("save-as",60234),save:u("save",60235),screenFull:u("screen-full",60236),screenNormal:u("screen-normal",60237),searchStop:u("search-stop",60238),server:u("server",60240),settingsGear:u("settings-gear",60241),settings:u("settings",60242),shield:u("shield",60243),smiley:u("smiley",60244),sortPrecedence:u("sort-precedence",60245),splitHorizontal:u("split-horizontal",60246),splitVertical:u("split-vertical",60247),squirrel:u("squirrel",60248),starFull:u("star-full",60249),starHalf:u("star-half",60250),symbolClass:u("symbol-class",60251),symbolColor:u("symbol-color",60252),symbolConstant:u("symbol-constant",60253),symbolEnumMember:u("symbol-enum-member",60254),symbolField:u("symbol-field",60255),symbolFile:u("symbol-file",60256),symbolInterface:u("symbol-interface",60257),symbolKeyword:u("symbol-keyword",60258),symbolMisc:u("symbol-misc",60259),symbolOperator:u("symbol-operator",60260),symbolProperty:u("symbol-property",60261),wrench:u("wrench",60261),wrenchSubaction:u("wrench-subaction",60261),symbolSnippet:u("symbol-snippet",60262),tasklist:u("tasklist",60263),telescope:u("telescope",60264),textSize:u("text-size",60265),threeBars:u("three-bars",60266),thumbsdown:u("thumbsdown",60267),thumbsup:u("thumbsup",60268),tools:u("tools",60269),triangleDown:u("triangle-down",60270),triangleLeft:u("triangle-left",60271),triangleRight:u("triangle-right",60272),triangleUp:u("triangle-up",60273),twitter:u("twitter",60274),unfold:u("unfold",60275),unlock:u("unlock",60276),unmute:u("unmute",60277),unverified:u("unverified",60278),verified:u("verified",60279),versions:u("versions",60280),vmActive:u("vm-active",60281),vmOutline:u("vm-outline",60282),vmRunning:u("vm-running",60283),watch:u("watch",60284),whitespace:u("whitespace",60285),wholeWord:u("whole-word",60286),window:u("window",60287),wordWrap:u("word-wrap",60288),zoomIn:u("zoom-in",60289),zoomOut:u("zoom-out",60290),listFilter:u("list-filter",60291),listFlat:u("list-flat",60292),listSelection:u("list-selection",60293),selection:u("selection",60293),listTree:u("list-tree",60294),debugBreakpointFunctionUnverified:u("debug-breakpoint-function-unverified",60295),debugBreakpointFunction:u("debug-breakpoint-function",60296),debugBreakpointFunctionDisabled:u("debug-breakpoint-function-disabled",60296),debugStackframeActive:u("debug-stackframe-active",60297),circleSmallFilled:u("circle-small-filled",60298),debugStackframeDot:u("debug-stackframe-dot",60298),terminalDecorationMark:u("terminal-decoration-mark",60298),debugStackframe:u("debug-stackframe",60299),debugStackframeFocused:u("debug-stackframe-focused",60299),debugBreakpointUnsupported:u("debug-breakpoint-unsupported",60300),symbolString:u("symbol-string",60301),debugReverseContinue:u("debug-reverse-continue",60302),debugStepBack:u("debug-step-back",60303),debugRestartFrame:u("debug-restart-frame",60304),debugAlt:u("debug-alt",60305),callIncoming:u("call-incoming",60306),callOutgoing:u("call-outgoing",60307),menu:u("menu",60308),expandAll:u("expand-all",60309),feedback:u("feedback",60310),gitPullRequestReviewer:u("git-pull-request-reviewer",60310),groupByRefType:u("group-by-ref-type",60311),ungroupByRefType:u("ungroup-by-ref-type",60312),account:u("account",60313),gitPullRequestAssignee:u("git-pull-request-assignee",60313),bellDot:u("bell-dot",60314),debugConsole:u("debug-console",60315),library:u("library",60316),output:u("output",60317),runAll:u("run-all",60318),syncIgnored:u("sync-ignored",60319),pinned:u("pinned",60320),githubInverted:u("github-inverted",60321),serverProcess:u("server-process",60322),serverEnvironment:u("server-environment",60323),pass:u("pass",60324),issueClosed:u("issue-closed",60324),stopCircle:u("stop-circle",60325),playCircle:u("play-circle",60326),record:u("record",60327),debugAltSmall:u("debug-alt-small",60328),vmConnect:u("vm-connect",60329),cloud:u("cloud",60330),merge:u("merge",60331),export:u("export",60332),graphLeft:u("graph-left",60333),magnet:u("magnet",60334),notebook:u("notebook",60335),redo:u("redo",60336),checkAll:u("check-all",60337),pinnedDirty:u("pinned-dirty",60338),passFilled:u("pass-filled",60339),circleLargeFilled:u("circle-large-filled",60340),circleLarge:u("circle-large",60341),circleLargeOutline:u("circle-large-outline",60341),combine:u("combine",60342),gather:u("gather",60342),table:u("table",60343),variableGroup:u("variable-group",60344),typeHierarchy:u("type-hierarchy",60345),typeHierarchySub:u("type-hierarchy-sub",60346),typeHierarchySuper:u("type-hierarchy-super",60347),gitPullRequestCreate:u("git-pull-request-create",60348),runAbove:u("run-above",60349),runBelow:u("run-below",60350),notebookTemplate:u("notebook-template",60351),debugRerun:u("debug-rerun",60352),workspaceTrusted:u("workspace-trusted",60353),workspaceUntrusted:u("workspace-untrusted",60354),workspaceUnknown:u("workspace-unknown",60355),terminalCmd:u("terminal-cmd",60356),terminalDebian:u("terminal-debian",60357),terminalLinux:u("terminal-linux",60358),terminalPowershell:u("terminal-powershell",60359),terminalTmux:u("terminal-tmux",60360),terminalUbuntu:u("terminal-ubuntu",60361),terminalBash:u("terminal-bash",60362),arrowSwap:u("arrow-swap",60363),copy:u("copy",60364),personAdd:u("person-add",60365),filterFilled:u("filter-filled",60366),wand:u("wand",60367),debugLineByLine:u("debug-line-by-line",60368),inspect:u("inspect",60369),layers:u("layers",60370),layersDot:u("layers-dot",60371),layersActive:u("layers-active",60372),compass:u("compass",60373),compassDot:u("compass-dot",60374),compassActive:u("compass-active",60375),azure:u("azure",60376),issueDraft:u("issue-draft",60377),gitPullRequestClosed:u("git-pull-request-closed",60378),gitPullRequestDraft:u("git-pull-request-draft",60379),debugAll:u("debug-all",60380),debugCoverage:u("debug-coverage",60381),runErrors:u("run-errors",60382),folderLibrary:u("folder-library",60383),debugContinueSmall:u("debug-continue-small",60384),beakerStop:u("beaker-stop",60385),graphLine:u("graph-line",60386),graphScatter:u("graph-scatter",60387),pieChart:u("pie-chart",60388),bracket:u("bracket",60175),bracketDot:u("bracket-dot",60389),bracketError:u("bracket-error",60390),lockSmall:u("lock-small",60391),azureDevops:u("azure-devops",60392),verifiedFilled:u("verified-filled",60393),newline:u("newline",60394),layout:u("layout",60395),layoutActivitybarLeft:u("layout-activitybar-left",60396),layoutActivitybarRight:u("layout-activitybar-right",60397),layoutPanelLeft:u("layout-panel-left",60398),layoutPanelCenter:u("layout-panel-center",60399),layoutPanelJustify:u("layout-panel-justify",60400),layoutPanelRight:u("layout-panel-right",60401),layoutPanel:u("layout-panel",60402),layoutSidebarLeft:u("layout-sidebar-left",60403),layoutSidebarRight:u("layout-sidebar-right",60404),layoutStatusbar:u("layout-statusbar",60405),layoutMenubar:u("layout-menubar",60406),layoutCentered:u("layout-centered",60407),target:u("target",60408),indent:u("indent",60409),recordSmall:u("record-small",60410),errorSmall:u("error-small",60411),terminalDecorationError:u("terminal-decoration-error",60411),arrowCircleDown:u("arrow-circle-down",60412),arrowCircleLeft:u("arrow-circle-left",60413),arrowCircleRight:u("arrow-circle-right",60414),arrowCircleUp:u("arrow-circle-up",60415),layoutSidebarRightOff:u("layout-sidebar-right-off",60416),layoutPanelOff:u("layout-panel-off",60417),layoutSidebarLeftOff:u("layout-sidebar-left-off",60418),blank:u("blank",60419),heartFilled:u("heart-filled",60420),map:u("map",60421),mapHorizontal:u("map-horizontal",60421),foldHorizontal:u("fold-horizontal",60421),mapFilled:u("map-filled",60422),mapHorizontalFilled:u("map-horizontal-filled",60422),foldHorizontalFilled:u("fold-horizontal-filled",60422),circleSmall:u("circle-small",60423),bellSlash:u("bell-slash",60424),bellSlashDot:u("bell-slash-dot",60425),commentUnresolved:u("comment-unresolved",60426),gitPullRequestGoToChanges:u("git-pull-request-go-to-changes",60427),gitPullRequestNewChanges:u("git-pull-request-new-changes",60428),searchFuzzy:u("search-fuzzy",60429),commentDraft:u("comment-draft",60430),send:u("send",60431),sparkle:u("sparkle",60432),insert:u("insert",60433),mic:u("mic",60434),thumbsdownFilled:u("thumbsdown-filled",60435),thumbsupFilled:u("thumbsup-filled",60436),coffee:u("coffee",60437),snake:u("snake",60438),game:u("game",60439),vr:u("vr",60440),chip:u("chip",60441),piano:u("piano",60442),music:u("music",60443),micFilled:u("mic-filled",60444),repoFetch:u("repo-fetch",60445),copilot:u("copilot",60446),lightbulbSparkle:u("lightbulb-sparkle",60447),robot:u("robot",60448),sparkleFilled:u("sparkle-filled",60449),diffSingle:u("diff-single",60450),diffMultiple:u("diff-multiple",60451),surroundWith:u("surround-with",60452),share:u("share",60453),gitStash:u("git-stash",60454),gitStashApply:u("git-stash-apply",60455),gitStashPop:u("git-stash-pop",60456),vscode:u("vscode",60457),vscodeInsiders:u("vscode-insiders",60458),codeOss:u("code-oss",60459),runCoverage:u("run-coverage",60460),runAllCoverage:u("run-all-coverage",60461),coverage:u("coverage",60462),githubProject:u("github-project",60463),mapVertical:u("map-vertical",60464),foldVertical:u("fold-vertical",60464),mapVerticalFilled:u("map-vertical-filled",60465),foldVerticalFilled:u("fold-vertical-filled",60465),goToSearch:u("go-to-search",60466),percentage:u("percentage",60467),sortPercentage:u("sort-percentage",60467),attach:u("attach",60468)};var x1={dialogError:u("dialog-error","error"),dialogWarning:u("dialog-warning","warning"),dialogInfo:u("dialog-info","info"),dialogClose:u("dialog-close","close"),treeItemExpanded:u("tree-item-expanded","chevron-down"),treeFilterOnTypeOn:u("tree-filter-on-type-on","list-filter"),treeFilterOnTypeOff:u("tree-filter-on-type-off","list-selection"),treeFilterClear:u("tree-filter-clear","close"),treeItemLoading:u("tree-item-loading","loading"),menuSelection:u("menu-selection","check"),menuSubmenu:u("menu-submenu","chevron-right"),menuBarMore:u("menubar-more","more"),scrollbarButtonLeft:u("scrollbar-button-left","triangle-left"),scrollbarButtonRight:u("scrollbar-button-right","triangle-right"),scrollbarButtonUp:u("scrollbar-button-up","triangle-up"),scrollbarButtonDown:u("scrollbar-button-down","triangle-down"),toolBarMore:u("toolbar-more","more"),quickInputBack:u("quick-input-back","arrow-left"),dropDownButton:u("drop-down-button",60084),symbolCustomColor:u("symbol-customcolor",60252),exportIcon:u("export",60332),workspaceUnspecified:u("workspace-unspecified",60355),newLine:u("newline",60394),thumbsDownFilled:u("thumbsdown-filled",60435),thumbsUpFilled:u("thumbsup-filled",60436),gitFetch:u("git-fetch",60445),lightbulbSparkleAutofix:u("lightbulb-sparkle-autofix",60447),debugBreakpointPending:u("debug-breakpoint-pending",60377)},ee={...Eg,...x1};var Sg;(e=>{function n(t){return t&&typeof t=="object"&&typeof t.id=="string"}e.isThemeColor=n})(Sg||={});var Te;(b=>{b.iconNameSegment="[A-Za-z0-9]+",b.iconNameExpression="[A-Za-z0-9-]+",b.iconModifierExpression="~[A-Za-z]+",b.iconNameCharacter="[A-Za-z0-9~-]";let o=new RegExp(`^(${b.iconNameExpression})(${b.iconModifierExpression})?$`);function r(x){let k=o.exec(x.id);if(!k)return r(ee.error);let[,_,P]=k,M=["codicon","codicon-"+_];return P&&M.push("codicon-modifier-"+P.substring(1)),M}b.asClassNameArray=r;function s(x){return r(x).join(" ")}b.asClassName=s;function a(x){return"."+r(x).join(".")}b.asCSSSelector=a;function l(x){return x&&typeof x=="object"&&typeof x.id=="string"&&(typeof x.color>"u"||Sg.isThemeColor(x.color))}b.isThemeIcon=l;let c=new RegExp(`^\\$\\((${b.iconNameExpression}(?:${b.iconModifierExpression})?)\\)$`);function p(x){let k=c.exec(x);if(!k)return;let[,_]=k;return{id:_}}b.fromString=p;function h(x){return{id:x}}b.fromId=h;function f(x,k){let _=x.id,P=_.lastIndexOf("~");return P!==-1&&(_=_.substring(0,P)),k&&(_=`${_}~${k}`),{id:_}}b.modify=f;function T(x){let k=x.id.lastIndexOf("~");if(k!==-1)return x.id.substring(k+1)}b.getModifier=T;function w(x,k){return x.id===k.id&&x.color?.id===k.color?.id}b.isEqual=w})(Te||={});var i2=Object.freeze({View:Bn("view","View"),Help:Bn("help","Help"),Test:Bn("test","Test"),File:Bn("file","File"),Preferences:Bn("preferences","Preferences"),Developer:Bn({key:"developer",comment:["A developer on Code itself or someone diagnosing issues in Code"]},"Developer")});function wg(n){let e=!1,t=new Map,i=new Map;if(E1(n,p=>{if(n===p)return!0;let h=JSON.stringify(p);if(h.length<30)return!0;let f=t.get(h);if(!f){let T={schemas:[p]};return t.set(h,T),i.set(p,T),!0}return f.schemas.push(p),i.set(p,f),e=!0,!1}),t.clear(),!e)return JSON.stringify(n);let r="$defs";for(;n.hasOwnProperty(r);)r+="_";let s=[];function a(p){return JSON.stringify(p,(h,f)=>{if(f!==p){let T=i.get(f);if(T&&T.schemas.length>1)return T.id||(T.id=`_${s.length}`,s.push(T.schemas[0])),{$ref:`#/${r}/${T.id}`}}return f})}let l=a(n),c=[];for(let p=0;p<s.length;p++)c.push(`"_${p}":${a(s[p])}`);return c.length?`${l.substring(0,l.length-1)},"${r}":{${c.join(",")}}}`:l}function fr(n){return typeof n=="object"&&n!==null}function E1(n,e){if(!n||typeof n!="object")return;let t=(...l)=>{for(let c of l)fr(c)&&s.push(c)},i=(...l)=>{for(let c of l)if(fr(c))for(let p in c){let h=c[p];fr(h)&&s.push(h)}},o=(...l)=>{for(let c of l)if(Array.isArray(c))for(let p of c)fr(p)&&s.push(p)},r=l=>{if(Array.isArray(l))for(let c of l)fr(c)&&s.push(c);else fr(l)&&s.push(l)},s=[n],a=s.pop();for(;a;)e(a)&&(t(a.additionalItems,a.additionalProperties,a.not,a.contains,a.propertyNames,a.if,a.then,a.else,a.unevaluatedItems,a.unevaluatedProperties),i(a.definitions,a.$defs,a.properties,a.patternProperties,a.dependencies,a.dependentSchemas),o(a.anyOf,a.allOf,a.oneOf,a.prefixItems),r(a.items)),a=s.pop()}var zu=ae("commandService"),Ws=new class{_commands=new Map;_onDidRegisterCommand=new L;onDidRegisterCommand=this._onDidRegisterCommand.event;registerCommand(n,e){if(!n)throw new Error("invalid command");if(typeof n=="string"){if(!e)throw new Error("invalid command");return this.registerCommand({id:n,handler:e})}if(n.metadata&&Array.isArray(n.metadata.args)){let s=[];for(let l of n.metadata.args)s.push(l.constraint);let a=n.handler;n.handler=function(l,...c){return Pf(c,s),a(l,...c)}}let{id:t}=n,i=this._commands.get(t);i||(i=new an,this._commands.set(t,i));let o=i.unshift(n),r=ce(()=>{o(),this._commands.get(t)?.isEmpty()&&this._commands.delete(t)});return this._onDidRegisterCommand.fire(t),r}registerCommandAlias(n,e){return Ws.registerCommand(n,(t,...i)=>t.get(zu).executeCommand(e,...i))}getCommand(n){let e=this._commands.get(n);if(!(!e||e.isEmpty()))return ye.first(e)}getCommands(){let n=new Map;for(let e of this._commands.keys()){let t=this.getCommand(e);t&&n.set(e,t)}return n}};Ws.registerCommand("noop",()=>{});var S1=ae("environmentService"),B2=S1;var Dg=["AI","Azure","Chat","Data Science","Debuggers","Extension Packs","Education","Formatters","Keymaps","Language Packs","Linters","Machine Learning","Notebooks","Programming Languages","SCM Providers","Snippets","Testing","Themes","Visualization","Other"];var Je=class{value;_lower;constructor(e){this.value=e,this._lower=e.toLowerCase()}static equals(e,t){if(typeof e>"u"||e===null)return typeof t>"u"||t===null;if(typeof t>"u"||t===null)return!1;if(typeof e=="string"||typeof t=="string"){let i=typeof e=="string"?e:e.value,o=typeof t=="string"?t:t.value;return In(i,o)}return e._lower===t._lower}static toKey(e){return typeof e=="string"?e.toLowerCase():e._lower}},zs=class{_set=new Set;get size(){return this._set.size}constructor(e){if(e)for(let t of e)this.add(t)}add(e){this._set.add(Je.toKey(e))}delete(e){return this._set.delete(Je.toKey(e))}has(e){return this._set.has(Je.toKey(e))}};var eL=ae("IBuiltinExtensionsScannerService");function Re(n,e,t){let i=null,o=null;if(typeof t.value=="function"?(i="value",o=t.value,o.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof t.get=="function"&&(i="get",o=t.get),!o)throw new Error("not supported");let r=`$memoize$${e}`;t[i]=function(...s){return this.hasOwnProperty(r)||Object.defineProperty(this,r,{configurable:!1,enumerable:!1,writable:!1,value:o.apply(this,s)}),this[r]}}var qe;(r=>(r.Tap="-monaco-gesturetap",r.Change="-monaco-gesturechange",r.Start="-monaco-gesturestart",r.End="-monaco-gesturesend",r.Contextmenu="-monaco-gesturecontextmenu"))(qe||={});var yt=class yt extends J{static SCROLL_FRICTION=-.005;static INSTANCE;static HOLD_DELAY=700;dispatched=!1;targets=new an;ignoreTargets=new an;handle;activeTouches;_lastSetTapCountTime;static CLEAR_TAP_COUNT_TIME=400;constructor(){super(),this.activeTouches={},this.handle=null,this._lastSetTapCountTime=0,this._register(N.runAndSubscribe(cg,({window:e,disposables:t})=>{t.add(Z(e.document,"touchstart",i=>this.onTouchStart(i),{passive:!1})),t.add(Z(e.document,"touchend",i=>this.onTouchEnd(e,i))),t.add(Z(e.document,"touchmove",i=>this.onTouchMove(i),{passive:!1}))},{window:tt,disposables:this._store}))}static addTarget(e){if(!yt.isTouchDevice())return J.None;yt.INSTANCE||(yt.INSTANCE=su(new yt));let t=yt.INSTANCE.targets.push(e);return ce(t)}static ignoreTarget(e){if(!yt.isTouchDevice())return J.None;yt.INSTANCE||(yt.INSTANCE=su(new yt));let t=yt.INSTANCE.ignoreTargets.push(e);return ce(t)}static isTouchDevice(){return"ontouchstart"in tt||navigator.maxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(e){let t=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let i=0,o=e.targetTouches.length;i<o;i++){let r=e.targetTouches.item(i);this.activeTouches[r.identifier]={id:r.identifier,initialTarget:r.target,initialTimeStamp:t,initialPageX:r.pageX,initialPageY:r.pageY,rollingTimestamps:[t],rollingPageX:[r.pageX],rollingPageY:[r.pageY]};let s=this.newGestureEvent(qe.Start,r.target);s.pageX=r.pageX,s.pageY=r.pageY,this.dispatchEvent(s)}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)}onTouchEnd(e,t){let i=Date.now(),o=Object.keys(this.activeTouches).length;for(let r=0,s=t.changedTouches.length;r<s;r++){let a=t.changedTouches.item(r);if(!this.activeTouches.hasOwnProperty(String(a.identifier))){console.warn("move of an UNKNOWN touch",a);continue}let l=this.activeTouches[a.identifier],c=Date.now()-l.initialTimeStamp;if(c<yt.HOLD_DELAY&&Math.abs(l.initialPageX-Ht(l.rollingPageX))<30&&Math.abs(l.initialPageY-Ht(l.rollingPageY))<30){let p=this.newGestureEvent(qe.Tap,l.initialTarget);p.pageX=Ht(l.rollingPageX),p.pageY=Ht(l.rollingPageY),this.dispatchEvent(p)}else if(c>=yt.HOLD_DELAY&&Math.abs(l.initialPageX-Ht(l.rollingPageX))<30&&Math.abs(l.initialPageY-Ht(l.rollingPageY))<30){let p=this.newGestureEvent(qe.Contextmenu,l.initialTarget);p.pageX=Ht(l.rollingPageX),p.pageY=Ht(l.rollingPageY),this.dispatchEvent(p)}else if(o===1){let p=Ht(l.rollingPageX),h=Ht(l.rollingPageY),f=Ht(l.rollingTimestamps)-l.rollingTimestamps[0],T=p-l.rollingPageX[0],w=h-l.rollingPageY[0],b=[...this.targets].filter(x=>l.initialTarget instanceof Node&&x.contains(l.initialTarget));this.inertia(e,b,i,Math.abs(T)/f,T>0?1:-1,p,Math.abs(w)/f,w>0?1:-1,h)}this.dispatchEvent(this.newGestureEvent(qe.End,l.initialTarget)),delete this.activeTouches[a.identifier]}this.dispatched&&(t.preventDefault(),t.stopPropagation(),this.dispatched=!1)}newGestureEvent(e,t){let i=document.createEvent("CustomEvent");return i.initEvent(e,!1,!0),i.initialTarget=t,i.tapCount=0,i}dispatchEvent(e){if(e.type===qe.Tap){let t=new Date().getTime(),i=0;t-this._lastSetTapCountTime>yt.CLEAR_TAP_COUNT_TIME?i=1:i=2,this._lastSetTapCountTime=t,e.tapCount=i}else(e.type===qe.Change||e.type===qe.Contextmenu)&&(this._lastSetTapCountTime=0);if(e.initialTarget instanceof Node){for(let i of this.ignoreTargets)if(i.contains(e.initialTarget))return;let t=[];for(let i of this.targets)if(i.contains(e.initialTarget)){let o=0,r=e.initialTarget;for(;r&&r!==i;)o++,r=r.parentElement;t.push([o,i])}t.sort((i,o)=>i[0]-o[0]);for(let[i,o]of t)o.dispatchEvent(e),this.dispatched=!0}}inertia(e,t,i,o,r,s,a,l,c){this.handle=zt(e,()=>{let p=Date.now(),h=p-i,f=0,T=0,w=!0;o+=yt.SCROLL_FRICTION*h,a+=yt.SCROLL_FRICTION*h,o>0&&(w=!1,f=r*o*h),a>0&&(w=!1,T=l*a*h);let b=this.newGestureEvent(qe.Change);b.translationX=f,b.translationY=T,t.forEach(x=>x.dispatchEvent(b)),w||this.inertia(e,t,p,o,r,s+f,a,l,c+T)})}onTouchMove(e){let t=Date.now();for(let i=0,o=e.changedTouches.length;i<o;i++){let r=e.changedTouches.item(i);if(!this.activeTouches.hasOwnProperty(String(r.identifier))){console.warn("end of an UNKNOWN touch",r);continue}let s=this.activeTouches[r.identifier],a=this.newGestureEvent(qe.Change,s.initialTarget);a.translationX=r.pageX-Ht(s.rollingPageX),a.translationY=r.pageY-Ht(s.rollingPageY),a.pageX=r.pageX,a.pageY=r.pageY,this.dispatchEvent(a),s.rollingPageX.length>3&&(s.rollingPageX.shift(),s.rollingPageY.shift(),s.rollingTimestamps.shift()),s.rollingPageX.push(r.pageX),s.rollingPageY.push(r.pageY),s.rollingTimestamps.push(t)}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)}};de([Re],yt,"isTouchDevice",1);var It=yt;var re=class{emitter;get event(){return this.emitter.event}constructor(e,t,i){let o=r=>this.emitter.fire(r);this.emitter=new L({onWillAddFirstListener:()=>e.addEventListener(t,o,i),onDidRemoveLastListener:()=>e.removeEventListener(t,o,i)})}dispose(){this.emitter.dispose()}};var D1=!1;var C1=4,_1=new L;var k1=300,L1=new L;var $s=class{constructor(e){this.el=e}disposables=new G;get onPointerMove(){return this.disposables.add(new re(be(this.el),"mousemove")).event}get onPointerUp(){return this.disposables.add(new re(be(this.el),"mouseup")).event}dispose(){this.disposables.dispose()}};de([Re],$s.prototype,"onPointerMove",1),de([Re],$s.prototype,"onPointerUp",1);var Gs=class{constructor(e){this.el=e}disposables=new G;get onPointerMove(){return this.disposables.add(new re(this.el,qe.Change)).event}get onPointerUp(){return this.disposables.add(new re(this.el,qe.End)).event}dispose(){this.disposables.dispose()}};de([Re],Gs.prototype,"onPointerMove",1),de([Re],Gs.prototype,"onPointerUp",1);var gr=class{constructor(e){this.factory=e}get onPointerMove(){return this.factory.onPointerMove}get onPointerUp(){return this.factory.onPointerUp}dispose(){}};de([Re],gr.prototype,"onPointerMove",1),de([Re],gr.prototype,"onPointerUp",1);var Cg="pointer-events-disabled",qs=class n extends J{el;layoutProvider;orientation;size;hoverDelay=k1;hoverDelayer=this._register(new Vn(this.hoverDelay));_state=3;onDidEnablementChange=this._register(new L);_onDidStart=this._register(new L);_onDidChange=this._register(new L);_onDidReset=this._register(new L);_onDidEnd=this._register(new L);orthogonalStartSashDisposables=this._register(new G);_orthogonalStartSash;orthogonalStartDragHandleDisposables=this._register(new G);_orthogonalStartDragHandle;orthogonalEndSashDisposables=this._register(new G);_orthogonalEndSash;orthogonalEndDragHandleDisposables=this._register(new G);_orthogonalEndDragHandle;get state(){return this._state}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}set state(e){this._state!==e&&(this.el.classList.toggle("disabled",e===0),this.el.classList.toggle("minimum",e===1),this.el.classList.toggle("maximum",e===2),this._state=e,this.onDidEnablementChange.fire(e))}onDidStart=this._onDidStart.event;onDidChange=this._onDidChange.event;onDidReset=this._onDidReset.event;onDidEnd=this._onDidEnd.event;linkedSash=void 0;set orthogonalStartSash(e){if(this._orthogonalStartSash!==e){if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),e){let t=i=>{this.orthogonalStartDragHandleDisposables.clear(),i!==0&&(this._orthogonalStartDragHandle=se(this.el,j(".orthogonal-drag-handle.start")),this.orthogonalStartDragHandleDisposables.add(ce(()=>this._orthogonalStartDragHandle.remove())),this.orthogonalStartDragHandleDisposables.add(new re(this._orthogonalStartDragHandle,"mouseenter")).event(()=>n.onMouseEnter(e),void 0,this.orthogonalStartDragHandleDisposables),this.orthogonalStartDragHandleDisposables.add(new re(this._orthogonalStartDragHandle,"mouseleave")).event(()=>n.onMouseLeave(e),void 0,this.orthogonalStartDragHandleDisposables))};this.orthogonalStartSashDisposables.add(e.onDidEnablementChange.event(t,this)),t(e.state)}this._orthogonalStartSash=e}}set orthogonalEndSash(e){if(this._orthogonalEndSash!==e){if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),e){let t=i=>{this.orthogonalEndDragHandleDisposables.clear(),i!==0&&(this._orthogonalEndDragHandle=se(this.el,j(".orthogonal-drag-handle.end")),this.orthogonalEndDragHandleDisposables.add(ce(()=>this._orthogonalEndDragHandle.remove())),this.orthogonalEndDragHandleDisposables.add(new re(this._orthogonalEndDragHandle,"mouseenter")).event(()=>n.onMouseEnter(e),void 0,this.orthogonalEndDragHandleDisposables),this.orthogonalEndDragHandleDisposables.add(new re(this._orthogonalEndDragHandle,"mouseleave")).event(()=>n.onMouseLeave(e),void 0,this.orthogonalEndDragHandleDisposables))};this.orthogonalEndSashDisposables.add(e.onDidEnablementChange.event(t,this)),t(e.state)}this._orthogonalEndSash=e}}constructor(e,t,i){super(),this.el=se(e,j(".monaco-sash")),i.orthogonalEdge&&this.el.classList.add(`orthogonal-edge-${i.orthogonalEdge}`),ke&&this.el.classList.add("mac");let o=this._register(new re(this.el,"mousedown")).event;this._register(o(h=>this.onPointerStart(h,new $s(e)),this));let r=this._register(new re(this.el,"dblclick")).event;this._register(r(this.onPointerDoublePress,this));let s=this._register(new re(this.el,"mouseenter")).event;this._register(s(()=>n.onMouseEnter(this)));let a=this._register(new re(this.el,"mouseleave")).event;this._register(a(()=>n.onMouseLeave(this))),this._register(It.addTarget(this.el));let l=this._register(new re(this.el,qe.Start)).event;this._register(l(h=>this.onPointerStart(h,new Gs(this.el)),this));let c=this._register(new re(this.el,qe.Tap)).event,p;this._register(c(h=>{if(p){clearTimeout(p),p=void 0,this.onPointerDoublePress(h);return}clearTimeout(p),p=setTimeout(()=>p=void 0,250)},this)),typeof i.size=="number"?(this.size=i.size,i.orientation===0?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=C1,this._register(_1.event(h=>{this.size=h,this.layout()}))),this._register(L1.event(h=>this.hoverDelay=h)),this.layoutProvider=t,this.orthogonalStartSash=i.orthogonalStartSash,this.orthogonalEndSash=i.orthogonalEndSash,this.orientation=i.orientation||0,this.orientation===1?(this.el.classList.add("horizontal"),this.el.classList.remove("vertical")):(this.el.classList.remove("horizontal"),this.el.classList.add("vertical")),this.el.classList.toggle("debug",D1),this.layout()}onPointerStart(e,t){Ge.stop(e);let i=!1;if(!e.__orthogonalSashEvent){let w=this.getOrthogonalSash(e);w&&(i=!0,e.__orthogonalSashEvent=!0,w.onPointerStart(e,new gr(t)))}if(this.linkedSash&&!e.__linkedSashEvent&&(e.__linkedSashEvent=!0,this.linkedSash.onPointerStart(e,new gr(t))),!this.state)return;let o=this.el.ownerDocument.getElementsByTagName("iframe");for(let w of o)w.classList.add(Cg);let r=e.pageX,s=e.pageY,a=e.altKey,l={startX:r,currentX:r,startY:s,currentY:s,altKey:a};this.el.classList.add("active"),this._onDidStart.fire(l);let c=cn(this.el),p=()=>{let w="";i?w="all-scroll":this.orientation===1?this.state===1?w="s-resize":this.state===2?w="n-resize":w=ke?"row-resize":"ns-resize":this.state===1?w="e-resize":this.state===2?w="w-resize":w=ke?"col-resize":"ew-resize",c.textContent=`* { cursor: ${w} !important; }`},h=new G;p(),i||this.onDidEnablementChange.event(p,null,h);let f=w=>{Ge.stop(w,!1);let b={startX:r,currentX:w.pageX,startY:s,currentY:w.pageY,altKey:a};this._onDidChange.fire(b)},T=w=>{Ge.stop(w,!1),c.remove(),this.el.classList.remove("active"),this._onDidEnd.fire(),h.dispose();for(let b of o)b.classList.remove(Cg)};t.onPointerMove(f,null,h),t.onPointerUp(T,null,h),h.add(t)}onPointerDoublePress(e){let t=this.getOrthogonalSash(e);t&&t._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}static onMouseEnter(e,t=!1){e.el.classList.contains("active")?(e.hoverDelayer.cancel(),e.el.classList.add("hover")):e.hoverDelayer.trigger(()=>e.el.classList.add("hover"),e.hoverDelay).then(void 0,()=>{}),!t&&e.linkedSash&&n.onMouseEnter(e.linkedSash,!0)}static onMouseLeave(e,t=!1){e.hoverDelayer.cancel(),e.el.classList.remove("hover"),!t&&e.linkedSash&&n.onMouseLeave(e.linkedSash,!0)}clearSashHoverState(){n.onMouseLeave(this)}layout(){if(this.orientation===0){let e=this.layoutProvider;this.el.style.left=e.getVerticalSashLeft(this)-this.size/2+"px",e.getVerticalSashTop&&(this.el.style.top=e.getVerticalSashTop(this)+"px"),e.getVerticalSashHeight&&(this.el.style.height=e.getVerticalSashHeight(this)+"px")}else{let e=this.layoutProvider;this.el.style.top=e.getHorizontalSashTop(this)-this.size/2+"px",e.getHorizontalSashLeft&&(this.el.style.left=e.getHorizontalSashLeft(this)+"px"),e.getHorizontalSashWidth&&(this.el.style.width=e.getHorizontalSashWidth(this)+"px")}}getOrthogonalSash(e){let t=e.initialTarget??e.target;if(!(!t||!_t(t))&&t.classList.contains("orthogonal-drag-handle"))return t.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash}dispose(){super.dispose(),this.el.remove()}};var $u=class{constructor(e){this.domNode=e}_maxWidth="";_width="";_height="";_top="";_left="";_bottom="";_right="";_paddingTop="";_paddingLeft="";_paddingBottom="";_paddingRight="";_fontFamily="";_fontWeight="";_fontSize="";_fontStyle="";_fontFeatureSettings="";_fontVariationSettings="";_textDecoration="";_lineHeight="";_letterSpacing="";_className="";_display="";_position="";_visibility="";_color="";_backgroundColor="";_layerHint=!1;_contain="none";_boxShadow="";setMaxWidth(e){let t=qt(e);this._maxWidth!==t&&(this._maxWidth=t,this.domNode.style.maxWidth=this._maxWidth)}setWidth(e){let t=qt(e);this._width!==t&&(this._width=t,this.domNode.style.width=this._width)}setHeight(e){let t=qt(e);this._height!==t&&(this._height=t,this.domNode.style.height=this._height)}setTop(e){let t=qt(e);this._top!==t&&(this._top=t,this.domNode.style.top=this._top)}setLeft(e){let t=qt(e);this._left!==t&&(this._left=t,this.domNode.style.left=this._left)}setBottom(e){let t=qt(e);this._bottom!==t&&(this._bottom=t,this.domNode.style.bottom=this._bottom)}setRight(e){let t=qt(e);this._right!==t&&(this._right=t,this.domNode.style.right=this._right)}setPaddingTop(e){let t=qt(e);this._paddingTop!==t&&(this._paddingTop=t,this.domNode.style.paddingTop=this._paddingTop)}setPaddingLeft(e){let t=qt(e);this._paddingLeft!==t&&(this._paddingLeft=t,this.domNode.style.paddingLeft=this._paddingLeft)}setPaddingBottom(e){let t=qt(e);this._paddingBottom!==t&&(this._paddingBottom=t,this.domNode.style.paddingBottom=this._paddingBottom)}setPaddingRight(e){let t=qt(e);this._paddingRight!==t&&(this._paddingRight=t,this.domNode.style.paddingRight=this._paddingRight)}setFontFamily(e){this._fontFamily!==e&&(this._fontFamily=e,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(e){let t=qt(e);this._fontSize!==t&&(this._fontSize=t,this.domNode.style.fontSize=this._fontSize)}setFontStyle(e){this._fontStyle!==e&&(this._fontStyle=e,this.domNode.style.fontStyle=this._fontStyle)}setFontFeatureSettings(e){this._fontFeatureSettings!==e&&(this._fontFeatureSettings=e,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setFontVariationSettings(e){this._fontVariationSettings!==e&&(this._fontVariationSettings=e,this.domNode.style.fontVariationSettings=this._fontVariationSettings)}setTextDecoration(e){this._textDecoration!==e&&(this._textDecoration=e,this.domNode.style.textDecoration=this._textDecoration)}setLineHeight(e){let t=qt(e);this._lineHeight!==t&&(this._lineHeight=t,this.domNode.style.lineHeight=this._lineHeight)}setLetterSpacing(e){let t=qt(e);this._letterSpacing!==t&&(this._letterSpacing=t,this.domNode.style.letterSpacing=this._letterSpacing)}setClassName(e){this._className!==e&&(this._className=e,this.domNode.className=this._className)}toggleClassName(e,t){this.domNode.classList.toggle(e,t),this._className=this.domNode.className}setDisplay(e){this._display!==e&&(this._display=e,this.domNode.style.display=this._display)}setPosition(e){this._position!==e&&(this._position=e,this.domNode.style.position=this._position)}setVisibility(e){this._visibility!==e&&(this._visibility=e,this.domNode.style.visibility=this._visibility)}setColor(e){this._color!==e&&(this._color=e,this.domNode.style.color=this._color)}setBackgroundColor(e){this._backgroundColor!==e&&(this._backgroundColor=e,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(e){this._layerHint!==e&&(this._layerHint=e,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(e){this._boxShadow!==e&&(this._boxShadow=e,this.domNode.style.boxShadow=e)}setContain(e){this._contain!==e&&(this._contain=e,this.domNode.style.contain=this._contain)}setAttribute(e,t){this.domNode.setAttribute(e,t)}removeAttribute(e){this.domNode.removeAttribute(e)}appendChild(e){this.domNode.appendChild(e.domNode)}removeChild(e){this.domNode.removeChild(e.domNode)}};function qt(n){return typeof n=="number"?`${n}px`:n}function Oo(n){return new $u(n)}var br=class{_hooks=new G;_pointerMoveCallback=null;_onStopCallback=null;dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(e,t){if(!this.isMonitoring())return;this._hooks.clear(),this._pointerMoveCallback=null;let i=this._onStopCallback;this._onStopCallback=null,e&&i&&i(t)}isMonitoring(){return!!this._pointerMoveCallback}startMonitoring(e,t,i,o,r){this.isMonitoring()&&this.stopMonitoring(!1),this._pointerMoveCallback=o,this._onStopCallback=r;let s=e;try{e.setPointerCapture(t),this._hooks.add(ce(()=>{try{e.releasePointerCapture(t)}catch{}}))}catch{s=be(e)}this._hooks.add(Z(s,me.POINTER_MOVE,a=>{if(a.buttons!==i){this.stopMonitoring(!0);return}a.preventDefault(),this._pointerMoveCallback(a)})),this._hooks.add(Z(s,me.POINTER_UP,a=>this.stopMonitoring(!0)))}};var Lt=class extends J{onclick(e,t){this._register(Z(e,me.CLICK,i=>t(new Wt(be(e),i))))}onmousedown(e,t){this._register(Z(e,me.MOUSE_DOWN,i=>t(new Wt(be(e),i))))}onmouseover(e,t){this._register(Z(e,me.MOUSE_OVER,i=>t(new Wt(be(e),i))))}onmouseleave(e,t){this._register(Z(e,me.MOUSE_LEAVE,i=>t(new Wt(be(e),i))))}onkeydown(e,t){this._register(Z(e,me.KEY_DOWN,i=>t(new Be(i))))}onkeyup(e,t){this._register(Z(e,me.KEY_UP,i=>t(new Be(i))))}oninput(e,t){this._register(Z(e,me.INPUT,t))}onblur(e,t){this._register(Z(e,me.BLUR,t))}onfocus(e,t){this._register(Z(e,me.FOCUS,t))}onchange(e,t){this._register(Z(e,me.CHANGE,t))}ignoreGesture(e){return It.ignoreTarget(e)}};var Xi=11,Bl=class extends Lt{_onActivate;bgDomNode;domNode;_pointerdownRepeatTimer;_pointerdownScheduleRepeatTimer;_pointerMoveMonitor;constructor(e){super(),this._onActivate=e.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=e.bgWidth+"px",this.bgDomNode.style.height=e.bgHeight+"px",typeof e.top<"u"&&(this.bgDomNode.style.top="0px"),typeof e.left<"u"&&(this.bgDomNode.style.left="0px"),typeof e.bottom<"u"&&(this.bgDomNode.style.bottom="0px"),typeof e.right<"u"&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=e.className,this.domNode.classList.add(...Te.asClassNameArray(e.icon)),this.domNode.style.position="absolute",this.domNode.style.width=Xi+"px",this.domNode.style.height=Xi+"px",typeof e.top<"u"&&(this.domNode.style.top=e.top+"px"),typeof e.left<"u"&&(this.domNode.style.left=e.left+"px"),typeof e.bottom<"u"&&(this.domNode.style.bottom=e.bottom+"px"),typeof e.right<"u"&&(this.domNode.style.right=e.right+"px"),this._pointerMoveMonitor=this._register(new br),this._register(Ti(this.bgDomNode,me.POINTER_DOWN,t=>this._arrowPointerDown(t))),this._register(Ti(this.domNode,me.POINTER_DOWN,t=>this._arrowPointerDown(t))),this._pointerdownRepeatTimer=this._register(new Dl),this._pointerdownScheduleRepeatTimer=this._register(new bi)}_arrowPointerDown(e){if(!e.target||!(e.target instanceof Element))return;let t=()=>{this._pointerdownRepeatTimer.cancelAndSet(()=>this._onActivate(),1e3/24,be(e))};this._onActivate(),this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancelAndSet(t,200),this._pointerMoveMonitor.startMonitoring(e.target,e.pointerId,e.buttons,i=>{},()=>{this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancel()}),e.preventDefault()}};var vr=class n{_scrollbarSize;_oppositeScrollbarSize;_arrowSize;_visibleSize;_scrollSize;_scrollPosition;_computedAvailableSize;_computedIsNeeded;_computedSliderSize;_computedSliderRatio;_computedSliderPosition;constructor(e,t,i,o,r,s){this._scrollbarSize=Math.round(t),this._oppositeScrollbarSize=Math.round(i),this._arrowSize=Math.round(e),this._visibleSize=o,this._scrollSize=r,this._scrollPosition=s,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new n(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(e){let t=Math.round(e);return this._visibleSize!==t?(this._visibleSize=t,this._refreshComputedValues(),!0):!1}setScrollSize(e){let t=Math.round(e);return this._scrollSize!==t?(this._scrollSize=t,this._refreshComputedValues(),!0):!1}setScrollPosition(e){let t=Math.round(e);return this._scrollPosition!==t?(this._scrollPosition=t,this._refreshComputedValues(),!0):!1}setScrollbarSize(e){this._scrollbarSize=Math.round(e)}setOppositeScrollbarSize(e){this._oppositeScrollbarSize=Math.round(e)}static _computeValues(e,t,i,o,r){let s=Math.max(0,i-e),a=Math.max(0,s-2*t),l=o>0&&o>i;if(!l)return{computedAvailableSize:Math.round(s),computedIsNeeded:l,computedSliderSize:Math.round(a),computedSliderRatio:0,computedSliderPosition:0};let c=Math.round(Math.max(20,Math.floor(i*a/o))),p=(a-c)/(o-i),h=r*p;return{computedAvailableSize:Math.round(s),computedIsNeeded:l,computedSliderSize:Math.round(c),computedSliderRatio:p,computedSliderPosition:Math.round(h)}}_refreshComputedValues(){let e=n._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=e.computedAvailableSize,this._computedIsNeeded=e.computedIsNeeded,this._computedSliderSize=e.computedSliderSize,this._computedSliderRatio=e.computedSliderRatio,this._computedSliderPosition=e.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(e){if(!this._computedIsNeeded)return 0;let t=e-this._arrowSize-this._computedSliderSize/2;return Math.round(t/this._computedSliderRatio)}getDesiredScrollPositionFromOffsetPaged(e){if(!this._computedIsNeeded)return 0;let t=e-this._arrowSize,i=this._scrollPosition;return t<this._computedSliderPosition?i-=this._visibleSize:i+=this._visibleSize,i}getDesiredScrollPositionFromDelta(e){if(!this._computedIsNeeded)return 0;let t=this._computedSliderPosition+e;return Math.round(t/this._computedSliderRatio)}};var qu=class n{constructor(e,t,i,o,r,s,a){this._forceIntegerValues=e;this._forceIntegerValues&&(t=t|0,i=i|0,o=o|0,r=r|0,s=s|0,a=a|0),this.rawScrollLeft=o,this.rawScrollTop=a,t<0&&(t=0),o+t>i&&(o=i-t),o<0&&(o=0),r<0&&(r=0),a+r>s&&(a=s-r),a<0&&(a=0),this.width=t,this.scrollWidth=i,this.scrollLeft=o,this.height=r,this.scrollHeight=s,this.scrollTop=a}_scrollStateBrand=void 0;rawScrollLeft;rawScrollTop;width;scrollWidth;scrollLeft;height;scrollHeight;scrollTop;equals(e){return this.rawScrollLeft===e.rawScrollLeft&&this.rawScrollTop===e.rawScrollTop&&this.width===e.width&&this.scrollWidth===e.scrollWidth&&this.scrollLeft===e.scrollLeft&&this.height===e.height&&this.scrollHeight===e.scrollHeight&&this.scrollTop===e.scrollTop}withScrollDimensions(e,t){return new n(this._forceIntegerValues,typeof e.width<"u"?e.width:this.width,typeof e.scrollWidth<"u"?e.scrollWidth:this.scrollWidth,t?this.rawScrollLeft:this.scrollLeft,typeof e.height<"u"?e.height:this.height,typeof e.scrollHeight<"u"?e.scrollHeight:this.scrollHeight,t?this.rawScrollTop:this.scrollTop)}withScrollPosition(e){return new n(this._forceIntegerValues,this.width,this.scrollWidth,typeof e.scrollLeft<"u"?e.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,typeof e.scrollTop<"u"?e.scrollTop:this.rawScrollTop)}createScrollEvent(e,t){let i=this.width!==e.width,o=this.scrollWidth!==e.scrollWidth,r=this.scrollLeft!==e.scrollLeft,s=this.height!==e.height,a=this.scrollHeight!==e.scrollHeight,l=this.scrollTop!==e.scrollTop;return{inSmoothScrolling:t,oldWidth:e.width,oldScrollWidth:e.scrollWidth,oldScrollLeft:e.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:e.height,oldScrollHeight:e.scrollHeight,oldScrollTop:e.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:i,scrollWidthChanged:o,scrollLeftChanged:r,heightChanged:s,scrollHeightChanged:a,scrollTopChanged:l}}},Ii=class extends J{_scrollableBrand=void 0;_smoothScrollDuration;_scheduleAtNextAnimationFrame;_state;_smoothScrolling;_onScroll=this._register(new L);onScroll=this._onScroll.event;constructor(e){super(),this._smoothScrollDuration=e.smoothScrollDuration,this._scheduleAtNextAnimationFrame=e.scheduleAtNextAnimationFrame,this._state=new qu(e.forceIntegerValues,0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(e){this._smoothScrollDuration=e}validateScrollPosition(e){return this._state.withScrollPosition(e)}getScrollDimensions(){return this._state}setScrollDimensions(e,t){let i=this._state.withScrollDimensions(e,t);this._setState(i,!!this._smoothScrolling),this._smoothScrolling?.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(e){let t=this._state.withScrollPosition(e);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(t,!1)}setScrollPositionSmooth(e,t){if(this._smoothScrollDuration===0)return this.setScrollPositionNow(e);if(this._smoothScrolling){e={scrollLeft:typeof e.scrollLeft>"u"?this._smoothScrolling.to.scrollLeft:e.scrollLeft,scrollTop:typeof e.scrollTop>"u"?this._smoothScrolling.to.scrollTop:e.scrollTop};let i=this._state.withScrollPosition(e);if(this._smoothScrolling.to.scrollLeft===i.scrollLeft&&this._smoothScrolling.to.scrollTop===i.scrollTop)return;let o;t?o=new Ul(this._smoothScrolling.from,i,this._smoothScrolling.startTime,this._smoothScrolling.duration):o=this._smoothScrolling.combine(this._state,i,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=o}else{let i=this._state.withScrollPosition(e);this._smoothScrolling=Ul.start(this._state,i,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}hasPendingScrollAnimation(){return!!this._smoothScrolling}_performSmoothScrolling(){if(!this._smoothScrolling)return;let e=this._smoothScrolling.tick(),t=this._state.withScrollPosition(e);if(this._setState(t,!0),!!this._smoothScrolling){if(e.isDone){this._smoothScrolling.dispose(),this._smoothScrolling=null;return}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}}_setState(e,t){let i=this._state;i.equals(e)||(this._state=e,this._onScroll.fire(this._state.createScrollEvent(i,t)))}},Hl=class{scrollLeft;scrollTop;isDone;constructor(e,t,i){this.scrollLeft=e,this.scrollTop=t,this.isDone=i}};function Gu(n,e){let t=e-n;return function(i){return n+t*N1(i)}}function A1(n,e,t){return function(i){return i<t?n(i/t):e((i-t)/(1-t))}}var Ul=class n{from;to;duration;startTime;animationFrameDisposable;scrollLeft;scrollTop;constructor(e,t,i,o){this.from=e,this.to=t,this.duration=o,this.startTime=i,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(e,t,i){if(Math.abs(e-t)>2.5*i){let r,s;return e<t?(r=e+.75*i,s=t-.75*i):(r=e-.75*i,s=t+.75*i),A1(Gu(e,r),Gu(s,t),.33)}return Gu(e,t)}dispose(){this.animationFrameDisposable!==null&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(e){this.to=e.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(e){let t=(e-this.startTime)/this.duration;if(t<1){let i=this.scrollLeft(t),o=this.scrollTop(t);return new Hl(i,o,!1)}return new Hl(this.to.scrollLeft,this.to.scrollTop,!0)}combine(e,t,i){return n.start(e,t,i)}static start(e,t,i){i=i+10;let o=Date.now()-10;return new n(e,t,o,i)}};function R1(n){return Math.pow(n,3)}function N1(n){return 1-R1(1-n)}var Kl=class extends J{_visibility;_visibleClassName;_invisibleClassName;_domNode;_rawShouldBeVisible;_shouldBeVisible;_isNeeded;_isVisible;_revealTimer;constructor(e,t,i){super(),this._visibility=e,this._visibleClassName=t,this._invisibleClassName=i,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new bi)}setVisibility(e){this._visibility!==e&&(this._visibility=e,this._updateShouldBeVisible())}setShouldBeVisible(e){this._rawShouldBeVisible=e,this._updateShouldBeVisible()}_applyVisibilitySetting(){return this._visibility===2?!1:this._visibility===3?!0:this._rawShouldBeVisible}_updateShouldBeVisible(){let e=this._applyVisibilitySetting();this._shouldBeVisible!==e&&(this._shouldBeVisible=e,this.ensureVisibility())}setIsNeeded(e){this._isNeeded!==e&&(this._isNeeded=e,this.ensureVisibility())}setDomNode(e){this._domNode=e,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){if(!this._isNeeded){this._hide(!1);return}this._shouldBeVisible?this._reveal():this._hide(!0)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{this._domNode?.setClassName(this._visibleClassName)},0))}_hide(e){this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,this._domNode?.setClassName(this._invisibleClassName+(e?" fade":"")))}};var O1=140,yr=class extends Lt{_host;_scrollable;_scrollByPage;_lazyRender;_scrollbarState;_visibilityController;_pointerMoveMonitor;domNode;slider;_shouldRender;constructor(e){super(),this._lazyRender=e.lazyRender,this._host=e.host,this._scrollable=e.scrollable,this._scrollByPage=e.scrollByPage,this._scrollbarState=e.scrollbarState,this._visibilityController=this._register(new Kl(e.visibility,"visible scrollbar "+e.extraScrollbarClassName,"invisible scrollbar "+e.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._pointerMoveMonitor=this._register(new br),this._shouldRender=!0,this.domNode=Oo(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this._register(Z(this.domNode.domNode,me.POINTER_DOWN,t=>this._domNodePointerDown(t)))}_createArrow(e){let t=this._register(new Bl(e));this.domNode.domNode.appendChild(t.bgDomNode),this.domNode.domNode.appendChild(t.domNode)}_createSlider(e,t,i,o){this.slider=Oo(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(e),this.slider.setLeft(t),typeof i=="number"&&this.slider.setWidth(i),typeof o=="number"&&this.slider.setHeight(o),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this._register(Z(this.slider.domNode,me.POINTER_DOWN,r=>{r.button===0&&(r.preventDefault(),this._sliderPointerDown(r))})),this.onclick(this.slider.domNode,r=>{r.leftButton&&r.stopPropagation()})}_onElementSize(e){return this._scrollbarState.setVisibleSize(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(e){return this._scrollbarState.setScrollSize(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(e){return this._scrollbarState.setScrollPosition(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){this._shouldRender&&(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodePointerDown(e){e.target===this.domNode.domNode&&this._onPointerDown(e)}delegatePointerDown(e){let t=this.domNode.domNode.getClientRects()[0].top,i=t+this._scrollbarState.getSliderPosition(),o=t+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),r=this._sliderPointerPosition(e);i<=r&&r<=o?e.button===0&&(e.preventDefault(),this._sliderPointerDown(e)):this._onPointerDown(e)}_onPointerDown(e){let t,i;if(e.target===this.domNode.domNode&&typeof e.offsetX=="number"&&typeof e.offsetY=="number")t=e.offsetX,i=e.offsetY;else{let r=_l(this.domNode.domNode);t=e.pageX-r.left,i=e.pageY-r.top}let o=this._pointerDownRelativePosition(t,i);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(o):this._scrollbarState.getDesiredScrollPositionFromOffset(o)),e.button===0&&(e.preventDefault(),this._sliderPointerDown(e))}_sliderPointerDown(e){if(!e.target||!(e.target instanceof Element))return;let t=this._sliderPointerPosition(e),i=this._sliderOrthogonalPointerPosition(e),o=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._pointerMoveMonitor.startMonitoring(e.target,e.pointerId,e.buttons,r=>{let s=this._sliderOrthogonalPointerPosition(r),a=Math.abs(s-i);if(ot&&a>O1){this._setDesiredScrollPositionNow(o.getScrollPosition());return}let c=this._sliderPointerPosition(r)-t;this._setDesiredScrollPositionNow(o.getDesiredScrollPositionFromDelta(c))},()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd()}),this._host.onDragStart()}_setDesiredScrollPositionNow(e){let t={};this.writeScrollPosition(t,e),this._scrollable.setScrollPositionNow(t)}updateScrollbarSize(e){this._updateScrollbarSize(e),this._scrollbarState.setScrollbarSize(e),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}};var Vl=class extends yr{constructor(e,t,i){let o=e.getScrollDimensions(),r=e.getCurrentScrollPosition();if(super({lazyRender:t.lazyRender,host:i,scrollbarState:new vr(t.horizontalHasArrows?t.arrowSize:0,t.horizontal===2?0:t.horizontalScrollbarSize,t.vertical===2?0:t.verticalScrollbarSize,o.width,o.scrollWidth,r.scrollLeft),visibility:t.horizontal,extraScrollbarClassName:"horizontal",scrollable:e,scrollByPage:t.scrollByPage}),t.horizontalHasArrows){let s=(t.arrowSize-Xi)/2,a=(t.horizontalScrollbarSize-Xi)/2;this._createArrow({className:"scra",icon:ee.scrollbarButtonLeft,top:a,left:s,bottom:void 0,right:void 0,bgWidth:t.arrowSize,bgHeight:t.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new Tn(null,1,0))}),this._createArrow({className:"scra",icon:ee.scrollbarButtonRight,top:a,left:void 0,bottom:void 0,right:s,bgWidth:t.arrowSize,bgHeight:t.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new Tn(null,-1,0))})}this._createSlider(Math.floor((t.horizontalScrollbarSize-t.horizontalSliderSize)/2),0,void 0,t.horizontalSliderSize)}_updateSlider(e,t){this.slider.setWidth(e),this.slider.setLeft(t)}_renderDomNode(e,t){this.domNode.setWidth(e),this.domNode.setHeight(t),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(e){return this._shouldRender=this._onElementScrollSize(e.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(e.width)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(e,t){return e}_sliderPointerPosition(e){return e.pageX}_sliderOrthogonalPointerPosition(e){return e.pageY}_updateScrollbarSize(e){this.slider.setHeight(e)}writeScrollPosition(e,t){e.scrollLeft=t}updateOptions(e){this.updateScrollbarSize(e.horizontal===2?0:e.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(e.vertical===2?0:e.verticalScrollbarSize),this._visibilityController.setVisibility(e.horizontal),this._scrollByPage=e.scrollByPage}};var Wl=class extends yr{constructor(e,t,i){let o=e.getScrollDimensions(),r=e.getCurrentScrollPosition();if(super({lazyRender:t.lazyRender,host:i,scrollbarState:new vr(t.verticalHasArrows?t.arrowSize:0,t.vertical===2?0:t.verticalScrollbarSize,0,o.height,o.scrollHeight,r.scrollTop),visibility:t.vertical,extraScrollbarClassName:"vertical",scrollable:e,scrollByPage:t.scrollByPage}),t.verticalHasArrows){let s=(t.arrowSize-Xi)/2,a=(t.verticalScrollbarSize-Xi)/2;this._createArrow({className:"scra",icon:ee.scrollbarButtonUp,top:s,left:a,bottom:void 0,right:void 0,bgWidth:t.verticalScrollbarSize,bgHeight:t.arrowSize,onActivate:()=>this._host.onMouseWheel(new Tn(null,0,1))}),this._createArrow({className:"scra",icon:ee.scrollbarButtonDown,top:void 0,left:a,bottom:s,right:void 0,bgWidth:t.verticalScrollbarSize,bgHeight:t.arrowSize,onActivate:()=>this._host.onMouseWheel(new Tn(null,0,-1))})}this._createSlider(0,Math.floor((t.verticalScrollbarSize-t.verticalSliderSize)/2),t.verticalSliderSize,void 0)}_updateSlider(e,t){this.slider.setHeight(e),this.slider.setTop(t)}_renderDomNode(e,t){this.domNode.setWidth(t),this.domNode.setHeight(e),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(e){return this._shouldRender=this._onElementScrollSize(e.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(e.height)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(e,t){return t}_sliderPointerPosition(e){return e.pageY}_sliderOrthogonalPointerPosition(e){return e.pageX}_updateScrollbarSize(e){this.slider.setWidth(e)}writeScrollPosition(e,t){e.scrollTop=t}updateOptions(e){this.updateScrollbarSize(e.vertical===2?0:e.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(e.vertical),this._scrollByPage=e.scrollByPage}};var F1=500,_g=50,kg=!0,ju=class{timestamp;deltaX;deltaY;score;constructor(e,t,i){this.timestamp=e,this.deltaX=t,this.deltaY=i,this.score=0}},Yu=class n{static INSTANCE=new n;_capacity;_memory;_front;_rear;constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(this._front===-1&&this._rear===-1)return!1;let e=1,t=0,i=1,o=this._rear;do{let r=o===this._front?e:Math.pow(2,-i);if(e-=r,t+=this._memory[o].score*r,o===this._front)break;o=(this._capacity+o-1)%this._capacity,i++}while(!0);return t<=.5}acceptStandardWheelEvent(e){if(ys){let t=be(e.browserEvent),i=xf(t);this.accept(Date.now(),e.deltaX*i,e.deltaY*i)}else this.accept(Date.now(),e.deltaX,e.deltaY)}accept(e,t,i){let o=null,r=new ju(e,t,i);this._front===-1&&this._rear===-1?(this._memory[0]=r,this._front=0,this._rear=0):(o=this._memory[this._rear],this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=r),r.score=this._computeScore(r,o)}_computeScore(e,t){if(Math.abs(e.deltaX)>0&&Math.abs(e.deltaY)>0)return 1;let i=.5;if((!this._isAlmostInt(e.deltaX)||!this._isAlmostInt(e.deltaY))&&(i+=.25),t){let o=Math.abs(e.deltaX),r=Math.abs(e.deltaY),s=Math.abs(t.deltaX),a=Math.abs(t.deltaY),l=Math.max(Math.min(o,s),1),c=Math.max(Math.min(r,a),1),p=Math.max(o,s),h=Math.max(r,a);p%l===0&&h%c===0&&(i-=.5)}return Math.min(Math.max(i,0),1)}_isAlmostInt(e){return Math.abs(Math.round(e)-e)<.01}},js=class extends Lt{_options;_scrollable;_verticalScrollbar;_horizontalScrollbar;_domNode;_leftShadowDomNode;_topShadowDomNode;_topLeftShadowDomNode;_listenOnDomNode;_mouseWheelToDispose;_isDragging;_mouseIsOver;_hideTimeout;_shouldRender;_revealOnScroll;_onScroll=this._register(new L);onScroll=this._onScroll.event;_onWillScroll=this._register(new L);onWillScroll=this._onWillScroll.event;get options(){return this._options}constructor(e,t,i){super(),e.style.overflow="hidden",this._options=M1(t),this._scrollable=i,this._register(this._scrollable.onScroll(r=>{this._onWillScroll.fire(r),this._onDidScroll(r),this._onScroll.fire(r)}));let o={onMouseWheel:r=>this._onMouseWheel(r),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new Wl(this._scrollable,this._options,o)),this._horizontalScrollbar=this._register(new Vl(this._scrollable,this._options,o)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(e),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=Oo(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=Oo(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=Oo(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,r=>this._onMouseOver(r)),this.onmouseleave(this._listenOnDomNode,r=>this._onMouseLeave(r)),this._hideTimeout=this._register(new bi),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}dispose(){this._mouseWheelToDispose=$e(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarPointerDown(e){this._verticalScrollbar.delegatePointerDown(e)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(e){this._scrollable.setScrollDimensions(e,!1)}updateClassName(e){this._options.className=e,ke&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(e){typeof e.handleMouseWheel<"u"&&(this._options.handleMouseWheel=e.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),typeof e.mouseWheelScrollSensitivity<"u"&&(this._options.mouseWheelScrollSensitivity=e.mouseWheelScrollSensitivity),typeof e.fastScrollSensitivity<"u"&&(this._options.fastScrollSensitivity=e.fastScrollSensitivity),typeof e.scrollPredominantAxis<"u"&&(this._options.scrollPredominantAxis=e.scrollPredominantAxis),typeof e.horizontal<"u"&&(this._options.horizontal=e.horizontal),typeof e.vertical<"u"&&(this._options.vertical=e.vertical),typeof e.horizontalScrollbarSize<"u"&&(this._options.horizontalScrollbarSize=e.horizontalScrollbarSize),typeof e.verticalScrollbarSize<"u"&&(this._options.verticalScrollbarSize=e.verticalScrollbarSize),typeof e.scrollByPage<"u"&&(this._options.scrollByPage=e.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}setRevealOnScroll(e){this._revealOnScroll=e}delegateScrollFromMouseWheelEvent(e){this._onMouseWheel(new Tn(e))}_setListeningToMouseWheel(e){if(this._mouseWheelToDispose.length>0!==e&&(this._mouseWheelToDispose=$e(this._mouseWheelToDispose),e)){let i=o=>{this._onMouseWheel(new Tn(o))};this._mouseWheelToDispose.push(Z(this._listenOnDomNode,me.MOUSE_WHEEL,i,{passive:!1}))}}_onMouseWheel(e){if(e.browserEvent?.defaultPrevented)return;let t=Yu.INSTANCE;kg&&t.acceptStandardWheelEvent(e);let i=!1;if(e.deltaY||e.deltaX){let r=e.deltaY*this._options.mouseWheelScrollSensitivity,s=e.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(this._options.scrollYToX&&s+r===0?s=r=0:Math.abs(r)>=Math.abs(s)?s=0:r=0),this._options.flipAxes&&([r,s]=[s,r]);let a=!ke&&e.browserEvent&&e.browserEvent.shiftKey;(this._options.scrollYToX||a)&&!s&&(s=r,r=0),e.browserEvent&&e.browserEvent.altKey&&(s=s*this._options.fastScrollSensitivity,r=r*this._options.fastScrollSensitivity);let l=this._scrollable.getFutureScrollPosition(),c={};if(r){let p=_g*r,h=l.scrollTop-(p<0?Math.floor(p):Math.ceil(p));this._verticalScrollbar.writeScrollPosition(c,h)}if(s){let p=_g*s,h=l.scrollLeft-(p<0?Math.floor(p):Math.ceil(p));this._horizontalScrollbar.writeScrollPosition(c,h)}c=this._scrollable.validateScrollPosition(c),(l.scrollLeft!==c.scrollLeft||l.scrollTop!==c.scrollTop)&&(kg&&this._options.mouseWheelSmoothScroll&&t.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(c):this._scrollable.setScrollPositionNow(c),i=!0)}let o=i;!o&&this._options.alwaysConsumeMouseWheel&&(o=!0),!o&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(o=!0),o&&(e.preventDefault(),e.stopPropagation())}_onDidScroll(e){this._shouldRender=this._horizontalScrollbar.onDidScroll(e)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(e)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){let e=this._scrollable.getCurrentScrollPosition(),t=e.scrollTop>0,i=e.scrollLeft>0,o=i?" left":"",r=t?" top":"",s=i||t?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${o}`),this._topShadowDomNode.setClassName(`shadow${r}`),this._topLeftShadowDomNode.setClassName(`shadow${s}${r}${o}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseLeave(e){this._mouseIsOver=!1,this._hide()}_onMouseOver(e){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){!this._mouseIsOver&&!this._isDragging&&(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){!this._mouseIsOver&&!this._isDragging&&this._hideTimeout.cancelAndSet(()=>this._hide(),F1)}},zl=class extends js{constructor(e,t){t=t||{},t.mouseWheelSmoothScroll=!1;let i=new Ii({forceIntegerValues:!0,smoothScrollDuration:0,scheduleAtNextAnimationFrame:o=>zt(be(e),o)});super(e,t,i),this._register(i)}setScrollPosition(e){this._scrollable.setScrollPositionNow(e)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}},Tr=class extends js{constructor(e,t,i){super(e,t,i)}setScrollPosition(e){e.reuseAnimation?this._scrollable.setScrollPositionSmooth(e,e.reuseAnimation):this._scrollable.setScrollPositionNow(e)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}},Fo=class extends js{_element;constructor(e,t){t=t||{},t.mouseWheelSmoothScroll=!1;let i=new Ii({forceIntegerValues:!1,smoothScrollDuration:0,scheduleAtNextAnimationFrame:o=>zt(be(e),o)});super(e,t,i),this._register(i),this._element=e,this._register(this.onScroll(o=>{o.scrollTopChanged&&(this._element.scrollTop=o.scrollTop),o.scrollLeftChanged&&(this._element.scrollLeft=o.scrollLeft)})),this.scanDomNode()}setScrollPosition(e){this._scrollable.setScrollPositionNow(e)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}scanDomNode(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}};function M1(n){let e={lazyRender:typeof n.lazyRender<"u"?n.lazyRender:!1,className:typeof n.className<"u"?n.className:"",useShadows:typeof n.useShadows<"u"?n.useShadows:!0,handleMouseWheel:typeof n.handleMouseWheel<"u"?n.handleMouseWheel:!0,flipAxes:typeof n.flipAxes<"u"?n.flipAxes:!1,consumeMouseWheelIfScrollbarIsNeeded:typeof n.consumeMouseWheelIfScrollbarIsNeeded<"u"?n.consumeMouseWheelIfScrollbarIsNeeded:!1,alwaysConsumeMouseWheel:typeof n.alwaysConsumeMouseWheel<"u"?n.alwaysConsumeMouseWheel:!1,scrollYToX:typeof n.scrollYToX<"u"?n.scrollYToX:!1,mouseWheelScrollSensitivity:typeof n.mouseWheelScrollSensitivity<"u"?n.mouseWheelScrollSensitivity:1,fastScrollSensitivity:typeof n.fastScrollSensitivity<"u"?n.fastScrollSensitivity:5,scrollPredominantAxis:typeof n.scrollPredominantAxis<"u"?n.scrollPredominantAxis:!0,mouseWheelSmoothScroll:typeof n.mouseWheelSmoothScroll<"u"?n.mouseWheelSmoothScroll:!0,arrowSize:typeof n.arrowSize<"u"?n.arrowSize:11,listenOnDomNode:typeof n.listenOnDomNode<"u"?n.listenOnDomNode:null,horizontal:typeof n.horizontal<"u"?n.horizontal:1,horizontalScrollbarSize:typeof n.horizontalScrollbarSize<"u"?n.horizontalScrollbarSize:10,horizontalSliderSize:typeof n.horizontalSliderSize<"u"?n.horizontalSliderSize:0,horizontalHasArrows:typeof n.horizontalHasArrows<"u"?n.horizontalHasArrows:!1,vertical:typeof n.vertical<"u"?n.vertical:1,verticalScrollbarSize:typeof n.verticalScrollbarSize<"u"?n.verticalScrollbarSize:10,verticalHasArrows:typeof n.verticalHasArrows<"u"?n.verticalHasArrows:!1,verticalSliderSize:typeof n.verticalSliderSize<"u"?n.verticalSliderSize:0,scrollByPage:typeof n.scrollByPage<"u"?n.scrollByPage:!1};return e.horizontalSliderSize=typeof n.horizontalSliderSize<"u"?n.horizontalSliderSize:e.horizontalScrollbarSize,e.verticalSliderSize=typeof n.verticalSliderSize<"u"?n.verticalSliderSize:e.verticalScrollbarSize,ke&&(e.className+=" mac"),e}function Zi(n,e){let t=Math.pow(10,e);return Math.round(n*t)/t}var Ie=class{_rgbaBrand=void 0;r;g;b;a;constructor(e,t,i,o=1){this.r=Math.min(255,Math.max(0,e))|0,this.g=Math.min(255,Math.max(0,t))|0,this.b=Math.min(255,Math.max(0,i))|0,this.a=Zi(Math.max(Math.min(1,o),0),3)}static equals(e,t){return e.r===t.r&&e.g===t.g&&e.b===t.b&&e.a===t.a}},Ji=class n{_hslaBrand=void 0;h;s;l;a;constructor(e,t,i,o){this.h=Math.max(Math.min(360,e),0)|0,this.s=Zi(Math.max(Math.min(1,t),0),3),this.l=Zi(Math.max(Math.min(1,i),0),3),this.a=Zi(Math.max(Math.min(1,o),0),3)}static equals(e,t){return e.h===t.h&&e.s===t.s&&e.l===t.l&&e.a===t.a}static fromRGBA(e){let t=e.r/255,i=e.g/255,o=e.b/255,r=e.a,s=Math.max(t,i,o),a=Math.min(t,i,o),l=0,c=0,p=(a+s)/2,h=s-a;if(h>0){switch(c=Math.min(p<=.5?h/(2*p):h/(2-2*p),1),s){case t:l=(i-o)/h+(i<o?6:0);break;case i:l=(o-t)/h+2;break;case o:l=(t-i)/h+4;break}l*=60,l=Math.round(l)}return new n(l,c,p,r)}static _hue2rgb(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+(t-e)*6*i:i<1/2?t:i<2/3?e+(t-e)*(2/3-i)*6:e}static toRGBA(e){let t=e.h/360,{s:i,l:o,a:r}=e,s,a,l;if(i===0)s=a=l=o;else{let c=o<.5?o*(1+i):o+i-o*i,p=2*o-c;s=n._hue2rgb(p,c,t+1/3),a=n._hue2rgb(p,c,t),l=n._hue2rgb(p,c,t-1/3)}return new Ie(Math.round(s*255),Math.round(a*255),Math.round(l*255),r)}},Ir=class n{_hsvaBrand=void 0;h;s;v;a;constructor(e,t,i,o){this.h=Math.max(Math.min(360,e),0)|0,this.s=Zi(Math.max(Math.min(1,t),0),3),this.v=Zi(Math.max(Math.min(1,i),0),3),this.a=Zi(Math.max(Math.min(1,o),0),3)}static equals(e,t){return e.h===t.h&&e.s===t.s&&e.v===t.v&&e.a===t.a}static fromRGBA(e){let t=e.r/255,i=e.g/255,o=e.b/255,r=Math.max(t,i,o),s=Math.min(t,i,o),a=r-s,l=r===0?0:a/r,c;return a===0?c=0:r===t?c=((i-o)/a%6+6)%6:r===i?c=(o-t)/a+2:c=(t-i)/a+4,new n(Math.round(c*60),l,r,e.a)}static toRGBA(e){let{h:t,s:i,v:o,a:r}=e,s=o*i,a=s*(1-Math.abs(t/60%2-1)),l=o-s,[c,p,h]=[0,0,0];return t<60?(c=s,p=a):t<120?(c=a,p=s):t<180?(p=s,h=a):t<240?(p=a,h=s):t<300?(c=a,h=s):t<=360&&(c=s,h=a),c=Math.round((c+l)*255),p=Math.round((p+l)*255),h=Math.round((h+l)*255),new Ie(c,p,h,r)}},D=class n{static fromHex(e){return n.Format.CSS.parseHex(e)||n.red}static equals(e,t){return!e&&!t?!0:!e||!t?!1:e.equals(t)}rgba;_hsla;get hsla(){return this._hsla?this._hsla:Ji.fromRGBA(this.rgba)}_hsva;get hsva(){return this._hsva?this._hsva:Ir.fromRGBA(this.rgba)}constructor(e){if(e)if(e instanceof Ie)this.rgba=e;else if(e instanceof Ji)this._hsla=e,this.rgba=Ji.toRGBA(e);else if(e instanceof Ir)this._hsva=e,this.rgba=Ir.toRGBA(e);else throw new Error("Invalid color ctor argument");else throw new Error("Color needs a value")}equals(e){return!!e&&Ie.equals(this.rgba,e.rgba)&&Ji.equals(this.hsla,e.hsla)&&Ir.equals(this.hsva,e.hsva)}getRelativeLuminance(){let e=n._relativeLuminanceForComponent(this.rgba.r),t=n._relativeLuminanceForComponent(this.rgba.g),i=n._relativeLuminanceForComponent(this.rgba.b),o=.2126*e+.7152*t+.0722*i;return Zi(o,4)}static _relativeLuminanceForComponent(e){let t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}getContrastRatio(e){let t=this.getRelativeLuminance(),i=e.getRelativeLuminance();return t>i?(t+.05)/(i+.05):(i+.05)/(t+.05)}isDarker(){return(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3<128}isLighter(){return(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3>=128}isLighterThan(e){let t=this.getRelativeLuminance(),i=e.getRelativeLuminance();return t>i}isDarkerThan(e){let t=this.getRelativeLuminance(),i=e.getRelativeLuminance();return t<i}lighten(e){return new n(new Ji(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*e,this.hsla.a))}darken(e){return new n(new Ji(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*e,this.hsla.a))}transparent(e){let{r:t,g:i,b:o,a:r}=this.rgba;return new n(new Ie(t,i,o,r*e))}isTransparent(){return this.rgba.a===0}isOpaque(){return this.rgba.a===1}opposite(){return new n(new Ie(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}blend(e){let t=e.rgba,i=this.rgba.a,o=t.a,r=i+o*(1-i);if(r<1e-6)return n.transparent;let s=this.rgba.r*i/r+t.r*o*(1-i)/r,a=this.rgba.g*i/r+t.g*o*(1-i)/r,l=this.rgba.b*i/r+t.b*o*(1-i)/r;return new n(new Ie(s,a,l,r))}makeOpaque(e){if(this.isOpaque()||e.rgba.a!==1)return this;let{r:t,g:i,b:o,a:r}=this.rgba;return new n(new Ie(e.rgba.r-r*(e.rgba.r-t),e.rgba.g-r*(e.rgba.g-i),e.rgba.b-r*(e.rgba.b-o),1))}flatten(...e){let t=e.reduceRight((i,o)=>n._flatten(o,i));return n._flatten(this,t)}static _flatten(e,t){let i=1-e.rgba.a;return new n(new Ie(i*t.rgba.r+e.rgba.a*e.rgba.r,i*t.rgba.g+e.rgba.a*e.rgba.g,i*t.rgba.b+e.rgba.a*e.rgba.b))}_toString;toString(){return this._toString||(this._toString=n.Format.CSS.format(this)),this._toString}static getLighterColor(e,t,i){if(e.isLighterThan(t))return e;i=i||.5;let o=e.getRelativeLuminance(),r=t.getRelativeLuminance();return i=i*(r-o)/r,e.lighten(i)}static getDarkerColor(e,t,i){if(e.isDarkerThan(t))return e;i=i||.5;let o=e.getRelativeLuminance(),r=t.getRelativeLuminance();return i=i*(o-r)/o,e.darken(i)}static white=new n(new Ie(255,255,255,1));static black=new n(new Ie(0,0,0,1));static red=new n(new Ie(255,0,0,1));static blue=new n(new Ie(0,0,255,1));static green=new n(new Ie(0,255,0,1));static cyan=new n(new Ie(0,255,255,1));static lightgrey=new n(new Ie(211,211,211,1));static transparent=new n(new Ie(0,0,0,0))};(e=>{let n;(i=>{let t;(w=>{function o(b){return b.rgba.a===1?`rgb(${b.rgba.r}, ${b.rgba.g}, ${b.rgba.b})`:e.Format.CSS.formatRGBA(b)}w.formatRGB=o;function r(b){return`rgba(${b.rgba.r}, ${b.rgba.g}, ${b.rgba.b}, ${+b.rgba.a.toFixed(2)})`}w.formatRGBA=r;function s(b){return b.hsla.a===1?`hsl(${b.hsla.h}, ${(b.hsla.s*100).toFixed(2)}%, ${(b.hsla.l*100).toFixed(2)}%)`:e.Format.CSS.formatHSLA(b)}w.formatHSL=s;function a(b){return`hsla(${b.hsla.h}, ${(b.hsla.s*100).toFixed(2)}%, ${(b.hsla.l*100).toFixed(2)}%, ${b.hsla.a.toFixed(2)})`}w.formatHSLA=a;function l(b){let x=b.toString(16);return x.length!==2?"0"+x:x}function c(b){return`#${l(b.rgba.r)}${l(b.rgba.g)}${l(b.rgba.b)}`}w.formatHex=c;function p(b,x=!1){return x&&b.rgba.a===1?e.Format.CSS.formatHex(b):`#${l(b.rgba.r)}${l(b.rgba.g)}${l(b.rgba.b)}${l(Math.round(b.rgba.a*255))}`}w.formatHexA=p;function h(b){return b.isOpaque()?e.Format.CSS.formatHex(b):e.Format.CSS.formatRGBA(b)}w.format=h;function f(b){let x=b.length;if(x===0||b.charCodeAt(0)!==35)return null;if(x===7){let k=16*T(b.charCodeAt(1))+T(b.charCodeAt(2)),_=16*T(b.charCodeAt(3))+T(b.charCodeAt(4)),P=16*T(b.charCodeAt(5))+T(b.charCodeAt(6));return new e(new Ie(k,_,P,1))}if(x===9){let k=16*T(b.charCodeAt(1))+T(b.charCodeAt(2)),_=16*T(b.charCodeAt(3))+T(b.charCodeAt(4)),P=16*T(b.charCodeAt(5))+T(b.charCodeAt(6)),M=16*T(b.charCodeAt(7))+T(b.charCodeAt(8));return new e(new Ie(k,_,P,M/255))}if(x===4){let k=T(b.charCodeAt(1)),_=T(b.charCodeAt(2)),P=T(b.charCodeAt(3));return new e(new Ie(16*k+k,16*_+_,16*P+P))}if(x===5){let k=T(b.charCodeAt(1)),_=T(b.charCodeAt(2)),P=T(b.charCodeAt(3)),M=T(b.charCodeAt(4));return new e(new Ie(16*k+k,16*_+_,16*P+P,(16*M+M)/255))}return null}w.parseHex=f;function T(b){switch(b){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:return 10;case 65:return 10;case 98:return 11;case 66:return 11;case 99:return 12;case 67:return 12;case 100:return 13;case 68:return 13;case 101:return 14;case 69:return 14;case 102:return 15;case 70:return 15}return 0}})(t=i.CSS||={})})(n=e.Format||={})})(D||={});var P1={separatorBorder:D.transparent};var $l=class{constructor(e,t,i,o){this.container=e;this.view=t;this.disposable=o;typeof i=="number"?(this._size=i,this._cachedVisibleSize=void 0,e.classList.add("visible")):(this._size=0,this._cachedVisibleSize=i.cachedVisibleSize)}_size;set size(e){this._size=e}get size(){return this._size}_cachedVisibleSize=void 0;get cachedVisibleSize(){return this._cachedVisibleSize}get visible(){return typeof this._cachedVisibleSize>"u"}setVisible(e,t){if(e!==this.visible){e?(this.size=pt(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize=typeof t=="number"?t:this.size,this.size=0),this.container.classList.toggle("visible",e);try{this.view.setVisible?.(e)}catch(i){console.error("Splitview: Failed to set visible view"),console.error(i)}}}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get proportionalLayout(){return this.view.proportionalLayout??!0}get snap(){return!!this.view.snap}set enabled(e){this.container.style.pointerEvents=e?"":"none"}layout(e,t){this.layoutContainer(e);try{this.view.layout(this.size,e,t)}catch(i){console.error("Splitview: Failed to layout view"),console.error(i)}}dispose(){this.disposable.dispose()}},Xu=class extends $l{layoutContainer(e){this.container.style.top=`${e}px`,this.container.style.height=`${this.size}px`}},Ju=class extends $l{layoutContainer(e){this.container.style.left=`${e}px`,this.container.style.width=`${this.size}px`}};var Gl;(o=>{o.Distribute={type:"distribute"};function e(r){return{type:"split",index:r}}o.Split=e;function t(r){return{type:"auto",index:r}}o.Auto=t;function i(r){return{type:"invisible",cachedVisibleSize:r}}o.Invisible=i})(Gl||={});var xr=class extends J{orientation;el;sashContainer;viewContainer;scrollable;scrollableElement;size=0;layoutContext;_contentSize=0;proportions=void 0;viewItems=[];sashItems=[];sashDragState;state=0;inverseAltBehavior;proportionalLayout;getSashOrthogonalSize;_onDidSashChange=this._register(new L);_onDidSashReset=this._register(new L);_orthogonalStartSash;_orthogonalEndSash;_startSnappingEnabled=!0;_endSnappingEnabled=!0;get contentSize(){return this._contentSize}onDidSashChange=this._onDidSashChange.event;onDidSashReset=this._onDidSashReset.event;onDidScroll;get length(){return this.viewItems.length}get minimumSize(){return this.viewItems.reduce((e,t)=>e+t.minimumSize,0)}get maximumSize(){return this.length===0?Number.POSITIVE_INFINITY:this.viewItems.reduce((e,t)=>e+t.maximumSize,0)}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}get startSnappingEnabled(){return this._startSnappingEnabled}get endSnappingEnabled(){return this._endSnappingEnabled}set orthogonalStartSash(e){for(let t of this.sashItems)t.sash.orthogonalStartSash=e;this._orthogonalStartSash=e}set orthogonalEndSash(e){for(let t of this.sashItems)t.sash.orthogonalEndSash=e;this._orthogonalEndSash=e}get sashes(){return this.sashItems.map(e=>e.sash)}set startSnappingEnabled(e){this._startSnappingEnabled!==e&&(this._startSnappingEnabled=e,this.updateSashEnablement())}set endSnappingEnabled(e){this._endSnappingEnabled!==e&&(this._endSnappingEnabled=e,this.updateSashEnablement())}constructor(e,t={}){super(),this.orientation=t.orientation??0,this.inverseAltBehavior=t.inverseAltBehavior??!1,this.proportionalLayout=t.proportionalLayout??!0,this.getSashOrthogonalSize=t.getSashOrthogonalSize,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(this.orientation===0?"vertical":"horizontal"),e.appendChild(this.el),this.sashContainer=se(this.el,j(".sash-container")),this.viewContainer=j(".split-view-container"),this.scrollable=this._register(new Ii({forceIntegerValues:!0,smoothScrollDuration:125,scheduleAtNextAnimationFrame:o=>zt(be(this.el),o)})),this.scrollableElement=this._register(new Tr(this.viewContainer,{vertical:this.orientation===0?t.scrollbarVisibility??1:2,horizontal:this.orientation===1?t.scrollbarVisibility??1:2},this.scrollable));let i=this._register(new re(this.viewContainer,"scroll")).event;this._register(i(o=>{let r=this.scrollableElement.getScrollPosition(),s=Math.abs(this.viewContainer.scrollLeft-r.scrollLeft)<=1?void 0:this.viewContainer.scrollLeft,a=Math.abs(this.viewContainer.scrollTop-r.scrollTop)<=1?void 0:this.viewContainer.scrollTop;(s!==void 0||a!==void 0)&&this.scrollableElement.setScrollPosition({scrollLeft:s,scrollTop:a})})),this.onDidScroll=this.scrollableElement.onScroll,this._register(this.onDidScroll(o=>{o.scrollTopChanged&&(this.viewContainer.scrollTop=o.scrollTop),o.scrollLeftChanged&&(this.viewContainer.scrollLeft=o.scrollLeft)})),se(this.el,this.scrollableElement.getDomNode()),this.style(t.styles||P1),t.descriptor&&(this.size=t.descriptor.size,t.descriptor.views.forEach((o,r)=>{let s=zi(o.visible)||o.visible?o.size:{type:"invisible",cachedVisibleSize:o.size},a=o.view;this.doAddView(a,s,r,!0)}),this._contentSize=this.viewItems.reduce((o,r)=>o+r.size,0),this.saveProportions())}style(e){e.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",e.separatorBorder.toString()))}addView(e,t,i=this.viewItems.length,o){this.doAddView(e,t,i,o)}removeView(e,t){if(e<0||e>=this.viewItems.length)throw new Error("Index out of bounds");if(this.state!==0)throw new Error("Cant modify splitview");this.state=1;try{t?.type==="auto"&&(this.areViewsDistributed()?t={type:"distribute"}:t={type:"split",index:t.index});let i=t?.type==="split"?this.viewItems[t.index]:void 0,o=this.viewItems.splice(e,1)[0];if(i&&(i.size+=o.size),this.viewItems.length>=1){let s=Math.max(e-1,0);this.sashItems.splice(s,1)[0].disposable.dispose()}this.relayout(),t?.type==="distribute"&&this.distributeViewSizes();let r=o.view;return o.dispose(),r}finally{this.state=0}}removeAllViews(){if(this.state!==0)throw new Error("Cant modify splitview");this.state=1;try{let e=this.viewItems.splice(0,this.viewItems.length);for(let i of e)i.dispose();let t=this.sashItems.splice(0,this.sashItems.length);for(let i of t)i.disposable.dispose();return this.relayout(),e.map(i=>i.view)}finally{this.state=0}}moveView(e,t){if(this.state!==0)throw new Error("Cant modify splitview");let i=this.getViewCachedVisibleSize(e),o=typeof i>"u"?this.getViewSize(e):Gl.Invisible(i),r=this.removeView(e);this.addView(r,o,t)}swapViews(e,t){if(this.state!==0)throw new Error("Cant modify splitview");if(e>t)return this.swapViews(t,e);let i=this.getViewSize(e),o=this.getViewSize(t),r=this.removeView(t),s=this.removeView(e);this.addView(r,i,e),this.addView(s,o,t)}isViewVisible(e){if(e<0||e>=this.viewItems.length)throw new Error("Index out of bounds");return this.viewItems[e].visible}setViewVisible(e,t){if(e<0||e>=this.viewItems.length)throw new Error("Index out of bounds");this.viewItems[e].setVisible(t),this.distributeEmptySpace(e),this.layoutViews(),this.saveProportions()}getViewCachedVisibleSize(e){if(e<0||e>=this.viewItems.length)throw new Error("Index out of bounds");return this.viewItems[e].cachedVisibleSize}layout(e,t){let i=Math.max(this.size,this._contentSize);if(this.size=e,this.layoutContext=t,this.proportions){let o=0;for(let r=0;r<this.viewItems.length;r++){let s=this.viewItems[r],a=this.proportions[r];typeof a=="number"?o+=a:e-=s.size}for(let r=0;r<this.viewItems.length;r++){let s=this.viewItems[r],a=this.proportions[r];typeof a=="number"&&o>0&&(s.size=pt(Math.round(a*e/o),s.minimumSize,s.maximumSize))}}else{let o=dt(this.viewItems.length),r=o.filter(a=>this.viewItems[a].priority===1),s=o.filter(a=>this.viewItems[a].priority===2);this.resize(this.viewItems.length-1,e-i,void 0,r,s)}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){this.proportionalLayout&&this._contentSize>0&&(this.proportions=this.viewItems.map(e=>e.proportionalLayout&&e.visible?e.size/this._contentSize:void 0))}onSashStart({sash:e,start:t,alt:i}){for(let a of this.viewItems)a.enabled=!1;let o=this.sashItems.findIndex(a=>a.sash===e),r=vn(Z(this.el.ownerDocument.body,"keydown",a=>s(this.sashDragState.current,a.altKey)),Z(this.el.ownerDocument.body,"keyup",()=>s(this.sashDragState.current,!1))),s=(a,l)=>{let c=this.viewItems.map(w=>w.size),p=Number.NEGATIVE_INFINITY,h=Number.POSITIVE_INFINITY;if(this.inverseAltBehavior&&(l=!l),l)if(o===this.sashItems.length-1){let b=this.viewItems[o];p=(b.minimumSize-b.size)/2,h=(b.maximumSize-b.size)/2}else{let b=this.viewItems[o+1];p=(b.size-b.maximumSize)/2,h=(b.size-b.minimumSize)/2}let f,T;if(!l){let w=dt(o,-1),b=dt(o+1,this.viewItems.length),x=w.reduce((O,ie)=>O+(this.viewItems[ie].minimumSize-c[ie]),0),k=w.reduce((O,ie)=>O+(this.viewItems[ie].viewMaximumSize-c[ie]),0),_=b.length===0?Number.POSITIVE_INFINITY:b.reduce((O,ie)=>O+(c[ie]-this.viewItems[ie].minimumSize),0),P=b.length===0?Number.NEGATIVE_INFINITY:b.reduce((O,ie)=>O+(c[ie]-this.viewItems[ie].viewMaximumSize),0),M=Math.max(x,P),R=Math.min(_,k),K=this.findFirstSnapIndex(w),U=this.findFirstSnapIndex(b);if(typeof K=="number"){let O=this.viewItems[K],ie=Math.floor(O.viewMinimumSize/2);f={index:K,limitDelta:O.visible?M-ie:M+ie,size:O.size}}if(typeof U=="number"){let O=this.viewItems[U],ie=Math.floor(O.viewMinimumSize/2);T={index:U,limitDelta:O.visible?R+ie:R-ie,size:O.size}}}this.sashDragState={start:a,current:a,index:o,sizes:c,minDelta:p,maxDelta:h,alt:l,snapBefore:f,snapAfter:T,disposable:r}};s(t,i)}onSashChange({current:e}){let{index:t,start:i,sizes:o,alt:r,minDelta:s,maxDelta:a,snapBefore:l,snapAfter:c}=this.sashDragState;this.sashDragState.current=e;let p=e-i,h=this.resize(t,p,o,void 0,void 0,s,a,l,c);if(r){let f=t===this.sashItems.length-1,T=this.viewItems.map(P=>P.size),w=f?t:t+1,b=this.viewItems[w],x=b.size-b.maximumSize,k=b.size-b.minimumSize,_=f?t-1:t+1;this.resize(_,-h,T,void 0,void 0,x,k)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(e){this._onDidSashChange.fire(e),this.sashDragState.disposable.dispose(),this.saveProportions();for(let t of this.viewItems)t.enabled=!0}onViewChange(e,t){let i=this.viewItems.indexOf(e);i<0||i>=this.viewItems.length||(t=typeof t=="number"?t:e.size,t=pt(t,e.minimumSize,e.maximumSize),this.inverseAltBehavior&&i>0?(this.resize(i-1,Math.floor((e.size-t)/2)),this.distributeEmptySpace(),this.layoutViews()):(e.size=t,this.relayout([i],void 0)))}resizeView(e,t){if(!(e<0||e>=this.viewItems.length)){if(this.state!==0)throw new Error("Cant modify splitview");this.state=1;try{let i=dt(this.viewItems.length).filter(a=>a!==e),o=[...i.filter(a=>this.viewItems[a].priority===1),e],r=i.filter(a=>this.viewItems[a].priority===2),s=this.viewItems[e];t=Math.round(t),t=pt(t,s.minimumSize,Math.min(s.maximumSize,this.size)),s.size=t,this.relayout(o,r)}finally{this.state=0}}}isViewExpanded(e){if(e<0||e>=this.viewItems.length)return!1;for(let t of this.viewItems)if(t!==this.viewItems[e]&&t.size>t.minimumSize)return!1;return!0}distributeViewSizes(){let e=[],t=0;for(let a of this.viewItems)a.maximumSize-a.minimumSize>0&&(e.push(a),t+=a.size);let i=Math.floor(t/e.length);for(let a of e)a.size=pt(i,a.minimumSize,a.maximumSize);let o=dt(this.viewItems.length),r=o.filter(a=>this.viewItems[a].priority===1),s=o.filter(a=>this.viewItems[a].priority===2);this.relayout(r,s)}getViewSize(e){return e<0||e>=this.viewItems.length?-1:this.viewItems[e].size}doAddView(e,t,i=this.viewItems.length,o){if(this.state!==0)throw new Error("Cant modify splitview");this.state=1;try{let r=j(".split-view-view");i===this.viewItems.length?this.viewContainer.appendChild(r):this.viewContainer.insertBefore(r,this.viewContainer.children.item(i));let s=e.onDidChange(f=>this.onViewChange(p,f)),a=ce(()=>r.remove()),l=vn(s,a),c;typeof t=="number"?c=t:(t.type==="auto"&&(this.areViewsDistributed()?t={type:"distribute"}:t={type:"split",index:t.index}),t.type==="split"?c=this.getViewSize(t.index)/2:t.type==="invisible"?c={cachedVisibleSize:t.cachedVisibleSize}:c=e.minimumSize);let p=this.orientation===0?new Xu(r,e,c,l):new Ju(r,e,c,l);if(this.viewItems.splice(i,0,p),this.viewItems.length>1){let f={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash},T=this.orientation===0?new qs(this.sashContainer,{getHorizontalSashTop:O=>this.getSashPosition(O),getHorizontalSashWidth:this.getSashOrthogonalSize},{...f,orientation:1}):new qs(this.sashContainer,{getVerticalSashLeft:O=>this.getSashPosition(O),getVerticalSashHeight:this.getSashOrthogonalSize},{...f,orientation:0}),w=this.orientation===0?O=>({sash:T,start:O.startY,current:O.currentY,alt:O.altKey}):O=>({sash:T,start:O.startX,current:O.currentX,alt:O.altKey}),x=N.map(T.onDidStart,w)(this.onSashStart,this),_=N.map(T.onDidChange,w)(this.onSashChange,this),M=N.map(T.onDidEnd,()=>this.sashItems.findIndex(O=>O.sash===T))(this.onSashEnd,this),R=T.onDidReset(()=>{let O=this.sashItems.findIndex(wt=>wt.sash===T),ie=dt(O,-1),Se=dt(O+1,this.viewItems.length),ge=this.findFirstSnapIndex(ie),le=this.findFirstSnapIndex(Se);typeof ge=="number"&&!this.viewItems[ge].visible||typeof le=="number"&&!this.viewItems[le].visible||this._onDidSashReset.fire(O)}),K=vn(x,_,M,R,T),U={sash:T,disposable:K};this.sashItems.splice(i-1,0,U)}r.appendChild(e.element);let h;typeof t!="number"&&t.type==="split"&&(h=[t.index]),o||this.relayout([i],h),!o&&typeof t!="number"&&t.type==="distribute"&&this.distributeViewSizes()}finally{this.state=0}}relayout(e,t){let i=this.viewItems.reduce((o,r)=>o+r.size,0);this.resize(this.viewItems.length-1,this.size-i,void 0,e,t),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(e,t,i=this.viewItems.map(p=>p.size),o,r,s=Number.NEGATIVE_INFINITY,a=Number.POSITIVE_INFINITY,l,c){if(e<0||e>=this.viewItems.length)return 0;let p=dt(e,-1),h=dt(e+1,this.viewItems.length);if(r)for(let U of r)Za(p,U),Za(h,U);if(o)for(let U of o)ls(p,U),ls(h,U);let f=p.map(U=>this.viewItems[U]),T=p.map(U=>i[U]),w=h.map(U=>this.viewItems[U]),b=h.map(U=>i[U]),x=p.reduce((U,O)=>U+(this.viewItems[O].minimumSize-i[O]),0),k=p.reduce((U,O)=>U+(this.viewItems[O].maximumSize-i[O]),0),_=h.length===0?Number.POSITIVE_INFINITY:h.reduce((U,O)=>U+(i[O]-this.viewItems[O].minimumSize),0),P=h.length===0?Number.NEGATIVE_INFINITY:h.reduce((U,O)=>U+(i[O]-this.viewItems[O].maximumSize),0),M=Math.max(x,P,s),R=Math.min(_,k,a),K=!1;if(l){let U=this.viewItems[l.index],O=t>=l.limitDelta;K=O!==U.visible,U.setVisible(O,l.size)}if(!K&&c){let U=this.viewItems[c.index],O=t<c.limitDelta;K=O!==U.visible,U.setVisible(O,c.size)}if(K)return this.resize(e,t,i,o,r,s,a);t=pt(t,M,R);for(let U=0,O=t;U<f.length;U++){let ie=f[U],Se=pt(T[U]+O,ie.minimumSize,ie.maximumSize),ge=Se-T[U];O-=ge,ie.size=Se}for(let U=0,O=t;U<w.length;U++){let ie=w[U],Se=pt(b[U]-O,ie.minimumSize,ie.maximumSize),ge=Se-b[U];O+=ge,ie.size=Se}return t}distributeEmptySpace(e){let t=this.viewItems.reduce((a,l)=>a+l.size,0),i=this.size-t,o=dt(this.viewItems.length-1,-1),r=o.filter(a=>this.viewItems[a].priority===1),s=o.filter(a=>this.viewItems[a].priority===2);for(let a of s)Za(o,a);for(let a of r)ls(o,a);typeof e=="number"&&ls(o,e);for(let a=0;i!==0&&a<o.length;a++){let l=this.viewItems[o[a]],c=pt(l.size+i,l.minimumSize,l.maximumSize),p=c-l.size;i-=p,l.size=c}}layoutViews(){this._contentSize=this.viewItems.reduce((t,i)=>t+i.size,0);let e=0;for(let t of this.viewItems)t.layout(e,this.layoutContext),e+=t.size;this.sashItems.forEach(t=>t.sash.layout()),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){this.orientation===0?this.scrollableElement.setScrollDimensions({height:this.size,scrollHeight:this._contentSize}):this.scrollableElement.setScrollDimensions({width:this.size,scrollWidth:this._contentSize})}updateSashEnablement(){let e=!1,t=this.viewItems.map(l=>e=l.size-l.minimumSize>0||e);e=!1;let i=this.viewItems.map(l=>e=l.maximumSize-l.size>0||e),o=[...this.viewItems].reverse();e=!1;let r=o.map(l=>e=l.size-l.minimumSize>0||e).reverse();e=!1;let s=o.map(l=>e=l.maximumSize-l.size>0||e).reverse(),a=0;for(let l=0;l<this.sashItems.length;l++){let{sash:c}=this.sashItems[l],p=this.viewItems[l];a+=p.size;let h=!(t[l]&&s[l+1]),f=!(i[l]&&r[l+1]);if(h&&f){let T=dt(l,-1),w=dt(l+1,this.viewItems.length),b=this.findFirstSnapIndex(T),x=this.findFirstSnapIndex(w),k=typeof b=="number"&&!this.viewItems[b].visible,_=typeof x=="number"&&!this.viewItems[x].visible;k&&r[l]&&(a>0||this.startSnappingEnabled)?c.state=1:_&&t[l]&&(a<this._contentSize||this.endSnappingEnabled)?c.state=2:c.state=0}else h&&!f?c.state=1:!h&&f?c.state=2:c.state=3}}getSashPosition(e){let t=0;for(let i=0;i<this.sashItems.length;i++)if(t+=this.viewItems[i].size,this.sashItems[i].sash===e)return t;return 0}findFirstSnapIndex(e){for(let t of e){let i=this.viewItems[t];if(i.visible&&i.snap)return t}for(let t of e){let i=this.viewItems[t];if(i.visible&&i.maximumSize-i.minimumSize>0)return;if(!i.visible&&i.snap)return t}}areViewsDistributed(){let e,t;for(let i of this.viewItems)if(e=e===void 0?i.size:Math.min(e,i.size),t=t===void 0?i.size:Math.max(t,i.size),t-e>2)return!1;return!0}dispose(){this.sashDragState?.disposable.dispose(),$e(this.viewItems),this.viewItems=[],this.sashItems.forEach(e=>e.disposable.dispose()),this.sashItems=[],super.dispose()}};var JR=new Uint32Array(10);var ZR=new Uint8Array([114,82,115,101,69,102,97,113,81,116,84,100,119,87,99,122,120,118,103]),QR=new Uint16Array([107,111,105,79,106,112,117,80,104,27496,28520,27752,121,110,27246,28782,27758,98,109,27757,108]),e4=new Uint16Array([114,82,29810,115,30579,26483,101,102,29286,24934,29030,29798,30822,30310,26470,97,113,29809,116,84,100,119,99,122,120,118,103]),t4=new Uint16Array([114,82,29810,115,30579,26483,101,69,102,29286,24934,29030,29798,30822,30310,26470,97,113,81,29809,116,84,100,119,87,99,122,120,118,103,107,111,105,79,106,112,117,80,104,27496,28520,27752,121,110,27246,28782,27758,98,109,27757,108]);function Ag(...n){return function(e,t){for(let i=0,o=n.length;i<o;i++){let r=n[i](e,t);if(r)return r}return null}}var l4=Rg.bind(void 0,!1),Xs=Rg.bind(void 0,!0);function Rg(n,e,t){if(!t||t.length<e.length)return null;let i;return n?i=_o(t,e):i=t.indexOf(e)===0,i?e.length>0?[{start:0,end:e.length}]:[]:null}function B1(n,e){let t=e.toLowerCase().indexOf(n.toLowerCase());return t===-1?null:[{start:t,end:t+n.length}]}function H1(n,e){return ep(n.toLowerCase(),e.toLowerCase(),0,0)}function ep(n,e,t,i){if(t===n.length)return[];if(i===e.length)return null;if(n[t]===e[i]){let o=null;return(o=ep(n,e,t+1,i+1))?Og({start:i,end:i+1},o):null}return ep(n,e,t,i+1)}function op(n){return 97<=n&&n<=122}function Yl(n){return 65<=n&&n<=90}function rp(n){return 48<=n&&n<=57}function U1(n){return n===32||n===9||n===10||n===13}var K1=new Set;"()[]{}<>`'\"-/;:,.?!".split("").forEach(n=>K1.add(n.charCodeAt(0)));function Ng(n){return op(n)||Yl(n)||rp(n)}function Og(n,e){return e.length===0?e=[n]:n.end===e[0].start?e[0].start=n.start:e.unshift(n),e}function Fg(n,e){for(let t=e;t<n.length;t++){let i=n.charCodeAt(t);if(Yl(i)||rp(i)||t>0&&!Ng(n.charCodeAt(t-1)))return t}return n.length}function tp(n,e,t,i){if(t===n.length)return[];if(i===e.length)return null;if(n[t]!==e[i].toLowerCase())return null;{let o=null,r=i+1;for(o=tp(n,e,t+1,i+1);!o&&(r=Fg(e,r))<e.length;)o=tp(n,e,t+1,r),r++;return o===null?null:Og({start:i,end:i+1},o)}}function V1(n){let e=0,t=0,i=0,o=0,r=0;for(let p=0;p<n.length;p++)r=n.charCodeAt(p),Yl(r)&&e++,op(r)&&t++,Ng(r)&&i++,rp(r)&&o++;let s=e/n.length,a=t/n.length,l=i/n.length,c=o/n.length;return{upperPercent:s,lowerPercent:a,alphaPercent:l,numericPercent:c}}function W1(n){let{upperPercent:e,lowerPercent:t}=n;return t===0&&e>.6}function z1(n){let{upperPercent:e,lowerPercent:t,alphaPercent:i,numericPercent:o}=n;return t>.2&&e<.8&&i>.6&&o<.2}function $1(n){let e=0,t=0,i=0,o=0;for(let r=0;r<n.length;r++)i=n.charCodeAt(r),Yl(i)&&e++,op(i)&&t++,U1(i)&&o++;return(e===0||t===0)&&o===0?n.length<=30:e<=5}function Mg(n,e){if(!e||(e=e.trim(),e.length===0)||!$1(n))return null;e.length>60&&(e=e.substring(0,60));let t=V1(e);if(!z1(t)){if(!W1(t))return null;e=e.toLowerCase()}let i=null,o=0;for(n=n.toLowerCase();o<e.length&&(i=tp(n,e,0,o))===null;)o=Fg(e,o+1);return i}var d4=Ag(Xs,Mg,B1),c4=Ag(Xs,Mg,H1),u4=new ar(1e4);function Pg(n,e){let t=ap(n,n.toLowerCase(),0,e,e.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});return t?G1(t):null}function G1(n){if(typeof n>"u")return[];let e=[],t=n[1];for(let i=n.length-1;i>1;i--){let o=n[i]+t,r=e[e.length-1];r&&r.end===o?r.end=o+1:e.push({start:o,end:o+1})}return e}var eo=128;function sp(){let n=[],e=[];for(let t=0;t<=eo;t++)e[t]=0;for(let t=0;t<=eo;t++)n.push(e.slice(0));return n}function Bg(n){let e=[];for(let t=0;t<=n;t++)e[t]=0;return e}var Hg=Bg(2*eo),np=Bg(2*eo),qn=sp(),Qi=sp(),Ys=sp(),q1=!1;function Qu(n,e,t,i,o){function r(a,l,c=" "){for(;a.length<l;)a=c+a;return a}let s=` |   |${i.split("").map(a=>r(a,3)).join("|")}
`;for(let a=0;a<=t;a++)a===0?s+=" |":s+=`${e[a-1]}|`,s+=n[a].slice(0,o+1).map(l=>r(l.toString(),3)).join("|")+`
`;return s}function j1(n,e,t,i){n=n.substr(e),t=t.substr(i),console.log(Qu(Qi,n,n.length,t,t.length)),console.log(Qu(Ys,n,n.length,t,t.length)),console.log(Qu(qn,n,n.length,t,t.length))}function ql(n,e){if(e<0||e>=n.length)return!1;let t=n.codePointAt(e);switch(t){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 62:case 40:case 41:case 91:case 93:case 123:case 125:return!0;case void 0:return!1;default:return!!Of(t)}}function Lg(n,e){if(e<0||e>=n.length)return!1;switch(n.charCodeAt(e)){case 32:case 9:return!0;default:return!1}}function jl(n,e,t){return e[n]!==t[n]}function Y1(n,e,t,i,o,r,s=!1){for(;e<t&&o<r;)n[e]===i[o]&&(s&&(Hg[e]=o),e+=1),o+=1;return e===t}var Mo;(t=>{t.Default=[-100,0];function e(i){return!i||i.length===2&&i[0]===-100&&i[1]===0}t.isDefault=e})(Mo||={});var ip=class{constructor(e,t){this.firstMatchCanBeWeak=e;this.boostFullMatch=t}static default={boostFullMatch:!0,firstMatchCanBeWeak:!1}};function ap(n,e,t,i,o,r,s=ip.default){let a=n.length>eo?eo:n.length,l=i.length>eo?eo:i.length;if(t>=a||r>=l||a-t>l-r||!Y1(e,t,a,o,r,l,!0))return;X1(a,l,t,r,e,o);let c=1,p=1,h=t,f=r,T=[!1];for(c=1,h=t;h<a;c++,h++){let _=Hg[h],P=np[h],M=h+1<a?np[h+1]:l;for(p=_-r+1,f=_;f<M;p++,f++){let R=Number.MIN_SAFE_INTEGER,K=!1;f<=P&&(R=J1(n,e,h,t,i,o,f,l,r,qn[c-1][p-1]===0,T));let U=0;R!==Number.MAX_SAFE_INTEGER&&(K=!0,U=R+Qi[c-1][p-1]);let O=f>_,ie=O?Qi[c][p-1]+(qn[c][p-1]>0?-5:0):0,Se=f>_+1&&qn[c][p-1]>0,ge=Se?Qi[c][p-2]+(qn[c][p-2]>0?-5:0):0;if(Se&&(!O||ge>=ie)&&(!K||ge>=U))Qi[c][p]=ge,Ys[c][p]=3,qn[c][p]=0;else if(O&&(!K||ie>=U))Qi[c][p]=ie,Ys[c][p]=2,qn[c][p]=0;else if(K)Qi[c][p]=U,Ys[c][p]=1,qn[c][p]=qn[c-1][p-1]+1;else throw new Error("not possible")}}if(q1&&j1(n,t,i,r),!T[0]&&!s.firstMatchCanBeWeak)return;c--,p--;let w=[Qi[c][p],r],b=0,x=0;for(;c>=1;){let _=p;do{let P=Ys[c][_];if(P===3)_=_-2;else if(P===2)_=_-1;else break}while(_>=1);b>1&&e[t+c-1]===o[r+p-1]&&!jl(_+r-1,i,o)&&b+1>qn[c][_]&&(_=p),_===p?b++:b=1,x||(x=_),c--,p=_-1,w.push(p)}l-r===a&&s.boostFullMatch&&(w[0]+=2);let k=x-a;return w[0]-=k,w}function X1(n,e,t,i,o,r){let s=n-1,a=e-1;for(;s>=t&&a>=i;)o[s]===r[a]&&(np[s]=a,s--),a--}function J1(n,e,t,i,o,r,s,a,l,c,p){if(e[t]!==r[s])return Number.MIN_SAFE_INTEGER;let h=1,f=!1;return s===t-i?h=n[t]===o[s]?7:5:jl(s,o,r)&&(s===0||!jl(s-1,o,r))?(h=n[t]===o[s]?7:5,f=!0):ql(r,s)&&(s===0||!ql(r,s-1))?h=5:(ql(r,s-1)||Lg(r,s-1))&&(h=5,f=!0),h>1&&t===i&&(p[0]=!0),f||(f=jl(s,o,r)||ql(r,s-1)||Lg(r,s-1)),t===i?s>l&&(h-=f?3:5):c?h+=f?2:0:h+=f?0:1,s+1===a&&(h-=f?3:5),h}var lp=new RegExp(`\\$\\(${Te.iconNameExpression}(?:${Te.iconModifierExpression})?\\)`,"g"),Z1=new RegExp(`(\\\\)?${lp.source}`,"g");function Kg(n){return n.replace(Z1,(e,t)=>t?e:`\\${e}`)}var Q1=new RegExp(`\\\\${lp.source}`,"g");function Vg(n){return n.replace(Q1,e=>`\\${e}`)}var v4=new RegExp(`(\\s)?(\\\\)?${lp.source}(\\s)?`,"g");var y4=new RegExp(`\\$\\(${Te.iconNameCharacter}+\\)`,"g");var Js=class{value;isTrusted;supportThemeIcons;supportHtml;baseUri;constructor(e="",t=!1){if(this.value=e,typeof this.value!="string")throw es("value");typeof t=="boolean"?(this.isTrusted=t,this.supportThemeIcons=!1,this.supportHtml=!1):(this.isTrusted=t.isTrusted??void 0,this.supportThemeIcons=t.supportThemeIcons??!1,this.supportHtml=t.supportHtml??!1)}appendText(e,t=0){return this.value+=ex(this.supportThemeIcons?Kg(e):e).replace(/([ \t]+)/g,(i,o)=>"&nbsp;".repeat(o.length)).replace(/\>/gm,"\\>").replace(/\n/g,t===1?`\\
`:`

`),this}appendMarkdown(e){return this.value+=e,this}appendCodeblock(e,t){return this.value+=`
${tx(t,e)}
`,this}appendLink(e,t,i){return this.value+="[",this.value+=this._escape(t,"]"),this.value+="](",this.value+=this._escape(String(e),")"),i&&(this.value+=` "${this._escape(this._escape(i,'"'),")")}"`),this.value+=")",this}_escape(e,t){let i=new RegExp(hu(t),"g");return e.replace(i,(o,r)=>e.charAt(r-1)!=="\\"?`\\${o}`:o)}};function Po(n){return n instanceof Js?!0:n&&typeof n=="object"?typeof n.value=="string"&&(typeof n.isTrusted=="boolean"||typeof n.isTrusted=="object"||n.isTrusted===void 0)&&(typeof n.supportThemeIcons=="boolean"||n.supportThemeIcons===void 0):!1}function Wg(n,e){return n===e?!0:!n||!e?!1:n.value===e.value&&n.isTrusted===e.isTrusted&&n.supportThemeIcons===e.supportThemeIcons&&n.supportHtml===e.supportHtml&&(n.baseUri===e.baseUri||!!n.baseUri&&!!e.baseUri&&Vf(De.from(n.baseUri),De.from(e.baseUri)))}function ex(n){return n.replace(/[\\`*_{}[\]()#+\-!~]/g,"\\$&")}function tx(n,e){let t=n.match(/^`+/gm)?.reduce((o,r)=>o.length>r.length?o:r).length??0,i=t>=3?t+1:3;return[`${"`".repeat(i)}${e}`,n,`${"`".repeat(i)}`].join(`
`)}function Zs(n){return n.replace(/"/g,"&quot;")}function Xl(n){return n&&n.replace(/\\([\\`*_{}[\]()#+\-.!~])/g,"$1")}function zg(n){let e=[],t=n.split("|").map(o=>o.trim());n=t[0];let i=t[1];if(i){let o=/height=(\d+)/.exec(i),r=/width=(\d+)/.exec(i),s=o?o[1]:"",a=r?r[1]:"",l=isFinite(parseInt(a)),c=isFinite(parseInt(s));l&&e.push(`width="${a}"`),c&&e.push(`height="${s}"`)}return{href:n,dimensions:e}}var dp=class{data=new Map;add(e,t){Ua(xn(e)),Ua(Qt(t)),Ua(!this.data.has(e),"There is already an extension with this id"),this.data.set(e,t)}knows(e){return this.data.has(e)}as(e){return this.data.get(e)||null}},je=new dp;var Qs;(e=>e.ExtensionFeaturesRegistry="workbench.registry.extensionFeatures")(Qs||={});var Zl=ae("IExtensionFeaturesManagementService"),cp=class{extensionFeatures=new Map;registerExtensionFeature(e){if(this.extensionFeatures.has(e.id))throw new Error(`Extension feature with id '${e.id}' already exists`);return this.extensionFeatures.set(e.id,e),{dispose:()=>this.extensionFeatures.delete(e.id)}}getExtensionFeature(e){return this.extensionFeatures.get(e)}getExtensionFeatures(){return Array.from(this.extensionFeatures.values())}};je.add(Qs.ExtensionFeaturesRegistry,new cp);var xt;(o=>{function n(r,s){if(r.start>=s.end||s.start>=r.end)return{start:0,end:0};let a=Math.max(r.start,s.start),l=Math.min(r.end,s.end);return l-a<=0?{start:0,end:0}:{start:a,end:l}}o.intersect=n;function e(r){return r.end-r.start<=0}o.isEmpty=e;function t(r,s){return!e(n(r,s))}o.intersects=t;function i(r,s){let a=[],l={start:r.start,end:Math.min(s.start,r.end)},c={start:Math.max(s.end,r.start),end:r.end};return e(l)||a.push(l),e(c)||a.push(c),a}o.relativeComplement=i})(xt||={});var qg=Object.freeze({text:"text/plain",binary:"application/octet-stream",unknown:"application/unknown",markdown:"text/markdown",latex:"text/latex",uriList:"text/uri-list"});var Ql={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:qg.text,INTERNAL_URI_LIST:"application/vnd.code.uri-list"};function jg(n,e){let t=[];for(let i of e){if(n.start>=i.range.end)continue;if(n.end<i.range.start)break;let o=xt.intersect(n,i.range);xt.isEmpty(o)||t.push({range:o,size:i.size})}return t}function td({start:n,end:e},t){return{start:n+t,end:e+t}}function nx(n){let e=[],t=null;for(let i of n){let o=i.range.start,r=i.range.end,s=i.size;if(t&&s===t.size){t.range.end=r;continue}t={range:{start:o,end:r},size:s},e.push(t)}return e}function ix(...n){return nx(n.reduce((e,t)=>e.concat(t),[]))}var ed=class{groups=[];_size=0;_paddingTop=0;get paddingTop(){return this._paddingTop}set paddingTop(e){this._size=this._size+e-this._paddingTop,this._paddingTop=e}constructor(e){this._paddingTop=e??0,this._size=this._paddingTop}splice(e,t,i=[]){let o=i.length-t,r=jg({start:0,end:e},this.groups),s=jg({start:e+t,end:Number.POSITIVE_INFINITY},this.groups).map(l=>({range:td(l.range,o),size:l.size})),a=i.map((l,c)=>({range:{start:e+c,end:e+c+1},size:l.size}));this.groups=ix(r,a,s),this._size=this._paddingTop+this.groups.reduce((l,c)=>l+c.size*(c.range.end-c.range.start),0)}get count(){let e=this.groups.length;return e?this.groups[e-1].range.end:0}get size(){return this._size}indexAt(e){if(e<0)return-1;if(e<this._paddingTop)return 0;let t=0,i=this._paddingTop;for(let o of this.groups){let r=o.range.end-o.range.start,s=i+r*o.size;if(e<s)return t+Math.floor((e-i)/o.size);t+=r,i=s}return t}indexAfter(e){return Math.min(this.indexAt(e)+1,this.count)}positionAt(e){if(e<0)return-1;let t=0,i=0;for(let o of this.groups){let r=o.range.end-o.range.start,s=i+r;if(e<s)return this._paddingTop+t+(e-i)*o.size;t+=r*o.size,i=s}return-1}};var nd=class{constructor(e){this.renderers=e}cache=new Map;transactionNodesPendingRemoval=new Set;inTransaction=!1;alloc(e){let t=this.getTemplateCache(e).pop(),i=!1;if(t)i=this.transactionNodesPendingRemoval.has(t.domNode),i&&this.transactionNodesPendingRemoval.delete(t.domNode);else{let o=j(".monaco-list-row"),s=this.getRenderer(e).renderTemplate(o);t={domNode:o,templateId:e,templateData:s}}return{row:t,isReusingConnectedDomNode:i}}release(e){e&&this.releaseRow(e)}transact(e){if(this.inTransaction)throw new Error("Already in transaction");this.inTransaction=!0;try{e()}finally{for(let t of this.transactionNodesPendingRemoval)this.doRemoveNode(t);this.transactionNodesPendingRemoval.clear(),this.inTransaction=!1}}releaseRow(e){let{domNode:t,templateId:i}=e;t&&(this.inTransaction?this.transactionNodesPendingRemoval.add(t):this.doRemoveNode(t)),this.getTemplateCache(i).push(e)}doRemoveNode(e){e.classList.remove("scrolling"),e.remove()}getTemplateCache(e){let t=this.cache.get(e);return t||(t=[],this.cache.set(e,t)),t}dispose(){this.cache.forEach((e,t)=>{for(let i of e)this.getRenderer(t).disposeTemplate(i.templateData),i.templateData=null}),this.cache.clear(),this.transactionNodesPendingRemoval.clear()}getRenderer(e){let t=this.renderers.get(e);if(!t)throw new Error(`No renderer found for ${e}`);return t}};var Yg=2e4,Zg,up,Xg,pp,Jg;function to(n){Zg&&(up.textContent!==n?(nt(Xg),id(up,n)):(nt(up),id(Xg,n)))}function hp(n){Zg&&(pp.textContent!==n?(nt(Jg),id(pp,n)):(nt(pp),id(Jg,n)))}function id(n,e){nt(n),e.length>Yg&&(e=e.substr(0,Yg)),n.textContent=e,n.style.visibility="hidden",n.style.visibility="visible"}var Bo={CurrentDragAndDropData:void 0};var jn={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements(n){return[n]},getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){},dispose(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0},xi=class{elements;_context;get context(){return this._context}set context(e){this._context=e}constructor(e){this.elements=e}update(){}getData(){return this.elements}},mp=class{elements;constructor(e){this.elements=e}update(){}getData(){return this.elements}},fp=class{types;files;constructor(){this.types=[],this.files=[]}update(e){if(e.types&&this.types.splice(0,this.types.length,...e.types),e.files){this.files.splice(0,this.files.length);for(let t=0;t<e.files.length;t++){let i=e.files.item(t);i&&(i.size||i.type)&&this.files.push(i)}}}getData(){return{types:this.types,files:this.files}}};function rx(n,e){return Array.isArray(n)&&Array.isArray(e)?ln(n,e):n===e}var gp=class{getSetSize;getPosInSet;getRole;isChecked;constructor(e){e?.getSetSize?this.getSetSize=e.getSetSize.bind(e):this.getSetSize=(t,i,o)=>o,e?.getPosInSet?this.getPosInSet=e.getPosInSet.bind(e):this.getPosInSet=(t,i)=>i+1,e?.getRole?this.getRole=e.getRole.bind(e):this.getRole=t=>"listitem",e?.isChecked?this.isChecked=e.isChecked.bind(e):this.isChecked=t=>{}}},jt=class jt{constructor(e,t,i,o=jn){this.virtualDelegate=t;if(o.horizontalScrolling&&o.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=this.createRangeMap(o.paddingTop??0);for(let s of i)this.renderers.set(s.templateId,s);this.cache=this.disposables.add(new nd(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support",typeof o.mouseSupport=="boolean"?o.mouseSupport:!0),this._horizontalScrolling=o.horizontalScrolling??jn.horizontalScrolling,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.paddingBottom=typeof o.paddingBottom>"u"?0:o.paddingBottom,this.accessibilityProvider=new gp(o.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",(o.transformOptimization??jn.transformOptimization)&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)",this.rowsContainer.style.overflow="hidden",this.rowsContainer.style.contain="strict"),this.disposables.add(It.addTarget(this.rowsContainer)),this.scrollable=this.disposables.add(new Ii({forceIntegerValues:!0,smoothScrollDuration:o.smoothScrolling??!1?125:0,scheduleAtNextAnimationFrame:s=>zt(be(this.domNode),s)})),this.scrollableElement=this.disposables.add(new Tr(this.rowsContainer,{alwaysConsumeMouseWheel:o.alwaysConsumeMouseWheel??jn.alwaysConsumeMouseWheel,horizontal:1,vertical:o.verticalScrollMode??jn.verticalScrollMode,useShadows:o.useShadows??jn.useShadows,mouseWheelScrollSensitivity:o.mouseWheelScrollSensitivity,fastScrollSensitivity:o.fastScrollSensitivity,scrollByPage:o.scrollByPage},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),e.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),this.disposables.add(Z(this.rowsContainer,qe.Change,s=>this.onTouchChange(s))),this.disposables.add(Z(this.scrollableElement.getDomNode(),"scroll",s=>s.target.scrollTop=0)),this.disposables.add(Z(this.domNode,"dragover",s=>this.onDragOver(this.toDragEvent(s)))),this.disposables.add(Z(this.domNode,"drop",s=>this.onDrop(this.toDragEvent(s)))),this.disposables.add(Z(this.domNode,"dragleave",s=>this.onDragLeave(this.toDragEvent(s)))),this.disposables.add(Z(this.domNode,"dragend",s=>this.onDragEnd(s))),this.setRowLineHeight=o.setRowLineHeight??jn.setRowLineHeight,this.setRowHeight=o.setRowHeight??jn.setRowHeight,this.supportDynamicHeights=o.supportDynamicHeights??jn.supportDynamicHeights,this.dnd=o.dnd??this.disposables.add(jn.dnd),this.layout(o.initialSize?.height,o.initialSize?.width)}static InstanceCount=0;domId=`list_id_${++jt.InstanceCount}`;domNode;items;itemId;rangeMap;cache;renderers=new Map;lastRenderTop;lastRenderHeight;renderWidth=0;rowsContainer;scrollable;scrollableElement;_scrollHeight=0;scrollableElementUpdateDisposable=null;scrollableElementWidthDelayer=new Vn(50);splicing=!1;dragOverAnimationDisposable;dragOverAnimationStopDisposable=J.None;dragOverMouseY=0;setRowLineHeight;setRowHeight;supportDynamicHeights;paddingBottom;accessibilityProvider;scrollWidth;dnd;canDrop=!1;currentDragData;currentDragFeedback;currentDragFeedbackPosition;currentDragFeedbackDisposable=J.None;onDragLeaveTimeout=J.None;disposables=new G;_onDidChangeContentHeight=new L;_onDidChangeContentWidth=new L;onDidChangeContentHeight=N.latch(this._onDidChangeContentHeight.event,void 0,this.disposables);onDidChangeContentWidth=N.latch(this._onDidChangeContentWidth.event,void 0,this.disposables);get contentHeight(){return this.rangeMap.size}get contentWidth(){return this.scrollWidth??0}get onDidScroll(){return this.scrollableElement.onScroll}get onWillScroll(){return this.scrollableElement.onWillScroll}get containerDomNode(){return this.rowsContainer}get scrollableElementDomNode(){return this.scrollableElement.getDomNode()}_horizontalScrolling=!1;get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(e){if(e!==this._horizontalScrolling){if(e&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=e,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(let t of this.items)this.measureItemWidth(t);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:mr(this.domNode)}),this.rowsContainer.style.width=`${Math.max(this.scrollWidth||0,this.renderWidth)}px`}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}}updateOptions(e){e.paddingBottom!==void 0&&(this.paddingBottom=e.paddingBottom,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),e.smoothScrolling!==void 0&&this.scrollable.setSmoothScrollDuration(e.smoothScrolling?125:0),e.horizontalScrolling!==void 0&&(this.horizontalScrolling=e.horizontalScrolling);let t;if(e.scrollByPage!==void 0&&(t={...t??{},scrollByPage:e.scrollByPage}),e.mouseWheelScrollSensitivity!==void 0&&(t={...t??{},mouseWheelScrollSensitivity:e.mouseWheelScrollSensitivity}),e.fastScrollSensitivity!==void 0&&(t={...t??{},fastScrollSensitivity:e.fastScrollSensitivity}),t&&this.scrollableElement.updateOptions(t),e.paddingTop!==void 0&&e.paddingTop!==this.rangeMap.paddingTop){let i=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),o=e.paddingTop-this.rangeMap.paddingTop;this.rangeMap.paddingTop=e.paddingTop,this.render(i,Math.max(0,this.lastRenderTop+o),this.lastRenderHeight,void 0,void 0,!0),this.setScrollTop(this.lastRenderTop),this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.lastRenderTop,this.lastRenderHeight)}}delegateScrollFromMouseWheelEvent(e){this.scrollableElement.delegateScrollFromMouseWheelEvent(e)}delegateVerticalScrollbarPointerDown(e){this.scrollableElement.delegateVerticalScrollbarPointerDown(e)}updateElementHeight(e,t,i){if(e<0||e>=this.items.length)return;let o=this.items[e].size;if(typeof t>"u"){if(!this.supportDynamicHeights){console.warn("Dynamic heights not supported",new Error().stack);return}this.items[e].lastDynamicHeightWidth=void 0,t=o+this.probeDynamicHeight(e)}if(o===t)return;let r=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),s=0;e<r.start||i!==null&&i>e&&i<r.end?s=t-o:s=0,this.rangeMap.splice(e,1,[{size:t}]),this.items[e].size=t,this.render(r,Math.max(0,this.lastRenderTop+s),this.lastRenderHeight,void 0,void 0,!0),this.setScrollTop(this.lastRenderTop),this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.lastRenderTop,this.lastRenderHeight)}createRangeMap(e){return new ed(e)}splice(e,t,i=[]){if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(e,t,i)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice(e,t,i=[]){let o=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),r={start:e,end:e+t},s=xt.intersect(o,r),a=new Map;for(let R=s.end-1;R>=s.start;R--){let K=this.items[R];if(K.dragStartDisposable.dispose(),K.checkedDisposable.dispose(),K.row){let U=a.get(K.templateId);U||(U=[],a.set(K.templateId,U));let O=this.renderers.get(K.templateId);O&&O.disposeElement&&O.disposeElement(K.element,R,K.row.templateData,K.size),U.unshift(K.row)}K.row=null,K.stale=!0}let l={start:e+t,end:this.items.length},c=xt.intersect(l,o),p=xt.relativeComplement(l,o),h=i.map(R=>({id:String(this.itemId++),element:R,templateId:this.virtualDelegate.getTemplateId(R),size:this.virtualDelegate.getHeight(R),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(R),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:J.None,checkedDisposable:J.None,stale:!1})),f;e===0&&t>=this.items.length?(this.rangeMap=this.createRangeMap(this.rangeMap.paddingTop),this.rangeMap.splice(0,0,h),f=this.items,this.items=h):(this.rangeMap.splice(e,t,h),f=this.items.splice(e,t,...h));let T=i.length-t,w=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),b=td(c,T),x=xt.intersect(w,b);for(let R=x.start;R<x.end;R++)this.updateItemInDOM(this.items[R],R);let k=xt.relativeComplement(b,w);for(let R of k)for(let K=R.start;K<R.end;K++)this.removeItemFromDOM(K);let _=p.map(R=>td(R,T)),M=[{start:e,end:e+i.length},..._].map(R=>xt.intersect(w,R)).reverse();for(let R of M)for(let K=R.end-1;K>=R.start;K--){let U=this.items[K],ie=a.get(U.templateId)?.pop();this.insertItemInDOM(K,ie)}for(let R of a.values())for(let K of R)this.cache.release(K);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),f.map(R=>R.element)}eventuallyUpdateScrollDimensions(){this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=`${this._scrollHeight}px`,this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=zt(be(this.domNode),()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null}))}eventuallyUpdateScrollWidth(){if(!this.horizontalScrolling){this.scrollableElementWidthDelayer.cancel();return}this.scrollableElementWidthDelayer.trigger(()=>this.updateScrollWidth())}updateScrollWidth(){if(!this.horizontalScrolling)return;let e=0;for(let t of this.items)typeof t.width<"u"&&(e=Math.max(e,t.width));this.scrollWidth=e,this.scrollableElement.setScrollDimensions({scrollWidth:e===0?0:e+10}),this._onDidChangeContentWidth.fire(this.scrollWidth)}updateWidth(e){if(!this.horizontalScrolling||typeof this.scrollWidth>"u")return;let t=this.items[e];this.measureItemWidth(t),typeof t.width<"u"&&t.width>this.scrollWidth&&(this.scrollWidth=t.width,this.scrollableElement.setScrollDimensions({scrollWidth:this.scrollWidth+10}),this._onDidChangeContentWidth.fire(this.scrollWidth))}rerender(){if(this.supportDynamicHeights){for(let e of this.items)e.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}get firstVisibleIndex(){return this.getRenderRange(this.lastRenderTop,this.lastRenderHeight).start}get firstMostlyVisibleIndex(){let e=this.firstVisibleIndex,t=this.rangeMap.positionAt(e),i=this.rangeMap.positionAt(e+1);return i!==-1&&(i-t)/2+t<this.scrollTop?e+1:e}get lastVisibleIndex(){return this.getRenderRange(this.lastRenderTop,this.lastRenderHeight).end-1}element(e){return this.items[e].element}indexOf(e){return this.items.findIndex(t=>t.element===e)}domElement(e){let t=this.items[e].row;return t&&t.domNode}elementHeight(e){return this.items[e].size}elementTop(e){return this.rangeMap.positionAt(e)}indexAt(e){return this.rangeMap.indexAt(e)}indexAfter(e){return this.rangeMap.indexAfter(e)}layout(e,t){let i={height:typeof e=="number"?e:kl(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,i.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(i),typeof t<"u"&&(this.renderWidth=t,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight)),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:typeof t=="number"?t:mr(this.domNode)})}render(e,t,i,o,r,s=!1){let a=this.getRenderRange(t,i),l=xt.relativeComplement(a,e).reverse(),c=xt.relativeComplement(e,a);if(s){let p=xt.intersect(e,a);for(let h=p.start;h<p.end;h++)this.updateItemInDOM(this.items[h],h)}this.cache.transact(()=>{for(let p of c)for(let h=p.start;h<p.end;h++)this.removeItemFromDOM(h);for(let p of l)for(let h=p.end-1;h>=p.start;h--)this.insertItemInDOM(h)}),o!==void 0&&(this.rowsContainer.style.left=`-${o}px`),this.rowsContainer.style.top=`-${t}px`,this.horizontalScrolling&&r!==void 0&&(this.rowsContainer.style.width=`${Math.max(r,this.renderWidth)}px`),this.lastRenderTop=t,this.lastRenderHeight=i}insertItemInDOM(e,t){let i=this.items[e];if(!i.row)if(t)i.row=t,i.stale=!0;else{let l=this.cache.alloc(i.templateId);i.row=l.row,i.stale||=l.isReusingConnectedDomNode}let o=this.accessibilityProvider.getRole(i.element)||"listitem";i.row.domNode.setAttribute("role",o);let r=this.accessibilityProvider.isChecked(i.element);if(typeof r=="boolean")i.row.domNode.setAttribute("aria-checked",String(!!r));else if(r){let l=c=>i.row.domNode.setAttribute("aria-checked",String(!!c));l(r.value),i.checkedDisposable=r.onDidChange(()=>l(r.value))}if(i.stale||!i.row.domNode.parentElement){let l=this.items.at(e+1)?.row?.domNode??null;(i.row.domNode.parentElement!==this.rowsContainer||i.row.domNode.nextElementSibling!==l)&&this.rowsContainer.insertBefore(i.row.domNode,l),i.stale=!1}this.updateItemInDOM(i,e);let s=this.renderers.get(i.templateId);if(!s)throw new Error(`No renderer found for template id ${i.templateId}`);s?.renderElement(i.element,e,i.row.templateData,i.size);let a=this.dnd.getDragURI(i.element);i.dragStartDisposable.dispose(),i.row.domNode.draggable=!!a,a&&(i.dragStartDisposable=Z(i.row.domNode,"dragstart",l=>this.onDragStart(i.element,a,l))),this.horizontalScrolling&&(this.measureItemWidth(i),this.eventuallyUpdateScrollWidth())}measureItemWidth(e){if(!e.row||!e.row.domNode)return;e.row.domNode.style.width="fit-content",e.width=mr(e.row.domNode);let t=be(e.row.domNode).getComputedStyle(e.row.domNode);t.paddingLeft&&(e.width+=parseFloat(t.paddingLeft)),t.paddingRight&&(e.width+=parseFloat(t.paddingRight)),e.row.domNode.style.width=""}updateItemInDOM(e,t){e.row.domNode.style.top=`${this.elementTop(t)}px`,this.setRowHeight&&(e.row.domNode.style.height=`${e.size}px`),this.setRowLineHeight&&(e.row.domNode.style.lineHeight=`${e.size}px`),e.row.domNode.setAttribute("data-index",`${t}`),e.row.domNode.setAttribute("data-last-element",t===this.length-1?"true":"false"),e.row.domNode.setAttribute("data-parity",t%2===0?"even":"odd"),e.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(e.element,t,this.length))),e.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(e.element,t))),e.row.domNode.setAttribute("id",this.getElementDomId(t)),e.row.domNode.classList.toggle("drop-target",e.dropTarget)}removeItemFromDOM(e){let t=this.items[e];if(t.dragStartDisposable.dispose(),t.checkedDisposable.dispose(),t.row){let i=this.renderers.get(t.templateId);i&&i.disposeElement&&i.disposeElement(t.element,e,t.row.templateData,t.size),this.cache.release(t.row),t.row=null}this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop(e,t){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:e,reuseAnimation:t})}getScrollLeft(){return this.scrollableElement.getScrollPosition().scrollLeft}setScrollLeft(e){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollWidth:this.scrollWidth})),this.scrollableElement.setScrollPosition({scrollLeft:e})}get scrollTop(){return this.getScrollTop()}set scrollTop(e){this.setScrollTop(e)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.paddingBottom}get onMouseClick(){return N.map(this.disposables.add(new re(this.domNode,"click")).event,e=>this.toMouseEvent(e),this.disposables)}get onMouseDblClick(){return N.map(this.disposables.add(new re(this.domNode,"dblclick")).event,e=>this.toMouseEvent(e),this.disposables)}get onMouseMiddleClick(){return N.filter(N.map(this.disposables.add(new re(this.domNode,"auxclick")).event,e=>this.toMouseEvent(e),this.disposables),e=>e.browserEvent.button===1,this.disposables)}get onMouseUp(){return N.map(this.disposables.add(new re(this.domNode,"mouseup")).event,e=>this.toMouseEvent(e),this.disposables)}get onMouseDown(){return N.map(this.disposables.add(new re(this.domNode,"mousedown")).event,e=>this.toMouseEvent(e),this.disposables)}get onMouseOver(){return N.map(this.disposables.add(new re(this.domNode,"mouseover")).event,e=>this.toMouseEvent(e),this.disposables)}get onMouseMove(){return N.map(this.disposables.add(new re(this.domNode,"mousemove")).event,e=>this.toMouseEvent(e),this.disposables)}get onMouseOut(){return N.map(this.disposables.add(new re(this.domNode,"mouseout")).event,e=>this.toMouseEvent(e),this.disposables)}get onContextMenu(){return N.any(N.map(this.disposables.add(new re(this.domNode,"contextmenu")).event,e=>this.toMouseEvent(e),this.disposables),N.map(this.disposables.add(new re(this.domNode,qe.Contextmenu)).event,e=>this.toGestureEvent(e),this.disposables))}get onTouchStart(){return N.map(this.disposables.add(new re(this.domNode,"touchstart")).event,e=>this.toTouchEvent(e),this.disposables)}get onTap(){return N.map(this.disposables.add(new re(this.rowsContainer,qe.Tap)).event,e=>this.toGestureEvent(e),this.disposables)}toMouseEvent(e){let t=this.getItemIndexFromEventTarget(e.target||null),i=typeof t>"u"?void 0:this.items[t],o=i&&i.element;return{browserEvent:e,index:t,element:o}}toTouchEvent(e){let t=this.getItemIndexFromEventTarget(e.target||null),i=typeof t>"u"?void 0:this.items[t],o=i&&i.element;return{browserEvent:e,index:t,element:o}}toGestureEvent(e){let t=this.getItemIndexFromEventTarget(e.initialTarget||null),i=typeof t>"u"?void 0:this.items[t],o=i&&i.element;return{browserEvent:e,index:t,element:o}}toDragEvent(e){let t=this.getItemIndexFromEventTarget(e.target||null),i=typeof t>"u"?void 0:this.items[t],o=i&&i.element,r=this.getTargetSector(e,t);return{browserEvent:e,index:t,element:o,sector:r}}onScroll(e){try{let t=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render(t,e.scrollTop,e.height,e.scrollLeft,e.scrollWidth),this.supportDynamicHeights&&this._rerender(e.scrollTop,e.height,e.inSmoothScrolling)}catch(t){throw console.error("Got bad scroll event:",e),t}}onTouchChange(e){e.preventDefault(),e.stopPropagation(),this.scrollTop-=e.translationY}onDragStart(e,t,i){if(!i.dataTransfer)return;let o=this.dnd.getDragElements(e);if(i.dataTransfer.effectAllowed="copyMove",i.dataTransfer.setData(Ql.TEXT,t),i.dataTransfer.setDragImage){let r;this.dnd.getDragLabel&&(r=this.dnd.getDragLabel(o,i)),typeof r>"u"&&(r=String(o.length));let s=j(".monaco-drag-image");s.textContent=r,(c=>{for(;c&&!c.classList.contains("monaco-workbench");)c=c.parentElement;return c||this.domNode.ownerDocument})(this.domNode).appendChild(s),i.dataTransfer.setDragImage(s,-10,-10),setTimeout(()=>s.remove(),0)}this.domNode.classList.add("dragging"),this.currentDragData=new xi(o),Bo.CurrentDragAndDropData=new mp(o),this.dnd.onDragStart?.(this.currentDragData,i)}onDragOver(e){if(e.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),Bo.CurrentDragAndDropData&&Bo.CurrentDragAndDropData.getData()==="vscode-ui"||(this.setupDragAndDropScrollTopAnimation(e.browserEvent),!e.browserEvent.dataTransfer))return!1;if(!this.currentDragData)if(Bo.CurrentDragAndDropData)this.currentDragData=Bo.CurrentDragAndDropData;else{if(!e.browserEvent.dataTransfer.types)return!1;this.currentDragData=new fp}let t=this.dnd.onDragOver(this.currentDragData,e.element,e.index,e.sector,e.browserEvent);if(this.canDrop=typeof t=="boolean"?t:t.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;e.browserEvent.dataTransfer.dropEffect=typeof t!="boolean"&&t.effect?.type===0?"copy":"move";let i;typeof t!="boolean"&&t.feedback?i=t.feedback:typeof e.index>"u"?i=[-1]:i=[e.index],i=wo(i).filter(r=>r>=-1&&r<this.length).sort((r,s)=>r-s),i=i[0]===-1?[-1]:i;let o=typeof t!="boolean"&&t.effect&&t.effect.position?t.effect.position:"drop-target";if(rx(this.currentDragFeedback,i)&&this.currentDragFeedbackPosition===o)return!0;if(this.currentDragFeedback=i,this.currentDragFeedbackPosition=o,this.currentDragFeedbackDisposable.dispose(),i[0]===-1)this.domNode.classList.add(o),this.rowsContainer.classList.add(o),this.currentDragFeedbackDisposable=ce(()=>{this.domNode.classList.remove(o),this.rowsContainer.classList.remove(o)});else{if(i.length>1&&o!=="drop-target")throw new Error("Can't use multiple feedbacks with position different than 'over'");o==="drop-target-after"&&i[0]<this.length-1&&(i[0]+=1,o="drop-target-before");for(let r of i){let s=this.items[r];s.dropTarget=!0,s.row?.domNode.classList.add(o)}this.currentDragFeedbackDisposable=ce(()=>{for(let r of i){let s=this.items[r];s.dropTarget=!1,s.row?.domNode.classList.remove(o)}})}return!0}onDragLeave(e){this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=ws(()=>this.clearDragOverFeedback(),100,this.disposables),this.currentDragData&&this.dnd.onDragLeave?.(this.currentDragData,e.element,e.index,e.browserEvent)}onDrop(e){if(!this.canDrop)return;let t=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.domNode.classList.remove("dragging"),this.currentDragData=void 0,Bo.CurrentDragAndDropData=void 0,!(!t||!e.browserEvent.dataTransfer)&&(e.browserEvent.preventDefault(),t.update(e.browserEvent.dataTransfer),this.dnd.drop(t,e.element,e.index,e.sector,e.browserEvent))}onDragEnd(e){this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.domNode.classList.remove("dragging"),this.currentDragData=void 0,Bo.CurrentDragAndDropData=void 0,this.dnd.onDragEnd?.(e)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackPosition=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=J.None}setupDragAndDropScrollTopAnimation(e){if(!this.dragOverAnimationDisposable){let t=pg(this.domNode).top;this.dragOverAnimationDisposable=gg(be(this.domNode),this.animateDragAndDropScrollTop.bind(this,t))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=ws(()=>{this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)},1e3,this.disposables),this.dragOverMouseY=e.pageY}animateDragAndDropScrollTop(e){if(this.dragOverMouseY===void 0)return;let t=this.dragOverMouseY-e,i=this.renderHeight-35;t<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(t-35))):t>i&&(this.scrollTop+=Math.min(14,Math.floor(.3*(t-i))))}teardownDragAndDropScrollTopAnimation(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}getTargetSector(e,t){if(t===void 0)return;let i=e.offsetY/this.items[t].size,o=Math.floor(i/.25);return pt(o,0,3)}getItemIndexFromEventTarget(e){let t=this.scrollableElement.getDomNode(),i=e;for(;(_t(i)||mg(i))&&i!==this.rowsContainer&&t.contains(i);){let o=i.getAttribute("data-index");if(o){let r=Number(o);if(!isNaN(r))return r}i=i.parentElement}}getRenderRange(e,t){return{start:this.rangeMap.indexAt(e),end:this.rangeMap.indexAfter(e+t-1)}}_rerender(e,t,i){let o=this.getRenderRange(e,t),r,s;e===this.elementTop(o.start)?(r=o.start,s=0):o.end-o.start>1&&(r=o.start+1,s=this.elementTop(r)-e);let a=0;for(;;){let l=this.getRenderRange(e,t),c=!1;for(let p=l.start;p<l.end;p++){let h=this.probeDynamicHeight(p);h!==0&&this.rangeMap.splice(p,1,[this.items[p]]),a+=h,c=c||h!==0}if(!c){a!==0&&this.eventuallyUpdateScrollDimensions();let p=xt.relativeComplement(o,l);for(let f of p)for(let T=f.start;T<f.end;T++)this.items[T].row&&this.removeItemFromDOM(T);let h=xt.relativeComplement(l,o).reverse();for(let f of h)for(let T=f.end-1;T>=f.start;T--)this.insertItemInDOM(T);for(let f=l.start;f<l.end;f++)this.items[f].row&&this.updateItemInDOM(this.items[f],f);if(typeof r=="number"){let f=this.scrollable.getFutureScrollPosition().scrollTop-e,T=this.elementTop(r)-s+f;this.setScrollTop(T,i)}this._onDidChangeContentHeight.fire(this.contentHeight);return}}}probeDynamicHeight(e){let t=this.items[e];if(this.virtualDelegate.getDynamicHeight){let s=this.virtualDelegate.getDynamicHeight(t.element);if(s!==null){let a=t.size;return t.size=s,t.lastDynamicHeightWidth=this.renderWidth,s-a}}if(!t.hasDynamicHeight||t.lastDynamicHeightWidth===this.renderWidth||this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(t.element))return 0;let i=t.size;if(t.row)return t.row.domNode.style.height="",t.size=t.row.domNode.offsetHeight,t.size===0&&!Cn(t.row.domNode,be(t.row.domNode).document.body)&&console.warn("Measuring item node that is not in DOM! Add ListView to the DOM before measuring row height!",new Error().stack),t.lastDynamicHeightWidth=this.renderWidth,t.size-i;let{row:o}=this.cache.alloc(t.templateId);o.domNode.style.height="",this.rowsContainer.appendChild(o.domNode);let r=this.renderers.get(t.templateId);if(!r)throw new fn("Missing renderer for templateId: "+t.templateId);return r.renderElement(t.element,e,o.templateData,void 0),t.size=o.domNode.offsetHeight,r.disposeElement?.(t.element,e,o.templateData,void 0),this.virtualDelegate.setDynamicHeight?.(t.element,t.size),t.lastDynamicHeightWidth=this.renderWidth,o.domNode.remove(),this.cache.release(o),t.size-i}getElementDomId(e){return`${this.domId}_${e}`}dispose(){for(let e of this.items)if(e.dragStartDisposable.dispose(),e.checkedDisposable.dispose(),e.row){let t=this.renderers.get(e.row.templateId);t&&(t.disposeElement?.(e.element,-1,e.row.templateData,void 0),t.disposeTemplate(e.row.templateData))}this.items=[],this.domNode?.remove(),this.dragOverAnimationDisposable?.dispose(),this.disposables.dispose()}};de([Re],jt.prototype,"onMouseClick",1),de([Re],jt.prototype,"onMouseDblClick",1),de([Re],jt.prototype,"onMouseMiddleClick",1),de([Re],jt.prototype,"onMouseUp",1),de([Re],jt.prototype,"onMouseDown",1),de([Re],jt.prototype,"onMouseOver",1),de([Re],jt.prototype,"onMouseMove",1),de([Re],jt.prototype,"onMouseOut",1),de([Re],jt.prototype,"onContextMenu",1),de([Re],jt.prototype,"onTouchStart",1),de([Re],jt.prototype,"onTap",1);var od=jt;var Yn=class extends Error{constructor(e,t){super(`ListError [${e}] ${t}`)}};var rd=class{constructor(e){this.spliceables=e}splice(e,t,i){this.spliceables.forEach(o=>o.splice(e,t,i))}};var bp=class{constructor(e){this.trait=e}renderedElements=[];get templateId(){return`template:${this.trait.name}`}renderTemplate(e){return e}renderElement(e,t,i){let o=this.renderedElements.findIndex(r=>r.templateData===i);if(o>=0){let r=this.renderedElements[o];this.trait.unrender(i),r.index=t}else{let r={index:t,templateData:i};this.renderedElements.push(r)}this.trait.renderIndex(t,i)}splice(e,t,i){let o=[];for(let r of this.renderedElements)r.index<e?o.push(r):r.index>=e+t&&o.push({index:r.index+i-t,templateData:r.templateData});this.renderedElements=o}renderIndexes(e){for(let{index:t,templateData:i}of this.renderedElements)e.indexOf(t)>-1&&this.trait.renderIndex(t,i)}disposeTemplate(e){let t=this.renderedElements.findIndex(i=>i.templateData===e);t<0||this.renderedElements.splice(t,1)}},Sr=class{constructor(e){this._trait=e}indexes=[];sortedIndexes=[];_onChange=new L;onChange=this._onChange.event;get name(){return this._trait}get renderer(){return new bp(this)}splice(e,t,i){let o=i.length-t,r=e+t,s=[],a=0;for(;a<this.sortedIndexes.length&&this.sortedIndexes[a]<e;)s.push(this.sortedIndexes[a++]);for(let l=0;l<i.length;l++)i[l]&&s.push(l+e);for(;a<this.sortedIndexes.length&&this.sortedIndexes[a]>=r;)s.push(this.sortedIndexes[a++]+o);this.renderer.splice(e,t,i.length),this._set(s,s)}renderIndex(e,t){t.classList.toggle(this._trait,this.contains(e))}unrender(e){e.classList.remove(this._trait)}set(e,t){return this._set(e,[...e].sort(eb),t)}_set(e,t,i){let o=this.indexes,r=this.sortedIndexes;this.indexes=e,this.sortedIndexes=t;let s=Ip(r,e);return this.renderer.renderIndexes(s),this._onChange.fire({indexes:e,browserEvent:i}),o}get(){return this.indexes}contains(e){return Jm(this.sortedIndexes,e,eb)>=0}dispose(){$e(this._onChange)}};de([Re],Sr.prototype,"renderer",1);var vp=class extends Sr{constructor(t){super("selected");this.setAriaSelected=t}renderIndex(t,i){super.renderIndex(t,i),this.setAriaSelected&&(this.contains(t)?i.setAttribute("aria-selected","true"):i.setAttribute("aria-selected","false"))}},ea=class{constructor(e,t,i){this.trait=e;this.view=t;this.identityProvider=i}splice(e,t,i){if(!this.identityProvider)return this.trait.splice(e,t,new Array(i.length).fill(!1));let o=this.trait.get().map(a=>this.identityProvider.getId(this.view.element(a)).toString());if(o.length===0)return this.trait.splice(e,t,new Array(i.length).fill(!1));let r=new Set(o),s=i.map(a=>r.has(this.identityProvider.getId(a).toString()));this.trait.splice(e,t,s)}};function na(n,e){return n.classList.contains(e)?!0:n.classList.contains("monaco-list")||!n.parentElement?!1:na(n.parentElement,e)}function Er(n){return na(n,"monaco-editor")}function tb(n){return na(n,"monaco-custom-toggle")}function nb(n){return na(n,"action-item")}function wr(n){return na(n,"monaco-tree-sticky-row")}function Dr(n){return n.classList.contains("monaco-tree-sticky-container")}function wp(n){return n.tagName==="A"&&n.classList.contains("monaco-button")||n.tagName==="DIV"&&n.classList.contains("monaco-button-dropdown")?!0:n.classList.contains("monaco-list")||!n.parentElement?!1:wp(n.parentElement)}var sd=class{constructor(e,t,i){this.list=e;this.view=t;this.multipleSelectionSupport=i.multipleSelectionSupport,this.disposables.add(this.onKeyDown(o=>{switch(o.keyCode){case 3:return this.onEnter(o);case 16:return this.onUpArrow(o);case 18:return this.onDownArrow(o);case 11:return this.onPageUpArrow(o);case 12:return this.onPageDownArrow(o);case 9:return this.onEscape(o);case 31:this.multipleSelectionSupport&&(ke?o.metaKey:o.ctrlKey)&&this.onCtrlA(o)}}))}disposables=new G;multipleSelectionDisposables=new G;multipleSelectionSupport;get onKeyDown(){return N.chain(this.disposables.add(new re(this.view.domNode,"keydown")).event,e=>e.filter(t=>!$n(t.target)).map(t=>new Be(t)))}updateOptions(e){e.multipleSelectionSupport!==void 0&&(this.multipleSelectionSupport=e.multipleSelectionSupport)}onEnter(e){e.preventDefault(),e.stopPropagation(),this.list.setSelection(this.list.getFocus(),e.browserEvent)}onUpArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusPrevious(1,!1,e.browserEvent);let t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onDownArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusNext(1,!1,e.browserEvent);let t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onPageUpArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusPreviousPage(e.browserEvent);let t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onPageDownArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusNextPage(e.browserEvent);let t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onCtrlA(e){e.preventDefault(),e.stopPropagation(),this.list.setSelection(dt(this.list.length),e.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus()}onEscape(e){this.list.getSelection().length&&(e.preventDefault(),e.stopPropagation(),this.list.setSelection([],e.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus())}dispose(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()}};de([Re],sd.prototype,"onKeyDown",1);var lx=new class{mightProducePrintableCharacter(n){return n.ctrlKey||n.metaKey||n.altKey?!1:n.keyCode>=31&&n.keyCode<=56||n.keyCode>=21&&n.keyCode<=30||n.keyCode>=98&&n.keyCode<=107||n.keyCode>=85&&n.keyCode<=95}},yp=class{constructor(e,t,i,o,r){this.list=e;this.view=t;this.keyboardNavigationLabelProvider=i;this.keyboardNavigationEventFilter=o;this.delegate=r;this.updateOptions(e.options)}enabled=!1;state=0;mode=0;triggered=!1;previouslyFocused=-1;enabledDisposables=new G;disposables=new G;updateOptions(e){e.typeNavigationEnabled??!0?this.enable():this.disable(),this.mode=e.typeNavigationMode??0}trigger(){this.triggered=!this.triggered}enable(){if(this.enabled)return;let e=!1,t=N.chain(this.enabledDisposables.add(new re(this.view.domNode,"keydown")).event,r=>r.filter(s=>!$n(s.target)).filter(()=>this.mode===0||this.triggered).map(s=>new Be(s)).filter(s=>e||this.keyboardNavigationEventFilter(s)).filter(s=>this.delegate.mightProducePrintableCharacter(s)).forEach(s=>Ge.stop(s,!0)).map(s=>s.browserEvent.key)),i=N.debounce(t,()=>null,800,void 0,void 0,void 0,this.enabledDisposables);N.reduce(N.any(t,i),(r,s)=>s===null?null:(r||"")+s,void 0,this.enabledDisposables)(this.onInput,this,this.enabledDisposables),i(this.onClear,this,this.enabledDisposables),t(()=>e=!0,void 0,this.enabledDisposables),i(()=>e=!1,void 0,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){this.enabled&&(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){let e=this.list.getFocus();if(e.length>0&&e[0]===this.previouslyFocused){let t=this.list.options.accessibilityProvider?.getAriaLabel(this.list.element(e[0]));typeof t=="string"?to(t):t&&to(t.get())}this.previouslyFocused=-1}onInput(e){if(!e){this.state=0,this.triggered=!1;return}let t=this.list.getFocus(),i=t.length>0?t[0]:0,o=this.state===0?1:0;this.state=1;for(let r=0;r<this.list.length;r++){let s=(i+r+o)%this.list.length,a=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(s)),l=a&&a.toString();if(this.list.options.typeNavigationEnabled){if(typeof l<"u"){if(Xs(e,l)){this.previouslyFocused=i,this.list.setFocus([s]),this.list.reveal(s);return}let c=Pg(e,l);if(c&&c[0].end-c[0].start>1&&c.length===1){this.previouslyFocused=i,this.list.setFocus([s]),this.list.reveal(s);return}}}else if(typeof l>"u"||Xs(e,l)){this.previouslyFocused=i,this.list.setFocus([s]),this.list.reveal(s);return}}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}},Tp=class{constructor(e,t){this.list=e;this.view=t;let i=N.chain(this.disposables.add(new re(t.domNode,"keydown")).event,r=>r.filter(s=>!$n(s.target)).map(s=>new Be(s)));N.chain(i,r=>r.filter(s=>s.keyCode===2&&!s.ctrlKey&&!s.metaKey&&!s.shiftKey&&!s.altKey))(this.onTab,this,this.disposables)}disposables=new G;onTab(e){if(e.target!==this.view.domNode)return;let t=this.list.getFocus();if(t.length===0)return;let i=this.view.domElement(t[0]);if(!i)return;let o=i.querySelector("[tabIndex]");if(!o||!_t(o)||o.tabIndex===-1)return;let r=be(o).getComputedStyle(o);r.visibility==="hidden"||r.display==="none"||(e.preventDefault(),e.stopPropagation(),o.focus())}dispose(){this.disposables.dispose()}};function Dp(n){return ke?n.browserEvent.metaKey:n.browserEvent.ctrlKey}function Cp(n){return n.browserEvent.shiftKey}function dx(n){return Bu(n)&&n.button===2}var Qg={isSelectionSingleChangeEvent:Dp,isSelectionRangeChangeEvent:Cp},ta=class{constructor(e){this.list=e;e.options.multipleSelectionSupport!==!1&&(this.multipleSelectionController=this.list.options.multipleSelectionController||Qg),this.mouseSupport=typeof e.options.mouseSupport>"u"||!!e.options.mouseSupport,this.mouseSupport&&(e.onMouseDown(this.onMouseDown,this,this.disposables),e.onContextMenu(this.onContextMenu,this,this.disposables),e.onMouseDblClick(this.onDoubleClick,this,this.disposables),e.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(It.addTarget(e.getHTMLElement()))),N.any(e.onMouseClick,e.onMouseMiddleClick,e.onTap)(this.onViewPointer,this,this.disposables)}multipleSelectionController;mouseSupport;disposables=new G;_onPointer=new L;onPointer=this._onPointer.event;updateOptions(e){e.multipleSelectionSupport!==void 0&&(this.multipleSelectionController=void 0,e.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||Qg))}isSelectionSingleChangeEvent(e){return this.multipleSelectionController?this.multipleSelectionController.isSelectionSingleChangeEvent(e):!1}isSelectionRangeChangeEvent(e){return this.multipleSelectionController?this.multipleSelectionController.isSelectionRangeChangeEvent(e):!1}isSelectionChangeEvent(e){return this.isSelectionSingleChangeEvent(e)||this.isSelectionRangeChangeEvent(e)}onMouseDown(e){Er(e.browserEvent.target)||qi()!==e.browserEvent.target&&this.list.domFocus()}onContextMenu(e){if($n(e.browserEvent.target)||Er(e.browserEvent.target))return;let t=typeof e.index>"u"?[]:[e.index];this.list.setFocus(t,e.browserEvent)}onViewPointer(e){if(!this.mouseSupport||$n(e.browserEvent.target)||Er(e.browserEvent.target)||e.browserEvent.isHandledByList)return;e.browserEvent.isHandledByList=!0;let t=e.index;if(typeof t>"u"){this.list.setFocus([],e.browserEvent),this.list.setSelection([],e.browserEvent),this.list.setAnchor(void 0);return}if(this.isSelectionChangeEvent(e))return this.changeSelection(e);this.list.setFocus([t],e.browserEvent),this.list.setAnchor(t),dx(e.browserEvent)||this.list.setSelection([t],e.browserEvent),this._onPointer.fire(e)}onDoubleClick(e){if($n(e.browserEvent.target)||Er(e.browserEvent.target)||this.isSelectionChangeEvent(e)||e.browserEvent.isHandledByList)return;e.browserEvent.isHandledByList=!0;let t=this.list.getFocus();this.list.setSelection(t,e.browserEvent)}changeSelection(e){let t=e.index,i=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(e)){typeof i>"u"&&(i=this.list.getFocus()[0]??t,this.list.setAnchor(i));let o=Math.min(i,t),r=Math.max(i,t),s=dt(o,r+1),a=this.list.getSelection(),l=ux(Ip(a,[i]),i);if(l.length===0)return;let c=Ip(s,px(a,l));this.list.setSelection(c,e.browserEvent),this.list.setFocus([t],e.browserEvent)}else if(this.isSelectionSingleChangeEvent(e)){let o=this.list.getSelection(),r=o.filter(s=>s!==t);this.list.setFocus([t]),this.list.setAnchor(t),o.length===r.length?this.list.setSelection([...r,t],e.browserEvent):this.list.setSelection(r,e.browserEvent)}}dispose(){this.disposables.dispose()}},ad=class{constructor(e,t){this.styleElement=e;this.selectorSuffix=t}style(e){let t=this.selectorSuffix&&`.${this.selectorSuffix}`,i=[];e.listBackground&&i.push(`.monaco-list${t} .monaco-list-rows { background: ${e.listBackground}; }`),e.listFocusBackground&&(i.push(`.monaco-list${t}:focus .monaco-list-row.focused { background-color: ${e.listFocusBackground}; }`),i.push(`.monaco-list${t}:focus .monaco-list-row.focused:hover { background-color: ${e.listFocusBackground}; }`)),e.listFocusForeground&&i.push(`.monaco-list${t}:focus .monaco-list-row.focused { color: ${e.listFocusForeground}; }`),e.listActiveSelectionBackground&&(i.push(`.monaco-list${t}:focus .monaco-list-row.selected { background-color: ${e.listActiveSelectionBackground}; }`),i.push(`.monaco-list${t}:focus .monaco-list-row.selected:hover { background-color: ${e.listActiveSelectionBackground}; }`)),e.listActiveSelectionForeground&&i.push(`.monaco-list${t}:focus .monaco-list-row.selected { color: ${e.listActiveSelectionForeground}; }`),e.listActiveSelectionIconForeground&&i.push(`.monaco-list${t}:focus .monaco-list-row.selected .codicon { color: ${e.listActiveSelectionIconForeground}; }`),e.listFocusAndSelectionBackground&&i.push(`
				.monaco-drag-image,
				.monaco-list${t}:focus .monaco-list-row.selected.focused { background-color: ${e.listFocusAndSelectionBackground}; }
			`),e.listFocusAndSelectionForeground&&i.push(`
				.monaco-drag-image,
				.monaco-list${t}:focus .monaco-list-row.selected.focused { color: ${e.listFocusAndSelectionForeground}; }
			`),e.listInactiveFocusForeground&&(i.push(`.monaco-list${t} .monaco-list-row.focused { color:  ${e.listInactiveFocusForeground}; }`),i.push(`.monaco-list${t} .monaco-list-row.focused:hover { color:  ${e.listInactiveFocusForeground}; }`)),e.listInactiveSelectionIconForeground&&i.push(`.monaco-list${t} .monaco-list-row.focused .codicon { color:  ${e.listInactiveSelectionIconForeground}; }`),e.listInactiveFocusBackground&&(i.push(`.monaco-list${t} .monaco-list-row.focused { background-color:  ${e.listInactiveFocusBackground}; }`),i.push(`.monaco-list${t} .monaco-list-row.focused:hover { background-color:  ${e.listInactiveFocusBackground}; }`)),e.listInactiveSelectionBackground&&(i.push(`.monaco-list${t} .monaco-list-row.selected { background-color:  ${e.listInactiveSelectionBackground}; }`),i.push(`.monaco-list${t} .monaco-list-row.selected:hover { background-color:  ${e.listInactiveSelectionBackground}; }`)),e.listInactiveSelectionForeground&&i.push(`.monaco-list${t} .monaco-list-row.selected { color: ${e.listInactiveSelectionForeground}; }`),e.listHoverBackground&&i.push(`.monaco-list${t}:not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${e.listHoverBackground}; }`),e.listHoverForeground&&i.push(`.monaco-list${t}:not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${e.listHoverForeground}; }`);let o=un(e.listFocusAndSelectionOutline,un(e.listSelectionOutline,e.listFocusOutline??""));o&&i.push(`.monaco-list${t}:focus .monaco-list-row.focused.selected { outline: 1px solid ${o}; outline-offset: -1px;}`),e.listFocusOutline&&i.push(`
				.monaco-drag-image,
				.monaco-list${t}:focus .monaco-list-row.focused { outline: 1px solid ${e.listFocusOutline}; outline-offset: -1px; }
				.monaco-workbench.context-menu-visible .monaco-list${t}.last-focused .monaco-list-row.focused { outline: 1px solid ${e.listFocusOutline}; outline-offset: -1px; }
			`);let r=un(e.listSelectionOutline,e.listInactiveFocusOutline??"");r&&i.push(`.monaco-list${t} .monaco-list-row.focused.selected { outline: 1px dotted ${r}; outline-offset: -1px; }`),e.listSelectionOutline&&i.push(`.monaco-list${t} .monaco-list-row.selected { outline: 1px dotted ${e.listSelectionOutline}; outline-offset: -1px; }`),e.listInactiveFocusOutline&&i.push(`.monaco-list${t} .monaco-list-row.focused { outline: 1px dotted ${e.listInactiveFocusOutline}; outline-offset: -1px; }`),e.listHoverOutline&&i.push(`.monaco-list${t} .monaco-list-row:hover { outline: 1px dashed ${e.listHoverOutline}; outline-offset: -1px; }`),e.listDropOverBackground&&i.push(`
				.monaco-list${t}.drop-target,
				.monaco-list${t} .monaco-list-rows.drop-target,
				.monaco-list${t} .monaco-list-row.drop-target { background-color: ${e.listDropOverBackground} !important; color: inherit !important; }
			`),e.listDropBetweenBackground&&(i.push(`
			.monaco-list${t} .monaco-list-rows.drop-target-before .monaco-list-row:first-child::before,
			.monaco-list${t} .monaco-list-row.drop-target-before::before {
				content: ""; position: absolute; top: 0px; left: 0px; width: 100%; height: 1px;
				background-color: ${e.listDropBetweenBackground};
			}`),i.push(`
			.monaco-list${t} .monaco-list-rows.drop-target-after .monaco-list-row:last-child::after,
			.monaco-list${t} .monaco-list-row.drop-target-after::after {
				content: ""; position: absolute; bottom: 0px; left: 0px; width: 100%; height: 1px;
				background-color: ${e.listDropBetweenBackground};
			}`)),e.tableColumnsBorder&&i.push(`
				.monaco-table > .monaco-split-view2,
				.monaco-table > .monaco-split-view2 .monaco-sash.vertical::before,
				.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2,
				.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: ${e.tableColumnsBorder};
				}

				.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2,
				.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: transparent;
				}
			`),e.tableOddRowsBackgroundColor&&i.push(`
				.monaco-table .monaco-list-row[data-parity=odd]:not(.focused):not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(:focus) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(.focused) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr {
					background-color: ${e.tableOddRowsBackgroundColor};
				}
			`),this.styleElement.textContent=i.join(`
`)}},ld={listFocusBackground:"#7FB0D0",listActiveSelectionBackground:"#0E639C",listActiveSelectionForeground:"#FFFFFF",listActiveSelectionIconForeground:"#FFFFFF",listFocusAndSelectionOutline:"#90C2F9",listFocusAndSelectionBackground:"#094771",listFocusAndSelectionForeground:"#FFFFFF",listInactiveSelectionBackground:"#3F3F46",listInactiveSelectionIconForeground:"#FFFFFF",listHoverBackground:"#2A2D2E",listDropOverBackground:"#383B3D",listDropBetweenBackground:"#EEEEEE",treeIndentGuidesStroke:"#a9a9a9",treeInactiveIndentGuidesStroke:D.fromHex("#a9a9a9").transparent(.4).toString(),tableColumnsBorder:D.fromHex("#cccccc").transparent(.2).toString(),tableOddRowsBackgroundColor:D.fromHex("#cccccc").transparent(.04).toString(),listBackground:void 0,listFocusForeground:void 0,listInactiveSelectionForeground:void 0,listInactiveFocusForeground:void 0,listInactiveFocusBackground:void 0,listHoverForeground:void 0,listFocusOutline:void 0,listInactiveFocusOutline:void 0,listSelectionOutline:void 0,listHoverOutline:void 0,treeStickyScrollBackground:void 0,treeStickyScrollBorder:void 0,treeStickyScrollShadow:void 0},cx={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){},dispose(){}}};function ux(n,e){let t=n.indexOf(e);if(t===-1)return[];let i=[],o=t-1;for(;o>=0&&n[o]===e-(t-o);)i.push(n[o--]);for(i.reverse(),o=t;o<n.length&&n[o]===e+(o-t);)i.push(n[o++]);return i}function Ip(n,e){let t=[],i=0,o=0;for(;i<n.length||o<e.length;)if(i>=n.length)t.push(e[o++]);else if(o>=e.length)t.push(n[i++]);else if(n[i]===e[o]){t.push(n[i]),i++,o++;continue}else n[i]<e[o]?t.push(n[i++]):t.push(e[o++]);return t}function px(n,e){let t=[],i=0,o=0;for(;i<n.length||o<e.length;)if(i>=n.length)t.push(e[o++]);else if(o>=e.length)t.push(n[i++]);else if(n[i]===e[o]){i++,o++;continue}else n[i]<e[o]?t.push(n[i++]):o++;return t}var eb=(n,e)=>n-e,xp=class{constructor(e,t){this._templateId=e;this.renderers=t}get templateId(){return this._templateId}renderTemplate(e){return this.renderers.map(t=>t.renderTemplate(e))}renderElement(e,t,i,o){let r=0;for(let s of this.renderers)s.renderElement(e,t,i[r++],o)}disposeElement(e,t,i,o){let r=0;for(let s of this.renderers)s.disposeElement?.(e,t,i[r],o),r+=1}disposeTemplate(e){let t=0;for(let i of this.renderers)i.disposeTemplate(e[t++])}},Ep=class{constructor(e){this.accessibilityProvider=e}templateId="a18n";renderTemplate(e){return{container:e,disposables:new G}}renderElement(e,t,i){let o=this.accessibilityProvider.getAriaLabel(e),r=o&&typeof o!="string"?o:ns(o);i.disposables.add(di(a=>{this.setAriaLabel(a.readObservable(r),i.container)}));let s=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(e);typeof s=="number"?i.container.setAttribute("aria-level",`${s}`):i.container.removeAttribute("aria-level")}setAriaLabel(e,t){e?t.setAttribute("aria-label",e):t.removeAttribute("aria-label")}disposeElement(e,t,i,o){i.disposables.clear()}disposeTemplate(e){e.disposables.dispose()}},Sp=class{constructor(e,t){this.list=e;this.dnd=t}getDragElements(e){let t=this.list.getSelectedElements();return t.indexOf(e)>-1?t:[e]}getDragURI(e){return this.dnd.getDragURI(e)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e,t)}onDragStart(e,t){this.dnd.onDragStart?.(e,t)}onDragOver(e,t,i,o,r){return this.dnd.onDragOver(e,t,i,o,r)}onDragLeave(e,t,i,o){this.dnd.onDragLeave?.(e,t,i,o)}onDragEnd(e){this.dnd.onDragEnd?.(e)}drop(e,t,i,o,r){this.dnd.drop(e,t,i,o,r)}dispose(){this.dnd.dispose()}},ft=class{constructor(e,t,i,o,r=cx){this.user=e;this._options=r;let s=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?this._options.accessibilityProvider?.getWidgetRole():"list";this.selection=new vp(s!=="listbox");let a=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=r.accessibilityProvider,this.accessibilityProvider&&(a.push(new Ep(this.accessibilityProvider)),this.accessibilityProvider.onDidChangeActiveDescendant?.(this.onDidChangeActiveDescendant,this,this.disposables)),o=o.map(c=>new xp(c.templateId,[...a,c]));let l={...r,dnd:r.dnd&&new Sp(this,r.dnd)};if(this.view=this.createListView(t,i,o,l),this.view.domNode.setAttribute("role",s),r.styleController)this.styleController=r.styleController(this.view.domId);else{let c=cn(this.view.domNode);this.styleController=new ad(c,this.view.domId)}if(this.spliceable=new rd([new ea(this.focus,this.view,r.identityProvider),new ea(this.selection,this.view,r.identityProvider),new ea(this.anchor,this.view,r.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new Tp(this,this.view)),(typeof r.keyboardSupport!="boolean"||r.keyboardSupport)&&(this.keyboardController=new sd(this,this.view,r),this.disposables.add(this.keyboardController)),r.keyboardNavigationLabelProvider){let c=r.keyboardNavigationDelegate||lx;this.typeNavigationController=new yp(this,this.view,r.keyboardNavigationLabelProvider,r.keyboardNavigationEventFilter??(()=>!0),c),this.disposables.add(this.typeNavigationController)}this.mouseController=this.createMouseController(r),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),this._options.multipleSelectionSupport!==!1&&this.view.domNode.setAttribute("aria-multiselectable","true")}focus=new Sr("focused");selection;anchor=new Sr("anchor");eventBufferer=new Mi;view;spliceable;styleController;typeNavigationController;accessibilityProvider;keyboardController;mouseController;_ariaLabel="";disposables=new G;get onDidChangeFocus(){return N.map(this.eventBufferer.wrapEvent(this.focus.onChange),e=>this.toListEvent(e),this.disposables)}get onDidChangeSelection(){return N.map(this.eventBufferer.wrapEvent(this.selection.onChange),e=>this.toListEvent(e),this.disposables)}get domId(){return this.view.domId}get onDidScroll(){return this.view.onDidScroll}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseUp(){return this.view.onMouseUp}get onMouseDown(){return this.view.onMouseDown}get onMouseOver(){return this.view.onMouseOver}get onMouseMove(){return this.view.onMouseMove}get onMouseOut(){return this.view.onMouseOut}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let e=!1,t=N.chain(this.disposables.add(new re(this.view.domNode,"keydown")).event,r=>r.map(s=>new Be(s)).filter(s=>e=s.keyCode===58||s.shiftKey&&s.keyCode===68).map(s=>Ge.stop(s,!0)).filter(()=>!1)),i=N.chain(this.disposables.add(new re(this.view.domNode,"keyup")).event,r=>r.forEach(()=>e=!1).map(s=>new Be(s)).filter(s=>s.keyCode===58||s.shiftKey&&s.keyCode===68).map(s=>Ge.stop(s,!0)).map(({browserEvent:s})=>{let a=this.getFocus(),l=a.length?a[0]:void 0,c=typeof l<"u"?this.view.element(l):void 0,p=typeof l<"u"?this.view.domElement(l):this.view.domNode;return{index:l,element:c,anchor:p,browserEvent:s}})),o=N.chain(this.view.onContextMenu,r=>r.filter(s=>!e).map(({element:s,index:a,browserEvent:l})=>({element:s,index:a,anchor:new Wt(be(this.view.domNode),l),browserEvent:l})));return N.any(t,i,o)}get onKeyDown(){return this.disposables.add(new re(this.view.domNode,"keydown")).event}get onKeyUp(){return this.disposables.add(new re(this.view.domNode,"keyup")).event}get onKeyPress(){return this.disposables.add(new re(this.view.domNode,"keypress")).event}get onDidFocus(){return N.signal(this.disposables.add(new re(this.view.domNode,"focus",!0)).event)}get onDidBlur(){return N.signal(this.disposables.add(new re(this.view.domNode,"blur",!0)).event)}_onDidDispose=new L;onDidDispose=this._onDidDispose.event;createListView(e,t,i,o){return new od(e,t,i,o)}createMouseController(e){return new ta(this)}updateOptions(e={}){this._options={...this._options,...e},this.typeNavigationController?.updateOptions(this._options),this._options.multipleSelectionController!==void 0&&(this._options.multipleSelectionSupport?this.view.domNode.setAttribute("aria-multiselectable","true"):this.view.domNode.removeAttribute("aria-multiselectable")),this.mouseController.updateOptions(e),this.keyboardController?.updateOptions(e),this.view.updateOptions(e)}get options(){return this._options}splice(e,t,i=[]){if(e<0||e>this.view.length)throw new Yn(this.user,`Invalid start index: ${e}`);if(t<0)throw new Yn(this.user,`Invalid delete count: ${t}`);t===0&&i.length===0||this.eventBufferer.bufferEvents(()=>this.spliceable.splice(e,t,i))}updateWidth(e){this.view.updateWidth(e)}updateElementHeight(e,t){this.view.updateElementHeight(e,t,null)}rerender(){this.view.rerender()}element(e){return this.view.element(e)}indexOf(e){return this.view.indexOf(e)}indexAt(e){return this.view.indexAt(e)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get contentWidth(){return this.view.contentWidth}get onDidChangeContentHeight(){return this.view.onDidChangeContentHeight}get onDidChangeContentWidth(){return this.view.onDidChangeContentWidth}get scrollTop(){return this.view.getScrollTop()}set scrollTop(e){this.view.setScrollTop(e)}get scrollLeft(){return this.view.getScrollLeft()}set scrollLeft(e){this.view.setScrollLeft(e)}get scrollHeight(){return this.view.scrollHeight}get renderHeight(){return this.view.renderHeight}get firstVisibleIndex(){return this.view.firstVisibleIndex}get firstMostlyVisibleIndex(){return this.view.firstMostlyVisibleIndex}get lastVisibleIndex(){return this.view.lastVisibleIndex}get ariaLabel(){return this._ariaLabel}set ariaLabel(e){this._ariaLabel=e,this.view.domNode.setAttribute("aria-label",e)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(e,t){this.view.layout(e,t)}triggerTypeNavigation(){this.typeNavigationController?.trigger()}setSelection(e,t){for(let i of e)if(i<0||i>=this.length)throw new Yn(this.user,`Invalid index ${i}`);this.selection.set(e,t)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map(e=>this.view.element(e))}setAnchor(e){if(typeof e>"u"){this.anchor.set([]);return}if(e<0||e>=this.length)throw new Yn(this.user,`Invalid index ${e}`);this.anchor.set([e])}getAnchor(){return this.anchor.get().at(0)}getAnchorElement(){let e=this.getAnchor();return typeof e>"u"?void 0:this.element(e)}setFocus(e,t){for(let i of e)if(i<0||i>=this.length)throw new Yn(this.user,`Invalid index ${i}`);this.focus.set(e,t)}focusNext(e=1,t=!1,i,o){if(this.length===0)return;let r=this.focus.get(),s=this.findNextIndex(r.length>0?r[0]+e:0,t,o);s>-1&&this.setFocus([s],i)}focusPrevious(e=1,t=!1,i,o){if(this.length===0)return;let r=this.focus.get(),s=this.findPreviousIndex(r.length>0?r[0]-e:0,t,o);s>-1&&this.setFocus([s],i)}async focusNextPage(e,t){let i=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);i=i===0?0:i-1;let o=this.getFocus()[0];if(o!==i&&(o===void 0||i>o)){let r=this.findPreviousIndex(i,!1,t);r>-1&&o!==r?this.setFocus([r],e):this.setFocus([i],e)}else{let r=this.view.getScrollTop(),s=r+this.view.renderHeight;i>o&&(s-=this.view.elementHeight(i)),this.view.setScrollTop(s),this.view.getScrollTop()!==r&&(this.setFocus([]),await vi(0),await this.focusNextPage(e,t))}}async focusPreviousPage(e,t,i=()=>0){let o,r=i(),s=this.view.getScrollTop()+r;s===0?o=this.view.indexAt(s):o=this.view.indexAfter(s-1);let a=this.getFocus()[0];if(a!==o&&(a===void 0||a>=o)){let l=this.findNextIndex(o,!1,t);l>-1&&a!==l?this.setFocus([l],e):this.setFocus([o],e)}else{let l=s;this.view.setScrollTop(s-this.view.renderHeight-r),this.view.getScrollTop()+i()!==l&&(this.setFocus([]),await vi(0),await this.focusPreviousPage(e,t,i))}}focusLast(e,t){if(this.length===0)return;let i=this.findPreviousIndex(this.length-1,!1,t);i>-1&&this.setFocus([i],e)}focusFirst(e,t){this.focusNth(0,e,t)}focusNth(e,t,i){if(this.length===0)return;let o=this.findNextIndex(e,!1,i);o>-1&&this.setFocus([o],t)}findNextIndex(e,t=!1,i){for(let o=0;o<this.length;o++){if(e>=this.length&&!t)return-1;if(e=e%this.length,!i||i(this.element(e)))return e;e++}return-1}findPreviousIndex(e,t=!1,i){for(let o=0;o<this.length;o++){if(e<0&&!t)return-1;if(e=(this.length+e%this.length)%this.length,!i||i(this.element(e)))return e;e--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map(e=>this.view.element(e))}reveal(e,t,i=0){if(e<0||e>=this.length)throw new Yn(this.user,`Invalid index ${e}`);let o=this.view.getScrollTop(),r=this.view.elementTop(e),s=this.view.elementHeight(e);if(En(t)){let a=s-this.view.renderHeight+i;this.view.setScrollTop(a*pt(t,0,1)+r-i)}else{let a=r+s,l=o+this.view.renderHeight;r<o+i&&a>=l||(r<o+i||a>=l&&s>=this.view.renderHeight?this.view.setScrollTop(r-i):a>=l&&this.view.setScrollTop(a-this.view.renderHeight))}}getRelativeTop(e,t=0){if(e<0||e>=this.length)throw new Yn(this.user,`Invalid index ${e}`);let i=this.view.getScrollTop(),o=this.view.elementTop(e),r=this.view.elementHeight(e);if(o<i+t||o+r>i+this.view.renderHeight)return null;let s=r-this.view.renderHeight+t;return Math.abs((i+t-o)/s)}isDOMFocused(){return $t(this.view.domNode)}getHTMLElement(){return this.view.domNode}getScrollableElement(){return this.view.scrollableElementDomNode}getElementID(e){return this.view.getElementDomId(e)}getElementTop(e){return this.view.elementTop(e)}style(e){this.styleController.style(e)}toListEvent({indexes:e,browserEvent:t}){return{indexes:e,elements:e.map(i=>this.view.element(i)),browserEvent:t}}_onFocusChange(){let e=this.focus.get();this.view.domNode.classList.toggle("element-focused",e.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){let e=this.focus.get();if(e.length>0){let t;this.accessibilityProvider?.getActiveDescendantId&&(t=this.accessibilityProvider.getActiveDescendantId(this.view.element(e[0]))),this.view.domNode.setAttribute("aria-activedescendant",t||this.view.getElementDomId(e[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){let e=this.selection.get();this.view.domNode.classList.toggle("selection-none",e.length===0),this.view.domNode.classList.toggle("selection-single",e.length===1),this.view.domNode.classList.toggle("selection-multiple",e.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}};de([Re],ft.prototype,"onDidChangeFocus",1),de([Re],ft.prototype,"onDidChangeSelection",1),de([Re],ft.prototype,"onContextMenu",1),de([Re],ft.prototype,"onKeyDown",1),de([Re],ft.prototype,"onKeyUp",1),de([Re],ft.prototype,"onKeyPress",1),de([Re],ft.prototype,"onDidFocus",1),de([Re],ft.prototype,"onDidBlur",1);var _p=class{constructor(e,t){this.renderer=e;this.modelProvider=t}get templateId(){return this.renderer.templateId}renderTemplate(e){return{data:this.renderer.renderTemplate(e),disposable:J.None}}renderElement(e,t,i,o){if(i.disposable?.dispose(),!i.data)return;let r=this.modelProvider();if(r.isResolved(e))return this.renderer.renderElement(r.get(e),e,i.data,o);let s=new Pn,a=r.resolve(e,s.token);i.disposable={dispose:()=>s.cancel()},this.renderer.renderPlaceholder(e,i.data),a.then(l=>this.renderer.renderElement(l,e,i.data,o))}disposeTemplate(e){e.disposable&&(e.disposable.dispose(),e.disposable=void 0),e.data&&(this.renderer.disposeTemplate(e.data),e.data=void 0)}},kp=class{constructor(e,t){this.modelProvider=e;this.accessibilityProvider=t}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(e){let t=this.modelProvider();return t.isResolved(e)?this.accessibilityProvider.getAriaLabel(t.get(e)):null}};function hx(n,e){return{...e,accessibilityProvider:e.accessibilityProvider&&new kp(n,e.accessibilityProvider)}}var dd=class{list;_model;constructor(e,t,i,o,r={}){let s=()=>this.model,a=o.map(l=>new _p(l,s));this.list=new ft(e,t,i,a,hx(s,r))}updateOptions(e){this.list.updateOptions(e)}getHTMLElement(){return this.list.getHTMLElement()}isDOMFocused(){return $t(this.getHTMLElement())}domFocus(){this.list.domFocus()}get onDidFocus(){return this.list.onDidFocus}get onDidBlur(){return this.list.onDidBlur}get widget(){return this.list}get onDidDispose(){return this.list.onDidDispose}get onMouseClick(){return N.map(this.list.onMouseClick,({element:e,index:t,browserEvent:i})=>({element:e===void 0?void 0:this._model.get(e),index:t,browserEvent:i}))}get onMouseDblClick(){return N.map(this.list.onMouseDblClick,({element:e,index:t,browserEvent:i})=>({element:e===void 0?void 0:this._model.get(e),index:t,browserEvent:i}))}get onTap(){return N.map(this.list.onTap,({element:e,index:t,browserEvent:i})=>({element:e===void 0?void 0:this._model.get(e),index:t,browserEvent:i}))}get onPointer(){return N.map(this.list.onPointer,({element:e,index:t,browserEvent:i})=>({element:e===void 0?void 0:this._model.get(e),index:t,browserEvent:i}))}get onDidChangeFocus(){return N.map(this.list.onDidChangeFocus,({elements:e,indexes:t,browserEvent:i})=>({elements:e.map(o=>this._model.get(o)),indexes:t,browserEvent:i}))}get onDidChangeSelection(){return N.map(this.list.onDidChangeSelection,({elements:e,indexes:t,browserEvent:i})=>({elements:e.map(o=>this._model.get(o)),indexes:t,browserEvent:i}))}get onContextMenu(){return N.map(this.list.onContextMenu,({element:e,index:t,anchor:i,browserEvent:o})=>typeof e>"u"?{element:e,index:t,anchor:i,browserEvent:o}:{element:this._model.get(e),index:t,anchor:i,browserEvent:o})}get model(){return this._model}set model(e){this._model=e,this.list.splice(0,this.list.length,dt(e.length))}get length(){return this.list.length}get scrollTop(){return this.list.scrollTop}set scrollTop(e){this.list.scrollTop=e}get scrollLeft(){return this.list.scrollLeft}set scrollLeft(e){this.list.scrollLeft=e}setAnchor(e){this.list.setAnchor(e)}getAnchor(){return this.list.getAnchor()}setFocus(e){this.list.setFocus(e)}focusNext(e,t){this.list.focusNext(e,t)}focusPrevious(e,t){this.list.focusPrevious(e,t)}focusNextPage(){return this.list.focusNextPage()}focusPreviousPage(){return this.list.focusPreviousPage()}focusLast(){this.list.focusLast()}focusFirst(){this.list.focusFirst()}getFocus(){return this.list.getFocus()}setSelection(e,t){this.list.setSelection(e,t)}getSelection(){return this.list.getSelection()}getSelectedElements(){return this.getSelection().map(e=>this.model.get(e))}layout(e,t){this.list.layout(e,t)}triggerTypeNavigation(){this.list.triggerTypeNavigation()}reveal(e,t){this.list.reveal(e,t)}style(e){this.list.style(e)}dispose(){this.list.dispose()}};var mx={showHover:()=>{},hideHover:()=>{},showAndFocusLastHover:()=>{},setupManagedHover:()=>null,showManagedHover:()=>{}};function Yt(){return mx}var fx=()=>({get delay(){return-1},dispose:()=>{},showHover:()=>{}}),Lp=fx,gx=new Ft(()=>Lp("mouse",!1)),bx=new Ft(()=>Lp("element",!1));function ct(n){return n==="element"?bx.value:gx.value}function Ho(){return Lp("element",!0)}var cd=class n{constructor(e,t,i){this.columns=e;this.getColumnSize=i;let o=new Map(t.map(r=>[r.templateId,r]));this.renderers=[];for(let r of e){let s=o.get(r.templateId);if(!s)throw new Error(`Table cell renderer for template id ${r.templateId} not found.`);this.renderers.push(s)}}static TemplateId="row";templateId=n.TemplateId;renderers;renderedTemplates=new Set;renderTemplate(e){let t=se(e,j(".monaco-table-tr")),i=[],o=[];for(let s=0;s<this.columns.length;s++){let a=this.renderers[s],l=se(t,j(".monaco-table-td",{"data-col-index":s}));l.style.width=`${this.getColumnSize(s)}px`,i.push(l),o.push(a.renderTemplate(l))}let r={container:e,cellContainers:i,cellTemplateData:o};return this.renderedTemplates.add(r),r}renderElement(e,t,i,o){for(let r=0;r<this.columns.length;r++){let a=this.columns[r].project(e);this.renderers[r].renderElement(a,t,i.cellTemplateData[r],o)}}disposeElement(e,t,i,o){for(let r=0;r<this.columns.length;r++){let s=this.renderers[r];if(s.disposeElement){let l=this.columns[r].project(e);s.disposeElement(l,t,i.cellTemplateData[r],o)}}}disposeTemplate(e){for(let t=0;t<this.columns.length;t++)this.renderers[t].disposeTemplate(e.cellTemplateData[t]);nt(e.container),this.renderedTemplates.delete(e)}layoutColumn(e,t){for(let{cellContainers:i}of this.renderedTemplates)i[e].style.width=`${t}px`}};function vx(n){return{getHeight(e){return n.getHeight(e)},getTemplateId(){return cd.TemplateId}}}var Ap=class extends J{constructor(t,i){super();this.column=t;this.index=i;this.element=j(".monaco-table-th",{"data-col-index":i},t.label),t.tooltip&&this._register(Yt().setupManagedHover(ct("mouse"),this.element,t.tooltip))}element;get minimumSize(){return this.column.minimumWidth??120}get maximumSize(){return this.column.maximumWidth??Number.POSITIVE_INFINITY}get onDidChange(){return this.column.onDidChangeWidthConstraints??N.None}_onDidLayout=new L;onDidLayout=this._onDidLayout.event;layout(t){this._onDidLayout.fire([this.index,t])}},ud=class n{constructor(e,t,i,o,r,s){this.virtualDelegate=i;this.columns=o;this.domNode=se(t,j(`.monaco-table.${this.domId}`));let a=o.map((p,h)=>this.disposables.add(new Ap(p,h))),l={size:a.reduce((p,h)=>p+h.column.weight,0),views:a.map(p=>({size:p.column.weight,view:p}))};this.splitview=this.disposables.add(new xr(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:()=>this.cachedHeight,descriptor:l})),this.splitview.el.style.height=`${i.headerRowHeight}px`,this.splitview.el.style.lineHeight=`${i.headerRowHeight}px`;let c=new cd(o,r,p=>this.splitview.getViewSize(p));this.list=this.disposables.add(new ft(e,this.domNode,vx(i),[c],s)),N.any(...a.map(p=>p.onDidLayout))(([p,h])=>c.layoutColumn(p,h),null,this.disposables),this.splitview.onDidSashReset(p=>{let h=o.reduce((T,w)=>T+w.weight,0),f=o[p].weight/h*this.cachedWidth;this.splitview.resizeView(p,f)},null,this.disposables),this.styleElement=cn(this.domNode),this.style(ld)}static InstanceCount=0;domId=`table_id_${++n.InstanceCount}`;domNode;splitview;list;styleElement;disposables=new G;cachedWidth=0;cachedHeight=0;get onDidChangeFocus(){return this.list.onDidChangeFocus}get onDidChangeSelection(){return this.list.onDidChangeSelection}get onDidScroll(){return this.list.onDidScroll}get onMouseClick(){return this.list.onMouseClick}get onMouseDblClick(){return this.list.onMouseDblClick}get onMouseMiddleClick(){return this.list.onMouseMiddleClick}get onPointer(){return this.list.onPointer}get onMouseUp(){return this.list.onMouseUp}get onMouseDown(){return this.list.onMouseDown}get onMouseOver(){return this.list.onMouseOver}get onMouseMove(){return this.list.onMouseMove}get onMouseOut(){return this.list.onMouseOut}get onTouchStart(){return this.list.onTouchStart}get onTap(){return this.list.onTap}get onContextMenu(){return this.list.onContextMenu}get onDidFocus(){return this.list.onDidFocus}get onDidBlur(){return this.list.onDidBlur}get scrollTop(){return this.list.scrollTop}set scrollTop(e){this.list.scrollTop=e}get scrollLeft(){return this.list.scrollLeft}set scrollLeft(e){this.list.scrollLeft=e}get scrollHeight(){return this.list.scrollHeight}get renderHeight(){return this.list.renderHeight}get onDidDispose(){return this.list.onDidDispose}getColumnLabels(){return this.columns.map(e=>e.label)}resizeColumn(e,t){let i=Math.round(t/100*this.cachedWidth);this.splitview.resizeView(e,i)}updateOptions(e){this.list.updateOptions(e)}splice(e,t,i=[]){this.list.splice(e,t,i)}rerender(){this.list.rerender()}row(e){return this.list.element(e)}indexOf(e){return this.list.indexOf(e)}get length(){return this.list.length}getHTMLElement(){return this.domNode}layout(e,t){e=e??kl(this.domNode),t=t??mr(this.domNode),this.cachedWidth=t,this.cachedHeight=e,this.splitview.layout(t);let i=e-this.virtualDelegate.headerRowHeight;this.list.getHTMLElement().style.height=`${i}px`,this.list.layout(i,t)}triggerTypeNavigation(){this.list.triggerTypeNavigation()}style(e){let t=[];t.push(`.monaco-table.${this.domId} > .monaco-split-view2 .monaco-sash.vertical::before {
			top: ${this.virtualDelegate.headerRowHeight+1}px;
			height: calc(100% - ${this.virtualDelegate.headerRowHeight}px);
		}`),this.styleElement.textContent=t.join(`
`),this.list.style(e)}domFocus(){this.list.domFocus()}setAnchor(e){this.list.setAnchor(e)}getAnchor(){return this.list.getAnchor()}getSelectedElements(){return this.list.getSelectedElements()}setSelection(e,t){this.list.setSelection(e,t)}getSelection(){return this.list.getSelection()}setFocus(e,t){this.list.setFocus(e,t)}focusNext(e=1,t=!1,i){this.list.focusNext(e,t,i)}focusPrevious(e=1,t=!1,i){this.list.focusPrevious(e,t,i)}focusNextPage(e){return this.list.focusNextPage(e)}focusPreviousPage(e){return this.list.focusPreviousPage(e)}focusFirst(e){this.list.focusFirst(e)}focusLast(e){this.list.focusLast(e)}getFocus(){return this.list.getFocus()}getFocusedElements(){return this.list.getFocusedElements()}getRelativeTop(e){return this.list.getRelativeTop(e)}reveal(e,t){this.list.reveal(e,t)}dispose(){this.disposables.dispose()}};function ib(n,e={}){let t=pd(e);return t.textContent=n,t}function ob(n,e={}){let t=pd(e);return rb(t,yx(n,!!e.renderCodeSegments),e.actionHandler,e.renderCodeSegments),t}function pd(n){let e=n.inline?"span":"div",t=document.createElement(e);return n.className&&(t.className=n.className),t}var Rp=class{source;index;constructor(e){this.source=e,this.index=0}eos(){return this.index>=this.source.length}next(){let e=this.peek();return this.advance(),e}peek(){return this.source[this.index]}advance(){this.index++}};function rb(n,e,t,i){let o;if(e.type===2)o=document.createTextNode(e.content||"");else if(e.type===3)o=document.createElement("b");else if(e.type===4)o=document.createElement("i");else if(e.type===7&&i)o=document.createElement("code");else if(e.type===5&&t){let r=document.createElement("a");t.disposables.add(Ti(r,"click",s=>{t.callback(String(e.index),s)})),o=r}else e.type===8?o=document.createElement("br"):e.type===1&&(o=n);o&&n!==o&&n.appendChild(o),o&&Array.isArray(e.children)&&e.children.forEach(r=>{rb(o,r,t,i)})}function yx(n,e){let t={type:1,children:[]},i=0,o=t,r=[],s=new Rp(n);for(;!s.eos();){let a=s.next(),l=a==="\\"&&Np(s.peek(),e)!==0;if(l&&(a=s.next()),!l&&Tx(a,e)&&a===s.peek()){s.advance(),o.type===2&&(o=r.pop());let c=Np(a,e);if(o.type===c||o.type===5&&c===6)o=r.pop();else{let p={type:c,children:[]};c===5&&(p.index=i,i++),o.children.push(p),r.push(o),o=p}}else if(a===`
`)o.type===2&&(o=r.pop()),o.children.push({type:8});else if(o.type!==2){let c={type:2,content:a};o.children.push(c),r.push(o),o=c}else o.content+=a}return o.type===2&&(o=r.pop()),r.length,t}function Tx(n,e){return Np(n,e)!==0}function Np(n,e){switch(n){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return e?7:0;default:return 0}}var Ix=new RegExp(`(\\\\)?\\$\\((${Te.iconNameExpression}(?:${Te.iconModifierExpression})?)\\)`,"g");function hd(n){let e=new Array,t,i=0,o=0;for(;(t=Ix.exec(n))!==null;){o=t.index||0,i<o&&e.push(n.substring(i,o)),i=(t.index||0)+t[0].length;let[,r,s]=t;e.push(r?`$(${s})`:xx({id:s}))}return i<n.length&&e.push(n.substring(i)),e}function xx(n){let e=j("span");return e.classList.add(...Te.asClassNameArray(n)),e}var Op=class{_prefix;_lastId;constructor(e){this._prefix=e,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}},Fp=new Op("id#");var gt={};(function(){function n(e,t){t(gt)}n.amd=!0,function(e,t){typeof n=="function"&&n.amd?n(["exports"],t):typeof exports=="object"&&typeof module<"u"?t(exports):(e=typeof globalThis<"u"?globalThis:e||self,t(e.marked={}))}(this,function(e){"use strict";function t(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}e.defaults=t();function i(ue){e.defaults=ue}let o=/[&<>"']/,r=new RegExp(o.source,"g"),s=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,a=new RegExp(s.source,"g"),l={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},c=ue=>l[ue];function p(ue,g){if(g){if(o.test(ue))return ue.replace(r,c)}else if(s.test(ue))return ue.replace(a,c);return ue}let h=/(^|[^\[])\^/g;function f(ue,g){let v=typeof ue=="string"?ue:ue.source;g=g||"";let y={replace:(I,E)=>{let C=typeof E=="string"?E:E.source;return C=C.replace(h,"$1"),v=v.replace(I,C),y},getRegex:()=>new RegExp(v,g)};return y}function T(ue){try{ue=encodeURI(ue).replace(/%25/g,"%")}catch{return null}return ue}let w={exec:()=>null};function b(ue,g){let v=ue.replace(/\|/g,(E,C,A)=>{let z=!1,$=C;for(;--$>=0&&A[$]==="\\";)z=!z;return z?"|":" |"}),y=v.split(/ \|/),I=0;if(y[0].trim()||y.shift(),y.length>0&&!y[y.length-1].trim()&&y.pop(),g)if(y.length>g)y.splice(g);else for(;y.length<g;)y.push("");for(;I<y.length;I++)y[I]=y[I].trim().replace(/\\\|/g,"|");return y}function x(ue,g,v){let y=ue.length;if(y===0)return"";let I=0;for(;I<y;){let E=ue.charAt(y-I-1);if(E===g&&!v)I++;else if(E!==g&&v)I++;else break}return ue.slice(0,y-I)}function k(ue,g){if(ue.indexOf(g[1])===-1)return-1;let v=0;for(let y=0;y<ue.length;y++)if(ue[y]==="\\")y++;else if(ue[y]===g[0])v++;else if(ue[y]===g[1]&&(v--,v<0))return y;return-1}function _(ue,g,v,y){let I=g.href,E=g.title?p(g.title):null,C=ue[1].replace(/\\([\[\]])/g,"$1");if(ue[0].charAt(0)!=="!"){y.state.inLink=!0;let A={type:"link",raw:v,href:I,title:E,text:C,tokens:y.inlineTokens(C)};return y.state.inLink=!1,A}return{type:"image",raw:v,href:I,title:E,text:p(C)}}function P(ue,g){let v=ue.match(/^(\s+)(?:```)/);if(v===null)return g;let y=v[1];return g.split(`
`).map(I=>{let E=I.match(/^\s+/);if(E===null)return I;let[C]=E;return C.length>=y.length?I.slice(y.length):I}).join(`
`)}class M{options;rules;lexer;constructor(g){this.options=g||e.defaults}space(g){let v=this.rules.block.newline.exec(g);if(v&&v[0].length>0)return{type:"space",raw:v[0]}}code(g){let v=this.rules.block.code.exec(g);if(v){let y=v[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:v[0],codeBlockStyle:"indented",text:this.options.pedantic?y:x(y,`
`)}}}fences(g){let v=this.rules.block.fences.exec(g);if(v){let y=v[0],I=P(y,v[3]||"");return{type:"code",raw:y,lang:v[2]?v[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):v[2],text:I}}}heading(g){let v=this.rules.block.heading.exec(g);if(v){let y=v[2].trim();if(/#$/.test(y)){let I=x(y,"#");(this.options.pedantic||!I||/ $/.test(I))&&(y=I.trim())}return{type:"heading",raw:v[0],depth:v[1].length,text:y,tokens:this.lexer.inline(y)}}}hr(g){let v=this.rules.block.hr.exec(g);if(v)return{type:"hr",raw:x(v[0],`
`)}}blockquote(g){let v=this.rules.block.blockquote.exec(g);if(v){let y=x(v[0],`
`).split(`
`),I="",E="",C=[];for(;y.length>0;){let A=!1,z=[],$;for($=0;$<y.length;$++)if(/^ {0,3}>/.test(y[$]))z.push(y[$]),A=!0;else if(!A)z.push(y[$]);else break;y=y.slice($);let pe=z.join(`
`),_e=pe.replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,`
    $1`).replace(/^ {0,3}>[ \t]?/gm,"");I=I?`${I}
${pe}`:pe,E=E?`${E}
${_e}`:_e;let Pe=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(_e,C,!0),this.lexer.state.top=Pe,y.length===0)break;let it=C[C.length-1];if(it?.type==="code")break;if(it?.type==="blockquote"){let Ve=it,te=Ve.raw+`
`+y.join(`
`),S=this.blockquote(te);C[C.length-1]=S,I=I.substring(0,I.length-Ve.raw.length)+S.raw,E=E.substring(0,E.length-Ve.text.length)+S.text;break}else if(it?.type==="list"){let Ve=it,te=Ve.raw+`
`+y.join(`
`),S=this.list(te);C[C.length-1]=S,I=I.substring(0,I.length-it.raw.length)+S.raw,E=E.substring(0,E.length-Ve.raw.length)+S.raw,y=te.substring(C[C.length-1].raw.length).split(`
`);continue}}return{type:"blockquote",raw:I,tokens:C,text:E}}}list(g){let v=this.rules.block.list.exec(g);if(v){let y=v[1].trim(),I=y.length>1,E={type:"list",raw:"",ordered:I,start:I?+y.slice(0,-1):"",loose:!1,items:[]};y=I?`\\d{1,9}\\${y.slice(-1)}`:`\\${y}`,this.options.pedantic&&(y=I?y:"[*+-]");let C=new RegExp(`^( {0,3}${y})((?:[	 ][^\\n]*)?(?:\\n|$))`),A=!1;for(;g;){let z=!1,$="",pe="";if(!(v=C.exec(g))||this.rules.block.hr.test(g))break;$=v[0],g=g.substring($.length);let _e=v[2].split(`
`,1)[0].replace(/^\t+/,H=>" ".repeat(3*H.length)),Pe=g.split(`
`,1)[0],it=!_e.trim(),Ve=0;if(this.options.pedantic?(Ve=2,pe=_e.trimStart()):it?Ve=v[1].length+1:(Ve=v[2].search(/[^ ]/),Ve=Ve>4?1:Ve,pe=_e.slice(Ve),Ve+=v[1].length),it&&/^ *$/.test(Pe)&&($+=Pe+`
`,g=g.substring(Pe.length+1),z=!0),!z){let H=new RegExp(`^ {0,${Math.min(3,Ve-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),X=new RegExp(`^ {0,${Math.min(3,Ve-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),Fe=new RegExp(`^ {0,${Math.min(3,Ve-1)}}(?:\`\`\`|~~~)`),at=new RegExp(`^ {0,${Math.min(3,Ve-1)}}#`);for(;g;){let Dt=g.split(`
`,1)[0];if(Pe=Dt,this.options.pedantic&&(Pe=Pe.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),Fe.test(Pe)||at.test(Pe)||H.test(Pe)||X.test(g))break;if(Pe.search(/[^ ]/)>=Ve||!Pe.trim())pe+=`
`+Pe.slice(Ve);else{if(it||_e.search(/[^ ]/)>=4||Fe.test(_e)||at.test(_e)||X.test(_e))break;pe+=`
`+Pe}!it&&!Pe.trim()&&(it=!0),$+=Dt+`
`,g=g.substring(Dt.length+1),_e=Pe.slice(Ve)}}E.loose||(A?E.loose=!0:/\n *\n *$/.test($)&&(A=!0));let te=null,S;this.options.gfm&&(te=/^\[[ xX]\] /.exec(pe),te&&(S=te[0]!=="[ ] ",pe=pe.replace(/^\[[ xX]\] +/,""))),E.items.push({type:"list_item",raw:$,task:!!te,checked:S,loose:!1,text:pe,tokens:[]}),E.raw+=$}E.items[E.items.length-1].raw=E.items[E.items.length-1].raw.trimEnd(),E.items[E.items.length-1].text=E.items[E.items.length-1].text.trimEnd(),E.raw=E.raw.trimEnd();for(let z=0;z<E.items.length;z++)if(this.lexer.state.top=!1,E.items[z].tokens=this.lexer.blockTokens(E.items[z].text,[]),!E.loose){let $=E.items[z].tokens.filter(_e=>_e.type==="space"),pe=$.length>0&&$.some(_e=>/\n.*\n/.test(_e.raw));E.loose=pe}if(E.loose)for(let z=0;z<E.items.length;z++)E.items[z].loose=!0;return E}}html(g){let v=this.rules.block.html.exec(g);if(v)return{type:"html",block:!0,raw:v[0],pre:v[1]==="pre"||v[1]==="script"||v[1]==="style",text:v[0]}}def(g){let v=this.rules.block.def.exec(g);if(v){let y=v[1].toLowerCase().replace(/\s+/g," "),I=v[2]?v[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",E=v[3]?v[3].substring(1,v[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):v[3];return{type:"def",tag:y,raw:v[0],href:I,title:E}}}table(g){let v=this.rules.block.table.exec(g);if(!v||!/[:|]/.test(v[2]))return;let y=b(v[1]),I=v[2].replace(/^\||\| *$/g,"").split("|"),E=v[3]&&v[3].trim()?v[3].replace(/\n[ \t]*$/,"").split(`
`):[],C={type:"table",raw:v[0],header:[],align:[],rows:[]};if(y.length===I.length){for(let A of I)/^ *-+: *$/.test(A)?C.align.push("right"):/^ *:-+: *$/.test(A)?C.align.push("center"):/^ *:-+ *$/.test(A)?C.align.push("left"):C.align.push(null);for(let A=0;A<y.length;A++)C.header.push({text:y[A],tokens:this.lexer.inline(y[A]),header:!0,align:C.align[A]});for(let A of E)C.rows.push(b(A,C.header.length).map((z,$)=>({text:z,tokens:this.lexer.inline(z),header:!1,align:C.align[$]})));return C}}lheading(g){let v=this.rules.block.lheading.exec(g);if(v)return{type:"heading",raw:v[0],depth:v[2].charAt(0)==="="?1:2,text:v[1],tokens:this.lexer.inline(v[1])}}paragraph(g){let v=this.rules.block.paragraph.exec(g);if(v){let y=v[1].charAt(v[1].length-1)===`
`?v[1].slice(0,-1):v[1];return{type:"paragraph",raw:v[0],text:y,tokens:this.lexer.inline(y)}}}text(g){let v=this.rules.block.text.exec(g);if(v)return{type:"text",raw:v[0],text:v[0],tokens:this.lexer.inline(v[0])}}escape(g){let v=this.rules.inline.escape.exec(g);if(v)return{type:"escape",raw:v[0],text:p(v[1])}}tag(g){let v=this.rules.inline.tag.exec(g);if(v)return!this.lexer.state.inLink&&/^<a /i.test(v[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(v[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(v[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(v[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:v[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:v[0]}}link(g){let v=this.rules.inline.link.exec(g);if(v){let y=v[2].trim();if(!this.options.pedantic&&/^</.test(y)){if(!/>$/.test(y))return;let C=x(y.slice(0,-1),"\\");if((y.length-C.length)%2===0)return}else{let C=k(v[2],"()");if(C>-1){let z=(v[0].indexOf("!")===0?5:4)+v[1].length+C;v[2]=v[2].substring(0,C),v[0]=v[0].substring(0,z).trim(),v[3]=""}}let I=v[2],E="";if(this.options.pedantic){let C=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(I);C&&(I=C[1],E=C[3])}else E=v[3]?v[3].slice(1,-1):"";return I=I.trim(),/^</.test(I)&&(this.options.pedantic&&!/>$/.test(y)?I=I.slice(1):I=I.slice(1,-1)),_(v,{href:I&&I.replace(this.rules.inline.anyPunctuation,"$1"),title:E&&E.replace(this.rules.inline.anyPunctuation,"$1")},v[0],this.lexer)}}reflink(g,v){let y;if((y=this.rules.inline.reflink.exec(g))||(y=this.rules.inline.nolink.exec(g))){let I=(y[2]||y[1]).replace(/\s+/g," "),E=v[I.toLowerCase()];if(!E){let C=y[0].charAt(0);return{type:"text",raw:C,text:C}}return _(y,E,y[0],this.lexer)}}emStrong(g,v,y=""){let I=this.rules.inline.emStrongLDelim.exec(g);if(!I||I[3]&&y.match(/[\p{L}\p{N}]/u))return;if(!(I[1]||I[2]||"")||!y||this.rules.inline.punctuation.exec(y)){let C=[...I[0]].length-1,A,z,$=C,pe=0,_e=I[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(_e.lastIndex=0,v=v.slice(-1*g.length+C);(I=_e.exec(v))!=null;){if(A=I[1]||I[2]||I[3]||I[4]||I[5]||I[6],!A)continue;if(z=[...A].length,I[3]||I[4]){$+=z;continue}else if((I[5]||I[6])&&C%3&&!((C+z)%3)){pe+=z;continue}if($-=z,$>0)continue;z=Math.min(z,z+$+pe);let Pe=[...I[0]][0].length,it=g.slice(0,C+I.index+Pe+z);if(Math.min(C,z)%2){let te=it.slice(1,-1);return{type:"em",raw:it,text:te,tokens:this.lexer.inlineTokens(te)}}let Ve=it.slice(2,-2);return{type:"strong",raw:it,text:Ve,tokens:this.lexer.inlineTokens(Ve)}}}}codespan(g){let v=this.rules.inline.code.exec(g);if(v){let y=v[2].replace(/\n/g," "),I=/[^ ]/.test(y),E=/^ /.test(y)&&/ $/.test(y);return I&&E&&(y=y.substring(1,y.length-1)),y=p(y,!0),{type:"codespan",raw:v[0],text:y}}}br(g){let v=this.rules.inline.br.exec(g);if(v)return{type:"br",raw:v[0]}}del(g){let v=this.rules.inline.del.exec(g);if(v)return{type:"del",raw:v[0],text:v[2],tokens:this.lexer.inlineTokens(v[2])}}autolink(g){let v=this.rules.inline.autolink.exec(g);if(v){let y,I;return v[2]==="@"?(y=p(v[1]),I="mailto:"+y):(y=p(v[1]),I=y),{type:"link",raw:v[0],text:y,href:I,tokens:[{type:"text",raw:y,text:y}]}}}url(g){let v;if(v=this.rules.inline.url.exec(g)){let y,I;if(v[2]==="@")y=p(v[0]),I="mailto:"+y;else{let E;do E=v[0],v[0]=this.rules.inline._backpedal.exec(v[0])?.[0]??"";while(E!==v[0]);y=p(v[0]),v[1]==="www."?I="http://"+v[0]:I=v[0]}return{type:"link",raw:v[0],text:y,href:I,tokens:[{type:"text",raw:y,text:y}]}}}inlineText(g){let v=this.rules.inline.text.exec(g);if(v){let y;return this.lexer.state.inRawBlock?y=v[0]:y=p(v[0]),{type:"text",raw:v[0],text:y}}}}let R=/^(?: *(?:\n|$))+/,K=/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,U=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,O=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,ie=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,Se=/(?:[*+-]|\d{1,9}[.)])/,ge=f(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,Se).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),le=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,wt=/^[^\n]+/,Xt=/(?!\s*\])(?:\\.|[^\[\]\\])+/,ne=f(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",Xt).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),V=f(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Se).getRegex(),Q="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",q=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Y=f("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",q).replace("tag",Q).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),ve=f(le).replace("hr",O).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Q).getRegex(),ze={blockquote:f(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",ve).getRegex(),code:K,def:ne,fences:U,heading:ie,hr:O,html:Y,lheading:ge,list:V,newline:R,paragraph:ve,table:w,text:wt},xe=f("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",O).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Q).getRegex(),oe={...ze,table:xe,paragraph:f(le).replace("hr",O).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",xe).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Q).getRegex()},Rn={...ze,html:f(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",q).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:w,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:f(le).replace("hr",O).replace("heading",` *#{1,6} *[^
]`).replace("lheading",ge).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},mn=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Li=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,Nn=/^( {2,}|\\)\n(?!\s*$)/,Jo=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Bt="\\p{P}\\p{S}",ii=f(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,Bt).getRegex(),Jr=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,Zr=f(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,Bt).getRegex(),Ai=f("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,Bt).getRegex(),Zo=f("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,Bt).getRegex(),Qo=f(/\\([punct])/,"gu").replace(/punct/g,Bt).getRegex(),Aa=f(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Ra=f(q).replace("(?:-->|$)","-->").getRegex(),Ec=f("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Ra).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Ri=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,bo=f(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",Ri).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),oi=f(/^!?\[(label)\]\[(ref)\]/).replace("label",Ri).replace("ref",Xt).getRegex(),ri=f(/^!?\[(ref)\](?:\[\])?/).replace("ref",Xt).getRegex(),Na=f("reflink|nolink(?!\\()","g").replace("reflink",oi).replace("nolink",ri).getRegex(),er={_backpedal:w,anyPunctuation:Qo,autolink:Aa,blockSkip:Jr,br:Nn,code:Li,del:w,emStrongLDelim:Zr,emStrongRDelimAst:Ai,emStrongRDelimUnd:Zo,escape:mn,link:bo,nolink:ri,punctuation:ii,reflink:oi,reflinkSearch:Na,tag:Ec,text:Jo,url:w},Oa={...er,link:f(/^!?\[(label)\]\((.*?)\)/).replace("label",Ri).getRegex(),reflink:f(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Ri).getRegex()},vo={...er,escape:f(mn).replace("])","~|])").getRegex(),url:f(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},Fa={...vo,br:f(Nn).replace("{2,}","*").getRegex(),text:f(vo.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},si={normal:ze,gfm:oe,pedantic:Rn},On={normal:er,gfm:vo,breaks:Fa,pedantic:Oa};class st{tokens;options;state;tokenizer;inlineQueue;constructor(g){this.tokens=[],this.tokens.links=Object.create(null),this.options=g||e.defaults,this.options.tokenizer=this.options.tokenizer||new M,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let v={block:si.normal,inline:On.normal};this.options.pedantic?(v.block=si.pedantic,v.inline=On.pedantic):this.options.gfm&&(v.block=si.gfm,this.options.breaks?v.inline=On.breaks:v.inline=On.gfm),this.tokenizer.rules=v}static get rules(){return{block:si,inline:On}}static lex(g,v){return new st(v).lex(g)}static lexInline(g,v){return new st(v).inlineTokens(g)}lex(g){g=g.replace(/\r\n|\r/g,`
`),this.blockTokens(g,this.tokens);for(let v=0;v<this.inlineQueue.length;v++){let y=this.inlineQueue[v];this.inlineTokens(y.src,y.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(g,v=[],y=!1){this.options.pedantic?g=g.replace(/\t/g,"    ").replace(/^ +$/gm,""):g=g.replace(/^( *)(\t+)/gm,(A,z,$)=>z+"    ".repeat($.length));let I,E,C;for(;g;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(A=>(I=A.call({lexer:this},g,v))?(g=g.substring(I.raw.length),v.push(I),!0):!1))){if(I=this.tokenizer.space(g)){g=g.substring(I.raw.length),I.raw.length===1&&v.length>0?v[v.length-1].raw+=`
`:v.push(I);continue}if(I=this.tokenizer.code(g)){g=g.substring(I.raw.length),E=v[v.length-1],E&&(E.type==="paragraph"||E.type==="text")?(E.raw+=`
`+I.raw,E.text+=`
`+I.text,this.inlineQueue[this.inlineQueue.length-1].src=E.text):v.push(I);continue}if(I=this.tokenizer.fences(g)){g=g.substring(I.raw.length),v.push(I);continue}if(I=this.tokenizer.heading(g)){g=g.substring(I.raw.length),v.push(I);continue}if(I=this.tokenizer.hr(g)){g=g.substring(I.raw.length),v.push(I);continue}if(I=this.tokenizer.blockquote(g)){g=g.substring(I.raw.length),v.push(I);continue}if(I=this.tokenizer.list(g)){g=g.substring(I.raw.length),v.push(I);continue}if(I=this.tokenizer.html(g)){g=g.substring(I.raw.length),v.push(I);continue}if(I=this.tokenizer.def(g)){g=g.substring(I.raw.length),E=v[v.length-1],E&&(E.type==="paragraph"||E.type==="text")?(E.raw+=`
`+I.raw,E.text+=`
`+I.raw,this.inlineQueue[this.inlineQueue.length-1].src=E.text):this.tokens.links[I.tag]||(this.tokens.links[I.tag]={href:I.href,title:I.title});continue}if(I=this.tokenizer.table(g)){g=g.substring(I.raw.length),v.push(I);continue}if(I=this.tokenizer.lheading(g)){g=g.substring(I.raw.length),v.push(I);continue}if(C=g,this.options.extensions&&this.options.extensions.startBlock){let A=1/0,z=g.slice(1),$;this.options.extensions.startBlock.forEach(pe=>{$=pe.call({lexer:this},z),typeof $=="number"&&$>=0&&(A=Math.min(A,$))}),A<1/0&&A>=0&&(C=g.substring(0,A+1))}if(this.state.top&&(I=this.tokenizer.paragraph(C))){E=v[v.length-1],y&&E?.type==="paragraph"?(E.raw+=`
`+I.raw,E.text+=`
`+I.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=E.text):v.push(I),y=C.length!==g.length,g=g.substring(I.raw.length);continue}if(I=this.tokenizer.text(g)){g=g.substring(I.raw.length),E=v[v.length-1],E&&E.type==="text"?(E.raw+=`
`+I.raw,E.text+=`
`+I.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=E.text):v.push(I);continue}if(g){let A="Infinite loop on byte: "+g.charCodeAt(0);if(this.options.silent){console.error(A);break}else throw new Error(A)}}return this.state.top=!0,v}inline(g,v=[]){return this.inlineQueue.push({src:g,tokens:v}),v}inlineTokens(g,v=[]){let y,I,E,C=g,A,z,$;if(this.tokens.links){let pe=Object.keys(this.tokens.links);if(pe.length>0)for(;(A=this.tokenizer.rules.inline.reflinkSearch.exec(C))!=null;)pe.includes(A[0].slice(A[0].lastIndexOf("[")+1,-1))&&(C=C.slice(0,A.index)+"["+"a".repeat(A[0].length-2)+"]"+C.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(A=this.tokenizer.rules.inline.blockSkip.exec(C))!=null;)C=C.slice(0,A.index)+"["+"a".repeat(A[0].length-2)+"]"+C.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(A=this.tokenizer.rules.inline.anyPunctuation.exec(C))!=null;)C=C.slice(0,A.index)+"++"+C.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;g;)if(z||($=""),z=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(pe=>(y=pe.call({lexer:this},g,v))?(g=g.substring(y.raw.length),v.push(y),!0):!1))){if(y=this.tokenizer.escape(g)){g=g.substring(y.raw.length),v.push(y);continue}if(y=this.tokenizer.tag(g)){g=g.substring(y.raw.length),I=v[v.length-1],I&&y.type==="text"&&I.type==="text"?(I.raw+=y.raw,I.text+=y.text):v.push(y);continue}if(y=this.tokenizer.link(g)){g=g.substring(y.raw.length),v.push(y);continue}if(y=this.tokenizer.reflink(g,this.tokens.links)){g=g.substring(y.raw.length),I=v[v.length-1],I&&y.type==="text"&&I.type==="text"?(I.raw+=y.raw,I.text+=y.text):v.push(y);continue}if(y=this.tokenizer.emStrong(g,C,$)){g=g.substring(y.raw.length),v.push(y);continue}if(y=this.tokenizer.codespan(g)){g=g.substring(y.raw.length),v.push(y);continue}if(y=this.tokenizer.br(g)){g=g.substring(y.raw.length),v.push(y);continue}if(y=this.tokenizer.del(g)){g=g.substring(y.raw.length),v.push(y);continue}if(y=this.tokenizer.autolink(g)){g=g.substring(y.raw.length),v.push(y);continue}if(!this.state.inLink&&(y=this.tokenizer.url(g))){g=g.substring(y.raw.length),v.push(y);continue}if(E=g,this.options.extensions&&this.options.extensions.startInline){let pe=1/0,_e=g.slice(1),Pe;this.options.extensions.startInline.forEach(it=>{Pe=it.call({lexer:this},_e),typeof Pe=="number"&&Pe>=0&&(pe=Math.min(pe,Pe))}),pe<1/0&&pe>=0&&(E=g.substring(0,pe+1))}if(y=this.tokenizer.inlineText(E)){g=g.substring(y.raw.length),y.raw.slice(-1)!=="_"&&($=y.raw.slice(-1)),z=!0,I=v[v.length-1],I&&I.type==="text"?(I.raw+=y.raw,I.text+=y.text):v.push(y);continue}if(g){let pe="Infinite loop on byte: "+g.charCodeAt(0);if(this.options.silent){console.error(pe);break}else throw new Error(pe)}}return v}}class sn{options;parser;constructor(g){this.options=g||e.defaults}space(g){return""}code({text:g,lang:v,escaped:y}){let I=(v||"").match(/^\S*/)?.[0],E=g.replace(/\n$/,"")+`
`;return I?'<pre><code class="language-'+p(I)+'">'+(y?E:p(E,!0))+`</code></pre>
`:"<pre><code>"+(y?E:p(E,!0))+`</code></pre>
`}blockquote({tokens:g}){return`<blockquote>
${this.parser.parse(g)}</blockquote>
`}html({text:g}){return g}heading({tokens:g,depth:v}){return`<h${v}>${this.parser.parseInline(g)}</h${v}>
`}hr(g){return`<hr>
`}list(g){let v=g.ordered,y=g.start,I="";for(let A=0;A<g.items.length;A++){let z=g.items[A];I+=this.listitem(z)}let E=v?"ol":"ul",C=v&&y!==1?' start="'+y+'"':"";return"<"+E+C+`>
`+I+"</"+E+`>
`}listitem(g){let v="";if(g.task){let y=this.checkbox({checked:!!g.checked});g.loose?g.tokens.length>0&&g.tokens[0].type==="paragraph"?(g.tokens[0].text=y+" "+g.tokens[0].text,g.tokens[0].tokens&&g.tokens[0].tokens.length>0&&g.tokens[0].tokens[0].type==="text"&&(g.tokens[0].tokens[0].text=y+" "+g.tokens[0].tokens[0].text)):g.tokens.unshift({type:"text",raw:y+" ",text:y+" "}):v+=y+" "}return v+=this.parser.parse(g.tokens,!!g.loose),`<li>${v}</li>
`}checkbox({checked:g}){return"<input "+(g?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:g}){return`<p>${this.parser.parseInline(g)}</p>
`}table(g){let v="",y="";for(let E=0;E<g.header.length;E++)y+=this.tablecell(g.header[E]);v+=this.tablerow({text:y});let I="";for(let E=0;E<g.rows.length;E++){let C=g.rows[E];y="";for(let A=0;A<C.length;A++)y+=this.tablecell(C[A]);I+=this.tablerow({text:y})}return I&&(I=`<tbody>${I}</tbody>`),`<table>
<thead>
`+v+`</thead>
`+I+`</table>
`}tablerow({text:g}){return`<tr>
${g}</tr>
`}tablecell(g){let v=this.parser.parseInline(g.tokens),y=g.header?"th":"td";return(g.align?`<${y} align="${g.align}">`:`<${y}>`)+v+`</${y}>
`}strong({tokens:g}){return`<strong>${this.parser.parseInline(g)}</strong>`}em({tokens:g}){return`<em>${this.parser.parseInline(g)}</em>`}codespan({text:g}){return`<code>${g}</code>`}br(g){return"<br>"}del({tokens:g}){return`<del>${this.parser.parseInline(g)}</del>`}link({href:g,title:v,tokens:y}){let I=this.parser.parseInline(y),E=T(g);if(E===null)return I;g=E;let C='<a href="'+g+'"';return v&&(C+=' title="'+v+'"'),C+=">"+I+"</a>",C}image({href:g,title:v,text:y}){let I=T(g);if(I===null)return y;g=I;let E=`<img src="${g}" alt="${y}"`;return v&&(E+=` title="${v}"`),E+=">",E}text(g){return"tokens"in g&&g.tokens?this.parser.parseInline(g.tokens):g.text}}class Ni{strong({text:g}){return g}em({text:g}){return g}codespan({text:g}){return g}del({text:g}){return g}html({text:g}){return g}text({text:g}){return g}link({text:g}){return""+g}image({text:g}){return""+g}br(){return""}}class Rt{options;renderer;textRenderer;constructor(g){this.options=g||e.defaults,this.options.renderer=this.options.renderer||new sn,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Ni}static parse(g,v){return new Rt(v).parse(g)}static parseInline(g,v){return new Rt(v).parseInline(g)}parse(g,v=!0){let y="";for(let I=0;I<g.length;I++){let E=g[I];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[E.type]){let A=E,z=this.options.extensions.renderers[A.type].call({parser:this},A);if(z!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(A.type)){y+=z||"";continue}}let C=E;switch(C.type){case"space":{y+=this.renderer.space(C);continue}case"hr":{y+=this.renderer.hr(C);continue}case"heading":{y+=this.renderer.heading(C);continue}case"code":{y+=this.renderer.code(C);continue}case"table":{y+=this.renderer.table(C);continue}case"blockquote":{y+=this.renderer.blockquote(C);continue}case"list":{y+=this.renderer.list(C);continue}case"html":{y+=this.renderer.html(C);continue}case"paragraph":{y+=this.renderer.paragraph(C);continue}case"text":{let A=C,z=this.renderer.text(A);for(;I+1<g.length&&g[I+1].type==="text";)A=g[++I],z+=`
`+this.renderer.text(A);v?y+=this.renderer.paragraph({type:"paragraph",raw:z,text:z,tokens:[{type:"text",raw:z,text:z}]}):y+=z;continue}default:{let A='Token with "'+C.type+'" type was not found.';if(this.options.silent)return console.error(A),"";throw new Error(A)}}}return y}parseInline(g,v){v=v||this.renderer;let y="";for(let I=0;I<g.length;I++){let E=g[I];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[E.type]){let A=this.options.extensions.renderers[E.type].call({parser:this},E);if(A!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(E.type)){y+=A||"";continue}}let C=E;switch(C.type){case"escape":{y+=v.text(C);break}case"html":{y+=v.html(C);break}case"link":{y+=v.link(C);break}case"image":{y+=v.image(C);break}case"strong":{y+=v.strong(C);break}case"em":{y+=v.em(C);break}case"codespan":{y+=v.codespan(C);break}case"br":{y+=v.br(C);break}case"del":{y+=v.del(C);break}case"text":{y+=v.text(C);break}default:{let A='Token with "'+C.type+'" type was not found.';if(this.options.silent)return console.error(A),"";throw new Error(A)}}}return y}}class yo{options;constructor(g){this.options=g||e.defaults}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(g){return g}postprocess(g){return g}processAllTokens(g){return g}}class Fn{defaults=t();options=this.setOptions;parse=this.parseMarkdown(st.lex,Rt.parse);parseInline=this.parseMarkdown(st.lexInline,Rt.parseInline);Parser=Rt;Renderer=sn;TextRenderer=Ni;Lexer=st;Tokenizer=M;Hooks=yo;constructor(...g){this.use(...g)}walkTokens(g,v){let y=[];for(let I of g)switch(y=y.concat(v.call(this,I)),I.type){case"table":{let E=I;for(let C of E.header)y=y.concat(this.walkTokens(C.tokens,v));for(let C of E.rows)for(let A of C)y=y.concat(this.walkTokens(A.tokens,v));break}case"list":{let E=I;y=y.concat(this.walkTokens(E.items,v));break}default:{let E=I;this.defaults.extensions?.childTokens?.[E.type]?this.defaults.extensions.childTokens[E.type].forEach(C=>{let A=E[C].flat(1/0);y=y.concat(this.walkTokens(A,v))}):E.tokens&&(y=y.concat(this.walkTokens(E.tokens,v)))}}return y}use(...g){let v=this.defaults.extensions||{renderers:{},childTokens:{}};return g.forEach(y=>{let I={...y};if(I.async=this.defaults.async||I.async||!1,y.extensions&&(y.extensions.forEach(E=>{if(!E.name)throw new Error("extension name required");if("renderer"in E){let C=v.renderers[E.name];C?v.renderers[E.name]=function(...A){let z=E.renderer.apply(this,A);return z===!1&&(z=C.apply(this,A)),z}:v.renderers[E.name]=E.renderer}if("tokenizer"in E){if(!E.level||E.level!=="block"&&E.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let C=v[E.level];C?C.unshift(E.tokenizer):v[E.level]=[E.tokenizer],E.start&&(E.level==="block"?v.startBlock?v.startBlock.push(E.start):v.startBlock=[E.start]:E.level==="inline"&&(v.startInline?v.startInline.push(E.start):v.startInline=[E.start]))}"childTokens"in E&&E.childTokens&&(v.childTokens[E.name]=E.childTokens)}),I.extensions=v),y.renderer){let E=this.defaults.renderer||new sn(this.defaults);for(let C in y.renderer){if(!(C in E))throw new Error(`renderer '${C}' does not exist`);if(["options","parser"].includes(C))continue;let A=C,z=y.renderer[A],$=E[A];E[A]=(...pe)=>{let _e=z.apply(E,pe);return _e===!1&&(_e=$.apply(E,pe)),_e||""}}I.renderer=E}if(y.tokenizer){let E=this.defaults.tokenizer||new M(this.defaults);for(let C in y.tokenizer){if(!(C in E))throw new Error(`tokenizer '${C}' does not exist`);if(["options","rules","lexer"].includes(C))continue;let A=C,z=y.tokenizer[A],$=E[A];E[A]=(...pe)=>{let _e=z.apply(E,pe);return _e===!1&&(_e=$.apply(E,pe)),_e}}I.tokenizer=E}if(y.hooks){let E=this.defaults.hooks||new yo;for(let C in y.hooks){if(!(C in E))throw new Error(`hook '${C}' does not exist`);if(C==="options")continue;let A=C,z=y.hooks[A],$=E[A];yo.passThroughHooks.has(C)?E[A]=pe=>{if(this.defaults.async)return Promise.resolve(z.call(E,pe)).then(Pe=>$.call(E,Pe));let _e=z.call(E,pe);return $.call(E,_e)}:E[A]=(...pe)=>{let _e=z.apply(E,pe);return _e===!1&&(_e=$.apply(E,pe)),_e}}I.hooks=E}if(y.walkTokens){let E=this.defaults.walkTokens,C=y.walkTokens;I.walkTokens=function(A){let z=[];return z.push(C.call(this,A)),E&&(z=z.concat(E.call(this,A))),z}}this.defaults={...this.defaults,...I}}),this}setOptions(g){return this.defaults={...this.defaults,...g},this}lexer(g,v){return st.lex(g,v??this.defaults)}parser(g,v){return Rt.parse(g,v??this.defaults)}parseMarkdown(g,v){return(I,E)=>{let C={...E},A={...this.defaults,...C},z=this.onError(!!A.silent,!!A.async);if(this.defaults.async===!0&&C.async===!1)return z(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof I>"u"||I===null)return z(new Error("marked(): input parameter is undefined or null"));if(typeof I!="string")return z(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(I)+", string expected"));if(A.hooks&&(A.hooks.options=A),A.async)return Promise.resolve(A.hooks?A.hooks.preprocess(I):I).then($=>g($,A)).then($=>A.hooks?A.hooks.processAllTokens($):$).then($=>A.walkTokens?Promise.all(this.walkTokens($,A.walkTokens)).then(()=>$):$).then($=>v($,A)).then($=>A.hooks?A.hooks.postprocess($):$).catch(z);try{A.hooks&&(I=A.hooks.preprocess(I));let $=g(I,A);A.hooks&&($=A.hooks.processAllTokens($)),A.walkTokens&&this.walkTokens($,A.walkTokens);let pe=v($,A);return A.hooks&&(pe=A.hooks.postprocess(pe)),pe}catch($){return z($)}}}onError(g,v){return y=>{if(y.message+=`
Please report this to https://github.com/markedjs/marked.`,g){let I="<p>An error occurred:</p><pre>"+p(y.message+"",!0)+"</pre>";return v?Promise.resolve(I):I}if(v)return Promise.reject(y);throw y}}}let ai=new Fn;function Oe(ue,g){return ai.parse(ue,g)}Oe.options=Oe.setOptions=function(ue){return ai.setOptions(ue),Oe.defaults=ai.defaults,i(Oe.defaults),Oe},Oe.getDefaults=t,Oe.defaults=e.defaults,Oe.use=function(...ue){return ai.use(...ue),Oe.defaults=ai.defaults,i(Oe.defaults),Oe},Oe.walkTokens=function(ue,g){return ai.walkTokens(ue,g)},Oe.parseInline=ai.parseInline,Oe.Parser=Rt,Oe.parser=Rt.parse,Oe.Renderer=sn,Oe.TextRenderer=Ni,Oe.Lexer=st,Oe.lexer=st.lex,Oe.Tokenizer=M,Oe.Hooks=yo,Oe.parse=Oe;let ut=Oe.options,Oi=Oe.setOptions,Sc=Oe.use,Ma=Oe.walkTokens,Qr=Oe.parseInline,Pa=Oe,Ba=Rt.parse,wc=st.lex;e.Hooks=yo,e.Lexer=st,e.Marked=Fn,e.Parser=Rt,e.Renderer=sn,e.TextRenderer=Ni,e.Tokenizer=M,e.getDefaults=t,e.lexer=wc,e.marked=Oe,e.options=ut,e.parse=Pa,e.parseInline=Qr,e.parser=Ba,e.setOptions=Oi,e.use=Sc,e.walkTokens=Ma})})();var OM=gt.Hooks||exports.Hooks,FM=gt.Lexer||exports.Lexer,MM=gt.Marked||exports.Marked,PM=gt.Parser||exports.Parser,Mp=gt.Renderer||exports.Renderer,BM=gt.TextRenderer||exports.TextRenderer,HM=gt.Tokenizer||exports.Tokenizer,sb=gt.defaults||exports.defaults,UM=gt.getDefaults||exports.getDefaults,ia=gt.lexer||exports.lexer,KM=gt.marked||exports.marked,VM=gt.options||exports.options,Pp=gt.parse||exports.parse,WM=gt.parseInline||exports.parseInline,ab=gt.parser||exports.parser,zM=gt.setOptions||exports.setOptions,$M=gt.use||exports.use,GM=gt.walkTokens||exports.walkTokens;var md=typeof Buffer<"u",wx=new Ft(()=>new Uint8Array(256)),Bp,Hp,on=class n{static alloc(e){return md?new n(Buffer.allocUnsafe(e)):new n(new Uint8Array(e))}static wrap(e){return md&&!Buffer.isBuffer(e)&&(e=Buffer.from(e.buffer,e.byteOffset,e.byteLength)),new n(e)}static fromString(e,t){return!(t?.dontUseNodeBuffer||!1)&&md?new n(Buffer.from(e)):(Bp||(Bp=new TextEncoder),new n(Bp.encode(e)))}static fromByteArray(e){let t=n.alloc(e.length);for(let i=0,o=e.length;i<o;i++)t.buffer[i]=e[i];return t}static concat(e,t){if(typeof t>"u"){t=0;for(let r=0,s=e.length;r<s;r++)t+=e[r].byteLength}let i=n.alloc(t),o=0;for(let r=0,s=e.length;r<s;r++){let a=e[r];i.set(a,o),o+=a.byteLength}return i}buffer;byteLength;constructor(e){this.buffer=e,this.byteLength=this.buffer.byteLength}clone(){let e=n.alloc(this.byteLength);return e.set(this),e}toString(){return md?this.buffer.toString():(Hp||(Hp=new TextDecoder),Hp.decode(this.buffer))}slice(e,t){return new n(this.buffer.subarray(e,t))}set(e,t){if(e instanceof n)this.buffer.set(e.buffer,t);else if(e instanceof Uint8Array)this.buffer.set(e,t);else if(e instanceof ArrayBuffer)this.buffer.set(new Uint8Array(e),t);else if(ArrayBuffer.isView(e))this.buffer.set(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),t);else throw new Error("Unknown argument 'array'")}readUInt32BE(e){return Cx(this.buffer,e)}writeUInt32BE(e,t){_x(this.buffer,e,t)}readUInt32LE(e){return kx(this.buffer,e)}writeUInt32LE(e,t){Lx(this.buffer,e,t)}readUInt8(e){return Ax(this.buffer,e)}writeUInt8(e,t){Rx(this.buffer,e,t)}indexOf(e,t=0){return Dx(this.buffer,e instanceof n?e.buffer:e,t)}};function Dx(n,e,t=0){let i=e.byteLength,o=n.byteLength;if(i===0)return 0;if(i===1)return n.indexOf(e[0]);if(i>o-t)return-1;let r=wx.value;r.fill(e.length);for(let c=0;c<e.length;c++)r[e[c]]=e.length-c-1;let s=t+e.length-1,a=s,l=-1;for(;s<o;)if(n[s]===e[a]){if(a===0){l=s;break}s--,a--}else s+=Math.max(e.length-a,r[n[s]]),a=e.length-1;return l}function Cx(n,e){return n[e]*2**24+n[e+1]*2**16+n[e+2]*2**8+n[e+3]}function _x(n,e,t){n[t+3]=e,e=e>>>8,n[t+2]=e,e=e>>>8,n[t+1]=e,e=e>>>8,n[t]=e}function kx(n,e){return n[e+0]<<0>>>0|n[e+1]<<8>>>0|n[e+2]<<16>>>0|n[e+3]<<24>>>0}function Lx(n,e,t){n[t+0]=e&255,e=e>>>8,n[t+1]=e&255,e=e>>>8,n[t+2]=e&255,e=e>>>8,n[t+3]=e&255}function Ax(n,e){return n[e]}function Rx(n,e,t){n[t]=e}function lb(n){let e=JSON.parse(n);return e=Cr(e),e}function Cr(n,e=0){if(!n||e>200)return n;if(typeof n=="object"){switch(n.$mid){case 1:return De.revive(n);case 2:return new RegExp(n.source,n.flags);case 17:return new Date(n.source)}if(n instanceof on||n instanceof Uint8Array)return n;if(Array.isArray(n))for(let t=0;t<n.length;++t)n[t]=Cr(n[t],e+1);else for(let t in n)Object.hasOwnProperty.call(n,t)&&(n[t]=Cr(n[t],e+1))}return n}var Nx=Object.prototype.hasOwnProperty;function Kp(n,e){return Up(n,e,new Set)}function Up(n,e,t){if(Sn(n))return n;let i=e(n);if(typeof i<"u")return i;if(Array.isArray(n)){let o=[];for(let r of n)o.push(Up(r,e,t));return o}if(Qt(n)){if(t.has(n))throw new Error("Cannot clone recursive data-structure");t.add(n);let o={};for(let r in n)Nx.call(n,r)&&(o[r]=Up(n[r],e,t));return t.delete(n),o}return n}function no(n,e){if(n===e)return!0;if(n==null||e===null||e===void 0||typeof n!=typeof e||typeof n!="object"||Array.isArray(n)!==Array.isArray(e))return!1;let t,i;if(Array.isArray(n)){if(n.length!==e.length)return!1;for(t=0;t<n.length;t++)if(!no(n[t],e[t]))return!1}else{let o=[];for(i in n)o.push(i);o.sort();let r=[];for(i in e)r.push(i);if(r.sort(),!no(o,r))return!1;for(t=0;t<o.length;t++)if(!no(n[o[t]],e[o[t]]))return!1}return!0}var Vp=Object.freeze({image:({href:n,title:e,text:t})=>{let i=[],o=[];return n&&({href:n,dimensions:i}=zg(n),o.push(`src="${Zs(n)}"`)),t&&o.push(`alt="${Zs(t)}"`),e&&o.push(`title="${Zs(e)}"`),i.length&&(o=o.concat(i)),"<img "+o.join(" ")+">"},paragraph({tokens:n}){return`<p>${this.parser.parseInline(n)}</p>`},link({href:n,title:e,tokens:t}){let i=this.parser.parseInline(t);return typeof n!="string"?"":(n===i&&(i=Xl(i)),e=typeof e=="string"?Zs(Xl(e)):"",n=Xl(n),n=n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),`<a href="${n}" title="${e||n}" draggable="false">${i}</a>`)}});function oa(n,e={},t={}){let i=new G,o=!1,r=pd(e),s=function(b){let x;try{x=lb(decodeURIComponent(b))}catch{}return x?(x=Kp(x,k=>{if(n.uris&&n.uris[k])return De.revive(n.uris[k])}),encodeURIComponent(JSON.stringify(x))):b},a=function(b,x){let k=n.uris&&n.uris[b],_=De.revive(k);return x?b.startsWith(Le.data+":")?b:(_||(_=De.parse(b)),Eu.uriToBrowserUri(_).toString(!0)):!_||De.parse(b).toString()===_.toString()?b:(_.query&&(_=_.with({query:s(_.query)})),_.toString())},l=new Mp;l.image=Vp.image,l.link=Vp.link,l.paragraph=Vp.paragraph;let c=[],p=[];if(e.codeBlockRendererSync?l.code=({text:b,lang:x})=>{let k=Fp.nextId(),_=e.codeBlockRendererSync(db(x),b);return p.push([k,_]),`<div class="code" data-code="${k}">${xs(b)}</div>`}:e.codeBlockRenderer&&(l.code=({text:b,lang:x})=>{let k=Fp.nextId(),_=e.codeBlockRenderer(db(x),b);return c.push(_.then(P=>[k,P])),`<div class="code" data-code="${k}">${xs(b)}</div>`}),e.actionHandler){let b=function(_){let P=_.target.closest("a[data-href]");if(_t(P))try{let M=P.dataset.href;M&&(n.baseUri&&(M=Wp(De.from(n.baseUri),M)),e.actionHandler.callback(M,_))}catch(M){lt(M)}finally{_.preventDefault()}},x=e.actionHandler.disposables.add(new re(r,"click")),k=e.actionHandler.disposables.add(new re(r,"auxclick"));e.actionHandler.disposables.add(N.any(x.event,k.event)(_=>{let P=new Wt(be(r),_);!P.leftButton&&!P.middleButton||b(P)})),e.actionHandler.disposables.add(Z(r,"keydown",_=>{let P=new Be(_);!P.equals(10)&&!P.equals(3)||b(P)}))}n.supportHtml||(l.html=({text:b})=>e.sanitizerOptions?.replaceWithPlaintext?xs(b):(n.isTrusted?b.match(/^(<span[^>]+>)|(<\/\s*span>)$/):void 0)?b:""),t.renderer=l;let h=n.value??"";h.length>1e5&&(h=`${h.substr(0,1e5)}\u2026`),n.supportThemeIcons&&(h=Vg(h));let f;if(e.fillInIncompleteTokens){let b={...sb,...t},x=ia(h,b),k=$x(x);f=ab(k,b)}else f=Pp(h,{...t,async:!1});n.supportThemeIcons&&(f=hd(f).map(x=>typeof x=="string"?x:x.outerHTML).join(""));let w=new DOMParser().parseFromString(zp({isTrusted:n.isTrusted,...e.sanitizerOptions},f),"text/html");if(w.body.querySelectorAll("img, audio, video, source").forEach(b=>{let x=b.getAttribute("src");if(x){let k=x;try{n.baseUri&&(k=Wp(De.from(n.baseUri),k))}catch{}if(b.setAttribute("src",a(k,!0)),e.remoteImageIsAllowed){let _=De.parse(k);_.scheme!==Le.file&&_.scheme!==Le.data&&!e.remoteImageIsAllowed(_)&&b.replaceWith(j("",void 0,b.outerHTML))}}}),w.body.querySelectorAll("a").forEach(b=>{let x=b.getAttribute("href");if(b.setAttribute("href",""),!x||/^data:|javascript:/i.test(x)||/^command:/i.test(x)&&!n.isTrusted||/^command:(\/\/\/)?_workbench\.downloadResource/i.test(x))b.replaceWith(...b.childNodes);else{let k=a(x,!1);n.baseUri&&(k=Wp(De.from(n.baseUri),x)),b.dataset.href=k}}),r.innerHTML=zp({isTrusted:n.isTrusted,...e.sanitizerOptions},w.body.innerHTML),c.length>0)Promise.all(c).then(b=>{if(o)return;let x=new Map(b),k=r.querySelectorAll("div[data-code]");for(let _ of k){let P=x.get(_.dataset.code??"");P&&Lo(_,P)}e.asyncRenderCallback?.()});else if(p.length>0){let b=new Map(p),x=r.querySelectorAll("div[data-code]");for(let k of x){let _=b.get(k.dataset.code??"");_&&Lo(k,_)}}if(e.asyncRenderCallback)for(let b of r.getElementsByTagName("img")){let x=i.add(Z(b,"load",()=>{x.dispose(),e.asyncRenderCallback()}))}return{element:r,dispose:()=>{o=!0,i.dispose()}}}function db(n){if(!n)return"";let e=n.split(/[\s+|:|,|\{|\?]/,1);return e.length?e[0]:n}function Wp(n,e){return/^\w[\w\d+.-]*:/.test(e)?e:n.path.endsWith("/")?Su(n,e).toString():Su(zf(n),e).toString()}var Ox=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"];function zp(n,e){let{config:t,allowedSchemes:i}=Mx(n),o=new G;o.add(cb("uponSanitizeAttribute",(r,s)=>{if(s.attrName==="style"||s.attrName==="class"){if(r.tagName==="SPAN"){if(s.attrName==="style"){s.keepAttr=/^(color\:(#[0-9a-fA-F]+|var\(--vscode(-[a-zA-Z0-9]+)+\));)?(background-color\:(#[0-9a-fA-F]+|var\(--vscode(-[a-zA-Z0-9]+)+\));)?(border-radius:[0-9]+px;)?$/.test(s.attrValue);return}else if(s.attrName==="class"){s.keepAttr=/^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/.test(s.attrValue);return}}s.keepAttr=!1;return}else if(r.tagName==="INPUT"&&r.attributes.getNamedItem("type")?.value==="checkbox"){if(s.attrName==="type"&&s.attrValue==="checkbox"||s.attrName==="disabled"||s.attrName==="checked"){s.keepAttr=!0;return}s.keepAttr=!1}})),o.add(cb("uponSanitizeElement",(r,s)=>{if(s.tagName==="input"&&(r.attributes.getNamedItem("type")?.value==="checkbox"?r.setAttribute("disabled",""):n.replaceWithPlaintext||r.remove()),n.replaceWithPlaintext&&!s.allowedTags[s.tagName]&&s.tagName!=="body"&&r.parentElement){let a,l;if(s.tagName==="#comment")a=`<!--${r.textContent}-->`;else{let f=Ox.includes(s.tagName),T=r.attributes.length?" "+Array.from(r.attributes).map(w=>`${w.name}="${w.value}"`).join(" "):"";a=`<${s.tagName}${T}>`,f||(l=`</${s.tagName}>`)}let c=document.createDocumentFragment(),p=r.parentElement.ownerDocument.createTextNode(a);c.appendChild(p);let h=l?r.parentElement.ownerDocument.createTextNode(l):void 0;for(;r.firstChild;)c.appendChild(r.firstChild);h&&c.appendChild(h),r.parentElement.replaceChild(c,r)}})),o.add(bg(i));try{return _s(e,{...t,RETURN_TRUSTED_TYPE:!0})}finally{o.dispose()}}var Fx=["align","autoplay","alt","checked","class","colspan","controls","data-code","data-href","disabled","draggable","height","href","loop","muted","playsinline","poster","rowspan","src","style","target","title","type","width","start"];function Mx(n){let e=[Le.http,Le.https,Le.mailto,Le.data,Le.file,Le.vscodeFileResource,Le.vscodeRemote,Le.vscodeRemoteResource];return n.isTrusted&&e.push(Le.command),{config:{ALLOWED_TAGS:n.allowedTags??[...vg],ALLOWED_ATTR:Fx,ALLOW_UNKNOWN_PROTOCOLS:!0},allowedSchemes:e}}function ub(n){return typeof n=="string"?n:Px(n)}function Px(n,e){let t=n.value??"";t.length>1e5&&(t=`${t.substr(0,1e5)}\u2026`);let i=Pp(t,{async:!1,renderer:e?Ux.value:Hx.value}).replace(/&(#\d+|[a-zA-Z]+);/g,o=>Bx.get(o)??o);return zp({isTrusted:!1},i).toString()}var Bx=new Map([["&quot;",'"'],["&nbsp;"," "],["&amp;","&"],["&#39;","'"],["&lt;","<"],["&gt;",">"]]);function pb(){let n=new Mp;return n.code=({text:e})=>e,n.blockquote=({text:e})=>e+`
`,n.html=e=>"",n.heading=function({tokens:e}){return this.parser.parseInline(e)+`
`},n.hr=()=>"",n.list=function({items:e}){return e.map(t=>this.listitem(t)).join(`
`)+`
`},n.listitem=({text:e})=>e+`
`,n.paragraph=function({tokens:e}){return this.parser.parseInline(e)+`
`},n.table=function({header:e,rows:t}){return e.map(i=>this.tablecell(i)).join(" ")+`
`+t.map(i=>i.map(o=>this.tablecell(o)).join(" ")).join(`
`)+`
`},n.tablerow=({text:e})=>e,n.tablecell=function({tokens:e}){return this.parser.parseInline(e)},n.strong=({text:e})=>e,n.em=({text:e})=>e,n.codespan=({text:e})=>e,n.br=e=>`
`,n.del=({text:e})=>e,n.image=e=>"",n.text=({text:e})=>e,n.link=({text:e})=>e,n}var Hx=new Ft(n=>pb()),Ux=new Ft(()=>{let n=pb();return n.code=({text:e})=>`
\`\`\`
${e}
\`\`\`
`,n});function fd(n){let e="";return n.forEach(t=>{e+=t.raw}),e}function hb(n){if(n.tokens)for(let e=n.tokens.length-1;e>=0;e--){let t=n.tokens[e];if(t.type==="text"){let i=t.raw.split(`
`),o=i[i.length-1];if(o.includes("`"))return qx(n);if(o.includes("**"))return Qx(n);if(o.match(/\*\w/))return jx(n);if(o.match(/(^|\s)__\w/))return e0(n);if(o.match(/(^|\s)_\w/))return Yx(n);if(Kx(o)||Vx(o)&&n.tokens.slice(0,e).some(r=>r.type==="text"&&r.raw.match(/\[[^\]]*$/))){let r=n.tokens.slice(e+1);return r[0]?.type==="link"&&r[1]?.type==="text"&&r[1].raw.match(/^ *"[^"]*$/)||o.match(/^[^"]* +"[^"]*$/)?Jx(n):Xx(n)}else if(o.match(/(^|\s)\[\w*/))return Zx(n)}}}function Kx(n){return!!n.match(/(^|\s)\[.*\]\(\w*/)}function Vx(n){return!!n.match(/^[^\[]*\]\([^\)]*$/)}function Wx(n){let e=n.items[n.items.length-1],t=e.tokens?e.tokens[e.tokens.length-1]:void 0,i;if(t?.type==="text"&&!("inRawBlock"in e)&&(i=hb(t)),!i||i.type!=="paragraph")return;let o=fd(n.items.slice(0,-1)),r=e.raw.match(/^(\s*(-|\d+\.|\*) +)/)?.[0];if(!r)return;let s=r+fd(e.tokens.slice(0,-1))+i.raw,a=ia(o+s)[0];if(a.type==="list")return a}var zx=3;function $x(n){for(let e=0;e<zx;e++){let t=Gx(n);if(t)n=t;else break}return n}function Gx(n){let e,t;for(e=0;e<n.length;e++){let i=n[e];if(i.type==="paragraph"&&i.raw.match(/(\n|^)\|/)){t=t0(n.slice(e));break}if(e===n.length-1&&i.type==="list"){let o=Wx(i);if(o){t=[o];break}}if(e===n.length-1&&i.type==="paragraph"){let o=hb(i);if(o){t=[o];break}}}if(t){let i=[...n.slice(0,e),...t];return i.links=n.links,i}return null}function qx(n){return io(n,"`")}function jx(n){return io(n,"*")}function Yx(n){return io(n,"_")}function Xx(n){return io(n,")")}function Jx(n){return io(n,'")')}function Zx(n){return io(n,"](https://microsoft.com)")}function Qx(n){return io(n,"**")}function e0(n){return io(n,"__")}function io(n,e){let t=fd(Array.isArray(n)?n:[n]);return ia(t+e)[0]}function t0(n){let e=fd(n),t=e.split(`
`),i,o=!1;for(let r=0;r<t.length;r++){let s=t[r].trim();if(typeof i>"u"&&s.match(/^\s*\|/)){let a=s.match(/(\|[^\|]+)(?=\||$)/g);a&&(i=a.length)}else if(typeof i=="number")if(s.match(/^\s*\|/)){if(r!==t.length-1)return;o=!0}else return}if(typeof i=="number"&&i>0){let r=o?t.slice(0,-1).join(`
`):e,s=!!r.match(/\|\s*$/),a=r+(s?"":"|")+`
|${" --- |".repeat(i)}`;return ia(a)}}function cb(n,e){return El(n,e),ce(()=>Sl(n))}var Y7={...ld,selectBackground:"#3C3C3C",selectForeground:"#F0F0F0",selectBorder:"#3C3C3C",decoratorRightForeground:void 0,selectListBackground:void 0,selectListBorder:void 0,focusBorder:void 0};var oo=class extends J{_onDidChange=this._register(new L);onDidChange=this._onDidChange.event;_id;_label;_tooltip;_cssClass;_enabled=!0;_checked;_actionCallback;constructor(e,t="",i="",o=!0,r){super(),this._id=e,this._label=t,this._cssClass=i,this._enabled=o,this._actionCallback=r}get id(){return this._id}get label(){return this._label}set label(e){this._setLabel(e)}_setLabel(e){this._label!==e&&(this._label=e,this._onDidChange.fire({label:e}))}get tooltip(){return this._tooltip||""}set tooltip(e){this._setTooltip(e)}_setTooltip(e){this._tooltip!==e&&(this._tooltip=e,this._onDidChange.fire({tooltip:e}))}get class(){return this._cssClass}set class(e){this._setClass(e)}_setClass(e){this._cssClass!==e&&(this._cssClass=e,this._onDidChange.fire({class:e}))}get enabled(){return this._enabled}set enabled(e){this._setEnabled(e)}_setEnabled(e){this._enabled!==e&&(this._enabled=e,this._onDidChange.fire({enabled:e}))}get checked(){return this._checked}set checked(e){this._setChecked(e)}_setChecked(e){this._checked!==e&&(this._checked=e,this._onDidChange.fire({checked:e}))}async run(e,t){this._actionCallback&&await this._actionCallback(e)}},Uo=class extends J{_onWillRun=this._register(new L);onWillRun=this._onWillRun.event;_onDidRun=this._register(new L);onDidRun=this._onDidRun.event;async run(e,t){if(!e.enabled)return;this._onWillRun.fire({action:e});let i;try{await this.runAction(e,t)}catch(o){i=o}this._onDidRun.fire({action:e,error:i})}async runAction(e,t){await e.run(t)}},Ei=class n{static join(...e){let t=[];for(let i of e)i.length&&(t.length?t=[...t,new n,...i]:t=i);return t}static ID="vs.actions.separator";id=n.ID;label="";tooltip="";class="separator";enabled=!1;checked=!1;async run(){}};var mb={inputActiveOptionBorder:"#007ACC00",inputActiveOptionForeground:"#FFFFFF",inputActiveOptionBackground:"#0E639C50"};var Si=class extends Lt{_onChange=this._register(new L);onChange=this._onChange.event;_onKeyDown=this._register(new L);onKeyDown=this._onKeyDown.event;_opts;_icon;domNode;_checked;_hover;constructor(e){super(),this._opts=e,this._checked=this._opts.isChecked;let t=["monaco-custom-toggle"];this._opts.icon&&(this._icon=this._opts.icon,t.push(...Te.asClassNameArray(this._icon))),this._opts.actionClassName&&t.push(...this._opts.actionClassName.split(" ")),this._checked&&t.push("checked"),this.domNode=document.createElement("div"),this._hover=this._register(Yt().setupManagedHover(e.hoverDelegate??ct("mouse"),this.domNode,this._opts.title)),this.domNode.classList.add(...t),this._opts.notFocusable||(this.domNode.tabIndex=0),this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,i=>{this.enabled&&(this.checked=!this._checked,this._onChange.fire(!1),i.preventDefault())}),this._register(this.ignoreGesture(this.domNode)),this.onkeydown(this.domNode,i=>{if(i.keyCode===10||i.keyCode===3){this.checked=!this._checked,this._onChange.fire(!0),i.preventDefault(),i.stopPropagation();return}this._onKeyDown.fire(i)})}get enabled(){return this.domNode.getAttribute("aria-disabled")!=="true"}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(e){this._checked=e,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}setIcon(e){this._icon&&this.domNode.classList.remove(...Te.asClassNameArray(this._icon)),this._icon=e,this._icon&&this.domNode.classList.add(...Te.asClassNameArray(this._icon))}width(){return 22}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder||"",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground||"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground||"")}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}setTitle(e){this._hover.update(e),this.domNode.setAttribute("aria-label",e)}set visible(e){this.domNode.style.display=e?"":"none"}get visible(){return this.domNode.style.display!=="none"}};var pn=class extends J{constructor(t,i,o={}){super();this.options=o;this._context=t||this,this._action=i,i instanceof oo&&this._register(i.onDidChange(r=>{this.element&&this.handleActionChangeEvent(r)}))}element;_context;_action;customHover;get action(){return this._action}_actionRunner;handleActionChangeEvent(t){t.enabled!==void 0&&this.updateEnabled(),t.checked!==void 0&&this.updateChecked(),t.class!==void 0&&this.updateClass(),t.label!==void 0&&(this.updateLabel(),this.updateTooltip()),t.tooltip!==void 0&&this.updateTooltip()}get actionRunner(){return this._actionRunner||(this._actionRunner=this._register(new Uo)),this._actionRunner}set actionRunner(t){this._actionRunner=t}isEnabled(){return this._action.enabled}setActionContext(t){this._context=t}render(t){let i=this.element=t;this._register(It.addTarget(t));let o=this.options&&this.options.draggable;o&&(t.draggable=!0,Wi&&this._register(Z(t,me.DRAG_START,r=>r.dataTransfer?.setData(Ql.TEXT,this._action.label)))),this._register(Z(i,qe.Tap,r=>this.onClick(r,!0))),this._register(Z(i,me.MOUSE_DOWN,r=>{o||Ge.stop(r,!0),this._action.enabled&&r.button===0&&i.classList.add("active")})),ke&&this._register(Z(i,me.CONTEXT_MENU,r=>{r.button===0&&r.ctrlKey===!0&&this.onClick(r)})),this._register(Z(i,me.CLICK,r=>{Ge.stop(r,!0),this.options&&this.options.isMenu||this.onClick(r)})),this._register(Z(i,me.DBLCLICK,r=>{Ge.stop(r,!0)})),[me.MOUSE_UP,me.MOUSE_OUT].forEach(r=>{this._register(Z(i,r,s=>{Ge.stop(s),i.classList.remove("active")}))})}onClick(t,i=!1){Ge.stop(t,!0);let o=Sn(this._context)?this.options?.useEventAsContext?t:{preserveFocus:i}:this._context;this.actionRunner.run(this._action,o)}focus(){this.element&&(this.element.tabIndex=0,this.element.focus(),this.element.classList.add("focused"))}isFocused(){return!!this.element?.classList.contains("focused")}blur(){this.element&&(this.element.blur(),this.element.tabIndex=-1,this.element.classList.remove("focused"))}setFocusable(t){this.element&&(this.element.tabIndex=t?0:-1)}get trapsArrowNavigation(){return!1}updateEnabled(){}updateLabel(){}getClass(){return this.action.class}getTooltip(){return this.action.tooltip}updateTooltip(){if(!this.element)return;let t=this.getTooltip()??"";if(this.updateAriaLabel(),this.options.hoverDelegate?.showNativeHover)this.element.title=t;else if(!this.customHover&&t!==""){let i=this.options.hoverDelegate??ct("element");this.customHover=this._store.add(Yt().setupManagedHover(i,this.element,t))}else this.customHover&&this.customHover.update(t)}updateAriaLabel(){if(this.element){let t=this.getTooltip()??"";this.element.setAttribute("aria-label",t)}}updateClass(){}updateChecked(){}dispose(){this.element&&(this.element.remove(),this.element=void 0),this._context=void 0,super.dispose()}},ra=class extends pn{label;options;cssClass;constructor(e,t,i){super(e,t,i),this.options=i,this.options.icon=i.icon!==void 0?i.icon:!1,this.options.label=i.label!==void 0?i.label:!0,this.cssClass=""}render(e){super.render(e),Ff(this.element);let t=document.createElement("a");if(t.classList.add("action-label"),t.setAttribute("role",this.getDefaultAriaRole()),this.label=t,this.element.appendChild(t),this.options.label&&this.options.keybinding){let i=document.createElement("span");i.classList.add("keybinding"),i.textContent=this.options.keybinding,this.element.appendChild(i)}this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}getDefaultAriaRole(){return this._action.id===Ei.ID?"presentation":this.options.isMenu?"menuitem":this.options.isTabList?"tab":"button"}focus(){this.label&&(this.label.tabIndex=0,this.label.focus())}isFocused(){return!!this.label&&this.label?.tabIndex===0}blur(){this.label&&(this.label.tabIndex=-1)}setFocusable(e){this.label&&(this.label.tabIndex=e?0:-1)}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this.action.label)}getTooltip(){let e=null;return this.action.tooltip?e=this.action.tooltip:!this.options.label&&this.action.label&&this.options.icon&&(e=this.action.label,this.options.keybinding&&(e=d({key:"titleLabel",comment:["action title","action keybinding"]},"{0} ({1})",e,this.options.keybinding))),e??void 0}updateClass(){this.cssClass&&this.label&&this.label.classList.remove(...this.cssClass.split(" ")),this.options.icon?(this.cssClass=this.getClass(),this.label&&(this.label.classList.add("codicon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" "))),this.updateEnabled()):this.label?.classList.remove("codicon")}updateEnabled(){this.action.enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled")),this.element?.classList.remove("disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled")),this.element?.classList.add("disabled"))}updateAriaLabel(){if(this.label){let e=this.getTooltip()??"";this.label.setAttribute("aria-label",e)}}updateChecked(){this.label&&(this.action.checked!==void 0?(this.label.classList.toggle("checked",this.action.checked),this.options.isTabList?this.label.setAttribute("aria-selected",this.action.checked?"true":"false"):(this.label.setAttribute("aria-checked",this.action.checked?"true":"false"),this.label.setAttribute("role","checkbox"))):(this.label.classList.remove("checked"),this.label.removeAttribute(this.options.isTabList?"aria-selected":"aria-checked"),this.label.setAttribute("role",this.getDefaultAriaRole())))}};var ro=class extends J{options;_hoverDelegate;_actionRunner;_actionRunnerDisposables=this._register(new G);_context;_orientation;_triggerKeys;viewItems;viewItemDisposables=this._register(new So);previouslyFocusedItem;focusedItem;focusTracker;triggerKeyDown=!1;focusable=!0;domNode;actionsList;_onDidBlur=this._register(new L);onDidBlur=this._onDidBlur.event;_onDidCancel=this._register(new L({onWillAddFirstListener:()=>this.cancelHasListener=!0}));onDidCancel=this._onDidCancel.event;cancelHasListener=!1;_onDidRun=this._register(new L);onDidRun=this._onDidRun.event;_onWillRun=this._register(new L);onWillRun=this._onWillRun.event;constructor(e,t={}){super(),this.options=t,this._context=t.context??null,this._orientation=this.options.orientation??0,this._triggerKeys={keyDown:this.options.triggerKeys?.keyDown??!1,keys:this.options.triggerKeys?.keys??[3,10]},this._hoverDelegate=t.hoverDelegate??this._register(Ho()),this.options.actionRunner?this._actionRunner=this.options.actionRunner:(this._actionRunner=new Uo,this._actionRunnerDisposables.add(this._actionRunner)),this._actionRunnerDisposables.add(this._actionRunner.onDidRun(r=>this._onDidRun.fire(r))),this._actionRunnerDisposables.add(this._actionRunner.onWillRun(r=>this._onWillRun.fire(r))),this.viewItems=[],this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar";let i,o;switch(this._orientation){case 0:i=[15],o=[17];break;case 1:i=[16],o=[18],this.domNode.className+=" vertical";break}this._register(Z(this.domNode,me.KEY_DOWN,r=>{let s=new Be(r),a=!0,l=typeof this.focusedItem=="number"?this.viewItems[this.focusedItem]:void 0;i&&(s.equals(i[0])||s.equals(i[1]))?a=this.focusPrevious():o&&(s.equals(o[0])||s.equals(o[1]))?a=this.focusNext():s.equals(9)&&this.cancelHasListener?this._onDidCancel.fire():s.equals(14)?a=this.focusFirst():s.equals(13)?a=this.focusLast():s.equals(2)&&l instanceof pn&&l.trapsArrowNavigation?a=this.focusNext(void 0,!0):this.isTriggerKeyEvent(s)?this._triggerKeys.keyDown?this.doTrigger(s):this.triggerKeyDown=!0:a=!1,a&&(s.preventDefault(),s.stopPropagation())})),this._register(Z(this.domNode,me.KEY_UP,r=>{let s=new Be(r);this.isTriggerKeyEvent(s)?(!this._triggerKeys.keyDown&&this.triggerKeyDown&&(this.triggerKeyDown=!1,this.doTrigger(s)),s.preventDefault(),s.stopPropagation()):(s.equals(2)||s.equals(1026)||s.equals(16)||s.equals(18)||s.equals(15)||s.equals(17))&&this.updateFocusedItem()})),this.focusTracker=this._register(Rs(this.domNode)),this._register(this.focusTracker.onDidBlur(()=>{(qi()===this.domNode||!Cn(qi(),this.domNode))&&(this._onDidBlur.fire(),this.previouslyFocusedItem=this.focusedItem,this.focusedItem=void 0,this.triggerKeyDown=!1)})),this._register(this.focusTracker.onDidFocus(()=>this.updateFocusedItem())),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.options.highlightToggledItems&&this.actionsList.classList.add("highlight-toggled"),this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"),this.options.ariaLabel&&this.actionsList.setAttribute("aria-label",this.options.ariaLabel),this.domNode.appendChild(this.actionsList),e.appendChild(this.domNode)}refreshRole(){this.length()>=1?this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"):this.actionsList.setAttribute("role","presentation")}setAriaLabel(e){e?this.actionsList.setAttribute("aria-label",e):this.actionsList.removeAttribute("aria-label")}setFocusable(e){if(this.focusable=e,this.focusable){let t=this.viewItems.find(i=>i instanceof pn&&i.isEnabled());t instanceof pn&&t.setFocusable(!0)}else this.viewItems.forEach(t=>{t instanceof pn&&t.setFocusable(!1)})}isTriggerKeyEvent(e){let t=!1;return this._triggerKeys.keys.forEach(i=>{t=t||e.equals(i)}),t}updateFocusedItem(){for(let e=0;e<this.actionsList.children.length;e++){let t=this.actionsList.children[e];if(Cn(qi(),t)){this.focusedItem=e,this.viewItems[this.focusedItem]?.showHover?.();break}}}get context(){return this._context}set context(e){this._context=e,this.viewItems.forEach(t=>t.setActionContext(e))}get actionRunner(){return this._actionRunner}set actionRunner(e){this._actionRunner=e,this._actionRunnerDisposables.clear(),this._actionRunnerDisposables.add(this._actionRunner.onDidRun(t=>this._onDidRun.fire(t))),this._actionRunnerDisposables.add(this._actionRunner.onWillRun(t=>this._onWillRun.fire(t))),this.viewItems.forEach(t=>t.actionRunner=e)}getContainer(){return this.domNode}hasAction(e){return this.viewItems.findIndex(t=>t.action.id===e.id)!==-1}getAction(e){if(typeof e=="number")return this.viewItems[e]?.action;if(_t(e)){for(;e.parentElement!==this.actionsList;){if(!e.parentElement)return;e=e.parentElement}for(let t=0;t<this.actionsList.childNodes.length;t++)if(this.actionsList.childNodes[t]===e)return this.viewItems[t].action}}push(e,t={}){let i=Array.isArray(e)?e:[e],o=En(t.index)?t.index:null;i.forEach(r=>{let s=document.createElement("li");s.className="action-item",s.setAttribute("role","presentation");let a,l={hoverDelegate:this._hoverDelegate,...t,isTabList:this.options.ariaRole==="tablist"};this.options.actionViewItemProvider&&(a=this.options.actionViewItemProvider(r,l)),a||(a=new ra(this.context,r,l)),this.options.allowContextMenu||this.viewItemDisposables.set(a,Z(s,me.CONTEXT_MENU,c=>{Ge.stop(c,!0)})),a.actionRunner=this._actionRunner,a.setActionContext(this.context),a.render(s),this.focusable&&a instanceof pn&&this.viewItems.length===0&&a.setFocusable(!0),o===null||o<0||o>=this.actionsList.children.length?(this.actionsList.appendChild(s),this.viewItems.push(a)):(this.actionsList.insertBefore(s,this.actionsList.children[o]),this.viewItems.splice(o,0,a),o++)}),typeof this.focusedItem=="number"&&this.focus(this.focusedItem),this.refreshRole()}getWidth(e){if(e>=0&&e<this.actionsList.children.length){let t=this.actionsList.children.item(e);if(t)return t.clientWidth}return 0}getHeight(e){if(e>=0&&e<this.actionsList.children.length){let t=this.actionsList.children.item(e);if(t)return t.clientHeight}return 0}pull(e){e>=0&&e<this.viewItems.length&&(this.actionsList.childNodes[e].remove(),this.viewItemDisposables.deleteAndDispose(this.viewItems[e]),$e(this.viewItems.splice(e,1)),this.refreshRole())}clear(){this.isEmpty()||(this.viewItems=$e(this.viewItems),this.viewItemDisposables.clearAndDisposeAll(),nt(this.actionsList),this.refreshRole())}length(){return this.viewItems.length}isEmpty(){return this.viewItems.length===0}focus(e){let t=!1,i;if(e===void 0?t=!0:typeof e=="number"?i=e:typeof e=="boolean"&&(t=e),t&&typeof this.focusedItem>"u"){let o=this.viewItems.findIndex(r=>r.isEnabled());this.focusedItem=o===-1?void 0:o,this.updateFocus(void 0,void 0,!0)}else i!==void 0&&(this.focusedItem=i),this.updateFocus(void 0,void 0,!0)}focusFirst(){return this.focusedItem=this.length()-1,this.focusNext(!0)}focusLast(){return this.focusedItem=0,this.focusPrevious(!0)}focusNext(e,t){if(typeof this.focusedItem>"u")this.focusedItem=this.viewItems.length-1;else if(this.viewItems.length<=1)return!1;let i=this.focusedItem,o;do{if(!e&&this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=i,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,o=this.viewItems[this.focusedItem]}while(this.focusedItem!==i&&(this.options.focusOnlyEnabledItems&&!o.isEnabled()||o.action.id===Ei.ID));return this.updateFocus(void 0,void 0,t),!0}focusPrevious(e){if(typeof this.focusedItem>"u")this.focusedItem=0;else if(this.viewItems.length<=1)return!1;let t=this.focusedItem,i;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(!e&&this.options.preventLoopNavigation)return this.focusedItem=t,!1;this.focusedItem=this.viewItems.length-1}i=this.viewItems[this.focusedItem]}while(this.focusedItem!==t&&(this.options.focusOnlyEnabledItems&&!i.isEnabled()||i.action.id===Ei.ID));return this.updateFocus(!0),!0}updateFocus(e,t,i=!1){typeof this.focusedItem>"u"&&this.actionsList.focus({preventScroll:t}),this.previouslyFocusedItem!==void 0&&this.previouslyFocusedItem!==this.focusedItem&&this.viewItems[this.previouslyFocusedItem]?.blur();let o=this.focusedItem!==void 0?this.viewItems[this.focusedItem]:void 0;if(o){let r=!0;Es(o.focus)||(r=!1),this.options.focusOnlyEnabledItems&&Es(o.isEnabled)&&!o.isEnabled()&&(r=!1),o.action.id===Ei.ID&&(r=!1),r?(i||this.previouslyFocusedItem!==this.focusedItem)&&(o.focus(e),this.previouslyFocusedItem=this.focusedItem):(this.actionsList.focus({preventScroll:t}),this.previouslyFocusedItem=void 0),r&&o.showHover?.()}}doTrigger(e){if(typeof this.focusedItem>"u")return;let t=this.viewItems[this.focusedItem];if(t instanceof pn){let i=t._context===null||t._context===void 0?e:t._context;this.run(t._action,i)}}async run(e,t){await this._actionRunner.run(e,t)}dispose(){this._context=void 0,this.viewItems=$e(this.viewItems),this.getContainer().remove(),super.dispose()}};var n0=d("caseDescription","Match Case"),i0=d("wordsDescription","Match Whole Word"),o0=d("regexDescription","Use Regular Expression"),gd=class extends Si{constructor(e){super({icon:ee.caseSensitive,title:n0+e.appendTitle,isChecked:e.isChecked,hoverDelegate:e.hoverDelegate??ct("element"),inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}},bd=class extends Si{constructor(e){super({icon:ee.wholeWord,title:i0+e.appendTitle,isChecked:e.isChecked,hoverDelegate:e.hoverDelegate??ct("element"),inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}},vd=class extends Si{constructor(e){super({icon:ee.regex,title:o0+e.appendTitle,isChecked:e.isChecked,hoverDelegate:e.hoverDelegate??ct("element"),inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}};var yd=class{constructor(e,t=0,i=e.length,o=t-1){this.items=e;this.start=t;this.end=i;this.index=o}current(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]}next(){return this.index=Math.min(this.index+1,this.end),this.current()}previous(){return this.index=Math.max(this.index-1,this.start-1),this.current()}first(){return this.index=this.start,this.current()}last(){return this.index=this.end-1,this.current()}};var Td=class{_history;_limit;_navigator;constructor(e=[],t=10){this._initialize(e),this._limit=t,this._onChange()}getHistory(){return this._elements}add(e){this._history.delete(e),this._history.add(e),this._onChange()}next(){return this._navigator.next()}previous(){return this._currentPosition()!==0?this._navigator.previous():null}current(){return this._navigator.current()}first(){return this._navigator.first()}last(){return this._navigator.last()}isFirst(){return this._currentPosition()===0}isLast(){return this._currentPosition()>=this._elements.length-1}isNowhere(){return this._navigator.current()===null}has(e){return this._history.has(e)}clear(){this._initialize([]),this._onChange()}_onChange(){this._reduceToLimit();let e=this._elements;this._navigator=new yd(e,0,e.length,e.length)}_reduceToLimit(){let e=this._elements;e.length>this._limit&&this._initialize(e.slice(e.length-this._limit))}_currentPosition(){let e=this._navigator.current();return e?this._elements.indexOf(e):-1}_initialize(e){this._history=new Set;for(let t of e)this._history.add(t)}get _elements(){let e=[];return this._history.forEach(t=>e.push(t)),e}};var sa=j;var fb={inputBackground:"#3C3C3C",inputForeground:"#CCCCCC",inputValidationInfoBorder:"#55AAFF",inputValidationInfoBackground:"#063B49",inputValidationWarningBorder:"#B89500",inputValidationWarningBackground:"#352A05",inputValidationErrorBorder:"#BE1100",inputValidationErrorBackground:"#5A1D1D",inputBorder:void 0,inputValidationErrorForeground:void 0,inputValidationInfoForeground:void 0,inputValidationWarningForeground:void 0},Id=class extends Lt{contextViewProvider;element;input;actionbar;options;message;placeholder;tooltip;ariaLabel;validation;state="idle";mirror;cachedHeight;cachedContentHeight;maxHeight=Number.POSITIVE_INFINITY;scrollableElement;hover;_onDidChange=this._register(new L);onDidChange=this._onDidChange.event;_onDidHeightChange=this._register(new L);onDidHeightChange=this._onDidHeightChange.event;constructor(e,t,i){super(),this.contextViewProvider=t,this.options=i,this.message=null,this.placeholder=this.options.placeholder||"",this.tooltip=this.options.tooltip??(this.placeholder||""),this.ariaLabel=this.options.ariaLabel||"",this.options.validationOptions&&(this.validation=this.options.validationOptions.validation),this.element=se(e,sa(".monaco-inputbox.idle"));let o=this.options.flexibleHeight?"textarea":"input",r=se(this.element,sa(".ibwrapper"));if(this.input=se(r,sa(o+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,()=>this.element.classList.add("synthetic-focus")),this.onblur(this.input,()=>this.element.classList.remove("synthetic-focus")),this.options.flexibleHeight){this.maxHeight=typeof this.options.flexibleMaxHeight=="number"?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=se(r,sa("div.mirror")),this.mirror.innerText="\xA0",this.scrollableElement=new zl(this.element,{vertical:1}),this.options.flexibleWidth&&(this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial"),se(e,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll(l=>this.input.scrollTop=l.scrollTop));let s=this._register(new re(e.ownerDocument,"selectionchange")),a=N.filter(s.event,()=>e.ownerDocument.getSelection()?.anchorNode===r);this._register(a(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");this.ariaLabel&&this.input.setAttribute("aria-label",this.ariaLabel),this.placeholder&&!this.options.showPlaceholderOnFocus&&this.setPlaceHolder(this.placeholder),this.tooltip&&this.setTooltip(this.tooltip),this.oninput(this.input,()=>this.onValueChange()),this.onblur(this.input,()=>this.onBlur()),this.onfocus(this.input,()=>this.onFocus()),this._register(this.ignoreGesture(this.input)),setTimeout(()=>this.updateMirror(),0),this.options.actions&&(this.actionbar=this._register(new ro(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1})),this.applyStyles()}onBlur(){this._hideMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder","")}onFocus(){this._showMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder",this.placeholder||"")}setPlaceHolder(e){this.placeholder=e,this.input.setAttribute("placeholder",e)}setTooltip(e){this.tooltip=e,this.hover?this.hover.update(e):this.hover=this._register(Yt().setupManagedHover(ct("mouse"),this.input,e))}setAriaLabel(e){this.ariaLabel=e,e?this.input.setAttribute("aria-label",this.ariaLabel):this.input.removeAttribute("aria-label")}getAriaLabel(){return this.ariaLabel}get mirrorElement(){return this.mirror}get inputElement(){return this.input}get value(){return this.input.value}set value(e){this.input.value!==e&&(this.input.value=e,this.onValueChange())}get step(){return this.input.step}set step(e){this.input.step=e}get height(){return typeof this.cachedHeight=="number"?this.cachedHeight:Ll(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return $t(this.input)}select(e=null){this.input.select(),e&&(this.input.setSelectionRange(e.start,e.end),e.end===this.input.value.length&&(this.input.scrollLeft=this.input.scrollWidth))}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}getSelection(){let e=this.input.selectionStart;if(e===null)return null;let t=this.input.selectionEnd??e;return{start:e,end:t}}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}setEnabled(e){e?this.enable():this.disable()}get width(){return As(this.input)}set width(e){if(this.options.flexibleHeight&&this.options.flexibleWidth){let t=0;if(this.mirror){let i=parseFloat(this.mirror.style.paddingLeft||"")||0,o=parseFloat(this.mirror.style.paddingRight||"")||0;t=i+o}this.input.style.width=e-t+"px"}else this.input.style.width=e+"px";this.mirror&&(this.mirror.style.width=e+"px")}set paddingRight(e){this.input.style.width=`calc(100% - ${e}px)`,this.mirror&&(this.mirror.style.paddingRight=e+"px")}updateScrollDimensions(){if(typeof this.cachedContentHeight!="number"||typeof this.cachedHeight!="number"||!this.scrollableElement)return;let e=this.cachedContentHeight,t=this.cachedHeight,i=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:e,height:t}),this.scrollableElement.setScrollPosition({scrollTop:i})}showMessage(e,t){if(this.state==="open"&&no(this.message,e))return;this.message=e,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(e.type));let i=this.stylesForType(this.message.type);this.element.style.border=`1px solid ${un(i.border,"transparent")}`,this.message.content&&(this.hasFocus()||t)&&this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}isInputValid(){return!!this.validation&&!this.validation(this.value)}validate(){let e=null;return this.validation&&(e=this.validation(this.value),e?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(e)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),e?.type}stylesForType(e){let t=this.options.inputBoxStyles;switch(e){case 1:return{border:t.inputValidationInfoBorder,background:t.inputValidationInfoBackground,foreground:t.inputValidationInfoForeground};case 2:return{border:t.inputValidationWarningBorder,background:t.inputValidationWarningBackground,foreground:t.inputValidationWarningForeground};default:return{border:t.inputValidationErrorBorder,background:t.inputValidationErrorBackground,foreground:t.inputValidationErrorForeground}}}classForType(e){switch(e){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(!this.contextViewProvider||!this.message)return;let e,t=()=>e.style.width=As(this.element)+"px";this.contextViewProvider.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:o=>{if(!this.message)return null;e=se(o,sa(".monaco-inputbox-container")),t();let r={inline:!0,className:"monaco-inputbox-message"},s=this.message.formatContent?ob(this.message.content,r):ib(this.message.content,r);s.classList.add(this.classForType(this.message.type));let a=this.stylesForType(this.message.type);return s.style.backgroundColor=a.background??"",s.style.color=a.foreground??"",s.style.border=a.border?`1px solid ${a.border}`:"",se(e,s),null},onHide:()=>{this.state="closed"},layout:t});let i;this.message.type===3?i=d("alertErrorMessage","Error: {0}",this.message.content):this.message.type===2?i=d("alertWarningMessage","Warning: {0}",this.message.content):i=d("alertInfoMessage","Info: {0}",this.message.content),to(i),this.state="open"}_hideMessage(){this.contextViewProvider&&(this.state==="open"&&this.contextViewProvider.hideContextView(),this.state="idle")}onValueChange(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),this.state==="open"&&this.contextViewProvider&&this.contextViewProvider.layout()}updateMirror(){if(!this.mirror)return;let e=this.value,i=e.charCodeAt(e.length-1)===10?" ":"";(e+i).replace(/\u000c/g,"")?this.mirror.textContent=e+i:this.mirror.innerText="\xA0",this.layout()}applyStyles(){let e=this.options.inputBoxStyles,t=e.inputBackground??"",i=e.inputForeground??"",o=e.inputBorder??"";this.element.style.backgroundColor=t,this.element.style.color=i,this.input.style.backgroundColor="inherit",this.input.style.color=i,this.element.style.border=`1px solid ${un(o,"transparent")}`}layout(){if(!this.mirror)return;let e=this.cachedContentHeight;this.cachedContentHeight=Ll(this.mirror),e!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}insertAtCursor(e){let t=this.inputElement,i=t.selectionStart,o=t.selectionEnd,r=t.value;i!==null&&o!==null&&(this.value=r.substr(0,i)+e+r.substr(o),t.setSelectionRange(i+1,i+1),this.layout())}dispose(){this._hideMessage(),this.message=null,this.actionbar?.dispose(),super.dispose()}},xd=class extends Id{history;observer;_onDidFocus=this._register(new L);onDidFocus=this._onDidFocus.event;_onDidBlur=this._register(new L);onDidBlur=this._onDidBlur.event;constructor(e,t,i){let o=d({key:"history.inputbox.hint.suffix.noparens",comment:['Text is the suffix of an input field placeholder coming after the action the input field performs, this will be used when the input field ends in a closing parenthesis ")", for example "Filter (e.g. text, !exclude)". The character inserted into the final string is \u21C5 to represent the up and down arrow keys.']}," or {0} for history","\u21C5"),r=d({key:"history.inputbox.hint.suffix.inparens",comment:['Text is the suffix of an input field placeholder coming after the action the input field performs, this will be used when the input field does NOT end in a closing parenthesis (eg. "Find"). The character inserted into the final string is \u21C5 to represent the up and down arrow keys.']}," ({0} for history)","\u21C5");super(e,t,i),this.history=new Td(i.history,100);let s=()=>{if(i.showHistoryHint&&i.showHistoryHint()&&!this.placeholder.endsWith(o)&&!this.placeholder.endsWith(r)&&this.history.getHistory().length){let a=this.placeholder.endsWith(")")?o:r,l=this.placeholder+a;i.showPlaceholderOnFocus&&!$t(this.input)?this.placeholder=l:this.setPlaceHolder(l)}};this.observer=new MutationObserver((a,l)=>{a.forEach(c=>{c.target.textContent||s()})}),this.observer.observe(this.input,{attributeFilter:["class"]}),this.onfocus(this.input,()=>s()),this.onblur(this.input,()=>{let a=l=>{if(this.placeholder.endsWith(l)){let c=this.placeholder.slice(0,this.placeholder.length-l.length);return i.showPlaceholderOnFocus?this.placeholder=c:this.setPlaceHolder(c),!0}else return!1};a(r)||a(o)})}dispose(){super.dispose(),this.observer&&(this.observer.disconnect(),this.observer=void 0)}addToHistory(e){this.value&&(e||this.value!==this.getCurrentValue())&&this.history.add(this.value)}prependHistory(e){let t=this.getHistory();this.clearHistory(),e.forEach(i=>{this.history.add(i)}),t.forEach(i=>{this.history.add(i)})}getHistory(){return this.history.getHistory()}isAtFirstInHistory(){return this.history.isFirst()}isAtLastInHistory(){return this.history.isLast()}isNowhereInHistory(){return this.history.isNowhere()}showNextValue(){this.history.has(this.value)||this.addToHistory();let e=this.getNextValue();e&&(e=e===this.value?this.getNextValue():e),this.value=e??"",hp(this.value?this.value:d("clearedInput","Cleared Input"))}showPreviousValue(){this.history.has(this.value)||this.addToHistory();let e=this.getPreviousValue();e&&(e=e===this.value?this.getPreviousValue():e),e&&(this.value=e,hp(this.value))}clearHistory(){this.history.clear()}setPlaceHolder(e){super.setPlaceHolder(e),this.setTooltip(e)}onBlur(){super.onBlur(),this._onDidBlur.fire()}onFocus(){super.onFocus(),this._onDidFocus.fire()}getCurrentValue(){let e=this.history.current();return e||(e=this.history.last(),this.history.next()),e}getPreviousValue(){return this.history.previous()||this.history.first()}getNextValue(){return this.history.next()}};var s0=d("defaultLabel","input"),Ed=class extends Lt{static OPTION_CHANGE="optionChange";placeholder;validation;label;showCommonFindToggles;fixFocusOnOptionClickEnabled=!0;imeSessionInProgress=!1;additionalTogglesDisposables=this._register(new fi);controls;regex;wholeWords;caseSensitive;additionalToggles=[];domNode;inputBox;_onDidOptionChange=this._register(new L);onDidOptionChange=this._onDidOptionChange.event;_onKeyDown=this._register(new L);onKeyDown=this._onKeyDown.event;_onMouseDown=this._register(new L);onMouseDown=this._onMouseDown.event;_onInput=this._register(new L);onInput=this._onInput.event;_onKeyUp=this._register(new L);onKeyUp=this._onKeyUp.event;_onCaseSensitiveKeyDown=this._register(new L);onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event;_onRegexKeyDown=this._register(new L);onRegexKeyDown=this._onRegexKeyDown.event;constructor(e,t,i){super(),this.placeholder=i.placeholder||"",this.validation=i.validation,this.label=i.label||s0,this.showCommonFindToggles=!!i.showCommonFindToggles;let o=i.appendCaseSensitiveLabel||"",r=i.appendWholeWordsLabel||"",s=i.appendRegexLabel||"",a=i.history||[],l=!!i.flexibleHeight,c=!!i.flexibleWidth,p=i.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new xd(this.domNode,t,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},history:a,showHistoryHint:i.showHistoryHint,flexibleHeight:l,flexibleWidth:c,flexibleMaxHeight:p,inputBoxStyles:i.inputBoxStyles}));let h=this._register(Ho());if(this.showCommonFindToggles){this.regex=this._register(new vd({appendTitle:s,isChecked:!1,hoverDelegate:h,...i.toggleStyles})),this._register(this.regex.onChange(T=>{this._onDidOptionChange.fire(T),!T&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.regex.onKeyDown(T=>{this._onRegexKeyDown.fire(T)})),this.wholeWords=this._register(new bd({appendTitle:r,isChecked:!1,hoverDelegate:h,...i.toggleStyles})),this._register(this.wholeWords.onChange(T=>{this._onDidOptionChange.fire(T),!T&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this.caseSensitive=this._register(new gd({appendTitle:o,isChecked:!1,hoverDelegate:h,...i.toggleStyles})),this._register(this.caseSensitive.onChange(T=>{this._onDidOptionChange.fire(T),!T&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.caseSensitive.onKeyDown(T=>{this._onCaseSensitiveKeyDown.fire(T)}));let f=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,T=>{if(T.equals(15)||T.equals(17)||T.equals(9)){let w=f.indexOf(this.domNode.ownerDocument.activeElement);if(w>=0){let b=-1;T.equals(17)?b=(w+1)%f.length:T.equals(15)&&(w===0?b=f.length-1:b=w-1),T.equals(9)?(f[w].blur(),this.inputBox.focus()):b>=0&&f[b].focus(),Ge.stop(T,!0)}}})}this.controls=document.createElement("div"),this.controls.className="controls",this.controls.style.display=this.showCommonFindToggles?"":"none",this.caseSensitive&&this.controls.append(this.caseSensitive.domNode),this.wholeWords&&this.controls.appendChild(this.wholeWords.domNode),this.regex&&this.controls.appendChild(this.regex.domNode),this.setAdditionalToggles(i?.additionalToggles),this.controls&&this.domNode.appendChild(this.controls),e?.appendChild(this.domNode),this._register(Z(this.inputBox.inputElement,"compositionstart",f=>{this.imeSessionInProgress=!0})),this._register(Z(this.inputBox.inputElement,"compositionend",f=>{this.imeSessionInProgress=!1,this._onInput.fire()})),this.onkeydown(this.inputBox.inputElement,f=>this._onKeyDown.fire(f)),this.onkeyup(this.inputBox.inputElement,f=>this._onKeyUp.fire(f)),this.oninput(this.inputBox.inputElement,f=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,f=>this._onMouseDown.fire(f))}get isImeSessionInProgress(){return this.imeSessionInProgress}get onDidChange(){return this.inputBox.onDidChange}layout(e){this.inputBox.layout(),this.updateInputBoxPadding(e.collapsedFindWidget)}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.regex?.enable(),this.wholeWords?.enable(),this.caseSensitive?.enable();for(let e of this.additionalToggles)e.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.regex?.disable(),this.wholeWords?.disable(),this.caseSensitive?.disable();for(let e of this.additionalToggles)e.disable()}setFocusInputOnOptionClick(e){this.fixFocusOnOptionClickEnabled=e}setEnabled(e){e?this.enable():this.disable()}setAdditionalToggles(e){for(let t of this.additionalToggles)t.domNode.remove();this.additionalToggles=[],this.additionalTogglesDisposables.value=new G;for(let t of e??[])this.additionalTogglesDisposables.value.add(t),this.controls.appendChild(t.domNode),this.additionalTogglesDisposables.value.add(t.onChange(i=>{this._onDidOptionChange.fire(i),!i&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus()})),this.additionalToggles.push(t);this.additionalToggles.length>0&&(this.controls.style.display=""),this.updateInputBoxPadding()}updateInputBoxPadding(e=!1){e?this.inputBox.paddingRight=0:this.inputBox.paddingRight=(this.caseSensitive?.width()??0)+(this.wholeWords?.width()??0)+(this.regex?.width()??0)+this.additionalToggles.reduce((t,i)=>t+i.width(),0)}clear(){this.clearValidation(),this.setValue(""),this.focus()}getValue(){return this.inputBox.value}setValue(e){this.inputBox.value!==e&&(this.inputBox.value=e)}onSearchSubmit(){this.inputBox.addToHistory()}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){return this.caseSensitive?.checked??!1}setCaseSensitive(e){this.caseSensitive&&(this.caseSensitive.checked=e)}getWholeWords(){return this.wholeWords?.checked??!1}setWholeWords(e){this.wholeWords&&(this.wholeWords.checked=e)}getRegex(){return this.regex?.checked??!1}setRegex(e){this.regex&&(this.regex.checked=e,this.validate())}focusOnCaseSensitive(){this.caseSensitive?.focus()}focusOnRegex(){this.regex?.focus()}_lastHighlightFindOptions=0;highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}showMessage(e){this.inputBox.showMessage(e)}clearMessage(){this.inputBox.hideMessage()}clearValidation(){this.inputBox.hideMessage()}};var He=class extends Error{constructor(e,t){super(`TreeError [${e}] ${t}`)}},Ko=class{constructor(e){this.fn=e}_map=new WeakMap;map(e){let t=this._map.get(e);return t||(t=this.fn(e),this._map.set(e,t)),t}};var _n=class{originalStart;originalLength;modifiedStart;modifiedLength;constructor(e,t,i,o){this.originalStart=e,this.originalLength=t,this.modifiedStart=i,this.modifiedLength=o}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}};var so=class{static Assert(e,t){if(!e)throw new Error(t)}},ao=class{static Copy(e,t,i,o,r){for(let s=0;s<r;s++)i[o+s]=e[t+s]}static Copy2(e,t,i,o,r){for(let s=0;s<r;s++)i[o+s]=e[t+s]}};var Sd=class{m_changes;m_originalStart;m_modifiedStart;m_originalCount;m_modifiedCount;constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new _n(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(e,t){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,t),this.m_originalCount++}AddModifiedElement(e,t){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,t),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}},wd=class n{ContinueProcessingPredicate;_originalSequence;_modifiedSequence;_hasStrings;_originalStringElements;_originalElementsOrHash;_modifiedStringElements;_modifiedElementsOrHash;m_forwardHistory;m_reverseHistory;constructor(e,t,i=null){this.ContinueProcessingPredicate=i,this._originalSequence=e,this._modifiedSequence=t;let[o,r,s]=n._getElements(e),[a,l,c]=n._getElements(t);this._hasStrings=s&&c,this._originalStringElements=o,this._originalElementsOrHash=r,this._modifiedStringElements=a,this._modifiedElementsOrHash=l,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(e){return e.length>0&&typeof e[0]=="string"}static _getElements(e){let t=e.getElements();if(n._isStringArray(t)){let i=new Int32Array(t.length);for(let o=0,r=t.length;o<r;o++)i[o]=wl(t[o],0);return[t,i,!0]}return t instanceof Int32Array?[[],t,!1]:[[],new Int32Array(t),!1]}ElementsAreEqual(e,t){return this._originalElementsOrHash[e]!==this._modifiedElementsOrHash[t]?!1:this._hasStrings?this._originalStringElements[e]===this._modifiedStringElements[t]:!0}ElementsAreStrictEqual(e,t){if(!this.ElementsAreEqual(e,t))return!1;let i=n._getStrictElement(this._originalSequence,e),o=n._getStrictElement(this._modifiedSequence,t);return i===o}static _getStrictElement(e,t){return typeof e.getStrictElement=="function"?e.getStrictElement(t):null}OriginalElementsAreEqual(e,t){return this._originalElementsOrHash[e]!==this._originalElementsOrHash[t]?!1:this._hasStrings?this._originalStringElements[e]===this._originalStringElements[t]:!0}ModifiedElementsAreEqual(e,t){return this._modifiedElementsOrHash[e]!==this._modifiedElementsOrHash[t]?!1:this._hasStrings?this._modifiedStringElements[e]===this._modifiedStringElements[t]:!0}ComputeDiff(e){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,e)}_ComputeDiff(e,t,i,o,r){let s=[!1],a=this.ComputeDiffRecursive(e,t,i,o,s);return r&&(a=this.PrettifyChanges(a)),{quitEarly:s[0],changes:a}}ComputeDiffRecursive(e,t,i,o,r){for(r[0]=!1;e<=t&&i<=o&&this.ElementsAreEqual(e,i);)e++,i++;for(;t>=e&&o>=i&&this.ElementsAreEqual(t,o);)t--,o--;if(e>t||i>o){let h;return i<=o?(so.Assert(e===t+1,"originalStart should only be one more than originalEnd"),h=[new _n(e,0,i,o-i+1)]):e<=t?(so.Assert(i===o+1,"modifiedStart should only be one more than modifiedEnd"),h=[new _n(e,t-e+1,i,0)]):(so.Assert(e===t+1,"originalStart should only be one more than originalEnd"),so.Assert(i===o+1,"modifiedStart should only be one more than modifiedEnd"),h=[]),h}let s=[0],a=[0],l=this.ComputeRecursionPoint(e,t,i,o,s,a,r),c=s[0],p=a[0];if(l!==null)return l;if(!r[0]){let h=this.ComputeDiffRecursive(e,c,i,p,r),f=[];return r[0]?f=[new _n(c+1,t-(c+1)+1,p+1,o-(p+1)+1)]:f=this.ComputeDiffRecursive(c+1,t,p+1,o,r),this.ConcatenateChanges(h,f)}return[new _n(e,t-e+1,i,o-i+1)]}WALKTRACE(e,t,i,o,r,s,a,l,c,p,h,f,T,w,b,x,k,_){let P=null,M=null,R=new Sd,K=t,U=i,O=T[0]-x[0]-o,ie=-1073741824,Se=this.m_forwardHistory.length-1;do{let ge=O+e;ge===K||ge<U&&c[ge-1]<c[ge+1]?(h=c[ge+1],w=h-O-o,h<ie&&R.MarkNextChange(),ie=h,R.AddModifiedElement(h+1,w),O=ge+1-e):(h=c[ge-1]+1,w=h-O-o,h<ie&&R.MarkNextChange(),ie=h-1,R.AddOriginalElement(h,w+1),O=ge-1-e),Se>=0&&(c=this.m_forwardHistory[Se],e=c[0],K=1,U=c.length-1)}while(--Se>=-1);if(P=R.getReverseChanges(),_[0]){let ge=T[0]+1,le=x[0]+1;if(P!==null&&P.length>0){let wt=P[P.length-1];ge=Math.max(ge,wt.getOriginalEnd()),le=Math.max(le,wt.getModifiedEnd())}M=[new _n(ge,f-ge+1,le,b-le+1)]}else{R=new Sd,K=s,U=a,O=T[0]-x[0]-l,ie=1073741824,Se=k?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{let ge=O+r;ge===K||ge<U&&p[ge-1]>=p[ge+1]?(h=p[ge+1]-1,w=h-O-l,h>ie&&R.MarkNextChange(),ie=h+1,R.AddOriginalElement(h+1,w+1),O=ge+1-r):(h=p[ge-1],w=h-O-l,h>ie&&R.MarkNextChange(),ie=h,R.AddModifiedElement(h+1,w+1),O=ge-1-r),Se>=0&&(p=this.m_reverseHistory[Se],r=p[0],K=1,U=p.length-1)}while(--Se>=-1);M=R.getChanges()}return this.ConcatenateChanges(P,M)}ComputeRecursionPoint(e,t,i,o,r,s,a){let l=0,c=0,p=0,h=0,f=0,T=0;e--,i--,r[0]=0,s[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];let w=t-e+(o-i),b=w+1,x=new Int32Array(b),k=new Int32Array(b),_=o-i,P=t-e,M=e-i,R=t-o,U=(P-_)%2===0;x[_]=e,k[P]=t,a[0]=!1;for(let O=1;O<=w/2+1;O++){let ie=0,Se=0;p=this.ClipDiagonalBound(_-O,O,_,b),h=this.ClipDiagonalBound(_+O,O,_,b);for(let le=p;le<=h;le+=2){le===p||le<h&&x[le-1]<x[le+1]?l=x[le+1]:l=x[le-1]+1,c=l-(le-_)-M;let wt=l;for(;l<t&&c<o&&this.ElementsAreEqual(l+1,c+1);)l++,c++;if(x[le]=l,l+c>ie+Se&&(ie=l,Se=c),!U&&Math.abs(le-P)<=O-1&&l>=k[le])return r[0]=l,s[0]=c,wt<=k[le]&&O<=1448?this.WALKTRACE(_,p,h,M,P,f,T,R,x,k,l,t,r,c,o,s,U,a):null}let ge=(ie-e+(Se-i)-O)/2;if(this.ContinueProcessingPredicate!==null&&!this.ContinueProcessingPredicate(ie,ge))return a[0]=!0,r[0]=ie,s[0]=Se,ge>0&&O<=1448?this.WALKTRACE(_,p,h,M,P,f,T,R,x,k,l,t,r,c,o,s,U,a):(e++,i++,[new _n(e,t-e+1,i,o-i+1)]);f=this.ClipDiagonalBound(P-O,O,P,b),T=this.ClipDiagonalBound(P+O,O,P,b);for(let le=f;le<=T;le+=2){le===f||le<T&&k[le-1]>=k[le+1]?l=k[le+1]-1:l=k[le-1],c=l-(le-P)-R;let wt=l;for(;l>e&&c>i&&this.ElementsAreEqual(l,c);)l--,c--;if(k[le]=l,U&&Math.abs(le-_)<=O&&l<=x[le])return r[0]=l,s[0]=c,wt>=x[le]&&O<=1448?this.WALKTRACE(_,p,h,M,P,f,T,R,x,k,l,t,r,c,o,s,U,a):null}if(O<=1447){let le=new Int32Array(h-p+2);le[0]=_-p+1,ao.Copy2(x,p,le,1,h-p+1),this.m_forwardHistory.push(le),le=new Int32Array(T-f+2),le[0]=P-f+1,ao.Copy2(k,f,le,1,T-f+1),this.m_reverseHistory.push(le)}}return this.WALKTRACE(_,p,h,M,P,f,T,R,x,k,l,t,r,c,o,s,U,a)}PrettifyChanges(e){for(let t=0;t<e.length;t++){let i=e[t],o=t<e.length-1?e[t+1].originalStart:this._originalElementsOrHash.length,r=t<e.length-1?e[t+1].modifiedStart:this._modifiedElementsOrHash.length,s=i.originalLength>0,a=i.modifiedLength>0;for(;i.originalStart+i.originalLength<o&&i.modifiedStart+i.modifiedLength<r&&(!s||this.OriginalElementsAreEqual(i.originalStart,i.originalStart+i.originalLength))&&(!a||this.ModifiedElementsAreEqual(i.modifiedStart,i.modifiedStart+i.modifiedLength));){let c=this.ElementsAreStrictEqual(i.originalStart,i.modifiedStart);if(this.ElementsAreStrictEqual(i.originalStart+i.originalLength,i.modifiedStart+i.modifiedLength)&&!c)break;i.originalStart++,i.modifiedStart++}let l=[null];if(t<e.length-1&&this.ChangesOverlap(e[t],e[t+1],l)){e[t]=l[0],e.splice(t+1,1),t--;continue}}for(let t=e.length-1;t>=0;t--){let i=e[t],o=0,r=0;if(t>0){let h=e[t-1];o=h.originalStart+h.originalLength,r=h.modifiedStart+h.modifiedLength}let s=i.originalLength>0,a=i.modifiedLength>0,l=0,c=this._boundaryScore(i.originalStart,i.originalLength,i.modifiedStart,i.modifiedLength);for(let h=1;;h++){let f=i.originalStart-h,T=i.modifiedStart-h;if(f<o||T<r||s&&!this.OriginalElementsAreEqual(f,f+i.originalLength)||a&&!this.ModifiedElementsAreEqual(T,T+i.modifiedLength))break;let b=(f===o&&T===r?5:0)+this._boundaryScore(f,i.originalLength,T,i.modifiedLength);b>c&&(c=b,l=h)}i.originalStart-=l,i.modifiedStart-=l;let p=[null];if(t>0&&this.ChangesOverlap(e[t-1],e[t],p)){e[t-1]=p[0],e.splice(t,1),t++;continue}}if(this._hasStrings)for(let t=1,i=e.length;t<i;t++){let o=e[t-1],r=e[t],s=r.originalStart-o.originalStart-o.originalLength,a=o.originalStart,l=r.originalStart+r.originalLength,c=l-a,p=o.modifiedStart,h=r.modifiedStart+r.modifiedLength,f=h-p;if(s<5&&c<20&&f<20){let T=this._findBetterContiguousSequence(a,c,p,f,s);if(T){let[w,b]=T;(w!==o.originalStart+o.originalLength||b!==o.modifiedStart+o.modifiedLength)&&(o.originalLength=w-o.originalStart,o.modifiedLength=b-o.modifiedStart,r.originalStart=w+s,r.modifiedStart=b+s,r.originalLength=l-r.originalStart,r.modifiedLength=h-r.modifiedStart)}}}return e}_findBetterContiguousSequence(e,t,i,o,r){if(t<r||o<r)return null;let s=e+t-r+1,a=i+o-r+1,l=0,c=0,p=0;for(let h=e;h<s;h++)for(let f=i;f<a;f++){let T=this._contiguousSequenceScore(h,f,r);T>0&&T>l&&(l=T,c=h,p=f)}return l>0?[c,p]:null}_contiguousSequenceScore(e,t,i){let o=0;for(let r=0;r<i;r++){if(!this.ElementsAreEqual(e+r,t+r))return 0;o+=this._originalStringElements[e+r].length}return o}_OriginalIsBoundary(e){return e<=0||e>=this._originalElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._originalStringElements[e])}_OriginalRegionIsBoundary(e,t){if(this._OriginalIsBoundary(e)||this._OriginalIsBoundary(e-1))return!0;if(t>0){let i=e+t;if(this._OriginalIsBoundary(i-1)||this._OriginalIsBoundary(i))return!0}return!1}_ModifiedIsBoundary(e){return e<=0||e>=this._modifiedElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[e])}_ModifiedRegionIsBoundary(e,t){if(this._ModifiedIsBoundary(e)||this._ModifiedIsBoundary(e-1))return!0;if(t>0){let i=e+t;if(this._ModifiedIsBoundary(i-1)||this._ModifiedIsBoundary(i))return!0}return!1}_boundaryScore(e,t,i,o){let r=this._OriginalRegionIsBoundary(e,t)?1:0,s=this._ModifiedRegionIsBoundary(i,o)?1:0;return r+s}ConcatenateChanges(e,t){let i=[];if(e.length===0||t.length===0)return t.length>0?t:e;if(this.ChangesOverlap(e[e.length-1],t[0],i)){let o=new Array(e.length+t.length-1);return ao.Copy(e,0,o,0,e.length-1),o[e.length-1]=i[0],ao.Copy(t,1,o,e.length,t.length-1),o}else{let o=new Array(e.length+t.length);return ao.Copy(e,0,o,0,e.length),ao.Copy(t,0,o,e.length,t.length),o}}ChangesOverlap(e,t,i){if(so.Assert(e.originalStart<=t.originalStart,"Left change is not less than or equal to right change"),so.Assert(e.modifiedStart<=t.modifiedStart,"Left change is not less than or equal to right change"),e.originalStart+e.originalLength>=t.originalStart||e.modifiedStart+e.modifiedLength>=t.modifiedStart){let o=e.originalStart,r=e.originalLength,s=e.modifiedStart,a=e.modifiedLength;return e.originalStart+e.originalLength>=t.originalStart&&(r=t.originalStart+t.originalLength-e.originalStart),e.modifiedStart+e.modifiedLength>=t.modifiedStart&&(a=t.modifiedStart+t.modifiedLength-e.modifiedStart),i[0]=new _n(o,r,s,a),!0}else return i[0]=null,!1}ClipDiagonalBound(e,t,i,o){if(e>=0&&e<o)return e;let r=i,s=o-i-1,a=t%2===0;if(e<0){let l=r%2===0;return a===l?0:1}else{let l=s%2===0;return a===l?o-1:o-2}}};function aa(n){return typeof n=="object"&&"visibility"in n&&"data"in n}function Vo(n){switch(n){case!0:return 1;case!1:return 0;default:return n}}function $p(n){return typeof n.collapsible=="boolean"}var Dd=class{constructor(e,t,i={}){this.user=e;this.collapseByDefault=typeof i.collapseByDefault>"u"?!1:i.collapseByDefault,this.allowNonCollapsibleParents=i.allowNonCollapsibleParents??!1,this.filter=i.filter,this.autoExpandSingleChildren=typeof i.autoExpandSingleChildren>"u"?!1:i.autoExpandSingleChildren,this.root={parent:void 0,element:t,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}rootRef=[];root;eventBufferer=new Mi;_onDidSpliceModel=new L;onDidSpliceModel=this._onDidSpliceModel.event;_onDidSpliceRenderedNodes=new L;onDidSpliceRenderedNodes=this._onDidSpliceRenderedNodes.event;_onDidChangeCollapseState=new L;onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event);_onDidChangeRenderNodeCount=new L;onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event);collapseByDefault;allowNonCollapsibleParents;filter;autoExpandSingleChildren;refilterDelayer=new Vn(Ya);splice(e,t,i=ye.empty(),o={}){if(e.length===0)throw new He(this.user,"Invalid tree location");o.diffIdentityProvider?this.spliceSmart(o.diffIdentityProvider,e,t,i,o):this.spliceSimple(e,t,i,o)}spliceSmart(e,t,i,o=ye.empty(),r,s=r.diffDepth??0){let{parentNode:a}=this.getParentNodeWithListIndex(t);if(!a.lastDiffIds)return this.spliceSimple(t,i,o,r);let l=[...o],c=t[t.length-1],p=new wd({getElements:()=>a.lastDiffIds},{getElements:()=>[...a.children.slice(0,c),...l,...a.children.slice(c+i)].map(b=>e.getId(b.element).toString())}).ComputeDiff(!1);if(p.quitEarly)return a.lastDiffIds=void 0,this.spliceSimple(t,i,l,r);let h=t.slice(0,-1),f=(b,x,k)=>{if(s>0)for(let _=0;_<k;_++)b--,x--,this.spliceSmart(e,[...h,b,0],Number.MAX_SAFE_INTEGER,l[x].children,r,s-1)},T=Math.min(a.children.length,c+i),w=l.length;for(let b of p.changes.sort((x,k)=>k.originalStart-x.originalStart))f(T,w,T-(b.originalStart+b.originalLength)),T=b.originalStart,w=b.modifiedStart-c,this.spliceSimple([...h,T],b.originalLength,ye.slice(l,w,w+b.modifiedLength),r);f(T,w,T)}spliceSimple(e,t,i=ye.empty(),{onDidCreateNode:o,onDidDeleteNode:r,diffIdentityProvider:s}){let{parentNode:a,listIndex:l,revealed:c,visible:p}=this.getParentNodeWithListIndex(e),h=[],f=ye.map(i,R=>this.createTreeNode(R,a,a.visible?1:0,c,h,o)),T=e[e.length-1],w=0;for(let R=T;R>=0&&R<a.children.length;R--){let K=a.children[R];if(K.visible){w=K.visibleChildIndex;break}}let b=[],x=0,k=0;for(let R of f)b.push(R),k+=R.renderNodeCount,R.visible&&(R.visibleChildIndex=w+x++);let _=Wc(a.children,T,t,b);s?a.lastDiffIds?Wc(a.lastDiffIds,T,t,b.map(R=>s.getId(R.element).toString())):a.lastDiffIds=a.children.map(R=>s.getId(R.element).toString()):a.lastDiffIds=void 0;let P=0;for(let R of _)R.visible&&P++;if(P!==0)for(let R=T+b.length;R<a.children.length;R++){let K=a.children[R];K.visible&&(K.visibleChildIndex-=P)}if(a.visibleChildrenCount+=x-P,c&&p){let R=_.reduce((K,U)=>K+(U.visible?U.renderNodeCount:0),0);this._updateAncestorsRenderNodeCount(a,k-R),this._onDidSpliceRenderedNodes.fire({start:l,deleteCount:R,elements:h})}if(_.length>0&&r){let R=K=>{r(K),K.children.forEach(R)};_.forEach(R)}this._onDidSpliceModel.fire({insertedNodes:b,deletedNodes:_});let M=a;for(;M;){if(M.visibility===2){this.refilterDelayer.trigger(()=>this.refilter());break}M=M.parent}}rerender(e){if(e.length===0)throw new He(this.user,"Invalid tree location");let{node:t,listIndex:i,revealed:o}=this.getTreeNodeWithListIndex(e);t.visible&&o&&this._onDidSpliceRenderedNodes.fire({start:i,deleteCount:1,elements:[t]})}has(e){return this.hasTreeNode(e)}getListIndex(e){let{listIndex:t,visible:i,revealed:o}=this.getTreeNodeWithListIndex(e);return i&&o?t:-1}getListRenderCount(e){return this.getTreeNode(e).renderNodeCount}isCollapsible(e){return this.getTreeNode(e).collapsible}setCollapsible(e,t){let i=this.getTreeNode(e);typeof t>"u"&&(t=!i.collapsible);let o={collapsible:t};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(e,o))}isCollapsed(e){return this.getTreeNode(e).collapsed}setCollapsed(e,t,i){let o=this.getTreeNode(e);typeof t>"u"&&(t=!o.collapsed);let r={collapsed:t,recursive:i||!1};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(e,r))}_setCollapseState(e,t){let{node:i,listIndex:o,revealed:r}=this.getTreeNodeWithListIndex(e),s=this._setListNodeCollapseState(i,o,r,t);if(i!==this.root&&this.autoExpandSingleChildren&&s&&!$p(t)&&i.collapsible&&!i.collapsed&&!t.recursive){let a=-1;for(let l=0;l<i.children.length;l++)if(i.children[l].visible)if(a>-1){a=-1;break}else a=l;a>-1&&this._setCollapseState([...e,a],t)}return s}_setListNodeCollapseState(e,t,i,o){let r=this._setNodeCollapseState(e,o,!1);if(!i||!e.visible||!r)return r;let s=e.renderNodeCount,a=this.updateNodeAfterCollapseChange(e),l=s-(t===-1?0:1);return this._onDidSpliceRenderedNodes.fire({start:t+1,deleteCount:l,elements:a.slice(1)}),r}_setNodeCollapseState(e,t,i){let o;if(e===this.root?o=!1:($p(t)?(o=e.collapsible!==t.collapsible,e.collapsible=t.collapsible):e.collapsible?(o=e.collapsed!==t.collapsed,e.collapsed=t.collapsed):o=!1,o&&this._onDidChangeCollapseState.fire({node:e,deep:i})),!$p(t)&&t.recursive)for(let r of e.children)o=this._setNodeCollapseState(r,t,!0)||o;return o}expandTo(e){this.eventBufferer.bufferEvents(()=>{let t=this.getTreeNode(e);for(;t.parent;)t=t.parent,e=e.slice(0,e.length-1),t.collapsed&&this._setCollapseState(e,{collapsed:!1,recursive:!1})})}refilter(){let e=this.root.renderNodeCount,t=this.updateNodeAfterFilterChange(this.root);this._onDidSpliceRenderedNodes.fire({start:0,deleteCount:e,elements:t}),this.refilterDelayer.cancel()}createTreeNode(e,t,i,o,r,s){let a={parent:t,element:e.element,children:[],depth:t.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:typeof e.collapsible=="boolean"?e.collapsible:typeof e.collapsed<"u",collapsed:typeof e.collapsed>"u"?this.collapseByDefault:e.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},l=this._filterNode(a,i);a.visibility=l,o&&r.push(a);let c=e.children||ye.empty(),p=o&&l!==0&&!a.collapsed,h=0,f=1;for(let T of c){let w=this.createTreeNode(T,a,l,p,r,s);a.children.push(w),f+=w.renderNodeCount,w.visible&&(w.visibleChildIndex=h++)}return this.allowNonCollapsibleParents||(a.collapsible=a.collapsible||a.children.length>0),a.visibleChildrenCount=h,a.visible=l===2?h>0:l===1,a.visible?a.collapsed||(a.renderNodeCount=f):(a.renderNodeCount=0,o&&r.pop()),s?.(a),a}updateNodeAfterCollapseChange(e){let t=e.renderNodeCount,i=[];return this._updateNodeAfterCollapseChange(e,i),this._updateAncestorsRenderNodeCount(e.parent,i.length-t),i}_updateNodeAfterCollapseChange(e,t){if(e.visible===!1)return 0;if(t.push(e),e.renderNodeCount=1,!e.collapsed)for(let i of e.children)e.renderNodeCount+=this._updateNodeAfterCollapseChange(i,t);return this._onDidChangeRenderNodeCount.fire(e),e.renderNodeCount}updateNodeAfterFilterChange(e){let t=e.renderNodeCount,i=[];return this._updateNodeAfterFilterChange(e,e.visible?1:0,i),this._updateAncestorsRenderNodeCount(e.parent,i.length-t),i}_updateNodeAfterFilterChange(e,t,i,o=!0){let r;if(e!==this.root){if(r=this._filterNode(e,t),r===0)return e.visible=!1,e.renderNodeCount=0,!1;o&&i.push(e)}let s=i.length;e.renderNodeCount=e===this.root?0:1;let a=!1;if(!e.collapsed||r!==0){let l=0;for(let c of e.children)a=this._updateNodeAfterFilterChange(c,r,i,o&&!e.collapsed)||a,c.visible&&(c.visibleChildIndex=l++);e.visibleChildrenCount=l}else e.visibleChildrenCount=0;return e!==this.root&&(e.visible=r===2?a:r===1,e.visibility=r),e.visible?e.collapsed||(e.renderNodeCount+=i.length-s):(e.renderNodeCount=0,o&&i.pop()),this._onDidChangeRenderNodeCount.fire(e),e.visible}_updateAncestorsRenderNodeCount(e,t){if(t!==0)for(;e;)e.renderNodeCount+=t,this._onDidChangeRenderNodeCount.fire(e),e=e.parent}_filterNode(e,t){let i=this.filter?this.filter.filter(e.element,t):1;return typeof i=="boolean"?(e.filterData=void 0,i?1:0):aa(i)?(e.filterData=i.data,Vo(i.visibility)):(e.filterData=void 0,Vo(i))}hasTreeNode(e,t=this.root){if(!e||e.length===0)return!0;let[i,...o]=e;return i<0||i>t.children.length?!1:this.hasTreeNode(o,t.children[i])}getTreeNode(e,t=this.root){if(!e||e.length===0)return t;let[i,...o]=e;if(i<0||i>t.children.length)throw new He(this.user,"Invalid tree location");return this.getTreeNode(o,t.children[i])}getTreeNodeWithListIndex(e){if(e.length===0)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};let{parentNode:t,listIndex:i,revealed:o,visible:r}=this.getParentNodeWithListIndex(e),s=e[e.length-1];if(s<0||s>t.children.length)throw new He(this.user,"Invalid tree location");let a=t.children[s];return{node:a,listIndex:i,revealed:o,visible:r&&a.visible}}getParentNodeWithListIndex(e,t=this.root,i=0,o=!0,r=!0){let[s,...a]=e;if(s<0||s>t.children.length)throw new He(this.user,"Invalid tree location");for(let l=0;l<s;l++)i+=t.children[l].renderNodeCount;return o=o&&!t.collapsed,r=r&&t.visible,a.length===0?{parentNode:t,listIndex:i,revealed:o,visible:r}:this.getParentNodeWithListIndex(a,t.children[s],i+1,o,r)}getNode(e=[]){return this.getTreeNode(e)}getNodeLocation(e){let t=[],i=e;for(;i.parent;)t.push(i.parent.children.indexOf(i)),i=i.parent;return t.reverse()}getParentNodeLocation(e){if(e.length!==0)return e.length===1?[]:Xm(e)[0]}getFirstElementChild(e){let t=this.getTreeNode(e);if(t.children.length!==0)return t.children[0].element}getLastElementAncestor(e=[]){let t=this.getTreeNode(e);if(t.children.length!==0)return this._getLastElementAncestor(t)}_getLastElementAncestor(e){return e.children.length===0?e.element:this._getLastElementAncestor(e.children[e.children.length-1])}};var qp=class extends xi{constructor(t){super(t.elements.map(i=>i.element));this.data=t}set context(t){this.data.context=t}get context(){return this.data.context}};function Gp(n){return n instanceof xi?new qp(n):n}var jp=class{constructor(e,t){this.modelProvider=e;this.dnd=t}autoExpandNode;autoExpandDisposable=J.None;disposables=new G;getDragURI(e){return this.dnd.getDragURI(e.element)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e.map(i=>i.element),t)}onDragStart(e,t){this.dnd.onDragStart?.(Gp(e),t)}onDragOver(e,t,i,o,r,s=!0){let a=this.dnd.onDragOver(Gp(e),t&&t.element,i,o,r),l=this.autoExpandNode!==t;if(l&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=t),typeof t>"u")return a;if(l&&typeof a!="boolean"&&a.autoExpand&&(this.autoExpandDisposable=ws(()=>{let T=this.modelProvider(),w=T.getNodeLocation(t);T.isCollapsed(w)&&T.setCollapsed(w,!1),this.autoExpandNode=void 0},500,this.disposables)),typeof a=="boolean"||!a.accept||typeof a.bubble>"u"||a.feedback){if(!s){let T=typeof a=="boolean"?a:a.accept,w=typeof a=="boolean"?void 0:a.effect;return{accept:T,effect:w,feedback:[i]}}return a}if(a.bubble===1){let T=this.modelProvider(),w=T.getNodeLocation(t),b=T.getParentNodeLocation(w),x=T.getNode(b),k=b&&T.getListIndex(b);return this.onDragOver(e,x,k,o,r,!1)}let c=this.modelProvider(),p=c.getNodeLocation(t),h=c.getListIndex(p),f=c.getListRenderCount(p);return{...a,feedback:dt(h,h+f)}}drop(e,t,i,o,r){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(Gp(e),t&&t.element,i,o,r)}onDragEnd(e){this.dnd.onDragEnd?.(e)}dispose(){this.disposables.dispose(),this.dnd.dispose()}};function a0(n,e){return e&&{...e,identityProvider:e.identityProvider&&{getId(t){return e.identityProvider.getId(t.element)}},dnd:e.dnd&&new jp(n,e.dnd),multipleSelectionController:e.multipleSelectionController&&{isSelectionSingleChangeEvent(t){return e.multipleSelectionController.isSelectionSingleChangeEvent({...t,element:t.element})},isSelectionRangeChangeEvent(t){return e.multipleSelectionController.isSelectionRangeChangeEvent({...t,element:t.element})}},accessibilityProvider:e.accessibilityProvider&&{...e.accessibilityProvider,getSetSize(t){let i=n(),o=i.getNodeLocation(t),r=i.getParentNodeLocation(o);return i.getNode(r).visibleChildrenCount},getPosInSet(t){return t.visibleChildIndex+1},isChecked:e.accessibilityProvider&&e.accessibilityProvider.isChecked?t=>e.accessibilityProvider.isChecked(t.element):void 0,getRole:e.accessibilityProvider&&e.accessibilityProvider.getRole?t=>e.accessibilityProvider.getRole(t.element):()=>"treeitem",getAriaLabel(t){return e.accessibilityProvider.getAriaLabel(t.element)},getWidgetAriaLabel(){return e.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:e.accessibilityProvider&&e.accessibilityProvider.getWidgetRole?()=>e.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:e.accessibilityProvider&&e.accessibilityProvider.getAriaLevel?t=>e.accessibilityProvider.getAriaLevel(t.element):t=>t.depth,getActiveDescendantId:e.accessibilityProvider.getActiveDescendantId&&(t=>e.accessibilityProvider.getActiveDescendantId(t.element))},keyboardNavigationLabelProvider:e.keyboardNavigationLabelProvider&&{...e.keyboardNavigationLabelProvider,getKeyboardNavigationLabel(t){return e.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t.element)}}}}var kr=class{constructor(e){this.delegate=e}getHeight(e){return this.delegate.getHeight(e.element)}getTemplateId(e){return this.delegate.getTemplateId(e.element)}hasDynamicHeight(e){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(e.element)}setDynamicHeight(e,t){this.delegate.setDynamicHeight?.(e.element,t)}},Yp=class n{focus;selection;expanded;scrollTop;static lift(e){return e instanceof n?e:new n(e)}static empty(e=0){return new n({focus:[],selection:[],expanded:Object.create(null),scrollTop:e})}constructor(e){if(this.focus=new Set(e.focus),this.selection=new Set(e.selection),e.expanded instanceof Array){this.expanded=Object.create(null);for(let t of e.expanded)this.expanded[t]=1}else this.expanded=e.expanded;this.expanded=e.expanded,this.scrollTop=e.scrollTop}toJSON(){return{focus:Array.from(this.focus),selection:Array.from(this.selection),expanded:this.expanded,scrollTop:this.scrollTop}}};var Xp=class{constructor(e,t=[]){this._elements=t;this.onDidChange=N.forEach(e,i=>this._elements=i,this.disposables)}disposables=new G;onDidChange;get elements(){return this._elements}dispose(){this.disposables.dispose()}},Jp=class n{constructor(e,t,i,o,r,s={}){this.renderer=e;this.model=t;this.activeNodes=o;this.renderedIndentGuides=r;this.templateId=e.templateId,this.updateOptions(s),N.map(i,a=>a.node)(this.onDidChangeNodeTwistieState,this,this.disposables),e.onDidChangeTwistieState?.(this.onDidChangeTwistieState,this,this.disposables)}static DefaultIndent=8;templateId;renderedElements=new Map;renderedNodes=new Map;indent=n.DefaultIndent;hideTwistiesOfChildlessElements=!1;shouldRenderIndentGuides=!1;activeIndentNodes=new Set;indentGuidesDisposable=J.None;disposables=new G;updateOptions(e={}){if(typeof e.indent<"u"){let t=pt(e.indent,0,40);if(t!==this.indent){this.indent=t;for(let[i,o]of this.renderedNodes)this.renderTreeElement(i,o)}}if(typeof e.renderIndentGuides<"u"){let t=e.renderIndentGuides!=="none";if(t!==this.shouldRenderIndentGuides){this.shouldRenderIndentGuides=t;for(let[i,o]of this.renderedNodes)this._renderIndentGuides(i,o);if(this.indentGuidesDisposable.dispose(),t){let i=new G;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,i),this.indentGuidesDisposable=i,this._onDidChangeActiveNodes(this.activeNodes.elements)}}}typeof e.hideTwistiesOfChildlessElements<"u"&&(this.hideTwistiesOfChildlessElements=e.hideTwistiesOfChildlessElements)}renderTemplate(e){let t=se(e,j(".monaco-tl-row")),i=se(t,j(".monaco-tl-indent")),o=se(t,j(".monaco-tl-twistie")),r=se(t,j(".monaco-tl-contents")),s=this.renderer.renderTemplate(r);return{container:e,indent:i,twistie:o,indentGuidesDisposable:J.None,templateData:s}}renderElement(e,t,i,o){this.renderedNodes.set(e,i),this.renderedElements.set(e.element,e),this.renderTreeElement(e,i),this.renderer.renderElement(e,t,i.templateData,o)}disposeElement(e,t,i,o){i.indentGuidesDisposable.dispose(),this.renderer.disposeElement?.(e,t,i.templateData,o),typeof o=="number"&&(this.renderedNodes.delete(e),this.renderedElements.delete(e.element))}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}onDidChangeTwistieState(e){let t=this.renderedElements.get(e);t&&this.onDidChangeNodeTwistieState(t)}onDidChangeNodeTwistieState(e){let t=this.renderedNodes.get(e);t&&(this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderTreeElement(e,t))}renderTreeElement(e,t){let i=n.DefaultIndent+(e.depth-1)*this.indent;t.twistie.style.paddingLeft=`${i}px`,t.indent.style.width=`${i+this.indent-16}px`,e.collapsible?t.container.setAttribute("aria-expanded",String(!e.collapsed)):t.container.removeAttribute("aria-expanded"),t.twistie.classList.remove(...Te.asClassNameArray(ee.treeItemExpanded));let o=!1;this.renderer.renderTwistie&&(o=this.renderer.renderTwistie(e.element,t.twistie)),e.collapsible&&(!this.hideTwistiesOfChildlessElements||e.visibleChildrenCount>0)?(o||t.twistie.classList.add(...Te.asClassNameArray(ee.treeItemExpanded)),t.twistie.classList.add("collapsible"),t.twistie.classList.toggle("collapsed",e.collapsed)):t.twistie.classList.remove("collapsible","collapsed"),this._renderIndentGuides(e,t)}_renderIndentGuides(e,t){if(nt(t.indent),t.indentGuidesDisposable.dispose(),!this.shouldRenderIndentGuides)return;let i=new G;for(;;){let o=this.model.getNodeLocation(e),r=this.model.getParentNodeLocation(o);if(!r)break;let s=this.model.getNode(r),a=j(".indent-guide",{style:`width: ${this.indent}px`});this.activeIndentNodes.has(s)&&a.classList.add("active"),t.indent.childElementCount===0?t.indent.appendChild(a):t.indent.insertBefore(a,t.indent.firstElementChild),this.renderedIndentGuides.add(s,a),i.add(ce(()=>this.renderedIndentGuides.delete(s,a))),e=s}t.indentGuidesDisposable=i}_onDidChangeActiveNodes(e){if(!this.shouldRenderIndentGuides)return;let t=new Set;e.forEach(i=>{let o=this.model.getNodeLocation(i);try{let r=this.model.getParentNodeLocation(o);i.collapsible&&i.children.length>0&&!i.collapsed?t.add(i):r&&t.add(this.model.getNode(r))}catch{}}),this.activeIndentNodes.forEach(i=>{t.has(i)||this.renderedIndentGuides.forEach(i,o=>o.classList.remove("active"))}),t.forEach(i=>{this.activeIndentNodes.has(i)||this.renderedIndentGuides.forEach(i,o=>o.classList.add("active"))}),this.activeIndentNodes=t}setModel(e){this.model=e}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),$e(this.disposables)}},Zp=class{constructor(e,t,i){this.tree=e;this.keyboardNavigationLabelProvider=t;this._filter=i;e.onWillRefilter(this.reset,this,this.disposables)}_totalCount=0;get totalCount(){return this._totalCount}_matchCount=0;get matchCount(){return this._matchCount}_pattern="";_lowercasePattern="";disposables=new G;set pattern(e){this._pattern=e,this._lowercasePattern=e.toLowerCase()}filter(e,t){let i=1;if(this._filter){let s=this._filter.filter(e,t);if(typeof s=="boolean"?i=s?1:0:aa(s)?i=Vo(s.visibility):i=s,i===0)return!1}if(this._totalCount++,!this._pattern)return this._matchCount++,{data:Mo.Default,visibility:i};let o=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(e),r=Array.isArray(o)?o:[o];for(let s of r){let a=s&&s.toString();if(typeof a>"u")return{data:Mo.Default,visibility:i};let l;if(this.tree.findMatchType===1){let c=a.toLowerCase().indexOf(this._lowercasePattern);if(c>-1){l=[Number.MAX_SAFE_INTEGER,0];for(let p=this._lowercasePattern.length;p>0;p--)l.push(c+p-1)}}else l=ap(this._pattern,this._lowercasePattern,0,a,a.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(l)return this._matchCount++,r.length===1?{data:l,visibility:i}:{data:{label:a,score:l},visibility:i}}return this.tree.findMode===1?typeof this.tree.options.defaultFindVisibility=="number"?this.tree.options.defaultFindVisibility:this.tree.options.defaultFindVisibility?this.tree.options.defaultFindVisibility(e):2:{data:Mo.Default,visibility:i}}reset(){this._totalCount=0,this._matchCount=0}dispose(){$e(this.disposables)}},Qp=class extends Si{constructor(e){super({icon:ee.listFilter,title:d("filter","Filter"),isChecked:e.isChecked??!1,hoverDelegate:e.hoverDelegate??ct("element"),inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}},eh=class extends Si{constructor(e){super({icon:ee.searchFuzzy,title:d("fuzzySearch","Fuzzy Match"),isChecked:e.isChecked??!1,hoverDelegate:e.hoverDelegate??ct("element"),inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}},l0={inputBoxStyles:fb,toggleStyles:mb,listFilterWidgetBackground:void 0,listFilterWidgetNoMatchesOutline:void 0,listFilterWidgetOutline:void 0,listFilterWidgetShadow:void 0};var th=class extends J{constructor(t,i,o,r,s,a){super();this.tree=i;t.appendChild(this.elements.root),this._register(ce(()=>this.elements.root.remove()));let l=a?.styles??l0;l.listFilterWidgetBackground&&(this.elements.root.style.backgroundColor=l.listFilterWidgetBackground),l.listFilterWidgetShadow&&(this.elements.root.style.boxShadow=`0 0 8px 2px ${l.listFilterWidgetShadow}`);let c=this._register(Ho());this.modeToggle=this._register(new Qp({...l.toggleStyles,isChecked:r===1,hoverDelegate:c})),this.matchTypeToggle=this._register(new eh({...l.toggleStyles,isChecked:s===0,hoverDelegate:c})),this.onDidChangeMode=N.map(this.modeToggle.onChange,()=>this.modeToggle.checked?1:0,this._store),this.onDidChangeMatchType=N.map(this.matchTypeToggle.onChange,()=>this.matchTypeToggle.checked?0:1,this._store),this.findInput=this._register(new Ed(this.elements.findInput,o,{label:d("type to search","Type to search"),additionalToggles:[this.modeToggle,this.matchTypeToggle],showCommonFindToggles:!1,inputBoxStyles:l.inputBoxStyles,toggleStyles:l.toggleStyles,history:a?.history})),this.actionbar=this._register(new ro(this.elements.actionbar)),this.mode=r;let p=this._register(new re(this.findInput.inputBox.inputElement,"keydown")),h=N.chain(p.event,b=>b.map(x=>new Be(x)));this._register(h(b=>{if(b.equals(3)){b.preventDefault(),b.stopPropagation(),this.findInput.inputBox.addToHistory(),this.tree.domFocus();return}if(b.equals(18)){b.preventDefault(),b.stopPropagation(),this.findInput.inputBox.isAtLastInHistory()||this.findInput.inputBox.isNowhereInHistory()?(this.findInput.inputBox.addToHistory(),this.tree.domFocus()):this.findInput.inputBox.showNextValue();return}if(b.equals(16)){b.preventDefault(),b.stopPropagation(),this.findInput.inputBox.showPreviousValue();return}}));let f=this._register(new oo("close",d("close","Close"),"codicon codicon-close",!0,()=>this.dispose()));this.actionbar.push(f,{icon:!0,label:!1});let T=this._register(new re(this.elements.grab,"mousedown"));this._register(T.event(b=>{let x=new G,k=x.add(new re(be(b),"mousemove")),_=x.add(new re(be(b),"mouseup")),P=this.right,M=b.pageX,R=this.top,K=b.pageY;this.elements.grab.classList.add("grabbing");let U=this.elements.root.style.transition;this.elements.root.style.transition="unset";let O=ie=>{let Se=ie.pageX-M;this.right=P-Se;let ge=ie.pageY-K;this.top=R+ge,this.layout()};x.add(k.event(O)),x.add(_.event(ie=>{O(ie),this.elements.grab.classList.remove("grabbing"),this.elements.root.style.transition=U,x.dispose()}))}));let w=N.chain(this._register(new re(this.elements.grab,"keydown")).event,b=>b.map(x=>new Be(x)));this._register(w(b=>{let x,k;if(b.keyCode===15?x=Number.POSITIVE_INFINITY:b.keyCode===17?x=0:b.keyCode===10&&(x=this.right===0?Number.POSITIVE_INFINITY:0),b.keyCode===16?k=0:b.keyCode===18&&(k=Number.POSITIVE_INFINITY),x!==void 0&&(b.preventDefault(),b.stopPropagation(),this.right=x,this.layout()),k!==void 0){b.preventDefault(),b.stopPropagation(),this.top=k;let _=this.elements.root.style.transition;this.elements.root.style.transition="unset",this.layout(),setTimeout(()=>{this.elements.root.style.transition=_},0)}})),this.onDidChangeValue=this.findInput.onDidChange}elements=Ns(".monaco-tree-type-filter",[Ns(".monaco-tree-type-filter-grab.codicon.codicon-debug-gripper@grab",{tabIndex:0}),Ns(".monaco-tree-type-filter-input@findInput"),Ns(".monaco-tree-type-filter-actionbar@actionbar")]);set mode(t){this.modeToggle.checked=t===1,this.findInput.inputBox.setPlaceHolder(t===1?d("type to filter","Type to filter"):d("type to search","Type to search"))}set matchType(t){this.matchTypeToggle.checked=t===0}get value(){return this.findInput.inputBox.value}set value(t){this.findInput.inputBox.value=t}modeToggle;matchTypeToggle;findInput;actionbar;width=0;right=0;top=0;_onDidDisable=new L;onDidDisable=this._onDidDisable.event;onDidChangeValue;onDidChangeMode;onDidChangeMatchType;getHistory(){return this.findInput.inputBox.getHistory()}focus(){this.findInput.focus()}select(){this.findInput.select(),this.findInput.inputBox.addToHistory(!0)}layout(t=this.width){this.width=t,this.right=pt(this.right,0,Math.max(0,t-212)),this.elements.root.style.right=`${this.right}px`,this.top=pt(this.top,0,24),this.elements.root.style.top=`${this.top}px`}showMessage(t){this.findInput.showMessage(t)}clearMessage(){this.findInput.clearMessage()}async dispose(){this._onDidDisable.fire(),this.elements.root.classList.add("disabled"),await vi(300),super.dispose()}},nh=class{constructor(e,t,i,o,r={}){this.tree=e;this.view=t;this.filter=i;this.contextViewProvider=o;this.options=r;this._mode=e.options.defaultFindMode??0,this._matchType=e.options.defaultFindMatchType??0}_history;_pattern="";get pattern(){return this._pattern}previousPattern="";_mode;get mode(){return this._mode}set mode(e){e!==this._mode&&(this._mode=e,this.widget&&(this.widget.mode=this._mode),this.tree.refilter(),this.render(),this._onDidChangeMode.fire(e))}_matchType;get matchType(){return this._matchType}set matchType(e){e!==this._matchType&&(this._matchType=e,this.widget&&(this.widget.matchType=this._matchType),this.tree.refilter(),this.render(),this._onDidChangeMatchType.fire(e))}widget;width=0;_onDidChangeMode=new L;onDidChangeMode=this._onDidChangeMode.event;_onDidChangeMatchType=new L;onDidChangeMatchType=this._onDidChangeMatchType.event;_onDidChangePattern=new L;onDidChangePattern=this._onDidChangePattern.event;_onDidChangeOpenState=new L;onDidChangeOpenState=this._onDidChangeOpenState.event;enabledDisposables=new G;disposables=new G;updateOptions(e={}){e.defaultFindMode!==void 0&&(this.mode=e.defaultFindMode),e.defaultFindMatchType!==void 0&&(this.matchType=e.defaultFindMatchType)}isOpened(){return!!this.widget}open(){if(this.widget){this.widget.focus(),this.widget.select();return}this.widget=new th(this.view.getHTMLElement(),this.tree,this.contextViewProvider,this.mode,this.matchType,{...this.options,history:this._history}),this.enabledDisposables.add(this.widget),this.widget.onDidChangeValue(this.onDidChangeValue,this,this.enabledDisposables),this.widget.onDidChangeMode(e=>this.mode=e,void 0,this.enabledDisposables),this.widget.onDidChangeMatchType(e=>this.matchType=e,void 0,this.enabledDisposables),this.widget.onDidDisable(this.close,this,this.enabledDisposables),this.widget.layout(this.width),this.widget.focus(),this.widget.value=this.previousPattern,this.widget.select(),this._onDidChangeOpenState.fire(!0)}close(){this.widget&&(this._history=this.widget.getHistory(),this.widget=void 0,this.enabledDisposables.clear(),this.previousPattern=this.pattern,this.onDidChangeValue(""),this.tree.domFocus(),this._onDidChangeOpenState.fire(!1))}onDidChangeValue(e){this._pattern=e,this._onDidChangePattern.fire(e),this.filter.pattern=e,this.tree.refilter(),e&&this.tree.focusNext(0,!0,void 0,i=>!Mo.isDefault(i.filterData));let t=this.tree.getFocus();if(t.length>0){let i=t[0];this.tree.getRelativeTop(i)===null&&this.tree.reveal(i,.5)}this.render()}render(){let e=this.filter.totalCount>0&&this.filter.matchCount===0;this.pattern&&e?(to(d("replFindNoResults","No results")),this.tree.options.showNotFoundMessage??!0?this.widget?.showMessage({type:2,content:d("not found","No elements found.")}):this.widget?.showMessage({type:2})):(this.widget?.clearMessage(),this.pattern&&to(d("replFindResults","{0} results",this.filter.matchCount)))}shouldAllowFocus(e){return!this.widget||!this.pattern||this.filter.totalCount>0&&this.filter.matchCount<=1?!0:!Mo.isDefault(e.filterData)}layout(e){this.width=e,this.widget?.layout(e)}dispose(){this._history=void 0,this._onDidChangePattern.dispose(),this.enabledDisposables.dispose(),this.disposables.dispose()}};function d0(n,e){return n.position===e.position&&bb(n,e)}function bb(n,e){return n.node.element===e.node.element&&n.startIndex===e.startIndex&&n.height===e.height&&n.endIndex===e.endIndex}var ih=class{constructor(e=[]){this.stickyNodes=e}get count(){return this.stickyNodes.length}equal(e){return ln(this.stickyNodes,e.stickyNodes,d0)}lastNodePartiallyVisible(){if(this.count===0)return!1;let e=this.stickyNodes[this.count-1];if(this.count===1)return e.position!==0;let t=this.stickyNodes[this.count-2];return t.position+t.height!==e.position}animationStateChanged(e){if(!ln(this.stickyNodes,e.stickyNodes,bb)||this.count===0)return!1;let t=this.stickyNodes[this.count-1],i=e.stickyNodes[e.count-1];return t.position!==i.position}},oh=class{constrainStickyScrollNodes(e,t,i){for(let o=0;o<e.length;o++){let r=e[o];if(r.position+r.height>i||o>=t)return e.slice(0,o)}return e}},_d=class extends J{constructor(t,i,o,r,s,a={}){super();this.tree=t;this.model=i;this.view=o;this.treeDelegate=s;let l=this.validateStickySettings(a);this.stickyScrollMaxItemCount=l.stickyScrollMaxItemCount,this.stickyScrollDelegate=a.stickyScrollDelegate??new oh,this._widget=this._register(new rh(o.getScrollableElement(),o,t,r,s,a.accessibilityProvider)),this.onDidChangeHasFocus=this._widget.onDidChangeHasFocus,this.onContextMenu=this._widget.onContextMenu,this._register(o.onDidScroll(()=>this.update())),this._register(o.onDidChangeContentHeight(()=>this.update())),this._register(t.onDidChangeCollapseState(()=>this.update())),this.update()}onDidChangeHasFocus;onContextMenu;stickyScrollDelegate;stickyScrollMaxItemCount;maxWidgetViewRatio=.4;_widget;get height(){return this._widget.height}get count(){return this._widget.count}getNode(t){return this._widget.getNode(t)}getNodeAtHeight(t){let i;if(t===0?i=this.view.firstVisibleIndex:i=this.view.indexAt(t+this.view.scrollTop),!(i<0||i>=this.view.length))return this.view.element(i)}update(){let t=this.getNodeAtHeight(0);if(!t||this.tree.scrollTop===0){this._widget.setState(void 0);return}let i=this.findStickyState(t);this._widget.setState(i)}findStickyState(t){let i=[],o=t,r=0,s=this.getNextStickyNode(o,void 0,r);for(;s&&(i.push(s),r+=s.height,!(i.length<=this.stickyScrollMaxItemCount&&(o=this.getNextVisibleNode(s),!o)));)s=this.getNextStickyNode(o,s.node,r);let a=this.constrainStickyNodes(i);return a.length?new ih(a):void 0}getNextVisibleNode(t){return this.getNodeAtHeight(t.position+t.height)}getNextStickyNode(t,i,o){let r=this.getAncestorUnderPrevious(t,i);if(r&&!(r===t&&(!this.nodeIsUncollapsedParent(t)||this.nodeTopAlignsWithStickyNodesBottom(t,o))))return this.createStickyScrollNode(r,o)}nodeTopAlignsWithStickyNodesBottom(t,i){let o=this.getNodeIndex(t),r=this.view.getElementTop(o),s=i;return this.view.scrollTop===r-s}createStickyScrollNode(t,i){let o=this.treeDelegate.getHeight(t),{startIndex:r,endIndex:s}=this.getNodeRange(t),a=this.calculateStickyNodePosition(s,i,o);return{node:t,position:a,height:o,startIndex:r,endIndex:s}}getAncestorUnderPrevious(t,i=void 0){let o=t,r=this.getParentNode(o);for(;r;){if(r===i)return o;o=r,r=this.getParentNode(o)}if(i===void 0)return o}calculateStickyNodePosition(t,i,o){let r=this.view.getRelativeTop(t);if(r===null&&this.view.firstVisibleIndex===t&&t+1<this.view.length){let p=this.treeDelegate.getHeight(this.view.element(t)),h=this.view.getRelativeTop(t+1);r=h?h-p/this.view.renderHeight:null}if(r===null)return i;let s=this.view.element(t),a=this.treeDelegate.getHeight(s),c=r*this.view.renderHeight+a;return i+o>c&&i<=c?c-o:i}constrainStickyNodes(t){if(t.length===0)return[];let i=this.view.renderHeight*this.maxWidgetViewRatio,o=t[t.length-1];if(t.length<=this.stickyScrollMaxItemCount&&o.position+o.height<=i)return t;let r=this.stickyScrollDelegate.constrainStickyScrollNodes(t,this.stickyScrollMaxItemCount,i);if(!r.length)return[];let s=r[r.length-1];if(r.length>this.stickyScrollMaxItemCount||s.position+s.height>i)throw new Error("stickyScrollDelegate violates constraints");return r}getParentNode(t){let i=this.model.getNodeLocation(t),o=this.model.getParentNodeLocation(i);return o?this.model.getNode(o):void 0}nodeIsUncollapsedParent(t){let i=this.model.getNodeLocation(t);return this.model.getListRenderCount(i)>1}getNodeIndex(t){let i=this.model.getNodeLocation(t);return this.model.getListIndex(i)}getNodeRange(t){let i=this.model.getNodeLocation(t),o=this.model.getListIndex(i);if(o<0)throw new Error("Node not found in tree");let r=this.model.getListRenderCount(i),s=o+r-1;return{startIndex:o,endIndex:s}}nodePositionTopBelowWidget(t){let i=[],o=this.getParentNode(t);for(;o;)i.push(o),o=this.getParentNode(o);let r=0;for(let s=0;s<i.length&&s<this.stickyScrollMaxItemCount;s++)r+=this.treeDelegate.getHeight(i[s]);return r}getFocus(){return this._widget.getFocus()}domFocus(){this._widget.domFocus()}focusedLast(){return this._widget.focusedLast()}updateOptions(t={}){if(!t.stickyScrollMaxItemCount)return;let i=this.validateStickySettings(t);this.stickyScrollMaxItemCount!==i.stickyScrollMaxItemCount&&(this.stickyScrollMaxItemCount=i.stickyScrollMaxItemCount,this.update())}validateStickySettings(t){let i=7;return typeof t.stickyScrollMaxItemCount=="number"&&(i=Math.max(t.stickyScrollMaxItemCount,1)),{stickyScrollMaxItemCount:i}}setModel(t){this.model=t}},rh=class{constructor(e,t,i,o,r,s){this.view=t;this.tree=i;this.treeRenderers=o;this.treeDelegate=r;this.accessibilityProvider=s;this._rootDomNode=j(".monaco-tree-sticky-container.empty"),e.appendChild(this._rootDomNode);let a=j(".monaco-tree-sticky-container-shadow");this._rootDomNode.appendChild(a),this.stickyScrollFocus=new sh(this._rootDomNode,t),this.onDidChangeHasFocus=this.stickyScrollFocus.onDidChangeHasFocus,this.onContextMenu=this.stickyScrollFocus.onContextMenu}_rootDomNode;_previousState;_previousElements=[];_previousStateDisposables=new G;stickyScrollFocus;onDidChangeHasFocus;onContextMenu;get height(){if(!this._previousState)return 0;let e=this._previousState.stickyNodes[this._previousState.count-1];return e.position+e.height}get count(){return this._previousState?.count??0}getNode(e){return this._previousState?.stickyNodes.find(t=>t.node===e)}setState(e){let t=!!this._previousState&&this._previousState.count>0,i=!!e&&e.count>0;if(!t&&!i||t&&i&&this._previousState.equal(e))return;if(t!==i&&this.setVisible(i),!i){this._previousState=void 0,this._previousElements=[],this._previousStateDisposables.clear();return}let o=e.stickyNodes[e.count-1];if(this._previousState&&e.animationStateChanged(this._previousState))this._previousElements[this._previousState.count-1].style.top=`${o.position}px`;else{this._previousStateDisposables.clear();let r=Array(e.count);for(let s=e.count-1;s>=0;s--){let a=e.stickyNodes[s],{element:l,disposable:c}=this.createElement(a,s,e.count);r[s]=l,this._rootDomNode.appendChild(l),this._previousStateDisposables.add(c)}this.stickyScrollFocus.updateElements(r,e),this._previousElements=r}this._previousState=e,this._rootDomNode.style.height=`${o.position+o.height}px`}createElement(e,t,i){let o=e.startIndex,r=document.createElement("div");r.style.top=`${e.position}px`,this.tree.options.setRowHeight!==!1&&(r.style.height=`${e.height}px`),this.tree.options.setRowLineHeight!==!1&&(r.style.lineHeight=`${e.height}px`),r.classList.add("monaco-tree-sticky-row"),r.classList.add("monaco-list-row"),r.setAttribute("data-index",`${o}`),r.setAttribute("data-parity",o%2===0?"even":"odd"),r.setAttribute("id",this.view.getElementID(o));let s=this.setAccessibilityAttributes(r,e.node.element,t,i),a=this.treeDelegate.getTemplateId(e.node),l=this.treeRenderers.find(f=>f.templateId===a);if(!l)throw new Error(`No renderer found for template id ${a}`);let c=e.node;c===this.tree.getNode(this.tree.getNodeLocation(e.node))&&(c=new Proxy(e.node,{}));let p=l.renderTemplate(r);l.renderElement(c,e.startIndex,p,e.height);let h=ce(()=>{s.dispose(),l.disposeElement(c,e.startIndex,p,e.height),l.disposeTemplate(p),r.remove()});return{element:r,disposable:h}}setAccessibilityAttributes(e,t,i,o){if(!this.accessibilityProvider)return J.None;this.accessibilityProvider.getSetSize&&e.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(t,i,o))),this.accessibilityProvider.getPosInSet&&e.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(t,i))),this.accessibilityProvider.getRole&&e.setAttribute("role",this.accessibilityProvider.getRole(t)??"treeitem");let r=this.accessibilityProvider.getAriaLabel(t),s=r&&typeof r!="string"?r:ns(r),a=di(c=>{let p=c.readObservable(s);p?e.setAttribute("aria-label",p):e.removeAttribute("aria-label")});typeof r=="string"||r&&e.setAttribute("aria-label",r.get());let l=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(t);return typeof l=="number"&&e.setAttribute("aria-level",`${l}`),e.setAttribute("aria-selected",String(!1)),a}setVisible(e){this._rootDomNode.classList.toggle("empty",!e),e||this.stickyScrollFocus.updateElements([],void 0)}getFocus(){return this.stickyScrollFocus.getFocus()}domFocus(){this.stickyScrollFocus.domFocus()}focusedLast(){return this.stickyScrollFocus.focusedLast()}dispose(){this.stickyScrollFocus.dispose(),this._previousStateDisposables.dispose(),this._rootDomNode.remove()}},sh=class extends J{constructor(t,i){super();this.container=t;this.view=i;this._register(Z(this.container,"focus",()=>this.onFocus())),this._register(Z(this.container,"blur",()=>this.onBlur())),this._register(this.view.onDidFocus(()=>this.toggleStickyScrollFocused(!1))),this._register(this.view.onKeyDown(o=>this.onKeyDown(o))),this._register(this.view.onMouseDown(o=>this.onMouseDown(o))),this._register(this.view.onContextMenu(o=>this.handleContextMenu(o)))}focusedIndex=-1;elements=[];state;_onDidChangeHasFocus=new L;onDidChangeHasFocus=this._onDidChangeHasFocus.event;_onContextMenu=new L;onContextMenu=this._onContextMenu.event;_domHasFocus=!1;get domHasFocus(){return this._domHasFocus}set domHasFocus(t){t!==this._domHasFocus&&(this._onDidChangeHasFocus.fire(t),this._domHasFocus=t)}handleContextMenu(t){let i=t.browserEvent.target;if(!Dr(i)&&!wr(i)){this.focusedLast()&&this.view.domFocus();return}if(!zn(t.browserEvent)){if(!this.state)throw new Error("Context menu should not be triggered when state is undefined");let a=this.state.stickyNodes.findIndex(l=>l.node.element===t.element?.element);if(a===-1)throw new Error("Context menu should not be triggered when element is not in sticky scroll widget");this.container.focus(),this.setFocus(a);return}if(!this.state||this.focusedIndex<0)throw new Error("Context menu key should not be triggered when focus is not in sticky scroll widget");let r=this.state.stickyNodes[this.focusedIndex].node.element,s=this.elements[this.focusedIndex];this._onContextMenu.fire({element:r,anchor:s,browserEvent:t.browserEvent,isStickyScroll:!0})}onKeyDown(t){if(this.domHasFocus&&this.state){if(t.key==="ArrowUp")this.setFocusedElement(Math.max(0,this.focusedIndex-1)),t.preventDefault(),t.stopPropagation();else if(t.key==="ArrowDown"||t.key==="ArrowRight"){if(this.focusedIndex>=this.state.count-1){let i=this.state.stickyNodes[this.state.count-1].startIndex+1;this.view.domFocus(),this.view.setFocus([i]),this.scrollNodeUnderWidget(i,this.state)}else this.setFocusedElement(this.focusedIndex+1);t.preventDefault(),t.stopPropagation()}}}onMouseDown(t){let i=t.browserEvent.target;!Dr(i)&&!wr(i)||(t.browserEvent.preventDefault(),t.browserEvent.stopPropagation())}updateElements(t,i){if(i&&i.count===0)throw new Error("Sticky scroll state must be undefined when there are no sticky nodes");if(i&&i.count!==t.length)throw new Error("Sticky scroll focus received illigel state");let o=this.focusedIndex;if(this.removeFocus(),this.elements=t,this.state=i,i){let r=pt(o,0,i.count-1);this.setFocus(r)}else this.domHasFocus&&this.view.domFocus();this.container.tabIndex=i?0:-1}setFocusedElement(t){let i=this.state;if(!i)throw new Error("Cannot set focus when state is undefined");if(this.setFocus(t),!(t<i.count-1)&&i.lastNodePartiallyVisible()){let o=i.stickyNodes[t];this.scrollNodeUnderWidget(o.endIndex+1,i)}}scrollNodeUnderWidget(t,i){let o=i.stickyNodes[i.count-1],r=i.count>1?i.stickyNodes[i.count-2]:void 0,s=this.view.getElementTop(t),a=r?r.position+r.height+o.height:o.height;this.view.scrollTop=s-a}getFocus(){if(!(!this.state||this.focusedIndex===-1))return this.state.stickyNodes[this.focusedIndex].node.element}domFocus(){if(!this.state)throw new Error("Cannot focus when state is undefined");this.container.focus()}focusedLast(){return this.state?this.view.getHTMLElement().classList.contains("sticky-scroll-focused"):!1}removeFocus(){this.focusedIndex!==-1&&(this.toggleElementFocus(this.elements[this.focusedIndex],!1),this.focusedIndex=-1)}setFocus(t){if(0>t)throw new Error("addFocus() can not remove focus");if(!this.state&&t>=0)throw new Error("Cannot set focus index when state is undefined");if(this.state&&t>=this.state.count)throw new Error("Cannot set focus index to an index that does not exist");let i=this.focusedIndex;i>=0&&this.toggleElementFocus(this.elements[i],!1),t>=0&&this.toggleElementFocus(this.elements[t],!0),this.focusedIndex=t}toggleElementFocus(t,i){this.toggleElementActiveFocus(t,i&&this.domHasFocus),this.toggleElementPassiveFocus(t,i)}toggleCurrentElementActiveFocus(t){this.focusedIndex!==-1&&this.toggleElementActiveFocus(this.elements[this.focusedIndex],t)}toggleElementActiveFocus(t,i){t.classList.toggle("focused",i)}toggleElementPassiveFocus(t,i){t.classList.toggle("passive-focused",i)}toggleStickyScrollFocused(t){this.view.getHTMLElement().classList.toggle("sticky-scroll-focused",t)}onFocus(){if(!this.state||this.elements.length===0)throw new Error("Cannot focus when state is undefined or elements are empty");this.domHasFocus=!0,this.toggleStickyScrollFocused(!0),this.toggleCurrentElementActiveFocus(!0),this.focusedIndex===-1&&this.setFocus(0)}onBlur(){this.domHasFocus=!1,this.toggleCurrentElementActiveFocus(!1)}dispose(){this.toggleStickyScrollFocused(!1),this._onDidChangeHasFocus.fire(!1),super.dispose()}};function _r(n){let e=0;return Al(n.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?e=1:Al(n.browserEvent.target,"monaco-tl-contents","monaco-tl-row")?e=2:Al(n.browserEvent.target,"monaco-tree-type-filter","monaco-list")&&(e=3),{browserEvent:n.browserEvent,element:n.element?n.element.element:null,target:e}}function c0(n){let e=Dr(n.browserEvent.target);return{element:n.element?n.element.element:null,browserEvent:n.browserEvent,anchor:n.anchor,isStickyScroll:e}}function Cd(n,e){e(n),n.children.forEach(t=>Cd(t,e))}var la=class{constructor(e,t){this.getFirstViewElementWithTrait=e;this.identityProvider=t}nodes=[];elements;_onDidChange=new L;onDidChange=this._onDidChange.event;_nodeSet;get nodeSet(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}set(e,t){!t?.__forceEvent&&ln(this.nodes,e)||this._set(e,!1,t)}_set(e,t,i){if(this.nodes=[...e],this.elements=void 0,this._nodeSet=void 0,!t){let o=this;this._onDidChange.fire({get elements(){return o.get()},browserEvent:i})}}get(){return this.elements||(this.elements=this.nodes.map(e=>e.element)),[...this.elements]}getNodes(){return this.nodes}has(e){return this.nodeSet.has(e)}onDidModelSplice({insertedNodes:e,deletedNodes:t}){if(!this.identityProvider){let l=this.createNodeSet(),c=p=>l.delete(p);t.forEach(p=>Cd(p,c)),this.set([...l.values()]);return}let i=new Set,o=l=>i.add(this.identityProvider.getId(l.element).toString());t.forEach(l=>Cd(l,o));let r=new Map,s=l=>r.set(this.identityProvider.getId(l.element).toString(),l);e.forEach(l=>Cd(l,s));let a=[];for(let l of this.nodes){let c=this.identityProvider.getId(l.element).toString();if(!i.has(c))a.push(l);else{let h=r.get(c);h&&h.visible&&a.push(h)}}if(this.nodes.length>0&&a.length===0){let l=this.getFirstViewElementWithTrait();l&&a.push(l)}this._set(a,!0)}createNodeSet(){let e=new Set;for(let t of this.nodes)e.add(t);return e}},ah=class extends ta{constructor(t,i,o){super(t);this.tree=i;this.stickyScrollProvider=o}onViewPointer(t){if(wp(t.browserEvent.target)||$n(t.browserEvent.target)||Er(t.browserEvent.target)||t.browserEvent.isHandledByList)return;let i=t.element;if(!i)return super.onViewPointer(t);if(this.isSelectionRangeChangeEvent(t)||this.isSelectionSingleChangeEvent(t))return super.onViewPointer(t);let o=t.browserEvent.target,r=o.classList.contains("monaco-tl-twistie")||o.classList.contains("monaco-icon-label")&&o.classList.contains("folder-icon")&&t.browserEvent.offsetX<16,s=wr(t.browserEvent.target),a=!1;if(s?a=!0:typeof this.tree.expandOnlyOnTwistieClick=="function"?a=this.tree.expandOnlyOnTwistieClick(i.element):a=!!this.tree.expandOnlyOnTwistieClick,s)this.handleStickyScrollMouseEvent(t,i);else{if(a&&!r&&t.browserEvent.detail!==2)return super.onViewPointer(t);if(!this.tree.expandOnDoubleClick&&t.browserEvent.detail===2)return super.onViewPointer(t)}if(i.collapsible&&(!s||r)){let l=this.tree.getNodeLocation(i),c=t.browserEvent.altKey;if(this.tree.setFocus([l]),this.tree.toggleCollapsed(l,c),r){t.browserEvent.isHandledByList=!0;return}}s||super.onViewPointer(t)}handleStickyScrollMouseEvent(t,i){if(tb(t.browserEvent.target)||nb(t.browserEvent.target))return;let o=this.stickyScrollProvider();if(!o)throw new Error("Sticky scroll controller not found");let r=this.list.indexOf(i),s=this.list.getElementTop(r),a=o.nodePositionTopBelowWidget(i);this.tree.scrollTop=s-a,this.list.domFocus(),this.list.setFocus([r]),this.list.setSelection([r])}onDoubleClick(t){t.browserEvent.target.classList.contains("monaco-tl-twistie")||!this.tree.expandOnDoubleClick||t.browserEvent.isHandledByList||super.onDoubleClick(t)}onMouseDown(t){let i=t.browserEvent.target;if(!Dr(i)&&!wr(i)){super.onMouseDown(t);return}}onContextMenu(t){let i=t.browserEvent.target;if(!Dr(i)&&!wr(i)){super.onContextMenu(t);return}}},lh=class extends ft{constructor(t,i,o,r,s,a,l,c){super(t,i,o,r,c);this.focusTrait=s;this.selectionTrait=a;this.anchorTrait=l}createMouseController(t){return new ah(this,t.tree,t.stickyScrollProvider)}splice(t,i,o=[]){if(super.splice(t,i,o),o.length===0)return;let r=[],s=[],a;o.forEach((l,c)=>{this.focusTrait.has(l)&&r.push(t+c),this.selectionTrait.has(l)&&s.push(t+c),this.anchorTrait.has(l)&&(a=t+c)}),r.length>0&&super.setFocus(wo([...super.getFocus(),...r])),s.length>0&&super.setSelection(wo([...super.getSelection(),...s])),typeof a=="number"&&super.setAnchor(a)}setFocus(t,i,o=!1){super.setFocus(t,i),o||this.focusTrait.set(t.map(r=>this.element(r)),i)}setSelection(t,i,o=!1){super.setSelection(t,i),o||this.selectionTrait.set(t.map(r=>this.element(r)),i)}setAnchor(t,i=!1){super.setAnchor(t),i||(typeof t>"u"?this.anchorTrait.set([]):this.anchorTrait.set([this.element(t)]))}};var Lr=class{constructor(e,t,i,o,r={}){this._user=e;this._options=r;let s;r.keyboardNavigationLabelProvider&&(s=new Zp(this,r.keyboardNavigationLabelProvider,r.filter),r={...r,filter:s},this.disposables.add(s)),this.model=this.createModel(e,r),this.treeDelegate=new kr(i);let a=this.disposables.add(new Xp(this.onDidChangeActiveNodesRelay.event)),l=new gs;this.renderers=o.map(c=>new Jp(c,this.model,this.onDidChangeCollapseStateRelay.event,a,l,r));for(let c of this.renderers)this.disposables.add(c);if(this.focus=new la(()=>this.view.getFocusedElements()[0],r.identityProvider),this.selection=new la(()=>this.view.getSelectedElements()[0],r.identityProvider),this.anchor=new la(()=>this.view.getAnchorElement(),r.identityProvider),this.view=new lh(e,t,this.treeDelegate,this.renderers,this.focus,this.selection,this.anchor,{...a0(()=>this.model,r),tree:this,stickyScrollProvider:()=>this.stickyScrollController}),this.setupModel(this.model),r.keyboardSupport!==!1){let c=N.chain(this.view.onKeyDown,p=>p.filter(h=>!$n(h.target)).map(h=>new Be(h)));N.chain(c,p=>p.filter(h=>h.keyCode===15))(this.onLeftArrow,this,this.disposables),N.chain(c,p=>p.filter(h=>h.keyCode===17))(this.onRightArrow,this,this.disposables),N.chain(c,p=>p.filter(h=>h.keyCode===10))(this.onSpace,this,this.disposables)}if((r.findWidgetEnabled??!0)&&r.keyboardNavigationLabelProvider&&r.contextViewProvider){let c=this.options.findWidgetStyles?{styles:this.options.findWidgetStyles}:void 0;this.findController=new nh(this,this.view,s,r.contextViewProvider,c),this.focusNavigationFilter=p=>this.findController.shouldAllowFocus(p),this.onDidChangeFindOpenState=this.findController.onDidChangeOpenState,this.disposables.add(this.findController),this.onDidChangeFindMode=this.findController.onDidChangeMode,this.onDidChangeFindMatchType=this.findController.onDidChangeMatchType,this.disposables.add(this.onDidSpliceModelRelay.event(()=>{!this.findController.isOpened()||this.findController.pattern.length===0||(this.refilter(),this.findController.render())}))}else this.onDidChangeFindMode=N.None,this.onDidChangeFindMatchType=N.None;r.enableStickyScroll&&(this.stickyScrollController=new _d(this,this.model,this.view,this.renderers,this.treeDelegate,r),this.onDidChangeStickyScrollFocused=this.stickyScrollController.onDidChangeHasFocus),this.styleElement=cn(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides==="always")}view;renderers;model;treeDelegate;focus;selection;anchor;eventBufferer=new Mi;findController;onDidChangeFindOpenState=N.None;onDidChangeStickyScrollFocused=N.None;focusNavigationFilter;stickyScrollController;styleElement;disposables=new G;get onDidScroll(){return this.view.onDidScroll}get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseClick(){return N.map(this.view.onMouseClick,_r)}get onMouseDblClick(){return N.filter(N.map(this.view.onMouseDblClick,_r),e=>e.target!==3)}get onMouseOver(){return N.map(this.view.onMouseOver,_r)}get onMouseOut(){return N.map(this.view.onMouseOut,_r)}get onContextMenu(){return N.any(N.filter(N.map(this.view.onContextMenu,c0),e=>!e.isStickyScroll),this.stickyScrollController?.onContextMenu??N.None)}get onTap(){return N.map(this.view.onTap,_r)}get onPointer(){return N.map(this.view.onPointer,_r)}get onKeyDown(){return this.view.onKeyDown}get onKeyUp(){return this.view.onKeyUp}get onKeyPress(){return this.view.onKeyPress}get onDidFocus(){return this.view.onDidFocus}get onDidBlur(){return this.view.onDidBlur}onDidSwapModel=this.disposables.add(new L);onDidChangeModelRelay=this.disposables.add(new ci);onDidSpliceModelRelay=this.disposables.add(new ci);onDidChangeCollapseStateRelay=this.disposables.add(new ci);onDidChangeRenderNodeCountRelay=this.disposables.add(new ci);onDidChangeActiveNodesRelay=this.disposables.add(new ci);get onDidChangeModel(){return N.any(this.onDidChangeModelRelay.event,this.onDidSwapModel.event)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}_onWillRefilter=new L;onWillRefilter=this._onWillRefilter.event;get findMode(){return this.findController?.mode??0}set findMode(e){this.findController&&(this.findController.mode=e)}onDidChangeFindMode;get findMatchType(){return this.findController?.matchType??0}set findMatchType(e){this.findController&&(this.findController.matchType=e)}onDidChangeFindMatchType;get onDidChangeFindPattern(){return this.findController?this.findController.onDidChangePattern:N.None}get expandOnDoubleClick(){return typeof this._options.expandOnDoubleClick>"u"?!0:this._options.expandOnDoubleClick}get expandOnlyOnTwistieClick(){return typeof this._options.expandOnlyOnTwistieClick>"u"?!0:this._options.expandOnlyOnTwistieClick}_onDidUpdateOptions=new L;onDidUpdateOptions=this._onDidUpdateOptions.event;get onDidDispose(){return this.view.onDidDispose}updateOptions(e={}){this._options={...this._options,...e};for(let t of this.renderers)t.updateOptions(e);this.view.updateOptions(this._options),this.findController?.updateOptions(e),this.updateStickyScroll(e),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides==="always")}get options(){return this._options}updateStickyScroll(e){!this.stickyScrollController&&this._options.enableStickyScroll?(this.stickyScrollController=new _d(this,this.model,this.view,this.renderers,this.treeDelegate,this._options),this.onDidChangeStickyScrollFocused=this.stickyScrollController.onDidChangeHasFocus):this.stickyScrollController&&!this._options.enableStickyScroll&&(this.onDidChangeStickyScrollFocused=N.None,this.stickyScrollController.dispose(),this.stickyScrollController=void 0),this.stickyScrollController?.updateOptions(e)}updateWidth(e){let t=this.model.getListIndex(e);t!==-1&&this.view.updateWidth(t)}getHTMLElement(){return this.view.getHTMLElement()}get contentHeight(){return this.view.contentHeight}get contentWidth(){return this.view.contentWidth}get onDidChangeContentHeight(){return this.view.onDidChangeContentHeight}get onDidChangeContentWidth(){return this.view.onDidChangeContentWidth}get scrollTop(){return this.view.scrollTop}set scrollTop(e){this.view.scrollTop=e}get scrollLeft(){return this.view.scrollLeft}set scrollLeft(e){this.view.scrollLeft=e}get scrollHeight(){return this.view.scrollHeight}get renderHeight(){return this.view.renderHeight}get firstVisibleElement(){let e=this.view.firstVisibleIndex;return this.stickyScrollController&&(e+=this.stickyScrollController.count),e<0||e>=this.view.length?void 0:this.view.element(e).element}get lastVisibleElement(){let e=this.view.lastVisibleIndex;return this.view.element(e).element}get ariaLabel(){return this.view.ariaLabel}set ariaLabel(e){this.view.ariaLabel=e}get selectionSize(){return this.selection.getNodes().length}domFocus(){this.stickyScrollController?.focusedLast()?this.stickyScrollController.domFocus():this.view.domFocus()}isDOMFocused(){return $t(this.getHTMLElement())}layout(e,t){this.view.layout(e,t),En(t)&&this.findController?.layout(t)}style(e){let t=`.${this.view.domId}`,i=[];e.treeIndentGuidesStroke&&(i.push(`.monaco-list${t}:hover .monaco-tl-indent > .indent-guide, .monaco-list${t}.always .monaco-tl-indent > .indent-guide  { border-color: ${e.treeInactiveIndentGuidesStroke}; }`),i.push(`.monaco-list${t} .monaco-tl-indent > .indent-guide.active { border-color: ${e.treeIndentGuidesStroke}; }`));let o=e.treeStickyScrollBackground??e.listBackground;o&&(i.push(`.monaco-list${t} .monaco-scrollable-element .monaco-tree-sticky-container { background-color: ${o}; }`),i.push(`.monaco-list${t} .monaco-scrollable-element .monaco-tree-sticky-container .monaco-tree-sticky-row { background-color: ${o}; }`)),e.treeStickyScrollBorder&&i.push(`.monaco-list${t} .monaco-scrollable-element .monaco-tree-sticky-container { border-bottom: 1px solid ${e.treeStickyScrollBorder}; }`),e.treeStickyScrollShadow&&i.push(`.monaco-list${t} .monaco-scrollable-element .monaco-tree-sticky-container .monaco-tree-sticky-container-shadow { box-shadow: ${e.treeStickyScrollShadow} 0 6px 6px -6px inset; height: 3px; }`),e.listFocusForeground&&(i.push(`.monaco-list${t}.sticky-scroll-focused .monaco-scrollable-element .monaco-tree-sticky-container:focus .monaco-list-row.focused { color: ${e.listFocusForeground}; }`),i.push(`.monaco-list${t}:not(.sticky-scroll-focused) .monaco-scrollable-element .monaco-tree-sticky-container .monaco-list-row.focused { color: inherit; }`));let r=un(e.listFocusAndSelectionOutline,un(e.listSelectionOutline,e.listFocusOutline??""));r&&(i.push(`.monaco-list${t}.sticky-scroll-focused .monaco-scrollable-element .monaco-tree-sticky-container:focus .monaco-list-row.focused.selected { outline: 1px solid ${r}; outline-offset: -1px;}`),i.push(`.monaco-list${t}:not(.sticky-scroll-focused) .monaco-scrollable-element .monaco-tree-sticky-container .monaco-list-row.focused.selected { outline: inherit;}`)),e.listFocusOutline&&(i.push(`.monaco-list${t}.sticky-scroll-focused .monaco-scrollable-element .monaco-tree-sticky-container:focus .monaco-list-row.focused { outline: 1px solid ${e.listFocusOutline}; outline-offset: -1px; }`),i.push(`.monaco-list${t}:not(.sticky-scroll-focused) .monaco-scrollable-element .monaco-tree-sticky-container .monaco-list-row.focused { outline: inherit; }`),i.push(`.monaco-workbench.context-menu-visible .monaco-list${t}.last-focused.sticky-scroll-focused .monaco-scrollable-element .monaco-tree-sticky-container .monaco-list-row.passive-focused { outline: 1px solid ${e.listFocusOutline}; outline-offset: -1px; }`),i.push(`.monaco-workbench.context-menu-visible .monaco-list${t}.last-focused.sticky-scroll-focused .monaco-list-rows .monaco-list-row.focused { outline: inherit; }`),i.push(`.monaco-workbench.context-menu-visible .monaco-list${t}.last-focused:not(.sticky-scroll-focused) .monaco-tree-sticky-container .monaco-list-rows .monaco-list-row.focused { outline: inherit; }`)),this.styleElement.textContent=i.join(`
`),this.view.style(e)}getParentElement(e){let t=this.model.getParentNodeLocation(e);return this.model.getNode(t).element}getFirstElementChild(e){return this.model.getFirstElementChild(e)}getNode(e){return this.model.getNode(e)}getNodeLocation(e){return this.model.getNodeLocation(e)}collapse(e,t=!1){return this.model.setCollapsed(e,!0,t)}expand(e,t=!1){return this.model.setCollapsed(e,!1,t)}toggleCollapsed(e,t=!1){return this.model.setCollapsed(e,void 0,t)}expandAll(){this.model.setCollapsed(this.model.rootRef,!1,!0)}collapseAll(){this.model.setCollapsed(this.model.rootRef,!0,!0)}isCollapsible(e){return this.model.isCollapsible(e)}setCollapsible(e,t){return this.model.setCollapsible(e,t)}isCollapsed(e){return this.model.isCollapsed(e)}expandTo(e){this.model.expandTo(e)}triggerTypeNavigation(){this.view.triggerTypeNavigation()}openFind(){this.findController?.open()}closeFind(){this.findController?.close()}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setAnchor(e){if(typeof e>"u")return this.view.setAnchor(void 0);this.eventBufferer.bufferEvents(()=>{let t=this.model.getNode(e);this.anchor.set([t]);let i=this.model.getListIndex(e);i>-1&&this.view.setAnchor(i,!0)})}getAnchor(){return this.anchor.get().at(0)}setSelection(e,t){this.eventBufferer.bufferEvents(()=>{let i=e.map(r=>this.model.getNode(r));this.selection.set(i,t);let o=e.map(r=>this.model.getListIndex(r)).filter(r=>r>-1);this.view.setSelection(o,t,!0)})}getSelection(){return this.selection.get()}setFocus(e,t){this.eventBufferer.bufferEvents(()=>{let i=e.map(r=>this.model.getNode(r));this.focus.set(i,t);let o=e.map(r=>this.model.getListIndex(r)).filter(r=>r>-1);this.view.setFocus(o,t,!0)})}focusNext(e=1,t=!1,i,o=zn(i)&&i.altKey?void 0:this.focusNavigationFilter){this.view.focusNext(e,t,i,o)}focusPrevious(e=1,t=!1,i,o=zn(i)&&i.altKey?void 0:this.focusNavigationFilter){this.view.focusPrevious(e,t,i,o)}focusNextPage(e,t=zn(e)&&e.altKey?void 0:this.focusNavigationFilter){return this.view.focusNextPage(e,t)}focusPreviousPage(e,t=zn(e)&&e.altKey?void 0:this.focusNavigationFilter){return this.view.focusPreviousPage(e,t,()=>this.stickyScrollController?.height??0)}focusLast(e,t=zn(e)&&e.altKey?void 0:this.focusNavigationFilter){this.view.focusLast(e,t)}focusFirst(e,t=zn(e)&&e.altKey?void 0:this.focusNavigationFilter){this.view.focusFirst(e,t)}getFocus(){return this.focus.get()}getStickyScrollFocus(){let e=this.stickyScrollController?.getFocus();return e!==void 0?[e]:[]}getFocusedPart(){return this.stickyScrollController?.focusedLast()?1:0}reveal(e,t){this.model.expandTo(e);let i=this.model.getListIndex(e);if(i!==-1)if(!this.stickyScrollController)this.view.reveal(i,t);else{let o=this.stickyScrollController.nodePositionTopBelowWidget(this.getNode(e));this.view.reveal(i,t,o)}}getRelativeTop(e){let t=this.model.getListIndex(e);if(t===-1)return null;let i=this.stickyScrollController?.getNode(this.getNode(e));return this.view.getRelativeTop(t,i?.position??this.stickyScrollController?.height)}getViewState(e=this.options.identityProvider){if(!e)throw new He(this._user,"Can't get tree view state without an identity provider");let t=s=>e.getId(s).toString(),i=Yp.empty(this.scrollTop);for(let s of this.getFocus())i.focus.add(t(s));for(let s of this.getSelection())i.selection.add(t(s));let o=this.model.getNode(),r=[o];for(;r.length>0;){let s=r.shift();s!==o&&s.collapsible&&(i.expanded[t(s.element)]=s.collapsed?0:1),r.push(...s.children)}return i}onLeftArrow(e){e.preventDefault(),e.stopPropagation();let t=this.view.getFocusedElements();if(t.length===0)return;let i=t[0],o=this.model.getNodeLocation(i);if(!this.model.setCollapsed(o,!0)){let s=this.model.getParentNodeLocation(o);if(!s)return;let a=this.model.getListIndex(s);this.view.reveal(a),this.view.setFocus([a])}}onRightArrow(e){e.preventDefault(),e.stopPropagation();let t=this.view.getFocusedElements();if(t.length===0)return;let i=t[0],o=this.model.getNodeLocation(i);if(!this.model.setCollapsed(o,!1)){if(!i.children.some(l=>l.visible))return;let[s]=this.view.getFocus(),a=s+1;this.view.reveal(a),this.view.setFocus([a])}}onSpace(e){e.preventDefault(),e.stopPropagation();let t=this.view.getFocusedElements();if(t.length===0)return;let i=t[0],o=this.model.getNodeLocation(i),r=e.browserEvent.altKey;this.model.setCollapsed(o,void 0,r)}modelDisposables=new G;setupModel(e){this.modelDisposables.clear(),this.modelDisposables.add(e.onDidSpliceRenderedNodes(({start:r,deleteCount:s,elements:a})=>this.view.splice(r,s,a)));let t=N.forEach(e.onDidSpliceModel,r=>{this.eventBufferer.bufferEvents(()=>{this.focus.onDidModelSplice(r),this.selection.onDidModelSplice(r)})},this.modelDisposables);t(()=>null,null,this.modelDisposables);let i=this.modelDisposables.add(new L),o=this.modelDisposables.add(new Vn(0));this.modelDisposables.add(N.any(t,this.focus.onDidChange,this.selection.onDidChange)(()=>{o.trigger(()=>{let r=new Set;for(let s of this.focus.getNodes())r.add(s);for(let s of this.selection.getNodes())r.add(s);i.fire([...r.values()])})})),this.onDidChangeActiveNodesRelay.input=i.event,this.onDidChangeModelRelay.input=N.signal(e.onDidSpliceModel),this.onDidChangeCollapseStateRelay.input=e.onDidChangeCollapseState,this.onDidChangeRenderNodeCountRelay.input=e.onDidChangeRenderNodeCount}setModel(e){let t=this.model;this.model=e,this.setupModel(e),this.renderers.forEach(i=>i.setModel(e)),this.stickyScrollController?.setModel(e),this.focus.set([]),this.selection.set([]),this.anchor.set([]),this.view.splice(0,t.getListRenderCount(t.rootRef)),this.model.refilter(),this.onDidSwapModel.fire()}getModel(){return this.model}navigate(e){return new dh(this.view,this.model,e)}dispose(){$e(this.disposables),this.stickyScrollController?.dispose(),this.view.dispose(),this.modelDisposables.dispose()}},dh=class{constructor(e,t,i){this.view=e;this.model=t;i?this.index=this.model.getListIndex(i):this.index=-1}index;current(){return this.index<0||this.index>=this.view.length?null:this.view.element(this.index).element}previous(){return this.index--,this.current()}next(){return this.index++,this.current()}first(){return this.index=0,this.current()}last(){return this.index=this.view.length-1,this.current()}};var lo=class{constructor(e,t={}){this.user=e;this.model=new Dd(e,null,t),this.onDidSpliceModel=this.model.onDidSpliceModel,this.onDidSpliceRenderedNodes=this.model.onDidSpliceRenderedNodes,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,t.sorter&&(this.sorter={compare(i,o){return t.sorter.compare(i.element,o.element)}}),this.identityProvider=t.identityProvider}rootRef=null;model;nodes=new Map;nodesByIdentity=new Map;identityProvider;sorter;onDidSpliceModel;onDidSpliceRenderedNodes;onDidChangeCollapseState;onDidChangeRenderNodeCount;get size(){return this.nodes.size}setChildren(e,t=ye.empty(),i={}){let o=this.getElementLocation(e);this._setChildren(o,this.preserveCollapseState(t),i)}_setChildren(e,t=ye.empty(),i){let o=new Set,r=new Set,s=l=>{if(l.element===null)return;let c=l;if(o.add(c.element),this.nodes.set(c.element,c),this.identityProvider){let p=this.identityProvider.getId(c.element).toString();r.add(p),this.nodesByIdentity.set(p,c)}i.onDidCreateNode?.(c)},a=l=>{if(l.element===null)return;let c=l;if(o.has(c.element)||this.nodes.delete(c.element),this.identityProvider){let p=this.identityProvider.getId(c.element).toString();r.has(p)||this.nodesByIdentity.delete(p)}i.onDidDeleteNode?.(c)};this.model.splice([...e,0],Number.MAX_VALUE,t,{...i,onDidCreateNode:s,onDidDeleteNode:a})}preserveCollapseState(e=ye.empty()){return this.sorter&&(e=[...e].sort(this.sorter.compare.bind(this.sorter))),ye.map(e,t=>{let i=this.nodes.get(t.element);if(!i&&this.identityProvider){let s=this.identityProvider.getId(t.element).toString();i=this.nodesByIdentity.get(s)}if(!i){let s;return typeof t.collapsed>"u"?s=void 0:t.collapsed===1||t.collapsed===3?s=!0:t.collapsed===0||t.collapsed===2?s=!1:s=!!t.collapsed,{...t,children:this.preserveCollapseState(t.children),collapsed:s}}let o=typeof t.collapsible=="boolean"?t.collapsible:i.collapsible,r;return typeof t.collapsed>"u"||t.collapsed===3||t.collapsed===2?r=i.collapsed:t.collapsed===1?r=!0:t.collapsed===0?r=!1:r=!!t.collapsed,{...t,collapsible:o,collapsed:r,children:this.preserveCollapseState(t.children)}})}rerender(e){let t=this.getElementLocation(e);this.model.rerender(t)}resort(e=null,t=!0){if(!this.sorter)return;let i=this.getElementLocation(e),o=this.model.getNode(i);this._setChildren(i,this.resortChildren(o,t),{})}resortChildren(e,t,i=!0){let o=[...e.children];return(t||i)&&(o=o.sort(this.sorter.compare.bind(this.sorter))),ye.map(o,r=>({element:r.element,collapsible:r.collapsible,collapsed:r.collapsed,children:this.resortChildren(r,t,!1)}))}getFirstElementChild(e=null){let t=this.getElementLocation(e);return this.model.getFirstElementChild(t)}getLastElementAncestor(e=null){let t=this.getElementLocation(e);return this.model.getLastElementAncestor(t)}has(e){return this.nodes.has(e)}getListIndex(e){let t=this.getElementLocation(e);return this.model.getListIndex(t)}getListRenderCount(e){let t=this.getElementLocation(e);return this.model.getListRenderCount(t)}isCollapsible(e){let t=this.getElementLocation(e);return this.model.isCollapsible(t)}setCollapsible(e,t){let i=this.getElementLocation(e);return this.model.setCollapsible(i,t)}isCollapsed(e){let t=this.getElementLocation(e);return this.model.isCollapsed(t)}setCollapsed(e,t,i){let o=this.getElementLocation(e);return this.model.setCollapsed(o,t,i)}expandTo(e){let t=this.getElementLocation(e);this.model.expandTo(t)}refilter(){this.model.refilter()}getNode(e=null){if(e===null)return this.model.getNode(this.model.rootRef);let t=this.nodes.get(e);if(!t)throw new He(this.user,`Tree element not found: ${e}`);return t}getNodeLocation(e){return e.element}getParentNodeLocation(e){if(e===null)throw new He(this.user,"Invalid getParentNodeLocation call");let t=this.nodes.get(e);if(!t)throw new He(this.user,`Tree element not found: ${e}`);let i=this.model.getNodeLocation(t),o=this.model.getParentNodeLocation(i);return this.model.getNode(o).element}getElementLocation(e){if(e===null)return[];let t=this.nodes.get(e);if(!t)throw new He(this.user,`Tree element not found: ${e}`);return this.model.getNodeLocation(t)}};function kd(n){let e=[n.element],t=n.incompressible||!1;return{element:{elements:e,incompressible:t},children:ye.map(ye.from(n.children),kd),collapsible:n.collapsible,collapsed:n.collapsed}}function Ld(n){let e=[n.element],t=n.incompressible||!1,i,o;for(;[o,i]=ye.consume(ye.from(n.children),2),!(o.length!==1||o[0].incompressible);)n=o[0],e.push(n.element);return{element:{elements:e,incompressible:t},children:ye.map(ye.concat(o,i),Ld),collapsible:n.collapsible,collapsed:n.collapsed}}function ch(n,e=0){let t;return e<n.element.elements.length-1?t=[ch(n,e+1)]:t=ye.map(ye.from(n.children),i=>ch(i,0)),e===0&&n.element.incompressible?{element:n.element.elements[e],children:t,incompressible:!0,collapsible:n.collapsible,collapsed:n.collapsed}:{element:n.element.elements[e],children:t,collapsible:n.collapsible,collapsed:n.collapsed}}function vb(n){return ch(n,0)}function yb(n,e,t){return n.element===e?{...n,children:t}:{...n,children:ye.map(ye.from(n.children),i=>yb(i,e,t))}}var p0=n=>({getId(e){return e.elements.map(t=>n.getId(t).toString()).join("\0")}}),uh=class{constructor(e,t={}){this.user=e;this.model=new lo(e,t),this.enabled=typeof t.compressionEnabled>"u"?!0:t.compressionEnabled,this.identityProvider=t.identityProvider}rootRef=null;get onDidSpliceRenderedNodes(){return this.model.onDidSpliceRenderedNodes}get onDidSpliceModel(){return this.model.onDidSpliceModel}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}model;nodes=new Map;enabled;identityProvider;get size(){return this.nodes.size}setChildren(e,t=ye.empty(),i){let o=i.diffIdentityProvider&&p0(i.diffIdentityProvider);if(e===null){let w=ye.map(t,this.enabled?Ld:kd);this._setChildren(null,w,{diffIdentityProvider:o,diffDepth:1/0});return}let r=this.nodes.get(e);if(!r)throw new He(this.user,"Unknown compressed tree node");let s=this.model.getNode(r),a=this.model.getParentNodeLocation(r),l=this.model.getNode(a),c=vb(s),p=yb(c,e,t),h=(this.enabled?Ld:kd)(p),f=i.diffIdentityProvider?(w,b)=>i.diffIdentityProvider.getId(w)===i.diffIdentityProvider.getId(b):void 0;if(ln(h.element.elements,s.element.elements,f)){this._setChildren(r,h.children||ye.empty(),{diffIdentityProvider:o,diffDepth:1});return}let T=l.children.map(w=>w===s?h:w);this._setChildren(l.element,T,{diffIdentityProvider:o,diffDepth:s.depth-l.depth})}isCompressionEnabled(){return this.enabled}setCompressionEnabled(e){if(e===this.enabled)return;this.enabled=e;let i=this.model.getNode().children,o=ye.map(i,vb),r=ye.map(o,e?Ld:kd);this._setChildren(null,r,{diffIdentityProvider:this.identityProvider,diffDepth:1/0})}_setChildren(e,t,i){let o=new Set,r=a=>{for(let l of a.element.elements)o.add(l),this.nodes.set(l,a.element)},s=a=>{for(let l of a.element.elements)o.has(l)||this.nodes.delete(l)};this.model.setChildren(e,t,{...i,onDidCreateNode:r,onDidDeleteNode:s})}has(e){return this.nodes.has(e)}getListIndex(e){let t=this.getCompressedNode(e);return this.model.getListIndex(t)}getListRenderCount(e){let t=this.getCompressedNode(e);return this.model.getListRenderCount(t)}getNode(e){if(typeof e>"u")return this.model.getNode();let t=this.getCompressedNode(e);return this.model.getNode(t)}getNodeLocation(e){let t=this.model.getNodeLocation(e);return t===null?null:t.elements[t.elements.length-1]}getParentNodeLocation(e){let t=this.getCompressedNode(e),i=this.model.getParentNodeLocation(t);return i===null?null:i.elements[i.elements.length-1]}getFirstElementChild(e){let t=this.getCompressedNode(e);return this.model.getFirstElementChild(t)}getLastElementAncestor(e){let t=typeof e>"u"?void 0:this.getCompressedNode(e);return this.model.getLastElementAncestor(t)}isCollapsible(e){let t=this.getCompressedNode(e);return this.model.isCollapsible(t)}setCollapsible(e,t){let i=this.getCompressedNode(e);return this.model.setCollapsible(i,t)}isCollapsed(e){let t=this.getCompressedNode(e);return this.model.isCollapsed(t)}setCollapsed(e,t,i){let o=this.getCompressedNode(e);return this.model.setCollapsed(o,t,i)}expandTo(e){let t=this.getCompressedNode(e);this.model.expandTo(t)}rerender(e){let t=this.getCompressedNode(e);this.model.rerender(t)}refilter(){this.model.refilter()}resort(e=null,t=!0){let i=this.getCompressedNode(e);this.model.resort(i,t)}getCompressedNode(e){if(e===null)return null;let t=this.nodes.get(e);if(!t)throw new He(this.user,`Tree element not found: ${e}`);return t}},h0=n=>n[n.length-1],ph=class n{constructor(e,t){this.unwrapper=e;this.node=t}get element(){return this.node.element===null?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map(e=>new n(this.unwrapper,e))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}};function m0(n,e){return{...e,identityProvider:e.identityProvider&&{getId(t){return e.identityProvider.getId(n(t))}},sorter:e.sorter&&{compare(t,i){return e.sorter.compare(t.elements[0],i.elements[0])}},filter:e.filter&&{filter(t,i){return e.filter.filter(n(t),i)}}}}var Ad=class{rootRef=null;get onDidSpliceModel(){return N.map(this.model.onDidSpliceModel,({insertedNodes:e,deletedNodes:t})=>({insertedNodes:e.map(i=>this.nodeMapper.map(i)),deletedNodes:t.map(i=>this.nodeMapper.map(i))}))}get onDidSpliceRenderedNodes(){return N.map(this.model.onDidSpliceRenderedNodes,({start:e,deleteCount:t,elements:i})=>({start:e,deleteCount:t,elements:i.map(o=>this.nodeMapper.map(o))}))}get onDidChangeCollapseState(){return N.map(this.model.onDidChangeCollapseState,({node:e,deep:t})=>({node:this.nodeMapper.map(e),deep:t}))}get onDidChangeRenderNodeCount(){return N.map(this.model.onDidChangeRenderNodeCount,e=>this.nodeMapper.map(e))}elementMapper;nodeMapper;model;constructor(e,t={}){this.elementMapper=t.elementMapper||h0;let i=o=>this.elementMapper(o.elements);this.nodeMapper=new Ko(o=>new ph(i,o)),this.model=new uh(e,m0(i,t))}setChildren(e,t=ye.empty(),i={}){this.model.setChildren(e,t,i)}isCompressionEnabled(){return this.model.isCompressionEnabled()}setCompressionEnabled(e){this.model.setCompressionEnabled(e)}has(e){return this.model.has(e)}getListIndex(e){return this.model.getListIndex(e)}getListRenderCount(e){return this.model.getListRenderCount(e)}getNode(e){return this.nodeMapper.map(this.model.getNode(e))}getNodeLocation(e){return e.element}getParentNodeLocation(e){return this.model.getParentNodeLocation(e)}getFirstElementChild(e){let t=this.model.getFirstElementChild(e);return t===null||typeof t>"u"?t:this.elementMapper(t.elements)}getLastElementAncestor(e){let t=this.model.getLastElementAncestor(e);return t===null||typeof t>"u"?t:this.elementMapper(t.elements)}isCollapsible(e){return this.model.isCollapsible(e)}setCollapsible(e,t){return this.model.setCollapsible(e,t)}isCollapsed(e){return this.model.isCollapsed(e)}setCollapsed(e,t,i){return this.model.setCollapsed(e,t,i)}expandTo(e){return this.model.expandTo(e)}rerender(e){return this.model.rerender(e)}refilter(){return this.model.refilter()}resort(e=null,t=!0){return this.model.resort(e,t)}getCompressedTreeNode(e=null){return this.model.getNode(e)}};var Wo=class extends Lr{constructor(t,i,o,r,s={}){super(t,i,o,r,s);this.user=t}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}setChildren(t,i=ye.empty(),o){this.model.setChildren(t,i,o)}rerender(t){if(t===void 0){this.view.rerender();return}this.model.rerender(t)}updateElementHeight(t,i){let o=this.model.getListIndex(t);if(o===-1)throw new He(this.user,"updateElementHeight failed - index not found");this.view.updateElementHeight(o,i)}resort(t,i=!0){this.model.resort(t,i)}hasElement(t){return this.model.has(t)}createModel(t,i){return new lo(t,i)}},Rd=class{constructor(e,t,i){this._compressedTreeNodeProvider=e;this.stickyScrollDelegate=t;this.renderer=i;this.templateId=i.templateId,i.onDidChangeTwistieState&&(this.onDidChangeTwistieState=i.onDidChangeTwistieState)}templateId;onDidChangeTwistieState;get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}renderTemplate(e){return{compressedTreeNode:void 0,data:this.renderer.renderTemplate(e)}}renderElement(e,t,i,o){let r=this.stickyScrollDelegate.getCompressedNode(e);r||(r=this.compressedTreeNodeProvider.getCompressedTreeNode(e.element)),r.element.elements.length===1?(i.compressedTreeNode=void 0,this.renderer.renderElement(e,t,i.data,o)):(i.compressedTreeNode=r,this.renderer.renderCompressedElements(r,t,i.data,o))}disposeElement(e,t,i,o){i.compressedTreeNode?this.renderer.disposeCompressedElements?.(i.compressedTreeNode,t,i.data,o):this.renderer.disposeElement?.(e,t,i.data,o)}disposeTemplate(e){this.renderer.disposeTemplate(e.data)}renderTwistie(e,t){return this.renderer.renderTwistie?this.renderer.renderTwistie(e,t):!1}};de([Re],Rd.prototype,"compressedTreeNodeProvider",1);var hh=class{constructor(e){this.modelProvider=e}compressedStickyNodes=new Map;getCompressedNode(e){return this.compressedStickyNodes.get(e)}constrainStickyScrollNodes(e,t,i){if(this.compressedStickyNodes.clear(),e.length===0)return[];for(let o=0;o<e.length;o++){let r=e[o],s=r.position+r.height;if(o+1<e.length&&s+e[o+1].height>i||o>=t-1&&t<e.length){let l=e.slice(0,o),c=e.slice(o),p=this.compressStickyNodes(c);return[...l,p]}}return e}compressStickyNodes(e){if(e.length===0)throw new Error("Can't compress empty sticky nodes");let t=this.modelProvider();if(!t.isCompressionEnabled())return e[0];let i=[];for(let c=0;c<e.length;c++){let p=e[c],h=t.getCompressedTreeNode(p.node.element);if(h.element){if(c!==0&&h.element.incompressible)break;i.push(...h.element.elements)}}if(i.length<2)return e[0];let o=e[e.length-1],r={elements:i,incompressible:!1},s={...o.node,children:[],element:r},a=new Proxy(e[0].node,{}),l={node:a,startIndex:e[0].startIndex,endIndex:o.endIndex,position:e[0].position,height:e[0].height};return this.compressedStickyNodes.set(a,s),l}};function f0(n,e){return e&&{...e,keyboardNavigationLabelProvider:e.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(t){let i;try{i=n().getCompressedTreeNode(t)}catch{return e.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t)}return i.element.elements.length===1?e.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t):e.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(i.element.elements)}}}}var Ar=class extends Wo{constructor(e,t,i,o,r={}){let s=()=>this,a=new hh(()=>this.model),l=o.map(c=>new Rd(s,a,c));super(e,t,i,l,{...f0(s,r),stickyScrollDelegate:a})}setChildren(e,t=ye.empty(),i){this.model.setChildren(e,t,i)}createModel(e,t){return new Ad(e,t)}updateOptions(e={}){super.updateOptions(e),typeof e.compressionEnabled<"u"&&this.model.setCompressionEnabled(e.compressionEnabled)}getCompressedTreeNode(e=null){return this.model.getCompressedTreeNode(e)}};function mh(n){return{...n,children:[],refreshPromise:void 0,stale:!0,slow:!1,forceExpanded:!1}}function gh(n,e){return e.parent?e.parent===n?!0:gh(n,e.parent):!1}function g0(n,e){return n===e||gh(n,e)||gh(e,n)}var bh=class n{constructor(e){this.node=e}get element(){return this.node.element.element}get children(){return this.node.children.map(e=>new n(e))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}},vh=class{constructor(e,t,i){this.renderer=e;this.nodeMapper=t;this.onDidChangeTwistieState=i;this.templateId=e.templateId}templateId;renderedNodes=new Map;renderTemplate(e){return{templateData:this.renderer.renderTemplate(e)}}renderElement(e,t,i,o){this.renderer.renderElement(this.nodeMapper.map(e),t,i.templateData,o)}renderTwistie(e,t){return e.slow?(t.classList.add(...Te.asClassNameArray(ee.treeItemLoading)),!0):(t.classList.remove(...Te.asClassNameArray(ee.treeItemLoading)),!1)}disposeElement(e,t,i,o){this.renderer.disposeElement?.(this.nodeMapper.map(e),t,i.templateData,o)}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}dispose(){this.renderedNodes.clear()}};function Tb(n){return{browserEvent:n.browserEvent,elements:n.elements.map(e=>e.element)}}function Nd(n){return{browserEvent:n.browserEvent,element:n.element&&n.element.element,target:n.target}}function b0(n){return{browserEvent:n.browserEvent,element:n.element&&n.element.element,anchor:n.anchor,isStickyScroll:n.isStickyScroll}}var yh=class extends xi{constructor(t){super(t.elements.map(i=>i.element));this.data=t}set context(t){this.data.context=t}get context(){return this.data.context}};function fh(n){return n instanceof xi?new yh(n):n}var Th=class{constructor(e){this.dnd=e}getDragURI(e){return this.dnd.getDragURI(e.element)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e.map(i=>i.element),t)}onDragStart(e,t){this.dnd.onDragStart?.(fh(e),t)}onDragOver(e,t,i,o,r,s=!0){return this.dnd.onDragOver(fh(e),t&&t.element,i,o,r)}drop(e,t,i,o,r){this.dnd.drop(fh(e),t&&t.element,i,o,r)}onDragEnd(e){this.dnd.onDragEnd?.(e)}dispose(){this.dnd.dispose()}};function Ib(n){return n&&{...n,collapseByDefault:!0,identityProvider:n.identityProvider&&{getId(e){return n.identityProvider.getId(e.element)}},dnd:n.dnd&&new Th(n.dnd),multipleSelectionController:n.multipleSelectionController&&{isSelectionSingleChangeEvent(e){return n.multipleSelectionController.isSelectionSingleChangeEvent({...e,element:e.element})},isSelectionRangeChangeEvent(e){return n.multipleSelectionController.isSelectionRangeChangeEvent({...e,element:e.element})}},accessibilityProvider:n.accessibilityProvider&&{...n.accessibilityProvider,getPosInSet:void 0,getSetSize:void 0,getRole:n.accessibilityProvider.getRole?e=>n.accessibilityProvider.getRole(e.element):()=>"treeitem",isChecked:n.accessibilityProvider.isChecked?e=>!!n.accessibilityProvider?.isChecked(e.element):void 0,getAriaLabel(e){return n.accessibilityProvider.getAriaLabel(e.element)},getWidgetAriaLabel(){return n.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:n.accessibilityProvider.getWidgetRole?()=>n.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:n.accessibilityProvider.getAriaLevel&&(e=>n.accessibilityProvider.getAriaLevel(e.element)),getActiveDescendantId:n.accessibilityProvider.getActiveDescendantId&&(e=>n.accessibilityProvider.getActiveDescendantId(e.element))},filter:n.filter&&{filter(e,t){return n.filter.filter(e.element,t)}},keyboardNavigationLabelProvider:n.keyboardNavigationLabelProvider&&{...n.keyboardNavigationLabelProvider,getKeyboardNavigationLabel(e){return n.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(e.element)}},sorter:void 0,expandOnlyOnTwistieClick:typeof n.expandOnlyOnTwistieClick>"u"?void 0:typeof n.expandOnlyOnTwistieClick!="function"?n.expandOnlyOnTwistieClick:e=>n.expandOnlyOnTwistieClick(e.element),defaultFindVisibility:e=>e.hasChildren&&e.stale?1:typeof n.defaultFindVisibility=="number"?n.defaultFindVisibility:typeof n.defaultFindVisibility>"u"?2:n.defaultFindVisibility(e.element)}}function Ih(n,e){e(n),n.children.forEach(t=>Ih(t,e))}var da=class{constructor(e,t,i,o,r,s={}){this.user=e;this.dataSource=r;this.identityProvider=s.identityProvider,this.autoExpandSingleChildren=typeof s.autoExpandSingleChildren>"u"?!1:s.autoExpandSingleChildren,this.sorter=s.sorter,this.getDefaultCollapseState=a=>s.collapseByDefault?s.collapseByDefault(a)?3:2:void 0,this.tree=this.createTree(e,t,i,o,s),this.onDidChangeFindMode=this.tree.onDidChangeFindMode,this.onDidChangeFindMatchType=this.tree.onDidChangeFindMatchType,this.root=mh({element:void 0,parent:null,hasChildren:!0,defaultCollapseState:void 0}),this.identityProvider&&(this.root={...this.root,id:null}),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}tree;root;nodes=new Map;sorter;getDefaultCollapseState;subTreeRefreshPromises=new Map;refreshPromises=new Map;identityProvider;autoExpandSingleChildren;_onDidRender=new L;_onDidChangeNodeSlowState=new L;nodeMapper=new Ko(e=>new bh(e));disposables=new G;get onDidScroll(){return this.tree.onDidScroll}get onDidChangeFocus(){return N.map(this.tree.onDidChangeFocus,Tb)}get onDidChangeSelection(){return N.map(this.tree.onDidChangeSelection,Tb)}get onKeyDown(){return this.tree.onKeyDown}get onMouseClick(){return N.map(this.tree.onMouseClick,Nd)}get onMouseDblClick(){return N.map(this.tree.onMouseDblClick,Nd)}get onContextMenu(){return N.map(this.tree.onContextMenu,b0)}get onTap(){return N.map(this.tree.onTap,Nd)}get onPointer(){return N.map(this.tree.onPointer,Nd)}get onDidFocus(){return this.tree.onDidFocus}get onDidBlur(){return this.tree.onDidBlur}get onDidChangeModel(){return this.tree.onDidChangeModel}get onDidChangeCollapseState(){return this.tree.onDidChangeCollapseState}get onDidUpdateOptions(){return this.tree.onDidUpdateOptions}get onDidChangeFindOpenState(){return this.tree.onDidChangeFindOpenState}get onDidChangeStickyScrollFocused(){return this.tree.onDidChangeStickyScrollFocused}get findMode(){return this.tree.findMode}set findMode(e){this.tree.findMode=e}onDidChangeFindMode;get findMatchType(){return this.tree.findMatchType}set findMatchType(e){this.tree.findMatchType=e}onDidChangeFindMatchType;get expandOnlyOnTwistieClick(){if(typeof this.tree.expandOnlyOnTwistieClick=="boolean")return this.tree.expandOnlyOnTwistieClick;let e=this.tree.expandOnlyOnTwistieClick;return t=>e(this.nodes.get(t===this.root.element?null:t)||null)}get onDidDispose(){return this.tree.onDidDispose}createTree(e,t,i,o,r){let s=new kr(i),a=o.map(c=>new vh(c,this.nodeMapper,this._onDidChangeNodeSlowState.event)),l=Ib(r)||{};return new Wo(e,t,s,a,l)}updateOptions(e={}){this.tree.updateOptions(e)}get options(){return this.tree.options}getHTMLElement(){return this.tree.getHTMLElement()}get contentHeight(){return this.tree.contentHeight}get contentWidth(){return this.tree.contentWidth}get onDidChangeContentHeight(){return this.tree.onDidChangeContentHeight}get onDidChangeContentWidth(){return this.tree.onDidChangeContentWidth}get scrollTop(){return this.tree.scrollTop}set scrollTop(e){this.tree.scrollTop=e}get scrollLeft(){return this.tree.scrollLeft}set scrollLeft(e){this.tree.scrollLeft=e}get scrollHeight(){return this.tree.scrollHeight}get renderHeight(){return this.tree.renderHeight}get lastVisibleElement(){return this.tree.lastVisibleElement.element}get ariaLabel(){return this.tree.ariaLabel}set ariaLabel(e){this.tree.ariaLabel=e}domFocus(){this.tree.domFocus()}layout(e,t){this.tree.layout(e,t)}style(e){this.tree.style(e)}getInput(){return this.root.element}async setInput(e,t){this.refreshPromises.forEach(o=>o.cancel()),this.refreshPromises.clear(),this.root.element=e;let i=t&&{viewState:t,focus:[],selection:[]};await this._updateChildren(e,!0,!1,i),i&&(this.tree.setFocus(i.focus),this.tree.setSelection(i.selection)),t&&typeof t.scrollTop=="number"&&(this.scrollTop=t.scrollTop)}async updateChildren(e=this.root.element,t=!0,i=!1,o){await this._updateChildren(e,t,i,void 0,o)}async _updateChildren(e=this.root.element,t=!0,i=!1,o,r){if(typeof this.root.element>"u")throw new He(this.user,"Tree input not set");this.root.refreshPromise&&(await this.root.refreshPromise,await N.toPromise(this._onDidRender.event));let s=this.getDataNode(e);if(await this.refreshAndRenderNode(s,t,o,r),i)try{this.tree.rerender(s)}catch{}}resort(e=this.root.element,t=!0){this.tree.resort(this.getDataNode(e),t)}hasNode(e){return e===this.root.element||this.nodes.has(e)}rerender(e){if(e===void 0||e===this.root.element){this.tree.rerender();return}let t=this.getDataNode(e);this.tree.rerender(t)}updateElementHeight(e,t){let i=this.getDataNode(e);this.tree.updateElementHeight(i,t)}updateWidth(e){let t=this.getDataNode(e);this.tree.updateWidth(t)}getNode(e=this.root.element){let t=this.getDataNode(e),i=this.tree.getNode(t===this.root?null:t);return this.nodeMapper.map(i)}collapse(e,t=!1){let i=this.getDataNode(e);return this.tree.collapse(i===this.root?null:i,t)}async expand(e,t=!1){if(typeof this.root.element>"u")throw new He(this.user,"Tree input not set");this.root.refreshPromise&&(await this.root.refreshPromise,await N.toPromise(this._onDidRender.event));let i=this.getDataNode(e);if(this.tree.hasElement(i)&&!this.tree.isCollapsible(i)||(i.refreshPromise&&(await this.root.refreshPromise,await N.toPromise(this._onDidRender.event)),i!==this.root&&!i.refreshPromise&&!this.tree.isCollapsed(i)))return!1;let o=this.tree.expand(i===this.root?null:i,t);return i.refreshPromise&&(await this.root.refreshPromise,await N.toPromise(this._onDidRender.event)),o}toggleCollapsed(e,t=!1){return this.tree.toggleCollapsed(this.getDataNode(e),t)}expandAll(){this.tree.expandAll()}async expandTo(e){if(!this.dataSource.getParent)throw new Error("Can't expand to element without getParent method");let t=[];for(;!this.hasNode(e);)e=this.dataSource.getParent(e),e!==this.root.element&&t.push(e);for(let i of ye.reverse(t))await this.expand(i);this.tree.expandTo(this.getDataNode(e))}collapseAll(){this.tree.collapseAll()}isCollapsible(e){return this.tree.isCollapsible(this.getDataNode(e))}isCollapsed(e){return this.tree.isCollapsed(this.getDataNode(e))}triggerTypeNavigation(){this.tree.triggerTypeNavigation()}openFind(){this.tree.openFind()}closeFind(){this.tree.closeFind()}refilter(){this.tree.refilter()}setAnchor(e){this.tree.setAnchor(typeof e>"u"?void 0:this.getDataNode(e))}getAnchor(){return this.tree.getAnchor()?.element}setSelection(e,t){let i=e.map(o=>this.getDataNode(o));this.tree.setSelection(i,t)}getSelection(){return this.tree.getSelection().map(t=>t.element)}setFocus(e,t){let i=e.map(o=>this.getDataNode(o));this.tree.setFocus(i,t)}focusNext(e=1,t=!1,i){this.tree.focusNext(e,t,i)}focusPrevious(e=1,t=!1,i){this.tree.focusPrevious(e,t,i)}focusNextPage(e){return this.tree.focusNextPage(e)}focusPreviousPage(e){return this.tree.focusPreviousPage(e)}focusLast(e){this.tree.focusLast(e)}focusFirst(e){this.tree.focusFirst(e)}getFocus(){return this.tree.getFocus().map(t=>t.element)}getStickyScrollFocus(){return this.tree.getStickyScrollFocus().map(t=>t.element)}getFocusedPart(){return this.tree.getFocusedPart()}reveal(e,t){this.tree.reveal(this.getDataNode(e),t)}getRelativeTop(e){return this.tree.getRelativeTop(this.getDataNode(e))}getParentElement(e){let t=this.tree.getParentElement(this.getDataNode(e));return t&&t.element}getFirstElementChild(e=this.root.element){let t=this.getDataNode(e),i=this.tree.getFirstElementChild(t===this.root?null:t);return i&&i.element}getDataNode(e){let t=this.nodes.get(e===this.root.element?null:e);if(!t)throw new He(this.user,`Data tree node not found: ${e}`);return t}async refreshAndRenderNode(e,t,i,o){await this.refreshNode(e,t,i),!this.disposables.isDisposed&&this.render(e,i,o)}async refreshNode(e,t,i){let o;if(this.subTreeRefreshPromises.forEach((r,s)=>{!o&&g0(s,e)&&(o=r.then(()=>this.refreshNode(e,t,i)))}),o)return o;if(e!==this.root&&this.tree.getNode(e).collapsed){e.hasChildren=!!this.dataSource.hasChildren(e.element),e.stale=!0,this.setChildren(e,[],t,i);return}return this.doRefreshSubTree(e,t,i)}async doRefreshSubTree(e,t,i){let o;e.refreshPromise=new Promise(r=>o=r),this.subTreeRefreshPromises.set(e,e.refreshPromise),e.refreshPromise.finally(()=>{e.refreshPromise=void 0,this.subTreeRefreshPromises.delete(e)});try{let r=await this.doRefreshNode(e,t,i);e.stale=!1,await wu.settled(r.map(s=>this.doRefreshSubTree(s,t,i)))}finally{o()}}async doRefreshNode(e,t,i){e.hasChildren=!!this.dataSource.hasChildren(e.element);let o;if(!e.hasChildren)o=Promise.resolve(ye.empty());else{let r=this.doGetChildren(e);if(vu(r))o=Promise.resolve(r);else{let s=vi(800);s.then(()=>{e.slow=!0,this._onDidChangeNodeSlowState.fire(e)},a=>null),o=r.finally(()=>s.cancel())}}try{let r=await o;return this.setChildren(e,r,t,i)}catch(r){if(e!==this.root&&this.tree.hasElement(e)&&this.tree.collapse(e),kc(r))return[];throw r}finally{e.slow&&(e.slow=!1,this._onDidChangeNodeSlowState.fire(e))}}doGetChildren(e){let t=this.refreshPromises.get(e);if(t)return t;let i=this.dataSource.getChildren(e.element);return vu(i)?this.processChildren(i):(t=pr(async()=>this.processChildren(await i)),this.refreshPromises.set(e,t),t.finally(()=>{this.refreshPromises.delete(e)}))}_onDidChangeCollapseState({node:e,deep:t}){e.element!==null&&!e.collapsed&&e.element.stale&&(t?this.collapse(e.element.element):this.refreshAndRenderNode(e.element,!1).catch(lt))}setChildren(e,t,i,o){let r=[...t];if(e.children.length===0&&r.length===0)return[];let s=new Map,a=new Map;for(let p of e.children)s.set(p.element,p),this.identityProvider&&a.set(p.id,{node:p,collapsed:this.tree.hasElement(p)&&this.tree.isCollapsed(p)});let l=[],c=r.map(p=>{let h=!!this.dataSource.hasChildren(p);if(!this.identityProvider){let b=mh({element:p,parent:e,hasChildren:h,defaultCollapseState:this.getDefaultCollapseState(p)});return h&&b.defaultCollapseState===2&&l.push(b),b}let f=this.identityProvider.getId(p).toString(),T=a.get(f);if(T){let b=T.node;return s.delete(b.element),this.nodes.delete(b.element),this.nodes.set(p,b),b.element=p,b.hasChildren=h,i?T.collapsed?(b.children.forEach(x=>Ih(x,k=>this.nodes.delete(k.element))),b.children.splice(0,b.children.length),b.stale=!0):l.push(b):h&&!T.collapsed&&l.push(b),b}let w=mh({element:p,parent:e,id:f,hasChildren:h,defaultCollapseState:this.getDefaultCollapseState(p)});return o&&o.viewState.focus&&o.viewState.focus.indexOf(f)>-1&&o.focus.push(w),o&&o.viewState.selection&&o.viewState.selection.indexOf(f)>-1&&o.selection.push(w),(o&&o.viewState.expanded&&o.viewState.expanded.indexOf(f)>-1||h&&w.defaultCollapseState===2)&&l.push(w),w});for(let p of s.values())Ih(p,h=>this.nodes.delete(h.element));for(let p of c)this.nodes.set(p.element,p);return e.children.splice(0,e.children.length,...c),e!==this.root&&this.autoExpandSingleChildren&&c.length===1&&l.length===0&&(c[0].forceExpanded=!0,l.push(c[0])),l}render(e,t,i){let o=e.children.map(s=>this.asTreeElement(s,t)),r=i&&{...i,diffIdentityProvider:i.diffIdentityProvider&&{getId(s){return i.diffIdentityProvider.getId(s.element)}}};this.tree.setChildren(e===this.root?null:e,o,r),e!==this.root&&this.tree.setCollapsible(e,e.hasChildren),this._onDidRender.fire()}asTreeElement(e,t){if(e.stale)return{element:e,collapsible:e.hasChildren,collapsed:!0};let i;return t&&t.viewState.expanded&&e.id&&t.viewState.expanded.indexOf(e.id)>-1?i=!1:e.forceExpanded?(i=!1,e.forceExpanded=!1):i=e.defaultCollapseState,{element:e,children:e.hasChildren?ye.map(e.children,o=>this.asTreeElement(o,t)):[],collapsible:e.hasChildren,collapsed:i}}processChildren(e){return this.sorter&&(e=[...e].sort(this.sorter.compare.bind(this.sorter))),e}getViewState(){if(!this.identityProvider)throw new He(this.user,"Can't get tree view state without an identity provider");let e=a=>this.identityProvider.getId(a).toString(),t=this.getFocus().map(e),i=this.getSelection().map(e),o=[],r=this.tree.getNode(),s=[r];for(;s.length>0;){let a=s.pop();a!==r&&a.collapsible&&!a.collapsed&&o.push(e(a.element.element)),s.push(...a.children)}return{focus:t,selection:i,expanded:o,scrollTop:this.scrollTop}}dispose(){this.disposables.dispose(),this.tree.dispose()}},xh=class n{constructor(e){this.node=e}get element(){return{elements:this.node.element.elements.map(e=>e.element),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map(e=>new n(e))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}},Eh=class{constructor(e,t,i,o){this.renderer=e;this.nodeMapper=t;this.compressibleNodeMapperProvider=i;this.onDidChangeTwistieState=o;this.templateId=e.templateId}templateId;renderedNodes=new Map;disposables=[];renderTemplate(e){return{templateData:this.renderer.renderTemplate(e)}}renderElement(e,t,i,o){this.renderer.renderElement(this.nodeMapper.map(e),t,i.templateData,o)}renderCompressedElements(e,t,i,o){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(e),t,i.templateData,o)}renderTwistie(e,t){return e.slow?(t.classList.add(...Te.asClassNameArray(ee.treeItemLoading)),!0):(t.classList.remove(...Te.asClassNameArray(ee.treeItemLoading)),!1)}disposeElement(e,t,i,o){this.renderer.disposeElement?.(this.nodeMapper.map(e),t,i.templateData,o)}disposeCompressedElements(e,t,i,o){this.renderer.disposeCompressedElements?.(this.compressibleNodeMapperProvider().map(e),t,i.templateData,o)}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=$e(this.disposables)}};function v0(n){let e=n&&Ib(n);return e&&{...e,keyboardNavigationLabelProvider:e.keyboardNavigationLabelProvider&&{...e.keyboardNavigationLabelProvider,getCompressedNodeKeyboardNavigationLabel(t){return n.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(t.map(i=>i.element))}}}}var Od=class extends da{constructor(t,i,o,r,s,a,l={}){super(t,i,o,s,a,l);this.compressionDelegate=r;this.filter=l.filter}compressibleNodeMapper=new Ko(t=>new xh(t));filter;createTree(t,i,o,r,s){let a=new kr(o),l=r.map(p=>new Eh(p,this.nodeMapper,()=>this.compressibleNodeMapper,this._onDidChangeNodeSlowState.event)),c=v0(s)||{};return new Ar(t,i,a,l,c)}asTreeElement(t,i){return{incompressible:this.compressionDelegate.isIncompressible(t.element),...super.asTreeElement(t,i)}}updateOptions(t={}){this.tree.updateOptions(t)}getViewState(){if(!this.identityProvider)throw new He(this.user,"Can't get tree view state without an identity provider");let t=l=>this.identityProvider.getId(l).toString(),i=this.getFocus().map(t),o=this.getSelection().map(t),r=[],s=this.tree.getCompressedTreeNode(),a=[s];for(;a.length>0;){let l=a.pop();if(l!==s&&l.collapsible&&!l.collapsed)for(let c of l.element.elements)r.push(t(c.element));a.push(...l.children)}return{focus:i,selection:o,expanded:r,scrollTop:this.scrollTop}}render(t,i,o){if(!this.identityProvider)return super.render(t,i);let r=w=>this.identityProvider.getId(w).toString(),s=w=>{let b=new Set;for(let x of w){let k=this.tree.getCompressedTreeNode(x===this.root?null:x);if(k.element)for(let _ of k.element.elements)b.add(r(_.element))}return b},a=s(this.tree.getSelection()),l=s(this.tree.getFocus());super.render(t,i,o);let c=this.getSelection(),p=!1,h=this.getFocus(),f=!1,T=w=>{let b=w.element;if(b)for(let x=0;x<b.elements.length;x++){let k=r(b.elements[x].element),_=b.elements[b.elements.length-1].element;a.has(k)&&c.indexOf(_)===-1&&(c.push(_),p=!0),l.has(k)&&h.indexOf(_)===-1&&(h.push(_),f=!0)}w.children.forEach(T)};T(this.tree.getCompressedTreeNode(t===this.root?null:t)),p&&this.setSelection(c),f&&this.setFocus(h)}processChildren(t){return this.filter&&(t=ye.filter(t,i=>{let o=this.filter.filter(i,1),r=y0(o);if(r===2)throw new Error("Recursive tree visibility not supported in async data compressed trees");return r===1})),super.processChildren(t)}};function y0(n){return typeof n=="boolean"?n?1:0:aa(n)?Vo(n.visibility):Vo(n)}var Fd=class extends Lr{constructor(t,i,o,r,s,a={}){super(t,i,o,r,a);this.user=t;this.dataSource=s;this.identityProvider=a.identityProvider}input;identityProvider;nodesByIdentity=new Map;getInput(){return this.input}setInput(t,i){if(i&&!this.identityProvider)throw new He(this.user,"Can't restore tree view state without an identity provider");if(this.input=t,!t){this.nodesByIdentity.clear(),this.model.setChildren(null,ye.empty());return}if(!i){this._refresh(t);return}let o=[],r=[],s=l=>{let c=this.identityProvider.getId(l).toString();return!i.expanded[c]},a=l=>{let c=this.identityProvider.getId(l.element).toString();i.focus.has(c)&&o.push(l.element),i.selection.has(c)&&r.push(l.element)};this._refresh(t,s,a),this.setFocus(o),this.setSelection(r),i&&typeof i.scrollTop=="number"&&(this.scrollTop=i.scrollTop)}updateChildren(t=this.input){if(typeof this.input>"u")throw new He(this.user,"Tree input not set");let i;this.identityProvider&&(i=o=>{let r=this.identityProvider.getId(o).toString(),s=this.nodesByIdentity.get(r);if(s)return s.collapsed}),this._refresh(t,i)}resort(t=this.input,i=!0){this.model.resort(t===this.input?null:t,i)}refresh(t){if(t===void 0){this.view.rerender();return}this.model.rerender(t)}_refresh(t,i,o){let r;if(this.identityProvider){let s=new Set,a=o;o=l=>{let c=this.identityProvider.getId(l.element).toString();s.add(c),this.nodesByIdentity.set(c,l),a?.(l)},r=l=>{let c=this.identityProvider.getId(l.element).toString();s.has(c)||this.nodesByIdentity.delete(c)}}this.model.setChildren(t===this.input?null:t,this.iterate(t,i).elements,{onDidCreateNode:o,onDidDeleteNode:r})}iterate(t,i){let o=[...this.dataSource.getChildren(t)];return{elements:ye.map(o,s=>{let{elements:a,size:l}=this.iterate(s,i),c=this.dataSource.hasChildren?this.dataSource.hasChildren(s):void 0,p=l===0?void 0:i&&i(s);return{element:s,children:a,collapsible:c,collapsed:p}}),size:o.length}}createModel(t,i){return new lo(t,i)}};var gK=ae("contextService");var xb="code-workspace",bK=`.${xb}`,vK=[{name:d("codeWorkspace","Code Workspace"),extensions:[xb]}];var hn=ae("configurationService");function Eb(n){return n.replace(/[\[\]]/g,"")}var wi={JSONContribution:"base.contributions.json"};function x0(n){return n.length>0&&n.charAt(n.length-1)==="#"?n.substring(0,n.length-1):n}var Sh=class{schemasById;_onDidChangeSchema=new L;onDidChangeSchema=this._onDidChangeSchema.event;constructor(){this.schemasById={}}registerSchema(e,t){this.schemasById[x0(e)]=t,this._onDidChangeSchema.fire(e)}notifySchemaChanged(e){this._onDidChangeSchema.fire(e)}getSchemaContributions(){return{schemas:this.schemasById}}getSchemaContent(e){let t=this.schemasById[e];return t?wg(t):void 0}hasSchemaContent(e){return!!this.schemasById[e]}},E0=new Sh;je.add(wi.JSONContribution,E0);var HK=ae("policy");var Dh={Configuration:"base.contributions.configuration"};var Md={properties:{},patternProperties:{}},Pd={properties:{},patternProperties:{}},Bd={properties:{},patternProperties:{}},Hd={properties:{},patternProperties:{}},Ud={properties:{},patternProperties:{}},ca={properties:{},patternProperties:{}},zo="vscode://schemas/settings/resourceLanguage";var Kd=je.as(wi.JSONContribution),wh=class{registeredConfigurationDefaults=[];configurationDefaultsOverrides;defaultLanguageConfigurationOverridesNode;configurationContributors;configurationProperties;policyConfigurations;excludedConfigurationProperties;resourceLanguageSettingsSchema;overrideIdentifiers=new Set;_onDidSchemaChange=new L;onDidSchemaChange=this._onDidSchemaChange.event;_onDidUpdateConfiguration=new L;onDidUpdateConfiguration=this._onDidUpdateConfiguration.event;constructor(){this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:d("defaultLanguageConfigurationOverrides.title","Default Language Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!0,allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.policyConfigurations=new Map,this.excludedConfigurationProperties={},Kd.registerSchema(zo,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}registerConfiguration(e,t=!0){this.registerConfigurations([e],t)}registerConfigurations(e,t=!0){let i=new Set;this.doRegisterConfigurations(e,t,i),Kd.registerSchema(zo,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:i})}deregisterConfigurations(e){let t=new Set;this.doDeregisterConfigurations(e,t),Kd.registerSchema(zo,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:t})}updateConfigurations({add:e,remove:t}){let i=new Set;this.doDeregisterConfigurations(t,i),this.doRegisterConfigurations(e,!1,i),Kd.registerSchema(zo,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:i})}registerDefaultConfigurations(e){let t=new Set;this.doRegisterDefaultConfigurations(e,t),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:t,defaultsOverrides:!0})}doRegisterDefaultConfigurations(e,t){this.registeredConfigurationDefaults.push(...e);let i=[];for(let{overrides:o,source:r}of e)for(let s in o){t.add(s);let a=this.configurationDefaultsOverrides.get(s)??this.configurationDefaultsOverrides.set(s,{configurationDefaultOverrides:[]}).get(s),l=o[s];if(a.configurationDefaultOverrides.push({value:l,source:r}),ua.test(s)){let c=this.mergeDefaultConfigurationsForOverrideIdentifier(s,l,r,a.configurationDefaultOverrideValue);if(!c)continue;a.configurationDefaultOverrideValue=c,this.updateDefaultOverrideProperty(s,c,r),i.push(...S0(s))}else{let c=this.mergeDefaultConfigurationsForConfigurationProperty(s,l,r,a.configurationDefaultOverrideValue);if(!c)continue;a.configurationDefaultOverrideValue=c;let p=this.configurationProperties[s];p&&(this.updatePropertyDefaultValue(s,p),this.updateSchema(s,p))}}this.doRegisterOverrideIdentifiers(i)}deregisterDefaultConfigurations(e){let t=new Set;this.doDeregisterDefaultConfigurations(e,t),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:t,defaultsOverrides:!0})}doDeregisterDefaultConfigurations(e,t){for(let i of e){let o=this.registeredConfigurationDefaults.indexOf(i);o!==-1&&this.registeredConfigurationDefaults.splice(o,1)}for(let{overrides:i,source:o}of e)for(let r in i){let s=this.configurationDefaultsOverrides.get(r);if(!s)continue;let a=s.configurationDefaultOverrides.findIndex(l=>o?l.source?.id===o.id:l.value===i[r]);if(a!==-1){if(s.configurationDefaultOverrides.splice(a,1),s.configurationDefaultOverrides.length===0&&this.configurationDefaultsOverrides.delete(r),ua.test(r)){let l;for(let c of s.configurationDefaultOverrides)l=this.mergeDefaultConfigurationsForOverrideIdentifier(r,c.value,c.source,l);l&&!Mf(l.value)?(s.configurationDefaultOverrideValue=l,this.updateDefaultOverrideProperty(r,l,o)):(this.configurationDefaultsOverrides.delete(r),delete this.configurationProperties[r],delete this.defaultLanguageConfigurationOverridesNode.properties[r])}else{let l;for(let p of s.configurationDefaultOverrides)l=this.mergeDefaultConfigurationsForConfigurationProperty(r,p.value,p.source,l);s.configurationDefaultOverrideValue=l;let c=this.configurationProperties[r];c&&(this.updatePropertyDefaultValue(r,c),this.updateSchema(r,c))}t.add(r)}}this.updateOverridePropertyPatternKey()}updateDefaultOverrideProperty(e,t,i){let o={type:"object",default:t.value,description:d("defaultLanguageConfiguration.description","Configure settings to be overridden for the {0} language.",Eb(e)),$ref:zo,defaultDefaultValue:t.value,source:i,defaultValueSource:i};this.configurationProperties[e]=o,this.defaultLanguageConfigurationOverridesNode.properties[e]=o}mergeDefaultConfigurationsForOverrideIdentifier(e,t,i,o){let r=o?.value||{},s=o?.source??new Map;if(!(s instanceof Map)){console.error("objectConfigurationSources is not a Map");return}for(let a of Object.keys(t)){let l=t[a];if(Qt(l)&&(zi(r[a])||Qt(r[a]))){if(r[a]={...r[a]??{},...l},i)for(let p in l)s.set(`${a}.${p}`,i)}else r[a]=l,i?s.set(a,i):s.delete(a)}return{value:r,source:s}}mergeDefaultConfigurationsForConfigurationProperty(e,t,i,o){let r=this.configurationProperties[e],s=o?.value??r?.defaultDefaultValue,a=i;if(Qt(t)&&(r!==void 0&&r.type==="object"||r===void 0&&(zi(s)||Qt(s)))){if(a=o?.source??new Map,!(a instanceof Map)){console.error("defaultValueSource is not a Map");return}for(let c in t)i&&a.set(`${e}.${c}`,i);t={...Qt(s)?s:{},...t}}return{value:t,source:a}}deltaConfiguration(e){let t=!1,i=new Set;e.removedDefaults&&(this.doDeregisterDefaultConfigurations(e.removedDefaults,i),t=!0),e.addedDefaults&&(this.doRegisterDefaultConfigurations(e.addedDefaults,i),t=!0),e.removedConfigurations&&this.doDeregisterConfigurations(e.removedConfigurations,i),e.addedConfigurations&&this.doRegisterConfigurations(e.addedConfigurations,!1,i),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:i,defaultsOverrides:t})}notifyConfigurationSchemaUpdated(...e){this._onDidSchemaChange.fire()}registerOverrideIdentifiers(e){this.doRegisterOverrideIdentifiers(e),this._onDidSchemaChange.fire()}doRegisterOverrideIdentifiers(e){for(let t of e)this.overrideIdentifiers.add(t);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(e,t,i){e.forEach(o=>{this.validateAndRegisterProperties(o,t,o.extensionInfo,o.restrictedProperties,void 0,i),this.configurationContributors.push(o),this.registerJSONConfiguration(o)})}doDeregisterConfigurations(e,t){let i=o=>{if(o.properties)for(let r in o.properties){t.add(r);let s=this.configurationProperties[r];s?.policy?.name&&this.policyConfigurations.delete(s.policy.name),delete this.configurationProperties[r],this.removeFromSchema(r,o.properties[r])}o.allOf?.forEach(r=>i(r))};for(let o of e){i(o);let r=this.configurationContributors.indexOf(o);r!==-1&&this.configurationContributors.splice(r,1)}}validateAndRegisterProperties(e,t=!0,i,o,r=3,s){r=Sn(e.scope)?r:e.scope;let a=e.properties;if(a)for(let c in a){let p=a[c];if(t&&D0(c,p)){delete a[c];continue}if(p.source=i,p.defaultDefaultValue=a[c].default,this.updatePropertyDefaultValue(c,p),ua.test(c)?p.scope=void 0:(p.scope=Sn(p.scope)?r:p.scope,p.restricted=Sn(p.restricted)?!!o?.includes(c):p.restricted),a[c].hasOwnProperty("included")&&!a[c].included){this.excludedConfigurationProperties[c]=a[c],delete a[c];continue}else this.configurationProperties[c]=a[c],a[c].policy?.name&&this.policyConfigurations.set(a[c].policy.name,c);!a[c].deprecationMessage&&a[c].markdownDeprecationMessage&&(a[c].deprecationMessage=a[c].markdownDeprecationMessage),s.add(c)}let l=e.allOf;if(l)for(let c of l)this.validateAndRegisterProperties(c,t,i,o,r,s)}getConfigurations(){return this.configurationContributors}getConfigurationProperties(){return this.configurationProperties}getPolicyConfigurations(){return this.policyConfigurations}getExcludedConfigurationProperties(){return this.excludedConfigurationProperties}getRegisteredDefaultConfigurations(){return[...this.registeredConfigurationDefaults]}getConfigurationDefaultsOverrides(){let e=new Map;for(let[t,i]of this.configurationDefaultsOverrides)i.configurationDefaultOverrideValue&&e.set(t,i.configurationDefaultOverrideValue);return e}registerJSONConfiguration(e){let t=i=>{let o=i.properties;if(o)for(let s in o)this.updateSchema(s,o[s]);i.allOf?.forEach(t)};t(e)}updateSchema(e,t){switch(Md.properties[e]=t,t.scope){case 1:Pd.properties[e]=t;break;case 2:Bd.properties[e]=t;break;case 6:Hd.properties[e]=t;break;case 3:Ud.properties[e]=t;break;case 4:ca.properties[e]=t;break;case 5:ca.properties[e]=t,this.resourceLanguageSettingsSchema.properties[e]=t;break}}removeFromSchema(e,t){switch(delete Md.properties[e],t.scope){case 1:delete Pd.properties[e];break;case 2:delete Bd.properties[e];break;case 6:delete Hd.properties[e];break;case 3:delete Ud.properties[e];break;case 4:case 5:delete ca.properties[e],delete this.resourceLanguageSettingsSchema.properties[e];break}}updateOverridePropertyPatternKey(){for(let e of this.overrideIdentifiers.values()){let t=`[${e}]`,i={type:"object",description:d("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:d("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:zo};this.updatePropertyDefaultValue(t,i),Md.properties[t]=i,Pd.properties[t]=i,Bd.properties[t]=i,Hd.properties[t]=i,Ud.properties[t]=i,ca.properties[t]=i}}registerOverridePropertyPatternKey(){let e={type:"object",description:d("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:d("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:zo};Md.patternProperties[$o]=e,Pd.patternProperties[$o]=e,Bd.patternProperties[$o]=e,Hd.patternProperties[$o]=e,Ud.patternProperties[$o]=e,ca.patternProperties[$o]=e,this._onDidSchemaChange.fire()}updatePropertyDefaultValue(e,t){let i=this.configurationDefaultsOverrides.get(e)?.configurationDefaultOverrideValue,o,r;i&&(!t.disallowConfigurationDefault||!i.source)&&(o=i.value,r=i.source),zi(o)&&(o=t.defaultDefaultValue,r=void 0),zi(o)&&(o=w0(t.type)),t.default=o,t.defaultValueSource=r}},wb="\\[([^\\]]+)\\]",Sb=new RegExp(wb,"g"),$o=`^(${wb})+$`,ua=new RegExp($o);function S0(n){let e=[];if(ua.test(n)){let t=Sb.exec(n);for(;t?.length;){let i=t[1].trim();i&&e.push(i),t=Sb.exec(n)}}return wo(e)}function w0(n){switch(Array.isArray(n)?n[0]:n){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}var Vd=new wh;je.add(Dh.Configuration,Vd);function D0(n,e){return n.trim()?ua.test(n)?d("config.property.languageDefault","Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",n):Vd.getConfigurationProperties()[n]!==void 0?d("config.property.duplicate","Cannot register '{0}'. This property is already registered.",n):e.policy?.name&&Vd.getPolicyConfigurations().get(e.policy?.name)!==void 0?d("config.policy.duplicate","Cannot register '{0}'. The associated policy {1} is already registered with {2}.",n,e.policy?.name,Vd.getPolicyConfigurations().get(e.policy?.name)):null:d("config.property.empty","Cannot register an empty property")}var oV=new Me("isMac",ke,d("isMac","Whether the operating system is macOS")),rV=new Me("isLinux",Ut,d("isLinux","Whether the operating system is Linux")),sV=new Me("isWindows",ot,d("isWindows","Whether the operating system is Windows")),aV=new Me("isWeb",hi,d("isWeb","Whether the platform is a web browser")),lV=new Me("isMacNative",ke&&!hi,d("isMacNative","Whether the operating system is macOS on a non-browser platform")),dV=new Me("isIOS",nl,d("isIOS","Whether the operating system is iOS")),cV=new Me("isMobile",af,d("isMobile","Whether the platform is a mobile web browser")),uV=new Me("isDevelopment",!1,!0),pV=new Me("productQualityType","",d("productQualityType","Quality type of VS Code")),Ch="inputFocus",hV=new Me(Ch,!1,d("inputFocus","Whether keyboard focus is inside an input box"));var _h=class n{_coreKeybindings;_extensionKeybindings;_cachedMergedKeybindings;constructor(){this._coreKeybindings=new an,this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(e){if(Bi===1){if(e&&e.win)return e.win}else if(Bi===2){if(e&&e.mac)return e.mac}else if(e&&e.linux)return e.linux;return e}registerKeybindingRule(e){let t=n.bindToCurrentPlatform(e),i=new G;if(t&&t.primary){let o=pu(t.primary,Bi);o&&i.add(this._registerDefaultKeybinding(o,e.id,e.args,e.weight,0,e.when))}if(t&&Array.isArray(t.secondary))for(let o=0,r=t.secondary.length;o<r;o++){let s=t.secondary[o],a=pu(s,Bi);a&&i.add(this._registerDefaultKeybinding(a,e.id,e.args,e.weight,-o-1,e.when))}return i}setExtensionKeybindings(e){let t=[],i=0;for(let o of e)o.keybinding&&(t[i++]={keybinding:o.keybinding,command:o.id,commandArgs:o.args,when:o.when,weight1:o.weight,weight2:0,extensionId:o.extensionId||null,isBuiltinExtension:o.isBuiltinExtension||!1});this._extensionKeybindings=t,this._cachedMergedKeybindings=null}registerCommandAndKeybindingRule(e){return vn(this.registerKeybindingRule(e),Ws.registerCommand(e))}_registerDefaultKeybinding(e,t,i,o,r,s){let a=this._coreKeybindings.push({keybinding:e,command:t,commandArgs:i,when:s,weight1:o,weight2:r,extensionId:null,isBuiltinExtension:!1});return this._cachedMergedKeybindings=null,ce(()=>{a(),this._cachedMergedKeybindings=null})}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=Array.from(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(_0)),this._cachedMergedKeybindings.slice(0)}},Db=new _h,C0={EditorModes:"platform.keybindingsRegistry"};je.add(C0.EditorModes,Db);function _0(n,e){if(n.weight1!==e.weight1)return n.weight1-e.weight1;if(n.command&&e.command){if(n.command<e.command)return-1;if(n.command>e.command)return 1}return n.weight2-e.weight2}function L0(n){return n.command!==void 0}var pa=class n{static _instances=new Map;static CommandPalette=new n("CommandPalette");static DebugBreakpointsContext=new n("DebugBreakpointsContext");static DebugCallStackContext=new n("DebugCallStackContext");static DebugConsoleContext=new n("DebugConsoleContext");static DebugVariablesContext=new n("DebugVariablesContext");static NotebookVariablesContext=new n("NotebookVariablesContext");static DebugHoverContext=new n("DebugHoverContext");static DebugWatchContext=new n("DebugWatchContext");static DebugToolBar=new n("DebugToolBar");static DebugToolBarStop=new n("DebugToolBarStop");static DebugCallStackToolbar=new n("DebugCallStackToolbar");static DebugCreateConfiguration=new n("DebugCreateConfiguration");static EditorContext=new n("EditorContext");static SimpleEditorContext=new n("SimpleEditorContext");static EditorContent=new n("EditorContent");static EditorLineNumberContext=new n("EditorLineNumberContext");static EditorContextCopy=new n("EditorContextCopy");static EditorContextPeek=new n("EditorContextPeek");static EditorContextShare=new n("EditorContextShare");static EditorTitle=new n("EditorTitle");static EditorTitleRun=new n("EditorTitleRun");static EditorTitleContext=new n("EditorTitleContext");static EditorTitleContextShare=new n("EditorTitleContextShare");static EmptyEditorGroup=new n("EmptyEditorGroup");static EmptyEditorGroupContext=new n("EmptyEditorGroupContext");static EditorTabsBarContext=new n("EditorTabsBarContext");static EditorTabsBarShowTabsSubmenu=new n("EditorTabsBarShowTabsSubmenu");static EditorTabsBarShowTabsZenModeSubmenu=new n("EditorTabsBarShowTabsZenModeSubmenu");static EditorActionsPositionSubmenu=new n("EditorActionsPositionSubmenu");static ExplorerContext=new n("ExplorerContext");static ExplorerContextShare=new n("ExplorerContextShare");static ExtensionContext=new n("ExtensionContext");static ExtensionEditorContextMenu=new n("ExtensionEditorContextMenu");static GlobalActivity=new n("GlobalActivity");static CommandCenter=new n("CommandCenter");static CommandCenterCenter=new n("CommandCenterCenter");static LayoutControlMenuSubmenu=new n("LayoutControlMenuSubmenu");static LayoutControlMenu=new n("LayoutControlMenu");static MenubarMainMenu=new n("MenubarMainMenu");static MenubarAppearanceMenu=new n("MenubarAppearanceMenu");static MenubarDebugMenu=new n("MenubarDebugMenu");static MenubarEditMenu=new n("MenubarEditMenu");static MenubarCopy=new n("MenubarCopy");static MenubarFileMenu=new n("MenubarFileMenu");static MenubarGoMenu=new n("MenubarGoMenu");static MenubarHelpMenu=new n("MenubarHelpMenu");static MenubarLayoutMenu=new n("MenubarLayoutMenu");static MenubarNewBreakpointMenu=new n("MenubarNewBreakpointMenu");static PanelAlignmentMenu=new n("PanelAlignmentMenu");static PanelPositionMenu=new n("PanelPositionMenu");static ActivityBarPositionMenu=new n("ActivityBarPositionMenu");static MenubarPreferencesMenu=new n("MenubarPreferencesMenu");static MenubarRecentMenu=new n("MenubarRecentMenu");static MenubarSelectionMenu=new n("MenubarSelectionMenu");static MenubarShare=new n("MenubarShare");static MenubarSwitchEditorMenu=new n("MenubarSwitchEditorMenu");static MenubarSwitchGroupMenu=new n("MenubarSwitchGroupMenu");static MenubarTerminalMenu=new n("MenubarTerminalMenu");static MenubarViewMenu=new n("MenubarViewMenu");static MenubarHomeMenu=new n("MenubarHomeMenu");static OpenEditorsContext=new n("OpenEditorsContext");static OpenEditorsContextShare=new n("OpenEditorsContextShare");static ProblemsPanelContext=new n("ProblemsPanelContext");static SCMInputBox=new n("SCMInputBox");static SCMChangesContext=new n("SCMChangesContext");static SCMChangeContext=new n("SCMChangeContext");static SCMResourceContext=new n("SCMResourceContext");static SCMResourceContextShare=new n("SCMResourceContextShare");static SCMResourceFolderContext=new n("SCMResourceFolderContext");static SCMResourceGroupContext=new n("SCMResourceGroupContext");static SCMSourceControl=new n("SCMSourceControl");static SCMSourceControlInline=new n("SCMSourceControlInline");static SCMSourceControlTitle=new n("SCMSourceControlTitle");static SCMHistoryTitle=new n("SCMHistoryTitle");static SCMTitle=new n("SCMTitle");static SearchContext=new n("SearchContext");static SearchActionMenu=new n("SearchActionContext");static StatusBarWindowIndicatorMenu=new n("StatusBarWindowIndicatorMenu");static StatusBarRemoteIndicatorMenu=new n("StatusBarRemoteIndicatorMenu");static StickyScrollContext=new n("StickyScrollContext");static TestItem=new n("TestItem");static TestItemGutter=new n("TestItemGutter");static TestProfilesContext=new n("TestProfilesContext");static TestMessageContext=new n("TestMessageContext");static TestMessageContent=new n("TestMessageContent");static TestPeekElement=new n("TestPeekElement");static TestPeekTitle=new n("TestPeekTitle");static TestCallStack=new n("TestCallStack");static TouchBarContext=new n("TouchBarContext");static TitleBarContext=new n("TitleBarContext");static TitleBarTitleContext=new n("TitleBarTitleContext");static TunnelContext=new n("TunnelContext");static TunnelPrivacy=new n("TunnelPrivacy");static TunnelProtocol=new n("TunnelProtocol");static TunnelPortInline=new n("TunnelInline");static TunnelTitle=new n("TunnelTitle");static TunnelLocalAddressInline=new n("TunnelLocalAddressInline");static TunnelOriginInline=new n("TunnelOriginInline");static ViewItemContext=new n("ViewItemContext");static ViewContainerTitle=new n("ViewContainerTitle");static ViewContainerTitleContext=new n("ViewContainerTitleContext");static ViewTitle=new n("ViewTitle");static ViewTitleContext=new n("ViewTitleContext");static CommentEditorActions=new n("CommentEditorActions");static CommentThreadTitle=new n("CommentThreadTitle");static CommentThreadActions=new n("CommentThreadActions");static CommentThreadAdditionalActions=new n("CommentThreadAdditionalActions");static CommentThreadTitleContext=new n("CommentThreadTitleContext");static CommentThreadCommentContext=new n("CommentThreadCommentContext");static CommentTitle=new n("CommentTitle");static CommentActions=new n("CommentActions");static CommentsViewThreadActions=new n("CommentsViewThreadActions");static InteractiveToolbar=new n("InteractiveToolbar");static InteractiveCellTitle=new n("InteractiveCellTitle");static InteractiveCellDelete=new n("InteractiveCellDelete");static InteractiveCellExecute=new n("InteractiveCellExecute");static InteractiveInputExecute=new n("InteractiveInputExecute");static InteractiveInputConfig=new n("InteractiveInputConfig");static ReplInputExecute=new n("ReplInputExecute");static IssueReporter=new n("IssueReporter");static NotebookToolbar=new n("NotebookToolbar");static NotebookStickyScrollContext=new n("NotebookStickyScrollContext");static NotebookCellTitle=new n("NotebookCellTitle");static NotebookCellDelete=new n("NotebookCellDelete");static NotebookCellInsert=new n("NotebookCellInsert");static NotebookCellBetween=new n("NotebookCellBetween");static NotebookCellListTop=new n("NotebookCellTop");static NotebookCellExecute=new n("NotebookCellExecute");static NotebookCellExecuteGoTo=new n("NotebookCellExecuteGoTo");static NotebookCellExecutePrimary=new n("NotebookCellExecutePrimary");static NotebookDiffCellInputTitle=new n("NotebookDiffCellInputTitle");static NotebookDiffCellMetadataTitle=new n("NotebookDiffCellMetadataTitle");static NotebookDiffCellOutputsTitle=new n("NotebookDiffCellOutputsTitle");static NotebookOutputToolbar=new n("NotebookOutputToolbar");static NotebookOutlineFilter=new n("NotebookOutlineFilter");static NotebookOutlineActionMenu=new n("NotebookOutlineActionMenu");static NotebookEditorLayoutConfigure=new n("NotebookEditorLayoutConfigure");static NotebookKernelSource=new n("NotebookKernelSource");static BulkEditTitle=new n("BulkEditTitle");static BulkEditContext=new n("BulkEditContext");static TimelineItemContext=new n("TimelineItemContext");static TimelineTitle=new n("TimelineTitle");static TimelineTitleContext=new n("TimelineTitleContext");static TimelineFilterSubMenu=new n("TimelineFilterSubMenu");static AccountsContext=new n("AccountsContext");static SidebarTitle=new n("SidebarTitle");static PanelTitle=new n("PanelTitle");static AuxiliaryBarTitle=new n("AuxiliaryBarTitle");static AuxiliaryBarHeader=new n("AuxiliaryBarHeader");static TerminalInstanceContext=new n("TerminalInstanceContext");static TerminalEditorInstanceContext=new n("TerminalEditorInstanceContext");static TerminalNewDropdownContext=new n("TerminalNewDropdownContext");static TerminalTabContext=new n("TerminalTabContext");static TerminalTabEmptyAreaContext=new n("TerminalTabEmptyAreaContext");static TerminalStickyScrollContext=new n("TerminalStickyScrollContext");static WebviewContext=new n("WebviewContext");static InlineCompletionsActions=new n("InlineCompletionsActions");static InlineEditsActions=new n("InlineEditsActions");static InlineEditActions=new n("InlineEditActions");static NewFile=new n("NewFile");static MergeInput1Toolbar=new n("MergeToolbar1Toolbar");static MergeInput2Toolbar=new n("MergeToolbar2Toolbar");static MergeBaseToolbar=new n("MergeBaseToolbar");static MergeInputResultToolbar=new n("MergeToolbarResultToolbar");static InlineSuggestionToolbar=new n("InlineSuggestionToolbar");static InlineEditToolbar=new n("InlineEditToolbar");static ChatContext=new n("ChatContext");static ChatCodeBlock=new n("ChatCodeblock");static ChatCompareBlock=new n("ChatCompareBlock");static ChatMessageTitle=new n("ChatMessageTitle");static ChatExecute=new n("ChatExecute");static ChatExecuteSecondary=new n("ChatExecuteSecondary");static ChatInputSide=new n("ChatInputSide");static AccessibleView=new n("AccessibleView");static MultiDiffEditorFileToolbar=new n("MultiDiffEditorFileToolbar");static DiffEditorHunkToolbar=new n("DiffEditorHunkToolbar");static DiffEditorSelectionToolbar=new n("DiffEditorSelectionToolbar");static for(e){return n._instances.get(e)??new n(e)}id;constructor(e){if(n._instances.has(e))throw new TypeError(`MenuId with identifier '${e}' already exists. Use MenuId.for(ident) or a unique identifier`);n._instances.set(e,this),this.id=e}},hW=ae("menuService"),Go=class n{constructor(e){this.id=e;this.has=t=>t===e}static _all=new Map;static for(e){let t=this._all.get(e);return t||(t=new n(e),this._all.set(e,t)),t}static merge(e){let t=new Set;for(let i of e)i instanceof n&&t.add(i.id);return t}has},mW=new class{_commands=new Map;_menuItems=new Map;_onDidChangeMenu=new Ja({merge:Go.merge});onDidChangeMenu=this._onDidChangeMenu.event;addCommand(n){return this._commands.set(n.id,n),this._onDidChangeMenu.fire(Go.for(pa.CommandPalette)),ce(()=>{this._commands.delete(n.id)&&this._onDidChangeMenu.fire(Go.for(pa.CommandPalette))})}getCommand(n){return this._commands.get(n)}getCommands(){let n=new Map;return this._commands.forEach((e,t)=>n.set(t,e)),n}appendMenuItem(n,e){let t=this._menuItems.get(n);t||(t=new an,this._menuItems.set(n,t));let i=t.push(e);return this._onDidChangeMenu.fire(Go.for(n)),ce(()=>{i(),this._onDidChangeMenu.fire(Go.for(n))})}appendMenuItems(n){let e=new G;for(let{id:t,item:i}of n)e.add(this.appendMenuItem(t,i));return e}getMenuItems(n){let e;return this._menuItems.has(n)?e=[...this._menuItems.get(n)]:e=[],n===pa.CommandPalette&&this._appendImplicitItems(e),e}_appendImplicitItems(n){let e=new Set;for(let t of n)L0(t)&&(e.add(t.command.id),t.alt&&e.add(t.alt.id));this._commands.forEach((t,i)=>{e.has(i)||n.push({command:t})})}};var qo=class{constructor(e,t,i,o,r,s,a){this.hideActions=o;this.menuKeybinding=r;this._commandService=a;this.id=e.id,this.label=qo.label(e,i),this.tooltip=(typeof e.tooltip=="string"?e.tooltip:e.tooltip?.value)??"",this.enabled=!e.precondition||s.contextMatchesRules(e.precondition),this.checked=void 0;let l;if(e.toggled){let c=e.toggled.condition?e.toggled:{condition:e.toggled};this.checked=s.contextMatchesRules(c.condition),this.checked&&c.tooltip&&(this.tooltip=typeof c.tooltip=="string"?c.tooltip:c.tooltip.value),this.checked&&Te.isThemeIcon(c.icon)&&(l=c.icon),this.checked&&c.title&&(this.label=typeof c.title=="string"?c.title:c.title.value)}l||(l=Te.isThemeIcon(e.icon)?e.icon:void 0),this.item=e,this.alt=t?new qo(t,void 0,i,o,void 0,s,a):void 0,this._options=i,this.class=l&&Te.asClassName(l)}static label(e,t){return t?.renderShortTitle&&e.shortTitle?typeof e.shortTitle=="string"?e.shortTitle:e.shortTitle.value:typeof e.title=="string"?e.title:e.title.value}item;alt;_options;id;label;tooltip;class;enabled;checked;run(...e){let t=[];return this._options?.arg&&(t=[...t,this._options.arg]),this._options?.shouldForwardArgs&&(t=[...t,...e]),this._commandService.executeCommand(this.id,...t)}};qo=de([fe(5,nn),fe(6,zu)],qo);var Cb=ae("contextViewService"),HW=ae("contextMenuService");var _b=ae("keybindingService");var lG={buttonBackground:"#0E639C",buttonHoverBackground:"#006BB3",buttonSeparator:D.white.toString(),buttonForeground:D.white.toString(),buttonBorder:void 0,buttonSecondaryBackground:void 0,buttonSecondaryForeground:void 0,buttonSecondaryHoverBackground:void 0},ha=class extends J{options;_element;_label="";_labelElement;_labelShortElement;_hover;_onDidClick=this._register(new L);get onDidClick(){return this._onDidClick.event}_onDidEscape=this._register(new L);get onDidEscape(){return this._onDidEscape.event}focusTracker;constructor(e,t){super(),this.options=t,this._element=document.createElement("a"),this._element.classList.add("monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button"),this._element.classList.toggle("secondary",!!t.secondary);let i=t.secondary?t.buttonSecondaryBackground:t.buttonBackground,o=t.secondary?t.buttonSecondaryForeground:t.buttonForeground;this._element.style.color=o||"",this._element.style.backgroundColor=i||"",t.supportShortLabel&&(this._labelShortElement=document.createElement("div"),this._labelShortElement.classList.add("monaco-button-label-short"),this._element.appendChild(this._labelShortElement),this._labelElement=document.createElement("div"),this._labelElement.classList.add("monaco-button-label"),this._element.appendChild(this._labelElement),this._element.classList.add("monaco-text-button-with-short-label")),typeof t.title=="string"&&this.setTitle(t.title),typeof t.ariaLabel=="string"&&this._element.setAttribute("aria-label",t.ariaLabel),e.appendChild(this._element),this._register(It.addTarget(this._element)),[me.CLICK,qe.Tap].forEach(r=>{this._register(Z(this._element,r,s=>{if(!this.enabled){Ge.stop(s);return}this._onDidClick.fire(s)}))}),this._register(Z(this._element,me.KEY_DOWN,r=>{let s=new Be(r),a=!1;this.enabled&&(s.equals(3)||s.equals(10))?(this._onDidClick.fire(r),a=!0):s.equals(9)&&(this._onDidEscape.fire(r),this._element.blur(),a=!0),a&&Ge.stop(s,!0)})),this._register(Z(this._element,me.MOUSE_OVER,r=>{this._element.classList.contains("disabled")||this.updateBackground(!0)})),this._register(Z(this._element,me.MOUSE_OUT,r=>{this.updateBackground(!1)})),this.focusTracker=this._register(Rs(this._element)),this._register(this.focusTracker.onDidFocus(()=>{this.enabled&&this.updateBackground(!0)})),this._register(this.focusTracker.onDidBlur(()=>{this.enabled&&this.updateBackground(!1)}))}dispose(){super.dispose(),this._element.remove()}getContentElements(e){let t=[];for(let i of hd(e))if(typeof i=="string"){if(i=i.trim(),i==="")continue;let o=document.createElement("span");o.textContent=i,t.push(o)}else t.push(i);return t}updateBackground(e){let t;this.options.secondary?t=e?this.options.buttonSecondaryHoverBackground:this.options.buttonSecondaryBackground:t=e?this.options.buttonHoverBackground:this.options.buttonBackground,t&&(this._element.style.backgroundColor=t)}get element(){return this._element}set label(e){if(this._label===e||Po(this._label)&&Po(e)&&Wg(this._label,e))return;this._element.classList.add("monaco-text-button");let t=this.options.supportShortLabel?this._labelElement:this._element;if(Po(e)){let o=oa(e,{inline:!0});o.dispose();let r=o.element.querySelector("p")?.innerHTML;if(r){let s=_s(r,{ADD_TAGS:["b","i","u","code","span"],ALLOWED_ATTR:["class"],RETURN_TRUSTED_TYPE:!0});t.innerHTML=s}else Lo(t)}else this.options.supportIcons?Lo(t,...this.getContentElements(e)):t.textContent=e;let i="";typeof this.options.title=="string"?i=this.options.title:this.options.title&&(i=ub(e)),this.setTitle(i),typeof this.options.ariaLabel=="string"?this._element.setAttribute("aria-label",this.options.ariaLabel):this.options.ariaLabel&&this._element.setAttribute("aria-label",i),this._label=e}get label(){return this._label}set labelShort(e){!this.options.supportShortLabel||!this._labelShortElement||(this.options.supportIcons?Lo(this._labelShortElement,...this.getContentElements(e)):this._labelShortElement.textContent=e)}set icon(e){this._element.classList.add(...Te.asClassNameArray(e))}set enabled(e){e?(this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0)))}get enabled(){return!this._element.classList.contains("disabled")}set checked(e){e?(this._element.classList.add("checked"),this._element.setAttribute("aria-checked","true")):(this._element.classList.remove("checked"),this._element.setAttribute("aria-checked","false"))}get checked(){return this._element.classList.contains("checked")}setTitle(e){!this._hover&&e!==""?this._hover=this._register(Yt().setupManagedHover(this.options.hoverDelegate??ct("mouse"),this._element,e)):this._hover&&this._hover.update(e)}focus(){this._element.focus()}hasFocus(){return $t(this._element)}};var Rr=class{modifierLabels;constructor(e,t,i=t){this.modifierLabels=[null],this.modifierLabels[2]=e,this.modifierLabels[1]=t,this.modifierLabels[3]=i}toLabel(e,t,i){if(t.length===0)return null;let o=[];for(let r=0,s=t.length;r<s;r++){let a=t[r],l=i(a);if(l===null)return null;o[r]=A0(a,l,this.modifierLabels[e])}return o.join(" ")}},kb=new Rr({ctrlKey:"\u2303",shiftKey:"\u21E7",altKey:"\u2325",metaKey:"\u2318",separator:""},{ctrlKey:d({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:d({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:d({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:d({key:"windowsKey",comment:["This is the short form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:d({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:d({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:d({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:d({key:"superKey",comment:["This is the short form for the Super key on the keyboard"]},"Super"),separator:"+"}),hG=new Rr({ctrlKey:d({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:d({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:d({key:"optKey.long",comment:["This is the long form for the Alt/Option key on the keyboard"]},"Option"),metaKey:d({key:"cmdKey.long",comment:["This is the long form for the Command key on the keyboard"]},"Command"),separator:"+"},{ctrlKey:d({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:d({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:d({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:d({key:"windowsKey.long",comment:["This is the long form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:d({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:d({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:d({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:d({key:"superKey.long",comment:["This is the long form for the Super key on the keyboard"]},"Super"),separator:"+"}),mG=new Rr({ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Cmd",separator:"+"},{ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Super",separator:"+"}),fG=new Rr({ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"cmd",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"win",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"meta",separator:"+"});function A0(n,e,t){if(e===null)return"";let i=[];return n.ctrlKey&&i.push(t.ctrlKey),n.shiftKey&&i.push(t.shiftKey),n.altKey&&i.push(t.altKey),n.metaKey&&i.push(t.metaKey),e!==""&&i.push(e),i.join(t.separator)}var Wd=j;var zd=class n extends J{constructor(t,i,o){super();this.os=i;this.options=o||Object.create(null);let r=this.options.keybindingLabelForeground;this.domNode=se(t,Wd(".monaco-keybinding")),r&&(this.domNode.style.color=r),this.hover=this._register(Yt().setupManagedHover(ct("mouse"),this.domNode,"")),this.didEverRender=!1,t.appendChild(this.domNode)}domNode;options;keyElements=new Set;hover;keybinding;matches;didEverRender;get element(){return this.domNode}set(t,i){this.didEverRender&&this.keybinding===t&&n.areSame(this.matches,i)||(this.keybinding=t,this.matches=i,this.render())}render(){if(this.clear(),this.keybinding){let t=this.keybinding.getChords();t[0]&&this.renderChord(this.domNode,t[0],this.matches?this.matches.firstPart:null);for(let o=1;o<t.length;o++)se(this.domNode,Wd("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderChord(this.domNode,t[o],this.matches?this.matches.chordPart:null);let i=this.options.disableTitle??!1?void 0:this.keybinding.getAriaLabel()||void 0;this.hover.update(i),this.domNode.setAttribute("aria-label",i||"")}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.didEverRender=!0}clear(){nt(this.domNode),this.keyElements.clear()}renderChord(t,i,o){let r=kb.modifierLabels[this.os];i.ctrlKey&&this.renderKey(t,r.ctrlKey,!!o?.ctrlKey,r.separator),i.shiftKey&&this.renderKey(t,r.shiftKey,!!o?.shiftKey,r.separator),i.altKey&&this.renderKey(t,r.altKey,!!o?.altKey,r.separator),i.metaKey&&this.renderKey(t,r.metaKey,!!o?.metaKey,r.separator);let s=i.keyLabel;s&&this.renderKey(t,s,!!o?.keyCode,"")}renderKey(t,i,o,r){se(t,this.createKeyElement(i,o?".highlight":"")),r&&se(t,Wd("span.monaco-keybinding-key-separator",void 0,r))}renderUnbound(t){se(t,this.createKeyElement(d("unbound","Unbound")))}createKeyElement(t,i=""){let o=Wd("span.monaco-keybinding-key"+i,void 0,t);return this.keyElements.add(o),this.options.keybindingLabelBackground&&(o.style.backgroundColor=this.options.keybindingLabelBackground),this.options.keybindingLabelBorder&&(o.style.borderColor=this.options.keybindingLabelBorder),this.options.keybindingLabelBottomBorder&&(o.style.borderBottomColor=this.options.keybindingLabelBottomBorder),this.options.keybindingLabelShadow&&(o.style.boxShadow=`inset 0 -1px 0 ${this.options.keybindingLabelShadow}`),o}static areSame(t,i){return t===i||!t&&!i?!0:!!t&&!!i&&no(t.firstPart,i.firstPart)&&no(t.chordPart,i.chordPart)}};var R0={IconContribution:"base.contributions.icons"},N0;(e=>{function n(t,i){let o=t.defaults;for(;Te.isThemeIcon(o);){let r=Nr.getIcon(o.id);if(!r)return;o=r.defaults}return o}e.getDefinition=n})(N0||={});var O0;(t=>{function n(i){return{weight:i.weight,style:i.style,src:i.src.map(o=>({format:o.format,location:o.location.toString()}))}}t.toJSONObject=n;function e(i){let o=r=>xn(r)?r:void 0;if(i&&Array.isArray(i.src)&&i.src.every(r=>xn(r.format)&&xn(r.location)))return{weight:o(i.weight),style:o(i.style),src:i.src.map(r=>({format:r.format,location:De.parse(r.location)}))}}t.fromJSONObject=e})(O0||={});var kh=class{_onDidChange=new L;onDidChange=this._onDidChange.event;iconsById;iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:d("iconDefinition.fontId","The id of the font to use. If not set, the font that is defined first is used.")},fontCharacter:{type:"string",description:d("iconDefinition.fontCharacter","The font character associated with the icon definition.")}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}};iconReferenceSchema={type:"string",pattern:`^${Te.iconNameExpression}$`,enum:[],enumDescriptions:[]};iconFontsById;constructor(){this.iconsById={},this.iconFontsById={}}registerIcon(e,t,i,o){let r=this.iconsById[e];if(r){if(i&&!r.description){r.description=i,this.iconSchema.properties[e].markdownDescription=`${i} $(${e})`;let l=this.iconReferenceSchema.enum.indexOf(e);l!==-1&&(this.iconReferenceSchema.enumDescriptions[l]=i),this._onDidChange.fire()}return r}let s={id:e,description:i,defaults:t,deprecationMessage:o};this.iconsById[e]=s;let a={$ref:"#/definitions/icons"};return o&&(a.deprecationMessage=o),i&&(a.markdownDescription=`${i}: $(${e})`),this.iconSchema.properties[e]=a,this.iconReferenceSchema.enum.push(e),this.iconReferenceSchema.enumDescriptions.push(i||""),this._onDidChange.fire(),{id:e}}deregisterIcon(e){delete this.iconsById[e],delete this.iconSchema.properties[e];let t=this.iconReferenceSchema.enum.indexOf(e);t!==-1&&(this.iconReferenceSchema.enum.splice(t,1),this.iconReferenceSchema.enumDescriptions.splice(t,1)),this._onDidChange.fire()}getIcons(){return Object.keys(this.iconsById).map(e=>this.iconsById[e])}getIcon(e){return this.iconsById[e]}getIconSchema(){return this.iconSchema}getIconReferenceSchema(){return this.iconReferenceSchema}registerIconFont(e,t){let i=this.iconFontsById[e];return i||(this.iconFontsById[e]=t,this._onDidChange.fire(),t)}deregisterIconFont(e){delete this.iconFontsById[e]}getIconFont(e){return this.iconFontsById[e]}toString(){let e=(r,s)=>r.id.localeCompare(s.id),t=r=>{for(;Te.isThemeIcon(r.defaults);)r=this.iconsById[r.defaults.id];return`codicon codicon-${r?r.id:""}`},i=[];i.push("| preview     | identifier                        | default codicon ID                | description"),i.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");let o=Object.keys(this.iconsById).map(r=>this.iconsById[r]);for(let r of o.filter(s=>!!s.description).sort(e))i.push(`|<i class="${t(r)}"></i>|${r.id}|${Te.isThemeIcon(r.defaults)?r.defaults.id:r.id}|${r.description||""}|`);i.push("| preview     | identifier                        "),i.push("| ----------- | --------------------------------- |");for(let r of o.filter(s=>!Te.isThemeIcon(s.defaults)).sort(e))i.push(`|<i class="${t(r)}"></i>|${r.id}|`);return i.join(`
`)}},Nr=new kh;je.add(R0.IconContribution,Nr);function Ke(n,e,t,i){return Nr.registerIcon(n,e,t,i)}function F0(){let n=Wu();for(let e in n){let t="\\"+n[e].toString(16);Nr.registerIcon(e,{fontCharacter:t})}}F0();var Ab="vscode://schemas/icons",Rb=je.as(wi.JSONContribution);Rb.registerSchema(Ab,Nr.getIconSchema());var Lb=new Gi(()=>Rb.notifySchemaChanged(Ab),200);Nr.onDidChange(()=>{Lb.isScheduled()||Lb.schedule()});var qG=Ke("widget-close",ee.close,d("widgetClose","Icon for the close action in widgets.")),jG=Ke("goto-previous-location",ee.arrowUp,d("previousChangeIcon","Icon for goto previous editor location.")),YG=Ke("goto-next-location",ee.arrowDown,d("nextChangeIcon","Icon for goto next editor location.")),XG=Te.modify(ee.sync,"spin"),JG=Te.modify(ee.loading,"spin");var Nb=ae("themeService");var gq=ee.file,bq=ee.folder;var P0={ThemingContribution:"base.contributions.theming"},Lh=class{themingParticipants=[];onThemingParticipantAddedEmitter;constructor(){this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new L}onColorThemeChange(e){return this.themingParticipants.push(e),this.onThemingParticipantAddedEmitter.fire(e),ce(()=>{let t=this.themingParticipants.indexOf(e);this.themingParticipants.splice(t,1)})}get onThemingParticipantAdded(){return this.onThemingParticipantAddedEmitter.event}getThemingParticipants(){return this.themingParticipants}},B0=new Lh;je.add(P0.ThemingContribution,B0);var $d=class extends J{constructor(t){super();this.themeService=t;this.theme=t.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(i=>this.onThemeChange(i)))}theme;onThemeChange(t){this.theme=t,this.updateStyles()}updateStyles(){}getColor(t,i){let o=this.theme.getColor(t);return o&&i&&(o=i(o,this.theme)),o?o.toString():null}};function Fb(n){return`--vscode-${n.replace(/\./g,"-")}`}function F(n){return`var(${Fb(n)})`}function Mb(n,e){return`var(${Fb(n)}, ${e})`}function H0(n){return n!==null&&typeof n=="object"&&"light"in n&&"dark"in n}var U0={ColorContribution:"base.contributions.colors"},K0="default",Ah=class{_onDidChangeSchema=new L;onDidChangeSchema=this._onDidChangeSchema.event;colorsById;colorSchema={type:"object",properties:{}};colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]};constructor(){this.colorsById={}}notifyThemeUpdate(e){for(let t of Object.keys(this.colorsById)){let i=e.getColor(t);i&&(this.colorSchema.properties[t].oneOf[0].defaultSnippets[0].body=`\${1:${i.toString()}}`)}this._onDidChangeSchema.fire()}registerColor(e,t,i,o=!1,r){let s={id:e,description:i,defaults:t,needsTransparency:o,deprecationMessage:r};this.colorsById[e]=s;let a={type:"string",format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return r&&(a.deprecationMessage=r),o&&(a.pattern="^#(?:(?<rgba>[0-9a-fA-f]{3}[0-9a-eA-E])|(?:[0-9a-fA-F]{6}(?:(?![fF]{2})(?:[0-9a-fA-F]{2}))))?$",a.patternErrorMessage=d("transparecyRequired","This color must be transparent or it will obscure content")),this.colorSchema.properties[e]={description:i,oneOf:[a,{type:"string",const:K0,description:d("useDefault","Use the default color.")}]},this.colorReferenceSchema.enum.push(e),this.colorReferenceSchema.enumDescriptions.push(i),this._onDidChangeSchema.fire(),e}deregisterColor(e){delete this.colorsById[e],delete this.colorSchema.properties[e];let t=this.colorReferenceSchema.enum.indexOf(e);t!==-1&&(this.colorReferenceSchema.enum.splice(t,1),this.colorReferenceSchema.enumDescriptions.splice(t,1)),this._onDidChangeSchema.fire()}getColors(){return Object.keys(this.colorsById).map(e=>this.colorsById[e])}resolveDefaultColor(e,t){let i=this.colorsById[e];if(i?.defaults){let o=H0(i.defaults)?i.defaults[t.type]:i.defaults;return kn(o,t)}}getColorSchema(){return this.colorSchema}getColorReferenceSchema(){return this.colorReferenceSchema}toString(){let e=(t,i)=>{let o=t.indexOf(".")===-1?0:1,r=i.indexOf(".")===-1?0:1;return o!==r?o-r:t.localeCompare(i)};return Object.keys(this.colorsById).sort(e).map(t=>`- \`${t}\`: ${this.colorsById[t].description}`).join(`
`)}},Gd=new Ah;je.add(U0.ColorContribution,Gd);function m(n,e,t,i,o){return Gd.registerColor(n,e,t,i,o)}function V0(n,e){switch(n.op){case 0:return kn(n.value,e)?.darken(n.factor);case 1:return kn(n.value,e)?.lighten(n.factor);case 2:return kn(n.value,e)?.transparent(n.factor);case 3:{let t=kn(n.background,e);return t?kn(n.value,e)?.makeOpaque(t):kn(n.value,e)}case 4:for(let t of n.values){let i=kn(t,e);if(i)return i}return;case 6:return kn(e.defines(n.if)?n.then:n.else,e);case 5:{let t=kn(n.value,e);if(!t)return;let i=kn(n.background,e);return i?t.isDarkerThan(i)?D.getLighterColor(t,i,n.factor).transparent(n.transparency):D.getDarkerColor(t,i,n.factor).transparent(n.transparency):t.transparent(n.factor*n.transparency)}default:throw Om(n)}}function Et(n,e){return{op:0,value:n,factor:e}}function At(n,e){return{op:1,value:n,factor:e}}function B(n,e){return{op:2,value:n,factor:e}}function Rh(...n){return{op:4,values:n}}function Pb(n,e,t){return{op:6,if:n,then:e,else:t}}function Nh(n,e,t,i){return{op:5,value:n,background:e,factor:t,transparency:i}}function kn(n,e){if(n!==null){if(typeof n=="string")return n[0]==="#"?D.fromHex(n):e.getColor(n);if(n instanceof D)return n;if(typeof n=="object")return V0(n,e)}}var Bb="vscode://schemas/workbench-colors",Hb=je.as(wi.JSONContribution);Hb.registerSchema(Bb,Gd.getColorSchema());var Ob=new Gi(()=>Hb.notifySchemaChanged(Bb),200);Gd.onDidChangeSchema(()=>{Ob.isScheduled()||Ob.schedule()});var Ee=m("foreground",{dark:"#CCCCCC",light:"#616161",hcDark:"#FFFFFF",hcLight:"#292929"},d("foreground","Overall foreground color. This color is only used if not overridden by a component.")),Oq=m("disabledForeground",{dark:"#CCCCCC80",light:"#61616180",hcDark:"#A5A5A5",hcLight:"#7F7F7F"},d("disabledForeground","Overall foreground for disabled elements. This color is only used if not overridden by a component.")),Oh=m("errorForeground",{dark:"#F48771",light:"#A1260D",hcDark:"#F48771",hcLight:"#B5200D"},d("errorForeground","Overall foreground color for error messages. This color is only used if not overridden by a component.")),Fq=m("descriptionForeground",{light:"#717171",dark:B(Ee,.7),hcDark:B(Ee,.7),hcLight:B(Ee,.7)},d("descriptionForeground","Foreground color for description text providing additional information, for example for a label.")),ma=m("icon.foreground",{dark:"#C5C5C5",light:"#424242",hcDark:"#FFFFFF",hcLight:"#292929"},d("iconForeground","The default color for icons in the workbench.")),St=m("focusBorder",{dark:"#007FD4",light:"#0090F1",hcDark:"#F38518",hcLight:"#006BBD"},d("focusBorder","Overall border color for focused elements. This color is only used if not overridden by a component.")),W=m("contrastBorder",{light:null,dark:null,hcDark:"#6FC3DF",hcLight:"#0F4A85"},d("contrastBorder","An extra border around elements to separate them from others for greater contrast.")),Ue=m("contrastActiveBorder",{light:null,dark:null,hcDark:St,hcLight:St},d("activeContrastBorder","An extra border around active elements to separate them from others for greater contrast.")),Mq=m("selection.background",null,d("selectionBackground","The background color of text selections in the workbench (e.g. for input fields or text areas). Note that this does not apply to selections within the editor.")),qd=m("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hcDark:"#21A6FF",hcLight:"#0F4A85"},d("textLinkForeground","Foreground color for links in text.")),Pq=m("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hcDark:"#21A6FF",hcLight:"#0F4A85"},d("textLinkActiveForeground","Foreground color for links in text when clicked on and on mouse hover.")),Bq=m("textSeparator.foreground",{light:"#0000002e",dark:"#ffffff2e",hcDark:D.black,hcLight:"#292929"},d("textSeparatorForeground","Color for text separators.")),Hq=m("textPreformat.foreground",{light:"#A31515",dark:"#D7BA7D",hcDark:"#000000",hcLight:"#FFFFFF"},d("textPreformatForeground","Foreground color for preformatted text segments.")),Uq=m("textPreformat.background",{light:"#0000001A",dark:"#FFFFFF1A",hcDark:"#FFFFFF",hcLight:"#09345f"},d("textPreformatBackground","Background color for preformatted text segments.")),Kq=m("textBlockQuote.background",{light:"#f2f2f2",dark:"#222222",hcDark:null,hcLight:"#F2F2F2"},d("textBlockQuoteBackground","Background color for block quotes in text.")),Vq=m("textBlockQuote.border",{light:"#007acc80",dark:"#007acc80",hcDark:D.white,hcLight:"#292929"},d("textBlockQuoteBorder","Border color for block quotes in text.")),Wq=m("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hcDark:D.black,hcLight:"#F2F2F2"},d("textCodeBlockBackground","Background color for code blocks in text."));var jq=m("sash.hoverBorder",St,d("sashActiveBorder","Border color of active sashes.")),Or=m("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hcDark:D.black,hcLight:"#0F4A85"},d("badgeBackground","Badge background color. Badges are small information labels, e.g. for search results count.")),Ub=m("badge.foreground",{dark:D.white,light:"#333",hcDark:D.white,hcLight:D.white},d("badgeForeground","Badge foreground color. Badges are small information labels, e.g. for search results count.")),co=m("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hcDark:null,hcLight:null},d("scrollbarShadow","Scrollbar shadow to indicate that the view is scrolled.")),jd=m("scrollbarSlider.background",{dark:D.fromHex("#797979").transparent(.4),light:D.fromHex("#646464").transparent(.4),hcDark:B(W,.6),hcLight:B(W,.4)},d("scrollbarSliderBackground","Scrollbar slider background color.")),Yd=m("scrollbarSlider.hoverBackground",{dark:D.fromHex("#646464").transparent(.7),light:D.fromHex("#646464").transparent(.7),hcDark:B(W,.8),hcLight:B(W,.8)},d("scrollbarSliderHoverBackground","Scrollbar slider background color when hovering.")),Xd=m("scrollbarSlider.activeBackground",{dark:D.fromHex("#BFBFBF").transparent(.4),light:D.fromHex("#000000").transparent(.6),hcDark:W,hcLight:W},d("scrollbarSliderActiveBackground","Scrollbar slider background color when clicked on.")),Kb=m("progressBar.background",{dark:D.fromHex("#0E70C0"),light:D.fromHex("#0E70C0"),hcDark:W,hcLight:W},d("progressBarBackground","Background color of the progress bar that can show for long running operations."));var Di=m("editor.background",{light:"#ffffff",dark:"#1E1E1E",hcDark:D.black,hcLight:D.white},d("editorBackground","Editor background color.")),uo=m("editor.foreground",{light:"#333333",dark:"#BBBBBB",hcDark:D.white,hcLight:Ee},d("editorForeground","Editor default foreground color.")),ej=m("editorStickyScroll.background",Di,d("editorStickyScrollBackground","Background color of sticky scroll in the editor")),tj=m("editorStickyScrollHover.background",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:null,hcLight:D.fromHex("#0F4A85").transparent(.1)},d("editorStickyScrollHoverBackground","Background color of sticky scroll on hover in the editor")),nj=m("editorStickyScroll.border",{dark:null,light:null,hcDark:W,hcLight:W},d("editorStickyScrollBorder","Border color of sticky scroll in the editor")),ij=m("editorStickyScroll.shadow",co,d("editorStickyScrollShadow"," Shadow color of sticky scroll in the editor")),bt=m("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hcDark:"#0C141F",hcLight:D.white},d("editorWidgetBackground","Background color of editor widgets, such as find/replace.")),Xn=m("editorWidget.foreground",Ee,d("editorWidgetForeground","Foreground color of editor widgets, such as find/replace.")),Bh=m("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hcDark:W,hcLight:W},d("editorWidgetBorder","Border color of editor widgets. The color is only used if the widget chooses to have a border and if the color is not overridden by a widget.")),oj=m("editorWidget.resizeBorder",null,d("editorWidgetResizeBorder","Border color of the resize bar of editor widgets. The color is only used if the widget chooses to have a resize border and if the color is not overridden by a widget.")),rj=m("editorError.background",null,d("editorError.background","Background color of error text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),ga=m("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hcDark:"#F48771",hcLight:"#B5200D"},d("editorError.foreground","Foreground color of error squigglies in the editor.")),sj=m("editorError.border",{dark:null,light:null,hcDark:D.fromHex("#E47777").transparent(.8),hcLight:"#B5200D"},d("errorBorder","If set, color of double underlines for errors in the editor.")),aj=m("editorWarning.background",null,d("editorWarning.background","Background color of warning text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),Jn=m("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hcDark:"#FFD370",hcLight:"#895503"},d("editorWarning.foreground","Foreground color of warning squigglies in the editor.")),Hh=m("editorWarning.border",{dark:null,light:null,hcDark:D.fromHex("#FFCC00").transparent(.8),hcLight:D.fromHex("#FFCC00").transparent(.8)},d("warningBorder","If set, color of double underlines for warnings in the editor.")),lj=m("editorInfo.background",null,d("editorInfo.background","Background color of info text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),Ci=m("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hcDark:"#3794FF",hcLight:"#1a85ff"},d("editorInfo.foreground","Foreground color of info squigglies in the editor.")),Uh=m("editorInfo.border",{dark:null,light:null,hcDark:D.fromHex("#3794FF").transparent(.8),hcLight:"#292929"},d("infoBorder","If set, color of double underlines for infos in the editor.")),dj=m("editorHint.foreground",{dark:D.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hcDark:null,hcLight:null},d("editorHint.foreground","Foreground color of hint squigglies in the editor.")),cj=m("editorHint.border",{dark:null,light:null,hcDark:D.fromHex("#eeeeee").transparent(.8),hcLight:"#292929"},d("hintBorder","If set, color of double underlines for hints in the editor.")),uj=m("editorLink.activeForeground",{dark:"#4E94CE",light:D.blue,hcDark:D.cyan,hcLight:"#292929"},d("activeLinkForeground","Color of active links.")),Fr=m("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hcDark:"#f3f518",hcLight:"#0F4A85"},d("editorSelectionBackground","Color of the editor selection.")),pj=m("editor.selectionForeground",{light:null,dark:null,hcDark:"#000000",hcLight:D.white},d("editorSelectionForeground","Color of the selected text for high contrast.")),hj=m("editor.inactiveSelectionBackground",{light:B(Fr,.5),dark:B(Fr,.5),hcDark:B(Fr,.7),hcLight:B(Fr,.5)},d("editorInactiveSelection","Color of the selection in an inactive editor. The color must not be opaque so as not to hide underlying decorations."),!0),mj=m("editor.selectionHighlightBackground",{light:Nh(Fr,Di,.3,.6),dark:Nh(Fr,Di,.3,.6),hcDark:null,hcLight:null},d("editorSelectionHighlight","Color for regions with the same content as the selection. The color must not be opaque so as not to hide underlying decorations."),!0),fj=m("editor.selectionHighlightBorder",{light:null,dark:null,hcDark:Ue,hcLight:Ue},d("editorSelectionHighlightBorder","Border color for regions with the same content as the selection.")),gj=m("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hcDark:null,hcLight:null},d("editorFindMatch","Color of the current search match.")),bj=m("editor.findMatchForeground",null,d("editorFindMatchForeground","Text color of the current search match.")),po=m("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hcDark:null,hcLight:null},d("findMatchHighlight","Color of the other search matches. The color must not be opaque so as not to hide underlying decorations."),!0),vj=m("editor.findMatchHighlightForeground",null,d("findMatchHighlightForeground","Foreground color of the other search matches."),!0),yj=m("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hcDark:null,hcLight:null},d("findRangeHighlight","Color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),Tj=m("editor.findMatchBorder",{light:null,dark:null,hcDark:Ue,hcLight:Ue},d("editorFindMatchBorder","Border color of the current search match.")),ho=m("editor.findMatchHighlightBorder",{light:null,dark:null,hcDark:Ue,hcLight:Ue},d("findMatchHighlightBorder","Border color of the other search matches.")),Ij=m("editor.findRangeHighlightBorder",{dark:null,light:null,hcDark:B(Ue,.4),hcLight:B(Ue,.4)},d("findRangeHighlightBorder","Border color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),xj=m("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hcDark:"#ADD6FF26",hcLight:null},d("hoverHighlight","Highlight below the word for which a hover is shown. The color must not be opaque so as not to hide underlying decorations."),!0),Vb=m("editorHoverWidget.background",bt,d("hoverBackground","Background color of the editor hover.")),Ej=m("editorHoverWidget.foreground",Xn,d("hoverForeground","Foreground color of the editor hover.")),Sj=m("editorHoverWidget.border",Bh,d("hoverBorder","Border color of the editor hover.")),wj=m("editorHoverWidget.statusBarBackground",{dark:At(Vb,.2),light:Et(Vb,.05),hcDark:bt,hcLight:bt},d("statusBarBackground","Background color of the editor hover status bar.")),jb=m("editorInlayHint.foreground",{dark:"#969696",light:"#969696",hcDark:D.white,hcLight:D.black},d("editorInlayHintForeground","Foreground color of inline hints")),Yb=m("editorInlayHint.background",{dark:B(Or,.1),light:B(Or,.1),hcDark:B(D.white,.1),hcLight:B(Or,.1)},d("editorInlayHintBackground","Background color of inline hints")),Dj=m("editorInlayHint.typeForeground",jb,d("editorInlayHintForegroundTypes","Foreground color of inline hints for types")),Cj=m("editorInlayHint.typeBackground",Yb,d("editorInlayHintBackgroundTypes","Background color of inline hints for types")),_j=m("editorInlayHint.parameterForeground",jb,d("editorInlayHintForegroundParameter","Foreground color of inline hints for parameters")),kj=m("editorInlayHint.parameterBackground",Yb,d("editorInlayHintBackgroundParameter","Background color of inline hints for parameters")),W0=m("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hcDark:"#FFCC00",hcLight:"#007ACC"},d("editorLightBulbForeground","The color used for the lightbulb actions icon.")),Lj=m("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},d("editorLightBulbAutoFixForeground","The color used for the lightbulb auto fix actions icon.")),Aj=m("editorLightBulbAi.foreground",W0,d("editorLightBulbAiForeground","The color used for the lightbulb AI icon.")),Rj=m("editor.snippetTabstopHighlightBackground",{dark:new D(new Ie(124,124,124,.3)),light:new D(new Ie(10,50,100,.2)),hcDark:new D(new Ie(124,124,124,.3)),hcLight:new D(new Ie(10,50,100,.2))},d("snippetTabstopHighlightBackground","Highlight background color of a snippet tabstop.")),Nj=m("editor.snippetTabstopHighlightBorder",null,d("snippetTabstopHighlightBorder","Highlight border color of a snippet tabstop.")),Oj=m("editor.snippetFinalTabstopHighlightBackground",null,d("snippetFinalTabstopHighlightBackground","Highlight background color of the final tabstop of a snippet.")),Fj=m("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new D(new Ie(10,50,100,.5)),hcDark:"#525252",hcLight:"#292929"},d("snippetFinalTabstopHighlightBorder","Highlight border color of the final tabstop of a snippet.")),Wb=new D(new Ie(155,185,85,.2)),zb=new D(new Ie(255,0,0,.2)),Mj=m("diffEditor.insertedTextBackground",{dark:"#9ccc2c33",light:"#9ccc2c40",hcDark:null,hcLight:null},d("diffEditorInserted","Background color for text that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),Pj=m("diffEditor.removedTextBackground",{dark:"#ff000033",light:"#ff000033",hcDark:null,hcLight:null},d("diffEditorRemoved","Background color for text that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),Bj=m("diffEditor.insertedLineBackground",{dark:Wb,light:Wb,hcDark:null,hcLight:null},d("diffEditorInsertedLines","Background color for lines that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),Hj=m("diffEditor.removedLineBackground",{dark:zb,light:zb,hcDark:null,hcLight:null},d("diffEditorRemovedLines","Background color for lines that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),Uj=m("diffEditorGutter.insertedLineBackground",null,d("diffEditorInsertedLineGutter","Background color for the margin where lines got inserted.")),Kj=m("diffEditorGutter.removedLineBackground",null,d("diffEditorRemovedLineGutter","Background color for the margin where lines got removed.")),Vj=m("diffEditorOverview.insertedForeground",null,d("diffEditorOverviewInserted","Diff overview ruler foreground for inserted content.")),Wj=m("diffEditorOverview.removedForeground",null,d("diffEditorOverviewRemoved","Diff overview ruler foreground for removed content.")),zj=m("diffEditor.insertedTextBorder",{dark:null,light:null,hcDark:"#33ff2eff",hcLight:"#374E06"},d("diffEditorInsertedOutline","Outline color for the text that got inserted.")),$j=m("diffEditor.removedTextBorder",{dark:null,light:null,hcDark:"#FF008F",hcLight:"#AD0707"},d("diffEditorRemovedOutline","Outline color for text that got removed.")),Gj=m("diffEditor.border",{dark:null,light:null,hcDark:W,hcLight:W},d("diffEditorBorder","Border color between the two text editors.")),qj=m("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hcDark:null,hcLight:null},d("diffDiagonalFill","Color of the diff editor's diagonal fill. The diagonal fill is used in side-by-side diff views.")),jj=m("diffEditor.unchangedRegionBackground","sideBar.background",d("diffEditor.unchangedRegionBackground","The background color of unchanged blocks in the diff editor.")),Yj=m("diffEditor.unchangedRegionForeground","foreground",d("diffEditor.unchangedRegionForeground","The foreground color of unchanged blocks in the diff editor.")),Xj=m("diffEditor.unchangedCodeBackground",{dark:"#74747429",light:"#b8b8b829",hcDark:null,hcLight:null},d("diffEditor.unchangedCodeBackground","The background color of unchanged code in the diff editor.")),Br=m("widget.shadow",{dark:B(D.black,.36),light:B(D.black,.16),hcDark:null,hcLight:null},d("widgetShadow","Shadow color of widgets such as find/replace inside the editor.")),ba=m("widget.border",{dark:null,light:null,hcDark:W,hcLight:W},d("widgetBorder","Border color of widgets such as find/replace inside the editor.")),fa=m("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hcDark:null,hcLight:null},d("toolbarHoverBackground","Toolbar background when hovering over actions using the mouse")),Jj=m("toolbar.hoverOutline",{dark:null,light:null,hcDark:Ue,hcLight:Ue},d("toolbarHoverOutline","Toolbar outline when hovering over actions using the mouse")),Zj=m("toolbar.activeBackground",{dark:At(fa,.1),light:Et(fa,.1),hcDark:null,hcLight:null},d("toolbarActiveBackground","Toolbar background when holding the mouse over actions")),Xb=m("breadcrumb.foreground",B(Ee,.8),d("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),Jb=m("breadcrumb.background",Di,d("breadcrumbsBackground","Background color of breadcrumb items.")),Kh=m("breadcrumb.focusForeground",{light:Et(Ee,.2),dark:At(Ee,.1),hcDark:At(Ee,.1),hcLight:At(Ee,.1)},d("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),Zb=m("breadcrumb.activeSelectionForeground",{light:Et(Ee,.2),dark:At(Ee,.1),hcDark:At(Ee,.1),hcLight:At(Ee,.1)},d("breadcrumbsSelectedForeground","Color of selected breadcrumb items.")),Qj=m("breadcrumbPicker.background",bt,d("breadcrumbsSelectedBackground","Background color of breadcrumb item picker.")),Qb=.5,$b=D.fromHex("#40C8AE").transparent(Qb),Gb=D.fromHex("#40A6FF").transparent(Qb),qb=D.fromHex("#606060").transparent(.4),Vh=.4,Mr=1,Fh=m("merge.currentHeaderBackground",{dark:$b,light:$b,hcDark:null,hcLight:null},d("mergeCurrentHeaderBackground","Current header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),eY=m("merge.currentContentBackground",B(Fh,Vh),d("mergeCurrentContentBackground","Current content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),Mh=m("merge.incomingHeaderBackground",{dark:Gb,light:Gb,hcDark:null,hcLight:null},d("mergeIncomingHeaderBackground","Incoming header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),tY=m("merge.incomingContentBackground",B(Mh,Vh),d("mergeIncomingContentBackground","Incoming content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),Ph=m("merge.commonHeaderBackground",{dark:qb,light:qb,hcDark:null,hcLight:null},d("mergeCommonHeaderBackground","Common ancestor header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),nY=m("merge.commonContentBackground",B(Ph,Vh),d("mergeCommonContentBackground","Common ancestor content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),Pr=m("merge.border",{dark:null,light:null,hcDark:"#C3DF6F",hcLight:"#007ACC"},d("mergeBorder","Border color on headers and the splitter in inline merge-conflicts.")),iY=m("editorOverviewRuler.currentContentForeground",{dark:B(Fh,Mr),light:B(Fh,Mr),hcDark:Pr,hcLight:Pr},d("overviewRulerCurrentContentForeground","Current overview ruler foreground for inline merge-conflicts.")),oY=m("editorOverviewRuler.incomingContentForeground",{dark:B(Mh,Mr),light:B(Mh,Mr),hcDark:Pr,hcLight:Pr},d("overviewRulerIncomingContentForeground","Incoming overview ruler foreground for inline merge-conflicts.")),rY=m("editorOverviewRuler.commonContentForeground",{dark:B(Ph,Mr),light:B(Ph,Mr),hcDark:Pr,hcLight:Pr},d("overviewRulerCommonContentForeground","Common ancestor overview ruler foreground for inline merge-conflicts.")),sY=m("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hcDark:"#AB5A00",hcLight:"#AB5A00"},d("overviewRulerFindMatchForeground","Overview ruler marker color for find matches. The color must not be opaque so as not to hide underlying decorations."),!0),aY=m("editorOverviewRuler.selectionHighlightForeground","#A0A0A0CC",d("overviewRulerSelectionHighlightForeground","Overview ruler marker color for selection highlights. The color must not be opaque so as not to hide underlying decorations."),!0),ev=m("problemsErrorIcon.foreground",ga,d("problemsErrorIconForeground","The color used for the problems error icon.")),tv=m("problemsWarningIcon.foreground",Jn,d("problemsWarningIconForeground","The color used for the problems warning icon.")),nv=m("problemsInfoIcon.foreground",Ci,d("problemsInfoIconForeground","The color used for the problems info icon."));var iv=m("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hcDark:"#AB5A00",hcLight:"#0F4A85"},d("minimapFindMatchHighlight","Minimap marker color for find matches."),!0),hY=m("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hcDark:"#ffffff",hcLight:"#0F4A85"},d("minimapSelectionOccurrenceHighlight","Minimap marker color for repeating editor selections."),!0),mY=m("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hcDark:"#ffffff",hcLight:"#0F4A85"},d("minimapSelectionHighlight","Minimap marker color for the editor selection."),!0),fY=m("minimap.infoHighlight",{dark:Ci,light:Ci,hcDark:Uh,hcLight:Uh},d("minimapInfo","Minimap marker color for infos.")),gY=m("minimap.warningHighlight",{dark:Jn,light:Jn,hcDark:Hh,hcLight:Hh},d("overviewRuleWarning","Minimap marker color for warnings.")),bY=m("minimap.errorHighlight",{dark:new D(new Ie(255,18,18,.7)),light:new D(new Ie(255,18,18,.7)),hcDark:new D(new Ie(255,50,50,1)),hcLight:"#B5200D"},d("minimapError","Minimap marker color for errors.")),vY=m("minimap.background",null,d("minimapBackground","Minimap background color.")),yY=m("minimap.foregroundOpacity",D.fromHex("#000f"),d("minimapForegroundOpacity",'Opacity of foreground elements rendered in the minimap. For example, "#000000c0" will render the elements with 75% opacity.')),TY=m("minimapSlider.background",B(jd,.5),d("minimapSliderBackground","Minimap slider background color.")),IY=m("minimapSlider.hoverBackground",B(Yd,.5),d("minimapSliderHoverBackground","Minimap slider background color when hovering.")),xY=m("minimapSlider.activeBackground",B(Xd,.5),d("minimapSliderActiveBackground","Minimap slider background color when clicked on."));var _Y=m("charts.foreground",Ee,d("chartsForeground","The foreground color used in charts.")),kY=m("charts.lines",B(Ee,.5),d("chartsLines","The color used for horizontal lines in charts.")),LY=m("charts.red",ga,d("chartsRed","The red color used in chart visualizations.")),AY=m("charts.blue",Ci,d("chartsBlue","The blue color used in chart visualizations.")),RY=m("charts.yellow",Jn,d("chartsYellow","The yellow color used in chart visualizations.")),NY=m("charts.orange",iv,d("chartsOrange","The orange color used in chart visualizations.")),OY=m("charts.green",{dark:"#89D185",light:"#388A34",hcDark:"#89D185",hcLight:"#374e06"},d("chartsGreen","The green color used in chart visualizations.")),FY=m("charts.purple",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},d("chartsPurple","The purple color used in chart visualizations."));var ov=m("input.background",{dark:"#3C3C3C",light:D.white,hcDark:D.black,hcLight:D.white},d("inputBoxBackground","Input box background.")),rv=m("input.foreground",Ee,d("inputBoxForeground","Input box foreground.")),Kr=m("input.border",{dark:null,light:null,hcDark:W,hcLight:W},d("inputBoxBorder","Input box border.")),Wh=m("inputOption.activeBorder",{dark:"#007ACC",light:"#007ACC",hcDark:W,hcLight:W},d("inputBoxActiveOptionBorder","Border color of activated options in input fields.")),z0=m("inputOption.hoverBackground",{dark:"#5a5d5e80",light:"#b8b8b850",hcDark:null,hcLight:null},d("inputOption.hoverBackground","Background color of activated options in input fields.")),zh=m("inputOption.activeBackground",{dark:B(St,.4),light:B(St,.2),hcDark:D.transparent,hcLight:D.transparent},d("inputOption.activeBackground","Background hover color of options in input fields.")),$h=m("inputOption.activeForeground",{dark:D.white,light:D.black,hcDark:Ee,hcLight:Ee},d("inputOption.activeForeground","Foreground color of activated options in input fields.")),KY=m("input.placeholderForeground",{light:B(Ee,.5),dark:B(Ee,.5),hcDark:B(Ee,.7),hcLight:B(Ee,.7)},d("inputPlaceholderForeground","Input box foreground color for placeholder text.")),sv=m("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hcDark:D.black,hcLight:D.white},d("inputValidationInfoBackground","Input validation background color for information severity.")),av=m("inputValidation.infoForeground",{dark:null,light:null,hcDark:null,hcLight:Ee},d("inputValidationInfoForeground","Input validation foreground color for information severity.")),lv=m("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hcDark:W,hcLight:W},d("inputValidationInfoBorder","Input validation border color for information severity.")),dv=m("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hcDark:D.black,hcLight:D.white},d("inputValidationWarningBackground","Input validation background color for warning severity.")),cv=m("inputValidation.warningForeground",{dark:null,light:null,hcDark:null,hcLight:Ee},d("inputValidationWarningForeground","Input validation foreground color for warning severity.")),uv=m("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hcDark:W,hcLight:W},d("inputValidationWarningBorder","Input validation border color for warning severity.")),pv=m("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hcDark:D.black,hcLight:D.white},d("inputValidationErrorBackground","Input validation background color for error severity.")),hv=m("inputValidation.errorForeground",{dark:null,light:null,hcDark:null,hcLight:Ee},d("inputValidationErrorForeground","Input validation foreground color for error severity.")),mv=m("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hcDark:W,hcLight:W},d("inputValidationErrorBorder","Input validation border color for error severity.")),Vr=m("dropdown.background",{dark:"#3C3C3C",light:D.white,hcDark:D.black,hcLight:D.white},d("dropdownBackground","Dropdown background.")),fv=m("dropdown.listBackground",{dark:null,light:null,hcDark:D.black,hcLight:D.white},d("dropdownListBackground","Dropdown list background.")),va=m("dropdown.foreground",{dark:"#F0F0F0",light:Ee,hcDark:D.white,hcLight:Ee},d("dropdownForeground","Dropdown foreground.")),Gh=m("dropdown.border",{dark:Vr,light:"#CECECE",hcDark:W,hcLight:W},d("dropdownBorder","Dropdown border.")),qh=m("button.foreground",D.white,d("buttonForeground","Button foreground color.")),gv=m("button.separator",B(qh,.4),d("buttonSeparator","Button separator color.")),Hr=m("button.background",{dark:"#0E639C",light:"#007ACC",hcDark:null,hcLight:"#0F4A85"},d("buttonBackground","Button background color.")),bv=m("button.hoverBackground",{dark:At(Hr,.2),light:Et(Hr,.2),hcDark:Hr,hcLight:Hr},d("buttonHoverBackground","Button background color when hovering.")),vv=m("button.border",W,d("buttonBorder","Button border color.")),yv=m("button.secondaryForeground",{dark:D.white,light:D.white,hcDark:D.white,hcLight:Ee},d("buttonSecondaryForeground","Secondary button foreground color.")),Jd=m("button.secondaryBackground",{dark:"#3A3D41",light:"#5F6A79",hcDark:null,hcLight:D.white},d("buttonSecondaryBackground","Secondary button background color.")),Tv=m("button.secondaryHoverBackground",{dark:At(Jd,.2),light:Et(Jd,.2),hcDark:null,hcLight:null},d("buttonSecondaryHoverBackground","Secondary button background color when hovering.")),Ur=m("radio.activeForeground",$h,d("radioActiveForeground","Foreground color of active radio option.")),Iv=m("radio.activeBackground",zh,d("radioBackground","Background color of active radio option.")),xv=m("radio.activeBorder",Wh,d("radioActiveBorder","Border color of the active radio option.")),Ev=m("radio.inactiveForeground",null,d("radioInactiveForeground","Foreground color of inactive radio option.")),Sv=m("radio.inactiveBackground",null,d("radioInactiveBackground","Background color of inactive radio option.")),wv=m("radio.inactiveBorder",{light:B(Ur,.2),dark:B(Ur,.2),hcDark:B(Ur,.4),hcLight:B(Ur,.2)},d("radioInactiveBorder","Border color of the inactive radio option.")),Dv=m("radio.inactiveHoverBackground",z0,d("radioHoverBackground","Background color of inactive active radio option when hovering.")),Cv=m("checkbox.background",Vr,d("checkbox.background","Background color of checkbox widget.")),VY=m("checkbox.selectBackground",bt,d("checkbox.select.background","Background color of checkbox widget when the element it's in is selected.")),_v=m("checkbox.foreground",va,d("checkbox.foreground","Foreground color of checkbox widget.")),kv=m("checkbox.border",Gh,d("checkbox.border","Border color of checkbox widget.")),WY=m("checkbox.selectBorder",ma,d("checkbox.select.border","Border color of checkbox widget when the element it's in is selected.")),Lv=m("keybindingLabel.background",{dark:new D(new Ie(128,128,128,.17)),light:new D(new Ie(221,221,221,.4)),hcDark:D.transparent,hcLight:D.transparent},d("keybindingLabelBackground","Keybinding label background color. The keybinding label is used to represent a keyboard shortcut.")),Av=m("keybindingLabel.foreground",{dark:D.fromHex("#CCCCCC"),light:D.fromHex("#555555"),hcDark:D.white,hcLight:Ee},d("keybindingLabelForeground","Keybinding label foreground color. The keybinding label is used to represent a keyboard shortcut.")),Rv=m("keybindingLabel.border",{dark:new D(new Ie(51,51,51,.6)),light:new D(new Ie(204,204,204,.4)),hcDark:new D(new Ie(111,195,223)),hcLight:W},d("keybindingLabelBorder","Keybinding label border color. The keybinding label is used to represent a keyboard shortcut.")),Nv=m("keybindingLabel.bottomBorder",{dark:new D(new Ie(68,68,68,.6)),light:new D(new Ie(187,187,187,.4)),hcDark:new D(new Ie(111,195,223)),hcLight:Ee},d("keybindingLabelBottomBorder","Keybinding label border bottom color. The keybinding label is used to represent a keyboard shortcut."));var Ov=m("list.focusBackground",null,d("listFocusBackground","List/Tree background color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Fv=m("list.focusForeground",null,d("listFocusForeground","List/Tree foreground color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Mv=m("list.focusOutline",{dark:St,light:St,hcDark:Ue,hcLight:Ue},d("listFocusOutline","List/Tree outline color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Pv=m("list.focusAndSelectionOutline",null,d("listFocusAndSelectionOutline","List/Tree outline color for the focused item when the list/tree is active and selected. An active list/tree has keyboard focus, an inactive does not.")),Pt=m("list.activeSelectionBackground",{dark:"#04395E",light:"#0060C0",hcDark:null,hcLight:D.fromHex("#0F4A85").transparent(.1)},d("listActiveSelectionBackground","List/Tree background color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Zn=m("list.activeSelectionForeground",{dark:D.white,light:D.white,hcDark:null,hcLight:null},d("listActiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Qd=m("list.activeSelectionIconForeground",null,d("listActiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Bv=m("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hcDark:null,hcLight:D.fromHex("#0F4A85").transparent(.1)},d("listInactiveSelectionBackground","List/Tree background color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Hv=m("list.inactiveSelectionForeground",null,d("listInactiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Uv=m("list.inactiveSelectionIconForeground",null,d("listInactiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Kv=m("list.inactiveFocusBackground",null,d("listInactiveFocusBackground","List/Tree background color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Vv=m("list.inactiveFocusOutline",null,d("listInactiveFocusOutline","List/Tree outline color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),jh=m("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:D.white.transparent(.1),hcLight:D.fromHex("#0F4A85").transparent(.1)},d("listHoverBackground","List/Tree background when hovering over items using the mouse.")),Yh=m("list.hoverForeground",null,d("listHoverForeground","List/Tree foreground when hovering over items using the mouse.")),Wv=m("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hcDark:null,hcLight:null},d("listDropBackground","List/Tree drag and drop background when moving items over other items when using the mouse.")),zv=m("list.dropBetweenBackground",{dark:ma,light:ma,hcDark:null,hcLight:null},d("listDropBetweenBackground","List/Tree drag and drop border color when moving items between items when using the mouse.")),Zd=m("list.highlightForeground",{dark:"#2AAAFF",light:"#0066BF",hcDark:St,hcLight:St},d("highlight","List/Tree foreground color of the match highlights when searching inside the list/tree.")),YY=m("list.focusHighlightForeground",{dark:Zd,light:Pb(Pt,Zd,"#BBE7FF"),hcDark:Zd,hcLight:Zd},d("listFocusHighlightForeground","List/Tree foreground color of the match highlights on actively focused items when searching inside the list/tree.")),XY=m("list.invalidItemForeground",{dark:"#B89500",light:"#B89500",hcDark:"#B89500",hcLight:"#B5200D"},d("invalidItemForeground","List/Tree foreground color for invalid items, for example an unresolved root in explorer.")),JY=m("list.errorForeground",{dark:"#F88070",light:"#B01011",hcDark:null,hcLight:null},d("listErrorForeground","Foreground color of list items containing errors.")),ZY=m("list.warningForeground",{dark:"#CCA700",light:"#855F00",hcDark:null,hcLight:null},d("listWarningForeground","Foreground color of list items containing warnings.")),$v=m("listFilterWidget.background",{light:Et(bt,0),dark:At(bt,0),hcDark:bt,hcLight:bt},d("listFilterWidgetBackground","Background color of the type filter widget in lists and trees.")),Gv=m("listFilterWidget.outline",{dark:D.transparent,light:D.transparent,hcDark:"#f38518",hcLight:"#007ACC"},d("listFilterWidgetOutline","Outline color of the type filter widget in lists and trees.")),qv=m("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hcDark:W,hcLight:W},d("listFilterWidgetNoMatchesOutline","Outline color of the type filter widget in lists and trees, when there are no matches.")),jv=m("listFilterWidget.shadow",Br,d("listFilterWidgetShadow","Shadow color of the type filter widget in lists and trees.")),QY=m("list.filterMatchBackground",{dark:po,light:po,hcDark:null,hcLight:null},d("listFilterMatchHighlight","Background color of the filtered match.")),eX=m("list.filterMatchBorder",{dark:ho,light:ho,hcDark:W,hcLight:Ue},d("listFilterMatchHighlightBorder","Border color of the filtered match.")),tX=m("list.deemphasizedForeground",{dark:"#8C8C8C",light:"#8E8E90",hcDark:"#A7A8A9",hcLight:"#666666"},d("listDeemphasizedForeground","List/Tree foreground color for items that are deemphasized.")),Wr=m("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hcDark:"#a9a9a9",hcLight:"#a5a5a5"},d("treeIndentGuidesStroke","Tree stroke color for the indentation guides.")),Yv=m("tree.inactiveIndentGuidesStroke",B(Wr,.4),d("treeInactiveIndentGuidesStroke","Tree stroke color for the indentation guides that are not active.")),Xv=m("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hcDark:null,hcLight:null},d("tableColumnsBorder","Table border color between columns.")),Jv=m("tree.tableOddRowsBackground",{dark:B(Ee,.04),light:B(Ee,.04),hcDark:null,hcLight:null},d("tableOddRowsBackgroundColor","Background color for odd table rows.")),nX=m("editorActionList.background",bt,d("editorActionListBackground","Action List background color.")),iX=m("editorActionList.foreground",Xn,d("editorActionListForeground","Action List foreground color.")),oX=m("editorActionList.focusForeground",Zn,d("editorActionListFocusForeground","Action List foreground color for the focused item.")),rX=m("editorActionList.focusBackground",Pt,d("editorActionListFocusBackground","Action List background color for the focused item."));var Zv=m("menu.border",{dark:null,light:null,hcDark:W,hcLight:W},d("menuBorder","Border color of menus.")),Qv=m("menu.foreground",va,d("menuForeground","Foreground color of menu items.")),ey=m("menu.background",Vr,d("menuBackground","Background color of menu items.")),ty=m("menu.selectionForeground",Zn,d("menuSelectionForeground","Foreground color of the selected menu item in menus.")),ny=m("menu.selectionBackground",Pt,d("menuSelectionBackground","Background color of the selected menu item in menus.")),iy=m("menu.selectionBorder",{dark:null,light:null,hcDark:Ue,hcLight:Ue},d("menuSelectionBorder","Border color of the selected menu item in menus.")),oy=m("menu.separatorBackground",{dark:"#606060",light:"#D4D4D4",hcDark:W,hcLight:W},d("menuSeparatorBackground","Color of a separator menu item in menus."));var gX=m("quickInput.background",bt,d("pickerBackground","Quick picker background color. The quick picker widget is the container for pickers like the command palette.")),bX=m("quickInput.foreground",Xn,d("pickerForeground","Quick picker foreground color. The quick picker widget is the container for pickers like the command palette.")),vX=m("quickInputTitle.background",{dark:new D(new Ie(255,255,255,.105)),light:new D(new Ie(0,0,0,.06)),hcDark:"#000000",hcLight:D.white},d("pickerTitleBackground","Quick picker title background color. The quick picker widget is the container for pickers like the command palette.")),sy=m("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hcDark:D.white,hcLight:"#0F4A85"},d("pickerGroupForeground","Quick picker color for grouping labels.")),yX=m("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hcDark:D.white,hcLight:"#0F4A85"},d("pickerGroupBorder","Quick picker color for grouping borders.")),ry=m("quickInput.list.focusBackground",null,"",void 0,d("quickInput.list.focusBackground deprecation","Please use quickInputList.focusBackground instead")),ay=m("quickInputList.focusForeground",Zn,d("quickInput.listFocusForeground","Quick picker foreground color for the focused item.")),ly=m("quickInputList.focusIconForeground",Qd,d("quickInput.listFocusIconForeground","Quick picker icon foreground color for the focused item.")),dy=m("quickInputList.focusBackground",{dark:Rh(ry,Pt),light:Rh(ry,Pt),hcDark:null,hcLight:null},d("quickInput.listFocusBackground","Quick picker background color for the focused item."));var SX=m("search.resultsInfoForeground",{light:Ee,dark:B(Ee,.65),hcDark:Ee,hcLight:Ee},d("search.resultsInfoForeground","Color of the text in the search viewlet's completion message.")),wX=m("searchEditor.findMatchBackground",{light:B(po,.66),dark:B(po,.66),hcDark:po,hcLight:po},d("searchEditor.queryMatch","Color of the Search Editor query matches.")),DX=m("searchEditor.findMatchBorder",{light:B(ho,.66),dark:B(ho,.66),hcDark:ho,hcLight:ho},d("searchEditor.editorFindMatchBorder","Border color of the Search Editor query matches."));function G0(n,e){let t={...e};for(let i in n){let o=n[i];t[i]=o!==void 0?F(o):void 0}return t}var cy={keybindingLabelBackground:F(Lv),keybindingLabelForeground:F(Av),keybindingLabelBorder:F(Rv),keybindingLabelBottomBorder:F(Nv),keybindingLabelShadow:F(Br)};var uy={buttonForeground:F(qh),buttonSeparator:F(gv),buttonBackground:F(Hr),buttonHoverBackground:F(bv),buttonSecondaryForeground:F(yv),buttonSecondaryBackground:F(Jd),buttonSecondaryHoverBackground:F(Tv),buttonBorder:F(vv)};var qZ={progressBarBackground:F(Kb)};var q0={inputActiveOptionBorder:F(Wh),inputActiveOptionForeground:F($h),inputActiveOptionBackground:F(zh)},jZ={activeForeground:F(Ur),activeBackground:F(Iv),activeBorder:F(xv),inactiveForeground:F(Ev),inactiveBackground:F(Sv),inactiveBorder:F(wv),inactiveHoverBackground:F(Dv)};var YZ={checkboxBackground:F(Cv),checkboxBorder:F(kv),checkboxForeground:F(_v)};var XZ={dialogBackground:F(bt),dialogForeground:F(Xn),dialogShadow:F(Br),dialogBorder:F(W),errorIconForeground:F(ev),warningIconForeground:F(tv),infoIconForeground:F(nv),textLinkForeground:F(qd)};var j0={inputBackground:F(ov),inputForeground:F(rv),inputBorder:F(Kr),inputValidationInfoBorder:F(lv),inputValidationInfoBackground:F(sv),inputValidationInfoForeground:F(av),inputValidationWarningBorder:F(uv),inputValidationWarningBackground:F(dv),inputValidationWarningForeground:F(cv),inputValidationErrorBorder:F(mv),inputValidationErrorBackground:F(pv),inputValidationErrorForeground:F(hv)};var py={listFilterWidgetBackground:F($v),listFilterWidgetOutline:F(Gv),listFilterWidgetNoMatchesOutline:F(qv),listFilterWidgetShadow:F(jv),inputBoxStyles:j0,toggleStyles:q0},JZ={badgeBackground:F(Or),badgeForeground:F(Ub),badgeBorder:F(W)};var ZZ={breadcrumbsBackground:F(Jb),breadcrumbsForeground:F(Xb),breadcrumbsHoverForeground:F(Kh),breadcrumbsFocusForeground:F(Kh),breadcrumbsFocusAndSelectionForeground:F(Zb)};var zr={listBackground:void 0,listInactiveFocusForeground:void 0,listFocusBackground:F(Ov),listFocusForeground:F(Fv),listFocusOutline:F(Mv),listActiveSelectionBackground:F(Pt),listActiveSelectionForeground:F(Zn),listActiveSelectionIconForeground:F(Qd),listFocusAndSelectionOutline:F(Pv),listFocusAndSelectionBackground:F(Pt),listFocusAndSelectionForeground:F(Zn),listInactiveSelectionBackground:F(Bv),listInactiveSelectionIconForeground:F(Uv),listInactiveSelectionForeground:F(Hv),listInactiveFocusBackground:F(Kv),listInactiveFocusOutline:F(Vv),listHoverBackground:F(jh),listHoverForeground:F(Yh),listDropOverBackground:F(Wv),listDropBetweenBackground:F(zv),listSelectionOutline:F(Ue),listHoverOutline:F(Ue),treeIndentGuidesStroke:F(Wr),treeInactiveIndentGuidesStroke:F(Yv),treeStickyScrollBackground:void 0,treeStickyScrollBorder:void 0,treeStickyScrollShadow:F(co),tableColumnsBorder:F(Xv),tableOddRowsBackgroundColor:F(Jv)};function ya(n){return G0(n,zr)}var QZ={selectBackground:F(Vr),selectListBackground:F(fv),selectForeground:F(va),decoratorRightForeground:F(sy),selectBorder:F(Gh),focusBorder:F(St),listFocusBackground:F(dy),listInactiveSelectionIconForeground:F(ly),listFocusForeground:F(ay),listFocusOutline:Mb(Ue,D.transparent.toString()),listHoverBackground:F(jh),listHoverForeground:F(Yh),listHoverOutline:F(Ue),selectListBorder:F(Bh),listBackground:void 0,listActiveSelectionBackground:void 0,listActiveSelectionForeground:void 0,listActiveSelectionIconForeground:void 0,listFocusAndSelectionBackground:void 0,listDropOverBackground:void 0,listDropBetweenBackground:void 0,listInactiveSelectionBackground:void 0,listInactiveSelectionForeground:void 0,listInactiveFocusBackground:void 0,listInactiveFocusOutline:void 0,listSelectionOutline:void 0,listFocusAndSelectionForeground:void 0,listFocusAndSelectionOutline:void 0,listInactiveFocusForeground:void 0,tableColumnsBorder:void 0,tableOddRowsBackgroundColor:void 0,treeIndentGuidesStroke:void 0,treeInactiveIndentGuidesStroke:void 0,treeStickyScrollBackground:void 0,treeStickyScrollBorder:void 0,treeStickyScrollShadow:void 0};var eQ={shadowColor:F(Br),borderColor:F(Zv),foregroundColor:F(Qv),backgroundColor:F(ey),selectionForegroundColor:F(ty),selectionBackgroundColor:F(ny),selectionBorderColor:F(iy),separatorColor:F(oy),scrollbarShadow:F(co),scrollbarSliderBackground:F(jd),scrollbarSliderHoverBackground:F(Yd),scrollbarSliderActiveBackground:F(Xd)};var ki=ae("listService");var Ta=new Me("listScrollAtBoundary","none"),Iee=Xe.or(Ta.isEqualTo("top"),Ta.isEqualTo("both")),xee=Xe.or(Ta.isEqualTo("bottom"),Ta.isEqualTo("both")),hy=new Me("listFocus",!0),my=new Me("treestickyScrollFocused",!1),mc=new Me("listSupportsMultiselect",!0),Eee=Xe.and(hy,Xe.not(Ch),my.negate()),Qh=new Me("listHasSelectionOrFocus",!1),em=new Me("listDoubleSelection",!1),tm=new Me("listMultiSelection",!1),fc=new Me("listSelectionNavigation",!1),Y0=new Me("listSupportsFind",!0),X0=new Me("treeElementCanCollapse",!1),J0=new Me("treeElementHasParent",!1),Z0=new Me("treeElementCanExpand",!1),Q0=new Me("treeElementHasChild",!1),eE=new Me("treeFindOpen",!1),fy="listTypeNavigationMode",gy="listAutomaticKeyboardNavigation";function gc(n,e){let t=n.createScoped(e.getHTMLElement());return hy.bindTo(t),t}function bc(n,e){let t=Ta.bindTo(n),i=()=>{let o=e.scrollTop===0,r=e.scrollHeight-e.renderHeight-e.scrollTop<1;o&&r?t.set("both"):o?t.set("top"):r?t.set("bottom"):t.set("none")};return i(),e.onDidScroll(i)}var jo="workbench.list.multiSelectModifier",ac="workbench.list.openMode",rn="workbench.list.horizontalScrolling",nm="workbench.list.defaultFindMode",im="workbench.list.typeNavigationMode",lc="workbench.list.keyboardNavigation",Ln="workbench.list.scrollByPage",om="workbench.list.defaultFindMatchType",Ia="workbench.tree.indent",dc="workbench.tree.renderIndentGuides",An="workbench.list.smoothScrolling",Qn="workbench.list.mouseWheelScrollSensitivity",ei="workbench.list.fastScrollSensitivity",cc="workbench.tree.expandMode",uc="workbench.tree.enableStickyScroll",pc="workbench.tree.stickyScrollMaxItemCount";function ti(n){return n.getValue(jo)==="alt"}var Xh=class extends J{constructor(t){super();this.configurationService=t;this.useAltAsMultipleSelectionModifier=ti(t),this.registerListeners()}useAltAsMultipleSelectionModifier;registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(t=>{t.affectsConfiguration(jo)&&(this.useAltAsMultipleSelectionModifier=ti(this.configurationService))}))}isSelectionSingleChangeEvent(t){return this.useAltAsMultipleSelectionModifier?t.browserEvent.altKey:Dp(t)}isSelectionRangeChangeEvent(t){return Cp(t)}};function vc(n,e){let t=n.get(hn),i=n.get(_b),o=new G;return[{...e,keyboardNavigationDelegate:{mightProducePrintableCharacter(s){return i.mightProducePrintableCharacter(s)}},smoothScrolling:!!t.getValue(An),mouseWheelScrollSensitivity:t.getValue(Qn),fastScrollSensitivity:t.getValue(ei),multipleSelectionController:e.multipleSelectionController??o.add(new Xh(t)),keyboardNavigationEventFilter:tE(i),scrollByPage:!!t.getValue(Ln)},o]}var $r=class extends ft{contextKeyService;listSupportsMultiSelect;listHasSelectionOrFocus;listDoubleSelection;listMultiSelection;horizontalScrolling;_useAltAsMultipleSelectionModifier;navigator;get onDidOpen(){return this.navigator.onDidOpen}constructor(e,t,i,o,r,s,a,l,c){let p=typeof r.horizontalScrolling<"u"?r.horizontalScrolling:!!l.getValue(rn),[h,f]=c.invokeFunction(vc,r);super(e,t,i,o,{keyboardSupport:!1,...h,horizontalScrolling:p}),this.disposables.add(f),this.contextKeyService=gc(s,this),this.disposables.add(bc(this.contextKeyService,this)),this.listSupportsMultiSelect=mc.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(r.multipleSelectionSupport!==!1),fc.bindTo(this.contextKeyService).set(!!r.selectionNavigation),this.listHasSelectionOrFocus=Qh.bindTo(this.contextKeyService),this.listDoubleSelection=em.bindTo(this.contextKeyService),this.listMultiSelection=tm.bindTo(this.contextKeyService),this.horizontalScrolling=r.horizontalScrolling,this._useAltAsMultipleSelectionModifier=ti(l),this.disposables.add(this.contextKeyService),this.disposables.add(a.register(this)),this.updateStyles(r.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{let w=this.getSelection(),b=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(w.length>0||b.length>0),this.listMultiSelection.set(w.length>1),this.listDoubleSelection.set(w.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{let w=this.getSelection(),b=this.getFocus();this.listHasSelectionOrFocus.set(w.length>0||b.length>0)})),this.disposables.add(l.onDidChangeConfiguration(w=>{w.affectsConfiguration(jo)&&(this._useAltAsMultipleSelectionModifier=ti(l));let b={};if(w.affectsConfiguration(rn)&&this.horizontalScrolling===void 0){let x=!!l.getValue(rn);b={...b,horizontalScrolling:x}}if(w.affectsConfiguration(Ln)){let x=!!l.getValue(Ln);b={...b,scrollByPage:x}}if(w.affectsConfiguration(An)){let x=!!l.getValue(An);b={...b,smoothScrolling:x}}if(w.affectsConfiguration(Qn)){let x=l.getValue(Qn);b={...b,mouseWheelScrollSensitivity:x}}if(w.affectsConfiguration(ei)){let x=l.getValue(ei);b={...b,fastScrollSensitivity:x}}Object.keys(b).length>0&&this.updateOptions(b)})),this.navigator=new hc(this,{configurationService:l,...r}),this.disposables.add(this.navigator)}updateOptions(e){super.updateOptions(e),e.overrideStyles!==void 0&&this.updateStyles(e.overrideStyles),e.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyles(e){this.style(e?ya(e):zr)}get useAltAsMultipleSelectionModifier(){return this._useAltAsMultipleSelectionModifier}};$r=de([fe(5,nn),fe(6,ki),fe(7,hn),fe(8,tn)],$r);var ec=class extends dd{contextKeyService;disposables;listSupportsMultiSelect;_useAltAsMultipleSelectionModifier;horizontalScrolling;navigator;get onDidOpen(){return this.navigator.onDidOpen}constructor(e,t,i,o,r,s,a,l,c){let p=typeof r.horizontalScrolling<"u"?r.horizontalScrolling:!!l.getValue(rn),[h,f]=c.invokeFunction(vc,r);super(e,t,i,o,{keyboardSupport:!1,...h,horizontalScrolling:p}),this.disposables=new G,this.disposables.add(f),this.contextKeyService=gc(s,this),this.disposables.add(bc(this.contextKeyService,this.widget)),this.horizontalScrolling=r.horizontalScrolling,this.listSupportsMultiSelect=mc.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(r.multipleSelectionSupport!==!1),fc.bindTo(this.contextKeyService).set(!!r.selectionNavigation),this._useAltAsMultipleSelectionModifier=ti(l),this.disposables.add(this.contextKeyService),this.disposables.add(a.register(this)),this.updateStyles(r.overrideStyles),this.disposables.add(l.onDidChangeConfiguration(w=>{w.affectsConfiguration(jo)&&(this._useAltAsMultipleSelectionModifier=ti(l));let b={};if(w.affectsConfiguration(rn)&&this.horizontalScrolling===void 0){let x=!!l.getValue(rn);b={...b,horizontalScrolling:x}}if(w.affectsConfiguration(Ln)){let x=!!l.getValue(Ln);b={...b,scrollByPage:x}}if(w.affectsConfiguration(An)){let x=!!l.getValue(An);b={...b,smoothScrolling:x}}if(w.affectsConfiguration(Qn)){let x=l.getValue(Qn);b={...b,mouseWheelScrollSensitivity:x}}if(w.affectsConfiguration(ei)){let x=l.getValue(ei);b={...b,fastScrollSensitivity:x}}Object.keys(b).length>0&&this.updateOptions(b)})),this.navigator=new hc(this,{configurationService:l,...r}),this.disposables.add(this.navigator)}updateOptions(e){super.updateOptions(e),e.overrideStyles!==void 0&&this.updateStyles(e.overrideStyles),e.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyles(e){this.style(e?ya(e):zr)}get useAltAsMultipleSelectionModifier(){return this._useAltAsMultipleSelectionModifier}dispose(){this.disposables.dispose(),super.dispose()}};ec=de([fe(5,nn),fe(6,ki),fe(7,hn),fe(8,tn)],ec);var tc=class extends ud{contextKeyService;listSupportsMultiSelect;listHasSelectionOrFocus;listDoubleSelection;listMultiSelection;horizontalScrolling;_useAltAsMultipleSelectionModifier;navigator;get onDidOpen(){return this.navigator.onDidOpen}constructor(e,t,i,o,r,s,a,l,c,p){let h=typeof s.horizontalScrolling<"u"?s.horizontalScrolling:!!c.getValue(rn),[f,T]=p.invokeFunction(vc,s);super(e,t,i,o,r,{keyboardSupport:!1,...f,horizontalScrolling:h}),this.disposables.add(T),this.contextKeyService=gc(a,this),this.disposables.add(bc(this.contextKeyService,this)),this.listSupportsMultiSelect=mc.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(s.multipleSelectionSupport!==!1),fc.bindTo(this.contextKeyService).set(!!s.selectionNavigation),this.listHasSelectionOrFocus=Qh.bindTo(this.contextKeyService),this.listDoubleSelection=em.bindTo(this.contextKeyService),this.listMultiSelection=tm.bindTo(this.contextKeyService),this.horizontalScrolling=s.horizontalScrolling,this._useAltAsMultipleSelectionModifier=ti(c),this.disposables.add(this.contextKeyService),this.disposables.add(l.register(this)),this.updateStyles(s.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{let b=this.getSelection(),x=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(b.length>0||x.length>0),this.listMultiSelection.set(b.length>1),this.listDoubleSelection.set(b.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{let b=this.getSelection(),x=this.getFocus();this.listHasSelectionOrFocus.set(b.length>0||x.length>0)})),this.disposables.add(c.onDidChangeConfiguration(b=>{b.affectsConfiguration(jo)&&(this._useAltAsMultipleSelectionModifier=ti(c));let x={};if(b.affectsConfiguration(rn)&&this.horizontalScrolling===void 0){let k=!!c.getValue(rn);x={...x,horizontalScrolling:k}}if(b.affectsConfiguration(Ln)){let k=!!c.getValue(Ln);x={...x,scrollByPage:k}}if(b.affectsConfiguration(An)){let k=!!c.getValue(An);x={...x,smoothScrolling:k}}if(b.affectsConfiguration(Qn)){let k=c.getValue(Qn);x={...x,mouseWheelScrollSensitivity:k}}if(b.affectsConfiguration(ei)){let k=c.getValue(ei);x={...x,fastScrollSensitivity:k}}Object.keys(x).length>0&&this.updateOptions(x)})),this.navigator=new Jh(this,{configurationService:c,...s}),this.disposables.add(this.navigator)}updateOptions(e){super.updateOptions(e),e.overrideStyles!==void 0&&this.updateStyles(e.overrideStyles),e.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyles(e){this.style(e?ya(e):zr)}get useAltAsMultipleSelectionModifier(){return this._useAltAsMultipleSelectionModifier}dispose(){this.disposables.dispose(),super.dispose()}};tc=de([fe(6,nn),fe(7,ki),fe(8,hn),fe(9,tn)],tc);var xa=class extends J{constructor(t,i){super();this.widget=t;this._register(N.filter(this.widget.onDidChangeSelection,o=>zn(o.browserEvent))(o=>this.onSelectionFromKeyboard(o))),this._register(this.widget.onPointer(o=>this.onPointer(o.element,o.browserEvent))),this._register(this.widget.onMouseDblClick(o=>this.onMouseDblClick(o.element,o.browserEvent))),typeof i?.openOnSingleClick!="boolean"&&i?.configurationService?(this.openOnSingleClick=i?.configurationService.getValue(ac)!=="doubleClick",this._register(i?.configurationService.onDidChangeConfiguration(o=>{o.affectsConfiguration(ac)&&(this.openOnSingleClick=i?.configurationService.getValue(ac)!=="doubleClick")}))):this.openOnSingleClick=i?.openOnSingleClick??!0}openOnSingleClick;_onDidOpen=this._register(new L);onDidOpen=this._onDidOpen.event;onSelectionFromKeyboard(t){if(t.elements.length!==1)return;let i=t.browserEvent,o=typeof i.preserveFocus=="boolean"?i.preserveFocus:!0,r=typeof i.pinned=="boolean"?i.pinned:!o;this._open(this.getSelectedElement(),o,r,!1,t.browserEvent)}onPointer(t,i){if(!this.openOnSingleClick||i.detail===2)return;let r=i.button===1,s=!0,a=r,l=i.ctrlKey||i.metaKey||i.altKey;this._open(t,s,a,l,i)}onMouseDblClick(t,i){if(!i)return;let o=i.target;if(o.classList.contains("monaco-tl-twistie")||o.classList.contains("monaco-icon-label")&&o.classList.contains("folder-icon")&&i.offsetX<16)return;let s=!1,a=!0,l=i.ctrlKey||i.metaKey||i.altKey;this._open(t,s,a,l,i)}_open(t,i,o,r,s){t&&this._onDidOpen.fire({editorOptions:{preserveFocus:i,pinned:o,revealIfVisible:!0},sideBySide:r,element:t,browserEvent:s})}},hc=class extends xa{widget;constructor(e,t){super(e,t),this.widget=e}getSelectedElement(){return this.widget.getSelectedElements()[0]}},Jh=class extends xa{constructor(e,t){super(e,t)}getSelectedElement(){return this.widget.getSelectedElements()[0]}},Zh=class extends xa{constructor(e,t){super(e,t)}getSelectedElement(){return this.widget.getSelection()[0]??void 0}};function tE(n){let e=!1;return t=>{if(t.toKeyCodeChord().isModifierKey())return!1;if(e)return e=!1,!1;let i=n.softDispatch(t,t.target);return i.kind===1?(e=!0,!1):(e=!1,i.kind===0)}}var nc=class extends Wo{internals;get contextKeyService(){return this.internals.contextKeyService}get useAltAsMultipleSelectionModifier(){return this.internals.useAltAsMultipleSelectionModifier}get onDidOpen(){return this.internals.onDidOpen}constructor(e,t,i,o,r,s,a,l,c){let{options:p,getTypeNavigationMode:h,disposable:f}=s.invokeFunction(Ea,r);super(e,t,i,o,p),this.disposables.add(f),this.internals=new _i(this,r,h,r.overrideStyles,a,l,c),this.disposables.add(this.internals)}updateOptions(e){super.updateOptions(e),this.internals.updateOptions(e)}};nc=de([fe(5,tn),fe(6,nn),fe(7,ki),fe(8,hn)],nc);var ic=class extends Ar{internals;get contextKeyService(){return this.internals.contextKeyService}get useAltAsMultipleSelectionModifier(){return this.internals.useAltAsMultipleSelectionModifier}get onDidOpen(){return this.internals.onDidOpen}constructor(e,t,i,o,r,s,a,l,c){let{options:p,getTypeNavigationMode:h,disposable:f}=s.invokeFunction(Ea,r);super(e,t,i,o,p),this.disposables.add(f),this.internals=new _i(this,r,h,r.overrideStyles,a,l,c),this.disposables.add(this.internals)}updateOptions(e={}){super.updateOptions(e),e.overrideStyles&&this.internals.updateStyleOverrides(e.overrideStyles),this.internals.updateOptions(e)}};ic=de([fe(5,tn),fe(6,nn),fe(7,ki),fe(8,hn)],ic);var oc=class extends Fd{internals;get contextKeyService(){return this.internals.contextKeyService}get useAltAsMultipleSelectionModifier(){return this.internals.useAltAsMultipleSelectionModifier}get onDidOpen(){return this.internals.onDidOpen}constructor(e,t,i,o,r,s,a,l,c,p){let{options:h,getTypeNavigationMode:f,disposable:T}=a.invokeFunction(Ea,s);super(e,t,i,o,r,h),this.disposables.add(T),this.internals=new _i(this,s,f,s.overrideStyles,l,c,p),this.disposables.add(this.internals)}updateOptions(e={}){super.updateOptions(e),e.overrideStyles!==void 0&&this.internals.updateStyleOverrides(e.overrideStyles),this.internals.updateOptions(e)}};oc=de([fe(6,tn),fe(7,nn),fe(8,ki),fe(9,hn)],oc);var rc=class extends da{internals;get contextKeyService(){return this.internals.contextKeyService}get useAltAsMultipleSelectionModifier(){return this.internals.useAltAsMultipleSelectionModifier}get onDidOpen(){return this.internals.onDidOpen}constructor(e,t,i,o,r,s,a,l,c,p){let{options:h,getTypeNavigationMode:f,disposable:T}=a.invokeFunction(Ea,s);super(e,t,i,o,r,h),this.disposables.add(T),this.internals=new _i(this,s,f,s.overrideStyles,l,c,p),this.disposables.add(this.internals)}updateOptions(e={}){super.updateOptions(e),e.overrideStyles&&this.internals.updateStyleOverrides(e.overrideStyles),this.internals.updateOptions(e)}};rc=de([fe(6,tn),fe(7,nn),fe(8,ki),fe(9,hn)],rc);var sc=class extends Od{internals;get contextKeyService(){return this.internals.contextKeyService}get useAltAsMultipleSelectionModifier(){return this.internals.useAltAsMultipleSelectionModifier}get onDidOpen(){return this.internals.onDidOpen}constructor(e,t,i,o,r,s,a,l,c,p,h){let{options:f,getTypeNavigationMode:T,disposable:w}=l.invokeFunction(Ea,a);super(e,t,i,o,r,s,f),this.disposables.add(w),this.internals=new _i(this,a,T,a.overrideStyles,c,p,h),this.disposables.add(this.internals)}updateOptions(e){super.updateOptions(e),this.internals.updateOptions(e)}};sc=de([fe(7,tn),fe(8,nn),fe(9,ki),fe(10,hn)],sc);function by(n){let e=n.getValue(nm);if(e==="highlight")return 0;if(e==="filter")return 1;let t=n.getValue(lc);if(t==="simple"||t==="highlight")return 0;if(t==="filter")return 1}function vy(n){let e=n.getValue(om);if(e==="fuzzy")return 0;if(e==="contiguous")return 1}function Ea(n,e){let t=n.get(hn),i=n.get(Cb),o=n.get(nn),r=n.get(tn),s=()=>{let f=o.getContextKeyValue(fy);if(f==="automatic")return 0;if(f==="trigger")return 1;if(o.getContextKeyValue(gy)===!1)return 1;let w=t.getValue(im);if(w==="automatic")return 0;if(w==="trigger")return 1},a=e.horizontalScrolling!==void 0?e.horizontalScrolling:!!t.getValue(rn),[l,c]=r.invokeFunction(vc,e),p=e.paddingBottom,h=e.renderIndentGuides!==void 0?e.renderIndentGuides:t.getValue(dc);return{getTypeNavigationMode:s,disposable:c,options:{keyboardSupport:!1,...l,indent:typeof t.getValue(Ia)=="number"?t.getValue(Ia):void 0,renderIndentGuides:h,smoothScrolling:!!t.getValue(An),defaultFindMode:by(t),defaultFindMatchType:vy(t),horizontalScrolling:a,scrollByPage:!!t.getValue(Ln),paddingBottom:p,hideTwistiesOfChildlessElements:e.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:e.expandOnlyOnTwistieClick??t.getValue(cc)==="doubleClick",contextViewProvider:i,findWidgetStyles:py,enableStickyScroll:!!t.getValue(uc),stickyScrollMaxItemCount:Number(t.getValue(pc))}}}var _i=class{constructor(e,t,i,o,r,s,a){this.tree=e;this.contextKeyService=gc(r,e),this.disposables.push(bc(this.contextKeyService,e)),this.listSupportsMultiSelect=mc.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(t.multipleSelectionSupport!==!1),fc.bindTo(this.contextKeyService).set(!!t.selectionNavigation),this.listSupportFindWidget=Y0.bindTo(this.contextKeyService),this.listSupportFindWidget.set(t.findWidgetEnabled??!0),this.hasSelectionOrFocus=Qh.bindTo(this.contextKeyService),this.hasDoubleSelection=em.bindTo(this.contextKeyService),this.hasMultiSelection=tm.bindTo(this.contextKeyService),this.treeElementCanCollapse=X0.bindTo(this.contextKeyService),this.treeElementHasParent=J0.bindTo(this.contextKeyService),this.treeElementCanExpand=Z0.bindTo(this.contextKeyService),this.treeElementHasChild=Q0.bindTo(this.contextKeyService),this.treeFindOpen=eE.bindTo(this.contextKeyService),this.treeStickyScrollFocused=my.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=ti(a),this.updateStyleOverrides(o);let c=()=>{let h=e.getFocus()[0];if(!h)return;let f=e.getNode(h);this.treeElementCanCollapse.set(f.collapsible&&!f.collapsed),this.treeElementHasParent.set(!!e.getParentElement(h)),this.treeElementCanExpand.set(f.collapsible&&f.collapsed),this.treeElementHasChild.set(!!e.getFirstElementChild(h))},p=new Set;p.add(fy),p.add(gy),this.disposables.push(this.contextKeyService,s.register(e),e.onDidChangeSelection(()=>{let h=e.getSelection(),f=e.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.hasSelectionOrFocus.set(h.length>0||f.length>0),this.hasMultiSelection.set(h.length>1),this.hasDoubleSelection.set(h.length===2)})}),e.onDidChangeFocus(()=>{let h=e.getSelection(),f=e.getFocus();this.hasSelectionOrFocus.set(h.length>0||f.length>0),c()}),e.onDidChangeCollapseState(c),e.onDidChangeModel(c),e.onDidChangeFindOpenState(h=>this.treeFindOpen.set(h)),e.onDidChangeStickyScrollFocused(h=>this.treeStickyScrollFocused.set(h)),a.onDidChangeConfiguration(h=>{let f={};if(h.affectsConfiguration(jo)&&(this._useAltAsMultipleSelectionModifier=ti(a)),h.affectsConfiguration(Ia)){let T=a.getValue(Ia);f={...f,indent:T}}if(h.affectsConfiguration(dc)&&t.renderIndentGuides===void 0){let T=a.getValue(dc);f={...f,renderIndentGuides:T}}if(h.affectsConfiguration(An)){let T=!!a.getValue(An);f={...f,smoothScrolling:T}}if(h.affectsConfiguration(nm)||h.affectsConfiguration(lc)){let T=by(a);f={...f,defaultFindMode:T}}if(h.affectsConfiguration(im)||h.affectsConfiguration(lc)){let T=i();f={...f,typeNavigationMode:T}}if(h.affectsConfiguration(om)){let T=vy(a);f={...f,defaultFindMatchType:T}}if(h.affectsConfiguration(rn)&&t.horizontalScrolling===void 0){let T=!!a.getValue(rn);f={...f,horizontalScrolling:T}}if(h.affectsConfiguration(Ln)){let T=!!a.getValue(Ln);f={...f,scrollByPage:T}}if(h.affectsConfiguration(cc)&&t.expandOnlyOnTwistieClick===void 0&&(f={...f,expandOnlyOnTwistieClick:a.getValue(cc)==="doubleClick"}),h.affectsConfiguration(uc)){let T=a.getValue(uc);f={...f,enableStickyScroll:T}}if(h.affectsConfiguration(pc)){let T=Math.max(1,a.getValue(pc));f={...f,stickyScrollMaxItemCount:T}}if(h.affectsConfiguration(Qn)){let T=a.getValue(Qn);f={...f,mouseWheelScrollSensitivity:T}}if(h.affectsConfiguration(ei)){let T=a.getValue(ei);f={...f,fastScrollSensitivity:T}}Object.keys(f).length>0&&e.updateOptions(f)}),this.contextKeyService.onDidChangeContext(h=>{h.affectsSome(p)&&e.updateOptions({typeNavigationMode:i()})})),this.navigator=new Zh(e,{configurationService:a,...t}),this.disposables.push(this.navigator)}contextKeyService;listSupportsMultiSelect;listSupportFindWidget;hasSelectionOrFocus;hasDoubleSelection;hasMultiSelection;treeElementCanCollapse;treeElementHasParent;treeElementCanExpand;treeElementHasChild;treeFindOpen;treeStickyScrollFocused;_useAltAsMultipleSelectionModifier;disposables=[];navigator;get onDidOpen(){return this.navigator.onDidOpen}get useAltAsMultipleSelectionModifier(){return this._useAltAsMultipleSelectionModifier}updateOptions(e){e.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyleOverrides(e){this.tree.style(e?ya(e):zr)}dispose(){this.disposables=$e(this.disposables)}};_i=de([fe(4,nn),fe(5,ki),fe(6,hn)],_i);var nE=je.as(Dh.Configuration);nE.registerConfiguration({id:"workbench",order:7,title:d("workbenchConfigurationTitle","Workbench"),type:"object",properties:{[jo]:{type:"string",enum:["ctrlCmd","alt"],markdownEnumDescriptions:[d("multiSelectModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),d("multiSelectModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],default:"ctrlCmd",description:d({key:"multiSelectModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add an item in trees and lists to a multi-selection with the mouse (for example in the explorer, open editors and scm view). The 'Open to Side' mouse gestures - if supported - will adapt such that they do not conflict with the multiselect modifier.")},[ac]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:d({key:"openModeModifier",comment:["`singleClick` and `doubleClick` refers to a value the setting can take and should not be localized."]},"Controls how to open items in trees and lists using the mouse (if supported). Note that some trees and lists might choose to ignore this setting if it is not applicable.")},[rn]:{type:"boolean",default:!1,description:d("horizontalScrolling setting","Controls whether lists and trees support horizontal scrolling in the workbench. Warning: turning on this setting has a performance implication.")},[Ln]:{type:"boolean",default:!1,description:d("list.scrollByPage","Controls whether clicks in the scrollbar scroll page by page.")},[Ia]:{type:"number",default:8,minimum:4,maximum:40,description:d("tree indent setting","Controls tree indentation in pixels.")},[dc]:{type:"string",enum:["none","onHover","always"],default:"onHover",description:d("render tree indent guides","Controls whether the tree should render indent guides.")},[An]:{type:"boolean",default:!1,description:d("list smoothScrolling setting","Controls whether lists and trees have smooth scrolling.")},[Qn]:{type:"number",default:1,markdownDescription:d("Mouse Wheel Scroll Sensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")},[ei]:{type:"number",default:5,markdownDescription:d("Fast Scroll Sensitivity","Scrolling speed multiplier when pressing `Alt`.")},[nm]:{type:"string",enum:["highlight","filter"],enumDescriptions:[d("defaultFindModeSettingKey.highlight","Highlight elements when searching. Further up and down navigation will traverse only the highlighted elements."),d("defaultFindModeSettingKey.filter","Filter elements when searching.")],default:"highlight",description:d("defaultFindModeSettingKey","Controls the default find mode for lists and trees in the workbench.")},[lc]:{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[d("keyboardNavigationSettingKey.simple","Simple keyboard navigation focuses elements which match the keyboard input. Matching is done only on prefixes."),d("keyboardNavigationSettingKey.highlight","Highlight keyboard navigation highlights elements which match the keyboard input. Further up and down navigation will traverse only the highlighted elements."),d("keyboardNavigationSettingKey.filter","Filter keyboard navigation will filter out and hide all the elements which do not match the keyboard input.")],default:"highlight",description:d("keyboardNavigationSettingKey","Controls the keyboard navigation style for lists and trees in the workbench. Can be simple, highlight and filter."),deprecated:!0,deprecationMessage:d("keyboardNavigationSettingKeyDeprecated","Please use 'workbench.list.defaultFindMode' and	'workbench.list.typeNavigationMode' instead.")},[om]:{type:"string",enum:["fuzzy","contiguous"],enumDescriptions:[d("defaultFindMatchTypeSettingKey.fuzzy","Use fuzzy matching when searching."),d("defaultFindMatchTypeSettingKey.contiguous","Use contiguous matching when searching.")],default:"fuzzy",description:d("defaultFindMatchTypeSettingKey","Controls the type of matching used when searching lists and trees in the workbench.")},[cc]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:d("expand mode","Controls how tree folders are expanded when clicking the folder names. Note that some trees and lists might choose to ignore this setting if it is not applicable.")},[uc]:{type:"boolean",default:!0,description:d("sticky scroll","Controls whether sticky scrolling is enabled in trees.")},[pc]:{type:"number",minimum:1,default:7,markdownDescription:d("sticky scroll maximum items","Controls the number of sticky elements displayed in the tree when {0} is enabled.","`#workbench.tree.enableStickyScroll#`")},[im]:{type:"string",enum:["automatic","trigger"],default:"automatic",markdownDescription:d("typeNavigationMode2","Controls how type navigation works in lists and trees in the workbench. When set to `trigger`, type navigation begins once the `list.triggerTypeNavigation` command is run.")}}});var yc="^([a-z0-9A-Z][a-z0-9-A-Z]*)\\.([a-z0-9A-Z][a-z0-9-A-Z]*)$",Wee=new RegExp(yc);var zee=ae("extensionGalleryService");var $ee=ae("extensionManagementService");var Gee=ae("IGlobalExtensionEnablementService"),qee=ae("IExtensionTipsService"),jee=Bn("extensions","Extensions"),Yee=Bn("preferences","Preferences");var ste=new ar(1e4);var Fte=ae("fileService");var Ty=class n{static KB=1024;static MB=n.KB*n.KB;static GB=n.MB*n.KB;static TB=n.GB*n.KB;static formatSize(e){return En(e)||(e=0),e<n.KB?d("sizeB","{0}B",e.toFixed(0)):e<n.MB?d("sizeKB","{0}KB",(e/n.KB).toFixed(2)):e<n.GB?d("sizeMB","{0}MB",(e/n.MB).toFixed(2)):e<n.TB?d("sizeGB","{0}GB",(e/n.GB).toFixed(2)):d("sizeTB","{0}TB",(e/n.TB).toFixed(2))}};var ane=ae("logService"),lne=ae("loggerService");function oE(n){switch(n){case 1:return"trace";case 2:return"debug";case 3:return"info";case 4:return"warn";case 5:return"error";case 0:return"off"}}var dne=new Me("logLevel",oE(3));var vne=ae("productService"),Iy="vscode://schemas/vscode-product";var rE=function(){if(typeof crypto=="object"&&typeof crypto.randomUUID=="function")return crypto.randomUUID.bind(crypto);let n;typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?n=crypto.getRandomValues.bind(crypto):n=function(i){for(let o=0;o<i.length;o++)i[o]=Math.floor(Math.random()*256);return i};let e=new Uint8Array(16),t=[];for(let i=0;i<256;i++)t.push(i.toString(16).padStart(2,"0"));return function(){n(e),e[6]=e[6]&15|64,e[8]=e[8]&63|128;let o=0,r="";return r+=t[e[o++]],r+=t[e[o++]],r+=t[e[o++]],r+=t[e[o++]],r+="-",r+=t[e[o++]],r+=t[e[o++]],r+="-",r+=t[e[o++]],r+=t[e[o++]],r+="-",r+=t[e[o++]],r+=t[e[o++]],r+="-",r+=t[e[o++]],r+=t[e[o++]],r+=t[e[o++]],r+=t[e[o++]],r+=t[e[o++]],r+=t[e[o++]],r}}();var xne=ae("telemetryService"),Ene=ae("customEndpointTelemetryService");var rm=class{telemetryLevel=0;sessionId="someValue.sessionId";machineId="someValue.machineId";sqmId="someValue.sqmId";devDeviceId="someValue.devDeviceId";firstSessionDate="someValue.firstSessionDate";sendErrorTelemetry=!1;publicLog(){}publicLog2(){}publicLogError(){}publicLogError2(){}setExperimentProperty(){}},iie=new rm;function Gr(n,e){return`${n}.${e}`}var Sie=new Je("pprice.better-merge");var xy=ae("openerService");var Ay=m("tab.activeBackground",Di,d("tabActiveBackground","Active tab background color in an active group. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.")),Wie=m("tab.unfocusedActiveBackground",Ay,d("tabUnfocusedActiveBackground","Active tab background color in an unfocused group. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.")),aE=m("tab.inactiveBackground",{dark:"#2D2D2D",light:"#ECECEC",hcDark:null,hcLight:null},d("tabInactiveBackground","Inactive tab background color in an active group. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.")),zie=m("tab.unfocusedInactiveBackground",aE,d("tabUnfocusedInactiveBackground","Inactive tab background color in an unfocused group. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.")),Yo=m("tab.activeForeground",{dark:D.white,light:"#333333",hcDark:D.white,hcLight:"#292929"},d("tabActiveForeground","Active tab foreground color in an active group. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.")),Ey=m("tab.inactiveForeground",{dark:B(Yo,.5),light:B(Yo,.7),hcDark:D.white,hcLight:"#292929"},d("tabInactiveForeground","Inactive tab foreground color in an active group. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.")),$ie=m("tab.unfocusedActiveForeground",{dark:B(Yo,.5),light:B(Yo,.7),hcDark:D.white,hcLight:"#292929"},d("tabUnfocusedActiveForeground","Active tab foreground color in an unfocused group. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.")),Gie=m("tab.unfocusedInactiveForeground",{dark:B(Ey,.5),light:B(Ey,.5),hcDark:D.white,hcLight:"#292929"},d("tabUnfocusedInactiveForeground","Inactive tab foreground color in an unfocused group. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.")),Sy=m("tab.hoverBackground",null,d("tabHoverBackground","Tab background color when hovering. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.")),qie=m("tab.unfocusedHoverBackground",{dark:B(Sy,.5),light:B(Sy,.7),hcDark:null,hcLight:null},d("tabUnfocusedHoverBackground","Tab background color in an unfocused group when hovering. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.")),wy=m("tab.hoverForeground",null,d("tabHoverForeground","Tab foreground color when hovering. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.")),jie=m("tab.unfocusedHoverForeground",{dark:B(wy,.5),light:B(wy,.5),hcDark:null,hcLight:null},d("tabUnfocusedHoverForeground","Tab foreground color in an unfocused group when hovering. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.")),Yie=m("tab.border",{dark:"#252526",light:"#F3F3F3",hcDark:W,hcLight:W},d("tabBorder","Border to separate tabs from each other. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.")),Xie=m("tab.lastPinnedBorder",{dark:Wr,light:Wr,hcDark:W,hcLight:W},d("lastPinnedTabBorder","Border to separate pinned tabs from other tabs. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.")),Dy=m("tab.activeBorder",null,d("tabActiveBorder","Border on the bottom of an active tab. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.")),Jie=m("tab.unfocusedActiveBorder",{dark:B(Dy,.5),light:B(Dy,.7),hcDark:null,hcLight:null},d("tabActiveUnfocusedBorder","Border on the bottom of an active tab in an unfocused group. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.")),sm=m("tab.activeBorderTop",{dark:null,light:null,hcDark:null,hcLight:"#B5200D"},d("tabActiveBorderTop","Border to the top of an active tab. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.")),Zie=m("tab.unfocusedActiveBorderTop",{dark:B(sm,.5),light:B(sm,.7),hcDark:null,hcLight:"#B5200D"},d("tabActiveUnfocusedBorderTop","Border to the top of an active tab in an unfocused group. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.")),Qie=m("tab.selectedBorderTop",sm,d("tabSelectedBorderTop","Border to the top of a selected tab. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.")),eoe=m("tab.selectedBackground",Ay,d("tabSelectedBackground","Background of a selected tab. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.")),toe=m("tab.selectedForeground",Yo,d("tabSelectedForeground","Foreground of a selected tab. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.")),Cy=m("tab.hoverBorder",null,d("tabHoverBorder","Border to highlight tabs when hovering. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.")),noe=m("tab.unfocusedHoverBorder",{dark:B(Cy,.5),light:B(Cy,.7),hcDark:null,hcLight:W},d("tabUnfocusedHoverBorder","Border to highlight tabs in an unfocused group when hovering. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.")),ioe=m("tab.dragAndDropBorder",{dark:Yo,light:Yo,hcDark:Ue,hcLight:Ue},d("tabDragAndDropBorder","Border between tabs to indicate that a tab can be inserted between two tabs. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.")),Ic=m("tab.activeModifiedBorder",{dark:"#3399CC",light:"#33AAEE",hcDark:null,hcLight:W},d("tabActiveModifiedBorder","Border on the top of modified active tabs in an active group. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.")),_y=m("tab.inactiveModifiedBorder",{dark:B(Ic,.5),light:B(Ic,.5),hcDark:D.white,hcLight:W},d("tabInactiveModifiedBorder","Border on the top of modified inactive tabs in an active group. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.")),ooe=m("tab.unfocusedActiveModifiedBorder",{dark:B(Ic,.5),light:B(Ic,.7),hcDark:D.white,hcLight:W},d("unfocusedActiveModifiedBorder","Border on the top of modified active tabs in an unfocused group. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.")),roe=m("tab.unfocusedInactiveModifiedBorder",{dark:B(_y,.5),light:B(_y,.5),hcDark:D.white,hcLight:W},d("unfocusedINactiveModifiedBorder","Border on the top of modified inactive tabs in an unfocused group. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.")),soe=m("editorPane.background",Di,d("editorPaneBackground","Background color of the editor pane visible on the left and right side of the centered editor layout.")),aoe=m("editorGroup.emptyBackground",null,d("editorGroupEmptyBackground","Background color of an empty editor group. Editor groups are the containers of editors.")),loe=m("editorGroup.focusedEmptyBorder",{dark:null,light:null,hcDark:St,hcLight:St},d("editorGroupFocusedEmptyBorder","Border color of an empty editor group that is focused. Editor groups are the containers of editors.")),doe=m("editorGroupHeader.tabsBackground",{dark:"#252526",light:"#F3F3F3",hcDark:null,hcLight:null},d("tabsContainerBackground","Background color of the editor group title header when tabs are enabled. Editor groups are the containers of editors.")),coe=m("editorGroupHeader.tabsBorder",null,d("tabsContainerBorder","Border color of the editor group title header when tabs are enabled. Editor groups are the containers of editors.")),uoe=m("editorGroupHeader.noTabsBackground",Di,d("editorGroupHeaderBackground",'Background color of the editor group title header when (`"workbench.editor.showTabs": "single"`). Editor groups are the containers of editors.')),poe=m("editorGroupHeader.border",{dark:null,light:null,hcDark:W,hcLight:W},d("editorTitleContainerBorder","Border color of the editor group title header. Editor groups are the containers of editors.")),Ry=m("editorGroup.border",{dark:"#444444",light:"#E7E7E7",hcDark:W,hcLight:W},d("editorGroupBorder","Color to separate multiple editor groups from each other. Editor groups are the containers of editors.")),Ny=m("editorGroup.dropBackground",{dark:D.fromHex("#53595D").transparent(.5),light:D.fromHex("#2677CB").transparent(.18),hcDark:null,hcLight:D.fromHex("#0F4A85").transparent(.5)},d("editorDragAndDropBackground","Background color when dragging editors around. The color should have transparency so that the editor contents can still shine through.")),hoe=m("editorGroup.dropIntoPromptForeground",Xn,d("editorDropIntoPromptForeground","Foreground color of text shown over editors when dragging files. This text informs the user that they can hold shift to drop into the editor.")),moe=m("editorGroup.dropIntoPromptBackground",bt,d("editorDropIntoPromptBackground","Background color of text shown over editors when dragging files. This text informs the user that they can hold shift to drop into the editor.")),foe=m("editorGroup.dropIntoPromptBorder",{dark:null,light:null,hcDark:W,hcLight:W},d("editorDropIntoPromptBorder","Border color of text shown over editors when dragging files. This text informs the user that they can hold shift to drop into the editor.")),goe=m("sideBySideEditor.horizontalBorder",Ry,d("sideBySideEditor.horizontalBorder","Color to separate two editors from each other when shown side by side in an editor group from top to bottom.")),boe=m("sideBySideEditor.verticalBorder",Ry,d("sideBySideEditor.verticalBorder","Color to separate two editors from each other when shown side by side in an editor group from left to right.")),lE=m("panel.background",Di,d("panelBackground","Panel background color. Panels are shown below the editor area and contain views like output and integrated terminal.")),dE=m("panel.border",{dark:D.fromHex("#808080").transparent(.35),light:D.fromHex("#808080").transparent(.35),hcDark:W,hcLight:W},d("panelBorder","Panel border color to separate the panel from the editor. Panels are shown below the editor area and contain views like output and integrated terminal.")),Sa=m("panelTitle.activeForeground",{dark:"#E7E7E7",light:"#424242",hcDark:D.white,hcLight:uo},d("panelActiveTitleForeground","Title color for the active panel. Panels are shown below the editor area and contain views like output and integrated terminal.")),voe=m("panelTitle.inactiveForeground",{dark:B(Sa,.6),light:B(Sa,.75),hcDark:D.white,hcLight:uo},d("panelInactiveTitleForeground","Title color for the inactive panel. Panels are shown below the editor area and contain views like output and integrated terminal.")),yoe=m("panelTitle.activeBorder",{dark:Sa,light:Sa,hcDark:W,hcLight:"#B5200D"},d("panelActiveTitleBorder","Border color for the active panel title. Panels are shown below the editor area and contain views like output and integrated terminal.")),Toe=m("panelInput.border",{dark:Kr,light:D.fromHex("#ddd"),hcDark:Kr,hcLight:Kr},d("panelInputBorder","Input box border for inputs in the panel.")),Ioe=m("panel.dropBorder",Sa,d("panelDragAndDropBorder","Drag and drop feedback color for the panel titles. Panels are shown below the editor area and contain views like output and integrated terminal.")),xoe=m("panelSection.dropBackground",Ny,d("panelSectionDragAndDropBackground","Drag and drop feedback color for the panel sections. The color should have transparency so that the panel sections can still shine through. Panels are shown below the editor area and contain views like output and integrated terminal. Panel sections are views nested within the panels.")),Eoe=m("panelSectionHeader.background",{dark:D.fromHex("#808080").transparent(.2),light:D.fromHex("#808080").transparent(.2),hcDark:null,hcLight:null},d("panelSectionHeaderBackground","Panel section header background color. Panels are shown below the editor area and contain views like output and integrated terminal. Panel sections are views nested within the panels.")),Soe=m("panelSectionHeader.foreground",null,d("panelSectionHeaderForeground","Panel section header foreground color. Panels are shown below the editor area and contain views like output and integrated terminal. Panel sections are views nested within the panels.")),woe=m("panelSectionHeader.border",W,d("panelSectionHeaderBorder","Panel section header border color used when multiple views are stacked vertically in the panel. Panels are shown below the editor area and contain views like output and integrated terminal. Panel sections are views nested within the panels.")),Oy=m("panelSection.border",dE,d("panelSectionBorder","Panel section border color used when multiple views are stacked horizontally in the panel. Panels are shown below the editor area and contain views like output and integrated terminal. Panel sections are views nested within the panels.")),Doe=m("panelStickyScroll.background",lE,d("panelStickyScrollBackground","Background color of sticky scroll in the panel.")),Coe=m("panelStickyScroll.border",null,d("panelStickyScrollBorder","Border color of sticky scroll in the panel.")),_oe=m("panelStickyScroll.shadow",co,d("panelStickyScrollShadow","Shadow color of sticky scroll in the panel.")),cE=m("outputView.background",null,d("outputViewBackground","Output view background color."));m("outputViewStickyScroll.background",cE,d("outputViewStickyScrollBackground","Output view sticky scroll background color."));var koe=m("banner.background",{dark:Pt,light:Et(Pt,.3),hcDark:Pt,hcLight:Pt},d("banner.background","Banner background color. The banner is shown under the title bar of the window.")),Loe=m("banner.foreground",Zn,d("banner.foreground","Banner foreground color. The banner is shown under the title bar of the window.")),Aoe=m("banner.iconForeground",Ci,d("banner.iconForeground","Banner icon color. The banner is shown under the title bar of the window.")),mo=m("statusBar.foreground",{dark:"#FFFFFF",light:"#FFFFFF",hcDark:"#FFFFFF",hcLight:uo},d("statusBarForeground","Status bar foreground color when a workspace or folder is opened. The status bar is shown in the bottom of the window.")),Roe=m("statusBar.noFolderForeground",mo,d("statusBarNoFolderForeground","Status bar foreground color when no folder is opened. The status bar is shown in the bottom of the window.")),Noe=m("statusBar.background",{dark:"#007ACC",light:"#007ACC",hcDark:null,hcLight:null},d("statusBarBackground","Status bar background color when a workspace or folder is opened. The status bar is shown in the bottom of the window.")),Ooe=m("statusBar.noFolderBackground",{dark:"#68217A",light:"#68217A",hcDark:null,hcLight:null},d("statusBarNoFolderBackground","Status bar background color when no folder is opened. The status bar is shown in the bottom of the window.")),uE=m("statusBar.border",{dark:null,light:null,hcDark:W,hcLight:W},d("statusBarBorder","Status bar border color separating to the sidebar and editor. The status bar is shown in the bottom of the window.")),Foe=m("statusBar.focusBorder",{dark:mo,light:mo,hcDark:null,hcLight:mo},d("statusBarFocusBorder","Status bar border color when focused on keyboard navigation. The status bar is shown in the bottom of the window.")),Moe=m("statusBar.noFolderBorder",uE,d("statusBarNoFolderBorder","Status bar border color separating to the sidebar and editor when no folder is opened. The status bar is shown in the bottom of the window.")),Poe=m("statusBarItem.activeBackground",{dark:D.white.transparent(.18),light:D.white.transparent(.18),hcDark:D.white.transparent(.18),hcLight:D.black.transparent(.18)},d("statusBarItemActiveBackground","Status bar item background color when clicking. The status bar is shown in the bottom of the window.")),Boe=m("statusBarItem.focusBorder",{dark:mo,light:mo,hcDark:null,hcLight:Ue},d("statusBarItemFocusBorder","Status bar item border color when focused on keyboard navigation. The status bar is shown in the bottom of the window.")),fo=m("statusBarItem.hoverBackground",{dark:D.white.transparent(.12),light:D.white.transparent(.12),hcDark:D.white.transparent(.12),hcLight:D.black.transparent(.12)},d("statusBarItemHoverBackground","Status bar item background color when hovering. The status bar is shown in the bottom of the window.")),Da=m("statusBarItem.hoverForeground",mo,d("statusBarItemHoverForeground","Status bar item foreground color when hovering. The status bar is shown in the bottom of the window.")),Hoe=m("statusBarItem.compactHoverBackground",{dark:D.white.transparent(.2),light:D.white.transparent(.2),hcDark:D.white.transparent(.2),hcLight:D.black.transparent(.2)},d("statusBarItemCompactHoverBackground","Status bar item background color when hovering an item that contains two hovers. The status bar is shown in the bottom of the window.")),Uoe=m("statusBarItem.prominentForeground",mo,d("statusBarProminentItemForeground","Status bar prominent items foreground color. Prominent items stand out from other status bar entries to indicate importance. The status bar is shown in the bottom of the window.")),Koe=m("statusBarItem.prominentBackground",D.black.transparent(.5),d("statusBarProminentItemBackground","Status bar prominent items background color. Prominent items stand out from other status bar entries to indicate importance. The status bar is shown in the bottom of the window.")),Voe=m("statusBarItem.prominentHoverForeground",Da,d("statusBarProminentItemHoverForeground","Status bar prominent items foreground color when hovering. Prominent items stand out from other status bar entries to indicate importance. The status bar is shown in the bottom of the window.")),Woe=m("statusBarItem.prominentHoverBackground",{dark:D.black.transparent(.3),light:D.black.transparent(.3),hcDark:D.black.transparent(.3),hcLight:null},d("statusBarProminentItemHoverBackground","Status bar prominent items background color when hovering. Prominent items stand out from other status bar entries to indicate importance. The status bar is shown in the bottom of the window.")),zoe=m("statusBarItem.errorBackground",{dark:Et(Oh,.4),light:Et(Oh,.4),hcDark:null,hcLight:"#B5200D"},d("statusBarErrorItemBackground","Status bar error items background color. Error items stand out from other status bar entries to indicate error conditions. The status bar is shown in the bottom of the window.")),$oe=m("statusBarItem.errorForeground",D.white,d("statusBarErrorItemForeground","Status bar error items foreground color. Error items stand out from other status bar entries to indicate error conditions. The status bar is shown in the bottom of the window.")),Goe=m("statusBarItem.errorHoverForeground",Da,d("statusBarErrorItemHoverForeground","Status bar error items foreground color when hovering. Error items stand out from other status bar entries to indicate error conditions. The status bar is shown in the bottom of the window.")),qoe=m("statusBarItem.errorHoverBackground",fo,d("statusBarErrorItemHoverBackground","Status bar error items background color when hovering. Error items stand out from other status bar entries to indicate error conditions. The status bar is shown in the bottom of the window.")),joe=m("statusBarItem.warningBackground",{dark:Et(Jn,.4),light:Et(Jn,.4),hcDark:null,hcLight:"#895503"},d("statusBarWarningItemBackground","Status bar warning items background color. Warning items stand out from other status bar entries to indicate warning conditions. The status bar is shown in the bottom of the window.")),Yoe=m("statusBarItem.warningForeground",D.white,d("statusBarWarningItemForeground","Status bar warning items foreground color. Warning items stand out from other status bar entries to indicate warning conditions. The status bar is shown in the bottom of the window.")),Xoe=m("statusBarItem.warningHoverForeground",Da,d("statusBarWarningItemHoverForeground","Status bar warning items foreground color when hovering. Warning items stand out from other status bar entries to indicate warning conditions. The status bar is shown in the bottom of the window.")),Joe=m("statusBarItem.warningHoverBackground",fo,d("statusBarWarningItemHoverBackground","Status bar warning items background color when hovering. Warning items stand out from other status bar entries to indicate warning conditions. The status bar is shown in the bottom of the window.")),Zoe=m("activityBar.background",{dark:"#333333",light:"#2C2C2C",hcDark:"#000000",hcLight:"#FFFFFF"},d("activityBarBackground","Activity bar background color. The activity bar is showing on the far left or right and allows to switch between views of the side bar.")),qr=m("activityBar.foreground",{dark:D.white,light:D.white,hcDark:D.white,hcLight:uo},d("activityBarForeground","Activity bar item foreground color when it is active. The activity bar is showing on the far left or right and allows to switch between views of the side bar.")),Qoe=m("activityBar.inactiveForeground",{dark:B(qr,.4),light:B(qr,.4),hcDark:D.white,hcLight:uo},d("activityBarInActiveForeground","Activity bar item foreground color when it is inactive. The activity bar is showing on the far left or right and allows to switch between views of the side bar.")),ere=m("activityBar.border",{dark:null,light:null,hcDark:W,hcLight:W},d("activityBarBorder","Activity bar border color separating to the side bar. The activity bar is showing on the far left or right and allows to switch between views of the side bar.")),tre=m("activityBar.activeBorder",{dark:qr,light:qr,hcDark:W,hcLight:W},d("activityBarActiveBorder","Activity bar border color for the active item. The activity bar is showing on the far left or right and allows to switch between views of the side bar.")),nre=m("activityBar.activeFocusBorder",{dark:null,light:null,hcDark:null,hcLight:"#B5200D"},d("activityBarActiveFocusBorder","Activity bar focus border color for the active item. The activity bar is showing on the far left or right and allows to switch between views of the side bar.")),ire=m("activityBar.activeBackground",null,d("activityBarActiveBackground","Activity bar background color for the active item. The activity bar is showing on the far left or right and allows to switch between views of the side bar.")),ore=m("activityBar.dropBorder",{dark:qr,light:qr,hcDark:null,hcLight:null},d("activityBarDragAndDropBorder","Drag and drop feedback color for the activity bar items. The activity bar is showing on the far left or right and allows to switch between views of the side bar.")),Fy=m("activityBarBadge.background",{dark:"#007ACC",light:"#007ACC",hcDark:"#000000",hcLight:"#0F4A85"},d("activityBarBadgeBackground","Activity notification badge background color. The activity bar is showing on the far left or right and allows to switch between views of the side bar.")),My=m("activityBarBadge.foreground",D.white,d("activityBarBadgeForeground","Activity notification badge foreground color. The activity bar is showing on the far left or right and allows to switch between views of the side bar.")),wa=m("activityBarTop.foreground",{dark:"#E7E7E7",light:"#424242",hcDark:D.white,hcLight:uo},d("activityBarTop","Active foreground color of the item in the Activity bar when it is on top / bottom. The activity allows to switch between views of the side bar.")),rre=m("activityBarTop.activeBorder",{dark:wa,light:wa,hcDark:W,hcLight:"#B5200D"},d("activityBarTopActiveFocusBorder","Focus border color for the active item in the Activity bar when it is on top / bottom. The activity allows to switch between views of the side bar.")),sre=m("activityBarTop.activeBackground",null,d("activityBarTopActiveBackground","Background color for the active item in the Activity bar when it is on top / bottom. The activity allows to switch between views of the side bar.")),are=m("activityBarTop.inactiveForeground",{dark:B(wa,.6),light:B(wa,.75),hcDark:D.white,hcLight:uo},d("activityBarTopInActiveForeground","Inactive foreground color of the item in the Activity bar when it is on top / bottom. The activity allows to switch between views of the side bar.")),lre=m("activityBarTop.dropBorder",wa,d("activityBarTopDragAndDropBorder","Drag and drop feedback color for the items in the Activity bar when it is on top / bottom. The activity allows to switch between views of the side bar.")),dre=m("activityBarTop.background",null,d("activityBarTopBackground","Background color of the activity bar when set to top / bottom.")),cre=m("profileBadge.background",{dark:"#4D4D4D",light:"#C4C4C4",hcDark:D.white,hcLight:D.black},d("profileBadgeBackground","Profile badge background color. The profile badge shows on top of the settings gear icon in the activity bar.")),ure=m("profileBadge.foreground",{dark:D.white,light:"#333333",hcDark:D.black,hcLight:D.white},d("profileBadgeForeground","Profile badge foreground color. The profile badge shows on top of the settings gear icon in the activity bar.")),pre=m("statusBarItem.remoteBackground",Fy,d("statusBarItemHostBackground","Background color for the remote indicator on the status bar.")),pE=m("statusBarItem.remoteForeground",My,d("statusBarItemHostForeground","Foreground color for the remote indicator on the status bar.")),hre=m("statusBarItem.remoteHoverForeground",Da,d("statusBarRemoteItemHoverForeground","Foreground color for the remote indicator on the status bar when hovering.")),mre=m("statusBarItem.remoteHoverBackground",{dark:fo,light:fo,hcDark:fo,hcLight:null},d("statusBarRemoteItemHoverBackground","Background color for the remote indicator on the status bar when hovering.")),fre=m("statusBarItem.offlineBackground","#6c1717",d("statusBarItemOfflineBackground","Status bar item background color when the workbench is offline.")),gre=m("statusBarItem.offlineForeground",pE,d("statusBarItemOfflineForeground","Status bar item foreground color when the workbench is offline.")),bre=m("statusBarItem.offlineHoverForeground",Da,d("statusBarOfflineItemHoverForeground","Status bar item foreground hover color when the workbench is offline.")),vre=m("statusBarItem.offlineHoverBackground",{dark:fo,light:fo,hcDark:fo,hcLight:null},d("statusBarOfflineItemHoverBackground","Status bar item background hover color when the workbench is offline.")),yre=m("extensionBadge.remoteBackground",Fy,d("extensionBadge.remoteBackground","Background color for the remote badge in the extensions view.")),Tre=m("extensionBadge.remoteForeground",My,d("extensionBadge.remoteForeground","Foreground color for the remote badge in the extensions view.")),Py=m("sideBar.background",{dark:"#252526",light:"#F3F3F3",hcDark:"#000000",hcLight:"#FFFFFF"},d("sideBarBackground","Side bar background color. The side bar is the container for views like explorer and search.")),By=m("sideBar.foreground",null,d("sideBarForeground","Side bar foreground color. The side bar is the container for views like explorer and search.")),Ire=m("sideBar.border",{dark:null,light:null,hcDark:W,hcLight:W},d("sideBarBorder","Side bar border color on the side separating to the editor. The side bar is the container for views like explorer and search.")),xre=m("sideBarTitle.background",Py,d("sideBarTitleBackground","Side bar title background color. The side bar is the container for views like explorer and search.")),Ere=m("sideBarTitle.foreground",By,d("sideBarTitleForeground","Side bar title foreground color. The side bar is the container for views like explorer and search.")),Sre=m("sideBar.dropBackground",Ny,d("sideBarDragAndDropBackground","Drag and drop feedback color for the side bar sections. The color should have transparency so that the side bar sections can still shine through. The side bar is the container for views like explorer and search. Side bar sections are views nested within the side bar.")),wre=m("sideBarSectionHeader.background",{dark:D.fromHex("#808080").transparent(.2),light:D.fromHex("#808080").transparent(.2),hcDark:null,hcLight:null},d("sideBarSectionHeaderBackground","Side bar section header background color. The side bar is the container for views like explorer and search. Side bar sections are views nested within the side bar.")),Dre=m("sideBarSectionHeader.foreground",By,d("sideBarSectionHeaderForeground","Side bar section header foreground color. The side bar is the container for views like explorer and search. Side bar sections are views nested within the side bar.")),hE=m("sideBarSectionHeader.border",W,d("sideBarSectionHeaderBorder","Side bar section header border color. The side bar is the container for views like explorer and search. Side bar sections are views nested within the side bar.")),Cre=m("sideBarActivityBarTop.border",hE,d("sideBarActivityBarTopBorder","Border color between the activity bar at the top/bottom and the views.")),_re=m("sideBarStickyScroll.background",Py,d("sideBarStickyScrollBackground","Background color of sticky scroll in the side bar.")),kre=m("sideBarStickyScroll.border",null,d("sideBarStickyScrollBorder","Border color of sticky scroll in the side bar.")),Lre=m("sideBarStickyScroll.shadow",co,d("sideBarStickyScrollShadow","Shadow color of sticky scroll in the side bar.")),ni=m("titleBar.activeForeground",{dark:"#CCCCCC",light:"#333333",hcDark:"#FFFFFF",hcLight:"#292929"},d("titleBarActiveForeground","Title bar foreground when the window is active.")),Hy=m("titleBar.inactiveForeground",{dark:B(ni,.6),light:B(ni,.6),hcDark:null,hcLight:"#292929"},d("titleBarInactiveForeground","Title bar foreground when the window is inactive.")),ky=m("titleBar.activeBackground",{dark:"#3C3C3C",light:"#DDDDDD",hcDark:"#000000",hcLight:"#FFFFFF"},d("titleBarActiveBackground","Title bar background when the window is active.")),Are=m("titleBar.inactiveBackground",{dark:B(ky,.6),light:B(ky,.6),hcDark:null,hcLight:null},d("titleBarInactiveBackground","Title bar background when the window is inactive.")),Rre=m("titleBar.border",{dark:null,light:null,hcDark:W,hcLight:W},d("titleBarBorder","Title bar border color.")),mE=m("menubar.selectionForeground",ni,d("menubarSelectionForeground","Foreground color of the selected menu item in the menubar.")),Ly=m("menubar.selectionBackground",{dark:fa,light:fa,hcDark:null,hcLight:null},d("menubarSelectionBackground","Background color of the selected menu item in the menubar.")),Nre=m("menubar.selectionBorder",{dark:null,light:null,hcDark:Ue,hcLight:Ue},d("menubarSelectionBorder","Border color of the selected menu item in the menubar.")),Ore=m("commandCenter.foreground",ni,d("commandCenter-foreground","Foreground color of the command center"),!1),Fre=m("commandCenter.activeForeground",mE,d("commandCenter-activeForeground","Active foreground color of the command center"),!1),Mre=m("commandCenter.inactiveForeground",Hy,d("commandCenter-inactiveForeground","Foreground color of the command center when the window is inactive"),!1),Pre=m("commandCenter.background",{dark:D.white.transparent(.05),hcDark:null,light:D.black.transparent(.05),hcLight:null},d("commandCenter-background","Background color of the command center"),!1),Bre=m("commandCenter.activeBackground",{dark:D.white.transparent(.08),hcDark:Ly,light:D.black.transparent(.08),hcLight:Ly},d("commandCenter-activeBackground","Active background color of the command center"),!1),Hre=m("commandCenter.border",{dark:B(ni,.2),hcDark:W,light:B(ni,.2),hcLight:W},d("commandCenter-border","Border color of the command center"),!1),Ure=m("commandCenter.activeBorder",{dark:B(ni,.3),hcDark:ni,light:B(ni,.3),hcLight:ni},d("commandCenter-activeBorder","Active border color of the command center"),!1),Kre=m("commandCenter.inactiveBorder",B(Hy,.25),d("commandCenter-inactiveBorder","Border color of the command center when the window is inactive"),!1),Vre=m("notificationCenter.border",{dark:ba,light:ba,hcDark:W,hcLight:W},d("notificationCenterBorder","Notifications center border color. Notifications slide in from the bottom right of the window.")),Wre=m("notificationToast.border",{dark:ba,light:ba,hcDark:W,hcLight:W},d("notificationToastBorder","Notification toast border color. Notifications slide in from the bottom right of the window.")),zre=m("notifications.foreground",Xn,d("notificationsForeground","Notifications foreground color. Notifications slide in from the bottom right of the window.")),Tc=m("notifications.background",bt,d("notificationsBackground","Notifications background color. Notifications slide in from the bottom right of the window.")),$re=m("notificationLink.foreground",qd,d("notificationsLink","Notification links foreground color. Notifications slide in from the bottom right of the window.")),Gre=m("notificationCenterHeader.foreground",null,d("notificationCenterHeaderForeground","Notifications center header foreground color. Notifications slide in from the bottom right of the window.")),fE=m("notificationCenterHeader.background",{dark:At(Tc,.3),light:Et(Tc,.05),hcDark:Tc,hcLight:Tc},d("notificationCenterHeaderBackground","Notifications center header background color. Notifications slide in from the bottom right of the window.")),qre=m("notifications.border",fE,d("notificationsBorder","Notifications border color separating from other notifications in the notifications center. Notifications slide in from the bottom right of the window.")),jre=m("notificationsErrorIcon.foreground",ga,d("notificationsErrorIconForeground","The color used for the icon of error notifications. Notifications slide in from the bottom right of the window.")),Yre=m("notificationsWarningIcon.foreground",Jn,d("notificationsWarningIconForeground","The color used for the icon of warning notifications. Notifications slide in from the bottom right of the window.")),Xre=m("notificationsInfoIcon.foreground",Ci,d("notificationsInfoIconForeground","The color used for the icon of info notifications. Notifications slide in from the bottom right of the window.")),Jre=m("window.activeBorder",{dark:null,light:null,hcDark:W,hcLight:W},d("windowActiveBorder","The color used for the border of the window when it is active. Only supported in the macOS and Linux desktop client when using the custom title bar.")),Zre=m("window.inactiveBorder",{dark:null,light:null,hcDark:W,hcLight:W},d("windowInactiveBorder","The color used for the border of the window when it is inactive. Only supported in the macOS and Linux desktop client when using the custom title bar."));var Uy=ae("dialogService");var Tse=ae("fileDialogService");var wse=Ke("extensions-view-icon",ee.extensions,d("extensionsViewIcon","View icon of the extensions view.")),Dse=Ke("extensions-manage",ee.gear,d("manageExtensionIcon","Icon for the 'Manage' action in the extensions view.")),Cse=Ke("extensions-clear-search-results",ee.clearAll,d("clearSearchResultsIcon","Icon for the 'Clear Search Result' action in the extensions view.")),_se=Ke("extensions-refresh",ee.refresh,d("refreshIcon","Icon for the 'Refresh' action in the extensions view.")),kse=Ke("extensions-filter",ee.filter,d("filterIcon","Icon for the 'Filter' action in the extensions view.")),Lse=Ke("extensions-install-local-in-remote",ee.cloudDownload,d("installLocalInRemoteIcon","Icon for the 'Install Local Extension in Remote' action in the extensions view.")),Ase=Ke("extensions-install-workspace-recommended",ee.cloudDownload,d("installWorkspaceRecommendedIcon","Icon for the 'Install Workspace Recommended Extensions' action in the extensions view.")),Rse=Ke("extensions-configure-recommended",ee.pencil,d("configureRecommendedIcon","Icon for the 'Configure Recommended Extensions' action in the extensions view.")),Nse=Ke("extensions-sync-enabled",ee.sync,d("syncEnabledIcon","Icon to indicate that an extension is synced.")),Ose=Ke("extensions-sync-ignored",ee.syncIgnored,d("syncIgnoredIcon","Icon to indicate that an extension is ignored when syncing.")),Fse=Ke("extensions-remote",ee.remote,d("remoteIcon","Icon to indicate that an extension is remote in the extensions view and editor.")),Mse=Ke("extensions-install-count",ee.cloudDownload,d("installCountIcon","Icon shown along with the install count in the extensions view and editor.")),Pse=Ke("extensions-rating",ee.star,d("ratingIcon","Icon shown along with the rating in the extensions view and editor.")),Bse=Ke("extensions-verified-publisher",ee.verifiedFilled,d("verifiedPublisher","Icon used for the verified extension publisher in the extensions view and editor.")),Hse=Ke("extensions-pre-release",ee.versions,d("preReleaseIcon","Icon shown for extensions having pre-release versions in extensions view and editor.")),Use=Ke("extensions-sponsor",ee.heartFilled,d("sponsorIcon","Icon used for sponsoring extensions in the extensions view and editor.")),Kse=Ke("extensions-star-full",ee.starFull,d("starFullIcon","Full star icon used for the rating in the extensions editor.")),Vse=Ke("extensions-star-half",ee.starHalf,d("starHalfIcon","Half star icon used for the rating in the extensions editor.")),Wse=Ke("extensions-star-empty",ee.starEmpty,d("starEmptyIcon","Empty star icon used for the rating in the extensions editor.")),am=Ke("extensions-error-message",ee.error,d("errorIcon","Icon shown with a error message in the extensions editor.")),lm=Ke("extensions-warning-message",ee.warning,d("warningIcon","Icon shown with a warning message in the extensions editor.")),Ky=Ke("extensions-info-message",ee.info,d("infoIcon","Icon shown with an info message in the extensions editor.")),zse=Ke("extension-workspace-trust",ee.shield,d("trustIcon","Icon shown with a workspace trust message in the extension editor.")),$se=Ke("extension-activation-time",ee.history,d("activationtimeIcon","Icon shown with a activation time message in the extension editor."));var dm;(e=>{function n(t){switch(t){case Gt.Ignore:return"severity-ignore "+Te.asClassName(ee.info);case Gt.Info:return Te.asClassName(ee.info);case Gt.Warning:return Te.asClassName(ee.warning);case Gt.Error:return Te.asClassName(ee.error);default:return""}}e.className=n})(dm||={});function Vy(n){switch(n){case 100:return"req";case 101:return"cancel";case 102:return"subscribe";case 103:return"unsubscribe"}}function Wy(n){switch(n){case 200:return"init";case 201:return"reply:";case 202:case 203:return"replyErr:";case 204:return"event:"}}function jr(n){let e=0;for(let t=0;;t+=7){let i=n.read(1);if(e|=(i.buffer[0]&127)<<t,!(i.buffer[0]&128))return e}}var gE=go(0);function Yr(n,e){if(e===0){n.write(gE);return}let t=0;for(let o=e;o!==0;o=o>>>7)t++;let i=on.alloc(t);for(let o=0;e!==0;o++)i.buffer[o]=e&127,e=e>>>7,e>0&&(i.buffer[o]|=128);n.write(i)}var um=class{constructor(e){this.buffer=e}pos=0;read(e){let t=this.buffer.slice(this.pos,this.pos+e);return this.pos+=t.byteLength,t}},pm=class{buffers=[];get buffer(){return on.concat(this.buffers)}write(e){this.buffers.push(e)}};function go(n){let e=on.alloc(1);return e.writeUInt8(n,0),e}var Xo={Undefined:go(0),String:go(1),Buffer:go(2),VSBuffer:go(3),Array:go(4),Object:go(5),Uint:go(6)},bE=typeof Buffer<"u";function hm(n,e){if(typeof e>"u")n.write(Xo.Undefined);else if(typeof e=="string"){let t=on.fromString(e);n.write(Xo.String),Yr(n,t.byteLength),n.write(t)}else if(bE&&Buffer.isBuffer(e)){let t=on.wrap(e);n.write(Xo.Buffer),Yr(n,t.byteLength),n.write(t)}else if(e instanceof on)n.write(Xo.VSBuffer),Yr(n,e.byteLength),n.write(e);else if(Array.isArray(e)){n.write(Xo.Array),Yr(n,e.length);for(let t of e)hm(n,t)}else if(typeof e=="number"&&(e|0)===e)n.write(Xo.Uint),Yr(n,e);else{let t=on.fromString(JSON.stringify(e));n.write(Xo.Object),Yr(n,t.byteLength),n.write(t)}}function mm(n){switch(n.read(1).readUInt8(0)){case 0:return;case 1:return n.read(jr(n)).toString();case 2:return n.read(jr(n)).buffer;case 3:return n.read(jr(n));case 4:{let t=jr(n),i=[];for(let o=0;o<t;o++)i.push(mm(n));return i}case 5:return JSON.parse(n.read(jr(n)).toString());case 6:return jr(n)}}var cm=class{constructor(e,t=null){this.protocol=e;this.protocolListener=this.protocol.onMessage(i=>this.onBuffer(i)),this.logger=t}isDisposed=!1;state=0;activeRequests=new Set;handlers=new Map;lastRequestId=0;protocolListener;logger;_onDidInitialize=new L;onDidInitialize=this._onDidInitialize.event;getChannel(e){let t=this;return{call(i,o,r){return t.isDisposed?Promise.reject(new Nt):t.requestPromise(e,i,o,r)},listen(i,o){return t.isDisposed?N.None:t.requestEvent(e,i,o)}}}requestPromise(e,t,i,o=as.None){let r=this.lastRequestId++,a={id:r,type:100,channelName:e,name:t,arg:i};if(o.isCancellationRequested)return Promise.reject(new Nt);let l;return new Promise((p,h)=>{if(o.isCancellationRequested)return h(new Nt);let f=()=>{let x=k=>{switch(k.type){case 201:this.handlers.delete(r),p(k.data);break;case 202:{this.handlers.delete(r);let _=new Error(k.data.message);_.stack=Array.isArray(k.data.stack)?k.data.stack.join(`
`):k.data.stack,_.name=k.data.name,h(_);break}case 203:this.handlers.delete(r),h(k.data);break}};this.handlers.set(r,x),this.sendRequest(a)},T=null;this.state===1?f():(T=pr(x=>this.whenInitialized()),T.then(()=>{T=null,f()}));let w=()=>{T?(T.cancel(),T=null):this.sendRequest({id:r,type:101}),h(new Nt)},b=o.onCancellationRequested(w);l=vn(ce(w),b),this.activeRequests.add(l)}).finally(()=>{l.dispose(),this.activeRequests.delete(l)})}requestEvent(e,t,i){let o=this.lastRequestId++,s={id:o,type:102,channelName:e,name:t,arg:i},a=null,l=new L({onWillAddFirstListener:()=>{a=pr(p=>this.whenInitialized()),a.then(()=>{a=null,this.activeRequests.add(l),this.sendRequest(s)})},onDidRemoveLastListener:()=>{a?(a.cancel(),a=null):(this.activeRequests.delete(l),this.sendRequest({id:o,type:103}))}}),c=p=>l.fire(p.data);return this.handlers.set(o,c),l.event}sendRequest(e){switch(e.type){case 100:case 102:{let t=this.send([e.type,e.id,e.channelName,e.name],e.arg);this.logger?.logOutgoing(t,e.id,0,`${Vy(e.type)}: ${e.channelName}.${e.name}`,e.arg);return}case 101:case 103:{let t=this.send([e.type,e.id]);this.logger?.logOutgoing(t,e.id,0,Vy(e.type));return}}}send(e,t=void 0){let i=new pm;return hm(i,e),hm(i,t),this.sendBuffer(i.buffer)}sendBuffer(e){try{return this.protocol.send(e),e.byteLength}catch{return 0}}onBuffer(e){let t=new um(e),i=mm(t),o=mm(t),r=i[0];switch(r){case 200:return this.logger?.logIncoming(e.byteLength,0,0,Wy(r)),this.onResponse({type:i[0]});case 201:case 202:case 204:case 203:return this.logger?.logIncoming(e.byteLength,i[1],0,Wy(r),o),this.onResponse({type:i[0],id:i[1],data:o})}}onResponse(e){if(e.type===200){this.state=1,this._onDidInitialize.fire();return}this.handlers.get(e.id)?.(e)}get onDidInitializePromise(){return N.toPromise(this.onDidInitialize)}whenInitialized(){return this.state===1?Promise.resolve():this.onDidInitializePromise}dispose(){this.isDisposed=!0,this.protocolListener&&(this.protocolListener.dispose(),this.protocolListener=null),$e(this.activeRequests.values()),this.activeRequests.clear()}};de([Re],cm.prototype,"onDidInitializePromise",1);var vE;(o=>{function n(r,s,a){let l=r,c=a&&a.disableMarshalling,p=new Map;for(let h in l)t(h)&&p.set(h,N.buffer(l[h],!0,void 0,s));return new class{listen(h,f,T){let w=p.get(f);if(w)return w;let b=l[f];if(typeof b=="function"){if(i(f))return b.call(l,T);if(t(f))return p.set(f,N.buffer(l[f],!0,void 0,s)),p.get(f)}throw new li(`Event not found: ${f}`)}call(h,f,T){let w=l[f];if(typeof w=="function"){if(!c&&Array.isArray(T))for(let x=0;x<T.length;x++)T[x]=Cr(T[x]);let b=w.apply(l,T);return b instanceof Promise||(b=Promise.resolve(b)),b}throw new li(`Method not found: ${f}`)}}}o.fromService=n;function e(r,s){let a=s&&s.disableMarshalling;return new Proxy({},{get(l,c){if(typeof c=="string")return s?.properties?.has(c)?s.properties.get(c):i(c)?function(p){return r.listen(c,p)}:t(c)?r.listen(c):async function(...p){let h;s&&!Sn(s.context)?h=[s.context,...p]:h=p;let f=await r.call(c,h);return a?f:Cr(f)};throw new li(`Property not found: ${String(c)}`)}})}o.toService=e;function t(r){return r[0]==="o"&&r[1]==="n"&&gu(r.charCodeAt(2))}function i(r){return/^onDynamic/.test(r)&&gu(r.charCodeAt(9))}})(vE||={});var fm=class{_generators=new Map;_cache=new WeakMap;register(e,t){this._generators.set(e,t)}readActivationEvents(e){return this._cache.has(e)||this._cache.set(e,this._readActivationEvents(e)),this._cache.get(e)}createActivationEventsMap(e){let t=Object.create(null);for(let i of e){let o=this.readActivationEvents(i);o.length>0&&(t[Je.toKey(i.identifier)]=o)}return t}_readActivationEvents(e){if(typeof e.main>"u"&&typeof e.browser>"u")return[];let t=Array.isArray(e.activationEvents)?e.activationEvents.slice(0):[];for(let i=0;i<t.length;i++)t[i]==="onUri"&&(t[i]=`onUri:${Je.toKey(e.identifier)}`);if(!e.contributes)return t;for(let i in e.contributes){let o=this._generators.get(i);if(!o)continue;let r=e.contributes[i],s=Array.isArray(r)?r:[r];try{o(s,t)}catch(a){lt(a)}}return t}},gm=new fm;var yE={activeComment:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.activeComment.d.ts"},aiRelatedInformation:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.aiRelatedInformation.d.ts"},aiTextSearchProvider:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.aiTextSearchProvider.d.ts"},aiTextSearchProviderNew:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.aiTextSearchProviderNew.d.ts"},attributableCoverage:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.attributableCoverage.d.ts"},authLearnMore:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.authLearnMore.d.ts"},authSession:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.authSession.d.ts"},canonicalUriProvider:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.canonicalUriProvider.d.ts"},chatParticipantAdditions:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.chatParticipantAdditions.d.ts"},chatParticipantPrivate:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.chatParticipantPrivate.d.ts",version:2},chatProvider:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.chatProvider.d.ts"},chatTab:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.chatTab.d.ts"},chatVariableResolver:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.chatVariableResolver.d.ts"},codeActionAI:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.codeActionAI.d.ts"},codeActionRanges:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.codeActionRanges.d.ts"},codiconDecoration:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.codiconDecoration.d.ts"},commentReactor:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.commentReactor.d.ts"},commentReveal:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.commentReveal.d.ts"},commentThreadApplicability:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.commentThreadApplicability.d.ts"},commentingRangeHint:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.commentingRangeHint.d.ts"},commentsDraftState:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.commentsDraftState.d.ts"},contribAccessibilityHelpContent:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribAccessibilityHelpContent.d.ts"},contribChatParticipantDetection:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribChatParticipantDetection.d.ts"},contribCommentEditorActionsMenu:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribCommentEditorActionsMenu.d.ts"},contribCommentPeekContext:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribCommentPeekContext.d.ts"},contribCommentThreadAdditionalMenu:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribCommentThreadAdditionalMenu.d.ts"},contribCommentsViewThreadMenus:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribCommentsViewThreadMenus.d.ts"},contribDebugCreateConfiguration:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribDebugCreateConfiguration.d.ts"},contribDiffEditorGutterToolBarMenus:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribDiffEditorGutterToolBarMenus.d.ts"},contribEditSessions:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribEditSessions.d.ts"},contribEditorContentMenu:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribEditorContentMenu.d.ts"},contribIssueReporter:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribIssueReporter.d.ts"},contribLabelFormatterWorkspaceTooltip:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribLabelFormatterWorkspaceTooltip.d.ts"},contribMenuBarHome:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribMenuBarHome.d.ts"},contribMergeEditorMenus:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribMergeEditorMenus.d.ts"},contribMultiDiffEditorMenus:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribMultiDiffEditorMenus.d.ts"},contribNotebookStaticPreloads:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribNotebookStaticPreloads.d.ts"},contribRemoteHelp:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribRemoteHelp.d.ts"},contribShareMenu:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribShareMenu.d.ts"},contribSourceControlHistoryItemMenu:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribSourceControlHistoryItemMenu.d.ts"},contribSourceControlHistoryTitleMenu:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribSourceControlHistoryTitleMenu.d.ts"},contribSourceControlInputBoxMenu:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribSourceControlInputBoxMenu.d.ts"},contribSourceControlTitleMenu:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribSourceControlTitleMenu.d.ts"},contribStatusBarItems:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribStatusBarItems.d.ts"},contribViewContainerTitle:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribViewContainerTitle.d.ts"},contribViewsRemote:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribViewsRemote.d.ts"},contribViewsWelcome:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribViewsWelcome.d.ts"},createFileSystemWatcher:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.createFileSystemWatcher.d.ts"},customEditorMove:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.customEditorMove.d.ts"},debugVisualization:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.debugVisualization.d.ts"},defaultChatParticipant:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.defaultChatParticipant.d.ts"},diffCommand:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.diffCommand.d.ts"},diffContentOptions:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.diffContentOptions.d.ts"},documentFiltersExclusive:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.documentFiltersExclusive.d.ts"},documentPaste:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.documentPaste.d.ts"},editSessionIdentityProvider:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.editSessionIdentityProvider.d.ts"},editorHoverVerbosityLevel:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.editorHoverVerbosityLevel.d.ts"},editorInsets:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.editorInsets.d.ts"},embeddings:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.embeddings.d.ts"},extensionRuntime:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.extensionRuntime.d.ts"},extensionsAny:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.extensionsAny.d.ts"},externalUriOpener:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.externalUriOpener.d.ts"},fileComments:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.fileComments.d.ts"},fileSearchProvider:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.fileSearchProvider.d.ts"},fileSearchProviderNew:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.fileSearchProviderNew.d.ts"},findFiles2:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.findFiles2.d.ts"},findFiles2New:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.findFiles2New.d.ts"},findTextInFiles:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.findTextInFiles.d.ts"},findTextInFilesNew:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.findTextInFilesNew.d.ts"},fsChunks:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.fsChunks.d.ts"},idToken:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.idToken.d.ts"},inlineCompletionsAdditions:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.inlineCompletionsAdditions.d.ts"},inlineEdit:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.inlineEdit.d.ts"},interactive:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.interactive.d.ts"},interactiveWindow:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.interactiveWindow.d.ts"},ipc:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.ipc.d.ts"},languageModelSystem:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.languageModelSystem.d.ts"},languageStatusText:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.languageStatusText.d.ts"},lmTools:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.lmTools.d.ts",version:6},mappedEditsProvider:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.mappedEditsProvider.d.ts"},multiDocumentHighlightProvider:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.multiDocumentHighlightProvider.d.ts"},newSymbolNamesProvider:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.newSymbolNamesProvider.d.ts"},notebookCellExecution:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookCellExecution.d.ts"},notebookCellExecutionState:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookCellExecutionState.d.ts"},notebookControllerAffinityHidden:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookControllerAffinityHidden.d.ts"},notebookDeprecated:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookDeprecated.d.ts"},notebookExecution:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookExecution.d.ts"},notebookKernelSource:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookKernelSource.d.ts"},notebookLiveShare:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookLiveShare.d.ts"},notebookMessaging:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookMessaging.d.ts"},notebookMime:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookMime.d.ts"},notebookReplDocument:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookReplDocument.d.ts"},notebookVariableProvider:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookVariableProvider.d.ts"},portsAttributes:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.portsAttributes.d.ts"},profileContentHandlers:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.profileContentHandlers.d.ts"},quickDiffProvider:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.quickDiffProvider.d.ts"},quickInputButtonLocation:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.quickInputButtonLocation.d.ts"},quickPickItemTooltip:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.quickPickItemTooltip.d.ts"},quickPickSortByLabel:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.quickPickSortByLabel.d.ts"},resolvers:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.resolvers.d.ts"},scmActionButton:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.scmActionButton.d.ts"},scmHistoryProvider:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.scmHistoryProvider.d.ts"},scmMultiDiffEditor:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.scmMultiDiffEditor.d.ts"},scmSelectedProvider:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.scmSelectedProvider.d.ts"},scmTextDocument:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.scmTextDocument.d.ts"},scmValidation:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.scmValidation.d.ts"},shareProvider:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.shareProvider.d.ts"},showLocal:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.showLocal.d.ts"},speech:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.speech.d.ts"},tabInputMultiDiff:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.tabInputMultiDiff.d.ts"},tabInputTextMerge:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.tabInputTextMerge.d.ts"},taskPresentationGroup:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.taskPresentationGroup.d.ts"},telemetry:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.telemetry.d.ts"},terminalDataWriteEvent:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.terminalDataWriteEvent.d.ts"},terminalDimensions:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.terminalDimensions.d.ts"},terminalExecuteCommandEvent:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.terminalExecuteCommandEvent.d.ts"},terminalQuickFixProvider:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.terminalQuickFixProvider.d.ts"},terminalSelection:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.terminalSelection.d.ts"},testObserver:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.testObserver.d.ts"},testRelatedCode:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.testRelatedCode.d.ts"},textSearchCompleteNew:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.textSearchCompleteNew.d.ts"},textSearchProvider:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.textSearchProvider.d.ts"},textSearchProviderNew:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.textSearchProviderNew.d.ts"},timeline:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.timeline.d.ts"},tokenInformation:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.tokenInformation.d.ts"},treeViewActiveItem:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.treeViewActiveItem.d.ts"},treeViewMarkdownMessage:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.treeViewMarkdownMessage.d.ts"},treeViewReveal:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.treeViewReveal.d.ts"},tunnelFactory:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.tunnelFactory.d.ts"},tunnels:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.tunnels.d.ts"},workspaceTrust:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.workspaceTrust.d.ts"}},Ca=Object.freeze(yE);var Sae=ae("IV8InspectProfilingService"),TE;(t=>{function n(i){return!!(i.samples&&i.timeDeltas)}t.isValidProfile=n;function e(i,o="noAbsolutePaths"){for(let r of i.nodes)r.callFrame&&r.callFrame.url&&(eu(r.callFrame.url)||/^\w[\w\d+.-]*:\/\/\/?/.test(r.callFrame.url))&&(r.callFrame.url=ms(o,rl(r.callFrame.url)));return i}t.rewriteAbsolutePaths=e})(TE||={});var Pae=ae("remoteAuthorityResolverService");var Im=je.as(wi.JSONContribution);var bm=class n{constructor(e,t){this.added=e;this.removed=t}static _toSet(e){let t=new zs;for(let i=0,o=e.length;i<o;i++)t.add(e[i].description.identifier);return t}static compute(e,t){if(!e||!e.length)return new n(t,[]);if(!t||!t.length)return new n([],e);let i=this._toSet(e),o=this._toSet(t),r=t.filter(a=>!i.has(a.description.identifier)),s=e.filter(a=>!o.has(a.description.identifier));return new n(r,s)}},vm=class{name;defaultExtensionKind;_handler;_users;_delta;constructor(e,t){this.name=e,this.defaultExtensionKind=t,this._handler=null,this._users=null,this._delta=null}setHandler(e){if(this._handler!==null)throw new Error("Handler already set!");return this._handler=e,this._handle(),{dispose:()=>{this._handler=null}}}acceptUsers(e){this._delta=bm.compute(this._users,e),this._users=e,this._handle()}_handle(){if(!(this._handler===null||this._users===null||this._delta===null))try{this._handler(this._users,this._delta)}catch(e){lt(e)}}},IE={type:"string",enum:["ui","workspace"],enumDescriptions:[d("ui","UI extension kind. In a remote window, such extensions are enabled only when available on the local machine."),d("workspace","Workspace extension kind. In a remote window, such extensions are enabled only when available on the remote.")]},zy="vscode://schemas/vscode-extensions",ym={properties:{engines:{type:"object",description:d("vscode.extension.engines","Engine compatibility."),properties:{vscode:{type:"string",description:d("vscode.extension.engines.vscode","For VS Code extensions, specifies the VS Code version that the extension is compatible with. Cannot be *. For example: ^0.10.5 indicates compatibility with a minimum VS Code version of 0.10.5."),default:"^1.22.0"}}},publisher:{description:d("vscode.extension.publisher","The publisher of the VS Code extension."),type:"string"},displayName:{description:d("vscode.extension.displayName","The display name for the extension used in the VS Code gallery."),type:"string"},categories:{description:d("vscode.extension.categories","The categories used by the VS Code gallery to categorize the extension."),type:"array",uniqueItems:!0,items:{oneOf:[{type:"string",enum:Dg},{type:"string",const:"Languages",deprecationMessage:d("vscode.extension.category.languages.deprecated","Use 'Programming  Languages' instead")}]}},galleryBanner:{type:"object",description:d("vscode.extension.galleryBanner","Banner used in the VS Code marketplace."),properties:{color:{description:d("vscode.extension.galleryBanner.color","The banner color on the VS Code marketplace page header."),type:"string"},theme:{description:d("vscode.extension.galleryBanner.theme","The color theme for the font used in the banner."),type:"string",enum:["dark","light"]}}},contributes:{description:d("vscode.extension.contributes","All contributions of the VS Code extension represented by this package."),type:"object",properties:{},default:{}},preview:{type:"boolean",description:d("vscode.extension.preview","Sets the extension to be flagged as a Preview in the Marketplace.")},enableProposedApi:{type:"boolean",deprecationMessage:d("vscode.extension.enableProposedApi.deprecated","Use `enabledApiProposals` instead.")},enabledApiProposals:{markdownDescription:d("vscode.extension.enabledApiProposals","Enable API proposals to try them out. Only valid **during development**. Extensions **cannot be published** with this property. For more details visit: https://code.visualstudio.com/api/advanced-topics/using-proposed-api"),type:"array",uniqueItems:!0,items:{type:"string",enum:Object.keys(Ca).map(n=>n),markdownEnumDescriptions:Object.values(Ca).map(n=>n.proposal)}},api:{markdownDescription:d("vscode.extension.api","Describe the API provided by this extension. For more details visit: https://code.visualstudio.com/api/advanced-topics/remote-extensions#handling-dependencies-with-remote-extensions"),type:"string",enum:["none"],enumDescriptions:[d("vscode.extension.api.none","Give up entirely the ability to export any APIs. This allows other extensions that depend on this extension to run in a separate extension host process or in a remote machine.")]},activationEvents:{description:d("vscode.extension.activationEvents","Activation events for the VS Code extension."),type:"array",items:{type:"string",defaultSnippets:[{label:"onWebviewPanel",description:d("vscode.extension.activationEvents.onWebviewPanel","An activation event emmited when a webview is loaded of a certain viewType"),body:"onWebviewPanel:viewType"},{label:"onLanguage",description:d("vscode.extension.activationEvents.onLanguage","An activation event emitted whenever a file that resolves to the specified language gets opened."),body:"onLanguage:${1:languageId}"},{label:"onCommand",description:d("vscode.extension.activationEvents.onCommand","An activation event emitted whenever the specified command gets invoked."),body:"onCommand:${2:commandId}"},{label:"onDebug",description:d("vscode.extension.activationEvents.onDebug","An activation event emitted whenever a user is about to start debugging or about to setup debug configurations."),body:"onDebug"},{label:"onDebugInitialConfigurations",description:d("vscode.extension.activationEvents.onDebugInitialConfigurations",'An activation event emitted whenever a "launch.json" needs to be created (and all provideDebugConfigurations methods need to be called).'),body:"onDebugInitialConfigurations"},{label:"onDebugDynamicConfigurations",description:d("vscode.extension.activationEvents.onDebugDynamicConfigurations",'An activation event emitted whenever a list of all debug configurations needs to be created (and all provideDebugConfigurations methods for the "dynamic" scope need to be called).'),body:"onDebugDynamicConfigurations"},{label:"onDebugResolve",description:d("vscode.extension.activationEvents.onDebugResolve","An activation event emitted whenever a debug session with the specific type is about to be launched (and a corresponding resolveDebugConfiguration method needs to be called)."),body:"onDebugResolve:${6:type}"},{label:"onDebugAdapterProtocolTracker",description:d("vscode.extension.activationEvents.onDebugAdapterProtocolTracker","An activation event emitted whenever a debug session with the specific type is about to be launched and a debug protocol tracker might be needed."),body:"onDebugAdapterProtocolTracker:${6:type}"},{label:"workspaceContains",description:d("vscode.extension.activationEvents.workspaceContains","An activation event emitted whenever a folder is opened that contains at least a file matching the specified glob pattern."),body:"workspaceContains:${4:filePattern}"},{label:"onStartupFinished",description:d("vscode.extension.activationEvents.onStartupFinished","An activation event emitted after the start-up finished (after all `*` activated extensions have finished activating)."),body:"onStartupFinished"},{label:"onTaskType",description:d("vscode.extension.activationEvents.onTaskType","An activation event emitted whenever tasks of a certain type need to be listed or resolved."),body:"onTaskType:${1:taskType}"},{label:"onFileSystem",description:d("vscode.extension.activationEvents.onFileSystem","An activation event emitted whenever a file or folder is accessed with the given scheme."),body:"onFileSystem:${1:scheme}"},{label:"onEditSession",description:d("vscode.extension.activationEvents.onEditSession","An activation event emitted whenever an edit session is accessed with the given scheme."),body:"onEditSession:${1:scheme}"},{label:"onSearch",description:d("vscode.extension.activationEvents.onSearch","An activation event emitted whenever a search is started in the folder with the given scheme."),body:"onSearch:${7:scheme}"},{label:"onView",body:"onView:${5:viewId}",description:d("vscode.extension.activationEvents.onView","An activation event emitted whenever the specified view is expanded.")},{label:"onUri",body:"onUri",description:d("vscode.extension.activationEvents.onUri","An activation event emitted whenever a system-wide Uri directed towards this extension is open.")},{label:"onOpenExternalUri",body:"onOpenExternalUri",description:d("vscode.extension.activationEvents.onOpenExternalUri","An activation event emitted whenever a external uri (such as an http or https link) is being opened.")},{label:"onCustomEditor",body:"onCustomEditor:${9:viewType}",description:d("vscode.extension.activationEvents.onCustomEditor","An activation event emitted whenever the specified custom editor becomes visible.")},{label:"onNotebook",body:"onNotebook:${1:type}",description:d("vscode.extension.activationEvents.onNotebook","An activation event emitted whenever the specified notebook document is opened.")},{label:"onAuthenticationRequest",body:"onAuthenticationRequest:${11:authenticationProviderId}",description:d("vscode.extension.activationEvents.onAuthenticationRequest","An activation event emitted whenever sessions are requested from the specified authentication provider.")},{label:"onRenderer",description:d("vscode.extension.activationEvents.onRenderer","An activation event emitted whenever a notebook output renderer is used."),body:"onRenderer:${11:rendererId}"},{label:"onTerminalProfile",body:"onTerminalProfile:${1:terminalId}",description:d("vscode.extension.activationEvents.onTerminalProfile","An activation event emitted when a specific terminal profile is launched.")},{label:"onTerminalQuickFixRequest",body:"onTerminalQuickFixRequest:${1:quickFixId}",description:d("vscode.extension.activationEvents.onTerminalQuickFixRequest","An activation event emitted when a command matches the selector associated with this ID")},{label:"onWalkthrough",body:"onWalkthrough:${1:walkthroughID}",description:d("vscode.extension.activationEvents.onWalkthrough","An activation event emitted when a specified walkthrough is opened.")},{label:"onIssueReporterOpened",body:"onIssueReporterOpened",description:d("vscode.extension.activationEvents.onIssueReporterOpened","An activation event emitted when the issue reporter is opened.")},{label:"onChatParticipant",body:"onChatParticipant:${1:participantId}",description:d("vscode.extension.activationEvents.onChatParticipant","An activation event emitted when the specified chat participant is invoked.")},{label:"onLanguageModelTool",body:"onLanguageModelTool:${1:toolId}",description:d("vscode.extension.activationEvents.onLanguageModelTool","An activation event emitted when the specified language model tool is invoked.")},{label:"*",description:d("vscode.extension.activationEvents.star","An activation event emitted on VS Code startup. To ensure a great end user experience, please use this activation event in your extension only when no other activation events combination works in your use-case."),body:"*"}]}},badges:{type:"array",description:d("vscode.extension.badges","Array of badges to display in the sidebar of the Marketplace's extension page."),items:{type:"object",required:["url","href","description"],properties:{url:{type:"string",description:d("vscode.extension.badges.url","Badge image URL.")},href:{type:"string",description:d("vscode.extension.badges.href","Badge link.")},description:{type:"string",description:d("vscode.extension.badges.description","Badge description.")}}}},markdown:{type:"string",description:d("vscode.extension.markdown","Controls the Markdown rendering engine used in the Marketplace. Either github (default) or standard."),enum:["github","standard"],default:"github"},qna:{default:"marketplace",description:d("vscode.extension.qna","Controls the Q&A link in the Marketplace. Set to marketplace to enable the default Marketplace Q & A site. Set to a string to provide the URL of a custom Q & A site. Set to false to disable Q & A altogether."),anyOf:[{type:["string","boolean"],enum:["marketplace",!1]},{type:"string"}]},extensionDependencies:{description:d("vscode.extension.extensionDependencies","Dependencies to other extensions. The identifier of an extension is always ${publisher}.${name}. For example: vscode.csharp."),type:"array",uniqueItems:!0,items:{type:"string",pattern:yc}},extensionPack:{description:d("vscode.extension.contributes.extensionPack","A set of extensions that can be installed together. The identifier of an extension is always ${publisher}.${name}. For example: vscode.csharp."),type:"array",uniqueItems:!0,items:{type:"string",pattern:yc}},extensionKind:{description:d("extensionKind","Define the kind of an extension. `ui` extensions are installed and run on the local machine while `workspace` extensions run on the remote."),type:"array",items:IE,default:["workspace"],defaultSnippets:[{body:["ui"],description:d("extensionKind.ui","Define an extension which can run only on the local machine when connected to remote window.")},{body:["workspace"],description:d("extensionKind.workspace","Define an extension which can run only on the remote machine when connected remote window.")},{body:["ui","workspace"],description:d("extensionKind.ui-workspace","Define an extension which can run on either side, with a preference towards running on the local machine.")},{body:["workspace","ui"],description:d("extensionKind.workspace-ui","Define an extension which can run on either side, with a preference towards running on the remote machine.")},{body:[],description:d("extensionKind.empty","Define an extension which cannot run in a remote context, neither on the local, nor on the remote machine.")}]},capabilities:{description:d("vscode.extension.capabilities","Declare the set of supported capabilities by the extension."),type:"object",properties:{virtualWorkspaces:{description:d("vscode.extension.capabilities.virtualWorkspaces","Declares whether the extension should be enabled in virtual workspaces. A virtual workspace is a workspace which is not backed by any on-disk resources. When false, this extension will be automatically disabled in virtual workspaces. Default is true."),type:["boolean","object"],defaultSnippets:[{label:"limited",body:{supported:"${1:limited}",description:"${2}"}},{label:"false",body:{supported:!1,description:"${2}"}}],default:(!0).valueOf,properties:{supported:{markdownDescription:d("vscode.extension.capabilities.virtualWorkspaces.supported","Declares the level of support for virtual workspaces by the extension."),type:["string","boolean"],enum:["limited",!0,!1],enumDescriptions:[d("vscode.extension.capabilities.virtualWorkspaces.supported.limited","The extension will be enabled in virtual workspaces with some functionality disabled."),d("vscode.extension.capabilities.virtualWorkspaces.supported.true","The extension will be enabled in virtual workspaces with all functionality enabled."),d("vscode.extension.capabilities.virtualWorkspaces.supported.false","The extension will not be enabled in virtual workspaces.")]},description:{type:"string",markdownDescription:d("vscode.extension.capabilities.virtualWorkspaces.description","A description of how virtual workspaces affects the extensions behavior and why it is needed. This only applies when `supported` is not `true`.")}}},untrustedWorkspaces:{description:d("vscode.extension.capabilities.untrustedWorkspaces","Declares how the extension should be handled in untrusted workspaces."),type:"object",required:["supported"],defaultSnippets:[{body:{supported:"${1:limited}",description:"${2}"}}],properties:{supported:{markdownDescription:d("vscode.extension.capabilities.untrustedWorkspaces.supported","Declares the level of support for untrusted workspaces by the extension."),type:["string","boolean"],enum:["limited",!0,!1],enumDescriptions:[d("vscode.extension.capabilities.untrustedWorkspaces.supported.limited","The extension will be enabled in untrusted workspaces with some functionality disabled."),d("vscode.extension.capabilities.untrustedWorkspaces.supported.true","The extension will be enabled in untrusted workspaces with all functionality enabled."),d("vscode.extension.capabilities.untrustedWorkspaces.supported.false","The extension will not be enabled in untrusted workspaces.")]},restrictedConfigurations:{description:d("vscode.extension.capabilities.untrustedWorkspaces.restrictedConfigurations","A list of configuration keys contributed by the extension that should not use workspace values in untrusted workspaces."),type:"array",items:{type:"string"}},description:{type:"string",markdownDescription:d("vscode.extension.capabilities.untrustedWorkspaces.description","A description of how workspace trust affects the extensions behavior and why it is needed. This only applies when `supported` is not `true`.")}}}}},sponsor:{description:d("vscode.extension.contributes.sponsor","Specify the location from where users can sponsor your extension."),type:"object",defaultSnippets:[{body:{url:"${1:https:}"}}],properties:{url:{description:d("vscode.extension.contributes.sponsor.url","URL from where users can sponsor your extension. It must be a valid URL with a HTTP or HTTPS protocol. Example value: https://github.com/sponsors/nvaccess"),type:"string"}}},scripts:{type:"object",properties:{"vscode:prepublish":{description:d("vscode.extension.scripts.prepublish","Script executed before the package is published as a VS Code extension."),type:"string"},"vscode:uninstall":{description:d("vscode.extension.scripts.uninstall","Uninstall hook for VS Code extension. Script that gets executed when the extension is completely uninstalled from VS Code which is when VS Code is restarted (shutdown and start) after the extension is uninstalled. Only Node scripts are supported."),type:"string"}}},icon:{type:"string",description:d("vscode.extension.icon","The path to a 128x128 pixel icon.")},l10n:{type:"string",description:d({key:"vscode.extension.l10n",comment:['{Locked="bundle.l10n._locale_.json"}','{Locked="vscode.l10n API"}']},"The relative path to a folder containing localization (bundle.l10n.*.json) files. Must be specified if you are using the vscode.l10n API.")},pricing:{type:"string",markdownDescription:d("vscode.extension.pricing","The pricing information for the extension. Can be Free (default) or Trial. For more details visit: https://code.visualstudio.com/api/working-with-extensions/publishing-extension#extension-pricing-label"),enum:["Free","Trial"],default:"Free"}}},Tm=class{_extensionPoints=new Map;registerExtensionPoint(e){if(this._extensionPoints.has(e.extensionPoint))throw new Error("Duplicate extension point: "+e.extensionPoint);let t=new vm(e.extensionPoint,e.defaultExtensionKind);return this._extensionPoints.set(e.extensionPoint,t),e.activationEventsGenerator&&gm.register(e.extensionPoint,e.activationEventsGenerator),ym.properties.contributes.properties[e.extensionPoint]=e.jsonSchema,Im.registerSchema(zy,ym),t}getExtensionPoints(){return Array.from(this._extensionPoints.values())}},$y={ExtensionsRegistry:"ExtensionsRegistry"};je.add($y.ExtensionsRegistry,new Tm);var xle=je.as($y.ExtensionsRegistry);Im.registerSchema(zy,ym);Im.registerSchema(Iy,{properties:{extensionEnabledApiProposals:{description:d("product.extensionEnabledApiProposals","API proposals that the respective extensions can freely use."),type:"object",properties:{},additionalProperties:{anyOf:[{type:"array",uniqueItems:!0,items:{type:"string",enum:Object.keys(Ca),markdownEnumDescriptions:Object.values(Ca).map(n=>n.proposal)}}]}}}});var Qle=Object.freeze({identifier:new Je("nullExtensionDescription"),name:"Null Extension Description",version:"0.0.0",publisher:"vscode",engines:{vscode:""},extensionLocation:De.parse("void:location"),isBuiltin:!1,targetPlatform:"undefined",isUserBuiltin:!1,isUnderDevelopment:!1});var Gy=ae("extensionService");var xm=60,Em=xm*60,_a=Em*24,qy=_a*7,jy=_a*30,Yy=_a*365;function Sm(n,e,t,i){typeof n!="number"&&(n=n.getTime());let o=Math.round((new Date().getTime()-n)/1e3);if(o<-30)return d("date.fromNow.in","in {0}",Sm(new Date().getTime()+o*1e3,!1));if(!i&&o<30)return d("date.fromNow.now","now");let r;return o<xm?(r=o,e?r===1?t?d("date.fromNow.seconds.singular.ago.fullWord","{0} second ago",r):d("date.fromNow.seconds.singular.ago","{0} sec ago",r):t?d("date.fromNow.seconds.plural.ago.fullWord","{0} seconds ago",r):d("date.fromNow.seconds.plural.ago","{0} secs ago",r):r===1?t?d("date.fromNow.seconds.singular.fullWord","{0} second",r):d("date.fromNow.seconds.singular","{0} sec",r):t?d("date.fromNow.seconds.plural.fullWord","{0} seconds",r):d("date.fromNow.seconds.plural","{0} secs",r)):o<Em?(r=Math.floor(o/xm),e?r===1?t?d("date.fromNow.minutes.singular.ago.fullWord","{0} minute ago",r):d("date.fromNow.minutes.singular.ago","{0} min ago",r):t?d("date.fromNow.minutes.plural.ago.fullWord","{0} minutes ago",r):d("date.fromNow.minutes.plural.ago","{0} mins ago",r):r===1?t?d("date.fromNow.minutes.singular.fullWord","{0} minute",r):d("date.fromNow.minutes.singular","{0} min",r):t?d("date.fromNow.minutes.plural.fullWord","{0} minutes",r):d("date.fromNow.minutes.plural","{0} mins",r)):o<_a?(r=Math.floor(o/Em),e?r===1?t?d("date.fromNow.hours.singular.ago.fullWord","{0} hour ago",r):d("date.fromNow.hours.singular.ago","{0} hr ago",r):t?d("date.fromNow.hours.plural.ago.fullWord","{0} hours ago",r):d("date.fromNow.hours.plural.ago","{0} hrs ago",r):r===1?t?d("date.fromNow.hours.singular.fullWord","{0} hour",r):d("date.fromNow.hours.singular","{0} hr",r):t?d("date.fromNow.hours.plural.fullWord","{0} hours",r):d("date.fromNow.hours.plural","{0} hrs",r)):o<qy?(r=Math.floor(o/_a),e?r===1?d("date.fromNow.days.singular.ago","{0} day ago",r):d("date.fromNow.days.plural.ago","{0} days ago",r):r===1?d("date.fromNow.days.singular","{0} day",r):d("date.fromNow.days.plural","{0} days",r)):o<jy?(r=Math.floor(o/qy),e?r===1?t?d("date.fromNow.weeks.singular.ago.fullWord","{0} week ago",r):d("date.fromNow.weeks.singular.ago","{0} wk ago",r):t?d("date.fromNow.weeks.plural.ago.fullWord","{0} weeks ago",r):d("date.fromNow.weeks.plural.ago","{0} wks ago",r):r===1?t?d("date.fromNow.weeks.singular.fullWord","{0} week",r):d("date.fromNow.weeks.singular","{0} wk",r):t?d("date.fromNow.weeks.plural.fullWord","{0} weeks",r):d("date.fromNow.weeks.plural","{0} wks",r)):o<Yy?(r=Math.floor(o/jy),e?r===1?t?d("date.fromNow.months.singular.ago.fullWord","{0} month ago",r):d("date.fromNow.months.singular.ago","{0} mo ago",r):t?d("date.fromNow.months.plural.ago.fullWord","{0} months ago",r):d("date.fromNow.months.plural.ago","{0} mos ago",r):r===1?t?d("date.fromNow.months.singular.fullWord","{0} month",r):d("date.fromNow.months.singular","{0} mo",r):t?d("date.fromNow.months.plural.fullWord","{0} months",r):d("date.fromNow.months.plural","{0} mos",r)):(r=Math.floor(o/Yy),e?r===1?t?d("date.fromNow.years.singular.ago.fullWord","{0} year ago",r):d("date.fromNow.years.singular.ago","{0} yr ago",r):t?d("date.fromNow.years.plural.ago.fullWord","{0} years ago",r):d("date.fromNow.years.plural.ago","{0} yrs ago",r):r===1?t?d("date.fromNow.years.singular.fullWord","{0} year",r):d("date.fromNow.years.singular","{0} yr",r):t?d("date.fromNow.years.plural.fullWord","{0} years",r):d("date.fromNow.years.plural","{0} yrs",r))}var Xr=class extends J{constructor(t,i){super();this.extensionService=t;this.extensionFeaturesManagementService=i}static ID="runtimeStatus";type="markdown";shouldRender(t){let i=new Je(Gr(t.publisher,t.name));return this.extensionService.extensions.some(o=>Je.equals(o.identifier,i))?!!t.main||!!t.browser:!1}render(t){let i=new G,o=new Je(Gr(t.publisher,t.name)),r=i.add(new L);return i.add(this.extensionService.onDidChangeExtensionsStatus(s=>{s.some(a=>Je.equals(a,o))&&r.fire(this.getRuntimeStatusData(t))})),i.add(this.extensionFeaturesManagementService.onDidChangeAccessData(s=>r.fire(this.getRuntimeStatusData(t)))),{onDidChange:r.event,data:this.getRuntimeStatusData(t),dispose:()=>i.dispose()}}getRuntimeStatusData(t){let i=new Js,o=new Je(Gr(t.publisher,t.name)),r=this.extensionService.getExtensionsStatus()[o.value];if(this.extensionService.extensions.some(a=>Je.equals(a.identifier,o))){if(i.appendMarkdown(`### ${d("activation","Activation")}

`),r.activationTimes?r.activationTimes.activationReason.startup?i.appendMarkdown(`Activated on Startup: \`${r.activationTimes.activateCallTime}ms\``):i.appendMarkdown(`Activated by \`${r.activationTimes.activationReason.activationEvent}\` event: \`${r.activationTimes.activateCallTime}ms\``):i.appendMarkdown("Not yet activated"),r.runtimeErrors.length){i.appendMarkdown(`
 ### ${d("uncaught errors","Uncaught Errors ({0})",r.runtimeErrors.length)}
`);for(let a of r.runtimeErrors)i.appendMarkdown(`$(${ee.error.id})&nbsp;${Lc(a)}

`)}if(r.messages.length){i.appendMarkdown(`
 ### ${d("messaages","Messages ({0})",r.messages.length)}
`);for(let a of r.messages)i.appendMarkdown(`$(${(a.type===Gt.Error?ee.error:a.type===Gt.Warning?ee.warning:ee.info).id})&nbsp;${a.message}

`)}}let s=je.as(Qs.ExtensionFeaturesRegistry).getExtensionFeatures();for(let a of s){let l=this.extensionFeaturesManagementService.getAccessData(o,a.id);if(l){i.appendMarkdown(`
 ### ${a.label}

`);let c=l?.current?.status;c&&(c?.severity===Gt.Error&&i.appendMarkdown(`$(${am.id}) ${c.message}

`),c?.severity===Gt.Warning&&i.appendMarkdown(`$(${lm.id}) ${c.message}

`)),l?.totalCount&&(l.current&&(i.appendMarkdown(`${d("last request","Last Request: `{0}`",Sm(l.current.lastAccessed,!0,!0))}

`),i.appendMarkdown(`${d("requests count session","Requests (Session) : `{0}`",l.current.count)}

`)),i.appendMarkdown(`${d("requests count total","Requests (Overall): `{0}`",l.totalCount)}

`))}}return i}};Xr=de([fe(0,Gy),fe(1,Zl)],Xr);var wm={id:Xr.ID,label:d("runtime","Runtime Status"),access:{canToggle:!1},renderer:new Nl(Xr)},xc=class extends $d{constructor(t,i,o,r){super(o);this.manifest=t;this.feature=i;this.instantiationService=r;this.extensionId=new Je(Gr(t.publisher,t.name)),this.domNode=j("div.subcontent.feature-contributions"),this.create()}domNode;featureView=this._register(new fi);featureViewDimension;layoutParticipants=[];extensionId;layout(t,i){this.layoutParticipants.forEach(o=>o.layout(t,i))}create(){let t=this.getFeatures();if(t.length===0){se(j(".no-features"),this.domNode).textContent=d("noFeatures","No features contributed.");return}let i=this._register(new xr(this.domNode,{orientation:1,proportionalLayout:!0}));this.layoutParticipants.push({layout:(l,c)=>{i.el.style.height=`${l-14}px`,i.layout(c)}});let o=j(".features-list-container"),r=this._register(this.createFeaturesList(o));r.splice(0,r.length,t);let s=j(".feature-view-container");this._register(r.onDidChangeSelection(l=>{let c=l.elements[0];c&&this.showFeatureView(c,s)}));let a=this.feature?t.findIndex(l=>l.id===this.feature):0;r.setSelection([a===-1?0:a]),i.addView({onDidChange:N.None,element:o,minimumSize:100,maximumSize:Number.POSITIVE_INFINITY,layout:(l,c,p)=>{o.style.width=`${l}px`,r.layout(p,l)}},200,void 0,!0),i.addView({onDidChange:N.None,element:s,minimumSize:500,maximumSize:Number.POSITIVE_INFINITY,layout:(l,c,p)=>{s.style.width=`${l}px`,this.featureViewDimension={height:p,width:l},this.layoutFeatureView()}},Gl.Distribute,void 0,!0),i.style({separatorBorder:this.theme.getColor(Oy)})}createFeaturesList(t){let i=this.instantiationService.createInstance(ka,this.extensionId),o=new Dm;return this.instantiationService.createInstance($r,"ExtensionFeaturesList",se(t,j(".features-list-wrapper")),o,[i],{multipleSelectionSupport:!1,setRowLineHeight:!1,horizontalScrolling:!1,accessibilityProvider:{getAriaLabel(s){return s?.label??""},getWidgetAriaLabel(){return d("extension features list","Extension Features")}},openOnSingleClick:!0})}layoutFeatureView(){this.featureView.value?.layout(this.featureViewDimension?.height,this.featureViewDimension?.width)}showFeatureView(t,i){this.featureView.value?.feature.id!==t.id&&(nt(i),this.featureView.value=this.instantiationService.createInstance(La,this.extensionId,this.manifest,t),i.appendChild(this.featureView.value.domNode),this.layoutFeatureView())}getFeatures(){let t=je.as(Qs.ExtensionFeaturesRegistry).getExtensionFeatures().filter(o=>{let r=this.getRenderer(o),s=r?.shouldRender(this.manifest);return r?.dispose(),s}).sort((o,r)=>o.label.localeCompare(r.label)),i=this.getRenderer(wm);return i?.shouldRender(this.manifest)&&t.splice(0,0,wm),i?.dispose(),t}getRenderer(t){return t.renderer?this.instantiationService.createInstance(t.renderer):void 0}};xc=de([fe(2,Nb),fe(3,tn)],xc);var Dm=class{getHeight(){return 22}getTemplateId(){return"extensionFeatureDescriptor"}},ka=class{constructor(e,t){this.extensionId=e;this.extensionFeaturesManagementService=t}templateId="extensionFeatureDescriptor";renderTemplate(e){e.classList.add("extension-feature-list-item");let t=se(e,j(".extension-feature-label")),i=se(e,j(".extension-feature-disabled-label"));i.textContent=d("revoked","No Access");let o=se(e,j(".extension-feature-status"));return{label:t,disabledElement:i,statusElement:o,disposables:new G}}renderElement(e,t,i){i.disposables.clear(),i.label.textContent=e.label,i.disabledElement.style.display=e.id===wm.id||this.extensionFeaturesManagementService.isEnabled(this.extensionId,e.id)?"none":"inherit",i.disposables.add(this.extensionFeaturesManagementService.onDidChangeEnablement(({extension:s,featureId:a,enabled:l})=>{Je.equals(s,this.extensionId)&&a===e.id&&(i.disabledElement.style.display=l?"none":"inherit")}));let o=i.statusElement.className,r=()=>{let s=this.extensionFeaturesManagementService.getAccessData(this.extensionId,e.id);s?.current?.status?(i.statusElement.style.display="inherit",i.statusElement.className=`${o} ${dm.className(s.current.status.severity)}`):i.statusElement.style.display="none"};r(),i.disposables.add(this.extensionFeaturesManagementService.onDidChangeAccessData(({extension:s,featureId:a})=>{Je.equals(s,this.extensionId)&&a===e.id&&r()}))}disposeElement(e,t,i,o){i.disposables.dispose()}disposeTemplate(e){e.disposables.dispose()}};ka=de([fe(1,Zl)],ka);var La=class extends J{constructor(t,i,o,r,s,a,l){super();this.extensionId=t;this.manifest=i;this.feature=o;this.openerService=r;this.instantiationService=s;this.extensionFeaturesManagementService=a;this.dialogService=l;this.domNode=j(".extension-feature-content"),this.create(this.domNode)}domNode;layoutParticipants=[];create(t){let i=se(t,j(".feature-header")),o=se(i,j(".feature-title"));if(o.textContent=this.feature.label,this.feature.access.canToggle){let p=se(i,j(".feature-actions")),h=new ha(p,uy);this.updateButtonLabel(h),this._register(this.extensionFeaturesManagementService.onDidChangeEnablement(({extension:f,featureId:T})=>{Je.equals(f,this.extensionId)&&T===this.feature.id&&this.updateButtonLabel(h)})),this._register(h.onDidClick(async()=>{let f=this.extensionFeaturesManagementService.isEnabled(this.extensionId,this.feature.id);(await this.dialogService.confirm({title:d("accessExtensionFeature","Enable '{0}' Feature",this.feature.label),message:f?d("disableAccessExtensionFeatureMessage","Would you like to revoke '{0}' extension to access '{1}' feature?",this.manifest.displayName??this.extensionId.value,this.feature.label):d("enableAccessExtensionFeatureMessage","Would you like to allow '{0}' extension to access '{1}' feature?",this.manifest.displayName??this.extensionId.value,this.feature.label),custom:!0,primaryButton:f?d("revoke","Revoke Access"):d("grant","Allow Access"),cancelButton:d("cancel","Cancel")})).confirmed&&this.extensionFeaturesManagementService.setEnablement(this.extensionId,this.feature.id,!f)}))}let r=se(t,j(".feature-body")),s=j(".feature-body-content"),a=this._register(new Fo(s,{}));if(se(r,a.getDomNode()),this.layoutParticipants.push({layout:()=>a.scanDomNode()}),a.scanDomNode(),this.feature.description){let p=se(s,j(".feature-description"));p.textContent=this.feature.description}let l=this.extensionFeaturesManagementService.getAccessData(this.extensionId,this.feature.id);l?.current?.status&&se(s,j(".feature-status",void 0,j(`span${Te.asCSSSelector(l.current.status.severity===Gt.Error?am:l.current.status.severity===Gt.Warning?lm:Ky)}`,void 0),j("span",void 0,l.current.status.message)));let c=se(s,j(".feature-content"));if(this.feature.renderer){let p=this.instantiationService.createInstance(this.feature.renderer);p.type==="table"?this.renderTableData(c,p):p.type==="markdown"?this.renderMarkdownData(c,p):p.type==="markdown+table"&&this.renderMarkdownAndTableData(c,p)}}updateButtonLabel(t){t.label=this.extensionFeaturesManagementService.isEnabled(this.extensionId,this.feature.id)?d("revoke","Revoke Access"):d("enable","Allow Access")}renderTableData(t,i){let o=this._register(i.render(this.manifest)),r=this._register(new fi);o.onDidChange&&this._register(o.onDidChange(s=>{nt(t),r.value=this.renderTable(s,t)})),r.value=this.renderTable(o.data,t)}renderTable(t,i){let o=new G;return se(i,j("table",void 0,j("tr",void 0,...t.headers.map(r=>j("th",void 0,r))),...t.rows.map(r=>j("tr",void 0,...r.map(s=>{if(typeof s=="string")return j("td",void 0,s);let a=Array.isArray(s)?s:[s];return j("td",void 0,...a.map(l=>{let c=[];if(Po(s)){let p=j("",void 0);this.renderMarkdown(s,p),c.push(p)}else if(l instanceof hl){let p=j("");o.add(new zd(p,Bi,cy)).set(l),c.push(p)}else l instanceof D&&(c.push(j("span",{class:"colorBox",style:"background-color: "+D.Format.CSS.format(l)},"")),c.push(j("code",void 0,D.Format.CSS.formatHex(l))));return c}).flat())}))))),o}renderMarkdownAndTableData(t,i){let o=this._register(i.render(this.manifest));o.onDidChange&&this._register(o.onDidChange(r=>{nt(t),this.renderMarkdownAndTable(r,t)})),this.renderMarkdownAndTable(o.data,t)}renderMarkdownData(t,i){t.classList.add("markdown");let o=this._register(i.render(this.manifest));o.onDidChange&&this._register(o.onDidChange(r=>{nt(t),this.renderMarkdown(r,t)})),this.renderMarkdown(o.data,t)}renderMarkdown(t,i){let{element:o,dispose:r}=oa({value:t.value,isTrusted:t.isTrusted,supportThemeIcons:!0},{actionHandler:{callback:s=>this.openerService.open(s,{allowCommands:!!t.isTrusted}).catch(lt),disposables:this._store}});this._register(ce(r)),se(i,o)}renderMarkdownAndTable(t,i){for(let o of t)if(Po(o)){let r=j("",void 0);this.renderMarkdown(o,r),se(i,r)}else{let r=se(i,j("table"));this.renderTable(o,r)}}layout(t,i){this.layoutParticipants.forEach(o=>o.layout(t,i))}};La=de([fe(3,xy),fe(4,tn),fe(5,Zl),fe(6,Uy)],La);export{xc as ExtensionFeaturesTab};
