{
  "version": 3,
  "sources": ["../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/contrib/extensions/browser/extensionsViewlet.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport './media/extensionsViewlet.css';\nimport { localize, localize2 } from '../../../../nls.js';\nimport { timeout, Delayer, Promises } from '../../../../base/common/async.js';\nimport { isCancellationError } from '../../../../base/common/errors.js';\nimport { createErrorWithActions } from '../../../../base/common/errorMessage.js';\nimport { IWorkbenchContribution } from '../../../common/contributions.js';\nimport { Disposable, DisposableStore, MutableDisposable } from '../../../../base/common/lifecycle.js';\nimport { Event } from '../../../../base/common/event.js';\nimport { Action } from '../../../../base/common/actions.js';\nimport { append, $, Dimension, hide, show, DragAndDropObserver, trackFocus, addDisposableListener, EventType, clearNode } from '../../../../base/browser/dom.js';\nimport { ITelemetryService } from '../../../../platform/telemetry/common/telemetry.js';\nimport { IInstantiationService, ServicesAccessor } from '../../../../platform/instantiation/common/instantiation.js';\nimport { IExtensionService } from '../../../services/extensions/common/extensions.js';\nimport { IExtensionsWorkbenchService, IExtensionsViewPaneContainer, VIEWLET_ID, CloseExtensionDetailsOnViewChangeKey, INSTALL_EXTENSION_FROM_VSIX_COMMAND_ID, WORKSPACE_RECOMMENDATIONS_VIEW_ID, AutoCheckUpdatesConfigurationKey, OUTDATED_EXTENSIONS_VIEW_ID, CONTEXT_HAS_GALLERY, extensionsSearchActionsMenu, AutoRestartConfigurationKey } from '../common/extensions.js';\nimport { InstallLocalExtensionsInRemoteAction, InstallRemoteExtensionsInLocalAction } from './extensionsActions.js';\nimport { IExtensionManagementService } from '../../../../platform/extensionManagement/common/extensionManagement.js';\nimport { IWorkbenchExtensionEnablementService, IExtensionManagementServerService, IExtensionManagementServer } from '../../../services/extensionManagement/common/extensionManagement.js';\nimport { ExtensionsInput } from '../common/extensionsInput.js';\nimport { ExtensionsListView, EnabledExtensionsView, DisabledExtensionsView, RecommendedExtensionsView, WorkspaceRecommendedExtensionsView, ServerInstalledExtensionsView, DefaultRecommendedExtensionsView, UntrustedWorkspaceUnsupportedExtensionsView, UntrustedWorkspacePartiallySupportedExtensionsView, VirtualWorkspaceUnsupportedExtensionsView, VirtualWorkspacePartiallySupportedExtensionsView, DefaultPopularExtensionsView, DeprecatedExtensionsView, SearchMarketplaceExtensionsView, RecentlyUpdatedExtensionsView, OutdatedExtensionsView, StaticQueryExtensionsView, NONE_CATEGORY } from './extensionsViews.js';\nimport { IProgressService, ProgressLocation } from '../../../../platform/progress/common/progress.js';\nimport { IEditorGroupsService } from '../../../services/editor/common/editorGroupsService.js';\nimport Severity from '../../../../base/common/severity.js';\nimport { IActivityService, IBadge, NumberBadge, WarningBadge } from '../../../services/activity/common/activity.js';\nimport { IThemeService } from '../../../../platform/theme/common/themeService.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { IViewsRegistry, IViewDescriptor, Extensions, ViewContainer, IViewDescriptorService, IAddedViewDescriptorRef, ViewContainerLocation } from '../../../common/views.js';\nimport { IStorageService, StorageScope, StorageTarget } from '../../../../platform/storage/common/storage.js';\nimport { IWorkspaceContextService } from '../../../../platform/workspace/common/workspace.js';\nimport { IContextKeyService, ContextKeyExpr, RawContextKey, IContextKey } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IContextMenuService } from '../../../../platform/contextview/browser/contextView.js';\nimport { ILogService } from '../../../../platform/log/common/log.js';\nimport { INotificationService, NotificationPriority } from '../../../../platform/notification/common/notification.js';\nimport { IHostService } from '../../../services/host/browser/host.js';\nimport { IWorkbenchLayoutService } from '../../../services/layout/browser/layoutService.js';\nimport { ViewPaneContainer } from '../../../browser/parts/views/viewPaneContainer.js';\nimport { ViewPane } from '../../../browser/parts/views/viewPane.js';\nimport { Query } from '../common/extensionQuery.js';\nimport { SuggestEnabledInput } from '../../codeEditor/browser/suggestEnabledInput/suggestEnabledInput.js';\nimport { alert } from '../../../../base/browser/ui/aria/aria.js';\nimport { EXTENSION_CATEGORIES, ExtensionType } from '../../../../platform/extensions/common/extensions.js';\nimport { Registry } from '../../../../platform/registry/common/platform.js';\nimport { ILabelService } from '../../../../platform/label/common/label.js';\nimport { MementoObject } from '../../../common/memento.js';\nimport { SyncDescriptor } from '../../../../platform/instantiation/common/descriptors.js';\nimport { IPreferencesService } from '../../../services/preferences/common/preferences.js';\nimport { SIDE_BAR_DRAG_AND_DROP_BACKGROUND } from '../../../common/theme.js';\nimport { IWorkbenchEnvironmentService } from '../../../services/environment/common/environmentService.js';\nimport { VirtualWorkspaceContext, WorkbenchStateContext } from '../../../common/contextkeys.js';\nimport { ICommandService } from '../../../../platform/commands/common/commands.js';\nimport { installLocalInRemoteIcon } from './extensionsIcons.js';\nimport { registerAction2, Action2, MenuId } from '../../../../platform/actions/common/actions.js';\nimport { IPaneComposite } from '../../../common/panecomposite.js';\nimport { IPaneCompositePartService } from '../../../services/panecomposite/browser/panecomposite.js';\nimport { coalesce } from '../../../../base/common/arrays.js';\nimport { extractEditorsAndFilesDropData } from '../../../../platform/dnd/browser/dnd.js';\nimport { extname } from '../../../../base/common/resources.js';\nimport { areSameExtensions } from '../../../../platform/extensionManagement/common/extensionManagementUtil.js';\nimport { ILocalizedString } from '../../../../platform/action/common/action.js';\nimport { registerNavigableContainer } from '../../../browser/actions/widgetNavigationCommands.js';\nimport { MenuWorkbenchToolBar } from '../../../../platform/actions/browser/toolbar.js';\nimport { createActionViewItem } from '../../../../platform/actions/browser/menuEntryActionViewItem.js';\nimport { SeverityIcon } from '../../../../platform/severityIcon/browser/severityIcon.js';\nimport { StandardKeyboardEvent } from '../../../../base/browser/keyboardEvent.js';\nimport { KeyCode } from '../../../../base/common/keyCodes.js';\n\nexport const DefaultViewsContext = new RawContextKey<boolean>('defaultExtensionViews', true);\nexport const ExtensionsSortByContext = new RawContextKey<string>('extensionsSortByValue', '');\nexport const SearchMarketplaceExtensionsContext = new RawContextKey<boolean>('searchMarketplaceExtensions', false);\nexport const SearchHasTextContext = new RawContextKey<boolean>('extensionSearchHasText', false);\nconst InstalledExtensionsContext = new RawContextKey<boolean>('installedExtensions', false);\nconst SearchInstalledExtensionsContext = new RawContextKey<boolean>('searchInstalledExtensions', false);\nconst SearchRecentlyUpdatedExtensionsContext = new RawContextKey<boolean>('searchRecentlyUpdatedExtensions', false);\nconst SearchExtensionUpdatesContext = new RawContextKey<boolean>('searchExtensionUpdates', false);\nconst SearchOutdatedExtensionsContext = new RawContextKey<boolean>('searchOutdatedExtensions', false);\nconst SearchEnabledExtensionsContext = new RawContextKey<boolean>('searchEnabledExtensions', false);\nconst SearchDisabledExtensionsContext = new RawContextKey<boolean>('searchDisabledExtensions', false);\nconst HasInstalledExtensionsContext = new RawContextKey<boolean>('hasInstalledExtensions', true);\nexport const BuiltInExtensionsContext = new RawContextKey<boolean>('builtInExtensions', false);\nconst SearchBuiltInExtensionsContext = new RawContextKey<boolean>('searchBuiltInExtensions', false);\nconst SearchUnsupportedWorkspaceExtensionsContext = new RawContextKey<boolean>('searchUnsupportedWorkspaceExtensions', false);\nconst SearchDeprecatedExtensionsContext = new RawContextKey<boolean>('searchDeprecatedExtensions', false);\nexport const RecommendedExtensionsContext = new RawContextKey<boolean>('recommendedExtensions', false);\nconst SortByUpdateDateContext = new RawContextKey<boolean>('sortByUpdateDate', false);\n\nconst REMOTE_CATEGORY: ILocalizedString = localize2({ key: 'remote', comment: ['Remote as in remote machine'] }, \"Remote\");\n\nexport class ExtensionsViewletViewsContribution extends Disposable implements IWorkbenchContribution {\n\n\tprivate readonly container: ViewContainer;\n\n\tconstructor(\n\t\t@IExtensionManagementServerService private readonly extensionManagementServerService: IExtensionManagementServerService,\n\t\t@ILabelService private readonly labelService: ILabelService,\n\t\t@IViewDescriptorService viewDescriptorService: IViewDescriptorService,\n\t\t@IContextKeyService private readonly contextKeyService: IContextKeyService\n\t) {\n\t\tsuper();\n\n\t\tthis.container = viewDescriptorService.getViewContainerById(VIEWLET_ID)!;\n\t\tthis.registerViews();\n\t}\n\n\tprivate registerViews(): void {\n\t\tconst viewDescriptors: IViewDescriptor[] = [];\n\n\t\t/* Default views */\n\t\tviewDescriptors.push(...this.createDefaultExtensionsViewDescriptors());\n\n\t\t/* Search views */\n\t\tviewDescriptors.push(...this.createSearchExtensionsViewDescriptors());\n\n\t\t/* Recommendations views */\n\t\tviewDescriptors.push(...this.createRecommendedExtensionsViewDescriptors());\n\n\t\t/* Built-in extensions views */\n\t\tviewDescriptors.push(...this.createBuiltinExtensionsViewDescriptors());\n\n\t\t/* Trust Required extensions views */\n\t\tviewDescriptors.push(...this.createUnsupportedWorkspaceExtensionsViewDescriptors());\n\n\t\t/* Other Local Filtered extensions views */\n\t\tviewDescriptors.push(...this.createOtherLocalFilteredExtensionsViewDescriptors());\n\n\t\tRegistry.as<IViewsRegistry>(Extensions.ViewsRegistry).registerViews(viewDescriptors, this.container);\n\t}\n\n\tprivate createDefaultExtensionsViewDescriptors(): IViewDescriptor[] {\n\t\tconst viewDescriptors: IViewDescriptor[] = [];\n\n\t\t/*\n\t\t * Default installed extensions views - Shows all user installed extensions.\n\t\t */\n\t\tconst servers: IExtensionManagementServer[] = [];\n\t\tif (this.extensionManagementServerService.localExtensionManagementServer) {\n\t\t\tservers.push(this.extensionManagementServerService.localExtensionManagementServer);\n\t\t}\n\t\tif (this.extensionManagementServerService.remoteExtensionManagementServer) {\n\t\t\tservers.push(this.extensionManagementServerService.remoteExtensionManagementServer);\n\t\t}\n\t\tif (this.extensionManagementServerService.webExtensionManagementServer) {\n\t\t\tservers.push(this.extensionManagementServerService.webExtensionManagementServer);\n\t\t}\n\t\tconst getViewName = (viewTitle: string, server: IExtensionManagementServer): string => {\n\t\t\treturn servers.length > 1 ? `${server.label} - ${viewTitle}` : viewTitle;\n\t\t};\n\t\tlet installedWebExtensionsContextChangeEvent = Event.None;\n\t\tif (this.extensionManagementServerService.webExtensionManagementServer && this.extensionManagementServerService.remoteExtensionManagementServer) {\n\t\t\tconst interestingContextKeys = new Set();\n\t\t\tinterestingContextKeys.add('hasInstalledWebExtensions');\n\t\t\tinstalledWebExtensionsContextChangeEvent = Event.filter(this.contextKeyService.onDidChangeContext, e => e.affectsSome(interestingContextKeys));\n\t\t}\n\t\tconst serverLabelChangeEvent = Event.any(this.labelService.onDidChangeFormatters, installedWebExtensionsContextChangeEvent);\n\t\tfor (const server of servers) {\n\t\t\tconst getInstalledViewName = (): string => getViewName(localize('installed', \"Installed\"), server);\n\t\t\tconst onDidChangeTitle = Event.map<void, string>(serverLabelChangeEvent, () => getInstalledViewName());\n\t\t\tconst id = servers.length > 1 ? `workbench.views.extensions.${server.id}.installed` : `workbench.views.extensions.installed`;\n\t\t\t/* Installed extensions view */\n\t\t\tviewDescriptors.push({\n\t\t\t\tid,\n\t\t\t\tget name() {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tvalue: getInstalledViewName(),\n\t\t\t\t\t\toriginal: getViewName('Installed', server)\n\t\t\t\t\t};\n\t\t\t\t},\n\t\t\t\tweight: 100,\n\t\t\t\torder: 1,\n\t\t\t\twhen: ContextKeyExpr.and(DefaultViewsContext),\n\t\t\t\tctorDescriptor: new SyncDescriptor(ServerInstalledExtensionsView, [{ server, flexibleHeight: true, onDidChangeTitle }]),\n\t\t\t\t/* Installed extensions views shall not be allowed to hidden when there are more than one server */\n\t\t\t\tcanToggleVisibility: servers.length === 1\n\t\t\t});\n\n\t\t\tif (server === this.extensionManagementServerService.remoteExtensionManagementServer && this.extensionManagementServerService.localExtensionManagementServer) {\n\t\t\t\tthis._register(registerAction2(class InstallLocalExtensionsInRemoteAction2 extends Action2 {\n\t\t\t\t\tconstructor() {\n\t\t\t\t\t\tsuper({\n\t\t\t\t\t\t\tid: 'workbench.extensions.installLocalExtensions',\n\t\t\t\t\t\t\tget title() {\n\t\t\t\t\t\t\t\treturn localize2('select and install local extensions', \"Install Local Extensions in '{0}'...\", server.label);\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcategory: REMOTE_CATEGORY,\n\t\t\t\t\t\t\ticon: installLocalInRemoteIcon,\n\t\t\t\t\t\t\tf1: true,\n\t\t\t\t\t\t\tmenu: {\n\t\t\t\t\t\t\t\tid: MenuId.ViewTitle,\n\t\t\t\t\t\t\t\twhen: ContextKeyExpr.equals('view', id),\n\t\t\t\t\t\t\t\tgroup: 'navigation',\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\trun(accessor: ServicesAccessor): Promise<void> {\n\t\t\t\t\t\treturn accessor.get(IInstantiationService).createInstance(InstallLocalExtensionsInRemoteAction).run();\n\t\t\t\t\t}\n\t\t\t\t}));\n\t\t\t}\n\t\t}\n\n\t\tif (this.extensionManagementServerService.localExtensionManagementServer && this.extensionManagementServerService.remoteExtensionManagementServer) {\n\t\t\tthis._register(registerAction2(class InstallRemoteExtensionsInLocalAction2 extends Action2 {\n\t\t\t\tconstructor() {\n\t\t\t\t\tsuper({\n\t\t\t\t\t\tid: 'workbench.extensions.actions.installLocalExtensionsInRemote',\n\t\t\t\t\t\ttitle: localize2('install remote in local', 'Install Remote Extensions Locally...'),\n\t\t\t\t\t\tcategory: REMOTE_CATEGORY,\n\t\t\t\t\t\tf1: true\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\trun(accessor: ServicesAccessor): Promise<void> {\n\t\t\t\t\treturn accessor.get(IInstantiationService).createInstance(InstallRemoteExtensionsInLocalAction, 'workbench.extensions.actions.installLocalExtensionsInRemote').run();\n\t\t\t\t}\n\t\t\t}));\n\t\t}\n\n\t\t/*\n\t\t * Default popular extensions view\n\t\t * Separate view for popular extensions required as we need to show popular and recommended sections\n\t\t * in the default view when there is no search text, and user has no installed extensions.\n\t\t */\n\t\tviewDescriptors.push({\n\t\t\tid: 'workbench.views.extensions.popular',\n\t\t\tname: localize2('popularExtensions', \"Popular\"),\n\t\t\tctorDescriptor: new SyncDescriptor(DefaultPopularExtensionsView, [{ hideBadge: true }]),\n\t\t\twhen: ContextKeyExpr.and(DefaultViewsContext, ContextKeyExpr.not('hasInstalledExtensions'), CONTEXT_HAS_GALLERY),\n\t\t\tweight: 60,\n\t\t\torder: 2,\n\t\t\tcanToggleVisibility: false\n\t\t});\n\n\t\t/*\n\t\t * Default recommended extensions view\n\t\t * When user has installed extensions, this is shown along with the views for enabled & disabled extensions\n\t\t * When user has no installed extensions, this is shown along with the view for popular extensions\n\t\t */\n\t\tviewDescriptors.push({\n\t\t\tid: 'extensions.recommendedList',\n\t\t\tname: localize2('recommendedExtensions', \"Recommended\"),\n\t\t\tctorDescriptor: new SyncDescriptor(DefaultRecommendedExtensionsView, [{ flexibleHeight: true }]),\n\t\t\twhen: ContextKeyExpr.and(DefaultViewsContext, SortByUpdateDateContext.negate(), ContextKeyExpr.not('config.extensions.showRecommendationsOnlyOnDemand'), CONTEXT_HAS_GALLERY),\n\t\t\tweight: 40,\n\t\t\torder: 3,\n\t\t\tcanToggleVisibility: true\n\t\t});\n\n\t\t/* Installed views shall be default in multi server window  */\n\t\tif (servers.length === 1) {\n\t\t\t/*\n\t\t\t * Default enabled extensions view - Shows all user installed enabled extensions.\n\t\t\t * Hidden by default\n\t\t\t */\n\t\t\tviewDescriptors.push({\n\t\t\t\tid: 'workbench.views.extensions.enabled',\n\t\t\t\tname: localize2('enabledExtensions', \"Enabled\"),\n\t\t\t\tctorDescriptor: new SyncDescriptor(EnabledExtensionsView, [{}]),\n\t\t\t\twhen: ContextKeyExpr.and(DefaultViewsContext, ContextKeyExpr.has('hasInstalledExtensions')),\n\t\t\t\thideByDefault: true,\n\t\t\t\tweight: 40,\n\t\t\t\torder: 4,\n\t\t\t\tcanToggleVisibility: true\n\t\t\t});\n\n\t\t\t/*\n\t\t\t * Default disabled extensions view - Shows all disabled extensions.\n\t\t\t * Hidden by default\n\t\t\t */\n\t\t\tviewDescriptors.push({\n\t\t\t\tid: 'workbench.views.extensions.disabled',\n\t\t\t\tname: localize2('disabledExtensions', \"Disabled\"),\n\t\t\t\tctorDescriptor: new SyncDescriptor(DisabledExtensionsView, [{}]),\n\t\t\t\twhen: ContextKeyExpr.and(DefaultViewsContext, ContextKeyExpr.has('hasInstalledExtensions')),\n\t\t\t\thideByDefault: true,\n\t\t\t\tweight: 10,\n\t\t\t\torder: 5,\n\t\t\t\tcanToggleVisibility: true\n\t\t\t});\n\n\t\t}\n\n\t\treturn viewDescriptors;\n\t}\n\n\tprivate createSearchExtensionsViewDescriptors(): IViewDescriptor[] {\n\t\tconst viewDescriptors: IViewDescriptor[] = [];\n\n\t\t/*\n\t\t * View used for searching Marketplace\n\t\t */\n\t\tviewDescriptors.push({\n\t\t\tid: 'workbench.views.extensions.marketplace',\n\t\t\tname: localize2('marketPlace', \"Marketplace\"),\n\t\t\tctorDescriptor: new SyncDescriptor(SearchMarketplaceExtensionsView, [{}]),\n\t\t\twhen: ContextKeyExpr.and(ContextKeyExpr.has('searchMarketplaceExtensions')),\n\t\t});\n\n\t\t/*\n\t\t * View used for searching all installed extensions\n\t\t */\n\t\tviewDescriptors.push({\n\t\t\tid: 'workbench.views.extensions.searchInstalled',\n\t\t\tname: localize2('installed', \"Installed\"),\n\t\t\tctorDescriptor: new SyncDescriptor(ExtensionsListView, [{}]),\n\t\t\twhen: ContextKeyExpr.or(ContextKeyExpr.has('searchInstalledExtensions'), ContextKeyExpr.has('installedExtensions')),\n\t\t});\n\n\t\t/*\n\t\t * View used for searching recently updated extensions\n\t\t */\n\t\tviewDescriptors.push({\n\t\t\tid: 'workbench.views.extensions.searchRecentlyUpdated',\n\t\t\tname: localize2('recently updated', \"Recently Updated\"),\n\t\t\tctorDescriptor: new SyncDescriptor(RecentlyUpdatedExtensionsView, [{}]),\n\t\t\twhen: ContextKeyExpr.or(SearchExtensionUpdatesContext, ContextKeyExpr.has('searchRecentlyUpdatedExtensions')),\n\t\t\torder: 2,\n\t\t});\n\n\t\t/*\n\t\t * View used for searching enabled extensions\n\t\t */\n\t\tviewDescriptors.push({\n\t\t\tid: 'workbench.views.extensions.searchEnabled',\n\t\t\tname: localize2('enabled', \"Enabled\"),\n\t\t\tctorDescriptor: new SyncDescriptor(ExtensionsListView, [{}]),\n\t\t\twhen: ContextKeyExpr.and(ContextKeyExpr.has('searchEnabledExtensions')),\n\t\t});\n\n\t\t/*\n\t\t * View used for searching disabled extensions\n\t\t */\n\t\tviewDescriptors.push({\n\t\t\tid: 'workbench.views.extensions.searchDisabled',\n\t\t\tname: localize2('disabled', \"Disabled\"),\n\t\t\tctorDescriptor: new SyncDescriptor(ExtensionsListView, [{}]),\n\t\t\twhen: ContextKeyExpr.and(ContextKeyExpr.has('searchDisabledExtensions')),\n\t\t});\n\n\t\t/*\n\t\t * View used for searching outdated extensions\n\t\t */\n\t\tviewDescriptors.push({\n\t\t\tid: OUTDATED_EXTENSIONS_VIEW_ID,\n\t\t\tname: localize2('availableUpdates', \"Available Updates\"),\n\t\t\tctorDescriptor: new SyncDescriptor(OutdatedExtensionsView, [{}]),\n\t\t\twhen: ContextKeyExpr.or(SearchExtensionUpdatesContext, ContextKeyExpr.has('searchOutdatedExtensions')),\n\t\t\torder: 1,\n\t\t});\n\n\t\t/*\n\t\t * View used for searching builtin extensions\n\t\t */\n\t\tviewDescriptors.push({\n\t\t\tid: 'workbench.views.extensions.searchBuiltin',\n\t\t\tname: localize2('builtin', \"Builtin\"),\n\t\t\tctorDescriptor: new SyncDescriptor(ExtensionsListView, [{}]),\n\t\t\twhen: ContextKeyExpr.and(ContextKeyExpr.has('searchBuiltInExtensions')),\n\t\t});\n\n\t\t/*\n\t\t * View used for searching workspace unsupported extensions\n\t\t */\n\t\tviewDescriptors.push({\n\t\t\tid: 'workbench.views.extensions.searchWorkspaceUnsupported',\n\t\t\tname: localize2('workspaceUnsupported', \"Workspace Unsupported\"),\n\t\t\tctorDescriptor: new SyncDescriptor(ExtensionsListView, [{}]),\n\t\t\twhen: ContextKeyExpr.and(ContextKeyExpr.has('searchWorkspaceUnsupportedExtensions')),\n\t\t});\n\n\t\treturn viewDescriptors;\n\t}\n\n\tprivate createRecommendedExtensionsViewDescriptors(): IViewDescriptor[] {\n\t\tconst viewDescriptors: IViewDescriptor[] = [];\n\n\t\tviewDescriptors.push({\n\t\t\tid: WORKSPACE_RECOMMENDATIONS_VIEW_ID,\n\t\t\tname: localize2('workspaceRecommendedExtensions', \"Workspace Recommendations\"),\n\t\t\tctorDescriptor: new SyncDescriptor(WorkspaceRecommendedExtensionsView, [{}]),\n\t\t\twhen: ContextKeyExpr.and(ContextKeyExpr.has('recommendedExtensions'), WorkbenchStateContext.notEqualsTo('empty')),\n\t\t\torder: 1\n\t\t});\n\n\t\tviewDescriptors.push({\n\t\t\tid: 'workbench.views.extensions.otherRecommendations',\n\t\t\tname: localize2('otherRecommendedExtensions', \"Other Recommendations\"),\n\t\t\tctorDescriptor: new SyncDescriptor(RecommendedExtensionsView, [{}]),\n\t\t\twhen: ContextKeyExpr.has('recommendedExtensions'),\n\t\t\torder: 2\n\t\t});\n\n\t\treturn viewDescriptors;\n\t}\n\n\tprivate createBuiltinExtensionsViewDescriptors(): IViewDescriptor[] {\n\t\tconst viewDescriptors: IViewDescriptor[] = [];\n\n\t\tconst configuredCategories = ['themes', 'programming languages'];\n\t\tconst otherCategories = EXTENSION_CATEGORIES.filter(c => !configuredCategories.includes(c.toLowerCase()));\n\t\totherCategories.push(NONE_CATEGORY);\n\t\tconst otherCategoriesQuery = `${otherCategories.map(c => `category:\"${c}\"`).join(' ')} ${configuredCategories.map(c => `category:\"-${c}\"`).join(' ')}`;\n\t\tviewDescriptors.push({\n\t\t\tid: 'workbench.views.extensions.builtinFeatureExtensions',\n\t\t\tname: localize2('builtinFeatureExtensions', \"Features\"),\n\t\t\tctorDescriptor: new SyncDescriptor(StaticQueryExtensionsView, [{ query: `@builtin ${otherCategoriesQuery}` }]),\n\t\t\twhen: ContextKeyExpr.has('builtInExtensions'),\n\t\t});\n\n\t\tviewDescriptors.push({\n\t\t\tid: 'workbench.views.extensions.builtinThemeExtensions',\n\t\t\tname: localize2('builtInThemesExtensions', \"Themes\"),\n\t\t\tctorDescriptor: new SyncDescriptor(StaticQueryExtensionsView, [{ query: `@builtin category:themes` }]),\n\t\t\twhen: ContextKeyExpr.has('builtInExtensions'),\n\t\t});\n\n\t\tviewDescriptors.push({\n\t\t\tid: 'workbench.views.extensions.builtinProgrammingLanguageExtensions',\n\t\t\tname: localize2('builtinProgrammingLanguageExtensions', \"Programming Languages\"),\n\t\t\tctorDescriptor: new SyncDescriptor(StaticQueryExtensionsView, [{ query: `@builtin category:\"programming languages\"` }]),\n\t\t\twhen: ContextKeyExpr.has('builtInExtensions'),\n\t\t});\n\n\t\treturn viewDescriptors;\n\t}\n\n\tprivate createUnsupportedWorkspaceExtensionsViewDescriptors(): IViewDescriptor[] {\n\t\tconst viewDescriptors: IViewDescriptor[] = [];\n\n\t\tviewDescriptors.push({\n\t\t\tid: 'workbench.views.extensions.untrustedUnsupportedExtensions',\n\t\t\tname: localize2('untrustedUnsupportedExtensions', \"Disabled in Restricted Mode\"),\n\t\t\tctorDescriptor: new SyncDescriptor(UntrustedWorkspaceUnsupportedExtensionsView, [{}]),\n\t\t\twhen: ContextKeyExpr.and(SearchUnsupportedWorkspaceExtensionsContext),\n\t\t});\n\n\t\tviewDescriptors.push({\n\t\t\tid: 'workbench.views.extensions.untrustedPartiallySupportedExtensions',\n\t\t\tname: localize2('untrustedPartiallySupportedExtensions', \"Limited in Restricted Mode\"),\n\t\t\tctorDescriptor: new SyncDescriptor(UntrustedWorkspacePartiallySupportedExtensionsView, [{}]),\n\t\t\twhen: ContextKeyExpr.and(SearchUnsupportedWorkspaceExtensionsContext),\n\t\t});\n\n\t\tviewDescriptors.push({\n\t\t\tid: 'workbench.views.extensions.virtualUnsupportedExtensions',\n\t\t\tname: localize2('virtualUnsupportedExtensions', \"Disabled in Virtual Workspaces\"),\n\t\t\tctorDescriptor: new SyncDescriptor(VirtualWorkspaceUnsupportedExtensionsView, [{}]),\n\t\t\twhen: ContextKeyExpr.and(VirtualWorkspaceContext, SearchUnsupportedWorkspaceExtensionsContext),\n\t\t});\n\n\t\tviewDescriptors.push({\n\t\t\tid: 'workbench.views.extensions.virtualPartiallySupportedExtensions',\n\t\t\tname: localize2('virtualPartiallySupportedExtensions', \"Limited in Virtual Workspaces\"),\n\t\t\tctorDescriptor: new SyncDescriptor(VirtualWorkspacePartiallySupportedExtensionsView, [{}]),\n\t\t\twhen: ContextKeyExpr.and(VirtualWorkspaceContext, SearchUnsupportedWorkspaceExtensionsContext),\n\t\t});\n\n\t\treturn viewDescriptors;\n\t}\n\n\tprivate createOtherLocalFilteredExtensionsViewDescriptors(): IViewDescriptor[] {\n\t\tconst viewDescriptors: IViewDescriptor[] = [];\n\n\t\tviewDescriptors.push({\n\t\t\tid: 'workbench.views.extensions.deprecatedExtensions',\n\t\t\tname: localize2('deprecated', \"Deprecated\"),\n\t\t\tctorDescriptor: new SyncDescriptor(DeprecatedExtensionsView, [{}]),\n\t\t\twhen: ContextKeyExpr.and(SearchDeprecatedExtensionsContext),\n\t\t});\n\n\t\treturn viewDescriptors;\n\t}\n\n}\n\nexport class ExtensionsViewPaneContainer extends ViewPaneContainer implements IExtensionsViewPaneContainer {\n\n\tprivate defaultViewsContextKey: IContextKey<boolean>;\n\tprivate sortByContextKey: IContextKey<string>;\n\tprivate searchMarketplaceExtensionsContextKey: IContextKey<boolean>;\n\tprivate searchHasTextContextKey: IContextKey<boolean>;\n\tprivate sortByUpdateDateContextKey: IContextKey<boolean>;\n\tprivate installedExtensionsContextKey: IContextKey<boolean>;\n\tprivate searchInstalledExtensionsContextKey: IContextKey<boolean>;\n\tprivate searchRecentlyUpdatedExtensionsContextKey: IContextKey<boolean>;\n\tprivate searchExtensionUpdatesContextKey: IContextKey<boolean>;\n\tprivate searchOutdatedExtensionsContextKey: IContextKey<boolean>;\n\tprivate searchEnabledExtensionsContextKey: IContextKey<boolean>;\n\tprivate searchDisabledExtensionsContextKey: IContextKey<boolean>;\n\tprivate hasInstalledExtensionsContextKey: IContextKey<boolean>;\n\tprivate builtInExtensionsContextKey: IContextKey<boolean>;\n\tprivate searchBuiltInExtensionsContextKey: IContextKey<boolean>;\n\tprivate searchWorkspaceUnsupportedExtensionsContextKey: IContextKey<boolean>;\n\tprivate searchDeprecatedExtensionsContextKey: IContextKey<boolean>;\n\tprivate recommendedExtensionsContextKey: IContextKey<boolean>;\n\n\tprivate searchDelayer: Delayer<void>;\n\tprivate root: HTMLElement | undefined;\n\tprivate header: HTMLElement | undefined;\n\tprivate searchBox: SuggestEnabledInput | undefined;\n\tprivate notificationContainer: HTMLElement | undefined;\n\tprivate readonly searchViewletState: MementoObject;\n\n\tconstructor(\n\t\t@IWorkbenchLayoutService layoutService: IWorkbenchLayoutService,\n\t\t@ITelemetryService telemetryService: ITelemetryService,\n\t\t@IProgressService private readonly progressService: IProgressService,\n\t\t@IInstantiationService instantiationService: IInstantiationService,\n\t\t@IEditorGroupsService private readonly editorGroupService: IEditorGroupsService,\n\t\t@IExtensionsWorkbenchService private readonly extensionsWorkbenchService: IExtensionsWorkbenchService,\n\t\t@IExtensionManagementServerService private readonly extensionManagementServerService: IExtensionManagementServerService,\n\t\t@INotificationService private readonly notificationService: INotificationService,\n\t\t@IPaneCompositePartService private readonly paneCompositeService: IPaneCompositePartService,\n\t\t@IThemeService themeService: IThemeService,\n\t\t@IConfigurationService configurationService: IConfigurationService,\n\t\t@IStorageService storageService: IStorageService,\n\t\t@IWorkspaceContextService contextService: IWorkspaceContextService,\n\t\t@IContextKeyService private readonly contextKeyService: IContextKeyService,\n\t\t@IContextMenuService contextMenuService: IContextMenuService,\n\t\t@IExtensionService extensionService: IExtensionService,\n\t\t@IViewDescriptorService viewDescriptorService: IViewDescriptorService,\n\t\t@IPreferencesService private readonly preferencesService: IPreferencesService,\n\t\t@ICommandService private readonly commandService: ICommandService\n\t) {\n\t\tsuper(VIEWLET_ID, { mergeViewWithContainerWhenSingleView: true }, instantiationService, configurationService, layoutService, contextMenuService, telemetryService, extensionService, themeService, storageService, contextService, viewDescriptorService);\n\n\t\tthis.searchDelayer = new Delayer(500);\n\t\tthis.defaultViewsContextKey = DefaultViewsContext.bindTo(contextKeyService);\n\t\tthis.sortByContextKey = ExtensionsSortByContext.bindTo(contextKeyService);\n\t\tthis.searchMarketplaceExtensionsContextKey = SearchMarketplaceExtensionsContext.bindTo(contextKeyService);\n\t\tthis.searchHasTextContextKey = SearchHasTextContext.bindTo(contextKeyService);\n\t\tthis.sortByUpdateDateContextKey = SortByUpdateDateContext.bindTo(contextKeyService);\n\t\tthis.installedExtensionsContextKey = InstalledExtensionsContext.bindTo(contextKeyService);\n\t\tthis.searchInstalledExtensionsContextKey = SearchInstalledExtensionsContext.bindTo(contextKeyService);\n\t\tthis.searchRecentlyUpdatedExtensionsContextKey = SearchRecentlyUpdatedExtensionsContext.bindTo(contextKeyService);\n\t\tthis.searchExtensionUpdatesContextKey = SearchExtensionUpdatesContext.bindTo(contextKeyService);\n\t\tthis.searchWorkspaceUnsupportedExtensionsContextKey = SearchUnsupportedWorkspaceExtensionsContext.bindTo(contextKeyService);\n\t\tthis.searchDeprecatedExtensionsContextKey = SearchDeprecatedExtensionsContext.bindTo(contextKeyService);\n\t\tthis.searchOutdatedExtensionsContextKey = SearchOutdatedExtensionsContext.bindTo(contextKeyService);\n\t\tthis.searchEnabledExtensionsContextKey = SearchEnabledExtensionsContext.bindTo(contextKeyService);\n\t\tthis.searchDisabledExtensionsContextKey = SearchDisabledExtensionsContext.bindTo(contextKeyService);\n\t\tthis.hasInstalledExtensionsContextKey = HasInstalledExtensionsContext.bindTo(contextKeyService);\n\t\tthis.builtInExtensionsContextKey = BuiltInExtensionsContext.bindTo(contextKeyService);\n\t\tthis.searchBuiltInExtensionsContextKey = SearchBuiltInExtensionsContext.bindTo(contextKeyService);\n\t\tthis.recommendedExtensionsContextKey = RecommendedExtensionsContext.bindTo(contextKeyService);\n\t\tthis._register(this.paneCompositeService.onDidPaneCompositeOpen(e => { if (e.viewContainerLocation === ViewContainerLocation.Sidebar) { this.onViewletOpen(e.composite); } }, this));\n\t\tthis._register(extensionsWorkbenchService.onReset(() => this.refresh()));\n\t\tthis.searchViewletState = this.getMemento(StorageScope.WORKSPACE, StorageTarget.MACHINE);\n\t}\n\n\tget searchValue(): string | undefined {\n\t\treturn this.searchBox?.getValue();\n\t}\n\n\toverride create(parent: HTMLElement): void {\n\t\tparent.classList.add('extensions-viewlet');\n\t\tthis.root = parent;\n\n\t\tconst overlay = append(this.root, $('.overlay'));\n\t\tconst overlayBackgroundColor = this.getColor(SIDE_BAR_DRAG_AND_DROP_BACKGROUND) ?? '';\n\t\toverlay.style.backgroundColor = overlayBackgroundColor;\n\t\thide(overlay);\n\n\t\tthis.header = append(this.root, $('.header'));\n\t\tconst placeholder = localize('searchExtensions', \"Search Extensions in Marketplace\");\n\n\t\tconst searchValue = this.searchViewletState['query.value'] ? this.searchViewletState['query.value'] : '';\n\n\t\tconst searchContainer = append(this.header, $('.extensions-search-container'));\n\n\t\tthis.searchBox = this._register(this.instantiationService.createInstance(SuggestEnabledInput, `${VIEWLET_ID}.searchbox`, searchContainer, {\n\t\t\ttriggerCharacters: ['@'],\n\t\t\tsortKey: (item: string) => {\n\t\t\t\tif (item.indexOf(':') === -1) { return 'a'; }\n\t\t\t\telse if (/ext:/.test(item) || /id:/.test(item) || /tag:/.test(item)) { return 'b'; }\n\t\t\t\telse if (/sort:/.test(item)) { return 'c'; }\n\t\t\t\telse { return 'd'; }\n\t\t\t},\n\t\t\tprovideResults: (query: string) => Query.suggestions(query)\n\t\t}, placeholder, 'extensions:searchinput', { placeholderText: placeholder, value: searchValue }));\n\n\t\tthis.notificationContainer = append(this.header, $('.notification-container.hidden', { 'tabindex': '0' }));\n\t\tthis.renderNotificaiton();\n\t\tthis._register(this.extensionsWorkbenchService.onDidChangeExtensionsNotification(() => this.renderNotificaiton()));\n\n\t\tthis.updateInstalledExtensionsContexts();\n\t\tif (this.searchBox.getValue()) {\n\t\t\tthis.triggerSearch();\n\t\t}\n\n\t\tthis._register(this.searchBox.onInputDidChange(() => {\n\t\t\tthis.sortByContextKey.set(Query.parse(this.searchBox?.getValue() ?? '').sortBy);\n\t\t\tthis.triggerSearch();\n\t\t}, this));\n\n\t\tthis._register(this.searchBox.onShouldFocusResults(() => this.focusListView(), this));\n\n\t\tconst controlElement = append(searchContainer, $('.extensions-search-actions-container'));\n\t\tthis._register(this.instantiationService.createInstance(MenuWorkbenchToolBar, controlElement, extensionsSearchActionsMenu, {\n\t\t\ttoolbarOptions: {\n\t\t\t\tprimaryGroup: () => true,\n\t\t\t},\n\t\t\tactionViewItemProvider: (action, options) => createActionViewItem(this.instantiationService, action, options)\n\t\t}));\n\n\t\t// Register DragAndDrop support\n\t\tthis._register(new DragAndDropObserver(this.root, {\n\t\t\tonDragEnter: (e: DragEvent) => {\n\t\t\t\tif (this.isSupportedDragElement(e)) {\n\t\t\t\t\tshow(overlay);\n\t\t\t\t}\n\t\t\t},\n\t\t\tonDragLeave: (e: DragEvent) => {\n\t\t\t\tif (this.isSupportedDragElement(e)) {\n\t\t\t\t\thide(overlay);\n\t\t\t\t}\n\t\t\t},\n\t\t\tonDragOver: (e: DragEvent) => {\n\t\t\t\tif (this.isSupportedDragElement(e)) {\n\t\t\t\t\te.dataTransfer!.dropEffect = 'copy';\n\t\t\t\t}\n\t\t\t},\n\t\t\tonDrop: async (e: DragEvent) => {\n\t\t\t\tif (this.isSupportedDragElement(e)) {\n\t\t\t\t\thide(overlay);\n\n\t\t\t\t\tconst vsixs = coalesce((await this.instantiationService.invokeFunction(accessor => extractEditorsAndFilesDropData(accessor, e)))\n\t\t\t\t\t\t.map(editor => editor.resource && extname(editor.resource) === '.vsix' ? editor.resource : undefined));\n\n\t\t\t\t\tif (vsixs.length > 0) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t// Attempt to install the extension(s)\n\t\t\t\t\t\t\tawait this.commandService.executeCommand(INSTALL_EXTENSION_FROM_VSIX_COMMAND_ID, vsixs);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcatch (err) {\n\t\t\t\t\t\t\tthis.notificationService.error(err);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\n\t\tsuper.create(append(this.root, $('.extensions')));\n\n\t\tconst focusTracker = this._register(trackFocus(this.root));\n\t\tconst isSearchBoxFocused = () => this.searchBox?.inputWidget.hasWidgetFocus();\n\t\tthis._register(registerNavigableContainer({\n\t\t\tname: 'extensionsView',\n\t\t\tfocusNotifiers: [focusTracker],\n\t\t\tfocusNextWidget: () => {\n\t\t\t\tif (isSearchBoxFocused()) {\n\t\t\t\t\tthis.focusListView();\n\t\t\t\t}\n\t\t\t},\n\t\t\tfocusPreviousWidget: () => {\n\t\t\t\tif (!isSearchBoxFocused()) {\n\t\t\t\t\tthis.searchBox?.focus();\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\t}\n\n\toverride focus(): void {\n\t\tsuper.focus();\n\t\tthis.searchBox?.focus();\n\t}\n\n\tprivate _dimension: Dimension | undefined;\n\toverride layout(dimension: Dimension): void {\n\t\tthis._dimension = dimension;\n\t\tif (this.root) {\n\t\t\tthis.root.classList.toggle('narrow', dimension.width <= 250);\n\t\t\tthis.root.classList.toggle('mini', dimension.width <= 200);\n\t\t}\n\t\tthis.searchBox?.layout(new Dimension(dimension.width - 34 - /*padding*/8 - (24 * 2), 20));\n\t\tconst searchBoxHeight = 20 + 21 /*margin*/;\n\t\tconst headerHeight = this.header && !!this.notificationContainer?.childNodes.length ? this.notificationContainer.clientHeight + searchBoxHeight + 10 /*margin*/ : searchBoxHeight;\n\t\tthis.header!.style.height = `${headerHeight}px`;\n\t\tsuper.layout(new Dimension(dimension.width, dimension.height - headerHeight));\n\t}\n\n\toverride getOptimalWidth(): number {\n\t\treturn 400;\n\t}\n\n\tsearch(value: string): void {\n\t\tif (this.searchBox && this.searchBox.getValue() !== value) {\n\t\t\tthis.searchBox.setValue(value);\n\t\t}\n\t}\n\n\tasync refresh(): Promise<void> {\n\t\tawait this.updateInstalledExtensionsContexts();\n\t\tthis.doSearch(true);\n\t\tif (this.configurationService.getValue(AutoCheckUpdatesConfigurationKey)) {\n\t\t\tthis.extensionsWorkbenchService.checkForUpdates();\n\t\t}\n\t}\n\n\tprivate readonly notificationDisposables = this._register(new MutableDisposable<DisposableStore>());\n\tprivate renderNotificaiton(): void {\n\t\tif (!this.notificationContainer) {\n\t\t\treturn;\n\t\t}\n\n\t\tclearNode(this.notificationContainer);\n\t\tthis.notificationDisposables.value = new DisposableStore();\n\t\tconst status = this.extensionsWorkbenchService.getExtensionsNotification();\n\t\tif (status && !this.searchMarketplaceExtensionsContextKey.get()) {\n\t\t\tthis.notificationContainer.setAttribute('aria-label', status.message);\n\t\t\tthis.notificationContainer.classList.remove('hidden');\n\t\t\tconst messageContainer = append(this.notificationContainer, $('.message-container'));\n\t\t\tappend(messageContainer, $('span')).className = SeverityIcon.className(status.severity);\n\t\t\tappend(messageContainer, $('span.message', undefined, status.message));\n\t\t\tconst showAction = append(messageContainer,\n\t\t\t\t$('span.message-text-action', {\n\t\t\t\t\t'tabindex': '0',\n\t\t\t\t\t'role': 'button',\n\t\t\t\t\t'aria-label': `${status.message}. ${localize('click show', \"Click to Show\")}`\n\t\t\t\t}, localize('show', \"Show\")));\n\t\t\tconst showExtensions = () => this.search(status.extensions.map(extension => `@id:${extension.identifier.id}`).join(' '));\n\t\t\tthis.notificationDisposables.value.add(addDisposableListener(showAction, EventType.CLICK, () => showExtensions()));\n\t\t\tthis.notificationDisposables.value.add(addDisposableListener(showAction, EventType.KEY_DOWN, (e: KeyboardEvent) => {\n\t\t\t\tconst standardKeyboardEvent = new StandardKeyboardEvent(e);\n\t\t\t\tif (standardKeyboardEvent.keyCode === KeyCode.Enter || standardKeyboardEvent.keyCode === KeyCode.Space) {\n\t\t\t\t\tshowExtensions();\n\t\t\t\t}\n\t\t\t\tstandardKeyboardEvent.stopPropagation();\n\t\t\t}));\n\t\t} else {\n\t\t\tthis.notificationContainer.removeAttribute('aria-label');\n\t\t\tthis.notificationContainer.classList.add('hidden');\n\t\t}\n\n\t\tif (this._dimension) {\n\t\t\tthis.layout(this._dimension);\n\t\t}\n\t}\n\n\tprivate async updateInstalledExtensionsContexts(): Promise<void> {\n\t\tconst result = await this.extensionsWorkbenchService.queryLocal();\n\t\tthis.hasInstalledExtensionsContextKey.set(result.some(r => !r.isBuiltin));\n\t}\n\n\tprivate triggerSearch(): void {\n\t\tthis.searchDelayer.trigger(() => this.doSearch(), this.searchBox && this.searchBox.getValue() ? 500 : 0).then(undefined, err => this.onError(err));\n\t}\n\n\tprivate normalizedQuery(): string {\n\t\treturn this.searchBox\n\t\t\t? this.searchBox.getValue()\n\t\t\t\t.trim()\n\t\t\t\t.replace(/@category/g, 'category')\n\t\t\t\t.replace(/@tag:/g, 'tag:')\n\t\t\t\t.replace(/@ext:/g, 'ext:')\n\t\t\t\t.replace(/@featured/g, 'featured')\n\t\t\t\t.replace(/@popular/g, this.extensionManagementServerService.webExtensionManagementServer && !this.extensionManagementServerService.localExtensionManagementServer && !this.extensionManagementServerService.remoteExtensionManagementServer ? '@web' : '@popular')\n\t\t\t: '';\n\t}\n\n\tprotected override saveState(): void {\n\t\tconst value = this.searchBox ? this.searchBox.getValue() : '';\n\t\tif (ExtensionsListView.isLocalExtensionsQuery(value)) {\n\t\t\tthis.searchViewletState['query.value'] = value;\n\t\t} else {\n\t\t\tthis.searchViewletState['query.value'] = '';\n\t\t}\n\t\tsuper.saveState();\n\t}\n\n\tprivate doSearch(refresh?: boolean): Promise<void> {\n\t\tconst value = this.normalizedQuery();\n\t\tthis.contextKeyService.bufferChangeEvents(() => {\n\t\t\tconst isRecommendedExtensionsQuery = ExtensionsListView.isRecommendedExtensionsQuery(value);\n\t\t\tthis.searchHasTextContextKey.set(value.trim() !== '');\n\t\t\tthis.installedExtensionsContextKey.set(ExtensionsListView.isInstalledExtensionsQuery(value));\n\t\t\tthis.searchInstalledExtensionsContextKey.set(ExtensionsListView.isSearchInstalledExtensionsQuery(value));\n\t\t\tthis.searchRecentlyUpdatedExtensionsContextKey.set(ExtensionsListView.isSearchRecentlyUpdatedQuery(value) && !ExtensionsListView.isSearchExtensionUpdatesQuery(value));\n\t\t\tthis.searchOutdatedExtensionsContextKey.set(ExtensionsListView.isOutdatedExtensionsQuery(value) && !ExtensionsListView.isSearchExtensionUpdatesQuery(value));\n\t\t\tthis.searchExtensionUpdatesContextKey.set(ExtensionsListView.isSearchExtensionUpdatesQuery(value));\n\t\t\tthis.searchEnabledExtensionsContextKey.set(ExtensionsListView.isEnabledExtensionsQuery(value));\n\t\t\tthis.searchDisabledExtensionsContextKey.set(ExtensionsListView.isDisabledExtensionsQuery(value));\n\t\t\tthis.searchBuiltInExtensionsContextKey.set(ExtensionsListView.isSearchBuiltInExtensionsQuery(value));\n\t\t\tthis.searchWorkspaceUnsupportedExtensionsContextKey.set(ExtensionsListView.isSearchWorkspaceUnsupportedExtensionsQuery(value));\n\t\t\tthis.searchDeprecatedExtensionsContextKey.set(ExtensionsListView.isSearchDeprecatedExtensionsQuery(value));\n\t\t\tthis.builtInExtensionsContextKey.set(ExtensionsListView.isBuiltInExtensionsQuery(value));\n\t\t\tthis.recommendedExtensionsContextKey.set(isRecommendedExtensionsQuery);\n\t\t\tthis.searchMarketplaceExtensionsContextKey.set(!!value && !ExtensionsListView.isLocalExtensionsQuery(value) && !isRecommendedExtensionsQuery);\n\t\t\tthis.sortByUpdateDateContextKey.set(ExtensionsListView.isSortUpdateDateQuery(value));\n\t\t\tthis.defaultViewsContextKey.set(!value || ExtensionsListView.isSortInstalledExtensionsQuery(value));\n\t\t});\n\n\t\tthis.renderNotificaiton();\n\n\t\treturn this.progress(Promise.all(this.panes.map(view =>\n\t\t\t(<ExtensionsListView>view).show(this.normalizedQuery(), refresh)\n\t\t\t\t.then(model => this.alertSearchResult(model.length, view.id))\n\t\t))).then(() => undefined);\n\t}\n\n\tprotected override onDidAddViewDescriptors(added: IAddedViewDescriptorRef[]): ViewPane[] {\n\t\tconst addedViews = super.onDidAddViewDescriptors(added);\n\t\tthis.progress(Promise.all(addedViews.map(addedView =>\n\t\t\t(<ExtensionsListView>addedView).show(this.normalizedQuery())\n\t\t\t\t.then(model => this.alertSearchResult(model.length, addedView.id))\n\t\t)));\n\t\treturn addedViews;\n\t}\n\n\tprivate alertSearchResult(count: number, viewId: string): void {\n\t\tconst view = this.viewContainerModel.visibleViewDescriptors.find(view => view.id === viewId);\n\t\tswitch (count) {\n\t\t\tcase 0:\n\t\t\t\tbreak;\n\t\t\tcase 1:\n\t\t\t\tif (view) {\n\t\t\t\t\talert(localize('extensionFoundInSection', \"1 extension found in the {0} section.\", view.name.value));\n\t\t\t\t} else {\n\t\t\t\t\talert(localize('extensionFound', \"1 extension found.\"));\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tif (view) {\n\t\t\t\t\talert(localize('extensionsFoundInSection', \"{0} extensions found in the {1} section.\", count, view.name.value));\n\t\t\t\t} else {\n\t\t\t\t\talert(localize('extensionsFound', \"{0} extensions found.\", count));\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tprivate getFirstExpandedPane(): ExtensionsListView | undefined {\n\t\tfor (const pane of this.panes) {\n\t\t\tif (pane.isExpanded() && pane instanceof ExtensionsListView) {\n\t\t\t\treturn pane;\n\t\t\t}\n\t\t}\n\t\treturn undefined;\n\t}\n\n\tprivate focusListView(): void {\n\t\tconst pane = this.getFirstExpandedPane();\n\t\tif (pane && pane.count() > 0) {\n\t\t\tpane.focus();\n\t\t}\n\t}\n\n\tprivate onViewletOpen(viewlet: IPaneComposite): void {\n\t\tif (!viewlet || viewlet.getId() === VIEWLET_ID) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.configurationService.getValue<boolean>(CloseExtensionDetailsOnViewChangeKey)) {\n\t\t\tconst promises = this.editorGroupService.groups.map(group => {\n\t\t\t\tconst editors = group.editors.filter(input => input instanceof ExtensionsInput);\n\n\t\t\t\treturn group.closeEditors(editors);\n\t\t\t});\n\n\t\t\tPromise.all(promises);\n\t\t}\n\t}\n\n\tprivate progress<T>(promise: Promise<T>): Promise<T> {\n\t\treturn this.progressService.withProgress({ location: ProgressLocation.Extensions }, () => promise);\n\t}\n\n\tprivate onError(err: Error): void {\n\t\tif (isCancellationError(err)) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst message = err && err.message || '';\n\n\t\tif (/ECONNREFUSED/.test(message)) {\n\t\t\tconst error = createErrorWithActions(localize('suggestProxyError', \"Marketplace returned 'ECONNREFUSED'. Please check the 'http.proxy' setting.\"), [\n\t\t\t\tnew Action('open user settings', localize('open user settings', \"Open User Settings\"), undefined, true, () => this.preferencesService.openUserSettings())\n\t\t\t]);\n\n\t\t\tthis.notificationService.error(error);\n\t\t\treturn;\n\t\t}\n\n\t\tthis.notificationService.error(err);\n\t}\n\n\tprivate isSupportedDragElement(e: DragEvent): boolean {\n\t\tif (e.dataTransfer) {\n\t\t\tconst typesLowerCase = e.dataTransfer.types.map(t => t.toLocaleLowerCase());\n\t\t\treturn typesLowerCase.indexOf('files') !== -1;\n\t\t}\n\n\t\treturn false;\n\t}\n}\n\nexport class StatusUpdater extends Disposable implements IWorkbenchContribution {\n\n\tprivate readonly badgeHandle = this._register(new MutableDisposable());\n\n\tconstructor(\n\t\t@IActivityService private readonly activityService: IActivityService,\n\t\t@IExtensionsWorkbenchService private readonly extensionsWorkbenchService: IExtensionsWorkbenchService,\n\t\t@IWorkbenchExtensionEnablementService private readonly extensionEnablementService: IWorkbenchExtensionEnablementService,\n\t\t@IConfigurationService private readonly configurationService: IConfigurationService\n\t) {\n\t\tsuper();\n\t\tthis.onServiceChange();\n\t\tthis._register(Event.any(Event.debounce(extensionsWorkbenchService.onChange, () => undefined, 100, undefined, undefined, undefined, this._store), extensionsWorkbenchService.onDidChangeExtensionsNotification)(this.onServiceChange, this));\n\t}\n\n\tprivate onServiceChange(): void {\n\t\tthis.badgeHandle.clear();\n\t\tlet badge: IBadge | undefined;\n\n\t\tconst extensionsNotification = this.extensionsWorkbenchService.getExtensionsNotification();\n\t\tif (extensionsNotification) {\n\t\t\tif (extensionsNotification.severity === Severity.Warning) {\n\t\t\t\tbadge = new WarningBadge(() => extensionsNotification.message);\n\t\t\t}\n\t\t}\n\n\t\telse {\n\t\t\tconst actionRequired = this.configurationService.getValue(AutoRestartConfigurationKey) === true ? [] : this.extensionsWorkbenchService.installed.filter(e => e.runtimeState !== undefined);\n\t\t\tconst outdated = this.extensionsWorkbenchService.outdated.reduce((r, e) => r + (this.extensionEnablementService.isEnabled(e.local!) && !actionRequired.includes(e) ? 1 : 0), 0);\n\t\t\tconst newBadgeNumber = outdated + actionRequired.length;\n\t\t\tif (newBadgeNumber > 0) {\n\t\t\t\tlet msg = '';\n\t\t\t\tif (outdated) {\n\t\t\t\t\tmsg += outdated === 1 ? localize('extensionToUpdate', '{0} requires update', outdated) : localize('extensionsToUpdate', '{0} require update', outdated);\n\t\t\t\t}\n\t\t\t\tif (outdated > 0 && actionRequired.length > 0) {\n\t\t\t\t\tmsg += ', ';\n\t\t\t\t}\n\t\t\t\tif (actionRequired.length) {\n\t\t\t\t\tmsg += actionRequired.length === 1 ? localize('extensionToReload', '{0} requires restart', actionRequired.length) : localize('extensionsToReload', '{0} require restart', actionRequired.length);\n\t\t\t\t}\n\t\t\t\tbadge = new NumberBadge(newBadgeNumber, () => msg);\n\t\t\t}\n\t\t}\n\n\t\tif (badge) {\n\t\t\tthis.badgeHandle.value = this.activityService.showViewContainerActivity(VIEWLET_ID, { badge });\n\t\t}\n\t}\n}\n\nexport class MaliciousExtensionChecker implements IWorkbenchContribution {\n\n\tconstructor(\n\t\t@IExtensionManagementService private readonly extensionsManagementService: IExtensionManagementService,\n\t\t@IHostService private readonly hostService: IHostService,\n\t\t@ILogService private readonly logService: ILogService,\n\t\t@INotificationService private readonly notificationService: INotificationService,\n\t\t@IWorkbenchEnvironmentService private readonly environmentService: IWorkbenchEnvironmentService\n\t) {\n\t\tif (!this.environmentService.disableExtensions) {\n\t\t\tthis.loopCheckForMaliciousExtensions();\n\t\t}\n\t}\n\n\tprivate loopCheckForMaliciousExtensions(): void {\n\t\tthis.checkForMaliciousExtensions()\n\t\t\t.then(() => timeout(1000 * 60 * 5)) // every five minutes\n\t\t\t.then(() => this.loopCheckForMaliciousExtensions());\n\t}\n\n\tprivate checkForMaliciousExtensions(): Promise<void> {\n\t\treturn this.extensionsManagementService.getExtensionsControlManifest().then(extensionsControlManifest => {\n\n\t\t\treturn this.extensionsManagementService.getInstalled(ExtensionType.User).then(installed => {\n\t\t\t\tconst maliciousExtensions = installed\n\t\t\t\t\t.filter(e => extensionsControlManifest.malicious.some(identifier => areSameExtensions(e.identifier, identifier)));\n\n\t\t\t\tif (maliciousExtensions.length) {\n\t\t\t\t\treturn Promises.settled(maliciousExtensions.map(e => this.extensionsManagementService.uninstall(e).then(() => {\n\t\t\t\t\t\tthis.notificationService.prompt(\n\t\t\t\t\t\t\tSeverity.Warning,\n\t\t\t\t\t\t\tlocalize('malicious warning', \"We have uninstalled '{0}' which was reported to be problematic.\", e.identifier.id),\n\t\t\t\t\t\t\t[{\n\t\t\t\t\t\t\t\tlabel: localize('reloadNow', \"Reload Now\"),\n\t\t\t\t\t\t\t\trun: () => this.hostService.reload()\n\t\t\t\t\t\t\t}],\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tsticky: true,\n\t\t\t\t\t\t\t\tpriority: NotificationPriority.URGENT\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t\t})));\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.resolve(undefined);\n\t\t\t\t}\n\t\t\t}).then(() => undefined);\n\t\t}, err => this.logService.error(err));\n\t}\n}\n"],
  "mappings": "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",
  "names": ["view"]
}
