{
  "version": 3,
  "sources": ["../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/contrib/extensions/browser/extensionsViewer.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as dom from \"../../../../base/browser/dom.js\";\nimport { StandardKeyboardEvent } from \"../../../../base/browser/keyboardEvent.js\";\nimport { StandardMouseEvent } from \"../../../../base/browser/mouseEvent.js\";\nimport { HoverPosition } from \"../../../../base/browser/ui/hover/hoverWidget.js\";\nimport type {\n\tIListRenderer,\n\tIListVirtualDelegate,\n} from \"../../../../base/browser/ui/list/list.js\";\nimport type { IListStyles } from \"../../../../base/browser/ui/list/listWidget.js\";\nimport type {\n\tIAsyncDataSource,\n\tITreeNode,\n} from \"../../../../base/browser/ui/tree/tree.js\";\nimport { Action } from \"../../../../base/common/actions.js\";\nimport { isNonEmptyArray } from \"../../../../base/common/arrays.js\";\nimport { CancellationToken } from \"../../../../base/common/cancellation.js\";\nimport { Event } from \"../../../../base/common/event.js\";\nimport { KeyCode } from \"../../../../base/common/keyCodes.js\";\nimport {\n\tDisposable,\n\tDisposableStore,\n\ttype IDisposable,\n\tdispose,\n\ttoDisposable,\n} from \"../../../../base/common/lifecycle.js\";\nimport { localize } from \"../../../../nls.js\";\nimport { IConfigurationService } from \"../../../../platform/configuration/common/configuration.js\";\nimport { IContextKeyService } from \"../../../../platform/contextkey/common/contextkey.js\";\nimport { IInstantiationService } from \"../../../../platform/instantiation/common/instantiation.js\";\nimport {\n\tIListService,\n\tWorkbenchAsyncDataTree,\n} from \"../../../../platform/list/browser/listService.js\";\nimport type { IStyleOverride } from \"../../../../platform/theme/browser/defaultStyles.js\";\nimport {\n\teditorBackground,\n\tforeground,\n\tlistFocusBackground,\n\tlistFocusForeground,\n} from \"../../../../platform/theme/common/colorRegistry.js\";\nimport {\n\ttype IColorTheme,\n\ttype ICssStyleCollector,\n\tregisterThemingParticipant,\n} from \"../../../../platform/theme/common/themeService.js\";\nimport {\n\ttype IExtension,\n\tIExtensionsWorkbenchService,\n} from \"../common/extensions.js\";\nimport { type Delegate, Renderer } from \"./extensionsList.js\";\nimport { getAriaLabelForExtension } from \"./extensionsViews.js\";\n\nexport class ExtensionsGridView extends Disposable {\n\treadonly element: HTMLElement;\n\tprivate readonly renderer: Renderer;\n\tprivate readonly delegate: Delegate;\n\tprivate readonly disposableStore: DisposableStore;\n\n\tconstructor(\n\t\tparent: HTMLElement,\n\t\tdelegate: Delegate,\n\t\t@IInstantiationService private readonly instantiationService: IInstantiationService\n\t) {\n\t\tsuper();\n\t\tthis.element = dom.append(parent, dom.$('.extensions-grid-view'));\n\t\tthis.renderer = this.instantiationService.createInstance(Renderer, { onFocus: Event.None, onBlur: Event.None }, { hoverOptions: { position() { return HoverPosition.BELOW; } } });\n\t\tthis.delegate = delegate;\n\t\tthis.disposableStore = this._register(new DisposableStore());\n\t}\n\n\tsetExtensions(extensions: IExtension[]): void {\n\t\tthis.disposableStore.clear();\n\t\textensions.forEach((e, index) => this.renderExtension(e, index));\n\t}\n\n\tprivate renderExtension(extension: IExtension, index: number): void {\n\t\tconst extensionContainer = dom.append(\n\t\t\tthis.element,\n\t\t\tdom.$(\".extension-container\"),\n\t\t);\n\t\textensionContainer.style.height = `${this.delegate.getHeight()}px`;\n\t\textensionContainer.setAttribute(\"tabindex\", \"0\");\n\n\t\tconst template = this.renderer.renderTemplate(extensionContainer);\n\t\tthis.disposableStore.add(\n\t\t\ttoDisposable(() => this.renderer.disposeTemplate(template)),\n\t\t);\n\n\t\tconst openExtensionAction =\n\t\t\tthis.instantiationService.createInstance(OpenExtensionAction);\n\t\topenExtensionAction.extension = extension;\n\t\ttemplate.name.setAttribute(\"tabindex\", \"0\");\n\n\t\tconst handleEvent = (e: StandardMouseEvent | StandardKeyboardEvent) => {\n\t\t\tif (\n\t\t\t\te instanceof StandardKeyboardEvent &&\n\t\t\t\te.keyCode !== KeyCode.Enter\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\topenExtensionAction.run(e.ctrlKey || e.metaKey);\n\t\t\te.stopPropagation();\n\t\t\te.preventDefault();\n\t\t};\n\n\t\tthis.disposableStore.add(\n\t\t\tdom.addDisposableListener(\n\t\t\t\ttemplate.name,\n\t\t\t\tdom.EventType.CLICK,\n\t\t\t\t(e: MouseEvent) =>\n\t\t\t\t\thandleEvent(\n\t\t\t\t\t\tnew StandardMouseEvent(dom.getWindow(template.name), e),\n\t\t\t\t\t),\n\t\t\t),\n\t\t);\n\t\tthis.disposableStore.add(\n\t\t\tdom.addDisposableListener(\n\t\t\t\ttemplate.name,\n\t\t\t\tdom.EventType.KEY_DOWN,\n\t\t\t\t(e: KeyboardEvent) => handleEvent(new StandardKeyboardEvent(e)),\n\t\t\t),\n\t\t);\n\t\tthis.disposableStore.add(\n\t\t\tdom.addDisposableListener(\n\t\t\t\textensionContainer,\n\t\t\t\tdom.EventType.KEY_DOWN,\n\t\t\t\t(e: KeyboardEvent) => handleEvent(new StandardKeyboardEvent(e)),\n\t\t\t),\n\t\t);\n\n\t\tthis.renderer.renderElement(extension, index, template);\n\t}\n}\n\ninterface IExtensionTemplateData {\n\ticon: HTMLImageElement;\n\tname: HTMLElement;\n\tidentifier: HTMLElement;\n\tauthor: HTMLElement;\n\textensionDisposables: IDisposable[];\n\textensionData: IExtensionData;\n}\n\ninterface IUnknownExtensionTemplateData {\n\tidentifier: HTMLElement;\n}\n\ninterface IExtensionData {\n\textension: IExtension;\n\thasChildren: boolean;\n\tgetChildren: () => Promise<IExtensionData[] | null>;\n\tparent: IExtensionData | null;\n}\n\nclass AsyncDataSource implements IAsyncDataSource<IExtensionData, any> {\n\tpublic hasChildren({ hasChildren }: IExtensionData): boolean {\n\t\treturn hasChildren;\n\t}\n\n\tpublic getChildren(extensionData: IExtensionData): Promise<any> {\n\t\treturn extensionData.getChildren();\n\t}\n}\n\nclass VirualDelegate implements IListVirtualDelegate<IExtensionData> {\n\tpublic getHeight(element: IExtensionData): number {\n\t\treturn 62;\n\t}\n\tpublic getTemplateId({ extension }: IExtensionData): string {\n\t\treturn extension\n\t\t\t? ExtensionRenderer.TEMPLATE_ID\n\t\t\t: UnknownExtensionRenderer.TEMPLATE_ID;\n\t}\n}\n\nclass ExtensionRenderer\n\timplements IListRenderer<ITreeNode<IExtensionData>, IExtensionTemplateData>\n{\n\tstatic readonly TEMPLATE_ID = \"extension-template\";\n\n\tconstructor(@IInstantiationService private readonly instantiationService: IInstantiationService) {\n\t}\n\n\tpublic get templateId(): string {\n\t\treturn ExtensionRenderer.TEMPLATE_ID;\n\t}\n\n\tpublic renderTemplate(container: HTMLElement): IExtensionTemplateData {\n\t\tcontainer.classList.add(\"extension\");\n\n\t\tconst icon = dom.append(container, dom.$<HTMLImageElement>(\"img.icon\"));\n\t\tconst details = dom.append(container, dom.$(\".details\"));\n\n\t\tconst header = dom.append(details, dom.$(\".header\"));\n\t\tconst name = dom.append(header, dom.$(\"span.name\"));\n\t\tconst openExtensionAction =\n\t\t\tthis.instantiationService.createInstance(OpenExtensionAction);\n\t\tconst extensionDisposables = [\n\t\t\tdom.addDisposableListener(name, \"click\", (e: MouseEvent) => {\n\t\t\t\topenExtensionAction.run(e.ctrlKey || e.metaKey);\n\t\t\t\te.stopPropagation();\n\t\t\t\te.preventDefault();\n\t\t\t}),\n\t\t];\n\t\tconst identifier = dom.append(header, dom.$(\"span.identifier\"));\n\n\t\tconst footer = dom.append(details, dom.$(\".footer\"));\n\t\tconst author = dom.append(footer, dom.$(\".author\"));\n\t\treturn {\n\t\t\ticon,\n\t\t\tname,\n\t\t\tidentifier,\n\t\t\tauthor,\n\t\t\textensionDisposables,\n\t\t\tset extensionData(extensionData: IExtensionData) {\n\t\t\t\topenExtensionAction.extension = extensionData.extension;\n\t\t\t},\n\t\t};\n\t}\n\n\tpublic renderElement(\n\t\tnode: ITreeNode<IExtensionData>,\n\t\tindex: number,\n\t\tdata: IExtensionTemplateData,\n\t): void {\n\t\tconst extension = node.element.extension;\n\t\tdata.extensionDisposables.push(\n\t\t\tdom.addDisposableListener(\n\t\t\t\tdata.icon,\n\t\t\t\t\"error\",\n\t\t\t\t() => (data.icon.src = extension.iconUrlFallback),\n\t\t\t\t{ once: true },\n\t\t\t),\n\t\t);\n\t\tdata.icon.src = extension.iconUrl;\n\n\t\tif (data.icon.complete) {\n\t\t\tdata.icon.style.visibility = \"inherit\";\n\t\t} else {\n\t\t\tdata.icon.style.visibility = \"hidden\";\n\t\t\tdata.icon.onload = () => (data.icon.style.visibility = \"inherit\");\n\t\t}\n\n\t\tdata.name.textContent = extension.displayName;\n\t\tdata.identifier.textContent = extension.identifier.id;\n\t\tdata.author.textContent = extension.publisherDisplayName;\n\t\tdata.extensionData = node.element;\n\t}\n\n\tpublic disposeTemplate(templateData: IExtensionTemplateData): void {\n\t\ttemplateData.extensionDisposables = dispose(\n\t\t\t(<IExtensionTemplateData>templateData).extensionDisposables,\n\t\t);\n\t}\n}\n\nclass UnknownExtensionRenderer\n\timplements\n\t\tIListRenderer<ITreeNode<IExtensionData>, IUnknownExtensionTemplateData>\n{\n\tstatic readonly TEMPLATE_ID = \"unknown-extension-template\";\n\n\tpublic get templateId(): string {\n\t\treturn UnknownExtensionRenderer.TEMPLATE_ID;\n\t}\n\n\tpublic renderTemplate(\n\t\tcontainer: HTMLElement,\n\t): IUnknownExtensionTemplateData {\n\t\tconst messageContainer = dom.append(\n\t\t\tcontainer,\n\t\t\tdom.$(\"div.unknown-extension\"),\n\t\t);\n\t\tdom.append(messageContainer, dom.$(\"span.error-marker\")).textContent =\n\t\t\tlocalize(\"error\", \"Error\");\n\t\tdom.append(messageContainer, dom.$(\"span.message\")).textContent =\n\t\t\tlocalize(\"Unknown Extension\", \"Unknown Extension:\");\n\n\t\tconst identifier = dom.append(messageContainer, dom.$(\"span.message\"));\n\t\treturn { identifier };\n\t}\n\n\tpublic renderElement(\n\t\tnode: ITreeNode<IExtensionData>,\n\t\tindex: number,\n\t\tdata: IUnknownExtensionTemplateData,\n\t): void {\n\t\tdata.identifier.textContent = node.element.extension.identifier.id;\n\t}\n\n\tpublic disposeTemplate(data: IUnknownExtensionTemplateData): void {}\n}\n\nclass OpenExtensionAction extends Action {\n\tprivate _extension: IExtension | undefined;\n\n\tconstructor(@IExtensionsWorkbenchService private readonly extensionsWorkdbenchService: IExtensionsWorkbenchService) {\n\t\tsuper('extensions.action.openExtension', '');\n\t}\n\n\tpublic set extension(extension: IExtension) {\n\t\tthis._extension = extension;\n\t}\n\n\toverride run(sideByside: boolean): Promise<any> {\n\t\tif (this._extension) {\n\t\t\treturn this.extensionsWorkdbenchService.open(this._extension, {\n\t\t\t\tsideByside,\n\t\t\t});\n\t\t}\n\t\treturn Promise.resolve();\n\t}\n}\n\nexport class ExtensionsTree extends WorkbenchAsyncDataTree<\n\tIExtensionData,\n\tIExtensionData\n> {\n\tconstructor(\n\t\tinput: IExtensionData,\n\t\tcontainer: HTMLElement,\n\t\toverrideStyles: IStyleOverride<IListStyles>,\n\t\t@IContextKeyService contextKeyService: IContextKeyService,\n\t\t@IListService listService: IListService,\n\t\t@IInstantiationService instantiationService: IInstantiationService,\n\t\t@IConfigurationService configurationService: IConfigurationService,\n\t\t@IExtensionsWorkbenchService extensionsWorkdbenchService: IExtensionsWorkbenchService,\n\t) {\n\t\tconst delegate = new VirualDelegate();\n\t\tconst dataSource = new AsyncDataSource();\n\t\tconst renderers = [\n\t\t\tinstantiationService.createInstance(ExtensionRenderer),\n\t\t\tinstantiationService.createInstance(UnknownExtensionRenderer),\n\t\t];\n\t\tconst identityProvider = {\n\t\t\tgetId({ extension, parent }: IExtensionData): string {\n\t\t\t\treturn parent\n\t\t\t\t\t? this.getId(parent) + \"/\" + extension.identifier.id\n\t\t\t\t\t: extension.identifier.id;\n\t\t\t},\n\t\t};\n\n\t\tsuper(\n\t\t\t\"ExtensionsTree\",\n\t\t\tcontainer,\n\t\t\tdelegate,\n\t\t\trenderers,\n\t\t\tdataSource,\n\t\t\t{\n\t\t\t\tindent: 40,\n\t\t\t\tidentityProvider,\n\t\t\t\tmultipleSelectionSupport: false,\n\t\t\t\toverrideStyles,\n\t\t\t\taccessibilityProvider: {\n\t\t\t\t\tgetAriaLabel(extensionData: IExtensionData): string {\n\t\t\t\t\t\treturn getAriaLabelForExtension(\n\t\t\t\t\t\t\textensionData.extension,\n\t\t\t\t\t\t);\n\t\t\t\t\t},\n\t\t\t\t\tgetWidgetAriaLabel(): string {\n\t\t\t\t\t\treturn localize(\"extensions\", \"Extensions\");\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\tinstantiationService,\n\t\t\tcontextKeyService,\n\t\t\tlistService,\n\t\t\tconfigurationService,\n\t\t);\n\n\t\tthis.setInput(input);\n\n\t\tthis.disposables.add(\n\t\t\tthis.onDidChangeSelection((event) => {\n\t\t\t\tif (dom.isKeyboardEvent(event.browserEvent)) {\n\t\t\t\t\textensionsWorkdbenchService.open(\n\t\t\t\t\t\tevent.elements[0].extension,\n\t\t\t\t\t\t{ sideByside: false },\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}),\n\t\t);\n\t}\n}\n\nexport class ExtensionData implements IExtensionData {\n\treadonly extension: IExtension;\n\treadonly parent: IExtensionData | null;\n\tprivate readonly getChildrenExtensionIds: (\n\t\textension: IExtension,\n\t) => string[];\n\tprivate readonly childrenExtensionIds: string[];\n\tprivate readonly extensionsWorkbenchService: IExtensionsWorkbenchService;\n\n\tconstructor(\n\t\textension: IExtension,\n\t\tparent: IExtensionData | null,\n\t\tgetChildrenExtensionIds: (extension: IExtension) => string[],\n\t\textensionsWorkbenchService: IExtensionsWorkbenchService,\n\t) {\n\t\tthis.extension = extension;\n\t\tthis.parent = parent;\n\t\tthis.getChildrenExtensionIds = getChildrenExtensionIds;\n\t\tthis.extensionsWorkbenchService = extensionsWorkbenchService;\n\t\tthis.childrenExtensionIds = this.getChildrenExtensionIds(extension);\n\t}\n\n\tget hasChildren(): boolean {\n\t\treturn isNonEmptyArray(this.childrenExtensionIds);\n\t}\n\n\tasync getChildren(): Promise<IExtensionData[] | null> {\n\t\tif (this.hasChildren) {\n\t\t\tconst result: IExtension[] = await getExtensions(\n\t\t\t\tthis.childrenExtensionIds,\n\t\t\t\tthis.extensionsWorkbenchService,\n\t\t\t);\n\t\t\treturn result.map(\n\t\t\t\t(extension) =>\n\t\t\t\t\tnew ExtensionData(\n\t\t\t\t\t\textension,\n\t\t\t\t\t\tthis,\n\t\t\t\t\t\tthis.getChildrenExtensionIds,\n\t\t\t\t\t\tthis.extensionsWorkbenchService,\n\t\t\t\t\t),\n\t\t\t);\n\t\t}\n\t\treturn null;\n\t}\n}\n\nexport async function getExtensions(\n\textensions: string[],\n\textensionsWorkbenchService: IExtensionsWorkbenchService,\n): Promise<IExtension[]> {\n\tconst localById = extensionsWorkbenchService.local.reduce((result, e) => {\n\t\tresult.set(e.identifier.id.toLowerCase(), e);\n\t\treturn result;\n\t}, new Map<string, IExtension>());\n\tconst result: IExtension[] = [];\n\tconst toQuery: string[] = [];\n\tfor (const extensionId of extensions) {\n\t\tconst id = extensionId.toLowerCase();\n\t\tconst local = localById.get(id);\n\t\tif (local) {\n\t\t\tresult.push(local);\n\t\t} else {\n\t\t\ttoQuery.push(id);\n\t\t}\n\t}\n\tif (toQuery.length) {\n\t\tconst galleryResult = await extensionsWorkbenchService.getExtensions(\n\t\t\ttoQuery.map((id) => ({ id })),\n\t\t\tCancellationToken.None,\n\t\t);\n\t\tresult.push(...galleryResult);\n\t}\n\treturn result;\n}\n\nregisterThemingParticipant(\n\t(theme: IColorTheme, collector: ICssStyleCollector) => {\n\t\tconst focusBackground = theme.getColor(listFocusBackground);\n\t\tif (focusBackground) {\n\t\t\tcollector.addRule(\n\t\t\t\t`.extensions-grid-view .extension-container:focus { background-color: ${focusBackground}; outline: none; }`,\n\t\t\t);\n\t\t}\n\t\tconst focusForeground = theme.getColor(listFocusForeground);\n\t\tif (focusForeground) {\n\t\t\tcollector.addRule(\n\t\t\t\t`.extensions-grid-view .extension-container:focus { color: ${focusForeground}; }`,\n\t\t\t);\n\t\t}\n\t\tconst foregroundColor = theme.getColor(foreground);\n\t\tconst editorBackgroundColor = theme.getColor(editorBackground);\n\t\tif (foregroundColor && editorBackgroundColor) {\n\t\t\tconst authorForeground = foregroundColor\n\t\t\t\t.transparent(0.9)\n\t\t\t\t.makeOpaque(editorBackgroundColor);\n\t\t\tcollector.addRule(\n\t\t\t\t`.extensions-grid-view .extension-container:not(.disabled) .author { color: ${authorForeground}; }`,\n\t\t\t);\n\t\t\tconst disabledExtensionForeground = foregroundColor\n\t\t\t\t.transparent(0.5)\n\t\t\t\t.makeOpaque(editorBackgroundColor);\n\t\t\tcollector.addRule(\n\t\t\t\t`.extensions-grid-view .extension-container.disabled { color: ${disabledExtensionForeground}; }`,\n\t\t\t);\n\t\t}\n\t},\n);\n"],
  "mappings": "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",
  "names": ["result"]
}
