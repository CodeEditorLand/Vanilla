{
  "version": 3,
  "sources": ["../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/contrib/extensions/browser/extensionsViewer.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as dom from '../../../../base/browser/dom.js';\nimport { localize } from '../../../../nls.js';\nimport { IDisposable, dispose, Disposable, DisposableStore, toDisposable } from '../../../../base/common/lifecycle.js';\nimport { Action } from '../../../../base/common/actions.js';\nimport { IExtensionsWorkbenchService, IExtension } from '../common/extensions.js';\nimport { Event } from '../../../../base/common/event.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { IListService, WorkbenchAsyncDataTree } from '../../../../platform/list/browser/listService.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { IContextKeyService } from '../../../../platform/contextkey/common/contextkey.js';\nimport { registerThemingParticipant, IColorTheme, ICssStyleCollector } from '../../../../platform/theme/common/themeService.js';\nimport { IAsyncDataSource, ITreeNode } from '../../../../base/browser/ui/tree/tree.js';\nimport { IListVirtualDelegate, IListRenderer } from '../../../../base/browser/ui/list/list.js';\nimport { CancellationToken } from '../../../../base/common/cancellation.js';\nimport { isNonEmptyArray } from '../../../../base/common/arrays.js';\nimport { Delegate, Renderer } from './extensionsList.js';\nimport { listFocusForeground, listFocusBackground, foreground, editorBackground } from '../../../../platform/theme/common/colorRegistry.js';\nimport { StandardKeyboardEvent } from '../../../../base/browser/keyboardEvent.js';\nimport { StandardMouseEvent } from '../../../../base/browser/mouseEvent.js';\nimport { KeyCode } from '../../../../base/common/keyCodes.js';\nimport { IListStyles } from '../../../../base/browser/ui/list/listWidget.js';\nimport { HoverPosition } from '../../../../base/browser/ui/hover/hoverWidget.js';\nimport { IStyleOverride } from '../../../../platform/theme/browser/defaultStyles.js';\nimport { getAriaLabelForExtension } from './extensionsViews.js';\n\nexport class ExtensionsGridView extends Disposable {\n\n\treadonly element: HTMLElement;\n\tprivate readonly renderer: Renderer;\n\tprivate readonly delegate: Delegate;\n\tprivate readonly disposableStore: DisposableStore;\n\n\tconstructor(\n\t\tparent: HTMLElement,\n\t\tdelegate: Delegate,\n\t\t@IInstantiationService private readonly instantiationService: IInstantiationService\n\t) {\n\t\tsuper();\n\t\tthis.element = dom.append(parent, dom.$('.extensions-grid-view'));\n\t\tthis.renderer = this.instantiationService.createInstance(Renderer, { onFocus: Event.None, onBlur: Event.None }, { hoverOptions: { position() { return HoverPosition.BELOW; } } });\n\t\tthis.delegate = delegate;\n\t\tthis.disposableStore = this._register(new DisposableStore());\n\t}\n\n\tsetExtensions(extensions: IExtension[]): void {\n\t\tthis.disposableStore.clear();\n\t\textensions.forEach((e, index) => this.renderExtension(e, index));\n\t}\n\n\tprivate renderExtension(extension: IExtension, index: number): void {\n\t\tconst extensionContainer = dom.append(this.element, dom.$('.extension-container'));\n\t\textensionContainer.style.height = `${this.delegate.getHeight()}px`;\n\t\textensionContainer.setAttribute('tabindex', '0');\n\n\t\tconst template = this.renderer.renderTemplate(extensionContainer);\n\t\tthis.disposableStore.add(toDisposable(() => this.renderer.disposeTemplate(template)));\n\n\t\tconst openExtensionAction = this.instantiationService.createInstance(OpenExtensionAction);\n\t\topenExtensionAction.extension = extension;\n\t\ttemplate.name.setAttribute('tabindex', '0');\n\n\t\tconst handleEvent = (e: StandardMouseEvent | StandardKeyboardEvent) => {\n\t\t\tif (e instanceof StandardKeyboardEvent && e.keyCode !== KeyCode.Enter) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\topenExtensionAction.run(e.ctrlKey || e.metaKey);\n\t\t\te.stopPropagation();\n\t\t\te.preventDefault();\n\t\t};\n\n\t\tthis.disposableStore.add(dom.addDisposableListener(template.name, dom.EventType.CLICK, (e: MouseEvent) => handleEvent(new StandardMouseEvent(dom.getWindow(template.name), e))));\n\t\tthis.disposableStore.add(dom.addDisposableListener(template.name, dom.EventType.KEY_DOWN, (e: KeyboardEvent) => handleEvent(new StandardKeyboardEvent(e))));\n\t\tthis.disposableStore.add(dom.addDisposableListener(extensionContainer, dom.EventType.KEY_DOWN, (e: KeyboardEvent) => handleEvent(new StandardKeyboardEvent(e))));\n\n\t\tthis.renderer.renderElement(extension, index, template);\n\t}\n}\n\ninterface IExtensionTemplateData {\n\ticon: HTMLImageElement;\n\tname: HTMLElement;\n\tidentifier: HTMLElement;\n\tauthor: HTMLElement;\n\textensionDisposables: IDisposable[];\n\textensionData: IExtensionData;\n}\n\ninterface IUnknownExtensionTemplateData {\n\tidentifier: HTMLElement;\n}\n\ninterface IExtensionData {\n\textension: IExtension;\n\thasChildren: boolean;\n\tgetChildren: () => Promise<IExtensionData[] | null>;\n\tparent: IExtensionData | null;\n}\n\nclass AsyncDataSource implements IAsyncDataSource<IExtensionData, any> {\n\n\tpublic hasChildren({ hasChildren }: IExtensionData): boolean {\n\t\treturn hasChildren;\n\t}\n\n\tpublic getChildren(extensionData: IExtensionData): Promise<any> {\n\t\treturn extensionData.getChildren();\n\t}\n\n}\n\nclass VirualDelegate implements IListVirtualDelegate<IExtensionData> {\n\n\tpublic getHeight(element: IExtensionData): number {\n\t\treturn 62;\n\t}\n\tpublic getTemplateId({ extension }: IExtensionData): string {\n\t\treturn extension ? ExtensionRenderer.TEMPLATE_ID : UnknownExtensionRenderer.TEMPLATE_ID;\n\t}\n}\n\nclass ExtensionRenderer implements IListRenderer<ITreeNode<IExtensionData>, IExtensionTemplateData> {\n\n\tstatic readonly TEMPLATE_ID = 'extension-template';\n\n\tconstructor(@IInstantiationService private readonly instantiationService: IInstantiationService) {\n\t}\n\n\tpublic get templateId(): string {\n\t\treturn ExtensionRenderer.TEMPLATE_ID;\n\t}\n\n\tpublic renderTemplate(container: HTMLElement): IExtensionTemplateData {\n\t\tcontainer.classList.add('extension');\n\n\t\tconst icon = dom.append(container, dom.$<HTMLImageElement>('img.icon'));\n\t\tconst details = dom.append(container, dom.$('.details'));\n\n\t\tconst header = dom.append(details, dom.$('.header'));\n\t\tconst name = dom.append(header, dom.$('span.name'));\n\t\tconst openExtensionAction = this.instantiationService.createInstance(OpenExtensionAction);\n\t\tconst extensionDisposables = [dom.addDisposableListener(name, 'click', (e: MouseEvent) => {\n\t\t\topenExtensionAction.run(e.ctrlKey || e.metaKey);\n\t\t\te.stopPropagation();\n\t\t\te.preventDefault();\n\t\t})];\n\t\tconst identifier = dom.append(header, dom.$('span.identifier'));\n\n\t\tconst footer = dom.append(details, dom.$('.footer'));\n\t\tconst author = dom.append(footer, dom.$('.author'));\n\t\treturn {\n\t\t\ticon,\n\t\t\tname,\n\t\t\tidentifier,\n\t\t\tauthor,\n\t\t\textensionDisposables,\n\t\t\tset extensionData(extensionData: IExtensionData) {\n\t\t\t\topenExtensionAction.extension = extensionData.extension;\n\t\t\t}\n\t\t};\n\t}\n\n\tpublic renderElement(node: ITreeNode<IExtensionData>, index: number, data: IExtensionTemplateData): void {\n\t\tconst extension = node.element.extension;\n\t\tdata.extensionDisposables.push(dom.addDisposableListener(data.icon, 'error', () => data.icon.src = extension.iconUrlFallback, { once: true }));\n\t\tdata.icon.src = extension.iconUrl;\n\n\t\tif (!data.icon.complete) {\n\t\t\tdata.icon.style.visibility = 'hidden';\n\t\t\tdata.icon.onload = () => data.icon.style.visibility = 'inherit';\n\t\t} else {\n\t\t\tdata.icon.style.visibility = 'inherit';\n\t\t}\n\n\t\tdata.name.textContent = extension.displayName;\n\t\tdata.identifier.textContent = extension.identifier.id;\n\t\tdata.author.textContent = extension.publisherDisplayName;\n\t\tdata.extensionData = node.element;\n\t}\n\n\tpublic disposeTemplate(templateData: IExtensionTemplateData): void {\n\t\ttemplateData.extensionDisposables = dispose((<IExtensionTemplateData>templateData).extensionDisposables);\n\t}\n}\n\nclass UnknownExtensionRenderer implements IListRenderer<ITreeNode<IExtensionData>, IUnknownExtensionTemplateData> {\n\n\tstatic readonly TEMPLATE_ID = 'unknown-extension-template';\n\n\tpublic get templateId(): string {\n\t\treturn UnknownExtensionRenderer.TEMPLATE_ID;\n\t}\n\n\tpublic renderTemplate(container: HTMLElement): IUnknownExtensionTemplateData {\n\t\tconst messageContainer = dom.append(container, dom.$('div.unknown-extension'));\n\t\tdom.append(messageContainer, dom.$('span.error-marker')).textContent = localize('error', \"Error\");\n\t\tdom.append(messageContainer, dom.$('span.message')).textContent = localize('Unknown Extension', \"Unknown Extension:\");\n\n\t\tconst identifier = dom.append(messageContainer, dom.$('span.message'));\n\t\treturn { identifier };\n\t}\n\n\tpublic renderElement(node: ITreeNode<IExtensionData>, index: number, data: IUnknownExtensionTemplateData): void {\n\t\tdata.identifier.textContent = node.element.extension.identifier.id;\n\t}\n\n\tpublic disposeTemplate(data: IUnknownExtensionTemplateData): void {\n\t}\n}\n\nclass OpenExtensionAction extends Action {\n\n\tprivate _extension: IExtension | undefined;\n\n\tconstructor(@IExtensionsWorkbenchService private readonly extensionsWorkdbenchService: IExtensionsWorkbenchService) {\n\t\tsuper('extensions.action.openExtension', '');\n\t}\n\n\tpublic set extension(extension: IExtension) {\n\t\tthis._extension = extension;\n\t}\n\n\toverride run(sideByside: boolean): Promise<any> {\n\t\tif (this._extension) {\n\t\t\treturn this.extensionsWorkdbenchService.open(this._extension, { sideByside });\n\t\t}\n\t\treturn Promise.resolve();\n\t}\n}\n\nexport class ExtensionsTree extends WorkbenchAsyncDataTree<IExtensionData, IExtensionData> {\n\n\tconstructor(\n\t\tinput: IExtensionData,\n\t\tcontainer: HTMLElement,\n\t\toverrideStyles: IStyleOverride<IListStyles>,\n\t\t@IContextKeyService contextKeyService: IContextKeyService,\n\t\t@IListService listService: IListService,\n\t\t@IInstantiationService instantiationService: IInstantiationService,\n\t\t@IConfigurationService configurationService: IConfigurationService,\n\t\t@IExtensionsWorkbenchService extensionsWorkdbenchService: IExtensionsWorkbenchService\n\t) {\n\t\tconst delegate = new VirualDelegate();\n\t\tconst dataSource = new AsyncDataSource();\n\t\tconst renderers = [instantiationService.createInstance(ExtensionRenderer), instantiationService.createInstance(UnknownExtensionRenderer)];\n\t\tconst identityProvider = {\n\t\t\tgetId({ extension, parent }: IExtensionData): string {\n\t\t\t\treturn parent ? this.getId(parent) + '/' + extension.identifier.id : extension.identifier.id;\n\t\t\t}\n\t\t};\n\n\t\tsuper(\n\t\t\t'ExtensionsTree',\n\t\t\tcontainer,\n\t\t\tdelegate,\n\t\t\trenderers,\n\t\t\tdataSource,\n\t\t\t{\n\t\t\t\tindent: 40,\n\t\t\t\tidentityProvider,\n\t\t\t\tmultipleSelectionSupport: false,\n\t\t\t\toverrideStyles,\n\t\t\t\taccessibilityProvider: {\n\t\t\t\t\tgetAriaLabel(extensionData: IExtensionData): string {\n\t\t\t\t\t\treturn getAriaLabelForExtension(extensionData.extension);\n\t\t\t\t\t},\n\t\t\t\t\tgetWidgetAriaLabel(): string {\n\t\t\t\t\t\treturn localize('extensions', \"Extensions\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tinstantiationService, contextKeyService, listService, configurationService\n\t\t);\n\n\t\tthis.setInput(input);\n\n\t\tthis.disposables.add(this.onDidChangeSelection(event => {\n\t\t\tif (dom.isKeyboardEvent(event.browserEvent)) {\n\t\t\t\textensionsWorkdbenchService.open(event.elements[0].extension, { sideByside: false });\n\t\t\t}\n\t\t}));\n\t}\n}\n\nexport class ExtensionData implements IExtensionData {\n\n\treadonly extension: IExtension;\n\treadonly parent: IExtensionData | null;\n\tprivate readonly getChildrenExtensionIds: (extension: IExtension) => string[];\n\tprivate readonly childrenExtensionIds: string[];\n\tprivate readonly extensionsWorkbenchService: IExtensionsWorkbenchService;\n\n\tconstructor(extension: IExtension, parent: IExtensionData | null, getChildrenExtensionIds: (extension: IExtension) => string[], extensionsWorkbenchService: IExtensionsWorkbenchService) {\n\t\tthis.extension = extension;\n\t\tthis.parent = parent;\n\t\tthis.getChildrenExtensionIds = getChildrenExtensionIds;\n\t\tthis.extensionsWorkbenchService = extensionsWorkbenchService;\n\t\tthis.childrenExtensionIds = this.getChildrenExtensionIds(extension);\n\t}\n\n\tget hasChildren(): boolean {\n\t\treturn isNonEmptyArray(this.childrenExtensionIds);\n\t}\n\n\tasync getChildren(): Promise<IExtensionData[] | null> {\n\t\tif (this.hasChildren) {\n\t\t\tconst result: IExtension[] = await getExtensions(this.childrenExtensionIds, this.extensionsWorkbenchService);\n\t\t\treturn result.map(extension => new ExtensionData(extension, this, this.getChildrenExtensionIds, this.extensionsWorkbenchService));\n\t\t}\n\t\treturn null;\n\t}\n}\n\nexport async function getExtensions(extensions: string[], extensionsWorkbenchService: IExtensionsWorkbenchService): Promise<IExtension[]> {\n\tconst localById = extensionsWorkbenchService.local.reduce((result, e) => { result.set(e.identifier.id.toLowerCase(), e); return result; }, new Map<string, IExtension>());\n\tconst result: IExtension[] = [];\n\tconst toQuery: string[] = [];\n\tfor (const extensionId of extensions) {\n\t\tconst id = extensionId.toLowerCase();\n\t\tconst local = localById.get(id);\n\t\tif (local) {\n\t\t\tresult.push(local);\n\t\t} else {\n\t\t\ttoQuery.push(id);\n\t\t}\n\t}\n\tif (toQuery.length) {\n\t\tconst galleryResult = await extensionsWorkbenchService.getExtensions(toQuery.map(id => ({ id })), CancellationToken.None);\n\t\tresult.push(...galleryResult);\n\t}\n\treturn result;\n}\n\nregisterThemingParticipant((theme: IColorTheme, collector: ICssStyleCollector) => {\n\tconst focusBackground = theme.getColor(listFocusBackground);\n\tif (focusBackground) {\n\t\tcollector.addRule(`.extensions-grid-view .extension-container:focus { background-color: ${focusBackground}; outline: none; }`);\n\t}\n\tconst focusForeground = theme.getColor(listFocusForeground);\n\tif (focusForeground) {\n\t\tcollector.addRule(`.extensions-grid-view .extension-container:focus { color: ${focusForeground}; }`);\n\t}\n\tconst foregroundColor = theme.getColor(foreground);\n\tconst editorBackgroundColor = theme.getColor(editorBackground);\n\tif (foregroundColor && editorBackgroundColor) {\n\t\tconst authorForeground = foregroundColor.transparent(.9).makeOpaque(editorBackgroundColor);\n\t\tcollector.addRule(`.extensions-grid-view .extension-container:not(.disabled) .author { color: ${authorForeground}; }`);\n\t\tconst disabledExtensionForeground = foregroundColor.transparent(.5).makeOpaque(editorBackgroundColor);\n\t\tcollector.addRule(`.extensions-grid-view .extension-container.disabled { color: ${disabledExtensionForeground}; }`);\n\t}\n});\n"],
  "mappings": "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",
  "names": ["result"]
}
