{
  "version": 3,
  "sources": ["../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/contrib/extensions/browser/extensionEditor.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport {\n\t$,\n\ttype Dimension,\n\taddDisposableListener,\n\tappend,\n\tsetParentFlowTo,\n} from \"../../../../base/browser/dom.js\";\nimport { ActionBar } from \"../../../../base/browser/ui/actionbar/actionbar.js\";\nimport { getDefaultHoverDelegate } from \"../../../../base/browser/ui/hover/hoverDelegateFactory.js\";\nimport { DomScrollableElement } from \"../../../../base/browser/ui/scrollbar/scrollableElement.js\";\nimport { CheckboxActionViewItem } from \"../../../../base/browser/ui/toggle/toggle.js\";\nimport { Action, type IAction } from \"../../../../base/common/actions.js\";\nimport * as arrays from \"../../../../base/common/arrays.js\";\nimport { Cache, type CacheResult } from \"../../../../base/common/cache.js\";\nimport {\n\tCancellationToken,\n\tCancellationTokenSource,\n} from \"../../../../base/common/cancellation.js\";\nimport { isCancellationError } from \"../../../../base/common/errors.js\";\nimport { Emitter, Event } from \"../../../../base/common/event.js\";\nimport { KeyCode, KeyMod } from \"../../../../base/common/keyCodes.js\";\nimport {\n\tDisposable,\n\tDisposableStore,\n\tMutableDisposable,\n\tdispose,\n\ttoDisposable,\n} from \"../../../../base/common/lifecycle.js\";\nimport { Schemas, matchesScheme } from \"../../../../base/common/network.js\";\nimport { language } from \"../../../../base/common/platform.js\";\nimport * as semver from \"../../../../base/common/semver/semver.js\";\nimport { isUndefined } from \"../../../../base/common/types.js\";\nimport { URI } from \"../../../../base/common/uri.js\";\nimport { generateUuid } from \"../../../../base/common/uuid.js\";\nimport \"./media/extensionEditor.css\";\nimport { EditorContextKeys } from \"../../../../editor/common/editorContextKeys.js\";\nimport { TokenizationRegistry } from \"../../../../editor/common/languages.js\";\nimport { ILanguageService } from \"../../../../editor/common/languages/language.js\";\nimport { generateTokensCSSForColorMap } from \"../../../../editor/common/languages/supports/tokenization.js\";\nimport { localize } from \"../../../../nls.js\";\nimport {\n\tAction2,\n\tregisterAction2,\n} from \"../../../../platform/actions/common/actions.js\";\nimport {\n\tContextKeyExpr,\n\ttype IContextKey,\n\tIContextKeyService,\n\ttype IScopedContextKeyService,\n\tRawContextKey,\n} from \"../../../../platform/contextkey/common/contextkey.js\";\nimport { IContextMenuService } from \"../../../../platform/contextview/browser/contextView.js\";\nimport {\n\tIExtensionGalleryService,\n\ttype IGalleryExtension,\n} from \"../../../../platform/extensionManagement/common/extensionManagement.js\";\nimport { areSameExtensions } from \"../../../../platform/extensionManagement/common/extensionManagementUtil.js\";\nimport {\n\tExtensionType,\n\ttype IExtensionManifest,\n} from \"../../../../platform/extensions/common/extensions.js\";\nimport { IHoverService } from \"../../../../platform/hover/browser/hover.js\";\nimport {\n\tIInstantiationService,\n\ttype ServicesAccessor,\n} from \"../../../../platform/instantiation/common/instantiation.js\";\nimport { KeybindingWeight } from \"../../../../platform/keybinding/common/keybindingsRegistry.js\";\nimport { INotificationService } from \"../../../../platform/notification/common/notification.js\";\nimport { IOpenerService } from \"../../../../platform/opener/common/opener.js\";\nimport { IStorageService } from \"../../../../platform/storage/common/storage.js\";\nimport { ITelemetryService } from \"../../../../platform/telemetry/common/telemetry.js\";\nimport { defaultCheckboxStyles } from \"../../../../platform/theme/browser/defaultStyles.js\";\nimport {\n\tbuttonForeground,\n\tbuttonHoverBackground,\n\teditorBackground,\n\ttextLinkActiveForeground,\n\ttextLinkForeground,\n} from \"../../../../platform/theme/common/colorRegistry.js\";\nimport {\n\ttype IColorTheme,\n\ttype ICssStyleCollector,\n\tIThemeService,\n\tregisterThemingParticipant,\n} from \"../../../../platform/theme/common/themeService.js\";\nimport { IUriIdentityService } from \"../../../../platform/uriIdentity/common/uriIdentity.js\";\nimport { IWorkspaceContextService } from \"../../../../platform/workspace/common/workspace.js\";\nimport { EditorPane } from \"../../../browser/parts/editor/editorPane.js\";\nimport type { IEditorOpenContext } from \"../../../common/editor.js\";\nimport type { IEditorGroup } from \"../../../services/editor/common/editorGroupsService.js\";\nimport { IEditorService } from \"../../../services/editor/common/editorService.js\";\nimport { IExtensionRecommendationsService } from \"../../../services/extensionRecommendations/common/extensionRecommendations.js\";\nimport { IExtensionService } from \"../../../services/extensions/common/extensions.js\";\nimport { IViewsService } from \"../../../services/views/common/viewsService.js\";\nimport { IExplorerService } from \"../../files/browser/files.js\";\nimport { VIEW_ID as EXPLORER_VIEW_ID } from \"../../files/common/files.js\";\nimport {\n\tDEFAULT_MARKDOWN_STYLES,\n\trenderMarkdownDocument,\n} from \"../../markdown/browser/markdownDocumentRenderer.js\";\nimport {\n\ttype IWebview,\n\tIWebviewService,\n\tKEYBINDING_CONTEXT_WEBVIEW_FIND_WIDGET_FOCUSED,\n} from \"../../webview/browser/webview.js\";\nimport {\n\tExtensionContainers,\n\tExtensionEditorTab,\n\tExtensionState,\n\ttype IExtension,\n\ttype IExtensionContainer,\n\tIExtensionsWorkbenchService,\n} from \"../common/extensions.js\";\nimport type {\n\tExtensionsInput,\n\tIExtensionEditorOptions,\n} from \"../common/extensionsInput.js\";\nimport { ExtensionFeaturesTab } from \"./extensionFeaturesTab.js\";\nimport {\n\tButtonWithDropDownExtensionAction,\n\tButtonWithDropdownExtensionActionViewItem,\n\tClearLanguageAction,\n\tDisableDropDownAction,\n\tDropDownExtensionAction,\n\tEnableDropDownAction,\n\tExtensionEditorManageExtensionAction,\n\tExtensionRuntimeStateAction,\n\tExtensionStatusAction,\n\tExtensionStatusLabelAction,\n\tInstallAnotherVersionAction,\n\tInstallDropdownAction,\n\tInstallingLabelAction,\n\tLocalInstallAction,\n\tMigrateDeprecatedExtensionAction,\n\tRemoteInstallAction,\n\tSetColorThemeAction,\n\tSetFileIconThemeAction,\n\tSetLanguageAction,\n\tSetProductIconThemeAction,\n\tToggleAutoUpdateForExtensionAction,\n\tTogglePreReleaseExtensionAction,\n\tUninstallAction,\n\tUpdateAction,\n\tWebInstallAction,\n} from \"./extensionsActions.js\";\nimport { Delegate } from \"./extensionsList.js\";\nimport {\n\tExtensionData,\n\tExtensionsGridView,\n\tExtensionsTree,\n\tgetExtensions,\n} from \"./extensionsViewer.js\";\nimport {\n\tExtensionRecommendationWidget,\n\tExtensionStatusWidget,\n\tExtensionWidget,\n\tInstallCountWidget,\n\tRatingsWidget,\n\tRemoteBadgeWidget,\n\tSponsorWidget,\n\tVerifiedPublisherWidget,\n\tonClick,\n} from \"./extensionsWidgets.js\";\n\nclass NavBar extends Disposable {\n\tprivate _onChange = this._register(\n\t\tnew Emitter<{ id: string | null; focus: boolean }>(),\n\t);\n\tget onChange(): Event<{ id: string | null; focus: boolean }> {\n\t\treturn this._onChange.event;\n\t}\n\n\tprivate _currentId: string | null = null;\n\tget currentId(): string | null {\n\t\treturn this._currentId;\n\t}\n\n\tprivate actions: Action[];\n\tprivate actionbar: ActionBar;\n\n\tconstructor(container: HTMLElement) {\n\t\tsuper();\n\t\tconst element = append(container, $(\".navbar\"));\n\t\tthis.actions = [];\n\t\tthis.actionbar = this._register(new ActionBar(element));\n\t}\n\n\tpush(id: string, label: string, tooltip: string): void {\n\t\tconst action = new Action(id, label, undefined, true, () =>\n\t\t\tthis.update(id, true),\n\t\t);\n\n\t\taction.tooltip = tooltip;\n\n\t\tthis.actions.push(action);\n\t\tthis.actionbar.push(action);\n\n\t\tif (this.actions.length === 1) {\n\t\t\tthis.update(id);\n\t\t}\n\t}\n\n\tclear(): void {\n\t\tthis.actions = dispose(this.actions);\n\t\tthis.actionbar.clear();\n\t}\n\n\tswitch(id: string): boolean {\n\t\tconst action = this.actions.find((action) => action.id === id);\n\t\tif (action) {\n\t\t\taction.run();\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tprivate update(id: string, focus?: boolean): void {\n\t\tthis._currentId = id;\n\t\tthis._onChange.fire({ id, focus: !!focus });\n\t\tthis.actions.forEach((a) => (a.checked = a.id === id));\n\t}\n}\n\ninterface ILayoutParticipant {\n\tlayout(): void;\n}\n\ninterface IActiveElement {\n\tfocus(): void;\n}\n\ninterface IExtensionEditorTemplate {\n\ticonContainer: HTMLElement;\n\ticon: HTMLImageElement;\n\tname: HTMLElement;\n\tpreview: HTMLElement;\n\tbuiltin: HTMLElement;\n\tpublisher: HTMLElement;\n\tpublisherDisplayName: HTMLElement;\n\tresource: HTMLElement;\n\tinstallCount: HTMLElement;\n\trating: HTMLElement;\n\tdescription: HTMLElement;\n\tactionsAndStatusContainer: HTMLElement;\n\textensionActionBar: ActionBar;\n\tnavbar: NavBar;\n\tcontent: HTMLElement;\n\theader: HTMLElement;\n\textension: IExtension;\n\tgallery: IGalleryExtension | null;\n\tmanifest: IExtensionManifest | null;\n}\n\nenum WebviewIndex {\n\tReadme = 0,\n\tChangelog = 1,\n}\n\nconst CONTEXT_SHOW_PRE_RELEASE_VERSION = new RawContextKey<boolean>(\n\t\"showPreReleaseVersion\",\n\tfalse,\n);\n\nabstract class ExtensionWithDifferentGalleryVersionWidget extends ExtensionWidget {\n\tprivate _gallery: IGalleryExtension | null = null;\n\tget gallery(): IGalleryExtension | null {\n\t\treturn this._gallery;\n\t}\n\tset gallery(gallery: IGalleryExtension | null) {\n\t\tif (\n\t\t\tthis.extension &&\n\t\t\tgallery &&\n\t\t\t!areSameExtensions(this.extension.identifier, gallery.identifier)\n\t\t) {\n\t\t\treturn;\n\t\t}\n\t\tthis._gallery = gallery;\n\t\tthis.update();\n\t}\n}\n\nclass VersionWidget extends ExtensionWithDifferentGalleryVersionWidget {\n\tprivate readonly element: HTMLElement;\n\tconstructor(container: HTMLElement, hoverService: IHoverService) {\n\t\tsuper();\n\t\tthis.element = append(container, $(\"code.version\"));\n\t\tthis._register(\n\t\t\thoverService.setupManagedHover(\n\t\t\t\tgetDefaultHoverDelegate(\"mouse\"),\n\t\t\t\tthis.element,\n\t\t\t\tlocalize(\"extension version\", \"Extension Version\"),\n\t\t\t),\n\t\t);\n\t\tthis.render();\n\t}\n\trender(): void {\n\t\tif (!this.extension || !semver.valid(this.extension.version)) {\n\t\t\treturn;\n\t\t}\n\t\tthis.element.textContent = `v${this.gallery?.version ?? this.extension.version}${this.extension.isPreReleaseVersion ? \" (pre-release)\" : \"\"}`;\n\t}\n}\n\nexport class ExtensionEditor extends EditorPane {\n\tstatic readonly ID: string = \"workbench.editor.extension\";\n\n\tprivate readonly _scopedContextKeyService = this._register(\n\t\tnew MutableDisposable<IScopedContextKeyService>(),\n\t);\n\tprivate template: IExtensionEditorTemplate | undefined;\n\n\tprivate extensionReadme: Cache<string> | null;\n\tprivate extensionChangelog: Cache<string> | null;\n\tprivate extensionManifest: Cache<IExtensionManifest | null> | null;\n\n\t// Some action bar items use a webview whose vertical scroll position we track in this map\n\tprivate initialScrollProgress: Map<WebviewIndex, number> = new Map();\n\n\t// Spot when an ExtensionEditor instance gets reused for a different extension, in which case the vertical scroll positions must be zeroed\n\tprivate currentIdentifier = \"\";\n\n\tprivate layoutParticipants: ILayoutParticipant[] = [];\n\tprivate readonly contentDisposables = this._register(new DisposableStore());\n\tprivate readonly transientDisposables = this._register(\n\t\tnew DisposableStore(),\n\t);\n\tprivate activeElement: IActiveElement | null = null;\n\tprivate dimension: Dimension | undefined;\n\n\tprivate showPreReleaseVersionContextKey: IContextKey<boolean> | undefined;\n\n\tconstructor(\n\t\tgroup: IEditorGroup,\n\t\t@ITelemetryService telemetryService: ITelemetryService,\n\t\t@IInstantiationService private readonly instantiationService: IInstantiationService,\n\t\t@IExtensionsWorkbenchService private readonly extensionsWorkbenchService: IExtensionsWorkbenchService,\n\t\t@IExtensionGalleryService private readonly extensionGalleryService: IExtensionGalleryService,\n\t\t@IThemeService themeService: IThemeService,\n\t\t@INotificationService private readonly notificationService: INotificationService,\n\t\t@IOpenerService private readonly openerService: IOpenerService,\n\t\t@IExtensionRecommendationsService private readonly extensionRecommendationsService: IExtensionRecommendationsService,\n\t\t@IStorageService storageService: IStorageService,\n\t\t@IExtensionService private readonly extensionService: IExtensionService,\n\t\t@IWebviewService private readonly webviewService: IWebviewService,\n\t\t@ILanguageService private readonly languageService: ILanguageService,\n\t\t@IContextMenuService private readonly contextMenuService: IContextMenuService,\n\t\t@IContextKeyService private readonly contextKeyService: IContextKeyService,\n\t\t@IWorkspaceContextService private readonly contextService: IWorkspaceContextService,\n\t\t@IExplorerService private readonly explorerService: IExplorerService,\n\t\t@IViewsService private readonly viewsService: IViewsService,\n\t\t@IUriIdentityService private readonly uriIdentityService: IUriIdentityService,\n\t\t@IHoverService private readonly hoverService: IHoverService,\n\t) {\n\t\tsuper(ExtensionEditor.ID, group, telemetryService, themeService, storageService);\n\t\tthis.extensionReadme = null;\n\t\tthis.extensionChangelog = null;\n\t\tthis.extensionManifest = null;\n\t}\n\n\toverride get scopedContextKeyService(): IContextKeyService | undefined {\n\t\treturn this._scopedContextKeyService.value;\n\t}\n\n\tprotected createEditor(parent: HTMLElement): void {\n\t\tconst root = append(parent, $(\".extension-editor\"));\n\t\tthis._scopedContextKeyService.value =\n\t\t\tthis.contextKeyService.createScoped(root);\n\t\tthis._scopedContextKeyService.value.createKey(\n\t\t\t\"inExtensionEditor\",\n\t\t\ttrue,\n\t\t);\n\t\tthis.showPreReleaseVersionContextKey =\n\t\t\tCONTEXT_SHOW_PRE_RELEASE_VERSION.bindTo(\n\t\t\t\tthis._scopedContextKeyService.value,\n\t\t\t);\n\n\t\troot.tabIndex = 0; // this is required for the focus tracker on the editor\n\t\troot.style.outline = \"none\";\n\t\troot.setAttribute(\"role\", \"document\");\n\t\tconst header = append(root, $(\".header\"));\n\n\t\tconst iconContainer = append(header, $(\".icon-container\"));\n\t\tconst icon = append(\n\t\t\ticonContainer,\n\t\t\t$<HTMLImageElement>(\"img.icon\", { draggable: false, alt: \"\" }),\n\t\t);\n\t\tconst remoteBadge = this.instantiationService.createInstance(\n\t\t\tRemoteBadgeWidget,\n\t\t\ticonContainer,\n\t\t\ttrue,\n\t\t);\n\n\t\tconst details = append(header, $(\".details\"));\n\t\tconst title = append(details, $(\".title\"));\n\t\tconst name = append(\n\t\t\ttitle,\n\t\t\t$(\"span.name.clickable\", { role: \"heading\", tabIndex: 0 }),\n\t\t);\n\t\tthis._register(\n\t\t\tthis.hoverService.setupManagedHover(\n\t\t\t\tgetDefaultHoverDelegate(\"mouse\"),\n\t\t\t\tname,\n\t\t\t\tlocalize(\"name\", \"Extension name\"),\n\t\t\t),\n\t\t);\n\t\tconst versionWidget = new VersionWidget(title, this.hoverService);\n\n\t\tconst preview = append(title, $(\"span.preview\"));\n\t\tthis._register(\n\t\t\tthis.hoverService.setupManagedHover(\n\t\t\t\tgetDefaultHoverDelegate(\"mouse\"),\n\t\t\t\tpreview,\n\t\t\t\tlocalize(\"preview\", \"Preview\"),\n\t\t\t),\n\t\t);\n\t\tpreview.textContent = localize(\"preview\", \"Preview\");\n\n\t\tconst builtin = append(title, $(\"span.builtin\"));\n\t\tbuiltin.textContent = localize(\"builtin\", \"Built-in\");\n\n\t\tconst subtitle = append(details, $(\".subtitle\"));\n\t\tconst publisher = append(\n\t\t\tappend(subtitle, $(\".subtitle-entry\")),\n\t\t\t$(\".publisher.clickable\", { tabIndex: 0 }),\n\t\t);\n\t\tthis._register(\n\t\t\tthis.hoverService.setupManagedHover(\n\t\t\t\tgetDefaultHoverDelegate(\"mouse\"),\n\t\t\t\tpublisher,\n\t\t\t\tlocalize(\"publisher\", \"Publisher\"),\n\t\t\t),\n\t\t);\n\t\tpublisher.setAttribute(\"role\", \"button\");\n\t\tconst publisherDisplayName = append(publisher, $(\".publisher-name\"));\n\t\tconst verifiedPublisherWidget =\n\t\t\tthis.instantiationService.createInstance(\n\t\t\t\tVerifiedPublisherWidget,\n\t\t\t\tappend(publisher, $(\".verified-publisher\")),\n\t\t\t\tfalse,\n\t\t\t);\n\n\t\tconst resource = append(\n\t\t\tappend(subtitle, $(\".subtitle-entry.resource\")),\n\t\t\t$(\"\", { tabIndex: 0 }),\n\t\t);\n\t\tresource.setAttribute(\"role\", \"button\");\n\n\t\tconst installCount = append(\n\t\t\tappend(subtitle, $(\".subtitle-entry\")),\n\t\t\t$(\"span.install\", { tabIndex: 0 }),\n\t\t);\n\t\tthis._register(\n\t\t\tthis.hoverService.setupManagedHover(\n\t\t\t\tgetDefaultHoverDelegate(\"mouse\"),\n\t\t\t\tinstallCount,\n\t\t\t\tlocalize(\"install count\", \"Install count\"),\n\t\t\t),\n\t\t);\n\t\tconst installCountWidget = this.instantiationService.createInstance(\n\t\t\tInstallCountWidget,\n\t\t\tinstallCount,\n\t\t\tfalse,\n\t\t);\n\n\t\tconst rating = append(\n\t\t\tappend(subtitle, $(\".subtitle-entry\")),\n\t\t\t$(\"span.rating.clickable\", { tabIndex: 0 }),\n\t\t);\n\t\tthis._register(\n\t\t\tthis.hoverService.setupManagedHover(\n\t\t\t\tgetDefaultHoverDelegate(\"mouse\"),\n\t\t\t\trating,\n\t\t\t\tlocalize(\"rating\", \"Rating\"),\n\t\t\t),\n\t\t);\n\t\trating.setAttribute(\"role\", \"link\"); // #132645\n\t\tconst ratingsWidget = this.instantiationService.createInstance(\n\t\t\tRatingsWidget,\n\t\t\trating,\n\t\t\tfalse,\n\t\t);\n\n\t\tconst sponsorWidget = this.instantiationService.createInstance(\n\t\t\tSponsorWidget,\n\t\t\tappend(subtitle, $(\".subtitle-entry\")),\n\t\t);\n\n\t\tconst widgets: ExtensionWidget[] = [\n\t\t\tremoteBadge,\n\t\t\tversionWidget,\n\t\t\tverifiedPublisherWidget,\n\t\t\tinstallCountWidget,\n\t\t\tratingsWidget,\n\t\t\tsponsorWidget,\n\t\t];\n\n\t\tconst description = append(details, $(\".description\"));\n\n\t\tconst installAction = this.instantiationService.createInstance(\n\t\t\tInstallDropdownAction,\n\t\t);\n\t\tconst actions = [\n\t\t\tthis.instantiationService.createInstance(\n\t\t\t\tExtensionRuntimeStateAction,\n\t\t\t),\n\t\t\tthis.instantiationService.createInstance(\n\t\t\t\tExtensionStatusLabelAction,\n\t\t\t),\n\t\t\tthis.instantiationService.createInstance(UpdateAction, true),\n\t\t\tthis.instantiationService.createInstance(SetColorThemeAction),\n\t\t\tthis.instantiationService.createInstance(SetFileIconThemeAction),\n\t\t\tthis.instantiationService.createInstance(SetProductIconThemeAction),\n\t\t\tthis.instantiationService.createInstance(SetLanguageAction),\n\t\t\tthis.instantiationService.createInstance(ClearLanguageAction),\n\n\t\t\tthis.instantiationService.createInstance(EnableDropDownAction),\n\t\t\tthis.instantiationService.createInstance(DisableDropDownAction),\n\t\t\tthis.instantiationService.createInstance(\n\t\t\t\tRemoteInstallAction,\n\t\t\t\tfalse,\n\t\t\t),\n\t\t\tthis.instantiationService.createInstance(LocalInstallAction),\n\t\t\tthis.instantiationService.createInstance(WebInstallAction),\n\t\t\tinstallAction,\n\t\t\tthis.instantiationService.createInstance(InstallingLabelAction),\n\t\t\tthis.instantiationService.createInstance(\n\t\t\t\tButtonWithDropDownExtensionAction,\n\t\t\t\t\"extensions.uninstall\",\n\t\t\t\tUninstallAction.UninstallClass,\n\t\t\t\t[\n\t\t\t\t\t[\n\t\t\t\t\t\tthis.instantiationService.createInstance(\n\t\t\t\t\t\t\tMigrateDeprecatedExtensionAction,\n\t\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t),\n\t\t\t\t\t\tthis.instantiationService.createInstance(\n\t\t\t\t\t\t\tUninstallAction,\n\t\t\t\t\t\t),\n\t\t\t\t\t\tthis.instantiationService.createInstance(\n\t\t\t\t\t\t\tInstallAnotherVersionAction,\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\ttrue,\n\t\t\t\t\t\t),\n\t\t\t\t\t],\n\t\t\t\t],\n\t\t\t),\n\t\t\tthis.instantiationService.createInstance(\n\t\t\t\tTogglePreReleaseExtensionAction,\n\t\t\t),\n\t\t\tthis.instantiationService.createInstance(\n\t\t\t\tToggleAutoUpdateForExtensionAction,\n\t\t\t),\n\t\t\tnew ExtensionEditorManageExtensionAction(\n\t\t\t\tthis.scopedContextKeyService || this.contextKeyService,\n\t\t\t\tthis.instantiationService,\n\t\t\t),\n\t\t];\n\n\t\tconst actionsAndStatusContainer = append(\n\t\t\tdetails,\n\t\t\t$(\".actions-status-container\"),\n\t\t);\n\t\tconst extensionActionBar = this._register(\n\t\t\tnew ActionBar(actionsAndStatusContainer, {\n\t\t\t\tactionViewItemProvider: (action: IAction, options) => {\n\t\t\t\t\tif (action instanceof DropDownExtensionAction) {\n\t\t\t\t\t\treturn action.createActionViewItem(options);\n\t\t\t\t\t}\n\t\t\t\t\tif (action instanceof ButtonWithDropDownExtensionAction) {\n\t\t\t\t\t\treturn new ButtonWithDropdownExtensionActionViewItem(\n\t\t\t\t\t\t\taction,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t...options,\n\t\t\t\t\t\t\t\ticon: true,\n\t\t\t\t\t\t\t\tlabel: true,\n\t\t\t\t\t\t\t\tmenuActionsOrProvider: {\n\t\t\t\t\t\t\t\t\tgetActions: () => action.menuActions,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tmenuActionClassNames:\n\t\t\t\t\t\t\t\t\taction.menuActionClassNames,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tthis.contextMenuService,\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\tif (action instanceof ToggleAutoUpdateForExtensionAction) {\n\t\t\t\t\t\treturn new CheckboxActionViewItem(undefined, action, {\n\t\t\t\t\t\t\t...options,\n\t\t\t\t\t\t\ticon: true,\n\t\t\t\t\t\t\tlabel: true,\n\t\t\t\t\t\t\tcheckboxStyles: defaultCheckboxStyles,\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\treturn undefined;\n\t\t\t\t},\n\t\t\t\tfocusOnlyEnabledItems: true,\n\t\t\t}),\n\t\t);\n\n\t\textensionActionBar.push(actions, { icon: true, label: true });\n\t\textensionActionBar.setFocusable(true);\n\t\t// update focusable elements when the enablement of an action changes\n\t\tthis._register(\n\t\t\tEvent.any(\n\t\t\t\t...actions.map((a) =>\n\t\t\t\t\tEvent.filter(a.onDidChange, (e) => e.enabled !== undefined),\n\t\t\t\t),\n\t\t\t)(() => {\n\t\t\t\textensionActionBar.setFocusable(false);\n\t\t\t\textensionActionBar.setFocusable(true);\n\t\t\t}),\n\t\t);\n\n\t\tconst otherExtensionContainers: IExtensionContainer[] = [];\n\t\tconst extensionStatusAction = this.instantiationService.createInstance(\n\t\t\tExtensionStatusAction,\n\t\t);\n\t\tconst extensionStatusWidget = this._register(\n\t\t\tthis.instantiationService.createInstance(\n\t\t\t\tExtensionStatusWidget,\n\t\t\t\tappend(actionsAndStatusContainer, $(\".status\")),\n\t\t\t\textensionStatusAction,\n\t\t\t),\n\t\t);\n\n\t\totherExtensionContainers.push(\n\t\t\textensionStatusAction,\n\t\t\tnew (class extends ExtensionWidget {\n\t\t\t\trender() {\n\t\t\t\t\tactionsAndStatusContainer.classList.toggle(\n\t\t\t\t\t\t\"list-layout\",\n\t\t\t\t\t\tthis.extension?.state === ExtensionState.Installed,\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t})(),\n\t\t);\n\n\t\tconst recommendationWidget = this.instantiationService.createInstance(\n\t\t\tExtensionRecommendationWidget,\n\t\t\tappend(details, $(\".recommendation\")),\n\t\t);\n\t\twidgets.push(recommendationWidget);\n\n\t\tthis._register(\n\t\t\tEvent.any(\n\t\t\t\textensionStatusWidget.onDidRender,\n\t\t\t\trecommendationWidget.onDidRender,\n\t\t\t)(() => {\n\t\t\t\tif (this.dimension) {\n\t\t\t\t\tthis.layout(this.dimension);\n\t\t\t\t}\n\t\t\t}),\n\t\t);\n\n\t\tconst extensionContainers: ExtensionContainers =\n\t\t\tthis.instantiationService.createInstance(ExtensionContainers, [\n\t\t\t\t...actions,\n\t\t\t\t...widgets,\n\t\t\t\t...otherExtensionContainers,\n\t\t\t]);\n\t\tfor (const disposable of [\n\t\t\t...actions,\n\t\t\t...widgets,\n\t\t\t...otherExtensionContainers,\n\t\t\textensionContainers,\n\t\t]) {\n\t\t\tthis._register(disposable);\n\t\t}\n\n\t\tconst onError = Event.chain(extensionActionBar.onDidRun, ($) =>\n\t\t\t$.map(({ error }) => error).filter((error) => !!error),\n\t\t);\n\n\t\tthis._register(onError(this.onError, this));\n\n\t\tconst body = append(root, $(\".body\"));\n\t\tconst navbar = new NavBar(body);\n\n\t\tconst content = append(body, $(\".content\"));\n\t\tcontent.id = generateUuid(); // An id is needed for the webview parent flow to\n\n\t\tthis.template = {\n\t\t\tbuiltin,\n\t\t\tcontent,\n\t\t\tdescription,\n\t\t\theader,\n\t\t\ticon,\n\t\t\ticonContainer,\n\t\t\tinstallCount,\n\t\t\tname,\n\t\t\tnavbar,\n\t\t\tpreview,\n\t\t\tpublisher,\n\t\t\tpublisherDisplayName,\n\t\t\tresource,\n\t\t\trating,\n\t\t\tactionsAndStatusContainer,\n\t\t\textensionActionBar,\n\t\t\tset extension(extension: IExtension) {\n\t\t\t\textensionContainers.extension = extension;\n\t\t\t},\n\t\t\tset gallery(gallery: IGalleryExtension | null) {\n\t\t\t\tversionWidget.gallery = gallery;\n\t\t\t},\n\t\t\tset manifest(manifest: IExtensionManifest | null) {\n\t\t\t\tinstallAction.manifest = manifest;\n\t\t\t},\n\t\t};\n\t}\n\n\toverride async setInput(\n\t\tinput: ExtensionsInput,\n\t\toptions: IExtensionEditorOptions | undefined,\n\t\tcontext: IEditorOpenContext,\n\t\ttoken: CancellationToken,\n\t): Promise<void> {\n\t\tawait super.setInput(input, options, context, token);\n\t\tthis.updatePreReleaseVersionContext();\n\t\tif (this.template) {\n\t\t\tawait this.render(\n\t\t\t\tinput.extension,\n\t\t\t\tthis.template,\n\t\t\t\t!!options?.preserveFocus,\n\t\t\t);\n\t\t}\n\t}\n\n\toverride setOptions(options: IExtensionEditorOptions | undefined): void {\n\t\tconst currentOptions: IExtensionEditorOptions | undefined =\n\t\t\tthis.options;\n\t\tsuper.setOptions(options);\n\t\tthis.updatePreReleaseVersionContext();\n\n\t\tif (\n\t\t\tthis.input &&\n\t\t\tthis.template &&\n\t\t\tcurrentOptions?.showPreReleaseVersion !==\n\t\t\t\toptions?.showPreReleaseVersion\n\t\t) {\n\t\t\tthis.render(\n\t\t\t\t(this.input as ExtensionsInput).extension,\n\t\t\t\tthis.template,\n\t\t\t\t!!options?.preserveFocus,\n\t\t\t);\n\t\t\treturn;\n\t\t}\n\n\t\tif (options?.tab) {\n\t\t\tthis.template?.navbar.switch(options.tab);\n\t\t}\n\t}\n\n\tprivate updatePreReleaseVersionContext(): void {\n\t\tlet showPreReleaseVersion = (<IExtensionEditorOptions | undefined>(\n\t\t\tthis.options\n\t\t))?.showPreReleaseVersion;\n\t\tif (isUndefined(showPreReleaseVersion)) {\n\t\t\tshowPreReleaseVersion = !!(<ExtensionsInput>this.input).extension\n\t\t\t\t.gallery?.properties.isPreReleaseVersion;\n\t\t}\n\t\tthis.showPreReleaseVersionContextKey?.set(showPreReleaseVersion);\n\t}\n\n\tasync openTab(tab: ExtensionEditorTab): Promise<void> {\n\t\tif (!this.input || !this.template) {\n\t\t\treturn;\n\t\t}\n\t\tif (this.template.navbar.switch(tab)) {\n\t\t\treturn;\n\t\t}\n\t\t// Fallback to Readme tab if ExtensionPack tab does not exist\n\t\tif (tab === ExtensionEditorTab.ExtensionPack) {\n\t\t\tthis.template.navbar.switch(ExtensionEditorTab.Readme);\n\t\t}\n\t}\n\n\tprivate async getGalleryVersionToShow(\n\t\textension: IExtension,\n\t\tpreRelease?: boolean,\n\t): Promise<IGalleryExtension | null> {\n\t\tif (extension.resourceExtension) {\n\t\t\treturn null;\n\t\t}\n\t\tif (extension.local?.source === \"resource\") {\n\t\t\treturn null;\n\t\t}\n\t\tif (isUndefined(preRelease)) {\n\t\t\treturn null;\n\t\t}\n\t\tif (preRelease === extension.gallery?.properties.isPreReleaseVersion) {\n\t\t\treturn null;\n\t\t}\n\t\tif (preRelease && !extension.hasPreReleaseVersion) {\n\t\t\treturn null;\n\t\t}\n\t\tif (!preRelease && !extension.hasReleaseVersion) {\n\t\t\treturn null;\n\t\t}\n\t\treturn (\n\t\t\t(\n\t\t\t\tawait this.extensionGalleryService.getExtensions(\n\t\t\t\t\t[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t...extension.identifier,\n\t\t\t\t\t\t\tpreRelease,\n\t\t\t\t\t\t\thasPreRelease: extension.hasPreReleaseVersion,\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t\tCancellationToken.None,\n\t\t\t\t)\n\t\t\t)[0] || null\n\t\t);\n\t}\n\n\tprivate async render(\n\t\textension: IExtension,\n\t\ttemplate: IExtensionEditorTemplate,\n\t\tpreserveFocus: boolean,\n\t): Promise<void> {\n\t\tthis.activeElement = null;\n\t\tthis.transientDisposables.clear();\n\n\t\tconst token = this.transientDisposables.add(\n\t\t\tnew CancellationTokenSource(),\n\t\t).token;\n\n\t\tconst gallery = await this.getGalleryVersionToShow(\n\t\t\textension,\n\t\t\t(this.options as IExtensionEditorOptions)?.showPreReleaseVersion,\n\t\t);\n\t\tif (token.isCancellationRequested) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.extensionReadme = new Cache(() =>\n\t\t\tgallery\n\t\t\t\t? this.extensionGalleryService.getReadme(gallery, token)\n\t\t\t\t: extension.getReadme(token),\n\t\t);\n\t\tthis.extensionChangelog = new Cache(() =>\n\t\t\tgallery\n\t\t\t\t? this.extensionGalleryService.getChangelog(gallery, token)\n\t\t\t\t: extension.getChangelog(token),\n\t\t);\n\t\tthis.extensionManifest = new Cache(() =>\n\t\t\tgallery\n\t\t\t\t? this.extensionGalleryService.getManifest(gallery, token)\n\t\t\t\t: extension.getManifest(token),\n\t\t);\n\n\t\ttemplate.extension = extension;\n\t\ttemplate.gallery = gallery;\n\t\ttemplate.manifest = null;\n\n\t\tthis.transientDisposables.add(\n\t\t\taddDisposableListener(\n\t\t\t\ttemplate.icon,\n\t\t\t\t\"error\",\n\t\t\t\t() => (template.icon.src = extension.iconUrlFallback),\n\t\t\t\t{ once: true },\n\t\t\t),\n\t\t);\n\t\ttemplate.icon.src = extension.iconUrl;\n\n\t\ttemplate.name.textContent = extension.displayName;\n\t\ttemplate.name.classList.toggle(\"clickable\", !!extension.url);\n\t\ttemplate.name.classList.toggle(\n\t\t\t\"deprecated\",\n\t\t\t!!extension.deprecationInfo,\n\t\t);\n\t\ttemplate.preview.style.display = extension.preview ? \"inherit\" : \"none\";\n\t\ttemplate.builtin.style.display = extension.isBuiltin\n\t\t\t? \"inherit\"\n\t\t\t: \"none\";\n\n\t\ttemplate.description.textContent = extension.description;\n\n\t\t// subtitle\n\t\ttemplate.publisher.classList.toggle(\"clickable\", !!extension.url);\n\t\ttemplate.publisherDisplayName.textContent =\n\t\t\textension.publisherDisplayName;\n\t\ttemplate.publisher.parentElement?.classList.toggle(\n\t\t\t\"hide\",\n\t\t\t!!extension.resourceExtension ||\n\t\t\t\textension.local?.source === \"resource\",\n\t\t);\n\n\t\tconst location =\n\t\t\textension.resourceExtension?.location ??\n\t\t\t(extension.local?.source === \"resource\"\n\t\t\t\t? extension.local?.location\n\t\t\t\t: undefined);\n\t\ttemplate.resource.parentElement?.classList.toggle(\"hide\", !location);\n\t\tif (location) {\n\t\t\tconst workspaceFolder =\n\t\t\t\tthis.contextService.getWorkspaceFolder(location);\n\t\t\tif (workspaceFolder && extension.isWorkspaceScoped) {\n\t\t\t\ttemplate.resource.parentElement?.classList.add(\"clickable\");\n\t\t\t\tthis.transientDisposables.add(\n\t\t\t\t\tthis.hoverService.setupManagedHover(\n\t\t\t\t\t\tgetDefaultHoverDelegate(\"mouse\"),\n\t\t\t\t\t\ttemplate.resource,\n\t\t\t\t\t\tthis.uriIdentityService.extUri.relativePath(\n\t\t\t\t\t\t\tworkspaceFolder.uri,\n\t\t\t\t\t\t\tlocation,\n\t\t\t\t\t\t),\n\t\t\t\t\t),\n\t\t\t\t);\n\t\t\t\ttemplate.resource.textContent = localize(\n\t\t\t\t\t\"workspace extension\",\n\t\t\t\t\t\"Workspace Extension\",\n\t\t\t\t);\n\t\t\t\tthis.transientDisposables.add(\n\t\t\t\t\tonClick(template.resource, () => {\n\t\t\t\t\t\tthis.viewsService\n\t\t\t\t\t\t\t.openView(EXPLORER_VIEW_ID, true)\n\t\t\t\t\t\t\t.then(() =>\n\t\t\t\t\t\t\t\tthis.explorerService.select(location, true),\n\t\t\t\t\t\t\t);\n\t\t\t\t\t}),\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\ttemplate.resource.parentElement?.classList.remove(\"clickable\");\n\t\t\t\tthis.transientDisposables.add(\n\t\t\t\t\tthis.hoverService.setupManagedHover(\n\t\t\t\t\t\tgetDefaultHoverDelegate(\"mouse\"),\n\t\t\t\t\t\ttemplate.resource,\n\t\t\t\t\t\tlocation.path,\n\t\t\t\t\t),\n\t\t\t\t);\n\t\t\t\ttemplate.resource.textContent = localize(\n\t\t\t\t\t\"local extension\",\n\t\t\t\t\t\"Local Extension\",\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\ttemplate.installCount.parentElement?.classList.toggle(\n\t\t\t\"hide\",\n\t\t\t!extension.url,\n\t\t);\n\t\ttemplate.rating.parentElement?.classList.toggle(\"hide\", !extension.url);\n\t\ttemplate.rating.classList.toggle(\"clickable\", !!extension.url);\n\n\t\tif (extension.url) {\n\t\t\tthis.transientDisposables.add(\n\t\t\t\tonClick(template.name, () =>\n\t\t\t\t\tthis.openerService.open(URI.parse(extension.url!)),\n\t\t\t\t),\n\t\t\t);\n\t\t\tthis.transientDisposables.add(\n\t\t\t\tonClick(template.rating, () =>\n\t\t\t\t\tthis.openerService.open(\n\t\t\t\t\t\tURI.parse(`${extension.url}&ssr=false#review-details`),\n\t\t\t\t\t),\n\t\t\t\t),\n\t\t\t);\n\t\t\tthis.transientDisposables.add(\n\t\t\t\tonClick(template.publisher, () =>\n\t\t\t\t\tthis.extensionsWorkbenchService.openSearch(\n\t\t\t\t\t\t`publisher:\"${extension.publisherDisplayName}\"`,\n\t\t\t\t\t),\n\t\t\t\t),\n\t\t\t);\n\t\t}\n\n\t\tconst manifest = await this.extensionManifest.get().promise;\n\t\tif (token.isCancellationRequested) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (manifest) {\n\t\t\ttemplate.manifest = manifest;\n\t\t}\n\n\t\tthis.renderNavbar(extension, manifest, template, preserveFocus);\n\n\t\t// report telemetry\n\t\tconst extRecommendations =\n\t\t\tthis.extensionRecommendationsService.getAllRecommendationsWithReason();\n\t\tlet recommendationsData = {};\n\t\tif (extRecommendations[extension.identifier.id.toLowerCase()]) {\n\t\t\trecommendationsData = {\n\t\t\t\trecommendationReason:\n\t\t\t\t\textRecommendations[extension.identifier.id.toLowerCase()]\n\t\t\t\t\t\t.reasonId,\n\t\t\t};\n\t\t}\n\t\t/* __GDPR__\n\t\t\"extensionGallery:openExtension\" : {\n\t\t\t\"owner\": \"sandy081\",\n\t\t\t\"recommendationReason\": { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\", \"isMeasurement\": true },\n\t\t\t\"${include}\": [\n\t\t\t\t\"${GalleryExtensionTelemetryData}\"\n\t\t\t]\n\t\t}\n\t\t*/\n\t\tthis.telemetryService.publicLog(\"extensionGallery:openExtension\", {\n\t\t\t...extension.telemetryData,\n\t\t\t...recommendationsData,\n\t\t});\n\t}\n\n\tprivate renderNavbar(\n\t\textension: IExtension,\n\t\tmanifest: IExtensionManifest | null,\n\t\ttemplate: IExtensionEditorTemplate,\n\t\tpreserveFocus: boolean,\n\t): void {\n\t\ttemplate.content.innerText = \"\";\n\t\ttemplate.navbar.clear();\n\n\t\tif (this.currentIdentifier !== extension.identifier.id) {\n\t\t\tthis.initialScrollProgress.clear();\n\t\t\tthis.currentIdentifier = extension.identifier.id;\n\t\t}\n\n\t\ttemplate.navbar.push(\n\t\t\tExtensionEditorTab.Readme,\n\t\t\tlocalize(\"details\", \"Details\"),\n\t\t\tlocalize(\n\t\t\t\t\"detailstooltip\",\n\t\t\t\t\"Extension details, rendered from the extension's 'README.md' file\",\n\t\t\t),\n\t\t);\n\t\tif (manifest) {\n\t\t\ttemplate.navbar.push(\n\t\t\t\tExtensionEditorTab.Features,\n\t\t\t\tlocalize(\"features\", \"Features\"),\n\t\t\t\tlocalize(\n\t\t\t\t\t\"featurestooltip\",\n\t\t\t\t\t\"Lists features contributed by this extension\",\n\t\t\t\t),\n\t\t\t);\n\t\t}\n\t\tif (extension.hasChangelog()) {\n\t\t\ttemplate.navbar.push(\n\t\t\t\tExtensionEditorTab.Changelog,\n\t\t\t\tlocalize(\"changelog\", \"Changelog\"),\n\t\t\t\tlocalize(\n\t\t\t\t\t\"changelogtooltip\",\n\t\t\t\t\t\"Extension update history, rendered from the extension's 'CHANGELOG.md' file\",\n\t\t\t\t),\n\t\t\t);\n\t\t}\n\t\tif (extension.dependencies.length) {\n\t\t\ttemplate.navbar.push(\n\t\t\t\tExtensionEditorTab.Dependencies,\n\t\t\t\tlocalize(\"dependencies\", \"Dependencies\"),\n\t\t\t\tlocalize(\n\t\t\t\t\t\"dependenciestooltip\",\n\t\t\t\t\t\"Lists extensions this extension depends on\",\n\t\t\t\t),\n\t\t\t);\n\t\t}\n\t\tif (\n\t\t\tmanifest &&\n\t\t\tmanifest.extensionPack?.length &&\n\t\t\t!this.shallRenderAsExtensionPack(manifest)\n\t\t) {\n\t\t\ttemplate.navbar.push(\n\t\t\t\tExtensionEditorTab.ExtensionPack,\n\t\t\t\tlocalize(\"extensionpack\", \"Extension Pack\"),\n\t\t\t\tlocalize(\n\t\t\t\t\t\"extensionpacktooltip\",\n\t\t\t\t\t\"Lists extensions those will be installed together with this extension\",\n\t\t\t\t),\n\t\t\t);\n\t\t}\n\n\t\tif ((<IExtensionEditorOptions | undefined>this.options)?.tab) {\n\t\t\ttemplate.navbar.switch(\n\t\t\t\t(<IExtensionEditorOptions>this.options).tab!,\n\t\t\t);\n\t\t}\n\t\tif (template.navbar.currentId) {\n\t\t\tthis.onNavbarChange(\n\t\t\t\textension,\n\t\t\t\t{ id: template.navbar.currentId, focus: !preserveFocus },\n\t\t\t\ttemplate,\n\t\t\t);\n\t\t}\n\t\ttemplate.navbar.onChange(\n\t\t\t(e) => this.onNavbarChange(extension, e, template),\n\t\t\tthis,\n\t\t\tthis.transientDisposables,\n\t\t);\n\t}\n\n\toverride clearInput(): void {\n\t\tthis.contentDisposables.clear();\n\t\tthis.transientDisposables.clear();\n\n\t\tsuper.clearInput();\n\t}\n\n\toverride focus(): void {\n\t\tsuper.focus();\n\t\tthis.activeElement?.focus();\n\t}\n\n\tshowFind(): void {\n\t\tthis.activeWebview?.showFind();\n\t}\n\n\trunFindAction(previous: boolean): void {\n\t\tthis.activeWebview?.runFindAction(previous);\n\t}\n\n\tpublic get activeWebview(): IWebview | undefined {\n\t\tif (\n\t\t\t!this.activeElement ||\n\t\t\t!(this.activeElement as IWebview).runFindAction\n\t\t) {\n\t\t\treturn undefined;\n\t\t}\n\t\treturn this.activeElement as IWebview;\n\t}\n\n\tprivate onNavbarChange(\n\t\textension: IExtension,\n\t\t{ id, focus }: { id: string | null; focus: boolean },\n\t\ttemplate: IExtensionEditorTemplate,\n\t): void {\n\t\tthis.contentDisposables.clear();\n\t\ttemplate.content.innerText = \"\";\n\t\tthis.activeElement = null;\n\t\tif (id) {\n\t\t\tconst cts = new CancellationTokenSource();\n\t\t\tthis.contentDisposables.add(toDisposable(() => cts.dispose(true)));\n\t\t\tthis.open(id, extension, template, cts.token).then(\n\t\t\t\t(activeElement) => {\n\t\t\t\t\tif (cts.token.isCancellationRequested) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tthis.activeElement = activeElement;\n\t\t\t\t\tif (focus) {\n\t\t\t\t\t\tthis.focus();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t);\n\t\t}\n\t}\n\n\tprivate open(\n\t\tid: string,\n\t\textension: IExtension,\n\t\ttemplate: IExtensionEditorTemplate,\n\t\ttoken: CancellationToken,\n\t): Promise<IActiveElement | null> {\n\t\tswitch (id) {\n\t\t\tcase ExtensionEditorTab.Readme:\n\t\t\t\treturn this.openDetails(extension, template, token);\n\t\t\tcase ExtensionEditorTab.Features:\n\t\t\t\treturn this.openFeatures(template, token);\n\t\t\tcase ExtensionEditorTab.Changelog:\n\t\t\t\treturn this.openChangelog(extension, template, token);\n\t\t\tcase ExtensionEditorTab.Dependencies:\n\t\t\t\treturn this.openExtensionDependencies(\n\t\t\t\t\textension,\n\t\t\t\t\ttemplate,\n\t\t\t\t\ttoken,\n\t\t\t\t);\n\t\t\tcase ExtensionEditorTab.ExtensionPack:\n\t\t\t\treturn this.openExtensionPack(extension, template, token);\n\t\t}\n\t\treturn Promise.resolve(null);\n\t}\n\n\tprivate async openMarkdown(\n\t\textension: IExtension,\n\t\tcacheResult: CacheResult<string>,\n\t\tnoContentCopy: string,\n\t\tcontainer: HTMLElement,\n\t\twebviewIndex: WebviewIndex,\n\t\ttitle: string,\n\t\ttoken: CancellationToken,\n\t): Promise<IActiveElement | null> {\n\t\ttry {\n\t\t\tconst body = await this.renderMarkdown(\n\t\t\t\textension,\n\t\t\t\tcacheResult,\n\t\t\t\tcontainer,\n\t\t\t\ttoken,\n\t\t\t);\n\t\t\tif (token.isCancellationRequested) {\n\t\t\t\treturn Promise.resolve(null);\n\t\t\t}\n\n\t\t\tconst webview = this.contentDisposables.add(\n\t\t\t\tthis.webviewService.createWebviewOverlay({\n\t\t\t\t\ttitle,\n\t\t\t\t\toptions: {\n\t\t\t\t\t\tenableFindWidget: true,\n\t\t\t\t\t\ttryRestoreScrollPosition: true,\n\t\t\t\t\t\tdisableServiceWorker: true,\n\t\t\t\t\t},\n\t\t\t\t\tcontentOptions: {},\n\t\t\t\t\textension: undefined,\n\t\t\t\t}),\n\t\t\t);\n\n\t\t\twebview.initialScrollProgress =\n\t\t\t\tthis.initialScrollProgress.get(webviewIndex) || 0;\n\n\t\t\twebview.claim(this, this.window, this.scopedContextKeyService);\n\t\t\tsetParentFlowTo(webview.container, container);\n\t\t\twebview.layoutWebviewOverElement(container);\n\n\t\t\twebview.setHtml(body);\n\t\t\twebview.claim(this, this.window, undefined);\n\n\t\t\tthis.contentDisposables.add(\n\t\t\t\twebview.onDidFocus(() => this._onDidFocus?.fire()),\n\t\t\t);\n\n\t\t\tthis.contentDisposables.add(\n\t\t\t\twebview.onDidScroll(() =>\n\t\t\t\t\tthis.initialScrollProgress.set(\n\t\t\t\t\t\twebviewIndex,\n\t\t\t\t\t\twebview.initialScrollProgress,\n\t\t\t\t\t),\n\t\t\t\t),\n\t\t\t);\n\n\t\t\tconst removeLayoutParticipant = arrays.insert(\n\t\t\t\tthis.layoutParticipants,\n\t\t\t\t{\n\t\t\t\t\tlayout: () => {\n\t\t\t\t\t\twebview.layoutWebviewOverElement(container);\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t);\n\t\t\tthis.contentDisposables.add(toDisposable(removeLayoutParticipant));\n\n\t\t\tlet isDisposed = false;\n\t\t\tthis.contentDisposables.add(\n\t\t\t\ttoDisposable(() => {\n\t\t\t\t\tisDisposed = true;\n\t\t\t\t}),\n\t\t\t);\n\n\t\t\tthis.contentDisposables.add(\n\t\t\t\tthis.themeService.onDidColorThemeChange(async () => {\n\t\t\t\t\t// Render again since syntax highlighting of code blocks may have changed\n\t\t\t\t\tconst body = await this.renderMarkdown(\n\t\t\t\t\t\textension,\n\t\t\t\t\t\tcacheResult,\n\t\t\t\t\t\tcontainer,\n\t\t\t\t\t);\n\t\t\t\t\tif (!isDisposed) {\n\t\t\t\t\t\t// Make sure we weren't disposed of in the meantime\n\t\t\t\t\t\twebview.setHtml(body);\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t);\n\n\t\t\tthis.contentDisposables.add(\n\t\t\t\twebview.onDidClickLink((link) => {\n\t\t\t\t\tif (!link) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t// Only allow links with specific schemes\n\t\t\t\t\tif (\n\t\t\t\t\t\tmatchesScheme(link, Schemas.http) ||\n\t\t\t\t\t\tmatchesScheme(link, Schemas.https) ||\n\t\t\t\t\t\tmatchesScheme(link, Schemas.mailto)\n\t\t\t\t\t) {\n\t\t\t\t\t\tthis.openerService.open(link);\n\t\t\t\t\t}\n\t\t\t\t\tif (\n\t\t\t\t\t\tmatchesScheme(link, Schemas.command) &&\n\t\t\t\t\t\textension.type === ExtensionType.System\n\t\t\t\t\t) {\n\t\t\t\t\t\tthis.openerService.open(link, { allowCommands: true });\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t);\n\n\t\t\treturn webview;\n\t\t} catch (e) {\n\t\t\tconst p = append(container, $(\"p.nocontent\"));\n\t\t\tp.textContent = noContentCopy;\n\t\t\treturn p;\n\t\t}\n\t}\n\n\tprivate async renderMarkdown(\n\t\textension: IExtension,\n\t\tcacheResult: CacheResult<string>,\n\t\tcontainer: HTMLElement,\n\t\ttoken?: CancellationToken,\n\t): Promise<string> {\n\t\tconst contents = await this.loadContents(() => cacheResult, container);\n\t\tif (token?.isCancellationRequested) {\n\t\t\treturn \"\";\n\t\t}\n\n\t\tconst content = await renderMarkdownDocument(\n\t\t\tcontents,\n\t\t\tthis.extensionService,\n\t\t\tthis.languageService,\n\t\t\t{ shouldSanitize: extension.type !== ExtensionType.System, token },\n\t\t);\n\t\tif (token?.isCancellationRequested) {\n\t\t\treturn \"\";\n\t\t}\n\n\t\treturn this.renderBody(content);\n\t}\n\n\tprivate renderBody(body: string): string {\n\t\tconst nonce = generateUuid();\n\t\tconst colorMap = TokenizationRegistry.getColorMap();\n\t\tconst css = colorMap ? generateTokensCSSForColorMap(colorMap) : \"\";\n\t\treturn `<!DOCTYPE html>\n\t\t<html>\n\t\t\t<head>\n\t\t\t\t<meta http-equiv=\"Content-type\" content=\"text/html;charset=UTF-8\">\n\t\t\t\t<meta http-equiv=\"Content-Security-Policy\" content=\"default-src 'none'; img-src https: data:; media-src https:; script-src 'none'; style-src 'nonce-${nonce}';\">\n\t\t\t\t<style nonce=\"${nonce}\">\n\t\t\t\t\t${DEFAULT_MARKDOWN_STYLES}\n\n\t\t\t\t\t/* prevent scroll-to-top button from blocking the body text */\n\t\t\t\t\tbody {\n\t\t\t\t\t\tpadding-bottom: 75px;\n\t\t\t\t\t}\n\n\t\t\t\t\t#scroll-to-top {\n\t\t\t\t\t\tposition: fixed;\n\t\t\t\t\t\twidth: 32px;\n\t\t\t\t\t\theight: 32px;\n\t\t\t\t\t\tright: 25px;\n\t\t\t\t\t\tbottom: 25px;\n\t\t\t\t\t\tbackground-color: var(--vscode-button-secondaryBackground);\n\t\t\t\t\t\tborder-color: var(--vscode-button-border);\n\t\t\t\t\t\tborder-radius: 50%;\n\t\t\t\t\t\tcursor: pointer;\n\t\t\t\t\t\tbox-shadow: 1px 1px 1px rgba(0,0,0,.25);\n\t\t\t\t\t\toutline: none;\n\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\tjustify-content: center;\n\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t}\n\n\t\t\t\t\t#scroll-to-top:hover {\n\t\t\t\t\t\tbackground-color: var(--vscode-button-secondaryHoverBackground);\n\t\t\t\t\t\tbox-shadow: 2px 2px 2px rgba(0,0,0,.25);\n\t\t\t\t\t}\n\n\t\t\t\t\tbody.vscode-high-contrast #scroll-to-top {\n\t\t\t\t\t\tborder-width: 2px;\n\t\t\t\t\t\tborder-style: solid;\n\t\t\t\t\t\tbox-shadow: none;\n\t\t\t\t\t}\n\n\t\t\t\t\t#scroll-to-top span.icon::before {\n\t\t\t\t\t\tcontent: \"\";\n\t\t\t\t\t\tdisplay: block;\n\t\t\t\t\t\tbackground: var(--vscode-button-secondaryForeground);\n\t\t\t\t\t\t/* Chevron up icon */\n\t\t\t\t\t\twebkit-mask-image: url('data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE5LjIuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCAxNiAxNiIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTYgMTY7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4KCS5zdDB7ZmlsbDojRkZGRkZGO30KCS5zdDF7ZmlsbDpub25lO30KPC9zdHlsZT4KPHRpdGxlPnVwY2hldnJvbjwvdGl0bGU+CjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik04LDUuMWwtNy4zLDcuM0wwLDExLjZsOC04bDgsOGwtMC43LDAuN0w4LDUuMXoiLz4KPHJlY3QgY2xhc3M9InN0MSIgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2Ii8+Cjwvc3ZnPgo=');\n\t\t\t\t\t\t-webkit-mask-image: url('data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE5LjIuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCAxNiAxNiIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTYgMTY7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4KCS5zdDB7ZmlsbDojRkZGRkZGO30KCS5zdDF7ZmlsbDpub25lO30KPC9zdHlsZT4KPHRpdGxlPnVwY2hldnJvbjwvdGl0bGU+CjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik04LDUuMWwtNy4zLDcuM0wwLDExLjZsOC04bDgsOGwtMC43LDAuN0w4LDUuMXoiLz4KPHJlY3QgY2xhc3M9InN0MSIgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2Ii8+Cjwvc3ZnPgo=');\n\t\t\t\t\t\twidth: 16px;\n\t\t\t\t\t\theight: 16px;\n\t\t\t\t\t}\n\t\t\t\t\t${css}\n\t\t\t\t</style>\n\t\t\t</head>\n\t\t\t<body>\n\t\t\t\t<a id=\"scroll-to-top\" role=\"button\" aria-label=\"scroll to top\" href=\"#\"><span class=\"icon\"></span></a>\n\t\t\t\t${body}\n\t\t\t</body>\n\t\t</html>`;\n\t}\n\n\tprivate async openDetails(\n\t\textension: IExtension,\n\t\ttemplate: IExtensionEditorTemplate,\n\t\ttoken: CancellationToken,\n\t): Promise<IActiveElement | null> {\n\t\tconst details = append(template.content, $(\".details\"));\n\t\tconst readmeContainer = append(details, $(\".readme-container\"));\n\t\tconst additionalDetailsContainer = append(\n\t\t\tdetails,\n\t\t\t$(\".additional-details-container\"),\n\t\t);\n\n\t\tconst layout = () =>\n\t\t\tdetails.classList.toggle(\n\t\t\t\t\"narrow\",\n\t\t\t\tthis.dimension && this.dimension.width < 500,\n\t\t\t);\n\t\tlayout();\n\t\tthis.contentDisposables.add(\n\t\t\ttoDisposable(arrays.insert(this.layoutParticipants, { layout })),\n\t\t);\n\n\t\tlet activeElement: IActiveElement | null = null;\n\t\tconst manifest = await this.extensionManifest!.get().promise;\n\t\tif (\n\t\t\tmanifest &&\n\t\t\tmanifest.extensionPack?.length &&\n\t\t\tthis.shallRenderAsExtensionPack(manifest)\n\t\t) {\n\t\t\tactiveElement = await this.openExtensionPackReadme(\n\t\t\t\textension,\n\t\t\t\tmanifest,\n\t\t\t\treadmeContainer,\n\t\t\t\ttoken,\n\t\t\t);\n\t\t} else {\n\t\t\tactiveElement = await this.openMarkdown(\n\t\t\t\textension,\n\t\t\t\tthis.extensionReadme!.get(),\n\t\t\t\tlocalize(\"noReadme\", \"No README available.\"),\n\t\t\t\treadmeContainer,\n\t\t\t\tWebviewIndex.Readme,\n\t\t\t\tlocalize(\"Readme title\", \"Readme\"),\n\t\t\t\ttoken,\n\t\t\t);\n\t\t}\n\n\t\tthis.renderAdditionalDetails(additionalDetailsContainer, extension);\n\t\treturn activeElement;\n\t}\n\n\tprivate shallRenderAsExtensionPack(manifest: IExtensionManifest): boolean {\n\t\treturn !!manifest.categories?.some(\n\t\t\t(category) => category.toLowerCase() === \"extension packs\",\n\t\t);\n\t}\n\n\tprivate async openExtensionPackReadme(\n\t\textension: IExtension,\n\t\tmanifest: IExtensionManifest,\n\t\tcontainer: HTMLElement,\n\t\ttoken: CancellationToken,\n\t): Promise<IActiveElement | null> {\n\t\tif (token.isCancellationRequested) {\n\t\t\treturn Promise.resolve(null);\n\t\t}\n\n\t\tconst extensionPackReadme = append(\n\t\t\tcontainer,\n\t\t\t$(\"div\", { class: \"extension-pack-readme\" }),\n\t\t);\n\t\textensionPackReadme.style.margin = \"0 auto\";\n\t\textensionPackReadme.style.maxWidth = \"882px\";\n\n\t\tconst extensionPack = append(\n\t\t\textensionPackReadme,\n\t\t\t$(\"div\", { class: \"extension-pack\" }),\n\t\t);\n\t\tif (manifest.extensionPack!.length <= 3) {\n\t\t\textensionPackReadme.classList.add(\"one-row\");\n\t\t} else if (manifest.extensionPack!.length <= 6) {\n\t\t\textensionPackReadme.classList.add(\"two-rows\");\n\t\t} else if (manifest.extensionPack!.length <= 9) {\n\t\t\textensionPackReadme.classList.add(\"three-rows\");\n\t\t} else {\n\t\t\textensionPackReadme.classList.add(\"more-rows\");\n\t\t}\n\n\t\tconst extensionPackHeader = append(extensionPack, $(\"div.header\"));\n\t\textensionPackHeader.textContent = localize(\n\t\t\t\"extension pack\",\n\t\t\t\"Extension Pack ({0})\",\n\t\t\tmanifest.extensionPack!.length,\n\t\t);\n\t\tconst extensionPackContent = append(\n\t\t\textensionPack,\n\t\t\t$(\"div\", { class: \"extension-pack-content\" }),\n\t\t);\n\t\textensionPackContent.setAttribute(\"tabindex\", \"0\");\n\t\tappend(extensionPack, $(\"div.footer\"));\n\t\tconst readmeContent = append(\n\t\t\textensionPackReadme,\n\t\t\t$(\"div.readme-content\"),\n\t\t);\n\n\t\tawait Promise.all([\n\t\t\tthis.renderExtensionPack(manifest, extensionPackContent, token),\n\t\t\tthis.openMarkdown(\n\t\t\t\textension,\n\t\t\t\tthis.extensionReadme!.get(),\n\t\t\t\tlocalize(\"noReadme\", \"No README available.\"),\n\t\t\t\treadmeContent,\n\t\t\t\tWebviewIndex.Readme,\n\t\t\t\tlocalize(\"Readme title\", \"Readme\"),\n\t\t\t\ttoken,\n\t\t\t),\n\t\t]);\n\n\t\treturn { focus: () => extensionPackContent.focus() };\n\t}\n\n\tprivate renderAdditionalDetails(\n\t\tcontainer: HTMLElement,\n\t\textension: IExtension,\n\t): void {\n\t\tconst content = $(\"div\", {\n\t\t\tclass: \"additional-details-content\",\n\t\t\ttabindex: \"0\",\n\t\t});\n\t\tconst scrollableContent = new DomScrollableElement(content, {});\n\t\tconst layout = () => scrollableContent.scanDomNode();\n\t\tconst removeLayoutParticipant = arrays.insert(this.layoutParticipants, {\n\t\t\tlayout,\n\t\t});\n\t\tthis.contentDisposables.add(toDisposable(removeLayoutParticipant));\n\t\tthis.contentDisposables.add(scrollableContent);\n\n\t\tthis.renderCategories(content, extension);\n\t\tthis.renderExtensionResources(content, extension);\n\t\tthis.renderMoreInfo(content, extension);\n\n\t\tappend(container, scrollableContent.getDomNode());\n\t\tscrollableContent.scanDomNode();\n\t}\n\n\tprivate renderCategories(\n\t\tcontainer: HTMLElement,\n\t\textension: IExtension,\n\t): void {\n\t\tif (extension.categories.length) {\n\t\t\tconst categoriesContainer = append(\n\t\t\t\tcontainer,\n\t\t\t\t$(\".categories-container.additional-details-element\"),\n\t\t\t);\n\t\t\tappend(\n\t\t\t\tcategoriesContainer,\n\t\t\t\t$(\n\t\t\t\t\t\".additional-details-title\",\n\t\t\t\t\tundefined,\n\t\t\t\t\tlocalize(\"categories\", \"Categories\"),\n\t\t\t\t),\n\t\t\t);\n\t\t\tconst categoriesElement = append(\n\t\t\t\tcategoriesContainer,\n\t\t\t\t$(\".categories\"),\n\t\t\t);\n\t\t\tfor (const category of extension.categories) {\n\t\t\t\tthis.transientDisposables.add(\n\t\t\t\t\tonClick(\n\t\t\t\t\t\tappend(\n\t\t\t\t\t\t\tcategoriesElement,\n\t\t\t\t\t\t\t$(\"span.category\", { tabindex: \"0\" }, category),\n\t\t\t\t\t\t),\n\t\t\t\t\t\t() =>\n\t\t\t\t\t\t\tthis.extensionsWorkbenchService.openSearch(\n\t\t\t\t\t\t\t\t`@category:\"${category}\"`,\n\t\t\t\t\t\t\t),\n\t\t\t\t\t),\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate renderExtensionResources(\n\t\tcontainer: HTMLElement,\n\t\textension: IExtension,\n\t): void {\n\t\tconst resources: [string, URI][] = [];\n\t\tif (extension.url) {\n\t\t\tresources.push([\n\t\t\t\tlocalize(\"Marketplace\", \"Marketplace\"),\n\t\t\t\tURI.parse(extension.url),\n\t\t\t]);\n\t\t}\n\t\tif (extension.url && extension.supportUrl) {\n\t\t\ttry {\n\t\t\t\tresources.push([\n\t\t\t\t\tlocalize(\"issues\", \"Issues\"),\n\t\t\t\t\tURI.parse(extension.supportUrl),\n\t\t\t\t]);\n\t\t\t} catch (error) {\n\t\t\t\t/* Ignore */\n\t\t\t}\n\t\t}\n\t\tif (extension.repository) {\n\t\t\ttry {\n\t\t\t\tresources.push([\n\t\t\t\t\tlocalize(\"repository\", \"Repository\"),\n\t\t\t\t\tURI.parse(extension.repository),\n\t\t\t\t]);\n\t\t\t} catch (error) {\n\t\t\t\t/* Ignore */\n\t\t\t}\n\t\t}\n\t\tif (extension.url && extension.licenseUrl) {\n\t\t\ttry {\n\t\t\t\tresources.push([\n\t\t\t\t\tlocalize(\"license\", \"License\"),\n\t\t\t\t\tURI.parse(extension.licenseUrl),\n\t\t\t\t]);\n\t\t\t} catch (error) {\n\t\t\t\t/* Ignore */\n\t\t\t}\n\t\t}\n\t\tif (extension.publisherUrl) {\n\t\t\tresources.push([\n\t\t\t\textension.publisherDisplayName,\n\t\t\t\textension.publisherUrl,\n\t\t\t]);\n\t\t}\n\t\tif (resources.length || extension.publisherSponsorLink) {\n\t\t\tconst extensionResourcesContainer = append(\n\t\t\t\tcontainer,\n\t\t\t\t$(\".resources-container.additional-details-element\"),\n\t\t\t);\n\t\t\tappend(\n\t\t\t\textensionResourcesContainer,\n\t\t\t\t$(\n\t\t\t\t\t\".additional-details-title\",\n\t\t\t\t\tundefined,\n\t\t\t\t\tlocalize(\"resources\", \"Resources\"),\n\t\t\t\t),\n\t\t\t);\n\t\t\tconst resourcesElement = append(\n\t\t\t\textensionResourcesContainer,\n\t\t\t\t$(\".resources\"),\n\t\t\t);\n\t\t\tfor (const [label, uri] of resources) {\n\t\t\t\tconst resource = append(\n\t\t\t\t\tresourcesElement,\n\t\t\t\t\t$(\"a.resource\", { tabindex: \"0\" }, label),\n\t\t\t\t);\n\t\t\t\tthis.transientDisposables.add(\n\t\t\t\t\tonClick(resource, () => this.openerService.open(uri)),\n\t\t\t\t);\n\t\t\t\tthis.transientDisposables.add(\n\t\t\t\t\tthis.hoverService.setupManagedHover(\n\t\t\t\t\t\tgetDefaultHoverDelegate(\"mouse\"),\n\t\t\t\t\t\tresource,\n\t\t\t\t\t\turi.toString(),\n\t\t\t\t\t),\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate renderMoreInfo(\n\t\tcontainer: HTMLElement,\n\t\textension: IExtension,\n\t): void {\n\t\tconst gallery = extension.gallery;\n\t\tconst moreInfoContainer = append(\n\t\t\tcontainer,\n\t\t\t$(\".more-info-container.additional-details-element\"),\n\t\t);\n\t\tappend(\n\t\t\tmoreInfoContainer,\n\t\t\t$(\n\t\t\t\t\".additional-details-title\",\n\t\t\t\tundefined,\n\t\t\t\tlocalize(\"Marketplace Info\", \"More Info\"),\n\t\t\t),\n\t\t);\n\t\tconst moreInfo = append(moreInfoContainer, $(\".more-info\"));\n\t\tconst toDateString = (date: Date) =>\n\t\t\t`${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, \"0\")}-${String(date.getDate()).padStart(2, \"0\")}, ${date.toLocaleTimeString(language, { hourCycle: \"h23\" })}`;\n\t\tif (gallery) {\n\t\t\tappend(\n\t\t\t\tmoreInfo,\n\t\t\t\t$(\n\t\t\t\t\t\".more-info-entry\",\n\t\t\t\t\tundefined,\n\t\t\t\t\t$(\"div\", undefined, localize(\"published\", \"Published\")),\n\t\t\t\t\t$(\n\t\t\t\t\t\t\"div\",\n\t\t\t\t\t\tundefined,\n\t\t\t\t\t\ttoDateString(new Date(gallery.releaseDate)),\n\t\t\t\t\t),\n\t\t\t\t),\n\t\t\t\t$(\n\t\t\t\t\t\".more-info-entry\",\n\t\t\t\t\tundefined,\n\t\t\t\t\t$(\n\t\t\t\t\t\t\"div\",\n\t\t\t\t\t\tundefined,\n\t\t\t\t\t\tlocalize(\"last released\", \"Last released\"),\n\t\t\t\t\t),\n\t\t\t\t\t$(\n\t\t\t\t\t\t\"div\",\n\t\t\t\t\t\tundefined,\n\t\t\t\t\t\ttoDateString(new Date(gallery.lastUpdated)),\n\t\t\t\t\t),\n\t\t\t\t),\n\t\t\t);\n\t\t}\n\t\tif (extension.local && extension.local.installedTimestamp) {\n\t\t\tappend(\n\t\t\t\tmoreInfo,\n\t\t\t\t$(\n\t\t\t\t\t\".more-info-entry\",\n\t\t\t\t\tundefined,\n\t\t\t\t\t$(\n\t\t\t\t\t\t\"div\",\n\t\t\t\t\t\tundefined,\n\t\t\t\t\t\tlocalize(\"last updated\", \"Last updated\"),\n\t\t\t\t\t),\n\t\t\t\t\t$(\n\t\t\t\t\t\t\"div\",\n\t\t\t\t\t\tundefined,\n\t\t\t\t\t\ttoDateString(\n\t\t\t\t\t\t\tnew Date(extension.local.installedTimestamp),\n\t\t\t\t\t\t),\n\t\t\t\t\t),\n\t\t\t\t),\n\t\t\t);\n\t\t}\n\t\tappend(\n\t\t\tmoreInfo,\n\t\t\t$(\n\t\t\t\t\".more-info-entry\",\n\t\t\t\tundefined,\n\t\t\t\t$(\"div\", undefined, localize(\"id\", \"Identifier\")),\n\t\t\t\t$(\"code\", undefined, extension.identifier.id),\n\t\t\t),\n\t\t);\n\t}\n\n\tprivate openChangelog(\n\t\textension: IExtension,\n\t\ttemplate: IExtensionEditorTemplate,\n\t\ttoken: CancellationToken,\n\t): Promise<IActiveElement | null> {\n\t\treturn this.openMarkdown(\n\t\t\textension,\n\t\t\tthis.extensionChangelog!.get(),\n\t\t\tlocalize(\"noChangelog\", \"No Changelog available.\"),\n\t\t\ttemplate.content,\n\t\t\tWebviewIndex.Changelog,\n\t\t\tlocalize(\"Changelog title\", \"Changelog\"),\n\t\t\ttoken,\n\t\t);\n\t}\n\n\tprivate async openFeatures(\n\t\ttemplate: IExtensionEditorTemplate,\n\t\ttoken: CancellationToken,\n\t): Promise<IActiveElement | null> {\n\t\tconst manifest = await this.loadContents(\n\t\t\t() => this.extensionManifest!.get(),\n\t\t\ttemplate.content,\n\t\t);\n\t\tif (token.isCancellationRequested) {\n\t\t\treturn null;\n\t\t}\n\t\tif (!manifest) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst extensionFeaturesTab = this.contentDisposables.add(\n\t\t\tthis.instantiationService.createInstance(\n\t\t\t\tExtensionFeaturesTab,\n\t\t\t\tmanifest,\n\t\t\t\t(<IExtensionEditorOptions | undefined>this.options)?.feature,\n\t\t\t),\n\t\t);\n\t\tconst layout = () =>\n\t\t\textensionFeaturesTab.layout(\n\t\t\t\ttemplate.content.clientHeight,\n\t\t\t\ttemplate.content.clientWidth,\n\t\t\t);\n\t\tconst removeLayoutParticipant = arrays.insert(this.layoutParticipants, {\n\t\t\tlayout,\n\t\t});\n\t\tthis.contentDisposables.add(toDisposable(removeLayoutParticipant));\n\t\tappend(template.content, extensionFeaturesTab.domNode);\n\t\tlayout();\n\t\treturn extensionFeaturesTab.domNode;\n\t}\n\n\tprivate openExtensionDependencies(\n\t\textension: IExtension,\n\t\ttemplate: IExtensionEditorTemplate,\n\t\ttoken: CancellationToken,\n\t): Promise<IActiveElement | null> {\n\t\tif (token.isCancellationRequested) {\n\t\t\treturn Promise.resolve(null);\n\t\t}\n\n\t\tif (arrays.isFalsyOrEmpty(extension.dependencies)) {\n\t\t\tappend(template.content, $(\"p.nocontent\")).textContent = localize(\n\t\t\t\t\"noDependencies\",\n\t\t\t\t\"No Dependencies\",\n\t\t\t);\n\t\t\treturn Promise.resolve(template.content);\n\t\t}\n\n\t\tconst content = $(\"div\", { class: \"subcontent\" });\n\t\tconst scrollableContent = new DomScrollableElement(content, {});\n\t\tappend(template.content, scrollableContent.getDomNode());\n\t\tthis.contentDisposables.add(scrollableContent);\n\n\t\tconst dependenciesTree = this.instantiationService.createInstance(\n\t\t\tExtensionsTree,\n\t\t\tnew ExtensionData(\n\t\t\t\textension,\n\t\t\t\tnull,\n\t\t\t\t(extension) => extension.dependencies || [],\n\t\t\t\tthis.extensionsWorkbenchService,\n\t\t\t),\n\t\t\tcontent,\n\t\t\t{\n\t\t\t\tlistBackground: editorBackground,\n\t\t\t},\n\t\t);\n\t\tconst layout = () => {\n\t\t\tscrollableContent.scanDomNode();\n\t\t\tconst scrollDimensions = scrollableContent.getScrollDimensions();\n\t\t\tdependenciesTree.layout(scrollDimensions.height);\n\t\t};\n\t\tconst removeLayoutParticipant = arrays.insert(this.layoutParticipants, {\n\t\t\tlayout,\n\t\t});\n\t\tthis.contentDisposables.add(toDisposable(removeLayoutParticipant));\n\n\t\tthis.contentDisposables.add(dependenciesTree);\n\t\tscrollableContent.scanDomNode();\n\t\treturn Promise.resolve({\n\t\t\tfocus() {\n\t\t\t\tdependenciesTree.domFocus();\n\t\t\t},\n\t\t});\n\t}\n\n\tprivate async openExtensionPack(\n\t\textension: IExtension,\n\t\ttemplate: IExtensionEditorTemplate,\n\t\ttoken: CancellationToken,\n\t): Promise<IActiveElement | null> {\n\t\tif (token.isCancellationRequested) {\n\t\t\treturn Promise.resolve(null);\n\t\t}\n\t\tconst manifest = await this.loadContents(\n\t\t\t() => this.extensionManifest!.get(),\n\t\t\ttemplate.content,\n\t\t);\n\t\tif (token.isCancellationRequested) {\n\t\t\treturn null;\n\t\t}\n\t\tif (!manifest) {\n\t\t\treturn null;\n\t\t}\n\t\treturn this.renderExtensionPack(manifest, template.content, token);\n\t}\n\n\tprivate async renderExtensionPack(\n\t\tmanifest: IExtensionManifest,\n\t\tparent: HTMLElement,\n\t\ttoken: CancellationToken,\n\t): Promise<IActiveElement | null> {\n\t\tif (token.isCancellationRequested) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst content = $(\"div\", { class: \"subcontent\" });\n\t\tconst scrollableContent = new DomScrollableElement(content, {\n\t\t\tuseShadows: false,\n\t\t});\n\t\tappend(parent, scrollableContent.getDomNode());\n\n\t\tconst extensionsGridView = this.instantiationService.createInstance(\n\t\t\tExtensionsGridView,\n\t\t\tcontent,\n\t\t\tnew Delegate(),\n\t\t);\n\t\tconst extensions: IExtension[] = await getExtensions(\n\t\t\tmanifest.extensionPack!,\n\t\t\tthis.extensionsWorkbenchService,\n\t\t);\n\t\textensionsGridView.setExtensions(extensions);\n\t\tscrollableContent.scanDomNode();\n\n\t\tthis.contentDisposables.add(scrollableContent);\n\t\tthis.contentDisposables.add(extensionsGridView);\n\t\tthis.contentDisposables.add(\n\t\t\ttoDisposable(\n\t\t\t\tarrays.insert(this.layoutParticipants, {\n\t\t\t\t\tlayout: () => scrollableContent.scanDomNode(),\n\t\t\t\t}),\n\t\t\t),\n\t\t);\n\n\t\treturn content;\n\t}\n\n\tprivate loadContents<T>(\n\t\tloadingTask: () => CacheResult<T>,\n\t\tcontainer: HTMLElement,\n\t): Promise<T> {\n\t\tcontainer.classList.add(\"loading\");\n\n\t\tconst result = this.contentDisposables.add(loadingTask());\n\t\tconst onDone = () => container.classList.remove(\"loading\");\n\t\tresult.promise.then(onDone, onDone);\n\n\t\treturn result.promise;\n\t}\n\n\tlayout(dimension: Dimension): void {\n\t\tthis.dimension = dimension;\n\t\tthis.layoutParticipants.forEach((p) => p.layout());\n\t}\n\n\tprivate onError(err: any): void {\n\t\tif (isCancellationError(err)) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.notificationService.error(err);\n\t}\n}\n\nconst contextKeyExpr = ContextKeyExpr.and(\n\tContextKeyExpr.equals(\"activeEditor\", ExtensionEditor.ID),\n\tEditorContextKeys.focus.toNegated(),\n);\nregisterAction2(\n\tclass ShowExtensionEditorFindAction extends Action2 {\n\t\tconstructor() {\n\t\t\tsuper({\n\t\t\t\tid: \"editor.action.extensioneditor.showfind\",\n\t\t\t\ttitle: localize(\"find\", \"Find\"),\n\t\t\t\tkeybinding: {\n\t\t\t\t\twhen: contextKeyExpr,\n\t\t\t\t\tweight: KeybindingWeight.EditorContrib,\n\t\t\t\t\tprimary: KeyMod.CtrlCmd | KeyCode.KeyF,\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\t\trun(accessor: ServicesAccessor): any {\n\t\t\tconst extensionEditor = getExtensionEditor(accessor);\n\t\t\textensionEditor?.showFind();\n\t\t}\n\t},\n);\n\nregisterAction2(\n\tclass StartExtensionEditorFindNextAction extends Action2 {\n\t\tconstructor() {\n\t\t\tsuper({\n\t\t\t\tid: \"editor.action.extensioneditor.findNext\",\n\t\t\t\ttitle: localize(\"find next\", \"Find Next\"),\n\t\t\t\tkeybinding: {\n\t\t\t\t\twhen: ContextKeyExpr.and(\n\t\t\t\t\t\tcontextKeyExpr,\n\t\t\t\t\t\tKEYBINDING_CONTEXT_WEBVIEW_FIND_WIDGET_FOCUSED,\n\t\t\t\t\t),\n\t\t\t\t\tprimary: KeyCode.Enter,\n\t\t\t\t\tweight: KeybindingWeight.EditorContrib,\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\t\trun(accessor: ServicesAccessor): any {\n\t\t\tconst extensionEditor = getExtensionEditor(accessor);\n\t\t\textensionEditor?.runFindAction(false);\n\t\t}\n\t},\n);\n\nregisterAction2(\n\tclass StartExtensionEditorFindPreviousAction extends Action2 {\n\t\tconstructor() {\n\t\t\tsuper({\n\t\t\t\tid: \"editor.action.extensioneditor.findPrevious\",\n\t\t\t\ttitle: localize(\"find previous\", \"Find Previous\"),\n\t\t\t\tkeybinding: {\n\t\t\t\t\twhen: ContextKeyExpr.and(\n\t\t\t\t\t\tcontextKeyExpr,\n\t\t\t\t\t\tKEYBINDING_CONTEXT_WEBVIEW_FIND_WIDGET_FOCUSED,\n\t\t\t\t\t),\n\t\t\t\t\tprimary: KeyMod.Shift | KeyCode.Enter,\n\t\t\t\t\tweight: KeybindingWeight.EditorContrib,\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\t\trun(accessor: ServicesAccessor): any {\n\t\t\tconst extensionEditor = getExtensionEditor(accessor);\n\t\t\textensionEditor?.runFindAction(true);\n\t\t}\n\t},\n);\n\nregisterThemingParticipant(\n\t(theme: IColorTheme, collector: ICssStyleCollector) => {\n\t\tconst link = theme.getColor(textLinkForeground);\n\t\tif (link) {\n\t\t\tcollector.addRule(\n\t\t\t\t`.monaco-workbench .extension-editor .content .details .additional-details-container .resources-container a.resource { color: ${link}; }`,\n\t\t\t);\n\t\t\tcollector.addRule(\n\t\t\t\t`.monaco-workbench .extension-editor .content .feature-contributions a { color: ${link}; }`,\n\t\t\t);\n\t\t}\n\n\t\tconst activeLink = theme.getColor(textLinkActiveForeground);\n\t\tif (activeLink) {\n\t\t\tcollector.addRule(`.monaco-workbench .extension-editor .content .details .additional-details-container .resources-container a.resource:hover,\n\t\t\t.monaco-workbench .extension-editor .content .details .additional-details-container .resources-container a.resource:active { color: ${activeLink}; }`);\n\t\t\tcollector.addRule(`.monaco-workbench .extension-editor .content .feature-contributions a:hover,\n\t\t\t.monaco-workbench .extension-editor .content .feature-contributions a:active { color: ${activeLink}; }`);\n\t\t}\n\n\t\tconst buttonHoverBackgroundColor = theme.getColor(\n\t\t\tbuttonHoverBackground,\n\t\t);\n\t\tif (buttonHoverBackgroundColor) {\n\t\t\tcollector.addRule(\n\t\t\t\t`.monaco-workbench .extension-editor .content > .details > .additional-details-container .categories-container > .categories > .category:hover { background-color: ${buttonHoverBackgroundColor}; border-color: ${buttonHoverBackgroundColor}; }`,\n\t\t\t);\n\t\t\tcollector.addRule(\n\t\t\t\t`.monaco-workbench .extension-editor .content > .details > .additional-details-container .tags-container > .tags > .tag:hover { background-color: ${buttonHoverBackgroundColor}; border-color: ${buttonHoverBackgroundColor}; }`,\n\t\t\t);\n\t\t}\n\n\t\tconst buttonForegroundColor = theme.getColor(buttonForeground);\n\t\tif (buttonForegroundColor) {\n\t\t\tcollector.addRule(\n\t\t\t\t`.monaco-workbench .extension-editor .content > .details > .additional-details-container .categories-container > .categories > .category:hover { color: ${buttonForegroundColor}; }`,\n\t\t\t);\n\t\t\tcollector.addRule(\n\t\t\t\t`.monaco-workbench .extension-editor .content > .details > .additional-details-container .tags-container > .tags > .tag:hover { color: ${buttonForegroundColor}; }`,\n\t\t\t);\n\t\t}\n\t},\n);\n\nfunction getExtensionEditor(\n\taccessor: ServicesAccessor,\n): ExtensionEditor | null {\n\tconst activeEditorPane = accessor.get(IEditorService).activeEditorPane;\n\tif (activeEditorPane instanceof ExtensionEditor) {\n\t\treturn activeEditorPane;\n\t}\n\treturn null;\n}\n"],
  "mappings": ";;;;;;;;;;;;AAKA;AAAA,EACC;AAAA,EAEA;AAAA,EACA;AAAA,EACA;AAAA,OACM;AACP,SAAS,iBAAiB;AAC1B,SAAS,+BAA+B;AACxC,SAAS,4BAA4B;AACrC,SAAS,8BAA8B;AACvC,SAAS,cAA4B;AACrC,YAAY,YAAY;AACxB,SAAS,aAA+B;AACxC;AAAA,EACC;AAAA,EACA;AAAA,OACM;AACP,SAAS,2BAA2B;AACpC,SAAS,SAAS,aAAa;AAC/B,SAAS,SAAS,cAAc;AAChC;AAAA,EACC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,OACM;AACP,SAAS,SAAS,qBAAqB;AACvC,SAAS,gBAAgB;AACzB,YAAY,YAAY;AACxB,SAAS,mBAAmB;AAC5B,SAAS,WAAW;AACpB,SAAS,oBAAoB;AAC7B,OAAO;AACP,SAAS,yBAAyB;AAClC,SAAS,4BAA4B;AACrC,SAAS,wBAAwB;AACjC,SAAS,oCAAoC;AAC7C,SAAS,gBAAgB;AACzB;AAAA,EACC;AAAA,EACA;AAAA,OACM;AACP;AAAA,EACC;AAAA,EAEA;AAAA,EAEA;AAAA,OACM;AACP,SAAS,2BAA2B;AACpC;AAAA,EACC;AAAA,OAEM;AACP,SAAS,yBAAyB;AAClC;AAAA,EACC;AAAA,OAEM;AACP,SAAS,qBAAqB;AAC9B;AAAA,EACC;AAAA,OAEM;AACP,SAAS,wBAAwB;AACjC,SAAS,4BAA4B;AACrC,SAAS,sBAAsB;AAC/B,SAAS,uBAAuB;AAChC,SAAS,yBAAyB;AAClC,SAAS,6BAA6B;AACtC;AAAA,EACC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,OACM;AACP;AAAA,EAGC;AAAA,EACA;AAAA,OACM;AACP,SAAS,2BAA2B;AACpC,SAAS,gCAAgC;AACzC,SAAS,kBAAkB;AAG3B,SAAS,sBAAsB;AAC/B,SAAS,wCAAwC;AACjD,SAAS,yBAAyB;AAClC,SAAS,qBAAqB;AAC9B,SAAS,wBAAwB;AACjC,SAAS,WAAW,wBAAwB;AAC5C;AAAA,EACC;AAAA,EACA;AAAA,OACM;AACP;AAAA,EAEC;AAAA,EACA;AAAA,OACM;AACP;AAAA,EACC;AAAA,EACA;AAAA,EACA;AAAA,EAGA;AAAA,OACM;AAKP,SAAS,4BAA4B;AACrC;AAAA,EACC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,OACM;AACP,SAAS,gBAAgB;AACzB;AAAA,EACC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,OACM;AACP;AAAA,EACC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,OACM;AAEP,MAAM,eAAe,WAAW;AAAA,EAzKhC,OAyKgC;AAAA;AAAA;AAAA,EACvB,YAAY,KAAK;AAAA,IACxB,IAAI,QAA+C;AAAA,EACpD;AAAA,EACA,IAAI,WAAyD;AAC5D,WAAO,KAAK,UAAU;AAAA,EACvB;AAAA,EAEQ,aAA4B;AAAA,EACpC,IAAI,YAA2B;AAC9B,WAAO,KAAK;AAAA,EACb;AAAA,EAEQ;AAAA,EACA;AAAA,EAER,YAAY,WAAwB;AACnC,UAAM;AACN,UAAM,UAAU,OAAO,WAAW,EAAE,SAAS,CAAC;AAC9C,SAAK,UAAU,CAAC;AAChB,SAAK,YAAY,KAAK,UAAU,IAAI,UAAU,OAAO,CAAC;AAAA,EACvD;AAAA,EAEA,KAAK,IAAY,OAAe,SAAuB;AACtD,UAAM,SAAS,IAAI;AAAA,MAAO;AAAA,MAAI;AAAA,MAAO;AAAA,MAAW;AAAA,MAAM,MACrD,KAAK,OAAO,IAAI,IAAI;AAAA,IACrB;AAEA,WAAO,UAAU;AAEjB,SAAK,QAAQ,KAAK,MAAM;AACxB,SAAK,UAAU,KAAK,MAAM;AAE1B,QAAI,KAAK,QAAQ,WAAW,GAAG;AAC9B,WAAK,OAAO,EAAE;AAAA,IACf;AAAA,EACD;AAAA,EAEA,QAAc;AACb,SAAK,UAAU,QAAQ,KAAK,OAAO;AACnC,SAAK,UAAU,MAAM;AAAA,EACtB;AAAA,EAEA,OAAO,IAAqB;AAC3B,UAAM,SAAS,KAAK,QAAQ,KAAK,CAACA,YAAWA,QAAO,OAAO,EAAE;AAC7D,QAAI,QAAQ;AACX,aAAO,IAAI;AACX,aAAO;AAAA,IACR;AACA,WAAO;AAAA,EACR;AAAA,EAEQ,OAAO,IAAY,OAAuB;AACjD,SAAK,aAAa;AAClB,SAAK,UAAU,KAAK,EAAE,IAAI,OAAO,CAAC,CAAC,MAAM,CAAC;AAC1C,SAAK,QAAQ,QAAQ,CAAC,MAAO,EAAE,UAAU,EAAE,OAAO,EAAG;AAAA,EACtD;AACD;AAgCA,IAAK,eAAL,kBAAKC,kBAAL;AACC,EAAAA,4BAAA,YAAS,KAAT;AACA,EAAAA,4BAAA,eAAY,KAAZ;AAFI,SAAAA;AAAA,GAAA;AAKL,MAAM,mCAAmC,IAAI;AAAA,EAC5C;AAAA,EACA;AACD;AAEA,MAAe,mDAAmD,gBAAgB;AAAA,EA5QlF,OA4QkF;AAAA;AAAA;AAAA,EACzE,WAAqC;AAAA,EAC7C,IAAI,UAAoC;AACvC,WAAO,KAAK;AAAA,EACb;AAAA,EACA,IAAI,QAAQ,SAAmC;AAC9C,QACC,KAAK,aACL,WACA,CAAC,kBAAkB,KAAK,UAAU,YAAY,QAAQ,UAAU,GAC/D;AACD;AAAA,IACD;AACA,SAAK,WAAW;AAChB,SAAK,OAAO;AAAA,EACb;AACD;AAEA,MAAM,sBAAsB,2CAA2C;AAAA,EA9RvE,OA8RuE;AAAA;AAAA;AAAA,EACrD;AAAA,EACjB,YAAY,WAAwB,cAA6B;AAChE,UAAM;AACN,SAAK,UAAU,OAAO,WAAW,EAAE,cAAc,CAAC;AAClD,SAAK;AAAA,MACJ,aAAa;AAAA,QACZ,wBAAwB,OAAO;AAAA,QAC/B,KAAK;AAAA,QACL,SAAS,qBAAqB,mBAAmB;AAAA,MAClD;AAAA,IACD;AACA,SAAK,OAAO;AAAA,EACb;AAAA,EACA,SAAe;AACd,QAAI,CAAC,KAAK,aAAa,CAAC,OAAO,MAAM,KAAK,UAAU,OAAO,GAAG;AAC7D;AAAA,IACD;AACA,SAAK,QAAQ,cAAc,IAAI,KAAK,SAAS,WAAW,KAAK,UAAU,OAAO,GAAG,KAAK,UAAU,sBAAsB,mBAAmB,EAAE;AAAA,EAC5I;AACD;AAEO,IAAM,kBAAN,cAA8B,WAAW;AAAA,EA4B/C,YACC,OACmB,kBACqB,sBACM,4BACH,yBAC5B,cACwB,qBACN,eACkB,iCAClC,gBACmB,kBACF,gBACC,iBACG,oBACD,mBACM,gBACR,iBACH,cACM,oBACN,cAC/B;AACD,UAAM,gBAAgB,IAAI,OAAO,kBAAkB,cAAc,cAAc;AAnBvC;AACM;AACH;AAEJ;AACN;AACkB;AAEf;AACF;AACC;AACG;AACD;AACM;AACR;AACH;AACM;AACN;AAGhC,SAAK,kBAAkB;AACvB,SAAK,qBAAqB;AAC1B,SAAK,oBAAoB;AAAA,EAC1B;AAAA,EA1WD,OAoTgD;AAAA;AAAA;AAAA,EAC/C,OAAgB,KAAa;AAAA,EAEZ,2BAA2B,KAAK;AAAA,IAChD,IAAI,kBAA4C;AAAA,EACjD;AAAA,EACQ;AAAA,EAEA;AAAA,EACA;AAAA,EACA;AAAA;AAAA,EAGA,wBAAmD,oBAAI,IAAI;AAAA;AAAA,EAG3D,oBAAoB;AAAA,EAEpB,qBAA2C,CAAC;AAAA,EACnC,qBAAqB,KAAK,UAAU,IAAI,gBAAgB,CAAC;AAAA,EACzD,uBAAuB,KAAK;AAAA,IAC5C,IAAI,gBAAgB;AAAA,EACrB;AAAA,EACQ,gBAAuC;AAAA,EACvC;AAAA,EAEA;AAAA,EA8BR,IAAa,0BAA0D;AACtE,WAAO,KAAK,yBAAyB;AAAA,EACtC;AAAA,EAEU,aAAa,QAA2B;AACjD,UAAM,OAAO,OAAO,QAAQ,EAAE,mBAAmB,CAAC;AAClD,SAAK,yBAAyB,QAC7B,KAAK,kBAAkB,aAAa,IAAI;AACzC,SAAK,yBAAyB,MAAM;AAAA,MACnC;AAAA,MACA;AAAA,IACD;AACA,SAAK,kCACJ,iCAAiC;AAAA,MAChC,KAAK,yBAAyB;AAAA,IAC/B;AAED,SAAK,WAAW;AAChB,SAAK,MAAM,UAAU;AACrB,SAAK,aAAa,QAAQ,UAAU;AACpC,UAAM,SAAS,OAAO,MAAM,EAAE,SAAS,CAAC;AAExC,UAAM,gBAAgB,OAAO,QAAQ,EAAE,iBAAiB,CAAC;AACzD,UAAM,OAAO;AAAA,MACZ;AAAA,MACA,EAAoB,YAAY,EAAE,WAAW,OAAO,KAAK,GAAG,CAAC;AAAA,IAC9D;AACA,UAAM,cAAc,KAAK,qBAAqB;AAAA,MAC7C;AAAA,MACA;AAAA,MACA;AAAA,IACD;AAEA,UAAM,UAAU,OAAO,QAAQ,EAAE,UAAU,CAAC;AAC5C,UAAM,QAAQ,OAAO,SAAS,EAAE,QAAQ,CAAC;AACzC,UAAM,OAAO;AAAA,MACZ;AAAA,MACA,EAAE,uBAAuB,EAAE,MAAM,WAAW,UAAU,EAAE,CAAC;AAAA,IAC1D;AACA,SAAK;AAAA,MACJ,KAAK,aAAa;AAAA,QACjB,wBAAwB,OAAO;AAAA,QAC/B;AAAA,QACA,SAAS,QAAQ,gBAAgB;AAAA,MAClC;AAAA,IACD;AACA,UAAM,gBAAgB,IAAI,cAAc,OAAO,KAAK,YAAY;AAEhE,UAAM,UAAU,OAAO,OAAO,EAAE,cAAc,CAAC;AAC/C,SAAK;AAAA,MACJ,KAAK,aAAa;AAAA,QACjB,wBAAwB,OAAO;AAAA,QAC/B;AAAA,QACA,SAAS,WAAW,SAAS;AAAA,MAC9B;AAAA,IACD;AACA,YAAQ,cAAc,SAAS,WAAW,SAAS;AAEnD,UAAM,UAAU,OAAO,OAAO,EAAE,cAAc,CAAC;AAC/C,YAAQ,cAAc,SAAS,WAAW,UAAU;AAEpD,UAAM,WAAW,OAAO,SAAS,EAAE,WAAW,CAAC;AAC/C,UAAM,YAAY;AAAA,MACjB,OAAO,UAAU,EAAE,iBAAiB,CAAC;AAAA,MACrC,EAAE,wBAAwB,EAAE,UAAU,EAAE,CAAC;AAAA,IAC1C;AACA,SAAK;AAAA,MACJ,KAAK,aAAa;AAAA,QACjB,wBAAwB,OAAO;AAAA,QAC/B;AAAA,QACA,SAAS,aAAa,WAAW;AAAA,MAClC;AAAA,IACD;AACA,cAAU,aAAa,QAAQ,QAAQ;AACvC,UAAM,uBAAuB,OAAO,WAAW,EAAE,iBAAiB,CAAC;AACnE,UAAM,0BACL,KAAK,qBAAqB;AAAA,MACzB;AAAA,MACA,OAAO,WAAW,EAAE,qBAAqB,CAAC;AAAA,MAC1C;AAAA,IACD;AAED,UAAM,WAAW;AAAA,MAChB,OAAO,UAAU,EAAE,0BAA0B,CAAC;AAAA,MAC9C,EAAE,IAAI,EAAE,UAAU,EAAE,CAAC;AAAA,IACtB;AACA,aAAS,aAAa,QAAQ,QAAQ;AAEtC,UAAM,eAAe;AAAA,MACpB,OAAO,UAAU,EAAE,iBAAiB,CAAC;AAAA,MACrC,EAAE,gBAAgB,EAAE,UAAU,EAAE,CAAC;AAAA,IAClC;AACA,SAAK;AAAA,MACJ,KAAK,aAAa;AAAA,QACjB,wBAAwB,OAAO;AAAA,QAC/B;AAAA,QACA,SAAS,iBAAiB,eAAe;AAAA,MAC1C;AAAA,IACD;AACA,UAAM,qBAAqB,KAAK,qBAAqB;AAAA,MACpD;AAAA,MACA;AAAA,MACA;AAAA,IACD;AAEA,UAAM,SAAS;AAAA,MACd,OAAO,UAAU,EAAE,iBAAiB,CAAC;AAAA,MACrC,EAAE,yBAAyB,EAAE,UAAU,EAAE,CAAC;AAAA,IAC3C;AACA,SAAK;AAAA,MACJ,KAAK,aAAa;AAAA,QACjB,wBAAwB,OAAO;AAAA,QAC/B;AAAA,QACA,SAAS,UAAU,QAAQ;AAAA,MAC5B;AAAA,IACD;AACA,WAAO,aAAa,QAAQ,MAAM;AAClC,UAAM,gBAAgB,KAAK,qBAAqB;AAAA,MAC/C;AAAA,MACA;AAAA,MACA;AAAA,IACD;AAEA,UAAM,gBAAgB,KAAK,qBAAqB;AAAA,MAC/C;AAAA,MACA,OAAO,UAAU,EAAE,iBAAiB,CAAC;AAAA,IACtC;AAEA,UAAM,UAA6B;AAAA,MAClC;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACD;AAEA,UAAM,cAAc,OAAO,SAAS,EAAE,cAAc,CAAC;AAErD,UAAM,gBAAgB,KAAK,qBAAqB;AAAA,MAC/C;AAAA,IACD;AACA,UAAM,UAAU;AAAA,MACf,KAAK,qBAAqB;AAAA,QACzB;AAAA,MACD;AAAA,MACA,KAAK,qBAAqB;AAAA,QACzB;AAAA,MACD;AAAA,MACA,KAAK,qBAAqB,eAAe,cAAc,IAAI;AAAA,MAC3D,KAAK,qBAAqB,eAAe,mBAAmB;AAAA,MAC5D,KAAK,qBAAqB,eAAe,sBAAsB;AAAA,MAC/D,KAAK,qBAAqB,eAAe,yBAAyB;AAAA,MAClE,KAAK,qBAAqB,eAAe,iBAAiB;AAAA,MAC1D,KAAK,qBAAqB,eAAe,mBAAmB;AAAA,MAE5D,KAAK,qBAAqB,eAAe,oBAAoB;AAAA,MAC7D,KAAK,qBAAqB,eAAe,qBAAqB;AAAA,MAC9D,KAAK,qBAAqB;AAAA,QACzB;AAAA,QACA;AAAA,MACD;AAAA,MACA,KAAK,qBAAqB,eAAe,kBAAkB;AAAA,MAC3D,KAAK,qBAAqB,eAAe,gBAAgB;AAAA,MACzD;AAAA,MACA,KAAK,qBAAqB,eAAe,qBAAqB;AAAA,MAC9D,KAAK,qBAAqB;AAAA,QACzB;AAAA,QACA;AAAA,QACA,gBAAgB;AAAA,QAChB;AAAA,UACC;AAAA,YACC,KAAK,qBAAqB;AAAA,cACzB;AAAA,cACA;AAAA,YACD;AAAA,YACA,KAAK,qBAAqB;AAAA,cACzB;AAAA,YACD;AAAA,YACA,KAAK,qBAAqB;AAAA,cACzB;AAAA,cACA;AAAA,cACA;AAAA,YACD;AAAA,UACD;AAAA,QACD;AAAA,MACD;AAAA,MACA,KAAK,qBAAqB;AAAA,QACzB;AAAA,MACD;AAAA,MACA,KAAK,qBAAqB;AAAA,QACzB;AAAA,MACD;AAAA,MACA,IAAI;AAAA,QACH,KAAK,2BAA2B,KAAK;AAAA,QACrC,KAAK;AAAA,MACN;AAAA,IACD;AAEA,UAAM,4BAA4B;AAAA,MACjC;AAAA,MACA,EAAE,2BAA2B;AAAA,IAC9B;AACA,UAAM,qBAAqB,KAAK;AAAA,MAC/B,IAAI,UAAU,2BAA2B;AAAA,QACxC,wBAAwB,wBAAC,QAAiB,YAAY;AACrD,cAAI,kBAAkB,yBAAyB;AAC9C,mBAAO,OAAO,qBAAqB,OAAO;AAAA,UAC3C;AACA,cAAI,kBAAkB,mCAAmC;AACxD,mBAAO,IAAI;AAAA,cACV;AAAA,cACA;AAAA,gBACC,GAAG;AAAA,gBACH,MAAM;AAAA,gBACN,OAAO;AAAA,gBACP,uBAAuB;AAAA,kBACtB,YAAY,6BAAM,OAAO,aAAb;AAAA,gBACb;AAAA,gBACA,sBACC,OAAO;AAAA,cACT;AAAA,cACA,KAAK;AAAA,YACN;AAAA,UACD;AACA,cAAI,kBAAkB,oCAAoC;AACzD,mBAAO,IAAI,uBAAuB,QAAW,QAAQ;AAAA,cACpD,GAAG;AAAA,cACH,MAAM;AAAA,cACN,OAAO;AAAA,cACP,gBAAgB;AAAA,YACjB,CAAC;AAAA,UACF;AACA,iBAAO;AAAA,QACR,GA7BwB;AAAA,QA8BxB,uBAAuB;AAAA,MACxB,CAAC;AAAA,IACF;AAEA,uBAAmB,KAAK,SAAS,EAAE,MAAM,MAAM,OAAO,KAAK,CAAC;AAC5D,uBAAmB,aAAa,IAAI;AAEpC,SAAK;AAAA,MACJ,MAAM;AAAA,QACL,GAAG,QAAQ;AAAA,UAAI,CAAC,MACf,MAAM,OAAO,EAAE,aAAa,CAAC,MAAM,EAAE,YAAY,MAAS;AAAA,QAC3D;AAAA,MACD,EAAE,MAAM;AACP,2BAAmB,aAAa,KAAK;AACrC,2BAAmB,aAAa,IAAI;AAAA,MACrC,CAAC;AAAA,IACF;AAEA,UAAM,2BAAkD,CAAC;AACzD,UAAM,wBAAwB,KAAK,qBAAqB;AAAA,MACvD;AAAA,IACD;AACA,UAAM,wBAAwB,KAAK;AAAA,MAClC,KAAK,qBAAqB;AAAA,QACzB;AAAA,QACA,OAAO,2BAA2B,EAAE,SAAS,CAAC;AAAA,QAC9C;AAAA,MACD;AAAA,IACD;AAEA,6BAAyB;AAAA,MACxB;AAAA,MACA,IAAK,cAAc,gBAAgB;AAAA,QAClC,SAAS;AACR,oCAA0B,UAAU;AAAA,YACnC;AAAA,YACA,KAAK,WAAW,UAAU,eAAe;AAAA,UAC1C;AAAA,QACD;AAAA,MACD,EAAG;AAAA,IACJ;AAEA,UAAM,uBAAuB,KAAK,qBAAqB;AAAA,MACtD;AAAA,MACA,OAAO,SAAS,EAAE,iBAAiB,CAAC;AAAA,IACrC;AACA,YAAQ,KAAK,oBAAoB;AAEjC,SAAK;AAAA,MACJ,MAAM;AAAA,QACL,sBAAsB;AAAA,QACtB,qBAAqB;AAAA,MACtB,EAAE,MAAM;AACP,YAAI,KAAK,WAAW;AACnB,eAAK,OAAO,KAAK,SAAS;AAAA,QAC3B;AAAA,MACD,CAAC;AAAA,IACF;AAEA,UAAM,sBACL,KAAK,qBAAqB,eAAe,qBAAqB;AAAA,MAC7D,GAAG;AAAA,MACH,GAAG;AAAA,MACH,GAAG;AAAA,IACJ,CAAC;AACF,eAAW,cAAc;AAAA,MACxB,GAAG;AAAA,MACH,GAAG;AAAA,MACH,GAAG;AAAA,MACH;AAAA,IACD,GAAG;AACF,WAAK,UAAU,UAAU;AAAA,IAC1B;AAEA,UAAM,UAAU,MAAM;AAAA,MAAM,mBAAmB;AAAA,MAAU,CAACC,OACzDA,GAAE,IAAI,CAAC,EAAE,MAAM,MAAM,KAAK,EAAE,OAAO,CAAC,UAAU,CAAC,CAAC,KAAK;AAAA,IACtD;AAEA,SAAK,UAAU,QAAQ,KAAK,SAAS,IAAI,CAAC;AAE1C,UAAM,OAAO,OAAO,MAAM,EAAE,OAAO,CAAC;AACpC,UAAM,SAAS,IAAI,OAAO,IAAI;AAE9B,UAAM,UAAU,OAAO,MAAM,EAAE,UAAU,CAAC;AAC1C,YAAQ,KAAK,aAAa;AAE1B,SAAK,WAAW;AAAA,MACf;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA,IAAI,UAAU,WAAuB;AACpC,4BAAoB,YAAY;AAAA,MACjC;AAAA,MACA,IAAI,QAAQ,SAAmC;AAC9C,sBAAc,UAAU;AAAA,MACzB;AAAA,MACA,IAAI,SAAS,UAAqC;AACjD,sBAAc,WAAW;AAAA,MAC1B;AAAA,IACD;AAAA,EACD;AAAA,EAEA,MAAe,SACd,OACA,SACA,SACA,OACgB;AAChB,UAAM,MAAM,SAAS,OAAO,SAAS,SAAS,KAAK;AACnD,SAAK,+BAA+B;AACpC,QAAI,KAAK,UAAU;AAClB,YAAM,KAAK;AAAA,QACV,MAAM;AAAA,QACN,KAAK;AAAA,QACL,CAAC,CAAC,SAAS;AAAA,MACZ;AAAA,IACD;AAAA,EACD;AAAA,EAES,WAAW,SAAoD;AACvE,UAAM,iBACL,KAAK;AACN,UAAM,WAAW,OAAO;AACxB,SAAK,+BAA+B;AAEpC,QACC,KAAK,SACL,KAAK,YACL,gBAAgB,0BACf,SAAS,uBACT;AACD,WAAK;AAAA,QACH,KAAK,MAA0B;AAAA,QAChC,KAAK;AAAA,QACL,CAAC,CAAC,SAAS;AAAA,MACZ;AACA;AAAA,IACD;AAEA,QAAI,SAAS,KAAK;AACjB,WAAK,UAAU,OAAO,OAAO,QAAQ,GAAG;AAAA,IACzC;AAAA,EACD;AAAA,EAEQ,iCAAuC;AAC9C,QAAI,wBACH,KAAK,SACF;AACJ,QAAI,YAAY,qBAAqB,GAAG;AACvC,8BAAwB,CAAC,CAAmB,KAAK,MAAO,UACtD,SAAS,WAAW;AAAA,IACvB;AACA,SAAK,iCAAiC,IAAI,qBAAqB;AAAA,EAChE;AAAA,EAEA,MAAM,QAAQ,KAAwC;AACrD,QAAI,CAAC,KAAK,SAAS,CAAC,KAAK,UAAU;AAClC;AAAA,IACD;AACA,QAAI,KAAK,SAAS,OAAO,OAAO,GAAG,GAAG;AACrC;AAAA,IACD;AAEA,QAAI,QAAQ,mBAAmB,eAAe;AAC7C,WAAK,SAAS,OAAO,OAAO,mBAAmB,MAAM;AAAA,IACtD;AAAA,EACD;AAAA,EAEA,MAAc,wBACb,WACA,YACoC;AACpC,QAAI,UAAU,mBAAmB;AAChC,aAAO;AAAA,IACR;AACA,QAAI,UAAU,OAAO,WAAW,YAAY;AAC3C,aAAO;AAAA,IACR;AACA,QAAI,YAAY,UAAU,GAAG;AAC5B,aAAO;AAAA,IACR;AACA,QAAI,eAAe,UAAU,SAAS,WAAW,qBAAqB;AACrE,aAAO;AAAA,IACR;AACA,QAAI,cAAc,CAAC,UAAU,sBAAsB;AAClD,aAAO;AAAA,IACR;AACA,QAAI,CAAC,cAAc,CAAC,UAAU,mBAAmB;AAChD,aAAO;AAAA,IACR;AACA,YAEE,MAAM,KAAK,wBAAwB;AAAA,MAClC;AAAA,QACC;AAAA,UACC,GAAG,UAAU;AAAA,UACb;AAAA,UACA,eAAe,UAAU;AAAA,QAC1B;AAAA,MACD;AAAA,MACA,kBAAkB;AAAA,IACnB,GACC,CAAC,KAAK;AAAA,EAEV;AAAA,EAEA,MAAc,OACb,WACA,UACA,eACgB;AAChB,SAAK,gBAAgB;AACrB,SAAK,qBAAqB,MAAM;AAEhC,UAAM,QAAQ,KAAK,qBAAqB;AAAA,MACvC,IAAI,wBAAwB;AAAA,IAC7B,EAAE;AAEF,UAAM,UAAU,MAAM,KAAK;AAAA,MAC1B;AAAA,MACC,KAAK,SAAqC;AAAA,IAC5C;AACA,QAAI,MAAM,yBAAyB;AAClC;AAAA,IACD;AAEA,SAAK,kBAAkB,IAAI;AAAA,MAAM,MAChC,UACG,KAAK,wBAAwB,UAAU,SAAS,KAAK,IACrD,UAAU,UAAU,KAAK;AAAA,IAC7B;AACA,SAAK,qBAAqB,IAAI;AAAA,MAAM,MACnC,UACG,KAAK,wBAAwB,aAAa,SAAS,KAAK,IACxD,UAAU,aAAa,KAAK;AAAA,IAChC;AACA,SAAK,oBAAoB,IAAI;AAAA,MAAM,MAClC,UACG,KAAK,wBAAwB,YAAY,SAAS,KAAK,IACvD,UAAU,YAAY,KAAK;AAAA,IAC/B;AAEA,aAAS,YAAY;AACrB,aAAS,UAAU;AACnB,aAAS,WAAW;AAEpB,SAAK,qBAAqB;AAAA,MACzB;AAAA,QACC,SAAS;AAAA,QACT;AAAA,QACA,MAAO,SAAS,KAAK,MAAM,UAAU;AAAA,QACrC,EAAE,MAAM,KAAK;AAAA,MACd;AAAA,IACD;AACA,aAAS,KAAK,MAAM,UAAU;AAE9B,aAAS,KAAK,cAAc,UAAU;AACtC,aAAS,KAAK,UAAU,OAAO,aAAa,CAAC,CAAC,UAAU,GAAG;AAC3D,aAAS,KAAK,UAAU;AAAA,MACvB;AAAA,MACA,CAAC,CAAC,UAAU;AAAA,IACb;AACA,aAAS,QAAQ,MAAM,UAAU,UAAU,UAAU,YAAY;AACjE,aAAS,QAAQ,MAAM,UAAU,UAAU,YACxC,YACA;AAEH,aAAS,YAAY,cAAc,UAAU;AAG7C,aAAS,UAAU,UAAU,OAAO,aAAa,CAAC,CAAC,UAAU,GAAG;AAChE,aAAS,qBAAqB,cAC7B,UAAU;AACX,aAAS,UAAU,eAAe,UAAU;AAAA,MAC3C;AAAA,MACA,CAAC,CAAC,UAAU,qBACX,UAAU,OAAO,WAAW;AAAA,IAC9B;AAEA,UAAM,WACL,UAAU,mBAAmB,aAC5B,UAAU,OAAO,WAAW,aAC1B,UAAU,OAAO,WACjB;AACJ,aAAS,SAAS,eAAe,UAAU,OAAO,QAAQ,CAAC,QAAQ;AACnE,QAAI,UAAU;AACb,YAAM,kBACL,KAAK,eAAe,mBAAmB,QAAQ;AAChD,UAAI,mBAAmB,UAAU,mBAAmB;AACnD,iBAAS,SAAS,eAAe,UAAU,IAAI,WAAW;AAC1D,aAAK,qBAAqB;AAAA,UACzB,KAAK,aAAa;AAAA,YACjB,wBAAwB,OAAO;AAAA,YAC/B,SAAS;AAAA,YACT,KAAK,mBAAmB,OAAO;AAAA,cAC9B,gBAAgB;AAAA,cAChB;AAAA,YACD;AAAA,UACD;AAAA,QACD;AACA,iBAAS,SAAS,cAAc;AAAA,UAC/B;AAAA,UACA;AAAA,QACD;AACA,aAAK,qBAAqB;AAAA,UACzB,QAAQ,SAAS,UAAU,MAAM;AAChC,iBAAK,aACH,SAAS,kBAAkB,IAAI,EAC/B;AAAA,cAAK,MACL,KAAK,gBAAgB,OAAO,UAAU,IAAI;AAAA,YAC3C;AAAA,UACF,CAAC;AAAA,QACF;AAAA,MACD,OAAO;AACN,iBAAS,SAAS,eAAe,UAAU,OAAO,WAAW;AAC7D,aAAK,qBAAqB;AAAA,UACzB,KAAK,aAAa;AAAA,YACjB,wBAAwB,OAAO;AAAA,YAC/B,SAAS;AAAA,YACT,SAAS;AAAA,UACV;AAAA,QACD;AACA,iBAAS,SAAS,cAAc;AAAA,UAC/B;AAAA,UACA;AAAA,QACD;AAAA,MACD;AAAA,IACD;AAEA,aAAS,aAAa,eAAe,UAAU;AAAA,MAC9C;AAAA,MACA,CAAC,UAAU;AAAA,IACZ;AACA,aAAS,OAAO,eAAe,UAAU,OAAO,QAAQ,CAAC,UAAU,GAAG;AACtE,aAAS,OAAO,UAAU,OAAO,aAAa,CAAC,CAAC,UAAU,GAAG;AAE7D,QAAI,UAAU,KAAK;AAClB,WAAK,qBAAqB;AAAA,QACzB;AAAA,UAAQ,SAAS;AAAA,UAAM,MACtB,KAAK,cAAc,KAAK,IAAI,MAAM,UAAU,GAAI,CAAC;AAAA,QAClD;AAAA,MACD;AACA,WAAK,qBAAqB;AAAA,QACzB;AAAA,UAAQ,SAAS;AAAA,UAAQ,MACxB,KAAK,cAAc;AAAA,YAClB,IAAI,MAAM,GAAG,UAAU,GAAG,2BAA2B;AAAA,UACtD;AAAA,QACD;AAAA,MACD;AACA,WAAK,qBAAqB;AAAA,QACzB;AAAA,UAAQ,SAAS;AAAA,UAAW,MAC3B,KAAK,2BAA2B;AAAA,YAC/B,cAAc,UAAU,oBAAoB;AAAA,UAC7C;AAAA,QACD;AAAA,MACD;AAAA,IACD;AAEA,UAAM,WAAW,MAAM,KAAK,kBAAkB,IAAI,EAAE;AACpD,QAAI,MAAM,yBAAyB;AAClC;AAAA,IACD;AAEA,QAAI,UAAU;AACb,eAAS,WAAW;AAAA,IACrB;AAEA,SAAK,aAAa,WAAW,UAAU,UAAU,aAAa;AAG9D,UAAM,qBACL,KAAK,gCAAgC,gCAAgC;AACtE,QAAI,sBAAsB,CAAC;AAC3B,QAAI,mBAAmB,UAAU,WAAW,GAAG,YAAY,CAAC,GAAG;AAC9D,4BAAsB;AAAA,QACrB,sBACC,mBAAmB,UAAU,WAAW,GAAG,YAAY,CAAC,EACtD;AAAA,MACJ;AAAA,IACD;AAUA,SAAK,iBAAiB,UAAU,kCAAkC;AAAA,MACjE,GAAG,UAAU;AAAA,MACb,GAAG;AAAA,IACJ,CAAC;AAAA,EACF;AAAA,EAEQ,aACP,WACA,UACA,UACA,eACO;AACP,aAAS,QAAQ,YAAY;AAC7B,aAAS,OAAO,MAAM;AAEtB,QAAI,KAAK,sBAAsB,UAAU,WAAW,IAAI;AACvD,WAAK,sBAAsB,MAAM;AACjC,WAAK,oBAAoB,UAAU,WAAW;AAAA,IAC/C;AAEA,aAAS,OAAO;AAAA,MACf,mBAAmB;AAAA,MACnB,SAAS,WAAW,SAAS;AAAA,MAC7B;AAAA,QACC;AAAA,QACA;AAAA,MACD;AAAA,IACD;AACA,QAAI,UAAU;AACb,eAAS,OAAO;AAAA,QACf,mBAAmB;AAAA,QACnB,SAAS,YAAY,UAAU;AAAA,QAC/B;AAAA,UACC;AAAA,UACA;AAAA,QACD;AAAA,MACD;AAAA,IACD;AACA,QAAI,UAAU,aAAa,GAAG;AAC7B,eAAS,OAAO;AAAA,QACf,mBAAmB;AAAA,QACnB,SAAS,aAAa,WAAW;AAAA,QACjC;AAAA,UACC;AAAA,UACA;AAAA,QACD;AAAA,MACD;AAAA,IACD;AACA,QAAI,UAAU,aAAa,QAAQ;AAClC,eAAS,OAAO;AAAA,QACf,mBAAmB;AAAA,QACnB,SAAS,gBAAgB,cAAc;AAAA,QACvC;AAAA,UACC;AAAA,UACA;AAAA,QACD;AAAA,MACD;AAAA,IACD;AACA,QACC,YACA,SAAS,eAAe,UACxB,CAAC,KAAK,2BAA2B,QAAQ,GACxC;AACD,eAAS,OAAO;AAAA,QACf,mBAAmB;AAAA,QACnB,SAAS,iBAAiB,gBAAgB;AAAA,QAC1C;AAAA,UACC;AAAA,UACA;AAAA,QACD;AAAA,MACD;AAAA,IACD;AAEA,QAA0C,KAAK,SAAU,KAAK;AAC7D,eAAS,OAAO;AAAA,QACW,KAAK,QAAS;AAAA,MACzC;AAAA,IACD;AACA,QAAI,SAAS,OAAO,WAAW;AAC9B,WAAK;AAAA,QACJ;AAAA,QACA,EAAE,IAAI,SAAS,OAAO,WAAW,OAAO,CAAC,cAAc;AAAA,QACvD;AAAA,MACD;AAAA,IACD;AACA,aAAS,OAAO;AAAA,MACf,CAAC,MAAM,KAAK,eAAe,WAAW,GAAG,QAAQ;AAAA,MACjD;AAAA,MACA,KAAK;AAAA,IACN;AAAA,EACD;AAAA,EAES,aAAmB;AAC3B,SAAK,mBAAmB,MAAM;AAC9B,SAAK,qBAAqB,MAAM;AAEhC,UAAM,WAAW;AAAA,EAClB;AAAA,EAES,QAAc;AACtB,UAAM,MAAM;AACZ,SAAK,eAAe,MAAM;AAAA,EAC3B;AAAA,EAEA,WAAiB;AAChB,SAAK,eAAe,SAAS;AAAA,EAC9B;AAAA,EAEA,cAAc,UAAyB;AACtC,SAAK,eAAe,cAAc,QAAQ;AAAA,EAC3C;AAAA,EAEA,IAAW,gBAAsC;AAChD,QACC,CAAC,KAAK,iBACN,CAAE,KAAK,cAA2B,eACjC;AACD,aAAO;AAAA,IACR;AACA,WAAO,KAAK;AAAA,EACb;AAAA,EAEQ,eACP,WACA,EAAE,IAAI,MAAM,GACZ,UACO;AACP,SAAK,mBAAmB,MAAM;AAC9B,aAAS,QAAQ,YAAY;AAC7B,SAAK,gBAAgB;AACrB,QAAI,IAAI;AACP,YAAM,MAAM,IAAI,wBAAwB;AACxC,WAAK,mBAAmB,IAAI,aAAa,MAAM,IAAI,QAAQ,IAAI,CAAC,CAAC;AACjE,WAAK,KAAK,IAAI,WAAW,UAAU,IAAI,KAAK,EAAE;AAAA,QAC7C,CAAC,kBAAkB;AAClB,cAAI,IAAI,MAAM,yBAAyB;AACtC;AAAA,UACD;AACA,eAAK,gBAAgB;AACrB,cAAI,OAAO;AACV,iBAAK,MAAM;AAAA,UACZ;AAAA,QACD;AAAA,MACD;AAAA,IACD;AAAA,EACD;AAAA,EAEQ,KACP,IACA,WACA,UACA,OACiC;AACjC,YAAQ,IAAI;AAAA,MACX,KAAK,mBAAmB;AACvB,eAAO,KAAK,YAAY,WAAW,UAAU,KAAK;AAAA,MACnD,KAAK,mBAAmB;AACvB,eAAO,KAAK,aAAa,UAAU,KAAK;AAAA,MACzC,KAAK,mBAAmB;AACvB,eAAO,KAAK,cAAc,WAAW,UAAU,KAAK;AAAA,MACrD,KAAK,mBAAmB;AACvB,eAAO,KAAK;AAAA,UACX;AAAA,UACA;AAAA,UACA;AAAA,QACD;AAAA,MACD,KAAK,mBAAmB;AACvB,eAAO,KAAK,kBAAkB,WAAW,UAAU,KAAK;AAAA,IAC1D;AACA,WAAO,QAAQ,QAAQ,IAAI;AAAA,EAC5B;AAAA,EAEA,MAAc,aACb,WACA,aACA,eACA,WACA,cACA,OACA,OACiC;AACjC,QAAI;AACH,YAAM,OAAO,MAAM,KAAK;AAAA,QACvB;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACD;AACA,UAAI,MAAM,yBAAyB;AAClC,eAAO,QAAQ,QAAQ,IAAI;AAAA,MAC5B;AAEA,YAAM,UAAU,KAAK,mBAAmB;AAAA,QACvC,KAAK,eAAe,qBAAqB;AAAA,UACxC;AAAA,UACA,SAAS;AAAA,YACR,kBAAkB;AAAA,YAClB,0BAA0B;AAAA,YAC1B,sBAAsB;AAAA,UACvB;AAAA,UACA,gBAAgB,CAAC;AAAA,UACjB,WAAW;AAAA,QACZ,CAAC;AAAA,MACF;AAEA,cAAQ,wBACP,KAAK,sBAAsB,IAAI,YAAY,KAAK;AAEjD,cAAQ,MAAM,MAAM,KAAK,QAAQ,KAAK,uBAAuB;AAC7D,sBAAgB,QAAQ,WAAW,SAAS;AAC5C,cAAQ,yBAAyB,SAAS;AAE1C,cAAQ,QAAQ,IAAI;AACpB,cAAQ,MAAM,MAAM,KAAK,QAAQ,MAAS;AAE1C,WAAK,mBAAmB;AAAA,QACvB,QAAQ,WAAW,MAAM,KAAK,aAAa,KAAK,CAAC;AAAA,MAClD;AAEA,WAAK,mBAAmB;AAAA,QACvB,QAAQ;AAAA,UAAY,MACnB,KAAK,sBAAsB;AAAA,YAC1B;AAAA,YACA,QAAQ;AAAA,UACT;AAAA,QACD;AAAA,MACD;AAEA,YAAM,0BAA0B,OAAO;AAAA,QACtC,KAAK;AAAA,QACL;AAAA,UACC,QAAQ,6BAAM;AACb,oBAAQ,yBAAyB,SAAS;AAAA,UAC3C,GAFQ;AAAA,QAGT;AAAA,MACD;AACA,WAAK,mBAAmB,IAAI,aAAa,uBAAuB,CAAC;AAEjE,UAAI,aAAa;AACjB,WAAK,mBAAmB;AAAA,QACvB,aAAa,MAAM;AAClB,uBAAa;AAAA,QACd,CAAC;AAAA,MACF;AAEA,WAAK,mBAAmB;AAAA,QACvB,KAAK,aAAa,sBAAsB,YAAY;AAEnD,gBAAMC,QAAO,MAAM,KAAK;AAAA,YACvB;AAAA,YACA;AAAA,YACA;AAAA,UACD;AACA,cAAI,CAAC,YAAY;AAEhB,oBAAQ,QAAQA,KAAI;AAAA,UACrB;AAAA,QACD,CAAC;AAAA,MACF;AAEA,WAAK,mBAAmB;AAAA,QACvB,QAAQ,eAAe,CAAC,SAAS;AAChC,cAAI,CAAC,MAAM;AACV;AAAA,UACD;AAEA,cACC,cAAc,MAAM,QAAQ,IAAI,KAChC,cAAc,MAAM,QAAQ,KAAK,KACjC,cAAc,MAAM,QAAQ,MAAM,GACjC;AACD,iBAAK,cAAc,KAAK,IAAI;AAAA,UAC7B;AACA,cACC,cAAc,MAAM,QAAQ,OAAO,KACnC,UAAU,SAAS,cAAc,QAChC;AACD,iBAAK,cAAc,KAAK,MAAM,EAAE,eAAe,KAAK,CAAC;AAAA,UACtD;AAAA,QACD,CAAC;AAAA,MACF;AAEA,aAAO;AAAA,IACR,SAAS,GAAG;AACX,YAAM,IAAI,OAAO,WAAW,EAAE,aAAa,CAAC;AAC5C,QAAE,cAAc;AAChB,aAAO;AAAA,IACR;AAAA,EACD;AAAA,EAEA,MAAc,eACb,WACA,aACA,WACA,OACkB;AAClB,UAAM,WAAW,MAAM,KAAK,aAAa,MAAM,aAAa,SAAS;AACrE,QAAI,OAAO,yBAAyB;AACnC,aAAO;AAAA,IACR;AAEA,UAAM,UAAU,MAAM;AAAA,MACrB;AAAA,MACA,KAAK;AAAA,MACL,KAAK;AAAA,MACL,EAAE,gBAAgB,UAAU,SAAS,cAAc,QAAQ,MAAM;AAAA,IAClE;AACA,QAAI,OAAO,yBAAyB;AACnC,aAAO;AAAA,IACR;AAEA,WAAO,KAAK,WAAW,OAAO;AAAA,EAC/B;AAAA,EAEQ,WAAW,MAAsB;AACxC,UAAM,QAAQ,aAAa;AAC3B,UAAM,WAAW,qBAAqB,YAAY;AAClD,UAAM,MAAM,WAAW,6BAA6B,QAAQ,IAAI;AAChE,WAAO;AAAA;AAAA;AAAA;AAAA,0JAIiJ,KAAK;AAAA,oBAC3I,KAAK;AAAA,OAClB,uBAAuB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OA6CvB,GAAG;AAAA;AAAA;AAAA;AAAA;AAAA,MAKJ,IAAI;AAAA;AAAA;AAAA,EAGT;AAAA,EAEA,MAAc,YACb,WACA,UACA,OACiC;AACjC,UAAM,UAAU,OAAO,SAAS,SAAS,EAAE,UAAU,CAAC;AACtD,UAAM,kBAAkB,OAAO,SAAS,EAAE,mBAAmB,CAAC;AAC9D,UAAM,6BAA6B;AAAA,MAClC;AAAA,MACA,EAAE,+BAA+B;AAAA,IAClC;AAEA,UAAM,SAAS,6BACd,QAAQ,UAAU;AAAA,MACjB;AAAA,MACA,KAAK,aAAa,KAAK,UAAU,QAAQ;AAAA,IAC1C,GAJc;AAKf,WAAO;AACP,SAAK,mBAAmB;AAAA,MACvB,aAAa,OAAO,OAAO,KAAK,oBAAoB,EAAE,OAAO,CAAC,CAAC;AAAA,IAChE;AAEA,QAAI,gBAAuC;AAC3C,UAAM,WAAW,MAAM,KAAK,kBAAmB,IAAI,EAAE;AACrD,QACC,YACA,SAAS,eAAe,UACxB,KAAK,2BAA2B,QAAQ,GACvC;AACD,sBAAgB,MAAM,KAAK;AAAA,QAC1B;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACD;AAAA,IACD,OAAO;AACN,sBAAgB,MAAM,KAAK;AAAA,QAC1B;AAAA,QACA,KAAK,gBAAiB,IAAI;AAAA,QAC1B,SAAS,YAAY,sBAAsB;AAAA,QAC3C;AAAA,QACA;AAAA,QACA,SAAS,gBAAgB,QAAQ;AAAA,QACjC;AAAA,MACD;AAAA,IACD;AAEA,SAAK,wBAAwB,4BAA4B,SAAS;AAClE,WAAO;AAAA,EACR;AAAA,EAEQ,2BAA2B,UAAuC;AACzE,WAAO,CAAC,CAAC,SAAS,YAAY;AAAA,MAC7B,CAAC,aAAa,SAAS,YAAY,MAAM;AAAA,IAC1C;AAAA,EACD;AAAA,EAEA,MAAc,wBACb,WACA,UACA,WACA,OACiC;AACjC,QAAI,MAAM,yBAAyB;AAClC,aAAO,QAAQ,QAAQ,IAAI;AAAA,IAC5B;AAEA,UAAM,sBAAsB;AAAA,MAC3B;AAAA,MACA,EAAE,OAAO,EAAE,OAAO,wBAAwB,CAAC;AAAA,IAC5C;AACA,wBAAoB,MAAM,SAAS;AACnC,wBAAoB,MAAM,WAAW;AAErC,UAAM,gBAAgB;AAAA,MACrB;AAAA,MACA,EAAE,OAAO,EAAE,OAAO,iBAAiB,CAAC;AAAA,IACrC;AACA,QAAI,SAAS,cAAe,UAAU,GAAG;AACxC,0BAAoB,UAAU,IAAI,SAAS;AAAA,IAC5C,WAAW,SAAS,cAAe,UAAU,GAAG;AAC/C,0BAAoB,UAAU,IAAI,UAAU;AAAA,IAC7C,WAAW,SAAS,cAAe,UAAU,GAAG;AAC/C,0BAAoB,UAAU,IAAI,YAAY;AAAA,IAC/C,OAAO;AACN,0BAAoB,UAAU,IAAI,WAAW;AAAA,IAC9C;AAEA,UAAM,sBAAsB,OAAO,eAAe,EAAE,YAAY,CAAC;AACjE,wBAAoB,cAAc;AAAA,MACjC;AAAA,MACA;AAAA,MACA,SAAS,cAAe;AAAA,IACzB;AACA,UAAM,uBAAuB;AAAA,MAC5B;AAAA,MACA,EAAE,OAAO,EAAE,OAAO,yBAAyB,CAAC;AAAA,IAC7C;AACA,yBAAqB,aAAa,YAAY,GAAG;AACjD,WAAO,eAAe,EAAE,YAAY,CAAC;AACrC,UAAM,gBAAgB;AAAA,MACrB;AAAA,MACA,EAAE,oBAAoB;AAAA,IACvB;AAEA,UAAM,QAAQ,IAAI;AAAA,MACjB,KAAK,oBAAoB,UAAU,sBAAsB,KAAK;AAAA,MAC9D,KAAK;AAAA,QACJ;AAAA,QACA,KAAK,gBAAiB,IAAI;AAAA,QAC1B,SAAS,YAAY,sBAAsB;AAAA,QAC3C;AAAA,QACA;AAAA,QACA,SAAS,gBAAgB,QAAQ;AAAA,QACjC;AAAA,MACD;AAAA,IACD,CAAC;AAED,WAAO,EAAE,OAAO,6BAAM,qBAAqB,MAAM,GAAjC,SAAmC;AAAA,EACpD;AAAA,EAEQ,wBACP,WACA,WACO;AACP,UAAM,UAAU,EAAE,OAAO;AAAA,MACxB,OAAO;AAAA,MACP,UAAU;AAAA,IACX,CAAC;AACD,UAAM,oBAAoB,IAAI,qBAAqB,SAAS,CAAC,CAAC;AAC9D,UAAM,SAAS,6BAAM,kBAAkB,YAAY,GAApC;AACf,UAAM,0BAA0B,OAAO,OAAO,KAAK,oBAAoB;AAAA,MACtE;AAAA,IACD,CAAC;AACD,SAAK,mBAAmB,IAAI,aAAa,uBAAuB,CAAC;AACjE,SAAK,mBAAmB,IAAI,iBAAiB;AAE7C,SAAK,iBAAiB,SAAS,SAAS;AACxC,SAAK,yBAAyB,SAAS,SAAS;AAChD,SAAK,eAAe,SAAS,SAAS;AAEtC,WAAO,WAAW,kBAAkB,WAAW,CAAC;AAChD,sBAAkB,YAAY;AAAA,EAC/B;AAAA,EAEQ,iBACP,WACA,WACO;AACP,QAAI,UAAU,WAAW,QAAQ;AAChC,YAAM,sBAAsB;AAAA,QAC3B;AAAA,QACA,EAAE,kDAAkD;AAAA,MACrD;AACA;AAAA,QACC;AAAA,QACA;AAAA,UACC;AAAA,UACA;AAAA,UACA,SAAS,cAAc,YAAY;AAAA,QACpC;AAAA,MACD;AACA,YAAM,oBAAoB;AAAA,QACzB;AAAA,QACA,EAAE,aAAa;AAAA,MAChB;AACA,iBAAW,YAAY,UAAU,YAAY;AAC5C,aAAK,qBAAqB;AAAA,UACzB;AAAA,YACC;AAAA,cACC;AAAA,cACA,EAAE,iBAAiB,EAAE,UAAU,IAAI,GAAG,QAAQ;AAAA,YAC/C;AAAA,YACA,MACC,KAAK,2BAA2B;AAAA,cAC/B,cAAc,QAAQ;AAAA,YACvB;AAAA,UACF;AAAA,QACD;AAAA,MACD;AAAA,IACD;AAAA,EACD;AAAA,EAEQ,yBACP,WACA,WACO;AACP,UAAM,YAA6B,CAAC;AACpC,QAAI,UAAU,KAAK;AAClB,gBAAU,KAAK;AAAA,QACd,SAAS,eAAe,aAAa;AAAA,QACrC,IAAI,MAAM,UAAU,GAAG;AAAA,MACxB,CAAC;AAAA,IACF;AACA,QAAI,UAAU,OAAO,UAAU,YAAY;AAC1C,UAAI;AACH,kBAAU,KAAK;AAAA,UACd,SAAS,UAAU,QAAQ;AAAA,UAC3B,IAAI,MAAM,UAAU,UAAU;AAAA,QAC/B,CAAC;AAAA,MACF,SAAS,OAAO;AAAA,MAEhB;AAAA,IACD;AACA,QAAI,UAAU,YAAY;AACzB,UAAI;AACH,kBAAU,KAAK;AAAA,UACd,SAAS,cAAc,YAAY;AAAA,UACnC,IAAI,MAAM,UAAU,UAAU;AAAA,QAC/B,CAAC;AAAA,MACF,SAAS,OAAO;AAAA,MAEhB;AAAA,IACD;AACA,QAAI,UAAU,OAAO,UAAU,YAAY;AAC1C,UAAI;AACH,kBAAU,KAAK;AAAA,UACd,SAAS,WAAW,SAAS;AAAA,UAC7B,IAAI,MAAM,UAAU,UAAU;AAAA,QAC/B,CAAC;AAAA,MACF,SAAS,OAAO;AAAA,MAEhB;AAAA,IACD;AACA,QAAI,UAAU,cAAc;AAC3B,gBAAU,KAAK;AAAA,QACd,UAAU;AAAA,QACV,UAAU;AAAA,MACX,CAAC;AAAA,IACF;AACA,QAAI,UAAU,UAAU,UAAU,sBAAsB;AACvD,YAAM,8BAA8B;AAAA,QACnC;AAAA,QACA,EAAE,iDAAiD;AAAA,MACpD;AACA;AAAA,QACC;AAAA,QACA;AAAA,UACC;AAAA,UACA;AAAA,UACA,SAAS,aAAa,WAAW;AAAA,QAClC;AAAA,MACD;AACA,YAAM,mBAAmB;AAAA,QACxB;AAAA,QACA,EAAE,YAAY;AAAA,MACf;AACA,iBAAW,CAAC,OAAO,GAAG,KAAK,WAAW;AACrC,cAAM,WAAW;AAAA,UAChB;AAAA,UACA,EAAE,cAAc,EAAE,UAAU,IAAI,GAAG,KAAK;AAAA,QACzC;AACA,aAAK,qBAAqB;AAAA,UACzB,QAAQ,UAAU,MAAM,KAAK,cAAc,KAAK,GAAG,CAAC;AAAA,QACrD;AACA,aAAK,qBAAqB;AAAA,UACzB,KAAK,aAAa;AAAA,YACjB,wBAAwB,OAAO;AAAA,YAC/B;AAAA,YACA,IAAI,SAAS;AAAA,UACd;AAAA,QACD;AAAA,MACD;AAAA,IACD;AAAA,EACD;AAAA,EAEQ,eACP,WACA,WACO;AACP,UAAM,UAAU,UAAU;AAC1B,UAAM,oBAAoB;AAAA,MACzB;AAAA,MACA,EAAE,iDAAiD;AAAA,IACpD;AACA;AAAA,MACC;AAAA,MACA;AAAA,QACC;AAAA,QACA;AAAA,QACA,SAAS,oBAAoB,WAAW;AAAA,MACzC;AAAA,IACD;AACA,UAAM,WAAW,OAAO,mBAAmB,EAAE,YAAY,CAAC;AAC1D,UAAM,eAAe,wBAAC,SACrB,GAAG,KAAK,YAAY,CAAC,IAAI,OAAO,KAAK,SAAS,IAAI,CAAC,EAAE,SAAS,GAAG,GAAG,CAAC,IAAI,OAAO,KAAK,QAAQ,CAAC,EAAE,SAAS,GAAG,GAAG,CAAC,KAAK,KAAK,mBAAmB,UAAU,EAAE,WAAW,MAAM,CAAC,CAAC,IADxJ;AAErB,QAAI,SAAS;AACZ;AAAA,QACC;AAAA,QACA;AAAA,UACC;AAAA,UACA;AAAA,UACA,EAAE,OAAO,QAAW,SAAS,aAAa,WAAW,CAAC;AAAA,UACtD;AAAA,YACC;AAAA,YACA;AAAA,YACA,aAAa,IAAI,KAAK,QAAQ,WAAW,CAAC;AAAA,UAC3C;AAAA,QACD;AAAA,QACA;AAAA,UACC;AAAA,UACA;AAAA,UACA;AAAA,YACC;AAAA,YACA;AAAA,YACA,SAAS,iBAAiB,eAAe;AAAA,UAC1C;AAAA,UACA;AAAA,YACC;AAAA,YACA;AAAA,YACA,aAAa,IAAI,KAAK,QAAQ,WAAW,CAAC;AAAA,UAC3C;AAAA,QACD;AAAA,MACD;AAAA,IACD;AACA,QAAI,UAAU,SAAS,UAAU,MAAM,oBAAoB;AAC1D;AAAA,QACC;AAAA,QACA;AAAA,UACC;AAAA,UACA;AAAA,UACA;AAAA,YACC;AAAA,YACA;AAAA,YACA,SAAS,gBAAgB,cAAc;AAAA,UACxC;AAAA,UACA;AAAA,YACC;AAAA,YACA;AAAA,YACA;AAAA,cACC,IAAI,KAAK,UAAU,MAAM,kBAAkB;AAAA,YAC5C;AAAA,UACD;AAAA,QACD;AAAA,MACD;AAAA,IACD;AACA;AAAA,MACC;AAAA,MACA;AAAA,QACC;AAAA,QACA;AAAA,QACA,EAAE,OAAO,QAAW,SAAS,MAAM,YAAY,CAAC;AAAA,QAChD,EAAE,QAAQ,QAAW,UAAU,WAAW,EAAE;AAAA,MAC7C;AAAA,IACD;AAAA,EACD;AAAA,EAEQ,cACP,WACA,UACA,OACiC;AACjC,WAAO,KAAK;AAAA,MACX;AAAA,MACA,KAAK,mBAAoB,IAAI;AAAA,MAC7B,SAAS,eAAe,yBAAyB;AAAA,MACjD,SAAS;AAAA,MACT;AAAA,MACA,SAAS,mBAAmB,WAAW;AAAA,MACvC;AAAA,IACD;AAAA,EACD;AAAA,EAEA,MAAc,aACb,UACA,OACiC;AACjC,UAAM,WAAW,MAAM,KAAK;AAAA,MAC3B,MAAM,KAAK,kBAAmB,IAAI;AAAA,MAClC,SAAS;AAAA,IACV;AACA,QAAI,MAAM,yBAAyB;AAClC,aAAO;AAAA,IACR;AACA,QAAI,CAAC,UAAU;AACd,aAAO;AAAA,IACR;AAEA,UAAM,uBAAuB,KAAK,mBAAmB;AAAA,MACpD,KAAK,qBAAqB;AAAA,QACzB;AAAA,QACA;AAAA,QACsC,KAAK,SAAU;AAAA,MACtD;AAAA,IACD;AACA,UAAM,SAAS,6BACd,qBAAqB;AAAA,MACpB,SAAS,QAAQ;AAAA,MACjB,SAAS,QAAQ;AAAA,IAClB,GAJc;AAKf,UAAM,0BAA0B,OAAO,OAAO,KAAK,oBAAoB;AAAA,MACtE;AAAA,IACD,CAAC;AACD,SAAK,mBAAmB,IAAI,aAAa,uBAAuB,CAAC;AACjE,WAAO,SAAS,SAAS,qBAAqB,OAAO;AACrD,WAAO;AACP,WAAO,qBAAqB;AAAA,EAC7B;AAAA,EAEQ,0BACP,WACA,UACA,OACiC;AACjC,QAAI,MAAM,yBAAyB;AAClC,aAAO,QAAQ,QAAQ,IAAI;AAAA,IAC5B;AAEA,QAAI,OAAO,eAAe,UAAU,YAAY,GAAG;AAClD,aAAO,SAAS,SAAS,EAAE,aAAa,CAAC,EAAE,cAAc;AAAA,QACxD;AAAA,QACA;AAAA,MACD;AACA,aAAO,QAAQ,QAAQ,SAAS,OAAO;AAAA,IACxC;AAEA,UAAM,UAAU,EAAE,OAAO,EAAE,OAAO,aAAa,CAAC;AAChD,UAAM,oBAAoB,IAAI,qBAAqB,SAAS,CAAC,CAAC;AAC9D,WAAO,SAAS,SAAS,kBAAkB,WAAW,CAAC;AACvD,SAAK,mBAAmB,IAAI,iBAAiB;AAE7C,UAAM,mBAAmB,KAAK,qBAAqB;AAAA,MAClD;AAAA,MACA,IAAI;AAAA,QACH;AAAA,QACA;AAAA,QACA,CAACC,eAAcA,WAAU,gBAAgB,CAAC;AAAA,QAC1C,KAAK;AAAA,MACN;AAAA,MACA;AAAA,MACA;AAAA,QACC,gBAAgB;AAAA,MACjB;AAAA,IACD;AACA,UAAM,SAAS,6BAAM;AACpB,wBAAkB,YAAY;AAC9B,YAAM,mBAAmB,kBAAkB,oBAAoB;AAC/D,uBAAiB,OAAO,iBAAiB,MAAM;AAAA,IAChD,GAJe;AAKf,UAAM,0BAA0B,OAAO,OAAO,KAAK,oBAAoB;AAAA,MACtE;AAAA,IACD,CAAC;AACD,SAAK,mBAAmB,IAAI,aAAa,uBAAuB,CAAC;AAEjE,SAAK,mBAAmB,IAAI,gBAAgB;AAC5C,sBAAkB,YAAY;AAC9B,WAAO,QAAQ,QAAQ;AAAA,MACtB,QAAQ;AACP,yBAAiB,SAAS;AAAA,MAC3B;AAAA,IACD,CAAC;AAAA,EACF;AAAA,EAEA,MAAc,kBACb,WACA,UACA,OACiC;AACjC,QAAI,MAAM,yBAAyB;AAClC,aAAO,QAAQ,QAAQ,IAAI;AAAA,IAC5B;AACA,UAAM,WAAW,MAAM,KAAK;AAAA,MAC3B,MAAM,KAAK,kBAAmB,IAAI;AAAA,MAClC,SAAS;AAAA,IACV;AACA,QAAI,MAAM,yBAAyB;AAClC,aAAO;AAAA,IACR;AACA,QAAI,CAAC,UAAU;AACd,aAAO;AAAA,IACR;AACA,WAAO,KAAK,oBAAoB,UAAU,SAAS,SAAS,KAAK;AAAA,EAClE;AAAA,EAEA,MAAc,oBACb,UACA,QACA,OACiC;AACjC,QAAI,MAAM,yBAAyB;AAClC,aAAO;AAAA,IACR;AAEA,UAAM,UAAU,EAAE,OAAO,EAAE,OAAO,aAAa,CAAC;AAChD,UAAM,oBAAoB,IAAI,qBAAqB,SAAS;AAAA,MAC3D,YAAY;AAAA,IACb,CAAC;AACD,WAAO,QAAQ,kBAAkB,WAAW,CAAC;AAE7C,UAAM,qBAAqB,KAAK,qBAAqB;AAAA,MACpD;AAAA,MACA;AAAA,MACA,IAAI,SAAS;AAAA,IACd;AACA,UAAM,aAA2B,MAAM;AAAA,MACtC,SAAS;AAAA,MACT,KAAK;AAAA,IACN;AACA,uBAAmB,cAAc,UAAU;AAC3C,sBAAkB,YAAY;AAE9B,SAAK,mBAAmB,IAAI,iBAAiB;AAC7C,SAAK,mBAAmB,IAAI,kBAAkB;AAC9C,SAAK,mBAAmB;AAAA,MACvB;AAAA,QACC,OAAO,OAAO,KAAK,oBAAoB;AAAA,UACtC,QAAQ,6BAAM,kBAAkB,YAAY,GAApC;AAAA,QACT,CAAC;AAAA,MACF;AAAA,IACD;AAEA,WAAO;AAAA,EACR;AAAA,EAEQ,aACP,aACA,WACa;AACb,cAAU,UAAU,IAAI,SAAS;AAEjC,UAAM,SAAS,KAAK,mBAAmB,IAAI,YAAY,CAAC;AACxD,UAAM,SAAS,6BAAM,UAAU,UAAU,OAAO,SAAS,GAA1C;AACf,WAAO,QAAQ,KAAK,QAAQ,MAAM;AAElC,WAAO,OAAO;AAAA,EACf;AAAA,EAEA,OAAO,WAA4B;AAClC,SAAK,YAAY;AACjB,SAAK,mBAAmB,QAAQ,CAAC,MAAM,EAAE,OAAO,CAAC;AAAA,EAClD;AAAA,EAEQ,QAAQ,KAAgB;AAC/B,QAAI,oBAAoB,GAAG,GAAG;AAC7B;AAAA,IACD;AAEA,SAAK,oBAAoB,MAAM,GAAG;AAAA,EACnC;AACD;AA3kDa,kBAAN;AAAA,EA8BJ;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,GAhDU;AA6kDb,MAAM,iBAAiB,eAAe;AAAA,EACrC,eAAe,OAAO,gBAAgB,gBAAgB,EAAE;AAAA,EACxD,kBAAkB,MAAM,UAAU;AACnC;AACA;AAAA,EACC,MAAM,sCAAsC,QAAQ;AAAA,IAt4DrD,OAs4DqD;AAAA;AAAA;AAAA,IACnD,cAAc;AACb,YAAM;AAAA,QACL,IAAI;AAAA,QACJ,OAAO,SAAS,QAAQ,MAAM;AAAA,QAC9B,YAAY;AAAA,UACX,MAAM;AAAA,UACN,QAAQ,iBAAiB;AAAA,UACzB,SAAS,OAAO,UAAU,QAAQ;AAAA,QACnC;AAAA,MACD,CAAC;AAAA,IACF;AAAA,IACA,IAAI,UAAiC;AACpC,YAAM,kBAAkB,mBAAmB,QAAQ;AACnD,uBAAiB,SAAS;AAAA,IAC3B;AAAA,EACD;AACD;AAEA;AAAA,EACC,MAAM,2CAA2C,QAAQ;AAAA,IA15D1D,OA05D0D;AAAA;AAAA;AAAA,IACxD,cAAc;AACb,YAAM;AAAA,QACL,IAAI;AAAA,QACJ,OAAO,SAAS,aAAa,WAAW;AAAA,QACxC,YAAY;AAAA,UACX,MAAM,eAAe;AAAA,YACpB;AAAA,YACA;AAAA,UACD;AAAA,UACA,SAAS,QAAQ;AAAA,UACjB,QAAQ,iBAAiB;AAAA,QAC1B;AAAA,MACD,CAAC;AAAA,IACF;AAAA,IACA,IAAI,UAAiC;AACpC,YAAM,kBAAkB,mBAAmB,QAAQ;AACnD,uBAAiB,cAAc,KAAK;AAAA,IACrC;AAAA,EACD;AACD;AAEA;AAAA,EACC,MAAM,+CAA+C,QAAQ;AAAA,IAj7D9D,OAi7D8D;AAAA;AAAA;AAAA,IAC5D,cAAc;AACb,YAAM;AAAA,QACL,IAAI;AAAA,QACJ,OAAO,SAAS,iBAAiB,eAAe;AAAA,QAChD,YAAY;AAAA,UACX,MAAM,eAAe;AAAA,YACpB;AAAA,YACA;AAAA,UACD;AAAA,UACA,SAAS,OAAO,QAAQ,QAAQ;AAAA,UAChC,QAAQ,iBAAiB;AAAA,QAC1B;AAAA,MACD,CAAC;AAAA,IACF;AAAA,IACA,IAAI,UAAiC;AACpC,YAAM,kBAAkB,mBAAmB,QAAQ;AACnD,uBAAiB,cAAc,IAAI;AAAA,IACpC;AAAA,EACD;AACD;AAEA;AAAA,EACC,CAAC,OAAoB,cAAkC;AACtD,UAAM,OAAO,MAAM,SAAS,kBAAkB;AAC9C,QAAI,MAAM;AACT,gBAAU;AAAA,QACT,gIAAgI,IAAI;AAAA,MACrI;AACA,gBAAU;AAAA,QACT,kFAAkF,IAAI;AAAA,MACvF;AAAA,IACD;AAEA,UAAM,aAAa,MAAM,SAAS,wBAAwB;AAC1D,QAAI,YAAY;AACf,gBAAU,QAAQ;AAAA,yIACoH,UAAU,KAAK;AACrJ,gBAAU,QAAQ;AAAA,2FACsE,UAAU,KAAK;AAAA,IACxG;AAEA,UAAM,6BAA6B,MAAM;AAAA,MACxC;AAAA,IACD;AACA,QAAI,4BAA4B;AAC/B,gBAAU;AAAA,QACT,qKAAqK,0BAA0B,mBAAmB,0BAA0B;AAAA,MAC7O;AACA,gBAAU;AAAA,QACT,oJAAoJ,0BAA0B,mBAAmB,0BAA0B;AAAA,MAC5N;AAAA,IACD;AAEA,UAAM,wBAAwB,MAAM,SAAS,gBAAgB;AAC7D,QAAI,uBAAuB;AAC1B,gBAAU;AAAA,QACT,0JAA0J,qBAAqB;AAAA,MAChL;AACA,gBAAU;AAAA,QACT,yIAAyI,qBAAqB;AAAA,MAC/J;AAAA,IACD;AAAA,EACD;AACD;AAEA,SAAS,mBACR,UACyB;AACzB,QAAM,mBAAmB,SAAS,IAAI,cAAc,EAAE;AACtD,MAAI,4BAA4B,iBAAiB;AAChD,WAAO;AAAA,EACR;AACA,SAAO;AACR;AARS;",
  "names": ["action", "WebviewIndex", "$", "body", "extension"]
}
