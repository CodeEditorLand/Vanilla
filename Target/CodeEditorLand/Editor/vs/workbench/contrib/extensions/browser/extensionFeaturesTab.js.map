{
  "version": 3,
  "sources": ["../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/contrib/extensions/browser/extensionFeaturesTab.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Disposable, DisposableStore, IDisposable, MutableDisposable, toDisposable } from '../../../../base/common/lifecycle.js';\nimport { $, append, clearNode } from '../../../../base/browser/dom.js';\nimport { Emitter, Event } from '../../../../base/common/event.js';\nimport { ExtensionIdentifier, IExtensionManifest } from '../../../../platform/extensions/common/extensions.js';\nimport { Orientation, Sizing, SplitView } from '../../../../base/browser/ui/splitview/splitview.js';\nimport { IExtensionFeatureDescriptor, Extensions, IExtensionFeaturesRegistry, IExtensionFeatureRenderer, IExtensionFeaturesManagementService, IExtensionFeatureTableRenderer, IExtensionFeatureMarkdownRenderer, ITableData, IRenderedData, IExtensionFeatureMarkdownAndTableRenderer } from '../../../services/extensionManagement/common/extensionFeatures.js';\nimport { Registry } from '../../../../platform/registry/common/platform.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { localize } from '../../../../nls.js';\nimport { WorkbenchList } from '../../../../platform/list/browser/listService.js';\nimport { getExtensionId } from '../../../../platform/extensionManagement/common/extensionManagementUtil.js';\nimport { IListRenderer, IListVirtualDelegate } from '../../../../base/browser/ui/list/list.js';\nimport { Button } from '../../../../base/browser/ui/button/button.js';\nimport { defaultButtonStyles, defaultKeybindingLabelStyles } from '../../../../platform/theme/browser/defaultStyles.js';\nimport { renderMarkdown } from '../../../../base/browser/markdownRenderer.js';\nimport { getErrorMessage, onUnexpectedError } from '../../../../base/common/errors.js';\nimport { IOpenerService } from '../../../../platform/opener/common/opener.js';\nimport { PANEL_SECTION_BORDER } from '../../../common/theme.js';\nimport { IThemeService, Themable } from '../../../../platform/theme/common/themeService.js';\nimport { DomScrollableElement } from '../../../../base/browser/ui/scrollbar/scrollableElement.js';\nimport { IDialogService } from '../../../../platform/dialogs/common/dialogs.js';\nimport { ThemeIcon } from '../../../../base/common/themables.js';\nimport Severity from '../../../../base/common/severity.js';\nimport { errorIcon, infoIcon, warningIcon } from './extensionsIcons.js';\nimport { SeverityIcon } from '../../../../platform/severityIcon/browser/severityIcon.js';\nimport { KeybindingLabel } from '../../../../base/browser/ui/keybindingLabel/keybindingLabel.js';\nimport { OS } from '../../../../base/common/platform.js';\nimport { IMarkdownString, MarkdownString, isMarkdownString } from '../../../../base/common/htmlContent.js';\nimport { Color } from '../../../../base/common/color.js';\nimport { IExtensionService } from '../../../services/extensions/common/extensions.js';\nimport { Codicon } from '../../../../base/common/codicons.js';\nimport { SyncDescriptor } from '../../../../platform/instantiation/common/descriptors.js';\nimport { ResolvedKeybinding } from '../../../../base/common/keybindings.js';\nimport { fromNow } from '../../../../base/common/date.js';\n\nclass RuntimeStatusMarkdownRenderer extends Disposable implements IExtensionFeatureMarkdownRenderer {\n\n\tstatic readonly ID = 'runtimeStatus';\n\treadonly type = 'markdown';\n\n\tconstructor(\n\t\t@IExtensionService private readonly extensionService: IExtensionService,\n\t\t@IExtensionFeaturesManagementService private readonly extensionFeaturesManagementService: IExtensionFeaturesManagementService,\n\t) {\n\t\tsuper();\n\t}\n\n\tshouldRender(manifest: IExtensionManifest): boolean {\n\t\tconst extensionId = new ExtensionIdentifier(getExtensionId(manifest.publisher, manifest.name));\n\t\tif (!this.extensionService.extensions.some(e => ExtensionIdentifier.equals(e.identifier, extensionId))) {\n\t\t\treturn false;\n\t\t}\n\t\treturn !!manifest.main || !!manifest.browser;\n\t}\n\n\trender(manifest: IExtensionManifest): IRenderedData<IMarkdownString> {\n\t\tconst disposables = new DisposableStore();\n\t\tconst extensionId = new ExtensionIdentifier(getExtensionId(manifest.publisher, manifest.name));\n\t\tconst emitter = disposables.add(new Emitter<IMarkdownString>());\n\t\tdisposables.add(this.extensionService.onDidChangeExtensionsStatus(e => {\n\t\t\tif (e.some(extension => ExtensionIdentifier.equals(extension, extensionId))) {\n\t\t\t\temitter.fire(this.getRuntimeStatusData(manifest));\n\t\t\t}\n\t\t}));\n\t\tdisposables.add(this.extensionFeaturesManagementService.onDidChangeAccessData(e => emitter.fire(this.getRuntimeStatusData(manifest))));\n\t\treturn {\n\t\t\tonDidChange: emitter.event,\n\t\t\tdata: this.getRuntimeStatusData(manifest),\n\t\t\tdispose: () => disposables.dispose()\n\t\t};\n\t}\n\n\tprivate getRuntimeStatusData(manifest: IExtensionManifest): IMarkdownString {\n\t\tconst data = new MarkdownString();\n\t\tconst extensionId = new ExtensionIdentifier(getExtensionId(manifest.publisher, manifest.name));\n\t\tconst status = this.extensionService.getExtensionsStatus()[extensionId.value];\n\t\tif (this.extensionService.extensions.some(extension => ExtensionIdentifier.equals(extension.identifier, extensionId))) {\n\t\t\tdata.appendMarkdown(`### ${localize('activation', \"Activation\")}\\n\\n`);\n\t\t\tif (status.activationTimes) {\n\t\t\t\tif (status.activationTimes.activationReason.startup) {\n\t\t\t\t\tdata.appendMarkdown(`Activated on Startup: \\`${status.activationTimes.activateCallTime}ms\\``);\n\t\t\t\t} else {\n\t\t\t\t\tdata.appendMarkdown(`Activated by \\`${status.activationTimes.activationReason.activationEvent}\\` event: \\`${status.activationTimes.activateCallTime}ms\\``);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tdata.appendMarkdown('Not yet activated');\n\t\t\t}\n\t\t\tif (status.runtimeErrors.length) {\n\t\t\t\tdata.appendMarkdown(`\\n ### ${localize('uncaught errors', \"Uncaught Errors ({0})\", status.runtimeErrors.length)}\\n`);\n\t\t\t\tfor (const error of status.runtimeErrors) {\n\t\t\t\t\tdata.appendMarkdown(`$(${Codicon.error.id})&nbsp;${getErrorMessage(error)}\\n\\n`);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (status.messages.length) {\n\t\t\t\tdata.appendMarkdown(`\\n ### ${localize('messaages', \"Messages ({0})\", status.messages.length)}\\n`);\n\t\t\t\tfor (const message of status.messages) {\n\t\t\t\t\tdata.appendMarkdown(`$(${(message.type === Severity.Error ? Codicon.error : message.type === Severity.Warning ? Codicon.warning : Codicon.info).id})&nbsp;${message.message}\\n\\n`);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tconst features = Registry.as<IExtensionFeaturesRegistry>(Extensions.ExtensionFeaturesRegistry).getExtensionFeatures();\n\t\tfor (const feature of features) {\n\t\t\tconst accessData = this.extensionFeaturesManagementService.getAccessData(extensionId, feature.id);\n\t\t\tif (accessData) {\n\t\t\t\tdata.appendMarkdown(`\\n ### ${feature.label}\\n\\n`);\n\t\t\t\tconst status = accessData?.current?.status;\n\t\t\t\tif (status) {\n\t\t\t\t\tif (status?.severity === Severity.Error) {\n\t\t\t\t\t\tdata.appendMarkdown(`$(${errorIcon.id}) ${status.message}\\n\\n`);\n\t\t\t\t\t}\n\t\t\t\t\tif (status?.severity === Severity.Warning) {\n\t\t\t\t\t\tdata.appendMarkdown(`$(${warningIcon.id}) ${status.message}\\n\\n`);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (accessData?.totalCount) {\n\t\t\t\t\tif (accessData.current) {\n\t\t\t\t\t\tdata.appendMarkdown(`${localize('last request', \"Last Request: `{0}`\", fromNow(accessData.current.lastAccessed, true, true))}\\n\\n`);\n\t\t\t\t\t\tdata.appendMarkdown(`${localize('requests count session', \"Requests (Session) : `{0}`\", accessData.current.count)}\\n\\n`);\n\t\t\t\t\t}\n\t\t\t\t\tdata.appendMarkdown(`${localize('requests count total', \"Requests (Overall): `{0}`\", accessData.totalCount)}\\n\\n`);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn data;\n\t}\n}\n\n\ninterface ILayoutParticipant {\n\tlayout(height?: number, width?: number): void;\n}\n\nconst runtimeStatusFeature = {\n\tid: RuntimeStatusMarkdownRenderer.ID,\n\tlabel: localize('runtime', \"Runtime Status\"),\n\taccess: {\n\t\tcanToggle: false\n\t},\n\trenderer: new SyncDescriptor(RuntimeStatusMarkdownRenderer),\n};\n\nexport class ExtensionFeaturesTab extends Themable {\n\n\treadonly domNode: HTMLElement;\n\n\tprivate readonly featureView = this._register(new MutableDisposable<ExtensionFeatureView>());\n\tprivate featureViewDimension?: { height?: number; width?: number };\n\n\tprivate readonly layoutParticipants: ILayoutParticipant[] = [];\n\tprivate readonly extensionId: ExtensionIdentifier;\n\n\tconstructor(\n\t\tprivate readonly manifest: IExtensionManifest,\n\t\tprivate readonly feature: string | undefined,\n\t\t@IThemeService themeService: IThemeService,\n\t\t@IInstantiationService private readonly instantiationService: IInstantiationService\n\t) {\n\t\tsuper(themeService);\n\n\t\tthis.extensionId = new ExtensionIdentifier(getExtensionId(manifest.publisher, manifest.name));\n\t\tthis.domNode = $('div.subcontent.feature-contributions');\n\t\tthis.create();\n\t}\n\n\tlayout(height?: number, width?: number): void {\n\t\tthis.layoutParticipants.forEach(participant => participant.layout(height, width));\n\t}\n\n\tprivate create(): void {\n\t\tconst features = this.getFeatures();\n\t\tif (features.length === 0) {\n\t\t\tappend($('.no-features'), this.domNode).textContent = localize('noFeatures', \"No features contributed.\");\n\t\t\treturn;\n\t\t}\n\n\t\tconst splitView = this._register(new SplitView<number>(this.domNode, {\n\t\t\torientation: Orientation.HORIZONTAL,\n\t\t\tproportionalLayout: true\n\t\t}));\n\t\tthis.layoutParticipants.push({\n\t\t\tlayout: (height: number, width: number) => {\n\t\t\t\tsplitView.el.style.height = `${height - 14}px`;\n\t\t\t\tsplitView.layout(width);\n\t\t\t}\n\t\t});\n\n\t\tconst featuresListContainer = $('.features-list-container');\n\t\tconst list = this._register(this.createFeaturesList(featuresListContainer));\n\t\tlist.splice(0, list.length, features);\n\n\t\tconst featureViewContainer = $('.feature-view-container');\n\t\tthis._register(list.onDidChangeSelection(e => {\n\t\t\tconst feature = e.elements[0];\n\t\t\tif (feature) {\n\t\t\t\tthis.showFeatureView(feature, featureViewContainer);\n\t\t\t}\n\t\t}));\n\n\t\tconst index = this.feature ? features.findIndex(f => f.id === this.feature) : 0;\n\t\tlist.setSelection([index === -1 ? 0 : index]);\n\n\t\tsplitView.addView({\n\t\t\tonDidChange: Event.None,\n\t\t\telement: featuresListContainer,\n\t\t\tminimumSize: 100,\n\t\t\tmaximumSize: Number.POSITIVE_INFINITY,\n\t\t\tlayout: (width, _, height) => {\n\t\t\t\tfeaturesListContainer.style.width = `${width}px`;\n\t\t\t\tlist.layout(height, width);\n\t\t\t}\n\t\t}, 200, undefined, true);\n\n\t\tsplitView.addView({\n\t\t\tonDidChange: Event.None,\n\t\t\telement: featureViewContainer,\n\t\t\tminimumSize: 500,\n\t\t\tmaximumSize: Number.POSITIVE_INFINITY,\n\t\t\tlayout: (width, _, height) => {\n\t\t\t\tfeatureViewContainer.style.width = `${width}px`;\n\t\t\t\tthis.featureViewDimension = { height, width };\n\t\t\t\tthis.layoutFeatureView();\n\t\t\t}\n\t\t}, Sizing.Distribute, undefined, true);\n\n\t\tsplitView.style({\n\t\t\tseparatorBorder: this.theme.getColor(PANEL_SECTION_BORDER)!\n\t\t});\n\t}\n\n\tprivate createFeaturesList(container: HTMLElement): WorkbenchList<IExtensionFeatureDescriptor> {\n\t\tconst renderer = this.instantiationService.createInstance(ExtensionFeatureItemRenderer, this.extensionId);\n\t\tconst delegate = new ExtensionFeatureItemDelegate();\n\t\tconst list = this.instantiationService.createInstance(WorkbenchList, 'ExtensionFeaturesList', append(container, $('.features-list-wrapper')), delegate, [renderer], {\n\t\t\tmultipleSelectionSupport: false,\n\t\t\tsetRowLineHeight: false,\n\t\t\thorizontalScrolling: false,\n\t\t\taccessibilityProvider: {\n\t\t\t\tgetAriaLabel(extensionFeature: IExtensionFeatureDescriptor | null): string {\n\t\t\t\t\treturn extensionFeature?.label ?? '';\n\t\t\t\t},\n\t\t\t\tgetWidgetAriaLabel(): string {\n\t\t\t\t\treturn localize('extension features list', \"Extension Features\");\n\t\t\t\t}\n\t\t\t},\n\t\t\topenOnSingleClick: true\n\t\t}) as WorkbenchList<IExtensionFeatureDescriptor>;\n\t\treturn list;\n\t}\n\n\tprivate layoutFeatureView(): void {\n\t\tthis.featureView.value?.layout(this.featureViewDimension?.height, this.featureViewDimension?.width);\n\t}\n\n\tprivate showFeatureView(feature: IExtensionFeatureDescriptor, container: HTMLElement): void {\n\t\tif (this.featureView.value?.feature.id === feature.id) {\n\t\t\treturn;\n\t\t}\n\t\tclearNode(container);\n\t\tthis.featureView.value = this.instantiationService.createInstance(ExtensionFeatureView, this.extensionId, this.manifest, feature);\n\t\tcontainer.appendChild(this.featureView.value.domNode);\n\t\tthis.layoutFeatureView();\n\t}\n\n\tprivate getFeatures(): IExtensionFeatureDescriptor[] {\n\t\tconst features = Registry.as<IExtensionFeaturesRegistry>(Extensions.ExtensionFeaturesRegistry)\n\t\t\t.getExtensionFeatures().filter(feature => {\n\t\t\t\tconst renderer = this.getRenderer(feature);\n\t\t\t\tconst shouldRender = renderer?.shouldRender(this.manifest);\n\t\t\t\trenderer?.dispose();\n\t\t\t\treturn shouldRender;\n\t\t\t}).sort((a, b) => a.label.localeCompare(b.label));\n\n\t\tconst renderer = this.getRenderer(runtimeStatusFeature);\n\t\tif (renderer?.shouldRender(this.manifest)) {\n\t\t\tfeatures.splice(0, 0, runtimeStatusFeature);\n\t\t}\n\t\trenderer?.dispose();\n\t\treturn features;\n\t}\n\n\tprivate getRenderer(feature: IExtensionFeatureDescriptor): IExtensionFeatureRenderer | undefined {\n\t\treturn feature.renderer ? this.instantiationService.createInstance(feature.renderer) : undefined;\n\t}\n\n}\n\ninterface IExtensionFeatureItemTemplateData {\n\treadonly label: HTMLElement;\n\treadonly disabledElement: HTMLElement;\n\treadonly statusElement: HTMLElement;\n\treadonly disposables: DisposableStore;\n}\n\nclass ExtensionFeatureItemDelegate implements IListVirtualDelegate<IExtensionFeatureDescriptor> {\n\tgetHeight() { return 22; }\n\tgetTemplateId() { return 'extensionFeatureDescriptor'; }\n}\n\nclass ExtensionFeatureItemRenderer implements IListRenderer<IExtensionFeatureDescriptor, IExtensionFeatureItemTemplateData> {\n\n\treadonly templateId = 'extensionFeatureDescriptor';\n\n\tconstructor(\n\t\tprivate readonly extensionId: ExtensionIdentifier,\n\t\t@IExtensionFeaturesManagementService private readonly extensionFeaturesManagementService: IExtensionFeaturesManagementService\n\t) { }\n\n\trenderTemplate(container: HTMLElement): IExtensionFeatureItemTemplateData {\n\t\tcontainer.classList.add('extension-feature-list-item');\n\t\tconst label = append(container, $('.extension-feature-label'));\n\t\tconst disabledElement = append(container, $('.extension-feature-disabled-label'));\n\t\tdisabledElement.textContent = localize('revoked', \"No Access\");\n\t\tconst statusElement = append(container, $('.extension-feature-status'));\n\t\treturn { label, disabledElement, statusElement, disposables: new DisposableStore() };\n\t}\n\n\trenderElement(element: IExtensionFeatureDescriptor, index: number, templateData: IExtensionFeatureItemTemplateData) {\n\t\ttemplateData.disposables.clear();\n\t\ttemplateData.label.textContent = element.label;\n\t\ttemplateData.disabledElement.style.display = element.id === runtimeStatusFeature.id || this.extensionFeaturesManagementService.isEnabled(this.extensionId, element.id) ? 'none' : 'inherit';\n\n\t\ttemplateData.disposables.add(this.extensionFeaturesManagementService.onDidChangeEnablement(({ extension, featureId, enabled }) => {\n\t\t\tif (ExtensionIdentifier.equals(extension, this.extensionId) && featureId === element.id) {\n\t\t\t\ttemplateData.disabledElement.style.display = enabled ? 'none' : 'inherit';\n\t\t\t}\n\t\t}));\n\n\t\tconst statusElementClassName = templateData.statusElement.className;\n\t\tconst updateStatus = () => {\n\t\t\tconst accessData = this.extensionFeaturesManagementService.getAccessData(this.extensionId, element.id);\n\t\t\tif (accessData?.current?.status) {\n\t\t\t\ttemplateData.statusElement.style.display = 'inherit';\n\t\t\t\ttemplateData.statusElement.className = `${statusElementClassName} ${SeverityIcon.className(accessData.current.status.severity)}`;\n\t\t\t} else {\n\t\t\t\ttemplateData.statusElement.style.display = 'none';\n\t\t\t}\n\t\t};\n\t\tupdateStatus();\n\t\ttemplateData.disposables.add(this.extensionFeaturesManagementService.onDidChangeAccessData(({ extension, featureId }) => {\n\t\t\tif (ExtensionIdentifier.equals(extension, this.extensionId) && featureId === element.id) {\n\t\t\t\tupdateStatus();\n\t\t\t}\n\t\t}));\n\t}\n\n\tdisposeElement(element: IExtensionFeatureDescriptor, index: number, templateData: IExtensionFeatureItemTemplateData, height: number | undefined): void {\n\t\ttemplateData.disposables.dispose();\n\t}\n\n\tdisposeTemplate(templateData: IExtensionFeatureItemTemplateData) {\n\t\ttemplateData.disposables.dispose();\n\t}\n\n}\n\nclass ExtensionFeatureView extends Disposable {\n\n\treadonly domNode: HTMLElement;\n\tprivate readonly layoutParticipants: ILayoutParticipant[] = [];\n\n\tconstructor(\n\t\tprivate readonly extensionId: ExtensionIdentifier,\n\t\tprivate readonly manifest: IExtensionManifest,\n\t\treadonly feature: IExtensionFeatureDescriptor,\n\t\t@IOpenerService private readonly openerService: IOpenerService,\n\t\t@IInstantiationService private readonly instantiationService: IInstantiationService,\n\t\t@IExtensionFeaturesManagementService private readonly extensionFeaturesManagementService: IExtensionFeaturesManagementService,\n\t\t@IDialogService private readonly dialogService: IDialogService,\n\t) {\n\t\tsuper();\n\n\t\tthis.domNode = $('.extension-feature-content');\n\t\tthis.create(this.domNode);\n\t}\n\n\tprivate create(content: HTMLElement): void {\n\t\tconst header = append(content, $('.feature-header'));\n\t\tconst title = append(header, $('.feature-title'));\n\t\ttitle.textContent = this.feature.label;\n\n\t\tif (this.feature.access.canToggle) {\n\t\t\tconst actionsContainer = append(header, $('.feature-actions'));\n\t\t\tconst button = new Button(actionsContainer, defaultButtonStyles);\n\t\t\tthis.updateButtonLabel(button);\n\t\t\tthis._register(this.extensionFeaturesManagementService.onDidChangeEnablement(({ extension, featureId }) => {\n\t\t\t\tif (ExtensionIdentifier.equals(extension, this.extensionId) && featureId === this.feature.id) {\n\t\t\t\t\tthis.updateButtonLabel(button);\n\t\t\t\t}\n\t\t\t}));\n\t\t\tthis._register(button.onDidClick(async () => {\n\t\t\t\tconst enabled = this.extensionFeaturesManagementService.isEnabled(this.extensionId, this.feature.id);\n\t\t\t\tconst confirmationResult = await this.dialogService.confirm({\n\t\t\t\t\ttitle: localize('accessExtensionFeature', \"Enable '{0}' Feature\", this.feature.label),\n\t\t\t\t\tmessage: enabled\n\t\t\t\t\t\t? localize('disableAccessExtensionFeatureMessage', \"Would you like to revoke '{0}' extension to access '{1}' feature?\", this.manifest.displayName ?? this.extensionId.value, this.feature.label)\n\t\t\t\t\t\t: localize('enableAccessExtensionFeatureMessage', \"Would you like to allow '{0}' extension to access '{1}' feature?\", this.manifest.displayName ?? this.extensionId.value, this.feature.label),\n\t\t\t\t\tcustom: true,\n\t\t\t\t\tprimaryButton: enabled ? localize('revoke', \"Revoke Access\") : localize('grant', \"Allow Access\"),\n\t\t\t\t\tcancelButton: localize('cancel', \"Cancel\"),\n\t\t\t\t});\n\t\t\t\tif (confirmationResult.confirmed) {\n\t\t\t\t\tthis.extensionFeaturesManagementService.setEnablement(this.extensionId, this.feature.id, !enabled);\n\t\t\t\t}\n\t\t\t}));\n\t\t}\n\n\t\tconst body = append(content, $('.feature-body'));\n\n\t\tconst bodyContent = $('.feature-body-content');\n\t\tconst scrollableContent = this._register(new DomScrollableElement(bodyContent, {}));\n\t\tappend(body, scrollableContent.getDomNode());\n\t\tthis.layoutParticipants.push({ layout: () => scrollableContent.scanDomNode() });\n\t\tscrollableContent.scanDomNode();\n\n\t\tif (this.feature.description) {\n\t\t\tconst description = append(bodyContent, $('.feature-description'));\n\t\t\tdescription.textContent = this.feature.description;\n\t\t}\n\n\t\tconst accessData = this.extensionFeaturesManagementService.getAccessData(this.extensionId, this.feature.id);\n\t\tif (accessData?.current?.status) {\n\t\t\tappend(bodyContent, $('.feature-status', undefined,\n\t\t\t\t$(`span${ThemeIcon.asCSSSelector(accessData.current.status.severity === Severity.Error ? errorIcon : accessData.current.status.severity === Severity.Warning ? warningIcon : infoIcon)}`, undefined),\n\t\t\t\t$('span', undefined, accessData.current.status.message)));\n\t\t}\n\n\t\tconst featureContentElement = append(bodyContent, $('.feature-content'));\n\t\tif (this.feature.renderer) {\n\t\t\tconst renderer = this.instantiationService.createInstance<IExtensionFeatureRenderer>(this.feature.renderer);\n\t\t\tif (renderer.type === 'table') {\n\t\t\t\tthis.renderTableData(featureContentElement, <IExtensionFeatureTableRenderer>renderer);\n\t\t\t} else if (renderer.type === 'markdown') {\n\t\t\t\tthis.renderMarkdownData(featureContentElement, <IExtensionFeatureMarkdownRenderer>renderer);\n\t\t\t} else if (renderer.type === 'markdown+table') {\n\t\t\t\tthis.renderMarkdownAndTableData(featureContentElement, <IExtensionFeatureMarkdownAndTableRenderer>renderer);\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate updateButtonLabel(button: Button): void {\n\t\tbutton.label = this.extensionFeaturesManagementService.isEnabled(this.extensionId, this.feature.id) ? localize('revoke', \"Revoke Access\") : localize('enable', \"Allow Access\");\n\t}\n\n\tprivate renderTableData(container: HTMLElement, renderer: IExtensionFeatureTableRenderer): void {\n\t\tconst tableData = this._register(renderer.render(this.manifest));\n\t\tconst tableDisposable = this._register(new MutableDisposable());\n\t\tif (tableData.onDidChange) {\n\t\t\tthis._register(tableData.onDidChange(data => {\n\t\t\t\tclearNode(container);\n\t\t\t\ttableDisposable.value = this.renderTable(data, container);\n\t\t\t}));\n\t\t}\n\t\ttableDisposable.value = this.renderTable(tableData.data, container);\n\t}\n\n\tprivate renderTable(tableData: ITableData, container: HTMLElement): IDisposable {\n\t\tconst disposables = new DisposableStore();\n\t\tappend(container,\n\t\t\t$('table', undefined,\n\t\t\t\t$('tr', undefined,\n\t\t\t\t\t...tableData.headers.map(header => $('th', undefined, header))\n\t\t\t\t),\n\t\t\t\t...tableData.rows\n\t\t\t\t\t.map(row => {\n\t\t\t\t\t\treturn $('tr', undefined,\n\t\t\t\t\t\t\t...row.map(rowData => {\n\t\t\t\t\t\t\t\tif (typeof rowData === 'string') {\n\t\t\t\t\t\t\t\t\treturn $('td', undefined, rowData);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tconst data = Array.isArray(rowData) ? rowData : [rowData];\n\t\t\t\t\t\t\t\treturn $('td', undefined, ...data.map(item => {\n\t\t\t\t\t\t\t\t\tconst result: Node[] = [];\n\t\t\t\t\t\t\t\t\tif (isMarkdownString(rowData)) {\n\t\t\t\t\t\t\t\t\t\tconst element = $('', undefined);\n\t\t\t\t\t\t\t\t\t\tthis.renderMarkdown(rowData, element);\n\t\t\t\t\t\t\t\t\t\tresult.push(element);\n\t\t\t\t\t\t\t\t\t} else if (item instanceof ResolvedKeybinding) {\n\t\t\t\t\t\t\t\t\t\tconst element = $('');\n\t\t\t\t\t\t\t\t\t\tconst kbl = disposables.add(new KeybindingLabel(element, OS, defaultKeybindingLabelStyles));\n\t\t\t\t\t\t\t\t\t\tkbl.set(item);\n\t\t\t\t\t\t\t\t\t\tresult.push(element);\n\t\t\t\t\t\t\t\t\t} else if (item instanceof Color) {\n\t\t\t\t\t\t\t\t\t\tresult.push($('span', { class: 'colorBox', style: 'background-color: ' + Color.Format.CSS.format(item) }, ''));\n\t\t\t\t\t\t\t\t\t\tresult.push($('code', undefined, Color.Format.CSS.formatHex(item)));\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\treturn result;\n\t\t\t\t\t\t\t\t}).flat());\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t);\n\t\t\t\t\t})));\n\t\treturn disposables;\n\t}\n\n\tprivate renderMarkdownAndTableData(container: HTMLElement, renderer: IExtensionFeatureMarkdownAndTableRenderer): void {\n\t\tconst markdownAndTableData = this._register(renderer.render(this.manifest));\n\t\tif (markdownAndTableData.onDidChange) {\n\t\t\tthis._register(markdownAndTableData.onDidChange(data => {\n\t\t\t\tclearNode(container);\n\t\t\t\tthis.renderMarkdownAndTable(data, container);\n\t\t\t}));\n\t\t}\n\t\tthis.renderMarkdownAndTable(markdownAndTableData.data, container);\n\t}\n\n\tprivate renderMarkdownData(container: HTMLElement, renderer: IExtensionFeatureMarkdownRenderer): void {\n\t\tcontainer.classList.add('markdown');\n\t\tconst markdownData = this._register(renderer.render(this.manifest));\n\t\tif (markdownData.onDidChange) {\n\t\t\tthis._register(markdownData.onDidChange(data => {\n\t\t\t\tclearNode(container);\n\t\t\t\tthis.renderMarkdown(data, container);\n\t\t\t}));\n\t\t}\n\t\tthis.renderMarkdown(markdownData.data, container);\n\t}\n\n\tprivate renderMarkdown(markdown: IMarkdownString, container: HTMLElement): void {\n\t\tconst { element, dispose } = renderMarkdown(\n\t\t\t{\n\t\t\t\tvalue: markdown.value,\n\t\t\t\tisTrusted: markdown.isTrusted,\n\t\t\t\tsupportThemeIcons: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tactionHandler: {\n\t\t\t\t\tcallback: (content) => this.openerService.open(content, { allowCommands: !!markdown.isTrusted }).catch(onUnexpectedError),\n\t\t\t\t\tdisposables: this._store\n\t\t\t\t},\n\t\t\t});\n\t\tthis._register(toDisposable(dispose));\n\t\tappend(container, element);\n\t}\n\n\tprivate renderMarkdownAndTable(data: Array<IMarkdownString | ITableData>, container: HTMLElement): void {\n\t\tfor (const markdownOrTable of data) {\n\t\t\tif (isMarkdownString(markdownOrTable)) {\n\t\t\t\tconst element = $('', undefined);\n\t\t\t\tthis.renderMarkdown(markdownOrTable, element);\n\t\t\t\tappend(container, element);\n\t\t\t} else {\n\t\t\t\tconst tableElement = append(container, $('table'));\n\t\t\t\tthis.renderTable(markdownOrTable, tableElement);\n\t\t\t}\n\t\t}\n\t}\n\n\tlayout(height?: number, width?: number): void {\n\t\tthis.layoutParticipants.forEach(p => p.layout(height, width));\n\t}\n\n}\n"],
  "mappings": "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",
  "names": ["status", "renderer"]
}
