{
  "version": 3,
  "sources": ["../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/contrib/extensions/browser/extensionsWidgets.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport './media/extensionsWidgets.css';\nimport * as semver from '../../../../base/common/semver/semver.js';\nimport { Disposable, toDisposable, DisposableStore, MutableDisposable, IDisposable } from '../../../../base/common/lifecycle.js';\nimport { IExtension, IExtensionsWorkbenchService, IExtensionContainer, ExtensionState, ExtensionEditorTab } from '../common/extensions.js';\nimport { append, $, reset, addDisposableListener, EventType, finalHandler } from '../../../../base/browser/dom.js';\nimport * as platform from '../../../../base/common/platform.js';\nimport { localize } from '../../../../nls.js';\nimport { IExtensionManagementServerService } from '../../../services/extensionManagement/common/extensionManagement.js';\nimport { IExtensionIgnoredRecommendationsService, IExtensionRecommendationsService } from '../../../services/extensionRecommendations/common/extensionRecommendations.js';\nimport { ILabelService } from '../../../../platform/label/common/label.js';\nimport { extensionButtonProminentBackground, ExtensionStatusAction } from './extensionsActions.js';\nimport { IThemeService, registerThemingParticipant } from '../../../../platform/theme/common/themeService.js';\nimport { ThemeIcon } from '../../../../base/common/themables.js';\nimport { EXTENSION_BADGE_REMOTE_BACKGROUND, EXTENSION_BADGE_REMOTE_FOREGROUND } from '../../../common/theme.js';\nimport { Emitter, Event } from '../../../../base/common/event.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { CountBadge } from '../../../../base/browser/ui/countBadge/countBadge.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { IUserDataSyncEnablementService } from '../../../../platform/userDataSync/common/userDataSync.js';\nimport { activationTimeIcon, errorIcon, infoIcon, installCountIcon, preReleaseIcon, ratingIcon, remoteIcon, sponsorIcon, starEmptyIcon, starFullIcon, starHalfIcon, syncIgnoredIcon, verifiedPublisherIcon, warningIcon } from './extensionsIcons.js';\nimport { registerColor, textLinkForeground } from '../../../../platform/theme/common/colorRegistry.js';\nimport { IHoverService } from '../../../../platform/hover/browser/hover.js';\nimport { HoverPosition } from '../../../../base/browser/ui/hover/hoverWidget.js';\nimport { MarkdownString } from '../../../../base/common/htmlContent.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { IExtensionService } from '../../../services/extensions/common/extensions.js';\nimport { areSameExtensions } from '../../../../platform/extensionManagement/common/extensionManagementUtil.js';\nimport Severity from '../../../../base/common/severity.js';\nimport { Color } from '../../../../base/common/color.js';\nimport { renderMarkdown } from '../../../../base/browser/markdownRenderer.js';\nimport { IOpenerService } from '../../../../platform/opener/common/opener.js';\nimport { onUnexpectedError } from '../../../../base/common/errors.js';\nimport { renderIcon } from '../../../../base/browser/ui/iconLabel/iconLabels.js';\nimport { StandardKeyboardEvent } from '../../../../base/browser/keyboardEvent.js';\nimport { KeyCode } from '../../../../base/common/keyCodes.js';\nimport { ITelemetryService } from '../../../../platform/telemetry/common/telemetry.js';\nimport { defaultCountBadgeStyles } from '../../../../platform/theme/browser/defaultStyles.js';\nimport { getDefaultHoverDelegate } from '../../../../base/browser/ui/hover/hoverDelegateFactory.js';\nimport { IWorkspaceContextService } from '../../../../platform/workspace/common/workspace.js';\nimport type { IManagedHover } from '../../../../base/browser/ui/hover/hover.js';\n\nexport abstract class ExtensionWidget extends Disposable implements IExtensionContainer {\n\tprivate _extension: IExtension | null = null;\n\tget extension(): IExtension | null { return this._extension; }\n\tset extension(extension: IExtension | null) { this._extension = extension; this.update(); }\n\tupdate(): void { this.render(); }\n\tabstract render(): void;\n}\n\nexport function onClick(element: HTMLElement, callback: () => void): IDisposable {\n\tconst disposables: DisposableStore = new DisposableStore();\n\tdisposables.add(addDisposableListener(element, EventType.CLICK, finalHandler(callback)));\n\tdisposables.add(addDisposableListener(element, EventType.KEY_UP, e => {\n\t\tconst keyboardEvent = new StandardKeyboardEvent(e);\n\t\tif (keyboardEvent.equals(KeyCode.Space) || keyboardEvent.equals(KeyCode.Enter)) {\n\t\t\te.preventDefault();\n\t\t\te.stopPropagation();\n\t\t\tcallback();\n\t\t}\n\t}));\n\treturn disposables;\n}\n\nexport class InstallCountWidget extends ExtensionWidget {\n\n\tconstructor(\n\t\tprivate container: HTMLElement,\n\t\tprivate small: boolean,\n\t) {\n\t\tsuper();\n\t\tcontainer.classList.add('extension-install-count');\n\t\tthis.render();\n\t}\n\n\trender(): void {\n\t\tthis.container.innerText = '';\n\n\t\tif (!this.extension) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.small && this.extension.state !== ExtensionState.Uninstalled) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst installLabel = InstallCountWidget.getInstallLabel(this.extension, this.small);\n\t\tif (!installLabel) {\n\t\t\treturn;\n\t\t}\n\n\t\tappend(this.container, $('span' + ThemeIcon.asCSSSelector(installCountIcon)));\n\t\tconst count = append(this.container, $('span.count'));\n\t\tcount.textContent = installLabel;\n\t}\n\n\tstatic getInstallLabel(extension: IExtension, small: boolean): string | undefined {\n\t\tconst installCount = extension.installCount;\n\n\t\tif (installCount === undefined) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tlet installLabel: string;\n\n\t\tif (small) {\n\t\t\tif (installCount > 1000000) {\n\t\t\t\tinstallLabel = `${Math.floor(installCount / 100000) / 10}M`;\n\t\t\t} else if (installCount > 1000) {\n\t\t\t\tinstallLabel = `${Math.floor(installCount / 1000)}K`;\n\t\t\t} else {\n\t\t\t\tinstallLabel = String(installCount);\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tinstallLabel = installCount.toLocaleString(platform.language);\n\t\t}\n\n\t\treturn installLabel;\n\t}\n}\n\nexport class RatingsWidget extends ExtensionWidget {\n\n\tprivate readonly containerHover: IManagedHover;\n\n\tconstructor(\n\t\tprivate container: HTMLElement,\n\t\tprivate small: boolean,\n\t\t@IHoverService hoverService: IHoverService\n\t) {\n\t\tsuper();\n\t\tcontainer.classList.add('extension-ratings');\n\n\t\tif (this.small) {\n\t\t\tcontainer.classList.add('small');\n\t\t}\n\n\t\tthis.containerHover = this._register(hoverService.setupManagedHover(getDefaultHoverDelegate('mouse'), container, ''));\n\n\t\tthis.render();\n\t}\n\n\trender(): void {\n\t\tthis.container.innerText = '';\n\n\t\tif (!this.extension) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.small && this.extension.state !== ExtensionState.Uninstalled) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.extension.rating === undefined) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.small && !this.extension.ratingCount) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst rating = Math.round(this.extension.rating * 2) / 2;\n\t\tthis.containerHover.update(localize('ratedLabel', \"Average rating: {0} out of 5\", rating));\n\t\tif (this.small) {\n\t\t\tappend(this.container, $('span' + ThemeIcon.asCSSSelector(starFullIcon)));\n\n\t\t\tconst count = append(this.container, $('span.count'));\n\t\t\tcount.textContent = String(rating);\n\t\t} else {\n\t\t\tfor (let i = 1; i <= 5; i++) {\n\t\t\t\tif (rating >= i) {\n\t\t\t\t\tappend(this.container, $('span' + ThemeIcon.asCSSSelector(starFullIcon)));\n\t\t\t\t} else if (rating >= i - 0.5) {\n\t\t\t\t\tappend(this.container, $('span' + ThemeIcon.asCSSSelector(starHalfIcon)));\n\t\t\t\t} else {\n\t\t\t\t\tappend(this.container, $('span' + ThemeIcon.asCSSSelector(starEmptyIcon)));\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (this.extension.ratingCount) {\n\t\t\t\tconst ratingCountElemet = append(this.container, $('span', undefined, ` (${this.extension.ratingCount})`));\n\t\t\t\tratingCountElemet.style.paddingLeft = '1px';\n\t\t\t}\n\t\t}\n\t}\n}\n\nexport class VerifiedPublisherWidget extends ExtensionWidget {\n\n\tprivate readonly disposables = this._register(new DisposableStore());\n\tprivate readonly containerHover: IManagedHover;\n\n\tconstructor(\n\t\tprivate container: HTMLElement,\n\t\tprivate small: boolean,\n\t\t@IHoverService hoverService: IHoverService,\n\t\t@IOpenerService private readonly openerService: IOpenerService,\n\t) {\n\t\tsuper();\n\t\tthis.containerHover = this._register(hoverService.setupManagedHover(getDefaultHoverDelegate('mouse'), container, ''));\n\t\tthis.render();\n\t}\n\n\trender(): void {\n\t\treset(this.container);\n\t\tthis.disposables.clear();\n\t\tif (!this.extension?.publisherDomain?.verified) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.extension.resourceExtension) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.extension.local?.source === 'resource') {\n\t\t\treturn;\n\t\t}\n\n\t\tconst publisherDomainLink = URI.parse(this.extension.publisherDomain.link);\n\t\tconst verifiedPublisher = append(this.container, $('span.extension-verified-publisher.clickable'));\n\t\tappend(verifiedPublisher, renderIcon(verifiedPublisherIcon));\n\n\t\tif (!this.small) {\n\t\t\tverifiedPublisher.tabIndex = 0;\n\t\t\tthis.containerHover.update(`Verified Domain: ${this.extension.publisherDomain.link}`);\n\t\t\tverifiedPublisher.setAttribute('role', 'link');\n\n\t\t\tappend(verifiedPublisher, $('span.extension-verified-publisher-domain', undefined, publisherDomainLink.authority.startsWith('www.') ? publisherDomainLink.authority.substring(4) : publisherDomainLink.authority));\n\t\t\tthis.disposables.add(onClick(verifiedPublisher, () => this.openerService.open(publisherDomainLink)));\n\t\t}\n\n\t}\n}\n\nexport class SponsorWidget extends ExtensionWidget {\n\n\tprivate readonly disposables = this._register(new DisposableStore());\n\n\tconstructor(\n\t\tprivate container: HTMLElement,\n\t\t@IHoverService private readonly hoverService: IHoverService,\n\t\t@IOpenerService private readonly openerService: IOpenerService,\n\t\t@ITelemetryService private readonly telemetryService: ITelemetryService,\n\t) {\n\t\tsuper();\n\t\tthis.render();\n\t}\n\n\trender(): void {\n\t\treset(this.container);\n\t\tthis.disposables.clear();\n\t\tif (!this.extension?.publisherSponsorLink) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst sponsor = append(this.container, $('span.sponsor.clickable', { tabIndex: 0 }));\n\t\tthis.disposables.add(this.hoverService.setupManagedHover(getDefaultHoverDelegate('mouse'), sponsor, this.extension?.publisherSponsorLink.toString() ?? ''));\n\t\tsponsor.setAttribute('role', 'link'); // #132645\n\t\tconst sponsorIconElement = renderIcon(sponsorIcon);\n\t\tconst label = $('span', undefined, localize('sponsor', \"Sponsor\"));\n\t\tappend(sponsor, sponsorIconElement, label);\n\t\tthis.disposables.add(onClick(sponsor, () => {\n\t\t\ttype SponsorExtensionClassification = {\n\t\t\t\towner: 'sandy081';\n\t\t\t\tcomment: 'Reporting when sponosor extension action is executed';\n\t\t\t\t'extensionId': { classification: 'SystemMetaData'; purpose: 'FeatureInsight'; comment: 'Id of the extension to be sponsored' };\n\t\t\t};\n\t\t\ttype SponsorExtensionEvent = {\n\t\t\t\t'extensionId': string;\n\t\t\t};\n\t\t\tthis.telemetryService.publicLog2<SponsorExtensionEvent, SponsorExtensionClassification>('extensionsAction.sponsorExtension', { extensionId: this.extension!.identifier.id });\n\t\t\tthis.openerService.open(this.extension!.publisherSponsorLink!);\n\t\t}));\n\t}\n}\n\nexport class RecommendationWidget extends ExtensionWidget {\n\n\tprivate element?: HTMLElement;\n\tprivate readonly disposables = this._register(new DisposableStore());\n\n\tconstructor(\n\t\tprivate parent: HTMLElement,\n\t\t@IExtensionRecommendationsService private readonly extensionRecommendationsService: IExtensionRecommendationsService\n\t) {\n\t\tsuper();\n\t\tthis.render();\n\t\tthis._register(toDisposable(() => this.clear()));\n\t\tthis._register(this.extensionRecommendationsService.onDidChangeRecommendations(() => this.render()));\n\t}\n\n\tprivate clear(): void {\n\t\tthis.element?.remove();\n\t\tthis.element = undefined;\n\t\tthis.disposables.clear();\n\t}\n\n\trender(): void {\n\t\tthis.clear();\n\t\tif (!this.extension || this.extension.state === ExtensionState.Installed || this.extension.deprecationInfo) {\n\t\t\treturn;\n\t\t}\n\t\tconst extRecommendations = this.extensionRecommendationsService.getAllRecommendationsWithReason();\n\t\tif (extRecommendations[this.extension.identifier.id.toLowerCase()]) {\n\t\t\tthis.element = append(this.parent, $('div.extension-bookmark'));\n\t\t\tconst recommendation = append(this.element, $('.recommendation'));\n\t\t\tappend(recommendation, $('span' + ThemeIcon.asCSSSelector(ratingIcon)));\n\t\t}\n\t}\n\n}\n\nexport class PreReleaseBookmarkWidget extends ExtensionWidget {\n\n\tprivate element?: HTMLElement;\n\tprivate readonly disposables = this._register(new DisposableStore());\n\n\tconstructor(\n\t\tprivate parent: HTMLElement,\n\t) {\n\t\tsuper();\n\t\tthis.render();\n\t\tthis._register(toDisposable(() => this.clear()));\n\t}\n\n\tprivate clear(): void {\n\t\tthis.element?.remove();\n\t\tthis.element = undefined;\n\t\tthis.disposables.clear();\n\t}\n\n\trender(): void {\n\t\tthis.clear();\n\t\tif (this.extension?.state === ExtensionState.Installed ? this.extension.preRelease : this.extension?.hasPreReleaseVersion) {\n\t\t\tthis.element = append(this.parent, $('div.extension-bookmark'));\n\t\t\tconst preRelease = append(this.element, $('.pre-release'));\n\t\t\tappend(preRelease, $('span' + ThemeIcon.asCSSSelector(preReleaseIcon)));\n\t\t}\n\t}\n\n}\n\nexport class RemoteBadgeWidget extends ExtensionWidget {\n\n\tprivate readonly remoteBadge = this._register(new MutableDisposable<RemoteBadge>());\n\n\tprivate element: HTMLElement;\n\n\tconstructor(\n\t\tparent: HTMLElement,\n\t\tprivate readonly tooltip: boolean,\n\t\t@IExtensionManagementServerService private readonly extensionManagementServerService: IExtensionManagementServerService,\n\t\t@IInstantiationService private readonly instantiationService: IInstantiationService\n\t) {\n\t\tsuper();\n\t\tthis.element = append(parent, $('.extension-remote-badge-container'));\n\t\tthis.render();\n\t\tthis._register(toDisposable(() => this.clear()));\n\t}\n\n\tprivate clear(): void {\n\t\tthis.remoteBadge.value?.element.remove();\n\t\tthis.remoteBadge.clear();\n\t}\n\n\trender(): void {\n\t\tthis.clear();\n\t\tif (!this.extension || !this.extension.local || !this.extension.server || !(this.extensionManagementServerService.localExtensionManagementServer && this.extensionManagementServerService.remoteExtensionManagementServer) || this.extension.server !== this.extensionManagementServerService.remoteExtensionManagementServer) {\n\t\t\treturn;\n\t\t}\n\t\tthis.remoteBadge.value = this.instantiationService.createInstance(RemoteBadge, this.tooltip);\n\t\tappend(this.element, this.remoteBadge.value.element);\n\t}\n}\n\nclass RemoteBadge extends Disposable {\n\n\treadonly element: HTMLElement;\n\treadonly elementHover: IManagedHover;\n\n\tconstructor(\n\t\tprivate readonly tooltip: boolean,\n\t\t@IHoverService hoverService: IHoverService,\n\t\t@ILabelService private readonly labelService: ILabelService,\n\t\t@IThemeService private readonly themeService: IThemeService,\n\t\t@IExtensionManagementServerService private readonly extensionManagementServerService: IExtensionManagementServerService\n\t) {\n\t\tsuper();\n\t\tthis.element = $('div.extension-badge.extension-remote-badge');\n\t\tthis.elementHover = this._register(hoverService.setupManagedHover(getDefaultHoverDelegate('mouse'), this.element, ''));\n\t\tthis.render();\n\t}\n\n\tprivate render(): void {\n\t\tappend(this.element, $('span' + ThemeIcon.asCSSSelector(remoteIcon)));\n\n\t\tconst applyBadgeStyle = () => {\n\t\t\tif (!this.element) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst bgColor = this.themeService.getColorTheme().getColor(EXTENSION_BADGE_REMOTE_BACKGROUND);\n\t\t\tconst fgColor = this.themeService.getColorTheme().getColor(EXTENSION_BADGE_REMOTE_FOREGROUND);\n\t\t\tthis.element.style.backgroundColor = bgColor ? bgColor.toString() : '';\n\t\t\tthis.element.style.color = fgColor ? fgColor.toString() : '';\n\t\t};\n\t\tapplyBadgeStyle();\n\t\tthis._register(this.themeService.onDidColorThemeChange(() => applyBadgeStyle()));\n\n\t\tif (this.tooltip) {\n\t\t\tconst updateTitle = () => {\n\t\t\t\tif (this.element && this.extensionManagementServerService.remoteExtensionManagementServer) {\n\t\t\t\t\tthis.elementHover.update(localize('remote extension title', \"Extension in {0}\", this.extensionManagementServerService.remoteExtensionManagementServer.label));\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis._register(this.labelService.onDidChangeFormatters(() => updateTitle()));\n\t\t\tupdateTitle();\n\t\t}\n\t}\n}\n\nexport class ExtensionPackCountWidget extends ExtensionWidget {\n\n\tprivate element: HTMLElement | undefined;\n\n\tconstructor(\n\t\tprivate readonly parent: HTMLElement,\n\t) {\n\t\tsuper();\n\t\tthis.render();\n\t\tthis._register(toDisposable(() => this.clear()));\n\t}\n\n\tprivate clear(): void {\n\t\tthis.element?.remove();\n\t}\n\n\trender(): void {\n\t\tthis.clear();\n\t\tif (!this.extension || !(this.extension.categories?.some(category => category.toLowerCase() === 'extension packs')) || !this.extension.extensionPack.length) {\n\t\t\treturn;\n\t\t}\n\t\tthis.element = append(this.parent, $('.extension-badge.extension-pack-badge'));\n\t\tconst countBadge = new CountBadge(this.element, {}, defaultCountBadgeStyles);\n\t\tcountBadge.setCount(this.extension.extensionPack.length);\n\t}\n}\n\nexport class SyncIgnoredWidget extends ExtensionWidget {\n\n\tprivate readonly disposables = this._register(new DisposableStore());\n\n\tconstructor(\n\t\tprivate readonly container: HTMLElement,\n\t\t@IConfigurationService private readonly configurationService: IConfigurationService,\n\t\t@IExtensionsWorkbenchService private readonly extensionsWorkbenchService: IExtensionsWorkbenchService,\n\t\t@IHoverService private readonly hoverService: IHoverService,\n\t\t@IUserDataSyncEnablementService private readonly userDataSyncEnablementService: IUserDataSyncEnablementService,\n\t) {\n\t\tsuper();\n\t\tthis._register(Event.filter(this.configurationService.onDidChangeConfiguration, e => e.affectsConfiguration('settingsSync.ignoredExtensions'))(() => this.render()));\n\t\tthis._register(userDataSyncEnablementService.onDidChangeEnablement(() => this.update()));\n\t\tthis.render();\n\t}\n\n\trender(): void {\n\t\tthis.disposables.clear();\n\t\tthis.container.innerText = '';\n\n\t\tif (this.extension && this.extension.state === ExtensionState.Installed && this.userDataSyncEnablementService.isEnabled() && this.extensionsWorkbenchService.isExtensionIgnoredToSync(this.extension)) {\n\t\t\tconst element = append(this.container, $('span.extension-sync-ignored' + ThemeIcon.asCSSSelector(syncIgnoredIcon)));\n\t\t\tthis.disposables.add(this.hoverService.setupManagedHover(getDefaultHoverDelegate('mouse'), element, localize('syncingore.label', \"This extension is ignored during sync.\")));\n\t\t\telement.classList.add(...ThemeIcon.asClassNameArray(syncIgnoredIcon));\n\t\t}\n\t}\n}\n\nexport class ExtensionActivationStatusWidget extends ExtensionWidget {\n\n\tconstructor(\n\t\tprivate readonly container: HTMLElement,\n\t\tprivate readonly small: boolean,\n\t\t@IExtensionService extensionService: IExtensionService,\n\t\t@IExtensionsWorkbenchService private readonly extensionsWorkbenchService: IExtensionsWorkbenchService,\n\t) {\n\t\tsuper();\n\t\tthis._register(extensionService.onDidChangeExtensionsStatus(extensions => {\n\t\t\tif (this.extension && extensions.some(e => areSameExtensions({ id: e.value }, this.extension!.identifier))) {\n\t\t\t\tthis.update();\n\t\t\t}\n\t\t}));\n\t}\n\n\trender(): void {\n\t\tthis.container.innerText = '';\n\n\t\tif (!this.extension) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst extensionStatus = this.extensionsWorkbenchService.getExtensionRuntimeStatus(this.extension);\n\t\tif (!extensionStatus || !extensionStatus.activationTimes) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst activationTime = extensionStatus.activationTimes.codeLoadingTime + extensionStatus.activationTimes.activateCallTime;\n\t\tif (this.small) {\n\t\t\tappend(this.container, $('span' + ThemeIcon.asCSSSelector(activationTimeIcon)));\n\t\t\tconst activationTimeElement = append(this.container, $('span.activationTime'));\n\t\t\tactivationTimeElement.textContent = `${activationTime}ms`;\n\t\t} else {\n\t\t\tconst activationTimeElement = append(this.container, $('span.activationTime'));\n\t\t\tactivationTimeElement.textContent = `${localize('activation', \"Activation time\")}${extensionStatus.activationTimes.activationReason.startup ? ` (${localize('startup', \"Startup\")})` : ''} : ${activationTime}ms`;\n\t\t}\n\n\t}\n\n}\n\nexport type ExtensionHoverOptions = {\n\tposition: () => HoverPosition;\n\treadonly target: HTMLElement;\n};\n\nexport class ExtensionHoverWidget extends ExtensionWidget {\n\n\tprivate readonly hover = this._register(new MutableDisposable<IDisposable>());\n\n\tconstructor(\n\t\tprivate readonly options: ExtensionHoverOptions,\n\t\tprivate readonly extensionStatusAction: ExtensionStatusAction,\n\t\t@IExtensionsWorkbenchService private readonly extensionsWorkbenchService: IExtensionsWorkbenchService,\n\t\t@IHoverService private readonly hoverService: IHoverService,\n\t\t@IConfigurationService private readonly configurationService: IConfigurationService,\n\t\t@IExtensionRecommendationsService private readonly extensionRecommendationsService: IExtensionRecommendationsService,\n\t\t@IThemeService private readonly themeService: IThemeService,\n\t\t@IWorkspaceContextService private readonly contextService: IWorkspaceContextService,\n\t) {\n\t\tsuper();\n\t}\n\n\trender(): void {\n\t\tthis.hover.value = undefined;\n\t\tif (this.extension) {\n\t\t\tthis.hover.value = this.hoverService.setupManagedHover({\n\t\t\t\tdelay: this.configurationService.getValue<number>('workbench.hover.delay'),\n\t\t\t\tshowHover: (options, focus) => {\n\t\t\t\t\treturn this.hoverService.showHover({\n\t\t\t\t\t\t...options,\n\t\t\t\t\t\tadditionalClasses: ['extension-hover'],\n\t\t\t\t\t\tposition: {\n\t\t\t\t\t\t\thoverPosition: this.options.position(),\n\t\t\t\t\t\t\tforcePosition: true,\n\t\t\t\t\t\t},\n\t\t\t\t\t\tpersistence: {\n\t\t\t\t\t\t\thideOnKeyDown: true,\n\t\t\t\t\t\t}\n\t\t\t\t\t}, focus);\n\t\t\t\t},\n\t\t\t\tplacement: 'element'\n\t\t\t},\n\t\t\t\tthis.options.target,\n\t\t\t\t{\n\t\t\t\t\tmarkdown: () => Promise.resolve(this.getHoverMarkdown()),\n\t\t\t\t\tmarkdownNotSupportedFallback: undefined\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tappearance: {\n\t\t\t\t\t\tshowHoverHint: true\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t}\n\n\tprivate getHoverMarkdown(): MarkdownString | undefined {\n\t\tif (!this.extension) {\n\t\t\treturn undefined;\n\t\t}\n\t\tconst markdown = new MarkdownString('', { isTrusted: true, supportThemeIcons: true });\n\n\t\tmarkdown.appendMarkdown(`**${this.extension.displayName}**`);\n\t\tif (semver.valid(this.extension.version)) {\n\t\t\tmarkdown.appendMarkdown(`&nbsp;<span style=\"background-color:#8080802B;\">**&nbsp;_v${this.extension.version}${(this.extension.isPreReleaseVersion ? ' (pre-release)' : '')}_**&nbsp;</span>`);\n\t\t}\n\t\tmarkdown.appendText(`\\n`);\n\n\t\tif (this.extension.state === ExtensionState.Installed) {\n\t\t\tlet addSeparator = false;\n\t\t\tconst installLabel = InstallCountWidget.getInstallLabel(this.extension, true);\n\t\t\tif (installLabel) {\n\t\t\t\tif (addSeparator) {\n\t\t\t\t\tmarkdown.appendText(`  |  `);\n\t\t\t\t}\n\t\t\t\tmarkdown.appendMarkdown(`$(${installCountIcon.id}) ${installLabel}`);\n\t\t\t\taddSeparator = true;\n\t\t\t}\n\t\t\tif (this.extension.rating) {\n\t\t\t\tif (addSeparator) {\n\t\t\t\t\tmarkdown.appendText(`  |  `);\n\t\t\t\t}\n\t\t\t\tconst rating = Math.round(this.extension.rating * 2) / 2;\n\t\t\t\tmarkdown.appendMarkdown(`$(${starFullIcon.id}) [${rating}](${this.extension.url}&ssr=false#review-details)`);\n\t\t\t\taddSeparator = true;\n\t\t\t}\n\t\t\tif (this.extension.publisherSponsorLink) {\n\t\t\t\tif (addSeparator) {\n\t\t\t\t\tmarkdown.appendText(`  |  `);\n\t\t\t\t}\n\t\t\t\tmarkdown.appendMarkdown(`$(${sponsorIcon.id}) [${localize('sponsor', \"Sponsor\")}](${this.extension.publisherSponsorLink})`);\n\t\t\t\taddSeparator = true;\n\t\t\t}\n\t\t\tif (addSeparator) {\n\t\t\t\tmarkdown.appendText(`\\n`);\n\t\t\t}\n\t\t}\n\n\t\tconst location = this.extension.resourceExtension?.location ?? (this.extension.local?.source === 'resource' ? this.extension.local?.location : undefined);\n\t\tif (location) {\n\t\t\tif (this.extension.isWorkspaceScoped && this.contextService.isInsideWorkspace(location)) {\n\t\t\t\tmarkdown.appendMarkdown(localize('workspace extension', \"Workspace Extension\"));\n\t\t\t} else {\n\t\t\t\tmarkdown.appendMarkdown(localize('local extension', \"Local Extension\"));\n\t\t\t}\n\t\t\tmarkdown.appendText(`\\n`);\n\t\t}\n\n\t\tif (this.extension.description) {\n\t\t\tmarkdown.appendMarkdown(`${this.extension.description}`);\n\t\t\tmarkdown.appendText(`\\n`);\n\t\t}\n\n\t\tif (this.extension.publisherDomain?.verified) {\n\t\t\tconst bgColor = this.themeService.getColorTheme().getColor(extensionVerifiedPublisherIconColor);\n\t\t\tconst publisherVerifiedTooltip = localize('publisher verified tooltip', \"This publisher has verified ownership of {0}\", `[${URI.parse(this.extension.publisherDomain.link).authority}](${this.extension.publisherDomain.link})`);\n\t\t\tmarkdown.appendMarkdown(`<span style=\"color:${bgColor ? Color.Format.CSS.formatHex(bgColor) : '#ffffff'};\">$(${verifiedPublisherIcon.id})</span>&nbsp;${publisherVerifiedTooltip}`);\n\t\t\tmarkdown.appendText(`\\n`);\n\t\t}\n\n\t\tif (this.extension.outdated) {\n\t\t\tmarkdown.appendMarkdown(localize('updateRequired', \"Latest version:\"));\n\t\t\tmarkdown.appendMarkdown(`&nbsp;<span style=\"background-color:#8080802B;\">**&nbsp;_v${this.extension.latestVersion}_**&nbsp;</span>`);\n\t\t\tmarkdown.appendText(`\\n`);\n\t\t}\n\n\t\tconst preReleaseMessage = ExtensionHoverWidget.getPreReleaseMessage(this.extension);\n\t\tconst extensionRuntimeStatus = this.extensionsWorkbenchService.getExtensionRuntimeStatus(this.extension);\n\t\tconst extensionStatus = this.extensionStatusAction.status;\n\t\tconst runtimeState = this.extension.runtimeState;\n\t\tconst recommendationMessage = this.getRecommendationMessage(this.extension);\n\n\t\tif (extensionRuntimeStatus || extensionStatus.length || runtimeState || recommendationMessage || preReleaseMessage) {\n\n\t\t\tmarkdown.appendMarkdown(`---`);\n\t\t\tmarkdown.appendText(`\\n`);\n\n\t\t\tif (extensionRuntimeStatus) {\n\t\t\t\tif (extensionRuntimeStatus.activationTimes) {\n\t\t\t\t\tconst activationTime = extensionRuntimeStatus.activationTimes.codeLoadingTime + extensionRuntimeStatus.activationTimes.activateCallTime;\n\t\t\t\t\tmarkdown.appendMarkdown(`${localize('activation', \"Activation time\")}${extensionRuntimeStatus.activationTimes.activationReason.startup ? ` (${localize('startup', \"Startup\")})` : ''}: \\`${activationTime}ms\\``);\n\t\t\t\t\tmarkdown.appendText(`\\n`);\n\t\t\t\t}\n\t\t\t\tif (extensionRuntimeStatus.runtimeErrors.length || extensionRuntimeStatus.messages.length) {\n\t\t\t\t\tconst hasErrors = extensionRuntimeStatus.runtimeErrors.length || extensionRuntimeStatus.messages.some(message => message.type === Severity.Error);\n\t\t\t\t\tconst hasWarnings = extensionRuntimeStatus.messages.some(message => message.type === Severity.Warning);\n\t\t\t\t\tconst errorsLink = extensionRuntimeStatus.runtimeErrors.length ? `[${extensionRuntimeStatus.runtimeErrors.length === 1 ? localize('uncaught error', '1 uncaught error') : localize('uncaught errors', '{0} uncaught errors', extensionRuntimeStatus.runtimeErrors.length)}](${URI.parse(`command:extension.open?${encodeURIComponent(JSON.stringify([this.extension.identifier.id, ExtensionEditorTab.Features]))}`)})` : undefined;\n\t\t\t\t\tconst messageLink = extensionRuntimeStatus.messages.length ? `[${extensionRuntimeStatus.messages.length === 1 ? localize('message', '1 message') : localize('messages', '{0} messages', extensionRuntimeStatus.messages.length)}](${URI.parse(`command:extension.open?${encodeURIComponent(JSON.stringify([this.extension.identifier.id, ExtensionEditorTab.Features]))}`)})` : undefined;\n\t\t\t\t\tmarkdown.appendMarkdown(`$(${hasErrors ? errorIcon.id : hasWarnings ? warningIcon.id : infoIcon.id}) This extension has reported `);\n\t\t\t\t\tif (errorsLink && messageLink) {\n\t\t\t\t\t\tmarkdown.appendMarkdown(`${errorsLink} and ${messageLink}`);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tmarkdown.appendMarkdown(`${errorsLink || messageLink}`);\n\t\t\t\t\t}\n\t\t\t\t\tmarkdown.appendText(`\\n`);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor (const status of extensionStatus) {\n\t\t\t\tif (status.icon) {\n\t\t\t\t\tmarkdown.appendMarkdown(`$(${status.icon.id})&nbsp;`);\n\t\t\t\t}\n\t\t\t\tmarkdown.appendMarkdown(status.message.value);\n\t\t\t\tmarkdown.appendText(`\\n`);\n\t\t\t}\n\n\t\t\tif (runtimeState) {\n\t\t\t\tmarkdown.appendMarkdown(`$(${infoIcon.id})&nbsp;`);\n\t\t\t\tmarkdown.appendMarkdown(`${runtimeState.reason}`);\n\t\t\t\tmarkdown.appendText(`\\n`);\n\t\t\t}\n\n\t\t\tif (preReleaseMessage) {\n\t\t\t\tconst extensionPreReleaseIcon = this.themeService.getColorTheme().getColor(extensionPreReleaseIconColor);\n\t\t\t\tmarkdown.appendMarkdown(`<span style=\"color:${extensionPreReleaseIcon ? Color.Format.CSS.formatHex(extensionPreReleaseIcon) : '#ffffff'};\">$(${preReleaseIcon.id})</span>&nbsp;${preReleaseMessage}`);\n\t\t\t\tmarkdown.appendText(`\\n`);\n\t\t\t}\n\n\t\t\tif (recommendationMessage) {\n\t\t\t\tmarkdown.appendMarkdown(recommendationMessage);\n\t\t\t\tmarkdown.appendText(`\\n`);\n\t\t\t}\n\t\t}\n\n\t\treturn markdown;\n\t}\n\n\tprivate getRecommendationMessage(extension: IExtension): string | undefined {\n\t\tif (extension.state === ExtensionState.Installed) {\n\t\t\treturn undefined;\n\t\t}\n\t\tif (extension.deprecationInfo) {\n\t\t\treturn undefined;\n\t\t}\n\t\tconst recommendation = this.extensionRecommendationsService.getAllRecommendationsWithReason()[extension.identifier.id.toLowerCase()];\n\t\tif (!recommendation?.reasonText) {\n\t\t\treturn undefined;\n\t\t}\n\t\tconst bgColor = this.themeService.getColorTheme().getColor(extensionButtonProminentBackground);\n\t\treturn `<span style=\"color:${bgColor ? Color.Format.CSS.formatHex(bgColor) : '#ffffff'};\">$(${starEmptyIcon.id})</span>&nbsp;${recommendation.reasonText}`;\n\t}\n\n\tstatic getPreReleaseMessage(extension: IExtension): string | undefined {\n\t\tif (!extension.hasPreReleaseVersion) {\n\t\t\treturn undefined;\n\t\t}\n\t\tif (extension.isBuiltin) {\n\t\t\treturn undefined;\n\t\t}\n\t\tif (extension.isPreReleaseVersion) {\n\t\t\treturn undefined;\n\t\t}\n\t\tif (extension.preRelease) {\n\t\t\treturn undefined;\n\t\t}\n\t\tconst preReleaseVersionLink = `[${localize('Show prerelease version', \"Pre-Release version\")}](${URI.parse(`command:workbench.extensions.action.showPreReleaseVersion?${encodeURIComponent(JSON.stringify([extension.identifier.id]))}`)})`;\n\t\treturn localize('has prerelease', \"This extension has a {0} available\", preReleaseVersionLink);\n\t}\n\n}\n\nexport class ExtensionStatusWidget extends ExtensionWidget {\n\n\tprivate readonly renderDisposables = this._register(new MutableDisposable());\n\n\tprivate readonly _onDidRender = this._register(new Emitter<void>());\n\treadonly onDidRender: Event<void> = this._onDidRender.event;\n\n\tconstructor(\n\t\tprivate readonly container: HTMLElement,\n\t\tprivate readonly extensionStatusAction: ExtensionStatusAction,\n\t\t@IOpenerService private readonly openerService: IOpenerService,\n\t) {\n\t\tsuper();\n\t\tthis.render();\n\t\tthis._register(extensionStatusAction.onDidChangeStatus(() => this.render()));\n\t}\n\n\trender(): void {\n\t\treset(this.container);\n\t\tthis.renderDisposables.value = undefined;\n\t\tconst disposables = new DisposableStore();\n\t\tthis.renderDisposables.value = disposables;\n\t\tconst extensionStatus = this.extensionStatusAction.status;\n\t\tif (extensionStatus.length) {\n\t\t\tconst markdown = new MarkdownString('', { isTrusted: true, supportThemeIcons: true });\n\t\t\tfor (let i = 0; i < extensionStatus.length; i++) {\n\t\t\t\tconst status = extensionStatus[i];\n\t\t\t\tif (status.icon) {\n\t\t\t\t\tmarkdown.appendMarkdown(`$(${status.icon.id})&nbsp;`);\n\t\t\t\t}\n\t\t\t\tmarkdown.appendMarkdown(status.message.value);\n\t\t\t\tif (i < extensionStatus.length - 1) {\n\t\t\t\t\tmarkdown.appendText(`\\n`);\n\t\t\t\t}\n\t\t\t}\n\t\t\tconst rendered = disposables.add(renderMarkdown(markdown, {\n\t\t\t\tactionHandler: {\n\t\t\t\t\tcallback: (content) => {\n\t\t\t\t\t\tthis.openerService.open(content, { allowCommands: true }).catch(onUnexpectedError);\n\t\t\t\t\t},\n\t\t\t\t\tdisposables\n\t\t\t\t}\n\t\t\t}));\n\t\t\tappend(this.container, rendered.element);\n\t\t}\n\t\tthis._onDidRender.fire();\n\t}\n}\n\nexport class ExtensionRecommendationWidget extends ExtensionWidget {\n\n\tprivate readonly _onDidRender = this._register(new Emitter<void>());\n\treadonly onDidRender: Event<void> = this._onDidRender.event;\n\n\tconstructor(\n\t\tprivate readonly container: HTMLElement,\n\t\t@IExtensionRecommendationsService private readonly extensionRecommendationsService: IExtensionRecommendationsService,\n\t\t@IExtensionIgnoredRecommendationsService private readonly extensionIgnoredRecommendationsService: IExtensionIgnoredRecommendationsService,\n\t) {\n\t\tsuper();\n\t\tthis.render();\n\t\tthis._register(this.extensionRecommendationsService.onDidChangeRecommendations(() => this.render()));\n\t}\n\n\trender(): void {\n\t\treset(this.container);\n\t\tconst recommendationStatus = this.getRecommendationStatus();\n\t\tif (recommendationStatus) {\n\t\t\tif (recommendationStatus.icon) {\n\t\t\t\tappend(this.container, $(`div${ThemeIcon.asCSSSelector(recommendationStatus.icon)}`));\n\t\t\t}\n\t\t\tappend(this.container, $(`div.recommendation-text`, undefined, recommendationStatus.message));\n\t\t}\n\t\tthis._onDidRender.fire();\n\t}\n\n\tprivate getRecommendationStatus(): { icon: ThemeIcon | undefined; message: string } | undefined {\n\t\tif (!this.extension\n\t\t\t|| this.extension.deprecationInfo\n\t\t\t|| this.extension.state === ExtensionState.Installed\n\t\t) {\n\t\t\treturn undefined;\n\t\t}\n\t\tconst extRecommendations = this.extensionRecommendationsService.getAllRecommendationsWithReason();\n\t\tif (extRecommendations[this.extension.identifier.id.toLowerCase()]) {\n\t\t\tconst reasonText = extRecommendations[this.extension.identifier.id.toLowerCase()].reasonText;\n\t\t\tif (reasonText) {\n\t\t\t\treturn { icon: starEmptyIcon, message: reasonText };\n\t\t\t}\n\t\t} else if (this.extensionIgnoredRecommendationsService.globalIgnoredRecommendations.indexOf(this.extension.identifier.id.toLowerCase()) !== -1) {\n\t\t\treturn { icon: undefined, message: localize('recommendationHasBeenIgnored', \"You have chosen not to receive recommendations for this extension.\") };\n\t\t}\n\t\treturn undefined;\n\t}\n}\n\nexport const extensionRatingIconColor = registerColor('extensionIcon.starForeground', { light: '#DF6100', dark: '#FF8E00', hcDark: '#FF8E00', hcLight: textLinkForeground }, localize('extensionIconStarForeground', \"The icon color for extension ratings.\"), true);\nexport const extensionVerifiedPublisherIconColor = registerColor('extensionIcon.verifiedForeground', textLinkForeground, localize('extensionIconVerifiedForeground', \"The icon color for extension verified publisher.\"), true);\nexport const extensionPreReleaseIconColor = registerColor('extensionIcon.preReleaseForeground', { dark: '#1d9271', light: '#1d9271', hcDark: '#1d9271', hcLight: textLinkForeground }, localize('extensionPreReleaseForeground', \"The icon color for pre-release extension.\"), true);\nexport const extensionSponsorIconColor = registerColor('extensionIcon.sponsorForeground', { light: '#B51E78', dark: '#D758B3', hcDark: null, hcLight: '#B51E78' }, localize('extensionIcon.sponsorForeground', \"The icon color for extension sponsor.\"), true);\n\nregisterThemingParticipant((theme, collector) => {\n\tconst extensionRatingIcon = theme.getColor(extensionRatingIconColor);\n\tif (extensionRatingIcon) {\n\t\tcollector.addRule(`.extension-ratings .codicon-extensions-star-full, .extension-ratings .codicon-extensions-star-half { color: ${extensionRatingIcon}; }`);\n\t\tcollector.addRule(`.monaco-hover.extension-hover .markdown-hover .hover-contents ${ThemeIcon.asCSSSelector(starFullIcon)} { color: ${extensionRatingIcon}; }`);\n\t}\n\n\tconst extensionVerifiedPublisherIcon = theme.getColor(extensionVerifiedPublisherIconColor);\n\tif (extensionVerifiedPublisherIcon) {\n\t\tcollector.addRule(`${ThemeIcon.asCSSSelector(verifiedPublisherIcon)} { color: ${extensionVerifiedPublisherIcon}; }`);\n\t}\n\n\tcollector.addRule(`.monaco-hover.extension-hover .markdown-hover .hover-contents ${ThemeIcon.asCSSSelector(sponsorIcon)} { color: var(--vscode-extensionIcon-sponsorForeground); }`);\n\tcollector.addRule(`.extension-editor > .header > .details > .subtitle .sponsor ${ThemeIcon.asCSSSelector(sponsorIcon)} { color: var(--vscode-extensionIcon-sponsorForeground); }`);\n});\n"],
  "mappings": "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",
  "names": []
}
