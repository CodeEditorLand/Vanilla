import{DeferredPromise as r}from"../../base/common/async.js";import{Emitter as l}from"../../base/common/event.js";import{Disposable as t}from"../../base/common/lifecycle.js";class D extends t{dialogs=[];_onWillShowDialog=this._register(new l);onWillShowDialog=this._onWillShowDialog.event;_onDidShowDialog=this._register(new l);onDidShowDialog=this._onDidShowDialog.event;show(a){const o=new r,i={args:a,close:e=>{this.dialogs.splice(0,1),e instanceof Error?o.error(e):o.complete(e),this._onDidShowDialog.fire()}};return this.dialogs.push(i),this._onWillShowDialog.fire(),{item:i,result:o.p}}}export{D as DialogsModel};
