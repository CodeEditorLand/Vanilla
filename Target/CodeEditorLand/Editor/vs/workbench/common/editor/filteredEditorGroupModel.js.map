{
  "version": 3,
  "sources": ["../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/common/editor/filteredEditorGroupModel.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Emitter } from \"../../../base/common/event.js\";\nimport { Disposable } from \"../../../base/common/lifecycle.js\";\nimport {\n\tEditorsOrder,\n\ttype GroupIdentifier,\n\ttype IMatchEditorOptions,\n\ttype IUntypedEditorInput,\n} from \"../editor.js\";\nimport type {\n\tIGroupModelChangeEvent,\n\tIReadonlyEditorGroupModel,\n} from \"./editorGroupModel.js\";\nimport type { EditorInput } from \"./editorInput.js\";\n\nabstract class FilteredEditorGroupModel\n\textends Disposable\n\timplements IReadonlyEditorGroupModel\n{\n\tprivate readonly _onDidModelChange = this._register(\n\t\tnew Emitter<IGroupModelChangeEvent>(),\n\t);\n\treadonly onDidModelChange = this._onDidModelChange.event;\n\n\tconstructor(protected readonly model: IReadonlyEditorGroupModel) {\n\t\tsuper();\n\n\t\tthis._register(\n\t\t\tthis.model.onDidModelChange((e) => {\n\t\t\t\tconst candidateOrIndex = e.editorIndex ?? e.editor;\n\t\t\t\tif (candidateOrIndex !== undefined) {\n\t\t\t\t\tif (!this.filter(candidateOrIndex)) {\n\t\t\t\t\t\treturn; // exclude events for excluded items\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis._onDidModelChange.fire(e);\n\t\t\t}),\n\t\t);\n\t}\n\n\tget id(): GroupIdentifier {\n\t\treturn this.model.id;\n\t}\n\tget isLocked(): boolean {\n\t\treturn this.model.isLocked;\n\t}\n\tget stickyCount(): number {\n\t\treturn this.model.stickyCount;\n\t}\n\n\tget activeEditor(): EditorInput | null {\n\t\treturn this.model.activeEditor && this.filter(this.model.activeEditor)\n\t\t\t? this.model.activeEditor\n\t\t\t: null;\n\t}\n\tget previewEditor(): EditorInput | null {\n\t\treturn this.model.previewEditor && this.filter(this.model.previewEditor)\n\t\t\t? this.model.previewEditor\n\t\t\t: null;\n\t}\n\tget selectedEditors(): EditorInput[] {\n\t\treturn this.model.selectedEditors.filter((e) => this.filter(e));\n\t}\n\n\tisPinned(editorOrIndex: EditorInput | number): boolean {\n\t\treturn this.model.isPinned(editorOrIndex);\n\t}\n\tisTransient(editorOrIndex: EditorInput | number): boolean {\n\t\treturn this.model.isTransient(editorOrIndex);\n\t}\n\tisSticky(editorOrIndex: EditorInput | number): boolean {\n\t\treturn this.model.isSticky(editorOrIndex);\n\t}\n\tisActive(editor: EditorInput | IUntypedEditorInput): boolean {\n\t\treturn this.model.isActive(editor);\n\t}\n\tisSelected(editorOrIndex: EditorInput | number): boolean {\n\t\treturn this.model.isSelected(editorOrIndex);\n\t}\n\n\tisFirst(editor: EditorInput): boolean {\n\t\treturn this.model.isFirst(\n\t\t\teditor,\n\t\t\tthis.getEditors(EditorsOrder.SEQUENTIAL),\n\t\t);\n\t}\n\n\tisLast(editor: EditorInput): boolean {\n\t\treturn this.model.isLast(\n\t\t\teditor,\n\t\t\tthis.getEditors(EditorsOrder.SEQUENTIAL),\n\t\t);\n\t}\n\n\tgetEditors(\n\t\torder: EditorsOrder,\n\t\toptions?: { excludeSticky?: boolean },\n\t): EditorInput[] {\n\t\tconst editors = this.model.getEditors(order, options);\n\t\treturn editors.filter((e) => this.filter(e));\n\t}\n\n\tfindEditor(\n\t\tcandidate: EditorInput | null,\n\t\toptions?: IMatchEditorOptions,\n\t): [EditorInput, number] | undefined {\n\t\tconst result = this.model.findEditor(candidate, options);\n\t\tif (!result) {\n\t\t\treturn undefined;\n\t\t}\n\t\treturn this.filter(result[1]) ? result : undefined;\n\t}\n\n\tabstract get count(): number;\n\n\tabstract getEditorByIndex(index: number): EditorInput | undefined;\n\tabstract indexOf(\n\t\teditor: EditorInput | IUntypedEditorInput | null,\n\t\teditors?: EditorInput[],\n\t\toptions?: IMatchEditorOptions,\n\t): number;\n\tabstract contains(\n\t\teditor: EditorInput | IUntypedEditorInput,\n\t\toptions?: IMatchEditorOptions,\n\t): boolean;\n\n\tprotected abstract filter(editorOrIndex: EditorInput | number): boolean;\n}\n\nexport class StickyEditorGroupModel extends FilteredEditorGroupModel {\n\tget count(): number {\n\t\treturn this.model.stickyCount;\n\t}\n\n\toverride getEditors(\n\t\torder: EditorsOrder,\n\t\toptions?: { excludeSticky?: boolean },\n\t): EditorInput[] {\n\t\tif (options?.excludeSticky) {\n\t\t\treturn [];\n\t\t}\n\t\tif (order === EditorsOrder.SEQUENTIAL) {\n\t\t\treturn this.model\n\t\t\t\t.getEditors(EditorsOrder.SEQUENTIAL)\n\t\t\t\t.slice(0, this.model.stickyCount);\n\t\t}\n\t\treturn super.getEditors(order, options);\n\t}\n\n\toverride isSticky(editorOrIndex: number | EditorInput): boolean {\n\t\treturn true;\n\t}\n\n\tgetEditorByIndex(index: number): EditorInput | undefined {\n\t\treturn index < this.count\n\t\t\t? this.model.getEditorByIndex(index)\n\t\t\t: undefined;\n\t}\n\n\tindexOf(\n\t\teditor: EditorInput | IUntypedEditorInput | null,\n\t\teditors?: EditorInput[],\n\t\toptions?: IMatchEditorOptions,\n\t): number {\n\t\tconst editorIndex = this.model.indexOf(editor, editors, options);\n\t\tif (editorIndex < 0 || editorIndex >= this.model.stickyCount) {\n\t\t\treturn -1;\n\t\t}\n\t\treturn editorIndex;\n\t}\n\n\tcontains(\n\t\tcandidate: EditorInput | IUntypedEditorInput,\n\t\toptions?: IMatchEditorOptions,\n\t): boolean {\n\t\tconst editorIndex = this.model.indexOf(candidate, undefined, options);\n\t\treturn editorIndex >= 0 && editorIndex < this.model.stickyCount;\n\t}\n\n\tprotected filter(candidateOrIndex: EditorInput | number): boolean {\n\t\treturn this.model.isSticky(candidateOrIndex);\n\t}\n}\n\nexport class UnstickyEditorGroupModel extends FilteredEditorGroupModel {\n\tget count(): number {\n\t\treturn this.model.count - this.model.stickyCount;\n\t}\n\toverride get stickyCount(): number {\n\t\treturn 0;\n\t}\n\n\toverride isSticky(editorOrIndex: number | EditorInput): boolean {\n\t\treturn false;\n\t}\n\n\toverride getEditors(\n\t\torder: EditorsOrder,\n\t\toptions?: { excludeSticky?: boolean },\n\t): EditorInput[] {\n\t\tif (order === EditorsOrder.SEQUENTIAL) {\n\t\t\treturn this.model\n\t\t\t\t.getEditors(EditorsOrder.SEQUENTIAL)\n\t\t\t\t.slice(this.model.stickyCount);\n\t\t}\n\t\treturn super.getEditors(order, options);\n\t}\n\n\tgetEditorByIndex(index: number): EditorInput | undefined {\n\t\treturn index >= 0\n\t\t\t? this.model.getEditorByIndex(index + this.model.stickyCount)\n\t\t\t: undefined;\n\t}\n\n\tindexOf(\n\t\teditor: EditorInput | IUntypedEditorInput | null,\n\t\teditors?: EditorInput[],\n\t\toptions?: IMatchEditorOptions,\n\t): number {\n\t\tconst editorIndex = this.model.indexOf(editor, editors, options);\n\t\tif (\n\t\t\teditorIndex < this.model.stickyCount ||\n\t\t\teditorIndex >= this.model.count\n\t\t) {\n\t\t\treturn -1;\n\t\t}\n\t\treturn editorIndex - this.model.stickyCount;\n\t}\n\n\tcontains(\n\t\tcandidate: EditorInput | IUntypedEditorInput,\n\t\toptions?: IMatchEditorOptions,\n\t): boolean {\n\t\tconst editorIndex = this.model.indexOf(candidate, undefined, options);\n\t\treturn (\n\t\t\teditorIndex >= this.model.stickyCount &&\n\t\t\teditorIndex < this.model.count\n\t\t);\n\t}\n\n\tprotected filter(candidateOrIndex: EditorInput | number): boolean {\n\t\treturn !this.model.isSticky(candidateOrIndex);\n\t}\n}\n"],
  "mappings": "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",
  "names": []
}
