{
  "version": 3,
  "sources": ["../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/browser/window.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { isSafari, setFullscreen } from \"../../base/browser/browser.js\";\nimport {\n\ttype HidDeviceData,\n\ttype SerialPortData,\n\ttype UsbDeviceData,\n\trequestHidDevice,\n\trequestSerialPort,\n\trequestUsbDevice,\n} from \"../../base/browser/deviceAccess.js\";\nimport {\n\tEventHelper,\n\tEventType,\n\taddDisposableListener,\n\tgetActiveWindow,\n\tgetWindow,\n\tgetWindowById,\n\tgetWindows,\n\tgetWindowsCount,\n\twindowOpenNoOpener,\n\twindowOpenPopup,\n\twindowOpenWithSuccess,\n} from \"../../base/browser/dom.js\";\nimport { DomEmitter } from \"../../base/browser/event.js\";\nimport {\n\ttype CodeWindow,\n\tisAuxiliaryWindow,\n\tmainWindow,\n} from \"../../base/browser/window.js\";\nimport { timeout } from \"../../base/common/async.js\";\nimport { Event } from \"../../base/common/event.js\";\nimport { createSingleCallFunction } from \"../../base/common/functional.js\";\nimport {\n\tDisposable,\n\ttype IDisposable,\n\tdispose,\n\ttoDisposable,\n} from \"../../base/common/lifecycle.js\";\nimport { Schemas, matchesScheme } from \"../../base/common/network.js\";\nimport { isIOS, isMacintosh } from \"../../base/common/platform.js\";\nimport Severity from \"../../base/common/severity.js\";\nimport { URI } from \"../../base/common/uri.js\";\nimport { localize } from \"../../nls.js\";\nimport { CommandsRegistry } from \"../../platform/commands/common/commands.js\";\nimport { IConfigurationService } from \"../../platform/configuration/common/configuration.js\";\nimport {\n\tIDialogService,\n\ttype IPromptButton,\n} from \"../../platform/dialogs/common/dialogs.js\";\nimport {\n\tIInstantiationService,\n\ttype ServicesAccessor,\n} from \"../../platform/instantiation/common/instantiation.js\";\nimport { ILabelService } from \"../../platform/label/common/label.js\";\nimport { IOpenerService } from \"../../platform/opener/common/opener.js\";\nimport { IProductService } from \"../../platform/product/common/productService.js\";\nimport { registerWindowDriver } from \"../services/driver/browser/driver.js\";\nimport { IBrowserWorkbenchEnvironmentService } from \"../services/environment/browser/environmentService.js\";\nimport { IWorkbenchEnvironmentService } from \"../services/environment/common/environmentService.js\";\nimport { IHostService } from \"../services/host/browser/host.js\";\nimport { IWorkbenchLayoutService } from \"../services/layout/browser/layoutService.js\";\nimport type { BrowserLifecycleService } from \"../services/lifecycle/browser/lifecycleService.js\";\nimport {\n\tILifecycleService,\n\tShutdownReason,\n} from \"../services/lifecycle/common/lifecycle.js\";\n\nexport abstract class BaseWindow extends Disposable {\n\tprivate static TIMEOUT_HANDLES = Number.MIN_SAFE_INTEGER; // try to not compete with the IDs of native `setTimeout`\n\tprivate static readonly TIMEOUT_DISPOSABLES = new Map<\n\t\tnumber,\n\t\tSet<IDisposable>\n\t>();\n\n\tconstructor(\n\t\ttargetWindow: CodeWindow,\n\t\tdom = { getWindowsCount, getWindows } /* for testing */,\n\t\t@IHostService protected readonly hostService: IHostService,\n\t\t@IWorkbenchEnvironmentService\n\t\tprotected readonly environmentService: IWorkbenchEnvironmentService,\n\t) {\n\t\tsuper();\n\n\t\tthis.enableWindowFocusOnElementFocus(targetWindow);\n\t\tthis.enableMultiWindowAwareTimeout(targetWindow, dom);\n\n\t\tthis.registerFullScreenListeners(targetWindow.vscodeWindowId);\n\t}\n\n\t//#region focus handling in multi-window applications\n\n\tprotected enableWindowFocusOnElementFocus(targetWindow: CodeWindow): void {\n\t\tconst originalFocus = targetWindow.HTMLElement.prototype.focus;\n\n\t\tconst that = this;\n\t\ttargetWindow.HTMLElement.prototype.focus = function (\n\t\t\tthis: HTMLElement,\n\t\t\toptions?: FocusOptions | undefined,\n\t\t): void {\n\t\t\t// Ensure the window the element belongs to is focused\n\t\t\t// in scenarios where auxiliary windows are present\n\t\t\tthat.onElementFocus(getWindow(this));\n\n\t\t\t// Pass to original focus() method\n\t\t\toriginalFocus.apply(this, [options]);\n\t\t};\n\t}\n\n\tprivate onElementFocus(targetWindow: CodeWindow): void {\n\t\tconst activeWindow = getActiveWindow();\n\t\tif (activeWindow !== targetWindow && activeWindow.document.hasFocus()) {\n\t\t\t// Call original focus()\n\t\t\ttargetWindow.focus();\n\n\t\t\t// In Electron, `window.focus()` fails to bring the window\n\t\t\t// to the front if multiple windows exist in the same process\n\t\t\t// group (floating windows). As such, we ask the host service\n\t\t\t// to focus the window which can take care of bringin the\n\t\t\t// window to the front.\n\t\t\t//\n\t\t\t// To minimise disruption by bringing windows to the front\n\t\t\t// by accident, we only do this if the window is not already\n\t\t\t// focused and the active window is not the target window\n\t\t\t// but has focus. This is an indication that multiple windows\n\t\t\t// are opened in the same process group while the target window\n\t\t\t// is not focused.\n\n\t\t\tif (\n\t\t\t\t!this.environmentService.extensionTestsLocationURI &&\n\t\t\t\t!targetWindow.document.hasFocus()\n\t\t\t) {\n\t\t\t\tthis.hostService.focus(targetWindow);\n\t\t\t}\n\t\t}\n\t}\n\n\t//#endregion\n\n\t//#region timeout handling in multi-window applications\n\n\tprotected enableMultiWindowAwareTimeout(\n\t\ttargetWindow: Window,\n\t\tdom = { getWindowsCount, getWindows },\n\t): void {\n\t\t// Override `setTimeout` and `clearTimeout` on the provided window to make\n\t\t// sure timeouts are dispatched to all opened windows. Some browsers may decide\n\t\t// to throttle timeouts in minimized windows, so with this we can ensure the\n\t\t// timeout is scheduled without being throttled (unless all windows are minimized).\n\n\t\tconst originalSetTimeout = targetWindow.setTimeout;\n\t\tObject.defineProperty(targetWindow, \"vscodeOriginalSetTimeout\", {\n\t\t\tget: () => originalSetTimeout,\n\t\t});\n\n\t\tconst originalClearTimeout = targetWindow.clearTimeout;\n\t\tObject.defineProperty(targetWindow, \"vscodeOriginalClearTimeout\", {\n\t\t\tget: () => originalClearTimeout,\n\t\t});\n\n\t\ttargetWindow.setTimeout = function (\n\t\t\tthis: unknown,\n\t\t\thandler: TimerHandler,\n\t\t\ttimeout = 0,\n\t\t\t...args: unknown[]\n\t\t): number {\n\t\t\tif (\n\t\t\t\tdom.getWindowsCount() === 1 ||\n\t\t\t\ttypeof handler === \"string\" ||\n\t\t\t\ttimeout === 0 /* immediates are never throttled */\n\t\t\t) {\n\t\t\t\treturn originalSetTimeout.apply(this, [\n\t\t\t\t\thandler,\n\t\t\t\t\ttimeout,\n\t\t\t\t\t...args,\n\t\t\t\t]);\n\t\t\t}\n\n\t\t\tconst timeoutDisposables = new Set<IDisposable>();\n\t\t\tconst timeoutHandle = BaseWindow.TIMEOUT_HANDLES++;\n\t\t\tBaseWindow.TIMEOUT_DISPOSABLES.set(\n\t\t\t\ttimeoutHandle,\n\t\t\t\ttimeoutDisposables,\n\t\t\t);\n\n\t\t\tconst handlerFn = createSingleCallFunction(handler, () => {\n\t\t\t\tdispose(timeoutDisposables);\n\t\t\t\tBaseWindow.TIMEOUT_DISPOSABLES.delete(timeoutHandle);\n\t\t\t});\n\n\t\t\tfor (const { window, disposables } of dom.getWindows()) {\n\t\t\t\tif (\n\t\t\t\t\tisAuxiliaryWindow(window) &&\n\t\t\t\t\twindow.document.visibilityState === \"hidden\"\n\t\t\t\t) {\n\t\t\t\t\tcontinue; // skip over hidden windows (but never over main window)\n\t\t\t\t}\n\n\t\t\t\t// we track didClear in case the browser does not properly clear the timeout\n\t\t\t\t// this can happen for timeouts on unfocused windows\n\t\t\t\tlet didClear = false;\n\n\t\t\t\tconst handle = (window as any).vscodeOriginalSetTimeout.apply(\n\t\t\t\t\tthis,\n\t\t\t\t\t[\n\t\t\t\t\t\t(...args: unknown[]) => {\n\t\t\t\t\t\t\tif (didClear) {\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\thandlerFn(...args);\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttimeout,\n\t\t\t\t\t\t...args,\n\t\t\t\t\t],\n\t\t\t\t);\n\n\t\t\t\tconst timeoutDisposable = toDisposable(() => {\n\t\t\t\t\tdidClear = true;\n\t\t\t\t\t(window as any).vscodeOriginalClearTimeout(handle);\n\t\t\t\t\ttimeoutDisposables.delete(timeoutDisposable);\n\t\t\t\t});\n\n\t\t\t\tdisposables.add(timeoutDisposable);\n\t\t\t\ttimeoutDisposables.add(timeoutDisposable);\n\t\t\t}\n\n\t\t\treturn timeoutHandle;\n\t\t};\n\n\t\ttargetWindow.clearTimeout = function (\n\t\t\tthis: unknown,\n\t\t\ttimeoutHandle: number | undefined,\n\t\t): void {\n\t\t\tconst timeoutDisposables =\n\t\t\t\ttypeof timeoutHandle === \"number\"\n\t\t\t\t\t? BaseWindow.TIMEOUT_DISPOSABLES.get(timeoutHandle)\n\t\t\t\t\t: undefined;\n\t\t\tif (timeoutDisposables) {\n\t\t\t\tdispose(timeoutDisposables);\n\t\t\t\tBaseWindow.TIMEOUT_DISPOSABLES.delete(timeoutHandle!);\n\t\t\t} else {\n\t\t\t\toriginalClearTimeout.apply(this, [timeoutHandle]);\n\t\t\t}\n\t\t};\n\t}\n\n\t//#endregion\n\n\tprivate registerFullScreenListeners(targetWindowId: number): void {\n\t\tthis._register(\n\t\t\tthis.hostService.onDidChangeFullScreen(\n\t\t\t\t({ windowId, fullscreen }) => {\n\t\t\t\t\tif (windowId === targetWindowId) {\n\t\t\t\t\t\tconst targetWindow = getWindowById(targetWindowId);\n\t\t\t\t\t\tif (targetWindow) {\n\t\t\t\t\t\t\tsetFullscreen(fullscreen, targetWindow.window);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t),\n\t\t);\n\t}\n\n\t//#region Confirm on Shutdown\n\n\tstatic async confirmOnShutdown(\n\t\taccessor: ServicesAccessor,\n\t\treason: ShutdownReason,\n\t): Promise<boolean> {\n\t\tconst dialogService = accessor.get(IDialogService);\n\t\tconst configurationService = accessor.get(IConfigurationService);\n\n\t\tconst message =\n\t\t\treason === ShutdownReason.QUIT\n\t\t\t\t? isMacintosh\n\t\t\t\t\t? localize(\n\t\t\t\t\t\t\t\"quitMessageMac\",\n\t\t\t\t\t\t\t\"Are you sure you want to quit?\",\n\t\t\t\t\t\t)\n\t\t\t\t\t: localize(\"quitMessage\", \"Are you sure you want to exit?\")\n\t\t\t\t: localize(\n\t\t\t\t\t\t\"closeWindowMessage\",\n\t\t\t\t\t\t\"Are you sure you want to close the window?\",\n\t\t\t\t\t);\n\t\tconst primaryButton =\n\t\t\treason === ShutdownReason.QUIT\n\t\t\t\t? isMacintosh\n\t\t\t\t\t? localize(\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tkey: \"quitButtonLabel\",\n\t\t\t\t\t\t\t\tcomment: [\"&& denotes a mnemonic\"],\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\"&&Quit\",\n\t\t\t\t\t\t)\n\t\t\t\t\t: localize(\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tkey: \"exitButtonLabel\",\n\t\t\t\t\t\t\t\tcomment: [\"&& denotes a mnemonic\"],\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\"&&Exit\",\n\t\t\t\t\t\t)\n\t\t\t\t: localize(\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tkey: \"closeWindowButtonLabel\",\n\t\t\t\t\t\t\tcomment: [\"&& denotes a mnemonic\"],\n\t\t\t\t\t\t},\n\t\t\t\t\t\t\"&&Close Window\",\n\t\t\t\t\t);\n\n\t\tconst res = await dialogService.confirm({\n\t\t\tmessage,\n\t\t\tprimaryButton,\n\t\t\tcheckbox: {\n\t\t\t\tlabel: localize(\"doNotAskAgain\", \"Do not ask me again\"),\n\t\t\t},\n\t\t});\n\n\t\t// Update setting if checkbox checked\n\t\tif (res.confirmed && res.checkboxChecked) {\n\t\t\tawait configurationService.updateValue(\n\t\t\t\t\"window.confirmBeforeClose\",\n\t\t\t\t\"never\",\n\t\t\t);\n\t\t}\n\n\t\treturn res.confirmed;\n\t}\n\n\t//#endregion\n}\n\nexport class BrowserWindow extends BaseWindow {\n\tconstructor(\n\t\t@IOpenerService private readonly openerService: IOpenerService,\n\t\t@ILifecycleService\n\t\tprivate readonly lifecycleService: BrowserLifecycleService,\n\t\t@IDialogService private readonly dialogService: IDialogService,\n\t\t@ILabelService private readonly labelService: ILabelService,\n\t\t@IProductService private readonly productService: IProductService,\n\t\t@IBrowserWorkbenchEnvironmentService\n\t\tprivate readonly browserEnvironmentService: IBrowserWorkbenchEnvironmentService,\n\t\t@IWorkbenchLayoutService\n\t\tprivate readonly layoutService: IWorkbenchLayoutService,\n\t\t@IInstantiationService\n\t\tprivate readonly instantiationService: IInstantiationService,\n\t\t@IHostService hostService: IHostService,\n\t) {\n\t\tsuper(mainWindow, undefined, hostService, browserEnvironmentService);\n\n\t\tthis.registerListeners();\n\t\tthis.create();\n\t}\n\n\tprivate registerListeners(): void {\n\t\t// Lifecycle\n\t\tthis._register(\n\t\t\tthis.lifecycleService.onWillShutdown(() => this.onWillShutdown()),\n\t\t);\n\n\t\t// Layout\n\t\tconst viewport =\n\t\t\tisIOS && mainWindow.visualViewport\n\t\t\t\t? mainWindow.visualViewport /** Visual viewport */\n\t\t\t\t: mainWindow /** Layout viewport */;\n\t\tthis._register(\n\t\t\taddDisposableListener(viewport, EventType.RESIZE, () => {\n\t\t\t\tthis.layoutService.layout();\n\n\t\t\t\t// Sometimes the keyboard appearing scrolls the whole workbench out of view, as a workaround scroll back into view #121206\n\t\t\t\tif (isIOS) {\n\t\t\t\t\tmainWindow.scrollTo(0, 0);\n\t\t\t\t}\n\t\t\t}),\n\t\t);\n\n\t\t// Prevent the back/forward gestures in macOS\n\t\tthis._register(\n\t\t\taddDisposableListener(\n\t\t\t\tthis.layoutService.mainContainer,\n\t\t\t\tEventType.WHEEL,\n\t\t\t\t(e) => e.preventDefault(),\n\t\t\t\t{ passive: false },\n\t\t\t),\n\t\t);\n\n\t\t// Prevent native context menus in web\n\t\tthis._register(\n\t\t\taddDisposableListener(\n\t\t\t\tthis.layoutService.mainContainer,\n\t\t\t\tEventType.CONTEXT_MENU,\n\t\t\t\t(e) => EventHelper.stop(e, true),\n\t\t\t),\n\t\t);\n\n\t\t// Prevent default navigation on drop\n\t\tthis._register(\n\t\t\taddDisposableListener(\n\t\t\t\tthis.layoutService.mainContainer,\n\t\t\t\tEventType.DROP,\n\t\t\t\t(e) => EventHelper.stop(e, true),\n\t\t\t),\n\t\t);\n\t}\n\n\tprivate onWillShutdown(): void {\n\t\t// Try to detect some user interaction with the workbench\n\t\t// when shutdown has happened to not show the dialog e.g.\n\t\t// when navigation takes a longer time.\n\t\tEvent.toPromise(\n\t\t\tEvent.any(\n\t\t\t\tEvent.once(\n\t\t\t\t\tnew DomEmitter(\n\t\t\t\t\t\tmainWindow.document.body,\n\t\t\t\t\t\tEventType.KEY_DOWN,\n\t\t\t\t\t\ttrue,\n\t\t\t\t\t).event,\n\t\t\t\t),\n\t\t\t\tEvent.once(\n\t\t\t\t\tnew DomEmitter(\n\t\t\t\t\t\tmainWindow.document.body,\n\t\t\t\t\t\tEventType.MOUSE_DOWN,\n\t\t\t\t\t\ttrue,\n\t\t\t\t\t).event,\n\t\t\t\t),\n\t\t\t),\n\t\t).then(async () => {\n\t\t\t// Delay the dialog in case the user interacted\n\t\t\t// with the page before it transitioned away\n\t\t\tawait timeout(3000);\n\n\t\t\t// This should normally not happen, but if for some reason\n\t\t\t// the workbench was shutdown while the page is still there,\n\t\t\t// inform the user that only a reload can bring back a working\n\t\t\t// state.\n\t\t\tawait this.dialogService.prompt({\n\t\t\t\ttype: Severity.Error,\n\t\t\t\tmessage: localize(\n\t\t\t\t\t\"shutdownError\",\n\t\t\t\t\t\"An unexpected error occurred that requires a reload of this page.\",\n\t\t\t\t),\n\t\t\t\tdetail: localize(\n\t\t\t\t\t\"shutdownErrorDetail\",\n\t\t\t\t\t\"The workbench was unexpectedly disposed while running.\",\n\t\t\t\t),\n\t\t\t\tbuttons: [\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: localize(\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tkey: \"reload\",\n\t\t\t\t\t\t\t\tcomment: [\"&& denotes a mnemonic\"],\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\"&&Reload\",\n\t\t\t\t\t\t),\n\t\t\t\t\t\trun: () => mainWindow.location.reload(), // do not use any services at this point since they are likely not functional at this point\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t});\n\t\t});\n\t}\n\n\tprivate create(): void {\n\t\t// Handle open calls\n\t\tthis.setupOpenHandlers();\n\n\t\t// Label formatting\n\t\tthis.registerLabelFormatters();\n\n\t\t// Commands\n\t\tthis.registerCommands();\n\n\t\t// Smoke Test Driver\n\t\tthis.setupDriver();\n\t}\n\n\tprivate setupDriver(): void {\n\t\tif (this.environmentService.enableSmokeTestDriver) {\n\t\t\tregisterWindowDriver(this.instantiationService);\n\t\t}\n\t}\n\n\tprivate setupOpenHandlers(): void {\n\t\t// We need to ignore the `beforeunload` event while\n\t\t// we handle external links to open specifically for\n\t\t// the case of application protocols that e.g. invoke\n\t\t// vscode itself. We do not want to open these links\n\t\t// in a new window because that would leave a blank\n\t\t// window to the user, but using `window.location.href`\n\t\t// will trigger the `beforeunload`.\n\t\tthis.openerService.setDefaultExternalOpener({\n\t\t\topenExternal: async (href: string) => {\n\t\t\t\tlet isAllowedOpener = false;\n\t\t\t\tif (\n\t\t\t\t\tthis.browserEnvironmentService.options\n\t\t\t\t\t\t?.openerAllowedExternalUrlPrefixes\n\t\t\t\t) {\n\t\t\t\t\tfor (const trustedPopupPrefix of this\n\t\t\t\t\t\t.browserEnvironmentService.options\n\t\t\t\t\t\t.openerAllowedExternalUrlPrefixes) {\n\t\t\t\t\t\tif (href.startsWith(trustedPopupPrefix)) {\n\t\t\t\t\t\t\tisAllowedOpener = true;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// HTTP(s): open in new window and deal with potential popup blockers\n\t\t\t\tif (\n\t\t\t\t\tmatchesScheme(href, Schemas.http) ||\n\t\t\t\t\tmatchesScheme(href, Schemas.https)\n\t\t\t\t) {\n\t\t\t\t\tif (isSafari) {\n\t\t\t\t\t\tconst opened = windowOpenWithSuccess(\n\t\t\t\t\t\t\thref,\n\t\t\t\t\t\t\t!isAllowedOpener,\n\t\t\t\t\t\t);\n\t\t\t\t\t\tif (!opened) {\n\t\t\t\t\t\t\tawait this.dialogService.prompt({\n\t\t\t\t\t\t\t\ttype: Severity.Warning,\n\t\t\t\t\t\t\t\tmessage: localize(\n\t\t\t\t\t\t\t\t\t\"unableToOpenExternal\",\n\t\t\t\t\t\t\t\t\t\"The browser interrupted the opening of a new tab or window. Press 'Open' to open it anyway.\",\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\tdetail: href,\n\t\t\t\t\t\t\t\tbuttons: [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tlabel: localize(\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tkey: \"open\",\n\t\t\t\t\t\t\t\t\t\t\t\tcomment: [\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"&& denotes a mnemonic\",\n\t\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\"&&Open\",\n\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\trun: () =>\n\t\t\t\t\t\t\t\t\t\t\tisAllowedOpener\n\t\t\t\t\t\t\t\t\t\t\t\t? windowOpenPopup(href)\n\t\t\t\t\t\t\t\t\t\t\t\t: windowOpenNoOpener(href),\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tlabel: localize(\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tkey: \"learnMore\",\n\t\t\t\t\t\t\t\t\t\t\t\tcomment: [\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"&& denotes a mnemonic\",\n\t\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\"&&Learn More\",\n\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\trun: () =>\n\t\t\t\t\t\t\t\t\t\t\tthis.openerService.open(\n\t\t\t\t\t\t\t\t\t\t\t\tURI.parse(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"https://aka.ms/allow-vscode-popup\",\n\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\tcancelButton: true,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tisAllowedOpener\n\t\t\t\t\t\t\t? windowOpenPopup(href)\n\t\t\t\t\t\t\t: windowOpenNoOpener(href);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Anything else: set location to trigger protocol handler in the browser\n\t\t\t\t// but make sure to signal this as an expected unload and disable unload\n\t\t\t\t// handling explicitly to prevent the workbench from going down.\n\t\t\t\telse {\n\t\t\t\t\tconst invokeProtocolHandler = () => {\n\t\t\t\t\t\tthis.lifecycleService.withExpectedShutdown(\n\t\t\t\t\t\t\t{ disableShutdownHandling: true },\n\t\t\t\t\t\t\t() => (mainWindow.location.href = href),\n\t\t\t\t\t\t);\n\t\t\t\t\t};\n\n\t\t\t\t\tinvokeProtocolHandler();\n\n\t\t\t\t\tconst showProtocolUrlOpenedDialog = async () => {\n\t\t\t\t\t\tconst { downloadUrl } = this.productService;\n\t\t\t\t\t\tlet detail: string;\n\n\t\t\t\t\t\tconst buttons: IPromptButton<void>[] = [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tlabel: localize(\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tkey: \"openExternalDialogButtonRetry.v2\",\n\t\t\t\t\t\t\t\t\t\tcomment: [\"&& denotes a mnemonic\"],\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\"&&Try Again\",\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\trun: () => invokeProtocolHandler(),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t];\n\n\t\t\t\t\t\tif (downloadUrl !== undefined) {\n\t\t\t\t\t\t\tdetail = localize(\n\t\t\t\t\t\t\t\t\"openExternalDialogDetail.v2\",\n\t\t\t\t\t\t\t\t\"We launched {0} on your computer.\\n\\nIf {1} did not launch, try again or install it below.\",\n\t\t\t\t\t\t\t\tthis.productService.nameLong,\n\t\t\t\t\t\t\t\tthis.productService.nameLong,\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\tbuttons.push({\n\t\t\t\t\t\t\t\tlabel: localize(\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tkey: \"openExternalDialogButtonInstall.v3\",\n\t\t\t\t\t\t\t\t\t\tcomment: [\"&& denotes a mnemonic\"],\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\"&&Install\",\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\trun: async () => {\n\t\t\t\t\t\t\t\t\tawait this.openerService.open(\n\t\t\t\t\t\t\t\t\t\tURI.parse(downloadUrl),\n\t\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\t\t// Re-show the dialog so that the user can come back after installing and try again\n\t\t\t\t\t\t\t\t\tshowProtocolUrlOpenedDialog();\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tdetail = localize(\n\t\t\t\t\t\t\t\t\"openExternalDialogDetailNoInstall\",\n\t\t\t\t\t\t\t\t\"We launched {0} on your computer.\\n\\nIf {1} did not launch, try again below.\",\n\t\t\t\t\t\t\t\tthis.productService.nameLong,\n\t\t\t\t\t\t\t\tthis.productService.nameLong,\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// While this dialog shows, closing the tab will not display a confirmation dialog\n\t\t\t\t\t\t// to avoid showing the user two dialogs at once\n\t\t\t\t\t\tawait this.hostService.withExpectedShutdown(() =>\n\t\t\t\t\t\t\tthis.dialogService.prompt({\n\t\t\t\t\t\t\t\ttype: Severity.Info,\n\t\t\t\t\t\t\t\tmessage: localize(\n\t\t\t\t\t\t\t\t\t\"openExternalDialogTitle\",\n\t\t\t\t\t\t\t\t\t\"All done. You can close this tab now.\",\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\tdetail,\n\t\t\t\t\t\t\t\tbuttons,\n\t\t\t\t\t\t\t\tcancelButton: true,\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t);\n\t\t\t\t\t};\n\n\t\t\t\t\t// We cannot know whether the protocol handler succeeded.\n\t\t\t\t\t// Display guidance in case it did not, e.g. the app is not installed locally.\n\t\t\t\t\tif (matchesScheme(href, this.productService.urlProtocol)) {\n\t\t\t\t\t\tawait showProtocolUrlOpenedDialog();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\t\t\t},\n\t\t});\n\t}\n\n\tprivate registerLabelFormatters(): void {\n\t\tthis._register(\n\t\t\tthis.labelService.registerFormatter({\n\t\t\t\tscheme: Schemas.vscodeUserData,\n\t\t\t\tpriority: true,\n\t\t\t\tformatting: {\n\t\t\t\t\tlabel: \"(Settings) ${path}\",\n\t\t\t\t\tseparator: \"/\",\n\t\t\t\t},\n\t\t\t}),\n\t\t);\n\t}\n\n\tprivate registerCommands(): void {\n\t\t// Allow extensions to request USB devices in Web\n\t\tCommandsRegistry.registerCommand(\n\t\t\t\"workbench.experimental.requestUsbDevice\",\n\t\t\tasync (\n\t\t\t\t_accessor: ServicesAccessor,\n\t\t\t\toptions?: { filters?: unknown[] },\n\t\t\t): Promise<UsbDeviceData | undefined> => {\n\t\t\t\treturn requestUsbDevice(options);\n\t\t\t},\n\t\t);\n\n\t\t// Allow extensions to request Serial devices in Web\n\t\tCommandsRegistry.registerCommand(\n\t\t\t\"workbench.experimental.requestSerialPort\",\n\t\t\tasync (\n\t\t\t\t_accessor: ServicesAccessor,\n\t\t\t\toptions?: { filters?: unknown[] },\n\t\t\t): Promise<SerialPortData | undefined> => {\n\t\t\t\treturn requestSerialPort(options);\n\t\t\t},\n\t\t);\n\n\t\t// Allow extensions to request HID devices in Web\n\t\tCommandsRegistry.registerCommand(\n\t\t\t\"workbench.experimental.requestHidDevice\",\n\t\t\tasync (\n\t\t\t\t_accessor: ServicesAccessor,\n\t\t\t\toptions?: { filters?: unknown[] },\n\t\t\t): Promise<HidDeviceData | undefined> => {\n\t\t\t\treturn requestHidDevice(options);\n\t\t\t},\n\t\t);\n\t}\n}\n"],
  "mappings": ";;;;;;;;;;;;AAKA,SAAS,UAAU,qBAAqB;AACxC;AAAA,EAIC;AAAA,EACA;AAAA,EACA;AAAA,OACM;AACP;AAAA,EACC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,OACM;AACP,SAAS,kBAAkB;AAC3B;AAAA,EAEC;AAAA,EACA;AAAA,OACM;AACP,SAAS,eAAe;AACxB,SAAS,aAAa;AACtB,SAAS,gCAAgC;AACzC;AAAA,EACC;AAAA,EAEA;AAAA,EACA;AAAA,OACM;AACP,SAAS,SAAS,qBAAqB;AACvC,SAAS,OAAO,mBAAmB;AACnC,OAAO,cAAc;AACrB,SAAS,WAAW;AACpB,SAAS,gBAAgB;AACzB,SAAS,wBAAwB;AACjC,SAAS,6BAA6B;AACtC;AAAA,EACC;AAAA,OAEM;AACP;AAAA,EACC;AAAA,OAEM;AACP,SAAS,qBAAqB;AAC9B,SAAS,sBAAsB;AAC/B,SAAS,uBAAuB;AAChC,SAAS,4BAA4B;AACrC,SAAS,2CAA2C;AACpD,SAAS,oCAAoC;AAC7C,SAAS,oBAAoB;AAC7B,SAAS,+BAA+B;AAExC;AAAA,EACC;AAAA,EACA;AAAA,OACM;AAEA,IAAe,aAAf,cAAkC,WAAW;AAAA,EAOnD,YACC,cACA,MAAM,EAAE,iBAAiB,WAAW,GACH,aAEd,oBAClB;AACD,UAAM;AAJ2B;AAEd;AAInB,SAAK,gCAAgC,YAAY;AACjD,SAAK,8BAA8B,cAAc,GAAG;AAEpD,SAAK,4BAA4B,aAAa,cAAc;AAAA,EAC7D;AAAA,EA3FD,OAuEoD;AAAA;AAAA;AAAA,EACnD,OAAe,kBAAkB,OAAO;AAAA;AAAA,EACxC,OAAwB,sBAAsB,oBAAI,IAGhD;AAAA;AAAA,EAmBQ,gCAAgC,cAAgC;AACzE,UAAM,gBAAgB,aAAa,YAAY,UAAU;AAEzD,UAAM,OAAO;AACb,iBAAa,YAAY,UAAU,QAAQ,SAE1C,SACO;AAGP,WAAK,eAAe,UAAU,IAAI,CAAC;AAGnC,oBAAc,MAAM,MAAM,CAAC,OAAO,CAAC;AAAA,IACpC;AAAA,EACD;AAAA,EAEQ,eAAe,cAAgC;AACtD,UAAM,eAAe,gBAAgB;AACrC,QAAI,iBAAiB,gBAAgB,aAAa,SAAS,SAAS,GAAG;AAEtE,mBAAa,MAAM;AAenB,UACC,CAAC,KAAK,mBAAmB,6BACzB,CAAC,aAAa,SAAS,SAAS,GAC/B;AACD,aAAK,YAAY,MAAM,YAAY;AAAA,MACpC;AAAA,IACD;AAAA,EACD;AAAA;AAAA;AAAA,EAMU,8BACT,cACA,MAAM,EAAE,iBAAiB,WAAW,GAC7B;AAMP,UAAM,qBAAqB,aAAa;AACxC,WAAO,eAAe,cAAc,4BAA4B;AAAA,MAC/D,KAAK,6BAAM,oBAAN;AAAA,IACN,CAAC;AAED,UAAM,uBAAuB,aAAa;AAC1C,WAAO,eAAe,cAAc,8BAA8B;AAAA,MACjE,KAAK,6BAAM,sBAAN;AAAA,IACN,CAAC;AAED,iBAAa,aAAa,SAEzB,SACAA,WAAU,MACP,MACM;AACT,UACC,IAAI,gBAAgB,MAAM,KAC1B,OAAO,YAAY,YACnBA,aAAY,GACX;AACD,eAAO,mBAAmB,MAAM,MAAM;AAAA,UACrC;AAAA,UACAA;AAAA,UACA,GAAG;AAAA,QACJ,CAAC;AAAA,MACF;AAEA,YAAM,qBAAqB,oBAAI,IAAiB;AAChD,YAAM,gBAAgB,WAAW;AACjC,iBAAW,oBAAoB;AAAA,QAC9B;AAAA,QACA;AAAA,MACD;AAEA,YAAM,YAAY,yBAAyB,SAAS,MAAM;AACzD,gBAAQ,kBAAkB;AAC1B,mBAAW,oBAAoB,OAAO,aAAa;AAAA,MACpD,CAAC;AAED,iBAAW,EAAE,QAAQ,YAAY,KAAK,IAAI,WAAW,GAAG;AACvD,YACC,kBAAkB,MAAM,KACxB,OAAO,SAAS,oBAAoB,UACnC;AACD;AAAA,QACD;AAIA,YAAI,WAAW;AAEf,cAAM,SAAU,OAAe,yBAAyB;AAAA,UACvD;AAAA,UACA;AAAA,YACC,IAAIC,UAAoB;AACvB,kBAAI,UAAU;AACb;AAAA,cACD;AACA,wBAAU,GAAGA,KAAI;AAAA,YAClB;AAAA,YACAD;AAAA,YACA,GAAG;AAAA,UACJ;AAAA,QACD;AAEA,cAAM,oBAAoB,aAAa,MAAM;AAC5C,qBAAW;AACX,UAAC,OAAe,2BAA2B,MAAM;AACjD,6BAAmB,OAAO,iBAAiB;AAAA,QAC5C,CAAC;AAED,oBAAY,IAAI,iBAAiB;AACjC,2BAAmB,IAAI,iBAAiB;AAAA,MACzC;AAEA,aAAO;AAAA,IACR;AAEA,iBAAa,eAAe,SAE3B,eACO;AACP,YAAM,qBACL,OAAO,kBAAkB,WACtB,WAAW,oBAAoB,IAAI,aAAa,IAChD;AACJ,UAAI,oBAAoB;AACvB,gBAAQ,kBAAkB;AAC1B,mBAAW,oBAAoB,OAAO,aAAc;AAAA,MACrD,OAAO;AACN,6BAAqB,MAAM,MAAM,CAAC,aAAa,CAAC;AAAA,MACjD;AAAA,IACD;AAAA,EACD;AAAA;AAAA,EAIQ,4BAA4B,gBAA8B;AACjE,SAAK;AAAA,MACJ,KAAK,YAAY;AAAA,QAChB,CAAC,EAAE,UAAU,WAAW,MAAM;AAC7B,cAAI,aAAa,gBAAgB;AAChC,kBAAM,eAAe,cAAc,cAAc;AACjD,gBAAI,cAAc;AACjB,4BAAc,YAAY,aAAa,MAAM;AAAA,YAC9C;AAAA,UACD;AAAA,QACD;AAAA,MACD;AAAA,IACD;AAAA,EACD;AAAA;AAAA,EAIA,aAAa,kBACZ,UACA,QACmB;AACnB,UAAM,gBAAgB,SAAS,IAAI,cAAc;AACjD,UAAM,uBAAuB,SAAS,IAAI,qBAAqB;AAE/D,UAAM,UACL,WAAW,eAAe,OACvB,cACC;AAAA,MACA;AAAA,MACA;AAAA,IACD,IACC,SAAS,eAAe,gCAAgC,IACzD;AAAA,MACA;AAAA,MACA;AAAA,IACD;AACH,UAAM,gBACL,WAAW,eAAe,OACvB,cACC;AAAA,MACA;AAAA,QACC,KAAK;AAAA,QACL,SAAS,CAAC,uBAAuB;AAAA,MAClC;AAAA,MACA;AAAA,IACD,IACC;AAAA,MACA;AAAA,QACC,KAAK;AAAA,QACL,SAAS,CAAC,uBAAuB;AAAA,MAClC;AAAA,MACA;AAAA,IACD,IACA;AAAA,MACA;AAAA,QACC,KAAK;AAAA,QACL,SAAS,CAAC,uBAAuB;AAAA,MAClC;AAAA,MACA;AAAA,IACD;AAEH,UAAM,MAAM,MAAM,cAAc,QAAQ;AAAA,MACvC;AAAA,MACA;AAAA,MACA,UAAU;AAAA,QACT,OAAO,SAAS,iBAAiB,qBAAqB;AAAA,MACvD;AAAA,IACD,CAAC;AAGD,QAAI,IAAI,aAAa,IAAI,iBAAiB;AACzC,YAAM,qBAAqB;AAAA,QAC1B;AAAA,QACA;AAAA,MACD;AAAA,IACD;AAEA,WAAO,IAAI;AAAA,EACZ;AAAA;AAGD;AArQsB,aAAf;AAAA,EAUJ;AAAA,EACA;AAAA,GAXmB;AAuQf,IAAM,gBAAN,cAA4B,WAAW;AAAA,EAC7C,YACkC,eAEhB,kBACgB,eACD,cACE,gBAEjB,2BAEA,eAEA,sBACH,aACb;AACD,UAAM,YAAY,QAAW,aAAa,yBAAyB;AAdlC;AAEhB;AACgB;AACD;AACE;AAEjB;AAEA;AAEA;AAKjB,SAAK,kBAAkB;AACvB,SAAK,OAAO;AAAA,EACb;AAAA,EAlWD,OA8U8C;AAAA;AAAA;AAAA,EAsBrC,oBAA0B;AAEjC,SAAK;AAAA,MACJ,KAAK,iBAAiB,eAAe,MAAM,KAAK,eAAe,CAAC;AAAA,IACjE;AAGA,UAAM,WACL,SAAS,WAAW,iBACjB,WAAW,iBACX;AACJ,SAAK;AAAA,MACJ,sBAAsB,UAAU,UAAU,QAAQ,MAAM;AACvD,aAAK,cAAc,OAAO;AAG1B,YAAI,OAAO;AACV,qBAAW,SAAS,GAAG,CAAC;AAAA,QACzB;AAAA,MACD,CAAC;AAAA,IACF;AAGA,SAAK;AAAA,MACJ;AAAA,QACC,KAAK,cAAc;AAAA,QACnB,UAAU;AAAA,QACV,CAAC,MAAM,EAAE,eAAe;AAAA,QACxB,EAAE,SAAS,MAAM;AAAA,MAClB;AAAA,IACD;AAGA,SAAK;AAAA,MACJ;AAAA,QACC,KAAK,cAAc;AAAA,QACnB,UAAU;AAAA,QACV,CAAC,MAAM,YAAY,KAAK,GAAG,IAAI;AAAA,MAChC;AAAA,IACD;AAGA,SAAK;AAAA,MACJ;AAAA,QACC,KAAK,cAAc;AAAA,QACnB,UAAU;AAAA,QACV,CAAC,MAAM,YAAY,KAAK,GAAG,IAAI;AAAA,MAChC;AAAA,IACD;AAAA,EACD;AAAA,EAEQ,iBAAuB;AAI9B,UAAM;AAAA,MACL,MAAM;AAAA,QACL,MAAM;AAAA,UACL,IAAI;AAAA,YACH,WAAW,SAAS;AAAA,YACpB,UAAU;AAAA,YACV;AAAA,UACD,EAAE;AAAA,QACH;AAAA,QACA,MAAM;AAAA,UACL,IAAI;AAAA,YACH,WAAW,SAAS;AAAA,YACpB,UAAU;AAAA,YACV;AAAA,UACD,EAAE;AAAA,QACH;AAAA,MACD;AAAA,IACD,EAAE,KAAK,YAAY;AAGlB,YAAM,QAAQ,GAAI;AAMlB,YAAM,KAAK,cAAc,OAAO;AAAA,QAC/B,MAAM,SAAS;AAAA,QACf,SAAS;AAAA,UACR;AAAA,UACA;AAAA,QACD;AAAA,QACA,QAAQ;AAAA,UACP;AAAA,UACA;AAAA,QACD;AAAA,QACA,SAAS;AAAA,UACR;AAAA,YACC,OAAO;AAAA,cACN;AAAA,gBACC,KAAK;AAAA,gBACL,SAAS,CAAC,uBAAuB;AAAA,cAClC;AAAA,cACA;AAAA,YACD;AAAA,YACA,KAAK,6BAAM,WAAW,SAAS,OAAO,GAAjC;AAAA;AAAA,UACN;AAAA,QACD;AAAA,MACD,CAAC;AAAA,IACF,CAAC;AAAA,EACF;AAAA,EAEQ,SAAe;AAEtB,SAAK,kBAAkB;AAGvB,SAAK,wBAAwB;AAG7B,SAAK,iBAAiB;AAGtB,SAAK,YAAY;AAAA,EAClB;AAAA,EAEQ,cAAoB;AAC3B,QAAI,KAAK,mBAAmB,uBAAuB;AAClD,2BAAqB,KAAK,oBAAoB;AAAA,IAC/C;AAAA,EACD;AAAA,EAEQ,oBAA0B;AAQjC,SAAK,cAAc,yBAAyB;AAAA,MAC3C,cAAc,8BAAO,SAAiB;AACrC,YAAI,kBAAkB;AACtB,YACC,KAAK,0BAA0B,SAC5B,kCACF;AACD,qBAAW,sBAAsB,KAC/B,0BAA0B,QAC1B,kCAAkC;AACnC,gBAAI,KAAK,WAAW,kBAAkB,GAAG;AACxC,gCAAkB;AAClB;AAAA,YACD;AAAA,UACD;AAAA,QACD;AAGA,YACC,cAAc,MAAM,QAAQ,IAAI,KAChC,cAAc,MAAM,QAAQ,KAAK,GAChC;AACD,cAAI,UAAU;AACb,kBAAM,SAAS;AAAA,cACd;AAAA,cACA,CAAC;AAAA,YACF;AACA,gBAAI,CAAC,QAAQ;AACZ,oBAAM,KAAK,cAAc,OAAO;AAAA,gBAC/B,MAAM,SAAS;AAAA,gBACf,SAAS;AAAA,kBACR;AAAA,kBACA;AAAA,gBACD;AAAA,gBACA,QAAQ;AAAA,gBACR,SAAS;AAAA,kBACR;AAAA,oBACC,OAAO;AAAA,sBACN;AAAA,wBACC,KAAK;AAAA,wBACL,SAAS;AAAA,0BACR;AAAA,wBACD;AAAA,sBACD;AAAA,sBACA;AAAA,oBACD;AAAA,oBACA,KAAK,6BACJ,kBACG,gBAAgB,IAAI,IACpB,mBAAmB,IAAI,GAHtB;AAAA,kBAIN;AAAA,kBACA;AAAA,oBACC,OAAO;AAAA,sBACN;AAAA,wBACC,KAAK;AAAA,wBACL,SAAS;AAAA,0BACR;AAAA,wBACD;AAAA,sBACD;AAAA,sBACA;AAAA,oBACD;AAAA,oBACA,KAAK,6BACJ,KAAK,cAAc;AAAA,sBAClB,IAAI;AAAA,wBACH;AAAA,sBACD;AAAA,oBACD,GALI;AAAA,kBAMN;AAAA,gBACD;AAAA,gBACA,cAAc;AAAA,cACf,CAAC;AAAA,YACF;AAAA,UACD,OAAO;AACN,8BACG,gBAAgB,IAAI,IACpB,mBAAmB,IAAI;AAAA,UAC3B;AAAA,QACD,OAKK;AACJ,gBAAM,wBAAwB,6BAAM;AACnC,iBAAK,iBAAiB;AAAA,cACrB,EAAE,yBAAyB,KAAK;AAAA,cAChC,MAAO,WAAW,SAAS,OAAO;AAAA,YACnC;AAAA,UACD,GAL8B;AAO9B,gCAAsB;AAEtB,gBAAM,8BAA8B,mCAAY;AAC/C,kBAAM,EAAE,YAAY,IAAI,KAAK;AAC7B,gBAAI;AAEJ,kBAAM,UAAiC;AAAA,cACtC;AAAA,gBACC,OAAO;AAAA,kBACN;AAAA,oBACC,KAAK;AAAA,oBACL,SAAS,CAAC,uBAAuB;AAAA,kBAClC;AAAA,kBACA;AAAA,gBACD;AAAA,gBACA,KAAK,6BAAM,sBAAsB,GAA5B;AAAA,cACN;AAAA,YACD;AAEA,gBAAI,gBAAgB,QAAW;AAC9B,uBAAS;AAAA,gBACR;AAAA,gBACA;AAAA,gBACA,KAAK,eAAe;AAAA,gBACpB,KAAK,eAAe;AAAA,cACrB;AAEA,sBAAQ,KAAK;AAAA,gBACZ,OAAO;AAAA,kBACN;AAAA,oBACC,KAAK;AAAA,oBACL,SAAS,CAAC,uBAAuB;AAAA,kBAClC;AAAA,kBACA;AAAA,gBACD;AAAA,gBACA,KAAK,mCAAY;AAChB,wBAAM,KAAK,cAAc;AAAA,oBACxB,IAAI,MAAM,WAAW;AAAA,kBACtB;AAGA,8CAA4B;AAAA,gBAC7B,GAPK;AAAA,cAQN,CAAC;AAAA,YACF,OAAO;AACN,uBAAS;AAAA,gBACR;AAAA,gBACA;AAAA,gBACA,KAAK,eAAe;AAAA,gBACpB,KAAK,eAAe;AAAA,cACrB;AAAA,YACD;AAIA,kBAAM,KAAK,YAAY;AAAA,cAAqB,MAC3C,KAAK,cAAc,OAAO;AAAA,gBACzB,MAAM,SAAS;AAAA,gBACf,SAAS;AAAA,kBACR;AAAA,kBACA;AAAA,gBACD;AAAA,gBACA;AAAA,gBACA;AAAA,gBACA,cAAc;AAAA,cACf,CAAC;AAAA,YACF;AAAA,UACD,GAjEoC;AAqEpC,cAAI,cAAc,MAAM,KAAK,eAAe,WAAW,GAAG;AACzD,kBAAM,4BAA4B;AAAA,UACnC;AAAA,QACD;AAEA,eAAO;AAAA,MACR,GAtKc;AAAA,IAuKf,CAAC;AAAA,EACF;AAAA,EAEQ,0BAAgC;AACvC,SAAK;AAAA,MACJ,KAAK,aAAa,kBAAkB;AAAA,QACnC,QAAQ,QAAQ;AAAA,QAChB,UAAU;AAAA,QACV,YAAY;AAAA,UACX,OAAO;AAAA,UACP,WAAW;AAAA,QACZ;AAAA,MACD,CAAC;AAAA,IACF;AAAA,EACD;AAAA,EAEQ,mBAAyB;AAEhC,qBAAiB;AAAA,MAChB;AAAA,MACA,OACC,WACA,YACwC;AACxC,eAAO,iBAAiB,OAAO;AAAA,MAChC;AAAA,IACD;AAGA,qBAAiB;AAAA,MAChB;AAAA,MACA,OACC,WACA,YACyC;AACzC,eAAO,kBAAkB,OAAO;AAAA,MACjC;AAAA,IACD;AAGA,qBAAiB;AAAA,MAChB;AAAA,MACA,OACC,WACA,YACwC;AACxC,eAAO,iBAAiB,OAAO;AAAA,MAChC;AAAA,IACD;AAAA,EACD;AACD;AAvXa,gBAAN;AAAA,EAEJ;AAAA,EACA;AAAA,EAEA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EAEA;AAAA,EAEA;AAAA,EAEA;AAAA,GAdU;",
  "names": ["timeout", "args"]
}
