{
  "version": 3,
  "sources": ["../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/browser/contextkeys.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport {\n\tisFullscreen,\n\tonDidChangeFullscreen,\n} from \"../../base/browser/browser.js\";\nimport {\n\tEventType,\n\taddDisposableListener,\n\tgetActiveWindow,\n\tisEditableElement,\n\tonDidRegisterWindow,\n\ttrackFocus,\n} from \"../../base/browser/dom.js\";\nimport { mainWindow } from \"../../base/browser/window.js\";\nimport { Event } from \"../../base/common/event.js\";\nimport { Disposable } from \"../../base/common/lifecycle.js\";\nimport { isNative } from \"../../base/common/platform.js\";\nimport { IConfigurationService } from \"../../platform/configuration/common/configuration.js\";\nimport {\n\ttype IContextKey,\n\tIContextKeyService,\n\tsetConstant as setConstantContextKey,\n} from \"../../platform/contextkey/common/contextkey.js\";\nimport {\n\tInputFocusedContext,\n\tIsDevelopmentContext,\n\tIsIOSContext,\n\tIsLinuxContext,\n\tIsMacContext,\n\tIsMacNativeContext,\n\tIsMobileContext,\n\tIsWebContext,\n\tIsWindowsContext,\n\tProductQualityContext,\n} from \"../../platform/contextkey/common/contextkeys.js\";\nimport { WebFileSystemAccess } from \"../../platform/files/browser/webFileSystemAccess.js\";\nimport { IProductService } from \"../../platform/product/common/productService.js\";\nimport { getRemoteName } from \"../../platform/remote/common/remoteHosts.js\";\nimport { getTitleBarStyle } from \"../../platform/window/common/window.js\";\nimport { getVirtualWorkspaceScheme } from \"../../platform/workspace/common/virtualWorkspace.js\";\nimport {\n\tIWorkspaceContextService,\n\tWorkbenchState,\n\tisTemporaryWorkspace,\n} from \"../../platform/workspace/common/workspace.js\";\nimport {\n\tActiveEditorGroupEmptyContext,\n\tActiveEditorGroupIndexContext,\n\tActiveEditorGroupLastContext,\n\tActiveEditorGroupLockedContext,\n\tAuxiliaryBarVisibleContext,\n\tDirtyWorkingCopiesContext,\n\tEditorTabsVisibleContext,\n\tEditorsVisibleContext,\n\tEmbedderIdentifierContext,\n\tEmptyWorkspaceSupportContext,\n\tEnterMultiRootWorkspaceSupportContext,\n\tHasWebFileSystemAccess,\n\tInEditorZenModeContext,\n\tIsAuxiliaryWindowFocusedContext,\n\tIsMainEditorCenteredLayoutContext,\n\tIsMainWindowFullscreenContext,\n\tMainEditorAreaVisibleContext,\n\tMultipleEditorGroupsContext,\n\tOpenFolderWorkspaceSupportContext,\n\tPanelAlignmentContext,\n\tPanelMaximizedContext,\n\tPanelPositionContext,\n\tPanelVisibleContext,\n\tRemoteNameContext,\n\tSideBarVisibleContext,\n\tSplitEditorsVertically,\n\tTemporaryWorkspaceContext,\n\tTitleBarStyleContext,\n\tTitleBarVisibleContext,\n\tVirtualWorkspaceContext,\n\tWorkbenchStateContext,\n\tWorkspaceFolderCountContext,\n} from \"../common/contextkeys.js\";\nimport {\n\tGroupDirection,\n\tIEditorGroupsService,\n\tpreferredSideBySideGroupDirection,\n} from \"../services/editor/common/editorGroupsService.js\";\nimport { IEditorService } from \"../services/editor/common/editorService.js\";\nimport { IWorkbenchEnvironmentService } from \"../services/environment/common/environmentService.js\";\nimport {\n\tIWorkbenchLayoutService,\n\tParts,\n\tpositionToString,\n} from \"../services/layout/browser/layoutService.js\";\nimport { IPaneCompositePartService } from \"../services/panecomposite/browser/panecomposite.js\";\nimport { IWorkingCopyService } from \"../services/workingCopy/common/workingCopyService.js\";\n\nexport class WorkbenchContextKeysHandler extends Disposable {\n\tprivate inputFocusedContext: IContextKey<boolean>;\n\n\tprivate dirtyWorkingCopiesContext: IContextKey<boolean>;\n\n\tprivate activeEditorGroupEmpty: IContextKey<boolean>;\n\tprivate activeEditorGroupIndex: IContextKey<number>;\n\tprivate activeEditorGroupLast: IContextKey<boolean>;\n\tprivate activeEditorGroupLocked: IContextKey<boolean>;\n\tprivate multipleEditorGroupsContext: IContextKey<boolean>;\n\n\tprivate editorsVisibleContext: IContextKey<boolean>;\n\n\tprivate splitEditorsVerticallyContext: IContextKey<boolean>;\n\n\tprivate workbenchStateContext: IContextKey<string>;\n\tprivate workspaceFolderCountContext: IContextKey<number>;\n\n\tprivate openFolderWorkspaceSupportContext: IContextKey<boolean>;\n\tprivate enterMultiRootWorkspaceSupportContext: IContextKey<boolean>;\n\tprivate emptyWorkspaceSupportContext: IContextKey<boolean>;\n\n\tprivate virtualWorkspaceContext: IContextKey<string>;\n\tprivate temporaryWorkspaceContext: IContextKey<boolean>;\n\n\tprivate inZenModeContext: IContextKey<boolean>;\n\tprivate isMainWindowFullscreenContext: IContextKey<boolean>;\n\tprivate isAuxiliaryWindowFocusedContext: IContextKey<boolean>;\n\tprivate isMainEditorCenteredLayoutContext: IContextKey<boolean>;\n\tprivate sideBarVisibleContext: IContextKey<boolean>;\n\tprivate mainEditorAreaVisibleContext: IContextKey<boolean>;\n\tprivate panelPositionContext: IContextKey<string>;\n\tprivate panelVisibleContext: IContextKey<boolean>;\n\tprivate panelAlignmentContext: IContextKey<string>;\n\tprivate panelMaximizedContext: IContextKey<boolean>;\n\tprivate auxiliaryBarVisibleContext: IContextKey<boolean>;\n\tprivate editorTabsVisibleContext: IContextKey<boolean>;\n\tprivate titleAreaVisibleContext: IContextKey<boolean>;\n\tprivate titleBarStyleContext: IContextKey<string>;\n\n\tconstructor(\n\t\t@IContextKeyService private readonly contextKeyService: IContextKeyService,\n\t\t@IWorkspaceContextService private readonly contextService: IWorkspaceContextService,\n\t\t@IConfigurationService private readonly configurationService: IConfigurationService,\n\t\t@IWorkbenchEnvironmentService private readonly environmentService: IWorkbenchEnvironmentService,\n\t\t@IProductService private readonly productService: IProductService,\n\t\t@IEditorGroupsService private readonly editorGroupService: IEditorGroupsService,\n\t\t@IEditorService private readonly editorService: IEditorService,\n\t\t@IWorkbenchLayoutService private readonly layoutService: IWorkbenchLayoutService,\n\t\t@IPaneCompositePartService private readonly paneCompositeService: IPaneCompositePartService,\n\t\t@IWorkingCopyService private readonly workingCopyService: IWorkingCopyService,\n\t) {\n\t\tsuper();\n\n\t\t// Platform\n\t\tIsMacContext.bindTo(this.contextKeyService);\n\t\tIsLinuxContext.bindTo(this.contextKeyService);\n\t\tIsWindowsContext.bindTo(this.contextKeyService);\n\n\t\tIsWebContext.bindTo(this.contextKeyService);\n\t\tIsMacNativeContext.bindTo(this.contextKeyService);\n\t\tIsIOSContext.bindTo(this.contextKeyService);\n\t\tIsMobileContext.bindTo(this.contextKeyService);\n\n\t\tRemoteNameContext.bindTo(this.contextKeyService).set(getRemoteName(this.environmentService.remoteAuthority) || '');\n\n\t\tthis.virtualWorkspaceContext = VirtualWorkspaceContext.bindTo(this.contextKeyService);\n\t\tthis.temporaryWorkspaceContext = TemporaryWorkspaceContext.bindTo(this.contextKeyService);\n\t\tthis.updateWorkspaceContextKeys();\n\n\t\t// Capabilities\n\t\tHasWebFileSystemAccess.bindTo(this.contextKeyService).set(WebFileSystemAccess.supported(mainWindow));\n\n\t\t// Development\n\t\tconst isDevelopment = !this.environmentService.isBuilt || this.environmentService.isExtensionDevelopment;\n\t\tIsDevelopmentContext.bindTo(this.contextKeyService).set(isDevelopment);\n\t\tsetConstantContextKey(IsDevelopmentContext.key, isDevelopment);\n\n\t\t// Product Service\n\t\tProductQualityContext.bindTo(this.contextKeyService).set(this.productService.quality || '');\n\t\tEmbedderIdentifierContext.bindTo(this.contextKeyService).set(productService.embedderIdentifier);\n\n\t\t// Editor Groups\n\t\tthis.activeEditorGroupEmpty = ActiveEditorGroupEmptyContext.bindTo(this.contextKeyService);\n\t\tthis.activeEditorGroupIndex = ActiveEditorGroupIndexContext.bindTo(this.contextKeyService);\n\t\tthis.activeEditorGroupLast = ActiveEditorGroupLastContext.bindTo(this.contextKeyService);\n\t\tthis.activeEditorGroupLocked = ActiveEditorGroupLockedContext.bindTo(this.contextKeyService);\n\t\tthis.multipleEditorGroupsContext = MultipleEditorGroupsContext.bindTo(this.contextKeyService);\n\n\t\t// Editors\n\t\tthis.editorsVisibleContext = EditorsVisibleContext.bindTo(this.contextKeyService);\n\n\t\t// Working Copies\n\t\tthis.dirtyWorkingCopiesContext = DirtyWorkingCopiesContext.bindTo(this.contextKeyService);\n\t\tthis.dirtyWorkingCopiesContext.set(this.workingCopyService.hasDirty);\n\n\t\t// Inputs\n\t\tthis.inputFocusedContext = InputFocusedContext.bindTo(this.contextKeyService);\n\n\t\t// Workbench State\n\t\tthis.workbenchStateContext = WorkbenchStateContext.bindTo(this.contextKeyService);\n\t\tthis.updateWorkbenchStateContextKey();\n\n\t\t// Workspace Folder Count\n\t\tthis.workspaceFolderCountContext = WorkspaceFolderCountContext.bindTo(this.contextKeyService);\n\t\tthis.updateWorkspaceFolderCountContextKey();\n\n\t\t// Opening folder support: support for opening a folder workspace\n\t\t// (e.g. \"Open Folder...\") is limited in web when not connected\n\t\t// to a remote.\n\t\tthis.openFolderWorkspaceSupportContext = OpenFolderWorkspaceSupportContext.bindTo(this.contextKeyService);\n\t\tthis.openFolderWorkspaceSupportContext.set(isNative || typeof this.environmentService.remoteAuthority === 'string');\n\n\t\t// Empty workspace support: empty workspaces require built-in file system\n\t\t// providers to be available that allow to enter a workspace or open loose\n\t\t// files. This condition is met:\n\t\t// - desktop: always\n\t\t// -     web: only when connected to a remote\n\t\tthis.emptyWorkspaceSupportContext = EmptyWorkspaceSupportContext.bindTo(this.contextKeyService);\n\t\tthis.emptyWorkspaceSupportContext.set(isNative || typeof this.environmentService.remoteAuthority === 'string');\n\n\t\t// Entering a multi root workspace support: support for entering a multi-root\n\t\t// workspace (e.g. \"Open Workspace from File...\", \"Duplicate Workspace\", \"Save Workspace\")\n\t\t// is driven by the ability to resolve a workspace configuration file (*.code-workspace)\n\t\t// with a built-in file system provider.\n\t\t// This condition is met:\n\t\t// - desktop: always\n\t\t// -     web: only when connected to a remote\n\t\tthis.enterMultiRootWorkspaceSupportContext = EnterMultiRootWorkspaceSupportContext.bindTo(this.contextKeyService);\n\t\tthis.enterMultiRootWorkspaceSupportContext.set(isNative || typeof this.environmentService.remoteAuthority === 'string');\n\n\t\t// Editor Layout\n\t\tthis.splitEditorsVerticallyContext = SplitEditorsVertically.bindTo(this.contextKeyService);\n\t\tthis.updateSplitEditorsVerticallyContext();\n\n\t\t// Window\n\t\tthis.isMainWindowFullscreenContext = IsMainWindowFullscreenContext.bindTo(this.contextKeyService);\n\t\tthis.isAuxiliaryWindowFocusedContext = IsAuxiliaryWindowFocusedContext.bindTo(this.contextKeyService);\n\n\t\t// Zen Mode\n\t\tthis.inZenModeContext = InEditorZenModeContext.bindTo(this.contextKeyService);\n\n\t\t// Centered Layout (Main Editor)\n\t\tthis.isMainEditorCenteredLayoutContext = IsMainEditorCenteredLayoutContext.bindTo(this.contextKeyService);\n\n\t\t// Editor Area\n\t\tthis.mainEditorAreaVisibleContext = MainEditorAreaVisibleContext.bindTo(this.contextKeyService);\n\t\tthis.editorTabsVisibleContext = EditorTabsVisibleContext.bindTo(this.contextKeyService);\n\n\t\t// Sidebar\n\t\tthis.sideBarVisibleContext = SideBarVisibleContext.bindTo(this.contextKeyService);\n\n\t\t// Title Bar\n\t\tthis.titleAreaVisibleContext = TitleBarVisibleContext.bindTo(this.contextKeyService);\n\t\tthis.titleBarStyleContext = TitleBarStyleContext.bindTo(this.contextKeyService);\n\t\tthis.updateTitleBarContextKeys();\n\n\t\t// Panel\n\t\tthis.panelPositionContext = PanelPositionContext.bindTo(this.contextKeyService);\n\t\tthis.panelPositionContext.set(positionToString(this.layoutService.getPanelPosition()));\n\t\tthis.panelVisibleContext = PanelVisibleContext.bindTo(this.contextKeyService);\n\t\tthis.panelVisibleContext.set(this.layoutService.isVisible(Parts.PANEL_PART));\n\t\tthis.panelMaximizedContext = PanelMaximizedContext.bindTo(this.contextKeyService);\n\t\tthis.panelMaximizedContext.set(this.layoutService.isPanelMaximized());\n\t\tthis.panelAlignmentContext = PanelAlignmentContext.bindTo(this.contextKeyService);\n\t\tthis.panelAlignmentContext.set(this.layoutService.getPanelAlignment());\n\n\t\t// Auxiliary Bar\n\t\tthis.auxiliaryBarVisibleContext = AuxiliaryBarVisibleContext.bindTo(this.contextKeyService);\n\t\tthis.auxiliaryBarVisibleContext.set(this.layoutService.isVisible(Parts.AUXILIARYBAR_PART));\n\n\t\tthis.registerListeners();\n\t}\n\n\tprivate registerListeners(): void {\n\t\tthis.editorGroupService.whenReady.then(() => {\n\t\t\tthis.updateEditorAreaContextKeys();\n\t\t\tthis.updateActiveEditorGroupContextKeys();\n\t\t\tthis.updateVisiblePanesContextKeys();\n\t\t});\n\n\t\tthis._register(\n\t\t\tthis.editorService.onDidActiveEditorChange(() =>\n\t\t\t\tthis.updateActiveEditorGroupContextKeys(),\n\t\t\t),\n\t\t);\n\t\tthis._register(\n\t\t\tthis.editorService.onDidVisibleEditorsChange(() =>\n\t\t\t\tthis.updateVisiblePanesContextKeys(),\n\t\t\t),\n\t\t);\n\t\tthis._register(\n\t\t\tthis.editorGroupService.onDidAddGroup(() =>\n\t\t\t\tthis.updateEditorGroupsContextKeys(),\n\t\t\t),\n\t\t);\n\t\tthis._register(\n\t\t\tthis.editorGroupService.onDidRemoveGroup(() =>\n\t\t\t\tthis.updateEditorGroupsContextKeys(),\n\t\t\t),\n\t\t);\n\t\tthis._register(\n\t\t\tthis.editorGroupService.onDidChangeGroupIndex(() =>\n\t\t\t\tthis.updateActiveEditorGroupContextKeys(),\n\t\t\t),\n\t\t);\n\t\tthis._register(\n\t\t\tthis.editorGroupService.onDidChangeGroupLocked(() =>\n\t\t\t\tthis.updateActiveEditorGroupContextKeys(),\n\t\t\t),\n\t\t);\n\n\t\tthis._register(\n\t\t\tthis.editorGroupService.onDidChangeEditorPartOptions(() =>\n\t\t\t\tthis.updateEditorAreaContextKeys(),\n\t\t\t),\n\t\t);\n\n\t\tthis._register(\n\t\t\tEvent.runAndSubscribe(\n\t\t\t\tonDidRegisterWindow,\n\t\t\t\t({ window, disposables }) =>\n\t\t\t\t\tdisposables.add(\n\t\t\t\t\t\taddDisposableListener(\n\t\t\t\t\t\t\twindow,\n\t\t\t\t\t\t\tEventType.FOCUS_IN,\n\t\t\t\t\t\t\t() => this.updateInputContextKeys(window.document),\n\t\t\t\t\t\t\ttrue,\n\t\t\t\t\t\t),\n\t\t\t\t\t),\n\t\t\t\t{ window: mainWindow, disposables: this._store },\n\t\t\t),\n\t\t);\n\n\t\tthis._register(\n\t\t\tthis.contextService.onDidChangeWorkbenchState(() =>\n\t\t\t\tthis.updateWorkbenchStateContextKey(),\n\t\t\t),\n\t\t);\n\t\tthis._register(\n\t\t\tthis.contextService.onDidChangeWorkspaceFolders(() => {\n\t\t\t\tthis.updateWorkspaceFolderCountContextKey();\n\t\t\t\tthis.updateWorkspaceContextKeys();\n\t\t\t}),\n\t\t);\n\n\t\tthis._register(\n\t\t\tthis.configurationService.onDidChangeConfiguration((e) => {\n\t\t\t\tif (\n\t\t\t\t\te.affectsConfiguration(\n\t\t\t\t\t\t\"workbench.editor.openSideBySideDirection\",\n\t\t\t\t\t)\n\t\t\t\t) {\n\t\t\t\t\tthis.updateSplitEditorsVerticallyContext();\n\t\t\t\t}\n\t\t\t}),\n\t\t);\n\n\t\tthis._register(\n\t\t\tthis.layoutService.onDidChangeZenMode((enabled) =>\n\t\t\t\tthis.inZenModeContext.set(enabled),\n\t\t\t),\n\t\t);\n\t\tthis._register(\n\t\t\tthis.layoutService.onDidChangeActiveContainer(() =>\n\t\t\t\tthis.isAuxiliaryWindowFocusedContext.set(\n\t\t\t\t\tthis.layoutService.activeContainer !==\n\t\t\t\t\t\tthis.layoutService.mainContainer,\n\t\t\t\t),\n\t\t\t),\n\t\t);\n\t\tthis._register(\n\t\t\tonDidChangeFullscreen((windowId) => {\n\t\t\t\tif (windowId === mainWindow.vscodeWindowId) {\n\t\t\t\t\tthis.isMainWindowFullscreenContext.set(\n\t\t\t\t\t\tisFullscreen(mainWindow),\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}),\n\t\t);\n\t\tthis._register(\n\t\t\tthis.layoutService.onDidChangeMainEditorCenteredLayout((centered) =>\n\t\t\t\tthis.isMainEditorCenteredLayoutContext.set(centered),\n\t\t\t),\n\t\t);\n\t\tthis._register(\n\t\t\tthis.layoutService.onDidChangePanelPosition((position) =>\n\t\t\t\tthis.panelPositionContext.set(position),\n\t\t\t),\n\t\t);\n\n\t\tthis._register(\n\t\t\tthis.layoutService.onDidChangePanelAlignment((alignment) =>\n\t\t\t\tthis.panelAlignmentContext.set(alignment),\n\t\t\t),\n\t\t);\n\n\t\tthis._register(\n\t\t\tthis.paneCompositeService.onDidPaneCompositeClose(() =>\n\t\t\t\tthis.updateSideBarContextKeys(),\n\t\t\t),\n\t\t);\n\t\tthis._register(\n\t\t\tthis.paneCompositeService.onDidPaneCompositeOpen(() =>\n\t\t\t\tthis.updateSideBarContextKeys(),\n\t\t\t),\n\t\t);\n\n\t\tthis._register(\n\t\t\tthis.layoutService.onDidChangePartVisibility(() => {\n\t\t\t\tthis.mainEditorAreaVisibleContext.set(\n\t\t\t\t\tthis.layoutService.isVisible(Parts.EDITOR_PART, mainWindow),\n\t\t\t\t);\n\t\t\t\tthis.panelVisibleContext.set(\n\t\t\t\t\tthis.layoutService.isVisible(Parts.PANEL_PART),\n\t\t\t\t);\n\t\t\t\tthis.panelMaximizedContext.set(\n\t\t\t\t\tthis.layoutService.isPanelMaximized(),\n\t\t\t\t);\n\t\t\t\tthis.auxiliaryBarVisibleContext.set(\n\t\t\t\t\tthis.layoutService.isVisible(Parts.AUXILIARYBAR_PART),\n\t\t\t\t);\n\t\t\t\tthis.updateTitleBarContextKeys();\n\t\t\t}),\n\t\t);\n\n\t\tthis._register(\n\t\t\tthis.workingCopyService.onDidChangeDirty((workingCopy) =>\n\t\t\t\tthis.dirtyWorkingCopiesContext.set(\n\t\t\t\t\tworkingCopy.isDirty() || this.workingCopyService.hasDirty,\n\t\t\t\t),\n\t\t\t),\n\t\t);\n\t}\n\n\tprivate updateVisiblePanesContextKeys(): void {\n\t\tconst visibleEditorPanes = this.editorService.visibleEditorPanes;\n\t\tif (visibleEditorPanes.length > 0) {\n\t\t\tthis.editorsVisibleContext.set(true);\n\t\t} else {\n\t\t\tthis.editorsVisibleContext.reset();\n\t\t}\n\t}\n\n\t// Context keys depending on the state of the editor group itself\n\tprivate updateActiveEditorGroupContextKeys(): void {\n\t\tif (this.editorService.activeEditor) {\n\t\t\tthis.activeEditorGroupEmpty.reset();\n\t\t} else {\n\t\t\tthis.activeEditorGroupEmpty.set(true);\n\t\t}\n\n\t\tconst activeGroup = this.editorGroupService.activeGroup;\n\t\tthis.activeEditorGroupIndex.set(activeGroup.index + 1); // not zero-indexed\n\t\tthis.activeEditorGroupLocked.set(activeGroup.isLocked);\n\n\t\tthis.updateEditorGroupsContextKeys();\n\t}\n\n\t// Context keys depending on the state of other editor groups\n\tprivate updateEditorGroupsContextKeys(): void {\n\t\tconst groupCount = this.editorGroupService.count;\n\t\tif (groupCount > 1) {\n\t\t\tthis.multipleEditorGroupsContext.set(true);\n\t\t} else {\n\t\t\tthis.multipleEditorGroupsContext.reset();\n\t\t}\n\n\t\tconst activeGroup = this.editorGroupService.activeGroup;\n\t\tthis.activeEditorGroupLast.set(activeGroup.index === groupCount - 1);\n\t}\n\n\tprivate updateEditorAreaContextKeys(): void {\n\t\tthis.editorTabsVisibleContext.set(\n\t\t\tthis.editorGroupService.partOptions.showTabs === \"multiple\",\n\t\t);\n\t}\n\n\tprivate updateInputContextKeys(ownerDocument: Document): void {\n\t\tfunction activeElementIsInput(): boolean {\n\t\t\treturn (\n\t\t\t\t!!ownerDocument.activeElement &&\n\t\t\t\tisEditableElement(ownerDocument.activeElement)\n\t\t\t);\n\t\t}\n\n\t\tconst isInputFocused = activeElementIsInput();\n\t\tthis.inputFocusedContext.set(isInputFocused);\n\n\t\tif (isInputFocused) {\n\t\t\tconst tracker = trackFocus(\n\t\t\t\townerDocument.activeElement as HTMLElement,\n\t\t\t);\n\t\t\tEvent.once(tracker.onDidBlur)(() => {\n\t\t\t\t// Ensure we are only updating the context key if we are\n\t\t\t\t// still in the same document that we are tracking. This\n\t\t\t\t// fixes a race condition in multi-window setups where\n\t\t\t\t// the blur event arrives in the inactive window overwriting\n\t\t\t\t// the context key of the active window. This is because\n\t\t\t\t// blur events from the focus tracker are emitted with a\n\t\t\t\t// timeout of 0.\n\n\t\t\t\tif (getActiveWindow().document === ownerDocument) {\n\t\t\t\t\tthis.inputFocusedContext.set(activeElementIsInput());\n\t\t\t\t}\n\n\t\t\t\ttracker.dispose();\n\t\t\t});\n\t\t}\n\t}\n\n\tprivate updateWorkbenchStateContextKey(): void {\n\t\tthis.workbenchStateContext.set(this.getWorkbenchStateString());\n\t}\n\n\tprivate updateWorkspaceFolderCountContextKey(): void {\n\t\tthis.workspaceFolderCountContext.set(\n\t\t\tthis.contextService.getWorkspace().folders.length,\n\t\t);\n\t}\n\n\tprivate updateSplitEditorsVerticallyContext(): void {\n\t\tconst direction = preferredSideBySideGroupDirection(\n\t\t\tthis.configurationService,\n\t\t);\n\t\tthis.splitEditorsVerticallyContext.set(\n\t\t\tdirection === GroupDirection.DOWN,\n\t\t);\n\t}\n\n\tprivate getWorkbenchStateString(): string {\n\t\tswitch (this.contextService.getWorkbenchState()) {\n\t\t\tcase WorkbenchState.EMPTY:\n\t\t\t\treturn \"empty\";\n\t\t\tcase WorkbenchState.FOLDER:\n\t\t\t\treturn \"folder\";\n\t\t\tcase WorkbenchState.WORKSPACE:\n\t\t\t\treturn \"workspace\";\n\t\t}\n\t}\n\n\tprivate updateSideBarContextKeys(): void {\n\t\tthis.sideBarVisibleContext.set(\n\t\t\tthis.layoutService.isVisible(Parts.SIDEBAR_PART),\n\t\t);\n\t}\n\n\tprivate updateTitleBarContextKeys(): void {\n\t\tthis.titleAreaVisibleContext.set(\n\t\t\tthis.layoutService.isVisible(Parts.TITLEBAR_PART, mainWindow),\n\t\t);\n\t\tthis.titleBarStyleContext.set(\n\t\t\tgetTitleBarStyle(this.configurationService),\n\t\t);\n\t}\n\n\tprivate updateWorkspaceContextKeys(): void {\n\t\tthis.virtualWorkspaceContext.set(\n\t\t\tgetVirtualWorkspaceScheme(this.contextService.getWorkspace()) || \"\",\n\t\t);\n\t\tthis.temporaryWorkspaceContext.set(\n\t\t\tisTemporaryWorkspace(this.contextService.getWorkspace()),\n\t\t);\n\t}\n}\n"],
  "mappings": "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",
  "names": []
}
