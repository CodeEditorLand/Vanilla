{
  "version": 3,
  "sources": ["../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/browser/parts/editor/editorTabsControl.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport \"./media/editortabscontrol.css\";\nimport { isFirefox } from \"../../../../base/browser/browser.js\";\nimport { DataTransfers, applyDragImage } from \"../../../../base/browser/dnd.js\";\nimport {\n\ttype Dimension,\n\tgetActiveWindow,\n\tgetWindow,\n\tisMouseEvent,\n} from \"../../../../base/browser/dom.js\";\nimport { StandardMouseEvent } from \"../../../../base/browser/mouseEvent.js\";\nimport type { IBaseActionViewItemOptions } from \"../../../../base/browser/ui/actionbar/actionViewItems.js\";\nimport {\n\tActionsOrientation,\n\ttype IActionViewItem,\n\tprepareActions,\n} from \"../../../../base/browser/ui/actionbar/actionbar.js\";\nimport { AnchorAlignment } from \"../../../../base/browser/ui/contextview/contextview.js\";\nimport type { IManagedHoverTooltipMarkdownString } from \"../../../../base/browser/ui/hover/hover.js\";\nimport type { IHoverDelegate } from \"../../../../base/browser/ui/hover/hoverDelegate.js\";\nimport { getDefaultHoverDelegate } from \"../../../../base/browser/ui/hover/hoverDelegateFactory.js\";\nimport { ActionRunner, type IAction } from \"../../../../base/common/actions.js\";\nimport { isCancellationError } from \"../../../../base/common/errors.js\";\nimport { MarkdownString } from \"../../../../base/common/htmlContent.js\";\nimport type { ResolvedKeybinding } from \"../../../../base/common/keybindings.js\";\nimport {\n\tDisposableStore,\n\ttype IDisposable,\n} from \"../../../../base/common/lifecycle.js\";\nimport { isMacintosh } from \"../../../../base/common/platform.js\";\nimport { assertIsDefined } from \"../../../../base/common/types.js\";\nimport type { DraggedTreeItemsIdentifier } from \"../../../../editor/common/services/treeViewsDnd.js\";\nimport { localize } from \"../../../../nls.js\";\nimport { createActionViewItem } from \"../../../../platform/actions/browser/menuEntryActionViewItem.js\";\nimport { WorkbenchToolBar } from \"../../../../platform/actions/browser/toolbar.js\";\nimport { MenuId } from \"../../../../platform/actions/common/actions.js\";\nimport {\n\ttype IContextKey,\n\tIContextKeyService,\n} from \"../../../../platform/contextkey/common/contextkey.js\";\nimport { IContextMenuService } from \"../../../../platform/contextview/browser/contextView.js\";\nimport { LocalSelectionTransfer } from \"../../../../platform/dnd/browser/dnd.js\";\nimport { IInstantiationService } from \"../../../../platform/instantiation/common/instantiation.js\";\nimport { ServiceCollection } from \"../../../../platform/instantiation/common/serviceCollection.js\";\nimport { IKeybindingService } from \"../../../../platform/keybinding/common/keybinding.js\";\nimport { INotificationService } from \"../../../../platform/notification/common/notification.js\";\nimport { IQuickInputService } from \"../../../../platform/quickinput/common/quickInput.js\";\nimport {\n\tlistActiveSelectionBackground,\n\tlistActiveSelectionForeground,\n} from \"../../../../platform/theme/common/colorRegistry.js\";\nimport {\n\tIThemeService,\n\tThemable,\n} from \"../../../../platform/theme/common/themeService.js\";\nimport {\n\tActiveEditorAvailableEditorIdsContext,\n\tActiveEditorCanSplitInGroupContext,\n\tActiveEditorFirstInGroupContext,\n\tActiveEditorGroupLockedContext,\n\tActiveEditorLastInGroupContext,\n\tActiveEditorPinnedContext,\n\tActiveEditorStickyContext,\n\tResourceContextKey,\n\tSideBySideEditorActiveContext,\n\tapplyAvailableEditorIds,\n} from \"../../../common/contextkeys.js\";\nimport {\n\tEditorInputCapabilities,\n\tEditorResourceAccessor,\n\tEditorsOrder,\n\ttype GroupIdentifier,\n\ttype IEditorCommandsContext,\n\ttype IEditorPartOptions,\n\ttype IToolbarActions,\n\tSideBySideEditor,\n\tVerbosity,\n} from \"../../../common/editor.js\";\nimport type { IReadonlyEditorGroupModel } from \"../../../common/editor/editorGroupModel.js\";\nimport type { EditorInput } from \"../../../common/editor/editorInput.js\";\nimport { SideBySideEditorInput } from \"../../../common/editor/sideBySideEditorInput.js\";\nimport {\n\ttype IAuxiliaryEditorPart,\n\tMergeGroupMode,\n} from \"../../../services/editor/common/editorGroupsService.js\";\nimport { IEditorResolverService } from \"../../../services/editor/common/editorResolverService.js\";\nimport { IHostService } from \"../../../services/host/browser/host.js\";\nimport {\n\tDraggedEditorGroupIdentifier,\n\ttype DraggedEditorIdentifier,\n\tfillEditorsDragData,\n\tisWindowDraggedOver,\n} from \"../../dnd.js\";\nimport type {\n\tIEditorGroupView,\n\tIEditorGroupsView,\n\tIEditorPartsView,\n\tIInternalEditorOpenOptions,\n} from \"./editor.js\";\nimport { EDITOR_CORE_NAVIGATION_COMMANDS } from \"./editorCommands.js\";\nimport { EditorPane } from \"./editorPane.js\";\nimport type { IEditorTitleControlDimensions } from \"./editorTitleControl.js\";\n\nexport class EditorCommandsContextActionRunner extends ActionRunner {\n\tconstructor(private context: IEditorCommandsContext) {\n\t\tsuper();\n\t}\n\n\toverride run(\n\t\taction: IAction,\n\t\tcontext?: { preserveFocus?: boolean },\n\t): Promise<void> {\n\t\t// Even though we have a fixed context for editor commands,\n\t\t// allow to preserve the context that is given to us in case\n\t\t// it applies.\n\n\t\tlet mergedContext = this.context;\n\t\tif (context?.preserveFocus) {\n\t\t\tmergedContext = {\n\t\t\t\t...this.context,\n\t\t\t\tpreserveFocus: true,\n\t\t\t};\n\t\t}\n\n\t\treturn super.run(action, mergedContext);\n\t}\n}\n\nexport interface IEditorTabsControl extends IDisposable {\n\tupdateOptions(\n\t\toldOptions: IEditorPartOptions,\n\t\tnewOptions: IEditorPartOptions,\n\t): void;\n\topenEditor(\n\t\teditor: EditorInput,\n\t\toptions?: IInternalEditorOpenOptions,\n\t): boolean;\n\topenEditors(editors: EditorInput[]): boolean;\n\tbeforeCloseEditor(editor: EditorInput): void;\n\tcloseEditor(editor: EditorInput): void;\n\tcloseEditors(editors: EditorInput[]): void;\n\tmoveEditor(\n\t\teditor: EditorInput,\n\t\tfromIndex: number,\n\t\ttargetIndex: number,\n\t\tstickyStateChange: boolean,\n\t): void;\n\tpinEditor(editor: EditorInput): void;\n\tstickEditor(editor: EditorInput): void;\n\tunstickEditor(editor: EditorInput): void;\n\tsetActive(isActive: boolean): void;\n\tupdateEditorSelections(): void;\n\tupdateEditorLabel(editor: EditorInput): void;\n\tupdateEditorDirty(editor: EditorInput): void;\n\tlayout(dimensions: IEditorTitleControlDimensions): Dimension;\n\tgetHeight(): number;\n}\n\nexport abstract class EditorTabsControl\n\textends Themable\n\timplements IEditorTabsControl\n{\n\tprotected readonly editorTransfer =\n\t\tLocalSelectionTransfer.getInstance<DraggedEditorIdentifier>();\n\tprotected readonly groupTransfer =\n\t\tLocalSelectionTransfer.getInstance<DraggedEditorGroupIdentifier>();\n\tprotected readonly treeItemsTransfer =\n\t\tLocalSelectionTransfer.getInstance<DraggedTreeItemsIdentifier>();\n\n\tprivate static readonly EDITOR_TAB_HEIGHT = {\n\t\tnormal: 35 as const,\n\t\tcompact: 22 as const,\n\t};\n\n\tprotected editorActionsToolbarContainer: HTMLElement | undefined;\n\tprivate editorActionsToolbar: WorkbenchToolBar | undefined;\n\tprivate readonly editorActionsToolbarDisposables = this._register(\n\t\tnew DisposableStore(),\n\t);\n\tprivate readonly editorActionsDisposables = this._register(\n\t\tnew DisposableStore(),\n\t);\n\n\tprivate readonly contextMenuContextKeyService: IContextKeyService;\n\tprivate resourceContext: ResourceContextKey;\n\n\tprivate editorPinnedContext: IContextKey<boolean>;\n\tprivate editorIsFirstContext: IContextKey<boolean>;\n\tprivate editorIsLastContext: IContextKey<boolean>;\n\tprivate editorStickyContext: IContextKey<boolean>;\n\tprivate editorAvailableEditorIds: IContextKey<string>;\n\n\tprivate editorCanSplitInGroupContext: IContextKey<boolean>;\n\tprivate sideBySideEditorContext: IContextKey<boolean>;\n\n\tprivate groupLockedContext: IContextKey<boolean>;\n\n\tprivate renderDropdownAsChildElement: boolean;\n\n\tprivate readonly tabsHoverDelegate: IHoverDelegate;\n\n\tconstructor(\n\t\tprotected readonly parent: HTMLElement,\n\t\tprotected readonly editorPartsView: IEditorPartsView,\n\t\tprotected readonly groupsView: IEditorGroupsView,\n\t\tprotected readonly groupView: IEditorGroupView,\n\t\tprotected readonly tabsModel: IReadonlyEditorGroupModel,\n\t\t@IContextMenuService protected readonly contextMenuService: IContextMenuService,\n\t\t@IInstantiationService protected instantiationService: IInstantiationService,\n\t\t@IContextKeyService protected readonly contextKeyService: IContextKeyService,\n\t\t@IKeybindingService private readonly keybindingService: IKeybindingService,\n\t\t@INotificationService private readonly notificationService: INotificationService,\n\t\t@IQuickInputService protected quickInputService: IQuickInputService,\n\t\t@IThemeService themeService: IThemeService,\n\t\t@IEditorResolverService private readonly editorResolverService: IEditorResolverService,\n\t\t@IHostService private readonly hostService: IHostService,\n\t) {\n\t\tsuper(themeService);\n\n\t\tthis.contextMenuContextKeyService = this._register(this.contextKeyService.createScoped(parent));\n\t\tconst scopedInstantiationService = this._register(this.instantiationService.createChild(new ServiceCollection(\n\t\t\t[IContextKeyService, this.contextMenuContextKeyService],\n\t\t)));\n\n\t\tthis.resourceContext = this._register(scopedInstantiationService.createInstance(ResourceContextKey));\n\n\t\tthis.editorPinnedContext = ActiveEditorPinnedContext.bindTo(this.contextMenuContextKeyService);\n\t\tthis.editorIsFirstContext = ActiveEditorFirstInGroupContext.bindTo(this.contextMenuContextKeyService);\n\t\tthis.editorIsLastContext = ActiveEditorLastInGroupContext.bindTo(this.contextMenuContextKeyService);\n\t\tthis.editorStickyContext = ActiveEditorStickyContext.bindTo(this.contextMenuContextKeyService);\n\t\tthis.editorAvailableEditorIds = ActiveEditorAvailableEditorIdsContext.bindTo(this.contextMenuContextKeyService);\n\n\t\tthis.editorCanSplitInGroupContext = ActiveEditorCanSplitInGroupContext.bindTo(this.contextMenuContextKeyService);\n\t\tthis.sideBySideEditorContext = SideBySideEditorActiveContext.bindTo(this.contextMenuContextKeyService);\n\n\t\tthis.groupLockedContext = ActiveEditorGroupLockedContext.bindTo(this.contextMenuContextKeyService);\n\n\t\tthis.renderDropdownAsChildElement = false;\n\n\t\tthis.tabsHoverDelegate = getDefaultHoverDelegate('mouse');\n\n\t\tthis.create(parent);\n\t}\n\n\tprotected create(parent: HTMLElement): void {\n\t\tthis.updateTabHeight();\n\t}\n\n\tprivate get editorActionsEnabled(): boolean {\n\t\treturn (\n\t\t\tthis.groupsView.partOptions.editorActionsLocation === \"default\" &&\n\t\t\tthis.groupsView.partOptions.showTabs !== \"none\"\n\t\t);\n\t}\n\n\tprotected createEditorActionsToolBar(\n\t\tparent: HTMLElement,\n\t\tclasses: string[],\n\t): void {\n\t\tthis.editorActionsToolbarContainer = document.createElement(\"div\");\n\t\tthis.editorActionsToolbarContainer.classList.add(...classes);\n\t\tparent.appendChild(this.editorActionsToolbarContainer);\n\n\t\tthis.handleEditorActionToolBarVisibility(\n\t\t\tthis.editorActionsToolbarContainer,\n\t\t);\n\t}\n\n\tprivate handleEditorActionToolBarVisibility(container: HTMLElement): void {\n\t\tconst editorActionsEnabled = this.editorActionsEnabled;\n\t\tconst editorActionsVisible = !!this.editorActionsToolbar;\n\n\t\t// Create toolbar if it is enabled (and not yet created)\n\t\tif (editorActionsEnabled && !editorActionsVisible) {\n\t\t\tthis.doCreateEditorActionsToolBar(container);\n\t\t}\n\t\t// Remove toolbar if it is not enabled (and is visible)\n\t\telse if (!editorActionsEnabled && editorActionsVisible) {\n\t\t\tthis.editorActionsToolbar?.getElement().remove();\n\t\t\tthis.editorActionsToolbar = undefined;\n\t\t\tthis.editorActionsToolbarDisposables.clear();\n\t\t\tthis.editorActionsDisposables.clear();\n\t\t}\n\n\t\tcontainer.classList.toggle(\"hidden\", !editorActionsEnabled);\n\t}\n\n\tprivate doCreateEditorActionsToolBar(container: HTMLElement): void {\n\t\tconst context: IEditorCommandsContext = { groupId: this.groupView.id };\n\n\t\t// Toolbar Widget\n\t\tthis.editorActionsToolbar = this.editorActionsToolbarDisposables.add(\n\t\t\tthis.instantiationService.createInstance(\n\t\t\t\tWorkbenchToolBar,\n\t\t\t\tcontainer,\n\t\t\t\t{\n\t\t\t\t\tactionViewItemProvider: (action, options) =>\n\t\t\t\t\t\tthis.actionViewItemProvider(action, options),\n\t\t\t\t\torientation: ActionsOrientation.HORIZONTAL,\n\t\t\t\t\tariaLabel: localize(\n\t\t\t\t\t\t\"ariaLabelEditorActions\",\n\t\t\t\t\t\t\"Editor actions\",\n\t\t\t\t\t),\n\t\t\t\t\tgetKeyBinding: (action) => this.getKeybinding(action),\n\t\t\t\t\tactionRunner: this.editorActionsToolbarDisposables.add(\n\t\t\t\t\t\tnew EditorCommandsContextActionRunner(context),\n\t\t\t\t\t),\n\t\t\t\t\tanchorAlignmentProvider: () => AnchorAlignment.RIGHT,\n\t\t\t\t\trenderDropdownAsChildElement:\n\t\t\t\t\t\tthis.renderDropdownAsChildElement,\n\t\t\t\t\ttelemetrySource: \"editorPart\",\n\t\t\t\t\tresetMenu: MenuId.EditorTitle,\n\t\t\t\t\toverflowBehavior: {\n\t\t\t\t\t\tmaxItems: 9,\n\t\t\t\t\t\texempted: EDITOR_CORE_NAVIGATION_COMMANDS,\n\t\t\t\t\t},\n\t\t\t\t\thighlightToggledItems: true,\n\t\t\t\t},\n\t\t\t),\n\t\t);\n\n\t\t// Context\n\t\tthis.editorActionsToolbar.context = context;\n\n\t\t// Action Run Handling\n\t\tthis.editorActionsToolbarDisposables.add(\n\t\t\tthis.editorActionsToolbar.actionRunner.onDidRun((e) => {\n\t\t\t\t// Notify for Error\n\t\t\t\tif (e.error && !isCancellationError(e.error)) {\n\t\t\t\t\tthis.notificationService.error(e.error);\n\t\t\t\t}\n\t\t\t}),\n\t\t);\n\t}\n\n\tprivate actionViewItemProvider(\n\t\taction: IAction,\n\t\toptions: IBaseActionViewItemOptions,\n\t): IActionViewItem | undefined {\n\t\tconst activeEditorPane = this.groupView.activeEditorPane;\n\n\t\t// Check Active Editor\n\t\tif (activeEditorPane instanceof EditorPane) {\n\t\t\tconst result = activeEditorPane.getActionViewItem(action, options);\n\n\t\t\tif (result) {\n\t\t\t\treturn result;\n\t\t\t}\n\t\t}\n\n\t\t// Check extensions\n\t\treturn createActionViewItem(this.instantiationService, action, {\n\t\t\t...options,\n\t\t\tmenuAsChild: this.renderDropdownAsChildElement,\n\t\t});\n\t}\n\n\tprotected updateEditorActionsToolbar(): void {\n\t\tif (!this.editorActionsEnabled) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.editorActionsDisposables.clear();\n\n\t\tconst editorActions = this.groupView.createEditorActions(\n\t\t\tthis.editorActionsDisposables,\n\t\t);\n\t\tthis.editorActionsDisposables.add(\n\t\t\teditorActions.onDidChange(() => this.updateEditorActionsToolbar()),\n\t\t);\n\n\t\tconst editorActionsToolbar = assertIsDefined(this.editorActionsToolbar);\n\t\tconst { primary, secondary } = this.prepareEditorActions(\n\t\t\teditorActions.actions,\n\t\t);\n\t\teditorActionsToolbar.setActions(\n\t\t\tprepareActions(primary),\n\t\t\tprepareActions(secondary),\n\t\t);\n\t}\n\n\tprotected abstract prepareEditorActions(\n\t\teditorActions: IToolbarActions,\n\t): IToolbarActions;\n\tprivate getEditorPaneAwareContextKeyService(): IContextKeyService {\n\t\treturn (\n\t\t\tthis.groupView.activeEditorPane?.scopedContextKeyService ??\n\t\t\tthis.contextKeyService\n\t\t);\n\t}\n\n\tprotected clearEditorActionsToolbar(): void {\n\t\tif (!this.editorActionsEnabled) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst editorActionsToolbar = assertIsDefined(this.editorActionsToolbar);\n\t\teditorActionsToolbar.setActions([], []);\n\t}\n\n\tprotected onGroupDragStart(e: DragEvent, element: HTMLElement): boolean {\n\t\tif (e.target !== element) {\n\t\t\treturn false; // only if originating from tabs container\n\t\t}\n\n\t\tconst isNewWindowOperation = this.isNewWindowOperation(e);\n\n\t\t// Set editor group as transfer\n\t\tthis.groupTransfer.setData(\n\t\t\t[new DraggedEditorGroupIdentifier(this.groupView.id)],\n\t\t\tDraggedEditorGroupIdentifier.prototype,\n\t\t);\n\t\tif (e.dataTransfer) {\n\t\t\te.dataTransfer.effectAllowed = \"copyMove\";\n\t\t}\n\n\t\t// Drag all tabs of the group if tabs are enabled\n\t\tlet hasDataTransfer = false;\n\t\tif (this.groupsView.partOptions.showTabs === \"multiple\") {\n\t\t\thasDataTransfer = this.doFillResourceDataTransfers(\n\t\t\t\tthis.groupView.getEditors(EditorsOrder.SEQUENTIAL),\n\t\t\t\te,\n\t\t\t\tisNewWindowOperation,\n\t\t\t);\n\t\t}\n\n\t\t// Otherwise only drag the active editor\n\t\telse if (this.groupView.activeEditor) {\n\t\t\thasDataTransfer = this.doFillResourceDataTransfers(\n\t\t\t\t[this.groupView.activeEditor],\n\t\t\t\te,\n\t\t\t\tisNewWindowOperation,\n\t\t\t);\n\t\t}\n\n\t\t// Firefox: requires to set a text data transfer to get going\n\t\tif (!hasDataTransfer && isFirefox) {\n\t\t\te.dataTransfer?.setData(\n\t\t\t\tDataTransfers.TEXT,\n\t\t\t\tString(this.groupView.label),\n\t\t\t);\n\t\t}\n\n\t\t// Drag Image\n\t\tif (this.groupView.activeEditor) {\n\t\t\tlet label = this.groupView.activeEditor.getName();\n\t\t\tif (\n\t\t\t\tthis.groupsView.partOptions.showTabs === \"multiple\" &&\n\t\t\t\tthis.groupView.count > 1\n\t\t\t) {\n\t\t\t\tlabel = localize(\n\t\t\t\t\t\"draggedEditorGroup\",\n\t\t\t\t\t\"{0} (+{1})\",\n\t\t\t\t\tlabel,\n\t\t\t\t\tthis.groupView.count - 1,\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tapplyDragImage(\n\t\t\t\te,\n\t\t\t\tlabel,\n\t\t\t\t\"monaco-editor-group-drag-image\",\n\t\t\t\tthis.getColor(listActiveSelectionBackground),\n\t\t\t\tthis.getColor(listActiveSelectionForeground),\n\t\t\t);\n\t\t}\n\n\t\treturn isNewWindowOperation;\n\t}\n\n\tprotected async onGroupDragEnd(\n\t\te: DragEvent,\n\t\tpreviousDragEvent: DragEvent | undefined,\n\t\telement: HTMLElement,\n\t\tisNewWindowOperation: boolean,\n\t): Promise<void> {\n\t\tthis.groupTransfer.clearData(DraggedEditorGroupIdentifier.prototype);\n\n\t\tif (\n\t\t\te.target !== element ||\n\t\t\t!isNewWindowOperation ||\n\t\t\tisWindowDraggedOver()\n\t\t) {\n\t\t\treturn; // drag to open in new window is disabled\n\t\t}\n\n\t\tconst auxiliaryEditorPart = await this.maybeCreateAuxiliaryEditorPartAt(\n\t\t\te,\n\t\t\telement,\n\t\t);\n\t\tif (!auxiliaryEditorPart) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst targetGroup = auxiliaryEditorPart.activeGroup;\n\t\tthis.groupsView.mergeGroup(this.groupView, targetGroup.id, {\n\t\t\tmode: this.isMoveOperation(previousDragEvent ?? e, targetGroup.id)\n\t\t\t\t? MergeGroupMode.MOVE_EDITORS\n\t\t\t\t: MergeGroupMode.COPY_EDITORS,\n\t\t});\n\n\t\ttargetGroup.focus();\n\t}\n\n\tprotected async maybeCreateAuxiliaryEditorPartAt(\n\t\te: DragEvent,\n\t\toffsetElement: HTMLElement,\n\t): Promise<IAuxiliaryEditorPart | undefined> {\n\t\tconst { point, display } =\n\t\t\t(await this.hostService.getCursorScreenPoint()) ?? {\n\t\t\t\tpoint: { x: e.screenX, y: e.screenY },\n\t\t\t};\n\t\tconst window = getActiveWindow();\n\t\tif (\n\t\t\twindow.document.visibilityState === \"visible\" &&\n\t\t\twindow.document.hasFocus()\n\t\t) {\n\t\t\tif (\n\t\t\t\tpoint.x >= window.screenX &&\n\t\t\t\tpoint.x <= window.screenX + window.outerWidth &&\n\t\t\t\tpoint.y >= window.screenY &&\n\t\t\t\tpoint.y <= window.screenY + window.outerHeight\n\t\t\t) {\n\t\t\t\treturn; // refuse to create as long as the mouse was released over active focused window to reduce chance of opening by accident\n\t\t\t}\n\t\t}\n\n\t\tconst offsetX = offsetElement.offsetWidth / 2;\n\t\tconst offsetY =\n\t\t\t30 /* take title bar height into account (approximation) */ +\n\t\t\toffsetElement.offsetHeight / 2;\n\n\t\tconst bounds = {\n\t\t\tx: point.x - offsetX,\n\t\t\ty: point.y - offsetY,\n\t\t};\n\n\t\tif (display) {\n\t\t\tif (bounds.x < display.x) {\n\t\t\t\tbounds.x = display.x; // prevent overflow to the left\n\t\t\t}\n\n\t\t\tif (bounds.y < display.y) {\n\t\t\t\tbounds.y = display.y; // prevent overflow to the top\n\t\t\t}\n\t\t}\n\n\t\treturn this.editorPartsView.createAuxiliaryEditorPart({ bounds });\n\t}\n\n\tprotected isNewWindowOperation(e: DragEvent): boolean {\n\t\tif (this.groupsView.partOptions.dragToOpenWindow) {\n\t\t\treturn !e.altKey;\n\t\t}\n\n\t\treturn e.altKey;\n\t}\n\n\tprotected isMoveOperation(\n\t\te: DragEvent,\n\t\tsourceGroup: GroupIdentifier,\n\t\tsourceEditor?: EditorInput,\n\t): boolean {\n\t\tif (sourceEditor?.hasCapability(EditorInputCapabilities.Singleton)) {\n\t\t\treturn true; // Singleton editors cannot be split\n\t\t}\n\n\t\tconst isCopy = (e.ctrlKey && !isMacintosh) || (e.altKey && isMacintosh);\n\n\t\treturn !isCopy || sourceGroup === this.groupView.id;\n\t}\n\n\tprotected doFillResourceDataTransfers(\n\t\teditors: readonly EditorInput[],\n\t\te: DragEvent,\n\t\tdisableStandardTransfer: boolean,\n\t): boolean {\n\t\tif (editors.length) {\n\t\t\tthis.instantiationService.invokeFunction(\n\t\t\t\tfillEditorsDragData,\n\t\t\t\teditors.map((editor) => ({\n\t\t\t\t\teditor,\n\t\t\t\t\tgroupId: this.groupView.id,\n\t\t\t\t})),\n\t\t\t\te,\n\t\t\t\t{ disableStandardTransfer },\n\t\t\t);\n\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tprotected onTabContextMenu(\n\t\teditor: EditorInput,\n\t\te: Event,\n\t\tnode: HTMLElement,\n\t): void {\n\t\t// Update contexts based on editor picked and remember previous to restore\n\t\tthis.resourceContext.set(\n\t\t\tEditorResourceAccessor.getOriginalUri(editor, {\n\t\t\t\tsupportSideBySide: SideBySideEditor.PRIMARY,\n\t\t\t}),\n\t\t);\n\t\tthis.editorPinnedContext.set(this.tabsModel.isPinned(editor));\n\t\tthis.editorIsFirstContext.set(this.tabsModel.isFirst(editor));\n\t\tthis.editorIsLastContext.set(this.tabsModel.isLast(editor));\n\t\tthis.editorStickyContext.set(this.tabsModel.isSticky(editor));\n\t\tthis.groupLockedContext.set(this.tabsModel.isLocked);\n\t\tthis.editorCanSplitInGroupContext.set(\n\t\t\teditor.hasCapability(EditorInputCapabilities.CanSplitInGroup),\n\t\t);\n\t\tthis.sideBySideEditorContext.set(\n\t\t\teditor.typeId === SideBySideEditorInput.ID,\n\t\t);\n\t\tapplyAvailableEditorIds(\n\t\t\tthis.editorAvailableEditorIds,\n\t\t\teditor,\n\t\t\tthis.editorResolverService,\n\t\t);\n\n\t\t// Find target anchor\n\t\tlet anchor: HTMLElement | StandardMouseEvent = node;\n\t\tif (isMouseEvent(e)) {\n\t\t\tanchor = new StandardMouseEvent(getWindow(node), e);\n\t\t}\n\n\t\t// Show it\n\t\tthis.contextMenuService.showContextMenu({\n\t\t\tgetAnchor: () => anchor,\n\t\t\tmenuId: MenuId.EditorTitleContext,\n\t\t\tmenuActionOptions: {\n\t\t\t\tshouldForwardArgs: true,\n\t\t\t\targ: this.resourceContext.get(),\n\t\t\t},\n\t\t\tcontextKeyService: this.contextMenuContextKeyService,\n\t\t\tgetActionsContext: () => ({\n\t\t\t\tgroupId: this.groupView.id,\n\t\t\t\teditorIndex: this.groupView.getIndexOfEditor(editor),\n\t\t\t}),\n\t\t\tgetKeyBinding: (action) =>\n\t\t\t\tthis.keybindingService.lookupKeybinding(\n\t\t\t\t\taction.id,\n\t\t\t\t\tthis.contextMenuContextKeyService,\n\t\t\t\t),\n\t\t\tonHide: () => this.groupsView.activeGroup.focus(), // restore focus to active group\n\t\t});\n\t}\n\n\tprotected getKeybinding(action: IAction): ResolvedKeybinding | undefined {\n\t\treturn this.keybindingService.lookupKeybinding(\n\t\t\taction.id,\n\t\t\tthis.getEditorPaneAwareContextKeyService(),\n\t\t);\n\t}\n\n\tprotected getKeybindingLabel(action: IAction): string | undefined {\n\t\tconst keybinding = this.getKeybinding(action);\n\n\t\treturn keybinding ? (keybinding.getLabel() ?? undefined) : undefined;\n\t}\n\n\tprotected get tabHeight() {\n\t\treturn this.groupsView.partOptions.tabHeight !== \"compact\"\n\t\t\t? EditorTabsControl.EDITOR_TAB_HEIGHT.normal\n\t\t\t: EditorTabsControl.EDITOR_TAB_HEIGHT.compact;\n\t}\n\n\tprotected getHoverTitle(\n\t\teditor: EditorInput,\n\t): string | IManagedHoverTooltipMarkdownString {\n\t\tconst title = editor.getTitle(Verbosity.LONG);\n\t\tif (!this.tabsModel.isPinned(editor)) {\n\t\t\treturn {\n\t\t\t\tmarkdown: new MarkdownString(\"\", {\n\t\t\t\t\tsupportThemeIcons: true,\n\t\t\t\t\tisTrusted: true,\n\t\t\t\t})\n\t\t\t\t\t.appendText(title)\n\t\t\t\t\t.appendMarkdown(\n\t\t\t\t\t\t' (_preview_ [$(gear)](command:workbench.action.openSettings?%5B%22workbench.editor.enablePreview%22%5D \"Configure Preview Mode\"))',\n\t\t\t\t\t),\n\t\t\t\tmarkdownNotSupportedFallback: title + \" (preview)\",\n\t\t\t};\n\t\t}\n\t\treturn title;\n\t}\n\n\tprotected getHoverDelegate(): IHoverDelegate {\n\t\treturn this.tabsHoverDelegate;\n\t}\n\n\tprotected updateTabHeight(): void {\n\t\tthis.parent.style.setProperty(\n\t\t\t\"--editor-group-tab-height\",\n\t\t\t`${this.tabHeight}px`,\n\t\t);\n\t}\n\n\tupdateOptions(\n\t\toldOptions: IEditorPartOptions,\n\t\tnewOptions: IEditorPartOptions,\n\t): void {\n\t\t// Update tab height\n\t\tif (oldOptions.tabHeight !== newOptions.tabHeight) {\n\t\t\tthis.updateTabHeight();\n\t\t}\n\n\t\t// Update Editor Actions Toolbar\n\t\tif (\n\t\t\toldOptions.editorActionsLocation !==\n\t\t\t\tnewOptions.editorActionsLocation ||\n\t\t\toldOptions.showTabs !== newOptions.showTabs\n\t\t) {\n\t\t\tif (this.editorActionsToolbarContainer) {\n\t\t\t\tthis.handleEditorActionToolBarVisibility(\n\t\t\t\t\tthis.editorActionsToolbarContainer,\n\t\t\t\t);\n\t\t\t\tthis.updateEditorActionsToolbar();\n\t\t\t}\n\t\t}\n\t}\n\n\tabstract openEditor(editor: EditorInput): boolean;\n\n\tabstract openEditors(editors: EditorInput[]): boolean;\n\n\tabstract beforeCloseEditor(editor: EditorInput): void;\n\n\tabstract closeEditor(editor: EditorInput): void;\n\n\tabstract closeEditors(editors: EditorInput[]): void;\n\n\tabstract moveEditor(\n\t\teditor: EditorInput,\n\t\tfromIndex: number,\n\t\ttargetIndex: number,\n\t): void;\n\n\tabstract pinEditor(editor: EditorInput): void;\n\n\tabstract stickEditor(editor: EditorInput): void;\n\n\tabstract unstickEditor(editor: EditorInput): void;\n\n\tabstract setActive(isActive: boolean): void;\n\n\tabstract updateEditorSelections(): void;\n\n\tabstract updateEditorLabel(editor: EditorInput): void;\n\n\tabstract updateEditorDirty(editor: EditorInput): void;\n\n\tabstract layout(dimensions: IEditorTitleControlDimensions): Dimension;\n\n\tabstract getHeight(): number;\n}\n"],
  "mappings": "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",
  "names": []
}
