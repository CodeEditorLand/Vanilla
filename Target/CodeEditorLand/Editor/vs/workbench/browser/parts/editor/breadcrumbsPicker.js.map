{
  "version": 3,
  "sources": ["../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/browser/parts/editor/breadcrumbsPicker.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { compareFileNames } from '../../../../base/common/comparers.js';\nimport { onUnexpectedError } from '../../../../base/common/errors.js';\nimport { Emitter, Event } from '../../../../base/common/event.js';\nimport { createMatches, FuzzyScore } from '../../../../base/common/filters.js';\nimport * as glob from '../../../../base/common/glob.js';\nimport { IDisposable, DisposableStore, MutableDisposable, Disposable } from '../../../../base/common/lifecycle.js';\nimport { posix, relative } from '../../../../base/common/path.js';\nimport { basename, dirname, isEqual } from '../../../../base/common/resources.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport './media/breadcrumbscontrol.css';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { FileKind, IFileService, IFileStat } from '../../../../platform/files/common/files.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { WorkbenchDataTree, WorkbenchAsyncDataTree } from '../../../../platform/list/browser/listService.js';\nimport { breadcrumbsPickerBackground, widgetBorder, widgetShadow } from '../../../../platform/theme/common/colorRegistry.js';\nimport { isWorkspace, isWorkspaceFolder, IWorkspace, IWorkspaceContextService, IWorkspaceFolder } from '../../../../platform/workspace/common/workspace.js';\nimport { ResourceLabels, IResourceLabel, DEFAULT_LABELS_CONTAINER } from '../../labels.js';\nimport { BreadcrumbsConfig } from './breadcrumbs.js';\nimport { OutlineElement2, FileElement } from './breadcrumbsModel.js';\nimport { IAsyncDataSource, ITreeRenderer, ITreeNode, ITreeFilter, TreeVisibility, ITreeSorter } from '../../../../base/browser/ui/tree/tree.js';\nimport { IIdentityProvider, IListVirtualDelegate, IKeyboardNavigationLabelProvider } from '../../../../base/browser/ui/list/list.js';\nimport { IFileIconTheme, IThemeService } from '../../../../platform/theme/common/themeService.js';\nimport { IListAccessibilityProvider } from '../../../../base/browser/ui/list/listWidget.js';\nimport { localize } from '../../../../nls.js';\nimport { IOutline, IOutlineComparator } from '../../../services/outline/browser/outline.js';\nimport { IEditorOptions } from '../../../../platform/editor/common/editor.js';\nimport { IEditorService, SIDE_GROUP } from '../../../services/editor/common/editorService.js';\nimport { ITextResourceConfigurationService } from '../../../../editor/common/services/textResourceConfiguration.js';\n\ninterface ILayoutInfo {\n\tmaxHeight: number;\n\twidth: number;\n\tarrowSize: number;\n\tarrowOffset: number;\n\tinputHeight: number;\n}\n\ntype Tree<I, E> = WorkbenchDataTree<I, E, FuzzyScore> | WorkbenchAsyncDataTree<I, E, FuzzyScore>;\n\nexport interface SelectEvent {\n\ttarget: any;\n\tbrowserEvent: UIEvent;\n}\n\nexport abstract class BreadcrumbsPicker {\n\n\tprotected readonly _disposables = new DisposableStore();\n\tprotected readonly _domNode: HTMLDivElement;\n\tprotected _arrow!: HTMLDivElement;\n\tprotected _treeContainer!: HTMLDivElement;\n\tprotected _tree!: Tree<any, any>;\n\tprotected _fakeEvent = new UIEvent('fakeEvent');\n\tprotected _layoutInfo!: ILayoutInfo;\n\n\tprotected readonly _onWillPickElement = new Emitter<void>();\n\treadonly onWillPickElement: Event<void> = this._onWillPickElement.event;\n\n\tprivate readonly _previewDispoables = new MutableDisposable();\n\n\tconstructor(\n\t\tparent: HTMLElement,\n\t\tprotected resource: URI,\n\t\t@IInstantiationService protected readonly _instantiationService: IInstantiationService,\n\t\t@IThemeService protected readonly _themeService: IThemeService,\n\t\t@IConfigurationService protected readonly _configurationService: IConfigurationService,\n\t) {\n\t\tthis._domNode = document.createElement('div');\n\t\tthis._domNode.className = 'monaco-breadcrumbs-picker show-file-icons';\n\t\tparent.appendChild(this._domNode);\n\t}\n\n\tdispose(): void {\n\t\tthis._disposables.dispose();\n\t\tthis._previewDispoables.dispose();\n\t\tthis._onWillPickElement.dispose();\n\t\tthis._domNode.remove();\n\t\tsetTimeout(() => this._tree.dispose(), 0); // tree cannot be disposed while being opened...\n\t}\n\n\tasync show(input: any, maxHeight: number, width: number, arrowSize: number, arrowOffset: number): Promise<void> {\n\n\t\tconst theme = this._themeService.getColorTheme();\n\t\tconst color = theme.getColor(breadcrumbsPickerBackground);\n\n\t\tthis._arrow = document.createElement('div');\n\t\tthis._arrow.className = 'arrow';\n\t\tthis._arrow.style.borderColor = `transparent transparent ${color ? color.toString() : ''}`;\n\t\tthis._domNode.appendChild(this._arrow);\n\n\t\tthis._treeContainer = document.createElement('div');\n\t\tthis._treeContainer.style.background = color ? color.toString() : '';\n\t\tthis._treeContainer.style.paddingTop = '2px';\n\t\tthis._treeContainer.style.borderRadius = '3px';\n\t\tthis._treeContainer.style.boxShadow = `0 0 8px 2px ${this._themeService.getColorTheme().getColor(widgetShadow)}`;\n\t\tthis._treeContainer.style.border = `1px solid ${this._themeService.getColorTheme().getColor(widgetBorder)}`;\n\t\tthis._domNode.appendChild(this._treeContainer);\n\n\t\tthis._layoutInfo = { maxHeight, width, arrowSize, arrowOffset, inputHeight: 0 };\n\t\tthis._tree = this._createTree(this._treeContainer, input);\n\n\t\tthis._disposables.add(this._tree.onDidOpen(async e => {\n\t\t\tconst { element, editorOptions, sideBySide } = e;\n\t\t\tconst didReveal = await this._revealElement(element, { ...editorOptions, preserveFocus: false }, sideBySide);\n\t\t\tif (!didReveal) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}));\n\t\tthis._disposables.add(this._tree.onDidChangeFocus(e => {\n\t\t\tthis._previewDispoables.value = this._previewElement(e.elements[0]);\n\t\t}));\n\t\tthis._disposables.add(this._tree.onDidChangeContentHeight(() => {\n\t\t\tthis._layout();\n\t\t}));\n\n\t\tthis._domNode.focus();\n\t\ttry {\n\t\t\tawait this._setInput(input);\n\t\t\tthis._layout();\n\t\t} catch (err) {\n\t\t\tonUnexpectedError(err);\n\t\t}\n\t}\n\n\tprotected _layout(): void {\n\n\t\tconst headerHeight = 2 * this._layoutInfo.arrowSize;\n\t\tconst treeHeight = Math.min(this._layoutInfo.maxHeight - headerHeight, this._tree.contentHeight);\n\t\tconst totalHeight = treeHeight + headerHeight;\n\n\t\tthis._domNode.style.height = `${totalHeight}px`;\n\t\tthis._domNode.style.width = `${this._layoutInfo.width}px`;\n\t\tthis._arrow.style.top = `-${2 * this._layoutInfo.arrowSize}px`;\n\t\tthis._arrow.style.borderWidth = `${this._layoutInfo.arrowSize}px`;\n\t\tthis._arrow.style.marginLeft = `${this._layoutInfo.arrowOffset}px`;\n\t\tthis._treeContainer.style.height = `${treeHeight}px`;\n\t\tthis._treeContainer.style.width = `${this._layoutInfo.width}px`;\n\t\tthis._tree.layout(treeHeight, this._layoutInfo.width);\n\t}\n\n\trestoreViewState(): void { }\n\n\tprotected abstract _setInput(element: FileElement | OutlineElement2): Promise<void>;\n\tprotected abstract _createTree(container: HTMLElement, input: any): Tree<any, any>;\n\tprotected abstract _previewElement(element: any): IDisposable;\n\tprotected abstract _revealElement(element: any, options: IEditorOptions, sideBySide: boolean): Promise<boolean>;\n\n}\n\n//#region - Files\n\nclass FileVirtualDelegate implements IListVirtualDelegate<IFileStat | IWorkspaceFolder> {\n\tgetHeight(_element: IFileStat | IWorkspaceFolder) {\n\t\treturn 22;\n\t}\n\tgetTemplateId(_element: IFileStat | IWorkspaceFolder): string {\n\t\treturn 'FileStat';\n\t}\n}\n\nclass FileIdentityProvider implements IIdentityProvider<IWorkspace | IWorkspaceFolder | IFileStat | URI> {\n\tgetId(element: IWorkspace | IWorkspaceFolder | IFileStat | URI): { toString(): string } {\n\t\tif (URI.isUri(element)) {\n\t\t\treturn element.toString();\n\t\t} else if (isWorkspace(element)) {\n\t\t\treturn element.id;\n\t\t} else if (isWorkspaceFolder(element)) {\n\t\t\treturn element.uri.toString();\n\t\t} else {\n\t\t\treturn element.resource.toString();\n\t\t}\n\t}\n}\n\n\nclass FileDataSource implements IAsyncDataSource<IWorkspace | URI, IWorkspaceFolder | IFileStat> {\n\n\tconstructor(\n\t\t@IFileService private readonly _fileService: IFileService,\n\t) { }\n\n\thasChildren(element: IWorkspace | URI | IWorkspaceFolder | IFileStat): boolean {\n\t\treturn URI.isUri(element)\n\t\t\t|| isWorkspace(element)\n\t\t\t|| isWorkspaceFolder(element)\n\t\t\t|| element.isDirectory;\n\t}\n\n\tasync getChildren(element: IWorkspace | URI | IWorkspaceFolder | IFileStat): Promise<(IWorkspaceFolder | IFileStat)[]> {\n\t\tif (isWorkspace(element)) {\n\t\t\treturn element.folders;\n\t\t}\n\t\tlet uri: URI;\n\t\tif (isWorkspaceFolder(element)) {\n\t\t\turi = element.uri;\n\t\t} else if (URI.isUri(element)) {\n\t\t\turi = element;\n\t\t} else {\n\t\t\turi = element.resource;\n\t\t}\n\t\tconst stat = await this._fileService.resolve(uri);\n\t\treturn stat.children ?? [];\n\t}\n}\n\nclass FileRenderer implements ITreeRenderer<IFileStat | IWorkspaceFolder, FuzzyScore, IResourceLabel> {\n\n\treadonly templateId: string = 'FileStat';\n\n\tconstructor(\n\t\tprivate readonly _labels: ResourceLabels,\n\t\t@IConfigurationService private readonly _configService: IConfigurationService,\n\t) { }\n\n\n\trenderTemplate(container: HTMLElement): IResourceLabel {\n\t\treturn this._labels.create(container, { supportHighlights: true });\n\t}\n\n\trenderElement(node: ITreeNode<IWorkspaceFolder | IFileStat, [number, number, number]>, index: number, templateData: IResourceLabel): void {\n\t\tconst fileDecorations = this._configService.getValue<{ colors: boolean; badges: boolean }>('explorer.decorations');\n\t\tconst { element } = node;\n\t\tlet resource: URI;\n\t\tlet fileKind: FileKind;\n\t\tif (isWorkspaceFolder(element)) {\n\t\t\tresource = element.uri;\n\t\t\tfileKind = FileKind.ROOT_FOLDER;\n\t\t} else {\n\t\t\tresource = element.resource;\n\t\t\tfileKind = element.isDirectory ? FileKind.FOLDER : FileKind.FILE;\n\t\t}\n\t\ttemplateData.setFile(resource, {\n\t\t\tfileKind,\n\t\t\thidePath: true,\n\t\t\tfileDecorations: fileDecorations,\n\t\t\tmatches: createMatches(node.filterData),\n\t\t\textraClasses: ['picker-item']\n\t\t});\n\t}\n\n\tdisposeTemplate(templateData: IResourceLabel): void {\n\t\ttemplateData.dispose();\n\t}\n}\n\nclass FileNavigationLabelProvider implements IKeyboardNavigationLabelProvider<IWorkspaceFolder | IFileStat> {\n\n\tgetKeyboardNavigationLabel(element: IWorkspaceFolder | IFileStat): { toString(): string } {\n\t\treturn element.name;\n\t}\n}\n\nclass FileAccessibilityProvider implements IListAccessibilityProvider<IWorkspaceFolder | IFileStat> {\n\n\tgetWidgetAriaLabel(): string {\n\t\treturn localize('breadcrumbs', \"Breadcrumbs\");\n\t}\n\n\tgetAriaLabel(element: IWorkspaceFolder | IFileStat): string | null {\n\t\treturn element.name;\n\t}\n}\n\nclass FileFilter implements ITreeFilter<IWorkspaceFolder | IFileStat> {\n\n\tprivate readonly _cachedExpressions = new Map<string, glob.ParsedExpression>();\n\tprivate readonly _disposables = new DisposableStore();\n\n\tconstructor(\n\t\t@IWorkspaceContextService private readonly _workspaceService: IWorkspaceContextService,\n\t\t@IConfigurationService configService: IConfigurationService,\n\t) {\n\t\tconst config = BreadcrumbsConfig.FileExcludes.bindTo(configService);\n\t\tconst update = () => {\n\t\t\t_workspaceService.getWorkspace().folders.forEach(folder => {\n\t\t\t\tconst excludesConfig = config.getValue({ resource: folder.uri });\n\t\t\t\tif (!excludesConfig) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t// adjust patterns to be absolute in case they aren't\n\t\t\t\t// free floating (**/)\n\t\t\t\tconst adjustedConfig: glob.IExpression = {};\n\t\t\t\tfor (const pattern in excludesConfig) {\n\t\t\t\t\tif (typeof excludesConfig[pattern] !== 'boolean') {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tconst patternAbs = pattern.indexOf('**/') !== 0\n\t\t\t\t\t\t? posix.join(folder.uri.path, pattern)\n\t\t\t\t\t\t: pattern;\n\n\t\t\t\t\tadjustedConfig[patternAbs] = excludesConfig[pattern];\n\t\t\t\t}\n\t\t\t\tthis._cachedExpressions.set(folder.uri.toString(), glob.parse(adjustedConfig));\n\t\t\t});\n\t\t};\n\t\tupdate();\n\t\tthis._disposables.add(config);\n\t\tthis._disposables.add(config.onDidChange(update));\n\t\tthis._disposables.add(_workspaceService.onDidChangeWorkspaceFolders(update));\n\t}\n\n\tdispose(): void {\n\t\tthis._disposables.dispose();\n\t}\n\n\tfilter(element: IWorkspaceFolder | IFileStat, _parentVisibility: TreeVisibility): boolean {\n\t\tif (isWorkspaceFolder(element)) {\n\t\t\t// not a file\n\t\t\treturn true;\n\t\t}\n\t\tconst folder = this._workspaceService.getWorkspaceFolder(element.resource);\n\t\tif (!folder || !this._cachedExpressions.has(folder.uri.toString())) {\n\t\t\t// no folder or no filer\n\t\t\treturn true;\n\t\t}\n\n\t\tconst expression = this._cachedExpressions.get(folder.uri.toString())!;\n\t\treturn !expression(relative(folder.uri.path, element.resource.path), basename(element.resource));\n\t}\n}\n\n\nexport class FileSorter implements ITreeSorter<IFileStat | IWorkspaceFolder> {\n\tcompare(a: IFileStat | IWorkspaceFolder, b: IFileStat | IWorkspaceFolder): number {\n\t\tif (isWorkspaceFolder(a) && isWorkspaceFolder(b)) {\n\t\t\treturn a.index - b.index;\n\t\t}\n\t\tif ((a as IFileStat).isDirectory === (b as IFileStat).isDirectory) {\n\t\t\t// same type -> compare on names\n\t\t\treturn compareFileNames(a.name, b.name);\n\t\t} else if ((a as IFileStat).isDirectory) {\n\t\t\treturn -1;\n\t\t} else {\n\t\t\treturn 1;\n\t\t}\n\t}\n}\n\nexport class BreadcrumbsFilePicker extends BreadcrumbsPicker {\n\n\tconstructor(\n\t\tparent: HTMLElement,\n\t\tresource: URI,\n\t\t@IInstantiationService instantiationService: IInstantiationService,\n\t\t@IThemeService themeService: IThemeService,\n\t\t@IConfigurationService configService: IConfigurationService,\n\t\t@IWorkspaceContextService private readonly _workspaceService: IWorkspaceContextService,\n\t\t@IEditorService private readonly _editorService: IEditorService,\n\t) {\n\t\tsuper(parent, resource, instantiationService, themeService, configService);\n\t}\n\n\tprotected _createTree(container: HTMLElement) {\n\n\t\t// tree icon theme specials\n\t\tthis._treeContainer.classList.add('file-icon-themable-tree');\n\t\tthis._treeContainer.classList.add('show-file-icons');\n\t\tconst onFileIconThemeChange = (fileIconTheme: IFileIconTheme) => {\n\t\t\tthis._treeContainer.classList.toggle('align-icons-and-twisties', fileIconTheme.hasFileIcons && !fileIconTheme.hasFolderIcons);\n\t\t\tthis._treeContainer.classList.toggle('hide-arrows', fileIconTheme.hidesExplorerArrows === true);\n\t\t};\n\t\tthis._disposables.add(this._themeService.onDidFileIconThemeChange(onFileIconThemeChange));\n\t\tonFileIconThemeChange(this._themeService.getFileIconTheme());\n\n\t\tconst labels = this._instantiationService.createInstance(ResourceLabels, DEFAULT_LABELS_CONTAINER /* TODO@Jo visibility propagation */);\n\t\tthis._disposables.add(labels);\n\n\t\treturn <WorkbenchAsyncDataTree<IWorkspace | URI, IWorkspaceFolder | IFileStat, FuzzyScore>>this._instantiationService.createInstance(\n\t\t\tWorkbenchAsyncDataTree,\n\t\t\t'BreadcrumbsFilePicker',\n\t\t\tcontainer,\n\t\t\tnew FileVirtualDelegate(),\n\t\t\t[this._instantiationService.createInstance(FileRenderer, labels)],\n\t\t\tthis._instantiationService.createInstance(FileDataSource),\n\t\t\t{\n\t\t\t\tmultipleSelectionSupport: false,\n\t\t\t\tsorter: new FileSorter(),\n\t\t\t\tfilter: this._instantiationService.createInstance(FileFilter),\n\t\t\t\tidentityProvider: new FileIdentityProvider(),\n\t\t\t\tkeyboardNavigationLabelProvider: new FileNavigationLabelProvider(),\n\t\t\t\taccessibilityProvider: this._instantiationService.createInstance(FileAccessibilityProvider),\n\t\t\t\tshowNotFoundMessage: false,\n\t\t\t\toverrideStyles: {\n\t\t\t\t\tlistBackground: breadcrumbsPickerBackground\n\t\t\t\t},\n\t\t\t});\n\t}\n\n\tprotected async _setInput(element: FileElement | OutlineElement2): Promise<void> {\n\t\tconst { uri, kind } = (element as FileElement);\n\t\tlet input: IWorkspace | URI;\n\t\tif (kind === FileKind.ROOT_FOLDER) {\n\t\t\tinput = this._workspaceService.getWorkspace();\n\t\t} else {\n\t\t\tinput = dirname(uri);\n\t\t}\n\n\t\tconst tree = this._tree as WorkbenchAsyncDataTree<IWorkspace | URI, IWorkspaceFolder | IFileStat, FuzzyScore>;\n\t\tawait tree.setInput(input);\n\t\tlet focusElement: IWorkspaceFolder | IFileStat | undefined;\n\t\tfor (const { element } of tree.getNode().children) {\n\t\t\tif (isWorkspaceFolder(element) && isEqual(element.uri, uri)) {\n\t\t\t\tfocusElement = element;\n\t\t\t\tbreak;\n\t\t\t} else if (isEqual((element as IFileStat).resource, uri)) {\n\t\t\t\tfocusElement = element as IFileStat;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (focusElement) {\n\t\t\ttree.reveal(focusElement, 0.5);\n\t\t\ttree.setFocus([focusElement], this._fakeEvent);\n\t\t}\n\t\ttree.domFocus();\n\t}\n\n\tprotected _previewElement(_element: any): IDisposable {\n\t\treturn Disposable.None;\n\t}\n\n\tprotected async _revealElement(element: IFileStat | IWorkspaceFolder, options: IEditorOptions, sideBySide: boolean): Promise<boolean> {\n\t\tif (!isWorkspaceFolder(element) && element.isFile) {\n\t\t\tthis._onWillPickElement.fire();\n\t\t\tawait this._editorService.openEditor({ resource: element.resource, options }, sideBySide ? SIDE_GROUP : undefined);\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n}\n//#endregion\n\n//#region - Outline\n\nclass OutlineTreeSorter<E> implements ITreeSorter<E> {\n\n\tprivate _order: 'name' | 'type' | 'position';\n\n\tconstructor(\n\t\tprivate comparator: IOutlineComparator<E>,\n\t\turi: URI | undefined,\n\t\t@ITextResourceConfigurationService configService: ITextResourceConfigurationService,\n\t) {\n\t\tthis._order = configService.getValue(uri, 'breadcrumbs.symbolSortOrder');\n\t}\n\n\tcompare(a: E, b: E): number {\n\t\tif (this._order === 'name') {\n\t\t\treturn this.comparator.compareByName(a, b);\n\t\t} else if (this._order === 'type') {\n\t\t\treturn this.comparator.compareByType(a, b);\n\t\t} else {\n\t\t\treturn this.comparator.compareByPosition(a, b);\n\t\t}\n\t}\n}\n\nexport class BreadcrumbsOutlinePicker extends BreadcrumbsPicker {\n\n\tprotected _createTree(container: HTMLElement, input: OutlineElement2) {\n\n\t\tconst { config } = input.outline;\n\n\t\treturn <WorkbenchDataTree<IOutline<any>, any, FuzzyScore>>this._instantiationService.createInstance(\n\t\t\tWorkbenchDataTree,\n\t\t\t'BreadcrumbsOutlinePicker',\n\t\t\tcontainer,\n\t\t\tconfig.delegate,\n\t\t\tconfig.renderers,\n\t\t\tconfig.treeDataSource,\n\t\t\t{\n\t\t\t\t...config.options,\n\t\t\t\tsorter: this._instantiationService.createInstance(OutlineTreeSorter, config.comparator, undefined),\n\t\t\t\tcollapseByDefault: true,\n\t\t\t\texpandOnlyOnTwistieClick: true,\n\t\t\t\tmultipleSelectionSupport: false,\n\t\t\t\tshowNotFoundMessage: false\n\t\t\t}\n\t\t);\n\t}\n\n\tprotected _setInput(input: OutlineElement2): Promise<void> {\n\n\t\tconst viewState = input.outline.captureViewState();\n\t\tthis.restoreViewState = () => { viewState.dispose(); };\n\n\t\tconst tree = this._tree as WorkbenchDataTree<IOutline<any>, any, FuzzyScore>;\n\n\t\ttree.setInput(input.outline);\n\t\tif (input.element !== input.outline) {\n\t\t\ttree.reveal(input.element, 0.5);\n\t\t\ttree.setFocus([input.element], this._fakeEvent);\n\t\t}\n\t\ttree.domFocus();\n\n\t\treturn Promise.resolve();\n\t}\n\n\tprotected _previewElement(element: any): IDisposable {\n\t\tconst outline: IOutline<any> = this._tree.getInput();\n\t\treturn outline.preview(element);\n\t}\n\n\tprotected async _revealElement(element: any, options: IEditorOptions, sideBySide: boolean): Promise<boolean> {\n\t\tthis._onWillPickElement.fire();\n\t\tconst outline: IOutline<any> = this._tree.getInput();\n\t\tawait outline.reveal(element, options, sideBySide, false);\n\t\treturn true;\n\t}\n}\n\n//#endregion\n"],
  "mappings": "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",
  "names": ["element"]
}
