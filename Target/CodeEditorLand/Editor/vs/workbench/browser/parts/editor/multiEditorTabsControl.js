var ct=Object.defineProperty;var pt=Object.getOwnPropertyDescriptor;var Q=(f,h,t,e)=>{for(var o=e>1?void 0:e?pt(h,t):h,r=f.length-1,a;r>=0;r--)(a=f[r])&&(o=(e?a(h,t,o):a(o))||o);return e&&o&&ct(h,t,o),o},S=(f,h)=>(t,e)=>h(t,e,f);import"./media/multieditortabscontrol.css";import{isSafari as ut}from"../../../../base/browser/browser.js";import{applyDragImage as bt}from"../../../../base/browser/dnd.js";import{addDisposableListener as E,clearNode as ht,Dimension as B,DragAndDropObserver as Z,EventHelper as A,EventType as m,findParentWithClass as ft,getWindow as U,isMouseEvent as N,scheduleAtNextAnimationFrame as J}from"../../../../base/browser/dom.js";import{StandardKeyboardEvent as tt}from"../../../../base/browser/keyboardEvent.js";import{StandardMouseEvent as gt}from"../../../../base/browser/mouseEvent.js";import{Gesture as et,EventType as _}from"../../../../base/browser/touch.js";import{ActionBar as Et}from"../../../../base/browser/ui/actionbar/actionbar.js";import{ScrollableElement as vt}from"../../../../base/browser/ui/scrollbar/scrollableElement.js";import{coalesce as mt,insert as Tt}from"../../../../base/common/arrays.js";import{RunOnceScheduler as Lt}from"../../../../base/common/async.js";import"../../../../base/common/color.js";import{BugIndicatingError as it}from"../../../../base/common/errors.js";import{KeyCode as y}from"../../../../base/common/keyCodes.js";import{shorten as yt}from"../../../../base/common/labels.js";import{combinedDisposable as ot,DisposableStore as rt,dispose as G,MutableDisposable as St,toDisposable as Dt}from"../../../../base/common/lifecycle.js";import{getOrSet as K}from"../../../../base/common/map.js";import{equals as At}from"../../../../base/common/objects.js";import{posix as wt,win32 as It}from"../../../../base/common/path.js";import{isLinux as Ct,isMacintosh as H,isWindows as Mt}from"../../../../base/common/platform.js";import{basenameOrAuthority as Rt}from"../../../../base/common/resources.js";import{ScrollbarVisibility as st}from"../../../../base/common/scrollable.js";import{assertAllDefined as z,assertIsDefined as R}from"../../../../base/common/types.js";import{DraggedTreeItemsIdentifier as $}from"../../../../editor/common/services/treeViewsDnd.js";import{ITreeViewsDnDService as kt}from"../../../../editor/common/services/treeViewsDndService.js";import{localize as Ot}from"../../../../nls.js";import{MenuId as Vt}from"../../../../platform/actions/common/actions.js";import{IContextKeyService as Bt}from"../../../../platform/contextkey/common/contextkey.js";import{IContextMenuService as _t}from"../../../../platform/contextview/browser/contextView.js";import{EditorActivation as Ht}from"../../../../platform/editor/common/editor.js";import{IInstantiationService as xt}from"../../../../platform/instantiation/common/instantiation.js";import{IKeybindingService as Wt}from"../../../../platform/keybinding/common/keybinding.js";import{INotificationService as Ut}from"../../../../platform/notification/common/notification.js";import{IQuickInputService as Nt}from"../../../../platform/quickinput/common/quickInput.js";import{activeContrastBorder as at,contrastBorder as j,editorBackground as zt,listActiveSelectionBackground as Pt,listActiveSelectionForeground as Ft}from"../../../../platform/theme/common/colorRegistry.js";import{isHighContrast as nt}from"../../../../platform/theme/common/theme.js";import{IThemeService as Gt,registerThemingParticipant as Kt}from"../../../../platform/theme/common/themeService.js";import{DEFAULT_EDITOR_ASSOCIATION as $t,EditorCloseMethod as jt,EditorInputCapabilities as Xt,EditorResourceAccessor as dt,EditorsOrder as P,preventEditorClose as qt,SideBySideEditor as lt,Verbosity as O}from"../../../common/editor.js";import"../../../common/editor/editorGroupModel.js";import"../../../common/editor/editorInput.js";import{StickyEditorGroupModel as Yt,UnstickyEditorGroupModel as Qt}from"../../../common/editor/filteredEditorGroupModel.js";import{EDITOR_DRAG_AND_DROP_BACKGROUND as Zt,EDITOR_GROUP_HEADER_TABS_BACKGROUND as Jt,EDITOR_GROUP_HEADER_TABS_BORDER as te,TAB_ACTIVE_BACKGROUND as ee,TAB_ACTIVE_BORDER as ie,TAB_ACTIVE_BORDER_TOP as oe,TAB_ACTIVE_MODIFIED_BORDER as re,TAB_BORDER as X,TAB_HOVER_BACKGROUND as se,TAB_HOVER_BORDER as ae,TAB_HOVER_FOREGROUND as ne,TAB_INACTIVE_BACKGROUND as de,TAB_INACTIVE_MODIFIED_BORDER as le,TAB_LAST_PINNED_BORDER as ce,TAB_SELECTED_BORDER_TOP as pe,TAB_UNFOCUSED_ACTIVE_BACKGROUND as ue,TAB_UNFOCUSED_ACTIVE_BORDER as be,TAB_UNFOCUSED_ACTIVE_BORDER_TOP as he,TAB_UNFOCUSED_ACTIVE_MODIFIED_BORDER as fe,TAB_UNFOCUSED_HOVER_BACKGROUND as ge,TAB_UNFOCUSED_HOVER_BORDER as Ee,TAB_UNFOCUSED_HOVER_FOREGROUND as ve,TAB_UNFOCUSED_INACTIVE_BACKGROUND as me,TAB_UNFOCUSED_INACTIVE_MODIFIED_BORDER as Te,WORKBENCH_BACKGROUND as Le}from"../../../common/theme.js";import{MergeGroupMode as ye}from"../../../services/editor/common/editorGroupsService.js";import{IEditorResolverService as Se}from"../../../services/editor/common/editorResolverService.js";import{IEditorService as De}from"../../../services/editor/common/editorService.js";import{IHostService as Ae}from"../../../services/host/browser/host.js";import{IPathService as we}from"../../../services/path/common/pathService.js";import{DraggedEditorGroupIdentifier as x,DraggedEditorIdentifier as w,extractTreeDropData as Ie,isWindowDraggedOver as Ce,ResourcesDropHandler as Me}from"../../dnd.js";import{computeEditorAriaLabel as Re}from"../../editor.js";import{DEFAULT_LABELS_CONTAINER as ke,ResourceLabels as Oe}from"../../labels.js";import"./editor.js";import{CloseEditorTabAction as q,UnpinEditorAction as Y}from"./editorActions.js";import{UNLOCK_GROUP_COMMAND_ID as Ve}from"./editorCommands.js";import{EditorCommandsContextActionRunner as Be,EditorTabsControl as _e}from"./editorTabsControl.js";import"./editorTitleControl.js";let T=class extends _e{constructor(t,e,o,r,a,i,n,l,c,s,d,p,u,b,g,C,D){super(t,e,o,r,a,i,n,l,c,s,d,p,C,D);this.editorService=u;this.pathService=b;this.treeViewsDragAndDropService=g;(async()=>this.path=await this.pathService.path)(),this._register(this.tabResourceLabels.onDidChangeDecorations(()=>this.doHandleDecorationsChange()))}static SCROLLBAR_SIZES={default:3,large:10};static TAB_WIDTH={compact:38,shrink:80,fit:120};static DRAG_OVER_OPEN_TAB_THRESHOLD=1500;static MOUSE_WHEEL_EVENT_THRESHOLD=150;static MOUSE_WHEEL_DISTANCE_THRESHOLD=1.5;titleContainer;tabsAndActionsContainer;tabsContainer;tabsScrollbar;tabSizingFixedDisposables;closeEditorAction=this._register(this.instantiationService.createInstance(q,q.ID,q.LABEL));unpinEditorAction=this._register(this.instantiationService.createInstance(Y,Y.ID,Y.LABEL));tabResourceLabels=this._register(this.instantiationService.createInstance(Oe,ke));tabLabels=[];activeTabLabel;tabActionBars=[];tabDisposables=[];dimensions={container:B.None,available:B.None};layoutScheduler=this._register(new St);blockRevealActiveTab;path=Mt?It:wt;lastMouseWheelEventTime=0;isMouseOverTabs=!1;create(t){super.create(t),this.titleContainer=t,this.tabsAndActionsContainer=document.createElement("div"),this.tabsAndActionsContainer.classList.add("tabs-and-actions-container"),this.titleContainer.appendChild(this.tabsAndActionsContainer),this.tabsContainer=document.createElement("div"),this.tabsContainer.setAttribute("role","tablist"),this.tabsContainer.draggable=!0,this.tabsContainer.classList.add("tabs-container"),this._register(et.addTarget(this.tabsContainer)),this.tabSizingFixedDisposables=this._register(new rt),this.updateTabSizing(!1),this.tabsScrollbar=this.createTabsScrollbar(this.tabsContainer),this.tabsAndActionsContainer.appendChild(this.tabsScrollbar.getDomNode()),this.registerTabsContainerListeners(this.tabsContainer,this.tabsScrollbar),this.createEditorActionsToolBar(this.tabsAndActionsContainer,["editor-actions"]),this.updateTabsControlVisibility()}createTabsScrollbar(t){const e=this._register(new vt(t,{horizontal:st.Auto,horizontalScrollbarSize:this.getTabsScrollbarSizing(),vertical:st.Hidden,scrollYToX:!0,useShadows:!1}));return this._register(e.onScroll(o=>{o.scrollLeftChanged&&(t.scrollLeft=o.scrollLeft)})),e}updateTabsScrollbarSizing(){this.tabsScrollbar?.updateOptions({horizontalScrollbarSize:this.getTabsScrollbarSizing()})}updateTabSizing(t){const[e,o]=z(this.tabsContainer,this.tabSizingFixedDisposables);o.clear();const r=this.groupsView.partOptions;r.tabSizing==="fixed"?(e.style.setProperty("--tab-sizing-fixed-min-width",`${r.tabSizingFixedMinWidth}px`),e.style.setProperty("--tab-sizing-fixed-max-width",`${r.tabSizingFixedMaxWidth}px`),o.add(E(e,m.MOUSE_ENTER,()=>{this.isMouseOverTabs=!0})),o.add(E(e,m.MOUSE_LEAVE,()=>{this.isMouseOverTabs=!1,this.updateTabsFixedWidth(!1)}))):t&&(e.style.removeProperty("--tab-sizing-fixed-min-width"),e.style.removeProperty("--tab-sizing-fixed-max-width"),this.updateTabsFixedWidth(!1))}updateTabsFixedWidth(t){this.forEachTab((e,o,r)=>{if(t){const{width:a}=r.getBoundingClientRect();r.style.setProperty("--tab-sizing-current-width",`${a}px`)}else r.style.removeProperty("--tab-sizing-current-width")})}getTabsScrollbarSizing(){return this.groupsView.partOptions.titleScrollbarSizing!=="large"?T.SCROLLBAR_SIZES.default:T.SCROLLBAR_SIZES.large}registerTabsContainerListeners(t,e){this._register(E(t,m.SCROLL,()=>{t.classList.contains("scroll")&&e.setScrollPosition({scrollLeft:t.scrollLeft})}));for(const i of[_.Tap,m.DBLCLICK])this._register(E(t,i,n=>{if(i===m.DBLCLICK){if(n.target!==t)return}else if(n.tapCount!==2||n.initialTarget!==t)return;A.stop(n),this.editorService.openEditor({resource:void 0,options:{pinned:!0,index:this.groupView.count,override:$t.id}},this.groupView.id)}));this._register(E(t,m.MOUSE_DOWN,i=>{i.button===1&&i.preventDefault()})),Ct&&this._register(E(t,m.MOUSE_UP,i=>{i.button===1&&i.preventDefault()}));let o,r=!1;this._register(new Z(t,{onDragStart:i=>{r=this.onGroupDragStart(i,t)},onDrag:i=>{o=i},onDragEnter:i=>{if(t.classList.add("scroll"),i.target===t){if(!this.isSupportedDropTransfer(i)){i.dataTransfer&&(i.dataTransfer.dropEffect="none");return}this.editorTransfer.hasData(w.prototype)||i.dataTransfer&&(i.dataTransfer.dropEffect="copy"),this.updateDropFeedback(t,!0,i)}},onDragLeave:i=>{this.updateDropFeedback(t,!1,i),t.classList.remove("scroll")},onDragEnd:i=>{this.updateDropFeedback(t,!1,i),t.classList.remove("scroll"),this.onGroupDragEnd(i,o,t,r)},onDrop:i=>{if(this.updateDropFeedback(t,!1,i),t.classList.remove("scroll"),i.target===t){const n=this.groupTransfer.hasData(x.prototype);this.onDrop(i,n?this.groupView.count:this.tabsModel.count,t)}}})),this._register(E(t,m.MOUSE_WHEEL,i=>{const n=this.groupView.activeEditor;if(!n||this.groupView.count<2)return;if(this.groupsView.partOptions.scrollToSwitchTabs===!0){if(i.shiftKey)return}else if(!i.shiftKey)return;const l=Date.now();if(l-this.lastMouseWheelEventTime<T.MOUSE_WHEEL_EVENT_THRESHOLD-2*(Math.abs(i.deltaX)+Math.abs(i.deltaY)))return;this.lastMouseWheelEventTime=l;let c;if(i.deltaX+i.deltaY<-T.MOUSE_WHEEL_DISTANCE_THRESHOLD)c=-1;else if(i.deltaX+i.deltaY>T.MOUSE_WHEEL_DISTANCE_THRESHOLD)c=1;else return;const s=this.groupView.getEditorByIndex(this.groupView.getIndexOfEditor(n)+c);s&&(this.groupView.openEditor(s),A.stop(i,!0))}));const a=i=>{A.stop(i);let n=t;N(i)&&(n=new gt(U(this.parent),i)),this.contextMenuService.showContextMenu({getAnchor:()=>n,menuId:Vt.EditorTabsBarContext,contextKeyService:this.contextKeyService,menuActionOptions:{shouldForwardArgs:!0},getActionsContext:()=>({groupId:this.groupView.id}),getKeyBinding:l=>this.getKeybinding(l),onHide:()=>this.groupView.focus()})};this._register(E(t,_.Contextmenu,i=>a(i))),this._register(E(t,m.CONTEXT_MENU,i=>a(i)))}doHandleDecorationsChange(){this.layout(this.dimensions)}updateEditorActionsToolbar(){super.updateEditorActionsToolbar(),this.layout(this.dimensions)}openEditor(t,e){const o=this.handleOpenedEditors();return e?.focusTabControl&&this.withTab(t,(r,a,i)=>i.focus()),o}openEditors(t){return this.handleOpenedEditors()}handleOpenedEditors(){this.updateTabsControlVisibility();const[t,e]=z(this.tabsContainer,this.tabsScrollbar);for(let n=t.children.length;n<this.tabsModel.count;n++)t.appendChild(this.createTab(n,t,e));const o=this.didActiveEditorChange(),r=this.activeTabLabel,a=this.tabLabels.length;this.computeTabLabels();let i=!1;return o||a!==this.tabLabels.length||!this.equalsEditorInputLabel(r,this.activeTabLabel)?(this.redraw({forceRevealActiveTab:!0}),i=!0):this.layout(this.dimensions,{forceRevealActiveTab:!0}),i}didActiveEditorChange(){return!!(!this.activeTabLabel?.editor&&this.tabsModel.activeEditor||this.activeTabLabel?.editor&&!this.tabsModel.activeEditor||!this.activeTabLabel?.editor||!this.tabsModel.isActive(this.activeTabLabel.editor))}equalsEditorInputLabel(t,e){return t===e?!0:!t||!e?!1:t.name===e.name&&t.description===e.description&&t.forceDescription===e.forceDescription&&t.title===e.title&&t.ariaLabel===e.ariaLabel}beforeCloseEditor(t){if(this.isMouseOverTabs&&this.groupsView.partOptions.tabSizing==="fixed"){const e=this.tabsModel.isLast(t);this.updateTabsFixedWidth(!e)}}closeEditor(t){this.handleClosedEditors()}closeEditors(t){this.handleClosedEditors()}handleClosedEditors(){if(this.tabsModel.count){const t=R(this.tabsContainer);for(;t.children.length>this.tabsModel.count;)t.lastChild?.remove(),G(this.tabDisposables.pop());this.computeTabLabels(),this.redraw({forceRevealActiveTab:!0})}else this.tabsContainer&&ht(this.tabsContainer),this.tabDisposables=G(this.tabDisposables),this.tabResourceLabels.clear(),this.tabLabels=[],this.activeTabLabel=void 0,this.tabActionBars=[],this.clearEditorActionsToolbar(),this.updateTabsControlVisibility()}moveEditor(t,e,o){const r=this.tabLabels[e];this.tabLabels.splice(e,1),this.tabLabels.splice(o,0,r),this.forEachTab((a,i,n,l,c,s)=>{this.redrawTab(a,i,n,l,c,s)},Math.min(e,o),Math.max(e,o)),this.layout(this.dimensions,{forceRevealActiveTab:!0})}pinEditor(t){this.withTab(t,(e,o,r,a,i)=>this.redrawTabLabel(e,o,r,a,i))}stickEditor(t){this.doHandleStickyEditorChange(t)}unstickEditor(t){this.doHandleStickyEditorChange(t)}doHandleStickyEditorChange(t){this.withTab(t,(e,o,r,a,i,n)=>this.redrawTab(e,o,r,a,i,n)),this.forEachTab((e,o,r,a,i)=>{this.redrawTabBorders(o,r)}),this.layout(this.dimensions,{forceRevealActiveTab:!0})}setActive(t){this.forEachTab((e,o,r,a,i,n)=>{this.redrawTabSelectedActiveAndDirty(t,e,r,n)}),this.updateEditorActionsToolbar(),this.layout(this.dimensions,{forceRevealActiveTab:!0})}updateEditorSelections(){this.forEachTab((t,e,o,r,a,i)=>{this.redrawTabSelectedActiveAndDirty(this.groupsView.activeGroup===this.groupView,t,o,i)})}updateEditorLabelScheduler=this._register(new Lt(()=>this.doUpdateEditorLabels(),0));updateEditorLabel(t){this.updateEditorLabelScheduler.schedule()}doUpdateEditorLabels(){this.computeTabLabels(),this.forEachTab((t,e,o,r,a)=>{this.redrawTabLabel(t,e,o,r,a)}),this.layout(this.dimensions)}updateEditorDirty(t){this.withTab(t,(e,o,r,a,i,n)=>this.redrawTabSelectedActiveAndDirty(this.groupsView.activeGroup===this.groupView,e,r,n))}updateOptions(t,e){super.updateOptions(t,e),t.labelFormat!==e.labelFormat&&this.computeTabLabels(),t.titleScrollbarSizing!==e.titleScrollbarSizing&&this.updateTabsScrollbarSizing(),t.alwaysShowEditorActions!==e.alwaysShowEditorActions&&this.updateEditorActionsToolbar(),(t.tabSizingFixedMinWidth!==e.tabSizingFixedMinWidth||t.tabSizingFixedMaxWidth!==e.tabSizingFixedMaxWidth||t.tabSizing!==e.tabSizing)&&this.updateTabSizing(!0),(t.labelFormat!==e.labelFormat||t.tabActionLocation!==e.tabActionLocation||t.tabActionCloseVisibility!==e.tabActionCloseVisibility||t.tabActionUnpinVisibility!==e.tabActionUnpinVisibility||t.tabSizing!==e.tabSizing||t.pinnedTabSizing!==e.pinnedTabSizing||t.showIcons!==e.showIcons||t.hasIcons!==e.hasIcons||t.highlightModifiedTabs!==e.highlightModifiedTabs||t.wrapTabs!==e.wrapTabs||!At(t.decorations,e.decorations))&&this.redraw()}updateStyles(){this.redraw()}forEachTab(t,e,o){this.tabsModel.getEditors(P.SEQUENTIAL).forEach((r,a)=>{typeof e=="number"&&e>a||typeof o=="number"&&o<a||this.doWithTab(a,r,t)})}withTab(t,e){this.doWithTab(this.tabsModel.indexOf(t),t,e)}doWithTab(t,e,o){const a=R(this.tabsContainer).children[t],i=this.tabResourceLabels.get(t),n=this.tabLabels[t],l=this.tabActionBars[t];a&&i&&n&&o(e,t,a,i,n,l)}createTab(t,e,o){const r=document.createElement("div");r.draggable=!0,r.setAttribute("role","tab"),r.classList.add("tab"),this._register(et.addTarget(r));const a=document.createElement("div");a.classList.add("tab-border-top-container"),r.appendChild(a);const i=this.tabResourceLabels.create(r,{hoverDelegate:this.getHoverDelegate()}),n=document.createElement("div");n.classList.add("tab-actions"),r.appendChild(n);const l=this,c=new Be({groupId:this.groupView.id,get editorIndex(){return l.toEditorIndex(t)}}),s=new Et(n,{ariaLabel:Ot("ariaLabelTabActions","Tab actions"),actionRunner:c}),d=s.onWillRun(C=>{C.action.id===this.closeEditorAction.id&&this.blockRevealActiveTabOnce()}),p=ot(s,d,Dt(Tt(this.tabActionBars,s))),u=document.createElement("div");u.classList.add("tab-fade-hider"),r.appendChild(u);const b=document.createElement("div");b.classList.add("tab-border-bottom-container"),r.appendChild(b);const g=this.registerTabListeners(r,t,e,o);return this.tabDisposables.push(ot(g,p,c,i)),r}toEditorIndex(t){const e=R(this.tabsModel.getEditorByIndex(t));return this.groupView.getIndexOfEditor(e)}lastSingleSelectSelectedEditor;registerTabListeners(t,e,o,r){const a=new rt,i=async(s,d)=>{if(t.blur(),N(s)&&(s.button!==0||H&&s.ctrlKey)){s.button===1&&s.preventDefault();return}if(this.originatesFromTabActionBar(s))return;const p=this.tabsModel.getEditorByIndex(e);if(p)if(s.shiftKey){let u;if(this.lastSingleSelectSelectedEditor&&this.tabsModel.isSelected(this.lastSingleSelectSelectedEditor))u=this.lastSingleSelectSelectedEditor;else{const b=R(this.groupView.activeEditor);this.lastSingleSelectSelectedEditor=b,u=b}await this.selectEditorsBetween(p,u)}else if(s.ctrlKey&&!H||s.metaKey&&H)this.tabsModel.isSelected(p)?await this.unselectEditor(p):(await this.selectEditor(p),this.lastSingleSelectSelectedEditor=p);else{const u=this.tabsModel.isSelected(p)?this.groupView.selectedEditors.filter(b=>!b.matches(p)):[];await this.groupView.openEditor(p,{preserveFocus:d,activation:Ht.ACTIVATE},{inactiveSelection:u,focusTabControl:!0})}},n=s=>{A.stop(s);const d=this.tabsModel.getEditorByIndex(e);d&&this.onTabContextMenu(d,s,t)};a.add(E(t,m.MOUSE_DOWN,s=>i(s,!1))),a.add(E(t,_.Tap,s=>i(s,!0))),a.add(E(t,_.Change,s=>{r.setScrollPosition({scrollLeft:r.getScrollPosition().scrollLeft-s.translationX})})),a.add(E(t,m.MOUSE_UP,async s=>{if(A.stop(s),t.blur(),N(s)&&(s.button!==0||H&&s.ctrlKey)||this.originatesFromTabActionBar(s))return;!(s.ctrlKey&&!H||s.metaKey&&H)&&!s.shiftKey&&this.groupView.selectedEditors.length>1&&await this.unselectAllEditors()})),a.add(E(t,m.AUXCLICK,s=>{if(s.button===1){A.stop(s,!0);const d=this.tabsModel.getEditorByIndex(e);if(d){if(qt(this.tabsModel,d,jt.MOUSE,this.groupsView.partOptions))return;this.blockRevealActiveTabOnce(),this.closeEditorAction.run({groupId:this.groupView.id,editorIndex:this.groupView.getIndexOfEditor(d)})}}})),a.add(E(t,m.KEY_DOWN,s=>{const d=new tt(s);d.shiftKey&&d.keyCode===y.F10&&n(s)})),a.add(E(t,_.Contextmenu,s=>{n(s)})),a.add(E(t,m.KEY_UP,s=>{const d=new tt(s);let p=!1;if(d.equals(y.Enter)||d.equals(y.Space)){p=!0;const u=this.tabsModel.getEditorByIndex(e);u&&this.groupView.openEditor(u)}else if([y.LeftArrow,y.RightArrow,y.UpArrow,y.DownArrow,y.Home,y.End].some(u=>d.equals(u))){let u=this.toEditorIndex(e);d.equals(y.LeftArrow)||d.equals(y.UpArrow)?u=u-1:d.equals(y.RightArrow)||d.equals(y.DownArrow)?u=u+1:d.equals(y.Home)?u=0:u=this.groupView.count-1;const b=this.groupView.getEditorByIndex(u);b&&(p=!0,this.groupView.openEditor(b,{preserveFocus:!0},{focusTabControl:!0}))}p&&A.stop(s,!0),r.setScrollPosition({scrollLeft:o.scrollLeft})}));for(const s of[_.Tap,m.DBLCLICK])a.add(E(t,s,d=>{if(s===m.DBLCLICK)A.stop(d);else if(d.tapCount!==2)return;const p=this.tabsModel.getEditorByIndex(e);if(p&&this.tabsModel.isPinned(p))switch(this.groupsView.partOptions.doubleClickTabToToggleEditorGroupSizes){case"maximize":this.groupsView.toggleMaximizeGroup(this.groupView);break;case"expand":this.groupsView.toggleExpandGroup(this.groupView);break;case"off":break}else this.groupView.pinEditor(p)}));a.add(E(t,m.CONTEXT_MENU,s=>{A.stop(s,!0);const d=this.tabsModel.getEditorByIndex(e);d&&this.onTabContextMenu(d,s,t)},!0));let l,c=!1;return a.add(new Z(t,{onDragStart:s=>{const d=this.tabsModel.getEditorByIndex(e);if(!d)return;c=this.isNewWindowOperation(s);const p=this.groupView.selectedEditors;if(this.editorTransfer.setData(p.map(u=>new w({editor:u,groupId:this.groupView.id})),w.prototype),s.dataTransfer)if(s.dataTransfer.effectAllowed="copyMove",p.length>1){const u=`${d.getName()} + ${p.length-1}`;bt(s,u,"monaco-editor-group-drag-image",this.getColor(Pt),this.getColor(Ft))}else s.dataTransfer.setDragImage(t,0,0);this.doFillResourceDataTransfers(p,s,c),J(U(this.parent),()=>this.updateDropFeedback(t,!1,s,e))},onDrag:s=>{l=s},onDragEnter:s=>{if(!this.isSupportedDropTransfer(s)){s.dataTransfer&&(s.dataTransfer.dropEffect="none");return}this.editorTransfer.hasData(w.prototype)||s.dataTransfer&&(s.dataTransfer.dropEffect="copy"),this.updateDropFeedback(t,!0,s,e)},onDragOver:(s,d)=>{if(d>=T.DRAG_OVER_OPEN_TAB_THRESHOLD){const p=this.tabsModel.getEditorByIndex(e);p&&this.tabsModel.activeEditor!==p&&this.groupView.openEditor(p,{preserveFocus:!0})}this.updateDropFeedback(t,!0,s,e)},onDragEnd:async s=>{this.updateDropFeedback(t,!1,s,e);const d=this.editorTransfer.getData(w.prototype);if(this.editorTransfer.clearData(w.prototype),!c||Ce()||!d||d.length===0)return;const p=await this.maybeCreateAuxiliaryEditorPartAt(s,t);if(!p)return;const u=p.activeGroup,b=d.map(g=>({editor:g.identifier.editor}));this.isMoveOperation(l??s,u.id,d[0].identifier.editor)?this.groupView.moveEditors(b,u):this.groupView.copyEditors(b,u),u.focus()},onDrop:s=>{this.updateDropFeedback(t,!1,s,e);let d=e;this.getTabDragOverLocation(s,t)==="right"&&d++,this.onDrop(s,d,o)}})),a}isSupportedDropTransfer(t){if(this.groupTransfer.hasData(x.prototype)){const e=this.groupTransfer.getData(x.prototype);return!(Array.isArray(e)&&e.length>0&&e[0].identifier===this.groupView.id)}return!!(this.editorTransfer.hasData(w.prototype)||t.dataTransfer&&t.dataTransfer.types.length>0)}updateDropFeedback(t,e,o,r){const a=typeof r=="number";let i;e?a?i=this.computeDropTarget(o,r,t):i={leftElement:t.lastElementChild,rightElement:void 0}:i=void 0,this.updateDropTarget(i)}dropTarget;updateDropTarget(t){const e=this.dropTarget;if(e===t||e&&t&&e.leftElement===t.leftElement&&e.rightElement===t.rightElement)return;const o="drop-target-left",r="drop-target-right";e&&(e.leftElement?.classList.remove(o),e.rightElement?.classList.remove(r)),t&&(t.leftElement?.classList.add(o),t.rightElement?.classList.add(r)),this.dropTarget=t}getTabDragOverLocation(t,e){const o=e.getBoundingClientRect();return t.clientX-o.left<=o.width/2?"left":"right"}computeDropTarget(t,e,o){const r=this.getTabDragOverLocation(t,o)==="left",a=e===this.tabsModel.count-1;if(r&&e===0)return{leftElement:void 0,rightElement:o};if(!r&&a)return{leftElement:o,rightElement:void 0};const n=r?o.previousElementSibling:o,l=r?o:o.nextElementSibling;return{leftElement:n,rightElement:l}}async selectEditor(t){this.groupView.isActive(t)||await this.groupView.setSelection(t,this.groupView.selectedEditors)}async selectEditorsBetween(t,e){const o=this.groupView.getIndexOfEditor(t);if(o===-1)throw new it;const r=this.groupView.getIndexOfEditor(e);if(r===-1)throw new it;let a=this.groupView.selectedEditors,i=r;for(;i>=0&&i<=this.groupView.count-1;){i=r<o?i-1:i+1;const d=this.groupView.getEditorByIndex(i);if(!d||!this.groupView.isSelected(d))break;a=a.filter(p=>!p.matches(d))}const n=r<o?r:o,l=r<o?o:r,c=this.groupView.getEditors(P.SEQUENTIAL).slice(n,l+1);for(const d of c)this.groupView.isSelected(d)||a.push(d);const s=a.filter(d=>!d.matches(t));await this.groupView.setSelection(t,s)}async unselectEditor(t){const e=this.groupView.isActive(t);if(e&&this.groupView.selectedEditors.length===1)return;let o=R(this.groupView.activeEditor);if(e){const a=this.groupView.getEditors(P.MOST_RECENTLY_ACTIVE);for(let i=1;i<a.length;i++){const n=a[i];if(this.groupView.isSelected(n)){o=n;break}}}const r=this.groupView.selectedEditors.filter(a=>!a.matches(t)&&!a.matches(o));await this.groupView.setSelection(o,r)}async unselectAllEditors(){if(this.groupView.selectedEditors.length>1){const t=R(this.groupView.activeEditor);await this.groupView.setSelection(t,[])}}computeTabLabels(){const{labelFormat:t}=this.groupsView.partOptions,{verbosity:e,shortenDuplicates:o}=this.getLabelConfigFlags(t),r=[];let a=-1;this.tabsModel.getEditors(P.SEQUENTIAL).forEach((i,n)=>{r.push({editor:i,name:i.getName(),description:i.getDescription(e),forceDescription:i.hasCapability(Xt.ForceDescription),title:i.getTitle(O.LONG),ariaLabel:Re(i,n,this.groupView,this.editorPartsView.count)}),i===this.tabsModel.activeEditor&&(a=n)}),o&&this.shortenTabLabels(r),this.tabLabels=r,this.activeTabLabel=r[a]}shortenTabLabels(t){const e=new Map;for(const o of t)typeof o.description=="string"?K(e,o.name,[]).push(o):o.description="";for(const[,o]of e){if(o.length===1&&!o[0].forceDescription){o[0].description="";continue}const r=new Map;for(const l of o)K(r,l.description,[]).push(l);let a=!1;for(const[,l]of r)if(!a&&l.length>1){const[c,...s]=l.map(({editor:d})=>d.getDescription(O.LONG));a=s.some(d=>d!==c)}if(a){r.clear();for(const l of o)l.description=l.editor.getDescription(O.LONG),K(r,l.description,[]).push(l)}const i=[];for(const[l]of r)i.push(l);if(i.length===1){for(const l of r.get(i[0])||[])l.forceDescription||(l.description="");continue}const n=yt(i,this.path.sep);i.forEach((l,c)=>{for(const s of r.get(l)||[])s.description=n[c]})}}getLabelConfigFlags(t){switch(t){case"short":return{verbosity:O.SHORT,shortenDuplicates:!1};case"medium":return{verbosity:O.MEDIUM,shortenDuplicates:!1};case"long":return{verbosity:O.LONG,shortenDuplicates:!1};default:return{verbosity:O.MEDIUM,shortenDuplicates:!0}}}redraw(t){if(this.tabsAndActionsContainer){let e=this.getColor(te);!e&&nt(this.theme.type)&&(e=this.getColor(X)||this.getColor(j)),e?(this.tabsAndActionsContainer.classList.add("tabs-border-bottom"),this.tabsAndActionsContainer.style.setProperty("--tabs-border-bottom-color",e.toString())):(this.tabsAndActionsContainer.classList.remove("tabs-border-bottom"),this.tabsAndActionsContainer.style.removeProperty("--tabs-border-bottom-color"))}this.forEachTab((e,o,r,a,i,n)=>{this.redrawTab(e,o,r,a,i,n)}),this.updateEditorActionsToolbar(),this.layout(this.dimensions,t)}redrawTab(t,e,o,r,a,i){const n=this.tabsModel.isSticky(e),l=this.groupsView.partOptions;this.redrawTabLabel(t,e,o,r,a);const c=n&&l.tabActionUnpinVisibility,s=!c&&l.tabActionCloseVisibility,d=c||s;let p;d?p=c?this.unpinEditorAction:this.closeEditorAction:p=n?this.unpinEditorAction:this.closeEditorAction,i.hasAction(p)||(i.isEmpty()||i.clear(),i.push(p,{icon:!0,label:!1,keybinding:this.getKeybindingLabel(p)})),o.classList.toggle("pinned-action-off",n&&!c),o.classList.toggle("close-action-off",!c&&!s);for(const b of["left","right"])o.classList.toggle(`tab-actions-${b}`,d&&l.tabActionLocation===b);const u=n&&l.pinnedTabSizing==="shrink"?"shrink":l.tabSizing;for(const b of["fit","shrink","fixed"])o.classList.toggle(`sizing-${b}`,u===b);o.classList.toggle("has-icon",l.showIcons&&l.hasIcons),o.classList.toggle("sticky",n);for(const b of["normal","compact","shrink"])o.classList.toggle(`sticky-${b}`,n&&l.pinnedTabSizing===b);if(!l.wrapTabs&&n&&l.pinnedTabSizing!=="normal"){let b=0;switch(l.pinnedTabSizing){case"compact":b=T.TAB_WIDTH.compact;break;case"shrink":b=T.TAB_WIDTH.shrink;break}o.style.left=`${e*b}px`}else o.style.left="auto";this.redrawTabBorders(e,o),this.redrawTabSelectedActiveAndDirty(this.groupsView.activeGroup===this.groupView,t,o,i)}redrawTabLabel(t,e,o,r,a){const i=this.groupsView.partOptions;let n,l=!1,c=!!i.decorations?.badges;const s=!!i.decorations?.colors;let d;i.pinnedTabSizing==="compact"&&this.tabsModel.isSticky(e)?(n=i.showIcons&&i.hasIcons?"":a.name?.charAt(0).toUpperCase(),d="",l=!0,c=!1):(n=a.name,d=a.description||""),a.ariaLabel&&(o.setAttribute("aria-label",a.ariaLabel),o.setAttribute("aria-description","")),r.setResource({name:n,description:d,resource:dt.getOriginalUri(t,{supportSideBySide:lt.BOTH})},{title:this.getHoverTitle(t),extraClasses:mt(["tab-label",c?"tab-label-has-badge":void 0].concat(t.getLabelExtraClasses())),italic:!this.tabsModel.isPinned(t),forceLabel:l,fileDecorations:{colors:s,badges:c},icon:t.getIcon(),hideIcon:i.showIcons===!1});const p=dt.getOriginalUri(t,{supportSideBySide:lt.PRIMARY});p?o.setAttribute("data-resource-name",Rt(p)):o.removeAttribute("data-resource-name")}redrawTabSelectedActiveAndDirty(t,e,o,r){const a=this.tabsModel.isActive(e),i=this.doRedrawTabDirty(t,a,e,o);this.doRedrawTabActive(t,!i,e,o,r)}doRedrawTabActive(t,e,o,r,a){const i=this.tabsModel.isActive(o),n=this.tabsModel.isSelected(o);if(r.classList.toggle("active",i),r.classList.toggle("selected",n),r.setAttribute("aria-selected",i?"true":"false"),r.tabIndex=i?0:-1,a.setFocusable(i),i){const c=this.getColor(t?ie:be);r.classList.toggle("tab-border-bottom",!!c),r.style.setProperty("--tab-border-bottom-color",c??"")}let l=null;e&&(i&&(l=this.getColor(t?oe:he)),l===null&&n&&(l=this.getColor(pe))),r.classList.toggle("tab-border-top",!!l),r.style.setProperty("--tab-border-top-color",l??"")}doRedrawTabDirty(t,e,o,r){let a=!1;if(o.isDirty()&&!o.isSaving())if(r.classList.add("dirty"),this.groupsView.partOptions.highlightModifiedTabs){let i;t&&e?i=this.getColor(re):t&&!e?i=this.getColor(le):!t&&e?i=this.getColor(fe):i=this.getColor(Te),i&&(a=!0,r.classList.add("dirty-border-top"),r.style.setProperty("--tab-dirty-border-top-color",i))}else r.classList.remove("dirty-border-top"),r.style.removeProperty("--tab-dirty-border-top-color");else r.classList.remove("dirty","dirty-border-top"),r.style.removeProperty("--tab-dirty-border-top-color");return a}redrawTabBorders(t,e){const r=this.tabsModel.isSticky(t)&&this.tabsModel.stickyCount===t+1,a=this.tabsModel.stickyCount!==this.tabsModel.count,i=(r&&a?this.getColor(ce):void 0)||this.getColor(X)||this.getColor(j);e.style.borderRight=i?`1px solid ${i}`:"",e.style.outlineColor=this.getColor(at)||""}prepareEditorActions(t){return this.groupsView.activeGroup===this.groupView?t:{primary:this.groupsView.partOptions.alwaysShowEditorActions?t.primary:t.primary.filter(o=>o.id===Ve),secondary:t.secondary}}getHeight(){return this.dimensions.used?this.dimensions.used.height:this.computeHeight()}computeHeight(){let t;return this.visible?this.groupsView.partOptions.wrapTabs&&this.tabsAndActionsContainer?.classList.contains("wrapping")?t=this.tabsAndActionsContainer.offsetHeight:t=this.tabHeight:t=0,t}layout(t,e){if(Object.assign(this.dimensions,t),this.visible){if(!this.layoutScheduler.value){const o=J(U(this.parent),()=>{this.doLayout(this.dimensions,this.layoutScheduler.value?.options),this.layoutScheduler.clear()});this.layoutScheduler.value={options:e,dispose:()=>o.dispose()}}e?.forceRevealActiveTab&&(this.layoutScheduler.value.options={...this.layoutScheduler.value.options,forceRevealActiveTab:!0})}return this.dimensions.used||(this.dimensions.used=new B(t.container.width,this.computeHeight())),this.dimensions.used}doLayout(t,e){t.container!==B.None&&t.available!==B.None&&this.doLayoutTabs(t,e);const o=this.dimensions.used,r=this.dimensions.used=new B(t.container.width,this.computeHeight());o&&o.height!==r.height&&this.groupView.relayout()}doLayoutTabs(t,e){this.doLayoutTabsWrapping(t)||this.doLayoutTabsNonWrapping(e)}doLayoutTabsWrapping(t){const[e,o,r,a]=z(this.tabsAndActionsContainer,this.tabsContainer,this.editorActionsToolbarContainer,this.tabsScrollbar),i=e.classList.contains("wrapping");let n=i;function l(c){n=c,e.classList.toggle("wrapping",n),o.style.setProperty("--last-tab-margin-right",n?`${r.offsetWidth}px`:"0");for(const s of o.children)s.classList.remove("last-in-row")}if(this.groupsView.partOptions.wrapTabs){const c=o.offsetWidth,s=o.scrollWidth,d=()=>{const p=this.getLastTab();return p?!(p.offsetWidth+r.offsetWidth-t.available.width>1):!0};(n||s>c&&d())&&l(!0),n&&(o.offsetHeight>t.available.height||s===c&&o.offsetHeight===this.tabHeight||!d())&&l(!1)}else i&&l(!1);if(n&&!i){const c=o.offsetWidth;a.setScrollDimensions({width:c,scrollWidth:c})}if(n){const c=new Map;let s,d;for(const p of o.children){const u=p,b=u.offsetTop;b!==s&&(s=b,d&&c.set(d,!0)),d=u,c.set(u,!1)}d&&c.set(d,!0);for(const[p,u]of c)p.classList.toggle("last-in-row",u)}return n}doLayoutTabsNonWrapping(t){const[e,o]=z(this.tabsContainer,this.tabsScrollbar),r=e.offsetWidth,a=e.scrollWidth;let i=0;if(this.tabsModel.stickyCount>0){let k=0;switch(this.groupsView.partOptions.pinnedTabSizing){case"compact":k=T.TAB_WIDTH.compact;break;case"shrink":k=T.TAB_WIDTH.shrink;break}i=this.tabsModel.stickyCount*k}const n=this.tabsModel.activeEditor?this.getTabAndIndex(this.tabsModel.activeEditor):void 0,[l,c]=n??[void 0,void 0];let s=this.groupsView.partOptions.pinnedTabSizing!=="normal"&&typeof c=="number"&&this.tabsModel.isSticky(c),d=r-i;this.tabsModel.stickyCount>0&&d<T.TAB_WIDTH.fit?(e.classList.add("disable-sticky-tabs"),d=r,i=0,s=!1):e.classList.remove("disable-sticky-tabs");let p,u;!this.blockRevealActiveTab&&l&&(p=l.offsetLeft,u=l.offsetWidth);const{width:b,scrollWidth:g}=o.getScrollDimensions();o.setScrollDimensions({width:r,scrollWidth:a});const C=b!==r||g!==a;if(this.blockRevealActiveTab||typeof p!="number"||typeof u!="number"||s||!C&&!t?.forceRevealActiveTab){this.blockRevealActiveTab=!1;return}const D=o.getScrollPosition().scrollLeft,V=u<=d,M=p-i;V&&D+d<M+u?o.setScrollPosition({scrollLeft:D+(M+u-(D+d))}):(D>M||!V)&&o.setScrollPosition({scrollLeft:M})}updateTabsControlVisibility(){R(this.tabsAndActionsContainer).classList.toggle("empty",!this.visible),!this.visible&&this.dimensions&&(this.dimensions.used=void 0)}get visible(){return this.tabsModel.count>0}getTabAndIndex(t){const e=this.tabsModel.indexOf(t),o=this.getTabAtIndex(e);if(o)return[o,e]}getTabAtIndex(t){if(t>=0)return R(this.tabsContainer).children[t]}getLastTab(){return this.getTabAtIndex(this.tabsModel.count-1)}blockRevealActiveTabOnce(){this.blockRevealActiveTab=!0}originatesFromTabActionBar(t){let e;return N(t)?e=t.target||t.srcElement:e=t.initialTarget,!!ft(e,"action-item","tab")}async onDrop(t,e,o){A.stop(t,!0),this.updateDropFeedback(o,!1,t,e),o.classList.remove("scroll");let r=this.tabsModel instanceof Qt?e+this.groupView.stickyCount:e;const a={sticky:this.tabsModel instanceof Yt&&this.tabsModel.stickyCount===r,index:r};if(this.groupTransfer.hasData(x.prototype)){const i=this.groupTransfer.getData(x.prototype);if(Array.isArray(i)&&i.length>0){const n=this.editorPartsView.getGroup(i[0].identifier);if(n){const l={index:r};this.isMoveOperation(t,n.id)||(l.mode=ye.COPY_EDITORS),this.groupsView.mergeGroup(n,this.groupView,l)}this.groupView.focus(),this.groupTransfer.clearData(x.prototype)}}else if(this.editorTransfer.hasData(w.prototype)){const i=this.editorTransfer.getData(w.prototype);if(Array.isArray(i)&&i.length>0){const n=this.editorPartsView.getGroup(i[0].identifier.groupId);if(n)for(const l of i){const c=l.identifier.editor;if(n.id!==l.identifier.groupId)continue;const s=n.getIndexOfEditor(c);n===this.groupView&&s<r&&r--,this.isMoveOperation(t,l.identifier.groupId,c)?n.moveEditor(c,this.groupView,{...a,index:r}):n.copyEditor(c,this.groupView,{...a,index:r}),r++}}this.groupView.focus(),this.editorTransfer.clearData(w.prototype)}else if(this.treeItemsTransfer.hasData($.prototype)){const i=this.treeItemsTransfer.getData($.prototype);if(Array.isArray(i)&&i.length>0){const n=[];for(const l of i){const c=await this.treeViewsDragAndDropService.removeDragOperationTransfer(l.identifier);if(c){const s=await Ie(c);n.push(...s.map(d=>({...d,options:{...d.options,pinned:!0,index:r}})))}}this.editorService.openEditors(n,this.groupView,{validateTrust:!0})}this.treeItemsTransfer.clearData($.prototype)}else this.instantiationService.createInstance(Me,{allowWorkspaceOpen:!1}).handleDrop(t,U(this.parent),()=>this.groupView,()=>this.groupView.focus(),a)}dispose(){super.dispose(),this.tabDisposables=G(this.tabDisposables)}};T=Q([S(5,_t),S(6,xt),S(7,Bt),S(8,Wt),S(9,Ut),S(10,Nt),S(11,Gt),S(12,De),S(13,we),S(14,kt),S(15,Se),S(16,Ae)],T),Kt((f,h)=>{const t=f.getColor(X);t&&h.addRule(`
			.monaco-workbench .part.editor > .content .editor-group-container > .title > .tabs-and-actions-container.wrapping .tabs-container > .tab {
				border-bottom: 1px solid ${t};
			}
		`);const e=f.getColor(at);e&&h.addRule(`
			.monaco-workbench .part.editor > .content .editor-group-container.active > .title .tabs-container > .tab.active,
			.monaco-workbench .part.editor > .content .editor-group-container.active > .title .tabs-container > .tab.active:hover  {
				outline: 1px solid;
				outline-offset: -5px;
			}

			.monaco-workbench .part.editor > .content .editor-group-container > .title .tabs-container > .tab.selected:not(.active):not(:hover)  {
				outline: 1px dotted;
				outline-offset: -5px;
			}

			.monaco-workbench .part.editor > .content .editor-group-container.active > .title .tabs-container > .tab.active:focus {
				outline-style: dashed;
			}

			.monaco-workbench .part.editor > .content .editor-group-container > .title .tabs-container > .tab.active {
				outline: 1px dotted;
				outline-offset: -5px;
			}

			.monaco-workbench .part.editor > .content .editor-group-container > .title .tabs-container > .tab:hover  {
				outline: 1px dashed;
				outline-offset: -5px;
			}

			.monaco-workbench .part.editor > .content .editor-group-container > .title .tabs-container > .tab.active > .tab-actions .action-label,
			.monaco-workbench .part.editor > .content .editor-group-container > .title .tabs-container > .tab.active:hover > .tab-actions .action-label,
			.monaco-workbench .part.editor > .content .editor-group-container > .title .tabs-container > .tab.dirty > .tab-actions .action-label,
			.monaco-workbench .part.editor > .content .editor-group-container > .title .tabs-container > .tab.sticky > .tab-actions .action-label,
			.monaco-workbench .part.editor > .content .editor-group-container > .title .tabs-container > .tab:hover > .tab-actions .action-label {
				opacity: 1 !important;
			}
		`);const o=f.getColor(j);o&&h.addRule(`
			.monaco-workbench .part.editor > .content .editor-group-container > .title .editor-actions {
				outline: 1px solid ${o}
			}
		`);const r=f.getColor(se);r&&h.addRule(`
			.monaco-workbench .part.editor > .content .editor-group-container.active > .title .tabs-container > .tab:not(.selected):hover {
				background-color: ${r} !important;
			}
		`);const a=f.getColor(ge);a&&h.addRule(`
			.monaco-workbench .part.editor > .content .editor-group-container > .title .tabs-container > .tab:not(.selected):hover  {
				background-color: ${a} !important;
			}
		`);const i=f.getColor(ne);i&&h.addRule(`
			.monaco-workbench .part.editor > .content .editor-group-container.active > .title .tabs-container > .tab:not(.selected):hover  {
				color: ${i} !important;
			}
		`);const n=f.getColor(ve);n&&h.addRule(`
			.monaco-workbench .part.editor > .content .editor-group-container > .title .tabs-container > .tab:not(.selected):hover  {
				color: ${n} !important;
			}
		`);const l=f.getColor(ae);l&&h.addRule(`
			.monaco-workbench .part.editor > .content .editor-group-container.active > .title .tabs-container > .tab:hover > .tab-border-bottom-container {
				display: block;
				position: absolute;
				left: 0;
				pointer-events: none;
				width: 100%;
				z-index: 10;
				bottom: 0;
				height: 1px;
				background-color: ${l};
			}
		`);const c=f.getColor(Ee);if(c&&h.addRule(`
			.monaco-workbench .part.editor > .content .editor-group-container > .title .tabs-container > .tab:hover > .tab-border-bottom-container  {
				display: block;
				position: absolute;
				left: 0;
				pointer-events: none;
				width: 100%;
				z-index: 10;
				bottom: 0;
				height: 1px;
				background-color: ${c};
			}
		`),!nt(f.type)&&!ut&&!e){const s=Le(f),d=f.getColor(zt),p=f.getColor(Jt),u=f.getColor(Zt);let b;p&&d&&(b=p.flatten(d,d,s));let g;p&&d&&u&&d&&(g=p.flatten(d,u,d,s));const C=(v,L,I=!1)=>`
			.monaco-workbench .part.editor > .content:not(.dragged-over) .editor-group-container${I?".active":""} > .title .tabs-container > .tab.sizing-shrink:not(.dragged):not(.sticky-compact):hover > .tab-label > .monaco-icon-label-container::after,
			.monaco-workbench .part.editor > .content:not(.dragged-over) .editor-group-container${I?".active":""} > .title .tabs-container > .tab.sizing-fixed:not(.dragged):not(.sticky-compact):hover > .tab-label > .monaco-icon-label-container::after {
				background: linear-gradient(to left, ${v}, transparent) !important;
			}

			.monaco-workbench .part.editor > .content.dragged-over .editor-group-container${I?".active":""} > .title .tabs-container > .tab.sizing-shrink:not(.dragged):not(.sticky-compact):hover > .tab-label > .monaco-icon-label-container::after,
			.monaco-workbench .part.editor > .content.dragged-over .editor-group-container${I?".active":""} > .title .tabs-container > .tab.sizing-fixed:not(.dragged):not(.sticky-compact):hover > .tab-label > .monaco-icon-label-container::after {
				background: linear-gradient(to left, ${L}, transparent) !important;
			}
		`;if(r&&b&&g){const v=r.flatten(b),L=r.flatten(g);h.addRule(C(v,L,!0))}if(a&&b&&g){const v=a.flatten(b),L=a.flatten(g);h.addRule(C(v,L))}if(u&&g){const v=u.flatten(g);h.addRule(`
				.monaco-workbench .part.editor > .content.dragged-over .editor-group-container.active > .title .tabs-container > .tab.sizing-shrink.dragged-over:not(.active):not(.dragged):not(.sticky-compact) > .tab-label > .monaco-icon-label-container::after,
				.monaco-workbench .part.editor > .content.dragged-over .editor-group-container:not(.active) > .title .tabs-container > .tab.sizing-shrink.dragged-over:not(.dragged):not(.sticky-compact) > .tab-label > .monaco-icon-label-container::after,
				.monaco-workbench .part.editor > .content.dragged-over .editor-group-container.active > .title .tabs-container > .tab.sizing-fixed.dragged-over:not(.active):not(.dragged):not(.sticky-compact) > .tab-label > .monaco-icon-label-container::after,
				.monaco-workbench .part.editor > .content.dragged-over .editor-group-container:not(.active) > .title .tabs-container > .tab.sizing-fixed.dragged-over:not(.dragged):not(.sticky-compact) > .tab-label > .monaco-icon-label-container::after {
					background: linear-gradient(to left, ${v}, transparent) !important;
				}
		`)}const D=(v,L,I,W)=>`
				.monaco-workbench .part.editor > .content:not(.dragged-over) .editor-group-container${I?".active":":not(.active)"} > .title .tabs-container > .tab.sizing-shrink${W?".active":""}:not(.dragged):not(.sticky-compact) > .tab-label > .monaco-icon-label-container::after,
				.monaco-workbench .part.editor > .content:not(.dragged-over) .editor-group-container${I?".active":":not(.active)"} > .title .tabs-container > .tab.sizing-fixed${W?".active":""}:not(.dragged):not(.sticky-compact) > .tab-label > .monaco-icon-label-container::after {
					background: linear-gradient(to left, ${v}, transparent);
				}

				.monaco-workbench .part.editor > .content.dragged-over .editor-group-container${I?".active":":not(.active)"} > .title .tabs-container > .tab.sizing-shrink${W?".active":""}:not(.dragged):not(.sticky-compact) > .tab-label > .monaco-icon-label-container::after,
				.monaco-workbench .part.editor > .content.dragged-over .editor-group-container${I?".active":":not(.active)"} > .title .tabs-container > .tab.sizing-fixed${W?".active":""}:not(.dragged):not(.sticky-compact) > .tab-label > .monaco-icon-label-container::after {
					background: linear-gradient(to left, ${L}, transparent);
				}
		`,V=f.getColor(ee);if(V&&b&&g){const v=V.flatten(b),L=V.flatten(g);h.addRule(D(v,L,!0,!0))}const M=f.getColor(ue);if(M&&b&&g){const v=M.flatten(b),L=M.flatten(g);h.addRule(D(v,L,!1,!0))}const k=f.getColor(de);if(k&&b&&g){const v=k.flatten(b),L=k.flatten(g);h.addRule(D(v,L,!0,!1))}const F=f.getColor(me);if(F&&b&&g){const v=F.flatten(b),L=F.flatten(g);h.addRule(D(v,L,!1,!1))}}});export{T as MultiEditorTabsControl};
