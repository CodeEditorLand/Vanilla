{
  "version": 3,
  "sources": ["../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/browser/parts/editor/textCodeEditor.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport type { Dimension } from \"../../../../base/browser/dom.js\";\nimport { isEqual } from \"../../../../base/common/resources.js\";\nimport { assertIsDefined } from \"../../../../base/common/types.js\";\nimport type { URI } from \"../../../../base/common/uri.js\";\nimport type { ICodeEditor } from \"../../../../editor/browser/editorBrowser.js\";\nimport {\n\tCodeEditorWidget,\n\ttype ICodeEditorWidgetOptions,\n} from \"../../../../editor/browser/widget/codeEditor/codeEditorWidget.js\";\nimport type { IEditorOptions as ICodeEditorOptions } from \"../../../../editor/common/config/editorOptions.js\";\nimport {\n\ttype IEditorViewState,\n\tScrollType,\n} from \"../../../../editor/common/editorCommon.js\";\nimport { localize } from \"../../../../nls.js\";\nimport { IContextKeyService } from \"../../../../platform/contextkey/common/contextkey.js\";\nimport type { ITextEditorOptions } from \"../../../../platform/editor/common/editor.js\";\nimport type { ITextEditorPane } from \"../../../common/editor.js\";\nimport { applyTextEditorOptions } from \"../../../common/editor/editorOptions.js\";\nimport { AbstractTextEditor } from \"./textEditor.js\";\n\n/**\n * A text editor using the code editor widget.\n */\nexport abstract class AbstractTextCodeEditor<T extends IEditorViewState>\n\textends AbstractTextEditor<T>\n\timplements ITextEditorPane\n{\n\tprotected editorControl: ICodeEditor | undefined = undefined;\n\n\toverride get scopedContextKeyService(): IContextKeyService | undefined {\n\t\treturn this.editorControl?.invokeWithinContext((accessor) =>\n\t\t\taccessor.get(IContextKeyService),\n\t\t);\n\t}\n\n\toverride getTitle(): string {\n\t\tif (this.input) {\n\t\t\treturn this.input.getName();\n\t\t}\n\n\t\treturn localize(\"textEditor\", \"Text Editor\");\n\t}\n\n\tprotected createEditorControl(\n\t\tparent: HTMLElement,\n\t\tinitialOptions: ICodeEditorOptions,\n\t): void {\n\t\tthis.editorControl = this._register(\n\t\t\tthis.instantiationService.createInstance(\n\t\t\t\tCodeEditorWidget,\n\t\t\t\tparent,\n\t\t\t\tinitialOptions,\n\t\t\t\tthis.getCodeEditorWidgetOptions(),\n\t\t\t),\n\t\t);\n\t}\n\n\tprotected getCodeEditorWidgetOptions(): ICodeEditorWidgetOptions {\n\t\treturn Object.create(null);\n\t}\n\n\tprotected updateEditorControlOptions(options: ICodeEditorOptions): void {\n\t\tthis.editorControl?.updateOptions(options);\n\t}\n\n\tprotected getMainControl(): ICodeEditor | undefined {\n\t\treturn this.editorControl;\n\t}\n\n\toverride getControl(): ICodeEditor | undefined {\n\t\treturn this.editorControl;\n\t}\n\n\tprotected override computeEditorViewState(resource: URI): T | undefined {\n\t\tif (!this.editorControl) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tconst model = this.editorControl.getModel();\n\t\tif (!model) {\n\t\t\treturn undefined; // view state always needs a model\n\t\t}\n\n\t\tconst modelUri = model.uri;\n\t\tif (!modelUri) {\n\t\t\treturn undefined; // model URI is needed to make sure we save the view state correctly\n\t\t}\n\n\t\tif (!isEqual(modelUri, resource)) {\n\t\t\treturn undefined; // prevent saving view state for a model that is not the expected one\n\t\t}\n\n\t\treturn (\n\t\t\t(this.editorControl.saveViewState() as unknown as T) ?? undefined\n\t\t);\n\t}\n\n\toverride setOptions(options: ITextEditorOptions | undefined): void {\n\t\tsuper.setOptions(options);\n\n\t\tif (options) {\n\t\t\tapplyTextEditorOptions(\n\t\t\t\toptions,\n\t\t\t\tassertIsDefined(this.editorControl),\n\t\t\t\tScrollType.Smooth,\n\t\t\t);\n\t\t}\n\t}\n\n\toverride focus(): void {\n\t\tsuper.focus();\n\n\t\tthis.editorControl?.focus();\n\t}\n\n\toverride hasFocus(): boolean {\n\t\treturn this.editorControl?.hasTextFocus() || super.hasFocus();\n\t}\n\n\tprotected override setEditorVisible(visible: boolean): void {\n\t\tsuper.setEditorVisible(visible);\n\n\t\tif (visible) {\n\t\t\tthis.editorControl?.onVisible();\n\t\t} else {\n\t\t\tthis.editorControl?.onHide();\n\t\t}\n\t}\n\n\toverride layout(dimension: Dimension): void {\n\t\tthis.editorControl?.layout(dimension);\n\t}\n}\n"],
  "mappings": ";;AAMA,SAAS,eAAe;AACxB,SAAS,uBAAuB;AAGhC;AAAA,EACC;AAAA,OAEM;AAEP;AAAA,EAEC;AAAA,OACM;AACP,SAAS,gBAAgB;AACzB,SAAS,0BAA0B;AAGnC,SAAS,8BAA8B;AACvC,SAAS,0BAA0B;AAK5B,MAAe,+BACb,mBAET;AAAA,EAhCA,OAgCA;AAAA;AAAA;AAAA,EACW,gBAAyC;AAAA,EAEnD,IAAa,0BAA0D;AACtE,WAAO,KAAK,eAAe;AAAA,MAAoB,CAAC,aAC/C,SAAS,IAAI,kBAAkB;AAAA,IAChC;AAAA,EACD;AAAA,EAES,WAAmB;AAC3B,QAAI,KAAK,OAAO;AACf,aAAO,KAAK,MAAM,QAAQ;AAAA,IAC3B;AAEA,WAAO,SAAS,cAAc,aAAa;AAAA,EAC5C;AAAA,EAEU,oBACT,QACA,gBACO;AACP,SAAK,gBAAgB,KAAK;AAAA,MACzB,KAAK,qBAAqB;AAAA,QACzB;AAAA,QACA;AAAA,QACA;AAAA,QACA,KAAK,2BAA2B;AAAA,MACjC;AAAA,IACD;AAAA,EACD;AAAA,EAEU,6BAAuD;AAChE,WAAO,uBAAO,OAAO,IAAI;AAAA,EAC1B;AAAA,EAEU,2BAA2B,SAAmC;AACvE,SAAK,eAAe,cAAc,OAAO;AAAA,EAC1C;AAAA,EAEU,iBAA0C;AACnD,WAAO,KAAK;AAAA,EACb;AAAA,EAES,aAAsC;AAC9C,WAAO,KAAK;AAAA,EACb;AAAA,EAEmB,uBAAuB,UAA8B;AACvE,QAAI,CAAC,KAAK,eAAe;AACxB,aAAO;AAAA,IACR;AAEA,UAAM,QAAQ,KAAK,cAAc,SAAS;AAC1C,QAAI,CAAC,OAAO;AACX,aAAO;AAAA,IACR;AAEA,UAAM,WAAW,MAAM;AACvB,QAAI,CAAC,UAAU;AACd,aAAO;AAAA,IACR;AAEA,QAAI,CAAC,QAAQ,UAAU,QAAQ,GAAG;AACjC,aAAO;AAAA,IACR;AAEA,WACE,KAAK,cAAc,cAAc,KAAsB;AAAA,EAE1D;AAAA,EAES,WAAW,SAA+C;AAClE,UAAM,WAAW,OAAO;AAExB,QAAI,SAAS;AACZ;AAAA,QACC;AAAA,QACA,gBAAgB,KAAK,aAAa;AAAA,QAClC,WAAW;AAAA,MACZ;AAAA,IACD;AAAA,EACD;AAAA,EAES,QAAc;AACtB,UAAM,MAAM;AAEZ,SAAK,eAAe,MAAM;AAAA,EAC3B;AAAA,EAES,WAAoB;AAC5B,WAAO,KAAK,eAAe,aAAa,KAAK,MAAM,SAAS;AAAA,EAC7D;AAAA,EAEmB,iBAAiB,SAAwB;AAC3D,UAAM,iBAAiB,OAAO;AAE9B,QAAI,SAAS;AACZ,WAAK,eAAe,UAAU;AAAA,IAC/B,OAAO;AACN,WAAK,eAAe,OAAO;AAAA,IAC5B;AAAA,EACD;AAAA,EAES,OAAO,WAA4B;AAC3C,SAAK,eAAe,OAAO,SAAS;AAAA,EACrC;AACD;",
  "names": []
}
