{
  "version": 3,
  "sources": ["../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/browser/parts/views/checkbox.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as DOM from '../../../../base/browser/dom.js';\nimport type { IManagedHover } from '../../../../base/browser/ui/hover/hover.js';\nimport { IHoverDelegate } from '../../../../base/browser/ui/hover/hoverDelegate.js';\nimport { Toggle } from '../../../../base/browser/ui/toggle/toggle.js';\nimport { Codicon } from '../../../../base/common/codicons.js';\nimport { Emitter, Event } from '../../../../base/common/event.js';\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport { localize } from '../../../../nls.js';\nimport type { IHoverService } from '../../../../platform/hover/browser/hover.js';\nimport { defaultToggleStyles } from '../../../../platform/theme/browser/defaultStyles.js';\nimport { ITreeItem, ITreeItemCheckboxState } from '../../../common/views.js';\n\nexport class CheckboxStateHandler extends Disposable {\n\tprivate readonly _onDidChangeCheckboxState = this._register(new Emitter<ITreeItem[]>());\n\treadonly onDidChangeCheckboxState: Event<ITreeItem[]> = this._onDidChangeCheckboxState.event;\n\n\tpublic setCheckboxState(node: ITreeItem) {\n\t\tthis._onDidChangeCheckboxState.fire([node]);\n\t}\n}\n\nexport class TreeItemCheckbox extends Disposable {\n\tpublic toggle: Toggle | undefined;\n\tprivate checkboxContainer: HTMLDivElement;\n\tpublic isDisposed = false;\n\tprivate hover: IManagedHover | undefined;\n\n\tpublic static readonly checkboxClass = 'custom-view-tree-node-item-checkbox';\n\n\tprivate readonly _onDidChangeState = new Emitter<boolean>();\n\treadonly onDidChangeState: Event<boolean> = this._onDidChangeState.event;\n\n\tconstructor(\n\t\tcontainer: HTMLElement,\n\t\tprivate checkboxStateHandler: CheckboxStateHandler,\n\t\tprivate readonly hoverDelegate: IHoverDelegate,\n\t\tprivate readonly hoverService: IHoverService\n\t) {\n\t\tsuper();\n\t\tthis.checkboxContainer = <HTMLDivElement>container;\n\t}\n\n\tpublic render(node: ITreeItem) {\n\t\tif (node.checkbox) {\n\t\t\tif (!this.toggle) {\n\t\t\t\tthis.createCheckbox(node);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.toggle.checked = node.checkbox.isChecked;\n\t\t\t\tthis.toggle.setIcon(this.toggle.checked ? Codicon.check : undefined);\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate createCheckbox(node: ITreeItem) {\n\t\tif (node.checkbox) {\n\t\t\tthis.toggle = new Toggle({\n\t\t\t\tisChecked: node.checkbox.isChecked,\n\t\t\t\ttitle: '',\n\t\t\t\ticon: node.checkbox.isChecked ? Codicon.check : undefined,\n\t\t\t\t...defaultToggleStyles\n\t\t\t});\n\t\t\tthis.setHover(node.checkbox);\n\t\t\tthis.setAccessibilityInformation(node.checkbox);\n\t\t\tthis.toggle.domNode.classList.add(TreeItemCheckbox.checkboxClass);\n\t\t\tthis.toggle.domNode.tabIndex = 1;\n\t\t\tDOM.append(this.checkboxContainer, this.toggle.domNode);\n\t\t\tthis.registerListener(node);\n\t\t}\n\t}\n\n\tprivate registerListener(node: ITreeItem) {\n\t\tif (this.toggle) {\n\t\t\tthis._register({ dispose: () => this.removeCheckbox() });\n\t\t\tthis._register(this.toggle);\n\t\t\tthis._register(this.toggle.onChange(() => {\n\t\t\t\tthis.setCheckbox(node);\n\t\t\t}));\n\t\t}\n\t}\n\n\tprivate setHover(checkbox: ITreeItemCheckboxState) {\n\t\tif (this.toggle) {\n\t\t\tif (!this.hover) {\n\t\t\t\tthis.hover = this._register(this.hoverService.setupManagedHover(this.hoverDelegate, this.toggle.domNode, this.checkboxHoverContent(checkbox)));\n\t\t\t} else {\n\t\t\t\tthis.hover.update(checkbox.tooltip);\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate setCheckbox(node: ITreeItem) {\n\t\tif (this.toggle && node.checkbox) {\n\t\t\tnode.checkbox.isChecked = this.toggle.checked;\n\t\t\tthis.toggle.setIcon(this.toggle.checked ? Codicon.check : undefined);\n\t\t\tthis.setHover(node.checkbox);\n\n\t\t\tthis.setAccessibilityInformation(node.checkbox);\n\t\t\tthis.checkboxStateHandler.setCheckboxState(node);\n\t\t}\n\t}\n\n\tprivate checkboxHoverContent(checkbox: ITreeItemCheckboxState): string {\n\t\treturn checkbox.tooltip ? checkbox.tooltip :\n\t\t\tcheckbox.isChecked ? localize('checked', 'Checked') : localize('unchecked', 'Unchecked');\n\t}\n\n\tprivate setAccessibilityInformation(checkbox: ITreeItemCheckboxState) {\n\t\tif (this.toggle && checkbox.accessibilityInformation) {\n\t\t\tthis.toggle.domNode.ariaLabel = checkbox.accessibilityInformation.label;\n\t\t\tif (checkbox.accessibilityInformation.role) {\n\t\t\t\tthis.toggle.domNode.role = checkbox.accessibilityInformation.role;\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate removeCheckbox() {\n\t\tconst children = this.checkboxContainer.children;\n\t\tfor (const child of children) {\n\t\t\tchild.remove();\n\t\t}\n\t}\n}\n"],
  "mappings": "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",
  "names": []
}
