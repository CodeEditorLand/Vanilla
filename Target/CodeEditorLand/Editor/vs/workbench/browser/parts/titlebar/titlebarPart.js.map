{
  "version": 3,
  "sources": ["../../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/browser/parts/titlebar/titlebarPart.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport './media/titlebarpart.css';\nimport { localize, localize2 } from '../../../../nls.js';\nimport { MultiWindowParts, Part } from '../../part.js';\nimport { ITitleService } from '../../../services/title/browser/titleService.js';\nimport { getWCOTitlebarAreaRect, getZoomFactor, isWCOEnabled } from '../../../../base/browser/browser.js';\nimport { MenuBarVisibility, getTitleBarStyle, getMenuBarVisibility, TitlebarStyle, hasCustomTitlebar, hasNativeTitlebar, DEFAULT_CUSTOM_TITLEBAR_HEIGHT } from '../../../../platform/window/common/window.js';\nimport { IContextMenuService } from '../../../../platform/contextview/browser/contextView.js';\nimport { StandardMouseEvent } from '../../../../base/browser/mouseEvent.js';\nimport { IConfigurationService, IConfigurationChangeEvent } from '../../../../platform/configuration/common/configuration.js';\nimport { DisposableStore, IDisposable } from '../../../../base/common/lifecycle.js';\nimport { IBrowserWorkbenchEnvironmentService } from '../../../services/environment/browser/environmentService.js';\nimport { IThemeService } from '../../../../platform/theme/common/themeService.js';\nimport { ThemeIcon } from '../../../../base/common/themables.js';\nimport { TITLE_BAR_ACTIVE_BACKGROUND, TITLE_BAR_ACTIVE_FOREGROUND, TITLE_BAR_INACTIVE_FOREGROUND, TITLE_BAR_INACTIVE_BACKGROUND, TITLE_BAR_BORDER, WORKBENCH_BACKGROUND } from '../../../common/theme.js';\nimport { isMacintosh, isWindows, isLinux, isWeb, isNative, platformLocale } from '../../../../base/common/platform.js';\nimport { Color } from '../../../../base/common/color.js';\nimport { EventType, EventHelper, Dimension, append, $, addDisposableListener, prepend, reset, getWindow, getWindowId, isAncestor, getActiveDocument, isHTMLElement } from '../../../../base/browser/dom.js';\nimport { CustomMenubarControl } from './menubarControl.js';\nimport { IInstantiationService, ServicesAccessor } from '../../../../platform/instantiation/common/instantiation.js';\nimport { Emitter, Event } from '../../../../base/common/event.js';\nimport { IStorageService, StorageScope } from '../../../../platform/storage/common/storage.js';\nimport { Parts, IWorkbenchLayoutService, ActivityBarPosition, LayoutSettings, EditorActionsLocation, EditorTabsMode } from '../../../services/layout/browser/layoutService.js';\nimport { createActionViewItem, createAndFillInActionBarActions } from '../../../../platform/actions/browser/menuEntryActionViewItem.js';\nimport { Action2, IMenu, IMenuService, MenuId, registerAction2 } from '../../../../platform/actions/common/actions.js';\nimport { IContextKeyService } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IHostService } from '../../../services/host/browser/host.js';\nimport { Codicon } from '../../../../base/common/codicons.js';\nimport { getIconRegistry } from '../../../../platform/theme/common/iconRegistry.js';\nimport { WindowTitle } from './windowTitle.js';\nimport { CommandCenterControl } from './commandCenterControl.js';\nimport { Categories } from '../../../../platform/action/common/actionCommonCategories.js';\nimport { WorkbenchToolBar } from '../../../../platform/actions/browser/toolbar.js';\nimport { ACCOUNTS_ACTIVITY_ID, GLOBAL_ACTIVITY_ID } from '../../../common/activity.js';\nimport { AccountsActivityActionViewItem, isAccountsActionVisible, SimpleAccountActivityActionViewItem, SimpleGlobalActivityActionViewItem } from '../globalCompositeBar.js';\nimport { HoverPosition } from '../../../../base/browser/ui/hover/hoverWidget.js';\nimport { IEditorGroupsContainer, IEditorGroupsService } from '../../../services/editor/common/editorGroupsService.js';\nimport { ActionRunner, IAction } from '../../../../base/common/actions.js';\nimport { IEditorService } from '../../../services/editor/common/editorService.js';\nimport { ActionsOrientation, IActionViewItem, prepareActions } from '../../../../base/browser/ui/actionbar/actionbar.js';\nimport { EDITOR_CORE_NAVIGATION_COMMANDS } from '../editor/editorCommands.js';\nimport { AnchorAlignment } from '../../../../base/browser/ui/contextview/contextview.js';\nimport { EditorPane } from '../editor/editorPane.js';\nimport { IKeybindingService } from '../../../../platform/keybinding/common/keybinding.js';\nimport { ResolvedKeybinding } from '../../../../base/common/keybindings.js';\nimport { EditorCommandsContextActionRunner } from '../editor/editorTabsControl.js';\nimport { IEditorCommandsContext, IEditorPartOptionsChangeEvent, IToolbarActions } from '../../../common/editor.js';\nimport { CodeWindow, mainWindow } from '../../../../base/browser/window.js';\nimport { ACCOUNTS_ACTIVITY_TILE_ACTION, GLOBAL_ACTIVITY_TITLE_ACTION } from './titlebarActions.js';\nimport { IView } from '../../../../base/browser/ui/grid/grid.js';\nimport { createInstantHoverDelegate } from '../../../../base/browser/ui/hover/hoverDelegateFactory.js';\nimport { IBaseActionViewItemOptions } from '../../../../base/browser/ui/actionbar/actionViewItems.js';\nimport { IHoverDelegate } from '../../../../base/browser/ui/hover/hoverDelegate.js';\nimport { CommandsRegistry } from '../../../../platform/commands/common/commands.js';\n\nexport interface ITitleVariable {\n\treadonly name: string;\n\treadonly contextKey: string;\n}\n\nexport interface ITitleProperties {\n\tisPure?: boolean;\n\tisAdmin?: boolean;\n\tprefix?: string;\n}\n\nexport interface ITitlebarPart extends IDisposable {\n\n\t/**\n\t * An event when the menubar visibility changes.\n\t */\n\treadonly onMenubarVisibilityChange: Event<boolean>;\n\n\t/**\n\t * Update some environmental title properties.\n\t */\n\tupdateProperties(properties: ITitleProperties): void;\n\n\t/**\n\t * Adds variables to be supported in the window title.\n\t */\n\tregisterVariables(variables: ITitleVariable[]): void;\n}\n\nexport class BrowserTitleService extends MultiWindowParts<BrowserTitlebarPart> implements ITitleService {\n\n\tdeclare _serviceBrand: undefined;\n\n\treadonly mainPart = this._register(this.createMainTitlebarPart());\n\n\tconstructor(\n\t\t@IInstantiationService protected readonly instantiationService: IInstantiationService,\n\t\t@IStorageService storageService: IStorageService,\n\t\t@IThemeService themeService: IThemeService\n\t) {\n\t\tsuper('workbench.titleService', themeService, storageService);\n\n\t\tthis._register(this.registerPart(this.mainPart));\n\n\t\tthis.registerActions();\n\t\tthis.registerAPICommands();\n\t}\n\n\tprotected createMainTitlebarPart(): BrowserTitlebarPart {\n\t\treturn this.instantiationService.createInstance(MainBrowserTitlebarPart);\n\t}\n\n\tprivate registerActions(): void {\n\n\t\t// Focus action\n\t\tconst that = this;\n\t\tthis._register(registerAction2(class FocusTitleBar extends Action2 {\n\n\t\t\tconstructor() {\n\t\t\t\tsuper({\n\t\t\t\t\tid: `workbench.action.focusTitleBar`,\n\t\t\t\t\ttitle: localize2('focusTitleBar', 'Focus Title Bar'),\n\t\t\t\t\tcategory: Categories.View,\n\t\t\t\t\tf1: true,\n\t\t\t\t});\n\t\t\t}\n\n\t\t\trun(): void {\n\t\t\t\tthat.getPartByDocument(getActiveDocument()).focus();\n\t\t\t}\n\t\t}));\n\t}\n\n\tprivate registerAPICommands(): void {\n\t\tthis._register(CommandsRegistry.registerCommand({\n\t\t\tid: 'registerWindowTitleVariable',\n\t\t\thandler: (accessor: ServicesAccessor, name: string, contextKey: string) => {\n\t\t\t\tthis.registerVariables([{ name, contextKey }]);\n\t\t\t},\n\t\t\tmetadata: {\n\t\t\t\tdescription: 'Registers a new title variable',\n\t\t\t\targs: [\n\t\t\t\t\t{ name: 'name', schema: { type: 'string' }, description: 'The name of the variable to register' },\n\t\t\t\t\t{ name: 'contextKey', schema: { type: 'string' }, description: 'The context key to use for the value of the variable' }\n\t\t\t\t]\n\t\t\t}\n\t\t}));\n\t}\n\n\t//#region Auxiliary Titlebar Parts\n\n\tcreateAuxiliaryTitlebarPart(container: HTMLElement, editorGroupsContainer: IEditorGroupsContainer): IAuxiliaryTitlebarPart {\n\t\tconst titlebarPartContainer = document.createElement('div');\n\t\ttitlebarPartContainer.classList.add('part', 'titlebar');\n\t\ttitlebarPartContainer.setAttribute('role', 'none');\n\t\ttitlebarPartContainer.style.position = 'relative';\n\t\tcontainer.insertBefore(titlebarPartContainer, container.firstChild); // ensure we are first element\n\n\t\tconst disposables = new DisposableStore();\n\n\t\tconst titlebarPart = this.doCreateAuxiliaryTitlebarPart(titlebarPartContainer, editorGroupsContainer);\n\t\tdisposables.add(this.registerPart(titlebarPart));\n\n\t\tdisposables.add(Event.runAndSubscribe(titlebarPart.onDidChange, () => titlebarPartContainer.style.height = `${titlebarPart.height}px`));\n\t\ttitlebarPart.create(titlebarPartContainer);\n\n\t\tif (this.properties) {\n\t\t\ttitlebarPart.updateProperties(this.properties);\n\t\t}\n\n\t\tif (this.variables.size) {\n\t\t\ttitlebarPart.registerVariables(Array.from(this.variables.values()));\n\t\t}\n\n\t\tEvent.once(titlebarPart.onWillDispose)(() => disposables.dispose());\n\n\t\treturn titlebarPart;\n\t}\n\n\tprotected doCreateAuxiliaryTitlebarPart(container: HTMLElement, editorGroupsContainer: IEditorGroupsContainer): BrowserTitlebarPart & IAuxiliaryTitlebarPart {\n\t\treturn this.instantiationService.createInstance(AuxiliaryBrowserTitlebarPart, container, editorGroupsContainer, this.mainPart);\n\t}\n\n\t//#endregion\n\n\n\t//#region Service Implementation\n\n\treadonly onMenubarVisibilityChange = this.mainPart.onMenubarVisibilityChange;\n\n\tprivate properties: ITitleProperties | undefined = undefined;\n\n\tupdateProperties(properties: ITitleProperties): void {\n\t\tthis.properties = properties;\n\n\t\tfor (const part of this.parts) {\n\t\t\tpart.updateProperties(properties);\n\t\t}\n\t}\n\n\tprivate readonly variables = new Map<string, ITitleVariable>();\n\n\tregisterVariables(variables: ITitleVariable[]): void {\n\t\tconst newVariables: ITitleVariable[] = [];\n\n\t\tfor (const variable of variables) {\n\t\t\tif (!this.variables.has(variable.name)) {\n\t\t\t\tthis.variables.set(variable.name, variable);\n\t\t\t\tnewVariables.push(variable);\n\t\t\t}\n\t\t}\n\n\t\tfor (const part of this.parts) {\n\t\t\tpart.registerVariables(newVariables);\n\t\t}\n\t}\n\n\t//#endregion\n}\n\nexport class BrowserTitlebarPart extends Part implements ITitlebarPart {\n\n\t//#region IView\n\n\treadonly minimumWidth: number = 0;\n\treadonly maximumWidth: number = Number.POSITIVE_INFINITY;\n\n\tget minimumHeight(): number {\n\t\tconst wcoEnabled = isWeb && isWCOEnabled();\n\t\tlet value = this.isCommandCenterVisible || wcoEnabled ? DEFAULT_CUSTOM_TITLEBAR_HEIGHT : 30;\n\t\tif (wcoEnabled) {\n\t\t\tvalue = Math.max(value, getWCOTitlebarAreaRect(getWindow(this.element))?.height ?? 0);\n\t\t}\n\n\t\treturn value / (this.preventZoom ? getZoomFactor(getWindow(this.element)) : 1);\n\t}\n\n\tget maximumHeight(): number { return this.minimumHeight; }\n\n\t//#endregion\n\n\t//#region Events\n\n\tprivate _onMenubarVisibilityChange = this._register(new Emitter<boolean>());\n\treadonly onMenubarVisibilityChange = this._onMenubarVisibilityChange.event;\n\n\tprivate readonly _onWillDispose = this._register(new Emitter<void>());\n\treadonly onWillDispose = this._onWillDispose.event;\n\n\t//#endregion\n\n\tprotected rootContainer!: HTMLElement;\n\tprotected windowControlsContainer: HTMLElement | undefined;\n\tprotected dragRegion: HTMLElement | undefined;\n\tprivate title!: HTMLElement;\n\n\tprivate leftContent!: HTMLElement;\n\tprivate centerContent!: HTMLElement;\n\tprivate rightContent!: HTMLElement;\n\n\tprotected customMenubar: CustomMenubarControl | undefined;\n\tprotected appIcon: HTMLElement | undefined;\n\tprivate appIconBadge: HTMLElement | undefined;\n\tprotected menubar?: HTMLElement;\n\tprivate lastLayoutDimensions: Dimension | undefined;\n\n\tprivate actionToolBar!: WorkbenchToolBar;\n\tprivate readonly actionToolBarDisposable = this._register(new DisposableStore());\n\tprivate readonly editorActionsChangeDisposable = this._register(new DisposableStore());\n\tprivate actionToolBarElement!: HTMLElement;\n\n\tprivate layoutToolbarMenu: IMenu | undefined;\n\tprivate readonly editorToolbarMenuDisposables = this._register(new DisposableStore());\n\tprivate readonly layoutToolbarMenuDisposables = this._register(new DisposableStore());\n\tprivate readonly activityToolbarDisposables = this._register(new DisposableStore());\n\n\tprivate readonly hoverDelegate: IHoverDelegate;\n\n\tprivate readonly titleDisposables = this._register(new DisposableStore());\n\tprivate titleBarStyle: TitlebarStyle = getTitleBarStyle(this.configurationService);\n\n\tprivate isInactive: boolean = false;\n\tprivate readonly isAuxiliary: boolean;\n\n\tprivate readonly windowTitle: WindowTitle;\n\n\tprivate readonly editorService: IEditorService;\n\tprivate readonly editorGroupsContainer: IEditorGroupsContainer;\n\n\tconstructor(\n\t\tid: string,\n\t\ttargetWindow: CodeWindow,\n\t\teditorGroupsContainer: IEditorGroupsContainer | 'main',\n\t\t@IContextMenuService private readonly contextMenuService: IContextMenuService,\n\t\t@IConfigurationService protected readonly configurationService: IConfigurationService,\n\t\t@IBrowserWorkbenchEnvironmentService protected readonly environmentService: IBrowserWorkbenchEnvironmentService,\n\t\t@IInstantiationService protected readonly instantiationService: IInstantiationService,\n\t\t@IThemeService themeService: IThemeService,\n\t\t@IStorageService private readonly storageService: IStorageService,\n\t\t@IWorkbenchLayoutService layoutService: IWorkbenchLayoutService,\n\t\t@IContextKeyService private readonly contextKeyService: IContextKeyService,\n\t\t@IHostService private readonly hostService: IHostService,\n\t\t@IEditorGroupsService private readonly editorGroupService: IEditorGroupsService,\n\t\t@IEditorService editorService: IEditorService,\n\t\t@IMenuService private readonly menuService: IMenuService,\n\t\t@IKeybindingService private readonly keybindingService: IKeybindingService\n\t) {\n\t\tsuper(id, { hasTitle: false }, themeService, storageService, layoutService);\n\n\t\tthis.isAuxiliary = editorGroupsContainer !== 'main';\n\t\tthis.editorService = editorService.createScoped(editorGroupsContainer, this._store);\n\t\tthis.editorGroupsContainer = editorGroupsContainer === 'main' ? editorGroupService.mainPart : editorGroupsContainer;\n\n\t\tthis.windowTitle = this._register(instantiationService.createInstance(WindowTitle, targetWindow, editorGroupsContainer));\n\n\t\tthis.hoverDelegate = this._register(createInstantHoverDelegate());\n\n\t\tthis.registerListeners(getWindowId(targetWindow));\n\t}\n\n\tprivate registerListeners(targetWindowId: number): void {\n\t\tthis._register(this.hostService.onDidChangeFocus(focused => focused ? this.onFocus() : this.onBlur()));\n\t\tthis._register(this.hostService.onDidChangeActiveWindow(windowId => windowId === targetWindowId ? this.onFocus() : this.onBlur()));\n\t\tthis._register(this.configurationService.onDidChangeConfiguration(e => this.onConfigurationChanged(e)));\n\t\tthis._register(this.editorGroupService.onDidChangeEditorPartOptions(e => this.onEditorPartConfigurationChange(e)));\n\t}\n\n\tprivate onBlur(): void {\n\t\tthis.isInactive = true;\n\n\t\tthis.updateStyles();\n\t}\n\n\tprivate onFocus(): void {\n\t\tthis.isInactive = false;\n\n\t\tthis.updateStyles();\n\t}\n\n\tprivate onEditorPartConfigurationChange({ oldPartOptions, newPartOptions }: IEditorPartOptionsChangeEvent): void {\n\t\tif (\n\t\t\toldPartOptions.editorActionsLocation !== newPartOptions.editorActionsLocation ||\n\t\t\toldPartOptions.showTabs !== newPartOptions.showTabs\n\t\t) {\n\t\t\tif (hasCustomTitlebar(this.configurationService, this.titleBarStyle) && this.actionToolBar) {\n\t\t\t\tthis.createActionToolBar();\n\t\t\t\tthis.createActionToolBarMenus({ editorActions: true });\n\t\t\t\tthis._onDidChange.fire(undefined);\n\t\t\t}\n\t\t}\n\t}\n\n\tprotected onConfigurationChanged(event: IConfigurationChangeEvent): void {\n\n\t\t// Custom menu bar (disabled if auxiliary)\n\t\tif (!this.isAuxiliary && !hasNativeTitlebar(this.configurationService, this.titleBarStyle) && (!isMacintosh || isWeb)) {\n\t\t\tif (event.affectsConfiguration('window.menuBarVisibility')) {\n\t\t\t\tif (this.currentMenubarVisibility === 'compact') {\n\t\t\t\t\tthis.uninstallMenubar();\n\t\t\t\t} else {\n\t\t\t\t\tthis.installMenubar();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Actions\n\t\tif (hasCustomTitlebar(this.configurationService, this.titleBarStyle) && this.actionToolBar) {\n\t\t\tconst affectsLayoutControl = event.affectsConfiguration(LayoutSettings.LAYOUT_ACTIONS);\n\t\t\tconst affectsActivityControl = event.affectsConfiguration(LayoutSettings.ACTIVITY_BAR_LOCATION);\n\n\t\t\tif (affectsLayoutControl || affectsActivityControl) {\n\t\t\t\tthis.createActionToolBarMenus({ layoutActions: affectsLayoutControl, activityActions: affectsActivityControl });\n\n\t\t\t\tthis._onDidChange.fire(undefined);\n\t\t\t}\n\t\t}\n\n\t\t// Command Center\n\t\tif (event.affectsConfiguration(LayoutSettings.COMMAND_CENTER)) {\n\t\t\tthis.createTitle();\n\n\t\t\tthis._onDidChange.fire(undefined);\n\t\t}\n\t}\n\n\tprotected installMenubar(): void {\n\t\tif (this.menubar) {\n\t\t\treturn; // If the menubar is already installed, skip\n\t\t}\n\n\t\tthis.customMenubar = this._register(this.instantiationService.createInstance(CustomMenubarControl));\n\n\t\tthis.menubar = append(this.leftContent, $('div.menubar'));\n\t\tthis.menubar.setAttribute('role', 'menubar');\n\n\t\tthis._register(this.customMenubar.onVisibilityChange(e => this.onMenubarVisibilityChanged(e)));\n\n\t\tthis.customMenubar.create(this.menubar);\n\t}\n\n\tprivate uninstallMenubar(): void {\n\t\tthis.customMenubar?.dispose();\n\t\tthis.customMenubar = undefined;\n\n\t\tthis.menubar?.remove();\n\t\tthis.menubar = undefined;\n\n\t\tthis.onMenubarVisibilityChanged(false);\n\t}\n\n\tprotected onMenubarVisibilityChanged(visible: boolean): void {\n\t\tif (isWeb || isWindows || isLinux) {\n\t\t\tif (this.lastLayoutDimensions) {\n\t\t\t\tthis.layout(this.lastLayoutDimensions.width, this.lastLayoutDimensions.height);\n\t\t\t}\n\n\t\t\tthis._onMenubarVisibilityChange.fire(visible);\n\t\t}\n\t}\n\n\tupdateProperties(properties: ITitleProperties): void {\n\t\tthis.windowTitle.updateProperties(properties);\n\t}\n\n\tregisterVariables(variables: ITitleVariable[]): void {\n\t\tthis.windowTitle.registerVariables(variables);\n\t}\n\n\tprotected override createContentArea(parent: HTMLElement): HTMLElement {\n\t\tthis.element = parent;\n\t\tthis.rootContainer = append(parent, $('.titlebar-container'));\n\n\t\tthis.leftContent = append(this.rootContainer, $('.titlebar-left'));\n\t\tthis.centerContent = append(this.rootContainer, $('.titlebar-center'));\n\t\tthis.rightContent = append(this.rootContainer, $('.titlebar-right'));\n\n\t\t// App Icon (Native Windows/Linux and Web)\n\t\tif (!isMacintosh && !isWeb && !hasNativeTitlebar(this.configurationService, this.titleBarStyle)) {\n\t\t\tthis.appIcon = prepend(this.leftContent, $('a.window-appicon'));\n\n\t\t\t// Web-only home indicator and menu (not for auxiliary windows)\n\t\t\tif (!this.isAuxiliary && isWeb) {\n\t\t\t\tconst homeIndicator = this.environmentService.options?.homeIndicator;\n\t\t\t\tif (homeIndicator) {\n\t\t\t\t\tconst icon: ThemeIcon = getIconRegistry().getIcon(homeIndicator.icon) ? { id: homeIndicator.icon } : Codicon.code;\n\n\t\t\t\t\tthis.appIcon.setAttribute('href', homeIndicator.href);\n\t\t\t\t\tthis.appIcon.classList.add(...ThemeIcon.asClassNameArray(icon));\n\t\t\t\t\tthis.appIconBadge = document.createElement('div');\n\t\t\t\t\tthis.appIconBadge.classList.add('home-bar-icon-badge');\n\t\t\t\t\tthis.appIcon.appendChild(this.appIconBadge);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Draggable region that we can manipulate for #52522\n\t\tthis.dragRegion = prepend(this.rootContainer, $('div.titlebar-drag-region'));\n\n\t\t// Menubar: install a custom menu bar depending on configuration\n\t\tif (\n\t\t\t!this.isAuxiliary &&\n\t\t\t!hasNativeTitlebar(this.configurationService, this.titleBarStyle) &&\n\t\t\t(!isMacintosh || isWeb) &&\n\t\t\tthis.currentMenubarVisibility !== 'compact'\n\t\t) {\n\t\t\tthis.installMenubar();\n\t\t}\n\n\t\t// Title\n\t\tthis.title = append(this.centerContent, $('div.window-title'));\n\t\tthis.createTitle();\n\n\t\t// Create Toolbar Actions\n\t\tif (hasCustomTitlebar(this.configurationService, this.titleBarStyle)) {\n\t\t\tthis.actionToolBarElement = append(this.rightContent, $('div.action-toolbar-container'));\n\t\t\tthis.createActionToolBar();\n\t\t\tthis.createActionToolBarMenus();\n\t\t}\n\n\t\t// Window Controls Container\n\t\tif (!hasNativeTitlebar(this.configurationService, this.titleBarStyle)) {\n\t\t\tlet primaryWindowControlsLocation = isMacintosh ? 'left' : 'right';\n\t\t\tif (isMacintosh && isNative) {\n\n\t\t\t\t// Check if the locale is RTL, macOS will move traffic lights in RTL locales\n\t\t\t\t// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/Locale/textInfo\n\n\t\t\t\tconst localeInfo = new Intl.Locale(platformLocale) as any;\n\t\t\t\tif (localeInfo?.textInfo?.direction === 'rtl') {\n\t\t\t\t\tprimaryWindowControlsLocation = 'right';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (isMacintosh && isNative && primaryWindowControlsLocation === 'left') {\n\t\t\t\t// macOS native: controls are on the left and the container is not needed to make room\n\t\t\t\t// for something, except for web where a custom menu being supported). not putting the\n\t\t\t\t// container helps with allowing to move the window when clicking very close to the\n\t\t\t\t// window control buttons.\n\t\t\t} else {\n\t\t\t\tthis.windowControlsContainer = append(primaryWindowControlsLocation === 'left' ? this.leftContent : this.rightContent, $('div.window-controls-container'));\n\t\t\t\tif (isWeb) {\n\t\t\t\t\t// Web: its possible to have control overlays on both sides, for example on macOS\n\t\t\t\t\t// with window controls on the left and PWA controls on the right.\n\t\t\t\t\tappend(primaryWindowControlsLocation === 'left' ? this.rightContent : this.leftContent, $('div.window-controls-container'));\n\t\t\t\t}\n\n\t\t\t\tif (isWCOEnabled()) {\n\t\t\t\t\tthis.windowControlsContainer.classList.add('wco-enabled');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Context menu over title bar: depending on the OS and the location of the click this will either be\n\t\t// the overall context menu for the entire title bar or a specific title context menu.\n\t\t// Windows / Linux: we only support the overall context menu on the title bar\n\t\t// macOS: we support both the overall context menu and the title context menu.\n\t\t//        in addition, we allow Cmd+click to bring up the title context menu.\n\t\t{\n\t\t\tthis._register(addDisposableListener(this.rootContainer, EventType.CONTEXT_MENU, e => {\n\t\t\t\tEventHelper.stop(e);\n\n\t\t\t\tlet targetMenu: MenuId;\n\t\t\t\tif (isMacintosh && isHTMLElement(e.target) && isAncestor(e.target, this.title)) {\n\t\t\t\t\ttargetMenu = MenuId.TitleBarTitleContext;\n\t\t\t\t} else {\n\t\t\t\t\ttargetMenu = MenuId.TitleBarContext;\n\t\t\t\t}\n\n\t\t\t\tthis.onContextMenu(e, targetMenu);\n\t\t\t}));\n\n\t\t\tif (isMacintosh) {\n\t\t\t\tthis._register(addDisposableListener(this.title, EventType.MOUSE_DOWN, e => {\n\t\t\t\t\tif (e.metaKey) {\n\t\t\t\t\t\tEventHelper.stop(e, true /* stop bubbling to prevent command center from opening */);\n\n\t\t\t\t\t\tthis.onContextMenu(e, MenuId.TitleBarTitleContext);\n\t\t\t\t\t}\n\t\t\t\t}, true /* capture phase to prevent command center from opening */));\n\t\t\t}\n\t\t}\n\n\t\tthis.updateStyles();\n\n\t\treturn this.element;\n\t}\n\n\tprivate createTitle(): void {\n\t\tthis.titleDisposables.clear();\n\n\t\t// Text Title\n\t\tif (!this.isCommandCenterVisible) {\n\t\t\tthis.title.innerText = this.windowTitle.value;\n\t\t\tthis.titleDisposables.add(this.windowTitle.onDidChange(() => {\n\t\t\t\tthis.title.innerText = this.windowTitle.value;\n\t\t\t}));\n\t\t}\n\n\t\t// Menu Title\n\t\telse {\n\t\t\tconst commandCenter = this.instantiationService.createInstance(CommandCenterControl, this.windowTitle, this.hoverDelegate);\n\t\t\treset(this.title, commandCenter.element);\n\t\t\tthis.titleDisposables.add(commandCenter);\n\t\t}\n\t}\n\n\tprivate actionViewItemProvider(action: IAction, options: IBaseActionViewItemOptions): IActionViewItem | undefined {\n\n\t\t// --- Activity Actions\n\t\tif (!this.isAuxiliary) {\n\t\t\tif (action.id === GLOBAL_ACTIVITY_ID) {\n\t\t\t\treturn this.instantiationService.createInstance(SimpleGlobalActivityActionViewItem, { position: () => HoverPosition.BELOW }, options);\n\t\t\t}\n\t\t\tif (action.id === ACCOUNTS_ACTIVITY_ID) {\n\t\t\t\treturn this.instantiationService.createInstance(SimpleAccountActivityActionViewItem, { position: () => HoverPosition.BELOW }, options);\n\t\t\t}\n\t\t}\n\n\t\t// --- Editor Actions\n\t\tconst activeEditorPane = this.editorGroupsContainer.activeGroup?.activeEditorPane;\n\t\tif (activeEditorPane && activeEditorPane instanceof EditorPane) {\n\t\t\tconst result = activeEditorPane.getActionViewItem(action, options);\n\n\t\t\tif (result) {\n\t\t\t\treturn result;\n\t\t\t}\n\t\t}\n\n\t\t// Check extensions\n\t\treturn createActionViewItem(this.instantiationService, action, { ...options, menuAsChild: false });\n\t}\n\n\tprivate getKeybinding(action: IAction): ResolvedKeybinding | undefined {\n\t\tconst editorPaneAwareContextKeyService = this.editorGroupsContainer.activeGroup?.activeEditorPane?.scopedContextKeyService ?? this.contextKeyService;\n\n\t\treturn this.keybindingService.lookupKeybinding(action.id, editorPaneAwareContextKeyService);\n\t}\n\n\tprivate createActionToolBar() {\n\n\t\t// Creates the action tool bar. Depends on the configuration of the title bar menus\n\t\t// Requires to be recreated whenever editor actions enablement changes\n\n\t\tthis.actionToolBarDisposable.clear();\n\n\t\tthis.actionToolBar = this.actionToolBarDisposable.add(this.instantiationService.createInstance(WorkbenchToolBar, this.actionToolBarElement, {\n\t\t\tcontextMenu: MenuId.TitleBarContext,\n\t\t\torientation: ActionsOrientation.HORIZONTAL,\n\t\t\tariaLabel: localize('ariaLabelTitleActions', \"Title actions\"),\n\t\t\tgetKeyBinding: action => this.getKeybinding(action),\n\t\t\toverflowBehavior: { maxItems: 9, exempted: [ACCOUNTS_ACTIVITY_ID, GLOBAL_ACTIVITY_ID, ...EDITOR_CORE_NAVIGATION_COMMANDS] },\n\t\t\tanchorAlignmentProvider: () => AnchorAlignment.RIGHT,\n\t\t\ttelemetrySource: 'titlePart',\n\t\t\thighlightToggledItems: this.editorActionsEnabled, // Only show toggled state for editor actions (Layout actions are not shown as toggled)\n\t\t\tactionViewItemProvider: (action, options) => this.actionViewItemProvider(action, options),\n\t\t\thoverDelegate: this.hoverDelegate\n\t\t}));\n\n\t\tif (this.editorActionsEnabled) {\n\t\t\tthis.actionToolBarDisposable.add(this.editorGroupsContainer.onDidChangeActiveGroup(() => this.createActionToolBarMenus({ editorActions: true })));\n\t\t}\n\t}\n\n\tprivate createActionToolBarMenus(update: true | { editorActions?: boolean; layoutActions?: boolean; activityActions?: boolean } = true) {\n\t\tif (update === true) {\n\t\t\tupdate = { editorActions: true, layoutActions: true, activityActions: true };\n\t\t}\n\n\t\tconst updateToolBarActions = () => {\n\t\t\tconst actions: IToolbarActions = { primary: [], secondary: [] };\n\n\t\t\t// --- Editor Actions\n\t\t\tif (this.editorActionsEnabled) {\n\t\t\t\tthis.editorActionsChangeDisposable.clear();\n\n\t\t\t\tconst activeGroup = this.editorGroupsContainer.activeGroup;\n\t\t\t\tif (activeGroup) {\n\t\t\t\t\tconst editorActions = activeGroup.createEditorActions(this.editorActionsChangeDisposable);\n\n\t\t\t\t\tactions.primary.push(...editorActions.actions.primary);\n\t\t\t\t\tactions.secondary.push(...editorActions.actions.secondary);\n\n\t\t\t\t\tthis.editorActionsChangeDisposable.add(editorActions.onDidChange(() => updateToolBarActions()));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// --- Layout Actions\n\t\t\tif (this.layoutToolbarMenu) {\n\t\t\t\tcreateAndFillInActionBarActions(\n\t\t\t\t\tthis.layoutToolbarMenu,\n\t\t\t\t\t{},\n\t\t\t\t\tactions,\n\t\t\t\t\t() => !this.editorActionsEnabled // Layout Actions in overflow menu when editor actions enabled in title bar\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t// --- Activity Actions\n\t\t\tif (this.activityActionsEnabled) {\n\t\t\t\tif (isAccountsActionVisible(this.storageService)) {\n\t\t\t\t\tactions.primary.push(ACCOUNTS_ACTIVITY_TILE_ACTION);\n\t\t\t\t}\n\t\t\t\tactions.primary.push(GLOBAL_ACTIVITY_TITLE_ACTION);\n\t\t\t}\n\n\t\t\tthis.actionToolBar.setActions(prepareActions(actions.primary), prepareActions(actions.secondary));\n\t\t};\n\n\t\t// Create/Update the menus which should be in the title tool bar\n\n\t\tif (update.editorActions) {\n\t\t\tthis.editorToolbarMenuDisposables.clear();\n\n\t\t\t// The editor toolbar menu is handled by the editor group so we do not need to manage it here.\n\t\t\t// However, depending on the active editor, we need to update the context and action runner of the toolbar menu.\n\t\t\tif (this.editorActionsEnabled && this.editorService.activeEditor !== undefined) {\n\t\t\t\tconst context: IEditorCommandsContext = { groupId: this.editorGroupsContainer.activeGroup.id };\n\n\t\t\t\tthis.actionToolBar.actionRunner = new EditorCommandsContextActionRunner(context);\n\t\t\t\tthis.actionToolBar.context = context;\n\t\t\t\tthis.editorToolbarMenuDisposables.add(this.actionToolBar.actionRunner);\n\t\t\t} else {\n\t\t\t\tthis.actionToolBar.actionRunner = new ActionRunner();\n\t\t\t\tthis.actionToolBar.context = undefined;\n\n\t\t\t\tthis.editorToolbarMenuDisposables.add(this.actionToolBar.actionRunner);\n\t\t\t}\n\t\t}\n\n\t\tif (update.layoutActions) {\n\t\t\tthis.layoutToolbarMenuDisposables.clear();\n\n\t\t\tif (this.layoutControlEnabled) {\n\t\t\t\tthis.layoutToolbarMenu = this.menuService.createMenu(MenuId.LayoutControlMenu, this.contextKeyService);\n\n\t\t\t\tthis.layoutToolbarMenuDisposables.add(this.layoutToolbarMenu);\n\t\t\t\tthis.layoutToolbarMenuDisposables.add(this.layoutToolbarMenu.onDidChange(() => updateToolBarActions()));\n\t\t\t} else {\n\t\t\t\tthis.layoutToolbarMenu = undefined;\n\t\t\t}\n\t\t}\n\n\t\tif (update.activityActions) {\n\t\t\tthis.activityToolbarDisposables.clear();\n\t\t\tif (this.activityActionsEnabled) {\n\t\t\t\tthis.activityToolbarDisposables.add(this.storageService.onDidChangeValue(StorageScope.PROFILE, AccountsActivityActionViewItem.ACCOUNTS_VISIBILITY_PREFERENCE_KEY, this._store)(() => updateToolBarActions()));\n\t\t\t}\n\t\t}\n\n\t\tupdateToolBarActions();\n\t}\n\n\toverride updateStyles(): void {\n\t\tsuper.updateStyles();\n\n\t\t// Part container\n\t\tif (this.element) {\n\t\t\tif (this.isInactive) {\n\t\t\t\tthis.element.classList.add('inactive');\n\t\t\t} else {\n\t\t\t\tthis.element.classList.remove('inactive');\n\t\t\t}\n\n\t\t\tconst titleBackground = this.getColor(this.isInactive ? TITLE_BAR_INACTIVE_BACKGROUND : TITLE_BAR_ACTIVE_BACKGROUND, (color, theme) => {\n\t\t\t\t// LCD Rendering Support: the title bar part is a defining its own GPU layer.\n\t\t\t\t// To benefit from LCD font rendering, we must ensure that we always set an\n\t\t\t\t// opaque background color. As such, we compute an opaque color given we know\n\t\t\t\t// the background color is the workbench background.\n\t\t\t\treturn color.isOpaque() ? color : color.makeOpaque(WORKBENCH_BACKGROUND(theme));\n\t\t\t}) || '';\n\t\t\tthis.element.style.backgroundColor = titleBackground;\n\n\t\t\tif (this.appIconBadge) {\n\t\t\t\tthis.appIconBadge.style.backgroundColor = titleBackground;\n\t\t\t}\n\n\t\t\tif (titleBackground && Color.fromHex(titleBackground).isLighter()) {\n\t\t\t\tthis.element.classList.add('light');\n\t\t\t} else {\n\t\t\t\tthis.element.classList.remove('light');\n\t\t\t}\n\n\t\t\tconst titleForeground = this.getColor(this.isInactive ? TITLE_BAR_INACTIVE_FOREGROUND : TITLE_BAR_ACTIVE_FOREGROUND);\n\t\t\tthis.element.style.color = titleForeground || '';\n\n\t\t\tconst titleBorder = this.getColor(TITLE_BAR_BORDER);\n\t\t\tthis.element.style.borderBottom = titleBorder ? `1px solid ${titleBorder}` : '';\n\t\t}\n\t}\n\n\tprotected onContextMenu(e: MouseEvent, menuId: MenuId): void {\n\t\tconst event = new StandardMouseEvent(getWindow(this.element), e);\n\n\t\t// Show it\n\t\tthis.contextMenuService.showContextMenu({\n\t\t\tgetAnchor: () => event,\n\t\t\tmenuId,\n\t\t\tcontextKeyService: this.contextKeyService,\n\t\t\tdomForShadowRoot: isMacintosh && isNative ? event.target : undefined\n\t\t});\n\t}\n\n\tprotected get currentMenubarVisibility(): MenuBarVisibility {\n\t\tif (this.isAuxiliary) {\n\t\t\treturn 'hidden';\n\t\t}\n\n\t\treturn getMenuBarVisibility(this.configurationService);\n\t}\n\n\tprivate get layoutControlEnabled(): boolean {\n\t\treturn !this.isAuxiliary && this.configurationService.getValue<boolean>(LayoutSettings.LAYOUT_ACTIONS) !== false;\n\t}\n\n\tprotected get isCommandCenterVisible() {\n\t\treturn this.configurationService.getValue<boolean>(LayoutSettings.COMMAND_CENTER) !== false;\n\t}\n\n\tprivate get editorActionsEnabled(): boolean {\n\t\treturn this.editorGroupService.partOptions.editorActionsLocation === EditorActionsLocation.TITLEBAR ||\n\t\t\t(\n\t\t\t\tthis.editorGroupService.partOptions.editorActionsLocation === EditorActionsLocation.DEFAULT &&\n\t\t\t\tthis.editorGroupService.partOptions.showTabs === EditorTabsMode.NONE\n\t\t\t);\n\t}\n\n\tprivate get activityActionsEnabled(): boolean {\n\t\tconst activityBarPosition = this.configurationService.getValue<ActivityBarPosition>(LayoutSettings.ACTIVITY_BAR_LOCATION);\n\t\treturn !this.isAuxiliary && (activityBarPosition === ActivityBarPosition.TOP || activityBarPosition === ActivityBarPosition.BOTTOM);\n\t}\n\n\tget hasZoomableElements(): boolean {\n\t\tconst hasMenubar = !(this.currentMenubarVisibility === 'hidden' || this.currentMenubarVisibility === 'compact' || (!isWeb && isMacintosh));\n\t\tconst hasCommandCenter = this.isCommandCenterVisible;\n\t\tconst hasToolBarActions = this.layoutControlEnabled || this.editorActionsEnabled || this.activityActionsEnabled;\n\t\treturn hasMenubar || hasCommandCenter || hasToolBarActions;\n\t}\n\n\tget preventZoom(): boolean {\n\t\t// Prevent zooming behavior if any of the following conditions are met:\n\t\t// 1. Shrinking below the window control size (zoom < 1)\n\t\t// 2. No custom items are present in the title bar\n\n\t\treturn getZoomFactor(getWindow(this.element)) < 1 || !this.hasZoomableElements;\n\t}\n\n\toverride layout(width: number, height: number): void {\n\t\tthis.updateLayout(new Dimension(width, height));\n\n\t\tsuper.layoutContents(width, height);\n\t}\n\n\tprivate updateLayout(dimension: Dimension): void {\n\t\tthis.lastLayoutDimensions = dimension;\n\n\t\tif (hasCustomTitlebar(this.configurationService, this.titleBarStyle)) {\n\t\t\tconst zoomFactor = getZoomFactor(getWindow(this.element));\n\n\t\t\tthis.element.style.setProperty('--zoom-factor', zoomFactor.toString());\n\t\t\tthis.rootContainer.classList.toggle('counter-zoom', this.preventZoom);\n\n\t\t\tif (this.customMenubar) {\n\t\t\t\tconst menubarDimension = new Dimension(0, dimension.height);\n\t\t\t\tthis.customMenubar.layout(menubarDimension);\n\t\t\t}\n\t\t}\n\t}\n\n\tfocus(): void {\n\t\tif (this.customMenubar) {\n\t\t\tthis.customMenubar.toggleFocus();\n\t\t} else {\n\t\t\t(this.element.querySelector('[tabindex]:not([tabindex=\"-1\"])') as HTMLElement).focus();\n\t\t}\n\t}\n\n\ttoJSON(): object {\n\t\treturn {\n\t\t\ttype: Parts.TITLEBAR_PART\n\t\t};\n\t}\n\n\toverride dispose(): void {\n\t\tthis._onWillDispose.fire();\n\n\t\tsuper.dispose();\n\t}\n}\n\nexport class MainBrowserTitlebarPart extends BrowserTitlebarPart {\n\n\tconstructor(\n\t\t@IContextMenuService contextMenuService: IContextMenuService,\n\t\t@IConfigurationService configurationService: IConfigurationService,\n\t\t@IBrowserWorkbenchEnvironmentService environmentService: IBrowserWorkbenchEnvironmentService,\n\t\t@IInstantiationService instantiationService: IInstantiationService,\n\t\t@IThemeService themeService: IThemeService,\n\t\t@IStorageService storageService: IStorageService,\n\t\t@IWorkbenchLayoutService layoutService: IWorkbenchLayoutService,\n\t\t@IContextKeyService contextKeyService: IContextKeyService,\n\t\t@IHostService hostService: IHostService,\n\t\t@IEditorGroupsService editorGroupService: IEditorGroupsService,\n\t\t@IEditorService editorService: IEditorService,\n\t\t@IMenuService menuService: IMenuService,\n\t\t@IKeybindingService keybindingService: IKeybindingService,\n\t) {\n\t\tsuper(Parts.TITLEBAR_PART, mainWindow, 'main', contextMenuService, configurationService, environmentService, instantiationService, themeService, storageService, layoutService, contextKeyService, hostService, editorGroupService, editorService, menuService, keybindingService);\n\t}\n}\n\nexport interface IAuxiliaryTitlebarPart extends ITitlebarPart, IView {\n\treadonly container: HTMLElement;\n\treadonly height: number;\n}\n\nexport class AuxiliaryBrowserTitlebarPart extends BrowserTitlebarPart implements IAuxiliaryTitlebarPart {\n\n\tprivate static COUNTER = 1;\n\n\tget height() { return this.minimumHeight; }\n\n\tconstructor(\n\t\treadonly container: HTMLElement,\n\t\teditorGroupsContainer: IEditorGroupsContainer,\n\t\tprivate readonly mainTitlebar: BrowserTitlebarPart,\n\t\t@IContextMenuService contextMenuService: IContextMenuService,\n\t\t@IConfigurationService configurationService: IConfigurationService,\n\t\t@IBrowserWorkbenchEnvironmentService environmentService: IBrowserWorkbenchEnvironmentService,\n\t\t@IInstantiationService instantiationService: IInstantiationService,\n\t\t@IThemeService themeService: IThemeService,\n\t\t@IStorageService storageService: IStorageService,\n\t\t@IWorkbenchLayoutService layoutService: IWorkbenchLayoutService,\n\t\t@IContextKeyService contextKeyService: IContextKeyService,\n\t\t@IHostService hostService: IHostService,\n\t\t@IEditorGroupsService editorGroupService: IEditorGroupsService,\n\t\t@IEditorService editorService: IEditorService,\n\t\t@IMenuService menuService: IMenuService,\n\t\t@IKeybindingService keybindingService: IKeybindingService,\n\t) {\n\t\tconst id = AuxiliaryBrowserTitlebarPart.COUNTER++;\n\t\tsuper(`workbench.parts.auxiliaryTitle.${id}`, getWindow(container), editorGroupsContainer, contextMenuService, configurationService, environmentService, instantiationService, themeService, storageService, layoutService, contextKeyService, hostService, editorGroupService, editorService, menuService, keybindingService);\n\t}\n\n\toverride get preventZoom(): boolean {\n\n\t\t// Prevent zooming behavior if any of the following conditions are met:\n\t\t// 1. Shrinking below the window control size (zoom < 1)\n\t\t// 2. No custom items are present in the main title bar\n\t\t// The auxiliary title bar never contains any zoomable items itself,\n\t\t// but we want to match the behavior of the main title bar.\n\n\t\treturn getZoomFactor(getWindow(this.element)) < 1 || !this.mainTitlebar.hasZoomableElements;\n\t}\n}\n"],
  "mappings": ";;;;;;;;;;;;AAKA,OAAO;AACP,SAAS,UAAU,iBAAiB;AACpC,SAAS,kBAAkB,YAAY;AACvC,SAAS,qBAAqB;AAC9B,SAAS,wBAAwB,eAAe,oBAAoB;AACpE,SAAS,mBAAmB,kBAAkB,sBAAsB,eAAe,mBAAmB,mBAAmB,sCAAsC;AAC/J,SAAS,2BAA2B;AACpC,SAAS,0BAA0B;AACnC,SAAS,uBAAuB,iCAAiC;AACjE,SAAS,iBAAiB,mBAAmB;AAC7C,SAAS,2CAA2C;AACpD,SAAS,qBAAqB;AAC9B,SAAS,iBAAiB;AAC1B,SAAS,6BAA6B,6BAA6B,+BAA+B,+BAA+B,kBAAkB,4BAA4B;AAC/K,SAAS,aAAa,WAAW,SAAS,OAAO,UAAU,sBAAsB;AACjF,SAAS,aAAa;AACtB,SAAS,WAAW,aAAa,WAAW,QAAQ,GAAG,uBAAuB,SAAS,OAAO,WAAW,aAAa,YAAY,mBAAmB,qBAAqB;AAC1K,SAAS,4BAA4B;AACrC,SAAS,uBAAuB,wBAAwB;AACxD,SAAS,SAAS,aAAa;AAC/B,SAAS,iBAAiB,oBAAoB;AAC9C,SAAS,OAAO,yBAAyB,qBAAqB,gBAAgB,uBAAuB,sBAAsB;AAC3H,SAAS,sBAAsB,uCAAuC;AACtE,SAAS,SAAS,OAAO,cAAc,QAAQ,uBAAuB;AACtE,SAAS,0BAA0B;AACnC,SAAS,oBAAoB;AAC7B,SAAS,eAAe;AACxB,SAAS,uBAAuB;AAChC,SAAS,mBAAmB;AAC5B,SAAS,4BAA4B;AACrC,SAAS,kBAAkB;AAC3B,SAAS,wBAAwB;AACjC,SAAS,sBAAsB,0BAA0B;AACzD,SAAS,gCAAgC,yBAAyB,qCAAqC,0CAA0C;AACjJ,SAAS,qBAAqB;AAC9B,SAAS,wBAAwB,4BAA4B;AAC7D,SAAS,cAAc,eAAe;AACtC,SAAS,sBAAsB;AAC/B,SAAS,oBAAoB,iBAAiB,sBAAsB;AACpE,SAAS,uCAAuC;AAChD,SAAS,uBAAuB;AAChC,SAAS,kBAAkB;AAC3B,SAAS,0BAA0B;AACnC,SAAS,0BAA0B;AACnC,SAAS,yCAAyC;AAClD,SAAS,wBAAwB,+BAA+B,uBAAuB;AACvF,SAAS,YAAY,kBAAkB;AACvC,SAAS,+BAA+B,oCAAoC;AAC5E,SAAS,aAAa;AACtB,SAAS,kCAAkC;AAC3C,SAAS,kCAAkC;AAC3C,SAAS,sBAAsB;AAC/B,SAAS,wBAAwB;AA+B1B,IAAM,sBAAN,cAAkC,iBAA+D;AAAA,EAMvG,YAC2C,sBACzB,gBACF,cACd;AACD,UAAM,0BAA0B,cAAc,cAAc;AAJlB;AAM1C,SAAK,UAAU,KAAK,aAAa,KAAK,QAAQ,CAAC;AAE/C,SAAK,gBAAgB;AACrB,SAAK,oBAAoB;AAAA,EAC1B;AAAA,EAzGD,OAwFwG;AAAA;AAAA;AAAA,EAI9F,WAAW,KAAK,UAAU,KAAK,uBAAuB,CAAC;AAAA,EAetD,yBAA8C;AACvD,WAAO,KAAK,qBAAqB,eAAe,uBAAuB;AAAA,EACxE;AAAA,EAEQ,kBAAwB;AAG/B,UAAM,OAAO;AACb,SAAK,UAAU,gBAAgB,MAAM,sBAAsB,QAAQ;AAAA,MAnHrE,OAmHqE;AAAA;AAAA;AAAA,MAElE,cAAc;AACb,cAAM;AAAA,UACL,IAAI;AAAA,UACJ,OAAO,UAAU,iBAAiB,iBAAiB;AAAA,UACnD,UAAU,WAAW;AAAA,UACrB,IAAI;AAAA,QACL,CAAC;AAAA,MACF;AAAA,MAEA,MAAY;AACX,aAAK,kBAAkB,kBAAkB,CAAC,EAAE,MAAM;AAAA,MACnD;AAAA,IACD,CAAC,CAAC;AAAA,EACH;AAAA,EAEQ,sBAA4B;AACnC,SAAK,UAAU,iBAAiB,gBAAgB;AAAA,MAC/C,IAAI;AAAA,MACJ,SAAS,wBAAC,UAA4B,MAAc,eAAuB;AAC1E,aAAK,kBAAkB,CAAC,EAAE,MAAM,WAAW,CAAC,CAAC;AAAA,MAC9C,GAFS;AAAA,MAGT,UAAU;AAAA,QACT,aAAa;AAAA,QACb,MAAM;AAAA,UACL,EAAE,MAAM,QAAQ,QAAQ,EAAE,MAAM,SAAS,GAAG,aAAa,uCAAuC;AAAA,UAChG,EAAE,MAAM,cAAc,QAAQ,EAAE,MAAM,SAAS,GAAG,aAAa,uDAAuD;AAAA,QACvH;AAAA,MACD;AAAA,IACD,CAAC,CAAC;AAAA,EACH;AAAA;AAAA,EAIA,4BAA4B,WAAwB,uBAAuE;AAC1H,UAAM,wBAAwB,SAAS,cAAc,KAAK;AAC1D,0BAAsB,UAAU,IAAI,QAAQ,UAAU;AACtD,0BAAsB,aAAa,QAAQ,MAAM;AACjD,0BAAsB,MAAM,WAAW;AACvC,cAAU,aAAa,uBAAuB,UAAU,UAAU;AAElE,UAAM,cAAc,IAAI,gBAAgB;AAExC,UAAM,eAAe,KAAK,8BAA8B,uBAAuB,qBAAqB;AACpG,gBAAY,IAAI,KAAK,aAAa,YAAY,CAAC;AAE/C,gBAAY,IAAI,MAAM,gBAAgB,aAAa,aAAa,MAAM,sBAAsB,MAAM,SAAS,GAAG,aAAa,MAAM,IAAI,CAAC;AACtI,iBAAa,OAAO,qBAAqB;AAEzC,QAAI,KAAK,YAAY;AACpB,mBAAa,iBAAiB,KAAK,UAAU;AAAA,IAC9C;AAEA,QAAI,KAAK,UAAU,MAAM;AACxB,mBAAa,kBAAkB,MAAM,KAAK,KAAK,UAAU,OAAO,CAAC,CAAC;AAAA,IACnE;AAEA,UAAM,KAAK,aAAa,aAAa,EAAE,MAAM,YAAY,QAAQ,CAAC;AAElE,WAAO;AAAA,EACR;AAAA,EAEU,8BAA8B,WAAwB,uBAA6F;AAC5J,WAAO,KAAK,qBAAqB,eAAe,8BAA8B,WAAW,uBAAuB,KAAK,QAAQ;AAAA,EAC9H;AAAA;AAAA;AAAA,EAOS,4BAA4B,KAAK,SAAS;AAAA,EAE3C,aAA2C;AAAA,EAEnD,iBAAiB,YAAoC;AACpD,SAAK,aAAa;AAElB,eAAW,QAAQ,KAAK,OAAO;AAC9B,WAAK,iBAAiB,UAAU;AAAA,IACjC;AAAA,EACD;AAAA,EAEiB,YAAY,oBAAI,IAA4B;AAAA,EAE7D,kBAAkB,WAAmC;AACpD,UAAM,eAAiC,CAAC;AAExC,eAAW,YAAY,WAAW;AACjC,UAAI,CAAC,KAAK,UAAU,IAAI,SAAS,IAAI,GAAG;AACvC,aAAK,UAAU,IAAI,SAAS,MAAM,QAAQ;AAC1C,qBAAa,KAAK,QAAQ;AAAA,MAC3B;AAAA,IACD;AAEA,eAAW,QAAQ,KAAK,OAAO;AAC9B,WAAK,kBAAkB,YAAY;AAAA,IACpC;AAAA,EACD;AAAA;AAGD;AAjIa,sBAAN;AAAA,EAOJ;AAAA,EACA;AAAA,EACA;AAAA,GATU;AAmIN,IAAM,sBAAN,cAAkC,KAA8B;AAAA,EAqEtE,YACC,IACA,cACA,uBACsC,oBACI,sBACc,oBACd,sBAC3B,cACmB,gBACT,eACY,mBACN,aACQ,oBACvB,eACe,aACM,mBACpC;AACD,UAAM,IAAI,EAAE,UAAU,MAAM,GAAG,cAAc,gBAAgB,aAAa;AAdpC;AACI;AACc;AACd;AAER;AAEG;AACN;AACQ;AAER;AACM;AAIrC,SAAK,cAAc,0BAA0B;AAC7C,SAAK,gBAAgB,cAAc,aAAa,uBAAuB,KAAK,MAAM;AAClF,SAAK,wBAAwB,0BAA0B,SAAS,mBAAmB,WAAW;AAE9F,SAAK,cAAc,KAAK,UAAU,qBAAqB,eAAe,aAAa,cAAc,qBAAqB,CAAC;AAEvH,SAAK,gBAAgB,KAAK,UAAU,2BAA2B,CAAC;AAEhE,SAAK,kBAAkB,YAAY,YAAY,CAAC;AAAA,EACjD;AAAA,EA7TD,OA2NuE;AAAA;AAAA;AAAA;AAAA,EAI7D,eAAuB;AAAA,EACvB,eAAuB,OAAO;AAAA,EAEvC,IAAI,gBAAwB;AAC3B,UAAM,aAAa,SAAS,aAAa;AACzC,QAAI,QAAQ,KAAK,0BAA0B,aAAa,iCAAiC;AACzF,QAAI,YAAY;AACf,cAAQ,KAAK,IAAI,OAAO,uBAAuB,UAAU,KAAK,OAAO,CAAC,GAAG,UAAU,CAAC;AAAA,IACrF;AAEA,WAAO,SAAS,KAAK,cAAc,cAAc,UAAU,KAAK,OAAO,CAAC,IAAI;AAAA,EAC7E;AAAA,EAEA,IAAI,gBAAwB;AAAE,WAAO,KAAK;AAAA,EAAe;AAAA;AAAA;AAAA,EAMjD,6BAA6B,KAAK,UAAU,IAAI,QAAiB,CAAC;AAAA,EACjE,4BAA4B,KAAK,2BAA2B;AAAA,EAEpD,iBAAiB,KAAK,UAAU,IAAI,QAAc,CAAC;AAAA,EAC3D,gBAAgB,KAAK,eAAe;AAAA;AAAA,EAInC;AAAA,EACA;AAAA,EACA;AAAA,EACF;AAAA,EAEA;AAAA,EACA;AAAA,EACA;AAAA,EAEE;AAAA,EACA;AAAA,EACF;AAAA,EACE;AAAA,EACF;AAAA,EAEA;AAAA,EACS,0BAA0B,KAAK,UAAU,IAAI,gBAAgB,CAAC;AAAA,EAC9D,gCAAgC,KAAK,UAAU,IAAI,gBAAgB,CAAC;AAAA,EAC7E;AAAA,EAEA;AAAA,EACS,+BAA+B,KAAK,UAAU,IAAI,gBAAgB,CAAC;AAAA,EACnE,+BAA+B,KAAK,UAAU,IAAI,gBAAgB,CAAC;AAAA,EACnE,6BAA6B,KAAK,UAAU,IAAI,gBAAgB,CAAC;AAAA,EAEjE;AAAA,EAEA,mBAAmB,KAAK,UAAU,IAAI,gBAAgB,CAAC;AAAA,EAChE,gBAA+B,iBAAiB,KAAK,oBAAoB;AAAA,EAEzE,aAAsB;AAAA,EACb;AAAA,EAEA;AAAA,EAEA;AAAA,EACA;AAAA,EAiCT,kBAAkB,gBAA8B;AACvD,SAAK,UAAU,KAAK,YAAY,iBAAiB,aAAW,UAAU,KAAK,QAAQ,IAAI,KAAK,OAAO,CAAC,CAAC;AACrG,SAAK,UAAU,KAAK,YAAY,wBAAwB,cAAY,aAAa,iBAAiB,KAAK,QAAQ,IAAI,KAAK,OAAO,CAAC,CAAC;AACjI,SAAK,UAAU,KAAK,qBAAqB,yBAAyB,OAAK,KAAK,uBAAuB,CAAC,CAAC,CAAC;AACtG,SAAK,UAAU,KAAK,mBAAmB,6BAA6B,OAAK,KAAK,gCAAgC,CAAC,CAAC,CAAC;AAAA,EAClH;AAAA,EAEQ,SAAe;AACtB,SAAK,aAAa;AAElB,SAAK,aAAa;AAAA,EACnB;AAAA,EAEQ,UAAgB;AACvB,SAAK,aAAa;AAElB,SAAK,aAAa;AAAA,EACnB;AAAA,EAEQ,gCAAgC,EAAE,gBAAgB,eAAe,GAAwC;AAChH,QACC,eAAe,0BAA0B,eAAe,yBACxD,eAAe,aAAa,eAAe,UAC1C;AACD,UAAI,kBAAkB,KAAK,sBAAsB,KAAK,aAAa,KAAK,KAAK,eAAe;AAC3F,aAAK,oBAAoB;AACzB,aAAK,yBAAyB,EAAE,eAAe,KAAK,CAAC;AACrD,aAAK,aAAa,KAAK,MAAS;AAAA,MACjC;AAAA,IACD;AAAA,EACD;AAAA,EAEU,uBAAuB,OAAwC;AAGxE,QAAI,CAAC,KAAK,eAAe,CAAC,kBAAkB,KAAK,sBAAsB,KAAK,aAAa,MAAM,CAAC,eAAe,QAAQ;AACtH,UAAI,MAAM,qBAAqB,0BAA0B,GAAG;AAC3D,YAAI,KAAK,6BAA6B,WAAW;AAChD,eAAK,iBAAiB;AAAA,QACvB,OAAO;AACN,eAAK,eAAe;AAAA,QACrB;AAAA,MACD;AAAA,IACD;AAGA,QAAI,kBAAkB,KAAK,sBAAsB,KAAK,aAAa,KAAK,KAAK,eAAe;AAC3F,YAAM,uBAAuB,MAAM,qBAAqB,eAAe,cAAc;AACrF,YAAM,yBAAyB,MAAM,qBAAqB,eAAe,qBAAqB;AAE9F,UAAI,wBAAwB,wBAAwB;AACnD,aAAK,yBAAyB,EAAE,eAAe,sBAAsB,iBAAiB,uBAAuB,CAAC;AAE9G,aAAK,aAAa,KAAK,MAAS;AAAA,MACjC;AAAA,IACD;AAGA,QAAI,MAAM,qBAAqB,eAAe,cAAc,GAAG;AAC9D,WAAK,YAAY;AAEjB,WAAK,aAAa,KAAK,MAAS;AAAA,IACjC;AAAA,EACD;AAAA,EAEU,iBAAuB;AAChC,QAAI,KAAK,SAAS;AACjB;AAAA,IACD;AAEA,SAAK,gBAAgB,KAAK,UAAU,KAAK,qBAAqB,eAAe,oBAAoB,CAAC;AAElG,SAAK,UAAU,OAAO,KAAK,aAAa,EAAE,aAAa,CAAC;AACxD,SAAK,QAAQ,aAAa,QAAQ,SAAS;AAE3C,SAAK,UAAU,KAAK,cAAc,mBAAmB,OAAK,KAAK,2BAA2B,CAAC,CAAC,CAAC;AAE7F,SAAK,cAAc,OAAO,KAAK,OAAO;AAAA,EACvC;AAAA,EAEQ,mBAAyB;AAChC,SAAK,eAAe,QAAQ;AAC5B,SAAK,gBAAgB;AAErB,SAAK,SAAS,OAAO;AACrB,SAAK,UAAU;AAEf,SAAK,2BAA2B,KAAK;AAAA,EACtC;AAAA,EAEU,2BAA2B,SAAwB;AAC5D,QAAI,SAAS,aAAa,SAAS;AAClC,UAAI,KAAK,sBAAsB;AAC9B,aAAK,OAAO,KAAK,qBAAqB,OAAO,KAAK,qBAAqB,MAAM;AAAA,MAC9E;AAEA,WAAK,2BAA2B,KAAK,OAAO;AAAA,IAC7C;AAAA,EACD;AAAA,EAEA,iBAAiB,YAAoC;AACpD,SAAK,YAAY,iBAAiB,UAAU;AAAA,EAC7C;AAAA,EAEA,kBAAkB,WAAmC;AACpD,SAAK,YAAY,kBAAkB,SAAS;AAAA,EAC7C;AAAA,EAEmB,kBAAkB,QAAkC;AACtE,SAAK,UAAU;AACf,SAAK,gBAAgB,OAAO,QAAQ,EAAE,qBAAqB,CAAC;AAE5D,SAAK,cAAc,OAAO,KAAK,eAAe,EAAE,gBAAgB,CAAC;AACjE,SAAK,gBAAgB,OAAO,KAAK,eAAe,EAAE,kBAAkB,CAAC;AACrE,SAAK,eAAe,OAAO,KAAK,eAAe,EAAE,iBAAiB,CAAC;AAGnE,QAAI,CAAC,eAAe,CAAC,SAAS,CAAC,kBAAkB,KAAK,sBAAsB,KAAK,aAAa,GAAG;AAChG,WAAK,UAAU,QAAQ,KAAK,aAAa,EAAE,kBAAkB,CAAC;AAG9D,UAAI,CAAC,KAAK,eAAe,OAAO;AAC/B,cAAM,gBAAgB,KAAK,mBAAmB,SAAS;AACvD,YAAI,eAAe;AAClB,gBAAM,OAAkB,gBAAgB,EAAE,QAAQ,cAAc,IAAI,IAAI,EAAE,IAAI,cAAc,KAAK,IAAI,QAAQ;AAE7G,eAAK,QAAQ,aAAa,QAAQ,cAAc,IAAI;AACpD,eAAK,QAAQ,UAAU,IAAI,GAAG,UAAU,iBAAiB,IAAI,CAAC;AAC9D,eAAK,eAAe,SAAS,cAAc,KAAK;AAChD,eAAK,aAAa,UAAU,IAAI,qBAAqB;AACrD,eAAK,QAAQ,YAAY,KAAK,YAAY;AAAA,QAC3C;AAAA,MACD;AAAA,IACD;AAGA,SAAK,aAAa,QAAQ,KAAK,eAAe,EAAE,0BAA0B,CAAC;AAG3E,QACC,CAAC,KAAK,eACN,CAAC,kBAAkB,KAAK,sBAAsB,KAAK,aAAa,MAC/D,CAAC,eAAe,UACjB,KAAK,6BAA6B,WACjC;AACD,WAAK,eAAe;AAAA,IACrB;AAGA,SAAK,QAAQ,OAAO,KAAK,eAAe,EAAE,kBAAkB,CAAC;AAC7D,SAAK,YAAY;AAGjB,QAAI,kBAAkB,KAAK,sBAAsB,KAAK,aAAa,GAAG;AACrE,WAAK,uBAAuB,OAAO,KAAK,cAAc,EAAE,8BAA8B,CAAC;AACvF,WAAK,oBAAoB;AACzB,WAAK,yBAAyB;AAAA,IAC/B;AAGA,QAAI,CAAC,kBAAkB,KAAK,sBAAsB,KAAK,aAAa,GAAG;AACtE,UAAI,gCAAgC,cAAc,SAAS;AAC3D,UAAI,eAAe,UAAU;AAK5B,cAAM,aAAa,IAAI,KAAK,OAAO,cAAc;AACjD,YAAI,YAAY,UAAU,cAAc,OAAO;AAC9C,0CAAgC;AAAA,QACjC;AAAA,MACD;AAEA,UAAI,eAAe,YAAY,kCAAkC,QAAQ;AAAA,MAKzE,OAAO;AACN,aAAK,0BAA0B,OAAO,kCAAkC,SAAS,KAAK,cAAc,KAAK,cAAc,EAAE,+BAA+B,CAAC;AACzJ,YAAI,OAAO;AAGV,iBAAO,kCAAkC,SAAS,KAAK,eAAe,KAAK,aAAa,EAAE,+BAA+B,CAAC;AAAA,QAC3H;AAEA,YAAI,aAAa,GAAG;AACnB,eAAK,wBAAwB,UAAU,IAAI,aAAa;AAAA,QACzD;AAAA,MACD;AAAA,IACD;AAOA;AACC,WAAK,UAAU,sBAAsB,KAAK,eAAe,UAAU,cAAc,OAAK;AACrF,oBAAY,KAAK,CAAC;AAElB,YAAI;AACJ,YAAI,eAAe,cAAc,EAAE,MAAM,KAAK,WAAW,EAAE,QAAQ,KAAK,KAAK,GAAG;AAC/E,uBAAa,OAAO;AAAA,QACrB,OAAO;AACN,uBAAa,OAAO;AAAA,QACrB;AAEA,aAAK,cAAc,GAAG,UAAU;AAAA,MACjC,CAAC,CAAC;AAEF,UAAI,aAAa;AAChB,aAAK,UAAU;AAAA,UAAsB,KAAK;AAAA,UAAO,UAAU;AAAA,UAAY,OAAK;AAC3E,gBAAI,EAAE,SAAS;AACd,0BAAY;AAAA,gBAAK;AAAA,gBAAG;AAAA;AAAA,cAA+D;AAEnF,mBAAK,cAAc,GAAG,OAAO,oBAAoB;AAAA,YAClD;AAAA,UACD;AAAA,UAAG;AAAA;AAAA,QAA+D,CAAC;AAAA,MACpE;AAAA,IACD;AAEA,SAAK,aAAa;AAElB,WAAO,KAAK;AAAA,EACb;AAAA,EAEQ,cAAoB;AAC3B,SAAK,iBAAiB,MAAM;AAG5B,QAAI,CAAC,KAAK,wBAAwB;AACjC,WAAK,MAAM,YAAY,KAAK,YAAY;AACxC,WAAK,iBAAiB,IAAI,KAAK,YAAY,YAAY,MAAM;AAC5D,aAAK,MAAM,YAAY,KAAK,YAAY;AAAA,MACzC,CAAC,CAAC;AAAA,IACH,OAGK;AACJ,YAAM,gBAAgB,KAAK,qBAAqB,eAAe,sBAAsB,KAAK,aAAa,KAAK,aAAa;AACzH,YAAM,KAAK,OAAO,cAAc,OAAO;AACvC,WAAK,iBAAiB,IAAI,aAAa;AAAA,IACxC;AAAA,EACD;AAAA,EAEQ,uBAAuB,QAAiB,SAAkE;AAGjH,QAAI,CAAC,KAAK,aAAa;AACtB,UAAI,OAAO,OAAO,oBAAoB;AACrC,eAAO,KAAK,qBAAqB,eAAe,oCAAoC,EAAE,UAAU,6BAAM,cAAc,OAApB,YAA0B,GAAG,OAAO;AAAA,MACrI;AACA,UAAI,OAAO,OAAO,sBAAsB;AACvC,eAAO,KAAK,qBAAqB,eAAe,qCAAqC,EAAE,UAAU,6BAAM,cAAc,OAApB,YAA0B,GAAG,OAAO;AAAA,MACtI;AAAA,IACD;AAGA,UAAM,mBAAmB,KAAK,sBAAsB,aAAa;AACjE,QAAI,oBAAoB,4BAA4B,YAAY;AAC/D,YAAM,SAAS,iBAAiB,kBAAkB,QAAQ,OAAO;AAEjE,UAAI,QAAQ;AACX,eAAO;AAAA,MACR;AAAA,IACD;AAGA,WAAO,qBAAqB,KAAK,sBAAsB,QAAQ,EAAE,GAAG,SAAS,aAAa,MAAM,CAAC;AAAA,EAClG;AAAA,EAEQ,cAAc,QAAiD;AACtE,UAAM,mCAAmC,KAAK,sBAAsB,aAAa,kBAAkB,2BAA2B,KAAK;AAEnI,WAAO,KAAK,kBAAkB,iBAAiB,OAAO,IAAI,gCAAgC;AAAA,EAC3F;AAAA,EAEQ,sBAAsB;AAK7B,SAAK,wBAAwB,MAAM;AAEnC,SAAK,gBAAgB,KAAK,wBAAwB,IAAI,KAAK,qBAAqB,eAAe,kBAAkB,KAAK,sBAAsB;AAAA,MAC3I,aAAa,OAAO;AAAA,MACpB,aAAa,mBAAmB;AAAA,MAChC,WAAW,SAAS,yBAAyB,eAAe;AAAA,MAC5D,eAAe,mCAAU,KAAK,cAAc,MAAM,GAAnC;AAAA,MACf,kBAAkB,EAAE,UAAU,GAAG,UAAU,CAAC,sBAAsB,oBAAoB,GAAG,+BAA+B,EAAE;AAAA,MAC1H,yBAAyB,6BAAM,gBAAgB,OAAtB;AAAA,MACzB,iBAAiB;AAAA,MACjB,uBAAuB,KAAK;AAAA;AAAA,MAC5B,wBAAwB,wBAAC,QAAQ,YAAY,KAAK,uBAAuB,QAAQ,OAAO,GAAhE;AAAA,MACxB,eAAe,KAAK;AAAA,IACrB,CAAC,CAAC;AAEF,QAAI,KAAK,sBAAsB;AAC9B,WAAK,wBAAwB,IAAI,KAAK,sBAAsB,uBAAuB,MAAM,KAAK,yBAAyB,EAAE,eAAe,KAAK,CAAC,CAAC,CAAC;AAAA,IACjJ;AAAA,EACD;AAAA,EAEQ,yBAAyB,SAAiG,MAAM;AACvI,QAAI,WAAW,MAAM;AACpB,eAAS,EAAE,eAAe,MAAM,eAAe,MAAM,iBAAiB,KAAK;AAAA,IAC5E;AAEA,UAAM,uBAAuB,6BAAM;AAClC,YAAM,UAA2B,EAAE,SAAS,CAAC,GAAG,WAAW,CAAC,EAAE;AAG9D,UAAI,KAAK,sBAAsB;AAC9B,aAAK,8BAA8B,MAAM;AAEzC,cAAM,cAAc,KAAK,sBAAsB;AAC/C,YAAI,aAAa;AAChB,gBAAM,gBAAgB,YAAY,oBAAoB,KAAK,6BAA6B;AAExF,kBAAQ,QAAQ,KAAK,GAAG,cAAc,QAAQ,OAAO;AACrD,kBAAQ,UAAU,KAAK,GAAG,cAAc,QAAQ,SAAS;AAEzD,eAAK,8BAA8B,IAAI,cAAc,YAAY,MAAM,qBAAqB,CAAC,CAAC;AAAA,QAC/F;AAAA,MACD;AAGA,UAAI,KAAK,mBAAmB;AAC3B;AAAA,UACC,KAAK;AAAA,UACL,CAAC;AAAA,UACD;AAAA,UACA,MAAM,CAAC,KAAK;AAAA;AAAA,QACb;AAAA,MACD;AAGA,UAAI,KAAK,wBAAwB;AAChC,YAAI,wBAAwB,KAAK,cAAc,GAAG;AACjD,kBAAQ,QAAQ,KAAK,6BAA6B;AAAA,QACnD;AACA,gBAAQ,QAAQ,KAAK,4BAA4B;AAAA,MAClD;AAEA,WAAK,cAAc,WAAW,eAAe,QAAQ,OAAO,GAAG,eAAe,QAAQ,SAAS,CAAC;AAAA,IACjG,GArC6B;AAyC7B,QAAI,OAAO,eAAe;AACzB,WAAK,6BAA6B,MAAM;AAIxC,UAAI,KAAK,wBAAwB,KAAK,cAAc,iBAAiB,QAAW;AAC/E,cAAM,UAAkC,EAAE,SAAS,KAAK,sBAAsB,YAAY,GAAG;AAE7F,aAAK,cAAc,eAAe,IAAI,kCAAkC,OAAO;AAC/E,aAAK,cAAc,UAAU;AAC7B,aAAK,6BAA6B,IAAI,KAAK,cAAc,YAAY;AAAA,MACtE,OAAO;AACN,aAAK,cAAc,eAAe,IAAI,aAAa;AACnD,aAAK,cAAc,UAAU;AAE7B,aAAK,6BAA6B,IAAI,KAAK,cAAc,YAAY;AAAA,MACtE;AAAA,IACD;AAEA,QAAI,OAAO,eAAe;AACzB,WAAK,6BAA6B,MAAM;AAExC,UAAI,KAAK,sBAAsB;AAC9B,aAAK,oBAAoB,KAAK,YAAY,WAAW,OAAO,mBAAmB,KAAK,iBAAiB;AAErG,aAAK,6BAA6B,IAAI,KAAK,iBAAiB;AAC5D,aAAK,6BAA6B,IAAI,KAAK,kBAAkB,YAAY,MAAM,qBAAqB,CAAC,CAAC;AAAA,MACvG,OAAO;AACN,aAAK,oBAAoB;AAAA,MAC1B;AAAA,IACD;AAEA,QAAI,OAAO,iBAAiB;AAC3B,WAAK,2BAA2B,MAAM;AACtC,UAAI,KAAK,wBAAwB;AAChC,aAAK,2BAA2B,IAAI,KAAK,eAAe,iBAAiB,aAAa,SAAS,+BAA+B,oCAAoC,KAAK,MAAM,EAAE,MAAM,qBAAqB,CAAC,CAAC;AAAA,MAC7M;AAAA,IACD;AAEA,yBAAqB;AAAA,EACtB;AAAA,EAES,eAAqB;AAC7B,UAAM,aAAa;AAGnB,QAAI,KAAK,SAAS;AACjB,UAAI,KAAK,YAAY;AACpB,aAAK,QAAQ,UAAU,IAAI,UAAU;AAAA,MACtC,OAAO;AACN,aAAK,QAAQ,UAAU,OAAO,UAAU;AAAA,MACzC;AAEA,YAAM,kBAAkB,KAAK,SAAS,KAAK,aAAa,gCAAgC,6BAA6B,CAAC,OAAO,UAAU;AAKtI,eAAO,MAAM,SAAS,IAAI,QAAQ,MAAM,WAAW,qBAAqB,KAAK,CAAC;AAAA,MAC/E,CAAC,KAAK;AACN,WAAK,QAAQ,MAAM,kBAAkB;AAErC,UAAI,KAAK,cAAc;AACtB,aAAK,aAAa,MAAM,kBAAkB;AAAA,MAC3C;AAEA,UAAI,mBAAmB,MAAM,QAAQ,eAAe,EAAE,UAAU,GAAG;AAClE,aAAK,QAAQ,UAAU,IAAI,OAAO;AAAA,MACnC,OAAO;AACN,aAAK,QAAQ,UAAU,OAAO,OAAO;AAAA,MACtC;AAEA,YAAM,kBAAkB,KAAK,SAAS,KAAK,aAAa,gCAAgC,2BAA2B;AACnH,WAAK,QAAQ,MAAM,QAAQ,mBAAmB;AAE9C,YAAM,cAAc,KAAK,SAAS,gBAAgB;AAClD,WAAK,QAAQ,MAAM,eAAe,cAAc,aAAa,WAAW,KAAK;AAAA,IAC9E;AAAA,EACD;AAAA,EAEU,cAAc,GAAe,QAAsB;AAC5D,UAAM,QAAQ,IAAI,mBAAmB,UAAU,KAAK,OAAO,GAAG,CAAC;AAG/D,SAAK,mBAAmB,gBAAgB;AAAA,MACvC,WAAW,6BAAM,OAAN;AAAA,MACX;AAAA,MACA,mBAAmB,KAAK;AAAA,MACxB,kBAAkB,eAAe,WAAW,MAAM,SAAS;AAAA,IAC5D,CAAC;AAAA,EACF;AAAA,EAEA,IAAc,2BAA8C;AAC3D,QAAI,KAAK,aAAa;AACrB,aAAO;AAAA,IACR;AAEA,WAAO,qBAAqB,KAAK,oBAAoB;AAAA,EACtD;AAAA,EAEA,IAAY,uBAAgC;AAC3C,WAAO,CAAC,KAAK,eAAe,KAAK,qBAAqB,SAAkB,eAAe,cAAc,MAAM;AAAA,EAC5G;AAAA,EAEA,IAAc,yBAAyB;AACtC,WAAO,KAAK,qBAAqB,SAAkB,eAAe,cAAc,MAAM;AAAA,EACvF;AAAA,EAEA,IAAY,uBAAgC;AAC3C,WAAO,KAAK,mBAAmB,YAAY,0BAA0B,sBAAsB,YAEzF,KAAK,mBAAmB,YAAY,0BAA0B,sBAAsB,WACpF,KAAK,mBAAmB,YAAY,aAAa,eAAe;AAAA,EAEnE;AAAA,EAEA,IAAY,yBAAkC;AAC7C,UAAM,sBAAsB,KAAK,qBAAqB,SAA8B,eAAe,qBAAqB;AACxH,WAAO,CAAC,KAAK,gBAAgB,wBAAwB,oBAAoB,OAAO,wBAAwB,oBAAoB;AAAA,EAC7H;AAAA,EAEA,IAAI,sBAA+B;AAClC,UAAM,aAAa,EAAE,KAAK,6BAA6B,YAAY,KAAK,6BAA6B,aAAc,CAAC,SAAS;AAC7H,UAAM,mBAAmB,KAAK;AAC9B,UAAM,oBAAoB,KAAK,wBAAwB,KAAK,wBAAwB,KAAK;AACzF,WAAO,cAAc,oBAAoB;AAAA,EAC1C;AAAA,EAEA,IAAI,cAAuB;AAK1B,WAAO,cAAc,UAAU,KAAK,OAAO,CAAC,IAAI,KAAK,CAAC,KAAK;AAAA,EAC5D;AAAA,EAES,OAAO,OAAe,QAAsB;AACpD,SAAK,aAAa,IAAI,UAAU,OAAO,MAAM,CAAC;AAE9C,UAAM,eAAe,OAAO,MAAM;AAAA,EACnC;AAAA,EAEQ,aAAa,WAA4B;AAChD,SAAK,uBAAuB;AAE5B,QAAI,kBAAkB,KAAK,sBAAsB,KAAK,aAAa,GAAG;AACrE,YAAM,aAAa,cAAc,UAAU,KAAK,OAAO,CAAC;AAExD,WAAK,QAAQ,MAAM,YAAY,iBAAiB,WAAW,SAAS,CAAC;AACrE,WAAK,cAAc,UAAU,OAAO,gBAAgB,KAAK,WAAW;AAEpE,UAAI,KAAK,eAAe;AACvB,cAAM,mBAAmB,IAAI,UAAU,GAAG,UAAU,MAAM;AAC1D,aAAK,cAAc,OAAO,gBAAgB;AAAA,MAC3C;AAAA,IACD;AAAA,EACD;AAAA,EAEA,QAAc;AACb,QAAI,KAAK,eAAe;AACvB,WAAK,cAAc,YAAY;AAAA,IAChC,OAAO;AACN,MAAC,KAAK,QAAQ,cAAc,iCAAiC,EAAkB,MAAM;AAAA,IACtF;AAAA,EACD;AAAA,EAEA,SAAiB;AAChB,WAAO;AAAA,MACN,MAAM,MAAM;AAAA,IACb;AAAA,EACD;AAAA,EAES,UAAgB;AACxB,SAAK,eAAe,KAAK;AAEzB,UAAM,QAAQ;AAAA,EACf;AACD;AAlnBa,sBAAN;AAAA,EAyEJ;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,GArFU;AAonBN,IAAM,0BAAN,cAAsC,oBAAoB;AAAA,EA/0BjE,OA+0BiE;AAAA;AAAA;AAAA,EAEhE,YACsB,oBACE,sBACc,oBACd,sBACR,cACE,gBACQ,eACL,mBACN,aACQ,oBACN,eACF,aACM,mBACnB;AACD,UAAM,MAAM,eAAe,YAAY,QAAQ,oBAAoB,sBAAsB,oBAAoB,sBAAsB,cAAc,gBAAgB,eAAe,mBAAmB,aAAa,oBAAoB,eAAe,aAAa,iBAAiB;AAAA,EAClR;AACD;AAnBa,0BAAN;AAAA,EAGJ;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,GAfU;AA0BN,IAAM,+BAAN,cAA2C,oBAAsD;AAAA,EAMvG,YACU,WACT,uBACiB,cACI,oBACE,sBACc,oBACd,sBACR,cACE,gBACQ,eACL,mBACN,aACQ,oBACN,eACF,aACM,mBACnB;AACD,UAAM,KAAK,6BAA6B;AACxC,UAAM,kCAAkC,EAAE,IAAI,UAAU,SAAS,GAAG,uBAAuB,oBAAoB,sBAAsB,oBAAoB,sBAAsB,cAAc,gBAAgB,eAAe,mBAAmB,aAAa,oBAAoB,eAAe,aAAa,iBAAiB;AAlBpT;AAEQ;AAAA,EAiBlB;AAAA,EAn4BD,OAy2BwG;AAAA;AAAA;AAAA,EAEvG,OAAe,UAAU;AAAA,EAEzB,IAAI,SAAS;AAAE,WAAO,KAAK;AAAA,EAAe;AAAA,EAwB1C,IAAa,cAAuB;AAQnC,WAAO,cAAc,UAAU,KAAK,OAAO,CAAC,IAAI,KAAK,CAAC,KAAK,aAAa;AAAA,EACzE;AACD;AAtCa,+BAAN;AAAA,EAUJ;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,GAtBU;",
  "names": []
}
