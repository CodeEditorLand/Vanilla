var m=Object.defineProperty;var h=Object.getOwnPropertyDescriptor;var f=(o,t,e,i)=>{for(var r=i>1?void 0:i?h(t,e):t,n=o.length-1,c;n>=0;n--)(c=o[n])&&(r=(i?c(t,e,r):c(r))||r);return i&&r&&m(t,e,r),r},a=(o,t)=>(e,i)=>t(e,i,o);import{hash as l}from"../../../../../vs/base/common/hash.js";import{Disposable as g}from"../../../../../vs/base/common/lifecycle.js";import{INotificationService as d,NotificationPriority as u}from"../../../../../vs/platform/notification/common/notification.js";import{ITelemetryService as y}from"../../../../../vs/platform/telemetry/common/telemetry.js";import"../../../../../vs/workbench/common/contributions.js";function p(o,t,e){return{id:l(o.toString()).toString(),silent:e,source:t||"core"}}let s=class extends g{constructor(e,i){super();this.telemetryService=e;this.notificationService=i;this.registerListeners()}registerListeners(){this._register(this.notificationService.onDidAddNotification(e=>{const i=e.source&&typeof e.source!="string"?e.source.id:e.source;this.telemetryService.publicLog2("notification:show",p(e.message,i,e.priority===u.SILENT))})),this._register(this.notificationService.onDidRemoveNotification(e=>{const i=e.source&&typeof e.source!="string"?e.source.id:e.source;this.telemetryService.publicLog2("notification:close",p(e.message,i,e.priority===u.SILENT))}))}};s=f([a(0,y),a(1,d)],s);export{s as NotificationsTelemetry,p as notificationToMetrics};
