var B=Object.defineProperty;var N=Object.getOwnPropertyDescriptor;var v=(c,a,e,o)=>{for(var t=o>1?void 0:o?N(a,e):a,n=c.length-1,r;n>=0;n--)(r=c[n])&&(t=(o?r(a,e,t):r(t))||t);return o&&t&&B(a,e,t),t},i=(c,a)=>(e,o)=>a(e,o,c);import"vs/css!./media/panelpart";import{Dimension as l}from"../../../../../vs/base/browser/dom.js";import{ActionsOrientation as x}from"../../../../../vs/base/browser/ui/actionbar/actionbar.js";import{HoverPosition as g}from"../../../../../vs/base/browser/ui/hover/hoverWidget.js";import{Separator as k,SubmenuAction as C,toAction as D}from"../../../../../vs/base/common/actions.js";import{assertIsDefined as M}from"../../../../../vs/base/common/types.js";import{localize as p}from"../../../../../vs/nls.js";import{createAndFillInContextMenuActions as I}from"../../../../../vs/platform/actions/browser/menuEntryActionViewItem.js";import{IMenuService as R,MenuId as S}from"../../../../../vs/platform/actions/common/actions.js";import{ICommandService as _}from"../../../../../vs/platform/commands/common/commands.js";import{IContextKeyService as L}from"../../../../../vs/platform/contextkey/common/contextkey.js";import{IContextMenuService as F}from"../../../../../vs/platform/contextview/browser/contextView.js";import{IHoverService as H}from"../../../../../vs/platform/hover/browser/hover.js";import{IInstantiationService as K}from"../../../../../vs/platform/instantiation/common/instantiation.js";import{IKeybindingService as V}from"../../../../../vs/platform/keybinding/common/keybinding.js";import{INotificationService as W}from"../../../../../vs/platform/notification/common/notification.js";import{IStorageService as z}from"../../../../../vs/platform/storage/common/storage.js";import{badgeBackground as G,badgeForeground as U,contrastBorder as A}from"../../../../../vs/platform/theme/common/colorRegistry.js";import{IThemeService as Y}from"../../../../../vs/platform/theme/common/themeService.js";import"../../../../../vs/workbench/browser/parts/paneCompositeBar.js";import{AbstractPaneCompositePart as j,CompositeBarPosition as J}from"../../../../../vs/workbench/browser/parts/paneCompositePart.js";import{TogglePanelAction as f}from"../../../../../vs/workbench/browser/parts/panel/panelActions.js";import{ActivePanelContext as Z,PanelFocusContext as q}from"../../../../../vs/workbench/common/contextkeys.js";import{PANEL_ACTIVE_TITLE_BORDER as Q,PANEL_ACTIVE_TITLE_FOREGROUND as X,PANEL_BACKGROUND as u,PANEL_BORDER as b,PANEL_DRAG_AND_DROP_BORDER as $,PANEL_INACTIVE_TITLE_FOREGROUND as ee}from"../../../../../vs/workbench/common/theme.js";import{IViewDescriptorService as oe}from"../../../../../vs/workbench/common/views.js";import{IExtensionService as te}from"../../../../../vs/workbench/services/extensions/common/extensions.js";import{IWorkbenchLayoutService as re,Parts as h,Position as d}from"../../../../../vs/workbench/services/layout/browser/layoutService.js";let s=class extends j{constructor(e,o,t,n,r,P,y,T,E,m,O,ie,w){super(h.PANEL_PART,{hasTitle:!0},s.activePanelSettingsKey,Z.bindTo(m),q.bindTo(m),"panel","panel",void 0,e,o,t,n,r,P,y,T,E,m,O,w);this.commandService=ie}minimumWidth=300;maximumWidth=Number.POSITIVE_INFINITY;minimumHeight=77;maximumHeight=Number.POSITIVE_INFINITY;get preferredHeight(){return this.layoutService.mainContainerDimension.height*.4}get preferredWidth(){const e=this.getActivePaneComposite();if(!e)return;const o=e.getOptimalWidth();if(typeof o=="number")return Math.max(o,300)}static activePanelSettingsKey="workbench.panelpart.activepanelid";updateStyles(){super.updateStyles();const e=M(this.getContainer());e.style.backgroundColor=this.getColor(u)||"";const o=this.getColor(b)||this.getColor(A)||"";e.style.borderLeftColor=o,e.style.borderRightColor=o,e.style.borderBottomColor=o;const t=this.getTitleArea();t&&(t.style.borderTopColor=this.getColor(b)||this.getColor(A)||"")}getCompositeBarOptions(){return{partContainerClass:"panel",pinnedViewContainersKey:"workbench.panel.pinnedPanels",placeholderViewContainersKey:"workbench.panel.placeholderPanels",viewContainersWorkspaceStateKey:"workbench.panel.viewContainersWorkspaceState",icon:!1,orientation:x.HORIZONTAL,recomputeSizes:!0,activityHoverOptions:{position:()=>this.layoutService.getPanelPosition()===d.BOTTOM&&!this.layoutService.isPanelMaximized()?g.ABOVE:g.BELOW},fillExtraContextMenuActions:e=>this.fillExtraContextMenuActions(e),compositeSize:0,iconSize:16,overflowActionSize:44,colors:e=>({activeBackgroundColor:e.getColor(u),inactiveBackgroundColor:e.getColor(u),activeBorderBottomColor:e.getColor(Q),activeForegroundColor:e.getColor(X),inactiveForegroundColor:e.getColor(ee),badgeBackground:e.getColor(G),badgeForeground:e.getColor(U),dragAndDropBorder:e.getColor($)})}}fillExtraContextMenuActions(e){const o=this.menuService.getMenuActions(S.PanelPositionMenu,this.contextKeyService,{shouldForwardArgs:!0}),t=this.menuService.getMenuActions(S.PanelAlignmentMenu,this.contextKeyService,{shouldForwardArgs:!0}),n=[],r=[];I(o,{primary:[],secondary:n}),I(t,{primary:[],secondary:r}),e.push(new k,new C("workbench.action.panel.position",p("panel position","Panel Position"),n),new C("workbench.action.panel.align",p("align panel","Align Panel"),r),D({id:f.ID,label:p("hidePanel","Hide Panel"),run:()=>this.commandService.executeCommand(f.ID)}))}layout(e,o,t,n){let r;switch(this.layoutService.getPanelPosition()){case d.RIGHT:r=new l(e-1,o);break;case d.TOP:r=new l(e,o-1);break;default:r=new l(e,o);break}super.layout(r.width,r.height,t,n)}shouldShowCompositeBar(){return!0}getCompositeBarPosition(){return J.TITLE}toJSON(){return{type:h.PANEL_PART}}};s=v([i(0,W),i(1,z),i(2,F),i(3,re),i(4,V),i(5,H),i(6,K),i(7,Y),i(8,oe),i(9,L),i(10,te),i(11,_),i(12,R)],s);export{s as PanelPart};
