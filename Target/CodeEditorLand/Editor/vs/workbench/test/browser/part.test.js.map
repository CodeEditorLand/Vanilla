{
  "version": 3,
  "sources": ["../../../../../../../Dependency/CodeEditorLand/Editor/Source/vs/workbench/test/browser/part.test.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { Part } from '../../browser/part.js';\nimport { isEmptyObject } from '../../../base/common/types.js';\nimport { TestThemeService } from '../../../platform/theme/test/common/testThemeService.js';\nimport { append, $, hide } from '../../../base/browser/dom.js';\nimport { TestLayoutService } from './workbenchTestServices.js';\nimport { StorageScope, StorageTarget } from '../../../platform/storage/common/storage.js';\nimport { TestStorageService } from '../common/workbenchTestServices.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../base/test/common/utils.js';\nimport { DisposableStore } from '../../../base/common/lifecycle.js';\nimport { mainWindow } from '../../../base/browser/window.js';\n\nsuite('Workbench parts', () => {\n\n\tconst disposables = new DisposableStore();\n\n\tclass SimplePart extends Part {\n\n\t\tminimumWidth: number = 50;\n\t\tmaximumWidth: number = 50;\n\t\tminimumHeight: number = 50;\n\t\tmaximumHeight: number = 50;\n\n\t\toverride layout(width: number, height: number): void {\n\t\t\tthrow new Error('Method not implemented.');\n\t\t}\n\n\t\ttoJSON(): object {\n\t\t\tthrow new Error('Method not implemented.');\n\t\t}\n\t}\n\n\tclass MyPart extends SimplePart {\n\n\t\tconstructor(private expectedParent: HTMLElement) {\n\t\t\tsuper('myPart', { hasTitle: true }, new TestThemeService(), disposables.add(new TestStorageService()), new TestLayoutService());\n\t\t}\n\n\t\tprotected override createTitleArea(parent: HTMLElement): HTMLElement {\n\t\t\tassert.strictEqual(parent, this.expectedParent);\n\t\t\treturn super.createTitleArea(parent)!;\n\t\t}\n\n\t\tprotected override createContentArea(parent: HTMLElement): HTMLElement {\n\t\t\tassert.strictEqual(parent, this.expectedParent);\n\t\t\treturn super.createContentArea(parent)!;\n\t\t}\n\n\t\ttestGetMemento(scope: StorageScope, target: StorageTarget) {\n\t\t\treturn super.getMemento(scope, target);\n\t\t}\n\n\t\ttestSaveState(): void {\n\t\t\treturn super.saveState();\n\t\t}\n\t}\n\n\tclass MyPart2 extends SimplePart {\n\n\t\tconstructor() {\n\t\t\tsuper('myPart2', { hasTitle: true }, new TestThemeService(), disposables.add(new TestStorageService()), new TestLayoutService());\n\t\t}\n\n\t\tprotected override createTitleArea(parent: HTMLElement): HTMLElement {\n\t\t\tconst titleContainer = append(parent, $('div'));\n\t\t\tconst titleLabel = append(titleContainer, $('span'));\n\t\t\ttitleLabel.id = 'myPart.title';\n\t\t\ttitleLabel.innerText = 'Title';\n\n\t\t\treturn titleContainer;\n\t\t}\n\n\t\tprotected override createContentArea(parent: HTMLElement): HTMLElement {\n\t\t\tconst contentContainer = append(parent, $('div'));\n\t\t\tconst contentSpan = append(contentContainer, $('span'));\n\t\t\tcontentSpan.id = 'myPart.content';\n\t\t\tcontentSpan.innerText = 'Content';\n\n\t\t\treturn contentContainer;\n\t\t}\n\t}\n\n\tclass MyPart3 extends SimplePart {\n\n\t\tconstructor() {\n\t\t\tsuper('myPart2', { hasTitle: false }, new TestThemeService(), disposables.add(new TestStorageService()), new TestLayoutService());\n\t\t}\n\n\t\tprotected override createTitleArea(parent: HTMLElement): HTMLElement {\n\t\t\treturn null!;\n\t\t}\n\n\t\tprotected override createContentArea(parent: HTMLElement): HTMLElement {\n\t\t\tconst contentContainer = append(parent, $('div'));\n\t\t\tconst contentSpan = append(contentContainer, $('span'));\n\t\t\tcontentSpan.id = 'myPart.content';\n\t\t\tcontentSpan.innerText = 'Content';\n\n\t\t\treturn contentContainer;\n\t\t}\n\t}\n\n\tlet fixture: HTMLElement;\n\tconst fixtureId = 'workbench-part-fixture';\n\n\tsetup(() => {\n\t\tfixture = document.createElement('div');\n\t\tfixture.id = fixtureId;\n\t\tmainWindow.document.body.appendChild(fixture);\n\t});\n\n\tteardown(() => {\n\t\tfixture.remove();\n\t\tdisposables.clear();\n\t});\n\n\ttest('Creation', () => {\n\t\tconst b = document.createElement('div');\n\t\tmainWindow.document.getElementById(fixtureId)!.appendChild(b);\n\t\thide(b);\n\n\t\tlet part = disposables.add(new MyPart(b));\n\t\tpart.create(b);\n\n\t\tassert.strictEqual(part.getId(), 'myPart');\n\n\t\t// Memento\n\t\tlet memento = part.testGetMemento(StorageScope.PROFILE, StorageTarget.MACHINE) as any;\n\t\tassert(memento);\n\t\tmemento.foo = 'bar';\n\t\tmemento.bar = [1, 2, 3];\n\n\t\tpart.testSaveState();\n\n\t\t// Re-Create to assert memento contents\n\t\tpart = disposables.add(new MyPart(b));\n\n\t\tmemento = part.testGetMemento(StorageScope.PROFILE, StorageTarget.MACHINE);\n\t\tassert(memento);\n\t\tassert.strictEqual(memento.foo, 'bar');\n\t\tassert.strictEqual(memento.bar.length, 3);\n\n\t\t// Empty Memento stores empty object\n\t\tdelete memento.foo;\n\t\tdelete memento.bar;\n\n\t\tpart.testSaveState();\n\t\tpart = disposables.add(new MyPart(b));\n\t\tmemento = part.testGetMemento(StorageScope.PROFILE, StorageTarget.MACHINE);\n\t\tassert(memento);\n\t\tassert.strictEqual(isEmptyObject(memento), true);\n\t});\n\n\ttest('Part Layout with Title and Content', function () {\n\t\tconst b = document.createElement('div');\n\t\tmainWindow.document.getElementById(fixtureId)!.appendChild(b);\n\t\thide(b);\n\n\t\tconst part = disposables.add(new MyPart2());\n\t\tpart.create(b);\n\n\t\tassert(mainWindow.document.getElementById('myPart.title'));\n\t\tassert(mainWindow.document.getElementById('myPart.content'));\n\t});\n\n\ttest('Part Layout with Content only', function () {\n\t\tconst b = document.createElement('div');\n\t\tmainWindow.document.getElementById(fixtureId)!.appendChild(b);\n\t\thide(b);\n\n\t\tconst part = disposables.add(new MyPart3());\n\t\tpart.create(b);\n\n\t\tassert(!mainWindow.document.getElementById('myPart.title'));\n\t\tassert(mainWindow.document.getElementById('myPart.content'));\n\t});\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n});\n"],
  "mappings": "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",
  "names": []
}
